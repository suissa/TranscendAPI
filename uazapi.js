const a0_0x28e68b=a0_0x4842;(function(_0x48b17a,_0x3b668d){const _0x4ad4f3=a0_0x4842,_0xbea8c=_0x48b17a();while(!![]){try{const _0x34fd6c=parseInt(_0x4ad4f3(0x343))/0x1+-parseInt(_0x4ad4f3(0x504))/0x2*(parseInt(_0x4ad4f3(0x26f))/0x3)+-parseInt(_0x4ad4f3(0x2eb))/0x4*(-parseInt(_0x4ad4f3(0x21b))/0x5)+parseInt(_0x4ad4f3(0x145))/0x6+parseInt(_0x4ad4f3(0x3ef))/0x7*(parseInt(_0x4ad4f3(0x344))/0x8)+-parseInt(_0x4ad4f3(0x5c1))/0x9*(-parseInt(_0x4ad4f3(0x3b0))/0xa)+-parseInt(_0x4ad4f3(0x286))/0xb;if(_0x34fd6c===_0x3b668d)break;else _0xbea8c['push'](_0xbea8c['shift']());}catch(_0x3792c1){_0xbea8c['push'](_0xbea8c['shift']());}}}(a0_0x20e3,0xc0e65));var Lo=Object['create'],Ls=Object[a0_0x28e68b(0x1ff)],Uo=Object[a0_0x28e68b(0x1f0)],Vo=Object[a0_0x28e68b(0x317)],jo=Object['getPrototypeOf'],Bo=Object[a0_0x28e68b(0x30d)][a0_0x28e68b(0x220)],Fo=(_0x5506c9,_0x164e19,_0x224895,_0x36f534)=>{const _0x2fa5e2=a0_0x28e68b;if(_0x164e19&&typeof _0x164e19==_0x2fa5e2(0x2b3)||typeof _0x164e19==_0x2fa5e2(0x3f9)){for(let _0x33ffe8 of Vo(_0x164e19))!Bo['call'](_0x5506c9,_0x33ffe8)&&_0x33ffe8!==_0x224895&&Ls(_0x5506c9,_0x33ffe8,{'get':()=>_0x164e19[_0x33ffe8],'enumerable':!(_0x36f534=Uo(_0x164e19,_0x33ffe8))||_0x36f534[_0x2fa5e2(0x34c)]});}return _0x5506c9;},T=(_0x4a3e0c,_0x26abff,_0x14c9e0)=>(_0x14c9e0=_0x4a3e0c!=null?Lo(jo(_0x4a3e0c)):{},Fo(_0x26abff||!_0x4a3e0c||!_0x4a3e0c['__esModule']?Ls(_0x14c9e0,a0_0x28e68b(0x134),{'value':_0x4a3e0c,'enumerable':!0x0}):_0x14c9e0,_0x4a3e0c)),Io=T(require('compression')),Vs=require('fs'),js=require(a0_0x28e68b(0x687)),Bs=require(a0_0x28e68b(0x446)),Ue=require(a0_0x28e68b(0x446)),z=process[a0_0x28e68b(0x682)](),V=(0x0,Ue[a0_0x28e68b(0x1b8)])(z,'instances'),Us=(0x0,Ue[a0_0x28e68b(0x1b8)])(z,'src'),Qt=(0x0,Ue['join'])(z,a0_0x28e68b(0x327),a0_0x28e68b(0x2e5)),Fs=require(a0_0x28e68b(0x1c6)),Yt=class{constructor(){const _0x4dee92=a0_0x28e68b;this[_0x4dee92(0x119)]();}[a0_0x28e68b(0x2cc)](_0x2ece9f){const _0x24fd12=a0_0x28e68b;return this[_0x24fd12(0x179)][_0x2ece9f];}[a0_0x28e68b(0x119)](){const _0x1f65d7=a0_0x28e68b;this[_0x1f65d7(0x179)]=process[_0x1f65d7(0x179)]?.[_0x1f65d7(0x338)]!==_0x1f65d7(0x4a1)?this['envYaml']():this[_0x1f65d7(0x4fe)](),this[_0x1f65d7(0x179)][_0x1f65d7(0x68e)]=process['env']?.[_0x1f65d7(0x445)]===_0x1f65d7(0x52f),process[_0x1f65d7(0x179)]?.[_0x1f65d7(0x338)]===_0x1f65d7(0x4a1)&&(this[_0x1f65d7(0x179)][_0x1f65d7(0x472)][_0x1f65d7(0x649)]=_0x1f65d7(0x17e),this[_0x1f65d7(0x179)][_0x1f65d7(0x472)][_0x1f65d7(0x1d3)]=Number[_0x1f65d7(0x33e)](process[_0x1f65d7(0x179)]?.['SERVER_PORT']??_0x1f65d7(0x476)));}[a0_0x28e68b(0x1e4)](){const _0x3cbf14=a0_0x28e68b;return(0x0,js[_0x3cbf14(0x232)])((0x0,Vs['readFileSync'])((0x0,Bs['join'])(Us,'../env.yml'),{'encoding':_0x3cbf14(0x65e)}));}[a0_0x28e68b(0x4fe)](){const _0x1f4e92=a0_0x28e68b;return{'SERVER':{'TYPE':process[_0x1f4e92(0x179)][_0x1f4e92(0x2d8)],'PORT':Number[_0x1f4e92(0x33e)](process[_0x1f4e92(0x179)]['SERVER_PORT'])},'CORS':{'ORIGIN':process['env'][_0x1f4e92(0x66a)][_0x1f4e92(0x22b)](','),'METHODS':process[_0x1f4e92(0x179)][_0x1f4e92(0x239)][_0x1f4e92(0x22b)](','),'CREDENTIALS':process[_0x1f4e92(0x179)]?.[_0x1f4e92(0x3c1)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0x1f4e92(0x179)]?.[_0x1f4e92(0x25d)],'FULLCHAIN':process[_0x1f4e92(0x179)]?.[_0x1f4e92(0x3ea)]},'STORE':{'CLEANING_INTERVAL':Number[_0x1f4e92(0x601)](process[_0x1f4e92(0x179)]?.[_0x1f4e92(0x222)])?Number[_0x1f4e92(0x33e)](process[_0x1f4e92(0x179)]['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process[_0x1f4e92(0x179)]?.[_0x1f4e92(0x36c)]===_0x1f4e92(0x4a1),'CONTACTS':process[_0x1f4e92(0x179)]?.[_0x1f4e92(0x618)]===_0x1f4e92(0x4a1),'CHATS':process[_0x1f4e92(0x179)]?.['STORE_CHATS']===_0x1f4e92(0x4a1)},'DATABASE':{'CONNECTION':{'HOST':process[_0x1f4e92(0x179)]?.[_0x1f4e92(0x53a)],'PORT':Number[_0x1f4e92(0x33e)](process[_0x1f4e92(0x179)]?.[_0x1f4e92(0x53a)]),'USER':process[_0x1f4e92(0x179)][_0x1f4e92(0x4fc)],'PASSWORD':process[_0x1f4e92(0x179)][_0x1f4e92(0x20a)],'URI':process[_0x1f4e92(0x179)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process[_0x1f4e92(0x179)][_0x1f4e92(0x5a5)]},'ENABLED':process['env']?.[_0x1f4e92(0x431)]==='true'},'REDIS':{'ENABLED':process[_0x1f4e92(0x179)]?.[_0x1f4e92(0x6b5)]==='true','URI':process[_0x1f4e92(0x179)][_0x1f4e92(0x373)],'PREFIX_KEY':process[_0x1f4e92(0x179)][_0x1f4e92(0x202)]},'LOG':{'LEVEL':process['env']?.[_0x1f4e92(0x5ca)][_0x1f4e92(0x22b)](','),'COLOR':process['env']?.[_0x1f4e92(0x118)]===_0x1f4e92(0x4a1)},'DEL_INSTANCE':(0x0,Fs[_0x1f4e92(0x6bd)])(process[_0x1f4e92(0x179)]?.[_0x1f4e92(0x57c)])?process[_0x1f4e92(0x179)][_0x1f4e92(0x57c)]==='true':Number[_0x1f4e92(0x33e)](process[_0x1f4e92(0x179)][_0x1f4e92(0x57c)])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process[_0x1f4e92(0x179)][_0x1f4e92(0x50a)]?process['env'][_0x1f4e92(0x50a)]==='true':!0x1,'GLOBAL':{'URL':process[_0x1f4e92(0x179)]?.[_0x1f4e92(0x10e)],'ENABLED':process[_0x1f4e92(0x179)]?.[_0x1f4e92(0x577)]===_0x1f4e92(0x4a1)},'EVENTS':{'STATUS_INSTANCE':process[_0x1f4e92(0x179)]?.['WEBHOOK_EVENTS_STATUS_INSTANCE']===_0x1f4e92(0x4a1),'QRCODE_UPDATED':process['env']?.['WEBHOOK_EVENTS_QRCODE_UPDATED']===_0x1f4e92(0x4a1),'MESSAGES_SET':process[_0x1f4e92(0x179)]?.[_0x1f4e92(0x29b)]===_0x1f4e92(0x4a1),'MESSAGES_UPSERT':process[_0x1f4e92(0x179)]?.['WEBHOOK_EVENTS_MESSAGES_UPSERT']==='true','MESSAGES_UPDATE':process['env']?.['WEBHOOK_EVENTS_MESSAGES_UPDATE']===_0x1f4e92(0x4a1),'SEND_MESSAGE':process[_0x1f4e92(0x179)]?.[_0x1f4e92(0x1b4)]===_0x1f4e92(0x4a1),'CONTACTS_SET':process[_0x1f4e92(0x179)]?.['WEBHOOK_EVENTS_CONTACTS_SET']===_0x1f4e92(0x4a1),'CONTACTS_UPDATE':process[_0x1f4e92(0x179)]?.[_0x1f4e92(0x691)]===_0x1f4e92(0x4a1),'CONTACTS_UPSERT':process['env']?.[_0x1f4e92(0x250)]===_0x1f4e92(0x4a1),'PRESENCE_UPDATE':process['env']?.[_0x1f4e92(0x32d)]===_0x1f4e92(0x4a1),'CHATS_SET':process[_0x1f4e92(0x179)]?.[_0x1f4e92(0x637)]===_0x1f4e92(0x4a1),'CHATS_UPDATE':process[_0x1f4e92(0x179)]?.['WEBHOOK_EVENTS_CHATS_UPDATE']===_0x1f4e92(0x4a1),'CHATS_UPSERT':process[_0x1f4e92(0x179)]?.[_0x1f4e92(0x354)]==='true','CHATS_DELETE':process['env']?.['WEBHOOK_EVENTS_CHATS_DELETE']==='true','CONNECTION_UPDATE':process[_0x1f4e92(0x179)]?.['WEBHOOK_EVENTS_CONNECTION_UPDATE']===_0x1f4e92(0x4a1),'GROUPS_UPSERT':process['env']?.[_0x1f4e92(0x4a8)]===_0x1f4e92(0x4a1),'GROUP_UPDATE':process[_0x1f4e92(0x179)]?.[_0x1f4e92(0x282)]==='true','GROUP_PARTICIPANTS_UPDATE':process[_0x1f4e92(0x179)]?.[_0x1f4e92(0x435)]===_0x1f4e92(0x4a1),'NEW_JWT_TOKEN':process[_0x1f4e92(0x179)]?.['WEBHOOK_EVENTS_NEW_JWT_TOKEN']===_0x1f4e92(0x4a1)}},'CONFIG_SESSION_PHONE':{'CLIENT':process[_0x1f4e92(0x179)]?.['CONFIG_SESSION_PHONE_CLIENT']||_0x1f4e92(0x108),'NAME':process[_0x1f4e92(0x179)]?.['CONFIG_SESSION_PHONE_NAME']||_0x1f4e92(0x3fd)},'QRCODE':{'LIMIT':Number[_0x1f4e92(0x33e)](process[_0x1f4e92(0x179)]['QRCODE_LIMIT'])||0x5},'TRIAL_AD':process[_0x1f4e92(0x179)]?.['TRIAL_AD'],'TRIAL_INSTANCE_NAME':process['env']?.[_0x1f4e92(0x267)],'AUTOUPDATE':process[_0x1f4e92(0x179)]?.[_0x1f4e92(0x4c9)]==='true','PHONE':process[_0x1f4e92(0x179)]?.[_0x1f4e92(0x24a)],'AUTHENTICATION':{'TYPE':process['env'][_0x1f4e92(0x621)],'API_KEY':{'KEY':process[_0x1f4e92(0x179)][_0x1f4e92(0x4f1)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process['env']?.[_0x1f4e92(0x49b)])?Number['parseInt'](process['env']['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x1f4e92(0x179)][_0x1f4e92(0x58c)]}}};}},y=new Yt(),Do=T(require(a0_0x28e68b(0x337))),me=T(require(a0_0x28e68b(0x5e7))),Os=require(a0_0x28e68b(0x446)),Xt=T(require('dayjs')),Zt=(_0x1817a7=>(_0x1817a7[a0_0x28e68b(0x628)]=a0_0x28e68b(0x1db),_0x1817a7['INFO']=a0_0x28e68b(0x56c),_0x1817a7[a0_0x28e68b(0x540)]='\x1b[33m',_0x1817a7['ERROR']=a0_0x28e68b(0x4b0),_0x1817a7[a0_0x28e68b(0x1ed)]=a0_0x28e68b(0x185),_0x1817a7['VERBOSE']='\x1b[37m',_0x1817a7['DARK']=a0_0x28e68b(0x4a5),_0x1817a7))(Zt||{}),Gs=(_0x5c6afe=>(_0x5c6afe[a0_0x28e68b(0x628)]='\x1b[32m%s\x1b[0m',_0x5c6afe[a0_0x28e68b(0x63a)]=a0_0x28e68b(0x51f),_0x5c6afe[a0_0x28e68b(0x40b)]=a0_0x28e68b(0x3e6),_0x5c6afe[a0_0x28e68b(0x540)]=a0_0x28e68b(0x174),_0x5c6afe[a0_0x28e68b(0x2bf)]=a0_0x28e68b(0x2fc),_0x5c6afe[a0_0x28e68b(0x1ed)]=a0_0x28e68b(0x322),_0x5c6afe[a0_0x28e68b(0x178)]=a0_0x28e68b(0xf9),_0x5c6afe))(Gs||{}),qs=(_0x3d1171=>(_0x3d1171[a0_0x28e68b(0x628)]='LOG',_0x3d1171['WARN']=a0_0x28e68b(0x540),_0x3d1171[a0_0x28e68b(0x40b)]='INFO',_0x3d1171[a0_0x28e68b(0x63a)]=a0_0x28e68b(0x63a),_0x3d1171['ERROR']=a0_0x28e68b(0x2bf),_0x3d1171[a0_0x28e68b(0x1ed)]='DEBUG',_0x3d1171['VERBOSE']=a0_0x28e68b(0x178),_0x3d1171))(qs||{}),Js=(_0x587091=>(_0x587091[a0_0x28e68b(0x628)]=a0_0x28e68b(0x4dd),_0x587091[a0_0x28e68b(0x40b)]=a0_0x28e68b(0x1fa),_0x587091[a0_0x28e68b(0x540)]=a0_0x28e68b(0x535),_0x587091['DARK']=a0_0x28e68b(0x4b7),_0x587091['ERROR']=a0_0x28e68b(0x37a),_0x587091['DEBUG']='\x1b[46m',_0x587091[a0_0x28e68b(0x178)]=a0_0x28e68b(0x2de),_0x587091))(Js||{}),v=class{constructor(_0x5db8db=a0_0x28e68b(0x346)){const _0x19d2aa=a0_0x28e68b;this[_0x19d2aa(0x489)]=_0x5db8db,this[_0x19d2aa(0x1ba)]=y;}['setContext'](_0x37fa6a){const _0x4746cd=a0_0x28e68b;this[_0x4746cd(0x489)]=_0x37fa6a;}[a0_0x28e68b(0x5fe)](_0x16e03e,_0x37b4ae){const _0x6094fe=a0_0x28e68b;let _0x329f0d=[];this[_0x6094fe(0x1ba)][_0x6094fe(0x2cc)]('LOG')[_0x6094fe(0x351)]['forEach'](_0x208f34=>_0x329f0d[_0x6094fe(0x2ff)](qs[_0x208f34]));let _0x19d655=typeof _0x16e03e;_0x329f0d[_0x6094fe(0x447)](_0x37b4ae)&&(y['get'](_0x6094fe(0x628))[_0x6094fe(0x530)]?(console['log']('\x1b[1m'+Gs[_0x37b4ae],_0x6094fe(0x5ee),(0x0,Xt[_0x6094fe(0x134)])()[_0x6094fe(0x40d)]('DD/MM\x20HH:mm:ss'),_0x6094fe(0x139),Zt[_0x37b4ae]+Js[_0x37b4ae]+_0x6094fe(0x1b9),_0x37b4ae+'\x20\x1b[0m',_0x6094fe(0x511),this[_0x6094fe(0x489)]+_0x6094fe(0x139),Zt[_0x37b4ae],_0x19d655!==_0x6094fe(0x2b3)?_0x16e03e:'','\x1b[0m'),_0x19d655===_0x6094fe(0x2b3)&&console[_0x6094fe(0x39e)](_0x16e03e,'\x0a')):console[_0x6094fe(0x39e)]((0x0,Xt[_0x6094fe(0x134)])()[_0x6094fe(0x40d)](_0x6094fe(0x164)),_0x37b4ae+'\x20',''+this[_0x6094fe(0x489)],_0x16e03e));}['log'](_0x29e59c){const _0x40927c=a0_0x28e68b;this['console'](_0x29e59c,_0x40927c(0x628));}[a0_0x28e68b(0x442)](_0x14de12){const _0x42c90a=a0_0x28e68b;this['console'](_0x14de12,_0x42c90a(0x40b));}[a0_0x28e68b(0x56e)](_0x412505){const _0x3384a5=a0_0x28e68b;this[_0x3384a5(0x5fe)](_0x412505,_0x3384a5(0x540));}[a0_0x28e68b(0x197)](_0x580fe3){const _0x4ef16f=a0_0x28e68b;this['console'](_0x580fe3,_0x4ef16f(0x2bf));}['verbose'](_0x5dc4ba){const _0x263d5f=a0_0x28e68b;this[_0x263d5f(0x5fe)](_0x5dc4ba,_0x263d5f(0x178));}[a0_0x28e68b(0x18c)](_0x5e6fed){const _0x2b142c=a0_0x28e68b;this[_0x2b142c(0x5fe)](_0x5e6fed,_0x2b142c(0x1ed));}[a0_0x28e68b(0x12e)](_0x65794f){const _0x390c9d=a0_0x28e68b;this[_0x390c9d(0x5fe)](_0x65794f,_0x390c9d(0x63a));}};function Ws(){const _0x5173e3=a0_0x28e68b;process['on'](_0x5173e3(0x383),(_0x5e91c0,_0x617f42)=>{const _0x4261cd=_0x5173e3;new v('uncaughtException')['error']({'origin':_0x617f42,'stderr':process[_0x4261cd(0x3a6)]['fd'],'error':_0x5e91c0});}),process['on'](_0x5173e3(0x27b),(_0xa67062,_0x142183)=>{const _0x20446e=_0x5173e3;new v(_0x20446e(0x27b))[_0x20446e(0x197)]({'origin':_0x142183,'stderr':process[_0x20446e(0x3a6)]['fd'],'error':_0xa67062});});}var Hs=T(require('eventemitter2')),es=new Hs[(a0_0x28e68b(0x134))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),ce=require('path'),ge=require('fs'),ts=require(a0_0x28e68b(0x446)),j=class{constructor(_0x358071){const _0x559b18=a0_0x28e68b;this[_0x559b18(0x4ee)]=(0x0,ts[_0x559b18(0x1b8)])(z,_0x559b18(0x327)),this[_0x559b18(0x42f)]=_0x3a9d70=>{const _0x2bc96c=_0x559b18;(0x0,ge['existsSync'])(_0x3a9d70[_0x2bc96c(0x446)])||(0x0,ge[_0x2bc96c(0x15d)])(_0x3a9d70[_0x2bc96c(0x446)],{'recursive':!0x0});try{return(0x0,ge[_0x2bc96c(0x2b5)])((0x0,ts[_0x2bc96c(0x1b8)])(_0x3a9d70['path'],_0x3a9d70['fileName']+_0x2bc96c(0x149)),JSON[_0x2bc96c(0x409)]({..._0x3a9d70['data']}),{'encoding':_0x2bc96c(0x65e)}),{'message':_0x2bc96c(0x4aa)};}finally{_0x3a9d70['data']=void 0x0;}},this[_0x559b18(0x313)]=_0x358071['get']('DATABASE');}[a0_0x28e68b(0x16d)](_0x34706e,_0x28168a=!0x1){const _0x185ff8=a0_0x28e68b;throw new Error(_0x185ff8(0x158));}[a0_0x28e68b(0x1bc)](_0x336f1e){const _0x21a0a4=a0_0x28e68b;throw new Error(_0x21a0a4(0x158));}[a0_0x28e68b(0x4c7)](_0x9cc91b,_0x237d6c){const _0x29633=a0_0x28e68b;throw new Error(_0x29633(0x158));}},se=require('fs'),Ve=class{},je=class extends j{constructor(_0x3efd01,_0x13741e){const _0x4ea5f8=a0_0x28e68b;super(_0x13741e),this[_0x4ea5f8(0x61b)]=_0x3efd01,this['configService']=_0x13741e;}async[a0_0x28e68b(0x16d)](_0x2b3f29,_0x26995a=!0x1){const _0xfa453=a0_0x28e68b;if(_0x2b3f29[_0xfa453(0x670)]!==0x0)try{return this[_0xfa453(0x313)][_0xfa453(0x516)]&&_0x26995a?{'insertCount':(await this[_0xfa453(0x61b)][_0xfa453(0x111)]([..._0x2b3f29]))[_0xfa453(0x670)]}:_0x26995a?(_0x2b3f29[_0xfa453(0x360)](_0x126e35=>this['writeStore']({'path':(0x0,ce['join'])(this[_0xfa453(0x4ee)],_0xfa453(0x234),_0x126e35['owner']),'fileName':_0x126e35[_0xfa453(0x32e)]['id'],'data':_0x126e35})),{'insertCount':_0x2b3f29[_0xfa453(0x670)]}):{'insertCount':0x0};}catch(_0x199bc5){return console[_0xfa453(0x39e)]('ERROR:\x20',_0x199bc5),_0x199bc5;}finally{_0x2b3f29=void 0x0;}}async[a0_0x28e68b(0x1bc)](_0x54b8df){const _0x5db9c2=a0_0x28e68b;try{if(this['dbSettings'][_0x5db9c2(0x516)]){if(_0x54b8df?.[_0x5db9c2(0x576)]?.[_0x5db9c2(0x32e)]){for(let [_0x2dc5c8,_0x40900e]of Object['entries'](_0x54b8df['where']['key']))_0x54b8df[_0x5db9c2(0x576)][_0x5db9c2(0x5ea)+_0x2dc5c8]=_0x40900e;delete _0x54b8df?.[_0x5db9c2(0x576)]?.['key'];}return await this['messageModel'][_0x5db9c2(0x1bc)]({..._0x54b8df[_0x5db9c2(0x576)]})[_0x5db9c2(0x659)]({'messageTimestamp':-0x1})[_0x5db9c2(0x5b9)](_0x54b8df?.[_0x5db9c2(0x5b9)]??0x0);}let _0x97b4e0=[];if(_0x54b8df?.[_0x5db9c2(0x576)]?.[_0x5db9c2(0x32e)]?.['id'])_0x97b4e0[_0x5db9c2(0x2ff)](JSON[_0x5db9c2(0x3a4)]((0x0,se[_0x5db9c2(0x169)])((0x0,ce[_0x5db9c2(0x1b8)])(this[_0x5db9c2(0x4ee)],_0x5db9c2(0x234),_0x54b8df[_0x5db9c2(0x576)][_0x5db9c2(0x32c)],_0x54b8df[_0x5db9c2(0x576)][_0x5db9c2(0x32e)]['id']+'.json'),{'encoding':_0x5db9c2(0x65e)})));else{let _0x1412dc=(0x0,se[_0x5db9c2(0x1d1)])((0x0,ce[_0x5db9c2(0x1b8)])(this[_0x5db9c2(0x4ee)],'messages',_0x54b8df[_0x5db9c2(0x576)][_0x5db9c2(0x32c)]),{'encoding':_0x5db9c2(0x65e)});for await(let _0x2986ef of _0x1412dc)_0x2986ef['isFile']()&&_0x97b4e0[_0x5db9c2(0x2ff)](JSON['parse']((0x0,se[_0x5db9c2(0x169)])((0x0,ce[_0x5db9c2(0x1b8)])(this[_0x5db9c2(0x4ee)],'messages',_0x54b8df[_0x5db9c2(0x576)][_0x5db9c2(0x32c)],_0x2986ef[_0x5db9c2(0x35d)]),{'encoding':'utf-8'})));}return _0x97b4e0[_0x5db9c2(0x659)]((_0x431193,_0x1e0e72)=>_0x1e0e72[_0x5db9c2(0x2ac)]-_0x431193[_0x5db9c2(0x2ac)])['splice'](0x0,_0x54b8df?.['limit']??_0x97b4e0[_0x5db9c2(0x670)]);}catch{return[];}}async[a0_0x28e68b(0x4c7)](_0x39e869){const _0x126bd6=a0_0x28e68b;try{if(this[_0x126bd6(0x313)][_0x126bd6(0x516)])await this['messageModel'][_0x126bd6(0x5cb)]({..._0x39e869[_0x126bd6(0x576)]});else{let {owner:_0x291dc6}=_0x39e869[_0x126bd6(0x576)];(0x0,se['readdirSync'])((0x0,ce[_0x126bd6(0x1b8)])(this['storePath'],'messages',_0x291dc6))[_0x126bd6(0x360)](_0x12d940=>{const _0x551b6d=_0x126bd6;let _0x48ba0a=(0x0,ce['join'])(this[_0x551b6d(0x4ee)],'messages',_0x291dc6,_0x12d940);(0x0,se[_0x551b6d(0x10c)])(_0x48ba0a);});}}catch(_0x28cdb0){console['error'](_0x28cdb0);}}async[a0_0x28e68b(0x67a)](_0xd5d06f,_0x1be9c){const _0x184de2=a0_0x28e68b;try{let _0x2646fd=null;if(this[_0x184de2(0x313)][_0x184de2(0x516)])return _0x2646fd=await this[_0x184de2(0x61b)][_0x184de2(0x4bb)]({..._0xd5d06f['where']},{'$set':_0x1be9c},{'new':!0x0}),_0x2646fd;}catch(_0x9266d0){throw console[_0x184de2(0x197)](_0x9266d0),_0x9266d0;}}async[a0_0x28e68b(0x111)](_0x10252c,_0x3f5f7a=!0x1){const _0x47aabe=a0_0x28e68b;if(_0x10252c[_0x47aabe(0x670)]!==0x0)try{return this['dbSettings']['ENABLED']&&_0x3f5f7a?{'insertCount':(await this[_0x47aabe(0x61b)][_0x47aabe(0x111)]([..._0x10252c]))[_0x47aabe(0x670)]}:_0x3f5f7a?(_0x10252c['forEach'](_0xb51921=>this['writeStore']({'path':(0x0,ce['join'])(this[_0x47aabe(0x4ee)],_0x47aabe(0x234),_0xb51921[_0x47aabe(0x32c)]),'fileName':_0xb51921[_0x47aabe(0x32e)]['id'],'data':_0xb51921})),{'insertCount':_0x10252c[_0x47aabe(0x670)]}):{'insertCount':0x0};}catch(_0x14eb4a){return console['log'](_0x47aabe(0x55d),_0x14eb4a),_0x14eb4a;}finally{_0x10252c=void 0x0;}}},ee=require('fs'),w=T(require(a0_0x28e68b(0x356))),_e=require('fs'),Z=T(require(a0_0x28e68b(0x446))),le=T(require(a0_0x28e68b(0x1f5))),io=require(a0_0x28e68b(0x2e4)),ro=T(require(a0_0x28e68b(0x206))),no=T(require('qrcode-terminal')),Ks=[a0_0x28e68b(0x4c1),a0_0x28e68b(0x5d4),a0_0x28e68b(0x2e7),'videoMessage',a0_0x28e68b(0x440)],zs=[a0_0x28e68b(0x430),'documentWithCaptionMessage','viewOnceMessage',a0_0x28e68b(0x414)],co=require('os'),$t=T(require(a0_0x28e68b(0x545))),lo=require('child_process'),bs=require(a0_0x28e68b(0x1b0)),Be=require(a0_0x28e68b(0x253)),ss=T(require('mongoose')),Qs=new v(a0_0x28e68b(0x427)),F=y[a0_0x28e68b(0x2cc)](a0_0x28e68b(0x167)),R=F['ENABLED']?F[a0_0x28e68b(0x486)]['URI']?ss[a0_0x28e68b(0x134)][a0_0x28e68b(0x23b)](F[a0_0x28e68b(0x486)][a0_0x28e68b(0x5e9)],{'dbName':F[a0_0x28e68b(0x486)][a0_0x28e68b(0x584)]+a0_0x28e68b(0x593)}):ss[a0_0x28e68b(0x134)][a0_0x28e68b(0x23b)](a0_0x28e68b(0x479)+F[a0_0x28e68b(0x486)]['HOST']+':'+F['CONNECTION'][a0_0x28e68b(0x1d3)]+a0_0x28e68b(0x52c),{'user':F['CONNECTION'][a0_0x28e68b(0x1e6)],'pass':F[a0_0x28e68b(0x486)][a0_0x28e68b(0x603)],'dbName':F['CONNECTION'][a0_0x28e68b(0x584)]+a0_0x28e68b(0x593)}):null;F[a0_0x28e68b(0x516)]&&Qs['info'](a0_0x28e68b(0x176)+R[a0_0x28e68b(0x560)]);async function Go(){const _0x3dba60=a0_0x28e68b;await I[_0x3dba60(0x209)]({'leadInfo.tags':{'$exists':!0x1}},{'$set':{'leadInfo.tags':[]}}),await I['updateMany']({'leadInfo.customFields':{'$exists':!0x1}},{'$set':{'leadInfo.customFields':[]}}),await I['updateMany']({},{'$unset':{'lastUpdate':0x1,'lastMsgUpdate':0x1}});}R?.['on']('connected',()=>{const _0x46f56e=a0_0x28e68b;I&&Go()[_0x46f56e(0x151)](_0x4f35ec=>Qs['error'](_0x46f56e(0x45a)+_0x4f35ec));});var as=class{},qo=new Be[(a0_0x28e68b(0x27a))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Jo=new Be['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[qo],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Wo=new Be['Schema']({'_id':{'type':String,'_id':!0x0},'id':{'type':String,'required':!0x0,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'contactname':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number},'unreadcount':{'type':Number},'lastcache':{'type':Number},'leadInfo':{'type':Jo,'default':{}},'lastUpdate':{'type':Number},'lastMsgUpdate':{'type':Number}}),I=R?.[a0_0x28e68b(0x3b4)](as[a0_0x28e68b(0x35d)],Wo,'chats'),Ys=require(a0_0x28e68b(0x253)),os=class{},Ho=new Ys[(a0_0x28e68b(0x27a))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'id':{'type':String,'required':!0x0,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Fe=R?.[a0_0x28e68b(0x3b4)](os[a0_0x28e68b(0x35d)],Ho,a0_0x28e68b(0x183)),P=require(a0_0x28e68b(0x253)),Xs=new P[(a0_0x28e68b(0x27a))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),is=new P['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Ko=new P['Schema']({'command':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20enquete\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Zs=new P[(a0_0x28e68b(0x27a))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ea=new P['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),zo=new P[(a0_0x28e68b(0x27a))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ta=new P[(a0_0x28e68b(0x27a))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Ko},'apirequest':ea,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ds=new P[(a0_0x28e68b(0x27a))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),sa=new P[(a0_0x28e68b(0x27a))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),rs=class{},aa=new P['Schema']({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x2ab257=a0_0x28e68b;return _0x2ab257(0x614)+Math['random']()['toString'](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ds],'variablesNotFound':{'type':[String]},'blocks':[ta],'groups':[Xs],'conditions':[Zs],'varedits':[sa],'replyOptions':{'type':[is],'default':[]}});aa['pre'](a0_0x28e68b(0x643),function(_0xaffcc8){const _0x264c91=a0_0x28e68b;let _0x3d8f6f=new Set(),_0x424ae1=new Set(this['variables']?.[_0x264c91(0x5df)](_0xd42d9a=>_0xd42d9a[_0x264c91(0x35d)])),_0xcfece1=JSON[_0x264c91(0x409)](this),_0x2ddfcb=/{{(?!_)([^}]*)}}/g,_0x2316bc;for(;(_0x2316bc=_0x2ddfcb[_0x264c91(0x271)](_0xcfece1))!==null;)_0x424ae1['has'](_0x2316bc[0x1])||_0x3d8f6f[_0x264c91(0x655)](_0x2316bc[0x1]);_0x3d8f6f[_0x264c91(0x4d7)]>0x0?(console['warn']('Variáveis\x20não\x20encontradas:',Array[_0x264c91(0x336)](_0x3d8f6f)),this[_0x264c91(0x3b1)]=Array[_0x264c91(0x336)](_0x3d8f6f)):this[_0x264c91(0x3b1)]=[],_0xaffcc8();});var D=R?.[a0_0x28e68b(0x3b4)](rs[a0_0x28e68b(0x35d)],aa,a0_0x28e68b(0x543)),Qo=new P[(a0_0x28e68b(0x27a))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ds],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastBlockId':{'type':String},'blockLogs':[zo]},{'_id':!0x1}),ns=class{},Yo=new P[(a0_0x28e68b(0x27a))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ds],'blocks':[ta],'groups':[Xs],'conditions':[Zs],'varedits':[sa],'replyOptions':{'type':[is],'default':[]},'chatLog':Qo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x28e68b(0x679)},'waitingPoll_id':{'type':String},'waitingPoll_name':{'type':String},'waitingPoll_replyOptions':{'type':[is],'default':[]}}),G=R?.['model'](ns[a0_0x28e68b(0x35d)],Yo,a0_0x28e68b(0x3da)),cs=class{},Xo=new P[(a0_0x28e68b(0x27a))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),Zo=new P[(a0_0x28e68b(0x27a))]({'owner':{'type':String},'status':{'type':String,'default':'scheduled'},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Xo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Object],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),k=R?.[a0_0x28e68b(0x3b4)](cs[a0_0x28e68b(0x35d)],Zo,a0_0x28e68b(0x4d2)),ls=class{},ei=new P['Schema']({'name':{'type':String},'requests':[ea],'owner':{'type':String}}),Wr=R?.[a0_0x28e68b(0x3b4)](ls['name'],ei,a0_0x28e68b(0x21e)),us=class{},ti=new P[(a0_0x28e68b(0x27a))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),si=new P[(a0_0x28e68b(0x27a))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x28e68b(0x3f5)},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),ai=new P[(a0_0x28e68b(0x27a))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),oi=new P[(a0_0x28e68b(0x27a))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[ai]},'customFields':{'type':[ti]},'flowConfig':{'type':si,'default':{}}}),ae=R?.[a0_0x28e68b(0x3b4)](us[a0_0x28e68b(0x35d)],oi,a0_0x28e68b(0x3ce)),ye=T(require(a0_0x28e68b(0x253))),uo=T(require(a0_0x28e68b(0x5a1))),po=require('stream'),mo=require(a0_0x28e68b(0x348)),x=require('class-validator'),he=class{constructor(_0x4debe9,_0x3286ba,_0x3986de){const _0x3d37e8=a0_0x28e68b;this[_0x3d37e8(0x522)]=_0x4debe9,this[_0x3d37e8(0x553)]=_0x3286ba,this[_0x3d37e8(0x35d)]=_0x3986de;}},Ge=class{},ve=class{},qe=class{},Je=class{},fe=class{},We=class{},He=class{},Ke=class{},ze=class{},Dt=T(require(a0_0x28e68b(0x5e7))),oa=require('fs'),ia=require(a0_0x28e68b(0x446));async function Qe(_0x348af9){const _0xa68957=a0_0x28e68b;let _0x1e5020=B[_0xa68957(0x2ef)][_0x348af9];if(F['ENABLED']){let _0xa02285=R[_0xa68957(0x4ca)]()['db'](F['CONNECTION'][_0xa68957(0x584)]+_0xa68957(0x519))['collection'](_0x348af9);return _0x1e5020||(await _0xa02285[_0xa68957(0x1bc)]({})[_0xa68957(0x1f6)]())[_0xa68957(0x670)]>0x0;}return _0x1e5020||(0x0,oa[_0xa68957(0x5f5)])((0x0,ia['join'])(V,_0x348af9));}async function ps(_0x23610e,_0x5099c1,_0x322a81){const _0x5e7c52=a0_0x28e68b;if(_0x23610e[_0x5e7c52(0x2d3)][_0x5e7c52(0x447)]('/instance/create')||_0x23610e[_0x5e7c52(0x2d3)][_0x5e7c52(0x447)](_0x5e7c52(0x555))||_0x23610e[_0x5e7c52(0x2d3)][_0x5e7c52(0x447)](_0x5e7c52(0x3ca)))return _0x322a81();let _0x31dcee=_0x23610e[_0x5e7c52(0x378)];if(!_0x31dcee?.[_0x5e7c52(0x28e)])throw new m(_0x5e7c52(0x371));if(!await Qe(_0x31dcee[_0x5e7c52(0x28e)]))throw new L(_0x5e7c52(0x59b)+_0x31dcee[_0x5e7c52(0x28e)]+_0x5e7c52(0x35e));_0x322a81();}async function ra(_0x4aa9af,_0x3b5b9a,_0x24dab1){const _0x56d7ea=a0_0x28e68b;if(_0x4aa9af[_0x56d7ea(0x2d3)][_0x56d7ea(0x447)]('/instance/create')){let _0x1028bc=_0x4aa9af[_0x56d7ea(0x69f)];if(await Qe(_0x1028bc[_0x56d7ea(0x28e)]))throw new oe(_0x56d7ea(0x460)+_0x1028bc[_0x56d7ea(0x28e)]+_0x56d7ea(0x62e));B[_0x56d7ea(0x2ef)][_0x1028bc['instanceName']]&&delete B[_0x56d7ea(0x2ef)][_0x1028bc[_0x56d7ea(0x28e)]];}_0x24dab1();}var na=require(a0_0x28e68b(0x1c6)),ca=T(require(a0_0x28e68b(0x495))),Ye=a0_0x28e68b(0x108),ri=new v(a0_0x28e68b(0x592));async function ni(_0x10c178,_0x3547ef,_0x360cce){const _0x50569a=a0_0x28e68b;let _0x4b5b8d=_0x10c178[_0x50569a(0x2cc)](_0x50569a(0x21a));if(_0x4b5b8d&&y[_0x50569a(0x2cc)](_0x50569a(0x231))[_0x50569a(0x49c)][_0x50569a(0x3a0)]!==_0x4b5b8d)throw new ie();if(y[_0x50569a(0x2cc)](_0x50569a(0x231))[_0x50569a(0x49c)][_0x50569a(0x3a0)]===_0x4b5b8d)return _0x360cce();if((_0x10c178['originalUrl'][_0x50569a(0x447)](_0x50569a(0x3bf))||_0x10c178['originalUrl'][_0x50569a(0x447)]('/instance/fetchInstances'))&&!_0x4b5b8d)throw new oe(_0x50569a(0x3c5),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x516ded=y['get']('AUTHENTICATION')[_0x50569a(0x5d1)];try{let [_0x2fe547,_0x1111ae]=_0x10c178[_0x50569a(0x2cc)](_0x50569a(0x2f5))[_0x50569a(0x22b)]('\x20');if(_0x2fe547[_0x50569a(0x208)]()!==_0x50569a(0x4af))throw new ie();if(!(0x0,na[_0x50569a(0x142)])(_0x1111ae))throw new ie();let _0x13a506=_0x10c178[_0x50569a(0x378)],_0x6fe1b8=ca[_0x50569a(0x134)][_0x50569a(0x4f8)](_0x1111ae,_0x516ded[_0x50569a(0x474)],{'ignoreExpiration':_0x516ded[_0x50569a(0x280)]===0x0});if(_0x13a506[_0x50569a(0x28e)]!==_0x6fe1b8[_0x50569a(0x28e)]||Ye!==_0x6fe1b8['apiName'])throw new ie();return _0x360cce();}catch(_0x2015fd){throw ri[_0x50569a(0x197)](_0x2015fd),new ie();}}async function ci(_0x43b2bd,_0x21cbdf,_0x5bbae0){const _0x4a7c31=a0_0x28e68b;let _0x3abc39=y[_0x4a7c31(0x2cc)]('AUTHENTICATION')[_0x4a7c31(0x49c)],_0x5effdf=_0x43b2bd['get'](_0x4a7c31(0x21a));if(_0x3abc39[_0x4a7c31(0x3a0)]===_0x5effdf)return _0x5bbae0();if(_0x43b2bd[_0x4a7c31(0x2d3)][_0x4a7c31(0x447)](_0x4a7c31(0x3bf))){let _0x485910=y[_0x4a7c31(0x2cc)](_0x4a7c31(0x267)),_0x4f748a=_0x43b2bd[_0x4a7c31(0x69f)][_0x4a7c31(0x28e)];if(_0x485910&&_0x4f748a['toLowerCase']()[_0x4a7c31(0x194)](_0x485910[_0x4a7c31(0x208)]()))return _0x5bbae0();if(!_0x5effdf)throw new oe(_0x4a7c31(0x3c5),_0x4a7c31(0x68c));}if(_0x43b2bd[_0x4a7c31(0x2d3)][_0x4a7c31(0x447)](_0x4a7c31(0x555))&&!_0x5effdf)throw new oe('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x43b2bd[_0x4a7c31(0x2d3)][_0x4a7c31(0x447)](_0x4a7c31(0x3ca))&&!_0x5effdf)throw new oe('Missing\x20global\x20api\x20key',_0x4a7c31(0x68c));try{let _0x112a86=_0x43b2bd[_0x4a7c31(0x378)];if((await ue[_0x4a7c31(0x2e5)]['find'](_0x112a86[_0x4a7c31(0x28e)]))[_0x4a7c31(0x21a)]===_0x5effdf)return _0x5bbae0();}catch{}throw new ie();}var la={'jwt':ni,'apikey':ci},Ga=require(a0_0x28e68b(0x5e7)),N=require('uuid'),S=(..._0x5e34cb)=>{const _0x357a33=a0_0x28e68b;let _0x4a71bc={};return _0x5e34cb['forEach'](_0x5c261b=>_0x4a71bc[_0x5c261b]={'minLength':0x1,'description':'The\x20\x22'+_0x5c261b+_0x357a33(0x455)}),{'if':{'propertyNames':{'enum':[..._0x5e34cb]}},'then':{'properties':_0x4a71bc}};},C={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'instanceName':{'type':a0_0x28e68b(0x47b)}},...S(a0_0x28e68b(0x28e))},ua={'$id':(0x0,N['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x28e68b(0x47b)}},'required':[a0_0x28e68b(0x412)],...S(a0_0x28e68b(0x412))},ln={'properties':{'key':{'type':a0_0x28e68b(0x2b3),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x28e68b(0x47b)},'fromMe':{'type':a0_0x28e68b(0x5cd),'enum':[!0x0,!0x1]}},'required':['id',a0_0x28e68b(0x48b),a0_0x28e68b(0x14f)],...S('id','remoteJid')},'message':{'type':a0_0x28e68b(0x2b3)}}},Q={'properties':{'delay':{'type':a0_0x28e68b(0x129),'description':a0_0x28e68b(0x683)},'presence':{'type':a0_0x28e68b(0x47b),'enum':[a0_0x28e68b(0x289),a0_0x28e68b(0x323),'composing',a0_0x28e68b(0x321),'paused']}}},re={'type':a0_0x28e68b(0x47b),'pattern':a0_0x28e68b(0x38b),'description':a0_0x28e68b(0x1f3)},da={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'number':{...re},'options':{...Q},'textMessage':{'type':a0_0x28e68b(0x2b3),'properties':{'text':{'type':a0_0x28e68b(0x47b)}},'required':[a0_0x28e68b(0x265)],...S(a0_0x28e68b(0x265))}},'required':[a0_0x28e68b(0x33b),a0_0x28e68b(0x426)]},pa={'type':'string','pattern':a0_0x28e68b(0x652),'description':a0_0x28e68b(0x1f3)},un={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'number':{...pa},'options':{...Q},'textMessage':{'type':a0_0x28e68b(0x2b3),'properties':{'text':{'type':a0_0x28e68b(0x47b)}},'required':['text'],...S(a0_0x28e68b(0x265))}},'required':[a0_0x28e68b(0x33b),'number']},dn={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'number':{...pa},'options':{...Q},'mediaMessage':{'type':a0_0x28e68b(0x2b3),'properties':{'mediatype':{'type':a0_0x28e68b(0x47b),'enum':[a0_0x28e68b(0x319),a0_0x28e68b(0x1a4),a0_0x28e68b(0x410),a0_0x28e68b(0x1ef)]},'media':{'type':a0_0x28e68b(0x47b)},'fileName':{'type':a0_0x28e68b(0x47b)},'caption':{'type':a0_0x28e68b(0x47b)}},'required':[a0_0x28e68b(0x50f),'media'],...S(a0_0x28e68b(0x5b2),'caption',a0_0x28e68b(0x668))}},'required':[a0_0x28e68b(0x627),a0_0x28e68b(0x426)]},ma={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'number':{...re},'options':{...Q},'stickerMessage':{'type':'object','properties':{'image':{'type':a0_0x28e68b(0x47b)}},'required':['image'],...S(a0_0x28e68b(0x319))}},'required':[a0_0x28e68b(0x440),a0_0x28e68b(0x426)]},ga={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'statusMessage':{'type':a0_0x28e68b(0x2b3),'properties':{'type':{'type':a0_0x28e68b(0x47b),'enum':[a0_0x28e68b(0x265),a0_0x28e68b(0x319),a0_0x28e68b(0x1ef),'video']},'content':{'type':'string'},'caption':{'type':'string'},'backgroundColor':{'type':a0_0x28e68b(0x47b)},'font':{'type':a0_0x28e68b(0x129),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x28e68b(0x362),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x28e68b(0x47b),'pattern':a0_0x28e68b(0x613),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x28e68b(0x5cd),'enum':[!0x0,!0x1]}},'required':[a0_0x28e68b(0x1bd),a0_0x28e68b(0x32a)],...S(a0_0x28e68b(0x1bd),a0_0x28e68b(0x32a))}},'required':[a0_0x28e68b(0x3fe)]},ha={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'number':{...re},'options':{...Q},'mediaMessage':{'type':a0_0x28e68b(0x2b3),'properties':{'mediatype':{'type':a0_0x28e68b(0x47b),'enum':['image',a0_0x28e68b(0x1a4),a0_0x28e68b(0x410),a0_0x28e68b(0x1ef)]},'media':{'type':'string'},'fileName':{'type':a0_0x28e68b(0x47b)},'caption':{'type':'string'}},'required':[a0_0x28e68b(0x50f),a0_0x28e68b(0x668)],...S(a0_0x28e68b(0x5b2),'caption',a0_0x28e68b(0x668))}},'required':['mediaMessage',a0_0x28e68b(0x426)]},fa={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'number':{...re},'options':{...Q},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0x28e68b(0x47b)}},'required':[a0_0x28e68b(0x1ef)],...S('audio')}},'required':[a0_0x28e68b(0x2e7),'number']},wa={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'number':{...re},'pollMessage':{'type':'object','properties':{'name':{'type':'string'},'selectableCount':{'type':a0_0x28e68b(0x426)},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x28e68b(0x35d),a0_0x28e68b(0x2bb),a0_0x28e68b(0x212)],...S(a0_0x28e68b(0x35d),a0_0x28e68b(0x2bb),'values')}},'required':[a0_0x28e68b(0x426),'pollMessage']},ya={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'number':{...re},'options':{...Q},'buttonMessage':{'type':a0_0x28e68b(0x2b3),'properties':{'title':{'type':a0_0x28e68b(0x47b)},'description':{'type':'string'},'footerText':{'type':'string'},'buttons':{'type':a0_0x28e68b(0x362),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x28e68b(0x2b3),'properties':{'buttonText':{'type':a0_0x28e68b(0x47b)},'buttonId':{'type':a0_0x28e68b(0x47b)}},'required':['buttonText',a0_0x28e68b(0x2aa)],...S(a0_0x28e68b(0x25c),a0_0x28e68b(0x2aa))}},'mediaMessage':{'type':a0_0x28e68b(0x2b3),'properties':{'media':{'type':a0_0x28e68b(0x47b)},'fileName':{'type':a0_0x28e68b(0x47b)},'mediatype':{'type':'string','enum':[a0_0x28e68b(0x319),a0_0x28e68b(0x1a4),a0_0x28e68b(0x410)]}},'required':['media',a0_0x28e68b(0x50f)],...S(a0_0x28e68b(0x668),a0_0x28e68b(0x5b2))}},'required':['title',a0_0x28e68b(0x4a7)],...S(a0_0x28e68b(0x379),a0_0x28e68b(0x4ae))}},'required':[a0_0x28e68b(0x426),a0_0x28e68b(0x278)]},ba={'$id':(0x0,N['v4'])(),'type':'object','properties':{'number':{...re},'options':{...Q},'locationMessage':{'type':a0_0x28e68b(0x2b3),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x28e68b(0x426)},'name':{'type':a0_0x28e68b(0x47b)},'address':{'type':a0_0x28e68b(0x47b)}},'required':[a0_0x28e68b(0x53d),'longitude'],...S('name',a0_0x28e68b(0x332))}},'required':['number','locationMessage']},Sa={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'number':{...re},'options':{...Q},'listMessage':{'type':a0_0x28e68b(0x2b3),'properties':{'title':{'type':'string'},'description':{'type':a0_0x28e68b(0x47b)},'footerText':{'type':a0_0x28e68b(0x47b)},'buttonText':{'type':a0_0x28e68b(0x47b)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x28e68b(0x2b3),'properties':{'title':{'type':a0_0x28e68b(0x47b)},'rows':{'type':a0_0x28e68b(0x362),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x28e68b(0x2b3),'properties':{'title':{'type':a0_0x28e68b(0x47b)},'description':{'type':a0_0x28e68b(0x47b)},'rowId':{'type':'string'}},'required':[a0_0x28e68b(0x379),a0_0x28e68b(0x4ae),a0_0x28e68b(0x632)],...S(a0_0x28e68b(0x379),'description','rowId')}}},'required':[a0_0x28e68b(0x379),'rows'],...S(a0_0x28e68b(0x379))}}},'required':[a0_0x28e68b(0x379),'description',a0_0x28e68b(0x25c),'sections'],...S(a0_0x28e68b(0x379),a0_0x28e68b(0x4ae),a0_0x28e68b(0x25c),a0_0x28e68b(0x473))}},'required':[a0_0x28e68b(0x426),a0_0x28e68b(0x34b)]},Ea={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'number':{...re},'options':{...Q},'contactMessage':{'type':a0_0x28e68b(0x362),'items':{'type':a0_0x28e68b(0x2b3),'properties':{'fullName':{'type':a0_0x28e68b(0x47b)},'phoneNumber':{'type':a0_0x28e68b(0x47b),'minLength':0xa}},'required':[a0_0x28e68b(0x3cc),a0_0x28e68b(0x60b)],...S(a0_0x28e68b(0x3cc))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x28e68b(0x426),a0_0x28e68b(0x454)]},Na={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'reactionMessage':{'type':a0_0x28e68b(0x2b3),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x28e68b(0x47b)},'remoteJid':{'type':a0_0x28e68b(0x47b)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x28e68b(0x48b),a0_0x28e68b(0x14f)],...S('id','remoteJid')},'reaction':{'type':'string'}},'required':[a0_0x28e68b(0x32e),a0_0x28e68b(0x13c)],...S(a0_0x28e68b(0x13c))}},'required':['reactionMessage']},Ca={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x28e68b(0x47b),'pattern':'^\x5cd+','description':a0_0x28e68b(0x161)}}}},va={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'readMessages':{'type':a0_0x28e68b(0x362),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x28e68b(0x47b)},'fromMe':{'type':a0_0x28e68b(0x5cd),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x28e68b(0x47b)}},'required':['id',a0_0x28e68b(0x14f),a0_0x28e68b(0x48b)],...S('id',a0_0x28e68b(0x48b))}}},'required':[a0_0x28e68b(0x551)]},Ta={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'privacySettings':{'type':a0_0x28e68b(0x2b3),'properties':{'readreceipts':{'type':'string','enum':[a0_0x28e68b(0x3d6),'none']},'profile':{'type':'string','enum':[a0_0x28e68b(0x3d6),'contacts',a0_0x28e68b(0x228),a0_0x28e68b(0x2a1)]},'status':{'type':a0_0x28e68b(0x47b),'enum':['all',a0_0x28e68b(0x183),a0_0x28e68b(0x228),a0_0x28e68b(0x2a1)]},'online':{'type':a0_0x28e68b(0x47b),'enum':['all',a0_0x28e68b(0x345)]},'last':{'type':'string','enum':[a0_0x28e68b(0x3d6),a0_0x28e68b(0x183),a0_0x28e68b(0x228),a0_0x28e68b(0x2a1)]},'groupadd':{'type':a0_0x28e68b(0x47b),'enum':['all',a0_0x28e68b(0x183),a0_0x28e68b(0x228),'none']}},'required':[a0_0x28e68b(0x330),a0_0x28e68b(0x529),a0_0x28e68b(0x4c5),a0_0x28e68b(0x4ce),a0_0x28e68b(0x5e0),a0_0x28e68b(0x31b)],...S(a0_0x28e68b(0x330),a0_0x28e68b(0x529),a0_0x28e68b(0x4c5),a0_0x28e68b(0x4ce),a0_0x28e68b(0x5e0),a0_0x28e68b(0x31b))}},'required':[a0_0x28e68b(0x615)]},Ra={'$id':(0x0,N['v4'])(),'type':'object','properties':{'lastMessage':{'type':a0_0x28e68b(0x2b3),'properties':{'key':{'type':a0_0x28e68b(0x2b3),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x28e68b(0x47b)},'fromMe':{'type':a0_0x28e68b(0x5cd),'enum':[!0x0,!0x1]}},'required':['id',a0_0x28e68b(0x14f),a0_0x28e68b(0x48b)],...S('id',a0_0x28e68b(0x48b))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x28e68b(0x32e)],...S('messageTimestamp')},'archive':{'type':a0_0x28e68b(0x5cd),'enum':[!0x0,!0x1]}},'required':[a0_0x28e68b(0x263),'archive']},Ma={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'id':{'type':a0_0x28e68b(0x47b)},'fromMe':{'type':a0_0x28e68b(0x5cd),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x28e68b(0x47b)},'participant':{'type':a0_0x28e68b(0x47b)}},'required':['id',a0_0x28e68b(0x14f),'remoteJid'],...S('id',a0_0x28e68b(0x48b),a0_0x28e68b(0x546))},Aa={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'where':{'type':a0_0x28e68b(0x2b3),'properties':{'_id':{'type':a0_0x28e68b(0x47b),'minLength':0x1},'pushName':{'type':a0_0x28e68b(0x47b),'minLength':0x1},'id':{'type':'string','minLength':0x1}},...S(a0_0x28e68b(0x2ca),'id','pushName')}}},Ia={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'name':{'type':a0_0x28e68b(0x47b)}},...S(a0_0x28e68b(0x35d))},Da={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'status':{'type':a0_0x28e68b(0x47b)}},...S(a0_0x28e68b(0x4c5))},Te={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'number':{'type':a0_0x28e68b(0x47b)},'picture':{'type':a0_0x28e68b(0x47b)}}},Pa={'type':a0_0x28e68b(0x2b3),'properties':{'wuid':{'type':'string'},'name':{'type':'string'},'picture':{'type':a0_0x28e68b(0x47b)},'status':{'type':a0_0x28e68b(0x47b)},'isBusiness':{'type':a0_0x28e68b(0x5cd)}}},Oa={'$id':(0x0,N['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x28e68b(0x47b),'minLength':0x1},'key':{'type':a0_0x28e68b(0x2b3),'if':{'propertyNames':{'enum':[a0_0x28e68b(0x14f),a0_0x28e68b(0x48b),'id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0x28e68b(0x45b)},'id':{'type':a0_0x28e68b(0x47b),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':a0_0x28e68b(0x5cd),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...S(a0_0x28e68b(0x2ca))},'limit':{'type':a0_0x28e68b(0x129)}}},_a={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'where':{'type':a0_0x28e68b(0x2b3),'properties':{'_id':{'type':a0_0x28e68b(0x47b)},'remoteJid':{'type':a0_0x28e68b(0x47b)},'id':{'type':a0_0x28e68b(0x47b)},'fromMe':{'type':a0_0x28e68b(0x5cd),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':'string','enum':[a0_0x28e68b(0x2bf),'PENDING',a0_0x28e68b(0x12c),a0_0x28e68b(0x325),a0_0x28e68b(0x693),a0_0x28e68b(0x24d)]}},...S(a0_0x28e68b(0x2ca),'remoteJid','id',a0_0x28e68b(0x4c5))},'limit':{'type':a0_0x28e68b(0x129)}}},xa={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'subject':{'type':a0_0x28e68b(0x47b)},'description':{'type':'string'},'profilePicture':{'type':a0_0x28e68b(0x47b)},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x28e68b(0x47b),'minLength':0xa,'pattern':a0_0x28e68b(0x6b7),'description':a0_0x28e68b(0x2c6)}}},'required':[a0_0x28e68b(0x3e4),a0_0x28e68b(0x363)],...S(a0_0x28e68b(0x3e4),a0_0x28e68b(0x4ae),a0_0x28e68b(0x380))},Re={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'groupJid':{'type':'string','pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':['groupJid'],...S(a0_0x28e68b(0x554))},$a={'$id':(0x0,N['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x28e68b(0x47b)},'action':{'type':a0_0x28e68b(0x47b),'enum':[a0_0x28e68b(0x655),a0_0x28e68b(0x184),a0_0x28e68b(0x422),a0_0x28e68b(0x368)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x28e68b(0x47b),'minLength':0xa,'pattern':a0_0x28e68b(0x6b7),'description':a0_0x28e68b(0x2c6)}}},'required':[a0_0x28e68b(0x554),a0_0x28e68b(0x405),'participants'],...S('groupJid',a0_0x28e68b(0x405))},ka={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'groupJid':{'type':a0_0x28e68b(0x47b)},'expiration':{'type':a0_0x28e68b(0x426),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x28e68b(0x226)],...S(a0_0x28e68b(0x554),'expiration')},La={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'groupJid':{'type':a0_0x28e68b(0x47b)},'image':{'type':a0_0x28e68b(0x47b)}},'required':[a0_0x28e68b(0x554),a0_0x28e68b(0x319)],...S('groupJid',a0_0x28e68b(0x319))},Ua={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'groupJid':{'type':a0_0x28e68b(0x47b)},'description':{'type':a0_0x28e68b(0x47b)}},'required':[a0_0x28e68b(0x554),a0_0x28e68b(0x4ae)],...S('groupJid',a0_0x28e68b(0x4ae))},Va={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'groupJid':{'type':a0_0x28e68b(0x47b)},'name':{'type':a0_0x28e68b(0x47b)}},'required':[a0_0x28e68b(0x554),'name'],...S(a0_0x28e68b(0x554),a0_0x28e68b(0x35d))},ja={'$id':(0x0,N['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x28e68b(0x47b)},'setting':{'type':a0_0x28e68b(0x47b),'enum':[a0_0x28e68b(0x3ed),a0_0x28e68b(0x633),a0_0x28e68b(0x140),a0_0x28e68b(0x6bc)]}},'required':[a0_0x28e68b(0x554),a0_0x28e68b(0x623)],...S(a0_0x28e68b(0x554),'setting')},Ba={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'inviteCode':{'type':a0_0x28e68b(0x47b)}},'required':[a0_0x28e68b(0x3f6)],...S(a0_0x28e68b(0x3f6))},Fa={'$id':(0x0,N['v4'])(),'type':a0_0x28e68b(0x2b3),'properties':{'url':{'type':'string'},'enabled':{'type':a0_0x28e68b(0x5cd),'enum':[!0x0,!0x1]}},'required':[a0_0x28e68b(0x255),a0_0x28e68b(0x316)]},pn={'$id':(0x0,N['v4'])(),'type':'object','properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x28e68b(0x5cd),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x28e68b(0x5cd),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x28e68b(0x5cd),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x28e68b(0x5cd),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x28e68b(0x5cd),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x28e68b(0x5cd),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x28e68b(0x5cd),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x28e68b(0x5cd),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x28e68b(0x5cd),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x28e68b(0x5cd),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x28e68b(0x5cd),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x28e68b(0x5cd),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x28e68b(0x5cd),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x28e68b(0x5cd),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x28e68b(0x688),'STATUS_INSTANCE',a0_0x28e68b(0x695),a0_0x28e68b(0x59c),'MESSAGES_UPDATE','MESSAGES_UPSERT','SEND_MESSAGE',a0_0x28e68b(0x1cf),a0_0x28e68b(0x306),a0_0x28e68b(0x3ff),a0_0x28e68b(0x5d8),a0_0x28e68b(0x568),a0_0x28e68b(0x2a3),a0_0x28e68b(0x1f9),'CHATS_DELETE',a0_0x28e68b(0x49f),a0_0x28e68b(0x699),'GROUPS_UPDATE',a0_0x28e68b(0x537)],...S(a0_0x28e68b(0x688),a0_0x28e68b(0x484),a0_0x28e68b(0x695),a0_0x28e68b(0x59c),a0_0x28e68b(0x126),a0_0x28e68b(0x5e4),a0_0x28e68b(0x444),a0_0x28e68b(0x1cf),a0_0x28e68b(0x306),a0_0x28e68b(0x3ff),a0_0x28e68b(0x5d8),a0_0x28e68b(0x568),a0_0x28e68b(0x2a3),a0_0x28e68b(0x1f9),a0_0x28e68b(0x475),a0_0x28e68b(0x49f),a0_0x28e68b(0x699),'GROUPS_UPDATE',a0_0x28e68b(0x537))},Ae=require('fs'),Me=require(a0_0x28e68b(0x446)),Xe=class{},Ze=class extends j{constructor(_0x2415c4,_0xf9ca0d){const _0x45ee52=a0_0x28e68b;super(_0xf9ca0d),this[_0x45ee52(0x32f)]=_0x2415c4,this[_0x45ee52(0x1ba)]=_0xf9ca0d;}async['insert'](_0x313703,_0x137646=!0x1){const _0x1d6304=a0_0x28e68b;if(_0x313703[_0x1d6304(0x670)]!==0x0)try{return this[_0x1d6304(0x313)][_0x1d6304(0x516)]&&_0x137646?{'insertCount':(await this[_0x1d6304(0x32f)]['insertMany']([..._0x313703]))[_0x1d6304(0x670)]}:(_0x313703[_0x1d6304(0x360)](_0x2f5020=>{const _0x324421=_0x1d6304;this[_0x324421(0x42f)]({'path':(0x0,Me[_0x324421(0x1b8)])(this[_0x324421(0x4ee)],_0x324421(0x183),_0x2f5020['owner']),'fileName':_0x2f5020['id'],'data':_0x2f5020});}),{'insertCount':_0x313703[_0x1d6304(0x670)]});}catch(_0x5bc250){return _0x5bc250;}finally{_0x313703=void 0x0;}}async[a0_0x28e68b(0x4c7)](_0x57b783){const _0x317898=a0_0x28e68b;try{return this[_0x317898(0x313)][_0x317898(0x516)]?await this[_0x317898(0x32f)][_0x317898(0x5cb)]({..._0x57b783[_0x317898(0x576)]}):{'deleted':{'contact':_0x57b783[_0x317898(0x576)]['id']}};}catch(_0x57fd45){return{'error':_0x57fd45?.[_0x317898(0x3d0)]()};}}async[a0_0x28e68b(0x67a)](_0x4f1079,_0x94fe65=!0x1){const _0x323d09=a0_0x28e68b;try{if(_0x4f1079['length']===0x0)return;if(this[_0x323d09(0x313)][_0x323d09(0x516)]&&_0x94fe65){let _0x5dad8b=_0x4f1079[_0x323d09(0x5df)](_0x29ba5f=>({'updateOne':{'filter':{'id':_0x29ba5f['id']},'update':{..._0x29ba5f},'upsert':!0x0}})),{nModified:_0x33d615}=await this[_0x323d09(0x32f)]['bulkWrite'](_0x5dad8b);return{'insertCount':_0x33d615};}}catch{return;}}async[a0_0x28e68b(0x1bc)](_0x318925){const _0x16cad4=a0_0x28e68b;try{if(this[_0x16cad4(0x313)][_0x16cad4(0x516)])return await this[_0x16cad4(0x32f)]['find']({..._0x318925[_0x16cad4(0x576)]});let _0x25dea1=[];if(_0x318925?.[_0x16cad4(0x576)]?.['id'])_0x25dea1[_0x16cad4(0x2ff)](JSON[_0x16cad4(0x3a4)]((0x0,Ae['readFileSync'])((0x0,Me['join'])(this[_0x16cad4(0x4ee)],_0x16cad4(0x183),_0x318925['where'][_0x16cad4(0x32c)],_0x318925[_0x16cad4(0x576)]['id']+_0x16cad4(0x149)),{'encoding':_0x16cad4(0x65e)})));else{let _0x23c0e4=(0x0,Ae[_0x16cad4(0x1d1)])((0x0,Me['join'])(this[_0x16cad4(0x4ee)],_0x16cad4(0x183),_0x318925['where'][_0x16cad4(0x32c)]),{'encoding':'utf-8'});for await(let _0x43113d of _0x23c0e4)_0x43113d['isFile']()&&_0x25dea1[_0x16cad4(0x2ff)](JSON[_0x16cad4(0x3a4)]((0x0,Ae[_0x16cad4(0x169)])((0x0,Me['join'])(this[_0x16cad4(0x4ee)],_0x16cad4(0x183),_0x318925[_0x16cad4(0x576)]['owner'],_0x43113d[_0x16cad4(0x35d)]),{'encoding':'utf-8'})));}return _0x25dea1;}catch{return[];}}},et=require('jsonschema'),yn=require(a0_0x28e68b(0x1d6)),ms=new v(a0_0x28e68b(0x47d)),_=class{constructor(){}[a0_0x28e68b(0x585)](_0xf72064,_0x1e287c=!0x0){const _0x5cfc70=a0_0x28e68b;let _0x3a68cb='/'+_0xf72064;return _0x1e287c&&(_0x3a68cb+=_0x5cfc70(0x59f)),_0x3a68cb;}async['dataValidate'](_0x49349b){const _0x266fbc=a0_0x28e68b;let {request:_0x380cdf,schema:_0x3e3419,ClassRef:_0xa3366c,execute:_0xb191f8}=_0x49349b,_0x453bd6=new _0xa3366c(),_0x2ae0e5=_0x380cdf[_0x266fbc(0x69f)],_0x4b197d=_0x380cdf[_0x266fbc(0x378)];_0x380cdf?.[_0x266fbc(0x605)]&&Object['keys'](_0x380cdf[_0x266fbc(0x605)])[_0x266fbc(0x670)]>0x0&&Object[_0x266fbc(0x1e2)](_0x4b197d,_0x380cdf[_0x266fbc(0x605)]),_0x380cdf[_0x266fbc(0x2d3)][_0x266fbc(0x447)]('/instance/create')&&Object[_0x266fbc(0x1e2)](_0x4b197d,_0x2ae0e5),Object['assign'](_0x453bd6,_0x2ae0e5);let _0x23828a=_0x3e3419?(0x0,et[_0x266fbc(0x423)])(_0x453bd6,_0x3e3419):{'valid':!0x0,'errors':[]};if(!_0x23828a[_0x266fbc(0x6a5)]){let _0x2ad0fe=_0x23828a[_0x266fbc(0x67f)][_0x266fbc(0x5df)](({property:_0x555fd2,stack:_0x2125db,schema:_0x4120d7})=>{const _0x551a72=_0x266fbc;let _0x1b9c9a;return _0x4120d7[_0x551a72(0x4ae)]?_0x1b9c9a=_0x4120d7[_0x551a72(0x4ae)]:_0x1b9c9a=_0x2125db[_0x551a72(0x5eb)](_0x551a72(0x57f),''),{'property':_0x555fd2['replace']('instance.',''),'message':_0x1b9c9a};});throw ms[_0x266fbc(0x197)]([..._0x2ad0fe]),new m(..._0x2ad0fe);}return await _0xb191f8(_0x4b197d,_0x453bd6);}async['groupValidate'](_0x574d5c){const _0x3d2378=a0_0x28e68b;let {request:_0x18ce21,ClassRef:_0x56d692,schema:_0x1ff5df,execute:_0x587336}=_0x574d5c,_0x504930=_0x18ce21[_0x3d2378(0x605)];if(!_0x504930?.[_0x3d2378(0x554)])throw new m(_0x3d2378(0x3a1),_0x3d2378(0x48a));let _0x1ebe23=_0x18ce21['params'],_0x25c45c=_0x18ce21[_0x3d2378(0x69f)],_0x3c5ec7=new _0x56d692();Object[_0x3d2378(0x1e2)](_0x25c45c,_0x504930),Object[_0x3d2378(0x1e2)](_0x3c5ec7,_0x25c45c);let _0x237e8e=(0x0,et[_0x3d2378(0x423)])(_0x3c5ec7,_0x1ff5df);if(!_0x237e8e['valid']){let _0x35e6ee=_0x237e8e['errors'][_0x3d2378(0x5df)](({property:_0xf9c024,stack:_0xe010a8,schema:_0x29890a})=>{const _0x44af31=_0x3d2378;let _0x3377e5;return _0x29890a[_0x44af31(0x4ae)]?_0x3377e5=_0x29890a[_0x44af31(0x4ae)]:_0x3377e5=_0xe010a8[_0x44af31(0x5eb)]('instance.',''),{'property':_0xf9c024[_0x44af31(0x5eb)](_0x44af31(0x57f),''),'message':_0x3377e5};});throw ms[_0x3d2378(0x197)]([..._0x35e6ee]),new m(..._0x35e6ee);}return await _0x587336(_0x1ebe23,_0x3c5ec7);}async['joinGroupValidate'](_0x51dad4){const _0x4c82a3=a0_0x28e68b;let {request:_0x254b4f,ClassRef:_0x589999,schema:_0x279c37,execute:_0x4c3285}=_0x51dad4,_0x236831=_0x254b4f[_0x4c82a3(0x69f)];if(!_0x236831?.[_0x4c82a3(0x3f6)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x138bef=_0x254b4f[_0x4c82a3(0x378)],_0x4f7b62=_0x254b4f['body'],_0x38765b=new _0x589999();Object[_0x4c82a3(0x1e2)](_0x4f7b62,_0x236831),Object[_0x4c82a3(0x1e2)](_0x38765b,_0x4f7b62);let _0x1e8585=(0x0,et[_0x4c82a3(0x423)])(_0x38765b,_0x279c37);if(!_0x1e8585[_0x4c82a3(0x6a5)]){let _0x19c816=_0x1e8585['errors'][_0x4c82a3(0x5df)](({property:_0x562e83,stack:_0x11e424,schema:_0x111421})=>{const _0x1c1072=_0x4c82a3;let _0x411d73;return _0x111421[_0x1c1072(0x4ae)]?_0x411d73=_0x111421[_0x1c1072(0x4ae)]:_0x411d73=_0x11e424[_0x1c1072(0x5eb)](_0x1c1072(0x57f),''),{'property':_0x562e83[_0x1c1072(0x5eb)](_0x1c1072(0x57f),''),'message':_0x411d73};});throw ms[_0x4c82a3(0x197)]([..._0x19c816]),new m(..._0x19c816);}return await _0x4c3285(_0x138bef,_0x38765b);}},Ie=require(a0_0x28e68b(0x446)),De=require('fs'),tt=class{},st=class extends j{constructor(_0x36e998,_0xbc292b){const _0x2be124=a0_0x28e68b;super(_0xbc292b),this[_0x2be124(0x100)]=_0x36e998,this[_0x2be124(0x1ba)]=_0xbc292b;}async[a0_0x28e68b(0x16d)](_0x4f94e9,_0xfeaac5){const _0x1e90de=a0_0x28e68b;if(_0x4f94e9[_0x1e90de(0x670)]!==0x0)try{if(this['dbSettings'][_0x1e90de(0x516)]&&_0xfeaac5)return{'insertCount':(await this[_0x1e90de(0x100)][_0x1e90de(0x111)]([..._0x4f94e9]))[_0x1e90de(0x670)]};_0x4f94e9['forEach'](_0x4a1b36=>{const _0x18100d=_0x1e90de;this[_0x18100d(0x42f)]({'path':(0x0,Ie['join'])(this[_0x18100d(0x4ee)],'message-up',_0x4a1b36['owner']),'fileName':_0x4a1b36['id'],'data':_0x4a1b36});});}catch(_0x40adea){return _0x40adea;}}async[a0_0x28e68b(0x1bc)](_0x1a4cc8){const _0x223f18=a0_0x28e68b;try{if(this['dbSettings'][_0x223f18(0x516)])return await this[_0x223f18(0x100)][_0x223f18(0x1bc)]({..._0x1a4cc8[_0x223f18(0x576)]})[_0x223f18(0x659)]({'datetime':-0x1})[_0x223f18(0x5b9)](_0x1a4cc8?.[_0x223f18(0x5b9)]??0x0);let _0x414b11=[];if(_0x1a4cc8?.[_0x223f18(0x576)]?.['id'])_0x414b11[_0x223f18(0x2ff)](JSON['parse']((0x0,De[_0x223f18(0x169)])((0x0,Ie[_0x223f18(0x1b8)])(this[_0x223f18(0x4ee)],_0x223f18(0x465),_0x1a4cc8[_0x223f18(0x576)][_0x223f18(0x32c)],_0x1a4cc8[_0x223f18(0x576)]['id']+'.json'),{'encoding':_0x223f18(0x65e)})));else{let _0x3972e6=(0x0,De[_0x223f18(0x1d1)])((0x0,Ie['join'])(this[_0x223f18(0x4ee)],_0x223f18(0x465),_0x1a4cc8[_0x223f18(0x576)][_0x223f18(0x32c)]),{'encoding':_0x223f18(0x65e)});for await(let _0x13350f of _0x3972e6)_0x13350f[_0x223f18(0x4fb)]()&&_0x414b11[_0x223f18(0x2ff)](JSON['parse']((0x0,De[_0x223f18(0x169)])((0x0,Ie[_0x223f18(0x1b8)])(this[_0x223f18(0x4ee)],'message-up',_0x1a4cc8[_0x223f18(0x576)][_0x223f18(0x32c)],_0x13350f[_0x223f18(0x35d)]),{'encoding':'utf-8'})));}return _0x414b11['sort']((_0x133485,_0x330405)=>_0x330405[_0x223f18(0x2f0)]-_0x133485['datetime'])[_0x223f18(0x420)](0x0,_0x1a4cc8?.[_0x223f18(0x5b9)]??_0x414b11[_0x223f18(0x670)]);}catch{return[];}}async[a0_0x28e68b(0x4c7)](_0x4c43c4){const _0x3f7383=a0_0x28e68b;try{if(this[_0x3f7383(0x313)][_0x3f7383(0x516)])return await this[_0x3f7383(0x100)][_0x3f7383(0x5cb)]({..._0x4c43c4['where']});}catch(_0x3cf673){return console[_0x3f7383(0x197)](_0x3f7383(0x245),_0x3cf673),_0x3cf673;}}},b=class{},at=class extends _{constructor(..._0x3a1c38){const _0x40f50c=a0_0x28e68b;super(),this[_0x40f50c(0x20e)]=(0x0,Ga[_0x40f50c(0x449)])(),this[_0x40f50c(0x20e)][_0x40f50c(0x525)](this[_0x40f50c(0x585)](_0x40f50c(0x35c)),..._0x3a1c38,async(_0x4ef7c1,_0x383c1a)=>{const _0x3376f5=_0x40f50c;let _0x6b21a9=await this['dataValidate']({'request':_0x4ef7c1,'schema':Ca,'ClassRef':Ge,'execute':(_0x29855a,_0x12bcdc)=>O['whatsappNumber'](_0x29855a,_0x12bcdc)});return _0x383c1a[_0x3376f5(0x4c5)](0xc9)['json'](_0x6b21a9);})[_0x40f50c(0x525)](this[_0x40f50c(0x585)](_0x40f50c(0x2da)),..._0x3a1c38,async(_0x17ec62,_0x359a54)=>{const _0x373725=_0x40f50c;let _0x13cef7=await this[_0x373725(0x233)]({'request':_0x17ec62,'schema':C,'ClassRef':b,'execute':(_0x4467b6,_0xf28c70)=>O[_0x373725(0x2da)](_0x4467b6,_0xf28c70)});return _0x359a54[_0x373725(0x4c5)](0xc9)['json'](_0x13cef7);})[_0x40f50c(0x6a7)](this['routerPath']('markMessageAsRead'),..._0x3a1c38,async(_0x41c48d,_0x466fb2)=>{const _0x509efe=_0x40f50c;let _0x4ec1f4=await this['dataValidate']({'request':_0x41c48d,'schema':va,'ClassRef':We,'execute':(_0x527605,_0x44a260)=>O['readMessage'](_0x527605,_0x44a260)});return _0x466fb2[_0x509efe(0x4c5)](0xc9)['json'](_0x4ec1f4);})[_0x40f50c(0x6a7)](this[_0x40f50c(0x585)](_0x40f50c(0x591)),..._0x3a1c38,async(_0x3658e8,_0x47af0b)=>{const _0xb37eaf=_0x40f50c;let _0x2209a5=await this[_0xb37eaf(0x233)]({'request':_0x3658e8,'schema':Ra,'ClassRef':He,'execute':(_0x1984c4,_0x53fe42)=>O[_0xb37eaf(0x591)](_0x1984c4,_0x53fe42)});return _0x47af0b['status'](0xc9)[_0xb37eaf(0x2b8)](_0x2209a5);})[_0x40f50c(0x4c7)](this[_0x40f50c(0x585)](_0x40f50c(0x1aa)),..._0x3a1c38,async(_0x1ea020,_0xb935b0)=>{const _0x5640b5=_0x40f50c;let _0x465787=await this[_0x5640b5(0x233)]({'request':_0x1ea020,'schema':Ma,'ClassRef':ze,'execute':(_0x2f52a2,_0xcababe)=>O[_0x5640b5(0x38a)](_0x2f52a2,_0xcababe)});return _0xb935b0[_0x5640b5(0x4c5)](0xc9)[_0x5640b5(0x2b8)](_0x465787);})[_0x40f50c(0x525)](this[_0x40f50c(0x585)](_0x40f50c(0x508)),..._0x3a1c38,async(_0x43d772,_0x479e78)=>{const _0x41c337=_0x40f50c;let _0x199b8e=await this[_0x41c337(0x233)]({'request':_0x43d772,'schema':Te,'ClassRef':ve,'execute':(_0x513697,_0x371540)=>O[_0x41c337(0x3a7)](_0x513697,_0x371540)});return _0x479e78[_0x41c337(0x4c5)](0xc8)[_0x41c337(0x2b8)](_0x199b8e);})[_0x40f50c(0x525)](this[_0x40f50c(0x585)](_0x40f50c(0x204)),..._0x3a1c38,async(_0x874149,_0x440853)=>{const _0x304b12=_0x40f50c;let _0x4bb609=await this[_0x304b12(0x233)]({'request':_0x874149,'schema':Pa,'ClassRef':ve,'execute':(_0x57425a,_0x7ad462)=>O[_0x304b12(0x204)](_0x57425a,_0x7ad462)});return _0x440853[_0x304b12(0x4c5)](0xc8)[_0x304b12(0x2b8)](_0x4bb609);})[_0x40f50c(0x525)](this[_0x40f50c(0x585)](_0x40f50c(0x4b4)),..._0x3a1c38,async(_0x4f022f,_0x52ef7e)=>{const _0x2a215a=_0x40f50c;let _0x1410bc=await this[_0x2a215a(0x233)]({'request':_0x4f022f,'schema':Aa,'ClassRef':Xe,'execute':(_0x4d3400,_0x1e556c)=>O[_0x2a215a(0x257)](_0x4d3400,_0x1e556c)});return _0x52ef7e[_0x2a215a(0x4c5)](0xc8)[_0x2a215a(0x2b8)](_0x1410bc);})[_0x40f50c(0x525)](this['routerPath'](_0x40f50c(0x3b7)),..._0x3a1c38,async(_0x314615,_0x217921)=>{const _0x573e80=_0x40f50c;let _0x455c0c=await this[_0x573e80(0x233)]({'request':_0x314615,'schema':null,'ClassRef':Object,'execute':(_0x78ca11,_0x51d281)=>O[_0x573e80(0x3b7)](_0x78ca11,_0x51d281)});return _0x217921[_0x573e80(0x4c5)](0xc9)['json'](_0x455c0c);})[_0x40f50c(0x525)](this[_0x40f50c(0x585)](_0x40f50c(0x5ae)),..._0x3a1c38,async(_0x25687e,_0x52efc9)=>{const _0x38d174=_0x40f50c;let _0x2d7e53=await this['dataValidate']({'request':_0x25687e,'schema':Oa,'ClassRef':Ve,'execute':(_0x5a8ca9,_0xf00de8)=>O[_0x38d174(0x1c0)](_0x5a8ca9,_0xf00de8)});return _0x52efc9[_0x38d174(0x4c5)](0xc8)[_0x38d174(0x2b8)](_0x2d7e53);})[_0x40f50c(0x525)](this['routerPath'](_0x40f50c(0x4de)),..._0x3a1c38,async(_0x14996b,_0x32c215)=>{const _0x1e0a57=_0x40f50c;let _0x2c1bbd=await this['dataValidate']({'request':_0x14996b,'schema':_a,'ClassRef':tt,'execute':(_0x1e4bcb,_0x5e578c)=>O['fetchStatusMessage'](_0x1e4bcb,_0x5e578c)});return _0x32c215['status'](0xc8)[_0x1e0a57(0x2b8)](_0x2c1bbd);})[_0x40f50c(0x2cc)](this[_0x40f50c(0x585)]('findChats'),..._0x3a1c38,async(_0x35e52e,_0x42c72b)=>{const _0x427538=_0x40f50c;let _0x2af763=await this[_0x427538(0x233)]({'request':_0x35e52e,'schema':null,'ClassRef':b,'execute':_0x54ffce=>O[_0x427538(0x29d)](_0x54ffce)});return _0x42c72b[_0x427538(0x4c5)](0xc8)[_0x427538(0x2b8)](_0x2af763);})['get'](this['routerPath'](_0x40f50c(0x509)),..._0x3a1c38,async(_0x30fd29,_0x2a8c19)=>{const _0x48bf24=_0x40f50c;let _0x2896ec=await this['dataValidate']({'request':_0x30fd29,'schema':null,'ClassRef':b,'execute':_0x2dd9cc=>O[_0x48bf24(0x509)](_0x2dd9cc)});return _0x2a8c19['status'](0xc8)[_0x48bf24(0x2b8)](_0x2896ec);})['put'](this[_0x40f50c(0x585)](_0x40f50c(0x5f3)),..._0x3a1c38,async(_0x3dd660,_0x47648f)=>{const _0x1d84fc=_0x40f50c;let _0x2f3bb5=await this[_0x1d84fc(0x233)]({'request':_0x3dd660,'schema':Ta,'ClassRef':Ke,'execute':(_0x7e13d,_0xff1963)=>O[_0x1d84fc(0x5f3)](_0x7e13d,_0xff1963)});return _0x47648f['status'](0xc9)[_0x1d84fc(0x2b8)](_0x2f3bb5);})[_0x40f50c(0x525)](this['routerPath'](_0x40f50c(0x193)),..._0x3a1c38,async(_0x56ff46,_0x11ab4f)=>{const _0x32a591=_0x40f50c;let _0xb03f14=await this[_0x32a591(0x233)]({'request':_0x56ff46,'schema':Te,'ClassRef':fe,'execute':(_0x12f44f,_0x26b8ff)=>O[_0x32a591(0x193)](_0x12f44f,_0x26b8ff)});return _0x11ab4f[_0x32a591(0x4c5)](0xc8)[_0x32a591(0x2b8)](_0xb03f14);})[_0x40f50c(0x525)](this['routerPath']('updateProfileName'),..._0x3a1c38,async(_0x12d74f,_0x5b097e)=>{const _0x1ca0f6=_0x40f50c;let _0x2db6e4=await this[_0x1ca0f6(0x233)]({'request':_0x12d74f,'schema':Ia,'ClassRef':qe,'execute':(_0x2e5500,_0x42b3e5)=>O[_0x1ca0f6(0x24f)](_0x2e5500,_0x42b3e5)});return _0x5b097e[_0x1ca0f6(0x4c5)](0xc8)['json'](_0x2db6e4);})['post'](this[_0x40f50c(0x585)](_0x40f50c(0x46b)),..._0x3a1c38,async(_0x65234a,_0x4cb3c2)=>{const _0x3d0721=_0x40f50c;let _0x178922=await this[_0x3d0721(0x233)]({'request':_0x65234a,'schema':Da,'ClassRef':Je,'execute':(_0x447a2a,_0xd89775)=>O['updateProfileStatus'](_0x447a2a,_0xd89775)});return _0x4cb3c2[_0x3d0721(0x4c5)](0xc8)['json'](_0x178922);})[_0x40f50c(0x6a7)](this[_0x40f50c(0x585)](_0x40f50c(0x653)),..._0x3a1c38,async(_0x4b0b88,_0x57e7fe)=>{const _0x17b84b=_0x40f50c;let _0x371ff7=await this['dataValidate']({'request':_0x4b0b88,'schema':Te,'ClassRef':fe,'execute':(_0x57c8f5,_0x1cdb77)=>O[_0x17b84b(0x653)](_0x57c8f5,_0x1cdb77)});return _0x57e7fe[_0x17b84b(0x4c5)](0xc8)[_0x17b84b(0x2b8)](_0x371ff7);})[_0x40f50c(0x4c7)](this[_0x40f50c(0x585)](_0x40f50c(0x40a)),..._0x3a1c38,async(_0x21f7a2,_0x63acf3)=>{const _0x23de2d=_0x40f50c;let _0x7ede9d=await this[_0x23de2d(0x233)]({'request':_0x21f7a2,'schema':Te,'ClassRef':fe,'execute':(_0x40c1bc,_0x5df901)=>O[_0x23de2d(0x40a)](_0x40c1bc,_0x5df901)});return _0x63acf3[_0x23de2d(0x4c5)](0xc8)[_0x23de2d(0x2b8)](_0x7ede9d);});}},qa=require(a0_0x28e68b(0x5e7)),ot=class{},it=class{},rt=class{},nt=class{},ct=class{},Y=class{},lt=class{},ut=class extends Y{},dt=class extends Y{},pt=class extends _{constructor(..._0xfd44d7){const _0x5cf2f7=a0_0x28e68b;super(),this[_0x5cf2f7(0x20e)]=(0x0,qa['Router'])(),this[_0x5cf2f7(0x20e)][_0x5cf2f7(0x525)](this['routerPath'](_0x5cf2f7(0x598)),..._0xfd44d7,async(_0x1ed941,_0x1d2896)=>{const _0x2d6c84=_0x5cf2f7;let _0x317229=await this['dataValidate']({'request':_0x1ed941,'schema':xa,'ClassRef':ot,'execute':(_0xde73d2,_0x36c2b4)=>U[_0x2d6c84(0x19c)](_0xde73d2,_0x36c2b4)});_0x1d2896[_0x2d6c84(0x4c5)](0xc9)[_0x2d6c84(0x2b8)](_0x317229);})['put'](this[_0x5cf2f7(0x585)](_0x5cf2f7(0x673)),..._0xfd44d7,async(_0x12b13c,_0x36b3a0)=>{const _0x3b067f=_0x5cf2f7;let _0x2eb40b=await this['groupValidate']({'request':_0x12b13c,'schema':La,'ClassRef':it,'execute':(_0x5380bc,_0x108bd0)=>U[_0x3b067f(0x673)](_0x5380bc,_0x108bd0)});_0x36b3a0[_0x3b067f(0x4c5)](0xc9)[_0x3b067f(0x2b8)](_0x2eb40b);})[_0x5cf2f7(0x6a7)](this[_0x5cf2f7(0x585)](_0x5cf2f7(0x1e7)),..._0xfd44d7,async(_0x5cee81,_0x405461)=>{const _0x5967e3=_0x5cf2f7;let _0x43b12a=await this[_0x5967e3(0x2df)]({'request':_0x5cee81,'schema':Ua,'ClassRef':rt,'execute':(_0x595fc5,_0x7482b5)=>U[_0x5967e3(0x1e7)](_0x595fc5,_0x7482b5)});_0x405461[_0x5967e3(0x4c5)](0xc9)[_0x5967e3(0x2b8)](_0x43b12a);})[_0x5cf2f7(0x6a7)](this[_0x5cf2f7(0x585)](_0x5cf2f7(0x5a3)),..._0xfd44d7,async(_0x30e25e,_0x4e583a)=>{const _0x56aa92=_0x5cf2f7;let _0x1318c5=await this[_0x56aa92(0x2df)]({'request':_0x30e25e,'schema':Va,'ClassRef':nt,'execute':(_0x368574,_0x2cfdb6)=>U[_0x56aa92(0x5a3)](_0x368574,_0x2cfdb6)});_0x4e583a[_0x56aa92(0x4c5)](0xc9)[_0x56aa92(0x2b8)](_0x1318c5);})[_0x5cf2f7(0x6a7)](this[_0x5cf2f7(0x585)](_0x5cf2f7(0x353)),..._0xfd44d7,async(_0x1dd1de,_0x38d15c)=>{const _0x4d34e3=_0x5cf2f7;let _0xea2a7e=await this[_0x4d34e3(0x2df)]({'request':_0x1dd1de,'schema':ja,'ClassRef':ct,'execute':(_0x14f8cd,_0x21d05c)=>U[_0x4d34e3(0x353)](_0x14f8cd,_0x21d05c)});_0x38d15c[_0x4d34e3(0x4c5)](0xc9)[_0x4d34e3(0x2b8)](_0xea2a7e);})[_0x5cf2f7(0x6a7)](this[_0x5cf2f7(0x585)](_0x5cf2f7(0x23e)),..._0xfd44d7,async(_0x1dec6e,_0x243604)=>{const _0x529ea4=_0x5cf2f7;let _0x5671c7=await this[_0x529ea4(0x2df)]({'request':_0x1dec6e,'schema':ka,'ClassRef':dt,'execute':(_0x412d96,_0x41e911)=>U[_0x529ea4(0x23e)](_0x412d96,_0x41e911)});_0x243604[_0x529ea4(0x4c5)](0xc9)[_0x529ea4(0x2b8)](_0x5671c7);})[_0x5cf2f7(0x2cc)](this['routerPath'](_0x5cf2f7(0x141)),..._0xfd44d7,async(_0x45a104,_0x21320c)=>{const _0x44cffb=_0x5cf2f7;let _0x4f0c64=await this[_0x44cffb(0x2df)]({'request':_0x45a104,'schema':Re,'ClassRef':Y,'execute':(_0x15fc83,_0x14d493)=>U['findGroupInfo'](_0x15fc83,_0x14d493)});_0x21320c[_0x44cffb(0x4c5)](0xc8)[_0x44cffb(0x2b8)](_0x4f0c64);})[_0x5cf2f7(0x2cc)](this[_0x5cf2f7(0x585)]('findGroups'),..._0xfd44d7,async(_0x45ca98,_0xe8725a)=>{const _0x30c628=_0x5cf2f7;let _0x331119=await this[_0x30c628(0x233)]({'request':_0x45ca98,'schema':C,'ClassRef':b,'execute':_0x17617e=>U[_0x30c628(0x22e)](_0x17617e)});_0xe8725a[_0x30c628(0x4c5)](0xc8)[_0x30c628(0x2b8)](_0x331119);})[_0x5cf2f7(0x2cc)](this[_0x5cf2f7(0x585)]('participants'),..._0xfd44d7,async(_0x1e921f,_0x1e4bda)=>{const _0x4b475e=_0x5cf2f7;let _0x38ef83=await this[_0x4b475e(0x2df)]({'request':_0x1e921f,'schema':Re,'ClassRef':Y,'execute':(_0x2cf91b,_0xcdedf5)=>U[_0x4b475e(0x3f8)](_0x2cf91b,_0xcdedf5)});_0x1e4bda[_0x4b475e(0x4c5)](0xc8)[_0x4b475e(0x2b8)](_0x38ef83);})[_0x5cf2f7(0x2cc)](this[_0x5cf2f7(0x585)]('inviteCode'),..._0xfd44d7,async(_0x4ce7fb,_0x39c4de)=>{const _0x16cb4b=_0x5cf2f7;let _0x4e02eb=await this[_0x16cb4b(0x2df)]({'request':_0x4ce7fb,'schema':Re,'ClassRef':Y,'execute':(_0x5186bc,_0x35d428)=>U['inviteCode'](_0x5186bc,_0x35d428)});_0x39c4de[_0x16cb4b(0x4c5)](0xc8)[_0x16cb4b(0x2b8)](_0x4e02eb);})[_0x5cf2f7(0x6a7)](this[_0x5cf2f7(0x585)](_0x5cf2f7(0x57d)),..._0xfd44d7,async(_0x5d5d9a,_0x2522e5)=>{const _0x6e048e=_0x5cf2f7;let _0x343c65=await this[_0x6e048e(0x187)]({'request':_0x5d5d9a,'schema':Ba,'ClassRef':lt,'execute':(_0x3ed1c1,_0x299910)=>U[_0x6e048e(0x57d)](_0x3ed1c1,_0x299910)});_0x2522e5[_0x6e048e(0x4c5)](0xc9)[_0x6e048e(0x2b8)](_0x343c65);})[_0x5cf2f7(0x6a7)](this[_0x5cf2f7(0x585)]('revokeInviteCode'),..._0xfd44d7,async(_0x359b59,_0x321cfa)=>{const _0x44b055=_0x5cf2f7;let _0x143b15=await this[_0x44b055(0x2df)]({'request':_0x359b59,'schema':Re,'ClassRef':Y,'execute':(_0x531cfb,_0x394a2c)=>U[_0x44b055(0x4c8)](_0x531cfb,_0x394a2c)});_0x321cfa[_0x44b055(0x4c5)](0xc9)[_0x44b055(0x2b8)](_0x143b15);})['put'](this['routerPath']('updateParticipant'),..._0xfd44d7,async(_0x2ecc01,_0x115aa4)=>{const _0x30ec64=_0x5cf2f7;let _0x2925c8=await this[_0x30ec64(0x2df)]({'request':_0x2ecc01,'schema':$a,'ClassRef':ut,'execute':(_0x478e5d,_0x4f6d14)=>U[_0x30ec64(0x425)](_0x478e5d,_0x4f6d14)});_0x115aa4[_0x30ec64(0x4c5)](0xc9)[_0x30ec64(0x2b8)](_0x2925c8);})[_0x5cf2f7(0x4c7)](this[_0x5cf2f7(0x585)]('leaveGroup'),..._0xfd44d7,async(_0x44ddc8,_0x26f38e)=>{const _0x31c7e3=_0x5cf2f7;let _0x1b2d16=await this['groupValidate']({'request':_0x44ddc8,'schema':{},'ClassRef':Y,'execute':(_0x21e445,_0x4c048a)=>U['leaveGroup'](_0x21e445,_0x4c048a)});_0x26f38e[_0x31c7e3(0x4c5)](0xc8)['json'](_0x1b2d16);});}},Ha=require(a0_0x28e68b(0x5e7)),Pe=require('jsonwebtoken'),gs=require(a0_0x28e68b(0x2e4)),Ja=require(a0_0x28e68b(0x1c6)),Wa=T(require(a0_0x28e68b(0x1f5))),mt=class{},gt=class l{constructor(_0x297d2e,_0x5ca9c3,_0x546636){const _0xe676f2=a0_0x28e68b;this['configService']=_0x297d2e,this[_0xe676f2(0x20d)]=_0x5ca9c3,this['repository']=_0x546636,this[_0xe676f2(0x602)]=new v(l['name']);}async['jwt'](_0x5043ca){const _0x2160a5=a0_0x28e68b;let _0x603039=this[_0x2160a5(0x1ba)][_0x2160a5(0x2cc)](_0x2160a5(0x231))['JWT'],_0x81452f=(0x0,Pe[_0x2160a5(0x2ab)])({'instanceName':_0x5043ca[_0x2160a5(0x28e)],'apiName':Ye,'tokenId':(0x0,gs['v4'])()},_0x603039[_0x2160a5(0x474)],{'expiresIn':_0x603039['EXPIRIN_IN'],'encoding':_0x2160a5(0x443),'subject':_0x2160a5(0x3d7)}),_0x4b067e=await this[_0x2160a5(0x641)]['auth'][_0x2160a5(0x598)]({'jwt':_0x81452f},_0x5043ca['instanceName']);if(_0x4b067e[_0x2160a5(0x197)])throw this[_0x2160a5(0x602)][_0x2160a5(0x197)]({'localError':l[_0x2160a5(0x35d)]+_0x2160a5(0x279),'error':_0x4b067e['error']}),new m(_0x2160a5(0x518),_0x4b067e[_0x2160a5(0x197)]?.[_0x2160a5(0x3d0)]());return{'jwt':_0x81452f};}async[a0_0x28e68b(0x21a)](_0x40080b){const _0x272986=a0_0x28e68b;let _0x8892a1=(0x0,gs['v4'])()[_0x272986(0x4ad)](),_0x463e6c=await this['repository'][_0x272986(0x2e5)][_0x272986(0x598)]({'apikey':_0x8892a1},_0x40080b[_0x272986(0x28e)]);if(_0x463e6c[_0x272986(0x197)])throw this[_0x272986(0x602)][_0x272986(0x197)]({'localError':l[_0x272986(0x35d)]+_0x272986(0x279),'error':_0x463e6c['error']}),new m(_0x272986(0x518),_0x463e6c[_0x272986(0x197)]?.['toString']());return{'apikey':_0x8892a1};}async[a0_0x28e68b(0x3a3)](_0x1105a7){const _0x464d4a=a0_0x28e68b;let _0x100a62=this[_0x464d4a(0x1ba)]['get'](_0x464d4a(0x231));return await this[_0x100a62['TYPE']](_0x1105a7);}async[a0_0x28e68b(0x1bf)]({oldToken:_0x42904f}){const _0x3ee3d5=a0_0x28e68b;if(!(0x0,Ja[_0x3ee3d5(0x142)])(_0x42904f))throw new m(_0x3ee3d5(0x4eb));try{let _0x596316=this[_0x3ee3d5(0x1ba)]['get']('AUTHENTICATION')[_0x3ee3d5(0x5d1)],_0x208ed6=(0x0,Pe[_0x3ee3d5(0x4f8)])(_0x42904f,_0x596316[_0x3ee3d5(0x474)],{'ignoreExpiration':!0x0}),_0x5904f2=await this['repository'][_0x3ee3d5(0x2e5)][_0x3ee3d5(0x1bc)](_0x208ed6['instanceName']),_0x47cca3=(0x0,Pe[_0x3ee3d5(0x4f8)])(_0x5904f2[_0x3ee3d5(0x30b)],_0x596316['SECRET'],{'ignoreExpiration':!0x0});if(_0x208ed6[_0x3ee3d5(0x5a4)]!==_0x47cca3['tokenId'])throw new m(_0x3ee3d5(0x4eb));let _0x13b133={'jwt':(await this[_0x3ee3d5(0x30b)]({'instanceName':_0x208ed6['instanceName']}))['jwt'],'instanceName':_0x208ed6[_0x3ee3d5(0x28e)]};try{let _0x3de9cc=await this[_0x3ee3d5(0x641)][_0x3ee3d5(0x44e)]['find'](_0x208ed6[_0x3ee3d5(0x28e)]);_0x3de9cc?.[_0x3ee3d5(0x316)]&&this['configService'][_0x3ee3d5(0x2cc)](_0x3ee3d5(0x29e))[_0x3ee3d5(0x46e)]['NEW_JWT_TOKEN']&&await Wa['default'][_0x3ee3d5(0x598)]({'baseURL':_0x3de9cc[_0x3ee3d5(0x255)]})[_0x3ee3d5(0x525)]('',{'event':_0x3ee3d5(0x11e),'instance':_0x208ed6['instanceName'],'data':_0x13b133},{'params':{'owner':this[_0x3ee3d5(0x20d)]['waInstances'][_0x208ed6[_0x3ee3d5(0x28e)]]['wuid']}});}catch(_0x36aa2b){this[_0x3ee3d5(0x602)]['error'](_0x36aa2b);}return _0x13b133;}catch(_0x350fec){throw this[_0x3ee3d5(0x602)][_0x3ee3d5(0x197)]({'localError':l[_0x3ee3d5(0x35d)]+_0x3ee3d5(0x2db),'error':_0x350fec}),new m(_0x3ee3d5(0x4eb));}}},ht=class extends _{constructor(_0x5b7593,..._0x15fc8f){const _0x2691ac=a0_0x28e68b;super(),this[_0x2691ac(0x1ba)]=_0x5b7593,this[_0x2691ac(0x20e)]=(0x0,Ha[_0x2691ac(0x449)])();let _0x4992c1=_0x5b7593[_0x2691ac(0x2cc)](_0x2691ac(0x231));this[_0x2691ac(0x20e)]['post'](_0x2691ac(0x191),..._0x15fc8f,async(_0x3098ad,_0x33be64)=>{const _0xb2499d=_0x2691ac;let {instanceName:_0x4adc18,apikey:_0x576c0b}=_0x3098ad[_0xb2499d(0x69f)],_0x330fa8=await ne['createInstance']({'instanceName':_0x4adc18,'apikey':_0x576c0b});return _0x33be64[_0xb2499d(0x4c5)](0xc9)[_0xb2499d(0x2b8)](_0x330fa8);})[_0x2691ac(0x6a7)](this[_0x2691ac(0x585)](_0x2691ac(0x4b5)),..._0x15fc8f,async(_0x320bed,_0x2a3c6b)=>{const _0x5d5af8=_0x2691ac;let _0x3f007c=await this[_0x5d5af8(0x233)]({'request':_0x320bed,'schema':C,'ClassRef':b,'execute':_0x61adce=>ne['restartInstance'](_0x61adce)});return _0x2a3c6b[_0x5d5af8(0x4c5)](0xc8)[_0x5d5af8(0x2b8)](_0x3f007c);})[_0x2691ac(0x2cc)](this['routerPath'](_0x2691ac(0x672)),..._0x15fc8f,async(_0x10414c,_0x4a8597)=>{const _0x2f1bee=_0x2691ac;let _0x241e22=await this[_0x2f1bee(0x233)]({'request':_0x10414c,'schema':C,'ClassRef':b,'execute':_0x44e218=>ne['connectToWhatsapp'](_0x44e218)});return _0x4a8597[_0x2f1bee(0x4c5)](0xc8)[_0x2f1bee(0x2b8)](_0x241e22);})[_0x2691ac(0x2cc)](this[_0x2691ac(0x585)](_0x2691ac(0x462)),..._0x15fc8f,async(_0x5e3e80,_0x1e3fcf)=>{const _0x2e95d9=_0x2691ac;let _0x3023e7=await this[_0x2e95d9(0x233)]({'request':_0x5e3e80,'schema':C,'ClassRef':b,'execute':_0xb8262a=>ne[_0x2e95d9(0x462)](_0xb8262a)});return _0x1e3fcf[_0x2e95d9(0x4c5)](0xc8)[_0x2e95d9(0x2b8)](_0x3023e7);})[_0x2691ac(0x2cc)](this[_0x2691ac(0x585)](_0x2691ac(0x5c9),!0x1),..._0x15fc8f,async(_0x582e65,_0x27db15)=>{const _0x39c588=_0x2691ac;let _0x5098bc=await this[_0x39c588(0x233)]({'request':_0x582e65,'schema':null,'ClassRef':b,'execute':_0xb0fe9e=>ne[_0x39c588(0x5c9)](_0xb0fe9e)});return _0x27db15['status'](0xc8)[_0x39c588(0x2b8)](_0x5098bc);})[_0x2691ac(0x4c7)](this[_0x2691ac(0x585)](_0x2691ac(0x596)),..._0x15fc8f,async(_0x4c096e,_0x678cb7)=>{const _0x2320f5=_0x2691ac;let _0x1b49f4=await this[_0x2320f5(0x233)]({'request':_0x4c096e,'schema':C,'ClassRef':b,'execute':_0x558f40=>ne[_0x2320f5(0x596)](_0x558f40)});return _0x678cb7[_0x2320f5(0x4c5)](0xc8)['json'](_0x1b49f4);})[_0x2691ac(0x4c7)](this[_0x2691ac(0x585)](_0x2691ac(0x4c7)),..._0x15fc8f,async(_0x109a52,_0x4cb014)=>{const _0x2775e7=_0x2691ac;let _0x15b81a=await this[_0x2775e7(0x233)]({'request':_0x109a52,'schema':C,'ClassRef':b,'execute':_0x35a3ab=>ne[_0x2775e7(0x63e)](_0x35a3ab)});return _0x4cb014[_0x2775e7(0x4c5)](0xc8)['json'](_0x15b81a);}),_0x4992c1[_0x2691ac(0x649)]===_0x2691ac(0x30b)&&this[_0x2691ac(0x20e)][_0x2691ac(0x6a7)](_0x2691ac(0x2b4),async(_0xc2415c,_0x58ebfe)=>{const _0x2fe588=_0x2691ac;let _0x51f203=await this[_0x2fe588(0x233)]({'request':_0xc2415c,'schema':ua,'ClassRef':mt,'execute':(_0x1ef70b,_0x4068a6)=>ne[_0x2fe588(0x1bf)](_0x1ef70b,_0x4068a6)});return _0x58ebfe[_0x2fe588(0x4c5)](0xc9)[_0x2fe588(0x2b8)](_0x51f203);});}},Ka=require(a0_0x28e68b(0x5e7)),hs=class{},K=class extends hs{},ft=class extends K{},wt=class extends K{},yt=class extends K{},Oe=class extends K{},bt=class extends K{},St=class extends K{},Et=class extends K{},Nt=class extends K{},Ct=class extends K{},vt=class{},Tt=class extends _{constructor(..._0x257504){const _0x3265c8=a0_0x28e68b;super(),this[_0x3265c8(0x20e)]=(0x0,Ka[_0x3265c8(0x449)])(),this[_0x3265c8(0x20e)][_0x3265c8(0x525)](this[_0x3265c8(0x585)](_0x3265c8(0x6be)),..._0x257504,async(_0x4e34de,_0x27a12d)=>{const _0x5e4a44=_0x3265c8;let _0x28571e=await this[_0x5e4a44(0x233)]({'request':_0x4e34de,'schema':da,'ClassRef':ft,'execute':(_0x4ceb8c,_0x575a0c)=>W[_0x5e4a44(0x6be)](_0x4ceb8c,_0x575a0c)});return _0x27a12d[_0x5e4a44(0x4c5)](0xc9)[_0x5e4a44(0x2b8)](_0x28571e);})[_0x3265c8(0x525)](this[_0x3265c8(0x585)](_0x3265c8(0x104)),..._0x257504,async(_0x154d8c,_0x538c36)=>{const _0x18396a=_0x3265c8;let _0x1fd536=await this[_0x18396a(0x233)]({'request':_0x154d8c,'schema':ha,'ClassRef':Oe,'execute':(_0x3d1e6c,_0x56d43a)=>W['sendMedia'](_0x3d1e6c,_0x56d43a)});return _0x538c36[_0x18396a(0x4c5)](0xc9)[_0x18396a(0x2b8)](_0x1fd536);})['post'](this[_0x3265c8(0x585)]('sendWhatsAppAudio'),..._0x257504,async(_0x3ef92c,_0x16862a)=>{const _0x383a68=_0x3265c8;let _0x3bfe74=await this[_0x383a68(0x233)]({'request':_0x3ef92c,'schema':fa,'ClassRef':Oe,'execute':(_0x599a2f,_0x1ff2a8)=>W[_0x383a68(0x125)](_0x599a2f,_0x1ff2a8)});return _0x16862a['status'](0xc9)[_0x383a68(0x2b8)](_0x3bfe74);})[_0x3265c8(0x525)](this[_0x3265c8(0x585)](_0x3265c8(0x3be)),..._0x257504,async(_0x5257a4,_0x1bdb0a)=>{const _0x1d782b=_0x3265c8;let _0x109fb8=await this[_0x1d782b(0x233)]({'request':_0x5257a4,'schema':ya,'ClassRef':St,'execute':(_0x2c8857,_0x42a15c)=>W[_0x1d782b(0x3be)](_0x2c8857,_0x42a15c)});return _0x1bdb0a['status'](0xc9)[_0x1d782b(0x2b8)](_0x109fb8);})[_0x3265c8(0x525)](this['routerPath']('sendLocation'),..._0x257504,async(_0x70c3c0,_0x2647de)=>{const _0x55cd6c=_0x3265c8;let _0x508189=await this['dataValidate']({'request':_0x70c3c0,'schema':ba,'ClassRef':Et,'execute':(_0x5f325c,_0x1b1286)=>W[_0x55cd6c(0x2b1)](_0x5f325c,_0x1b1286)});return _0x2647de['status'](0xc9)[_0x55cd6c(0x2b8)](_0x508189);})[_0x3265c8(0x525)](this[_0x3265c8(0x585)]('sendList'),..._0x257504,async(_0x34c678,_0x3a60f8)=>{const _0x518332=_0x3265c8;let _0x3eacd3=await this[_0x518332(0x233)]({'request':_0x34c678,'schema':Sa,'ClassRef':Nt,'execute':(_0x1bc677,_0x199cb9)=>W[_0x518332(0x3dc)](_0x1bc677,_0x199cb9)});return _0x3a60f8['status'](0xc9)['json'](_0x3eacd3);})[_0x3265c8(0x525)](this[_0x3265c8(0x585)](_0x3265c8(0xff)),..._0x257504,async(_0x243e6b,_0x35cd24)=>{const _0x534136=_0x3265c8;let _0x2b492f=await this[_0x534136(0x233)]({'request':_0x243e6b,'schema':Ea,'ClassRef':Ct,'execute':(_0x82eed8,_0xb079ff)=>W[_0x534136(0xff)](_0x82eed8,_0xb079ff)});return _0x35cd24[_0x534136(0x4c5)](0xc9)[_0x534136(0x2b8)](_0x2b492f);})[_0x3265c8(0x525)](this[_0x3265c8(0x585)](_0x3265c8(0x393)),..._0x257504,async(_0x16a303,_0x447a62)=>{const _0xaf62df=_0x3265c8;let _0x5ce210=await this[_0xaf62df(0x233)]({'request':_0x16a303,'schema':Na,'ClassRef':vt,'execute':(_0x5a9cdf,_0x51632a)=>W[_0xaf62df(0x393)](_0x5a9cdf,_0x51632a)});return _0x447a62[_0xaf62df(0x4c5)](0xc9)['json'](_0x5ce210);})[_0x3265c8(0x525)](this[_0x3265c8(0x585)](_0x3265c8(0x329)),..._0x257504,async(_0x83331e,_0x52c16c)=>{const _0x5d0984=_0x3265c8;let _0x2a7a38=await this[_0x5d0984(0x233)]({'request':_0x83331e,'schema':wa,'ClassRef':yt,'execute':(_0x4a9947,_0x1f355e)=>W[_0x5d0984(0x329)](_0x4a9947,_0x1f355e)});return _0x52c16c['status'](0xc9)[_0x5d0984(0x2b8)](_0x2a7a38);})[_0x3265c8(0x525)](this[_0x3265c8(0x585)](_0x3265c8(0x249)),..._0x257504,async(_0x1f49c0,_0x4e913c)=>{const _0x7ef43d=_0x3265c8;let _0x391225=await this[_0x7ef43d(0x233)]({'request':_0x1f49c0,'schema':ga,'ClassRef':wt,'execute':(_0x305bd1,_0xac3152)=>W[_0x7ef43d(0x249)](_0x305bd1,_0xac3152)});return _0x4e913c[_0x7ef43d(0x4c5)](0xc9)[_0x7ef43d(0x2b8)](_0x391225);})['post'](this['routerPath'](_0x3265c8(0x5d0)),..._0x257504,async(_0x423c63,_0x28cfb0)=>{const _0x28fadd=_0x3265c8;let _0x5edfd0=await this[_0x28fadd(0x233)]({'request':_0x423c63,'schema':ma,'ClassRef':bt,'execute':(_0x4e20bc,_0x2843b6)=>W[_0x28fadd(0x5d0)](_0x4e20bc,_0x2843b6)});return _0x28cfb0[_0x28fadd(0x4c5)](0xc9)[_0x28fadd(0x2b8)](_0x5edfd0);});}},za=require(a0_0x28e68b(0x5e7)),Rt=class extends _{constructor(..._0x2cdd1f){const _0x5b2f29=a0_0x28e68b;super(),this['router']=(0x0,za[_0x5b2f29(0x449)])(),this[_0x5b2f29(0x20e)][_0x5b2f29(0x2cc)](this[_0x5b2f29(0x585)](_0x5b2f29(0x206)),..._0x2cdd1f,(_0x2287df,_0x1e069e)=>Qa[_0x5b2f29(0x206)](_0x2287df,_0x1e069e));}},Ya=require(a0_0x28e68b(0x5e7)),Mt=class{},At=class extends _{constructor(..._0x4fb1b5){const _0x5f3699=a0_0x28e68b;super(),this[_0x5f3699(0x20e)]=(0x0,Ya[_0x5f3699(0x449)])(),this[_0x5f3699(0x20e)][_0x5f3699(0x525)](this[_0x5f3699(0x585)](_0x5f3699(0x5de)),..._0x4fb1b5,async(_0x2497ae,_0x406653)=>{const _0x3466bf=_0x5f3699;let _0x112a1b=await this['dataValidate']({'request':_0x2497ae,'schema':Fa,'ClassRef':Mt,'execute':(_0x568b4c,_0x4b310b)=>fs['createWebhook'](_0x568b4c,_0x4b310b)});_0x406653[_0x3466bf(0x4c5)](0xc9)[_0x3466bf(0x2b8)](_0x112a1b);})[_0x5f3699(0x2cc)](this[_0x5f3699(0x585)](_0x5f3699(0x1bc)),..._0x4fb1b5,async(_0xbff944,_0x353dda)=>{const _0x3e89f5=_0x5f3699;let _0x11a103=await this[_0x3e89f5(0x233)]({'request':_0xbff944,'schema':C,'ClassRef':b,'execute':_0x3c75a2=>fs[_0x3e89f5(0x302)](_0x3c75a2)});_0x353dda['status'](0xc8)[_0x3e89f5(0x2b8)](_0x11a103);});}},Xa=require(a0_0x28e68b(0x5e7)),g=new v('FlowRouter'),It=class extends _{constructor(..._0x17548d){const _0x1f1730=a0_0x28e68b;super(),this['router']=(0x0,Xa[_0x1f1730(0x449)])(),this[_0x1f1730(0x20e)][_0x1f1730(0x525)](this[_0x1f1730(0x585)](_0x1f1730(0x5c6)),..._0x17548d,async(_0x2f7762,_0x5c5c36)=>{const _0x29da52=_0x1f1730;let _0x1e3a4c=_0x2f7762[_0x29da52(0x69f)];g['verbose']('request\x20received\x20in\x20scheduleMessage'),g['verbose'](_0x29da52(0x170)),g[_0x29da52(0x690)](_0x2f7762[_0x29da52(0x69f)]);let _0x5e8337=await this['dataValidate']({'request':_0x2f7762,'schema':C,'ClassRef':b,'execute':_0x572a3f=>M['editScheduleMessage'](_0x572a3f,_0x1e3a4c)});_0x5c5c36['status'](0xc8)['json'](_0x5e8337);})[_0x1f1730(0x2cc)](this[_0x1f1730(0x585)](_0x1f1730(0x5c6)),..._0x17548d,async(_0x2b0bce,_0x42b8f2)=>{const _0x5d7a7b=_0x1f1730;let _0x2b5207=await this[_0x5d7a7b(0x233)]({'request':_0x2b0bce,'schema':C,'ClassRef':b,'execute':_0x355560=>M['getScheduleMessage'](_0x355560)});_0x42b8f2[_0x5d7a7b(0x4c5)](0xc8)['json'](_0x2b5207);})['delete'](this[_0x1f1730(0x585)](_0x1f1730(0x3ee)),..._0x17548d,async(_0x9d0ab6,_0x42e031)=>{const _0x2ac94e=_0x1f1730;g[_0x2ac94e(0x690)](_0x2ac94e(0x2cd));let _0x1fad8e=await this[_0x2ac94e(0x233)]({'request':_0x9d0ab6,'schema':C,'ClassRef':b,'execute':_0x259512=>M['deleteDoneMessages'](_0x259512)});_0x42e031[_0x2ac94e(0x4c5)](0xc8)[_0x2ac94e(0x2b8)](_0x1fad8e);})[_0x1f1730(0x525)](this[_0x1f1730(0x585)](_0x1f1730(0x110)),..._0x17548d,async(_0x318f4b,_0x4c0939)=>{const _0x2f7a9b=_0x1f1730;let _0xea3710=_0x318f4b[_0x2f7a9b(0x69f)];g[_0x2f7a9b(0x690)](_0x2f7a9b(0x18a)),g[_0x2f7a9b(0x690)](_0x2f7a9b(0x170)),g['verbose'](_0x318f4b[_0x2f7a9b(0x69f)]);let _0x10fa00=await this['dataValidate']({'request':_0x318f4b,'schema':C,'ClassRef':b,'execute':_0x4c765a=>M[_0x2f7a9b(0x110)](_0x4c765a,_0xea3710)});_0x4c0939[_0x2f7a9b(0x4c5)](0xc8)[_0x2f7a9b(0x2b8)](_0x10fa00);})['get'](this[_0x1f1730(0x585)](_0x1f1730(0x105)),..._0x17548d,async(_0x3c5035,_0x1d0c4f)=>{const _0x3bbebf=_0x1f1730;g[_0x3bbebf(0x690)](_0x3bbebf(0x13f));let _0x187cfb=await this['dataValidate']({'request':_0x3c5035,'schema':C,'ClassRef':b,'execute':_0x1269ab=>M[_0x3bbebf(0x105)](_0x1269ab)});_0x1d0c4f[_0x3bbebf(0x4c5)](0xc8)[_0x3bbebf(0x2b8)](_0x187cfb);})[_0x1f1730(0x2cc)](this[_0x1f1730(0x585)](_0x1f1730(0x4e3)),..._0x17548d,async(_0x22ff7c,_0x3fe564)=>{const _0x2a730a=_0x1f1730;g['verbose'](_0x2a730a(0x4e9));let _0x2ab424=await this[_0x2a730a(0x233)]({'request':_0x22ff7c,'schema':C,'ClassRef':b,'execute':_0xa10003=>M[_0x2a730a(0x105)](_0xa10003)});_0x3fe564[_0x2a730a(0x4c5)](0xc8)['json'](_0x2ab424);})['post'](this[_0x1f1730(0x585)](_0x1f1730(0x109)),..._0x17548d,async(_0x452022,_0x444846)=>{const _0x14df69=_0x1f1730;let _0x564eb1=_0x452022[_0x14df69(0x69f)];g[_0x14df69(0x690)](_0x14df69(0x434)),g[_0x14df69(0x690)](_0x14df69(0x170)),g[_0x14df69(0x690)](_0x452022['body']);let _0x816a44=await this[_0x14df69(0x233)]({'request':_0x452022,'schema':C,'ClassRef':b,'execute':_0x4b3600=>M['updateAgent'](_0x4b3600,_0x564eb1)});_0x444846[_0x14df69(0x4c5)](0xc8)[_0x14df69(0x2b8)](_0x816a44);})[_0x1f1730(0x525)](this[_0x1f1730(0x585)](_0x1f1730(0x461)),..._0x17548d,async(_0x34debb,_0x4658eb)=>{const _0x5dde49=_0x1f1730;let _0x519ad8=_0x34debb[_0x5dde49(0x69f)];g[_0x5dde49(0x690)]('request\x20received\x20in\x20updateCustomFields'),g[_0x5dde49(0x690)]('request\x20body:\x20'),g[_0x5dde49(0x690)](_0x34debb[_0x5dde49(0x69f)]);let _0x1b1398=await this[_0x5dde49(0x233)]({'request':_0x34debb,'schema':C,'ClassRef':b,'execute':_0x392f1d=>M['updateCustomFields'](_0x392f1d,_0x519ad8)});_0x4658eb[_0x5dde49(0x4c5)](0xc8)[_0x5dde49(0x2b8)](_0x1b1398);})['post'](this['routerPath'](_0x1f1730(0x1eb)),..._0x17548d,async(_0x281edf,_0x25942c)=>{const _0x44af70=_0x1f1730;let _0x5e100e=_0x281edf[_0x44af70(0x69f)];g[_0x44af70(0x690)](_0x44af70(0x3e5)),g[_0x44af70(0x690)](_0x44af70(0x170)),g[_0x44af70(0x690)](_0x281edf[_0x44af70(0x69f)]);let _0x361387=await this[_0x44af70(0x233)]({'request':_0x281edf,'schema':C,'ClassRef':b,'execute':_0x540974=>M['updateFlowConfig'](_0x540974,_0x5e100e)});_0x25942c['status'](0xc8)[_0x44af70(0x2b8)](_0x361387);})['post'](this['routerPath'](_0x1f1730(0x526)),..._0x17548d,async(_0x2a25be,_0x69a2a7)=>{const _0x29bbe6=_0x1f1730;let _0x15edfe=_0x2a25be['body'];g[_0x29bbe6(0x690)](_0x29bbe6(0x4f3)),g[_0x29bbe6(0x690)](_0x29bbe6(0x170)),g[_0x29bbe6(0x690)](_0x2a25be[_0x29bbe6(0x69f)]);let _0x4d923a=await this[_0x29bbe6(0x233)]({'request':_0x2a25be,'schema':C,'ClassRef':b,'execute':_0xbc4b59=>M[_0x29bbe6(0x526)](_0xbc4b59,_0x15edfe)});_0x69a2a7[_0x29bbe6(0x4c5)](0xc8)['json'](_0x4d923a);})[_0x1f1730(0x525)](this[_0x1f1730(0x585)](_0x1f1730(0x675)),..._0x17548d,async(_0xf0c5a,_0x269161)=>{const _0x39ff84=_0x1f1730;let _0x5c0b10=_0xf0c5a[_0x39ff84(0x69f)];g['verbose']('request\x20received\x20in\x20fetchConversation'),g[_0x39ff84(0x690)](_0x39ff84(0x170)),g[_0x39ff84(0x690)](_0xf0c5a[_0x39ff84(0x69f)]);let _0x3f3643=await this[_0x39ff84(0x233)]({'request':_0xf0c5a,'schema':C,'ClassRef':b,'execute':_0x1b02dc=>M[_0x39ff84(0x675)](_0x1b02dc,_0x5c0b10)});_0x269161[_0x39ff84(0x4c5)](0xc8)[_0x39ff84(0x2b8)](_0x3f3643);})[_0x1f1730(0x525)](this[_0x1f1730(0x585)](_0x1f1730(0x2ae)),..._0x17548d,async(_0x4b8f44,_0x58e783)=>{const _0x355a9b=_0x1f1730;let _0x20d553=_0x4b8f44[_0x355a9b(0x69f)];g[_0x355a9b(0x690)](_0x355a9b(0x5e3)),g['verbose'](_0x355a9b(0x170)),g[_0x355a9b(0x690)](_0x4b8f44[_0x355a9b(0x69f)]);let _0x2816ee=await this[_0x355a9b(0x233)]({'request':_0x4b8f44,'schema':C,'ClassRef':b,'execute':_0x2330e1=>M['editConversation'](_0x2330e1,_0x20d553)});_0x58e783['status'](0xc8)['json'](_0x2816ee);})[_0x1f1730(0x4c7)](this[_0x1f1730(0x585)](_0x1f1730(0x6ba)),..._0x17548d,async(_0x835415,_0x1ce509)=>{const _0x43d126=_0x1f1730;let _0x1ab916=_0x835415[_0x43d126(0x69f)];g[_0x43d126(0x690)]('request\x20received\x20in\x20deleteConversation'),g[_0x43d126(0x690)](_0x43d126(0x170)),g[_0x43d126(0x690)](_0x835415[_0x43d126(0x69f)]);let _0x207649=await this[_0x43d126(0x233)]({'request':_0x835415,'schema':C,'ClassRef':b,'execute':_0x2a7928=>M[_0x43d126(0x6ba)](_0x2a7928,_0x1ab916)});_0x1ce509[_0x43d126(0x4c5)](0xc8)[_0x43d126(0x2b8)](_0x207649);})[_0x1f1730(0x525)](this['routerPath'](_0x1f1730(0x4a2)),..._0x17548d,async(_0x222768,_0x4ebede)=>{const _0x503129=_0x1f1730;let _0x422767=_0x222768[_0x503129(0x69f)];g[_0x503129(0x690)](_0x503129(0x678)),g[_0x503129(0x690)](_0x503129(0x170)),g[_0x503129(0x690)](_0x222768[_0x503129(0x69f)]);let _0x56571e=await this['dataValidate']({'request':_0x222768,'schema':C,'ClassRef':b,'execute':_0x1b01a0=>M[_0x503129(0x4f5)](_0x1b01a0,_0x422767)});_0x4ebede[_0x503129(0x4c5)](0xc8)['json'](_0x56571e);})[_0x1f1730(0x525)](this[_0x1f1730(0x585)](_0x1f1730(0x364)),..._0x17548d,async(_0x2bcfe0,_0x1e56db)=>{const _0x4459da=_0x1f1730;let _0x5cde8c=_0x2bcfe0[_0x4459da(0x69f)];g['verbose'](_0x4459da(0x39a)),g[_0x4459da(0x690)](_0x4459da(0x170)),g['verbose'](_0x2bcfe0[_0x4459da(0x69f)]),delete _0x5cde8c[_0x4459da(0x205)],delete _0x5cde8c['variables'],delete _0x5cde8c[_0x4459da(0x6a6)],delete _0x5cde8c[_0x4459da(0x415)];let _0x1ba98a=await this['dataValidate']({'request':_0x2bcfe0,'schema':C,'ClassRef':b,'execute':_0x275b63=>M[_0x4459da(0x31c)](_0x275b63,_0x5cde8c)});_0x1e56db[_0x4459da(0x4c5)](0xc8)['json'](_0x1ba98a);})[_0x1f1730(0x525)](this[_0x1f1730(0x585)](_0x1f1730(0x26d)),..._0x17548d,async(_0x47c31c,_0x5db83d)=>{const _0x173c8b=_0x1f1730;let _0x4a474e=_0x47c31c[_0x173c8b(0x69f)];g[_0x173c8b(0x690)](_0x173c8b(0x39a)),g[_0x173c8b(0x690)](_0x173c8b(0x170)),g[_0x173c8b(0x690)](_0x47c31c[_0x173c8b(0x69f)]);let _0x1b8814=await this[_0x173c8b(0x233)]({'request':_0x47c31c,'schema':C,'ClassRef':b,'execute':_0x53efd5=>M['editFlowBlock'](_0x53efd5,_0x4a474e)});_0x5db83d[_0x173c8b(0x4c5)](0xc8)['json'](_0x1b8814);})[_0x1f1730(0x525)](this[_0x1f1730(0x585)]('editflowreply'),..._0x17548d,async(_0x23225b,_0x17d7e4)=>{const _0x136e6d=_0x1f1730;let _0x54307e=_0x23225b[_0x136e6d(0x69f)];g[_0x136e6d(0x690)]('request\x20received\x20in\x20editFlow'),g[_0x136e6d(0x690)](_0x136e6d(0x170)),g[_0x136e6d(0x690)](_0x23225b[_0x136e6d(0x69f)]);let _0x183475=await this['dataValidate']({'request':_0x23225b,'schema':C,'ClassRef':b,'execute':_0x519d8c=>M[_0x136e6d(0x15a)](_0x519d8c,_0x54307e)});_0x17d7e4[_0x136e6d(0x4c5)](0xc8)[_0x136e6d(0x2b8)](_0x183475);})[_0x1f1730(0x525)](this[_0x1f1730(0x585)](_0x1f1730(0x56b)),..._0x17548d,async(_0x2306f6,_0x1f89a9)=>{const _0x2f60c5=_0x1f1730;let _0x188206=_0x2306f6[_0x2f60c5(0x69f)];g[_0x2f60c5(0x690)]('request\x20received\x20in\x20editFlow'),g[_0x2f60c5(0x690)](_0x2f60c5(0x170)),g[_0x2f60c5(0x690)](_0x2306f6[_0x2f60c5(0x69f)]);let _0x24b1fd=await this[_0x2f60c5(0x233)]({'request':_0x2306f6,'schema':C,'ClassRef':b,'execute':_0x2440c1=>M[_0x2f60c5(0x38d)](_0x2440c1,_0x188206)});_0x1f89a9[_0x2f60c5(0x4c5)](0xc8)[_0x2f60c5(0x2b8)](_0x24b1fd);})[_0x1f1730(0x525)](this[_0x1f1730(0x585)](_0x1f1730(0x27f)),..._0x17548d,async(_0x253383,_0x44f6ff)=>{const _0x35fd47=_0x1f1730;let _0x4fa8cc=_0x253383['body'];g['verbose'](_0x35fd47(0x25e)),g[_0x35fd47(0x690)](_0x35fd47(0x170)),g[_0x35fd47(0x690)](_0x253383[_0x35fd47(0x69f)]);let _0x3f8d98=await this[_0x35fd47(0x233)]({'request':_0x253383,'schema':C,'ClassRef':b,'execute':_0x3f732b=>M[_0x35fd47(0x366)](_0x3f732b,_0x4fa8cc)});_0x44f6ff[_0x35fd47(0x4c5)](0xc8)[_0x35fd47(0x2b8)](_0x3f8d98);})[_0x1f1730(0x525)](this[_0x1f1730(0x585)](_0x1f1730(0x4c0)),..._0x17548d,async(_0xd26a0b,_0x11d535)=>{const _0x3f51b3=_0x1f1730;let _0x5e4dfc=_0xd26a0b[_0x3f51b3(0x69f)];g[_0x3f51b3(0x690)](_0x3f51b3(0x3e3)),g['verbose'](_0x3f51b3(0x170)),g[_0x3f51b3(0x690)](_0xd26a0b[_0x3f51b3(0x69f)]);let _0x39a665=await this[_0x3f51b3(0x233)]({'request':_0xd26a0b,'schema':C,'ClassRef':b,'execute':_0x150f3d=>M['editFlowCondition'](_0x150f3d,_0x5e4dfc)});_0x11d535[_0x3f51b3(0x4c5)](0xc8)['json'](_0x39a665);})[_0x1f1730(0x525)](this[_0x1f1730(0x585)](_0x1f1730(0x20f)),..._0x17548d,async(_0x5cafd5,_0x398ac7)=>{const _0x422736=_0x1f1730;let _0x13e7af=_0x5cafd5[_0x422736(0x69f)];g['verbose'](_0x422736(0x266)),g[_0x422736(0x690)](_0x422736(0x170)),g['verbose'](_0x5cafd5[_0x422736(0x69f)]);let _0x5f51fe=await this[_0x422736(0x233)]({'request':_0x5cafd5,'schema':C,'ClassRef':b,'execute':_0x57ae32=>M[_0x422736(0x163)](_0x57ae32,_0x13e7af)});_0x398ac7[_0x422736(0x4c5)](0xc8)[_0x422736(0x2b8)](_0x5f51fe);})[_0x1f1730(0x525)](this[_0x1f1730(0x585)](_0x1f1730(0x397)),..._0x17548d,async(_0x4a62b1,_0x589d31)=>{const _0x4e05df=_0x1f1730;let _0x44d695=_0x4a62b1[_0x4e05df(0x69f)];g['verbose'](_0x4e05df(0x1cb)),g[_0x4e05df(0x690)](_0x4e05df(0x170)),g[_0x4e05df(0x690)](_0x4a62b1[_0x4e05df(0x69f)]);let _0x21c968=await this[_0x4e05df(0x233)]({'request':_0x4a62b1,'schema':C,'ClassRef':b,'execute':_0x45e466=>M[_0x4e05df(0x571)](_0x45e466,_0x44d695)});_0x589d31['status'](0xc8)[_0x4e05df(0x2b8)](_0x21c968);})[_0x1f1730(0x4c7)](this[_0x1f1730(0x585)](_0x1f1730(0x34f)),..._0x17548d,async(_0x3344f5,_0x45feda)=>{const _0x459d82=_0x1f1730;let _0x51a718=_0x3344f5[_0x459d82(0x69f)];g[_0x459d82(0x690)](_0x459d82(0x678)),g['verbose'](_0x459d82(0x170)),g[_0x459d82(0x690)](_0x3344f5[_0x459d82(0x69f)]);let _0x3099e9=await this[_0x459d82(0x233)]({'request':_0x3344f5,'schema':C,'ClassRef':b,'execute':_0xf595fb=>M[_0x459d82(0x2f2)](_0xf595fb,_0x51a718)});_0x45feda[_0x459d82(0x4c5)](0xc8)['json'](_0x3099e9);})[_0x1f1730(0x2cc)](this[_0x1f1730(0x585)]('allflows'),..._0x17548d,async(_0x4064c2,_0x1aae4a)=>{const _0x456691=_0x1f1730;g[_0x456691(0x690)](_0x456691(0x5ac));let _0x44319f=await this['dataValidate']({'request':_0x4064c2,'schema':C,'ClassRef':b,'execute':_0x4d1787=>M[_0x456691(0x130)](_0x4d1787)});_0x1aae4a[_0x456691(0x4c5)](0xc8)[_0x456691(0x2b8)](_0x44319f);});}},so=T(require(a0_0x28e68b(0x446))),X={};function Za(_0x183d79,_0x5c4416,_0x1fe01a,_0x1ee960){X[_0x183d79]||(X[_0x183d79]={}),X[_0x183d79][_0x5c4416]={'id':_0x5c4416,'response':_0x1fe01a,'events':_0x1ee960};}function eo(_0xbe83ed,_0x531832){!X[_0xbe83ed]||!X[_0xbe83ed][_0x531832]||delete X[_0xbe83ed][_0x531832];}function H(_0x5168a4,_0x3cd0bc,_0x53b644){const _0x4de9f5=a0_0x28e68b;if(!X[_0x5168a4])return;let _0x2c1d='data:\x20'+JSON[_0x4de9f5(0x409)](_0x53b644)+'\x0a\x0a';Object['values'](X[_0x5168a4])[_0x4de9f5(0x360)](_0x255c5f=>{const _0x20ba70=_0x4de9f5;_0x255c5f[_0x20ba70(0x6a4)][_0x20ba70(0x447)](_0x3cd0bc)&&_0x255c5f[_0x20ba70(0x492)][_0x20ba70(0x6bb)](_0x2c1d);});}function to(){const _0x4b0c8d=a0_0x28e68b;let _0x3c6a9b={};for(let _0x5cd611 in X)_0x3c6a9b[_0x5cd611]=Object[_0x4b0c8d(0x212)](X[_0x5cd611])[_0x4b0c8d(0x5df)](_0x28453f=>({'id':_0x28453f['id'],'events':_0x28453f['events']}));return _0x3c6a9b;}var ao=require(a0_0x28e68b(0x2e4)),li=so[a0_0x28e68b(0x134)][a0_0x28e68b(0x1b8)](__dirname,'downloads'),Pt=(0x0,Dt['Router'])(),ui=y[a0_0x28e68b(0x2cc)](a0_0x28e68b(0x231))[a0_0x28e68b(0x649)],de=[ps,ra,la[ui]];Pt[a0_0x28e68b(0x1b3)](a0_0x28e68b(0x64d),Dt[a0_0x28e68b(0x134)][a0_0x28e68b(0x5be)](li))[a0_0x28e68b(0x2cc)](a0_0x28e68b(0x4fa),async(_0x52b9dd,_0x3bae93)=>{const _0x46bf39=a0_0x28e68b;console[_0x46bf39(0x39e)]('bateu\x20events');let _0x2290f6=_0x52b9dd[_0x46bf39(0x378)]['instance'],_0xf3e4f0=(_0x52b9dd['query'][_0x46bf39(0x6a4)]||'')['split'](','),_0x234ddd=(0x0,ao['v4'])();console[_0x46bf39(0x39e)](_0x46bf39(0x608),_0x2290f6),console[_0x46bf39(0x39e)](_0x46bf39(0x54d),_0xf3e4f0);let _0x44ea4d=y[_0x46bf39(0x2cc)](_0x46bf39(0x231))[_0x46bf39(0x49c)],_0x2532c5=_0x52b9dd[_0x46bf39(0x605)]['apikey'];if(console[_0x46bf39(0x39e)]('API\x20Key\x20from\x20Request:',_0x2532c5),_0x44ea4d[_0x46bf39(0x3a0)]!==_0x2532c5){console[_0x46bf39(0x39e)](_0x46bf39(0x4c4));try{let _0x3c2222=await ue['auth']['find'](_0x2290f6);if(console[_0x46bf39(0x39e)](_0x46bf39(0x15c),_0x3c2222),!_0x3c2222||_0x3c2222[_0x46bf39(0x21a)]!==_0x2532c5)return console[_0x46bf39(0x39e)]('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x3bae93['status'](0x191)[_0x46bf39(0x638)](_0x46bf39(0x50e));}catch(_0x37cac3){return console['error'](_0x46bf39(0x264),_0x37cac3),_0x3bae93[_0x46bf39(0x4c5)](0x191)[_0x46bf39(0x638)](_0x46bf39(0x1b7));}}if(!await Qe(_0x2290f6))return _0x3bae93[_0x46bf39(0x4c5)](0x194)[_0x46bf39(0x638)](_0x46bf39(0x23c));_0x3bae93[_0x46bf39(0x1ca)](_0x46bf39(0x570),_0x46bf39(0x48d)),_0x3bae93['setHeader'](_0x46bf39(0x458),_0x46bf39(0x5a8)),_0x3bae93['setHeader'](_0x46bf39(0x665),'keep-alive'),_0x3bae93[_0x46bf39(0x1fb)]();let _0x2a669e=_0x46bf39(0x36b)+JSON[_0x46bf39(0x409)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x3bae93[_0x46bf39(0x6bb)](_0x2a669e),Za(_0x2290f6,_0x234ddd,_0x3bae93,_0xf3e4f0),_0x52b9dd['on'](_0x46bf39(0x58f),()=>{const _0x303dd1=_0x46bf39;console[_0x303dd1(0x39e)](_0x303dd1(0x67b)+_0x2290f6),eo(_0x2290f6,_0x234ddd);});}),Pt['get'](a0_0x28e68b(0x14c),(_0xf8be83,_0x541e7f)=>{let _0x172c08=to();_0x541e7f['json'](_0x172c08);})[a0_0x28e68b(0x2cc)]('/',(_0x243c73,_0x1d6037)=>{const _0x115537=a0_0x28e68b;let _0x524b70=y[_0x115537(0x2cc)](_0x115537(0x4cd)),_0x1d92a1=_0x524b70&&_0x524b70[_0x115537(0x4e6)][_0x115537(0x22b)]('/')[0x4];if(_0x1d92a1){let _0x1a9444=encodeURIComponent(_0x115537(0x240)+_0x1d92a1);_0x1d6037[_0x115537(0x236)](_0x115537(0x4ff)+_0x1a9444);}else _0x1d6037[_0x115537(0x236)](_0x115537(0x466));})['put'](a0_0x28e68b(0x3ca),...de,async(_0x356d4f,_0x3ce714)=>{const _0x145040=a0_0x28e68b;try{console[_0x145040(0x39e)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x3ce714['status'](0xc8)['json']({'message':_0x145040(0x162)}),_0x3ce714['on'](_0x145040(0x3f3),()=>process[_0x145040(0x384)](0x0));}catch(_0x456794){console[_0x145040(0x197)](_0x145040(0x42e),_0x456794),_0x3ce714[_0x145040(0x4c5)](0x1f4)[_0x145040(0x2b8)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x28e68b(0x1b3)](a0_0x28e68b(0x631),new ht(y,...de)[a0_0x28e68b(0x20e)],new Rt(ps)[a0_0x28e68b(0x20e)])[a0_0x28e68b(0x1b3)](a0_0x28e68b(0x660),new Tt(...de)['router'])[a0_0x28e68b(0x1b3)]('/chat',new at(...de)['router'])[a0_0x28e68b(0x1b3)]('/group',new pt(...de)[a0_0x28e68b(0x20e)])[a0_0x28e68b(0x1b3)](a0_0x28e68b(0x55b),new At(...de)[a0_0x28e68b(0x20e)])[a0_0x28e68b(0x1b3)](a0_0x28e68b(0x1cc),new It(...de)[a0_0x28e68b(0x20e)]);var m=class{constructor(..._0x995c0c){const _0x39e61a=a0_0x28e68b;throw{'status':0x190,'error':_0x39e61a(0x3f4),'message':_0x995c0c[_0x39e61a(0x670)]>0x0?_0x995c0c:void 0x0};}},ie=class{constructor(..._0x262f6a){const _0x2025f5=a0_0x28e68b;throw{'status':0x191,'error':_0x2025f5(0x639),'message':_0x262f6a['length']>0x0?_0x262f6a:void 0x0};}},oe=class{constructor(..._0x125363){const _0x538904=a0_0x28e68b;throw{'status':0x193,'error':_0x538904(0x5f6),'message':_0x125363[_0x538904(0x670)]>0x0?_0x125363:void 0x0};}},L=class{constructor(..._0x2f9bdf){const _0x2ab80d=a0_0x28e68b;throw{'status':0x194,'error':_0x2ab80d(0x2e8),'message':_0x2f9bdf[_0x2ab80d(0x670)]>0x0?_0x2f9bdf:void 0x0};}},A=class{constructor(..._0xec4e0a){const _0x582b38=a0_0x28e68b;throw{'status':0x1f4,'error':_0x582b38(0x3ae),'message':_0xec4e0a[_0x582b38(0x670)]>0x0?_0xec4e0a:void 0x0};}},pe=require(a0_0x28e68b(0x356));async function ws(_0x2b750a){const _0x16c084=a0_0x28e68b;let _0x11813c=new v(ws[_0x16c084(0x35d)]),_0x26fec2=R[_0x16c084(0x4ca)](),_0x49eca9=_0x26fec2['db'](y[_0x16c084(0x2cc)](_0x16c084(0x167))['CONNECTION']['DB_PREFIX_NAME']+'-instances')['collection'](_0x2b750a),_0x1250b4=async(_0x3ea770,_0x4aeae0)=>{const _0x3af039=_0x16c084;try{return await _0x26fec2['connect'](),await _0x49eca9[_0x3af039(0x16c)]({'_id':_0x4aeae0},JSON[_0x3af039(0x3a4)](JSON[_0x3af039(0x409)](_0x3ea770,pe[_0x3af039(0x59a)]['replacer'])),{'upsert':!0x0});}catch{}},_0x146912=async _0x3e6cc3=>{const _0x42ba83=_0x16c084;try{await _0x26fec2[_0x42ba83(0x672)]();let _0x321e61=await _0x49eca9['findOne']({'_id':_0x3e6cc3}),_0x730a2b=JSON[_0x42ba83(0x409)](_0x321e61);return JSON['parse'](_0x730a2b,pe[_0x42ba83(0x59a)][_0x42ba83(0x6a1)]);}catch{}},_0x126dbe=async _0x19f544=>{const _0x37a719=_0x16c084;try{return await _0x26fec2[_0x37a719(0x672)](),await _0x49eca9[_0x37a719(0x612)]({'_id':_0x19f544});}catch{}},_0x2763b1=await _0x146912('creds')||(0x0,pe[_0x16c084(0x192)])();return{'state':{'creds':_0x2763b1,'keys':{'get':async(_0x4321df,_0x5e46e3)=>{const _0x4583c1=_0x16c084;let _0x3ebafe={};return await Promise[_0x4583c1(0x3d6)](_0x5e46e3[_0x4583c1(0x5df)](async _0x16ff04=>{const _0x402ddc=_0x4583c1;let _0x2d845d=await _0x146912(_0x4321df+'-'+_0x16ff04);_0x4321df===_0x402ddc(0x29f)&&_0x2d845d&&(_0x2d845d=pe[_0x402ddc(0x377)][_0x402ddc(0x67e)][_0x402ddc(0x1ce)][_0x402ddc(0x663)](_0x2d845d)),_0x3ebafe[_0x16ff04]=_0x2d845d;})),_0x3ebafe;},'set':async _0x3750f3=>{const _0x282f05=_0x16c084;let _0x54a38c=[];for(let _0x14cfd3 in _0x3750f3)for(let _0x3bfa63 in _0x3750f3[_0x14cfd3]){let _0x46293e=_0x3750f3[_0x14cfd3][_0x3bfa63],_0x12cd4e=_0x14cfd3+'-'+_0x3bfa63;_0x54a38c[_0x282f05(0x2ff)](_0x46293e?_0x1250b4(_0x46293e,_0x12cd4e):_0x126dbe(_0x12cd4e));}await Promise[_0x282f05(0x3d6)](_0x54a38c);}}},'saveCreds':async()=>_0x1250b4(_0x2763b1,'creds')};}var Ss=T(require(a0_0x28e68b(0x424))),Es=T(require('node-cache')),xt=require(a0_0x28e68b(0x356)),oo=require(a0_0x28e68b(0x5b4)),_t=require(a0_0x28e68b(0x356)),Ot;function di(_0x290d46){const _0x29e034=a0_0x28e68b;return Ot||(Ot=(0x0,oo[_0x29e034(0x4f0)])({'url':_0x290d46['URI']}),Ot[_0x29e034(0x672)]()),Ot;}var we=class l{constructor(_0x1cb778,_0x2f78e0){const _0x3788be=a0_0x28e68b;this['redisEnv']=_0x1cb778,this[_0x3788be(0x28e)]=_0x2f78e0,this[_0x3788be(0x602)]=new v(l['name']),this['client']=di(_0x1cb778);}set[a0_0x28e68b(0x1fc)](_0x10f336){this['instanceName']=_0x10f336;}async[a0_0x28e68b(0x62a)](){const _0x337106=a0_0x28e68b;try{return await this[_0x337106(0x2e3)]['sendCommand']([_0x337106(0x4b2),this[_0x337106(0x387)][_0x337106(0x3e8)]+':*']);}catch(_0xe9d6f7){this['logger']['error'](_0xe9d6f7);}}async[a0_0x28e68b(0x320)](_0x1d2d5f,_0x31b4cb){const _0x348b87=a0_0x28e68b;try{let _0x34267e=JSON[_0x348b87(0x409)](_0x31b4cb,_t['BufferJSON']['replacer']);return await this[_0x348b87(0x2e3)][_0x348b87(0xfd)](this[_0x348b87(0x387)][_0x348b87(0x3e8)]+':'+this[_0x348b87(0x28e)],_0x1d2d5f,_0x34267e);}catch(_0x7c28d7){this[_0x348b87(0x602)][_0x348b87(0x197)](_0x7c28d7);}}async[a0_0x28e68b(0x1e3)](){const _0x8737d=a0_0x28e68b;try{let _0x56da2a=await this[_0x8737d(0x2e3)][_0x8737d(0x13a)](this['redisEnv'][_0x8737d(0x3e8)]+':'+this[_0x8737d(0x28e)]);if(_0x56da2a){for(let _0x2a10d5 in _0x56da2a)Object['prototype'][_0x8737d(0x220)][_0x8737d(0x524)](_0x56da2a,_0x2a10d5)&&(_0x56da2a[_0x2a10d5]=JSON[_0x8737d(0x3a4)](_0x56da2a[_0x2a10d5],_t[_0x8737d(0x59a)][_0x8737d(0x6a1)]));return _0x56da2a;}}catch(_0x99baf7){this[_0x8737d(0x602)][_0x8737d(0x197)](_0x99baf7);}}async[a0_0x28e68b(0x44f)](_0x52288a){const _0x50454f=a0_0x28e68b;try{let _0x534b56=await this[_0x50454f(0x2e3)]['hGet'](this[_0x50454f(0x387)]['PREFIX_KEY']+':'+this[_0x50454f(0x28e)],_0x52288a);if(_0x534b56)return JSON['parse'](_0x534b56,_t[_0x50454f(0x59a)][_0x50454f(0x6a1)]);}catch(_0xc00fc1){this[_0x50454f(0x602)][_0x50454f(0x197)](_0xc00fc1);}}async[a0_0x28e68b(0x33c)](_0x468eef){const _0xe72096=a0_0x28e68b;try{return await this[_0xe72096(0x2e3)][_0xe72096(0x13e)](this[_0xe72096(0x387)][_0xe72096(0x3e8)]+':'+this[_0xe72096(0x28e)],_0x468eef);}catch(_0x565026){this[_0xe72096(0x602)]['error'](_0x565026);}}async[a0_0x28e68b(0x59d)](_0x5bfebc){const _0x3b0527=a0_0x28e68b;try{return await this['client'][_0x3b0527(0x2d6)](_0x5bfebc||this[_0x3b0527(0x387)]['PREFIX_KEY']+':'+this[_0x3b0527(0x28e)]);}catch(_0x1f8919){this[_0x3b0527(0x602)][_0x3b0527(0x197)](_0x1f8919);}}};async function ys(_0x238426,_0x55a968){const _0x170b8e=a0_0x28e68b;let _0x50b59d=new v(ys[_0x170b8e(0x35d)]),_0x505f5c=new we(_0x238426,_0x55a968),_0x9214e1=async(_0x3272a0,_0x52953b)=>{const _0x22a260=_0x170b8e;try{return await _0x505f5c['writeData'](_0x52953b,_0x3272a0);}catch(_0x28a65b){return _0x50b59d[_0x22a260(0x197)]({'localError':'writeData','error':_0x28a65b});}},_0x477958=async _0x5a494e=>{const _0x2b4337=_0x170b8e;try{return await _0x505f5c[_0x2b4337(0x44f)](_0x5a494e);}catch(_0x3e36f2){_0x50b59d[_0x2b4337(0x197)]({'readData':_0x2b4337(0x320),'error':_0x3e36f2});return;}},_0x21eba3=async _0x3ba7d3=>{const _0xd2801d=_0x170b8e;try{return await _0x505f5c[_0xd2801d(0x33c)](_0x3ba7d3);}catch(_0x25e707){_0x50b59d[_0xd2801d(0x197)]({'readData':_0xd2801d(0x33c),'error':_0x25e707});}},_0x3e330b=await _0x477958('creds')||(0x0,xt[_0x170b8e(0x192)])();return{'state':{'creds':_0x3e330b,'keys':{'get':async(_0x1cc4b5,_0x42d6df)=>{const _0x2b2f57=_0x170b8e;let _0x197959={};return await Promise[_0x2b2f57(0x3d6)](_0x42d6df[_0x2b2f57(0x5df)](async _0x4dd90a=>{const _0x35dbf8=_0x2b2f57;let _0x553aad=await _0x477958(_0x1cc4b5+'-'+_0x4dd90a);_0x1cc4b5===_0x35dbf8(0x29f)&&_0x553aad&&(_0x553aad=xt[_0x35dbf8(0x377)][_0x35dbf8(0x67e)][_0x35dbf8(0x1ce)][_0x35dbf8(0x663)](_0x553aad)),_0x197959[_0x4dd90a]=_0x553aad;})),_0x197959;},'set':async _0x38651e=>{let _0x16605e=[];for(let _0x1527ec in _0x38651e)for(let _0x48c1d4 in _0x38651e[_0x1527ec]){let _0x2d5dcf=_0x38651e[_0x1527ec][_0x48c1d4],_0x221ef4=_0x1527ec+'-'+_0x48c1d4;_0x16605e['push'](_0x2d5dcf?await _0x9214e1(_0x2d5dcf,_0x221ef4):await _0x21eba3(_0x221ef4));}await Promise['all'](_0x16605e);}}},'saveCreds':async()=>await _0x9214e1(_0x3e330b,_0x170b8e(0x23d))};}var Se=T(require('fs')),go=require(a0_0x28e68b(0x2e4));function q(_0x29e5e5){const _0x20ba8c=a0_0x28e68b;if(_0x29e5e5['viewOnceMessage']||_0x29e5e5[_0x20ba8c(0x414)]){let _0x2e0c51=_0x29e5e5[_0x20ba8c(0x636)]?_0x29e5e5['viewOnceMessage']['message']:_0x29e5e5['viewOnceMessageV2']['message'];return(0x0,w[_0x20ba8c(0x635)])(_0x2e0c51);}return _0x29e5e5[_0x20ba8c(0x1f1)]?_0x20ba8c(0x1f1):_0x29e5e5[_0x20ba8c(0x244)]?_0x20ba8c(0x244):(0x0,w['getContentType'])(_0x29e5e5);}var be=class l{constructor(_0x2134ec,_0x5380e2,_0x4047ba){const _0xca7205=a0_0x28e68b;this['configService']=_0x2134ec,this[_0xca7205(0x3b8)]=_0x5380e2,this[_0xca7205(0x641)]=_0x4047ba,this[_0xca7205(0x3ce)]=null,this[_0xca7205(0x602)]=new v(l[_0xca7205(0x35d)]),this[_0xca7205(0x599)]={},this[_0xca7205(0x6b4)]={},this[_0xca7205(0x18b)]={'state':_0xca7205(0x58f)},this[_0xca7205(0x4ee)]=(0x0,Z['join'])(z,'store'),this[_0xca7205(0x2af)]=new Es['default'](),this[_0xca7205(0x168)]=new Es['default'](),this[_0xca7205(0x574)]=!0x1,this[_0xca7205(0x1bb)]={'status.instance':_0xca7205(0x497),'qrcode.updated':'/wa-qrcode','messages.upsert':_0xca7205(0x5a7),'messages.update':_0xca7205(0x395),'send.message':_0xca7205(0x5a7),'group.upsert':_0xca7205(0x662),'group.update':_0xca7205(0x662),'group-participants.update':_0xca7205(0x662),'connection.update':_0xca7205(0x497),'messages.set':_0xca7205(0x5a7),'contacts.set':'/wa-contacts','contacts.upsert':_0xca7205(0x22d),'contacts.update':_0xca7205(0x22d),'presence.update':_0xca7205(0x5f9),'chats.set':_0xca7205(0x2be),'chats.update':'/wa-chats','chats.upsert':_0xca7205(0x2be),'chats.delete':_0xca7205(0x2be)},this[_0xca7205(0x49e)]=0x0,this[_0xca7205(0x181)]=[],this[_0xca7205(0x4fd)]=0xf,this[_0xca7205(0x35b)]=0x7530,this[_0xca7205(0x1e1)]=!0x1,this[_0xca7205(0x291)]={'chats.upsert':async(_0x3a1cbd,_0x3a9def)=>{const _0x4a9118=_0xca7205;let _0x1437c0=await this[_0x4a9118(0x641)][_0x4a9118(0x17c)][_0x4a9118(0x1bc)]({'where':{'owner':this['instance'][_0x4a9118(0x536)]}}),_0x4b9e6a=[];for await(let _0x2c8cb4 of _0x3a1cbd)_0x1437c0[_0x4a9118(0x1bc)](_0x9e0365=>_0x9e0365['id']===_0x2c8cb4['id'])||_0x4b9e6a[_0x4a9118(0x2ff)]({'id':_0x2c8cb4['id'],'owner':this['instance'][_0x4a9118(0x536)],'group':_0x2c8cb4['id']['endsWith'](_0x4a9118(0x1a1)),'name':_0x2c8cb4[_0x4a9118(0x35d)]||_0x2c8cb4[_0x4a9118(0x11a)]||null,'contactname':null,'lastmsg':_0x2c8cb4[_0x4a9118(0x259)]&&_0x2c8cb4[_0x4a9118(0x259)][_0x4a9118(0x3d0)]()['length']<0xd?_0x2c8cb4['conversationTimestamp']*0x3e8:_0x2c8cb4[_0x4a9118(0x259)]||null,'archived':_0x2c8cb4['archived']||!0x1,'unreadcount':_0x2c8cb4['unreadCount']||0x0});await this[_0x4a9118(0x671)](_0x4a9118(0x1cd),_0x4b9e6a);},'chats.update':async(_0x29c1b8,_0x4d11bb)=>{const _0x2f948a=_0xca7205;for(let _0x3b740b of _0x29c1b8){let _0x417988={'id':_0x3b740b['id'],'owner':this[_0x2f948a(0x599)][_0x2f948a(0x536)],'group':_0x3b740b['id'][_0x2f948a(0x609)](_0x2f948a(0x1a1)),'name':_0x3b740b[_0x2f948a(0x35d)]||_0x3b740b[_0x2f948a(0x11a)],'archived':_0x3b740b['archived']},_0x3b47f3=!0x1,_0x3e9d74={'id':_0x3b740b['id'],'owner':this[_0x2f948a(0x599)][_0x2f948a(0x536)]},_0x585f84={};_0x417988[_0x2f948a(0x5da)]!=null&&(this['logger']['verbose'](this[_0x2f948a(0x28e)]+'\x20('+this[_0x2f948a(0x599)]['wuid']+_0x2f948a(0x41f)+_0x3b740b[_0x2f948a(0x5da)]),_0x3b47f3=!0x0,_0x585f84[_0x2f948a(0x5da)]=_0x3b740b[_0x2f948a(0x5da)]),_0x3b740b[_0x2f948a(0x35d)]!=null&&(this['logger'][_0x2f948a(0x690)](this[_0x2f948a(0x28e)]+'\x20('+this[_0x2f948a(0x599)][_0x2f948a(0x536)]+_0x2f948a(0x106)+_0x3b740b[_0x2f948a(0x35d)]),_0x3b47f3=!0x0,_0x585f84[_0x2f948a(0x35d)]=_0x3b740b[_0x2f948a(0x35d)]),_0x3b740b['displayName']!=null&&(this['logger'][_0x2f948a(0x690)](this[_0x2f948a(0x28e)]+'\x20('+this[_0x2f948a(0x599)][_0x2f948a(0x536)]+_0x2f948a(0x3ac)+_0x3b740b[_0x2f948a(0x11a)]),_0x3b47f3=!0x0,_0x585f84['name']=_0x3b740b['displayName']);let _0x19bd5a;_0x3b47f3&&_0x4d11bb['ENABLED']&&(_0x19bd5a=await I['findOneAndUpdate'](_0x3e9d74,{'$set':_0x585f84},{'new':!0x0})),_0x19bd5a&&H(this[_0x2f948a(0x28e)],'chats',{'chat':_0x19bd5a});}},'chats.delete':async _0x110700=>{await this['sendDataWebhook']('chats.delete',[..._0x110700]);}},this[_0xca7205(0x28c)]={'contacts.upsert':async(_0x3ec030,_0x34122a)=>{const _0x3f6f80=_0xca7205;let _0x3b4dd1=await this[_0x3f6f80(0x641)][_0x3f6f80(0x559)]['find']({'where':{'owner':this[_0x3f6f80(0x599)][_0x3f6f80(0x536)]}}),_0x42edff=[];for await(let _0x524ec7 of _0x3ec030)_0x3b4dd1[_0x3f6f80(0x1bc)](_0xc8dfe5=>_0xc8dfe5['id']===_0x524ec7['id'])||_0x42edff[_0x3f6f80(0x2ff)]({'id':_0x524ec7['id'],'pushName':_0x524ec7?.[_0x3f6f80(0x35d)]||_0x524ec7?.[_0x3f6f80(0x54c)],'owner':this['instance']['wuid']});await this[_0x3f6f80(0x671)]('contacts.upsert',_0x42edff),await this[_0x3f6f80(0x641)]['contact']['insert'](_0x42edff,_0x34122a[_0x3f6f80(0x516)]);let _0xfdd26f=[];for(let _0x187d76 of _0x42edff){let [_0x15277f,_0x2de4a9]=await Promise['all']([this[_0x3f6f80(0x380)](_0x187d76['id']),(await this['getStatus'](_0x187d76['id']))[_0x3f6f80(0x4c5)]]);_0xfdd26f[_0x3f6f80(0x2ff)]({..._0x187d76,'profilePictureUrl':_0x15277f['profilePictureUrl'],'status':_0x2de4a9});}await this[_0x3f6f80(0x641)]['contact'][_0x3f6f80(0x67a)](_0xfdd26f,_0x34122a[_0x3f6f80(0x516)]),await this[_0x3f6f80(0x4a6)]();},'contacts.update':async(_0xb23191,_0x25abf4)=>{const _0x514ac7=_0xca7205;let _0x490bbe=[];for await(let _0x54584e of _0xb23191)_0x490bbe['push']({'id':_0x54584e['id'],'pushName':_0x54584e?.[_0x514ac7(0x35d)]??_0x54584e?.[_0x514ac7(0x54c)],'profilePictureUrl':(await this[_0x514ac7(0x380)](_0x54584e['id']))['profilePictureUrl'],'owner':this[_0x514ac7(0x599)][_0x514ac7(0x536)]});await this[_0x514ac7(0x671)](_0x514ac7(0x533),_0x490bbe);}},this[_0xca7205(0x617)]={'messaging-history.set':async({messages:_0x33ba31,chats:_0x52f1ce,isLatest:_0x3bde76},_0x18cab1)=>{const _0x272ea5=_0xca7205;if(_0x3bde76){let _0x384ebc=await Promise[_0x272ea5(0x3d6)](_0x52f1ce[_0x272ea5(0x5df)](async _0x4c2d38=>({'id':_0x4c2d38['id'],'owner':this[_0x272ea5(0x599)][_0x272ea5(0x536)],'group':_0x4c2d38['id']['endsWith'](_0x272ea5(0x1a1)),'name':_0x4c2d38[_0x272ea5(0x35d)]||_0x4c2d38[_0x272ea5(0x11a)]||null,'contactname':null,'imagechat':(await this[_0x272ea5(0x380)](_0x4c2d38['id']))[_0x272ea5(0x3f7)],'lastmsg':_0x4c2d38[_0x272ea5(0x259)]&&_0x4c2d38[_0x272ea5(0x259)][_0x272ea5(0x3d0)]()['length']<0xd?_0x4c2d38['conversationTimestamp']*0x3e8:_0x4c2d38['conversationTimestamp']||null,'archived':_0x4c2d38['archived']||!0x1,'unreadcount':_0x4c2d38[_0x272ea5(0x500)]||0x0})));await this[_0x272ea5(0x671)](_0x272ea5(0x290),_0x384ebc),await this[_0x272ea5(0x3c7)](_0x384ebc,_0x18cab1),await this['checkAndUpdateChats']();}let _0x2ba2a8=[],_0xfee1a0=Date['now']()-0x7*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x1d0bf0]of Object[_0x272ea5(0x23f)](_0x33ba31)){if(_0x1d0bf0[_0x272ea5(0x283)]?.[_0x272ea5(0x1f8)]||_0x1d0bf0[_0x272ea5(0x283)]?.[_0x272ea5(0x60f)]||!_0x1d0bf0[_0x272ea5(0x283)]||_0x1d0bf0[_0x272ea5(0x32e)][_0x272ea5(0x48b)]==='status@broadcast'||(Ss['default'][_0x272ea5(0x1dc)](_0x1d0bf0?.[_0x272ea5(0x2ac)])&&(_0x1d0bf0[_0x272ea5(0x2ac)]=_0x1d0bf0[_0x272ea5(0x2ac)]?.[_0x272ea5(0x382)]()),_0x1d0bf0['messageTimestamp']&&_0x1d0bf0[_0x272ea5(0x2ac)][_0x272ea5(0x3d0)]()['length']<0xd&&(_0x1d0bf0[_0x272ea5(0x2ac)]=_0x1d0bf0[_0x272ea5(0x2ac)]*0x3e8),_0x1d0bf0['messageTimestamp']<_0xfee1a0))continue;let {message_normalized:_0x1c29de}=this['normalizeMessage'](_0x1d0bf0[_0x272ea5(0x283)],q(_0x1d0bf0[_0x272ea5(0x283)]),null);_0x2ba2a8[_0x272ea5(0x2ff)]({'key':_0x1d0bf0[_0x272ea5(0x32e)],'pushName':_0x1d0bf0[_0x272ea5(0x483)],'participant':_0x1d0bf0['participant'],'message':{..._0x1d0bf0[_0x272ea5(0x283)]},'messageType':q(_0x1d0bf0['message']),'message_normalized':{'key':_0x1d0bf0[_0x272ea5(0x32e)],'pushName':_0x1d0bf0[_0x272ea5(0x483)],'messageTimestamp':_0x1d0bf0[_0x272ea5(0x2ac)],..._0x1c29de},'messageTimestamp':_0x1d0bf0[_0x272ea5(0x2ac)],'owner':this[_0x272ea5(0x599)][_0x272ea5(0x536)]});}_0x18cab1[_0x272ea5(0x516)]&&_0x2ba2a8[_0x272ea5(0x670)]>0x0&&(this['logger'][_0x272ea5(0x690)](this[_0x272ea5(0x28e)]+'\x20('+this[_0x272ea5(0x599)][_0x272ea5(0x536)]+_0x272ea5(0x27e)+_0x2ba2a8[_0x272ea5(0x670)]+_0x272ea5(0x391)+this[_0x272ea5(0x599)]['wuid']+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this['repository']['message'][_0x272ea5(0x16d)]([..._0x2ba2a8],_0x18cab1[_0x272ea5(0x516)])),this[_0x272ea5(0x671)](_0x272ea5(0x471),[..._0x2ba2a8]),_0x33ba31=void 0x0;},'messages.upsert':async({messages:_0x13393a,type:_0x36b8ae},_0x552efb)=>{const _0x2c7a74=_0xca7205;let _0x597a7a=_0x13393a[0x0];if(_0x36b8ae!==_0x2c7a74(0x1f2)||!_0x597a7a?.[_0x2c7a74(0x283)]||_0x597a7a['message']?.[_0x2c7a74(0x1f8)]||_0x597a7a[_0x2c7a74(0x32e)][_0x2c7a74(0x48b)]==='status@broadcast')return;let _0x135f47=null,_0x239b7e=null;try{_0x135f47=await this[_0x2c7a74(0x173)](_0x597a7a),_0x239b7e=_0x135f47?_0x135f47['join'](','):null;}catch(_0x2944b5){this[_0x2c7a74(0x602)][_0x2c7a74(0x690)](this['instanceName']+'\x20('+this[_0x2c7a74(0x599)]['wuid']+'):\x20'+_0x2944b5[_0x2c7a74(0x283)]),_0x239b7e='error\x20get\x20vote';}this[_0x2c7a74(0x2e3)][_0x2c7a74(0x566)](_0x2c7a74(0x289)),Ss[_0x2c7a74(0x134)][_0x2c7a74(0x1dc)](_0x597a7a[_0x2c7a74(0x2ac)])&&(_0x597a7a['messageTimestamp']=_0x597a7a[_0x2c7a74(0x2ac)]?.[_0x2c7a74(0x382)]()),_0x597a7a[_0x2c7a74(0x2ac)]&&_0x597a7a[_0x2c7a74(0x2ac)]['toString']()[_0x2c7a74(0x670)]<0xd&&(_0x597a7a[_0x2c7a74(0x2ac)]=_0x597a7a['messageTimestamp']*0x3e8);let _0x425c7a=_0x597a7a[_0x2c7a74(0x283)],{messageContent:_0x5ada54,message_normalized:_0x5425db}=this[_0x2c7a74(0x2c2)](_0x425c7a,q(_0x597a7a[_0x2c7a74(0x283)]),_0x239b7e);_0x5ada54||console['error'](_0x2c7a74(0x411));let _0x409754={'key':_0x597a7a[_0x2c7a74(0x32e)],'pushName':_0x597a7a['pushName'],'message':{..._0x597a7a[_0x2c7a74(0x283)]},'messageType':q(_0x597a7a[_0x2c7a74(0x283)]),'message_normalized':{'key':_0x597a7a['key'],'pushName':_0x597a7a[_0x2c7a74(0x483)],'messageTimestamp':_0x597a7a[_0x2c7a74(0x2ac)],'source':(0x0,w[_0x2c7a74(0x309)])(_0x597a7a[_0x2c7a74(0x32e)]['id']),..._0x5425db},'messageTimestamp':_0x597a7a['messageTimestamp'],'owner':this['instance'][_0x2c7a74(0x536)]};this[_0x2c7a74(0x602)][_0x2c7a74(0x39e)](_0x409754),await this[_0x2c7a74(0x641)][_0x2c7a74(0x283)][_0x2c7a74(0x16d)]([_0x409754],_0x552efb[_0x2c7a74(0x516)]),await this[_0x2c7a74(0x671)](_0x2c7a74(0x4ac),_0x409754),H(this[_0x2c7a74(0x28e)],_0x2c7a74(0x234),{'message':_0x409754}),_0x597a7a['key'][_0x2c7a74(0x48b)]!==_0x2c7a74(0x589)&&await this[_0x2c7a74(0x4ed)](_0x552efb,_0x409754,_0x2c7a74(0x5e4));},'messages.update':async(_0x4b4bd0,_0xb2ae9f)=>{const _0x36df49=_0xca7205;let _0x6f4868={0x0:_0x36df49(0x2bf),0x1:'PENDING',0x2:_0x36df49(0x12c),0x3:_0x36df49(0x325),0x4:_0x36df49(0x693),0x5:_0x36df49(0x24d)};for await(let {key:_0x18d552,update:_0x4cdda5}of _0x4b4bd0)if(_0x18d552[_0x36df49(0x48b)]!=='status@broadcast'){let _0x4110cd=Date[_0x36df49(0x5db)](),_0x49d8d2;_0x4cdda5['message']===null&&_0x4cdda5[_0x36df49(0x4c5)]===void 0x0?_0x49d8d2=_0x36df49(0x4bf):_0x49d8d2=_0x6f4868[_0x4cdda5[_0x36df49(0x4c5)]];let _0x293d16=_0x18d552[_0x36df49(0x48b)]['replace'](/:\d{1,2}@/g,'@'),_0x549f2a={..._0x18d552,'remoteJid':_0x293d16,'status':_0x49d8d2,'datetime':_0x4110cd,'owner':this[_0x36df49(0x599)][_0x36df49(0x536)]};await this[_0x36df49(0x671)](_0x36df49(0x2e9),_0x549f2a),await this[_0x36df49(0x641)][_0x36df49(0x3fc)][_0x36df49(0x16d)]([_0x549f2a],_0xb2ae9f[_0x36df49(0x516)]),await this['updateMessage'](_0x18d552,_0x293d16,_0x549f2a);}}},this[_0xca7205(0x1c3)]={'groups.upsert':_0xb4dc7b=>{const _0x305de9=_0xca7205;this[_0x305de9(0x671)](_0x305de9(0x55f),_0xb4dc7b);},'groups.update':_0x272eb7=>{this['sendDataWebhook']('groups.update',_0x272eb7);},'group-participants.update':_0x5498d6=>{const _0x368d80=_0xca7205;this[_0x368d80(0x671)](_0x368d80(0x650),_0x5498d6);}},this[_0xca7205(0x173)]=async _0x12fd28=>{const _0x3deb96=_0xca7205;if(_0x12fd28[_0x3deb96(0x283)]?.[_0x3deb96(0x310)]){let _0xa9ca8e=await this[_0x3deb96(0x44b)](_0x12fd28[_0x3deb96(0x283)]['pollUpdateMessage'][_0x3deb96(0x12f)],!0x0);if(_0xa9ca8e){let _0x23be3b=_0xa9ca8e['key']['fromMe']?this['instance'][_0x3deb96(0x536)]+_0x3deb96(0x677):_0xa9ca8e[_0x3deb96(0x32e)][_0x3deb96(0x546)]||_0xa9ca8e[_0x3deb96(0x32e)][_0x3deb96(0x48b)],_0x2f079f=_0xa9ca8e[_0x3deb96(0x32e)]['id'],_0x552d59=_0xa9ca8e[_0x3deb96(0x283)],_0x2a9ef0=Buffer[_0x3deb96(0x336)](_0x552d59['messageContextInfo'][_0x3deb96(0x103)]['toString'](_0x3deb96(0x19f)),_0x3deb96(0x19f)),_0x52e91f=(0x0,w[_0x3deb96(0x43e)])(_0x12fd28[_0x3deb96(0x283)][_0x3deb96(0x310)][_0x3deb96(0x573)],{'pollCreatorJid':_0x23be3b,'pollMsgId':_0x2f079f,'pollEncKey':_0x2a9ef0,'voterJid':_0x12fd28['key'][_0x3deb96(0x14f)]?this[_0x3deb96(0x599)][_0x3deb96(0x536)]+_0x3deb96(0x677):_0x12fd28[_0x3deb96(0x32e)]['remoteJid'][_0x3deb96(0x609)]('g.us')?_0x12fd28['key'][_0x3deb96(0x546)]:_0x12fd28['key'][_0x3deb96(0x48b)]}),_0x529c46=[],_0x59615b=_0x52e91f[_0x3deb96(0x22f)]['map'](_0xf62eae=>Buffer[_0x3deb96(0x336)](_0xf62eae)['toString']('hex'));for(let {optionName:_0x24a6aa}of _0x552d59[_0x3deb96(0x165)]?.['options']||_0x552d59['pollCreationMessageV3']?.[_0x3deb96(0x4d8)]||_0x552d59[_0x3deb96(0x244)]?.[_0x3deb96(0x4d8)])_0x59615b['indexOf']((0x0,w[_0x3deb96(0x1a8)])(Buffer['from'](_0x24a6aa))[_0x3deb96(0x3d0)](_0x3deb96(0x19f)))>-0x1&&_0x529c46[_0x3deb96(0x2ff)](_0x24a6aa);return _0x529c46;}}return null;},this[_0xca7205(0x2c2)]=(_0x4bd210,_0x45cd74,_0x1358b2)=>{const _0x2c4a99=_0xca7205;let _0xca17dd=_0x45cd74?_0x4bd210[_0x45cd74]:void 0x0,_0x140880={},_0x5d9c87=null,_0x58a7cf=null;if(_0x4bd210['viewOnceMessageV2']?_0xca17dd=_0x4bd210[_0x2c4a99(0x414)][_0x2c4a99(0x283)][_0x45cd74]:_0x4bd210['viewOnceMessage']?_0xca17dd=_0x4bd210[_0x2c4a99(0x636)][_0x2c4a99(0x283)][_0x45cd74]:_0x4bd210[_0x2c4a99(0x430)]?_0xca17dd=_0x4bd210['ephemeralMessage']['message'][_0x45cd74]:_0xca17dd=_0x4bd210[_0x45cd74],!_0x45cd74||!_0xca17dd){console['error'](_0x2c4a99(0x355),_0x4bd210);return;}_0x4bd210[_0x45cd74]?.['contextInfo']?.[_0x2c4a99(0x148)]&&_0x4bd210[_0x45cd74]?.['contextInfo']?.['quotedMessage']&&(_0x58a7cf=_0x4bd210[_0x45cd74][_0x2c4a99(0x5bd)][_0x2c4a99(0x148)]),_0x4bd210[_0x2c4a99(0x243)]?.[_0x2c4a99(0x283)]?.[_0x2c4a99(0x1f8)]?.[_0x2c4a99(0x243)]&&(_0x5d9c87=_0x4bd210[_0x2c4a99(0x243)][_0x2c4a99(0x283)][_0x2c4a99(0x1f8)][_0x2c4a99(0x32e)]['id'],_0x4bd210=_0x4bd210[_0x2c4a99(0x243)][_0x2c4a99(0x283)][_0x2c4a99(0x1f8)][_0x2c4a99(0x243)]);let _0x457a6d;if(_0xca17dd&&typeof _0xca17dd==_0x2c4a99(0x2b3)&&_0x2c4a99(0x12f)in _0xca17dd&&({pollCreationMessageKey:_0x457a6d}=_0xca17dd),_0x45cd74===_0x2c4a99(0x25b)){let _0x394a01=_0xca17dd?.[_0x2c4a99(0x283)]?.['documentMessage'];_0x394a01&&(_0xca17dd=_0x394a01);}if(_0x45cd74==='pollCreationMessage'||_0x45cd74===_0x2c4a99(0x244)||_0x45cd74===_0x2c4a99(0x1f1)){let _0x3f46fd=_0xca17dd[_0x2c4a99(0x4d8)][_0x2c4a99(0x5df)](_0x31d255=>_0x31d255[_0x2c4a99(0x2a6)])[_0x2c4a99(0x1b8)]('|');_0x140880[_0x2c4a99(0x33d)]=_0x3f46fd;}if(_0xca17dd){let {pollCreationMessageKey:_0x315afb,footerText:_0x263760,contentText:_0x42029f,pageCount:_0x38e6e0,headerType:_0x5e425e,isAvatar:_0x4b6749,isAnimated:_0x58631f,contactVcard:_0x25c315,fallbackLc:_0x324780,fallbackLg:_0x20cdbe,namespace:_0x101607,elementName:_0x1d3d31,localizableParams:_0x15b419,viewOnce:_0x4d2fc1,height:_0x922889,width:_0x184da8,key:_0x5ebe14,firstScanLength:_0x1c31ef,firstScanSidecar:_0x23a8d4,gifPlayback:_0x15d91e,gifAttribution:_0x45b4c2,midQualityFileSha256:_0x2f8e51,scansSidecar:_0x3bd3ca,streamingSidecar:_0x54d0f9,thumbnailHeight:_0x163b28,thumbnailWidth:_0x5ac1fb,thumbnailEncSha256:_0x3a1925,thumbnailDirectPath:_0x38b204,canonicalUrl:_0x5d61cc,matchedText:_0x1fff74,previewType:_0x2fcb83,thumbnailSha256:_0x517fa6,deviceListMetadataVersion:_0x118414,inviteLinkGroupTypeV2:_0x2bb3db,interactiveAnnotations:_0x204b92,scanLengths:_0x4f41e5,jpegThumbnail:_0x12c813,url:_0x38a843,mediaKeyTimestamp:_0x406d27,waveform:_0x5a3ec7,stickerSentTs:_0x271005,firstFrameLength:_0x54a72e,fileEncSha256:_0x582789,contextInfo:_0x2ad8c3,firstFrameSidecar:_0x4fbd30,directPath:_0x152345,fileSha256:_0xd9d7c6,mediaKey:_0x33c9f4,senderTimestampMs:_0x53d841,..._0x98a94b}=_0xca17dd;typeof _0xca17dd==_0x2c4a99(0x47b)?_0x140880={'text':_0xca17dd,'type':_0x2c4a99(0x37e),..._0x5d9c87&&{'edited':_0x5d9c87},..._0x58a7cf&&{'quoted':_0x58a7cf}}:_0x140880={..._0x98a94b,..._0x45cd74==='pollUpdateMessage'?{'poll_id':_0xca17dd[_0x2c4a99(0x12f)]['id'],'vote':_0x1358b2}:{},'type':_0x45cd74,..._0x5d9c87&&{'edited':_0x5d9c87},..._0x58a7cf&&{'quoted':_0x58a7cf},...(_0x45cd74==='pollCreationMessage'||_0x45cd74===_0x2c4a99(0x244)||_0x45cd74===_0x2c4a99(0x1f1))&&{'convertedOptions':_0x140880[_0x2c4a99(0x33d)]}};}return{'messageType':_0x45cd74,'messageContent':_0xca17dd,'message_normalized':_0x140880};},this['processingScheduleMessageId']=null,this[_0xca7205(0x620)]=0x0,(this[_0xca7205(0x5aa)](),this['instance'][_0xca7205(0x206)]={'count':0x0});}set[a0_0x28e68b(0x28e)](_0x1b290e){const _0x525ffb=a0_0x28e68b;if(!_0x1b290e){this[_0x525ffb(0x599)]['name']=(0x0,io['v4'])();return;}this[_0x525ffb(0x599)]['name']=_0x1b290e,this[_0x525ffb(0x671)](_0x525ffb(0x276),{'instance':this[_0x525ffb(0x599)][_0x525ffb(0x35d)],'status':_0x525ffb(0x241)});}get[a0_0x28e68b(0x28e)](){const _0x59742a=a0_0x28e68b;return this['instance'][_0x59742a(0x35d)];}get['wuid'](){const _0x2e1930=a0_0x28e68b;return this[_0x2e1930(0x599)][_0x2e1930(0x536)];}async['getProfileName'](){const _0x3b5f59=a0_0x28e68b;let _0x2c99d6=this['client']['user']?.['name']??this['client'][_0x3b5f59(0x685)]?.[_0x3b5f59(0x54c)];if(!_0x2c99d6){if(this[_0x3b5f59(0x1ba)]['get'](_0x3b5f59(0x167))[_0x3b5f59(0x516)]){let _0x32b739=await R[_0x3b5f59(0x4ca)]()['db'](this[_0x3b5f59(0x1ba)]['get'](_0x3b5f59(0x167))[_0x3b5f59(0x486)][_0x3b5f59(0x584)]+_0x3b5f59(0x519))[_0x3b5f59(0x6ad)](this[_0x3b5f59(0x28e)])[_0x3b5f59(0x1a2)]({'_id':_0x3b5f59(0x23d)});if(_0x32b739){let _0x520d15=JSON['parse'](JSON[_0x3b5f59(0x409)](_0x32b739),w[_0x3b5f59(0x59a)][_0x3b5f59(0x6a1)]);_0x2c99d6=_0x520d15['me']?.['name']||_0x520d15['me']?.['verifiedName'];}}else{if((0x0,_e['existsSync'])((0x0,Z[_0x3b5f59(0x1b8)])(V,this[_0x3b5f59(0x28e)],_0x3b5f59(0x120)))){let _0x1396d0=JSON[_0x3b5f59(0x3a4)]((0x0,_e[_0x3b5f59(0x169)])((0x0,Z[_0x3b5f59(0x1b8)])(V,this[_0x3b5f59(0x28e)],_0x3b5f59(0x120)),{'encoding':_0x3b5f59(0x65e)}));_0x2c99d6=_0x1396d0['me']?.[_0x3b5f59(0x35d)]||_0x1396d0['me']?.[_0x3b5f59(0x54c)];}}}return _0x2c99d6;}get['profilePictureUrl'](){const _0x409ed8=a0_0x28e68b;return this[_0x409ed8(0x599)][_0x409ed8(0x3f7)];}get[a0_0x28e68b(0x1f7)](){const _0x287fb3=a0_0x28e68b;return{'code':this['instance'][_0x287fb3(0x206)]?.[_0x287fb3(0x3e0)],'base64':this[_0x287fb3(0x599)][_0x287fb3(0x206)]?.[_0x287fb3(0x326)]};}async['loadWebhook'](){const _0x5684b3=a0_0x28e68b;let _0x1efe29=await this[_0x5684b3(0x641)]['webhook'][_0x5684b3(0x1bc)](this['instanceName']);this['localWebhook'][_0x5684b3(0x255)]=_0x1efe29?.[_0x5684b3(0x255)],this[_0x5684b3(0x6b4)][_0x5684b3(0x316)]=_0x1efe29?.[_0x5684b3(0x316)],this[_0x5684b3(0x6b4)]['local_map']=_0x1efe29?.['local_map'],this['localWebhook'][_0x5684b3(0x484)]=_0x1efe29?.[_0x5684b3(0x484)],this['localWebhook']['QRCODE_UPDATED']=_0x1efe29?.[_0x5684b3(0x695)],this[_0x5684b3(0x6b4)][_0x5684b3(0x444)]=_0x1efe29?.['SEND_MESSAGE'],this['localWebhook']['MESSAGES_UPSERT']=_0x1efe29?.[_0x5684b3(0x5e4)],this[_0x5684b3(0x6b4)][_0x5684b3(0x126)]=_0x1efe29?.[_0x5684b3(0x126)],this[_0x5684b3(0x6b4)][_0x5684b3(0x699)]=_0x1efe29?.['GROUPS_UPSERT'],this[_0x5684b3(0x6b4)][_0x5684b3(0x626)]=_0x1efe29?.['GROUPS_UPDATE'],this[_0x5684b3(0x6b4)]['GROUP_PARTICIPANTS_UPDATE']=_0x1efe29?.[_0x5684b3(0x537)],this['localWebhook']['CHATS_SET']=_0x1efe29?.[_0x5684b3(0x568)],this['localWebhook']['CHATS_UPSERT']=_0x1efe29?.['CHATS_UPSERT'],this[_0x5684b3(0x6b4)][_0x5684b3(0x1f9)]=_0x1efe29?.[_0x5684b3(0x1f9)],this[_0x5684b3(0x6b4)][_0x5684b3(0x475)]=_0x1efe29?.['CHATS_DELETE'],this[_0x5684b3(0x6b4)][_0x5684b3(0x1cf)]=_0x1efe29?.[_0x5684b3(0x1cf)],this[_0x5684b3(0x6b4)][_0x5684b3(0x306)]=_0x1efe29?.['CONTACTS_UPSERT'],this[_0x5684b3(0x6b4)][_0x5684b3(0x3ff)]=_0x1efe29?.[_0x5684b3(0x3ff)],this[_0x5684b3(0x6b4)][_0x5684b3(0x5d8)]=_0x1efe29?.[_0x5684b3(0x5d8)],this[_0x5684b3(0x6b4)][_0x5684b3(0x59c)]=_0x1efe29?.[_0x5684b3(0x59c)],this['localWebhook'][_0x5684b3(0x49f)]=_0x1efe29?.[_0x5684b3(0x49f)];}async[a0_0x28e68b(0x6a3)](_0xdaea3){const _0x10180a=a0_0x28e68b;let _0x1df128=[_0x10180a(0x2ca),_0x10180a(0x255),_0x10180a(0x316),'local_map',_0x10180a(0x484),_0x10180a(0x695),_0x10180a(0x126),_0x10180a(0x5e4),_0x10180a(0x444),_0x10180a(0x699),_0x10180a(0x626),_0x10180a(0x537),_0x10180a(0x568),_0x10180a(0x2a3),_0x10180a(0x1f9),'CHATS_DELETE','CONTACTS_SET','CONTACTS_UPSERT',_0x10180a(0x3ff),_0x10180a(0x5d8),_0x10180a(0x59c),_0x10180a(0x49f)],_0x57b0e1={};return _0x1df128[_0x10180a(0x360)](_0xb37c02=>{_0xdaea3[_0xb37c02]!==void 0x0&&(_0x57b0e1[_0xb37c02]=_0xdaea3[_0xb37c02]);}),await this[_0x10180a(0x641)][_0x10180a(0x44e)][_0x10180a(0x598)](_0x57b0e1,this['instanceName']),Object[_0x10180a(0x1e2)](this[_0x10180a(0x6b4)],_0x57b0e1),await this['repository'][_0x10180a(0x44e)][_0x10180a(0x1bc)](this[_0x10180a(0x28e)]);}async[a0_0x28e68b(0x302)](){const _0x42c144=a0_0x28e68b;return await this['repository'][_0x42c144(0x44e)]['find'](this[_0x42c144(0x28e)]);}async[a0_0x28e68b(0x671)](_0x166859,_0x892ca2){const _0x3b1063=a0_0x28e68b;let _0x573f16=this[_0x3b1063(0x1ba)][_0x3b1063(0x2cc)](_0x3b1063(0x29e)),_0x1a1126=_0x166859[_0x3b1063(0x5eb)](/[\.-]/gm,'_')[_0x3b1063(0x4ad)](),_0x517274=this[_0x3b1063(0x6b4)][_0x3b1063(0x316)]&&(0x0,x[_0x3b1063(0x1b1)])(this[_0x3b1063(0x6b4)]['url'])?this[_0x3b1063(0x6b4)]['url']+(this[_0x3b1063(0x6b4)][_0x3b1063(0x688)]?this[_0x3b1063(0x1bb)][_0x166859]:''):null,_0x5b8496=_0x573f16?.[_0x3b1063(0x16b)],_0x3585c2=_0x5b8496&&_0x5b8496?.[_0x3b1063(0x516)]&&(0x0,x['isURL'])(_0x5b8496[_0x3b1063(0x4e2)])?_0x5b8496[_0x3b1063(0x4e2)]+(_0x573f16[_0x3b1063(0x50a)]?this[_0x3b1063(0x1bb)][_0x166859]:''):null,_0x1b0db6=this[_0x3b1063(0x6b4)][_0x1a1126],_0x21e1ab=_0x573f16?.['EVENTS']?.[_0x1a1126];if(_0x1b0db6&&_0x517274)try{await le[_0x3b1063(0x134)][_0x3b1063(0x598)]({'baseURL':_0x517274})['post']('',{'event':_0x166859,'instance':this[_0x3b1063(0x599)][_0x3b1063(0x35d)],'data':_0x892ca2}),this[_0x3b1063(0x602)][_0x3b1063(0x39e)](_0x3b1063(0x4e5)+_0x166859+':\x20'+_0x517274);}catch(_0x2fe84b){this[_0x3b1063(0x602)][_0x3b1063(0x197)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+{'local':l[_0x3b1063(0x35d)]+_0x3b1063(0x219),'message':_0x2fe84b?.[_0x3b1063(0x283)],'hostName':_0x2fe84b?.[_0x3b1063(0x428)],'syscall':_0x2fe84b?.['syscall'],'code':_0x2fe84b?.['code'],'error':_0x2fe84b?.['errno'],'stack':_0x2fe84b?.[_0x3b1063(0x55e)],'name':_0x2fe84b?.['name']});}if(_0x21e1ab&&_0x3585c2)try{await le[_0x3b1063(0x134)][_0x3b1063(0x598)]({'baseURL':_0x3585c2})[_0x3b1063(0x525)]('',{'event':_0x166859,'instance':this[_0x3b1063(0x599)]['name'],'data':_0x892ca2}),this[_0x3b1063(0x602)][_0x3b1063(0x39e)](_0x3b1063(0x3dd)+_0x166859+':\x20'+_0x3585c2);}catch(_0x3e4ba5){this[_0x3b1063(0x602)][_0x3b1063(0x197)](this[_0x3b1063(0x28e)]+'\x20('+this[_0x3b1063(0x599)][_0x3b1063(0x536)]+'):\x20'+{'local':l[_0x3b1063(0x35d)]+'.sendDataWebhook-global','message':_0x3e4ba5?.['message'],'hostName':_0x3e4ba5?.[_0x3b1063(0x428)],'syscall':_0x3e4ba5?.[_0x3b1063(0x38e)],'code':_0x3e4ba5?.[_0x3b1063(0x3e0)],'error':_0x3e4ba5?.[_0x3b1063(0x17b)],'stack':_0x3e4ba5?.[_0x3b1063(0x55e)],'name':_0x3e4ba5?.[_0x3b1063(0x35d)]});}}async['connectionUpdate']({qr:_0x47af61,connection:_0x4fe2ee,lastDisconnect:_0x12fbc9}){const _0x4c90c8=a0_0x28e68b;if(_0x47af61){if(this[_0x4c90c8(0x599)]['qrcode'][_0x4c90c8(0x4d1)]===this['configService'][_0x4c90c8(0x2cc)]('QRCODE')['LIMIT'])return this[_0x4c90c8(0x671)](_0x4c90c8(0x1df),{'message':_0x4c90c8(0x26e),'statusCode':w[_0x4c90c8(0x6a0)]['badSession']}),this['sendDataWebhook'](_0x4c90c8(0x507),{'instance':this['instance'][_0x4c90c8(0x35d)],'state':_0x4c90c8(0x69b),'statusReason':w[_0x4c90c8(0x6a0)][_0x4c90c8(0x19d)]}),this[_0x4c90c8(0x671)]('status.instance',{'instance':this[_0x4c90c8(0x599)][_0x4c90c8(0x35d)],'status':_0x4c90c8(0x1fd)}),this[_0x4c90c8(0x574)]=!0x0,this[_0x4c90c8(0x3b8)][_0x4c90c8(0x2c9)](_0x4c90c8(0x375),this['instance'][_0x4c90c8(0x35d)]);this[_0x4c90c8(0x599)][_0x4c90c8(0x206)][_0x4c90c8(0x4d1)]++;let _0x2c00f1={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x4c90c8(0x5d7),'dark':_0x4c90c8(0x39b)}};ro[_0x4c90c8(0x134)][_0x4c90c8(0x5f8)](_0x47af61,_0x2c00f1,(_0x30cfb1,_0x5d15a5)=>{const _0x387e9e=_0x4c90c8;if(_0x30cfb1){this[_0x387e9e(0x602)][_0x387e9e(0x197)](this[_0x387e9e(0x28e)]+'\x20('+this['instance'][_0x387e9e(0x536)]+_0x387e9e(0x195)+_0x30cfb1[_0x387e9e(0x3d0)]());return;}this[_0x387e9e(0x599)][_0x387e9e(0x206)][_0x387e9e(0x326)]=_0x5d15a5,this[_0x387e9e(0x599)][_0x387e9e(0x206)][_0x387e9e(0x3e0)]=_0x47af61,this[_0x387e9e(0x671)](_0x387e9e(0x1df),{'qrcode':{'instance':this[_0x387e9e(0x599)][_0x387e9e(0x35d)],'code':_0x47af61,'base64':_0x5d15a5}});}),no[_0x4c90c8(0x134)]['generate'](_0x47af61,{'small':!0x0},_0x5c0adc=>this[_0x4c90c8(0x602)][_0x4c90c8(0x39e)](_0x4c90c8(0x315)+this[_0x4c90c8(0x599)][_0x4c90c8(0x35d)]+_0x4c90c8(0x3e2)+this[_0x4c90c8(0x599)][_0x4c90c8(0x206)][_0x4c90c8(0x4d1)]+_0x4c90c8(0x54f)+_0x5c0adc));}if(_0x4fe2ee&&(this[_0x4c90c8(0x18b)]={'state':_0x4fe2ee,'statusReason':_0x12fbc9?.[_0x4c90c8(0x197)]?.['output']?.['statusCode']??0xc8},this[_0x4c90c8(0x671)](_0x4c90c8(0x507),{'instance':this[_0x4c90c8(0x599)][_0x4c90c8(0x35d)],...this[_0x4c90c8(0x18b)]})),_0x4fe2ee===_0x4c90c8(0x58f)){if(this['reconnectAttempts']++,this[_0x4c90c8(0x181)][_0x4c90c8(0x2ff)](Date[_0x4c90c8(0x5db)]()),this[_0x4c90c8(0x181)]=this[_0x4c90c8(0x181)]['filter'](_0x52ee16=>Date[_0x4c90c8(0x5db)]()-_0x52ee16<this[_0x4c90c8(0x35b)]),_0x12fbc9['error']?.['output']?.[_0x4c90c8(0x11b)]!==w[_0x4c90c8(0x6a0)][_0x4c90c8(0x5b1)]&&this[_0x4c90c8(0x181)][_0x4c90c8(0x670)]<=this[_0x4c90c8(0x4fd)])await this[_0x4c90c8(0x15e)]();else{this[_0x4c90c8(0x671)](_0x4c90c8(0x276),{'instance':this[_0x4c90c8(0x599)][_0x4c90c8(0x35d)],'status':_0x4c90c8(0x1fd)}),this['isConnected']=!0x1;try{this['logger'][_0x4c90c8(0x690)](this[_0x4c90c8(0x28e)]+'\x20('+this[_0x4c90c8(0x599)][_0x4c90c8(0x536)]+_0x4c90c8(0x39c));let _0x1c2f83={'where':{'owner':this[_0x4c90c8(0x599)][_0x4c90c8(0x536)]}},_0x5bc839=(await this[_0x4c90c8(0x641)][_0x4c90c8(0x3fc)][_0x4c90c8(0x1bc)](_0x1c2f83))['length'];await this['repository']['messageUpdate'][_0x4c90c8(0x4c7)](_0x1c2f83),this[_0x4c90c8(0x602)]['verbose'](this[_0x4c90c8(0x28e)]+'\x20('+this[_0x4c90c8(0x599)]['wuid']+_0x4c90c8(0x622)+_0x5bc839+_0x4c90c8(0x17a));}catch(_0x5f4ae4){console[_0x4c90c8(0x197)](_0x4c90c8(0x46f),_0x5f4ae4);}try{this[_0x4c90c8(0x602)][_0x4c90c8(0x690)](this[_0x4c90c8(0x28e)]+'\x20('+this[_0x4c90c8(0x599)][_0x4c90c8(0x536)]+_0x4c90c8(0x18e));let _0x22fc27={'where':{'owner':this[_0x4c90c8(0x599)][_0x4c90c8(0x536)]}},_0x197d06=(await this[_0x4c90c8(0x641)][_0x4c90c8(0x283)][_0x4c90c8(0x1bc)](_0x22fc27))[_0x4c90c8(0x670)];await this[_0x4c90c8(0x641)][_0x4c90c8(0x283)]['delete'](_0x22fc27),this['logger'][_0x4c90c8(0x690)](this['instanceName']+'\x20('+this[_0x4c90c8(0x599)]['wuid']+_0x4c90c8(0x622)+_0x197d06+'\x20messages.');}catch(_0x5d886d){console['error'](_0x4c90c8(0x541),_0x5d886d);}this['delayMessage']!==null&&(this['logger'][_0x4c90c8(0x690)](this[_0x4c90c8(0x28e)]+'\x20('+this['instance'][_0x4c90c8(0x536)]+_0x4c90c8(0x5ef)),clearInterval(this[_0x4c90c8(0x4d0)]),this[_0x4c90c8(0x4d0)]=null),this[_0x4c90c8(0x602)][_0x4c90c8(0x690)](this[_0x4c90c8(0x28e)]+'\x20('+this['instance'][_0x4c90c8(0x536)]+_0x4c90c8(0x296)),this['AutomateSystem']=null,this[_0x4c90c8(0x3b8)][_0x4c90c8(0x2c9)](_0x4c90c8(0x29c),this['instance'][_0x4c90c8(0x35d)],_0x4c90c8(0x403)),this[_0x4c90c8(0x2e3)]?.['ws']?.[_0x4c90c8(0x58f)](),this[_0x4c90c8(0x2e3)][_0x4c90c8(0x572)](new Error(_0x4c90c8(0x1d2)));}}if(_0x4fe2ee===_0x4c90c8(0x679)){this[_0x4c90c8(0x644)],this['instance'][_0x4c90c8(0x536)]=this['client'][_0x4c90c8(0x685)]['id'][_0x4c90c8(0x5eb)](/:\d+/,'')[_0x4c90c8(0x5eb)](_0x4c90c8(0x677),''),this[_0x4c90c8(0x599)][_0x4c90c8(0x3f7)]=(await this['profilePicture'](this[_0x4c90c8(0x599)][_0x4c90c8(0x536)]+_0x4c90c8(0x677)))[_0x4c90c8(0x3f7)];let _0x1b9f8b='Número:\x20'+this['instance'][_0x4c90c8(0x536)],_0x307855=0x28,_0x3114c9=Math['floor']((_0x307855-_0x1b9f8b[_0x4c90c8(0x670)])/0x2),_0x4f414f='\x20'[_0x4c90c8(0x45f)](_0x3114c9),_0x2fe98b=_0x4c90c8(0x3a2),_0x132389=_0x4c90c8(0x4f7)+this[_0x4c90c8(0x599)][_0x4c90c8(0x35d)],_0x551071=(''+_0x4f414f+_0x1b9f8b+_0x4f414f)['padEnd'](_0x307855,'\x20'),_0x3a7e06=(''+_0x4f414f+_0x2fe98b+_0x4f414f)['padEnd'](_0x307855,'\x20'),_0x535d30=(''+_0x4f414f+_0x132389+_0x4f414f)[_0x4c90c8(0x318)](_0x307855,'\x20'),_0x2a63e7=Math[_0x4c90c8(0x254)](_0x551071[_0x4c90c8(0x670)],_0x3a7e06[_0x4c90c8(0x670)],_0x535d30[_0x4c90c8(0x670)]),_0x3864ca=_0x551071[_0x4c90c8(0x318)](_0x2a63e7,'\x20'),_0x30d9e8=_0x3a7e06[_0x4c90c8(0x318)](_0x2a63e7,'\x20'),_0x22f2ff=_0x535d30['padEnd'](_0x2a63e7,'\x20');this['logger'][_0x4c90c8(0x442)]((_0x4c90c8(0x2f8)+'─'[_0x4c90c8(0x45f)](_0x2a63e7)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x30d9e8+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x22f2ff+_0x4c90c8(0x3d8)+_0x3864ca+_0x4c90c8(0x31d)+'─'[_0x4c90c8(0x45f)](_0x2a63e7)+'┘')[_0x4c90c8(0x5eb)](/^ +/gm,'\x20\x20')),this[_0x4c90c8(0x487)](),this[_0x4c90c8(0x390)]=!0x0;}}['resetReconnectionVariables'](){const _0x17a7f9=a0_0x28e68b;this[_0x17a7f9(0x49e)]=0x0,this[_0x17a7f9(0x181)]=[];}async[a0_0x28e68b(0x44b)](_0xe79bc1,_0xf14e22=!0x1){const _0x855041=a0_0x28e68b;try{let _0x54e38b=await this[_0x855041(0x641)]['message'][_0x855041(0x1bc)]({'where':{'owner':this[_0x855041(0x599)][_0x855041(0x536)],'key':{'id':_0xe79bc1['id']}}});return _0xf14e22?_0x54e38b[0x0]:_0x54e38b[0x0][_0x855041(0x283)];}catch{return{'conversation':''};}}[a0_0x28e68b(0x5aa)](){const _0x24634a=a0_0x28e68b;let _0x3b5f23=this[_0x24634a(0x1ba)][_0x24634a(0x2cc)](_0x24634a(0x230)),_0x19e6dd=this[_0x24634a(0x1ba)][_0x24634a(0x2cc)](_0x24634a(0x167));_0x3b5f23?.['CLEANING_INTERVAL']&&!_0x19e6dd[_0x24634a(0x516)]&&setInterval(()=>{const _0x4e3a34=_0x24634a;try{for(let [_0x48d2bc,_0x468e25]of Object['entries'](_0x3b5f23))_0x468e25===!0x0&&(0x0,lo[_0x4e3a34(0x432)])('rm\x20-rf\x20'+(0x0,Z['join'])(this[_0x4e3a34(0x4ee)],_0x48d2bc[_0x4e3a34(0x208)](),this[_0x4e3a34(0x599)][_0x4e3a34(0x536)])+_0x4e3a34(0x2cf));}catch{}},(_0x3b5f23?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async[a0_0x28e68b(0x115)](){const _0x5452ae=a0_0x28e68b;let _0x5daac5=this['configService'][_0x5452ae(0x2cc)]('DATABASE'),_0xcbfb53=this[_0x5452ae(0x1ba)]['get']('REDIS');return _0xcbfb53?.[_0x5452ae(0x516)]?await ys(_0xcbfb53,this['instance'][_0x5452ae(0x35d)]):_0x5daac5[_0x5452ae(0x516)]?await ws(this['instance'][_0x5452ae(0x35d)]):await(0x0,w[_0x5452ae(0x54b)])((0x0,Z[_0x5452ae(0x1b8)])(V,this['instance'][_0x5452ae(0x35d)]));}async[a0_0x28e68b(0x487)](){const _0x5106b7=a0_0x28e68b;let _0x32072a=()=>Math[_0x5106b7(0x65b)](Math[_0x5106b7(0x4e0)]()*0x2711)+0x7d0,_0x537b83=async()=>{const _0xfbc429=_0x5106b7;if(!this['isConnected']){this[_0xfbc429(0x602)]['verbose'](_0xfbc429(0x1a9)),this[_0xfbc429(0x1e1)]=!0x1;return;}if(this[_0xfbc429(0x599)]['wuid']&&this[_0xfbc429(0x3ce)]&&this[_0xfbc429(0x4d0)]!==null&&this[_0xfbc429(0x4d0)]!==void 0x0){let _0x3f3e16=Math['round'](this[_0xfbc429(0x4d0)]/0xea60);this[_0xfbc429(0x602)][_0xfbc429(0x690)](this[_0xfbc429(0x28e)]+'\x20('+this['instance'][_0xfbc429(0x536)]+_0xfbc429(0x4bd)+_0x3f3e16+_0xfbc429(0x544)),this[_0xfbc429(0x1e1)]=!0x1;return;}else this[_0xfbc429(0x599)][_0xfbc429(0x536)]&&(this[_0xfbc429(0x602)][_0xfbc429(0x690)](this[_0xfbc429(0x28e)]+'\x20('+this[_0xfbc429(0x599)]['wuid']+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this['AutomateSystem']||await this[_0xfbc429(0x105)](),(this[_0xfbc429(0x4d0)]===null||this[_0xfbc429(0x4d0)]===void 0x0)&&await this[_0xfbc429(0x2fe)]());if(this['isRunning']){let _0x617dc1=_0x32072a();this[_0xfbc429(0x602)][_0xfbc429(0x690)](this[_0xfbc429(0x28e)]+_0xfbc429(0x66d)+_0x617dc1/0x3e8+_0xfbc429(0x4e4)),setTimeout(_0x537b83,_0x617dc1);}};if(this[_0x5106b7(0x1e1)])return;this[_0x5106b7(0x1e1)]=!0x0;let _0xef438c=_0x32072a();setTimeout(_0x537b83,_0xef438c);}async[a0_0x28e68b(0x15e)](){const _0x576ad8=a0_0x28e68b;try{this[_0x576ad8(0x18f)](),this[_0x576ad8(0x599)][_0x576ad8(0x273)]=await this[_0x576ad8(0x115)]();let {version:_0x1e993f}=await(0x0,w['fetchLatestBaileysVersion'])(),_0x3e3705=this[_0x576ad8(0x1ba)]['get'](_0x576ad8(0x656)),_0xf0b8a7=[_0x3e3705['CLIENT'],_0x3e3705[_0x576ad8(0x2a9)],(0x0,co['release'])()],_0x117c7e={'auth':{'creds':this[_0x576ad8(0x599)][_0x576ad8(0x273)][_0x576ad8(0x43f)][_0x576ad8(0x23d)],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this[_0x576ad8(0x599)][_0x576ad8(0x273)]['state'][_0x576ad8(0x4b2)],(0x0,$t[_0x576ad8(0x134)])({'level':_0x576ad8(0x197)}))},'logger':(0x0,$t[_0x576ad8(0x134)])({'level':_0x576ad8(0x197)}),'printQRInTerminal':!0x1,'browser':_0xf0b8a7,'version':_0x1e993f,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x576ad8(0x2af)],'getMessage':async _0x2a1dc3=>await this[_0x576ad8(0x44b)](_0x2a1dc3),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x0,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending':_0x504596=>(!!(_0x504596[_0x576ad8(0x515)]||_0x504596[_0x576ad8(0x34b)])&&(_0x504596={'viewOnceMessageV2':{'message':{'messageContextInfo':{'deviceListMetadataVersion':0x2,'deviceListMetadata':{}},..._0x504596}}}),_0x504596)};return this[_0x576ad8(0x574)]=!0x1,this[_0x576ad8(0x2e3)]=(0x0,w['default'])(_0x117c7e),this[_0x576ad8(0x2d0)](),this['client'];}catch(_0x560419){throw this[_0x576ad8(0x602)][_0x576ad8(0x197)](this[_0x576ad8(0x28e)]+'\x20('+this[_0x576ad8(0x599)][_0x576ad8(0x536)]+_0x576ad8(0x27e)+_0x560419),new A(_0x560419?.[_0x576ad8(0x3d0)]());}}['eventHandler'](){const _0x1b0d18=a0_0x28e68b;this[_0x1b0d18(0x2e3)]['ev']['process'](_0x1ed119=>{const _0x19ecef=_0x1b0d18;if(!this['endSession']){let _0x43965a=this[_0x19ecef(0x1ba)][_0x19ecef(0x2cc)](_0x19ecef(0x167));if(_0x1ed119[_0x19ecef(0x507)]&&this[_0x19ecef(0x4f9)](_0x1ed119[_0x19ecef(0x507)]),_0x1ed119[_0x19ecef(0x16e)]&&this[_0x19ecef(0x599)][_0x19ecef(0x273)][_0x19ecef(0x2e2)](),_0x1ed119['messaging-history.set']){let _0x4aded5=_0x1ed119[_0x19ecef(0x5f2)];this['messageHandle']['messaging-history.set'](_0x4aded5,_0x43965a);}if(_0x1ed119[_0x19ecef(0x4ac)]){let _0x1d5086=_0x1ed119['messages.upsert'];this[_0x19ecef(0x617)][_0x19ecef(0x4ac)](_0x1d5086,_0x43965a);}if(_0x1ed119[_0x19ecef(0x2e9)]){let _0x3b2620=_0x1ed119['messages.update'];this[_0x19ecef(0x617)][_0x19ecef(0x2e9)](_0x3b2620,_0x43965a);}if(_0x1ed119[_0x19ecef(0x3aa)]){let _0x4a02ea=_0x1ed119[_0x19ecef(0x3aa)];this[_0x19ecef(0x671)](_0x19ecef(0x3aa),_0x4a02ea);}if(_0x1ed119[_0x19ecef(0x55f)]){let _0x3ee548=_0x1ed119[_0x19ecef(0x55f)];this[_0x19ecef(0x1c3)][_0x19ecef(0x55f)](_0x3ee548);}if(_0x1ed119[_0x19ecef(0x45c)]){let _0x47c86f=_0x1ed119[_0x19ecef(0x45c)];this['groupHandler'][_0x19ecef(0x45c)](_0x47c86f);}if(_0x1ed119[_0x19ecef(0x650)]){let _0x5a5295=_0x1ed119[_0x19ecef(0x650)];this['groupHandler'][_0x19ecef(0x650)](_0x5a5295);}if(_0x1ed119[_0x19ecef(0x1cd)]){let _0x6b71a=_0x1ed119[_0x19ecef(0x1cd)];this[_0x19ecef(0x291)][_0x19ecef(0x1cd)](_0x6b71a,_0x43965a);}if(_0x1ed119[_0x19ecef(0x36a)]){let _0x287c26=_0x1ed119[_0x19ecef(0x36a)];this['chatHandle'][_0x19ecef(0x36a)](_0x287c26,_0x43965a);}if(_0x1ed119[_0x19ecef(0x1c9)]){let _0x411587=_0x1ed119['chats.delete'];this['chatHandle'][_0x19ecef(0x1c9)](_0x411587);}if(_0x1ed119[_0x19ecef(0x51e)]){let _0x1dd81c=_0x1ed119[_0x19ecef(0x51e)];this[_0x19ecef(0x28c)][_0x19ecef(0x51e)](_0x1dd81c,_0x43965a);}if(_0x1ed119['contacts.update']){let _0x36604b=_0x1ed119['contacts.update'];this['contactHandle'][_0x19ecef(0x533)](_0x36604b,_0x43965a);}}});}[a0_0x28e68b(0x374)](_0x29c220){const _0x106ec1=a0_0x28e68b;let _0x5776fe=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x106ec1(0x271)](_0x29c220);if(_0x5776fe&&_0x5776fe[0x1]==='55'){let _0x1a9e39=_0x5776fe[0x2],_0x56e9db=_0x5776fe[0x3],_0x2b953a=_0x5776fe[0x4];if(_0x1a9e39>='31'&&_0x56e9db==='9')return _0x5776fe[0x1]+_0x1a9e39+_0x2b953a;}return _0x29c220;}['createJid'](_0x4e94b1){const _0x2ae900=a0_0x28e68b;return _0x4e94b1[_0x2ae900(0x447)](_0x2ae900(0x1a1))||_0x4e94b1[_0x2ae900(0x447)](_0x2ae900(0x677))||_0x4e94b1[_0x2ae900(0x447)](_0x2ae900(0x4c6))?_0x4e94b1:(_0x4e94b1=_0x4e94b1?.[_0x2ae900(0x5eb)](/\s/g,'')[_0x2ae900(0x5eb)](/\+/g,'')[_0x2ae900(0x5eb)](/\(/g,'')[_0x2ae900(0x5eb)](/\)/g,'')[_0x2ae900(0x22b)](/\:/)[0x0][_0x2ae900(0x22b)]('@')[0x0],_0x4e94b1[_0x2ae900(0x670)]>=0x12?(_0x4e94b1=_0x4e94b1[_0x2ae900(0x5eb)](/[^\d-]/g,''),_0x4e94b1+_0x2ae900(0x1a1)):(_0x4e94b1=_0x4e94b1[_0x2ae900(0x5eb)](/\D/g,''),this[_0x2ae900(0x374)](_0x4e94b1)+_0x2ae900(0x677)));}async['profilePicture'](_0x2a573c){const _0x2a4fe6=a0_0x28e68b;let _0x4d4b18=this['createJid'](_0x2a573c);try{return{'wuid':_0x4d4b18,'profilePictureUrl':await this[_0x2a4fe6(0x2e3)][_0x2a4fe6(0x3f7)](_0x4d4b18,_0x2a4fe6(0x319))};}catch{return{'wuid':_0x4d4b18,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x3df20e,_0x5a0839,_0x3373d3){const _0x1325f0=a0_0x28e68b;let _0x1de82d=(await this['whatsappNumber']({'numbers':[_0x3df20e]}))[0x0];if(!_0x1de82d[_0x1325f0(0x553)]&&!(0x0,w[_0x1325f0(0x564)])(_0x1de82d[_0x1325f0(0x522)])&&!_0x1de82d[_0x1325f0(0x522)][_0x1325f0(0x447)]('@broadcast'))throw new m(_0x1de82d);let _0x5f9139=_0x1de82d[_0x1325f0(0x522)];try{_0x3373d3?.['delay']&&(await this[_0x1325f0(0x2e3)][_0x1325f0(0x62b)](_0x5f9139),await this[_0x1325f0(0x2e3)][_0x1325f0(0x566)](_0x3373d3?.[_0x1325f0(0x28a)]??_0x1325f0(0x177),_0x5f9139),await(0x0,w[_0x1325f0(0x441)])(_0x3373d3['delay']),await this[_0x1325f0(0x2e3)][_0x1325f0(0x566)](_0x1325f0(0x47f),_0x5f9139));let _0x25901b=_0x3373d3?.[_0x1325f0(0x224)]!=!0x1?void 0x0:!0x1,_0x9bd06e;if(_0x3373d3?.[_0x1325f0(0x3eb)]){let _0x4f37b1=_0x3373d3?.[_0x1325f0(0x3eb)],_0x117c6d=_0x4f37b1?.[_0x1325f0(0x283)]?_0x4f37b1:await this['getMessage'](_0x4f37b1[_0x1325f0(0x32e)],!0x0);if(!_0x117c6d)throw _0x1325f0(0x386);_0x9bd06e=_0x117c6d;}let _0x130ce3;if((0x0,w[_0x1325f0(0x564)])(_0x5f9139))try{let _0x44e697=await this[_0x1325f0(0x2e3)][_0x1325f0(0x42c)](_0x5f9139);if(!_0x44e697)throw new L('Group\x20not\x20found');_0x3373d3?.[_0x1325f0(0x277)]&&(_0x3373d3[_0x1325f0(0x277)]?.['everyOne']?_0x130ce3=_0x44e697['participants'][_0x1325f0(0x5df)](_0x2f5143=>_0x2f5143['id']):_0x3373d3['mentions']?.[_0x1325f0(0x64c)]?.[_0x1325f0(0x670)]&&(_0x130ce3=_0x3373d3[_0x1325f0(0x277)][_0x1325f0(0x64c)][_0x1325f0(0x5df)](_0x4f95e5=>{const _0x3b3ab8=_0x1325f0;let _0x346544=this['createJid'](_0x4f95e5);return(0x0,w[_0x3b3ab8(0x564)])(_0x346544)?null:_0x346544;})));}catch{throw new L('Group\x20not\x20found');}let _0x4adebd=await((async()=>{const _0x3c88f8=_0x1325f0;let _0x9ace16={'quoted':_0x9bd06e};return!_0x5a0839['audio']&&!_0x5a0839[_0x3c88f8(0x137)]&&!_0x5a0839[_0x3c88f8(0x4b9)]&&!_0x5a0839[_0x3c88f8(0x37e)]&&_0x5f9139!=='status@broadcast'&&!_0x5a0839['audio']?await this[_0x3c88f8(0x2e3)][_0x3c88f8(0x2dd)](_0x5f9139,{'forward':{'key':{'remoteJid':this[_0x3c88f8(0x599)]['wuid'],'fromMe':!0x0},'message':_0x5a0839},'mentions':_0x130ce3},_0x9ace16):_0x5a0839['conversation']?await this[_0x3c88f8(0x2e3)][_0x3c88f8(0x2dd)](_0x5f9139,{'text':_0x5a0839[_0x3c88f8(0x37e)],'mentions':_0x130ce3,'linkPreview':_0x25901b},_0x9ace16):_0x5f9139==='status@broadcast'?await this[_0x3c88f8(0x2e3)][_0x3c88f8(0x2dd)](_0x5f9139,_0x5a0839[_0x3c88f8(0x4c5)]['content'],{'backgroundColor':_0x5a0839[_0x3c88f8(0x4c5)][_0x3c88f8(0x333)][_0x3c88f8(0x227)],'font':_0x5a0839[_0x3c88f8(0x4c5)][_0x3c88f8(0x333)][_0x3c88f8(0x408)],'statusJidList':_0x5a0839[_0x3c88f8(0x4c5)][_0x3c88f8(0x333)][_0x3c88f8(0xfa)]}):await this['client']['sendMessage'](_0x5f9139,_0x5a0839,_0x9ace16);})()),{message_normalized:_0x3d7621}=this['normalizeMessage'](_0x4adebd[_0x1325f0(0x283)],q(_0x4adebd[_0x1325f0(0x283)]),null),_0x5cb69d={'key':_0x4adebd['key'],'pushName':_0x4adebd['pushName'],'message':{..._0x4adebd[_0x1325f0(0x283)]},'messageType':q(_0x4adebd[_0x1325f0(0x283)]),'message_normalized':{'key':_0x4adebd[_0x1325f0(0x32e)],'pushName':_0x4adebd['pushName'],'messageTimestamp':_0x4adebd['messageTimestamp']&&_0x4adebd[_0x1325f0(0x2ac)][_0x1325f0(0x3d0)]()['length']<0xd?_0x4adebd['messageTimestamp']*0x3e8:_0x4adebd[_0x1325f0(0x2ac)]||null,'source':(0x0,w[_0x1325f0(0x309)])(_0x4adebd[_0x1325f0(0x32e)]['id']),..._0x3d7621},'messageTimestamp':_0x4adebd[_0x1325f0(0x2ac)]&&_0x4adebd['messageTimestamp'][_0x1325f0(0x3d0)]()['length']<0xd?_0x4adebd['messageTimestamp']*0x3e8:_0x4adebd[_0x1325f0(0x2ac)]||null,'owner':this['instance'][_0x1325f0(0x536)],'source':(0x0,w[_0x1325f0(0x309)])(_0x4adebd[_0x1325f0(0x32e)]['id'])};return this[_0x1325f0(0x602)][_0x1325f0(0x39e)](_0x5cb69d),await this[_0x1325f0(0x671)](_0x1325f0(0x1c5),_0x5cb69d),H(this[_0x1325f0(0x28e)],_0x1325f0(0x234),{'message':_0x5cb69d}),this[_0x1325f0(0x4ed)](this[_0x1325f0(0x1ba)][_0x1325f0(0x2cc)]('DATABASE'),_0x5cb69d,_0x1325f0(0x444)),await this[_0x1325f0(0x641)][_0x1325f0(0x283)]['insert']([_0x5cb69d],this[_0x1325f0(0x1ba)]['get'](_0x1325f0(0x167))[_0x1325f0(0x516)]),_0x4adebd;}catch(_0x30bf63){throw this[_0x1325f0(0x602)][_0x1325f0(0x197)](this[_0x1325f0(0x28e)]+'\x20('+this[_0x1325f0(0x599)][_0x1325f0(0x536)]+_0x1325f0(0x27e)+_0x30bf63[_0x1325f0(0x3d0)]()),new m(_0x30bf63[_0x1325f0(0x3d0)]());}}get[a0_0x28e68b(0x2c1)](){return this['stateConnection'];}async[a0_0x28e68b(0x33b)](_0x50b3b7){const _0x56d027=a0_0x28e68b;let _0x1268b7=this[_0x56d027(0x1ba)]['get'](_0x56d027(0x496)),_0x15c467=this[_0x56d027(0x1ba)][_0x56d027(0x2cc)](_0x56d027(0x267));return _0x15c467&&this[_0x56d027(0x28e)]['toLowerCase']()[_0x56d027(0x447)](_0x15c467['toLowerCase']())&&(_0x50b3b7['textMessage'][_0x56d027(0x265)]+='\x0a\x0a'+_0x1268b7),await this[_0x56d027(0x2a8)](_0x50b3b7['number'],{'conversation':_0x50b3b7[_0x56d027(0x33b)]['text']},_0x50b3b7?.[_0x56d027(0x4d8)]);}async[a0_0x28e68b(0x481)](_0x55c7b1){const _0x5d24d6=a0_0x28e68b;if(!_0x55c7b1['type'])throw new m(_0x5d24d6(0x37d));if(!_0x55c7b1[_0x5d24d6(0x32a)])throw new m(_0x5d24d6(0x565));if(_0x55c7b1[_0x5d24d6(0x2e6)]){let _0x5b5718=await this[_0x5d24d6(0x641)][_0x5d24d6(0x559)][_0x5d24d6(0x1bc)]({'where':{'owner':this[_0x5d24d6(0x599)]['wuid']}});if(!_0x5b5718[_0x5d24d6(0x670)])throw new m('Contacts\x20not\x20found');_0x55c7b1[_0x5d24d6(0xfa)]=_0x5b5718[_0x5d24d6(0x6af)](_0x579a77=>_0x579a77['pushName'])[_0x5d24d6(0x5df)](_0x22b3b2=>_0x22b3b2['id']);}if(!_0x55c7b1[_0x5d24d6(0xfa)]?.['length']&&!_0x55c7b1[_0x5d24d6(0x2e6)])throw new m('StatusJidList\x20is\x20required');if(_0x55c7b1[_0x5d24d6(0x1bd)]===_0x5d24d6(0x265)){if(!_0x55c7b1[_0x5d24d6(0x227)])throw new m(_0x5d24d6(0x5a9));if(!_0x55c7b1['font'])throw new m(_0x5d24d6(0x6b0));return{'content':{'text':_0x55c7b1[_0x5d24d6(0x32a)]},'option':{'backgroundColor':_0x55c7b1['backgroundColor'],'font':_0x55c7b1[_0x5d24d6(0x408)],'statusJidList':_0x55c7b1['statusJidList']}};}if(_0x55c7b1[_0x5d24d6(0x1bd)]==='image')return{'content':{'image':{'url':_0x55c7b1[_0x5d24d6(0x32a)]},'caption':_0x55c7b1[_0x5d24d6(0x52d)]},'option':{'statusJidList':_0x55c7b1[_0x5d24d6(0xfa)]}};if(_0x55c7b1[_0x5d24d6(0x1bd)]===_0x5d24d6(0x410))return{'content':{'video':{'url':_0x55c7b1['content']},'caption':_0x55c7b1[_0x5d24d6(0x52d)]},'option':{'statusJidList':_0x55c7b1[_0x5d24d6(0xfa)]}};if(_0x55c7b1[_0x5d24d6(0x1bd)]===_0x5d24d6(0x1ef)){let _0x1f16cf;if((0x0,x['isURL'])(_0x55c7b1[_0x5d24d6(0x32a)])){let _0x58ab16=await le[_0x5d24d6(0x134)][_0x5d24d6(0x2cc)](_0x55c7b1[_0x5d24d6(0x32a)],{'responseType':'arraybuffer'});if(_0x1f16cf=Buffer['from'](_0x58ab16[_0x5d24d6(0x503)]),_0x55c7b1[_0x5d24d6(0x32a)][_0x5d24d6(0x609)](_0x5d24d6(0x5ba)))try{_0x1f16cf=await this[_0x5d24d6(0x528)](_0x1f16cf);}catch(_0x345e77){throw new A(_0x5d24d6(0x23a)+_0x345e77['message']);}else _0x1f16cf=Buffer[_0x5d24d6(0x336)](_0x55c7b1[_0x5d24d6(0x32a)],_0x5d24d6(0x326));let _0x556fad=_0x1f16cf;return{'content':{'audio':Buffer['from'](_0x556fad,_0x5d24d6(0x326)),'ptt':!0x0,'mimetype':_0x5d24d6(0x563)},'option':{'statusJidList':_0x55c7b1[_0x5d24d6(0xfa)]}};}else throw new A();}throw new m(_0x5d24d6(0x488));}async[a0_0x28e68b(0x3fe)](_0x8c6347){const _0x59e4e4=a0_0x28e68b;return await this[_0x59e4e4(0x2a8)](_0x59e4e4(0x589),{'status':await this[_0x59e4e4(0x481)](_0x8c6347[_0x59e4e4(0x3fe)])});}async[a0_0x28e68b(0x3c6)](_0xf21b24){const _0x2a7b7a=a0_0x28e68b;try{let _0x1d5d8c=await(0x0,w[_0x2a7b7a(0x5e8)])({[_0xf21b24['mediatype']]:(0x0,x[_0x2a7b7a(0x1b1)])(_0xf21b24['media'])?{'url':_0xf21b24[_0x2a7b7a(0x668)]}:Buffer[_0x2a7b7a(0x336)](_0xf21b24[_0x2a7b7a(0x668)],_0x2a7b7a(0x326))},{'upload':this[_0x2a7b7a(0x2e3)][_0x2a7b7a(0x41c)]}),_0x2a6b3d=_0xf21b24['mediatype']+_0x2a7b7a(0x67e);if(_0xf21b24[_0x2a7b7a(0x50f)]===_0x2a7b7a(0x1a4)&&!_0xf21b24[_0x2a7b7a(0x5b2)]){let _0x2549ca=new RegExp(/.*\/(.+?)\./)[_0x2a7b7a(0x271)](_0xf21b24[_0x2a7b7a(0x668)]);_0xf21b24[_0x2a7b7a(0x5b2)]=_0x2549ca[0x1];}let _0x52664b;(0x0,x[_0x2a7b7a(0x1b1)])(_0xf21b24[_0x2a7b7a(0x668)])?_0x52664b=(0x0,bs[_0x2a7b7a(0x1de)])(_0xf21b24['media']):_0x52664b=(0x0,bs[_0x2a7b7a(0x1de)])(_0xf21b24['fileName']);let _0x5cdd37=this[_0x2a7b7a(0x1ba)]['get']('TRIAL_AD'),_0x3bd49e=this[_0x2a7b7a(0x1ba)][_0x2a7b7a(0x2cc)](_0x2a7b7a(0x267));return _0x3bd49e&&this[_0x2a7b7a(0x28e)][_0x2a7b7a(0x208)]()[_0x2a7b7a(0x447)](_0x3bd49e[_0x2a7b7a(0x208)]())&&(_0xf21b24[_0x2a7b7a(0x52d)]+='\x0a\x0a'+_0x5cdd37),_0x1d5d8c[_0x2a6b3d][_0x2a7b7a(0x52d)]=_0xf21b24?.[_0x2a7b7a(0x52d)],_0x1d5d8c[_0x2a6b3d][_0x2a7b7a(0x41d)]=_0x52664b,_0x1d5d8c[_0x2a6b3d][_0x2a7b7a(0x5b2)]=_0xf21b24['fileName'],_0xf21b24[_0x2a7b7a(0x50f)]===_0x2a7b7a(0x410)&&(_0x1d5d8c[_0x2a6b3d]['jpegThumbnail']=Uint8Array[_0x2a7b7a(0x336)]((0x0,_e[_0x2a7b7a(0x169)])((0x0,Z[_0x2a7b7a(0x1b8)])(process[_0x2a7b7a(0x682)](),_0x2a7b7a(0x418)))),_0x1d5d8c[_0x2a6b3d][_0x2a7b7a(0x413)]=!0x1),(0x0,w['generateWAMessageFromContent'])('',{[_0x2a6b3d]:{..._0x1d5d8c[_0x2a6b3d]}},{'userJid':this[_0x2a7b7a(0x599)][_0x2a7b7a(0x536)]});}catch(_0x56b65a){throw this[_0x2a7b7a(0x602)][_0x2a7b7a(0x197)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2a7b7a(0x27e)+_0x56b65a),new A(_0x56b65a?.[_0x2a7b7a(0x3d0)]()||_0x56b65a);}}async['mediaMessage'](_0x3f656b){const _0x4de13e=a0_0x28e68b;let _0x1c17b3=await this[_0x4de13e(0x3c6)](_0x3f656b[_0x4de13e(0x627)]);return await this['sendMessageWithTyping'](_0x3f656b['number'],{..._0x1c17b3['message']},_0x3f656b?.[_0x4de13e(0x4d8)]);}async[a0_0x28e68b(0x681)](_0x25bed2){const _0x284ce4=a0_0x28e68b;return await this[_0x284ce4(0x2a8)](_0x25bed2['number'],{'sticker':{'url':_0x25bed2[_0x284ce4(0x440)][_0x284ce4(0x319)]}},_0x25bed2?.[_0x284ce4(0x4d8)]);}async[a0_0x28e68b(0x5cc)](_0x2741b1){const _0x50c956=a0_0x28e68b;let _0x2cdeb7;if((0x0,x[_0x50c956(0x1b1)])(_0x2741b1[_0x50c956(0x2e7)][_0x50c956(0x1ef)])){let _0x41841c=await le['default'][_0x50c956(0x2cc)](_0x2741b1[_0x50c956(0x2e7)][_0x50c956(0x1ef)],{'responseType':_0x50c956(0x54e)});if(_0x2cdeb7=Buffer[_0x50c956(0x336)](_0x41841c['data']),_0x2741b1[_0x50c956(0x2e7)][_0x50c956(0x1ef)][_0x50c956(0x609)]('.mp3'))try{_0x2cdeb7=await this[_0x50c956(0x528)](_0x2cdeb7);}catch(_0x28af36){throw new A(_0x50c956(0x23a)+_0x28af36[_0x50c956(0x283)]);}}else _0x2cdeb7=Buffer[_0x50c956(0x336)](_0x2741b1[_0x50c956(0x2e7)][_0x50c956(0x1ef)],'base64');let _0x42190d=_0x2cdeb7;return this[_0x50c956(0x2a8)](_0x2741b1[_0x50c956(0x426)],{'audio':_0x42190d,'mimetype':'audio/ogg;\x20codecs=opus','ptt':!0x0},{'presence':_0x50c956(0x321),'delay':_0x2741b1?.['options']?.[_0x50c956(0x441)]});}async[a0_0x28e68b(0x528)](_0x42f54a){return new Promise(async(_0x13d3bf,_0x1856f8)=>{const _0x291609=a0_0x4842;let _0x11192c=po[_0x291609(0x159)][_0x291609(0x336)](_0x42f54a),_0xab5ba=new mo['WritableStreamBuffer']();(0x0,uo[_0x291609(0x134)])()[_0x291609(0x64a)](_0x11192c)['noVideo']()['outputOptions']([_0x291609(0x256),'libopus',_0x291609(0x610),_0x291609(0x335)])[_0x291609(0x43a)](_0x291609(0x40f))[_0x291609(0x66f)](0x1)['audioFrequency'](0xbb80)['audioBitrate'](0x12)[_0x291609(0x40d)](_0x291609(0x2b0))[_0x291609(0x4a9)](_0xab5ba)['on']('end',async()=>{const _0x4a7f2e=_0x291609;let _0x17082e=_0xab5ba['getContents']();Buffer[_0x4a7f2e(0x61e)](_0x17082e)?_0x13d3bf(_0x17082e):_0x1856f8(new Error(_0x4a7f2e(0x28f)));})['on']('error',_0x431089=>{_0x1856f8(_0x431089);})[_0x291609(0x34d)]();});}async['buttonMessage'](_0x546034){const _0x35a55c=a0_0x28e68b;let _0x1b807e={},_0x4710a4=_0x35a55c(0x40c);if(_0x546034[_0x35a55c(0x278)]?.[_0x35a55c(0x627)]){_0x4710a4=_0x546034[_0x35a55c(0x278)]['mediaMessage']?.['mediatype'][_0x35a55c(0x4ad)]()??_0x35a55c(0x40c),_0x1b807e[_0x35a55c(0x11f)]=_0x4710a4[_0x35a55c(0x208)]()+_0x35a55c(0x67e);let _0x2e06e3=await this[_0x35a55c(0x3c6)](_0x546034[_0x35a55c(0x278)][_0x35a55c(0x627)]);_0x1b807e[_0x35a55c(0x283)]=_0x2e06e3[_0x35a55c(0x283)][_0x1b807e['mediaKey']],_0x1b807e[_0x35a55c(0x657)]='*'+_0x546034['buttonMessage'][_0x35a55c(0x379)]+_0x35a55c(0x607)+_0x546034['buttonMessage'][_0x35a55c(0x4ae)];}let _0x3f5d22={'text':_0x546034['buttonMessage']['buttons'][_0x35a55c(0x5df)](_0x23946e=>_0x23946e[_0x35a55c(0x25c)]),'ids':_0x546034[_0x35a55c(0x278)][_0x35a55c(0x4a7)]['map'](_0x3e8872=>_0x3e8872[_0x35a55c(0x2aa)])};if(!(0x0,x[_0x35a55c(0x3cb)])(_0x3f5d22[_0x35a55c(0x265)])||!(0x0,x[_0x35a55c(0x3cb)])(_0x3f5d22[_0x35a55c(0x369)]))throw new m(_0x35a55c(0x68d),_0x35a55c(0x6b8));return await this[_0x35a55c(0x2a8)](_0x546034[_0x35a55c(0x426)],{'buttonsMessage':{'text':_0x1b807e?.[_0x35a55c(0x11f)]?void 0x0:_0x546034['buttonMessage'][_0x35a55c(0x379)],'contentText':_0x1b807e?.[_0x35a55c(0x657)]??_0x546034[_0x35a55c(0x278)]['description'],'footerText':_0x546034[_0x35a55c(0x278)]?.[_0x35a55c(0x473)],'buttons':_0x546034[_0x35a55c(0x278)]['buttons'][_0x35a55c(0x5df)](_0x5e7513=>({'buttonText':{'displayText':_0x5e7513[_0x35a55c(0x25c)]},'buttonId':_0x5e7513[_0x35a55c(0x2aa)],'type':0x1})),'headerType':w['proto'][_0x35a55c(0x67e)][_0x35a55c(0x175)][_0x35a55c(0x549)][_0x4710a4],[_0x1b807e?.[_0x35a55c(0x11f)]]:_0x1b807e?.[_0x35a55c(0x283)]}},_0x546034?.['options']);}async['locationMessage'](_0x1e8c66){const _0x5ad509=a0_0x28e68b;return await this[_0x5ad509(0x2a8)](_0x1e8c66['number'],{'locationMessage':{'degreesLatitude':_0x1e8c66[_0x5ad509(0x4d6)][_0x5ad509(0x53d)],'degreesLongitude':_0x1e8c66[_0x5ad509(0x4d6)][_0x5ad509(0x2d9)],'name':_0x1e8c66['locationMessage']?.['name'],'address':_0x1e8c66[_0x5ad509(0x4d6)]?.[_0x5ad509(0x66c)]}},_0x1e8c66?.['options']);}async[a0_0x28e68b(0x34b)](_0x14f198){const _0x5d165e=a0_0x28e68b;return await this[_0x5d165e(0x2a8)](_0x14f198[_0x5d165e(0x426)],{'listMessage':{'title':_0x14f198[_0x5d165e(0x34b)]['title'],'description':_0x14f198['listMessage']['description'],'buttonText':_0x14f198[_0x5d165e(0x34b)]?.[_0x5d165e(0x25c)],'footerText':_0x14f198[_0x5d165e(0x34b)]?.[_0x5d165e(0x473)],'sections':_0x14f198['listMessage'][_0x5d165e(0x1d5)],'listType':0x1}},_0x14f198?.[_0x5d165e(0x4d8)]);}async[a0_0x28e68b(0x454)](_0x2bd19e){const _0x9725fc=a0_0x28e68b;let _0x18dd66={},_0x5b4501=_0x58e331=>{const _0x5bacca=a0_0x4842;let _0x39591e='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x58e331[_0x5bacca(0x3cc)]+_0x5bacca(0x1d8)+_0x58e331[_0x5bacca(0x3cc)]+'\x0a';_0x58e331[_0x5bacca(0x2f7)]&&(_0x39591e+='ORG:'+_0x58e331[_0x5bacca(0x2f7)]+';\x0a'),_0x58e331[_0x5bacca(0x59e)]&&(_0x39591e+=_0x5bacca(0x153)+_0x58e331['email']+'\x0a'),_0x58e331[_0x5bacca(0x255)]&&(_0x39591e+=_0x5bacca(0x6b6)+_0x58e331[_0x5bacca(0x255)]+'\x0a');let _0xab6c4f='';return _0x58e331[_0x5bacca(0x60b)]&&_0x58e331[_0x5bacca(0x60b)]['split']('|')[_0x5bacca(0x360)]((_0x1759a1,_0x713b71)=>{const _0x75a99a=_0x5bacca;let _0x35b9c1=this[_0x75a99a(0x5ed)](_0x1759a1)['replace'](_0x75a99a(0x677),'');_0xab6c4f+=_0x75a99a(0x646)+(_0x713b71+0x1)+_0x75a99a(0x557)+_0x35b9c1+':'+_0x1759a1+_0x75a99a(0x26a)+(_0x713b71+0x1)+_0x75a99a(0x128);}),_0x39591e+=_0xab6c4f+_0x5bacca(0x451),_0x39591e;};return _0x2bd19e[_0x9725fc(0x454)][_0x9725fc(0x670)]===0x1?_0x18dd66[_0x9725fc(0x454)]={'displayName':_0x2bd19e[_0x9725fc(0x454)][0x0][_0x9725fc(0x3cc)],'vcard':_0x5b4501(_0x2bd19e[_0x9725fc(0x454)][0x0])}:_0x18dd66[_0x9725fc(0x2e1)]={'displayName':_0x2bd19e[_0x9725fc(0x454)][_0x9725fc(0x670)]+_0x9725fc(0x2b9),'contacts':_0x2bd19e['contactMessage'][_0x9725fc(0x5df)](_0xee12b5=>({'displayName':_0xee12b5[_0x9725fc(0x3cc)],'vcard':_0x5b4501(_0xee12b5)}))},await this[_0x9725fc(0x2a8)](_0x2bd19e[_0x9725fc(0x426)],{..._0x18dd66},_0x2bd19e?.[_0x9725fc(0x4d8)]);}async[a0_0x28e68b(0x552)](_0x256d63){const _0x368055=a0_0x28e68b;return await this[_0x368055(0x2a8)](_0x256d63['reactionMessage'][_0x368055(0x32e)]['remoteJid'],{'reactionMessage':{'key':_0x256d63[_0x368055(0x552)]['key'],'text':_0x256d63[_0x368055(0x552)][_0x368055(0x13c)]}});}async[a0_0x28e68b(0x65a)](_0x3e68e9){const _0x34bc89=a0_0x28e68b;let _0x9195a1=[];for await(let _0x4f486f of _0x3e68e9[_0x34bc89(0x3c0)]){let _0x14dd11=this[_0x34bc89(0x5ed)](_0x4f486f);if((0x0,w[_0x34bc89(0x564)])(_0x14dd11)){let _0x4591ae=await this[_0x34bc89(0x5ce)]({'groupJid':_0x14dd11},_0x34bc89(0x403));_0x9195a1[_0x34bc89(0x2ff)](new he(_0x4591ae['metadata']['id'],!!_0x4591ae?.['metadata']['id'],_0x4591ae?.[_0x34bc89(0x698)][_0x34bc89(0x3e4)]));}else try{let _0x1dd231=(await this['client'][_0x34bc89(0x517)](_0x14dd11))[0x0];_0x9195a1[_0x34bc89(0x2ff)](new he(_0x1dd231['jid'],_0x1dd231['exists']));}catch{_0x9195a1[_0x34bc89(0x2ff)](new he(_0x4f486f,!0x1));}}return _0x9195a1;}async[a0_0x28e68b(0x207)](_0xe193f7){const _0x4efee7=a0_0x28e68b;try{let _0x89d061=[];try{_0xe193f7[_0x4efee7(0x551)][_0x4efee7(0x360)](_0x29b315=>{const _0x39441f=_0x4efee7;((0x0,w[_0x39441f(0x564)])(_0x29b315[_0x39441f(0x48b)])||(0x0,w[_0x39441f(0x5c7)])(_0x29b315[_0x39441f(0x48b)]))&&_0x89d061[_0x39441f(0x2ff)]({'remoteJid':_0x29b315[_0x39441f(0x48b)],'fromMe':_0x29b315[_0x39441f(0x14f)],'id':_0x29b315['id']});});}catch(_0xfbf3fa){console['error'](_0x4efee7(0x57b),_0xfbf3fa);}await this[_0x4efee7(0x2e3)]['readMessages'](_0x89d061);let _0x1f6efc=_0x89d061[_0x4efee7(0x5df)](_0x40348e=>this[_0x4efee7(0x2fd)](_0x40348e,_0x40348e[_0x4efee7(0x48b)],{'status':_0x4efee7(0x693),'owner':this[_0x4efee7(0x599)][_0x4efee7(0x536)]}));await Promise[_0x4efee7(0x3d6)](_0x1f6efc);let _0x4f8182=_0x89d061[_0x4efee7(0x5df)](_0x35efad=>I['findOneAndUpdate']({'id':_0x35efad['remoteJid'],'owner':this[_0x4efee7(0x599)][_0x4efee7(0x536)]},{'$set':{'unreadcount':0x0}},{'new':!0x0}));return(await Promise[_0x4efee7(0x3d6)](_0x4f8182))[_0x4efee7(0x6af)](_0x3f20f5=>_0x3f20f5!==null)[_0x4efee7(0x360)](_0x4e3297=>{H(this['instanceName'],'chats',{'chat':_0x4e3297});}),await Promise['all'](_0x4f8182),{'message':_0x4efee7(0x2c3),'read':_0x4efee7(0x304)};}catch(_0x48b0e8){throw new A('Read\x20messages\x20fail',_0x48b0e8[_0x4efee7(0x3d0)]());}}async[a0_0x28e68b(0x591)](_0x47f7e2){const _0x1ec1e2=a0_0x28e68b;try{return _0x47f7e2[_0x1ec1e2(0x263)]['messageTimestamp']=_0x47f7e2[_0x1ec1e2(0x263)]?.[_0x1ec1e2(0x2ac)]??Date[_0x1ec1e2(0x5db)](),await this[_0x1ec1e2(0x2e3)][_0x1ec1e2(0x4e7)]({'archive':_0x47f7e2[_0x1ec1e2(0x531)],'lastMessages':[_0x47f7e2[_0x1ec1e2(0x263)]]},_0x47f7e2[_0x1ec1e2(0x263)]['key'][_0x1ec1e2(0x48b)]),{'chatId':_0x47f7e2[_0x1ec1e2(0x263)][_0x1ec1e2(0x32e)][_0x1ec1e2(0x48b)],'archived':!0x0};}catch(_0xe6b973){throw new A({'archived':!0x1,'message':[_0x1ec1e2(0x60e),_0xe6b973[_0x1ec1e2(0x3d0)]()]});}}async['deleteMessage'](_0x4c21b8){const _0xd8a6f1=a0_0x28e68b;try{let _0x4a2649=await this[_0xd8a6f1(0x2e3)][_0xd8a6f1(0x2dd)](_0x4c21b8[_0xd8a6f1(0x48b)],{'delete':_0x4c21b8});try{let _0x3125dd=await this[_0xd8a6f1(0x2fd)](_0x4c21b8,_0x4c21b8[_0xd8a6f1(0x48b)],{'status':_0xd8a6f1(0x4bf),'owner':this['instance'][_0xd8a6f1(0x536)]});this[_0xd8a6f1(0x602)][_0xd8a6f1(0x690)](this['instanceName']+'\x20('+this[_0xd8a6f1(0x599)][_0xd8a6f1(0x536)]+'):\x20updateResult:'+_0x3125dd);}catch(_0xb6a5f0){console[_0xd8a6f1(0x197)](_0xd8a6f1(0x60c),_0xb6a5f0);}return _0x4a2649;}catch(_0x427b5){throw new A(_0xd8a6f1(0x5a6),_0x427b5?.[_0xd8a6f1(0x3d0)]());}}async['getBase64FromMediaMessage'](_0x264472){const _0x13377b=a0_0x28e68b;try{let _0x120dbf=_0x264472?.['message']?_0x264472:await this[_0x13377b(0x44b)](_0x264472[_0x13377b(0x32e)],!0x0);for(let _0x2cc690 of zs)_0x120dbf[_0x13377b(0x283)][_0x2cc690]&&(_0x120dbf[_0x13377b(0x283)]=_0x120dbf['message'][_0x2cc690][_0x13377b(0x283)]);let _0x4c5a67,_0x284d29;for(let _0x783e79 of Ks)if(_0x4c5a67=_0x120dbf[_0x13377b(0x283)][_0x783e79],_0x4c5a67){_0x284d29=_0x783e79;break;}if(!_0x4c5a67)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x4c5a67[_0x13377b(0x11f)]==_0x13377b(0x2b3)&&(_0x120dbf[_0x13377b(0x283)]=JSON[_0x13377b(0x3a4)](JSON[_0x13377b(0x409)](_0x120dbf[_0x13377b(0x283)])));let _0x36d123=await(0x0,w[_0x13377b(0x15f)])({'key':_0x120dbf?.['key'],'message':_0x120dbf?.[_0x13377b(0x283)]},_0x13377b(0x56d),{},{'logger':(0x0,$t[_0x13377b(0x134)])({'level':'error'}),'reuploadRequest':this[_0x13377b(0x2e3)][_0x13377b(0x2fb)]});if(!(_0x36d123 instanceof Buffer))throw new Error(_0x13377b(0x581));if(this[_0x13377b(0x1ba)][_0x13377b(0x2cc)](_0x13377b(0x167))[_0x13377b(0x516)]){let _0x30e1ce;if(_0x4c5a67['fileName'])_0x30e1ce=_0x4c5a67['fileName'];else{let _0x23a6ac=_0x4c5a67['mimetype']?.[_0x13377b(0x467)](/\/(\w+)/),_0xb7c9f3=_0x23a6ac?_0x23a6ac[0x1]:null;if(_0xb7c9f3===_0x13377b(0x288)&&_0x4c5a67[_0x13377b(0x41d)]?.[_0x13377b(0x447)](_0x13377b(0x2b0))&&(_0xb7c9f3='ogg'),!_0xb7c9f3)throw new Error(_0x13377b(0x64f));_0x30e1ce=(0x0,go['v4'])()+'.'+_0xb7c9f3;}await this[_0x13377b(0x1ee)](_0x36d123,_0x30e1ce);let _0xb7607a=_0x13377b(0x152)+_0x30e1ce,_0x3930c4=this['configService'][_0x13377b(0x2cc)]('SSL_CONF'),_0x432b73=this['configService'][_0x13377b(0x2cc)]('SERVER')[_0x13377b(0x1d3)],_0x365f70=_0x3930c4&&_0x3930c4[_0x13377b(0x4e6)][_0x13377b(0x22b)]('/')[0x4];_0x432b73===0x1bb&&(_0xb7607a=''+(_0x13377b(0x240)+_0x365f70)+_0xb7607a);let _0x64af32={'where':{'key':{'id':_0x120dbf[_0x13377b(0x32e)]['id'],'remoteJid':_0x120dbf['key'][_0x13377b(0x48b)],'fromMe':_0x120dbf[_0x13377b(0x32e)][_0x13377b(0x14f)]},'owner':this[_0x13377b(0x599)][_0x13377b(0x536)]}},_0xfa702d=0xc*0x3c*0x3c*0x3e8,_0x3cf714={'message_normalized.fileUrl':_0xb7607a,'message_normalized.expires_fileUrl':Date['now']()+_0xfa702d};try{let _0x57bda1=await this[_0x13377b(0x641)][_0x13377b(0x283)][_0x13377b(0x67a)](_0x64af32,_0x3cf714);_0x57bda1&&H(this[_0x13377b(0x28e)],_0x13377b(0x234),{'message':_0x57bda1});}catch{}}return{'mediaType':_0x284d29,'fileName':_0x4c5a67['fileName'],'caption':_0x4c5a67[_0x13377b(0x52d)],'size':{'fileLength':_0x4c5a67[_0x13377b(0x347)],'height':_0x4c5a67[_0x13377b(0x5fa)],'width':_0x4c5a67[_0x13377b(0x629)]},'mimetype':_0x4c5a67[_0x13377b(0x41d)],'base64':_0x36d123[_0x13377b(0x3d0)](_0x13377b(0x326))};}catch(_0x3a7c5e){throw this[_0x13377b(0x602)]['error'](this['instanceName']+'\x20('+this[_0x13377b(0x599)][_0x13377b(0x536)]+_0x13377b(0x27e)+_0x3a7c5e),new m(_0x3a7c5e[_0x13377b(0x3d0)]());}}async[a0_0x28e68b(0x1ee)](_0x3e8db0,_0x55d3b4){const _0x5dc203=a0_0x28e68b;console[_0x5dc203(0x39e)](_0x5dc203(0x312),__dirname),console[_0x5dc203(0x39e)](_0x5dc203(0x594),_0x55d3b4);let _0x205c79=Z['default']['join'](__dirname,_0x5dc203(0x4a3));console[_0x5dc203(0x39e)](_0x5dc203(0x2a5),_0x205c79),Se[_0x5dc203(0x5f5)](_0x205c79)||(console[_0x5dc203(0x39e)](_0x5dc203(0x680)),Se['mkdirSync'](_0x205c79,{'recursive':!0x0}));let _0xa99902=Z[_0x5dc203(0x134)][_0x5dc203(0x1b8)](_0x205c79,_0x55d3b4);return console[_0x5dc203(0x39e)]('Full\x20file\x20path:',_0xa99902),new Promise((_0x3f5a4d,_0x4103ac)=>{const _0x3461b6=_0x5dc203;Se[_0x3461b6(0x2ed)](_0xa99902,_0x3e8db0,_0x2dfd30=>{const _0x56bccb=_0x3461b6;_0x2dfd30?(console[_0x56bccb(0x197)](_0x56bccb(0x1d4),_0x2dfd30),_0x4103ac(_0x2dfd30)):_0x3f5a4d(_0xa99902);});});}async[a0_0x28e68b(0x257)](_0x1d27c1){const _0x381e08=a0_0x28e68b;return _0x1d27c1?.['where']?_0x1d27c1['where'][_0x381e08(0x32c)]=this['instance']['wuid']:_0x1d27c1={'where':{'owner':this[_0x381e08(0x599)][_0x381e08(0x536)]}},await this[_0x381e08(0x641)]['contact']['find'](_0x1d27c1);}async[a0_0x28e68b(0x1c0)](_0x1e0d78){const _0x1773be=a0_0x28e68b;_0x1e0d78?.[_0x1773be(0x576)]?_0x1e0d78[_0x1773be(0x576)]['owner']=this[_0x1773be(0x599)]['wuid']:_0x1e0d78={'where':{'owner':this[_0x1773be(0x599)][_0x1773be(0x536)]},'limit':_0x1e0d78?.[_0x1773be(0x5b9)]};let _0x577d79=_0x1e0d78?.[_0x1773be(0x576)]?.[_0x1773be(0x32e)]?.['remoteJid'];return _0x577d79&&this[_0x1773be(0x3fb)](_0x577d79)[_0x1773be(0x151)](_0x96f7b0=>{const _0x2c837a=_0x1773be;this['logger'][_0x2c837a(0x197)](_0x2c837a(0x53f)+_0x96f7b0);}),await this[_0x1773be(0x641)][_0x1773be(0x283)]['find'](_0x1e0d78);}async[a0_0x28e68b(0x297)](_0xc98ca1){const _0x1ba992=a0_0x28e68b;return _0xc98ca1?.[_0x1ba992(0x576)]?_0xc98ca1['where'][_0x1ba992(0x32c)]=this[_0x1ba992(0x599)]['wuid']:_0xc98ca1={'where':{'owner':this[_0x1ba992(0x599)][_0x1ba992(0x536)]},'limit':_0xc98ca1?.['limit']},await this[_0x1ba992(0x641)][_0x1ba992(0x3fc)][_0x1ba992(0x1bc)](_0xc98ca1);}async['fetchChats'](){const _0x56acf1=a0_0x28e68b;return await this[_0x56acf1(0x641)][_0x56acf1(0x17c)][_0x56acf1(0x1bc)]({'where':{'owner':this[_0x56acf1(0x599)][_0x56acf1(0x536)]}});}async[a0_0x28e68b(0x509)](){const _0x1432ce=a0_0x28e68b;return await this[_0x1432ce(0x2e3)]['fetchPrivacySettings']();}async[a0_0x28e68b(0x5f3)](_0x10ce4c){const _0x2e672c=a0_0x28e68b;try{return await this['client']['updateReadReceiptsPrivacy'](_0x10ce4c[_0x2e672c(0x615)]['readreceipts']),await this[_0x2e672c(0x2e3)][_0x2e672c(0x247)](_0x10ce4c['privacySettings'][_0x2e672c(0x529)]),await this[_0x2e672c(0x2e3)][_0x2e672c(0x2f1)](_0x10ce4c[_0x2e672c(0x615)][_0x2e672c(0x4c5)]),await this[_0x2e672c(0x2e3)][_0x2e672c(0x67c)](_0x10ce4c['privacySettings'][_0x2e672c(0x4ce)]),await this[_0x2e672c(0x2e3)][_0x2e672c(0x482)](_0x10ce4c[_0x2e672c(0x615)]['last']),await this['client'][_0x2e672c(0x55a)](_0x10ce4c[_0x2e672c(0x615)][_0x2e672c(0x31b)]),this['client']?.['ws']?.['close'](),{'update':_0x2e672c(0x304),'data':{'readreceipts':_0x10ce4c[_0x2e672c(0x615)][_0x2e672c(0x330)],'profile':_0x10ce4c[_0x2e672c(0x615)][_0x2e672c(0x529)],'status':_0x10ce4c['privacySettings'][_0x2e672c(0x4c5)],'online':_0x10ce4c['privacySettings'][_0x2e672c(0x4ce)],'last':_0x10ce4c['privacySettings']['last'],'groupadd':_0x10ce4c[_0x2e672c(0x615)][_0x2e672c(0x31b)]}};}catch(_0x4d1267){throw new A(_0x2e672c(0x56f),_0x4d1267['toString']());}}async[a0_0x28e68b(0x204)](_0xcc2027){const _0x2b858b=a0_0x28e68b;let _0x41d51a=_0xcc2027?this[_0x2b858b(0x5ed)](_0xcc2027):this[_0x2b858b(0x2e3)]?.[_0x2b858b(0x685)]?.['id'];this['logger'][_0x2b858b(0x690)]('Getting\x20profile\x20with\x20jid:\x20'+_0x41d51a);try{if(this[_0x2b858b(0x602)][_0x2b858b(0x690)](_0x2b858b(0x493)),_0xcc2027){let _0x7a446f=(await this[_0x2b858b(0x65a)]({'numbers':[_0x41d51a]}))?.['shift'](),_0x5823b2=await this['profilePicture'](_0x7a446f?.[_0x2b858b(0x522)]),_0xc5d7e3=await this[_0x2b858b(0x127)](_0x7a446f?.[_0x2b858b(0x522)]),_0x207ce9=await this[_0x2b858b(0x193)](_0x7a446f?.[_0x2b858b(0x522)]);return{'wuid':_0x7a446f?.[_0x2b858b(0x522)]||_0x41d51a,'name':_0x7a446f?.[_0x2b858b(0x35d)],'numberExists':_0x7a446f?.[_0x2b858b(0x553)],'picture':_0x5823b2?.[_0x2b858b(0x3f7)],'status':_0xc5d7e3?.[_0x2b858b(0x4c5)],'isBusiness':_0x207ce9['isBusiness'],'email':_0x207ce9?.['email'],'description':_0x207ce9?.[_0x2b858b(0x4ae)],'website':_0x207ce9?.['website']?.[_0x2b858b(0x196)]()};}}catch{return this['logger'][_0x2b858b(0x690)]('Profile\x20not\x20found'),{'wuid':_0x41d51a,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x28e68b(0x193)](_0x5d5e42){const _0x3b4c47=a0_0x28e68b;this[_0x3b4c47(0x602)][_0x3b4c47(0x690)](_0x3b4c47(0x5ad));try{let _0x59b159=_0x5d5e42?this['createJid'](_0x5d5e42):this[_0x3b4c47(0x599)]['wuid'],_0x4c1207=await this[_0x3b4c47(0x2e3)][_0x3b4c47(0x314)](_0x59b159);return this['logger']['verbose'](_0x3b4c47(0x154)),_0x4c1207?(this[_0x3b4c47(0x602)]['verbose'](_0x3b4c47(0x542)),{'isBusiness':!0x0,..._0x4c1207}):{'isBusiness':!0x1,'message':_0x3b4c47(0x27d),...(await this[_0x3b4c47(0x65a)]({'numbers':[_0x59b159]}))?.['shift']()};}catch(_0x30bd6d){throw new A(_0x3b4c47(0x5bc),_0x30bd6d[_0x3b4c47(0x3d0)]());}}async['fetchAndUpdateProfileDetails'](_0x2e05c4,_0x5d370e=!0x0){const _0x7327fd=a0_0x28e68b;let _0x38fd07=null,_0x2eabca=null,_0x393dc3;if(_0x5d370e){let _0x38a6cb=Date[_0x7327fd(0x5db)]()-0x5265c00,_0x321f4d=await I[_0x7327fd(0x1a2)]({'id':_0x2e05c4,'owner':this['instance'][_0x7327fd(0x536)],'lastcache':{'$gt':_0x38a6cb}});if(_0x321f4d)return{'wuid':_0x2e05c4,'profilePictureUrl':_0x321f4d[_0x7327fd(0x1ea)],'contactName':_0x321f4d[_0x7327fd(0x35d)]};}try{_0x38fd07=await this['client']['profilePictureUrl'](_0x2e05c4,_0x7327fd(0x319));}catch(_0x3d028c){this['logger'][_0x7327fd(0x197)](_0x7327fd(0x586)+_0x3d028c);}if(_0x2e05c4[_0x7327fd(0x609)](_0x7327fd(0x1a1))){let _0x3bf303=await this[_0x7327fd(0x5ce)]({'groupJid':_0x2e05c4}),_0x214d9c=_0x3bf303?_0x3bf303[_0x7327fd(0x698)][_0x7327fd(0x3e4)]:null;_0x393dc3=await I['findOneAndUpdate']({'id':_0x2e05c4,'owner':this[_0x7327fd(0x599)]['wuid']},{'$set':{'imagechat':_0x38fd07,'name':_0x214d9c,'lastcache':Date[_0x7327fd(0x5db)]()}},{'new':!0x0});}else{try{let _0x257f10=await Fe['findOne']({'id':_0x2e05c4});_0x2eabca=_0x257f10?_0x257f10[_0x7327fd(0x483)]:null;}catch(_0x5182e3){this['logger'][_0x7327fd(0x197)]('Erro\x20ao\x20obter\x20o\x20nome\x20do\x20contato:\x20'+_0x5182e3);}_0x393dc3=await I[_0x7327fd(0x4bb)]({'id':_0x2e05c4,'owner':this[_0x7327fd(0x599)]['wuid']},{'$set':{'imagechat':_0x38fd07,'name':_0x2eabca,'lastcache':Date[_0x7327fd(0x5db)]()}},{'new':!0x0});}return _0x393dc3&&H(this[_0x7327fd(0x28e)],_0x7327fd(0x299),{'chat':_0x393dc3}),{'wuid':_0x2e05c4,'profilePictureUrl':_0x38fd07,'contactName':_0x2eabca};}async[a0_0x28e68b(0x127)](_0xdbf305){const _0x2e0b07=a0_0x28e68b;let _0x5ae5b7=this[_0x2e0b07(0x5ed)](_0xdbf305);try{return{'wuid':_0x5ae5b7,'status':(await this[_0x2e0b07(0x2e3)][_0x2e0b07(0x4cf)](_0x5ae5b7))?.[_0x2e0b07(0x4c5)]};}catch{return{'wuid':_0x5ae5b7,'status':null};}}async[a0_0x28e68b(0x24f)](_0x3a668d){const _0x3d2efc=a0_0x28e68b;try{return await this[_0x3d2efc(0x2e3)]['updateProfileName'](_0x3a668d),{'update':'success'};}catch(_0x268ae8){throw new A('Error\x20updating\x20profile\x20name',_0x268ae8[_0x3d2efc(0x3d0)]());}}async[a0_0x28e68b(0x46b)](_0x52de9a){const _0x1e170e=a0_0x28e68b;try{return await this[_0x1e170e(0x2e3)][_0x1e170e(0x46b)](_0x52de9a),{'update':_0x1e170e(0x304)};}catch(_0x51de63){throw new A(_0x1e170e(0x6a8),_0x51de63[_0x1e170e(0x3d0)]());}}async[a0_0x28e68b(0x653)](_0x2d5d4b){const _0x5d41cc=a0_0x28e68b;try{let _0x47b994;if((0x0,x[_0x5d41cc(0x1b1)])(_0x2d5d4b)){let _0x12bb80=new Date()[_0x5d41cc(0x45e)](),_0x2bd070=_0x2d5d4b+_0x5d41cc(0x19e)+_0x12bb80;_0x47b994=(await le[_0x5d41cc(0x134)][_0x5d41cc(0x2cc)](_0x2bd070,{'responseType':_0x5d41cc(0x54e)}))[_0x5d41cc(0x503)];}else{if((0x0,x['isBase64'])(_0x2d5d4b))_0x47b994=Buffer['from'](_0x2d5d4b,_0x5d41cc(0x326));else throw new m(_0x5d41cc(0x3ad));}return await this[_0x5d41cc(0x2e3)]['updateProfilePicture'](this[_0x5d41cc(0x599)][_0x5d41cc(0x536)],_0x47b994),{'update':'success'};}catch(_0x479404){throw new A(_0x5d41cc(0x2c7),_0x479404[_0x5d41cc(0x3d0)]());}}async[a0_0x28e68b(0x40a)](){const _0x59ccb1=a0_0x28e68b;try{return await this[_0x59ccb1(0x2e3)][_0x59ccb1(0x40a)](this['instance'][_0x59ccb1(0x536)]),{'update':_0x59ccb1(0x304)};}catch(_0xd8e8be){throw new A(_0x59ccb1(0x575),_0xd8e8be['toString']());}}async[a0_0x28e68b(0x19c)](_0x51683f){const _0x5d7313=a0_0x28e68b;try{let _0x3ce869=_0x51683f['participants'][_0x5d7313(0x5df)](_0x4af2cb=>this['createJid'](_0x4af2cb)),{id:_0x5e591b}=await this[_0x5d7313(0x2e3)][_0x5d7313(0x238)](_0x51683f[_0x5d7313(0x3e4)],_0x3ce869);return _0x51683f?.[_0x5d7313(0x4ae)]&&await this['client'][_0x5d7313(0x269)](_0x5e591b,_0x51683f['description']),{'metadata':await this[_0x5d7313(0x2e3)][_0x5d7313(0x42c)](_0x5e591b)};}catch(_0x43b4a0){throw this[_0x5d7313(0x602)][_0x5d7313(0x197)](this[_0x5d7313(0x28e)]+'\x20('+this[_0x5d7313(0x599)][_0x5d7313(0x536)]+'):\x20'+_0x43b4a0),new A(_0x5d7313(0x66b),_0x43b4a0[_0x5d7313(0x3d0)]());}}async['updateGroupPicture'](_0x1c51b7){const _0x8f854d=a0_0x28e68b;try{let _0x3a21b7;if((0x0,x[_0x8f854d(0x1b1)])(_0x1c51b7[_0x8f854d(0x319)])){let _0x36a60f=new Date()[_0x8f854d(0x45e)](),_0x49c418=_0x1c51b7[_0x8f854d(0x319)]+_0x8f854d(0x19e)+_0x36a60f;_0x3a21b7=(await le[_0x8f854d(0x134)]['get'](_0x49c418,{'responseType':_0x8f854d(0x54e)}))['data'];}else{if((0x0,x['isBase64'])(_0x1c51b7[_0x8f854d(0x319)]))_0x3a21b7=Buffer[_0x8f854d(0x336)](_0x1c51b7['image'],_0x8f854d(0x326));else throw new m(_0x8f854d(0x3ad));}return await this[_0x8f854d(0x2e3)][_0x8f854d(0x653)](_0x1c51b7[_0x8f854d(0x554)],_0x3a21b7),{'update':_0x8f854d(0x304)};}catch(_0x5243e3){throw new A(_0x8f854d(0x2c4),_0x5243e3[_0x8f854d(0x3d0)]());}}async[a0_0x28e68b(0x5ce)](_0x219cef,_0x3edf4c=a0_0x28e68b(0x29a)){const _0x352eb3=a0_0x28e68b;try{let _0x231ec0=await this[_0x352eb3(0x2e3)]['groupMetadata'](_0x219cef[_0x352eb3(0x554)]),_0x5b1519=null;try{_0x5b1519=await this['client'][_0x352eb3(0x3f7)](_0x219cef['groupJid'],'image');}catch(_0x24d487){this[_0x352eb3(0x602)][_0x352eb3(0x690)](this[_0x352eb3(0x28e)]+'\x20('+this[_0x352eb3(0x599)][_0x352eb3(0x536)]+_0x352eb3(0x30e)+_0x219cef['groupJid']+':\x20'+_0x24d487[_0x352eb3(0x3d0)]());}return{'metadata':_0x231ec0,'image':_0x5b1519};}catch(_0x21207f){if(_0x3edf4c==='inner')return;throw new L(_0x352eb3(0x1b6),_0x21207f[_0x352eb3(0x3d0)]());}}async[a0_0x28e68b(0x1e7)](_0x287027){const _0x237d2a=a0_0x28e68b;try{return await this['client'][_0x237d2a(0x269)](_0x287027[_0x237d2a(0x554)],_0x287027[_0x237d2a(0x4ae)]),{'update':_0x237d2a(0x304)};}catch(_0x3029bf){throw new A(_0x237d2a(0x116),_0x3029bf[_0x237d2a(0x3d0)]());}}async[a0_0x28e68b(0x5a3)](_0x10955f){const _0x5ce63b=a0_0x28e68b;try{return await this[_0x5ce63b(0x2e3)][_0x5ce63b(0x2a0)](_0x10955f['groupJid'],_0x10955f[_0x5ce63b(0x35d)]),{'update':_0x5ce63b(0x304)};}catch(_0x5b8666){throw new A(_0x5ce63b(0x218),_0x5b8666['toString']());}}async[a0_0x28e68b(0x353)](_0x443d04){const _0xbc05e5=a0_0x28e68b;try{return await this[_0xbc05e5(0x2e3)][_0xbc05e5(0x203)](_0x443d04['groupJid'],_0x443d04[_0xbc05e5(0x623)]),{'update':'success'};}catch(_0x32c955){throw new A(_0xbc05e5(0x5e5),_0x32c955[_0xbc05e5(0x3d0)]());}}async['findGroups'](){const _0x4904b0=a0_0x28e68b;try{let _0x149155=[],_0x3b9d6f=await this[_0x4904b0(0x2e3)][_0x4904b0(0x56a)](),_0x452a5c=Object[_0x4904b0(0x212)](_0x3b9d6f),_0x426c0e=_0x452a5c[_0x4904b0(0x6af)](_0xd1730d=>(0x0,w[_0x4904b0(0x564)])(_0xd1730d?.['id']))[_0x4904b0(0x5df)](async _0xf8f1af=>{const _0x3628fd=_0x4904b0;try{return await this['client'][_0x3628fd(0x3f7)](_0xf8f1af['id'],_0x3628fd(0x319));}catch(_0x426a8c){return this[_0x3628fd(0x602)][_0x3628fd(0x690)](this['instanceName']+'\x20('+this[_0x3628fd(0x599)][_0x3628fd(0x536)]+_0x3628fd(0x30e)+_0xf8f1af['id']+':\x20'+_0x426a8c[_0x3628fd(0x3d0)]()),null;}}),_0x3eb4a5=await Promise[_0x4904b0(0x3d6)](_0x426c0e);for(let _0x3a2e53=0x0;_0x3a2e53<_0x452a5c[_0x4904b0(0x670)];_0x3a2e53++){let _0x3572d5=_0x452a5c[_0x3a2e53];(0x0,w['isJidGroup'])(_0x3572d5?.['id'])&&_0x149155['push']({'groupJid':_0x3572d5?.['id'],'subject':_0x3572d5?.[_0x4904b0(0x3e4)],'subjectOwner':_0x3572d5?.['subjectOwner']?.[_0x4904b0(0x22b)]('@')[0x0],'subjectTime':_0x3572d5?.[_0x4904b0(0x3ba)],'size':_0x3572d5?.[_0x4904b0(0x363)]?.[_0x4904b0(0x670)],'owner':_0x3572d5?.[_0x4904b0(0x32c)]?.[_0x4904b0(0x22b)]('@')[0x0],'creation':_0x3572d5?.[_0x4904b0(0x248)],'desc':_0x3572d5?.[_0x4904b0(0x5d3)],'restrict':_0x3572d5?.['restrict'],'announce':_0x3572d5?.[_0x4904b0(0x2f3)],'image':_0x3eb4a5[_0x3a2e53]});}return _0x149155;}catch(_0x4ccee1){throw new L(_0x4904b0(0x1b6),_0x4ccee1['toString']());}}async['inviteCode'](_0x54c60d){const _0x24e10b=a0_0x28e68b;try{let _0x552f35=await this['client'][_0x24e10b(0x51d)](_0x54c60d['groupJid']);return{'inviteUrl':_0x24e10b(0x4cc)+_0x552f35,'inviteCode':_0x552f35};}catch(_0x1214e3){throw new L(_0x24e10b(0x494),_0x1214e3['toString']());}}async['revokeInviteCode'](_0x18f883){const _0x1a8287=a0_0x28e68b;try{let _0x1bdd52=await this[_0x1a8287(0x2e3)][_0x1a8287(0x53c)](_0x18f883[_0x1a8287(0x554)]);return{'revoked':!0x0,'inviteUrl':_0x1a8287(0x4cc)+_0x1bdd52,'inviteCode':_0x1bdd52};}catch(_0x163be7){throw new L(_0x1a8287(0x502),_0x163be7[_0x1a8287(0x3d0)]());}}async[a0_0x28e68b(0x57d)](_0x793d49){const _0x9831ad=a0_0x28e68b;try{if((0x0,x[_0x9831ad(0x1b1)])(_0x793d49[_0x9831ad(0x3f6)]))var _0x4e7af4=_0x793d49[_0x9831ad(0x3f6)][_0x9831ad(0x22b)]('/')[0x3];else var _0x4e7af4=_0x793d49[_0x9831ad(0x3f6)];let _0x392ae9=await this['client'][_0x9831ad(0x24b)](_0x4e7af4);return this[_0x9831ad(0x602)]['verbose'](this['instanceName']+'\x20('+this[_0x9831ad(0x599)]['wuid']+_0x9831ad(0x27e)+_0x392ae9),{'join':!0x0,'inviteCode':_0x4e7af4,'groupJid':_0x392ae9};}catch(_0x1450cc){throw new L(_0x9831ad(0x324),_0x1450cc['toString']());}}async['findParticipants'](_0x10ea6c){const _0x2cced6=a0_0x28e68b;try{return{'participants':(await this[_0x2cced6(0x2e3)][_0x2cced6(0x42c)](_0x10ea6c['groupJid']))['participants']};}catch(_0x14cb08){throw new L('No\x20participants',_0x14cb08[_0x2cced6(0x3d0)]());}}async[a0_0x28e68b(0x62d)](_0x2e7f37){const _0x1ec9a5=a0_0x28e68b;try{let _0x2afa2e=_0x2e7f37[_0x1ec9a5(0x363)]['map'](_0x436090=>this[_0x1ec9a5(0x5ed)](_0x436090));return{'updateParticipants':await this[_0x1ec9a5(0x2e3)]['groupParticipantsUpdate'](_0x2e7f37[_0x1ec9a5(0x554)],_0x2afa2e,_0x2e7f37[_0x1ec9a5(0x405)])};}catch(_0x4d955b){throw new m(_0x1ec9a5(0x453),_0x4d955b[_0x1ec9a5(0x3d0)]());}}async[a0_0x28e68b(0x23e)](_0x3eb0c7){const _0x4cd27b=a0_0x28e68b;try{let _0x112408=await this[_0x4cd27b(0x2e3)][_0x4cd27b(0x2a4)](_0x3eb0c7[_0x4cd27b(0x554)],_0x3eb0c7[_0x4cd27b(0x226)]);return{'success':!0x0};}catch(_0x1d2877){throw new m(_0x4cd27b(0x3cd),_0x1d2877[_0x4cd27b(0x3d0)]());}}async[a0_0x28e68b(0x64b)](_0x7d5e31){const _0x4e3bca=a0_0x28e68b;try{return await this[_0x4e3bca(0x2e3)]['groupLeave'](_0x7d5e31['groupJid']),{'groupJid':_0x7d5e31[_0x4e3bca(0x554)],'leave':!0x0};}catch(_0x215f05){throw new m(_0x4e3bca(0x370),_0x215f05[_0x4e3bca(0x3d0)]());}}async['pollMessage'](_0x56f303){const _0x46f260=a0_0x28e68b;return await this[_0x46f260(0x2a8)](_0x56f303[_0x46f260(0x426)],{'poll':{'name':_0x56f303['pollMessage']?.[_0x46f260(0x35d)],'selectableCount':_0x56f303[_0x46f260(0x4bc)][_0x46f260(0x2bb)],'values':_0x56f303[_0x46f260(0x4bc)][_0x46f260(0x212)]}},_0x56f303?.[_0x46f260(0x4d8)]);}async[a0_0x28e68b(0x2fd)](_0x16f875,_0x437298,_0x50e5a5){const _0x118b13=a0_0x28e68b;if(await this[_0x118b13(0x44b)](_0x16f875,!0x0)){let _0x1e6c43={'where':{'key':{'id':_0x16f875['id'],'remoteJid':_0x437298,'fromMe':_0x16f875[_0x118b13(0x14f)]},'owner':this[_0x118b13(0x599)][_0x118b13(0x536)]}},_0x11dc9f={'status':[_0x50e5a5[_0x118b13(0x4c5)]][0x0]};try{let _0x403ecd=await this[_0x118b13(0x641)]['message'][_0x118b13(0x67a)](_0x1e6c43,_0x11dc9f);_0x403ecd&&H(this[_0x118b13(0x28e)],'messages',{'message':_0x403ecd});}catch{}}}async[a0_0x28e68b(0x4ed)](_0x57d67c,_0x189d63,_0x1c0e7a){const _0x3459df=a0_0x28e68b;let _0x33233e=_0x189d63['key']['remoteJid'],_0x4d98d8=_0x189d63[_0x3459df(0x32e)][_0x3459df(0x14f)],_0xe22194=_0x33233e[_0x3459df(0x609)](_0x3459df(0x1a1));if(!_0x57d67c[_0x3459df(0x516)])return;let _0x33bb2d={'$set':{..._0x4d98d8?{'unreadcount':0x0,'lastmsg':_0x189d63['messageTimestamp']||Date['now']()}:{'lastmsg':_0x189d63['messageTimestamp']||Date[_0x3459df(0x5db)]()},..._0x4d98d8||_0xe22194?{}:{'name':_0x189d63[_0x3459df(0x483)]}},'$setOnInsert':{'group':_0xe22194,'leadInfo.tags':[],'leadInfo.customFields':[],...!_0x4d98d8&&!_0xe22194?{'leadInfo.nome':_0x189d63[_0x3459df(0x483)]}:{}},..._0x4d98d8?{}:{'$inc':{'unreadcount':0x1}}};console[_0x3459df(0x39e)](_0x3459df(0x14b)),console[_0x3459df(0x39e)](_0x33bb2d[_0x3459df(0x567)]['lastmsg']);let _0x25a6ad={'new':!0x0,'upsert':!0x0,'setDefaultsOnInsert':!0x0},_0x495db7=await I['findOneAndUpdate']({'id':_0x33233e,'owner':this[_0x3459df(0x599)][_0x3459df(0x536)]},_0x33bb2d,_0x25a6ad);if(_0x495db7?(!_0xe22194&&(!_0x495db7[_0x3459df(0x22c)]||!_0x495db7[_0x3459df(0x22c)]['nome'])&&_0x189d63[_0x3459df(0x483)]&&!_0x4d98d8&&(_0x33bb2d={'$set':{'leadInfo.nome':_0x189d63[_0x3459df(0x483)]}},_0x495db7=await I['findOneAndUpdate']({'id':_0x33233e,'owner':this[_0x3459df(0x599)][_0x3459df(0x536)]},_0x33bb2d,_0x25a6ad)),H(this[_0x3459df(0x28e)],_0x3459df(0x299),{'chat':_0x495db7})):this[_0x3459df(0x602)]['error'](this[_0x3459df(0x28e)]+'\x20('+this[_0x3459df(0x599)][_0x3459df(0x536)]+_0x3459df(0x55c)),!this[_0x3459df(0x3ce)][_0x3459df(0x138)][_0x3459df(0x316)])return this[_0x3459df(0x602)]['verbose'](this[_0x3459df(0x28e)]+'\x20('+this[_0x3459df(0x599)]['wuid']+_0x3459df(0x305)),null;if(_0x495db7['id'][_0x3459df(0x447)](_0x3459df(0x1a1))&&this[_0x3459df(0x3ce)][_0x3459df(0x138)][_0x3459df(0x562)]===!0x0)return this[_0x3459df(0x602)][_0x3459df(0x690)](this[_0x3459df(0x28e)]+'\x20('+this[_0x3459df(0x599)][_0x3459df(0x536)]+_0x3459df(0x1d7)),null;if(_0x495db7[_0x3459df(0x22c)]){if(_0x495db7[_0x3459df(0x22c)][_0x3459df(0x1a0)]===0x0||_0x495db7[_0x3459df(0x22c)][_0x3459df(0x21f)])return this['logger'][_0x3459df(0x690)](this[_0x3459df(0x28e)]+'\x20('+this[_0x3459df(0x599)][_0x3459df(0x536)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x33233e+_0x3459df(0x438)),null;if(_0x495db7[_0x3459df(0x22c)]['desativadoFluxoAte']>Date[_0x3459df(0x5db)]())return this[_0x3459df(0x602)][_0x3459df(0x690)](this['instanceName']+'\x20('+this[_0x3459df(0x599)]['wuid']+_0x3459df(0x69a)+new Date(_0x495db7[_0x3459df(0x22c)][_0x3459df(0x1a0)])[_0x3459df(0x1f4)]()+_0x3459df(0x438)),null;}this['logger'][_0x3459df(0x690)](this[_0x3459df(0x28e)]+'\x20('+this[_0x3459df(0x599)][_0x3459df(0x536)]+_0x3459df(0x172)),this[_0x3459df(0x44c)](_0x1c0e7a,_0x189d63,this[_0x3459df(0x599)][_0x3459df(0x536)]);}async[a0_0x28e68b(0x4a6)](){const _0x2402b1=a0_0x28e68b;let _0xca0143=await this['repository'][_0x2402b1(0x559)][_0x2402b1(0x1bc)]({'where':{'owner':this['instance'][_0x2402b1(0x536)]}}),_0x5c6dca=0x0,_0x383aba=[];for(let _0x45cc6d of _0xca0143)_0x383aba[_0x2402b1(0x2ff)]({'updateOne':{'filter':{'id':_0x45cc6d['id'],'owner':this[_0x2402b1(0x599)][_0x2402b1(0x536)]},'update':{'$set':{'contactname':_0x45cc6d[_0x2402b1(0x483)]}}}}),_0x383aba['length']===0x1f4&&(_0x5c6dca+=await this[_0x2402b1(0x294)](_0x383aba),_0x383aba=[]);_0x383aba[_0x2402b1(0x670)]>0x0&&(_0x5c6dca+=await this[_0x2402b1(0x294)](_0x383aba)),this[_0x2402b1(0x602)][_0x2402b1(0x690)](this[_0x2402b1(0x28e)]+'\x20('+this['instance'][_0x2402b1(0x536)]+_0x2402b1(0x27e)+_0x5c6dca+_0x2402b1(0x5dc)+this[_0x2402b1(0x599)][_0x2402b1(0x536)]+_0x2402b1(0x580));}async[a0_0x28e68b(0x294)](_0x4dd385){const _0x269d0f=a0_0x28e68b;return(await I[_0x269d0f(0x5c4)](_0x4dd385))[_0x269d0f(0x654)];}async[a0_0x28e68b(0x3c7)](_0x3c00b7,_0x562432){const _0x40c5c2=a0_0x28e68b;if(_0x562432[_0x40c5c2(0x516)]){let _0x1c7529=_0x3c00b7['map'](async _0x366302=>{const _0x146ac7=_0x40c5c2;let _0x47ae89={'$set':{'id':_0x366302['id'],'owner':_0x366302[_0x146ac7(0x32c)],'lastcache':0x0}};if(_0x366302[_0x146ac7(0x392)]!==null&&(_0x47ae89[_0x146ac7(0x567)][_0x146ac7(0x392)]=_0x366302['group']),_0x366302[_0x146ac7(0x35d)]!==null&&(_0x47ae89['$set'][_0x146ac7(0x35d)]=_0x366302[_0x146ac7(0x35d)]),_0x366302[_0x146ac7(0x2c5)]!==null&&(_0x47ae89[_0x146ac7(0x567)][_0x146ac7(0x2c5)]=_0x366302[_0x146ac7(0x2c5)]),_0x366302[_0x146ac7(0x1ea)]!==null&&(_0x47ae89[_0x146ac7(0x567)][_0x146ac7(0x1ea)]=_0x366302['imagechat']),_0x366302['imagechat']===null&&(_0x47ae89[_0x146ac7(0x567)]['imagechat']='Imagem\x20não\x20encontrada'),_0x366302['lastmsg']!==null&&(_0x47ae89[_0x146ac7(0x567)][_0x146ac7(0x53e)]=_0x366302['lastmsg']),_0x366302[_0x146ac7(0x5da)]!==null&&(_0x47ae89['$set'][_0x146ac7(0x5da)]=_0x366302[_0x146ac7(0x5da)]),_0x366302['unreadcount']!==null&&(_0x47ae89[_0x146ac7(0x567)][_0x146ac7(0x188)]=_0x366302[_0x146ac7(0x188)]),Object['keys'](_0x47ae89['$set'])[_0x146ac7(0x670)]>0x0)return I['findOneAndUpdate']({'id':_0x366302['id'],'owner':_0x366302[_0x146ac7(0x32c)]},_0x47ae89,{'new':!0x0,'upsert':!0x0});}),_0x1a14b1=(await Promise[_0x40c5c2(0x3d6)](_0x1c7529))['filter'](_0x4e7e1a=>_0x4e7e1a!==null)[_0x40c5c2(0x670)];this[_0x40c5c2(0x602)]['verbose'](this['instanceName']+'\x20('+this[_0x40c5c2(0x599)][_0x40c5c2(0x536)]+_0x40c5c2(0x27e)+_0x1a14b1+_0x40c5c2(0x5dc)+this[_0x40c5c2(0x599)][_0x40c5c2(0x536)]+_0x40c5c2(0x298));}}async[a0_0x28e68b(0x510)](_0x5a601a){const _0x2bf63b=a0_0x28e68b;this[_0x2bf63b(0x602)][_0x2bf63b(0x690)](this['instanceName']+'\x20('+this[_0x2bf63b(0x599)][_0x2bf63b(0x536)]+_0x2bf63b(0x340));let _0x2fb47c={'readMessages':[{'remoteJid':_0x5a601a[_0x2bf63b(0x30a)][_0x2bf63b(0x3db)][_0x2bf63b(0x32e)]['remoteJid'],'fromMe':_0x5a601a[_0x2bf63b(0x30a)][_0x2bf63b(0x3db)]['key'][_0x2bf63b(0x14f)],'id':_0x5a601a['chatLog'][_0x2bf63b(0x3db)][_0x2bf63b(0x32e)]['id']}]};await this['markMessageAsRead'](_0x2fb47c);}async[a0_0x28e68b(0x44c)](_0x3466d0,_0x17aef6,_0x4427ab){const _0x5871d7=a0_0x28e68b;try{let {key:_0x308d47,message_normalized:_0x3e801b}=_0x17aef6,_0x93abcc=_0x3e801b,_0x1c78f5=_0x3e801b['text']||_0x3e801b['caption']||_0x3e801b[_0x5871d7(0x573)]||_0x3e801b[_0x5871d7(0x35d)],_0x1f9b53=_0x308d47[_0x5871d7(0x48b)],_0x51c78e;if(_0x93abcc[_0x5871d7(0x32e)][_0x5871d7(0x14f)]&&_0x1c78f5[_0x5871d7(0x1be)]()!==this[_0x5871d7(0x3ce)][_0x5871d7(0x138)]['stopConversation'][_0x5871d7(0x1be)]())return this[_0x5871d7(0x602)][_0x5871d7(0x690)](this[_0x5871d7(0x28e)]+'\x20('+this['instance']['wuid']+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.'),null;if(_0x93abcc[_0x5871d7(0x32e)][_0x5871d7(0x14f)]&&_0x1c78f5['trim']()===this[_0x5871d7(0x3ce)][_0x5871d7(0x138)][_0x5871d7(0x261)][_0x5871d7(0x1be)]()){this[_0x5871d7(0x602)]['verbose'](this[_0x5871d7(0x28e)]+'\x20('+this['instance'][_0x5871d7(0x536)]+_0x5871d7(0x468));let _0x51ef2a=await G[_0x5871d7(0x1bc)]({'owner':_0x4427ab,'remoteJid':_0x1f9b53,'status':_0x5871d7(0x679)});this['logger']['verbose'](this[_0x5871d7(0x28e)]+'\x20('+this[_0x5871d7(0x599)][_0x5871d7(0x536)]+_0x5871d7(0x180)+_0x51ef2a);let _0x16b21f=Date['now'](),_0xa15c80;return this[_0x5871d7(0x3ce)][_0x5871d7(0x138)][_0x5871d7(0x155)]===0x0?_0xa15c80={'stoppedUntil':_0x16b21f+0x7591f6200}:_0xa15c80={'stoppedUntil':_0x16b21f+this['AutomateSystem'][_0x5871d7(0x138)]['stopMinutes']*0x3c*0x3e8},this[_0x5871d7(0x602)][_0x5871d7(0x690)](this[_0x5871d7(0x28e)]+'\x20('+this[_0x5871d7(0x599)][_0x5871d7(0x536)]+'):\x20Campos\x20a\x20serem\x20atualizados:'+_0xa15c80),this[_0x5871d7(0x14d)](_0x51c78e,_0xa15c80[_0x5871d7(0x13d)]),null;}if(_0x1c78f5[_0x5871d7(0x194)](this[_0x5871d7(0x3ce)][_0x5871d7(0x138)]['prefixCommand'])&&_0x1c78f5['length']>0x4){let _0xbb2d93=await D['findOne']({'owner':_0x4427ab,'startCommandWord':_0x1c78f5});if(this['logger'][_0x5871d7(0x690)](this['instanceName']+'\x20('+this['instance'][_0x5871d7(0x536)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0xbb2d93)_0x51c78e=await this['createNewConversation'](_0xbb2d93,_0x93abcc[_0x5871d7(0x32e)],_0x93abcc);else return this[_0x5871d7(0x602)][_0x5871d7(0x690)](this[_0x5871d7(0x28e)]+'\x20('+this[_0x5871d7(0x599)]['wuid']+_0x5871d7(0x590)),null;}else _0x51c78e=await this[_0x5871d7(0x2c8)](_0x4427ab,_0x1f9b53,_0x93abcc);if(_0x51c78e){this[_0x5871d7(0x602)][_0x5871d7(0x690)](this[_0x5871d7(0x28e)]+'\x20('+this[_0x5871d7(0x599)][_0x5871d7(0x536)]+_0x5871d7(0x520)),!_0x308d47[_0x5871d7(0x14f)]&&_0x51c78e[_0x5871d7(0x551)]&&this[_0x5871d7(0x510)](_0x51c78e);let _0x2e5678=await this['NextBlock'](_0x51c78e);_0x2e5678&&await this[_0x5871d7(0x3f1)](_0x51c78e,_0x2e5678,_0x51c78e['remoteJid']);}}catch(_0xfc4e16){this['logger'][_0x5871d7(0x197)](this[_0x5871d7(0x28e)]+'\x20('+this['instance']['wuid']+_0x5871d7(0x122)+_0xfc4e16);}}['flattenObject'](_0x23d651,_0x56558b='',_0x4da09f={},_0x2b5d3f=!0x0){const _0x4be915=a0_0x28e68b;for(let _0x9ed157 in _0x23d651){let _0x24d711=_0x2b5d3f?'_'+_0x9ed157:''+_0x56558b+_0x9ed157;typeof _0x23d651[_0x9ed157]==_0x4be915(0x2b3)&&_0x23d651[_0x9ed157]!==null?this[_0x4be915(0x50d)](_0x23d651[_0x9ed157],_0x24d711+'.',_0x4da09f,!0x1):_0x4da09f[_0x24d711]=_0x23d651[_0x9ed157];}return _0x4da09f;}[a0_0x28e68b(0x5b3)](_0x2adf63){const _0x531b7a=a0_0x28e68b;let _0x5f3d8c={};for(let _0x3089b3 of _0x2adf63)typeof _0x3089b3[_0x531b7a(0x35d)]==_0x531b7a(0x47b)&&typeof _0x3089b3[_0x531b7a(0x37f)]==_0x531b7a(0x47b)&&(_0x5f3d8c[_0x3089b3['name']]=_0x3089b3[_0x531b7a(0x37f)]);return _0x5f3d8c;}async[a0_0x28e68b(0x5e6)](_0x80cdae){const _0x4228cc=a0_0x28e68b;if(!this[_0x4228cc(0x3ce)]['flowConfig'][_0x4228cc(0x316)]||_0x80cdae[_0x4228cc(0x4c5)]!==_0x4228cc(0x679)&&_0x80cdae[_0x4228cc(0x561)]==='')return null;let _0xe62601=_0x80cdae[_0x4228cc(0x30a)][_0x4228cc(0x648)]||_0x4228cc(0x117);typeof _0x80cdae[_0x4228cc(0x30a)][_0x4228cc(0x10b)]>'u'&&(_0x80cdae[_0x4228cc(0x30a)][_0x4228cc(0x10b)]=!0x0);let _0x4006f3=_0x80cdae[_0x4228cc(0x30a)][_0x4228cc(0x10b)];this[_0x4228cc(0x602)]['verbose'](this['instanceName']+'\x20('+this[_0x4228cc(0x599)][_0x4228cc(0x536)]+_0x4228cc(0x3b3)+_0xe62601+_0x4228cc(0x1a5)+_0x4006f3);let _0x505cdc=_0xe62601===_0x4228cc(0x117)?_0x80cdae[_0x4228cc(0x205)][_0x4228cc(0x1bc)](_0x471035=>_0x471035[_0x4228cc(0x1bd)]===_0x4228cc(0x117)):_0x80cdae[_0x4228cc(0x205)][_0x4228cc(0x1bc)](_0x363c48=>_0x363c48[_0x4228cc(0x2ca)][_0x4228cc(0x3d0)]()===_0xe62601[_0x4228cc(0x3d0)]());if(!_0x505cdc)return this[_0x4228cc(0x602)][_0x4228cc(0x197)](this['instanceName']+'\x20('+this[_0x4228cc(0x599)][_0x4228cc(0x536)]+_0x4228cc(0x268)+_0xe62601),null;let _0x3a2730={'_pushName':_0x80cdae[_0x4228cc(0x30a)][_0x4228cc(0x3db)]['pushName'],..._0x80cdae[_0x4228cc(0x30a)][_0x4228cc(0x3e7)]},_0x910092=null;if(_0x80cdae[_0x4228cc(0x561)]){let _0x5a0439=_0x80cdae[_0x4228cc(0x30a)][_0x4228cc(0x3db)][_0x4228cc(0x573)],_0x598b43=_0x80cdae[_0x4228cc(0x1af)]['find'](_0xeb87a2=>_0xeb87a2[_0x4228cc(0x333)]===_0x5a0439);if(_0x598b43){let _0x2057f6=_0x598b43[_0x4228cc(0x341)];if(_0x910092=_0x80cdae[_0x4228cc(0x205)][_0x4228cc(0x1bc)](_0x1f2004=>_0x1f2004[_0x4228cc(0x3e9)]===_0x2057f6&&_0x1f2004[_0x4228cc(0x448)]===0x1),_0x505cdc[_0x4228cc(0x108)][_0x4228cc(0x3f0)]){let _0x1755d0={'id':_0x80cdae[_0x4228cc(0x561)],'remoteJid':_0x80cdae[_0x4228cc(0x48b)],'fromMe':!0x0};await this[_0x4228cc(0x38a)](_0x1755d0);}if(_0x505cdc[_0x4228cc(0x108)][_0x4228cc(0x3f0)]&&_0x505cdc[_0x4228cc(0x108)]['pollMessageOnDelete']){let _0xab43d7={'number':_0x80cdae['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x4228cc(0x58e)+_0x80cdae[_0x4228cc(0x548)]+_0x4228cc(0x513)+_0x5a0439}};await this['textMessage'](_0xab43d7);}_0x80cdae[_0x4228cc(0x4c5)]=_0x4228cc(0x679),_0x80cdae[_0x4228cc(0x561)]='',_0x80cdae['waitingPoll_name']='',_0x80cdae[_0x4228cc(0x1af)]=[];}else{this['logger']['verbose'](this[_0x4228cc(0x28e)]+'\x20('+this[_0x4228cc(0x599)][_0x4228cc(0x536)]+_0x4228cc(0x143));let _0x3f9a6a={'activatedCount':_0x80cdae[_0x4228cc(0x30a)][_0x4228cc(0x52a)][_0x4228cc(0x6af)](_0x3365d8=>String(_0x3365d8['blockId'])===String(_0xe62601))['length'],'moreLogs':[_0x4228cc(0x5b7)]};if(_0x505cdc[_0x4228cc(0x108)][_0x4228cc(0x433)]){let _0x4b3cc4={'number':_0x80cdae[_0x4228cc(0x48b)],'options':{'delay':0x0},'textMessage':{'text':_0x505cdc[_0x4228cc(0x108)][_0x4228cc(0x433)]}};await this['textMessage'](_0x4b3cc4);}if(_0x505cdc[_0x4228cc(0x4b8)]!==void 0x0&&_0x3f9a6a['activatedCount']>=_0x505cdc['maxActives']){let _0x898c83=Date[_0x4228cc(0x5db)](),_0x558c02=_0x505cdc[_0x4228cc(0x25a)]??0xa;isNaN(_0x558c02)&&(_0x558c02=0xa);let _0x56ef01=_0x898c83+_0x558c02*0x3c*0x3e8;_0x3f9a6a[_0x4228cc(0x262)]=_0x56ef01,_0x3f9a6a['moreLogs'][_0x4228cc(0x2ff)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x4228cc(0x14d)](_0x80cdae,_0x56ef01),_0x80cdae[_0x4228cc(0x561)]='',_0x80cdae[_0x4228cc(0x548)]='',_0x80cdae['waitingPoll_replyOptions']=[];}return this['updateConversation'](_0x80cdae,_0x505cdc,_0x3f9a6a,!0x0),null;}}if(_0x4006f3&&_0x505cdc['next_groupId']&&!_0x80cdae['waitingPoll_id']){let _0x5c55e8=_0x80cdae[_0x4228cc(0x205)][_0x4228cc(0x6af)](_0x2a3447=>_0x2a3447[_0x4228cc(0x3e9)][_0x4228cc(0x3d0)]()===_0x505cdc[_0x4228cc(0x341)][_0x4228cc(0x3d0)]())[_0x4228cc(0x659)]((_0x1671cd,_0x249556)=>_0x1671cd[_0x4228cc(0x448)]-_0x249556['order']);_0x5c55e8[_0x4228cc(0x670)]>0x0&&(_0x910092=_0x5c55e8[0x0]);}if(!_0x910092){let _0x53207e=_0x505cdc[_0x4228cc(0x3e9)],_0x3ba19b=_0x80cdae[_0x4228cc(0x205)]['filter'](_0x326dbd=>_0x326dbd[_0x4228cc(0x3e9)]===_0x53207e&&_0x326dbd['order']>_0x505cdc[_0x4228cc(0x448)])[_0x4228cc(0x659)]((_0x5c11e7,_0x30fe4c)=>_0x5c11e7[_0x4228cc(0x448)]-_0x30fe4c[_0x4228cc(0x448)]);_0x3ba19b[_0x4228cc(0x670)]>0x0&&(_0x910092=_0x3ba19b[0x0]);}if(!_0x910092)return _0x80cdae[_0x4228cc(0x4c5)]=_0x4228cc(0x1ae),null;_0x80cdae[_0x4228cc(0x30a)]['realVariables']=_0x3a2730;let _0xd56000=JSON[_0x4228cc(0x3a4)](JSON[_0x4228cc(0x409)](_0x910092));return this['replaceVariablesInObject'](_0xd56000,_0x80cdae[_0x4228cc(0x30a)][_0x4228cc(0x3e7)]),_0x80cdae[_0x4228cc(0x30a)][_0x4228cc(0x648)]=_0xd56000[_0x4228cc(0x2ca)],_0x80cdae[_0x4228cc(0x30a)][_0x4228cc(0x10b)]=!0x0,_0xd56000;}[a0_0x28e68b(0x600)](_0x21aa95,_0x8b7de1){const _0xcc4d5d=a0_0x28e68b;return _0x21aa95[_0xcc4d5d(0x5eb)](/\{\{([^}]+)\}\}/g,(_0x347586,_0x496957)=>_0x8b7de1[_0x496957]||'');}[a0_0x28e68b(0x521)](_0x2b0970,_0x325c19){const _0x49815b=a0_0x28e68b;for(let _0x9ec5d8 in _0x2b0970)typeof _0x2b0970[_0x9ec5d8]=='string'?_0x2b0970[_0x9ec5d8]=this[_0x49815b(0x600)](_0x2b0970[_0x9ec5d8],_0x325c19):typeof _0x2b0970[_0x9ec5d8]=='object'&&this[_0x49815b(0x521)](_0x2b0970[_0x9ec5d8],_0x325c19);}async[a0_0x28e68b(0x146)](_0x3bb65e,_0x3fe08b){const _0x46f221=a0_0x28e68b;let _0x4d7775=_0x3fe08b['_id'];if(_0x3bb65e[_0x46f221(0x30a)]&&_0x3bb65e[_0x46f221(0x30a)][_0x46f221(0x52a)]){let _0x56c9a5=_0x3bb65e[_0x46f221(0x30a)]['blockLogs'][_0x46f221(0x6af)](_0x4d099f=>String(_0x4d099f[_0x46f221(0x31f)])===String(_0x4d7775))[_0x46f221(0xfb)]();if(_0x56c9a5&&_0x56c9a5[_0x46f221(0x197)]&&_0x3fe08b['stopIfLastReturnedError'])return _0x3bb65e[_0x46f221(0x4c5)]=_0x46f221(0x1ae),await this[_0x46f221(0x396)](_0x3bb65e),null;}if(_0x3fe08b[_0x46f221(0x1bd)]===_0x46f221(0x12d)&&(_0x3bb65e[_0x46f221(0x30a)][_0x46f221(0x648)]=_0x4d7775,await this[_0x46f221(0x396)](_0x3bb65e)),_0x3fe08b[_0x46f221(0x1bd)]===_0x46f221(0x108)&&_0x3fe08b[_0x46f221(0x108)][_0x46f221(0x5c2)]===_0x46f221(0x329)&&_0x3bb65e[_0x46f221(0x561)])return _0x3bb65e[_0x46f221(0x30a)][_0x46f221(0x648)]=_0x4d7775,await this[_0x46f221(0x396)](_0x3bb65e),null;let _0x5bbfae=await this[_0x46f221(0x5e6)](_0x3bb65e);if(_0x3bb65e[_0x46f221(0x30a)]&&_0x3bb65e[_0x46f221(0x30a)][_0x46f221(0x52a)]){let _0x44f34d=_0x3bb65e[_0x46f221(0x30a)][_0x46f221(0x52a)][_0x46f221(0x6af)](_0x35edf0=>String(_0x35edf0[_0x46f221(0x31f)])===String(_0x4d7775))['length'];if(_0x3fe08b['maxActives']!==void 0x0&&_0x44f34d>=_0x3fe08b['maxActives']){let _0x1b303c=Date[_0x46f221(0x5db)](),_0x5c7437=_0x3fe08b[_0x46f221(0x25a)]??0xa;isNaN(_0x5c7437)&&(_0x5c7437=0xa);let _0x174c11=_0x1b303c+_0x5c7437*0x3c*0x3e8,_0x5e5001={'newStoppedUntil':_0x174c11};return this[_0x46f221(0x14d)](_0x3bb65e,_0x174c11),this[_0x46f221(0x407)](_0x3bb65e,_0x3fe08b,_0x5e5001,!0x0),null;}}_0x5bbfae&&_0x5bbfae[_0x46f221(0x1bd)]!==_0x46f221(0x643)&&await this['processblock'](_0x3bb65e,_0x5bbfae,_0x3bb65e['remoteJid']),_0x5bbfae||await this[_0x46f221(0x396)](_0x3bb65e),_0x5bbfae&&_0x5bbfae[_0x46f221(0x1bd)]===_0x46f221(0x643)&&(_0x3bb65e['chatLog']['lastBlockId']=_0x4d7775,await this[_0x46f221(0x396)](_0x3bb65e));}async[a0_0x28e68b(0x3f1)](_0x84bd09,_0x5556d5,_0x104e1b){const _0x323120=a0_0x28e68b;try{let _0x29616c=_0x5556d5[_0x323120(0x1bd)];this[_0x323120(0x602)][_0x323120(0x690)](this['instanceName']+'\x20('+this[_0x323120(0x599)][_0x323120(0x536)]+_0x323120(0x3bc)+_0x29616c);let _0x3ae39a={'uazapi':()=>this[_0x323120(0x604)](_0x84bd09,_0x5556d5,_0x104e1b),'save':()=>this[_0x323120(0x3e1)](_0x84bd09,_0x5556d5),'stop':()=>this['stopConversation'](_0x84bd09,_0x5556d5),'condition':()=>this[_0x323120(0x19a)](_0x84bd09,_0x5556d5),'varedit':()=>this[_0x323120(0x3fa)](_0x84bd09,_0x5556d5),'apirequest':()=>this[_0x323120(0x5d9)](_0x84bd09,_0x5556d5),'goToFlow':()=>this[_0x323120(0x3c9)](_0x84bd09,_0x5556d5)}[_0x29616c];_0x3ae39a&&await _0x3ae39a();}catch(_0xfa6a82){this[_0x323120(0x602)]['error'](this[_0x323120(0x28e)]+'\x20('+this[_0x323120(0x599)]['wuid']+_0x323120(0x65c)+_0xfa6a82);}}async[a0_0x28e68b(0x3c9)](_0x3552e3,_0x3cbcfb){const _0x526e59=a0_0x28e68b;if(this['logger'][_0x526e59(0x690)](this[_0x526e59(0x28e)]+'\x20('+this['instance'][_0x526e59(0x536)]+_0x526e59(0x15b)),!_0x3552e3||!_0x3cbcfb)return this['logger'][_0x526e59(0x197)](this[_0x526e59(0x28e)]+'\x20('+this['instance'][_0x526e59(0x536)]+_0x526e59(0x217)),null;await this[_0x526e59(0x407)](_0x3552e3,_0x3cbcfb,{},!0x0,!0x0),console[_0x526e59(0x39e)](_0x526e59(0x4cb)),console[_0x526e59(0x39e)](_0x3cbcfb);let _0x4d26f1=_0x3cbcfb[_0x526e59(0x556)];console['log']('flowname:\x20',_0x4d26f1),_0x3552e3=await this[_0x526e59(0x135)](_0x4d26f1,_0x3552e3['remoteJid'],_0x3552e3[_0x526e59(0x30a)][_0x526e59(0x3e7)]),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x526e59(0x599)][_0x526e59(0x536)]+'):\x20Criada\x20conversa\x20nova\x20(gotoflow)');let _0x66a034=await this[_0x526e59(0x5e6)](_0x3552e3);_0x66a034&&await this[_0x526e59(0x3f1)](_0x3552e3,_0x66a034,_0x3552e3['remoteJid']);}async[a0_0x28e68b(0x135)](_0x19ae86,_0x3564b0,_0x153baf){const _0x4ba682=a0_0x28e68b;this[_0x4ba682(0x602)][_0x4ba682(0x690)](this[_0x4ba682(0x28e)]+'\x20('+this[_0x4ba682(0x599)][_0x4ba682(0x536)]+_0x4ba682(0x5fb));try{if(_0x19ae86=await D[_0x4ba682(0x1a2)]({'owner':this[_0x4ba682(0x599)][_0x4ba682(0x536)],'name':_0x19ae86}),!_0x19ae86)return this[_0x4ba682(0x602)][_0x4ba682(0x197)](this[_0x4ba682(0x28e)]+'\x20('+this[_0x4ba682(0x599)][_0x4ba682(0x536)]+_0x4ba682(0x190)),null;let _0x5c1eba=require(_0x4ba682(0x41a))[_0x4ba682(0x642)],_0x35cb0f=Date['now'](),_0x204c22='start',_0x143163={},_0x318a13={},_0x5d14ef={..._0x19ae86[_0x4ba682(0x5c0)],'chatLog':null},_0x4ca7d8={'lastReceivedMessage':_0x143163,'lastSendMessage':_0x318a13,'lastBlockId':_0x204c22,'lastCondition':!0x0,'realVariables':_0x153baf};_0x5d14ef[_0x4ba682(0x30a)]=_0x4ca7d8,_0x5d14ef[_0x4ba682(0x30a)][_0x4ba682(0x3e7)]={..._0x153baf},delete _0x5d14ef[_0x4ba682(0x2ca)],_0x5d14ef[_0x4ba682(0x2ca)]=new _0x5c1eba(),_0x5d14ef[_0x4ba682(0x5dd)]=_0x35cb0f,_0x5d14ef[_0x4ba682(0x4c5)]='open',_0x5d14ef['remoteJid']=_0x3564b0;let _0x6a81d6=await G[_0x4ba682(0x598)](_0x5d14ef);return this[_0x4ba682(0x602)][_0x4ba682(0x690)](this[_0x4ba682(0x28e)]+'\x20('+this[_0x4ba682(0x599)][_0x4ba682(0x536)]+_0x4ba682(0x2d2)),_0x6a81d6?_0x5d14ef:null;}catch(_0x2847ea){throw this[_0x4ba682(0x602)]['error'](this[_0x4ba682(0x28e)]+'\x20('+this[_0x4ba682(0x599)][_0x4ba682(0x536)]+_0x4ba682(0x3ab)+_0x2847ea),new m(_0x2847ea[_0x4ba682(0x283)]);}}async['processApiRequest'](_0x109e5c,_0xa734eb){const _0x4e6860=a0_0x28e68b;let _0x350562,_0x68d133;try{let _0x58fcef=_0xa734eb[_0x4e6860(0x2ea)];if(!_0x58fcef||!_0x58fcef[_0x4e6860(0x255)]||!_0x58fcef[_0x4e6860(0x67d)])throw new Error(_0x4e6860(0x49a));let _0x3b6971={'method':_0x58fcef[_0x4e6860(0x67d)],'url':_0x58fcef[_0x4e6860(0x255)],'headers':_0x58fcef[_0x4e6860(0x37b)]||{},'data':_0x58fcef[_0x4e6860(0x69f)]||{}};_0x350562=(await(0x0,le[_0x4e6860(0x134)])(_0x3b6971))[_0x4e6860(0x503)];let _0x343fdf=_0x109e5c[_0x4e6860(0x30a)]['realVariables'],_0x58ce70=this[_0x4e6860(0x50d)](_0x350562);return Object[_0x4e6860(0x1e2)](_0x343fdf,_0x58ce70),_0x109e5c[_0x4e6860(0x30a)][_0x4e6860(0x3e7)]=_0x343fdf,_0x68d133={'error':!0x1,'apiResponse':_0x350562},this[_0x4e6860(0x407)](_0x109e5c,_0xa734eb,_0x68d133),_0x350562;}catch(_0x364cef){console[_0x4e6860(0x197)]('Erro\x20ao\x20processar\x20a\x20chamada\x20API:',_0x364cef),_0x364cef['response']&&(_0x350562=_0x364cef[_0x4e6860(0x492)][_0x4e6860(0x503)]);let _0x12b2e1=_0x109e5c['chatLog'][_0x4e6860(0x3e7)],_0x5f06be=this[_0x4e6860(0x50d)](_0x350562);return Object['assign'](_0x12b2e1,_0x5f06be),_0x109e5c[_0x4e6860(0x30a)][_0x4e6860(0x3e7)]=_0x12b2e1,_0x68d133={'error':!0x0,'errorLog':_0x364cef[_0x4e6860(0x3d0)](),'apiResponse':_0x350562},this['updateConversation'](_0x109e5c,_0xa734eb,_0x68d133),{'success':!0x1};}}[a0_0x28e68b(0x136)](_0x441413,_0x390901){const _0x12fcbb=a0_0x28e68b;let _0x53ce46=_0x1a762e=>{const _0x472653=a0_0x4842;let _0x20b0ed=_0x1a762e[_0x472653(0x5eb)](/[^0-9.,-]/g,'')[_0x472653(0x5eb)](',','.'),_0x2a47d7=parseFloat(_0x20b0ed);return isNaN(_0x2a47d7)?null:_0x2a47d7;},_0x4dd4e6=_0x390901[_0x12fcbb(0x284)],_0x28cbcc=_0x390901[_0x12fcbb(0x3b6)];typeof _0x4dd4e6==_0x12fcbb(0x47b)&&(_0x4dd4e6=this['replaceVariables'](_0x4dd4e6,_0x441413[_0x12fcbb(0x30a)][_0x12fcbb(0x3e7)])??''),typeof _0x28cbcc=='string'&&(_0x28cbcc=this[_0x12fcbb(0x600)](_0x28cbcc,_0x441413[_0x12fcbb(0x30a)][_0x12fcbb(0x3e7)])??'');let _0xa5a8c8=null;if(!_0x4dd4e6||!_0x390901[_0x12fcbb(0x5c8)])return null;switch(this['logger'][_0x12fcbb(0x690)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x4dd4e6),this['logger'][_0x12fcbb(0x690)](this[_0x12fcbb(0x28e)]+'\x20('+this[_0x12fcbb(0x599)][_0x12fcbb(0x536)]+_0x12fcbb(0x4b3)+_0x28cbcc),_0x390901[_0x12fcbb(0x5c8)]){case'+':case'-':case'*':case'/':let _0x1fb488=_0x53ce46(_0x4dd4e6),_0x1f21b0=_0x53ce46(_0x28cbcc||'0');if(_0x1fb488===null)return null;switch(_0x390901[_0x12fcbb(0x5c8)]){case'+':_0xa5a8c8=_0x1fb488+(_0x1f21b0??0x0);break;case'-':_0xa5a8c8=_0x1fb488-(_0x1f21b0??0x0);break;case'*':_0xa5a8c8=_0x1fb488*(_0x1f21b0??0x1);break;case'/':_0x1f21b0!==0x0&&(_0xa5a8c8=_0x1fb488/(_0x1f21b0??0x1));break;}break;case _0x12fcbb(0x63c):case _0x12fcbb(0x367):let _0x134ec5=_0x28cbcc,_0x5cc843=_0x390901[_0x12fcbb(0x523)];if(typeof _0x5cc843==_0x12fcbb(0x47b)&&(_0x5cc843=this[_0x12fcbb(0x600)](_0x5cc843,_0x441413[_0x12fcbb(0x30a)][_0x12fcbb(0x3e7)])??''),_0x134ec5&&_0x5cc843!==void 0x0){let _0x27ca78=_0x390901[_0x12fcbb(0x5c8)]==='findAndReplace'?new RegExp(_0x134ec5[_0x12fcbb(0x5eb)](/[-\/\\^$*+?.()|[\]{}]/g,_0x12fcbb(0x198)),'g'):new RegExp(_0x134ec5,'g');_0xa5a8c8=_0x4dd4e6[_0x12fcbb(0x5eb)](_0x27ca78,_0x5cc843);}else console[_0x12fcbb(0x56e)](_0x12fcbb(0xfe));break;case _0x12fcbb(0x160):_0xa5a8c8=_0x28cbcc;break;case _0x12fcbb(0x16a):let _0xffaaf1=_0x4dd4e6[_0x12fcbb(0x467)](new RegExp(_0x28cbcc||''));_0xa5a8c8=_0xffaaf1?_0xffaaf1[0x0]:'';break;case _0x12fcbb(0x281):_0xa5a8c8=_0x4dd4e6['slice'](0x0,parseInt(_0x28cbcc||'0'));break;case _0x12fcbb(0x39d):let _0x39b85b=parseInt(_0x28cbcc||'0');_0xa5a8c8=_0x4dd4e6[_0x12fcbb(0x40e)](_0x4dd4e6['length']-_0x39b85b);break;case _0x12fcbb(0x50c):let _0x9784d1=_0x53ce46(_0x4dd4e6),_0x49ef9e=parseInt(_0x28cbcc||'0');_0x49ef9e=Math['abs'](_0x49ef9e),_0x9784d1!==null?_0xa5a8c8=_0x9784d1[_0x12fcbb(0x1f4)](_0x12fcbb(0x5c3),{'minimumFractionDigits':_0x49ef9e,'maximumFractionDigits':_0x49ef9e}):(console[_0x12fcbb(0x56e)](_0x12fcbb(0x251)+_0x4dd4e6),_0xa5a8c8=null);break;case _0x12fcbb(0xf8):let _0x4fc5e9=_0x53ce46(_0x4dd4e6);_0x4fc5e9!==null?_0xa5a8c8=_0x4fc5e9[_0x12fcbb(0x1f4)](_0x12fcbb(0x5c3),{'style':_0x12fcbb(0x419),'currency':_0x12fcbb(0x62c)}):(console[_0x12fcbb(0x56e)](_0x12fcbb(0x1ab)+_0x4dd4e6),_0xa5a8c8=null);break;case _0x12fcbb(0x210):_0xa5a8c8=_0x4dd4e6[_0x12fcbb(0x4ad)]();break;case'lowerCase':_0xa5a8c8=_0x4dd4e6[_0x12fcbb(0x208)]();break;case _0x12fcbb(0x260):_0xa5a8c8=_0x4dd4e6[_0x12fcbb(0x22b)]('\x20')[_0x12fcbb(0x5df)](_0x448dc7=>_0x448dc7[_0x12fcbb(0x3bd)](0x0)[_0x12fcbb(0x4ad)]()+_0x448dc7[_0x12fcbb(0x40e)](0x1)[_0x12fcbb(0x208)]())[_0x12fcbb(0x1b8)]('\x20');break;case _0x12fcbb(0x3d5):_0xa5a8c8=_0x4dd4e6[_0x12fcbb(0x1be)]();break;default:_0xa5a8c8=_0x4dd4e6;}return _0xa5a8c8!==null?_0xa5a8c8[_0x12fcbb(0x3d0)]():null;}async[a0_0x28e68b(0x3fa)](_0x61f850,_0x5e53bf){const _0x4e9b7a=a0_0x28e68b;try{let _0x493070=_0x61f850['varedits']?.['filter'](_0x547a9f=>_0x547a9f[_0x4e9b7a(0x31f)]===_0x5e53bf[_0x4e9b7a(0x2ca)]?.[_0x4e9b7a(0x3d0)]())||[],_0x597d0d=_0x5e53bf[_0x4e9b7a(0x478)],_0x24c3b8=null,_0x5c290a=[],_0x3dc79c=_0x61f850['chatLog'][_0x4e9b7a(0x3e7)][_0x597d0d];_0x5c290a[_0x4e9b7a(0x2ff)](_0x4e9b7a(0x1ad)+_0x3dc79c+'\x22');for(let _0x880cd1 of _0x493070){_0x880cd1[_0x4e9b7a(0x284)]=_0x3dc79c,_0x24c3b8=_0x880cd1[_0x4e9b7a(0x284)];let _0x2a272c;try{_0x2a272c=this[_0x4e9b7a(0x136)](_0x61f850,_0x880cd1);}catch(_0x1171a9){console[_0x4e9b7a(0x197)](_0x4e9b7a(0x1c7)+_0x1171a9[_0x4e9b7a(0x283)]);continue;}if(_0x2a272c!==null){let _0x3213b9='Operador:\x20\x22'+_0x880cd1[_0x4e9b7a(0x5c8)]+'\x22',_0x5d9803=[_0x4e9b7a(0xf8),'upperCase',_0x4e9b7a(0x4ea),_0x4e9b7a(0x260),'trimmed'];_0x880cd1[_0x4e9b7a(0x5c8)]===_0x4e9b7a(0x63c)||_0x880cd1[_0x4e9b7a(0x5c8)]===_0x4e9b7a(0x367)?_0x3213b9+=_0x4e9b7a(0x48f)+_0x880cd1[_0x4e9b7a(0x3b6)]+_0x4e9b7a(0x4d4)+_0x880cd1[_0x4e9b7a(0x523)]+'\x22':!_0x5d9803[_0x4e9b7a(0x447)](_0x880cd1[_0x4e9b7a(0x5c8)])&&_0x880cd1[_0x4e9b7a(0x3b6)]!==null&&_0x880cd1['secondValue']!==void 0x0&&(_0x3213b9+=',\x20valor\x20passado:\x20\x22'+_0x880cd1[_0x4e9b7a(0x3b6)]+'\x22'),_0x3213b9+=_0x4e9b7a(0x2d4)+_0x2a272c+'.',_0x5c290a['push'](_0x3213b9);}_0x2a272c!==null&&(_0x3dc79c=_0x2a272c);}if(_0x61f850[_0x4e9b7a(0x30a)]['realVariables']&&_0x5e53bf[_0x4e9b7a(0x478)]){_0x61f850[_0x4e9b7a(0x30a)]['realVariables'][_0x5e53bf[_0x4e9b7a(0x478)]]=_0x3dc79c;let _0x2ae2c7={'variable':_0x5e53bf['saveVariable'],'oldValue':_0x24c3b8,'newValue':_0x3dc79c,'moreLogs':_0x5c290a};try{this[_0x4e9b7a(0x407)](_0x61f850,_0x5e53bf,_0x2ae2c7);}catch(_0x2816e8){console[_0x4e9b7a(0x197)](_0x4e9b7a(0x5d5)+_0x2816e8[_0x4e9b7a(0x283)]);}}return _0x597d0d;}catch(_0x481e4e){return console[_0x4e9b7a(0x197)](_0x4e9b7a(0x44a)+_0x481e4e[_0x4e9b7a(0x283)]),null;}}async[a0_0x28e68b(0x19a)](_0x4345e2,_0xa7fadb){const _0x42a4bc=a0_0x28e68b;try{let _0x12e8c6=[],_0x5110ad=_0x4345e2[_0x42a4bc(0x415)][_0x42a4bc(0x6af)](_0x3516ec=>_0x3516ec['blockId']===_0xa7fadb[_0x42a4bc(0x2ca)][_0x42a4bc(0x3d0)]()),_0x50dfac=!0x0,_0xf084e1=null;for(let _0x5ce8a2 of _0x5110ad){let _0x3bb9e4=this[_0x42a4bc(0x6b1)](_0x4345e2,_0x5ce8a2);if(_0x12e8c6[_0x42a4bc(0x2ff)](_0x42a4bc(0x2b6)+_0x5ce8a2['firstValue']+_0x42a4bc(0x439)+_0x5ce8a2['expression']+_0x42a4bc(0x611)+_0x5ce8a2[_0x42a4bc(0x3b6)]+',\x20Resultado:\x20'+_0x3bb9e4),_0xf084e1===null)_0x50dfac=_0x3bb9e4;else{if(_0xf084e1==='or'&&_0x3bb9e4){_0x50dfac=!0x0;break;}else{if(_0xf084e1===_0x42a4bc(0x21d)&&!_0x3bb9e4){_0x50dfac=!0x1;break;}}}_0xf084e1=_0x5ce8a2[_0x42a4bc(0x3bb)];}let _0x1a2dd1={'moreLogs':_0x12e8c6};_0x50dfac?(_0x4345e2[_0x42a4bc(0x30a)][_0x42a4bc(0x10b)]=!0x0,this['updateConversation'](_0x4345e2,_0xa7fadb,_0x1a2dd1)):(_0x4345e2[_0x42a4bc(0x30a)]['lastCondition']=!0x1,_0x1a2dd1[_0x42a4bc(0x3d1)]=_0x12e8c6,this[_0x42a4bc(0x407)](_0x4345e2,_0xa7fadb,_0x1a2dd1));}catch(_0x212ef2){this['logger'][_0x42a4bc(0x197)](this[_0x42a4bc(0x28e)]+'\x20('+this[_0x42a4bc(0x599)][_0x42a4bc(0x536)]+_0x42a4bc(0x221)+_0x212ef2);}}[a0_0x28e68b(0x6b1)](_0x1684ca,_0x3ba3a8){const _0x21b10f=a0_0x28e68b;let _0x1a0ef9=_0x3ba3a8['firstValue'],_0x287dc4=_0x3ba3a8['secondValue'];typeof _0x1a0ef9==_0x21b10f(0x47b)&&(_0x1a0ef9=this['replaceVariables'](_0x1a0ef9,_0x1684ca['chatLog'][_0x21b10f(0x3e7)])??''),typeof _0x287dc4=='string'&&(_0x287dc4=this[_0x21b10f(0x600)](_0x287dc4,_0x1684ca[_0x21b10f(0x30a)][_0x21b10f(0x3e7)])??'');try{switch(_0x3ba3a8['expression']){case _0x21b10f(0x57e):return _0x1a0ef9===_0x287dc4;case _0x21b10f(0x18d):return _0x1a0ef9!==_0x287dc4;case _0x21b10f(0x211):return _0x1a0ef9['includes'](_0x287dc4);case _0x21b10f(0x2f4):return!_0x1a0ef9[_0x21b10f(0x447)](_0x287dc4);case _0x21b10f(0x595):return parseFloat(_0x1a0ef9)>parseFloat(_0x287dc4);case'less':return parseFloat(_0x1a0ef9)<parseFloat(_0x287dc4);case _0x21b10f(0x5b5):return _0x1a0ef9!=='';case _0x21b10f(0x406):return _0x1a0ef9==='';case'matchRegex':return new RegExp(_0x287dc4)[_0x21b10f(0x3c2)](_0x1a0ef9);case _0x21b10f(0x400):return!new RegExp(_0x287dc4)[_0x21b10f(0x3c2)](_0x1a0ef9);default:return!0x1;}}catch(_0x293156){return console[_0x21b10f(0x197)](_0x21b10f(0x2fa)+_0x293156),!0x1;}}[a0_0x28e68b(0x6b9)](_0x36fca9){const _0x303bbc=a0_0x28e68b;let _0x5ab651=!0x0,_0x38d590=null;for(let _0x1534e2 of _0x36fca9){let _0x33f0bf=this[_0x303bbc(0x237)](_0x1534e2);if(_0x38d590==='or'&&_0x33f0bf){_0x5ab651=!0x0;break;}if(_0x38d590==='and'&&!_0x33f0bf){_0x5ab651=!0x1;break;}_0x38d590=_0x1534e2[_0x303bbc(0x3bb)];}return _0x5ab651;}['evaluateConditionTest'](_0x451fda){const _0x3371ed=a0_0x28e68b;let _0x164eed=_0x451fda[_0x3371ed(0x284)],_0x5ce95c=_0x451fda[_0x3371ed(0x3b6)];try{switch(_0x451fda[_0x3371ed(0x46a)]){case _0x3371ed(0x57e):return String(_0x164eed)===String(_0x5ce95c);case _0x3371ed(0x18d):return String(_0x164eed)!==String(_0x5ce95c);case'contains':return String(_0x164eed)[_0x3371ed(0x447)](String(_0x5ce95c));case _0x3371ed(0x2f4):return!String(_0x164eed)[_0x3371ed(0x447)](String(_0x5ce95c));case _0x3371ed(0x595):return parseFloat(String(_0x164eed))>parseFloat(String(_0x5ce95c));case _0x3371ed(0x215):return parseFloat(String(_0x164eed))<parseFloat(String(_0x5ce95c));case _0x3371ed(0x5b5):return String(_0x164eed)!=='';case _0x3371ed(0x406):return String(_0x164eed)==='';case _0x3371ed(0x123):return new RegExp(String(_0x5ce95c))[_0x3371ed(0x3c2)](String(_0x164eed));case _0x3371ed(0x400):return!new RegExp(String(_0x5ce95c))[_0x3371ed(0x3c2)](String(_0x164eed));default:return!0x1;}}catch(_0x31847b){return console[_0x3371ed(0x197)](_0x3371ed(0x2fa)+_0x31847b),!0x1;}}async[a0_0x28e68b(0x3e1)](_0x38f3ed,_0x758361){const _0x17d1ba=a0_0x28e68b;if(this[_0x17d1ba(0x602)][_0x17d1ba(0x690)](this[_0x17d1ba(0x28e)]+'\x20('+this[_0x17d1ba(0x599)][_0x17d1ba(0x536)]+_0x17d1ba(0x4f4)),!_0x38f3ed||!_0x758361)return this[_0x17d1ba(0x602)][_0x17d1ba(0x197)](this[_0x17d1ba(0x28e)]+'\x20('+this[_0x17d1ba(0x599)][_0x17d1ba(0x536)]+_0x17d1ba(0x217)),null;let _0x57a818=_0x758361[_0x17d1ba(0x478)],_0x5dc3d6=_0x38f3ed[_0x17d1ba(0x30a)]['lastReceivedMessage'][_0x17d1ba(0x265)]||_0x38f3ed['chatLog'][_0x17d1ba(0x3db)][_0x17d1ba(0x52d)]||_0x38f3ed['chatLog'][_0x17d1ba(0x3db)][_0x17d1ba(0x573)];try{_0x38f3ed['chatLog'][_0x17d1ba(0x3e7)]||(_0x38f3ed[_0x17d1ba(0x30a)]['realVariables']={});let _0x1ab74d=_0x38f3ed['chatLog'][_0x17d1ba(0x3e7)][_0x57a818];_0x38f3ed['chatLog'][_0x17d1ba(0x3e7)][_0x57a818]=_0x5dc3d6;let _0x8b22a8={'variable':_0x57a818,'oldValue':_0x1ab74d,'newValue':_0x5dc3d6};this[_0x17d1ba(0x407)](_0x38f3ed,_0x758361,_0x8b22a8),this[_0x17d1ba(0x602)][_0x17d1ba(0x690)](this[_0x17d1ba(0x28e)]+'\x20('+this[_0x17d1ba(0x599)][_0x17d1ba(0x536)]+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x27c401){let _0x265904={'error':!0x0,'errorLog':_0x27c401[_0x17d1ba(0x3d0)]()};return this['updateConversation'](_0x38f3ed,_0x758361,_0x265904),this[_0x17d1ba(0x602)][_0x17d1ba(0x197)](this['instanceName']+'\x20('+this[_0x17d1ba(0x599)][_0x17d1ba(0x536)]+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+_0x27c401[_0x17d1ba(0x283)]),null;}}async['stopConversation'](_0x370f91,_0x58c4eb){const _0x7c62ab=a0_0x28e68b;if(this[_0x7c62ab(0x602)][_0x7c62ab(0x690)](this[_0x7c62ab(0x28e)]+'\x20('+this[_0x7c62ab(0x599)][_0x7c62ab(0x536)]+_0x7c62ab(0x287)),!_0x370f91||!_0x58c4eb)return this[_0x7c62ab(0x602)][_0x7c62ab(0x197)](this[_0x7c62ab(0x28e)]+'\x20('+this[_0x7c62ab(0x599)]['wuid']+_0x7c62ab(0x217)),null;let _0x2e1726=Date[_0x7c62ab(0x5db)](),_0x538dbd=parseInt(_0x58c4eb['stopMinutes'],0xa);if(isNaN(_0x538dbd))return this[_0x7c62ab(0x602)][_0x7c62ab(0x197)](this['instanceName']+'\x20('+this[_0x7c62ab(0x599)][_0x7c62ab(0x536)]+_0x7c62ab(0x311)),null;let _0x3b065a=_0x2e1726+_0x538dbd*0x3c*0x3e8,_0x3ecd37={'newStoppedUntil':_0x3b065a};return this[_0x7c62ab(0x14d)](_0x370f91,_0x3b065a),this[_0x7c62ab(0x407)](_0x370f91,_0x58c4eb,_0x3ecd37),null;}async['processUazapi'](_0x5f53ae,_0x3d5c09,_0x44e65c){const _0x34b68c=a0_0x28e68b;try{switch(_0x3d5c09[_0x34b68c(0x108)][_0x34b68c(0x5c2)]){case _0x34b68c(0x6be):await this[_0x34b68c(0x246)](_0x5f53ae,_0x3d5c09,_0x44e65c);break;case _0x34b68c(0x104):await this[_0x34b68c(0x101)](_0x5f53ae,_0x3d5c09,_0x44e65c);break;case'sendLocation':await this[_0x34b68c(0x331)](_0x5f53ae,_0x3d5c09,_0x44e65c);break;case _0x34b68c(0x5d2):await this['uazapiSendAudio'](_0x5f53ae,_0x3d5c09,_0x44e65c);break;case'sendContact':await this['uazapiSendContact'](_0x5f53ae,_0x3d5c09,_0x44e65c);break;case'sendPoll':await this['uazapiSendPoll'](_0x5f53ae,_0x3d5c09,_0x44e65c);break;case'deleteMessage':await this['uazapiDeleteMessage'](_0x5f53ae,_0x3d5c09,_0x44e65c);break;default:this[_0x34b68c(0x602)][_0x34b68c(0x197)](this[_0x34b68c(0x28e)]+'\x20('+this[_0x34b68c(0x599)]['wuid']+_0x34b68c(0x54a)+_0x3d5c09['uazapi']['command']);}}catch(_0x20bed5){this['logger'][_0x34b68c(0x197)](this[_0x34b68c(0x28e)]+'\x20('+this[_0x34b68c(0x599)][_0x34b68c(0x536)]+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+_0x20bed5);}}async['updateConversation'](_0x3cc4bf,_0x309265,_0x27a288,_0x5a728c=!0x1,_0x367adb=!0x1){const _0xa6c611=a0_0x28e68b;_0x3cc4bf[_0xa6c611(0x30a)]['blockLogs']||(_0x3cc4bf[_0xa6c611(0x30a)]['blockLogs']=[]);let _0x28daf7=(_0x3cc4bf[_0xa6c611(0x30a)][_0xa6c611(0x52a)]?.[_0xa6c611(0x670)]??0x0)+0x1,_0x130d55=_0x3cc4bf['chatLog'][_0xa6c611(0x52a)][_0xa6c611(0x6af)](_0x17fdff=>String(_0x17fdff[_0xa6c611(0x31f)])===String(_0x309265[_0xa6c611(0x2ca)]))['length']+0x1,_0x119182=_0x27a288?.[_0xa6c611(0x5d6)]??Date['now'](),_0x541661=_0x27a288?.[_0xa6c611(0x197)]?_0x27a288[_0xa6c611(0x514)]??_0x27a288[_0xa6c611(0x197)][_0xa6c611(0x3d0)]():void 0x0,_0x5a0b0a={'onTime':_0x119182,'blockId':_0x309265['_id'],'order':_0x28daf7,'activatedCount':_0x130d55,'error':_0x27a288?.[_0xa6c611(0x197)]??!0x1,'messageId':_0x27a288?.[_0xa6c611(0x48e)],'apiResponse':_0x27a288?.[_0xa6c611(0x6b2)],'apiResponseString':_0x27a288?.[_0xa6c611(0x6b2)]?JSON[_0xa6c611(0x409)](_0x27a288?.['apiResponse']):void 0x0,'variable':_0x27a288?.[_0xa6c611(0x686)],'oldValue':_0x27a288?.[_0xa6c611(0x131)],'newValue':_0x27a288?.[_0xa6c611(0x3b2)],'newStoppedUntil':_0x27a288?.[_0xa6c611(0x262)],'moreLogs':_0x27a288?.[_0xa6c611(0x3d1)],'errorLog':_0x541661};if(_0x27a288['moreLogs']&&_0x27a288[_0xa6c611(0x3d1)][_0xa6c611(0x670)]>0x0){let _0x290296=_0x27a288[_0xa6c611(0x3d1)][_0xa6c611(0x5df)](_0x35a50e=>this[_0xa6c611(0x11c)](_0x35a50e,_0x3cc4bf[_0xa6c611(0x30a)][_0xa6c611(0x3e7)]));_0x5a0b0a[_0xa6c611(0x3d1)]=_0x290296;}_0x3cc4bf[_0xa6c611(0x30a)][_0xa6c611(0x3e7)]||(_0x3cc4bf[_0xa6c611(0x30a)][_0xa6c611(0x3e7)]={}),_0x3cc4bf[_0xa6c611(0x30a)]['realVariables']['_activatedCount']=String(_0x130d55),_0x3cc4bf[_0xa6c611(0x30a)][_0xa6c611(0x3e7)][_0xa6c611(0x624)]=String(_0x27a288[_0xa6c611(0x197)]??!0x1),_0x3cc4bf[_0xa6c611(0x30a)][_0xa6c611(0x52a)][_0xa6c611(0x2ff)](_0x5a0b0a),_0x3cc4bf[_0xa6c611(0x30a)][_0xa6c611(0x648)]=_0x309265[_0xa6c611(0x2ca)][_0xa6c611(0x3d0)](),_0x3cc4bf[_0xa6c611(0x30a)][_0xa6c611(0x20b)]&&(_0x3cc4bf['chatLog']['lastSendMessage']=_0x3cc4bf[_0xa6c611(0x30a)][_0xa6c611(0x20b)]),_0x3cc4bf[_0xa6c611(0x30a)]['lastReceivedMessage']&&(_0x3cc4bf[_0xa6c611(0x30a)][_0xa6c611(0x3db)]=_0x3cc4bf[_0xa6c611(0x30a)][_0xa6c611(0x3db)]),_0x3cc4bf['chatLog'][_0xa6c611(0x10b)]&&(_0x3cc4bf[_0xa6c611(0x30a)][_0xa6c611(0x10b)]=_0x3cc4bf[_0xa6c611(0x30a)][_0xa6c611(0x10b)]),_0x367adb&&(_0x3cc4bf[_0xa6c611(0x4c5)]=_0xa6c611(0x1ae)),_0x5a728c?this[_0xa6c611(0x396)](_0x3cc4bf):this['goNextblock'](_0x3cc4bf,_0x309265);}[a0_0x28e68b(0x11c)](_0x856b3b,_0x58df6e){const _0x3c1dc8=a0_0x28e68b;return _0x856b3b[_0x3c1dc8(0x5eb)](/\{\{([^}]+)\}\}/g,(_0x1e559c,_0x50d3e7)=>_0x58df6e[_0x50d3e7]?'{{'+_0x50d3e7+'}}\x20->\x20\x22'+_0x58df6e[_0x50d3e7]+'\x22':'{{'+_0x50d3e7+_0x3c1dc8(0x62f));}async[a0_0x28e68b(0x396)](_0x3b0ffc){const _0x30773c=a0_0x28e68b;try{let _0x12baee=Object[_0x30773c(0x23f)](_0x3b0ffc[_0x30773c(0x30a)][_0x30773c(0x3e7)])['map'](([_0x4c7828,_0x2cf3b0])=>({'name':_0x4c7828,'value':_0x2cf3b0})),_0xcf1738=['nome',_0x30773c(0x53b),_0x30773c(0x59e),_0x30773c(0x200),_0x30773c(0x4c5),_0x30773c(0x6a2),_0x30773c(0x5fc),'tags'];if(!this[_0x30773c(0x3ce)]&&(await this['getAutomateSystem'](),!this['AutomateSystem']))throw new Error(_0x30773c(0x464));let _0x349e12=this[_0x30773c(0x3ce)]['customFields']['map'](_0x40951a=>_0x40951a[_0x30773c(0x35d)]),_0x1781a5={};Object[_0x30773c(0x23f)](_0x3b0ffc[_0x30773c(0x30a)][_0x30773c(0x3e7)])[_0x30773c(0x360)](([_0x476c53,_0x54d25e])=>{const _0x45e08a=_0x30773c;_0xcf1738[_0x45e08a(0x447)](_0x476c53)&&(_0x476c53==='tags'&&typeof _0x54d25e==_0x45e08a(0x47b)?_0x1781a5[_0x476c53]=_0x54d25e[_0x45e08a(0x22b)](',\x20'):_0x1781a5[_0x476c53]=_0x54d25e);});let _0x3027f7=_0x12baee[_0x30773c(0x6af)](_0x331cec=>_0x349e12['includes'](_0x331cec['name']));this[_0x30773c(0x602)][_0x30773c(0x690)](this[_0x30773c(0x28e)]+'\x20('+this['instance'][_0x30773c(0x536)]+_0x30773c(0x3de)),this[_0x30773c(0x602)][_0x30773c(0x690)](_0x1781a5),this[_0x30773c(0x602)]['verbose'](this[_0x30773c(0x28e)]+'\x20('+this[_0x30773c(0x599)]['wuid']+_0x30773c(0x14a)),this[_0x30773c(0x602)][_0x30773c(0x690)](_0x3027f7);let _0x48edcd=_0x3027f7['map'](_0x39db0a=>{const _0x5b1c43=_0x30773c;let _0x20479d=this['AutomateSystem'][_0x5b1c43(0x43b)]['find'](_0x1a6af3=>_0x1a6af3[_0x5b1c43(0x35d)]===_0x39db0a[_0x5b1c43(0x35d)]);if(!_0x20479d)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x39db0a[_0x5b1c43(0x35d)]);return{'_id':_0x20479d[_0x5b1c43(0x2ca)],'value':_0x39db0a['value']};});this[_0x30773c(0x602)][_0x30773c(0x690)](this[_0x30773c(0x28e)]+'\x20('+this[_0x30773c(0x599)][_0x30773c(0x536)]+_0x30773c(0x5f7)),this[_0x30773c(0x602)]['verbose'](_0x48edcd);let _0x5958d5=await G['findOneAndUpdate']({'_id':_0x3b0ffc[_0x30773c(0x2ca)]},{'$set':{'chatLog.lastBlockId':_0x3b0ffc[_0x30773c(0x30a)][_0x30773c(0x648)],'blocks':_0x3b0ffc[_0x30773c(0x205)],'chatLog.lastSendMessage':_0x3b0ffc[_0x30773c(0x30a)]['lastSendMessage'],'chatLog.lastReceivedMessage':_0x3b0ffc[_0x30773c(0x30a)][_0x30773c(0x3db)],'chatLog.chatVariables':_0x12baee,'chatLog.realVariables':_0x3b0ffc[_0x30773c(0x30a)][_0x30773c(0x3e7)],'status':_0x3b0ffc[_0x30773c(0x4c5)],'chatLog.blockLogs':_0x3b0ffc[_0x30773c(0x30a)][_0x30773c(0x52a)],'waitingPoll_id':_0x3b0ffc['waitingPoll_id'],'waitingPoll_name':_0x3b0ffc[_0x30773c(0x548)],'waitingPoll_replyOptions':_0x3b0ffc[_0x30773c(0x1af)]}},{'new':!0x0});if(_0x5958d5){this[_0x30773c(0x602)][_0x30773c(0x690)](this[_0x30773c(0x28e)]+'\x20('+this[_0x30773c(0x599)][_0x30773c(0x536)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x5958d5[_0x30773c(0x2ca)]);let _0x854fc3=await I['findOneAndUpdate']({'id':_0x3b0ffc[_0x30773c(0x48b)],'owner':this[_0x30773c(0x599)][_0x30773c(0x536)]},{'$set':{'leadInfo.nome':_0x1781a5[_0x30773c(0x506)],'leadInfo.nomecompleto':_0x1781a5[_0x30773c(0x53b)],'leadInfo.email':_0x1781a5[_0x30773c(0x59e)],'leadInfo.cpf':_0x1781a5[_0x30773c(0x200)],'leadInfo.status':_0x1781a5[_0x30773c(0x4c5)],'leadInfo.notas':_0x1781a5[_0x30773c(0x6a2)],'leadInfo.responsavelid':_0x1781a5[_0x30773c(0x5fc)],'leadInfo.tags':_0x1781a5[_0x30773c(0x61c)],'leadInfo.customFields':_0x48edcd}},{'new':!0x0,'upsert':!0x0});_0x854fc3?(this[_0x30773c(0x602)][_0x30773c(0x690)](this[_0x30773c(0x28e)]+'\x20('+this[_0x30773c(0x599)][_0x30773c(0x536)]+'):\x20Chat\x20atualizado\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x854fc3[_0x30773c(0x2ca)]),H(this[_0x30773c(0x28e)],_0x30773c(0x299),{'chat':_0x854fc3})):this[_0x30773c(0x602)]['error'](this[_0x30773c(0x28e)]+'\x20('+this[_0x30773c(0x599)][_0x30773c(0x536)]+_0x30773c(0x469));}else this[_0x30773c(0x602)][_0x30773c(0x197)](this[_0x30773c(0x28e)]+'\x20('+this[_0x30773c(0x599)][_0x30773c(0x536)]+_0x30773c(0x342));}catch(_0x3c6376){this[_0x30773c(0x602)]['error'](this['instanceName']+'\x20('+this[_0x30773c(0x599)][_0x30773c(0x536)]+_0x30773c(0x44d)+JSON[_0x30773c(0x409)](_0x3c6376));}}async['updateChat'](_0x59127f,_0x354eba){const _0x3b615c=a0_0x28e68b;try{let _0x1445e5=await I[_0x3b615c(0x4bb)]({'id':_0x59127f[_0x3b615c(0x48b)],'owner':_0x59127f[_0x3b615c(0x32c)]},{'$set':{'desativadoFluxoAte':_0x354eba}},{'new':!0x0});this['logger'][_0x3b615c(0x690)](this[_0x3b615c(0x28e)]+'\x20('+this[_0x3b615c(0x599)][_0x3b615c(0x536)]+_0x3b615c(0x4d5)+_0x59127f['_id']),_0x1445e5&&H(this[_0x3b615c(0x28e)],_0x3b615c(0x299),{'chat':_0x1445e5});}catch(_0x20e55c){this[_0x3b615c(0x602)][_0x3b615c(0x197)](this[_0x3b615c(0x28e)]+'\x20('+this[_0x3b615c(0x599)][_0x3b615c(0x536)]+_0x3b615c(0x606)+JSON[_0x3b615c(0x409)](_0x20e55c));}}async['findFlow'](_0x1338bf,_0x48952e){const _0x462d5f=a0_0x28e68b;try{this[_0x462d5f(0x602)][_0x462d5f(0x690)](this[_0x462d5f(0x28e)]+'\x20('+this[_0x462d5f(0x599)][_0x462d5f(0x536)]+_0x462d5f(0x505));let _0x245f66=_0x48952e[_0x462d5f(0x5eb)](/\D/g,''),_0x44f0a1=await D[_0x462d5f(0x1a2)]({'owner':_0x1338bf,'testingWith':_0x245f66});return _0x44f0a1||(this[_0x462d5f(0x602)][_0x462d5f(0x690)](this[_0x462d5f(0x28e)]+'\x20('+this[_0x462d5f(0x599)]['wuid']+_0x462d5f(0x4d3)),_0x44f0a1=await D[_0x462d5f(0x1a2)]({'owner':_0x1338bf,'default':!0x0})),_0x44f0a1||(this['logger']['verbose'](this[_0x462d5f(0x28e)]+'\x20('+this[_0x462d5f(0x599)][_0x462d5f(0x536)]+_0x462d5f(0x41b)),null);}catch(_0x1c40b2){return this[_0x462d5f(0x602)][_0x462d5f(0x197)](this[_0x462d5f(0x28e)]+'\x20('+this[_0x462d5f(0x599)][_0x462d5f(0x536)]+_0x462d5f(0x16f)+_0x1c40b2),null;}}async[a0_0x28e68b(0x2c8)](_0xa30eb8,_0x2a9c1f,_0x51dbc6){const _0x7bdc25=a0_0x28e68b;try{let _0x4d8863=!!_0x51dbc6[_0x7bdc25(0x573)],_0x28fbcb=_0x51dbc6['poll_id'],_0x21a557=null;if(this[_0x7bdc25(0x602)][_0x7bdc25(0x690)](this[_0x7bdc25(0x28e)]+'\x20('+this[_0x7bdc25(0x599)][_0x7bdc25(0x536)]+'):\x20isVote'+_0x4d8863+_0x7bdc25(0x166)+_0x28fbcb),_0x4d8863)return this[_0x7bdc25(0x602)][_0x7bdc25(0x690)](this['instanceName']+'\x20('+this[_0x7bdc25(0x599)][_0x7bdc25(0x536)]+_0x7bdc25(0x3d3)),_0x21a557=await G[_0x7bdc25(0x1a2)]({'owner':_0xa30eb8,'remoteJid':_0x2a9c1f,'waitingPoll_id':_0x28fbcb}),_0x21a557?(_0x21a557[_0x7bdc25(0x5dd)]=Date['now'](),_0x21a557[_0x7bdc25(0x30a)][_0x7bdc25(0x3db)]=_0x51dbc6,_0x21a557):(this[_0x7bdc25(0x602)][_0x7bdc25(0x690)](this['instanceName']+'\x20('+this['instance'][_0x7bdc25(0x536)]+'):\x20não\x20encontrou'),null);{if(this[_0x7bdc25(0x602)][_0x7bdc25(0x690)](this['instanceName']+'\x20('+this['instance'][_0x7bdc25(0x536)]+'):\x20'+this['instance'][_0x7bdc25(0x536)]+_0x7bdc25(0x1a6)),this[_0x7bdc25(0x602)][_0x7bdc25(0x690)](this['instanceName']+'\x20('+this[_0x7bdc25(0x599)][_0x7bdc25(0x536)]+_0x7bdc25(0x51a)),_0x21a557=await G[_0x7bdc25(0x1a2)]({'owner':_0xa30eb8,'remoteJid':_0x2a9c1f,'status':_0x7bdc25(0x679)}),!_0x21a557){let _0x5967b5=await this[_0x7bdc25(0x3d2)](_0xa30eb8,_0x2a9c1f);if(_0x5967b5&&(_0x21a557=await this[_0x7bdc25(0x1a3)](_0x5967b5,_0x51dbc6[_0x7bdc25(0x32e)],_0x51dbc6)),!_0x21a557)return null;}let _0x575ee2=Date[_0x7bdc25(0x5db)](),_0x4c50bb=_0x21a557?.[_0x7bdc25(0x3d9)]||0x0,_0x3e9abf=_0x575ee2-_0x4c50bb*0x3c*0x3e8;if(this[_0x7bdc25(0x602)][_0x7bdc25(0x690)](this['instanceName']+'\x20('+this[_0x7bdc25(0x599)][_0x7bdc25(0x536)]+'):\x20Current\x20Time:\x20'+_0x575ee2+_0x7bdc25(0x381)+_0x4c50bb+_0x7bdc25(0x2ee)+_0x3e9abf),this[_0x7bdc25(0x602)]['verbose'](this[_0x7bdc25(0x28e)]+'\x20('+this[_0x7bdc25(0x599)][_0x7bdc25(0x536)]+_0x7bdc25(0x6a9)),this[_0x7bdc25(0x602)][_0x7bdc25(0x690)](this[_0x7bdc25(0x28e)]+'\x20('+this[_0x7bdc25(0x599)][_0x7bdc25(0x536)]+_0x7bdc25(0x26c)+_0x21a557[_0x7bdc25(0x5dd)]),this[_0x7bdc25(0x602)]['verbose'](this[_0x7bdc25(0x28e)]+'\x20('+this[_0x7bdc25(0x599)][_0x7bdc25(0x536)]+'):\x20expirationTime:\x20'+_0x3e9abf),_0x21a557[_0x7bdc25(0x5dd)]<_0x3e9abf){this[_0x7bdc25(0x602)][_0x7bdc25(0x690)](this[_0x7bdc25(0x28e)]+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20está\x20expirada');let _0x32d3dd=await this['findFlow'](_0xa30eb8,_0x2a9c1f);if(_0x32d3dd===null)return null;_0x21a557&&await G[_0x7bdc25(0x150)]({'_id':_0x21a557[_0x7bdc25(0x2ca)]},{'status':'closed'}),_0x21a557=await this[_0x7bdc25(0x1a3)](_0x32d3dd,_0x51dbc6[_0x7bdc25(0x32e)],_0x51dbc6);}return _0x21a557[_0x7bdc25(0x5dd)]=_0x575ee2,_0x21a557[_0x7bdc25(0x30a)]['lastReceivedMessage']=_0x51dbc6,_0x21a557;}}catch(_0x6ba74f){return this['logger'][_0x7bdc25(0x197)](this[_0x7bdc25(0x28e)]+'\x20('+this[_0x7bdc25(0x599)][_0x7bdc25(0x536)]+_0x7bdc25(0x1ec)+_0x6ba74f),null;}}async[a0_0x28e68b(0x1a3)](_0x206664,_0x5ca91d,_0x282a28){const _0x12c095=a0_0x28e68b;this[_0x12c095(0x602)][_0x12c095(0x690)](this[_0x12c095(0x28e)]+'\x20('+this[_0x12c095(0x599)][_0x12c095(0x536)]+'):\x20Criando\x20nova\x20conversa');try{let _0x21569e=require(_0x12c095(0x41a))[_0x12c095(0x642)],_0x114b52=Date[_0x12c095(0x5db)](),_0x17f9ad=_0x12c095(0x117),_0x480e84=_0x5ca91d[_0x12c095(0x14f)]?null:_0x282a28,_0x4c7439=_0x5ca91d[_0x12c095(0x14f)]?_0x282a28:null,_0x45c1db=_0x5ca91d[_0x12c095(0x48b)],_0x3c4044={..._0x206664[_0x12c095(0x5c0)],'chatLog':null},_0x485267=await this[_0x12c095(0x5b3)](_0x3c4044[_0x12c095(0x2d7)]),_0x1f1ce8=await this[_0x12c095(0x350)](_0x45c1db),_0x13ca09={..._0x485267,..._0x1f1ce8},_0x1e126a={'lastReceivedMessage':_0x480e84,'lastSendMessage':_0x4c7439,'lastBlockId':_0x17f9ad,'lastCondition':!0x0,'realVariables':_0x13ca09};_0x3c4044[_0x12c095(0x30a)]=_0x1e126a,delete _0x3c4044[_0x12c095(0x2ca)],_0x3c4044[_0x12c095(0x2ca)]=new _0x21569e(),_0x3c4044['lastInteraction']=_0x114b52,_0x3c4044[_0x12c095(0x4c5)]=_0x12c095(0x679),_0x3c4044['remoteJid']=_0x45c1db;let _0x1ec56a=await G['create'](_0x3c4044);return this[_0x12c095(0x602)][_0x12c095(0x690)](this[_0x12c095(0x28e)]+'\x20('+this['instance'][_0x12c095(0x536)]+_0x12c095(0x2d2)),_0x1ec56a?_0x3c4044:null;}catch(_0x2162f5){return this[_0x12c095(0x602)][_0x12c095(0x197)](this[_0x12c095(0x28e)]+'\x20('+this['instance']['wuid']+_0x12c095(0x3ab)+_0x2162f5),_0x2162f5;}}async[a0_0x28e68b(0x246)](_0xfdec1b,_0x431b1a,_0xc3fa95){const _0x89acba=a0_0x28e68b;this[_0x89acba(0x602)][_0x89acba(0x690)](this['instanceName']+'\x20('+this[_0x89acba(0x599)][_0x89acba(0x536)]+_0x89acba(0x6b3));let _0x3abca0={'number':_0xc3fa95,'options':{'delay':_0x431b1a[_0x89acba(0x108)][_0x89acba(0x441)]},'textMessage':{'text':_0x431b1a[_0x89acba(0x108)][_0x89acba(0x265)]}};try{let _0x5370dc=await this[_0x89acba(0x33b)](_0x3abca0);if(_0x5370dc){let _0x4d5435={'_id':_0x5370dc[_0x89acba(0x32e)]['id'],'_fromMe':_0x5370dc[_0x89acba(0x32e)]['fromMe'],'_remoteJid':_0x5370dc[_0x89acba(0x32e)][_0x89acba(0x48b)]};_0xfdec1b[_0x89acba(0x30a)]['lastBlockId']=_0x431b1a['_id'][_0x89acba(0x3d0)]();let {message_normalized:_0x4436e8}=this['normalizeMessage'](_0x5370dc['message'],q(_0x5370dc[_0x89acba(0x283)]),null);_0xfdec1b[_0x89acba(0x30a)][_0x89acba(0x20b)]=await _0x4436e8;let _0x5c0357={'messageId':_0x5370dc[_0x89acba(0x32e)]['id']},_0x2bc182=_0xfdec1b[_0x89acba(0x30a)]['realVariables'];Object[_0x89acba(0x1e2)](_0x2bc182,_0x4d5435),_0xfdec1b['chatLog']['realVariables']=_0x2bc182,this[_0x89acba(0x407)](_0xfdec1b,_0x431b1a,_0x5c0357);}else{let _0x8ce113={'error':!0x0};this[_0x89acba(0x407)](_0xfdec1b,_0x431b1a,_0x8ce113),this[_0x89acba(0x602)][_0x89acba(0x197)](this[_0x89acba(0x28e)]+'\x20('+this[_0x89acba(0x599)][_0x89acba(0x536)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x58dfcb){let _0x597c0c={'error':!0x0,'errorLog':_0x58dfcb[_0x89acba(0x3d0)]()};this[_0x89acba(0x407)](_0xfdec1b,_0x431b1a,_0x597c0c),this[_0x89acba(0x602)]['error'](this[_0x89acba(0x28e)]+'\x20('+this['instance']['wuid']+_0x89acba(0x5b0)+_0x58dfcb['toString']());}}async['uazapiSendMedia'](_0x3c4456,_0x3d4a54,_0x4c8f93){const _0x4c705b=a0_0x28e68b;this[_0x4c705b(0x602)]['verbose'](this[_0x4c705b(0x28e)]+'\x20('+this['instance']['wuid']+_0x4c705b(0x2a2));let _0x22c8ad={'number':_0x4c8f93,'options':{'delay':_0x3d4a54[_0x4c705b(0x108)]['delay']},'mediaMessage':{'mediatype':_0x3d4a54[_0x4c705b(0x108)][_0x4c705b(0x50f)],'caption':_0x3d4a54[_0x4c705b(0x108)][_0x4c705b(0x52d)],'media':_0x3d4a54[_0x4c705b(0x108)]['media']}};try{let _0x45b477=await this['mediaMessage'](_0x22c8ad);if(_0x45b477){let _0x29184e={'_id':_0x45b477['key']['id'],'_fromMe':_0x45b477[_0x4c705b(0x32e)][_0x4c705b(0x14f)],'_remoteJid':_0x45b477[_0x4c705b(0x32e)][_0x4c705b(0x48b)]};_0x3c4456['chatLog'][_0x4c705b(0x648)]=_0x3d4a54['_id'][_0x4c705b(0x3d0)]();let {message_normalized:_0x1b1644}=this[_0x4c705b(0x2c2)](_0x45b477[_0x4c705b(0x283)],q(_0x45b477[_0x4c705b(0x283)]),null);_0x3c4456[_0x4c705b(0x30a)][_0x4c705b(0x20b)]=await _0x1b1644;let _0x3330ff={'messageId':_0x45b477[_0x4c705b(0x32e)]['id']},_0x40f164=_0x3c4456['chatLog'][_0x4c705b(0x3e7)];Object[_0x4c705b(0x1e2)](_0x40f164,_0x29184e),_0x3c4456[_0x4c705b(0x30a)][_0x4c705b(0x3e7)]=_0x40f164,this[_0x4c705b(0x407)](_0x3c4456,_0x3d4a54,_0x3330ff);}else{let _0x4cb398={'error':!0x0};this[_0x4c705b(0x407)](_0x3c4456,_0x3d4a54,_0x4cb398),this[_0x4c705b(0x602)]['error'](this[_0x4c705b(0x28e)]+'\x20('+this[_0x4c705b(0x599)][_0x4c705b(0x536)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x488f71){let _0x987787={'error':!0x0,'errorLog':_0x488f71[_0x4c705b(0x3d0)]()};this[_0x4c705b(0x407)](_0x3c4456,_0x3d4a54,_0x987787),this[_0x4c705b(0x602)][_0x4c705b(0x197)](this[_0x4c705b(0x28e)]+'\x20('+this['instance'][_0x4c705b(0x536)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+_0x488f71[_0x4c705b(0x3d0)]());}}async['uazapiSendLocation'](_0x42d28c,_0x2e5ff9,_0x2dbd1b){const _0x3e26e5=a0_0x28e68b;this[_0x3e26e5(0x602)]['verbose'](this[_0x3e26e5(0x28e)]+'\x20('+this[_0x3e26e5(0x599)][_0x3e26e5(0x536)]+'):\x20Enviando\x20localização');let _0x2d494d={'number':_0x2dbd1b,'options':{'delay':_0x2e5ff9['uazapi']['delay']},'locationMessage':{'name':_0x2e5ff9[_0x3e26e5(0x108)][_0x3e26e5(0x35d)],'address':_0x2e5ff9[_0x3e26e5(0x108)][_0x3e26e5(0x66c)],'latitude':_0x2e5ff9['uazapi'][_0x3e26e5(0x53d)],'longitude':_0x2e5ff9['uazapi'][_0x3e26e5(0x2d9)]}};try{let _0x1f8960=await this[_0x3e26e5(0x4d6)](_0x2d494d);if(_0x1f8960){let _0x3e38c0={'_id':_0x1f8960[_0x3e26e5(0x32e)]['id'],'_fromMe':_0x1f8960['key'][_0x3e26e5(0x14f)],'_remoteJid':_0x1f8960[_0x3e26e5(0x32e)]['remoteJid']};_0x42d28c[_0x3e26e5(0x30a)][_0x3e26e5(0x648)]=_0x2e5ff9[_0x3e26e5(0x2ca)][_0x3e26e5(0x3d0)]();let {message_normalized:_0x541756}=this['normalizeMessage'](_0x1f8960[_0x3e26e5(0x283)],q(_0x1f8960[_0x3e26e5(0x283)]),null);_0x42d28c[_0x3e26e5(0x30a)][_0x3e26e5(0x20b)]=await _0x541756;let _0x1d9e6c={'messageId':_0x1f8960[_0x3e26e5(0x32e)]['id']},_0x20ea44=_0x42d28c[_0x3e26e5(0x30a)]['realVariables'];Object['assign'](_0x20ea44,_0x3e38c0),_0x42d28c['chatLog']['realVariables']=_0x20ea44,this[_0x3e26e5(0x407)](_0x42d28c,_0x2e5ff9,_0x1d9e6c);}else{let _0x269954={'error':!0x0};this['updateConversation'](_0x42d28c,_0x2e5ff9,_0x269954),this['logger'][_0x3e26e5(0x197)](this[_0x3e26e5(0x28e)]+'\x20('+this[_0x3e26e5(0x599)][_0x3e26e5(0x536)]+_0x3e26e5(0x2f6));}}catch(_0x1090ad){let _0x582e81={'error':!0x0,'errorLog':_0x1090ad[_0x3e26e5(0x3d0)]()};this[_0x3e26e5(0x407)](_0x42d28c,_0x2e5ff9,_0x582e81),this[_0x3e26e5(0x602)]['error'](this[_0x3e26e5(0x28e)]+'\x20('+this[_0x3e26e5(0x599)][_0x3e26e5(0x536)]+_0x3e26e5(0x588)+_0x1090ad['toString']());}}async[a0_0x28e68b(0x361)](_0x44d0b1,_0x6a379d,_0x2153b4){const _0x2ea1cd=a0_0x28e68b;this[_0x2ea1cd(0x602)][_0x2ea1cd(0x690)](this[_0x2ea1cd(0x28e)]+'\x20('+this[_0x2ea1cd(0x599)][_0x2ea1cd(0x536)]+_0x2ea1cd(0x3b5));let _0x581a97={'number':_0x2153b4,'options':{'delay':_0x6a379d[_0x2ea1cd(0x108)]['delay']},'audioMessage':{'audio':_0x6a379d['uazapi'][_0x2ea1cd(0x1ef)]}};try{let _0x5d2fcf=await this['audioWhatsapp'](_0x581a97);if(_0x5d2fcf){let _0x96d9cb={'_id':_0x5d2fcf[_0x2ea1cd(0x32e)]['id'],'_fromMe':_0x5d2fcf[_0x2ea1cd(0x32e)]['fromMe'],'_remoteJid':_0x5d2fcf[_0x2ea1cd(0x32e)][_0x2ea1cd(0x48b)]};_0x44d0b1[_0x2ea1cd(0x30a)][_0x2ea1cd(0x648)]=_0x6a379d[_0x2ea1cd(0x2ca)]['toString']();let {message_normalized:_0xc6801a}=this[_0x2ea1cd(0x2c2)](_0x5d2fcf[_0x2ea1cd(0x283)],q(_0x5d2fcf[_0x2ea1cd(0x283)]),null);_0x44d0b1['chatLog']['lastSendMessage']=await _0xc6801a;let _0x4f5680={'messageId':_0x5d2fcf[_0x2ea1cd(0x32e)]['id']},_0x25d994=_0x44d0b1[_0x2ea1cd(0x30a)]['realVariables'];Object[_0x2ea1cd(0x1e2)](_0x25d994,_0x96d9cb),_0x44d0b1[_0x2ea1cd(0x30a)][_0x2ea1cd(0x3e7)]=_0x25d994,this[_0x2ea1cd(0x407)](_0x44d0b1,_0x6a379d,_0x4f5680);}else{let _0x33433d={'error':!0x0};this['updateConversation'](_0x44d0b1,_0x6a379d,_0x33433d),this[_0x2ea1cd(0x602)][_0x2ea1cd(0x197)](this[_0x2ea1cd(0x28e)]+'\x20('+this[_0x2ea1cd(0x599)][_0x2ea1cd(0x536)]+_0x2ea1cd(0x4c2));}}catch(_0x441983){let _0x57c00a={'error':!0x0,'errorLog':_0x441983[_0x2ea1cd(0x3d0)]()};this['updateConversation'](_0x44d0b1,_0x6a379d,_0x57c00a),this['logger'][_0x2ea1cd(0x197)](this[_0x2ea1cd(0x28e)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+_0x441983['toString']());}}async[a0_0x28e68b(0x2a7)](_0x4eb095,_0x263626,_0x535824){const _0x3e3d0f=a0_0x28e68b;this[_0x3e3d0f(0x602)]['verbose'](this[_0x3e3d0f(0x28e)]+'\x20('+this[_0x3e3d0f(0x599)]['wuid']+_0x3e3d0f(0x144));let _0x1fd4c0={'number':_0x535824,'options':{'delay':_0x263626[_0x3e3d0f(0x108)][_0x3e3d0f(0x441)]},'contactMessage':[{'fullName':_0x263626[_0x3e3d0f(0x108)][_0x3e3d0f(0x3cc)],'phoneNumber':_0x263626[_0x3e3d0f(0x108)]['phoneNumber']}]};try{let _0x3e9a25=await this['contactMessage'](_0x1fd4c0);if(_0x3e9a25){let _0x42012a={'_id':_0x3e9a25['key']['id'],'_fromMe':_0x3e9a25[_0x3e3d0f(0x32e)][_0x3e3d0f(0x14f)],'_remoteJid':_0x3e9a25['key'][_0x3e3d0f(0x48b)]};_0x4eb095[_0x3e3d0f(0x30a)][_0x3e3d0f(0x648)]=_0x263626[_0x3e3d0f(0x2ca)][_0x3e3d0f(0x3d0)]();let {message_normalized:_0x217666}=this[_0x3e3d0f(0x2c2)](_0x3e9a25['message'],q(_0x3e9a25[_0x3e3d0f(0x283)]),null);_0x4eb095[_0x3e3d0f(0x30a)][_0x3e3d0f(0x20b)]=await _0x217666;let _0x4d55a3={'messageId':_0x3e9a25['key']['id']},_0x3a6cb5=_0x4eb095[_0x3e3d0f(0x30a)]['realVariables'];Object[_0x3e3d0f(0x1e2)](_0x3a6cb5,_0x42012a),_0x4eb095['chatLog'][_0x3e3d0f(0x3e7)]=_0x3a6cb5,this['updateConversation'](_0x4eb095,_0x263626,_0x4d55a3);}else{let _0x210030={'error':!0x0};this[_0x3e3d0f(0x407)](_0x4eb095,_0x263626,_0x210030),this['logger'][_0x3e3d0f(0x197)](this[_0x3e3d0f(0x28e)]+'\x20('+this[_0x3e3d0f(0x599)]['wuid']+_0x3e3d0f(0x147));}}catch(_0x4b7e3e){let _0x2ec017={'error':!0x0,'errorLog':_0x4b7e3e[_0x3e3d0f(0x3d0)]()};this[_0x3e3d0f(0x407)](_0x4eb095,_0x263626,_0x2ec017),this[_0x3e3d0f(0x602)][_0x3e3d0f(0x197)](this[_0x3e3d0f(0x28e)]+'\x20('+this[_0x3e3d0f(0x599)]['wuid']+_0x3e3d0f(0x36d)+_0x4b7e3e[_0x3e3d0f(0x3d0)]());}}['replaceVariablesInReplyOptions'](_0x28ec8b,_0x539eb0){const _0xc78ff1=a0_0x28e68b;for(let _0x4b1d92 of _0x28ec8b)_0x4b1d92[_0xc78ff1(0x333)]&&(_0x4b1d92[_0xc78ff1(0x333)]=this[_0xc78ff1(0x600)](_0x4b1d92[_0xc78ff1(0x333)],_0x539eb0)),_0x4b1d92['optionDescription']&&(_0x4b1d92[_0xc78ff1(0x5cf)]=this[_0xc78ff1(0x600)](_0x4b1d92[_0xc78ff1(0x5cf)],_0x539eb0));}async['uazapiSendPoll'](_0x3debc3,_0x3b20c9,_0x2599c8){const _0x9bba43=a0_0x28e68b;this[_0x9bba43(0x602)][_0x9bba43(0x690)](this[_0x9bba43(0x28e)]+'\x20('+this[_0x9bba43(0x599)][_0x9bba43(0x536)]+_0x9bba43(0x43c));let _0x309656=_0x3debc3[_0x9bba43(0x2cb)][_0x9bba43(0x6af)](_0xef44dd=>_0xef44dd[_0x9bba43(0x31f)]===_0x3b20c9[_0x9bba43(0x2ca)]);this['replaceVariablesInReplyOptions'](_0x309656,_0x3debc3['chatLog'][_0x9bba43(0x3e7)]);let _0x362db1=_0x309656['map'](_0x5f350d=>_0x5f350d['option']),_0x263331={'number':_0x2599c8,'options':{'delay':_0x3b20c9[_0x9bba43(0x108)]['delay']},'pollMessage':{'name':_0x3b20c9[_0x9bba43(0x108)][_0x9bba43(0x35d)],'selectableCount':0x1,'values':_0x362db1}};try{let _0x2acb6c=await this['pollMessage'](_0x263331);if(_0x2acb6c){let _0x46aa9a={'_id':_0x2acb6c[_0x9bba43(0x32e)]['id'],'_fromMe':_0x2acb6c[_0x9bba43(0x32e)]['fromMe'],'_remoteJid':_0x2acb6c[_0x9bba43(0x32e)][_0x9bba43(0x48b)]};this[_0x9bba43(0x602)][_0x9bba43(0x690)](this[_0x9bba43(0x28e)]+'\x20('+this[_0x9bba43(0x599)]['wuid']+'):\x20nextBlock.uazapi.name'+_0x3b20c9[_0x9bba43(0x108)][_0x9bba43(0x35d)]),_0x3debc3[_0x9bba43(0x561)]=_0x2acb6c['key']['id'],_0x3debc3['waitingPoll_name']=_0x3b20c9[_0x9bba43(0x108)]['name'],_0x3debc3['waitingPoll_replyOptions']=_0x309656,this[_0x9bba43(0x602)]['verbose'](this[_0x9bba43(0x28e)]+'\x20('+this[_0x9bba43(0x599)][_0x9bba43(0x536)]+_0x9bba43(0x5a0)+_0x3debc3['waitingPoll_name']),_0x3debc3['chatLog'][_0x9bba43(0x648)]=_0x3b20c9[_0x9bba43(0x2ca)][_0x9bba43(0x3d0)]();let {message_normalized:_0x277cc3}=this[_0x9bba43(0x2c2)](_0x2acb6c['message'],q(_0x2acb6c['message']),null);_0x3debc3['chatLog']['lastSendMessage']=await _0x277cc3;let _0x482e93={'messageId':_0x2acb6c['key']['id']},_0x1c6185=_0x3debc3[_0x9bba43(0x30a)][_0x9bba43(0x3e7)];Object[_0x9bba43(0x1e2)](_0x1c6185,_0x46aa9a),_0x3debc3[_0x9bba43(0x30a)][_0x9bba43(0x3e7)]=_0x1c6185,this[_0x9bba43(0x407)](_0x3debc3,_0x3b20c9,_0x482e93);}else{let _0x5dd87b={'error':!0x0};this['updateConversation'](_0x3debc3,_0x3b20c9,_0x5dd87b),this[_0x9bba43(0x602)][_0x9bba43(0x197)](this['instanceName']+'\x20('+this[_0x9bba43(0x599)][_0x9bba43(0x536)]+_0x9bba43(0x4e1));}}catch(_0x56125e){let _0x38f963={'error':!0x0,'errorLog':_0x56125e[_0x9bba43(0x3d0)]()};this['updateConversation'](_0x3debc3,_0x3b20c9,_0x38f963),this[_0x9bba43(0x602)]['error'](this[_0x9bba43(0x28e)]+'\x20('+this[_0x9bba43(0x599)][_0x9bba43(0x536)]+_0x9bba43(0x674)+_0x56125e[_0x9bba43(0x3d0)]());}}async['uazapiDeleteMessage'](_0x580800,_0x4d546b,_0x1f7088){const _0x581fc5=a0_0x28e68b;this[_0x581fc5(0x602)][_0x581fc5(0x690)](this['instanceName']+'\x20('+this['instance'][_0x581fc5(0x536)]+_0x581fc5(0x5fd));let _0x4b1940=_0x580800[_0x581fc5(0x30a)][_0x581fc5(0x52a)][_0x581fc5(0x1bc)](_0x2fbafd=>_0x2fbafd[_0x581fc5(0x31f)][_0x581fc5(0x3d0)]()===_0x4d546b['uazapi']['blockId'][_0x581fc5(0x3d0)]()),_0x3e5f76={'id':_0x4b1940['messageId'],'remoteJid':_0x4b1940[_0x581fc5(0x48b)],'fromMe':_0x4b1940['fromMe']};try{let _0x2795fe=await this[_0x581fc5(0x38a)](_0x3e5f76);if(_0x2795fe){_0x580800[_0x581fc5(0x30a)]['lastBlockId']=_0x4d546b[_0x581fc5(0x2ca)]['toString']();let {message_normalized:_0x25953f}=this[_0x581fc5(0x2c2)](_0x2795fe['message'],q(_0x2795fe[_0x581fc5(0x283)]),null);_0x580800[_0x581fc5(0x30a)][_0x581fc5(0x20b)]=await _0x25953f;let _0x677c82={};this[_0x581fc5(0x407)](_0x580800,_0x4d546b,_0x677c82);}else{let _0x57bc24={'error':!0x0};this[_0x581fc5(0x407)](_0x580800,_0x4d546b,_0x57bc24),this[_0x581fc5(0x602)][_0x581fc5(0x197)](this['instanceName']+'\x20('+this[_0x581fc5(0x599)][_0x581fc5(0x536)]+_0x581fc5(0x60d));}}catch(_0x1091b5){let _0x1bfdb3={'error':!0x0,'errorLog':_0x1091b5['toString']()};this['updateConversation'](_0x580800,_0x4d546b,_0x1bfdb3),this[_0x581fc5(0x602)][_0x581fc5(0x197)](this[_0x581fc5(0x28e)]+'\x20('+this[_0x581fc5(0x599)][_0x581fc5(0x536)]+_0x581fc5(0x157)+_0x1091b5[_0x581fc5(0x3d0)]());}}async[a0_0x28e68b(0x4f5)](_0x599f16){const _0x1873a6=a0_0x28e68b;try{if(this[_0x1873a6(0x602)][_0x1873a6(0x690)](this[_0x1873a6(0x28e)]+'\x20('+this[_0x1873a6(0x599)][_0x1873a6(0x536)]+_0x1873a6(0x385)),await D[_0x1873a6(0x1a2)]({'owner':this['instance'][_0x1873a6(0x536)],'name':_0x599f16[_0x1873a6(0x35d)]}))return{'message':_0x1873a6(0x28d)};_0x599f16[_0x1873a6(0x134)]===!0x0&&await D['updateMany']({'owner':this[_0x1873a6(0x599)][_0x1873a6(0x536)]},{'default':!0x1});let _0x915e8f=new ye[(_0x1873a6(0x308))][(_0x1873a6(0x642))](),_0x38f671={'_id':_0x915e8f,'default':!0x0,'title':_0x1873a6(0x2d1),'x':0x0,'y':0x0},_0x5077ae={'_id':new ye[(_0x1873a6(0x308))][(_0x1873a6(0x642))](),'order':0x1,'groupId':_0x915e8f[_0x1873a6(0x3d0)](),'type':_0x1873a6(0x117)};return await D[_0x1873a6(0x598)]({'owner':this[_0x1873a6(0x599)][_0x1873a6(0x536)],'name':_0x599f16[_0x1873a6(0x35d)],'groups':[_0x38f671],'blocks':[_0x5077ae],..._0x599f16});}catch(_0x50a53f){throw this[_0x1873a6(0x602)][_0x1873a6(0x197)](this['instanceName']+'\x20('+this[_0x1873a6(0x599)][_0x1873a6(0x536)]+_0x1873a6(0x669)+_0x50a53f),new m(_0x1873a6(0x69c)+_0x50a53f);}}async[a0_0x28e68b(0x2f2)](_0x479813){const _0x567dbb=a0_0x28e68b;try{return this['logger']['verbose'](this[_0x567dbb(0x28e)]+'\x20('+this['instance'][_0x567dbb(0x536)]+_0x567dbb(0x4ec)),await D[_0x567dbb(0x612)]({'owner':this[_0x567dbb(0x599)][_0x567dbb(0x536)],'name':_0x479813});}catch(_0x5bdc4a){return this[_0x567dbb(0x602)]['error'](this[_0x567dbb(0x28e)]+'\x20('+this[_0x567dbb(0x599)][_0x567dbb(0x536)]+_0x567dbb(0x689)+_0x5bdc4a),{'message':_0x567dbb(0x358)+_0x5bdc4a};}}async[a0_0x28e68b(0x571)](_0x4e8f95){const _0x51d5cd=a0_0x28e68b;try{this[_0x51d5cd(0x602)]['verbose'](this[_0x51d5cd(0x28e)]+'\x20('+this[_0x51d5cd(0x599)][_0x51d5cd(0x536)]+_0x51d5cd(0x505));let _0x244a0a=await D[_0x51d5cd(0x1a2)]({'owner':this[_0x51d5cd(0x599)][_0x51d5cd(0x536)],'name':_0x4e8f95});if(!_0x244a0a)throw new Error(_0x51d5cd(0x6ac));if(!this[_0x51d5cd(0x3ce)]&&(await this[_0x51d5cd(0x105)](),!this['AutomateSystem']))return null;let _0x758f30=this[_0x51d5cd(0x3ce)][_0x51d5cd(0x43b)]['map'](_0x5ade62=>_0x5ade62[_0x51d5cd(0x35d)]),_0x1c9d31=[_0x51d5cd(0x506),_0x51d5cd(0x53b),_0x51d5cd(0x59e),'cpf','status',_0x51d5cd(0x6a2),'responsavelid',_0x51d5cd(0x61c)];return _0x244a0a[_0x51d5cd(0x2d7)]=_0x244a0a[_0x51d5cd(0x2d7)]['filter'](_0x53f76a=>!_0x1c9d31[_0x51d5cd(0x447)](_0x53f76a[_0x51d5cd(0x35d)])),_0x1c9d31[_0x51d5cd(0x360)](_0x280adc=>{const _0x10daa4=_0x51d5cd;_0x244a0a['variables'][_0x10daa4(0x2ff)]({'folder':_0x10daa4(0x22c),'name':_0x280adc,'value':'','doc':'','leadInfo':!0x0});}),_0x244a0a[_0x51d5cd(0x2d7)]=_0x244a0a[_0x51d5cd(0x2d7)][_0x51d5cd(0x6af)](_0x4074e0=>!_0x758f30[_0x51d5cd(0x447)](_0x4074e0[_0x51d5cd(0x35d)])),_0x758f30[_0x51d5cd(0x360)](_0x2eec01=>{const _0x46d100=_0x51d5cd;_0x244a0a[_0x46d100(0x2d7)][_0x46d100(0x1b5)](_0x2d0de9=>_0x2d0de9[_0x46d100(0x35d)]===_0x2eec01&&_0x2d0de9[_0x46d100(0x22c)]===!0x0)||_0x244a0a[_0x46d100(0x2d7)][_0x46d100(0x2ff)]({'folder':_0x46d100(0x22c),'name':_0x2eec01,'value':'','doc':'','leadInfo':!0x0});}),await _0x244a0a[_0x51d5cd(0x643)](),_0x244a0a;}catch(_0x179b09){throw this[_0x51d5cd(0x602)][_0x51d5cd(0x197)](this['instanceName']+'\x20('+this[_0x51d5cd(0x599)][_0x51d5cd(0x536)]+_0x51d5cd(0x14e)+_0x179b09),new m(_0x51d5cd(0xfc)+_0x179b09);}}async[a0_0x28e68b(0x130)](){const _0x27ed1e=a0_0x28e68b;try{return this[_0x27ed1e(0x602)][_0x27ed1e(0x690)](this[_0x27ed1e(0x28e)]+'\x20('+this[_0x27ed1e(0x599)][_0x27ed1e(0x536)]+_0x27ed1e(0x3a9)),await D['find']({'owner':this['instance'][_0x27ed1e(0x536)]});}catch(_0x27d071){return this[_0x27ed1e(0x602)][_0x27ed1e(0x197)](this['instanceName']+'\x20('+this[_0x27ed1e(0x599)][_0x27ed1e(0x536)]+_0x27ed1e(0x349)+_0x27d071),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+_0x27d071};}}async[a0_0x28e68b(0x31c)](_0x13f7ae){const _0x393fa5=a0_0x28e68b;try{this['logger'][_0x393fa5(0x690)](this[_0x393fa5(0x28e)]+'\x20('+this[_0x393fa5(0x599)][_0x393fa5(0x536)]+_0x393fa5(0x51c));let _0x13fcb7=await D['findOne']({'owner':this[_0x393fa5(0x599)][_0x393fa5(0x536)],'name':_0x13f7ae[_0x393fa5(0x35d)]});if(!_0x13fcb7)return{'message':_0x393fa5(0x25f)};if(_0x13f7ae[_0x393fa5(0x134)]===!0x0&&await D[_0x393fa5(0x209)]({'owner':this['instance']['wuid']},{'default':!0x1}),_0x13f7ae[_0x393fa5(0x5bb)]){if(await D['findOne']({'owner':this[_0x393fa5(0x599)][_0x393fa5(0x536)],'name':_0x13f7ae[_0x393fa5(0x5bb)]}))return{'message':_0x393fa5(0x365)};_0x13f7ae['name']=_0x13f7ae[_0x393fa5(0x5bb)],delete _0x13f7ae['newName'];}return await D[_0x393fa5(0x4ba)](_0x13fcb7[_0x393fa5(0x2ca)],{'$set':_0x13f7ae},{'new':!0x0});}catch(_0x38971a){throw this[_0x393fa5(0x602)][_0x393fa5(0x197)](this[_0x393fa5(0x28e)]+'\x20('+this[_0x393fa5(0x599)][_0x393fa5(0x536)]+_0x393fa5(0x452)+_0x38971a),new m(_0x393fa5(0x634)+_0x38971a);}}async['editFlowBlock'](_0x183a12){const _0x2753bf=a0_0x28e68b;try{this[_0x2753bf(0x602)][_0x2753bf(0x690)](this[_0x2753bf(0x28e)]+'\x20('+this[_0x2753bf(0x599)][_0x2753bf(0x536)]+_0x2753bf(0x182));let _0x40298c={'owner':this[_0x2753bf(0x599)][_0x2753bf(0x536)],'name':_0x183a12['name']},_0x4d9a76=await D[_0x2753bf(0x1a2)](_0x40298c);_0x4d9a76||this['throwAndLogError'](_0x2753bf(0x6ac));let {block:_0x287187}=_0x183a12;return _0x287187?.[_0x2753bf(0x4c7)]?this[_0x2753bf(0x300)](_0x4d9a76,_0x183a12):_0x287187[_0x2753bf(0x2ca)]?await this[_0x2753bf(0x30f)](_0x4d9a76,_0x183a12):this[_0x2753bf(0x456)](_0x4d9a76,_0x183a12),await _0x4d9a76['save'](),_0x4d9a76;}catch(_0x22295e){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x22295e);}}[a0_0x28e68b(0x1e9)](_0x333fa8){const _0x10c156=a0_0x28e68b;throw this[_0x10c156(0x602)]['error'](this[_0x10c156(0x28e)]+'\x20('+this['instance'][_0x10c156(0x536)]+'):\x20'+_0x333fa8),new m(_0x333fa8);}[a0_0x28e68b(0x300)](_0x1cd558,_0x4808bd){const _0x3c9aa0=a0_0x28e68b;let {block:_0x457f1e}=_0x4808bd;if(_0x457f1e[_0x3c9aa0(0x1bd)]===_0x3c9aa0(0x117)){this[_0x3c9aa0(0x1e9)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x457f1e[_0x3c9aa0(0x2ca)]){this[_0x3c9aa0(0x1e9)](_0x3c9aa0(0x11d));return;}let _0x1c6c5e=_0x1cd558[_0x3c9aa0(0x205)][_0x3c9aa0(0x1bc)](_0x3cbabd=>_0x3cbabd['_id'][_0x3c9aa0(0x3d0)]()===_0x4808bd[_0x3c9aa0(0x65f)][_0x3c9aa0(0x2ca)][_0x3c9aa0(0x3d0)]());if(!_0x1c6c5e){this[_0x3c9aa0(0x1e9)](_0x3c9aa0(0x121)+_0x457f1e[_0x3c9aa0(0x2ca)]+_0x3c9aa0(0x102));return;}_0x1cd558['blocks']=_0x1cd558[_0x3c9aa0(0x205)]['filter'](_0x3748a4=>_0x3748a4['_id'][_0x3c9aa0(0x3d0)]()!==_0x4808bd['block'][_0x3c9aa0(0x2ca)][_0x3c9aa0(0x3d0)]()),_0x1cd558['conditions']=_0x1cd558[_0x3c9aa0(0x415)][_0x3c9aa0(0x6af)](_0x2c74cc=>_0x2c74cc[_0x3c9aa0(0x31f)]!==_0x457f1e[_0x3c9aa0(0x2ca)][_0x3c9aa0(0x3d0)]()),_0x1cd558['varedits']=_0x1cd558['varedits'][_0x3c9aa0(0x6af)](_0x35788b=>_0x35788b[_0x3c9aa0(0x31f)]!==_0x457f1e[_0x3c9aa0(0x2ca)]['toString']()),_0x1cd558[_0x3c9aa0(0x2cb)]=_0x1cd558[_0x3c9aa0(0x2cb)]['filter'](_0x4dba17=>_0x4dba17[_0x3c9aa0(0x31f)]!==_0x457f1e[_0x3c9aa0(0x2ca)]['toString']()),this[_0x3c9aa0(0x229)](_0x1cd558[_0x3c9aa0(0x205)],_0x1c6c5e['groupId']);}async[a0_0x28e68b(0x30f)](_0x4a686c,_0x1ff81e){const _0x7a8e54=a0_0x28e68b;let _0x17a500=_0x4a686c[_0x7a8e54(0x205)][_0x7a8e54(0x532)](_0x408c7b=>_0x408c7b[_0x7a8e54(0x2ca)]['toString']()===_0x1ff81e[_0x7a8e54(0x65f)][_0x7a8e54(0x2ca)][_0x7a8e54(0x3d0)]());if(this['logger'][_0x7a8e54(0x690)](this[_0x7a8e54(0x28e)]+'\x20('+this['instance'][_0x7a8e54(0x536)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x17a500),_0x17a500===-0x1){this[_0x7a8e54(0x602)]['verbose'](_0x7a8e54(0x121)+_0x1ff81e[_0x7a8e54(0x65f)][_0x7a8e54(0x2ca)]+_0x7a8e54(0x359));return;}if(_0x4a686c['blocks'][_0x17a500][_0x7a8e54(0x1bd)]===_0x7a8e54(0x117)){let _0x4ce635=Object['keys'](_0x1ff81e[_0x7a8e54(0x65f)]);if(_0x4ce635[_0x7a8e54(0x670)]>0x2||_0x4ce635[_0x7a8e54(0x670)]===0x2&&!_0x4ce635[_0x7a8e54(0x447)](_0x7a8e54(0x341))){this[_0x7a8e54(0x1e9)](_0x7a8e54(0x696));return;}}let _0x4192f6=_0x4a686c[_0x7a8e54(0x205)][_0x17a500][_0x7a8e54(0x3e9)];for(let _0x55200f in _0x1ff81e[_0x7a8e54(0x65f)])_0x1ff81e[_0x7a8e54(0x65f)][_0x7a8e54(0x220)](_0x55200f)&&(_0x4a686c[_0x7a8e54(0x205)][_0x17a500][_0x55200f]=_0x1ff81e[_0x7a8e54(0x65f)][_0x55200f]);if(this['logger'][_0x7a8e54(0x690)](this[_0x7a8e54(0x28e)]+'\x20('+this['instance'][_0x7a8e54(0x536)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x7a8e54(0x409)](_0x4a686c[_0x7a8e54(0x205)][_0x17a500])),_0x4a686c[_0x7a8e54(0x205)][_0x17a500]['apirequest']&&_0x7a8e54(0x37b)in _0x4a686c[_0x7a8e54(0x205)][_0x17a500][_0x7a8e54(0x2ea)]){this[_0x7a8e54(0x602)][_0x7a8e54(0x690)](this[_0x7a8e54(0x28e)]+'\x20('+this['instance'][_0x7a8e54(0x536)]+_0x7a8e54(0x2bc));let _0x3d94fc=JSON[_0x7a8e54(0x409)](_0x4a686c[_0x7a8e54(0x205)][_0x17a500][_0x7a8e54(0x2ea)][_0x7a8e54(0x37b)],null,0x1);_0x3d94fc[_0x7a8e54(0x670)]>0x2&&(_0x3d94fc=_0x3d94fc[_0x7a8e54(0x293)](0x1,_0x3d94fc[_0x7a8e54(0x670)]-0x1)[_0x7a8e54(0x1be)]()),_0x4a686c[_0x7a8e54(0x205)][_0x17a500]['apirequest'][_0x7a8e54(0x501)]=_0x3d94fc;}if(_0x4a686c['blocks'][_0x17a500][_0x7a8e54(0x2ea)]&&_0x7a8e54(0x69f)in _0x4a686c[_0x7a8e54(0x205)][_0x17a500]['apirequest']){this[_0x7a8e54(0x602)][_0x7a8e54(0x690)](this[_0x7a8e54(0x28e)]+'\x20('+this['instance']['wuid']+_0x7a8e54(0x38c));let _0x1b7214=JSON[_0x7a8e54(0x409)](_0x4a686c[_0x7a8e54(0x205)][_0x17a500][_0x7a8e54(0x2ea)]['body'],null,0x1);_0x1b7214['length']>0x2&&(_0x1b7214=_0x1b7214[_0x7a8e54(0x293)](0x1,_0x1b7214['length']-0x1)[_0x7a8e54(0x1be)]()),_0x4a686c[_0x7a8e54(0x205)][_0x17a500][_0x7a8e54(0x2ea)]['bodyString']=_0x1b7214;}let _0x4fb017=_0x4a686c['blocks'][_0x17a500][_0x7a8e54(0x3e9)];_0x4192f6!==_0x4fb017?(this[_0x7a8e54(0x229)](_0x4a686c[_0x7a8e54(0x205)],_0x4192f6),this[_0x7a8e54(0x229)](_0x4a686c[_0x7a8e54(0x205)],_0x4fb017)):this[_0x7a8e54(0x229)](_0x4a686c['blocks'],_0x4192f6);}['addBlock'](_0x3a48c6,_0x3fc9f6){const _0x3d3320=a0_0x28e68b;if(_0x3fc9f6['block'][_0x3d3320(0x1bd)]===_0x3d3320(0x117)){this[_0x3d3320(0x1e9)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x3fc9f6['block'][_0x3d3320(0x2ea)]&&'header'in _0x3fc9f6[_0x3d3320(0x65f)]['apirequest']){this[_0x3d3320(0x602)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x3d3320(0x536)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x5112aa=JSON[_0x3d3320(0x409)](_0x3fc9f6['block'][_0x3d3320(0x2ea)]['header'],null,0x1);_0x5112aa[_0x3d3320(0x670)]>0x2&&(_0x5112aa=_0x5112aa['substring'](0x1,_0x5112aa[_0x3d3320(0x670)]-0x1)[_0x3d3320(0x1be)]()),_0x3fc9f6[_0x3d3320(0x65f)]['apirequest'][_0x3d3320(0x501)]=_0x5112aa;}_0x3fc9f6[_0x3d3320(0x65f)][_0x3d3320(0x2ea)]&&_0x3d3320(0x69f)in _0x3fc9f6[_0x3d3320(0x65f)][_0x3d3320(0x2ea)]&&(this['logger']['verbose'](this[_0x3d3320(0x28e)]+'\x20('+this[_0x3d3320(0x599)]['wuid']+_0x3d3320(0x38c)),_0x3fc9f6['block'][_0x3d3320(0x2ea)][_0x3d3320(0x389)]=JSON[_0x3d3320(0x409)](_0x3fc9f6[_0x3d3320(0x65f)][_0x3d3320(0x2ea)][_0x3d3320(0x69f)],null,0x1)['trim']()),_0x3a48c6[_0x3d3320(0x205)][_0x3d3320(0x2ff)](_0x3fc9f6[_0x3d3320(0x65f)]),this[_0x3d3320(0x229)](_0x3a48c6['blocks'],_0x3fc9f6['block'][_0x3d3320(0x3e9)]);}['reorderBlocks'](_0x33dbbb,_0x1147af){const _0x825611=a0_0x28e68b;let _0x375c96=_0x33dbbb['filter'](_0xeeb108=>_0xeeb108[_0x825611(0x3e9)]===_0x1147af);_0x375c96[_0x825611(0x659)]((_0x890aa1,_0x133010)=>_0x890aa1[_0x825611(0x448)]-_0x133010[_0x825611(0x448)]),_0x375c96[_0x825611(0x360)]((_0x46b8eb,_0x222584)=>_0x46b8eb['order']=_0x222584+0x1);}async[a0_0x28e68b(0x15a)](_0x137c05){const _0x204f92=a0_0x28e68b;try{if(this[_0x204f92(0x602)][_0x204f92(0x690)](this[_0x204f92(0x28e)]+'\x20('+this[_0x204f92(0x599)][_0x204f92(0x536)]+'):\x20Editando\x20replyOption...'),!_0x137c05||!_0x137c05['replyOption']){this[_0x204f92(0x1e9)](_0x204f92(0x30c));return;}let _0x1c9816={'owner':this[_0x204f92(0x599)]['wuid'],'name':_0x137c05[_0x204f92(0x35d)]},_0x5b309a=await D[_0x204f92(0x1a2)](_0x1c9816);_0x5b309a||this[_0x204f92(0x1e9)](_0x204f92(0x6ac));let {replyOption:_0x467d4a}=_0x137c05;return _0x467d4a?.['delete']?this[_0x204f92(0x450)](_0x5b309a,_0x137c05):_0x467d4a['_id']?await this['updateReplyOption'](_0x5b309a,_0x137c05):this[_0x204f92(0x583)](_0x5b309a,_0x137c05),await _0x5b309a[_0x204f92(0x643)](),_0x5b309a;}catch(_0xfa73a8){this[_0x204f92(0x1e9)](_0x204f92(0x37c)+_0xfa73a8);}}['deleteReplyOption'](_0x566558,_0x53b9fd){const _0x3ad050=a0_0x28e68b;let {replyOption:_0x11fc59}=_0x53b9fd;if(!_0x11fc59[_0x3ad050(0x2ca)]){this[_0x3ad050(0x1e9)](_0x3ad050(0x132));return;}if(!_0x566558[_0x3ad050(0x2cb)][_0x3ad050(0x1bc)](_0x110608=>_0x110608[_0x3ad050(0x2ca)][_0x3ad050(0x3d0)]()===_0x53b9fd[_0x3ad050(0x21c)][_0x3ad050(0x2ca)][_0x3ad050(0x3d0)]())){this[_0x3ad050(0x1e9)](_0x3ad050(0x189)+_0x11fc59[_0x3ad050(0x2ca)]+_0x3ad050(0x102));return;}_0x566558[_0x3ad050(0x2cb)]=_0x566558[_0x3ad050(0x2cb)]['filter'](_0x427f33=>_0x427f33[_0x3ad050(0x2ca)][_0x3ad050(0x3d0)]()!==_0x53b9fd[_0x3ad050(0x21c)][_0x3ad050(0x2ca)]['toString']());}async[a0_0x28e68b(0x24c)](_0x539162,_0xd98e50){const _0x209d2e=a0_0x28e68b;let _0x50b3b3=_0x539162[_0x209d2e(0x2cb)]['findIndex'](_0x3e0367=>_0x3e0367['_id'][_0x209d2e(0x3d0)]()===_0xd98e50[_0x209d2e(0x21c)][_0x209d2e(0x2ca)][_0x209d2e(0x3d0)]());if(_0x50b3b3===-0x1){this['throwAndLogError'](_0x209d2e(0x189)+_0xd98e50['replyOption'][_0x209d2e(0x2ca)]+_0x209d2e(0x359));return;}for(let _0x26759a in _0xd98e50[_0x209d2e(0x21c)])_0xd98e50[_0x209d2e(0x21c)][_0x209d2e(0x220)](_0x26759a)&&(_0x539162[_0x209d2e(0x2cb)][_0x50b3b3][_0x26759a]=_0xd98e50[_0x209d2e(0x21c)][_0x26759a]);}[a0_0x28e68b(0x583)](_0x2f21ef,_0xa1d2d8){const _0x42d89e=a0_0x28e68b;_0x2f21ef[_0x42d89e(0x2cb)][_0x42d89e(0x2ff)](_0xa1d2d8[_0x42d89e(0x21c)]);}async['editFlowGroup'](_0x52df2b){const _0x4cad43=a0_0x28e68b;this['logger'][_0x4cad43(0x690)](this[_0x4cad43(0x28e)]+'\x20('+this[_0x4cad43(0x599)]['wuid']+_0x4cad43(0x57a)+_0x52df2b);try{this[_0x4cad43(0x602)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x4cad43(0x536)]+_0x4cad43(0x582));let _0x4acd3c={'owner':this[_0x4cad43(0x599)][_0x4cad43(0x536)],'name':_0x52df2b[_0x4cad43(0x35d)]},_0x1c6e0a=await D[_0x4cad43(0x1a2)](_0x4acd3c);if(!_0x1c6e0a)throw new Error(_0x4cad43(0x6ac));if(_0x52df2b['group']&&_0x52df2b[_0x4cad43(0x392)]?.[_0x4cad43(0x4c7)]===!0x0){if(this['logger'][_0x4cad43(0x690)](this[_0x4cad43(0x28e)]+'\x20('+this[_0x4cad43(0x599)][_0x4cad43(0x536)]+_0x4cad43(0x285)),_0x52df2b[_0x4cad43(0x392)][_0x4cad43(0x134)]===!0x0)return{'message':_0x4cad43(0x1b2)};if(_0x1c6e0a[_0x4cad43(0x205)]['some'](_0x53ad67=>_0x53ad67['groupId']['toString']()===_0x52df2b[_0x4cad43(0x392)][_0x4cad43(0x2ca)]))return this[_0x4cad43(0x602)]['verbose'](this[_0x4cad43(0x28e)]+'\x20('+this[_0x4cad43(0x599)][_0x4cad43(0x536)]+_0x4cad43(0x35f)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x1c6e0a[_0x4cad43(0x6a6)]=_0x1c6e0a['groups']['filter'](_0x35476b=>_0x35476b['_id']['toString']()!==_0x52df2b['group'][_0x4cad43(0x2ca)]);}else{if(_0x52df2b['group']){if(_0x52df2b['group'][_0x4cad43(0x134)]===!0x0)return{'message':_0x4cad43(0x5f0)};if(_0x52df2b['group'][_0x4cad43(0x2ca)]){let _0xc6077c=_0x1c6e0a[_0x4cad43(0x6a6)]['find'](_0xf2cd6e=>_0xf2cd6e[_0x4cad43(0x2ca)]['toString']()===_0x52df2b[_0x4cad43(0x392)][_0x4cad43(0x2ca)]);_0xc6077c&&(_0x52df2b['group']['x']<0x0&&(_0x52df2b[_0x4cad43(0x392)]['x']=0x0),_0x52df2b[_0x4cad43(0x392)]['y']<0x0&&(_0x52df2b[_0x4cad43(0x392)]['y']=0x0),Object[_0x4cad43(0x1e2)](_0xc6077c,_0x52df2b[_0x4cad43(0x392)]));}else _0x1c6e0a[_0x4cad43(0x6a6)]['push'](_0x52df2b[_0x4cad43(0x392)]);}}return await _0x1c6e0a[_0x4cad43(0x643)](),_0x1c6e0a;}catch(_0x52a784){throw this[_0x4cad43(0x602)]['error'](this[_0x4cad43(0x28e)]+'\x20('+this[_0x4cad43(0x599)]['wuid']+_0x4cad43(0x539)+_0x52a784),new m(_0x4cad43(0x10d)+_0x52a784);}}async[a0_0x28e68b(0x61d)](_0x23e2ed){const _0x3ffd62=a0_0x28e68b;try{this['logger']['verbose'](this[_0x3ffd62(0x28e)]+'\x20('+this[_0x3ffd62(0x599)][_0x3ffd62(0x536)]+'):\x20Editando\x20condição\x20do\x20fluxo...');let _0x2bd6aa={'owner':this[_0x3ffd62(0x599)][_0x3ffd62(0x536)],'name':_0x23e2ed['name']},_0x4f6c1e=await D[_0x3ffd62(0x1a2)](_0x2bd6aa);if(!_0x4f6c1e)throw new Error(_0x3ffd62(0x6ac));let _0x352aac=!0x1;if(_0x23e2ed['condition']?.[_0x3ffd62(0x4c7)]===!0x0)_0x4f6c1e[_0x3ffd62(0x415)]=_0x4f6c1e[_0x3ffd62(0x415)][_0x3ffd62(0x6af)](_0x4d8e0a=>_0x4d8e0a&&_0x23e2ed[_0x3ffd62(0x3ec)]&&_0x4d8e0a[_0x3ffd62(0x2ca)]&&_0x23e2ed[_0x3ffd62(0x3ec)][_0x3ffd62(0x2ca)]&&_0x4d8e0a['_id']['toString']()!==_0x23e2ed[_0x3ffd62(0x3ec)][_0x3ffd62(0x2ca)][_0x3ffd62(0x3d0)]()),_0x352aac=!0x0;else{let _0x2ed8a0=_0x4f6c1e[_0x3ffd62(0x415)][_0x3ffd62(0x1bc)](_0x102620=>_0x102620&&_0x23e2ed[_0x3ffd62(0x3ec)]&&_0x102620[_0x3ffd62(0x2ca)]&&_0x23e2ed['condition']['_id']&&_0x102620[_0x3ffd62(0x2ca)][_0x3ffd62(0x3d0)]()===_0x23e2ed['condition']['_id'][_0x3ffd62(0x3d0)]());_0x2ed8a0?(_0x352aac=_0x2ed8a0[_0x3ffd62(0x448)]!==_0x23e2ed[_0x3ffd62(0x3ec)][_0x3ffd62(0x448)],Object['assign'](_0x2ed8a0,_0x23e2ed[_0x3ffd62(0x3ec)])):(_0x4f6c1e[_0x3ffd62(0x415)][_0x3ffd62(0x2ff)](_0x23e2ed[_0x3ffd62(0x3ec)]),_0x352aac=!0x0);}if(_0x352aac){_0x4f6c1e[_0x3ffd62(0x415)][_0x3ffd62(0x659)]((_0x343c15,_0x48c027)=>_0x343c15[_0x3ffd62(0x448)]>_0x48c027[_0x3ffd62(0x448)]?0x1:_0x48c027['order']>_0x343c15[_0x3ffd62(0x448)]?-0x1:0x0);for(let _0xf7e24c=0x0;_0xf7e24c<_0x4f6c1e[_0x3ffd62(0x415)][_0x3ffd62(0x670)];_0xf7e24c++)_0x4f6c1e[_0x3ffd62(0x415)][_0xf7e24c][_0x3ffd62(0x448)]=_0xf7e24c+0x1;_0x4f6c1e['conditions'][_0x3ffd62(0x670)]>0x0&&(_0x4f6c1e['conditions'][0x0]['OrAnd']=_0x3ffd62(0x21d));}return await _0x4f6c1e['save'](),_0x4f6c1e;}catch(_0x4be3b6){throw this['logger'][_0x3ffd62(0x197)](this[_0x3ffd62(0x28e)]+'\x20('+this[_0x3ffd62(0x599)][_0x3ffd62(0x536)]+_0x3ffd62(0x477)+_0x4be3b6),new Error('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+_0x4be3b6);}}async[a0_0x28e68b(0x38d)](_0xbe29cb){const _0x46a293=a0_0x28e68b;try{this[_0x46a293(0x602)]['verbose'](this[_0x46a293(0x28e)]+'\x20('+this[_0x46a293(0x599)]['wuid']+'):\x20Editando\x20edição\x20do\x20fluxo...');let _0x36ccae={'owner':this['instance'][_0x46a293(0x536)],'name':_0xbe29cb[_0x46a293(0x35d)]},_0x11a229=await D[_0x46a293(0x1a2)](_0x36ccae);if(!_0x11a229)throw new Error(_0x46a293(0x6ac));let _0x198bb8=!0x1;if(_0xbe29cb[_0x46a293(0x32b)]?.[_0x46a293(0x4c7)]===!0x0)_0x11a229[_0x46a293(0x485)]=_0x11a229['varedits'][_0x46a293(0x6af)](_0x3d26a6=>_0x3d26a6&&_0xbe29cb[_0x46a293(0x32b)]&&_0x3d26a6[_0x46a293(0x2ca)]&&_0xbe29cb[_0x46a293(0x32b)][_0x46a293(0x2ca)]&&_0x3d26a6[_0x46a293(0x2ca)][_0x46a293(0x3d0)]()!==_0xbe29cb[_0x46a293(0x32b)][_0x46a293(0x2ca)][_0x46a293(0x3d0)]()),_0x198bb8=!0x0;else{let _0x1a9d77=_0x11a229[_0x46a293(0x485)]['find'](_0x317e7b=>_0x317e7b&&_0xbe29cb[_0x46a293(0x32b)]&&_0x317e7b[_0x46a293(0x2ca)]&&_0xbe29cb['varedit'][_0x46a293(0x2ca)]&&_0x317e7b[_0x46a293(0x2ca)][_0x46a293(0x3d0)]()===_0xbe29cb[_0x46a293(0x32b)]['_id'][_0x46a293(0x3d0)]());_0x1a9d77?(_0x198bb8=_0x1a9d77[_0x46a293(0x448)]!==_0xbe29cb[_0x46a293(0x32b)][_0x46a293(0x448)],Object[_0x46a293(0x1e2)](_0x1a9d77,_0xbe29cb[_0x46a293(0x32b)])):(_0x11a229[_0x46a293(0x485)][_0x46a293(0x2ff)](_0xbe29cb[_0x46a293(0x32b)]),_0x198bb8=!0x0);}if(_0x198bb8){_0x11a229[_0x46a293(0x485)]['sort']((_0x436214,_0xed8f84)=>_0x436214['order']>_0xed8f84[_0x46a293(0x448)]?0x1:_0xed8f84[_0x46a293(0x448)]>_0x436214[_0x46a293(0x448)]?-0x1:0x0);for(let _0x2a11ed=0x0;_0x2a11ed<_0x11a229['varedits'][_0x46a293(0x670)];_0x2a11ed++)_0x11a229[_0x46a293(0x485)][_0x2a11ed][_0x46a293(0x448)]=_0x2a11ed+0x1;}return await _0x11a229['save'](),_0x11a229;}catch(_0x158d78){throw this[_0x46a293(0x602)][_0x46a293(0x197)](this[_0x46a293(0x28e)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+_0x158d78),new m('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+_0x158d78);}}async['editFlowVariable'](_0x3cf7ad){const _0x5f0ec9=a0_0x28e68b;try{this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x5f0ec9(0x599)]['wuid']+_0x5f0ec9(0x5a2));let _0x48051b={'owner':this[_0x5f0ec9(0x599)]['wuid'],'name':_0x3cf7ad[_0x5f0ec9(0x35d)]},_0xf31b0c=await D['findOne'](_0x48051b);if(!_0xf31b0c)throw new Error(_0x5f0ec9(0x6ac));_0x3cf7ad[_0x5f0ec9(0x686)][_0x5f0ec9(0x35d)]=_0x3cf7ad[_0x5f0ec9(0x686)]['name'][_0x5f0ec9(0x1be)](),_0x3cf7ad[_0x5f0ec9(0x686)][_0x5f0ec9(0x35d)][_0x5f0ec9(0x194)]('_')&&(_0x3cf7ad[_0x5f0ec9(0x686)][_0x5f0ec9(0x35d)]=_0x3cf7ad['variable']['name'][_0x5f0ec9(0x293)](0x1)),_0x3cf7ad[_0x5f0ec9(0x686)]['name']=_0x3cf7ad[_0x5f0ec9(0x686)][_0x5f0ec9(0x35d)][_0x5f0ec9(0x1be)]();let _0x1e25ea=_0xf31b0c['variables'][_0x5f0ec9(0x1bc)](_0x218e77=>_0x218e77[_0x5f0ec9(0x35d)]===_0x3cf7ad[_0x5f0ec9(0x686)][_0x5f0ec9(0x35d)]);if(_0x1e25ea?.[_0x5f0ec9(0x22c)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x3cf7ad[_0x5f0ec9(0x686)]?.[_0x5f0ec9(0x4c7)]===!0x0){if(!_0x1e25ea)return{'message':_0x5f0ec9(0x676)};_0xf31b0c[_0x5f0ec9(0x2d7)]=_0xf31b0c[_0x5f0ec9(0x2d7)][_0x5f0ec9(0x6af)](_0x1af042=>_0x1af042['name']!==_0x3cf7ad['variable']['name']);}else _0x1e25ea?Object['assign'](_0x1e25ea,_0x3cf7ad[_0x5f0ec9(0x686)]):_0xf31b0c[_0x5f0ec9(0x2d7)][_0x5f0ec9(0x2ff)](_0x3cf7ad[_0x5f0ec9(0x686)]);return await _0xf31b0c[_0x5f0ec9(0x643)](),_0xf31b0c;}catch(_0x49395e){throw this['logger']['error'](this[_0x5f0ec9(0x28e)]+'\x20('+this[_0x5f0ec9(0x599)]['wuid']+_0x5f0ec9(0x538)+_0x49395e),new m(_0x5f0ec9(0x12a)+_0x49395e);}}async['startFlow'](_0x56cc29){const _0x1204c6=a0_0x28e68b;try{if(!this[_0x1204c6(0x3ce)][_0x1204c6(0x138)][_0x1204c6(0x316)])throw new m(_0x1204c6(0x1dd));this[_0x1204c6(0x602)][_0x1204c6(0x690)](this[_0x1204c6(0x28e)]+'\x20('+this[_0x1204c6(0x599)][_0x1204c6(0x536)]+_0x1204c6(0x28b));let _0x172892=(await this['whatsappNumber']({'numbers':[_0x56cc29['remoteJid']]}))[0x0];if(!_0x172892[_0x1204c6(0x553)]&&!(0x0,w[_0x1204c6(0x564)])(_0x172892[_0x1204c6(0x522)])&&!_0x172892[_0x1204c6(0x522)][_0x1204c6(0x447)](_0x1204c6(0x4c6)))throw new m(_0x172892);let _0x235ebd=await D[_0x1204c6(0x1a2)]({'owner':this[_0x1204c6(0x599)][_0x1204c6(0x536)],'name':_0x56cc29['name']});if(!_0x235ebd)return this[_0x1204c6(0x602)][_0x1204c6(0x197)](this['instanceName']+'\x20('+this['instance'][_0x1204c6(0x536)]+'):\x20Flow\x20não\x20encontrado'),{'message':_0x1204c6(0x6ac)};let _0x46ed3b=await this[_0x1204c6(0x186)](_0x235ebd,_0x172892[_0x1204c6(0x522)],_0x56cc29[_0x1204c6(0x429)]);if(_0x46ed3b){this[_0x1204c6(0x602)]['verbose'](this[_0x1204c6(0x28e)]+'\x20('+this[_0x1204c6(0x599)][_0x1204c6(0x536)]+_0x1204c6(0x457));let _0x3cb11e=await this[_0x1204c6(0x5e6)](_0x46ed3b);return _0x3cb11e&&await this[_0x1204c6(0x3f1)](_0x46ed3b,_0x3cb11e,_0x46ed3b[_0x1204c6(0x48b)]),{'message':_0x1204c6(0x17f)+_0x56cc29['remoteJid']};}}catch(_0x26f4b8){if(this[_0x1204c6(0x602)][_0x1204c6(0x197)](this['instanceName']+'\x20('+this[_0x1204c6(0x599)][_0x1204c6(0x536)]+_0x1204c6(0x4be)+_0x26f4b8),_0x26f4b8&&_0x26f4b8[_0x1204c6(0x283)]&&Array[_0x1204c6(0x5f1)](_0x26f4b8['message'])&&_0x26f4b8[_0x1204c6(0x283)][0x0]){let {jid:_0x48713a,exists:_0x243334}=_0x26f4b8[_0x1204c6(0x283)][0x0];}throw new m(_0x1204c6(0x4b1)+_0x26f4b8[_0x1204c6(0x283)]);}}async[a0_0x28e68b(0x186)](_0x28232d,_0x14a7da,_0x368935){const _0xaec065=a0_0x28e68b;this[_0xaec065(0x602)][_0xaec065(0x690)](this['instanceName']+'\x20('+this[_0xaec065(0x599)][_0xaec065(0x536)]+_0xaec065(0x5fb));try{let _0x210a97=require(_0xaec065(0x41a))['ObjectId'],_0x47b321=Date[_0xaec065(0x5db)](),_0x54b16c=_0xaec065(0x117),_0x2867c3={},_0x331b73={},_0x27bbdb={..._0x28232d[_0xaec065(0x5c0)],'chatLog':null},_0xb9c957=await this[_0xaec065(0x5b3)](_0x27bbdb[_0xaec065(0x2d7)]),_0x312bb4=await this[_0xaec065(0x350)](_0x14a7da),_0x1b2691={..._0xb9c957,..._0x312bb4},_0x2ed2b0={'lastReceivedMessage':_0x2867c3,'lastSendMessage':_0x331b73,'lastBlockId':_0x54b16c,'lastCondition':!0x0,'realVariables':_0x1b2691};_0x27bbdb['chatLog']=_0x2ed2b0,_0x27bbdb[_0xaec065(0x30a)][_0xaec065(0x3e7)]={..._0x1b2691,..._0x368935},delete _0x27bbdb['_id'],_0x27bbdb[_0xaec065(0x2ca)]=new _0x210a97(),_0x27bbdb['lastInteraction']=_0x47b321,_0x27bbdb[_0xaec065(0x4c5)]='open',_0x27bbdb['remoteJid']=_0x14a7da;let _0x53d283=await G[_0xaec065(0x598)](_0x27bbdb);return this['logger']['verbose'](this[_0xaec065(0x28e)]+'\x20('+this['instance'][_0xaec065(0x536)]+_0xaec065(0x2d2)),_0x53d283?_0x27bbdb:null;}catch(_0x39a3a3){throw this['logger']['error'](this[_0xaec065(0x28e)]+'\x20('+this[_0xaec065(0x599)][_0xaec065(0x536)]+_0xaec065(0x3ab)+_0x39a3a3),new m(_0x39a3a3[_0xaec065(0x283)]);}}async[a0_0x28e68b(0x526)](_0x1c453b){const _0x21e97c=a0_0x28e68b;try{return this[_0x21e97c(0x602)]['verbose'](this[_0x21e97c(0x28e)]+'\x20('+this['instance'][_0x21e97c(0x536)]+_0x21e97c(0x376)),this[_0x21e97c(0x602)][_0x21e97c(0x690)](this[_0x21e97c(0x28e)]+'\x20('+this[_0x21e97c(0x599)][_0x21e97c(0x536)]+_0x21e97c(0x5b8)+{'owner':this['instance']['wuid'],'_id':_0x1c453b}),await G[_0x21e97c(0x1a2)]({'owner':this[_0x21e97c(0x599)][_0x21e97c(0x536)],'_id':_0x1c453b});}catch(_0x2fbce0){throw this[_0x21e97c(0x602)][_0x21e97c(0x197)](this[_0x21e97c(0x28e)]+'\x20('+this[_0x21e97c(0x599)][_0x21e97c(0x536)]+_0x21e97c(0x216)+_0x2fbce0),new m(_0x21e97c(0x550)+_0x2fbce0[_0x21e97c(0x283)]);}}async['fetchConversation'](_0x85b27d,_0x3f3359=0x64){const _0x226e09=a0_0x28e68b;try{this['logger'][_0x226e09(0x690)](this['instanceName']+'\x20('+this[_0x226e09(0x599)][_0x226e09(0x536)]+_0x226e09(0x2e0));let _0x7b5d07={..._0x85b27d,'owner':this[_0x226e09(0x599)][_0x226e09(0x536)]};return this['logger'][_0x226e09(0x690)](this[_0x226e09(0x28e)]+'\x20('+this[_0x226e09(0x599)][_0x226e09(0x536)]+'):\x20Modified\x20Query:'+_0x7b5d07),await G[_0x226e09(0x1bc)](_0x7b5d07)['limit'](_0x3f3359)['sort']({'lastInteraction':-0x1});}catch(_0xae0665){throw this[_0x226e09(0x602)]['error'](this[_0x226e09(0x28e)]+'\x20('+this[_0x226e09(0x599)][_0x226e09(0x536)]+_0x226e09(0x5ec)+_0xae0665),new m('Erro\x20ao\x20buscar\x20conversas:\x20'+_0xae0665['message']);}}async[a0_0x28e68b(0x6ba)](_0x268df9){const _0x4c4797=a0_0x28e68b;try{return this[_0x4c4797(0x602)][_0x4c4797(0x690)](this[_0x4c4797(0x28e)]+'\x20('+this[_0x4c4797(0x599)][_0x4c4797(0x536)]+_0x4c4797(0x20c)),this[_0x4c4797(0x602)][_0x4c4797(0x690)](this[_0x4c4797(0x28e)]+'\x20('+this[_0x4c4797(0x599)][_0x4c4797(0x536)]+_0x4c4797(0x5b8)+{'owner':this[_0x4c4797(0x599)][_0x4c4797(0x536)],'_id':_0x268df9}),(await G['deleteOne']({'owner':this[_0x4c4797(0x599)][_0x4c4797(0x536)],'_id':_0x268df9}))[_0x4c4797(0x2dc)]===0x0?{'message':_0x4c4797(0x6ae)}:{'message':_0x4c4797(0x4da)};}catch(_0xd5687e){throw this[_0x4c4797(0x602)][_0x4c4797(0x197)](this[_0x4c4797(0x28e)]+'\x20('+this[_0x4c4797(0x599)][_0x4c4797(0x536)]+_0x4c4797(0x5bf)+_0xd5687e),new m('Erro\x20ao\x20deletar\x20a\x20conversa:\x20'+_0xd5687e[_0x4c4797(0x283)]);}}async[a0_0x28e68b(0x2ae)](_0x45bab3){const _0x4f43f5=a0_0x28e68b;try{let {_id:_0x1a17a1,chatLog:_0x2d22b8,status:_0x7fbef0}=_0x45bab3;if(!_0x1a17a1)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0x1333cd={};if(_0x7fbef0!==void 0x0&&(_0x1333cd['status']=_0x7fbef0),Object[_0x4f43f5(0x4b2)](_0x1333cd)['length']===0x0)return{'message':_0x4f43f5(0x274)};let _0x59b1c3=this[_0x4f43f5(0x599)][_0x4f43f5(0x536)],_0x120564=await G[_0x4f43f5(0x4bb)]({'_id':_0x1a17a1,'owner':_0x59b1c3},{'$set':_0x1333cd},{'new':!0x0});return _0x120564||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x5c248e){throw this[_0x4f43f5(0x602)][_0x4f43f5(0x197)](this['instanceName']+'\x20('+this[_0x4f43f5(0x599)][_0x4f43f5(0x536)]+'):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20'+_0x5c248e),new m(_0x4f43f5(0x491)+_0x5c248e[_0x4f43f5(0x283)]);}}async[a0_0x28e68b(0x2da)](_0x167d99){const _0x35de05=a0_0x28e68b;try{_0x167d99['id']=this['createJid'](_0x167d99['id']);let {id:_0x24a539,leadInfo:_0x348548}=_0x167d99;if(!_0x24a539)throw new Error(_0x35de05(0x4c3));let _0x10dc6b=(_0x108d4f,_0x313751,_0x133128)=>{const _0x546e33=_0x35de05;_0x133128[_0x546e33(0x360)](_0x1f3bc8=>{_0x108d4f[_0x1f3bc8]!==void 0x0&&(_0x313751['leadInfo.'+_0x1f3bc8]=_0x108d4f[_0x1f3bc8]);});},_0x5de9d7={};if(_0x10dc6b(_0x348548,_0x5de9d7,[_0x35de05(0x506),'nomecompleto',_0x35de05(0x59e),'cpf','status',_0x35de05(0x6a2),_0x35de05(0x61c),_0x35de05(0x21f),_0x35de05(0x5fc)]),Array[_0x35de05(0x5f1)](_0x348548[_0x35de05(0x43b)])&&(_0x5de9d7['leadInfo.customFields']=_0x348548['customFields']['map'](_0x495202=>({'_id':_0x495202['_id'],'value':_0x495202['value']}))),_0x167d99[_0x35de05(0x22c)][_0x35de05(0x1a0)]!==void 0x0&&(_0x5de9d7[_0x35de05(0x352)]=Number(_0x167d99['leadInfo']['desativadoFluxoAte'])),_0x167d99[_0x35de05(0x188)]!==void 0x0&&(_0x5de9d7[_0x35de05(0x188)]=Number(_0x167d99[_0x35de05(0x188)])),Object[_0x35de05(0x4b2)](_0x5de9d7)[_0x35de05(0x670)]===0x0)throw new Error(_0x35de05(0x274));let _0x521257=this[_0x35de05(0x599)][_0x35de05(0x536)];if(!_0x521257)throw new Error(_0x35de05(0x2ba));if(!await I[_0x35de05(0x1a2)]({'id':_0x167d99['id'],'owner':_0x521257})){let _0x49df03=(await this[_0x35de05(0x65a)]({'numbers':[_0x167d99['id']]}))[0x0];if(!_0x49df03['exists']&&!(0x0,w['isJidGroup'])(_0x49df03[_0x35de05(0x522)])&&!_0x49df03[_0x35de05(0x522)][_0x35de05(0x447)](_0x35de05(0x4c6)))throw new m(_0x49df03);_0x167d99['id']=_0x49df03[_0x35de05(0x522)];}let _0x39b8a9=await I[_0x35de05(0x4bb)]({'id':_0x167d99['id'],'owner':_0x521257},{'$set':_0x5de9d7},{'new':!0x0,'upsert':!0x0});return _0x39b8a9&&H(this[_0x35de05(0x28e)],_0x35de05(0x299),{'chat':_0x39b8a9}),_0x39b8a9?(this['logger'][_0x35de05(0x690)](this[_0x35de05(0x28e)]+'\x20('+this[_0x35de05(0x599)]['wuid']+_0x35de05(0x27e)+_0x39b8a9),_0x39b8a9):{'message':_0x35de05(0x58b)};}catch(_0x19a480){throw this['logger'][_0x35de05(0x197)](this[_0x35de05(0x28e)]+'\x20('+this[_0x35de05(0x599)][_0x35de05(0x536)]+_0x35de05(0x41e)+_0x19a480),new m(_0x35de05(0x27c)+_0x19a480[_0x35de05(0x283)]);}}async[a0_0x28e68b(0x109)](_0x4f5b09){const _0x3f5694=a0_0x28e68b;let _0x240e2e=this[_0x3f5694(0x599)]['wuid'];try{let _0x4d0d7c=await ae[_0x3f5694(0x235)](_0x240e2e);_0x4d0d7c||(_0x4d0d7c=new ae({'_id':_0x240e2e}),await _0x4d0d7c[_0x3f5694(0x643)]());let _0x1341a9=_0x4f5b09[_0x3f5694(0x2ca)]?_0x4d0d7c[_0x3f5694(0x463)][_0x3f5694(0x532)](_0x4c66a9=>_0x4c66a9[_0x3f5694(0x2ca)]===_0x4f5b09[_0x3f5694(0x2ca)]):-0x1;if(_0x4f5b09[_0x3f5694(0x4c7)]&&_0x1341a9>-0x1)_0x4d0d7c[_0x3f5694(0x463)]['splice'](_0x1341a9,0x1);else{if(_0x1341a9>-0x1){let _0x1bba5a=_0x4d0d7c[_0x3f5694(0x463)][_0x1341a9];_0x4f5b09['fone']&&(_0x1bba5a[_0x3f5694(0x4ef)]=_0x4f5b09['fone']),_0x4f5b09['name']&&(_0x1bba5a[_0x3f5694(0x35d)]=_0x4f5b09[_0x3f5694(0x35d)]),_0x4f5b09[_0x3f5694(0x59e)]&&(_0x1bba5a['email']=_0x4f5b09[_0x3f5694(0x59e)]),_0x4f5b09[_0x3f5694(0x114)]&&(_0x1bba5a[_0x3f5694(0x114)]=_0x4f5b09['role']);}else _0x4d0d7c[_0x3f5694(0x463)][_0x3f5694(0x2ff)]({'_id':_0x4f5b09[_0x3f5694(0x2ca)]||new ye[(_0x3f5694(0x134))][(_0x3f5694(0x308))]['ObjectId']()[_0x3f5694(0x3d0)](),'fone':_0x4f5b09[_0x3f5694(0x4ef)],'name':_0x4f5b09[_0x3f5694(0x35d)],'email':_0x4f5b09[_0x3f5694(0x59e)],'role':_0x4f5b09[_0x3f5694(0x114)]});}let _0x4c383f=await _0x4d0d7c[_0x3f5694(0x643)]();return this[_0x3f5694(0x3ce)]=_0x4c383f,this[_0x3f5694(0x602)]['verbose'](this[_0x3f5694(0x28e)]+'\x20('+this['instance'][_0x3f5694(0x536)]+_0x3f5694(0x5c5)),this['logger'][_0x3f5694(0x690)](this[_0x3f5694(0x28e)]+'\x20('+this[_0x3f5694(0x599)][_0x3f5694(0x536)]+_0x3f5694(0x27e)+this['AutomateSystem']),_0x4c383f;}catch(_0x4c955b){throw this[_0x3f5694(0x602)][_0x3f5694(0x197)](this[_0x3f5694(0x28e)]+'\x20('+this[_0x3f5694(0x599)][_0x3f5694(0x536)]+_0x3f5694(0x61a)+_0x4c955b),new m(_0x3f5694(0x295)+_0x4c955b[_0x3f5694(0x283)]);}}async[a0_0x28e68b(0x461)](_0x405e27){const _0x588efd=a0_0x28e68b;let _0x2c0ab7=this[_0x588efd(0x599)]['wuid'];try{let _0x340f4b=await ae[_0x588efd(0x235)](_0x2c0ab7);_0x340f4b||(_0x340f4b=new ae({'_id':_0x2c0ab7}),await _0x340f4b['save']());let _0x1e0178=_0x405e27[_0x588efd(0x2ca)]?_0x340f4b[_0x588efd(0x43b)][_0x588efd(0x532)](_0x178446=>_0x178446['_id']===_0x405e27[_0x588efd(0x2ca)]):-0x1,_0x35a06c=!0x1,_0x55dbff=_0x340f4b[_0x588efd(0x43b)][_0x588efd(0x1b5)](_0x27eac9=>_0x27eac9[_0x588efd(0x448)]===_0x405e27[_0x588efd(0x448)]);if(_0x405e27['delete']&&_0x1e0178>-0x1)_0x340f4b[_0x588efd(0x43b)][_0x588efd(0x420)](_0x1e0178,0x1),_0x35a06c=!0x0;else{if(_0x1e0178>-0x1){if(_0x340f4b[_0x588efd(0x43b)][_0x588efd(0x1b5)](_0x1fe2da=>_0x1fe2da[_0x588efd(0x35d)]===_0x405e27['name']&&_0x1fe2da[_0x588efd(0x2ca)]!==_0x405e27[_0x588efd(0x2ca)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x2339b9=_0x340f4b[_0x588efd(0x43b)][_0x1e0178];_0x405e27[_0x588efd(0x448)]&&(_0x55dbff||!Number[_0x588efd(0x601)](_0x405e27['order']))&&(_0x2339b9[_0x588efd(0x448)]=_0x405e27[_0x588efd(0x448)],_0x35a06c=!0x0),_0x405e27[_0x588efd(0x35d)]&&(_0x2339b9[_0x588efd(0x35d)]=_0x405e27[_0x588efd(0x35d)]);}else{if(_0x340f4b[_0x588efd(0x43b)][_0x588efd(0x1b5)](_0x32b616=>_0x32b616[_0x588efd(0x35d)]===_0x405e27[_0x588efd(0x35d)]&&_0x32b616['_id']!==_0x405e27[_0x588efd(0x2ca)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x340f4b[_0x588efd(0x43b)]['push']({'_id':_0x405e27[_0x588efd(0x2ca)]||new ye[(_0x588efd(0x134))][(_0x588efd(0x308))][(_0x588efd(0x642))]()[_0x588efd(0x3d0)](),'order':_0x405e27[_0x588efd(0x448)],'name':_0x405e27[_0x588efd(0x35d)]}),_0x35a06c=!0x0;}}if(_0x35a06c){_0x340f4b[_0x588efd(0x43b)][_0x588efd(0x659)]((_0x1384d6,_0x226b2f)=>_0x1384d6['order']>_0x226b2f[_0x588efd(0x448)]?0x1:_0x226b2f[_0x588efd(0x448)]>_0x1384d6[_0x588efd(0x448)]?-0x1:0x0);for(let _0x254bf8=0x0;_0x254bf8<_0x340f4b[_0x588efd(0x43b)]['length'];_0x254bf8++)_0x340f4b[_0x588efd(0x43b)][_0x254bf8]['order']=_0x254bf8+0x1;}let _0xa5a243=await _0x340f4b[_0x588efd(0x643)]();return this[_0x588efd(0x3ce)]=_0xa5a243,this[_0x588efd(0x602)][_0x588efd(0x690)](this[_0x588efd(0x28e)]+'\x20('+this[_0x588efd(0x599)][_0x588efd(0x536)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x588efd(0x602)][_0x588efd(0x690)](this[_0x588efd(0x28e)]+'\x20('+this[_0x588efd(0x599)][_0x588efd(0x536)]+_0x588efd(0x27e)+this[_0x588efd(0x3ce)]),_0xa5a243;}catch(_0x146439){throw this[_0x588efd(0x602)][_0x588efd(0x197)](this[_0x588efd(0x28e)]+'\x20('+this['instance'][_0x588efd(0x536)]+_0x588efd(0x171)+_0x146439),new m(_0x588efd(0x651)+_0x146439['message']);}}async[a0_0x28e68b(0x1eb)](_0xcfbdbd){const _0x4165c0=a0_0x28e68b;let _0x5a3b2f=this[_0x4165c0(0x599)][_0x4165c0(0x536)];try{let _0x5a0a0d=await ae[_0x4165c0(0x235)](_0x5a3b2f);_0x5a0a0d||(_0x5a0a0d=new ae({'_id':_0x5a3b2f}),await _0x5a0a0d[_0x4165c0(0x643)]()),_0x5a0a0d['flowConfig'][_0x4165c0(0x316)]=_0xcfbdbd?.['enabled']!==void 0x0?_0xcfbdbd?.[_0x4165c0(0x316)]:_0x5a0a0d[_0x4165c0(0x138)][_0x4165c0(0x316)],_0x5a0a0d[_0x4165c0(0x138)][_0x4165c0(0x562)]=_0xcfbdbd?.['ignoreGroups']!==void 0x0?_0xcfbdbd?.['ignoreGroups']:_0x5a0a0d[_0x4165c0(0x138)][_0x4165c0(0x562)],_0x5a0a0d[_0x4165c0(0x138)][_0x4165c0(0x46d)]=_0xcfbdbd?.[_0x4165c0(0x46d)]??_0x5a0a0d[_0x4165c0(0x138)][_0x4165c0(0x46d)],_0x5a0a0d[_0x4165c0(0x138)][_0x4165c0(0x261)]=_0xcfbdbd?.['stopConversation']??_0x5a0a0d[_0x4165c0(0x138)][_0x4165c0(0x261)],_0x5a0a0d[_0x4165c0(0x138)][_0x4165c0(0x155)]=_0xcfbdbd?.[_0x4165c0(0x155)]??_0x5a0a0d[_0x4165c0(0x138)]['stopMinutes'];let _0x247367=await _0x5a0a0d[_0x4165c0(0x643)]();return this[_0x4165c0(0x3ce)]=_0x247367,this[_0x4165c0(0x602)][_0x4165c0(0x690)](this[_0x4165c0(0x28e)]+'\x20('+this[_0x4165c0(0x599)][_0x4165c0(0x536)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x4165c0(0x602)]['verbose'](this['instanceName']+'\x20('+this[_0x4165c0(0x599)][_0x4165c0(0x536)]+'):\x20'+this[_0x4165c0(0x3ce)]),_0x247367;}catch(_0x27da5d){throw this[_0x4165c0(0x602)][_0x4165c0(0x197)](this[_0x4165c0(0x28e)]+'\x20('+this[_0x4165c0(0x599)][_0x4165c0(0x536)]+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+_0x27da5d),new m(_0x4165c0(0x295)+_0x27da5d[_0x4165c0(0x283)]);}}async[a0_0x28e68b(0x105)](){const _0x38d6a2=a0_0x28e68b;let _0x570bd5=this[_0x38d6a2(0x599)]['wuid'];try{let _0x558ee1=await ae[_0x38d6a2(0x235)](_0x570bd5);return _0x558ee1||(_0x558ee1=new ae({'_id':_0x570bd5})),_0x558ee1[_0x38d6a2(0x138)]=_0x558ee1[_0x38d6a2(0x138)]||{},_0x558ee1[_0x38d6a2(0x138)][_0x38d6a2(0x316)]===void 0x0&&(_0x558ee1[_0x38d6a2(0x138)]['enabled']=!0x1),_0x558ee1[_0x38d6a2(0x138)][_0x38d6a2(0x562)]===void 0x0&&(_0x558ee1['flowConfig'][_0x38d6a2(0x562)]=!0x0),_0x558ee1['flowConfig'][_0x38d6a2(0x46d)]===void 0x0&&(_0x558ee1[_0x38d6a2(0x138)]['prefixCommand']='!'),_0x558ee1[_0x38d6a2(0x138)][_0x38d6a2(0x261)]===void 0x0&&(_0x558ee1[_0x38d6a2(0x138)][_0x38d6a2(0x261)]=_0x38d6a2(0x3f5)),_0x558ee1[_0x38d6a2(0x138)][_0x38d6a2(0x155)]===void 0x0&&(_0x558ee1[_0x38d6a2(0x138)]['stopMinutes']=0x14),await _0x558ee1[_0x38d6a2(0x643)](),this['AutomateSystem']=_0x558ee1,this[_0x38d6a2(0x602)][_0x38d6a2(0x690)](this[_0x38d6a2(0x28e)]+'\x20('+this['instance'][_0x38d6a2(0x536)]+'):\x20Visualizando\x20AutomateSystem'),this[_0x38d6a2(0x602)][_0x38d6a2(0x690)](this[_0x38d6a2(0x3ce)]),_0x558ee1;}catch(_0x549c4c){throw this[_0x38d6a2(0x602)][_0x38d6a2(0x197)](this[_0x38d6a2(0x28e)]+'\x20('+this['instance']['wuid']+_0x38d6a2(0x48c)+_0x549c4c[_0x38d6a2(0x283)]),new m('Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x549c4c[_0x38d6a2(0x283)]);}}async[a0_0x28e68b(0x2fe)](){const _0x23f01a=a0_0x28e68b;let _0x3ffbd2=()=>{const _0x4a766e=a0_0x4842;this['logger']['verbose'](this[_0x4a766e(0x28e)]+'\x20('+this[_0x4a766e(0x599)][_0x4a766e(0x536)]+_0x4a766e(0x1c1)+this[_0x4a766e(0x58a)]+'\x20saindo\x20da\x20função');},_0x5ef1df=async()=>{const _0x2b3296=a0_0x4842;this['logger'][_0x2b3296(0x690)](this[_0x2b3296(0x28e)]+'\x20('+this[_0x2b3296(0x599)][_0x2b3296(0x536)]+_0x2b3296(0x35a));let _0x387d10=Date[_0x2b3296(0x5db)]()-0xc*0x3c*0x3c*0x3e8;return await k[_0x2b3296(0x1bc)]({'owner':this[_0x2b3296(0x599)][_0x2b3296(0x536)],'status':{'$in':[_0x2b3296(0x51b),_0x2b3296(0x213)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x387d10}},{'when':0x0}]});},_0x1be329=async _0x5e9c4c=>{const _0x36f27a=a0_0x4842;for(let _0x2351bb of _0x5e9c4c){if(!await k[_0x36f27a(0x4bb)]({'_id':_0x2351bb[_0x36f27a(0x2ca)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x36f27a(0x5db)]()-0x1770}}]},{'$set':{'startSend':Date['now']()}}))return;if(!this[_0x36f27a(0x390)]){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x36f27a(0x599)][_0x36f27a(0x536)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}(!_0x2351bb[_0x36f27a(0x527)]||_0x2351bb[_0x36f27a(0x527)]['length']===0x0)&&(_0x2351bb=await k[_0x36f27a(0x4ba)](_0x2351bb[_0x36f27a(0x2ca)],{'$set':{'status':'sending','remoteJidsRemaining':[..._0x2351bb[_0x36f27a(0x4f2)]]}},{'new':!0x0}));for(let _0x377840 of _0x2351bb['remoteJidsRemaining']){if(this[_0x36f27a(0x620)]=Date[_0x36f27a(0x5db)](),_0x2351bb[_0x36f27a(0x697)][_0x36f27a(0x1b5)](_0x4a443b=>_0x4a443b[_0x36f27a(0x48b)]===_0x377840)){this['logger'][_0x36f27a(0x690)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x36f27a(0x242)+_0x377840+'.\x20Pulando.');continue;}try{let _0x4fc177=await this[_0x36f27a(0x399)](_0x377840,_0x2351bb),_0x3b8ed8={'remoteJid':_0x377840,'error':_0x4fc177[_0x36f27a(0x197)],'id':_0x4fc177['id']||null,'error_log':_0x4fc177[_0x36f27a(0x42d)]||null,'log_timestamp':Date[_0x36f27a(0x5db)]()};if((await k[_0x36f27a(0x4ba)](_0x2351bb[_0x36f27a(0x2ca)],{'$push':{'messagesSend':_0x3b8ed8},'$pull':{'remoteJidsRemaining':_0x377840}},{'new':!0x0}))['status']===_0x36f27a(0x2ce)){this[_0x36f27a(0x602)][_0x36f27a(0x690)](this[_0x36f27a(0x28e)]+'\x20('+this[_0x36f27a(0x599)][_0x36f27a(0x536)]+_0x36f27a(0x272)+_0x2351bb['_id']+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}if(!this[_0x36f27a(0x390)]){this[_0x36f27a(0x602)][_0x36f27a(0x690)](this[_0x36f27a(0x28e)]+'\x20('+this[_0x36f27a(0x599)]['wuid']+_0x36f27a(0x2b2));break;}if(!this[_0x36f27a(0x58a)]){this['logger']['verbose'](this[_0x36f27a(0x28e)]+'\x20('+this[_0x36f27a(0x599)][_0x36f27a(0x536)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x2351bb[_0x36f27a(0x2ca)]+_0x36f27a(0x4dc));break;}let _0xa15dfc=this[_0x36f27a(0x66e)](_0x2351bb[_0x36f27a(0x5e2)],_0x2351bb['delaySecMax']);await this['sleep'](_0xa15dfc);}catch(_0x5dde36){this[_0x36f27a(0x602)][_0x36f27a(0x197)](this[_0x36f27a(0x28e)]+'\x20('+this[_0x36f27a(0x599)][_0x36f27a(0x536)]+_0x36f27a(0x4a0)+_0x377840+':\x20'+_0x5dde36['message']);let _0x442a8d={'remoteJid':_0x377840,'status':'error','timestamp':Date[_0x36f27a(0x5db)](),'error':_0x5dde36['message']};await k[_0x36f27a(0x4ba)](_0x2351bb[_0x36f27a(0x2ca)],{'$push':{'messagesSend':_0x442a8d},'$pull':{'remoteJidsRemaining':_0x377840}},{'new':!0x0});}}let _0x4a899c=await k[_0x36f27a(0x235)](_0x2351bb[_0x36f27a(0x2ca)]);_0x4a899c[_0x36f27a(0x527)]['length']===0x0&&_0x4a899c[_0x36f27a(0x4c5)]!==_0x36f27a(0x2ce)&&await k[_0x36f27a(0x4ba)](_0x2351bb[_0x36f27a(0x2ca)],{'$set':{'status':_0x36f27a(0x112)}},{'new':!0x0}),await new Promise(_0x29da29=>setTimeout(_0x29da29,0x1388));}},_0x3866fe=async()=>{const _0x54df6f=a0_0x4842;let _0x5cbbf5=await k[_0x54df6f(0x1a2)]({'owner':this['instance'][_0x54df6f(0x536)],'status':_0x54df6f(0x51b),'when':{'$gt':Date[_0x54df6f(0x5db)]()}})[_0x54df6f(0x659)]({'when':0x1});_0x5cbbf5&&_0x5cbbf5['when']-Date[_0x54df6f(0x5db)]()<=0x5265c00?this[_0x54df6f(0x4d0)]=_0x5cbbf5[_0x54df6f(0x404)]-Date[_0x54df6f(0x5db)]():this['delayMessage']=(0x3c+Math['floor'](Math['random']()*0x3c))*0x3c*0x3e8,this['delayMessage']=Math[_0x54df6f(0x254)](this[_0x54df6f(0x4d0)],0x7d0);let _0x3ceeb5=Math['round'](this[_0x54df6f(0x4d0)]/0xea60);if(_0x5cbbf5){let _0x207359=new Date(_0x5cbbf5['when'])['toLocaleString']();this[_0x54df6f(0x602)][_0x54df6f(0x690)](this['instanceName']+'\x20('+this[_0x54df6f(0x599)][_0x54df6f(0x536)]+_0x54df6f(0x499)+_0x207359+_0x54df6f(0x10a)+_0x3ceeb5+_0x54df6f(0x49d));}else this['logger']['verbose'](this[_0x54df6f(0x28e)]+'\x20('+this[_0x54df6f(0x599)][_0x54df6f(0x536)]+_0x54df6f(0x1e8)+_0x3ceeb5+_0x54df6f(0x49d));setTimeout(()=>this[_0x54df6f(0x2fe)](),this['delayMessage']);};if(this['processingScheduleMessageId']&&Date[_0x23f01a(0x5db)]()-this[_0x23f01a(0x620)]<0x1d4c0){_0x3ffbd2();return;}try{let _0x9be612=await _0x5ef1df();_0x9be612[_0x23f01a(0x670)]===0x0?this[_0x23f01a(0x602)][_0x23f01a(0x690)](this[_0x23f01a(0x28e)]+'\x20('+this[_0x23f01a(0x599)][_0x23f01a(0x536)]+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this[_0x23f01a(0x58a)]=_0x9be612[0x0][_0x23f01a(0x2ca)],await _0x1be329(_0x9be612)),await _0x3866fe(),this[_0x23f01a(0x58a)]=null;}catch(_0x3ed470){this[_0x23f01a(0x602)][_0x23f01a(0x197)](_0x23f01a(0x301)+_0x3ed470['message']);}}[a0_0x28e68b(0x66e)](_0x7f280c,_0x420013){const _0x102e86=a0_0x28e68b;return _0x7f280c=Math[_0x102e86(0x254)](0.5,_0x7f280c),_0x420013=Math[_0x102e86(0x254)](0x3,_0x420013),Math[_0x102e86(0x65b)](Math['random']()*(_0x420013-_0x7f280c+0x1)+_0x7f280c)*0x3e8;}[a0_0x28e68b(0x5ff)](_0x4b6d52){return new Promise(_0x4e199a=>setTimeout(_0x4e199a,_0x4b6d52));}async['getVariablesChat'](_0xad79f5){const _0x434465=a0_0x28e68b;if(!this[_0x434465(0x3ce)]&&(await this[_0x434465(0x105)](),!this[_0x434465(0x3ce)]))return null;_0xad79f5=this[_0x434465(0x5ed)](_0xad79f5);let _0x2e17ee=await I[_0x434465(0x1a2)]({'id':_0xad79f5,'owner':this[_0x434465(0x599)][_0x434465(0x536)]}),_0x6109f4={};if(_0x2e17ee&&_0x2e17ee['leadInfo']){let _0x8b6e1f=_0x2e17ee[_0x434465(0x22c)];typeof _0x8b6e1f[_0x434465(0x506)]==_0x434465(0x47b)&&(_0x6109f4[_0x434465(0x506)]=_0x8b6e1f[_0x434465(0x506)]),typeof _0x8b6e1f[_0x434465(0x53b)]==_0x434465(0x47b)&&(_0x6109f4[_0x434465(0x53b)]=_0x8b6e1f['nomecompleto']),typeof _0x8b6e1f[_0x434465(0x59e)]==_0x434465(0x47b)&&(_0x6109f4[_0x434465(0x59e)]=_0x8b6e1f[_0x434465(0x59e)]),typeof _0x8b6e1f[_0x434465(0x200)]==_0x434465(0x47b)&&(_0x6109f4[_0x434465(0x200)]=_0x8b6e1f['cpf']),typeof _0x8b6e1f['status']==_0x434465(0x47b)&&(_0x6109f4[_0x434465(0x4c5)]=_0x8b6e1f[_0x434465(0x4c5)]),typeof _0x8b6e1f[_0x434465(0x6a2)]==_0x434465(0x47b)&&(_0x6109f4[_0x434465(0x6a2)]=_0x8b6e1f[_0x434465(0x6a2)]),typeof _0x8b6e1f['responsavelid']==_0x434465(0x47b)&&(_0x6109f4[_0x434465(0x5fc)]=_0x8b6e1f['responsavelid']),Array['isArray'](_0x8b6e1f[_0x434465(0x61c)])&&(_0x6109f4[_0x434465(0x61c)]=_0x8b6e1f[_0x434465(0x61c)][_0x434465(0x1b8)](',\x20'));}return _0x2e17ee&&_0x2e17ee[_0x434465(0x22c)]&&_0x2e17ee['leadInfo'][_0x434465(0x43b)]&&_0x2e17ee[_0x434465(0x22c)]['customFields']['forEach'](_0x14b787=>{const _0x3cbf8e=_0x434465;let _0x21e5ac=this[_0x3cbf8e(0x3ce)][_0x3cbf8e(0x43b)][_0x3cbf8e(0x1bc)](_0x4a70ca=>_0x4a70ca[_0x3cbf8e(0x2ca)]===_0x14b787[_0x3cbf8e(0x2ca)]);_0x21e5ac&&(_0x6109f4[_0x21e5ac[_0x3cbf8e(0x35d)]]=_0x14b787['value']);}),_0x6109f4;}async['replaceVariablesChat'](_0x4c41ce,_0x1ad857){const _0x5db0af=a0_0x28e68b;let _0x2444da=await this[_0x5db0af(0x350)](_0x1ad857);return this['replaceVariables'](_0x4c41ce,_0x2444da);}async[a0_0x28e68b(0x5b6)](_0x4a2e8e){const _0x118b85=a0_0x28e68b;try{if(this[_0x118b85(0x602)][_0x118b85(0x690)](this[_0x118b85(0x28e)]+'\x20('+this[_0x118b85(0x599)]['wuid']+_0x118b85(0x33a)),_0x4a2e8e[_0x118b85(0x4c7)]&&_0x4a2e8e['_id']){if(this[_0x118b85(0x58a)]===_0x4a2e8e[_0x118b85(0x2ca)][_0x118b85(0x3d0)]())throw new Error(_0x118b85(0x156));let _0x112b56=await k[_0x118b85(0x69e)](_0x4a2e8e['_id']);return setTimeout(()=>this[_0x118b85(0x2fe)](),0x7d0),_0x112b56;}let _0x1ee8d2;if(_0x4a2e8e[_0x118b85(0x2ca)]&&(_0x1ee8d2=await k[_0x118b85(0x1a2)]({'owner':this[_0x118b85(0x599)][_0x118b85(0x536)],'_id':_0x4a2e8e[_0x118b85(0x2ca)]})),_0x1ee8d2){let _0x5bee04=_0x4a2e8e;this[_0x118b85(0x58a)]===_0x1ee8d2[_0x118b85(0x2ca)][_0x118b85(0x3d0)]()&&(_0x5bee04={'status':_0x4a2e8e[_0x118b85(0x4c5)],'_id':_0x4a2e8e[_0x118b85(0x2ca)]});let _0x7fdce1=await k[_0x118b85(0x4ba)](_0x1ee8d2[_0x118b85(0x2ca)],{'$set':_0x5bee04},{'new':!0x0});return setTimeout(()=>this[_0x118b85(0x2fe)](),0x7d0),_0x7fdce1;}else{_0x4a2e8e['owner']=this[_0x118b85(0x599)][_0x118b85(0x536)];let _0x5340ab=await new k(_0x4a2e8e)['save']();return setTimeout(()=>this[_0x118b85(0x2fe)](),0x7d0),_0x5340ab;}}catch(_0x2d9b9d){throw this[_0x118b85(0x602)][_0x118b85(0x197)](this[_0x118b85(0x28e)]+'\x20('+this[_0x118b85(0x599)][_0x118b85(0x536)]+_0x118b85(0x275)+_0x2d9b9d),new m(_0x118b85(0x4e8)+_0x2d9b9d[_0x118b85(0x283)]);}}async[a0_0x28e68b(0x199)](){const _0x1f8423=a0_0x28e68b;try{return await k[_0x1f8423(0x1bc)]({'owner':this[_0x1f8423(0x599)][_0x1f8423(0x536)]})[_0x1f8423(0x659)]({'when':0x1});}catch(_0xc990e){throw this[_0x1f8423(0x602)][_0x1f8423(0x197)](this[_0x1f8423(0x28e)]+'\x20('+this[_0x1f8423(0x599)][_0x1f8423(0x536)]+'):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:'+_0xc990e),new m('Erro:'+_0xc990e[_0x1f8423(0x283)]);}}async[a0_0x28e68b(0x3ee)](){const _0x291a83=a0_0x28e68b;try{return await k[_0x291a83(0x5cb)]({'owner':this[_0x291a83(0x599)][_0x291a83(0x536)],'status':_0x291a83(0x112)}),this[_0x291a83(0x602)][_0x291a83(0x690)](this[_0x291a83(0x28e)]+'\x20('+this[_0x291a83(0x599)][_0x291a83(0x536)]+_0x291a83(0x2c0)),this[_0x291a83(0x199)]();}catch(_0x4339b5){throw this[_0x291a83(0x602)][_0x291a83(0x197)](this[_0x291a83(0x28e)]+'\x20('+this[_0x291a83(0x599)][_0x291a83(0x536)]+_0x291a83(0x645)+_0x4339b5),new m(_0x291a83(0x4e8)+_0x4339b5[_0x291a83(0x283)]);}}async[a0_0x28e68b(0x399)](_0x32f76e,_0x3c13d1){const _0x3d93e9=a0_0x28e68b;try{switch(_0x3c13d1[_0x3d93e9(0x1bd)]){case'text':return await this['scheduleSendText'](_0x3c13d1,_0x32f76e);case _0x3d93e9(0x668):return await this[_0x3d93e9(0x31a)](_0x3c13d1,_0x32f76e);case _0x3d93e9(0x1ef):return await this[_0x3d93e9(0x388)](_0x3c13d1,_0x32f76e);default:return this['logger']['error'](this[_0x3d93e9(0x28e)]+'\x20('+this[_0x3d93e9(0x599)][_0x3d93e9(0x536)]+_0x3d93e9(0x54a)+_0x3c13d1[_0x3d93e9(0x1bd)]),{'status':_0x3d93e9(0x197),'detail':_0x3d93e9(0x437)};}}catch(_0x478e5f){return this[_0x3d93e9(0x602)][_0x3d93e9(0x197)](this[_0x3d93e9(0x28e)]+'\x20('+this[_0x3d93e9(0x599)][_0x3d93e9(0x536)]+_0x3d93e9(0x616)+_0x478e5f),{'status':_0x3d93e9(0x197),'detail':_0x478e5f[_0x3d93e9(0x283)]};}}[a0_0x28e68b(0x225)](_0x21d0e8){const _0x302822=a0_0x28e68b;let _0x31ebfe=_0x21d0e8['split']('|'),_0x42fd3d=Math[_0x302822(0x65b)](Math[_0x302822(0x4e0)]()*_0x31ebfe[_0x302822(0x670)]);return _0x31ebfe[_0x42fd3d][_0x302822(0x1be)]();}async[a0_0x28e68b(0x357)](_0x1a7b3e,_0x83bedd){const _0x123ffc=a0_0x28e68b;if(this[_0x123ffc(0x602)]['verbose'](this[_0x123ffc(0x28e)]+'\x20('+this['instance'][_0x123ffc(0x536)]+'):\x20Enviando\x20texto'),!_0x1a7b3e[_0x123ffc(0x283)][_0x123ffc(0x265)]||_0x1a7b3e[_0x123ffc(0x283)][_0x123ffc(0x265)]['length']===0x0)return{'error':!0x0,'error_log':_0x123ffc(0x33f)};let _0x800ac4=this[_0x123ffc(0x225)](_0x1a7b3e['message'][_0x123ffc(0x265)]),_0x1f5217=await this[_0x123ffc(0x1d0)](_0x800ac4,_0x83bedd),_0x345909={'number':_0x83bedd,'options':{'delay':_0x1a7b3e[_0x123ffc(0x283)][_0x123ffc(0x441)]},'textMessage':{'text':_0x1f5217}},_0x3b8b59=null;try{let _0x57d205=await this[_0x123ffc(0x33b)](_0x345909);if(_0x57d205&&_0x57d205[_0x123ffc(0x4c5)])return{'error':!0x1,'id':_0x57d205['key']['id']};_0x3b8b59=JSON[_0x123ffc(0x409)](_0x57d205),this['logger'][_0x123ffc(0x690)](this[_0x123ffc(0x28e)]+'\x20('+this[_0x123ffc(0x599)]['wuid']+'):\x20'+_0x3b8b59);}catch(_0x12f320){this[_0x123ffc(0x602)]['error'](this[_0x123ffc(0x28e)]+'\x20('+this[_0x123ffc(0x599)][_0x123ffc(0x536)]+_0x123ffc(0x480)+_0x12f320),_0x3b8b59=_0x12f320['message'];}if(_0x3b8b59)return{'error':!0x0,'error_log':(typeof _0x3b8b59==_0x123ffc(0x2b3)?JSON['stringify'](_0x3b8b59,null,0x2):_0x3b8b59)[_0x123ffc(0x5eb)](/[\[\]{}\n]/g,'\x20')[_0x123ffc(0x5eb)](/  +/g,'\x20')};}async[a0_0x28e68b(0x31a)](_0x2f3260,_0x884b60){const _0x479508=a0_0x28e68b;this['logger'][_0x479508(0x690)](this[_0x479508(0x28e)]+'\x20('+this[_0x479508(0x599)][_0x479508(0x536)]+_0x479508(0x2a2));let _0x18bd6c;if(_0x2f3260[_0x479508(0x283)][_0x479508(0x265)]&&_0x2f3260[_0x479508(0x283)][_0x479508(0x265)][_0x479508(0x670)]>0x0){let _0x305a47=this[_0x479508(0x225)](_0x2f3260[_0x479508(0x283)]['text']);_0x18bd6c=await this[_0x479508(0x1d0)](_0x305a47,_0x884b60);}let _0x1e1e13={'number':_0x884b60,'options':{'delay':_0x2f3260[_0x479508(0x283)]['delay']},'mediaMessage':{'mediatype':_0x2f3260[_0x479508(0x283)][_0x479508(0x50f)],'caption':_0x18bd6c,'media':_0x2f3260['message']['urlOrBase64']}},_0x3073bf=null;try{let _0x1baa77=await this[_0x479508(0x627)](_0x1e1e13);if(_0x1baa77&&_0x1baa77[_0x479508(0x4c5)])return{'error':!0x1,'id':_0x1baa77['key']['id']};_0x3073bf=JSON[_0x479508(0x409)](_0x1baa77),this[_0x479508(0x602)]['verbose'](this['instanceName']+'\x20('+this[_0x479508(0x599)][_0x479508(0x536)]+_0x479508(0x27e)+_0x3073bf);}catch(_0x1f1ab2){this[_0x479508(0x602)][_0x479508(0x197)](this[_0x479508(0x28e)]+'\x20('+this[_0x479508(0x599)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:'+_0x1f1ab2['message']),_0x3073bf=_0x1f1ab2[_0x479508(0x283)];}if(_0x3073bf)return{'error':!0x0,'error_log':(typeof _0x3073bf==_0x479508(0x2b3)?JSON['stringify'](_0x3073bf,null,0x2):_0x3073bf)[_0x479508(0x5eb)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x28e68b(0x388)](_0x30e738,_0x44af07){const _0xf27e65=a0_0x28e68b;this[_0xf27e65(0x602)][_0xf27e65(0x690)](this['instanceName']+'\x20('+this[_0xf27e65(0x599)][_0xf27e65(0x536)]+_0xf27e65(0x3b5));let _0x2714f8={'number':_0x44af07,'options':{'delay':_0x30e738[_0xf27e65(0x283)][_0xf27e65(0x441)]},'audioMessage':{'audio':_0x30e738[_0xf27e65(0x283)][_0xf27e65(0x3f2)]}},_0x666c3=null;try{let _0xb40d3b=await this[_0xf27e65(0x5cc)](_0x2714f8);if(_0xb40d3b&&_0xb40d3b[_0xf27e65(0x4c5)])return{'error':!0x1,'id':_0xb40d3b[_0xf27e65(0x32e)]['id']};_0x666c3=JSON[_0xf27e65(0x409)](_0xb40d3b),this['logger'][_0xf27e65(0x690)](this['instanceName']+'\x20('+this['instance'][_0xf27e65(0x536)]+_0xf27e65(0x27e)+_0x666c3);}catch(_0xe82fd9){this[_0xf27e65(0x602)][_0xf27e65(0x197)](this['instanceName']+'\x20('+this[_0xf27e65(0x599)]['wuid']+_0xf27e65(0x5af)+_0xe82fd9),_0x666c3=_0xe82fd9['message'];}if(_0x666c3)return{'error':!0x0,'error_log':(typeof _0x666c3=='object'?JSON['stringify'](_0x666c3,null,0x2):_0x666c3)[_0xf27e65(0x5eb)](/[\[\]{}\n]/g,'\x20')[_0xf27e65(0x5eb)](/  +/g,'\x20')};}},Ee=require(a0_0x28e68b(0x446)),kt=class l{constructor(_0x210a62,_0x581c73,_0x5b1588){const _0x37a5ee=a0_0x28e68b;this[_0x37a5ee(0x3b8)]=_0x210a62,this[_0x37a5ee(0x1ba)]=_0x581c73,this[_0x37a5ee(0x641)]=_0x5b1588,this['db']={},this[_0x37a5ee(0x684)]={},this[_0x37a5ee(0x602)]=new v(l['name']),this['waInstances']={},(this['removeInstance'](),this[_0x37a5ee(0x5f4)](),this['delInstanceFiles'](),Object[_0x37a5ee(0x1e2)](this['db'],_0x581c73[_0x37a5ee(0x2cc)](_0x37a5ee(0x167))),Object['assign'](this[_0x37a5ee(0x684)],_0x581c73[_0x37a5ee(0x2cc)](_0x37a5ee(0x339))),this[_0x37a5ee(0x47a)]=this['db'][_0x37a5ee(0x516)]?this[_0x37a5ee(0x641)][_0x37a5ee(0x68b)]?.['db'](this['db']['CONNECTION'][_0x37a5ee(0x584)]+_0x37a5ee(0x519)):void 0x0,this[_0x37a5ee(0x39f)]=this[_0x37a5ee(0x684)][_0x37a5ee(0x516)]?new we(this[_0x37a5ee(0x684)]):void 0x0);}[a0_0x28e68b(0x258)](_0xc51e74){let _0xb834a1=this['configService']['get']('DEL_INSTANCE');typeof _0xb834a1=='number'&&_0xb834a1>0x0&&setTimeout(()=>{const _0x2a759a=a0_0x4842;this[_0x2a759a(0x2ef)][_0xc51e74]?.['connectionStatus']?.[_0x2a759a(0x43f)]!=='open'&&delete this[_0x2a759a(0x2ef)][_0xc51e74];},0x3e8*0x3c*_0xb834a1);}async['instanceInfo'](_0x56962c){const _0x3e473b=a0_0x28e68b;if(_0x56962c&&!this['waInstances'][_0x56962c])throw new L(_0x3e473b(0x36e)+_0x56962c+_0x3e473b(0x667));let _0x3243fa=[];for await(let [_0x341c0e,_0x582442]of Object['entries'](this[_0x3e473b(0x2ef)]))if(_0x582442&&_0x582442[_0x3e473b(0x2c1)]['state']===_0x3e473b(0x679)){let _0x53bff5=await this[_0x3e473b(0x641)]['auth']['find'](_0x341c0e);_0x3243fa[_0x3e473b(0x2ff)]({'instance':{'instanceName':_0x341c0e,'apikey':_0x53bff5[_0x3e473b(0x21a)],'owner':_0x582442[_0x3e473b(0x536)],'profileName':await _0x582442['getProfileName']()||'not\x20loaded','profilePictureUrl':_0x582442[_0x3e473b(0x3f7)]}});}return _0x3243fa[_0x3e473b(0x1bc)](_0x1464ed=>_0x1464ed[_0x3e473b(0x599)]['instanceName']===_0x56962c)??_0x3243fa;}[a0_0x28e68b(0x65d)](){setInterval(async()=>{const _0x177724=a0_0x4842;if(this['db'][_0x177724(0x516)])(await this[_0x177724(0x47a)][_0x177724(0x661)]())[_0x177724(0x360)](async _0x4f0a1e=>{const _0x423948=_0x177724;let _0x10d8fa=_0x4f0a1e[_0x423948(0x270)][_0x423948(0x5eb)](/^[\w-]+./,'');await this[_0x423948(0x47a)][_0x423948(0x6ad)](_0x10d8fa)['deleteMany']({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0x54af37=(0x0,ee[_0x177724(0x1d1)])(V,{'encoding':_0x177724(0x65e)});for await(let _0x286611 of _0x54af37)_0x286611[_0x177724(0x4a4)]()&&(0x0,ee[_0x177724(0x597)])((0x0,Ee[_0x177724(0x1b8)])(V,_0x286611[_0x177724(0x35d)]),{'encoding':'utf-8'})[_0x177724(0x360)](async _0x4d4ac5=>{const _0x5a699e=_0x177724;(_0x4d4ac5[_0x5a699e(0x467)](/^app.state.*/)||_0x4d4ac5[_0x5a699e(0x467)](/^session-.*/))&&(0x0,ee[_0x5a699e(0x647)])((0x0,Ee['join'])(V,_0x286611[_0x5a699e(0x35d)],_0x4d4ac5),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async[a0_0x28e68b(0x303)](_0x345ab5){const _0x38e3d1=a0_0x28e68b;this['db'][_0x38e3d1(0x516)]&&(await this['repository'][_0x38e3d1(0x68b)]['connect'](),(await this[_0x38e3d1(0x47a)][_0x38e3d1(0x661)]())[_0x38e3d1(0x670)]>0x0&&await this[_0x38e3d1(0x47a)][_0x38e3d1(0x63d)](_0x345ab5)),this['redis']['ENABLED']&&(this[_0x38e3d1(0x39f)][_0x38e3d1(0x1fc)]=_0x345ab5,await this[_0x38e3d1(0x39f)][_0x38e3d1(0x59d)]()),!this['db'][_0x38e3d1(0x516)]&&!this['redis'][_0x38e3d1(0x516)]&&(0x0,ee[_0x38e3d1(0x647)])((0x0,Ee['join'])(V,_0x345ab5),{'recursive':!0x0,'force':!0x0});}async[a0_0x28e68b(0x558)](){const _0x7bc667=a0_0x28e68b;let _0x5c6c74=async _0x22deb7=>{const _0x4789e3=a0_0x4842;let _0xca4521=new be(this[_0x4789e3(0x1ba)],this[_0x4789e3(0x3b8)],this['repository']);_0xca4521[_0x4789e3(0x28e)]=_0x22deb7,await _0xca4521[_0x4789e3(0x15e)](),this['waInstances'][_0x22deb7]=_0xca4521;};try{if(this[_0x7bc667(0x684)]['ENABLED']){let _0x815e92=await this[_0x7bc667(0x39f)][_0x7bc667(0x62a)]();_0x815e92?.[_0x7bc667(0x670)]>0x0&&_0x815e92[_0x7bc667(0x360)](async _0x4b1a94=>await _0x5c6c74(_0x4b1a94[_0x7bc667(0x22b)](':')[0x1]));}if(this['db'][_0x7bc667(0x516)]){await this[_0x7bc667(0x641)][_0x7bc667(0x68b)][_0x7bc667(0x672)]();let _0x2cf274=await this[_0x7bc667(0x47a)]['collections']();_0x2cf274[_0x7bc667(0x670)]>0x0&&_0x2cf274[_0x7bc667(0x360)](async _0x2a6c4a=>await _0x5c6c74(_0x2a6c4a[_0x7bc667(0x270)][_0x7bc667(0x5eb)](/^[\w-]+\./,'')));return;}let _0x395ff7=(0x0,ee[_0x7bc667(0x1d1)])(V,{'encoding':'utf-8'});for await(let _0x5ad7b6 of _0x395ff7)if(_0x5ad7b6['isDirectory']()){if((0x0,ee['readdirSync'])((0x0,Ee[_0x7bc667(0x1b8)])(V,_0x5ad7b6[_0x7bc667(0x35d)]),{'encoding':_0x7bc667(0x65e)})['length']===0x0){(0x0,ee[_0x7bc667(0x647)])((0x0,Ee[_0x7bc667(0x1b8)])(V,_0x5ad7b6[_0x7bc667(0x35d)]),{'recursive':!0x0,'force':!0x0});break;}await _0x5c6c74(_0x5ad7b6[_0x7bc667(0x35d)]);}}catch(_0x4de41a){this['logger']['error'](_0x4de41a);}}[a0_0x28e68b(0x4db)](){const _0x19fdd5=a0_0x28e68b;this[_0x19fdd5(0x3b8)]['on'](_0x19fdd5(0x29c),async _0x4be6db=>{const _0x1dd458=_0x19fdd5;try{this[_0x1dd458(0x2ef)][_0x4be6db]=void 0x0;}catch{}try{this[_0x1dd458(0x303)](_0x4be6db);}finally{this[_0x1dd458(0x602)][_0x1dd458(0x56e)](_0x1dd458(0x36e)+_0x4be6db+_0x1dd458(0x22a));}});}['noConnection'](){const _0x220bb0=a0_0x28e68b;this[_0x220bb0(0x3b8)]['on'](_0x220bb0(0x375),async _0x40a46a=>{const _0x38142d=_0x220bb0;try{this[_0x38142d(0x2ef)][_0x40a46a]=void 0x0,this[_0x38142d(0x303)](_0x40a46a);}catch(_0x46e68f){this[_0x38142d(0x602)]['error']({'localError':_0x38142d(0x5f4),'warn':_0x38142d(0x459),'error':_0x46e68f});}finally{this['logger'][_0x38142d(0x56e)](_0x38142d(0x36e)+_0x40a46a+_0x38142d(0x252));}});}},xe=require(a0_0x28e68b(0x446)),Ne=require('fs'),Lt=class extends j{constructor(_0x2b1c88,_0x5509af){const _0x35a3e4=a0_0x28e68b;super(_0x5509af),this[_0x35a3e4(0x61f)]=_0x2b1c88,this[_0x35a3e4(0x1ba)]=_0x5509af;}async[a0_0x28e68b(0x16d)](_0x4d659a,_0x11c100=!0x1){const _0x26fd42=a0_0x28e68b;if(_0x4d659a['length']!==0x0)try{return this[_0x26fd42(0x313)][_0x26fd42(0x516)]&&_0x11c100?{'insertCount':(await this[_0x26fd42(0x61f)]['insertMany']([..._0x4d659a]))[_0x26fd42(0x670)]}:(_0x4d659a[_0x26fd42(0x360)](_0x4f0235=>{const _0x5009df=_0x26fd42;this[_0x5009df(0x42f)]({'path':(0x0,xe[_0x5009df(0x1b8)])(this['storePath'],_0x5009df(0x299),_0x4f0235[_0x5009df(0x32c)]),'fileName':_0x4f0235['id'],'data':_0x4f0235});}),{'insertCount':_0x4d659a[_0x26fd42(0x670)]});}catch(_0x5ac05f){return _0x5ac05f;}finally{_0x4d659a=void 0x0;}}async['find'](_0xfaebdc){const _0x470800=a0_0x28e68b;try{if(this[_0x470800(0x313)][_0x470800(0x516)])return await this[_0x470800(0x61f)][_0x470800(0x1bc)]({'owner':_0xfaebdc[_0x470800(0x576)][_0x470800(0x32c)]})[_0x470800(0x659)]({'lastmsg':-0x1})[_0x470800(0x5b9)](_0xfaebdc?.[_0x470800(0x5b9)]??0x0)[_0x470800(0x223)]();let _0x30e9fe=[],_0x5bf0bc=(0x0,Ne[_0x470800(0x1d1)])((0x0,xe['join'])(this[_0x470800(0x4ee)],_0x470800(0x299),_0xfaebdc['where']['owner']));for await(let _0x591218 of _0x5bf0bc)_0x591218['isFile']()&&_0x30e9fe[_0x470800(0x2ff)](JSON[_0x470800(0x3a4)]((0x0,Ne[_0x470800(0x169)])((0x0,xe['join'])(this[_0x470800(0x4ee)],_0x470800(0x299),_0xfaebdc[_0x470800(0x576)][_0x470800(0x32c)],_0x591218['name']),{'encoding':_0x470800(0x65e)})));return _0x30e9fe;}catch{return[];}}async[a0_0x28e68b(0x4c7)](_0x1d40dd){const _0x38eefc=a0_0x28e68b;try{return this[_0x38eefc(0x313)][_0x38eefc(0x516)]?await this[_0x38eefc(0x61f)]['deleteMany']({..._0x1d40dd[_0x38eefc(0x576)]}):((0x0,Ne[_0x38eefc(0x647)])((0x0,xe['join'])(this[_0x38eefc(0x4ee)],'chats',_0x1d40dd['where'][_0x38eefc(0x32c)],_0x1d40dd[_0x38eefc(0x576)]['id']+_0x38eefc(0x12b)),{'force':!0x0,'recursive':!0x0}),{'deleted':{'chatId':_0x1d40dd[_0x38eefc(0x576)]['id']}});}catch(_0x15cc42){return{'error':_0x15cc42?.['toString']()};}}async[a0_0x28e68b(0x1a2)](_0x149c51){const _0x3aceaf=a0_0x28e68b;try{if(this[_0x3aceaf(0x313)][_0x3aceaf(0x516)])return await this[_0x3aceaf(0x61f)][_0x3aceaf(0x1a2)]({'owner':_0x149c51[_0x3aceaf(0x576)]['owner']})[_0x3aceaf(0x223)]();}catch{return null;}}async[a0_0x28e68b(0x67a)](_0x1636ed,_0x51c5ed){const _0x1d9c63=a0_0x28e68b;try{this[_0x1d9c63(0x313)]['ENABLED']&&await this[_0x1d9c63(0x61f)][_0x1d9c63(0x150)]({..._0x1636ed['where']},{'$set':_0x51c5ed});}catch(_0x578f05){console['error'](_0x578f05);}}async[a0_0x28e68b(0x209)](_0x1bc29e,_0x36d229){const _0x2f73c1=a0_0x28e68b;try{if(this[_0x2f73c1(0x313)][_0x2f73c1(0x516)]){let _0x24ae0d=_0x1bc29e[_0x2f73c1(0x5df)]((_0x29cc9b,_0x35d6a8)=>({'updateOne':{'filter':{..._0x29cc9b[_0x2f73c1(0x576)]},'update':{'$set':_0x36d229[_0x35d6a8]}}}));await this['chatModel'][_0x2f73c1(0x5c4)](_0x24ae0d);}}catch(_0x4180f3){console[_0x2f73c1(0x197)](_0x4180f3);}}},Ut=class{constructor(_0x23f27e){this['waMonitor']=_0x23f27e;}async[a0_0x28e68b(0x2da)]({instanceName:_0x56e11b},_0x47d7b3){const _0x1923ed=a0_0x28e68b;return await this[_0x1923ed(0x20d)]['waInstances'][_0x56e11b][_0x1923ed(0x2da)](_0x47d7b3);}async[a0_0x28e68b(0x65a)]({instanceName:_0x1df027},_0x570487){const _0x1cd44c=a0_0x28e68b;return await this[_0x1cd44c(0x20d)]['waInstances'][_0x1df027][_0x1cd44c(0x65a)](_0x570487);}async[a0_0x28e68b(0x201)]({instanceName:_0x25b63f},_0x112d67){const _0xad6e44=a0_0x28e68b;return await this[_0xad6e44(0x20d)][_0xad6e44(0x2ef)][_0x25b63f]['markMessageAsRead'](_0x112d67);}async['archiveChat']({instanceName:_0x2f0dbe},_0x100c71){const _0x4bd508=a0_0x28e68b;return await this[_0x4bd508(0x20d)]['waInstances'][_0x2f0dbe]['archiveChat'](_0x100c71);}async[a0_0x28e68b(0x38a)]({instanceName:_0x37fe4a},_0x27b5b8){const _0x4dd230=a0_0x28e68b;return await this[_0x4dd230(0x20d)][_0x4dd230(0x2ef)][_0x37fe4a][_0x4dd230(0x38a)](_0x27b5b8);}async[a0_0x28e68b(0x3a7)]({instanceName:_0x190367},_0x57f6ad){const _0x132d0a=a0_0x28e68b;return await this['waMonitor'][_0x132d0a(0x2ef)][_0x190367][_0x132d0a(0x380)](_0x57f6ad[_0x132d0a(0x426)]);}async[a0_0x28e68b(0x204)]({instanceName:_0x5c3650},_0x3e191f){const _0x2b82aa=a0_0x28e68b;return await this[_0x2b82aa(0x20d)][_0x2b82aa(0x2ef)][_0x5c3650][_0x2b82aa(0x204)](_0x5c3650,_0x3e191f[_0x2b82aa(0x426)]);}async[a0_0x28e68b(0x257)]({instanceName:_0x3b91c},_0x2dfd53){const _0x3521e8=a0_0x28e68b;return await this[_0x3521e8(0x20d)][_0x3521e8(0x2ef)][_0x3b91c][_0x3521e8(0x257)](_0x2dfd53);}async[a0_0x28e68b(0x3b7)]({instanceName:_0x17aa6a},_0x481f30){const _0x49371e=a0_0x28e68b;return await this['waMonitor'][_0x49371e(0x2ef)][_0x17aa6a]['getBase64FromMediaMessage'](_0x481f30);}async[a0_0x28e68b(0x1c0)]({instanceName:_0x1b5672},_0x978f2a){const _0x4c76b3=a0_0x28e68b;return await this[_0x4c76b3(0x20d)][_0x4c76b3(0x2ef)][_0x1b5672][_0x4c76b3(0x1c0)](_0x978f2a);}async[a0_0x28e68b(0x297)]({instanceName:_0x328de3},_0x3b9bb0){const _0xfd9a72=a0_0x28e68b;return await this[_0xfd9a72(0x20d)][_0xfd9a72(0x2ef)][_0x328de3][_0xfd9a72(0x297)](_0x3b9bb0);}async[a0_0x28e68b(0x29d)]({instanceName:_0x4c49e4}){const _0x58e679=a0_0x28e68b;return await this[_0x58e679(0x20d)][_0x58e679(0x2ef)][_0x4c49e4][_0x58e679(0x29d)]();}async[a0_0x28e68b(0x509)]({instanceName:_0x4f7367}){const _0x376660=a0_0x28e68b;return await this[_0x376660(0x20d)][_0x376660(0x2ef)][_0x4f7367][_0x376660(0x509)]();}async[a0_0x28e68b(0x5f3)]({instanceName:_0x2d61ce},_0x49748b){const _0x58ac79=a0_0x28e68b;return await this[_0x58ac79(0x20d)][_0x58ac79(0x2ef)][_0x2d61ce][_0x58ac79(0x5f3)](_0x49748b);}async[a0_0x28e68b(0x193)]({instanceName:_0x59165e},_0x5747b9){const _0x25208f=a0_0x28e68b;return await this[_0x25208f(0x20d)]['waInstances'][_0x59165e][_0x25208f(0x193)](_0x5747b9[_0x25208f(0x426)]);}async[a0_0x28e68b(0x24f)]({instanceName:_0x43c8ea},_0x142412){const _0x5302f2=a0_0x28e68b;return await this['waMonitor'][_0x5302f2(0x2ef)][_0x43c8ea]['updateProfileName'](_0x142412[_0x5302f2(0x35d)]);}async[a0_0x28e68b(0x46b)]({instanceName:_0x3cbac1},_0x12d0ff){const _0x1413a9=a0_0x28e68b;return await this[_0x1413a9(0x20d)][_0x1413a9(0x2ef)][_0x3cbac1]['updateProfileStatus'](_0x12d0ff['status']);}async[a0_0x28e68b(0x653)]({instanceName:_0x354a83},_0x9daf3d){const _0x309d32=a0_0x28e68b;return await this['waMonitor'][_0x309d32(0x2ef)][_0x354a83][_0x309d32(0x653)](_0x9daf3d[_0x309d32(0x578)]);}async['removeProfilePicture']({instanceName:_0x52c740},_0x283ac7){const _0x191947=a0_0x28e68b;return await this[_0x191947(0x20d)]['waInstances'][_0x52c740]['removeProfilePicture']();}},Ns=require(a0_0x28e68b(0x356)),Vt=class l{constructor(_0xa32bb2,_0xd7cd49,_0x22d658,_0x254eb4,_0x5588c8){const _0x19638e=a0_0x28e68b;this[_0x19638e(0x20d)]=_0xa32bb2,this['configService']=_0xd7cd49,this[_0x19638e(0x641)]=_0x22d658,this[_0x19638e(0x3b8)]=_0x254eb4,this[_0x19638e(0x63f)]=_0x5588c8,this[_0x19638e(0x602)]=new v(l[_0x19638e(0x35d)]);}async[a0_0x28e68b(0x47c)]({instanceName:_0x124d6d,apikey:_0x5bd3df}){const _0x101742=a0_0x28e68b;let _0x38c93f=new be(this[_0x101742(0x1ba)],this[_0x101742(0x3b8)],this[_0x101742(0x641)]);_0x38c93f['instanceName']=_0x124d6d,this[_0x101742(0x20d)][_0x101742(0x2ef)][_0x38c93f[_0x101742(0x28e)]]=_0x38c93f,this[_0x101742(0x20d)][_0x101742(0x258)](_0x38c93f['instanceName']);let _0x221578={};_0x5bd3df?(await this[_0x101742(0x641)]['auth'][_0x101742(0x598)]({'apikey':_0x5bd3df},_0x124d6d),_0x221578['apikey']=_0x5bd3df):_0x221578=await this[_0x101742(0x63f)][_0x101742(0x3a3)]({'instanceName':_0x38c93f[_0x101742(0x28e)]});let _0x54f926;return await _0x38c93f[_0x101742(0x15e)](),await(0x0,Ns[_0x101742(0x441)])(0x7d0),_0x54f926=_0x38c93f[_0x101742(0x1f7)],{'instance':{'instanceName':_0x38c93f['instanceName'],'status':_0x101742(0x241)},'hash':_0x221578,'qrcode':_0x54f926};}async['connectToWhatsapp']({instanceName:_0x32a61a}){const _0x5dc0a1=a0_0x28e68b;try{let _0x238759=this[_0x5dc0a1(0x20d)]['waInstances'][_0x32a61a];switch(_0x238759[_0x5dc0a1(0x2c1)]?.[_0x5dc0a1(0x43f)]){case _0x5dc0a1(0x58f):return await _0x238759[_0x5dc0a1(0x15e)](),await(0x0,Ns[_0x5dc0a1(0x441)])(0x7d0),_0x238759[_0x5dc0a1(0x1f7)];case _0x5dc0a1(0x1ac):return _0x238759[_0x5dc0a1(0x1f7)];default:return await this[_0x5dc0a1(0x462)]({'instanceName':_0x32a61a});}}catch(_0x34a3cd){this[_0x5dc0a1(0x602)][_0x5dc0a1(0x39e)](_0x34a3cd);}}async['connectionState']({instanceName:_0x21db1e}){const _0x288e64=a0_0x28e68b;let _0x48a15e=this[_0x288e64(0x20d)][_0x288e64(0x2ef)][_0x21db1e][_0x288e64(0x2c1)],_0x188b6d=null;_0x48a15e[_0x288e64(0x43f)]===_0x288e64(0x679)&&_0x21db1e&&(_0x188b6d=await this[_0x288e64(0x20d)][_0x288e64(0x402)](_0x21db1e));let _0x11e76f=null;return _0x48a15e['state']===_0x288e64(0x1ac)&&_0x21db1e&&(_0x11e76f=this[_0x288e64(0x20d)][_0x288e64(0x2ef)][_0x21db1e][_0x288e64(0x1f7)]),{'instance':_0x21db1e,'connectionStatus':_0x48a15e,'instanceInfo':_0x188b6d,'qrcode':_0x11e76f};}async[a0_0x28e68b(0x4df)]({instanceName:_0xcf2fd0}){const _0x260d99=a0_0x28e68b;try{return this[_0x260d99(0x20d)]['waInstances'][_0xcf2fd0]?.[_0x260d99(0x2e3)]?.['ws']?.[_0x260d99(0x58f)](),{'status':_0x260d99(0x17d),'error':!0x1,'response':{'message':_0x260d99(0x307)}};}catch(_0xbecb85){this[_0x260d99(0x602)][_0x260d99(0x197)](_0xbecb85);}}async[a0_0x28e68b(0x5c9)]({instanceName:_0x2f7651}){const _0x4542e8=a0_0x28e68b;return _0x2f7651?this['waMonitor'][_0x4542e8(0x402)](_0x2f7651):this['waMonitor'][_0x4542e8(0x402)]();}async['logout']({instanceName:_0xfdfb5c}){const _0x14cfbf=a0_0x28e68b;try{return await this['waMonitor'][_0x14cfbf(0x2ef)][_0xfdfb5c]?.[_0x14cfbf(0x2e3)]?.[_0x14cfbf(0x596)](_0x14cfbf(0x2ec)+_0xfdfb5c),{'error':!0x1,'message':_0x14cfbf(0x4f6)};}catch(_0x2c4ffe){throw new A(_0x2c4ffe[_0x14cfbf(0x3d0)]());}}async[a0_0x28e68b(0x63e)]({instanceName:_0x478833}){const _0x459e24=a0_0x28e68b;if((await this['connectionState']({'instanceName':_0x478833}))[_0x459e24(0x2c1)][_0x459e24(0x43f)]===_0x459e24(0x679))throw new m([_0x459e24(0x416),_0x459e24(0x24e)]);try{return delete this[_0x459e24(0x20d)][_0x459e24(0x2ef)][_0x478833],{'error':!0x1,'message':_0x459e24(0x4d9)};}catch(_0x19d50c){throw new m(_0x19d50c[_0x459e24(0x3d0)]());}}async[a0_0x28e68b(0x1bf)](_0x14f8b3,_0x4f2d88){const _0x3ee049=a0_0x28e68b;return await this[_0x3ee049(0x63f)][_0x3ee049(0x1bf)](_0x4f2d88);}},te=require(a0_0x28e68b(0x1c6)),jt=class{constructor(_0x3bce2f){const _0xacda3b=a0_0x28e68b;this[_0xacda3b(0x20d)]=_0x3bce2f;}async['sendText']({instanceName:_0xf4c48c},_0x44ad16){const _0x3b03b6=a0_0x28e68b;return await this[_0x3b03b6(0x20d)][_0x3b03b6(0x2ef)][_0xf4c48c][_0x3b03b6(0x33b)](_0x44ad16);}async['sendMedia']({instanceName:_0x2cad5b},_0x328e01){const _0x4c062a=a0_0x28e68b;if((0x0,te[_0x4c062a(0x50b)])(_0x328e01?.[_0x4c062a(0x627)]?.['media'])&&!_0x328e01?.['mediaMessage']?.[_0x4c062a(0x5b2)])throw new m(_0x4c062a(0x4ab));if((0x0,te['isURL'])(_0x328e01?.['mediaMessage']?.[_0x4c062a(0x668)])||(0x0,te[_0x4c062a(0x50b)])(_0x328e01?.[_0x4c062a(0x627)]?.[_0x4c062a(0x668)]))return await this[_0x4c062a(0x20d)]['waInstances'][_0x2cad5b][_0x4c062a(0x627)](_0x328e01);throw new m(_0x4c062a(0x630));}async['sendSticker']({instanceName:_0x30b3a8},_0x186571){const _0x58753a=a0_0x28e68b;if((0x0,te['isURL'])(_0x186571[_0x58753a(0x440)][_0x58753a(0x319)])||(0x0,te[_0x58753a(0x50b)])(_0x186571[_0x58753a(0x440)][_0x58753a(0x319)]))return await this[_0x58753a(0x20d)][_0x58753a(0x2ef)][_0x30b3a8][_0x58753a(0x681)](_0x186571);throw new m(_0x58753a(0x630));}async[a0_0x28e68b(0x125)]({instanceName:_0x6e1117},_0x59ca04){const _0x598e5d=a0_0x28e68b;if((0x0,te['isURL'])(_0x59ca04[_0x598e5d(0x2e7)]['audio'])||(0x0,te[_0x598e5d(0x50b)])(_0x59ca04[_0x598e5d(0x2e7)][_0x598e5d(0x1ef)]))return await this[_0x598e5d(0x20d)]['waInstances'][_0x6e1117][_0x598e5d(0x5cc)](_0x59ca04);throw new m(_0x598e5d(0x630));}async['sendButtons']({instanceName:_0x6ca9c7},_0x7b5d31){const _0x5b95a8=a0_0x28e68b;if((0x0,te[_0x5b95a8(0x50b)])(_0x7b5d31['buttonMessage'][_0x5b95a8(0x627)]?.[_0x5b95a8(0x668)])&&!_0x7b5d31['buttonMessage']['mediaMessage']?.[_0x5b95a8(0x5b2)])throw new m(_0x5b95a8(0x4ab));return await this[_0x5b95a8(0x20d)][_0x5b95a8(0x2ef)][_0x6ca9c7][_0x5b95a8(0x278)](_0x7b5d31);}async[a0_0x28e68b(0x2b1)]({instanceName:_0x19e1d2},_0x18a129){const _0x48d7ff=a0_0x28e68b;return await this[_0x48d7ff(0x20d)]['waInstances'][_0x19e1d2][_0x48d7ff(0x4d6)](_0x18a129);}async[a0_0x28e68b(0x329)]({instanceName:_0x3a50f6},_0x1b852b){const _0x42af5c=a0_0x28e68b;return await this[_0x42af5c(0x20d)][_0x42af5c(0x2ef)][_0x3a50f6][_0x42af5c(0x4bc)](_0x1b852b);}async[a0_0x28e68b(0x3dc)]({instanceName:_0x5a3ff3},_0x3b8835){const _0x168495=a0_0x28e68b;return await this[_0x168495(0x20d)][_0x168495(0x2ef)][_0x5a3ff3][_0x168495(0x34b)](_0x3b8835);}async['sendContact']({instanceName:_0x3fd187},_0xe9698e){const _0x44e6ae=a0_0x28e68b;return await this[_0x44e6ae(0x20d)]['waInstances'][_0x3fd187][_0x44e6ae(0x454)](_0xe9698e);}async['sendReaction']({instanceName:_0x14e805},_0x2298ae){const _0x5df801=a0_0x28e68b;if(!_0x2298ae[_0x5df801(0x552)][_0x5df801(0x13c)][_0x5df801(0x467)](/[^\(\)\w\sà-ú"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this['waMonitor'][_0x5df801(0x2ef)][_0x14e805][_0x5df801(0x552)](_0x2298ae);}async['sendStatus']({instanceName:_0x48e48f},_0x4731cb){const _0x3d0b6b=a0_0x28e68b;return await this[_0x3d0b6b(0x20d)]['waInstances'][_0x48e48f][_0x3d0b6b(0x3fe)](_0x4731cb);}},Bt=class{constructor(_0x14ed49){const _0x2132fc=a0_0x28e68b;this[_0x2132fc(0x20d)]=_0x14ed49;}async[a0_0x28e68b(0x19c)](_0x6df6ca,_0xa2daba){const _0xc9ca35=a0_0x28e68b;return await this[_0xc9ca35(0x20d)][_0xc9ca35(0x2ef)][_0x6df6ca[_0xc9ca35(0x28e)]][_0xc9ca35(0x19c)](_0xa2daba);}async[a0_0x28e68b(0x673)](_0x29508b,_0x56a877){const _0x53283b=a0_0x28e68b;return await this[_0x53283b(0x20d)][_0x53283b(0x2ef)][_0x29508b[_0x53283b(0x28e)]][_0x53283b(0x673)](_0x56a877);}async['groupDesc'](_0x2bd2db,_0x249faf){const _0x38e201=a0_0x28e68b;return await this[_0x38e201(0x20d)][_0x38e201(0x2ef)][_0x2bd2db[_0x38e201(0x28e)]]['groupDesc'](_0x249faf);}async[a0_0x28e68b(0x5a3)](_0x2a1259,_0x52e66f){const _0x472fb7=a0_0x28e68b;return await this['waMonitor'][_0x472fb7(0x2ef)][_0x2a1259[_0x472fb7(0x28e)]][_0x472fb7(0x5a3)](_0x52e66f);}async[a0_0x28e68b(0x353)](_0x58ea56,_0x1acdbb){const _0x11329b=a0_0x28e68b;return await this[_0x11329b(0x20d)][_0x11329b(0x2ef)][_0x58ea56['instanceName']][_0x11329b(0x353)](_0x1acdbb);}async['findGroupInfo'](_0x42fa3f,_0x5e95f7){const _0x49410b=a0_0x28e68b;return await this['waMonitor']['waInstances'][_0x42fa3f[_0x49410b(0x28e)]][_0x49410b(0x5ce)](_0x5e95f7);}async[a0_0x28e68b(0x22e)](_0x248ad0){const _0x31bbb8=a0_0x28e68b;return await this[_0x31bbb8(0x20d)][_0x31bbb8(0x2ef)][_0x248ad0[_0x31bbb8(0x28e)]]['findGroups']();}async[a0_0x28e68b(0x3f6)](_0x3eb451,_0x470ea8){const _0x1f8ac1=a0_0x28e68b;return await this[_0x1f8ac1(0x20d)][_0x1f8ac1(0x2ef)][_0x3eb451[_0x1f8ac1(0x28e)]][_0x1f8ac1(0x3f6)](_0x470ea8);}async[a0_0x28e68b(0x57d)](_0x4f483b,_0x545c15){const _0x4fe902=a0_0x28e68b;return await this[_0x4fe902(0x20d)][_0x4fe902(0x2ef)][_0x4f483b[_0x4fe902(0x28e)]][_0x4fe902(0x57d)](_0x545c15);}async[a0_0x28e68b(0x4c8)](_0x40f94d,_0x586fa3){const _0x2bfb93=a0_0x28e68b;return await this[_0x2bfb93(0x20d)][_0x2bfb93(0x2ef)][_0x40f94d['instanceName']][_0x2bfb93(0x4c8)](_0x586fa3);}async[a0_0x28e68b(0x3f8)](_0x44f9d8,_0x1297ba){const _0x1ff605=a0_0x28e68b;return await this[_0x1ff605(0x20d)][_0x1ff605(0x2ef)][_0x44f9d8[_0x1ff605(0x28e)]][_0x1ff605(0x3f8)](_0x1297ba);}async[a0_0x28e68b(0x425)](_0xbdecde,_0x1669cb){const _0xf822b3=a0_0x28e68b;return await this[_0xf822b3(0x20d)][_0xf822b3(0x2ef)][_0xbdecde['instanceName']][_0xf822b3(0x62d)](_0x1669cb);}async[a0_0x28e68b(0x23e)](_0x49956e,_0x5352fc){const _0x189c90=a0_0x28e68b;return await this[_0x189c90(0x20d)][_0x189c90(0x2ef)][_0x49956e[_0x189c90(0x28e)]]['toggleEphemeral'](_0x5352fc);}async['leaveGroup'](_0x3e03cc,_0x469276){const _0x39f15a=a0_0x28e68b;return await this[_0x39f15a(0x20d)]['waInstances'][_0x3e03cc[_0x39f15a(0x28e)]]['leaveGroup'](_0x469276);}},Ft=class{constructor(_0x2f7df4,_0x15db08){const _0x48af9c=a0_0x28e68b;this['waMonit']=_0x2f7df4,this[_0x48af9c(0x1ba)]=_0x15db08;}async[a0_0x28e68b(0x206)](_0x41ea7c,_0x4236ae){const _0x110aba=a0_0x28e68b;try{let _0x3203fa=_0x41ea7c[_0x110aba(0x378)];if(this[_0x110aba(0x625)]['waInstances'][_0x3203fa[_0x110aba(0x28e)]]['connectionStatus'][_0x110aba(0x43f)]==='open')throw new m('The\x20instance\x20is\x20already\x20connected');let _0x4bea75=this[_0x110aba(0x1ba)][_0x110aba(0x2cc)]('AUTHENTICATION')[_0x110aba(0x649)];return _0x4236ae[_0x110aba(0x4c5)](0xc8)[_0x110aba(0x2d5)]('qrcode',{'type':_0x4bea75,..._0x3203fa});}catch(_0x53aefb){console['log']('ERROR:\x20',_0x53aefb);}}},Gt=class{constructor(_0x26e359){const _0x1035ab=a0_0x28e68b;this[_0x1035ab(0x20d)]=_0x26e359;}[a0_0x28e68b(0x598)](_0x4f1606,_0x414f52){const _0x2011ae=a0_0x28e68b;return this[_0x2011ae(0x20d)][_0x2011ae(0x2ef)][_0x4f1606[_0x2011ae(0x28e)]][_0x2011ae(0x6a3)](_0x414f52);}async[a0_0x28e68b(0x1bc)](_0x27fb58){const _0xccfb4e=a0_0x28e68b;try{return await this[_0xccfb4e(0x20d)][_0xccfb4e(0x2ef)][_0x27fb58['instanceName']][_0xccfb4e(0x302)]();}catch{return{'enabled':null,'url':''};}}},Zu=new v(a0_0x28e68b(0x2b7)),qt=class{constructor(_0x3942c1){const _0x5a81a6=a0_0x28e68b;this[_0x5a81a6(0x20d)]=_0x3942c1;}async[a0_0x28e68b(0x5b6)](_0x5878ff,_0xad654d){const _0x5ee4b8=a0_0x28e68b;return await this['waMonitor'][_0x5ee4b8(0x2ef)][_0x5878ff[_0x5ee4b8(0x28e)]][_0x5ee4b8(0x5b6)](_0xad654d);}async[a0_0x28e68b(0x199)](_0x18fa4e){const _0x2db18b=a0_0x28e68b;return await this['waMonitor']['waInstances'][_0x18fa4e[_0x2db18b(0x28e)]]['getScheduleMessage']();}async['deleteDoneMessages'](_0x5b67f6){const _0x5225df=a0_0x28e68b;return await this[_0x5225df(0x20d)][_0x5225df(0x2ef)][_0x5b67f6[_0x5225df(0x28e)]][_0x5225df(0x3ee)]();}async[a0_0x28e68b(0x105)](_0x21d4ab){const _0xc744c2=a0_0x28e68b;return await this[_0xc744c2(0x20d)]['waInstances'][_0x21d4ab['instanceName']][_0xc744c2(0x105)]();}async[a0_0x28e68b(0x109)](_0x31e6e1,_0x364400){const _0x43bc7a=a0_0x28e68b;return await this[_0x43bc7a(0x20d)][_0x43bc7a(0x2ef)][_0x31e6e1[_0x43bc7a(0x28e)]]['updateAgent'](_0x364400);}async['updateCustomFields'](_0x5e18dc,_0x34f564){const _0x2acea7=a0_0x28e68b;return await this[_0x2acea7(0x20d)][_0x2acea7(0x2ef)][_0x5e18dc[_0x2acea7(0x28e)]]['updateCustomFields'](_0x34f564);}async[a0_0x28e68b(0x1eb)](_0x1c1771,_0x556425){const _0x5bfc2d=a0_0x28e68b;return await this['waMonitor']['waInstances'][_0x1c1771[_0x5bfc2d(0x28e)]][_0x5bfc2d(0x1eb)](_0x556425);}async[a0_0x28e68b(0x110)](_0x29d0c4,_0x3ab5d0){const _0x52bcfe=a0_0x28e68b;return await this[_0x52bcfe(0x20d)][_0x52bcfe(0x2ef)][_0x29d0c4[_0x52bcfe(0x28e)]][_0x52bcfe(0x110)](_0x3ab5d0);}async[a0_0x28e68b(0x526)](_0x4697d6,_0x23c310){const _0x18fde1=a0_0x28e68b;return await this[_0x18fde1(0x20d)][_0x18fde1(0x2ef)][_0x4697d6[_0x18fde1(0x28e)]][_0x18fde1(0x526)](_0x23c310);}async[a0_0x28e68b(0x675)](_0x82fa8d,_0x4b248e){const _0x1a295b=a0_0x28e68b;return await this[_0x1a295b(0x20d)][_0x1a295b(0x2ef)][_0x82fa8d[_0x1a295b(0x28e)]][_0x1a295b(0x675)](_0x4b248e);}async[a0_0x28e68b(0x2ae)](_0x2552a8,_0x1ea652){const _0x4161ee=a0_0x28e68b;return await this[_0x4161ee(0x20d)][_0x4161ee(0x2ef)][_0x2552a8[_0x4161ee(0x28e)]][_0x4161ee(0x2ae)](_0x1ea652);}async[a0_0x28e68b(0x6ba)](_0x24a1bf,_0x31e4bb){const _0x423a1e=a0_0x28e68b;return await this[_0x423a1e(0x20d)][_0x423a1e(0x2ef)][_0x24a1bf['instanceName']][_0x423a1e(0x6ba)](_0x31e4bb);}async[a0_0x28e68b(0x571)](_0x84f1bd,_0x18dd72){const _0x1acdb1=a0_0x28e68b;return await this['waMonitor'][_0x1acdb1(0x2ef)][_0x84f1bd['instanceName']][_0x1acdb1(0x571)](_0x18dd72[_0x1acdb1(0x35d)]);}async[a0_0x28e68b(0x4f5)](_0x50fd4b,_0x201b3c){const _0x2483e8=a0_0x28e68b;return await this[_0x2483e8(0x20d)][_0x2483e8(0x2ef)][_0x50fd4b[_0x2483e8(0x28e)]]['createFlow'](_0x201b3c);}async[a0_0x28e68b(0x31c)](_0x20ea81,_0x5bcfca){const _0x4c9c83=a0_0x28e68b;return await this[_0x4c9c83(0x20d)][_0x4c9c83(0x2ef)][_0x20ea81['instanceName']][_0x4c9c83(0x31c)](_0x5bcfca);}async['editFlowBlock'](_0x3d0522,_0x236484){const _0x2938e7=a0_0x28e68b;return await this[_0x2938e7(0x20d)]['waInstances'][_0x3d0522[_0x2938e7(0x28e)]][_0x2938e7(0x658)](_0x236484);}async[a0_0x28e68b(0x15a)](_0x2da948,_0x545763){const _0x42084d=a0_0x28e68b;return await this['waMonitor']['waInstances'][_0x2da948[_0x42084d(0x28e)]]['editFlowReply'](_0x545763);}async[a0_0x28e68b(0x366)](_0x76853a,_0x38a1c5){const _0x265436=a0_0x28e68b;return await this[_0x265436(0x20d)][_0x265436(0x2ef)][_0x76853a[_0x265436(0x28e)]]['editFlowGroup'](_0x38a1c5);}async[a0_0x28e68b(0x61d)](_0x31c759,_0x46368f){const _0xfb06c6=a0_0x28e68b;return await this['waMonitor']['waInstances'][_0x31c759[_0xfb06c6(0x28e)]]['editFlowCondition'](_0x46368f);}async['editFlowVaredit'](_0xb28917,_0xd059ec){const _0x28c751=a0_0x28e68b;return await this[_0x28c751(0x20d)]['waInstances'][_0xb28917[_0x28c751(0x28e)]][_0x28c751(0x38d)](_0xd059ec);}async['editFlowVariable'](_0x5100c4,_0x40e05f){const _0x478f18=a0_0x28e68b;return await this[_0x478f18(0x20d)][_0x478f18(0x2ef)][_0x5100c4['instanceName']]['editFlowVariable'](_0x40e05f);}async[a0_0x28e68b(0x2f2)](_0x4db642,_0x33a39c){const _0x26966d=a0_0x28e68b;return await this[_0x26966d(0x20d)][_0x26966d(0x2ef)][_0x4db642[_0x26966d(0x28e)]]['deleteFlow'](_0x33a39c[_0x26966d(0x35d)]);}async[a0_0x28e68b(0x130)](_0x27c0b6){const _0x3d7d68=a0_0x28e68b;return await this[_0x3d7d68(0x20d)]['waInstances'][_0x27c0b6[_0x3d7d68(0x28e)]][_0x3d7d68(0x130)]();}},Jt=class{constructor(_0x3ba2f5){const _0x41ec55=a0_0x28e68b;this[_0x41ec55(0x6ab)]=_0x3ba2f5;}async[a0_0x28e68b(0x1c4)](_0x4c717e,_0x1e779a){const _0xd0b83e=a0_0x28e68b;return this[_0xd0b83e(0x6ab)][_0xd0b83e(0x598)](_0x4c717e,_0x1e779a);}async[a0_0x28e68b(0x302)](_0x460f7e){const _0x3cf889=a0_0x28e68b;return this[_0x3cf889(0x6ab)]['find'](_0x460f7e);}},Wt=class{constructor(_0x17fa90,_0x59d815,_0x575e04,_0x33d20f,_0x4b26a7,_0x831b0e,_0x25592e){const _0x213c2b=a0_0x28e68b;this['message']=_0x17fa90,this[_0x213c2b(0x17c)]=_0x59d815,this[_0x213c2b(0x559)]=_0x575e04,this[_0x213c2b(0x3fc)]=_0x33d20f,this[_0x213c2b(0x44e)]=_0x4b26a7,this[_0x213c2b(0x2e5)]=_0x831b0e,this[_0x213c2b(0x2ad)]=_0x25592e;}get[a0_0x28e68b(0x68b)](){const _0x524295=a0_0x28e68b;return this[_0x524295(0x2ad)];}},Ts=require(a0_0x28e68b(0x253)),Cs=class{},pi=new Ts[(a0_0x28e68b(0x27a))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':[a0_0x28e68b(0x1c8),a0_0x28e68b(0x3b9),a0_0x28e68b(0x47e)]},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),ho=R?.[a0_0x28e68b(0x3b4)](Cs['name'],pi,a0_0x28e68b(0x234)),vs=class{},mi=new Ts[(a0_0x28e68b(0x27a))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String,'required':!0x0,'min':0x1},'id':{'type':String,'required':!0x0,'min':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'min':0x1},'datetime':{'type':Number,'required':!0x0,'min':0x1},'status':{'type':String,'required':!0x0},'owner':{'type':String,'required':!0x0,'min':0x1}}),fo=R?.[a0_0x28e68b(0x3b4)](vs[a0_0x28e68b(0x35d)],mi,a0_0x28e68b(0x3fc)),wo=require(a0_0x28e68b(0x253)),Rs=class{},gi=new wo['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),yo=R?.[a0_0x28e68b(0x3b4)](Rs['name'],gi,a0_0x28e68b(0x3a5)),bo=require(a0_0x28e68b(0x253)),Ms=class{},So=new bo[(a0_0x28e68b(0x27a))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});So[a0_0x28e68b(0x328)]('save',function(_0x390a66){const _0x2cdfd2=a0_0x28e68b;delete this[_0x2cdfd2(0x692)],delete this[_0x2cdfd2(0x60a)],delete this[_0x2cdfd2(0x34a)],delete this[_0x2cdfd2(0x640)],delete this[_0x2cdfd2(0x45d)],_0x390a66();});var Eo=R?.['model'](Ms[a0_0x28e68b(0x35d)],So,'webhook'),As=require(a0_0x28e68b(0x446)),No=require('fs'),Ht=class extends j{constructor(_0x163063,_0xb4d356){const _0x5af71e=a0_0x28e68b;super(_0xb4d356),this[_0x5af71e(0x34e)]=_0x163063,this[_0x5af71e(0x1ba)]=_0xb4d356;}async[a0_0x28e68b(0x598)](_0x2e64cc,_0x486e80){const _0x161cc7=a0_0x28e68b;try{return this[_0x161cc7(0x313)][_0x161cc7(0x516)]?{'insertCount':(await this[_0x161cc7(0x34e)][_0x161cc7(0x16c)]({'_id':_0x486e80},{..._0x2e64cc},{'upsert':!0x0}))[_0x161cc7(0x654)]}:(this[_0x161cc7(0x42f)]({'path':(0x0,As[_0x161cc7(0x1b8)])(this[_0x161cc7(0x4ee)],_0x161cc7(0x44e)),'fileName':_0x486e80,'data':_0x2e64cc}),{'insertCount':0x1});}catch(_0x437168){return _0x437168;}}async['find'](_0x59408c){const _0x2e1020=a0_0x28e68b;try{return this['dbSettings'][_0x2e1020(0x516)]?await this[_0x2e1020(0x34e)]['findOne']({'_id':_0x59408c}):JSON[_0x2e1020(0x3a4)]((0x0,No[_0x2e1020(0x169)])((0x0,As['join'])(this['storePath'],_0x2e1020(0x44e),_0x59408c+_0x2e1020(0x149)),{'encoding':_0x2e1020(0x65e)}));}catch{return{};}}},Is=require(a0_0x28e68b(0x446)),Co=require('fs'),Kt=class extends j{constructor(_0x4a9857,_0x3dd2ae){const _0x2f1d2b=a0_0x28e68b;super(_0x3dd2ae),this[_0x2f1d2b(0x26b)]=_0x4a9857,this['configService']=_0x3dd2ae,this[_0x2f1d2b(0x2e5)]=_0x3dd2ae[_0x2f1d2b(0x2cc)](_0x2f1d2b(0x231));}async[a0_0x28e68b(0x598)](_0x313309,_0xc1836){const _0x30792a=a0_0x28e68b;try{return this[_0x30792a(0x313)]['ENABLED']?{'insertCount':(await this['authModel']['replaceOne']({'_id':_0xc1836},{..._0x313309},{'upsert':!0x0}))['modifiedCount']}:(this[_0x30792a(0x42f)]({'path':(0x0,Is[_0x30792a(0x1b8)])(Qt,this['auth']['TYPE']),'fileName':_0xc1836,'data':_0x313309}),{'insertCount':0x1});}catch(_0x48c287){return{'error':_0x48c287};}}async['find'](_0x35ea6a){const _0x43935c=a0_0x28e68b;try{return this[_0x43935c(0x313)]['ENABLED']?await this[_0x43935c(0x26b)][_0x43935c(0x1a2)]({'_id':_0x35ea6a}):JSON[_0x43935c(0x3a4)]((0x0,Co[_0x43935c(0x169)])((0x0,Is[_0x43935c(0x1b8)])(Qt,this[_0x43935c(0x2e5)][_0x43935c(0x649)],_0x35ea6a+'.json'),{'encoding':'utf-8'}));}catch{return{};}}},hi=new v(a0_0x28e68b(0x31e)),fi=new je(ho,y),wi=new Lt(I,y),yi=new Ze(Fe,y),bi=new st(fo,y),Si=new Ht(Eo,y),Ei=new Kt(yo,y),ue=new Wt(fi,wi,yi,bi,Si,Ei,R?.['getClient']()),B=new kt(es,y,ue),Ni=new gt(y,B,ue),Ci=new Gt(B),fs=new Jt(Ci),M=new qt(B),ne=new Vt(B,y,ue,es,Ni),Qa=new Ft(B,y),W=new jt(B),O=new Ut(B),U=new Bt(B);function a0_0x20e3(){const _0x3926db=['fone','createClient','AUTHENTICATION_API_KEY','remoteJids','request\x20received\x20in\x20getConversation','):\x20Entrou\x20na\x20função\x20saveReply','createFlow','Instance\x20logged\x20out','Instância:\x20','verify','connectionUpdate','/events/:instance','isFile','DATABASE_CONNECTION_USER','MAX_RECONNECT_ATTEMPTS','envProcess','https://uazapi-plugin.bubbleapps.io/?url=','unreadCount','headerString','Revoke\x20error','data','4FHRyeR','):\x20Buscando\x20flow...','nome','connection.update','fetchProfilePictureUrl','fetchPrivacySettings','WEBHOOK_MAP','isBase64','toBrazilianNumberFormat','flattenObject','API\x20Key\x20inválida.','mediatype','readMessageBot','\x1b[33m\x1b[1m','CORS','\x0a*Você\x20respondeu*:\x0a','errorLog','buttonsMessage','ENABLED','onWhatsApp','Authentication\x20error','-instances','):\x20Procurando\x20conversa','scheduled','):\x20Alterando\x20fluxo...','groupInviteCode','contacts.upsert','\x1b[30m%s\x1b[0m','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','replaceVariablesInObject','jid','replaceValue','call','post','getConversation','remoteJidsRemaining','convertaudio','profile','blockLogs','Sistema\x20atualizado\x20com\x20sucesso!','?authSource=admin&readPreference=primary&directConnection=true','caption','Próxima\x20verificação\x20em\x20','PROD','COLOR','archive','findIndex','contacts.update','birthtime','\x1b[43m','wuid','GROUP_PARTICIPANTS_UPDATE','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','DATABASE_CONNECTION_HOST','nomecompleto','groupRevokeInvite','latitude','lastmsg','Erro\x20ao\x20atualizar\x20os\x20detalhes\x20do\x20perfil:','WARN','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','Business\x20profile\x20fetched','flow','\x20minutos\x20verificará\x20novas\x20mensagens','pino','participant','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','waitingPoll_name','HeaderType','):\x20Comando\x20desconhecido:\x20','useMultiFileAuthState','verifiedName','Subscribed\x20Events:','arraybuffer','\x20}\x0a','Erro\x20ao\x20buscar\x20conversa:\x20','readMessages','reactionMessage','exists','groupJid','/instance/fetchInstances','goToFlow','.TEL;waid=','loadInstance','contact','updateGroupsAddPrivacy','/webhook','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','ERROR:\x20','stack','groups.upsert','$dbName','waitingPoll_id','ignoreGroups','audio/ogg;\x20codecs=opus','isJidGroup','Content\x20is\x20required','sendPresenceUpdate','$set','CHATS_SET','/events','groupFetchAllParticipating','editflowvaredit','\x1b[34m','buffer','warn','Error\x20updating\x20privacy\x20settings','Content-Type','getFlow','end','vote','endSession','Error\x20removing\x20profile\x20picture','where','WEBHOOK_GLOBAL_ENABLED','picture','urlencoded','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','Error\x20processing\x20read\x20messages:','DEL_INSTANCE','joinGroup','equal','instance.','\x20foram\x20adicionados\x20\x22contactname\x22\x20','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','):\x20Editando\x20grupo\x20do\x20fluxo...','addReplyOption','DB_PREFIX_NAME','routerPath','Erro\x20ao\x20obter\x20a\x20imagem\x20do\x20perfil:\x20','Not\x20allowed\x20by\x20CORS','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','status@broadcast','processingScheduleMessageId','Nenhum\x20chat\x20encontrado\x20para\x20editar.','AUTHENTICATION_JWT_SECRET','\x20horas\x20e\x20','*Pergunta*:\x20\x0a','close','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','archiveChat','GUARD','-whatsapp-api','Original\x20filename:','greater','logout','readdirSync','create','instance','BufferJSON','The\x20','MESSAGES_SET','delAll','email','/:instanceName','):\x20conversation.waitingPollname','fluent-ffmpeg','):\x20Editando\x20variável\x20do\x20fluxo...','groupName','tokenId','DATABASE_CONNECTION_DB_PREFIX_NAME','Error\x20while\x20deleting\x20message\x20for\x20everyone','/wa-message','no-cache','Background\x20color\x20is\x20required','cleanStore','Atualização:\x20','request\x20received\x20in\x20allFlows','Fetching\x20business\x20profile','findMessages','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20áudio:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','loggedOut','fileName','variablesToObject','@redis/client','notEmpty','editScheduleMessage','Não\x20respondeu\x20com\x20a\x20enquete.','):\x20Query\x20params:','limit','.mp3','newName','Error\x20updating\x20profile\x20name','contextInfo','static','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','_doc','13949730VIxxQk','command','pt-BR','bulkWrite','):\x20alterando\x20this.AutomateSystem','scheduleMessage','isJidUser','editOperator','fetchInstances','LOG_LEVEL','deleteMany','audioWhatsapp','boolean','findGroup','optionDescription','sendSticker','JWT','sendAudio','desc','documentMessage','Erro\x20ao\x20atualizar\x20conversa:\x20','onTime','#ffffff','PRESENCE_UPDATE','processApiRequest','archived','now','\x20chats\x20de\x20','lastInteraction','set','map','last','then','delaySecMin','request\x20received\x20in\x20editConversation','MESSAGES_UPSERT','Error\x20change\x20group\x20setting','NextBlock','express','prepareWAMessageMedia','URI','key.','replace','):\x20Erro\x20ao\x20buscar\x20conversas\x20','createJid','\x1b[1m\x1b[37m','):\x20Limpando\x20delayMessage','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','isArray','messaging-history.set','updatePrivacySettings','noConnection','existsSync','Forbidden','):\x20transformedCustomFieldVariables','toDataURL','/wa-presence','height','):\x20Criando\x20nova\x20conversa','responsavelid','):\x20Deletando\x20mensagem','console','sleep','replaceVariables','isInteger','logger','PASSWORD','processUazapi','query','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','*\x0a\x0a','Instance\x20ID:','endsWith','flowIgnoreGroups','phoneNumber','Error\x20updating\x20message\x20status:','):\x20Falha\x20ao\x20deletar\x20mensagem.','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','senderKeyDistributionMessage','-ar',',\x20Segundo\x20Valor:\x20','deleteOne','^\x5cd+','!cmd_','privacySettings','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','messageHandle','STORE_CONTACTS','last_update','):\x20Erro\x20ao\x20editar\x20agentes:\x20','messageModel','tags','editFlowCondition','isBuffer','chatModel','lastSend','AUTHENTICATION_TYPE','):\x20Deletados\x20','setting','_error','waMonit','GROUPS_UPDATE','mediaMessage','LOG','width','instanceKeys','presenceSubscribe','BRL','updateGParticipant','\x20is\x20already\x20in\x20use.','}}\x20->\x20valor\x20não\x20encontrado','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','/instance','rowId','not_announcement','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','getContentType','viewOnceMessage','WEBHOOK_EVENTS_CHATS_SET','send','Unauthorized','DARK','--version','findAndReplace','dropCollection','deleteInstance','authService','flowStopConversation','repository','ObjectId','save','resetReconnectionVariables','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','item','rmSync','lastBlockId','TYPE','input','leaveGroup','mentioned','/media','convert','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','group-participants.update','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','updateProfilePicture','modifiedCount','add','CONFIG_SESSION_PHONE','contentText','editFlowBlock','sort','whatsappNumber','floor','):\x20Error\x20processing\x20the\x20block:\x20','delInstanceFiles','utf-8','block','/message','collections','/wa-groups','fromObject','\x20install\x20output:\x20','Connection','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','\x22\x20not\x20found','media','):\x20Erro\x20ao\x20criar\x20fluxo\x20','CORS_ORIGIN','Error\x20creating\x20group','address',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','getDelay','audioChannels','length','sendDataWebhook','connect','updateGroupPicture','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','fetchConversation','Variável\x20não\x20encontrada!','@s.whatsapp.net','request\x20received\x20in\x20createFlow','open','update','Connection\x20closed\x20for\x20instance:\x20','updateOnlinePrivacy','method','Message','errors','Creating\x20media\x20folder...','mediaSticker','cwd','Enter\x20a\x20value\x20in\x20milliseconds','redis','user','variable','js-yaml','local_map','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','PRIVKEY','dbServer','The\x20global\x20api\x20key\x20must\x20be\x20set','Button\x20texts\x20cannot\x20be\x20repeated','PRODUCTION','view\x20engine','verbose','WEBHOOK_EVENTS_CONTACTS_UPDATE','flowActive','READ','spawn','QRCODE_UPDATED','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','messagesSend','metadata','GROUPS_UPSERT','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','refused','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','\x20minutos.\x20Será\x20às\x20','findByIdAndDelete','body','DisconnectReason','reviver','notas','setWebhook','events','valid','groups','put','Error\x20updating\x20profile\x20status','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','getMinutes','webhookService','Flow\x20não\x20encontrado','collection','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','filter','Font\x20is\x20required','evaluateCondition','apiResponse','):\x20Enviando\x20texto','localWebhook','REDIS_ENABLED','URL:','\x5cd+','Button\x20IDs\x20cannot\x20be\x20repeated.','processConditionsTest','deleteConversation','write','locked','isBooleanString','sendText','toBRL','\x1b[37m%s\x1b[0m','statusJidList','pop','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','hSet','Valor\x20de\x20find\x20ou\x20replace\x20ausente','sendContact','messageUpModel','uazapiSendMedia','\x20não\x20encontrado','messageSecret','sendMedia','getAutomateSystem','):\x20teve\x20mudanças\x20chat.name:\x20','public','uazapi','updateAgent',',\x20fará\x20nova\x20verificação\x20em\x20','lastCondition','unlinkSync','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','WEBHOOK_GLOBAL_URL','https://api.ipify.org?format=json','startFlow','insertMany','done','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','role','defineAuthState','Error\x20change\x20group\x20description','start','LOG_COLOR','loadEnv','displayName','statusCode','replaceVariablesLogs','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','new.jwt','mediaKey','creds.json','Bloco\x20com\x20ID\x20','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','matchRegex','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','sendWhatsAppAudio','MESSAGES_UPDATE','getStatus','.X-ABLabel:Celular\x0a','integer','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','.josn','SERVER_ACK','stop','dark','pollCreationMessageKey','allFlows','oldValue','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','stdout','default','createConversationforgoToFlow','applyvaredit','poll','flowConfig','\x1b[0m','hGetAll','https','reaction','stoppedUntil','hDel','request\x20received\x20in\x20getAutomateSystem','unlocked','findGroupInfos','isJWT','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','):\x20Enviando\x20contato','8022936iHJrWF','goNextblock','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','stanzaId','.json','):\x20customFieldVariables','update.$set.lastmsg','/clients-info','updateChat','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','fromMe','updateOne','catch','/media/','EMAIL:','Trying\x20to\x20get\x20business\x20profile','stopMinutes','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','Method\x20not\x20implemented.','Readable','editFlowReply','):\x20Entrou\x20na\x20função\x20goToFlow','Instance\x20Key\x20from\x20DB:','mkdirSync','connectToWhatsapp','downloadMediaMessage','setNewValue','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','editFlowVariable','HH:mm:ss','pollCreationMessage','poll_id','DATABASE','userDevicesCache','readFileSync','extractRegex','GLOBAL','replaceOne','insert','creds.update','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','request\x20body:\x20','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','processPollUpdateMessage','\x1b[33m%s\x1b[0m','ButtonsMessage','ON\x20-\x20dbName:\x20','composing','VERBOSE','env','\x20messages.update.','errno','chat','SUCCESS','http','Flow\x20iniciado\x20com\x20','):\x20Conversas\x20encontradas:','reconnectTimestamps','):\x20Editando\x20bloco...','contacts','remove','\x1b[36m','createConversationforStartFlow','joinGroupValidate','unreadcount','ReplyOption\x20com\x20ID\x20','request\x20received\x20in\x20starFlow','stateConnection','debug','notEqual','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','loadWebhook','):\x20Flow\x20não\x20encontrado','/create','initAuthCreds','fetchBusinessProfile','startsWith','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','shift','error','\x5c$&','getScheduleMessage','processConditions','https://github.com/uazapi/uazapi.git','createGroup','connectionClosed','?timestamp=','hex','desativadoFluxoAte','@g.us','findOne','createNewConversation','document',',\x20lastCondition:\x20','não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','CREDENTIALS','sha256','Desconectado,\x20parando\x20execução.','deleteMessageForEveryone','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','connecting','Valor\x20inicial:\x20\x22','closed','waitingPoll_replyOptions','node-mime-types','isURL','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','use','WEBHOOK_EVENTS_SEND_MESSAGE','some','Error\x20fetching\x20group','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','join','\x1b[1m','configService','webhookMap','find','type','trim','refreshToken','fetchMessages','):\x20this.processingScheduleMessageId:\x20','http://checkip.dyndns.org','groupHandler','createWebhook','send.message','class-validator','Erro\x20ao\x20aplicar\x20varedit:\x20','android','chats.delete','setHeader','request\x20received\x20in\x20getFlow','/automate','chats.upsert','AppStateSyncKeyData','CONTACTS_SET','replaceVariablesChat','opendirSync','Close\x20connection','PORT','Error\x20writing\x20file:','sections','express-async-errors','):\x20Ignoring\x20group\x20messages.','\x0aFN:','licenca','https://jsonip.com','\x1b[32m','isLong','Fluxos\x20não\x20estão\x20ativados','getMIMEType','qrcode.updated','getHours','isRunning','assign','getAllData','envYaml','indexOf','USER','groupDesc','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','throwAndLogError','imagechat','updateFlowConfig','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','DEBUG','saveMediaToFile','audio','getOwnPropertyDescriptor','pollCreationMessageV3','notify','Invalid\x20format','toLocaleString','axios','toArray','qrCode','protocolMessage','CHATS_UPDATE','\x1b[44m','flushHeaders','reference','removed','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','defineProperty','cpf','readMessage','REDIS_PREFIX_KEY','groupSettingUpdate','fetchProfile','blocks','qrcode','markMessageAsRead','toLowerCase','updateMany','DATABASE_CONNECTION_PASSWORD','lastSendMessage','):\x20Deletando\x20conversa...','waMonitor','router','editflowvariable','upperCase','contains','values','sending','apply','less','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','Error\x20change\x20group\x20name','.sendDataWebhook-local','apikey','5JjPbJE','replyOption','and','saveAPI','atendimentoAberto','hasOwnProperty','):\x20Error\x20processing\x20conditions:\x20','STORE_CLEANING_TERMINAL','lean','linkPreview','getRandomText','expiration','backgroundColor','contact_blacklist','reorderBlocks','\x22\x20-\x20REMOVED','split','leadInfo','/wa-contacts','findGroups','selectedOptions','STORE','AUTHENTICATION','load','dataValidate','messages','findById','redirect','evaluateConditionTest','groupCreate','CORS_METHODS','Error\x20converting\x20audio:\x20','createConnection','Instância\x20não\x20encontrada.','creds','toggleEphemeral','entries','https://','created','):\x20Mensagem\x20já\x20enviada\x20para\x20','editedMessage','pollCreationMessageV2','Falha\x20ao\x20deletar\x20mensagens:','uazapiSendText','updateProfilePicturePrivacy','creation','sendStatus','PHONE','groupAcceptInvite','updateReplyOption','PLAYED','The\x20instance\x20needs\x20to\x20be\x20disconnected','updateProfileName','WEBHOOK_EVENTS_CONTACTS_UPSERT','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','\x22\x20-\x20NOT\x20CONNECTION','mongoose','max','url','-acodec','fetchContacts','delInstanceTime','conversationTimestamp','stopMinutesMaxActives','documentWithCaptionMessage','buttonText','SSL_CONF_PRIVKEY','request\x20received\x20in\x20editFlowgroup','Fluxo\x20não\x20encontrado','capitalizedWords','stopConversation','newStoppedUntil','lastMessage','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','text','request\x20received\x20in\x20editFlowvariable','TRIAL_INSTANCE_NAME','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','groupUpdateDescription','\x0aitem','authModel','):\x20conversation.lastInteraction:\x20','editflowblock','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','1160982alOwGo','namespace','exec','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','authState','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','status.instance','mentions','buttonMessage','.jwt','Schema','unhandledRejection','Erro\x20ao\x20editar\x20o\x20chat:\x20','Not\x20is\x20business\x20profile','):\x20','editflowgroup','EXPIRIN_IN','truncatedto','WEBHOOK_EVENTS_GROUPS_UPDATE','message','firstValue','):\x20delete\x20=\x20true','59045844YPqiHi','):\x20Entrou\x20na\x20função\x20stop','opus','unavailable','presence','):\x20Iniciando\x20bot...','contactHandle','Flow\x20already\x20exists','instanceName','Invalid\x20output','chats.set','chatHandle','views','substring','performBulkUpdate','Erro\x20ao\x20editar\x20agentes:\x20','):\x20Limpando\x20AutomateSystem','fetchStatusMessage','\x20inseridos\x20no\x20banco\x20de\x20dados...','chats','out','WEBHOOK_EVENTS_MESSAGES_SET','remove.instance','fetchChats','WEBHOOK','app-state-sync-key','groupUpdateSubject','none','):\x20Enviando\x20mídia','CHATS_UPSERT','groupToggleEphemeral','Media\x20folder\x20path:','optionName','uazapiSendContact','sendMessageWithTyping','NAME','buttonId','sign','messageTimestamp','dbClient','editConversation','msgRetryCounterCache','ogg','sendLocation','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','object','/refreshToken','writeFileSync','Primeiro\x20Valor:\x20','FlowController','json','\x20contacts','Tanto\x20id\x20quanto\x20owner\x20são\x20necessários\x20para\x20criar\x20ou\x20editar\x20um\x20chat.','selectableCount','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','Erro\x20ao\x20instalar\x20','/wa-chats','ERROR','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','connectionStatus','normalizeMessage','Read\x20messages','Error\x20update\x20group\x20picture','contactname','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Error\x20updating\x20profile\x20picture','findConversation','emit','_id','replyOptions','get','request\x20received\x20in\x20deleteDoneMessages','stopped','/*.json','eventHandler','Início','):\x20Conversa\x20inserida\x20com\x20sucesso.','originalUrl',',\x20resultado:\x20','render','del','variables','SERVER_TYPE','longitude','editChat','.refreshToken','deletedCount','sendMessage','\x1b[47m','groupValidate','):\x20Buscando\x20conversas...','contactsArrayMessage','saveCreds','client','uuid','auth','allContacts','audioMessage','Not\x20Found','messages.update','apirequest','5450104NHTUka','Log\x20out\x20instance:\x20','writeFile',',\x20Expiration\x20Time:\x20','waInstances','datetime','updateStatusPrivacy','deleteFlow','announce','notContains','authorization','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','organization','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','statSync','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','updateMediaMessage','\x1b[31m%s\x1b[0m','updateMessage','scheduleNextCheck','push','deleteBlock','Error\x20in\x20scheduleNextCheck:\x20','findWebhook','cleaningUp','success','):\x20Flow\x20desativado','CONTACTS_UPSERT','Instance\x20restarted','Types','getDevice','chatLog','jwt','Data\x20inválida\x20fornecida','prototype','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','updateBlock','pollUpdateMessage','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','Initial\x20__dirname:','dbSettings','getBusinessProfile','\x0a{\x20instance:\x20','enabled','getOwnPropertyNames','padEnd','image','scheduleSendMedia','groupadd','editFlow','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','WA\x20MODULE','blockId','writeData','recording','\x1b[36m%s\x1b[0m','available','No\x20join\x20group\x20invite\x20code\x20or\x20url','DELIVERY_ACK','base64','store','pre','sendPoll','content','varedit','owner','WEBHOOK_EVENTS_PRESENCE_UPDATE','key','contactModel','readreceipts','uazapiSendLocation','addresss','option','child_process','16000','from','cors','DOCKER_ENV','REDIS','):\x20Edit\x20schedule\x20message...','textMessage','removeData','convertedOptions','parseInt','sem\x20texto\x20na\x20mensagem','):\x20Ler\x20mensagem','next_groupId','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','1279617AcwgnS','7880gJXsKO','match_last_seen','Logger','fileLength','stream-buffers','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','flowPrefixCommand','listMessage','enumerable','run','webhookModel','deleteflow','getVariablesChat','LEVEL','leadInfo.desativadoFluxoAte','groupSetting','WEBHOOK_EVENTS_CHATS_UPSERT','Unknown\x20message\x20type\x20encountered','@whiskeysockets/baileys','scheduleSendText','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','\x20não\x20encontrado\x20para\x20atualização.','):\x20Procurando\x20mensagens\x20para\x20envio','RECONNECT_TIME_FRAME','whatsappNumbers','name','\x20instance\x20does\x20not\x20exist','):\x20tem\x20blocks','forEach','uazapiSendAudio','array','participants','editflow','Já\x20existe\x20fluxo\x20com\x20esse\x20nome','editFlowGroup','findAndReplaceRegex','demote','ids','chats.update','data:\x20','STORE_MESSAGE','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','Instance\x20\x22','segundos','Unable\x20to\x20leave\x20the\x20group','instanceName\x20not\x20provided.','ffmpeg','REDIS_URI','formatBRNumber','no.connection','):\x20Buscando\x20conversa...','proto','params','title','\x1b[41m','header','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','Type\x20is\x20required','conversation','value','profilePicture',',\x20Minutes\x20to\x20Close:\x20','toNumber','uncaughtException','exit','):\x20Criando\x20fluxo...','Message\x20not\x20found','redisEnv','scheduleSendAudio','bodyString','deleteMessage','^\x5cd+[\x5c.@\x5cw-]+','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','editFlowVaredit','syscall','METHODS','isConnected','\x20mensagens\x20de\x20','group','sendReaction','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','/wa-message-update','saveConversationToDatabase','getflow','headers','SendScheduleMessage','request\x20received\x20in\x20editFlow','#000000','):\x20Tentando\x20deletar\x20todas\x20mensagens\x20updates...','truncatedtoEnd','log','redisCache','KEY','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','CONECTADO\x20À\x20UAZAPI','generateHash','parse','authentication','stderr','fetchProfilePicture','interval\x20não\x20é\x20um\x20número','):\x20Buscando\x20todos\x20os\x20fluxos...','presence.update','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','):\x20teve\x20mudanças\x20chat.displayName:\x20','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','Internal\x20Server\x20Error','Parando\x20aplicação...','10bmYoZg','variablesNotFound','newValue','):\x20lastBlockId:\x20','model','):\x20Enviando\x20áudio','secondValue','getBase64FromMediaMessage','eventEmitter','web','subjectTime','OrAnd','):\x20Going\x20to\x20','charAt','sendButtons','/instance/create','numbers','CORS_CREDENTIALS','test','app','sudo\x20apt\x20install\x20-y\x20ffmpeg','Missing\x20global\x20api\x20key','prepareMediaMessage','upsertChats','-version','processgoToFlow','/exit','arrayUnique','fullName','Error\x20updating\x20setting','AutomateSystem','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','toString','moreLogs','findFlow','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','redis-server','trimmed','all','g-t','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','minutesToClose','flowConversation','lastReceivedMessage','sendList','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):\x20leadInfoVariables','listen','code','saveTextReply',',\x20qrcodeCount:\x20','request\x20received\x20in\x20editFlowcondition','subject','request\x20received\x20in\x20updateFlowConfig','\x1b[34m%s\x1b[0m','realVariables','PREFIX_KEY','groupId','SSL_CONF_FULLCHAIN','quoted','condition','announcement','deleteDoneMessages','9968ArasNn','pollOnReplyDelete','processblock','urlOrBase64','finish','Bad\x20Request','!stop','inviteCode','profilePictureUrl','findParticipants','function','processvaredits','fetchAndUpdateProfileDetails','messageUpdate','chrome','statusMessage','CONTACTS_UPDATE','notMatchRegex','.\x20Código\x20de\x20saída\x20','instanceInfo','inner','when','action','empty','updateConversation','font','stringify','removeProfilePicture','INFO','TEXT','format','slice','libvorbis','video','Mensagem\x20não\x20suportada','oldToken','gifPlayback','viewOnceMessageV2','conditions','Deletion\x20failed','Cannot\x20','video-cover.png','currency','mongodb','):\x20Não\x20achou\x20nenhum\x20flow','waUploadToServer','mimetype','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','):\x20teve\x20mudanças\x20chat.archived:\x20','splice','50mb','promote','validate','long','updateGParticipate','number','Db\x20Connection','hostname','changeVariables','false','Parando\x20aplicação,\x20atualização\x20recebida','groupMetadata','error_log','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','writeStore','ephemeralMessage','DATABASE_ENABLED','execSync','pollErrorMessage','request\x20received\x20in\x20updateAgent','WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE','hbs','Comando\x20desconhecido',',\x20saindo.',',\x20Comparador:\x20','audioCodec','customFields','):\x20Enviando\x20enquete','SERVER_OFFLINE','decryptPollVote','state','stickerMessage','delay','info','utf8','SEND_MESSAGE','NODE_ENV','path','includes','order','Router','Erro\x20inesperado\x20em\x20processvaredits:\x20','getMessage','StartBot','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','webhook','readData','deleteReplyOption','END:VCARD','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','Error\x20updating\x20participants','contactMessage','\x22\x20cannot\x20be\x20empty','addBlock','):\x20Criou\x20conversa\x20no\x20startFlow:','Cache-Control','Error\x20deleting\x20instance\x20from\x20memory.','Erro\x20na\x20migração:','The\x20property\x20cannot\x20be\x20empty','groups.update','flowStopMinutes','getTime','repeat','This\x20name\x20','updateCustomFields','connectionState','agents','AutomateSystem\x20não\x20foi\x20inicializado','message-up','https://uazapi-plugin.bubbleapps.io/','match','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','):\x20A\x20atualização\x20no\x20BD\x20do\x20chat\x20não\x20foi\x20bem\x20sucedida','expression','updateProfileStatus','ip:\x20','prefixCommand','EVENTS','Falha\x20ao\x20deletar\x20mensagens\x20updates:','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','messages.set','SERVER','footerText','SECRET','CHATS_DELETE','8080','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','saveVariable','mongodb://','dbInstance','string','createInstance','Validate','ios','paused','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:','formatStatusMessage','updateLastSeenPrivacy','pushName','STATUS_INSTANCE','varedits','CONNECTION','AutomateFunctions','Type\x20not\x20found','context','ex:\x20\x22groupJid=120362@g.us\x22','remoteJid','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','text/event-stream','messageId',',\x20valor\x20a\x20encontrar:\x20\x22','remote\x20\x22origin\x22','Erro\x20ao\x20editar\x20a\x20conversa:\x20','response','Getting\x20profile\x20info','No\x20invite\x20code','jsonwebtoken','TRIAL_AD','/wa-connection-update','createServer','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','Falta\x20informação\x20para\x20a\x20chamada\x20API','AUTHENTICATION_JWT_EXPIRIN_IN','API_KEY','\x20minutos','reconnectAttempts','CONNECTION_UPDATE','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','true','createflow','downloads','isDirectory','\x1b[30m','checkAndUpdateChats','buttons','WEBHOOK_EVENTS_GROUPS_UPSERT','output','create\x20-\x20success','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','messages.upsert','toUpperCase','description','bearer','\x1b[31m','Erro\x20ao\x20iniciar\x20fluxo:\x20','keys','):\x20newSecondValue\x20após\x20replaceVariables:','findContacts','restart','./.git/config','\x1b[40m','maxActives','sticker','findByIdAndUpdate','findOneAndUpdate','pollMessage','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','):\x20Erro\x20ao\x20iniciar\x20fluxo\x20','DELETED','editflowcondition','imageMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','env.KEY\x20!==\x20key','status','@broadcast','delete','revokeInviteCode','AUTOUPDATE','getClient','nextBlock:','https://chat.whatsapp.com/','SSL_CONF','online','fetchStatus','delayMessage','count','scheduleMessages','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','\x22,\x20valor\x20a\x20substituir:\x20\x22','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','locationMessage','size','options','Instance\x20deleted','Conversa\x20deletada\x20com\x20sucesso.','removeInstance','\x20foi\x20interrompido\x20pelo\x20usuário.','\x1b[42m','findStatusMessage','restartInstance','random','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','URL','getTicketSystem','\x20segundos','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','FULLCHAIN','chatModify','Erro:','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','lowerCase','Invalid\x20\x22oldToken\x22','):\x20Deletando\x20fluxo...','updateChatWithMessage','storePath'];a0_0x20e3=function(){return _0x3926db;};return a0_0x20e3();}hi[a0_0x28e68b(0x442)]('Module\x20-\x20ON');var up=require('express-async-errors'),Ds=require('fs'),vo=T(require('https')),To=T(require(a0_0x28e68b(0x17e))),$e=class l{static #e;static set['app'](_0x2f71e5){this.#e=_0x2f71e5;}static get[a0_0x28e68b(0x13b)](){const _0x376dc1=a0_0x28e68b;let {FULLCHAIN:_0x31bd16,PRIVKEY:_0x468268}=y[_0x376dc1(0x2cc)](_0x376dc1(0x4cd));return vo[_0x376dc1(0x498)]({'cert':(0x0,Ds[_0x376dc1(0x169)])(_0x31bd16),'key':(0x0,Ds['readFileSync'])(_0x468268)},l.#e);}static get['http'](){return To['createServer'](l.#e);}},ke=T(require('fs')),Oo=T(require('ini')),Le=T(require(a0_0x28e68b(0x1f5))),zt=T(require('path')),_o=require('child_process'),$s=require(a0_0x28e68b(0x334));function vi(){const _0x1802a7=a0_0x28e68b;B[_0x1802a7(0x558)]();let _0x1701f9=zt[_0x1802a7(0x134)][_0x1802a7(0x1b8)](__dirname,'downloads');Po(_0x1701f9);}var Po=_0x9784ad=>{const _0x23ae3d=a0_0x28e68b;let _0x33fda9=ke[_0x23ae3d(0x134)][_0x23ae3d(0x597)](_0x9784ad),_0x519553=0xc*0x3c*0x3c*0x3e8,_0x4ba0b7=0x2*0x3c*0x3c*0x3e8,_0x3cb37f=new Date()[_0x23ae3d(0x45e)]();_0x33fda9[_0x23ae3d(0x360)](_0xe46f82=>{const _0x2c5e28=_0x23ae3d;let _0x35260c=zt[_0x2c5e28(0x134)][_0x2c5e28(0x1b8)](_0x9784ad,_0xe46f82),_0x3e1b2f=ke['default'][_0x2c5e28(0x2f9)](_0x35260c)[_0x2c5e28(0x534)][_0x2c5e28(0x45e)]();_0x3cb37f-_0x3e1b2f>_0x519553&&(ke[_0x2c5e28(0x134)][_0x2c5e28(0x10c)](_0x35260c),console[_0x2c5e28(0x39e)]('Deleted\x20'+_0xe46f82));}),setTimeout(()=>Po(_0x9784ad),_0x4ba0b7);};function Ti(){const _0x1764d5=a0_0x28e68b;let _0x396693=new v(_0x1764d5(0x472)),_0x549252=(0x0,me[_0x1764d5(0x134)])();_0x549252[_0x1764d5(0x1b3)]((0x0,Do[_0x1764d5(0x134)])({'origin'(_0x3819f1,_0x2e5854){const _0x5b0112=_0x1764d5;let {ORIGIN:_0x8708ec}=y[_0x5b0112(0x2cc)](_0x5b0112(0x512));return _0x3819f1||(_0x3819f1='*'),_0x8708ec['indexOf']('*')!==-0x1||_0x8708ec[_0x5b0112(0x1e5)](_0x3819f1)!==-0x1?_0x2e5854(null,!0x0):_0x2e5854(new Error(_0x5b0112(0x587)));},'methods':[...y[_0x1764d5(0x2cc)](_0x1764d5(0x512))[_0x1764d5(0x38f)]],'credentials':y[_0x1764d5(0x2cc)](_0x1764d5(0x512))[_0x1764d5(0x1a7)]}),(0x0,me[_0x1764d5(0x579)])({'extended':!0x0,'limit':_0x1764d5(0x421)}),(0x0,me['json'])({'limit':_0x1764d5(0x421)})),_0x549252[_0x1764d5(0x1b3)]((_0x4d4510,_0x1afe4e,_0x55af8a)=>{const _0x1fd0c0=_0x1764d5;_0x4d4510[_0x1fd0c0(0x446)]['startsWith'](_0x1fd0c0(0x569))?_0x55af8a():(0x0,Io[_0x1fd0c0(0x134)])()(_0x4d4510,_0x1afe4e,_0x55af8a);}),_0x549252[_0x1764d5(0x5de)](_0x1764d5(0x68f),_0x1764d5(0x436)),_0x549252[_0x1764d5(0x5de)](_0x1764d5(0x292),(0x0,Os[_0x1764d5(0x1b8)])(z,_0x1764d5(0x292))),_0x549252[_0x1764d5(0x1b3)](me[_0x1764d5(0x134)]['static']((0x0,Os[_0x1764d5(0x1b8)])(z,_0x1764d5(0x107)))),_0x549252['use']((_0x40f58a,_0x52fc6f,_0x503c1c)=>{const _0x21cf17=_0x1764d5;let _0x33dce4=_0x52fc6f['send'];_0x52fc6f[_0x21cf17(0x638)]=function(_0x29dbef){const _0x5e01b7=_0x21cf17;if(_0x40f58a[_0x5e01b7(0x605)][_0x5e01b7(0x64e)]===_0x5e01b7(0x4a1)||_0x40f58a[_0x5e01b7(0x398)][_0x5e01b7(0x108)]===_0x5e01b7(0x4a1)){let _0x4a99a2=JSON[_0x5e01b7(0x3a4)](_0x29dbef);_0x29dbef=JSON['stringify'](_0x23c1c3(_0x4a99a2));}return _0x33dce4[_0x5e01b7(0x214)](_0x52fc6f,[_0x29dbef]);},_0x503c1c();}),_0x549252['use']('/',Pt),_0x549252[_0x1764d5(0x1b3)]((_0x58f431,_0x38af97,_0x1699c3,_0x52a0c6)=>{const _0x2a0987=_0x1764d5;if(_0x58f431)return _0x1699c3[_0x2a0987(0x4c5)](_0x58f431[_0x2a0987(0x4c5)]||0x1f4)[_0x2a0987(0x2b8)](_0x58f431);},(_0x1b7d6a,_0x33ec52,_0x3e707b)=>{const _0x3d04f6=_0x1764d5;let {method:_0x47e439,url:_0x4ed20a}=_0x1b7d6a;_0x33ec52['status'](0x194)[_0x3d04f6(0x2b8)]({'status':0x194,'message':_0x3d04f6(0x417)+_0x47e439[_0x3d04f6(0x4ad)]()+'\x20'+_0x4ed20a,'error':_0x3d04f6(0x2e8)}),_0x3e707b();});let _0x23c1c3=(_0x5b0ea,_0x2313bf='_p_')=>{const _0x53cb97=_0x1764d5;let _0x274647=(_0x237199,_0x244d25=null,_0xe8c034=!0x1)=>{const _0x2bfb35=a0_0x4842;let _0x45b3c3={};return Object[_0x2bfb35(0x4b2)](_0x237199)[_0x2bfb35(0x360)](_0x328693=>{const _0x3da001=_0x2bfb35;let _0x2ce9ae=_0x237199[_0x328693],_0x6ed17b=''+_0x2313bf+_0x328693;_0x244d25&&!_0xe8c034&&(_0x6ed17b=_0x244d25+'.'+_0x328693),!_0x2ce9ae&&_0x2ce9ae!==0x0&&_0x2ce9ae!==!0x1||typeof _0x2ce9ae>'u'?_0x45b3c3[_0x6ed17b]=null:typeof _0x2ce9ae!=_0x3da001(0x2b3)&&!Array['isArray'](_0x2ce9ae)?_0x45b3c3[_0x6ed17b]=_0x2ce9ae:typeof _0x2ce9ae=='object'&&!Array[_0x3da001(0x5f1)](_0x2ce9ae)?_0x45b3c3=Object[_0x3da001(0x1e2)](_0x45b3c3,_0x274647(_0x2ce9ae,_0x6ed17b)):Array[_0x3da001(0x5f1)](_0x2ce9ae)&&(typeof _0x2ce9ae[0x0]==_0x3da001(0x2b3)?(_0x45b3c3[_0x6ed17b]=[],_0x2ce9ae['forEach'](_0xab325d=>{const _0x276e42=_0x3da001;_0x45b3c3[_0x6ed17b][_0x276e42(0x2ff)](_0x274647(_0xab325d,_0x6ed17b,!0x0));})):_0x45b3c3[_0x6ed17b]=_0x2ce9ae);}),_0x45b3c3;};return Array[_0x53cb97(0x5f1)](_0x5b0ea)?_0x5b0ea['map'](_0x29d3c8=>_0x274647(_0x29d3c8)):typeof _0x5b0ea==_0x53cb97(0x2b3)&&_0x5b0ea!==null?_0x274647(_0x5b0ea):{};},_0x1c4e4e=y[_0x1764d5(0x2cc)](_0x1764d5(0x472));$e[_0x1764d5(0x3c3)]=_0x549252;let _0x135169=$e[_0x1c4e4e['TYPE']],_0x53edb9=_0x1764d5(0x666);_0x135169[_0x1764d5(0x3df)](_0x1c4e4e[_0x1764d5(0x1d3)],()=>{const _0x34bede=_0x1764d5;_0x396693[_0x34bede(0x39e)](_0x53edb9),_0x396693[_0x34bede(0x39e)](_0x1c4e4e['TYPE'][_0x34bede(0x4ad)]()+'\x20-\x20ON:\x20'+_0x1c4e4e['PORT']);}),vi(),Ws();}function a0_0x4842(_0x1a8c3d,_0xbbc3e8){const _0x20e32c=a0_0x20e3();return a0_0x4842=function(_0x4842bc,_0x52eb66){_0x4842bc=_0x4842bc-0xf8;let _0x51cbde=_0x20e32c[_0x4842bc];return _0x51cbde;},a0_0x4842(_0x1a8c3d,_0xbbc3e8);}function _s(_0x47042f,_0x2f5e40){return new Promise(_0x5c4431=>{(0x0,_o['exec'])(_0x47042f+'\x20'+_0x2f5e40,_0x53a730=>{_0x5c4431(!_0x53a730);});});}function Ro(_0x31c268,_0x441cf5,_0x1fbfc1){return new Promise(_0x1a1315=>{const _0x415305=a0_0x4842;_s(_0x31c268,_0x1fbfc1)[_0x415305(0x5e1)](_0x22e45b=>{const _0x9e1f75=_0x415305;if(_0x22e45b)_0x1a1315(!0x0);else{let [_0x5215ac,..._0x1c3553]=_0x441cf5[_0x9e1f75(0x22b)]('\x20'),_0x1ce490=(0x0,$s[_0x9e1f75(0x694)])(_0x5215ac,_0x1c3553,{'shell':!0x0});_0x1ce490[_0x9e1f75(0x133)]['on'](_0x9e1f75(0x503),_0x443978=>{const _0x4e9af5=_0x9e1f75;console[_0x4e9af5(0x39e)](_0x31c268+_0x4e9af5(0x664)+_0x443978);}),_0x1ce490[_0x9e1f75(0x3a6)]['on'](_0x9e1f75(0x503),_0x163bcb=>{const _0x1c6fb7=_0x9e1f75;console[_0x1c6fb7(0x197)](_0x31c268+'\x20install\x20error:\x20'+_0x163bcb);}),_0x1ce490['on']('exit',_0x50c654=>{const _0x44bbe5=_0x9e1f75;_0x50c654!==0x0?(console[_0x44bbe5(0x197)](_0x44bbe5(0x2bd)+_0x31c268+_0x44bbe5(0x401)+_0x50c654),_0x1a1315(!0x1)):_0x1a1315(!0x0);});}});});}var Ri=a0_0x28e68b(0x19b),Mi=zt[a0_0x28e68b(0x134)]['join'](__dirname,a0_0x28e68b(0x4b6)),Ce=null;function Ai(){return new Promise((_0x10ce2e,_0x121927)=>{const _0x271ce8=a0_0x4842;ke[_0x271ce8(0x134)]['readFile'](Mi,_0x271ce8(0x65e),(_0xc68b1c,_0x4997e9)=>{const _0x443612=_0x271ce8;if(_0xc68b1c){Ce=_0xc68b1c,_0x10ce2e();return;}Oo[_0x443612(0x134)][_0x443612(0x3a4)](_0x4997e9)[_0x443612(0x490)]['url']===Ri?(Ce=null,_0x10ce2e()):(Ce=new Error(_0x443612(0x1fe)),_0x10ce2e());});});}async function Ii(){const _0x53894f=a0_0x28e68b;try{await Ai(),await xs();}catch(_0x290bb3){console['error'](_0x53894f(0x547)+_0x290bb3),process[_0x53894f(0x384)](0x1);}}Ii();async function xo(){const _0x3e3c61=a0_0x28e68b;let _0x5abc22;try{_0x5abc22=(await Le[_0x3e3c61(0x134)][_0x3e3c61(0x2cc)](_0x3e3c61(0x1da)))[_0x3e3c61(0x503)]['ip'];}catch(_0x2700a2){console[_0x3e3c61(0x197)](_0x2700a2);try{_0x5abc22=(await Le[_0x3e3c61(0x134)][_0x3e3c61(0x2cc)](_0x3e3c61(0x10f)))[_0x3e3c61(0x503)]['ip'];}catch(_0x5683c7){console['error'](_0x5683c7);try{_0x5abc22=(await Le['default'][_0x3e3c61(0x2cc)](_0x3e3c61(0x1c2)))[_0x3e3c61(0x503)][_0x3e3c61(0x467)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x5272af){return console['error'](_0x5272af),!0x1;}}}return _0x5abc22;}async function Di(){const _0x4c352b=a0_0x28e68b;Ce||(await Ro(_0x4c352b(0x3d4),'sudo\x20apt\x20install\x20-y\x20redis-server',_0x4c352b(0x63b)),await Ro(_0x4c352b(0x372),_0x4c352b(0x3c4),'-version'));}var Mo=0x0;async function Pi(){const _0x1da45a=a0_0x28e68b;Di();let _0x1dc1cd=await _s('redis-server',_0x1da45a(0x63b)),_0x4dcfe5=await _s(_0x1da45a(0x372),_0x1da45a(0x3c8)),_0x96b929=y[_0x1da45a(0x2cc)](_0x1da45a(0x339)),_0x594cf1=y[_0x1da45a(0x2cc)](_0x1da45a(0x4c9)),_0x58cdb9=y[_0x1da45a(0x2cc)](_0x1da45a(0x231))['API_KEY'][_0x1da45a(0x3a0)],_0x461469=y[_0x1da45a(0x2cc)]('SSL_CONF'),_0xdc9285=await xo(),_0x27df60=y[_0x1da45a(0x2cc)](_0x1da45a(0x472))[_0x1da45a(0x1d3)],_0x93dea9=y[_0x1da45a(0x2cc)](_0x1da45a(0x24a));try{let _0x10f79c={'ip':_0xdc9285||null,'redis_instalado':_0x1dc1cd||null,'ffmpeg_instalado':_0x4dcfe5||null,'redis_enable':_0x96b929?.[_0x1da45a(0x516)]||null,'autoupdate':_0x594cf1||null,'apikey':_0x58cdb9||null,'ssl':_0x461469?.[_0x1da45a(0x68a)]||null,'lastupdate':$o||null,'port':_0x27df60||null,'phone':_0x93dea9||null,'gitInstallError':Ce?.[_0x1da45a(0x283)]||null};console[_0x1da45a(0x39e)](_0x1da45a(0x46c),_0x10f79c['ip']);for(let _0x22b1f5 in _0x10f79c)_0x10f79c['hasOwnProperty'](_0x22b1f5)&&_0x22b1f5!=='ip'&&(_0x10f79c[_0x22b1f5]=JSON[_0x1da45a(0x409)](_0x10f79c[_0x22b1f5]));return(await Le[_0x1da45a(0x134)][_0x1da45a(0x525)]('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0x10f79c))[_0x1da45a(0x503)];}catch(_0x9ef4d){return console[_0x1da45a(0x197)](_0x9ef4d),!0x1;}finally{}}var Ps=!0x1,$o=0x205,Oi=0x3,Ao=0x1b7740;async function xs(){const _0x3b2f0b=a0_0x28e68b;if(!await xo())return console[_0x3b2f0b(0x197)](_0x3b2f0b(0x394)),'NO_IP';let _0x33f41d=await Pi();if(_0x33f41d){if(_0x33f41d[_0x3b2f0b(0x492)][_0x3b2f0b(0x1d9)]===!0x0){let _0x1ed277=y[_0x3b2f0b(0x2cc)](_0x3b2f0b(0x4c9));Ce===null&&_0x1ed277!==_0x3b2f0b(0x42a)&&_0x33f41d[_0x3b2f0b(0x492)][_0x3b2f0b(0x619)]-$o>0x0&&await _i(),Ps||(Ps=!0x0,Ti());}else return console['log'](_0x3b2f0b(0x3cf)),Ps&&(console[_0x3b2f0b(0x39e)]('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process[_0x3b2f0b(0x384)]()),'LICENSE_INVALID';let _0x4c9486=0x24*0x3c*0x3c,_0x2155ae=_0x33f41d[_0x3b2f0b(0x492)][_0x3b2f0b(0x36f)]>_0x4c9486?_0x4c9486:_0x33f41d[_0x3b2f0b(0x492)][_0x3b2f0b(0x36f)],_0x58a31c=Number(_0x2155ae);if(isNaN(_0x58a31c)){console[_0x3b2f0b(0x197)](_0x3b2f0b(0x3a8));return;}let _0x32bf2c=Math['floor'](_0x58a31c/0xe10),_0x426e9c=Math[_0x3b2f0b(0x65b)](_0x58a31c%0xe10/0x3c),_0x28cc66=new Date(Date[_0x3b2f0b(0x5db)]()+_0x58a31c*0x3e8);setTimeout(xs,_0x58a31c*0x3e8);let _0x459c67=_0x335c8d=>_0x335c8d[_0x3b2f0b(0x3d0)]()['padStart'](0x2,'0'),_0x5e84a7=_0x3b2f0b(0x52e)+_0x459c67(_0x32bf2c)+_0x3b2f0b(0x58d)+_0x459c67(_0x426e9c)+_0x3b2f0b(0x69d)+_0x459c67(_0x28cc66[_0x3b2f0b(0x1e0)]())+':'+_0x459c67(_0x28cc66[_0x3b2f0b(0x6aa)]());console[_0x3b2f0b(0x39e)](_0x5e84a7);}else{if(Mo++,Mo<Oi)console['log']('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+Ao/0xea60+'\x20minutos...'),setTimeout(xs,Ao);else return console['error'](_0x3b2f0b(0x470)),_0x3b2f0b(0x43d);}}async function _i(){const _0x15017c=a0_0x28e68b;console['log'](_0x15017c(0x42b));let _0x4a8a76=(0x0,$s[_0x15017c(0x694)])(_0x15017c(0x124),{'shell':!0x0});_0x4a8a76[_0x15017c(0x133)]['on']('data',_0x456328=>{const _0x5bdc0a=_0x15017c;console['log'](_0x5bdc0a(0x5ab)+_0x456328);}),_0x4a8a76[_0x15017c(0x3a6)]['on'](_0x15017c(0x503),_0x1f95d1=>{const _0x43e1d6=_0x15017c;console[_0x43e1d6(0x197)]('Erro\x20de\x20atualização:\x20'+_0x1f95d1);}),_0x4a8a76['on'](_0x15017c(0x384),_0x3bc0d7=>{const _0x1c7bea=_0x15017c;_0x3bc0d7!==0x0?console[_0x1c7bea(0x197)](_0x1c7bea(0x113)+_0x3bc0d7):console[_0x1c7bea(0x39e)](_0x1c7bea(0x52b)),console['log'](_0x1c7bea(0x3af)),setTimeout(()=>process[_0x1c7bea(0x384)](),0x2710);});}