const a0_0x48e44b=a0_0x43f2;(function(_0x565f64,_0x20fe8a){const _0x5f539e=a0_0x43f2,_0x399ddd=_0x565f64();while(!![]){try{const _0x412279=-parseInt(_0x5f539e(0x4fc))/0x1*(parseInt(_0x5f539e(0x309))/0x2)+-parseInt(_0x5f539e(0x709))/0x3+parseInt(_0x5f539e(0x828))/0x4+parseInt(_0x5f539e(0x195))/0x5*(-parseInt(_0x5f539e(0x163))/0x6)+-parseInt(_0x5f539e(0x27b))/0x7+parseInt(_0x5f539e(0x491))/0x8*(parseInt(_0x5f539e(0x734))/0x9)+parseInt(_0x5f539e(0x367))/0xa;if(_0x412279===_0x20fe8a)break;else _0x399ddd['push'](_0x399ddd['shift']());}catch(_0x3b726e){_0x399ddd['push'](_0x399ddd['shift']());}}}(a0_0x31c9,0xce9e2));var Bi=Object[a0_0x48e44b(0x694)],qe=Object[a0_0x48e44b(0x535)],Wi=Object[a0_0x48e44b(0x311)],zi=Object[a0_0x48e44b(0x2f5)],Hi=Object[a0_0x48e44b(0x169)],Ki=Object[a0_0x48e44b(0x725)][a0_0x48e44b(0x472)],Qi=(_0x2ae6e1,_0x226172)=>{for(var _0x271e8e in _0x226172)qe(_0x2ae6e1,_0x271e8e,{'get':_0x226172[_0x271e8e],'enumerable':!0x0});},Gs=(_0x3fb997,_0x15373d,_0x50d994,_0x1a258d)=>{const _0x4a21fe=a0_0x48e44b;if(_0x15373d&&typeof _0x15373d==_0x4a21fe(0x892)||typeof _0x15373d==_0x4a21fe(0x5c7)){for(let _0xb0b13b of zi(_0x15373d))!Ki['call'](_0x3fb997,_0xb0b13b)&&_0xb0b13b!==_0x50d994&&qe(_0x3fb997,_0xb0b13b,{'get':()=>_0x15373d[_0xb0b13b],'enumerable':!(_0x1a258d=Wi(_0x15373d,_0xb0b13b))||_0x1a258d[_0x4a21fe(0x6d0)]});}return _0x3fb997;},T=(_0x4472ad,_0x2684bd,_0x342444)=>(_0x342444=_0x4472ad!=null?Bi(Hi(_0x4472ad)):{},Gs(_0x2684bd||!_0x4472ad||!_0x4472ad[a0_0x48e44b(0x2d9)]?qe(_0x342444,a0_0x48e44b(0x875),{'value':_0x4472ad,'enumerable':!0x0}):_0x342444,_0x4472ad)),Yi=_0x36de7e=>Gs(qe({},a0_0x48e44b(0x2d9),{'value':!0x0}),_0x36de7e),hr={};Qi(hr,{'fullURL':()=>Vs,'subdomain':()=>B}),module['exports']=Yi(hr);var Fi=T(require(a0_0x48e44b(0x842))),Ws=require('fs'),zs=require('js-yaml'),Hs=require(a0_0x48e44b(0x1e1)),Ve=require(a0_0x48e44b(0x1e1)),le=process[a0_0x48e44b(0x736)](),Se=(0x0,Ve['join'])(le,a0_0x48e44b(0x1e5)),Bs=(0x0,Ve[a0_0x48e44b(0x739)])(le,a0_0x48e44b(0x4e1)),mn=(0x0,Ve[a0_0x48e44b(0x739)])(le,a0_0x48e44b(0x48e),a0_0x48e44b(0x56f)),us=class{constructor(){const _0x143199=a0_0x48e44b;this[_0x143199(0x5f5)]();}[a0_0x48e44b(0x84e)](_0x56e4ed){return this['env'][_0x56e4ed];}['loadEnv'](){const _0x1c8072=a0_0x48e44b;this[_0x1c8072(0x1ee)]=process[_0x1c8072(0x1ee)]?.[_0x1c8072(0x232)]!==_0x1c8072(0x369)?this[_0x1c8072(0x708)]():this[_0x1c8072(0x649)](),process[_0x1c8072(0x1ee)]?.[_0x1c8072(0x232)]===_0x1c8072(0x369)&&(this[_0x1c8072(0x1ee)][_0x1c8072(0x75c)][_0x1c8072(0x44c)]=_0x1c8072(0x66a),this['env'][_0x1c8072(0x75c)][_0x1c8072(0x471)]=Number[_0x1c8072(0x735)](process[_0x1c8072(0x1ee)]?.[_0x1c8072(0x3c4)]??'8080'));}['envYaml'](){const _0x512e37=a0_0x48e44b;return(0x0,zs[_0x512e37(0x4a3)])((0x0,Ws[_0x512e37(0x67f)])((0x0,Hs[_0x512e37(0x739)])(Bs,_0x512e37(0x4ae)),{'encoding':'utf-8'}));}[a0_0x48e44b(0x649)](){const _0x3a25a8=a0_0x48e44b;return{'SERVER':{'TYPE':process[_0x3a25a8(0x1ee)]['SERVER_TYPE'],'PORT':Number['parseInt'](process[_0x3a25a8(0x1ee)][_0x3a25a8(0x3c4)]),'URL':process[_0x3a25a8(0x1ee)][_0x3a25a8(0x71c)]},'CORS':{'ORIGIN':process[_0x3a25a8(0x1ee)][_0x3a25a8(0x4b0)][_0x3a25a8(0x8a4)](','),'METHODS':process[_0x3a25a8(0x1ee)][_0x3a25a8(0x5c8)][_0x3a25a8(0x8a4)](','),'CREDENTIALS':process[_0x3a25a8(0x1ee)]?.[_0x3a25a8(0x461)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0x3a25a8(0x1ee)]?.[_0x3a25a8(0x7d4)],'FULLCHAIN':process[_0x3a25a8(0x1ee)]?.[_0x3a25a8(0x4a4)]},'STORE':{'CLEANING_INTERVAL':Number[_0x3a25a8(0x2b2)](process['env']?.[_0x3a25a8(0x58e)])?Number['parseInt'](process[_0x3a25a8(0x1ee)][_0x3a25a8(0x58e)]):void 0x0,'MESSAGES':process['env']?.[_0x3a25a8(0x19f)]==='true','CONTACTS':process[_0x3a25a8(0x1ee)]?.[_0x3a25a8(0x250)]===_0x3a25a8(0x369),'CHATS':process[_0x3a25a8(0x1ee)]?.[_0x3a25a8(0x8aa)]===_0x3a25a8(0x369)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x3a25a8(0x7ae)],'PORT':Number[_0x3a25a8(0x735)](process['env']?.[_0x3a25a8(0x7ae)]),'USER':process[_0x3a25a8(0x1ee)][_0x3a25a8(0x7dd)],'PASSWORD':process['env'][_0x3a25a8(0x46d)],'URI':process[_0x3a25a8(0x1ee)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process[_0x3a25a8(0x1ee)][_0x3a25a8(0x653)]},'ENABLED':process['env']?.[_0x3a25a8(0x7cf)]==='true'},'REDIS':{'ENABLED':process[_0x3a25a8(0x1ee)]?.[_0x3a25a8(0x1c1)]===_0x3a25a8(0x369),'URI':process['env'][_0x3a25a8(0x40c)]||'redis://127.0.0.1:6379','PREFIX_KEY':process[_0x3a25a8(0x1ee)][_0x3a25a8(0x3e7)]||'uazapi'},'LOG':{'LEVEL':process[_0x3a25a8(0x1ee)]?.[_0x3a25a8(0x6e0)]['split'](','),'COLOR':process['env']?.[_0x3a25a8(0x3fc)]===_0x3a25a8(0x369)},'PROXY':process[_0x3a25a8(0x1ee)]?.['PROXY']===_0x3a25a8(0x369),'AUTHENTICATION':{'TYPE':process[_0x3a25a8(0x1ee)][_0x3a25a8(0x31e)],'API_KEY':{'KEY':process[_0x3a25a8(0x1ee)][_0x3a25a8(0x28e)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x3a25a8(0x1ee)]?.[_0x3a25a8(0x6aa)])?Number['parseInt'](process[_0x3a25a8(0x1ee)][_0x3a25a8(0x6aa)]):0xe10,'SECRET':process['env'][_0x3a25a8(0x52e)]}}};}},S=new us(),Ui=T(require(a0_0x48e44b(0x745))),ye=T(require(a0_0x48e44b(0x609))),qs=require(a0_0x48e44b(0x1e1)),ds=T(require(a0_0x48e44b(0x791))),ps=(_0x4046ff=>(_0x4046ff[a0_0x48e44b(0x868)]=a0_0x48e44b(0x6f0),_0x4046ff[a0_0x48e44b(0x247)]='\x1b[34m',_0x4046ff[a0_0x48e44b(0x63b)]=a0_0x48e44b(0x447),_0x4046ff[a0_0x48e44b(0x820)]=a0_0x48e44b(0x53c),_0x4046ff[a0_0x48e44b(0x35c)]=a0_0x48e44b(0x65d),_0x4046ff['VERBOSE']=a0_0x48e44b(0x524),_0x4046ff[a0_0x48e44b(0x77b)]=a0_0x48e44b(0x6c7),_0x4046ff))(ps||{}),Ks=(_0x599a15=>(_0x599a15[a0_0x48e44b(0x868)]=a0_0x48e44b(0x38a),_0x599a15[a0_0x48e44b(0x77b)]='\x1b[30m%s\x1b[0m',_0x599a15[a0_0x48e44b(0x247)]='\x1b[34m%s\x1b[0m',_0x599a15[a0_0x48e44b(0x63b)]=a0_0x48e44b(0x4ca),_0x599a15['ERROR']=a0_0x48e44b(0x862),_0x599a15[a0_0x48e44b(0x35c)]='\x1b[36m%s\x1b[0m',_0x599a15[a0_0x48e44b(0x55e)]=a0_0x48e44b(0x3d7),_0x599a15))(Ks||{}),Qs=(_0x27f7a5=>(_0x27f7a5[a0_0x48e44b(0x868)]='LOG',_0x27f7a5['WARN']=a0_0x48e44b(0x63b),_0x27f7a5[a0_0x48e44b(0x247)]='INFO',_0x27f7a5['DARK']=a0_0x48e44b(0x77b),_0x27f7a5[a0_0x48e44b(0x820)]='ERROR',_0x27f7a5[a0_0x48e44b(0x35c)]=a0_0x48e44b(0x35c),_0x27f7a5[a0_0x48e44b(0x55e)]=a0_0x48e44b(0x55e),_0x27f7a5))(Qs||{}),Ys=(_0x275491=>(_0x275491[a0_0x48e44b(0x868)]='\x1b[42m',_0x275491['INFO']='\x1b[44m',_0x275491[a0_0x48e44b(0x63b)]=a0_0x48e44b(0x44b),_0x275491[a0_0x48e44b(0x77b)]='\x1b[40m',_0x275491[a0_0x48e44b(0x820)]=a0_0x48e44b(0x58b),_0x275491[a0_0x48e44b(0x35c)]=a0_0x48e44b(0x6f7),_0x275491[a0_0x48e44b(0x55e)]=a0_0x48e44b(0x663),_0x275491))(Ys||{}),$=class{constructor(_0x6a09da=a0_0x48e44b(0x3fa)){const _0x59d8b1=a0_0x48e44b;this['context']=_0x6a09da,this[_0x59d8b1(0x1b4)]=S;}[a0_0x48e44b(0x5f4)](_0x19d3b7){const _0x185765=a0_0x48e44b;this[_0x185765(0x743)]=_0x19d3b7;}['console'](_0x441d6e,_0x28c0fe){const _0xe3b013=a0_0x48e44b;let _0x96a23e=[];this[_0xe3b013(0x1b4)][_0xe3b013(0x84e)]('LOG')[_0xe3b013(0x39e)][_0xe3b013(0x3f6)](_0x596632=>_0x96a23e[_0xe3b013(0x518)](Qs[_0x596632]));let _0x4f367c=typeof _0x441d6e;_0x96a23e['includes'](_0x28c0fe)&&(S[_0xe3b013(0x84e)](_0xe3b013(0x868))['COLOR']?(console[_0xe3b013(0x84c)](_0xe3b013(0x381)+Ks[_0x28c0fe],_0xe3b013(0x861),(0x0,ds[_0xe3b013(0x875)])()[_0xe3b013(0x3a5)](_0xe3b013(0x6c8)),_0xe3b013(0x486),ps[_0x28c0fe]+Ys[_0x28c0fe]+'\x1b[1m',_0x28c0fe+_0xe3b013(0x18d),'\x1b[33m\x1b[1m',this[_0xe3b013(0x743)]+_0xe3b013(0x486),ps[_0x28c0fe],_0x4f367c!=='object'?_0x441d6e:'',_0xe3b013(0x486)),_0x4f367c===_0xe3b013(0x892)&&console['log'](_0x441d6e,'\x0a')):console[_0xe3b013(0x84c)]((0x0,ds[_0xe3b013(0x875)])()[_0xe3b013(0x3a5)](_0xe3b013(0x3bf)),_0x28c0fe+'\x20',''+this[_0xe3b013(0x743)],_0x441d6e));}['log'](_0x56b884){const _0x476f73=a0_0x48e44b;this[_0x476f73(0x5d7)](_0x56b884,_0x476f73(0x868));}[a0_0x48e44b(0x6cf)](_0x463cab){this['console'](_0x463cab,'INFO');}[a0_0x48e44b(0x1bc)](_0x3fa61a){const _0x3516c6=a0_0x48e44b;this[_0x3516c6(0x5d7)](_0x3fa61a,_0x3516c6(0x63b));}[a0_0x48e44b(0x16b)](_0x1af3ae){const _0x9ea2d9=a0_0x48e44b;this[_0x9ea2d9(0x5d7)](_0x1af3ae,_0x9ea2d9(0x820));}[a0_0x48e44b(0x4b1)](_0x227bb5){const _0x2f6381=a0_0x48e44b;this[_0x2f6381(0x5d7)](_0x227bb5,'VERBOSE');}[a0_0x48e44b(0x82f)](_0x13ef3f){const _0x32fc7a=a0_0x48e44b;this[_0x32fc7a(0x5d7)](_0x13ef3f,'DEBUG');}[a0_0x48e44b(0x221)](_0x257518){const _0x4c0606=a0_0x48e44b;this[_0x4c0606(0x5d7)](_0x257518,'DARK');}};function Xs(){const _0x1a4d57=a0_0x48e44b;process['on'](_0x1a4d57(0x78a),(_0x36fba7,_0x508e03)=>{const _0x1c1295=_0x1a4d57;new $(_0x1c1295(0x78a))[_0x1c1295(0x16b)]({'origin':_0x508e03,'stderr':process[_0x1c1295(0x86e)]['fd'],'error':_0x36fba7});}),process['on'](_0x1a4d57(0x237),(_0x1aeb0e,_0x3b0969)=>{const _0x5bee33=_0x1a4d57;new $(_0x5bee33(0x237))['error']({'origin':_0x3b0969,'stderr':process[_0x5bee33(0x86e)]['fd'],'error':_0x1aeb0e});});}var Zs=T(require(a0_0x48e44b(0x7cc))),hs=new Zs[(a0_0x48e44b(0x875))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Me=require('mongoose'),Ae=T(require(a0_0x48e44b(0x43f))),Ge=new $(a0_0x48e44b(0x624)),L=S[a0_0x48e44b(0x84e)](a0_0x48e44b(0x4c1)),I=L[a0_0x48e44b(0x178)]?L[a0_0x48e44b(0x2e4)][a0_0x48e44b(0x869)]?Ae[a0_0x48e44b(0x875)]['createConnection'](L[a0_0x48e44b(0x2e4)][a0_0x48e44b(0x869)],{'dbName':L['CONNECTION']['DB_PREFIX_NAME']+a0_0x48e44b(0x2ad)}):Ae[a0_0x48e44b(0x875)]['createConnection'](a0_0x48e44b(0x415)+L[a0_0x48e44b(0x2e4)][a0_0x48e44b(0x8bb)]+':'+L['CONNECTION']['PORT']+a0_0x48e44b(0x627),{'user':L[a0_0x48e44b(0x2e4)][a0_0x48e44b(0x18e)],'pass':L[a0_0x48e44b(0x2e4)][a0_0x48e44b(0x401)],'dbName':L[a0_0x48e44b(0x2e4)]['DB_PREFIX_NAME']+a0_0x48e44b(0x2ad)}):null;L[a0_0x48e44b(0x178)]&&Ge[a0_0x48e44b(0x6cf)](a0_0x48e44b(0x5bc)+I[a0_0x48e44b(0x705)]);var X=L['ENABLED']?L[a0_0x48e44b(0x2e4)][a0_0x48e44b(0x869)]?Ae[a0_0x48e44b(0x875)][a0_0x48e44b(0x27a)](L[a0_0x48e44b(0x2e4)]['URI'],{'dbName':a0_0x48e44b(0x5d9)}):Ae[a0_0x48e44b(0x875)][a0_0x48e44b(0x27a)](a0_0x48e44b(0x415)+L[a0_0x48e44b(0x2e4)][a0_0x48e44b(0x8bb)]+':'+L[a0_0x48e44b(0x2e4)][a0_0x48e44b(0x471)]+a0_0x48e44b(0x627),{'user':L['CONNECTION'][a0_0x48e44b(0x18e)],'pass':L[a0_0x48e44b(0x2e4)][a0_0x48e44b(0x401)],'dbName':a0_0x48e44b(0x1d5)}):null;X&&Ge[a0_0x48e44b(0x6cf)](a0_0x48e44b(0x5bc)+X[a0_0x48e44b(0x705)]),process['on'](a0_0x48e44b(0x168),()=>{const _0x508172=a0_0x48e44b;I&&I['close'](()=>{const _0xbda43d=a0_0x43f2;Ge[_0xbda43d(0x6cf)](_0xbda43d(0x2f1));}),X&&X[_0x508172(0x3b8)](()=>{const _0x9056cf=_0x508172;Ge[_0x9056cf(0x6cf)]('CacheContacts\x20database\x20connection\x20closed.');});});var Xi=new Me[(a0_0x48e44b(0x7c0))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Zi=new Me['Schema']({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),eo=new Me[(a0_0x48e44b(0x7c0))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),to=new Me[(a0_0x48e44b(0x7c0))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Xi],'default':[]}},{'_id':!0x1}),so=new Me['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':to,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Zi},'groupdata':{'type':eo,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ea=_0x7c4356=>{const _0x206906=a0_0x48e44b;let _0x12c27a='z_'+_0x7c4356+_0x206906(0x21d);return I?.['model'](_0x206906(0x203),so,_0x12c27a);},ta=require(a0_0x48e44b(0x43f)),ao=new ta[(a0_0x48e44b(0x7c0))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),sa=_0x3bba90=>{const _0x1dd953=a0_0x48e44b;let _0x9b54ee='z_'+_0x3bba90+_0x1dd953(0x29b);return I?.[_0x1dd953(0x4a2)](_0x1dd953(0x51d),ao,_0x9b54ee);},aa=require(a0_0x48e44b(0x43f)),gs=class{},io=new aa[(a0_0x48e44b(0x7c0))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ia=X?.[a0_0x48e44b(0x4a2)](gs[a0_0x48e44b(0x5ff)],io,a0_0x48e44b(0x17e)),oa=require('mongoose'),ms=class{},oo=new oa['Schema']({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Be=X?.[a0_0x48e44b(0x4a2)](ms[a0_0x48e44b(0x5ff)],oo,a0_0x48e44b(0x1e5)),ws=require('mongoose'),fs=class{},ro=new ws[(a0_0x48e44b(0x7c0))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),no=new ws[(a0_0x48e44b(0x7c0))]({'_id':{'type':String},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ra=X?.[a0_0x48e44b(0x4a2)](fs[a0_0x48e44b(0x5ff)],no,a0_0x48e44b(0x1b5)),na=_0x1f1834=>{const _0x15895d=a0_0x48e44b;let _0x35d29b='z_'+_0x1f1834+_0x15895d(0x391);return I?.[_0x15895d(0x4a2)](_0x15895d(0x15e),ro,_0x35d29b);},ca=require(a0_0x48e44b(0x43f)),ys=class{},co=new ca[(a0_0x48e44b(0x7c0))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),la=I?.['model'](ys['name'],co,a0_0x48e44b(0x172)),ua=require(a0_0x48e44b(0x43f)),bs=class{},da=new ua['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});da[a0_0x48e44b(0x7c3)](a0_0x48e44b(0x673),function(_0x221657){const _0x195d6c=a0_0x48e44b;delete this['flowActive'],delete this[_0x195d6c(0x1df)],delete this[_0x195d6c(0x655)],delete this[_0x195d6c(0x681)],delete this[_0x195d6c(0x323)],_0x221657();});var pa=I?.['model'](bs[a0_0x48e44b(0x5ff)],da,a0_0x48e44b(0x405)),P=require(a0_0x48e44b(0x43f)),Ss=require(a0_0x48e44b(0x53a)),We=class{},Ms=class{},ga=new P[(a0_0x48e44b(0x7c0))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Cs=new P[(a0_0x48e44b(0x7c0))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),lo=new P[(a0_0x48e44b(0x7c0))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x48e44b(0x1a3)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x48e44b(0x2f9)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x48e44b(0x72e)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ma=new P[(a0_0x48e44b(0x7c0))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),uo=new P[(a0_0x48e44b(0x7c0))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),po=new P[(a0_0x48e44b(0x7c0))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),vs=new P[(a0_0x48e44b(0x7c0))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ho=new P[(a0_0x48e44b(0x7c0))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),fa=new P[(a0_0x48e44b(0x7c0))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':lo},'apirequest':uo,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':ho,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),wa=new P['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ya=new P[(a0_0x48e44b(0x7c0))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[vs],'blocks':[fa],'groups':[ga],'conditions':[ma],'varedits':[wa],'replyOptions':{'type':[Cs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x68a34b=a0_0x48e44b;return _0x68a34b(0x527)+Math['random']()['toString'](0x24)[_0x68a34b(0x6d2)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x48e44b(0x331)},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});ya[a0_0x48e44b(0x7c3)](a0_0x48e44b(0x4cc),function(_0x2a9217){const _0x486c82=a0_0x48e44b;let _0x274bf8=this[_0x486c82(0x2ff)]();if(_0x274bf8&&typeof _0x274bf8=='object'&&'$set'in _0x274bf8){let _0x24a81a=_0x274bf8[_0x486c82(0x661)];if(_0x24a81a){let _0x37aac8=new Set(),_0x52e211=new Set(_0x24a81a['variables']?.['map'](_0x40c9ac=>_0x40c9ac[_0x486c82(0x5ff)])),_0x56ebe2=JSON[_0x486c82(0x365)](_0x24a81a),_0x5d0810=/{{(?!_)([^}]*)}}/g,_0x19d143;for(;(_0x19d143=_0x5d0810['exec'](_0x56ebe2))!==null;)_0x52e211[_0x486c82(0x31f)](_0x19d143[0x1])||_0x37aac8[_0x486c82(0x234)](_0x19d143[0x1]);_0x37aac8[_0x486c82(0x294)]>0x0?(console[_0x486c82(0x1bc)](_0x486c82(0x348),Array['from'](_0x37aac8)),_0x24a81a[_0x486c82(0x8a1)]=Array['from'](_0x37aac8)):_0x24a81a[_0x486c82(0x8a1)]=[],this[_0x486c82(0x5f8)]({'$set':_0x24a81a});}}_0x2a9217();});var Ce=I?.['model'](Ms[a0_0x48e44b(0x5ff)],ya,a0_0x48e44b(0x4d7)),go=new P[(a0_0x48e44b(0x7c0))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[vs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[po]},{'_id':!0x1}),mo=new P[(a0_0x48e44b(0x7c0))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[vs],'blocks':[fa],'groups':[ga],'conditions':[ma],'varedits':[wa],'replyOptions':{'type':[Cs],'default':[]},'chatLog':go,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x48e44b(0x422)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'waitingMenu_replyOptions':{'type':[Cs],'default':[]}}),ba=_0x1d2762=>{const _0xd580c3=a0_0x48e44b;let _0x2b9e58='z_'+_0x1d2762+'_FlowHistorico';return I?.[_0xd580c3(0x4a2)]('ConversationModel',mo,_0x2b9e58);},fo=new P[(a0_0x48e44b(0x7c0))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ha=new P[(a0_0x48e44b(0x7c0))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),wo=new P[(a0_0x48e44b(0x7c0))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ha],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x48e44b(0x60b)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[fo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ha,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Sa=_0xde01e4=>{const _0x3c746a=a0_0x48e44b;let _0x427b00='z_'+_0xde01e4+_0x3c746a(0x5aa);return I?.['model'](_0x3c746a(0x7a6),wo,_0x427b00);},Es=class{},yo=new P[(a0_0x48e44b(0x7c0))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),bo=new P[(a0_0x48e44b(0x7c0))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),So=new P[(a0_0x48e44b(0x7c0))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Mo=new P[(a0_0x48e44b(0x7c0))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x48e44b(0x870)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),Co=new P['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Eo=new P[(a0_0x48e44b(0x7c0))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Co]},'customFields':{'type':[So]},'flowConfig':{'type':Mo,'default':{}},'flows':{'type':[bo],'default':[]},'autoCompleteMessages':{'type':[yo],'default':[]}}),Ie=I?.[a0_0x48e44b(0x4a2)](Es[a0_0x48e44b(0x5ff)],Eo,'AutomateSystem'),Ma=require(a0_0x48e44b(0x43f)),vo=new Ma[(a0_0x48e44b(0x7c0))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ca=_0x15c48f=>{const _0x2d4291=a0_0x48e44b;let _0x28d2fd='z_'+_0x15c48f+'_Labels';return I?.[_0x2d4291(0x4a2)](_0x2d4291(0x5a4),vo,_0x28d2fd);},_=class{constructor(_0x501e9b){const _0x47ad76=a0_0x48e44b;this[_0x47ad76(0x1ac)]=_0x501e9b[_0x47ad76(0x84e)](_0x47ad76(0x4c1));}};function A(_0x559f6c){const _0x51959c=a0_0x48e44b;let _0x138c7a={};for(let [_0x57efd2,_0x5ddc46]of Object[_0x51959c(0x4c4)](_0x559f6c))if(typeof _0x5ddc46=='object'&&!Array['isArray'](_0x5ddc46)){for(let [_0x369cab,_0x5b17fe]of Object[_0x51959c(0x4c4)](_0x5ddc46))_0x138c7a[_0x57efd2+'.'+_0x369cab]=_0x5b17fe;}else _0x138c7a[_0x57efd2]=_0x5ddc46;return _0x138c7a;}var ze=class{constructor(_0x4068a2,_0x37affe,_0x1c7d1e,_0x4f52c9,_0x22ee59,_0x338f22,_0x4049ef,_0x2ff426,_0x351fb6,_0x5de531,_0x396e64,_0x2891d0,_0x2b43ac,_0x2903c5){const _0x515c32=a0_0x48e44b;this[_0x515c32(0x5e0)]=_0x4068a2,this[_0x515c32(0x176)]=_0x37affe,this[_0x515c32(0x644)]=_0x1c7d1e,this[_0x515c32(0x5b2)]=_0x4f52c9,this['messageLogs']=_0x22ee59,this[_0x515c32(0x405)]=_0x338f22,this[_0x515c32(0x56f)]=_0x4049ef,this[_0x515c32(0x844)]=_0x2ff426,this[_0x515c32(0x251)]=_0x351fb6,this[_0x515c32(0x4ea)]=_0x5de531,this[_0x515c32(0x1bf)]=_0x396e64,this[_0x515c32(0x1e6)]=_0x2891d0,this[_0x515c32(0x161)]=_0x2b43ac,this[_0x515c32(0x74c)]=_0x2903c5;}get[a0_0x48e44b(0x65a)](){const _0x28f780=a0_0x48e44b;return this[_0x28f780(0x74c)];}},He=class{},Ke=class extends _{[a0_0x48e44b(0x5c4)](_0xff7a01){return na(_0xff7a01);}async['insert'](_0x378713,_0x11e887){const _0x20e028=a0_0x48e44b;if(_0x378713['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x20e028(0x5c4)](_0x11e887)[_0x20e028(0x296)]([..._0x378713]))[_0x20e028(0x3b4)]};}catch(_0x3ad954){return _0x3ad954;}}async['find'](_0x230eae,_0x5a08fc){const _0x531eaf=a0_0x48e44b;try{let _0x4225f8=this[_0x531eaf(0x5c4)](_0x5a08fc),_0x395001=A(_0x230eae[_0x531eaf(0x1ab)]);return await _0x4225f8[_0x531eaf(0x1ae)](_0x395001)[_0x531eaf(0x59e)]({'messageTimestamp':-0x1})[_0x531eaf(0x80e)](_0x230eae?.[_0x531eaf(0x80e)]??0x0)[_0x531eaf(0x333)]();}catch{return[];}}async[a0_0x48e44b(0x6a5)](_0x4e856e,_0x5daa4b){const _0x5a9906=a0_0x48e44b;try{let _0x4cabc1=this[_0x5a9906(0x5c4)](_0x5daa4b),_0x4e2dd9=A(_0x4e856e['where']);await _0x4cabc1[_0x5a9906(0x4a5)](_0x4e2dd9);}catch(_0x463782){console[_0x5a9906(0x16b)](_0x463782);}}async['update'](_0x2ab6dc,_0x139196,_0x24dc03){const _0x5b8413=a0_0x48e44b;try{let _0x5ef210=this[_0x5b8413(0x5c4)](_0x24dc03),_0x409070=A(_0x2ab6dc[_0x5b8413(0x1ab)]);return await _0x5ef210[_0x5b8413(0x4cc)](_0x409070,{'$set':_0x139196},{'new':!0x0});}catch(_0xbe00ad){throw console[_0x5b8413(0x16b)](_0xbe00ad),_0xbe00ad;}}async['insertMany'](_0x44cf14,_0x1afa0f){const _0x1969c2=a0_0x48e44b;if(_0x44cf14[_0x1969c2(0x3b4)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x1969c2(0x5c4)](_0x1afa0f)[_0x1969c2(0x296)]([..._0x44cf14]))[_0x1969c2(0x3b4)]};}catch(_0x1b1f07){return console[_0x1969c2(0x84c)](_0x1969c2(0x282),_0x1b1f07),_0x1b1f07;}}async[a0_0x48e44b(0x421)](_0x55d22b){const _0x313583=a0_0x48e44b;try{return await this[_0x313583(0x5c4)](_0x55d22b)['collection'][_0x313583(0x69a)](),{'success':!0x0};}catch(_0x3f79a2){return console[_0x313583(0x16b)](_0x3f79a2),{'success':!0x1,'error':_0x3f79a2};}}},Ps=T(require('@ffmpeg-installer/ffmpeg')),w=T(require(a0_0x48e44b(0x567))),Le=require('fs'),j=T(require('path')),Q=T(require(a0_0x48e44b(0x313))),Ai=require(a0_0x48e44b(0x53a)),Ii=T(require(a0_0x48e44b(0x5ee))),Ti=T(require('qrcode-terminal')),Ea=[a0_0x48e44b(0x16c),'documentMessage','audioMessage',a0_0x48e44b(0x48c),'stickerMessage'],va=[a0_0x48e44b(0x59c),'documentWithCaptionMessage',a0_0x48e44b(0x5b3),a0_0x48e44b(0x412)],Ds=require('os'),Ft=T(require(a0_0x48e44b(0x70b))),Fe=require(a0_0x48e44b(0x77f)),_i=require(a0_0x48e44b(0x3ed)),ge=T(require(a0_0x48e44b(0x43f))),J=require(a0_0x48e44b(0x21a)),ue=class{constructor(_0x404195,_0x3dca92,_0xa98ff1){const _0x59370e=a0_0x48e44b;this[_0x59370e(0x1b3)]=_0x404195,this[_0x59370e(0x380)]=_0x3dca92,this[_0x59370e(0x5ff)]=_0xa98ff1;}},Qe=class{},Ye=class{},Te=class{},Xe=class{},Ze=class{},Ee=class{},et=class{},tt=class{},st=class{},at=class{},Ot=T(require(a0_0x48e44b(0x609))),Na=require('fs'),$a=require('path');async function _e(_0x4f15ec){const _0x47bc91=a0_0x48e44b;let _0x1a2a4d=G[_0x47bc91(0x376)][_0x4f15ec];if(L[_0x47bc91(0x178)]){let _0x251d07=I[_0x47bc91(0x821)]()['db'](L[_0x47bc91(0x2e4)][_0x47bc91(0x2b6)]+'-instances')['collection'](_0x4f15ec);return _0x1a2a4d||(await _0x251d07[_0x47bc91(0x1ae)]({})[_0x47bc91(0x4a8)]())['length']>0x0;}return _0x1a2a4d||(0x0,Na[_0x47bc91(0x634)])((0x0,$a[_0x47bc91(0x739)])(Se,_0x4f15ec));}async function Ra(_0x447a55,_0x1efac6,_0x134036){const _0x66254a=a0_0x48e44b;if(_0x447a55[_0x66254a(0x6cc)]['includes'](_0x66254a(0x355))||_0x447a55['originalUrl'][_0x66254a(0x1d0)](_0x66254a(0x340))||_0x447a55['originalUrl'][_0x66254a(0x1d0)](_0x66254a(0x490))||_0x447a55[_0x66254a(0x6cc)][_0x66254a(0x1d0)]('/config')||_0x447a55[_0x66254a(0x6cc)][_0x66254a(0x1d0)](_0x66254a(0x539))||_0x447a55[_0x66254a(0x6cc)]['includes']('/instance/connectionState')||_0x447a55[_0x66254a(0x6cc)][_0x66254a(0x1d0)](_0x66254a(0x4ba)))return _0x134036();let _0x55e743=_0x447a55[_0x66254a(0x7eb)];if(!_0x55e743?.['instanceName'])throw new m(_0x66254a(0x1f8));if(!await _e(_0x55e743[_0x66254a(0x25e)]))throw new U(_0x66254a(0x542)+_0x55e743[_0x66254a(0x25e)]+_0x66254a(0x3da));_0x134036();}async function Aa(_0x339182,_0x4aecc0,_0x5015d9){const _0x307073=a0_0x48e44b;if(_0x339182[_0x307073(0x6cc)][_0x307073(0x1d0)]('/instance/create')){let _0x24b527=_0x339182[_0x307073(0x4dc)];if(await _e(_0x24b527[_0x307073(0x25e)]))throw new Z(_0x307073(0x5f0)+_0x24b527[_0x307073(0x25e)]+_0x307073(0x68d));G[_0x307073(0x376)][_0x24b527[_0x307073(0x25e)]]&&delete G[_0x307073(0x376)][_0x24b527[_0x307073(0x25e)]];}_0x5015d9();}function a0_0x31c9(){const _0x46f323=['buttonText','isMessageProcessed','selectedButtonId','upperCase','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','):\x20Error\x20processing\x20conditions:\x20','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','https://','startsWith','static','messages','hbs','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','replaceVariables','conversation','AutomateFunctions','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','shareOwners','):\x20Atualizando\x20status\x20da\x20mensagem\x20','\x20mensagens\x20de\x20','Message\x20absent\x20from\x20node','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','Instância:\x20','IPv6\x20address\x20configured:\x20','limit','updateGParticipate','isAdmin','Erro\x20ao\x20iniciar\x20fluxo:\x20','\x0aFN:','chatId','tags','IPv6\x20Prefix\x20detected:\x20','Fluxo\x20não\x20encontrado\x20na\x20memória.','updateLastSeenPrivacy','selectedId','mongodb','Erro\x20ao\x20copiar\x20o\x20documento','singleSelectReply','fromObject','not\x20loaded','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','cta_url','ERROR','getClient','presenceSubscribe','):\x20Query\x20params:','badSession','DisconnectReason','):\x20Criando\x20nova\x20conversa[createNewConversation]','loadInstance','4736296gDVUDo','EMAIL:','/64\x20dev\x20','timeout','status@broadcast','messageType','conversationTimestamp','debug','deleteConversation',',\x20Expiration\x20Time:\x20','NextBlock','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','value','^\x5cd+([-]\x5cd+)*@g.us$','command','leadInfo','https://ipv6.jsonip.com','revokeInviteCode','groupUpdateSubject','webhookModel','addReplyOption','whatsappNumbers','groupBetterSetting','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','stateConnection','instancias:\x20','compression','Error\x20removing\x20unused\x20chat\x20fields:','instance','editflowreply','SendScheduleMessage','sharp','Pausado\x20por\x20','fetchMessages','GROUP_PARTICIPANTS_UPDATE','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','log','integer','get','Authentication\x20error','repository','request\x20received\x20in\x20fetchConversation','groups.upsert',',\x20Minutes\x20to\x20Close:\x20','generateRandomIPv6','):\x20Buscando\x20flow,\x20id:\x20','newStoppedUntil','toNumber','deleteImportedChat','https://chat.whatsapp.com/','Selecione\x20uma\x20opção','):Image\x20path:\x20','getBase64FromMediaMessage','sendLocation','Erro\x20ao\x20executar\x20bulkWrite:','editScheduleMessage','util','\x1b[1m\x1b[37m','\x1b[31m%s\x1b[0m','_error','request\x20received\x20in\x20editFlowcondition','connecting','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','test','LOG','URI','updateMessage','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','randomMac','Erro\x20ao\x20deletar\x20mensagens:','stderr','admin','!stop','statSync','contact_blacklist','formatBRNumber','count','default','addChatLabel','all','pollUpdateMessage','replacer','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','Error\x20testing\x20IP\x20with\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','waMonitor','Erro\x20ao\x20iniciar\x20o\x20fluxo.','Erro\x20ao\x20editar\x20agentes','greater','inviteUrl','creation','/wa-message','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','updateConversation','}}\x20->\x20valor\x20não\x20encontrado','scheduleNextCheck','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','File\x20written\x20to\x20path:\x20','\x20do\x20chat\x20','request_method','toBRL','group-participants.update','menu_options','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','birthtime','object','emit','varedit','routerPath','.\x20Pulando.','createButtonsFromValues','flush','http://checkip.dyndns.org','retrySendMessage','post','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','timeInMinutes','data:\x20','fetchPrivacySettings','variablesNotFound','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','round','split','evaluateCondition','redirect','cache','\x20foi\x20interrompido\x20pelo\x20usuário.','\x0a*Você\x20respondeu*:\x0a','STORE_CHATS','.X-ABLabel:Celular\x0a','proto','):\x20whoCanEdit\x20after\x20validation:\x20','optionDescription','Retornando\x20grupos\x20SEM\x20cache','):\x20Removendo\x20\x27','superadmin','getDate','sendMedia','.type','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','stopConversation','request\x20received\x20in\x20editFlow','storePath','randomBytes','sendWhatsAppAudio','HOST','pollCreationMessageV2','):\x20Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x20','Parando\x20aplicação...','inet6','):\x20Bloco\x20com\x20ID\x20','\x20segundos...','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','Erro\x20ao\x20substituir\x20variáveis\x20para\x20',',\x20canSendMessage:\x20','Router','):\x20Entrou\x20na\x20função\x20goToFlow','Imagem\x20não\x20encontrada','Tentativa\x20','scheduleSendMedia','):\x20Conversa\x20está\x20expirada\x20-\x20voto','uazapiSendContact','messageId','choices','createGroup','groupFetchAllParticipating','errorLog','autoCompleteMessages','):\x20Entrou\x20na\x20função\x20stop','#ffae04','Falha\x20ao\x20recriar\x20IPv6.','number','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','All_Instances_Config','Content\x20is\x20required','InstancesAlterarTodas','\x20não\x20encontrado','Erro\x20ao\x20editar\x20a\x20conversa','empty','MessageModel','reorderBlocks','No\x20suitable\x20network\x20interface\x20found','automateSystem','expression','30MhvJyy','Erro\x20ao\x20deletar\x20a\x20conversa','ListType','flows','updateMany','beforeExit','getPrototypeOf','wuid','error','imageMessage','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','IPv6\x20address\x20removed:\x20','local_map','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','authentication','findGroupsEspecial','QRCODE_UPDATED','[all]','chat',',\x20resultado:\x20','ENABLED','views','):\x20Bloco\x20copiado:\x20','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','setRestartTimeout','updateGParticipant','ContactsAndGroups','\x22,\x20valor\x20a\x20substituir:\x20\x22','PRESENCE_UPDATE','uazapiSendLocation','toggleEphemeral','blockId','END:VCARD','secondValue','lastMessage','https','contacts.upsert','\x20tentativas.','processUazapi','uazapiSendAudio','\x22\x20cannot\x20be\x20empty','\x20\x1b[0m','USER','Read\x20messages','Erro\x20ao\x20encerrar\x20a\x20API','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','createflow','Esse\x20fluxo\x20não\x20permite\x20importação.','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','894155bcmKyZ','groupDesc','StartBot','):Desconectado,\x20parando\x20execução.','Chat\x20com\x20ID\x20','Nenhum\x20fluxo\x20correspondente\x20encontrado.','delayChatLabel_RETRY_DELAY_MS','_activatedCount','):\x20[messages.upsert]\x20mensagem\x20duplicada\x20ignorada','AddUserFlow','STORE_MESSAGE','EXPIRIN_IN','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','buttonMessage','list','idSchedule','endSession','formatVCard','convertedOptions','subjectOwner','synchronizeAndMapFlows','whatsappNumber','where','dbSettings','recebido\x20de','find','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','\x20chats\x20de\x20','createConversationforgoToFlow','Grupo\x20não\x20encontrado','jid','configService','messagesLogs','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','Usando\x20IP\x20existente:\x20','Validate','mimetype','pow','notMatchRegex','warn','Bad\x20Request','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','label','ip\x20-6\x20addr\x20show\x20dev\x20','REDIS_ENABLED','editConversation','messages.set','inner','Network\x20interfaces\x20detected:\x20','.pdf','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','stopMinutesMaxActives','readMessage','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','.txt','isListOfNumbers','CONNECTION_UPDATE','editFlow','connect','includes','pollMessageOnDelete','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','subjectTime','AppStateSyncKeyData','cachedContacts-whatsapp','Novo\x20IP\x20criado:\x20','call','condition','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','ms\x20(tentativa\x20','g-t','displayName','sendButtons','text','flowIgnoreGroups','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','path','order','stopIfLastReturnedError','unreadcount','instances','scheduleMessage','caption','normalizeMessageContent','from','Erro\x20ao\x20criar\x20fluxo','pendingMessages','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','json','env','expiration','editflowcondition','request\x20received\x20in\x20editFlowvariable','addBlock','CONTACTS_UPDATE','Erro\x20ao\x20editar\x20o\x20chat','setNewValue','Falta\x20informação\x20para\x20a\x20chamada\x20API','router','instanceName\x20not\x20provided.','deleteInstance','findGroups','Network\x20Interface\x20detected:\x20','release','Fluxos\x20não\x20estão\x20ativados','findParticipants','lowerCase','FULLCHAIN','participant','statusMessage','ChatModel','groups_ignore','height','bearer','content-type','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','newValue','joinApprovalMode','filter','Fluxo\x20\x27','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','groupJid','connection.update','text/event-stream','@s.whatsapp.net','/startFlow/:instance/:startID','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','readData','):\x20\x27Enviando\x20audio\x20para\x20\x27','substring','awaitingApproval','subject','class-validator','quick_reply','):Audio\x20converted\x20and\x20stored\x20in\x20cache','_Chats','WA\x20MODULE','processedMessagesCache','this.reconnectAttempts:\x20','dark','delayChatLabel','configureIPv6','pollCreationMessageKey','audioMessage','Opção\x20Falsa\x20','findAll','request\x20received\x20in\x20scheduleMessage','getTicketSystem','Internal\x20Server\x20Error','\x20and\x20data:','Erro\x20ao\x20remover\x20label\x20','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','getMonth','JWT','sim','Cache-Control','DOCKER_ENV','lastSendMessage','add','[\x20SYSTEM\x20-\x20UAZAPI\x20]\x20-\x20Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la','):\x20Entrou\x20na\x20função\x20saveReply','unhandledRejection','):Error\x20in\x20converting\x20audio','events','Error\x20fetching\x20group','padStart','now','/media','process','chatModify','#fe9dfe','Nenhum\x20participante\x20válido\x20encontrado.','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo',',\x20valor\x20passado:\x20\x22','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','\x20minutos','INFO','generateWAMessageFromContent','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','Invalid\x20format','startCommandWord','\x20}\x0a','networkInterface','cleaningUp','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','STORE_CONTACTS','flow','\x20minutos.\x20Será\x20às\x20','fetchLabels','ephemeralExpiration','instanceKeys','templateButtonReplyMessage','Atualização:\x20','#6f7bcf','/instance','collections','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','Font\x20is\x20required','findWebhook','instanceName','bodyStringErrorParse','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','Botão\x201','convertToWebP','moreLogs','listMessage','oldValue','FlowController','stanzaId','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','getDelay','normalizeMessage','formatStatusMessage','express-async-errors','isJidGroup','findGroupInfo','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','response',',\x20saindo.','groupRequestParticipantsUpdate','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','truncatedtoEnd','findAndReplaceRegex','.mimetype','):\x20Enviando\x20contato','ignoreGroups','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','createConnection','734608byOvpB','waitingMenu_ExpiredMessage','):\x20Há\x20mensagens\x20prontas,\x20limpando\x20e\x20adicionando\x20à\x20fila','GROUPS_UPSERT','buttonsResponseMessage','/webhook','eventEmitter','ERROR:\x20','):\x20leadInfoVariables','participants','fetchBusinessProfile','_activedCount','fetchProfile','crypto','Falhou\x20ao\x20encontrar\x20chat\x20','):\x20nextBlock.uazapi.name','replyOptions','getHours','processConditionsTest','AUTHENTICATION_API_KEY','Contacts\x20not\x20found','getLastMessage','checkAndRestartProcess','string','mediaSticker','size','request\x20received\x20in\x20editFlowgroup','insertMany','Telefone:\x20','/automate','noConnection','audioWhatsapp','_Contacts','last_update','API\x20Key\x20from\x20Request:',',\x20Comparador:\x20','rowId','remove.instance','pollCreationMessage','all_member_add','username','Primeiro\x20Valor:\x20','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','currency','):\x20newSecondValue\x20após\x20replaceVariables:','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','createFlow','GUARD','cacheContactModel','-whatsapp-api','isLong','editFlowVaredit','digest','Mac\x20OS','isInteger','ORG:','findByIdAndUpdate','convertaudioMP3','DB_PREFIX_NAME','webhookMap','presence','contacts','):Image\x20created','.TEL;waid=','):\x20Editando\x20mensagens\x20no\x20grupo...','remove','Conexão\x20estabelecida','email','downloads','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','descId','Início','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','isJidUser','header','reject','rows','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','notContains','connectToWhatsapp','\x20:\x20','Resultado\x20da\x20correspondência\x20de\x20URL:','#ffffff','authModel','Parando\x20aplicação,\x20atualização\x20recebida','boolean','options','fone','app-state-sync-key','ip\x20-br\x20link\x20show','code','fora\x20do\x20git','):Audio\x20processed','__esModule','validate','sendMessageAck','GET','delayMessage','Número\x20não\x20possui\x20WhatsApp.','detail','/wa-connection-update','flowConfig','pollOnReplyDelete','Configuração\x20SSL\x20recuperada:','CONNECTION','request\x20received\x20in\x20updateAutoCompleteMessages','status.instance','connectionUpdate','Stack\x20trace:','buffer','Instance\x20\x22','statusJidList','groupadd','nome','Content-Type','request\x20body:\x20','Erro\x20na\x20função\x20updateChatWithMessage:\x20','Database\x20connection\x20closed.','notEmpty','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','textMessage','getOwnPropertyNames','RemoveChatLabel','getMessage','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Selecione','put','CONTACTS_UPSERT','getConversation','markMessageAsRead','initializeQueue','getUpdate','Subdomínio\x20final:','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','timeoutPromise','stopped','Error\x20updating\x20cache\x20contact:','image','deleteMessage','):Trying\x20to\x20get\x20business\x20profile','editflowgroup','2SiKddz','\x27\x20do\x20banco\x20de\x20dados...','base64','API_KEY','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','insertCount','pollErrorMessage','removed','getOwnPropertyDescriptor','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','axios','padEnd','_sender','URL','Forbidden','#01d0e2','OrAnd','Not\x20Found','pollMessage','):\x20Adicionando\x20\x27','and','AUTHENTICATION_TYPE','has','\x20ao\x20chat\x20','messageTimestamp','):\x20Label\x20','flowStopMinutes','use','reference','desativadoFluxoAte','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','sticker','\x5cd+',',\x20Resultado:\x20','url','inviteCodeDetails','apiResponse','maxActives','#dfaef0','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','false','getFlow','lean','/events/:instance','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','chatLog','lastUpdate','flattenObject','finish','less','allContacts','bodyString','basename','testingWith','DaysToDelete','/instance/fetchInstances','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','removeIPv6ById','collection','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','ephemeralDuration','descOwner','Variáveis\x20não\x20encontradas:','dbConnection','/clients-info','pt-BR','chats.set','proxy:\x20','CONTACTS_SET','*Teste\x20de\x20Título*\x0a\x0aDescrição\x20de\x20Teste\x0a','messageLogs','/:instanceName','initAuthCreds','item','paused','/instance/create','latitude','ChatRouter','):\x20Fluxos\x20não\x20estão\x20ativados','Type\x20not\x20found','extractMessageContent','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','DEBUG','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','MESSAGES_SET','updateFlowConfig','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','):\x20Alterando\x20fluxo...','spawn','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','stringify','messaging-history.set','17494050sltSVq','reconnectAttempts','true','messages.upsert','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','undefined','bateu\x20events','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','namespace','verifyWhatsAppNumber','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','jwt','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','findManyByIds','recording','waInstances','redisEnv','deleteChat','Error\x20in\x20prepareMediaMessage:','):\x20Conversa\x20está\x20expirada','writeFileSync','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','lastFetchAwaitingApproval','sendMessageWithTypingButtons','messageHandle','exists','\x1b[1m','\x20inseridas\x20no\x20banco\x20de\x20dados...','IPv6\x20addresses\x20detected:\x20','):\x20atualização\x20chat:\x20','):Fetching\x20business\x20profile','Instance\x20Name:','importChats','bulkWrite','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','\x1b[32m%s\x1b[0m','Instância\x20não\x20encontrada.','findConversation','request\x20received\x20in\x20editConversation','READ','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','action','_Messages','reactionMessage','AUTHENTICATION','MAX_SAFE_INTEGER','findByIdAndDelete','notas','updateProfileStatus',',\x20Segundo\x20Valor:\x20','_month','fetchChats','preview','processvaredits','keyPattern','LEVEL','getContactModelForOwner','readdirSync','SINGLE_SELECT','dropCollection','_hour',',\x20received\x20','format','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','request\x20received\x20in\x20updateFlowConfig','nativeFlowMessage','/wa-chats','profileName','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','getAllData','map','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','triedToSend','addMessagesToGroup','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','Rótulo\x20inválido\x20ou\x20sem\x20ID.','Error\x20adding\x20IPv6\x20address:\x20','length','):\x20Deletando\x20conversa...','sendDataWebhook','createIPv6','close','readMessageBot','Instance\x20logged\x20out','customFields','announcement','sendMessage','Erro\x20ao\x20inserir\x20chats:','HH:mm:ss','jpegThumbnail','Fluxo\x20agendado\x20pelo\x20fluxo\x20','deleteDoneMessages','Limpando\x20logs\x20do\x20PM2...','SERVER_PORT','assign','etiquetas','@broadcast','#9ba6ff','sign','fileName','temp-','scheduleSendAudio','flowName','XX:XX:XX:XX:XX:XX','leadInfo.atendimentoAberto','sectionsToString','imgUrl','https://api.ipify.org?format=json','delay','unknown\x20operation\x20type\x20[','):\x20Buscando\x20conversas...','\x20minutos\x20verificará\x20novas\x20mensagens','\x1b[37m%s\x1b[0m','menuMessage','):\x20Editando\x20bloco...','\x20instance\x20does\x20not\x20exist','groupdata.participants','del','processgoToFlow','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','userDevicesCache','waUploadToServer','contactMessage','optionName','quoted','editFlowGroup','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','requestFile','REDIS_PREFIX_KEY','relayMessage','removeProfilePicture','getBusinessProfile','request\x20received\x20in\x20allFlows','connectionState','node-mime-types','copy','):\x20teve\x20mudanças\x20chat.archived:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','Instance\x20Key\x20from\x20DB:','footer','not_announcement','reorderReplyOptions','forEach','):\x20Entrou\x20na\x20função\x20clearVariables','flushHeaders','imagechat','Logger','_day','LOG_COLOR','menuExpiredMessage','interactiveResponseMessage','clearVariables','):Notifying\x20clients\x20for\x20chat:\x20','PASSWORD','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','isURL','processReadyMessages','webhook','unlinkSync','https://uazapi-plugin.bubbleapps.io/?url=','):\x20Ler\x20mensagem','CREDENTIALS','sendPoll','deviceSentMessage','REDIS_URI','):\x20Iniciando\x20processReadyMessages','getChatModelForOwner','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','SERVER_ACK','insert','viewOnceMessageV2',',\x20pairCode:\x20','groupMemberAddMode','mongodb://','findLabels','keep-alive','type','):\x20\x27Enviando\x20texto\x20para\x20\x27','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','sections','Group\x20not\x20found','messageLogsModel','):\x20newFirstValue\x20após\x20replaceVariables:','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','deleteAll','open','folder','charAt','\x27...','some','inviteCode','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','isRunning','editFlowVariable','Erro\x20ao\x20importar\x20chats','eventHandler','numbers','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','https://api.openai.com/v1/images/generations','archived','):\x20\x27Deletando\x20fluxo,\x20id:\x20','):\x20Enviando\x20mensagem\x20para\x20','errors','fetchConversation','nomecompleto','chats.delete','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','truncatedto','reaction','updateProfilePicture','CHATS_DELETE','delaySecMin','mongoose','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','):\x20Enviando\x20texto','sendText','config','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','request_time','\x1b[33m','convertaudio','leaveGroup','imported','\x1b[43m','TYPE','):\x20transformedCustomFieldVariables','document','BufferJSON','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','floor','apiName','update','getSeconds','sharePass','available','findAndReplace','\x0aitem','#b4ebff','listType','upsertedCount','groupdata','senderKeyDistributionMessage','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','https://uazapi-plugin.bubbleapps.io/','headerString','CORS_CREDENTIALS','isBusiness','Erro\x20ao\x20buscar\x20o\x20fluxo','):\x20Buscando\x20todos\x20os\x20fluxos...','groupToggleEphemeral','groupValidate','address','repeat','reviver',',\x20isAdmin:\x20','getConversationModelForOwner','audio/ogg;\x20codecs=opus','DATABASE_CONNECTION_PASSWORD','3EB0','protocolMessage','logger','PORT','hasOwnProperty','creds.json','getReadyToSendMessages','updateReadReceiptsPrivacy','^\x5cd+','_id','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','fromMe','goNextblock','Error\x20updating\x20message\x20status:',',\x20global:\x20','hex','chats.update','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','api','race','chats','AddChatLabel','isJidBroadcast','status','\x1b[0m','createSectionsFromValues','replaceValue','hSet','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','decryptPollVote','videoMessage','fetchContacts','store','set','/exit','8096tjbGbW','menuType','ObjectId','getScheduleMessageModelForOwner','findRealGroups','.extension','getScheduleMessage','getTime','STATUS_INSTANCE','The\x20instance\x20needs\x20to\x20be\x20disconnected','findIndex','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','valid','addToProcessedMessages','groupParticipantsUpdate','updateStopChat','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','model','load','SSL_CONF_FULLCHAIN','deleteMany','updateMissingTags','CHATS_SET','toArray','listResponseMessage','replaceVariablesLogs','msgRetryCounterCache','qrCode','Types','../env.yml','.ppt','CORS_ORIGIN','verbose','creds.update','media','):\x20Entrou\x20na\x20função\x20processawaitSeconds','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','error_log','Valor\x20de\x20find\x20ou\x20replace\x20ausente','Comando\x20desconhecido','array','/instance/delete','updatePresence','replaceVariablesInObject','CORS','):\x20Procurando\x20mensagens\x20para\x20envio','findMessages','findById','DATABASE','MESSAGES_UPSERT','createConversationforStartFlow','entries','done','createButtonSectionsFromValues','removeData','.pptx','getVariablesChat','\x1b[33m%s\x1b[0m','uazapiSendMedia','findOneAndUpdate','@g.us','instance.','getDevice','owner','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','/wa-groups','urlOrBase64','):\x20[messages.upsert]\x20group\x20ignored','match_last_seen','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','allFlows','\x20quoted:\x20','lastReceivedMessage','presence.update','createClient','body','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','notify','write','Rodapé\x20de\x20Teste','src','groupRevokeInvite','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','):\x20Entrou\x20na\x20função\x20scheduleFlow','):\x20Error\x20processing\x20the\x20block:\x20','.jwt','varedits','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','parse','flowConversation','Flow\x20iniciado','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','trim','contactsArrayMessage','authState','editChat','audio/ogg','findGroupInfos','[AUTH]\x20Database\x20is\x20not\x20enabled','global','https://ifconfig.me/ip','):\x20Instancia\x20isBusiness:\x20','#d8e651','realVariables','off','values','width','588505RMfOgh','createWebhook','):\x20sender\x20=\x20number:\x20','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','.webp','\x20-i\x20','ScheduleMessage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','readFile','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','buttons','.png','--------------------------------------','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','localWebhook','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','instanceCount','dataValidate','selectedDisplayText','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','removeInstance','fileUrl','scheduleFlow','removeUnusedChatFields','Instance\x20ID:','Partes\x20do\x20caminho\x20FULLCHAIN:','variables','push','mentioned','):\x20Rótulo\x20atualizado:\x20','createHash','findMany','ContactModel','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','whoCanUse','delaySecMax','loadWebhook','createInstance','request\x20received\x20in\x20starFlow','\x1b[37m','sendStatus','title','!cmd_','enabled','SEND_MESSAGE','selectedRowId','Flow\x20\x27','updateAll','SSL_CONF','AUTHENTICATION_JWT_SECRET','stack','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','request\x20received\x20in\x20deleteFlow','):\x20Iniciando\x20bot...',',\x20fará\x20nova\x20verificação\x20em\x20','editMessagesInGroup','defineProperty','URL\x20não\x20disponível','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','):\x20Erro\x20durante\x20a\x20atualização:\x20','/instance/connect','uuid','Failed\x20to\x20prepare\x20media\x20message','\x1b[31m','updateGroupWebhook','removeChatLabel','setting','ex:\x20\x22groupJid=120362@g.us\x22','):\x20whoCanUse\x20after\x20validation:\x20','The\x20','blocks','statusCode','font','minutesToClose','Instance\x20restarted','connectedName','groupLeave','updateBlock','dbInstance','option','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','lastCondition','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','CLEANING_INTERVAL','content','StartID:','Error\x20fetching\x20and\x20updating\x20profile:\x20','mentions','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','loggedOut','editFlowBlock','error\x20get\x20vote','Deleted\x20','website','unavailable','setWebhook','ini','VERBOSE','sendMessageWithRetry','scheduleSendText','labelId','menuIgnoreNonVotes','):Output\x20path:\x20','sendContact','lastSend','groupAcceptInvite','@whiskeysockets/baileys','updatePrivacySettings','${Message\x20absent\x20from\x20node}','video','max','groupJoinApprovalMode','request\x20received\x20in\x20getConversation','hGetAll','auth','\x20depois\x20','longitude','ReplyOption\x20com\x20ID\x20','):\x20não\x20encontrou','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','modifiedCount','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','Bloco\x20com\x20ID\x20','author','joinGroupValidate','startCommand','updateOneById','responsavelid','demote','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','backgroundColor','delAll','startFlow','updateCustomFields','):\x20debug\x20alterando\x20this.AutomateSystem','ListMessage','updateMediaMessage','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','sending','paramsJson','lastBlockId','\x1b[41m','The\x20global\x20api\x20key\x20must\x20be\x20set','privacySettings','STORE_CLEANING_TERMINAL','isConnected','jsonwebtoken','uazapiDeleteMessage','stopMinutes','PRODUCT_LIST','Error\x20while\x20deleting\x20message\x20for\x20everyone','connectionStatus','mediaMessage','Safari','):\x20Conversa\x20inserida\x20com\x20sucesso.','isBusinessInstance','memberAddMode','reconnectTimestamps','ephemeralMessage','isArray','sort','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','success','selectableCount','arraybuffer','verify','LabelModel','API\x20Key\x20inválida.','GROUPS_UPDATE','):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','single_select','_ScheduleMessages','replyOption','locked','.wav','abs','toLowerCase','state','detectIPv6PrefixAndInterface','cacheContact','viewOnceMessage','):\x20Deletando\x20mensagem','):\x20[messages.update]\x20group\x20ignored','cpf','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','endsWith','startFlowWebhook','deleteOne','messageContextInfo','ON\x20-\x20dbName:\x20','sleep','createAndSave','saveVariable','extractPhoneNumber','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','):Converted\x20image\x20deleted','interactiveMessage','getMessageModelForOwner','updateAutoCompleteMessages','Erro\x20ao\x20alterar\x20privacidade','function','CORS_METHODS','writeData','getLabelModelForOwner','groupCreate','/message','updateProfileName','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','profilePicture','deleteBlock','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','sendMenu','findOrCreate','deleteFlow','segundos','BRL','console','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','cachedData-whatsapp','onTime','dropIndex','):\x20Current\x20Time:\x20','):\x20Flow\x20\x27','waitingMenu_text','):\x20Procurando\x20PRONTAS\x20mensagens\x20para\x20envio','message','Erro\x20ao\x20atualizar\x20AutomateSystem:','request\x20received\x20in\x20deleteConversation','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','):\x20expirationTime:\x20','labels.edit','0123456789ABCDEF','Not\x20is\x20business\x20profile','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','findAndUpdateCacheContact','equal','pollCreationMessageV3','MESSAGES_UPDATE','):\x20tem\x20blocks','qrcode','CONECTADO\x20À\x20UAZAPI','This\x20name\x20','The\x20property\x20cannot\x20be\x20empty','toFile','sendList','setContext','loadEnv','match','https://api64.ipify.org?format=json','setUpdate','awaitSeconds','DELETED','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','):\x20Editando\x20condição\x20do\x20fluxo...','connectToWhatsappController','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','name','updateGroupsAddPrivacy','processScheduleFlow','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','#00a1f2','display_text','activatedCount','updateChatWithMessage','joinGroup','saveChatVariables','express','whoCanEdit','scheduled','archiveChat','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):\x20Mensagem\x20já\x20enviada\x20para\x20','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','sendPresenceUpdate','#ffc5c7','contacts.update','/chat','transformScheduledMessagesByType','color','next_groupId','groupMetadata','Deletion\x20failed','pushName','fetchInstances','Data\x20inválida\x20fornecida','):\x20isVote:\x20','PREFIX_KEY','delayChatLabel_MAX_RETRIES','restart','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','Botão\x202','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat',']\x20(','Db\x20Connection','restrict','findGroup','?authSource=admin&readPreference=primary&directConnection=true','role','Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo','\x27\x20não\x20encontrado','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','groupHandler','linkPreview','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','Module\x20-\x20ON','firstValue','editflowvaredit','):\x20error:\x20','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','existsSync','request\x20received\x20in\x20getFlow','groups.update','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','composing','createJid','rm\x20-rf\x20','WARN','jsonschema','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','binary','.gif','ff:fe','The\x20\x22','contact','messageSecret','groups','apikey','Falha\x20ao\x20criar\x20IPv6.','envProcess','Erro\x20ao\x20buscar\x20a\x20conversa','Failed\x20to\x20send\x20buttons\x20message','):\x20delete\x20=\x20true','every','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','updateMissingCustomFields','updateStatusPrivacy','isJWT','):Delete\x20chat','DATABASE_CONNECTION_DB_PREFIX_NAME','fetchStatus','flowPrefixCommand','testIPv6','):Temp\x20image\x20deleted','Message','Cache\x20instance\x20update\x20result:\x20','dbServer','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','groupInviteCode','\x1b[36m','Database\x20update\x20result:','closeExistingConversations','processblock','$set','messages.update','\x1b[47m','deletedCount','Cannot\x20','muteEndTime','globalShow','everyOne','announce','http','unlocked','\x20-y','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','mediatype','):\x20Comando\x20desconhecido:\x20','requestPairingCode','editFlowReply','):\x20Editando\x20grupo\x20do\x20fluxo...','save','Reiniciando\x20a\x20aplicação...','variable','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','Valor\x20da\x20URL\x20recuperada:','request\x20received\x20in\x20deleteDoneMessages','getStatus','groupSetting','cleanStore','convert','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','replace','readFileSync','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','flowStopConversation','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','min','beautifyWithPlaceholders','isBase64','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','contains','Timeout\x20exceeded','footerText','random','replaceVariablesInReplyOptions','PENDING','\x20is\x20already\x20in\x20use.','[TESTE\x20RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','Unauthorized','\x20segundos','toString','createServer','data','create','stopWhenYouSendMsg','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','processclearVariables','end','authService','drop','-instances','):\x20Enviando\x20localização','getMinutes','method','mkdirSync','createNewConversation','pm2\x20flush','group','):\x20enviado\x20para\x20[','#83e421','delete','waitingMenu_id','saveConversationToDatabase','ipv6Prefix','Configured\x20IPv6:\x20','AUTHENTICATION_JWT_EXPIRIN_IN','changeVariables','iniciando\x20fluxo\x20router','block','Erro\x20ao\x20editar\x20o\x20bloco:\x20','Subdomínio\x20extraído\x20da\x20URL:','Connection\x20closed\x20for\x20instance:\x20','getContentType','createOrUpdate','chat\x20não\x20encontrado','logout','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','pictureUrl','Não\x20respondeu\x20com\x20a\x20enquete.','Partes\x20do\x20domínio:','CHATS_UPSERT','locationMessage','50mb','cachedContact','archive','user','instanceInfo','toBrazilianNumberFormat','setHeader','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','conditions','output','$addToSet','Erro\x20ao\x20buscar\x20Schedule\x20Messages','\x1b[30m','DD/MM\x20HH:mm:ss','hGet','labels.association','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','originalUrl','profile','isValidAndUniqueIPv6','info','enumerable','editflow','slice','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','/wa-all-message','Last\x20message\x20not\x20found','getProfileName','updateGroupParticipantsWebhook','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','headers','\x20minutos...','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','audio','keys','LOG_LEVEL','readMessages','getAutomateSystem','.svg','reorderMessages','Erro\x20ao\x20buscar\x20fluxos:','Erro\x20ao\x20alterar\x20fluxo','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','queue','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','updateGroupPicture','updateReplyOption','):\x20Editando\x20variável\x20do\x20fluxo...','pairingCode','agents','Not\x20allowed\x20by\x20CORS','\x1b[32m','matchRegex','groupGetInviteInfo','video-cover.png','):\x20Limpando\x20AutomateSystem','startID','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','\x1b[46m','allflows','utf8','removeIPv6','restartInstance','REDIS','sem\x20texto\x20na\x20mensagem','importChatsBatch','groupName','apirequest','uazapiSendText','.mp4','exec','promote','$dbName','list2','upsertChats','envYaml','3633015FezaLR','throwAndLogError','pino','client','selectedOptions','editedMessage','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','getUniqueFlowName','indexOf','remoteJid','):\x20Buscando\x20conversa...','findOne','AutomateSystem\x20não\x20foi\x20inicializado','verifiedName','Garbage\x20collection\x20não\x20está\x20disponível.','isCommunity','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','editflowblock','SERVER_URL','editOperator','enviado\x20para','waitingForReplyMenu','/wa-presence','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','/media/','processApiRequest','Mensagens\x20deletadas\x20com\x20sucesso.','prototype','Erro\x20ao\x20deletar\x20chat:','/wa-contacts','Erro\x20ao\x20atualizar\x20cacheInstance:','processPollUpdateMessage','https://jsonip.com','shareFlow','copyBlock','generate','Esse\x20fluxo\x20expirou','sendAudio','groupSettingUpdate','editFlowCondition','thumbnailUrl','\x20inseridos\x20no\x20banco\x20de\x20dados...','6327ZoYlzN','parseInt','cwd','\x22\x20not\x20found','label_jid','join','Error\x20in\x20chatModify\x20for\x20number\x20','notEqual','atendimentoAberto','sendMessageWithTyping','):Archiving\x20chat','RECONNECT_TIME_FRAME','none','):\x20','goToFlow','context','key','cors','updateChatGroupData','redis','saveMediaToFile','#9568cf','exit','when','dbClient','):\x20Editando\x20replyOption...','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','poll','#000000','waitingMenu_replyOptions','):Hash\x20to\x20image\x20name:\x20','.xlsx','hDel','groupId','created','):\x20Criando\x20fluxo\x20compartilhado...','sendSticker','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','connectionClosed','\x27\x20removido\x20do\x20AutomateSystem.','SERVER','canSendMessage','applyvaredit','PROXY','Retornando\x20grupos\x20COM\x20cache','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','?timestamp=','findFlow','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','DELIVERY_ACK','approve','webhookService','no.connection','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','shift','groupUpdateDescription','):\x20Editando\x20edição\x20do\x20fluxo...','):\x20Usando\x20extensão\x20padrão:\x20','KEY','stickerMessage','start','/config','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','groupRequestParticipantsList','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','messageStubParameters','updateMissingEtiquetas','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','DARK','sha256','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','contextInfo','child_process','.ogg','replaceVariablesChat','):Business\x20profile\x20fetched','chatHandle','fakeReceived','query','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','#ff9484','):\x20Chat\x20','):\x20Mensagens\x20PRONTAS\x20para\x20envio\x20encontradas:\x20','uncaughtException','[service]\x20request\x20received\x20in\x20sendButtons','\x20Tentativa\x20de\x20reconexão\x20','fullName','closed','cacheInstanceModel','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','dayjs','}}\x20->\x20\x22','capitalizedWords','uazapiSendMenu','):\x20Encontrado\x20próxima\x20mensagem\x20para\x20','uazapi','description','deleteReplyOption','https://api.elevenlabs.io/v1/text-to-speech/','vote','Erro\x20ao\x20aplicar\x20varedit:\x20','):Processing\x20audio','profilePictureUrl','):\x20Procurando\x20conversa','):Getting\x20image\x20from\x20url','nativeFlowResponseMessage','replaceOne','.xls','chats.upsert','prepareMediaMessage','cacheInstanceRepository','ScheduleMessageModel','phoneNumber','request\x20received\x20in\x20updateAgent','p-queue','encoding','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','reduce','sendReaction','DATABASE_CONNECTION_HOST','Tentando\x20reconectar...','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','trimmed','splice','prepareWAMessageMedia','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','listen','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','updateOne','last','remoteJids','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','makeCacheableSignalKeyStore','telefone','defineAuthState','message_normalized','Schema','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','pre','convertToString','unreadCount','AutomateSystem','Connection','contactHandle','send','generateHash','@newsletter','eventemitter2','oldToken','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','DATABASE_ENABLED','.mp3','Erro\x20ao\x20atualizar\x20o\x20flow.','saveCreds','ip6eui','SSL_CONF_PRIVKEY','creds','):Sending\x20audio\x20whatsapp','blockLogs','lastInteraction','processingGroup','remote\x20\x22origin\x22','Fluxo\x20id\x20\x27','deleted','DATABASE_CONNECTION_USER','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','myAppStateKeyId','fetchProfilePicture','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','toUpperCase','getValidWhatsAppNumbers','processawaitSeconds','_minute','):\x20alterando\x20this.AutomateSystem','):\x20Fluxo\x20\x27','refused','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','lastRealGroupsFetch','params','urlencoded','URL\x20completa:','authorization','leadInfo.','Missing\x20global\x20api\x20key','updateAgent','CHATS_UPDATE','silent'];a0_0x31c9=function(){return _0x46f323;};return a0_0x31c9();}var Ia=require(a0_0x48e44b(0x21a)),Ta=T(require(a0_0x48e44b(0x590))),it=a0_0x48e44b(0x796),$o=new $(a0_0x48e44b(0x2ab));async function Ro(_0x4f31af,_0x4d9070,_0x4f91c0){const _0x54a30a=a0_0x48e44b;let _0xd0dfc6=_0x4f31af[_0x54a30a(0x84e)]('apikey');if(_0xd0dfc6&&S[_0x54a30a(0x84e)]('AUTHENTICATION')[_0x54a30a(0x30c)][_0x54a30a(0x771)]!==_0xd0dfc6)throw new ie();if(S[_0x54a30a(0x84e)](_0x54a30a(0x393))[_0x54a30a(0x30c)][_0x54a30a(0x771)]===_0xd0dfc6)return _0x4f91c0();if((_0x4f31af['originalUrl'][_0x54a30a(0x1d0)]('/instance/create')||_0x4f31af[_0x54a30a(0x6cc)][_0x54a30a(0x1d0)](_0x54a30a(0x340)))&&!_0xd0dfc6)throw new Z(_0x54a30a(0x7f0),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x403ba8=S[_0x54a30a(0x84e)](_0x54a30a(0x393))[_0x54a30a(0x22f)];try{let [_0x55dad5,_0x54c069]=_0x4f31af[_0x54a30a(0x84e)](_0x54a30a(0x7ee))['split']('\x20');if(_0x55dad5['toLowerCase']()!==_0x54a30a(0x206))throw new ie();if(!(0x0,Ia[_0x54a30a(0x651)])(_0x54c069))throw new ie();let _0x36c7f6=_0x4f31af[_0x54a30a(0x7eb)],_0x267434=Ta[_0x54a30a(0x875)][_0x54a30a(0x5a3)](_0x54c069,_0x403ba8['SECRET'],{'ignoreExpiration':_0x403ba8[_0x54a30a(0x1a0)]===0x0});if(_0x36c7f6[_0x54a30a(0x25e)]!==_0x267434[_0x54a30a(0x25e)]||it!==_0x267434[_0x54a30a(0x452)])throw new ie();return _0x4f91c0();}catch(_0x31ae3c){throw $o[_0x54a30a(0x16b)](_0x31ae3c),new ie();}}async function Ao(_0x477762,_0x46922c,_0x11ea50){const _0x43edf2=a0_0x48e44b;let _0x29aee3=S[_0x43edf2(0x84e)](_0x43edf2(0x393))[_0x43edf2(0x30c)],_0x21870e=_0x477762[_0x43edf2(0x84e)]('apikey');if(_0x29aee3[_0x43edf2(0x771)]===_0x21870e)return _0x11ea50();if(_0x477762['originalUrl'][_0x43edf2(0x1d0)](_0x43edf2(0x355))){let _0x5d6d09=Oa,_0x15b045=_0x477762[_0x43edf2(0x4dc)]['instanceName'];if(_0x5d6d09&&_0x15b045[_0x43edf2(0x5af)]()['startsWith'](_0x5d6d09[_0x43edf2(0x5af)]()))return _0x11ea50();if(!_0x21870e)throw new Z(_0x43edf2(0x7f0),_0x43edf2(0x58c));}if(_0x477762[_0x43edf2(0x6cc)][_0x43edf2(0x1d0)](_0x43edf2(0x340))&&!_0x21870e)throw new Z(_0x43edf2(0x7f0),_0x43edf2(0x58c));if(_0x477762[_0x43edf2(0x6cc)][_0x43edf2(0x1d0)]('/exit')&&!_0x21870e)throw new Z(_0x43edf2(0x7f0),_0x43edf2(0x58c));if(_0x477762[_0x43edf2(0x6cc)][_0x43edf2(0x1d0)](_0x43edf2(0x774))&&!_0x21870e)throw new Z(_0x43edf2(0x7f0),'The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x47fc9e=_0x477762[_0x43edf2(0x7eb)],_0x2210bf=await fe[_0x43edf2(0x56f)]['find'](_0x47fc9e['instanceName']);if(_0x2210bf&&_0x2210bf[_0x43edf2(0x647)]===_0x21870e)return _0x11ea50();}catch{}throw new ie();}var _a={'jwt':Ro,'apikey':Ao},di=require('express'),C=require('uuid'),E=(..._0x3eeff5)=>{const _0x27703f=a0_0x48e44b;let _0x1f68aa={};return _0x3eeff5[_0x27703f(0x3f6)](_0x1367c9=>_0x1f68aa[_0x1367c9]={'minLength':0x1,'description':_0x27703f(0x643)+_0x1367c9+_0x27703f(0x18c)}),{'if':{'propertyNames':{'enum':[..._0x3eeff5]}},'then':{'properties':_0x1f68aa}};},N={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'instanceName':{'type':a0_0x48e44b(0x292)}},...E(a0_0x48e44b(0x25e))},Ac={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'oldToken':{'type':a0_0x48e44b(0x292)}},'required':[a0_0x48e44b(0x7cd)],...E(a0_0x48e44b(0x7cd))},Ic={'properties':{'key':{'type':a0_0x48e44b(0x892),'properties':{'id':{'type':a0_0x48e44b(0x292)},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x48e44b(0x713),a0_0x48e44b(0x479)],...E('id',a0_0x48e44b(0x713))},'message':{'type':a0_0x48e44b(0x892)}}},oe={'properties':{'delay':{'type':a0_0x48e44b(0x84d),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x48e44b(0x292),'enum':[a0_0x48e44b(0x55b),a0_0x48e44b(0x456),a0_0x48e44b(0x638),a0_0x48e44b(0x375),a0_0x48e44b(0x354)]}}},ee={'type':'string','description':a0_0x48e44b(0x24a)},xa={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'number':{...ee},'options':{...oe},'textMessage':{'type':a0_0x48e44b(0x892),'properties':{'text':{'type':a0_0x48e44b(0x292)}},'required':[a0_0x48e44b(0x1de)],...E(a0_0x48e44b(0x1de))}},'required':[a0_0x48e44b(0x2f4),'number']},Pa={'type':a0_0x48e44b(0x292),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x48e44b(0x24a)},Tc={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Pa},'options':{...oe},'textMessage':{'type':a0_0x48e44b(0x892),'properties':{'text':{'type':'string'}},'required':[a0_0x48e44b(0x1de)],...E('text')}},'required':[a0_0x48e44b(0x2f4),a0_0x48e44b(0x156)]},_c={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Pa},'options':{...oe},'mediaMessage':{'type':a0_0x48e44b(0x892),'properties':{'mediatype':{'type':a0_0x48e44b(0x292),'enum':[a0_0x48e44b(0x305),a0_0x48e44b(0x44e),a0_0x48e44b(0x56a),a0_0x48e44b(0x6de)]},'media':{'type':a0_0x48e44b(0x292)},'fileName':{'type':a0_0x48e44b(0x292)},'caption':{'type':a0_0x48e44b(0x292)}},'required':[a0_0x48e44b(0x66e),a0_0x48e44b(0x4b3)],...E(a0_0x48e44b(0x3ca),a0_0x48e44b(0x1e7),a0_0x48e44b(0x4b3))}},'required':['mediaMessage',a0_0x48e44b(0x156)]},Da={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...ee},'options':{...oe},'stickerMessage':{'type':a0_0x48e44b(0x892),'properties':{'image':{'type':a0_0x48e44b(0x292)}},'required':[a0_0x48e44b(0x305)],...E(a0_0x48e44b(0x305))}},'required':['stickerMessage','number']},ka={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'statusMessage':{'type':a0_0x48e44b(0x892),'properties':{'type':{'type':a0_0x48e44b(0x292),'enum':[a0_0x48e44b(0x1de),'image',a0_0x48e44b(0x6de),a0_0x48e44b(0x56a)]},'content':{'type':a0_0x48e44b(0x292)},'caption':{'type':'string'},'backgroundColor':{'type':a0_0x48e44b(0x292)},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x48e44b(0x4b9),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x48e44b(0x292),'pattern':a0_0x48e44b(0x476),'description':a0_0x48e44b(0x341)}},'allContacts':{'type':a0_0x48e44b(0x2d1),'enum':[!0x0,!0x1]}},'required':[a0_0x48e44b(0x418),'content'],...E(a0_0x48e44b(0x418),'content')}},'required':[a0_0x48e44b(0x202)]},La={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...ee},'options':{...oe},'mediaMessage':{'type':a0_0x48e44b(0x892),'properties':{'mediatype':{'type':a0_0x48e44b(0x292),'enum':[a0_0x48e44b(0x305),a0_0x48e44b(0x44e),a0_0x48e44b(0x56a),a0_0x48e44b(0x6de)]},'media':{'type':a0_0x48e44b(0x292)},'fileName':{'type':a0_0x48e44b(0x292)},'caption':{'type':a0_0x48e44b(0x292)}},'required':['mediatype',a0_0x48e44b(0x4b3)],...E('fileName',a0_0x48e44b(0x1e7),'media')}},'required':[a0_0x48e44b(0x596),'number']},Fa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...ee},'options':{...oe},'audioMessage':{'type':a0_0x48e44b(0x892),'properties':{'audio':{'type':a0_0x48e44b(0x292)}},'required':[a0_0x48e44b(0x6de)],...E(a0_0x48e44b(0x6de))}},'required':[a0_0x48e44b(0x225),a0_0x48e44b(0x156)]},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'number':{...ee},'pollMessage':{'type':a0_0x48e44b(0x892),'properties':{'name':{'type':'string'},'selectableCount':{'type':a0_0x48e44b(0x156)},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x48e44b(0x5ff),a0_0x48e44b(0x5a1),'values'],...E(a0_0x48e44b(0x5ff),'selectableCount',a0_0x48e44b(0x4fa))}},'required':['number',a0_0x48e44b(0x31b)]},ja={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'number':{...ee},'menuMessage':{'type':a0_0x48e44b(0x892),'properties':{'text':{'type':a0_0x48e44b(0x292)},'choices':{'type':a0_0x48e44b(0x4b9),'uniqueItems':!0x0}},'required':[a0_0x48e44b(0x1de),'choices'],...E(a0_0x48e44b(0x1de),a0_0x48e44b(0x14e))}},'required':[a0_0x48e44b(0x156),'menuMessage']},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'number':{...ee},'options':{...oe},'locationMessage':{'type':a0_0x48e44b(0x892),'properties':{'latitude':{'type':a0_0x48e44b(0x156)},'longitude':{'type':a0_0x48e44b(0x156)},'name':{'type':a0_0x48e44b(0x292)},'address':{'type':'string'}},'required':[a0_0x48e44b(0x356),a0_0x48e44b(0x571)],...E(a0_0x48e44b(0x5ff),'addresss')}},'required':['number',a0_0x48e44b(0x6ba)]},qa={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'number':{...ee},'options':{...oe},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x48e44b(0x292)},'description':{'type':'string'},'footerText':{'type':a0_0x48e44b(0x292)},'buttonText':{'type':a0_0x48e44b(0x292)},'sections':{'type':a0_0x48e44b(0x4b9),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x48e44b(0x292)},'rows':{'type':a0_0x48e44b(0x4b9),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x48e44b(0x892),'properties':{'title':{'type':a0_0x48e44b(0x292)},'description':{'type':a0_0x48e44b(0x292)},'rowId':{'type':a0_0x48e44b(0x292)}},'required':[a0_0x48e44b(0x526),a0_0x48e44b(0x29f)],...E(a0_0x48e44b(0x526),a0_0x48e44b(0x29f))}}},'required':[a0_0x48e44b(0x526),a0_0x48e44b(0x2c8)],...E(a0_0x48e44b(0x526))}}},'required':['title','description',a0_0x48e44b(0x7f4),a0_0x48e44b(0x41b)],...E(a0_0x48e44b(0x526),a0_0x48e44b(0x797),a0_0x48e44b(0x7f4),a0_0x48e44b(0x689))}},'required':[a0_0x48e44b(0x156),a0_0x48e44b(0x264)]},Va={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'number':{...ee},'options':{...oe},'contactMessage':{'type':'array','items':{'type':a0_0x48e44b(0x892),'properties':{'fullName':{'type':'string'},'phoneNumber':{'type':a0_0x48e44b(0x292),'minLength':0xa}},'required':[a0_0x48e44b(0x78d),a0_0x48e44b(0x7a7)],...E(a0_0x48e44b(0x78d))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x48e44b(0x156),a0_0x48e44b(0x3e1)]},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'reactionMessage':{'type':a0_0x48e44b(0x892),'properties':{'key':{'type':a0_0x48e44b(0x892),'properties':{'id':{'type':a0_0x48e44b(0x292)},'remoteJid':{'type':a0_0x48e44b(0x292)},'fromMe':{'type':a0_0x48e44b(0x2d1),'enum':[!0x0,!0x1]}},'required':['id',a0_0x48e44b(0x713),a0_0x48e44b(0x479)],...E('id',a0_0x48e44b(0x713))},'reaction':{'type':a0_0x48e44b(0x292)}},'required':['key',a0_0x48e44b(0x43b)],...E(a0_0x48e44b(0x43b))}},'required':[a0_0x48e44b(0x392)]},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'numbers':{'type':a0_0x48e44b(0x4b9),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x48e44b(0x476),'description':a0_0x48e44b(0x1c7)}}}},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'readMessages':{'type':a0_0x48e44b(0x4b9),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x48e44b(0x292)},'fromMe':{'type':a0_0x48e44b(0x2d1),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x48e44b(0x292)}},'required':['id',a0_0x48e44b(0x479),a0_0x48e44b(0x713)],...E('id',a0_0x48e44b(0x713))}}},'required':[a0_0x48e44b(0x6e1)]},za={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'privacySettings':{'type':a0_0x48e44b(0x892),'properties':{'readreceipts':{'type':'string','enum':['all','none']},'profile':{'type':'string','enum':['all',a0_0x48e44b(0x2b9),'contact_blacklist','none']},'status':{'type':'string','enum':[a0_0x48e44b(0x877),a0_0x48e44b(0x2b9),a0_0x48e44b(0x872),a0_0x48e44b(0x740)]},'online':{'type':a0_0x48e44b(0x292),'enum':[a0_0x48e44b(0x877),a0_0x48e44b(0x4d5)]},'last':{'type':a0_0x48e44b(0x292),'enum':[a0_0x48e44b(0x877),a0_0x48e44b(0x2b9),a0_0x48e44b(0x872),'none']},'groupadd':{'type':'string','enum':['all',a0_0x48e44b(0x2b9),a0_0x48e44b(0x872),'none']}},'required':['readreceipts','profile',a0_0x48e44b(0x485),'online','last',a0_0x48e44b(0x2ec)],...E('readreceipts',a0_0x48e44b(0x6cd),'status','online',a0_0x48e44b(0x7b9),a0_0x48e44b(0x2ec))}},'required':[a0_0x48e44b(0x58d)]},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'lastMessage':{'type':a0_0x48e44b(0x892),'properties':{'key':{'type':a0_0x48e44b(0x892),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x48e44b(0x292)},'fromMe':{'type':a0_0x48e44b(0x2d1),'enum':[!0x0,!0x1]}},'required':['id',a0_0x48e44b(0x479),a0_0x48e44b(0x713)],...E('id','remoteJid')},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x48e44b(0x744)],...E(a0_0x48e44b(0x321))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x48e44b(0x186),a0_0x48e44b(0x6bd)]},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'id':{'type':a0_0x48e44b(0x292)},'fromMe':{'type':a0_0x48e44b(0x2d1),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0x48e44b(0x292)}},'required':['id',a0_0x48e44b(0x479),a0_0x48e44b(0x713)],...E('id',a0_0x48e44b(0x713),a0_0x48e44b(0x201))},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x48e44b(0x292),'minLength':0x1},'pushName':{'type':a0_0x48e44b(0x292),'minLength':0x1},'id':{'type':a0_0x48e44b(0x292),'minLength':0x1}},...E(a0_0x48e44b(0x477),'id','pushName')}}},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'name':{'type':a0_0x48e44b(0x292)}},...E('name')},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'status':{'type':a0_0x48e44b(0x292)}},...E(a0_0x48e44b(0x485))},Oe={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'number':{'type':a0_0x48e44b(0x292)},'picture':{'type':a0_0x48e44b(0x292)}}},Za={'type':a0_0x48e44b(0x892),'properties':{'wuid':{'type':a0_0x48e44b(0x292)},'name':{'type':a0_0x48e44b(0x292)},'picture':{'type':'string'},'status':{'type':a0_0x48e44b(0x292)},'isBusiness':{'type':a0_0x48e44b(0x2d1)}}},ei={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'where':{'type':a0_0x48e44b(0x892),'properties':{'_id':{'type':a0_0x48e44b(0x292),'minLength':0x1},'key':{'type':a0_0x48e44b(0x892),'if':{'propertyNames':{'enum':[a0_0x48e44b(0x479),a0_0x48e44b(0x713),'id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0x48e44b(0x5f1)},'id':{'type':a0_0x48e44b(0x292),'minLength':0x1,'description':a0_0x48e44b(0x5f1)},'fromMe':{'type':a0_0x48e44b(0x2d1),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x48e44b(0x892)}},...E(a0_0x48e44b(0x477))},'limit':{'type':a0_0x48e44b(0x84d)}}},Oc={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'where':{'type':a0_0x48e44b(0x892),'properties':{'_id':{'type':a0_0x48e44b(0x292)},'remoteJid':{'type':'string'},'id':{'type':'string'},'fromMe':{'type':a0_0x48e44b(0x2d1),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x48e44b(0x292)},'status':{'type':a0_0x48e44b(0x292),'enum':[a0_0x48e44b(0x820),a0_0x48e44b(0x68c),a0_0x48e44b(0x410),a0_0x48e44b(0x765),a0_0x48e44b(0x38e),'PLAYED']}},...E(a0_0x48e44b(0x477),'remoteJid','id',a0_0x48e44b(0x485))},'limit':{'type':a0_0x48e44b(0x84d)}}},ti={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'number':{...ee},'presence':{'type':a0_0x48e44b(0x292),'enum':['unavailable',a0_0x48e44b(0x456),'composing','recording',a0_0x48e44b(0x354)]}},'required':[a0_0x48e44b(0x2b8),'number']},si={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'subject':{'type':'string'},'description':{'type':a0_0x48e44b(0x292)},'profilePicture':{'type':'string'},'participants':{'type':a0_0x48e44b(0x4b9),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x48e44b(0x292),'minLength':0xa,'pattern':a0_0x48e44b(0x329),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x48e44b(0x219),'participants'],...E(a0_0x48e44b(0x219),a0_0x48e44b(0x797),a0_0x48e44b(0x5cf))},xe={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'groupJid':{'type':a0_0x48e44b(0x292),'pattern':a0_0x48e44b(0x835)}},'required':[a0_0x48e44b(0x20f)],...E(a0_0x48e44b(0x20f))},ai={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'groupJid':{'type':a0_0x48e44b(0x292)},'action':{'type':'string','enum':[a0_0x48e44b(0x234),a0_0x48e44b(0x2bd),a0_0x48e44b(0x704),a0_0x48e44b(0x57e),a0_0x48e44b(0x2c7),a0_0x48e44b(0x766)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x48e44b(0x292),'minLength':0xa,'pattern':a0_0x48e44b(0x329),'description':a0_0x48e44b(0x364)}}},'required':[a0_0x48e44b(0x20f),a0_0x48e44b(0x390),'participants'],...E(a0_0x48e44b(0x20f),a0_0x48e44b(0x390))},ii={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x48e44b(0x292)},'expiration':{'type':a0_0x48e44b(0x156),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x48e44b(0x20f),a0_0x48e44b(0x1ef)],...E(a0_0x48e44b(0x20f),'expiration')},oi={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'groupJid':{'type':a0_0x48e44b(0x292)},'image':{'type':a0_0x48e44b(0x292)}},'required':[a0_0x48e44b(0x20f),a0_0x48e44b(0x305)],...E(a0_0x48e44b(0x20f),a0_0x48e44b(0x305))},ri={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'groupJid':{'type':a0_0x48e44b(0x292)},'description':{'type':a0_0x48e44b(0x292)}},'required':[a0_0x48e44b(0x20f),a0_0x48e44b(0x797)],...E(a0_0x48e44b(0x20f),a0_0x48e44b(0x797))},ni={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x48e44b(0x292)},'name':{'type':a0_0x48e44b(0x292)}},'required':['groupJid','name'],...E('groupJid',a0_0x48e44b(0x5ff))},ci={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'groupJid':{'type':a0_0x48e44b(0x292)},'setting':{'type':'string','enum':[a0_0x48e44b(0x3bc),a0_0x48e44b(0x3f4),a0_0x48e44b(0x66b),a0_0x48e44b(0x5ac)]}},'required':['groupJid',a0_0x48e44b(0x53f)],...E(a0_0x48e44b(0x20f),a0_0x48e44b(0x53f))},li={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x48e44b(0x292)},'restrict':{'type':a0_0x48e44b(0x2d1)},'announce':{'type':a0_0x48e44b(0x2d1)},'memberAddMode':{'type':a0_0x48e44b(0x2d1)},'joinApprovalMode':{'type':a0_0x48e44b(0x2d1)},'expiration':{'type':a0_0x48e44b(0x84d),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x48e44b(0x292)},'description':{'type':'string'},'image':{'type':a0_0x48e44b(0x292)}}},Ns={'$id':(0x0,C['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x48e44b(0x292)}},'required':[a0_0x48e44b(0x427)],...E(a0_0x48e44b(0x427))},ui={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'url':{'type':a0_0x48e44b(0x292)},'enabled':{'type':a0_0x48e44b(0x2d1),'enum':[!0x0,!0x1]}},'required':[a0_0x48e44b(0x32b),a0_0x48e44b(0x528)]},xc={'$id':(0x0,C['v4'])(),'type':a0_0x48e44b(0x892),'properties':{'local_map':{'type':a0_0x48e44b(0x2d1),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x48e44b(0x2d1),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x48e44b(0x2d1),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x48e44b(0x2d1),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x48e44b(0x2d1),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x48e44b(0x2d1),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x48e44b(0x2d1),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x48e44b(0x2d1),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x48e44b(0x2d1),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x48e44b(0x2d1),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x48e44b(0x2d1),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x48e44b(0x2d1),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x48e44b(0x2d1),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x48e44b(0x2d1),'enum':[!0x0,!0x1]}},'required':[a0_0x48e44b(0x170),'STATUS_INSTANCE',a0_0x48e44b(0x174),'MESSAGES_SET',a0_0x48e44b(0x5ec),a0_0x48e44b(0x4c2),a0_0x48e44b(0x529),'CONTACTS_SET','CONTACTS_UPSERT','CONTACTS_UPDATE',a0_0x48e44b(0x180),a0_0x48e44b(0x4a7),a0_0x48e44b(0x6b9),a0_0x48e44b(0x7f2),'CHATS_DELETE','CONNECTION_UPDATE','GROUPS_UPSERT',a0_0x48e44b(0x5a6),'GROUP_PARTICIPANTS_UPDATE'],...E(a0_0x48e44b(0x170),a0_0x48e44b(0x499),a0_0x48e44b(0x174),a0_0x48e44b(0x35f),a0_0x48e44b(0x5ec),'MESSAGES_UPSERT',a0_0x48e44b(0x529),a0_0x48e44b(0x34e),a0_0x48e44b(0x2fb),a0_0x48e44b(0x1f3),a0_0x48e44b(0x180),a0_0x48e44b(0x4a7),a0_0x48e44b(0x6b9),a0_0x48e44b(0x7f2),'CHATS_DELETE',a0_0x48e44b(0x1cd),a0_0x48e44b(0x27e),a0_0x48e44b(0x5a6),a0_0x48e44b(0x84a))},ot=class{},rt=class extends _{[a0_0x48e44b(0x39f)](_0x44a1f9){return sa(_0x44a1f9);}async[a0_0x48e44b(0x411)](_0x2f2a5e){const _0x28af06=a0_0x48e44b;if(_0x2f2a5e[_0x28af06(0x3b4)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x2f2a5e[0x0][_0x28af06(0x4d0)])['insertMany']([..._0x2f2a5e]))[_0x28af06(0x3b4)]};}catch(_0x216258){return _0x216258;}}async[a0_0x48e44b(0x6a5)](_0x2c7115,_0x388f4b){const _0x50d5cb=a0_0x48e44b;try{return{'deletedCount':(await this[_0x50d5cb(0x39f)](_0x388f4b)[_0x50d5cb(0x4a5)]({..._0x2c7115[_0x50d5cb(0x1ab)]}))[_0x50d5cb(0x664)]};}catch(_0x3059f7){return{'error':_0x3059f7?.[_0x50d5cb(0x691)]()};}}async[a0_0x48e44b(0x453)](_0x485e2c,_0x37ba5){const _0x43be18=a0_0x48e44b;try{if(_0x485e2c[_0x43be18(0x3b4)]===0x0)return;let _0x4a59b2=this[_0x43be18(0x39f)](_0x37ba5),_0x976f45=_0x485e2c[_0x43be18(0x3ad)](_0x5301a1=>({'updateOne':{'filter':{'_id':_0x5301a1[_0x43be18(0x477)],'owner':_0x37ba5},'update':{..._0x5301a1}}})),{modifiedCount:_0x4955fe}=await _0x4a59b2[_0x43be18(0x388)](_0x976f45);return{'insertCount':_0x4955fe};}catch{return;}}async[a0_0x48e44b(0x1ae)](_0x577d6e,_0x40fa37){const _0xa3b3d7=a0_0x48e44b;try{let _0x463b74=this[_0xa3b3d7(0x39f)](_0x40fa37),_0xbcae9d=A(_0x577d6e[_0xa3b3d7(0x1ab)]);return await _0x463b74[_0xa3b3d7(0x1ae)](_0xbcae9d)[_0xa3b3d7(0x80e)](_0x577d6e?.[_0xa3b3d7(0x80e)]??0x0)[_0xa3b3d7(0x333)]();}catch{return[];}}async[a0_0x48e44b(0x715)](_0x36d527,_0x4d273c){const _0xbd003d=a0_0x48e44b;try{let _0x189603=this[_0xbd003d(0x39f)](_0x4d273c),_0x27a9f3=A(_0x36d527[_0xbd003d(0x1ab)]);return await _0x189603[_0xbd003d(0x715)](_0x27a9f3)[_0xbd003d(0x333)]();}catch{return null;}}async[a0_0x48e44b(0x421)](_0x33e757){const _0x3779c7=a0_0x48e44b;try{return await this[_0x3779c7(0x39f)](_0x33e757)[_0x3779c7(0x344)][_0x3779c7(0x69a)](),{'success':!0x0};}catch(_0x403946){return console['error'](_0x403946),{'success':!0x1,'error':_0x403946};}}},nt=require(a0_0x48e44b(0x63c)),qc=require('express-async-errors'),$s=new $(a0_0x48e44b(0x1b8)),V=class{[a0_0x48e44b(0x895)](_0x27e2d1,_0x4f8801=!0x0){const _0x5a7b34=a0_0x48e44b;let _0x3a746='/'+_0x27e2d1;return _0x4f8801&&(_0x3a746+=_0x5a7b34(0x351)),_0x3a746;}async['dataValidate'](_0x3ca5ec){const _0x5aaa55=a0_0x48e44b;let {request:_0x1bc520,schema:_0x59b906,ClassRef:_0x49997e,execute:_0x5d53fa}=_0x3ca5ec,_0x1e8ebd=new _0x49997e(),_0x2e646a=_0x1bc520[_0x5aaa55(0x4dc)],_0x18643a=_0x1bc520[_0x5aaa55(0x7eb)];_0x1bc520?.[_0x5aaa55(0x785)]&&Object['keys'](_0x1bc520['query'])[_0x5aaa55(0x3b4)]>0x0&&Object[_0x5aaa55(0x3c5)](_0x18643a,_0x1bc520[_0x5aaa55(0x785)]),_0x1bc520[_0x5aaa55(0x6cc)]['includes'](_0x5aaa55(0x355))&&Object['assign'](_0x18643a,_0x2e646a),Object[_0x5aaa55(0x3c5)](_0x1e8ebd,_0x2e646a);let _0x5b4803=_0x59b906?(0x0,nt[_0x5aaa55(0x2da)])(_0x1e8ebd,_0x59b906):{'valid':!0x0,'errors':[]};if(!_0x5b4803['valid']){let _0x49290b=_0x5b4803['errors'][_0x5aaa55(0x3ad)](({property:_0x1a3053,stack:_0x4472c3,schema:_0x10f8c6})=>{const _0x21500d=_0x5aaa55;let _0x1198d4;return _0x10f8c6[_0x21500d(0x797)]?_0x1198d4=_0x10f8c6[_0x21500d(0x797)]:_0x1198d4=_0x4472c3[_0x21500d(0x67e)](_0x21500d(0x4ce),''),{'property':_0x1a3053[_0x21500d(0x67e)]('instance.',''),'message':_0x1198d4};});throw $s[_0x5aaa55(0x16b)]([..._0x49290b]),new m(..._0x49290b);}return await _0x5d53fa(_0x18643a,_0x1e8ebd);}async['groupValidate'](_0x30da36){const _0x5c68ff=a0_0x48e44b;let {request:_0x3a5e1b,ClassRef:_0x339c77,schema:_0x559703,execute:_0x403ce9}=_0x30da36,_0x51b52a=_0x3a5e1b[_0x5c68ff(0x785)];if(!_0x51b52a?.[_0x5c68ff(0x20f)])throw new m(_0x5c68ff(0x26f),_0x5c68ff(0x540));let _0x454bd6=_0x3a5e1b[_0x5c68ff(0x7eb)],_0x579a45=_0x3a5e1b[_0x5c68ff(0x4dc)],_0x525130=new _0x339c77();Object[_0x5c68ff(0x3c5)](_0x579a45,_0x51b52a),Object[_0x5c68ff(0x3c5)](_0x525130,_0x579a45);let _0x4c3a33=(0x0,nt[_0x5c68ff(0x2da)])(_0x525130,_0x559703);if(!_0x4c3a33[_0x5c68ff(0x49d)]){let _0x393e64=_0x4c3a33[_0x5c68ff(0x434)]['map'](({property:_0x19d007,stack:_0x5db08a,schema:_0x3a9cf8})=>{const _0x5bd6b1=_0x5c68ff;let _0xac8bce;return _0x3a9cf8[_0x5bd6b1(0x797)]?_0xac8bce=_0x3a9cf8[_0x5bd6b1(0x797)]:_0xac8bce=_0x5db08a[_0x5bd6b1(0x67e)](_0x5bd6b1(0x4ce),''),{'property':_0x19d007[_0x5bd6b1(0x67e)](_0x5bd6b1(0x4ce),''),'message':_0xac8bce};});throw $s['error']([..._0x393e64]),new m(..._0x393e64);}return await _0x403ce9(_0x454bd6,_0x525130);}async[a0_0x48e44b(0x57a)](_0x45d63d){const _0x30dac8=a0_0x48e44b;let {request:_0x44ddae,ClassRef:_0x3cf3bc,schema:_0x31caf9,execute:_0xa69e54}=_0x45d63d,_0x460a81=_0x44ddae[_0x30dac8(0x4dc)];if(!_0x460a81?.[_0x30dac8(0x427)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x30dac8(0x312));let _0x33694c=_0x44ddae[_0x30dac8(0x7eb)],_0x237e19=_0x44ddae[_0x30dac8(0x4dc)],_0x11666e=new _0x3cf3bc();Object['assign'](_0x237e19,_0x460a81),Object[_0x30dac8(0x3c5)](_0x11666e,_0x237e19);let _0x78eecc=(0x0,nt[_0x30dac8(0x2da)])(_0x11666e,_0x31caf9);if(!_0x78eecc['valid']){let _0x27fd7f=_0x78eecc[_0x30dac8(0x434)][_0x30dac8(0x3ad)](({property:_0x3fa4c8,stack:_0x11968e,schema:_0x340feb})=>{const _0x283565=_0x30dac8;let _0x21e6d9;return _0x340feb['description']?_0x21e6d9=_0x340feb['description']:_0x21e6d9=_0x11968e['replace'](_0x283565(0x4ce),''),{'property':_0x3fa4c8[_0x283565(0x67e)](_0x283565(0x4ce),''),'message':_0x21e6d9};});throw $s['error']([..._0x27fd7f]),new m(..._0x27fd7f);}return await _0xa69e54(_0x33694c,_0x11666e);}},M=class{},al=new $(a0_0x48e44b(0x357)),ct=class extends V{constructor(..._0x2ac18f){const _0x2cb3a0=a0_0x48e44b;super(),this['router']=(0x0,di[_0x2cb3a0(0x8c5)])(),this[_0x2cb3a0(0x1f7)][_0x2cb3a0(0x89b)](this[_0x2cb3a0(0x895)](_0x2cb3a0(0x4bb)),..._0x2ac18f,async(_0x35d0b6,_0xe868e)=>{const _0x10b27f=_0x2cb3a0;let _0x38f3a9=await this['dataValidate']({'request':_0x35d0b6,'schema':ti,'ClassRef':Qe,'execute':(_0x217924,_0x4cf9d1)=>D[_0x10b27f(0x4bb)](_0x217924,_0x4cf9d1)});return _0xe868e[_0x10b27f(0x485)](0xc9)[_0x10b27f(0x1ed)](_0x38f3a9);})[_0x2cb3a0(0x89b)](this[_0x2cb3a0(0x895)](_0x2cb3a0(0x83d)),..._0x2ac18f,async(_0x1f0c37,_0x2f5a8c)=>{const _0x46cd0c=_0x2cb3a0;let _0x3f4484=await this[_0x46cd0c(0x50e)]({'request':_0x1f0c37,'schema':Ba,'ClassRef':Ye,'execute':(_0xcc6c18,_0x3e30e1)=>D[_0x46cd0c(0x1aa)](_0xcc6c18,_0x3e30e1)});return _0x2f5a8c[_0x46cd0c(0x485)](0xc9)[_0x46cd0c(0x1ed)](_0x3f4484);})[_0x2cb3a0(0x89b)](this[_0x2cb3a0(0x895)](_0x2cb3a0(0x4f0)),..._0x2ac18f,async(_0x56cc1d,_0x2108fc)=>{const _0x5bd655=_0x2cb3a0;let _0x104375=await this['dataValidate']({'request':_0x56cc1d,'schema':N,'ClassRef':M,'execute':(_0x499007,_0x22994e)=>D[_0x5bd655(0x4f0)](_0x499007,_0x22994e)});return _0x2108fc[_0x5bd655(0x485)](0xc9)[_0x5bd655(0x1ed)](_0x104375);})[_0x2cb3a0(0x2fa)](this[_0x2cb3a0(0x895)]('markMessageAsRead'),..._0x2ac18f,async(_0x357dd1,_0x5554b1)=>{const _0x2cd33f=_0x2cb3a0;let _0x1085c5=await this[_0x2cd33f(0x50e)]({'request':_0x357dd1,'schema':Wa,'ClassRef':et,'execute':(_0x462212,_0xa6cd0c)=>D[_0x2cd33f(0x1c9)](_0x462212,_0xa6cd0c)});return _0x5554b1[_0x2cd33f(0x485)](0xc9)[_0x2cd33f(0x1ed)](_0x1085c5);})['put'](this[_0x2cb3a0(0x895)](_0x2cb3a0(0x60c)),..._0x2ac18f,async(_0xa27521,_0x420f03)=>{const _0x592955=_0x2cb3a0;let _0x18f2b5=await this['dataValidate']({'request':_0xa27521,'schema':Ha,'ClassRef':tt,'execute':(_0x3e95e8,_0x16a5b8)=>D[_0x592955(0x60c)](_0x3e95e8,_0x16a5b8)});return _0x420f03['status'](0xc9)[_0x592955(0x1ed)](_0x18f2b5);})[_0x2cb3a0(0x6a5)](this[_0x2cb3a0(0x895)]('deleteMessageForEveryone'),..._0x2ac18f,async(_0x253e3f,_0x308cc6)=>{const _0xac3ef0=_0x2cb3a0;let _0x1e9360=await this[_0xac3ef0(0x50e)]({'request':_0x253e3f,'schema':Ka,'ClassRef':at,'execute':(_0xd0dc5d,_0x3e7916)=>D[_0xac3ef0(0x306)](_0xd0dc5d,_0x3e7916)});return _0x308cc6[_0xac3ef0(0x485)](0xc9)[_0xac3ef0(0x1ed)](_0x1e9360);})['post'](this[_0x2cb3a0(0x895)]('fetchProfilePictureUrl'),..._0x2ac18f,async(_0x3746ea,_0x3e1b7f)=>{const _0xefdeef=_0x2cb3a0;let _0x4645f3=await this[_0xefdeef(0x50e)]({'request':_0x3746ea,'schema':Oe,'ClassRef':Te,'execute':(_0x146dc5,_0x355ab9)=>D[_0xefdeef(0x7e0)](_0x146dc5,_0x355ab9)});return _0x3e1b7f[_0xefdeef(0x485)](0xc8)[_0xefdeef(0x1ed)](_0x4645f3);})[_0x2cb3a0(0x89b)](this[_0x2cb3a0(0x895)](_0x2cb3a0(0x287)),..._0x2ac18f,async(_0x53d3f1,_0x5a1ebd)=>{const _0x13c972=_0x2cb3a0;let _0x2b3a3c=await this['dataValidate']({'request':_0x53d3f1,'schema':Za,'ClassRef':Te,'execute':(_0x370300,_0x44f301)=>D[_0x13c972(0x287)](_0x370300,_0x44f301)});return _0x5a1ebd['status'](0xc8)['json'](_0x2b3a3c);})['post'](this['routerPath']('findContacts'),..._0x2ac18f,async(_0x38b354,_0x68067f)=>{const _0x6956c7=_0x2cb3a0;let _0x308e8=await this[_0x6956c7(0x50e)]({'request':_0x38b354,'schema':Qa,'ClassRef':ot,'execute':(_0xbd4b99,_0x542f4c)=>D['fetchContacts'](_0xbd4b99,_0x542f4c)});return _0x68067f[_0x6956c7(0x485)](0xc8)[_0x6956c7(0x1ed)](_0x308e8);})['post'](this[_0x2cb3a0(0x895)](_0x2cb3a0(0x85c)),..._0x2ac18f,async(_0x435567,_0x2ebcb5)=>{const _0x1e38ec=_0x2cb3a0;let _0x38b881=await this[_0x1e38ec(0x50e)]({'request':_0x435567,'schema':null,'ClassRef':Object,'execute':(_0x5ca5a1,_0x451024)=>D[_0x1e38ec(0x85c)](_0x5ca5a1,_0x451024)});return _0x2ebcb5['status'](0xc9)[_0x1e38ec(0x1ed)](_0x38b881);})[_0x2cb3a0(0x89b)](this[_0x2cb3a0(0x895)](_0x2cb3a0(0x4bf)),..._0x2ac18f,async(_0x50fe93,_0xb0f704)=>{const _0x12b903=_0x2cb3a0;let _0x394e8d=await this['dataValidate']({'request':_0x50fe93,'schema':ei,'ClassRef':He,'execute':(_0x5b9fc6,_0x3a14fb)=>D[_0x12b903(0x849)](_0x5b9fc6,_0x3a14fb)});return _0xb0f704['status'](0xc8)[_0x12b903(0x1ed)](_0x394e8d);})[_0x2cb3a0(0x84e)](this['routerPath']('findChats'),..._0x2ac18f,async(_0x4a5e64,_0x3d74ab)=>{const _0x3d1bf7=_0x2cb3a0;let _0x4da491=await this['dataValidate']({'request':_0x4a5e64,'schema':null,'ClassRef':M,'execute':_0x3b6fb9=>D[_0x3d1bf7(0x39a)](_0x3b6fb9)});return _0x3d74ab[_0x3d1bf7(0x485)](0xc8)[_0x3d1bf7(0x1ed)](_0x4da491);})[_0x2cb3a0(0x84e)](this['routerPath'](_0x2cb3a0(0x416)),..._0x2ac18f,async(_0x2f1fa3,_0x235653)=>{const _0x2cae42=_0x2cb3a0;let _0x4323b6=await this[_0x2cae42(0x50e)]({'request':_0x2f1fa3,'schema':null,'ClassRef':M,'execute':_0x55a42d=>D['fetchLabels'](_0x55a42d)});return _0x235653[_0x2cae42(0x485)](0xc8)[_0x2cae42(0x1ed)](_0x4323b6);})[_0x2cb3a0(0x2fa)](this[_0x2cb3a0(0x895)](_0x2cb3a0(0x387)),..._0x2ac18f,async(_0x548ba9,_0x8d1da7)=>{const _0x31637c=_0x2cb3a0;let _0x103c00=await this[_0x31637c(0x50e)]({'request':_0x548ba9,'schema':null,'ClassRef':Array,'execute':(_0x2ae33a,_0x3d36d9)=>D[_0x31637c(0x387)](_0x2ae33a,_0x3d36d9)});return _0x8d1da7[_0x31637c(0x485)](0xc8)[_0x31637c(0x1ed)](_0x103c00);})['get'](this[_0x2cb3a0(0x895)](_0x2cb3a0(0x8a0)),..._0x2ac18f,async(_0x6495f8,_0xb4a2e2)=>{const _0x419cb3=_0x2cb3a0;let _0x317819=await this[_0x419cb3(0x50e)]({'request':_0x6495f8,'schema':null,'ClassRef':M,'execute':_0x2ba53d=>D[_0x419cb3(0x8a0)](_0x2ba53d)});return _0xb4a2e2[_0x419cb3(0x485)](0xc8)['json'](_0x317819);})[_0x2cb3a0(0x2fa)](this['routerPath'](_0x2cb3a0(0x568)),..._0x2ac18f,async(_0x4382a6,_0x180c5c)=>{const _0x1a728b=_0x2cb3a0;let _0x4b6836=await this[_0x1a728b(0x50e)]({'request':_0x4382a6,'schema':za,'ClassRef':st,'execute':(_0x1097d5,_0x4d8a2f)=>D['updatePrivacySettings'](_0x1097d5,_0x4d8a2f)});return _0x180c5c['status'](0xc9)[_0x1a728b(0x1ed)](_0x4b6836);})[_0x2cb3a0(0x89b)](this['routerPath'](_0x2cb3a0(0x285)),..._0x2ac18f,async(_0x544fa4,_0x1192cf)=>{const _0x20e960=_0x2cb3a0;let _0x2bee29=await this['dataValidate']({'request':_0x544fa4,'schema':Oe,'ClassRef':Ee,'execute':(_0x2c1f19,_0x587549)=>D[_0x20e960(0x285)](_0x2c1f19,_0x587549)});return _0x1192cf[_0x20e960(0x485)](0xc8)[_0x20e960(0x1ed)](_0x2bee29);})[_0x2cb3a0(0x89b)](this[_0x2cb3a0(0x895)]('updateProfileName'),..._0x2ac18f,async(_0x5a9b0a,_0x4c8a45)=>{const _0xcc9cc5=_0x2cb3a0;let _0x4069fd=await this[_0xcc9cc5(0x50e)]({'request':_0x5a9b0a,'schema':Ya,'ClassRef':Xe,'execute':(_0x53bcd6,_0x1b85e9)=>D[_0xcc9cc5(0x5cd)](_0x53bcd6,_0x1b85e9)});return _0x4c8a45[_0xcc9cc5(0x485)](0xc8)['json'](_0x4069fd);})[_0x2cb3a0(0x89b)](this[_0x2cb3a0(0x895)](_0x2cb3a0(0x397)),..._0x2ac18f,async(_0x45d0f1,_0x24554e)=>{const _0x311630=_0x2cb3a0;let _0x527600=await this[_0x311630(0x50e)]({'request':_0x45d0f1,'schema':Xa,'ClassRef':Ze,'execute':(_0x2aaed8,_0x1a6a50)=>D[_0x311630(0x397)](_0x2aaed8,_0x1a6a50)});return _0x24554e['status'](0xc8)[_0x311630(0x1ed)](_0x527600);})[_0x2cb3a0(0x2fa)](this[_0x2cb3a0(0x895)]('updateProfilePicture'),..._0x2ac18f,async(_0x190d43,_0x25c3a6)=>{const _0x429dab=_0x2cb3a0;let _0x52ab15=await this[_0x429dab(0x50e)]({'request':_0x190d43,'schema':Oe,'ClassRef':Ee,'execute':(_0x3d5469,_0x379e06)=>D['updateProfilePicture'](_0x3d5469,_0x379e06)});return _0x25c3a6[_0x429dab(0x485)](0xc8)[_0x429dab(0x1ed)](_0x52ab15);})['delete'](this[_0x2cb3a0(0x895)](_0x2cb3a0(0x3e9)),..._0x2ac18f,async(_0x423c7f,_0x7ca102)=>{const _0x208fa4=_0x2cb3a0;let _0x3aeb8c=await this[_0x208fa4(0x50e)]({'request':_0x423c7f,'schema':Oe,'ClassRef':Ee,'execute':(_0x35b06d,_0x3a521e)=>D['removeProfilePicture'](_0x35b06d,_0x3a521e)});return _0x7ca102['status'](0xc8)[_0x208fa4(0x1ed)](_0x3aeb8c);});}},pi=require(a0_0x48e44b(0x609)),lt=class{},ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},te=class{},Pe=class{},mt=class extends te{},ft=class extends te{},wt=class extends V{constructor(..._0x130440){const _0x4b1c4f=a0_0x48e44b;super(),this[_0x4b1c4f(0x1f7)]=(0x0,pi[_0x4b1c4f(0x8c5)])(),this['router'][_0x4b1c4f(0x89b)](this[_0x4b1c4f(0x895)](_0x4b1c4f(0x694)),..._0x130440,async(_0x49a85f,_0x4aab39)=>{const _0xe797d1=_0x4b1c4f;let _0x2de73e=await this[_0xe797d1(0x50e)]({'request':_0x49a85f,'schema':si,'ClassRef':lt,'execute':(_0x1ac278,_0x1d57e0)=>q['createGroup'](_0x1ac278,_0x1d57e0)});_0x4aab39[_0xe797d1(0x485)](0xc9)['json'](_0x2de73e);})[_0x4b1c4f(0x2fa)](this['routerPath'](_0x4b1c4f(0x6ea)),..._0x130440,async(_0x51481a,_0x3ed9eb)=>{const _0x2a5054=_0x4b1c4f;let _0x39c1d2=await this['groupValidate']({'request':_0x51481a,'schema':oi,'ClassRef':ut,'execute':(_0x59c3d3,_0x273257)=>q[_0x2a5054(0x6ea)](_0x59c3d3,_0x273257)});_0x3ed9eb[_0x2a5054(0x485)](0xc9)[_0x2a5054(0x1ed)](_0x39c1d2);})['put'](this[_0x4b1c4f(0x895)]('groupDesc'),..._0x130440,async(_0xe0fd37,_0x55fd92)=>{const _0x278030=_0x4b1c4f;let _0x1854c6=await this[_0x278030(0x466)]({'request':_0xe0fd37,'schema':ri,'ClassRef':dt,'execute':(_0x39e983,_0x2bed81)=>q[_0x278030(0x196)](_0x39e983,_0x2bed81)});_0x55fd92[_0x278030(0x485)](0xc9)[_0x278030(0x1ed)](_0x1854c6);})[_0x4b1c4f(0x2fa)](this['routerPath'](_0x4b1c4f(0x6ff)),..._0x130440,async(_0x3b089a,_0x26877b)=>{const _0x19f38a=_0x4b1c4f;let _0x2bdaeb=await this[_0x19f38a(0x466)]({'request':_0x3b089a,'schema':ni,'ClassRef':pt,'execute':(_0x455a3f,_0xc283ed)=>q['groupName'](_0x455a3f,_0xc283ed)});_0x26877b[_0x19f38a(0x485)](0xc9)[_0x19f38a(0x1ed)](_0x2bdaeb);})['put'](this[_0x4b1c4f(0x895)](_0x4b1c4f(0x83e)),..._0x130440,async(_0x56e3cd,_0x5163d7)=>{const _0x41d3d6=_0x4b1c4f;let _0x1345ed=await this[_0x41d3d6(0x466)]({'request':_0x56e3cd,'schema':li,'ClassRef':gt,'execute':(_0x125d10,_0x252201)=>q[_0x41d3d6(0x83e)](_0x125d10,_0x252201)});_0x5163d7[_0x41d3d6(0x485)](0xc9)[_0x41d3d6(0x1ed)](_0x1345ed);})[_0x4b1c4f(0x2fa)](this[_0x4b1c4f(0x895)](_0x4b1c4f(0x67a)),..._0x130440,async(_0x47da8d,_0x5e8c93)=>{const _0x5f06f9=_0x4b1c4f;let _0x44d582=await this[_0x5f06f9(0x466)]({'request':_0x47da8d,'schema':ci,'ClassRef':ht,'execute':(_0x59a6e5,_0x3f9a06)=>q['groupSetting'](_0x59a6e5,_0x3f9a06)});_0x5e8c93[_0x5f06f9(0x485)](0xc9)[_0x5f06f9(0x1ed)](_0x44d582);})[_0x4b1c4f(0x2fa)](this[_0x4b1c4f(0x895)](_0x4b1c4f(0x182)),..._0x130440,async(_0x234201,_0x12c299)=>{const _0x151ed0=_0x4b1c4f;let _0x179442=await this[_0x151ed0(0x466)]({'request':_0x234201,'schema':ii,'ClassRef':ft,'execute':(_0xb6d14b,_0x1a8690)=>q[_0x151ed0(0x182)](_0xb6d14b,_0x1a8690)});_0x12c299[_0x151ed0(0x485)](0xc9)[_0x151ed0(0x1ed)](_0x179442);})[_0x4b1c4f(0x84e)](this[_0x4b1c4f(0x895)](_0x4b1c4f(0x4f2)),..._0x130440,async(_0x54019a,_0x1f150d)=>{const _0x3fbf74=_0x4b1c4f;let _0x415fef=await this[_0x3fbf74(0x466)]({'request':_0x54019a,'schema':xe,'ClassRef':te,'execute':(_0x38c1a0,_0x46cd9e)=>q[_0x3fbf74(0x26e)](_0x38c1a0,_0x46cd9e)});_0x1f150d[_0x3fbf74(0x485)](0xc8)['json'](_0x415fef);})['get'](this['routerPath'](_0x4b1c4f(0x1fa)),..._0x130440,async(_0x12a2d6,_0x5f0ded)=>{const _0x3961d6=_0x4b1c4f;let _0x460aa1=await this[_0x3961d6(0x50e)]({'request':_0x12a2d6,'schema':N,'ClassRef':M,'execute':_0x4e7f07=>q[_0x3961d6(0x1fa)](_0x4e7f07)});_0x5f0ded['status'](0xc8)[_0x3961d6(0x1ed)](_0x460aa1);})[_0x4b1c4f(0x84e)](this[_0x4b1c4f(0x895)]('participants'),..._0x130440,async(_0x2c2b78,_0x2ef311)=>{const _0x520179=_0x4b1c4f;let _0x4d5ea9=await this[_0x520179(0x466)]({'request':_0x2c2b78,'schema':xe,'ClassRef':te,'execute':(_0x5cfe22,_0x39d472)=>q['findParticipants'](_0x5cfe22,_0x39d472)});_0x2ef311[_0x520179(0x485)](0xc8)[_0x520179(0x1ed)](_0x4d5ea9);})[_0x4b1c4f(0x84e)](this['routerPath'](_0x4b1c4f(0x427)),..._0x130440,async(_0x1c8ba3,_0xbb1cad)=>{const _0x449611=_0x4b1c4f;let _0x201304=await this[_0x449611(0x466)]({'request':_0x1c8ba3,'schema':xe,'ClassRef':te,'execute':(_0x40bd18,_0x296cc5)=>q[_0x449611(0x427)](_0x40bd18,_0x296cc5)});_0xbb1cad[_0x449611(0x485)](0xc8)[_0x449611(0x1ed)](_0x201304);})[_0x4b1c4f(0x89b)](this[_0x4b1c4f(0x895)](_0x4b1c4f(0x32c)),..._0x130440,async(_0x4b616b,_0x4f99e6)=>{const _0x281e82=_0x4b1c4f;let _0x17ad1c=await this['joinGroupValidate']({'request':_0x4b616b,'schema':Ns,'ClassRef':Pe,'execute':(_0x5577ba,_0x1d5736)=>q[_0x281e82(0x6f2)](_0x5577ba,_0x1d5736)});_0x4f99e6['status'](0xc9)[_0x281e82(0x1ed)](_0x17ad1c);})[_0x4b1c4f(0x2fa)](this[_0x4b1c4f(0x895)](_0x4b1c4f(0x607)),..._0x130440,async(_0x4457c2,_0x38f4f9)=>{const _0x45ac95=_0x4b1c4f;let _0x99d500=await this[_0x45ac95(0x57a)]({'request':_0x4457c2,'schema':Ns,'ClassRef':Pe,'execute':(_0x4aa3f5,_0x3ce2e4)=>q[_0x45ac95(0x607)](_0x4aa3f5,_0x3ce2e4)});_0x38f4f9[_0x45ac95(0x485)](0xc9)[_0x45ac95(0x1ed)](_0x99d500);})['put'](this[_0x4b1c4f(0x895)](_0x4b1c4f(0x839)),..._0x130440,async(_0x3413c1,_0x1381df)=>{const _0x3e005e=_0x4b1c4f;let _0x4a9601=await this[_0x3e005e(0x466)]({'request':_0x3413c1,'schema':xe,'ClassRef':te,'execute':(_0x26d9f2,_0x416939)=>q[_0x3e005e(0x839)](_0x26d9f2,_0x416939)});_0x1381df[_0x3e005e(0x485)](0xc9)['json'](_0x4a9601);})[_0x4b1c4f(0x2fa)](this[_0x4b1c4f(0x895)]('updateParticipant'),..._0x130440,async(_0x468fe6,_0x3ff232)=>{const _0x119e6e=_0x4b1c4f;let _0x516424=await this[_0x119e6e(0x466)]({'request':_0x468fe6,'schema':ai,'ClassRef':mt,'execute':(_0x5aef8c,_0x412ab1)=>q[_0x119e6e(0x80f)](_0x5aef8c,_0x412ab1)});_0x3ff232[_0x119e6e(0x485)](0xc9)['json'](_0x516424);})[_0x4b1c4f(0x6a5)](this[_0x4b1c4f(0x895)](_0x4b1c4f(0x449)),..._0x130440,async(_0x21b043,_0x5e4db5)=>{const _0x3282e0=_0x4b1c4f;let _0x57cc11=await this[_0x3282e0(0x466)]({'request':_0x21b043,'schema':{},'ClassRef':te,'execute':(_0xc7ceaf,_0x51cb9f)=>q[_0x3282e0(0x449)](_0xc7ceaf,_0x51cb9f)});_0x5e4db5[_0x3282e0(0x485)](0xc8)[_0x3282e0(0x1ed)](_0x57cc11);});}},hi=require(a0_0x48e44b(0x609)),yt=class extends V{constructor(_0x378907,..._0x9ce02a){const _0x274335=a0_0x48e44b;super(),this['configService']=_0x378907,this['router']=(0x0,hi['Router'])();let _0x2c3ba4=_0x378907[_0x274335(0x84e)](_0x274335(0x393));this[_0x274335(0x1f7)][_0x274335(0x89b)]('/create',..._0x9ce02a,async(_0x5e9023,_0xbc27a9)=>{const _0x2e7373=_0x274335;let {instanceName:_0x1dab31,apikey:_0x112ecd,number:_0x45e8cd}=_0x5e9023[_0x2e7373(0x4dc)],_0x5a4069=await de[_0x2e7373(0x522)]({'instanceName':_0x1dab31,'apikey':_0x112ecd,'number':_0x45e8cd});return _0xbc27a9[_0x2e7373(0x485)](0xc9)[_0x2e7373(0x1ed)](_0x5a4069);})['put'](this[_0x274335(0x895)](_0x274335(0x61f)),..._0x9ce02a,async(_0x567b7b,_0x3502a3)=>{const _0x3152d3=_0x274335;let _0x797efc=await this[_0x3152d3(0x50e)]({'request':_0x567b7b,'schema':N,'ClassRef':M,'execute':_0x43c14d=>de['restartInstance'](_0x43c14d)});return _0x3502a3['status'](0xc8)[_0x3152d3(0x1ed)](_0x797efc);})['get'](this[_0x274335(0x895)]('connect'),..._0x9ce02a,async(_0x418496,_0x4279e9)=>{const _0x5451d6=_0x274335;let _0x583861=await this[_0x5451d6(0x50e)]({'request':_0x418496,'schema':N,'ClassRef':M,'execute':_0x22c5d3=>de['connectToWhatsappController'](_0x22c5d3)});return _0x4279e9[_0x5451d6(0x485)](0xc8)['json'](_0x583861);})[_0x274335(0x84e)](this['routerPath'](_0x274335(0x3ec)),..._0x9ce02a,async(_0x1ad375,_0x408f26)=>{const _0x51d588=_0x274335;let _0x27da26=await this[_0x51d588(0x50e)]({'request':_0x1ad375,'schema':N,'ClassRef':M,'execute':_0x3bed72=>de['connectionState'](_0x3bed72)});return _0x408f26[_0x51d588(0x485)](0xc8)[_0x51d588(0x1ed)](_0x27da26);})[_0x274335(0x84e)](this[_0x274335(0x895)](_0x274335(0x61a),!0x1),..._0x9ce02a,async(_0x18008e,_0x40cf2c)=>{const _0x2ca3f8=_0x274335;let _0x291a5c=await this[_0x2ca3f8(0x50e)]({'request':_0x18008e,'schema':null,'ClassRef':M,'execute':_0xafc57c=>de[_0x2ca3f8(0x61a)](_0xafc57c)});return _0x40cf2c[_0x2ca3f8(0x485)](0xc8)['json'](_0x291a5c);})['delete'](this[_0x274335(0x895)](_0x274335(0x6b4)),..._0x9ce02a,async(_0x207f57,_0x52f25a)=>{const _0x2e160b=_0x274335;let _0x46f899=await this[_0x2e160b(0x50e)]({'request':_0x207f57,'schema':N,'ClassRef':M,'execute':_0x2305d7=>de['logout'](_0x2305d7)});return _0x52f25a[_0x2e160b(0x485)](0xc8)[_0x2e160b(0x1ed)](_0x46f899);})[_0x274335(0x6a5)](this[_0x274335(0x895)]('delete'),..._0x9ce02a,async(_0x50eb80,_0x2a7ba0)=>{const _0x545322=_0x274335;let _0x4679e9=await this['dataValidate']({'request':_0x50eb80,'schema':N,'ClassRef':M,'execute':_0x40535f=>de['deleteInstance'](_0x40535f)});return _0x2a7ba0[_0x545322(0x485)](0xc8)[_0x545322(0x1ed)](_0x4679e9);});}},gi=require('express'),Rs=class{},K=class extends Rs{},bt=class extends K{},St=class extends K{},Mt=class extends K{},Ct=class extends K{},De=class extends K{},Et=class extends K{},vt=class extends K{},Nt=class extends K{},$t=class extends K{},Rt=class{},At=class extends V{constructor(..._0x1d7d65){const _0x471f38=a0_0x48e44b;super(),this['router']=(0x0,gi['Router'])(),this[_0x471f38(0x1f7)][_0x471f38(0x89b)](this[_0x471f38(0x895)]('sendText'),..._0x1d7d65,async(_0x566574,_0x25742c)=>{const _0x566648=_0x471f38;let _0x2a3ce8=await this['dataValidate']({'request':_0x566574,'schema':xa,'ClassRef':bt,'execute':(_0x1063a2,_0x884747)=>W[_0x566648(0x443)](_0x1063a2,_0x884747)});return _0x25742c[_0x566648(0x485)](0xc9)[_0x566648(0x1ed)](_0x2a3ce8);})[_0x471f38(0x89b)](this[_0x471f38(0x895)](_0x471f38(0x8b3)),..._0x1d7d65,async(_0xbb0d98,_0x217c87)=>{const _0x5affd0=_0x471f38;let _0x156707=await this[_0x5affd0(0x50e)]({'request':_0xbb0d98,'schema':La,'ClassRef':De,'execute':(_0x25dec8,_0x4dc13f)=>W['sendMedia'](_0x25dec8,_0x4dc13f)});return _0x217c87[_0x5affd0(0x485)](0xc9)['json'](_0x156707);})[_0x471f38(0x89b)](this[_0x471f38(0x895)](_0x471f38(0x5d2)),..._0x1d7d65,async(_0x5454a3,_0x375540)=>{const _0x4f0894=_0x471f38;let _0x1599dd=await this[_0x4f0894(0x50e)]({'request':_0x5454a3,'schema':ja,'ClassRef':Ct,'execute':(_0x18012a,_0xfa012a)=>W[_0x4f0894(0x5d2)](_0x18012a,_0xfa012a)});return _0x375540[_0x4f0894(0x485)](0xc9)[_0x4f0894(0x1ed)](_0x1599dd);})[_0x471f38(0x89b)](this[_0x471f38(0x895)](_0x471f38(0x8ba)),..._0x1d7d65,async(_0xffff25,_0x268df2)=>{const _0x2ce5b7=_0x471f38;let _0x406f15=await this['dataValidate']({'request':_0xffff25,'schema':Fa,'ClassRef':De,'execute':(_0x42c073,_0x2ddd3c)=>W[_0x2ce5b7(0x8ba)](_0x42c073,_0x2ddd3c)});return _0x268df2[_0x2ce5b7(0x485)](0xc9)[_0x2ce5b7(0x1ed)](_0x406f15);})[_0x471f38(0x89b)](this['routerPath'](_0x471f38(0x85d)),..._0x1d7d65,async(_0x147f9e,_0x468388)=>{const _0x46f7b4=_0x471f38;let _0xb66670=await this[_0x46f7b4(0x50e)]({'request':_0x147f9e,'schema':Ja,'ClassRef':vt,'execute':(_0x329273,_0x283941)=>W[_0x46f7b4(0x85d)](_0x329273,_0x283941)});return _0x468388['status'](0xc9)[_0x46f7b4(0x1ed)](_0xb66670);})['post'](this['routerPath'](_0x471f38(0x5f3)),..._0x1d7d65,async(_0x5e15a8,_0x46b155)=>{const _0x16298c=_0x471f38;let _0x6357c=await this['dataValidate']({'request':_0x5e15a8,'schema':qa,'ClassRef':Nt,'execute':(_0x4664c7,_0x197036)=>W[_0x16298c(0x5f3)](_0x4664c7,_0x197036)});return _0x46b155[_0x16298c(0x485)](0xc9)[_0x16298c(0x1ed)](_0x6357c);})[_0x471f38(0x89b)](this[_0x471f38(0x895)](_0x471f38(0x564)),..._0x1d7d65,async(_0x423289,_0x31b425)=>{const _0x2d04a3=_0x471f38;let _0xaf5c1f=await this[_0x2d04a3(0x50e)]({'request':_0x423289,'schema':Va,'ClassRef':$t,'execute':(_0xa985eb,_0x3f9419)=>W['sendContact'](_0xa985eb,_0x3f9419)});return _0x31b425[_0x2d04a3(0x485)](0xc9)['json'](_0xaf5c1f);})[_0x471f38(0x89b)](this['routerPath'](_0x471f38(0x7ad)),..._0x1d7d65,async(_0x4b9315,_0x1c48af)=>{const _0x2df987=_0x471f38;let _0x40f974=await this[_0x2df987(0x50e)]({'request':_0x4b9315,'schema':Ga,'ClassRef':Rt,'execute':(_0x21aac9,_0x2b955a)=>W['sendReaction'](_0x21aac9,_0x2b955a)});return _0x1c48af[_0x2df987(0x485)](0xc9)[_0x2df987(0x1ed)](_0x40f974);})[_0x471f38(0x89b)](this[_0x471f38(0x895)](_0x471f38(0x40a)),..._0x1d7d65,async(_0x718cb0,_0x59b343)=>{const _0x24a28b=_0x471f38;let _0x317082=await this[_0x24a28b(0x50e)]({'request':_0x718cb0,'schema':Ua,'ClassRef':Mt,'execute':(_0x37feaf,_0x311412)=>W[_0x24a28b(0x40a)](_0x37feaf,_0x311412)});return _0x59b343[_0x24a28b(0x485)](0xc9)[_0x24a28b(0x1ed)](_0x317082);})[_0x471f38(0x89b)](this['routerPath'](_0x471f38(0x525)),..._0x1d7d65,async(_0x28a6ff,_0x290289)=>{const _0x3e1684=_0x471f38;let _0x47752b=await this['dataValidate']({'request':_0x28a6ff,'schema':ka,'ClassRef':St,'execute':(_0x370fd1,_0x353bb7)=>W['sendStatus'](_0x370fd1,_0x353bb7)});return _0x290289[_0x3e1684(0x485)](0xc9)[_0x3e1684(0x1ed)](_0x47752b);})[_0x471f38(0x89b)](this[_0x471f38(0x895)](_0x471f38(0x758)),..._0x1d7d65,async(_0x21ae89,_0xd1a605)=>{const _0x3dd922=_0x471f38;let _0x4998c0=await this[_0x3dd922(0x50e)]({'request':_0x21ae89,'schema':Da,'ClassRef':Et,'execute':(_0x1b5c0d,_0x516e59)=>W[_0x3dd922(0x758)](_0x1b5c0d,_0x516e59)});return _0xd1a605['status'](0xc9)[_0x3dd922(0x1ed)](_0x4998c0);});}},mi=require(a0_0x48e44b(0x609)),It=class{},Tt=class extends V{constructor(..._0x6f065){const _0x41348e=a0_0x48e44b;super(),this[_0x41348e(0x1f7)]=(0x0,mi[_0x41348e(0x8c5)])(),this[_0x41348e(0x1f7)]['post'](this[_0x41348e(0x895)]('set'),..._0x6f065,async(_0x3fce07,_0x228b60)=>{const _0x38371b=_0x41348e;let _0x380140=await this[_0x38371b(0x50e)]({'request':_0x3fce07,'schema':ui,'ClassRef':It,'execute':(_0x4bd5e1,_0x46beb3)=>As[_0x38371b(0x4fd)](_0x4bd5e1,_0x46beb3)});_0x228b60[_0x38371b(0x485)](0xc9)['json'](_0x380140);})[_0x41348e(0x84e)](this['routerPath'](_0x41348e(0x1ae)),..._0x6f065,async(_0x2b5d3d,_0x5a0997)=>{const _0xb4e2cc=_0x41348e;let _0x17f77d=await this[_0xb4e2cc(0x50e)]({'request':_0x2b5d3d,'schema':N,'ClassRef':M,'execute':_0x23ec06=>As[_0xb4e2cc(0x25d)](_0x23ec06)});_0x5a0997['status'](0xc8)[_0xb4e2cc(0x1ed)](_0x17f77d);});}},fi=require('express'),y=new $('FlowRouter'),_t=class extends V{constructor(..._0x593af2){const _0xcff19f=a0_0x48e44b;super(),this['router']=(0x0,fi[_0xcff19f(0x8c5)])(),this[_0xcff19f(0x1f7)]['post'](this[_0xcff19f(0x895)](_0xcff19f(0x1e6)),..._0x593af2,async(_0x4a6202,_0x5938b8)=>{const _0x8a5d66=_0xcff19f;let _0x343842=_0x4a6202[_0x8a5d66(0x4dc)];y[_0x8a5d66(0x4b1)](_0x8a5d66(0x228)),y[_0x8a5d66(0x4b1)](_0x8a5d66(0x2ef)),y[_0x8a5d66(0x4b1)](_0x4a6202[_0x8a5d66(0x4dc)]);let _0x894b45=await this[_0x8a5d66(0x50e)]({'request':_0x4a6202,'schema':N,'ClassRef':M,'execute':_0x408fac=>O['editScheduleMessage'](_0x408fac,_0x343842)});_0x5938b8[_0x8a5d66(0x485)](0xc8)[_0x8a5d66(0x1ed)](_0x894b45);})[_0xcff19f(0x84e)](this[_0xcff19f(0x895)](_0xcff19f(0x1e6)),..._0x593af2,async(_0x20071a,_0x3ff90c)=>{const _0x5ec935=_0xcff19f;let _0x3f2b61=await this[_0x5ec935(0x50e)]({'request':_0x20071a,'schema':N,'ClassRef':M,'execute':_0xa836ba=>O['getScheduleMessage'](_0xa836ba)});_0x3ff90c[_0x5ec935(0x485)](0xc8)[_0x5ec935(0x1ed)](_0x3f2b61);})[_0xcff19f(0x6a5)](this[_0xcff19f(0x895)](_0xcff19f(0x3c2)),..._0x593af2,async(_0x3f820e,_0x523de7)=>{const _0x2a2c73=_0xcff19f;y[_0x2a2c73(0x4b1)](_0x2a2c73(0x678));let _0x24b65d=await this[_0x2a2c73(0x50e)]({'request':_0x3f820e,'schema':N,'ClassRef':M,'execute':_0x12e53f=>O[_0x2a2c73(0x3c2)](_0x12e53f)});_0x523de7[_0x2a2c73(0x485)](0xc8)[_0x2a2c73(0x1ed)](_0x24b65d);})['post'](this[_0xcff19f(0x895)](_0xcff19f(0x582)),..._0x593af2,async(_0x119c05,_0x220330)=>{const _0xbefa6c=_0xcff19f;let _0x509857=_0x119c05[_0xbefa6c(0x4dc)];y[_0xbefa6c(0x4b1)](_0xbefa6c(0x523)),y[_0xbefa6c(0x4b1)]('request\x20body:\x20'),y['verbose'](_0x119c05[_0xbefa6c(0x4dc)]);let _0xaa78f4=await this[_0xbefa6c(0x50e)]({'request':_0x119c05,'schema':N,'ClassRef':M,'execute':_0x566e73=>O[_0xbefa6c(0x582)](_0x566e73,_0x509857)});_0x220330[_0xbefa6c(0x485)](0xc8)['json'](_0xaa78f4);})['get'](this[_0xcff19f(0x895)]('getAutomateSystem'),..._0x593af2,async(_0x53713c,_0x16cdb0)=>{const _0x3ace27=_0xcff19f;y[_0x3ace27(0x4b1)]('request\x20received\x20in\x20getAutomateSystem');let _0x403fe1=await this['dataValidate']({'request':_0x53713c,'schema':N,'ClassRef':M,'execute':_0x356033=>O[_0x3ace27(0x6e2)](_0x356033)});_0x16cdb0[_0x3ace27(0x485)](0xc8)[_0x3ace27(0x1ed)](_0x403fe1);})[_0xcff19f(0x84e)](this['routerPath'](_0xcff19f(0x229)),..._0x593af2,async(_0x280668,_0x5807fa)=>{const _0x5cd564=_0xcff19f;y[_0x5cd564(0x4b1)]('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x38c009=await this[_0x5cd564(0x50e)]({'request':_0x280668,'schema':N,'ClassRef':M,'execute':_0x51fd46=>O[_0x5cd564(0x6e2)](_0x51fd46)});_0x5807fa[_0x5cd564(0x485)](0xc8)[_0x5cd564(0x1ed)](_0x38c009);})[_0xcff19f(0x89b)](this['routerPath'](_0xcff19f(0x7f1)),..._0x593af2,async(_0x1e56e1,_0x591f16)=>{const _0x2a26d0=_0xcff19f;let _0x1426bb=_0x1e56e1[_0x2a26d0(0x4dc)];y[_0x2a26d0(0x4b1)](_0x2a26d0(0x7a8)),y[_0x2a26d0(0x4b1)](_0x2a26d0(0x2ef)),y['verbose'](_0x1e56e1[_0x2a26d0(0x4dc)]);let _0x582bdf=await this[_0x2a26d0(0x50e)]({'request':_0x1e56e1,'schema':N,'ClassRef':M,'execute':_0x5c2813=>O[_0x2a26d0(0x7f1)](_0x5c2813,_0x1426bb)});_0x591f16['status'](0xc8)[_0x2a26d0(0x1ed)](_0x582bdf);})[_0xcff19f(0x89b)](this['routerPath'](_0xcff19f(0x583)),..._0x593af2,async(_0x326954,_0x4f5e7c)=>{const _0x29dcff=_0xcff19f;let _0x1af8a3=_0x326954[_0x29dcff(0x4dc)];y[_0x29dcff(0x4b1)]('request\x20received\x20in\x20updateCustomFields'),y['verbose']('request\x20body:\x20'),y[_0x29dcff(0x4b1)](_0x326954[_0x29dcff(0x4dc)]);let _0x574865=await this[_0x29dcff(0x50e)]({'request':_0x326954,'schema':N,'ClassRef':M,'execute':_0x195211=>O[_0x29dcff(0x583)](_0x195211,_0x1af8a3)});_0x4f5e7c[_0x29dcff(0x485)](0xc8)[_0x29dcff(0x1ed)](_0x574865);})[_0xcff19f(0x89b)](this['routerPath'](_0xcff19f(0x5c5)),..._0x593af2,async(_0x569f08,_0x5adcea)=>{const _0x41d916=_0xcff19f;let _0x520cca=_0x569f08[_0x41d916(0x4dc)];y[_0x41d916(0x4b1)](_0x41d916(0x2e5)),y['verbose'](_0x41d916(0x2ef)),y['verbose'](_0x569f08[_0x41d916(0x4dc)]);let _0xa65d1e=await this[_0x41d916(0x50e)]({'request':_0x569f08,'schema':N,'ClassRef':M,'execute':_0x4cc689=>O[_0x41d916(0x5c5)](_0x4cc689,_0x520cca)});_0x5adcea[_0x41d916(0x485)](0xc8)['json'](_0xa65d1e);})[_0xcff19f(0x89b)](this[_0xcff19f(0x895)](_0xcff19f(0x360)),..._0x593af2,async(_0x4e9b49,_0x2caadc)=>{const _0x527e51=_0xcff19f;let _0x5f1d71=_0x4e9b49[_0x527e51(0x4dc)];y[_0x527e51(0x4b1)](_0x527e51(0x3a7)),y['verbose'](_0x527e51(0x2ef)),y['verbose'](_0x4e9b49['body']);let _0x3b7647=await this[_0x527e51(0x50e)]({'request':_0x4e9b49,'schema':N,'ClassRef':M,'execute':_0x4e6d0=>O[_0x527e51(0x360)](_0x4e6d0,_0x5f1d71)});_0x2caadc['status'](0xc8)[_0x527e51(0x1ed)](_0x3b7647);})[_0xcff19f(0x89b)](this[_0xcff19f(0x895)]('getConversation'),..._0x593af2,async(_0x1b5361,_0x13ff44)=>{const _0x8a0002=_0xcff19f;let _0x4bc131=_0x1b5361[_0x8a0002(0x4dc)];y['verbose'](_0x8a0002(0x56d)),y[_0x8a0002(0x4b1)](_0x8a0002(0x2ef)),y['verbose'](_0x1b5361[_0x8a0002(0x4dc)]);let _0x5bfa1c=await this['dataValidate']({'request':_0x1b5361,'schema':N,'ClassRef':M,'execute':_0x34c960=>O[_0x8a0002(0x2fc)](_0x34c960,_0x4bc131)});_0x13ff44[_0x8a0002(0x485)](0xc8)[_0x8a0002(0x1ed)](_0x5bfa1c);})['post'](this['routerPath'](_0xcff19f(0x435)),..._0x593af2,async(_0x5cf38e,_0x5d1a4f)=>{const _0x187cf7=_0xcff19f;let _0x176729=_0x5cf38e[_0x187cf7(0x4dc)];y[_0x187cf7(0x4b1)](_0x187cf7(0x851)),y[_0x187cf7(0x4b1)](_0x187cf7(0x2ef)),y[_0x187cf7(0x4b1)](_0x5cf38e[_0x187cf7(0x4dc)]);let _0x1f6d25=await this[_0x187cf7(0x50e)]({'request':_0x5cf38e,'schema':N,'ClassRef':M,'execute':_0x1634b2=>O[_0x187cf7(0x435)](_0x1634b2,_0x176729)});_0x5d1a4f[_0x187cf7(0x485)](0xc8)['json'](_0x1f6d25);})[_0xcff19f(0x89b)](this[_0xcff19f(0x895)](_0xcff19f(0x1c2)),..._0x593af2,async(_0x4089b2,_0x359302)=>{const _0x289c09=_0xcff19f;let _0x2a85b7=_0x4089b2[_0x289c09(0x4dc)];y[_0x289c09(0x4b1)](_0x289c09(0x38d)),y[_0x289c09(0x4b1)](_0x289c09(0x2ef)),y['verbose'](_0x4089b2[_0x289c09(0x4dc)]);let _0x12d175=await this['dataValidate']({'request':_0x4089b2,'schema':N,'ClassRef':M,'execute':_0x59880d=>O[_0x289c09(0x1c2)](_0x59880d,_0x2a85b7)});_0x359302[_0x289c09(0x485)](0xc8)[_0x289c09(0x1ed)](_0x12d175);})[_0xcff19f(0x6a5)](this[_0xcff19f(0x895)](_0xcff19f(0x830)),..._0x593af2,async(_0x2ddcec,_0x31c1ad)=>{const _0x452c24=_0xcff19f;let _0x4d644c=_0x2ddcec[_0x452c24(0x4dc)];y[_0x452c24(0x4b1)](_0x452c24(0x5e2)),y[_0x452c24(0x4b1)](_0x452c24(0x2ef)),y[_0x452c24(0x4b1)](_0x2ddcec['body']);let _0x3e0564=await this[_0x452c24(0x50e)]({'request':_0x2ddcec,'schema':N,'ClassRef':M,'execute':_0x34cf3f=>O[_0x452c24(0x830)](_0x34cf3f,_0x4d644c)});_0x31c1ad['status'](0xc8)['json'](_0x3e0564);})[_0xcff19f(0x89b)](this['routerPath'](_0xcff19f(0x192)),..._0x593af2,async(_0x465d6b,_0x42b7ae)=>{const _0x56db99=_0xcff19f;let _0x1cec98=_0x465d6b[_0x56db99(0x4dc)],_0x33d416=_0x465d6b['headers']['apikey'];y[_0x56db99(0x4b1)]('request\x20received\x20in\x20createFlow'),y['verbose']('request\x20body:\x20'),y['verbose'](_0x465d6b[_0x56db99(0x4dc)]);let _0x20a64e=await this[_0x56db99(0x50e)]({'request':_0x465d6b,'schema':N,'ClassRef':M,'execute':_0x4839c8=>O[_0x56db99(0x2aa)](_0x4839c8,_0x1cec98,_0x33d416)});_0x42b7ae['status'](0xc8)[_0x56db99(0x1ed)](_0x20a64e);})[_0xcff19f(0x89b)](this['routerPath'](_0xcff19f(0x6d1)),..._0x593af2,async(_0x14e98c,_0x9862d0)=>{const _0x168f93=_0xcff19f;let _0x2df3f2=_0x14e98c[_0x168f93(0x4dc)],_0x23297e=_0x14e98c[_0x168f93(0x6db)]['apikey'];y[_0x168f93(0x4b1)](_0x168f93(0x8b7)),y[_0x168f93(0x4b1)](_0x168f93(0x2ef)),y[_0x168f93(0x4b1)](_0x14e98c[_0x168f93(0x4dc)]),delete _0x2df3f2['blocks'],delete _0x2df3f2[_0x168f93(0x517)],delete _0x2df3f2[_0x168f93(0x646)],delete _0x2df3f2[_0x168f93(0x6c3)];let _0x33f508=await this['dataValidate']({'request':_0x14e98c,'schema':N,'ClassRef':M,'execute':_0x32df79=>O[_0x168f93(0x1ce)](_0x32df79,_0x2df3f2,_0x23297e)});_0x9862d0[_0x168f93(0x485)](0xc8)[_0x168f93(0x1ed)](_0x33f508);})[_0xcff19f(0x89b)](this[_0xcff19f(0x895)](_0xcff19f(0x71b)),..._0x593af2,async(_0x347cd4,_0x54fe18)=>{const _0x5a90e6=_0xcff19f;let _0x8a6807=_0x347cd4[_0x5a90e6(0x4dc)];y[_0x5a90e6(0x4b1)](_0x5a90e6(0x8b7)),y['verbose'](_0x5a90e6(0x2ef)),y[_0x5a90e6(0x4b1)](_0x347cd4[_0x5a90e6(0x4dc)]);let _0x1960c6=await this[_0x5a90e6(0x50e)]({'request':_0x347cd4,'schema':N,'ClassRef':M,'execute':_0x12c63e=>O['editFlowBlock'](_0x12c63e,_0x8a6807)});_0x54fe18[_0x5a90e6(0x485)](0xc8)[_0x5a90e6(0x1ed)](_0x1960c6);})[_0xcff19f(0x89b)](this[_0xcff19f(0x895)](_0xcff19f(0x845)),..._0x593af2,async(_0x54bb7c,_0x5d4c8a)=>{const _0x151e86=_0xcff19f;let _0x4e66d5=_0x54bb7c[_0x151e86(0x4dc)];y[_0x151e86(0x4b1)](_0x151e86(0x8b7)),y[_0x151e86(0x4b1)]('request\x20body:\x20'),y[_0x151e86(0x4b1)](_0x54bb7c[_0x151e86(0x4dc)]);let _0x5dc921=await this[_0x151e86(0x50e)]({'request':_0x54bb7c,'schema':N,'ClassRef':M,'execute':_0x3c7a75=>O[_0x151e86(0x671)](_0x3c7a75,_0x4e66d5)});_0x5d4c8a[_0x151e86(0x485)](0xc8)[_0x151e86(0x1ed)](_0x5dc921);})[_0xcff19f(0x89b)](this[_0xcff19f(0x895)](_0xcff19f(0x631)),..._0x593af2,async(_0x6351a8,_0x5c6049)=>{const _0x4df027=_0xcff19f;let _0x117e3f=_0x6351a8[_0x4df027(0x4dc)];y[_0x4df027(0x4b1)]('request\x20received\x20in\x20editFlow'),y['verbose'](_0x4df027(0x2ef)),y[_0x4df027(0x4b1)](_0x6351a8[_0x4df027(0x4dc)]);let _0x2e9130=await this[_0x4df027(0x50e)]({'request':_0x6351a8,'schema':N,'ClassRef':M,'execute':_0x2cc6ed=>O[_0x4df027(0x2af)](_0x2cc6ed,_0x117e3f)});_0x5c6049['status'](0xc8)[_0x4df027(0x1ed)](_0x2e9130);})[_0xcff19f(0x89b)](this[_0xcff19f(0x895)](_0xcff19f(0x308)),..._0x593af2,async(_0x13b3d8,_0x29a6f3)=>{const _0x558d37=_0xcff19f;let _0x8d9f82=_0x13b3d8[_0x558d37(0x4dc)];y[_0x558d37(0x4b1)](_0x558d37(0x295)),y[_0x558d37(0x4b1)]('request\x20body:\x20'),y[_0x558d37(0x4b1)](_0x13b3d8['body']);let _0x4a95ba=await this[_0x558d37(0x50e)]({'request':_0x13b3d8,'schema':N,'ClassRef':M,'execute':_0x98bd6d=>O[_0x558d37(0x3e4)](_0x98bd6d,_0x8d9f82)});_0x29a6f3[_0x558d37(0x485)](0xc8)[_0x558d37(0x1ed)](_0x4a95ba);})[_0xcff19f(0x89b)](this[_0xcff19f(0x895)](_0xcff19f(0x1f0)),..._0x593af2,async(_0x445eef,_0x21e634)=>{const _0x5c0afd=_0xcff19f;let _0x5425d3=_0x445eef[_0x5c0afd(0x4dc)];y[_0x5c0afd(0x4b1)](_0x5c0afd(0x864)),y[_0x5c0afd(0x4b1)](_0x5c0afd(0x2ef)),y['verbose'](_0x445eef[_0x5c0afd(0x4dc)]);let _0x571265=await this[_0x5c0afd(0x50e)]({'request':_0x445eef,'schema':N,'ClassRef':M,'execute':_0x5f2c2c=>O[_0x5c0afd(0x731)](_0x5f2c2c,_0x5425d3)});_0x21e634[_0x5c0afd(0x485)](0xc8)['json'](_0x571265);})[_0xcff19f(0x89b)](this[_0xcff19f(0x895)]('editflowvariable'),..._0x593af2,async(_0x1449d8,_0x5e7d1e)=>{const _0x282a3f=_0xcff19f;let _0x5f097d=_0x1449d8[_0x282a3f(0x4dc)];y[_0x282a3f(0x4b1)](_0x282a3f(0x1f1)),y['verbose'](_0x282a3f(0x2ef)),y['verbose'](_0x1449d8[_0x282a3f(0x4dc)]);let _0x997469=await this[_0x282a3f(0x50e)]({'request':_0x1449d8,'schema':N,'ClassRef':M,'execute':_0x4a4606=>O['editFlowVariable'](_0x4a4606,_0x5f097d)});_0x5e7d1e[_0x282a3f(0x485)](0xc8)[_0x282a3f(0x1ed)](_0x997469);})['post'](this[_0xcff19f(0x895)]('getflow'),..._0x593af2,async(_0x10b258,_0x205ec1)=>{const _0x11a10f=_0xcff19f;let _0x4221d1=_0x10b258[_0x11a10f(0x4dc)];y[_0x11a10f(0x4b1)](_0x11a10f(0x635)),y[_0x11a10f(0x4b1)](_0x11a10f(0x2ef)),y[_0x11a10f(0x4b1)](_0x10b258[_0x11a10f(0x4dc)]);let _0x5b4d52=await this[_0x11a10f(0x50e)]({'request':_0x10b258,'schema':N,'ClassRef':M,'execute':_0x1e745d=>O[_0x11a10f(0x332)](_0x1e745d,_0x4221d1)});_0x205ec1[_0x11a10f(0x485)](0xc8)[_0x11a10f(0x1ed)](_0x5b4d52);})['delete'](this[_0xcff19f(0x895)]('deleteflow'),..._0x593af2,async(_0x3736e6,_0xcf941c)=>{const _0x138031=_0xcff19f;let _0x1a7899=_0x3736e6[_0x138031(0x4dc)];y[_0x138031(0x4b1)](_0x138031(0x531)),y[_0x138031(0x4b1)](_0x138031(0x2ef)),y['verbose'](_0x3736e6[_0x138031(0x4dc)]);let _0x2ae3aa=await this[_0x138031(0x50e)]({'request':_0x3736e6,'schema':N,'ClassRef':M,'execute':_0x118e09=>O[_0x138031(0x5d4)](_0x118e09,_0x1a7899)});_0xcf941c[_0x138031(0x485)](0xc8)[_0x138031(0x1ed)](_0x2ae3aa);})['get'](this[_0xcff19f(0x895)](_0xcff19f(0x6f8)),..._0x593af2,async(_0x6702cc,_0x40d493)=>{const _0x15ee97=_0xcff19f;y[_0x15ee97(0x4b1)](_0x15ee97(0x3eb));let _0x5d9e4b=await this[_0x15ee97(0x50e)]({'request':_0x6702cc,'schema':N,'ClassRef':M,'execute':_0x52efdf=>O['allFlows'](_0x52efdf)});_0x40d493[_0x15ee97(0x485)](0xc8)[_0x15ee97(0x1ed)](_0x5d9e4b);});}},Si=T(require(a0_0x48e44b(0x1e1))),se={};function wi(_0x1fb348,_0x551b04,_0x4254fb,_0x30ab64){se[_0x1fb348]||(se[_0x1fb348]={}),se[_0x1fb348][_0x551b04]={'id':_0x551b04,'response':_0x4254fb,'events':_0x30ab64};}function yi(_0x2f8fa7,_0xdeb7b5){!se[_0x2f8fa7]||!se[_0x2f8fa7][_0xdeb7b5]||delete se[_0x2f8fa7][_0xdeb7b5];}function F(_0x282c37,_0x33d464,_0x164f65){const _0x4dd3ef=a0_0x48e44b;if(!se[_0x282c37])return;let _0x3dd989='data:\x20'+JSON[_0x4dd3ef(0x365)](_0x164f65)+'\x0a\x0a';Object[_0x4dd3ef(0x4fa)](se[_0x282c37])[_0x4dd3ef(0x3f6)](_0x5580e2=>{const _0x3a34af=_0x4dd3ef;_0x5580e2[_0x3a34af(0x239)][_0x3a34af(0x1d0)](_0x33d464)&&_0x5580e2[_0x3a34af(0x270)][_0x3a34af(0x4df)](_0x3dd989);});}function bi(){const _0x52c792=a0_0x48e44b;let _0x44d862={};for(let _0x290512 in se)_0x44d862[_0x290512]=Object[_0x52c792(0x4fa)](se[_0x290512])[_0x52c792(0x3ad)](_0x437222=>({'id':_0x437222['id'],'events':_0x437222[_0x52c792(0x239)]}));return _0x44d862;}var Mi=require(a0_0x48e44b(0x53a)),Ts=require(a0_0x48e44b(0x43f)),Is=class{},Io=new Ts[(a0_0x48e44b(0x7c0))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),To=new Ts[(a0_0x48e44b(0x7c0))]({'_id':{'type':String,'default':a0_0x48e44b(0x444)},'WebhookGlobal':{'type':Io},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ve=I?.[a0_0x48e44b(0x4a2)](Is[a0_0x48e44b(0x5ff)],To,a0_0x48e44b(0x158)),_o=Si['default'][a0_0x48e44b(0x739)](__dirname,a0_0x48e44b(0x2c0)),ke=(0x0,Ot[a0_0x48e44b(0x8c5)])(),Oo=S[a0_0x48e44b(0x84e)](a0_0x48e44b(0x393))[a0_0x48e44b(0x44c)],re=[Ra,Aa,_a[Oo]];ke[a0_0x48e44b(0x324)](a0_0x48e44b(0x23d),Ot[a0_0x48e44b(0x875)][a0_0x48e44b(0x7fe)](_o))['get'](a0_0x48e44b(0x334),async(_0xc91752,_0x40e7c2)=>{const _0x314e7d=a0_0x48e44b;console[_0x314e7d(0x84c)](_0x314e7d(0x36d));let _0x356e5b=_0xc91752[_0x314e7d(0x7eb)][_0x314e7d(0x844)],_0x2971d1=(_0xc91752[_0x314e7d(0x785)][_0x314e7d(0x239)]||'')[_0x314e7d(0x8a4)](','),_0x3fdefe=(0x0,Mi['v4'])();console[_0x314e7d(0x84c)](_0x314e7d(0x515),_0x356e5b),console[_0x314e7d(0x84c)]('Subscribed\x20Events:',_0x2971d1);let _0x585354=S[_0x314e7d(0x84e)](_0x314e7d(0x393))[_0x314e7d(0x30c)],_0x9574ce=_0xc91752['query'][_0x314e7d(0x647)];if(console[_0x314e7d(0x84c)](_0x314e7d(0x29d),_0x9574ce),_0x585354[_0x314e7d(0x771)]!==_0x9574ce){console[_0x314e7d(0x84c)]('env.KEY\x20!==\x20key');try{let _0x3d419c=await fe['auth'][_0x314e7d(0x1ae)](_0x356e5b);if(console[_0x314e7d(0x84c)](_0x314e7d(0x3f2),_0x3d419c),!_0x3d419c||_0x3d419c[_0x314e7d(0x647)]!==_0x9574ce)return console[_0x314e7d(0x84c)]('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x40e7c2[_0x314e7d(0x485)](0x191)[_0x314e7d(0x7c9)](_0x314e7d(0x5a5));}catch(_0x135a39){return console[_0x314e7d(0x16b)](_0x314e7d(0x1d9),_0x135a39),_0x40e7c2[_0x314e7d(0x485)](0x191)[_0x314e7d(0x7c9)]('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await _e(_0x356e5b))return _0x40e7c2[_0x314e7d(0x485)](0x194)[_0x314e7d(0x7c9)](_0x314e7d(0x38b));_0x40e7c2[_0x314e7d(0x6c1)](_0x314e7d(0x2ee),_0x314e7d(0x211)),_0x40e7c2[_0x314e7d(0x6c1)](_0x314e7d(0x231),'no-cache'),_0x40e7c2[_0x314e7d(0x6c1)](_0x314e7d(0x7c7),_0x314e7d(0x417)),_0x40e7c2[_0x314e7d(0x3f8)]();let _0x4acff5=_0x314e7d(0x89f)+JSON[_0x314e7d(0x365)]({'info':_0x314e7d(0x2be)})+'\x0a\x0a';_0x40e7c2[_0x314e7d(0x4df)](_0x4acff5),wi(_0x356e5b,_0x3fdefe,_0x40e7c2,_0x2971d1),_0xc91752['on'](_0x314e7d(0x3b8),()=>{const _0x542cb3=_0x314e7d;console[_0x542cb3(0x84c)](_0x542cb3(0x6b0)+_0x356e5b),yi(_0x356e5b,_0x3fdefe);});}),ke[a0_0x48e44b(0x89b)](a0_0x48e44b(0x213),async(_0x6bbacc,_0x3abd90)=>{const _0xba1482=a0_0x48e44b;console['log'](_0xba1482(0x6ac));let _0x5c389e=_0x6bbacc[_0xba1482(0x7eb)][_0xba1482(0x844)],_0x35ecfc=_0x6bbacc[_0xba1482(0x7eb)][_0xba1482(0x6f5)],_0x5e83db=_0x6bbacc[_0xba1482(0x785)]['remoteJid']||'',_0x23f50e=_0x6bbacc[_0xba1482(0x4dc)];console[_0xba1482(0x84c)](_0xba1482(0x386),_0x5c389e),console[_0xba1482(0x84c)](_0xba1482(0x552),_0x35ecfc),console[_0xba1482(0x84c)]('RemoteJid:',_0x5e83db),console[_0xba1482(0x84c)]('Request\x20Body:',_0x23f50e);try{if(!await _e(_0x5c389e))return _0x3abd90[_0xba1482(0x485)](0x194)[_0xba1482(0x7c9)](_0xba1482(0x38b));let _0x321032=await O[_0xba1482(0x5b9)](_0x5c389e,_0x35ecfc,_0x5e83db,_0x23f50e);_0x3abd90[_0xba1482(0x7c9)](_0x321032);}catch(_0x434452){console[_0xba1482(0x16b)](_0x434452),_0x3abd90[_0xba1482(0x485)](0x1f4)[_0xba1482(0x7c9)](_0xba1482(0x87f));}}),ke['get'](a0_0x48e44b(0x34a),(_0x3d3577,_0x3463a4)=>{const _0x26ac2f=a0_0x48e44b;let _0x14ad9b=bi();_0x3463a4[_0x26ac2f(0x1ed)](_0x14ad9b);})[a0_0x48e44b(0x84e)]('/',(_0xf5e6c0,_0x34b0a5)=>{const _0x58135c=a0_0x48e44b;let _0x171af9=S['get']('SERVER')[_0x58135c(0x316)];if(_0x171af9){let _0x24621b=encodeURIComponent(''+_0x171af9);_0x34b0a5[_0x58135c(0x8a6)](_0x58135c(0x407)+_0x24621b);return;}let _0x43ccf8=S['get']('SSL_CONF'),_0x327378=_0x43ccf8&&_0x43ccf8[_0x58135c(0x200)][_0x58135c(0x8a4)]('/')[0x4];if(_0x327378){let _0x1dc62b=encodeURIComponent(_0x58135c(0x7fc)+_0x327378);_0x34b0a5['redirect']('https://uazapi-plugin.bubbleapps.io/?url='+_0x1dc62b);}else _0x34b0a5['redirect'](_0x58135c(0x45f));})[a0_0x48e44b(0x2fa)](a0_0x48e44b(0x490),...re,async(_0x160baa,_0x49ccf8)=>{const _0x147776=a0_0x48e44b;try{console['log'](_0x147776(0x769)),_0x49ccf8[_0x147776(0x485)](0xc8)[_0x147776(0x1ed)]({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x49ccf8['on'](_0x147776(0x339),()=>process[_0x147776(0x74a)](0x0));}catch(_0x2facba){console['error'](_0x147776(0x20e),_0x2facba),_0x49ccf8[_0x147776(0x485)](0x1f4)['json']({'message':_0x147776(0x190)});}})[a0_0x48e44b(0x2fa)](a0_0x48e44b(0x774),...re,async(_0x213a65,_0x54ebc7)=>{const _0x30f2a6=a0_0x48e44b;try{let _0x581466=_0x213a65[_0x30f2a6(0x4dc)];await ve['updateOne']({},{'$set':_0x581466},{'upsert':!0x0});let _0x153022=await ve[_0x30f2a6(0x715)]();_0x54ebc7[_0x30f2a6(0x1ed)](_0x153022);}catch(_0x5a061d){_0x54ebc7['status'](0x190)[_0x30f2a6(0x7c9)](_0x5a061d['message']);}})[a0_0x48e44b(0x84e)](a0_0x48e44b(0x774),...re,async(_0x5dea38,_0x5604ee)=>{const _0x1557b7=a0_0x48e44b;try{let _0x1fcbee=await ve[_0x1557b7(0x715)]();if(!_0x1fcbee)return _0x5604ee[_0x1557b7(0x1ed)]({});_0x5604ee[_0x1557b7(0x1ed)](_0x1fcbee);}catch(_0x1192e1){_0x5604ee[_0x1557b7(0x485)](0x1f4)['send'](_0x1192e1[_0x1557b7(0x5e0)]);}})[a0_0x48e44b(0x324)](a0_0x48e44b(0x259),new yt(S,...re)[a0_0x48e44b(0x1f7)])[a0_0x48e44b(0x324)](a0_0x48e44b(0x5cc),new At(...re)[a0_0x48e44b(0x1f7)])[a0_0x48e44b(0x324)](a0_0x48e44b(0x613),new ct(...re)['router'])[a0_0x48e44b(0x324)]('/group',new wt(...re)[a0_0x48e44b(0x1f7)])[a0_0x48e44b(0x324)](a0_0x48e44b(0x280),new Tt(...re)[a0_0x48e44b(0x1f7)])['use'](a0_0x48e44b(0x298),new _t(...re)[a0_0x48e44b(0x1f7)]);var m=class{constructor(..._0x5951b4){const _0x4b14da=a0_0x48e44b;throw{'status':0x190,'error':_0x4b14da(0x1bd),'message':_0x5951b4[_0x4b14da(0x3b4)]>0x0?_0x5951b4:void 0x0};}},ie=class{constructor(..._0x10b69e){const _0x26297e=a0_0x48e44b;throw{'status':0x191,'error':_0x26297e(0x68f),'message':_0x10b69e['length']>0x0?_0x10b69e:void 0x0};}},Z=class{constructor(..._0x6fe22a){const _0x268064=a0_0x48e44b;throw{'status':0x193,'error':_0x268064(0x317),'message':_0x6fe22a[_0x268064(0x3b4)]>0x0?_0x6fe22a:void 0x0};}},U=class{constructor(..._0x1b6e3e){const _0x1e92c6=a0_0x48e44b;throw{'status':0x194,'error':'Not\x20Found','message':_0x1b6e3e[_0x1e92c6(0x3b4)]>0x0?_0x1b6e3e:void 0x0};}},x=class{constructor(..._0x499312){const _0x472001=a0_0x48e44b;throw{'status':0x1f4,'error':_0x472001(0x22a),'message':_0x499312[_0x472001(0x3b4)]>0x0?_0x499312:void 0x0};}},we=require(a0_0x48e44b(0x567));async function _s(_0x2384bc){const _0x311215=a0_0x48e44b;let _0x26b606=new $(_s[_0x311215(0x5ff)]),_0xcc3f8f=I[_0x311215(0x821)](),_0x169f23=_0xcc3f8f['db'](S['get'](_0x311215(0x4c1))['CONNECTION'][_0x311215(0x2b6)]+_0x311215(0x69b))[_0x311215(0x344)](_0x2384bc),_0x1481cc=async(_0x230bf7,_0x52da8f)=>{const _0x489a7b=_0x311215;try{return await _0xcc3f8f[_0x489a7b(0x1cf)](),await _0x169f23[_0x489a7b(0x7a1)]({'_id':_0x52da8f},JSON[_0x489a7b(0x4e9)](JSON[_0x489a7b(0x365)](_0x230bf7,we[_0x489a7b(0x44f)][_0x489a7b(0x879)])),{'upsert':!0x0});}catch{}},_0x593529=async _0x2e133f=>{const _0xa7026b=_0x311215;try{await _0xcc3f8f[_0xa7026b(0x1cf)]();let _0x83105a=await _0x169f23['findOne']({'_id':_0x2e133f}),_0x325e02=JSON['stringify'](_0x83105a);return JSON[_0xa7026b(0x4e9)](_0x325e02,we['BufferJSON'][_0xa7026b(0x469)]);}catch{}},_0x489d45=async _0x35c833=>{const _0x280788=_0x311215;try{return await _0xcc3f8f[_0x280788(0x1cf)](),await _0x169f23[_0x280788(0x5ba)]({'_id':_0x35c833});}catch{}},_0x4c7b78=await _0x593529(_0x311215(0x7d5))||(0x0,we[_0x311215(0x352)])();return{'state':{'creds':_0x4c7b78,'keys':{'get':async(_0x4598f0,_0x29e93a)=>{const _0x486266=_0x311215;let _0x5f0fed={};return await Promise[_0x486266(0x877)](_0x29e93a[_0x486266(0x3ad)](async _0x171f2c=>{const _0x2f665e=_0x486266;let _0x59e549=await _0x593529(_0x4598f0+'-'+_0x171f2c);_0x4598f0===_0x2f665e(0x2d4)&&_0x59e549&&(_0x59e549=we['proto']['Message'][_0x2f665e(0x1d4)][_0x2f665e(0x81c)](_0x59e549)),_0x5f0fed[_0x171f2c]=_0x59e549;})),_0x5f0fed;},'set':async _0x29079d=>{const _0x29ce54=_0x311215;let _0x409f79=[];for(let _0x1dde45 in _0x29079d)for(let _0x5309f5 in _0x29079d[_0x1dde45]){let _0x1667a3=_0x29079d[_0x1dde45][_0x5309f5],_0x32b09e=_0x1dde45+'-'+_0x5309f5;_0x409f79[_0x29ce54(0x518)](_0x1667a3?_0x1481cc(_0x1667a3,_0x32b09e):_0x489d45(_0x32b09e));}await Promise[_0x29ce54(0x877)](_0x409f79);}}},'saveCreds':async()=>_0x1481cc(_0x4c7b78,'creds')};}var ks=T(require('long')),Ls=T(require('node-cache')),Dt=require('@whiskeysockets/baileys'),Ci=require('@redis/client'),Pt=require('@whiskeysockets/baileys'),xt;function xo(_0x49fe11){const _0x5bbb15=a0_0x48e44b;return xt||(xt=(0x0,Ci[_0x5bbb15(0x4db)])({'url':_0x49fe11[_0x5bbb15(0x869)]}),xt[_0x5bbb15(0x1cf)]()),xt;}var pe=class u{constructor(_0x126621,_0x1480c4){const _0x1619fb=a0_0x48e44b;this[_0x1619fb(0x377)]=_0x126621,this['instanceName']=_0x1480c4,this[_0x1619fb(0x470)]=new $(u['name']),this[_0x1619fb(0x70c)]=xo(_0x126621);}set['reference'](_0x6b7d69){const _0x4751d7=a0_0x48e44b;this[_0x4751d7(0x25e)]=_0x6b7d69;}async[a0_0x48e44b(0x255)](){const _0x30a0f4=a0_0x48e44b;try{return await this[_0x30a0f4(0x70c)]['sendCommand'](['keys',this[_0x30a0f4(0x377)][_0x30a0f4(0x61d)]+':*']);}catch(_0x178d37){this[_0x30a0f4(0x470)]['error'](_0x178d37);}}async['writeData'](_0x5d5876,_0x59fc2f){const _0x2386a5=a0_0x48e44b;try{let _0x7e12da=JSON[_0x2386a5(0x365)](_0x59fc2f,Pt[_0x2386a5(0x44f)]['replacer']);return await this[_0x2386a5(0x70c)][_0x2386a5(0x489)](this[_0x2386a5(0x377)][_0x2386a5(0x61d)]+':'+this[_0x2386a5(0x25e)],_0x5d5876,_0x7e12da);}catch(_0x2abea7){this[_0x2386a5(0x470)][_0x2386a5(0x16b)](_0x2abea7);}}async[a0_0x48e44b(0x3ac)](){const _0x3623f0=a0_0x48e44b;try{let _0x455188=await this[_0x3623f0(0x70c)][_0x3623f0(0x56e)](this[_0x3623f0(0x377)]['PREFIX_KEY']+':'+this[_0x3623f0(0x25e)]);if(_0x455188){for(let _0x408123 in _0x455188)Object['prototype'][_0x3623f0(0x472)][_0x3623f0(0x1d7)](_0x455188,_0x408123)&&(_0x455188[_0x408123]=JSON['parse'](_0x455188[_0x408123],Pt[_0x3623f0(0x44f)]['reviver']));return _0x455188;}}catch(_0x49af69){this[_0x3623f0(0x470)][_0x3623f0(0x16b)](_0x49af69);}}async['readData'](_0x3505d7){const _0x16741c=a0_0x48e44b;try{let _0x267c54=await this[_0x16741c(0x70c)][_0x16741c(0x6c9)](this[_0x16741c(0x377)][_0x16741c(0x61d)]+':'+this[_0x16741c(0x25e)],_0x3505d7);if(_0x267c54)return JSON[_0x16741c(0x4e9)](_0x267c54,Pt[_0x16741c(0x44f)][_0x16741c(0x469)]);}catch(_0x2e007c){this[_0x16741c(0x470)]['error'](_0x2e007c);}}async[a0_0x48e44b(0x4c7)](_0x4e7716){const _0x118859=a0_0x48e44b;try{return await this[_0x118859(0x70c)][_0x118859(0x754)](this[_0x118859(0x377)]['PREFIX_KEY']+':'+this[_0x118859(0x25e)],_0x4e7716);}catch(_0x185b3a){this[_0x118859(0x470)][_0x118859(0x16b)](_0x185b3a);}}async[a0_0x48e44b(0x581)](_0x470533){const _0x140fe9=a0_0x48e44b;try{return await this[_0x140fe9(0x70c)][_0x140fe9(0x3dc)](_0x470533||this[_0x140fe9(0x377)][_0x140fe9(0x61d)]+':'+this[_0x140fe9(0x25e)]);}catch(_0x52820a){this[_0x140fe9(0x470)][_0x140fe9(0x16b)](_0x52820a);}}};async function Os(_0x13b02e,_0x7d4dd9){const _0x256775=a0_0x48e44b;let _0x541247=new $(Os[_0x256775(0x5ff)]),_0x13f375=new pe(_0x13b02e,_0x7d4dd9),_0x31b0af=async(_0x5ac048,_0x4378a6)=>{const _0x175ff7=_0x256775;try{return await _0x13f375[_0x175ff7(0x5c9)](_0x4378a6,_0x5ac048);}catch(_0x45521b){return _0x541247['error']({'localError':_0x175ff7(0x5c9),'error':_0x45521b});}},_0xe421a5=async _0x3d16f7=>{const _0xff2c91=_0x256775;try{return await _0x13f375[_0xff2c91(0x215)](_0x3d16f7);}catch(_0x16ce8a){_0x541247[_0xff2c91(0x16b)]({'readData':_0xff2c91(0x5c9),'error':_0x16ce8a});return;}},_0x3463ee=async _0x2bbda0=>{const _0xfc5366=_0x256775;try{return await _0x13f375[_0xfc5366(0x4c7)](_0x2bbda0);}catch(_0x5b51d2){_0x541247['error']({'readData':'removeData','error':_0x5b51d2});}},_0x3382dc=await _0xe421a5(_0x256775(0x7d5))||(0x0,Dt[_0x256775(0x352)])();return{'state':{'creds':_0x3382dc,'keys':{'get':async(_0x6769cb,_0x3cae91)=>{const _0x21cb92=_0x256775;let _0x47291e={};return await Promise[_0x21cb92(0x877)](_0x3cae91[_0x21cb92(0x3ad)](async _0x472a03=>{const _0x54cf18=_0x21cb92;let _0x4caa05=await _0xe421a5(_0x6769cb+'-'+_0x472a03);_0x6769cb===_0x54cf18(0x2d4)&&_0x4caa05&&(_0x4caa05=Dt[_0x54cf18(0x8ac)][_0x54cf18(0x658)][_0x54cf18(0x1d4)][_0x54cf18(0x81c)](_0x4caa05)),_0x47291e[_0x472a03]=_0x4caa05;})),_0x47291e;},'set':async _0xd37adb=>{const _0x4adaad=_0x256775;let _0x75af96=[];for(let _0x4c10b3 in _0xd37adb)for(let _0x515dbd in _0xd37adb[_0x4c10b3]){let _0x3b9c78=_0xd37adb[_0x4c10b3][_0x515dbd],_0x54c806=_0x4c10b3+'-'+_0x515dbd;_0x75af96['push'](_0x3b9c78?await _0x31b0af(_0x3b9c78,_0x54c806):await _0x3463ee(_0x54c806));}await Promise[_0x4adaad(0x877)](_0x75af96);}}},'saveCreds':async()=>await _0x31b0af(_0x3382dc,'creds')};}var k=T(require('fs')),Y=require(a0_0x48e44b(0x53a)),Ut=T(require(a0_0x48e44b(0x847))),ne=require(a0_0x48e44b(0x288)),Ei=require(a0_0x48e44b(0x77f)),vi=require(a0_0x48e44b(0x860)),Ni=T(require(a0_0x48e44b(0x313))),Ne=class extends _{constructor(_0x5613a0,_0x50248f,_0x448a05){const _0x270f34=a0_0x48e44b;super(_0x50248f),this[_0x270f34(0x78f)]=_0x5613a0,this['configService']=_0x50248f,this[_0x270f34(0x349)]=_0x448a05;}async[a0_0x48e44b(0x6b2)](_0x4584cb,_0x257293){const _0x27c1d8=a0_0x48e44b;try{if(this[_0x27c1d8(0x1ac)][_0x27c1d8(0x178)]){console[_0x27c1d8(0x84c)](_0x27c1d8(0x890)+_0x257293+_0x27c1d8(0x22b),_0x4584cb);let _0x4efa9e=await this['cacheInstanceModel'][_0x27c1d8(0x4cc)]({'_id':_0x257293},{'$set':_0x4584cb},{'new':!0x0,'upsert':!0x0});return console['log'](_0x27c1d8(0x65e),_0x4efa9e),_0x4efa9e;}}catch(_0xa2d91c){throw console['error'](_0x27c1d8(0x728),_0xa2d91c),_0xa2d91c;}return null;}async[a0_0x48e44b(0x5ba)](_0x355661){const _0x465d1f=a0_0x48e44b;try{let _0xa43cc5=A(_0x355661['where']);return{'deletedCount':(await this['cacheInstanceModel'][_0x465d1f(0x5ba)](_0xa43cc5))[_0x465d1f(0x664)]};}catch(_0x3ae703){return{'error':_0x3ae703?.[_0x465d1f(0x691)]()};}}async[a0_0x48e44b(0x715)](_0xe5acf8){const _0x48b777=a0_0x48e44b;try{let _0x562c54=A(_0xe5acf8['where']);return await this[_0x48b777(0x78f)][_0x48b777(0x715)](_0x562c54)[_0x48b777(0x333)]();}catch{return null;}}},kt=(0x0,vi['promisify'])(Ei['exec']),Po=S[a0_0x48e44b(0x84e)](a0_0x48e44b(0x75f)),xs=class{constructor(){const _0x43fc8f=a0_0x48e44b;this[_0x43fc8f(0x7a5)]=new Ne(Be,S),(!this[_0x43fc8f(0x6a8)]||!this['networkInterface'])&&Po&&this[_0x43fc8f(0x5b1)]()['then'](()=>{const _0x54f29b=_0x43fc8f;console['log'](_0x54f29b(0x815)+this['ipv6Prefix']),console[_0x54f29b(0x84c)](_0x54f29b(0x1fb)+this[_0x54f29b(0x24d)]);})['catch'](_0x1773e0=>{const _0x49d56b=_0x43fc8f;console[_0x49d56b(0x16b)](_0x49d56b(0x790)+_0x1773e0[_0x49d56b(0x5e0)]);});}async[a0_0x48e44b(0x5b1)](){const _0x27418e=a0_0x48e44b;try{let {stdout:_0xfd1f57}=await kt(_0x27418e(0x2d5));console[_0x27418e(0x84c)](_0x27418e(0x1c5)+_0xfd1f57);let _0xece376=_0xfd1f57['split']('\x0a')['map'](_0x1d247c=>_0x1d247c[_0x27418e(0x8a4)]('\x20')[0x0])['filter'](_0x1ac437=>!_0x1ac437['includes']('lo')&&!_0x1ac437[_0x27418e(0x1d0)]('docker')&&!_0x1ac437[_0x27418e(0x1d0)]('vir')&&!_0x1ac437['includes']('wl')&&!_0x1ac437['includes']('@'));if(console[_0x27418e(0x84c)]('Filtered\x20network\x20interfaces:\x20'+_0xece376),_0xece376[_0x27418e(0x3b4)]===0x0)throw new Error(_0x27418e(0x160));this[_0x27418e(0x24d)]=_0xece376[0x0];let {stdout:_0x559140}=await kt(_0x27418e(0x1c0)+this[_0x27418e(0x24d)]);console['log'](_0x27418e(0x383)+_0x559140);let _0x561797=_0x559140[_0x27418e(0x8a4)]('\x0a')[_0x27418e(0x1ae)](_0x3fcf0b=>_0x3fcf0b[_0x27418e(0x1d0)](_0x27418e(0x8bf))&&_0x3fcf0b[_0x27418e(0x1d0)]('global'));if(!_0x561797)throw new Error('No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface');let _0x1a6599=_0x561797['match'](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x1a6599)throw new Error(_0x27418e(0x5e8));let [_0xf90939,_0x169c30,_0x592bf4]=_0x1a6599,_0xff7096=Math[_0x27418e(0x451)](Number(_0x592bf4)/0x10),_0x37c43a=Number(_0x592bf4)%0x10,_0x2d8105=_0x169c30[_0x27418e(0x8a4)](':')['slice'](0x0,_0xff7096)['join'](':');if(_0x37c43a>0x0){let _0x4546c2=_0x169c30[_0x27418e(0x8a4)](':')[_0xff7096],_0x289689=0xffff<<0x10-_0x37c43a&0xffff,_0x57707b=(parseInt(_0x4546c2,0x10)&_0x289689)[_0x27418e(0x691)](0x10)[_0x27418e(0x23b)](0x4,'0');_0x2d8105+=':'+_0x57707b;}this['ipv6Prefix']=_0x2d8105+':';}catch(_0x175ce5){console['error'](_0x27418e(0x16d),_0x175ce5);}}async[a0_0x48e44b(0x223)](_0x54c632){const _0x23ce5f=a0_0x48e44b;let _0x3f06c2='ip\x20-6\x20addr\x20add\x20'+_0x54c632+_0x23ce5f(0x82a)+this[_0x23ce5f(0x24d)];try{await kt(_0x3f06c2),console['log'](_0x23ce5f(0x80d)+_0x54c632);}catch(_0x884d84){console[_0x23ce5f(0x16b)](_0x23ce5f(0x3b3)+_0x884d84);}}async[a0_0x48e44b(0x6fa)](_0x34e285){const _0x362e08=a0_0x48e44b;let _0x3df0b1='ip\x20-6\x20addr\x20del\x20'+_0x34e285+_0x362e08(0x82a)+this[_0x362e08(0x24d)];try{await kt(_0x3df0b1),console['log'](_0x362e08(0x16f)+_0x34e285);}catch(_0x9179c5){console[_0x362e08(0x16b)]('Error\x20removing\x20IPv6\x20address:\x20'+_0x9179c5);}}[a0_0x48e44b(0x86c)](){const _0x2c910d=a0_0x48e44b;return _0x2c910d(0x3ce)[_0x2c910d(0x67e)](/X/g,()=>_0x2c910d(0x5e6)['charAt'](Math['floor'](Math[_0x2c910d(0x68a)]()*0x10)));}[a0_0x48e44b(0x7d3)](_0x32d9cb,_0x44f7e5){const _0x572a85=a0_0x48e44b;let _0x1c39de=_0x44f7e5[_0x572a85(0x8a4)](':');return _0x1c39de[0x0]=(parseInt(_0x1c39de[0x0],0x10)^0x2)[_0x572a85(0x691)](0x10)[_0x572a85(0x23b)](0x2,'0'),''+_0x32d9cb+_0x1c39de[0x0]+_0x1c39de[0x1]+':'+_0x1c39de[0x2]+_0x572a85(0x642)+_0x1c39de[0x3]+':'+_0x1c39de[0x4]+_0x1c39de[0x5];}['generateRandomIPv6'](){const _0x2b6af9=a0_0x48e44b;let _0x31504c=this[_0x2b6af9(0x6a8)];_0x31504c['endsWith'](':')||(_0x31504c+=':');let _0x59260d=this[_0x2b6af9(0x86c)]();return this[_0x2b6af9(0x7d3)](_0x31504c,_0x59260d);}['isValidIPv6Config'](_0x502a62){const _0x5f36b8=a0_0x48e44b;return new RegExp(_0x5f36b8(0x245))[_0x5f36b8(0x867)](_0x502a62);}async[a0_0x48e44b(0x656)](_0x1675b2){const _0x1cf0c5=a0_0x48e44b;let _0x53a0a2=[{'url':_0x1cf0c5(0x838),'parse':_0x492046=>_0x492046['ip']},{'url':_0x1cf0c5(0x5f7),'parse':_0x3a7611=>_0x3a7611['ip']},{'url':_0x1cf0c5(0x4f5),'parse':_0x4ab1fe=>_0x4ab1fe[_0x1cf0c5(0x4ed)]()},{'url':'https://v6.ident.me','parse':_0xb8e779=>_0xb8e779[_0x1cf0c5(0x4ed)]()}],_0x7db800=_0x53a0a2[Math[_0x1cf0c5(0x451)](Math['random']()*_0x53a0a2[_0x1cf0c5(0x3b4)])];try{let _0x6ae0e6=await Ni[_0x1cf0c5(0x875)][_0x1cf0c5(0x84e)](_0x7db800[_0x1cf0c5(0x32b)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x1675b2}}),_0x1ec272=_0x7db800[_0x1cf0c5(0x4e9)](_0x6ae0e6[_0x1cf0c5(0x693)]);return _0x1ec272[_0x1cf0c5(0x5af)]()===_0x1675b2[_0x1cf0c5(0x5af)]()?(console['log']('IP\x20confirmed:\x20'+_0x1675b2),!0x0):(console[_0x1cf0c5(0x16b)]('IP\x20mismatch:\x20configured\x20'+_0x1675b2+_0x1cf0c5(0x3a4)+_0x1ec272),!0x1);}catch(_0x4b8753){return console['error'](_0x1cf0c5(0x87b)+_0x7db800[_0x1cf0c5(0x32b)]+':\x20'+_0x4b8753[_0x1cf0c5(0x5e0)]),!0x1;}}async[a0_0x48e44b(0x3b7)](_0x1702f3,_0x1a920f){const _0x39c271=a0_0x48e44b;if(!this[_0x39c271(0x6a8)]||!this[_0x39c271(0x24d)])return console[_0x39c271(0x16b)](_0x39c271(0x25b)),null;let _0x402281;do _0x402281=this[_0x39c271(0x854)](),console[_0x39c271(0x84c)]('Generated\x20IPv6:\x20'+_0x402281);while(!await this[_0x39c271(0x6ce)](_0x402281));await this[_0x39c271(0x223)](_0x402281),console[_0x39c271(0x84c)](_0x39c271(0x6a9)+_0x402281);let _0x4e6f32={'_id':_0x1702f3+'-'+_0x1a920f,'ip':_0x402281},_0x460f4f=await this['cacheInstanceRepository']['createOrUpdate'](_0x4e6f32,_0x4e6f32['_id']);return console[_0x39c271(0x84c)](_0x39c271(0x659)+_0x460f4f),_0x402281;}async[a0_0x48e44b(0x6ce)](_0x269262){const _0x3da920=a0_0x48e44b;return this['isValidIPv6Config'](_0x269262)?!await this[_0x3da920(0x7a5)][_0x3da920(0x715)]({'where':{'ip':_0x269262}}):!0x1;}async[a0_0x48e44b(0x343)](_0x1624ab,_0x17c525){const _0x1af320=a0_0x48e44b;let _0x213077=_0x1624ab+'-'+_0x17c525,_0x22681c=await this[_0x1af320(0x7a5)]['findOne']({'where':{'_id':_0x213077}});_0x22681c&&_0x22681c['ip']&&(await this[_0x1af320(0x6fa)](_0x22681c['ip']),await this['cacheInstanceRepository'][_0x1af320(0x5ba)]({'where':{'_id':_0x213077}}));}},Do=new xs(),ae=Do,Fs=a0_0x48e44b(0x597),Oi,he=null,Oa=null,ko=0x3,Lo=null,$i=S[a0_0x48e44b(0x84e)](a0_0x48e44b(0x393))[a0_0x48e44b(0x30c)]['KEY'],Ri=S['get'](a0_0x48e44b(0x75f));async function Fo(){const _0x3d31f5=a0_0x48e44b;let _0x14ca8f=await ve['findOne']();he=_0x14ca8f?.['WebhookGlobal']??null,Lo=_0x14ca8f?.[_0x3d31f5(0x33f)]??null,Fs=_0x14ca8f?.['connectedClient']??_0x3d31f5(0x597),Oi=_0x14ca8f?.[_0x3d31f5(0x548)]??B??_0x3d31f5(0x796);}async function Uo(){await Fo();}Uo();var Lt={},$e=class u{constructor(_0x536201,_0x5ae294,_0xca3728){const _0x5b7d5a=a0_0x48e44b;this[_0x5b7d5a(0x1b4)]=_0x536201,this[_0x5b7d5a(0x281)]=_0x5ae294,this['repository']=_0xca3728,this['processedMessagesCache']={},this[_0x5b7d5a(0x7c6)]=null,this[_0x5b7d5a(0x470)]=new $(u['name']),this[_0x5b7d5a(0x844)]={},this[_0x5b7d5a(0x50b)]={},this[_0x5b7d5a(0x840)]={'state':_0x5b7d5a(0x3b8)},this[_0x5b7d5a(0x8b8)]=(0x0,j[_0x5b7d5a(0x739)])(le,_0x5b7d5a(0x2c0)),this[_0x5b7d5a(0x4ab)]=new Ls['default'](),this[_0x5b7d5a(0x3df)]=new Ls[(_0x5b7d5a(0x875))](),this[_0x5b7d5a(0x1a5)]=!0x1,this['webhookMap']={'status.instance':'/wa-connection-update','connection.update':_0x5b7d5a(0x2e0),'qrcode.updated':'/wa-qrcode','messages.upsert':_0x5b7d5a(0x884),'send.message':_0x5b7d5a(0x884),'messages.update':'/wa-message-update','group.upsert':_0x5b7d5a(0x4d2),'group.update':_0x5b7d5a(0x4d2),'group-participants.update':'/wa-groups','messages.set':_0x5b7d5a(0x6d6),'contacts.set':'/wa-contacts','contacts.upsert':_0x5b7d5a(0x727),'contacts.update':_0x5b7d5a(0x727),'presence.update':_0x5b7d5a(0x720),'chats.set':'/wa-chats','chats.update':_0x5b7d5a(0x3a9),'chats.upsert':_0x5b7d5a(0x3a9),'chats.delete':'/wa-chats'},this[_0x5b7d5a(0x368)]=0x0,this[_0x5b7d5a(0x59b)]=[],this[_0x5b7d5a(0x73f)]=0xea60,this[_0x5b7d5a(0x42a)]=!0x1,this[_0x5b7d5a(0x783)]={'chats.upsert':async(_0x2c0e08,_0x17127e)=>{const _0x2fe8ab=_0x5b7d5a;let _0x29e530=[];for await(let _0x329e7e of _0x2c0e08)_0x29e530[_0x2fe8ab(0x518)]({'_id':_0x329e7e['id'],'owner':this['instance']['wuid'],'group':_0x329e7e['id'][_0x2fe8ab(0x5b8)](_0x2fe8ab(0x4cd)),'name':_0x329e7e[_0x2fe8ab(0x5ff)]||_0x329e7e[_0x2fe8ab(0x1dc)]||null,'contactname':null,'lastmsg':_0x329e7e[_0x2fe8ab(0x82e)]&&_0x329e7e[_0x2fe8ab(0x82e)]['toString']()[_0x2fe8ab(0x3b4)]<0xd?_0x329e7e[_0x2fe8ab(0x82e)]*0x3e8:_0x329e7e['conversationTimestamp']||null,'archived':_0x329e7e[_0x2fe8ab(0x431)]||!0x1,'unreadcount':_0x329e7e[_0x2fe8ab(0x7c5)]||0x0,'ephemeralExpiration':_0x329e7e[_0x2fe8ab(0x254)]||0x0});this[_0x2fe8ab(0x3b6)](_0x2fe8ab(0x7a3),_0x29e530);},'chats.update':async(_0x27bc10,_0x1b36aa)=>{const _0x3561d3=_0x5b7d5a;for(let _0x590732 of _0x27bc10){let _0x348734={'_id':_0x590732['id'],'owner':this[_0x3561d3(0x844)][_0x3561d3(0x16a)],'archived':_0x590732[_0x3561d3(0x431)],'muteEndTime':_0x590732[_0x3561d3(0x666)],'ephemeralExpiration':_0x590732[_0x3561d3(0x254)]},_0x966eee=!0x1,_0x204357={};_0x348734[_0x3561d3(0x431)]!=null&&(this['logger'][_0x3561d3(0x4b1)](this['instanceName']+'\x20('+this[_0x3561d3(0x844)]['wuid']+_0x3561d3(0x3ef)+_0x590732['id']+'\x20:\x20'+_0x590732[_0x3561d3(0x431)]),_0x966eee=!0x0,_0x204357[_0x3561d3(0x431)]=_0x590732[_0x3561d3(0x431)]),_0x3561d3(0x666)in _0x590732&&(this[_0x3561d3(0x470)]['verbose'](this[_0x3561d3(0x25e)]+'\x20('+this[_0x3561d3(0x844)]['wuid']+_0x3561d3(0x77a)+_0x590732['id']+_0x3561d3(0x2cc)+(_0x590732[_0x3561d3(0x666)]??'0')),_0x966eee=!0x0,_0x204357['muteEndTime']=_0x590732[_0x3561d3(0x666)]??0x0),_0x3561d3(0x254)in _0x590732&&(this[_0x3561d3(0x470)][_0x3561d3(0x4b1)](this[_0x3561d3(0x25e)]+'\x20('+this[_0x3561d3(0x844)][_0x3561d3(0x16a)]+_0x3561d3(0x2c4)+_0x590732['id']+'\x20:\x20'+(_0x590732[_0x3561d3(0x254)]!==void 0x0?_0x590732[_0x3561d3(0x254)]:_0x3561d3(0x36c))),_0x204357[_0x3561d3(0x254)]=_0x590732[_0x3561d3(0x254)]===null?0x0:_0x590732[_0x3561d3(0x254)],_0x966eee=!0x0);let _0x562c77;_0x966eee&&(_0x562c77=await this[_0x3561d3(0x850)][_0x3561d3(0x176)]['updateOne']({'where':{'_id':_0x590732['id']}},_0x204357,this[_0x3561d3(0x844)][_0x3561d3(0x16a)])),_0x562c77&&F(this['instanceName'],_0x3561d3(0x482),{'chat':_0x562c77});}},'chats.delete':async _0x3002c0=>{const _0x2799e8=_0x5b7d5a;for(let _0x33868c of _0x3002c0)if(_0x33868c['endsWith'](_0x2799e8(0x4cd))){await this['repository'][_0x2799e8(0x176)][_0x2799e8(0x6a5)]({'where':{'_id':_0x33868c}},this[_0x2799e8(0x844)][_0x2799e8(0x16a)]);let _0x25476c={'where':{'key':{'remoteJid':_0x33868c}}};await this['repository'][_0x2799e8(0x5e0)][_0x2799e8(0x6a5)](_0x25476c,this[_0x2799e8(0x844)][_0x2799e8(0x16a)]);}else{await this[_0x2799e8(0x850)][_0x2799e8(0x176)]['updateOne']({'where':{'_id':_0x33868c}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x2799e8(0x844)][_0x2799e8(0x16a)]);let _0x55bddf={'where':{'key':{'remoteJid':_0x33868c}}};await this['repository'][_0x2799e8(0x5e0)][_0x2799e8(0x6a5)](_0x55bddf,this[_0x2799e8(0x844)][_0x2799e8(0x16a)]);}this[_0x2799e8(0x3b6)](_0x2799e8(0x437),[..._0x3002c0]);}},this[_0x5b7d5a(0x7c8)]={'contacts.upsert':async(_0x3511cb,_0x1dbaa6)=>{const _0x53c16a=_0x5b7d5a;let _0x30555e=await this[_0x53c16a(0x850)][_0x53c16a(0x644)]['find']({'where':{}},this[_0x53c16a(0x844)][_0x53c16a(0x16a)]),_0x5b2250=[];for await(let _0x647d11 of _0x3511cb)_0x30555e[_0x53c16a(0x1ae)](_0xccb52d=>_0xccb52d['_id']===_0x647d11['id'])||_0x5b2250[_0x53c16a(0x518)]({'_id':_0x647d11['id'],'pushName':_0x647d11?.[_0x53c16a(0x5ff)]||_0x647d11?.[_0x53c16a(0x717)],'owner':this['instance'][_0x53c16a(0x16a)]});this[_0x53c16a(0x3b6)](_0x53c16a(0x188),_0x5b2250),await this[_0x53c16a(0x850)][_0x53c16a(0x644)][_0x53c16a(0x411)](_0x5b2250);},'contacts.update':async(_0x47d089,_0x3492f6)=>{const _0xa16ce=_0x5b7d5a;let _0x37c7cf=[];for await(let _0x5dc2f4 of _0x47d089)_0x37c7cf['push']({'_id':_0x5dc2f4['id'],'pushName':_0x5dc2f4?.[_0xa16ce(0x5ff)]??_0x5dc2f4?.[_0xa16ce(0x717)],'owner':this['instance'][_0xa16ce(0x16a)]});this[_0xa16ce(0x3b6)](_0xa16ce(0x612),_0x37c7cf);}},this[_0x5b7d5a(0x37f)]={'messaging-history.set':async({messages:_0x2c9351,chats:_0x1d37dd,isLatest:_0x39ca35},_0x46d457)=>{const _0x3a9d22=_0x5b7d5a;if(_0x39ca35){let _0x40c226=await Promise[_0x3a9d22(0x877)](_0x1d37dd[_0x3a9d22(0x3ad)](async _0x118e1c=>({'_id':_0x118e1c['id'],'owner':this[_0x3a9d22(0x844)][_0x3a9d22(0x16a)],'group':_0x118e1c['id'][_0x3a9d22(0x5b8)](_0x3a9d22(0x4cd)),'name':_0x118e1c['name']||_0x118e1c[_0x3a9d22(0x1dc)]||_0x118e1c[_0x3a9d22(0x2a3)]||null,'contactname':null,'lastmsg':_0x118e1c['conversationTimestamp']&&_0x118e1c['conversationTimestamp'][_0x3a9d22(0x691)]()[_0x3a9d22(0x3b4)]<0xd?_0x118e1c[_0x3a9d22(0x82e)]*0x3e8:_0x118e1c[_0x3a9d22(0x82e)]||null,'archived':_0x118e1c[_0x3a9d22(0x431)]||!0x1,'unreadcount':_0x118e1c[_0x3a9d22(0x7c5)]||0x0,'ephemeralExpiration':_0x118e1c['ephemeralExpiration']||0x0,'muteEndTime':_0x118e1c[_0x3a9d22(0x666)]||0x0})));this[_0x3a9d22(0x3b6)](_0x3a9d22(0x34c),_0x40c226),await this[_0x3a9d22(0x707)](_0x40c226,_0x46d457);}let _0x141b7a=[],_0x11c34c=Date[_0x3a9d22(0x23c)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x16ab75]of Object['entries'](_0x2c9351)){if(_0x16ab75[_0x3a9d22(0x5e0)]?.['protocolMessage']||_0x16ab75[_0x3a9d22(0x5e0)]?.[_0x3a9d22(0x45d)]||!_0x16ab75[_0x3a9d22(0x5e0)]||_0x16ab75[_0x3a9d22(0x744)]['remoteJid']===_0x3a9d22(0x82c)||(ks[_0x3a9d22(0x875)][_0x3a9d22(0x2ae)](_0x16ab75?.[_0x3a9d22(0x321)])&&(_0x16ab75[_0x3a9d22(0x321)]=_0x16ab75[_0x3a9d22(0x321)]?.[_0x3a9d22(0x857)]()),_0x16ab75[_0x3a9d22(0x321)]&&_0x16ab75[_0x3a9d22(0x321)]['toString']()['length']<0xd&&(_0x16ab75['messageTimestamp']=_0x16ab75[_0x3a9d22(0x321)]*0x3e8),_0x16ab75['messageTimestamp']<_0x11c34c))continue;let _0x4eef73=(0x0,w[_0x3a9d22(0x1e8)])(_0x16ab75[_0x3a9d22(0x5e0)]),_0x34f0e6=(0x0,w[_0x3a9d22(0x6b1)])(_0x4eef73),{message_normalized:_0x146698}=this[_0x3a9d22(0x26a)](_0x4eef73,_0x34f0e6,null);Object[_0x3a9d22(0x6df)](_0x146698)[_0x3a9d22(0x3b4)]>0x0&&_0x141b7a[_0x3a9d22(0x518)]({'_id':_0x16ab75['key']['id'],'key':_0x16ab75[_0x3a9d22(0x744)],'pushName':_0x16ab75['pushName'],'participant':_0x16ab75[_0x3a9d22(0x201)],'message':_0x4eef73,'messageType':_0x34f0e6,'message_normalized':{'key':_0x16ab75['key'],'pushName':_0x16ab75['pushName'],'messageTimestamp':_0x16ab75[_0x3a9d22(0x321)],..._0x146698},'messageTimestamp':_0x16ab75['messageTimestamp'],'owner':this[_0x3a9d22(0x844)][_0x3a9d22(0x16a)]});}_0x46d457[_0x3a9d22(0x178)]&&_0x141b7a['length']>0x0&&(this['logger'][_0x3a9d22(0x4b1)](this['instanceName']+'\x20('+this[_0x3a9d22(0x844)][_0x3a9d22(0x16a)]+_0x3a9d22(0x741)+_0x141b7a[_0x3a9d22(0x3b4)]+_0x3a9d22(0x809)+this[_0x3a9d22(0x844)]['wuid']+_0x3a9d22(0x382)),await this[_0x3a9d22(0x850)]['message']['insert']([..._0x141b7a],this['instance'][_0x3a9d22(0x16a)])),this['sendDataWebhook'](_0x3a9d22(0x1c3),[..._0x141b7a]),_0x2c9351=void 0x0;},'messages.upsert':async({messages:_0x322d85,type:_0x1f059f},_0x44f452)=>{const _0x54750e=_0x5b7d5a;for(let _0x53a572 of _0x322d85){if(this[_0x54750e(0x50b)]?.[_0x54750e(0x204)]&&_0x53a572['key'][_0x54750e(0x713)]['includes'](_0x54750e(0x4cd))){this[_0x54750e(0x470)][_0x54750e(0x4b1)](this[_0x54750e(0x25e)]+'\x20('+this[_0x54750e(0x844)][_0x54750e(0x16a)]+_0x54750e(0x4d4));continue;}if(_0x53a572[_0x54750e(0x744)][_0x54750e(0x713)][_0x54750e(0x1d0)](_0x54750e(0x7cb))||_0x53a572[_0x54750e(0x744)][_0x54750e(0x713)]===_0x54750e(0x82c))continue;if(_0x53a572['messageStubParameters']&&_0x53a572[_0x54750e(0x778)][0x0]===_0x54750e(0x80a)){console[_0x54750e(0x16b)](_0x54750e(0x35e)),await this[_0x54750e(0x784)](_0x53a572),Lt[_0x53a572['key']['id']]=_0x53a572,this[_0x54750e(0x89a)](_0x53a572,0x0);continue;}if(_0x1f059f!==_0x54750e(0x4de)||!_0x53a572?.[_0x54750e(0x5e0)]||_0x53a572[_0x54750e(0x5e0)]?.[_0x54750e(0x46f)]||_0x53a572['message']?.[_0x54750e(0x45d)])continue;let _0x1afacd=null,_0x19f401=null;if(Lt[_0x53a572[_0x54750e(0x744)]['id']]&&(console[_0x54750e(0x16b)]('[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache'),await this[_0x54750e(0x850)][_0x54750e(0x350)]['delete']({'where':{'_id':_0x53a572[_0x54750e(0x744)]['id']}}),delete Lt[_0x53a572[_0x54750e(0x744)]['id']]),this[_0x54750e(0x7f5)](this['instance'][_0x54750e(0x16a)],_0x53a572['key']['id'])){this[_0x54750e(0x470)]['verbose'](this[_0x54750e(0x25e)]+'\x20('+this[_0x54750e(0x844)][_0x54750e(0x16a)]+_0x54750e(0x19d));continue;}this[_0x54750e(0x49e)](this[_0x54750e(0x844)][_0x54750e(0x16a)],_0x53a572[_0x54750e(0x744)]['id']);try{_0x1afacd=await this[_0x54750e(0x729)](_0x53a572),_0x19f401=_0x1afacd?_0x1afacd[_0x54750e(0x739)](','):null;}catch(_0x4e9abb){this[_0x54750e(0x470)][_0x54750e(0x4b1)](this[_0x54750e(0x25e)]+'\x20('+this[_0x54750e(0x844)][_0x54750e(0x16a)]+_0x54750e(0x741)+(_0x4e9abb instanceof Error?_0x4e9abb[_0x54750e(0x5e0)]:JSON[_0x54750e(0x365)](_0x4e9abb,null,0x2))),_0x19f401=_0x54750e(0x558);}this[_0x54750e(0x70c)][_0x54750e(0x610)](_0x54750e(0x55b)),ks[_0x54750e(0x875)][_0x54750e(0x2ae)](_0x53a572[_0x54750e(0x321)])&&(_0x53a572[_0x54750e(0x321)]=_0x53a572[_0x54750e(0x321)]?.[_0x54750e(0x857)]()),_0x53a572[_0x54750e(0x321)]&&_0x53a572['messageTimestamp'][_0x54750e(0x691)]()['length']<0xd&&(_0x53a572['messageTimestamp']=_0x53a572[_0x54750e(0x321)]*0x3e8);let _0x4a565e=_0x53a572[_0x54750e(0x5e0)],_0x4192d0=(0x0,w[_0x54750e(0x1e8)])(_0x4a565e),_0x418e39=(0x0,w[_0x54750e(0x6b1)])(_0x4192d0),{messageContent:_0xe6eaba,message_normalized:_0x506704}=this[_0x54750e(0x26a)](_0x4192d0,_0x418e39,_0x19f401);if(_0x418e39===_0x54750e(0x46f)&&_0xe6eaba?.[_0x54750e(0x70e)]&&(_0x418e39=_0x54750e(0x70e)),_0x418e39===_0x54750e(0x5c3)&&_0x53a572[_0x54750e(0x744)][_0x54750e(0x479)])continue;let _0x4cb67c,_0x4c3360=_0x53a572[_0x54750e(0x744)][_0x54750e(0x713)]['endsWith'](_0x54750e(0x4cd));if(_0x53a572[_0x54750e(0x744)][_0x54750e(0x479)])_0x4cb67c=this[_0x54750e(0x844)]['profilePictureUrl'];else{let _0x4c4e07=_0x4c3360?_0x53a572['key'][_0x54750e(0x201)]:_0x53a572[_0x54750e(0x744)]['remoteJid'];_0x4cb67c=(await this['findAndUpdateCacheContact'](_0x4c4e07,_0x53a572[_0x54750e(0x619)],!0x1))['cachedContact'][_0x54750e(0x6b6)];}let _0xe470d3={'_id':_0x53a572[_0x54750e(0x744)]['id'],'key':_0x53a572['key'],'isGroup':_0x4c3360,'profilePictureUrl':_0x4cb67c,'pushName':_0x53a572[_0x54750e(0x619)],'message':_0x4192d0,'messageType':_0x418e39,'message_normalized':{'key':_0x53a572[_0x54750e(0x744)],'pushName':_0x53a572['pushName'],'messageTimestamp':_0x53a572[_0x54750e(0x321)],'source':(0x0,w[_0x54750e(0x4cf)])(_0x53a572[_0x54750e(0x744)]['id']),..._0x506704},'messageTimestamp':_0x53a572[_0x54750e(0x321)],'owner':this[_0x54750e(0x844)][_0x54750e(0x16a)],'source':(0x0,w[_0x54750e(0x4cf)])(_0x53a572[_0x54750e(0x744)]['id']),'expiration':_0xe6eaba?.[_0x54750e(0x77e)]?.[_0x54750e(0x1ef)]||0x0};if(_0xe6eaba||(this[_0x54750e(0x470)][_0x54750e(0x16b)]('Mensagem\x20não\x20suportada'),this[_0x54750e(0x470)][_0x54750e(0x16b)](_0xe470d3)),_0x506704[_0x54750e(0x1de)]===_0x54750e(0x569)){console[_0x54750e(0x16b)](_0x54750e(0x68e)),await this[_0x54750e(0x784)](_0x53a572);continue;}this[_0x54750e(0x470)][_0x54750e(0x84c)](this['instanceName']+'\x20('+this['instance'][_0x54750e(0x16a)]+_0x54750e(0x741)+(_0xe470d3[_0x54750e(0x744)]?.[_0x54750e(0x479)]?_0x54750e(0x71e):_0x54750e(0x1ad))+'\x20['+_0xe470d3['key']?.[_0x54750e(0x713)][_0x54750e(0x67e)](_0x54750e(0x212),'')+_0x54750e(0x623)+_0xe470d3[_0x54750e(0x82d)]+')'),_0xe470d3[_0x54750e(0x7bf)]?.[_0x54750e(0x1de)]&&this['logger'][_0x54750e(0x84c)](_0x53a572['key']['id']+':\x20'+_0xe470d3[_0x54750e(0x7bf)]?.[_0x54750e(0x1de)]),await this['repository'][_0x54750e(0x5e0)][_0x54750e(0x411)]([_0xe470d3],this[_0x54750e(0x844)][_0x54750e(0x16a)]),this['sendDataWebhook'](_0x54750e(0x36a),_0xe470d3),F(this[_0x54750e(0x25e)],_0x54750e(0x7ff),{'message':_0xe470d3}),_0x53a572[_0x54750e(0x744)][_0x54750e(0x713)]!==_0x54750e(0x82c)&&await this[_0x54750e(0x606)](_0x44f452,_0xe470d3,_0x54750e(0x4c2));}},'messages.update':async(_0x526e8d,_0x5647fb)=>{const _0x50ee8e=_0x5b7d5a;let _0x1bc11e={0x0:_0x50ee8e(0x820),0x1:_0x50ee8e(0x68c),0x2:_0x50ee8e(0x410),0x3:_0x50ee8e(0x765),0x4:_0x50ee8e(0x38e),0x5:'PLAYED'};for await(let {key:_0x3eacd6,update:_0x4b5431}of _0x526e8d){if(this[_0x50ee8e(0x50b)]?.[_0x50ee8e(0x204)]&&_0x3eacd6[_0x50ee8e(0x713)]['includes']('@g.us')){this[_0x50ee8e(0x470)]['verbose'](this[_0x50ee8e(0x25e)]+'\x20('+this[_0x50ee8e(0x844)][_0x50ee8e(0x16a)]+_0x50ee8e(0x5b5));return;}if(_0x3eacd6['remoteJid']!=='status@broadcast'){let _0x528a21=Date[_0x50ee8e(0x23c)](),_0x355f31;_0x4b5431[_0x50ee8e(0x5e0)]===null&&_0x4b5431[_0x50ee8e(0x485)]===void 0x0?_0x355f31=_0x50ee8e(0x5fa):_0x355f31=_0x1bc11e[_0x4b5431['status']];let _0x13fe07=_0x3eacd6['remoteJid'][_0x50ee8e(0x67e)](/:\d{1,2}@/g,'@'),_0x40f5e8={..._0x3eacd6,'remoteJid':_0x13fe07,'status':_0x355f31,'datetime':_0x528a21,'owner':this[_0x50ee8e(0x844)]['wuid']};this[_0x50ee8e(0x3b6)](_0x50ee8e(0x662),_0x40f5e8),await this[_0x50ee8e(0x86a)](_0x3eacd6,_0x40f5e8);}}},'labels.association':async({type:_0x4b229a,association:_0x57dd4d})=>{const _0x5df7d9=_0x5b7d5a;if(_0x57dd4d['type']===_0x5df7d9(0x738)){let _0x2507c9,_0xc04cfc=0x0;for(;!_0x2507c9&&_0xc04cfc<this[_0x5df7d9(0x61e)];)_0x2507c9=await this[_0x5df7d9(0x850)][_0x5df7d9(0x176)][_0x5df7d9(0x715)]({'where':{'_id':_0x57dd4d[_0x5df7d9(0x813)]}},this[_0x5df7d9(0x844)][_0x5df7d9(0x16a)]),_0x2507c9||(_0xc04cfc++,this['logger'][_0x5df7d9(0x6cf)](this[_0x5df7d9(0x25e)]+'\x20('+this[_0x5df7d9(0x844)][_0x5df7d9(0x16a)]+_0x5df7d9(0x788)+_0x57dd4d[_0x5df7d9(0x813)]+_0x5df7d9(0x3ab)+this[_0x5df7d9(0x19b)]+_0x5df7d9(0x1da)+_0xc04cfc+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this['delayChatLabel'](this['delayChatLabel_RETRY_DELAY_MS']));if(!_0x2507c9){this[_0x5df7d9(0x470)][_0x5df7d9(0x16b)](_0x5df7d9(0x289)+_0x57dd4d['chatId']+_0x5df7d9(0x570)+this[_0x5df7d9(0x61e)]+_0x5df7d9(0x189));return;}switch(_0x4b229a){case _0x5df7d9(0x234):console[_0x5df7d9(0x84c)](_0x57dd4d),await this['repository'][_0x5df7d9(0x176)][_0x5df7d9(0x7b8)]({'where':{'_id':_0x57dd4d[_0x5df7d9(0x813)]}},{'leadInfo.etiquetas':_0x57dd4d[_0x5df7d9(0x561)]},this['instance'][_0x5df7d9(0x16a)],void 0x0,_0x5df7d9(0x6c5));break;case _0x5df7d9(0x2bd):console['log'](_0x57dd4d),await this[_0x5df7d9(0x850)]['chat']['updateOne']({'where':{'_id':_0x57dd4d[_0x5df7d9(0x813)]}},{'leadInfo.etiquetas':_0x57dd4d[_0x5df7d9(0x561)]},this['instance'][_0x5df7d9(0x16a)],void 0x0,'$pull');break;default:this['logger']['error'](_0x5df7d9(0x3d4)+_0x4b229a+']');}}},'labels.edit':async _0x466b1d=>{const _0xeff948=_0x5b7d5a;if(!_0x466b1d||!_0x466b1d['id']){this['logger'][_0xeff948(0x16b)](_0xeff948(0x3b2));return;}if(!_0x466b1d[_0xeff948(0x7dc)]){let _0x57d88b=[_0xeff948(0x787),'#64c4ff','#fed428',_0xeff948(0x32f),'#9ab6c1','#56ccb4',_0xeff948(0x240),'#d3a91f',_0xeff948(0x258),_0xeff948(0x4f7),_0xeff948(0x318),_0xeff948(0x611),'#92ceac','#f64847',_0xeff948(0x603),_0xeff948(0x6a4),_0xeff948(0x154),_0xeff948(0x459),_0xeff948(0x3c8),_0xeff948(0x749)],_0x52d62b;typeof _0x466b1d[_0xeff948(0x615)]=='number'&&_0x466b1d[_0xeff948(0x615)]>=0x0&&_0x466b1d[_0xeff948(0x615)]<_0x57d88b[_0xeff948(0x3b4)]?_0x52d62b=_0x57d88b[_0x466b1d[_0xeff948(0x615)]]:(this[_0xeff948(0x470)]['error'](_0xeff948(0x4dd)+_0x466b1d[_0xeff948(0x615)]),_0x52d62b=_0xeff948(0x750));let _0x855b8e={'_id':_0x466b1d['id'],'colorHex':_0x52d62b,'color':_0x466b1d?.[_0xeff948(0x615)],'name':_0x466b1d?.[_0xeff948(0x5ff)],'owner':this[_0xeff948(0x844)][_0xeff948(0x16a)]};await this[_0xeff948(0x850)]['label'][_0xeff948(0x7b8)]({'where':{'_id':_0x466b1d['id']}},_0x855b8e,this[_0xeff948(0x844)][_0xeff948(0x16a)]),this['logger'][_0xeff948(0x6cf)](this[_0xeff948(0x25e)]+'\x20('+this['instance'][_0xeff948(0x16a)]+_0xeff948(0x51a)+_0x466b1d);}_0x466b1d[_0xeff948(0x7dc)]&&(await this[_0xeff948(0x850)][_0xeff948(0x1bf)][_0xeff948(0x6a5)]({'where':{'_id':_0x466b1d['id']}},this[_0xeff948(0x844)][_0xeff948(0x16a)]),this[_0xeff948(0x470)][_0xeff948(0x6cf)]('Rótulo\x20deletado:\x27,\x20'+_0x466b1d['id']));}},this[_0x5b7d5a(0x62c)]={'groups.upsert':async _0x5dc5d2=>{const _0x1850b0=_0x5b7d5a;this[_0x1850b0(0x50b)]?.[_0x1850b0(0x204)]||this['sendDataWebhook'](_0x1850b0(0x852),_0x5dc5d2);for(let _0x44e2fa of _0x5dc5d2)await this[_0x1850b0(0x53d)](_0x44e2fa);},'groups.update':async _0x5da657=>{const _0x296550=_0x5b7d5a;this[_0x296550(0x50b)]?.[_0x296550(0x204)]||this['sendDataWebhook'](_0x296550(0x636),_0x5da657);for(let _0x531e5b of _0x5da657)await this['updateGroupWebhook'](_0x531e5b);},'group-participants.update':async _0x9279d6=>{const _0x478b1b=_0x5b7d5a;this[_0x478b1b(0x50b)]?.['groups_ignore']||this['sendDataWebhook'](_0x478b1b(0x88e),_0x9279d6),await this['updateGroupParticipantsWebhook'](_0x9279d6);}},this[_0x5b7d5a(0x61e)]=0x5,this[_0x5b7d5a(0x19b)]=0x1388,this[_0x5b7d5a(0x7ea)]=0x0,this[_0x5b7d5a(0x729)]=async _0x3ca319=>{const _0x55582c=_0x5b7d5a;if(_0x3ca319[_0x55582c(0x5e0)]?.[_0x55582c(0x878)]){let _0x381d40=await this[_0x55582c(0x2f7)](_0x3ca319[_0x55582c(0x5e0)][_0x55582c(0x878)][_0x55582c(0x224)],!0x0);if(_0x381d40){let _0x5db2d5=_0x381d40[_0x55582c(0x744)][_0x55582c(0x479)]?this[_0x55582c(0x844)]['wuid']+_0x55582c(0x212):_0x381d40[_0x55582c(0x744)]['participant']||_0x381d40[_0x55582c(0x744)][_0x55582c(0x713)],_0x23009a=_0x381d40['key']['id'],_0x14ab3d=_0x381d40[_0x55582c(0x5e0)],_0x5d4469=Buffer[_0x55582c(0x1e9)](_0x14ab3d[_0x55582c(0x5bb)][_0x55582c(0x645)]['toString']('hex'),_0x55582c(0x47d)),_0x3dbc72=(0x0,w[_0x55582c(0x48b)])(_0x3ca319[_0x55582c(0x5e0)][_0x55582c(0x878)]['vote'],{'pollCreatorJid':_0x5db2d5,'pollMsgId':_0x23009a,'pollEncKey':_0x5d4469,'voterJid':_0x3ca319[_0x55582c(0x744)][_0x55582c(0x479)]?this[_0x55582c(0x844)]['wuid']+'@s.whatsapp.net':_0x3ca319['key'][_0x55582c(0x713)]['endsWith']('g.us')?_0x3ca319[_0x55582c(0x744)][_0x55582c(0x201)]:_0x3ca319[_0x55582c(0x744)][_0x55582c(0x713)]}),_0x2d80b4=[],_0xa0b1ef=_0x3dbc72[_0x55582c(0x70d)][_0x55582c(0x3ad)](_0x4b5248=>Buffer['from'](_0x4b5248)[_0x55582c(0x691)](_0x55582c(0x47d)));for(let {optionName:_0xae7c1e}of _0x14ab3d[_0x55582c(0x2a1)]?.[_0x55582c(0x2d2)]||_0x14ab3d[_0x55582c(0x5eb)]?.[_0x55582c(0x2d2)]||_0x14ab3d[_0x55582c(0x8bc)]?.[_0x55582c(0x2d2)])_0xa0b1ef[_0x55582c(0x712)]((0x0,w['sha256'])(Buffer['from'](_0xae7c1e))['toString'](_0x55582c(0x47d)))>-0x1&&_0x2d80b4[_0x55582c(0x518)](_0xae7c1e);return _0x2d80b4;}}return null;},this['normalizeMessage']=(_0x594581,_0x41e7a5,_0x1c8d26)=>{const _0x1a918b=_0x5b7d5a;try{let _0x237ced=_0x594581?(0x0,w[_0x1a918b(0x35a)])(_0x594581)[_0x41e7a5]:void 0x0,_0x5c1c84={},_0x7f6f84=null,_0x305084=null,_0x3e76eb=null,_0x51706a=null;_0x41e7a5===_0x1a918b(0x46f)&&_0x237ced?.['editedMessage']&&(_0x41e7a5=(0x0,w[_0x1a918b(0x6b1)])(_0x237ced[_0x1a918b(0x70e)]),_0x7f6f84=_0x594581[_0x1a918b(0x46f)][_0x1a918b(0x744)]['id'],_0x237ced=_0x594581[_0x1a918b(0x46f)][_0x1a918b(0x70e)][_0x41e7a5]),_0x594581[_0x41e7a5]?.['contextInfo']?.[_0x1a918b(0x267)]&&_0x594581[_0x41e7a5]?.['contextInfo']?.['quotedMessage']&&(_0x305084=_0x594581[_0x41e7a5][_0x1a918b(0x77e)][_0x1a918b(0x267)]),_0x594581[_0x1a918b(0x392)]&&(_0x3e76eb=_0x594581['reactionMessage'][_0x1a918b(0x744)]['id']);let _0xee8289;if(_0x237ced&&typeof _0x237ced==_0x1a918b(0x892)&&_0x1a918b(0x224)in _0x237ced&&({pollCreationMessageKey:_0xee8289}=_0x237ced),_0x41e7a5==='pollCreationMessage'||_0x41e7a5==='pollCreationMessageV2'||_0x41e7a5===_0x1a918b(0x5eb)){let _0x316a06=_0x237ced['options']['map'](_0x186a3d=>_0x186a3d[_0x1a918b(0x3e2)])[_0x1a918b(0x739)]('|');_0x5c1c84[_0x1a918b(0x1a7)]=_0x316a06;}if(_0x41e7a5===_0x1a918b(0x5c3)){let _0x541626=_0x237ced[_0x1a918b(0x3a8)][_0x1a918b(0x507)][_0x1a918b(0x3ad)](_0x1cea39=>JSON['parse'](_0x1cea39['buttonParamsJson'])[_0x1a918b(0x604)])[_0x1a918b(0x739)]('|');_0x5c1c84[_0x1a918b(0x1a7)]=_0x541626;}_0x41e7a5===_0x1a918b(0x4a9)&&(_0x5c1c84['buttonOrList_id']=_0x237ced?.[_0x1a918b(0x81b)]?.[_0x1a918b(0x52a)]);let _0x3d149e='';if(_0x237ced&&(_0x3d149e+=_0x237ced[_0x1a918b(0x5ff)]?_0x237ced[_0x1a918b(0x5ff)]:'',_0x3d149e+=_0x237ced[_0x1a918b(0x1e7)]?'\x20'+_0x237ced[_0x1a918b(0x1e7)]:'',_0x3d149e+=_0x237ced[_0x1a918b(0x803)]?'\x20'+_0x237ced[_0x1a918b(0x803)]:'',_0x3d149e+=_0x237ced[_0x1a918b(0x1dc)]?'\x20'+_0x237ced[_0x1a918b(0x1dc)]:'',_0x41e7a5!=='interactiveResponseMessage'&&(_0x3d149e+=_0x237ced[_0x1a918b(0x4dc)]?.['text']?'\x20'+_0x237ced[_0x1a918b(0x4dc)]['text']:''),_0x3d149e+=_0x237ced?.[_0x1a918b(0x3f3)]?.[_0x1a918b(0x1de)]?'\x20'+_0x237ced?.[_0x1a918b(0x3f3)]?.['text']:''),_0x41e7a5===_0x1a918b(0x264)){_0x3d149e=(_0x237ced[_0x1a918b(0x526)]||'')+'\x0a'+(_0x237ced['description']||'')+'\x0a'+(_0x237ced[_0x1a918b(0x689)]||'');let _0x1acd68=this[_0x1a918b(0x3d0)](_0x237ced[_0x1a918b(0x41b)]);_0x5c1c84['convertedOptions']=_0x1acd68;}if(_0x41e7a5===_0x1a918b(0x4a9)&&(_0x1c8d26=_0x237ced['title'],_0x51706a=_0x237ced?.[_0x1a918b(0x81b)]?.[_0x1a918b(0x52a)]),_0x41e7a5===_0x1a918b(0x3fe)){let _0x2b4213=_0x237ced?.[_0x1a918b(0x7a0)];_0x2b4213&&_0x2b4213[_0x1a918b(0x5ff)]===_0x1a918b(0x88f)&&(_0x51706a=JSON[_0x1a918b(0x4e9)](_0x2b4213[_0x1a918b(0x589)])['id']),_0x1c8d26=_0x237ced?.[_0x1a918b(0x4dc)]?.[_0x1a918b(0x1de)];}if(_0x41e7a5===_0x1a918b(0x256)&&(_0x1c8d26=_0x237ced?.[_0x1a918b(0x50f)],_0x51706a=_0x237ced?.[_0x1a918b(0x818)]),_0x41e7a5===_0x1a918b(0x27f)&&(_0x1c8d26=_0x237ced?.[_0x1a918b(0x50f)],_0x51706a=_0x237ced?.[_0x1a918b(0x7f6)]),_0x237ced&&_0x237ced['vcard']){let _0x5e40fe=this[_0x1a918b(0x1a6)](JSON[_0x1a918b(0x365)](_0x237ced['vcard'],null,0x2));_0x3d149e=_0x3d149e+'\x0a'+_0x5e40fe;}if(_0x237ced){let {selectedButtonId:_0x2f995c,nativeFlowResponseMessage:_0x3d77ff,selectedId:_0x5e9029,selectedDisplayText:_0x135d7a,selectedIndex:_0x1109f8,body:_0x2fe004,nativeFlowMessage:_0x4af86a,singleSelectReply:_0x30de83,sections:_0x17b0e3,listType:_0x10372e,displayName:_0x243f98,vcard:_0x4dc710,contactVcard:_0x5113fc,name:_0x54b91c,caption:_0x42d101,conversation:_0x1889a1,pollCreationMessageKey:_0x1cefd2,footerText:_0x2e7829,contentText:_0x5e8fea,pageCount:_0x21065b,headerType:_0x2e02f6,isAvatar:_0x342f53,isAnimated:_0x336444,fallbackLc:_0x55089d,fallbackLg:_0xea8743,namespace:_0x2a8529,elementName:_0x5e5072,localizableParams:_0x5f2ec4,viewOnce:_0x320c4e,height:_0x26cb11,width:_0x3c1adb,key:_0x4b2723,firstScanLength:_0x55643,firstScanSidecar:_0x3f9e50,gifPlayback:_0x15fcfd,gifAttribution:_0x2108fe,midQualityFileSha256:_0x3709e6,scansSidecar:_0x4187e8,streamingSidecar:_0x536136,thumbnailHeight:_0x4e8e0d,thumbnailWidth:_0x453c85,thumbnailEncSha256:_0x3e1922,thumbnailDirectPath:_0x38440b,canonicalUrl:_0x389408,matchedText:_0x2591f6,previewType:_0x32c7fa,thumbnailSha256:_0xf706c9,deviceListMetadataVersion:_0x10a2af,inviteLinkGroupTypeV2:_0x18fdf6,interactiveAnnotations:_0x549e02,scanLengths:_0x3f9f08,jpegThumbnail:_0x126019,url:_0x1bcb1e,mediaKeyTimestamp:_0x14a092,waveform:_0x38156c,stickerSentTs:_0x35f79c,firstFrameLength:_0x33337f,fileEncSha256:_0x22e822,contextInfo:_0x3280f1,firstFrameSidecar:_0x505cd9,directPath:_0x5623e4,fileSha256:_0x2ce61c,mediaKey:_0x212f8d,senderTimestampMs:_0x2e12cf,..._0x23fcf5}=_0x237ced;(_0x41e7a5===_0x1a918b(0x264)||_0x41e7a5==='listResponseMessage')&&(delete _0x23fcf5[_0x1a918b(0x526)],delete _0x23fcf5[_0x1a918b(0x797)]),typeof _0x237ced==_0x1a918b(0x292)?_0x5c1c84={'text':_0x237ced,'type':_0x41e7a5||_0x1a918b(0x803),..._0x7f6f84&&{'edited':_0x7f6f84},..._0x305084&&{'quoted':_0x305084},..._0x3e76eb&&{'reaction':_0x3e76eb}}:_0x5c1c84={'text':_0x3d149e,..._0x23fcf5,..._0x41e7a5==='pollUpdateMessage'?{'poll_id':_0x237ced['pollCreationMessageKey']['id'],'quoted':_0x237ced['pollCreationMessageKey']['id'],'vote':_0x1c8d26}:{},..._0x41e7a5===_0x1a918b(0x4a9)?{'buttonOrList_id':_0x51706a,'vote':_0x1c8d26}:{},..._0x41e7a5===_0x1a918b(0x3fe)?{'buttonOrList_id':_0x51706a,'vote':_0x1c8d26}:{},..._0x41e7a5===_0x1a918b(0x256)?{'buttonOrList_id':_0x51706a,'vote':_0x1c8d26}:{},..._0x41e7a5===_0x1a918b(0x27f)?{'buttonOrList_id':_0x51706a,'vote':_0x1c8d26}:{},'type':_0x41e7a5,..._0x7f6f84&&{'edited':_0x7f6f84},..._0x305084&&{'quoted':_0x305084},..._0x3e76eb&&{'reaction':_0x3e76eb},...(_0x41e7a5===_0x1a918b(0x2a1)||_0x41e7a5===_0x1a918b(0x8bc)||_0x41e7a5===_0x1a918b(0x5eb)||_0x41e7a5===_0x1a918b(0x264)||_0x41e7a5===_0x1a918b(0x5c3))&&{'convertedOptions':_0x5c1c84[_0x1a918b(0x1a7)]}};}return{'messageType':_0x41e7a5,'messageContent':_0x237ced,'message_normalized':_0x5c1c84};}catch(_0x384ee3){return this[_0x1a918b(0x470)][_0x1a918b(0x16b)]('Erro\x20ao\x20normalizar\x20a\x20mensagem:'+_0x384ee3),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this['pendingMessages']=[],(this['cleanStore'](),this[_0x5b7d5a(0x2fe)](),this[_0x5b7d5a(0x844)][_0x5b7d5a(0x5ee)]={'count':0x0},this[_0x5b7d5a(0x844)][_0x5b7d5a(0x503)]={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}['addToProcessedMessages'](_0x2ff7cb,_0x159963){const _0x5a8b72=a0_0x48e44b;this[_0x5a8b72(0x21f)][_0x2ff7cb]||(this[_0x5a8b72(0x21f)][_0x2ff7cb]=new Set()),this['processedMessagesCache'][_0x2ff7cb][_0x5a8b72(0x234)](_0x159963),setTimeout(()=>this[_0x5a8b72(0x21f)][_0x2ff7cb][_0x5a8b72(0x6a5)](_0x159963),0x2710);}[a0_0x48e44b(0x7f5)](_0x5cd597,_0x46a041){const _0xcbda17=a0_0x48e44b;return this[_0xcbda17(0x21f)][_0x5cd597]?.[_0xcbda17(0x31f)](_0x46a041)??!0x1;}set[a0_0x48e44b(0x25e)](_0x34adec){const _0xa6f2b7=a0_0x48e44b;if(!_0x34adec){this[_0xa6f2b7(0x844)][_0xa6f2b7(0x5ff)]=(0x0,Ai['v4'])();return;}this['instance']['name']=_0x34adec,this[_0xa6f2b7(0x3b6)](_0xa6f2b7(0x2e6),{'instance':this[_0xa6f2b7(0x844)][_0xa6f2b7(0x5ff)],'status':'created'});}get[a0_0x48e44b(0x25e)](){return this['instance']['name'];}get[a0_0x48e44b(0x16a)](){const _0x5ca523=a0_0x48e44b;return this['instance'][_0x5ca523(0x16a)];}async[a0_0x48e44b(0x6d8)](){const _0x467196=a0_0x48e44b;let _0x3c1c56=this[_0x467196(0x70c)]['user']?.[_0x467196(0x5ff)]??this[_0x467196(0x70c)][_0x467196(0x6be)]?.[_0x467196(0x717)];if(!_0x3c1c56){if(this[_0x467196(0x1b4)][_0x467196(0x84e)](_0x467196(0x4c1))[_0x467196(0x178)]){let _0x5e96ab=await I['getClient']()['db'](this[_0x467196(0x1b4)]['get']('DATABASE')['CONNECTION']['DB_PREFIX_NAME']+_0x467196(0x69b))[_0x467196(0x344)](this[_0x467196(0x25e)])['findOne']({'_id':'creds'});if(_0x5e96ab){let _0x1a27a6=JSON[_0x467196(0x4e9)](JSON[_0x467196(0x365)](_0x5e96ab),w['BufferJSON'][_0x467196(0x469)]);_0x3c1c56=_0x1a27a6['me']?.[_0x467196(0x5ff)]||_0x1a27a6['me']?.[_0x467196(0x717)];}}else{if((0x0,Le[_0x467196(0x634)])((0x0,j[_0x467196(0x739)])(Se,this[_0x467196(0x25e)],_0x467196(0x473)))){let _0xb51203=JSON[_0x467196(0x4e9)]((0x0,Le[_0x467196(0x67f)])((0x0,j[_0x467196(0x739)])(Se,this[_0x467196(0x25e)],_0x467196(0x473)),{'encoding':'utf-8'}));_0x3c1c56=_0xb51203['me']?.[_0x467196(0x5ff)]||_0xb51203['me']?.[_0x467196(0x717)];}}}return _0x3c1c56;}get[a0_0x48e44b(0x79d)](){const _0x4adf4f=a0_0x48e44b;return this[_0x4adf4f(0x844)][_0x4adf4f(0x79d)];}async[a0_0x48e44b(0x599)](){const _0x243af5=a0_0x48e44b;let _0x1ac2b9=this[_0x243af5(0x844)][_0x243af5(0x16a)]+'@s.whatsapp.net';try{await this[_0x243af5(0x70c)][_0x243af5(0x3ea)](_0x1ac2b9)?this[_0x243af5(0x844)][_0x243af5(0x462)]=!0x0:this['instance'][_0x243af5(0x462)]=!0x1;}catch{this['instance'][_0x243af5(0x462)]=!0x1;}return this[_0x243af5(0x470)]['info'](this['instanceName']+'\x20('+this[_0x243af5(0x844)][_0x243af5(0x16a)]+_0x243af5(0x4f6)+this[_0x243af5(0x844)][_0x243af5(0x462)]),this[_0x243af5(0x844)][_0x243af5(0x462)];}get[a0_0x48e44b(0x4ac)](){const _0x7f91a8=a0_0x48e44b;return this[_0x7f91a8(0x844)][_0x7f91a8(0x5ee)]?.[_0x7f91a8(0x6ed)]?{'pairingCode':this[_0x7f91a8(0x844)][_0x7f91a8(0x5ee)]?.[_0x7f91a8(0x6ed)]}:{'code':this[_0x7f91a8(0x844)][_0x7f91a8(0x5ee)]?.[_0x7f91a8(0x2d6)],'base64':this[_0x7f91a8(0x844)][_0x7f91a8(0x5ee)]?.['base64']};}async['loadWebhook'](){const _0x54d570=a0_0x48e44b;let _0x5bdaac=await this['repository'][_0x54d570(0x405)]['find'](this[_0x54d570(0x25e)]);this[_0x54d570(0x50b)][_0x54d570(0x32b)]=_0x5bdaac?.['url'],this[_0x54d570(0x50b)]['enabled']=_0x5bdaac?.['enabled'],this[_0x54d570(0x50b)][_0x54d570(0x170)]=_0x5bdaac?.[_0x54d570(0x170)],this['localWebhook'][_0x54d570(0x499)]=_0x5bdaac?.[_0x54d570(0x499)],this[_0x54d570(0x50b)][_0x54d570(0x174)]=_0x5bdaac?.[_0x54d570(0x174)],this[_0x54d570(0x50b)][_0x54d570(0x529)]=_0x5bdaac?.['SEND_MESSAGE'],this[_0x54d570(0x50b)][_0x54d570(0x4c2)]=_0x5bdaac?.['MESSAGES_UPSERT'],this[_0x54d570(0x50b)][_0x54d570(0x5ec)]=_0x5bdaac?.[_0x54d570(0x5ec)],this[_0x54d570(0x50b)][_0x54d570(0x27e)]=_0x5bdaac?.[_0x54d570(0x27e)],this[_0x54d570(0x50b)][_0x54d570(0x5a6)]=_0x5bdaac?.[_0x54d570(0x5a6)],this['localWebhook'][_0x54d570(0x84a)]=_0x5bdaac?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x54d570(0x50b)]['CHATS_SET']=_0x5bdaac?.[_0x54d570(0x4a7)],this[_0x54d570(0x50b)][_0x54d570(0x6b9)]=_0x5bdaac?.['CHATS_UPSERT'],this[_0x54d570(0x50b)]['CHATS_UPDATE']=_0x5bdaac?.[_0x54d570(0x7f2)],this[_0x54d570(0x50b)][_0x54d570(0x43d)]=_0x5bdaac?.['CHATS_DELETE'],this[_0x54d570(0x50b)]['CONTACTS_SET']=_0x5bdaac?.[_0x54d570(0x34e)],this['localWebhook'][_0x54d570(0x2fb)]=_0x5bdaac?.[_0x54d570(0x2fb)],this[_0x54d570(0x50b)][_0x54d570(0x1f3)]=_0x5bdaac?.['CONTACTS_UPDATE'],this[_0x54d570(0x50b)]['PRESENCE_UPDATE']=_0x5bdaac?.[_0x54d570(0x180)],this[_0x54d570(0x50b)]['MESSAGES_SET']=_0x5bdaac?.[_0x54d570(0x35f)],this[_0x54d570(0x50b)][_0x54d570(0x1cd)]=_0x5bdaac?.['CONNECTION_UPDATE'],this[_0x54d570(0x50b)]['groups_ignore']=_0x5bdaac?.[_0x54d570(0x204)];}async[a0_0x48e44b(0x55c)](_0x5d831e){const _0x23adca=a0_0x48e44b;let _0x507084=[_0x23adca(0x477),_0x23adca(0x32b),_0x23adca(0x528),_0x23adca(0x170),_0x23adca(0x499),_0x23adca(0x174),_0x23adca(0x5ec),_0x23adca(0x4c2),_0x23adca(0x529),_0x23adca(0x27e),'GROUPS_UPDATE',_0x23adca(0x84a),'CHATS_SET','CHATS_UPSERT',_0x23adca(0x7f2),'CHATS_DELETE','CONTACTS_SET',_0x23adca(0x2fb),_0x23adca(0x1f3),_0x23adca(0x180),_0x23adca(0x35f),_0x23adca(0x1cd),'groups_ignore'],_0x483386={};return _0x507084[_0x23adca(0x3f6)](_0x367c7f=>{_0x5d831e[_0x367c7f]!==void 0x0&&(_0x483386[_0x367c7f]=_0x5d831e[_0x367c7f]);}),_0x483386[_0x23adca(0x32b)]&&(_0x483386[_0x23adca(0x32b)]=_0x483386[_0x23adca(0x32b)][_0x23adca(0x4ed)]()),await this[_0x23adca(0x850)]['webhook'][_0x23adca(0x694)](_0x483386,this[_0x23adca(0x25e)]),Object[_0x23adca(0x3c5)](this[_0x23adca(0x50b)],_0x483386),await this[_0x23adca(0x850)]['webhook'][_0x23adca(0x1ae)](this[_0x23adca(0x25e)]);}async[a0_0x48e44b(0x25d)](){const _0x1063ed=a0_0x48e44b;return await this[_0x1063ed(0x850)][_0x1063ed(0x405)][_0x1063ed(0x1ae)](this[_0x1063ed(0x25e)]);}async[a0_0x48e44b(0x3b6)](_0x7ada24,_0x128bcf){const _0x49a37f=a0_0x48e44b;let _0x1e640a=_0x7ada24[_0x49a37f(0x67e)](/[\.-]/gm,'_')[_0x49a37f(0x7e2)](),_0x4a358a=this['localWebhook']['enabled']&&(0x0,J['isURL'])(this[_0x49a37f(0x50b)][_0x49a37f(0x32b)])?this['localWebhook'][_0x49a37f(0x32b)]+(this['localWebhook'][_0x49a37f(0x170)]?this[_0x49a37f(0x2b7)][_0x7ada24]:''):null,_0x127e55=this[_0x49a37f(0x50b)][_0x1e640a],_0x253fb8=he&&he[_0x49a37f(0x528)]&&(0x0,J[_0x49a37f(0x403)])(he[_0x49a37f(0x32b)])?he[_0x49a37f(0x32b)]+(he[_0x49a37f(0x170)]?this[_0x49a37f(0x2b7)][_0x7ada24]:''):null,_0x1a961f=he?he[_0x1e640a]:null;if(_0x127e55&&_0x4a358a)try{await Q[_0x49a37f(0x875)][_0x49a37f(0x694)]({'baseURL':_0x4a358a})[_0x49a37f(0x89b)]('',{'event':_0x7ada24,'instance':this[_0x49a37f(0x844)][_0x49a37f(0x5ff)],'apikey':this[_0x49a37f(0x844)][_0x49a37f(0x647)],'data':_0x128bcf}),this[_0x49a37f(0x470)][_0x49a37f(0x84c)](this[_0x49a37f(0x25e)]+'\x20('+this['instance'][_0x49a37f(0x16a)]+_0x49a37f(0x2a5)+_0x7ada24+':\x20'+_0x4a358a);}catch{this[_0x49a37f(0x470)]['error'](this[_0x49a37f(0x25e)]+'\x20('+this[_0x49a37f(0x844)][_0x49a37f(0x16a)]+_0x49a37f(0x806)+_0x7ada24+':\x20'+_0x4a358a);}if(_0x1a961f&&_0x253fb8)try{await Q['default'][_0x49a37f(0x694)]({'baseURL':_0x253fb8})[_0x49a37f(0x89b)]('',{'event':_0x7ada24,'instance':this['instance'][_0x49a37f(0x5ff)],'apikey':this[_0x49a37f(0x844)][_0x49a37f(0x647)],'data':_0x128bcf}),this[_0x49a37f(0x470)]['log'](this['instanceName']+'\x20('+this['instance'][_0x49a37f(0x16a)]+_0x49a37f(0x60d)+_0x7ada24+':\x20'+_0x253fb8);}catch{this[_0x49a37f(0x470)][_0x49a37f(0x16b)](this['instanceName']+'\x20('+this[_0x49a37f(0x844)]['wuid']+_0x49a37f(0x2f8)+_0x7ada24+':\x20'+_0x253fb8);}}async[a0_0x48e44b(0x2e7)]({qr:_0x15190a,connection:_0x4ce849,lastDisconnect:_0x52feb4}){const _0xedec35=a0_0x48e44b;if(_0x15190a){if(this[_0xedec35(0x844)][_0xedec35(0x5ee)][_0xedec35(0x874)]===ko)return this[_0xedec35(0x3b6)]('qrcode.updated',{'message':_0xedec35(0x1e0),'statusCode':w[_0xedec35(0x825)][_0xedec35(0x824)]}),this[_0xedec35(0x840)]={'state':_0xedec35(0x7e8),'statusReason':w['DisconnectReason'][_0xedec35(0x75a)]},this[_0xedec35(0x3b6)](_0xedec35(0x210),{'instance':this[_0xedec35(0x844)][_0xedec35(0x5ff)],...this['stateConnection']}),this['sendDataWebhook'](_0xedec35(0x2e6),{'instance':this[_0xedec35(0x844)][_0xedec35(0x5ff)],'status':'removed'}),this[_0xedec35(0x850)][_0xedec35(0x56f)][_0xedec35(0x6a5)](this['instance'][_0xedec35(0x5ff)]),this[_0xedec35(0x1a5)]=!0x0,ae[_0xedec35(0x343)](B,this[_0xedec35(0x844)][_0xedec35(0x5ff)]),this[_0xedec35(0x281)][_0xedec35(0x893)](_0xedec35(0x768),this['instance'][_0xedec35(0x5ff)]);this[_0xedec35(0x844)][_0xedec35(0x5ee)][_0xedec35(0x874)]++;let _0x20a3e0={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0xedec35(0x2ce),'dark':'#000000'}};Ii[_0xedec35(0x875)]['toDataURL'](_0x15190a,_0x20a3e0,(_0x4b1c70,_0x45a94c)=>{const _0x35cf76=_0xedec35;if(_0x4b1c70){this['logger'][_0x35cf76(0x16b)](this[_0x35cf76(0x25e)]+'\x20('+this[_0x35cf76(0x844)][_0x35cf76(0x16a)]+_0x35cf76(0x786)+(_0x4b1c70 instanceof Error?_0x4b1c70[_0x35cf76(0x5e0)]:JSON[_0x35cf76(0x365)](_0x4b1c70,null,0x2)));return;}this[_0x35cf76(0x844)]['qrcode'][_0x35cf76(0x30b)]=_0x45a94c,this[_0x35cf76(0x844)]['qrcode'][_0x35cf76(0x2d6)]=_0x15190a,!this[_0x35cf76(0x7a7)]&&this['sendDataWebhook']('qrcode.updated',{'qrcode':{'instance':this[_0x35cf76(0x844)]['name'],'pairingCode':this[_0x35cf76(0x844)][_0x35cf76(0x5ee)][_0x35cf76(0x6ed)],'code':_0x15190a,'base64':_0x45a94c}});}),this[_0xedec35(0x7a7)]?this[_0xedec35(0x844)][_0xedec35(0x5ee)][_0xedec35(0x6ed)]||(await(0x0,w[_0xedec35(0x3d3)])(0x7d0),this[_0xedec35(0x844)][_0xedec35(0x5ee)][_0xedec35(0x6ed)]=await this[_0xedec35(0x70c)][_0xedec35(0x670)](this[_0xedec35(0x7a7)])):this[_0xedec35(0x844)][_0xedec35(0x5ee)][_0xedec35(0x6ed)]=null,Ti[_0xedec35(0x875)][_0xedec35(0x72d)](_0x15190a,{'small':!0x0},_0x355608=>this[_0xedec35(0x470)][_0xedec35(0x84c)]('\x0a{\x20instance:\x20'+this[_0xedec35(0x844)]['name']+',\x20qrcodeCount:\x20'+this[_0xedec35(0x844)][_0xedec35(0x5ee)][_0xedec35(0x874)]+_0xedec35(0x413)+this[_0xedec35(0x844)]['qrcode'][_0xedec35(0x6ed)]+_0xedec35(0x24c)+_0x355608));}if(_0x4ce849&&(this['stateConnection']={'state':_0x4ce849,'statusReason':_0x52feb4?.['error']?.[_0xedec35(0x6c4)]?.['statusCode']??0xc8},this[_0xedec35(0x3b6)]('connection.update',{'instance':this['instance']['name'],...this[_0xedec35(0x840)]})),_0x4ce849==='close'){if(this[_0xedec35(0x368)]++,this['reconnectTimestamps'][_0xedec35(0x518)](Date[_0xedec35(0x23c)]()),this[_0xedec35(0x59b)]=this[_0xedec35(0x59b)][_0xedec35(0x20c)](_0x451492=>Date[_0xedec35(0x23c)]()-_0x451492<this[_0xedec35(0x73f)]),_0x52feb4[_0xedec35(0x16b)]?.[_0xedec35(0x6c4)]?.[_0xedec35(0x544)]!==w['DisconnectReason'][_0xedec35(0x556)]){let _0x5ef25b=this['reconnectAttempts']<=0x1?0x0:Math[_0xedec35(0x683)](Math[_0xedec35(0x1ba)](0x2,this['reconnectAttempts']-0x1)*0x3e8,0x493e0);console[_0xedec35(0x84c)](this[_0xedec35(0x25e)]+_0xedec35(0x78c)+this[_0xedec35(0x368)]+'.\x20Aguardando\x20'+_0x5ef25b/0x3e8+'\x20segundos\x20antes\x20de\x20reconectar...'),await new Promise(_0x21fd8c=>setTimeout(_0x21fd8c,_0x5ef25b)),console['log'](_0xedec35(0x7af)),await this[_0xedec35(0x2cb)]();}else{this[_0xedec35(0x3b6)](_0xedec35(0x2e6),{'instance':this[_0xedec35(0x844)][_0xedec35(0x5ff)],'status':_0xedec35(0x310)}),this['instance']['ScheduleMessage'][_0xedec35(0x58f)]=!0x1,this['repository'][_0xedec35(0x405)][_0xedec35(0x6a5)](this[_0xedec35(0x25e)]),this[_0xedec35(0x850)]['auth'][_0xedec35(0x694)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0xedec35(0x844)][_0xedec35(0x5ff)]),ae[_0xedec35(0x343)](B,this[_0xedec35(0x844)]['name']);try{this[_0xedec35(0x470)][_0xedec35(0x4b1)](this[_0xedec35(0x25e)]+'\x20('+this[_0xedec35(0x844)][_0xedec35(0x16a)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0xdad8bd=await this[_0xedec35(0x850)][_0xedec35(0x5e0)][_0xedec35(0x421)](this[_0xedec35(0x844)]['wuid']);_0xdad8bd[_0xedec35(0x5a0)]?this[_0xedec35(0x470)]['verbose'](this['instanceName']+'\x20('+this[_0xedec35(0x844)][_0xedec35(0x16a)]+_0xedec35(0x4b5)):this[_0xedec35(0x470)]['error'](_0xedec35(0x1ca)+_0xdad8bd[_0xedec35(0x16b)]);}catch(_0x14cc05){this['logger']['error'](_0xedec35(0x67d)+_0x14cc05[_0xedec35(0x5e0)]);}this[_0xedec35(0x844)][_0xedec35(0x503)][_0xedec35(0x2dd)]!==null&&(this[_0xedec35(0x470)][_0xedec35(0x4b1)](this['instanceName']+'\x20('+this[_0xedec35(0x844)][_0xedec35(0x16a)]+'):\x20Limpando\x20delayMessage'),clearInterval(this['instance'][_0xedec35(0x503)][_0xedec35(0x2dd)]),this[_0xedec35(0x844)][_0xedec35(0x503)][_0xedec35(0x2dd)]=null),this[_0xedec35(0x470)][_0xedec35(0x4b1)](this[_0xedec35(0x25e)]+'\x20('+this['instance'][_0xedec35(0x16a)]+_0xedec35(0x6f4)),this['AutomateSystem']=null,this[_0xedec35(0x281)][_0xedec35(0x893)](_0xedec35(0x2a0),this['instance']['name'],'inner'),this[_0xedec35(0x70c)]?.['ws']?.[_0xedec35(0x3b8)](),this[_0xedec35(0x70c)][_0xedec35(0x698)](new Error('Close\x20connection'));}}if(_0x4ce849==='open'){this['logger']['warn'](this[_0xedec35(0x25e)]+'\x20('+this[_0xedec35(0x844)][_0xedec35(0x16a)]+'):\x20this.client.authState.creds?.myAppStateKeyId:\x20'+this[_0xedec35(0x70c)][_0xedec35(0x4ef)][_0xedec35(0x7d5)]?.[_0xedec35(0x7df)]),this[_0xedec35(0x70c)]['authState'][_0xedec35(0x7d5)]?.[_0xedec35(0x7df)]||(this[_0xedec35(0x470)][_0xedec35(0x1bc)](this['instanceName']+'\x20('+this[_0xedec35(0x844)]['wuid']+'):\x20ev.flush\x20realizado'),this[_0xedec35(0x70c)]['ev'][_0xedec35(0x898)]()),this['resetReconnectionVariables'],this[_0xedec35(0x844)]['wuid']=this[_0xedec35(0x70c)][_0xedec35(0x6be)]['id'][_0xedec35(0x67e)](/:\d+/,'')[_0xedec35(0x67e)](_0xedec35(0x212),''),this['instance'][_0xedec35(0x79d)]=(await this[_0xedec35(0x5cf)](this[_0xedec35(0x844)][_0xedec35(0x16a)]+_0xedec35(0x212)))[_0xedec35(0x79d)],this[_0xedec35(0x850)][_0xedec35(0x56f)][_0xedec35(0x694)]({'online':!0x0,'owner':this['instance'][_0xedec35(0x16a)],'lastDisconnect':null},this[_0xedec35(0x844)][_0xedec35(0x5ff)]);let _0x4cebab='Número:\x20'+this[_0xedec35(0x844)][_0xedec35(0x16a)],_0x3936f4=0x28,_0x5dfd1d=Math[_0xedec35(0x451)]((_0x3936f4-_0x4cebab[_0xedec35(0x3b4)])/0x2),_0x264bc3='\x20'[_0xedec35(0x468)](_0x5dfd1d),_0x5d4f8d=_0xedec35(0x5ef),_0x2b9732=_0xedec35(0x80c)+this[_0xedec35(0x844)][_0xedec35(0x5ff)],_0x485137=(''+_0x264bc3+_0x4cebab+_0x264bc3)[_0xedec35(0x314)](_0x3936f4,'\x20'),_0x37ec32=(''+_0x264bc3+_0x5d4f8d+_0x264bc3)[_0xedec35(0x314)](_0x3936f4,'\x20'),_0x2cdb3a=(''+_0x264bc3+_0x2b9732+_0x264bc3)['padEnd'](_0x3936f4,'\x20'),_0x39b49c=Math[_0xedec35(0x56b)](_0x485137[_0xedec35(0x3b4)],_0x37ec32[_0xedec35(0x3b4)],_0x2cdb3a[_0xedec35(0x3b4)]),_0x3e946b=_0x485137[_0xedec35(0x314)](_0x39b49c,'\x20'),_0x35a581=_0x37ec32[_0xedec35(0x314)](_0x39b49c,'\x20'),_0x17651e=_0x2cdb3a[_0xedec35(0x314)](_0x39b49c,'\x20');this['logger'][_0xedec35(0x6cf)]((_0xedec35(0x504)+'─'[_0xedec35(0x468)](_0x39b49c)+_0xedec35(0x8b5)+_0x35a581+_0xedec35(0x76b)+_0x17651e+_0xedec35(0x76b)+_0x3e946b+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'[_0xedec35(0x468)](_0x39b49c)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0xedec35(0x804)](),this[_0xedec35(0x844)]['ScheduleMessage']['isConnected']=!0x0;}}['resetReconnectionVariables'](){const _0x12e637=a0_0x48e44b;this[_0x12e637(0x368)]=0x0,this[_0x12e637(0x59b)]=[];}async[a0_0x48e44b(0x2f7)](_0x508a07,_0x2c0693=!0x1){const _0x59501e=a0_0x48e44b;try{let _0xd9a22d=await this[_0x59501e(0x850)][_0x59501e(0x5e0)][_0x59501e(0x1ae)]({'where':{'_id':_0x508a07['id']}},this[_0x59501e(0x844)][_0x59501e(0x16a)]);return _0x2c0693?_0xd9a22d[0x0]:_0xd9a22d[0x0][_0x59501e(0x5e0)];}catch{return{'conversation':''};}}[a0_0x48e44b(0x67b)](){const _0x42c4e5=a0_0x48e44b;let _0x22d828=this[_0x42c4e5(0x1b4)][_0x42c4e5(0x84e)]('STORE'),_0x32684c=this[_0x42c4e5(0x1b4)]['get'](_0x42c4e5(0x4c1));_0x22d828?.[_0x42c4e5(0x550)]&&!_0x32684c['ENABLED']&&setInterval(()=>{const _0x36e6e0=_0x42c4e5;try{for(let [_0x5e4d80,_0x399b54]of Object[_0x36e6e0(0x4c4)](_0x22d828))_0x399b54===!0x0&&(0x0,Fe['execSync'])(_0x36e6e0(0x63a)+(0x0,j['join'])(this[_0x36e6e0(0x8b8)],_0x5e4d80[_0x36e6e0(0x5af)](),this[_0x36e6e0(0x844)]['wuid'])+'/*.json');}catch{}},(_0x22d828?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async[a0_0x48e44b(0x7be)](){const _0x364215=a0_0x48e44b;let _0x1844a6=this[_0x364215(0x1b4)][_0x364215(0x84e)](_0x364215(0x4c1)),_0x30c7eb=this[_0x364215(0x1b4)][_0x364215(0x84e)](_0x364215(0x6fc));return _0x30c7eb?.['ENABLED']?await Os(_0x30c7eb,this[_0x364215(0x844)][_0x364215(0x5ff)]):_0x1844a6['ENABLED']?await _s(this[_0x364215(0x844)]['name']):await(0x0,w['useMultiFileAuthState'])((0x0,j['join'])(Se,this[_0x364215(0x844)]['name']));}async[a0_0x48e44b(0x804)](){const _0x5a953c=a0_0x48e44b;let _0x34facb=()=>Math[_0x5a953c(0x451)](Math[_0x5a953c(0x68a)]()*0x4e21)+0x7d0,_0x1df80a=async()=>{const _0x1751ab=_0x5a953c;if(!this[_0x1751ab(0x844)][_0x1751ab(0x503)][_0x1751ab(0x58f)]){this['logger']['verbose'](this[_0x1751ab(0x25e)]+'\x20('+this['instance'][_0x1751ab(0x16a)]+_0x1751ab(0x198)),this[_0x1751ab(0x42a)]=!0x1;return;}if(this[_0x1751ab(0x844)]['wuid']&&this[_0x1751ab(0x7c6)]&&this['instance'][_0x1751ab(0x503)][_0x1751ab(0x2dd)]!==null&&this[_0x1751ab(0x844)]['ScheduleMessage']['delayMessage']!==void 0x0){let _0x38a8b2=Math[_0x1751ab(0x8a3)](this[_0x1751ab(0x844)][_0x1751ab(0x503)][_0x1751ab(0x2dd)]/0xea60);this[_0x1751ab(0x470)][_0x1751ab(0x4b1)](this[_0x1751ab(0x25e)]+'\x20('+this[_0x1751ab(0x844)][_0x1751ab(0x16a)]+_0x1751ab(0x3de)+_0x38a8b2+_0x1751ab(0x3d6)),this[_0x1751ab(0x42a)]=!0x1;return;}else this[_0x1751ab(0x844)]['wuid']&&(this[_0x1751ab(0x470)][_0x1751ab(0x4b1)](this[_0x1751ab(0x25e)]+'\x20('+this[_0x1751ab(0x844)][_0x1751ab(0x16a)]+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x1751ab(0x7c6)]||(await this[_0x1751ab(0x6e2)](),this[_0x1751ab(0x495)](),this[_0x1751ab(0x1a9)]()),(this['instance']['ScheduleMessage'][_0x1751ab(0x2dd)]===null||this[_0x1751ab(0x844)][_0x1751ab(0x503)]['delayMessage']===void 0x0)&&await this[_0x1751ab(0x888)]());if(this[_0x1751ab(0x42a)]){let _0x4013fc=_0x34facb();this[_0x1751ab(0x470)][_0x1751ab(0x4b1)](this[_0x1751ab(0x25e)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x4013fc/0x3e8+_0x1751ab(0x690)),setTimeout(_0x1df80a,_0x4013fc);}};if(this['isRunning'])return;this['isRunning']=!0x0;let _0x129a75=_0x34facb();setTimeout(_0x1df80a,_0x129a75);}async['synchronizeAndMapFlows'](){const _0x3e4948=a0_0x48e44b;let _0x207829=this[_0x3e4948(0x844)]['wuid'];try{let _0x2a8e60=await this[_0x3e4948(0x850)]['flow'][_0x3e4948(0x227)]({'where':{'$or':[{'owner':_0x207829},{'whoCanUse':{'$in':[_0x207829]}},{'shareOwners':{'$in':[_0x207829]}}]}}),_0x597171=new Map(this[_0x3e4948(0x7c6)][_0x3e4948(0x166)]['map'](_0x5246c2=>[_0x5246c2[_0x3e4948(0x477)],_0x5246c2])),_0x10cf91=_0x2a8e60[_0x3e4948(0x3ad)](_0x2807e9=>{const _0x2fdc2a=_0x3e4948;let _0x4aebeb=_0x597171[_0x2fdc2a(0x84e)](_0x2807e9[_0x2fdc2a(0x477)]?.[_0x2fdc2a(0x691)]());return{'_id':_0x2807e9[_0x2fdc2a(0x477)]?.[_0x2fdc2a(0x691)](),'name':_0x4aebeb?.[_0x2fdc2a(0x5ff)]??_0x2807e9[_0x2fdc2a(0x5ff)],'default':_0x4aebeb?.[_0x2fdc2a(0x875)]??_0x2807e9[_0x2fdc2a(0x875)]??!0x1,'startCommand':_0x4aebeb?.[_0x2fdc2a(0x57b)]??_0x2807e9[_0x2fdc2a(0x24b)],'minutesToClose':_0x4aebeb?.[_0x2fdc2a(0x546)]??_0x2807e9[_0x2fdc2a(0x546)]??0xa,'readMessages':_0x4aebeb?.[_0x2fdc2a(0x6e1)]??_0x2807e9['readMessages']??!0x1,'testingWith':_0x4aebeb?.[_0x2fdc2a(0x33e)]??_0x2807e9[_0x2fdc2a(0x33e)],'canEdit':_0x2807e9[_0x2fdc2a(0x4d0)]===_0x207829||(_0x2807e9[_0x2fdc2a(0x60a)]??[])[_0x2fdc2a(0x1d0)](_0x207829),'usersCount':(_0x2807e9['shareOwners']??[])['length']??0x0};}),_0x39621d=!0x1;_0x10cf91['forEach'](_0x3a35ac=>{const _0x3daf71=_0x3e4948;_0x3a35ac[_0x3daf71(0x875)]&&(_0x39621d?_0x3a35ac[_0x3daf71(0x875)]=!0x1:_0x39621d=!0x0);}),this[_0x3e4948(0x7c6)]['flows']=_0x10cf91;let _0x401481={'flows':_0x10cf91};return await this[_0x3e4948(0x850)][_0x3e4948(0x161)][_0x3e4948(0x453)](_0x401481,_0x207829),this['logger']['verbose'](this[_0x3e4948(0x25e)]+'\x20('+_0x207829+'):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.'),_0x10cf91['length'];}catch(_0x47fa3){return this[_0x3e4948(0x470)][_0x3e4948(0x16b)](this[_0x3e4948(0x25e)]+'\x20('+_0x207829+_0x3e4948(0x4e3)+(_0x47fa3 instanceof Error?_0x47fa3[_0x3e4948(0x5e0)]:JSON['stringify'](_0x47fa3,null,0x2))),{'message':_0x3e4948(0x633)+(_0x47fa3 instanceof Error?_0x47fa3[_0x3e4948(0x5e0)]:JSON[_0x3e4948(0x365)](_0x47fa3,null,0x2))};}}async['connectToWhatsapp'](_0x9b5e70){const _0xbf1355=a0_0x48e44b;try{let _0x4c09c8=await this['repository'][_0xbf1355(0x844)][_0xbf1355(0x715)]({'where':{'_id':B+'-'+this[_0xbf1355(0x25e)]}}),_0x59e938,_0x3c5371=!ae[_0xbf1355(0x6a8)]||!ae[_0xbf1355(0x24d)];console[_0xbf1355(0x84c)](_0xbf1355(0x509)),console[_0xbf1355(0x84c)](_0xbf1355(0x34d),Ri),console[_0xbf1355(0x84c)](_0xbf1355(0x220),this[_0xbf1355(0x368)]),console[_0xbf1355(0x84c)](_0xbf1355(0x509)),Ri&&!_0x3c5371&&(this['reconnectAttempts']<0x4||!this[_0xbf1355(0x368)]?_0x4c09c8&&_0x4c09c8['ip']?(_0x59e938=_0x4c09c8['ip'],console['log'](_0xbf1355(0x1b7)+_0x59e938)):(_0x59e938=await ae[_0xbf1355(0x3b7)](B,this[_0xbf1355(0x844)][_0xbf1355(0x5ff)]),_0x59e938?(console[_0xbf1355(0x84c)](_0xbf1355(0x1d6)+_0x59e938),await(0x0,w[_0xbf1355(0x3d3)])(0x7d0)):console[_0xbf1355(0x16b)](_0xbf1355(0x648))):this[_0xbf1355(0x368)]<0x6&&(await ae['removeIPv6ById'](B,this[_0xbf1355(0x844)][_0xbf1355(0x5ff)]),console[_0xbf1355(0x84c)]('IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.'),_0x59e938=await ae[_0xbf1355(0x3b7)](B,this[_0xbf1355(0x844)]['name']),_0x59e938?(console[_0xbf1355(0x84c)]('Novo\x20IP\x20criado:\x20'+_0x59e938),await(0x0,w[_0xbf1355(0x3d3)])(0x7d0)):console[_0xbf1355(0x16b)](_0xbf1355(0x155)))),this[_0xbf1355(0x521)](),this[_0xbf1355(0x844)][_0xbf1355(0x647)]=(await this['repository']['auth']['find'](this['instance'][_0xbf1355(0x5ff)]))['apikey'],this[_0xbf1355(0x844)][_0xbf1355(0x4ef)]=await this['defineAuthState']();let _0x224aff=[Oi,Fs,(0x0,Ds[_0xbf1355(0x1fc)])()],_0x1f8962={'localAddress':_0x59e938,'auth':{'creds':this[_0xbf1355(0x844)][_0xbf1355(0x4ef)][_0xbf1355(0x5b0)][_0xbf1355(0x7d5)],'keys':(0x0,w[_0xbf1355(0x7bc)])(this[_0xbf1355(0x844)][_0xbf1355(0x4ef)][_0xbf1355(0x5b0)]['keys'],(0x0,Ft['default'])({'level':_0xbf1355(0x16b)}))},'logger':(0x0,Ft[_0xbf1355(0x875)])({'level':_0xbf1355(0x16b)}),'printQRInTerminal':!0x1,'browser':_0x9b5e70?[_0xbf1355(0x2b1),Fs,(0x0,Ds[_0xbf1355(0x1fc)])()]:_0x224aff,'version':[0x2,0xbb8,0x3c8d6c7b],'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x1cdd79=>{const _0x14aa0c=_0xbf1355;let _0x85f95c=this[_0x14aa0c(0x50b)]?.[_0x14aa0c(0x204)]&&(0x0,w['isJidGroup'])(_0x1cdd79);return(0x0,w[_0x14aa0c(0x484)])(_0x1cdd79)||_0x85f95c;},'msgRetryCounterCache':this[_0xbf1355(0x4ab)],'getMessage':async _0x3e4bdc=>await this['getMessage'](_0x3e4bdc),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0xbf1355(0x3df)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x2a43c8){const _0x2b683b=_0xbf1355;return _0x2a43c8[_0x2b683b(0x40b)]?.[_0x2b683b(0x5e0)]?.[_0x2b683b(0x264)]?.[_0x2b683b(0x45a)]===w[_0x2b683b(0x8ac)][_0x2b683b(0x658)][_0x2b683b(0x585)][_0x2b683b(0x165)][_0x2b683b(0x593)]&&(_0x2a43c8=JSON['parse'](JSON['stringify'](_0x2a43c8)),_0x2a43c8[_0x2b683b(0x40b)][_0x2b683b(0x5e0)][_0x2b683b(0x264)]['listType']=w[_0x2b683b(0x8ac)][_0x2b683b(0x658)][_0x2b683b(0x585)][_0x2b683b(0x165)][_0x2b683b(0x3a1)]),_0x2a43c8[_0x2b683b(0x264)]?.[_0x2b683b(0x45a)]==w[_0x2b683b(0x8ac)]['Message'][_0x2b683b(0x585)][_0x2b683b(0x165)][_0x2b683b(0x593)]&&(_0x2a43c8=JSON['parse'](JSON[_0x2b683b(0x365)](_0x2a43c8)),_0x2a43c8[_0x2b683b(0x264)][_0x2b683b(0x45a)]=w['proto'][_0x2b683b(0x658)][_0x2b683b(0x585)][_0x2b683b(0x165)][_0x2b683b(0x3a1)]),_0x2a43c8;}};return this[_0xbf1355(0x1a5)]=!0x1,this[_0xbf1355(0x70c)]=(0x0,w['default'])(_0x1f8962),this[_0xbf1355(0x42d)](),this[_0xbf1355(0x7a7)]=_0x9b5e70,this[_0xbf1355(0x70c)];}catch(_0x547520){let _0x41fbe9=_0xbf1355(0x6d5),_0x27c65d=_0x547520 instanceof Error?_0x547520['message']:typeof _0x547520==_0xbf1355(0x892)?JSON[_0xbf1355(0x365)](_0x547520):_0x547520,_0x3e6375=_0x41fbe9+':\x20'+_0x27c65d;throw this['logger']['error'](this[_0xbf1355(0x25e)]+'\x20('+this[_0xbf1355(0x844)][_0xbf1355(0x16a)]+_0xbf1355(0x741)+_0x3e6375),console['error']('Detalhes\x20do\x20erro:',_0x547520),_0x547520 instanceof Error&&console[_0xbf1355(0x16b)](_0xbf1355(0x2e8),_0x547520[_0xbf1355(0x52f)]),new x(_0x3e6375);}}[a0_0x48e44b(0x42d)](){const _0x3b57ae=a0_0x48e44b;this[_0x3b57ae(0x70c)]['ev'][_0x3b57ae(0x23e)](_0x4b4dc3=>{const _0x1c1c29=_0x3b57ae;if(!this['endSession']){let _0x304144=this[_0x1c1c29(0x1b4)][_0x1c1c29(0x84e)](_0x1c1c29(0x4c1));if(_0x4b4dc3['labels.edit']){let _0x367b1a=_0x4b4dc3[_0x1c1c29(0x5e5)];this[_0x1c1c29(0x37f)]['labels.edit'](_0x367b1a);}if(_0x4b4dc3[_0x1c1c29(0x6ca)]){let _0x39c78d=_0x4b4dc3[_0x1c1c29(0x6ca)];this['messageHandle'][_0x1c1c29(0x6ca)](_0x39c78d);}if(_0x4b4dc3['connection.update']&&this['connectionUpdate'](_0x4b4dc3['connection.update']),_0x4b4dc3[_0x1c1c29(0x4b2)]&&this['instance'][_0x1c1c29(0x4ef)][_0x1c1c29(0x7d2)](),_0x4b4dc3['messaging-history.set']){let _0x1b037b=_0x4b4dc3[_0x1c1c29(0x366)];this['messageHandle'][_0x1c1c29(0x366)](_0x1b037b,_0x304144);}if(_0x4b4dc3[_0x1c1c29(0x36a)]){let _0x5a990a=_0x4b4dc3[_0x1c1c29(0x36a)];this[_0x1c1c29(0x37f)][_0x1c1c29(0x36a)](_0x5a990a,_0x304144);}if(_0x4b4dc3['messages.update']){let _0x546420=_0x4b4dc3[_0x1c1c29(0x662)];this[_0x1c1c29(0x37f)][_0x1c1c29(0x662)](_0x546420,_0x304144);}if(_0x4b4dc3[_0x1c1c29(0x4da)]){let _0x28fea9=_0x4b4dc3['presence.update'];if(this[_0x1c1c29(0x50b)]?.[_0x1c1c29(0x204)]&&_0x28fea9['id'][_0x1c1c29(0x1d0)](_0x1c1c29(0x4cd)))return;this[_0x1c1c29(0x3b6)](_0x1c1c29(0x4da),_0x28fea9);}if(_0x4b4dc3[_0x1c1c29(0x852)]){let _0x4b0e52=_0x4b4dc3[_0x1c1c29(0x852)];this[_0x1c1c29(0x62c)][_0x1c1c29(0x852)](_0x4b0e52);}if(_0x4b4dc3[_0x1c1c29(0x636)]){let _0x95220b=_0x4b4dc3[_0x1c1c29(0x636)];this[_0x1c1c29(0x62c)][_0x1c1c29(0x636)](_0x95220b);}if(_0x4b4dc3[_0x1c1c29(0x88e)]){let _0x1e3d6d=_0x4b4dc3['group-participants.update'];this['groupHandler'][_0x1c1c29(0x88e)](_0x1e3d6d);}if(_0x4b4dc3[_0x1c1c29(0x7a3)]){let _0xd32443=_0x4b4dc3[_0x1c1c29(0x7a3)];this[_0x1c1c29(0x783)]['chats.upsert'](_0xd32443,_0x304144);}if(_0x4b4dc3[_0x1c1c29(0x47e)]){let _0x38ee7b=_0x4b4dc3[_0x1c1c29(0x47e)];this[_0x1c1c29(0x783)][_0x1c1c29(0x47e)](_0x38ee7b,_0x304144);}if(_0x4b4dc3[_0x1c1c29(0x437)]){let _0x55c3a5=_0x4b4dc3['chats.delete'];this['chatHandle']['chats.delete'](_0x55c3a5);}if(_0x4b4dc3[_0x1c1c29(0x188)]){let _0x51dff2=_0x4b4dc3[_0x1c1c29(0x188)];this['contactHandle'][_0x1c1c29(0x188)](_0x51dff2,_0x304144);}if(_0x4b4dc3[_0x1c1c29(0x612)]){let _0x34a2fd=_0x4b4dc3['contacts.update'];this[_0x1c1c29(0x7c8)]['contacts.update'](_0x34a2fd,_0x304144);}}});}async[a0_0x48e44b(0x89a)](_0x194550,_0x435ec2){const _0x4f7aef=a0_0x48e44b;if(_0x435ec2>=0xa){console[_0x4f7aef(0x16b)](this['instanceName']+'\x20('+this[_0x4f7aef(0x844)]['wuid']+_0x4f7aef(0x574)),delete Lt[_0x194550[_0x4f7aef(0x744)]['id']];return;}try{console[_0x4f7aef(0x16b)](this['instanceName']+'\x20('+this[_0x4f7aef(0x844)][_0x4f7aef(0x16a)]+'):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20'+(_0x435ec2+0x1)),await this['client'][_0x4f7aef(0x2db)](JSON['parse'](_0x194550[_0x4f7aef(0x778)][0x1],w[_0x4f7aef(0x44f)][_0x4f7aef(0x469)])),console[_0x4f7aef(0x16b)](_0x4f7aef(0x7b4));}catch(_0x2c29ee){console['error'](this[_0x4f7aef(0x25e)]+'\x20('+this['instance'][_0x4f7aef(0x16a)]+_0x4f7aef(0x682)+_0x2c29ee),setTimeout(()=>this[_0x4f7aef(0x89a)](_0x194550,_0x435ec2+0x1),Math[_0x4f7aef(0x1ba)](0x2,_0x435ec2)*0x3e8);}}async[a0_0x48e44b(0x784)](_0x2d42a0){const _0x2ab16e=a0_0x48e44b;let _0x4c2146=_0x2d42a0[_0x2ab16e(0x744)][_0x2ab16e(0x713)][_0x2ab16e(0x5b8)]('@g.us'),_0x3df891;if(_0x2d42a0['key']['fromMe'])_0x3df891=this[_0x2ab16e(0x844)][_0x2ab16e(0x79d)];else{let _0x1aa081=_0x4c2146?_0x2d42a0[_0x2ab16e(0x744)][_0x2ab16e(0x201)]:_0x2d42a0[_0x2ab16e(0x744)][_0x2ab16e(0x713)];_0x3df891=(await this['findAndUpdateCacheContact'](_0x1aa081,_0x2d42a0[_0x2ab16e(0x619)],!0x1))[_0x2ab16e(0x6bc)][_0x2ab16e(0x6b6)];}_0x2d42a0['messageTimestamp']&&_0x2d42a0[_0x2ab16e(0x321)][_0x2ab16e(0x691)]()[_0x2ab16e(0x3b4)]<0xd&&(_0x2d42a0['messageTimestamp']=_0x2d42a0[_0x2ab16e(0x321)]*0x3e8);let _0xae59c0={'_id':_0x2d42a0[_0x2ab16e(0x744)]['id'],'key':_0x2d42a0[_0x2ab16e(0x744)],'isGroup':_0x4c2146,'profilePictureUrl':_0x3df891,'pushName':_0x2d42a0['pushName'],'message':{'text':_0x2ab16e(0x235)},'messageType':_0x2ab16e(0x16b),'message_normalized':{'key':_0x2d42a0[_0x2ab16e(0x744)],'pushName':_0x2d42a0[_0x2ab16e(0x619)],'messageTimestamp':_0x2d42a0[_0x2ab16e(0x321)],'source':(0x0,w[_0x2ab16e(0x4cf)])(_0x2d42a0['key']['id']),'text':_0x2ab16e(0x235)},'messageTimestamp':_0x2d42a0['messageTimestamp'],'owner':this['instance']['wuid'],'source':(0x0,w['getDevice'])(_0x2d42a0[_0x2ab16e(0x744)]['id'])};this[_0x2ab16e(0x470)]['error'](this['instanceName']+'\x20('+this[_0x2ab16e(0x844)][_0x2ab16e(0x16a)]+_0x2ab16e(0x741)+(_0xae59c0[_0x2ab16e(0x744)]?.[_0x2ab16e(0x479)]?_0x2ab16e(0x71e):_0x2ab16e(0x1ad))+'\x20['+_0xae59c0['key']?.[_0x2ab16e(0x713)]['replace'](_0x2ab16e(0x212),'')+_0x2ab16e(0x623)+_0xae59c0['messageType']+')'),_0xae59c0[_0x2ab16e(0x7bf)]?.[_0x2ab16e(0x1de)]&&this[_0x2ab16e(0x470)][_0x2ab16e(0x16b)](_0x2d42a0[_0x2ab16e(0x744)]['id']+':\x20'+_0xae59c0[_0x2ab16e(0x7bf)]?.[_0x2ab16e(0x1de)]),await this['repository']['message'][_0x2ab16e(0x411)]([_0xae59c0],this[_0x2ab16e(0x844)][_0x2ab16e(0x16a)]),await this['repository'][_0x2ab16e(0x350)][_0x2ab16e(0x411)]([_0xae59c0]),this[_0x2ab16e(0x3b6)](_0x2ab16e(0x36a),_0xae59c0),F(this['instanceName'],_0x2ab16e(0x7ff),{'message':_0xae59c0});}[a0_0x48e44b(0x222)](_0x4e48ae){return new Promise(_0x2df2ab=>setTimeout(_0x2df2ab,_0x4e48ae));}[a0_0x48e44b(0x873)](_0x420739){const _0x3940d9=a0_0x48e44b;_0x420739=_0x420739['replace'](/\D/g,'');let _0x5d7fb8=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x3940d9(0x703)](_0x420739);if(_0x5d7fb8&&_0x5d7fb8[0x1]==='55'){let _0x5240ea=_0x5d7fb8[0x2],_0xb76ca2=_0x5d7fb8[0x3],_0x27b90f=_0x5d7fb8[0x4];if(parseInt(_0x5240ea)>=0x1f&&_0xb76ca2==='9')return _0x5d7fb8[0x1]+_0x5240ea+_0x27b90f;}return _0x420739;}['createJid'](_0xbba2ef){const _0x503cc0=a0_0x48e44b;return _0xbba2ef['includes'](_0x503cc0(0x4cd))||_0xbba2ef[_0x503cc0(0x1d0)]('@s.whatsapp.net')||_0xbba2ef[_0x503cc0(0x1d0)]('@broadcast')?_0xbba2ef:(_0xbba2ef=_0xbba2ef?.['replace'](/\s/g,'')[_0x503cc0(0x67e)](/\+/g,'')[_0x503cc0(0x67e)](/\(/g,'')[_0x503cc0(0x67e)](/\)/g,'')[_0x503cc0(0x8a4)](/\:/)[0x0]['split']('@')[0x0],_0xbba2ef[_0x503cc0(0x3b4)]>=0x12?(_0xbba2ef=_0xbba2ef[_0x503cc0(0x67e)](/[^\d-]/g,''),_0xbba2ef+_0x503cc0(0x4cd)):(_0xbba2ef=_0xbba2ef[_0x503cc0(0x67e)](/\D/g,''),_0xbba2ef+_0x503cc0(0x212)));}async[a0_0x48e44b(0x4bb)](_0xd04863){const _0x120c4e=a0_0x48e44b;let _0x11d0f0=(await this[_0x120c4e(0x1aa)]({'numbers':[_0xd04863[_0x120c4e(0x156)]]}))[0x0];if(!_0x11d0f0['exists']&&!(0x0,w[_0x120c4e(0x26d)])(_0x11d0f0[_0x120c4e(0x1b3)])&&!_0x11d0f0[_0x120c4e(0x1b3)][_0x120c4e(0x1d0)]('@broadcast'))throw new m(_0x11d0f0);let _0x1802a8=_0x11d0f0['jid'];try{return await this[_0x120c4e(0x70c)][_0x120c4e(0x822)](_0x1802a8),await this['client'][_0x120c4e(0x610)](_0xd04863[_0x120c4e(0x2b8)],_0x1802a8),{'status':0xc8,'presence':_0xd04863['presence']};}catch(_0x5283a1){let _0x1462ae=_0x120c4e(0x777),_0xe87feb=_0x5283a1 instanceof Error?_0x5283a1[_0x120c4e(0x5e0)]:typeof _0x5283a1==_0x120c4e(0x892)?JSON[_0x120c4e(0x365)](_0x5283a1):_0x5283a1,_0x42c4af=_0x1462ae+':\x20'+_0xe87feb;throw this[_0x120c4e(0x470)]['error'](this[_0x120c4e(0x25e)]+'\x20('+this[_0x120c4e(0x844)][_0x120c4e(0x16a)]+'):\x20'+_0x42c4af),new m(_0x42c4af);}}async[a0_0x48e44b(0x5e9)](_0x16a27b,_0x5d7966,_0x5dd597,_0x470de8=!0x0){const _0x53f9de=a0_0x48e44b;let _0x3d5f4b=await this[_0x53f9de(0x850)][_0x53f9de(0x5b2)][_0x53f9de(0x715)]({'where':{'_id':_0x16a27b}});if(!_0x3d5f4b&&!_0x470de8)return;let _0x5af25d={'lastUpdate':Date[_0x53f9de(0x23c)]()};if(_0x5dd597||!_0x3d5f4b?.['lastUpdate']||Date[_0x53f9de(0x23c)]()-_0x3d5f4b[_0x53f9de(0x337)]>0x18*0x3c*0x3c*0x3e8)try{let _0x4b7563=(await this[_0x53f9de(0x5cf)](_0x16a27b))[_0x53f9de(0x79d)];_0x5af25d[_0x53f9de(0x6b6)]=_0x4b7563;}catch(_0x3ae6f5){let _0x106969=_0x53f9de(0x80b),_0x4b9320=_0x3ae6f5 instanceof Error?_0x3ae6f5[_0x53f9de(0x5e0)]:typeof _0x3ae6f5==_0x53f9de(0x892)?JSON['stringify'](_0x3ae6f5):_0x3ae6f5,_0xb6dcd2=_0x106969+':\x20'+_0x4b9320;throw this[_0x53f9de(0x470)][_0x53f9de(0x16b)](this['instanceName']+'\x20('+this[_0x53f9de(0x844)][_0x53f9de(0x16a)]+_0x53f9de(0x741)+_0xb6dcd2),new m(_0xb6dcd2);}return _0x5d7966&&_0x3d5f4b?.[_0x53f9de(0x5ff)]!==_0x5d7966&&(_0x5af25d['name']=_0x5d7966),Object[_0x53f9de(0x6df)](_0x5af25d)[_0x53f9de(0x3b4)]>0x1&&(_0x3d5f4b?await this[_0x53f9de(0x850)]['cacheContact'][_0x53f9de(0x453)]({'where':{'_id':_0x16a27b}},_0x5af25d):await this[_0x53f9de(0x850)][_0x53f9de(0x5b2)][_0x53f9de(0x411)]([{'_id':_0x16a27b,..._0x5af25d}]),_0x3d5f4b={..._0x3d5f4b,..._0x5af25d}),{'cachedContact':_0x3d5f4b};}async[a0_0x48e44b(0x5cf)](_0x566cc1){const _0x12aa21=a0_0x48e44b;let _0x3bd881=this[_0x12aa21(0x639)](_0x566cc1);try{return{'wuid':_0x3bd881,'profilePictureUrl':await this[_0x12aa21(0x70c)]['profilePictureUrl'](_0x3bd881,_0x12aa21(0x305))};}catch{return{'wuid':_0x3bd881,'profilePictureUrl':null};}}async[a0_0x48e44b(0x55f)](_0x3c7465,_0x23162d,_0x4ee806){const _0x503c6b=a0_0x48e44b;let _0x255bdc=0x0;for(;_0x255bdc<0x5;)try{return await this['sendMessageWithTyping'](_0x3c7465,_0x23162d,_0x4ee806);}catch(_0x20db06){if(_0x255bdc++,_0x20db06 instanceof Error&&_0x20db06[_0x503c6b(0x5e0)]==='Connection\x20Closed'){if(_0x255bdc>=0x5)throw new m('Falha\x20após\x205\x20tentativas:\x20'+_0x20db06[_0x503c6b(0x5e0)]);this['logger'][_0x503c6b(0x1bc)](_0x503c6b(0x149)+_0x255bdc+'/5\x20falhou:\x20'+_0x20db06[_0x503c6b(0x5e0)]+'.\x20Tentando\x20novamente\x20em\x20'+0x1388/0x3e8+_0x503c6b(0x8c1)),await new Promise(_0x180b35=>setTimeout(_0x180b35,0x1388));}else throw new m(_0x20db06[_0x503c6b(0x5e0)]);}}async[a0_0x48e44b(0x73d)](_0x337532,_0x7c5f3e,_0x238c3a){const _0x10c466=a0_0x48e44b;let _0x388936;try{let _0x106769=(await this[_0x10c466(0x1aa)]({'numbers':[_0x337532]}))?.['shift']();if(!_0x106769[_0x10c466(0x380)]&&!(0x0,w[_0x10c466(0x26d)])(_0x106769[_0x10c466(0x1b3)])&&!_0x106769[_0x10c466(0x1b3)][_0x10c466(0x1d0)]('@broadcast'))throw new m(_0x106769);_0x388936=_0x106769[_0x10c466(0x1b3)];}catch(_0x442322){_0x388936=_0x337532,this[_0x10c466(0x470)][_0x10c466(0x1bc)](this[_0x10c466(0x25e)]+'\x20('+this[_0x10c466(0x844)][_0x10c466(0x16a)]+_0x10c466(0x632)+_0x442322[_0x10c466(0x5e0)]),this[_0x10c466(0x470)][_0x10c466(0x1bc)](this[_0x10c466(0x25e)]+'\x20('+this[_0x10c466(0x844)][_0x10c466(0x16a)]+_0x10c466(0x4fe)+_0x388936);}try{if(_0x388936||(_0x388936=_0x337532,this[_0x10c466(0x470)]['warn'](this[_0x10c466(0x25e)]+'\x20('+this['instance'][_0x10c466(0x16a)]+_0x10c466(0x214)+_0x388936)),_0x238c3a||(_0x238c3a={}),_0x238c3a?.[_0x10c466(0x3d3)]){await this[_0x10c466(0x70c)][_0x10c466(0x822)](_0x388936),await this[_0x10c466(0x70c)]['sendPresenceUpdate'](_0x238c3a?.[_0x10c466(0x2b8)]??_0x10c466(0x638),_0x388936);let _0x4a2e56=Math[_0x10c466(0x683)](_0x238c3a[_0x10c466(0x3d3)],0x2710);await(0x0,w[_0x10c466(0x3d3)])(_0x4a2e56),await this[_0x10c466(0x70c)][_0x10c466(0x610)](_0x10c466(0x354),_0x388936);}let _0x1ef6f5=_0x238c3a?.[_0x10c466(0x62d)]!=!0x1?void 0x0:!0x1,_0x3bb20e;if(_0x238c3a?.[_0x10c466(0x3e3)]){let _0x384e15=_0x238c3a?.[_0x10c466(0x3e3)],_0x2919e3=_0x384e15?.[_0x10c466(0x5e0)]?_0x384e15:await this['getMessage'](_0x384e15[_0x10c466(0x744)],!0x0);_0x2919e3&&(_0x3bb20e=_0x2919e3);}let _0x5b2746=await this[_0x10c466(0x850)]['chat'][_0x10c466(0x715)]({'where':{'_id':_0x388936}},this[_0x10c466(0x844)][_0x10c466(0x16a)]),_0x179f82,_0x5cc953=null;if((0x0,w['isJidGroup'])(_0x388936))try{if(_0x5cc953=_0x5b2746[_0x10c466(0x45c)],!_0x5cc953)throw new U(_0x10c466(0x1b2));if(!_0x5cc953[_0x10c466(0x75d)])throw new m(_0x10c466(0x629));_0x238c3a?.[_0x10c466(0x554)]&&(_0x238c3a[_0x10c466(0x554)]?.[_0x10c466(0x668)]?_0x179f82=_0x5cc953[_0x10c466(0x284)][_0x10c466(0x3ad)](_0x19c3a1=>_0x19c3a1['id']):_0x238c3a[_0x10c466(0x554)]?.[_0x10c466(0x519)]?.[_0x10c466(0x3b4)]&&(_0x179f82=_0x238c3a[_0x10c466(0x554)][_0x10c466(0x519)]['map'](_0x3fd2e7=>{const _0x4b083b=_0x10c466;let _0x370871=this[_0x4b083b(0x639)](_0x3fd2e7);return(0x0,w[_0x4b083b(0x26d)])(_0x370871)?null:_0x370871;})));}catch(_0x1f12d2){throw _0x1f12d2 instanceof U?new U('Grupo\x20não\x20encontrado'):_0x1f12d2 instanceof m?new m(_0x10c466(0x629)):new Error('Erro\x20desconhecido\x20ao\x20tentar\x20enviar\x20mensagem\x20para\x20o\x20grupo');}let _0x273d7b=await((async()=>{const _0x56ff98=_0x10c466;let _0x2f05a8={'quoted':_0x3bb20e,'ephemeralExpiration':_0x5b2746?.[_0x56ff98(0x254)]??0x0};if(!_0x7c5f3e['audio']&&!_0x7c5f3e[_0x56ff98(0x74f)]&&!_0x7c5f3e[_0x56ff98(0x328)]&&!_0x7c5f3e[_0x56ff98(0x803)]&&_0x388936!==_0x56ff98(0x82c)&&_0x7c5f3e[_0x56ff98(0x392)])return await this[_0x56ff98(0x70c)][_0x56ff98(0x3bd)](_0x388936,{'react':{'text':_0x7c5f3e[_0x56ff98(0x392)][_0x56ff98(0x1de)],'key':_0x7c5f3e[_0x56ff98(0x392)]['key']}},_0x2f05a8);if(_0x7c5f3e['conversation']){let _0x1e4b11=_0x7c5f3e[_0x56ff98(0x803)];return _0x238c3a?.[_0x56ff98(0x6ab)]&&(_0x1e4b11=await this[_0x56ff98(0x781)](_0x1e4b11,_0x388936)),await this[_0x56ff98(0x70c)][_0x56ff98(0x3bd)](_0x388936,{'text':_0x1e4b11,'mentions':_0x179f82,'linkPreview':_0x1ef6f5},_0x2f05a8);}return!_0x7c5f3e['audio']&&!_0x7c5f3e[_0x56ff98(0x74f)]&&_0x388936!=_0x56ff98(0x82c)?await this['client'][_0x56ff98(0x3bd)](_0x388936,{'forward':{'key':{'remoteJid':this[_0x56ff98(0x844)]['wuid'],'fromMe':!0x0},'message':_0x7c5f3e},'mentions':_0x179f82},_0x2f05a8):_0x388936===_0x56ff98(0x82c)?await this['client'][_0x56ff98(0x3bd)](_0x388936,_0x7c5f3e[_0x56ff98(0x485)][_0x56ff98(0x551)],{'backgroundColor':_0x7c5f3e['status'][_0x56ff98(0x54c)][_0x56ff98(0x580)],'font':_0x7c5f3e[_0x56ff98(0x485)][_0x56ff98(0x54c)][_0x56ff98(0x545)],'statusJidList':_0x7c5f3e[_0x56ff98(0x485)][_0x56ff98(0x54c)][_0x56ff98(0x2eb)]}):await this[_0x56ff98(0x70c)][_0x56ff98(0x3bd)](_0x388936,_0x7c5f3e,_0x2f05a8);})()),_0x50a598=(0x0,w[_0x10c466(0x1e8)])(_0x273d7b[_0x10c466(0x5e0)]),_0x4df49b=(0x0,w['getContentType'])(_0x50a598),{message_normalized:_0x5dcf21}=this[_0x10c466(0x26a)](_0x50a598,_0x4df49b,null),_0x489393={'_id':_0x273d7b['key']['id'],'key':_0x273d7b[_0x10c466(0x744)],'pushName':_0x273d7b[_0x10c466(0x619)],'isGroup':_0x273d7b[_0x10c466(0x744)][_0x10c466(0x713)]['endsWith'](_0x10c466(0x4cd)),'profilePictureUrl':this[_0x10c466(0x844)][_0x10c466(0x79d)],'message':_0x50a598,'messageType':_0x4df49b,'message_normalized':{'key':_0x273d7b[_0x10c466(0x744)],'pushName':_0x273d7b[_0x10c466(0x619)],'messageTimestamp':_0x273d7b[_0x10c466(0x321)]&&_0x273d7b[_0x10c466(0x321)][_0x10c466(0x691)]()[_0x10c466(0x3b4)]<0xd?_0x273d7b[_0x10c466(0x321)]*0x3e8:_0x273d7b[_0x10c466(0x321)]||null,'source':(0x0,w[_0x10c466(0x4cf)])(_0x273d7b[_0x10c466(0x744)]['id']),..._0x5dcf21},'messageTimestamp':_0x273d7b[_0x10c466(0x321)]&&_0x273d7b['messageTimestamp']['toString']()[_0x10c466(0x3b4)]<0xd?_0x273d7b[_0x10c466(0x321)]*0x3e8:_0x273d7b[_0x10c466(0x321)]||null,'owner':this[_0x10c466(0x844)][_0x10c466(0x16a)],'source':(0x0,w[_0x10c466(0x4cf)])(_0x273d7b[_0x10c466(0x744)]['id'])};return this[_0x10c466(0x470)][_0x10c466(0x1bc)](this[_0x10c466(0x25e)]+'\x20('+this[_0x10c466(0x844)][_0x10c466(0x16a)]+'):\x20enviado\x20para\x20['+_0x489393[_0x10c466(0x744)]?.[_0x10c466(0x713)][_0x10c466(0x67e)]('@s.whatsapp.net','')+_0x10c466(0x623)+_0x489393[_0x10c466(0x82d)]+')'),_0x489393[_0x10c466(0x7bf)]?.[_0x10c466(0x1de)]&&this['logger'][_0x10c466(0x1bc)](_0x489393['message_normalized']?.['text']),this['sendDataWebhook']('send.message',_0x489393),F(this['instanceName'],_0x10c466(0x7ff),{'message':_0x489393}),this[_0x10c466(0x606)](this['configService']['get'](_0x10c466(0x4c1)),_0x489393,_0x10c466(0x529),_0x5b2746),await this[_0x10c466(0x850)][_0x10c466(0x5e0)][_0x10c466(0x411)]([_0x489393],this[_0x10c466(0x844)]['wuid']),_0x273d7b;}catch(_0x12f770){let _0x4f2cb3=_0x10c466(0x3f0)+_0x388936,_0xed4334=_0x12f770 instanceof Error?_0x12f770[_0x10c466(0x5e0)]:typeof _0x12f770=='object'?JSON[_0x10c466(0x365)](_0x12f770):_0x12f770,_0x116644=_0x4f2cb3+':\x20'+_0xed4334;throw this['logger'][_0x10c466(0x16b)](this[_0x10c466(0x25e)]+'\x20('+this[_0x10c466(0x844)][_0x10c466(0x16a)]+_0x10c466(0x741)+_0x116644),new m(_0x116644);}}async['sendMessageWithTypingButtons'](_0x450b06,_0x1852e6,_0x198c00){const _0x3b7b06=a0_0x48e44b;let _0x533b93=this[_0x3b7b06(0x639)](_0x450b06),_0x3e72fd=(await this[_0x3b7b06(0x1aa)]({'numbers':[_0x533b93]}))[0x0];if(!_0x3e72fd['exists']&&!(0x0,w['isJidGroup'])(_0x3e72fd[_0x3b7b06(0x1b3)]))throw new m(_0x3e72fd);let _0x54e2a4=(0x0,w[_0x3b7b06(0x26d)])(_0x533b93)?_0x533b93:_0x3e72fd[_0x3b7b06(0x1b3)];if((0x0,w[_0x3b7b06(0x26d)])(_0x54e2a4))try{await this[_0x3b7b06(0x70c)][_0x3b7b06(0x617)](_0x54e2a4);}catch{throw new m(_0x3b7b06(0x41c));}try{_0x198c00?.[_0x3b7b06(0x3d3)]&&(await this[_0x3b7b06(0x70c)][_0x3b7b06(0x822)](_0x54e2a4),await this[_0x3b7b06(0x70c)][_0x3b7b06(0x610)](_0x198c00?.[_0x3b7b06(0x2b8)]??'composing',_0x533b93),await(0x0,w[_0x3b7b06(0x3d3)])(_0x198c00[_0x3b7b06(0x3d3)]),await this[_0x3b7b06(0x70c)]['sendPresenceUpdate'](_0x3b7b06(0x354),_0x54e2a4));let _0x6e3a24=await((async()=>{const _0xe58c94=_0x3b7b06;let _0x4f8886,_0x3f0e0a='3EB0'+(0x0,ne[_0xe58c94(0x8b9)])(0x12)['toString'](_0xe58c94(0x47d))[_0xe58c94(0x7e2)](),_0x2dfe86=(0x0,w[_0xe58c94(0x248)])(_0x54e2a4,_0x1852e6,{'timestamp':new Date(),'userJid':this[_0xe58c94(0x844)][_0xe58c94(0x16a)],'messageId':_0x3f0e0a,'quoted':_0x4f8886}),_0x30ecfc=await this['client'][_0xe58c94(0x3e8)](_0x54e2a4,_0x2dfe86[_0xe58c94(0x5e0)],{'messageId':_0x3f0e0a});_0x2dfe86['key']={'id':_0x30ecfc,'remoteJid':_0x533b93,'participant':(0x0,w[_0xe58c94(0x2c5)])(_0x533b93)?void 0x0:_0x533b93,'fromMe':!0x0};for(let [_0x34a2f6,_0x495717]of Object['entries'](_0x2dfe86))(!_0x495717||Array[_0xe58c94(0x59d)](_0x495717)&&_0x495717['length']===0x0)&&delete _0x2dfe86[_0x34a2f6];return this[_0xe58c94(0x70c)]['ev'][_0xe58c94(0x893)](_0xe58c94(0x36a),{'messages':[_0x2dfe86],'type':_0xe58c94(0x4de)}),_0x2dfe86;})()),_0x2268ee=await this['repository'][_0x3b7b06(0x176)][_0x3b7b06(0x715)]({'where':{'_id':_0x54e2a4}},this[_0x3b7b06(0x844)][_0x3b7b06(0x16a)]),_0x1ada9=(0x0,w['normalizeMessageContent'])(_0x6e3a24['message']),_0x3473f1=(0x0,w[_0x3b7b06(0x6b1)])(_0x1ada9),{message_normalized:_0x171cff}=this[_0x3b7b06(0x26a)](_0x1ada9,_0x3473f1,null),_0x39d725={'_id':_0x6e3a24[_0x3b7b06(0x744)]['id'],'key':_0x6e3a24['key'],'pushName':_0x6e3a24[_0x3b7b06(0x619)],'isGroup':_0x6e3a24[_0x3b7b06(0x744)][_0x3b7b06(0x713)][_0x3b7b06(0x5b8)](_0x3b7b06(0x4cd)),'profilePictureUrl':this[_0x3b7b06(0x844)][_0x3b7b06(0x79d)],'message':_0x1ada9,'messageType':_0x3473f1,'message_normalized':{'key':_0x6e3a24[_0x3b7b06(0x744)],'pushName':_0x6e3a24[_0x3b7b06(0x619)],'messageTimestamp':_0x6e3a24[_0x3b7b06(0x321)]&&_0x6e3a24[_0x3b7b06(0x321)][_0x3b7b06(0x691)]()[_0x3b7b06(0x3b4)]<0xd?_0x6e3a24[_0x3b7b06(0x321)]*0x3e8:_0x6e3a24[_0x3b7b06(0x321)]||null,'source':(0x0,w[_0x3b7b06(0x4cf)])(_0x6e3a24[_0x3b7b06(0x744)]['id']),..._0x171cff},'messageTimestamp':_0x6e3a24[_0x3b7b06(0x321)]&&_0x6e3a24[_0x3b7b06(0x321)][_0x3b7b06(0x691)]()[_0x3b7b06(0x3b4)]<0xd?_0x6e3a24[_0x3b7b06(0x321)]*0x3e8:_0x6e3a24[_0x3b7b06(0x321)]||null,'owner':this[_0x3b7b06(0x844)][_0x3b7b06(0x16a)],'source':(0x0,w[_0x3b7b06(0x4cf)])(_0x6e3a24['key']['id'])};return this[_0x3b7b06(0x470)]['warn'](this[_0x3b7b06(0x25e)]+'\x20('+this[_0x3b7b06(0x844)][_0x3b7b06(0x16a)]+_0x3b7b06(0x6a3)+_0x39d725[_0x3b7b06(0x744)]?.['remoteJid']['replace'](_0x3b7b06(0x212),'')+']\x20('+_0x39d725[_0x3b7b06(0x82d)]+')'),_0x39d725[_0x3b7b06(0x7bf)]?.[_0x3b7b06(0x1de)]&&this[_0x3b7b06(0x470)][_0x3b7b06(0x1bc)](_0x39d725['message_normalized']?.[_0x3b7b06(0x1de)]),this[_0x3b7b06(0x3b6)]('send.message',_0x39d725),F(this['instanceName'],_0x3b7b06(0x7ff),{'message':_0x39d725}),this['updateChatWithMessage'](this[_0x3b7b06(0x1b4)][_0x3b7b06(0x84e)](_0x3b7b06(0x4c1)),_0x39d725,_0x3b7b06(0x529),_0x2268ee),await this[_0x3b7b06(0x850)][_0x3b7b06(0x5e0)][_0x3b7b06(0x411)]([_0x39d725],this[_0x3b7b06(0x844)][_0x3b7b06(0x16a)]),_0x6e3a24;}catch(_0x2fe721){throw this['logger'][_0x3b7b06(0x16b)](_0x2fe721),new m(_0x2fe721[_0x3b7b06(0x691)]());}}get[a0_0x48e44b(0x595)](){const _0x4c68ad=a0_0x48e44b;return this[_0x4c68ad(0x840)];}async[a0_0x48e44b(0x2f4)](_0x564d0f){const _0x171bb5=a0_0x48e44b;return await this[_0x171bb5(0x55f)](_0x564d0f[_0x171bb5(0x156)],{'conversation':_0x564d0f[_0x171bb5(0x2f4)][_0x171bb5(0x1de)]},_0x564d0f?.['options']);}async[a0_0x48e44b(0x26b)](_0x430e2c){const _0x447a04=a0_0x48e44b;if(!_0x430e2c['type'])throw new m('Type\x20is\x20required');if(!_0x430e2c[_0x447a04(0x551)])throw new m(_0x447a04(0x159));if(_0x430e2c['allContacts']){let _0x51e5d0=await this[_0x447a04(0x850)]['contact']['find']({'where':{}},this[_0x447a04(0x844)][_0x447a04(0x16a)]);if(!_0x51e5d0[_0x447a04(0x3b4)])throw new m(_0x447a04(0x28f));_0x430e2c['statusJidList']=_0x51e5d0[_0x447a04(0x20c)](_0xde17d=>_0xde17d[_0x447a04(0x619)])[_0x447a04(0x3ad)](_0xe821d4=>_0xe821d4['_id']);}if(!_0x430e2c[_0x447a04(0x2eb)]?.[_0x447a04(0x3b4)]&&!_0x430e2c[_0x447a04(0x33b)])throw new m('StatusJidList\x20is\x20required');if(_0x430e2c['type']===_0x447a04(0x1de)){if(!_0x430e2c[_0x447a04(0x580)])throw new m('Background\x20color\x20is\x20required');if(!_0x430e2c[_0x447a04(0x545)])throw new m(_0x447a04(0x25c));return{'content':{'text':_0x430e2c[_0x447a04(0x551)]},'option':{'backgroundColor':_0x430e2c['backgroundColor'],'font':_0x430e2c[_0x447a04(0x545)],'statusJidList':_0x430e2c[_0x447a04(0x2eb)]}};}if(_0x430e2c[_0x447a04(0x418)]===_0x447a04(0x305))return{'content':{'image':{'url':_0x430e2c[_0x447a04(0x551)]},'caption':_0x430e2c[_0x447a04(0x1e7)]},'option':{'statusJidList':_0x430e2c[_0x447a04(0x2eb)]}};if(_0x430e2c[_0x447a04(0x418)]===_0x447a04(0x56a))return{'content':{'video':{'url':_0x430e2c[_0x447a04(0x551)]},'caption':_0x430e2c[_0x447a04(0x1e7)]},'option':{'statusJidList':_0x430e2c[_0x447a04(0x2eb)]}};if(_0x430e2c[_0x447a04(0x418)]===_0x447a04(0x6de)){this[_0x447a04(0x470)][_0x447a04(0x4b1)](this[_0x447a04(0x25e)]+'\x20('+this[_0x447a04(0x844)][_0x447a04(0x16a)]+'):Type\x20defined\x20as\x20audio'),this[_0x447a04(0x470)][_0x447a04(0x4b1)](this[_0x447a04(0x25e)]+'\x20('+this[_0x447a04(0x844)]['wuid']+'):Processing\x20audio');let _0x56a670=await this[_0x447a04(0x448)](_0x430e2c[_0x447a04(0x551)]);if(typeof _0x56a670==_0x447a04(0x292)){this[_0x447a04(0x470)]['verbose'](this[_0x447a04(0x25e)]+'\x20('+this[_0x447a04(0x844)][_0x447a04(0x16a)]+_0x447a04(0x2d8));let _0x4df282=k['readFileSync'](_0x56a670)[_0x447a04(0x691)](_0x447a04(0x30b));return{'content':{'audio':Buffer[_0x447a04(0x1e9)](_0x4df282,_0x447a04(0x30b)),'ptt':!0x0,'mimetype':_0x447a04(0x4f1)},'option':{'statusJidList':_0x430e2c['statusJidList']}};}else throw new x(_0x56a670);}throw new m(_0x447a04(0x359));}async[a0_0x48e44b(0x202)](_0x265386){const _0x94064d=a0_0x48e44b;return await this[_0x94064d(0x55f)](_0x94064d(0x82c),{'status':await this['formatStatusMessage'](_0x265386['statusMessage'])});}async['prepareMediaMessage'](_0x52c7b2){const _0x4f265b=a0_0x48e44b;try{let _0x5d9d8a=await(0x0,w[_0x4f265b(0x7b3)])({[_0x52c7b2[_0x4f265b(0x66e)]]:(0x0,J[_0x4f265b(0x403)])(_0x52c7b2[_0x4f265b(0x4b3)])?{'url':_0x52c7b2[_0x4f265b(0x4b3)]}:Buffer[_0x4f265b(0x1e9)](_0x52c7b2[_0x4f265b(0x4b3)],_0x4f265b(0x30b))},{'upload':this[_0x4f265b(0x70c)][_0x4f265b(0x3e0)]}),_0x2055d1=_0x52c7b2[_0x4f265b(0x66e)]+_0x4f265b(0x658);if(_0x52c7b2['mediatype']===_0x4f265b(0x44e)&&!_0x52c7b2[_0x4f265b(0x3ca)]){let _0x4185ce=new RegExp(/.*\/(.+?)\./)['exec'](_0x52c7b2['media']);_0x52c7b2[_0x4f265b(0x3ca)]=_0x4185ce?_0x4185ce[0x1]:null;}let _0x2ad963;return(0x0,J[_0x4f265b(0x403)])(_0x52c7b2['media'])?_0x2ad963=(await Q[_0x4f265b(0x875)][_0x4f265b(0x84e)](_0x52c7b2[_0x4f265b(0x4b3)],{'responseType':_0x4f265b(0x5a2)}))[_0x4f265b(0x6db)][_0x4f265b(0x207)]:_0x2ad963=(0x0,_i['getMIMEType'])(_0x52c7b2[_0x4f265b(0x3ca)]),_0x5d9d8a[_0x2055d1]['caption']=_0x52c7b2?.[_0x4f265b(0x1e7)],_0x5d9d8a[_0x2055d1][_0x4f265b(0x1b9)]=_0x2ad963,_0x5d9d8a[_0x2055d1]['fileName']=_0x52c7b2[_0x4f265b(0x3ca)],_0x52c7b2[_0x4f265b(0x66e)]===_0x4f265b(0x56a)&&(_0x5d9d8a[_0x2055d1][_0x4f265b(0x3c0)]=Uint8Array['from']((0x0,Le['readFileSync'])((0x0,j[_0x4f265b(0x739)])(process[_0x4f265b(0x736)](),_0x4f265b(0x6f3)))),_0x5d9d8a[_0x2055d1]['gifPlayback']=!0x1),(0x0,w[_0x4f265b(0x248)])('',{[_0x2055d1]:{..._0x5d9d8a[_0x2055d1]}},{'userJid':this[_0x4f265b(0x844)]['wuid']});}catch(_0x4f3745){let _0x481b8b=_0x4f265b(0x209),_0x7dca10=_0x4f3745 instanceof Error?_0x4f3745['message']:typeof _0x4f3745==_0x4f265b(0x892)?JSON[_0x4f265b(0x365)](_0x4f3745):_0x4f3745,_0x449a3f=_0x481b8b+':\x20'+_0x7dca10;throw this[_0x4f265b(0x470)][_0x4f265b(0x16b)](this[_0x4f265b(0x25e)]+'\x20('+this[_0x4f265b(0x844)][_0x4f265b(0x16a)]+_0x4f265b(0x741)+_0x449a3f),new x(_0x449a3f);}}async[a0_0x48e44b(0x596)](_0x4efa3f){const _0x149f90=a0_0x48e44b;let _0x4f9014=await this[_0x149f90(0x7a4)](_0x4efa3f[_0x149f90(0x596)]);return await this[_0x149f90(0x55f)](_0x4efa3f['number'],{..._0x4f9014[_0x149f90(0x5e0)]},_0x4efa3f?.[_0x149f90(0x2d2)]);}async[a0_0x48e44b(0x262)](_0x34b9d1,_0x370fe8){const _0x5a0108=a0_0x48e44b;try{this[_0x5a0108(0x470)]['verbose'](this[_0x5a0108(0x25e)]+'\x20('+this['instance'][_0x5a0108(0x16a)]+_0x5a0108(0x805));let _0x4ea0e0,_0x315d8f=_0x370fe8+'-'+new Date()[_0x5a0108(0x498)]();this[_0x5a0108(0x470)][_0x5a0108(0x4b1)](this[_0x5a0108(0x25e)]+'\x20('+this[_0x5a0108(0x844)][_0x5a0108(0x16a)]+_0x5a0108(0x752)+_0x315d8f);let _0x298db2=''+(0x0,j[_0x5a0108(0x739)])(this['storePath'],_0x315d8f+'.webp');if(this[_0x5a0108(0x470)][_0x5a0108(0x4b1)](this['instanceName']+'\x20('+this['instance'][_0x5a0108(0x16a)]+_0x5a0108(0x563)+_0x298db2),(0x0,J[_0x5a0108(0x685)])(_0x34b9d1)){this[_0x5a0108(0x470)][_0x5a0108(0x4b1)](this[_0x5a0108(0x25e)]+'\x20('+this['instance']['wuid']+'):Image\x20is\x20base64');let _0x2ff806=_0x34b9d1['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x5573a6=Buffer[_0x5a0108(0x1e9)](_0x2ff806,_0x5a0108(0x30b));_0x4ea0e0=''+(0x0,j[_0x5a0108(0x739)])(this[_0x5a0108(0x8b8)],_0x5a0108(0x3cb)+_0x315d8f+_0x5a0108(0x508)),this[_0x5a0108(0x470)][_0x5a0108(0x4b1)](this[_0x5a0108(0x25e)]+'\x20('+this[_0x5a0108(0x844)][_0x5a0108(0x16a)]+_0x5a0108(0x85b)+_0x4ea0e0),await(0x0,Ut['default'])(_0x5573a6)['toFile'](_0x4ea0e0),this[_0x5a0108(0x470)][_0x5a0108(0x4b1)](this[_0x5a0108(0x25e)]+'\x20('+this[_0x5a0108(0x844)]['wuid']+_0x5a0108(0x2ba));}else{this[_0x5a0108(0x470)][_0x5a0108(0x4b1)](this[_0x5a0108(0x25e)]+'\x20('+this[_0x5a0108(0x844)][_0x5a0108(0x16a)]+'):Image\x20is\x20url');let _0x291e43=new Date()[_0x5a0108(0x498)](),_0x1b33ff=_0x34b9d1+_0x5a0108(0x762)+_0x291e43;this['logger'][_0x5a0108(0x4b1)](this[_0x5a0108(0x25e)]+'\x20('+this[_0x5a0108(0x844)][_0x5a0108(0x16a)]+'):including\x20timestamp\x20in\x20url:\x20'+_0x1b33ff);let _0x10fff9=await Q[_0x5a0108(0x875)][_0x5a0108(0x84e)](_0x1b33ff,{'responseType':_0x5a0108(0x5a2)});this[_0x5a0108(0x470)][_0x5a0108(0x4b1)](this[_0x5a0108(0x25e)]+'\x20('+this[_0x5a0108(0x844)][_0x5a0108(0x16a)]+_0x5a0108(0x79f));let _0x462acc=Buffer[_0x5a0108(0x1e9)](_0x10fff9[_0x5a0108(0x693)],_0x5a0108(0x640));_0x4ea0e0=''+(0x0,j[_0x5a0108(0x739)])(this[_0x5a0108(0x8b8)],_0x5a0108(0x3cb)+_0x315d8f+_0x5a0108(0x508)),this['logger'][_0x5a0108(0x4b1)](this['instanceName']+'\x20('+this[_0x5a0108(0x844)]['wuid']+_0x5a0108(0x85b)+_0x4ea0e0),await(0x0,Ut['default'])(_0x462acc)[_0x5a0108(0x5f2)](_0x4ea0e0),this[_0x5a0108(0x470)][_0x5a0108(0x4b1)](this[_0x5a0108(0x25e)]+'\x20('+this[_0x5a0108(0x844)][_0x5a0108(0x16a)]+_0x5a0108(0x2ba));}return await(0x0,Ut[_0x5a0108(0x875)])(_0x4ea0e0)['webp']()[_0x5a0108(0x5f2)](_0x298db2),this[_0x5a0108(0x470)][_0x5a0108(0x4b1)](this[_0x5a0108(0x25e)]+'\x20('+this[_0x5a0108(0x844)][_0x5a0108(0x16a)]+'):Image\x20converted\x20to\x20WebP'),k['unlinkSync'](_0x4ea0e0),this[_0x5a0108(0x470)]['verbose'](this[_0x5a0108(0x25e)]+'\x20('+this[_0x5a0108(0x844)][_0x5a0108(0x16a)]+_0x5a0108(0x657)),_0x298db2;}catch(_0x1fba9e){let _0x4a8f47=_0x5a0108(0x441),_0x4c6ff4=_0x1fba9e instanceof Error?_0x1fba9e['message']:typeof _0x1fba9e==_0x5a0108(0x892)?JSON[_0x5a0108(0x365)](_0x1fba9e):_0x1fba9e,_0x543ec8=_0x4a8f47+':\x20'+_0x4c6ff4;this['logger'][_0x5a0108(0x16b)](this[_0x5a0108(0x25e)]+'\x20('+this[_0x5a0108(0x844)][_0x5a0108(0x16a)]+_0x5a0108(0x741)+_0x543ec8);}}async[a0_0x48e44b(0x293)](_0x472b5a){const _0x338878=a0_0x48e44b;let _0xe5ae2c=await this[_0x338878(0x262)](_0x472b5a[_0x338878(0x772)][_0x338878(0x305)],_0x472b5a[_0x338878(0x156)]),_0x1b28c9=await this[_0x338878(0x55f)](_0x472b5a[_0x338878(0x156)],{'sticker':{'url':_0xe5ae2c}},_0x472b5a?.[_0x338878(0x2d2)]);return k['unlinkSync'](_0xe5ae2c),this[_0x338878(0x470)]['verbose'](this['instanceName']+'\x20('+this[_0x338878(0x844)][_0x338878(0x16a)]+_0x338878(0x5c2)),_0x1b28c9;}async[a0_0x48e44b(0x29a)](_0x1a7866){const _0x266368=a0_0x48e44b;if(this[_0x266368(0x470)][_0x266368(0x4b1)](this[_0x266368(0x25e)]+'\x20('+this[_0x266368(0x844)][_0x266368(0x16a)]+_0x266368(0x7d6)),!_0x1a7866[_0x266368(0x2d2)]?.['encoding']&&_0x1a7866[_0x266368(0x2d2)]?.[_0x266368(0x7aa)]!==!0x1&&(_0x1a7866[_0x266368(0x2d2)]['encoding']=!0x0),_0x1a7866[_0x266368(0x2d2)]?.[_0x266368(0x7aa)]){let _0x4644de=await this[_0x266368(0x448)](_0x1a7866[_0x266368(0x225)][_0x266368(0x6de)]);if(typeof _0x4644de=='string'){let _0x581d7c=k[_0x266368(0x67f)](_0x4644de)[_0x266368(0x691)](_0x266368(0x30b));return this[_0x266368(0x55f)](_0x1a7866[_0x266368(0x156)],{'audio':Buffer[_0x266368(0x1e9)](_0x581d7c,_0x266368(0x30b)),'ptt':!0x0,'mimetype':_0x266368(0x46c)},{'presence':_0x266368(0x375),'delay':_0x1a7866?.['options']?.[_0x266368(0x3d3)]});}else throw new x(_0x4644de);}return await this['sendMessageWithRetry'](_0x1a7866[_0x266368(0x156)],{'audio':(0x0,J[_0x266368(0x403)])(_0x1a7866[_0x266368(0x225)]['audio'])?{'url':_0x1a7866['audioMessage'][_0x266368(0x6de)]}:Buffer[_0x266368(0x1e9)](_0x1a7866[_0x266368(0x225)][_0x266368(0x6de)],'base64'),'ptt':!0x0,'mimetype':_0x266368(0x46c)},{'presence':_0x266368(0x375),'delay':_0x1a7866?.[_0x266368(0x2d2)]?.[_0x266368(0x3d3)]});}async[a0_0x48e44b(0x448)](_0x532179){const _0x65787e=a0_0x48e44b;this['logger'][_0x65787e(0x4b1)](this['instanceName']+'\x20('+this[_0x65787e(0x844)][_0x65787e(0x16a)]+_0x65787e(0x79c));let _0xde2f6a=(0x0,J['isURL'])(_0x532179)?(0x0,ne['createHash'])('sha256')[_0x65787e(0x453)](_0x532179)[_0x65787e(0x2b0)](_0x65787e(0x47d)):(0x0,ne[_0x65787e(0x51b)])(_0x65787e(0x77c))[_0x65787e(0x453)](_0x532179)[_0x65787e(0x2b0)](_0x65787e(0x47d)),_0x19f24b=''+(0x0,j['join'])(this[_0x65787e(0x8b8)],_0xde2f6a+'.ogg');if(k[_0x65787e(0x634)](_0x19f24b))return this[_0x65787e(0x470)][_0x65787e(0x4b1)](this[_0x65787e(0x25e)]+'\x20('+this[_0x65787e(0x844)]['wuid']+_0x65787e(0x478)),_0x19f24b;let _0x2eaacd=''+(0x0,j[_0x65787e(0x739)])(this[_0x65787e(0x8b8)],_0x65787e(0x3cb)+(0x0,Y['v4'])()+'.mp3');if((0x0,J[_0x65787e(0x403)])(_0x532179)){let _0x17635c=new Date()[_0x65787e(0x498)](),_0x45e388=_0x532179+_0x65787e(0x762)+_0x17635c,_0x14c826=await Q['default']['get'](_0x45e388,{'responseType':_0x65787e(0x5a2)});k[_0x65787e(0x37b)](_0x2eaacd,_0x14c826['data']);}else{let _0x2f59bb=Buffer[_0x65787e(0x1e9)](_0x532179,_0x65787e(0x30b));k[_0x65787e(0x37b)](_0x2eaacd,_0x2f59bb);}return new Promise((_0x6ab0e6,_0x15da32)=>{const _0x4d157d=_0x65787e;(0x0,Fe[_0x4d157d(0x703)])(Ps[_0x4d157d(0x875)]['path']+'\x20-i\x20'+_0x2eaacd+_0x4d157d(0x86b)+_0x19f24b+_0x4d157d(0x66c),_0x1067f3=>{const _0x47e7c1=_0x4d157d;if(k[_0x47e7c1(0x406)](_0x2eaacd),_0x1067f3){this[_0x47e7c1(0x470)]['verbose'](this[_0x47e7c1(0x25e)]+'\x20('+this[_0x47e7c1(0x844)][_0x47e7c1(0x16a)]+_0x47e7c1(0x238)),_0x15da32(_0x1067f3);return;}this['logger']['verbose'](this[_0x47e7c1(0x25e)]+'\x20('+this[_0x47e7c1(0x844)][_0x47e7c1(0x16a)]+_0x47e7c1(0x21c)),_0x6ab0e6(_0x19f24b);});});}async[a0_0x48e44b(0x2b5)](_0x284311){const _0x1a4466=a0_0x48e44b;this[_0x1a4466(0x470)][_0x1a4466(0x4b1)](this['instanceName']+'\x20('+this[_0x1a4466(0x844)][_0x1a4466(0x16a)]+_0x1a4466(0x79c));let _0x3d9103=(0x0,ne[_0x1a4466(0x51b)])(_0x1a4466(0x77c))[_0x1a4466(0x453)](_0x284311)[_0x1a4466(0x2b0)](_0x1a4466(0x47d)),_0x1812b2=''+(0x0,j[_0x1a4466(0x739)])(this[_0x1a4466(0x8b8)],_0x3d9103+_0x1a4466(0x7d0));if(k[_0x1a4466(0x634)](_0x1812b2))return this[_0x1a4466(0x470)][_0x1a4466(0x4b1)](this['instanceName']+'\x20('+this[_0x1a4466(0x844)][_0x1a4466(0x16a)]+_0x1a4466(0x478)),j[_0x1a4466(0x875)][_0x1a4466(0x33d)](_0x1812b2);let _0x2bf9de=''+(0x0,j[_0x1a4466(0x739)])(this[_0x1a4466(0x8b8)],'temp-'+_0x3d9103+_0x1a4466(0x780));if((0x0,J[_0x1a4466(0x403)])(_0x284311)){let _0x7ae739=new Date()['getTime'](),_0x856067=_0x284311+_0x1a4466(0x762)+_0x7ae739,_0x224889=await Q[_0x1a4466(0x875)][_0x1a4466(0x84e)](_0x856067,{'responseType':'arraybuffer'});k['writeFileSync'](_0x2bf9de,_0x224889[_0x1a4466(0x693)]);}else{let _0x5de34f=Buffer[_0x1a4466(0x1e9)](_0x284311,'base64');k[_0x1a4466(0x37b)](_0x2bf9de,_0x5de34f);}return new Promise((_0x55ea33,_0x4dd6a2)=>{const _0x50d76e=_0x1a4466;(0x0,Fe[_0x50d76e(0x703)])(Ps[_0x50d76e(0x875)]['path']+_0x50d76e(0x502)+_0x2bf9de+_0x50d76e(0x537)+_0x1812b2+_0x50d76e(0x66c),_0x2d94a6=>{const _0x498525=_0x50d76e;if(k[_0x498525(0x406)](_0x2bf9de),_0x2d94a6){this['logger'][_0x498525(0x4b1)](this[_0x498525(0x25e)]+'\x20('+this[_0x498525(0x844)][_0x498525(0x16a)]+_0x498525(0x238)),_0x4dd6a2(_0x2d94a6);return;}this[_0x498525(0x470)][_0x498525(0x4b1)](this[_0x498525(0x25e)]+'\x20('+this['instance']['wuid']+'):Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x55ea33(j[_0x498525(0x875)][_0x498525(0x33d)](_0x1812b2));});});}async['buttonMessage'](_0x58abf1){const _0x3af242=a0_0x48e44b;console[_0x3af242(0x84c)](_0x3af242(0x78b),_0x58abf1);let _0x123af8;try{_0x58abf1[_0x3af242(0x1a2)]?.[_0x3af242(0x732)]&&(_0x123af8=await this[_0x3af242(0x7a4)]({'mediatype':_0x3af242(0x305),'media':_0x58abf1[_0x3af242(0x1a2)][_0x3af242(0x732)]}));}catch(_0x240aa7){throw console[_0x3af242(0x16b)](_0x3af242(0x379),_0x240aa7),new Error(_0x3af242(0x53b));}try{let _0x4b5f85={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x3af242(0x34f)},'footer':{'text':_0x3af242(0x4e0)},'header':((()=>{const _0x2ab32c=_0x3af242;if(_0x123af8?.['message']?.['imageMessage'])return{'hasMediaAttachment':!!_0x123af8[_0x2ab32c(0x5e0)][_0x2ab32c(0x16c)],'imageMessage':_0x123af8[_0x2ab32c(0x5e0)][_0x2ab32c(0x16c)]};})()),'nativeFlowMessage':{'buttons':[{'name':_0x3af242(0x21b),'buttonParamsJson':JSON[_0x3af242(0x365)]({'display_text':_0x3af242(0x261),'id':'1'})},{'name':'quick_reply','buttonParamsJson':JSON[_0x3af242(0x365)]({'display_text':_0x3af242(0x621),'id':'2'})}],'messageParamsJson':JSON[_0x3af242(0x365)]({'from':'api','templateId':_0x3af242(0x46e)+(0x0,ne[_0x3af242(0x8b9)])(0x12)[_0x3af242(0x691)](_0x3af242(0x47d))['toUpperCase']()})}}}}};return await this[_0x3af242(0x37e)](_0x58abf1['number'],_0x4b5f85,_0x58abf1?.[_0x3af242(0x2d2)]);}catch(_0x983187){throw console[_0x3af242(0x16b)]('Error\x20in\x20buttonsMessage\x20function:',_0x983187),new Error(_0x3af242(0x64b));}}async[a0_0x48e44b(0x6ba)](_0x5d9934){const _0x1f6dd7=a0_0x48e44b;return await this['sendMessageWithRetry'](_0x5d9934[_0x1f6dd7(0x156)],{'locationMessage':{'degreesLatitude':_0x5d9934[_0x1f6dd7(0x6ba)]['latitude'],'degreesLongitude':_0x5d9934[_0x1f6dd7(0x6ba)][_0x1f6dd7(0x571)],'name':_0x5d9934['locationMessage']?.[_0x1f6dd7(0x5ff)],'address':_0x5d9934[_0x1f6dd7(0x6ba)]?.[_0x1f6dd7(0x467)]}},_0x5d9934?.[_0x1f6dd7(0x2d2)]);}async['contactMessage'](_0x6d9f38){const _0x3c9f46=a0_0x48e44b;let _0x97fc15={},_0x400d01=async _0x49548c=>{const _0x3326fe=a0_0x43f2;let _0x102e1f=_0x3326fe(0x5a8)+_0x49548c[_0x3326fe(0x78d)]+_0x3326fe(0x812)+_0x49548c[_0x3326fe(0x78d)]+'\x0a';_0x49548c['organization']&&(_0x102e1f+=_0x3326fe(0x2b3)+_0x49548c['organization']+';\x0a'),_0x49548c[_0x3326fe(0x2bf)]&&(_0x102e1f+=_0x3326fe(0x829)+_0x49548c[_0x3326fe(0x2bf)]+'\x0a'),_0x49548c['url']&&(_0x102e1f+='URL:'+_0x49548c[_0x3326fe(0x32b)]+'\x0a');let _0x266438='',_0x2d5017=0x1;if(_0x49548c[_0x3326fe(0x7a7)]){let _0x1527f3=_0x49548c[_0x3326fe(0x7a7)]['split']('|');for(let _0x4d43f6 of _0x1527f3){let _0x17390e=await this[_0x3326fe(0x1aa)]({'numbers':[_0x4d43f6]}),_0x52b510=(_0x17390e['length']>0x0?_0x17390e[0x0][_0x3326fe(0x1b3)]:this[_0x3326fe(0x639)](_0x4d43f6))[_0x3326fe(0x67e)](_0x3326fe(0x212),'');_0x266438+=_0x3326fe(0x353)+_0x2d5017+_0x3326fe(0x2bb)+_0x52b510+':'+_0x4d43f6+_0x3326fe(0x458)+_0x2d5017+_0x3326fe(0x8ab),_0x2d5017++;}}return _0x102e1f+=_0x266438+_0x3326fe(0x184),_0x102e1f;};return _0x6d9f38[_0x3c9f46(0x3e1)][_0x3c9f46(0x3b4)]===0x1?_0x97fc15[_0x3c9f46(0x3e1)]={'displayName':_0x6d9f38[_0x3c9f46(0x3e1)][0x0]['fullName'],'vcard':await _0x400d01(_0x6d9f38[_0x3c9f46(0x3e1)][0x0])}:_0x97fc15[_0x3c9f46(0x4ee)]={'displayName':_0x6d9f38['contactMessage'][_0x3c9f46(0x3b4)]+'\x20contacts','contacts':await Promise[_0x3c9f46(0x877)](_0x6d9f38[_0x3c9f46(0x3e1)]['map'](async _0x40222b=>({'displayName':_0x40222b[_0x3c9f46(0x78d)],'vcard':await _0x400d01(_0x40222b)})))},await this[_0x3c9f46(0x55f)](_0x6d9f38[_0x3c9f46(0x156)],{..._0x97fc15},_0x6d9f38?.['options']);}async[a0_0x48e44b(0x392)](_0x51c546){const _0x3919a7=a0_0x48e44b;return await this[_0x3919a7(0x55f)](_0x51c546[_0x3919a7(0x392)]['key'][_0x3919a7(0x713)],{'reactionMessage':{'key':_0x51c546[_0x3919a7(0x392)][_0x3919a7(0x744)],'text':_0x51c546[_0x3919a7(0x392)][_0x3919a7(0x43b)]}});}async[a0_0x48e44b(0x1aa)](_0x365bb9){const _0x24a2ef=a0_0x48e44b;let _0x35f91f=[];for await(let _0x577ba4 of _0x365bb9[_0x24a2ef(0x42e)]){let _0x335ced=this[_0x24a2ef(0x639)](_0x577ba4),_0x517dd0=!0x1;try{if((0x0,w[_0x24a2ef(0x26d)])(_0x335ced)){let _0x1fd3df=(await this['repository']['chat'][_0x24a2ef(0x715)]({'where':{'_id':_0x335ced}},this[_0x24a2ef(0x844)][_0x24a2ef(0x16a)]))[_0x24a2ef(0x45c)];_0x1fd3df?(_0x517dd0=!0x0,_0x35f91f[_0x24a2ef(0x518)](new ue(_0x1fd3df['id'],_0x517dd0,_0x1fd3df?.[_0x24a2ef(0x219)]))):(_0x1fd3df=await this[_0x24a2ef(0x626)]({'groupJid':_0x335ced},_0x24a2ef(0x1c4)),_0x35f91f[_0x24a2ef(0x518)](new ue(_0x1fd3df['id'],!!_0x1fd3df?.['id'],_0x1fd3df?.['subject'])));}else{if(_0x335ced['includes']('@broadcast'))_0x35f91f[_0x24a2ef(0x518)](new ue(_0x335ced,!0x0));else{let _0x4216d7=(await this[_0x24a2ef(0x70c)]['onWhatsApp'](_0x335ced))[0x0];_0x35f91f[_0x24a2ef(0x518)](new ue(_0x4216d7[_0x24a2ef(0x1b3)],_0x4216d7[_0x24a2ef(0x380)]));}}}catch{(0x0,w[_0x24a2ef(0x26d)])(_0x335ced)||await this[_0x24a2ef(0x858)](_0x335ced),_0x35f91f[_0x24a2ef(0x518)](new ue(_0x577ba4,!0x1));}}return _0x35f91f;}async[a0_0x48e44b(0x858)](_0xe435e6){const _0x3bd9ca=a0_0x48e44b;try{await this[_0x3bd9ca(0x850)][_0x3bd9ca(0x176)]['findOne']({'where':{'_id':_0xe435e6,'imported':!0x0}},this[_0x3bd9ca(0x844)][_0x3bd9ca(0x16a)])&&(await this['repository'][_0x3bd9ca(0x176)]['deleteChat'](_0xe435e6,this[_0x3bd9ca(0x844)][_0x3bd9ca(0x16a)]),this[_0x3bd9ca(0x470)][_0x3bd9ca(0x6cf)](_0x3bd9ca(0x199)+_0xe435e6+_0x3bd9ca(0x4ff)));}catch(_0x105135){let _0x495f25='Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat',_0x2b6e89=_0x105135 instanceof Error?_0x105135['message']:typeof _0x105135==_0x3bd9ca(0x892)?JSON[_0x3bd9ca(0x365)](_0x105135):_0x105135,_0x16295b=_0x495f25+':\x20'+_0x2b6e89;this[_0x3bd9ca(0x470)][_0x3bd9ca(0x16b)](this['instanceName']+'\x20('+this[_0x3bd9ca(0x844)][_0x3bd9ca(0x16a)]+_0x3bd9ca(0x741)+_0x16295b);}}async[a0_0x48e44b(0x2fd)](_0x516a28){const _0x1ccbfa=a0_0x48e44b;try{let _0xd42d6d=_0x516a28[_0x1ccbfa(0x6e1)]['filter'](_0x2f2176=>(0x0,w[_0x1ccbfa(0x26d)])(_0x2f2176[_0x1ccbfa(0x713)])||(0x0,w[_0x1ccbfa(0x2c5)])(_0x2f2176['remoteJid']))['map'](_0x37c658=>({'remoteJid':_0x37c658['remoteJid'],'fromMe':_0x37c658[_0x1ccbfa(0x479)],'id':_0x37c658['id']}));await this[_0x1ccbfa(0x70c)][_0x1ccbfa(0x6e1)](_0xd42d6d);let _0x4ea7a7=_0xd42d6d['map'](_0x436239=>this['updateMessage'](_0x436239,{'status':'READ','owner':this[_0x1ccbfa(0x844)][_0x1ccbfa(0x16a)]})),_0x3ad7a4=_0xd42d6d['map'](_0xc11ebb=>this[_0x1ccbfa(0x850)][_0x1ccbfa(0x176)][_0x1ccbfa(0x7b8)]({'where':{'_id':_0xc11ebb[_0x1ccbfa(0x713)]}},{'unreadcount':0x0},this['instance'][_0x1ccbfa(0x16a)])),[_0x5dbcdf,_0x22c4dc]=await Promise[_0x1ccbfa(0x877)]([Promise[_0x1ccbfa(0x877)](_0x4ea7a7),Promise['all'](_0x3ad7a4)]);return _0x22c4dc['filter'](_0x207d35=>_0x207d35!==null)[_0x1ccbfa(0x3f6)](_0x2dcb32=>{const _0x50e064=_0x1ccbfa;F(this[_0x50e064(0x25e)],_0x50e064(0x482),{'chat':_0x2dcb32});}),{'message':_0x1ccbfa(0x18f),'read':_0x1ccbfa(0x5a0)};}catch(_0x2b64c3){let _0x2e2987='Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida',_0x565921=_0x2b64c3 instanceof Error?_0x2b64c3[_0x1ccbfa(0x5e0)]:typeof _0x2b64c3==_0x1ccbfa(0x892)?JSON['stringify'](_0x2b64c3):_0x2b64c3,_0x4c3fcb=_0x2e2987+':\x20'+_0x565921;throw this[_0x1ccbfa(0x470)][_0x1ccbfa(0x16b)](this[_0x1ccbfa(0x25e)]+'\x20('+this[_0x1ccbfa(0x844)][_0x1ccbfa(0x16a)]+_0x1ccbfa(0x741)+_0x4c3fcb),new x(_0x4c3fcb);}}async[a0_0x48e44b(0x290)](_0x2d6aae){const _0x5b3a78=a0_0x48e44b;let _0x1545ff={'where':{'key':{'remoteJid':_0x2d6aae}},'limit':0x1},_0x353d2f=await this[_0x5b3a78(0x849)](_0x1545ff);return _0x353d2f||(this['logger']['error']('Last\x20message\x20not\x20found\x20for\x20number:\x20'+_0x2d6aae),null);}async[a0_0x48e44b(0x60c)](_0x5bd79d){const _0x4e0590=a0_0x48e44b;this[_0x4e0590(0x470)][_0x4e0590(0x4b1)](this['instanceName']+'\x20('+this[_0x4e0590(0x844)][_0x4e0590(0x16a)]+_0x4e0590(0x73e));try{let _0x40e8c0=_0x5bd79d[_0x4e0590(0x186)],_0x412e71=_0x5bd79d[_0x4e0590(0x176)];if(!_0x40e8c0&&_0x412e71?_0x40e8c0=await this[_0x4e0590(0x290)](_0x412e71):(_0x40e8c0=_0x5bd79d[_0x4e0590(0x186)],_0x40e8c0[_0x4e0590(0x321)]=_0x40e8c0?.[_0x4e0590(0x321)]??Date[_0x4e0590(0x23c)](),_0x412e71=_0x40e8c0?.[_0x4e0590(0x744)]?.[_0x4e0590(0x713)]),!_0x40e8c0||Object[_0x4e0590(0x6df)](_0x40e8c0)['length']===0x0)throw new U(_0x4e0590(0x6d7));this['logger']['verbose'](this[_0x4e0590(0x25e)]+'\x20('+this[_0x4e0590(0x844)][_0x4e0590(0x16a)]+_0x4e0590(0x279)+_0x412e71);try{await this['client'][_0x4e0590(0x23f)]({'archive':_0x5bd79d[_0x4e0590(0x6bd)],'lastMessages':[_0x40e8c0]},this['createJid'](_0x412e71));}catch(_0x4bd7ef){let _0x3fd32b=_0x4e0590(0x73a)+_0x412e71,_0x182321=_0x4bd7ef instanceof Error?_0x4bd7ef[_0x4e0590(0x5e0)]:typeof _0x4bd7ef=='object'?JSON[_0x4e0590(0x365)](_0x4bd7ef):_0x4bd7ef,_0x386c18=_0x3fd32b+':\x20'+_0x182321;this[_0x4e0590(0x470)]['error'](this[_0x4e0590(0x25e)]+'\x20('+this[_0x4e0590(0x844)][_0x4e0590(0x16a)]+'):\x20'+_0x386c18);}this[_0x4e0590(0x470)][_0x4e0590(0x4b1)](this[_0x4e0590(0x25e)]+'\x20('+this[_0x4e0590(0x844)][_0x4e0590(0x16a)]+_0x4e0590(0x48a)+_0x412e71);let _0x1206f5=await this[_0x4e0590(0x850)]['chat']['updateOne']({'where':{'_id':_0x40e8c0?.[_0x4e0590(0x744)]?.[_0x4e0590(0x713)]}},{'archived':_0x5bd79d[_0x4e0590(0x6bd)]},this[_0x4e0590(0x844)][_0x4e0590(0x16a)]);return _0x1206f5?(this[_0x4e0590(0x470)][_0x4e0590(0x4b1)](this['instanceName']+'\x20('+this[_0x4e0590(0x844)][_0x4e0590(0x16a)]+_0x4e0590(0x400)+JSON[_0x4e0590(0x365)](_0x1206f5)),F(this[_0x4e0590(0x25e)],'chats',{'chat':_0x1206f5})):this[_0x4e0590(0x470)][_0x4e0590(0x16b)](this[_0x4e0590(0x25e)]+'\x20('+this['instance'][_0x4e0590(0x16a)]+_0x4e0590(0x2a6)+_0x412e71),{'chatId':_0x412e71,'archived':_0x5bd79d[_0x4e0590(0x6bd)]};}catch(_0x245351){let _0x53fee3='Erro\x20ao\x20arquivar\x20chat',_0x33f902=_0x245351 instanceof Error?_0x245351['message']:typeof _0x245351==_0x4e0590(0x892)?JSON[_0x4e0590(0x365)](_0x245351):_0x245351,_0x26153d=_0x53fee3+':\x20'+_0x33f902;throw this[_0x4e0590(0x470)][_0x4e0590(0x16b)](this['instanceName']+'\x20('+this['instance'][_0x4e0590(0x16a)]+_0x4e0590(0x741)+_0x26153d),new x(_0x26153d);}}async['deleteChat'](_0x2373e2){const _0x3021ce=a0_0x48e44b;this[_0x3021ce(0x470)][_0x3021ce(0x4b1)](this['instanceName']+'\x20('+this['instance'][_0x3021ce(0x16a)]+_0x3021ce(0x652));try{let _0x4274f3=await this[_0x3021ce(0x290)](_0x2373e2);if(!_0x4274f3||Object[_0x3021ce(0x6df)](_0x4274f3)[_0x3021ce(0x3b4)]===0x0)throw new U(_0x3021ce(0x6d7));let _0x436449=_0x4274f3[0x0];this[_0x3021ce(0x470)][_0x3021ce(0x4b1)](this['instanceName']+'\x20('+this[_0x3021ce(0x844)][_0x3021ce(0x16a)]+_0x3021ce(0x5ce)+_0x2373e2);try{await this[_0x3021ce(0x70c)][_0x3021ce(0x23f)]({'delete':!0x0,'lastMessages':[{'key':_0x436449[_0x3021ce(0x744)],'messageTimestamp':_0x436449[_0x3021ce(0x321)]}]},this[_0x3021ce(0x639)](_0x2373e2));}catch(_0x1bbf7f){this[_0x3021ce(0x470)]['error']('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x2373e2+':\x20'+_0x1bbf7f[_0x3021ce(0x691)]());}this[_0x3021ce(0x470)][_0x3021ce(0x4b1)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3021ce(0x48a)+_0x2373e2);return;}catch(_0x26ad3e){throw this[_0x3021ce(0x470)]['error'](this[_0x3021ce(0x25e)]+'\x20('+this[_0x3021ce(0x844)]['wuid']+_0x3021ce(0x3a6)+_0x26ad3e['toString']()),new x({'archived':!0x1,'message':[_0x3021ce(0x8a2),_0x26ad3e[_0x3021ce(0x691)]()]});}}async[a0_0x48e44b(0x306)](_0x323e66){const _0x4368c8=a0_0x48e44b;try{let _0x124cc1=await this[_0x4368c8(0x70c)][_0x4368c8(0x3bd)](_0x323e66[_0x4368c8(0x713)],{'delete':_0x323e66});try{let _0x3c69eb=await this[_0x4368c8(0x86a)](_0x323e66,{'status':_0x4368c8(0x5fa),'owner':this['instance'][_0x4368c8(0x16a)]});this['logger'][_0x4368c8(0x4b1)](this[_0x4368c8(0x25e)]+'\x20('+this[_0x4368c8(0x844)]['wuid']+'):\x20updateResult:'+_0x3c69eb);}catch(_0x281ea7){this['logger']['error'](_0x4368c8(0x47b)+_0x281ea7);}return _0x124cc1;}catch(_0x7f6102){throw new x(_0x4368c8(0x594),_0x7f6102?.[_0x4368c8(0x691)]());}}async[a0_0x48e44b(0x85c)](_0x4d211a){const _0x85b613=a0_0x48e44b;try{let _0x19d74e=_0x4d211a?.[_0x85b613(0x5e0)]?_0x4d211a:await this[_0x85b613(0x2f7)](_0x4d211a[_0x85b613(0x744)],!0x0);for(let _0x328a23 of va)_0x19d74e['message'][_0x328a23]&&(_0x19d74e[_0x85b613(0x5e0)]=_0x19d74e[_0x85b613(0x5e0)][_0x328a23][_0x85b613(0x5e0)]);let _0xc85f86,_0x1e4513;for(let _0x2490f8 of Ea)if(_0xc85f86=_0x19d74e['message'][_0x2490f8],_0xc85f86){_0x1e4513=_0x2490f8;break;}if(!_0xc85f86)throw _0x85b613(0x4e8);typeof _0xc85f86['mediaKey']==_0x85b613(0x892)&&(_0x19d74e[_0x85b613(0x5e0)]=JSON[_0x85b613(0x4e9)](JSON[_0x85b613(0x365)](_0x19d74e[_0x85b613(0x5e0)])));let _0x5bc389=await(0x0,w['downloadMediaMessage'])({'key':_0x19d74e?.[_0x85b613(0x744)],'message':_0x19d74e?.[_0x85b613(0x5e0)]},_0x85b613(0x2e9),{},{'logger':(0x0,Ft[_0x85b613(0x875)])({'level':_0x85b613(0x7f3)}),'reuploadRequest':this[_0x85b613(0x70c)][_0x85b613(0x586)]});if(!(_0x5bc389 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x53473a=this[_0x85b613(0x1b4)][_0x85b613(0x84e)](_0x85b613(0x4c1)),_0x5d607a,_0x1b5d3a;if(_0xc85f86[_0x85b613(0x3ca)])_0x5d607a=_0xc85f86['fileName'];else{let _0x4fdd21=_0xc85f86[_0x85b613(0x1b9)]?.[_0x85b613(0x5f6)](/\/(\w+)/),_0x3d744c=_0x4fdd21?_0x4fdd21[0x1]:null;if(!_0x3d744c)throw new Error(_0x85b613(0x57f));_0x5d607a=(0x0,Y['v4'])()+'.'+_0x3d744c;}_0x1e4513===_0x85b613(0x225)?_0x1b5d3a='/media/'+await this[_0x85b613(0x2b5)](_0x5bc389['toString'](_0x85b613(0x30b))):(await this[_0x85b613(0x748)](_0x5bc389,_0x5d607a),_0x1b5d3a=_0x85b613(0x722)+_0x5d607a);let _0x4a170c=this['configService']['get'](_0x85b613(0x75c))['URL'];if(!_0x4a170c){let _0x582abc=this[_0x85b613(0x1b4)][_0x85b613(0x84e)](_0x85b613(0x52d));_0x4a170c=_0x85b613(0x7fc)+(_0x582abc&&_0x582abc[_0x85b613(0x200)][_0x85b613(0x8a4)]('/')[0x4]);}_0x1b5d3a=''+_0x4a170c+_0x1b5d3a;let _0x2e929e=0xc*0x3c*0x3c*0x3e8,_0x4af64b={'where':{'_id':_0x19d74e[_0x85b613(0x744)]['id']}},_0x5a9a42={'message_normalized.fileUrl':_0x1b5d3a,'message_normalized.expires_fileUrl':Date['now']()+_0x2e929e};try{let _0x4b5459=await this['repository'][_0x85b613(0x5e0)][_0x85b613(0x453)](_0x4af64b,_0x5a9a42,this[_0x85b613(0x844)][_0x85b613(0x16a)]);_0x4b5459&&F(this[_0x85b613(0x25e)],_0x85b613(0x7ff),{'message':_0x4b5459});}catch(_0xbbbad){let _0x1ab9f6='Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage',_0x87ddcc=_0xbbbad instanceof Error?_0xbbbad[_0x85b613(0x5e0)]:typeof _0xbbbad==_0x85b613(0x892)?JSON[_0x85b613(0x365)](_0xbbbad):_0xbbbad,_0x1c0809=_0x1ab9f6+':\x20'+_0x87ddcc;this[_0x85b613(0x470)][_0x85b613(0x16b)](this[_0x85b613(0x25e)]+'\x20('+this['instance'][_0x85b613(0x16a)]+_0x85b613(0x741)+_0x1c0809);}return{'mediaType':_0x1e4513,'fileName':_0xc85f86[_0x85b613(0x3ca)],'caption':_0xc85f86[_0x85b613(0x1e7)],'size':{'fileLength':_0xc85f86['fileLength'],'height':_0xc85f86[_0x85b613(0x205)],'width':_0xc85f86[_0x85b613(0x4fb)]},'mimetype':_0xc85f86[_0x85b613(0x1b9)],'base64':_0x5bc389['toString'](_0x85b613(0x30b)),'fileUrl':_0x1b5d3a,'expires_fileUrl':Date[_0x85b613(0x23c)]()+_0x2e929e};}catch(_0x391309){let _0x5921b8='Falha\x20ao\x20processar\x20a\x20solicitação',_0x40cc5e=_0x391309 instanceof Error?_0x391309['message']:typeof _0x391309==_0x85b613(0x892)?JSON[_0x85b613(0x365)](_0x391309):_0x391309,_0xb05d5b=_0x5921b8+':\x20'+_0x40cc5e;throw this[_0x85b613(0x470)][_0x85b613(0x16b)](this['instanceName']+'\x20('+this[_0x85b613(0x844)][_0x85b613(0x16a)]+'):\x20'+_0xb05d5b),new m(_0xb05d5b);}}async[a0_0x48e44b(0x748)](_0x2fbaec,_0x222bd9){const _0x204d6c=a0_0x48e44b;let _0x42357f=j['default'][_0x204d6c(0x739)](__dirname,_0x204d6c(0x2c0));k['existsSync'](_0x42357f)||k[_0x204d6c(0x69f)](_0x42357f,{'recursive':!0x0});let _0x3c0b40=j[_0x204d6c(0x875)][_0x204d6c(0x739)](_0x42357f,_0x222bd9);return new Promise((_0x5c3d04,_0x4f4508)=>{k['writeFile'](_0x3c0b40,_0x2fbaec,_0x2e8279=>{const _0x307c67=a0_0x43f2;_0x2e8279?(this[_0x307c67(0x470)]['error']('Error\x20writing\x20file:\x20'+(_0x2e8279 instanceof Error?_0x2e8279['message']:JSON[_0x307c67(0x365)](_0x2e8279,null,0x2))),_0x4f4508(_0x2e8279)):(this[_0x307c67(0x470)][_0x307c67(0x84c)](_0x307c67(0x88a)+_0x3c0b40),_0x5c3d04(_0x3c0b40));});});}async[a0_0x48e44b(0x48d)](_0x322d4a){const _0x4e8e38=a0_0x48e44b;return await this['repository'][_0x4e8e38(0x644)][_0x4e8e38(0x1ae)](_0x322d4a,this['instance']['wuid']);}async[a0_0x48e44b(0x253)](){const _0x5d3ee4=a0_0x48e44b;return await this[_0x5d3ee4(0x850)][_0x5d3ee4(0x1bf)][_0x5d3ee4(0x1ae)]({'where':{}},this['instance'][_0x5d3ee4(0x16a)]);}async[a0_0x48e44b(0x849)](_0x18ee9d){const _0x2451d5=a0_0x48e44b;return await this['repository'][_0x2451d5(0x5e0)][_0x2451d5(0x1ae)](_0x18ee9d,this[_0x2451d5(0x844)][_0x2451d5(0x16a)]);}async['fetchChats'](){const _0x5206d4=a0_0x48e44b;return this['repository'][_0x5206d4(0x176)][_0x5206d4(0x514)](this[_0x5206d4(0x844)][_0x5206d4(0x16a)]),this[_0x5206d4(0x850)][_0x5206d4(0x176)][_0x5206d4(0x779)](this[_0x5206d4(0x844)][_0x5206d4(0x16a)]),this[_0x5206d4(0x850)][_0x5206d4(0x176)][_0x5206d4(0x4a6)](this[_0x5206d4(0x844)][_0x5206d4(0x16a)]),this[_0x5206d4(0x850)]['chat'][_0x5206d4(0x64f)](this['instance'][_0x5206d4(0x16a)]),await this[_0x5206d4(0x850)][_0x5206d4(0x176)][_0x5206d4(0x1ae)]({'where':{}},this['instance'][_0x5206d4(0x16a)]);}async['importChatsAntigo'](_0xdee40){const _0x31131e=a0_0x48e44b;try{if(!Array[_0x31131e(0x59d)](_0xdee40)||_0xdee40['length']===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x4593a1=[],_0x3aacdb=[];for(let _0x3516a0 of _0xdee40){if(_0x3516a0['_id'])_0x3516a0[_0x31131e(0x477)]=this['createJid'](_0x3516a0[_0x31131e(0x477)]);else continue;await this['repository']['chat'][_0x31131e(0x715)]({'where':{'_id':_0x3516a0['_id']}},this['instance']['wuid'])?_0x3aacdb[_0x31131e(0x518)]({'_id':_0x3516a0[_0x31131e(0x477)],'leadInfo':_0x3516a0[_0x31131e(0x837)],'owner':this['instance'][_0x31131e(0x16a)]}):_0x4593a1['push']({'_id':_0x3516a0[_0x31131e(0x477)],'owner':this[_0x31131e(0x844)][_0x31131e(0x16a)],'leadInfo':_0x3516a0[_0x31131e(0x837)],'imported':!0x0});}return _0x3aacdb[_0x31131e(0x3b4)]>0x0&&await this['repository']['chat'][_0x31131e(0x167)](_0x3aacdb[_0x31131e(0x3ad)](_0x5cfa9c=>({'query':{'where':{'_id':_0x5cfa9c[_0x31131e(0x477)],'owner':this[_0x31131e(0x844)][_0x31131e(0x16a)]}},'update':_0x5cfa9c}))),_0x4593a1[_0x31131e(0x3b4)]>0x0&&await this[_0x31131e(0x850)][_0x31131e(0x176)][_0x31131e(0x296)](_0x4593a1,this['instance']['wuid']),{'updated':_0x3aacdb['length'],'inserted':_0x4593a1[_0x31131e(0x3b4)]};}catch(_0x9fbbd0){let _0x2bf265=_0x31131e(0x42c),_0x585336=_0x9fbbd0 instanceof Error?_0x9fbbd0[_0x31131e(0x5e0)]:typeof _0x9fbbd0==_0x31131e(0x892)?JSON[_0x31131e(0x365)](_0x9fbbd0):_0x9fbbd0,_0x3bf1f4=_0x2bf265+':\x20'+_0x585336;throw this[_0x31131e(0x470)][_0x31131e(0x16b)](this['instanceName']+'\x20('+this[_0x31131e(0x844)][_0x31131e(0x16a)]+_0x31131e(0x741)+_0x3bf1f4),new m(_0x3bf1f4);}}async[a0_0x48e44b(0x387)](_0x13d9c5){const _0x59df50=a0_0x48e44b;try{if(!Array[_0x59df50(0x59d)](_0x13d9c5)||_0x13d9c5['length']===0x0)throw new Error(_0x59df50(0x36e));let _0x77fe04=0x64,_0xda7b80=0x0;for(let _0x28736d=0x0;_0x28736d<_0x13d9c5[_0x59df50(0x3b4)];_0x28736d+=_0x77fe04){let _0x1e92cb=_0x13d9c5[_0x59df50(0x6d2)](_0x28736d,_0x28736d+_0x77fe04),{updated:_0x216ec9}=await this[_0x59df50(0x6fe)](_0x1e92cb);_0xda7b80+=_0x216ec9;}return{'updated':_0xda7b80};}catch(_0x40758e){let _0x32af44=_0x59df50(0x42c),_0x25cf80=_0x40758e instanceof Error?_0x40758e[_0x59df50(0x5e0)]:typeof _0x40758e=='object'?JSON[_0x59df50(0x365)](_0x40758e):_0x40758e,_0x11af08=_0x32af44+':\x20'+_0x25cf80;throw this[_0x59df50(0x470)][_0x59df50(0x16b)](this[_0x59df50(0x25e)]+'\x20('+this['instance'][_0x59df50(0x16a)]+_0x59df50(0x741)+_0x11af08),new m(_0x11af08);}}async[a0_0x48e44b(0x6fe)](_0x6c07e3){const _0x3f24f1=a0_0x48e44b;try{let _0x3e43d0=await this[_0x3f24f1(0x850)][_0x3f24f1(0x1bf)]['find']({'where':{}},this[_0x3f24f1(0x844)][_0x3f24f1(0x16a)]),_0x54a9ac=new Set(_0x3e43d0[_0x3f24f1(0x3ad)](_0x116605=>_0x116605[_0x3f24f1(0x477)])),_0x35bf38=[],_0x1fc823=[];for(let _0xf2ab23 of _0x6c07e3){if(!_0xf2ab23[_0x3f24f1(0x477)])continue;_0xf2ab23[_0x3f24f1(0x477)]=this[_0x3f24f1(0x639)](_0xf2ab23['_id']);let _0x53af21=await this[_0x3f24f1(0x850)][_0x3f24f1(0x176)]['findOne']({'where':{'_id':_0xf2ab23[_0x3f24f1(0x477)]}},this[_0x3f24f1(0x844)][_0x3f24f1(0x16a)]),_0xd241c2={};if(Object['entries'](_0xf2ab23[_0x3f24f1(0x837)])[_0x3f24f1(0x3f6)](([_0xdea44b,_0x128d55])=>{const _0x51fce4=_0x3f24f1;_0xd241c2[_0x51fce4(0x7ef)+_0xdea44b]=_0x128d55;}),_0x53af21&&!_0x53af21[_0x3f24f1(0x44a)]){let _0x4163bd=(_0xf2ab23[_0x3f24f1(0x837)][_0x3f24f1(0x3c6)]||[])[_0x3f24f1(0x20c)](_0x3ce570=>_0x54a9ac[_0x3f24f1(0x31f)](_0x3ce570)),_0x25b095=new Set(_0x53af21[_0x3f24f1(0x837)][_0x3f24f1(0x3c6)]||[]),_0x20c6b1=_0x4163bd[_0x3f24f1(0x20c)](_0x3fb0a8=>!_0x25b095['has'](_0x3fb0a8)),_0xb9a7f8=[..._0x25b095]['filter'](_0x59276a=>!_0x4163bd[_0x3f24f1(0x1d0)](_0x59276a));_0x1fc823[_0x3f24f1(0x518)](..._0x20c6b1[_0x3f24f1(0x3ad)](_0x552bf5=>this['AddChatLabel'](_0x552bf5,_0xf2ab23[_0x3f24f1(0x477)]))),_0x1fc823['push'](..._0xb9a7f8[_0x3f24f1(0x3ad)](_0x398a32=>this[_0x3f24f1(0x2f6)](_0x398a32,_0xf2ab23[_0x3f24f1(0x477)]))),_0xf2ab23['leadInfo'][_0x3f24f1(0x3c6)]=_0x4163bd,_0x35bf38[_0x3f24f1(0x518)]({'query':{'where':{'_id':_0xf2ab23[_0x3f24f1(0x477)],'owner':this[_0x3f24f1(0x844)][_0x3f24f1(0x16a)]}},'update':_0xd241c2});}else _0xd241c2['imported']=!0x0,_0x35bf38[_0x3f24f1(0x518)]({'query':{'where':{'_id':_0xf2ab23[_0x3f24f1(0x477)],'owner':this[_0x3f24f1(0x844)][_0x3f24f1(0x16a)]}},'update':_0xd241c2});}let _0x1a2345=await this['repository'][_0x3f24f1(0x176)][_0x3f24f1(0x167)](_0x35bf38);return await Promise[_0x3f24f1(0x877)](_0x1fc823),{'updated':_0x1a2345};}catch(_0x7be01e){let _0x4719cb='Erro\x20ao\x20importar\x20chats',_0x4a5589=_0x7be01e instanceof Error?_0x7be01e[_0x3f24f1(0x5e0)]:typeof _0x7be01e==_0x3f24f1(0x892)?JSON[_0x3f24f1(0x365)](_0x7be01e):_0x7be01e,_0x5047aa=_0x4719cb+':\x20'+_0x4a5589;throw this['logger'][_0x3f24f1(0x16b)](this[_0x3f24f1(0x25e)]+'\x20('+this[_0x3f24f1(0x844)]['wuid']+_0x3f24f1(0x741)+_0x5047aa),new m(_0x5047aa);}}async[a0_0x48e44b(0x8a0)](){const _0x1d8938=a0_0x48e44b;return await this[_0x1d8938(0x70c)][_0x1d8938(0x8a0)]();}async['updatePrivacySettings'](_0xb6d765){const _0x32a27b=a0_0x48e44b;try{return await this[_0x32a27b(0x70c)][_0x32a27b(0x475)](_0xb6d765[_0x32a27b(0x58d)]['readreceipts']),await this[_0x32a27b(0x70c)]['updateProfilePicturePrivacy'](_0xb6d765[_0x32a27b(0x58d)][_0x32a27b(0x6cd)]),await this[_0x32a27b(0x70c)][_0x32a27b(0x650)](_0xb6d765[_0x32a27b(0x58d)][_0x32a27b(0x485)]),await this[_0x32a27b(0x70c)]['updateOnlinePrivacy'](_0xb6d765[_0x32a27b(0x58d)]['online']),await this[_0x32a27b(0x70c)][_0x32a27b(0x817)](_0xb6d765[_0x32a27b(0x58d)]['last']),await this[_0x32a27b(0x70c)][_0x32a27b(0x600)](_0xb6d765[_0x32a27b(0x58d)][_0x32a27b(0x2ec)]),this[_0x32a27b(0x70c)]?.['ws']?.[_0x32a27b(0x3b8)](),{'update':'success','data':{'readreceipts':_0xb6d765[_0x32a27b(0x58d)]['readreceipts'],'profile':_0xb6d765['privacySettings'][_0x32a27b(0x6cd)],'status':_0xb6d765[_0x32a27b(0x58d)][_0x32a27b(0x485)],'online':_0xb6d765['privacySettings']['online'],'last':_0xb6d765['privacySettings'][_0x32a27b(0x7b9)],'groupadd':_0xb6d765[_0x32a27b(0x58d)][_0x32a27b(0x2ec)]}};}catch(_0x1d079c){let _0x13332d=_0x32a27b(0x5c6),_0x24b8fc=_0x1d079c instanceof Error?_0x1d079c['message']:typeof _0x1d079c==_0x32a27b(0x892)?JSON[_0x32a27b(0x365)](_0x1d079c):_0x1d079c,_0x48a175=_0x13332d+':\x20'+_0x24b8fc;throw this[_0x32a27b(0x470)][_0x32a27b(0x16b)](this[_0x32a27b(0x25e)]+'\x20('+this[_0x32a27b(0x844)][_0x32a27b(0x16a)]+_0x32a27b(0x741)+_0x48a175),new m(_0x48a175);}}async[a0_0x48e44b(0x287)](_0x2424be){const _0x17fae7=a0_0x48e44b;let _0x2032cd=(_0x2424be?this[_0x17fae7(0x639)](_0x2424be):this[_0x17fae7(0x70c)]?.['user']?.['id'])[_0x17fae7(0x67e)](/:\d{1,2}@/g,'@');this[_0x17fae7(0x470)][_0x17fae7(0x4b1)](this[_0x17fae7(0x25e)]+'\x20('+this[_0x17fae7(0x844)][_0x17fae7(0x16a)]+_0x17fae7(0x1af)+_0x2032cd);let _0x101664=await this[_0x17fae7(0x850)][_0x17fae7(0x644)][_0x17fae7(0x715)]({'where':{'_id':_0x2032cd}},this['instance'][_0x17fae7(0x16a)]),_0x236488=_0x101664?_0x101664[_0x17fae7(0x619)]:null;try{let _0x1e9639=(await this['whatsappNumber']({'numbers':[_0x2032cd]}))?.[_0x17fae7(0x76d)](),_0x3414a0=(await this[_0x17fae7(0x5e9)](_0x2032cd,null,!0x1))[_0x17fae7(0x6bc)][_0x17fae7(0x6b6)],_0x3660e1=await this[_0x17fae7(0x679)](_0x1e9639?.[_0x17fae7(0x1b3)]),_0x31a9ba=await this[_0x17fae7(0x285)](_0x1e9639?.[_0x17fae7(0x1b3)]),_0x40c138=(await this[_0x17fae7(0x5e9)](_0x2032cd,null,!0x1))[_0x17fae7(0x6bc)]['name'],_0x55365b=await this[_0x17fae7(0x850)][_0x17fae7(0x176)]['findOne']({'where':{'_id':_0x2032cd}},this[_0x17fae7(0x844)][_0x17fae7(0x16a)]),_0x1acad5={'imagechat':_0x3414a0,'contactname':_0x236488||null,'pushName':_0x40c138,'status':_0x3660e1?.['status'],'isBusiness':_0x31a9ba[_0x17fae7(0x462)],'email':_0x31a9ba?.[_0x17fae7(0x2bf)],'description':_0x31a9ba?.[_0x17fae7(0x797)],'website':_0x31a9ba?.[_0x17fae7(0x55a)]?.[_0x17fae7(0x76d)](),'lastcache':Date['now'](),'imported':!_0x55365b},_0x4dc127=await this[_0x17fae7(0x850)][_0x17fae7(0x176)][_0x17fae7(0x7b8)]({'where':{'_id':_0x2032cd}},_0x1acad5,this[_0x17fae7(0x844)][_0x17fae7(0x16a)]),_0x593ddb={'owner':this['instance'][_0x17fae7(0x16a)],'_id':_0x2032cd,'profilePictureUrl':_0x3414a0,'status':_0x3660e1?.[_0x17fae7(0x485)]};return this[_0x17fae7(0x850)]['contact']['update']([_0x593ddb],this[_0x17fae7(0x844)]['wuid']),_0x4dc127&&F(this[_0x17fae7(0x25e)],_0x17fae7(0x482),{'chat':_0x4dc127}),{'wuid':_0x1e9639?.[_0x17fae7(0x1b3)]||_0x2032cd,'name':_0x1e9639?.['name'],'pushName':_0x40c138,'numberExists':_0x1e9639?.[_0x17fae7(0x380)],'picture':_0x3414a0,'status':_0x3660e1?.[_0x17fae7(0x485)],'isBusiness':_0x31a9ba[_0x17fae7(0x462)],'email':_0x31a9ba?.[_0x17fae7(0x2bf)],'description':_0x31a9ba?.[_0x17fae7(0x797)],'website':_0x31a9ba?.[_0x17fae7(0x55a)]?.[_0x17fae7(0x76d)]()};}catch(_0x3c26d3){return this[_0x17fae7(0x470)][_0x17fae7(0x16b)](_0x17fae7(0x553)+(_0x3c26d3 instanceof Error?_0x3c26d3[_0x17fae7(0x5e0)]:JSON[_0x17fae7(0x365)](_0x3c26d3,null,0x2))),{};}}async[a0_0x48e44b(0x285)](_0x71e6b4){const _0x21efe8=a0_0x48e44b;this[_0x21efe8(0x470)][_0x21efe8(0x4b1)](this['instanceName']+'\x20('+this['instance'][_0x21efe8(0x16a)]+_0x21efe8(0x385));try{let _0xf368ff=_0x71e6b4?this['createJid'](_0x71e6b4):this[_0x21efe8(0x844)][_0x21efe8(0x16a)],_0x633f50=await this[_0x21efe8(0x70c)][_0x21efe8(0x3ea)](_0xf368ff);return this[_0x21efe8(0x470)][_0x21efe8(0x4b1)](this[_0x21efe8(0x25e)]+'\x20('+this['instance']['wuid']+_0x21efe8(0x307)),_0x633f50?(this[_0x21efe8(0x470)][_0x21efe8(0x4b1)](this[_0x21efe8(0x25e)]+'\x20('+this[_0x21efe8(0x844)]['wuid']+_0x21efe8(0x782)),{'isBusiness':!0x0,..._0x633f50}):{'isBusiness':!0x1,'message':_0x21efe8(0x5e7),...(await this['whatsappNumber']({'numbers':[_0xf368ff]}))?.[_0x21efe8(0x76d)]()};}catch(_0x2adc01){let _0x4aaac9='Falha\x20ao\x20processar\x20fetchBusinessProfile',_0x35bf07=_0x2adc01 instanceof Error?_0x2adc01[_0x21efe8(0x5e0)]:typeof _0x2adc01==_0x21efe8(0x892)?JSON[_0x21efe8(0x365)](_0x2adc01):_0x2adc01,_0x3ddae5=_0x4aaac9+':\x20'+_0x35bf07;throw this['logger']['error'](this[_0x21efe8(0x25e)]+'\x20('+this[_0x21efe8(0x844)]['wuid']+_0x21efe8(0x741)+_0x3ddae5),new x(_0x3ddae5);}}async['getStatus'](_0x3e907d){const _0x847c46=a0_0x48e44b;let _0x4ad8e6=this[_0x847c46(0x639)](_0x3e907d);try{return{'wuid':_0x4ad8e6,'status':(await this['client'][_0x847c46(0x654)](_0x4ad8e6))[0x0]?.[_0x847c46(0x485)]};}catch{return{'wuid':_0x4ad8e6,'status':null};}}async[a0_0x48e44b(0x5cd)](_0x2648a0){const _0x190e65=a0_0x48e44b;try{return await this['client'][_0x190e65(0x5cd)](_0x2648a0),{'update':'success'};}catch(_0x493423){let _0x591fba=_0x190e65(0x87c),_0x18e96c=_0x493423 instanceof Error?_0x493423[_0x190e65(0x5e0)]:typeof _0x493423==_0x190e65(0x892)?JSON[_0x190e65(0x365)](_0x493423):_0x493423,_0x142880=_0x591fba+':\x20'+_0x18e96c;throw this[_0x190e65(0x470)][_0x190e65(0x16b)](this[_0x190e65(0x25e)]+'\x20('+this[_0x190e65(0x844)][_0x190e65(0x16a)]+_0x190e65(0x741)+_0x142880),new x(_0x142880);}}async[a0_0x48e44b(0x397)](_0x4f0c7f){const _0x2ef445=a0_0x48e44b;try{return await this['client'][_0x2ef445(0x397)](_0x4f0c7f),{'update':_0x2ef445(0x5a0)};}catch(_0x296b1d){let _0x58b51a=_0x2ef445(0x420),_0x42f1e0=_0x296b1d instanceof Error?_0x296b1d[_0x2ef445(0x5e0)]:typeof _0x296b1d==_0x2ef445(0x892)?JSON['stringify'](_0x296b1d):_0x296b1d,_0x4d063c=_0x58b51a+':\x20'+_0x42f1e0;throw this['logger'][_0x2ef445(0x16b)](this[_0x2ef445(0x25e)]+'\x20('+this[_0x2ef445(0x844)][_0x2ef445(0x16a)]+_0x2ef445(0x741)+_0x4d063c),new x(_0x4d063c);}}async[a0_0x48e44b(0x43c)](_0x3717f5){const _0x1642f5=a0_0x48e44b;try{let _0x3e6c59;if((0x0,J[_0x1642f5(0x403)])(_0x3717f5)){let _0x4e8e6a=new Date()['getTime'](),_0x27022f=_0x3717f5+_0x1642f5(0x762)+_0x4e8e6a;_0x3e6c59=(await Q[_0x1642f5(0x875)][_0x1642f5(0x84e)](_0x27022f,{'responseType':'arraybuffer'}))[_0x1642f5(0x693)];}else{if((0x0,J[_0x1642f5(0x685)])(_0x3717f5))_0x3e6c59=Buffer['from'](_0x3717f5,_0x1642f5(0x30b));else throw new m(_0x1642f5(0x7c1));}return await this[_0x1642f5(0x70c)][_0x1642f5(0x43c)](this[_0x1642f5(0x844)]['wuid'],_0x3e6c59),{'update':'success'};}catch(_0x2d9936){let _0x127441=_0x1642f5(0x389),_0x5ba80c=_0x2d9936 instanceof Error?_0x2d9936[_0x1642f5(0x5e0)]:typeof _0x2d9936==_0x1642f5(0x892)?JSON[_0x1642f5(0x365)](_0x2d9936):_0x2d9936,_0x39ea4b=_0x127441+':\x20'+_0x5ba80c;throw this[_0x1642f5(0x470)][_0x1642f5(0x16b)](this[_0x1642f5(0x25e)]+'\x20('+this[_0x1642f5(0x844)][_0x1642f5(0x16a)]+_0x1642f5(0x741)+_0x39ea4b),new x(_0x39ea4b);}}async['removeProfilePicture'](){const _0x4eac8a=a0_0x48e44b;try{return await this[_0x4eac8a(0x70c)][_0x4eac8a(0x3e9)](this['instance']['wuid']),{'update':'success'};}catch(_0x541c72){let _0x202660=_0x4eac8a(0x7fb),_0x50a7c1=_0x541c72 instanceof Error?_0x541c72[_0x4eac8a(0x5e0)]:typeof _0x541c72==_0x4eac8a(0x892)?JSON[_0x4eac8a(0x365)](_0x541c72):_0x541c72,_0x50ea19=_0x202660+':\x20'+_0x50a7c1;throw this[_0x4eac8a(0x470)][_0x4eac8a(0x16b)](this[_0x4eac8a(0x25e)]+'\x20('+this['instance'][_0x4eac8a(0x16a)]+_0x4eac8a(0x741)+_0x50ea19),new x(_0x50ea19);}}async[a0_0x48e44b(0x14f)](_0x37260c){const _0x5b0309=a0_0x48e44b;try{let _0x4968a9=(await this[_0x5b0309(0x1aa)]({'numbers':_0x37260c[_0x5b0309(0x284)]}))['filter'](_0x387bec=>_0x387bec[_0x5b0309(0x380)])['map'](_0x163faf=>_0x163faf[_0x5b0309(0x1b3)]),{id:_0x35b4c7}=await this['client'][_0x5b0309(0x5cb)](_0x37260c[_0x5b0309(0x219)],_0x4968a9);_0x37260c?.['description']&&await this[_0x5b0309(0x70c)]['groupUpdateDescription'](_0x35b4c7,_0x37260c[_0x5b0309(0x797)]);let _0x1ff095=await this[_0x5b0309(0x70c)]['groupMetadata'](_0x35b4c7);return _0x1ff095[_0x5b0309(0x218)]=[],await this[_0x5b0309(0x746)](_0x1ff095),{'metadata':_0x1ff095};}catch(_0x53771d){let _0x23f393='Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup',_0x45acd8=_0x53771d instanceof Error?_0x53771d[_0x5b0309(0x5e0)]:typeof _0x53771d==_0x5b0309(0x892)?JSON[_0x5b0309(0x365)](_0x53771d):_0x53771d,_0x344d7f=_0x23f393+':\x20'+_0x45acd8;throw this[_0x5b0309(0x470)]['error'](this['instanceName']+'\x20('+this[_0x5b0309(0x844)][_0x5b0309(0x16a)]+_0x5b0309(0x741)+_0x344d7f),new x(_0x344d7f);}}async[a0_0x48e44b(0x83e)](_0x4a7677){const _0x5e43ba=a0_0x48e44b;try{if(_0x4a7677['restrict']===!0x0&&await this[_0x5e43ba(0x70c)][_0x5e43ba(0x730)](_0x4a7677[_0x5e43ba(0x20f)],_0x5e43ba(0x5ac)),_0x4a7677[_0x5e43ba(0x625)]===!0x1&&await this[_0x5e43ba(0x70c)][_0x5e43ba(0x730)](_0x4a7677[_0x5e43ba(0x20f)],_0x5e43ba(0x66b)),_0x4a7677[_0x5e43ba(0x669)]===!0x0&&await this['client']['groupSettingUpdate'](_0x4a7677[_0x5e43ba(0x20f)],_0x5e43ba(0x3bc)),_0x4a7677[_0x5e43ba(0x669)]===!0x1&&await this['client']['groupSettingUpdate'](_0x4a7677[_0x5e43ba(0x20f)],_0x5e43ba(0x3f4)),_0x4a7677[_0x5e43ba(0x59a)]===!0x0&&await this['client'][_0x5e43ba(0x414)](_0x4a7677[_0x5e43ba(0x20f)],_0x5e43ba(0x2a2)),_0x4a7677[_0x5e43ba(0x59a)]===!0x1&&await this[_0x5e43ba(0x70c)]['groupMemberAddMode'](_0x4a7677[_0x5e43ba(0x20f)],'admin_add'),_0x4a7677[_0x5e43ba(0x20b)]===!0x0&&await this['client'][_0x5e43ba(0x56c)](_0x4a7677[_0x5e43ba(0x20f)],'on'),_0x4a7677['joinApprovalMode']===!0x1&&await this['client']['groupJoinApprovalMode'](_0x4a7677[_0x5e43ba(0x20f)],_0x5e43ba(0x4f9)),typeof _0x4a7677[_0x5e43ba(0x1ef)]<'u'&&_0x4a7677[_0x5e43ba(0x1ef)]!==null&&await this[_0x5e43ba(0x70c)][_0x5e43ba(0x465)](_0x4a7677[_0x5e43ba(0x20f)],_0x4a7677[_0x5e43ba(0x1ef)]),_0x4a7677['name']&&await this[_0x5e43ba(0x70c)][_0x5e43ba(0x83a)](_0x4a7677[_0x5e43ba(0x20f)],_0x4a7677[_0x5e43ba(0x5ff)]),_0x4a7677[_0x5e43ba(0x797)]&&await this['client'][_0x5e43ba(0x76e)](_0x4a7677[_0x5e43ba(0x20f)],_0x4a7677[_0x5e43ba(0x797)]),_0x4a7677[_0x5e43ba(0x305)]){let _0x1a31e9;if((0x0,J[_0x5e43ba(0x403)])(_0x4a7677[_0x5e43ba(0x305)])){let _0x4e1902=new Date()[_0x5e43ba(0x498)](),_0x4e141e=_0x4a7677['image']+_0x5e43ba(0x762)+_0x4e1902;_0x1a31e9=(await Q[_0x5e43ba(0x875)]['get'](_0x4e141e,{'responseType':_0x5e43ba(0x5a2)}))[_0x5e43ba(0x693)];}else{if((0x0,J['isBase64'])(_0x4a7677[_0x5e43ba(0x305)]))_0x1a31e9=Buffer[_0x5e43ba(0x1e9)](_0x4a7677[_0x5e43ba(0x305)],_0x5e43ba(0x30b));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}await this[_0x5e43ba(0x70c)][_0x5e43ba(0x43c)](_0x4a7677[_0x5e43ba(0x20f)],_0x1a31e9);}return await this['findGroup']({'groupJid':_0x4a7677[_0x5e43ba(0x20f)]});}catch(_0x1c7598){let _0x59c290=_0x5e43ba(0x2c9),_0x42abb4=_0x1c7598 instanceof Error?_0x1c7598[_0x5e43ba(0x5e0)]:typeof _0x1c7598==_0x5e43ba(0x892)?JSON[_0x5e43ba(0x365)](_0x1c7598):_0x1c7598,_0x33f501=_0x59c290+':\x20'+_0x42abb4;throw this[_0x5e43ba(0x470)][_0x5e43ba(0x16b)](this[_0x5e43ba(0x25e)]+'\x20('+this[_0x5e43ba(0x844)][_0x5e43ba(0x16a)]+'):\x20'+_0x33f501),new x(_0x33f501);}}async[a0_0x48e44b(0x17d)](_0x430145){const _0x23bd10=a0_0x48e44b;try{let _0x44fb6e=_0x430145[_0x23bd10(0x284)][_0x23bd10(0x3ad)](_0x50e2ba=>this['createJid'](_0x50e2ba));if(_0x430145[_0x23bd10(0x390)]==='approve'||_0x430145[_0x23bd10(0x390)]===_0x23bd10(0x2c7))await this['client'][_0x23bd10(0x272)](_0x430145[_0x23bd10(0x20f)],_0x44fb6e,_0x430145[_0x23bd10(0x390)]);else{if(_0x430145[_0x23bd10(0x390)]==='add'){let _0x4bb625=(await this[_0x23bd10(0x1aa)]({'numbers':_0x430145[_0x23bd10(0x284)]}))[_0x23bd10(0x20c)](_0x5ced50=>_0x5ced50[_0x23bd10(0x380)])['map'](_0x54d23f=>this['createJid'](_0x54d23f[_0x23bd10(0x1b3)]));if(_0x4bb625[_0x23bd10(0x3b4)]===0x0)throw new m(_0x23bd10(0x241));await this[_0x23bd10(0x70c)][_0x23bd10(0x49f)](_0x430145[_0x23bd10(0x20f)],_0x4bb625,_0x23bd10(0x234));}else await this[_0x23bd10(0x70c)]['groupParticipantsUpdate'](_0x430145['groupJid'],_0x44fb6e,_0x430145[_0x23bd10(0x390)]);}return await this[_0x23bd10(0x626)]({'groupJid':_0x430145[_0x23bd10(0x20f)]});}catch(_0x31ec15){let _0x3d7a16=_0x23bd10(0x7b6),_0x2640f7=_0x31ec15 instanceof Error?_0x31ec15[_0x23bd10(0x5e0)]:typeof _0x31ec15==_0x23bd10(0x892)?JSON[_0x23bd10(0x365)](_0x31ec15):_0x31ec15,_0x3f3d13=_0x3d7a16+':\x20'+_0x2640f7;throw this[_0x23bd10(0x470)][_0x23bd10(0x16b)](this[_0x23bd10(0x25e)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x3f3d13),new m(_0x3f3d13);}}async[a0_0x48e44b(0x6f2)](_0x5c13eb){const _0x39ad79=a0_0x48e44b;try{return await this[_0x39ad79(0x70c)][_0x39ad79(0x6f2)](_0x5c13eb[_0x39ad79(0x427)]);}catch(_0x548f08){let _0x2d5e5b=_0x39ad79(0x243),_0x18088e=_0x548f08 instanceof Error?_0x548f08[_0x39ad79(0x5e0)]:typeof _0x548f08==_0x39ad79(0x892)?JSON[_0x39ad79(0x365)](_0x548f08):_0x548f08,_0x256a3e=_0x2d5e5b+':\x20'+_0x18088e;throw this['logger'][_0x39ad79(0x16b)](this['instanceName']+'\x20('+this[_0x39ad79(0x844)]['wuid']+_0x39ad79(0x741)+_0x256a3e),new m(_0x256a3e);}}async[a0_0x48e44b(0x626)](_0x2d9988,_0x559076='out'){const _0x1d558b=a0_0x48e44b;try{let _0x4a42a0=await this['repository']['chat'][_0x1d558b(0x715)]({'where':{'_id':_0x2d9988[_0x1d558b(0x20f)]}},this[_0x1d558b(0x844)]['wuid']),_0x3a784a=_0x4a42a0?_0x4a42a0['groupdata']:null,_0x4541e4=0x18*0x3c*0x3c*0x3e8;if(!_0x3a784a||_0x3a784a[_0x1d558b(0x337)]&&Date['now']()-_0x3a784a[_0x1d558b(0x337)]>_0x4541e4){let _0x158523=await this[_0x1d558b(0x70c)][_0x1d558b(0x617)](_0x2d9988[_0x1d558b(0x20f)]);if(_0x158523['subjectTime']=_0x158523?.['subjectTime']&&_0x158523[_0x1d558b(0x1d3)][_0x1d558b(0x691)]()[_0x1d558b(0x3b4)]<0xd?_0x158523?.[_0x1d558b(0x1d3)]*0x3e8:_0x158523?.[_0x1d558b(0x1d3)]||null,_0x158523[_0x1d558b(0x883)]=_0x158523?.[_0x1d558b(0x883)]&&_0x158523[_0x1d558b(0x883)][_0x1d558b(0x691)]()['length']<0xd?_0x158523?.['creation']*0x3e8:_0x158523?.[_0x1d558b(0x883)]||null,_0x3a784a={..._0x158523,'lastUpdate':Date[_0x1d558b(0x23c)]()},!_0x158523)return;}let _0x2d61ed=_0x3a784a['participants']?.[_0x1d558b(0x426)](_0x3f023c=>_0x3f023c['id']===this[_0x1d558b(0x844)][_0x1d558b(0x16a)]+_0x1d558b(0x212)&&_0x3f023c[_0x1d558b(0x86f)]!=null)||!0x1;!_0x3a784a[_0x1d558b(0x427)]&&_0x2d61ed&&(_0x3a784a[_0x1d558b(0x427)]=(await this[_0x1d558b(0x427)](_0x2d9988,!0x1))[_0x1d558b(0x882)]);let _0x164b31=(!_0x3a784a[_0x1d558b(0x669)]||_0x2d61ed)&&(!_0x3a784a[_0x1d558b(0x719)]||_0x2d61ed);_0x3a784a[_0x1d558b(0x810)]=_0x2d61ed,_0x3a784a[_0x1d558b(0x75d)]=_0x164b31;let _0x5d3de4=[];if(_0x2d61ed&&_0x3a784a[_0x1d558b(0x20b)])try{_0x5d3de4=await this[_0x1d558b(0x70c)][_0x1d558b(0x776)](_0x2d9988[_0x1d558b(0x20f)]),_0x3a784a[_0x1d558b(0x37d)]=Date['now']();}catch(_0x322166){this[_0x1d558b(0x470)][_0x1d558b(0x4b1)](this[_0x1d558b(0x25e)]+'\x20('+this['instance'][_0x1d558b(0x16a)]+_0x1d558b(0x440)+_0x2d9988['groupJid']+':\x20'+(_0x322166 instanceof Error?_0x322166[_0x1d558b(0x5e0)]:JSON[_0x1d558b(0x365)](_0x322166,null,0x2)));}try{_0x3a784a[_0x1d558b(0x305)]=(await this[_0x1d558b(0x5e9)](_0x2d9988[_0x1d558b(0x20f)],null,!0x0))[_0x1d558b(0x6bc)][_0x1d558b(0x6b6)];}catch(_0xfc09b1){this[_0x1d558b(0x470)]['verbose'](this['instanceName']+'\x20('+this[_0x1d558b(0x844)][_0x1d558b(0x16a)]+_0x1d558b(0x7e9)+_0x2d9988[_0x1d558b(0x20f)]+':\x20'+(_0xfc09b1 instanceof Error?_0xfc09b1['message']:JSON[_0x1d558b(0x365)](_0xfc09b1,null,0x2)));}let _0x3b7c27=_0x3a784a[_0x1d558b(0x284)][_0x1d558b(0x3ad)](_0x559968=>_0x559968['id']),_0x1d9a1=_0x5d3de4['map'](_0x11493a=>_0x11493a[_0x1d558b(0x1b3)]),_0xbaac5c=await this[_0x1d558b(0x850)]['cacheContact']['findManyByIds']([..._0x3b7c27,..._0x1d9a1]);_0x3a784a[_0x1d558b(0x284)]=_0x3a784a['participants'][_0x1d558b(0x3ad)](_0x1f4a9a=>{const _0x3406ad=_0x1d558b;let _0x57b598=_0xbaac5c[_0x3406ad(0x1ae)](_0x290d1f=>_0x290d1f[_0x3406ad(0x477)]===_0x1f4a9a['id']);return{'id':_0x1f4a9a['id'],'isAdmin':[_0x3406ad(0x86f),_0x3406ad(0x8b1)][_0x3406ad(0x1d0)](_0x1f4a9a['admin']),'admin':_0x1f4a9a[_0x3406ad(0x86f)],'pushName':_0x57b598?.['name'],'profilePictureUrl':_0x57b598?.[_0x3406ad(0x6b6)]};}),_0x3a784a['awaitingApproval']=_0x5d3de4['map'](_0x59a15a=>{const _0x325b5a=_0x1d558b;let _0x45decc=_0xbaac5c['find'](_0x515fa4=>_0x515fa4[_0x325b5a(0x477)]===_0x59a15a['jid']);return{'id':_0x59a15a[_0x325b5a(0x1b3)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x45decc?.['name'],'profilePictureUrl':_0x45decc?.[_0x325b5a(0x6b6)],'request_method':_0x59a15a[_0x325b5a(0x88c)],'request_time':_0x59a15a[_0x325b5a(0x446)]};});let _0x472bfc=await this[_0x1d558b(0x850)][_0x1d558b(0x176)][_0x1d558b(0x7b8)]({'where':{'_id':_0x2d9988[_0x1d558b(0x20f)]}},{'imagechat':_0x3a784a[_0x1d558b(0x305)],'name':_0x3a784a[_0x1d558b(0x219)],'lastcache':Date[_0x1d558b(0x23c)](),'groupdata':_0x3a784a},this['instance']['wuid']);return F(this[_0x1d558b(0x25e)],_0x1d558b(0x482),{'chat':_0x472bfc}),{'metadata':_0x3a784a};}catch(_0x507797){if(_0x559076===_0x1d558b(0x1c4))return;throw new U(_0x1d558b(0x23a),_0x507797[_0x1d558b(0x5e0)]['toString']());}}async[a0_0x48e44b(0x1fa)](){const _0x62e887=a0_0x48e44b;try{this[_0x62e887(0x470)][_0x62e887(0x6cf)](_0x62e887(0x760));let _0x4e4dae=Date[_0x62e887(0x23c)](),_0x5c09cd=0x3*0x3c*0x3c*0x3e8;return _0x4e4dae-this[_0x62e887(0x7ea)]>_0x5c09cd&&(this['findRealGroups'](),this[_0x62e887(0x7ea)]=_0x4e4dae),(await this[_0x62e887(0x850)]['chat']['findGroupsEspecial']({'where':{'group':!0x0}},this[_0x62e887(0x844)][_0x62e887(0x16a)]))['map'](_0x245349=>({..._0x245349['groupdata'],'groupJid':_0x245349?.[_0x62e887(0x477)],'participants':_0x245349?.[_0x62e887(0x45c)]?.[_0x62e887(0x284)]||[],'awaitingApproval':_0x245349?.[_0x62e887(0x45c)]?.['awaitingApproval']||[],'image':_0x245349?.[_0x62e887(0x3f9)]}));}catch(_0x1792b2){let _0x1f8680='Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups',_0x5603da=_0x1792b2 instanceof Error?_0x1792b2['message']:typeof _0x1792b2=='object'?JSON[_0x62e887(0x365)](_0x1792b2):_0x1792b2,_0x20c43a=_0x1f8680+':\x20'+_0x5603da;throw this[_0x62e887(0x470)][_0x62e887(0x16b)](this['instanceName']+'\x20('+this[_0x62e887(0x844)][_0x62e887(0x16a)]+_0x62e887(0x741)+_0x20c43a),new U(_0x20c43a);}}async[a0_0x48e44b(0x495)](){const _0x1583f4=a0_0x48e44b;try{this['logger'][_0x1583f4(0x6cf)](_0x1583f4(0x8af));let _0x5cd674=[],_0x14dd85=await this['client'][_0x1583f4(0x150)](),_0x546ab9=Object[_0x1583f4(0x4fa)](_0x14dd85);for(let _0x180a9d=0x0;_0x180a9d<_0x546ab9[_0x1583f4(0x3b4)];_0x180a9d++){let _0x2312db=_0x546ab9[_0x180a9d];(0x0,w[_0x1583f4(0x26d)])(_0x2312db?.['id'])&&(_0x5cd674['push']({'groupJid':_0x2312db?.['id'],'subject':_0x2312db?.[_0x1583f4(0x219)],'subjectOwner':_0x2312db?.[_0x1583f4(0x1a8)]?.[_0x1583f4(0x8a4)]('@')[0x0],'subjectTime':_0x2312db?.[_0x1583f4(0x1d3)],'creation':_0x2312db?.[_0x1583f4(0x883)],'size':_0x2312db?.[_0x1583f4(0x284)]?.['length'],'owner':_0x2312db?.[_0x1583f4(0x4d0)]?.[_0x1583f4(0x8a4)]('@')[0x0],'desc':_0x2312db?.['desc'],'restrict':_0x2312db?.[_0x1583f4(0x625)],'announce':_0x2312db?.[_0x1583f4(0x669)],'image':null,'isCommunity':_0x2312db?.[_0x1583f4(0x719)],'joinApprovalMode':_0x2312db?.['joinApprovalMode'],'memberCanAddParticipant':_0x2312db?.[_0x1583f4(0x59a)],'participants':_0x2312db?.['participants'],'descOwner':_0x2312db?.[_0x1583f4(0x347)],'descId':_0x2312db?.[_0x1583f4(0x2c2)],'memberAddMode':_0x2312db?.['memberAddMode'],'isCommunityAnnounce':_0x2312db?.['isCommunityAnnounce'],'ephemeralDuration':_0x2312db?.[_0x1583f4(0x346)]||0x0,'author':_0x2312db?.[_0x1583f4(0x579)]}),this['updateChatGroupData'](_0x546ab9[_0x180a9d]));}return _0x5cd674;}catch(_0x228e15){let _0x1338ec=_0x1583f4(0x36b),_0x40cd42=_0x228e15 instanceof Error?_0x228e15[_0x1583f4(0x5e0)]:typeof _0x228e15==_0x1583f4(0x892)?JSON[_0x1583f4(0x365)](_0x228e15):_0x228e15,_0x192ee2=_0x1338ec+':\x20'+_0x40cd42;throw this[_0x1583f4(0x470)][_0x1583f4(0x16b)](this[_0x1583f4(0x25e)]+'\x20('+this['instance'][_0x1583f4(0x16a)]+_0x1583f4(0x741)+_0x192ee2),new U(_0x192ee2);}}async[a0_0x48e44b(0x746)](_0x462255){const _0x2d9414=a0_0x48e44b;let _0x463f36=await this[_0x2d9414(0x850)][_0x2d9414(0x176)][_0x2d9414(0x715)]({'where':{'_id':_0x462255['id']}},this[_0x2d9414(0x844)][_0x2d9414(0x16a)]);if(_0x462255['subjectTime']=_0x462255?.[_0x2d9414(0x1d3)]&&_0x462255[_0x2d9414(0x1d3)][_0x2d9414(0x691)]()['length']<0xd?_0x462255?.[_0x2d9414(0x1d3)]*0x3e8:_0x462255?.[_0x2d9414(0x1d3)]||null,_0x462255[_0x2d9414(0x883)]=_0x462255?.[_0x2d9414(0x883)]&&_0x462255['creation'][_0x2d9414(0x691)]()[_0x2d9414(0x3b4)]<0xd?_0x462255?.[_0x2d9414(0x883)]*0x3e8:_0x462255?.[_0x2d9414(0x883)]||null,!_0x462255[_0x2d9414(0x305)])try{_0x462255['image']=await this[_0x2d9414(0x70c)][_0x2d9414(0x79d)](_0x462255['id'],_0x2d9414(0x39b));}catch(_0x259b47){this['logger']['verbose'](this[_0x2d9414(0x25e)]+'\x20('+this['instance'][_0x2d9414(0x16a)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x462255['id']+':\x20'+(_0x259b47 instanceof Error?_0x259b47['message']:JSON['stringify'](_0x259b47,null,0x2)));}let _0x1e1b9b=_0x462255[_0x2d9414(0x284)]['map'](_0x1a0422=>{const _0x24462a=_0x2d9414;let _0x3e08e8=_0x463f36?.[_0x24462a(0x45c)]?.[_0x24462a(0x284)][_0x24462a(0x1ae)](_0x27fbca=>_0x27fbca['id']===_0x1a0422['id']);return{..._0x1a0422,'isAdmin':[_0x24462a(0x86f),_0x24462a(0x8b1)][_0x24462a(0x1d0)](_0x1a0422[_0x24462a(0x86f)]),'admin':_0x1a0422[_0x24462a(0x86f)],'name':_0x3e08e8?.[_0x24462a(0x5ff)]||_0x1a0422[_0x24462a(0x5ff)],'imgUrl':_0x3e08e8?.[_0x24462a(0x3d1)]||_0x1a0422['imgUrl']};}),_0x4af1ed=_0x1e1b9b[_0x2d9414(0x426)](_0x464bd5=>_0x464bd5['id']===this[_0x2d9414(0x844)][_0x2d9414(0x16a)]+_0x2d9414(0x212)&&_0x464bd5[_0x2d9414(0x86f)]!=null)||!0x1,_0x5e7150=(!_0x462255[_0x2d9414(0x669)]||_0x4af1ed)&&(!_0x462255[_0x2d9414(0x719)]||_0x4af1ed),_0x17ebd7={..._0x462255,'participants':_0x1e1b9b,'awaitingApproval':_0x463f36?.['groupdata']?.[_0x2d9414(0x218)]||[],'lastFetchAwaitingApproval':_0x463f36?.[_0x2d9414(0x45c)]?.[_0x2d9414(0x37d)],'isAdmin':_0x4af1ed,'canSendMessage':_0x5e7150,'lastUpdate':Date['now']()};await this[_0x2d9414(0x850)]['chat'][_0x2d9414(0x7b8)]({'where':{'_id':_0x462255['id']}},{'imagechat':_0x462255[_0x2d9414(0x305)],'name':_0x462255[_0x2d9414(0x219)],'group':!0x0,'groupdata':_0x17ebd7,'lastcache':Date[_0x2d9414(0x23c)]()},this[_0x2d9414(0x844)][_0x2d9414(0x16a)]),F(this[_0x2d9414(0x25e)],'chats',{'chat':_0x462255});}async['updateGroupWebhook'](_0x8c05b5){const _0x37b77b=a0_0x48e44b;let _0xe83d86=await this[_0x37b77b(0x850)]['chat']['findOne']({'where':{'_id':_0x8c05b5['id']}},this['instance'][_0x37b77b(0x16a)]);_0x8c05b5['subjectTime']=_0x8c05b5?.['subjectTime']&&_0x8c05b5['subjectTime'][_0x37b77b(0x691)]()['length']<0xd?_0x8c05b5?.['subjectTime']*0x3e8:_0x8c05b5?.[_0x37b77b(0x1d3)]||null,_0x8c05b5[_0x37b77b(0x883)]=_0x8c05b5?.['creation']&&_0x8c05b5['creation']['toString']()[_0x37b77b(0x3b4)]<0xd?_0x8c05b5?.[_0x37b77b(0x883)]*0x3e8:_0x8c05b5?.[_0x37b77b(0x883)]||null,_0x8c05b5['inviteCode']&&(_0x8c05b5[_0x37b77b(0x427)]=_0x37b77b(0x859)+_0x8c05b5[_0x37b77b(0x427)]);let _0x103fe3=_0xe83d86?.[_0x37b77b(0x45c)]?{..._0xe83d86['groupdata']}:{};Object[_0x37b77b(0x6df)](_0x8c05b5)[_0x37b77b(0x3f6)](_0x314827=>{_0x314827!=='id'&&(_0x103fe3[_0x314827]=_0x8c05b5[_0x314827]);});let _0x77fed9=_0x103fe3['participants']?.[_0x37b77b(0x426)](_0x36b9e8=>_0x36b9e8['id']===this[_0x37b77b(0x844)][_0x37b77b(0x16a)]+_0x37b77b(0x212)&&_0x36b9e8[_0x37b77b(0x86f)]!=null)||!0x1;_0x103fe3[_0x37b77b(0x810)]=_0x77fed9;let _0xab4dfa=(!_0x103fe3[_0x37b77b(0x669)]||_0x77fed9)&&(!_0x103fe3['isCommunity']||_0x77fed9);_0x103fe3[_0x37b77b(0x75d)]=_0xab4dfa;let _0x118497={'group':!0x0,'groupdata':_0x103fe3};_0x8c05b5[_0x37b77b(0x219)]&&(_0x118497[_0x37b77b(0x5ff)]=_0x8c05b5[_0x37b77b(0x219)]),await this['repository'][_0x37b77b(0x176)][_0x37b77b(0x7b8)]({'where':{'_id':_0x8c05b5['id']}},_0x118497,this['instance']['wuid'],{'upsert':!0x0}),F(this[_0x37b77b(0x25e)],_0x37b77b(0x482),{'chat':_0x118497});}async[a0_0x48e44b(0x6d9)](_0x435086){const _0x4ba02c=a0_0x48e44b;let _0x62cd4=await this[_0x4ba02c(0x850)]['chat'][_0x4ba02c(0x715)]({'where':{'_id':_0x435086['id']}},this[_0x4ba02c(0x844)][_0x4ba02c(0x16a)]);if(!_0x62cd4||!_0x62cd4[_0x4ba02c(0x45c)]){this[_0x4ba02c(0x470)]['info'](this['instanceName']+'\x20('+this[_0x4ba02c(0x844)]['wuid']+_0x4ba02c(0x8bd)+_0x435086['id']);return;}let _0x587656=await this[_0x4ba02c(0x850)][_0x4ba02c(0x5b2)]['findManyByIds'](_0x435086[_0x4ba02c(0x284)]),_0x48a678=[..._0x62cd4[_0x4ba02c(0x45c)]?.['participants']];switch(_0x435086['action']){case'add':_0x587656[_0x4ba02c(0x3ad)](_0x24e5bc=>({'id':_0x24e5bc[_0x4ba02c(0x477)],'isAdmin':!0x1,'name':_0x24e5bc['name'],'imgUrl':_0x24e5bc[_0x4ba02c(0x6b6)]}))[_0x4ba02c(0x3f6)](_0x483314=>{const _0x1ce7a6=_0x4ba02c;_0x48a678[_0x1ce7a6(0x426)](_0x591700=>_0x591700['id']===_0x483314['id'])||(_0x48a678['push'](_0x483314),this['logger']['info']('Adicionando\x20novo\x20participante:\x20'+JSON[_0x1ce7a6(0x365)](_0x483314)));});break;case _0x4ba02c(0x2bd):_0x48a678=_0x48a678[_0x4ba02c(0x20c)](_0x285f32=>!_0x435086[_0x4ba02c(0x284)]['includes'](_0x285f32['id']));break;case _0x4ba02c(0x704):_0x48a678=_0x48a678[_0x4ba02c(0x3ad)](_0x19234e=>_0x435086[_0x4ba02c(0x284)][_0x4ba02c(0x1d0)](_0x19234e['id'])?{..._0x19234e,'isAdmin':!0x0,'admin':'admin'}:_0x19234e);break;case'demote':_0x48a678=_0x48a678[_0x4ba02c(0x3ad)](_0x12c90d=>_0x435086[_0x4ba02c(0x284)]['includes'](_0x12c90d['id'])?{..._0x12c90d,'isAdmin':!0x1,'admin':null}:_0x12c90d);break;}let _0x4da34a=_0x48a678['length'],_0x337477=_0x48a678[_0x4ba02c(0x426)](_0x5e8636=>_0x5e8636['id']===this[_0x4ba02c(0x844)][_0x4ba02c(0x16a)]+_0x4ba02c(0x212)),_0x597817=_0x337477&&_0x48a678[_0x4ba02c(0x426)](_0x3dcf3e=>_0x3dcf3e['id']===this[_0x4ba02c(0x844)]['wuid']+_0x4ba02c(0x212)&&_0x3dcf3e[_0x4ba02c(0x86f)]!=null)||!0x1,_0x466f4b=_0x337477&&(!_0x62cd4[_0x4ba02c(0x45c)][_0x4ba02c(0x669)]||_0x597817)&&(!_0x62cd4['groupdata'][_0x4ba02c(0x719)]||_0x597817);await this['repository'][_0x4ba02c(0x176)][_0x4ba02c(0x7b8)]({'where':{'_id':_0x435086['id']}},{'groupdata':{..._0x62cd4[_0x4ba02c(0x45c)],'participants':_0x48a678,'size':_0x4da34a,'isAdmin':_0x597817,'canSendMessage':_0x466f4b}},this[_0x4ba02c(0x844)][_0x4ba02c(0x16a)]),this[_0x4ba02c(0x470)][_0x4ba02c(0x6cf)](this[_0x4ba02c(0x25e)]+'\x20('+this[_0x4ba02c(0x844)]['wuid']+'):\x20Grupo\x20'+_0x435086['id']+'\x20atualizado\x20com\x20sucesso.\x20Ação:\x20'+_0x435086['action']+',\x20Novo\x20tamanho:\x20'+_0x4da34a+_0x4ba02c(0x46a)+_0x597817+_0x4ba02c(0x8c4)+_0x466f4b);}async[a0_0x48e44b(0x427)](_0x142789,_0x783e8b=!0x0){const _0x286ee9=a0_0x48e44b;try{let _0x3feaf5=await this[_0x286ee9(0x70c)][_0x286ee9(0x65c)](_0x142789[_0x286ee9(0x20f)]),_0x1ae905={'groupdata.inviteCode':_0x286ee9(0x859)+_0x3feaf5};if(_0x783e8b){let _0x2cb41b=await this[_0x286ee9(0x850)][_0x286ee9(0x176)][_0x286ee9(0x7b8)]({'where':{'_id':_0x142789['groupJid']}},_0x1ae905,this[_0x286ee9(0x844)][_0x286ee9(0x16a)]);}return{'inviteUrl':_0x286ee9(0x859)+_0x3feaf5,'inviteCode':_0x3feaf5};}catch(_0x48cc1b){let _0x14464a=_0x286ee9(0x7ab),_0x5f317e=_0x48cc1b instanceof Error?_0x48cc1b[_0x286ee9(0x5e0)]:typeof _0x48cc1b=='object'?JSON[_0x286ee9(0x365)](_0x48cc1b):_0x48cc1b,_0x514885=_0x14464a+':\x20'+_0x5f317e;throw this[_0x286ee9(0x470)][_0x286ee9(0x16b)](this[_0x286ee9(0x25e)]+'\x20('+this[_0x286ee9(0x844)][_0x286ee9(0x16a)]+_0x286ee9(0x741)+_0x514885),new U(_0x514885);}}async[a0_0x48e44b(0x839)](_0x580856){const _0x159a75=a0_0x48e44b;try{let _0x5aff6c=await this[_0x159a75(0x70c)][_0x159a75(0x4e2)](_0x580856[_0x159a75(0x20f)]);return{'revoked':!0x0,'inviteUrl':_0x159a75(0x859)+_0x5aff6c,'inviteCode':_0x5aff6c};}catch(_0x2b0e28){let _0x3daeb6=_0x159a75(0x2c1),_0x5c3134=_0x2b0e28 instanceof Error?_0x2b0e28[_0x159a75(0x5e0)]:typeof _0x2b0e28==_0x159a75(0x892)?JSON[_0x159a75(0x365)](_0x2b0e28):_0x2b0e28,_0x15a343=_0x3daeb6+':\x20'+_0x5c3134;throw this[_0x159a75(0x470)][_0x159a75(0x16b)](this[_0x159a75(0x25e)]+'\x20('+this['instance'][_0x159a75(0x16a)]+_0x159a75(0x741)+_0x15a343),new U(_0x15a343);}}async[a0_0x48e44b(0x607)](_0x236e35){const _0x38bc5a=a0_0x48e44b;try{if((0x0,J['isURL'])(_0x236e35[_0x38bc5a(0x427)]))var _0x2e101f=_0x236e35[_0x38bc5a(0x427)]['split']('/')[0x3];else var _0x2e101f=_0x236e35[_0x38bc5a(0x427)];let _0x2ea4b0=await this[_0x38bc5a(0x70c)][_0x38bc5a(0x566)](_0x2e101f);return this['logger'][_0x38bc5a(0x4b1)](this['instanceName']+'\x20('+this[_0x38bc5a(0x844)][_0x38bc5a(0x16a)]+_0x38bc5a(0x741)+_0x2ea4b0),{'join':!0x0,'inviteCode':_0x2e101f,'groupJid':_0x2ea4b0};}catch(_0xedf43f){let _0x45f272=_0x38bc5a(0x84b),_0x3a6c6a=_0xedf43f instanceof Error?_0xedf43f[_0x38bc5a(0x5e0)]:typeof _0xedf43f==_0x38bc5a(0x892)?JSON[_0x38bc5a(0x365)](_0xedf43f):_0xedf43f,_0x23ab98=_0x45f272+':\x20'+_0x3a6c6a;throw this[_0x38bc5a(0x470)][_0x38bc5a(0x16b)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x38bc5a(0x741)+_0x23ab98),new U(_0x23ab98);}}async[a0_0x48e44b(0x1fe)](_0xea1b6f){const _0x470e47=a0_0x48e44b;try{return{'participants':(await this['repository']['chat']['findOne']({'where':{'_id':_0xea1b6f['groupJid']}},this['instance'][_0x470e47(0x16a)]))[_0x470e47(0x45c)]['participants']};}catch(_0x3bc24e){let _0x18742d=_0x470e47(0x5e3),_0x279e49=_0x3bc24e instanceof Error?_0x3bc24e[_0x470e47(0x5e0)]:typeof _0x3bc24e=='object'?JSON[_0x470e47(0x365)](_0x3bc24e):_0x3bc24e,_0x103c79=_0x18742d+':\x20'+_0x279e49;throw this[_0x470e47(0x470)][_0x470e47(0x16b)](this[_0x470e47(0x25e)]+'\x20('+this[_0x470e47(0x844)][_0x470e47(0x16a)]+_0x470e47(0x741)+_0x103c79),new U(_0x103c79);}}async[a0_0x48e44b(0x449)](_0xff9000){const _0xe5dd87=a0_0x48e44b;try{return await this[_0xe5dd87(0x70c)][_0xe5dd87(0x549)](_0xff9000[_0xe5dd87(0x20f)]),{'groupJid':_0xff9000[_0xe5dd87(0x20f)],'leave':!0x0};}catch(_0x7cdcac){let _0xff8c12='Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup',_0x19e855=_0x7cdcac instanceof Error?_0x7cdcac[_0xe5dd87(0x5e0)]:typeof _0x7cdcac==_0xe5dd87(0x892)?JSON['stringify'](_0x7cdcac):_0x7cdcac,_0x346520=_0xff8c12+':\x20'+_0x19e855;throw this[_0xe5dd87(0x470)][_0xe5dd87(0x16b)](this[_0xe5dd87(0x25e)]+'\x20('+this['instance'][_0xe5dd87(0x16a)]+_0xe5dd87(0x741)+_0x346520),new m(_0x346520);}}async[a0_0x48e44b(0x31b)](_0x57a118){const _0x4436f9=a0_0x48e44b;return await this[_0x4436f9(0x73d)](_0x57a118[_0x4436f9(0x156)],{'poll':{'name':_0x57a118[_0x4436f9(0x31b)]?.[_0x4436f9(0x5ff)],'selectableCount':_0x57a118[_0x4436f9(0x31b)]['selectableCount'],'values':_0x57a118[_0x4436f9(0x31b)][_0x4436f9(0x4fa)]}},_0x57a118?.[_0x4436f9(0x2d2)]);}async[a0_0x48e44b(0x264)](_0x55087f){const _0x145bd6=a0_0x48e44b;return await this[_0x145bd6(0x73d)](_0x55087f[_0x145bd6(0x156)],{'listMessage':{'title':_0x55087f[_0x145bd6(0x264)][_0x145bd6(0x526)],'description':_0x55087f['listMessage'][_0x145bd6(0x797)],'buttonText':_0x55087f['listMessage']?.[_0x145bd6(0x7f4)],'footerText':_0x55087f[_0x145bd6(0x264)]?.[_0x145bd6(0x689)],'sections':_0x55087f[_0x145bd6(0x264)][_0x145bd6(0x41b)],'listType':0x2}},_0x55087f?.['options']);}async[a0_0x48e44b(0x3d8)](_0x4c5711){const _0x1db2d2=a0_0x48e44b;this[_0x1db2d2(0x844)][_0x1db2d2(0x462)]===void 0x0&&await this[_0x1db2d2(0x599)]();let _0x28999a;if(_0x4c5711[_0x1db2d2(0x3d8)][_0x1db2d2(0x418)]===_0x1db2d2(0x1a3)||_0x4c5711[_0x1db2d2(0x3d8)][_0x1db2d2(0x418)]===_0x1db2d2(0x706)){let _0x4319ba=_0x4c5711[_0x1db2d2(0x3d8)]['text']['indexOf']('\x0a'),_0x4d84eb='',_0x37a84a='';_0x4319ba!==-0x1?(_0x4d84eb=_0x4c5711['menuMessage']['text'][_0x1db2d2(0x217)](0x0,_0x4319ba)[_0x1db2d2(0x4ed)](),_0x37a84a=_0x4c5711['menuMessage'][_0x1db2d2(0x1de)][_0x1db2d2(0x217)](_0x4319ba+0x1)):_0x37a84a=_0x4c5711[_0x1db2d2(0x3d8)][_0x1db2d2(0x1de)];let _0x43612d=_0x4c5711[_0x1db2d2(0x3d8)][_0x1db2d2(0x14e)][_0x1db2d2(0x20c)](_0x149e60=>_0x149e60['trim']()!==''),_0x3bfaff=this[_0x1db2d2(0x487)](_0x43612d);_0x28999a={'listMessage':{'title':_0x4d84eb,'description':_0x37a84a,'buttonText':_0x4c5711[_0x1db2d2(0x3d8)][_0x1db2d2(0x7f4)]||_0x1db2d2(0x2f9),'footerText':_0x4c5711[_0x1db2d2(0x3d8)][_0x1db2d2(0x689)],'sections':_0x3bfaff,'listType':0x2}};}else{if(_0x4c5711[_0x1db2d2(0x3d8)][_0x1db2d2(0x418)]===_0x1db2d2(0x74f)){let _0x5da70d=_0x4c5711['menuMessage'][_0x1db2d2(0x14e)]['filter'](_0x332916=>!(_0x332916['startsWith']('[')&&_0x332916[_0x1db2d2(0x5b8)](']'))&&_0x332916[_0x1db2d2(0x4ed)]()!=='')[_0x1db2d2(0x3ad)](_0x1fe48f=>_0x1fe48f[_0x1db2d2(0x8a4)]('\x0a')[0x0]);for(;_0x5da70d[_0x1db2d2(0x3b4)]<0x2;)_0x5da70d[_0x1db2d2(0x518)](_0x1db2d2(0x226)+(_0x5da70d['length']+0x1));_0x28999a={'poll':{'name':_0x4c5711['menuMessage'][_0x1db2d2(0x1de)],'selectableCount':_0x4c5711['menuMessage']['selectableCount']||0x1,'values':_0x5da70d}};}else{if(_0x4c5711[_0x1db2d2(0x3d8)]['type']==='button'){let _0x553858=this[_0x1db2d2(0x897)](_0x4c5711[_0x1db2d2(0x3d8)][_0x1db2d2(0x14e)]['filter'](_0x5df933=>!(_0x5df933[_0x1db2d2(0x7fd)]('[')&&_0x5df933[_0x1db2d2(0x5b8)](']'))));return _0x28999a={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x4c5711[_0x1db2d2(0x3d8)][_0x1db2d2(0x1de)]},'footer':_0x4c5711[_0x1db2d2(0x3d8)][_0x1db2d2(0x689)]?{'text':_0x4c5711['menuMessage'][_0x1db2d2(0x689)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x553858,'messageParamsJson':JSON['stringify']({'from':'api','templateId':_0x1db2d2(0x46e)+(0x0,ne[_0x1db2d2(0x8b9)])(0x12)[_0x1db2d2(0x691)](_0x1db2d2(0x47d))['toUpperCase']()})}}}}},await this[_0x1db2d2(0x37e)](_0x4c5711[_0x1db2d2(0x156)],_0x28999a,_0x4c5711?.['options']);}else{if(_0x4c5711[_0x1db2d2(0x3d8)][_0x1db2d2(0x418)]==='list3'){let _0xa9805f=this[_0x1db2d2(0x4c6)](_0x4c5711[_0x1db2d2(0x3d8)][_0x1db2d2(0x14e)]);return _0x28999a={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x4c5711[_0x1db2d2(0x3d8)][_0x1db2d2(0x1de)]},'footer':_0x4c5711[_0x1db2d2(0x3d8)][_0x1db2d2(0x689)]?{'text':_0x4c5711[_0x1db2d2(0x3d8)][_0x1db2d2(0x689)]}:void 0x0,'nativeFlowMessage':{'buttons':_0xa9805f,'messageParamsJson':JSON[_0x1db2d2(0x365)]({'from':_0x1db2d2(0x480),'templateId':_0x1db2d2(0x46e)+(0x0,ne['randomBytes'])(0x12)[_0x1db2d2(0x691)](_0x1db2d2(0x47d))[_0x1db2d2(0x7e2)]()})}}}}},await this[_0x1db2d2(0x37e)](_0x4c5711['number'],_0x28999a,_0x4c5711?.['options']);}}}}return await this[_0x1db2d2(0x73d)](_0x4c5711[_0x1db2d2(0x156)],_0x28999a,_0x4c5711?.[_0x1db2d2(0x2d2)]);}[a0_0x48e44b(0x897)](_0x5d4cfb){const _0x3e7c32=a0_0x48e44b;return _0x5d4cfb[_0x3e7c32(0x3ad)](_0x166bae=>{const _0x4bccd9=_0x3e7c32;let _0x519d0d=_0x166bae[_0x4bccd9(0x8a4)]('\x0a')[_0x4bccd9(0x3ad)](_0x512452=>_0x512452[_0x4bccd9(0x4ed)]()),_0x58211d=_0x519d0d[0x0],_0x47ee69=_0x519d0d[0x1]||_0x58211d,_0x54852a=_0x47ee69['startsWith'](_0x4bccd9(0x66a))?_0x4bccd9(0x81f):'quick_reply';return{'name':_0x54852a,'buttonParamsJson':JSON[_0x4bccd9(0x365)]({'display_text':_0x58211d,'id':_0x54852a==='quick_reply'?_0x47ee69:void 0x0,'url':_0x54852a==='cta_url'?_0x47ee69:void 0x0})};});}[a0_0x48e44b(0x4c6)](_0x3131d2){const _0x4b5bb4=a0_0x48e44b;let _0x35876d=[],_0x1dd75d={'title':'','rows':[]};return _0x3131d2['forEach'](_0x1152b3=>{const _0x186f87=a0_0x43f2;if(_0x1152b3[_0x186f87(0x7fd)]('[')&&_0x1152b3[_0x186f87(0x5b8)](']'))_0x1dd75d[_0x186f87(0x2c8)][_0x186f87(0x3b4)]>0x0&&_0x35876d[_0x186f87(0x518)](_0x1dd75d),_0x1dd75d={'title':_0x1152b3[_0x186f87(0x6d2)](0x1,-0x1),'rows':[]};else{let _0x2e8738=_0x1152b3[_0x186f87(0x8a4)]('\x0a')[_0x186f87(0x3ad)](_0x562ef0=>_0x562ef0[_0x186f87(0x4ed)]()),_0x4888ae=_0x2e8738[0x0],_0x2b307c=_0x2e8738[0x1]?_0x2e8738[0x1]:void 0x0,_0x2c4027=_0x2e8738[0x2]||_0x4888ae;_0x1dd75d[_0x186f87(0x2c8)][_0x186f87(0x518)]({'title':_0x4888ae,'description':_0x2b307c,'id':_0x2c4027});}}),_0x1dd75d[_0x4b5bb4(0x2c8)][_0x4b5bb4(0x3b4)]>0x0&&_0x35876d[_0x4b5bb4(0x518)](_0x1dd75d),[{'name':_0x4b5bb4(0x5a9),'buttonParamsJson':JSON[_0x4b5bb4(0x365)]({'title':_0x4b5bb4(0x85a),'sections':_0x35876d})}];}[a0_0x48e44b(0x487)](_0x2e1630){const _0xc87ed6=a0_0x48e44b;let _0x5d2b91=[],_0x5107c4={'rows':[]};return _0x2e1630[_0xc87ed6(0x3f6)](_0x58de88=>{const _0x2f5d17=_0xc87ed6;if(_0x58de88[_0x2f5d17(0x7fd)]('[')&&_0x58de88['endsWith'](']'))_0x5107c4[_0x2f5d17(0x2c8)][_0x2f5d17(0x3b4)]>0x0&&_0x5d2b91[_0x2f5d17(0x518)](_0x5107c4),_0x5107c4={'title':_0x58de88[_0x2f5d17(0x6d2)](0x1,-0x1),'rows':[]};else{let _0x35ca09=_0x58de88[_0x2f5d17(0x8a4)]('\x0a')[_0x2f5d17(0x3ad)](_0x22b25e=>_0x22b25e['trim']()),_0x5b74af=_0x35ca09[0x0],_0x11c126=_0x35ca09[0x1]||null,_0x432da5=_0x35ca09[0x2]||_0x5b74af;_0x5107c4[_0x2f5d17(0x2c8)][_0x2f5d17(0x518)]({'title':_0x5b74af,'description':_0x11c126,'rowId':_0x432da5});}}),_0x5107c4[_0xc87ed6(0x2c8)]['length']>0x0&&_0x5d2b91[_0xc87ed6(0x518)](_0x5107c4),_0x5d2b91;}async[a0_0x48e44b(0x86a)](_0x34749c,_0x2c3ef8){const _0xe7e0a5=a0_0x48e44b;if(await this[_0xe7e0a5(0x2f7)](_0x34749c,!0x0)){let _0x34f41b={'where':{'_id':_0x34749c['id']}},_0x384069={'status':[_0x2c3ef8['status']][0x0]};try{let _0xfca081=await this[_0xe7e0a5(0x850)][_0xe7e0a5(0x5e0)]['update'](_0x34f41b,_0x384069,this[_0xe7e0a5(0x844)]['wuid']);_0xfca081&&F(this[_0xe7e0a5(0x25e)],_0xe7e0a5(0x7ff),{'message':_0xfca081});}catch{}}}[a0_0x48e44b(0x3d0)](_0x5dec78){const _0x232533=a0_0x48e44b;let _0x4d9294=[];return _0x5dec78['forEach'](_0x5664c0=>{const _0x1f9b0c=a0_0x43f2;_0x5664c0[_0x1f9b0c(0x526)]&&_0x4d9294[_0x1f9b0c(0x518)]('['+_0x5664c0['title']+']'),_0x5664c0[_0x1f9b0c(0x2c8)]['forEach'](_0x15cd18=>{const _0x11a848=_0x1f9b0c;_0x4d9294[_0x11a848(0x518)](_0x15cd18[_0x11a848(0x526)]);});}),_0x4d9294[_0x232533(0x739)]('|');}['formatVCard'](_0x326afb){const _0x5547c4=a0_0x48e44b;let _0x20589f=_0x326afb['replace'](/\\n/g,'\x0a')['split']('\x0a')[_0x5547c4(0x20c)](_0x80cb86=>_0x80cb86['includes']('TEL')||_0x80cb86[_0x5547c4(0x1d0)]('EMAIL')),_0x3b62b6='';return _0x20589f[_0x5547c4(0x3f6)](_0x2bbb63=>{const _0x3cd6cf=_0x5547c4;let _0x30bff6=/TEL(?:.*):(.+)/,_0x1a3d85=/EMAIL(?:.*):(.+)/,_0x57d808=_0x2bbb63[_0x3cd6cf(0x5f6)](_0x30bff6),_0x5145de=_0x2bbb63[_0x3cd6cf(0x5f6)](_0x1a3d85);if(_0x57d808){let _0x338b9a=_0x57d808[0x1][_0x3cd6cf(0x67e)](/-| |\+|\(|\)/g,'')[_0x3cd6cf(0x4ed)]();_0x3b62b6+=_0x3cd6cf(0x297)+_0x338b9a+'\x0a';}else{if(_0x5145de){let _0x1d9403=_0x5145de[0x1][_0x3cd6cf(0x4ed)]();_0x3b62b6+='E-mail:\x20'+_0x1d9403+'\x0a';}}}),_0x3b62b6[_0x5547c4(0x4ed)]();}async['updateChatWithMessage'](_0x46b067,_0x4d153b,_0x4cd2d8,_0x1452f9=null){const _0x4c7474=a0_0x48e44b;if(_0x46b067['ENABLED'])try{let _0x1b2ad2=_0x4d153b[_0x4c7474(0x744)]['remoteJid'][_0x4c7474(0x67e)](/:\d{1,2}@/g,'@'),_0x209809=_0x4d153b[_0x4c7474(0x744)][_0x4c7474(0x479)],_0x5de12e=_0x1b2ad2[_0x4c7474(0x5b8)](_0x4c7474(0x4cd)),_0x21167e=_0x4d153b[_0x4c7474(0x201)]?.[_0x4c7474(0x67e)](/:\d{1,2}@/g,'@')||'',_0x4e0493=_0x4d153b[_0x4c7474(0x7bf)]?.['text']||_0x4d153b[_0x4c7474(0x7bf)]?.['caption']||_0x4d153b[_0x4c7474(0x7bf)]?.[_0x4c7474(0x79a)]||_0x4d153b['message_normalized']?.[_0x4c7474(0x5ff)]||'',_0x1a33e4={'_id':_0x4d153b['_id'],'remoteJid':_0x209809?this[_0x4c7474(0x844)][_0x4c7474(0x16a)]:_0x5de12e?_0x21167e:_0x1b2ad2,'pushName':_0x209809?this[_0x4c7474(0x844)][_0x4c7474(0x3aa)]||'Eu':_0x4d153b[_0x4c7474(0x619)],'text':_0x4e0493,'type':_0x4d153b[_0x4c7474(0x82d)],'when':_0x4d153b[_0x4c7474(0x321)]||Date[_0x4c7474(0x23c)]()};_0x1452f9||(_0x1452f9=await this[_0x4c7474(0x850)][_0x4c7474(0x176)]['findOne']({'where':{'_id':_0x1b2ad2}},this[_0x4c7474(0x844)]['wuid']));let _0x12e5ef=_0x209809?0x0:_0x1452f9?(_0x1452f9['unreadcount']||0x0)+0x1:0x1,_0x484973={'lastmsg':_0x4d153b[_0x4c7474(0x321)]||Date['now'](),'ephemeralExpiration':_0x4d153b['expiration'],'lastMessage':_0x1a33e4,'unreadcount':_0x12e5ef,..._0x209809||_0x5de12e?{}:{'name':_0x4d153b['pushName']},..._0x5de12e?{'group':_0x5de12e}:{},...!_0x209809&&!_0x5de12e&&_0x4d153b[_0x4c7474(0x79d)]?{'imagechat':_0x4d153b[_0x4c7474(0x79d)]}:{}};if(!_0x5de12e&&(!_0x1452f9?.[_0x4c7474(0x837)]||!_0x1452f9[_0x4c7474(0x837)][_0x4c7474(0x2ed)])&&_0x4d153b[_0x4c7474(0x619)]&&!_0x209809&&(_0x484973={..._0x484973,'leadInfo.nome':_0x4d153b[_0x4c7474(0x619)]}),_0x1452f9?.['leadInfo'][_0x4c7474(0x3c6)]||(_0x484973={..._0x484973,'leadInfo.etiquetas':[]}),_0x1452f9?.[_0x4c7474(0x837)]['customFields']||(_0x484973={..._0x484973,'leadInfo.customFields':[]}),_0x1452f9?.[_0x4c7474(0x837)][_0x4c7474(0x814)]||(_0x484973={..._0x484973,'leadInfo.tags':[]}),_0x1452f9&&_0x1452f9?.['imported']){let _0x50ce8f=await this[_0x4c7474(0x850)][_0x4c7474(0x1bf)][_0x4c7474(0x1ae)]({'where':{}},this[_0x4c7474(0x844)][_0x4c7474(0x16a)]),_0x170f68=new Set(_0x50ce8f['map'](_0x53f223=>_0x53f223['_id'])),_0x1b1288=(_0x1452f9['leadInfo']?.[_0x4c7474(0x3c6)]||[])[_0x4c7474(0x20c)](_0xfc57e1=>_0x170f68[_0x4c7474(0x31f)](_0xfc57e1));_0x484973={..._0x484973,'imported':!0x1,'leadInfo.etiquetas':_0x1b1288};for(let _0x2c871d of _0x1b1288)await this['AddChatLabel'](_0x2c871d,_0x1b2ad2);}if(!this[_0x4c7474(0x7c6)][_0x4c7474(0x166)][_0x4c7474(0x1ae)](_0x315f38=>_0x315f38['startCommand']&&_0x4e0493['includes'](_0x315f38[_0x4c7474(0x57b)]))&&_0x4cd2d8===_0x4c7474(0x4c2)&&_0x209809&&this[_0x4c7474(0x7c6)]?.[_0x4c7474(0x2e1)][_0x4c7474(0x528)]&&_0x4e0493[_0x4c7474(0x4ed)]()!==this[_0x4c7474(0x7c6)]?.[_0x4c7474(0x2e1)][_0x4c7474(0x8b6)][_0x4c7474(0x4ed)]()){let _0x4069ac=(this[_0x4c7474(0x7c6)]?.['flowConfig']['stopWhenYouSendMsg']||0x0)*0xea60,_0xcd1d29=Date[_0x4c7474(0x23c)]()+_0x4069ac;_0x1452f9?.['leadInfo']?.[_0x4c7474(0x326)]===0x0||(_0x484973={..._0x484973,'leadInfo.desativadoFluxoAte':_0xcd1d29},this['logger'][_0x4c7474(0x4b1)](this['instanceName']+'\x20('+this['instance'][_0x4c7474(0x16a)]+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0xcd1d29+'.'));}if(_0x4e0493['trim']()===this[_0x4c7474(0x7c6)]?.['flowConfig'][_0x4c7474(0x8b6)][_0x4c7474(0x4ed)]()){this[_0x4c7474(0x470)][_0x4c7474(0x4b1)](this[_0x4c7474(0x25e)]+'\x20('+this[_0x4c7474(0x844)][_0x4c7474(0x16a)]+'):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20'+_0x4e0493);let _0x44567d=Date[_0x4c7474(0x23c)]();this[_0x4c7474(0x7c6)]?.['flowConfig'][_0x4c7474(0x592)]===0x0?_0x484973={..._0x484973,'leadInfo.desativadoFluxoAte':_0x44567d+0x7591f6200}:_0x484973={..._0x484973,'leadInfo.desativadoFluxoAte':_0x44567d+this[_0x4c7474(0x7c6)]?.[_0x4c7474(0x2e1)][_0x4c7474(0x592)]*0x3c*0x3e8};}if(_0x1452f9=await this[_0x4c7474(0x850)]['chat']['updateOne']({'where':{'_id':_0x1b2ad2}},_0x484973,this[_0x4c7474(0x844)]['wuid'],{'new':!0x0,'upsert':!0x0}),_0x1452f9)F(this[_0x4c7474(0x25e)],_0x4c7474(0x482),{'chat':_0x1452f9});else{this[_0x4c7474(0x470)][_0x4c7474(0x16b)](this['instanceName']+'\x20('+this[_0x4c7474(0x844)][_0x4c7474(0x16a)]+_0x4c7474(0x622));return;}if(_0x209809)return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4c7474(0x844)][_0x4c7474(0x16a)]+_0x4c7474(0x81e)),null;if(!this[_0x4c7474(0x7c6)]?.[_0x4c7474(0x2e1)][_0x4c7474(0x528)])return this[_0x4c7474(0x470)]['verbose'](this[_0x4c7474(0x25e)]+'\x20('+this[_0x4c7474(0x844)]['wuid']+'):\x20Flow\x20desativado'),null;if(_0x1452f9['_id']['includes']('@g.us')&&this[_0x4c7474(0x7c6)]?.[_0x4c7474(0x2e1)][_0x4c7474(0x278)]===!0x0)return this[_0x4c7474(0x470)][_0x4c7474(0x4b1)](this[_0x4c7474(0x25e)]+'\x20('+this[_0x4c7474(0x844)][_0x4c7474(0x16a)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x1452f9[_0x4c7474(0x837)]){if(_0x1452f9[_0x4c7474(0x837)]['desativadoFluxoAte']===0x0||_0x1452f9[_0x4c7474(0x837)][_0x4c7474(0x73c)])return this[_0x4c7474(0x470)][_0x4c7474(0x4b1)](this[_0x4c7474(0x25e)]+'\x20('+this[_0x4c7474(0x844)][_0x4c7474(0x16a)]+_0x4c7474(0x273)+_0x1b2ad2+_0x4c7474(0x271)),null;if(_0x1452f9['leadInfo'][_0x4c7474(0x326)]>Date[_0x4c7474(0x23c)]()&&!_0x4d153b[_0x4c7474(0x7bf)]?.[_0x4c7474(0x79a)])return this[_0x4c7474(0x470)][_0x4c7474(0x4b1)](this[_0x4c7474(0x25e)]+'\x20('+this['instance'][_0x4c7474(0x16a)]+_0x4c7474(0x37c)+new Date(_0x1452f9[_0x4c7474(0x837)][_0x4c7474(0x326)])['toLocaleString']()+',\x20saindo.'),null;}this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4c7474(0x844)][_0x4c7474(0x16a)]+_0x4c7474(0x7c2)),this[_0x4c7474(0x197)](_0x4d153b,_0x4cd2d8);}catch(_0x3cd71c){let _0x12d6f2=_0x4c7474(0x2f0),_0x4763e6=_0x3cd71c instanceof Error?_0x3cd71c[_0x4c7474(0x5e0)]:typeof _0x3cd71c==_0x4c7474(0x892)?JSON[_0x4c7474(0x365)](_0x3cd71c):_0x3cd71c,_0x5691e4=_0x12d6f2+':\x20'+_0x4763e6;return this['logger'][_0x4c7474(0x16b)](this[_0x4c7474(0x25e)]+'\x20('+this[_0x4c7474(0x844)][_0x4c7474(0x16a)]+_0x4c7474(0x741)+_0x5691e4),null;}}async['upsertChats'](_0x5d6410,_0x3acc98){const _0x53fb1e=a0_0x48e44b;if(_0x3acc98[_0x53fb1e(0x178)]){let _0x364110=_0x5d6410[_0x53fb1e(0x3ad)](async _0x4dad02=>{const _0x467436=_0x53fb1e;try{let _0x636d21={'_id':_0x4dad02[_0x467436(0x477)],'owner':_0x4dad02[_0x467436(0x4d0)],'lastcache':0x0};if(Object['keys'](_0x4dad02)[_0x467436(0x3f6)](_0x3a3998=>{_0x4dad02[_0x3a3998]!==null&&(_0x636d21[_0x3a3998]=_0x4dad02[_0x3a3998]);}),_0x636d21[_0x467436(0x3f9)]===null&&(_0x636d21['imagechat']=_0x467436(0x148)),Object[_0x467436(0x6df)](_0x636d21)['length']>0x0)return await this[_0x467436(0x850)][_0x467436(0x176)][_0x467436(0x7b8)]({'where':{'_id':_0x4dad02[_0x467436(0x477)]}},_0x636d21,this['instance'][_0x467436(0x16a)]);}catch(_0x574daa){let _0x54daaa=_0x467436(0x157)+_0x4dad02['_id'],_0x1d8c38=_0x574daa instanceof Error?_0x574daa[_0x467436(0x5e0)]:typeof _0x574daa==_0x467436(0x892)?JSON['stringify'](_0x574daa):_0x574daa,_0x3bb053=_0x54daaa+':\x20'+_0x1d8c38;return this[_0x467436(0x470)][_0x467436(0x16b)](this[_0x467436(0x25e)]+'\x20('+this[_0x467436(0x844)][_0x467436(0x16a)]+_0x467436(0x741)+_0x3bb053),null;}}),_0x42eb1a=(await Promise[_0x53fb1e(0x877)](_0x364110))[_0x53fb1e(0x20c)](_0x1f2a2a=>_0x1f2a2a!==null)[_0x53fb1e(0x3b4)];this[_0x53fb1e(0x470)][_0x53fb1e(0x4b1)](this[_0x53fb1e(0x25e)]+'\x20('+this[_0x53fb1e(0x844)][_0x53fb1e(0x16a)]+_0x53fb1e(0x741)+_0x42eb1a+_0x53fb1e(0x1b0)+this[_0x53fb1e(0x844)]['wuid']+_0x53fb1e(0x733));}}async['readMessageBot'](_0x497023){const _0x27ff26=a0_0x48e44b;this[_0x27ff26(0x470)]['verbose'](this['instanceName']+'\x20('+this[_0x27ff26(0x844)][_0x27ff26(0x16a)]+_0x27ff26(0x408));let _0xe0490c={'readMessages':[{'remoteJid':_0x497023[_0x27ff26(0x336)][_0x27ff26(0x4d9)][_0x27ff26(0x744)][_0x27ff26(0x713)],'fromMe':_0x497023[_0x27ff26(0x336)][_0x27ff26(0x4d9)][_0x27ff26(0x744)][_0x27ff26(0x479)],'id':_0x497023[_0x27ff26(0x336)][_0x27ff26(0x4d9)]['key']['id']}]};await this['markMessageAsRead'](_0xe0490c);}async[a0_0x48e44b(0x197)](_0x1d536e,_0x4010f7){const _0x2f174b=a0_0x48e44b;try{let {key:_0x283474,message_normalized:_0x5709e7}=_0x1d536e,_0x787b4=_0x5709e7,_0x2ad9aa=_0x5709e7[_0x2f174b(0x1de)]||_0x5709e7[_0x2f174b(0x1e7)]||_0x5709e7[_0x2f174b(0x79a)]||_0x5709e7['name']||'',_0x122908=_0x283474[_0x2f174b(0x713)],_0x373b6a=null,_0x4df2a7=this[_0x2f174b(0x7c6)][_0x2f174b(0x166)]['find'](_0x489a34=>_0x489a34[_0x2f174b(0x57b)]&&_0x2ad9aa[_0x2f174b(0x1d0)](_0x489a34[_0x2f174b(0x57b)]));if(_0x4df2a7&&_0x4010f7===_0x2f174b(0x4c2)){let _0x3c9c5c=await this['repository'][_0x2f174b(0x251)][_0x2f174b(0x715)]({'where':{'_id':_0x4df2a7[_0x2f174b(0x477)]}});if(this[_0x2f174b(0x470)][_0x2f174b(0x4b1)](this['instanceName']+'\x20('+this['instance'][_0x2f174b(0x16a)]+_0x2f174b(0x63f)),_0x3c9c5c&&_0x3c9c5c[_0x2f174b(0x51f)]?.['includes'](this[_0x2f174b(0x844)]['wuid']))_0x373b6a=await this[_0x2f174b(0x6a0)](_0x3c9c5c,_0x283474,_0x787b4);else return this[_0x2f174b(0x470)]['verbose'](this[_0x2f174b(0x25e)]+'\x20('+this[_0x2f174b(0x844)]['wuid']+_0x2f174b(0x30d)),null;}else this[_0x2f174b(0x470)][_0x2f174b(0x4b1)](this[_0x2f174b(0x25e)]+'\x20('+this[_0x2f174b(0x844)][_0x2f174b(0x16a)]+_0x2f174b(0x866));if(_0x373b6a=await this[_0x2f174b(0x38c)](_0x122908,_0x787b4),_0x373b6a){this[_0x2f174b(0x470)][_0x2f174b(0x4b1)](this[_0x2f174b(0x25e)]+'\x20('+this[_0x2f174b(0x844)][_0x2f174b(0x16a)]+_0x2f174b(0x5b7)),!_0x283474[_0x2f174b(0x479)]&&_0x373b6a[_0x2f174b(0x6e1)]&&this[_0x2f174b(0x3b9)](_0x373b6a);let _0x34fbdd=await this[_0x2f174b(0x832)](_0x373b6a);_0x34fbdd&&await this['processblock'](_0x373b6a,_0x34fbdd);}}catch(_0x27a295){this[_0x2f174b(0x470)][_0x2f174b(0x16b)](this['instanceName']+'\x20('+this['instance'][_0x2f174b(0x16a)]+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x27a295 instanceof Error?_0x27a295[_0x2f174b(0x5e0)]:JSON[_0x2f174b(0x365)](_0x27a295,null,0x2)));}}[a0_0x48e44b(0x338)](_0x2f2080,_0x649ae6='',_0x5914c5={}){const _0x2df69f=a0_0x48e44b;return typeof _0x2f2080!=_0x2df69f(0x892)||_0x2f2080===null?(_0x649ae6&&(_0x5914c5[_0x649ae6]=_0x2f2080),_0x5914c5):(Object[_0x2df69f(0x4c4)](_0x2f2080)['forEach'](([_0x5246fe,_0x3ac813])=>{const _0x444d9a=_0x2df69f;let _0x30eb81=_0x649ae6?_0x649ae6+'.'+_0x5246fe:'_'+_0x5246fe;Array[_0x444d9a(0x59d)](_0x3ac813)?_0x3ac813[_0x444d9a(0x3f6)]((_0x972f33,_0x7b412)=>{this['flattenObject'](_0x972f33,_0x30eb81+'['+_0x7b412+']',_0x5914c5);}):typeof _0x3ac813==_0x444d9a(0x892)&&_0x3ac813!==null?this['flattenObject'](_0x3ac813,_0x30eb81,_0x5914c5):_0x5914c5[_0x30eb81]=String(_0x3ac813);}),_0x5914c5);}['variablesToObject'](_0x5dc744){const _0xe1e32f=a0_0x48e44b;let _0x1fb02d={};for(let _0x529154 of _0x5dc744)typeof _0x529154['name']==_0xe1e32f(0x292)&&typeof _0x529154[_0xe1e32f(0x834)]==_0xe1e32f(0x292)&&(_0x1fb02d[_0x529154[_0xe1e32f(0x5ff)]]=_0x529154[_0xe1e32f(0x834)]);return _0x1fb02d;}async[a0_0x48e44b(0x832)](_0x21c945){const _0x4116b1=a0_0x48e44b;if(!this['AutomateSystem']?.[_0x4116b1(0x2e1)][_0x4116b1(0x528)]||_0x21c945[_0x4116b1(0x485)]!==_0x4116b1(0x422)&&_0x21c945[_0x4116b1(0x6a6)]==='')return null;let _0x2ceaa3=_0x21c945[_0x4116b1(0x336)][_0x4116b1(0x58a)]||_0x4116b1(0x773);typeof _0x21c945['chatLog'][_0x4116b1(0x54e)]>'u'&&(_0x21c945[_0x4116b1(0x336)][_0x4116b1(0x54e)]=!0x0);let _0x3f4898=_0x21c945[_0x4116b1(0x336)][_0x4116b1(0x54e)];this[_0x4116b1(0x470)][_0x4116b1(0x4b1)](this[_0x4116b1(0x25e)]+'\x20('+this['instance'][_0x4116b1(0x16a)]+'):\x20lastBlockId:\x20'+_0x2ceaa3+',\x20lastCondition:\x20'+_0x3f4898);let _0x26e1b8=_0x2ceaa3===_0x4116b1(0x773)?_0x21c945[_0x4116b1(0x543)][_0x4116b1(0x1ae)](_0x599f51=>_0x599f51[_0x4116b1(0x418)]===_0x4116b1(0x773)):_0x21c945[_0x4116b1(0x543)][_0x4116b1(0x1ae)](_0x45997e=>_0x45997e[_0x4116b1(0x477)][_0x4116b1(0x691)]()===_0x2ceaa3['toString']());if(!_0x26e1b8)return this[_0x4116b1(0x470)][_0x4116b1(0x16b)](this[_0x4116b1(0x25e)]+'\x20('+this['instance'][_0x4116b1(0x16a)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x2ceaa3),null;let _0x3a8a7c={'_pushName':_0x21c945?.['chatLog']?.['lastReceivedMessage']?.[_0x4116b1(0x619)]||'','_sender':this[_0x4116b1(0x844)][_0x4116b1(0x16a)]||'',..._0x21c945[_0x4116b1(0x336)][_0x4116b1(0x4f8)]},_0x57a933=new Date();_0x3a8a7c[_0x4116b1(0x3fb)]=_0x57a933[_0x4116b1(0x8b2)](),_0x3a8a7c[_0x4116b1(0x399)]=_0x57a933[_0x4116b1(0x22e)]()+0x1,_0x3a8a7c['_year']=_0x57a933['getFullYear'](),_0x3a8a7c[_0x4116b1(0x3a3)]=_0x57a933['getHours'](),_0x3a8a7c[_0x4116b1(0x7e5)]=_0x57a933[_0x4116b1(0x69d)](),_0x3a8a7c['_second']=_0x57a933[_0x4116b1(0x454)]();let _0x57578d=null;if(_0x21c945['waitingMenu_id']){let _0x17f0b3=_0x21c945[_0x4116b1(0x336)][_0x4116b1(0x4d9)][_0x4116b1(0x79a)],_0x6209d8=_0x21c945['waitingMenu_replyOptions'][_0x4116b1(0x1ae)](_0x1859e6=>_0x1859e6['option']===_0x17f0b3);if(_0x6209d8){let _0x13dbda=_0x6209d8[_0x4116b1(0x616)];if(_0x57578d=_0x21c945[_0x4116b1(0x543)][_0x4116b1(0x1ae)](_0x327852=>_0x327852['groupId']===_0x13dbda&&_0x327852[_0x4116b1(0x1e2)]===0x1),_0x26e1b8[_0x4116b1(0x796)][_0x4116b1(0x2e2)]){let _0x1ab9e9={'id':_0x21c945[_0x4116b1(0x6a6)],'remoteJid':_0x21c945['remoteJid'],'fromMe':!0x0};await this[_0x4116b1(0x306)](_0x1ab9e9);}if(_0x26e1b8[_0x4116b1(0x796)]['pollOnReplyDelete']&&_0x26e1b8[_0x4116b1(0x796)][_0x4116b1(0x1d1)]&&_0x26e1b8[_0x4116b1(0x796)][_0x4116b1(0x492)]===_0x4116b1(0x74f)){let _0x11c962={'number':_0x21c945['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x21c945[_0x4116b1(0x5de)]+_0x4116b1(0x8a9)+_0x17f0b3}};await this[_0x4116b1(0x2f4)](_0x11c962);}_0x3a8a7c['_lastVote']=_0x17f0b3,_0x21c945[_0x4116b1(0x485)]=_0x4116b1(0x422),_0x21c945['waitingMenu_id']='',_0x21c945[_0x4116b1(0x5de)]='',_0x21c945['waitingMenu_replyOptions']=[];}else{this['logger'][_0x4116b1(0x4b1)](this[_0x4116b1(0x25e)]+'\x20('+this[_0x4116b1(0x844)]['wuid']+_0x4116b1(0x22d));let _0x16eeca={'activatedCount':_0x21c945[_0x4116b1(0x336)][_0x4116b1(0x7d7)][_0x4116b1(0x20c)](_0xc35fad=>String(_0xc35fad[_0x4116b1(0x183)])===String(_0x2ceaa3))[_0x4116b1(0x3b4)],'moreLogs':[_0x4116b1(0x6b7)]};if(_0x26e1b8[_0x4116b1(0x796)][_0x4116b1(0x30f)]){let _0x108df9={'number':_0x21c945[_0x4116b1(0x713)],'options':{'delay':0x0},'textMessage':{'text':_0x26e1b8[_0x4116b1(0x796)][_0x4116b1(0x30f)]}};await this[_0x4116b1(0x2f4)](_0x108df9);}if(_0x26e1b8['maxActives']!==void 0x0&&_0x16eeca[_0x4116b1(0x605)]>=_0x26e1b8[_0x4116b1(0x32e)]){let _0x2786de=Date[_0x4116b1(0x23c)](),_0x474b1a=_0x26e1b8[_0x4116b1(0x1c8)]??0xa;isNaN(_0x474b1a)&&(_0x474b1a=0xa);let _0x5c9d75=_0x2786de+_0x474b1a*0x3c*0x3e8;_0x16eeca[_0x4116b1(0x856)]=_0x5c9d75,_0x16eeca['moreLogs']['push']('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x4116b1(0x4a0)](_0x21c945,_0x5c9d75),_0x21c945[_0x4116b1(0x6a6)]='',_0x21c945['waitingMenu_text']='',_0x21c945[_0x4116b1(0x751)]=[];}return this[_0x4116b1(0x886)](_0x21c945,_0x26e1b8,_0x16eeca,!0x0),null;}}if(_0x3f4898&&_0x26e1b8[_0x4116b1(0x616)]&&!_0x21c945[_0x4116b1(0x6a6)]){let _0x3fa6bc=_0x21c945[_0x4116b1(0x543)][_0x4116b1(0x20c)](_0x2dc7f2=>_0x2dc7f2[_0x4116b1(0x755)][_0x4116b1(0x691)]()===_0x26e1b8['next_groupId'][_0x4116b1(0x691)]())['sort']((_0x354e15,_0x43811a)=>_0x354e15[_0x4116b1(0x1e2)]-_0x43811a['order']);_0x3fa6bc[_0x4116b1(0x3b4)]>0x0&&(_0x57578d=_0x3fa6bc[0x0]);}if(!_0x57578d){let _0x1b1efa=_0x26e1b8[_0x4116b1(0x755)],_0x5dfc9c=_0x21c945['blocks']['filter'](_0x1e5213=>_0x1e5213['groupId']===_0x1b1efa&&_0x1e5213[_0x4116b1(0x1e2)]>_0x26e1b8[_0x4116b1(0x1e2)])['sort']((_0x2909cf,_0x5e9a57)=>_0x2909cf['order']-_0x5e9a57[_0x4116b1(0x1e2)]);_0x5dfc9c[_0x4116b1(0x3b4)]>0x0&&(_0x57578d=_0x5dfc9c[0x0]);}if(!_0x57578d)return _0x21c945['status']=_0x4116b1(0x78e),null;_0x21c945[_0x4116b1(0x336)][_0x4116b1(0x4f8)]=_0x3a8a7c;let _0x46fadd=JSON[_0x4116b1(0x4e9)](JSON[_0x4116b1(0x365)](_0x57578d));return this[_0x4116b1(0x4bc)](_0x46fadd,_0x21c945[_0x4116b1(0x336)][_0x4116b1(0x4f8)]),_0x21c945[_0x4116b1(0x336)]['lastBlockId']=_0x46fadd[_0x4116b1(0x477)],_0x21c945['chatLog'][_0x4116b1(0x54e)]=!0x0,_0x46fadd;}[a0_0x48e44b(0x802)](_0x110ff5,_0x36d072){return _0x110ff5['replace'](/\{\{([^}]+)\}\}/g,(_0x467855,_0x2bd9fa)=>_0x36d072[_0x2bd9fa]||'');}['replaceVariablesInObject'](_0x183be8,_0x307123){const _0x4517f1=a0_0x48e44b;for(let _0x803260 in _0x183be8)typeof _0x183be8[_0x803260]=='string'?_0x183be8[_0x803260]=this['replaceVariables'](_0x183be8[_0x803260],_0x307123):typeof _0x183be8[_0x803260]==_0x4517f1(0x892)&&this['replaceVariablesInObject'](_0x183be8[_0x803260],_0x307123);}async[a0_0x48e44b(0x47a)](_0x464337,_0x4d655d){const _0x54fddb=a0_0x48e44b;let _0x90ef5=_0x4d655d['_id'];if(_0x464337[_0x54fddb(0x336)]&&_0x464337[_0x54fddb(0x336)][_0x54fddb(0x7d7)]){let _0x5bca7a=_0x464337[_0x54fddb(0x336)][_0x54fddb(0x7d7)]['filter'](_0x4a6054=>String(_0x4a6054[_0x54fddb(0x183)])===String(_0x90ef5))['pop']();if(_0x5bca7a&&_0x5bca7a[_0x54fddb(0x16b)]&&_0x4d655d[_0x54fddb(0x1e3)])return _0x464337[_0x54fddb(0x485)]=_0x54fddb(0x78e),await this[_0x54fddb(0x6a7)](_0x464337),null;}if(_0x4d655d[_0x54fddb(0x418)]===_0x54fddb(0x796)&&_0x4d655d[_0x54fddb(0x796)][_0x54fddb(0x836)]===_0x54fddb(0x40a)&&_0x464337[_0x54fddb(0x6a6)])return _0x464337[_0x54fddb(0x336)][_0x54fddb(0x58a)]=_0x90ef5,await this[_0x54fddb(0x6a7)](_0x464337),null;let _0x29880d=await this['NextBlock'](_0x464337);if(_0x464337['chatLog']&&_0x464337[_0x54fddb(0x336)][_0x54fddb(0x7d7)]){let _0x65e486=_0x464337['chatLog'][_0x54fddb(0x7d7)][_0x54fddb(0x20c)](_0x45844a=>String(_0x45844a['blockId'])===String(_0x90ef5))[_0x54fddb(0x3b4)];if(_0x4d655d[_0x54fddb(0x32e)]!==void 0x0&&_0x65e486>=_0x4d655d[_0x54fddb(0x32e)]){let _0x84adce=Date[_0x54fddb(0x23c)](),_0x3a4b0d=_0x4d655d[_0x54fddb(0x1c8)]??0xa;isNaN(_0x3a4b0d)&&(_0x3a4b0d=0xa);let _0x36c723=_0x84adce+_0x3a4b0d*0x3c*0x3e8,_0x3d3bc3={'newStoppedUntil':_0x36c723};return this[_0x54fddb(0x4a0)](_0x464337,_0x36c723),this[_0x54fddb(0x886)](_0x464337,_0x4d655d,_0x3d3bc3,!0x0),null;}}_0x29880d&&_0x29880d['type']!==_0x54fddb(0x673)&&await this[_0x54fddb(0x660)](_0x464337,_0x29880d),_0x29880d||await this[_0x54fddb(0x6a7)](_0x464337),_0x29880d&&_0x29880d[_0x54fddb(0x418)]===_0x54fddb(0x673)&&(_0x464337['chatLog'][_0x54fddb(0x58a)]=_0x90ef5,await this[_0x54fddb(0x6a7)](_0x464337));}async[a0_0x48e44b(0x660)](_0x47a4ec,_0x262643){const _0x63a5b3=a0_0x48e44b;try{let _0x4ea7c0=_0x262643['type'];this['logger']['verbose'](this[_0x63a5b3(0x25e)]+'\x20('+this['instance']['wuid']+'):\x20Going\x20to\x20'+_0x4ea7c0);let _0x15e240={'uazapi':()=>this[_0x63a5b3(0x18a)](_0x47a4ec,_0x262643),'save':()=>this['saveTextReply'](_0x47a4ec,_0x262643),'stop':()=>this[_0x63a5b3(0x8b6)](_0x47a4ec,_0x262643),'condition':()=>this['processConditions'](_0x47a4ec,_0x262643),'varedit':()=>this[_0x63a5b3(0x39c)](_0x47a4ec,_0x262643),'apirequest':()=>this[_0x63a5b3(0x723)](_0x47a4ec,_0x262643),'goToFlow':()=>this[_0x63a5b3(0x3dd)](_0x47a4ec,_0x262643),'scheduleFlow':()=>this[_0x63a5b3(0x601)](_0x47a4ec,_0x262643),'awaitSeconds':()=>this['processawaitSeconds'](_0x47a4ec,_0x262643),'clearVariables':()=>this[_0x63a5b3(0x697)](_0x47a4ec,_0x262643)}[_0x4ea7c0];_0x15e240&&await _0x15e240();}catch(_0x218e05){this['logger'][_0x63a5b3(0x16b)](this['instanceName']+'\x20('+this[_0x63a5b3(0x844)][_0x63a5b3(0x16a)]+_0x63a5b3(0x4e5)+(_0x218e05 instanceof Error?_0x218e05[_0x63a5b3(0x5e0)]:JSON['stringify'](_0x218e05,null,0x2)));}}async[a0_0x48e44b(0x7e4)](_0x4eadb5,_0xbea106){const _0xa6c1a2=a0_0x48e44b;if(this[_0xa6c1a2(0x470)][_0xa6c1a2(0x4b1)](this[_0xa6c1a2(0x25e)]+'\x20('+this[_0xa6c1a2(0x844)][_0xa6c1a2(0x16a)]+_0xa6c1a2(0x4b4)),!_0x4eadb5||!_0xbea106)return this[_0xa6c1a2(0x470)][_0xa6c1a2(0x16b)](this[_0xa6c1a2(0x25e)]+'\x20('+this['instance'][_0xa6c1a2(0x16a)]+_0xa6c1a2(0x696)),null;let _0x2e1185=+_0xbea106[_0xa6c1a2(0x5f9)];isNaN(_0x2e1185)&&(_0x2e1185=0x0),_0x2e1185=Math[_0xa6c1a2(0x683)](_0x2e1185,0x3c),await(0x0,w[_0xa6c1a2(0x3d3)])(_0x2e1185*0x3e8);let _0x23de65={'moreLogs':[_0xa6c1a2(0x848)+_0x2e1185+_0xa6c1a2(0x690)]};return await this[_0xa6c1a2(0x886)](_0x4eadb5,_0xbea106,_0x23de65),_0x2e1185;}async['processclearVariables'](_0x48619d,_0x506659){const _0x20fb4d=a0_0x48e44b;if(this[_0x20fb4d(0x470)][_0x20fb4d(0x4b1)](this[_0x20fb4d(0x25e)]+'\x20('+this['instance']['wuid']+_0x20fb4d(0x3f7)),!_0x48619d||!_0x506659)return this['logger'][_0x20fb4d(0x16b)](this['instanceName']+'\x20('+this['instance'][_0x20fb4d(0x16a)]+_0x20fb4d(0x696)),null;let _0x194944=[];if(_0x506659[_0x20fb4d(0x3ff)][_0x20fb4d(0x4ed)]()===_0x20fb4d(0x175)){let _0x1058c5=[_0x20fb4d(0x315),'_pushName','_error',_0x20fb4d(0x286),'_remoteJid','_id','_fromMe'];_0x194944=Object['keys'](_0x48619d[_0x20fb4d(0x336)][_0x20fb4d(0x4f8)])['filter'](_0x54fe75=>_0x54fe75['startsWith']('_')&&!_0x1058c5[_0x20fb4d(0x1d0)](_0x54fe75));}else _0x194944=_0x506659[_0x20fb4d(0x3ff)]['split']('|')[_0x20fb4d(0x3ad)](_0x593d5b=>(_0x593d5b=_0x593d5b[_0x20fb4d(0x67e)](/[{}]/g,'')[_0x20fb4d(0x4ed)](),_0x593d5b[_0x20fb4d(0x7fd)]('_')?_0x593d5b:'_'+_0x593d5b));let _0x5866a3=[];_0x194944['forEach'](_0x181f9e=>{const _0x204480=_0x20fb4d;_0x181f9e in _0x48619d[_0x204480(0x336)][_0x204480(0x4f8)]&&(delete _0x48619d[_0x204480(0x336)][_0x204480(0x4f8)][_0x181f9e],_0x5866a3['push'](_0x181f9e));}),_0x5866a3[_0x20fb4d(0x3b4)]>0x0?this[_0x20fb4d(0x470)]['verbose'](this[_0x20fb4d(0x25e)]+'\x20('+this['instance'][_0x20fb4d(0x16a)]+'):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20'+_0x5866a3['join'](',\x20')):this[_0x20fb4d(0x470)][_0x20fb4d(0x4b1)](this[_0x20fb4d(0x25e)]+'\x20('+this[_0x20fb4d(0x844)][_0x20fb4d(0x16a)]+_0x20fb4d(0x361));let _0x1bb230={'moreLogs':['Removidas\x20as\x20variáveis:\x20'+_0x5866a3[_0x20fb4d(0x739)](',\x20')]};return await this['updateConversation'](_0x48619d,_0x506659,_0x1bb230),null;}async['processScheduleFlow'](_0x2a260d,_0x259d10){const _0x21e6f6=a0_0x48e44b;if(this[_0x21e6f6(0x470)][_0x21e6f6(0x4b1)](this[_0x21e6f6(0x25e)]+'\x20('+this[_0x21e6f6(0x844)][_0x21e6f6(0x16a)]+_0x21e6f6(0x4e4)),!_0x2a260d||!_0x259d10)return this[_0x21e6f6(0x470)]['error'](this['instanceName']+'\x20('+this['instance'][_0x21e6f6(0x16a)]+_0x21e6f6(0x696)),null;let _0x42db1f=_0x2a260d['remoteJid'];_0x259d10['scheduleFlow'][_0x21e6f6(0x713)]&&_0x259d10[_0x21e6f6(0x513)][_0x21e6f6(0x713)]['trim']()!==''&&(_0x42db1f=_0x259d10[_0x21e6f6(0x796)][_0x21e6f6(0x713)]['trim']());let _0x31b335=_0x259d10[_0x21e6f6(0x513)][_0x21e6f6(0x89e)]*0xea60,_0x38a207=Date[_0x21e6f6(0x23c)]()+_0x31b335,_0x2e218b={'status':_0x21e6f6(0x60b),'info':_0x21e6f6(0x3c1)+_0x2a260d[_0x21e6f6(0x5ff)],'remoteJids':[_0x42db1f],'when':_0x38a207,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x21e6f6(0x251),'flowName':_0x259d10['scheduleFlow'][_0x21e6f6(0x3cd)]};this['editScheduleMessage'](_0x2e218b);let _0x5a0b84=await this['NextBlock'](_0x2a260d);_0x5a0b84&&await this[_0x21e6f6(0x660)](_0x2a260d,_0x5a0b84);}async['processgoToFlow'](_0x1ca4cb,_0x2a5da2){const _0x306899=a0_0x48e44b;if(this[_0x306899(0x470)][_0x306899(0x4b1)](this['instanceName']+'\x20('+this[_0x306899(0x844)][_0x306899(0x16a)]+_0x306899(0x8c6)),!_0x1ca4cb||!_0x2a5da2)return this['logger'][_0x306899(0x16b)](this[_0x306899(0x25e)]+'\x20('+this[_0x306899(0x844)][_0x306899(0x16a)]+_0x306899(0x696)),null;await this['updateConversation'](_0x1ca4cb,_0x2a5da2,{},!0x0,!0x0);let _0x2840c5=_0x2a5da2[_0x306899(0x742)];_0x1ca4cb=await this['createConversationforgoToFlow'](_0x2840c5,_0x1ca4cb['remoteJid'],_0x1ca4cb[_0x306899(0x336)][_0x306899(0x4f8)]);let _0x2d6b42=await this[_0x306899(0x832)](_0x1ca4cb);_0x2d6b42&&await this[_0x306899(0x660)](_0x1ca4cb,_0x2d6b42);}async[a0_0x48e44b(0x1b1)](_0x526c08,_0x50ab56,_0x1b11d0){const _0x2e4eec=a0_0x48e44b;this[_0x2e4eec(0x470)]['verbose'](this['instanceName']+'\x20('+this[_0x2e4eec(0x844)]['wuid']+_0x2e4eec(0x7b0));try{let _0x25798c=this[_0x2e4eec(0x7c6)][_0x2e4eec(0x166)][_0x2e4eec(0x1ae)](_0x5b3356=>_0x5b3356['_id']===_0x526c08);_0x25798c||this[_0x2e4eec(0x470)]['error'](this[_0x2e4eec(0x25e)]+'\x20('+this[_0x2e4eec(0x844)][_0x2e4eec(0x16a)]+_0x2e4eec(0x5dd)+_0x526c08+'\x27\x20não\x20encontrado\x20na\x20memória');let _0x5d18ba=await this['repository'][_0x2e4eec(0x251)][_0x2e4eec(0x715)]({'where':{'_id':_0x25798c['_id']}});if(!_0x5d18ba||!_0x5d18ba['whoCanUse']?.[_0x2e4eec(0x1d0)](this[_0x2e4eec(0x844)][_0x2e4eec(0x16a)]))throw this[_0x2e4eec(0x470)]['error'](this[_0x2e4eec(0x25e)]+'\x20('+this[_0x2e4eec(0x844)]['wuid']+_0x2e4eec(0x5dd)+_0x526c08+_0x2e4eec(0x2a9)),new m(_0x2e4eec(0x52b)+_0x526c08+_0x2e4eec(0x2a9));let _0x15d090=require(_0x2e4eec(0x819))['ObjectId'],_0x11f2fe=Date['now'](),_0x46680b=_0x2e4eec(0x773),_0x1fcf82={},_0x379198={},_0x1e15d0=this[_0x2e4eec(0x7c6)][_0x2e4eec(0x166)][_0x2e4eec(0x1ae)](_0x2be590=>_0x2be590['_id']===_0x5d18ba['_id']?.[_0x2e4eec(0x691)]()),_0x2a7cc0=_0x1e15d0?.[_0x2e4eec(0x546)]??_0x5d18ba['minutesToClose']??0x0,_0x168a84=_0x1e15d0?.[_0x2e4eec(0x6e1)]??_0x5d18ba['readMessages']??!0x1,_0x1f311c={'flowId':_0x25798c[_0x2e4eec(0x477)],'readMessages':_0x25798c[_0x2e4eec(0x6e1)],..._0x5d18ba,'chatLog':null},_0x3f8e03={'lastReceivedMessage':_0x1fcf82,'lastSendMessage':_0x379198,'lastBlockId':_0x46680b,'lastCondition':!0x0,'realVariables':_0x1b11d0};_0x1f311c[_0x2e4eec(0x336)]=_0x3f8e03,_0x1f311c['chatLog'][_0x2e4eec(0x4f8)]={..._0x1b11d0},delete _0x1f311c[_0x2e4eec(0x477)],_0x1f311c[_0x2e4eec(0x477)]=new _0x15d090(),_0x1f311c[_0x2e4eec(0x7d8)]=_0x11f2fe,_0x1f311c[_0x2e4eec(0x485)]='open',_0x1f311c['remoteJid']=_0x50ab56,_0x1f311c[_0x2e4eec(0x546)]=_0x2a7cc0,_0x1f311c['readMessages']=_0x168a84;let _0x41e612=await this['repository']['flowConversation'][_0x2e4eec(0x7b8)](_0x1f311c[_0x2e4eec(0x477)],_0x1f311c,this[_0x2e4eec(0x844)][_0x2e4eec(0x16a)]);return this['logger'][_0x2e4eec(0x4b1)](this[_0x2e4eec(0x25e)]+'\x20('+this[_0x2e4eec(0x844)]['wuid']+_0x2e4eec(0x598)),_0x41e612?_0x1f311c:null;}catch(_0x2969b6){let _0x226ed0=_0x2e4eec(0x81a),_0x553d98=_0x2969b6 instanceof Error?_0x2969b6[_0x2e4eec(0x5e0)]:typeof _0x2969b6==_0x2e4eec(0x892)?JSON[_0x2e4eec(0x365)](_0x2969b6):_0x2969b6,_0x2cc4a5=_0x226ed0+':\x20'+_0x553d98;throw this[_0x2e4eec(0x470)]['error'](this['instanceName']+'\x20('+this[_0x2e4eec(0x844)][_0x2e4eec(0x16a)]+'):\x20'+_0x2cc4a5),new m(_0x2cc4a5);}}async['processApiRequest'](_0x339716,_0x5c2449){const _0x10cb81=a0_0x48e44b;let _0x4dde0e,_0x5e9c6f;try{let _0x32803=_0x5c2449[_0x10cb81(0x700)];if(!_0x32803||!_0x32803['url']||!_0x32803[_0x10cb81(0x69e)])throw new Error(_0x10cb81(0x1f6));let _0x4d82b8;(['https://api.openai.com/v1/audio/speech',_0x10cb81(0x430),_0x10cb81(0x799)][_0x10cb81(0x426)](_0x35c8b8=>_0x32803[_0x10cb81(0x32b)]['includes'](_0x35c8b8))||_0x32803[_0x10cb81(0x3e6)])&&(_0x4d82b8=_0x10cb81(0x5a2));let _0xe5f05b='\u205f',_0x478c53;try{_0x478c53=JSON[_0x10cb81(0x4e9)](_0x32803[_0x10cb81(0x33c)][_0x10cb81(0x67e)](new RegExp(_0xe5f05b,'g'),''));}catch(_0x1f443b){throw _0x1f443b;}let _0x120aa8={'method':_0x32803['method'],'url':_0x32803[_0x10cb81(0x32b)],'headers':_0x32803[_0x10cb81(0x2c6)]||{},..._0x32803['method'][_0x10cb81(0x7e2)]()!==_0x10cb81(0x2dc)&&_0x32803[_0x10cb81(0x33c)]?{'data':JSON[_0x10cb81(0x4e9)](_0x32803[_0x10cb81(0x33c)][_0x10cb81(0x67e)](new RegExp(_0xe5f05b,'g'),''))}:{},..._0x4d82b8&&{'responseType':_0x4d82b8}},_0x58bd52=await(0x0,Q[_0x10cb81(0x875)])(_0x120aa8),_0x5111ea=_0x58bd52[_0x10cb81(0x6db)][_0x10cb81(0x207)];if(_0x5111ea&&_0x5111ea[_0x10cb81(0x1d0)]('application/json')||typeof _0x58bd52[_0x10cb81(0x693)]==_0x10cb81(0x292)){if(typeof _0x58bd52[_0x10cb81(0x693)]==_0x10cb81(0x292)){let _0x541175=_0x58bd52[_0x10cb81(0x693)]['replace'](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x10cb81(0x4ed)]();try{_0x4dde0e=JSON['parse'](_0x541175);}catch(_0x10b661){this[_0x10cb81(0x470)]['error'](_0x10cb81(0x555)+_0x10b661['message']),_0x4dde0e={'_apiResponse':_0x58bd52[_0x10cb81(0x693)]};}}else _0x4dde0e=_0x58bd52[_0x10cb81(0x693)];let _0x34fbd8=_0x339716['chatLog'][_0x10cb81(0x4f8)],_0x4736f0=this[_0x10cb81(0x338)](_0x4dde0e);return Object['assign'](_0x34fbd8,_0x4736f0),_0x339716[_0x10cb81(0x336)][_0x10cb81(0x4f8)]=_0x34fbd8,_0x5e9c6f={'error':!0x1,'apiResponse':_0x4dde0e},this['updateConversation'](_0x339716,_0x5c2449,_0x5e9c6f),_0x4dde0e;}if(_0x5111ea&&(_0x5111ea[_0x10cb81(0x1d0)]('application/octet-stream')||_0x5111ea[_0x10cb81(0x1d0)](_0x10cb81(0x305))||_0x5111ea[_0x10cb81(0x1d0)](_0x10cb81(0x6de))||_0x5111ea[_0x10cb81(0x1d0)]('video'))){this[_0x10cb81(0x470)][_0x10cb81(0x4b1)](this[_0x10cb81(0x25e)]+'\x20('+this['instance']['wuid']+_0x10cb81(0x438)+_0x5111ea);let _0x42cd00=(0x0,Y['v4'])(),_0x2abee5='',_0x1e1f61={'image/jpeg':'.jpg','image/png':'.png','image/gif':_0x10cb81(0x641),'image/webp':_0x10cb81(0x501),'image/svg+xml':_0x10cb81(0x6e3),'audio/mpeg':_0x10cb81(0x7d0),'audio/ogg':_0x10cb81(0x780),'audio/wav':_0x10cb81(0x5ad),'video/mp4':_0x10cb81(0x702),'video/webm':'.webm','video/ogg':'.ogv','text/plain':_0x10cb81(0x1cb),'application/pdf':_0x10cb81(0x1c6),'application/msword':'.doc','application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':_0x10cb81(0x7a2),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x10cb81(0x753),'application/vnd.ms-powerpoint':_0x10cb81(0x4af),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x10cb81(0x4c8)};_0x1e1f61[_0x5111ea]?(_0x2abee5=_0x1e1f61[_0x5111ea],this[_0x10cb81(0x470)][_0x10cb81(0x4b1)](this[_0x10cb81(0x25e)]+'\x20('+this[_0x10cb81(0x844)][_0x10cb81(0x16a)]+'):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20'+_0x2abee5)):(_0x2abee5='.error',this[_0x10cb81(0x470)][_0x10cb81(0x4b1)](this[_0x10cb81(0x25e)]+'\x20('+this[_0x10cb81(0x844)][_0x10cb81(0x16a)]+_0x10cb81(0x770)+_0x2abee5)),_0x42cd00+=_0x2abee5,this['logger'][_0x10cb81(0x4b1)](this[_0x10cb81(0x25e)]+'\x20('+this[_0x10cb81(0x844)][_0x10cb81(0x16a)]+_0x10cb81(0x16e)+_0x42cd00);let _0x48a713=this[_0x10cb81(0x1b4)][_0x10cb81(0x84e)]('SERVER')[_0x10cb81(0x316)];if(!_0x48a713){let _0x5e6d8f=this['configService'][_0x10cb81(0x84e)]('SSL_CONF');_0x48a713=_0x10cb81(0x7fc)+(_0x5e6d8f&&_0x5e6d8f[_0x10cb81(0x200)][_0x10cb81(0x8a4)]('/')[0x4]);}let _0x4993a4=Buffer[_0x10cb81(0x1e9)](_0x58bd52[_0x10cb81(0x693)]);await this[_0x10cb81(0x748)](_0x4993a4,_0x42cd00);let _0x64fa54=_0x10cb81(0x722)+_0x42cd00;_0x64fa54=''+_0x48a713+_0x64fa54,_0x4dde0e={'fileUrl':_0x64fa54},_0x339716[_0x10cb81(0x336)][_0x10cb81(0x4f8)][_0x10cb81(0x512)]=_0x64fa54;let _0x51e0f5=_0x339716[_0x10cb81(0x336)][_0x10cb81(0x4f8)],_0x59bb62=this[_0x10cb81(0x338)](_0x4dde0e);return Object[_0x10cb81(0x3c5)](_0x51e0f5,_0x59bb62),_0x339716[_0x10cb81(0x336)][_0x10cb81(0x4f8)]=_0x51e0f5,_0x5e9c6f={'error':!0x1,'apiResponse':{'fileUrl':_0x64fa54}},this[_0x10cb81(0x886)](_0x339716,_0x5c2449,_0x5e9c6f),_0x4dde0e;}}catch(_0x2da283){this[_0x10cb81(0x470)][_0x10cb81(0x16b)](_0x10cb81(0x268)+_0x2da283['message']),_0x2da283[_0x10cb81(0x270)]&&(_0x4dde0e=_0x2da283[_0x10cb81(0x270)]['data']);let _0x4c392b=_0x339716['chatLog'][_0x10cb81(0x4f8)],_0x356d95=this[_0x10cb81(0x338)](_0x4dde0e);return Object[_0x10cb81(0x3c5)](_0x4c392b,_0x356d95),_0x339716[_0x10cb81(0x336)]['realVariables']=_0x4c392b,_0x5e9c6f={'error':!0x0,'errorLog':_0x2da283[_0x10cb81(0x691)](),'apiResponse':_0x4dde0e},this[_0x10cb81(0x886)](_0x339716,_0x5c2449,_0x5e9c6f),{'success':!0x1};}}[a0_0x48e44b(0x75e)](_0x40a7e0,_0x2fcb38){const _0x3e8f8a=a0_0x48e44b;let _0x29c6e7=_0x3c7cc8=>{const _0x30694d=a0_0x43f2;let _0x4005e5=_0x3c7cc8[_0x30694d(0x67e)](/[^0-9.,-]/g,'')['replace'](',','.'),_0x440f33=parseFloat(_0x4005e5);return isNaN(_0x440f33)?null:_0x440f33;},_0x14ff99=_0x2fcb38[_0x3e8f8a(0x630)],_0x41abd7=_0x2fcb38[_0x3e8f8a(0x185)];typeof _0x14ff99==_0x3e8f8a(0x292)&&(_0x14ff99=this[_0x3e8f8a(0x802)](_0x14ff99,_0x40a7e0[_0x3e8f8a(0x336)]['realVariables'])??''),typeof _0x41abd7=='string'&&(_0x41abd7=this[_0x3e8f8a(0x802)](_0x41abd7,_0x40a7e0[_0x3e8f8a(0x336)][_0x3e8f8a(0x4f8)])??'');let _0x7ce358=null;if(!_0x2fcb38[_0x3e8f8a(0x71d)])return null;switch(this[_0x3e8f8a(0x470)][_0x3e8f8a(0x4b1)](this[_0x3e8f8a(0x25e)]+'\x20('+this[_0x3e8f8a(0x844)][_0x3e8f8a(0x16a)]+_0x3e8f8a(0x41e)+_0x14ff99),this['logger'][_0x3e8f8a(0x4b1)](this[_0x3e8f8a(0x25e)]+'\x20('+this[_0x3e8f8a(0x844)][_0x3e8f8a(0x16a)]+_0x3e8f8a(0x2a8)+_0x41abd7),_0x2fcb38[_0x3e8f8a(0x71d)]){case'+':case'-':case'*':case'/':let _0x5b1df1=_0x29c6e7(_0x14ff99||'0'),_0x25b851=_0x29c6e7(_0x41abd7||'0');if(_0x5b1df1===null)return null;switch(_0x2fcb38[_0x3e8f8a(0x71d)]){case'+':_0x7ce358=_0x5b1df1+(_0x25b851??0x0);break;case'-':_0x7ce358=_0x5b1df1-(_0x25b851??0x0);break;case'*':_0x7ce358=_0x5b1df1*(_0x25b851??0x1);break;case'/':_0x25b851!==0x0&&(_0x7ce358=_0x5b1df1/(_0x25b851??0x1));break;}break;case'findAndReplace':case _0x3e8f8a(0x275):let _0x42220b=_0x41abd7,_0x1c404c=_0x2fcb38[_0x3e8f8a(0x488)];if(typeof _0x1c404c=='string'&&(_0x1c404c=this[_0x3e8f8a(0x802)](_0x1c404c,_0x40a7e0[_0x3e8f8a(0x336)]['realVariables'])??''),_0x42220b&&_0x1c404c!==void 0x0){let _0xcd8994=_0x2fcb38[_0x3e8f8a(0x71d)]===_0x3e8f8a(0x457)?new RegExp(_0x42220b[_0x3e8f8a(0x67e)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x42220b,'g');_0x7ce358=_0x14ff99['replace'](_0xcd8994,_0x1c404c);}else console['warn'](_0x3e8f8a(0x4b7));break;case _0x3e8f8a(0x1f5):_0x7ce358=_0x41abd7;break;case'extractRegex':let _0x4261f0=_0x14ff99[_0x3e8f8a(0x5f6)](new RegExp(_0x41abd7||''));_0x7ce358=_0x4261f0?_0x4261f0[0x0]:'';break;case _0x3e8f8a(0x43a):_0x7ce358=_0x14ff99[_0x3e8f8a(0x6d2)](0x0,parseInt(_0x41abd7||'0'));break;case _0x3e8f8a(0x274):let _0x7ac50=parseInt(_0x41abd7||'0');_0x7ce358=_0x14ff99[_0x3e8f8a(0x6d2)](_0x14ff99[_0x3e8f8a(0x3b4)]-_0x7ac50);break;case _0x3e8f8a(0x6c0):let _0x3c6bbe=_0x29c6e7(_0x14ff99),_0x62da74=parseInt(_0x41abd7||'0');_0x62da74=Math[_0x3e8f8a(0x5ae)](_0x62da74),_0x3c6bbe!==null?_0x7ce358=_0x3c6bbe['toLocaleString'](_0x3e8f8a(0x34b),{'minimumFractionDigits':_0x62da74,'maximumFractionDigits':_0x62da74}):(console['warn'](_0x3e8f8a(0x6da)+_0x14ff99),_0x7ce358=null);break;case'toBRL':let _0x1414c7=_0x29c6e7(_0x14ff99);_0x1414c7!==null?_0x7ce358=_0x1414c7['toLocaleString'](_0x3e8f8a(0x34b),{'style':_0x3e8f8a(0x2a7),'currency':_0x3e8f8a(0x5d6)}):(console[_0x3e8f8a(0x1bc)](_0x3e8f8a(0x759)+_0x14ff99),_0x7ce358=null);break;case _0x3e8f8a(0x7f7):_0x7ce358=_0x14ff99['toUpperCase']();break;case'lowerCase':_0x7ce358=_0x14ff99[_0x3e8f8a(0x5af)]();break;case'capitalizedWords':_0x7ce358=_0x14ff99[_0x3e8f8a(0x8a4)]('\x20')[_0x3e8f8a(0x3ad)](_0x38d6f6=>_0x38d6f6[_0x3e8f8a(0x424)](0x0)[_0x3e8f8a(0x7e2)]()+_0x38d6f6['slice'](0x1)[_0x3e8f8a(0x5af)]())[_0x3e8f8a(0x739)]('\x20');break;case _0x3e8f8a(0x7c4):_0x7ce358=JSON[_0x3e8f8a(0x365)](_0x14ff99);break;case _0x3e8f8a(0x7b1):_0x7ce358=_0x14ff99[_0x3e8f8a(0x4ed)]();break;default:_0x7ce358=_0x14ff99;}return _0x7ce358!==null?_0x7ce358[_0x3e8f8a(0x691)]():null;}async[a0_0x48e44b(0x39c)](_0x4fe3d8,_0x1563d2){const _0x3f10bb=a0_0x48e44b;try{let _0x438cce=_0x4fe3d8[_0x3f10bb(0x4e7)]?.[_0x3f10bb(0x20c)](_0x1006b9=>_0x1006b9['blockId']===_0x1563d2[_0x3f10bb(0x477)]?.[_0x3f10bb(0x691)]())||[],_0x57e22e=_0x1563d2['saveVariable'],_0x1e734b=null,_0x6ec6f3=[],_0x609ad9=_0x4fe3d8[_0x3f10bb(0x336)][_0x3f10bb(0x4f8)][_0x57e22e];_0x6ec6f3['push']('Valor\x20inicial:\x20\x22'+_0x609ad9+'\x22');for(let _0x58fb83 of _0x438cce){_0x58fb83[_0x3f10bb(0x630)]=_0x609ad9,_0x1e734b=_0x58fb83[_0x3f10bb(0x630)];let _0x44dad7;try{_0x44dad7=this[_0x3f10bb(0x75e)](_0x4fe3d8,_0x58fb83);}catch(_0x246241){this['logger'][_0x3f10bb(0x16b)](_0x3f10bb(0x79b)+_0x246241[_0x3f10bb(0x5e0)]);continue;}if(_0x44dad7!==null){let _0xfc58d2='Operador:\x20\x22'+_0x58fb83[_0x3f10bb(0x71d)]+'\x22',_0x369cbd=[_0x3f10bb(0x88d),'upperCase',_0x3f10bb(0x1ff),_0x3f10bb(0x793),'trimmed'];_0x58fb83[_0x3f10bb(0x71d)]===_0x3f10bb(0x457)||_0x58fb83[_0x3f10bb(0x71d)]==='findAndReplaceRegex'?_0xfc58d2+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x58fb83['secondValue']+_0x3f10bb(0x17f)+_0x58fb83['replaceValue']+'\x22':!_0x369cbd[_0x3f10bb(0x1d0)](_0x58fb83['editOperator'])&&_0x58fb83[_0x3f10bb(0x185)]!==null&&_0x58fb83[_0x3f10bb(0x185)]!==void 0x0&&(_0xfc58d2+=_0x3f10bb(0x244)+_0x58fb83['secondValue']+'\x22'),_0xfc58d2+=_0x3f10bb(0x177)+_0x44dad7+'.',_0x6ec6f3[_0x3f10bb(0x518)](_0xfc58d2);}_0x44dad7!==null&&(_0x609ad9=_0x44dad7);}if(_0x4fe3d8[_0x3f10bb(0x336)][_0x3f10bb(0x4f8)]&&_0x1563d2[_0x3f10bb(0x5bf)]){_0x4fe3d8[_0x3f10bb(0x336)][_0x3f10bb(0x4f8)][_0x1563d2[_0x3f10bb(0x5bf)]]=_0x609ad9;let _0x2f39bd={'variable':_0x1563d2[_0x3f10bb(0x5bf)],'oldValue':_0x1e734b,'newValue':_0x609ad9,'moreLogs':_0x6ec6f3};try{this[_0x3f10bb(0x886)](_0x4fe3d8,_0x1563d2,_0x2f39bd);}catch(_0x2866e8){this[_0x3f10bb(0x470)][_0x3f10bb(0x16b)]('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x2866e8[_0x3f10bb(0x5e0)]);}}return _0x57e22e;}catch(_0x238859){return this[_0x3f10bb(0x470)]['error']('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x238859[_0x3f10bb(0x5e0)]),null;}}async['processConditions'](_0x29613e,_0x31988e){const _0x538b2d=a0_0x48e44b;try{let _0x111f73=[],_0x1bddb2=_0x29613e[_0x538b2d(0x6c3)][_0x538b2d(0x20c)](_0x28c760=>_0x28c760[_0x538b2d(0x183)]===_0x31988e['_id'][_0x538b2d(0x691)]()),_0x58526e=null,_0xf46cf7=!0x1;for(let _0x456517 of _0x1bddb2){let _0x41e3bc=this[_0x538b2d(0x8a5)](_0x29613e,_0x456517);_0x111f73[_0x538b2d(0x518)](_0x538b2d(0x2a4)+_0x456517['firstValue']+_0x538b2d(0x29e)+_0x456517['expression']+_0x538b2d(0x398)+_0x456517[_0x538b2d(0x185)]+_0x538b2d(0x32a)+_0x41e3bc),_0x58526e===null?_0x58526e=_0x41e3bc:_0x456517[_0x538b2d(0x319)]==='and'?(_0x58526e=_0x58526e&&_0x41e3bc,_0x41e3bc||(_0xf46cf7=!0x0)):_0x456517[_0x538b2d(0x319)]==='or'&&(_0xf46cf7||(_0x58526e=_0x58526e||_0x41e3bc));}_0x58526e===null&&(_0x58526e=!0x0);let _0xa2a1dd={'moreLogs':_0x111f73};_0x29613e[_0x538b2d(0x336)]['lastCondition']=_0x58526e,await this[_0x538b2d(0x886)](_0x29613e,_0x31988e,_0xa2a1dd);}catch(_0x2efec0){this[_0x538b2d(0x470)]['error'](this[_0x538b2d(0x25e)]+'\x20('+this[_0x538b2d(0x844)][_0x538b2d(0x16a)]+_0x538b2d(0x7f9)+(_0x2efec0 instanceof Error?_0x2efec0[_0x538b2d(0x5e0)]:JSON[_0x538b2d(0x365)](_0x2efec0,null,0x2)));}}[a0_0x48e44b(0x8a5)](_0x226e2c,_0x28a53b){const _0x508e84=a0_0x48e44b;let _0x957e8d=_0x28a53b[_0x508e84(0x630)],_0x301965=_0x28a53b[_0x508e84(0x185)];typeof _0x957e8d==_0x508e84(0x292)&&(_0x957e8d=this[_0x508e84(0x802)](_0x957e8d,_0x226e2c[_0x508e84(0x336)][_0x508e84(0x4f8)])??''),typeof _0x301965=='string'&&(_0x301965=this['replaceVariables'](_0x301965,_0x226e2c['chatLog'][_0x508e84(0x4f8)])??'');try{switch(_0x28a53b[_0x508e84(0x162)]){case _0x508e84(0x5ea):return _0x957e8d===_0x301965;case _0x508e84(0x73b):return _0x957e8d!==_0x301965;case'contains':return this[_0x508e84(0x687)](_0x957e8d,_0x301965);case _0x508e84(0x2ca):return!this[_0x508e84(0x687)](_0x957e8d,_0x301965);case _0x508e84(0x881):return parseFloat(_0x957e8d)>parseFloat(_0x301965);case _0x508e84(0x33a):return parseFloat(_0x957e8d)<parseFloat(_0x301965);case _0x508e84(0x2f2):return _0x957e8d!=='';case _0x508e84(0x15d):return _0x957e8d==='';case'matchRegex':return new RegExp(_0x301965)[_0x508e84(0x867)](_0x957e8d);case _0x508e84(0x1bb):return!new RegExp(_0x301965)[_0x508e84(0x867)](_0x957e8d);default:return!0x1;}}catch(_0x416dd5){return this['logger'][_0x508e84(0x16b)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x416dd5),!0x1;}}['contains'](_0x4d5435,_0x22a549){const _0x250b48=a0_0x48e44b;if(_0x4d5435===_0x22a549&&/^\d+$/[_0x250b48(0x867)](_0x4d5435))return!0x0;if(this[_0x250b48(0x1cc)](_0x4d5435)&&/^\d+$/[_0x250b48(0x867)](_0x22a549)){let _0x59cffb=_0x4d5435['split'](',')['map'](_0x55ce32=>parseInt(_0x55ce32['trim']())),_0x4aceac=parseInt(_0x22a549);return _0x59cffb[_0x250b48(0x1d0)](_0x4aceac);}return _0x4d5435[_0x250b48(0x1d0)](_0x22a549);}[a0_0x48e44b(0x1cc)](_0x378929){const _0x574d9b=a0_0x48e44b;return/^\d+(,\d+)*$/[_0x574d9b(0x867)](_0x378929);}[a0_0x48e44b(0x28d)](_0x55788b){const _0x5d8082=a0_0x48e44b;let _0x439c2d=!0x0,_0x8d45cf=null;for(let _0x3dae9b of _0x55788b){let _0x1b870b=this['evaluateConditionTest'](_0x3dae9b);if(_0x8d45cf==='or'&&_0x1b870b){_0x439c2d=!0x0;break;}if(_0x8d45cf===_0x5d8082(0x31d)&&!_0x1b870b){_0x439c2d=!0x1;break;}_0x8d45cf=_0x3dae9b[_0x5d8082(0x319)];}return _0x439c2d;}['evaluateConditionTest'](_0x438194){const _0x4a364a=a0_0x48e44b;let _0x466ab6=_0x438194[_0x4a364a(0x630)],_0x53c78f=_0x438194[_0x4a364a(0x185)];try{switch(_0x438194['expression']){case _0x4a364a(0x5ea):return String(_0x466ab6)===String(_0x53c78f);case _0x4a364a(0x73b):return String(_0x466ab6)!==String(_0x53c78f);case _0x4a364a(0x687):return String(_0x466ab6)[_0x4a364a(0x1d0)](String(_0x53c78f));case _0x4a364a(0x2ca):return!String(_0x466ab6)[_0x4a364a(0x1d0)](String(_0x53c78f));case'greater':return parseFloat(String(_0x466ab6))>parseFloat(String(_0x53c78f));case _0x4a364a(0x33a):return parseFloat(String(_0x466ab6))<parseFloat(String(_0x53c78f));case'notEmpty':return String(_0x466ab6)!=='';case'empty':return String(_0x466ab6)==='';case _0x4a364a(0x6f1):return new RegExp(String(_0x53c78f))[_0x4a364a(0x867)](String(_0x466ab6));case'notMatchRegex':return!new RegExp(String(_0x53c78f))['test'](String(_0x466ab6));default:return!0x1;}}catch(_0x6b54c4){return this[_0x4a364a(0x470)]['error'](_0x4a364a(0x445)+_0x6b54c4),!0x1;}}async['saveTextReply'](_0x3ee690,_0x51ee0e){const _0x264b90=a0_0x48e44b;if(this['logger'][_0x264b90(0x4b1)](this[_0x264b90(0x25e)]+'\x20('+this[_0x264b90(0x844)][_0x264b90(0x16a)]+_0x264b90(0x236)),!_0x3ee690||!_0x51ee0e)return this['logger'][_0x264b90(0x16b)](this[_0x264b90(0x25e)]+'\x20('+this[_0x264b90(0x844)]['wuid']+_0x264b90(0x696)),null;let _0x1a1676=_0x3ee690[_0x264b90(0x336)][_0x264b90(0x4d9)][_0x264b90(0x744)]['id'];this['logger'][_0x264b90(0x4b1)](this[_0x264b90(0x25e)]+'\x20('+this[_0x264b90(0x844)]['wuid']+'):\x20mediaMessageInfoId\x20:\x20'+_0x1a1676);let _0x648092={'key':{'id':_0x1a1676}},_0x59dbbf=_0x51ee0e['saveVariable'];_0x3ee690[_0x264b90(0x336)][_0x264b90(0x4f8)]['_'+_0x59dbbf+'.fileUrl']=null,_0x3ee690[_0x264b90(0x336)][_0x264b90(0x4f8)]['_'+_0x59dbbf+_0x264b90(0x276)]=null,_0x3ee690[_0x264b90(0x336)]['realVariables']['_'+_0x59dbbf+_0x264b90(0x496)]=null,_0x3ee690['chatLog'][_0x264b90(0x4f8)]['_'+_0x59dbbf+_0x264b90(0x8b4)]=_0x3ee690[_0x264b90(0x336)][_0x264b90(0x4d9)][_0x264b90(0x418)];try{let _0x305661=await this['getBase64FromMediaMessage'](_0x648092);this[_0x264b90(0x470)][_0x264b90(0x4b1)](this[_0x264b90(0x25e)]+'\x20('+this[_0x264b90(0x844)][_0x264b90(0x16a)]+'):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.'),_0x3ee690[_0x264b90(0x336)][_0x264b90(0x4f8)]['_'+_0x59dbbf+'.url']=_0x305661['fileUrl'],_0x3ee690[_0x264b90(0x336)][_0x264b90(0x4f8)]['_'+_0x59dbbf+_0x264b90(0x276)]=_0x305661[_0x264b90(0x1b9)];let _0x25a0ec=_0x305661[_0x264b90(0x1b9)][_0x264b90(0x5f6)](/\/(\w+)$/),_0x362a1f=_0x25a0ec?_0x25a0ec[0x1]:null;_0x3ee690[_0x264b90(0x336)][_0x264b90(0x4f8)]['_'+_0x59dbbf+_0x264b90(0x496)]=_0x362a1f,this[_0x264b90(0x470)][_0x264b90(0x4b1)](this[_0x264b90(0x25e)]+'\x20('+this['instance'][_0x264b90(0x16a)]+_0x264b90(0x6c2)+_0x59dbbf+'\x27.');}catch(_0x557f1e){this['logger'][_0x264b90(0x16b)](this['instanceName']+'\x20('+this['instance'][_0x264b90(0x16a)]+_0x264b90(0x87d)+_0x557f1e[_0x264b90(0x5e0)]);}let _0x5d64cd=_0x3ee690[_0x264b90(0x336)][_0x264b90(0x4d9)][_0x264b90(0x1de)]||_0x3ee690[_0x264b90(0x336)]['lastReceivedMessage'][_0x264b90(0x1e7)]||_0x3ee690[_0x264b90(0x336)][_0x264b90(0x4d9)][_0x264b90(0x79a)];try{_0x3ee690[_0x264b90(0x336)][_0x264b90(0x4f8)]||(_0x3ee690[_0x264b90(0x336)][_0x264b90(0x4f8)]={});let _0x3aca65=_0x3ee690[_0x264b90(0x336)][_0x264b90(0x4f8)][_0x59dbbf];_0x3ee690['chatLog']['realVariables'][_0x59dbbf]=_0x5d64cd;let _0x2b3480={'variable':_0x59dbbf,'oldValue':_0x3aca65,'newValue':_0x5d64cd};this['updateConversation'](_0x3ee690,_0x51ee0e,_0x2b3480),this[_0x264b90(0x470)]['verbose'](this[_0x264b90(0x25e)]+'\x20('+this['instance'][_0x264b90(0x16a)]+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x3a8f3e){let _0x3aae56={'error':!0x0,'errorLog':_0x3a8f3e[_0x264b90(0x691)]()};return this['updateConversation'](_0x3ee690,_0x51ee0e,_0x3aae56),this[_0x264b90(0x470)][_0x264b90(0x16b)](this['instanceName']+'\x20('+this[_0x264b90(0x844)][_0x264b90(0x16a)]+_0x264b90(0x538)+(_0x3a8f3e instanceof Error?_0x3a8f3e[_0x264b90(0x5e0)]:JSON[_0x264b90(0x365)](_0x3a8f3e,null,0x2))),null;}}async[a0_0x48e44b(0x8b6)](_0x3b3a15,_0x3ec7bf){const _0x110c64=a0_0x48e44b;if(this[_0x110c64(0x470)][_0x110c64(0x4b1)](this['instanceName']+'\x20('+this['instance'][_0x110c64(0x16a)]+_0x110c64(0x153)),!_0x3b3a15||!_0x3ec7bf)return this[_0x110c64(0x470)][_0x110c64(0x16b)](this[_0x110c64(0x25e)]+'\x20('+this[_0x110c64(0x844)][_0x110c64(0x16a)]+_0x110c64(0x696)),null;let _0x14c32b=Date[_0x110c64(0x23c)](),_0xd6fb28=parseInt(_0x3ec7bf[_0x110c64(0x592)],0xa);if(isNaN(_0xd6fb28))return this[_0x110c64(0x470)][_0x110c64(0x16b)](this['instanceName']+'\x20('+this[_0x110c64(0x844)][_0x110c64(0x16a)]+_0x110c64(0x439)),null;let _0x805eda={'newStoppedUntil':_0x14c32b+_0xd6fb28*0x3c*0x3e8};return await this['updateConversation'](_0x3b3a15,_0x3ec7bf,_0x805eda,!0x0),null;}async[a0_0x48e44b(0x18a)](_0x4ffe5d,_0xdc75cc){const _0x3347d8=a0_0x48e44b;try{switch(_0xdc75cc['uazapi'][_0x3347d8(0x836)]){case _0x3347d8(0x443):await this[_0x3347d8(0x701)](_0x4ffe5d,_0xdc75cc);break;case'sendMedia':await this[_0x3347d8(0x4cb)](_0x4ffe5d,_0xdc75cc);break;case _0x3347d8(0x85d):await this['uazapiSendLocation'](_0x4ffe5d,_0xdc75cc);break;case _0x3347d8(0x72f):await this[_0x3347d8(0x18b)](_0x4ffe5d,_0xdc75cc);break;case _0x3347d8(0x564):await this[_0x3347d8(0x14c)](_0x4ffe5d,_0xdc75cc);break;case _0x3347d8(0x40a):await this[_0x3347d8(0x794)](_0x4ffe5d,_0xdc75cc);break;case'sendMenu':await this[_0x3347d8(0x794)](_0x4ffe5d,_0xdc75cc);break;case _0x3347d8(0x306):await this['uazapiDeleteMessage'](_0x4ffe5d,_0xdc75cc);break;default:this[_0x3347d8(0x470)][_0x3347d8(0x16b)](this[_0x3347d8(0x25e)]+'\x20('+this[_0x3347d8(0x844)]['wuid']+_0x3347d8(0x66f)+_0xdc75cc[_0x3347d8(0x796)][_0x3347d8(0x836)]);}}catch(_0x5bd8a6){this[_0x3347d8(0x470)][_0x3347d8(0x16b)](this['instanceName']+'\x20('+this[_0x3347d8(0x844)][_0x3347d8(0x16a)]+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+(_0x5bd8a6 instanceof Error?_0x5bd8a6[_0x3347d8(0x5e0)]:JSON['stringify'](_0x5bd8a6,null,0x2)));}}async[a0_0x48e44b(0x886)](_0x287978,_0x33b142,_0x2cb74b,_0x11c604=!0x1,_0x32b175=!0x1){const _0x94b5f7=a0_0x48e44b;_0x287978[_0x94b5f7(0x336)][_0x94b5f7(0x7d7)]||(_0x287978[_0x94b5f7(0x336)][_0x94b5f7(0x7d7)]=[]);let _0x54bd18=(_0x287978[_0x94b5f7(0x336)][_0x94b5f7(0x7d7)]?.[_0x94b5f7(0x3b4)]??0x0)+0x1,_0x22c17e=_0x287978[_0x94b5f7(0x336)][_0x94b5f7(0x7d7)][_0x94b5f7(0x20c)](_0x10fe58=>String(_0x10fe58[_0x94b5f7(0x183)])===String(_0x33b142[_0x94b5f7(0x477)]))[_0x94b5f7(0x3b4)]+0x1,_0x3bb87b=_0x2cb74b?.[_0x94b5f7(0x5da)]??Date[_0x94b5f7(0x23c)](),_0x9a13cf=_0x2cb74b?.[_0x94b5f7(0x16b)]?_0x2cb74b[_0x94b5f7(0x151)]??_0x2cb74b['error'][_0x94b5f7(0x691)]():void 0x0,_0x19530a={'onTime':_0x3bb87b,'blockId':_0x33b142[_0x94b5f7(0x477)],'order':_0x54bd18,'activatedCount':_0x22c17e,'error':_0x2cb74b?.['error']??!0x1,'messageId':_0x2cb74b?.[_0x94b5f7(0x14d)],'apiResponse':_0x2cb74b?.[_0x94b5f7(0x32d)],'apiResponseString':_0x2cb74b?.[_0x94b5f7(0x32d)]?JSON[_0x94b5f7(0x365)](_0x2cb74b?.[_0x94b5f7(0x32d)]):void 0x0,'variable':_0x2cb74b?.[_0x94b5f7(0x675)],'oldValue':_0x2cb74b?.[_0x94b5f7(0x265)],'newValue':_0x2cb74b?.[_0x94b5f7(0x20a)],'newStoppedUntil':_0x2cb74b?.['newStoppedUntil'],'moreLogs':_0x2cb74b?.['moreLogs'],'errorLog':_0x9a13cf};if(_0x2cb74b[_0x94b5f7(0x263)]&&_0x2cb74b['moreLogs'][_0x94b5f7(0x3b4)]>0x0){let _0x14c4bd=_0x2cb74b['moreLogs'][_0x94b5f7(0x3ad)](_0x2a963b=>this[_0x94b5f7(0x4aa)](_0x2a963b,_0x287978[_0x94b5f7(0x336)][_0x94b5f7(0x4f8)]));_0x19530a[_0x94b5f7(0x263)]=_0x14c4bd;}if(_0x287978[_0x94b5f7(0x336)][_0x94b5f7(0x4f8)]||(_0x287978[_0x94b5f7(0x336)][_0x94b5f7(0x4f8)]={}),_0x287978[_0x94b5f7(0x336)][_0x94b5f7(0x4f8)][_0x94b5f7(0x19c)]=String(_0x22c17e),_0x287978[_0x94b5f7(0x336)][_0x94b5f7(0x4f8)][_0x94b5f7(0x863)]=String(_0x2cb74b[_0x94b5f7(0x16b)]??!0x1),_0x287978[_0x94b5f7(0x336)][_0x94b5f7(0x7d7)][_0x94b5f7(0x518)](_0x19530a),_0x287978[_0x94b5f7(0x336)]['realVariables'][_0x94b5f7(0x7bd)]&&_0x287978[_0x94b5f7(0x336)][_0x94b5f7(0x4f8)][_0x94b5f7(0x7bd)]!==_0x287978[_0x94b5f7(0x713)]){let _0x53c7b1=(await this[_0x94b5f7(0x1aa)]({'numbers':[_0x287978[_0x94b5f7(0x336)]['realVariables']['telefone']]}))[0x0][_0x94b5f7(0x1b3)];_0x287978[_0x94b5f7(0x336)][_0x94b5f7(0x4f8)][_0x94b5f7(0x7bd)]=_0x53c7b1,_0x287978[_0x94b5f7(0x713)]=_0x53c7b1;try{let _0x49b659={'_id':{'$ne':_0x287978[_0x94b5f7(0x477)]},'remoteJid':_0x53c7b1,'status':_0x94b5f7(0x422)},_0xc6b4e0={'status':_0x94b5f7(0x78e)};await this['repository'][_0x94b5f7(0x4ea)][_0x94b5f7(0x167)](_0x49b659,_0xc6b4e0,this[_0x94b5f7(0x844)][_0x94b5f7(0x16a)]),this[_0x94b5f7(0x470)][_0x94b5f7(0x4b1)](this[_0x94b5f7(0x25e)]+'\x20('+this[_0x94b5f7(0x844)][_0x94b5f7(0x16a)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.');}catch(_0x41b590){this[_0x94b5f7(0x470)][_0x94b5f7(0x16b)](this[_0x94b5f7(0x25e)]+'\x20('+this[_0x94b5f7(0x844)][_0x94b5f7(0x16a)]+_0x94b5f7(0x335)+_0x41b590[_0x94b5f7(0x5e0)]);}try{let _0x1666e4=_0x287978[_0x94b5f7(0x336)][_0x94b5f7(0x4f8)],_0x3094c4=await this[_0x94b5f7(0x4c9)](_0x53c7b1),_0x3c265b={..._0x1666e4,..._0x3094c4,'_remoteJid':_0x53c7b1};_0x287978[_0x94b5f7(0x336)]['realVariables']=_0x3c265b;}catch(_0x219da8){this[_0x94b5f7(0x470)][_0x94b5f7(0x16b)](this[_0x94b5f7(0x25e)]+'\x20('+this[_0x94b5f7(0x844)][_0x94b5f7(0x16a)]+_0x94b5f7(0x7bb)+_0x219da8[_0x94b5f7(0x5e0)]);}}_0x287978['chatLog']['lastBlockId']=_0x33b142[_0x94b5f7(0x477)][_0x94b5f7(0x691)](),_0x287978[_0x94b5f7(0x336)][_0x94b5f7(0x233)]&&(_0x287978['chatLog']['lastSendMessage']=_0x287978[_0x94b5f7(0x336)][_0x94b5f7(0x233)]),_0x287978[_0x94b5f7(0x336)][_0x94b5f7(0x4d9)]&&(_0x287978[_0x94b5f7(0x336)][_0x94b5f7(0x4d9)]=_0x287978['chatLog'][_0x94b5f7(0x4d9)]),_0x287978['chatLog'][_0x94b5f7(0x54e)]&&(_0x287978[_0x94b5f7(0x336)][_0x94b5f7(0x54e)]=_0x287978[_0x94b5f7(0x336)][_0x94b5f7(0x54e)]),_0x32b175&&(_0x287978[_0x94b5f7(0x485)]=_0x94b5f7(0x78e)),_0x11c604?this[_0x94b5f7(0x6a7)](_0x287978):this[_0x94b5f7(0x47a)](_0x287978,_0x33b142);}[a0_0x48e44b(0x4aa)](_0x2c2ba7,_0x31e753){const _0x895a2e=a0_0x48e44b;return _0x2c2ba7[_0x895a2e(0x67e)](/\{\{([^}]+)\}\}/g,(_0x521f56,_0x2af644)=>_0x31e753[_0x2af644]?'{{'+_0x2af644+_0x895a2e(0x792)+_0x31e753[_0x2af644]+'\x22':'{{'+_0x2af644+_0x895a2e(0x887));}async[a0_0x48e44b(0x6a7)](_0x3b6aab){const _0x55bd5a=a0_0x48e44b;try{let _0x2969fa=Object[_0x55bd5a(0x4c4)](_0x3b6aab[_0x55bd5a(0x336)][_0x55bd5a(0x4f8)])[_0x55bd5a(0x3ad)](([_0x59431a,_0x555a43])=>({'name':_0x59431a,'value':_0x555a43})),_0x74c4ce={'status':_0x3b6aab['status'],'remoteJid':_0x3b6aab['remoteJid'],'blocks':_0x3b6aab[_0x55bd5a(0x543)],'waitingMenu_id':_0x3b6aab[_0x55bd5a(0x6a6)],'waitingMenu_text':_0x3b6aab[_0x55bd5a(0x5de)],'waitingMenu_replyOptions':_0x3b6aab[_0x55bd5a(0x751)],'chatLog':{'lastBlockId':_0x3b6aab[_0x55bd5a(0x336)][_0x55bd5a(0x58a)],'lastSendMessage':_0x3b6aab['chatLog'][_0x55bd5a(0x233)],'lastReceivedMessage':_0x3b6aab[_0x55bd5a(0x336)][_0x55bd5a(0x4d9)],'lastCondition':_0x3b6aab['chatLog'][_0x55bd5a(0x54e)],'chatVariables':_0x2969fa,'realVariables':_0x3b6aab['chatLog'][_0x55bd5a(0x4f8)],'blockLogs':_0x3b6aab[_0x55bd5a(0x336)]['blockLogs']}},_0x2ee40b=await this[_0x55bd5a(0x850)]['flowConversation'][_0x55bd5a(0x7b8)](_0x3b6aab[_0x55bd5a(0x477)],_0x74c4ce,this[_0x55bd5a(0x844)]['wuid']);if(_0x2ee40b){this['logger'][_0x55bd5a(0x4b1)](this[_0x55bd5a(0x25e)]+'\x20('+this[_0x55bd5a(0x844)]['wuid']+_0x55bd5a(0x680)+_0x2ee40b['_id']);try{let _0x927780=[_0x55bd5a(0x2ed),_0x55bd5a(0x436),'email',_0x55bd5a(0x5b6),_0x55bd5a(0x485),_0x55bd5a(0x396),_0x55bd5a(0x57d),_0x55bd5a(0x814),'etiquetas','atendimentoAberto'];if(!this[_0x55bd5a(0x7c6)]&&(await this['getAutomateSystem'](),!this['AutomateSystem']))throw new Error(_0x55bd5a(0x716));let _0x5275da=this[_0x55bd5a(0x7c6)]?.['customFields'][_0x55bd5a(0x3ad)](_0x1da736=>_0x1da736['name']),_0x1e15fc={};Object[_0x55bd5a(0x4c4)](_0x3b6aab['chatLog']['realVariables'])['forEach'](([_0x4f4567,_0x4cc244])=>{const _0x5d3eb9=_0x55bd5a;_0x927780[_0x5d3eb9(0x1d0)](_0x4f4567)&&(_0x4f4567==='tags'&&typeof _0x4cc244=='string'?_0x1e15fc[_0x4f4567]=_0x4cc244[_0x5d3eb9(0x8a4)](',')[_0x5d3eb9(0x3ad)](_0x236b61=>_0x236b61[_0x5d3eb9(0x4ed)]())[_0x5d3eb9(0x20c)](_0x4f566f=>_0x4f566f!==''):_0x4f4567===_0x5d3eb9(0x3c6)&&typeof _0x4cc244==_0x5d3eb9(0x292)?_0x1e15fc[_0x4f4567]=_0x4cc244[_0x5d3eb9(0x8a4)](',')['map'](_0x415105=>_0x415105[_0x5d3eb9(0x4ed)]())[_0x5d3eb9(0x20c)](_0x32e02d=>_0x32e02d!==''):_0x1e15fc[_0x4f4567]=_0x4cc244);});let _0x4f6de7=_0x3b6aab[_0x55bd5a(0x336)]['blockLogs'][_0x3b6aab[_0x55bd5a(0x336)][_0x55bd5a(0x7d7)][_0x55bd5a(0x3b4)]-0x1];if(_0x4f6de7){let _0x2e0d2d=_0x4f6de7[_0x55bd5a(0x856)];_0x2e0d2d!==void 0x0&&(_0x1e15fc[_0x55bd5a(0x326)]=_0x2e0d2d[_0x55bd5a(0x691)]());}let _0x462d7c=_0x2969fa['filter'](_0x23b45b=>_0x5275da['includes'](_0x23b45b[_0x55bd5a(0x5ff)]));this[_0x55bd5a(0x470)][_0x55bd5a(0x4b1)](this[_0x55bd5a(0x25e)]+'\x20('+this[_0x55bd5a(0x844)]['wuid']+_0x55bd5a(0x283)),this[_0x55bd5a(0x470)][_0x55bd5a(0x4b1)](_0x1e15fc),this[_0x55bd5a(0x470)]['verbose'](this[_0x55bd5a(0x25e)]+'\x20('+this['instance']['wuid']+'):\x20customFieldVariables'),this[_0x55bd5a(0x470)][_0x55bd5a(0x4b1)](_0x462d7c);let _0x3b7b60=_0x462d7c[_0x55bd5a(0x3ad)](_0x14f8e9=>{const _0x3e77ba=_0x55bd5a;let _0x460837=this['AutomateSystem']?.['customFields'][_0x3e77ba(0x1ae)](_0x2ac381=>_0x2ac381[_0x3e77ba(0x5ff)]===_0x14f8e9[_0x3e77ba(0x5ff)]);if(!_0x460837)throw new Error(_0x3e77ba(0x429)+_0x14f8e9[_0x3e77ba(0x5ff)]);return{'_id':_0x460837['_id'],'value':_0x14f8e9[_0x3e77ba(0x834)]};});this[_0x55bd5a(0x470)]['verbose'](this[_0x55bd5a(0x25e)]+'\x20('+this[_0x55bd5a(0x844)][_0x55bd5a(0x16a)]+_0x55bd5a(0x44d)),this[_0x55bd5a(0x470)][_0x55bd5a(0x4b1)](_0x3b7b60),await this[_0x55bd5a(0x608)](_0x3b6aab[_0x55bd5a(0x713)],_0x1e15fc,_0x3b7b60);}catch(_0x592373){this[_0x55bd5a(0x470)]['error'](this[_0x55bd5a(0x25e)]+'\x20('+this['instance'][_0x55bd5a(0x16a)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0x592373 instanceof Error?_0x592373[_0x55bd5a(0x5e0)]:JSON[_0x55bd5a(0x365)](_0x592373,null,0x2)));}}else this['logger'][_0x55bd5a(0x16b)](this[_0x55bd5a(0x25e)]+'\x20('+this[_0x55bd5a(0x844)][_0x55bd5a(0x16a)]+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x29c7d2){this[_0x55bd5a(0x470)]['error'](this[_0x55bd5a(0x25e)]+'\x20('+this['instance'][_0x55bd5a(0x16a)]+_0x55bd5a(0x7e1)+(_0x29c7d2 instanceof Error?_0x29c7d2[_0x55bd5a(0x5e0)]:JSON[_0x55bd5a(0x365)](_0x29c7d2,null,0x2)));}}async[a0_0x48e44b(0x608)](_0x3a97d9,_0x3bc921,_0x1cd369){const _0x2b223e=a0_0x48e44b;try{let _0x5908e6={'leadInfo.leadnome':_0x3bc921[_0x2b223e(0x2ed)],'leadInfo.nomecompleto':_0x3bc921[_0x2b223e(0x436)],'leadInfo.email':_0x3bc921[_0x2b223e(0x2bf)],'leadInfo.cpf':_0x3bc921[_0x2b223e(0x5b6)],'leadInfo.status':_0x3bc921[_0x2b223e(0x485)],'leadInfo.notas':_0x3bc921[_0x2b223e(0x396)],'leadInfo.responsavelid':_0x3bc921[_0x2b223e(0x57d)],'leadInfo.tags':_0x3bc921[_0x2b223e(0x814)],'leadInfo.etiquetas':_0x3bc921[_0x2b223e(0x3c6)],'leadInfo.customFields':_0x1cd369,'leadInfo.atendimentoAberto':_0x3bc921['atendimentoAberto']},_0xf194cc=await this[_0x2b223e(0x850)][_0x2b223e(0x176)][_0x2b223e(0x715)]({'where':{'_id':_0x3a97d9}},this[_0x2b223e(0x844)][_0x2b223e(0x16a)]);if(!_0xf194cc)return _0x2b223e(0x6b3);let _0xf2f4e4=new Set(_0xf194cc[_0x2b223e(0x837)][_0x2b223e(0x3c6)]||[]),_0x3d64dd=new Set(_0x3bc921[_0x2b223e(0x3c6)]||[]),_0x3876fd=await this['repository'][_0x2b223e(0x1bf)][_0x2b223e(0x1ae)]({'where':{}},this[_0x2b223e(0x844)]['wuid']),_0x3d8db8=new Set(_0x3876fd[_0x2b223e(0x3ad)](_0x1ce5e=>_0x1ce5e[_0x2b223e(0x477)])),_0x3f6ef7=[..._0x3d64dd]['filter'](_0x2fb985=>!_0xf2f4e4['has'](_0x2fb985)&&_0x3d8db8[_0x2b223e(0x31f)](_0x2fb985)),_0x3d3c02=[..._0xf2f4e4][_0x2b223e(0x20c)](_0x25f73f=>!_0x3d64dd['has'](_0x25f73f));for(let _0x86dabd of _0x3f6ef7)await this[_0x2b223e(0x483)](_0x86dabd,_0xf194cc[_0x2b223e(0x477)]),_0xf2f4e4[_0x2b223e(0x234)](_0x86dabd);for(let _0x1b30ef of _0x3d3c02)await this[_0x2b223e(0x2f6)](_0x1b30ef,_0xf194cc[_0x2b223e(0x477)]),_0xf2f4e4[_0x2b223e(0x6a5)](_0x1b30ef);if('desativadoFluxoAte'in _0x3bc921){let _0x58c311=_0x3bc921[_0x2b223e(0x326)];_0x5908e6['leadInfo.desativadoFluxoAte']=_0x58c311?Number(_0x58c311):null;}if('atendimentoAberto'in _0x3bc921){let _0x158fea=_0x3bc921[_0x2b223e(0x73c)][_0x2b223e(0x5af)]();_0x5908e6[_0x2b223e(0x3cf)]=_0x158fea===_0x2b223e(0x369)||_0x158fea==='1'||_0x158fea==='yes'||_0x158fea===_0x2b223e(0x230);}let _0x3a2175=await this[_0x2b223e(0x850)]['chat']['updateOne']({'where':{'_id':_0x3a97d9}},_0x5908e6,this['instance'][_0x2b223e(0x16a)]);_0x3a2175?(this['logger']['verbose'](this[_0x2b223e(0x25e)]+'\x20('+this[_0x2b223e(0x844)][_0x2b223e(0x16a)]+_0x2b223e(0x38f)+_0x3a2175[_0x2b223e(0x477)]),F(this[_0x2b223e(0x25e)],_0x2b223e(0x482),{'chat':_0x3a2175})):this[_0x2b223e(0x470)][_0x2b223e(0x16b)](this[_0x2b223e(0x25e)]+'\x20('+this[_0x2b223e(0x844)][_0x2b223e(0x16a)]+_0x2b223e(0x637));}catch(_0x4b0621){this[_0x2b223e(0x470)][_0x2b223e(0x16b)](this[_0x2b223e(0x25e)]+'\x20('+this[_0x2b223e(0x844)][_0x2b223e(0x16a)]+_0x2b223e(0x885)+(_0x4b0621 instanceof Error?_0x4b0621[_0x2b223e(0x5e0)]:JSON['stringify'](_0x4b0621,null,0x2)));}}async['updateStopChat'](_0x18d55e,_0x126167){const _0x17b859=a0_0x48e44b;this[_0x17b859(0x470)][_0x17b859(0x4b1)](this['instanceName']+'\x20('+this[_0x17b859(0x844)][_0x17b859(0x16a)]+'):\x20atualização\x20chat:\x20'+_0x126167);try{let _0x5b58b5=await this[_0x17b859(0x850)][_0x17b859(0x176)][_0x17b859(0x7b8)]({'where':{'_id':_0x18d55e[_0x17b859(0x713)]}},{'leadInfo.desativadoFluxoAte':_0x126167},this[_0x17b859(0x844)][_0x17b859(0x16a)]);this[_0x17b859(0x470)][_0x17b859(0x4b1)](this['instanceName']+'\x20('+this[_0x17b859(0x844)][_0x17b859(0x16a)]+_0x17b859(0x6e7)+_0x18d55e[_0x17b859(0x477)]),this[_0x17b859(0x470)][_0x17b859(0x4b1)](this[_0x17b859(0x25e)]+'\x20('+this['instance'][_0x17b859(0x16a)]+_0x17b859(0x384)+JSON['stringify'](_0x5b58b5,null,0x2)),_0x5b58b5&&F(this[_0x17b859(0x25e)],_0x17b859(0x482),{'chat':_0x5b58b5});}catch(_0x4a22c4){this[_0x17b859(0x470)][_0x17b859(0x16b)](this[_0x17b859(0x25e)]+'\x20('+this['instance'][_0x17b859(0x16a)]+_0x17b859(0x602)+(_0x4a22c4 instanceof Error?_0x4a22c4[_0x17b859(0x5e0)]:JSON[_0x17b859(0x365)](_0x4a22c4,null,0x2)));}}async[a0_0x48e44b(0x763)](_0x11e91c){const _0x5d27f4=a0_0x48e44b;try{this[_0x5d27f4(0x470)]['verbose'](this[_0x5d27f4(0x25e)]+'\x20('+this['instance'][_0x5d27f4(0x16a)]+'):\x20Buscando\x20flow...');let _0x18c055=_0x11e91c[_0x5d27f4(0x67e)](/\D/g,''),_0x130980=this[_0x5d27f4(0x7c6)][_0x5d27f4(0x166)]['find'](_0x4e9756=>_0x4e9756[_0x5d27f4(0x33e)]===_0x18c055);if(_0x130980||(this[_0x5d27f4(0x470)][_0x5d27f4(0x4b1)](this[_0x5d27f4(0x25e)]+'\x20('+this['instance'][_0x5d27f4(0x16a)]+_0x5d27f4(0x50c)),_0x130980=this['AutomateSystem']['flows'][_0x5d27f4(0x1ae)](_0x19b86e=>_0x19b86e[_0x5d27f4(0x875)]===!0x0)),!_0x130980)return this['logger'][_0x5d27f4(0x4b1)](this[_0x5d27f4(0x25e)]+'\x20('+this['instance']['wuid']+'):\x20Não\x20achou\x20nenhum\x20flow'),null;let _0x57a90e=await this[_0x5d27f4(0x850)][_0x5d27f4(0x251)][_0x5d27f4(0x715)]({'where':{'_id':_0x130980[_0x5d27f4(0x477)]}});if(!_0x57a90e||!_0x57a90e[_0x5d27f4(0x51f)]?.[_0x5d27f4(0x1d0)](this[_0x5d27f4(0x844)][_0x5d27f4(0x16a)]))throw this[_0x5d27f4(0x470)][_0x5d27f4(0x16b)](this['instanceName']+'\x20('+this[_0x5d27f4(0x844)][_0x5d27f4(0x16a)]+_0x5d27f4(0x5dd)+_0x57a90e[_0x5d27f4(0x477)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x5d27f4(0x52b)+_0x57a90e[_0x5d27f4(0x477)]+_0x5d27f4(0x2a9));return _0x57a90e;}catch(_0x54c2f9){return this[_0x5d27f4(0x470)][_0x5d27f4(0x16b)](this['instanceName']+'\x20('+this[_0x5d27f4(0x844)][_0x5d27f4(0x16a)]+_0x5d27f4(0x373)+(_0x54c2f9 instanceof Error?_0x54c2f9[_0x5d27f4(0x5e0)]:JSON[_0x5d27f4(0x365)](_0x54c2f9,null,0x2))),null;}}async[a0_0x48e44b(0x38c)](_0x144273,_0x4cd00b){const _0x893109=a0_0x48e44b;try{let _0x407e5a=!!_0x4cd00b[_0x893109(0x79a)],_0x18578f=_0x4cd00b[_0x893109(0x3e3)],_0x4ef774=null;if(this[_0x893109(0x470)][_0x893109(0x4b1)](this[_0x893109(0x25e)]+'\x20('+this[_0x893109(0x844)]['wuid']+_0x893109(0x61c)+_0x407e5a+_0x893109(0x4d8)+_0x18578f),_0x407e5a){this[_0x893109(0x470)][_0x893109(0x4b1)](this[_0x893109(0x25e)]+'\x20('+this[_0x893109(0x844)][_0x893109(0x16a)]+_0x893109(0x327));let _0x121980={'where':{'remoteJid':_0x144273,'waitingMenu_id':_0x18578f}};if(_0x4ef774=await this['repository']['flowConversation'][_0x893109(0x715)](_0x121980,this[_0x893109(0x844)][_0x893109(0x16a)]),!_0x4ef774)return this[_0x893109(0x470)]['verbose'](this[_0x893109(0x25e)]+'\x20('+this['instance'][_0x893109(0x16a)]+_0x893109(0x573)),null;let _0x170770=Date[_0x893109(0x23c)](),_0x5e6c1f=_0x4ef774?.[_0x893109(0x546)]||0x0,_0x3134ec=_0x170770-_0x5e6c1f*0x3c*0x3e8;if(_0x4ef774[_0x893109(0x7d8)]<_0x3134ec){this[_0x893109(0x470)][_0x893109(0x4b1)](this[_0x893109(0x25e)]+'\x20('+this[_0x893109(0x844)][_0x893109(0x16a)]+_0x893109(0x14b));let _0x57b14e={'number':_0x4ef774[_0x893109(0x713)],'options':{'delay':0x0},'textMessage':{'text':_0x4ef774[_0x893109(0x27c)]}};await this['textMessage'](_0x57b14e);let _0x1c1e43={'status':_0x893109(0x78e),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository'][_0x893109(0x4ea)]['updateOne'](_0x4ef774[_0x893109(0x477)],_0x1c1e43,this[_0x893109(0x844)][_0x893109(0x16a)]),null;}return _0x4ef774['lastInteraction']=Date[_0x893109(0x23c)](),_0x4ef774[_0x893109(0x336)][_0x893109(0x4d9)]=_0x4cd00b,_0x4ef774;}else{this[_0x893109(0x470)][_0x893109(0x4b1)](this[_0x893109(0x25e)]+'\x20('+this[_0x893109(0x844)][_0x893109(0x16a)]+_0x893109(0x741)+this[_0x893109(0x844)][_0x893109(0x16a)]+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this['logger'][_0x893109(0x4b1)](this[_0x893109(0x25e)]+'\x20('+this[_0x893109(0x844)][_0x893109(0x16a)]+_0x893109(0x79e));let _0x1f8719={'where':{'remoteJid':_0x144273,'status':_0x893109(0x422)}};if(_0x4ef774=await this[_0x893109(0x850)][_0x893109(0x4ea)]['findOne'](_0x1f8719,this[_0x893109(0x844)][_0x893109(0x16a)]),!_0x4ef774){let _0x232e05=await this['findFlow'](_0x144273);if(_0x232e05&&(_0x4ef774=await this[_0x893109(0x6a0)](_0x232e05,_0x4cd00b['key'],_0x4cd00b)),!_0x4ef774)return null;}let _0x9cd88a=Date['now'](),_0x3bf926=_0x4ef774?.['minutesToClose']||0x0,_0xe0b61f=_0x9cd88a-_0x3bf926*0x3c*0x3e8;if(this['logger'][_0x893109(0x4b1)](this[_0x893109(0x25e)]+'\x20('+this[_0x893109(0x844)][_0x893109(0x16a)]+_0x893109(0x5dc)+_0x9cd88a+_0x893109(0x853)+_0x3bf926+_0x893109(0x831)+_0xe0b61f),this[_0x893109(0x470)][_0x893109(0x4b1)](this['instanceName']+'\x20('+this[_0x893109(0x844)][_0x893109(0x16a)]+_0x893109(0x242)),this['logger']['verbose'](this[_0x893109(0x25e)]+'\x20('+this[_0x893109(0x844)]['wuid']+'):\x20conversation.lastInteraction:\x20'+_0x4ef774[_0x893109(0x7d8)]),this[_0x893109(0x470)][_0x893109(0x4b1)](this[_0x893109(0x25e)]+'\x20('+this['instance']['wuid']+_0x893109(0x5e4)+_0xe0b61f),_0x4ef774[_0x893109(0x7d8)]<_0xe0b61f){this['logger'][_0x893109(0x4b1)](this['instanceName']+'\x20('+this[_0x893109(0x844)][_0x893109(0x16a)]+_0x893109(0x37a));let _0xee3cac=await this['findFlow'](_0x144273);if(_0xee3cac===null)return null;_0x4ef774&&await this[_0x893109(0x850)]['flowConversation'][_0x893109(0x7b8)](_0x4ef774[_0x893109(0x477)],{'status':_0x893109(0x78e)},this[_0x893109(0x844)][_0x893109(0x16a)]),_0x4ef774=await this[_0x893109(0x6a0)](_0xee3cac,_0x4cd00b[_0x893109(0x744)],_0x4cd00b);}return _0x4ef774[_0x893109(0x7d8)]=_0x9cd88a,_0x4ef774['chatLog']['lastReceivedMessage']=_0x4cd00b,_0x4ef774;}}catch(_0xab1a45){return this[_0x893109(0x470)]['error'](this[_0x893109(0x25e)]+'\x20('+this['instance'][_0x893109(0x16a)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0xab1a45 instanceof Error?_0xab1a45[_0x893109(0x5e0)]:JSON[_0x893109(0x365)](_0xab1a45,null,0x2))),null;}}async[a0_0x48e44b(0x6a0)](_0x3fc4f0,_0x26fb6f,_0x2972e4){const _0x50a71e=a0_0x48e44b;this[_0x50a71e(0x470)]['verbose'](this[_0x50a71e(0x25e)]+'\x20('+this[_0x50a71e(0x844)]['wuid']+_0x50a71e(0x826));try{let _0xab8c6f=require(_0x50a71e(0x819))[_0x50a71e(0x493)],_0x5e102e=Date[_0x50a71e(0x23c)](),_0x475f92='start',_0x1f4bc3=_0x26fb6f['fromMe']?null:_0x2972e4,_0x1fb862=_0x26fb6f[_0x50a71e(0x479)]?_0x2972e4:null,_0x677836=_0x26fb6f['remoteJid'],_0x2da87e=this[_0x50a71e(0x7c6)][_0x50a71e(0x166)][_0x50a71e(0x1ae)](_0x1fc84a=>_0x1fc84a['_id']===_0x3fc4f0['_id']?.[_0x50a71e(0x691)]()),_0x35d9ce=_0x2da87e?.[_0x50a71e(0x546)]??_0x3fc4f0['minutesToClose']??0x0,_0x1eee2f=_0x2da87e?.[_0x50a71e(0x6e1)]??_0x3fc4f0[_0x50a71e(0x6e1)]??!0x1;await this[_0x50a71e(0x65f)](_0x677836);let _0x2a4978={'flowId':_0x3fc4f0[_0x50a71e(0x477)],..._0x3fc4f0,'chatLog':null},_0x3b1b23=await this['variablesToObject'](_0x2a4978[_0x50a71e(0x517)]),_0x4adab4=await this['getVariablesChat'](_0x677836),_0x2ffa66={..._0x3b1b23,..._0x4adab4,'_remoteJid':_0x677836},_0x3819bc={'lastReceivedMessage':_0x1f4bc3,'lastSendMessage':_0x1fb862,'lastBlockId':_0x475f92,'lastCondition':!0x0,'realVariables':_0x2ffa66};_0x2a4978[_0x50a71e(0x336)]=_0x3819bc,delete _0x2a4978[_0x50a71e(0x477)],_0x2a4978[_0x50a71e(0x477)]=new _0xab8c6f(),_0x2a4978[_0x50a71e(0x7d8)]=_0x5e102e,_0x2a4978[_0x50a71e(0x485)]=_0x50a71e(0x422),_0x2a4978['remoteJid']=_0x677836,_0x2a4978[_0x50a71e(0x546)]=_0x35d9ce,_0x2a4978[_0x50a71e(0x6e1)]=_0x1eee2f;let _0xa96c34=await this[_0x50a71e(0x850)]['flowConversation']['updateOne'](_0x2a4978[_0x50a71e(0x477)],_0x2a4978,this[_0x50a71e(0x844)][_0x50a71e(0x16a)]);return this[_0x50a71e(0x470)][_0x50a71e(0x4b1)](this[_0x50a71e(0x25e)]+'\x20('+this['instance'][_0x50a71e(0x16a)]+_0x50a71e(0x598)),_0xa96c34?_0x2a4978:null;}catch(_0x1f436b){return this[_0x50a71e(0x470)]['error'](this[_0x50a71e(0x25e)]+'\x20('+this['instance'][_0x50a71e(0x16a)]+_0x50a71e(0x6d3)+(_0x1f436b instanceof Error?_0x1f436b[_0x50a71e(0x5e0)]:JSON[_0x50a71e(0x365)](_0x1f436b,null,0x2))),_0x1f436b;}}async[a0_0x48e44b(0x701)](_0x2ed81a,_0x401a56){const _0x238aa0=a0_0x48e44b;let _0x294bf7=_0x2ed81a['remoteJid'];_0x401a56[_0x238aa0(0x796)][_0x238aa0(0x713)]&&_0x401a56[_0x238aa0(0x796)]['remoteJid'][_0x238aa0(0x4ed)]()!==''&&(_0x294bf7=_0x401a56[_0x238aa0(0x796)][_0x238aa0(0x713)][_0x238aa0(0x4ed)]()),this['logger']['verbose'](this[_0x238aa0(0x25e)]+'\x20('+this[_0x238aa0(0x844)][_0x238aa0(0x16a)]+_0x238aa0(0x442));let _0x9afae3={'number':_0x294bf7,'options':{'delay':_0x401a56[_0x238aa0(0x796)][_0x238aa0(0x3d3)],'linkPreview':_0x401a56[_0x238aa0(0x796)][_0x238aa0(0x62d)]},'textMessage':{'text':_0x401a56[_0x238aa0(0x796)]['text']}};try{let _0x598756=await this[_0x238aa0(0x2f4)](_0x9afae3);if(_0x598756){let _0x3b7c60={'_id':_0x598756[_0x238aa0(0x744)]['id'],'_fromMe':_0x598756[_0x238aa0(0x744)][_0x238aa0(0x479)],'_remoteJid':_0x598756['key']['remoteJid']},_0x24f5fa=(0x0,w['normalizeMessageContent'])(_0x598756[_0x238aa0(0x5e0)]),_0x4e5b30=(0x0,w['getContentType'])(_0x24f5fa);_0x2ed81a[_0x238aa0(0x336)][_0x238aa0(0x58a)]=_0x401a56[_0x238aa0(0x477)][_0x238aa0(0x691)]();let {message_normalized:_0x500042}=this[_0x238aa0(0x26a)](_0x24f5fa,_0x4e5b30,null);_0x2ed81a[_0x238aa0(0x336)][_0x238aa0(0x233)]=await _0x500042;let _0x3a2139={'messageId':_0x598756[_0x238aa0(0x744)]['id']},_0x174836=_0x2ed81a['chatLog']['realVariables'];Object[_0x238aa0(0x3c5)](_0x174836,_0x3b7c60),_0x2ed81a['chatLog'][_0x238aa0(0x4f8)]=_0x174836,this[_0x238aa0(0x886)](_0x2ed81a,_0x401a56,_0x3a2139);}else{let _0xd7fa12={'error':!0x0};this[_0x238aa0(0x886)](_0x2ed81a,_0x401a56,_0xd7fa12),this[_0x238aa0(0x470)][_0x238aa0(0x16b)](this[_0x238aa0(0x25e)]+'\x20('+this[_0x238aa0(0x844)][_0x238aa0(0x16a)]+_0x238aa0(0x428));}}catch(_0x4118de){let _0x36aad4={'error':!0x0,'errorLog':_0x4118de['toString']()};this[_0x238aa0(0x886)](_0x2ed81a,_0x401a56,_0x36aad4),this[_0x238aa0(0x470)][_0x238aa0(0x16b)](this[_0x238aa0(0x25e)]+'\x20('+this[_0x238aa0(0x844)][_0x238aa0(0x16a)]+_0x238aa0(0x3ae)+(_0x4118de instanceof Error?_0x4118de[_0x238aa0(0x5e0)]:JSON[_0x238aa0(0x365)](_0x4118de,null,0x2)));}}async[a0_0x48e44b(0x4cb)](_0x4011c0,_0x5828cc){const _0x3c54d0=a0_0x48e44b;let _0x2a1305=_0x4011c0[_0x3c54d0(0x713)];_0x5828cc[_0x3c54d0(0x796)]['remoteJid']&&_0x5828cc[_0x3c54d0(0x796)][_0x3c54d0(0x713)]['trim']()!==''&&(_0x2a1305=_0x5828cc[_0x3c54d0(0x796)][_0x3c54d0(0x713)][_0x3c54d0(0x4ed)]()),this[_0x3c54d0(0x470)]['verbose'](this[_0x3c54d0(0x25e)]+'\x20('+this[_0x3c54d0(0x844)]['wuid']+'):\x20Enviando\x20mídia');let _0x560ff1={'number':_0x2a1305,'options':{'delay':_0x5828cc[_0x3c54d0(0x796)]['delay'],'linkPreview':_0x5828cc[_0x3c54d0(0x796)]['linkPreview']},'mediaMessage':{'mediatype':_0x5828cc[_0x3c54d0(0x796)][_0x3c54d0(0x66e)],'caption':_0x5828cc[_0x3c54d0(0x796)][_0x3c54d0(0x1e7)],'media':_0x5828cc[_0x3c54d0(0x796)]['media'],'fileName':_0x5828cc[_0x3c54d0(0x796)][_0x3c54d0(0x3ca)]}};try{let _0x2d9715=await this[_0x3c54d0(0x596)](_0x560ff1);if(_0x2d9715){let _0xaa3bc5={'_id':_0x2d9715[_0x3c54d0(0x744)]['id'],'_fromMe':_0x2d9715[_0x3c54d0(0x744)][_0x3c54d0(0x479)],'_remoteJid':_0x2d9715[_0x3c54d0(0x744)][_0x3c54d0(0x713)]},_0x8e3d9c=(0x0,w[_0x3c54d0(0x1e8)])(_0x2d9715[_0x3c54d0(0x5e0)]),_0x41321b=(0x0,w[_0x3c54d0(0x6b1)])(_0x8e3d9c);_0x4011c0[_0x3c54d0(0x336)][_0x3c54d0(0x58a)]=_0x5828cc[_0x3c54d0(0x477)]['toString']();let {message_normalized:_0x3e5b82}=this[_0x3c54d0(0x26a)](_0x8e3d9c,_0x41321b,null);_0x4011c0[_0x3c54d0(0x336)][_0x3c54d0(0x233)]=await _0x3e5b82;let _0x4ff3c8={'messageId':_0x2d9715[_0x3c54d0(0x744)]['id']},_0x52643f=_0x4011c0[_0x3c54d0(0x336)][_0x3c54d0(0x4f8)];Object['assign'](_0x52643f,_0xaa3bc5),_0x4011c0['chatLog']['realVariables']=_0x52643f,this[_0x3c54d0(0x886)](_0x4011c0,_0x5828cc,_0x4ff3c8);}else{let _0x2dc86f={'error':!0x0};this[_0x3c54d0(0x886)](_0x4011c0,_0x5828cc,_0x2dc86f),this['logger'][_0x3c54d0(0x16b)](this[_0x3c54d0(0x25e)]+'\x20('+this[_0x3c54d0(0x844)][_0x3c54d0(0x16a)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x41e42e){let _0x2bdcc2={'error':!0x0,'errorLog':_0x41e42e['toString']()};this['updateConversation'](_0x4011c0,_0x5828cc,_0x2bdcc2),this[_0x3c54d0(0x470)][_0x3c54d0(0x16b)](this['instanceName']+'\x20('+this[_0x3c54d0(0x844)][_0x3c54d0(0x16a)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x41e42e instanceof Error?_0x41e42e[_0x3c54d0(0x5e0)]:JSON[_0x3c54d0(0x365)](_0x41e42e,null,0x2)));}}async[a0_0x48e44b(0x181)](_0x597639,_0x2c8287){const _0x4b5f61=a0_0x48e44b;let _0x5502a5=_0x597639[_0x4b5f61(0x713)];_0x2c8287['uazapi']['remoteJid']&&_0x2c8287[_0x4b5f61(0x796)][_0x4b5f61(0x713)][_0x4b5f61(0x4ed)]()!==''&&(_0x5502a5=_0x2c8287[_0x4b5f61(0x796)]['remoteJid']['trim']()),this['logger'][_0x4b5f61(0x4b1)](this[_0x4b5f61(0x25e)]+'\x20('+this['instance'][_0x4b5f61(0x16a)]+_0x4b5f61(0x69c));let _0x1ef178={'number':_0x5502a5,'options':{'delay':_0x2c8287[_0x4b5f61(0x796)][_0x4b5f61(0x3d3)]},'locationMessage':{'name':_0x2c8287[_0x4b5f61(0x796)][_0x4b5f61(0x5ff)],'address':_0x2c8287[_0x4b5f61(0x796)][_0x4b5f61(0x467)],'latitude':_0x2c8287['uazapi']['latitude'],'longitude':_0x2c8287[_0x4b5f61(0x796)][_0x4b5f61(0x571)]}};try{let _0xa36a51=await this[_0x4b5f61(0x6ba)](_0x1ef178);if(_0xa36a51){let _0x2da276={'_id':_0xa36a51[_0x4b5f61(0x744)]['id'],'_fromMe':_0xa36a51['key'][_0x4b5f61(0x479)],'_remoteJid':_0xa36a51[_0x4b5f61(0x744)][_0x4b5f61(0x713)]},_0x48c086=(0x0,w['normalizeMessageContent'])(_0xa36a51[_0x4b5f61(0x5e0)]),_0x3edfca=(0x0,w['getContentType'])(_0x48c086);_0x597639[_0x4b5f61(0x336)]['lastBlockId']=_0x2c8287[_0x4b5f61(0x477)][_0x4b5f61(0x691)]();let {message_normalized:_0x29c44c}=this[_0x4b5f61(0x26a)](_0x48c086,_0x3edfca,null);_0x597639[_0x4b5f61(0x336)][_0x4b5f61(0x233)]=await _0x29c44c;let _0x1bb0ba={'messageId':_0xa36a51[_0x4b5f61(0x744)]['id']},_0x4f1875=_0x597639['chatLog'][_0x4b5f61(0x4f8)];Object[_0x4b5f61(0x3c5)](_0x4f1875,_0x2da276),_0x597639[_0x4b5f61(0x336)][_0x4b5f61(0x4f8)]=_0x4f1875,this[_0x4b5f61(0x886)](_0x597639,_0x2c8287,_0x1bb0ba);}else{let _0x5dff1e={'error':!0x0};this[_0x4b5f61(0x886)](_0x597639,_0x2c8287,_0x5dff1e),this[_0x4b5f61(0x470)][_0x4b5f61(0x16b)](this[_0x4b5f61(0x25e)]+'\x20('+this['instance'][_0x4b5f61(0x16a)]+_0x4b5f61(0x42f));}}catch(_0x1205e1){let _0x5bdc9a={'error':!0x0,'errorLog':_0x1205e1[_0x4b5f61(0x691)]()};this['updateConversation'](_0x597639,_0x2c8287,_0x5bdc9a),this[_0x4b5f61(0x470)][_0x4b5f61(0x16b)](this[_0x4b5f61(0x25e)]+'\x20('+this[_0x4b5f61(0x844)][_0x4b5f61(0x16a)]+_0x4b5f61(0x3b1)+(_0x1205e1 instanceof Error?_0x1205e1['message']:JSON[_0x4b5f61(0x365)](_0x1205e1,null,0x2)));}}async['uazapiSendAudio'](_0x121ee6,_0xee9f4a){const _0x3ca5d6=a0_0x48e44b;let _0x38359e=_0x121ee6['remoteJid'];_0xee9f4a[_0x3ca5d6(0x796)]['remoteJid']&&_0xee9f4a['uazapi'][_0x3ca5d6(0x713)][_0x3ca5d6(0x4ed)]()!==''&&(_0x38359e=_0xee9f4a['uazapi'][_0x3ca5d6(0x713)]['trim']()),this['logger'][_0x3ca5d6(0x4b1)](this[_0x3ca5d6(0x25e)]+'\x20('+this['instance'][_0x3ca5d6(0x16a)]+'):\x20Enviando\x20áudio');let _0xab1b68={'number':_0x38359e,'options':{'delay':_0xee9f4a[_0x3ca5d6(0x796)]['delay']},'audioMessage':{'audio':_0xee9f4a[_0x3ca5d6(0x796)]['audio']}};try{let _0x3e30dd=await this[_0x3ca5d6(0x29a)](_0xab1b68);if(_0x3e30dd){let _0x48d756={'_id':_0x3e30dd[_0x3ca5d6(0x744)]['id'],'_fromMe':_0x3e30dd[_0x3ca5d6(0x744)][_0x3ca5d6(0x479)],'_remoteJid':_0x3e30dd[_0x3ca5d6(0x744)][_0x3ca5d6(0x713)]},_0x8627b1=(0x0,w[_0x3ca5d6(0x1e8)])(_0x3e30dd[_0x3ca5d6(0x5e0)]),_0x3af8d4=(0x0,w[_0x3ca5d6(0x6b1)])(_0x8627b1);_0x121ee6[_0x3ca5d6(0x336)][_0x3ca5d6(0x58a)]=_0xee9f4a[_0x3ca5d6(0x477)][_0x3ca5d6(0x691)]();let {message_normalized:_0x1f7620}=this[_0x3ca5d6(0x26a)](_0x8627b1,_0x3af8d4,null);_0x121ee6[_0x3ca5d6(0x336)][_0x3ca5d6(0x233)]=await _0x1f7620;let _0x516e9c={'messageId':_0x3e30dd['key']['id']},_0x55c7e3=_0x121ee6[_0x3ca5d6(0x336)][_0x3ca5d6(0x4f8)];Object['assign'](_0x55c7e3,_0x48d756),_0x121ee6[_0x3ca5d6(0x336)]['realVariables']=_0x55c7e3,this[_0x3ca5d6(0x886)](_0x121ee6,_0xee9f4a,_0x516e9c);}else{let _0x241cf0={'error':!0x0};this[_0x3ca5d6(0x886)](_0x121ee6,_0xee9f4a,_0x241cf0),this[_0x3ca5d6(0x470)][_0x3ca5d6(0x16b)](this[_0x3ca5d6(0x25e)]+'\x20('+this[_0x3ca5d6(0x844)][_0x3ca5d6(0x16a)]+_0x3ca5d6(0x686));}}catch(_0x521ca8){let _0x3f7fe4={'error':!0x0,'errorLog':_0x521ca8[_0x3ca5d6(0x691)]()};this[_0x3ca5d6(0x886)](_0x121ee6,_0xee9f4a,_0x3f7fe4),this[_0x3ca5d6(0x470)]['error'](this[_0x3ca5d6(0x25e)]+'\x20('+this['instance'][_0x3ca5d6(0x16a)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0x521ca8 instanceof Error?_0x521ca8[_0x3ca5d6(0x5e0)]:JSON[_0x3ca5d6(0x365)](_0x521ca8,null,0x2)));}}async['uazapiSendContact'](_0x3f2a5b,_0x4324d1){const _0x541eca=a0_0x48e44b;let _0x5b4adb=_0x3f2a5b[_0x541eca(0x713)];_0x4324d1[_0x541eca(0x796)][_0x541eca(0x713)]&&_0x4324d1[_0x541eca(0x796)][_0x541eca(0x713)][_0x541eca(0x4ed)]()!==''&&(_0x5b4adb=_0x4324d1[_0x541eca(0x796)][_0x541eca(0x713)][_0x541eca(0x4ed)]()),this[_0x541eca(0x470)]['verbose'](this['instanceName']+'\x20('+this[_0x541eca(0x844)][_0x541eca(0x16a)]+_0x541eca(0x277));let _0x85ce26={'number':_0x5b4adb,'options':{'delay':_0x4324d1[_0x541eca(0x796)][_0x541eca(0x3d3)]},'contactMessage':[{'fullName':_0x4324d1[_0x541eca(0x796)][_0x541eca(0x78d)],'phoneNumber':_0x4324d1['uazapi'][_0x541eca(0x7a7)]}]};try{let _0x109fa2=await this[_0x541eca(0x3e1)](_0x85ce26);if(_0x109fa2){let _0x19beb0={'_id':_0x109fa2['key']['id'],'_fromMe':_0x109fa2[_0x541eca(0x744)][_0x541eca(0x479)],'_remoteJid':_0x109fa2[_0x541eca(0x744)]['remoteJid']},_0x22277b=(0x0,w[_0x541eca(0x1e8)])(_0x109fa2[_0x541eca(0x5e0)]),_0x50883a=(0x0,w[_0x541eca(0x6b1)])(_0x22277b);_0x3f2a5b[_0x541eca(0x336)]['lastBlockId']=_0x4324d1[_0x541eca(0x477)][_0x541eca(0x691)]();let {message_normalized:_0x2f1895}=this['normalizeMessage'](_0x22277b,_0x50883a,null);_0x3f2a5b[_0x541eca(0x336)][_0x541eca(0x233)]=await _0x2f1895;let _0x120128={'messageId':_0x109fa2[_0x541eca(0x744)]['id']},_0x42232a=_0x3f2a5b[_0x541eca(0x336)][_0x541eca(0x4f8)];Object[_0x541eca(0x3c5)](_0x42232a,_0x19beb0),_0x3f2a5b['chatLog'][_0x541eca(0x4f8)]=_0x42232a,this[_0x541eca(0x886)](_0x3f2a5b,_0x4324d1,_0x120128);}else{let _0x45927a={'error':!0x0};this[_0x541eca(0x886)](_0x3f2a5b,_0x4324d1,_0x45927a),this[_0x541eca(0x470)][_0x541eca(0x16b)](this[_0x541eca(0x25e)]+'\x20('+this[_0x541eca(0x844)][_0x541eca(0x16a)]+_0x541eca(0x775));}}catch(_0x4336c3){let _0x21b2be={'error':!0x0,'errorLog':_0x4336c3['toString']()};this[_0x541eca(0x886)](_0x3f2a5b,_0x4324d1,_0x21b2be),this[_0x541eca(0x470)][_0x541eca(0x16b)](this['instanceName']+'\x20('+this['instance'][_0x541eca(0x16a)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x4336c3 instanceof Error?_0x4336c3[_0x541eca(0x5e0)]:JSON[_0x541eca(0x365)](_0x4336c3,null,0x2)));}}[a0_0x48e44b(0x68b)](_0x17b08e,_0x4d15ae){const _0x329c6d=a0_0x48e44b;for(let _0x7f3a6 of _0x17b08e)_0x7f3a6[_0x329c6d(0x54c)]&&(_0x7f3a6['option']=this[_0x329c6d(0x802)](_0x7f3a6[_0x329c6d(0x54c)],_0x4d15ae)),_0x7f3a6[_0x329c6d(0x8ae)]&&(_0x7f3a6['optionDescription']=this[_0x329c6d(0x802)](_0x7f3a6['optionDescription'],_0x4d15ae));}async[a0_0x48e44b(0x794)](_0x34d942,_0x310467){const _0x47fbca=a0_0x48e44b;let _0x28bcac=_0x34d942['remoteJid'];_0x310467[_0x47fbca(0x796)][_0x47fbca(0x713)]&&_0x310467[_0x47fbca(0x796)][_0x47fbca(0x713)][_0x47fbca(0x4ed)]()!==''&&(_0x28bcac=_0x310467[_0x47fbca(0x796)]['remoteJid']['trim']()),this[_0x47fbca(0x470)]['verbose'](this[_0x47fbca(0x25e)]+'\x20('+this['instance']['wuid']+'):\x20Enviando\x20enquete');let _0x19d5a8=_0x34d942[_0x47fbca(0x28b)]['filter'](_0x5d22f8=>_0x5d22f8[_0x47fbca(0x183)]===_0x310467['_id'])[_0x47fbca(0x59e)]((_0x11626c,_0xeee86e)=>_0x11626c['order']-_0xeee86e[_0x47fbca(0x1e2)]);this[_0x47fbca(0x68b)](_0x19d5a8,_0x34d942[_0x47fbca(0x336)][_0x47fbca(0x4f8)]);let _0x1e7802=_0x19d5a8['map'](_0x2a283f=>_0x2a283f[_0x47fbca(0x54c)]),_0x1f6d55={'number':_0x28bcac,'menuMessage':{'type':_0x310467[_0x47fbca(0x796)]['menuType']||_0x47fbca(0x74f),'text':_0x310467[_0x47fbca(0x796)][_0x47fbca(0x1de)]||_0x310467[_0x47fbca(0x796)][_0x47fbca(0x5ff)],'footerText':_0x310467['uazapi'][_0x47fbca(0x689)],'buttonText':_0x310467[_0x47fbca(0x796)][_0x47fbca(0x7f4)],'selectableCount':0x1,'choices':_0x1e7802},'options':{'delay':_0x310467[_0x47fbca(0x796)][_0x47fbca(0x3d3)]}};try{let _0x5f41d2=await this['menuMessage'](_0x1f6d55);if(_0x5f41d2){let _0x7f1f17={'_id':_0x5f41d2['key']['id'],'_fromMe':_0x5f41d2[_0x47fbca(0x744)]['fromMe'],'_remoteJid':_0x5f41d2[_0x47fbca(0x744)][_0x47fbca(0x713)]};_0x310467[_0x47fbca(0x796)][_0x47fbca(0x562)]===!0x0&&(_0x34d942['status']=_0x47fbca(0x71f),this['logger'][_0x47fbca(0x4b1)](this[_0x47fbca(0x25e)]+'\x20('+this[_0x47fbca(0x844)][_0x47fbca(0x16a)]+'):\x20conversation.status:\x20'+_0x34d942[_0x47fbca(0x485)])),this[_0x47fbca(0x470)][_0x47fbca(0x4b1)](this[_0x47fbca(0x25e)]+'\x20('+this[_0x47fbca(0x844)]['wuid']+_0x47fbca(0x28a)+(_0x310467[_0x47fbca(0x796)][_0x47fbca(0x5ff)]||_0x310467[_0x47fbca(0x796)][_0x47fbca(0x1de)])),_0x34d942['waitingMenu_id']=_0x5f41d2[_0x47fbca(0x744)]['id'],_0x34d942[_0x47fbca(0x5de)]=_0x310467[_0x47fbca(0x796)][_0x47fbca(0x5ff)]||_0x310467[_0x47fbca(0x796)][_0x47fbca(0x1de)],_0x34d942['waitingMenu_replyOptions']=_0x19d5a8,_0x310467[_0x47fbca(0x796)][_0x47fbca(0x3fd)]&&(_0x34d942[_0x47fbca(0x27c)]=_0x310467[_0x47fbca(0x796)][_0x47fbca(0x3fd)]),this['logger']['verbose'](this[_0x47fbca(0x25e)]+'\x20('+this[_0x47fbca(0x844)]['wuid']+'):\x20conversation.waitingMenu_name'+_0x34d942[_0x47fbca(0x5de)]);let _0x31e431=(0x0,w[_0x47fbca(0x1e8)])(_0x5f41d2[_0x47fbca(0x5e0)]),_0x349c40=(0x0,w[_0x47fbca(0x6b1)])(_0x31e431);_0x34d942[_0x47fbca(0x336)][_0x47fbca(0x58a)]=_0x310467[_0x47fbca(0x477)]['toString']();let {message_normalized:_0x2a6c8b}=this[_0x47fbca(0x26a)](_0x31e431,_0x349c40,null);_0x34d942[_0x47fbca(0x336)][_0x47fbca(0x233)]=await _0x2a6c8b;let _0x40281d={'messageId':_0x5f41d2['key']['id']},_0x52a9d8=_0x34d942[_0x47fbca(0x336)]['realVariables'];Object[_0x47fbca(0x3c5)](_0x52a9d8,_0x7f1f17),_0x34d942[_0x47fbca(0x336)]['realVariables']=_0x52a9d8,this[_0x47fbca(0x886)](_0x34d942,_0x310467,_0x40281d);}else{let _0x1b6129={'error':!0x0};this[_0x47fbca(0x886)](_0x34d942,_0x310467,_0x1b6129),this[_0x47fbca(0x470)][_0x47fbca(0x16b)](this[_0x47fbca(0x25e)]+'\x20('+this[_0x47fbca(0x844)]['wuid']+_0x47fbca(0x620));}}catch(_0x29078b){let _0x5e9bce={'error':!0x0,'errorLog':_0x29078b instanceof Error?_0x29078b['message']:JSON[_0x47fbca(0x365)](_0x29078b,null,0x2)};this[_0x47fbca(0x886)](_0x34d942,_0x310467,_0x5e9bce),this[_0x47fbca(0x470)]['error'](this[_0x47fbca(0x25e)]+'\x20('+this[_0x47fbca(0x844)][_0x47fbca(0x16a)]+_0x47fbca(0x6d4)+(_0x29078b instanceof Error?_0x29078b[_0x47fbca(0x5e0)]:JSON[_0x47fbca(0x365)](_0x29078b,null,0x2)));}}async[a0_0x48e44b(0x591)](_0x45402e,_0xb978f0){const _0x27eeff=a0_0x48e44b;this[_0x27eeff(0x470)][_0x27eeff(0x4b1)](this[_0x27eeff(0x25e)]+'\x20('+this[_0x27eeff(0x844)][_0x27eeff(0x16a)]+_0x27eeff(0x5b4));let _0x47c12e=_0x45402e[_0x27eeff(0x336)][_0x27eeff(0x7d7)][_0x27eeff(0x1ae)](_0x45729a=>_0x45729a[_0x27eeff(0x183)]['toString']()===_0xb978f0[_0x27eeff(0x796)][_0x27eeff(0x183)]['toString']()),_0x4e495c={'id':_0x47c12e[_0x27eeff(0x14d)],'remoteJid':_0x47c12e[_0x27eeff(0x713)],'fromMe':_0x47c12e[_0x27eeff(0x479)]};try{let _0x4b41e2=await this[_0x27eeff(0x306)](_0x4e495c);if(_0x4b41e2){let _0x139463=(0x0,w['normalizeMessageContent'])(_0x4b41e2[_0x27eeff(0x5e0)]),_0x4f4509=(0x0,w[_0x27eeff(0x6b1)])(_0x139463);_0x45402e[_0x27eeff(0x336)][_0x27eeff(0x58a)]=_0xb978f0[_0x27eeff(0x477)][_0x27eeff(0x691)]();let {message_normalized:_0x2fc272}=this[_0x27eeff(0x26a)](_0x139463,_0x4f4509,null);_0x45402e[_0x27eeff(0x336)][_0x27eeff(0x233)]=await _0x2fc272;let _0x407b50={};this[_0x27eeff(0x886)](_0x45402e,_0xb978f0,_0x407b50);}else{let _0x5d6530={'error':!0x0};this[_0x27eeff(0x886)](_0x45402e,_0xb978f0,_0x5d6530),this[_0x27eeff(0x470)][_0x27eeff(0x16b)](this[_0x27eeff(0x25e)]+'\x20('+this['instance'][_0x27eeff(0x16a)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x5c2731){let _0x594754={'error':!0x0,'errorLog':_0x5c2731 instanceof Error?_0x5c2731[_0x27eeff(0x5e0)]:JSON[_0x27eeff(0x365)](_0x5c2731,null,0x2)};this[_0x27eeff(0x886)](_0x45402e,_0xb978f0,_0x594754),this['logger'][_0x27eeff(0x16b)](this[_0x27eeff(0x25e)]+'\x20('+this[_0x27eeff(0x844)][_0x27eeff(0x16a)]+_0x27eeff(0x89d)+(_0x5c2731 instanceof Error?_0x5c2731['message']:JSON[_0x27eeff(0x365)](_0x5c2731,null,0x2)));}}async[a0_0x48e44b(0x2aa)](_0x497f69,_0x57e009){const _0x1176e6=a0_0x48e44b;if(_0x497f69['name']||(_0x497f69[_0x1176e6(0x5ff)]=(0x0,Y['v4'])()),_0x57e009!==$i&&_0x497f69?.[_0x1176e6(0x667)])throw new m('Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global');if(_0x1176e6(0x477)in _0x497f69&&_0x1176e6(0x4d0)in _0x497f69)return this[_0x1176e6(0x19e)](_0x497f69[_0x1176e6(0x4d0)],_0x497f69[_0x1176e6(0x477)]);this[_0x1176e6(0x470)]['verbose'](this[_0x1176e6(0x25e)]+'\x20('+this[_0x1176e6(0x844)][_0x1176e6(0x16a)]+'):\x20Criando\x20fluxo...');let _0x1ef8d9=this[_0x1176e6(0x711)](_0x497f69['name']),_0x14fd25=new ge[(_0x1176e6(0x4ad))][(_0x1176e6(0x493))](),_0xaa135f={'_id':_0x14fd25,'default':!0x0,'title':_0x1176e6(0x2c3),'x':0x0,'y':0x0},_0x36e3d8={'_id':new ge[(_0x1176e6(0x4ad))][(_0x1176e6(0x493))](),'order':0x1,'groupId':_0x14fd25[_0x1176e6(0x691)](),'type':_0x1176e6(0x773)},_0xaefed8=this['instance'][_0x1176e6(0x16a)],_0x47a510={'_id':(0x0,Y['v4'])(),'owner':_0xaefed8,'name':_0x1ef8d9,'whoCanEdit':[_0xaefed8],'whoCanUse':[_0xaefed8],'groups':[_0xaa135f],'blocks':[_0x36e3d8],..._0x497f69};try{let _0x5100f8=await this['repository'][_0x1176e6(0x251)][_0x1176e6(0x5be)](_0x47a510);return await this[_0x1176e6(0x1a9)](),_0x5100f8;}catch(_0x23a572){let _0xf9975b=_0x1176e6(0x1ea),_0x3df78a=_0x23a572 instanceof Error?_0x23a572[_0x1176e6(0x5e0)]:typeof _0x23a572==_0x1176e6(0x892)?JSON['stringify'](_0x23a572):_0x23a572,_0x4e7982=_0xf9975b+':\x20'+_0x3df78a;throw this[_0x1176e6(0x470)][_0x1176e6(0x16b)](this['instanceName']+'\x20('+this[_0x1176e6(0x844)]['wuid']+_0x1176e6(0x741)+_0x4e7982),new m(_0x4e7982);}}async[a0_0x48e44b(0x19e)](_0x42f016,_0x1c182b){const _0x3f11ea=a0_0x48e44b;try{this[_0x3f11ea(0x470)][_0x3f11ea(0x4b1)](this[_0x3f11ea(0x25e)]+'\x20('+this[_0x3f11ea(0x844)][_0x3f11ea(0x16a)]+_0x3f11ea(0x757));let _0x551476=await this[_0x3f11ea(0x850)][_0x3f11ea(0x251)]['findOne']({'where':{'_id':_0x1c182b,'owner':_0x42f016}});if(!_0x551476)throw new m(_0x3f11ea(0x19a));if(_0x551476[_0x3f11ea(0x72b)]===!0x1&&!_0x551476['globalShow'])throw new m(_0x3f11ea(0x193));let _0x2a10a7=new Set(_0x551476[_0x3f11ea(0x51f)]??[]);_0x2a10a7[_0x3f11ea(0x234)](this[_0x3f11ea(0x844)]['wuid']);let _0x300d9a=await this['repository']['flow'][_0x3f11ea(0x7b8)](_0x1c182b,{..._0x551476,'whoCanUse':Array['from'](_0x2a10a7)});return await this['synchronizeAndMapFlows'](),_0x300d9a;}catch(_0x29c366){let _0x3e6b1c='Erro\x20ao\x20criar\x20fluxo\x20compartilhado',_0x3eec37=_0x29c366 instanceof Error?_0x29c366['message']:typeof _0x29c366=='object'?JSON[_0x3f11ea(0x365)](_0x29c366):_0x29c366,_0x5e2b2b=_0x3e6b1c+':\x20'+_0x3eec37;throw this[_0x3f11ea(0x470)][_0x3f11ea(0x16b)](this[_0x3f11ea(0x25e)]+'\x20('+this[_0x3f11ea(0x844)][_0x3f11ea(0x16a)]+_0x3f11ea(0x741)+_0x5e2b2b),new m(_0x5e2b2b);}}[a0_0x48e44b(0x711)](_0x4fe17b){const _0x2581c9=a0_0x48e44b;let _0x131ef2=_0x4fe17b,_0x4aad80=0x1;for(;this[_0x2581c9(0x7c6)][_0x2581c9(0x166)][_0x2581c9(0x426)](_0x4bd188=>_0x4bd188['name']===_0x131ef2);)_0x4aad80++,_0x131ef2=_0x4fe17b+'\x20('+_0x4aad80+')';return _0x131ef2;}async[a0_0x48e44b(0x5d4)](_0x595176){const _0x3fc696=a0_0x48e44b;try{if(this[_0x3fc696(0x470)][_0x3fc696(0x4b1)](this[_0x3fc696(0x25e)]+'\x20('+this['instance']['wuid']+_0x3fc696(0x432)+_0x595176[_0x3fc696(0x477)]+_0x3fc696(0x47c)+_0x595176[_0x3fc696(0x4f4)]),!this[_0x3fc696(0x7c6)][_0x3fc696(0x166)][_0x3fc696(0x1ae)](_0x3cc8f3=>_0x3cc8f3[_0x3fc696(0x477)]===_0x595176[_0x3fc696(0x477)]))throw this[_0x3fc696(0x470)][_0x3fc696(0x4b1)](this[_0x3fc696(0x25e)]+'\x20('+this['instance']['wuid']+_0x3fc696(0x7e7)+_0x595176[_0x3fc696(0x477)]+_0x3fc696(0x62a)),new m(_0x3fc696(0x816));let _0x1b8e6f=await this[_0x3fc696(0x850)][_0x3fc696(0x251)][_0x3fc696(0x715)]({'where':{'_id':_0x595176[_0x3fc696(0x477)]}});if(!_0x1b8e6f)throw new m('Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.');if(this['instance'][_0x3fc696(0x16a)]===_0x1b8e6f['owner']){this[_0x3fc696(0x470)][_0x3fc696(0x4b1)](this['instanceName']+'\x20('+this[_0x3fc696(0x844)][_0x3fc696(0x16a)]+_0x3fc696(0x530)+_0x595176[_0x3fc696(0x477)]+_0x3fc696(0x30a));let _0x149965=await this[_0x3fc696(0x850)][_0x3fc696(0x251)][_0x3fc696(0x5ba)]({'where':{'_id':_0x595176[_0x3fc696(0x477)]}});return await this[_0x3fc696(0x1a9)](),_0x149965;}return this[_0x3fc696(0x470)]['verbose'](this[_0x3fc696(0x25e)]+'\x20('+this[_0x3fc696(0x844)][_0x3fc696(0x16a)]+_0x3fc696(0x8b0)+this[_0x3fc696(0x844)][_0x3fc696(0x16a)]+_0x3fc696(0x721)+_0x595176[_0x3fc696(0x477)]+_0x3fc696(0x425)),_0x1b8e6f[_0x3fc696(0x51f)]=(_0x1b8e6f[_0x3fc696(0x51f)]??[])[_0x3fc696(0x20c)](_0x110422=>_0x110422!==this[_0x3fc696(0x844)][_0x3fc696(0x16a)]),_0x1b8e6f['whoCanEdit']=(_0x1b8e6f['whoCanEdit']??[])[_0x3fc696(0x20c)](_0x128014=>_0x128014!==this[_0x3fc696(0x844)][_0x3fc696(0x16a)]),_0x1b8e6f['whoCanEdit'][_0x3fc696(0x3b4)]===0x0&&_0x1b8e6f[_0x3fc696(0x51f)]['length']>0x0&&(_0x1b8e6f[_0x3fc696(0x60a)]['push'](_0x1b8e6f[_0x3fc696(0x51f)][0x0]),this['logger']['verbose'](this[_0x3fc696(0x25e)]+'\x20('+this['instance'][_0x3fc696(0x16a)]+_0x3fc696(0x31c)+_0x1b8e6f['whoCanUse'][0x0]+_0x3fc696(0x345)+_0x595176[_0x3fc696(0x477)]+'\x27...')),await this[_0x3fc696(0x850)][_0x3fc696(0x251)][_0x3fc696(0x7b8)](_0x1b8e6f['_id'],_0x1b8e6f),await this[_0x3fc696(0x1a9)](),{'message':_0x3fc696(0x20d)+_0x595176['name']+_0x3fc696(0x75b)};}catch(_0x5f01d9){return this[_0x3fc696(0x470)]['error'](this['instanceName']+'\x20('+this[_0x3fc696(0x844)][_0x3fc696(0x16a)]+_0x3fc696(0x63d)+(_0x5f01d9 instanceof Error?_0x5f01d9[_0x3fc696(0x5e0)]:JSON[_0x3fc696(0x365)](_0x5f01d9,null,0x2))),{'message':_0x3fc696(0x45e)+(_0x5f01d9 instanceof Error?_0x5f01d9[_0x3fc696(0x5e0)]:JSON['stringify'](_0x5f01d9,null,0x2))};}}async['getFlow'](_0x1e3661){const _0x5384d8=a0_0x48e44b;try{if(this[_0x5384d8(0x470)][_0x5384d8(0x6cf)](this['instanceName']+'\x20('+this[_0x5384d8(0x844)][_0x5384d8(0x16a)]+_0x5384d8(0x855)+_0x1e3661),!this['AutomateSystem']&&(await this[_0x5384d8(0x6e2)](),!this[_0x5384d8(0x7c6)]))return null;let _0x2f0c91=await this[_0x5384d8(0x850)][_0x5384d8(0x251)][_0x5384d8(0x715)]({'where':{'_id':_0x1e3661}});if(!_0x2f0c91)throw new m(_0x5384d8(0x7db)+_0x1e3661+_0x5384d8(0x6e9));if(!(_0x2f0c91['globalShow']||_0x2f0c91['whoCanUse']?.[_0x5384d8(0x1d0)](this[_0x5384d8(0x844)][_0x5384d8(0x16a)])))throw new m(_0x5384d8(0x4ec)+name+'\x27');_0x2f0c91[_0x5384d8(0x667)]&&!_0x2f0c91[_0x5384d8(0x51f)]?.[_0x5384d8(0x1d0)](this[_0x5384d8(0x844)][_0x5384d8(0x16a)])&&(_0x2f0c91[_0x5384d8(0x51f)]=[..._0x2f0c91[_0x5384d8(0x51f)]??[],this[_0x5384d8(0x844)][_0x5384d8(0x16a)]],await this[_0x5384d8(0x850)][_0x5384d8(0x251)]['updateOne'](_0x2f0c91[_0x5384d8(0x477)],_0x2f0c91),this[_0x5384d8(0x1a9)]());let _0x1eac53=this[_0x5384d8(0x7c6)]?.[_0x5384d8(0x3bb)][_0x5384d8(0x3ad)](_0x36e18e=>_0x36e18e[_0x5384d8(0x5ff)]),_0x3de3d6=[_0x5384d8(0x2ed),_0x5384d8(0x436),_0x5384d8(0x2bf),_0x5384d8(0x5b6),_0x5384d8(0x485),_0x5384d8(0x396),'responsavelid','tags',_0x5384d8(0x3c6),_0x5384d8(0x7bd),_0x5384d8(0x73c)];_0x2f0c91[_0x5384d8(0x517)]=_0x2f0c91[_0x5384d8(0x517)][_0x5384d8(0x20c)](_0x2d1594=>!(_0x2d1594['folder']===_0x5384d8(0x837)||_0x2d1594[_0x5384d8(0x837)])),_0x3de3d6[_0x5384d8(0x3f6)](_0x3cb148=>{const _0x1a5426=_0x5384d8;_0x2f0c91[_0x1a5426(0x517)][_0x1a5426(0x518)]({'folder':_0x1a5426(0x837),'name':_0x3cb148,'value':'','doc':'','leadInfo':!0x0});}),_0x1eac53[_0x5384d8(0x3f6)](_0x43677d=>{const _0x38764a=_0x5384d8;let _0x25f8d7=_0x2f0c91['variables'][_0x38764a(0x49b)](_0x41d2e6=>_0x41d2e6[_0x38764a(0x5ff)]===_0x43677d);_0x25f8d7===-0x1?_0x2f0c91['variables'][_0x38764a(0x518)]({'folder':_0x38764a(0x837),'name':_0x43677d,'value':'','doc':'','leadInfo':!0x0}):(_0x2f0c91[_0x38764a(0x517)][_0x25f8d7][_0x38764a(0x423)]=_0x38764a(0x837),_0x2f0c91[_0x38764a(0x517)][_0x25f8d7][_0x38764a(0x837)]=!0x0);}),_0x2f0c91[_0x5384d8(0x543)]&&_0x2f0c91['blocks']['length']>0x0&&_0x2f0c91[_0x5384d8(0x543)][_0x5384d8(0x3f6)](_0x9dd777=>{const _0x2f8faf=_0x5384d8;_0x9dd777[_0x2f8faf(0x755)]&&_0x9dd777[_0x2f8faf(0x616)]&&_0x9dd777[_0x2f8faf(0x755)]===_0x9dd777[_0x2f8faf(0x616)]&&(_0x9dd777['next_groupId']=null);});let _0x549631=await this['repository'][_0x5384d8(0x251)][_0x5384d8(0x7b8)](_0x2f0c91['_id'],_0x2f0c91);if(!_0x549631)throw new Error(_0x5384d8(0x7d1));return _0x549631;}catch(_0x2032ef){let _0x3cb328=_0x5384d8(0x463),_0x3fe726=_0x2032ef instanceof Error?_0x2032ef[_0x5384d8(0x5e0)]:typeof _0x2032ef==_0x5384d8(0x892)?JSON['stringify'](_0x2032ef):_0x2032ef,_0x3afa26=_0x3cb328+':\x20'+_0x3fe726;throw this[_0x5384d8(0x470)]['error'](this[_0x5384d8(0x25e)]+'\x20('+this['instance']['wuid']+_0x5384d8(0x741)+_0x3afa26),new m(_0x3afa26);}}async[a0_0x48e44b(0x4d7)](){const _0x59dafa=a0_0x48e44b;try{this[_0x59dafa(0x470)][_0x59dafa(0x4b1)](this[_0x59dafa(0x25e)]+'\x20('+this[_0x59dafa(0x844)][_0x59dafa(0x16a)]+_0x59dafa(0x464)),await this['synchronizeAndMapFlows']();let _0x39c1cf=await this[_0x59dafa(0x850)][_0x59dafa(0x251)][_0x59dafa(0x227)]({'where':{'globalShow':!0x0}});return[...this['AutomateSystem'][_0x59dafa(0x166)],..._0x39c1cf];}catch(_0x12b43e){return this[_0x59dafa(0x470)][_0x59dafa(0x16b)](this[_0x59dafa(0x25e)]+'\x20('+this[_0x59dafa(0x844)][_0x59dafa(0x16a)]+_0x59dafa(0x342)+(_0x12b43e instanceof Error?_0x12b43e['message']:JSON['stringify'](_0x12b43e,null,0x2))),{'message':_0x59dafa(0x51e)+(_0x12b43e instanceof Error?_0x12b43e[_0x59dafa(0x5e0)]:String(_0x12b43e))};}}async[a0_0x48e44b(0x1ce)](_0x3c397f,_0x19e6e7){const _0x5c11dc=a0_0x48e44b;try{this[_0x5c11dc(0x470)][_0x5c11dc(0x4b1)](this[_0x5c11dc(0x25e)]+'\x20('+this[_0x5c11dc(0x844)][_0x5c11dc(0x16a)]+_0x5c11dc(0x362));let _0x5ea2d1=this['AutomateSystem']['flows'][_0x5c11dc(0x1ae)](_0x6b79f2=>_0x6b79f2['_id']===_0x3c397f[_0x5c11dc(0x477)]);if(!_0x5ea2d1)throw this[_0x5c11dc(0x470)][_0x5c11dc(0x4b1)](this[_0x5c11dc(0x25e)]+'\x20('+this['instance'][_0x5c11dc(0x16a)]+_0x5c11dc(0x7e7)+_0x3c397f['_id']+_0x5c11dc(0x62a)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x56ba07=await this[_0x5c11dc(0x850)][_0x5c11dc(0x251)]['findOne']({'where':{'_id':_0x3c397f['_id']}});if(!_0x56ba07||!_0x56ba07[_0x5c11dc(0x51f)]?.[_0x5c11dc(0x1d0)](this[_0x5c11dc(0x844)]['wuid']))throw this['logger'][_0x5c11dc(0x16b)](this[_0x5c11dc(0x25e)]+'\x20('+this[_0x5c11dc(0x844)][_0x5c11dc(0x16a)]+_0x5c11dc(0x5dd)+_0x3c397f[_0x5c11dc(0x477)]+_0x5c11dc(0x2a9)),new m(_0x5c11dc(0x52b)+_0x3c397f[_0x5c11dc(0x477)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x342289=this[_0x5c11dc(0x7c6)]['flows'][_0x5c11dc(0x49b)](_0x726449=>_0x726449['_id']===_0x5ea2d1[_0x5c11dc(0x477)]);if(_0x342289!==-0x1){let _0x58744a=this[_0x5c11dc(0x7c6)]['flows'][_0x342289];if(_0x58744a[_0x5c11dc(0x5ff)]=_0x3c397f[_0x5c11dc(0x5ff)]??_0x58744a[_0x5c11dc(0x5ff)],_0x58744a[_0x5c11dc(0x875)]=_0x3c397f[_0x5c11dc(0x875)]??_0x58744a[_0x5c11dc(0x875)],_0x58744a[_0x5c11dc(0x33e)]=_0x3c397f['testingWith']??_0x58744a['testingWith'],_0x58744a[_0x5c11dc(0x57b)]=_0x3c397f[_0x5c11dc(0x24b)]??_0x58744a[_0x5c11dc(0x57b)],_0x58744a[_0x5c11dc(0x546)]=_0x3c397f[_0x5c11dc(0x546)]??_0x58744a['minutesToClose'],_0x58744a[_0x5c11dc(0x6e1)]=_0x3c397f[_0x5c11dc(0x6e1)]??_0x58744a[_0x5c11dc(0x6e1)],_0x3c397f['default']&&this[_0x5c11dc(0x7c6)][_0x5c11dc(0x166)][_0x5c11dc(0x3f6)]((_0x17242b,_0x4b55c4)=>{const _0x50df3f=_0x5c11dc;_0x4b55c4!==_0x342289&&(_0x17242b[_0x50df3f(0x875)]=!0x1);}),this[_0x5c11dc(0x7c6)][_0x5c11dc(0x166)][_0x342289]=_0x58744a,!await this[_0x5c11dc(0x850)]['automateSystem'][_0x5c11dc(0x453)]({'flows':this['AutomateSystem']['flows']},this[_0x5c11dc(0x844)][_0x5c11dc(0x16a)]))throw new m('Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.');}let _0x443d13=['global',_0x5c11dc(0x6f5),_0x5c11dc(0x455),_0x5c11dc(0x807)];for(let _0x3c318f of _0x443d13)delete _0x3c397f[_0x3c318f];if(_0x56ba07[_0x5c11dc(0x60a)]?.[_0x5c11dc(0x1d0)](this['instance'][_0x5c11dc(0x16a)])||(_0x3c397f={'_id':_0x3c397f[_0x5c11dc(0x477)]}),_0x19e6e7!==$i&&_0x3c397f?.[_0x5c11dc(0x667)]&&!_0x56ba07?.['globalShow'])throw new m('Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.');let _0x1a509c=new Set(_0x3c397f[_0x5c11dc(0x60a)]??_0x56ba07['whoCanEdit']);_0x1a509c[_0x5c11dc(0x234)](_0x56ba07['owner']);let _0x5a8114=new Set(_0x3c397f[_0x5c11dc(0x51f)]??_0x56ba07[_0x5c11dc(0x51f)]??[]);_0x1a509c[_0x5c11dc(0x3f6)](_0x3049b2=>_0x5a8114[_0x5c11dc(0x234)](_0x3049b2)),_0x5a8114[_0x5c11dc(0x234)](_0x56ba07[_0x5c11dc(0x4d0)]),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x5c11dc(0x844)][_0x5c11dc(0x16a)]+'):\x20whoCanEdit\x20before\x20validation:\x20'+Array[_0x5c11dc(0x1e9)](_0x1a509c)),this[_0x5c11dc(0x470)]['verbose'](this['instanceName']+'\x20('+this[_0x5c11dc(0x844)][_0x5c11dc(0x16a)]+'):\x20whoCanUse\x20before\x20validation:\x20'+Array[_0x5c11dc(0x1e9)](_0x5a8114));let _0x235ccf=await this[_0x5c11dc(0x7e3)](Array[_0x5c11dc(0x1e9)](_0x5a8114)),_0x20504a=Array['from'](_0x1a509c)[_0x5c11dc(0x20c)](_0x2753e0=>_0x235ccf['includes'](_0x2753e0)),_0x1af381=Array[_0x5c11dc(0x1e9)](_0x5a8114)['filter'](_0x2b5095=>_0x235ccf[_0x5c11dc(0x1d0)](_0x2b5095));this['logger'][_0x5c11dc(0x4b1)](this[_0x5c11dc(0x25e)]+'\x20('+this[_0x5c11dc(0x844)][_0x5c11dc(0x16a)]+_0x5c11dc(0x8ad)+_0x20504a),this[_0x5c11dc(0x470)][_0x5c11dc(0x4b1)](this[_0x5c11dc(0x25e)]+'\x20('+this[_0x5c11dc(0x844)][_0x5c11dc(0x16a)]+_0x5c11dc(0x541)+_0x1af381);let _0x3fc3e6={..._0x56ba07,..._0x3c397f,'whoCanEdit':_0x20504a,'whoCanUse':_0x1af381},_0x38c1df=await this[_0x5c11dc(0x850)][_0x5c11dc(0x251)]['updateOne'](_0x56ba07[_0x5c11dc(0x477)],_0x3fc3e6);return await this[_0x5c11dc(0x1a9)](),_0x38c1df;}catch(_0x5c894a){let _0x38fa12=_0x5c11dc(0x6e6),_0x489944=_0x5c894a instanceof Error?_0x5c894a[_0x5c11dc(0x5e0)]:typeof _0x5c894a==_0x5c11dc(0x892)?JSON[_0x5c11dc(0x365)](_0x5c894a):_0x5c894a,_0xb671ad=_0x38fa12+':\x20'+_0x489944;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x5c11dc(0x844)]['wuid']+_0x5c11dc(0x741)+_0xb671ad),new m(_0xb671ad);}}async[a0_0x48e44b(0x7e3)](_0x904c2){const _0x555a0b=a0_0x48e44b;let _0x269a3c={'numbers':_0x904c2};return(await this['whatsappNumber'](_0x269a3c))[_0x555a0b(0x20c)](_0x425a69=>_0x425a69[_0x555a0b(0x380)])[_0x555a0b(0x3ad)](_0x454cc9=>_0x454cc9[_0x555a0b(0x1b3)])['map'](_0x4268af=>this['extractPhoneNumber'](_0x4268af));}[a0_0x48e44b(0x5c0)](_0x5f5547){const _0x3865eb=a0_0x48e44b;let _0x403f81=_0x5f5547[_0x3865eb(0x5f6)](/\d+/);return _0x403f81?_0x403f81[0x0]:'';}async[a0_0x48e44b(0x557)](_0x1703d6){const _0x374ced=a0_0x48e44b;try{if(this[_0x374ced(0x470)]['verbose'](this[_0x374ced(0x25e)]+'\x20('+this[_0x374ced(0x844)][_0x374ced(0x16a)]+_0x374ced(0x3d9)),!this['AutomateSystem'][_0x374ced(0x166)][_0x374ced(0x1ae)](_0x3c58eb=>_0x3c58eb[_0x374ced(0x477)]===_0x1703d6['_id']))throw this['logger'][_0x374ced(0x4b1)](this[_0x374ced(0x25e)]+'\x20('+this[_0x374ced(0x844)][_0x374ced(0x16a)]+_0x374ced(0x7e7)+_0x1703d6['_id']+_0x374ced(0x62a)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x5aff8b=await this[_0x374ced(0x850)][_0x374ced(0x251)][_0x374ced(0x715)]({'where':{'_id':_0x1703d6[_0x374ced(0x477)]}});if(!_0x5aff8b||!_0x5aff8b['whoCanUse']?.['includes'](this[_0x374ced(0x844)][_0x374ced(0x16a)]))throw this[_0x374ced(0x470)]['error'](this[_0x374ced(0x25e)]+'\x20('+this[_0x374ced(0x844)][_0x374ced(0x16a)]+_0x374ced(0x5dd)+_0x1703d6[_0x374ced(0x477)]+_0x374ced(0x2a9)),new m(_0x374ced(0x52b)+_0x1703d6[_0x374ced(0x477)]+_0x374ced(0x2a9));if(!_0x5aff8b[_0x374ced(0x60a)]?.[_0x374ced(0x1d0)](this[_0x374ced(0x844)]['wuid']))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let {block:_0x10d2b2}=_0x1703d6;_0x10d2b2?.[_0x374ced(0x3ee)]?this['copyBlock'](_0x5aff8b,_0x1703d6):_0x10d2b2?.[_0x374ced(0x6a5)]?this[_0x374ced(0x5d0)](_0x5aff8b,_0x1703d6):_0x10d2b2[_0x374ced(0x477)]?await this[_0x374ced(0x54a)](_0x5aff8b,_0x1703d6):this['addBlock'](_0x5aff8b,_0x1703d6);let _0x1871e8=await this[_0x374ced(0x850)][_0x374ced(0x251)]['updateOne'](_0x5aff8b['_id'],_0x5aff8b);if(!_0x1871e8)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x1871e8;}catch(_0x2597f4){this[_0x374ced(0x70a)](_0x374ced(0x6ae)+_0x2597f4[_0x374ced(0x5e0)]);}}async[a0_0x48e44b(0x72c)](_0x18faf8,_0x89a9d0){const _0x42bdc6=a0_0x48e44b;let _0x37f514=_0x89a9d0[_0x42bdc6(0x6ad)][_0x42bdc6(0x477)],_0x569e9f=_0x18faf8[_0x42bdc6(0x543)][_0x42bdc6(0x1ae)](_0x14434c=>_0x14434c[_0x42bdc6(0x477)][_0x42bdc6(0x691)]()===_0x37f514);if(!_0x569e9f){this['logger'][_0x42bdc6(0x16b)](this['instanceName']+'\x20('+this[_0x42bdc6(0x844)]['wuid']+_0x42bdc6(0x8c0)+_0x37f514+'\x20não\x20encontrado\x20para\x20cópia');return;}this[_0x42bdc6(0x470)][_0x42bdc6(0x4b1)](this['instanceName']+'\x20('+this[_0x42bdc6(0x844)][_0x42bdc6(0x16a)]+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON[_0x42bdc6(0x365)](_0x569e9f));let _0x45c087=JSON[_0x42bdc6(0x4e9)](JSON[_0x42bdc6(0x365)](_0x569e9f));_0x45c087[_0x42bdc6(0x477)]=new ge[(_0x42bdc6(0x875))]['Types'][(_0x42bdc6(0x493))](),this[_0x42bdc6(0x470)][_0x42bdc6(0x4b1)](this[_0x42bdc6(0x25e)]+'\x20('+this[_0x42bdc6(0x844)][_0x42bdc6(0x16a)]+_0x42bdc6(0x17a)+JSON[_0x42bdc6(0x365)](_0x45c087)),_0x18faf8[_0x42bdc6(0x543)][_0x42bdc6(0x518)](_0x45c087),this[_0x42bdc6(0x15f)](_0x18faf8[_0x42bdc6(0x543)],_0x45c087['groupId']);}[a0_0x48e44b(0x70a)](_0x30b510){const _0x21fe98=a0_0x48e44b;throw this[_0x21fe98(0x470)][_0x21fe98(0x16b)](this[_0x21fe98(0x25e)]+'\x20('+this[_0x21fe98(0x844)][_0x21fe98(0x16a)]+_0x21fe98(0x741)+_0x30b510),new m(_0x30b510);}[a0_0x48e44b(0x5d0)](_0x472525,_0x40dce7){const _0x5e05af=a0_0x48e44b;let {block:_0x12e7cd}=_0x40dce7;if(_0x12e7cd['type']===_0x5e05af(0x773)){this[_0x5e05af(0x70a)](_0x5e05af(0x62b));return;}if(!_0x12e7cd['_id']){this['throwAndLogError'](_0x5e05af(0x7f8));return;}let _0x39536e=_0x472525[_0x5e05af(0x543)][_0x5e05af(0x1ae)](_0x3e7daf=>_0x3e7daf[_0x5e05af(0x477)][_0x5e05af(0x691)]()===_0x40dce7[_0x5e05af(0x6ad)][_0x5e05af(0x477)][_0x5e05af(0x691)]());if(!_0x39536e){this[_0x5e05af(0x70a)]('Bloco\x20com\x20ID\x20'+_0x12e7cd[_0x5e05af(0x477)]+'\x20não\x20encontrado');return;}_0x472525[_0x5e05af(0x543)]=_0x472525[_0x5e05af(0x543)][_0x5e05af(0x20c)](_0x265501=>_0x265501[_0x5e05af(0x477)][_0x5e05af(0x691)]()!==_0x40dce7[_0x5e05af(0x6ad)][_0x5e05af(0x477)]['toString']()),_0x472525['conditions']=_0x472525[_0x5e05af(0x6c3)][_0x5e05af(0x20c)](_0x843ed1=>_0x843ed1[_0x5e05af(0x183)]!==_0x12e7cd[_0x5e05af(0x477)][_0x5e05af(0x691)]()),_0x472525['varedits']=_0x472525['varedits'][_0x5e05af(0x20c)](_0x456f00=>_0x456f00[_0x5e05af(0x183)]!==_0x12e7cd[_0x5e05af(0x477)][_0x5e05af(0x691)]()),_0x472525[_0x5e05af(0x28b)]=_0x472525['replyOptions'][_0x5e05af(0x20c)](_0x847928=>_0x847928['blockId']!==_0x12e7cd[_0x5e05af(0x477)][_0x5e05af(0x691)]()),this[_0x5e05af(0x15f)](_0x472525['blocks'],_0x39536e[_0x5e05af(0x755)]);}async[a0_0x48e44b(0x54a)](_0x4cbd37,_0x301599){const _0x48f86d=a0_0x48e44b;let _0x41554f=_0x4cbd37[_0x48f86d(0x543)][_0x48f86d(0x49b)](_0x3e38c2=>_0x3e38c2['_id']['toString']()===_0x301599[_0x48f86d(0x6ad)][_0x48f86d(0x477)][_0x48f86d(0x691)]());if(this[_0x48f86d(0x470)][_0x48f86d(0x4b1)](this[_0x48f86d(0x25e)]+'\x20('+this[_0x48f86d(0x844)]['wuid']+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x41554f),_0x41554f===-0x1){this[_0x48f86d(0x470)]['verbose'](_0x48f86d(0x578)+_0x301599[_0x48f86d(0x6ad)][_0x48f86d(0x477)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x4cbd37[_0x48f86d(0x543)][_0x41554f][_0x48f86d(0x418)]===_0x48f86d(0x773)){let _0x53fd78=Object[_0x48f86d(0x6df)](_0x301599['block']);if(_0x53fd78[_0x48f86d(0x3b4)]>0x2||_0x53fd78[_0x48f86d(0x3b4)]===0x2&&!_0x53fd78[_0x48f86d(0x1d0)](_0x48f86d(0x616))){this[_0x48f86d(0x70a)](_0x48f86d(0x6b5));return;}}let _0x6a26ab=_0x4cbd37[_0x48f86d(0x543)][_0x41554f][_0x48f86d(0x755)];for(let _0x375371 in _0x301599[_0x48f86d(0x6ad)])_0x301599['block'][_0x48f86d(0x472)](_0x375371)&&(_0x4cbd37[_0x48f86d(0x543)][_0x41554f][_0x375371]=_0x301599[_0x48f86d(0x6ad)][_0x375371]);if(this[_0x48f86d(0x470)][_0x48f86d(0x4b1)](this['instanceName']+'\x20('+this[_0x48f86d(0x844)][_0x48f86d(0x16a)]+_0x48f86d(0x83f)+JSON[_0x48f86d(0x365)](_0x4cbd37[_0x48f86d(0x543)][_0x41554f])),_0x4cbd37[_0x48f86d(0x543)][_0x41554f]['apirequest']&&_0x48f86d(0x2c6)in _0x4cbd37[_0x48f86d(0x543)][_0x41554f][_0x48f86d(0x700)]){this[_0x48f86d(0x470)][_0x48f86d(0x4b1)](this[_0x48f86d(0x25e)]+'\x20('+this[_0x48f86d(0x844)]['wuid']+_0x48f86d(0x249));let _0x3acb3c=JSON[_0x48f86d(0x365)](_0x4cbd37['blocks'][_0x41554f][_0x48f86d(0x700)][_0x48f86d(0x2c6)],null,0x1);_0x3acb3c[_0x48f86d(0x3b4)]>0x2&&(_0x3acb3c=_0x3acb3c[_0x48f86d(0x217)](0x1,_0x3acb3c[_0x48f86d(0x3b4)]-0x1)['trim']()),_0x4cbd37[_0x48f86d(0x543)][_0x41554f]['apirequest'][_0x48f86d(0x460)]=_0x3acb3c;}if(_0x4cbd37[_0x48f86d(0x543)][_0x41554f][_0x48f86d(0x700)]&&'body'in _0x4cbd37[_0x48f86d(0x543)][_0x41554f]['apirequest']&&!(_0x48f86d(0x33c)in _0x4cbd37['blocks'][_0x41554f][_0x48f86d(0x700)])){this['logger']['verbose'](this[_0x48f86d(0x25e)]+'\x20('+this[_0x48f86d(0x844)][_0x48f86d(0x16a)]+_0x48f86d(0x76a)),_0x4cbd37[_0x48f86d(0x543)][_0x41554f][_0x48f86d(0x700)][_0x48f86d(0x25f)]=!0x1;let _0x2fc970=JSON[_0x48f86d(0x365)](_0x4cbd37[_0x48f86d(0x543)][_0x41554f][_0x48f86d(0x700)][_0x48f86d(0x4dc)],null,0x2);_0x4cbd37[_0x48f86d(0x543)][_0x41554f][_0x48f86d(0x700)]['bodyString']=_0x2fc970;}if(_0x4cbd37[_0x48f86d(0x543)][_0x41554f]['apirequest']&&_0x48f86d(0x33c)in _0x4cbd37['blocks'][_0x41554f][_0x48f86d(0x700)]){_0x4cbd37['blocks'][_0x41554f][_0x48f86d(0x700)][_0x48f86d(0x25f)]=!0x1;let _0x5df95f=_0x4cbd37[_0x48f86d(0x543)][_0x41554f]['apirequest'][_0x48f86d(0x33c)],_0x360103=this['beautifyWithPlaceholders'](_0x5df95f);_0x4cbd37[_0x48f86d(0x543)][_0x41554f][_0x48f86d(0x700)][_0x48f86d(0x33c)]=_0x360103['result'],_0x4cbd37[_0x48f86d(0x543)][_0x41554f][_0x48f86d(0x700)][_0x48f86d(0x25f)]=_0x360103['error'];}let _0x2ef158=_0x4cbd37[_0x48f86d(0x543)][_0x41554f]['groupId'];_0x6a26ab!==_0x2ef158?(this[_0x48f86d(0x15f)](_0x4cbd37['blocks'],_0x6a26ab),this[_0x48f86d(0x15f)](_0x4cbd37[_0x48f86d(0x543)],_0x2ef158)):this[_0x48f86d(0x15f)](_0x4cbd37[_0x48f86d(0x543)],_0x6a26ab);}[a0_0x48e44b(0x684)](_0x1b9244){const _0x54a38c=a0_0x48e44b;let _0x2d73da='\u205f',_0x5794b9=!0x1,_0x50f642='';for(let _0x357a54=0x0;_0x357a54<_0x1b9244[_0x54a38c(0x3b4)];_0x357a54++){let _0x5ee46f=_0x1b9244[_0x357a54];_0x5ee46f==='\x22'&&(_0x357a54===0x0||_0x1b9244[_0x357a54-0x1]!=='\x5c')&&(_0x5794b9=!_0x5794b9),!(!_0x5794b9&&(_0x5ee46f==='\x0a'||_0x5ee46f==='\x20'||_0x5ee46f===_0x2d73da))&&(_0x50f642+=_0x5ee46f);}let _0x157fca={},_0x366ffb=9876543210.1234,_0xa22c67=_0x50f642[_0x54a38c(0x67e)](/\{\{([^}]+)\}\}/g,_0x384d4f=>{let _0x5c4dcf=_0x384d4f,_0x64ad5b=''+_0x366ffb;return _0x157fca[_0x64ad5b]=_0x5c4dcf,_0x366ffb+=0.0001,_0x64ad5b;}),_0xb6b950='',_0x1b5e08=!0x1;try{let _0x5584f1=JSON[_0x54a38c(0x4e9)](_0xa22c67);_0xb6b950=JSON['stringify'](_0x5584f1,null,0x2),_0xb6b950=_0xb6b950[_0x54a38c(0x67e)](/\n( +)/g,(_0x2fd21f,_0x1d975f)=>{const _0x2d3f62=_0x54a38c;let _0x370cfd=_0x1d975f[_0x2d3f62(0x3b4)];return'\x0a'+_0x2d73da[_0x2d3f62(0x468)](_0x370cfd*0x2);}),_0xb6b950=_0xb6b950['replace'](/(\d{10,}\.\d+)/g,_0x12a32b=>_0x157fca[_0x12a32b]||_0x12a32b);}catch(_0x35d308){this[_0x54a38c(0x470)][_0x54a38c(0x16b)]('Error\x20parsing\x20JSON:'+_0x35d308),_0xb6b950=_0x1b9244,_0x1b5e08=!0x0;}return{'result':_0xb6b950,'error':_0x1b5e08};}[a0_0x48e44b(0x1f2)](_0x344eea,_0x163e71){const _0x4daf14=a0_0x48e44b;if(_0x163e71[_0x4daf14(0x6ad)]['type']===_0x4daf14(0x773)){this['throwAndLogError'](_0x4daf14(0x7de));return;}if(_0x163e71[_0x4daf14(0x6ad)][_0x4daf14(0x700)]&&_0x4daf14(0x2c6)in _0x163e71['block'][_0x4daf14(0x700)]){this[_0x4daf14(0x470)][_0x4daf14(0x4b1)](this[_0x4daf14(0x25e)]+'\x20('+this[_0x4daf14(0x844)][_0x4daf14(0x16a)]+_0x4daf14(0x249));let _0x4c44e5=JSON['stringify'](_0x163e71[_0x4daf14(0x6ad)][_0x4daf14(0x700)][_0x4daf14(0x2c6)],null,0x1);_0x4c44e5[_0x4daf14(0x3b4)]>0x2&&(_0x4c44e5=_0x4c44e5[_0x4daf14(0x217)](0x1,_0x4c44e5[_0x4daf14(0x3b4)]-0x1)[_0x4daf14(0x4ed)]()),_0x163e71[_0x4daf14(0x6ad)][_0x4daf14(0x700)][_0x4daf14(0x460)]=_0x4c44e5;}_0x163e71[_0x4daf14(0x6ad)][_0x4daf14(0x700)]&&'body'in _0x163e71[_0x4daf14(0x6ad)]['apirequest']&&(this[_0x4daf14(0x470)][_0x4daf14(0x4b1)](this[_0x4daf14(0x25e)]+'\x20('+this[_0x4daf14(0x844)][_0x4daf14(0x16a)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x163e71[_0x4daf14(0x6ad)][_0x4daf14(0x700)][_0x4daf14(0x33c)]=JSON[_0x4daf14(0x365)](_0x163e71[_0x4daf14(0x6ad)][_0x4daf14(0x700)][_0x4daf14(0x4dc)],null,0x1)[_0x4daf14(0x4ed)]()),_0x344eea['blocks'][_0x4daf14(0x518)](_0x163e71[_0x4daf14(0x6ad)]),this[_0x4daf14(0x15f)](_0x344eea[_0x4daf14(0x543)],_0x163e71[_0x4daf14(0x6ad)][_0x4daf14(0x755)]);}[a0_0x48e44b(0x15f)](_0x469d38,_0x269910){const _0x2162b0=a0_0x48e44b;let _0x5e9490=_0x469d38[_0x2162b0(0x20c)](_0x447948=>_0x447948['groupId']===_0x269910);_0x5e9490[_0x2162b0(0x59e)]((_0x24be7c,_0x4b8585)=>_0x24be7c[_0x2162b0(0x1e2)]-_0x4b8585['order']),_0x5e9490[_0x2162b0(0x3f6)]((_0x324cd8,_0x211e63)=>_0x324cd8['order']=_0x211e63+0x1);}async['editFlowReply'](_0x5d226c){const _0x22080c=a0_0x48e44b;try{if(this[_0x22080c(0x470)][_0x22080c(0x4b1)](this[_0x22080c(0x25e)]+'\x20('+this[_0x22080c(0x844)][_0x22080c(0x16a)]+_0x22080c(0x74d)),!_0x5d226c||!_0x5d226c[_0x22080c(0x5ab)]){this[_0x22080c(0x70a)](_0x22080c(0x61b));return;}if(!this['AutomateSystem'][_0x22080c(0x166)][_0x22080c(0x1ae)](_0x496ae3=>_0x496ae3[_0x22080c(0x477)]===_0x5d226c[_0x22080c(0x477)]))throw this['logger'][_0x22080c(0x4b1)](this[_0x22080c(0x25e)]+'\x20('+this['instance'][_0x22080c(0x16a)]+_0x22080c(0x7e7)+_0x5d226c[_0x22080c(0x477)]+_0x22080c(0x62a)),new m(_0x22080c(0x816));let _0x136ed2=await this[_0x22080c(0x850)][_0x22080c(0x251)]['findOne']({'where':{'_id':_0x5d226c[_0x22080c(0x477)]}});if(!_0x136ed2||!_0x136ed2[_0x22080c(0x51f)]?.[_0x22080c(0x1d0)](this['instance']['wuid']))throw this['logger']['error'](this[_0x22080c(0x25e)]+'\x20('+this[_0x22080c(0x844)][_0x22080c(0x16a)]+_0x22080c(0x5dd)+_0x5d226c[_0x22080c(0x477)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x22080c(0x52b)+_0x5d226c['_id']+_0x22080c(0x2a9));if(!_0x136ed2[_0x22080c(0x60a)]?.[_0x22080c(0x1d0)](this[_0x22080c(0x844)][_0x22080c(0x16a)]))throw new m(_0x22080c(0x6f6));let {replyOption:_0x5ddf0d}=_0x5d226c;_0x5ddf0d?.['delete']?(this['deleteReplyOption'](_0x136ed2,_0x5d226c),this[_0x22080c(0x3f5)](_0x136ed2[_0x22080c(0x28b)],_0x5d226c['replyOption'][_0x22080c(0x183)])):_0x5ddf0d['_id']?(await this['updateReplyOption'](_0x136ed2,_0x5d226c),this[_0x22080c(0x3f5)](_0x136ed2[_0x22080c(0x28b)],_0x5d226c[_0x22080c(0x5ab)][_0x22080c(0x183)])):(this[_0x22080c(0x83c)](_0x136ed2,_0x5d226c),this[_0x22080c(0x3f5)](_0x136ed2['replyOptions'],_0x5d226c[_0x22080c(0x5ab)][_0x22080c(0x183)]));let _0x2a95ab=await this[_0x22080c(0x850)][_0x22080c(0x251)][_0x22080c(0x7b8)](_0x136ed2['_id'],_0x136ed2);if(!_0x2a95ab)throw new Error(_0x22080c(0x7d1));return _0x2a95ab;}catch(_0x356ce7){this[_0x22080c(0x70a)](_0x22080c(0x801)+_0x356ce7);}}[a0_0x48e44b(0x3f5)](_0x5f259f,_0x50c670){const _0x8b412a=a0_0x48e44b;_0x5f259f[_0x8b412a(0x3f6)](_0x108843=>{const _0x2314bd=_0x8b412a;_0x108843[_0x2314bd(0x183)]===_0x50c670&&_0x108843[_0x2314bd(0x1e2)]===void 0x0&&(_0x108843['order']=0x270f);});let _0x5a5cdb=_0x5f259f[_0x8b412a(0x20c)](_0x44bbaf=>_0x44bbaf[_0x8b412a(0x183)]===_0x50c670);_0x5a5cdb[_0x8b412a(0x59e)]((_0x237970,_0x52de17)=>_0x237970[_0x8b412a(0x1e2)]-_0x52de17[_0x8b412a(0x1e2)]),_0x5a5cdb[_0x8b412a(0x3f6)]((_0x57eefe,_0x3ee450)=>{const _0x590b22=_0x8b412a;_0x57eefe[_0x590b22(0x1e2)]=_0x3ee450+0x1;}),_0x5f259f[_0x8b412a(0x3f6)](_0x1743b2=>{const _0x204486=_0x8b412a;if(_0x1743b2[_0x204486(0x183)]===_0x50c670){let _0x59124f=_0x5a5cdb[_0x204486(0x1ae)](_0x4d4cf0=>_0x4d4cf0[_0x204486(0x477)]&&_0x1743b2[_0x204486(0x477)]&&_0x4d4cf0[_0x204486(0x477)][_0x204486(0x691)]()===_0x1743b2[_0x204486(0x477)][_0x204486(0x691)]());_0x59124f&&(_0x1743b2[_0x204486(0x1e2)]=_0x59124f['order']);}});}[a0_0x48e44b(0x798)](_0x5b853d,_0x343aa0){const _0xe06bfc=a0_0x48e44b;let {replyOption:_0x4e2625}=_0x343aa0;if(!_0x4e2625[_0xe06bfc(0x477)]){this[_0xe06bfc(0x70a)]('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x5b853d[_0xe06bfc(0x28b)][_0xe06bfc(0x1ae)](_0x207467=>_0x207467['_id']['toString']()===_0x343aa0[_0xe06bfc(0x5ab)][_0xe06bfc(0x477)][_0xe06bfc(0x691)]())){this['throwAndLogError']('ReplyOption\x20com\x20ID\x20'+_0x4e2625[_0xe06bfc(0x477)]+_0xe06bfc(0x15b));return;}_0x5b853d[_0xe06bfc(0x28b)]=_0x5b853d[_0xe06bfc(0x28b)][_0xe06bfc(0x20c)](_0x505947=>_0x505947[_0xe06bfc(0x477)][_0xe06bfc(0x691)]()!==_0x343aa0[_0xe06bfc(0x5ab)][_0xe06bfc(0x477)]['toString']());}async[a0_0x48e44b(0x6eb)](_0x69567e,_0x1fb688){const _0x1a1343=a0_0x48e44b;let _0x1e25a4=_0x69567e[_0x1a1343(0x28b)][_0x1a1343(0x49b)](_0x149879=>_0x149879[_0x1a1343(0x477)][_0x1a1343(0x691)]()===_0x1fb688[_0x1a1343(0x5ab)][_0x1a1343(0x477)]['toString']());if(_0x1e25a4===-0x1){this[_0x1a1343(0x70a)](_0x1a1343(0x572)+_0x1fb688[_0x1a1343(0x5ab)][_0x1a1343(0x477)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x4e90aa in _0x1fb688[_0x1a1343(0x5ab)])_0x1fb688[_0x1a1343(0x5ab)][_0x1a1343(0x472)](_0x4e90aa)&&(_0x69567e[_0x1a1343(0x28b)][_0x1e25a4][_0x4e90aa]=_0x1fb688[_0x1a1343(0x5ab)][_0x4e90aa]);}['addReplyOption'](_0x2f1e11,_0x31afae){const _0x111deb=a0_0x48e44b;_0x2f1e11[_0x111deb(0x28b)][_0x111deb(0x518)](_0x31afae[_0x111deb(0x5ab)]);}async[a0_0x48e44b(0x3e4)](_0x5217fe){const _0x22019b=a0_0x48e44b;this['logger']['verbose'](this[_0x22019b(0x25e)]+'\x20('+this[_0x22019b(0x844)][_0x22019b(0x16a)]+_0x22019b(0x5c1)+JSON[_0x22019b(0x365)](_0x5217fe,null,0x2));try{if(this[_0x22019b(0x470)][_0x22019b(0x4b1)](this[_0x22019b(0x25e)]+'\x20('+this[_0x22019b(0x844)][_0x22019b(0x16a)]+_0x22019b(0x672)),!this[_0x22019b(0x7c6)][_0x22019b(0x166)][_0x22019b(0x1ae)](_0x5d0e5d=>_0x5d0e5d[_0x22019b(0x477)]===_0x5217fe['_id']))throw this['logger'][_0x22019b(0x4b1)](this[_0x22019b(0x25e)]+'\x20('+this['instance'][_0x22019b(0x16a)]+'):\x20Fluxo\x20\x27'+_0x5217fe[_0x22019b(0x477)]+_0x22019b(0x62a)),new m(_0x22019b(0x816));let _0x2a96fa=await this[_0x22019b(0x850)][_0x22019b(0x251)][_0x22019b(0x715)]({'where':{'_id':_0x5217fe['_id']}});if(!_0x2a96fa||!_0x2a96fa[_0x22019b(0x51f)]?.[_0x22019b(0x1d0)](this[_0x22019b(0x844)]['wuid']))throw this['logger'][_0x22019b(0x16b)](this[_0x22019b(0x25e)]+'\x20('+this['instance'][_0x22019b(0x16a)]+_0x22019b(0x5dd)+_0x5217fe[_0x22019b(0x477)]+_0x22019b(0x2a9)),new m(_0x22019b(0x52b)+_0x5217fe[_0x22019b(0x477)]+_0x22019b(0x2a9));if(!_0x2a96fa['whoCanEdit']?.['includes'](this[_0x22019b(0x844)][_0x22019b(0x16a)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');if(_0x5217fe[_0x22019b(0x6a2)]&&_0x5217fe[_0x22019b(0x6a2)]?.[_0x22019b(0x6a5)]===!0x0){if(this[_0x22019b(0x470)][_0x22019b(0x4b1)](this['instanceName']+'\x20('+this[_0x22019b(0x844)][_0x22019b(0x16a)]+_0x22019b(0x64c)),_0x5217fe[_0x22019b(0x6a2)][_0x22019b(0x875)]===!0x0)return{'message':_0x22019b(0x35d)};if(_0x2a96fa['blocks']['some'](_0x3d2363=>_0x3d2363[_0x22019b(0x755)][_0x22019b(0x691)]()===_0x5217fe[_0x22019b(0x6a2)][_0x22019b(0x477)]))return this[_0x22019b(0x470)][_0x22019b(0x4b1)](this[_0x22019b(0x25e)]+'\x20('+this[_0x22019b(0x844)][_0x22019b(0x16a)]+_0x22019b(0x5ed)),{'message':_0x22019b(0x577)};_0x2a96fa[_0x22019b(0x646)]=_0x2a96fa[_0x22019b(0x646)][_0x22019b(0x20c)](_0x396a73=>_0x396a73[_0x22019b(0x477)][_0x22019b(0x691)]()!==_0x5217fe[_0x22019b(0x6a2)][_0x22019b(0x477)]);}else{if(_0x5217fe[_0x22019b(0x6a2)]){if(_0x5217fe['group']['default']===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x5217fe[_0x22019b(0x6a2)][_0x22019b(0x477)]){let _0x1594c2=_0x2a96fa[_0x22019b(0x646)][_0x22019b(0x1ae)](_0x42220c=>_0x42220c[_0x22019b(0x477)]['toString']()===_0x5217fe[_0x22019b(0x6a2)][_0x22019b(0x477)]);_0x1594c2&&(_0x5217fe[_0x22019b(0x6a2)]['x']<0x0&&(_0x5217fe[_0x22019b(0x6a2)]['x']=0x0),_0x5217fe[_0x22019b(0x6a2)]['y']<0x0&&(_0x5217fe['group']['y']=0x0),Object[_0x22019b(0x3c5)](_0x1594c2,_0x5217fe['group']));}else _0x2a96fa[_0x22019b(0x646)][_0x22019b(0x518)](_0x5217fe['group']);}}let _0x4bf8ca=await this[_0x22019b(0x850)][_0x22019b(0x251)][_0x22019b(0x7b8)](_0x2a96fa[_0x22019b(0x477)],_0x2a96fa);if(!_0x4bf8ca)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x4bf8ca;}catch(_0x27f2e9){let _0x3c3d44='Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo',_0x11123d=_0x27f2e9 instanceof Error?_0x27f2e9['message']:typeof _0x27f2e9==_0x22019b(0x892)?JSON['stringify'](_0x27f2e9):_0x27f2e9,_0x2adb91=_0x3c3d44+':\x20'+_0x11123d;throw this[_0x22019b(0x470)]['error'](this[_0x22019b(0x25e)]+'\x20('+this[_0x22019b(0x844)][_0x22019b(0x16a)]+'):\x20'+_0x2adb91),new m(_0x2adb91);}}async[a0_0x48e44b(0x731)](_0x196991){const _0xc3edeb=a0_0x48e44b;try{if(this[_0xc3edeb(0x470)]['verbose'](this[_0xc3edeb(0x25e)]+'\x20('+this[_0xc3edeb(0x844)][_0xc3edeb(0x16a)]+_0xc3edeb(0x5fc)),!this['AutomateSystem'][_0xc3edeb(0x166)][_0xc3edeb(0x1ae)](_0x268d51=>_0x268d51[_0xc3edeb(0x477)]===_0x196991[_0xc3edeb(0x477)]))throw this[_0xc3edeb(0x470)][_0xc3edeb(0x4b1)](this[_0xc3edeb(0x25e)]+'\x20('+this['instance'][_0xc3edeb(0x16a)]+'):\x20Fluxo\x20\x27'+_0x196991['_id']+_0xc3edeb(0x62a)),new m(_0xc3edeb(0x816));let _0x596140=await this['repository'][_0xc3edeb(0x251)][_0xc3edeb(0x715)]({'where':{'_id':_0x196991[_0xc3edeb(0x477)]}});if(!_0x596140||!_0x596140[_0xc3edeb(0x51f)]?.[_0xc3edeb(0x1d0)](this['instance'][_0xc3edeb(0x16a)]))throw this['logger'][_0xc3edeb(0x16b)](this[_0xc3edeb(0x25e)]+'\x20('+this[_0xc3edeb(0x844)]['wuid']+_0xc3edeb(0x5dd)+_0x196991['_id']+_0xc3edeb(0x2a9)),new m(_0xc3edeb(0x52b)+_0x196991[_0xc3edeb(0x477)]+_0xc3edeb(0x2a9));if(!_0x596140[_0xc3edeb(0x60a)]?.[_0xc3edeb(0x1d0)](this[_0xc3edeb(0x844)][_0xc3edeb(0x16a)]))throw new m(_0xc3edeb(0x6f6));let _0x96e12f=!0x1;if(_0x196991['condition']?.[_0xc3edeb(0x6a5)]===!0x0)_0x596140[_0xc3edeb(0x6c3)]=_0x596140[_0xc3edeb(0x6c3)][_0xc3edeb(0x20c)](_0x4dcc60=>_0x4dcc60&&_0x196991[_0xc3edeb(0x1d8)]&&_0x4dcc60[_0xc3edeb(0x477)]&&_0x196991[_0xc3edeb(0x1d8)][_0xc3edeb(0x477)]&&_0x4dcc60[_0xc3edeb(0x477)]['toString']()!==_0x196991[_0xc3edeb(0x1d8)]['_id']['toString']()),_0x96e12f=!0x0;else{let _0x50ab6c=_0x596140[_0xc3edeb(0x6c3)]['find'](_0x355e46=>_0x355e46&&_0x196991[_0xc3edeb(0x1d8)]&&_0x355e46[_0xc3edeb(0x477)]&&_0x196991['condition'][_0xc3edeb(0x477)]&&_0x355e46[_0xc3edeb(0x477)]['toString']()===_0x196991[_0xc3edeb(0x1d8)][_0xc3edeb(0x477)][_0xc3edeb(0x691)]());_0x50ab6c?(_0x96e12f=_0x50ab6c[_0xc3edeb(0x1e2)]!==_0x196991[_0xc3edeb(0x1d8)][_0xc3edeb(0x1e2)],Object[_0xc3edeb(0x3c5)](_0x50ab6c,_0x196991[_0xc3edeb(0x1d8)])):(_0x596140[_0xc3edeb(0x6c3)]['push'](_0x196991[_0xc3edeb(0x1d8)]),_0x96e12f=!0x0);}if(_0x96e12f){_0x596140[_0xc3edeb(0x6c3)]['sort']((_0x299638,_0x354a75)=>_0x299638[_0xc3edeb(0x1e2)]>_0x354a75[_0xc3edeb(0x1e2)]?0x1:_0x354a75[_0xc3edeb(0x1e2)]>_0x299638[_0xc3edeb(0x1e2)]?-0x1:0x0);for(let _0x164232=0x0;_0x164232<_0x596140[_0xc3edeb(0x6c3)]['length'];_0x164232++)_0x596140[_0xc3edeb(0x6c3)][_0x164232][_0xc3edeb(0x1e2)]=_0x164232+0x1;_0x596140[_0xc3edeb(0x6c3)][_0xc3edeb(0x3b4)]>0x0&&(_0x596140[_0xc3edeb(0x6c3)][0x0][_0xc3edeb(0x319)]=_0xc3edeb(0x31d));}let _0x1b1d00=await this[_0xc3edeb(0x850)][_0xc3edeb(0x251)][_0xc3edeb(0x7b8)](_0x596140[_0xc3edeb(0x477)],_0x596140);if(!_0x1b1d00)throw new Error(_0xc3edeb(0x7d1));return _0x1b1d00;}catch(_0x333b7e){let _0x19b752=_0xc3edeb(0x54d),_0x25a9aa=_0x333b7e instanceof Error?_0x333b7e[_0xc3edeb(0x5e0)]:typeof _0x333b7e=='object'?JSON['stringify'](_0x333b7e):_0x333b7e,_0x48df42=_0x19b752+':\x20'+_0x25a9aa;throw this[_0xc3edeb(0x470)][_0xc3edeb(0x16b)](this[_0xc3edeb(0x25e)]+'\x20('+this[_0xc3edeb(0x844)][_0xc3edeb(0x16a)]+'):\x20'+_0x48df42),new m(_0x48df42);}}async['editFlowVaredit'](_0x18e9d0){const _0x53bf69=a0_0x48e44b;try{if(this[_0x53bf69(0x470)][_0x53bf69(0x4b1)](this[_0x53bf69(0x25e)]+'\x20('+this[_0x53bf69(0x844)][_0x53bf69(0x16a)]+_0x53bf69(0x76f)),!this[_0x53bf69(0x7c6)][_0x53bf69(0x166)][_0x53bf69(0x1ae)](_0x290b67=>_0x290b67['_id']===_0x18e9d0[_0x53bf69(0x477)]))throw this[_0x53bf69(0x470)][_0x53bf69(0x4b1)](this['instanceName']+'\x20('+this[_0x53bf69(0x844)][_0x53bf69(0x16a)]+_0x53bf69(0x7e7)+_0x18e9d0[_0x53bf69(0x477)]+_0x53bf69(0x62a)),new m(_0x53bf69(0x816));let _0xab7111=await this['repository'][_0x53bf69(0x251)][_0x53bf69(0x715)]({'where':{'_id':_0x18e9d0['_id']}});if(!_0xab7111||!_0xab7111['whoCanUse']?.[_0x53bf69(0x1d0)](this[_0x53bf69(0x844)]['wuid']))throw this[_0x53bf69(0x470)][_0x53bf69(0x16b)](this[_0x53bf69(0x25e)]+'\x20('+this[_0x53bf69(0x844)]['wuid']+'):\x20Flow\x20\x27'+_0x18e9d0['_id']+_0x53bf69(0x2a9)),new m('Flow\x20\x27'+_0x18e9d0[_0x53bf69(0x477)]+_0x53bf69(0x2a9));if(!_0xab7111[_0x53bf69(0x60a)]?.[_0x53bf69(0x1d0)](this['instance'][_0x53bf69(0x16a)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let _0x4c7713=!0x1;if(_0x18e9d0[_0x53bf69(0x894)]?.['delete']===!0x0)_0xab7111[_0x53bf69(0x4e7)]=_0xab7111[_0x53bf69(0x4e7)]['filter'](_0x115620=>_0x115620&&_0x18e9d0[_0x53bf69(0x894)]&&_0x115620[_0x53bf69(0x477)]&&_0x18e9d0[_0x53bf69(0x894)]['_id']&&_0x115620[_0x53bf69(0x477)][_0x53bf69(0x691)]()!==_0x18e9d0['varedit'][_0x53bf69(0x477)][_0x53bf69(0x691)]()),_0x4c7713=!0x0;else{let _0x41483f=_0xab7111[_0x53bf69(0x4e7)]['find'](_0x34f331=>_0x34f331&&_0x18e9d0['varedit']&&_0x34f331[_0x53bf69(0x477)]&&_0x18e9d0[_0x53bf69(0x894)][_0x53bf69(0x477)]&&_0x34f331[_0x53bf69(0x477)]['toString']()===_0x18e9d0[_0x53bf69(0x894)][_0x53bf69(0x477)]['toString']());_0x41483f?(_0x4c7713=_0x41483f[_0x53bf69(0x1e2)]!==_0x18e9d0[_0x53bf69(0x894)][_0x53bf69(0x1e2)],Object[_0x53bf69(0x3c5)](_0x41483f,_0x18e9d0[_0x53bf69(0x894)])):(_0xab7111[_0x53bf69(0x4e7)][_0x53bf69(0x518)](_0x18e9d0['varedit']),_0x4c7713=!0x0);}if(_0x4c7713){_0xab7111[_0x53bf69(0x4e7)][_0x53bf69(0x59e)]((_0x34d75c,_0x53f00c)=>_0x34d75c[_0x53bf69(0x1e2)]>_0x53f00c['order']?0x1:_0x53f00c[_0x53bf69(0x1e2)]>_0x34d75c[_0x53bf69(0x1e2)]?-0x1:0x0);for(let _0x4b60b1=0x0;_0x4b60b1<_0xab7111[_0x53bf69(0x4e7)][_0x53bf69(0x3b4)];_0x4b60b1++)_0xab7111[_0x53bf69(0x4e7)][_0x4b60b1][_0x53bf69(0x1e2)]=_0x4b60b1+0x1;}let _0x183e1c=await this['repository'][_0x53bf69(0x251)][_0x53bf69(0x7b8)](_0xab7111[_0x53bf69(0x477)],_0xab7111);if(!_0x183e1c)throw new Error(_0x53bf69(0x7d1));return _0x183e1c;}catch(_0x23705c){let _0x5b6828=_0x53bf69(0x54d),_0xe3d59c=_0x23705c instanceof Error?_0x23705c[_0x53bf69(0x5e0)]:typeof _0x23705c==_0x53bf69(0x892)?JSON[_0x53bf69(0x365)](_0x23705c):_0x23705c,_0x369ca9=_0x5b6828+':\x20'+_0xe3d59c;throw this[_0x53bf69(0x470)][_0x53bf69(0x16b)](this[_0x53bf69(0x25e)]+'\x20('+this[_0x53bf69(0x844)]['wuid']+'):\x20'+_0x369ca9),new m(_0x369ca9);}}async[a0_0x48e44b(0x42b)](_0x45805d){const _0x44bdce=a0_0x48e44b;try{if(this['logger'][_0x44bdce(0x4b1)](this['instanceName']+'\x20('+this[_0x44bdce(0x844)]['wuid']+_0x44bdce(0x6ec)),!this[_0x44bdce(0x7c6)][_0x44bdce(0x166)][_0x44bdce(0x1ae)](_0x2abb4c=>_0x2abb4c[_0x44bdce(0x477)]===_0x45805d[_0x44bdce(0x477)]))throw this['logger'][_0x44bdce(0x4b1)](this[_0x44bdce(0x25e)]+'\x20('+this['instance'][_0x44bdce(0x16a)]+_0x44bdce(0x7e7)+_0x45805d[_0x44bdce(0x477)]+'\x27\x20não\x20encontrado'),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x5c5f8b=await this[_0x44bdce(0x850)]['flow'][_0x44bdce(0x715)]({'where':{'_id':_0x45805d[_0x44bdce(0x477)]}});if(!_0x5c5f8b||!_0x5c5f8b[_0x44bdce(0x51f)]?.[_0x44bdce(0x1d0)](this['instance'][_0x44bdce(0x16a)]))throw this['logger'][_0x44bdce(0x16b)](this[_0x44bdce(0x25e)]+'\x20('+this['instance']['wuid']+_0x44bdce(0x5dd)+_0x45805d['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x44bdce(0x52b)+_0x45805d[_0x44bdce(0x477)]+_0x44bdce(0x2a9));if(!_0x5c5f8b[_0x44bdce(0x60a)]?.['includes'](this[_0x44bdce(0x844)][_0x44bdce(0x16a)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');_0x45805d[_0x44bdce(0x675)][_0x44bdce(0x5ff)]=_0x45805d[_0x44bdce(0x675)][_0x44bdce(0x5ff)][_0x44bdce(0x4ed)](),_0x45805d[_0x44bdce(0x675)][_0x44bdce(0x5ff)][_0x44bdce(0x7fd)]('_')&&(_0x45805d[_0x44bdce(0x675)][_0x44bdce(0x5ff)]=_0x45805d[_0x44bdce(0x675)][_0x44bdce(0x5ff)][_0x44bdce(0x217)](0x1)),_0x45805d[_0x44bdce(0x675)][_0x44bdce(0x5ff)]=_0x45805d[_0x44bdce(0x675)][_0x44bdce(0x5ff)][_0x44bdce(0x4ed)]();let _0x458e1d=_0x5c5f8b['variables'][_0x44bdce(0x1ae)](_0x22ef44=>_0x22ef44[_0x44bdce(0x5ff)]===_0x45805d['variable'][_0x44bdce(0x5ff)]);if(_0x458e1d?.[_0x44bdce(0x837)]===!0x0)throw new Error(_0x44bdce(0x41a));if(_0x45805d[_0x44bdce(0x675)]?.[_0x44bdce(0x6a5)]===!0x0){if(!_0x458e1d)return{'message':'Variável\x20não\x20encontrada!'};_0x5c5f8b[_0x44bdce(0x517)]=_0x5c5f8b['variables']['filter'](_0x214ac6=>_0x214ac6[_0x44bdce(0x5ff)]!==_0x45805d[_0x44bdce(0x675)]['name']);}else _0x458e1d?Object['assign'](_0x458e1d,_0x45805d['variable']):_0x5c5f8b[_0x44bdce(0x517)][_0x44bdce(0x518)](_0x45805d['variable']);let _0x1dc9ad=await this[_0x44bdce(0x850)][_0x44bdce(0x251)][_0x44bdce(0x7b8)](_0x5c5f8b['_id'],_0x5c5f8b);if(!_0x1dc9ad)throw new Error(_0x44bdce(0x7d1));return _0x1dc9ad;}catch(_0x23c7d6){let _0x1db425=_0x44bdce(0x66d),_0x49c6cc=_0x23c7d6 instanceof Error?_0x23c7d6[_0x44bdce(0x5e0)]:typeof _0x23c7d6==_0x44bdce(0x892)?JSON[_0x44bdce(0x365)](_0x23c7d6):_0x23c7d6,_0x19d505=_0x1db425+':\x20'+_0x49c6cc;throw this[_0x44bdce(0x470)][_0x44bdce(0x16b)](this[_0x44bdce(0x25e)]+'\x20('+this[_0x44bdce(0x844)][_0x44bdce(0x16a)]+_0x44bdce(0x741)+_0x19d505),new m(_0x19d505);}}async[a0_0x48e44b(0x582)](_0x35c525){const _0x5bcad3=a0_0x48e44b;let _0x1997e0=null;try{if(!this[_0x5bcad3(0x7c6)]?.[_0x5bcad3(0x2e1)]['enabled'])throw new m(_0x5bcad3(0x1fd));this[_0x5bcad3(0x470)][_0x5bcad3(0x4b1)](this[_0x5bcad3(0x25e)]+'\x20('+this[_0x5bcad3(0x844)][_0x5bcad3(0x16a)]+_0x5bcad3(0x532));let _0x1085a6=(await this['whatsappNumber']({'numbers':[_0x35c525['remoteJid']]}))[0x0];if(!_0x1085a6[_0x5bcad3(0x380)]&&!(0x0,w[_0x5bcad3(0x26d)])(_0x1085a6[_0x5bcad3(0x1b3)])&&!_0x1085a6[_0x5bcad3(0x1b3)][_0x5bcad3(0x1d0)](_0x5bcad3(0x3c7)))throw _0x1997e0=JSON[_0x5bcad3(0x365)](_0x1085a6,null,0x2),new m(_0x1085a6);let _0x2a5680;if(_0x35c525[_0x5bcad3(0x5ff)][_0x5bcad3(0x3b4)]===0x24&&/^[0-9a-fA-F-]{36}$/[_0x5bcad3(0x867)](_0x35c525[_0x5bcad3(0x5ff)])?_0x2a5680=this[_0x5bcad3(0x7c6)][_0x5bcad3(0x166)][_0x5bcad3(0x1ae)](_0x2f3d06=>_0x2f3d06[_0x5bcad3(0x477)]===_0x35c525[_0x5bcad3(0x5ff)]):_0x2a5680=this[_0x5bcad3(0x7c6)][_0x5bcad3(0x166)][_0x5bcad3(0x1ae)](_0x3382d2=>_0x3382d2[_0x5bcad3(0x5ff)]===_0x35c525[_0x5bcad3(0x5ff)]),!_0x2a5680)throw this[_0x5bcad3(0x470)][_0x5bcad3(0x4b1)](this['instanceName']+'\x20('+this[_0x5bcad3(0x844)]['wuid']+_0x5bcad3(0x7e7)+_0x35c525[_0x5bcad3(0x5ff)]+_0x5bcad3(0x62a)),new m(_0x5bcad3(0x816));let _0x46ac55=await this['repository']['flow'][_0x5bcad3(0x715)]({'where':{'_id':_0x2a5680['_id']}});if(!_0x46ac55||!_0x46ac55['whoCanUse']?.[_0x5bcad3(0x1d0)](this[_0x5bcad3(0x844)][_0x5bcad3(0x16a)]))throw this['logger'][_0x5bcad3(0x16b)](this[_0x5bcad3(0x25e)]+'\x20('+this[_0x5bcad3(0x844)][_0x5bcad3(0x16a)]+_0x5bcad3(0x5dd)+_0x2a5680[_0x5bcad3(0x477)]+_0x5bcad3(0x2a9)),_0x1997e0=_0x5bcad3(0x52b)+_0x2a5680[_0x5bcad3(0x477)]+_0x5bcad3(0x2a9),new m(_0x1997e0);let _0x8d5395=await this[_0x5bcad3(0x4c3)](_0x46ac55,_0x1085a6[_0x5bcad3(0x1b3)],_0x35c525['changeVariables']);if(_0x8d5395){this['logger']['verbose'](this[_0x5bcad3(0x25e)]+'\x20('+this[_0x5bcad3(0x844)][_0x5bcad3(0x16a)]+'):\x20Criou\x20conversa\x20no\x20startFlow');let _0x53365e=await this[_0x5bcad3(0x832)](_0x8d5395);return _0x53365e&&await this['processblock'](_0x8d5395,_0x53365e),{'message':'Flow\x20iniciado\x20com\x20'+_0x35c525[_0x5bcad3(0x713)]};}}catch(_0x144bb8){if(this['logger'][_0x5bcad3(0x16b)](this[_0x5bcad3(0x25e)]+'\x20('+this[_0x5bcad3(0x844)]['wuid']+_0x5bcad3(0x171)+(_0x144bb8 instanceof Error?_0x144bb8[_0x5bcad3(0x5e0)]:JSON['stringify'](_0x144bb8,null,0x2))),_0x1997e0=_0x144bb8 instanceof Error?_0x144bb8[_0x5bcad3(0x5e0)]:JSON[_0x5bcad3(0x365)](_0x144bb8,null,0x2),_0x1997e0)throw new m(_0x5bcad3(0x811)+_0x1997e0);}}async[a0_0x48e44b(0x5b9)](_0x2c655f,_0x447622,_0x2125fa){const _0x966d2b=a0_0x48e44b;let _0x4a45e5=null;try{if(!this[_0x966d2b(0x7c6)]?.[_0x966d2b(0x2e1)][_0x966d2b(0x528)])throw new m(_0x966d2b(0x1fd));if(this[_0x966d2b(0x470)]['verbose'](this['instanceName']+'\x20('+this[_0x966d2b(0x844)][_0x966d2b(0x16a)]+'):\x20Iniciando\x20bot...'),_0x447622){let _0x1ca718=(await this[_0x966d2b(0x1aa)]({'numbers':[_0x447622]}))[0x0];if(!_0x1ca718['exists']&&!(0x0,w[_0x966d2b(0x26d)])(_0x1ca718['jid'])&&!_0x1ca718[_0x966d2b(0x1b3)][_0x966d2b(0x1d0)]('@broadcast'))throw _0x4a45e5=JSON[_0x966d2b(0x365)](_0x1ca718,null,0x2),new m(_0x1ca718);_0x447622=_0x1ca718[_0x966d2b(0x1b3)];}else _0x447622||(_0x447622=(0x0,Y['v4'])());let _0x82480f=await this[_0x966d2b(0x850)][_0x966d2b(0x251)][_0x966d2b(0x715)]({'where':{'_id':_0x2c655f}});if(!_0x82480f||!_0x82480f['whoCanUse']?.[_0x966d2b(0x1d0)](this['instance'][_0x966d2b(0x16a)]))throw this[_0x966d2b(0x470)][_0x966d2b(0x16b)](this['instanceName']+'\x20('+this[_0x966d2b(0x844)][_0x966d2b(0x16a)]+'):\x20Flow\x20\x27'+_0x2c655f+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x966d2b(0x52b)+_0x2c655f+_0x966d2b(0x2a9));let _0x2a6876=await this['createConversationforStartFlow'](_0x82480f,_0x447622,null);if(_0x2a6876){this[_0x966d2b(0x470)]['verbose'](this[_0x966d2b(0x25e)]+'\x20('+this[_0x966d2b(0x844)]['wuid']+_0x966d2b(0x62e));let _0xb5278b;if(_0x2125fa){let _0x5f0c12=_0x2a6876[_0x966d2b(0x336)][_0x966d2b(0x4f8)],_0x21d06a=this[_0x966d2b(0x338)](_0x2125fa);Object[_0x966d2b(0x3c5)](_0x5f0c12,_0x21d06a),_0x2a6876[_0x966d2b(0x336)]['realVariables']=_0x5f0c12,_0xb5278b={'error':!0x1,'apiResponse':_0x2125fa};}let _0x169317=await this[_0x966d2b(0x832)](_0x2a6876);return _0x169317&&await this[_0x966d2b(0x660)](_0x2a6876,_0x169317),{'message':_0x966d2b(0x4eb)};}}catch(_0x1108f0){if(this[_0x966d2b(0x470)]['error'](this['instanceName']+'\x20('+this[_0x966d2b(0x844)][_0x966d2b(0x16a)]+_0x966d2b(0x171)+(_0x1108f0 instanceof Error?_0x1108f0['message']:JSON[_0x966d2b(0x365)](_0x1108f0,null,0x2))),_0x4a45e5=_0x1108f0 instanceof Error?_0x1108f0['message']:JSON['stringify'](_0x1108f0,null,0x2),_0x4a45e5)throw new m(_0x966d2b(0x811)+_0x4a45e5);}}async[a0_0x48e44b(0x65f)](_0x232db8){const _0x5596f8=a0_0x48e44b;try{let _0xb00344={'remoteJid':_0x232db8,'status':'open'},_0x157e20={'status':_0x5596f8(0x78e)},_0x491829=await this[_0x5596f8(0x850)][_0x5596f8(0x4ea)]['updateMany'](_0xb00344,_0x157e20,this[_0x5596f8(0x844)][_0x5596f8(0x16a)]);return this[_0x5596f8(0x470)][_0x5596f8(0x4b1)](this['instanceName']+'\x20('+this[_0x5596f8(0x844)]['wuid']+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x491829;}catch(_0x4b0551){throw this[_0x5596f8(0x470)][_0x5596f8(0x16b)](this[_0x5596f8(0x25e)]+'\x20('+this['instance'][_0x5596f8(0x16a)]+_0x5596f8(0x335)+_0x4b0551[_0x5596f8(0x5e0)]),_0x4b0551;}}async[a0_0x48e44b(0x4c3)](_0x5721d4,_0x4854e7,_0x4d6669){const _0xaab58c=a0_0x48e44b;this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0xaab58c(0x16a)]+_0xaab58c(0x4d6)),await this[_0xaab58c(0x65f)](_0x4854e7);try{let _0x28f926=require(_0xaab58c(0x819))[_0xaab58c(0x493)],_0x51f32=Date[_0xaab58c(0x23c)](),_0x3d43b3=_0xaab58c(0x773),_0x3dbaf1={},_0x8d6bc1={},_0x31ad30=this[_0xaab58c(0x7c6)]['flows'][_0xaab58c(0x1ae)](_0x2b598f=>_0x2b598f[_0xaab58c(0x477)]===_0x5721d4['_id']?.[_0xaab58c(0x691)]()),_0x2499b1=_0x31ad30?.[_0xaab58c(0x546)]??_0x5721d4[_0xaab58c(0x546)]??0x0,_0x4c4084=_0x31ad30?.[_0xaab58c(0x6e1)]??_0x5721d4['readMessages']??!0x1,_0x1efecc={'flowId':_0x5721d4[_0xaab58c(0x477)],..._0x5721d4,'chatLog':null},_0x148c95=await this['variablesToObject'](_0x1efecc['variables']),_0x19ce89=await this['getVariablesChat'](_0x4854e7),_0x57064b={..._0x148c95,..._0x19ce89,'_remoteJid':_0x4854e7},_0x220ceb={'lastReceivedMessage':_0x3dbaf1,'lastSendMessage':_0x8d6bc1,'lastBlockId':_0x3d43b3,'lastCondition':!0x0,'realVariables':_0x57064b};_0x1efecc[_0xaab58c(0x336)]=_0x220ceb,_0x1efecc[_0xaab58c(0x336)][_0xaab58c(0x4f8)]={..._0x57064b,..._0x4d6669},delete _0x1efecc['_id'],_0x1efecc['_id']=new _0x28f926(),_0x1efecc[_0xaab58c(0x7d8)]=_0x51f32,_0x1efecc[_0xaab58c(0x485)]=_0xaab58c(0x422),_0x1efecc[_0xaab58c(0x713)]=_0x4854e7,_0x1efecc[_0xaab58c(0x546)]=_0x2499b1,_0x1efecc['readMessages']=_0x4c4084,_0x1efecc[_0xaab58c(0x477)]=_0x5721d4[_0xaab58c(0x477)];let _0x56508f=await this[_0xaab58c(0x850)][_0xaab58c(0x4ea)][_0xaab58c(0x7b8)](_0x1efecc['_id'],_0x1efecc,this[_0xaab58c(0x844)][_0xaab58c(0x16a)]);return this[_0xaab58c(0x470)][_0xaab58c(0x4b1)](this['instanceName']+'\x20('+this[_0xaab58c(0x844)][_0xaab58c(0x16a)]+_0xaab58c(0x598)),_0x56508f?_0x1efecc:null;}catch(_0x3023cd){let _0x5310ee=_0xaab58c(0x81a),_0x1ca6b0=_0x3023cd instanceof Error?_0x3023cd['message']:typeof _0x3023cd=='object'?JSON['stringify'](_0x3023cd):_0x3023cd,_0x270441=_0x5310ee+':\x20'+_0x1ca6b0;throw this[_0xaab58c(0x470)][_0xaab58c(0x16b)](this[_0xaab58c(0x25e)]+'\x20('+this[_0xaab58c(0x844)][_0xaab58c(0x16a)]+'):\x20'+_0x270441),new m(_0x270441);}}async[a0_0x48e44b(0x2fc)](_0x3ba199){const _0x32b3f4=a0_0x48e44b;try{this[_0x32b3f4(0x470)][_0x32b3f4(0x4b1)](this[_0x32b3f4(0x25e)]+'\x20('+this[_0x32b3f4(0x844)][_0x32b3f4(0x16a)]+_0x32b3f4(0x714)),this[_0x32b3f4(0x470)][_0x32b3f4(0x4b1)](this[_0x32b3f4(0x25e)]+'\x20('+this['instance'][_0x32b3f4(0x16a)]+'):\x20Query\x20params:\x20'+_0x3ba199);let _0x20f9b0={'where':{'_id':_0x3ba199}};return await this[_0x32b3f4(0x850)][_0x32b3f4(0x4ea)][_0x32b3f4(0x715)](_0x20f9b0,this[_0x32b3f4(0x844)][_0x32b3f4(0x16a)]);}catch(_0x47a2ea){let _0x378397=_0x32b3f4(0x64a),_0x22e8d1=_0x47a2ea instanceof Error?_0x47a2ea[_0x32b3f4(0x5e0)]:typeof _0x47a2ea=='object'?JSON[_0x32b3f4(0x365)](_0x47a2ea):_0x47a2ea,_0x543e30=_0x378397+':\x20'+_0x22e8d1;throw this[_0x32b3f4(0x470)]['error'](this['instanceName']+'\x20('+this[_0x32b3f4(0x844)]['wuid']+_0x32b3f4(0x741)+_0x543e30),new m(_0x543e30);}}async[a0_0x48e44b(0x435)](_0x3d338a){const _0x4f9112=a0_0x48e44b;try{return this['logger'][_0x4f9112(0x4b1)](this[_0x4f9112(0x25e)]+'\x20('+this[_0x4f9112(0x844)]['wuid']+_0x4f9112(0x3d5)),await this[_0x4f9112(0x850)][_0x4f9112(0x4ea)][_0x4f9112(0x1ae)](_0x3d338a,this[_0x4f9112(0x844)][_0x4f9112(0x16a)]);}catch(_0x4bea6a){let _0x66e17b='Erro\x20ao\x20buscar\x20conversas',_0x3c6149=_0x4bea6a instanceof Error?_0x4bea6a[_0x4f9112(0x5e0)]:typeof _0x4bea6a==_0x4f9112(0x892)?JSON[_0x4f9112(0x365)](_0x4bea6a):_0x4bea6a,_0x3c1616=_0x66e17b+':\x20'+_0x3c6149;throw this[_0x4f9112(0x470)]['error'](this[_0x4f9112(0x25e)]+'\x20('+this[_0x4f9112(0x844)][_0x4f9112(0x16a)]+'):\x20'+_0x3c1616),new m(_0x3c1616);}}async[a0_0x48e44b(0x830)](_0x33a901){const _0x4d7632=a0_0x48e44b;try{return this[_0x4d7632(0x470)][_0x4d7632(0x4b1)](this[_0x4d7632(0x25e)]+'\x20('+this[_0x4d7632(0x844)][_0x4d7632(0x16a)]+_0x4d7632(0x3b5)),this['logger'][_0x4d7632(0x4b1)](this['instanceName']+'\x20('+this[_0x4d7632(0x844)]['wuid']+_0x4d7632(0x823)+_0x33a901),(await this['repository'][_0x4d7632(0x4ea)]['deleteOne']({'where':{'_id':_0x33a901['_id']}},this['instance']['wuid']))['deletedCount']===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x458682){let _0x420cb0=_0x4d7632(0x164),_0x170a12=_0x458682 instanceof Error?_0x458682[_0x4d7632(0x5e0)]:typeof _0x458682=='object'?JSON[_0x4d7632(0x365)](_0x458682):_0x458682,_0x3bb647=_0x420cb0+':\x20'+_0x170a12;throw this[_0x4d7632(0x470)][_0x4d7632(0x16b)](this[_0x4d7632(0x25e)]+'\x20('+this[_0x4d7632(0x844)][_0x4d7632(0x16a)]+'):\x20'+_0x3bb647),new m(_0x3bb647);}}async[a0_0x48e44b(0x1c2)](_0x5643d5){const _0x3b7da7=a0_0x48e44b;try{let {_id:_0x339ddb,chatLog:_0x4ff228,status:_0x3ac259}=_0x5643d5;if(!_0x339ddb)return{'message':_0x3b7da7(0x1be)};let _0x53227e={};if(_0x3ac259!==void 0x0&&(_0x53227e[_0x3b7da7(0x485)]=_0x3ac259),Object[_0x3b7da7(0x6df)](_0x53227e)[_0x3b7da7(0x3b4)]===0x0)return{'message':_0x3b7da7(0x4a1)};let _0x327ec1=await this[_0x3b7da7(0x850)][_0x3b7da7(0x4ea)][_0x3b7da7(0x7b8)](_0x339ddb,_0x53227e,this[_0x3b7da7(0x844)][_0x3b7da7(0x16a)]);return _0x327ec1||{'message':_0x3b7da7(0x50a)};}catch(_0x629972){let _0x1f4696=_0x3b7da7(0x15c),_0x64e244=_0x629972 instanceof Error?_0x629972['message']:typeof _0x629972==_0x3b7da7(0x892)?JSON[_0x3b7da7(0x365)](_0x629972):_0x629972,_0x554480=_0x1f4696+':\x20'+_0x64e244;throw this[_0x3b7da7(0x470)]['error'](this[_0x3b7da7(0x25e)]+'\x20('+this[_0x3b7da7(0x844)][_0x3b7da7(0x16a)]+_0x3b7da7(0x741)+_0x554480),new m(_0x554480);}}async[a0_0x48e44b(0x4f0)](_0x493d21){const _0x2ff4e2=a0_0x48e44b;try{_0x493d21[_0x2ff4e2(0x477)]=this[_0x2ff4e2(0x639)](_0x493d21[_0x2ff4e2(0x477)]);let _0x218f15=await this[_0x2ff4e2(0x850)]['chat'][_0x2ff4e2(0x715)]({'where':{'_id':_0x493d21[_0x2ff4e2(0x477)]}},this['instance']['wuid']);if(!_0x218f15)throw new m(_0x2ff4e2(0x7ce));let {_id:_0x162468,leadInfo:_0x57136e}=_0x493d21;if(!_0x162468)throw new Error(_0x2ff4e2(0x70f));if(_0x493d21[_0x2ff4e2(0x6a5)]===_0x2ff4e2(0x877))return await this['deleteChat'](_0x493d21[_0x2ff4e2(0x477)]),await this[_0x2ff4e2(0x850)]['chat']['delete']({'where':{'_id':_0x493d21[_0x2ff4e2(0x477)]}},this['instance'][_0x2ff4e2(0x16a)]),await this[_0x2ff4e2(0x850)][_0x2ff4e2(0x5e0)][_0x2ff4e2(0x6a5)]({'where':{'key':{'remoteJid':_0x493d21[_0x2ff4e2(0x477)]}}},this['instance'][_0x2ff4e2(0x16a)]),_0x493d21=await this[_0x2ff4e2(0x850)][_0x2ff4e2(0x176)][_0x2ff4e2(0x7b8)]({'where':{'_id':_0x493d21['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x2ff4e2(0x844)][_0x2ff4e2(0x16a)]),F(this['instanceName'],'chats',{'chat':_0x493d21}),{'message':'Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.'};if(_0x493d21[_0x2ff4e2(0x6a5)]===_0x2ff4e2(0x7ff))return await this[_0x2ff4e2(0x850)][_0x2ff4e2(0x5e0)]['delete']({'where':{'key':{'remoteJid':_0x493d21[_0x2ff4e2(0x477)]}}},this['instance']['wuid']),_0x493d21=await this['repository'][_0x2ff4e2(0x176)][_0x2ff4e2(0x7b8)]({'where':{'_id':_0x493d21[_0x2ff4e2(0x477)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x2ff4e2(0x844)][_0x2ff4e2(0x16a)]),F(this[_0x2ff4e2(0x25e)],'chats',{'chat':_0x493d21}),{'message':_0x2ff4e2(0x724)};let _0x1fb723=(_0x1c3b36,_0x4af46b,_0x3b5d86)=>{_0x1c3b36&&_0x3b5d86['forEach'](_0x562d93=>{const _0x5dbfaf=a0_0x43f2;_0x1c3b36[_0x562d93]!==void 0x0&&(_0x4af46b[_0x5dbfaf(0x7ef)+_0x562d93]=_0x1c3b36[_0x562d93]);});},_0x81816e={};if('muteEndTime'in _0x493d21&&(this[_0x2ff4e2(0x470)][_0x2ff4e2(0x4b1)](this[_0x2ff4e2(0x25e)]+'\x20('+this['instance'][_0x2ff4e2(0x16a)]+_0x2ff4e2(0x8c2)+_0x493d21[_0x2ff4e2(0x477)]),_0x493d21[_0x2ff4e2(0x666)]=_0x493d21['muteEndTime']===0x0?null:-0x1,await this[_0x2ff4e2(0x70c)]['chatModify']({'mute':_0x493d21[_0x2ff4e2(0x666)]},_0x493d21[_0x2ff4e2(0x477)]),_0x81816e[_0x2ff4e2(0x666)]=Number(_0x493d21[_0x2ff4e2(0x666)])),_0x57136e&&(_0x1fb723(_0x57136e,_0x81816e,[_0x2ff4e2(0x2ed),_0x2ff4e2(0x436),'email','cpf',_0x2ff4e2(0x485),_0x2ff4e2(0x396),_0x2ff4e2(0x814),_0x2ff4e2(0x73c),_0x2ff4e2(0x57d),'etiquetas',_0x2ff4e2(0x326)]),Array[_0x2ff4e2(0x59d)](_0x57136e[_0x2ff4e2(0x3bb)])&&(_0x81816e['leadInfo.customFields']=_0x57136e[_0x2ff4e2(0x3bb)][_0x2ff4e2(0x3ad)](_0x5b7293=>({'_id':_0x5b7293[_0x2ff4e2(0x477)],'value':_0x5b7293['value']}))),_0x493d21[_0x2ff4e2(0x837)][_0x2ff4e2(0x3c6)]!==void 0x0)){let _0xaafc2e=await this[_0x2ff4e2(0x850)]['label'][_0x2ff4e2(0x1ae)]({'where':{}},this[_0x2ff4e2(0x844)]['wuid']),_0x3bb3f1=new Set(_0x493d21['leadInfo']['etiquetas']||[]),_0x17be47=new Set(_0x493d21[_0x2ff4e2(0x837)][_0x2ff4e2(0x3c6)]),_0x46099c=new Set(_0xaafc2e[_0x2ff4e2(0x3ad)](_0xe58baf=>_0xe58baf['_id'])),_0x5759ae=[..._0x17be47][_0x2ff4e2(0x20c)](_0x202ec3=>!_0x3bb3f1['has'](_0x202ec3)&&_0x46099c[_0x2ff4e2(0x31f)](_0x202ec3)),_0x2c877d=[..._0x3bb3f1]['filter'](_0x1bab5e=>!_0x17be47[_0x2ff4e2(0x31f)](_0x1bab5e));if(_0x81816e['leadInfo.etiquetas']=[..._0x3bb3f1],_0x218f15&&!_0x218f15['imported']){for(let _0x35d69a of _0x5759ae)await this[_0x2ff4e2(0x483)](_0x35d69a,_0x493d21['_id']),_0x3bb3f1['add'](_0x35d69a);for(let _0x3c846a of _0x2c877d)await this[_0x2ff4e2(0x2f6)](_0x3c846a,_0x493d21[_0x2ff4e2(0x477)]),_0x3bb3f1[_0x2ff4e2(0x6a5)](_0x3c846a);}}if(_0x493d21[_0x2ff4e2(0x1e4)]!==void 0x0&&(_0x81816e[_0x2ff4e2(0x1e4)]=Number(_0x493d21['unreadcount'])),Object[_0x2ff4e2(0x6df)](_0x81816e)['length']===0x0)throw new Error(_0x2ff4e2(0x4a1));let _0x2d0f95=await this['repository'][_0x2ff4e2(0x176)]['updateOne']({'where':{'_id':_0x493d21['_id']}},_0x81816e,this['instance']['wuid']);return _0x2d0f95&&F(this[_0x2ff4e2(0x25e)],'chats',{'chat':_0x2d0f95}),_0x2d0f95?(this['logger'][_0x2ff4e2(0x4b1)](this[_0x2ff4e2(0x25e)]+'\x20('+this[_0x2ff4e2(0x844)]['wuid']+'):\x20'+JSON[_0x2ff4e2(0x365)](_0x2d0f95,null,0x2)),_0x2d0f95):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x22c3b4){let _0x1cbf87=_0x2ff4e2(0x1f4),_0x3356e9=_0x22c3b4 instanceof Error?_0x22c3b4[_0x2ff4e2(0x5e0)]:typeof _0x22c3b4=='object'?JSON[_0x2ff4e2(0x365)](_0x22c3b4):_0x22c3b4,_0x30586f=_0x1cbf87+':\x20'+_0x3356e9;throw this[_0x2ff4e2(0x470)]['error'](this['instanceName']+'\x20('+this[_0x2ff4e2(0x844)][_0x2ff4e2(0x16a)]+_0x2ff4e2(0x741)+_0x30586f),new m(_0x30586f);}}async[a0_0x48e44b(0x483)](_0x452c97,_0x15040b){const _0x5eeb4f=a0_0x48e44b;try{await this[_0x5eeb4f(0x70c)][_0x5eeb4f(0x876)](_0x15040b,_0x452c97),this['logger'][_0x5eeb4f(0x6cf)](this[_0x5eeb4f(0x25e)]+'\x20('+this['instance']['wuid']+'):\x20Label\x20'+_0x452c97+'\x20adicionado\x20ao\x20chat\x20'+_0x15040b+'\x20com\x20sucesso.');}catch(_0x3e0dbf){this[_0x5eeb4f(0x470)][_0x5eeb4f(0x16b)]('Erro\x20ao\x20adicionar\x20label\x20'+_0x452c97+_0x5eeb4f(0x320)+_0x15040b+':\x20'+_0x3e0dbf);}}async['RemoveChatLabel'](_0xb18659,_0x49e8e4){const _0x59b5e6=a0_0x48e44b;try{await this[_0x59b5e6(0x70c)][_0x59b5e6(0x53e)](_0x49e8e4,_0xb18659),this[_0x59b5e6(0x470)][_0x59b5e6(0x6cf)](this[_0x59b5e6(0x25e)]+'\x20('+this[_0x59b5e6(0x844)][_0x59b5e6(0x16a)]+_0x59b5e6(0x322)+_0xb18659+'\x20removido\x20do\x20chat\x20'+_0x49e8e4+'\x20com\x20sucesso.');}catch(_0x47e593){this[_0x59b5e6(0x470)][_0x59b5e6(0x16b)](_0x59b5e6(0x22c)+_0xb18659+_0x59b5e6(0x88b)+_0x49e8e4+':\x20'+_0x47e593);}}async['updateAgent'](_0x3859d0){const _0x5d93b2=a0_0x48e44b;try{let _0x55b78f=await this[_0x5d93b2(0x850)][_0x5d93b2(0x161)][_0x5d93b2(0x5d3)](this['instance'][_0x5d93b2(0x16a)]),_0xda150e=_0x3859d0[_0x5d93b2(0x477)]?_0x55b78f['agents'][_0x5d93b2(0x49b)](_0x332823=>_0x332823['_id']===_0x3859d0[_0x5d93b2(0x477)]):-0x1;if(_0x3859d0['delete']&&_0xda150e>-0x1)_0x55b78f[_0x5d93b2(0x6ee)][_0x5d93b2(0x7b2)](_0xda150e,0x1);else{if(_0xda150e>-0x1){let _0x2b4e59=_0x55b78f[_0x5d93b2(0x6ee)][_0xda150e];_0x3859d0[_0x5d93b2(0x2d3)]&&(_0x2b4e59[_0x5d93b2(0x2d3)]=_0x3859d0[_0x5d93b2(0x2d3)]),_0x3859d0[_0x5d93b2(0x5ff)]&&(_0x2b4e59['name']=_0x3859d0['name']),_0x3859d0[_0x5d93b2(0x2bf)]&&(_0x2b4e59[_0x5d93b2(0x2bf)]=_0x3859d0[_0x5d93b2(0x2bf)]),_0x3859d0[_0x5d93b2(0x628)]&&(_0x2b4e59[_0x5d93b2(0x628)]=_0x3859d0['role']);}else _0x55b78f[_0x5d93b2(0x6ee)][_0x5d93b2(0x518)]({'_id':_0x3859d0[_0x5d93b2(0x477)]||new ge[(_0x5d93b2(0x875))][(_0x5d93b2(0x4ad))][(_0x5d93b2(0x493))]()[_0x5d93b2(0x691)](),'fone':_0x3859d0[_0x5d93b2(0x2d3)],'name':_0x3859d0['name'],'email':_0x3859d0[_0x5d93b2(0x2bf)],'role':_0x3859d0[_0x5d93b2(0x628)]});}let _0x1e17ec={'agents':_0x55b78f[_0x5d93b2(0x6ee)]},_0x2847c0=await this['repository'][_0x5d93b2(0x161)][_0x5d93b2(0x453)](_0x1e17ec,this[_0x5d93b2(0x844)]['wuid']);return this[_0x5d93b2(0x7c6)]=_0x2847c0,this[_0x5d93b2(0x470)][_0x5d93b2(0x4b1)](this[_0x5d93b2(0x25e)]+'\x20('+this[_0x5d93b2(0x844)]['wuid']+'):\x20alterando\x20this.AutomateSystem'),this[_0x5d93b2(0x470)]['verbose'](this[_0x5d93b2(0x25e)]+'\x20('+this[_0x5d93b2(0x844)][_0x5d93b2(0x16a)]+_0x5d93b2(0x741)+this[_0x5d93b2(0x7c6)]),_0x2847c0;}catch(_0x27a801){let _0x2b978f=_0x5d93b2(0x880),_0xac58a3=_0x27a801 instanceof Error?_0x27a801[_0x5d93b2(0x5e0)]:typeof _0x27a801=='object'?JSON[_0x5d93b2(0x365)](_0x27a801):_0x27a801,_0xd9ca70=_0x2b978f+':\x20'+_0xac58a3;throw this[_0x5d93b2(0x470)][_0x5d93b2(0x16b)](this[_0x5d93b2(0x25e)]+'\x20('+this['instance'][_0x5d93b2(0x16a)]+_0x5d93b2(0x741)+_0xd9ca70),new m(_0xd9ca70);}}async[a0_0x48e44b(0x583)](_0x1c1a33){const _0x21ebd4=a0_0x48e44b;try{let _0x283162=await this[_0x21ebd4(0x850)][_0x21ebd4(0x161)]['findOrCreate'](this['instance'][_0x21ebd4(0x16a)]),_0x2f5e0e=_0x1c1a33[_0x21ebd4(0x477)]?_0x283162[_0x21ebd4(0x3bb)][_0x21ebd4(0x49b)](_0x394101=>_0x394101[_0x21ebd4(0x477)]===_0x1c1a33[_0x21ebd4(0x477)]):-0x1,_0xfb6a35=!0x1,_0x1bddc2=_0x283162[_0x21ebd4(0x3bb)][_0x21ebd4(0x426)](_0x54f5d8=>_0x54f5d8['order']===_0x1c1a33[_0x21ebd4(0x1e2)]);if(_0x1c1a33[_0x21ebd4(0x6a5)]&&_0x2f5e0e>-0x1)_0x283162[_0x21ebd4(0x3bb)][_0x21ebd4(0x7b2)](_0x2f5e0e,0x1),_0xfb6a35=!0x0;else{if(_0x2f5e0e>-0x1){if(_0x283162[_0x21ebd4(0x3bb)][_0x21ebd4(0x426)](_0x338f28=>_0x338f28[_0x21ebd4(0x5ff)]===_0x1c1a33[_0x21ebd4(0x5ff)]&&_0x338f28[_0x21ebd4(0x477)]!==_0x1c1a33[_0x21ebd4(0x477)]))throw new Error(_0x21ebd4(0x71a));let _0x187fe6=_0x283162['customFields'][_0x2f5e0e];_0x1c1a33[_0x21ebd4(0x1e2)]&&(_0x1bddc2||!Number[_0x21ebd4(0x2b2)](_0x1c1a33[_0x21ebd4(0x1e2)]))&&(_0x187fe6[_0x21ebd4(0x1e2)]=_0x1c1a33[_0x21ebd4(0x1e2)],_0xfb6a35=!0x0),_0x1c1a33[_0x21ebd4(0x5ff)]&&(_0x187fe6[_0x21ebd4(0x5ff)]=_0x1c1a33[_0x21ebd4(0x5ff)]);}else{if(_0x283162[_0x21ebd4(0x3bb)][_0x21ebd4(0x426)](_0xac71ed=>_0xac71ed[_0x21ebd4(0x5ff)]===_0x1c1a33[_0x21ebd4(0x5ff)]&&_0xac71ed['_id']!==_0x1c1a33[_0x21ebd4(0x477)]))throw new Error(_0x21ebd4(0x71a));_0x283162['customFields']['push']({'_id':_0x1c1a33[_0x21ebd4(0x477)]||new ge[(_0x21ebd4(0x875))]['Types'][(_0x21ebd4(0x493))]()[_0x21ebd4(0x691)](),'order':_0x1c1a33[_0x21ebd4(0x1e2)],'name':_0x1c1a33[_0x21ebd4(0x5ff)]}),_0xfb6a35=!0x0;}}if(_0xfb6a35){_0x283162[_0x21ebd4(0x3bb)][_0x21ebd4(0x59e)]((_0x51b696,_0x3ed92b)=>_0x51b696['order']>_0x3ed92b[_0x21ebd4(0x1e2)]?0x1:_0x3ed92b[_0x21ebd4(0x1e2)]>_0x51b696[_0x21ebd4(0x1e2)]?-0x1:0x0);for(let _0x49bf1c=0x0;_0x49bf1c<_0x283162[_0x21ebd4(0x3bb)][_0x21ebd4(0x3b4)];_0x49bf1c++)_0x283162[_0x21ebd4(0x3bb)][_0x49bf1c]['order']=_0x49bf1c+0x1;}let _0x5651df=await this[_0x21ebd4(0x850)][_0x21ebd4(0x161)][_0x21ebd4(0x453)](_0x283162,this[_0x21ebd4(0x844)][_0x21ebd4(0x16a)]);return this[_0x21ebd4(0x7c6)]=_0x5651df,this[_0x21ebd4(0x470)][_0x21ebd4(0x4b1)](this[_0x21ebd4(0x25e)]+'\x20('+this[_0x21ebd4(0x844)][_0x21ebd4(0x16a)]+_0x21ebd4(0x584)),this[_0x21ebd4(0x470)]['verbose'](this[_0x21ebd4(0x25e)]+'\x20('+this[_0x21ebd4(0x844)][_0x21ebd4(0x16a)]+_0x21ebd4(0x741)+this[_0x21ebd4(0x7c6)]),_0x5651df;}catch(_0x33f3c1){let _0x1d08d7='Erro\x20ao\x20tentar\x20updateCustomFields',_0xcc83f6=_0x33f3c1 instanceof Error?_0x33f3c1[_0x21ebd4(0x5e0)]:typeof _0x33f3c1==_0x21ebd4(0x892)?JSON[_0x21ebd4(0x365)](_0x33f3c1):_0x33f3c1,_0x254135=_0x1d08d7+':\x20'+_0xcc83f6;throw this[_0x21ebd4(0x470)][_0x21ebd4(0x16b)](this['instanceName']+'\x20('+this[_0x21ebd4(0x844)][_0x21ebd4(0x16a)]+_0x21ebd4(0x741)+_0x254135),new m(_0x254135);}}async[a0_0x48e44b(0x5c5)](_0x2c0d35){const _0x392d65=a0_0x48e44b;try{let _0x5de4fa=await this['repository'][_0x392d65(0x161)][_0x392d65(0x5d3)](this[_0x392d65(0x844)]['wuid']),_0x471ab4=_0x5de4fa?.[_0x392d65(0x152)]?.['findIndex'](_0x4f1ca6=>_0x4f1ca6[_0x392d65(0x477)]===_0x2c0d35?.[_0x392d65(0x477)]);if(_0x2c0d35?.[_0x392d65(0x6a5)])_0x471ab4>-0x1&&_0x5de4fa?.['autoCompleteMessages']?.[_0x392d65(0x7b2)](_0x471ab4,0x1);else{if(_0x471ab4>-0x1){let _0x107900=_0x5de4fa['autoCompleteMessages'][_0x471ab4];_0x107900[_0x392d65(0x1e2)]=_0x2c0d35?.[_0x392d65(0x1e2)]||_0x107900[_0x392d65(0x1e2)],_0x107900[_0x392d65(0x836)]=_0x2c0d35?.[_0x392d65(0x836)]||_0x107900[_0x392d65(0x836)],_0x107900['message']=_0x2c0d35?.[_0x392d65(0x5e0)]||_0x107900['message'];}else{let _0x1da155={'_id':_0x2c0d35?.[_0x392d65(0x477)]||new ge[(_0x392d65(0x875))]['Types'][(_0x392d65(0x493))]()[_0x392d65(0x691)](),'order':_0x2c0d35?.[_0x392d65(0x1e2)],'command':_0x2c0d35?.[_0x392d65(0x836)],'message':_0x2c0d35?.[_0x392d65(0x5e0)]};_0x5de4fa?.[_0x392d65(0x152)]?.[_0x392d65(0x518)](_0x1da155);}}_0x5de4fa?.[_0x392d65(0x152)]?.[_0x392d65(0x59e)]((_0x43b170,_0x1260b6)=>_0x43b170['order']-_0x1260b6[_0x392d65(0x1e2)]);let _0x2b14c8=await this[_0x392d65(0x850)][_0x392d65(0x161)][_0x392d65(0x453)](_0x5de4fa,this['instance'][_0x392d65(0x16a)]);return this[_0x392d65(0x7c6)]=_0x2b14c8,this['logger'][_0x392d65(0x4b1)](this[_0x392d65(0x25e)]+'\x20('+this['instance'][_0x392d65(0x16a)]+_0x392d65(0x584)),_0x2b14c8;}catch(_0x46cfa0){let _0x48c9ec='Erro\x20ao\x20tentar\x20autoCompleteMessages',_0x78aae1=_0x46cfa0 instanceof Error?_0x46cfa0['message']:typeof _0x46cfa0==_0x392d65(0x892)?JSON[_0x392d65(0x365)](_0x46cfa0):_0x46cfa0,_0x253ab1=_0x48c9ec+':\x20'+_0x78aae1;throw this[_0x392d65(0x470)][_0x392d65(0x16b)](this['instanceName']+'\x20('+this[_0x392d65(0x844)][_0x392d65(0x16a)]+_0x392d65(0x741)+_0x253ab1),new m(_0x253ab1);}}async[a0_0x48e44b(0x360)](_0x4343e2){const _0x1200ee=a0_0x48e44b;try{let _0x2221b4=await this[_0x1200ee(0x850)]['automateSystem'][_0x1200ee(0x5d3)](this['instance']['wuid']);if(!_0x2221b4)throw new Error(_0x1200ee(0x1b6));let _0x232eba={'_id':_0x2221b4[_0x1200ee(0x477)],'flowConfig':{'enabled':_0x4343e2[_0x1200ee(0x528)]??_0x2221b4[_0x1200ee(0x2e1)][_0x1200ee(0x528)],'ignoreGroups':_0x4343e2[_0x1200ee(0x278)]??_0x2221b4[_0x1200ee(0x2e1)][_0x1200ee(0x278)],'stopConversation':_0x4343e2['stopConversation']['trim']()??_0x2221b4[_0x1200ee(0x2e1)][_0x1200ee(0x8b6)]['trim'](),'stopMinutes':_0x4343e2[_0x1200ee(0x592)]??_0x2221b4[_0x1200ee(0x2e1)][_0x1200ee(0x592)],'stopWhenYouSendMsg':_0x4343e2[_0x1200ee(0x695)]??_0x2221b4[_0x1200ee(0x2e1)][_0x1200ee(0x695)]}},_0x34484e=await this['repository'][_0x1200ee(0x161)][_0x1200ee(0x453)](_0x232eba,this[_0x1200ee(0x844)][_0x1200ee(0x16a)]);return this[_0x1200ee(0x7c6)]=_0x34484e,this[_0x1200ee(0x470)][_0x1200ee(0x4b1)](this[_0x1200ee(0x25e)]+'\x20('+this['instance'][_0x1200ee(0x16a)]+_0x1200ee(0x7e6)),this[_0x1200ee(0x470)][_0x1200ee(0x4b1)](this['instanceName']+'\x20('+this[_0x1200ee(0x844)][_0x1200ee(0x16a)]+_0x1200ee(0x741)+this[_0x1200ee(0x7c6)]),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x34484e;}catch(_0x38994a){let _0x7228f6=_0x1200ee(0x35b),_0x2edc21=_0x38994a instanceof Error?_0x38994a[_0x1200ee(0x5e0)]:typeof _0x38994a==_0x1200ee(0x892)?JSON[_0x1200ee(0x365)](_0x38994a):_0x38994a,_0x1961c4=_0x7228f6+':\x20'+_0x2edc21;throw this['logger'][_0x1200ee(0x16b)](this[_0x1200ee(0x25e)]+'\x20('+this[_0x1200ee(0x844)][_0x1200ee(0x16a)]+_0x1200ee(0x741)+_0x1961c4),new m(_0x1961c4);}}async[a0_0x48e44b(0x6e2)](){const _0x5620c5=a0_0x48e44b;try{let _0x51cfd0=await this[_0x5620c5(0x850)][_0x5620c5(0x161)][_0x5620c5(0x5d3)](this['instance'][_0x5620c5(0x16a)]);return this['AutomateSystem']=_0x51cfd0,_0x51cfd0;}catch(_0x3105a6){let _0x131435=_0x5620c5(0x7fa),_0x6a776e=_0x3105a6 instanceof Error?_0x3105a6[_0x5620c5(0x5e0)]:typeof _0x3105a6==_0x5620c5(0x892)?JSON[_0x5620c5(0x365)](_0x3105a6):_0x3105a6,_0x3bc26b=_0x131435+':\x20'+_0x6a776e;throw this[_0x5620c5(0x470)][_0x5620c5(0x16b)](this[_0x5620c5(0x25e)]+'\x20('+this[_0x5620c5(0x844)][_0x5620c5(0x16a)]+_0x5620c5(0x741)+_0x3bc26b),new m(_0x3bc26b);}}async[a0_0x48e44b(0x2fe)](){const _0x49c5ce=a0_0x48e44b;let _0xd3f184=(await import(_0x49c5ce(0x7a9)))[_0x49c5ce(0x875)];this[_0x49c5ce(0x6e8)]=new _0xd3f184({'concurrency':0x1});}async[a0_0x48e44b(0x17c)](){const _0x1b9b8f=a0_0x48e44b;this[_0x1b9b8f(0x844)][_0x1b9b8f(0x503)][_0x1b9b8f(0x82b)]&&clearTimeout(this[_0x1b9b8f(0x844)][_0x1b9b8f(0x503)]['timeout']),this[_0x1b9b8f(0x844)][_0x1b9b8f(0x503)]['timeout']=setTimeout(()=>{const _0x238fc7=_0x1b9b8f;this[_0x238fc7(0x291)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x31bfbd=a0_0x48e44b;let _0x9f8265=this[_0x31bfbd(0x844)][_0x31bfbd(0x503)][_0x31bfbd(0x565)];(_0x9f8265===0x0||_0x9f8265===null||Date['now']()-_0x9f8265>=0x1d4c0)&&(this['logger'][_0x31bfbd(0x4b1)](this[_0x31bfbd(0x25e)]+'\x20('+this['instance'][_0x31bfbd(0x16a)]+_0x31bfbd(0x1ec)),this[_0x31bfbd(0x844)][_0x31bfbd(0x503)][_0x31bfbd(0x7d9)]=null,this[_0x31bfbd(0x844)]['ScheduleMessage'][_0x31bfbd(0x565)]=0x0,this['instance'][_0x31bfbd(0x503)][_0x31bfbd(0x2dd)]=0x0,await this[_0x31bfbd(0x888)]());}async[a0_0x48e44b(0x888)](){const _0x555e76=a0_0x48e44b;this[_0x555e76(0x470)][_0x555e76(0x1bc)](this[_0x555e76(0x25e)]+'\x20('+this[_0x555e76(0x844)][_0x555e76(0x16a)]+_0x555e76(0x4be)),await this[_0x555e76(0x614)]();let _0x3bd87d=await this['getReadyToSendMessages']();_0x3bd87d[_0x555e76(0x3b4)]>0x0&&(setTimeout(()=>this['checkAndRestartProcess'](),0x14*0x3e8),this[_0x555e76(0x470)]['warn'](this[_0x555e76(0x25e)]+'\x20('+this[_0x555e76(0x844)][_0x555e76(0x16a)]+_0x555e76(0x27d)),this[_0x555e76(0x6e8)]['clear'](),this[_0x555e76(0x6e8)][_0x555e76(0x234)](()=>this[_0x555e76(0x404)](_0x3bd87d)));let _0x1be839={'where':{'status':_0x555e76(0x60b),'when':{'$gt':Date[_0x555e76(0x23c)]()}}},_0x31162c=await this[_0x555e76(0x850)][_0x555e76(0x1e6)]['findOne'](_0x1be839,this['instance']['wuid']);_0x31162c&&_0x31162c[_0x555e76(0x74b)]-Date[_0x555e76(0x23c)]()<=0x6ddd00?this[_0x555e76(0x844)][_0x555e76(0x503)][_0x555e76(0x2dd)]=_0x31162c[_0x555e76(0x74b)]-Date[_0x555e76(0x23c)]():this[_0x555e76(0x844)][_0x555e76(0x503)]['delayMessage']=(0x3c+Math[_0x555e76(0x451)](Math[_0x555e76(0x68a)]()*0x3c))*0x3c*0x3e8,this[_0x555e76(0x844)][_0x555e76(0x503)][_0x555e76(0x2dd)]=Math[_0x555e76(0x56b)](this[_0x555e76(0x844)][_0x555e76(0x503)][_0x555e76(0x2dd)],0x1*0x2*0x3e8);let _0x2d4a29=Math[_0x555e76(0x8a3)](this[_0x555e76(0x844)][_0x555e76(0x503)][_0x555e76(0x2dd)]/0xea60);if(_0x31162c){let _0x4336a3=new Date(_0x31162c['when'])['toLocaleString']();this[_0x555e76(0x470)][_0x555e76(0x1bc)](this[_0x555e76(0x25e)]+'\x20('+this[_0x555e76(0x844)][_0x555e76(0x16a)]+_0x555e76(0x795)+_0x4336a3+_0x555e76(0x533)+_0x2d4a29+_0x555e76(0x246));}else this[_0x555e76(0x470)][_0x555e76(0x1bc)](this[_0x555e76(0x25e)]+'\x20('+this['instance'][_0x555e76(0x16a)]+_0x555e76(0x5a7)+_0x2d4a29+_0x555e76(0x246));setTimeout(()=>{const _0x43b53b=_0x555e76;this[_0x43b53b(0x888)]();},this[_0x555e76(0x844)][_0x555e76(0x503)]['delayMessage']);}async[a0_0x48e44b(0x474)](){const _0x49be33=a0_0x48e44b;this[_0x49be33(0x470)][_0x49be33(0x1bc)](this[_0x49be33(0x25e)]+'\x20('+this['instance'][_0x49be33(0x16a)]+_0x49be33(0x5df));let _0x2051e7=Date[_0x49be33(0x23c)]()-0xc*0x3c*0x3c*0x3e8,_0x4d72c8={'where':{'status':{'$in':[_0x49be33(0x60b),_0x49be33(0x588)]},'$or':[{'when':{'$lte':Date[_0x49be33(0x23c)](),'$gte':_0x2051e7}},{'when':0x0}]}},_0x7df024=await this[_0x49be33(0x850)][_0x49be33(0x1e6)][_0x49be33(0x1ae)](_0x4d72c8,this[_0x49be33(0x844)][_0x49be33(0x16a)]);return this[_0x49be33(0x470)][_0x49be33(0x1bc)](this[_0x49be33(0x25e)]+'\x20('+this[_0x49be33(0x844)][_0x49be33(0x16a)]+_0x49be33(0x789)+_0x7df024[_0x49be33(0x3b4)]),_0x7df024;}async['processReadyMessages'](_0x39eb04){const _0x54b438=a0_0x48e44b;this[_0x54b438(0x470)][_0x54b438(0x1bc)](this['instanceName']+'\x20('+this[_0x54b438(0x844)][_0x54b438(0x16a)]+_0x54b438(0x40d));let _0x2ca49c=0x3*0x3e8,_0x2eb14c=0x8*0x3e8,_0x52ba88=Math['floor'](Math[_0x54b438(0x68a)]()*(_0x2eb14c-_0x2ca49c+0x1))+_0x2ca49c,_0x2debe1=()=>this['pendingMessages']['length']===0x0?null:this[_0x54b438(0x1eb)][_0x54b438(0x7ac)]((_0x3d22c7,_0x13ea30)=>(_0x3d22c7[_0x54b438(0x1e2)]??Number[_0x54b438(0x394)])<(_0x13ea30[_0x54b438(0x1e2)]??Number['MAX_SAFE_INTEGER'])?_0x3d22c7:_0x13ea30,this[_0x54b438(0x1eb)][0x0]);_0x39eb04=await this[_0x54b438(0x474)]();for(let _0x236e86 of _0x39eb04){await this[_0x54b438(0x17c)]();let _0x5923e3=0x3*0x3e8,_0x416ab2={'_id':_0x236e86[_0x54b438(0x477)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x54b438(0x23c)]()-_0x5923e3}}]},_0x5894e4={'startSend':Date[_0x54b438(0x23c)](),'status':_0x54b438(0x588)},_0x2c9f17=await this[_0x54b438(0x850)]['scheduleMessage']['updateOne'](_0x416ab2,_0x5894e4,this[_0x54b438(0x844)][_0x54b438(0x16a)]);if(this[_0x54b438(0x1eb)]=_0x2c9f17[_0x54b438(0x7ff)]['filter'](_0x2074ae=>!_0x2074ae[_0x54b438(0x3af)]),!_0x2c9f17){setTimeout(()=>this[_0x54b438(0x291)](),0xa*0x3e8);continue;}if(this[_0x54b438(0x844)][_0x54b438(0x503)][_0x54b438(0x7d9)]=_0x2c9f17,!this[_0x54b438(0x844)]['ScheduleMessage'][_0x54b438(0x58f)]){this[_0x54b438(0x470)][_0x54b438(0x1bc)](this[_0x54b438(0x25e)]+'\x20('+this['instance']['wuid']+_0x54b438(0x3e5));break;}for(;this[_0x54b438(0x1eb)][_0x54b438(0x3b4)]>0x0;){await this[_0x54b438(0x17c)]();let _0x3caaa0=_0x2debe1();if(!_0x3caaa0)break;let _0x4a9178=_0x236e86[_0x54b438(0x7ff)][_0x54b438(0x1ae)](_0x514f18=>_0x514f18[_0x54b438(0x477)]===_0x3caaa0[_0x54b438(0x477)]);if(!_0x4a9178)break;if(this[_0x54b438(0x844)][_0x54b438(0x503)][_0x54b438(0x565)]=Date['now'](),_0x4a9178[_0x54b438(0x3af)]){this['logger'][_0x54b438(0x1bc)](this[_0x54b438(0x25e)]+'\x20('+this[_0x54b438(0x844)][_0x54b438(0x16a)]+_0x54b438(0x60e)+_0x4a9178[_0x54b438(0x713)]+_0x54b438(0x896)),this[_0x54b438(0x1eb)]=this['pendingMessages']['filter'](_0x4d2499=>_0x4d2499['_id']!==_0x4a9178['_id']);continue;}if(!this[_0x54b438(0x844)]['ScheduleMessage'][_0x54b438(0x58f)]){this[_0x54b438(0x470)][_0x54b438(0x1bc)](this[_0x54b438(0x25e)]+'\x20('+this[_0x54b438(0x844)][_0x54b438(0x16a)]+_0x54b438(0x59f));break;}if(!this['instance'][_0x54b438(0x503)][_0x54b438(0x7d9)]){this[_0x54b438(0x470)][_0x54b438(0x1bc)](this[_0x54b438(0x25e)]+'\x20('+this['instance']['wuid']+_0x54b438(0x76c)+_0x236e86[_0x54b438(0x477)]+_0x54b438(0x8a8));break;}let _0x2a9b04={'idControl':_0x4a9178['_id'],'remoteJid':_0x4a9178[_0x54b438(0x713)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x54b438(0x23c)]()},_0x612c89=null;try{this[_0x54b438(0x470)]['warn'](this['instanceName']+'\x20('+this['instance'][_0x54b438(0x16a)]+_0x54b438(0x433)+_0x4a9178['remoteJid']);let _0x81a4e8=await Promise[_0x54b438(0x481)]([this[_0x54b438(0x846)](_0x4a9178[_0x54b438(0x713)],_0x4a9178),this['timeoutPromise'](0x78*0x3e8)]);_0x2a9b04['error']=_0x81a4e8[_0x54b438(0x16b)],_0x2a9b04['id']=_0x81a4e8[_0x54b438(0x16b)]?null:_0x81a4e8['id'],_0x2a9b04[_0x54b438(0x4b6)]=_0x81a4e8['error']?_0x81a4e8[_0x54b438(0x2df)]?_0x81a4e8['detail'][_0x54b438(0x691)]():'':null;let _0x30d3a2=_0x236e86[_0x54b438(0x7ff)][_0x54b438(0x49b)](_0x1c4e74=>_0x1c4e74[_0x54b438(0x477)]===_0x4a9178['_id']);_0x30d3a2!==-0x1&&(_0x236e86[_0x54b438(0x7ff)][_0x30d3a2][_0x54b438(0x3af)]=!0x0);let _0x443050={'$push':{'messagesSend':_0x2a9b04},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x119a71=[{'elem._id':_0x4a9178[_0x54b438(0x477)]}];if(this[_0x54b438(0x470)][_0x54b438(0x1bc)](this[_0x54b438(0x25e)]+'\x20('+this[_0x54b438(0x844)][_0x54b438(0x16a)]+_0x54b438(0x808)+_0x4a9178['_id']),_0x612c89=await this[_0x54b438(0x850)]['scheduleMessage'][_0x54b438(0x7b8)]({'_id':_0x236e86['_id']},_0x443050,this['instance'][_0x54b438(0x16a)],{'arrayFilters':_0x119a71}),_0x81a4e8['error']){this[_0x54b438(0x470)][_0x54b438(0x16b)](this['instanceName']+'\x20('+this[_0x54b438(0x844)][_0x54b438(0x16a)]+'):\x20Erro\x20ao\x20enviar\x20mensagem:\x20'+_0x81a4e8[_0x54b438(0x2df)]);continue;}let _0x52830f=this[_0x54b438(0x269)](_0x236e86[_0x54b438(0x43e)],_0x236e86[_0x54b438(0x520)]);await this[_0x54b438(0x5bd)](_0x52830f);}catch(_0x538fa3){this[_0x54b438(0x470)]['error'](this[_0x54b438(0x25e)]+'\x20('+this[_0x54b438(0x844)][_0x54b438(0x16a)]+_0x54b438(0x1d2)+_0x4a9178[_0x54b438(0x713)]+':\x20'+(_0x538fa3 instanceof Error?_0x538fa3['message']:JSON['stringify'](_0x538fa3,null,0x2))),_0x2a9b04[_0x54b438(0x16b)]=!0x0,_0x2a9b04[_0x54b438(0x4b6)]=_0x538fa3[_0x54b438(0x5e0)];let _0x36966a=_0x236e86[_0x54b438(0x7ff)][_0x54b438(0x49b)](_0x481b8f=>_0x481b8f[_0x54b438(0x477)]===_0x4a9178[_0x54b438(0x477)]);_0x36966a!==-0x1&&(_0x236e86[_0x54b438(0x7ff)][_0x36966a][_0x54b438(0x3af)]=!0x0);let _0x6cdd65={'$push':{'messagesSend':_0x2a9b04},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x3a9c02=[{'elem._id':_0x4a9178[_0x54b438(0x477)]}];this[_0x54b438(0x470)][_0x54b438(0x1bc)](this[_0x54b438(0x25e)]+'\x20('+this[_0x54b438(0x844)][_0x54b438(0x16a)]+_0x54b438(0x6cb)+_0x4a9178[_0x54b438(0x477)]),_0x612c89=await this['repository'][_0x54b438(0x1e6)][_0x54b438(0x7b8)]({'_id':_0x236e86[_0x54b438(0x477)]},_0x6cdd65,this[_0x54b438(0x844)]['wuid'],{'arrayFilters':_0x3a9c02});}finally{if(_0x612c89&&_0x612c89['status']===_0x54b438(0x303)){this['logger'][_0x54b438(0x1bc)](this['instanceName']+'\x20('+this['instance'][_0x54b438(0x16a)]+_0x54b438(0x76c)+_0x4a9178['_id']+_0x54b438(0x5d1));break;}let _0x57ddd7=_0x612c89[_0x54b438(0x7ff)][_0x54b438(0x1ae)](_0x3da63a=>_0x3da63a[_0x54b438(0x477)]===_0x4a9178[_0x54b438(0x477)]);if(_0x57ddd7&&!_0x57ddd7[_0x54b438(0x3af)]){let _0xb22cb5={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x2f726a=[{'elem._id':_0x4a9178[_0x54b438(0x477)]}];await this[_0x54b438(0x850)][_0x54b438(0x1e6)]['updateOne']({'_id':_0x612c89[_0x54b438(0x477)]},_0xb22cb5,this[_0x54b438(0x844)][_0x54b438(0x16a)],{'arrayFilters':_0x2f726a});}if(this['pendingMessages']=_0x612c89[_0x54b438(0x7ff)][_0x54b438(0x20c)](_0x1af3f2=>!_0x1af3f2['triedToSend']),!this[_0x54b438(0x844)][_0x54b438(0x503)][_0x54b438(0x7d9)]){await this[_0x54b438(0x17c)](),this[_0x54b438(0x470)][_0x54b438(0x1bc)](this['instanceName']+'\x20('+this[_0x54b438(0x844)][_0x54b438(0x16a)]+_0x54b438(0x76c)+_0x236e86[_0x54b438(0x477)]+_0x54b438(0x8a8));break;}}}this['pendingMessages']=[];let _0xc9de17=await this[_0x54b438(0x850)]['scheduleMessage'][_0x54b438(0x4c0)](_0x236e86[_0x54b438(0x477)],this[_0x54b438(0x844)][_0x54b438(0x16a)]);if(_0xc9de17['messages'][_0x54b438(0x64d)](_0xbf0395=>_0xbf0395[_0x54b438(0x3af)])&&_0xc9de17[_0x54b438(0x485)]!==_0x54b438(0x303)){let _0x2de3a9={'$set':{'status':_0x54b438(0x4c5)}};await this['repository'][_0x54b438(0x1e6)]['updateOneById'](_0xc9de17[_0x54b438(0x477)],_0x2de3a9,this[_0x54b438(0x844)][_0x54b438(0x16a)]);}await new Promise(_0x440365=>setTimeout(_0x440365,_0x52ba88)),global['gc']?global['gc']():console[_0x54b438(0x1bc)](_0x54b438(0x718));}}[a0_0x48e44b(0x302)](_0x23584){const _0x252125=a0_0x48e44b;return new Promise((_0x34effc,_0x429daf)=>setTimeout(()=>_0x429daf(new Error(_0x252125(0x688))),_0x23584));}['getDelay'](_0x5404e4,_0x45e0b3){const _0x21c99e=a0_0x48e44b;return _0x5404e4=Math['max'](0.5,_0x5404e4),_0x45e0b3=Math[_0x21c99e(0x683)](Math['max'](0x3,_0x45e0b3),0x78),Math[_0x21c99e(0x451)](Math[_0x21c99e(0x68a)]()*(_0x45e0b3-_0x5404e4+0x1)+_0x5404e4)*0x3e8;}[a0_0x48e44b(0x5bd)](_0x20ebdd){return new Promise(_0x4b39dc=>setTimeout(_0x4b39dc,_0x20ebdd));}async[a0_0x48e44b(0x4c9)](_0x2f4433){const _0x3fe5fa=a0_0x48e44b;if(!this[_0x3fe5fa(0x7c6)]&&(await this['getAutomateSystem'](),!this[_0x3fe5fa(0x7c6)]))return null;_0x2f4433=this['createJid'](_0x2f4433);let _0x48c7c1=await this[_0x3fe5fa(0x850)][_0x3fe5fa(0x176)][_0x3fe5fa(0x715)]({'where':{'_id':_0x2f4433}},this[_0x3fe5fa(0x844)][_0x3fe5fa(0x16a)]),_0x2ee430={};if(_0x48c7c1&&_0x48c7c1[_0x3fe5fa(0x837)]){let _0x258eb8=_0x48c7c1[_0x3fe5fa(0x837)];typeof _0x258eb8[_0x3fe5fa(0x2ed)]==_0x3fe5fa(0x292)&&(_0x2ee430[_0x3fe5fa(0x2ed)]=_0x258eb8[_0x3fe5fa(0x2ed)]),typeof _0x258eb8[_0x3fe5fa(0x436)]==_0x3fe5fa(0x292)&&(_0x2ee430[_0x3fe5fa(0x436)]=_0x258eb8[_0x3fe5fa(0x436)]),typeof _0x258eb8[_0x3fe5fa(0x2bf)]==_0x3fe5fa(0x292)&&(_0x2ee430[_0x3fe5fa(0x2bf)]=_0x258eb8[_0x3fe5fa(0x2bf)]),typeof _0x258eb8['cpf']=='string'&&(_0x2ee430[_0x3fe5fa(0x5b6)]=_0x258eb8[_0x3fe5fa(0x5b6)]),typeof _0x258eb8[_0x3fe5fa(0x485)]=='string'&&(_0x2ee430[_0x3fe5fa(0x485)]=_0x258eb8[_0x3fe5fa(0x485)]),typeof _0x258eb8[_0x3fe5fa(0x396)]==_0x3fe5fa(0x292)&&(_0x2ee430[_0x3fe5fa(0x396)]=_0x258eb8['notas']),typeof _0x258eb8[_0x3fe5fa(0x57d)]==_0x3fe5fa(0x292)&&(_0x2ee430[_0x3fe5fa(0x57d)]=_0x258eb8[_0x3fe5fa(0x57d)]),Array[_0x3fe5fa(0x59d)](_0x258eb8[_0x3fe5fa(0x814)])&&(_0x2ee430['tags']=_0x258eb8[_0x3fe5fa(0x814)]['join'](',\x20')),Array[_0x3fe5fa(0x59d)](_0x258eb8['etiquetas'])&&(_0x2ee430['etiquetas']=_0x258eb8['etiquetas'][_0x3fe5fa(0x739)](',\x20'));}return _0x48c7c1&&_0x48c7c1['leadInfo']&&_0x48c7c1[_0x3fe5fa(0x837)]['customFields']&&_0x48c7c1['leadInfo'][_0x3fe5fa(0x3bb)][_0x3fe5fa(0x3f6)](_0x47f204=>{const _0x2327e7=_0x3fe5fa;let _0x423371=this['AutomateSystem']?.[_0x2327e7(0x3bb)]['find'](_0x435a6b=>_0x435a6b[_0x2327e7(0x477)]===_0x47f204[_0x2327e7(0x477)]);_0x423371&&(_0x2ee430[_0x423371['name']]=_0x47f204[_0x2327e7(0x834)]);}),_0x2ee430;}async[a0_0x48e44b(0x781)](_0x2777b5,_0x2a7913){const _0x1a6656=a0_0x48e44b;try{let _0x5a1504=await this[_0x1a6656(0x4c9)](_0x2a7913);return this[_0x1a6656(0x802)](_0x2777b5,_0x5a1504);}catch(_0xc769d6){return this[_0x1a6656(0x470)]['error'](_0x1a6656(0x8c3)+_0x2a7913+':\x20'+_0xc769d6),_0x2777b5;}}async[a0_0x48e44b(0x614)](){const _0x43d4e7=a0_0x48e44b;let _0x487dc7=async(_0x44261d,_0x59107a)=>{const _0x13e4db=a0_0x43f2;let _0x49b593=(await this[_0x13e4db(0x850)]['scheduleMessage'][_0x13e4db(0x1ae)]({'where':{'type':_0x44261d}},this[_0x13e4db(0x844)][_0x13e4db(0x16a)]))[_0x13e4db(0x3ad)](async _0x2e63d2=>{const _0x902a82=_0x13e4db;let _0x5bfc8d=_0x59107a(_0x2e63d2),_0x20ae39=_0x596d90=>/^\d+$/[_0x902a82(0x867)](_0x596d90),_0x1ecaa9=_0x2e63d2[_0x902a82(0x7ba)][_0x902a82(0x20c)](_0x46ea03=>_0x46ea03[_0x902a82(0x5b8)]('@s.whatsapp.net')?_0x46ea03[_0x902a82(0x3b4)]>0x19:_0x46ea03[_0x902a82(0x5b8)](_0x902a82(0x4cd))?_0x46ea03[_0x902a82(0x3b4)]>0xf:_0x20ae39(_0x46ea03)?_0x46ea03['length']>=0xb:!0x1)[_0x902a82(0x3ad)](_0xc67bf9=>({'_id':(0x0,Y['v4'])(),'idSchedule':_0x2e63d2['_id'],'type':_0x5bfc8d,'remoteJid':_0xc67bf9,'flow':_0x2e63d2[_0x902a82(0x3cd)],'text':_0x2e63d2[_0x902a82(0x5e0)]?.[_0x902a82(0x1de)],'delay':_0x2e63d2[_0x902a82(0x5e0)]?.[_0x902a82(0x3d3)],'urlOrBase64':_0x2e63d2['message']?.[_0x902a82(0x4d3)],'linkPreview':_0x2e63d2[_0x902a82(0x5e0)]?.[_0x902a82(0x62d)],'fileName':_0x2e63d2[_0x902a82(0x5e0)]?.[_0x902a82(0x3ca)],'triedToSend':!0x1,'messagesSend':[]}));try{await this['repository']['scheduleMessage'][_0x902a82(0x57c)](_0x2e63d2[_0x902a82(0x477)],{'$set':{'messages':_0x1ecaa9},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x902a82(0x844)][_0x902a82(0x16a)]);}catch(_0x1a73d9){console[_0x902a82(0x16b)]('Erro\x20ao\x20atualizar\x20agendamento\x20'+_0x2e63d2['_id']+':',_0x1a73d9);}});await Promise[_0x13e4db(0x877)](_0x49b593);};await _0x487dc7('text',_0x290dd4=>_0x43d4e7(0x1de)),await _0x487dc7(_0x43d4e7(0x4b3),_0x1807af=>_0x1807af[_0x43d4e7(0x5e0)]?.['mediatype']||_0x43d4e7(0x4b3)),await _0x487dc7(_0x43d4e7(0x6de),_0x213639=>'audio'),await _0x487dc7(_0x43d4e7(0x251),_0x47ed41=>_0x43d4e7(0x251)),await _0x487dc7(_0x43d4e7(0x305),_0x48f39d=>_0x43d4e7(0x305)),await _0x487dc7('video',_0x3ebace=>_0x43d4e7(0x56a)),await _0x487dc7(_0x43d4e7(0x44e),_0x2e1ae5=>_0x43d4e7(0x44e)),this[_0x43d4e7(0x470)][_0x43d4e7(0x1bc)](this[_0x43d4e7(0x25e)]+'\x20('+this[_0x43d4e7(0x844)][_0x43d4e7(0x16a)]+'):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!');}async['editScheduleMessage'](_0x4b8f43){const _0x56ad70=a0_0x48e44b;try{if(this['logger'][_0x56ad70(0x1bc)](this[_0x56ad70(0x25e)]+'\x20('+this[_0x56ad70(0x844)][_0x56ad70(0x16a)]+_0x56ad70(0x301)),_0x4b8f43[_0x56ad70(0x477)]||(_0x4b8f43[_0x56ad70(0x477)]=(0x0,Y['v4'])()),this[_0x56ad70(0x844)]['ScheduleMessage'][_0x56ad70(0x7d9)]?.[_0x56ad70(0x477)]===_0x4b8f43[_0x56ad70(0x477)]?.[_0x56ad70(0x691)]()){if(_0x4b8f43[_0x56ad70(0x485)]===_0x56ad70(0x303))this[_0x56ad70(0x844)][_0x56ad70(0x503)][_0x56ad70(0x7d9)]=null;else throw new Error(_0x56ad70(0x17b));}if(_0x4b8f43[_0x56ad70(0x6a5)]&&_0x4b8f43[_0x56ad70(0x477)]){let _0x237eb2=await this[_0x56ad70(0x850)][_0x56ad70(0x1e6)][_0x56ad70(0x5ba)](_0x4b8f43[_0x56ad70(0x477)],this[_0x56ad70(0x844)][_0x56ad70(0x16a)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x237eb2;}let _0xa53799=null;if(_0x4b8f43[_0x56ad70(0x477)]&&(_0xa53799=await this[_0x56ad70(0x850)]['scheduleMessage'][_0x56ad70(0x4c0)](_0x4b8f43[_0x56ad70(0x477)],this[_0x56ad70(0x844)][_0x56ad70(0x16a)])),_0xa53799){let {_id:_0x3bb599,owner:_0x4d252c,messages:_0x238481,..._0x183559}=_0x4b8f43;if(_0x238481){let _0x5c0aca=_0x238481[_0x56ad70(0x20c)](_0x487a3a=>!_0x487a3a['_id']),_0x2c281a=_0x238481[_0x56ad70(0x20c)](_0x581a85=>_0x581a85[_0x56ad70(0x477)]&&!_0x581a85['delete']),_0x4466b9=_0x238481[_0x56ad70(0x20c)](_0x29b8ce=>_0x29b8ce[_0x56ad70(0x477)]&&_0x29b8ce['delete']);if(_0x5c0aca['length']>0x0&&await this[_0x56ad70(0x3b0)](_0x4b8f43[_0x56ad70(0x477)],_0x5c0aca),_0x2c281a[_0x56ad70(0x3b4)]>0x0&&await this[_0x56ad70(0x534)]({'_id':_0x4b8f43['_id'],'messages':_0x2c281a}),_0x4466b9['length']>0x0){let _0x3c65e9=_0x4466b9[_0x56ad70(0x3ad)](_0x27d5e2=>({'updateOne':{'filter':{'_id':_0x4b8f43['_id']},'update':{'$pull':{'messages':{'_id':_0x27d5e2[_0x56ad70(0x477)]}}}}}));await this[_0x56ad70(0x850)][_0x56ad70(0x1e6)][_0x56ad70(0x388)](_0x3c65e9,this['instance'][_0x56ad70(0x16a)]);}}let _0x534022={'$set':{..._0x183559,'status':_0x4b8f43[_0x56ad70(0x485)]||_0xa53799[_0x56ad70(0x485)]}},_0xa289a6=await this[_0x56ad70(0x850)]['scheduleMessage'][_0x56ad70(0x57c)](_0x4b8f43[_0x56ad70(0x477)],_0x534022,this[_0x56ad70(0x844)][_0x56ad70(0x16a)]);return _0xa289a6&&(this[_0x56ad70(0x6e4)](_0xa289a6['messages']),await this['repository']['scheduleMessage']['updateOneById'](_0xa289a6[_0x56ad70(0x477)],{'$set':{'messages':_0xa289a6['messages']}},this[_0x56ad70(0x844)][_0x56ad70(0x16a)])),setTimeout(()=>this[_0x56ad70(0x888)](),0x7d0),await this[_0x56ad70(0x614)](),_0xa289a6;}else{_0x4b8f43[_0x56ad70(0x4d0)]=this[_0x56ad70(0x844)][_0x56ad70(0x16a)],_0x4b8f43['messages']&&_0x4b8f43[_0x56ad70(0x7ff)][_0x56ad70(0x3f6)](_0x5b0dc7=>{const _0x1fb659=_0x56ad70;_0x5b0dc7['_id']||(_0x5b0dc7[_0x1fb659(0x477)]=(0x0,Y['v4'])()),_0x5b0dc7[_0x1fb659(0x1a4)]||(_0x5b0dc7[_0x1fb659(0x1a4)]=_0x4b8f43[_0x1fb659(0x477)]),delete _0x5b0dc7['triedToSend'];});let _0x605a61=await this[_0x56ad70(0x850)][_0x56ad70(0x1e6)][_0x56ad70(0x5be)](_0x4b8f43,this['instance'][_0x56ad70(0x16a)]);return _0x605a61&&(this['reorderMessages'](_0x605a61['messages']),await this[_0x56ad70(0x850)][_0x56ad70(0x1e6)][_0x56ad70(0x57c)](_0x605a61['_id'],{'$set':{'messages':_0x605a61['messages']}},this[_0x56ad70(0x844)][_0x56ad70(0x16a)])),setTimeout(()=>this[_0x56ad70(0x888)](),0x7d0),_0x605a61;}}catch(_0x5d6907){let _0x464c0f=_0x56ad70(0x49c),_0x538502=_0x5d6907 instanceof Error?_0x5d6907[_0x56ad70(0x5e0)]:typeof _0x5d6907=='object'?JSON['stringify'](_0x5d6907):_0x5d6907,_0x5ef907=_0x464c0f+':\x20'+_0x538502;throw this[_0x56ad70(0x470)][_0x56ad70(0x16b)](this[_0x56ad70(0x25e)]+'\x20('+this['instance']['wuid']+_0x56ad70(0x741)+_0x5ef907),new m(_0x5ef907);}}async[a0_0x48e44b(0x3b0)](_0x2955e6,_0x3edb23){const _0x513f73=a0_0x48e44b;try{this[_0x513f73(0x470)][_0x513f73(0x4b1)](this[_0x513f73(0x25e)]+'\x20('+this[_0x513f73(0x844)]['wuid']+_0x513f73(0x330)),_0x3edb23[_0x513f73(0x3f6)](_0x43db77=>{const _0x564063=_0x513f73;_0x43db77['_id']||(_0x43db77[_0x564063(0x477)]=(0x0,Y['v4'])()),_0x43db77[_0x564063(0x1a4)]||(_0x43db77[_0x564063(0x1a4)]=_0x2955e6),delete _0x43db77['triedToSend'];});let _0x49d871={'$push':{'messages':{'$each':_0x3edb23}}},_0x5d9255=await this[_0x513f73(0x850)][_0x513f73(0x1e6)][_0x513f73(0x57c)](_0x2955e6,_0x49d871,this[_0x513f73(0x844)][_0x513f73(0x16a)]);return _0x5d9255&&(this[_0x513f73(0x6e4)](_0x5d9255[_0x513f73(0x7ff)]),await this[_0x513f73(0x850)]['scheduleMessage'][_0x513f73(0x57c)](_0x5d9255[_0x513f73(0x477)],{'$set':{'messages':_0x5d9255[_0x513f73(0x7ff)]}},this['instance']['wuid'])),_0x5d9255;}catch(_0x25577d){let _0x3eed61=_0x513f73(0x402),_0x1e5236=_0x25577d instanceof Error?_0x25577d[_0x513f73(0x5e0)]:typeof _0x25577d==_0x513f73(0x892)?JSON['stringify'](_0x25577d):_0x25577d,_0x15c3a7=_0x3eed61+':\x20'+_0x1e5236;throw this[_0x513f73(0x470)][_0x513f73(0x16b)](this['instanceName']+'\x20('+this[_0x513f73(0x844)][_0x513f73(0x16a)]+_0x513f73(0x741)+_0x15c3a7),new m(_0x15c3a7);}}async['editMessagesInGroup'](_0x5da1b6){const _0x2a8ba9=a0_0x48e44b;try{if(this[_0x2a8ba9(0x470)][_0x2a8ba9(0x4b1)](this[_0x2a8ba9(0x25e)]+'\x20('+this[_0x2a8ba9(0x844)][_0x2a8ba9(0x16a)]+_0x2a8ba9(0x2bc)),!_0x5da1b6[_0x2a8ba9(0x477)]||!_0x5da1b6[_0x2a8ba9(0x7ff)])throw new Error(_0x2a8ba9(0x5d8));let _0x76de4f=_0x5da1b6[_0x2a8ba9(0x477)],_0x4fa854=_0x5da1b6[_0x2a8ba9(0x7ff)],_0x4f43b5=_0x4fa854[_0x2a8ba9(0x20c)](_0x4013c0=>!_0x4013c0[_0x2a8ba9(0x6a5)])[_0x2a8ba9(0x3ad)](_0x562769=>{const _0x1e0454=_0x2a8ba9;let _0x1016a9=_0x562769[_0x1e0454(0x477)];if(!_0x1016a9)throw new Error(_0x1e0454(0x761));return _0x562769['idSchedule']||(_0x562769[_0x1e0454(0x1a4)]=_0x76de4f),delete _0x562769[_0x1e0454(0x3af)],{'updateOne':{'filter':{'_id':_0x76de4f,'messages._id':_0x1016a9},'update':{'$set':{'messages.$[elem]':_0x562769}},'arrayFilters':[{'elem._id':_0x1016a9}]}};}),_0x3683c2=_0x4fa854['filter'](_0x118aa1=>_0x118aa1[_0x2a8ba9(0x6a5)])['map'](_0x20134b=>{const _0x4e506b=_0x2a8ba9;let _0x1a552a=_0x20134b[_0x4e506b(0x477)];if(!_0x1a552a)throw new Error('Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.');return{'updateOne':{'filter':{'_id':_0x76de4f},'update':{'$pull':{'messages':{'_id':_0x1a552a}}}}};}),_0x51a357=[..._0x4f43b5,..._0x3683c2],_0x349745=await this[_0x2a8ba9(0x850)]['scheduleMessage']['bulkWrite'](_0x51a357,this[_0x2a8ba9(0x844)][_0x2a8ba9(0x16a)]),_0x4d497a=await this[_0x2a8ba9(0x850)][_0x2a8ba9(0x1e6)][_0x2a8ba9(0x4c0)](_0x76de4f,this[_0x2a8ba9(0x844)][_0x2a8ba9(0x16a)]);return _0x4d497a&&(this['reorderMessages'](_0x4d497a['messages']),await this[_0x2a8ba9(0x850)][_0x2a8ba9(0x1e6)][_0x2a8ba9(0x57c)](_0x4d497a[_0x2a8ba9(0x477)],{'$set':{'messages':_0x4d497a[_0x2a8ba9(0x7ff)]}},this[_0x2a8ba9(0x844)][_0x2a8ba9(0x16a)])),_0x4d497a;}catch(_0x503586){let _0x832025='Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo',_0x2841f2=_0x503586 instanceof Error?_0x503586[_0x2a8ba9(0x5e0)]:typeof _0x503586==_0x2a8ba9(0x892)?JSON[_0x2a8ba9(0x365)](_0x503586):_0x503586,_0x4ea3d4=_0x832025+':\x20'+_0x2841f2;throw this['logger'][_0x2a8ba9(0x16b)](this['instanceName']+'\x20('+this['instance'][_0x2a8ba9(0x16a)]+'):\x20'+_0x4ea3d4),new m(_0x4ea3d4);}}async[a0_0x48e44b(0x3c2)](){const _0x36c906=a0_0x48e44b;try{let _0x48dc05={'status':_0x36c906(0x4c5)},_0x42ead2=await this[_0x36c906(0x850)][_0x36c906(0x1e6)]['deleteMany'](_0x48dc05,this[_0x36c906(0x844)]['wuid']);if(!_0x42ead2[_0x36c906(0x16b)])this['logger'][_0x36c906(0x4b1)](this['instanceName']+'\x20('+this[_0x36c906(0x844)][_0x36c906(0x16a)]+_0x36c906(0x1a1));else throw new Error(_0x42ead2[_0x36c906(0x16b)][_0x36c906(0x5e0)]||_0x36c906(0x371));return this[_0x36c906(0x497)]();}catch(_0x4258ec){let _0x413096=_0x36c906(0x6dd),_0x5255c5=_0x4258ec instanceof Error?_0x4258ec[_0x36c906(0x5e0)]:typeof _0x4258ec==_0x36c906(0x892)?JSON[_0x36c906(0x365)](_0x4258ec):_0x4258ec,_0x3c411f=_0x413096+':\x20'+_0x5255c5;throw this[_0x36c906(0x470)][_0x36c906(0x16b)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x36c906(0x741)+_0x3c411f),new m(_0x3c411f);}}async[a0_0x48e44b(0x497)](){const _0x185af5=a0_0x48e44b;try{return await this[_0x185af5(0x850)][_0x185af5(0x1e6)][_0x185af5(0x1ae)]({'where':{}},this['instance']['wuid']);}catch(_0x22e27f){let _0x4e06f3=_0x185af5(0x6c6),_0x6ea9c3=_0x22e27f instanceof Error?_0x22e27f[_0x185af5(0x5e0)]:typeof _0x22e27f==_0x185af5(0x892)?JSON[_0x185af5(0x365)](_0x22e27f):_0x22e27f,_0x19ffc2=_0x4e06f3+':\x20'+_0x6ea9c3;throw this[_0x185af5(0x470)][_0x185af5(0x16b)](this[_0x185af5(0x25e)]+'\x20('+this[_0x185af5(0x844)][_0x185af5(0x16a)]+_0x185af5(0x741)+_0x19ffc2),new m(_0x19ffc2);}}['reorderMessages'](_0x1791b7){const _0x4988f2=a0_0x48e44b;_0x1791b7[_0x4988f2(0x59e)]((_0x466519,_0x1b54e4)=>_0x466519['order']-_0x1b54e4[_0x4988f2(0x1e2)]),_0x1791b7[_0x4988f2(0x3f6)]((_0x2b1ef8,_0x18b413)=>{const _0x284443=_0x4988f2;_0x2b1ef8[_0x284443(0x1e2)]=_0x18b413+0x1;});}async['SendScheduleMessage'](_0x861b3a,_0x5e8608){const _0xae477=a0_0x48e44b;try{if(!_0x5e8608)return this[_0xae477(0x470)]['error'](this[_0xae477(0x25e)]+'\x20('+this['instance'][_0xae477(0x16a)]+_0xae477(0x500)),{'error':!0x0,'detail':'Nenhuma\x20mensagem\x20encontrada\x20para\x20envio'};if(_0x5e8608[_0xae477(0x418)]===_0xae477(0x251)&&!this[_0xae477(0x7c6)]?.[_0xae477(0x2e1)][_0xae477(0x528)])return this[_0xae477(0x470)]['error'](this[_0xae477(0x25e)]+'\x20('+this[_0xae477(0x844)]['wuid']+_0xae477(0x358)),{'error':!0x0,'detail':_0xae477(0x1fd)};switch(_0x5e8608[_0xae477(0x418)]){case _0xae477(0x1de):return await this[_0xae477(0x560)](_0x5e8608,_0x861b3a);case _0xae477(0x56a):case _0xae477(0x305):case'document':return await this[_0xae477(0x14a)](_0x5e8608,_0x861b3a);case _0xae477(0x6de):return await this['scheduleSendAudio'](_0x5e8608,_0x861b3a);case'flow':let _0x118b66=new We();return _0x118b66[_0xae477(0x5ff)]=_0x5e8608[_0xae477(0x251)],_0x118b66['remoteJid']=_0x861b3a,await this[_0xae477(0x582)](_0x118b66);default:return this['logger'][_0xae477(0x16b)](this[_0xae477(0x25e)]+'\x20('+this[_0xae477(0x844)][_0xae477(0x16a)]+_0xae477(0x66f)+_0x5e8608[_0xae477(0x418)]),{'error':!0x0,'detail':_0xae477(0x4b8)};}}catch(_0x39a508){return this[_0xae477(0x470)]['error'](this[_0xae477(0x25e)]+'\x20('+this[_0xae477(0x844)]['wuid']+_0xae477(0x3f1)+(_0x39a508 instanceof Error?_0x39a508[_0xae477(0x5e0)]:JSON['stringify'](_0x39a508,null,0x2))),{'error':!0x0,'detail':_0x39a508[_0xae477(0x5e0)]};}}async[a0_0x48e44b(0x560)](_0x2d1cb8,_0x5d6cab){const _0xe86cd1=a0_0x48e44b;if(this['logger'][_0xe86cd1(0x4b1)](this[_0xe86cd1(0x25e)]+'\x20('+this[_0xe86cd1(0x844)][_0xe86cd1(0x16a)]+_0xe86cd1(0x419)+_0x5d6cab+'\x27'),!_0x2d1cb8[_0xe86cd1(0x1de)]||_0x2d1cb8[_0xe86cd1(0x1de)][_0xe86cd1(0x3b4)]===0x0)return{'error':!0x0,'detail':_0xe86cd1(0x6fd)};let _0x29285e=await this[_0xe86cd1(0x781)](_0x2d1cb8[_0xe86cd1(0x1de)],_0x5d6cab),_0x426dbe={'number':_0x5d6cab,'options':{'delay':_0x2d1cb8[_0xe86cd1(0x3d3)],'linkPreview':_0x2d1cb8[_0xe86cd1(0x62d)]},'textMessage':{'text':_0x29285e}},_0x2d3f8a=null;try{let _0x2368a5=await this[_0xe86cd1(0x2f4)](_0x426dbe);if(_0x2368a5&&_0x2368a5[_0xe86cd1(0x485)])return{'error':!0x1,'id':_0x2368a5['key']['id']};_0x2d3f8a=JSON[_0xe86cd1(0x365)](_0x2368a5),this[_0xe86cd1(0x470)][_0xe86cd1(0x4b1)](this[_0xe86cd1(0x25e)]+'\x20('+this[_0xe86cd1(0x844)][_0xe86cd1(0x16a)]+_0xe86cd1(0x741)+_0x2d3f8a);}catch(_0x320118){this[_0xe86cd1(0x470)][_0xe86cd1(0x16b)](this[_0xe86cd1(0x25e)]+'\x20('+this[_0xe86cd1(0x844)][_0xe86cd1(0x16a)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x320118 instanceof Error?_0x320118['message']:JSON[_0xe86cd1(0x365)](_0x320118,null,0x2))),_0x2d3f8a=_0x320118[_0xe86cd1(0x5e0)];}if(_0x2d3f8a)return{'error':!0x0,'detail':(typeof _0x2d3f8a=='object'?JSON[_0xe86cd1(0x365)](_0x2d3f8a,null,0x2):_0x2d3f8a)['replace'](/[\[\]{}\n]/g,'\x20')[_0xe86cd1(0x67e)](/  +/g,'\x20')};}async[a0_0x48e44b(0x14a)](_0x100745,_0x34609b){const _0x586800=a0_0x48e44b;this[_0x586800(0x470)]['verbose'](this[_0x586800(0x25e)]+'\x20('+this[_0x586800(0x844)][_0x586800(0x16a)]+'):\x20\x27Enviando\x20mídia\x20para\x20\x27'+_0x34609b+'\x27');let _0x262f21;_0x100745[_0x586800(0x1de)]&&_0x100745[_0x586800(0x1de)][_0x586800(0x3b4)]>0x0&&(_0x262f21=await this['replaceVariablesChat'](_0x100745[_0x586800(0x1de)],_0x34609b));let _0x42b29f={'number':_0x34609b,'options':{'delay':_0x100745[_0x586800(0x3d3)],'linkPreview':_0x100745[_0x586800(0x62d)]},'mediaMessage':{'mediatype':_0x100745[_0x586800(0x418)],'caption':_0x262f21,'media':_0x100745[_0x586800(0x4d3)]}},_0x3f361a=null;try{let _0x4d5b48=await this['mediaMessage'](_0x42b29f);if(_0x4d5b48&&_0x4d5b48[_0x586800(0x485)])return{'error':!0x1,'id':_0x4d5b48['key']['id']};_0x3f361a=JSON[_0x586800(0x365)](_0x4d5b48),this[_0x586800(0x470)][_0x586800(0x4b1)](this[_0x586800(0x25e)]+'\x20('+this[_0x586800(0x844)][_0x586800(0x16a)]+_0x586800(0x741)+_0x3f361a);}catch(_0x53b52d){this[_0x586800(0x470)][_0x586800(0x16b)](this[_0x586800(0x25e)]+'\x20('+this[_0x586800(0x844)][_0x586800(0x16a)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x53b52d instanceof Error?_0x53b52d[_0x586800(0x5e0)]:JSON['stringify'](_0x53b52d,null,0x2))),_0x3f361a=_0x53b52d['message'];}if(_0x3f361a)return{'error':!0x0,'detail':(typeof _0x3f361a==_0x586800(0x892)?JSON[_0x586800(0x365)](_0x3f361a,null,0x2):_0x3f361a)[_0x586800(0x67e)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x48e44b(0x3cc)](_0x4eb44c,_0x131e2a){const _0x4fc75d=a0_0x48e44b;this[_0x4fc75d(0x470)][_0x4fc75d(0x4b1)](this[_0x4fc75d(0x25e)]+'\x20('+this[_0x4fc75d(0x844)][_0x4fc75d(0x16a)]+_0x4fc75d(0x216)+_0x131e2a+'\x27');let _0x5e0686={'number':_0x131e2a,'options':{'delay':_0x4eb44c['delay']},'audioMessage':{'audio':_0x4eb44c['urlOrBase64']}},_0x20651d=null;try{let _0x4720d4=await this[_0x4fc75d(0x29a)](_0x5e0686);if(_0x4720d4&&_0x4720d4[_0x4fc75d(0x485)])return{'error':!0x1,'id':_0x4720d4[_0x4fc75d(0x744)]['id']};_0x20651d=JSON[_0x4fc75d(0x365)](_0x4720d4),this[_0x4fc75d(0x470)][_0x4fc75d(0x4b1)](this[_0x4fc75d(0x25e)]+'\x20('+this[_0x4fc75d(0x844)][_0x4fc75d(0x16a)]+_0x4fc75d(0x741)+_0x20651d);}catch(_0x134577){this[_0x4fc75d(0x470)][_0x4fc75d(0x16b)](this[_0x4fc75d(0x25e)]+'\x20('+this['instance']['wuid']+_0x4fc75d(0x87a)+(_0x134577 instanceof Error?_0x134577['message']:JSON[_0x4fc75d(0x365)](_0x134577,null,0x2))),_0x20651d=_0x134577[_0x4fc75d(0x5e0)];}if(_0x20651d)return{'error':!0x0,'detail':(typeof _0x20651d==_0x4fc75d(0x892)?JSON[_0x4fc75d(0x365)](_0x20651d,null,0x2):_0x20651d)[_0x4fc75d(0x67e)](/[\[\]{}\n]/g,'\x20')[_0x4fc75d(0x67e)](/  +/g,'\x20')};}async[a0_0x48e44b(0x196)](_0x4dc46a){const _0x1bf9c4=a0_0x48e44b;try{return await this['client'][_0x1bf9c4(0x76e)](_0x4dc46a['groupJid'],_0x4dc46a['description']),{'update':_0x1bf9c4(0x5a0)};}catch(_0x140775){let _0x10bd8a=_0x1bf9c4(0x65b),_0x35877b=_0x140775 instanceof Error?_0x140775['message']:typeof _0x140775==_0x1bf9c4(0x892)?JSON[_0x1bf9c4(0x365)](_0x140775):_0x140775,_0x378889=_0x10bd8a+':\x20'+_0x35877b;throw this['logger'][_0x1bf9c4(0x16b)](this[_0x1bf9c4(0x25e)]+'\x20('+this['instance']['wuid']+_0x1bf9c4(0x741)+_0x378889),new x(_0x378889);}}async[a0_0x48e44b(0x6ff)](_0x1b1d61){const _0x4c1c7c=a0_0x48e44b;try{return await this['client'][_0x4c1c7c(0x83a)](_0x1b1d61['groupJid'],_0x1b1d61['name']),{'update':'success'};}catch(_0x3ec79c){let _0x3ea8c3=_0x4c1c7c(0x889),_0x4dc98b=_0x3ec79c instanceof Error?_0x3ec79c[_0x4c1c7c(0x5e0)]:typeof _0x3ec79c==_0x4c1c7c(0x892)?JSON['stringify'](_0x3ec79c):_0x3ec79c,_0x160958=_0x3ea8c3+':\x20'+_0x4dc98b;throw this['logger'][_0x4c1c7c(0x16b)](this[_0x4c1c7c(0x25e)]+'\x20('+this[_0x4c1c7c(0x844)][_0x4c1c7c(0x16a)]+_0x4c1c7c(0x741)+_0x160958),new x(_0x160958);}}async[a0_0x48e44b(0x182)](_0x4bc6d5){const _0x5cb349=a0_0x48e44b;try{let _0x2eb689=await this[_0x5cb349(0x70c)][_0x5cb349(0x465)](_0x4bc6d5[_0x5cb349(0x20f)],_0x4bc6d5[_0x5cb349(0x1ef)]);return{'success':!0x0};}catch(_0x249d07){let _0x381818=_0x5cb349(0x676),_0x2d6da1=_0x249d07 instanceof Error?_0x249d07['message']:typeof _0x249d07==_0x5cb349(0x892)?JSON[_0x5cb349(0x365)](_0x249d07):_0x249d07,_0x866c5a=_0x381818+':\x20'+_0x2d6da1;throw this[_0x5cb349(0x470)][_0x5cb349(0x16b)](this['instanceName']+'\x20('+this['instance'][_0x5cb349(0x16a)]+_0x5cb349(0x741)+_0x866c5a),new x(_0x866c5a);}}async[a0_0x48e44b(0x67a)](_0x435a8d){const _0x432ffe=a0_0x48e44b;try{return await this['client'][_0x432ffe(0x730)](_0x435a8d[_0x432ffe(0x20f)],_0x435a8d[_0x432ffe(0x53f)]),{'update':_0x432ffe(0x5a0)};}catch(_0x4d3e21){let _0x29adfd=_0x432ffe(0x506),_0x20f80e=_0x4d3e21 instanceof Error?_0x4d3e21[_0x432ffe(0x5e0)]:typeof _0x4d3e21==_0x432ffe(0x892)?JSON[_0x432ffe(0x365)](_0x4d3e21):_0x4d3e21,_0x20cbd6=_0x29adfd+':\x20'+_0x20f80e;throw this[_0x432ffe(0x470)][_0x432ffe(0x16b)](this[_0x432ffe(0x25e)]+'\x20('+this[_0x432ffe(0x844)][_0x432ffe(0x16a)]+_0x432ffe(0x741)+_0x20cbd6),new x(_0x20cbd6);}}async[a0_0x48e44b(0x6ea)](_0xd4ff43){const _0x580d6e=a0_0x48e44b;try{let _0x4b2a90;if((0x0,J['isURL'])(_0xd4ff43[_0x580d6e(0x305)])){let _0xf3c782=new Date()[_0x580d6e(0x498)](),_0x4138f6=_0xd4ff43[_0x580d6e(0x305)]+_0x580d6e(0x762)+_0xf3c782;_0x4b2a90=(await Q[_0x580d6e(0x875)][_0x580d6e(0x84e)](_0x4138f6,{'responseType':_0x580d6e(0x5a2)}))[_0x580d6e(0x693)];}else{if((0x0,J['isBase64'])(_0xd4ff43['image']))_0x4b2a90=Buffer[_0x580d6e(0x1e9)](_0xd4ff43[_0x580d6e(0x305)],_0x580d6e(0x30b));else throw new m(_0x580d6e(0x7c1));}return await this['client'][_0x580d6e(0x43c)](_0xd4ff43[_0x580d6e(0x20f)],_0x4b2a90),{'update':'success'};}catch(_0x56e6e1){let _0x1e314d=_0x580d6e(0x260),_0x51cb92=_0x56e6e1 instanceof Error?_0x56e6e1['message']:typeof _0x56e6e1==_0x580d6e(0x892)?JSON['stringify'](_0x56e6e1):_0x56e6e1,_0x4f238f=_0x1e314d+':\x20'+_0x51cb92;throw this[_0x580d6e(0x470)]['error'](this[_0x580d6e(0x25e)]+'\x20('+this['instance'][_0x580d6e(0x16a)]+_0x580d6e(0x741)+_0x4f238f),new x(_0x4f238f);}}},jt=class u{constructor(_0x518f33,_0x4f9540,_0x4d1dc1){const _0x35fc31=a0_0x48e44b;this['eventEmitter']=_0x518f33,this[_0x35fc31(0x1b4)]=_0x4f9540,this['repository']=_0x4d1dc1,this['db']={},this['redis']={},this[_0x35fc31(0x470)]=new $(u[_0x35fc31(0x5ff)]),this[_0x35fc31(0x376)]={},(this[_0x35fc31(0x511)](),this['noConnection'](),Object['assign'](this['db'],_0x4f9540[_0x35fc31(0x84e)](_0x35fc31(0x4c1))),Object[_0x35fc31(0x3c5)](this['redis'],_0x4f9540[_0x35fc31(0x84e)](_0x35fc31(0x6fc))),this[_0x35fc31(0x54b)]=this['db'][_0x35fc31(0x178)]?this[_0x35fc31(0x850)]['dbServer']?.['db'](this['db']['CONNECTION'][_0x35fc31(0x2b6)]+_0x35fc31(0x69b)):void 0x0,this[_0x35fc31(0x8a7)]=this[_0x35fc31(0x747)][_0x35fc31(0x178)]?new pe(this[_0x35fc31(0x747)]):void 0x0);}async[a0_0x48e44b(0x6bf)](_0x2ed0d0){const _0x2c0810=a0_0x48e44b;if(_0x2ed0d0&&!this[_0x2c0810(0x376)][_0x2ed0d0])throw new U(_0x2c0810(0x2ea)+_0x2ed0d0+_0x2c0810(0x737));let _0x2d4307=[];for await(let [_0x452846,_0x3051e0]of Object[_0x2c0810(0x4c4)](this[_0x2c0810(0x376)]))if(_0x3051e0&&_0x3051e0['connectionStatus']['state']==='open'){let _0x34413a=await this[_0x2c0810(0x850)][_0x2c0810(0x56f)][_0x2c0810(0x1ae)](_0x452846);_0x2d4307[_0x2c0810(0x518)]({'instance':{'instanceName':_0x452846,'apikey':_0x34413a[_0x2c0810(0x647)],'owner':_0x3051e0[_0x2c0810(0x16a)],'profileName':await _0x3051e0[_0x2c0810(0x6d8)]()||_0x2c0810(0x81d),'profilePictureUrl':_0x3051e0[_0x2c0810(0x79d)]}});}return _0x2d4307['find'](_0x323869=>_0x323869['instance'][_0x2c0810(0x25e)]===_0x2ed0d0)??_0x2d4307;}async[a0_0x48e44b(0x24e)](_0x253cde){const _0x235f06=a0_0x48e44b;if(this['db']['ENABLED']&&(await this['repository']['dbServer'][_0x235f06(0x1cf)](),(await this[_0x235f06(0x54b)][_0x235f06(0x25a)]())['length']>0x0&&await this[_0x235f06(0x54b)][_0x235f06(0x3a2)](_0x253cde)),this[_0x235f06(0x747)][_0x235f06(0x178)]){this['cache'][_0x235f06(0x325)]=_0x253cde,await this[_0x235f06(0x8a7)][_0x235f06(0x581)]();return;}}async[a0_0x48e44b(0x827)](){const _0x371d90=a0_0x48e44b;await this['InstancesAlterarTodas']();let _0x40c49a=async _0x5d99bd=>{const _0x5868b6=a0_0x43f2;let _0x5483ef=new $e(this[_0x5868b6(0x1b4)],this[_0x5868b6(0x281)],this['repository']);_0x5483ef[_0x5868b6(0x25e)]=_0x5d99bd,await _0x5483ef[_0x5868b6(0x2cb)](),this['waInstances'][_0x5d99bd]=_0x5483ef;};try{if(this[_0x371d90(0x747)]['ENABLED']){let _0xac2c38=await this[_0x371d90(0x8a7)][_0x371d90(0x255)]();_0xac2c38?.[_0x371d90(0x3b4)]>0x0&&_0xac2c38[_0x371d90(0x3f6)](async _0x548cb8=>await _0x40c49a(_0x548cb8[_0x371d90(0x8a4)](':')[0x1]));return;}if(this['db'][_0x371d90(0x178)]){await this[_0x371d90(0x850)][_0x371d90(0x65a)][_0x371d90(0x1cf)]();let _0x73257a=await this[_0x371d90(0x54b)]['collections']();_0x73257a[_0x371d90(0x3b4)]>0x0&&_0x73257a['forEach'](async _0x5560d2=>await _0x40c49a(_0x5560d2[_0x371d90(0x36f)][_0x371d90(0x67e)](/^[\w-]+\./,'')));return;}}catch(_0x43d920){this[_0x371d90(0x470)][_0x371d90(0x16b)](_0x43d920);}}async['cleanDisconnectedInstances'](){const _0x219157=a0_0x48e44b;try{let _0xcc6c39=await this['repository']['auth'][_0x219157(0x51c)]({'online':!0x1});for(let _0x11d1b9 of _0xcc6c39){let _0x507f01=_0x11d1b9[_0x219157(0x477)];await ae['removeIPv6ById'](B,_0x507f01);}console[_0x219157(0x84c)]('Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20'+_0xcc6c39[_0x219157(0x3b4)]);let _0x67f66a={'online':!0x1},_0x10c86b=await this[_0x219157(0x850)][_0x219157(0x56f)]['deleteMany'](_0x67f66a);console[_0x219157(0x84c)]('Instâncias\x20removidas:\x20'+_0x10c86b[_0x219157(0x30e)]);}catch(_0x753644){console[_0x219157(0x16b)](_0x219157(0x63e),_0x753644);}}async[a0_0x48e44b(0x15a)](){const _0x8c577f=a0_0x48e44b;try{let _0x114777={'online':!0x1},_0x180b76={'online':!0x1,'lastDisconnect':Date[_0x8c577f(0x23c)]()},_0x20ec1f=await this[_0x8c577f(0x850)][_0x8c577f(0x56f)]['updateAll'](_0x114777,_0x180b76);await this['cleanDisconnectedInstances']();}catch(_0x211368){console[_0x8c577f(0x16b)](_0x8c577f(0x575),_0x211368);}}['removeInstance'](){const _0x49a5b5=a0_0x48e44b;this[_0x49a5b5(0x281)]['on']('remove.instance',async _0x7551ae=>{const _0x2660d9=_0x49a5b5;try{this[_0x2660d9(0x376)][_0x7551ae]=void 0x0;}catch{}try{this[_0x2660d9(0x24e)](_0x7551ae);}finally{this[_0x2660d9(0x470)][_0x2660d9(0x1bc)](_0x2660d9(0x2ea)+_0x7551ae+'\x22\x20-\x20REMOVED');}});}[a0_0x48e44b(0x299)](){this['eventEmitter']['on']('no.connection',async _0x18ba89=>{const _0x2660be=a0_0x43f2;try{this[_0x2660be(0x376)][_0x18ba89]=void 0x0;}catch{}try{this['cleaningUp'](_0x18ba89);}finally{this[_0x2660be(0x470)][_0x2660be(0x1bc)]('Instance\x20\x22'+_0x18ba89+'\x22\x20-\x20NOT\x20CONNECTION');}});}},Jt=class extends _{[a0_0x48e44b(0x40e)](_0x3c3ab5){return ea(_0x3c3ab5);}async['insert'](_0x57c390){const _0x4ed617=a0_0x48e44b;if(_0x57c390[_0x4ed617(0x3b4)]!==0x0)try{return{'insertCount':(await this[_0x4ed617(0x40e)](_0x57c390[0x0][_0x4ed617(0x4d0)])[_0x4ed617(0x296)]([..._0x57c390]))[_0x4ed617(0x3b4)]};}catch(_0x35c927){return _0x35c927;}}async[a0_0x48e44b(0x1ae)](_0x3a5088,_0x548128){const _0x146294=a0_0x48e44b;try{let _0x1216f9=this[_0x146294(0x40e)](_0x548128),_0x2258ca=A(_0x3a5088[_0x146294(0x1ab)]);return await _0x1216f9[_0x146294(0x1ae)](_0x2258ca)[_0x146294(0x59e)]({'lastmsg':-0x1})['limit'](_0x3a5088?.[_0x146294(0x80e)]??0x0)[_0x146294(0x333)]();}catch{return[];}}async[a0_0x48e44b(0x173)](_0x1b65ff,_0x165f23){const _0x9de3db=a0_0x48e44b;try{let _0x412b4c=this['getChatModelForOwner'](_0x165f23),_0x417eef=A(_0x1b65ff[_0x9de3db(0x1ab)]);return _0x417eef[_0x9de3db(0x3db)]={'$ne':[]},await _0x412b4c[_0x9de3db(0x1ae)](_0x417eef)[_0x9de3db(0x59e)]({'lastmsg':-0x1})['limit'](_0x1b65ff?.[_0x9de3db(0x80e)]??0x0)[_0x9de3db(0x333)]();}catch{return[];}}async[a0_0x48e44b(0x6a5)](_0x107ed8,_0x38ffbe){const _0x3243b4=a0_0x48e44b;try{return{'deletedCount':(await this[_0x3243b4(0x40e)](_0x38ffbe)[_0x3243b4(0x4a5)]({..._0x107ed8['where']}))[_0x3243b4(0x664)]};}catch(_0x13944f){return{'error':_0x13944f?.[_0x3243b4(0x691)]()};}}async[a0_0x48e44b(0x421)](_0x1139c2,_0x211a09){const _0x2343aa=a0_0x48e44b;try{return await this[_0x2343aa(0x40e)](_0x211a09)[_0x2343aa(0x4a5)]({..._0x1139c2[_0x2343aa(0x1ab)]}),[];}catch(_0x2065b2){return{'error':_0x2065b2?.[_0x2343aa(0x691)]()};}}async[a0_0x48e44b(0x715)](_0x41da2f,_0xed756f){const _0x35186c=a0_0x48e44b;try{let _0x4aaf67=this['getChatModelForOwner'](_0xed756f),_0x5dc2ea=A(_0x41da2f[_0x35186c(0x1ab)]);return await _0x4aaf67['findOne'](_0x5dc2ea)[_0x35186c(0x333)]();}catch{return null;}}async[a0_0x48e44b(0x7b8)](_0x13b0c7,_0x524607,_0x4ee1f1,_0x346f07,_0x56e79e=a0_0x48e44b(0x661)){const _0x3b0377=a0_0x48e44b;try{let _0x3fff45={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x346f07},_0xdb0533=this[_0x3b0377(0x40e)](_0x4ee1f1),_0x46b43a=A(_0x13b0c7['where']);Object[_0x3b0377(0x6df)](_0x524607)[_0x3b0377(0x3f6)](_0xfd1c45=>{_0x524607[_0xfd1c45]==null&&delete _0x524607[_0xfd1c45];});let _0x5b435f={};return _0x5b435f[_0x56e79e]=_0x524607,await _0xdb0533['findOneAndUpdate'](_0x46b43a,_0x5b435f,_0x3fff45);}catch(_0x584cfb){return console[_0x3b0377(0x16b)](_0x584cfb),null;}}async['updateMany'](_0x2216ea){const _0x4016fe=a0_0x48e44b;try{let _0xb466c0=this['getChatModelForOwner'](_0x2216ea[0x0]['query'][_0x4016fe(0x1ab)][_0x4016fe(0x4d0)]),_0x50c4a7=_0x2216ea[_0x4016fe(0x3ad)](_0x106a68=>({'updateOne':{'filter':{..._0x106a68[_0x4016fe(0x785)][_0x4016fe(0x1ab)]},'update':{'$set':_0x106a68[_0x4016fe(0x453)]},'upsert':!0x0}})),_0x92a547=await _0xb466c0['bulkWrite'](_0x50c4a7);return _0x92a547[_0x4016fe(0x576)]+_0x92a547[_0x4016fe(0x45b)];}catch(_0x2a3ea3){return console[_0x4016fe(0x16b)](_0x2a3ea3),0x0;}}async[a0_0x48e44b(0x514)](_0x10ca52){const _0x3d3ead=a0_0x48e44b;try{let _0x1f9773={'group_isCommunity':'','group_announce':'','group_size':''},_0x4d5ee5={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x550804={'$unset':_0x1f9773};return(await this[_0x3d3ead(0x40e)](_0x10ca52)[_0x3d3ead(0x167)](_0x4d5ee5,_0x550804))[_0x3d3ead(0x576)];}catch(_0x4f0730){return console[_0x3d3ead(0x16b)](_0x3d3ead(0x843),_0x4f0730),0x0;}}async['updateMissingEtiquetas'](_0xcc301f){const _0x4d3e14=a0_0x48e44b;try{let _0x2d6045=this['getChatModelForOwner'](_0xcc301f),_0xdee80f={'leadInfo.etiquetas':{'$exists':!0x1}},_0x1d6aad={'$set':{'leadInfo.etiquetas':[]}};return(await _0x2d6045[_0x4d3e14(0x167)](_0xdee80f,_0x1d6aad))[_0x4d3e14(0x576)];}catch(_0x32e443){return console[_0x4d3e14(0x16b)](_0x32e443),0x0;}}async[a0_0x48e44b(0x4a6)](_0x394b3b){const _0x5b1108=a0_0x48e44b;try{let _0x199c92=this[_0x5b1108(0x40e)](_0x394b3b),_0x2251ac={'leadInfo.tags':{'$exists':!0x1}},_0x5e1688={'$set':{'leadInfo.tags':[]}};return(await _0x199c92['updateMany'](_0x2251ac,_0x5e1688))['modifiedCount'];}catch(_0x82e62c){return console[_0x5b1108(0x16b)](_0x82e62c),0x0;}}async['updateMissingCustomFields'](_0x90f62b){const _0x3a9e06=a0_0x48e44b;try{let _0x50311c=this[_0x3a9e06(0x40e)](_0x90f62b),_0x36b12c={'leadInfo.customFields':{'$exists':!0x1}},_0xfda406={'$set':{'leadInfo.customFields':[]}};return(await _0x50311c['updateMany'](_0x36b12c,_0xfda406))['modifiedCount'];}catch(_0x395e23){return console['error'](_0x395e23),0x0;}}async[a0_0x48e44b(0x296)](_0x2b1264,_0x10eebd){const _0x52674b=a0_0x48e44b;if(!Array[_0x52674b(0x59d)](_0x2b1264)||_0x2b1264[_0x52674b(0x3b4)]===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this[_0x52674b(0x40e)](_0x10eebd)[_0x52674b(0x296)](_0x2b1264))[_0x52674b(0x3b4)];}catch(_0x2815de){throw console[_0x52674b(0x16b)](_0x52674b(0x3be),_0x2815de),_0x2815de;}}async[a0_0x48e44b(0x378)](_0x5cd144,_0x3eefdc){const _0x356efb=a0_0x48e44b;try{await this[_0x356efb(0x40e)](_0x3eefdc)[_0x356efb(0x5ba)]({'_id':_0x5cd144});}catch(_0x23b9fc){throw console[_0x356efb(0x16b)](_0x356efb(0x726),_0x23b9fc),_0x23b9fc;}}},qt=class extends _{constructor(_0x28a031,_0x4435e3,_0xccc888){const _0x393c59=a0_0x48e44b;super(_0x4435e3),this[_0x393c59(0x2ac)]=_0x28a031,this[_0x393c59(0x1b4)]=_0x4435e3,this['dbConnection']=_0xccc888;}async[a0_0x48e44b(0x411)](_0x15bc77){const _0x14df8b=a0_0x48e44b;if(_0x15bc77[_0x14df8b(0x3b4)]!==0x0)try{return{'insertCount':(await this[_0x14df8b(0x2ac)][_0x14df8b(0x296)]([..._0x15bc77]))[_0x14df8b(0x3b4)]};}catch(_0x3e3b65){return _0x3e3b65;}}async[a0_0x48e44b(0x453)](_0x1622d2,_0x30fae4){const _0x351eb3=a0_0x48e44b;try{let _0x23c52f=A(_0x1622d2[_0x351eb3(0x1ab)]);return{'updatedCount':(await this[_0x351eb3(0x2ac)][_0x351eb3(0x167)](_0x23c52f,{'$set':_0x30fae4}))[_0x351eb3(0x576)]};}catch(_0x2da374){return console[_0x351eb3(0x16b)]('Error\x20updating\x20cache\x20contact:',_0x2da374),{'error':_0x2da374[_0x351eb3(0x691)]()};}}async[a0_0x48e44b(0x374)](_0x3f7632){const _0x4a5879=a0_0x48e44b;try{let _0x425986={'_id':{'$in':_0x3f7632}};return await this[_0x4a5879(0x2ac)]['find'](_0x425986)['lean']();}catch(_0x48539d){return console['error']('Error\x20finding\x20many\x20contacts:',_0x48539d),[];}}async['delete'](_0x5ef6b9){const _0xbe6f2f=a0_0x48e44b;try{return{'deletedCount':(await this['cacheContactModel'][_0xbe6f2f(0x4a5)]({..._0x5ef6b9[_0xbe6f2f(0x1ab)]}))[_0xbe6f2f(0x664)]};}catch(_0x3c9f2a){return{'error':_0x3c9f2a?.[_0xbe6f2f(0x691)]()};}}async[a0_0x48e44b(0x1ae)](_0x418c43){const _0x5553f4=a0_0x48e44b;try{let _0x5b4059=A(_0x418c43[_0x5553f4(0x1ab)]);return await this['cacheContactModel']['find'](_0x5b4059)['limit'](_0x418c43?.[_0x5553f4(0x80e)]??0x0)[_0x5553f4(0x333)]();}catch{return[];}}async['findOne'](_0x23c1db){const _0x24a52d=a0_0x48e44b;try{let _0x58f582=A(_0x23c1db['where']);return await this[_0x24a52d(0x2ac)]['findOne'](_0x58f582)[_0x24a52d(0x333)]();}catch{return null;}}},Vt=class extends _{constructor(_0x3ba180,_0x81eb87,_0x3dd53b){const _0x10e691=a0_0x48e44b;super(_0x81eb87),this[_0x10e691(0x41d)]=_0x3ba180,this[_0x10e691(0x1b4)]=_0x81eb87,this['dbConnection']=_0x3dd53b;}async[a0_0x48e44b(0x411)](_0x2fde56){const _0x3a0ade=a0_0x48e44b;if(_0x2fde56['length']!==0x0)try{return{'insertCount':(await this['messageLogsModel'][_0x3a0ade(0x296)]([..._0x2fde56]))[_0x3a0ade(0x3b4)]};}catch(_0x270706){return _0x270706;}}async[a0_0x48e44b(0x453)](_0xb5e587,_0x926f8b){const _0x5e7e76=a0_0x48e44b;try{let _0x923065=A(_0xb5e587[_0x5e7e76(0x1ab)]);return{'updatedCount':(await this['messageLogsModel'][_0x5e7e76(0x167)](_0x923065,{'$set':_0x926f8b}))[_0x5e7e76(0x576)]};}catch(_0x3959fd){return console[_0x5e7e76(0x16b)](_0x5e7e76(0x304),_0x3959fd),{'error':_0x3959fd[_0x5e7e76(0x691)]()};}}async[a0_0x48e44b(0x6a5)](_0x3aa948){const _0x322072=a0_0x48e44b;try{return{'deletedCount':(await this[_0x322072(0x41d)]['deleteMany']({..._0x3aa948[_0x322072(0x1ab)]}))[_0x322072(0x664)]};}catch(_0x127e7e){return{'error':_0x127e7e?.['toString']()};}}async[a0_0x48e44b(0x715)](_0x1be227){const _0x657d7d=a0_0x48e44b;try{let _0x52f155=A(_0x1be227[_0x657d7d(0x1ab)]);return await this[_0x657d7d(0x41d)][_0x657d7d(0x715)](_0x52f155)['lean']();}catch{return null;}}},Gt=class extends _{[a0_0x48e44b(0x5ca)](_0x43ffa5){return Ca(_0x43ffa5);}async['updateOne'](_0x26dfef,_0x259941,_0x281109,_0x47ab22){const _0x354efc=a0_0x48e44b;try{let _0x2562fa={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x47ab22},_0xf32be3=this['getLabelModelForOwner'](_0x281109),_0x316385=A(_0x26dfef[_0x354efc(0x1ab)]);return await _0xf32be3[_0x354efc(0x4cc)](_0x316385,{'$set':_0x259941},_0x2562fa);}catch(_0x2d25a0){return console[_0x354efc(0x16b)](_0x2d25a0),null;}}async['find'](_0x52d53a,_0x412d8a){const _0x3d104d=a0_0x48e44b;try{let _0x570f58=this[_0x3d104d(0x5ca)](_0x412d8a),_0x21862a=A(_0x52d53a[_0x3d104d(0x1ab)]);return await _0x570f58[_0x3d104d(0x1ae)](_0x21862a);}catch(_0x26042c){console[_0x3d104d(0x16b)](_0x26042c);}}async['delete'](_0xb4a12b,_0xa6d65e){const _0x43dfa2=a0_0x48e44b;try{let _0x12e19b=this[_0x43dfa2(0x5ca)](_0xa6d65e),_0x382384=A(_0xb4a12b[_0x43dfa2(0x1ab)]);await _0x12e19b[_0x43dfa2(0x4a5)](_0x382384);}catch(_0x16980b){console[_0x43dfa2(0x16b)](_0x16980b);}}async[a0_0x48e44b(0x421)](_0x1a08b0){const _0x5f4782=a0_0x48e44b;try{return await this[_0x5f4782(0x5ca)](_0x1a08b0)[_0x5f4782(0x344)][_0x5f4782(0x69a)](),{'success':!0x0};}catch(_0x30bc71){return console['error'](_0x30bc71),{'success':!0x1,'error':_0x30bc71};}}},Bt=class{constructor(_0x4359c2){const _0x419380=a0_0x48e44b;this[_0x419380(0x87e)]=_0x4359c2;}async['editChat']({instanceName:_0x42998b},_0x40dc1a){const _0xf4b664=a0_0x48e44b;return await this[_0xf4b664(0x87e)][_0xf4b664(0x376)][_0x42998b]['editChat'](_0x40dc1a);}async[a0_0x48e44b(0x1aa)]({instanceName:_0x17f8fe},_0x51abbe){const _0x2936b8=a0_0x48e44b;return await this[_0x2936b8(0x87e)]['waInstances'][_0x17f8fe][_0x2936b8(0x1aa)](_0x51abbe);}async['importChats']({instanceName:_0x3bcc17},_0x55b149){const _0x2e7e85=a0_0x48e44b;return await this['waMonitor'][_0x2e7e85(0x376)][_0x3bcc17]['importChats'](_0x55b149);}async['readMessage']({instanceName:_0x3f2cdb},_0x45160f){const _0x1b5621=a0_0x48e44b;return await this['waMonitor'][_0x1b5621(0x376)][_0x3f2cdb]['markMessageAsRead'](_0x45160f);}async['archiveChat']({instanceName:_0x12bef2},_0x336b29){const _0x11c253=a0_0x48e44b;return await this['waMonitor'][_0x11c253(0x376)][_0x12bef2][_0x11c253(0x60c)](_0x336b29);}async[a0_0x48e44b(0x306)]({instanceName:_0x243b02},_0x3d4b5b){const _0xdef534=a0_0x48e44b;return await this[_0xdef534(0x87e)][_0xdef534(0x376)][_0x243b02]['deleteMessage'](_0x3d4b5b);}async[a0_0x48e44b(0x7e0)]({instanceName:_0x41eb2e},_0xcb2c8a){const _0x53fb4a=a0_0x48e44b;return await this[_0x53fb4a(0x87e)]['waInstances'][_0x41eb2e]['profilePicture'](_0xcb2c8a[_0x53fb4a(0x156)]);}async[a0_0x48e44b(0x287)]({instanceName:_0x419fda},_0x2ebbad){const _0x5b9e68=a0_0x48e44b;return await this[_0x5b9e68(0x87e)][_0x5b9e68(0x376)][_0x419fda][_0x5b9e68(0x287)](_0x2ebbad[_0x5b9e68(0x156)]);}async['updatePresence']({instanceName:_0x19834a},_0x5cbf1f){const _0x198cc5=a0_0x48e44b;return await this[_0x198cc5(0x87e)][_0x198cc5(0x376)][_0x19834a][_0x198cc5(0x4bb)](_0x5cbf1f);}async[a0_0x48e44b(0x48d)]({instanceName:_0x3df20c},_0x2ba174){const _0x2a22b3=a0_0x48e44b;return await this[_0x2a22b3(0x87e)][_0x2a22b3(0x376)][_0x3df20c]['fetchContacts'](_0x2ba174);}async['getBase64FromMediaMessage']({instanceName:_0x22bb73},_0x17f88f){const _0x5d5c4e=a0_0x48e44b;return await this[_0x5d5c4e(0x87e)][_0x5d5c4e(0x376)][_0x22bb73]['getBase64FromMediaMessage'](_0x17f88f);}async[a0_0x48e44b(0x849)]({instanceName:_0x4e46c3},_0x491a25){const _0x19ba01=a0_0x48e44b;return await this[_0x19ba01(0x87e)][_0x19ba01(0x376)][_0x4e46c3][_0x19ba01(0x849)](_0x491a25);}async['fetchLabels']({instanceName:_0x451f78}){const _0x2e13d9=a0_0x48e44b;return await this[_0x2e13d9(0x87e)][_0x2e13d9(0x376)][_0x451f78][_0x2e13d9(0x253)]();}async[a0_0x48e44b(0x39a)]({instanceName:_0x579b62}){const _0x2978b3=a0_0x48e44b;return await this['waMonitor'][_0x2978b3(0x376)][_0x579b62][_0x2978b3(0x39a)]();}async[a0_0x48e44b(0x8a0)]({instanceName:_0x173b72}){const _0x42a9f1=a0_0x48e44b;return await this[_0x42a9f1(0x87e)]['waInstances'][_0x173b72][_0x42a9f1(0x8a0)]();}async[a0_0x48e44b(0x568)]({instanceName:_0x3dc7b2},_0x592dcc){const _0x19100c=a0_0x48e44b;return await this[_0x19100c(0x87e)][_0x19100c(0x376)][_0x3dc7b2][_0x19100c(0x568)](_0x592dcc);}async[a0_0x48e44b(0x285)]({instanceName:_0x2d5b5c},_0x1e3488){const _0xaf577a=a0_0x48e44b;return await this[_0xaf577a(0x87e)][_0xaf577a(0x376)][_0x2d5b5c]['fetchBusinessProfile'](_0x1e3488[_0xaf577a(0x156)]);}async[a0_0x48e44b(0x5cd)]({instanceName:_0x23ba70},_0x5d577b){const _0x492d30=a0_0x48e44b;return await this['waMonitor'][_0x492d30(0x376)][_0x23ba70][_0x492d30(0x5cd)](_0x5d577b[_0x492d30(0x5ff)]);}async['updateProfileStatus']({instanceName:_0x4a34ba},_0x509d68){const _0x48f69c=a0_0x48e44b;return await this[_0x48f69c(0x87e)][_0x48f69c(0x376)][_0x4a34ba][_0x48f69c(0x397)](_0x509d68[_0x48f69c(0x485)]);}async['updateProfilePicture']({instanceName:_0x4643fe},_0x382234){const _0x3a403e=a0_0x48e44b;return await this[_0x3a403e(0x87e)][_0x3a403e(0x376)][_0x4643fe][_0x3a403e(0x43c)](_0x382234['picture']);}async['removeProfilePicture']({instanceName:_0x1f021c},_0x205c2a){const _0x29f0ce=a0_0x48e44b;return await this[_0x29f0ce(0x87e)][_0x29f0ce(0x376)][_0x1f021c][_0x29f0ce(0x3e9)]();}},Wt=require(a0_0x48e44b(0x567)),zt=class u{constructor(_0x36bdb8,_0x5b8767,_0x2ece6c,_0x2a1f27,_0xea9cd8){const _0x4c9e4a=a0_0x48e44b;this['waMonitor']=_0x36bdb8,this[_0x4c9e4a(0x1b4)]=_0x5b8767,this[_0x4c9e4a(0x850)]=_0x2ece6c,this[_0x4c9e4a(0x281)]=_0x2a1f27,this['authService']=_0xea9cd8,this[_0x4c9e4a(0x470)]=new $(u[_0x4c9e4a(0x5ff)]);}async[a0_0x48e44b(0x522)]({instanceName:_0x282ee5,apikey:_0xa8222e,number:_0x4ca349,proxy:_0x804177=!0x0}){const _0x31532a=a0_0x48e44b;try{let _0x3d87fb=new $e(this[_0x31532a(0x1b4)],this[_0x31532a(0x281)],this[_0x31532a(0x850)]);_0x3d87fb[_0x31532a(0x25e)]=_0x282ee5,this[_0x31532a(0x87e)][_0x31532a(0x376)][_0x3d87fb[_0x31532a(0x25e)]]=_0x3d87fb;let _0x265aec={};_0xa8222e?(await this[_0x31532a(0x850)][_0x31532a(0x56f)]['create']({'apikey':_0xa8222e},_0x282ee5),_0x265aec['apikey']=_0xa8222e):_0x265aec=await this[_0x31532a(0x699)]['generateHash']({'instanceName':_0x3d87fb[_0x31532a(0x25e)]});let _0x3dc303;if(_0x4ca349){if(_0x3dc303=await this['verifyWhatsAppNumber'](_0x4ca349),_0x3dc303[_0x31532a(0x16b)])throw new x(_0x3dc303['error'][_0x31532a(0x691)]());_0x4ca349=_0x3dc303[_0x31532a(0x156)];}let _0x4bfb8a;return await _0x3d87fb[_0x31532a(0x2cb)](_0x4ca349),await(0x0,Wt['delay'])(0xfa0),_0x4ca349&&await(0x0,Wt[_0x31532a(0x3d3)])(0xbb8),_0x4bfb8a=_0x3d87fb[_0x31532a(0x4ac)],{'instance':{'instanceName':_0x3d87fb[_0x31532a(0x25e)],'status':_0x31532a(0x756)},'hash':_0x265aec,'qrcode':_0x4bfb8a};}catch(_0x21d8f0){throw this[_0x31532a(0x470)][_0x31532a(0x16b)](_0x21d8f0),_0x21d8f0;}}async[a0_0x48e44b(0x5fd)]({instanceName:_0x2cf549,number:_0x5d4008=null}){const _0x5d9642=a0_0x48e44b;try{let _0x5a026a=this['waMonitor'][_0x5d9642(0x376)][_0x2cf549];switch(_0x5a026a?.[_0x5d9642(0x595)]?.[_0x5d9642(0x5b0)]){case'close':return await _0x5a026a[_0x5d9642(0x2cb)](_0x5d4008),await(0x0,Wt[_0x5d9642(0x3d3)])(0x7d0),_0x5a026a[_0x5d9642(0x4ac)];case _0x5d9642(0x865):return _0x5a026a[_0x5d9642(0x4ac)];default:return await this['connectionState']({'instanceName':_0x2cf549});}}catch(_0x1faacd){this[_0x5d9642(0x470)][_0x5d9642(0x84c)](_0x1faacd);}}async['connectionState']({instanceName:_0xda3836}){const _0x1f9ed1=a0_0x48e44b;let _0x1ed106=this['waMonitor'][_0x1f9ed1(0x376)][_0xda3836]['connectionStatus'],_0xf5194c=null;_0x1ed106[_0x1f9ed1(0x5b0)]==='open'&&_0xda3836&&(_0xf5194c=await this[_0x1f9ed1(0x87e)][_0x1f9ed1(0x6bf)](_0xda3836));let _0x4c4591=null;return _0x1ed106['state']===_0x1f9ed1(0x865)&&_0xda3836&&(_0x4c4591=this[_0x1f9ed1(0x87e)][_0x1f9ed1(0x376)][_0xda3836][_0x1f9ed1(0x4ac)]),{'instance':_0xda3836,'connectionStatus':_0x1ed106,'instanceInfo':_0xf5194c,'qrcode':_0x4c4591};}async[a0_0x48e44b(0x370)](_0x2d6711){const _0x281e1b=a0_0x48e44b;_0x2d6711=_0x2d6711[_0x281e1b(0x67e)](/\D/g,'');let _0x64591d=Object[_0x281e1b(0x6df)](this[_0x281e1b(0x87e)][_0x281e1b(0x376)])[_0x281e1b(0x20c)](_0x3720b3=>{const _0x84ded=_0x281e1b;let _0x466e00=this[_0x84ded(0x87e)]['waInstances'][_0x3720b3];return _0x466e00&&_0x466e00[_0x84ded(0x595)]&&_0x466e00[_0x84ded(0x595)]['state']==='open';});if(_0x64591d['length']===0x0)return{'number':this[_0x281e1b(0x873)](_0x2d6711)};let _0xf033a1=Math['floor'](Math['random']()*_0x64591d['length']),_0x51d6d7=_0x64591d[_0xf033a1];try{let _0x408c6c=(await this['waMonitor']['waInstances'][_0x51d6d7][_0x281e1b(0x1aa)]({'numbers':[_0x2d6711]}))[_0x281e1b(0x76d)]();return _0x408c6c[_0x281e1b(0x380)]?{'number':_0x408c6c['jid'][_0x281e1b(0x67e)](_0x281e1b(0x212),'')}:{'number':_0x2d6711,'error':_0x281e1b(0x2de)};}catch(_0x2d21e5){return this['logger'][_0x281e1b(0x16b)]('Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:'+_0x2d21e5),{'number':_0x2d6711,'error':'Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.'};}}['formatBRNumber'](_0x33692d){const _0xe0d747=a0_0x48e44b;let _0xbb6999=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0xe0d747(0x703)](_0x33692d);if(_0xbb6999&&_0xbb6999[0x1]==='55'){let _0x4cfbb7=_0xbb6999[0x2],_0x25154d=_0xbb6999[0x3],_0x4952cc=_0xbb6999[0x4];if(parseInt(_0x4cfbb7)>=0x1f&&_0x25154d==='9')return _0xbb6999[0x1]+_0x4cfbb7+_0x4952cc;}return _0x33692d;}async[a0_0x48e44b(0x6fb)]({instanceName:_0x16412e}){const _0x3b7b63=a0_0x48e44b;try{return this[_0x3b7b63(0x87e)][_0x3b7b63(0x376)][_0x16412e]?.[_0x3b7b63(0x70c)]?.['ws']?.[_0x3b7b63(0x3b8)](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x3b7b63(0x547)}};}catch(_0x318863){this['logger'][_0x3b7b63(0x16b)](_0x318863);}}async['fetchInstances']({instanceName:_0x287ae0}){const _0x3eed7e=a0_0x48e44b;return _0x287ae0?this[_0x3eed7e(0x87e)][_0x3eed7e(0x6bf)](_0x287ae0):this[_0x3eed7e(0x87e)][_0x3eed7e(0x6bf)]();}async['logout']({instanceName:_0x37c47b}){const _0x38cafb=a0_0x48e44b;try{return await this['waMonitor'][_0x38cafb(0x376)][_0x37c47b]?.[_0x38cafb(0x70c)]?.[_0x38cafb(0x6b4)]('Log\x20out\x20instance:\x20'+_0x37c47b),{'error':!0x1,'message':_0x38cafb(0x3ba)};}catch(_0x5bea66){throw new x(_0x5bea66[_0x38cafb(0x691)]());}}async[a0_0x48e44b(0x1f9)]({instanceName:_0x441de7}){const _0x21b6b2=a0_0x48e44b;if((await this['connectionState']({'instanceName':_0x441de7}))[_0x21b6b2(0x595)][_0x21b6b2(0x5b0)]===_0x21b6b2(0x422))throw new m([_0x21b6b2(0x618),_0x21b6b2(0x49a)]);try{return delete this[_0x21b6b2(0x87e)][_0x21b6b2(0x376)][_0x441de7],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x1d5a34){throw new m(_0x1d5a34[_0x21b6b2(0x691)]());}}},ce=require(a0_0x48e44b(0x21a)),Ht=class{constructor(_0x30e6f8){const _0x3ea388=a0_0x48e44b;this[_0x3ea388(0x87e)]=_0x30e6f8;}async['sendText']({instanceName:_0x5db00f},_0x269f8d){const _0x196289=a0_0x48e44b;return await this['waMonitor'][_0x196289(0x376)][_0x5db00f][_0x196289(0x2f4)](_0x269f8d);}async[a0_0x48e44b(0x5d2)]({instanceName:_0x4d2a55},_0x1d4db8){const _0x43f3a7=a0_0x48e44b;return await this[_0x43f3a7(0x87e)][_0x43f3a7(0x376)][_0x4d2a55][_0x43f3a7(0x3d8)](_0x1d4db8);}async['sendMedia']({instanceName:_0x41846d},_0x797a0b){const _0x47f370=a0_0x48e44b;if((0x0,ce[_0x47f370(0x685)])(_0x797a0b?.[_0x47f370(0x596)]?.[_0x47f370(0x4b3)])&&!_0x797a0b?.[_0x47f370(0x596)]?.[_0x47f370(0x3ca)])throw new m(_0x47f370(0x510));if((0x0,ce[_0x47f370(0x403)])(_0x797a0b?.[_0x47f370(0x596)]?.[_0x47f370(0x4b3)])||(0x0,ce[_0x47f370(0x685)])(_0x797a0b?.['mediaMessage']?.[_0x47f370(0x4b3)]))return await this['waMonitor'][_0x47f370(0x376)][_0x41846d][_0x47f370(0x596)](_0x797a0b);throw new m(_0x47f370(0x2f3));}async['sendSticker']({instanceName:_0x3d4167},_0x13d1f6){const _0x392fae=a0_0x48e44b;if((0x0,ce['isURL'])(_0x13d1f6[_0x392fae(0x772)][_0x392fae(0x305)])||(0x0,ce[_0x392fae(0x685)])(_0x13d1f6['stickerMessage']['image']))return await this[_0x392fae(0x87e)]['waInstances'][_0x3d4167][_0x392fae(0x293)](_0x13d1f6);throw new m(_0x392fae(0x2f3));}async[a0_0x48e44b(0x8ba)]({instanceName:_0x59e563},_0x5e9c34){const _0x32f3b4=a0_0x48e44b;if((0x0,ce[_0x32f3b4(0x403)])(_0x5e9c34['audioMessage']['audio'])||(0x0,ce[_0x32f3b4(0x685)])(_0x5e9c34[_0x32f3b4(0x225)][_0x32f3b4(0x6de)]))return await this['waMonitor'][_0x32f3b4(0x376)][_0x59e563][_0x32f3b4(0x29a)](_0x5e9c34);throw new m(_0x32f3b4(0x2f3));}async[a0_0x48e44b(0x1dd)]({instanceName:_0xd53ff2},_0x51e5cb){const _0x496c0e=a0_0x48e44b;return await this[_0x496c0e(0x87e)][_0x496c0e(0x376)][_0xd53ff2][_0x496c0e(0x1a2)](_0x51e5cb);}async[a0_0x48e44b(0x85d)]({instanceName:_0x24334b},_0x5ba346){const _0x4a6765=a0_0x48e44b;return await this[_0x4a6765(0x87e)][_0x4a6765(0x376)][_0x24334b][_0x4a6765(0x6ba)](_0x5ba346);}async[a0_0x48e44b(0x40a)]({instanceName:_0x5d0873},_0x518e3b){const _0x992cc8=a0_0x48e44b;return await this[_0x992cc8(0x87e)][_0x992cc8(0x376)][_0x5d0873]['pollMessage'](_0x518e3b);}async[a0_0x48e44b(0x5f3)]({instanceName:_0x50d4bb},_0x182586){const _0x324fcb=a0_0x48e44b;return await this['waMonitor'][_0x324fcb(0x376)][_0x50d4bb]['listMessage'](_0x182586);}async['sendContact']({instanceName:_0x38e9a8},_0x366f1a){const _0x455182=a0_0x48e44b;return await this[_0x455182(0x87e)][_0x455182(0x376)][_0x38e9a8][_0x455182(0x3e1)](_0x366f1a);}async[a0_0x48e44b(0x7ad)]({instanceName:_0x344b5d},_0x33cae1){const _0x219c4b=a0_0x48e44b;if(!_0x33cae1[_0x219c4b(0x392)][_0x219c4b(0x43b)][_0x219c4b(0x5f6)](/[^\(\)\w\sà-ú"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this['waMonitor'][_0x219c4b(0x376)][_0x344b5d][_0x219c4b(0x392)](_0x33cae1);}async[a0_0x48e44b(0x525)]({instanceName:_0x469c12},_0x59ff5b){const _0x5a85b7=a0_0x48e44b;return await this[_0x5a85b7(0x87e)]['waInstances'][_0x469c12][_0x5a85b7(0x202)](_0x59ff5b);}},xi=require(a0_0x48e44b(0x590)),Us=require(a0_0x48e44b(0x53a)),Kt=class u{constructor(_0x5ec5d2,_0x5b389e,_0x119403){const _0x4a4fb9=a0_0x48e44b;this[_0x4a4fb9(0x1b4)]=_0x5ec5d2,this[_0x4a4fb9(0x87e)]=_0x5b389e,this[_0x4a4fb9(0x850)]=_0x119403,this[_0x4a4fb9(0x470)]=new $(u[_0x4a4fb9(0x5ff)]);}async[a0_0x48e44b(0x372)](_0x5767bc){const _0x5852d3=a0_0x48e44b;let _0x19791a=this['configService'][_0x5852d3(0x84e)](_0x5852d3(0x393))[_0x5852d3(0x22f)],_0x7d715c=(0x0,xi[_0x5852d3(0x3c9)])({'instanceName':_0x5767bc['instanceName'],'apiName':it,'tokenId':(0x0,Us['v4'])()},_0x19791a['SECRET'],{'expiresIn':_0x19791a['EXPIRIN_IN'],'encoding':_0x5852d3(0x6f9),'subject':_0x5852d3(0x1db)}),_0x1e1b12=await this['repository']['auth'][_0x5852d3(0x694)]({'jwt':_0x7d715c},_0x5767bc['instanceName']);if(_0x1e1b12[_0x5852d3(0x16b)])throw this['logger'][_0x5852d3(0x16b)]({'localError':u[_0x5852d3(0x5ff)]+_0x5852d3(0x4e6),'error':_0x1e1b12[_0x5852d3(0x16b)]}),new m('Authentication\x20error',_0x1e1b12[_0x5852d3(0x16b)]?.[_0x5852d3(0x691)]());return{'jwt':_0x7d715c};}async[a0_0x48e44b(0x647)](_0x110859){const _0x5a279a=a0_0x48e44b;let _0x2624e0=(0x0,Us['v4'])()[_0x5a279a(0x7e2)](),_0x1fff88=await this[_0x5a279a(0x850)]['auth'][_0x5a279a(0x694)]({'apikey':_0x2624e0},_0x110859['instanceName']);if(_0x1fff88['error'])throw this[_0x5a279a(0x470)][_0x5a279a(0x16b)]({'localError':u['name']+_0x5a279a(0x4e6),'error':_0x1fff88[_0x5a279a(0x16b)]}),new m(_0x5a279a(0x84f),_0x1fff88[_0x5a279a(0x16b)]?.[_0x5a279a(0x691)]());return{'apikey':_0x2624e0};}async[a0_0x48e44b(0x7ca)](_0x1b080f){const _0x72998e=a0_0x48e44b;let _0x1acffb=this[_0x72998e(0x1b4)][_0x72998e(0x84e)]('AUTHENTICATION');return await this[_0x1acffb[_0x72998e(0x44c)]](_0x1b080f);}},Qt=class{constructor(_0x28332c){const _0x1a05a0=a0_0x48e44b;this[_0x1a05a0(0x87e)]=_0x28332c;}async['createGroup'](_0x30a464,_0x42863e){const _0x549be7=a0_0x48e44b;return await this[_0x549be7(0x87e)][_0x549be7(0x376)][_0x30a464['instanceName']][_0x549be7(0x14f)](_0x42863e);}async['updateGroupPicture'](_0x4f41c8,_0x53c1ef){const _0x49babc=a0_0x48e44b;return await this[_0x49babc(0x87e)][_0x49babc(0x376)][_0x4f41c8['instanceName']]['updateGroupPicture'](_0x53c1ef);}async[a0_0x48e44b(0x196)](_0x349ed0,_0x4dcaae){const _0x2f0162=a0_0x48e44b;return await this[_0x2f0162(0x87e)][_0x2f0162(0x376)][_0x349ed0['instanceName']][_0x2f0162(0x196)](_0x4dcaae);}async[a0_0x48e44b(0x6ff)](_0x428ad6,_0x56cfd4){const _0x1e9d4f=a0_0x48e44b;return await this[_0x1e9d4f(0x87e)][_0x1e9d4f(0x376)][_0x428ad6['instanceName']][_0x1e9d4f(0x6ff)](_0x56cfd4);}async[a0_0x48e44b(0x83e)](_0x391f31,_0x5eb72e){const _0x3f72b5=a0_0x48e44b;return await this[_0x3f72b5(0x87e)][_0x3f72b5(0x376)][_0x391f31[_0x3f72b5(0x25e)]][_0x3f72b5(0x83e)](_0x5eb72e);}async[a0_0x48e44b(0x67a)](_0x18eb53,_0x383bc5){const _0x16b428=a0_0x48e44b;return await this[_0x16b428(0x87e)]['waInstances'][_0x18eb53[_0x16b428(0x25e)]][_0x16b428(0x67a)](_0x383bc5);}async[a0_0x48e44b(0x26e)](_0x313aef,_0x1d9e09){const _0x1ef8fe=a0_0x48e44b;return await this['waMonitor']['waInstances'][_0x313aef[_0x1ef8fe(0x25e)]]['findGroup'](_0x1d9e09);}async[a0_0x48e44b(0x1fa)](_0x59b9e4){const _0x467fa8=a0_0x48e44b;return await this[_0x467fa8(0x87e)][_0x467fa8(0x376)][_0x59b9e4[_0x467fa8(0x25e)]][_0x467fa8(0x1fa)]();}async['inviteCode'](_0x4502c9,_0x314bf5){const _0x293e8b=a0_0x48e44b;return await this[_0x293e8b(0x87e)][_0x293e8b(0x376)][_0x4502c9[_0x293e8b(0x25e)]][_0x293e8b(0x427)](_0x314bf5);}async[a0_0x48e44b(0x607)](_0xca8f36,_0xeb3273){const _0x44a712=a0_0x48e44b;return await this[_0x44a712(0x87e)][_0x44a712(0x376)][_0xca8f36[_0x44a712(0x25e)]][_0x44a712(0x607)](_0xeb3273);}async[a0_0x48e44b(0x6f2)](_0x196184,_0x23d013){const _0x50de39=a0_0x48e44b;return await this[_0x50de39(0x87e)][_0x50de39(0x376)][_0x196184[_0x50de39(0x25e)]]['groupGetInviteInfo'](_0x23d013);}async['revokeInviteCode'](_0x24e8d7,_0x242ec1){const _0x19e5c3=a0_0x48e44b;return await this[_0x19e5c3(0x87e)][_0x19e5c3(0x376)][_0x24e8d7['instanceName']]['revokeInviteCode'](_0x242ec1);}async[a0_0x48e44b(0x1fe)](_0x4b18de,_0x565a4c){const _0x2c7389=a0_0x48e44b;return await this['waMonitor'][_0x2c7389(0x376)][_0x4b18de[_0x2c7389(0x25e)]][_0x2c7389(0x1fe)](_0x565a4c);}async[a0_0x48e44b(0x80f)](_0x8b2874,_0x33c878){const _0x23fecc=a0_0x48e44b;return await this[_0x23fecc(0x87e)][_0x23fecc(0x376)][_0x8b2874[_0x23fecc(0x25e)]]['updateGParticipant'](_0x33c878);}async[a0_0x48e44b(0x182)](_0x5a0598,_0x4fef10){const _0x1d5162=a0_0x48e44b;return await this[_0x1d5162(0x87e)]['waInstances'][_0x5a0598[_0x1d5162(0x25e)]][_0x1d5162(0x182)](_0x4fef10);}async['leaveGroup'](_0x1ec7fc,_0x47f870){const _0x5750ab=a0_0x48e44b;return await this['waMonitor']['waInstances'][_0x1ec7fc[_0x5750ab(0x25e)]]['leaveGroup'](_0x47f870);}},Yt=class{constructor(_0x134f20){this['waMonitor']=_0x134f20;}['create'](_0x118002,_0x5d997f){const _0x52add4=a0_0x48e44b;return this[_0x52add4(0x87e)][_0x52add4(0x376)][_0x118002['instanceName']][_0x52add4(0x55c)](_0x5d997f);}async['find'](_0x2db1c2){const _0x190043=a0_0x48e44b;try{return await this[_0x190043(0x87e)][_0x190043(0x376)][_0x2db1c2[_0x190043(0x25e)]][_0x190043(0x25d)]();}catch{return{'enabled':null,'url':''};}}},lh=new $(a0_0x48e44b(0x266)),Xt=class{constructor(_0x4cdf2b){this['waMonitor']=_0x4cdf2b;}async[a0_0x48e44b(0x85f)](_0x2760dd,_0x43d617){const _0x450271=a0_0x48e44b;return await this[_0x450271(0x87e)][_0x450271(0x376)][_0x2760dd[_0x450271(0x25e)]]['editScheduleMessage'](_0x43d617);}async[a0_0x48e44b(0x497)](_0x3fa518){const _0x5d4f03=a0_0x48e44b;return await this[_0x5d4f03(0x87e)][_0x5d4f03(0x376)][_0x3fa518[_0x5d4f03(0x25e)]][_0x5d4f03(0x497)]();}async[a0_0x48e44b(0x3c2)](_0x5a4d58){const _0x4c5796=a0_0x48e44b;return await this['waMonitor'][_0x4c5796(0x376)][_0x5a4d58[_0x4c5796(0x25e)]][_0x4c5796(0x3c2)]();}async[a0_0x48e44b(0x6e2)](_0x346c29){const _0x4d47af=a0_0x48e44b;return await this[_0x4d47af(0x87e)][_0x4d47af(0x376)][_0x346c29[_0x4d47af(0x25e)]][_0x4d47af(0x6e2)]();}async[a0_0x48e44b(0x7f1)](_0x303068,_0x53f340){const _0x3afbb4=a0_0x48e44b;return await this[_0x3afbb4(0x87e)][_0x3afbb4(0x376)][_0x303068['instanceName']][_0x3afbb4(0x7f1)](_0x53f340);}async[a0_0x48e44b(0x583)](_0x253943,_0x5d1f51){const _0x42b73b=a0_0x48e44b;return await this[_0x42b73b(0x87e)][_0x42b73b(0x376)][_0x253943[_0x42b73b(0x25e)]]['updateCustomFields'](_0x5d1f51);}async[a0_0x48e44b(0x5c5)](_0x4b5ed8,_0x522cee){const _0x17087b=a0_0x48e44b;return await this['waMonitor']['waInstances'][_0x4b5ed8[_0x17087b(0x25e)]][_0x17087b(0x5c5)](_0x522cee);}async[a0_0x48e44b(0x360)](_0x47e1ee,_0x167fbf){const _0x5e8601=a0_0x48e44b;return await this['waMonitor'][_0x5e8601(0x376)][_0x47e1ee[_0x5e8601(0x25e)]][_0x5e8601(0x360)](_0x167fbf);}async[a0_0x48e44b(0x582)](_0x1d3f5e,_0x232cb7){const _0x27077a=a0_0x48e44b;return await this[_0x27077a(0x87e)][_0x27077a(0x376)][_0x1d3f5e['instanceName']][_0x27077a(0x582)](_0x232cb7);}async[a0_0x48e44b(0x5b9)](_0x19bb6c,_0x50512e,_0x758755,_0x16a2d8){const _0x16aef6=a0_0x48e44b;return await this['waMonitor'][_0x16aef6(0x376)][_0x19bb6c][_0x16aef6(0x5b9)](_0x50512e,_0x758755,_0x16a2d8);}async[a0_0x48e44b(0x2fc)](_0x446637,_0x516302){const _0x298d12=a0_0x48e44b;return await this[_0x298d12(0x87e)][_0x298d12(0x376)][_0x446637[_0x298d12(0x25e)]][_0x298d12(0x2fc)](_0x516302);}async[a0_0x48e44b(0x435)](_0x10ddcd,_0x17f54d){const _0x2dd634=a0_0x48e44b;return await this[_0x2dd634(0x87e)][_0x2dd634(0x376)][_0x10ddcd[_0x2dd634(0x25e)]]['fetchConversation'](_0x17f54d);}async[a0_0x48e44b(0x1c2)](_0x4dbd04,_0x4ca838){const _0x1110f1=a0_0x48e44b;return await this['waMonitor'][_0x1110f1(0x376)][_0x4dbd04[_0x1110f1(0x25e)]][_0x1110f1(0x1c2)](_0x4ca838);}async[a0_0x48e44b(0x830)](_0x5deed1,_0x41d199){const _0x178b5c=a0_0x48e44b;return await this[_0x178b5c(0x87e)][_0x178b5c(0x376)][_0x5deed1['instanceName']][_0x178b5c(0x830)](_0x41d199);}async[a0_0x48e44b(0x332)](_0x11504d,_0x4d9d00){const _0x11fbb2=a0_0x48e44b;return await this['waMonitor'][_0x11fbb2(0x376)][_0x11504d[_0x11fbb2(0x25e)]][_0x11fbb2(0x332)](_0x4d9d00['_id']);}async[a0_0x48e44b(0x2aa)](_0x3dce59,_0x4348b6,_0x56c7e3){const _0x2dc18c=a0_0x48e44b;return await this['waMonitor'][_0x2dc18c(0x376)][_0x3dce59[_0x2dc18c(0x25e)]][_0x2dc18c(0x2aa)](_0x4348b6,_0x56c7e3);}async[a0_0x48e44b(0x1ce)](_0x264b5f,_0x2af8b5,_0x12a6ea){const _0x153fe6=a0_0x48e44b;return await this[_0x153fe6(0x87e)][_0x153fe6(0x376)][_0x264b5f[_0x153fe6(0x25e)]]['editFlow'](_0x2af8b5,_0x12a6ea);}async['editFlowBlock'](_0x5ba91b,_0xcb2669){const _0x1704bc=a0_0x48e44b;return await this[_0x1704bc(0x87e)][_0x1704bc(0x376)][_0x5ba91b[_0x1704bc(0x25e)]][_0x1704bc(0x557)](_0xcb2669);}async[a0_0x48e44b(0x671)](_0x19c9d8,_0x1f46dd){const _0x2ea168=a0_0x48e44b;return await this[_0x2ea168(0x87e)]['waInstances'][_0x19c9d8[_0x2ea168(0x25e)]][_0x2ea168(0x671)](_0x1f46dd);}async[a0_0x48e44b(0x3e4)](_0x353ad5,_0x1a56da){const _0x1b2105=a0_0x48e44b;return await this[_0x1b2105(0x87e)][_0x1b2105(0x376)][_0x353ad5['instanceName']][_0x1b2105(0x3e4)](_0x1a56da);}async[a0_0x48e44b(0x731)](_0x3288e7,_0x2015b5){const _0x155597=a0_0x48e44b;return await this[_0x155597(0x87e)][_0x155597(0x376)][_0x3288e7[_0x155597(0x25e)]]['editFlowCondition'](_0x2015b5);}async[a0_0x48e44b(0x2af)](_0x5b7241,_0x4a7dfb){const _0x8f9fd2=a0_0x48e44b;return await this[_0x8f9fd2(0x87e)][_0x8f9fd2(0x376)][_0x5b7241[_0x8f9fd2(0x25e)]][_0x8f9fd2(0x2af)](_0x4a7dfb);}async['editFlowVariable'](_0x2308dd,_0x3f9f03){const _0x5546d7=a0_0x48e44b;return await this[_0x5546d7(0x87e)]['waInstances'][_0x2308dd[_0x5546d7(0x25e)]][_0x5546d7(0x42b)](_0x3f9f03);}async[a0_0x48e44b(0x5d4)](_0x54d793,_0x424824){const _0x4a24f2=a0_0x48e44b;return await this[_0x4a24f2(0x87e)][_0x4a24f2(0x376)][_0x54d793[_0x4a24f2(0x25e)]][_0x4a24f2(0x5d4)](_0x424824);}async[a0_0x48e44b(0x4d7)](_0x227056){const _0x582047=a0_0x48e44b;return await this[_0x582047(0x87e)][_0x582047(0x376)][_0x227056['instanceName']][_0x582047(0x4d7)]();}},Zt=class{constructor(_0x41ae9b){const _0x25b464=a0_0x48e44b;this[_0x25b464(0x767)]=_0x41ae9b;}async[a0_0x48e44b(0x4fd)](_0x5a024a,_0x9955bb){const _0xbf1e3a=a0_0x48e44b;return this[_0xbf1e3a(0x767)]['create'](_0x5a024a,_0x9955bb);}async[a0_0x48e44b(0x25d)](_0xa0c53f){const _0x349cb5=a0_0x48e44b;return this[_0x349cb5(0x767)]['find'](_0xa0c53f);}},es=class extends _{constructor(_0x1cf649,_0x4741ed){const _0x1c731d=a0_0x48e44b;super(_0x4741ed),this['webhookModel']=_0x1cf649,this[_0x1c731d(0x1b4)]=_0x4741ed;}async['create'](_0x4ef8c9,_0x72ae93){const _0x5d2c92=a0_0x48e44b;try{return this[_0x5d2c92(0x1ac)][_0x5d2c92(0x178)]?{'insertCount':(await this[_0x5d2c92(0x83b)][_0x5d2c92(0x7a1)]({'_id':_0x72ae93},{..._0x4ef8c9},{'upsert':!0x0}))[_0x5d2c92(0x576)]}:{'insertCount':0x1};}catch(_0x11a0f4){return _0x11a0f4;}}async[a0_0x48e44b(0x6a5)](_0x214b91){const _0x1bc5fd=a0_0x48e44b;try{if(this[_0x1bc5fd(0x1ac)][_0x1bc5fd(0x178)]){await this[_0x1bc5fd(0x83b)][_0x1bc5fd(0x5ba)]({'_id':_0x214b91});return;}}catch(_0x16351b){return{'error':_0x16351b};}}async[a0_0x48e44b(0x1ae)](_0x2d3346){const _0x1d536b=a0_0x48e44b;try{if(this[_0x1d536b(0x1ac)][_0x1d536b(0x178)])return await this['webhookModel'][_0x1d536b(0x715)]({'_id':_0x2d3346});}catch{return{};}}},ts=class extends _{constructor(_0x335a50,_0x10dd3f){const _0x180e9a=a0_0x48e44b;super(_0x10dd3f),this[_0x180e9a(0x2cf)]=_0x335a50,this[_0x180e9a(0x1b4)]=_0x10dd3f,this['auth']=_0x10dd3f[_0x180e9a(0x84e)](_0x180e9a(0x393));}async['create'](_0x32664d,_0x78fd52){const _0x372f69=a0_0x48e44b;try{if(this['dbSettings'][_0x372f69(0x178)])return{'insertCount':(await this['authModel'][_0x372f69(0x7b8)]({'_id':_0x78fd52},{'$set':{..._0x32664d}},{'upsert':!0x0}))[_0x372f69(0x576)]};}catch(_0x1f2e26){return{'error':_0x1f2e26};}}async[a0_0x48e44b(0x52c)](_0x204455,_0x5f2d23){const _0x91cbbb=a0_0x48e44b;try{if(this['dbSettings'][_0x91cbbb(0x178)])return{'insertCount':(await this[_0x91cbbb(0x2cf)]['updateMany'](_0x204455,{'$set':_0x5f2d23},{'upsert':!0x1}))[_0x91cbbb(0x576)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x2c3dc3){return{'error':_0x2c3dc3};}}async[a0_0x48e44b(0x4a5)](_0x36d289){const _0x23d6e1=a0_0x48e44b;try{if(this[_0x23d6e1(0x1ac)][_0x23d6e1(0x178)])return{'insertCount':(await this['authModel'][_0x23d6e1(0x4a5)](_0x36d289))['deletedCount']};throw new Error(_0x23d6e1(0x4f3));}catch(_0x232147){return{'error':_0x232147};}}async['delete'](_0x107142){const _0x1e912=a0_0x48e44b;try{if(this[_0x1e912(0x1ac)][_0x1e912(0x178)]){await this[_0x1e912(0x2cf)][_0x1e912(0x5ba)]({'_id':_0x107142});return;}}catch(_0x47394d){return{'error':_0x47394d};}}async[a0_0x48e44b(0x1ae)](_0x403c50){const _0x14d29b=a0_0x48e44b;try{if(this[_0x14d29b(0x1ac)][_0x14d29b(0x178)])return await this['authModel'][_0x14d29b(0x715)]({'_id':_0x403c50});}catch{return{};}}async[a0_0x48e44b(0x227)](){const _0x1caa01=a0_0x48e44b;try{if(this[_0x1caa01(0x1ac)][_0x1caa01(0x178)])return await this[_0x1caa01(0x2cf)]['find']();}catch{return[];}}async['findMany'](_0x411147){const _0x10013a=a0_0x48e44b;try{if(this[_0x10013a(0x1ac)]['ENABLED'])return await this[_0x10013a(0x2cf)][_0x10013a(0x1ae)](_0x411147);}catch{return[];}}},ss=class extends _{async[a0_0x48e44b(0x5ba)](_0x50ef78){const _0x4c721d=a0_0x48e44b;try{let _0x41fb8d=A(_0x50ef78[_0x4c721d(0x1ab)]);return{'deletedCount':(await Ce['deleteOne'](_0x41fb8d))[_0x4c721d(0x664)]};}catch(_0x160215){return{'error':_0x160215?.[_0x4c721d(0x691)]()};}}async[a0_0x48e44b(0x7b8)](_0x389983,_0x12b71c){const _0x1bcd1c=a0_0x48e44b;try{let _0x50feaf=await Ce[_0x1bcd1c(0x4c0)](_0x389983);return _0x50feaf?(Object[_0x1bcd1c(0x3c5)](_0x50feaf,_0x12b71c),await _0x50feaf[_0x1bcd1c(0x673)]()):(console['error'](_0x1bcd1c(0x191),_0x389983),null);}catch(_0xd42472){return console[_0x1bcd1c(0x16b)]('Erro\x20ao\x20atualizar\x20o\x20fluxo:',_0xd42472),null;}}async[a0_0x48e44b(0x5be)](_0x437ba5){const _0x39a0a0=a0_0x48e44b;try{return await new Ce(_0x437ba5)[_0x39a0a0(0x673)]();}catch(_0x3a967e){return console[_0x39a0a0(0x16b)](_0x39a0a0(0x60f),_0x3a967e),null;}}async['findAll'](_0x55b5d6){const _0x142815=a0_0x48e44b;try{let _0x299c9c=_0x55b5d6[_0x142815(0x1ab)]??{};return await Ce[_0x142815(0x1ae)](_0x299c9c)[_0x142815(0x80e)](_0x55b5d6['limit']??0x0)['lean']();}catch(_0x251a23){return console[_0x142815(0x16b)](_0x142815(0x6e5),_0x251a23),[];}}async[a0_0x48e44b(0x715)](_0x5ac24b){const _0x3ac20c=a0_0x48e44b;try{let _0x388437=A(_0x5ac24b[_0x3ac20c(0x1ab)]);return await Ce['findOne'](_0x388437)[_0x3ac20c(0x333)]();}catch{return null;}}},as=class extends _{[a0_0x48e44b(0x46b)](_0x25af10){return ba(_0x25af10);}async[a0_0x48e44b(0x411)](_0x49eef3){const _0x327289=a0_0x48e44b;if(_0x49eef3[_0x327289(0x3b4)]!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x49eef3[0x0][_0x327289(0x4d0)])['insertMany']([..._0x49eef3]))[_0x327289(0x3b4)]};}catch(_0x1f8edb){return _0x1f8edb;}}async['delete'](_0xb332cd,_0x8e50b2){const _0x4d78d0=a0_0x48e44b;try{let _0x568309=this[_0x4d78d0(0x46b)](_0x8e50b2),_0x526fc9=A(_0xb332cd[_0x4d78d0(0x1ab)]);return{'deletedCount':(await _0x568309[_0x4d78d0(0x4a5)](_0x526fc9))['deletedCount']};}catch(_0x3d21c5){return{'error':_0x3d21c5?.[_0x4d78d0(0x691)]()};}}async[a0_0x48e44b(0x5ba)](_0x436877,_0x56e628){const _0x19610b=a0_0x48e44b;try{let _0x53b517=this[_0x19610b(0x46b)](_0x56e628),_0x176859=A(_0x436877['where']);return{'deletedCount':(await _0x53b517[_0x19610b(0x5ba)](_0x176859))[_0x19610b(0x664)]};}catch(_0x15cca1){return{'error':_0x15cca1?.['toString']()};}}async[a0_0x48e44b(0x453)](_0xaf409a,_0x3f1f91){const _0xf1a42a=a0_0x48e44b;try{if(_0xaf409a[_0xf1a42a(0x3b4)]===0x0)return;let _0x34b85f=this['getConversationModelForOwner'](_0x3f1f91),_0x2eca70=_0xaf409a[_0xf1a42a(0x3ad)](_0x368e99=>({'updateOne':{'filter':{'name':_0x368e99[_0xf1a42a(0x5ff)],'owner':_0x3f1f91},'update':{..._0x368e99}}})),{modifiedCount:_0x48e0b1}=await _0x34b85f[_0xf1a42a(0x388)](_0x2eca70);return{'insertCount':_0x48e0b1};}catch{return;}}async[a0_0x48e44b(0x167)](_0x1b7e5a,_0x56710f,_0x1b4ea6){const _0x322c5b=a0_0x48e44b;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x1b4ea6)['updateMany'](_0x1b7e5a,{'$set':_0x56710f})[_0x322c5b(0x703)]())['modifiedCount']};}catch(_0x271c27){return console[_0x322c5b(0x16b)]('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0x271c27),{'error':_0x271c27};}}async[a0_0x48e44b(0x7b8)](_0x288697,_0x3f131b,_0x1e38d7){const _0x21634f=a0_0x48e44b;try{return await this[_0x21634f(0x46b)](_0x1e38d7)[_0x21634f(0x4cc)]({'_id':_0x288697},{'$set':_0x3f131b},{'new':!0x0,'upsert':!0x0})[_0x21634f(0x333)]();}catch(_0x2f1138){return console[_0x21634f(0x16b)](_0x2f1138),null;}}async['find'](_0x5ede81,_0x17a9bf){const _0x55e9ea=a0_0x48e44b;try{return await this[_0x55e9ea(0x46b)](_0x17a9bf)[_0x55e9ea(0x1ae)](_0x5ede81)[_0x55e9ea(0x59e)]({'lastInteraction':-0x1})['lean']();}catch{return[];}}async[a0_0x48e44b(0x715)](_0x2900ff,_0x5458b0){const _0x20a578=a0_0x48e44b;try{return await this[_0x20a578(0x46b)](_0x5458b0)[_0x20a578(0x715)]({..._0x2900ff[_0x20a578(0x1ab)]})[_0x20a578(0x333)]();}catch{return null;}}async[a0_0x48e44b(0x421)](_0x238374){const _0x4bc897=a0_0x48e44b;try{return await this[_0x4bc897(0x46b)](_0x238374)[_0x4bc897(0x344)][_0x4bc897(0x69a)](),{'success':!0x0};}catch(_0x3548e2){return console[_0x4bc897(0x16b)](_0x3548e2),{'success':!0x1,'error':_0x3548e2};}}},is=class extends _{['getScheduleMessageModelForOwner'](_0x4ddca0){return Sa(_0x4ddca0);}async[a0_0x48e44b(0x388)](_0x137758,_0x3b536e){const _0x31278a=a0_0x48e44b;try{return await this[_0x31278a(0x494)](_0x3b536e)[_0x31278a(0x388)](_0x137758);}catch(_0x3081e3){return console[_0x31278a(0x16b)](_0x31278a(0x85e),_0x3081e3),null;}}async[a0_0x48e44b(0x5be)](_0x190514,_0x3a8e9d){const _0x47f48d=a0_0x48e44b;try{let _0x48d908=this['getScheduleMessageModelForOwner'](_0x3a8e9d);return await new _0x48d908(_0x190514)[_0x47f48d(0x673)]();}catch(_0x50db73){return console[_0x47f48d(0x16b)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x50db73),null;}}async[a0_0x48e44b(0x5ba)](_0x575424,_0x3b6c6a){const _0x5d3322=a0_0x48e44b;try{return await this[_0x5d3322(0x494)](_0x3b6c6a)[_0x5d3322(0x395)](_0x575424),{};}catch(_0x510290){return{'error':_0x510290?.[_0x5d3322(0x691)]()};}}async[a0_0x48e44b(0x7b8)](_0x3fb231,_0x534b28,_0x3bc8bf,_0x5e0a9c={}){const _0x219ab8=a0_0x48e44b;try{return await this[_0x219ab8(0x494)](_0x3bc8bf)['findOneAndUpdate'](_0x3fb231,_0x534b28,{..._0x5e0a9c,'new':!0x0})[_0x219ab8(0x333)]();}catch(_0x30f36c){return console['error']('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x30f36c),null;}}async[a0_0x48e44b(0x57c)](_0x1e28da,_0x37cee1,_0x128386){const _0x1631c2=a0_0x48e44b;try{return await this[_0x1631c2(0x494)](_0x128386)[_0x1631c2(0x2b4)](_0x1e28da,_0x37cee1,{'new':!0x0})[_0x1631c2(0x333)]();}catch(_0x817fd1){return console[_0x1631c2(0x16b)](_0x1631c2(0x4d1),_0x817fd1),null;}}async[a0_0x48e44b(0x1ae)](_0x2b7af1,_0x55159b){const _0xe56adb=a0_0x48e44b;try{return await this[_0xe56adb(0x494)](_0x55159b)[_0xe56adb(0x1ae)](_0x2b7af1[_0xe56adb(0x1ab)])['limit'](_0x2b7af1?.[_0xe56adb(0x80e)]??0x0)[_0xe56adb(0x59e)]({'when':0x1})[_0xe56adb(0x333)]();}catch{return[];}}async[a0_0x48e44b(0x715)](_0x3b71ab,_0x39deed){const _0x44c500=a0_0x48e44b;try{return await this['getScheduleMessageModelForOwner'](_0x39deed)[_0x44c500(0x715)](_0x3b71ab['where'])[_0x44c500(0x59e)]({'when':0x1})['lean']();}catch{return null;}}async[a0_0x48e44b(0x4c0)](_0x496016,_0x56a821){const _0xea2e08=a0_0x48e44b;try{return await this[_0xea2e08(0x494)](_0x56a821)[_0xea2e08(0x4c0)](_0x496016)['lean']();}catch{return null;}}async['deleteMany'](_0x9bd394,_0x190873){const _0x3ca0f4=a0_0x48e44b;try{return{'deletedCount':(await this[_0x3ca0f4(0x494)](_0x190873)[_0x3ca0f4(0x4a5)](_0x9bd394))[_0x3ca0f4(0x664)]};}catch(_0x1962fa){return console[_0x3ca0f4(0x16b)](_0x3ca0f4(0x86d),_0x1962fa),{'error':_0x1962fa};}}async[a0_0x48e44b(0x421)](_0x3d2d55){const _0x29de1d=a0_0x48e44b;try{return await this[_0x29de1d(0x494)](_0x3d2d55)[_0x29de1d(0x344)][_0x29de1d(0x69a)](),{'success':!0x0};}catch(_0x561ac4){return console[_0x29de1d(0x16b)](_0x561ac4),{'success':!0x1,'error':_0x561ac4};}}},os=class extends _{async['update'](_0x85719d,_0x27a48f){const _0x12db9c=a0_0x48e44b;try{if(this[_0x12db9c(0x1ac)][_0x12db9c(0x178)])return await Ie[_0x12db9c(0x4cc)]({'_id':_0x27a48f},{'$set':_0x85719d},{'new':!0x0});}catch(_0x59e35d){throw console['error'](_0x12db9c(0x5e1),_0x59e35d),_0x59e35d;}}async['findOrCreate'](_0x3b789b){const _0x3ca6a3=a0_0x48e44b;try{let _0x24963b=await Ie[_0x3ca6a3(0x4c0)](_0x3b789b);return _0x24963b?_0x24963b[_0x3ca6a3(0x152)]||(_0x24963b[_0x3ca6a3(0x152)]=[],await _0x24963b[_0x3ca6a3(0x673)]()):(_0x24963b=new Ie({'_id':_0x3b789b,'autoCompleteMessages':[]}),await _0x24963b[_0x3ca6a3(0x673)]()),_0x24963b;}catch(_0x347dad){return _0x347dad[_0x3ca6a3(0x2d6)]===0x2af8&&_0x347dad[_0x3ca6a3(0x39d)]&&_0x347dad[_0x3ca6a3(0x39d)]['autoCompleteMessages.command']?(console['error'](_0x3ca6a3(0x7b7)),await Ie[_0x3ca6a3(0x344)][_0x3ca6a3(0x5db)]('autoCompleteMessages.command_1'),null):(console['error']('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x347dad),null);}}},jo=new $(a0_0x48e44b(0x21e)),Jo=new Ke(S),qo=new Jt(S),Vo=new rt(S),Go=new qt(ia,S),Bo=new Vt(ra,S),Wo=new es(pa,S),zo=new ts(la,S),Ho=new Ne(Be,S),Ko=new ss(S),Qo=new Gt(S),Yo=new as(S),Xo=new is(S),Zo=new os(S),fe=new ze(Jo,qo,Vo,Go,Bo,Wo,zo,Ho,Ko,Yo,Qo,Xo,Zo,I?.[a0_0x48e44b(0x821)]()),G=new jt(hs,S,fe),er=new Kt(S,G,fe),tr=new Yt(G),As=new Zt(tr),O=new Xt(G),de=new zt(G,S,fe,hs,er),W=new Ht(G),D=new Bt(G),q=new Qt(G);jo['info'](a0_0x48e44b(0x62f));var Rg=require(a0_0x48e44b(0x26c)),js=require('fs'),Pi=T(require('https')),Di=T(require(a0_0x48e44b(0x66a))),Ue=class u{static #e;static set['app'](_0x3a3a3e){this.#e=_0x3a3a3e;}static get[a0_0x48e44b(0x187)](){const _0x43ae50=a0_0x48e44b;let {FULLCHAIN:_0x5204a1,PRIVKEY:_0x109fdb}=S[_0x43ae50(0x84e)](_0x43ae50(0x52d));return Pi['createServer']({'cert':(0x0,js[_0x43ae50(0x67f)])(_0x5204a1),'key':(0x0,js[_0x43ae50(0x67f)])(_0x109fdb)},u.#e);}static get[a0_0x48e44b(0x66a)](){const _0x146b97=a0_0x48e44b;return Di[_0x146b97(0x692)](u.#e);}},je=T(require('fs')),Ji=T(require(a0_0x48e44b(0x55d))),Je=T(require('axios')),ns=T(require(a0_0x48e44b(0x1e1))),rs=require('child_process');function sr(){const _0x4767c2=a0_0x48e44b;G[_0x4767c2(0x827)]();let _0x36da59=ns[_0x4767c2(0x875)][_0x4767c2(0x739)](__dirname,_0x4767c2(0x2c0));ji(_0x36da59);}var ji=_0xeb2628=>{const _0x475aac=a0_0x48e44b;let _0x168326=je[_0x475aac(0x875)][_0x475aac(0x3a0)](_0xeb2628),_0x4a83d1=0xc*0x3c*0x3c*0x3e8,_0x31a1f1=0x2*0x3c*0x3c*0x3e8,_0x1a51b5=new Date()[_0x475aac(0x498)]();_0x168326[_0x475aac(0x3f6)](_0x5046ce=>{const _0x54c5aa=_0x475aac;let _0x5ca447=ns[_0x54c5aa(0x875)][_0x54c5aa(0x739)](_0xeb2628,_0x5046ce),_0x4c5ec5=je['default'][_0x54c5aa(0x871)](_0x5ca447)[_0x54c5aa(0x891)][_0x54c5aa(0x498)]();_0x1a51b5-_0x4c5ec5>_0x4a83d1&&(je[_0x54c5aa(0x875)][_0x54c5aa(0x406)](_0x5ca447),console[_0x54c5aa(0x84c)](_0x54c5aa(0x559)+_0x5046ce));}),setTimeout(()=>ji(_0xeb2628),_0x31a1f1);};function ar(){const _0x5cf33b=a0_0x48e44b;let _0x38b72f=new $(_0x5cf33b(0x75c)),_0x56c7d0=(0x0,ye[_0x5cf33b(0x875)])();_0x56c7d0[_0x5cf33b(0x324)]((0x0,Ui['default'])({'origin'(_0x30856f,_0x338be9){const _0x29bc45=_0x5cf33b;let {ORIGIN:_0x21d6dc}=S[_0x29bc45(0x84e)](_0x29bc45(0x4bd));return _0x30856f||(_0x30856f='*'),_0x21d6dc[_0x29bc45(0x712)]('*')!==-0x1||_0x21d6dc['indexOf'](_0x30856f)!==-0x1?_0x338be9(null,!0x0):_0x338be9(new Error(_0x29bc45(0x6ef)));},'methods':[...S[_0x5cf33b(0x84e)]('CORS')['METHODS']],'credentials':S[_0x5cf33b(0x84e)](_0x5cf33b(0x4bd))[_0x5cf33b(0x409)]}),(0x0,ye[_0x5cf33b(0x7ec)])({'extended':!0x0,'limit':_0x5cf33b(0x6bb)}),(0x0,ye[_0x5cf33b(0x1ed)])({'limit':'50mb'})),_0x56c7d0['use']((_0x263835,_0x595219,_0x4bdbe7)=>{const _0x2787f0=_0x5cf33b;_0x263835['path'][_0x2787f0(0x7fd)]('/events')?_0x4bdbe7():(0x0,Fi[_0x2787f0(0x875)])()(_0x263835,_0x595219,_0x4bdbe7);}),_0x56c7d0['set']('view\x20engine',_0x5cf33b(0x800)),_0x56c7d0[_0x5cf33b(0x48f)](_0x5cf33b(0x179),(0x0,qs[_0x5cf33b(0x739)])(le,'views')),_0x56c7d0['use'](ye[_0x5cf33b(0x875)]['static']((0x0,qs[_0x5cf33b(0x739)])(le,'public'))),_0x56c7d0[_0x5cf33b(0x324)]((_0x5e3924,_0x5f0f23,_0x25b998)=>{const _0x30bd29=_0x5cf33b;let _0x4486cb=_0x5f0f23[_0x30bd29(0x7c9)];_0x5f0f23[_0x30bd29(0x7c9)]=function(_0x2d221e){const _0x5b30b5=_0x30bd29;if(_0x5e3924[_0x5b30b5(0x785)][_0x5b30b5(0x67c)]==='true'||_0x5e3924[_0x5b30b5(0x6db)]['uazapi']==='true'){let _0x33e2b1=JSON[_0x5b30b5(0x4e9)](_0x2d221e);_0x2d221e=JSON[_0x5b30b5(0x365)](_0x121ac1(_0x33e2b1));}return _0x4486cb['apply'](_0x5f0f23,[_0x2d221e]);},_0x25b998();}),_0x56c7d0[_0x5cf33b(0x324)]('/',ke),_0x56c7d0[_0x5cf33b(0x324)]((_0x4958dd,_0x3e5ede,_0x146df6,_0x16b60f)=>{const _0x3c4e08=_0x5cf33b;if(_0x4958dd)return _0x146df6[_0x3c4e08(0x485)](_0x4958dd['status']||0x1f4)['json'](_0x4958dd);},(_0x5283ad,_0x4f6da0,_0x2f2545)=>{const _0xa5f9f5=_0x5cf33b;let {method:_0x84e0f8,url:_0x175af2}=_0x5283ad;_0x4f6da0[_0xa5f9f5(0x485)](0x194)[_0xa5f9f5(0x1ed)]({'status':0x194,'message':_0xa5f9f5(0x665)+_0x84e0f8[_0xa5f9f5(0x7e2)]()+'\x20'+_0x175af2,'error':_0xa5f9f5(0x31a)}),_0x2f2545();});let _0x121ac1=(_0x1904ff,_0x18f1f8='_p_')=>{const _0x1af3db=_0x5cf33b;let _0x752fb2=(_0x46d5c2,_0x15a997=null,_0xfbf02d=!0x1)=>{const _0x5c0258=a0_0x43f2;let _0xcc5805={};return Object[_0x5c0258(0x6df)](_0x46d5c2)[_0x5c0258(0x3f6)](_0xc93641=>{const _0x5ec59f=_0x5c0258;let _0x203b67=_0x46d5c2[_0xc93641],_0x4352f5=''+_0x18f1f8+_0xc93641;_0x15a997&&!_0xfbf02d&&(_0x4352f5=_0x15a997+'.'+_0xc93641),!_0x203b67&&_0x203b67!==0x0&&_0x203b67!==!0x1||typeof _0x203b67>'u'?_0xcc5805[_0x4352f5]=null:typeof _0x203b67!=_0x5ec59f(0x892)&&!Array['isArray'](_0x203b67)?_0xcc5805[_0x4352f5]=_0x203b67:typeof _0x203b67==_0x5ec59f(0x892)&&!Array['isArray'](_0x203b67)?_0xcc5805=Object[_0x5ec59f(0x3c5)](_0xcc5805,_0x752fb2(_0x203b67,_0x4352f5)):Array[_0x5ec59f(0x59d)](_0x203b67)&&(typeof _0x203b67[0x0]=='object'?(_0xcc5805[_0x4352f5]=[],_0x203b67[_0x5ec59f(0x3f6)](_0x276580=>{_0xcc5805[_0x4352f5]['push'](_0x752fb2(_0x276580,_0x4352f5,!0x0));})):_0xcc5805[_0x4352f5]=_0x203b67);}),_0xcc5805;};return Array[_0x1af3db(0x59d)](_0x1904ff)?_0x1904ff[_0x1af3db(0x3ad)](_0x3e4052=>_0x752fb2(_0x3e4052)):typeof _0x1904ff==_0x1af3db(0x892)&&_0x1904ff!==null?_0x752fb2(_0x1904ff):{};},_0x4925dc=S[_0x5cf33b(0x84e)](_0x5cf33b(0x75c));Ue['app']=_0x56c7d0;let _0x40c479=Ue[_0x4925dc[_0x5cf33b(0x44c)]],_0x233814=_0x5cf33b(0x24f);_0x40c479[_0x5cf33b(0x7b5)](_0x4925dc['PORT'],()=>{const _0x38f1fe=_0x5cf33b;_0x38b72f[_0x38f1fe(0x84c)](_0x233814),_0x38b72f[_0x38f1fe(0x84c)](_0x4925dc[_0x38f1fe(0x44c)][_0x38f1fe(0x7e2)]()+'\x20-\x20ON:\x20'+_0x4925dc[_0x38f1fe(0x471)]);}),sr(),Xs();}var ir='https://github.com/uazapi/uazapi.git',or=ns[a0_0x48e44b(0x875)]['join'](__dirname,'./.git/config'),Re=null;function rr(){return new Promise((_0x17636f,_0x1b910a)=>{const _0x1390ef=a0_0x43f2;je[_0x1390ef(0x875)][_0x1390ef(0x505)](or,'utf-8',(_0x148b8e,_0x34441b)=>{const _0x10cb6f=_0x1390ef;if(_0x148b8e){Re=_0x148b8e,_0x17636f();return;}Ji['default'][_0x10cb6f(0x4e9)](_0x34441b)[_0x10cb6f(0x7da)]['url']===ir?(Re=null,_0x17636f()):(Re=new Error(_0x10cb6f(0x64e)),_0x17636f());});});}async function nr(){const _0x27ff5d=a0_0x48e44b;try{await rr(),await Gi();}catch(_0x5c78d6){console['error'](_0x27ff5d(0x40f)+_0x5c78d6),process[_0x27ff5d(0x74a)](0x1);}}nr();async function qi(){const _0x2fe619=a0_0x48e44b;let _0x2348f0;try{_0x2348f0=(await Je[_0x2fe619(0x875)]['get'](_0x2fe619(0x72a)))[_0x2fe619(0x693)]['ip'];}catch(_0x2e241f){console[_0x2fe619(0x16b)](_0x2e241f);try{_0x2348f0=(await Je[_0x2fe619(0x875)][_0x2fe619(0x84e)](_0x2fe619(0x3d2)))['data']['ip'];}catch(_0x2e9b49){console[_0x2fe619(0x16b)](_0x2e9b49);try{_0x2348f0=(await Je[_0x2fe619(0x875)][_0x2fe619(0x84e)](_0x2fe619(0x899)))[_0x2fe619(0x693)][_0x2fe619(0x5f6)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x2c2c3d){return console['error'](_0x2c2c3d),!0x1;}}}return _0x2348f0;}var ki=0x0;async function cr(){const _0x18329d=a0_0x48e44b;let _0x4343e4=await new pe(S[_0x18329d(0x84e)]('REDIS'))[_0x18329d(0x255)]();return console['log'](_0x18329d(0x841),_0x4343e4[_0x18329d(0x3b4)]),_0x4343e4[_0x18329d(0x3b4)];}function lr(_0x355dea){const _0x1f8952=a0_0x48e44b;let _0x2b80bc=_0x355dea[_0x1f8952(0x84e)](_0x1f8952(0x75c))['URL'],_0x4e13e6=_0x355dea[_0x1f8952(0x84e)]('SSL_CONF');console[_0x1f8952(0x84c)](_0x1f8952(0x677),_0x2b80bc),console['log'](_0x1f8952(0x2e3),_0x4e13e6);let _0x4d603a='',_0x551c5a=_0x2b80bc||'';if(_0x2b80bc){let _0xad2de1=_0x2b80bc[_0x1f8952(0x5f6)](/\/\/(.*?)\./);console['log'](_0x1f8952(0x2cd),_0xad2de1),_0xad2de1&&_0xad2de1[0x1]&&(_0x4d603a=_0xad2de1[0x1],console[_0x1f8952(0x84c)](_0x1f8952(0x6af),_0x4d603a));}if(!_0x4d603a&&_0x4e13e6&&_0x4e13e6[_0x1f8952(0x200)]){let _0x2afb5c=_0x4e13e6[_0x1f8952(0x200)][_0x1f8952(0x8a4)]('/');console[_0x1f8952(0x84c)](_0x1f8952(0x516),_0x2afb5c);let _0x1c4155=_0x2afb5c[_0x2afb5c[_0x1f8952(0x3b4)]-0x2];if(console['log'](_0x1f8952(0x41f),_0x1c4155),_0x1c4155){let _0x3a7bcd=_0x1c4155[_0x1f8952(0x8a4)]('.');console[_0x1f8952(0x84c)](_0x1f8952(0x6b8),_0x3a7bcd),_0x3a7bcd[_0x1f8952(0x3b4)]>0x2&&(_0x4d603a=_0x3a7bcd[0x0],console['log'](_0x1f8952(0x587),_0x4d603a),_0x551c5a=''+_0x1c4155);}}return{'subdomain':_0x4d603a||'Subdomínio\x20não\x20encontrado','fullURL':_0x551c5a||_0x1f8952(0x536)};}var {subdomain:B,fullURL:Vs}=lr(S);console[a0_0x48e44b(0x84c)](a0_0x48e44b(0x300),B),console[a0_0x48e44b(0x84c)](a0_0x48e44b(0x7ed),Vs);async function ur(){const _0x46882=a0_0x48e44b;let _0x48f9a2=S[_0x46882(0x84e)]('REDIS'),_0x22ad0a=S['get'](_0x46882(0x393))[_0x46882(0x30c)][_0x46882(0x771)],_0x5989d8=S[_0x46882(0x84e)](_0x46882(0x52d)),_0x3b7345=await qi(),_0x95fd6c=S[_0x46882(0x84e)](_0x46882(0x75c))[_0x46882(0x471)],_0x5c39c5=Vs;try{let _0x59a7ec={'ip':_0x3b7345||null,'redis_enable':_0x48f9a2?.[_0x46882(0x178)]||null,'apikey':_0x22ad0a||null,'ssl':_0x5989d8?.['PRIVKEY']||null,'lastupdate':Vi||null,'port':_0x95fd6c||null,'gitInstallError':Re?.[_0x46882(0x5e0)]||null,'url':_0x5c39c5||null,'subdomain':B};if(console[_0x46882(0x84c)]('ip:\x20',_0x59a7ec['ip']),_0x48f9a2&&_0x48f9a2[_0x46882(0x178)]){let _0x4035d4=await cr();_0x59a7ec[_0x46882(0x50d)]=_0x4035d4||null;}for(let _0x118f4c in _0x59a7ec)_0x59a7ec['hasOwnProperty'](_0x118f4c)&&_0x118f4c!=='ip'&&(_0x59a7ec[_0x118f4c]=JSON[_0x46882(0x365)](_0x59a7ec[_0x118f4c]));return(await Je[_0x46882(0x875)][_0x46882(0x89b)](_0x46882(0x5fe),_0x59a7ec))['data'];}catch(_0x5ead94){return console['error'](_0x5ead94),!0x1;}}function a0_0x43f2(_0x53098e,_0x18bb8d){const _0x31c98f=a0_0x31c9();return a0_0x43f2=function(_0x43f2b1,_0x319184){_0x43f2b1=_0x43f2b1-0x148;let _0x5a1217=_0x31c98f[_0x43f2b1];return _0x5a1217;},a0_0x43f2(_0x53098e,_0x18bb8d);}var Js=!0x1,Vi=0x279,dr=0x3,Li=0x1b7740;async function Gi(){const _0x4da431=a0_0x48e44b;let _0x4e3386=_0x4da431(0x2d7);Re===null&&(_0x4e3386=await qi());let _0x1c3089=await ur();if(_0x1c3089){if(_0x1c3089[_0x4da431(0x270)]['licenca']===!0x0){Re===null&&_0x1c3089[_0x4da431(0x270)][_0x4da431(0x29c)]-Vi>0x0&&await pr(),Js||(Js=!0x0,ar());let _0x5694b1=0x24*0x3c*0x3c,_0x19b0e8=_0x1c3089[_0x4da431(0x270)][_0x4da431(0x5d5)]>_0x5694b1?_0x5694b1:_0x1c3089[_0x4da431(0x270)][_0x4da431(0x5d5)],_0x20b9aa=Number(_0x19b0e8);if(isNaN(_0x20b9aa)){console[_0x4da431(0x16b)]('interval\x20não\x20é\x20um\x20número');return;}let _0xd5b572=Math['floor'](_0x20b9aa/0xe10),_0x1e69df=Math[_0x4da431(0x451)](_0x20b9aa%0xe10/0x3c),_0x331bb0=new Date(Date[_0x4da431(0x23c)]()+_0x20b9aa*0x3e8);setTimeout(()=>{const _0x4eac95=_0x4da431;console[_0x4eac95(0x84c)](_0x4eac95(0x674)),process[_0x4eac95(0x74a)](0x0);},_0x20b9aa*0x3e8);let _0x46e972=_0x2775d2=>_0x2775d2[_0x4da431(0x691)]()[_0x4da431(0x23b)](0x2,'0'),_0x3d6959=_0x4da431(0x764)+_0x46e972(_0xd5b572)+'\x20horas\x20e\x20'+_0x46e972(_0x1e69df)+_0x4da431(0x252)+_0x46e972(_0x331bb0[_0x4da431(0x28c)]())+':'+_0x46e972(_0x331bb0['getMinutes']())+'.';console['log'](_0x3d6959);}else return console['log'](_0x4da431(0x450)),Js&&(console[_0x4da431(0x84c)](_0x4da431(0x710)),process[_0x4da431(0x74a)]()),'LICENSE_INVALID';}else{if(ki++,ki<dr)console['log'](_0x4da431(0x74e)+Li/0xea60+_0x4da431(0x6dc)),setTimeout(Gi,Li);else return console[_0x4da431(0x16b)](_0x4da431(0x208)),'SERVER_OFFLINE';}}async function pr(){const _0xcc9808=a0_0x48e44b;console['log'](_0xcc9808(0x2d0)),console['log'](_0xcc9808(0x3c3)),(0x0,rs[_0xcc9808(0x363)])(_0xcc9808(0x6a1),{'shell':!0x0})['on'](_0xcc9808(0x3b8),_0x1496ad=>{const _0x1a0b5c=_0xcc9808;_0x1496ad!==0x0?console[_0x1a0b5c(0x16b)](_0x1a0b5c(0x5fb)):(console[_0x1a0b5c(0x84c)](_0x1a0b5c(0x54f)),console[_0x1a0b5c(0x84c)](_0x1a0b5c(0x77d)),(0x0,rs[_0x1a0b5c(0x363)])('rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys',{'shell':!0x0})['on'](_0x1a0b5c(0x3b8),_0x57ea2c=>{const _0x373a38=_0x1a0b5c;if(_0x57ea2c!==0x0)console['error'](_0x373a38(0x47f));else{console[_0x373a38(0x84c)](_0x373a38(0x194));let _0x521264=(0x0,rs[_0x373a38(0x363)])(_0x373a38(0x833),{'shell':!0x0});_0x521264['stdout']['on']('data',_0x4e7487=>{const _0x2888b7=_0x373a38;console[_0x2888b7(0x84c)](_0x2888b7(0x257)+_0x4e7487);}),_0x521264[_0x373a38(0x86e)]['on'](_0x373a38(0x693),_0x100bb0=>{const _0x21d6aa=_0x373a38;console[_0x21d6aa(0x16b)]('Erro\x20de\x20atualização:\x20'+_0x100bb0);}),_0x521264['on'](_0x373a38(0x74a),_0x4b6f84=>{const _0x2acc1b=_0x373a38;_0x4b6f84!==0x0?console[_0x2acc1b(0x16b)](_0x2acc1b(0x89c)+_0x4b6f84):console['log']('Sistema\x20atualizado\x20com\x20sucesso!'),console['log'](_0x2acc1b(0x8be)),setTimeout(()=>process[_0x2acc1b(0x74a)](),0x2710);});}}));});}0x0&&(module['exports']={'fullURL':fullURL,'subdomain':subdomain});