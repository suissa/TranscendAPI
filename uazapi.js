const a0_0x1ec271=a0_0x37f8;(function(_0x3f3a6e,_0x5a2fe9){const _0x2d9720=a0_0x37f8,_0x29062b=_0x3f3a6e();while(!![]){try{const _0x1d640a=parseInt(_0x2d9720(0x59d))/0x1+parseInt(_0x2d9720(0x6fa))/0x2*(parseInt(_0x2d9720(0x7f7))/0x3)+-parseInt(_0x2d9720(0x3e7))/0x4*(parseInt(_0x2d9720(0x528))/0x5)+-parseInt(_0x2d9720(0x813))/0x6+parseInt(_0x2d9720(0x607))/0x7*(parseInt(_0x2d9720(0x5b2))/0x8)+parseInt(_0x2d9720(0x29f))/0x9*(-parseInt(_0x2d9720(0x647))/0xa)+parseInt(_0x2d9720(0x174))/0xb*(-parseInt(_0x2d9720(0x226))/0xc);if(_0x1d640a===_0x5a2fe9)break;else _0x29062b['push'](_0x29062b['shift']());}catch(_0xd23fc){_0x29062b['push'](_0x29062b['shift']());}}}(a0_0x31bd,0xe169d));var Br=Object[a0_0x1ec271(0x34e)],Pe=Object[a0_0x1ec271(0x39a)],Gr=Object[a0_0x1ec271(0x5f3)],Wr=Object[a0_0x1ec271(0x286)],zr=Object[a0_0x1ec271(0x345)],Hr=Object['prototype']['hasOwnProperty'],Kr=(_0x2fbdda,_0x1d9712)=>{for(var _0x4ce52d in _0x1d9712)Pe(_0x2fbdda,_0x4ce52d,{'get':_0x1d9712[_0x4ce52d],'enumerable':!0x0});},Js=(_0x1df198,_0xcdef0e,_0x46137d,_0x156759)=>{const _0x1a88ef=a0_0x1ec271;if(_0xcdef0e&&typeof _0xcdef0e==_0x1a88ef(0x4b1)||typeof _0xcdef0e==_0x1a88ef(0x41c)){for(let _0x2ddf8a of Wr(_0xcdef0e))!Hr[_0x1a88ef(0x285)](_0x1df198,_0x2ddf8a)&&_0x2ddf8a!==_0x46137d&&Pe(_0x1df198,_0x2ddf8a,{'get':()=>_0xcdef0e[_0x2ddf8a],'enumerable':!(_0x156759=Gr(_0xcdef0e,_0x2ddf8a))||_0x156759[_0x1a88ef(0x356)]});}return _0x1df198;},O=(_0x252870,_0x20c1d0,_0x5b4303)=>(_0x5b4303=_0x252870!=null?Br(zr(_0x252870)):{},Js(_0x20c1d0||!_0x252870||!_0x252870[a0_0x1ec271(0x529)]?Pe(_0x5b4303,a0_0x1ec271(0x3eb),{'value':_0x252870,'enumerable':!0x0}):_0x5b4303,_0x252870)),Qr=_0x2c7502=>Js(Pe({},a0_0x1ec271(0x529),{'value':!0x0}),_0x2c7502),io={};Kr(io,{'subdomain':()=>Ps}),module[a0_0x1ec271(0x796)]=Qr(io);var Lr=O(require('compression')),Vs=require('fs'),Bs=require(a0_0x1ec271(0x26f)),Gs=require('path'),$e=require('path'),ie=process[a0_0x1ec271(0x3dd)](),ge=(0x0,$e[a0_0x1ec271(0x487)])(ie,a0_0x1ec271(0x72f)),qs=(0x0,$e[a0_0x1ec271(0x487)])(ie,a0_0x1ec271(0x3d4)),Xo=(0x0,$e[a0_0x1ec271(0x487)])(ie,a0_0x1ec271(0x78f),a0_0x1ec271(0x719)),ns=class{constructor(){this['loadEnv']();}[a0_0x1ec271(0x651)](_0x23fd23){const _0x517c53=a0_0x1ec271;return this[_0x517c53(0x33b)][_0x23fd23];}['loadEnv'](){const _0x1c612e=a0_0x1ec271;this['env']=process[_0x1c612e(0x33b)]?.[_0x1c612e(0x774)]!==_0x1c612e(0x771)?this['envYaml']():this[_0x1c612e(0x6b9)](),process[_0x1c612e(0x33b)]?.[_0x1c612e(0x774)]===_0x1c612e(0x771)&&(this[_0x1c612e(0x33b)][_0x1c612e(0x7df)][_0x1c612e(0x4ab)]='http',this['env']['SERVER']['PORT']=Number[_0x1c612e(0x5c1)](process[_0x1c612e(0x33b)]?.[_0x1c612e(0x442)]??'8080'));}[a0_0x1ec271(0x369)](){const _0x619a76=a0_0x1ec271;return(0x0,Bs[_0x619a76(0x726)])((0x0,Vs[_0x619a76(0x3f7)])((0x0,Gs[_0x619a76(0x487)])(qs,_0x619a76(0x1dd)),{'encoding':_0x619a76(0x1a3)}));}[a0_0x1ec271(0x6b9)](){const _0xb95414=a0_0x1ec271;return{'SERVER':{'TYPE':process[_0xb95414(0x33b)][_0xb95414(0x478)],'PORT':Number['parseInt'](process['env']['SERVER_PORT']),'URL':process[_0xb95414(0x33b)][_0xb95414(0x76a)]},'CORS':{'ORIGIN':process[_0xb95414(0x33b)]['CORS_ORIGIN'][_0xb95414(0x1d7)](','),'METHODS':process[_0xb95414(0x33b)][_0xb95414(0x45e)][_0xb95414(0x1d7)](','),'CREDENTIALS':process[_0xb95414(0x33b)]?.[_0xb95414(0x3ce)]===_0xb95414(0x771)},'SSL_CONF':{'PRIVKEY':process[_0xb95414(0x33b)]?.[_0xb95414(0x404)],'FULLCHAIN':process[_0xb95414(0x33b)]?.[_0xb95414(0x1ea)]},'STORE':{'CLEANING_INTERVAL':Number[_0xb95414(0x436)](process[_0xb95414(0x33b)]?.['STORE_CLEANING_TERMINAL'])?Number[_0xb95414(0x5c1)](process['env']['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process[_0xb95414(0x33b)]?.['STORE_MESSAGE']===_0xb95414(0x771),'CONTACTS':process['env']?.['STORE_CONTACTS']===_0xb95414(0x771),'CHATS':process['env']?.[_0xb95414(0x4fa)]===_0xb95414(0x771)},'DATABASE':{'CONNECTION':{'HOST':process[_0xb95414(0x33b)]?.[_0xb95414(0x557)],'PORT':Number['parseInt'](process[_0xb95414(0x33b)]?.[_0xb95414(0x557)]),'USER':process[_0xb95414(0x33b)]['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0xb95414(0x33b)][_0xb95414(0x3bb)],'URI':process[_0xb95414(0x33b)][_0xb95414(0x315)],'DB_PREFIX_NAME':process[_0xb95414(0x33b)]['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process['env']?.[_0xb95414(0x4e6)]===_0xb95414(0x771)},'REDIS':{'ENABLED':process[_0xb95414(0x33b)]?.[_0xb95414(0x27b)]===_0xb95414(0x771),'URI':process['env']['REDIS_URI']||_0xb95414(0x7ae),'PREFIX_KEY':process[_0xb95414(0x33b)]['REDIS_PREFIX_KEY']||_0xb95414(0x5e9)},'LOG':{'LEVEL':process[_0xb95414(0x33b)]?.[_0xb95414(0x4e5)]['split'](','),'COLOR':process[_0xb95414(0x33b)]?.[_0xb95414(0x7cf)]==='true'},'PROXY':Number[_0xb95414(0x5c1)](process[_0xb95414(0x33b)]?.['PROXY']),'AUTHENTICATION':{'TYPE':process[_0xb95414(0x33b)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0xb95414(0x33b)][_0xb95414(0x5e1)]},'JWT':{'EXPIRIN_IN':Number[_0xb95414(0x436)](process['env']?.[_0xb95414(0x216)])?Number[_0xb95414(0x5c1)](process[_0xb95414(0x33b)][_0xb95414(0x216)]):0xe10,'SECRET':process[_0xb95414(0x33b)][_0xb95414(0x16d)]}}};}},b=new ns(),jr=O(require('cors')),he=O(require(a0_0x1ec271(0x61b))),Fs=require('path'),cs=O(require(a0_0x1ec271(0x205))),ls=(_0x3dd534=>(_0x3dd534[a0_0x1ec271(0x6bf)]='\x1b[32m',_0x3dd534['INFO']=a0_0x1ec271(0x4ad),_0x3dd534[a0_0x1ec271(0x7b2)]=a0_0x1ec271(0x523),_0x3dd534[a0_0x1ec271(0x787)]='\x1b[31m',_0x3dd534[a0_0x1ec271(0x35f)]=a0_0x1ec271(0x4d0),_0x3dd534[a0_0x1ec271(0x4ae)]=a0_0x1ec271(0x2cd),_0x3dd534['DARK']='\x1b[30m',_0x3dd534))(ls||{}),Ws=(_0x1ef5d8=>(_0x1ef5d8['LOG']='\x1b[32m%s\x1b[0m',_0x1ef5d8['DARK']=a0_0x1ec271(0x288),_0x1ef5d8[a0_0x1ec271(0x75a)]=a0_0x1ec271(0x72a),_0x1ef5d8[a0_0x1ec271(0x7b2)]=a0_0x1ec271(0x2c9),_0x1ef5d8[a0_0x1ec271(0x787)]=a0_0x1ec271(0x318),_0x1ef5d8['DEBUG']=a0_0x1ec271(0x3d9),_0x1ef5d8[a0_0x1ec271(0x4ae)]=a0_0x1ec271(0x188),_0x1ef5d8))(Ws||{}),zs=(_0x55eea7=>(_0x55eea7[a0_0x1ec271(0x6bf)]=a0_0x1ec271(0x6bf),_0x55eea7[a0_0x1ec271(0x7b2)]='WARN',_0x55eea7[a0_0x1ec271(0x75a)]=a0_0x1ec271(0x75a),_0x55eea7[a0_0x1ec271(0x63e)]=a0_0x1ec271(0x63e),_0x55eea7['ERROR']=a0_0x1ec271(0x787),_0x55eea7[a0_0x1ec271(0x35f)]=a0_0x1ec271(0x35f),_0x55eea7[a0_0x1ec271(0x4ae)]=a0_0x1ec271(0x4ae),_0x55eea7))(zs||{}),Hs=(_0x21308a=>(_0x21308a[a0_0x1ec271(0x6bf)]=a0_0x1ec271(0x1c7),_0x21308a['INFO']=a0_0x1ec271(0x5e2),_0x21308a[a0_0x1ec271(0x7b2)]=a0_0x1ec271(0x3aa),_0x21308a[a0_0x1ec271(0x63e)]=a0_0x1ec271(0x681),_0x21308a['ERROR']=a0_0x1ec271(0x31e),_0x21308a[a0_0x1ec271(0x35f)]=a0_0x1ec271(0x3a4),_0x21308a[a0_0x1ec271(0x4ae)]='\x1b[47m',_0x21308a))(Hs||{}),v=class{constructor(_0xb9badf=a0_0x1ec271(0x3bd)){const _0x4ab470=a0_0x1ec271;this[_0x4ab470(0x26d)]=_0xb9badf,this[_0x4ab470(0x7b9)]=b;}[a0_0x1ec271(0x6ac)](_0x3e2cec){const _0x40b4a0=a0_0x1ec271;this[_0x40b4a0(0x26d)]=_0x3e2cec;}[a0_0x1ec271(0x3ea)](_0x125bbe,_0x167de7){const _0x462ac9=a0_0x1ec271;let _0x2e9f11=[];this['configService'][_0x462ac9(0x651)](_0x462ac9(0x6bf))[_0x462ac9(0x2c7)]['forEach'](_0xb3d88c=>_0x2e9f11[_0x462ac9(0x474)](zs[_0xb3d88c]));let _0x1331aa=typeof _0x125bbe;_0x2e9f11[_0x462ac9(0x537)](_0x167de7)&&(b[_0x462ac9(0x651)](_0x462ac9(0x6bf))[_0x462ac9(0x302)]?(console[_0x462ac9(0x55f)]('\x1b[1m'+Ws[_0x167de7],_0x462ac9(0x3ad),(0x0,cs[_0x462ac9(0x3eb)])()[_0x462ac9(0x261)](_0x462ac9(0x80f)),_0x462ac9(0x321),ls[_0x167de7]+Hs[_0x167de7]+_0x462ac9(0x743),_0x167de7+_0x462ac9(0x3e9),'\x1b[33m\x1b[1m',this[_0x462ac9(0x26d)]+'\x1b[0m',ls[_0x167de7],_0x1331aa!==_0x462ac9(0x4b1)?_0x125bbe:'',_0x462ac9(0x321)),_0x1331aa===_0x462ac9(0x4b1)&&console[_0x462ac9(0x55f)](_0x125bbe,'\x0a')):console[_0x462ac9(0x55f)]((0x0,cs[_0x462ac9(0x3eb)])()[_0x462ac9(0x261)](_0x462ac9(0x5dc)),_0x167de7+'\x20',''+this[_0x462ac9(0x26d)],_0x125bbe));}[a0_0x1ec271(0x55f)](_0x352874){const _0x38c8b7=a0_0x1ec271;this[_0x38c8b7(0x3ea)](_0x352874,_0x38c8b7(0x6bf));}[a0_0x1ec271(0x6b7)](_0x36cc21){const _0x300d30=a0_0x1ec271;this['console'](_0x36cc21,_0x300d30(0x75a));}[a0_0x1ec271(0x596)](_0x12587f){const _0x5faddf=a0_0x1ec271;this[_0x5faddf(0x3ea)](_0x12587f,_0x5faddf(0x7b2));}[a0_0x1ec271(0x409)](_0x51b9be){const _0x4fc92e=a0_0x1ec271;this['console'](_0x51b9be,_0x4fc92e(0x787));}[a0_0x1ec271(0x641)](_0x5c8c47){const _0x1a988f=a0_0x1ec271;this[_0x1a988f(0x3ea)](_0x5c8c47,_0x1a988f(0x4ae));}[a0_0x1ec271(0x825)](_0x3d6fe7){const _0x51117c=a0_0x1ec271;this[_0x51117c(0x3ea)](_0x3d6fe7,_0x51117c(0x35f));}[a0_0x1ec271(0x79a)](_0x500e4a){const _0x488981=a0_0x1ec271;this[_0x488981(0x3ea)](_0x500e4a,_0x488981(0x63e));}};function Ks(){const _0x42d07a=a0_0x1ec271;process['on'](_0x42d07a(0x391),(_0x34e972,_0x23dd47)=>{const _0x4c835e=_0x42d07a;new v(_0x4c835e(0x391))[_0x4c835e(0x409)]({'origin':_0x23dd47,'stderr':process[_0x4c835e(0x65e)]['fd'],'error':_0x34e972});}),process['on']('unhandledRejection',(_0x205af1,_0x50eba7)=>{const _0x5ecd04=_0x42d07a;new v(_0x5ecd04(0x628))[_0x5ecd04(0x409)]({'origin':_0x50eba7,'stderr':process[_0x5ecd04(0x65e)]['fd'],'error':_0x205af1});});}function a0_0x37f8(_0x34fff8,_0x2d7dc5){const _0x31bd54=a0_0x31bd();return a0_0x37f8=function(_0x37f87b,_0x283539){_0x37f87b=_0x37f87b-0x16a;let _0x99c42d=_0x31bd54[_0x37f87b];return _0x99c42d;},a0_0x37f8(_0x34fff8,_0x2d7dc5);}var Qs=O(require(a0_0x1ec271(0x3f6))),us=new Qs[(a0_0x1ec271(0x3eb))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Le=require('mongoose'),Se=O(require(a0_0x1ec271(0x678))),ke=new v('Db\x20Connection'),L=b[a0_0x1ec271(0x651)](a0_0x1ec271(0x40d)),R=L[a0_0x1ec271(0x1d1)]?L[a0_0x1ec271(0x29d)][a0_0x1ec271(0x25c)]?Se[a0_0x1ec271(0x3eb)]['createConnection'](L[a0_0x1ec271(0x29d)][a0_0x1ec271(0x25c)],{'dbName':L[a0_0x1ec271(0x29d)][a0_0x1ec271(0x229)]+a0_0x1ec271(0x301)}):Se['default'][a0_0x1ec271(0x2eb)](a0_0x1ec271(0x5b7)+L[a0_0x1ec271(0x29d)][a0_0x1ec271(0x71f)]+':'+L[a0_0x1ec271(0x29d)][a0_0x1ec271(0x3db)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':L[a0_0x1ec271(0x29d)][a0_0x1ec271(0x249)],'pass':L[a0_0x1ec271(0x29d)][a0_0x1ec271(0x4aa)],'dbName':L[a0_0x1ec271(0x29d)][a0_0x1ec271(0x229)]+'-whatsapp-api'}):null;L[a0_0x1ec271(0x1d1)]&&ke[a0_0x1ec271(0x6b7)](a0_0x1ec271(0x40e)+R[a0_0x1ec271(0x51f)]);var me=L[a0_0x1ec271(0x1d1)]?L[a0_0x1ec271(0x29d)][a0_0x1ec271(0x25c)]?Se[a0_0x1ec271(0x3eb)]['createConnection'](L[a0_0x1ec271(0x29d)]['URI'],{'dbName':a0_0x1ec271(0x1ff)}):Se[a0_0x1ec271(0x3eb)][a0_0x1ec271(0x2eb)](a0_0x1ec271(0x5b7)+L[a0_0x1ec271(0x29d)][a0_0x1ec271(0x71f)]+':'+L[a0_0x1ec271(0x29d)][a0_0x1ec271(0x3db)]+a0_0x1ec271(0x1f7),{'user':L[a0_0x1ec271(0x29d)]['USER'],'pass':L[a0_0x1ec271(0x29d)][a0_0x1ec271(0x4aa)],'dbName':a0_0x1ec271(0x79c)}):null;me&&ke[a0_0x1ec271(0x6b7)](a0_0x1ec271(0x40e)+me['$dbName']),process['on'](a0_0x1ec271(0x5db),()=>{const _0x15c6b0=a0_0x1ec271;R&&R['close'](()=>{const _0x1ab257=a0_0x37f8;ke[_0x1ab257(0x6b7)](_0x1ab257(0x413));}),me&&me[_0x15c6b0(0x1a7)](()=>{const _0x12933d=_0x15c6b0;ke['info'](_0x12933d(0x3a3));});});var Yr=new Le[(a0_0x1ec271(0x48c))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Xr=new Le[(a0_0x1ec271(0x48c))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Yr],'default':[]}},{'_id':!0x1}),Zr=new Le[(a0_0x1ec271(0x48c))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Xr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number}}),Ys=_0x103785=>{const _0xe32924=a0_0x1ec271;let _0x449694='z_'+_0x103785+_0xe32924(0x266);return R?.[_0xe32924(0x2d7)](_0xe32924(0x7e8),Zr,_0x449694);},Xs=require(a0_0x1ec271(0x678)),ei=new Xs[(a0_0x1ec271(0x48c))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=_0x3c4a33=>{const _0x448cf7=a0_0x1ec271;let _0x34a05a='z_'+_0x3c4a33+_0x448cf7(0x517);return R?.[_0x448cf7(0x2d7)](_0x448cf7(0x662),ei,_0x34a05a);},ea=require(a0_0x1ec271(0x678)),ds=class{},ti=new ea[(a0_0x1ec271(0x48c))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ta=me?.[a0_0x1ec271(0x2d7)](ds['name'],ti,a0_0x1ec271(0x5a3)),sa=require(a0_0x1ec271(0x678)),si=new sa['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),aa=_0x3b769f=>{const _0xf85524=a0_0x1ec271;let _0x5edf74='z_'+_0x3b769f+_0xf85524(0x341);return R?.[_0xf85524(0x2d7)](_0xf85524(0x2f9),si,_0x5edf74);},ra=require(a0_0x1ec271(0x678)),ps=class{},ai=new ra[(a0_0x1ec271(0x48c))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ia=R?.[a0_0x1ec271(0x2d7)](ps['name'],ai,a0_0x1ec271(0x54e)),oa=require(a0_0x1ec271(0x678)),hs=class{},na=new oa[(a0_0x1ec271(0x48c))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});na['pre'](a0_0x1ec271(0x5a5),function(_0x374f81){const _0x1367db=a0_0x1ec271;delete this['flowActive'],delete this[_0x1367db(0x420)],delete this[_0x1367db(0x627)],delete this['flowStopConversation'],delete this[_0x1367db(0x407)],_0x374f81();});var ca=R?.[a0_0x1ec271(0x2d7)](hs['name'],na,'webhook'),j=require('mongoose'),la=require(a0_0x1ec271(0x685)),je=class{},ua=new j[(a0_0x1ec271(0x48c))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),gs=new j[(a0_0x1ec271(0x48c))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),ri=new j[(a0_0x1ec271(0x48c))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x1ec271(0x4d1)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x1ec271(0x798)},'pollErrorMessage':{'type':String,'default':a0_0x1ec271(0x243)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),da=new j[(a0_0x1ec271(0x48c))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ii=new j[(a0_0x1ec271(0x48c))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),oi=new j[(a0_0x1ec271(0x48c))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),bs=new j[(a0_0x1ec271(0x48c))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),pa=new j[(a0_0x1ec271(0x48c))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':ri},'apirequest':ii,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ha=new j['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ms=class{},Fe=new j[(a0_0x1ec271(0x48c))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,la['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0xdffed6=a0_0x1ec271;return _0xdffed6(0x35d)+Math[_0xdffed6(0x2ee)]()['toString'](0x24)[_0xdffed6(0x19a)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[bs],'variablesNotFound':{'type':[String]},'blocks':[pa],'groups':[ua],'conditions':[da],'varedits':[ha],'replyOptions':{'type':[gs],'default':[]}});Fe[a0_0x1ec271(0x7a6)](a0_0x1ec271(0x5a5),function(_0x1c3b93){const _0x2a85fb=a0_0x1ec271;let _0x57bc4a=new Set(),_0x57ce4f=new Set(this[_0x2a85fb(0x5b9)]?.[_0x2a85fb(0x540)](_0x14d8cc=>_0x14d8cc[_0x2a85fb(0x49a)])),_0x4ccf3b=JSON[_0x2a85fb(0x742)](this),_0x21ca89=/{{(?!_)([^}]*)}}/g,_0x5812b8;for(;(_0x5812b8=_0x21ca89[_0x2a85fb(0x7ab)](_0x4ccf3b))!==null;)_0x57ce4f[_0x2a85fb(0x674)](_0x5812b8[0x1])||_0x57bc4a['add'](_0x5812b8[0x1]);_0x57bc4a['size']>0x0?(console[_0x2a85fb(0x596)](_0x2a85fb(0x35c),Array[_0x2a85fb(0x445)](_0x57bc4a)),this[_0x2a85fb(0x629)]=Array['from'](_0x57bc4a)):this[_0x2a85fb(0x629)]=[],_0x1c3b93();}),Fe[a0_0x1ec271(0x7a6)](a0_0x1ec271(0x1c0),function(_0x2f81f9){const _0x1652e9=a0_0x1ec271;let _0x41a6e0=this[_0x1652e9(0x446)]();if(_0x41a6e0&&typeof _0x41a6e0=='object'&&'$set'in _0x41a6e0){let _0x2907fd=_0x41a6e0[_0x1652e9(0x757)];if(_0x2907fd){let _0x517f35=new Set(),_0x471c8c=new Set(_0x2907fd[_0x1652e9(0x5b9)]?.['map'](_0x469746=>_0x469746[_0x1652e9(0x49a)])),_0x4455e9=JSON[_0x1652e9(0x742)](_0x2907fd),_0x2e96fe=/{{(?!_)([^}]*)}}/g,_0x3fd8e9;for(;(_0x3fd8e9=_0x2e96fe[_0x1652e9(0x7ab)](_0x4455e9))!==null;)_0x471c8c[_0x1652e9(0x674)](_0x3fd8e9[0x1])||_0x517f35[_0x1652e9(0x524)](_0x3fd8e9[0x1]);_0x517f35[_0x1652e9(0x808)]>0x0?(console[_0x1652e9(0x596)](_0x1652e9(0x35c),Array[_0x1652e9(0x445)](_0x517f35)),_0x2907fd['variablesNotFound']=Array[_0x1652e9(0x445)](_0x517f35)):_0x2907fd[_0x1652e9(0x629)]=[],this[_0x1652e9(0x4bc)]({'$set':_0x2907fd});}}_0x2f81f9();});var ga=_0xbedd46=>{const _0xa35462=a0_0x1ec271;let _0xcd6b4e='z_'+_0xbedd46+_0xa35462(0x52f);return R?.[_0xa35462(0x2d7)]('FlowModel',Fe,_0xcd6b4e);},ma=R?.['model'](ms[a0_0x1ec271(0x49a)],Fe,a0_0x1ec271(0x630)),ni=new j[(a0_0x1ec271(0x48c))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[bs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[oi]},{'_id':!0x1}),fs=class{},fa=new j[(a0_0x1ec271(0x48c))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[bs],'blocks':[pa],'groups':[ua],'conditions':[da],'varedits':[ha],'replyOptions':{'type':[gs],'default':[]},'chatLog':ni,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x1ec271(0x296)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x1ec271(0x798)},'waitingMenu_replyOptions':{'type':[gs],'default':[]}}),wa=_0x3f00ff=>{const _0x2ddc9f=a0_0x1ec271;let _0x3ba4b4='z_'+_0x3f00ff+_0x2ddc9f(0x79d);return R?.[_0x2ddc9f(0x2d7)]('ConversationModel',fa,_0x3ba4b4);},ya=R?.[a0_0x1ec271(0x2d7)](fs[a0_0x1ec271(0x49a)],fa,a0_0x1ec271(0x7ac)),ws=class{},ci=new j['Schema']({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),li=new j[(a0_0x1ec271(0x48c))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ba=new j[(a0_0x1ec271(0x48c))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x1ec271(0x264)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':li,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[ci],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),Sa=_0xe3ab22=>{const _0xb514ed=a0_0x1ec271;let _0x4bf834='z_'+_0xe3ab22+_0xb514ed(0x467);return R?.[_0xb514ed(0x2d7)]('ScheduleMessageModel',ba,_0x4bf834);},Ca=R?.[a0_0x1ec271(0x2d7)](ws[a0_0x1ec271(0x49a)],ba,a0_0x1ec271(0x7bd)),ys=class{},ui=new j[(a0_0x1ec271(0x48c))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),di=new j['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),pi=new j[(a0_0x1ec271(0x48c))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),hi=new j['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[pi]},'customFields':{'type':[ui]},'flowConfig':{'type':di,'default':{}}}),Ue=R?.[a0_0x1ec271(0x2d7)](ys['name'],hi,'AutomateSystem'),Ea=require(a0_0x1ec271(0x678)),gi=new Ea[(a0_0x1ec271(0x48c))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ma=_0x6d56fc=>{const _0x561809=a0_0x1ec271;let _0x169eda='z_'+_0x6d56fc+_0x561809(0x6dc);return R?.[_0x561809(0x2d7)](_0x561809(0x2ce),gi,_0x169eda);},D=class{constructor(_0x51beb0){this['dbSettings']=_0x51beb0['get']('DATABASE');}};function A(_0x3c0016){const _0x1c87cf=a0_0x1ec271;let _0x2aefa6={};for(let [_0x5757bf,_0x372f3e]of Object[_0x1c87cf(0x720)](_0x3c0016))if(typeof _0x372f3e==_0x1c87cf(0x4b1)&&!Array['isArray'](_0x372f3e)){for(let [_0x5705b5,_0x54af02]of Object['entries'](_0x372f3e))_0x2aefa6[_0x5757bf+'.'+_0x5705b5]=_0x54af02;}else _0x2aefa6[_0x5757bf]=_0x372f3e;return _0x2aefa6;}var Je=class{constructor(_0x5ed441,_0x11735a,_0x148ea8,_0x4312d4,_0xded1f6,_0xc6355c,_0x3cd4b0,_0x2a273c,_0x46ff14,_0x3a24bc,_0x2c4682,_0x4e500e){const _0xc1eac9=a0_0x1ec271;this['message']=_0x5ed441,this[_0xc1eac9(0x21e)]=_0x11735a,this[_0xc1eac9(0x477)]=_0x148ea8,this[_0xc1eac9(0x4af)]=_0x4312d4,this[_0xc1eac9(0x776)]=_0xded1f6,this[_0xc1eac9(0x719)]=_0xc6355c,this[_0xc1eac9(0x630)]=_0x3cd4b0,this[_0xc1eac9(0x7ac)]=_0x2a273c,this[_0xc1eac9(0x1ad)]=_0x46ff14,this[_0xc1eac9(0x481)]=_0x3a24bc,this['automateSystem']=_0x2c4682,this[_0xc1eac9(0x603)]=_0x4e500e;}get[a0_0x1ec271(0x611)](){const _0x49bfe3=a0_0x1ec271;return this[_0x49bfe3(0x603)];}},qe=class{},Ve=class extends D{[a0_0x1ec271(0x6bb)](_0x325c8c){return aa(_0x325c8c);}async[a0_0x1ec271(0x441)](_0x4ce1a4,_0x4d5776){const _0x26466a=a0_0x1ec271;if(_0x4ce1a4[_0x26466a(0x710)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x26466a(0x6bb)](_0x4d5776)[_0x26466a(0x821)]([..._0x4ce1a4]))['length']};}catch(_0x5a0181){return _0x5a0181;}}async[a0_0x1ec271(0x741)](_0x3bb088,_0x2e7465){const _0x553681=a0_0x1ec271;try{let _0x563a01=this[_0x553681(0x6bb)](_0x2e7465),_0x22ee73=A(_0x3bb088[_0x553681(0x819)]);return await _0x563a01[_0x553681(0x741)](_0x22ee73)['sort']({'messageTimestamp':-0x1})[_0x553681(0x75f)](_0x3bb088?.['limit']??0x0)[_0x553681(0x709)]();}catch{return[];}}async['delete'](_0x59a6b2,_0x2643ce){const _0x1f6f57=a0_0x1ec271;try{let _0x1041c1=this[_0x1f6f57(0x6bb)](_0x2643ce),_0x251faa=A(_0x59a6b2[_0x1f6f57(0x819)]);await _0x1041c1[_0x1f6f57(0x316)](_0x251faa);}catch(_0x50bd5a){console[_0x1f6f57(0x409)](_0x50bd5a);}}async[a0_0x1ec271(0x5f2)](_0x13e97b,_0x1711c1,_0x3e812b){const _0x4461f9=a0_0x1ec271;try{let _0x4f083a=this[_0x4461f9(0x6bb)](_0x3e812b),_0x5766e0=A(_0x13e97b[_0x4461f9(0x819)]);return await _0x4f083a[_0x4461f9(0x1c0)](_0x5766e0,{'$set':_0x1711c1},{'new':!0x0});}catch(_0x2bd3de){throw console['error'](_0x2bd3de),_0x2bd3de;}}async[a0_0x1ec271(0x821)](_0x174a30,_0x2ac616){const _0x418216=a0_0x1ec271;if(_0x174a30[_0x418216(0x710)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x2ac616)[_0x418216(0x821)]([..._0x174a30]))[_0x418216(0x710)]};}catch(_0x3a14c5){return console['log'](_0x418216(0x667),_0x3a14c5),_0x3a14c5;}}async[a0_0x1ec271(0x4a8)](_0x1ef754){const _0x3124c5=a0_0x1ec271;try{return await this[_0x3124c5(0x6bb)](_0x1ef754)[_0x3124c5(0x52d)][_0x3124c5(0x648)](),{'success':!0x0};}catch(_0x59a7b1){return console[_0x3124c5(0x409)](_0x59a7b1),{'success':!0x1,'error':_0x59a7b1};}}},As=O(require(a0_0x1ec271(0x753))),m=O(require(a0_0x1ec271(0x410))),Re=require('fs'),U=O(require(a0_0x1ec271(0x62c))),K=O(require(a0_0x1ec271(0x2e6))),Or=require(a0_0x1ec271(0x685)),Ar=O(require(a0_0x1ec271(0x3ac))),Ir=O(require(a0_0x1ec271(0x3af))),va=[a0_0x1ec271(0x434),a0_0x1ec271(0x2be),a0_0x1ec271(0x383),a0_0x1ec271(0x805),a0_0x1ec271(0x6c0)],Na=[a0_0x1ec271(0x27f),'documentWithCaptionMessage',a0_0x1ec271(0x20e),a0_0x1ec271(0x5f9)],Is=require('os'),$t=O(require(a0_0x1ec271(0x601))),Te=require('child_process'),kt=require(a0_0x1ec271(0x791)),le=O(require('mongoose')),P=require('class-validator'),fe=class{constructor(_0x4fd0a5,_0x28ab3b,_0xb9c699){const _0x5683fa=a0_0x1ec271;this[_0x5683fa(0x361)]=_0x4fd0a5,this[_0x5683fa(0x2a0)]=_0x28ab3b,this[_0x5683fa(0x49a)]=_0xb9c699;}},Be=class{},Ge=class{},Ce=class{},We=class{},ze=class{},we=class{},He=class{},Ke=class{},Qe=class{},Ye=class{},At=O(require(a0_0x1ec271(0x61b))),Ra=require('fs'),Ta=require(a0_0x1ec271(0x62c));async function Xe(_0x43fddc){const _0x577052=a0_0x1ec271;let _0x42313e=B['waInstances'][_0x43fddc];if(L[_0x577052(0x1d1)]){let _0x1b9292=R['getClient']()['db'](L['CONNECTION']['DB_PREFIX_NAME']+_0x577052(0x807))[_0x577052(0x52d)](_0x43fddc);return _0x42313e||(await _0x1b9292[_0x577052(0x741)]({})['toArray']())[_0x577052(0x710)]>0x0;}return _0x42313e||(0x0,Ra[_0x577052(0x4f1)])((0x0,Ta['join'])(ge,_0x43fddc));}async function Oa(_0x4e236a,_0x49370f,_0x560dd5){const _0x13dbb4=a0_0x1ec271;if(_0x4e236a[_0x13dbb4(0x3de)][_0x13dbb4(0x537)](_0x13dbb4(0x6aa))||_0x4e236a[_0x13dbb4(0x3de)][_0x13dbb4(0x537)](_0x13dbb4(0x17e))||_0x4e236a['originalUrl'][_0x13dbb4(0x537)](_0x13dbb4(0x43a))||_0x4e236a[_0x13dbb4(0x3de)]['includes'](_0x13dbb4(0x259))||_0x4e236a[_0x13dbb4(0x3de)]['includes'](_0x13dbb4(0x740))||_0x4e236a[_0x13dbb4(0x3de)][_0x13dbb4(0x537)](_0x13dbb4(0x5de))||_0x4e236a['originalUrl'][_0x13dbb4(0x537)](_0x13dbb4(0x672)))return _0x560dd5();let _0x4d0df3=_0x4e236a[_0x13dbb4(0x419)];if(!_0x4d0df3?.['instanceName'])throw new w('instanceName\x20not\x20provided.');if(!await Xe(_0x4d0df3[_0x13dbb4(0x33c)]))throw new F(_0x13dbb4(0x57d)+_0x4d0df3[_0x13dbb4(0x33c)]+_0x13dbb4(0x3c3));_0x560dd5();}async function Aa(_0x4d377f,_0x4cff4e,_0x4fabac){const _0x64b6fe=a0_0x1ec271;if(_0x4d377f[_0x64b6fe(0x3de)][_0x64b6fe(0x537)](_0x64b6fe(0x6aa))){let _0x3f49ac=_0x4d377f[_0x64b6fe(0x542)];if(await Xe(_0x3f49ac['instanceName']))throw new Q(_0x64b6fe(0x4a3)+_0x3f49ac['instanceName']+_0x64b6fe(0x2e4));B[_0x64b6fe(0x536)][_0x3f49ac['instanceName']]&&delete B['waInstances'][_0x3f49ac[_0x64b6fe(0x33c)]];}_0x4fabac();}var Ia=require('class-validator'),xa=O(require(a0_0x1ec271(0x67d))),Ze=a0_0x1ec271(0x5e9),fi=new v(a0_0x1ec271(0x271));async function wi(_0x45316e,_0x4ee3ed,_0x2d4201){const _0x2a818a=a0_0x1ec271;let _0x567872=_0x45316e['get'](_0x2a818a(0x466));if(_0x567872&&b['get'](_0x2a818a(0x697))[_0x2a818a(0x81f)]['KEY']!==_0x567872)throw new te();if(b[_0x2a818a(0x651)](_0x2a818a(0x697))[_0x2a818a(0x81f)][_0x2a818a(0x714)]===_0x567872)return _0x2d4201();if((_0x45316e['originalUrl'][_0x2a818a(0x537)]('/instance/create')||_0x45316e[_0x2a818a(0x3de)]['includes'](_0x2a818a(0x17e)))&&!_0x567872)throw new Q(_0x2a818a(0x7f8),_0x2a818a(0x78a));let _0x35fef7=b[_0x2a818a(0x651)](_0x2a818a(0x697))['JWT'];try{let [_0x29d113,_0x75909f]=_0x45316e[_0x2a818a(0x651)]('authorization')['split']('\x20');if(_0x29d113[_0x2a818a(0x3d2)]()!==_0x2a818a(0x4b8))throw new te();if(!(0x0,Ia[_0x2a818a(0x7c2)])(_0x75909f))throw new te();let _0x1b4646=_0x45316e[_0x2a818a(0x419)],_0x3b27d2=xa[_0x2a818a(0x3eb)][_0x2a818a(0x332)](_0x75909f,_0x35fef7['SECRET'],{'ignoreExpiration':_0x35fef7['EXPIRIN_IN']===0x0});if(_0x1b4646[_0x2a818a(0x33c)]!==_0x3b27d2[_0x2a818a(0x33c)]||Ze!==_0x3b27d2[_0x2a818a(0x31c)])throw new te();return _0x2d4201();}catch(_0x258072){throw fi[_0x2a818a(0x409)](_0x258072),new te();}}async function yi(_0x590264,_0x4a7ce3,_0x3d99c2){const _0x35ba9c=a0_0x1ec271;let _0x4e37da=b[_0x35ba9c(0x651)](_0x35ba9c(0x697))[_0x35ba9c(0x81f)],_0x150680=_0x590264['get']('apikey');if(_0x4e37da[_0x35ba9c(0x714)]===_0x150680)return _0x3d99c2();if(_0x590264[_0x35ba9c(0x3de)][_0x35ba9c(0x537)](_0x35ba9c(0x6aa))){let _0x1e954a=et,_0x4561cb=_0x590264[_0x35ba9c(0x542)][_0x35ba9c(0x33c)];if(_0x1e954a&&_0x4561cb[_0x35ba9c(0x3d2)]()[_0x35ba9c(0x63a)](_0x1e954a[_0x35ba9c(0x3d2)]()))return _0x3d99c2();if(!_0x150680)throw new Q('Missing\x20global\x20api\x20key',_0x35ba9c(0x78a));}if(_0x590264[_0x35ba9c(0x3de)][_0x35ba9c(0x537)](_0x35ba9c(0x17e))&&!_0x150680)throw new Q(_0x35ba9c(0x7f8),_0x35ba9c(0x78a));if(_0x590264['originalUrl'][_0x35ba9c(0x537)]('/exit')&&!_0x150680)throw new Q(_0x35ba9c(0x7f8),_0x35ba9c(0x78a));if(_0x590264[_0x35ba9c(0x3de)][_0x35ba9c(0x537)](_0x35ba9c(0x259))&&!_0x150680)throw new Q(_0x35ba9c(0x7f8),_0x35ba9c(0x78a));try{let _0x3a29e1=_0x590264[_0x35ba9c(0x419)],_0x3bf515=await ue[_0x35ba9c(0x719)][_0x35ba9c(0x741)](_0x3a29e1[_0x35ba9c(0x33c)]);if(_0x3bf515&&_0x3bf515['apikey']===_0x150680)return _0x3d99c2();}catch{}throw new te();}var Da={'jwt':wi,'apikey':yi},pr=require(a0_0x1ec271(0x61b)),E=require('uuid'),C=(..._0x4ee3fa)=>{const _0x198be9=a0_0x1ec271;let _0x3c13b2={};return _0x4ee3fa[_0x198be9(0x359)](_0x5633da=>_0x3c13b2[_0x5633da]={'minLength':0x1,'description':_0x198be9(0x6cc)+_0x5633da+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x4ee3fa]}},'then':{'properties':_0x3c13b2}};},M={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'instanceName':{'type':a0_0x1ec271(0x186)}},...C(a0_0x1ec271(0x33c))},cc={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'oldToken':{'type':a0_0x1ec271(0x186)}},'required':[a0_0x1ec271(0x232)],...C(a0_0x1ec271(0x232))},lc={'properties':{'key':{'type':a0_0x1ec271(0x4b1),'properties':{'id':{'type':a0_0x1ec271(0x186)},'remoteJid':{'type':a0_0x1ec271(0x186)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x1ec271(0x560),a0_0x1ec271(0x794)],...C('id','remoteJid')},'message':{'type':a0_0x1ec271(0x4b1)}}},Y={'properties':{'delay':{'type':a0_0x1ec271(0x398),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x1ec271(0x186),'enum':[a0_0x1ec271(0x435),a0_0x1ec271(0x273),'composing',a0_0x1ec271(0x80e),'paused']}}},z={'type':'string','pattern':'^\x5cd+[\x5c.@\x5cw-]+','description':a0_0x1ec271(0x5b0)},_a={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'number':{...z},'options':{...Y},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x1ec271(0x186)}},'required':[a0_0x1ec271(0x308)],...C(a0_0x1ec271(0x308))}},'required':[a0_0x1ec271(0x16e),'number']},Pa={'type':a0_0x1ec271(0x186),'pattern':a0_0x1ec271(0x4df),'description':'Invalid\x20format'},uc={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'number':{...Pa},'options':{...Y},'textMessage':{'type':a0_0x1ec271(0x4b1),'properties':{'text':{'type':a0_0x1ec271(0x186)}},'required':[a0_0x1ec271(0x308)],...C(a0_0x1ec271(0x308))}},'required':[a0_0x1ec271(0x16e),a0_0x1ec271(0x396)]},dc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Pa},'options':{...Y},'mediaMessage':{'type':a0_0x1ec271(0x4b1),'properties':{'mediatype':{'type':a0_0x1ec271(0x186),'enum':[a0_0x1ec271(0x23a),a0_0x1ec271(0x71b),a0_0x1ec271(0x1d9),a0_0x1ec271(0x422)]},'media':{'type':a0_0x1ec271(0x186)},'fileName':{'type':'string'},'caption':{'type':a0_0x1ec271(0x186)}},'required':[a0_0x1ec271(0x2c3),'media'],...C('fileName',a0_0x1ec271(0x2d9),a0_0x1ec271(0x7c3))}},'required':[a0_0x1ec271(0x573),a0_0x1ec271(0x396)]},$a={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'number':{...z},'options':{...Y},'stickerMessage':{'type':a0_0x1ec271(0x4b1),'properties':{'image':{'type':a0_0x1ec271(0x186)}},'required':[a0_0x1ec271(0x23a)],...C(a0_0x1ec271(0x23a))}},'required':[a0_0x1ec271(0x6c0),a0_0x1ec271(0x396)]},ka={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x1ec271(0x186),'enum':['text','image',a0_0x1ec271(0x422),a0_0x1ec271(0x1d9)]},'content':{'type':'string'},'caption':{'type':a0_0x1ec271(0x186)},'backgroundColor':{'type':a0_0x1ec271(0x186)},'font':{'type':a0_0x1ec271(0x398),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x1ec271(0x30b),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x1ec271(0x35e),'description':a0_0x1ec271(0x38f)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['type',a0_0x1ec271(0x6b5)],...C(a0_0x1ec271(0x325),a0_0x1ec271(0x6b5))}},'required':[a0_0x1ec271(0x41d)]},La={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'number':{...z},'options':{...Y},'mediaMessage':{'type':a0_0x1ec271(0x4b1),'properties':{'mediatype':{'type':'string','enum':[a0_0x1ec271(0x23a),'document','video','audio']},'media':{'type':'string'},'fileName':{'type':a0_0x1ec271(0x186)},'caption':{'type':'string'}},'required':['mediatype','media'],...C(a0_0x1ec271(0x459),'caption','media')}},'required':[a0_0x1ec271(0x573),a0_0x1ec271(0x396)]},ja={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'number':{...z},'options':{...Y},'audioMessage':{'type':a0_0x1ec271(0x4b1),'properties':{'audio':{'type':'string'}},'required':[a0_0x1ec271(0x422)],...C(a0_0x1ec271(0x422))}},'required':['audioMessage',a0_0x1ec271(0x396)]},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'number':{...z},'pollMessage':{'type':'object','properties':{'name':{'type':a0_0x1ec271(0x186)},'selectableCount':{'type':'number'},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x1ec271(0x49a),a0_0x1ec271(0x412),a0_0x1ec271(0x591)],...C(a0_0x1ec271(0x49a),a0_0x1ec271(0x412),a0_0x1ec271(0x591))}},'required':[a0_0x1ec271(0x396),a0_0x1ec271(0x36d)]},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'number':{...z},'menuMessage':{'type':'object','properties':{'text':{'type':a0_0x1ec271(0x186)},'choices':{'type':a0_0x1ec271(0x30b),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x1ec271(0x308),a0_0x1ec271(0x512)],...C('text',a0_0x1ec271(0x512))}},'required':['number',a0_0x1ec271(0x16c)]},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'number':{...z},'options':{...Y},'buttonMessage':{'type':a0_0x1ec271(0x4b1),'properties':{'title':{'type':a0_0x1ec271(0x186)},'description':{'type':a0_0x1ec271(0x186)},'footerText':{'type':'string'},'buttons':{'type':a0_0x1ec271(0x30b),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1ec271(0x4b1),'properties':{'buttonText':{'type':a0_0x1ec271(0x186)},'buttonId':{'type':'string'}},'required':['buttonText',a0_0x1ec271(0x26b)],...C(a0_0x1ec271(0x694),a0_0x1ec271(0x26b))}},'mediaMessage':{'type':a0_0x1ec271(0x4b1),'properties':{'media':{'type':a0_0x1ec271(0x186)},'fileName':{'type':'string'},'mediatype':{'type':a0_0x1ec271(0x186),'enum':[a0_0x1ec271(0x23a),a0_0x1ec271(0x71b),a0_0x1ec271(0x1d9)]}},'required':['media','mediatype'],...C(a0_0x1ec271(0x7c3),a0_0x1ec271(0x459))}},'required':['title',a0_0x1ec271(0x6e0)],...C('title','description')}},'required':[a0_0x1ec271(0x396),'buttonMessage']},qa={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'number':{...z},'options':{...Y},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0x1ec271(0x396)},'longitude':{'type':a0_0x1ec271(0x396)},'name':{'type':'string'},'address':{'type':a0_0x1ec271(0x186)}},'required':['latitude','longitude'],...C(a0_0x1ec271(0x49a),'addresss')}},'required':['number',a0_0x1ec271(0x3b8)]},Va={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'number':{...z},'options':{...Y},'listMessage':{'type':a0_0x1ec271(0x4b1),'properties':{'title':{'type':a0_0x1ec271(0x186)},'description':{'type':a0_0x1ec271(0x186)},'footerText':{'type':a0_0x1ec271(0x186)},'buttonText':{'type':a0_0x1ec271(0x186)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1ec271(0x4b1),'properties':{'title':{'type':a0_0x1ec271(0x186)},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1ec271(0x4b1),'properties':{'title':{'type':a0_0x1ec271(0x186)},'description':{'type':'string'},'rowId':{'type':a0_0x1ec271(0x186)}},'required':[a0_0x1ec271(0x373),'rowId'],...C('title','rowId')}}},'required':[a0_0x1ec271(0x373),a0_0x1ec271(0x212)],...C(a0_0x1ec271(0x373))}}},'required':[a0_0x1ec271(0x373),a0_0x1ec271(0x457),'buttonText',a0_0x1ec271(0x1d6)],...C(a0_0x1ec271(0x373),a0_0x1ec271(0x457),a0_0x1ec271(0x694),a0_0x1ec271(0x1c8))}},'required':['number','listMessage']},Ba={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'contactMessage':{'type':'array','items':{'type':'object','properties':{'fullName':{'type':a0_0x1ec271(0x186)},'phoneNumber':{'type':a0_0x1ec271(0x186),'minLength':0xa}},'required':['fullName',a0_0x1ec271(0x46b)],...C(a0_0x1ec271(0x43d))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x1ec271(0x396),a0_0x1ec271(0x421)]},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'reactionMessage':{'type':a0_0x1ec271(0x4b1),'properties':{'key':{'type':a0_0x1ec271(0x4b1),'properties':{'id':{'type':a0_0x1ec271(0x186)},'remoteJid':{'type':a0_0x1ec271(0x186)},'fromMe':{'type':a0_0x1ec271(0x57f),'enum':[!0x0,!0x1]}},'required':['id',a0_0x1ec271(0x560),a0_0x1ec271(0x794)],...C('id','remoteJid')},'reaction':{'type':a0_0x1ec271(0x186)}},'required':[a0_0x1ec271(0x669),a0_0x1ec271(0x37b)],...C(a0_0x1ec271(0x37b))}},'required':['reactionMessage']},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'numbers':{'type':a0_0x1ec271(0x30b),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1ec271(0x186),'pattern':a0_0x1ec271(0x35e),'description':a0_0x1ec271(0x48b)}}}},za={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'readMessages':{'type':a0_0x1ec271(0x30b),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x1ec271(0x57f),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x1ec271(0x186)}},'required':['id','fromMe',a0_0x1ec271(0x560)],...C('id',a0_0x1ec271(0x560))}}},'required':['readMessages']},Ha={'$id':(0x0,E['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x1ec271(0x4b1),'properties':{'readreceipts':{'type':a0_0x1ec271(0x186),'enum':[a0_0x1ec271(0x60d),a0_0x1ec271(0x50a)]},'profile':{'type':a0_0x1ec271(0x186),'enum':[a0_0x1ec271(0x60d),a0_0x1ec271(0x830),a0_0x1ec271(0x25f),a0_0x1ec271(0x50a)]},'status':{'type':'string','enum':[a0_0x1ec271(0x60d),a0_0x1ec271(0x830),'contact_blacklist',a0_0x1ec271(0x50a)]},'online':{'type':a0_0x1ec271(0x186),'enum':[a0_0x1ec271(0x60d),a0_0x1ec271(0x65c)]},'last':{'type':a0_0x1ec271(0x186),'enum':[a0_0x1ec271(0x60d),a0_0x1ec271(0x830),'contact_blacklist',a0_0x1ec271(0x50a)]},'groupadd':{'type':a0_0x1ec271(0x186),'enum':[a0_0x1ec271(0x60d),a0_0x1ec271(0x830),'contact_blacklist',a0_0x1ec271(0x50a)]}},'required':[a0_0x1ec271(0x760),'profile','status',a0_0x1ec271(0x7de),a0_0x1ec271(0x344),a0_0x1ec271(0x37a)],...C(a0_0x1ec271(0x760),'profile','status',a0_0x1ec271(0x7de),'last',a0_0x1ec271(0x37a))}},'required':[a0_0x1ec271(0x7e2)]},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':a0_0x1ec271(0x4b1),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x1ec271(0x186)},'fromMe':{'type':a0_0x1ec271(0x57f),'enum':[!0x0,!0x1]}},'required':['id',a0_0x1ec271(0x794),a0_0x1ec271(0x560)],...C('id',a0_0x1ec271(0x560))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x1ec271(0x669)],...C('messageTimestamp')},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x1ec271(0x44d),a0_0x1ec271(0x189)]},Qa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'id':{'type':a0_0x1ec271(0x186)},'fromMe':{'type':a0_0x1ec271(0x57f),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x1ec271(0x186)},'participant':{'type':a0_0x1ec271(0x186)}},'required':['id','fromMe',a0_0x1ec271(0x560)],...C('id',a0_0x1ec271(0x560),a0_0x1ec271(0x750))},Ya={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':a0_0x1ec271(0x4b1),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x1ec271(0x186),'minLength':0x1},'id':{'type':a0_0x1ec271(0x186),'minLength':0x1}},...C(a0_0x1ec271(0x6dd),'id','pushName')}}},Xa={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'name':{'type':a0_0x1ec271(0x186)}},...C(a0_0x1ec271(0x49a))},Za={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'status':{'type':a0_0x1ec271(0x186)}},...C(a0_0x1ec271(0x721))},Ee={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'number':{'type':'string'},'picture':{'type':a0_0x1ec271(0x186)}}},er={'type':'object','properties':{'wuid':{'type':a0_0x1ec271(0x186)},'name':{'type':a0_0x1ec271(0x186)},'picture':{'type':a0_0x1ec271(0x186)},'status':{'type':a0_0x1ec271(0x186)},'isBusiness':{'type':a0_0x1ec271(0x57f)}}},tr={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x1ec271(0x4b1),'if':{'propertyNames':{'enum':[a0_0x1ec271(0x794),a0_0x1ec271(0x560),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x1ec271(0x186),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x1ec271(0x186),'minLength':0x1,'description':a0_0x1ec271(0x5e5)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...C(a0_0x1ec271(0x6dd))},'limit':{'type':a0_0x1ec271(0x398)}}},pc={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'where':{'type':a0_0x1ec271(0x4b1),'properties':{'_id':{'type':a0_0x1ec271(0x186)},'remoteJid':{'type':a0_0x1ec271(0x186)},'id':{'type':a0_0x1ec271(0x186)},'fromMe':{'type':a0_0x1ec271(0x57f),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x1ec271(0x186)},'status':{'type':a0_0x1ec271(0x186),'enum':[a0_0x1ec271(0x787),a0_0x1ec271(0x67f),a0_0x1ec271(0x80c),a0_0x1ec271(0x4d2),a0_0x1ec271(0x53b),a0_0x1ec271(0x5c7)]}},...C('_id',a0_0x1ec271(0x560),'id',a0_0x1ec271(0x721))},'limit':{'type':a0_0x1ec271(0x398)}}},sr={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'number':{...z},'presence':{'type':a0_0x1ec271(0x186),'enum':[a0_0x1ec271(0x435),a0_0x1ec271(0x273),'composing',a0_0x1ec271(0x80e),a0_0x1ec271(0x24e)]}},'required':['presence',a0_0x1ec271(0x396)]},ar={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'subject':{'type':a0_0x1ec271(0x186)},'description':{'type':a0_0x1ec271(0x186)},'profilePicture':{'type':'string'},'participants':{'type':a0_0x1ec271(0x30b),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1ec271(0x186),'minLength':0xa,'pattern':a0_0x1ec271(0x2d3),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':['subject',a0_0x1ec271(0x2ed)],...C(a0_0x1ec271(0x4b7),a0_0x1ec271(0x457),a0_0x1ec271(0x47e))},Me={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'groupJid':{'type':a0_0x1ec271(0x186),'pattern':a0_0x1ec271(0x69a)}},'required':[a0_0x1ec271(0x437)],...C(a0_0x1ec271(0x437))},rr={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x1ec271(0x186)},'action':{'type':a0_0x1ec271(0x186),'enum':[a0_0x1ec271(0x524),a0_0x1ec271(0x64c),'promote','demote','reject','approve']},'participants':{'type':a0_0x1ec271(0x30b),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1ec271(0x186),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x1ec271(0x22f)}}},'required':[a0_0x1ec271(0x437),a0_0x1ec271(0x797),a0_0x1ec271(0x2ed)],...C(a0_0x1ec271(0x437),a0_0x1ec271(0x797))},ir={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'groupJid':{'type':a0_0x1ec271(0x186)},'expiration':{'type':a0_0x1ec271(0x396),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x1ec271(0x75e)],...C(a0_0x1ec271(0x437),a0_0x1ec271(0x75e))},or={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'groupJid':{'type':a0_0x1ec271(0x186)},'image':{'type':a0_0x1ec271(0x186)}},'required':[a0_0x1ec271(0x437),'image'],...C(a0_0x1ec271(0x437),a0_0x1ec271(0x23a))},nr={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'groupJid':{'type':a0_0x1ec271(0x186)},'description':{'type':'string'}},'required':[a0_0x1ec271(0x437),'description'],...C(a0_0x1ec271(0x437),a0_0x1ec271(0x457))},cr={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'groupJid':{'type':a0_0x1ec271(0x186)},'name':{'type':a0_0x1ec271(0x186)}},'required':['groupJid',a0_0x1ec271(0x49a)],...C(a0_0x1ec271(0x437),'name')},lr={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x1ec271(0x186),'enum':['announcement',a0_0x1ec271(0x202),a0_0x1ec271(0x49d),a0_0x1ec271(0x809)]}},'required':['groupJid',a0_0x1ec271(0x69f)],...C('groupJid',a0_0x1ec271(0x69f))},ur={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'groupJid':{'type':'string'},'restrict':{'type':a0_0x1ec271(0x57f)},'announce':{'type':a0_0x1ec271(0x57f)},'memberAddMode':{'type':'boolean'},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':'integer','enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x1ec271(0x186)},'description':{'type':a0_0x1ec271(0x186)},'image':{'type':a0_0x1ec271(0x186)}}},Ss={'$id':(0x0,E['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x1ec271(0x186)}},'required':['inviteCode'],...C(a0_0x1ec271(0x36e))},dr={'$id':(0x0,E['v4'])(),'type':'object','properties':{'url':{'type':a0_0x1ec271(0x186)},'enabled':{'type':a0_0x1ec271(0x57f),'enum':[!0x0,!0x1]}},'required':[a0_0x1ec271(0x806),a0_0x1ec271(0x785)]},hc={'$id':(0x0,E['v4'])(),'type':a0_0x1ec271(0x4b1),'properties':{'local_map':{'type':a0_0x1ec271(0x57f),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x1ec271(0x57f),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x1ec271(0x57f),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x1ec271(0x57f),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x1ec271(0x57f),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x1ec271(0x57f),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x1ec271(0x57f),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x1ec271(0x57f),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x1ec271(0x57f),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x1ec271(0x57f),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x1ec271(0x57f),'enum':[!0x0,!0x1]}},'required':['local_map',a0_0x1ec271(0x5b5),a0_0x1ec271(0x801),'MESSAGES_SET',a0_0x1ec271(0x847),a0_0x1ec271(0x425),a0_0x1ec271(0x42a),a0_0x1ec271(0x241),'CONTACTS_UPSERT',a0_0x1ec271(0x4a9),a0_0x1ec271(0x55a),'CHATS_SET',a0_0x1ec271(0x464),'CHATS_UPDATE',a0_0x1ec271(0x1be),a0_0x1ec271(0x27c),a0_0x1ec271(0x17b),a0_0x1ec271(0x191),a0_0x1ec271(0x43e)],...C(a0_0x1ec271(0x39b),'STATUS_INSTANCE','QRCODE_UPDATED',a0_0x1ec271(0x1b4),a0_0x1ec271(0x847),a0_0x1ec271(0x425),a0_0x1ec271(0x42a),'CONTACTS_SET',a0_0x1ec271(0x5a2),'CONTACTS_UPDATE','PRESENCE_UPDATE',a0_0x1ec271(0x73f),a0_0x1ec271(0x464),a0_0x1ec271(0x21d),a0_0x1ec271(0x1be),a0_0x1ec271(0x27c),'GROUPS_UPSERT',a0_0x1ec271(0x191),a0_0x1ec271(0x43e))},tt=class{},st=class extends D{[a0_0x1ec271(0x32c)](_0x56ada0){return Zs(_0x56ada0);}async[a0_0x1ec271(0x441)](_0x3aa519){const _0x51fc6e=a0_0x1ec271;if(_0x3aa519[_0x51fc6e(0x710)]!==0x0)try{return{'insertCount':(await this[_0x51fc6e(0x32c)](_0x3aa519[0x0][_0x51fc6e(0x210)])[_0x51fc6e(0x821)]([..._0x3aa519]))['length']};}catch(_0x1103a4){return _0x1103a4;}}async[a0_0x1ec271(0x41e)](_0x4b41b1,_0x329c7a){const _0x4166b7=a0_0x1ec271;try{return{'deletedCount':(await this[_0x4166b7(0x32c)](_0x329c7a)[_0x4166b7(0x316)]({..._0x4b41b1['where']}))[_0x4166b7(0x4c3)]};}catch(_0x2ec0a4){return{'error':_0x2ec0a4?.[_0x4166b7(0x506)]()};}}async[a0_0x1ec271(0x5f2)](_0x1d9d96,_0x2d385e){const _0x157ac7=a0_0x1ec271;try{if(_0x1d9d96[_0x157ac7(0x710)]===0x0)return;let _0x29d394=this[_0x157ac7(0x32c)](_0x2d385e),_0x5162a8=_0x1d9d96[_0x157ac7(0x540)](_0x504b54=>({'updateOne':{'filter':{'_id':_0x504b54['_id'],'owner':_0x2d385e},'update':{..._0x504b54}}})),{modifiedCount:_0x462613}=await _0x29d394[_0x157ac7(0x2c4)](_0x5162a8);return{'insertCount':_0x462613};}catch{return;}}async[a0_0x1ec271(0x741)](_0x457dc7,_0x504e12){const _0x22353e=a0_0x1ec271;try{let _0x451104=this[_0x22353e(0x32c)](_0x504e12),_0xcb16a2=A(_0x457dc7[_0x22353e(0x819)]);return await _0x451104['find'](_0xcb16a2)[_0x22353e(0x75f)](_0x457dc7?.[_0x22353e(0x75f)]??0x0)[_0x22353e(0x709)]();}catch{return[];}}async[a0_0x1ec271(0x1a0)](_0x3aeeda,_0x115068){const _0x210481=a0_0x1ec271;try{let _0x572f5e=this['getContactModelForOwner'](_0x115068),_0x5c1c7d=A(_0x3aeeda['where']);return await _0x572f5e[_0x210481(0x1a0)](_0x5c1c7d)[_0x210481(0x709)]();}catch{return null;}}async[a0_0x1ec271(0x4a8)](_0x364b40){const _0x4138b5=a0_0x1ec271;try{return await this[_0x4138b5(0x32c)](_0x364b40)[_0x4138b5(0x52d)][_0x4138b5(0x648)](),{'success':!0x0};}catch(_0x583764){return console[_0x4138b5(0x409)](_0x583764),{'success':!0x1,'error':_0x583764};}}},at=require('jsonschema'),Ec=require('express-async-errors'),Cs=new v(a0_0x1ec271(0x1b6)),V=class{['routerPath'](_0x48df2d,_0x33f500=!0x0){const _0x3ad3fc=a0_0x1ec271;let _0x5c96d0='/'+_0x48df2d;return _0x33f500&&(_0x5c96d0+=_0x3ad3fc(0x313)),_0x5c96d0;}async[a0_0x1ec271(0x380)](_0x35f0a0){const _0x31d157=a0_0x1ec271;let {request:_0x2c0cbf,schema:_0x157f5e,ClassRef:_0x459e3f,execute:_0x5dc778}=_0x35f0a0,_0x189816=new _0x459e3f(),_0x55f371=_0x2c0cbf[_0x31d157(0x542)],_0x2420df=_0x2c0cbf[_0x31d157(0x419)];_0x2c0cbf?.[_0x31d157(0x3c4)]&&Object[_0x31d157(0x69d)](_0x2c0cbf['query'])[_0x31d157(0x710)]>0x0&&Object['assign'](_0x2420df,_0x2c0cbf['query']),_0x2c0cbf[_0x31d157(0x3de)][_0x31d157(0x537)](_0x31d157(0x6aa))&&Object[_0x31d157(0x7ad)](_0x2420df,_0x55f371),Object[_0x31d157(0x7ad)](_0x189816,_0x55f371);let _0x555b33=_0x157f5e?(0x0,at['validate'])(_0x189816,_0x157f5e):{'valid':!0x0,'errors':[]};if(!_0x555b33['valid']){let _0x2220f7=_0x555b33[_0x31d157(0x4c9)][_0x31d157(0x540)](({property:_0xec3221,stack:_0x4bb2b0,schema:_0x1170b7})=>{const _0x287191=_0x31d157;let _0x3a68e5;return _0x1170b7['description']?_0x3a68e5=_0x1170b7[_0x287191(0x457)]:_0x3a68e5=_0x4bb2b0[_0x287191(0x448)](_0x287191(0x574),''),{'property':_0xec3221[_0x287191(0x448)](_0x287191(0x574),''),'message':_0x3a68e5};});throw Cs[_0x31d157(0x409)]([..._0x2220f7]),new w(..._0x2220f7);}return await _0x5dc778(_0x2420df,_0x189816);}async[a0_0x1ec271(0x45f)](_0x5caea8){const _0x44ffe7=a0_0x1ec271;let {request:_0x187ab7,ClassRef:_0x2140b4,schema:_0x4f14e3,execute:_0x264746}=_0x5caea8,_0x1c4b37=_0x187ab7['query'];if(!_0x1c4b37?.[_0x44ffe7(0x437)])throw new w(_0x44ffe7(0x679),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x1b60d4=_0x187ab7[_0x44ffe7(0x419)],_0x14cda0=_0x187ab7[_0x44ffe7(0x542)],_0x5a5a4c=new _0x2140b4();Object[_0x44ffe7(0x7ad)](_0x14cda0,_0x1c4b37),Object['assign'](_0x5a5a4c,_0x14cda0);let _0x5a6d45=(0x0,at[_0x44ffe7(0x83b)])(_0x5a5a4c,_0x4f14e3);if(!_0x5a6d45[_0x44ffe7(0x5f5)]){let _0x23d2dc=_0x5a6d45[_0x44ffe7(0x4c9)][_0x44ffe7(0x540)](({property:_0x5046d2,stack:_0x247d35,schema:_0x1334e7})=>{const _0x40010d=_0x44ffe7;let _0x2062b6;return _0x1334e7['description']?_0x2062b6=_0x1334e7[_0x40010d(0x457)]:_0x2062b6=_0x247d35[_0x40010d(0x448)]('instance.',''),{'property':_0x5046d2['replace'](_0x40010d(0x574),''),'message':_0x2062b6};});throw Cs[_0x44ffe7(0x409)]([..._0x23d2dc]),new w(..._0x23d2dc);}return await _0x264746(_0x1b60d4,_0x5a5a4c);}async[a0_0x1ec271(0x554)](_0x109f56){const _0x56c96b=a0_0x1ec271;let {request:_0x9b3b27,ClassRef:_0x567a71,schema:_0x1972cb,execute:_0x1ccb9a}=_0x109f56,_0x303114=_0x9b3b27[_0x56c96b(0x542)];if(!_0x303114?.[_0x56c96b(0x36e)])throw new w('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x27a7f=_0x9b3b27[_0x56c96b(0x419)],_0x1884b3=_0x9b3b27[_0x56c96b(0x542)],_0x1c44dd=new _0x567a71();Object['assign'](_0x1884b3,_0x303114),Object[_0x56c96b(0x7ad)](_0x1c44dd,_0x1884b3);let _0x125fce=(0x0,at[_0x56c96b(0x83b)])(_0x1c44dd,_0x1972cb);if(!_0x125fce[_0x56c96b(0x5f5)]){let _0x51305c=_0x125fce['errors'][_0x56c96b(0x540)](({property:_0x15ead2,stack:_0x29c94a,schema:_0x29e65c})=>{const _0x2b2c21=_0x56c96b;let _0x3a9d63;return _0x29e65c['description']?_0x3a9d63=_0x29e65c[_0x2b2c21(0x457)]:_0x3a9d63=_0x29c94a[_0x2b2c21(0x448)](_0x2b2c21(0x574),''),{'property':_0x15ead2[_0x2b2c21(0x448)](_0x2b2c21(0x574),''),'message':_0x3a9d63};});throw Cs[_0x56c96b(0x409)]([..._0x51305c]),new w(..._0x51305c);}return await _0x1ccb9a(_0x27a7f,_0x1c44dd);}},S=class{},Lc=new v(a0_0x1ec271(0x449)),rt=class extends V{constructor(..._0x2fda49){const _0x5d8846=a0_0x1ec271;super(),this[_0x5d8846(0x41a)]=(0x0,pr[_0x5d8846(0x3f3)])(),this[_0x5d8846(0x41a)][_0x5d8846(0x352)](this[_0x5d8846(0x4ea)](_0x5d8846(0x2fc)),..._0x2fda49,async(_0x311ab0,_0x1884b7)=>{const _0x4ff998=_0x5d8846;let _0x96aa0b=await this[_0x4ff998(0x380)]({'request':_0x311ab0,'schema':sr,'ClassRef':Be,'execute':(_0x48c664,_0x51c7c8)=>_[_0x4ff998(0x2fc)](_0x48c664,_0x51c7c8)});return _0x1884b7['status'](0xc9)[_0x4ff998(0x684)](_0x96aa0b);})['post'](this[_0x5d8846(0x4ea)]('whatsappNumbers'),..._0x2fda49,async(_0x11a856,_0xa34f1b)=>{const _0x455cd6=_0x5d8846;let _0x3a6ec7=await this['dataValidate']({'request':_0x11a856,'schema':Wa,'ClassRef':Ge,'execute':(_0x59984a,_0x5ca286)=>_['whatsappNumber'](_0x59984a,_0x5ca286)});return _0xa34f1b['status'](0xc9)[_0x455cd6(0x684)](_0x3a6ec7);})['post'](this[_0x5d8846(0x4ea)](_0x5d8846(0x339)),..._0x2fda49,async(_0x5110d1,_0x4c8558)=>{const _0x142c6d=_0x5d8846;let _0x456d3e=await this[_0x142c6d(0x380)]({'request':_0x5110d1,'schema':M,'ClassRef':S,'execute':(_0x328727,_0x5547d2)=>_['editChat'](_0x328727,_0x5547d2)});return _0x4c8558['status'](0xc9)[_0x142c6d(0x684)](_0x456d3e);})['put'](this[_0x5d8846(0x4ea)](_0x5d8846(0x617)),..._0x2fda49,async(_0x36f9f6,_0x3708d6)=>{const _0x460811=_0x5d8846;let _0x337a0a=await this[_0x460811(0x380)]({'request':_0x36f9f6,'schema':za,'ClassRef':He,'execute':(_0x2bdb22,_0x17dd9f)=>_['readMessage'](_0x2bdb22,_0x17dd9f)});return _0x3708d6[_0x460811(0x721)](0xc9)[_0x460811(0x684)](_0x337a0a);})[_0x5d8846(0x5cf)](this[_0x5d8846(0x4ea)](_0x5d8846(0x781)),..._0x2fda49,async(_0x24bb73,_0x7d0ecd)=>{const _0x2c5275=_0x5d8846;let _0x41e17e=await this[_0x2c5275(0x380)]({'request':_0x24bb73,'schema':Ka,'ClassRef':Ke,'execute':(_0x7e94bc,_0xd21b99)=>_[_0x2c5275(0x781)](_0x7e94bc,_0xd21b99)});return _0x7d0ecd[_0x2c5275(0x721)](0xc9)[_0x2c5275(0x684)](_0x41e17e);})['delete'](this['routerPath']('deleteMessageForEveryone'),..._0x2fda49,async(_0x378b18,_0x5416bd)=>{const _0x2f0fac=_0x5d8846;let _0x2768cb=await this[_0x2f0fac(0x380)]({'request':_0x378b18,'schema':Qa,'ClassRef':Ye,'execute':(_0x252ab5,_0x531852)=>_[_0x2f0fac(0x78d)](_0x252ab5,_0x531852)});return _0x5416bd[_0x2f0fac(0x721)](0xc9)[_0x2f0fac(0x684)](_0x2768cb);})[_0x5d8846(0x352)](this['routerPath'](_0x5d8846(0x335)),..._0x2fda49,async(_0x4669d2,_0x181c40)=>{const _0x2ad81d=_0x5d8846;let _0x5ba287=await this[_0x2ad81d(0x380)]({'request':_0x4669d2,'schema':Ee,'ClassRef':Ce,'execute':(_0x21b723,_0x25aff4)=>_['fetchProfilePicture'](_0x21b723,_0x25aff4)});return _0x181c40[_0x2ad81d(0x721)](0xc8)[_0x2ad81d(0x684)](_0x5ba287);})[_0x5d8846(0x352)](this[_0x5d8846(0x4ea)]('fetchProfile'),..._0x2fda49,async(_0x481697,_0x5ec7db)=>{const _0x35527a=_0x5d8846;let _0x31a75d=await this[_0x35527a(0x380)]({'request':_0x481697,'schema':er,'ClassRef':Ce,'execute':(_0x38a2e0,_0x1c362e)=>_[_0x35527a(0x18e)](_0x38a2e0,_0x1c362e)});return _0x5ec7db['status'](0xc8)['json'](_0x31a75d);})[_0x5d8846(0x352)](this['routerPath'](_0x5d8846(0x493)),..._0x2fda49,async(_0x1d74c5,_0xfd9cfb)=>{const _0x422e21=_0x5d8846;let _0x31fa4e=await this[_0x422e21(0x380)]({'request':_0x1d74c5,'schema':Ya,'ClassRef':tt,'execute':(_0x25449b,_0x857322)=>_[_0x422e21(0x405)](_0x25449b,_0x857322)});return _0xfd9cfb[_0x422e21(0x721)](0xc8)[_0x422e21(0x684)](_0x31fa4e);})[_0x5d8846(0x352)](this[_0x5d8846(0x4ea)](_0x5d8846(0x48f)),..._0x2fda49,async(_0x20b0b7,_0x1b28f8)=>{const _0x4bc0a0=_0x5d8846;let _0x3b4112=await this[_0x4bc0a0(0x380)]({'request':_0x20b0b7,'schema':null,'ClassRef':Object,'execute':(_0x45251b,_0x3c9548)=>_[_0x4bc0a0(0x48f)](_0x45251b,_0x3c9548)});return _0x1b28f8[_0x4bc0a0(0x721)](0xc9)[_0x4bc0a0(0x684)](_0x3b4112);})[_0x5d8846(0x352)](this[_0x5d8846(0x4ea)](_0x5d8846(0x63c)),..._0x2fda49,async(_0x348f01,_0x7ee5ef)=>{const _0x4ed739=_0x5d8846;let _0x5dd1e1=await this[_0x4ed739(0x380)]({'request':_0x348f01,'schema':tr,'ClassRef':qe,'execute':(_0x519631,_0x4b6b17)=>_[_0x4ed739(0x176)](_0x519631,_0x4b6b17)});return _0x7ee5ef['status'](0xc8)[_0x4ed739(0x684)](_0x5dd1e1);})['get'](this['routerPath'](_0x5d8846(0x77e)),..._0x2fda49,async(_0x119b23,_0x1596d0)=>{const _0x1ded42=_0x5d8846;let _0x143c83=await this[_0x1ded42(0x380)]({'request':_0x119b23,'schema':null,'ClassRef':S,'execute':_0x3a8cb5=>_['fetchChats'](_0x3a8cb5)});return _0x1596d0[_0x1ded42(0x721)](0xc8)['json'](_0x143c83);})[_0x5d8846(0x651)](this[_0x5d8846(0x4ea)](_0x5d8846(0x256)),..._0x2fda49,async(_0x1004c0,_0x38908e)=>{const _0x5522d2=_0x5d8846;let _0x18a803=await this[_0x5522d2(0x380)]({'request':_0x1004c0,'schema':null,'ClassRef':S,'execute':_0x3737f2=>_[_0x5522d2(0x4cd)](_0x3737f2)});return _0x38908e[_0x5522d2(0x721)](0xc8)[_0x5522d2(0x684)](_0x18a803);})[_0x5d8846(0x5cf)](this[_0x5d8846(0x4ea)](_0x5d8846(0x54c)),..._0x2fda49,async(_0xb787fe,_0x1e5b3b)=>{const _0x8dfdff=_0x5d8846;let _0x123811=await this['dataValidate']({'request':_0xb787fe,'schema':null,'ClassRef':Array,'execute':(_0x5fc17f,_0x3bcd00)=>_[_0x8dfdff(0x54c)](_0x5fc17f,_0x3bcd00)});return _0x1e5b3b[_0x8dfdff(0x721)](0xc8)[_0x8dfdff(0x684)](_0x123811);})['get'](this[_0x5d8846(0x4ea)](_0x5d8846(0x3fa)),..._0x2fda49,async(_0xdf67f2,_0x5c56f1)=>{const _0x2b90b4=_0x5d8846;let _0x2fee27=await this[_0x2b90b4(0x380)]({'request':_0xdf67f2,'schema':null,'ClassRef':S,'execute':_0xbec2cd=>_[_0x2b90b4(0x3fa)](_0xbec2cd)});return _0x5c56f1[_0x2b90b4(0x721)](0xc8)['json'](_0x2fee27);})[_0x5d8846(0x5cf)](this[_0x5d8846(0x4ea)](_0x5d8846(0x5f4)),..._0x2fda49,async(_0x59231d,_0x3ad164)=>{const _0x359ddc=_0x5d8846;let _0x498f8c=await this['dataValidate']({'request':_0x59231d,'schema':Ha,'ClassRef':Qe,'execute':(_0x29e92f,_0x9ad400)=>_[_0x359ddc(0x5f4)](_0x29e92f,_0x9ad400)});return _0x3ad164[_0x359ddc(0x721)](0xc9)[_0x359ddc(0x684)](_0x498f8c);})[_0x5d8846(0x352)](this[_0x5d8846(0x4ea)](_0x5d8846(0x24f)),..._0x2fda49,async(_0x41865d,_0x36c4e5)=>{const _0x198db2=_0x5d8846;let _0x276af6=await this[_0x198db2(0x380)]({'request':_0x41865d,'schema':Ee,'ClassRef':we,'execute':(_0x535eb9,_0x4cc182)=>_['fetchBusinessProfile'](_0x535eb9,_0x4cc182)});return _0x36c4e5['status'](0xc8)[_0x198db2(0x684)](_0x276af6);})[_0x5d8846(0x352)](this[_0x5d8846(0x4ea)](_0x5d8846(0x503)),..._0x2fda49,async(_0x4df58d,_0x26c297)=>{const _0x4b364e=_0x5d8846;let _0x55e0b5=await this[_0x4b364e(0x380)]({'request':_0x4df58d,'schema':Xa,'ClassRef':We,'execute':(_0x49fa86,_0x329620)=>_[_0x4b364e(0x503)](_0x49fa86,_0x329620)});return _0x26c297[_0x4b364e(0x721)](0xc8)['json'](_0x55e0b5);})[_0x5d8846(0x352)](this['routerPath']('updateProfileStatus'),..._0x2fda49,async(_0x5baf7b,_0x191926)=>{const _0x767b3d=_0x5d8846;let _0x4076a3=await this[_0x767b3d(0x380)]({'request':_0x5baf7b,'schema':Za,'ClassRef':ze,'execute':(_0x3c1308,_0x49384c)=>_[_0x767b3d(0x17a)](_0x3c1308,_0x49384c)});return _0x191926[_0x767b3d(0x721)](0xc8)[_0x767b3d(0x684)](_0x4076a3);})[_0x5d8846(0x5cf)](this[_0x5d8846(0x4ea)](_0x5d8846(0x823)),..._0x2fda49,async(_0xc0a9e0,_0x4a25b3)=>{const _0x3c383d=_0x5d8846;let _0x3406df=await this[_0x3c383d(0x380)]({'request':_0xc0a9e0,'schema':Ee,'ClassRef':we,'execute':(_0x136d9f,_0x1088d8)=>_[_0x3c383d(0x823)](_0x136d9f,_0x1088d8)});return _0x4a25b3[_0x3c383d(0x721)](0xc8)[_0x3c383d(0x684)](_0x3406df);})[_0x5d8846(0x41e)](this[_0x5d8846(0x4ea)]('removeProfilePicture'),..._0x2fda49,async(_0x5bfa67,_0x1ba7dc)=>{const _0x30d4c0=_0x5d8846;let _0x20b12b=await this[_0x30d4c0(0x380)]({'request':_0x5bfa67,'schema':Ee,'ClassRef':we,'execute':(_0x18f296,_0x42053f)=>_[_0x30d4c0(0x6c3)](_0x18f296,_0x42053f)});return _0x1ba7dc[_0x30d4c0(0x721)](0xc8)[_0x30d4c0(0x684)](_0x20b12b);});}},hr=require(a0_0x1ec271(0x61b)),it=class{},ot=class{},nt=class{},ct=class{},lt=class{},ut=class{},X=class{},ve=class{},dt=class extends X{},pt=class extends X{},ht=class extends V{constructor(..._0x8fabd){const _0x539f72=a0_0x1ec271;super(),this['router']=(0x0,hr[_0x539f72(0x3f3)])(),this[_0x539f72(0x41a)][_0x539f72(0x352)](this['routerPath'](_0x539f72(0x34e)),..._0x8fabd,async(_0x1fb3c4,_0x3cae5f)=>{const _0x16b662=_0x539f72;let _0x2d5413=await this['dataValidate']({'request':_0x1fb3c4,'schema':ar,'ClassRef':it,'execute':(_0x23a133,_0x5c378d)=>q[_0x16b662(0x2ad)](_0x23a133,_0x5c378d)});_0x3cae5f[_0x16b662(0x721)](0xc9)[_0x16b662(0x684)](_0x2d5413);})[_0x539f72(0x5cf)](this['routerPath']('updateGroupPicture'),..._0x8fabd,async(_0xfdf2f4,_0x4dafda)=>{const _0x3f4a15=_0x539f72;let _0x447fa3=await this[_0x3f4a15(0x45f)]({'request':_0xfdf2f4,'schema':or,'ClassRef':ot,'execute':(_0x4b779c,_0x15f88b)=>q[_0x3f4a15(0x330)](_0x4b779c,_0x15f88b)});_0x4dafda[_0x3f4a15(0x721)](0xc9)[_0x3f4a15(0x684)](_0x447fa3);})[_0x539f72(0x5cf)](this[_0x539f72(0x4ea)]('groupDesc'),..._0x8fabd,async(_0x171b28,_0x5ecff1)=>{const _0x3e0fa7=_0x539f72;let _0x478e63=await this['groupValidate']({'request':_0x171b28,'schema':nr,'ClassRef':nt,'execute':(_0x583c81,_0x1f9e2a)=>q[_0x3e0fa7(0x280)](_0x583c81,_0x1f9e2a)});_0x5ecff1[_0x3e0fa7(0x721)](0xc9)[_0x3e0fa7(0x684)](_0x478e63);})[_0x539f72(0x5cf)](this['routerPath'](_0x539f72(0x7fd)),..._0x8fabd,async(_0x34673c,_0x37e62d)=>{const _0xbda5b3=_0x539f72;let _0x60b287=await this['groupValidate']({'request':_0x34673c,'schema':cr,'ClassRef':ct,'execute':(_0x5129ee,_0x419788)=>q[_0xbda5b3(0x7fd)](_0x5129ee,_0x419788)});_0x37e62d[_0xbda5b3(0x721)](0xc9)[_0xbda5b3(0x684)](_0x60b287);})[_0x539f72(0x5cf)](this[_0x539f72(0x4ea)](_0x539f72(0x38d)),..._0x8fabd,async(_0x4b18de,_0x4992f2)=>{const _0x4adb2a=_0x539f72;let _0x25a3f4=await this[_0x4adb2a(0x45f)]({'request':_0x4b18de,'schema':ur,'ClassRef':ut,'execute':(_0x39e41d,_0x4ebf6f)=>q[_0x4adb2a(0x38d)](_0x39e41d,_0x4ebf6f)});_0x4992f2[_0x4adb2a(0x721)](0xc9)[_0x4adb2a(0x684)](_0x25a3f4);})['put'](this[_0x539f72(0x4ea)](_0x539f72(0x612)),..._0x8fabd,async(_0x235eee,_0x2e840b)=>{const _0x2819d9=_0x539f72;let _0x157aaf=await this['groupValidate']({'request':_0x235eee,'schema':lr,'ClassRef':lt,'execute':(_0x17a99f,_0x578e35)=>q[_0x2819d9(0x612)](_0x17a99f,_0x578e35)});_0x2e840b['status'](0xc9)[_0x2819d9(0x684)](_0x157aaf);})['put'](this[_0x539f72(0x4ea)](_0x539f72(0x463)),..._0x8fabd,async(_0x3069c9,_0xad1759)=>{const _0x43b2fb=_0x539f72;let _0x3af4c1=await this['groupValidate']({'request':_0x3069c9,'schema':ir,'ClassRef':pt,'execute':(_0x2c4ca5,_0x16d7dc)=>q[_0x43b2fb(0x463)](_0x2c4ca5,_0x16d7dc)});_0xad1759[_0x43b2fb(0x721)](0xc9)[_0x43b2fb(0x684)](_0x3af4c1);})[_0x539f72(0x651)](this[_0x539f72(0x4ea)](_0x539f72(0x2c2)),..._0x8fabd,async(_0x32eff5,_0x3e0b69)=>{const _0x5b037f=_0x539f72;let _0x33088e=await this[_0x5b037f(0x45f)]({'request':_0x32eff5,'schema':Me,'ClassRef':X,'execute':(_0x4f608e,_0xc61a2e)=>q[_0x5b037f(0x290)](_0x4f608e,_0xc61a2e)});_0x3e0b69['status'](0xc8)[_0x5b037f(0x684)](_0x33088e);})[_0x539f72(0x651)](this['routerPath'](_0x539f72(0x622)),..._0x8fabd,async(_0x525be3,_0x39768b)=>{const _0x5ec9d0=_0x539f72;let _0x42cf83=await this[_0x5ec9d0(0x380)]({'request':_0x525be3,'schema':M,'ClassRef':S,'execute':_0x24e3c6=>q[_0x5ec9d0(0x622)](_0x24e3c6)});_0x39768b['status'](0xc8)[_0x5ec9d0(0x684)](_0x42cf83);})[_0x539f72(0x651)](this['routerPath'](_0x539f72(0x2ed)),..._0x8fabd,async(_0x319b0a,_0x3c461a)=>{const _0x1ca321=_0x539f72;let _0x5dc9e3=await this['groupValidate']({'request':_0x319b0a,'schema':Me,'ClassRef':X,'execute':(_0x5d33c8,_0x184e38)=>q[_0x1ca321(0x635)](_0x5d33c8,_0x184e38)});_0x3c461a[_0x1ca321(0x721)](0xc8)['json'](_0x5dc9e3);})[_0x539f72(0x651)](this[_0x539f72(0x4ea)](_0x539f72(0x36e)),..._0x8fabd,async(_0x460b2e,_0x34f608)=>{const _0x34fba0=_0x539f72;let _0x35a75b=await this[_0x34fba0(0x45f)]({'request':_0x460b2e,'schema':Me,'ClassRef':X,'execute':(_0x22ee68,_0x5b1a4e)=>q[_0x34fba0(0x36e)](_0x22ee68,_0x5b1a4e)});_0x34f608[_0x34fba0(0x721)](0xc8)['json'](_0x35a75b);})['post'](this[_0x539f72(0x4ea)](_0x539f72(0x676)),..._0x8fabd,async(_0x5a999d,_0x3a4181)=>{const _0x34041c=_0x539f72;let _0x15298c=await this[_0x34041c(0x554)]({'request':_0x5a999d,'schema':Ss,'ClassRef':ve,'execute':(_0x13b316,_0x1a01bc)=>q['groupGetInviteInfo'](_0x13b316,_0x1a01bc)});_0x3a4181[_0x34041c(0x721)](0xc9)['json'](_0x15298c);})[_0x539f72(0x5cf)](this['routerPath'](_0x539f72(0x705)),..._0x8fabd,async(_0x3b2c8a,_0x4e3029)=>{const _0x10cda4=_0x539f72;let _0x4cdacb=await this[_0x10cda4(0x554)]({'request':_0x3b2c8a,'schema':Ss,'ClassRef':ve,'execute':(_0x2ee878,_0x4e7f6f)=>q[_0x10cda4(0x705)](_0x2ee878,_0x4e7f6f)});_0x4e3029[_0x10cda4(0x721)](0xc9)[_0x10cda4(0x684)](_0x4cdacb);})['put'](this[_0x539f72(0x4ea)]('revokeInviteCode'),..._0x8fabd,async(_0x22abae,_0x51ba8d)=>{const _0x1e2ded=_0x539f72;let _0x66cfab=await this['groupValidate']({'request':_0x22abae,'schema':Me,'ClassRef':X,'execute':(_0x3c5323,_0x307dae)=>q[_0x1e2ded(0x766)](_0x3c5323,_0x307dae)});_0x51ba8d[_0x1e2ded(0x721)](0xc9)[_0x1e2ded(0x684)](_0x66cfab);})[_0x539f72(0x5cf)](this[_0x539f72(0x4ea)](_0x539f72(0x4dd)),..._0x8fabd,async(_0x123c05,_0x2139c6)=>{const _0xf94b4f=_0x539f72;let _0x3dbd7d=await this[_0xf94b4f(0x45f)]({'request':_0x123c05,'schema':rr,'ClassRef':dt,'execute':(_0x1809f5,_0x309b0f)=>q[_0xf94b4f(0x18a)](_0x1809f5,_0x309b0f)});_0x2139c6[_0xf94b4f(0x721)](0xc9)[_0xf94b4f(0x684)](_0x3dbd7d);})['delete'](this[_0x539f72(0x4ea)](_0x539f72(0x56a)),..._0x8fabd,async(_0x1e1a49,_0x51621c)=>{const _0xee48b6=_0x539f72;let _0x431328=await this['groupValidate']({'request':_0x1e1a49,'schema':{},'ClassRef':X,'execute':(_0x557cf4,_0x246c5b)=>q['leaveGroup'](_0x557cf4,_0x246c5b)});_0x51621c[_0xee48b6(0x721)](0xc8)[_0xee48b6(0x684)](_0x431328);});}},gr=require(a0_0x1ec271(0x61b)),gt=class extends V{constructor(_0x1ef216,..._0x2ad3fe){const _0x334f=a0_0x1ec271;super(),this[_0x334f(0x7b9)]=_0x1ef216,this[_0x334f(0x41a)]=(0x0,gr[_0x334f(0x3f3)])();let _0x1c5e11=_0x1ef216[_0x334f(0x651)](_0x334f(0x697));this[_0x334f(0x41a)][_0x334f(0x352)](_0x334f(0x584),..._0x2ad3fe,async(_0x589ca4,_0x5b4ad8)=>{const _0x2420ad=_0x334f;let {instanceName:_0x3828e3,apikey:_0x24696a,number:_0x3e8ea2}=_0x589ca4[_0x2420ad(0x542)],_0x5be494=await oe[_0x2420ad(0x4bf)]({'instanceName':_0x3828e3,'apikey':_0x24696a,'number':_0x3e8ea2});return _0x5b4ad8['status'](0xc9)[_0x2420ad(0x684)](_0x5be494);})['put'](this[_0x334f(0x4ea)]('restart'),..._0x2ad3fe,async(_0x3dc820,_0x1d1692)=>{const _0x57c1e7=_0x334f;let _0x583179=await this['dataValidate']({'request':_0x3dc820,'schema':M,'ClassRef':S,'execute':_0x289189=>oe[_0x57c1e7(0x644)](_0x289189)});return _0x1d1692[_0x57c1e7(0x721)](0xc8)[_0x57c1e7(0x684)](_0x583179);})[_0x334f(0x651)](this[_0x334f(0x4ea)](_0x334f(0x2b5)),..._0x2ad3fe,async(_0x944624,_0x41c55b)=>{const _0x4e3a72=_0x334f;let _0x24f4ae=await this[_0x4e3a72(0x380)]({'request':_0x944624,'schema':M,'ClassRef':S,'execute':_0x115455=>oe[_0x4e3a72(0x2f3)](_0x115455)});return _0x41c55b[_0x4e3a72(0x721)](0xc8)[_0x4e3a72(0x684)](_0x24f4ae);})[_0x334f(0x651)](this[_0x334f(0x4ea)](_0x334f(0x6f0)),..._0x2ad3fe,async(_0x58d148,_0x4d320c)=>{const _0x9c0f18=_0x334f;let _0x4ebd4f=await this['dataValidate']({'request':_0x58d148,'schema':M,'ClassRef':S,'execute':_0x4ac1e9=>oe['connectionState'](_0x4ac1e9)});return _0x4d320c[_0x9c0f18(0x721)](0xc8)[_0x9c0f18(0x684)](_0x4ebd4f);})[_0x334f(0x651)](this[_0x334f(0x4ea)](_0x334f(0x6d0),!0x1),..._0x2ad3fe,async(_0x2de81d,_0xa9c19)=>{const _0x5b2ac1=_0x334f;let _0x443a8c=await this[_0x5b2ac1(0x380)]({'request':_0x2de81d,'schema':null,'ClassRef':S,'execute':_0x10aac3=>oe[_0x5b2ac1(0x6d0)](_0x10aac3)});return _0xa9c19[_0x5b2ac1(0x721)](0xc8)[_0x5b2ac1(0x684)](_0x443a8c);})['delete'](this['routerPath']('logout'),..._0x2ad3fe,async(_0x5d0722,_0x3d2ff6)=>{const _0x5fceee=_0x334f;let _0x2c4634=await this[_0x5fceee(0x380)]({'request':_0x5d0722,'schema':M,'ClassRef':S,'execute':_0x143799=>oe[_0x5fceee(0x5fa)](_0x143799)});return _0x3d2ff6['status'](0xc8)[_0x5fceee(0x684)](_0x2c4634);})[_0x334f(0x41e)](this[_0x334f(0x4ea)]('delete'),..._0x2ad3fe,async(_0xd100ff,_0x18ca54)=>{const _0x381489=_0x334f;let _0x237d73=await this[_0x381489(0x380)]({'request':_0xd100ff,'schema':M,'ClassRef':S,'execute':_0x1122e4=>oe[_0x381489(0x814)](_0x1122e4)});return _0x18ca54[_0x381489(0x721)](0xc8)['json'](_0x237d73);});}},mr=require(a0_0x1ec271(0x61b)),Es=class{},W=class extends Es{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class extends W{},Ne=class extends W{},bt=class extends W{},St=class extends W{},Ct=class extends W{},Et=class extends W{},Mt=class extends W{},vt=class{},Nt=class extends V{constructor(..._0x2dfe8d){const _0x1940df=a0_0x1ec271;super(),this[_0x1940df(0x41a)]=(0x0,mr[_0x1940df(0x3f3)])(),this[_0x1940df(0x41a)][_0x1940df(0x352)](this[_0x1940df(0x4ea)](_0x1940df(0x6a3)),..._0x2dfe8d,async(_0x2b82f9,_0x58ca7d)=>{const _0x3e908f=_0x1940df;let _0x4a9a72=await this[_0x3e908f(0x380)]({'request':_0x2b82f9,'schema':_a,'ClassRef':mt,'execute':(_0x151b27,_0x339b88)=>G['sendText'](_0x151b27,_0x339b88)});return _0x58ca7d[_0x3e908f(0x721)](0xc9)[_0x3e908f(0x684)](_0x4a9a72);})[_0x1940df(0x352)](this[_0x1940df(0x4ea)]('sendMedia'),..._0x2dfe8d,async(_0x2a36e4,_0x5686eb)=>{const _0x3b5a41=_0x1940df;let _0x43bfb3=await this[_0x3b5a41(0x380)]({'request':_0x2a36e4,'schema':La,'ClassRef':Ne,'execute':(_0x35dba8,_0x28b53b)=>G['sendMedia'](_0x35dba8,_0x28b53b)});return _0x5686eb[_0x3b5a41(0x721)](0xc9)[_0x3b5a41(0x684)](_0x43bfb3);})[_0x1940df(0x352)](this[_0x1940df(0x4ea)](_0x1940df(0x360)),..._0x2dfe8d,async(_0x2383e8,_0x48fce7)=>{const _0xbf4428=_0x1940df;let _0x179a84=await this[_0xbf4428(0x380)]({'request':_0x2383e8,'schema':Ua,'ClassRef':yt,'execute':(_0x1aef03,_0x4cd1f3)=>G['sendMenu'](_0x1aef03,_0x4cd1f3)});return _0x48fce7['status'](0xc9)[_0xbf4428(0x684)](_0x179a84);})[_0x1940df(0x352)](this[_0x1940df(0x4ea)](_0x1940df(0x1f1)),..._0x2dfe8d,async(_0x55220a,_0x2b292a)=>{const _0x5cfc3b=_0x1940df;let _0x245e07=await this['dataValidate']({'request':_0x55220a,'schema':ja,'ClassRef':Ne,'execute':(_0x30fff9,_0x53e823)=>G['sendWhatsAppAudio'](_0x30fff9,_0x53e823)});return _0x2b292a[_0x5cfc3b(0x721)](0xc9)['json'](_0x245e07);})[_0x1940df(0x352)](this['routerPath'](_0x1940df(0x2c0)),..._0x2dfe8d,async(_0xb7b77e,_0x25e079)=>{const _0x4e2f37=_0x1940df;let _0x131a67=await this[_0x4e2f37(0x380)]({'request':_0xb7b77e,'schema':Ja,'ClassRef':St,'execute':(_0x553672,_0x428a09)=>G[_0x4e2f37(0x2c0)](_0x553672,_0x428a09)});return _0x25e079['status'](0xc9)[_0x4e2f37(0x684)](_0x131a67);})['post'](this['routerPath'](_0x1940df(0x2f2)),..._0x2dfe8d,async(_0x2727b1,_0x5812de)=>{const _0x4ad33e=_0x1940df;let _0x400636=await this['dataValidate']({'request':_0x2727b1,'schema':qa,'ClassRef':Ct,'execute':(_0x2363ce,_0x3d55c6)=>G[_0x4ad33e(0x2f2)](_0x2363ce,_0x3d55c6)});return _0x5812de[_0x4ad33e(0x721)](0xc9)['json'](_0x400636);})[_0x1940df(0x352)](this['routerPath'](_0x1940df(0x706)),..._0x2dfe8d,async(_0x348522,_0x13dffd)=>{const _0x2444ce=_0x1940df;let _0x328057=await this[_0x2444ce(0x380)]({'request':_0x348522,'schema':Va,'ClassRef':Et,'execute':(_0x3a4ab3,_0x31f4e7)=>G[_0x2444ce(0x706)](_0x3a4ab3,_0x31f4e7)});return _0x13dffd[_0x2444ce(0x721)](0xc9)[_0x2444ce(0x684)](_0x328057);})[_0x1940df(0x352)](this[_0x1940df(0x4ea)](_0x1940df(0x51e)),..._0x2dfe8d,async(_0x3722af,_0x446962)=>{const _0x15c862=_0x1940df;let _0x509737=await this[_0x15c862(0x380)]({'request':_0x3722af,'schema':Ba,'ClassRef':Mt,'execute':(_0x12e89b,_0x5594c4)=>G[_0x15c862(0x51e)](_0x12e89b,_0x5594c4)});return _0x446962[_0x15c862(0x721)](0xc9)['json'](_0x509737);})[_0x1940df(0x352)](this[_0x1940df(0x4ea)](_0x1940df(0x5dd)),..._0x2dfe8d,async(_0x44e747,_0x5bc620)=>{const _0x192ad7=_0x1940df;let _0x3146de=await this[_0x192ad7(0x380)]({'request':_0x44e747,'schema':Ga,'ClassRef':vt,'execute':(_0x4a3b1c,_0x3f0e01)=>G['sendReaction'](_0x4a3b1c,_0x3f0e01)});return _0x5bc620['status'](0xc9)[_0x192ad7(0x684)](_0x3146de);})['post'](this[_0x1940df(0x4ea)](_0x1940df(0x197)),..._0x2dfe8d,async(_0x560eb8,_0x5eaf8d)=>{const _0x1bfc43=_0x1940df;let _0x2c9bfb=await this[_0x1bfc43(0x380)]({'request':_0x560eb8,'schema':Fa,'ClassRef':wt,'execute':(_0xcab6df,_0x157b0d)=>G[_0x1bfc43(0x197)](_0xcab6df,_0x157b0d)});return _0x5eaf8d[_0x1bfc43(0x721)](0xc9)[_0x1bfc43(0x684)](_0x2c9bfb);})[_0x1940df(0x352)](this[_0x1940df(0x4ea)](_0x1940df(0x28d)),..._0x2dfe8d,async(_0x5ef461,_0x1c8dd0)=>{const _0x325658=_0x1940df;let _0x74320a=await this[_0x325658(0x380)]({'request':_0x5ef461,'schema':ka,'ClassRef':ft,'execute':(_0x4f176d,_0x3d11cf)=>G['sendStatus'](_0x4f176d,_0x3d11cf)});return _0x1c8dd0['status'](0xc9)[_0x325658(0x684)](_0x74320a);})[_0x1940df(0x352)](this[_0x1940df(0x4ea)]('sendSticker'),..._0x2dfe8d,async(_0x4447ed,_0x203310)=>{const _0x5be03d=_0x1940df;let _0x3a27d3=await this[_0x5be03d(0x380)]({'request':_0x4447ed,'schema':$a,'ClassRef':bt,'execute':(_0x21549c,_0xf8a448)=>G[_0x5be03d(0x204)](_0x21549c,_0xf8a448)});return _0x203310[_0x5be03d(0x721)](0xc9)[_0x5be03d(0x684)](_0x3a27d3);});}},fr=require(a0_0x1ec271(0x61b)),Rt=class{},Tt=class extends V{constructor(..._0x2f2ca1){const _0x55de5f=a0_0x1ec271;super(),this['router']=(0x0,fr[_0x55de5f(0x3f3)])(),this[_0x55de5f(0x41a)][_0x55de5f(0x352)](this[_0x55de5f(0x4ea)](_0x55de5f(0x7d8)),..._0x2f2ca1,async(_0x259b9d,_0x23a36d)=>{const _0x1a4bdd=_0x55de5f;let _0x5714ef=await this[_0x1a4bdd(0x380)]({'request':_0x259b9d,'schema':dr,'ClassRef':Rt,'execute':(_0x5ed557,_0x275208)=>Ms['createWebhook'](_0x5ed557,_0x275208)});_0x23a36d[_0x1a4bdd(0x721)](0xc9)[_0x1a4bdd(0x684)](_0x5714ef);})[_0x55de5f(0x651)](this[_0x55de5f(0x4ea)](_0x55de5f(0x741)),..._0x2f2ca1,async(_0x317a42,_0xbbd710)=>{const _0x2081c6=_0x55de5f;let _0x4656e2=await this['dataValidate']({'request':_0x317a42,'schema':M,'ClassRef':S,'execute':_0x5b7602=>Ms[_0x2081c6(0x7c9)](_0x5b7602)});_0xbbd710[_0x2081c6(0x721)](0xc8)[_0x2081c6(0x684)](_0x4656e2);});}},wr=require('express'),y=new v('FlowRouter'),Ot=class extends V{constructor(..._0x328075){const _0x45be32=a0_0x1ec271;super(),this[_0x45be32(0x41a)]=(0x0,wr['Router'])(),this[_0x45be32(0x41a)]['post'](this[_0x45be32(0x4ea)](_0x45be32(0x481)),..._0x328075,async(_0x20e387,_0x522c49)=>{const _0x2f52cd=_0x45be32;let _0x30ac72=_0x20e387[_0x2f52cd(0x542)];y[_0x2f52cd(0x641)]('request\x20received\x20in\x20scheduleMessage'),y[_0x2f52cd(0x641)](_0x2f52cd(0x25d)),y['verbose'](_0x20e387[_0x2f52cd(0x542)]);let _0x4efb88=await this[_0x2f52cd(0x380)]({'request':_0x20e387,'schema':M,'ClassRef':S,'execute':_0x485a6c=>x[_0x2f52cd(0x6f1)](_0x485a6c,_0x30ac72)});_0x522c49[_0x2f52cd(0x721)](0xc8)['json'](_0x4efb88);})[_0x45be32(0x651)](this[_0x45be32(0x4ea)]('scheduleMessage'),..._0x328075,async(_0x5bea76,_0x576b90)=>{const _0xa6304c=_0x45be32;let _0x5b3ed3=await this['dataValidate']({'request':_0x5bea76,'schema':M,'ClassRef':S,'execute':_0x17ad23=>x[_0xa6304c(0x2e1)](_0x17ad23)});_0x576b90['status'](0xc8)[_0xa6304c(0x684)](_0x5b3ed3);})[_0x45be32(0x41e)](this['routerPath'](_0x45be32(0x637)),..._0x328075,async(_0x56e5e0,_0x150476)=>{const _0x4363a3=_0x45be32;y[_0x4363a3(0x641)]('request\x20received\x20in\x20deleteDoneMessages');let _0x55364c=await this[_0x4363a3(0x380)]({'request':_0x56e5e0,'schema':M,'ClassRef':S,'execute':_0x4e763c=>x[_0x4363a3(0x637)](_0x4e763c)});_0x150476['status'](0xc8)[_0x4363a3(0x684)](_0x55364c);})[_0x45be32(0x352)](this['routerPath']('startFlow'),..._0x328075,async(_0x3f11b8,_0x4006f1)=>{const _0x23bf57=_0x45be32;let _0x13f5f1=_0x3f11b8[_0x23bf57(0x542)];y[_0x23bf57(0x641)](_0x23bf57(0x2b3)),y[_0x23bf57(0x641)](_0x23bf57(0x25d)),y[_0x23bf57(0x641)](_0x3f11b8[_0x23bf57(0x542)]);let _0x43e704=await this[_0x23bf57(0x380)]({'request':_0x3f11b8,'schema':M,'ClassRef':S,'execute':_0x18fd42=>x[_0x23bf57(0x6e4)](_0x18fd42,_0x13f5f1)});_0x4006f1[_0x23bf57(0x721)](0xc8)[_0x23bf57(0x684)](_0x43e704);})[_0x45be32(0x651)](this[_0x45be32(0x4ea)](_0x45be32(0x38b)),..._0x328075,async(_0x2bb07a,_0x3a2da8)=>{const _0x49f139=_0x45be32;y[_0x49f139(0x641)](_0x49f139(0x515));let _0x3d7a29=await this[_0x49f139(0x380)]({'request':_0x2bb07a,'schema':M,'ClassRef':S,'execute':_0x15c79c=>x[_0x49f139(0x38b)](_0x15c79c)});_0x3a2da8['status'](0xc8)['json'](_0x3d7a29);})['get'](this[_0x45be32(0x4ea)](_0x45be32(0x381)),..._0x328075,async(_0x3c2128,_0x2d47c0)=>{const _0x3146c9=_0x45be32;y[_0x3146c9(0x641)](_0x3146c9(0x173));let _0x530da3=await this[_0x3146c9(0x380)]({'request':_0x3c2128,'schema':M,'ClassRef':S,'execute':_0x29384c=>x[_0x3146c9(0x38b)](_0x29384c)});_0x2d47c0[_0x3146c9(0x721)](0xc8)[_0x3146c9(0x684)](_0x530da3);})[_0x45be32(0x352)](this[_0x45be32(0x4ea)](_0x45be32(0x2da)),..._0x328075,async(_0x78c22,_0x688ad4)=>{const _0x6db15=_0x45be32;let _0x4eedcf=_0x78c22[_0x6db15(0x542)];y['verbose'](_0x6db15(0x841)),y[_0x6db15(0x641)](_0x6db15(0x25d)),y[_0x6db15(0x641)](_0x78c22['body']);let _0x1b94ee=await this['dataValidate']({'request':_0x78c22,'schema':M,'ClassRef':S,'execute':_0x3f4d3b=>x[_0x6db15(0x2da)](_0x3f4d3b,_0x4eedcf)});_0x688ad4[_0x6db15(0x721)](0xc8)[_0x6db15(0x684)](_0x1b94ee);})[_0x45be32(0x352)](this[_0x45be32(0x4ea)](_0x45be32(0x7db)),..._0x328075,async(_0x78d2ce,_0xdac35d)=>{const _0x29215a=_0x45be32;let _0x5e8b4b=_0x78d2ce[_0x29215a(0x542)];y[_0x29215a(0x641)](_0x29215a(0x16a)),y[_0x29215a(0x641)]('request\x20body:\x20'),y[_0x29215a(0x641)](_0x78d2ce['body']);let _0x4d98d0=await this['dataValidate']({'request':_0x78d2ce,'schema':M,'ClassRef':S,'execute':_0x239e9e=>x[_0x29215a(0x7db)](_0x239e9e,_0x5e8b4b)});_0xdac35d[_0x29215a(0x721)](0xc8)[_0x29215a(0x684)](_0x4d98d0);})[_0x45be32(0x352)](this['routerPath'](_0x45be32(0x298)),..._0x328075,async(_0x303141,_0x41c772)=>{const _0x531f96=_0x45be32;let _0x30bb94=_0x303141['body'];y[_0x531f96(0x641)](_0x531f96(0x688)),y[_0x531f96(0x641)](_0x531f96(0x25d)),y[_0x531f96(0x641)](_0x303141[_0x531f96(0x542)]);let _0x2a9520=await this[_0x531f96(0x380)]({'request':_0x303141,'schema':M,'ClassRef':S,'execute':_0x4ea791=>x[_0x531f96(0x298)](_0x4ea791,_0x30bb94)});_0x41c772[_0x531f96(0x721)](0xc8)['json'](_0x2a9520);})[_0x45be32(0x352)](this[_0x45be32(0x4ea)](_0x45be32(0x1a4)),..._0x328075,async(_0x4051c2,_0x23a607)=>{const _0x566e36=_0x45be32;let _0x5470ad=_0x4051c2[_0x566e36(0x542)];y['verbose'](_0x566e36(0x78b)),y[_0x566e36(0x641)]('request\x20body:\x20'),y[_0x566e36(0x641)](_0x4051c2[_0x566e36(0x542)]);let _0x1c45ec=await this['dataValidate']({'request':_0x4051c2,'schema':M,'ClassRef':S,'execute':_0x47aa00=>x['getConversation'](_0x47aa00,_0x5470ad)});_0x23a607['status'](0xc8)[_0x566e36(0x684)](_0x1c45ec);})[_0x45be32(0x352)](this[_0x45be32(0x4ea)](_0x45be32(0x44b)),..._0x328075,async(_0x3a7c92,_0x3efe3c)=>{const _0x732ed3=_0x45be32;let _0x1c1b2f=_0x3a7c92[_0x732ed3(0x542)];y['verbose'](_0x732ed3(0x4fc)),y[_0x732ed3(0x641)](_0x732ed3(0x25d)),y[_0x732ed3(0x641)](_0x3a7c92[_0x732ed3(0x542)]);let _0x5f2c02=await this['dataValidate']({'request':_0x3a7c92,'schema':M,'ClassRef':S,'execute':_0x5df4ed=>x[_0x732ed3(0x44b)](_0x5df4ed,_0x1c1b2f)});_0x3efe3c[_0x732ed3(0x721)](0xc8)['json'](_0x5f2c02);})[_0x45be32(0x352)](this[_0x45be32(0x4ea)](_0x45be32(0x317)),..._0x328075,async(_0x5af052,_0x496fa3)=>{const _0x183f46=_0x45be32;let _0x33e164=_0x5af052[_0x183f46(0x542)];y[_0x183f46(0x641)](_0x183f46(0x693)),y[_0x183f46(0x641)]('request\x20body:\x20'),y[_0x183f46(0x641)](_0x5af052[_0x183f46(0x542)]);let _0x850eda=await this[_0x183f46(0x380)]({'request':_0x5af052,'schema':M,'ClassRef':S,'execute':_0x20b7ba=>x[_0x183f46(0x317)](_0x20b7ba,_0x33e164)});_0x496fa3[_0x183f46(0x721)](0xc8)[_0x183f46(0x684)](_0x850eda);})['delete'](this['routerPath'](_0x45be32(0x4ac)),..._0x328075,async(_0x1ea4de,_0x1a1de0)=>{const _0x18b8b3=_0x45be32;let _0x36e5b7=_0x1ea4de[_0x18b8b3(0x542)];y[_0x18b8b3(0x641)](_0x18b8b3(0x619)),y[_0x18b8b3(0x641)](_0x18b8b3(0x25d)),y['verbose'](_0x1ea4de['body']);let _0x133e93=await this[_0x18b8b3(0x380)]({'request':_0x1ea4de,'schema':M,'ClassRef':S,'execute':_0x1b555c=>x[_0x18b8b3(0x4ac)](_0x1b555c,_0x36e5b7)});_0x1a1de0[_0x18b8b3(0x721)](0xc8)[_0x18b8b3(0x684)](_0x133e93);})['post'](this[_0x45be32(0x4ea)](_0x45be32(0x532)),..._0x328075,async(_0x49b21d,_0x3acdc5)=>{const _0x22c140=_0x45be32;let _0x2c98dc=_0x49b21d[_0x22c140(0x542)];y['verbose'](_0x22c140(0x70a)),y[_0x22c140(0x641)](_0x22c140(0x25d)),y['verbose'](_0x49b21d[_0x22c140(0x542)]);let _0x2d01c7=await this[_0x22c140(0x380)]({'request':_0x49b21d,'schema':M,'ClassRef':S,'execute':_0x2327f8=>x[_0x22c140(0x7d4)](_0x2327f8,_0x2c98dc)});_0x3acdc5[_0x22c140(0x721)](0xc8)[_0x22c140(0x684)](_0x2d01c7);})[_0x45be32(0x352)](this[_0x45be32(0x4ea)]('editflow'),..._0x328075,async(_0x5070c7,_0x36d4e8)=>{const _0x5512f6=_0x45be32;let _0x5417e9=_0x5070c7[_0x5512f6(0x542)];y['verbose'](_0x5512f6(0x2f4)),y[_0x5512f6(0x641)](_0x5512f6(0x25d)),y['verbose'](_0x5070c7[_0x5512f6(0x542)]),delete _0x5417e9[_0x5512f6(0x566)],delete _0x5417e9[_0x5512f6(0x5b9)],delete _0x5417e9[_0x5512f6(0x3a0)],delete _0x5417e9[_0x5512f6(0x207)];let _0x26b21f=await this[_0x5512f6(0x380)]({'request':_0x5070c7,'schema':M,'ClassRef':S,'execute':_0x4fe1e9=>x[_0x5512f6(0x289)](_0x4fe1e9,_0x5417e9)});_0x36d4e8[_0x5512f6(0x721)](0xc8)['json'](_0x26b21f);})[_0x45be32(0x352)](this[_0x45be32(0x4ea)](_0x45be32(0x5a4)),..._0x328075,async(_0x2ab555,_0x13647d)=>{const _0x16de79=_0x45be32;let _0xc98562=_0x2ab555[_0x16de79(0x542)];y['verbose']('request\x20received\x20in\x20editFlow'),y[_0x16de79(0x641)](_0x16de79(0x25d)),y[_0x16de79(0x641)](_0x2ab555[_0x16de79(0x542)]);let _0x263dda=await this['dataValidate']({'request':_0x2ab555,'schema':M,'ClassRef':S,'execute':_0xf50c02=>x[_0x16de79(0x426)](_0xf50c02,_0xc98562)});_0x13647d[_0x16de79(0x721)](0xc8)[_0x16de79(0x684)](_0x263dda);})[_0x45be32(0x352)](this[_0x45be32(0x4ea)](_0x45be32(0x698)),..._0x328075,async(_0x4bd75f,_0xa1e520)=>{const _0x3cb07d=_0x45be32;let _0x806ef4=_0x4bd75f[_0x3cb07d(0x542)];y[_0x3cb07d(0x641)]('request\x20received\x20in\x20editFlow'),y[_0x3cb07d(0x641)](_0x3cb07d(0x25d)),y['verbose'](_0x4bd75f[_0x3cb07d(0x542)]);let _0x1a1e84=await this['dataValidate']({'request':_0x4bd75f,'schema':M,'ClassRef':S,'execute':_0x3952f1=>x[_0x3cb07d(0x45c)](_0x3952f1,_0x806ef4)});_0xa1e520[_0x3cb07d(0x721)](0xc8)[_0x3cb07d(0x684)](_0x1a1e84);})['post'](this[_0x45be32(0x4ea)]('editflowvaredit'),..._0x328075,async(_0x2489d4,_0x5d5ac9)=>{const _0x51fa01=_0x45be32;let _0x45bfd7=_0x2489d4[_0x51fa01(0x542)];y['verbose']('request\x20received\x20in\x20editFlow'),y[_0x51fa01(0x641)](_0x51fa01(0x25d)),y[_0x51fa01(0x641)](_0x2489d4[_0x51fa01(0x542)]);let _0xc6eeb6=await this[_0x51fa01(0x380)]({'request':_0x2489d4,'schema':M,'ClassRef':S,'execute':_0x1de284=>x[_0x51fa01(0x6bc)](_0x1de284,_0x45bfd7)});_0x5d5ac9[_0x51fa01(0x721)](0xc8)[_0x51fa01(0x684)](_0xc6eeb6);})[_0x45be32(0x352)](this[_0x45be32(0x4ea)]('editflowgroup'),..._0x328075,async(_0xf3e4b2,_0x370f6e)=>{const _0x187ee4=_0x45be32;let _0x2f3d1a=_0xf3e4b2[_0x187ee4(0x542)];y[_0x187ee4(0x641)](_0x187ee4(0x430)),y[_0x187ee4(0x641)](_0x187ee4(0x25d)),y[_0x187ee4(0x641)](_0xf3e4b2[_0x187ee4(0x542)]);let _0x1bdb0c=await this[_0x187ee4(0x380)]({'request':_0xf3e4b2,'schema':M,'ClassRef':S,'execute':_0x3fa01e=>x[_0x187ee4(0x36f)](_0x3fa01e,_0x2f3d1a)});_0x370f6e[_0x187ee4(0x721)](0xc8)['json'](_0x1bdb0c);})[_0x45be32(0x352)](this[_0x45be32(0x4ea)](_0x45be32(0x541)),..._0x328075,async(_0x339ae1,_0x3b9284)=>{const _0x28a900=_0x45be32;let _0x218a54=_0x339ae1[_0x28a900(0x542)];y[_0x28a900(0x641)](_0x28a900(0x5b1)),y[_0x28a900(0x641)]('request\x20body:\x20'),y[_0x28a900(0x641)](_0x339ae1['body']);let _0x46ee04=await this[_0x28a900(0x380)]({'request':_0x339ae1,'schema':M,'ClassRef':S,'execute':_0x53a250=>x['editFlowCondition'](_0x53a250,_0x218a54)});_0x3b9284[_0x28a900(0x721)](0xc8)[_0x28a900(0x684)](_0x46ee04);})[_0x45be32(0x352)](this[_0x45be32(0x4ea)](_0x45be32(0x39f)),..._0x328075,async(_0xd2d225,_0x2bbdab)=>{const _0x2c88ee=_0x45be32;let _0x1ec72a=_0xd2d225[_0x2c88ee(0x542)];y[_0x2c88ee(0x641)](_0x2c88ee(0x7a2)),y[_0x2c88ee(0x641)](_0x2c88ee(0x25d)),y[_0x2c88ee(0x641)](_0xd2d225[_0x2c88ee(0x542)]);let _0x1675b2=await this[_0x2c88ee(0x380)]({'request':_0xd2d225,'schema':M,'ClassRef':S,'execute':_0x2959cd=>x[_0x2c88ee(0x411)](_0x2959cd,_0x1ec72a)});_0x2bbdab[_0x2c88ee(0x721)](0xc8)[_0x2c88ee(0x684)](_0x1675b2);})[_0x45be32(0x352)](this[_0x45be32(0x4ea)](_0x45be32(0x7ba)),..._0x328075,async(_0x5f0f24,_0x5bc305)=>{const _0x405b81=_0x45be32;let _0x12322c=_0x5f0f24[_0x405b81(0x542)];y[_0x405b81(0x641)]('request\x20received\x20in\x20getFlow'),y[_0x405b81(0x641)](_0x405b81(0x25d)),y['verbose'](_0x5f0f24[_0x405b81(0x542)]);let _0x3e2b80=await this['dataValidate']({'request':_0x5f0f24,'schema':M,'ClassRef':S,'execute':_0x258a04=>x[_0x405b81(0x287)](_0x258a04,_0x12322c)});_0x5bc305['status'](0xc8)['json'](_0x3e2b80);})['delete'](this['routerPath'](_0x45be32(0x3df)),..._0x328075,async(_0x360f24,_0x3fbc9c)=>{const _0x3bdfae=_0x45be32;let _0x22d220=_0x360f24[_0x3bdfae(0x542)];y[_0x3bdfae(0x641)](_0x3bdfae(0x516)),y[_0x3bdfae(0x641)](_0x3bdfae(0x25d)),y[_0x3bdfae(0x641)](_0x360f24[_0x3bdfae(0x542)]);let _0x2b17bb=await this[_0x3bdfae(0x380)]({'request':_0x360f24,'schema':M,'ClassRef':S,'execute':_0x4b3d65=>x['deleteFlow'](_0x4b3d65,_0x22d220)});_0x3fbc9c[_0x3bdfae(0x721)](0xc8)[_0x3bdfae(0x684)](_0x2b17bb);})[_0x45be32(0x651)](this['routerPath'](_0x45be32(0x2b0)),..._0x328075,async(_0x3a6db6,_0x9feb09)=>{const _0x825a6e=_0x45be32;y['verbose']('request\x20received\x20in\x20allFlows');let _0x379177=await this['dataValidate']({'request':_0x3a6db6,'schema':M,'ClassRef':S,'execute':_0xf3ed72=>x[_0x825a6e(0x4e8)](_0xf3ed72)});_0x9feb09['status'](0xc8)[_0x825a6e(0x684)](_0x379177);});}},Cr=O(require(a0_0x1ec271(0x62c))),Z={};function yr(_0x43a9cd,_0x1d04c4,_0x2a6574,_0x3c2613){Z[_0x43a9cd]||(Z[_0x43a9cd]={}),Z[_0x43a9cd][_0x1d04c4]={'id':_0x1d04c4,'response':_0x2a6574,'events':_0x3c2613};}function br(_0x4a0500,_0x39b0a4){!Z[_0x4a0500]||!Z[_0x4a0500][_0x39b0a4]||delete Z[_0x4a0500][_0x39b0a4];}function J(_0x428b3d,_0x910fd7,_0x4dede5){const _0x1f6237=a0_0x1ec271;if(!Z[_0x428b3d])return;let _0x5b0b1c=_0x1f6237(0x5f0)+JSON[_0x1f6237(0x742)](_0x4dede5)+'\x0a\x0a';Object['values'](Z[_0x428b3d])[_0x1f6237(0x359)](_0x46140f=>{const _0x55bc64=_0x1f6237;_0x46140f['events']['includes'](_0x910fd7)&&_0x46140f[_0x55bc64(0x818)][_0x55bc64(0x252)](_0x5b0b1c);});}function Sr(){const _0x1f4c16=a0_0x1ec271;let _0x2b95ec={};for(let _0x525534 in Z)_0x2b95ec[_0x525534]=Object[_0x1f4c16(0x591)](Z[_0x525534])[_0x1f4c16(0x540)](_0x294b95=>({'id':_0x294b95['id'],'events':_0x294b95['events']}));return _0x2b95ec;}var Er=require('uuid'),Ns=require('mongoose'),vs=class{},bi=new Ns['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Si=new Ns[(a0_0x1ec271(0x48c))]({'_id':{'type':String,'default':a0_0x1ec271(0x7a7)},'WebhookGlobal':{'type':bi},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ye=R?.['model'](vs[a0_0x1ec271(0x49a)],Si,'All_Instances_Config'),Ci=Cr[a0_0x1ec271(0x3eb)][a0_0x1ec271(0x487)](__dirname,a0_0x1ec271(0x34f)),It=(0x0,At[a0_0x1ec271(0x3f3)])(),Ei=b['get'](a0_0x1ec271(0x697))[a0_0x1ec271(0x4ab)],se=[Oa,Aa,Da[Ei]];It['use'](a0_0x1ec271(0x385),At[a0_0x1ec271(0x3eb)]['static'](Ci))['get'](a0_0x1ec271(0x35a),async(_0x8fe5dc,_0x19e7b1)=>{const _0x3f25c5=a0_0x1ec271;console['log']('bateu\x20events');let _0x1ede66=_0x8fe5dc[_0x3f25c5(0x419)]['instance'],_0x2d2286=(_0x8fe5dc[_0x3f25c5(0x3c4)][_0x3f25c5(0x3bf)]||'')['split'](','),_0x28e2a9=(0x0,Er['v4'])();console[_0x3f25c5(0x55f)](_0x3f25c5(0x7f6),_0x1ede66),console['log'](_0x3f25c5(0x1c5),_0x2d2286);let _0xacd535=b[_0x3f25c5(0x651)](_0x3f25c5(0x697))[_0x3f25c5(0x81f)],_0x2d7ea5=_0x8fe5dc[_0x3f25c5(0x3c4)][_0x3f25c5(0x466)];if(console[_0x3f25c5(0x55f)](_0x3f25c5(0x668),_0x2d7ea5),_0xacd535[_0x3f25c5(0x714)]!==_0x2d7ea5){console[_0x3f25c5(0x55f)](_0x3f25c5(0x64f));try{let _0x5362eb=await ue[_0x3f25c5(0x719)]['find'](_0x1ede66);if(console[_0x3f25c5(0x55f)](_0x3f25c5(0x368),_0x5362eb),!_0x5362eb||_0x5362eb[_0x3f25c5(0x466)]!==_0x2d7ea5)return console[_0x3f25c5(0x55f)](_0x3f25c5(0x546)),_0x19e7b1[_0x3f25c5(0x721)](0x191)[_0x3f25c5(0x348)](_0x3f25c5(0x215));}catch(_0x56aced){return console[_0x3f25c5(0x409)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x56aced),_0x19e7b1[_0x3f25c5(0x721)](0x191)['send'](_0x3f25c5(0x58e));}}if(!await Xe(_0x1ede66))return _0x19e7b1[_0x3f25c5(0x721)](0x194)['send'](_0x3f25c5(0x250));_0x19e7b1[_0x3f25c5(0x82d)](_0x3f25c5(0x3ec),'text/event-stream'),_0x19e7b1['setHeader'](_0x3f25c5(0x3d3),_0x3f25c5(0x291)),_0x19e7b1[_0x3f25c5(0x82d)](_0x3f25c5(0x61e),_0x3f25c5(0x5e4)),_0x19e7b1[_0x3f25c5(0x31a)]();let _0x1ae766=_0x3f25c5(0x5f0)+JSON[_0x3f25c5(0x742)]({'info':_0x3f25c5(0x255)})+'\x0a\x0a';_0x19e7b1[_0x3f25c5(0x252)](_0x1ae766),yr(_0x1ede66,_0x28e2a9,_0x19e7b1,_0x2d2286),_0x8fe5dc['on']('close',()=>{const _0x269d87=_0x3f25c5;console[_0x269d87(0x55f)]('Connection\x20closed\x20for\x20instance:\x20'+_0x1ede66),br(_0x1ede66,_0x28e2a9);});}),It['get'](a0_0x1ec271(0x214),(_0x3a225f,_0x2e3022)=>{const _0x54a597=a0_0x1ec271;let _0x4e1c84=Sr();_0x2e3022[_0x54a597(0x684)](_0x4e1c84);})[a0_0x1ec271(0x651)]('/',(_0x225b24,_0x3688be)=>{const _0x5ea82a=a0_0x1ec271;let _0x4d083a=b[_0x5ea82a(0x651)](_0x5ea82a(0x7df))[_0x5ea82a(0x77a)];if(_0x4d083a){let _0x5c643d=encodeURIComponent(''+_0x4d083a);_0x3688be[_0x5ea82a(0x620)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x5c643d);return;}let _0x228d2d=b[_0x5ea82a(0x651)](_0x5ea82a(0x663)),_0x41de56=_0x228d2d&&_0x228d2d[_0x5ea82a(0x73e)]['split']('/')[0x4];if(_0x41de56){let _0x102b86=encodeURIComponent(_0x5ea82a(0x71d)+_0x41de56);_0x3688be[_0x5ea82a(0x620)](_0x5ea82a(0x7d0)+_0x102b86);}else _0x3688be[_0x5ea82a(0x620)]('https://uazapi-plugin.bubbleapps.io/');})['put'](a0_0x1ec271(0x43a),...se,async(_0x405c04,_0x4355ac)=>{const _0x4654ae=a0_0x1ec271;try{console[_0x4654ae(0x55f)](_0x4654ae(0x6ed)),_0x4355ac['status'](0xc8)[_0x4654ae(0x684)]({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x4355ac['on'](_0x4654ae(0x7f0),()=>process[_0x4654ae(0x7a0)](0x0));}catch(_0x3d1411){console[_0x4654ae(0x409)](_0x4654ae(0x1bb),_0x3d1411),_0x4355ac[_0x4654ae(0x721)](0x1f4)['json']({'message':_0x4654ae(0x1e2)});}})['put']('/config',...se,async(_0x92f778,_0xc1df98)=>{const _0x50325d=a0_0x1ec271;try{let _0x2c41f4=_0x92f778[_0x50325d(0x542)];await ye['updateOne']({},{'$set':_0x2c41f4},{'upsert':!0x0});let _0x3b14b3=await ye[_0x50325d(0x1a0)]();_0xc1df98[_0x50325d(0x684)](_0x3b14b3);}catch(_0x33152e){_0xc1df98['status'](0x190)[_0x50325d(0x348)](_0x33152e[_0x50325d(0x6db)]);}})['get'](a0_0x1ec271(0x259),...se,async(_0x119be6,_0x3a1b8c)=>{const _0x11f69f=a0_0x1ec271;try{let _0x5ac888=await ye['findOne']();if(!_0x5ac888)return _0x3a1b8c[_0x11f69f(0x684)]({});_0x3a1b8c[_0x11f69f(0x684)](_0x5ac888);}catch(_0x52750d){_0x3a1b8c[_0x11f69f(0x721)](0x1f4)[_0x11f69f(0x348)](_0x52750d[_0x11f69f(0x6db)]);}})[a0_0x1ec271(0x60b)](a0_0x1ec271(0x3b2),new gt(b,...se)['router'])[a0_0x1ec271(0x60b)](a0_0x1ec271(0x510),new Nt(...se)[a0_0x1ec271(0x41a)])[a0_0x1ec271(0x60b)]('/chat',new rt(...se)[a0_0x1ec271(0x41a)])[a0_0x1ec271(0x60b)](a0_0x1ec271(0x1b5),new ht(...se)[a0_0x1ec271(0x41a)])[a0_0x1ec271(0x60b)](a0_0x1ec271(0x666),new Tt(...se)['router'])['use'](a0_0x1ec271(0x618),new Ot(...se)['router']);var w=class{constructor(..._0x5beb56){throw{'status':0x190,'error':'Bad\x20Request','message':_0x5beb56['length']>0x0?_0x5beb56:void 0x0};}},te=class{constructor(..._0x342ae1){const _0x4c56c5=a0_0x1ec271;throw{'status':0x191,'error':_0x4c56c5(0x336),'message':_0x342ae1[_0x4c56c5(0x710)]>0x0?_0x342ae1:void 0x0};}},Q=class{constructor(..._0x13a3d0){const _0x1a1515=a0_0x1ec271;throw{'status':0x193,'error':_0x1a1515(0x70b),'message':_0x13a3d0[_0x1a1515(0x710)]>0x0?_0x13a3d0:void 0x0};}},F=class{constructor(..._0x387d26){const _0x49c21f=a0_0x1ec271;throw{'status':0x194,'error':_0x49c21f(0x439),'message':_0x387d26['length']>0x0?_0x387d26:void 0x0};}},I=class{constructor(..._0x35e81c){const _0x4ea199=a0_0x1ec271;throw{'status':0x1f4,'error':_0x4ea199(0x6d1),'message':_0x35e81c[_0x4ea199(0x710)]>0x0?_0x35e81c:void 0x0};}},de=require(a0_0x1ec271(0x410));async function Rs(_0x4c34a0){const _0xefd58a=a0_0x1ec271;let _0x210f40=new v(Rs['name']),_0x3d093b=R['getClient'](),_0x474022=_0x3d093b['db'](b['get']('DATABASE')[_0xefd58a(0x29d)][_0xefd58a(0x229)]+_0xefd58a(0x807))[_0xefd58a(0x52d)](_0x4c34a0),_0x47e3fc=async(_0x4055db,_0xceb32c)=>{const _0x5215b0=_0xefd58a;try{return await _0x3d093b[_0x5215b0(0x2b5)](),await _0x474022[_0x5215b0(0x7ff)]({'_id':_0xceb32c},JSON[_0x5215b0(0x49c)](JSON[_0x5215b0(0x742)](_0x4055db,de[_0x5215b0(0x74c)][_0x5215b0(0x244)])),{'upsert':!0x0});}catch{}},_0x5b3dfa=async _0x475f62=>{const _0x493aa2=_0xefd58a;try{await _0x3d093b[_0x493aa2(0x2b5)]();let _0x7143f7=await _0x474022[_0x493aa2(0x1a0)]({'_id':_0x475f62}),_0xf7e9f=JSON[_0x493aa2(0x742)](_0x7143f7);return JSON[_0x493aa2(0x49c)](_0xf7e9f,de[_0x493aa2(0x74c)][_0x493aa2(0x44f)]);}catch{}},_0x3dfa7e=async _0x50ffc1=>{const _0x3879ed=_0xefd58a;try{return await _0x3d093b[_0x3879ed(0x2b5)](),await _0x474022[_0x3879ed(0x5bf)]({'_id':_0x50ffc1});}catch{}},_0x153428=await _0x5b3dfa('creds')||(0x0,de[_0xefd58a(0x59e)])();return{'state':{'creds':_0x153428,'keys':{'get':async(_0x28639e,_0x505ec8)=>{const _0x233998=_0xefd58a;let _0x1d509d={};return await Promise[_0x233998(0x60d)](_0x505ec8[_0x233998(0x540)](async _0x32856b=>{const _0x592147=_0x233998;let _0x49f4db=await _0x5b3dfa(_0x28639e+'-'+_0x32856b);_0x28639e===_0x592147(0x27a)&&_0x49f4db&&(_0x49f4db=de[_0x592147(0x36a)][_0x592147(0x29e)]['AppStateSyncKeyData'][_0x592147(0x63d)](_0x49f4db)),_0x1d509d[_0x32856b]=_0x49f4db;})),_0x1d509d;},'set':async _0x7cf139=>{const _0x1d9bb7=_0xefd58a;let _0x311d94=[];for(let _0x5cb7d7 in _0x7cf139)for(let _0xd50fbd in _0x7cf139[_0x5cb7d7]){let _0x431cb6=_0x7cf139[_0x5cb7d7][_0xd50fbd],_0x26aa73=_0x5cb7d7+'-'+_0xd50fbd;_0x311d94[_0x1d9bb7(0x474)](_0x431cb6?_0x47e3fc(_0x431cb6,_0x26aa73):_0x3dfa7e(_0x26aa73));}await Promise[_0x1d9bb7(0x60d)](_0x311d94);}}},'saveCreds':async()=>_0x47e3fc(_0x153428,_0xefd58a(0x5ae))};}var xs=O(require(a0_0x1ec271(0x6e5))),Ds=O(require('node-cache')),_t=require(a0_0x1ec271(0x410)),Mr=require('@redis/client'),Dt=require(a0_0x1ec271(0x410)),xt;function Mi(_0x28f117){const _0x31d56d=a0_0x1ec271;return xt||(xt=(0x0,Mr['createClient'])({'url':_0x28f117[_0x31d56d(0x25c)]}),xt[_0x31d56d(0x2b5)]()),xt;}var ne=class c{constructor(_0x4a08d0,_0x4bc7d3){const _0x5a13cc=a0_0x1ec271;this[_0x5a13cc(0x3d0)]=_0x4a08d0,this['instanceName']=_0x4bc7d3,this['logger']=new v(c[_0x5a13cc(0x49a)]),this[_0x5a13cc(0x6b3)]=Mi(_0x4a08d0);}set[a0_0x1ec271(0x486)](_0x20d3e3){this['instanceName']=_0x20d3e3;}async['instanceKeys'](){const _0x1e85af=a0_0x1ec271;try{return await this[_0x1e85af(0x6b3)][_0x1e85af(0x729)]([_0x1e85af(0x69d),this[_0x1e85af(0x3d0)]['PREFIX_KEY']+':*']);}catch(_0x5264cf){this[_0x1e85af(0x24a)]['error'](_0x5264cf);}}async[a0_0x1ec271(0x519)](_0x1028f5,_0x45f36f){const _0xd6572=a0_0x1ec271;try{let _0xdbeb2a=JSON[_0xd6572(0x742)](_0x45f36f,Dt[_0xd6572(0x74c)]['replacer']);return await this[_0xd6572(0x6b3)][_0xd6572(0x559)](this['redisEnv'][_0xd6572(0x43c)]+':'+this[_0xd6572(0x33c)],_0x1028f5,_0xdbeb2a);}catch(_0x4f65fa){this[_0xd6572(0x24a)]['error'](_0x4f65fa);}}async[a0_0x1ec271(0x3a5)](){const _0x38dcc6=a0_0x1ec271;try{let _0x42e6e6=await this[_0x38dcc6(0x6b3)][_0x38dcc6(0x74d)](this['redisEnv'][_0x38dcc6(0x43c)]+':'+this[_0x38dcc6(0x33c)]);if(_0x42e6e6){for(let _0x53a4b8 in _0x42e6e6)Object[_0x38dcc6(0x6ba)][_0x38dcc6(0x2fb)][_0x38dcc6(0x285)](_0x42e6e6,_0x53a4b8)&&(_0x42e6e6[_0x53a4b8]=JSON[_0x38dcc6(0x49c)](_0x42e6e6[_0x53a4b8],Dt[_0x38dcc6(0x74c)][_0x38dcc6(0x44f)]));return _0x42e6e6;}}catch(_0x71b20c){this[_0x38dcc6(0x24a)][_0x38dcc6(0x409)](_0x71b20c);}}async['readData'](_0x44448d){const _0x3776aa=a0_0x1ec271;try{let _0x3f646a=await this[_0x3776aa(0x6b3)][_0x3776aa(0x170)](this[_0x3776aa(0x3d0)][_0x3776aa(0x43c)]+':'+this[_0x3776aa(0x33c)],_0x44448d);if(_0x3f646a)return JSON[_0x3776aa(0x49c)](_0x3f646a,Dt[_0x3776aa(0x74c)][_0x3776aa(0x44f)]);}catch(_0xe8965a){this[_0x3776aa(0x24a)][_0x3776aa(0x409)](_0xe8965a);}}async[a0_0x1ec271(0x51c)](_0x40b516){const _0xd1d50e=a0_0x1ec271;try{return await this[_0xd1d50e(0x6b3)][_0xd1d50e(0x2c1)](this[_0xd1d50e(0x3d0)][_0xd1d50e(0x43c)]+':'+this['instanceName'],_0x40b516);}catch(_0x1ce69d){this[_0xd1d50e(0x24a)][_0xd1d50e(0x409)](_0x1ce69d);}}async['delAll'](_0x206ec2){const _0x55e1da=a0_0x1ec271;try{return await this['client'][_0x55e1da(0x55c)](_0x206ec2||this[_0x55e1da(0x3d0)][_0x55e1da(0x43c)]+':'+this[_0x55e1da(0x33c)]);}catch(_0x5dcf8d){this[_0x55e1da(0x24a)][_0x55e1da(0x409)](_0x5dcf8d);}}};async function Ts(_0x24e5ac,_0x186504){const _0x4288f3=a0_0x1ec271;let _0x3dd014=new v(Ts[_0x4288f3(0x49a)]),_0x3ed0a9=new ne(_0x24e5ac,_0x186504),_0xfb29f=async(_0x505ed2,_0x32dca7)=>{const _0x3f2d1e=_0x4288f3;try{return await _0x3ed0a9[_0x3f2d1e(0x519)](_0x32dca7,_0x505ed2);}catch(_0x426252){return _0x3dd014[_0x3f2d1e(0x409)]({'localError':_0x3f2d1e(0x519),'error':_0x426252});}},_0x45511b=async _0xe9b5b7=>{const _0x3cbe9b=_0x4288f3;try{return await _0x3ed0a9[_0x3cbe9b(0x6ad)](_0xe9b5b7);}catch(_0x385473){_0x3dd014[_0x3cbe9b(0x409)]({'readData':_0x3cbe9b(0x519),'error':_0x385473});return;}},_0x537c16=async _0x543986=>{const _0x5328ab=_0x4288f3;try{return await _0x3ed0a9['removeData'](_0x543986);}catch(_0x64b11){_0x3dd014[_0x5328ab(0x409)]({'readData':_0x5328ab(0x51c),'error':_0x64b11});}},_0x41955a=await _0x45511b('creds')||(0x0,_t[_0x4288f3(0x59e)])();return{'state':{'creds':_0x41955a,'keys':{'get':async(_0x101376,_0x4a62f3)=>{const _0x4c08db=_0x4288f3;let _0x25ba1b={};return await Promise[_0x4c08db(0x60d)](_0x4a62f3[_0x4c08db(0x540)](async _0x3a9dbe=>{const _0x10ddd8=_0x4c08db;let _0x1a6dbe=await _0x45511b(_0x101376+'-'+_0x3a9dbe);_0x101376===_0x10ddd8(0x27a)&&_0x1a6dbe&&(_0x1a6dbe=_t['proto'][_0x10ddd8(0x29e)]['AppStateSyncKeyData'][_0x10ddd8(0x63d)](_0x1a6dbe)),_0x25ba1b[_0x3a9dbe]=_0x1a6dbe;})),_0x25ba1b;},'set':async _0x479556=>{const _0x4a52be=_0x4288f3;let _0x109b9a=[];for(let _0x493337 in _0x479556)for(let _0x5caf2a in _0x479556[_0x493337]){let _0x58e30f=_0x479556[_0x493337][_0x5caf2a],_0x5c215=_0x493337+'-'+_0x5caf2a;_0x109b9a[_0x4a52be(0x474)](_0x58e30f?await _0xfb29f(_0x58e30f,_0x5c215):await _0x537c16(_0x5c215));}await Promise[_0x4a52be(0x60d)](_0x109b9a);}}},'saveCreds':async()=>await _0xfb29f(_0x41955a,_0x4288f3(0x5ae))};}var $=O(require('fs')),Lt=require(a0_0x1ec271(0x685)),jt=O(require(a0_0x1ec271(0x5a1))),Ft=require('https-proxy-agent'),vi=a0_0x1ec271(0x708)[a0_0x1ec271(0x39e)](),Pt=vi[a0_0x1ec271(0x1d7)]('\x0a')[a0_0x1ec271(0x540)](_0x5e53af=>{const _0x48b777=a0_0x1ec271;let _0x50e4c1=_0x5e53af[_0x48b777(0x1d7)](':'),_0x564ffb={'host':_0x50e4c1[0x0],'port':_0x50e4c1[0x1],'protocol':_0x48b777(0x1f2)};return _0x50e4c1[_0x48b777(0x710)]===0x4&&(_0x564ffb[_0x48b777(0x3a2)]=_0x50e4c1[0x2],_0x564ffb[_0x48b777(0x4e4)]=_0x50e4c1[0x3]),_0x564ffb;});function vr(_0x357806){const _0x1eb32d=a0_0x1ec271;return Pt[_0x1eb32d(0x741)](_0x1726c7=>_0x1726c7['host']===_0x357806)||null;}function Nr(){const _0x4156fb=a0_0x1ec271;if(Pt[_0x4156fb(0x710)]===0x0)return null;let _0x2d3f8f=Math[_0x4156fb(0x71c)](Math['random']()*Pt[_0x4156fb(0x710)]);return Pt[_0x2d3f8f];}function Os(_0x107a40){const _0x29fada=a0_0x1ec271;let _0x1038c8=_0x4d8306=>typeof _0x4d8306==_0x29fada(0x186)&&_0x4d8306[_0x29fada(0x710)]>0x0,_0x35c82a=_0x12b176=>{let _0x5ca14f=parseInt(_0x12b176,0xa);return!isNaN(_0x5ca14f)&&_0x5ca14f>0x0&&_0x5ca14f<=0xffff;},_0x507902=_0x34d9b9=>typeof _0x34d9b9==_0x29fada(0x186)&&_0x34d9b9[_0x29fada(0x710)]>0x0;return _0x107a40&&_0x1038c8(_0x107a40['host'])&&_0x35c82a(_0x107a40[_0x29fada(0x39c)])&&(!_0x107a40[_0x29fada(0x3a2)]||_0x507902(_0x107a40['username']))&&(!_0x107a40['password']||_0x507902(_0x107a40['password']))&&(_0x107a40[_0x29fada(0x68a)]===_0x29fada(0x1f2)||_0x107a40[_0x29fada(0x68a)]===_0x29fada(0x68d));}var Ut=require(a0_0x1ec271(0x4b6)),_s=a0_0x1ec271(0x4db),xr,ce=null,Rr=null,et=null,Ni=0x3,Ri=null;async function Ti(){const _0x3d7672=a0_0x1ec271;let _0x4bd4b1=await ye[_0x3d7672(0x1a0)]();ce=_0x4bd4b1?.[_0x3d7672(0x82b)]??null,Ri=_0x4bd4b1?.['DaysToDelete']??null,_s=_0x4bd4b1?.[_0x3d7672(0x7fc)]??_0x3d7672(0x4db),xr=_0x4bd4b1?.[_0x3d7672(0x736)]??Ps??'uazapi',console['log'](_0x3d7672(0x327)),console[_0x3d7672(0x55f)](_0x4bd4b1);}async function Oi(){await Ti();}Oi();var Tr={},ae={},be=class c{constructor(_0x3e7a11,_0x108312,_0x2674b1){const _0x442d22=a0_0x1ec271;this['configService']=_0x3e7a11,this[_0x442d22(0x248)]=_0x108312,this['repository']=_0x2674b1,this[_0x442d22(0x5c9)]=null,this['logger']=new v(c[_0x442d22(0x49a)]),this[_0x442d22(0x47b)]={},this['localWebhook']={},this[_0x442d22(0x258)]={'state':'close'},this['storePath']=(0x0,U[_0x442d22(0x487)])(ie,_0x442d22(0x34f)),this[_0x442d22(0x772)]=new Ds[(_0x442d22(0x3eb))](),this[_0x442d22(0x552)]=new Ds[(_0x442d22(0x3eb))](),this[_0x442d22(0x35b)]=!0x1,this[_0x442d22(0x64b)]={'status.instance':_0x442d22(0x838),'connection.update':_0x442d22(0x838),'qrcode.updated':_0x442d22(0x484),'messages.upsert':_0x442d22(0x6a0),'send.message':'/wa-message','messages.update':_0x442d22(0x277),'group.upsert':'/wa-groups','group.update':_0x442d22(0x306),'group-participants.update':'/wa-groups','messages.set':_0x442d22(0x27e),'contacts.set':_0x442d22(0x465),'contacts.upsert':_0x442d22(0x465),'contacts.update':'/wa-contacts','presence.update':_0x442d22(0x23d),'chats.set':_0x442d22(0x268),'chats.update':_0x442d22(0x268),'chats.upsert':'/wa-chats','chats.delete':'/wa-chats'},this[_0x442d22(0x70f)]=0x0,this['reconnectTimestamps']=[],this['MAX_RECONNECT_ATTEMPTS']=0xa,this[_0x442d22(0x292)]=0xea60,this['isRunning']=!0x1,this[_0x442d22(0x7bc)]={'chats.upsert':async(_0x1379f1,_0x2cc26c)=>{const _0x473381=_0x442d22;let _0x4fb242=[];for await(let _0x1ae6b9 of _0x1379f1)_0x4fb242[_0x473381(0x474)]({'_id':_0x1ae6b9['id'],'owner':this[_0x473381(0x47b)][_0x473381(0x556)],'group':_0x1ae6b9['id'][_0x473381(0x23c)](_0x473381(0x802)),'name':_0x1ae6b9[_0x473381(0x49a)]||_0x1ae6b9[_0x473381(0x70d)]||null,'contactname':null,'lastmsg':_0x1ae6b9[_0x473381(0x786)]&&_0x1ae6b9[_0x473381(0x786)]['toString']()[_0x473381(0x710)]<0xd?_0x1ae6b9['conversationTimestamp']*0x3e8:_0x1ae6b9['conversationTimestamp']||null,'archived':_0x1ae6b9[_0x473381(0x81e)]||!0x1,'unreadcount':_0x1ae6b9[_0x473381(0x389)]||0x0,'ephemeralExpiration':_0x1ae6b9[_0x473381(0x180)]||0x0});this[_0x473381(0x836)](_0x473381(0x643),_0x4fb242);},'chats.update':async(_0x29c43a,_0x2bc0f8)=>{const _0x169759=_0x442d22;for(let _0x525fd6 of _0x29c43a){let _0x32b347={'_id':_0x525fd6['id'],'owner':this[_0x169759(0x47b)][_0x169759(0x556)],'group':_0x525fd6['id']['endsWith'](_0x169759(0x802)),'name':_0x525fd6['name']||_0x525fd6[_0x169759(0x70d)],'archived':_0x525fd6[_0x169759(0x81e)]},_0x1575db=!0x1,_0x27f1c6={};_0x32b347['archived']!=null&&(this['logger'][_0x169759(0x641)](this[_0x169759(0x33c)]+'\x20('+this[_0x169759(0x47b)][_0x169759(0x556)]+_0x169759(0x718)+_0x525fd6[_0x169759(0x81e)]),_0x1575db=!0x0,_0x27f1c6[_0x169759(0x81e)]=_0x525fd6[_0x169759(0x81e)]),_0x525fd6['name']!=null&&(this[_0x169759(0x24a)]['verbose'](this['instanceName']+'\x20('+this[_0x169759(0x47b)][_0x169759(0x556)]+_0x169759(0x1ba)+_0x525fd6[_0x169759(0x49a)]),_0x1575db=!0x0,_0x27f1c6[_0x169759(0x49a)]=_0x525fd6[_0x169759(0x49a)]),_0x525fd6['displayName']!=null&&(this[_0x169759(0x24a)][_0x169759(0x641)](this[_0x169759(0x33c)]+'\x20('+this[_0x169759(0x47b)]['wuid']+_0x169759(0x387)+_0x525fd6[_0x169759(0x70d)]),_0x1575db=!0x0,_0x27f1c6['name']=_0x525fd6[_0x169759(0x70d)]);let _0x1ae95c;_0x1575db&&(_0x1ae95c=await this['repository'][_0x169759(0x21e)][_0x169759(0x5ec)]({'where':{'_id':_0x525fd6['id']}},_0x27f1c6,this[_0x169759(0x47b)][_0x169759(0x556)])),_0x1ae95c&&J(this['instanceName'],_0x169759(0x5e3),{'chat':_0x1ae95c});}},'chats.delete':async _0x3a0bd1=>{const _0x1cb933=_0x442d22;for(let _0x205e18 of _0x3a0bd1)if(_0x205e18[_0x1cb933(0x23c)](_0x1cb933(0x802))){await this[_0x1cb933(0x739)][_0x1cb933(0x21e)][_0x1cb933(0x41e)]({'where':{'_id':_0x205e18}},this[_0x1cb933(0x47b)]['wuid']);let _0x5c670f={'where':{'key':{'remoteJid':_0x205e18}}};await this[_0x1cb933(0x739)][_0x1cb933(0x6db)][_0x1cb933(0x41e)](_0x5c670f,this[_0x1cb933(0x47b)][_0x1cb933(0x556)]);}else{await this[_0x1cb933(0x739)][_0x1cb933(0x21e)][_0x1cb933(0x5ec)]({'where':{'_id':_0x205e18}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x1cb933(0x47b)]['wuid']);let _0x220cb0={'where':{'key':{'remoteJid':_0x205e18}}};await this[_0x1cb933(0x739)][_0x1cb933(0x6db)][_0x1cb933(0x41e)](_0x220cb0,this[_0x1cb933(0x47b)][_0x1cb933(0x556)]);}this[_0x1cb933(0x836)](_0x1cb933(0x2bd),[..._0x3a0bd1]);}},this[_0x442d22(0x374)]={'contacts.upsert':async(_0x21c549,_0x19faf1)=>{const _0x564552=_0x442d22;let _0x274561=await this[_0x564552(0x739)]['contact'][_0x564552(0x741)]({'where':{}},this[_0x564552(0x47b)][_0x564552(0x556)]),_0x421c74=[];for await(let _0xfe2472 of _0x21c549)_0x274561['find'](_0x513c29=>_0x513c29[_0x564552(0x6dd)]===_0xfe2472['id'])||_0x421c74['push']({'_id':_0xfe2472['id'],'pushName':_0xfe2472?.[_0x564552(0x49a)]||_0xfe2472?.[_0x564552(0x3c6)],'owner':this[_0x564552(0x47b)][_0x564552(0x556)]});this[_0x564552(0x836)](_0x564552(0x1b3),_0x421c74),await this[_0x564552(0x739)]['contact'][_0x564552(0x441)](_0x421c74);},'contacts.update':async(_0x216a76,_0x3ebe54)=>{const _0x4dd897=_0x442d22;let _0x3de419=[];for await(let _0x4097a4 of _0x216a76)_0x3de419['push']({'_id':_0x4097a4['id'],'pushName':_0x4097a4?.[_0x4dd897(0x49a)]??_0x4097a4?.[_0x4dd897(0x3c6)],'owner':this['instance'][_0x4dd897(0x556)]});this['sendDataWebhook'](_0x4dd897(0x2a5),_0x3de419);}},this[_0x442d22(0x83c)]={'messaging-history.set':async({messages:_0x4e58ea,chats:_0x5b9f85,isLatest:_0x2c9e72},_0x55e417)=>{const _0x4f9106=_0x442d22;if(_0x2c9e72){let _0x5b6cb7=await Promise['all'](_0x5b9f85[_0x4f9106(0x540)](async _0x1cb890=>({'_id':_0x1cb890['id'],'owner':this[_0x4f9106(0x47b)][_0x4f9106(0x556)],'group':_0x1cb890['id'][_0x4f9106(0x23c)](_0x4f9106(0x802)),'name':_0x1cb890[_0x4f9106(0x49a)]||_0x1cb890[_0x4f9106(0x70d)]||null,'contactname':null,'lastmsg':_0x1cb890[_0x4f9106(0x786)]&&_0x1cb890[_0x4f9106(0x786)]['toString']()[_0x4f9106(0x710)]<0xd?_0x1cb890[_0x4f9106(0x786)]*0x3e8:_0x1cb890[_0x4f9106(0x786)]||null,'archived':_0x1cb890[_0x4f9106(0x81e)]||!0x1,'unreadcount':_0x1cb890['unreadCount']||0x0})));this[_0x4f9106(0x836)](_0x4f9106(0x77c),_0x5b6cb7),await this[_0x4f9106(0x4e3)](_0x5b6cb7,_0x55e417);}let _0x2fe359=[],_0x1ffe3e=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x2536ea]of Object[_0x4f9106(0x720)](_0x4e58ea)){if(_0x2536ea['message']?.[_0x4f9106(0x589)]||_0x2536ea[_0x4f9106(0x6db)]?.[_0x4f9106(0x78e)]||!_0x2536ea[_0x4f9106(0x6db)]||_0x2536ea['key'][_0x4f9106(0x560)]===_0x4f9106(0x4ef)||(xs['default']['isLong'](_0x2536ea?.['messageTimestamp'])&&(_0x2536ea[_0x4f9106(0x605)]=_0x2536ea[_0x4f9106(0x605)]?.[_0x4f9106(0x4c5)]()),_0x2536ea[_0x4f9106(0x605)]&&_0x2536ea[_0x4f9106(0x605)]['toString']()[_0x4f9106(0x710)]<0xd&&(_0x2536ea['messageTimestamp']=_0x2536ea[_0x4f9106(0x605)]*0x3e8),_0x2536ea[_0x4f9106(0x605)]<_0x1ffe3e))continue;let _0x7b039e=(0x0,m[_0x4f9106(0x689)])(_0x2536ea[_0x4f9106(0x6db)]),_0x39256b=(0x0,m[_0x4f9106(0x6a2)])(_0x7b039e),{message_normalized:_0x181770}=this[_0x4f9106(0x22a)](_0x7b039e,_0x39256b,null);Object[_0x4f9106(0x69d)](_0x181770)[_0x4f9106(0x710)]>0x0&&_0x2fe359[_0x4f9106(0x474)]({'_id':_0x2536ea[_0x4f9106(0x669)]['id'],'key':_0x2536ea[_0x4f9106(0x669)],'pushName':_0x2536ea[_0x4f9106(0x42d)],'participant':_0x2536ea[_0x4f9106(0x750)],'message':_0x7b039e,'messageType':_0x39256b,'message_normalized':{'key':_0x2536ea['key'],'pushName':_0x2536ea[_0x4f9106(0x42d)],'messageTimestamp':_0x2536ea[_0x4f9106(0x605)],..._0x181770},'messageTimestamp':_0x2536ea[_0x4f9106(0x605)],'owner':this[_0x4f9106(0x47b)][_0x4f9106(0x556)]});}_0x55e417['ENABLED']&&_0x2fe359[_0x4f9106(0x710)]>0x0&&(this['logger']['verbose'](this[_0x4f9106(0x33c)]+'\x20('+this[_0x4f9106(0x47b)][_0x4f9106(0x556)]+_0x4f9106(0x355)+_0x2fe359[_0x4f9106(0x710)]+_0x4f9106(0x82e)+this['instance'][_0x4f9106(0x556)]+_0x4f9106(0x837)),await this[_0x4f9106(0x739)][_0x4f9106(0x6db)]['insert']([..._0x2fe359],this[_0x4f9106(0x47b)]['wuid'])),this[_0x4f9106(0x836)](_0x4f9106(0x6e2),[..._0x2fe359]),_0x4e58ea=void 0x0;},'messages.upsert':async({messages:_0x343fa2,type:_0x49de05},_0x1efdff)=>{const _0x32946b=_0x442d22;let _0x1057d9=_0x343fa2[0x0],_0x44cc73=_0x1057d9[_0x32946b(0x669)]['id'],_0x5012cd=_0x1057d9[_0x32946b(0x2d6)]===0x2,_0x338d92=0xb;if(this[_0x32946b(0x347)]?.[_0x32946b(0x580)]&&_0x1057d9['key'][_0x32946b(0x560)][_0x32946b(0x537)](_0x32946b(0x802))){this[_0x32946b(0x24a)]['verbose'](this[_0x32946b(0x33c)]+'\x20('+this[_0x32946b(0x47b)][_0x32946b(0x556)]+'):\x20[messages.upsert]\x20group\x20ignored');return;}if(_0x5012cd){if(ae[_0x44cc73]||(ae[_0x44cc73]=0x0),ae[_0x44cc73]++,this[_0x32946b(0x24a)][_0x32946b(0x409)](this[_0x32946b(0x33c)]+'\x20('+this[_0x32946b(0x47b)]['wuid']+_0x32946b(0x56e)+_0x1057d9[_0x32946b(0x669)][_0x32946b(0x560)]+_0x32946b(0x251)+_0x44cc73+':\x20'+ae[_0x44cc73]+'/'+_0x338d92),ae[_0x44cc73]>=_0x338d92){this[_0x32946b(0x24a)][_0x32946b(0x409)](this[_0x32946b(0x33c)]+'\x20('+this['instance'][_0x32946b(0x556)]+_0x32946b(0x56c)+_0x1057d9[_0x32946b(0x669)]['remoteJid']+'\x20e\x20ID='+_0x44cc73+'.');let _0x3f536c={'key':{..._0x1057d9[_0x32946b(0x669)]},'message':{'conversation':_0x32946b(0x779)+_0x44cc73+_0x32946b(0x2fa)}};this[_0x32946b(0x6b3)]['ev'][_0x32946b(0x793)](_0x32946b(0x1e6),{'messages':[_0x3f536c],'type':_0x32946b(0x567)}),delete ae[_0x44cc73];}}else ae[_0x44cc73]&&(this[_0x32946b(0x24a)][_0x32946b(0x596)]('[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20'+ae[_0x44cc73]+'\x20tentativas:\x20remotejid='+_0x1057d9[_0x32946b(0x669)][_0x32946b(0x560)]+_0x32946b(0x251)+_0x44cc73),delete ae[_0x44cc73]);if(_0x49de05!=='notify'||!_0x1057d9?.[_0x32946b(0x6db)]||_0x1057d9[_0x32946b(0x6db)]?.['protocolMessage']||_0x1057d9[_0x32946b(0x6db)][_0x32946b(0x78e)]||_0x1057d9[_0x32946b(0x669)]['remoteJid']===_0x32946b(0x4ef))return;let _0x275a6c=null,_0x343a55=null;try{_0x275a6c=await this[_0x32946b(0x28e)](_0x1057d9),_0x343a55=_0x275a6c?_0x275a6c[_0x32946b(0x487)](','):null;}catch(_0x513a83){this[_0x32946b(0x24a)][_0x32946b(0x641)](this[_0x32946b(0x33c)]+'\x20('+this[_0x32946b(0x47b)][_0x32946b(0x556)]+_0x32946b(0x355)+(_0x513a83 instanceof Error?_0x513a83[_0x32946b(0x6db)]:JSON[_0x32946b(0x742)](_0x513a83,null,0x2))),_0x343a55=_0x32946b(0x4a6);}this[_0x32946b(0x6b3)]['sendPresenceUpdate'](_0x32946b(0x435)),xs['default'][_0x32946b(0x5c8)](_0x1057d9[_0x32946b(0x605)])&&(_0x1057d9[_0x32946b(0x605)]=_0x1057d9[_0x32946b(0x605)]?.[_0x32946b(0x4c5)]()),_0x1057d9[_0x32946b(0x605)]&&_0x1057d9[_0x32946b(0x605)][_0x32946b(0x506)]()[_0x32946b(0x710)]<0xd&&(_0x1057d9[_0x32946b(0x605)]=_0x1057d9[_0x32946b(0x605)]*0x3e8);let _0x4e2f7a=_0x1057d9[_0x32946b(0x6db)],_0x52b1e2=(0x0,m['normalizeMessageContent'])(_0x4e2f7a),_0x21a636=(0x0,m[_0x32946b(0x6a2)])(_0x52b1e2),{messageContent:_0x5a843d,message_normalized:_0x408483}=this['normalizeMessage'](_0x52b1e2,_0x21a636,_0x343a55);_0x21a636===_0x32946b(0x589)&&_0x5a843d?.[_0x32946b(0x1ee)]&&(_0x21a636=_0x32946b(0x1ee));let _0x2ace15,_0x3f6387=_0x1057d9['key'][_0x32946b(0x560)][_0x32946b(0x23c)]('@g.us');if(_0x1057d9[_0x32946b(0x669)][_0x32946b(0x794)])_0x2ace15=this['instance'][_0x32946b(0x3e2)];else{let _0x3731ee=_0x3f6387?_0x1057d9[_0x32946b(0x669)]['participant']:_0x1057d9[_0x32946b(0x669)]['remoteJid'];_0x2ace15=(await this[_0x32946b(0x260)](_0x3731ee,_0x1057d9[_0x32946b(0x42d)],!0x1))[_0x32946b(0x2d0)][_0x32946b(0x68e)];}let _0x5449da={'_id':_0x1057d9['key']['id'],'key':_0x1057d9[_0x32946b(0x669)],'isGroup':_0x3f6387,'profilePictureUrl':_0x2ace15,'pushName':_0x1057d9[_0x32946b(0x42d)],'message':_0x52b1e2,'messageType':_0x21a636,'message_normalized':{'key':_0x1057d9['key'],'pushName':_0x1057d9['pushName'],'messageTimestamp':_0x1057d9['messageTimestamp'],'source':(0x0,m['getDevice'])(_0x1057d9[_0x32946b(0x669)]['id']),..._0x408483},'messageTimestamp':_0x1057d9[_0x32946b(0x605)],'owner':this['instance']['wuid'],'source':(0x0,m[_0x32946b(0x749)])(_0x1057d9[_0x32946b(0x669)]['id']),'expiration':_0x5a843d?.['contextInfo']?.[_0x32946b(0x75e)]||0x0};_0x5a843d||(console[_0x32946b(0x409)]('Mensagem\x20não\x20suportada'),this[_0x32946b(0x24a)][_0x32946b(0x409)](_0x5449da)),this[_0x32946b(0x24a)][_0x32946b(0x55f)](this['instanceName']+'\x20('+this[_0x32946b(0x47b)]['wuid']+'):\x20'+(_0x5449da[_0x32946b(0x669)]?.[_0x32946b(0x794)]?_0x32946b(0x759):_0x32946b(0x4ed))+'\x20['+_0x5449da[_0x32946b(0x669)]?.[_0x32946b(0x560)][_0x32946b(0x448)](_0x32946b(0x594),'')+']\x20('+_0x5449da[_0x32946b(0x3c5)]+')'),_0x5449da[_0x32946b(0x828)]?.[_0x32946b(0x308)]&&this[_0x32946b(0x24a)]['log'](_0x44cc73+':\x20'+_0x5449da['message_normalized']?.[_0x32946b(0x308)]),await this[_0x32946b(0x739)][_0x32946b(0x6db)]['insert']([_0x5449da],this['instance'][_0x32946b(0x556)]),this[_0x32946b(0x836)](_0x32946b(0x1e6),_0x5449da),J(this[_0x32946b(0x33c)],_0x32946b(0x462),{'message':_0x5449da}),_0x1057d9[_0x32946b(0x669)][_0x32946b(0x560)]!==_0x32946b(0x4ef)&&await this[_0x32946b(0x4ee)](_0x1efdff,_0x5449da,_0x32946b(0x425));},'messages.update':async(_0x28a28f,_0x4e6dcb)=>{const _0x16832c=_0x442d22;let _0x32a66e={0x0:_0x16832c(0x787),0x1:_0x16832c(0x67f),0x2:_0x16832c(0x80c),0x3:_0x16832c(0x4d2),0x4:'READ',0x5:_0x16832c(0x5c7)};for await(let {key:_0x689ec1,update:_0x2a4fff}of _0x28a28f){if(this[_0x16832c(0x347)]?.['groups_ignore']&&_0x689ec1['remoteJid'][_0x16832c(0x537)]('@g.us')){this[_0x16832c(0x24a)][_0x16832c(0x641)](this[_0x16832c(0x33c)]+'\x20('+this[_0x16832c(0x47b)][_0x16832c(0x556)]+_0x16832c(0x267));return;}if(_0x689ec1[_0x16832c(0x560)]!==_0x16832c(0x4ef)){let _0x9fc6c5=Date[_0x16832c(0x65d)](),_0x3055d0;_0x2a4fff[_0x16832c(0x6db)]===null&&_0x2a4fff['status']===void 0x0?_0x3055d0=_0x16832c(0x4a7):_0x3055d0=_0x32a66e[_0x2a4fff['status']];let _0x390779=_0x689ec1[_0x16832c(0x560)][_0x16832c(0x448)](/:\d{1,2}@/g,'@'),_0x144a52={..._0x689ec1,'remoteJid':_0x390779,'status':_0x3055d0,'datetime':_0x9fc6c5,'owner':this['instance'][_0x16832c(0x556)]};this[_0x16832c(0x836)](_0x16832c(0x563),_0x144a52),await this[_0x16832c(0x4a0)](_0x689ec1,_0x144a52);}}},'labels.association':async({type:_0x280975,association:_0xbf400a})=>{const _0x46ad3e=_0x442d22;if(_0xbf400a[_0x46ad3e(0x325)]==='label_jid'){let _0xab2b62,_0x190e38=0x0;for(;!_0xab2b62&&_0x190e38<this['delayChatLabel_MAX_RETRIES'];)_0xab2b62=await this[_0x46ad3e(0x739)][_0x46ad3e(0x21e)][_0x46ad3e(0x1a0)]({'where':{'_id':_0xbf400a['chatId']}},this[_0x46ad3e(0x47b)][_0x46ad3e(0x556)]),_0xab2b62||(_0x190e38++,console[_0x46ad3e(0x55f)]('Chat\x20'+_0xbf400a[_0x46ad3e(0x1a6)]+_0x46ad3e(0x342)+this[_0x46ad3e(0x84a)]+_0x46ad3e(0x2e2)+_0x190e38+'/'+this[_0x46ad3e(0x812)]+')'),await this[_0x46ad3e(0x3dc)](this[_0x46ad3e(0x84a)]));if(!_0xab2b62){console[_0x46ad3e(0x409)]('Failed\x20to\x20find\x20chat\x20'+_0xbf400a[_0x46ad3e(0x1a6)]+'\x20after\x20'+this[_0x46ad3e(0x812)]+_0x46ad3e(0x440));return;}switch(_0x280975){case _0x46ad3e(0x524):console[_0x46ad3e(0x55f)](_0xbf400a),await this[_0x46ad3e(0x739)][_0x46ad3e(0x21e)]['updateOne']({'where':{'_id':_0xbf400a['chatId']}},{'leadInfo.etiquetas':_0xbf400a[_0x46ad3e(0x3fc)]},this[_0x46ad3e(0x47b)][_0x46ad3e(0x556)],void 0x0,_0x46ad3e(0x640));break;case _0x46ad3e(0x64c):console[_0x46ad3e(0x55f)](_0xbf400a),await this['repository'][_0x46ad3e(0x21e)][_0x46ad3e(0x5ec)]({'where':{'_id':_0xbf400a['chatId']}},{'leadInfo.etiquetas':_0xbf400a[_0x46ad3e(0x3fc)]},this[_0x46ad3e(0x47b)][_0x46ad3e(0x556)],void 0x0,_0x46ad3e(0x4c6));break;default:console[_0x46ad3e(0x409)](_0x46ad3e(0x7b4)+_0x280975+']');}}},'labels.edit':async _0x33357c=>{const _0x461331=_0x442d22;if(!_0x33357c||!_0x33357c['id']){console[_0x461331(0x409)](_0x461331(0x3ca));return;}if(!_0x33357c['deleted']){let _0x5033df=[_0x461331(0x5d5),_0x461331(0x3b9),'#fed428',_0x461331(0x41b),_0x461331(0x365),'#56ccb4',_0x461331(0x82a),_0x461331(0x7fb),_0x461331(0x458),'#d8e651',_0x461331(0x479),_0x461331(0x2e7),_0x461331(0x208),_0x461331(0x322),_0x461331(0x1a5),'#83e421',_0x461331(0x56d),_0x461331(0x201),_0x461331(0x7c5),_0x461331(0x55b)],_0x44be8f;typeof _0x33357c['color']==_0x461331(0x396)&&_0x33357c[_0x461331(0x639)]>=0x0&&_0x33357c[_0x461331(0x639)]<_0x5033df[_0x461331(0x710)]?_0x44be8f=_0x5033df[_0x33357c[_0x461331(0x639)]]:(console[_0x461331(0x409)](_0x461331(0x74e),_0x33357c[_0x461331(0x639)]),_0x44be8f=_0x461331(0x343));let _0x3899c3={'_id':_0x33357c['id'],'colorHex':_0x44be8f,'color':_0x33357c?.[_0x461331(0x639)],'name':_0x33357c?.[_0x461331(0x49a)],'owner':this['instance'][_0x461331(0x556)]};await this['repository'][_0x461331(0x1ad)][_0x461331(0x5ec)]({'where':{'_id':_0x33357c['id']}},_0x3899c3,this[_0x461331(0x47b)]['wuid']),console[_0x461331(0x55f)](_0x461331(0x2a4),_0x33357c);}_0x33357c[_0x461331(0x6d9)]&&(await this[_0x461331(0x739)][_0x461331(0x1ad)][_0x461331(0x41e)]({'where':{'_id':_0x33357c['id']}},this[_0x461331(0x47b)][_0x461331(0x556)]),console[_0x461331(0x55f)](_0x461331(0x4b5),_0x33357c['id']));}},this[_0x442d22(0x586)]={'groups.upsert':_0x2cdf1b=>{const _0x57bc34=_0x442d22;this[_0x57bc34(0x836)](_0x57bc34(0x18c),_0x2cdf1b);},'groups.update':_0x2b8419=>{const _0x1b0b5c=_0x442d22;this[_0x1b0b5c(0x836)](_0x1b0b5c(0x551),_0x2b8419);},'group-participants.update':_0x212b9a=>{const _0x540584=_0x442d22;this['sendDataWebhook'](_0x540584(0x28f),_0x212b9a);}},this[_0x442d22(0x812)]=0x5,this[_0x442d22(0x84a)]=0x1388,this[_0x442d22(0x28e)]=async _0x1495ea=>{const _0x199799=_0x442d22;if(_0x1495ea[_0x199799(0x6db)]?.[_0x199799(0x26a)]){let _0x2b8371=await this[_0x199799(0x3ef)](_0x1495ea['message'][_0x199799(0x26a)][_0x199799(0x2e3)],!0x0);if(_0x2b8371){let _0x351f43=_0x2b8371[_0x199799(0x669)][_0x199799(0x794)]?this['instance'][_0x199799(0x556)]+'@s.whatsapp.net':_0x2b8371[_0x199799(0x669)][_0x199799(0x750)]||_0x2b8371['key']['remoteJid'],_0x39d403=_0x2b8371[_0x199799(0x669)]['id'],_0x38b5a4=_0x2b8371[_0x199799(0x6db)],_0x96c352=Buffer[_0x199799(0x445)](_0x38b5a4[_0x199799(0x84c)][_0x199799(0x7f2)][_0x199799(0x506)](_0x199799(0x1ce)),_0x199799(0x1ce)),_0x4c8c5b=(0x0,m['decryptPollVote'])(_0x1495ea[_0x199799(0x6db)][_0x199799(0x26a)][_0x199799(0x4ce)],{'pollCreatorJid':_0x351f43,'pollMsgId':_0x39d403,'pollEncKey':_0x96c352,'voterJid':_0x1495ea['key'][_0x199799(0x794)]?this[_0x199799(0x47b)][_0x199799(0x556)]+_0x199799(0x594):_0x1495ea['key'][_0x199799(0x560)][_0x199799(0x23c)](_0x199799(0x75d))?_0x1495ea[_0x199799(0x669)][_0x199799(0x750)]:_0x1495ea[_0x199799(0x669)]['remoteJid']}),_0x26334d=[],_0x314246=_0x4c8c5b[_0x199799(0x4a1)][_0x199799(0x540)](_0x2dc12b=>Buffer[_0x199799(0x445)](_0x2dc12b)['toString'](_0x199799(0x1ce)));for(let {optionName:_0x35ddaf}of _0x38b5a4[_0x199799(0x7b6)]?.[_0x199799(0x44e)]||_0x38b5a4['pollCreationMessageV3']?.[_0x199799(0x44e)]||_0x38b5a4[_0x199799(0x3cb)]?.['options'])_0x314246['indexOf']((0x0,m[_0x199799(0x228)])(Buffer[_0x199799(0x445)](_0x35ddaf))[_0x199799(0x506)](_0x199799(0x1ce)))>-0x1&&_0x26334d[_0x199799(0x474)](_0x35ddaf);return _0x26334d;}}return null;},this['normalizeMessage']=(_0x50e27d,_0x4753c2,_0xc2d8d2)=>{const _0x2c7e8e=_0x442d22;try{let _0x3f0d49=_0x50e27d?(0x0,m[_0x2c7e8e(0x499)])(_0x50e27d)[_0x4753c2]:void 0x0,_0x476fba={},_0x3e5e2c=null,_0x365309=null,_0x567057=null;_0x4753c2===_0x2c7e8e(0x589)&&_0x3f0d49?.[_0x2c7e8e(0x1ee)]&&(_0x4753c2=(0x0,m[_0x2c7e8e(0x6a2)])(_0x3f0d49[_0x2c7e8e(0x1ee)]),_0x3e5e2c=_0x50e27d[_0x2c7e8e(0x589)][_0x2c7e8e(0x669)]['id'],_0x3f0d49=_0x50e27d[_0x2c7e8e(0x589)][_0x2c7e8e(0x1ee)][_0x4753c2]),_0x50e27d[_0x4753c2]?.[_0x2c7e8e(0x6d2)]?.[_0x2c7e8e(0x4e0)]&&_0x50e27d[_0x4753c2]?.['contextInfo']?.[_0x2c7e8e(0x54b)]&&(_0x365309=_0x50e27d[_0x4753c2][_0x2c7e8e(0x6d2)][_0x2c7e8e(0x4e0)]),_0x50e27d[_0x2c7e8e(0x782)]&&(_0x567057=_0x50e27d[_0x2c7e8e(0x782)][_0x2c7e8e(0x669)]['id']);let _0x1cfc98;if(_0x3f0d49&&typeof _0x3f0d49=='object'&&_0x2c7e8e(0x2e3)in _0x3f0d49&&({pollCreationMessageKey:_0x1cfc98}=_0x3f0d49),_0x4753c2===_0x2c7e8e(0x7b6)||_0x4753c2===_0x2c7e8e(0x3cb)||_0x4753c2===_0x2c7e8e(0x655)){let _0x53c23c=_0x3f0d49[_0x2c7e8e(0x44e)]['map'](_0x16faa8=>_0x16faa8[_0x2c7e8e(0x5cb)])[_0x2c7e8e(0x487)]('|');_0x476fba[_0x2c7e8e(0x520)]=_0x53c23c;}let _0x1ea4b5='';if(_0x3f0d49&&(_0x1ea4b5+=_0x3f0d49[_0x2c7e8e(0x49a)]?_0x3f0d49[_0x2c7e8e(0x49a)]:'',_0x1ea4b5+=_0x3f0d49[_0x2c7e8e(0x2d9)]?'\x20'+_0x3f0d49['caption']:'',_0x1ea4b5+=_0x3f0d49[_0x2c7e8e(0x7a3)]?'\x20'+_0x3f0d49[_0x2c7e8e(0x7a3)]:'',_0x1ea4b5+=_0x3f0d49['displayName']?'\x20'+_0x3f0d49[_0x2c7e8e(0x70d)]:''),_0x4753c2==='listMessage'){_0x1ea4b5=(_0x3f0d49[_0x2c7e8e(0x373)]||'')+'\x0a'+(_0x3f0d49['description']||'')+'\x0a'+(_0x3f0d49[_0x2c7e8e(0x1c8)]||'');let _0xf9cd2a=this[_0x2c7e8e(0x350)](_0x3f0d49[_0x2c7e8e(0x1d6)]);_0x476fba[_0x2c7e8e(0x520)]=_0xf9cd2a;}if(_0x4753c2===_0x2c7e8e(0x33f)&&(_0xc2d8d2=_0x3f0d49[_0x2c7e8e(0x373)]),_0x3f0d49&&_0x3f0d49['vcard']){let _0x8f0cff=this[_0x2c7e8e(0x6ee)](JSON[_0x2c7e8e(0x742)](_0x3f0d49[_0x2c7e8e(0x7a1)],null,0x2));_0x1ea4b5=_0x1ea4b5+'\x0a'+_0x8f0cff;}if(_0x3f0d49){let {sections:_0xf5fdda,listType:_0x36cc42,displayName:_0x590110,vcard:_0x51b0fc,contactVcard:_0xdeb745,name:_0x2e2274,caption:_0x24e96,conversation:_0x3a45b0,pollCreationMessageKey:_0x1f638a,footerText:_0xc311a5,contentText:_0x53f4fb,pageCount:_0x2eedbb,headerType:_0x28ce4b,isAvatar:_0x41e4d7,isAnimated:_0x2e63ad,fallbackLc:_0x215c8b,fallbackLg:_0x1c4e68,namespace:_0x4093cb,elementName:_0x2dab37,localizableParams:_0x4feb5e,viewOnce:_0x34b11c,height:_0x423146,width:_0x580227,key:_0x3e188a,firstScanLength:_0x3423ed,firstScanSidecar:_0x155509,gifPlayback:_0x55c8ef,gifAttribution:_0xf469e0,midQualityFileSha256:_0x5af975,scansSidecar:_0x4e551e,streamingSidecar:_0xe5ddaa,thumbnailHeight:_0x55d144,thumbnailWidth:_0x24c1a5,thumbnailEncSha256:_0x42366d,thumbnailDirectPath:_0x19769a,canonicalUrl:_0x17f6a6,matchedText:_0xb56044,previewType:_0x4055fd,thumbnailSha256:_0x76f845,deviceListMetadataVersion:_0x4260a6,inviteLinkGroupTypeV2:_0x1b6ab9,interactiveAnnotations:_0x20ddb7,scanLengths:_0x2d40d9,jpegThumbnail:_0x32a59f,url:_0x4fb6a2,mediaKeyTimestamp:_0xcbe5ef,waveform:_0x118ff7,stickerSentTs:_0x52c4fc,firstFrameLength:_0x51c426,fileEncSha256:_0x15e548,contextInfo:_0x5c1e46,firstFrameSidecar:_0x9c80,directPath:_0x39110b,fileSha256:_0x39fb09,mediaKey:_0x3a67e9,senderTimestampMs:_0xd933e1,..._0x418568}=_0x3f0d49;(_0x4753c2===_0x2c7e8e(0x53e)||_0x4753c2===_0x2c7e8e(0x33f))&&(delete _0x418568[_0x2c7e8e(0x373)],delete _0x418568[_0x2c7e8e(0x457)]),typeof _0x3f0d49==_0x2c7e8e(0x186)?_0x476fba={'text':_0x3f0d49,'type':_0x4753c2||_0x2c7e8e(0x7a3),..._0x3e5e2c&&{'edited':_0x3e5e2c},..._0x365309&&{'quoted':_0x365309},..._0x567057&&{'reaction':_0x567057}}:_0x476fba={'text':_0x1ea4b5,..._0x418568,..._0x4753c2===_0x2c7e8e(0x26a)?{'poll_id':_0x3f0d49[_0x2c7e8e(0x2e3)]['id'],'quoted':_0x3f0d49[_0x2c7e8e(0x2e3)]['id'],'vote':_0xc2d8d2}:{},..._0x4753c2==='listResponseMessage'?{'vote':_0xc2d8d2}:{},'type':_0x4753c2,..._0x3e5e2c&&{'edited':_0x3e5e2c},..._0x365309&&{'quoted':_0x365309},..._0x567057&&{'reaction':_0x567057},...(_0x4753c2===_0x2c7e8e(0x7b6)||_0x4753c2===_0x2c7e8e(0x3cb)||_0x4753c2==='pollCreationMessageV3'||_0x4753c2===_0x2c7e8e(0x53e))&&{'convertedOptions':_0x476fba[_0x2c7e8e(0x520)]}};}return{'messageType':_0x4753c2,'messageContent':_0x3f0d49,'message_normalized':_0x476fba};}catch(_0x3ca282){return console[_0x2c7e8e(0x409)](_0x2c7e8e(0x274),_0x3ca282),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x442d22(0x25e)](),this[_0x442d22(0x47b)][_0x442d22(0x3ac)]={'count':0x0},this[_0x442d22(0x47b)][_0x442d22(0x42b)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x1ec271(0x33c)](_0x40db46){const _0x194e9d=a0_0x1ec271;if(!_0x40db46){this[_0x194e9d(0x47b)][_0x194e9d(0x49a)]=(0x0,Or['v4'])();return;}this[_0x194e9d(0x47b)][_0x194e9d(0x49a)]=_0x40db46,this[_0x194e9d(0x836)](_0x194e9d(0x19f),{'instance':this[_0x194e9d(0x47b)][_0x194e9d(0x49a)],'status':_0x194e9d(0x3b5)});}get[a0_0x1ec271(0x33c)](){const _0x4b7d67=a0_0x1ec271;return this[_0x4b7d67(0x47b)][_0x4b7d67(0x49a)];}get[a0_0x1ec271(0x556)](){const _0x1c4514=a0_0x1ec271;return this[_0x1c4514(0x47b)][_0x1c4514(0x556)];}async['getProfileName'](){const _0x4b9990=a0_0x1ec271;let _0x4c2d49=this[_0x4b9990(0x6b3)][_0x4b9990(0x5a7)]?.[_0x4b9990(0x49a)]??this[_0x4b9990(0x6b3)][_0x4b9990(0x5a7)]?.[_0x4b9990(0x3c6)];if(!_0x4c2d49){if(this[_0x4b9990(0x7b9)][_0x4b9990(0x651)]('DATABASE')[_0x4b9990(0x1d1)]){let _0x3e6b95=await R[_0x4b9990(0x4fe)]()['db'](this[_0x4b9990(0x7b9)]['get'](_0x4b9990(0x40d))[_0x4b9990(0x29d)][_0x4b9990(0x229)]+_0x4b9990(0x807))[_0x4b9990(0x52d)](this['instanceName'])['findOne']({'_id':_0x4b9990(0x5ae)});if(_0x3e6b95){let _0x4eb5b3=JSON[_0x4b9990(0x49c)](JSON[_0x4b9990(0x742)](_0x3e6b95),m[_0x4b9990(0x74c)]['reviver']);_0x4c2d49=_0x4eb5b3['me']?.[_0x4b9990(0x49a)]||_0x4eb5b3['me']?.['verifiedName'];}}else{if((0x0,Re[_0x4b9990(0x4f1)])((0x0,U[_0x4b9990(0x487)])(ge,this['instanceName'],_0x4b9990(0x193)))){let _0x1d4ee5=JSON[_0x4b9990(0x49c)]((0x0,Re[_0x4b9990(0x3f7)])((0x0,U[_0x4b9990(0x487)])(ge,this[_0x4b9990(0x33c)],_0x4b9990(0x193)),{'encoding':_0x4b9990(0x1a3)}));_0x4c2d49=_0x1d4ee5['me']?.['name']||_0x1d4ee5['me']?.['verifiedName'];}}}return _0x4c2d49;}get[a0_0x1ec271(0x3e2)](){const _0x21aade=a0_0x1ec271;return this['instance'][_0x21aade(0x3e2)];}get[a0_0x1ec271(0x3f0)](){const _0x84b932=a0_0x1ec271;return this['instance'][_0x84b932(0x3ac)]?.[_0x84b932(0x4eb)]?{'pairingCode':this[_0x84b932(0x47b)]['qrcode']?.[_0x84b932(0x4eb)]}:{'code':this[_0x84b932(0x47b)][_0x84b932(0x3ac)]?.[_0x84b932(0x432)],'base64':this[_0x84b932(0x47b)][_0x84b932(0x3ac)]?.['base64']};}async['loadWebhook'](){const _0x59150b=a0_0x1ec271;let _0x3b29d4=await this[_0x59150b(0x739)]['webhook'][_0x59150b(0x741)](this[_0x59150b(0x33c)]);this[_0x59150b(0x347)][_0x59150b(0x806)]=_0x3b29d4?.['url'],this['localWebhook'][_0x59150b(0x785)]=_0x3b29d4?.[_0x59150b(0x785)],this[_0x59150b(0x347)][_0x59150b(0x39b)]=_0x3b29d4?.[_0x59150b(0x39b)],this[_0x59150b(0x347)][_0x59150b(0x5b5)]=_0x3b29d4?.[_0x59150b(0x5b5)],this[_0x59150b(0x347)]['QRCODE_UPDATED']=_0x3b29d4?.[_0x59150b(0x801)],this['localWebhook'][_0x59150b(0x42a)]=_0x3b29d4?.['SEND_MESSAGE'],this['localWebhook']['MESSAGES_UPSERT']=_0x3b29d4?.[_0x59150b(0x425)],this[_0x59150b(0x347)][_0x59150b(0x847)]=_0x3b29d4?.[_0x59150b(0x847)],this[_0x59150b(0x347)][_0x59150b(0x17b)]=_0x3b29d4?.[_0x59150b(0x17b)],this[_0x59150b(0x347)][_0x59150b(0x191)]=_0x3b29d4?.[_0x59150b(0x191)],this[_0x59150b(0x347)][_0x59150b(0x43e)]=_0x3b29d4?.[_0x59150b(0x43e)],this[_0x59150b(0x347)][_0x59150b(0x73f)]=_0x3b29d4?.[_0x59150b(0x73f)],this[_0x59150b(0x347)][_0x59150b(0x464)]=_0x3b29d4?.[_0x59150b(0x464)],this[_0x59150b(0x347)][_0x59150b(0x21d)]=_0x3b29d4?.[_0x59150b(0x21d)],this[_0x59150b(0x347)][_0x59150b(0x1be)]=_0x3b29d4?.[_0x59150b(0x1be)],this[_0x59150b(0x347)]['CONTACTS_SET']=_0x3b29d4?.['CONTACTS_SET'],this['localWebhook'][_0x59150b(0x5a2)]=_0x3b29d4?.[_0x59150b(0x5a2)],this[_0x59150b(0x347)]['CONTACTS_UPDATE']=_0x3b29d4?.[_0x59150b(0x4a9)],this['localWebhook']['PRESENCE_UPDATE']=_0x3b29d4?.[_0x59150b(0x55a)],this[_0x59150b(0x347)]['MESSAGES_SET']=_0x3b29d4?.[_0x59150b(0x1b4)],this[_0x59150b(0x347)][_0x59150b(0x27c)]=_0x3b29d4?.[_0x59150b(0x27c)],this[_0x59150b(0x347)]['groups_ignore']=_0x3b29d4?.[_0x59150b(0x580)];}async[a0_0x1ec271(0x282)](_0x528d48){const _0x428e4a=a0_0x1ec271;let _0x14d71d=['_id','url','enabled',_0x428e4a(0x39b),_0x428e4a(0x5b5),_0x428e4a(0x801),_0x428e4a(0x847),_0x428e4a(0x425),_0x428e4a(0x42a),'GROUPS_UPSERT',_0x428e4a(0x191),_0x428e4a(0x43e),_0x428e4a(0x73f),_0x428e4a(0x464),'CHATS_UPDATE',_0x428e4a(0x1be),_0x428e4a(0x241),_0x428e4a(0x5a2),_0x428e4a(0x4a9),_0x428e4a(0x55a),_0x428e4a(0x1b4),'CONNECTION_UPDATE','groups_ignore'],_0x417943={};return _0x14d71d[_0x428e4a(0x359)](_0x3b65cc=>{_0x528d48[_0x3b65cc]!==void 0x0&&(_0x417943[_0x3b65cc]=_0x528d48[_0x3b65cc]);}),_0x417943[_0x428e4a(0x806)]&&(_0x417943[_0x428e4a(0x806)]=_0x417943[_0x428e4a(0x806)]['trim']()),await this[_0x428e4a(0x739)]['webhook'][_0x428e4a(0x34e)](_0x417943,this[_0x428e4a(0x33c)]),Object[_0x428e4a(0x7ad)](this[_0x428e4a(0x347)],_0x417943),await this[_0x428e4a(0x739)][_0x428e4a(0x776)][_0x428e4a(0x741)](this['instanceName']);}async[a0_0x1ec271(0x7c9)](){const _0x4b5301=a0_0x1ec271;return await this[_0x4b5301(0x739)][_0x4b5301(0x776)][_0x4b5301(0x741)](this[_0x4b5301(0x33c)]);}async[a0_0x1ec271(0x836)](_0x114ac2,_0x5a6c5a){const _0xa772ae=a0_0x1ec271;let _0x428c3f=_0x114ac2['replace'](/[\.-]/gm,'_')['toUpperCase'](),_0x14f6f2=this[_0xa772ae(0x347)][_0xa772ae(0x785)]&&(0x0,P[_0xa772ae(0x5e7)])(this['localWebhook']['url'])?this['localWebhook'][_0xa772ae(0x806)]+(this[_0xa772ae(0x347)][_0xa772ae(0x39b)]?this[_0xa772ae(0x64b)][_0x114ac2]:''):null,_0x35d29c=this[_0xa772ae(0x347)][_0x428c3f],_0xd72fd0=ce&&ce['enabled']&&(0x0,P[_0xa772ae(0x5e7)])(ce['url'])?ce[_0xa772ae(0x806)]+(ce[_0xa772ae(0x39b)]?this[_0xa772ae(0x64b)][_0x114ac2]:''):null,_0x3fbc2b=ce?ce[_0x428c3f]:null;if(_0x35d29c&&_0x14f6f2)try{await K[_0xa772ae(0x3eb)]['create']({'baseURL':_0x14f6f2})[_0xa772ae(0x352)]('',{'event':_0x114ac2,'instance':this[_0xa772ae(0x47b)][_0xa772ae(0x49a)],'apikey':this['instance'][_0xa772ae(0x466)],'data':_0x5a6c5a}),this[_0xa772ae(0x24a)][_0xa772ae(0x55f)](this[_0xa772ae(0x33c)]+'\x20('+this[_0xa772ae(0x47b)][_0xa772ae(0x556)]+_0xa772ae(0x725)+_0x114ac2+':\x20'+_0x14f6f2);}catch{this[_0xa772ae(0x24a)][_0xa772ae(0x409)](this['instanceName']+'\x20('+this[_0xa772ae(0x47b)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x114ac2+':\x20'+_0x14f6f2);}if(_0x3fbc2b&&_0xd72fd0)try{await K[_0xa772ae(0x3eb)][_0xa772ae(0x34e)]({'baseURL':_0xd72fd0})['post']('',{'event':_0x114ac2,'instance':this[_0xa772ae(0x47b)][_0xa772ae(0x49a)],'apikey':this[_0xa772ae(0x47b)][_0xa772ae(0x466)],'data':_0x5a6c5a}),this[_0xa772ae(0x24a)][_0xa772ae(0x55f)](this[_0xa772ae(0x33c)]+'\x20('+this[_0xa772ae(0x47b)][_0xa772ae(0x556)]+_0xa772ae(0x7b3)+_0x114ac2+':\x20'+_0xd72fd0);}catch{this[_0xa772ae(0x24a)]['error'](this[_0xa772ae(0x33c)]+'\x20('+this[_0xa772ae(0x47b)][_0xa772ae(0x556)]+_0xa772ae(0x451)+_0x114ac2+':\x20'+_0xd72fd0);}}async['connectionUpdate']({qr:_0x34d959,connection:_0x2a9585,lastDisconnect:_0x1ac2e9}){const _0x5d8c45=a0_0x1ec271;if(_0x34d959){if(this[_0x5d8c45(0x47b)][_0x5d8c45(0x3ac)][_0x5d8c45(0x6cd)]===Ni)return this[_0x5d8c45(0x836)](_0x5d8c45(0x803),{'message':_0x5d8c45(0x4e9),'statusCode':m[_0x5d8c45(0x18d)][_0x5d8c45(0x756)]}),this[_0x5d8c45(0x258)]={'state':_0x5d8c45(0x45a),'statusReason':m['DisconnectReason'][_0x5d8c45(0x680)]},this[_0x5d8c45(0x836)]('connection.update',{'instance':this[_0x5d8c45(0x47b)][_0x5d8c45(0x49a)],...this[_0x5d8c45(0x258)]}),this[_0x5d8c45(0x836)](_0x5d8c45(0x19f),{'instance':this[_0x5d8c45(0x47b)][_0x5d8c45(0x49a)],'status':'removed'}),this[_0x5d8c45(0x739)][_0x5d8c45(0x719)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x5d8c45(0x65d)]()},this[_0x5d8c45(0x47b)][_0x5d8c45(0x49a)]),this[_0x5d8c45(0x35b)]=!0x0,this['eventEmitter'][_0x5d8c45(0x793)](_0x5d8c45(0x834),this['instance']['name']);this[_0x5d8c45(0x47b)][_0x5d8c45(0x3ac)]['count']++;let _0x3c266a={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':_0x5d8c45(0x343)}};Ar[_0x5d8c45(0x3eb)][_0x5d8c45(0x4be)](_0x34d959,_0x3c266a,(_0x16de65,_0x1b5413)=>{const _0x3e3607=_0x5d8c45;if(_0x16de65){this[_0x3e3607(0x24a)][_0x3e3607(0x409)](this[_0x3e3607(0x33c)]+'\x20('+this[_0x3e3607(0x47b)]['wuid']+_0x3e3607(0x775)+(_0x16de65 instanceof Error?_0x16de65['message']:JSON['stringify'](_0x16de65,null,0x2)));return;}this[_0x3e3607(0x47b)][_0x3e3607(0x3ac)][_0x3e3607(0x40b)]=_0x1b5413,this[_0x3e3607(0x47b)]['qrcode'][_0x3e3607(0x432)]=_0x34d959,!this[_0x3e3607(0x46b)]&&this[_0x3e3607(0x836)](_0x3e3607(0x803),{'qrcode':{'instance':this[_0x3e3607(0x47b)][_0x3e3607(0x49a)],'pairingCode':this[_0x3e3607(0x47b)][_0x3e3607(0x3ac)]['pairingCode'],'code':_0x34d959,'base64':_0x1b5413}});}),this['phoneNumber']?this[_0x5d8c45(0x47b)][_0x5d8c45(0x3ac)][_0x5d8c45(0x4eb)]||(await(0x0,m[_0x5d8c45(0x494)])(0x7d0),this['instance']['qrcode']['pairingCode']=await this[_0x5d8c45(0x6b3)][_0x5d8c45(0x5c3)](this[_0x5d8c45(0x46b)])):this[_0x5d8c45(0x47b)][_0x5d8c45(0x3ac)][_0x5d8c45(0x4eb)]=null,Ir['default'][_0x5d8c45(0x778)](_0x34d959,{'small':!0x0},_0x4231c1=>this[_0x5d8c45(0x24a)][_0x5d8c45(0x55f)](_0x5d8c45(0x3c0)+this[_0x5d8c45(0x47b)][_0x5d8c45(0x49a)]+_0x5d8c45(0x525)+this['instance']['qrcode']['count']+_0x5d8c45(0x1d3)+this['instance']['qrcode'][_0x5d8c45(0x4eb)]+_0x5d8c45(0x390)+_0x4231c1));}if(_0x2a9585&&(this[_0x5d8c45(0x258)]={'state':_0x2a9585,'statusReason':_0x1ac2e9?.[_0x5d8c45(0x409)]?.[_0x5d8c45(0x5d3)]?.[_0x5d8c45(0x299)]??0xc8},this[_0x5d8c45(0x836)](_0x5d8c45(0x751),{'instance':this['instance']['name'],...this['stateConnection']})),_0x2a9585===_0x5d8c45(0x1a7)){if(this[_0x5d8c45(0x70f)]++,this[_0x5d8c45(0x632)][_0x5d8c45(0x474)](Date[_0x5d8c45(0x65d)]()),this[_0x5d8c45(0x632)]=this['reconnectTimestamps'][_0x5d8c45(0x3c7)](_0x3f38ae=>Date[_0x5d8c45(0x65d)]()-_0x3f38ae<this[_0x5d8c45(0x292)]),_0x1ac2e9[_0x5d8c45(0x409)]?.[_0x5d8c45(0x5d3)]?.[_0x5d8c45(0x299)]!==m['DisconnectReason']['loggedOut']&&this['reconnectTimestamps'][_0x5d8c45(0x710)]<=this[_0x5d8c45(0x833)])console['log'](this['instanceName']+'\x20Tentativa\x20de\x20reconexão\x20'+this['reconnectAttempts']+'/'+this['MAX_RECONNECT_ATTEMPTS']+_0x5d8c45(0x3da)),console[_0x5d8c45(0x55f)](_0x5d8c45(0x1fd)),await this['connectToWhatsapp']();else{this[_0x5d8c45(0x836)]('status.instance',{'instance':this[_0x5d8c45(0x47b)]['name'],'status':_0x5d8c45(0x7a9)}),this[_0x5d8c45(0x47b)][_0x5d8c45(0x42b)]['isConnected']=!0x1,this[_0x5d8c45(0x739)][_0x5d8c45(0x776)]['delete'](this[_0x5d8c45(0x33c)]),this['repository']['auth'][_0x5d8c45(0x34e)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x5d8c45(0x65d)]()},this['instance'][_0x5d8c45(0x49a)]);try{this[_0x5d8c45(0x24a)][_0x5d8c45(0x641)](this[_0x5d8c45(0x33c)]+'\x20('+this['instance'][_0x5d8c45(0x556)]+_0x5d8c45(0x7e1));let _0x1fb088=await this[_0x5d8c45(0x739)][_0x5d8c45(0x6db)][_0x5d8c45(0x4a8)](this['instance']['wuid']);_0x1fb088[_0x5d8c45(0x3e1)]?this[_0x5d8c45(0x24a)][_0x5d8c45(0x641)](this[_0x5d8c45(0x33c)]+'\x20('+this[_0x5d8c45(0x47b)]['wuid']+_0x5d8c45(0x3c1)):console[_0x5d8c45(0x409)](_0x5d8c45(0x371),_0x1fb088[_0x5d8c45(0x409)]);}catch(_0x5ee400){console['error'](_0x5d8c45(0x55d),_0x5ee400);}this['instance'][_0x5d8c45(0x42b)]['delayMessage']!==null&&(this[_0x5d8c45(0x24a)][_0x5d8c45(0x641)](this[_0x5d8c45(0x33c)]+'\x20('+this[_0x5d8c45(0x47b)][_0x5d8c45(0x556)]+_0x5d8c45(0x5fb)),clearInterval(this[_0x5d8c45(0x47b)]['ScheduleMessage'][_0x5d8c45(0x1c9)]),this[_0x5d8c45(0x47b)][_0x5d8c45(0x42b)][_0x5d8c45(0x1c9)]=null),this[_0x5d8c45(0x24a)]['verbose'](this[_0x5d8c45(0x33c)]+'\x20('+this[_0x5d8c45(0x47b)][_0x5d8c45(0x556)]+_0x5d8c45(0x5d1)),this[_0x5d8c45(0x5c9)]=null,this[_0x5d8c45(0x248)][_0x5d8c45(0x793)](_0x5d8c45(0x417),this['instance'][_0x5d8c45(0x49a)],_0x5d8c45(0x72d)),this[_0x5d8c45(0x6b3)]?.['ws']?.[_0x5d8c45(0x1a7)](),this[_0x5d8c45(0x6b3)][_0x5d8c45(0x235)](new Error(_0x5d8c45(0x5ce)));}}if(_0x2a9585===_0x5d8c45(0x296)){this[_0x5d8c45(0x6b3)]['ev']['flush'](),this['resetReconnectionVariables'],this[_0x5d8c45(0x47b)]['wuid']=this['client'][_0x5d8c45(0x5a7)]['id'][_0x5d8c45(0x448)](/:\d+/,'')[_0x5d8c45(0x448)](_0x5d8c45(0x594),''),this[_0x5d8c45(0x47b)]['profilePictureUrl']=(await this[_0x5d8c45(0x47e)](this[_0x5d8c45(0x47b)][_0x5d8c45(0x556)]+'@s.whatsapp.net'))[_0x5d8c45(0x3e2)],this[_0x5d8c45(0x739)][_0x5d8c45(0x719)][_0x5d8c45(0x34e)]({'online':!0x0,'owner':this['instance'][_0x5d8c45(0x556)],'lastDisconnect':null},this['instance'][_0x5d8c45(0x49a)]);let _0x5b151a=_0x5d8c45(0x7b5)+this[_0x5d8c45(0x47b)][_0x5d8c45(0x556)],_0x3a5f44=0x28,_0x46286e=Math['floor']((_0x3a5f44-_0x5b151a['length'])/0x2),_0x529b23='\x20'[_0x5d8c45(0x406)](_0x46286e),_0x85e3b2='CONECTADO\x20À\x20UAZAPI',_0x807f0b=_0x5d8c45(0x2c5)+this[_0x5d8c45(0x47b)][_0x5d8c45(0x49a)],_0x5b0f58=(''+_0x529b23+_0x5b151a+_0x529b23)['padEnd'](_0x3a5f44,'\x20'),_0x152d87=(''+_0x529b23+_0x85e3b2+_0x529b23)[_0x5d8c45(0x671)](_0x3a5f44,'\x20'),_0x11c06f=(''+_0x529b23+_0x807f0b+_0x529b23)[_0x5d8c45(0x671)](_0x3a5f44,'\x20'),_0x26d40f=Math['max'](_0x5b0f58['length'],_0x152d87['length'],_0x11c06f['length']),_0x4de923=_0x5b0f58[_0x5d8c45(0x671)](_0x26d40f,'\x20'),_0x5d5e4a=_0x152d87[_0x5d8c45(0x671)](_0x26d40f,'\x20'),_0x4563f7=_0x11c06f[_0x5d8c45(0x671)](_0x26d40f,'\x20');this[_0x5d8c45(0x24a)]['info']((_0x5d8c45(0x21f)+'─'[_0x5d8c45(0x406)](_0x26d40f)+_0x5d8c45(0x187)+_0x5d5e4a+_0x5d8c45(0x7b8)+_0x4563f7+_0x5d8c45(0x7b8)+_0x4de923+_0x5d8c45(0x1d4)+'─'[_0x5d8c45(0x406)](_0x26d40f)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x5d8c45(0x702)](),this[_0x5d8c45(0x47b)]['ScheduleMessage'][_0x5d8c45(0x473)]=!0x0;}}[a0_0x1ec271(0x52c)](){const _0x137e3a=a0_0x1ec271;this[_0x137e3a(0x70f)]=0x0,this[_0x137e3a(0x632)]=[];}async[a0_0x1ec271(0x3ef)](_0x7918f,_0x8e1e05=!0x1){const _0x264d6a=a0_0x1ec271;try{let _0x2df72e=await this[_0x264d6a(0x739)]['message'][_0x264d6a(0x741)]({'where':{'_id':_0x7918f['id']}},this[_0x264d6a(0x47b)][_0x264d6a(0x556)]);return _0x8e1e05?_0x2df72e[0x0]:_0x2df72e[0x0][_0x264d6a(0x6db)];}catch{return{'conversation':''};}}[a0_0x1ec271(0x25e)](){const _0x299840=a0_0x1ec271;let _0x4dda1f=this[_0x299840(0x7b9)][_0x299840(0x651)](_0x299840(0x66a)),_0x92eb48=this[_0x299840(0x7b9)][_0x299840(0x651)]('DATABASE');_0x4dda1f?.[_0x299840(0x1dc)]&&!_0x92eb48[_0x299840(0x1d1)]&&setInterval(()=>{const _0x6c7c6a=_0x299840;try{for(let [_0x169127,_0x3cd79b]of Object[_0x6c7c6a(0x720)](_0x4dda1f))_0x3cd79b===!0x0&&(0x0,Te[_0x6c7c6a(0x5cc)])(_0x6c7c6a(0x6e1)+(0x0,U[_0x6c7c6a(0x487)])(this[_0x6c7c6a(0x72c)],_0x169127[_0x6c7c6a(0x3d2)](),this[_0x6c7c6a(0x47b)][_0x6c7c6a(0x556)])+_0x6c7c6a(0x2d5));}catch{}},(_0x4dda1f?.[_0x299840(0x1dc)]??0xe10)*0x3e8);}async[a0_0x1ec271(0x20a)](){const _0x4e7703=a0_0x1ec271;let _0x2573ee=this[_0x4e7703(0x7b9)]['get'](_0x4e7703(0x40d)),_0x185710=this[_0x4e7703(0x7b9)][_0x4e7703(0x651)]('REDIS');return _0x185710?.[_0x4e7703(0x1d1)]?await Ts(_0x185710,this['instance'][_0x4e7703(0x49a)]):_0x2573ee[_0x4e7703(0x1d1)]?await Rs(this[_0x4e7703(0x47b)][_0x4e7703(0x49a)]):await(0x0,m[_0x4e7703(0x2b8)])((0x0,U[_0x4e7703(0x487)])(ge,this[_0x4e7703(0x47b)]['name']));}async[a0_0x1ec271(0x702)](){const _0x2927aa=a0_0x1ec271;let _0x143088=()=>Math[_0x2927aa(0x71c)](Math[_0x2927aa(0x2ee)]()*0x2711)+0x7d0,_0x5bed69=async()=>{const _0x5327b3=_0x2927aa;if(!this[_0x5327b3(0x47b)][_0x5327b3(0x42b)]['isConnected']){this[_0x5327b3(0x24a)][_0x5327b3(0x641)](_0x5327b3(0x2ff)),this[_0x5327b3(0x501)]=!0x1;return;}if(this['instance'][_0x5327b3(0x556)]&&this[_0x5327b3(0x5c9)]&&this[_0x5327b3(0x47b)][_0x5327b3(0x42b)]['delayMessage']!==null&&this[_0x5327b3(0x47b)][_0x5327b3(0x42b)]['delayMessage']!==void 0x0){let _0x51fcd4=Math[_0x5327b3(0x642)](this[_0x5327b3(0x47b)][_0x5327b3(0x42b)][_0x5327b3(0x1c9)]/0xea60);this[_0x5327b3(0x24a)][_0x5327b3(0x641)](this[_0x5327b3(0x33c)]+'\x20('+this[_0x5327b3(0x47b)]['wuid']+_0x5327b3(0x5ad)+_0x51fcd4+_0x5327b3(0x5a8)),this[_0x5327b3(0x501)]=!0x1;return;}else this['instance'][_0x5327b3(0x556)]&&(this['logger'][_0x5327b3(0x641)](this[_0x5327b3(0x33c)]+'\x20('+this[_0x5327b3(0x47b)][_0x5327b3(0x556)]+_0x5327b3(0x179)),this[_0x5327b3(0x5c9)]||(await this['getAutomateSystem'](),this[_0x5327b3(0x622)]()),(this['instance']['ScheduleMessage'][_0x5327b3(0x1c9)]===null||this[_0x5327b3(0x47b)][_0x5327b3(0x42b)][_0x5327b3(0x1c9)]===void 0x0)&&await this[_0x5327b3(0x4b9)]());if(this[_0x5327b3(0x501)]){let _0x4b2bc8=_0x143088();this[_0x5327b3(0x24a)][_0x5327b3(0x641)](this[_0x5327b3(0x33c)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x4b2bc8/0x3e8+_0x5327b3(0x438)),setTimeout(_0x5bed69,_0x4b2bc8);}};if(this['isRunning'])return;this[_0x2927aa(0x501)]=!0x0;let _0x2fee35=_0x143088();setTimeout(_0x5bed69,_0x2fee35);}async[a0_0x1ec271(0x3d1)](_0xd405d4=0x0,_0x1c255e=!0x1){const _0x372393=a0_0x1ec271;try{let _0xcfc88c=this[_0x372393(0x7b9)]['get']('PROXY');if(_0xcfc88c!==0x1||typeof _0xcfc88c>'u'||_0xd405d4>=0x5)return this[_0x372393(0x24a)][_0x372393(0x596)]('Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.'),this[_0x372393(0x739)][_0x372393(0x719)][_0x372393(0x34e)]({'ip':null},this[_0x372393(0x47b)][_0x372393(0x49a)]),{};this[_0x372393(0x24a)][_0x372393(0x641)](this[_0x372393(0x33c)]+_0x372393(0x269)+(_0xd405d4+0x1)+'\x20de\x20conectar\x20com\x20IP\x20extra.');let _0x4c2779;if(!_0x1c255e){let _0x2cfbd3=await this[_0x372393(0x739)][_0x372393(0x719)][_0x372393(0x741)](this[_0x372393(0x33c)]);_0x2cfbd3&&_0x2cfbd3['ip']&&(_0x4c2779=vr(_0x2cfbd3['ip']));}if((!_0x4c2779||!Os(_0x4c2779))&&(this['logger'][_0x372393(0x596)](this[_0x372393(0x33c)]+':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.'),_0x4c2779=Nr()),_0x4c2779&&Os(_0x4c2779)){let _0x23e04a=_0x4c2779[_0x372393(0x3a2)]&&_0x4c2779[_0x372393(0x4e4)]?_0x4c2779[_0x372393(0x68a)]+_0x372393(0x7da)+_0x4c2779[_0x372393(0x3a2)]+':'+_0x4c2779[_0x372393(0x4e4)]+'@'+_0x4c2779[_0x372393(0x492)]+':'+_0x4c2779[_0x372393(0x39c)]:_0x4c2779[_0x372393(0x68a)]+_0x372393(0x7da)+_0x4c2779[_0x372393(0x492)]+':'+_0x4c2779[_0x372393(0x39c)];return await this[_0x372393(0x22d)](_0x23e04a,_0x4c2779[_0x372393(0x492)])?(this[_0x372393(0x24a)][_0x372393(0x641)](this[_0x372393(0x33c)]+_0x372393(0x7c8)),this[_0x372393(0x739)][_0x372393(0x719)][_0x372393(0x34e)]({'ip':_0x4c2779[_0x372393(0x492)]},this[_0x372393(0x47b)][_0x372393(0x49a)]),{'agent':new Ft[(_0x372393(0x2e5))](_0x23e04a),'fetchAgent':new Ft[(_0x372393(0x2e5))](_0x23e04a)}):(this[_0x372393(0x24a)][_0x372393(0x596)](this[_0x372393(0x33c)]+_0x372393(0x319)),await(0x0,m['delay'])(0xc8),this[_0x372393(0x3d1)](_0xd405d4+0x1,!0x0));}else return this[_0x372393(0x24a)][_0x372393(0x596)](this[_0x372393(0x33c)]+_0x372393(0x7cd)),await(0x0,m[_0x372393(0x494)])(0xc8),this['loadproxy'](_0xd405d4+0x1,!0x0);}catch(_0xb9001){return this[_0x372393(0x24a)][_0x372393(0x409)](this[_0x372393(0x33c)]+_0x372393(0x21c)+_0xb9001['message']),{};}}async[a0_0x1ec271(0x22d)](_0x413956,_0x441d61){const _0x483e58=a0_0x1ec271;let _0xe8a05c=new Ft[(_0x483e58(0x2e5))](_0x413956),_0x205f64=0x1388,_0x5eaa89=[{'url':_0x483e58(0x73b),'parse':_0x50bc0a=>_0x50bc0a['ip']},{'url':_0x483e58(0x1e5),'parse':_0x5daefb=>_0x5daefb['ip']},{'url':_0x483e58(0x840),'parse':_0x481deb=>_0x481deb[_0x483e58(0x199)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x483e58(0x4b3),'parse':_0x1df7eb=>_0x1df7eb['ip']},{'url':_0x483e58(0x5b4),'parse':_0x2e7fbf=>_0x2e7fbf[_0x483e58(0x39e)]()},{'url':_0x483e58(0x213),'parse':_0x3b699e=>_0x3b699e[_0x483e58(0x39e)]()},{'url':_0x483e58(0x2b7),'parse':_0x594d0a=>_0x594d0a[_0x483e58(0x3c4)]},{'url':_0x483e58(0x6c8),'parse':_0x515cb5=>_0x515cb5[_0x483e58(0x39e)]()},{'url':_0x483e58(0x6d3),'parse':_0x467592=>_0x467592[_0x483e58(0x39e)]()}],_0x3e2f5e=_0x5eaa89[Math[_0x483e58(0x71c)](Math[_0x483e58(0x2ee)]()*_0x5eaa89[_0x483e58(0x710)])];try{let _0xd5a0c=await K[_0x483e58(0x3eb)][_0x483e58(0x651)](_0x3e2f5e['url'],{'httpsAgent':_0xe8a05c,'timeout':_0x205f64}),_0x57b621=_0x3e2f5e[_0x483e58(0x49c)](_0xd5a0c[_0x483e58(0x609)]);return _0x57b621===_0x441d61?(this[_0x483e58(0x24a)][_0x483e58(0x641)](this[_0x483e58(0x33c)]+_0x483e58(0x623)+_0x441d61+'\x20-\x20retornado:\x20'+_0x57b621+_0x483e58(0x2df)),!0x0):(this[_0x483e58(0x24a)][_0x483e58(0x409)](this['instanceName']+_0x483e58(0x623)+_0x441d61+'\x20-\x20retornado:\x20'+_0x57b621+_0x483e58(0x735)),!0x1);}catch(_0x3a4c0a){return this['logger'][_0x483e58(0x409)](this[_0x483e58(0x33c)]+':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20'+_0x3e2f5e[_0x483e58(0x806)]+':\x20'+_0x3a4c0a[_0x483e58(0x6db)]),!0x1;}}async[a0_0x1ec271(0x2fd)](_0x3f42bd){const _0x462870=a0_0x1ec271;try{let _0x59bc5f=await this[_0x462870(0x3d1)]();this[_0x462870(0x4bb)](),this[_0x462870(0x47b)][_0x462870(0x466)]=(await this[_0x462870(0x739)][_0x462870(0x719)][_0x462870(0x741)](this['instance']['name']))[_0x462870(0x466)],this[_0x462870(0x47b)]['authState']=await this['defineAuthState']();let {version:_0x26583c}=await(0x0,m['fetchLatestBaileysVersion'])(),_0xa7126=[xr,_s,(0x0,Is['release'])()],_0x25e55c={..._0x59bc5f,'auth':{'creds':this[_0x462870(0x47b)][_0x462870(0x377)][_0x462870(0x3d5)][_0x462870(0x5ae)],'keys':(0x0,m[_0x462870(0x835)])(this[_0x462870(0x47b)][_0x462870(0x377)]['state'][_0x462870(0x69d)],(0x0,$t[_0x462870(0x3eb)])({'level':_0x462870(0x409)}))},'logger':(0x0,$t[_0x462870(0x3eb)])({'level':_0x462870(0x409)}),'printQRInTerminal':!0x1,'browser':_0x3f42bd?['Mac\x20OS',_s,(0x0,Is[_0x462870(0x527)])()]:_0xa7126,'version':_0x26583c,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x3eb4d4=>{const _0x1c828=_0x462870;let _0x415481=_0x3eb4d4[_0x1c828(0x23c)](_0x1c828(0x1fc)),_0x1f6995=this[_0x1c828(0x347)]?.[_0x1c828(0x580)]&&_0x3eb4d4[_0x1c828(0x23c)](_0x1c828(0x802));return _0x415481||(0x0,m[_0x1c828(0x746)])(_0x3eb4d4)||_0x1f6995;},'msgRetryCounterCache':this[_0x462870(0x772)],'getMessage':async _0xe773b2=>await this[_0x462870(0x3ef)](_0xe773b2),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x462870(0x552)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x1fd3f0=>(_0x1fd3f0['listMessage']?.[_0x462870(0x727)]==m[_0x462870(0x36a)][_0x462870(0x29e)][_0x462870(0x5c2)][_0x462870(0x5a9)][_0x462870(0x7cc)]&&(_0x1fd3f0=JSON['parse'](JSON[_0x462870(0x742)](_0x1fd3f0)),_0x1fd3f0[_0x462870(0x53e)][_0x462870(0x727)]=m[_0x462870(0x36a)][_0x462870(0x29e)][_0x462870(0x5c2)][_0x462870(0x5a9)][_0x462870(0x43f)]),_0x1fd3f0)};return this[_0x462870(0x35b)]=!0x1,this[_0x462870(0x6b3)]=(0x0,m[_0x462870(0x3eb)])(_0x25e55c),this['eventHandler'](),this['phoneNumber']=_0x3f42bd,this[_0x462870(0x6b3)];}catch(_0x613a16){throw this['logger'][_0x462870(0x409)](this[_0x462870(0x33c)]+'\x20('+this[_0x462870(0x47b)][_0x462870(0x556)]+'):\x20'+(_0x613a16 instanceof Error?_0x613a16['message']:JSON[_0x462870(0x742)](_0x613a16,null,0x2))),new I(_0x613a16?.[_0x462870(0x506)]());}}[a0_0x1ec271(0x491)](){const _0x477056=a0_0x1ec271;this[_0x477056(0x6b3)]['ev'][_0x477056(0x544)](_0x108681=>{const _0x240317=_0x477056;if(!this[_0x240317(0x35b)]){let _0x5077e5=this[_0x240317(0x7b9)][_0x240317(0x651)]('DATABASE');if(_0x108681[_0x240317(0x311)]){let _0x221c09=_0x108681[_0x240317(0x311)];this[_0x240317(0x83c)][_0x240317(0x311)](_0x221c09);}if(_0x108681['labels.association']){let _0x29a64d=_0x108681[_0x240317(0x18f)];this[_0x240317(0x83c)][_0x240317(0x18f)](_0x29a64d);}if(_0x108681['connection.update']&&this[_0x240317(0x578)](_0x108681[_0x240317(0x751)]),_0x108681[_0x240317(0x26c)]&&this[_0x240317(0x47b)][_0x240317(0x377)]['saveCreds'](),_0x108681[_0x240317(0x49e)]){let _0x3023cc=_0x108681[_0x240317(0x49e)];this[_0x240317(0x83c)][_0x240317(0x49e)](_0x3023cc,_0x5077e5);}if(_0x108681[_0x240317(0x1e6)]){let _0x59d952=_0x108681[_0x240317(0x1e6)];this[_0x240317(0x83c)][_0x240317(0x1e6)](_0x59d952,_0x5077e5);}if(_0x108681['messages.update']){let _0x1720e6=_0x108681[_0x240317(0x563)];_0x1720e6[_0x240317(0x359)](_0x512893=>{const _0x3cd702=_0x240317;if(Tr[_0x512893[_0x3cd702(0x669)]['id']]){this[_0x3cd702(0x6b3)]['ev'][_0x3cd702(0x793)](_0x3cd702(0x1e6),{'messages':[_0x512893],'type':_0x3cd702(0x567)}),delete Tr[_0x512893[_0x3cd702(0x669)]['id']];return;}}),this[_0x240317(0x83c)][_0x240317(0x563)](_0x1720e6,_0x5077e5);}if(_0x108681[_0x240317(0x81c)]){let _0x1c956a=_0x108681[_0x240317(0x81c)];if(this[_0x240317(0x347)]?.['groups_ignore']&&_0x1c956a['id']['includes'](_0x240317(0x802)))return;this[_0x240317(0x836)](_0x240317(0x81c),_0x1c956a);}if(!this[_0x240317(0x347)]?.[_0x240317(0x580)]){if(_0x108681[_0x240317(0x18c)]){let _0x31498e=_0x108681[_0x240317(0x18c)];this['groupHandler']['groups.upsert'](_0x31498e);}if(_0x108681[_0x240317(0x551)]){let _0x393ab9=_0x108681[_0x240317(0x551)];this[_0x240317(0x586)][_0x240317(0x551)](_0x393ab9);}if(_0x108681[_0x240317(0x28f)]){let _0x10f73b=_0x108681[_0x240317(0x28f)];this[_0x240317(0x586)][_0x240317(0x28f)](_0x10f73b);}}if(_0x108681[_0x240317(0x643)]){let _0x19b514=_0x108681['chats.upsert'];this[_0x240317(0x7bc)]['chats.upsert'](_0x19b514,_0x5077e5);}if(_0x108681[_0x240317(0x3cf)]){let _0x4850c4=_0x108681['chats.update'];this[_0x240317(0x7bc)][_0x240317(0x3cf)](_0x4850c4,_0x5077e5);}if(_0x108681[_0x240317(0x2bd)]){let _0x218207=_0x108681[_0x240317(0x2bd)];this[_0x240317(0x7bc)]['chats.delete'](_0x218207);}if(_0x108681[_0x240317(0x1b3)]){let _0x2c77e7=_0x108681[_0x240317(0x1b3)];this['contactHandle'][_0x240317(0x1b3)](_0x2c77e7,_0x5077e5);}if(_0x108681[_0x240317(0x2a5)]){let _0x3ac2b5=_0x108681[_0x240317(0x2a5)];this[_0x240317(0x374)][_0x240317(0x2a5)](_0x3ac2b5,_0x5077e5);}}});}[a0_0x1ec271(0x3dc)](_0x282c52){return new Promise(_0x4f6488=>setTimeout(_0x4f6488,_0x282c52));}[a0_0x1ec271(0x33e)](_0x436757){const _0x2a5582=a0_0x1ec271;_0x436757=_0x436757[_0x2a5582(0x448)](/\D/g,'');let _0x4139cc=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x2a5582(0x7ab)](_0x436757);if(_0x4139cc&&_0x4139cc[0x1]==='55'){let _0x5398d7=_0x4139cc[0x2],_0x451260=_0x4139cc[0x3],_0x4ed4bb=_0x4139cc[0x4];if(parseInt(_0x5398d7)>=0x1f&&_0x451260==='9')return _0x4139cc[0x1]+_0x5398d7+_0x4ed4bb;}return _0x436757;}[a0_0x1ec271(0x470)](_0x139835){const _0x52244d=a0_0x1ec271;return _0x139835[_0x52244d(0x537)](_0x52244d(0x802))||_0x139835[_0x52244d(0x537)](_0x52244d(0x594))||_0x139835[_0x52244d(0x537)](_0x52244d(0x209))?_0x139835:(_0x139835=_0x139835?.[_0x52244d(0x448)](/\s/g,'')['replace'](/\+/g,'')[_0x52244d(0x448)](/\(/g,'')[_0x52244d(0x448)](/\)/g,'')['split'](/\:/)[0x0][_0x52244d(0x1d7)]('@')[0x0],_0x139835[_0x52244d(0x710)]>=0x12?(_0x139835=_0x139835[_0x52244d(0x448)](/[^\d-]/g,''),_0x139835+_0x52244d(0x802)):(_0x139835=_0x139835[_0x52244d(0x448)](/\D/g,''),this[_0x52244d(0x33e)](_0x139835)+_0x52244d(0x594)));}async['updatePresence'](_0x360261){const _0x1517e0=a0_0x1ec271;let _0x496891=this['createJid'](_0x360261['number']),_0x5b9ad7=(await this[_0x1517e0(0x2ba)]({'numbers':[_0x496891]}))[0x0];if(!_0x5b9ad7[_0x1517e0(0x2a0)]&&!(0x0,m['isJidGroup'])(_0x5b9ad7[_0x1517e0(0x361)]))throw new w(_0x5b9ad7);let _0x3fcca6=(0x0,m[_0x1517e0(0x230)])(_0x496891)?_0x496891:_0x5b9ad7[_0x1517e0(0x361)];if((0x0,m[_0x1517e0(0x230)])(_0x3fcca6))try{await this[_0x1517e0(0x6b3)]['groupMetadata'](_0x3fcca6);}catch{throw new F(_0x1517e0(0x761));}try{return await this[_0x1517e0(0x6b3)][_0x1517e0(0x1af)](_0x3fcca6),await this[_0x1517e0(0x6b3)]['sendPresenceUpdate'](_0x360261[_0x1517e0(0x69e)],_0x496891),{'status':0xc8,'presence':_0x360261[_0x1517e0(0x69e)]};}catch(_0x4f6a62){throw new w(_0x4f6a62[_0x1517e0(0x506)]());}}async['findAndUpdateCacheContact'](_0x33d90e,_0x5380dc,_0x41571c){const _0x4df132=a0_0x1ec271;let _0x27b3ef=await this[_0x4df132(0x739)][_0x4df132(0x4af)][_0x4df132(0x1a0)]({'where':{'_id':_0x33d90e}}),_0x378f7f={'lastUpdate':Date['now']()};if(_0x41571c||!_0x27b3ef?.[_0x4df132(0x616)]||Date[_0x4df132(0x65d)]()-_0x27b3ef[_0x4df132(0x616)]>0x18*0x3c*0x3c*0x3e8)try{let _0x2b4c02=(await this[_0x4df132(0x47e)](_0x33d90e))['profilePictureUrl'];_0x378f7f[_0x4df132(0x68e)]=_0x2b4c02;}catch(_0x2f12e1){console[_0x4df132(0x409)]('Failed\x20to\x20update\x20contact\x20profile\x20picture',_0x2f12e1);}return _0x5380dc&&_0x27b3ef?.[_0x4df132(0x49a)]!==_0x5380dc&&(_0x378f7f[_0x4df132(0x49a)]=_0x5380dc),Object[_0x4df132(0x69d)](_0x378f7f)['length']>0x1&&(_0x27b3ef?await this[_0x4df132(0x739)][_0x4df132(0x4af)][_0x4df132(0x5f2)]({'where':{'_id':_0x33d90e}},_0x378f7f):await this[_0x4df132(0x739)][_0x4df132(0x4af)][_0x4df132(0x441)]([{'_id':_0x33d90e,..._0x378f7f}]),_0x27b3ef={..._0x27b3ef,..._0x378f7f}),{'cachedContact':_0x27b3ef};}async[a0_0x1ec271(0x47e)](_0x33df9b){const _0x2331a2=a0_0x1ec271;let _0x3902a4=this[_0x2331a2(0x470)](_0x33df9b);try{return{'wuid':_0x3902a4,'profilePictureUrl':await this[_0x2331a2(0x6b3)]['profilePictureUrl'](_0x3902a4,_0x2331a2(0x23a))};}catch{return{'wuid':_0x3902a4,'profilePictureUrl':null};}}async[a0_0x1ec271(0x272)](_0x1167dc,_0x1ca566,_0x155f87){const _0x1ab6a7=a0_0x1ec271;_0x155f87||(_0x155f87={});let _0x452207=(await this[_0x1ab6a7(0x2ba)]({'numbers':[_0x1167dc]}))[0x0];if(!_0x452207[_0x1ab6a7(0x2a0)]&&!(0x0,m['isJidGroup'])(_0x452207[_0x1ab6a7(0x361)])&&!_0x452207['jid'][_0x1ab6a7(0x537)](_0x1ab6a7(0x209)))throw new w(_0x452207);let _0x1938f9=_0x452207[_0x1ab6a7(0x361)];try{if(_0x155f87?.[_0x1ab6a7(0x494)]){await this[_0x1ab6a7(0x6b3)][_0x1ab6a7(0x1af)](_0x1938f9),await this['client'][_0x1ab6a7(0x358)](_0x155f87?.[_0x1ab6a7(0x69e)]??_0x1ab6a7(0x4d8),_0x1938f9);let _0x94b2d7=Math[_0x1ab6a7(0x227)](_0x155f87[_0x1ab6a7(0x494)],0x2710);await(0x0,m[_0x1ab6a7(0x494)])(_0x94b2d7),await this[_0x1ab6a7(0x6b3)]['sendPresenceUpdate'](_0x1ab6a7(0x24e),_0x1938f9);}let _0x49f6c9=_0x155f87?.[_0x1ab6a7(0x183)]!=!0x1?void 0x0:!0x1,_0x2d7d5a;if(_0x155f87?.[_0x1ab6a7(0x307)]){let _0x5673a9=_0x155f87?.[_0x1ab6a7(0x307)],_0x2edf9c=_0x5673a9?.[_0x1ab6a7(0x6db)]?_0x5673a9:await this[_0x1ab6a7(0x3ef)](_0x5673a9[_0x1ab6a7(0x669)],!0x0);if(!_0x2edf9c)throw _0x1ab6a7(0x817);_0x2d7d5a=_0x2edf9c;}let _0x21e500;if((0x0,m[_0x1ab6a7(0x230)])(_0x1938f9))try{let _0x3ab922=await this[_0x1ab6a7(0x6b3)][_0x1ab6a7(0x1c3)](_0x1938f9);if(!_0x3ab922)throw new F(_0x1ab6a7(0x761));_0x155f87?.[_0x1ab6a7(0x691)]&&(_0x155f87[_0x1ab6a7(0x691)]?.[_0x1ab6a7(0x6fb)]?_0x21e500=_0x3ab922[_0x1ab6a7(0x2ed)][_0x1ab6a7(0x540)](_0x127e9d=>_0x127e9d['id']):_0x155f87['mentions']?.[_0x1ab6a7(0x699)]?.[_0x1ab6a7(0x710)]&&(_0x21e500=_0x155f87['mentions'][_0x1ab6a7(0x699)][_0x1ab6a7(0x540)](_0x12772f=>{const _0x3af845=_0x1ab6a7;let _0x4a93d9=this[_0x3af845(0x470)](_0x12772f);return(0x0,m[_0x3af845(0x230)])(_0x4a93d9)?null:_0x4a93d9;})));}catch{throw new F(_0x1ab6a7(0x761));}let _0x3339b1=await((async()=>{const _0x562b85=_0x1ab6a7;let _0x941e29={'quoted':_0x2d7d5a,'ephemeralExpiration':(await this[_0x562b85(0x739)][_0x562b85(0x21e)][_0x562b85(0x1a0)]({'where':{'_id':_0x1938f9}},this[_0x562b85(0x47b)][_0x562b85(0x556)]))['ephemeralExpiration']||0x0};if(!_0x1ca566['audio']&&!_0x1ca566[_0x562b85(0x661)]&&!_0x1ca566[_0x562b85(0x19b)]&&!_0x1ca566[_0x562b85(0x7a3)]&&_0x1938f9!==_0x562b85(0x4ef)&&!_0x1ca566['audio'])return await this[_0x562b85(0x6b3)][_0x562b85(0x6d6)](_0x1938f9,{'forward':{'key':{'remoteJid':this[_0x562b85(0x47b)]['wuid'],'fromMe':!0x0},'message':_0x1ca566},'mentions':_0x21e500},_0x941e29);if(_0x1ca566['reactionMessage'])return await this['client'][_0x562b85(0x6d6)](_0x1938f9,{'react':{'text':_0x1ca566[_0x562b85(0x782)]['text'],'key':_0x1ca566['reactionMessage'][_0x562b85(0x669)]}},_0x941e29);if(_0x1ca566[_0x562b85(0x7a3)]){let _0x577835=_0x1ca566['conversation'];return _0x155f87?.[_0x562b85(0x312)]&&(_0x577835=await this[_0x562b85(0x323)](_0x577835,_0x1938f9)),await this[_0x562b85(0x6b3)][_0x562b85(0x6d6)](_0x1938f9,{'text':_0x577835,'mentions':_0x21e500,'linkPreview':_0x49f6c9},_0x941e29);}return _0x1938f9===_0x562b85(0x4ef)?await this[_0x562b85(0x6b3)]['sendMessage'](_0x1938f9,_0x1ca566[_0x562b85(0x721)]['content'],{'backgroundColor':_0x1ca566[_0x562b85(0x721)]['option'][_0x562b85(0x7a8)],'font':_0x1ca566[_0x562b85(0x721)][_0x562b85(0x615)]['font'],'statusJidList':_0x1ca566['status'][_0x562b85(0x615)]['statusJidList']}):await this['client'][_0x562b85(0x6d6)](_0x1938f9,_0x1ca566,_0x941e29);})()),_0x449806=(0x0,m[_0x1ab6a7(0x689)])(_0x3339b1[_0x1ab6a7(0x6db)]),_0x44954e=(0x0,m[_0x1ab6a7(0x6a2)])(_0x449806),{message_normalized:_0x14b4d8}=this[_0x1ab6a7(0x22a)](_0x449806,_0x44954e,null),_0x496425={'_id':_0x3339b1[_0x1ab6a7(0x669)]['id'],'key':_0x3339b1['key'],'pushName':_0x3339b1[_0x1ab6a7(0x42d)],'isGroup':_0x3339b1[_0x1ab6a7(0x669)]['remoteJid'][_0x1ab6a7(0x23c)]('@g.us'),'profilePictureUrl':this['instance']['profilePictureUrl'],'message':_0x449806,'messageType':_0x44954e,'message_normalized':{'key':_0x3339b1[_0x1ab6a7(0x669)],'pushName':_0x3339b1[_0x1ab6a7(0x42d)],'messageTimestamp':_0x3339b1[_0x1ab6a7(0x605)]&&_0x3339b1[_0x1ab6a7(0x605)][_0x1ab6a7(0x506)]()[_0x1ab6a7(0x710)]<0xd?_0x3339b1[_0x1ab6a7(0x605)]*0x3e8:_0x3339b1[_0x1ab6a7(0x605)]||null,'source':(0x0,m[_0x1ab6a7(0x749)])(_0x3339b1[_0x1ab6a7(0x669)]['id']),..._0x14b4d8},'messageTimestamp':_0x3339b1[_0x1ab6a7(0x605)]&&_0x3339b1[_0x1ab6a7(0x605)][_0x1ab6a7(0x506)]()['length']<0xd?_0x3339b1['messageTimestamp']*0x3e8:_0x3339b1['messageTimestamp']||null,'owner':this['instance'][_0x1ab6a7(0x556)],'source':(0x0,m['getDevice'])(_0x3339b1[_0x1ab6a7(0x669)]['id'])};return this[_0x1ab6a7(0x24a)][_0x1ab6a7(0x596)](this['instanceName']+'\x20('+this['instance'][_0x1ab6a7(0x556)]+_0x1ab6a7(0x44a)+_0x496425[_0x1ab6a7(0x669)]?.['remoteJid'][_0x1ab6a7(0x448)](_0x1ab6a7(0x594),'')+_0x1ab6a7(0x60f)+_0x496425[_0x1ab6a7(0x3c5)]+')'),_0x496425[_0x1ab6a7(0x828)]?.[_0x1ab6a7(0x308)]&&this[_0x1ab6a7(0x24a)]['warn'](_0x496425['message_normalized']?.['text']),this[_0x1ab6a7(0x836)](_0x1ab6a7(0x5a0),_0x496425),J(this[_0x1ab6a7(0x33c)],_0x1ab6a7(0x462),{'message':_0x496425}),this[_0x1ab6a7(0x4ee)](this[_0x1ab6a7(0x7b9)]['get'](_0x1ab6a7(0x40d)),_0x496425,_0x1ab6a7(0x42a)),await this['repository']['message'][_0x1ab6a7(0x441)]([_0x496425],this[_0x1ab6a7(0x47b)][_0x1ab6a7(0x556)]),_0x3339b1;}catch(_0x39ab56){throw this[_0x1ab6a7(0x24a)][_0x1ab6a7(0x409)](this[_0x1ab6a7(0x33c)]+'\x20('+this['instance'][_0x1ab6a7(0x556)]+_0x1ab6a7(0x355)+_0x39ab56[_0x1ab6a7(0x506)]()),new w(_0x39ab56[_0x1ab6a7(0x506)]());}}get['connectionStatus'](){const _0x381698=a0_0x1ec271;return this[_0x381698(0x258)];}async[a0_0x1ec271(0x16e)](_0x4f40be){const _0x5f2080=a0_0x1ec271;let _0x6a164a=Rr,_0x994cb8=et;return _0x994cb8&&this['instanceName'][_0x5f2080(0x3d2)]()[_0x5f2080(0x537)](_0x994cb8[_0x5f2080(0x3d2)]())&&(_0x4f40be['textMessage'][_0x5f2080(0x308)]+='\x0a\x0a'+_0x6a164a),await this[_0x5f2080(0x272)](_0x4f40be[_0x5f2080(0x396)],{'conversation':_0x4f40be[_0x5f2080(0x16e)]['text']},_0x4f40be?.[_0x5f2080(0x44e)]);}async[a0_0x1ec271(0x79b)](_0x25d485){const _0x28837d=a0_0x1ec271;if(!_0x25d485['type'])throw new w(_0x28837d(0x18b));if(!_0x25d485['content'])throw new w(_0x28837d(0x5d4));if(_0x25d485[_0x28837d(0x602)]){let _0x266942=await this['repository'][_0x28837d(0x477)][_0x28837d(0x741)]({'where':{}},this[_0x28837d(0x47b)][_0x28837d(0x556)]);if(!_0x266942['length'])throw new w(_0x28837d(0x703));_0x25d485['statusJidList']=_0x266942[_0x28837d(0x3c7)](_0x508618=>_0x508618[_0x28837d(0x42d)])['map'](_0x161877=>_0x161877['_id']);}if(!_0x25d485[_0x28837d(0x468)]?.['length']&&!_0x25d485['allContacts'])throw new w(_0x28837d(0x23e));if(_0x25d485[_0x28837d(0x325)]===_0x28837d(0x308)){if(!_0x25d485[_0x28837d(0x7a8)])throw new w('Background\x20color\x20is\x20required');if(!_0x25d485[_0x28837d(0x498)])throw new w('Font\x20is\x20required');return{'content':{'text':_0x25d485['content']},'option':{'backgroundColor':_0x25d485[_0x28837d(0x7a8)],'font':_0x25d485[_0x28837d(0x498)],'statusJidList':_0x25d485[_0x28837d(0x468)]}};}if(_0x25d485[_0x28837d(0x325)]===_0x28837d(0x23a))return{'content':{'image':{'url':_0x25d485[_0x28837d(0x6b5)]},'caption':_0x25d485[_0x28837d(0x2d9)]},'option':{'statusJidList':_0x25d485['statusJidList']}};if(_0x25d485['type']==='video')return{'content':{'video':{'url':_0x25d485[_0x28837d(0x6b5)]},'caption':_0x25d485[_0x28837d(0x2d9)]},'option':{'statusJidList':_0x25d485[_0x28837d(0x468)]}};if(_0x25d485[_0x28837d(0x325)]===_0x28837d(0x422)){this['logger'][_0x28837d(0x641)](_0x28837d(0x454)),this[_0x28837d(0x24a)][_0x28837d(0x641)](_0x28837d(0x545));let _0x401b1e=await this[_0x28837d(0x401)](_0x25d485[_0x28837d(0x6b5)]);if(typeof _0x401b1e==_0x28837d(0x186)){this[_0x28837d(0x24a)][_0x28837d(0x641)](_0x28837d(0x6cf));let _0x52f8e6=$[_0x28837d(0x3f7)](_0x401b1e)[_0x28837d(0x506)](_0x28837d(0x40b));return{'content':{'audio':Buffer[_0x28837d(0x445)](_0x52f8e6,'base64'),'ptt':!0x0,'mimetype':_0x28837d(0x198)},'option':{'statusJidList':_0x25d485[_0x28837d(0x468)]}};}else throw new I(_0x401b1e);}throw new w('Type\x20not\x20found');}async[a0_0x1ec271(0x41d)](_0xd3b8b3){const _0x337dd9=a0_0x1ec271;return await this[_0x337dd9(0x272)](_0x337dd9(0x4ef),{'status':await this[_0x337dd9(0x79b)](_0xd3b8b3['statusMessage'])});}async[a0_0x1ec271(0x656)](_0x38021e){const _0x1055bc=a0_0x1ec271;try{let _0x3a00e9=await(0x0,m[_0x1055bc(0x482)])({[_0x38021e[_0x1055bc(0x2c3)]]:(0x0,P[_0x1055bc(0x5e7)])(_0x38021e[_0x1055bc(0x7c3)])?{'url':_0x38021e[_0x1055bc(0x7c3)]}:Buffer[_0x1055bc(0x445)](_0x38021e[_0x1055bc(0x7c3)],_0x1055bc(0x40b))},{'upload':this[_0x1055bc(0x6b3)][_0x1055bc(0x79f)]}),_0x32f5c3=_0x38021e[_0x1055bc(0x2c3)]+_0x1055bc(0x29e);if(_0x38021e[_0x1055bc(0x2c3)]===_0x1055bc(0x71b)&&!_0x38021e[_0x1055bc(0x459)]){let _0x3c3029=new RegExp(/.*\/(.+?)\./)[_0x1055bc(0x7ab)](_0x38021e['media']);_0x38021e[_0x1055bc(0x459)]=_0x3c3029?_0x3c3029[0x1]:null;}let _0x2b4f10=(0x0,P['isURL'])(_0x38021e[_0x1055bc(0x7c3)])?_0x38021e[_0x1055bc(0x7c3)][_0x1055bc(0x1d7)]('?')[0x0]:_0x38021e[_0x1055bc(0x7c3)];this[_0x1055bc(0x24a)][_0x1055bc(0x641)](_0x1055bc(0x36c)+_0x2b4f10);let _0x415f00;(0x0,P[_0x1055bc(0x5e7)])(_0x38021e[_0x1055bc(0x7c3)])?_0x415f00=(0x0,kt[_0x1055bc(0x82f)])(_0x2b4f10):_0x38021e[_0x1055bc(0x459)]&&_0x38021e[_0x1055bc(0x459)][_0x1055bc(0x537)]('.')?_0x415f00=(0x0,kt[_0x1055bc(0x82f)])(_0x38021e[_0x1055bc(0x459)]):_0x415f00=(0x0,kt[_0x1055bc(0x82f)])(_0x38021e[_0x1055bc(0x7c3)]);let _0x621a28=Rr,_0x1c0688=et;return _0x1c0688&&this['instanceName'][_0x1055bc(0x3d2)]()[_0x1055bc(0x537)](_0x1c0688['toLowerCase']())&&(_0x38021e[_0x1055bc(0x2d9)]+='\x0a\x0a'+_0x621a28),_0x3a00e9[_0x32f5c3]['caption']=_0x38021e?.['caption'],_0x3a00e9[_0x32f5c3][_0x1055bc(0x6f9)]=_0x415f00,_0x3a00e9[_0x32f5c3][_0x1055bc(0x459)]=_0x38021e[_0x1055bc(0x459)],_0x38021e[_0x1055bc(0x2c3)]===_0x1055bc(0x1d9)&&(_0x3a00e9[_0x32f5c3][_0x1055bc(0x178)]=Uint8Array[_0x1055bc(0x445)]((0x0,Re[_0x1055bc(0x3f7)])((0x0,U['join'])(process[_0x1055bc(0x3dd)](),_0x1055bc(0x184)))),_0x3a00e9[_0x32f5c3][_0x1055bc(0x3b4)]=!0x1),(0x0,m[_0x1055bc(0x1ac)])('',{[_0x32f5c3]:{..._0x3a00e9[_0x32f5c3]}},{'userJid':this[_0x1055bc(0x47b)]['wuid']});}catch(_0x312320){throw this[_0x1055bc(0x24a)][_0x1055bc(0x409)](this[_0x1055bc(0x33c)]+'\x20('+this['instance']['wuid']+'):\x20'+(_0x312320 instanceof Error?_0x312320[_0x1055bc(0x6db)]:JSON[_0x1055bc(0x742)](_0x312320,null,0x2))),new I(_0x312320?.[_0x1055bc(0x506)]()||_0x312320);}}async['mediaMessage'](_0x37d43f){const _0x4f6e91=a0_0x1ec271;let _0x17c8f4=await this[_0x4f6e91(0x656)](_0x37d43f[_0x4f6e91(0x573)]);return await this[_0x4f6e91(0x272)](_0x37d43f['number'],{..._0x17c8f4[_0x4f6e91(0x6db)]},_0x37d43f?.[_0x4f6e91(0x44e)]);}async['convertToWebP'](_0x1b7229,_0x55c847){const _0x58f7b3=a0_0x1ec271;try{this[_0x58f7b3(0x24a)][_0x58f7b3(0x641)](_0x58f7b3(0x7d2));let _0x1dbb16,_0x49c38e=_0x55c847+'-'+new Date()[_0x58f7b3(0x447)]();this[_0x58f7b3(0x24a)][_0x58f7b3(0x641)]('Hash\x20to\x20image\x20name:\x20'+_0x49c38e);let _0x218db4=''+(0x0,U['join'])(this[_0x58f7b3(0x72c)],_0x49c38e+_0x58f7b3(0x724));if(this['logger'][_0x58f7b3(0x641)](_0x58f7b3(0x4f3)+_0x218db4),(0x0,P[_0x58f7b3(0x6f5)])(_0x1b7229)){this[_0x58f7b3(0x24a)]['verbose'](_0x58f7b3(0x539));let _0x59fdd9=_0x1b7229[_0x58f7b3(0x448)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x48cb73=Buffer[_0x58f7b3(0x445)](_0x59fdd9,'base64');_0x1dbb16=''+(0x0,U[_0x58f7b3(0x487)])(this[_0x58f7b3(0x72c)],_0x58f7b3(0x675)+_0x49c38e+'.png'),this[_0x58f7b3(0x24a)][_0x58f7b3(0x641)]('Image\x20path:\x20'+_0x1dbb16),await(0x0,jt[_0x58f7b3(0x3eb)])(_0x48cb73)[_0x58f7b3(0x7bb)](_0x1dbb16),this[_0x58f7b3(0x24a)][_0x58f7b3(0x641)]('Image\x20created');}else{this[_0x58f7b3(0x24a)][_0x58f7b3(0x641)](_0x58f7b3(0x22e));let _0x5d7d61=new Date()['getTime'](),_0x51b57c=_0x1b7229+_0x58f7b3(0x397)+_0x5d7d61;this['logger']['verbose'](_0x58f7b3(0x82c)+_0x51b57c);let _0x32e1a0=await K['default'][_0x58f7b3(0x651)](_0x51b57c,{'responseType':_0x58f7b3(0x4ba)});this[_0x58f7b3(0x24a)][_0x58f7b3(0x641)](_0x58f7b3(0x7c7));let _0x191b4e=Buffer[_0x58f7b3(0x445)](_0x32e1a0[_0x58f7b3(0x609)],_0x58f7b3(0x175));_0x1dbb16=''+(0x0,U['join'])(this[_0x58f7b3(0x72c)],_0x58f7b3(0x675)+_0x49c38e+'.png'),this[_0x58f7b3(0x24a)][_0x58f7b3(0x641)]('Image\x20path:\x20'+_0x1dbb16),await(0x0,jt['default'])(_0x191b4e)['toFile'](_0x1dbb16),this[_0x58f7b3(0x24a)][_0x58f7b3(0x641)](_0x58f7b3(0x22c));}return await(0x0,jt[_0x58f7b3(0x3eb)])(_0x1dbb16)[_0x58f7b3(0x4c4)]()[_0x58f7b3(0x7bb)](_0x218db4),this['logger'][_0x58f7b3(0x641)](_0x58f7b3(0x5ef)),$['unlinkSync'](_0x1dbb16),this[_0x58f7b3(0x24a)]['verbose'](_0x58f7b3(0x5b3)),_0x218db4;}catch(_0x41405a){console[_0x58f7b3(0x409)](_0x58f7b3(0x83a),_0x41405a instanceof Error?_0x41405a['message']:JSON['stringify'](_0x41405a,null,0x2));}}async[a0_0x1ec271(0x549)](_0x6c964b){const _0x1d5ad6=a0_0x1ec271;let _0x4c6be3=await this[_0x1d5ad6(0x68f)](_0x6c964b['stickerMessage'][_0x1d5ad6(0x23a)],_0x6c964b[_0x1d5ad6(0x396)]),_0x36dcd7=await this[_0x1d5ad6(0x272)](_0x6c964b[_0x1d5ad6(0x396)],{'sticker':{'url':_0x4c6be3}},_0x6c964b?.[_0x1d5ad6(0x44e)]);return $['unlinkSync'](_0x4c6be3),this[_0x1d5ad6(0x24a)]['verbose']('Converted\x20image\x20deleted'),_0x36dcd7;}async['audioWhatsapp'](_0x545371){const _0xf00fc3=a0_0x1ec271;if(this[_0xf00fc3(0x24a)][_0xf00fc3(0x641)](_0xf00fc3(0x75c)),!_0x545371[_0xf00fc3(0x44e)]?.['encoding']&&_0x545371[_0xf00fc3(0x44e)]?.[_0xf00fc3(0x2ac)]!==!0x1&&(_0x545371[_0xf00fc3(0x44e)][_0xf00fc3(0x2ac)]=!0x0),_0x545371['options']?.[_0xf00fc3(0x2ac)]){let _0x4c584b=await this['convertaudio'](_0x545371[_0xf00fc3(0x383)][_0xf00fc3(0x422)]);if(typeof _0x4c584b==_0xf00fc3(0x186)){let _0x38e23d=$[_0xf00fc3(0x3f7)](_0x4c584b)[_0xf00fc3(0x506)](_0xf00fc3(0x40b));return this[_0xf00fc3(0x272)](_0x545371['number'],{'audio':Buffer['from'](_0x38e23d,_0xf00fc3(0x40b)),'ptt':!0x0,'mimetype':_0xf00fc3(0x47f)},{'presence':'recording','delay':_0x545371?.[_0xf00fc3(0x44e)]?.[_0xf00fc3(0x494)]});}else throw new I(_0x4c584b);}return await this[_0xf00fc3(0x272)](_0x545371[_0xf00fc3(0x396)],{'audio':(0x0,P[_0xf00fc3(0x5e7)])(_0x545371[_0xf00fc3(0x383)][_0xf00fc3(0x422)])?{'url':_0x545371[_0xf00fc3(0x383)][_0xf00fc3(0x422)]}:Buffer[_0xf00fc3(0x445)](_0x545371[_0xf00fc3(0x383)][_0xf00fc3(0x422)],_0xf00fc3(0x40b)),'ptt':!0x0,'mimetype':_0xf00fc3(0x47f)},{'presence':_0xf00fc3(0x80e),'delay':_0x545371?.[_0xf00fc3(0x44e)]?.[_0xf00fc3(0x494)]});}async[a0_0x1ec271(0x401)](_0x31ad05){const _0x5a1c41=a0_0x1ec271;this['logger'][_0x5a1c41(0x641)]('Processing\x20audio');let _0xab1693=(0x0,P[_0x5a1c41(0x5e7)])(_0x31ad05)?(0x0,Ut[_0x5a1c41(0x31f)])(_0x5a1c41(0x228))[_0x5a1c41(0x5f2)](_0x31ad05)['digest'](_0x5a1c41(0x1ce)):(0x0,Ut[_0x5a1c41(0x31f)])(_0x5a1c41(0x228))[_0x5a1c41(0x5f2)](_0x31ad05)[_0x5a1c41(0x60a)]('hex'),_0x45c28d=''+(0x0,U['join'])(this[_0x5a1c41(0x72c)],_0xab1693+_0x5a1c41(0x2a7));if($[_0x5a1c41(0x4f1)](_0x45c28d))return this[_0x5a1c41(0x24a)][_0x5a1c41(0x641)](_0x5a1c41(0x433)),_0x45c28d;let _0x3ed12d=''+(0x0,U['join'])(this['storePath'],'temp-'+(0x0,Lt['v4'])()+_0x5a1c41(0x60c));if((0x0,P[_0x5a1c41(0x5e7)])(_0x31ad05)){let _0x44e2cb=new Date()[_0x5a1c41(0x447)](),_0x5d4ffd=_0x31ad05+'?timestamp='+_0x44e2cb,_0xe74fa2=await K['default'][_0x5a1c41(0x651)](_0x5d4ffd,{'responseType':_0x5a1c41(0x4ba)});$[_0x5a1c41(0x263)](_0x3ed12d,_0xe74fa2['data']);}else{let _0x4c41a1=Buffer['from'](_0x31ad05,_0x5a1c41(0x40b));$[_0x5a1c41(0x263)](_0x3ed12d,_0x4c41a1);}return new Promise((_0x3c2fa9,_0x10eb78)=>{const _0x4ce4ec=_0x5a1c41;(0x0,Te[_0x4ce4ec(0x7ab)])(As[_0x4ce4ec(0x3eb)]['path']+_0x4ce4ec(0x41f)+_0x3ed12d+_0x4ce4ec(0x3c8)+_0x45c28d+_0x4ce4ec(0x32a),_0x1ba1de=>{const _0xe10d74=_0x4ce4ec;if($[_0xe10d74(0x6f3)](_0x3ed12d),_0x1ba1de){this[_0xe10d74(0x24a)][_0xe10d74(0x641)](_0xe10d74(0x579)),_0x10eb78(_0x1ba1de);return;}this[_0xe10d74(0x24a)][_0xe10d74(0x641)](_0xe10d74(0x505)),_0x3c2fa9(_0x45c28d);});});}async['convertaudioMP3'](_0x542c1b){const _0x46afd5=a0_0x1ec271;this['logger']['verbose'](_0x46afd5(0x545));let _0xe27e3f=(0x0,Ut[_0x46afd5(0x31f)])(_0x46afd5(0x228))[_0x46afd5(0x5f2)](_0x542c1b)[_0x46afd5(0x60a)](_0x46afd5(0x1ce)),_0x1d23db=''+(0x0,U[_0x46afd5(0x487)])(this[_0x46afd5(0x72c)],_0xe27e3f+_0x46afd5(0x60c));if($[_0x46afd5(0x4f1)](_0x1d23db))return this['logger'][_0x46afd5(0x641)](_0x46afd5(0x433)),U['default'][_0x46afd5(0x848)](_0x1d23db);let _0x4f5bfe=''+(0x0,U[_0x46afd5(0x487)])(this[_0x46afd5(0x72c)],_0x46afd5(0x675)+_0xe27e3f+_0x46afd5(0x2a7));if((0x0,P[_0x46afd5(0x5e7)])(_0x542c1b)){let _0x64b5fe=new Date()[_0x46afd5(0x447)](),_0xf41776=_0x542c1b+_0x46afd5(0x397)+_0x64b5fe,_0x5c2885=await K['default'][_0x46afd5(0x651)](_0xf41776,{'responseType':'arraybuffer'});$[_0x46afd5(0x263)](_0x4f5bfe,_0x5c2885[_0x46afd5(0x609)]);}else{let _0x4b81ef=Buffer[_0x46afd5(0x445)](_0x542c1b,'base64');$[_0x46afd5(0x263)](_0x4f5bfe,_0x4b81ef);}return new Promise((_0x21757e,_0x3711ec)=>{const _0x1c6a86=_0x46afd5;(0x0,Te[_0x1c6a86(0x7ab)])(As[_0x1c6a86(0x3eb)][_0x1c6a86(0x62c)]+'\x20-i\x20'+_0x4f5bfe+_0x1c6a86(0x2a3)+_0x1d23db+'\x20-y',_0xb641eb=>{const _0x22fe40=_0x1c6a86;if($['unlinkSync'](_0x4f5bfe),_0xb641eb){this[_0x22fe40(0x24a)][_0x22fe40(0x641)](_0x22fe40(0x579)),_0x3711ec(_0xb641eb);return;}this[_0x22fe40(0x24a)][_0x22fe40(0x641)]('Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x21757e(U['default'][_0x22fe40(0x848)](_0x1d23db));});});}async[a0_0x1ec271(0x6e6)](_0x2d0555){const _0x40aefe=a0_0x1ec271;let _0x1fa247={},_0x10129f=_0x40aefe(0x2e0);if(_0x2d0555['buttonMessage']?.['mediaMessage']){_0x10129f=_0x2d0555[_0x40aefe(0x6e6)]['mediaMessage']?.['mediatype'][_0x40aefe(0x6d4)]()??_0x40aefe(0x2e0),_0x1fa247['mediaKey']=_0x10129f[_0x40aefe(0x3d2)]()+_0x40aefe(0x29e);let _0x288ee2=await this[_0x40aefe(0x656)](_0x2d0555[_0x40aefe(0x6e6)][_0x40aefe(0x573)]);_0x1fa247[_0x40aefe(0x6db)]=_0x288ee2[_0x40aefe(0x6db)][_0x1fa247[_0x40aefe(0x5c5)]],_0x1fa247[_0x40aefe(0x4c0)]='*'+_0x2d0555[_0x40aefe(0x6e6)][_0x40aefe(0x373)]+'*\x0a\x0a'+_0x2d0555[_0x40aefe(0x6e6)]['description'];}let _0x4dcacd={'text':_0x2d0555[_0x40aefe(0x6e6)][_0x40aefe(0x6e0)][_0x40aefe(0x540)](_0x175dcb=>_0x175dcb['buttonText']),'ids':_0x2d0555[_0x40aefe(0x6e6)][_0x40aefe(0x6e0)][_0x40aefe(0x540)](_0x4fc5cc=>_0x4fc5cc[_0x40aefe(0x26b)])};if(!(0x0,P[_0x40aefe(0x6d7)])(_0x4dcacd[_0x40aefe(0x308)])||!(0x0,P['arrayUnique'])(_0x4dcacd[_0x40aefe(0x211)]))throw new w(_0x40aefe(0x811),_0x40aefe(0x553));return await this[_0x40aefe(0x272)](_0x2d0555['number'],{'buttonsMessage':{'text':_0x1fa247?.[_0x40aefe(0x5c5)]?void 0x0:_0x2d0555['buttonMessage'][_0x40aefe(0x373)],'contentText':_0x1fa247?.[_0x40aefe(0x4c0)]??_0x2d0555[_0x40aefe(0x6e6)][_0x40aefe(0x457)],'footerText':_0x2d0555[_0x40aefe(0x6e6)]?.[_0x40aefe(0x1c8)],'buttons':_0x2d0555[_0x40aefe(0x6e6)][_0x40aefe(0x6e0)][_0x40aefe(0x540)](_0x2520cf=>({'buttonText':{'displayText':_0x2520cf['buttonText']},'buttonId':_0x2520cf['buttonId'],'type':0x1})),'headerType':m[_0x40aefe(0x36a)]['Message'][_0x40aefe(0x1d2)][_0x40aefe(0x32f)][_0x10129f],[_0x1fa247?.[_0x40aefe(0x5c5)]]:_0x1fa247?.[_0x40aefe(0x6db)]}},_0x2d0555?.['options']);}async[a0_0x1ec271(0x3b8)](_0x10e6fe){const _0x39fa16=a0_0x1ec271;return await this[_0x39fa16(0x272)](_0x10e6fe[_0x39fa16(0x396)],{'locationMessage':{'degreesLatitude':_0x10e6fe[_0x39fa16(0x3b8)][_0x39fa16(0x185)],'degreesLongitude':_0x10e6fe['locationMessage'][_0x39fa16(0x7c0)],'name':_0x10e6fe[_0x39fa16(0x3b8)]?.[_0x39fa16(0x49a)],'address':_0x10e6fe[_0x39fa16(0x3b8)]?.['address']}},_0x10e6fe?.[_0x39fa16(0x44e)]);}async[a0_0x1ec271(0x421)](_0x618cb4){const _0x416c89=a0_0x1ec271;let _0xe92f5a={},_0x492f4c=_0x3fa4dc=>{const _0x16f329=a0_0x37f8;let _0x5c9c3e=_0x16f329(0x824)+_0x3fa4dc[_0x16f329(0x43d)]+_0x16f329(0x1cd)+_0x3fa4dc[_0x16f329(0x43d)]+'\x0a';_0x3fa4dc['organization']&&(_0x5c9c3e+='ORG:'+_0x3fa4dc['organization']+';\x0a'),_0x3fa4dc['email']&&(_0x5c9c3e+='EMAIL:'+_0x3fa4dc[_0x16f329(0x31d)]+'\x0a'),_0x3fa4dc[_0x16f329(0x806)]&&(_0x5c9c3e+=_0x16f329(0x790)+_0x3fa4dc['url']+'\x0a');let _0x5e6919='';return _0x3fa4dc['phoneNumber']&&_0x3fa4dc[_0x16f329(0x46b)][_0x16f329(0x1d7)]('|')[_0x16f329(0x359)]((_0x428416,_0x125630)=>{const _0x3b9d0c=_0x16f329;let _0x1f0039=this[_0x3b9d0c(0x470)](_0x428416)['replace']('@s.whatsapp.net','');_0x5e6919+=_0x3b9d0c(0x7f3)+(_0x125630+0x1)+_0x3b9d0c(0x723)+_0x1f0039+':'+_0x428416+_0x3b9d0c(0x1f9)+(_0x125630+0x1)+_0x3b9d0c(0x81a);}),_0x5c9c3e+=_0x5e6919+_0x16f329(0x42e),_0x5c9c3e;};return _0x618cb4[_0x416c89(0x421)][_0x416c89(0x710)]===0x1?_0xe92f5a[_0x416c89(0x421)]={'displayName':_0x618cb4[_0x416c89(0x421)][0x0][_0x416c89(0x43d)],'vcard':_0x492f4c(_0x618cb4[_0x416c89(0x421)][0x0])}:_0xe92f5a[_0x416c89(0x353)]={'displayName':_0x618cb4['contactMessage'][_0x416c89(0x710)]+_0x416c89(0x27d),'contacts':_0x618cb4[_0x416c89(0x421)]['map'](_0x455bd1=>({'displayName':_0x455bd1['fullName'],'vcard':_0x492f4c(_0x455bd1)}))},await this['sendMessageWithTyping'](_0x618cb4['number'],{..._0xe92f5a},_0x618cb4?.[_0x416c89(0x44e)]);}async['reactionMessage'](_0xd8ba9c){const _0x5cd69f=a0_0x1ec271;return await this[_0x5cd69f(0x272)](_0xd8ba9c[_0x5cd69f(0x782)]['key']['remoteJid'],{'reactionMessage':{'key':_0xd8ba9c[_0x5cd69f(0x782)][_0x5cd69f(0x669)],'text':_0xd8ba9c[_0x5cd69f(0x782)][_0x5cd69f(0x37b)]}});}async[a0_0x1ec271(0x2ba)](_0x27890f){const _0x34a0c5=a0_0x1ec271;let _0x4ca51d=[];for await(let _0x4bdce0 of _0x27890f[_0x34a0c5(0x2dc)]){let _0x10327b=this[_0x34a0c5(0x470)](_0x4bdce0),_0x55a725=!0x1;try{if((0x0,m[_0x34a0c5(0x230)])(_0x10327b)){let _0x4d1eac=await this['findGroup']({'groupJid':_0x10327b},_0x34a0c5(0x72d));_0x4ca51d[_0x34a0c5(0x474)](new fe(_0x4d1eac[_0x34a0c5(0x388)]['id'],!!_0x4d1eac?.[_0x34a0c5(0x388)]['id'],_0x4d1eac?.[_0x34a0c5(0x388)][_0x34a0c5(0x4b7)])),_0x55a725=!!_0x4d1eac?.[_0x34a0c5(0x388)]['id'];}else{let _0x2188e9=(await this[_0x34a0c5(0x6b3)][_0x34a0c5(0x5ca)](_0x10327b))[0x0];_0x4ca51d[_0x34a0c5(0x474)](new fe(_0x2188e9[_0x34a0c5(0x361)],_0x2188e9[_0x34a0c5(0x2a0)])),_0x55a725=_0x2188e9[_0x34a0c5(0x2a0)];}}catch{await this[_0x34a0c5(0x45b)](_0x10327b,_0x55a725),_0x4ca51d[_0x34a0c5(0x474)](new fe(_0x4bdce0,!0x1));}}return _0x4ca51d;}async[a0_0x1ec271(0x45b)](_0xbb05f7,_0x14cd91){const _0x301a9f=a0_0x1ec271;try{await this[_0x301a9f(0x739)][_0x301a9f(0x21e)]['findOne']({'where':{'_id':_0xbb05f7,'imported':!0x0}},this[_0x301a9f(0x47b)][_0x301a9f(0x556)])&&(_0x14cd91||(await this[_0x301a9f(0x739)]['chat'][_0x301a9f(0x6e9)](_0xbb05f7,this[_0x301a9f(0x47b)][_0x301a9f(0x556)]),console['log'](_0x301a9f(0x683)+_0xbb05f7+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.')));}catch(_0x2f5316){console[_0x301a9f(0x409)](_0x301a9f(0x1f0),_0x2f5316);}}async[a0_0x1ec271(0x617)](_0xfcb6e3){const _0x4d3092=a0_0x1ec271;try{let _0x1ac669=_0xfcb6e3[_0x4d3092(0x2cf)][_0x4d3092(0x3c7)](_0x1ecb8d=>(0x0,m[_0x4d3092(0x230)])(_0x1ecb8d['remoteJid'])||(0x0,m[_0x4d3092(0x77f)])(_0x1ecb8d['remoteJid']))[_0x4d3092(0x540)](_0x2f9ba1=>({'remoteJid':_0x2f9ba1[_0x4d3092(0x560)],'fromMe':_0x2f9ba1[_0x4d3092(0x794)],'id':_0x2f9ba1['id']}));await this['client'][_0x4d3092(0x2cf)](_0x1ac669);let _0xcb22e7=_0x1ac669[_0x4d3092(0x540)](_0xb46233=>this['updateMessage'](_0xb46233,{'status':_0x4d3092(0x53b),'owner':this['instance'][_0x4d3092(0x556)]})),_0x1b2cee=_0x1ac669[_0x4d3092(0x540)](_0x115590=>this[_0x4d3092(0x739)][_0x4d3092(0x21e)][_0x4d3092(0x5ec)]({'where':{'_id':_0x115590[_0x4d3092(0x560)]}},{'unreadcount':0x0},this[_0x4d3092(0x47b)][_0x4d3092(0x556)])),[_0x53f7cc,_0x236395]=await Promise['all']([Promise[_0x4d3092(0x60d)](_0xcb22e7),Promise['all'](_0x1b2cee)]);return _0x236395[_0x4d3092(0x3c7)](_0x251458=>_0x251458!==null)[_0x4d3092(0x359)](_0x1b2349=>{const _0x4e90a4=_0x4d3092;J(this[_0x4e90a4(0x33c)],_0x4e90a4(0x5e3),{'chat':_0x1b2349});}),{'message':_0x4d3092(0x3e6),'read':_0x4d3092(0x3e1)};}catch(_0x364cd5){throw console[_0x4d3092(0x409)](_0x4d3092(0x550),_0x364cd5),new I(_0x4d3092(0x816),_0x364cd5[_0x4d3092(0x506)]());}}async['getLastMessage'](_0x257769){const _0x301626=a0_0x1ec271;let _0x5b5790={'where':{'key':{'remoteJid':_0x257769}},'limit':0x1},_0x2412cf=await this[_0x301626(0x176)](_0x5b5790);return _0x2412cf||(console[_0x301626(0x409)](_0x301626(0x1f6),_0x257769),null);}async[a0_0x1ec271(0x781)](_0x40852c){const _0x56f2ba=a0_0x1ec271;this['logger'][_0x56f2ba(0x641)](_0x56f2ba(0x20b));try{let _0x3fb78a=_0x40852c[_0x56f2ba(0x44d)],_0x372841=_0x40852c['chat'];if(!_0x3fb78a&&_0x372841?_0x3fb78a=await this['getLastMessage'](_0x372841):(_0x3fb78a=_0x40852c[_0x56f2ba(0x44d)],_0x3fb78a[_0x56f2ba(0x605)]=_0x3fb78a?.[_0x56f2ba(0x605)]??Date[_0x56f2ba(0x65d)](),_0x372841=_0x3fb78a?.['key']?.[_0x56f2ba(0x560)]),!_0x3fb78a||Object[_0x56f2ba(0x69d)](_0x3fb78a)[_0x56f2ba(0x710)]===0x0)throw new F(_0x56f2ba(0x692));this[_0x56f2ba(0x24a)]['verbose'](_0x56f2ba(0x328)+_0x372841);try{await this[_0x56f2ba(0x6b3)][_0x56f2ba(0x3fe)]({'archive':_0x40852c['archive'],'lastMessages':[_0x3fb78a]},this[_0x56f2ba(0x470)](_0x372841));}catch(_0x33dbc4){this[_0x56f2ba(0x24a)]['error'](_0x56f2ba(0x6a9)+_0x372841+':\x20'+_0x33dbc4[_0x56f2ba(0x506)]());}this['logger'][_0x56f2ba(0x641)](_0x56f2ba(0x7b7)+_0x372841);let _0x52537f=await this['repository'][_0x56f2ba(0x21e)]['updateOne']({'where':{'_id':_0x3fb78a?.[_0x56f2ba(0x669)]?.[_0x56f2ba(0x560)]}},{'archived':_0x40852c[_0x56f2ba(0x189)]},this['instance'][_0x56f2ba(0x556)]);return _0x52537f?(this[_0x56f2ba(0x24a)][_0x56f2ba(0x641)](_0x56f2ba(0x1e8)+JSON[_0x56f2ba(0x742)](_0x52537f)),J(this[_0x56f2ba(0x33c)],_0x56f2ba(0x5e3),{'chat':_0x52537f})):this[_0x56f2ba(0x24a)][_0x56f2ba(0x409)](_0x56f2ba(0x5d6)+_0x372841),{'chatId':_0x372841,'archived':_0x40852c[_0x56f2ba(0x189)]};}catch(_0x47216c){throw this['logger'][_0x56f2ba(0x409)](_0x56f2ba(0x815)+_0x47216c[_0x56f2ba(0x506)]()),new I({'archived':!0x1,'message':[_0x56f2ba(0x47a),_0x47216c[_0x56f2ba(0x506)]()]});}}async['deleteChat'](_0x2cf666){const _0x362517=a0_0x1ec271;this[_0x362517(0x24a)]['verbose'](_0x362517(0x7b1));try{let _0x4fd4ed=await this[_0x362517(0x633)](_0x2cf666);if(!_0x4fd4ed||Object['keys'](_0x4fd4ed)['length']===0x0)throw new F(_0x362517(0x692));let _0x53494c=_0x4fd4ed[0x0];this[_0x362517(0x24a)][_0x362517(0x641)](_0x362517(0x1f3)+_0x2cf666);try{await this['client']['chatModify']({'delete':!0x0,'lastMessages':[{'key':_0x53494c[_0x362517(0x669)],'messageTimestamp':_0x53494c[_0x362517(0x605)]}]},this[_0x362517(0x470)](_0x2cf666));}catch(_0x4ac2ef){this[_0x362517(0x24a)][_0x362517(0x409)](_0x362517(0x6a9)+_0x2cf666+':\x20'+_0x4ac2ef['toString']());}this[_0x362517(0x24a)][_0x362517(0x641)]('Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x2cf666);return;}catch(_0xbdeaa1){throw this[_0x362517(0x24a)][_0x362517(0x409)](_0x362517(0x815)+_0xbdeaa1[_0x362517(0x506)]()),new I({'archived':!0x1,'message':[_0x362517(0x47a),_0xbdeaa1[_0x362517(0x506)]()]});}}async['deleteMessage'](_0x388b57){const _0x291a73=a0_0x1ec271;try{let _0x2f4d7b=await this[_0x291a73(0x6b3)][_0x291a73(0x6d6)](_0x388b57[_0x291a73(0x560)],{'delete':_0x388b57});try{let _0x365117=await this['updateMessage'](_0x388b57,{'status':'DELETED','owner':this['instance']['wuid']});this[_0x291a73(0x24a)][_0x291a73(0x641)](this['instanceName']+'\x20('+this['instance'][_0x291a73(0x556)]+'):\x20updateResult:'+_0x365117);}catch(_0x22a660){console['error']('Error\x20updating\x20message\x20status:',_0x22a660);}return _0x2f4d7b;}catch(_0xb7ec6b){throw new I(_0x291a73(0x1f8),_0xb7ec6b?.[_0x291a73(0x506)]());}}async[a0_0x1ec271(0x48f)](_0x3878b8){const _0x3dbf99=a0_0x1ec271;try{let _0x58d6d=_0x3878b8?.[_0x3dbf99(0x6db)]?_0x3878b8:await this['getMessage'](_0x3878b8[_0x3dbf99(0x669)],!0x0);for(let _0x3df5fc of Na)_0x58d6d[_0x3dbf99(0x6db)][_0x3df5fc]&&(_0x58d6d[_0x3dbf99(0x6db)]=_0x58d6d[_0x3dbf99(0x6db)][_0x3df5fc]['message']);let _0x4e3724,_0x3e8c5e;for(let _0x185419 of va)if(_0x4e3724=_0x58d6d['message'][_0x185419],_0x4e3724){_0x3e8c5e=_0x185419;break;}if(!_0x4e3724)throw _0x3dbf99(0x6f8);typeof _0x4e3724[_0x3dbf99(0x5c5)]==_0x3dbf99(0x4b1)&&(_0x58d6d[_0x3dbf99(0x6db)]=JSON[_0x3dbf99(0x49c)](JSON[_0x3dbf99(0x742)](_0x58d6d[_0x3dbf99(0x6db)])));let _0x4afc9b=await(0x0,m['downloadMediaMessage'])({'key':_0x58d6d?.[_0x3dbf99(0x669)],'message':_0x58d6d?.[_0x3dbf99(0x6db)]},_0x3dbf99(0x5ba),{},{'logger':(0x0,$t[_0x3dbf99(0x3eb)])({'level':_0x3dbf99(0x2ea)}),'reuploadRequest':this[_0x3dbf99(0x6b3)][_0x3dbf99(0x4d3)]});if(!(_0x4afc9b instanceof Buffer))throw new Error(_0x3dbf99(0x5cd));let _0x202537=this[_0x3dbf99(0x7b9)][_0x3dbf99(0x651)](_0x3dbf99(0x40d)),_0x27fb01,_0x25e092;if(_0x4e3724[_0x3dbf99(0x459)])_0x27fb01=_0x4e3724[_0x3dbf99(0x459)];else{let _0x2de1d1=_0x4e3724[_0x3dbf99(0x6f9)]?.['match'](/\/(\w+)/),_0x1802ad=_0x2de1d1?_0x2de1d1[0x1]:null;if(!_0x1802ad)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0x27fb01=(0x0,Lt['v4'])()+'.'+_0x1802ad;}_0x3e8c5e===_0x3dbf99(0x383)?_0x25e092='/media/'+await this[_0x3dbf99(0x538)](_0x4afc9b[_0x3dbf99(0x506)]('base64')):(await this[_0x3dbf99(0x733)](_0x4afc9b,_0x27fb01),_0x25e092=_0x3dbf99(0x461)+_0x27fb01);let _0x4d239d=this[_0x3dbf99(0x7b9)][_0x3dbf99(0x651)](_0x3dbf99(0x7df))[_0x3dbf99(0x77a)];if(!_0x4d239d){let _0x39a3e0=this[_0x3dbf99(0x7b9)][_0x3dbf99(0x651)](_0x3dbf99(0x663));_0x4d239d='https://'+(_0x39a3e0&&_0x39a3e0[_0x3dbf99(0x73e)][_0x3dbf99(0x1d7)]('/')[0x4]);}_0x25e092=''+_0x4d239d+_0x25e092;let _0x2edc5f=0xc*0x3c*0x3c*0x3e8,_0x39ef73={'where':{'_id':_0x58d6d[_0x3dbf99(0x669)]['id']}},_0x46d3ca={'message_normalized.fileUrl':_0x25e092,'message_normalized.expires_fileUrl':Date[_0x3dbf99(0x65d)]()+_0x2edc5f};try{let _0x139026=await this[_0x3dbf99(0x739)]['message']['update'](_0x39ef73,_0x46d3ca,this[_0x3dbf99(0x47b)][_0x3dbf99(0x556)]);_0x139026&&J(this[_0x3dbf99(0x33c)],_0x3dbf99(0x462),{'message':_0x139026});}catch(_0xd6617e){this['logger']['error'](this['instanceName']+'\x20('+this[_0x3dbf99(0x47b)][_0x3dbf99(0x556)]+'):\x20'+(_0xd6617e instanceof Error?_0xd6617e[_0x3dbf99(0x6db)]:JSON[_0x3dbf99(0x742)](_0xd6617e,null,0x2)));}return{'mediaType':_0x3e8c5e,'fileName':_0x4e3724[_0x3dbf99(0x459)],'caption':_0x4e3724[_0x3dbf99(0x2d9)],'size':{'fileLength':_0x4e3724[_0x3dbf99(0x69b)],'height':_0x4e3724[_0x3dbf99(0x54d)],'width':_0x4e3724[_0x3dbf99(0x599)]},'mimetype':_0x4e3724[_0x3dbf99(0x6f9)],'base64':_0x4afc9b[_0x3dbf99(0x506)](_0x3dbf99(0x40b)),'fileUrl':_0x25e092,'expires_fileUrl':Date[_0x3dbf99(0x65d)]()+_0x2edc5f};}catch(_0x5a6b5d){throw this['logger'][_0x3dbf99(0x409)](this[_0x3dbf99(0x33c)]+'\x20('+this[_0x3dbf99(0x47b)][_0x3dbf99(0x556)]+_0x3dbf99(0x355)+(_0x5a6b5d instanceof Error?_0x5a6b5d[_0x3dbf99(0x6db)]:JSON[_0x3dbf99(0x742)](_0x5a6b5d,null,0x2))),new w(_0x5a6b5d[_0x3dbf99(0x506)]());}}async['saveMediaToFile'](_0x59d483,_0x4189e3){const _0xb46eed=a0_0x1ec271;let _0x33da1d=U[_0xb46eed(0x3eb)][_0xb46eed(0x487)](__dirname,_0xb46eed(0x34f));$[_0xb46eed(0x4f1)](_0x33da1d)||$[_0xb46eed(0x54f)](_0x33da1d,{'recursive':!0x0});let _0xa7db94=U[_0xb46eed(0x3eb)]['join'](_0x33da1d,_0x4189e3);return new Promise((_0x1b5861,_0x4df708)=>{const _0x4e8060=_0xb46eed;$[_0x4e8060(0x799)](_0xa7db94,_0x59d483,_0x3ccf2e=>{const _0x3cdf89=_0x4e8060;_0x3ccf2e?(this[_0x3cdf89(0x24a)][_0x3cdf89(0x409)](_0x3cdf89(0x400)+(_0x3ccf2e instanceof Error?_0x3ccf2e['message']:JSON['stringify'](_0x3ccf2e,null,0x2))),_0x4df708(_0x3ccf2e)):(this['logger']['log'](_0x3cdf89(0x728)+_0xa7db94),_0x1b5861(_0xa7db94));});});}async[a0_0x1ec271(0x405)](_0x36caba){const _0x119f51=a0_0x1ec271;return await this[_0x119f51(0x739)][_0x119f51(0x477)][_0x119f51(0x741)](_0x36caba,this[_0x119f51(0x47b)][_0x119f51(0x556)]);}async['fetchLabels'](){const _0x4795ce=a0_0x1ec271;return await this[_0x4795ce(0x739)][_0x4795ce(0x1ad)][_0x4795ce(0x741)]({'where':{}},this[_0x4795ce(0x47b)][_0x4795ce(0x556)]);}async[a0_0x1ec271(0x176)](_0x92a3cf){const _0x50ea7b=a0_0x1ec271;return await this[_0x50ea7b(0x739)]['message'][_0x50ea7b(0x741)](_0x92a3cf,this[_0x50ea7b(0x47b)]['wuid']);}async[a0_0x1ec271(0x7eb)](){const _0x3f3a83=a0_0x1ec271;return this['repository']['chat'][_0x3f3a83(0x23b)](this[_0x3f3a83(0x47b)]['wuid']),this['repository'][_0x3f3a83(0x21e)][_0x3f3a83(0x598)](this['instance'][_0x3f3a83(0x556)]),this[_0x3f3a83(0x739)][_0x3f3a83(0x21e)][_0x3f3a83(0x378)](this[_0x3f3a83(0x47b)][_0x3f3a83(0x556)]),this[_0x3f3a83(0x739)][_0x3f3a83(0x21e)][_0x3f3a83(0x6c9)](this[_0x3f3a83(0x47b)][_0x3f3a83(0x556)]),await this[_0x3f3a83(0x739)][_0x3f3a83(0x21e)][_0x3f3a83(0x741)]({'where':{}},this[_0x3f3a83(0x47b)][_0x3f3a83(0x556)]);}async[a0_0x1ec271(0x1a2)](_0x45b951){const _0xef4eab=a0_0x1ec271;try{if(!Array['isArray'](_0x45b951)||_0x45b951[_0xef4eab(0x710)]===0x0)throw new Error(_0xef4eab(0x3cc));let _0x8b30dd=[],_0x160618=[];for(let _0x53641f of _0x45b951){if(_0x53641f['_id'])_0x53641f[_0xef4eab(0x6dd)]=this[_0xef4eab(0x470)](_0x53641f[_0xef4eab(0x6dd)]);else continue;await this[_0xef4eab(0x739)][_0xef4eab(0x21e)][_0xef4eab(0x1a0)]({'where':{'_id':_0x53641f[_0xef4eab(0x6dd)]}},this[_0xef4eab(0x47b)][_0xef4eab(0x556)])?_0x160618[_0xef4eab(0x474)]({'_id':_0x53641f['_id'],'leadInfo':_0x53641f[_0xef4eab(0x28c)],'owner':this[_0xef4eab(0x47b)][_0xef4eab(0x556)]}):_0x8b30dd[_0xef4eab(0x474)]({'_id':_0x53641f[_0xef4eab(0x6dd)],'owner':this[_0xef4eab(0x47b)][_0xef4eab(0x556)],'leadInfo':_0x53641f[_0xef4eab(0x28c)],'imported':!0x0});}return _0x160618['length']>0x0&&await this[_0xef4eab(0x739)][_0xef4eab(0x21e)][_0xef4eab(0x4e2)](_0x160618[_0xef4eab(0x540)](_0x3784a8=>({'query':{'where':{'_id':_0x3784a8[_0xef4eab(0x6dd)],'owner':this[_0xef4eab(0x47b)][_0xef4eab(0x556)]}},'update':_0x3784a8}))),_0x8b30dd['length']>0x0&&await this[_0xef4eab(0x739)][_0xef4eab(0x21e)][_0xef4eab(0x821)](_0x8b30dd,this['instance']['wuid']),{'updated':_0x160618[_0xef4eab(0x710)],'inserted':_0x8b30dd[_0xef4eab(0x710)]};}catch(_0x3bbd5c){throw console[_0xef4eab(0x409)](_0xef4eab(0x2af),_0x3bbd5c),_0x3bbd5c;}}async[a0_0x1ec271(0x54c)](_0x1a36ee){const _0x143185=a0_0x1ec271;try{if(!Array['isArray'](_0x1a36ee)||_0x1a36ee[_0x143185(0x710)]===0x0)throw new Error(_0x143185(0x3cc));let _0x1a4f61=0x64,_0x59a99d=0x0;for(let _0x3dc6ec=0x0;_0x3dc6ec<_0x1a36ee[_0x143185(0x710)];_0x3dc6ec+=_0x1a4f61){let _0x5de202=_0x1a36ee[_0x143185(0x19a)](_0x3dc6ec,_0x3dc6ec+_0x1a4f61),{updated:_0x4d49b5}=await this['importChatsBatch'](_0x5de202);_0x59a99d+=_0x4d49b5;}return{'updated':_0x59a99d};}catch(_0x51620f){throw console['error'](_0x143185(0x2af),_0x51620f),_0x51620f;}}async[a0_0x1ec271(0x66d)](_0x3a9056){const _0x54bf99=a0_0x1ec271;try{let _0x6a2a82=await this[_0x54bf99(0x739)][_0x54bf99(0x1ad)][_0x54bf99(0x741)]({'where':{}},this[_0x54bf99(0x47b)][_0x54bf99(0x556)]),_0x2a45af=new Set(_0x6a2a82[_0x54bf99(0x540)](_0x15471a=>_0x15471a[_0x54bf99(0x6dd)])),_0x3eb325=[],_0x47c99c=[];for(let _0x513168 of _0x3a9056){if(!_0x513168[_0x54bf99(0x6dd)])continue;_0x513168[_0x54bf99(0x6dd)]=this['createJid'](_0x513168[_0x54bf99(0x6dd)]);let _0x1cd23d=await this[_0x54bf99(0x739)][_0x54bf99(0x21e)][_0x54bf99(0x1a0)]({'where':{'_id':_0x513168[_0x54bf99(0x6dd)]}},this['instance'][_0x54bf99(0x556)]),_0x14c476={};if(Object[_0x54bf99(0x720)](_0x513168['leadInfo'])['forEach'](([_0x205778,_0x2ed9b9])=>{const _0x2afdfe=_0x54bf99;_0x14c476[_0x2afdfe(0x25a)+_0x205778]=_0x2ed9b9;}),_0x1cd23d&&!_0x1cd23d['imported']){let _0x8d94b6=(_0x513168[_0x54bf99(0x28c)][_0x54bf99(0x502)]||[])[_0x54bf99(0x3c7)](_0x528060=>_0x2a45af[_0x54bf99(0x674)](_0x528060)),_0x1920b1=new Set(_0x1cd23d[_0x54bf99(0x28c)][_0x54bf99(0x502)]||[]),_0x3a9258=_0x8d94b6[_0x54bf99(0x3c7)](_0x36b5dd=>!_0x1920b1[_0x54bf99(0x674)](_0x36b5dd)),_0x9a2759=[..._0x1920b1][_0x54bf99(0x3c7)](_0x22a6a2=>!_0x8d94b6[_0x54bf99(0x537)](_0x22a6a2));_0x47c99c[_0x54bf99(0x474)](..._0x3a9258[_0x54bf99(0x540)](_0x195c83=>this['AddChatLabel'](_0x195c83,_0x513168[_0x54bf99(0x6dd)]))),_0x47c99c[_0x54bf99(0x474)](..._0x9a2759[_0x54bf99(0x540)](_0x16e3a1=>this[_0x54bf99(0x826)](_0x16e3a1,_0x513168[_0x54bf99(0x6dd)]))),_0x513168[_0x54bf99(0x28c)][_0x54bf99(0x502)]=_0x8d94b6,_0x3eb325[_0x54bf99(0x474)]({'query':{'where':{'_id':_0x513168[_0x54bf99(0x6dd)],'owner':this[_0x54bf99(0x47b)][_0x54bf99(0x556)]}},'update':_0x14c476});}else _0x14c476['imported']=!0x0,_0x3eb325[_0x54bf99(0x474)]({'query':{'where':{'_id':_0x513168[_0x54bf99(0x6dd)],'owner':this['instance'][_0x54bf99(0x556)]}},'update':_0x14c476});}let _0x5405d7=await this[_0x54bf99(0x739)][_0x54bf99(0x21e)][_0x54bf99(0x4e2)](_0x3eb325);return await Promise['all'](_0x47c99c),{'updated':_0x5405d7};}catch(_0x2d6df7){throw console[_0x54bf99(0x409)](_0x54bf99(0x2af),_0x2d6df7),_0x2d6df7;}}async[a0_0x1ec271(0x3fa)](){const _0x912f97=a0_0x1ec271;return await this[_0x912f97(0x6b3)][_0x912f97(0x3fa)]();}async[a0_0x1ec271(0x5f4)](_0x2fea17){const _0x5130d8=a0_0x1ec271;try{return await this['client'][_0x5130d8(0x349)](_0x2fea17[_0x5130d8(0x7e2)]['readreceipts']),await this['client']['updateProfilePicturePrivacy'](_0x2fea17[_0x5130d8(0x7e2)][_0x5130d8(0x4cb)]),await this[_0x5130d8(0x6b3)][_0x5130d8(0x5eb)](_0x2fea17[_0x5130d8(0x7e2)]['status']),await this[_0x5130d8(0x6b3)]['updateOnlinePrivacy'](_0x2fea17['privacySettings']['online']),await this[_0x5130d8(0x6b3)][_0x5130d8(0x804)](_0x2fea17['privacySettings'][_0x5130d8(0x344)]),await this[_0x5130d8(0x6b3)][_0x5130d8(0x16f)](_0x2fea17['privacySettings'][_0x5130d8(0x37a)]),this['client']?.['ws']?.[_0x5130d8(0x1a7)](),{'update':_0x5130d8(0x3e1),'data':{'readreceipts':_0x2fea17[_0x5130d8(0x7e2)]['readreceipts'],'profile':_0x2fea17[_0x5130d8(0x7e2)][_0x5130d8(0x4cb)],'status':_0x2fea17['privacySettings'][_0x5130d8(0x721)],'online':_0x2fea17[_0x5130d8(0x7e2)][_0x5130d8(0x7de)],'last':_0x2fea17[_0x5130d8(0x7e2)][_0x5130d8(0x344)],'groupadd':_0x2fea17[_0x5130d8(0x7e2)][_0x5130d8(0x37a)]}};}catch(_0x1f8832){throw new I(_0x5130d8(0x66e),_0x1f8832[_0x5130d8(0x506)]());}}async[a0_0x1ec271(0x18e)](_0x19be83){const _0x5c79c7=a0_0x1ec271;let _0x3619fc=(_0x19be83?this[_0x5c79c7(0x470)](_0x19be83):this[_0x5c79c7(0x6b3)]?.[_0x5c79c7(0x5a7)]?.['id'])[_0x5c79c7(0x448)](/:\d{1,2}@/g,'@');this[_0x5c79c7(0x24a)][_0x5c79c7(0x641)](_0x5c79c7(0x236)+_0x3619fc);let _0x46a4c1=await this[_0x5c79c7(0x739)]['contact'][_0x5c79c7(0x1a0)]({'where':{'_id':_0x3619fc}},this[_0x5c79c7(0x47b)][_0x5c79c7(0x556)]),_0x5b07f3=_0x46a4c1?_0x46a4c1[_0x5c79c7(0x42d)]:null;try{let _0x4f252f=(await this['whatsappNumber']({'numbers':[_0x3619fc]}))?.[_0x5c79c7(0x638)](),_0x5dfa3c=(await this[_0x5c79c7(0x260)](_0x3619fc,null,!0x1))[_0x5c79c7(0x2d0)]['pictureUrl'],_0x29e03a=await this['getStatus'](_0x4f252f?.[_0x5c79c7(0x361)]),_0x4ba554=await this['fetchBusinessProfile'](_0x4f252f?.[_0x5c79c7(0x361)]),_0x28b1a3=(await this['findAndUpdateCacheContact'](_0x3619fc,null,!0x1))['cachedContact'][_0x5c79c7(0x49a)],_0x56df94=await this[_0x5c79c7(0x739)]['chat'][_0x5c79c7(0x1a0)]({'where':{'_id':_0x3619fc}},this[_0x5c79c7(0x47b)]['wuid']),_0x439b32={'imagechat':_0x5dfa3c,'contactname':_0x5b07f3||null,'pushName':_0x28b1a3,'status':_0x29e03a?.[_0x5c79c7(0x721)],'isBusiness':_0x4ba554[_0x5c79c7(0x6a7)],'email':_0x4ba554?.[_0x5c79c7(0x31d)],'description':_0x4ba554?.[_0x5c79c7(0x457)],'website':_0x4ba554?.['website']?.['shift'](),'lastcache':Date['now'](),'imported':!_0x56df94},_0x4dedc4=await this['repository']['chat'][_0x5c79c7(0x5ec)]({'where':{'_id':_0x3619fc}},_0x439b32,this[_0x5c79c7(0x47b)]['wuid']),_0x1eff91={'owner':this[_0x5c79c7(0x47b)][_0x5c79c7(0x556)],'_id':_0x3619fc,'profilePictureUrl':_0x5dfa3c,'status':_0x29e03a?.[_0x5c79c7(0x721)]};return this[_0x5c79c7(0x739)]['contact'][_0x5c79c7(0x5f2)]([_0x1eff91],this['instance'][_0x5c79c7(0x556)]),_0x4dedc4&&J(this['instanceName'],'chats',{'chat':_0x4dedc4}),{'wuid':_0x4f252f?.[_0x5c79c7(0x361)]||_0x3619fc,'name':_0x4f252f?.[_0x5c79c7(0x49a)],'pushName':_0x28b1a3,'numberExists':_0x4f252f?.[_0x5c79c7(0x2a0)],'picture':_0x5dfa3c,'status':_0x29e03a?.[_0x5c79c7(0x721)],'isBusiness':_0x4ba554[_0x5c79c7(0x6a7)],'email':_0x4ba554?.[_0x5c79c7(0x31d)],'description':_0x4ba554?.[_0x5c79c7(0x457)],'website':_0x4ba554?.['website']?.[_0x5c79c7(0x638)]()};}catch(_0x36bb12){return this[_0x5c79c7(0x24a)][_0x5c79c7(0x409)](_0x5c79c7(0x1de)+(_0x36bb12 instanceof Error?_0x36bb12['message']:JSON[_0x5c79c7(0x742)](_0x36bb12,null,0x2))),{};}}async[a0_0x1ec271(0x24f)](_0x2036e1){const _0x32b789=a0_0x1ec271;this[_0x32b789(0x24a)][_0x32b789(0x641)](_0x32b789(0x423));try{let _0x541293=_0x2036e1?this[_0x32b789(0x470)](_0x2036e1):this['instance'][_0x32b789(0x556)],_0x2c2dba=await this[_0x32b789(0x6b3)][_0x32b789(0x476)](_0x541293);return this['logger'][_0x32b789(0x641)](_0x32b789(0x1ab)),_0x2c2dba?(this[_0x32b789(0x24a)][_0x32b789(0x641)](_0x32b789(0x507)),{'isBusiness':!0x0,..._0x2c2dba}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x32b789(0x2ba)]({'numbers':[_0x541293]}))?.[_0x32b789(0x638)]()};}catch(_0x98f2f0){throw new I(_0x32b789(0x1b1),_0x98f2f0[_0x32b789(0x506)]());}}async[a0_0x1ec271(0x58d)](_0xc3fea){const _0x5b561e=a0_0x1ec271;let _0x4959de=this['createJid'](_0xc3fea);try{return{'wuid':_0x4959de,'status':(await this[_0x5b561e(0x6b3)][_0x5b561e(0x764)](_0x4959de))?.[_0x5b561e(0x721)]};}catch{return{'wuid':_0x4959de,'status':null};}}async[a0_0x1ec271(0x503)](_0x346999){const _0x5e6fb8=a0_0x1ec271;try{return await this[_0x5e6fb8(0x6b3)][_0x5e6fb8(0x503)](_0x346999),{'update':_0x5e6fb8(0x3e1)};}catch(_0x26da47){throw new I('Error\x20updating\x20profile\x20name',_0x26da47[_0x5e6fb8(0x506)]());}}async[a0_0x1ec271(0x17a)](_0x3f9fe1){const _0x190f44=a0_0x1ec271;try{return await this[_0x190f44(0x6b3)][_0x190f44(0x17a)](_0x3f9fe1),{'update':_0x190f44(0x3e1)};}catch(_0x3131d6){throw new I(_0x190f44(0x37f),_0x3131d6[_0x190f44(0x506)]());}}async[a0_0x1ec271(0x823)](_0x3384a5){const _0x349588=a0_0x1ec271;try{let _0x436785;if((0x0,P[_0x349588(0x5e7)])(_0x3384a5)){let _0x5f480c=new Date()['getTime'](),_0x42c7a4=_0x3384a5+_0x349588(0x397)+_0x5f480c;_0x436785=(await K[_0x349588(0x3eb)][_0x349588(0x651)](_0x42c7a4,{'responseType':'arraybuffer'}))[_0x349588(0x609)];}else{if((0x0,P['isBase64'])(_0x3384a5))_0x436785=Buffer[_0x349588(0x445)](_0x3384a5,'base64');else throw new w(_0x349588(0x4ec));}return await this[_0x349588(0x6b3)][_0x349588(0x823)](this[_0x349588(0x47b)]['wuid'],_0x436785),{'update':_0x349588(0x3e1)};}catch(_0x5d369a){throw new I('Error\x20updating\x20profile\x20picture',_0x5d369a['toString']());}}async['removeProfilePicture'](){const _0x3a5039=a0_0x1ec271;try{return await this[_0x3a5039(0x6b3)][_0x3a5039(0x6c3)](this['instance'][_0x3a5039(0x556)]),{'update':_0x3a5039(0x3e1)};}catch(_0x570975){throw new I(_0x3a5039(0x34a),_0x570975[_0x3a5039(0x506)]());}}async['createGroup'](_0x587e25){const _0xa4002e=a0_0x1ec271;try{let _0x3df3f9=_0x587e25[_0xa4002e(0x2ed)]['map'](_0x43b240=>this[_0xa4002e(0x470)](_0x43b240)),{id:_0x1977b1}=await this[_0xa4002e(0x6b3)][_0xa4002e(0x543)](_0x587e25[_0xa4002e(0x4b7)],_0x3df3f9);return _0x587e25?.['description']&&await this[_0xa4002e(0x6b3)]['groupUpdateDescription'](_0x1977b1,_0x587e25['description']),{'metadata':await this[_0xa4002e(0x6b3)][_0xa4002e(0x1c3)](_0x1977b1)};}catch(_0x4cba6b){throw this[_0xa4002e(0x24a)][_0xa4002e(0x409)](this[_0xa4002e(0x33c)]+'\x20('+this[_0xa4002e(0x47b)][_0xa4002e(0x556)]+'):\x20'+(_0x4cba6b instanceof Error?_0x4cba6b['message']:JSON[_0xa4002e(0x742)](_0x4cba6b,null,0x2))),new I(_0xa4002e(0x233),_0x4cba6b[_0xa4002e(0x506)]());}}async[a0_0x1ec271(0x330)](_0x45c4a4){const _0x5a7dc0=a0_0x1ec271;try{let _0x3a0990;if((0x0,P['isURL'])(_0x45c4a4[_0x5a7dc0(0x23a)])){let _0x495771=new Date()[_0x5a7dc0(0x447)](),_0x32fd6a=_0x45c4a4['image']+_0x5a7dc0(0x397)+_0x495771;_0x3a0990=(await K[_0x5a7dc0(0x3eb)][_0x5a7dc0(0x651)](_0x32fd6a,{'responseType':_0x5a7dc0(0x4ba)}))['data'];}else{if((0x0,P[_0x5a7dc0(0x6f5)])(_0x45c4a4[_0x5a7dc0(0x23a)]))_0x3a0990=Buffer['from'](_0x45c4a4[_0x5a7dc0(0x23a)],_0x5a7dc0(0x40b));else throw new w(_0x5a7dc0(0x4ec));}return await this[_0x5a7dc0(0x6b3)][_0x5a7dc0(0x823)](_0x45c4a4[_0x5a7dc0(0x437)],_0x3a0990),{'update':'success'};}catch(_0x51f2bd){throw new I(_0x5a7dc0(0x17c),_0x51f2bd['toString']());}}async['groupDesc'](_0x4ac704){const _0x5d4549=a0_0x1ec271;try{return await this[_0x5d4549(0x6b3)]['groupUpdateDescription'](_0x4ac704[_0x5d4549(0x437)],_0x4ac704[_0x5d4549(0x457)]),{'update':_0x5d4549(0x3e1)};}catch(_0x3ec1f7){throw new I('Error\x20change\x20group\x20description',_0x3ec1f7['toString']());}}async[a0_0x1ec271(0x7fd)](_0x3c31ce){const _0x35d2a9=a0_0x1ec271;try{return await this['client'][_0x35d2a9(0x29b)](_0x3c31ce[_0x35d2a9(0x437)],_0x3c31ce[_0x35d2a9(0x49a)]),{'update':_0x35d2a9(0x3e1)};}catch(_0x2cf23f){throw new I(_0x35d2a9(0x7fa),_0x2cf23f['toString']());}}async['toggleEphemeral'](_0xbca399){const _0x179b30=a0_0x1ec271;try{let _0x100eff=await this[_0x179b30(0x6b3)]['groupToggleEphemeral'](_0xbca399[_0x179b30(0x437)],_0xbca399[_0x179b30(0x75e)]);return{'success':!0x0};}catch(_0x49850d){throw new w('Error\x20updating\x20setting',_0x49850d['toString']());}}async[a0_0x1ec271(0x612)](_0x193d7b){const _0x220148=a0_0x1ec271;try{return await this['client']['groupSettingUpdate'](_0x193d7b[_0x220148(0x437)],_0x193d7b[_0x220148(0x69f)]),{'update':_0x220148(0x3e1)};}catch(_0x48246d){throw new I(_0x220148(0x1b0),_0x48246d[_0x220148(0x506)]());}}async[a0_0x1ec271(0x38d)](_0x17f2b5){const _0x518a5d=a0_0x1ec271;try{if(_0x17f2b5[_0x518a5d(0x6b6)]===!0x0&&await this['client'][_0x518a5d(0x636)](_0x17f2b5[_0x518a5d(0x437)],_0x518a5d(0x809)),_0x17f2b5[_0x518a5d(0x6b6)]===!0x1&&await this[_0x518a5d(0x6b3)][_0x518a5d(0x636)](_0x17f2b5[_0x518a5d(0x437)],_0x518a5d(0x49d)),_0x17f2b5[_0x518a5d(0x5d2)]===!0x0&&await this[_0x518a5d(0x6b3)][_0x518a5d(0x636)](_0x17f2b5['groupJid'],_0x518a5d(0x67e)),_0x17f2b5[_0x518a5d(0x5d2)]===!0x1&&await this['client'][_0x518a5d(0x636)](_0x17f2b5[_0x518a5d(0x437)],'not_announcement'),_0x17f2b5[_0x518a5d(0x83e)]===!0x0&&await this[_0x518a5d(0x6b3)]['groupMemberAddMode'](_0x17f2b5['groupJid'],'all_member_add'),_0x17f2b5[_0x518a5d(0x83e)]===!0x1&&await this[_0x518a5d(0x6b3)][_0x518a5d(0x1f4)](_0x17f2b5[_0x518a5d(0x437)],'admin_add'),_0x17f2b5[_0x518a5d(0x57e)]===!0x0&&await this[_0x518a5d(0x6b3)][_0x518a5d(0x7ec)](_0x17f2b5[_0x518a5d(0x437)],'on'),_0x17f2b5[_0x518a5d(0x57e)]===!0x1&&await this['client'][_0x518a5d(0x7ec)](_0x17f2b5[_0x518a5d(0x437)],_0x518a5d(0x2d1)),typeof _0x17f2b5[_0x518a5d(0x75e)]<'u'&&_0x17f2b5[_0x518a5d(0x75e)]!==null&&await this[_0x518a5d(0x6b3)][_0x518a5d(0x48a)](_0x17f2b5[_0x518a5d(0x437)],_0x17f2b5[_0x518a5d(0x75e)]),_0x17f2b5[_0x518a5d(0x49a)]&&await this[_0x518a5d(0x6b3)][_0x518a5d(0x29b)](_0x17f2b5[_0x518a5d(0x437)],_0x17f2b5[_0x518a5d(0x49a)]),_0x17f2b5[_0x518a5d(0x457)]&&await this[_0x518a5d(0x6b3)][_0x518a5d(0x283)](_0x17f2b5[_0x518a5d(0x437)],_0x17f2b5[_0x518a5d(0x457)]),_0x17f2b5[_0x518a5d(0x23a)]){let _0x945d23;if((0x0,P['isURL'])(_0x17f2b5[_0x518a5d(0x23a)])){let _0x5ec99e=new Date()['getTime'](),_0x2005d9=_0x17f2b5[_0x518a5d(0x23a)]+'?timestamp='+_0x5ec99e;_0x945d23=(await K[_0x518a5d(0x3eb)]['get'](_0x2005d9,{'responseType':'arraybuffer'}))['data'];}else{if((0x0,P[_0x518a5d(0x6f5)])(_0x17f2b5['image']))_0x945d23=Buffer['from'](_0x17f2b5[_0x518a5d(0x23a)],_0x518a5d(0x40b));else throw new w(_0x518a5d(0x4ec));}await this[_0x518a5d(0x6b3)]['updateProfilePicture'](_0x17f2b5[_0x518a5d(0x437)],_0x945d23);}return await this[_0x518a5d(0x763)]({'groupJid':_0x17f2b5[_0x518a5d(0x437)]},_0x518a5d(0x72d));}catch(_0x27f9b8){throw new I(_0x518a5d(0x1b0),_0x27f9b8[_0x518a5d(0x506)]());}}async[a0_0x1ec271(0x172)](_0x141787){const _0x16ac27=a0_0x1ec271;try{if(_0x141787[_0x16ac27(0x797)]===_0x16ac27(0x670)||_0x141787['action']===_0x16ac27(0x1e3)){let _0x170e69=_0x141787[_0x16ac27(0x2ed)][_0x16ac27(0x540)](_0x730be4=>this[_0x16ac27(0x470)](_0x730be4));await this['client'][_0x16ac27(0x73c)](_0x141787[_0x16ac27(0x437)],_0x170e69,_0x141787[_0x16ac27(0x797)]);}else{let _0x269374=_0x141787[_0x16ac27(0x2ed)][_0x16ac27(0x540)](_0x41f4b8=>this[_0x16ac27(0x470)](_0x41f4b8));await this[_0x16ac27(0x6b3)][_0x16ac27(0x24b)](_0x141787[_0x16ac27(0x437)],_0x269374,_0x141787['action']);}return await this[_0x16ac27(0x763)]({'groupJid':_0x141787[_0x16ac27(0x437)]},_0x16ac27(0x72d));}catch(_0x9b7157){throw new w(_0x16ac27(0x711),_0x9b7157[_0x16ac27(0x506)]());}}async[a0_0x1ec271(0x770)](_0x172996){const _0x2348ef=a0_0x1ec271;try{return await this[_0x2348ef(0x6b3)]['groupGetInviteInfo'](_0x172996[_0x2348ef(0x36e)]);}catch(_0x3936a6){throw new I('Error\x20getting\x20invite\x20code\x20info',_0x3936a6[_0x2348ef(0x506)]());}}async['findGroup'](_0x185638,_0x523b1f=a0_0x1ec271(0x81b)){const _0x36cb4f=a0_0x1ec271;try{let _0x549358=await this[_0x36cb4f(0x6b3)][_0x36cb4f(0x1c3)](_0x185638[_0x36cb4f(0x437)]),_0x4f1593=[];try{_0x4f1593=await this['client'][_0x36cb4f(0x326)](_0x185638[_0x36cb4f(0x437)]);}catch(_0x3e5d43){this[_0x36cb4f(0x24a)][_0x36cb4f(0x641)](this[_0x36cb4f(0x33c)]+'\x20('+this[_0x36cb4f(0x47b)][_0x36cb4f(0x556)]+_0x36cb4f(0x281)+_0x185638[_0x36cb4f(0x437)]+':\x20'+(_0x3e5d43 instanceof Error?_0x3e5d43[_0x36cb4f(0x6db)]:JSON['stringify'](_0x3e5d43,null,0x2)));}let _0xa707fb=null;try{_0xa707fb=(await this[_0x36cb4f(0x260)](_0x185638[_0x36cb4f(0x437)],null,!0x0))['cachedContact']['pictureUrl'];}catch(_0x117ac1){this[_0x36cb4f(0x24a)][_0x36cb4f(0x641)](this[_0x36cb4f(0x33c)]+'\x20('+this[_0x36cb4f(0x47b)][_0x36cb4f(0x556)]+_0x36cb4f(0x3fb)+_0x185638[_0x36cb4f(0x437)]+':\x20'+(_0x117ac1 instanceof Error?_0x117ac1[_0x36cb4f(0x6db)]:JSON[_0x36cb4f(0x742)](_0x117ac1,null,0x2)));}let _0x1d6e29=_0x549358[_0x36cb4f(0x2ed)][_0x36cb4f(0x540)](_0x593f0f=>_0x593f0f['id']),_0x580587=_0x4f1593['map'](_0x4e9811=>_0x4e9811['jid']),_0x4a280d=await this[_0x36cb4f(0x739)][_0x36cb4f(0x4af)][_0x36cb4f(0x77d)]([..._0x1d6e29,..._0x580587]),_0x4d2564=_0x549358[_0x36cb4f(0x2ed)]['map'](_0x1a688b=>{const _0x3169de=_0x36cb4f;let _0x151357=_0x4a280d[_0x3169de(0x741)](_0x2f23cb=>_0x2f23cb[_0x3169de(0x6dd)]===_0x1a688b['id']);return{'id':_0x1a688b['id'],'status':_0x1a688b[_0x3169de(0x2db)]?_0x1a688b[_0x3169de(0x2db)]:_0x3169de(0x32e),'pushName':_0x151357?.[_0x3169de(0x49a)],'profilePictureUrl':_0x151357?.[_0x3169de(0x68e)]};}),_0x241dc1=_0x4f1593[_0x36cb4f(0x540)](_0x3e4494=>{const _0x599cf1=_0x36cb4f;let _0x52843d=_0x4a280d['find'](_0x5e6219=>_0x5e6219[_0x599cf1(0x6dd)]===_0x3e4494[_0x599cf1(0x361)]);return{'id':_0x3e4494[_0x599cf1(0x361)],'status':_0x599cf1(0x357),'pushName':_0x52843d?.['name'],'profilePictureUrl':_0x52843d?.[_0x599cf1(0x68e)],'request_method':_0x3e4494[_0x599cf1(0x1e1)],'request_time':_0x3e4494[_0x599cf1(0x839)]};}),_0x27d089=[..._0x4d2564,..._0x241dc1];_0x549358[_0x36cb4f(0x2ed)]=_0x27d089;let _0x1bc107=await this[_0x36cb4f(0x739)]['chat'][_0x36cb4f(0x5ec)]({'where':{'_id':_0x185638[_0x36cb4f(0x437)]}},{'imagechat':_0xa707fb,'name':_0x549358[_0x36cb4f(0x4b7)],'group_size':_0x549358[_0x36cb4f(0x808)],'group_announce':_0x549358[_0x36cb4f(0x5d2)],'group_isCommunity':_0x549358[_0x36cb4f(0x44c)],'lastcache':Date[_0x36cb4f(0x65d)]()},this[_0x36cb4f(0x47b)][_0x36cb4f(0x556)]);return _0x1bc107&&J(this[_0x36cb4f(0x33c)],_0x36cb4f(0x5e3),{'chat':_0x1bc107}),{'metadata':_0x549358,'image':_0xa707fb};}catch(_0x46a2e5){if(_0x523b1f==='inner')return;throw new F('Error\x20fetching\x20group',_0x46a2e5[_0x36cb4f(0x506)]());}}async[a0_0x1ec271(0x54a)](){const _0x158d19=a0_0x1ec271;try{let _0x46752e=await this[_0x158d19(0x6b3)][_0x158d19(0x6a5)](),_0x2bc193=Object['values'](_0x46752e)[_0x158d19(0x3c7)](_0x52739e=>(0x0,m[_0x158d19(0x230)])(_0x52739e?.['id']))['map'](async _0x5cd4e1=>{const _0x2315b2=_0x158d19;try{let _0xf46f5=await this['client'][_0x2315b2(0x3e2)](_0x5cd4e1['id'],_0x2315b2(0x6f6)),_0x2d58f8=await this[_0x2315b2(0x260)](_0x5cd4e1['id'],_0x5cd4e1['subject'],!0x1),_0x378afc=_0x2d58f8[_0x2315b2(0x2d0)][_0x2315b2(0x68e)],_0x592667={'groupJid':_0x5cd4e1?.['id'],'subject':_0x5cd4e1?.[_0x2315b2(0x4b7)],'subjectOwner':_0x5cd4e1?.[_0x2315b2(0x61d)]?.[_0x2315b2(0x1d7)]('@')[0x0],'subjectTime':_0x5cd4e1?.[_0x2315b2(0x7ed)],'size':_0x5cd4e1?.[_0x2315b2(0x2ed)]?.[_0x2315b2(0x710)],'owner':_0x5cd4e1?.['owner']?.[_0x2315b2(0x1d7)]('@')[0x0],'creation':_0x5cd4e1?.[_0x2315b2(0x424)],'desc':_0x5cd4e1?.[_0x2315b2(0x37c)],'restrict':_0x5cd4e1?.['restrict'],'announce':_0x5cd4e1?.[_0x2315b2(0x5d2)],'image':_0x378afc,'isCommunity':_0x5cd4e1?.[_0x2315b2(0x44c)],'joinApprovalMode':_0x5cd4e1?.['joinApprovalMode'],'memberCanAddParticipant':_0x5cd4e1?.[_0x2315b2(0x83e)]},_0x3f4f12=await this[_0x2315b2(0x739)][_0x2315b2(0x21e)]['updateOne']({'where':{'_id':_0x5cd4e1?.['id']}},{'imagechat':_0x2d58f8[_0x2315b2(0x2d0)][_0x2315b2(0x68e)],'name':_0x5cd4e1?.['subject'],'group_size':_0x5cd4e1?.[_0x2315b2(0x808)],'group_announce':_0x5cd4e1?.[_0x2315b2(0x5d2)],'group_isCommunity':_0x5cd4e1?.['isCommunity'],'lastcache':Date['now']()},this['instance'][_0x2315b2(0x556)]);return _0x3f4f12&&J(this['instanceName'],'chats',{'chat':_0x3f4f12}),_0x592667;}catch(_0x278620){return this[_0x2315b2(0x24a)][_0x2315b2(0x641)](this['instanceName']+'\x20('+this['instance'][_0x2315b2(0x556)]+_0x2315b2(0x36b)+_0x5cd4e1['id']+':\x20'+(_0x278620 instanceof Error?_0x278620['message']:JSON[_0x2315b2(0x742)](_0x278620,null,0x2))),null;}}),_0x2dd55c=(await Promise[_0x158d19(0x60d)](_0x2bc193))[_0x158d19(0x3c7)](_0x5e4ff2=>_0x5e4ff2!==null);return console[_0x158d19(0x55f)](_0x2dd55c[_0x158d19(0x710)]+_0x158d19(0x504)),_0x2dd55c;}catch(_0x41a7b1){throw new F('Error\x20fetching\x20group',_0x41a7b1['toString']());}}async[a0_0x1ec271(0x622)](){const _0x780b28=a0_0x1ec271;try{let _0x18aa18=[],_0x35203c=await this[_0x780b28(0x6b3)][_0x780b28(0x6a5)](),_0x11539f=Object[_0x780b28(0x591)](_0x35203c),_0x38ed63=_0x11539f[_0x780b28(0x3c7)](_0x5010cf=>(0x0,m[_0x780b28(0x230)])(_0x5010cf?.['id']))[_0x780b28(0x540)](async _0x3280dc=>{const _0xa07816=_0x780b28;try{return await this[_0xa07816(0x6b3)][_0xa07816(0x3e2)](_0x3280dc['id'],'preview');}catch(_0x3996d0){return this[_0xa07816(0x24a)][_0xa07816(0x641)](this[_0xa07816(0x33c)]+'\x20('+this[_0xa07816(0x47b)]['wuid']+_0xa07816(0x3fb)+_0x3280dc['id']+':\x20'+(_0x3996d0 instanceof Error?_0x3996d0[_0xa07816(0x6db)]:JSON['stringify'](_0x3996d0,null,0x2))),null;}}),_0x181599=await Promise[_0x780b28(0x60d)](_0x38ed63);for(let _0x1db24b=0x0;_0x1db24b<_0x11539f['length'];_0x1db24b++){let _0xac652c=_0x11539f[_0x1db24b];if((0x0,m[_0x780b28(0x230)])(_0xac652c?.['id'])){_0x18aa18[_0x780b28(0x474)]({'groupJid':_0xac652c?.['id'],'subject':_0xac652c?.[_0x780b28(0x4b7)],'subjectOwner':_0xac652c?.['subjectOwner']?.[_0x780b28(0x1d7)]('@')[0x0],'subjectTime':_0xac652c?.[_0x780b28(0x7ed)],'size':_0xac652c?.[_0x780b28(0x2ed)]?.[_0x780b28(0x710)],'owner':_0xac652c?.['owner']?.[_0x780b28(0x1d7)]('@')[0x0],'creation':_0xac652c?.[_0x780b28(0x424)],'desc':_0xac652c?.[_0x780b28(0x37c)],'restrict':_0xac652c?.['restrict'],'announce':_0xac652c?.[_0x780b28(0x5d2)],'image':_0x181599[_0x1db24b],'isCommunity':_0xac652c?.[_0x780b28(0x44c)],'joinApprovalMode':_0xac652c?.[_0x780b28(0x57e)],'memberCanAddParticipant':_0xac652c?.[_0x780b28(0x83e)]});let _0x2e8ac8=await this[_0x780b28(0x739)]['chat']['updateOne']({'where':{'_id':_0xac652c?.['id']}},{'imagechat':_0x181599[_0x1db24b],'name':_0xac652c?.[_0x780b28(0x4b7)],'group_size':_0xac652c?.[_0x780b28(0x808)],'group_announce':_0xac652c?.['announce'],'group_isCommunity':_0xac652c?.[_0x780b28(0x44c)],'lastcache':Date[_0x780b28(0x65d)]()},this[_0x780b28(0x47b)][_0x780b28(0x556)]);_0x2e8ac8&&J(this[_0x780b28(0x33c)],_0x780b28(0x5e3),{'chat':_0x2e8ac8});}}return _0x18aa18;}catch(_0x5d9957){throw new F(_0x780b28(0x63f),_0x5d9957[_0x780b28(0x506)]());}}async[a0_0x1ec271(0x36e)](_0x15b39b){const _0x1a1f3c=a0_0x1ec271;try{let _0x2c69d3=await this[_0x1a1f3c(0x6b3)][_0x1a1f3c(0x5e8)](_0x15b39b[_0x1a1f3c(0x437)]);return{'inviteUrl':'https://chat.whatsapp.com/'+_0x2c69d3,'inviteCode':_0x2c69d3};}catch(_0x12acfd){throw new F(_0x1a1f3c(0x3d8),_0x12acfd[_0x1a1f3c(0x506)]());}}async[a0_0x1ec271(0x766)](_0xf0b7c4){const _0x325155=a0_0x1ec271;try{let _0x5368b1=await this[_0x325155(0x6b3)][_0x325155(0x7cb)](_0xf0b7c4[_0x325155(0x437)]);return{'revoked':!0x0,'inviteUrl':_0x325155(0x1bd)+_0x5368b1,'inviteCode':_0x5368b1};}catch(_0x469a62){throw new F(_0x325155(0x79e),_0x469a62[_0x325155(0x506)]());}}async[a0_0x1ec271(0x705)](_0x53e1f1){const _0x5e0c33=a0_0x1ec271;try{if((0x0,P['isURL'])(_0x53e1f1[_0x5e0c33(0x36e)]))var _0x292aa8=_0x53e1f1[_0x5e0c33(0x36e)][_0x5e0c33(0x1d7)]('/')[0x3];else var _0x292aa8=_0x53e1f1['inviteCode'];let _0x1f6ce1=await this[_0x5e0c33(0x6b3)][_0x5e0c33(0x577)](_0x292aa8);return this[_0x5e0c33(0x24a)][_0x5e0c33(0x641)](this[_0x5e0c33(0x33c)]+'\x20('+this[_0x5e0c33(0x47b)][_0x5e0c33(0x556)]+_0x5e0c33(0x355)+_0x1f6ce1),{'join':!0x0,'inviteCode':_0x292aa8,'groupJid':_0x1f6ce1};}catch(_0x34117b){throw new F(_0x5e0c33(0x2a2),_0x34117b[_0x5e0c33(0x506)]());}}async[a0_0x1ec271(0x635)](_0x3d1ae6){const _0x2056ae=a0_0x1ec271;try{return{'participants':(await this[_0x2056ae(0x6b3)][_0x2056ae(0x1c3)](_0x3d1ae6[_0x2056ae(0x437)]))[_0x2056ae(0x2ed)]};}catch(_0x12d19b){throw new F(_0x2056ae(0x2f0),_0x12d19b['toString']());}}async[a0_0x1ec271(0x56a)](_0x43a178){const _0x5973ee=a0_0x1ec271;try{return await this[_0x5973ee(0x6b3)][_0x5973ee(0x789)](_0x43a178[_0x5973ee(0x437)]),{'groupJid':_0x43a178['groupJid'],'leave':!0x0};}catch(_0x7aff94){throw new w(_0x5973ee(0x4fd),_0x7aff94[_0x5973ee(0x506)]());}}async[a0_0x1ec271(0x36d)](_0x58f762){const _0x20cc8a=a0_0x1ec271;return await this[_0x20cc8a(0x272)](_0x58f762['number'],{'poll':{'name':_0x58f762[_0x20cc8a(0x36d)]?.[_0x20cc8a(0x49a)],'selectableCount':_0x58f762[_0x20cc8a(0x36d)][_0x20cc8a(0x412)],'values':_0x58f762[_0x20cc8a(0x36d)]['values']}},_0x58f762?.[_0x20cc8a(0x44e)]);}async[a0_0x1ec271(0x53e)](_0x38b31b){const _0x5b4635=a0_0x1ec271;return await this['sendMessageWithTyping'](_0x38b31b[_0x5b4635(0x396)],{'listMessage':{'title':_0x38b31b[_0x5b4635(0x53e)]['title'],'description':_0x38b31b[_0x5b4635(0x53e)][_0x5b4635(0x457)],'buttonText':_0x38b31b['listMessage']?.[_0x5b4635(0x694)],'footerText':_0x38b31b[_0x5b4635(0x53e)]?.[_0x5b4635(0x1c8)],'sections':_0x38b31b[_0x5b4635(0x53e)]['sections'],'listType':0x2}},_0x38b31b?.[_0x5b4635(0x44e)]);}async[a0_0x1ec271(0x16c)](_0x2d7d39){const _0x157171=a0_0x1ec271;let _0x27818f;if(_0x2d7d39[_0x157171(0x16c)]['type']===_0x157171(0x846)){let _0x369726=_0x2d7d39['menuMessage'][_0x157171(0x308)]['indexOf']('\x0a'),_0x197f03='',_0x505f75='';_0x369726!==-0x1?(_0x197f03=_0x2d7d39[_0x157171(0x16c)][_0x157171(0x308)][_0x157171(0x590)](0x0,_0x369726)[_0x157171(0x39e)](),_0x505f75=_0x2d7d39[_0x157171(0x16c)][_0x157171(0x308)]['substring'](_0x369726+0x1)):_0x505f75=_0x2d7d39[_0x157171(0x16c)][_0x157171(0x308)];let _0x67dc7a=_0x2d7d39[_0x157171(0x16c)][_0x157171(0x512)][_0x157171(0x3c7)](_0x53ae44=>_0x53ae44['trim']()!==''),_0x469745=this['createSectionsFromValues'](_0x67dc7a);_0x27818f={'listMessage':{'title':_0x197f03,'description':_0x505f75,'buttonText':_0x2d7d39[_0x157171(0x16c)][_0x157171(0x694)]||_0x157171(0x4d1),'footerText':_0x2d7d39[_0x157171(0x16c)]['footerText'],'sections':_0x469745,'listType':0x2}};}else{if(_0x2d7d39[_0x157171(0x16c)]['type']===_0x157171(0x661)){let _0x2d69e5=_0x2d7d39[_0x157171(0x16c)][_0x157171(0x512)][_0x157171(0x3c7)](_0x2536a4=>!(_0x2536a4[_0x157171(0x63a)]('[')&&_0x2536a4[_0x157171(0x23c)](']'))&&_0x2536a4[_0x157171(0x39e)]()!=='')[_0x157171(0x540)](_0x5859ab=>_0x5859ab[_0x157171(0x1d7)]('\x0a')[0x0]);_0x27818f={'poll':{'name':_0x2d7d39[_0x157171(0x16c)][_0x157171(0x308)],'selectableCount':_0x2d7d39['menuMessage'][_0x157171(0x412)]||0x1,'values':_0x2d69e5}};}}return await this[_0x157171(0x272)](_0x2d7d39[_0x157171(0x396)],_0x27818f,_0x2d7d39?.[_0x157171(0x44e)]);}[a0_0x1ec271(0x634)](_0x3ca5f4){const _0x1bd94a=a0_0x1ec271;let _0x1a0009=[],_0x55ad40={'rows':[]};return _0x3ca5f4['forEach'](_0x43d5ff=>{const _0x4cb807=a0_0x37f8;if(_0x43d5ff[_0x4cb807(0x63a)]('[')&&_0x43d5ff['endsWith'](']'))_0x55ad40['rows'][_0x4cb807(0x710)]>0x0&&_0x1a0009[_0x4cb807(0x474)](_0x55ad40),_0x55ad40={'title':_0x43d5ff[_0x4cb807(0x19a)](0x1,-0x1),'rows':[]};else{let _0x821058=_0x43d5ff[_0x4cb807(0x1d7)]('\x0a')['map'](_0x4034fe=>_0x4034fe[_0x4cb807(0x39e)]()),_0x5469e9=_0x821058[0x0],_0xa62238=_0x821058[0x1]||null,_0x520919=_0x821058[0x2]||_0x5469e9;_0x55ad40['rows'][_0x4cb807(0x474)]({'title':_0x5469e9,'description':_0xa62238,'rowId':_0x520919});}}),_0x55ad40[_0x1bd94a(0x212)][_0x1bd94a(0x710)]>0x0&&_0x1a0009[_0x1bd94a(0x474)](_0x55ad40),_0x1a0009;}async[a0_0x1ec271(0x4a0)](_0x487e22,_0x5da13f){const _0x13c6a3=a0_0x1ec271;if(await this[_0x13c6a3(0x3ef)](_0x487e22,!0x0)){let _0x50f7c3={'where':{'_id':_0x487e22['id']}},_0x2e35c2={'status':[_0x5da13f[_0x13c6a3(0x721)]][0x0]};try{let _0x2ba594=await this['repository'][_0x13c6a3(0x6db)][_0x13c6a3(0x5f2)](_0x50f7c3,_0x2e35c2,this[_0x13c6a3(0x47b)]['wuid']);_0x2ba594&&J(this[_0x13c6a3(0x33c)],'messages',{'message':_0x2ba594});}catch{}}}[a0_0x1ec271(0x350)](_0x26d21f){const _0xed56af=a0_0x1ec271;let _0x564dfb=[];return _0x26d21f['forEach'](_0x29df9e=>{const _0x1c8c3e=a0_0x37f8;_0x29df9e['title']&&_0x564dfb[_0x1c8c3e(0x474)]('['+_0x29df9e[_0x1c8c3e(0x373)]+']'),_0x29df9e[_0x1c8c3e(0x212)][_0x1c8c3e(0x359)](_0x418938=>{const _0x48bc6d=_0x1c8c3e;_0x564dfb[_0x48bc6d(0x474)](_0x418938['title']);});}),_0x564dfb[_0xed56af(0x487)]('|');}[a0_0x1ec271(0x6ee)](_0x1b640d){const _0xe8a8cf=a0_0x1ec271;let _0x2579eb=_0x1b640d[_0xe8a8cf(0x448)](/\\n/g,'\x0a')[_0xe8a8cf(0x1d7)]('\x0a')[_0xe8a8cf(0x3c7)](_0x233460=>_0x233460[_0xe8a8cf(0x537)](_0xe8a8cf(0x17d))||_0x233460[_0xe8a8cf(0x537)](_0xe8a8cf(0x393))),_0x2afbd2='';return _0x2579eb['forEach'](_0x21a3fc=>{const _0x221c60=_0xe8a8cf;let _0xc6b339=/TEL(?:.*):(.+)/,_0x4aba4d=/EMAIL(?:.*):(.+)/,_0x3ec7b2=_0x21a3fc[_0x221c60(0x199)](_0xc6b339),_0x39ac52=_0x21a3fc[_0x221c60(0x199)](_0x4aba4d);if(_0x3ec7b2){let _0x1a5478=_0x3ec7b2[0x1][_0x221c60(0x448)](/-| |\+|\(|\)/g,'')[_0x221c60(0x39e)]();_0x2afbd2+='Telefone:\x20'+_0x1a5478+'\x0a';}else{if(_0x39ac52){let _0x1d45fc=_0x39ac52[0x1][_0x221c60(0x39e)]();_0x2afbd2+=_0x221c60(0x5ee)+_0x1d45fc+'\x0a';}}}),_0x2afbd2[_0xe8a8cf(0x39e)]();}async[a0_0x1ec271(0x4ee)](_0x1d6168,_0xf1089d,_0x3ad684){const _0x48e198=a0_0x1ec271;if(!_0x1d6168[_0x48e198(0x1d1)])return;let _0x6155d8=_0xf1089d[_0x48e198(0x669)][_0x48e198(0x560)][_0x48e198(0x448)](/:\d{1,2}@/g,'@'),_0x1f83b8=_0xf1089d['key'][_0x48e198(0x794)],_0x5ee784=_0x6155d8[_0x48e198(0x23c)](_0x48e198(0x802)),_0x4a249b=_0xf1089d[_0x48e198(0x828)]?.[_0x48e198(0x308)]||_0xf1089d['message_normalized']?.['caption']||_0xf1089d[_0x48e198(0x828)]?.['vote']||_0xf1089d[_0x48e198(0x828)]?.[_0x48e198(0x49a)],_0x37be08={'lastmsg':_0xf1089d[_0x48e198(0x605)]||Date['now'](),'ephemeralExpiration':_0xf1089d[_0x48e198(0x75e)],'unreadcount':_0x1f83b8?0x0:0x1,..._0x1f83b8||_0x5ee784?{}:{'name':_0xf1089d[_0x48e198(0x42d)]},..._0x5ee784?{'group':_0x5ee784}:{},...!_0x1f83b8&&!_0x5ee784&&_0xf1089d['profilePictureUrl']?{'imagechat':_0xf1089d[_0x48e198(0x3e2)]}:{}},_0x3dbc01=await this['repository'][_0x48e198(0x21e)][_0x48e198(0x5ec)]({'where':{'_id':_0x6155d8}},_0x37be08,this[_0x48e198(0x47b)][_0x48e198(0x556)],{'new':!0x0,'upsert':!0x0});if(_0x3dbc01['imported']){let _0x411a72=await this[_0x48e198(0x739)]['label'][_0x48e198(0x741)]({'where':{}},this[_0x48e198(0x47b)][_0x48e198(0x556)]),_0xfc9d2c=new Set(_0x411a72[_0x48e198(0x540)](_0x3559e5=>_0x3559e5[_0x48e198(0x6dd)])),_0x48bf6c=(_0x3dbc01[_0x48e198(0x28c)]?.[_0x48e198(0x502)]||[])[_0x48e198(0x3c7)](_0x4e62bc=>_0xfc9d2c['has'](_0x4e62bc)),_0x17ea0a={'leadInfo.etiquetas':_0x48bf6c,'imported':!0x1};_0x3dbc01=await this[_0x48e198(0x739)]['chat']['updateOne']({'where':{'_id':_0x6155d8}},_0x17ea0a,this[_0x48e198(0x47b)][_0x48e198(0x556)]);for(let _0x415620 of _0x48bf6c)await this[_0x48e198(0x6b0)](_0x415620,_0x6155d8);}if(!_0x5ee784&&(!_0x3dbc01?.[_0x48e198(0x28c)]||!_0x3dbc01[_0x48e198(0x28c)][_0x48e198(0x827)])&&_0xf1089d[_0x48e198(0x42d)]&&!_0x1f83b8&&(_0x3dbc01=await this[_0x48e198(0x739)]['chat'][_0x48e198(0x5ec)]({'where':{'_id':_0x6155d8}},{'leadInfo.nome':_0xf1089d[_0x48e198(0x42d)]},this['instance'][_0x48e198(0x556)],{'new':!0x0,'upsert':!0x0})),_0x3ad684===_0x48e198(0x425)&&_0x1f83b8&&this[_0x48e198(0x5c9)]?.[_0x48e198(0x47c)][_0x48e198(0x785)]&&!_0x4a249b['startsWith'](this[_0x48e198(0x5c9)]?.['flowConfig'][_0x48e198(0x26e)])){let _0x16daae=(this[_0x48e198(0x5c9)]?.['flowConfig'][_0x48e198(0x5f6)]||0x5)*0xea60,_0x5d5e29=Date[_0x48e198(0x65d)]()+_0x16daae;_0x3dbc01?.[_0x48e198(0x28c)]?.[_0x48e198(0x2e8)]===0x0||(await this[_0x48e198(0x739)]['chat']['updateOne']({'where':{'_id':_0x6155d8}},{'leadInfo.desativadoFluxoAte':_0x5d5e29},this[_0x48e198(0x47b)]['wuid'],{'new':!0x0,'upsert':!0x1}),this['logger'][_0x48e198(0x641)](this[_0x48e198(0x33c)]+'\x20('+this[_0x48e198(0x47b)]['wuid']+_0x48e198(0x575)+_0x5d5e29+'.'));}if(_0x3dbc01)J(this[_0x48e198(0x33c)],_0x48e198(0x5e3),{'chat':_0x3dbc01});else{this['logger'][_0x48e198(0x409)](this[_0x48e198(0x33c)]+'\x20('+this['instance'][_0x48e198(0x556)]+_0x48e198(0x84b));return;}if(!this[_0x48e198(0x5c9)]?.[_0x48e198(0x47c)][_0x48e198(0x785)])return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x48e198(0x47b)][_0x48e198(0x556)]+_0x48e198(0x66f)),null;if(_0x3dbc01['_id']['includes']('@g.us')&&this[_0x48e198(0x5c9)]?.[_0x48e198(0x47c)]['ignoreGroups']===!0x0)return this[_0x48e198(0x24a)][_0x48e198(0x641)](this[_0x48e198(0x33c)]+'\x20('+this[_0x48e198(0x47b)]['wuid']+_0x48e198(0x4e1)),null;if(_0x3dbc01['leadInfo']){if(_0x3dbc01[_0x48e198(0x28c)][_0x48e198(0x2e8)]===0x0||_0x3dbc01[_0x48e198(0x28c)][_0x48e198(0x34c)])return this[_0x48e198(0x24a)]['verbose'](this[_0x48e198(0x33c)]+'\x20('+this[_0x48e198(0x47b)][_0x48e198(0x556)]+_0x48e198(0x4b0)+_0x6155d8+_0x48e198(0x744)),null;if(_0x3dbc01[_0x48e198(0x28c)][_0x48e198(0x2e8)]>Date[_0x48e198(0x65d)]()&&!_0xf1089d[_0x48e198(0x828)]?.['vote'])return this[_0x48e198(0x24a)][_0x48e198(0x641)](this[_0x48e198(0x33c)]+'\x20('+this[_0x48e198(0x47b)][_0x48e198(0x556)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x3dbc01[_0x48e198(0x28c)]['desativadoFluxoAte'])[_0x48e198(0x305)]()+_0x48e198(0x744)),null;}this[_0x48e198(0x24a)][_0x48e198(0x641)](this[_0x48e198(0x33c)]+'\x20('+this['instance']['wuid']+_0x48e198(0x7f1)),this[_0x48e198(0x534)](_0x3ad684,_0xf1089d);}async[a0_0x1ec271(0x4e3)](_0x19e1f4,_0x3d8f3e){const _0xbb7af4=a0_0x1ec271;if(_0x3d8f3e[_0xbb7af4(0x1d1)]){let _0x17276a=_0x19e1f4['map'](async _0x2b666c=>{const _0x45c044=_0xbb7af4;try{let _0x50504c={'_id':_0x2b666c['_id'],'owner':_0x2b666c[_0x45c044(0x210)],'lastcache':0x0};if(_0x2b666c[_0x45c044(0x33d)]!==null&&(_0x50504c[_0x45c044(0x33d)]=_0x2b666c[_0x45c044(0x33d)]),_0x2b666c[_0x45c044(0x49a)]!==null&&(_0x50504c[_0x45c044(0x49a)]=_0x2b666c[_0x45c044(0x49a)]),_0x2b666c[_0x45c044(0x7f5)]!==null&&(_0x50504c[_0x45c044(0x7f5)]=_0x2b666c[_0x45c044(0x7f5)]),_0x2b666c['imagechat']!==null&&(_0x50504c[_0x45c044(0x53f)]=_0x2b666c[_0x45c044(0x53f)]),_0x2b666c[_0x45c044(0x53f)]===null&&(_0x50504c[_0x45c044(0x53f)]=_0x45c044(0x51b)),_0x2b666c['lastmsg']!==null&&(_0x50504c[_0x45c044(0x3ee)]=_0x2b666c[_0x45c044(0x3ee)]),_0x2b666c['archived']!==null&&(_0x50504c['archived']=_0x2b666c[_0x45c044(0x81e)]),_0x2b666c['unreadcount']!==null&&(_0x50504c[_0x45c044(0x70c)]=_0x2b666c[_0x45c044(0x70c)]),Object[_0x45c044(0x69d)](_0x50504c)[_0x45c044(0x710)]>0x0)return await this[_0x45c044(0x739)][_0x45c044(0x21e)][_0x45c044(0x5ec)]({'where':{'_id':_0x2b666c[_0x45c044(0x6dd)]}},_0x50504c,this[_0x45c044(0x47b)][_0x45c044(0x556)]);}catch(_0x3798ff){return console[_0x45c044(0x409)](_0x45c044(0x522)+_0x2b666c[_0x45c044(0x6dd)]+':',_0x3798ff),null;}}),_0x3106f4=(await Promise[_0xbb7af4(0x60d)](_0x17276a))[_0xbb7af4(0x3c7)](_0x46f118=>_0x46f118!==null)['length'];this['logger'][_0xbb7af4(0x641)](this[_0xbb7af4(0x33c)]+'\x20('+this[_0xbb7af4(0x47b)]['wuid']+_0xbb7af4(0x355)+_0x3106f4+'\x20chats\x20de\x20'+this[_0xbb7af4(0x47b)]['wuid']+_0xbb7af4(0x53d));}}async[a0_0x1ec271(0x7ef)](_0x3a12b0){const _0x1cc7b7=a0_0x1ec271;this[_0x1cc7b7(0x24a)][_0x1cc7b7(0x641)](this['instanceName']+'\x20('+this[_0x1cc7b7(0x47b)]['wuid']+_0x1cc7b7(0x60e));let _0x4df578={'readMessages':[{'remoteJid':_0x3a12b0[_0x1cc7b7(0x55e)][_0x1cc7b7(0x37e)][_0x1cc7b7(0x669)]['remoteJid'],'fromMe':_0x3a12b0['chatLog'][_0x1cc7b7(0x37e)][_0x1cc7b7(0x669)]['fromMe'],'id':_0x3a12b0[_0x1cc7b7(0x55e)][_0x1cc7b7(0x37e)][_0x1cc7b7(0x669)]['id']}]};await this[_0x1cc7b7(0x617)](_0x4df578);}async['StartBot'](_0x19887b,_0x41b446){const _0x54dc08=a0_0x1ec271;try{let {key:_0x16d725,message_normalized:_0x315d3d}=_0x41b446,_0x57349c=_0x315d3d,_0x46aa84=_0x315d3d[_0x54dc08(0x308)]||_0x315d3d[_0x54dc08(0x2d9)]||_0x315d3d[_0x54dc08(0x4ce)]||_0x315d3d['name'],_0x4654de=_0x16d725[_0x54dc08(0x560)],_0x4c2878;if(_0x57349c['key'][_0x54dc08(0x794)]&&_0x46aa84[_0x54dc08(0x39e)]()!==this[_0x54dc08(0x5c9)]?.[_0x54dc08(0x47c)][_0x54dc08(0x822)][_0x54dc08(0x39e)]())return this[_0x54dc08(0x24a)][_0x54dc08(0x641)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.'),null;if(_0x57349c[_0x54dc08(0x669)][_0x54dc08(0x794)]&&_0x46aa84['trim']()===this['AutomateSystem']?.[_0x54dc08(0x47c)][_0x54dc08(0x822)][_0x54dc08(0x39e)]()){this['logger'][_0x54dc08(0x641)](this['instanceName']+'\x20('+this[_0x54dc08(0x47b)][_0x54dc08(0x556)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo');let _0x3989c5=await this[_0x54dc08(0x739)]['flowConversation'][_0x54dc08(0x741)]({'remoteJid':_0x4654de,'status':'open'},this[_0x54dc08(0x47b)]['wuid']);this[_0x54dc08(0x24a)][_0x54dc08(0x641)](this[_0x54dc08(0x33c)]+'\x20('+this[_0x54dc08(0x47b)][_0x54dc08(0x556)]+_0x54dc08(0x200)+_0x3989c5);let _0x404e4e=Date[_0x54dc08(0x65d)](),_0x22b7ed;return this['AutomateSystem']?.[_0x54dc08(0x47c)][_0x54dc08(0x765)]===0x0?_0x22b7ed={'stoppedUntil':_0x404e4e+0x7591f6200}:_0x22b7ed={'stoppedUntil':_0x404e4e+this[_0x54dc08(0x5c9)]?.['flowConfig'][_0x54dc08(0x765)]*0x3c*0x3e8},this[_0x54dc08(0x24a)][_0x54dc08(0x641)](this[_0x54dc08(0x33c)]+'\x20('+this[_0x54dc08(0x47b)][_0x54dc08(0x556)]+'):\x20Campos\x20a\x20serem\x20atualizados:'+_0x22b7ed),this[_0x54dc08(0x548)](_0x4c2878,_0x22b7ed[_0x54dc08(0x4f9)]),null;}if(_0x46aa84&&_0x46aa84[_0x54dc08(0x63a)](this[_0x54dc08(0x5c9)]?.[_0x54dc08(0x47c)][_0x54dc08(0x26e)])&&_0x46aa84['length']>0x4){let _0x33fe7f=await this['repository'][_0x54dc08(0x630)][_0x54dc08(0x1a0)]({'where':{'startCommandWord':_0x46aa84}},this[_0x54dc08(0x47b)]['wuid']);if(this[_0x54dc08(0x24a)][_0x54dc08(0x641)](this[_0x54dc08(0x33c)]+'\x20('+this[_0x54dc08(0x47b)]['wuid']+_0x54dc08(0x695)),_0x33fe7f)_0x4c2878=await this[_0x54dc08(0x375)](_0x33fe7f,_0x57349c['key'],_0x57349c);else return this[_0x54dc08(0x24a)][_0x54dc08(0x641)](this['instanceName']+'\x20('+this[_0x54dc08(0x47b)]['wuid']+_0x54dc08(0x5c6)),null;}else _0x4c2878=await this[_0x54dc08(0x614)](_0x4654de,_0x57349c);if(_0x4c2878){this['logger'][_0x54dc08(0x641)](this[_0x54dc08(0x33c)]+'\x20('+this[_0x54dc08(0x47b)][_0x54dc08(0x556)]+_0x54dc08(0x80b)),!_0x16d725[_0x54dc08(0x794)]&&_0x4c2878['readMessages']&&this[_0x54dc08(0x7ef)](_0x4c2878);let _0x446786=await this[_0x54dc08(0x7e4)](_0x4c2878);_0x446786&&await this['processblock'](_0x4c2878,_0x446786);}}catch(_0x22d86e){this['logger'][_0x54dc08(0x409)](this[_0x54dc08(0x33c)]+'\x20('+this[_0x54dc08(0x47b)]['wuid']+_0x54dc08(0x75b)+(_0x22d86e instanceof Error?_0x22d86e[_0x54dc08(0x6db)]:JSON['stringify'](_0x22d86e,null,0x2)));}}[a0_0x1ec271(0x49f)](_0x416b02,_0x474d70='',_0x4217ca={}){const _0x227a4c=a0_0x1ec271;return typeof _0x416b02!=_0x227a4c(0x4b1)||_0x416b02===null?(_0x474d70&&(_0x4217ca[_0x474d70]=_0x416b02),_0x4217ca):(Object[_0x227a4c(0x720)](_0x416b02)[_0x227a4c(0x359)](([_0x66f6ba,_0x288605])=>{const _0x590b12=_0x227a4c;let _0x10e010=_0x474d70?_0x474d70+'.'+_0x66f6ba:'_'+_0x66f6ba;Array[_0x590b12(0x583)](_0x288605)?_0x288605[_0x590b12(0x359)]((_0x488bb6,_0x4e2b3b)=>{const _0x3a5136=_0x590b12;this[_0x3a5136(0x49f)](_0x488bb6,_0x10e010+'['+_0x4e2b3b+']',_0x4217ca);}):typeof _0x288605==_0x590b12(0x4b1)&&_0x288605!==null?this[_0x590b12(0x49f)](_0x288605,_0x10e010,_0x4217ca):_0x4217ca[_0x10e010]=String(_0x288605);}),console[_0x227a4c(0x55f)](_0x227a4c(0x53a),_0x4217ca),_0x4217ca);}[a0_0x1ec271(0x51a)](_0x366571){const _0x3b12ae=a0_0x1ec271;let _0x52cc4f={};for(let _0x172e09 of _0x366571)typeof _0x172e09[_0x3b12ae(0x49a)]==_0x3b12ae(0x186)&&typeof _0x172e09['value']==_0x3b12ae(0x186)&&(_0x52cc4f[_0x172e09['name']]=_0x172e09[_0x3b12ae(0x2d2)]);return _0x52cc4f;}async[a0_0x1ec271(0x7e4)](_0x10da92){const _0x3f71d4=a0_0x1ec271;if(!this[_0x3f71d4(0x5c9)]?.[_0x3f71d4(0x47c)]['enabled']||_0x10da92[_0x3f71d4(0x721)]!==_0x3f71d4(0x296)&&_0x10da92[_0x3f71d4(0x4a4)]==='')return null;let _0xc5a7d0=_0x10da92[_0x3f71d4(0x55e)][_0x3f71d4(0x4c2)]||_0x3f71d4(0x845);typeof _0x10da92[_0x3f71d4(0x55e)][_0x3f71d4(0x1c4)]>'u'&&(_0x10da92['chatLog'][_0x3f71d4(0x1c4)]=!0x0);let _0x2ddf74=_0x10da92[_0x3f71d4(0x55e)][_0x3f71d4(0x1c4)];this[_0x3f71d4(0x24a)][_0x3f71d4(0x641)](this[_0x3f71d4(0x33c)]+'\x20('+this['instance'][_0x3f71d4(0x556)]+_0x3f71d4(0x67c)+_0xc5a7d0+_0x3f71d4(0x588)+_0x2ddf74);let _0x4a2ca0=_0xc5a7d0===_0x3f71d4(0x845)?_0x10da92['blocks'][_0x3f71d4(0x741)](_0x1aa530=>_0x1aa530[_0x3f71d4(0x325)]===_0x3f71d4(0x845)):_0x10da92['blocks'][_0x3f71d4(0x741)](_0x32403f=>_0x32403f[_0x3f71d4(0x6dd)][_0x3f71d4(0x506)]()===_0xc5a7d0[_0x3f71d4(0x506)]());if(!_0x4a2ca0)return this[_0x3f71d4(0x24a)][_0x3f71d4(0x409)](this['instanceName']+'\x20('+this[_0x3f71d4(0x47b)][_0x3f71d4(0x556)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0xc5a7d0),null;let _0x4501ca={'_pushName':_0x10da92[_0x3f71d4(0x55e)]['lastReceivedMessage'][_0x3f71d4(0x42d)],..._0x10da92['chatLog'][_0x3f71d4(0x2f1)]},_0x1ec790=null;if(_0x10da92[_0x3f71d4(0x4a4)]){let _0x395ab9=_0x10da92[_0x3f71d4(0x55e)][_0x3f71d4(0x37e)][_0x3f71d4(0x4ce)],_0x51d803=_0x10da92[_0x3f71d4(0x2fe)][_0x3f71d4(0x741)](_0x4ff3a9=>_0x4ff3a9[_0x3f71d4(0x615)]===_0x395ab9);if(_0x51d803){let _0x4f8c7b=_0x51d803[_0x3f71d4(0x509)];if(_0x1ec790=_0x10da92['blocks'][_0x3f71d4(0x741)](_0x3ce6e7=>_0x3ce6e7[_0x3f71d4(0x496)]===_0x4f8c7b&&_0x3ce6e7['order']===0x1),_0x4a2ca0[_0x3f71d4(0x5e9)]['pollOnReplyDelete']){let _0x5ec741={'id':_0x10da92[_0x3f71d4(0x4a4)],'remoteJid':_0x10da92[_0x3f71d4(0x560)],'fromMe':!0x0};await this[_0x3f71d4(0x78d)](_0x5ec741);}if(_0x4a2ca0[_0x3f71d4(0x5e9)][_0x3f71d4(0x1ef)]&&_0x4a2ca0[_0x3f71d4(0x5e9)][_0x3f71d4(0x613)]&&_0x4a2ca0[_0x3f71d4(0x5e9)][_0x3f71d4(0x783)]===_0x3f71d4(0x661)){let _0x778b0e={'number':_0x10da92['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x10da92['waitingMenu_text']+'\x0a*Você\x20respondeu*:\x0a'+_0x395ab9}};await this[_0x3f71d4(0x16e)](_0x778b0e);}_0x10da92[_0x3f71d4(0x721)]=_0x3f71d4(0x296),_0x10da92['waitingMenu_id']='',_0x10da92[_0x3f71d4(0x337)]='',_0x10da92['waitingMenu_replyOptions']=[];}else{this[_0x3f71d4(0x24a)][_0x3f71d4(0x641)](this[_0x3f71d4(0x33c)]+'\x20('+this[_0x3f71d4(0x47b)][_0x3f71d4(0x556)]+_0x3f71d4(0x254));let _0x292cc6={'activatedCount':_0x10da92[_0x3f71d4(0x55e)]['blockLogs'][_0x3f71d4(0x3c7)](_0x113adb=>String(_0x113adb['blockId'])===String(_0xc5a7d0))['length'],'moreLogs':[_0x3f71d4(0x65f)]};if(_0x4a2ca0['uazapi'][_0x3f71d4(0x6a1)]){let _0x2f089b={'number':_0x10da92[_0x3f71d4(0x560)],'options':{'delay':0x0},'textMessage':{'text':_0x4a2ca0[_0x3f71d4(0x5e9)]['pollErrorMessage']}};await this['textMessage'](_0x2f089b);}if(_0x4a2ca0['maxActives']!==void 0x0&&_0x292cc6['activatedCount']>=_0x4a2ca0[_0x3f71d4(0x5f7)]){let _0x8a0f26=Date['now'](),_0x2f7d40=_0x4a2ca0[_0x3f71d4(0x403)]??0xa;isNaN(_0x2f7d40)&&(_0x2f7d40=0xa);let _0xccf2c=_0x8a0f26+_0x2f7d40*0x3c*0x3e8;_0x292cc6[_0x3f71d4(0x6c7)]=_0xccf2c,_0x292cc6[_0x3f71d4(0x6de)][_0x3f71d4(0x474)](_0x3f71d4(0x518)),this[_0x3f71d4(0x548)](_0x10da92,_0xccf2c),_0x10da92[_0x3f71d4(0x4a4)]='',_0x10da92['waitingMenu_text']='',_0x10da92[_0x3f71d4(0x2fe)]=[];}return this['updateConversation'](_0x10da92,_0x4a2ca0,_0x292cc6,!0x0),null;}}if(_0x2ddf74&&_0x4a2ca0[_0x3f71d4(0x509)]&&!_0x10da92[_0x3f71d4(0x4a4)]){let _0x575a7b=_0x10da92['blocks'][_0x3f71d4(0x3c7)](_0x3df2a9=>_0x3df2a9[_0x3f71d4(0x496)][_0x3f71d4(0x506)]()===_0x4a2ca0[_0x3f71d4(0x509)]['toString']())[_0x3f71d4(0x59a)]((_0x2a3818,_0x17460d)=>_0x2a3818['order']-_0x17460d[_0x3f71d4(0x4a2)]);_0x575a7b[_0x3f71d4(0x710)]>0x0&&(_0x1ec790=_0x575a7b[0x0]);}if(!_0x1ec790){let _0x5c517f=_0x4a2ca0[_0x3f71d4(0x496)],_0x42b384=_0x10da92[_0x3f71d4(0x566)][_0x3f71d4(0x3c7)](_0x645c49=>_0x645c49['groupId']===_0x5c517f&&_0x645c49['order']>_0x4a2ca0[_0x3f71d4(0x4a2)])[_0x3f71d4(0x59a)]((_0x16621f,_0x45ef08)=>_0x16621f[_0x3f71d4(0x4a2)]-_0x45ef08[_0x3f71d4(0x4a2)]);_0x42b384['length']>0x0&&(_0x1ec790=_0x42b384[0x0]);}if(!_0x1ec790)return _0x10da92['status']=_0x3f71d4(0x7ce),null;_0x10da92['chatLog'][_0x3f71d4(0x2f1)]=_0x4501ca;let _0x175878=JSON[_0x3f71d4(0x49c)](JSON['stringify'](_0x1ec790));return this[_0x3f71d4(0x4f2)](_0x175878,_0x10da92['chatLog'][_0x3f71d4(0x2f1)]),_0x10da92[_0x3f71d4(0x55e)][_0x3f71d4(0x4c2)]=_0x175878[_0x3f71d4(0x6dd)],_0x10da92[_0x3f71d4(0x55e)][_0x3f71d4(0x1c4)]=!0x0,_0x175878;}[a0_0x1ec271(0x7e6)](_0x349c01,_0x5f143b){const _0x5cd184=a0_0x1ec271;return _0x349c01[_0x5cd184(0x448)](/\{\{([^}]+)\}\}/g,(_0x12d567,_0x2f956a)=>_0x5f143b[_0x2f956a]||'');}[a0_0x1ec271(0x4f2)](_0x1474da,_0x326def){const _0x1d509b=a0_0x1ec271;for(let _0x23b29b in _0x1474da)typeof _0x1474da[_0x23b29b]==_0x1d509b(0x186)?_0x1474da[_0x23b29b]=this['replaceVariables'](_0x1474da[_0x23b29b],_0x326def):typeof _0x1474da[_0x23b29b]==_0x1d509b(0x4b1)&&this[_0x1d509b(0x4f2)](_0x1474da[_0x23b29b],_0x326def);}async[a0_0x1ec271(0x7aa)](_0xe91d25,_0x1aea8a){const _0x15246f=a0_0x1ec271;let _0x59b5e3=_0x1aea8a[_0x15246f(0x6dd)];if(_0xe91d25[_0x15246f(0x55e)]&&_0xe91d25[_0x15246f(0x55e)][_0x15246f(0x46d)]){let _0x3ce05e=_0xe91d25[_0x15246f(0x55e)][_0x15246f(0x46d)]['filter'](_0x1d91ac=>String(_0x1d91ac['blockId'])===String(_0x59b5e3))[_0x15246f(0x456)]();if(_0x3ce05e&&_0x3ce05e[_0x15246f(0x409)]&&_0x1aea8a[_0x15246f(0x535)])return _0xe91d25[_0x15246f(0x721)]=_0x15246f(0x7ce),await this[_0x15246f(0x593)](_0xe91d25),null;}if(_0x1aea8a['type']===_0x15246f(0x5e9)&&_0x1aea8a[_0x15246f(0x5e9)][_0x15246f(0x50f)]==='sendPoll'&&_0xe91d25['waitingMenu_id'])return _0xe91d25[_0x15246f(0x55e)][_0x15246f(0x4c2)]=_0x59b5e3,await this['saveConversationToDatabase'](_0xe91d25),null;let _0x5af68d=await this[_0x15246f(0x7e4)](_0xe91d25);if(_0xe91d25[_0x15246f(0x55e)]&&_0xe91d25[_0x15246f(0x55e)][_0x15246f(0x46d)]){let _0x31ce52=_0xe91d25[_0x15246f(0x55e)][_0x15246f(0x46d)]['filter'](_0xe4b50b=>String(_0xe4b50b[_0x15246f(0x6e3)])===String(_0x59b5e3))[_0x15246f(0x710)];if(_0x1aea8a[_0x15246f(0x5f7)]!==void 0x0&&_0x31ce52>=_0x1aea8a[_0x15246f(0x5f7)]){let _0x57eb57=Date[_0x15246f(0x65d)](),_0x26ed64=_0x1aea8a[_0x15246f(0x403)]??0xa;isNaN(_0x26ed64)&&(_0x26ed64=0xa);let _0x306552=_0x57eb57+_0x26ed64*0x3c*0x3e8,_0x44f5ec={'newStoppedUntil':_0x306552};return this[_0x15246f(0x548)](_0xe91d25,_0x306552),this['updateConversation'](_0xe91d25,_0x1aea8a,_0x44f5ec,!0x0),null;}}_0x5af68d&&_0x5af68d[_0x15246f(0x325)]!==_0x15246f(0x5a5)&&await this[_0x15246f(0x32b)](_0xe91d25,_0x5af68d),_0x5af68d||await this['saveConversationToDatabase'](_0xe91d25),_0x5af68d&&_0x5af68d[_0x15246f(0x325)]==='save'&&(_0xe91d25[_0x15246f(0x55e)]['lastBlockId']=_0x59b5e3,await this[_0x15246f(0x593)](_0xe91d25));}async[a0_0x1ec271(0x32b)](_0x489d56,_0x1ee8e3){const _0x4a7940=a0_0x1ec271;try{let _0x59e47d=_0x1ee8e3['type'];this[_0x4a7940(0x24a)][_0x4a7940(0x641)](this[_0x4a7940(0x33c)]+'\x20('+this['instance'][_0x4a7940(0x556)]+_0x4a7940(0x24d)+_0x59e47d);let _0x5d473b={'uazapi':()=>this[_0x4a7940(0x7ee)](_0x489d56,_0x1ee8e3),'save':()=>this['saveTextReply'](_0x489d56,_0x1ee8e3),'stop':()=>this[_0x4a7940(0x822)](_0x489d56,_0x1ee8e3),'condition':()=>this['processConditions'](_0x489d56,_0x1ee8e3),'varedit':()=>this[_0x4a7940(0x58f)](_0x489d56,_0x1ee8e3),'apirequest':()=>this['processApiRequest'](_0x489d56,_0x1ee8e3),'goToFlow':()=>this[_0x4a7940(0x3f2)](_0x489d56,_0x1ee8e3)}[_0x59e47d];_0x5d473b&&await _0x5d473b();}catch(_0x738c43){this[_0x4a7940(0x24a)][_0x4a7940(0x409)](this[_0x4a7940(0x33c)]+'\x20('+this[_0x4a7940(0x47b)][_0x4a7940(0x556)]+_0x4a7940(0x1a1)+(_0x738c43 instanceof Error?_0x738c43[_0x4a7940(0x6db)]:JSON['stringify'](_0x738c43,null,0x2)));}}async[a0_0x1ec271(0x3f2)](_0x51d2f3,_0x21f674){const _0x4092fa=a0_0x1ec271;if(this[_0x4092fa(0x24a)][_0x4092fa(0x641)](this[_0x4092fa(0x33c)]+'\x20('+this[_0x4092fa(0x47b)][_0x4092fa(0x556)]+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x51d2f3||!_0x21f674)return this[_0x4092fa(0x24a)]['error'](this['instanceName']+'\x20('+this['instance'][_0x4092fa(0x556)]+_0x4092fa(0x3b1)),null;await this[_0x4092fa(0x59f)](_0x51d2f3,_0x21f674,{},!0x0,!0x0),console[_0x4092fa(0x55f)]('nextBlock:'),console[_0x4092fa(0x55f)](_0x21f674);let _0x3addca=_0x21f674[_0x4092fa(0x547)];console[_0x4092fa(0x55f)](_0x4092fa(0x3d7),_0x3addca),_0x51d2f3=await this[_0x4092fa(0x363)](_0x3addca,_0x51d2f3[_0x4092fa(0x560)],_0x51d2f3[_0x4092fa(0x55e)][_0x4092fa(0x2f1)]),this[_0x4092fa(0x24a)]['verbose'](this['instanceName']+'\x20('+this[_0x4092fa(0x47b)]['wuid']+_0x4092fa(0x722));let _0x380fdb=await this['NextBlock'](_0x51d2f3);_0x380fdb&&await this['processblock'](_0x51d2f3,_0x380fdb);}async[a0_0x1ec271(0x363)](_0x151ef4,_0x36e656,_0x51e8e7){const _0x5f2464=a0_0x1ec271;this[_0x5f2464(0x24a)][_0x5f2464(0x641)](this[_0x5f2464(0x33c)]+'\x20('+this[_0x5f2464(0x47b)][_0x5f2464(0x556)]+_0x5f2464(0x800));try{if(_0x151ef4=await this[_0x5f2464(0x739)]['flow'][_0x5f2464(0x1a0)]({'where':{'name':_0x151ef4}},this['instance'][_0x5f2464(0x556)]),!_0x151ef4)return this[_0x5f2464(0x24a)][_0x5f2464(0x409)](this[_0x5f2464(0x33c)]+'\x20('+this[_0x5f2464(0x47b)][_0x5f2464(0x556)]+_0x5f2464(0x514)),null;let _0x13a29d=require('mongodb')[_0x5f2464(0x394)],_0x300979=Date[_0x5f2464(0x65d)](),_0x494b4b=_0x5f2464(0x845),_0x22ee95={},_0x47495f={},_0x234f70={..._0x151ef4,'chatLog':null},_0x559df8={'lastReceivedMessage':_0x22ee95,'lastSendMessage':_0x47495f,'lastBlockId':_0x494b4b,'lastCondition':!0x0,'realVariables':_0x51e8e7};_0x234f70[_0x5f2464(0x55e)]=_0x559df8,_0x234f70[_0x5f2464(0x55e)][_0x5f2464(0x2f1)]={..._0x51e8e7},delete _0x234f70['_id'],_0x234f70[_0x5f2464(0x6dd)]=new _0x13a29d(),_0x234f70[_0x5f2464(0x653)]=_0x300979,_0x234f70[_0x5f2464(0x721)]=_0x5f2464(0x296),_0x234f70[_0x5f2464(0x560)]=_0x36e656;let _0x35059c=await this[_0x5f2464(0x739)][_0x5f2464(0x7ac)][_0x5f2464(0x5ec)](_0x234f70[_0x5f2464(0x6dd)],_0x234f70,this[_0x5f2464(0x47b)][_0x5f2464(0x556)]);return this[_0x5f2464(0x24a)][_0x5f2464(0x641)](this['instanceName']+'\x20('+this[_0x5f2464(0x47b)]['wuid']+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x35059c?_0x234f70:null;}catch(_0x38b7cc){throw this[_0x5f2464(0x24a)][_0x5f2464(0x409)](this[_0x5f2464(0x33c)]+'\x20('+this[_0x5f2464(0x47b)]['wuid']+_0x5f2464(0x30a)+(_0x38b7cc instanceof Error?_0x38b7cc[_0x5f2464(0x6db)]:JSON[_0x5f2464(0x742)](_0x38b7cc,null,0x2))),new w(_0x38b7cc[_0x5f2464(0x6db)]);}}async['processApiRequest'](_0x29984e,_0x517a5c){const _0x1ece17=a0_0x1ec271;let _0x52d38a,_0x1e8c64;try{let _0x3d008d=_0x517a5c[_0x1ece17(0x6ec)];if(!_0x3d008d||!_0x3d008d['url']||!_0x3d008d['method'])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0xa5eb34;([_0x1ece17(0x571),_0x1ece17(0x294),_0x1ece17(0x1db)]['some'](_0x37c1b1=>_0x3d008d[_0x1ece17(0x806)][_0x1ece17(0x537)](_0x37c1b1))||_0x3d008d[_0x1ece17(0x752)])&&(_0xa5eb34=_0x1ece17(0x4ba));let _0x19e3a5='\u205f',_0x340aa8;try{_0x340aa8=JSON[_0x1ece17(0x49c)](_0x3d008d[_0x1ece17(0x76b)][_0x1ece17(0x448)](new RegExp(_0x19e3a5,'g'),''));}catch(_0x39ff90){throw _0x39ff90;}let _0x2ff23b={'method':_0x3d008d[_0x1ece17(0x29a)],'url':_0x3d008d['url'],'headers':_0x3d008d[_0x1ece17(0x2bb)]||{},..._0x3d008d[_0x1ece17(0x29a)][_0x1ece17(0x6d4)]()!==_0x1ece17(0x2b6)&&_0x3d008d[_0x1ece17(0x76b)]?{'data':JSON[_0x1ece17(0x49c)](_0x3d008d[_0x1ece17(0x76b)]['replace'](new RegExp(_0x19e3a5,'g'),''))}:{},..._0xa5eb34&&{'responseType':_0xa5eb34}},_0x11f244=await(0x0,K['default'])(_0x2ff23b),_0x262e43=_0x11f244[_0x1ece17(0x50c)]['content-type'];if(_0x262e43&&_0x262e43[_0x1ece17(0x537)](_0x1ece17(0x5ed))||typeof _0x11f244['data']==_0x1ece17(0x186)){if(typeof _0x11f244[_0x1ece17(0x609)]==_0x1ece17(0x186)){let _0x4a97bf=_0x11f244[_0x1ece17(0x609)][_0x1ece17(0x448)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x1ece17(0x39e)]();try{_0x52d38a=JSON[_0x1ece17(0x49c)](_0x4a97bf);}catch(_0x35199a){console[_0x1ece17(0x409)](_0x1ece17(0x5d8)+_0x35199a[_0x1ece17(0x6db)]),_0x52d38a={'_apiResponse':_0x11f244[_0x1ece17(0x609)]};}}else _0x52d38a=_0x11f244[_0x1ece17(0x609)];let _0x75d7fd=_0x29984e['chatLog']['realVariables'],_0x88b2=this[_0x1ece17(0x49f)](_0x52d38a);return Object['assign'](_0x75d7fd,_0x88b2),_0x29984e['chatLog'][_0x1ece17(0x2f1)]=_0x75d7fd,_0x1e8c64={'error':!0x1,'apiResponse':_0x52d38a},this['updateConversation'](_0x29984e,_0x517a5c,_0x1e8c64),_0x52d38a;}if(_0x262e43&&(_0x262e43[_0x1ece17(0x537)]('application/octet-stream')||_0x262e43['includes'](_0x1ece17(0x23a))||_0x262e43['includes'](_0x1ece17(0x422))||_0x262e43[_0x1ece17(0x537)]('video'))){this[_0x1ece17(0x24a)][_0x1ece17(0x641)](this[_0x1ece17(0x33c)]+'\x20('+this[_0x1ece17(0x47b)]['wuid']+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0x262e43);let _0x56af28=(0x0,Lt['v4'])(),_0x440943='',_0x369b97={'image/jpeg':_0x1ece17(0x3fd),'image/png':_0x1ece17(0x657),'image/gif':_0x1ece17(0x562),'image/webp':_0x1ece17(0x724),'image/svg+xml':'.svg','audio/mpeg':'.mp3','audio/ogg':_0x1ece17(0x2a7),'audio/wav':'.wav','video/mp4':_0x1ece17(0x7d9),'video/webm':_0x1ece17(0x3ab),'video/ogg':'.ogv','text/plain':'.txt','application/pdf':_0x1ece17(0x6a6),'application/msword':'.doc','application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x1ece17(0x65b),'application/vnd.ms-excel':_0x1ece17(0x1e4),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x1ece17(0x5bb)};_0x369b97[_0x262e43]?(_0x440943=_0x369b97[_0x262e43],this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x1ece17(0x556)]+'):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20'+_0x440943)):(_0x440943='.error',this[_0x1ece17(0x24a)][_0x1ece17(0x641)](this[_0x1ece17(0x33c)]+'\x20('+this[_0x1ece17(0x47b)][_0x1ece17(0x556)]+_0x1ece17(0x2a8)+_0x440943)),_0x56af28+=_0x440943,this['logger'][_0x1ece17(0x641)](this[_0x1ece17(0x33c)]+'\x20('+this[_0x1ece17(0x47b)][_0x1ece17(0x556)]+_0x1ece17(0x4f0)+_0x56af28);let _0x4913a9=this[_0x1ece17(0x7b9)][_0x1ece17(0x651)](_0x1ece17(0x7df))[_0x1ece17(0x77a)];if(!_0x4913a9){let _0x313666=this[_0x1ece17(0x7b9)][_0x1ece17(0x651)](_0x1ece17(0x663));_0x4913a9=_0x1ece17(0x71d)+(_0x313666&&_0x313666[_0x1ece17(0x73e)][_0x1ece17(0x1d7)]('/')[0x4]);}let _0x3828d5=Buffer[_0x1ece17(0x445)](_0x11f244['data']);await this['saveMediaToFile'](_0x3828d5,_0x56af28);let _0x1b2c5f=_0x1ece17(0x461)+_0x56af28;_0x1b2c5f=''+_0x4913a9+_0x1b2c5f,_0x52d38a={'fileUrl':_0x1b2c5f},_0x29984e[_0x1ece17(0x55e)]['realVariables'][_0x1ece17(0x43b)]=_0x1b2c5f;let _0x4814fb=_0x29984e['chatLog']['realVariables'],_0x37cc92=this[_0x1ece17(0x49f)](_0x52d38a);return Object[_0x1ece17(0x7ad)](_0x4814fb,_0x37cc92),_0x29984e[_0x1ece17(0x55e)][_0x1ece17(0x2f1)]=_0x4814fb,_0x1e8c64={'error':!0x1,'apiResponse':{'fileUrl':_0x1b2c5f}},this[_0x1ece17(0x59f)](_0x29984e,_0x517a5c,_0x1e8c64),_0x52d38a;}}catch(_0xb8ca83){console['error']('Erro\x20ao\x20processar\x20a\x20chamada\x20API:',_0xb8ca83['message']),_0xb8ca83[_0x1ece17(0x818)]&&(_0x52d38a=_0xb8ca83[_0x1ece17(0x818)][_0x1ece17(0x609)]);let _0x24817d=_0x29984e[_0x1ece17(0x55e)][_0x1ece17(0x2f1)],_0x26f2e5=this['flattenObject'](_0x52d38a);return Object[_0x1ece17(0x7ad)](_0x24817d,_0x26f2e5),_0x29984e['chatLog'][_0x1ece17(0x2f1)]=_0x24817d,_0x1e8c64={'error':!0x0,'errorLog':_0xb8ca83['toString'](),'apiResponse':_0x52d38a},this[_0x1ece17(0x59f)](_0x29984e,_0x517a5c,_0x1e8c64),{'success':!0x1};}}[a0_0x1ec271(0x460)](_0x416445,_0x41c1ae){const _0x1492b9=a0_0x1ec271;let _0x18d46b=_0x5c8097=>{const _0x5c5f10=a0_0x37f8;let _0x1c0399=_0x5c8097[_0x5c5f10(0x448)](/[^0-9.,-]/g,'')['replace'](',','.'),_0x1aa746=parseFloat(_0x1c0399);return isNaN(_0x1aa746)?null:_0x1aa746;},_0xdf5064=_0x41c1ae[_0x1492b9(0x561)],_0x407cfd=_0x41c1ae[_0x1492b9(0x5da)];typeof _0xdf5064=='string'&&(_0xdf5064=this[_0x1492b9(0x7e6)](_0xdf5064,_0x416445['chatLog'][_0x1492b9(0x2f1)])??''),typeof _0x407cfd==_0x1492b9(0x186)&&(_0x407cfd=this[_0x1492b9(0x7e6)](_0x407cfd,_0x416445['chatLog'][_0x1492b9(0x2f1)])??'');let _0x1bff58=null;if(!_0x41c1ae[_0x1492b9(0x2ab)])return null;switch(this[_0x1492b9(0x24a)][_0x1492b9(0x641)](this[_0x1492b9(0x33c)]+'\x20('+this[_0x1492b9(0x47b)][_0x1492b9(0x556)]+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0xdf5064),this[_0x1492b9(0x24a)][_0x1492b9(0x641)](this[_0x1492b9(0x33c)]+'\x20('+this[_0x1492b9(0x47b)][_0x1492b9(0x556)]+_0x1492b9(0x1cc)+_0x407cfd),_0x41c1ae[_0x1492b9(0x2ab)]){case'+':case'-':case'*':case'/':let _0xec53c7=_0x18d46b(_0xdf5064||'0'),_0x5e0e0f=_0x18d46b(_0x407cfd||'0');if(_0xec53c7===null)return null;switch(_0x41c1ae[_0x1492b9(0x2ab)]){case'+':_0x1bff58=_0xec53c7+(_0x5e0e0f??0x0);break;case'-':_0x1bff58=_0xec53c7-(_0x5e0e0f??0x0);break;case'*':_0x1bff58=_0xec53c7*(_0x5e0e0f??0x1);break;case'/':_0x5e0e0f!==0x0&&(_0x1bff58=_0xec53c7/(_0x5e0e0f??0x1));break;}break;case _0x1492b9(0x5ff):case _0x1492b9(0x6c5):let _0x115101=_0x407cfd,_0xd6d8b3=_0x41c1ae[_0x1492b9(0x3cd)];if(typeof _0xd6d8b3==_0x1492b9(0x186)&&(_0xd6d8b3=this[_0x1492b9(0x7e6)](_0xd6d8b3,_0x416445['chatLog'][_0x1492b9(0x2f1)])??''),_0x115101&&_0xd6d8b3!==void 0x0){let _0x53e698=_0x41c1ae[_0x1492b9(0x2ab)]==='findAndReplace'?new RegExp(_0x115101[_0x1492b9(0x448)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x115101,'g');_0x1bff58=_0xdf5064[_0x1492b9(0x448)](_0x53e698,_0xd6d8b3);}else console[_0x1492b9(0x596)](_0x1492b9(0x829));break;case _0x1492b9(0x626):_0x1bff58=_0x407cfd;break;case'extractRegex':let _0xc690c8=_0xdf5064['match'](new RegExp(_0x407cfd||''));_0x1bff58=_0xc690c8?_0xc690c8[0x0]:'';break;case _0x1492b9(0x20c):_0x1bff58=_0xdf5064[_0x1492b9(0x19a)](0x0,parseInt(_0x407cfd||'0'));break;case _0x1492b9(0x7bf):let _0x8fe2=parseInt(_0x407cfd||'0');_0x1bff58=_0xdf5064['slice'](_0xdf5064['length']-_0x8fe2);break;case'toBrazilianNumberFormat':let _0x440739=_0x18d46b(_0xdf5064),_0x2b223f=parseInt(_0x407cfd||'0');_0x2b223f=Math[_0x1492b9(0x340)](_0x2b223f),_0x440739!==null?_0x1bff58=_0x440739[_0x1492b9(0x305)]('pt-BR',{'minimumFractionDigits':_0x2b223f,'maximumFractionDigits':_0x2b223f}):(console[_0x1492b9(0x596)](_0x1492b9(0x62b)+_0xdf5064),_0x1bff58=null);break;case _0x1492b9(0x372):let _0x59b141=_0x18d46b(_0xdf5064);_0x59b141!==null?_0x1bff58=_0x59b141[_0x1492b9(0x305)]('pt-BR',{'style':_0x1492b9(0x7e7),'currency':_0x1492b9(0x220)}):(console[_0x1492b9(0x596)](_0x1492b9(0x182)+_0xdf5064),_0x1bff58=null);break;case'upperCase':_0x1bff58=_0xdf5064['toUpperCase']();break;case _0x1492b9(0x6ce):_0x1bff58=_0xdf5064[_0x1492b9(0x3d2)]();break;case _0x1492b9(0x581):_0x1bff58=_0xdf5064[_0x1492b9(0x1d7)]('\x20')[_0x1492b9(0x540)](_0x5e4a67=>_0x5e4a67[_0x1492b9(0x758)](0x0)[_0x1492b9(0x6d4)]()+_0x5e4a67[_0x1492b9(0x19a)](0x1)[_0x1492b9(0x3d2)]())[_0x1492b9(0x487)]('\x20');break;case _0x1492b9(0x1ae):_0x1bff58=_0xdf5064[_0x1492b9(0x39e)]();break;default:_0x1bff58=_0xdf5064;}return _0x1bff58!==null?_0x1bff58[_0x1492b9(0x506)]():null;}async[a0_0x1ec271(0x58f)](_0x3db7d4,_0x541b82){const _0x423966=a0_0x1ec271;try{let _0x172ab9=_0x3db7d4[_0x423966(0x568)]?.[_0x423966(0x3c7)](_0x5069bb=>_0x5069bb[_0x423966(0x6e3)]===_0x541b82[_0x423966(0x6dd)]?.[_0x423966(0x506)]())||[],_0x3e1bbe=_0x541b82['saveVariable'],_0x14ff52=null,_0xf0c9fb=[],_0x49ccd9=_0x3db7d4['chatLog'][_0x423966(0x2f1)][_0x3e1bbe];_0xf0c9fb[_0x423966(0x474)](_0x423966(0x7f4)+_0x49ccd9+'\x22');for(let _0x4f07c2 of _0x172ab9){_0x4f07c2[_0x423966(0x561)]=_0x49ccd9,_0x14ff52=_0x4f07c2['firstValue'];let _0x266b8f;try{_0x266b8f=this[_0x423966(0x460)](_0x3db7d4,_0x4f07c2);}catch(_0x237b2f){console[_0x423966(0x409)]('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x237b2f['message']);continue;}if(_0x266b8f!==null){let _0x2e422f='Operador:\x20\x22'+_0x4f07c2['editOperator']+'\x22',_0x3cc9f5=[_0x423966(0x372),_0x423966(0x278),_0x423966(0x6ce),_0x423966(0x581),'trimmed'];_0x4f07c2[_0x423966(0x2ab)]===_0x423966(0x5ff)||_0x4f07c2[_0x423966(0x2ab)]===_0x423966(0x6c5)?_0x2e422f+=_0x423966(0x338)+_0x4f07c2['secondValue']+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x4f07c2[_0x423966(0x3cd)]+'\x22':!_0x3cc9f5[_0x423966(0x537)](_0x4f07c2[_0x423966(0x2ab)])&&_0x4f07c2['secondValue']!==null&&_0x4f07c2[_0x423966(0x5da)]!==void 0x0&&(_0x2e422f+=_0x423966(0x2ae)+_0x4f07c2[_0x423966(0x5da)]+'\x22'),_0x2e422f+=',\x20resultado:\x20'+_0x266b8f+'.',_0xf0c9fb[_0x423966(0x474)](_0x2e422f);}_0x266b8f!==null&&(_0x49ccd9=_0x266b8f);}if(_0x3db7d4[_0x423966(0x55e)][_0x423966(0x2f1)]&&_0x541b82['saveVariable']){_0x3db7d4[_0x423966(0x55e)][_0x423966(0x2f1)][_0x541b82['saveVariable']]=_0x49ccd9;let _0x143cc9={'variable':_0x541b82[_0x423966(0x5ea)],'oldValue':_0x14ff52,'newValue':_0x49ccd9,'moreLogs':_0xf0c9fb};try{this[_0x423966(0x59f)](_0x3db7d4,_0x541b82,_0x143cc9);}catch(_0x369ab8){console[_0x423966(0x409)](_0x423966(0x49b)+_0x369ab8[_0x423966(0x6db)]);}}return _0x3e1bbe;}catch(_0x25c5b0){return console[_0x423966(0x409)](_0x423966(0x3f9)+_0x25c5b0[_0x423966(0x6db)]),null;}}async[a0_0x1ec271(0x777)](_0x5609b3,_0x39c754){const _0x3517d2=a0_0x1ec271;try{let _0x1e43b0=[],_0x2ffcf8=_0x5609b3[_0x3517d2(0x207)][_0x3517d2(0x3c7)](_0x1e9c7=>_0x1e9c7[_0x3517d2(0x6e3)]===_0x39c754['_id'][_0x3517d2(0x506)]()),_0x1840e3=null,_0x227a79=!0x1;for(let _0x3e2f7a of _0x2ffcf8){let _0x3bbaff=this['evaluateCondition'](_0x5609b3,_0x3e2f7a);_0x1e43b0[_0x3517d2(0x474)](_0x3517d2(0x5b6)+_0x3e2f7a['firstValue']+_0x3517d2(0x295)+_0x3e2f7a['expression']+_0x3517d2(0x3e0)+_0x3e2f7a['secondValue']+_0x3517d2(0x28a)+_0x3bbaff),_0x1840e3===null?_0x1840e3=_0x3bbaff:_0x3e2f7a[_0x3517d2(0x50b)]===_0x3517d2(0x76f)?(_0x1840e3=_0x1840e3&&_0x3bbaff,_0x3bbaff||(_0x227a79=!0x0)):_0x3e2f7a['OrAnd']==='or'&&(_0x227a79||(_0x1840e3=_0x1840e3||_0x3bbaff));}_0x1840e3===null&&(_0x1840e3=!0x0);let _0xfd740={'moreLogs':_0x1e43b0};_0x5609b3['chatLog']['lastCondition']=_0x1840e3,await this[_0x3517d2(0x59f)](_0x5609b3,_0x39c754,_0xfd740);}catch(_0x2b1baa){this[_0x3517d2(0x24a)]['error'](this['instanceName']+'\x20('+this['instance'][_0x3517d2(0x556)]+_0x3517d2(0x46c)+(_0x2b1baa instanceof Error?_0x2b1baa['message']:JSON[_0x3517d2(0x742)](_0x2b1baa,null,0x2)));}}['evaluateCondition'](_0x311699,_0x300826){const _0x54b441=a0_0x1ec271;let _0x5b9ec1=_0x300826['firstValue'],_0x3120f1=_0x300826[_0x54b441(0x5da)];typeof _0x5b9ec1==_0x54b441(0x186)&&(_0x5b9ec1=this[_0x54b441(0x7e6)](_0x5b9ec1,_0x311699['chatLog'][_0x54b441(0x2f1)])??''),typeof _0x3120f1==_0x54b441(0x186)&&(_0x3120f1=this[_0x54b441(0x7e6)](_0x3120f1,_0x311699['chatLog'][_0x54b441(0x2f1)])??'');try{switch(_0x300826['expression']){case'equal':return _0x5b9ec1===_0x3120f1;case'notEqual':return _0x5b9ec1!==_0x3120f1;case _0x54b441(0x6e7):return this[_0x54b441(0x6e7)](_0x5b9ec1,_0x3120f1);case _0x54b441(0x171):return!this[_0x54b441(0x6e7)](_0x5b9ec1,_0x3120f1);case _0x54b441(0x582):return parseFloat(_0x5b9ec1)>parseFloat(_0x3120f1);case _0x54b441(0x46a):return parseFloat(_0x5b9ec1)<parseFloat(_0x3120f1);case'notEmpty':return _0x5b9ec1!=='';case'empty':return _0x5b9ec1==='';case'matchRegex':return new RegExp(_0x3120f1)['test'](_0x5b9ec1);case _0x54b441(0x6be):return!new RegExp(_0x3120f1)[_0x54b441(0x257)](_0x5b9ec1);default:return!0x1;}}catch(_0x3a72e9){return console[_0x54b441(0x409)](_0x54b441(0x5ac)+_0x3a72e9),!0x1;}}['contains'](_0x2a15f3,_0x5d6e3e){const _0x180615=a0_0x1ec271;if(_0x2a15f3===_0x5d6e3e&&/^\d+$/['test'](_0x2a15f3))return!0x0;if(this[_0x180615(0x5bc)](_0x2a15f3)&&/^\d+$/['test'](_0x5d6e3e)){let _0x5e1474=_0x2a15f3[_0x180615(0x1d7)](',')['map'](_0x21bfcd=>parseInt(_0x21bfcd['trim']())),_0x32eb65=parseInt(_0x5d6e3e);return _0x5e1474[_0x180615(0x537)](_0x32eb65);}return _0x2a15f3[_0x180615(0x537)](_0x5d6e3e);}[a0_0x1ec271(0x5bc)](_0x42ce90){const _0xdd8967=a0_0x1ec271;return/^\d+(,\d+)*$/[_0xdd8967(0x257)](_0x42ce90);}[a0_0x1ec271(0x392)](_0x1962a2){const _0x54e041=a0_0x1ec271;let _0x42c5d9=!0x0,_0x416be8=null;for(let _0x2a02af of _0x1962a2){let _0x2d75c8=this[_0x54e041(0x844)](_0x2a02af);if(_0x416be8==='or'&&_0x2d75c8){_0x42c5d9=!0x0;break;}if(_0x416be8===_0x54e041(0x76f)&&!_0x2d75c8){_0x42c5d9=!0x1;break;}_0x416be8=_0x2a02af[_0x54e041(0x50b)];}return _0x42c5d9;}['evaluateConditionTest'](_0x522345){const _0x2506c4=a0_0x1ec271;let _0x326b3a=_0x522345[_0x2506c4(0x561)],_0x519701=_0x522345[_0x2506c4(0x5da)];try{switch(_0x522345[_0x2506c4(0x382)]){case _0x2506c4(0x418):return String(_0x326b3a)===String(_0x519701);case _0x2506c4(0x408):return String(_0x326b3a)!==String(_0x519701);case _0x2506c4(0x6e7):return String(_0x326b3a)[_0x2506c4(0x537)](String(_0x519701));case _0x2506c4(0x171):return!String(_0x326b3a)[_0x2506c4(0x537)](String(_0x519701));case _0x2506c4(0x582):return parseFloat(String(_0x326b3a))>parseFloat(String(_0x519701));case _0x2506c4(0x46a):return parseFloat(String(_0x326b3a))<parseFloat(String(_0x519701));case'notEmpty':return String(_0x326b3a)!=='';case _0x2506c4(0x6cb):return String(_0x326b3a)==='';case _0x2506c4(0x346):return new RegExp(String(_0x519701))[_0x2506c4(0x257)](String(_0x326b3a));case _0x2506c4(0x6be):return!new RegExp(String(_0x519701))[_0x2506c4(0x257)](String(_0x326b3a));default:return!0x1;}}catch(_0x3aa1f9){return console[_0x2506c4(0x409)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x3aa1f9),!0x1;}}async['saveTextReply'](_0x454979,_0xd47847){const _0x22cbf1=a0_0x1ec271;if(this['logger'][_0x22cbf1(0x641)](this['instanceName']+'\x20('+this[_0x22cbf1(0x47b)][_0x22cbf1(0x556)]+_0x22cbf1(0x810)),!_0x454979||!_0xd47847)return this[_0x22cbf1(0x24a)][_0x22cbf1(0x409)](this[_0x22cbf1(0x33c)]+'\x20('+this[_0x22cbf1(0x47b)]['wuid']+_0x22cbf1(0x3b1)),null;let _0x481c8e=_0x454979[_0x22cbf1(0x55e)][_0x22cbf1(0x37e)][_0x22cbf1(0x669)]['id'];this['logger']['verbose'](this[_0x22cbf1(0x33c)]+'\x20('+this[_0x22cbf1(0x47b)][_0x22cbf1(0x556)]+_0x22cbf1(0x570)+_0x481c8e);let _0x344362={'key':{'id':_0x481c8e}},_0x4006f6=_0xd47847[_0x22cbf1(0x5ea)];_0x454979[_0x22cbf1(0x55e)][_0x22cbf1(0x2f1)]['_'+_0x4006f6+_0x22cbf1(0x732)]=null,_0x454979['chatLog'][_0x22cbf1(0x2f1)]['_'+_0x4006f6+_0x22cbf1(0x3e8)]=null,_0x454979['chatLog'][_0x22cbf1(0x2f1)]['_'+_0x4006f6+_0x22cbf1(0x5fe)]=null,_0x454979[_0x22cbf1(0x55e)][_0x22cbf1(0x2f1)]['_'+_0x4006f6+_0x22cbf1(0x2ef)]=_0x454979['chatLog'][_0x22cbf1(0x37e)]['type'];try{let _0x59b23d=await this['getBase64FromMediaMessage'](_0x344362);this['logger'][_0x22cbf1(0x641)](this[_0x22cbf1(0x33c)]+'\x20('+this[_0x22cbf1(0x47b)][_0x22cbf1(0x556)]+'):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.'),_0x454979[_0x22cbf1(0x55e)][_0x22cbf1(0x2f1)]['_'+_0x4006f6+_0x22cbf1(0x4b2)]=_0x59b23d[_0x22cbf1(0x43b)],_0x454979[_0x22cbf1(0x55e)][_0x22cbf1(0x2f1)]['_'+_0x4006f6+_0x22cbf1(0x3e8)]=_0x59b23d['mimetype'];let _0x4b94f2=_0x59b23d[_0x22cbf1(0x6f9)][_0x22cbf1(0x199)](/\/(\w+)$/),_0x2f624e=_0x4b94f2?_0x4b94f2[0x1]:null;_0x454979['chatLog'][_0x22cbf1(0x2f1)]['_'+_0x4006f6+_0x22cbf1(0x5fe)]=_0x2f624e,this['logger'][_0x22cbf1(0x641)](this[_0x22cbf1(0x33c)]+'\x20('+this[_0x22cbf1(0x47b)][_0x22cbf1(0x556)]+_0x22cbf1(0x4da)+_0x4006f6+'\x27.');}catch(_0x5ae44d){this['logger'][_0x22cbf1(0x409)](this['instanceName']+'\x20('+this[_0x22cbf1(0x47b)]['wuid']+_0x22cbf1(0x217)+_0x5ae44d);}let _0x229588=_0x454979[_0x22cbf1(0x55e)][_0x22cbf1(0x37e)][_0x22cbf1(0x308)]||_0x454979[_0x22cbf1(0x55e)]['lastReceivedMessage'][_0x22cbf1(0x2d9)]||_0x454979['chatLog'][_0x22cbf1(0x37e)][_0x22cbf1(0x4ce)];try{_0x454979['chatLog'][_0x22cbf1(0x2f1)]||(_0x454979[_0x22cbf1(0x55e)][_0x22cbf1(0x2f1)]={});let _0x3433e0=_0x454979['chatLog'][_0x22cbf1(0x2f1)][_0x4006f6];_0x454979[_0x22cbf1(0x55e)][_0x22cbf1(0x2f1)][_0x4006f6]=_0x229588;let _0x5c7624={'variable':_0x4006f6,'oldValue':_0x3433e0,'newValue':_0x229588};this[_0x22cbf1(0x59f)](_0x454979,_0xd47847,_0x5c7624),this[_0x22cbf1(0x24a)]['verbose'](this[_0x22cbf1(0x33c)]+'\x20('+this['instance']['wuid']+_0x22cbf1(0x21b));}catch(_0x4824e3){let _0x4e1d06={'error':!0x0,'errorLog':_0x4824e3[_0x22cbf1(0x506)]()};return this[_0x22cbf1(0x59f)](_0x454979,_0xd47847,_0x4e1d06),this[_0x22cbf1(0x24a)]['error'](this[_0x22cbf1(0x33c)]+'\x20('+this[_0x22cbf1(0x47b)][_0x22cbf1(0x556)]+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+(_0x4824e3 instanceof Error?_0x4824e3['message']:JSON[_0x22cbf1(0x742)](_0x4824e3,null,0x2))),null;}}async[a0_0x1ec271(0x822)](_0x2ad910,_0x3b18a1){const _0x427f06=a0_0x1ec271;if(this[_0x427f06(0x24a)][_0x427f06(0x641)](this['instanceName']+'\x20('+this[_0x427f06(0x47b)]['wuid']+'):\x20Entrou\x20na\x20função\x20stop'),!_0x2ad910||!_0x3b18a1)return this['logger'][_0x427f06(0x409)](this[_0x427f06(0x33c)]+'\x20('+this['instance'][_0x427f06(0x556)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x25fa8d=Date[_0x427f06(0x65d)](),_0x298dfc=parseInt(_0x3b18a1[_0x427f06(0x765)],0xa);if(isNaN(_0x298dfc))return this[_0x427f06(0x24a)][_0x427f06(0x409)](this['instanceName']+'\x20('+this[_0x427f06(0x47b)][_0x427f06(0x556)]+_0x427f06(0x654)),null;let _0x4f0634={'newStoppedUntil':_0x25fa8d+_0x298dfc*0x3c*0x3e8};return await this[_0x427f06(0x59f)](_0x2ad910,_0x3b18a1,_0x4f0634,!0x0),null;}async[a0_0x1ec271(0x7ee)](_0x37e000,_0x1ae5b6){const _0x38ffe1=a0_0x1ec271;try{switch(_0x1ae5b6['uazapi'][_0x38ffe1(0x50f)]){case _0x38ffe1(0x6a3):await this[_0x38ffe1(0x57c)](_0x37e000,_0x1ae5b6);break;case _0x38ffe1(0x701):await this['uazapiSendMedia'](_0x37e000,_0x1ae5b6);break;case _0x38ffe1(0x2f2):await this[_0x38ffe1(0x56f)](_0x37e000,_0x1ae5b6);break;case'sendAudio':await this['uazapiSendAudio'](_0x37e000,_0x1ae5b6);break;case'sendContact':await this[_0x38ffe1(0x5c4)](_0x37e000,_0x1ae5b6);break;case _0x38ffe1(0x197):await this[_0x38ffe1(0x673)](_0x37e000,_0x1ae5b6);break;case _0x38ffe1(0x360):await this[_0x38ffe1(0x673)](_0x37e000,_0x1ae5b6);break;case _0x38ffe1(0x78d):await this[_0x38ffe1(0x526)](_0x37e000,_0x1ae5b6);break;default:this['logger'][_0x38ffe1(0x409)](this['instanceName']+'\x20('+this[_0x38ffe1(0x47b)]['wuid']+'):\x20Comando\x20desconhecido:\x20'+_0x1ae5b6['uazapi'][_0x38ffe1(0x50f)]);}}catch(_0x335328){this[_0x38ffe1(0x24a)][_0x38ffe1(0x409)](this[_0x38ffe1(0x33c)]+'\x20('+this[_0x38ffe1(0x47b)][_0x38ffe1(0x556)]+_0x38ffe1(0x40c)+(_0x335328 instanceof Error?_0x335328[_0x38ffe1(0x6db)]:JSON[_0x38ffe1(0x742)](_0x335328,null,0x2)));}}async['updateConversation'](_0x26ab1b,_0x5bcaa9,_0x5f3f83,_0x50191b=!0x1,_0x5dff41=!0x1){const _0x241d93=a0_0x1ec271;_0x26ab1b[_0x241d93(0x55e)]['blockLogs']||(_0x26ab1b['chatLog'][_0x241d93(0x46d)]=[]);let _0x31f267=(_0x26ab1b[_0x241d93(0x55e)][_0x241d93(0x46d)]?.[_0x241d93(0x710)]??0x0)+0x1,_0xed1c00=_0x26ab1b[_0x241d93(0x55e)][_0x241d93(0x46d)][_0x241d93(0x3c7)](_0x325b8c=>String(_0x325b8c[_0x241d93(0x6e3)])===String(_0x5bcaa9[_0x241d93(0x6dd)]))[_0x241d93(0x710)]+0x1,_0x3a6fbf=_0x5f3f83?.['onTime']??Date[_0x241d93(0x65d)](),_0x3b21e3=_0x5f3f83?.[_0x241d93(0x409)]?_0x5f3f83[_0x241d93(0x284)]??_0x5f3f83[_0x241d93(0x409)][_0x241d93(0x506)]():void 0x0,_0x479e1e={'onTime':_0x3a6fbf,'blockId':_0x5bcaa9[_0x241d93(0x6dd)],'order':_0x31f267,'activatedCount':_0xed1c00,'error':_0x5f3f83?.['error']??!0x1,'messageId':_0x5f3f83?.[_0x241d93(0x2b9)],'apiResponse':_0x5f3f83?.[_0x241d93(0x5d7)],'apiResponseString':_0x5f3f83?.['apiResponse']?JSON['stringify'](_0x5f3f83?.['apiResponse']):void 0x0,'variable':_0x5f3f83?.[_0x241d93(0x33a)],'oldValue':_0x5f3f83?.[_0x241d93(0x4c8)],'newValue':_0x5f3f83?.[_0x241d93(0x650)],'newStoppedUntil':_0x5f3f83?.['newStoppedUntil'],'moreLogs':_0x5f3f83?.[_0x241d93(0x6de)],'errorLog':_0x3b21e3};if(_0x5f3f83[_0x241d93(0x6de)]&&_0x5f3f83[_0x241d93(0x6de)][_0x241d93(0x710)]>0x0){let _0x1466da=_0x5f3f83[_0x241d93(0x6de)][_0x241d93(0x540)](_0x2c474b=>this[_0x241d93(0x576)](_0x2c474b,_0x26ab1b[_0x241d93(0x55e)]['realVariables']));_0x479e1e[_0x241d93(0x6de)]=_0x1466da;}_0x26ab1b[_0x241d93(0x55e)][_0x241d93(0x2f1)]||(_0x26ab1b['chatLog'][_0x241d93(0x2f1)]={}),_0x26ab1b[_0x241d93(0x55e)][_0x241d93(0x2f1)][_0x241d93(0x4c1)]=String(_0xed1c00),_0x26ab1b[_0x241d93(0x55e)][_0x241d93(0x2f1)][_0x241d93(0x29c)]=String(_0x5f3f83['error']??!0x1),_0x26ab1b['chatLog'][_0x241d93(0x46d)]['push'](_0x479e1e),_0x26ab1b[_0x241d93(0x55e)][_0x241d93(0x4c2)]=_0x5bcaa9[_0x241d93(0x6dd)]['toString'](),_0x26ab1b[_0x241d93(0x55e)][_0x241d93(0x747)]&&(_0x26ab1b[_0x241d93(0x55e)][_0x241d93(0x747)]=_0x26ab1b[_0x241d93(0x55e)][_0x241d93(0x747)]),_0x26ab1b[_0x241d93(0x55e)][_0x241d93(0x37e)]&&(_0x26ab1b['chatLog']['lastReceivedMessage']=_0x26ab1b[_0x241d93(0x55e)][_0x241d93(0x37e)]),_0x26ab1b[_0x241d93(0x55e)][_0x241d93(0x1c4)]&&(_0x26ab1b[_0x241d93(0x55e)][_0x241d93(0x1c4)]=_0x26ab1b[_0x241d93(0x55e)][_0x241d93(0x1c4)]),_0x5dff41&&(_0x26ab1b[_0x241d93(0x721)]=_0x241d93(0x7ce)),_0x50191b?this[_0x241d93(0x593)](_0x26ab1b):this[_0x241d93(0x7aa)](_0x26ab1b,_0x5bcaa9);}[a0_0x1ec271(0x576)](_0x1ea181,_0x1921fd){const _0x2690b6=a0_0x1ec271;return _0x1ea181[_0x2690b6(0x448)](/\{\{([^}]+)\}\}/g,(_0x4c4d7e,_0x4fcd0f)=>_0x1921fd[_0x4fcd0f]?'{{'+_0x4fcd0f+_0x2690b6(0x4cc)+_0x1921fd[_0x4fcd0f]+'\x22':'{{'+_0x4fcd0f+_0x2690b6(0x7af));}async[a0_0x1ec271(0x593)](_0x36ef35){const _0x4d6265=a0_0x1ec271;try{let _0x3367b6=Object['entries'](_0x36ef35['chatLog'][_0x4d6265(0x2f1)])[_0x4d6265(0x540)](([_0x43e82b,_0x1208f5])=>({'name':_0x43e82b,'value':_0x1208f5})),_0x299572={'status':_0x36ef35['status'],'blocks':_0x36ef35[_0x4d6265(0x566)],'waitingMenu_id':_0x36ef35[_0x4d6265(0x4a4)],'waitingMenu_text':_0x36ef35['waitingMenu_text'],'waitingMenu_replyOptions':_0x36ef35[_0x4d6265(0x2fe)],'chatLog':{'lastBlockId':_0x36ef35[_0x4d6265(0x55e)][_0x4d6265(0x4c2)],'lastSendMessage':_0x36ef35[_0x4d6265(0x55e)][_0x4d6265(0x747)],'lastReceivedMessage':_0x36ef35['chatLog']['lastReceivedMessage'],'lastCondition':_0x36ef35['chatLog']['lastCondition'],'chatVariables':_0x3367b6,'realVariables':_0x36ef35[_0x4d6265(0x55e)][_0x4d6265(0x2f1)],'blockLogs':_0x36ef35['chatLog'][_0x4d6265(0x46d)]}},_0xa0d748=await this[_0x4d6265(0x739)][_0x4d6265(0x7ac)]['updateOne'](_0x36ef35[_0x4d6265(0x6dd)],_0x299572,this['instance'][_0x4d6265(0x556)]);if(_0xa0d748){this['logger'][_0x4d6265(0x641)](this[_0x4d6265(0x33c)]+'\x20('+this[_0x4d6265(0x47b)]['wuid']+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0xa0d748['_id']);try{let _0x2e861a=[_0x4d6265(0x827),_0x4d6265(0x427),'email','cpf','status','notas',_0x4d6265(0x1df),_0x4d6265(0x4d7),'etiquetas'];if(!this[_0x4d6265(0x5c9)]&&(await this[_0x4d6265(0x38b)](),!this[_0x4d6265(0x5c9)]))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x66832b=this[_0x4d6265(0x5c9)]?.[_0x4d6265(0x22b)]['map'](_0x511609=>_0x511609['name']),_0x4ec6bb={};Object['entries'](_0x36ef35[_0x4d6265(0x55e)][_0x4d6265(0x2f1)])[_0x4d6265(0x359)](([_0x1b0161,_0x39dff1])=>{const _0x50483a=_0x4d6265;_0x2e861a['includes'](_0x1b0161)&&(_0x1b0161==='tags'&&typeof _0x39dff1==_0x50483a(0x186)?_0x4ec6bb[_0x1b0161]=_0x39dff1['split'](',')[_0x50483a(0x540)](_0x37d6d8=>_0x37d6d8[_0x50483a(0x39e)]())[_0x50483a(0x3c7)](_0x22dfdf=>_0x22dfdf!==''):_0x1b0161===_0x50483a(0x502)&&typeof _0x39dff1==_0x50483a(0x186)?_0x4ec6bb[_0x1b0161]=_0x39dff1[_0x50483a(0x1d7)](',')[_0x50483a(0x540)](_0x21f3b9=>_0x21f3b9[_0x50483a(0x39e)]())[_0x50483a(0x3c7)](_0x113582=>_0x113582!==''):_0x4ec6bb[_0x1b0161]=_0x39dff1);});let _0x669686=_0x36ef35['chatLog']['blockLogs'][_0x36ef35[_0x4d6265(0x55e)][_0x4d6265(0x46d)]['length']-0x1];if(_0x669686){let _0x8f8638=_0x669686[_0x4d6265(0x6c7)];_0x8f8638!==void 0x0&&(_0x4ec6bb[_0x4d6265(0x2e8)]=_0x8f8638[_0x4d6265(0x506)]());}let _0xa7f0ac=_0x3367b6[_0x4d6265(0x3c7)](_0x253630=>_0x66832b[_0x4d6265(0x537)](_0x253630['name']));this['logger'][_0x4d6265(0x641)](this[_0x4d6265(0x33c)]+'\x20('+this['instance'][_0x4d6265(0x556)]+'):\x20leadInfoVariables'),this[_0x4d6265(0x24a)][_0x4d6265(0x641)](_0x4ec6bb),this[_0x4d6265(0x24a)][_0x4d6265(0x641)](this['instanceName']+'\x20('+this[_0x4d6265(0x47b)]['wuid']+_0x4d6265(0x717)),this['logger'][_0x4d6265(0x641)](_0xa7f0ac);let _0x45aacf=_0xa7f0ac[_0x4d6265(0x540)](_0x494a26=>{const _0x39b7e7=_0x4d6265;let _0x37dba1=this[_0x39b7e7(0x5c9)]?.[_0x39b7e7(0x22b)][_0x39b7e7(0x741)](_0x792ea5=>_0x792ea5['name']===_0x494a26['name']);if(!_0x37dba1)throw new Error(_0x39b7e7(0x237)+_0x494a26['name']);return{'_id':_0x37dba1[_0x39b7e7(0x6dd)],'value':_0x494a26[_0x39b7e7(0x2d2)]};});this[_0x4d6265(0x24a)][_0x4d6265(0x641)](this[_0x4d6265(0x33c)]+'\x20('+this['instance'][_0x4d6265(0x556)]+_0x4d6265(0x1b2)),this['logger'][_0x4d6265(0x641)](_0x45aacf),await this[_0x4d6265(0x767)](_0x36ef35[_0x4d6265(0x560)],_0x4ec6bb,_0x45aacf);}catch(_0x40d594){this[_0x4d6265(0x24a)][_0x4d6265(0x409)](this[_0x4d6265(0x33c)]+'\x20('+this[_0x4d6265(0x47b)][_0x4d6265(0x556)]+_0x4d6265(0x7f9)+(_0x40d594 instanceof Error?_0x40d594['message']:JSON['stringify'](_0x40d594,null,0x2)));}}else this[_0x4d6265(0x24a)][_0x4d6265(0x409)](this[_0x4d6265(0x33c)]+'\x20('+this[_0x4d6265(0x47b)][_0x4d6265(0x556)]+_0x4d6265(0x239));}catch(_0x4d836a){this[_0x4d6265(0x24a)][_0x4d6265(0x409)](this['instanceName']+'\x20('+this[_0x4d6265(0x47b)]['wuid']+_0x4d6265(0x225)+(_0x4d836a instanceof Error?_0x4d836a['message']:JSON[_0x4d6265(0x742)](_0x4d836a,null,0x2)));}}async['saveChatVariables'](_0x20f936,_0xe951eb,_0xd4d71f){const _0x27a96a=a0_0x1ec271;try{let _0x5900c0={'leadInfo.leadnome':_0xe951eb[_0x27a96a(0x827)],'leadInfo.nomecompleto':_0xe951eb[_0x27a96a(0x427)],'leadInfo.email':_0xe951eb[_0x27a96a(0x31d)],'leadInfo.cpf':_0xe951eb[_0x27a96a(0x3bc)],'leadInfo.status':_0xe951eb['status'],'leadInfo.notas':_0xe951eb[_0x27a96a(0x38c)],'leadInfo.responsavelid':_0xe951eb[_0x27a96a(0x1df)],'leadInfo.tags':_0xe951eb[_0x27a96a(0x4d7)],'leadInfo.etiquetas':_0xe951eb[_0x27a96a(0x502)],'leadInfo.customFields':_0xd4d71f},_0x43832c=await this[_0x27a96a(0x739)]['chat']['findOne']({'where':{'_id':_0x20f936}},this[_0x27a96a(0x47b)][_0x27a96a(0x556)]),_0x587218=new Set(_0x43832c['leadInfo'][_0x27a96a(0x502)]||[]),_0x51eb85=new Set(_0xe951eb[_0x27a96a(0x502)]||[]),_0x5d877f=await this[_0x27a96a(0x739)][_0x27a96a(0x1ad)][_0x27a96a(0x741)]({'where':{}},this['instance'][_0x27a96a(0x556)]),_0x62c0f9=new Set(_0x5d877f[_0x27a96a(0x540)](_0x468fad=>_0x468fad[_0x27a96a(0x6dd)])),_0x2f56a8=[..._0x51eb85][_0x27a96a(0x3c7)](_0x44df4b=>!_0x587218['has'](_0x44df4b)&&_0x62c0f9['has'](_0x44df4b)),_0x4119b3=[..._0x587218][_0x27a96a(0x3c7)](_0x19db5d=>!_0x51eb85[_0x27a96a(0x674)](_0x19db5d));for(let _0x261ce3 of _0x2f56a8)await this[_0x27a96a(0x6b0)](_0x261ce3,_0x43832c[_0x27a96a(0x6dd)]),_0x587218['add'](_0x261ce3);for(let _0x5ba9b6 of _0x4119b3)await this['RemoveChatLabel'](_0x5ba9b6,_0x43832c[_0x27a96a(0x6dd)]),_0x587218[_0x27a96a(0x41e)](_0x5ba9b6);if(_0x27a96a(0x2e8)in _0xe951eb){let _0xc4caa=_0xe951eb['desativadoFluxoAte'];_0x5900c0[_0x27a96a(0x1d8)]=_0xc4caa?Number(_0xc4caa):null;}let _0x1b13f1=await this['repository'][_0x27a96a(0x21e)]['updateOne']({'where':{'_id':_0x20f936}},_0x5900c0,this[_0x27a96a(0x47b)][_0x27a96a(0x556)]);_0x1b13f1?(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x27a96a(0x47b)][_0x27a96a(0x556)]+_0x27a96a(0x659)+_0x1b13f1[_0x27a96a(0x6dd)]),J(this[_0x27a96a(0x33c)],_0x27a96a(0x5e3),{'chat':_0x1b13f1})):this['logger']['error'](this[_0x27a96a(0x33c)]+'\x20('+this[_0x27a96a(0x47b)][_0x27a96a(0x556)]+_0x27a96a(0x646));}catch(_0x3552e6){this['logger'][_0x27a96a(0x409)](this[_0x27a96a(0x33c)]+'\x20('+this[_0x27a96a(0x47b)]['wuid']+_0x27a96a(0x665)+(_0x3552e6 instanceof Error?_0x3552e6[_0x27a96a(0x6db)]:JSON[_0x27a96a(0x742)](_0x3552e6,null,0x2)));}}async[a0_0x1ec271(0x548)](_0x12b37d,_0x49c9d2){const _0x53991e=a0_0x1ec271;this[_0x53991e(0x24a)][_0x53991e(0x641)](this[_0x53991e(0x33c)]+'\x20('+this[_0x53991e(0x47b)][_0x53991e(0x556)]+_0x53991e(0x74f)+_0x49c9d2);try{let _0x3e8b0e=await this[_0x53991e(0x739)][_0x53991e(0x21e)][_0x53991e(0x5ec)]({'where':{'_id':_0x12b37d['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x49c9d2},this['instance']['wuid']);this[_0x53991e(0x24a)][_0x53991e(0x641)](this['instanceName']+'\x20('+this[_0x53991e(0x47b)][_0x53991e(0x556)]+_0x53991e(0x62f)+_0x12b37d['_id']),this[_0x53991e(0x24a)][_0x53991e(0x641)](this[_0x53991e(0x33c)]+'\x20('+this[_0x53991e(0x47b)][_0x53991e(0x556)]+_0x53991e(0x74f)+JSON[_0x53991e(0x742)](_0x3e8b0e,null,0x2)),_0x3e8b0e&&J(this[_0x53991e(0x33c)],_0x53991e(0x5e3),{'chat':_0x3e8b0e});}catch(_0x58303d){this['logger']['error'](this[_0x53991e(0x33c)]+'\x20('+this[_0x53991e(0x47b)][_0x53991e(0x556)]+_0x53991e(0x376)+(_0x58303d instanceof Error?_0x58303d[_0x53991e(0x6db)]:JSON['stringify'](_0x58303d,null,0x2)));}}async[a0_0x1ec271(0x6ae)](_0x13d0d2){const _0x785d05=a0_0x1ec271;try{this[_0x785d05(0x24a)][_0x785d05(0x641)](this[_0x785d05(0x33c)]+'\x20('+this[_0x785d05(0x47b)]['wuid']+_0x785d05(0x849));let _0x5cc15a=_0x13d0d2[_0x785d05(0x448)](/\D/g,''),_0x5d6018=await this['repository'][_0x785d05(0x630)][_0x785d05(0x1a0)]({'where':{'testingWith':_0x5cc15a}},this['instance'][_0x785d05(0x556)]);return _0x5d6018||(this[_0x785d05(0x24a)]['verbose'](this[_0x785d05(0x33c)]+'\x20('+this[_0x785d05(0x47b)][_0x785d05(0x556)]+_0x785d05(0x303)),_0x5d6018=await this[_0x785d05(0x739)]['flow'][_0x785d05(0x1a0)]({'where':{'default':!0x0}},this[_0x785d05(0x47b)][_0x785d05(0x556)])),_0x5d6018||(this['logger'][_0x785d05(0x641)](this[_0x785d05(0x33c)]+'\x20('+this[_0x785d05(0x47b)]['wuid']+_0x785d05(0x6d8)),null);}catch(_0x237c87){return this[_0x785d05(0x24a)]['error'](this[_0x785d05(0x33c)]+'\x20('+this[_0x785d05(0x47b)][_0x785d05(0x556)]+_0x785d05(0x587)+(_0x237c87 instanceof Error?_0x237c87[_0x785d05(0x6db)]:JSON[_0x785d05(0x742)](_0x237c87,null,0x2))),null;}}async[a0_0x1ec271(0x614)](_0x4b4ec9,_0xd36d4e){const _0x3dcde9=a0_0x1ec271;try{let _0x56747e=!!_0xd36d4e[_0x3dcde9(0x4ce)],_0x3e0662=_0xd36d4e[_0x3dcde9(0x307)],_0xa2341c=null;if(this[_0x3dcde9(0x24a)][_0x3dcde9(0x641)](this[_0x3dcde9(0x33c)]+'\x20('+this[_0x3dcde9(0x47b)]['wuid']+_0x3dcde9(0x2b1)+_0x56747e+_0x3dcde9(0x1aa)+_0x3e0662),_0x56747e){this[_0x3dcde9(0x24a)][_0x3dcde9(0x641)](this[_0x3dcde9(0x33c)]+'\x20('+this[_0x3dcde9(0x47b)][_0x3dcde9(0x556)]+_0x3dcde9(0x59c));let _0x57d7d={'where':{'remoteJid':_0x4b4ec9,'waitingMenu_id':_0x3e0662}};if(_0xa2341c=await this[_0x3dcde9(0x739)][_0x3dcde9(0x7ac)]['findOne'](_0x57d7d,this[_0x3dcde9(0x47b)][_0x3dcde9(0x556)]),!_0xa2341c)return this[_0x3dcde9(0x24a)]['verbose'](this[_0x3dcde9(0x33c)]+'\x20('+this[_0x3dcde9(0x47b)][_0x3dcde9(0x556)]+'):\x20não\x20encontrou'),null;let _0x2c43cb=Date[_0x3dcde9(0x65d)](),_0xe885a1=_0xa2341c?.['minutesToClose']||0x0,_0x3afaa0=_0x2c43cb-_0xe885a1*0x3c*0x3e8;if(_0xa2341c[_0x3dcde9(0x653)]<_0x3afaa0){this[_0x3dcde9(0x24a)]['verbose'](this[_0x3dcde9(0x33c)]+'\x20('+this[_0x3dcde9(0x47b)][_0x3dcde9(0x556)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x13b472={'number':_0xa2341c[_0x3dcde9(0x560)],'options':{'delay':0x0},'textMessage':{'text':_0xa2341c[_0x3dcde9(0x362)]}};await this[_0x3dcde9(0x16e)](_0x13b472);let _0x46e446={'status':_0x3dcde9(0x7ce),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x3dcde9(0x739)]['flowConversation'][_0x3dcde9(0x5ec)](_0xa2341c[_0x3dcde9(0x6dd)],_0x46e446,this[_0x3dcde9(0x47b)]['wuid']),null;}return _0xa2341c[_0x3dcde9(0x653)]=Date[_0x3dcde9(0x65d)](),_0xa2341c[_0x3dcde9(0x55e)][_0x3dcde9(0x37e)]=_0xd36d4e,_0xa2341c;}else{this[_0x3dcde9(0x24a)]['verbose'](this['instanceName']+'\x20('+this[_0x3dcde9(0x47b)][_0x3dcde9(0x556)]+_0x3dcde9(0x355)+this[_0x3dcde9(0x47b)][_0x3dcde9(0x556)]+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this['logger'][_0x3dcde9(0x641)](this[_0x3dcde9(0x33c)]+'\x20('+this[_0x3dcde9(0x47b)]['wuid']+_0x3dcde9(0x7b0));let _0x36b1cd={'where':{'remoteJid':_0x4b4ec9,'status':_0x3dcde9(0x296)}};if(_0xa2341c=await this[_0x3dcde9(0x739)][_0x3dcde9(0x7ac)]['findOne'](_0x36b1cd,this[_0x3dcde9(0x47b)][_0x3dcde9(0x556)]),!_0xa2341c){let _0x5c9a81=await this[_0x3dcde9(0x6ae)](_0x4b4ec9);if(_0x5c9a81&&(_0xa2341c=await this[_0x3dcde9(0x375)](_0x5c9a81,_0xd36d4e[_0x3dcde9(0x669)],_0xd36d4e)),!_0xa2341c)return null;}let _0x196168=Date[_0x3dcde9(0x65d)](),_0x4e7f4e=_0xa2341c?.[_0x3dcde9(0x428)]||0x0,_0x588f95=_0x196168-_0x4e7f4e*0x3c*0x3e8;if(this[_0x3dcde9(0x24a)][_0x3dcde9(0x641)](this[_0x3dcde9(0x33c)]+'\x20('+this['instance'][_0x3dcde9(0x556)]+'):\x20Current\x20Time:\x20'+_0x196168+_0x3dcde9(0x25b)+_0x4e7f4e+_0x3dcde9(0x67b)+_0x588f95),this[_0x3dcde9(0x24a)]['verbose'](this[_0x3dcde9(0x33c)]+'\x20('+this[_0x3dcde9(0x47b)][_0x3dcde9(0x556)]+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this[_0x3dcde9(0x24a)][_0x3dcde9(0x641)](this[_0x3dcde9(0x33c)]+'\x20('+this['instance'][_0x3dcde9(0x556)]+_0x3dcde9(0x65a)+_0xa2341c['lastInteraction']),this[_0x3dcde9(0x24a)]['verbose'](this[_0x3dcde9(0x33c)]+'\x20('+this[_0x3dcde9(0x47b)][_0x3dcde9(0x556)]+_0x3dcde9(0x17f)+_0x588f95),_0xa2341c[_0x3dcde9(0x653)]<_0x588f95){this['logger']['verbose'](this[_0x3dcde9(0x33c)]+'\x20('+this['instance'][_0x3dcde9(0x556)]+_0x3dcde9(0x64d));let _0x1fa149=await this['findFlow'](_0x4b4ec9);if(_0x1fa149===null)return null;_0xa2341c&&await this['repository'][_0x3dcde9(0x7ac)][_0x3dcde9(0x5ec)](_0xa2341c[_0x3dcde9(0x6dd)],{'status':_0x3dcde9(0x7ce)},this['instance'][_0x3dcde9(0x556)]),_0xa2341c=await this[_0x3dcde9(0x375)](_0x1fa149,_0xd36d4e[_0x3dcde9(0x669)],_0xd36d4e);}return _0xa2341c[_0x3dcde9(0x653)]=_0x196168,_0xa2341c[_0x3dcde9(0x55e)][_0x3dcde9(0x37e)]=_0xd36d4e,_0xa2341c;}}catch(_0x510f4a){return this[_0x3dcde9(0x24a)][_0x3dcde9(0x409)](this[_0x3dcde9(0x33c)]+'\x20('+this[_0x3dcde9(0x47b)][_0x3dcde9(0x556)]+_0x3dcde9(0x444)+(_0x510f4a instanceof Error?_0x510f4a[_0x3dcde9(0x6db)]:JSON['stringify'](_0x510f4a,null,0x2))),null;}}async['createNewConversation'](_0x56eaea,_0x349d13,_0x4311ab){const _0x13f544=a0_0x1ec271;this[_0x13f544(0x24a)][_0x13f544(0x641)](this[_0x13f544(0x33c)]+'\x20('+this[_0x13f544(0x47b)][_0x13f544(0x556)]+_0x13f544(0x1ec));try{let _0x1c5f91=require(_0x13f544(0x62d))['ObjectId'],_0x17d6e1=Date[_0x13f544(0x65d)](),_0x871004='start',_0x4dcf3c=_0x349d13[_0x13f544(0x794)]?null:_0x4311ab,_0x5b9bdf=_0x349d13[_0x13f544(0x794)]?_0x4311ab:null,_0x106924=_0x349d13[_0x13f544(0x560)];await this[_0x13f544(0x608)](_0x106924);let _0x3f951b={..._0x56eaea,'chatLog':null},_0x2296b8=await this[_0x13f544(0x51a)](_0x3f951b[_0x13f544(0x5b9)]),_0x465ca4=await this['getVariablesChat'](_0x106924),_0x4fc85a={..._0x2296b8,..._0x465ca4,'_remoteJid':_0x106924},_0xdbfc={'lastReceivedMessage':_0x4dcf3c,'lastSendMessage':_0x5b9bdf,'lastBlockId':_0x871004,'lastCondition':!0x0,'realVariables':_0x4fc85a};_0x3f951b[_0x13f544(0x55e)]=_0xdbfc,delete _0x3f951b[_0x13f544(0x6dd)],_0x3f951b[_0x13f544(0x6dd)]=new _0x1c5f91(),_0x3f951b['lastInteraction']=_0x17d6e1,_0x3f951b[_0x13f544(0x721)]=_0x13f544(0x296),_0x3f951b[_0x13f544(0x560)]=_0x106924;let _0x9758d3=await this[_0x13f544(0x739)][_0x13f544(0x7ac)]['updateOne'](_0x3f951b[_0x13f544(0x6dd)],_0x3f951b,this[_0x13f544(0x47b)][_0x13f544(0x556)]);return this[_0x13f544(0x24a)][_0x13f544(0x641)](this[_0x13f544(0x33c)]+'\x20('+this[_0x13f544(0x47b)][_0x13f544(0x556)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x9758d3?_0x3f951b:null;}catch(_0x4699a8){return this[_0x13f544(0x24a)][_0x13f544(0x409)](this[_0x13f544(0x33c)]+'\x20('+this[_0x13f544(0x47b)][_0x13f544(0x556)]+_0x13f544(0x30a)+(_0x4699a8 instanceof Error?_0x4699a8[_0x13f544(0x6db)]:JSON[_0x13f544(0x742)](_0x4699a8,null,0x2))),_0x4699a8;}}async[a0_0x1ec271(0x57c)](_0x3435d9,_0x4aad96){const _0x2f8811=a0_0x1ec271;let _0x246d8f=_0x3435d9[_0x2f8811(0x560)];_0x4aad96[_0x2f8811(0x5e9)][_0x2f8811(0x560)]&&_0x4aad96[_0x2f8811(0x5e9)][_0x2f8811(0x560)][_0x2f8811(0x39e)]()!==''&&(_0x246d8f=_0x4aad96[_0x2f8811(0x5e9)][_0x2f8811(0x560)][_0x2f8811(0x39e)]()),this['logger'][_0x2f8811(0x641)](this[_0x2f8811(0x33c)]+'\x20('+this[_0x2f8811(0x47b)][_0x2f8811(0x556)]+_0x2f8811(0x4fb));let _0x282403={'number':_0x246d8f,'options':{'delay':_0x4aad96[_0x2f8811(0x5e9)][_0x2f8811(0x494)],'linkPreview':_0x4aad96[_0x2f8811(0x5e9)][_0x2f8811(0x183)]},'textMessage':{'text':_0x4aad96[_0x2f8811(0x5e9)][_0x2f8811(0x308)]}};try{let _0x554e33=await this[_0x2f8811(0x16e)](_0x282403);if(_0x554e33){let _0x295f0f={'_id':_0x554e33['key']['id'],'_fromMe':_0x554e33[_0x2f8811(0x669)]['fromMe'],'_remoteJid':_0x554e33[_0x2f8811(0x669)][_0x2f8811(0x560)]},_0x173c9a=(0x0,m[_0x2f8811(0x689)])(_0x554e33[_0x2f8811(0x6db)]),_0x57083=(0x0,m['getContentType'])(_0x173c9a);_0x3435d9[_0x2f8811(0x55e)]['lastBlockId']=_0x4aad96[_0x2f8811(0x6dd)][_0x2f8811(0x506)]();let {message_normalized:_0x4e959f}=this['normalizeMessage'](_0x173c9a,_0x57083,null);_0x3435d9[_0x2f8811(0x55e)][_0x2f8811(0x747)]=await _0x4e959f;let _0x2ccd3c={'messageId':_0x554e33[_0x2f8811(0x669)]['id']},_0x41c8ba=_0x3435d9[_0x2f8811(0x55e)][_0x2f8811(0x2f1)];Object[_0x2f8811(0x7ad)](_0x41c8ba,_0x295f0f),_0x3435d9[_0x2f8811(0x55e)][_0x2f8811(0x2f1)]=_0x41c8ba,this[_0x2f8811(0x59f)](_0x3435d9,_0x4aad96,_0x2ccd3c);}else{let _0x1a68df={'error':!0x0};this[_0x2f8811(0x59f)](_0x3435d9,_0x4aad96,_0x1a68df),this[_0x2f8811(0x24a)][_0x2f8811(0x409)](this['instanceName']+'\x20('+this[_0x2f8811(0x47b)][_0x2f8811(0x556)]+_0x2f8811(0x38a));}}catch(_0x4d203e){let _0xa043ba={'error':!0x0,'errorLog':_0x4d203e['toString']()};this[_0x2f8811(0x59f)](_0x3435d9,_0x4aad96,_0xa043ba),this[_0x2f8811(0x24a)][_0x2f8811(0x409)](this[_0x2f8811(0x33c)]+'\x20('+this['instance']['wuid']+_0x2f8811(0x384)+(_0x4d203e instanceof Error?_0x4d203e[_0x2f8811(0x6db)]:JSON['stringify'](_0x4d203e,null,0x2)));}}async[a0_0x1ec271(0x58b)](_0x29c7a8,_0x26ea9e){const _0x223c07=a0_0x1ec271;let _0x5af861=_0x29c7a8[_0x223c07(0x560)];_0x26ea9e[_0x223c07(0x5e9)]['remoteJid']&&_0x26ea9e[_0x223c07(0x5e9)][_0x223c07(0x560)][_0x223c07(0x39e)]()!==''&&(_0x5af861=_0x26ea9e['uazapi'][_0x223c07(0x560)][_0x223c07(0x39e)]()),this[_0x223c07(0x24a)]['verbose'](this[_0x223c07(0x33c)]+'\x20('+this[_0x223c07(0x47b)][_0x223c07(0x556)]+'):\x20Enviando\x20mídia');let _0x53b8a2={'number':_0x5af861,'options':{'delay':_0x26ea9e[_0x223c07(0x5e9)][_0x223c07(0x494)],'linkPreview':_0x26ea9e[_0x223c07(0x5e9)][_0x223c07(0x183)]},'mediaMessage':{'mediatype':_0x26ea9e[_0x223c07(0x5e9)][_0x223c07(0x2c3)],'caption':_0x26ea9e['uazapi'][_0x223c07(0x2d9)],'media':_0x26ea9e[_0x223c07(0x5e9)][_0x223c07(0x7c3)],'fileName':_0x26ea9e['uazapi'][_0x223c07(0x459)]}};try{let _0x1a96ff=await this[_0x223c07(0x573)](_0x53b8a2);if(_0x1a96ff){let _0xa7d159={'_id':_0x1a96ff[_0x223c07(0x669)]['id'],'_fromMe':_0x1a96ff['key'][_0x223c07(0x794)],'_remoteJid':_0x1a96ff[_0x223c07(0x669)][_0x223c07(0x560)]},_0x1af30d=(0x0,m[_0x223c07(0x689)])(_0x1a96ff[_0x223c07(0x6db)]),_0x25c1b4=(0x0,m[_0x223c07(0x6a2)])(_0x1af30d);_0x29c7a8['chatLog'][_0x223c07(0x4c2)]=_0x26ea9e[_0x223c07(0x6dd)]['toString']();let {message_normalized:_0x2ab80f}=this[_0x223c07(0x22a)](_0x1af30d,_0x25c1b4,null);_0x29c7a8[_0x223c07(0x55e)][_0x223c07(0x747)]=await _0x2ab80f;let _0x13b9fa={'messageId':_0x1a96ff['key']['id']},_0x1d37a7=_0x29c7a8['chatLog'][_0x223c07(0x2f1)];Object[_0x223c07(0x7ad)](_0x1d37a7,_0xa7d159),_0x29c7a8[_0x223c07(0x55e)]['realVariables']=_0x1d37a7,this[_0x223c07(0x59f)](_0x29c7a8,_0x26ea9e,_0x13b9fa);}else{let _0x36c860={'error':!0x0};this[_0x223c07(0x59f)](_0x29c7a8,_0x26ea9e,_0x36c860),this[_0x223c07(0x24a)]['error'](this[_0x223c07(0x33c)]+'\x20('+this[_0x223c07(0x47b)][_0x223c07(0x556)]+_0x223c07(0x67a));}}catch(_0x3becfa){let _0x522b67={'error':!0x0,'errorLog':_0x3becfa['toString']()};this[_0x223c07(0x59f)](_0x29c7a8,_0x26ea9e,_0x522b67),this['logger'][_0x223c07(0x409)](this[_0x223c07(0x33c)]+'\x20('+this['instance'][_0x223c07(0x556)]+_0x223c07(0x7d5)+(_0x3becfa instanceof Error?_0x3becfa[_0x223c07(0x6db)]:JSON[_0x223c07(0x742)](_0x3becfa,null,0x2)));}}async[a0_0x1ec271(0x56f)](_0x4d4ac0,_0x359a0b){const _0x36430e=a0_0x1ec271;let _0x5368fb=_0x4d4ac0[_0x36430e(0x560)];_0x359a0b[_0x36430e(0x5e9)]['remoteJid']&&_0x359a0b[_0x36430e(0x5e9)][_0x36430e(0x560)]['trim']()!==''&&(_0x5368fb=_0x359a0b['uazapi']['remoteJid'][_0x36430e(0x39e)]()),this[_0x36430e(0x24a)][_0x36430e(0x641)](this['instanceName']+'\x20('+this['instance'][_0x36430e(0x556)]+'):\x20Enviando\x20localização');let _0x39c772={'number':_0x5368fb,'options':{'delay':_0x359a0b['uazapi'][_0x36430e(0x494)]},'locationMessage':{'name':_0x359a0b[_0x36430e(0x5e9)][_0x36430e(0x49a)],'address':_0x359a0b[_0x36430e(0x5e9)][_0x36430e(0x1c6)],'latitude':_0x359a0b[_0x36430e(0x5e9)]['latitude'],'longitude':_0x359a0b[_0x36430e(0x5e9)][_0x36430e(0x7c0)]}};try{let _0x2ebcf6=await this['locationMessage'](_0x39c772);if(_0x2ebcf6){let _0x59b5ca={'_id':_0x2ebcf6[_0x36430e(0x669)]['id'],'_fromMe':_0x2ebcf6[_0x36430e(0x669)][_0x36430e(0x794)],'_remoteJid':_0x2ebcf6[_0x36430e(0x669)]['remoteJid']},_0x40b48f=(0x0,m['normalizeMessageContent'])(_0x2ebcf6['message']),_0x20c8e8=(0x0,m[_0x36430e(0x6a2)])(_0x40b48f);_0x4d4ac0[_0x36430e(0x55e)][_0x36430e(0x4c2)]=_0x359a0b['_id'][_0x36430e(0x506)]();let {message_normalized:_0x107774}=this['normalizeMessage'](_0x40b48f,_0x20c8e8,null);_0x4d4ac0[_0x36430e(0x55e)][_0x36430e(0x747)]=await _0x107774;let _0x4db058={'messageId':_0x2ebcf6['key']['id']},_0x382381=_0x4d4ac0[_0x36430e(0x55e)][_0x36430e(0x2f1)];Object[_0x36430e(0x7ad)](_0x382381,_0x59b5ca),_0x4d4ac0[_0x36430e(0x55e)][_0x36430e(0x2f1)]=_0x382381,this[_0x36430e(0x59f)](_0x4d4ac0,_0x359a0b,_0x4db058);}else{let _0x5034b2={'error':!0x0};this['updateConversation'](_0x4d4ac0,_0x359a0b,_0x5034b2),this[_0x36430e(0x24a)][_0x36430e(0x409)](this[_0x36430e(0x33c)]+'\x20('+this[_0x36430e(0x47b)][_0x36430e(0x556)]+_0x36430e(0x5f1));}}catch(_0x41e20f){let _0x123830={'error':!0x0,'errorLog':_0x41e20f[_0x36430e(0x506)]()};this[_0x36430e(0x59f)](_0x4d4ac0,_0x359a0b,_0x123830),this[_0x36430e(0x24a)][_0x36430e(0x409)](this[_0x36430e(0x33c)]+'\x20('+this['instance'][_0x36430e(0x556)]+_0x36430e(0x61c)+(_0x41e20f instanceof Error?_0x41e20f[_0x36430e(0x6db)]:JSON['stringify'](_0x41e20f,null,0x2)));}}async[a0_0x1ec271(0x6ea)](_0x9d7275,_0x58e3b8){const _0x596711=a0_0x1ec271;let _0x18a95d=_0x9d7275[_0x596711(0x560)];_0x58e3b8[_0x596711(0x5e9)]['remoteJid']&&_0x58e3b8['uazapi'][_0x596711(0x560)][_0x596711(0x39e)]()!==''&&(_0x18a95d=_0x58e3b8[_0x596711(0x5e9)][_0x596711(0x560)][_0x596711(0x39e)]()),this[_0x596711(0x24a)][_0x596711(0x641)](this[_0x596711(0x33c)]+'\x20('+this[_0x596711(0x47b)][_0x596711(0x556)]+_0x596711(0x77b));let _0x3aa08c={'number':_0x18a95d,'options':{'delay':_0x58e3b8[_0x596711(0x5e9)][_0x596711(0x494)]},'audioMessage':{'audio':_0x58e3b8[_0x596711(0x5e9)]['audio']}};try{let _0x56bbbb=await this['audioWhatsapp'](_0x3aa08c);if(_0x56bbbb){let _0x257c48={'_id':_0x56bbbb[_0x596711(0x669)]['id'],'_fromMe':_0x56bbbb[_0x596711(0x669)][_0x596711(0x794)],'_remoteJid':_0x56bbbb[_0x596711(0x669)]['remoteJid']},_0xeb3887=(0x0,m['normalizeMessageContent'])(_0x56bbbb[_0x596711(0x6db)]),_0x47fb7f=(0x0,m[_0x596711(0x6a2)])(_0xeb3887);_0x9d7275[_0x596711(0x55e)][_0x596711(0x4c2)]=_0x58e3b8['_id'][_0x596711(0x506)]();let {message_normalized:_0x1e648c}=this[_0x596711(0x22a)](_0xeb3887,_0x47fb7f,null);_0x9d7275['chatLog'][_0x596711(0x747)]=await _0x1e648c;let _0x32a382={'messageId':_0x56bbbb['key']['id']},_0x208b19=_0x9d7275[_0x596711(0x55e)]['realVariables'];Object[_0x596711(0x7ad)](_0x208b19,_0x257c48),_0x9d7275['chatLog'][_0x596711(0x2f1)]=_0x208b19,this['updateConversation'](_0x9d7275,_0x58e3b8,_0x32a382);}else{let _0x5e834d={'error':!0x0};this[_0x596711(0x59f)](_0x9d7275,_0x58e3b8,_0x5e834d),this[_0x596711(0x24a)][_0x596711(0x409)](this[_0x596711(0x33c)]+'\x20('+this[_0x596711(0x47b)]['wuid']+_0x596711(0x2ec));}}catch(_0x3e23ca){let _0x11f4ba={'error':!0x0,'errorLog':_0x3e23ca[_0x596711(0x506)]()};this[_0x596711(0x59f)](_0x9d7275,_0x58e3b8,_0x11f4ba),this[_0x596711(0x24a)][_0x596711(0x409)](this[_0x596711(0x33c)]+'\x20('+this[_0x596711(0x47b)][_0x596711(0x556)]+_0x596711(0x329)+(_0x3e23ca instanceof Error?_0x3e23ca[_0x596711(0x6db)]:JSON[_0x596711(0x742)](_0x3e23ca,null,0x2)));}}async[a0_0x1ec271(0x5c4)](_0x28e119,_0x21a36e){const _0x3a5d69=a0_0x1ec271;let _0x28ae5f=_0x28e119['remoteJid'];_0x21a36e[_0x3a5d69(0x5e9)][_0x3a5d69(0x560)]&&_0x21a36e[_0x3a5d69(0x5e9)][_0x3a5d69(0x560)][_0x3a5d69(0x39e)]()!==''&&(_0x28ae5f=_0x21a36e[_0x3a5d69(0x5e9)][_0x3a5d69(0x560)]['trim']()),this[_0x3a5d69(0x24a)][_0x3a5d69(0x641)](this['instanceName']+'\x20('+this['instance'][_0x3a5d69(0x556)]+_0x3a5d69(0x569));let _0xad989f={'number':_0x28ae5f,'options':{'delay':_0x21a36e[_0x3a5d69(0x5e9)][_0x3a5d69(0x494)]},'contactMessage':[{'fullName':_0x21a36e[_0x3a5d69(0x5e9)]['fullName'],'phoneNumber':_0x21a36e[_0x3a5d69(0x5e9)][_0x3a5d69(0x46b)]}]};try{let _0x97477=await this['contactMessage'](_0xad989f);if(_0x97477){let _0x1747f3={'_id':_0x97477[_0x3a5d69(0x669)]['id'],'_fromMe':_0x97477[_0x3a5d69(0x669)][_0x3a5d69(0x794)],'_remoteJid':_0x97477[_0x3a5d69(0x669)][_0x3a5d69(0x560)]},_0x384643=(0x0,m[_0x3a5d69(0x689)])(_0x97477[_0x3a5d69(0x6db)]),_0x392b10=(0x0,m[_0x3a5d69(0x6a2)])(_0x384643);_0x28e119[_0x3a5d69(0x55e)]['lastBlockId']=_0x21a36e['_id']['toString']();let {message_normalized:_0x1e2edf}=this[_0x3a5d69(0x22a)](_0x384643,_0x392b10,null);_0x28e119[_0x3a5d69(0x55e)][_0x3a5d69(0x747)]=await _0x1e2edf;let _0x6e91e7={'messageId':_0x97477[_0x3a5d69(0x669)]['id']},_0x257b26=_0x28e119[_0x3a5d69(0x55e)][_0x3a5d69(0x2f1)];Object[_0x3a5d69(0x7ad)](_0x257b26,_0x1747f3),_0x28e119['chatLog'][_0x3a5d69(0x2f1)]=_0x257b26,this['updateConversation'](_0x28e119,_0x21a36e,_0x6e91e7);}else{let _0x5c51f={'error':!0x0};this[_0x3a5d69(0x59f)](_0x28e119,_0x21a36e,_0x5c51f),this[_0x3a5d69(0x24a)][_0x3a5d69(0x409)](this[_0x3a5d69(0x33c)]+'\x20('+this['instance'][_0x3a5d69(0x556)]+_0x3a5d69(0x84e));}}catch(_0x1745ac){let _0x5f5a83={'error':!0x0,'errorLog':_0x1745ac[_0x3a5d69(0x506)]()};this[_0x3a5d69(0x59f)](_0x28e119,_0x21a36e,_0x5f5a83),this[_0x3a5d69(0x24a)][_0x3a5d69(0x409)](this[_0x3a5d69(0x33c)]+'\x20('+this[_0x3a5d69(0x47b)][_0x3a5d69(0x556)]+_0x3a5d69(0x31b)+(_0x1745ac instanceof Error?_0x1745ac[_0x3a5d69(0x6db)]:JSON['stringify'](_0x1745ac,null,0x2)));}}[a0_0x1ec271(0x2de)](_0x32081d,_0x3df242){const _0x2f4968=a0_0x1ec271;for(let _0x156737 of _0x32081d)_0x156737[_0x2f4968(0x615)]&&(_0x156737[_0x2f4968(0x615)]=this[_0x2f4968(0x7e6)](_0x156737[_0x2f4968(0x615)],_0x3df242)),_0x156737['optionDescription']&&(_0x156737[_0x2f4968(0x7e0)]=this[_0x2f4968(0x7e6)](_0x156737[_0x2f4968(0x7e0)],_0x3df242));}async[a0_0x1ec271(0x673)](_0x17737f,_0x1a126f){const _0xcdebf6=a0_0x1ec271;let _0x3f8672=_0x17737f[_0xcdebf6(0x560)];_0x1a126f[_0xcdebf6(0x5e9)]['remoteJid']&&_0x1a126f[_0xcdebf6(0x5e9)]['remoteJid'][_0xcdebf6(0x39e)]()!==''&&(_0x3f8672=_0x1a126f[_0xcdebf6(0x5e9)][_0xcdebf6(0x560)][_0xcdebf6(0x39e)]()),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0xcdebf6(0x47b)][_0xcdebf6(0x556)]+'):\x20Enviando\x20enquete');let _0x365be1=_0x17737f[_0xcdebf6(0x83f)]['filter'](_0x87adc8=>_0x87adc8['blockId']===_0x1a126f[_0xcdebf6(0x6dd)])[_0xcdebf6(0x59a)]((_0x142690,_0x40647f)=>_0x142690[_0xcdebf6(0x4a2)]-_0x40647f[_0xcdebf6(0x4a2)]);this['replaceVariablesInReplyOptions'](_0x365be1,_0x17737f[_0xcdebf6(0x55e)][_0xcdebf6(0x2f1)]);let _0x3ca1fa=_0x365be1[_0xcdebf6(0x540)](_0x596cc6=>_0x596cc6[_0xcdebf6(0x615)]),_0x37d70b={'number':_0x3f8672,'menuMessage':{'type':_0x1a126f[_0xcdebf6(0x5e9)][_0xcdebf6(0x783)]||_0xcdebf6(0x661),'text':_0x1a126f[_0xcdebf6(0x5e9)][_0xcdebf6(0x308)]||_0x1a126f[_0xcdebf6(0x5e9)][_0xcdebf6(0x49a)],'footerText':_0x1a126f['uazapi'][_0xcdebf6(0x1c8)],'buttonText':_0x1a126f[_0xcdebf6(0x5e9)]['buttonText'],'selectableCount':0x1,'choices':_0x3ca1fa},'options':{'delay':_0x1a126f[_0xcdebf6(0x5e9)][_0xcdebf6(0x494)]}};try{let _0x466174=await this[_0xcdebf6(0x16c)](_0x37d70b);if(_0x466174){let _0x3bdc5d={'_id':_0x466174[_0xcdebf6(0x669)]['id'],'_fromMe':_0x466174[_0xcdebf6(0x669)][_0xcdebf6(0x794)],'_remoteJid':_0x466174[_0xcdebf6(0x669)][_0xcdebf6(0x560)]};_0x1a126f[_0xcdebf6(0x5e9)][_0xcdebf6(0x4cf)]===!0x0&&(_0x17737f['status']=_0xcdebf6(0x1f5),this[_0xcdebf6(0x24a)]['verbose'](this[_0xcdebf6(0x33c)]+'\x20('+this[_0xcdebf6(0x47b)]['wuid']+_0xcdebf6(0x23f)+_0x17737f[_0xcdebf6(0x721)])),this['logger'][_0xcdebf6(0x641)](this[_0xcdebf6(0x33c)]+'\x20('+this[_0xcdebf6(0x47b)][_0xcdebf6(0x556)]+_0xcdebf6(0x5ab)+(_0x1a126f[_0xcdebf6(0x5e9)][_0xcdebf6(0x49a)]||_0x1a126f['uazapi'][_0xcdebf6(0x308)])),_0x17737f[_0xcdebf6(0x4a4)]=_0x466174[_0xcdebf6(0x669)]['id'],_0x17737f['waitingMenu_text']=_0x1a126f[_0xcdebf6(0x5e9)]['name']||_0x1a126f[_0xcdebf6(0x5e9)][_0xcdebf6(0x308)],_0x17737f['waitingMenu_replyOptions']=_0x365be1,_0x1a126f[_0xcdebf6(0x5e9)][_0xcdebf6(0x6ab)]&&(_0x17737f['waitingMenu_ExpiredMessage']=_0x1a126f['uazapi'][_0xcdebf6(0x6ab)]),this[_0xcdebf6(0x24a)][_0xcdebf6(0x641)](this[_0xcdebf6(0x33c)]+'\x20('+this[_0xcdebf6(0x47b)][_0xcdebf6(0x556)]+_0xcdebf6(0x624)+_0x17737f[_0xcdebf6(0x337)]);let _0x3acc4e=(0x0,m[_0xcdebf6(0x689)])(_0x466174[_0xcdebf6(0x6db)]),_0x3c7ac9=(0x0,m[_0xcdebf6(0x6a2)])(_0x3acc4e);_0x17737f[_0xcdebf6(0x55e)]['lastBlockId']=_0x1a126f[_0xcdebf6(0x6dd)]['toString']();let {message_normalized:_0x49c3ba}=this['normalizeMessage'](_0x3acc4e,_0x3c7ac9,null);_0x17737f[_0xcdebf6(0x55e)][_0xcdebf6(0x747)]=await _0x49c3ba;let _0x2f6442={'messageId':_0x466174[_0xcdebf6(0x669)]['id']},_0x8fc695=_0x17737f['chatLog']['realVariables'];Object[_0xcdebf6(0x7ad)](_0x8fc695,_0x3bdc5d),_0x17737f[_0xcdebf6(0x55e)][_0xcdebf6(0x2f1)]=_0x8fc695,this['updateConversation'](_0x17737f,_0x1a126f,_0x2f6442);}else{let _0x125485={'error':!0x0};this['updateConversation'](_0x17737f,_0x1a126f,_0x125485),this[_0xcdebf6(0x24a)][_0xcdebf6(0x409)](this[_0xcdebf6(0x33c)]+'\x20('+this[_0xcdebf6(0x47b)][_0xcdebf6(0x556)]+_0xcdebf6(0x7c6));}}catch(_0x314ca){let _0x1b54bc={'error':!0x0,'errorLog':_0x314ca instanceof Error?_0x314ca[_0xcdebf6(0x6db)]:JSON[_0xcdebf6(0x742)](_0x314ca,null,0x2)};this[_0xcdebf6(0x59f)](_0x17737f,_0x1a126f,_0x1b54bc),this['logger'][_0xcdebf6(0x409)](this['instanceName']+'\x20('+this['instance'][_0xcdebf6(0x556)]+_0xcdebf6(0x416)+(_0x314ca instanceof Error?_0x314ca[_0xcdebf6(0x6db)]:JSON[_0xcdebf6(0x742)](_0x314ca,null,0x2)));}}async[a0_0x1ec271(0x526)](_0x20d5f7,_0x2b0352){const _0x56a5ae=a0_0x1ec271;this['logger'][_0x56a5ae(0x641)](this[_0x56a5ae(0x33c)]+'\x20('+this[_0x56a5ae(0x47b)][_0x56a5ae(0x556)]+_0x56a5ae(0x224));let _0x3bad52=_0x20d5f7[_0x56a5ae(0x55e)]['blockLogs'][_0x56a5ae(0x741)](_0x1a816c=>_0x1a816c[_0x56a5ae(0x6e3)][_0x56a5ae(0x506)]()===_0x2b0352[_0x56a5ae(0x5e9)]['blockId'][_0x56a5ae(0x506)]()),_0x2430d6={'id':_0x3bad52[_0x56a5ae(0x2b9)],'remoteJid':_0x3bad52[_0x56a5ae(0x560)],'fromMe':_0x3bad52[_0x56a5ae(0x794)]};try{let _0x147111=await this[_0x56a5ae(0x78d)](_0x2430d6);if(_0x147111){let _0x48208b=(0x0,m[_0x56a5ae(0x689)])(_0x147111[_0x56a5ae(0x6db)]),_0x2398e8=(0x0,m['getContentType'])(_0x48208b);_0x20d5f7[_0x56a5ae(0x55e)][_0x56a5ae(0x4c2)]=_0x2b0352[_0x56a5ae(0x6dd)][_0x56a5ae(0x506)]();let {message_normalized:_0x35dcd6}=this['normalizeMessage'](_0x48208b,_0x2398e8,null);_0x20d5f7['chatLog'][_0x56a5ae(0x747)]=await _0x35dcd6;let _0x24373d={};this['updateConversation'](_0x20d5f7,_0x2b0352,_0x24373d);}else{let _0x35e793={'error':!0x0};this[_0x56a5ae(0x59f)](_0x20d5f7,_0x2b0352,_0x35e793),this[_0x56a5ae(0x24a)][_0x56a5ae(0x409)](this[_0x56a5ae(0x33c)]+'\x20('+this[_0x56a5ae(0x47b)][_0x56a5ae(0x556)]+_0x56a5ae(0x429));}}catch(_0x1530e5){let _0x25add3={'error':!0x0,'errorLog':_0x1530e5 instanceof Error?_0x1530e5[_0x56a5ae(0x6db)]:JSON[_0x56a5ae(0x742)](_0x1530e5,null,0x2)};this[_0x56a5ae(0x59f)](_0x20d5f7,_0x2b0352,_0x25add3),this['logger'][_0x56a5ae(0x409)](this[_0x56a5ae(0x33c)]+'\x20('+this[_0x56a5ae(0x47b)][_0x56a5ae(0x556)]+_0x56a5ae(0x4bd)+(_0x1530e5 instanceof Error?_0x1530e5[_0x56a5ae(0x6db)]:JSON[_0x56a5ae(0x742)](_0x1530e5,null,0x2)));}}async['createFlow'](_0x3c1425){const _0x254b19=a0_0x1ec271;if(!_0x3c1425[_0x254b19(0x49a)])throw new w(_0x254b19(0x7ea));if(await this[_0x254b19(0x739)][_0x254b19(0x630)][_0x254b19(0x1a0)]({'where':{'name':_0x3c1425[_0x254b19(0x49a)]}},this[_0x254b19(0x47b)][_0x254b19(0x556)]))throw new w(_0x254b19(0x3ed));return'name'in _0x3c1425&&_0x254b19(0x533)in _0x3c1425&&_0x254b19(0x210)in _0x3c1425&&Object['keys'](_0x3c1425)[_0x254b19(0x710)]===0x3?this['createSharedFlow'](_0x3c1425['owner'],_0x3c1425['sharePass'],_0x3c1425[_0x254b19(0x49a)]):this[_0x254b19(0x238)](_0x3c1425);}async[a0_0x1ec271(0x1eb)](_0x4bdb87,_0x4ba79c,_0x231750){const _0x5204cc=a0_0x1ec271;try{this[_0x5204cc(0x24a)][_0x5204cc(0x641)](this[_0x5204cc(0x33c)]+'\x20('+this[_0x5204cc(0x47b)]['wuid']+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x264595=await this[_0x5204cc(0x739)][_0x5204cc(0x630)]['findOne']({'where':{'name':_0x231750,'sharePass':_0x4ba79c}},_0x4bdb87);if(!_0x264595)throw new w(_0x5204cc(0x62e));let _0x366d58={..._0x264595};return _0x366d58[_0x5204cc(0x210)]=this['instance'][_0x5204cc(0x556)],_0x366d58[_0x5204cc(0x5c0)]=Array[_0x5204cc(0x445)](new Set([..._0x264595[_0x5204cc(0x5c0)]||[],_0x264595['owner'],this['instance'][_0x5204cc(0x556)]])),_0x264595[_0x5204cc(0x5c0)]=_0x366d58['shareOwners'],await this[_0x5204cc(0x739)]['flow'][_0x5204cc(0x5ec)](_0x264595[_0x5204cc(0x6dd)],{'shareOwners':_0x264595[_0x5204cc(0x5c0)]},_0x264595['owner']),_0x264595['default']===!0x0&&await this[_0x5204cc(0x739)][_0x5204cc(0x630)][_0x5204cc(0x4e2)]({},{'default':!0x1},this[_0x5204cc(0x47b)][_0x5204cc(0x556)]),await this[_0x5204cc(0x739)][_0x5204cc(0x630)][_0x5204cc(0x2bf)](_0x366d58,this[_0x5204cc(0x47b)][_0x5204cc(0x556)]);}catch(_0x33446d){throw this['logger'][_0x5204cc(0x409)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5204cc(0x795)+_0x33446d),new w(_0x5204cc(0x489)+_0x33446d);}}async[a0_0x1ec271(0x238)](_0xaf714a){const _0x238031=a0_0x1ec271;try{this[_0x238031(0x24a)][_0x238031(0x641)](this[_0x238031(0x33c)]+'\x20('+this[_0x238031(0x47b)][_0x238031(0x556)]+_0x238031(0x3a9)),delete _0xaf714a[_0x238031(0x5c0)],delete _0xaf714a[_0x238031(0x533)],delete _0xaf714a[_0x238031(0x210)],_0xaf714a[_0x238031(0x3eb)]===!0x0&&await this[_0x238031(0x739)][_0x238031(0x630)][_0x238031(0x4e2)]({},{'default':!0x1},this[_0x238031(0x47b)][_0x238031(0x556)]);let _0x20c742=new le[(_0x238031(0x64e))][(_0x238031(0x394))](),_0x5f2640={'_id':_0x20c742,'default':!0x0,'title':_0x238031(0x6da),'x':0x0,'y':0x0},_0x4bd987={'_id':new le[(_0x238031(0x64e))][(_0x238031(0x394))](),'order':0x1,'groupId':_0x20c742[_0x238031(0x506)](),'type':_0x238031(0x845)},_0x4b5350={'_id':new le[(_0x238031(0x64e))][(_0x238031(0x394))](),'owner':this['instance'][_0x238031(0x556)],'name':_0xaf714a[_0x238031(0x49a)],'groups':[_0x5f2640],'blocks':[_0x4bd987],..._0xaf714a};return await this['repository'][_0x238031(0x630)][_0x238031(0x2bf)](_0x4b5350,this['instance'][_0x238031(0x556)]);}catch(_0x3117fd){throw this[_0x238031(0x24a)][_0x238031(0x409)](this['instanceName']+'\x20('+this[_0x238031(0x47b)][_0x238031(0x556)]+_0x238031(0x181)+_0x3117fd),new w(_0x238031(0x4e7)+_0x3117fd);}}async[a0_0x1ec271(0x1e9)](_0x325a6a,_0x40c46b){const _0x159fa0=a0_0x1ec271;try{let _0x52ea1f=await this['repository'][_0x159fa0(0x630)]['findOne']({'where':{'_id':_0x325a6a}},_0x40c46b);if(_0x52ea1f&&_0x52ea1f[_0x159fa0(0x5c0)]){for(let _0x1c5879 of _0x52ea1f[_0x159fa0(0x5c0)])if(_0x1c5879!==_0x40c46b){let _0xf31985={..._0x52ea1f,'owner':_0x1c5879};await this[_0x159fa0(0x739)][_0x159fa0(0x630)][_0x159fa0(0x7ff)](_0x325a6a,_0xf31985,_0x1c5879);}}}catch(_0x27368f){this[_0x159fa0(0x24a)][_0x159fa0(0x409)](_0x159fa0(0x6c2)+_0x27368f);}}async['deleteFlow'](_0x17c896){const _0x1b7166=a0_0x1ec271;try{this[_0x1b7166(0x24a)][_0x1b7166(0x641)](this[_0x1b7166(0x33c)]+'\x20('+this[_0x1b7166(0x47b)]['wuid']+'):\x20Deletando\x20fluxo...');let _0x5e3146=await this[_0x1b7166(0x739)][_0x1b7166(0x630)][_0x1b7166(0x1a0)]({'where':{'name':_0x17c896}},this[_0x1b7166(0x47b)]['wuid']);if(_0x5e3146&&_0x5e3146[_0x1b7166(0x5c0)]&&_0x5e3146[_0x1b7166(0x5c0)][_0x1b7166(0x710)]>0x1){for(let _0x4f5eb1 of _0x5e3146[_0x1b7166(0x5c0)])if(_0x4f5eb1!==this[_0x1b7166(0x47b)][_0x1b7166(0x556)]){let _0x447558=await this[_0x1b7166(0x739)][_0x1b7166(0x630)][_0x1b7166(0x1a0)]({'where':{'sharePass':_0x5e3146[_0x1b7166(0x533)]}},_0x4f5eb1);_0x447558&&(_0x447558['shareOwners']=_0x447558[_0x1b7166(0x5c0)]['filter'](_0x4c387a=>_0x4c387a!==_0x5e3146[_0x1b7166(0x210)]),await this[_0x1b7166(0x739)][_0x1b7166(0x630)][_0x1b7166(0x5ec)](_0x447558[_0x1b7166(0x6dd)],{'shareOwners':_0x447558[_0x1b7166(0x5c0)]},_0x4f5eb1));}}return await this['repository'][_0x1b7166(0x630)][_0x1b7166(0x5bf)]({'where':{'name':_0x17c896}},this['instance'][_0x1b7166(0x556)]);}catch(_0x2eba30){return this['logger'][_0x1b7166(0x409)](this[_0x1b7166(0x33c)]+'\x20('+this[_0x1b7166(0x47b)]['wuid']+_0x1b7166(0x42f)+(_0x2eba30 instanceof Error?_0x2eba30[_0x1b7166(0x6db)]:JSON[_0x1b7166(0x742)](_0x2eba30,null,0x2))),{'message':_0x1b7166(0x713)+_0x2eba30};}}async['getFlow'](_0x523426){const _0x519cfa=a0_0x1ec271;try{this[_0x519cfa(0x24a)][_0x519cfa(0x641)](this[_0x519cfa(0x33c)]+'\x20('+this[_0x519cfa(0x47b)]['wuid']+_0x519cfa(0x849));let _0x4fdf5f=await this[_0x519cfa(0x739)][_0x519cfa(0x630)][_0x519cfa(0x1a0)]({'where':{'name':_0x523426}},this[_0x519cfa(0x47b)][_0x519cfa(0x556)]);if(!_0x4fdf5f)throw new Error('Flow\x20não\x20encontrado');if(!this[_0x519cfa(0x5c9)]&&(await this[_0x519cfa(0x38b)](),!this[_0x519cfa(0x5c9)]))return null;let _0x57c589=this[_0x519cfa(0x5c9)]?.[_0x519cfa(0x22b)][_0x519cfa(0x540)](_0x2832e8=>_0x2832e8[_0x519cfa(0x49a)]),_0x187f5b=[_0x519cfa(0x827),_0x519cfa(0x427),_0x519cfa(0x31d),_0x519cfa(0x3bc),'status',_0x519cfa(0x38c),_0x519cfa(0x1df),_0x519cfa(0x4d7),_0x519cfa(0x502)];_0x4fdf5f[_0x519cfa(0x5b9)]=_0x4fdf5f['variables']['filter'](_0x1ae3c8=>!(_0x1ae3c8[_0x519cfa(0x331)]==='leadInfo'||_0x1ae3c8[_0x519cfa(0x28c)])),_0x187f5b[_0x519cfa(0x359)](_0x2ddca9=>{const _0x17fb63=_0x519cfa;_0x4fdf5f[_0x17fb63(0x5b9)][_0x17fb63(0x474)]({'folder':_0x17fb63(0x28c),'name':_0x2ddca9,'value':'','doc':'','leadInfo':!0x0});}),_0x57c589[_0x519cfa(0x359)](_0x5f1726=>{const _0x5a40e2=_0x519cfa;let _0x8f35c8=_0x4fdf5f['variables'][_0x5a40e2(0x5fc)](_0x393260=>_0x393260[_0x5a40e2(0x49a)]===_0x5f1726);_0x8f35c8===-0x1?_0x4fdf5f[_0x5a40e2(0x5b9)][_0x5a40e2(0x474)]({'folder':'leadInfo','name':_0x5f1726,'value':'','doc':'','leadInfo':!0x0}):(_0x4fdf5f[_0x5a40e2(0x5b9)][_0x8f35c8]['folder']='leadInfo',_0x4fdf5f[_0x5a40e2(0x5b9)][_0x8f35c8]['leadInfo']=!0x0);}),_0x4fdf5f[_0x519cfa(0x566)]&&_0x4fdf5f[_0x519cfa(0x566)]['length']>0x0&&_0x4fdf5f[_0x519cfa(0x566)][_0x519cfa(0x359)](_0x407320=>{const _0x5d56fe=_0x519cfa;_0x407320[_0x5d56fe(0x496)]&&_0x407320['next_groupId']&&_0x407320['groupId']===_0x407320[_0x5d56fe(0x509)]&&(_0x407320[_0x5d56fe(0x509)]=null);});let _0x36a308=await this[_0x519cfa(0x739)][_0x519cfa(0x630)][_0x519cfa(0x5ec)](_0x4fdf5f[_0x519cfa(0x6dd)],_0x4fdf5f,this[_0x519cfa(0x47b)][_0x519cfa(0x556)]);if(!_0x36a308)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x36a308;}catch(_0xb9d6d0){throw this[_0x519cfa(0x24a)]['error'](this[_0x519cfa(0x33c)]+'\x20('+this[_0x519cfa(0x47b)][_0x519cfa(0x556)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20'+(_0xb9d6d0 instanceof Error?_0xb9d6d0[_0x519cfa(0x6db)]:JSON['stringify'](_0xb9d6d0,null,0x2))),new w(_0x519cfa(0x631)+_0xb9d6d0);}}async[a0_0x1ec271(0x4e8)](){const _0x319e5d=a0_0x1ec271;try{return this['logger'][_0x319e5d(0x641)](this['instanceName']+'\x20('+this[_0x319e5d(0x47b)][_0x319e5d(0x556)]+_0x319e5d(0x730)),await this[_0x319e5d(0x739)][_0x319e5d(0x630)][_0x319e5d(0x4dc)](this[_0x319e5d(0x47b)][_0x319e5d(0x556)]),await this['repository'][_0x319e5d(0x630)][_0x319e5d(0x7d3)]({'where':{}},this[_0x319e5d(0x47b)][_0x319e5d(0x556)]);}catch(_0x1ac17e){return this[_0x319e5d(0x24a)]['error'](this[_0x319e5d(0x33c)]+'\x20('+this[_0x319e5d(0x47b)][_0x319e5d(0x556)]+_0x319e5d(0x203)+(_0x1ac17e instanceof Error?_0x1ac17e[_0x319e5d(0x6db)]:JSON['stringify'](_0x1ac17e,null,0x2))),{'message':_0x319e5d(0x6af)+_0x1ac17e};}}async[a0_0x1ec271(0x289)](_0x8fa984){const _0x8285c0=a0_0x1ec271;try{this[_0x8285c0(0x24a)][_0x8285c0(0x641)](this[_0x8285c0(0x33c)]+'\x20('+this['instance']['wuid']+_0x8285c0(0x1fe));let _0x99c0c4=await this['repository'][_0x8285c0(0x630)]['findOne']({'where':{'name':_0x8fa984[_0x8285c0(0x49a)]}},this['instance'][_0x8285c0(0x556)]);if(!_0x99c0c4)return{'message':_0x8285c0(0x1b9)};_0x8fa984['default']===!0x0&&await this[_0x8285c0(0x739)][_0x8285c0(0x630)][_0x8285c0(0x4e2)]({},{'default':!0x1},this[_0x8285c0(0x47b)][_0x8285c0(0x556)]),delete _0x8fa984[_0x8285c0(0x5c0)],delete _0x8fa984[_0x8285c0(0x533)];let _0x374b07=await this['repository'][_0x8285c0(0x630)]['updateOne'](_0x99c0c4[_0x8285c0(0x6dd)],_0x8fa984,this[_0x8285c0(0x47b)][_0x8285c0(0x556)]);return _0x374b07&&_0x374b07[_0x8285c0(0x5c0)]&&_0x374b07[_0x8285c0(0x5c0)][_0x8285c0(0x710)]>0x1&&this[_0x8285c0(0x1e9)](_0x374b07['_id'],this['instance'][_0x8285c0(0x556)]),_0x374b07;}catch(_0x5c1085){throw this[_0x8285c0(0x24a)]['error'](this['instanceName']+'\x20('+this[_0x8285c0(0x47b)][_0x8285c0(0x556)]+_0x8285c0(0x6a8)+(_0x5c1085 instanceof Error?_0x5c1085[_0x8285c0(0x6db)]:JSON[_0x8285c0(0x742)](_0x5c1085,null,0x2))),new w(_0x8285c0(0x6e8)+(_0x5c1085 instanceof Error?_0x5c1085[_0x8285c0(0x6db)]:JSON['stringify'](_0x5c1085,null,0x2)));}}async[a0_0x1ec271(0x426)](_0x48a171){const _0x5c32b7=a0_0x1ec271;try{this['logger'][_0x5c32b7(0x641)](this[_0x5c32b7(0x33c)]+'\x20('+this['instance'][_0x5c32b7(0x556)]+_0x5c32b7(0x3a8));let _0x1a34eb=await this[_0x5c32b7(0x739)][_0x5c32b7(0x630)][_0x5c32b7(0x1a0)]({'where':{'name':_0x48a171['name']}},this[_0x5c32b7(0x47b)][_0x5c32b7(0x556)]);_0x1a34eb||this[_0x5c32b7(0x7e9)](_0x5c32b7(0x658));let {block:_0x42ecc0}=_0x48a171;_0x42ecc0?.[_0x5c32b7(0x530)]?this[_0x5c32b7(0x737)](_0x1a34eb,_0x48a171):_0x42ecc0?.[_0x5c32b7(0x41e)]?this[_0x5c32b7(0x652)](_0x1a34eb,_0x48a171):_0x42ecc0[_0x5c32b7(0x6dd)]?await this[_0x5c32b7(0x842)](_0x1a34eb,_0x48a171):this[_0x5c32b7(0x64a)](_0x1a34eb,_0x48a171);let _0xe7831e=await this['repository'][_0x5c32b7(0x630)][_0x5c32b7(0x5ec)](_0x1a34eb[_0x5c32b7(0x6dd)],_0x1a34eb,this[_0x5c32b7(0x47b)]['wuid']);if(_0xe7831e&&_0xe7831e[_0x5c32b7(0x5c0)]&&_0xe7831e[_0x5c32b7(0x5c0)]['length']>0x1&&this[_0x5c32b7(0x1e9)](_0xe7831e[_0x5c32b7(0x6dd)],this[_0x5c32b7(0x47b)]['wuid']),!_0xe7831e)throw new Error(_0x5c32b7(0x242));return _0xe7831e;}catch(_0x1de1dd){this[_0x5c32b7(0x7e9)](_0x5c32b7(0x5df)+_0x1de1dd);}}async[a0_0x1ec271(0x737)](_0x599ab3,_0x6c8a56){const _0x2dbe13=a0_0x1ec271;let _0x5c92f8=_0x6c8a56[_0x2dbe13(0x4f8)][_0x2dbe13(0x6dd)],_0x1d73cc=_0x599ab3['blocks'][_0x2dbe13(0x741)](_0x390aa1=>_0x390aa1[_0x2dbe13(0x6dd)][_0x2dbe13(0x506)]()===_0x5c92f8);if(!_0x1d73cc){this['logger'][_0x2dbe13(0x409)](this['instanceName']+'\x20('+this['instance'][_0x2dbe13(0x556)]+_0x2dbe13(0x738)+_0x5c92f8+_0x2dbe13(0x6b8));return;}this[_0x2dbe13(0x24a)][_0x2dbe13(0x641)](this[_0x2dbe13(0x33c)]+'\x20('+this[_0x2dbe13(0x47b)][_0x2dbe13(0x556)]+_0x2dbe13(0x37d)+JSON[_0x2dbe13(0x742)](_0x1d73cc));let _0x45bfbb=JSON[_0x2dbe13(0x49c)](JSON[_0x2dbe13(0x742)](_0x1d73cc));_0x45bfbb[_0x2dbe13(0x6dd)]=new le[(_0x2dbe13(0x3eb))][(_0x2dbe13(0x64e))][(_0x2dbe13(0x394))](),this[_0x2dbe13(0x24a)]['verbose'](this[_0x2dbe13(0x33c)]+'\x20('+this['instance'][_0x2dbe13(0x556)]+_0x2dbe13(0x45d)+JSON[_0x2dbe13(0x742)](_0x45bfbb)),_0x599ab3[_0x2dbe13(0x566)][_0x2dbe13(0x474)](_0x45bfbb),this[_0x2dbe13(0x66c)](_0x599ab3[_0x2dbe13(0x566)],_0x45bfbb[_0x2dbe13(0x496)]);}[a0_0x1ec271(0x7e9)](_0x3e48d8){const _0x860b8=a0_0x1ec271;throw this[_0x860b8(0x24a)][_0x860b8(0x409)](this[_0x860b8(0x33c)]+'\x20('+this[_0x860b8(0x47b)][_0x860b8(0x556)]+_0x860b8(0x355)+_0x3e48d8),new w(_0x3e48d8);}[a0_0x1ec271(0x652)](_0x20dc0b,_0x58e001){const _0x277c51=a0_0x1ec271;let {block:_0x350b3f}=_0x58e001;if(_0x350b3f[_0x277c51(0x325)]==='start'){this[_0x277c51(0x7e9)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x350b3f['_id']){this[_0x277c51(0x7e9)](_0x277c51(0x4d5));return;}let _0x390b68=_0x20dc0b[_0x277c51(0x566)][_0x277c51(0x741)](_0x1b019d=>_0x1b019d['_id'][_0x277c51(0x506)]()===_0x58e001[_0x277c51(0x4f8)][_0x277c51(0x6dd)][_0x277c51(0x506)]());if(!_0x390b68){this['throwAndLogError'](_0x277c51(0x38e)+_0x350b3f[_0x277c51(0x6dd)]+_0x277c51(0x195));return;}_0x20dc0b[_0x277c51(0x566)]=_0x20dc0b['blocks'][_0x277c51(0x3c7)](_0x2b7b94=>_0x2b7b94[_0x277c51(0x6dd)]['toString']()!==_0x58e001[_0x277c51(0x4f8)][_0x277c51(0x6dd)][_0x277c51(0x506)]()),_0x20dc0b[_0x277c51(0x207)]=_0x20dc0b[_0x277c51(0x207)][_0x277c51(0x3c7)](_0x859c44=>_0x859c44[_0x277c51(0x6e3)]!==_0x350b3f[_0x277c51(0x6dd)][_0x277c51(0x506)]()),_0x20dc0b[_0x277c51(0x568)]=_0x20dc0b['varedits'][_0x277c51(0x3c7)](_0x456649=>_0x456649[_0x277c51(0x6e3)]!==_0x350b3f[_0x277c51(0x6dd)][_0x277c51(0x506)]()),_0x20dc0b[_0x277c51(0x83f)]=_0x20dc0b[_0x277c51(0x83f)][_0x277c51(0x3c7)](_0x53ec6e=>_0x53ec6e['blockId']!==_0x350b3f['_id'][_0x277c51(0x506)]()),this['reorderBlocks'](_0x20dc0b[_0x277c51(0x566)],_0x390b68['groupId']);}async[a0_0x1ec271(0x842)](_0x5db394,_0xf2d4aa){const _0x309991=a0_0x1ec271;let _0x5566cc=_0x5db394['blocks'][_0x309991(0x5fc)](_0x2340bc=>_0x2340bc['_id'][_0x309991(0x506)]()===_0xf2d4aa[_0x309991(0x4f8)][_0x309991(0x6dd)][_0x309991(0x506)]());if(this[_0x309991(0x24a)][_0x309991(0x641)](this[_0x309991(0x33c)]+'\x20('+this[_0x309991(0x47b)][_0x309991(0x556)]+_0x309991(0x3a7)+_0x5566cc),_0x5566cc===-0x1){this[_0x309991(0x24a)][_0x309991(0x641)](_0x309991(0x38e)+_0xf2d4aa[_0x309991(0x4f8)][_0x309991(0x6dd)]+_0x309991(0x6bd));return;}if(_0x5db394[_0x309991(0x566)][_0x5566cc][_0x309991(0x325)]===_0x309991(0x845)){let _0x1493ee=Object[_0x309991(0x69d)](_0xf2d4aa[_0x309991(0x4f8)]);if(_0x1493ee[_0x309991(0x710)]>0x2||_0x1493ee[_0x309991(0x710)]===0x2&&!_0x1493ee[_0x309991(0x537)](_0x309991(0x509))){this[_0x309991(0x7e9)](_0x309991(0x5fd));return;}}let _0xb2eaef=_0x5db394[_0x309991(0x566)][_0x5566cc][_0x309991(0x496)];for(let _0x3574de in _0xf2d4aa[_0x309991(0x4f8)])_0xf2d4aa['block']['hasOwnProperty'](_0x3574de)&&(_0x5db394[_0x309991(0x566)][_0x5566cc][_0x3574de]=_0xf2d4aa[_0x309991(0x4f8)][_0x3574de]);if(this['logger']['verbose'](this[_0x309991(0x33c)]+'\x20('+this[_0x309991(0x47b)][_0x309991(0x556)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x309991(0x742)](_0x5db394[_0x309991(0x566)][_0x5566cc])),_0x5db394[_0x309991(0x566)][_0x5566cc][_0x309991(0x6ec)]&&'header'in _0x5db394[_0x309991(0x566)][_0x5566cc][_0x309991(0x6ec)]){this[_0x309991(0x24a)][_0x309991(0x641)](this[_0x309991(0x33c)]+'\x20('+this[_0x309991(0x47b)][_0x309991(0x556)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x2125b9=JSON[_0x309991(0x742)](_0x5db394[_0x309991(0x566)][_0x5566cc][_0x309991(0x6ec)][_0x309991(0x2bb)],null,0x1);_0x2125b9[_0x309991(0x710)]>0x2&&(_0x2125b9=_0x2125b9[_0x309991(0x590)](0x1,_0x2125b9['length']-0x1)[_0x309991(0x39e)]()),_0x5db394[_0x309991(0x566)][_0x5566cc][_0x309991(0x6ec)][_0x309991(0x177)]=_0x2125b9;}if(_0x5db394[_0x309991(0x566)][_0x5566cc][_0x309991(0x6ec)]&&_0x309991(0x542)in _0x5db394[_0x309991(0x566)][_0x5566cc][_0x309991(0x6ec)]&&!(_0x309991(0x76b)in _0x5db394[_0x309991(0x566)][_0x5566cc][_0x309991(0x6ec)])){this['logger'][_0x309991(0x641)](this[_0x309991(0x33c)]+'\x20('+this[_0x309991(0x47b)][_0x309991(0x556)]+_0x309991(0x1c2)),_0x5db394[_0x309991(0x566)][_0x5566cc][_0x309991(0x6ec)][_0x309991(0x820)]=!0x1;let _0x2c9bea=JSON[_0x309991(0x742)](_0x5db394[_0x309991(0x566)][_0x5566cc]['apirequest']['body'],null,0x2);_0x5db394[_0x309991(0x566)][_0x5566cc][_0x309991(0x6ec)]['bodyString']=_0x2c9bea;}if(_0x5db394[_0x309991(0x566)][_0x5566cc]['apirequest']&&_0x309991(0x76b)in _0x5db394[_0x309991(0x566)][_0x5566cc][_0x309991(0x6ec)]){_0x5db394[_0x309991(0x566)][_0x5566cc][_0x309991(0x6ec)][_0x309991(0x820)]=!0x1;let _0x57df82=_0x5db394[_0x309991(0x566)][_0x5566cc][_0x309991(0x6ec)]['bodyString'],_0x3ec4e9=this[_0x309991(0x2a9)](_0x57df82);_0x5db394[_0x309991(0x566)][_0x5566cc][_0x309991(0x6ec)][_0x309991(0x76b)]=_0x3ec4e9[_0x309991(0x1e0)],_0x5db394[_0x309991(0x566)][_0x5566cc][_0x309991(0x6ec)]['bodyStringErrorParse']=_0x3ec4e9['error'];}let _0x454d75=_0x5db394['blocks'][_0x5566cc]['groupId'];_0xb2eaef!==_0x454d75?(this[_0x309991(0x66c)](_0x5db394[_0x309991(0x566)],_0xb2eaef),this[_0x309991(0x66c)](_0x5db394[_0x309991(0x566)],_0x454d75)):this[_0x309991(0x66c)](_0x5db394[_0x309991(0x566)],_0xb2eaef);}[a0_0x1ec271(0x2a9)](_0x501baa){const _0x42d0bf=a0_0x1ec271;let _0x13a95e='\u205f',_0x18a0fa=!0x1,_0x2bec15='';for(let _0xea019c=0x0;_0xea019c<_0x501baa['length'];_0xea019c++){let _0x4c23fb=_0x501baa[_0xea019c];_0x4c23fb==='\x22'&&(_0xea019c===0x0||_0x501baa[_0xea019c-0x1]!=='\x5c')&&(_0x18a0fa=!_0x18a0fa),!(!_0x18a0fa&&(_0x4c23fb==='\x0a'||_0x4c23fb==='\x20'||_0x4c23fb===_0x13a95e))&&(_0x2bec15+=_0x4c23fb);}let _0x5500a8={},_0x60ce24=9876543210.1234,_0xeee4fa=_0x2bec15['replace'](/\{\{([^}]+)\}\}/g,_0x5003e3=>{let _0x5af0d6=_0x5003e3,_0x32debd=''+_0x60ce24;return _0x5500a8[_0x32debd]=_0x5af0d6,_0x60ce24+=0.0001,_0x32debd;}),_0x12a70d='',_0x59030c=!0x1;try{let _0x35b911=JSON[_0x42d0bf(0x49c)](_0xeee4fa);_0x12a70d=JSON['stringify'](_0x35b911,null,0x2),_0x12a70d=_0x12a70d[_0x42d0bf(0x448)](/\n( +)/g,(_0x3ca81a,_0x4a8308)=>{const _0x4b54a5=_0x42d0bf;let _0x54a015=_0x4a8308['length'];return'\x0a'+_0x13a95e[_0x4b54a5(0x406)](_0x54a015*0x2);}),_0x12a70d=_0x12a70d[_0x42d0bf(0x448)](/(\d{10,}\.\d+)/g,_0x193d8a=>_0x5500a8[_0x193d8a]||_0x193d8a);}catch(_0x38351a){console['error'](_0x42d0bf(0x48d),_0x38351a),_0x12a70d=_0x501baa,_0x59030c=!0x0;}return{'result':_0x12a70d,'error':_0x59030c};}[a0_0x1ec271(0x64a)](_0x55d8ab,_0x4efbfa){const _0x5a0391=a0_0x1ec271;if(_0x4efbfa[_0x5a0391(0x4f8)][_0x5a0391(0x325)]==='start'){this[_0x5a0391(0x7e9)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x4efbfa[_0x5a0391(0x4f8)][_0x5a0391(0x6ec)]&&_0x5a0391(0x2bb)in _0x4efbfa['block'][_0x5a0391(0x6ec)]){this[_0x5a0391(0x24a)][_0x5a0391(0x641)](this[_0x5a0391(0x33c)]+'\x20('+this[_0x5a0391(0x47b)][_0x5a0391(0x556)]+_0x5a0391(0x660));let _0x27edae=JSON[_0x5a0391(0x742)](_0x4efbfa['block'][_0x5a0391(0x6ec)][_0x5a0391(0x2bb)],null,0x1);_0x27edae[_0x5a0391(0x710)]>0x2&&(_0x27edae=_0x27edae[_0x5a0391(0x590)](0x1,_0x27edae[_0x5a0391(0x710)]-0x1)[_0x5a0391(0x39e)]()),_0x4efbfa[_0x5a0391(0x4f8)][_0x5a0391(0x6ec)][_0x5a0391(0x177)]=_0x27edae;}_0x4efbfa['block'][_0x5a0391(0x6ec)]&&_0x5a0391(0x542)in _0x4efbfa[_0x5a0391(0x4f8)][_0x5a0391(0x6ec)]&&(this[_0x5a0391(0x24a)][_0x5a0391(0x641)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5a0391(0x1c2)),_0x4efbfa[_0x5a0391(0x4f8)]['apirequest']['bodyString']=JSON[_0x5a0391(0x742)](_0x4efbfa[_0x5a0391(0x4f8)][_0x5a0391(0x6ec)][_0x5a0391(0x542)],null,0x1)[_0x5a0391(0x39e)]()),_0x55d8ab['blocks']['push'](_0x4efbfa['block']),this[_0x5a0391(0x66c)](_0x55d8ab[_0x5a0391(0x566)],_0x4efbfa[_0x5a0391(0x4f8)][_0x5a0391(0x496)]);}[a0_0x1ec271(0x66c)](_0x1b1839,_0x67fee3){const _0x1454db=a0_0x1ec271;let _0x108cc9=_0x1b1839[_0x1454db(0x3c7)](_0x500527=>_0x500527[_0x1454db(0x496)]===_0x67fee3);_0x108cc9[_0x1454db(0x59a)]((_0x1af463,_0x5c7415)=>_0x1af463[_0x1454db(0x4a2)]-_0x5c7415[_0x1454db(0x4a2)]),_0x108cc9[_0x1454db(0x359)]((_0x54f445,_0xb9b12)=>_0x54f445[_0x1454db(0x4a2)]=_0xb9b12+0x1);}async['editFlowReply'](_0x11d084){const _0x3d6bb6=a0_0x1ec271;try{if(this[_0x3d6bb6(0x24a)][_0x3d6bb6(0x641)](this[_0x3d6bb6(0x33c)]+'\x20('+this['instance']['wuid']+_0x3d6bb6(0x6fe)),!_0x11d084||!_0x11d084[_0x3d6bb6(0x784)]){this[_0x3d6bb6(0x7e9)](_0x3d6bb6(0x6ff));return;}let _0x49f624=await this['repository'][_0x3d6bb6(0x630)][_0x3d6bb6(0x1a0)]({'where':{'name':_0x11d084[_0x3d6bb6(0x49a)]}},this[_0x3d6bb6(0x47b)][_0x3d6bb6(0x556)]);_0x49f624||this[_0x3d6bb6(0x7e9)](_0x3d6bb6(0x658));let {replyOption:_0x29ec15}=_0x11d084;_0x29ec15?.[_0x3d6bb6(0x41e)]?(this[_0x3d6bb6(0x6c4)](_0x49f624,_0x11d084),this[_0x3d6bb6(0x704)](_0x49f624[_0x3d6bb6(0x83f)],_0x11d084[_0x3d6bb6(0x784)][_0x3d6bb6(0x6e3)])):_0x29ec15['_id']?(await this['updateReplyOption'](_0x49f624,_0x11d084),this[_0x3d6bb6(0x704)](_0x49f624['replyOptions'],_0x11d084[_0x3d6bb6(0x784)]['blockId'])):(this[_0x3d6bb6(0x1b7)](_0x49f624,_0x11d084),this['reorderReplyOptions'](_0x49f624['replyOptions'],_0x11d084[_0x3d6bb6(0x784)][_0x3d6bb6(0x6e3)]));let _0x316bfd=await this[_0x3d6bb6(0x739)][_0x3d6bb6(0x630)][_0x3d6bb6(0x5ec)](_0x49f624['_id'],_0x49f624,this[_0x3d6bb6(0x47b)]['wuid']);if(_0x316bfd&&_0x316bfd[_0x3d6bb6(0x5c0)]&&_0x316bfd[_0x3d6bb6(0x5c0)]['length']>0x1&&this['synchronizeFlows'](_0x316bfd['_id'],this[_0x3d6bb6(0x47b)][_0x3d6bb6(0x556)]),!_0x316bfd)throw new Error(_0x3d6bb6(0x242));return _0x316bfd;}catch(_0x22c93d){this['throwAndLogError'](_0x3d6bb6(0x62a)+_0x22c93d);}}[a0_0x1ec271(0x704)](_0xf5982f,_0x40ad8b){const _0x3f0955=a0_0x1ec271;console[_0x3f0955(0x55f)](_0x3f0955(0x7be),_0x40ad8b),_0xf5982f['forEach'](_0x28bd2b=>{const _0x5692f0=_0x3f0955;_0x28bd2b[_0x5692f0(0x6e3)]===_0x40ad8b&&_0x28bd2b[_0x5692f0(0x4a2)]===void 0x0&&(_0x28bd2b[_0x5692f0(0x4a2)]=0x270f);});let _0x4b574f=_0xf5982f[_0x3f0955(0x3c7)](_0x3e7ded=>_0x3e7ded[_0x3f0955(0x6e3)]===_0x40ad8b);_0x4b574f[_0x3f0955(0x59a)]((_0x56fda7,_0xbfe8cf)=>_0x56fda7[_0x3f0955(0x4a2)]-_0xbfe8cf[_0x3f0955(0x4a2)]),_0x4b574f['forEach']((_0x17b772,_0x59448c)=>{_0x17b772['order']=_0x59448c+0x1;}),_0xf5982f[_0x3f0955(0x359)](_0x2529d3=>{const _0x3e267a=_0x3f0955;if(_0x2529d3[_0x3e267a(0x6e3)]===_0x40ad8b){let _0x369e6d=_0x4b574f[_0x3e267a(0x741)](_0x2c2d44=>_0x2c2d44[_0x3e267a(0x6dd)]&&_0x2529d3['_id']&&_0x2c2d44['_id'][_0x3e267a(0x506)]()===_0x2529d3[_0x3e267a(0x6dd)][_0x3e267a(0x506)]());_0x369e6d&&(_0x2529d3[_0x3e267a(0x4a2)]=_0x369e6d['order']);}}),console[_0x3f0955(0x55f)](_0x3f0955(0x76c),_0xf5982f);}['deleteReplyOption'](_0xc3f5f,_0x26455b){const _0x27483a=a0_0x1ec271;let {replyOption:_0x3cf6f2}=_0x26455b;if(!_0x3cf6f2['_id']){this[_0x27483a(0x7e9)]('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0xc3f5f[_0x27483a(0x83f)][_0x27483a(0x741)](_0x2ec584=>_0x2ec584[_0x27483a(0x6dd)][_0x27483a(0x506)]()===_0x26455b[_0x27483a(0x784)]['_id'][_0x27483a(0x506)]())){this[_0x27483a(0x7e9)](_0x27483a(0x3a1)+_0x3cf6f2[_0x27483a(0x6dd)]+_0x27483a(0x195));return;}_0xc3f5f[_0x27483a(0x83f)]=_0xc3f5f[_0x27483a(0x83f)][_0x27483a(0x3c7)](_0x3330c8=>_0x3330c8['_id']['toString']()!==_0x26455b[_0x27483a(0x784)][_0x27483a(0x6dd)][_0x27483a(0x506)]());}async[a0_0x1ec271(0x69c)](_0xf9d00a,_0x2cafa8){const _0x35c6e7=a0_0x1ec271;let _0x279787=_0xf9d00a['replyOptions'][_0x35c6e7(0x5fc)](_0x3dab95=>_0x3dab95[_0x35c6e7(0x6dd)][_0x35c6e7(0x506)]()===_0x2cafa8['replyOption'][_0x35c6e7(0x6dd)][_0x35c6e7(0x506)]());if(_0x279787===-0x1){this[_0x35c6e7(0x7e9)](_0x35c6e7(0x3a1)+_0x2cafa8[_0x35c6e7(0x784)][_0x35c6e7(0x6dd)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x1fdaf0 in _0x2cafa8[_0x35c6e7(0x784)])_0x2cafa8[_0x35c6e7(0x784)][_0x35c6e7(0x2fb)](_0x1fdaf0)&&(_0xf9d00a['replyOptions'][_0x279787][_0x1fdaf0]=_0x2cafa8[_0x35c6e7(0x784)][_0x1fdaf0]);}[a0_0x1ec271(0x1b7)](_0x36d91a,_0xc6c47a){const _0x48ca3d=a0_0x1ec271;_0x36d91a[_0x48ca3d(0x83f)][_0x48ca3d(0x474)](_0xc6c47a['replyOption']);}async[a0_0x1ec271(0x36f)](_0x233e41){const _0xb29c0e=a0_0x1ec271;this[_0xb29c0e(0x24a)]['verbose'](this[_0xb29c0e(0x33c)]+'\x20('+this[_0xb29c0e(0x47b)][_0xb29c0e(0x556)]+_0xb29c0e(0x3c2)+_0x233e41);try{this[_0xb29c0e(0x24a)][_0xb29c0e(0x641)](this[_0xb29c0e(0x33c)]+'\x20('+this[_0xb29c0e(0x47b)][_0xb29c0e(0x556)]+'):\x20Editando\x20grupo\x20do\x20fluxo...');let _0x5071b3=await this[_0xb29c0e(0x739)][_0xb29c0e(0x630)][_0xb29c0e(0x1a0)]({'where':{'name':_0x233e41[_0xb29c0e(0x49a)]}},this[_0xb29c0e(0x47b)][_0xb29c0e(0x556)]);if(!_0x5071b3)throw new Error('Flow\x20não\x20encontrado');if(_0x233e41[_0xb29c0e(0x33d)]&&_0x233e41[_0xb29c0e(0x33d)]?.[_0xb29c0e(0x41e)]===!0x0){if(this['logger'][_0xb29c0e(0x641)](this['instanceName']+'\x20('+this[_0xb29c0e(0x47b)][_0xb29c0e(0x556)]+_0xb29c0e(0x7ca)),_0x233e41['group'][_0xb29c0e(0x3eb)]===!0x0)return{'message':_0xb29c0e(0x72b)};if(_0x5071b3[_0xb29c0e(0x566)][_0xb29c0e(0x3b6)](_0x2d8c69=>_0x2d8c69[_0xb29c0e(0x496)][_0xb29c0e(0x506)]()===_0x233e41[_0xb29c0e(0x33d)][_0xb29c0e(0x6dd)]))return this[_0xb29c0e(0x24a)][_0xb29c0e(0x641)](this[_0xb29c0e(0x33c)]+'\x20('+this[_0xb29c0e(0x47b)]['wuid']+_0xb29c0e(0x379)),{'message':_0xb29c0e(0x3d6)};_0x5071b3[_0xb29c0e(0x3a0)]=_0x5071b3[_0xb29c0e(0x3a0)][_0xb29c0e(0x3c7)](_0x110217=>_0x110217[_0xb29c0e(0x6dd)][_0xb29c0e(0x506)]()!==_0x233e41[_0xb29c0e(0x33d)][_0xb29c0e(0x6dd)]);}else{if(_0x233e41[_0xb29c0e(0x33d)]){if(_0x233e41[_0xb29c0e(0x33d)][_0xb29c0e(0x3eb)]===!0x0)return{'message':_0xb29c0e(0x70e)};if(_0x233e41[_0xb29c0e(0x33d)][_0xb29c0e(0x6dd)]){let _0x1c8872=_0x5071b3[_0xb29c0e(0x3a0)][_0xb29c0e(0x741)](_0x16e1a2=>_0x16e1a2[_0xb29c0e(0x6dd)][_0xb29c0e(0x506)]()===_0x233e41[_0xb29c0e(0x33d)][_0xb29c0e(0x6dd)]);_0x1c8872&&(_0x233e41[_0xb29c0e(0x33d)]['x']<0x0&&(_0x233e41['group']['x']=0x0),_0x233e41[_0xb29c0e(0x33d)]['y']<0x0&&(_0x233e41['group']['y']=0x0),Object[_0xb29c0e(0x7ad)](_0x1c8872,_0x233e41[_0xb29c0e(0x33d)]));}else _0x5071b3[_0xb29c0e(0x3a0)][_0xb29c0e(0x474)](_0x233e41['group']);}}let _0x153f68=await this[_0xb29c0e(0x739)]['flow'][_0xb29c0e(0x5ec)](_0x5071b3[_0xb29c0e(0x6dd)],_0x5071b3,this[_0xb29c0e(0x47b)][_0xb29c0e(0x556)]);if(_0x153f68&&_0x153f68[_0xb29c0e(0x5c0)]&&_0x153f68[_0xb29c0e(0x5c0)][_0xb29c0e(0x710)]>0x1&&this[_0xb29c0e(0x1e9)](_0x153f68['_id'],this[_0xb29c0e(0x47b)][_0xb29c0e(0x556)]),!_0x153f68)throw new Error(_0xb29c0e(0x242));return _0x153f68;}catch(_0x4a3f0a){throw this['logger'][_0xb29c0e(0x409)](this['instanceName']+'\x20('+this['instance'][_0xb29c0e(0x556)]+'):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+(_0x4a3f0a instanceof Error?_0x4a3f0a['message']:JSON['stringify'](_0x4a3f0a,null,0x2))),new w(_0xb29c0e(0x2f7)+(_0x4a3f0a instanceof Error?_0x4a3f0a[_0xb29c0e(0x6db)]:JSON['stringify'](_0x4a3f0a,null,0x2)));}}async[a0_0x1ec271(0x370)](_0x4075c7){const _0x2b967b=a0_0x1ec271;try{this[_0x2b967b(0x24a)][_0x2b967b(0x641)](this[_0x2b967b(0x33c)]+'\x20('+this[_0x2b967b(0x47b)][_0x2b967b(0x556)]+_0x2b967b(0x279));let _0x4e88a9=await this[_0x2b967b(0x739)]['flow'][_0x2b967b(0x1a0)]({'where':{'name':_0x4075c7['name']}},this[_0x2b967b(0x47b)][_0x2b967b(0x556)]);if(!_0x4e88a9)throw new Error(_0x2b967b(0x658));let _0x1f1aa9=!0x1;if(_0x4075c7[_0x2b967b(0x53c)]?.['delete']===!0x0)_0x4e88a9[_0x2b967b(0x207)]=_0x4e88a9[_0x2b967b(0x207)][_0x2b967b(0x3c7)](_0x4bd2a3=>_0x4bd2a3&&_0x4075c7['condition']&&_0x4bd2a3['_id']&&_0x4075c7['condition'][_0x2b967b(0x6dd)]&&_0x4bd2a3['_id'][_0x2b967b(0x506)]()!==_0x4075c7[_0x2b967b(0x53c)]['_id'][_0x2b967b(0x506)]()),_0x1f1aa9=!0x0;else{let _0x2a65a4=_0x4e88a9['conditions'][_0x2b967b(0x741)](_0x7205b4=>_0x7205b4&&_0x4075c7[_0x2b967b(0x53c)]&&_0x7205b4[_0x2b967b(0x6dd)]&&_0x4075c7[_0x2b967b(0x53c)][_0x2b967b(0x6dd)]&&_0x7205b4[_0x2b967b(0x6dd)][_0x2b967b(0x506)]()===_0x4075c7[_0x2b967b(0x53c)]['_id']['toString']());_0x2a65a4?(_0x1f1aa9=_0x2a65a4['order']!==_0x4075c7[_0x2b967b(0x53c)][_0x2b967b(0x4a2)],Object[_0x2b967b(0x7ad)](_0x2a65a4,_0x4075c7[_0x2b967b(0x53c)])):(_0x4e88a9[_0x2b967b(0x207)]['push'](_0x4075c7[_0x2b967b(0x53c)]),_0x1f1aa9=!0x0);}if(_0x1f1aa9){_0x4e88a9['conditions'][_0x2b967b(0x59a)]((_0xbdf1ca,_0x3ce120)=>_0xbdf1ca[_0x2b967b(0x4a2)]>_0x3ce120[_0x2b967b(0x4a2)]?0x1:_0x3ce120[_0x2b967b(0x4a2)]>_0xbdf1ca[_0x2b967b(0x4a2)]?-0x1:0x0);for(let _0x9f808f=0x0;_0x9f808f<_0x4e88a9['conditions'][_0x2b967b(0x710)];_0x9f808f++)_0x4e88a9[_0x2b967b(0x207)][_0x9f808f][_0x2b967b(0x4a2)]=_0x9f808f+0x1;_0x4e88a9['conditions'][_0x2b967b(0x710)]>0x0&&(_0x4e88a9[_0x2b967b(0x207)][0x0]['OrAnd']=_0x2b967b(0x76f));}let _0x1c9e8e=await this[_0x2b967b(0x739)][_0x2b967b(0x630)]['updateOne'](_0x4e88a9['_id'],_0x4e88a9,this[_0x2b967b(0x47b)][_0x2b967b(0x556)]);if(_0x1c9e8e&&_0x1c9e8e[_0x2b967b(0x5c0)]&&_0x1c9e8e['shareOwners'][_0x2b967b(0x710)]>0x1&&this[_0x2b967b(0x1e9)](_0x1c9e8e[_0x2b967b(0x6dd)],this[_0x2b967b(0x47b)][_0x2b967b(0x556)]),!_0x1c9e8e)throw new Error(_0x2b967b(0x242));return _0x1c9e8e;}catch(_0x2a9f56){throw this[_0x2b967b(0x24a)]['error'](this[_0x2b967b(0x33c)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x2a9f56 instanceof Error?_0x2a9f56['message']:JSON['stringify'](_0x2a9f56,null,0x2))),new Error(_0x2b967b(0x7c1)+(_0x2a9f56 instanceof Error?_0x2a9f56[_0x2b967b(0x6db)]:JSON['stringify'](_0x2a9f56,null,0x2)));}}async[a0_0x1ec271(0x6bc)](_0x31edb8){const _0x525aaa=a0_0x1ec271;try{this['logger'][_0x525aaa(0x641)](this[_0x525aaa(0x33c)]+'\x20('+this[_0x525aaa(0x47b)][_0x525aaa(0x556)]+_0x525aaa(0x68b));let _0x147508=await this[_0x525aaa(0x739)][_0x525aaa(0x630)][_0x525aaa(0x1a0)]({'where':{'name':_0x31edb8[_0x525aaa(0x49a)]}},this[_0x525aaa(0x47b)][_0x525aaa(0x556)]);if(!_0x147508)throw new Error(_0x525aaa(0x658));let _0x580063=!0x1;if(_0x31edb8[_0x525aaa(0x46f)]?.[_0x525aaa(0x41e)]===!0x0)_0x147508['varedits']=_0x147508['varedits'][_0x525aaa(0x3c7)](_0x353035=>_0x353035&&_0x31edb8[_0x525aaa(0x46f)]&&_0x353035[_0x525aaa(0x6dd)]&&_0x31edb8[_0x525aaa(0x46f)][_0x525aaa(0x6dd)]&&_0x353035[_0x525aaa(0x6dd)][_0x525aaa(0x506)]()!==_0x31edb8[_0x525aaa(0x46f)][_0x525aaa(0x6dd)][_0x525aaa(0x506)]()),_0x580063=!0x0;else{let _0x513e91=_0x147508[_0x525aaa(0x568)][_0x525aaa(0x741)](_0x2f0032=>_0x2f0032&&_0x31edb8[_0x525aaa(0x46f)]&&_0x2f0032[_0x525aaa(0x6dd)]&&_0x31edb8[_0x525aaa(0x46f)][_0x525aaa(0x6dd)]&&_0x2f0032[_0x525aaa(0x6dd)]['toString']()===_0x31edb8[_0x525aaa(0x46f)][_0x525aaa(0x6dd)][_0x525aaa(0x506)]());_0x513e91?(_0x580063=_0x513e91[_0x525aaa(0x4a2)]!==_0x31edb8[_0x525aaa(0x46f)][_0x525aaa(0x4a2)],Object['assign'](_0x513e91,_0x31edb8['varedit'])):(_0x147508[_0x525aaa(0x568)]['push'](_0x31edb8[_0x525aaa(0x46f)]),_0x580063=!0x0);}if(_0x580063){_0x147508[_0x525aaa(0x568)][_0x525aaa(0x59a)]((_0x4ca73f,_0x14fd95)=>_0x4ca73f[_0x525aaa(0x4a2)]>_0x14fd95[_0x525aaa(0x4a2)]?0x1:_0x14fd95[_0x525aaa(0x4a2)]>_0x4ca73f[_0x525aaa(0x4a2)]?-0x1:0x0);for(let _0x2104e4=0x0;_0x2104e4<_0x147508[_0x525aaa(0x568)][_0x525aaa(0x710)];_0x2104e4++)_0x147508[_0x525aaa(0x568)][_0x2104e4][_0x525aaa(0x4a2)]=_0x2104e4+0x1;}let _0x51db1d=await this[_0x525aaa(0x739)][_0x525aaa(0x630)]['updateOne'](_0x147508['_id'],_0x147508,this['instance'][_0x525aaa(0x556)]);if(_0x51db1d&&_0x51db1d[_0x525aaa(0x5c0)]&&_0x51db1d[_0x525aaa(0x5c0)][_0x525aaa(0x710)]>0x1&&this['synchronizeFlows'](_0x51db1d[_0x525aaa(0x6dd)],this[_0x525aaa(0x47b)][_0x525aaa(0x556)]),!_0x51db1d)throw new Error(_0x525aaa(0x242));return _0x51db1d;}catch(_0x34ee49){throw this[_0x525aaa(0x24a)][_0x525aaa(0x409)](this[_0x525aaa(0x33c)]+'\x20('+this[_0x525aaa(0x47b)][_0x525aaa(0x556)]+_0x525aaa(0x513)+(_0x34ee49 instanceof Error?_0x34ee49['message']:JSON[_0x525aaa(0x742)](_0x34ee49,null,0x2))),new w(_0x525aaa(0x7c1)+(_0x34ee49 instanceof Error?_0x34ee49['message']:JSON[_0x525aaa(0x742)](_0x34ee49,null,0x2)));}}async[a0_0x1ec271(0x411)](_0x2f7e33){const _0x2bad17=a0_0x1ec271;try{this[_0x2bad17(0x24a)][_0x2bad17(0x641)](this[_0x2bad17(0x33c)]+'\x20('+this[_0x2bad17(0x47b)][_0x2bad17(0x556)]+_0x2bad17(0x754));let _0x892f64=await this['repository'][_0x2bad17(0x630)][_0x2bad17(0x1a0)]({'where':{'name':_0x2f7e33[_0x2bad17(0x49a)]}},this[_0x2bad17(0x47b)][_0x2bad17(0x556)]);if(!_0x892f64)throw new Error('Flow\x20não\x20encontrado');_0x2f7e33[_0x2bad17(0x33a)][_0x2bad17(0x49a)]=_0x2f7e33[_0x2bad17(0x33a)][_0x2bad17(0x49a)][_0x2bad17(0x39e)](),_0x2f7e33['variable'][_0x2bad17(0x49a)][_0x2bad17(0x63a)]('_')&&(_0x2f7e33['variable'][_0x2bad17(0x49a)]=_0x2f7e33[_0x2bad17(0x33a)][_0x2bad17(0x49a)][_0x2bad17(0x590)](0x1)),_0x2f7e33['variable']['name']=_0x2f7e33[_0x2bad17(0x33a)][_0x2bad17(0x49a)][_0x2bad17(0x39e)]();let _0x4d1e8f=_0x892f64['variables']['find'](_0x597e62=>_0x597e62[_0x2bad17(0x49a)]===_0x2f7e33[_0x2bad17(0x33a)][_0x2bad17(0x49a)]);if(_0x4d1e8f?.[_0x2bad17(0x28c)]===!0x0)throw new Error(_0x2bad17(0x1da));if(_0x2f7e33['variable']?.[_0x2bad17(0x41e)]===!0x0){if(!_0x4d1e8f)return{'message':_0x2bad17(0x3e3)};_0x892f64[_0x2bad17(0x5b9)]=_0x892f64[_0x2bad17(0x5b9)][_0x2bad17(0x3c7)](_0x5350a5=>_0x5350a5['name']!==_0x2f7e33['variable']['name']);}else _0x4d1e8f?Object[_0x2bad17(0x7ad)](_0x4d1e8f,_0x2f7e33[_0x2bad17(0x33a)]):_0x892f64[_0x2bad17(0x5b9)][_0x2bad17(0x474)](_0x2f7e33['variable']);let _0x167882=await this[_0x2bad17(0x739)][_0x2bad17(0x630)][_0x2bad17(0x5ec)](_0x892f64[_0x2bad17(0x6dd)],_0x892f64,this[_0x2bad17(0x47b)]['wuid']);if(_0x167882&&_0x167882['shareOwners']&&_0x167882[_0x2bad17(0x5c0)][_0x2bad17(0x710)]>0x1&&this[_0x2bad17(0x1e9)](_0x167882[_0x2bad17(0x6dd)],this['instance'][_0x2bad17(0x556)]),!_0x167882)throw new Error(_0x2bad17(0x242));return _0x167882;}catch(_0x58a3bb){throw this[_0x2bad17(0x24a)][_0x2bad17(0x409)](this[_0x2bad17(0x33c)]+'\x20('+this[_0x2bad17(0x47b)][_0x2bad17(0x556)]+_0x2bad17(0x450)+(_0x58a3bb instanceof Error?_0x58a3bb[_0x2bad17(0x6db)]:JSON[_0x2bad17(0x742)](_0x58a3bb,null,0x2))),new w(_0x2bad17(0x222)+(_0x58a3bb instanceof Error?_0x58a3bb[_0x2bad17(0x6db)]:JSON['stringify'](_0x58a3bb,null,0x2)));}}async[a0_0x1ec271(0x6e4)](_0x54d6b1){const _0xcc8765=a0_0x1ec271;let _0x33b94b=null;try{if(!this[_0xcc8765(0x5c9)]?.[_0xcc8765(0x47c)][_0xcc8765(0x785)])throw new w(_0xcc8765(0x6df));this[_0xcc8765(0x24a)][_0xcc8765(0x641)](this[_0xcc8765(0x33c)]+'\x20('+this[_0xcc8765(0x47b)][_0xcc8765(0x556)]+'):\x20Iniciando\x20bot...');let _0x462c05=(await this[_0xcc8765(0x2ba)]({'numbers':[_0x54d6b1[_0xcc8765(0x560)]]}))[0x0];if(!_0x462c05['exists']&&!(0x0,m[_0xcc8765(0x230)])(_0x462c05[_0xcc8765(0x361)])&&!_0x462c05[_0xcc8765(0x361)][_0xcc8765(0x537)](_0xcc8765(0x209)))throw _0x33b94b=JSON[_0xcc8765(0x742)](_0x462c05,null,0x2),new w(_0x462c05);let _0xd7fef6=await this[_0xcc8765(0x739)][_0xcc8765(0x630)]['findOne']({'where':{'name':_0x54d6b1[_0xcc8765(0x49a)]}},this[_0xcc8765(0x47b)][_0xcc8765(0x556)]);if(!_0xd7fef6)return this[_0xcc8765(0x24a)][_0xcc8765(0x409)](this['instanceName']+'\x20('+this[_0xcc8765(0x47b)]['wuid']+_0xcc8765(0x514)),{'message':_0xcc8765(0x658)};let _0x1831e3=await this[_0xcc8765(0x2c8)](_0xd7fef6,_0x462c05[_0xcc8765(0x361)],_0x54d6b1[_0xcc8765(0x312)]);if(_0x1831e3){this[_0xcc8765(0x24a)][_0xcc8765(0x641)](this['instanceName']+'\x20('+this[_0xcc8765(0x47b)][_0xcc8765(0x556)]+_0xcc8765(0x2e9));let _0x34b5e1=await this[_0xcc8765(0x7e4)](_0x1831e3);return _0x34b5e1&&await this[_0xcc8765(0x32b)](_0x1831e3,_0x34b5e1),{'message':'Flow\x20iniciado\x20com\x20'+_0x54d6b1[_0xcc8765(0x560)]};}}catch(_0x311d0d){if(this[_0xcc8765(0x24a)][_0xcc8765(0x409)](this[_0xcc8765(0x33c)]+'\x20('+this['instance']['wuid']+_0xcc8765(0x262)+(_0x311d0d instanceof Error?_0x311d0d[_0xcc8765(0x6db)]:JSON[_0xcc8765(0x742)](_0x311d0d,null,0x2))),_0x33b94b=_0x311d0d instanceof Error?_0x311d0d[_0xcc8765(0x6db)]:JSON[_0xcc8765(0x742)](_0x311d0d,null,0x2),_0x33b94b)throw new w(_0xcc8765(0x6eb)+_0x33b94b);}}async[a0_0x1ec271(0x608)](_0x3b99c6){const _0xe52156=a0_0x1ec271;try{let _0xee2bac={'remoteJid':_0x3b99c6,'status':_0xe52156(0x296)},_0x2a8e87={'status':'closed'},_0x14826c=await this[_0xe52156(0x739)][_0xe52156(0x7ac)]['updateMany'](_0xee2bac,_0x2a8e87,this['instance'][_0xe52156(0x556)]);return this['logger'][_0xe52156(0x641)](this[_0xe52156(0x33c)]+'\x20('+this[_0xe52156(0x47b)]['wuid']+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x14826c;}catch(_0x3b2c16){throw this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0xe52156(0x556)]+_0xe52156(0x270)+_0x3b2c16[_0xe52156(0x6db)]),_0x3b2c16;}}async['createConversationforStartFlow'](_0x1a4ae8,_0x684144,_0x2bf029){const _0x104eeb=a0_0x1ec271;this[_0x104eeb(0x24a)][_0x104eeb(0x641)](this[_0x104eeb(0x33c)]+'\x20('+this['instance']['wuid']+_0x104eeb(0x7d7)),await this[_0x104eeb(0x608)](_0x684144);try{let _0x1b50cb=require('mongodb')['ObjectId'],_0x258734=Date[_0x104eeb(0x65d)](),_0x4b0f0b='start',_0x19270f={},_0x26e86a={},_0x5d934e={..._0x1a4ae8,'chatLog':null},_0x432eb2=await this[_0x104eeb(0x51a)](_0x5d934e[_0x104eeb(0x5b9)]),_0x487513=await this[_0x104eeb(0x57b)](_0x684144),_0x729df0={..._0x432eb2,..._0x487513,'_remoteJid':_0x684144},_0x210203={'lastReceivedMessage':_0x19270f,'lastSendMessage':_0x26e86a,'lastBlockId':_0x4b0f0b,'lastCondition':!0x0,'realVariables':_0x729df0};_0x5d934e[_0x104eeb(0x55e)]=_0x210203,_0x5d934e[_0x104eeb(0x55e)][_0x104eeb(0x2f1)]={..._0x729df0,..._0x2bf029},delete _0x5d934e[_0x104eeb(0x6dd)],_0x5d934e[_0x104eeb(0x6dd)]=new _0x1b50cb(),_0x5d934e[_0x104eeb(0x653)]=_0x258734,_0x5d934e['status']='open',_0x5d934e[_0x104eeb(0x560)]=_0x684144;let _0x55b3ab=await this['repository'][_0x104eeb(0x7ac)]['updateOne'](_0x5d934e[_0x104eeb(0x6dd)],_0x5d934e,this[_0x104eeb(0x47b)][_0x104eeb(0x556)]);return this[_0x104eeb(0x24a)][_0x104eeb(0x641)](this[_0x104eeb(0x33c)]+'\x20('+this['instance'][_0x104eeb(0x556)]+_0x104eeb(0x7d6)),_0x55b3ab?_0x5d934e:null;}catch(_0x3bbed3){throw this[_0x104eeb(0x24a)]['error'](this[_0x104eeb(0x33c)]+'\x20('+this['instance'][_0x104eeb(0x556)]+_0x104eeb(0x30a)+(_0x3bbed3 instanceof Error?_0x3bbed3[_0x104eeb(0x6db)]:JSON[_0x104eeb(0x742)](_0x3bbed3,null,0x2))),new w(_0x3bbed3[_0x104eeb(0x6db)]);}}async[a0_0x1ec271(0x1a4)](_0x2ee9a9){const _0x4b28d4=a0_0x1ec271;try{this[_0x4b28d4(0x24a)][_0x4b28d4(0x641)](this[_0x4b28d4(0x33c)]+'\x20('+this[_0x4b28d4(0x47b)][_0x4b28d4(0x556)]+'):\x20Buscando\x20conversa...'),this[_0x4b28d4(0x24a)][_0x4b28d4(0x641)](this['instanceName']+'\x20('+this[_0x4b28d4(0x47b)][_0x4b28d4(0x556)]+'):\x20Query\x20params:\x20'+_0x2ee9a9);let _0x13e448={'where':{'_id':_0x2ee9a9}};return await this['repository'][_0x4b28d4(0x7ac)][_0x4b28d4(0x1a0)](_0x13e448,this[_0x4b28d4(0x47b)][_0x4b28d4(0x556)]);}catch(_0x2260ee){throw this['logger']['error'](this[_0x4b28d4(0x33c)]+'\x20('+this[_0x4b28d4(0x47b)][_0x4b28d4(0x556)]+_0x4b28d4(0x5f8)+(_0x2260ee instanceof Error?_0x2260ee['message']:JSON[_0x4b28d4(0x742)](_0x2260ee,null,0x2))),new w(_0x4b28d4(0x71e)+_0x2260ee['message']);}}async[a0_0x1ec271(0x44b)](_0x2400b2){const _0x51e36b=a0_0x1ec271;try{return this['logger'][_0x51e36b(0x641)](this['instanceName']+'\x20('+this[_0x51e36b(0x47b)][_0x51e36b(0x556)]+'):\x20Buscando\x20conversas...'),await this[_0x51e36b(0x739)]['flowConversation'][_0x51e36b(0x741)](_0x2400b2,this[_0x51e36b(0x47b)]['wuid']);}catch(_0x20eb70){throw this['logger'][_0x51e36b(0x409)](this[_0x51e36b(0x33c)]+'\x20('+this[_0x51e36b(0x47b)][_0x51e36b(0x556)]+'):\x20Erro\x20ao\x20buscar\x20conversas\x20'+(_0x20eb70 instanceof Error?_0x20eb70[_0x51e36b(0x6db)]:JSON['stringify'](_0x20eb70,null,0x2))),new w(_0x51e36b(0x687)+_0x20eb70[_0x51e36b(0x6db)]);}}async['deleteConversation'](_0x9a1636){const _0x49034d=a0_0x1ec271;try{return this[_0x49034d(0x24a)][_0x49034d(0x641)](this[_0x49034d(0x33c)]+'\x20('+this[_0x49034d(0x47b)][_0x49034d(0x556)]+_0x49034d(0x275)),this[_0x49034d(0x24a)][_0x49034d(0x641)](this[_0x49034d(0x33c)]+'\x20('+this['instance'][_0x49034d(0x556)]+'):\x20Query\x20params:'+_0x9a1636),(await this[_0x49034d(0x739)][_0x49034d(0x7ac)][_0x49034d(0x5bf)]({'where':{'_id':_0x9a1636}},this[_0x49034d(0x47b)][_0x49034d(0x556)]))[_0x49034d(0x4c3)]===0x0?{'message':_0x49034d(0x20f)}:{'message':_0x49034d(0x50e)};}catch(_0x450450){throw this[_0x49034d(0x24a)][_0x49034d(0x409)](this['instanceName']+'\x20('+this[_0x49034d(0x47b)][_0x49034d(0x556)]+_0x49034d(0x253)+(_0x450450 instanceof Error?_0x450450[_0x49034d(0x6db)]:JSON[_0x49034d(0x742)](_0x450450,null,0x2))),new w(_0x49034d(0x16b)+_0x450450[_0x49034d(0x6db)]);}}async[a0_0x1ec271(0x317)](_0x369b88){const _0x1a3b14=a0_0x1ec271;try{let {_id:_0x51de09,chatLog:_0x72c844,status:_0x5d763b}=_0x369b88;if(!_0x51de09)return{'message':_0x1a3b14(0x192)};let _0x1925e4={};if(_0x5d763b!==void 0x0&&(_0x1925e4[_0x1a3b14(0x721)]=_0x5d763b),Object['keys'](_0x1925e4)['length']===0x0)return{'message':_0x1a3b14(0x555)};let _0x5859e4=await this[_0x1a3b14(0x739)]['flowConversation'][_0x1a3b14(0x5ec)](_0x51de09,_0x1925e4,this[_0x1a3b14(0x47b)][_0x1a3b14(0x556)]);return _0x5859e4||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x4ee475){throw this['logger'][_0x1a3b14(0x409)](this[_0x1a3b14(0x33c)]+'\x20('+this[_0x1a3b14(0x47b)]['wuid']+_0x1a3b14(0x364)+(_0x4ee475 instanceof Error?_0x4ee475[_0x1a3b14(0x6db)]:JSON[_0x1a3b14(0x742)](_0x4ee475,null,0x2))),new w(_0x1a3b14(0x245)+_0x4ee475['message']);}}async['editChat'](_0x4b953e){const _0x197c0f=a0_0x1ec271;console['log'](_0x4b953e);try{_0x4b953e['_id']=this[_0x197c0f(0x470)](_0x4b953e['_id']);let _0x143b73=await this[_0x197c0f(0x739)][_0x197c0f(0x21e)][_0x197c0f(0x1a0)]({'where':{'_id':_0x4b953e[_0x197c0f(0x6dd)]}},this[_0x197c0f(0x47b)][_0x197c0f(0x556)]);if(!_0x143b73)throw new w('Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo');let {_id:_0x30ee36,leadInfo:_0x32a48c}=_0x4b953e;if(!_0x30ee36)throw new Error(_0x197c0f(0x68c));if(_0x4b953e[_0x197c0f(0x41e)]===_0x197c0f(0x60d))return await this[_0x197c0f(0x6e9)](_0x4b953e[_0x197c0f(0x6dd)]),await this[_0x197c0f(0x739)][_0x197c0f(0x21e)]['delete']({'where':{'_id':_0x4b953e[_0x197c0f(0x6dd)]}},this[_0x197c0f(0x47b)][_0x197c0f(0x556)]),await this[_0x197c0f(0x739)][_0x197c0f(0x6db)][_0x197c0f(0x41e)]({'where':{'key':{'remoteJid':_0x4b953e[_0x197c0f(0x6dd)]}}},this[_0x197c0f(0x47b)][_0x197c0f(0x556)]),_0x4b953e=await this[_0x197c0f(0x739)][_0x197c0f(0x21e)][_0x197c0f(0x5ec)]({'where':{'_id':_0x4b953e['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x197c0f(0x47b)]['wuid']),J(this[_0x197c0f(0x33c)],_0x197c0f(0x5e3),{'chat':_0x4b953e}),{'message':'Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.'};if(_0x4b953e[_0x197c0f(0x41e)]===_0x197c0f(0x462))return await this[_0x197c0f(0x739)]['message'][_0x197c0f(0x41e)]({'where':{'key':{'remoteJid':_0x4b953e['_id']}}},this['instance'][_0x197c0f(0x556)]),_0x4b953e=await this[_0x197c0f(0x739)][_0x197c0f(0x21e)]['updateOne']({'where':{'_id':_0x4b953e[_0x197c0f(0x6dd)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x197c0f(0x47b)][_0x197c0f(0x556)]),J(this[_0x197c0f(0x33c)],_0x197c0f(0x5e3),{'chat':_0x4b953e}),{'message':'Mensagens\x20deletadas\x20com\x20sucesso.'};let _0x273bdc=(_0x576112,_0x2c50b1,_0x474b94)=>{const _0x1b0c38=_0x197c0f;_0x576112&&_0x474b94[_0x1b0c38(0x359)](_0x4bf547=>{const _0x452ee2=_0x1b0c38;_0x576112[_0x4bf547]!==void 0x0&&(_0x2c50b1[_0x452ee2(0x25a)+_0x4bf547]=_0x576112[_0x4bf547]);});},_0x35ceec={};if(_0x32a48c&&(_0x273bdc(_0x32a48c,_0x35ceec,[_0x197c0f(0x827),_0x197c0f(0x427),_0x197c0f(0x31d),'cpf',_0x197c0f(0x721),_0x197c0f(0x38c),_0x197c0f(0x4d7),_0x197c0f(0x34c),_0x197c0f(0x1df),_0x197c0f(0x502)]),Array[_0x197c0f(0x583)](_0x32a48c[_0x197c0f(0x22b)])&&(_0x35ceec[_0x197c0f(0x2a6)]=_0x32a48c[_0x197c0f(0x22b)]['map'](_0x308c15=>({'_id':_0x308c15['_id'],'value':_0x308c15[_0x197c0f(0x2d2)]}))),_0x4b953e[_0x197c0f(0x28c)][_0x197c0f(0x502)]!==void 0x0)){let _0x4b5c57=await this[_0x197c0f(0x739)][_0x197c0f(0x1ad)]['find']({'where':{}},this[_0x197c0f(0x47b)][_0x197c0f(0x556)]),_0x562ccd=new Set(_0x4b953e['leadInfo'][_0x197c0f(0x502)]||[]),_0x2d71fd=new Set(_0x4b953e[_0x197c0f(0x28c)][_0x197c0f(0x502)]),_0x2492cd=new Set(_0x4b5c57[_0x197c0f(0x540)](_0x5dbd27=>_0x5dbd27['_id'])),_0x3c76fd=[..._0x2d71fd]['filter'](_0x19a7fd=>!_0x562ccd['has'](_0x19a7fd)&&_0x2492cd[_0x197c0f(0x674)](_0x19a7fd)),_0x2b1686=[..._0x562ccd]['filter'](_0x3e40f2=>!_0x2d71fd[_0x197c0f(0x674)](_0x3e40f2));if(_0x35ceec[_0x197c0f(0x592)]=[..._0x562ccd],_0x143b73&&!_0x143b73[_0x197c0f(0x521)]){for(let _0x118ccb of _0x3c76fd)await this[_0x197c0f(0x6b0)](_0x118ccb,_0x4b953e[_0x197c0f(0x6dd)]),_0x562ccd[_0x197c0f(0x524)](_0x118ccb);for(let _0x4f803f of _0x2b1686)await this[_0x197c0f(0x826)](_0x4f803f,_0x4b953e[_0x197c0f(0x6dd)]),_0x562ccd[_0x197c0f(0x41e)](_0x4f803f);}}if(_0x4b953e[_0x197c0f(0x70c)]!==void 0x0&&(_0x35ceec[_0x197c0f(0x70c)]=Number(_0x4b953e[_0x197c0f(0x70c)])),Object[_0x197c0f(0x69d)](_0x35ceec)[_0x197c0f(0x710)]===0x0)throw new Error(_0x197c0f(0x555));let _0x701115=await this[_0x197c0f(0x739)][_0x197c0f(0x21e)]['updateOne']({'where':{'_id':_0x4b953e[_0x197c0f(0x6dd)]}},_0x35ceec,this[_0x197c0f(0x47b)][_0x197c0f(0x556)]);return _0x701115&&J(this[_0x197c0f(0x33c)],'chats',{'chat':_0x701115}),_0x701115?(this['logger'][_0x197c0f(0x641)](this[_0x197c0f(0x33c)]+'\x20('+this[_0x197c0f(0x47b)][_0x197c0f(0x556)]+_0x197c0f(0x355)+JSON[_0x197c0f(0x742)](_0x701115,null,0x2)),_0x701115):{'message':_0x197c0f(0x5be)};}catch(_0x4fe6c7){throw this[_0x197c0f(0x24a)][_0x197c0f(0x409)](this[_0x197c0f(0x33c)]+'\x20('+this[_0x197c0f(0x47b)][_0x197c0f(0x556)]+_0x197c0f(0x1bc)+(_0x4fe6c7 instanceof Error?_0x4fe6c7[_0x197c0f(0x6db)]:JSON[_0x197c0f(0x742)](_0x4fe6c7,null,0x2))),new w(_0x197c0f(0x745)+_0x4fe6c7[_0x197c0f(0x6db)]);}}async['AddChatLabel'](_0x21a0ae,_0xe817ac){const _0x46d5d6=a0_0x1ec271;try{await this[_0x46d5d6(0x6b3)][_0x46d5d6(0x48e)](_0xe817ac,_0x21a0ae),console['log'](_0x46d5d6(0x716)+_0x21a0ae+_0x46d5d6(0x63b)+_0xe817ac+_0x46d5d6(0x415));}catch(_0x15fbc7){console['error'](_0x46d5d6(0x19c)+_0x21a0ae+_0x46d5d6(0x231)+_0xe817ac+':',_0x15fbc7);}}async[a0_0x1ec271(0x826)](_0x2989a4,_0x4903b4){const _0x33e467=a0_0x1ec271;try{await this[_0x33e467(0x6b3)]['removeChatLabel'](_0x4903b4,_0x2989a4),console[_0x33e467(0x55f)](_0x33e467(0x716)+_0x2989a4+_0x33e467(0x4ca)+_0x4903b4+_0x33e467(0x415));}catch(_0x40faed){console[_0x33e467(0x409)](_0x33e467(0x731)+_0x2989a4+'\x20do\x20chat\x20'+_0x4903b4+':',_0x40faed);}}async['updateAgent'](_0x348ff0){const _0x5cb064=a0_0x1ec271;try{let _0x4551dc=await this[_0x5cb064(0x739)]['automateSystem']['findOrCreate'](this[_0x5cb064(0x47b)][_0x5cb064(0x556)]),_0x2d71da=_0x348ff0['_id']?_0x4551dc[_0x5cb064(0x3be)][_0x5cb064(0x5fc)](_0xed0939=>_0xed0939['_id']===_0x348ff0[_0x5cb064(0x6dd)]):-0x1;if(_0x348ff0[_0x5cb064(0x41e)]&&_0x2d71da>-0x1)_0x4551dc[_0x5cb064(0x3be)][_0x5cb064(0x508)](_0x2d71da,0x1);else{if(_0x2d71da>-0x1){let _0x2bc298=_0x4551dc['agents'][_0x2d71da];_0x348ff0[_0x5cb064(0x2cb)]&&(_0x2bc298[_0x5cb064(0x2cb)]=_0x348ff0[_0x5cb064(0x2cb)]),_0x348ff0[_0x5cb064(0x49a)]&&(_0x2bc298[_0x5cb064(0x49a)]=_0x348ff0[_0x5cb064(0x49a)]),_0x348ff0[_0x5cb064(0x31d)]&&(_0x2bc298['email']=_0x348ff0[_0x5cb064(0x31d)]),_0x348ff0['role']&&(_0x2bc298[_0x5cb064(0x50d)]=_0x348ff0['role']);}else _0x4551dc[_0x5cb064(0x3be)][_0x5cb064(0x474)]({'_id':_0x348ff0['_id']||new le[(_0x5cb064(0x3eb))][(_0x5cb064(0x64e))][(_0x5cb064(0x394))]()['toString'](),'fone':_0x348ff0[_0x5cb064(0x2cb)],'name':_0x348ff0[_0x5cb064(0x49a)],'email':_0x348ff0[_0x5cb064(0x31d)],'role':_0x348ff0[_0x5cb064(0x50d)]});}let _0xc90637={'agents':_0x4551dc[_0x5cb064(0x3be)]},_0x274b1a=await this[_0x5cb064(0x739)][_0x5cb064(0x34d)][_0x5cb064(0x5f2)](_0xc90637,this['instance'][_0x5cb064(0x556)]);return this[_0x5cb064(0x5c9)]=_0x274b1a,this[_0x5cb064(0x24a)][_0x5cb064(0x641)](this[_0x5cb064(0x33c)]+'\x20('+this[_0x5cb064(0x47b)][_0x5cb064(0x556)]+'):\x20alterando\x20this.AutomateSystem'),this['logger'][_0x5cb064(0x641)](this[_0x5cb064(0x33c)]+'\x20('+this['instance'][_0x5cb064(0x556)]+_0x5cb064(0x355)+this[_0x5cb064(0x5c9)]),_0x274b1a;}catch(_0x34d25f){throw this[_0x5cb064(0x24a)][_0x5cb064(0x409)](this[_0x5cb064(0x33c)]+'\x20('+this['instance'][_0x5cb064(0x556)]+_0x5cb064(0x6d5)+(_0x34d25f instanceof Error?_0x34d25f['message']:JSON[_0x5cb064(0x742)](_0x34d25f,null,0x2))),new w(_0x5cb064(0x1cf)+_0x34d25f[_0x5cb064(0x6db)]);}}async['updateCustomFields'](_0x57088c){const _0x3fe2fc=a0_0x1ec271;try{let _0x1102cd=await this[_0x3fe2fc(0x739)][_0x3fe2fc(0x34d)]['findOrCreate'](this[_0x3fe2fc(0x47b)][_0x3fe2fc(0x556)]),_0x521ac9=_0x57088c[_0x3fe2fc(0x6dd)]?_0x1102cd['customFields'][_0x3fe2fc(0x5fc)](_0x36fc9a=>_0x36fc9a[_0x3fe2fc(0x6dd)]===_0x57088c['_id']):-0x1,_0x22512f=!0x1,_0x47af5d=_0x1102cd[_0x3fe2fc(0x22b)][_0x3fe2fc(0x3b6)](_0x5e5aa3=>_0x5e5aa3['order']===_0x57088c['order']);if(_0x57088c[_0x3fe2fc(0x41e)]&&_0x521ac9>-0x1)_0x1102cd[_0x3fe2fc(0x22b)][_0x3fe2fc(0x508)](_0x521ac9,0x1),_0x22512f=!0x0;else{if(_0x521ac9>-0x1){if(_0x1102cd[_0x3fe2fc(0x22b)]['some'](_0xda0837=>_0xda0837['name']===_0x57088c['name']&&_0xda0837[_0x3fe2fc(0x6dd)]!==_0x57088c[_0x3fe2fc(0x6dd)]))throw new Error(_0x3fe2fc(0x606));let _0x30da4b=_0x1102cd['customFields'][_0x521ac9];_0x57088c[_0x3fe2fc(0x4a2)]&&(_0x47af5d||!Number[_0x3fe2fc(0x436)](_0x57088c[_0x3fe2fc(0x4a2)]))&&(_0x30da4b[_0x3fe2fc(0x4a2)]=_0x57088c[_0x3fe2fc(0x4a2)],_0x22512f=!0x0),_0x57088c[_0x3fe2fc(0x49a)]&&(_0x30da4b[_0x3fe2fc(0x49a)]=_0x57088c[_0x3fe2fc(0x49a)]);}else{if(_0x1102cd['customFields'][_0x3fe2fc(0x3b6)](_0x1647a4=>_0x1647a4[_0x3fe2fc(0x49a)]===_0x57088c['name']&&_0x1647a4[_0x3fe2fc(0x6dd)]!==_0x57088c['_id']))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x1102cd['customFields'][_0x3fe2fc(0x474)]({'_id':_0x57088c[_0x3fe2fc(0x6dd)]||new le[(_0x3fe2fc(0x3eb))][(_0x3fe2fc(0x64e))][(_0x3fe2fc(0x394))]()[_0x3fe2fc(0x506)](),'order':_0x57088c['order'],'name':_0x57088c[_0x3fe2fc(0x49a)]}),_0x22512f=!0x0;}}if(_0x22512f){_0x1102cd['customFields'][_0x3fe2fc(0x59a)]((_0x4b5571,_0x14d4ec)=>_0x4b5571['order']>_0x14d4ec[_0x3fe2fc(0x4a2)]?0x1:_0x14d4ec[_0x3fe2fc(0x4a2)]>_0x4b5571['order']?-0x1:0x0);for(let _0x175481=0x0;_0x175481<_0x1102cd[_0x3fe2fc(0x22b)][_0x3fe2fc(0x710)];_0x175481++)_0x1102cd[_0x3fe2fc(0x22b)][_0x175481][_0x3fe2fc(0x4a2)]=_0x175481+0x1;}let _0x367f7e=await this[_0x3fe2fc(0x739)]['automateSystem'][_0x3fe2fc(0x5f2)](_0x1102cd,this[_0x3fe2fc(0x47b)]['wuid']);return this[_0x3fe2fc(0x5c9)]=_0x367f7e,this[_0x3fe2fc(0x24a)][_0x3fe2fc(0x641)](this['instanceName']+'\x20('+this[_0x3fe2fc(0x47b)][_0x3fe2fc(0x556)]+_0x3fe2fc(0x71a)),this[_0x3fe2fc(0x24a)][_0x3fe2fc(0x641)](this['instanceName']+'\x20('+this[_0x3fe2fc(0x47b)][_0x3fe2fc(0x556)]+'):\x20'+this['AutomateSystem']),_0x367f7e;}catch(_0x36e2d1){throw this[_0x3fe2fc(0x24a)][_0x3fe2fc(0x409)](this['instanceName']+'\x20('+this[_0x3fe2fc(0x47b)][_0x3fe2fc(0x556)]+'):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+(_0x36e2d1 instanceof Error?_0x36e2d1['message']:JSON[_0x3fe2fc(0x742)](_0x36e2d1,null,0x2))),new w(_0x3fe2fc(0x7d1)+_0x36e2d1[_0x3fe2fc(0x6db)]);}}async['updateFlowConfig'](_0x241d89){const _0x335e64=a0_0x1ec271;try{let _0x415610=await this['repository'][_0x335e64(0x34d)]['findOrCreate'](this[_0x335e64(0x47b)][_0x335e64(0x556)]);if(!_0x415610)throw new Error(_0x335e64(0x5bd));let _0x36b4e7={'_id':_0x415610['_id'],'flowConfig':{'enabled':_0x241d89[_0x335e64(0x785)]??_0x415610[_0x335e64(0x47c)][_0x335e64(0x785)],'ignoreGroups':_0x241d89[_0x335e64(0x664)]??_0x415610[_0x335e64(0x47c)][_0x335e64(0x664)],'prefixCommand':_0x241d89[_0x335e64(0x26e)]??_0x415610[_0x335e64(0x47c)][_0x335e64(0x26e)],'stopConversation':_0x241d89[_0x335e64(0x822)]??_0x415610[_0x335e64(0x47c)][_0x335e64(0x822)],'stopMinutes':_0x241d89['stopMinutes']??_0x415610['flowConfig'][_0x335e64(0x765)],'stopWhenYouSendMsg':_0x241d89[_0x335e64(0x5f6)]??_0x415610[_0x335e64(0x47c)][_0x335e64(0x5f6)]}},_0x49daad=await this[_0x335e64(0x739)][_0x335e64(0x34d)][_0x335e64(0x5f2)](_0x36b4e7,this[_0x335e64(0x47b)]['wuid']);return this[_0x335e64(0x5c9)]=_0x49daad,this['logger'][_0x335e64(0x641)](this['instanceName']+'\x20('+this[_0x335e64(0x47b)][_0x335e64(0x556)]+_0x335e64(0x6c1)),this['logger'][_0x335e64(0x641)](this[_0x335e64(0x33c)]+'\x20('+this[_0x335e64(0x47b)][_0x335e64(0x556)]+'):\x20'+this[_0x335e64(0x5c9)]),setTimeout(()=>this[_0x335e64(0x4b9)](),0x7d0),_0x49daad;}catch(_0x3f9a9b){throw this[_0x335e64(0x24a)]['error'](this[_0x335e64(0x33c)]+'\x20('+this['instance'][_0x335e64(0x556)]+_0x335e64(0x677)+(_0x3f9a9b instanceof Error?_0x3f9a9b[_0x335e64(0x6db)]:JSON['stringify'](_0x3f9a9b,null,0x2))),new w(_0x335e64(0x1bf)+_0x3f9a9b[_0x335e64(0x6db)]);}}async[a0_0x1ec271(0x38b)](){const _0x3a058c=a0_0x1ec271;try{let _0x26966f=await this[_0x3a058c(0x739)][_0x3a058c(0x34d)][_0x3a058c(0x4de)](this[_0x3a058c(0x47b)][_0x3a058c(0x556)]);return this[_0x3a058c(0x5c9)]=_0x26966f,this[_0x3a058c(0x24a)][_0x3a058c(0x641)](this[_0x3a058c(0x33c)]+'\x20('+this[_0x3a058c(0x47b)][_0x3a058c(0x556)]+'):\x20Visualizando\x20AutomateSystem'),this[_0x3a058c(0x24a)][_0x3a058c(0x641)](this[_0x3a058c(0x5c9)]),_0x26966f;}catch(_0x58de89){throw this['logger'][_0x3a058c(0x409)](this[_0x3a058c(0x33c)]+'\x20('+this['instance'][_0x3a058c(0x556)]+_0x3a058c(0x4c7)+(_0x58de89 instanceof Error?_0x58de89[_0x3a058c(0x6db)]:JSON[_0x3a058c(0x742)](_0x58de89,null,0x2))),new w('Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x58de89[_0x3a058c(0x6db)]);}}async[a0_0x1ec271(0x4d4)](){const _0x3221c1=a0_0x1ec271;this[_0x3221c1(0x47b)][_0x3221c1(0x42b)]['timeout']&&clearTimeout(this[_0x3221c1(0x47b)][_0x3221c1(0x42b)]['timeout']),this[_0x3221c1(0x47b)][_0x3221c1(0x42b)][_0x3221c1(0x4f7)]=setTimeout(()=>{const _0x1b914a=_0x3221c1;this[_0x1b914a(0x3f4)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x1ec271(0x3f4)](){const _0x191418=a0_0x1ec271;Date[_0x191418(0x65d)]()-this[_0x191418(0x47b)][_0x191418(0x42b)][_0x191418(0x20d)]>=0x1d4c0&&(this['logger'][_0x191418(0x641)](this['instanceName']+'\x20('+this[_0x191418(0x47b)][_0x191418(0x556)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x191418(0x47b)][_0x191418(0x42b)]['processing_id']=null,this[_0x191418(0x47b)][_0x191418(0x42b)]['lastSend']=0x0,this[_0x191418(0x47b)]['ScheduleMessage'][_0x191418(0x1c9)]=0x0,await this[_0x191418(0x4b9)]());}async[a0_0x1ec271(0x4b9)](){const _0x3845bb=a0_0x1ec271;let _0x158377=()=>{const _0x1fcf94=a0_0x37f8;this[_0x1fcf94(0x24a)][_0x1fcf94(0x641)](this[_0x1fcf94(0x33c)]+'\x20('+this[_0x1fcf94(0x47b)][_0x1fcf94(0x556)]+'):\x20this.processing_id:\x20'+this[_0x1fcf94(0x47b)][_0x1fcf94(0x42b)][_0x1fcf94(0x293)]+_0x1fcf94(0x690));},_0x2e4ba0=async()=>{const _0xb0583f=a0_0x37f8;this[_0xb0583f(0x24a)][_0xb0583f(0x641)](this['instanceName']+'\x20('+this[_0xb0583f(0x47b)][_0xb0583f(0x556)]+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0xdc5af=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x2f718f={'where':{'status':{'$in':[_0xb0583f(0x264),_0xb0583f(0x2ca)]},'$or':[{'when':{'$lte':Date[_0xb0583f(0x65d)](),'$gte':_0xdc5af}},{'when':0x0}]}};return await this[_0xb0583f(0x739)][_0xb0583f(0x481)][_0xb0583f(0x741)](_0x2f718f,this['instance']['wuid']);},_0x18ccbe=async _0x2109d5=>{const _0x2d90a8=a0_0x37f8;for(let _0x459abf of _0x2109d5){let _0xbe5a55={'_id':_0x459abf[_0x2d90a8(0x6dd)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x2d90a8(0x65d)]()-0x1770}}]},_0x4792ac={'startSend':Date[_0x2d90a8(0x65d)]()};if(!await this[_0x2d90a8(0x739)][_0x2d90a8(0x481)]['updateOne'](_0xbe5a55,_0x4792ac,this[_0x2d90a8(0x47b)][_0x2d90a8(0x556)]))return;if(!this[_0x2d90a8(0x47b)]['ScheduleMessage'][_0x2d90a8(0x473)]){this[_0x2d90a8(0x24a)][_0x2d90a8(0x641)](this[_0x2d90a8(0x33c)]+'\x20('+this[_0x2d90a8(0x47b)]['wuid']+_0x2d90a8(0x495));break;}if(_0x459abf['type']===_0x2d90a8(0x630)&&!this[_0x2d90a8(0x5c9)]?.[_0x2d90a8(0x47c)][_0x2d90a8(0x785)]){this['logger'][_0x2d90a8(0x409)](this['instanceName']+'\x20('+this[_0x2d90a8(0x47b)][_0x2d90a8(0x556)]+_0x2d90a8(0x19e));continue;}(!_0x459abf[_0x2d90a8(0x6ef)]||_0x459abf[_0x2d90a8(0x6ef)]['length']===0x0)&&(_0x459abf=await this[_0x2d90a8(0x739)]['scheduleMessage'][_0x2d90a8(0x3e4)](_0x459abf['_id'],{'status':_0x2d90a8(0x2ca),'remoteJidsRemaining':[..._0x459abf['remoteJids']]},this[_0x2d90a8(0x47b)][_0x2d90a8(0x556)]));for(let _0x1e8441 of _0x459abf[_0x2d90a8(0x6ef)]){if(await this[_0x2d90a8(0x4d4)](),this[_0x2d90a8(0x47b)][_0x2d90a8(0x42b)][_0x2d90a8(0x20d)]=Date[_0x2d90a8(0x65d)](),this['instance'][_0x2d90a8(0x42b)][_0x2d90a8(0x3ae)]===_0x1e8441){this[_0x2d90a8(0x24a)][_0x2d90a8(0x409)](this[_0x2d90a8(0x33c)]+'\x20('+this[_0x2d90a8(0x47b)][_0x2d90a8(0x556)]+_0x2d90a8(0x2f8)+_0x1e8441+_0x2d90a8(0x194));let _0x1d74fa={'$push':{'messagesSend':{'remoteJid':_0x1e8441,'error':!0x0,'id':null,'error_log':'Falha\x20após\x20várias\x20tentativas.','log_timestamp':Date['now']()}},'$pull':{'remoteJidsRemaining':_0x1e8441}};await this[_0x2d90a8(0x739)][_0x2d90a8(0x481)]['updateOneById'](_0x459abf[_0x2d90a8(0x6dd)],_0x1d74fa,this['instance']['wuid']);continue;}if(this[_0x2d90a8(0x47b)][_0x2d90a8(0x42b)]['ultimaTentativaRemoteJid']=_0x1e8441,_0x459abf[_0x2d90a8(0x30d)][_0x2d90a8(0x3b6)](_0x26a784=>_0x26a784[_0x2d90a8(0x560)]===_0x1e8441)){this['logger'][_0x2d90a8(0x641)](this[_0x2d90a8(0x33c)]+'\x20('+this[_0x2d90a8(0x47b)][_0x2d90a8(0x556)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x1e8441+_0x2d90a8(0x5a6));continue;}if(!this[_0x2d90a8(0x47b)][_0x2d90a8(0x42b)]['isConnected']){this['logger']['verbose'](this[_0x2d90a8(0x33c)]+'\x20('+this[_0x2d90a8(0x47b)]['wuid']+_0x2d90a8(0x3b7));break;}if(!this[_0x2d90a8(0x47b)][_0x2d90a8(0x42b)][_0x2d90a8(0x293)]){this[_0x2d90a8(0x24a)]['verbose'](this[_0x2d90a8(0x33c)]+'\x20('+this['instance'][_0x2d90a8(0x556)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x459abf[_0x2d90a8(0x6dd)]+_0x2d90a8(0x24c));break;}if(_0x459abf[_0x2d90a8(0x325)]==='flow'&&!this[_0x2d90a8(0x5c9)]?.[_0x2d90a8(0x47c)]['enabled']){this[_0x2d90a8(0x24a)][_0x2d90a8(0x409)](this[_0x2d90a8(0x33c)]+'\x20('+this[_0x2d90a8(0x47b)][_0x2d90a8(0x556)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');break;}let _0x55b429={'remoteJid':_0x1e8441,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x5424a0=null;try{let _0x4c0d57=await this['SendScheduleMessage'](_0x1e8441,_0x459abf);_0x55b429['error']=_0x4c0d57[_0x2d90a8(0x409)],_0x55b429['id']=_0x4c0d57[_0x2d90a8(0x409)]?null:_0x4c0d57['id'],_0x55b429[_0x2d90a8(0x773)]=_0x4c0d57[_0x2d90a8(0x409)]?_0x4c0d57[_0x2d90a8(0x61f)]?_0x4c0d57[_0x2d90a8(0x61f)][_0x2d90a8(0x506)]():'':null;let _0x54f631={'$push':{'messagesSend':_0x55b429},'$pull':{'remoteJidsRemaining':_0x1e8441}},_0x93a138=_0x459abf[_0x2d90a8(0x6dd)];if(_0x5424a0=await this[_0x2d90a8(0x739)][_0x2d90a8(0x481)][_0x2d90a8(0x3e4)](_0x93a138,_0x54f631,this[_0x2d90a8(0x47b)][_0x2d90a8(0x556)]),_0x4c0d57[_0x2d90a8(0x409)])continue;let _0x4d76c2=this[_0x2d90a8(0x700)](_0x459abf[_0x2d90a8(0x1fb)],_0x459abf[_0x2d90a8(0x51d)]);await this[_0x2d90a8(0x354)](_0x4d76c2);}catch(_0x2dfb81){this['logger'][_0x2d90a8(0x409)](this[_0x2d90a8(0x33c)]+'\x20('+this[_0x2d90a8(0x47b)][_0x2d90a8(0x556)]+'):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20'+_0x1e8441+':\x20'+(_0x2dfb81 instanceof Error?_0x2dfb81['message']:JSON['stringify'](_0x2dfb81,null,0x2))),_0x55b429[_0x2d90a8(0x409)]=!0x0,_0x55b429[_0x2d90a8(0x773)]=_0x2dfb81[_0x2d90a8(0x6db)];let _0x3941a9={'$push':{'messagesSend':_0x55b429},'$pull':{'remoteJidsRemaining':_0x1e8441}},_0x13f663=_0x459abf[_0x2d90a8(0x6dd)];_0x5424a0=await this[_0x2d90a8(0x739)]['scheduleMessage'][_0x2d90a8(0x3e4)](_0x13f663,_0x3941a9,this['instance'][_0x2d90a8(0x556)]);}finally{if(_0x5424a0&&_0x5424a0[_0x2d90a8(0x721)]===_0x2d90a8(0x788)){this[_0x2d90a8(0x24a)][_0x2d90a8(0x641)](this[_0x2d90a8(0x33c)]+'\x20('+this[_0x2d90a8(0x47b)]['wuid']+_0x2d90a8(0x792)+_0x459abf[_0x2d90a8(0x6dd)]+_0x2d90a8(0x6f4));break;}}}let _0x1c3181=await this[_0x2d90a8(0x739)]['scheduleMessage'][_0x2d90a8(0x300)](_0x459abf[_0x2d90a8(0x6dd)],this[_0x2d90a8(0x47b)]['wuid']);if(_0x1c3181[_0x2d90a8(0x6ef)][_0x2d90a8(0x710)]===0x0&&_0x1c3181[_0x2d90a8(0x721)]!==_0x2d90a8(0x788)){this['instance'][_0x2d90a8(0x42b)][_0x2d90a8(0x3ae)]=null;let _0x18b90f={'$set':{'status':_0x2d90a8(0x39d)}},_0x4ab76f=_0x1c3181[_0x2d90a8(0x6dd)];await this[_0x2d90a8(0x739)][_0x2d90a8(0x481)][_0x2d90a8(0x3e4)](_0x4ab76f,_0x18b90f,this['instance'][_0x2d90a8(0x556)]);}await new Promise(_0x337316=>setTimeout(_0x337316,0x1388));}},_0x2552de=async()=>{const _0x3f909f=a0_0x37f8;let _0x13caaf={'where':{'status':_0x3f909f(0x264),'when':{'$gt':Date[_0x3f909f(0x65d)]()}}},_0x2e816f=await this[_0x3f909f(0x739)][_0x3f909f(0x481)][_0x3f909f(0x1a0)](_0x13caaf,this[_0x3f909f(0x47b)][_0x3f909f(0x556)]);_0x2e816f&&_0x2e816f[_0x3f909f(0x47d)]-Date[_0x3f909f(0x65d)]()<=0x5265c00?this['instance']['ScheduleMessage'][_0x3f909f(0x1c9)]=_0x2e816f[_0x3f909f(0x47d)]-Date[_0x3f909f(0x65d)]():this[_0x3f909f(0x47b)]['ScheduleMessage'][_0x3f909f(0x1c9)]=(0x3c+Math[_0x3f909f(0x71c)](Math[_0x3f909f(0x2ee)]()*0x3c))*0x3c*0x3e8,this[_0x3f909f(0x47b)][_0x3f909f(0x42b)]['delayMessage']=Math[_0x3f909f(0x246)](this['instance']['ScheduleMessage'][_0x3f909f(0x1c9)],0x7d0);let _0x503797=Math[_0x3f909f(0x642)](this[_0x3f909f(0x47b)][_0x3f909f(0x42b)][_0x3f909f(0x1c9)]/0xea60);if(_0x2e816f){let _0x1f3277=new Date(_0x2e816f[_0x3f909f(0x47d)])[_0x3f909f(0x305)]();this[_0x3f909f(0x24a)][_0x3f909f(0x641)](this[_0x3f909f(0x33c)]+'\x20('+this[_0x3f909f(0x47b)][_0x3f909f(0x556)]+_0x3f909f(0x488)+_0x1f3277+_0x3f909f(0x76e)+_0x503797+'\x20minutos');}else this[_0x3f909f(0x24a)][_0x3f909f(0x641)](this[_0x3f909f(0x33c)]+'\x20('+this[_0x3f909f(0x47b)][_0x3f909f(0x556)]+_0x3f909f(0x304)+_0x503797+'\x20minutos');setTimeout(()=>this[_0x3f909f(0x4b9)](),this[_0x3f909f(0x47b)]['ScheduleMessage'][_0x3f909f(0x1c9)]);};if(this[_0x3845bb(0x47b)][_0x3845bb(0x42b)][_0x3845bb(0x293)]){await this[_0x3845bb(0x4d4)](),_0x158377();return;}if(!this[_0x3845bb(0x47b)][_0x3845bb(0x42b)][_0x3845bb(0x473)]){this[_0x3845bb(0x24a)]['verbose'](this[_0x3845bb(0x33c)]+'\x20('+this[_0x3845bb(0x47b)]['wuid']+_0x3845bb(0x531)),this[_0x3845bb(0x47b)][_0x3845bb(0x42b)][_0x3845bb(0x293)]=null,this[_0x3845bb(0x47b)][_0x3845bb(0x42b)][_0x3845bb(0x20d)]=0x0,this[_0x3845bb(0x47b)][_0x3845bb(0x42b)][_0x3845bb(0x1c9)]=0x0,this[_0x3845bb(0x47b)][_0x3845bb(0x42b)]['ultimaTentativaRemoteJid']=null;return;}try{let _0x1ae793=await _0x2e4ba0();_0x1ae793['length']===0x0?this[_0x3845bb(0x24a)][_0x3845bb(0x641)](this['instanceName']+'\x20('+this[_0x3845bb(0x47b)][_0x3845bb(0x556)]+_0x3845bb(0x206)):(this['instance'][_0x3845bb(0x42b)][_0x3845bb(0x293)]=_0x1ae793[0x0][_0x3845bb(0x6dd)],await _0x18ccbe(_0x1ae793)),await _0x2552de(),this[_0x3845bb(0x47b)][_0x3845bb(0x42b)]['processing_id']=null,this['instance'][_0x3845bb(0x42b)]['ultimaTentativaRemoteJid']=null;}catch(_0x21c31a){this[_0x3845bb(0x24a)][_0x3845bb(0x409)](_0x3845bb(0x5aa)+(_0x21c31a instanceof Error?_0x21c31a[_0x3845bb(0x6db)]:JSON[_0x3845bb(0x742)](_0x21c31a,null,0x2)));}}[a0_0x1ec271(0x700)](_0x1cac3c,_0x491a75){const _0x2b074e=a0_0x1ec271;return _0x1cac3c=Math[_0x2b074e(0x246)](0.5,_0x1cac3c),_0x491a75=Math[_0x2b074e(0x227)](Math[_0x2b074e(0x246)](0x3,_0x491a75),0x78),Math[_0x2b074e(0x71c)](Math['random']()*(_0x491a75-_0x1cac3c+0x1)+_0x1cac3c)*0x3e8;}[a0_0x1ec271(0x354)](_0x3303ad){return new Promise(_0x3e9a82=>setTimeout(_0x3e9a82,_0x3303ad));}async[a0_0x1ec271(0x57b)](_0x3fff7e){const _0x2ec34d=a0_0x1ec271;if(!this['AutomateSystem']&&(await this[_0x2ec34d(0x38b)](),!this[_0x2ec34d(0x5c9)]))return null;_0x3fff7e=this['createJid'](_0x3fff7e);let _0x372d69=await this[_0x2ec34d(0x739)]['chat'][_0x2ec34d(0x1a0)]({'where':{'_id':_0x3fff7e}},this[_0x2ec34d(0x47b)][_0x2ec34d(0x556)]),_0x238040={};if(_0x372d69&&_0x372d69[_0x2ec34d(0x28c)]){let _0x2b07b2=_0x372d69['leadInfo'];typeof _0x2b07b2['nome']==_0x2ec34d(0x186)&&(_0x238040[_0x2ec34d(0x827)]=_0x2b07b2[_0x2ec34d(0x827)]),typeof _0x2b07b2[_0x2ec34d(0x427)]=='string'&&(_0x238040[_0x2ec34d(0x427)]=_0x2b07b2[_0x2ec34d(0x427)]),typeof _0x2b07b2['email']==_0x2ec34d(0x186)&&(_0x238040['email']=_0x2b07b2[_0x2ec34d(0x31d)]),typeof _0x2b07b2['cpf']==_0x2ec34d(0x186)&&(_0x238040[_0x2ec34d(0x3bc)]=_0x2b07b2[_0x2ec34d(0x3bc)]),typeof _0x2b07b2[_0x2ec34d(0x721)]==_0x2ec34d(0x186)&&(_0x238040['status']=_0x2b07b2[_0x2ec34d(0x721)]),typeof _0x2b07b2[_0x2ec34d(0x38c)]==_0x2ec34d(0x186)&&(_0x238040[_0x2ec34d(0x38c)]=_0x2b07b2['notas']),typeof _0x2b07b2[_0x2ec34d(0x1df)]==_0x2ec34d(0x186)&&(_0x238040[_0x2ec34d(0x1df)]=_0x2b07b2[_0x2ec34d(0x1df)]),Array['isArray'](_0x2b07b2[_0x2ec34d(0x4d7)])&&(_0x238040[_0x2ec34d(0x4d7)]=_0x2b07b2[_0x2ec34d(0x4d7)][_0x2ec34d(0x487)](',\x20')),Array['isArray'](_0x2b07b2[_0x2ec34d(0x502)])&&(_0x238040[_0x2ec34d(0x502)]=_0x2b07b2[_0x2ec34d(0x502)][_0x2ec34d(0x487)](',\x20'));}return _0x372d69&&_0x372d69[_0x2ec34d(0x28c)]&&_0x372d69[_0x2ec34d(0x28c)][_0x2ec34d(0x22b)]&&_0x372d69[_0x2ec34d(0x28c)][_0x2ec34d(0x22b)][_0x2ec34d(0x359)](_0x3fafaa=>{const _0x5eaa7e=_0x2ec34d;let _0x4a6687=this[_0x5eaa7e(0x5c9)]?.[_0x5eaa7e(0x22b)][_0x5eaa7e(0x741)](_0x32bc8b=>_0x32bc8b[_0x5eaa7e(0x6dd)]===_0x3fafaa[_0x5eaa7e(0x6dd)]);_0x4a6687&&(_0x238040[_0x4a6687['name']]=_0x3fafaa['value']);}),_0x238040;}async['replaceVariablesChat'](_0xddfb77,_0x2b1972){const _0x3c4c27=a0_0x1ec271;try{let _0x5e0b06=await this[_0x3c4c27(0x57b)](_0x2b1972);return this[_0x3c4c27(0x7e6)](_0xddfb77,_0x5e0b06);}catch(_0x208a50){return this[_0x3c4c27(0x24a)][_0x3c4c27(0x409)](_0x3c4c27(0x30c)+_0x2b1972+':\x20'+_0x208a50),_0xddfb77;}}async[a0_0x1ec271(0x6f1)](_0x54fd74){const _0x150ca4=a0_0x1ec271;try{if(this[_0x150ca4(0x24a)][_0x150ca4(0x641)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x150ca4(0x30f)),_0x54fd74[_0x150ca4(0x41e)]&&_0x54fd74[_0x150ca4(0x6dd)]){if(this['instance'][_0x150ca4(0x42b)][_0x150ca4(0x293)]===_0x54fd74[_0x150ca4(0x6dd)][_0x150ca4(0x506)]())throw new Error(_0x150ca4(0x4b4));let _0x21871a=await this[_0x150ca4(0x739)][_0x150ca4(0x481)]['deleteOne'](_0x54fd74[_0x150ca4(0x6dd)],this[_0x150ca4(0x47b)][_0x150ca4(0x556)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x21871a;}let _0x4219cf;if(_0x54fd74[_0x150ca4(0x6dd)]&&(_0x4219cf=await this[_0x150ca4(0x739)][_0x150ca4(0x481)][_0x150ca4(0x300)](_0x54fd74[_0x150ca4(0x6dd)],this[_0x150ca4(0x47b)][_0x150ca4(0x556)])),_0x4219cf){let _0x2eddc0;if(this[_0x150ca4(0x47b)][_0x150ca4(0x42b)]['processing_id']===_0x4219cf[_0x150ca4(0x6dd)][_0x150ca4(0x506)]())_0x2eddc0={'$set':{'status':_0x54fd74[_0x150ca4(0x721)]}};else{let {_id:_0x5ea7dd,..._0x399bc5}=_0x54fd74;_0x2eddc0={'$set':_0x399bc5};}let _0x50d786=await this[_0x150ca4(0x739)][_0x150ca4(0x481)][_0x150ca4(0x3e4)](_0x54fd74[_0x150ca4(0x6dd)],_0x2eddc0,this['instance'][_0x150ca4(0x556)]);return setTimeout(()=>this[_0x150ca4(0x4b9)](),0x7d0),_0x50d786;}else{_0x54fd74['owner']=this[_0x150ca4(0x47b)][_0x150ca4(0x556)];let _0xb3aabb=await this[_0x150ca4(0x739)][_0x150ca4(0x481)]['createAndSave'](_0x54fd74,this[_0x150ca4(0x47b)]['wuid']);return setTimeout(()=>this[_0x150ca4(0x4b9)](),0x7d0),_0xb3aabb;}}catch(_0x3e92c2){throw this['logger']['error'](this[_0x150ca4(0x33c)]+'\x20('+this[_0x150ca4(0x47b)]['wuid']+_0x150ca4(0x564)+(_0x3e92c2 instanceof Error?_0x3e92c2[_0x150ca4(0x6db)]:JSON[_0x150ca4(0x742)](_0x3e92c2,null,0x2))),new w(_0x150ca4(0x83d)+_0x3e92c2['message']);}}async[a0_0x1ec271(0x2e1)](){const _0x35bfec=a0_0x1ec271;try{return await this[_0x35bfec(0x739)][_0x35bfec(0x481)]['find']({'where':{}},this[_0x35bfec(0x47b)][_0x35bfec(0x556)]);}catch(_0x35f1c5){throw this[_0x35bfec(0x24a)][_0x35bfec(0x409)](this[_0x35bfec(0x33c)]+'\x20('+this[_0x35bfec(0x47b)][_0x35bfec(0x556)]+_0x35bfec(0x621)+(_0x35f1c5 instanceof Error?_0x35f1c5['message']:JSON[_0x35bfec(0x742)](_0x35f1c5,null,0x2))),new w('Erro:'+_0x35f1c5[_0x35bfec(0x6db)]);}}async[a0_0x1ec271(0x637)](){const _0x33c0c5=a0_0x1ec271;try{let _0x4a9463={'status':_0x33c0c5(0x39d)},_0x276b06=await this[_0x33c0c5(0x739)][_0x33c0c5(0x481)][_0x33c0c5(0x316)](_0x4a9463,this[_0x33c0c5(0x47b)][_0x33c0c5(0x556)]);if(!_0x276b06[_0x33c0c5(0x409)])this[_0x33c0c5(0x24a)]['verbose'](this['instanceName']+'\x20('+this[_0x33c0c5(0x47b)][_0x33c0c5(0x556)]+_0x33c0c5(0x595));else throw new Error(_0x276b06[_0x33c0c5(0x409)][_0x33c0c5(0x6db)]||_0x33c0c5(0x7fe));return this[_0x33c0c5(0x2e1)]();}catch(_0x576018){throw this[_0x33c0c5(0x24a)][_0x33c0c5(0x409)](this[_0x33c0c5(0x33c)]+'\x20('+this[_0x33c0c5(0x47b)][_0x33c0c5(0x556)]+_0x33c0c5(0x5d0)+(_0x576018 instanceof Error?_0x576018[_0x33c0c5(0x6db)]:JSON[_0x33c0c5(0x742)](_0x576018,null,0x2))),new w(_0x33c0c5(0x83d)+_0x576018[_0x33c0c5(0x6db)]);}}async[a0_0x1ec271(0x443)](_0x289fb3,_0xb04d05){const _0x2f06c3=a0_0x1ec271;try{if(_0xb04d05[_0x2f06c3(0x325)]===_0x2f06c3(0x630)&&!this['AutomateSystem']?.[_0x2f06c3(0x47c)][_0x2f06c3(0x785)])return this[_0x2f06c3(0x24a)][_0x2f06c3(0x409)](this[_0x2f06c3(0x33c)]+'\x20('+this[_0x2f06c3(0x47b)][_0x2f06c3(0x556)]+_0x2f06c3(0x5d9)),{'error':!0x0,'detail':'Fluxos\x20não\x20estão\x20ativados'};switch(_0xb04d05['type']){case _0x2f06c3(0x308):return await this[_0x2f06c3(0x196)](_0xb04d05,_0x289fb3);case _0x2f06c3(0x7c3):return await this[_0x2f06c3(0x597)](_0xb04d05,_0x289fb3);case _0x2f06c3(0x422):return await this[_0x2f06c3(0x6c6)](_0xb04d05,_0x289fb3);case _0x2f06c3(0x630):let _0x408080=new je();return _0x408080['name']=_0xb04d05[_0x2f06c3(0x6ca)],_0x408080[_0x2f06c3(0x560)]=_0x289fb3,await this['startFlow'](_0x408080);break;default:return this[_0x2f06c3(0x24a)][_0x2f06c3(0x409)](this[_0x2f06c3(0x33c)]+'\x20('+this[_0x2f06c3(0x47b)][_0x2f06c3(0x556)]+_0x2f06c3(0x4a5)+_0xb04d05['type']),{'error':!0x0,'detail':_0x2f06c3(0x6a4)};}}catch(_0x488ce2){return this[_0x2f06c3(0x24a)]['error'](this[_0x2f06c3(0x33c)]+'\x20('+this[_0x2f06c3(0x47b)][_0x2f06c3(0x556)]+_0x2f06c3(0x73d)+(_0x488ce2 instanceof Error?_0x488ce2[_0x2f06c3(0x6db)]:JSON[_0x2f06c3(0x742)](_0x488ce2,null,0x2))),{'error':!0x0,'detail':_0x488ce2[_0x2f06c3(0x6db)]};}}['getRandomText'](_0x1ea039){const _0x180bcd=a0_0x1ec271;let _0x2bef92=_0x1ea039[_0x180bcd(0x1d7)]('|'),_0x58e6cb=Math[_0x180bcd(0x71c)](Math[_0x180bcd(0x2ee)]()*_0x2bef92[_0x180bcd(0x710)]);return _0x2bef92[_0x58e6cb][_0x180bcd(0x39e)]();}async[a0_0x1ec271(0x196)](_0x65b437,_0x5484f5){const _0x174fcb=a0_0x1ec271;if(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x174fcb(0x47b)]['wuid']+_0x174fcb(0x4fb)),!_0x65b437[_0x174fcb(0x6db)][_0x174fcb(0x308)]||_0x65b437[_0x174fcb(0x6db)][_0x174fcb(0x308)]['length']===0x0)return{'error':!0x0,'detail':_0x174fcb(0x649)};let _0x1922da=this[_0x174fcb(0x3ba)](_0x65b437[_0x174fcb(0x6db)][_0x174fcb(0x308)]),_0x4aa387=await this[_0x174fcb(0x323)](_0x1922da,_0x5484f5),_0x2ae6ac={'number':_0x5484f5,'options':{'delay':_0x65b437[_0x174fcb(0x6db)][_0x174fcb(0x494)],'linkPreview':_0x65b437[_0x174fcb(0x6db)][_0x174fcb(0x183)]},'textMessage':{'text':_0x4aa387}},_0x28c115=null;try{let _0xb5567a=await this['textMessage'](_0x2ae6ac);if(_0xb5567a&&_0xb5567a['status'])return{'error':!0x1,'id':_0xb5567a['key']['id']};_0x28c115=JSON['stringify'](_0xb5567a),this['logger']['verbose'](this[_0x174fcb(0x33c)]+'\x20('+this[_0x174fcb(0x47b)][_0x174fcb(0x556)]+_0x174fcb(0x355)+_0x28c115);}catch(_0x125d08){this[_0x174fcb(0x24a)][_0x174fcb(0x409)](this[_0x174fcb(0x33c)]+'\x20('+this[_0x174fcb(0x47b)][_0x174fcb(0x556)]+_0x174fcb(0x452)+(_0x125d08 instanceof Error?_0x125d08[_0x174fcb(0x6db)]:JSON['stringify'](_0x125d08,null,0x2))),_0x28c115=_0x125d08[_0x174fcb(0x6db)];}if(_0x28c115)return{'error':!0x0,'detail':(typeof _0x28c115==_0x174fcb(0x4b1)?JSON[_0x174fcb(0x742)](_0x28c115,null,0x2):_0x28c115)[_0x174fcb(0x448)](/[\[\]{}\n]/g,'\x20')[_0x174fcb(0x448)](/  +/g,'\x20')};}async[a0_0x1ec271(0x597)](_0x2ce7e3,_0x18679f){const _0x306e9c=a0_0x1ec271;this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x306e9c(0x47b)][_0x306e9c(0x556)]+_0x306e9c(0x2bc));let _0x673c79;if(_0x2ce7e3[_0x306e9c(0x6db)]['text']&&_0x2ce7e3[_0x306e9c(0x6db)]['text'][_0x306e9c(0x710)]>0x0){let _0x2984ef=this[_0x306e9c(0x3ba)](_0x2ce7e3['message'][_0x306e9c(0x308)]);_0x673c79=await this[_0x306e9c(0x323)](_0x2984ef,_0x18679f);}let _0x398caa={'number':_0x18679f,'options':{'delay':_0x2ce7e3[_0x306e9c(0x6db)]['delay'],'linkPreview':_0x2ce7e3[_0x306e9c(0x6db)][_0x306e9c(0x183)]},'mediaMessage':{'mediatype':_0x2ce7e3[_0x306e9c(0x6db)][_0x306e9c(0x2c3)],'caption':_0x673c79,'media':_0x2ce7e3['message'][_0x306e9c(0x610)]}},_0x5151e0=null;try{let _0xcd97ea=await this[_0x306e9c(0x573)](_0x398caa);if(_0xcd97ea&&_0xcd97ea['status'])return{'error':!0x1,'id':_0xcd97ea[_0x306e9c(0x669)]['id']};_0x5151e0=JSON[_0x306e9c(0x742)](_0xcd97ea),this[_0x306e9c(0x24a)]['verbose'](this[_0x306e9c(0x33c)]+'\x20('+this[_0x306e9c(0x47b)][_0x306e9c(0x556)]+'):\x20'+_0x5151e0);}catch(_0x31c659){this[_0x306e9c(0x24a)]['error'](this['instanceName']+'\x20('+this[_0x306e9c(0x47b)][_0x306e9c(0x556)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x31c659 instanceof Error?_0x31c659['message']:JSON[_0x306e9c(0x742)](_0x31c659,null,0x2))),_0x5151e0=_0x31c659[_0x306e9c(0x6db)];}if(_0x5151e0)return{'error':!0x0,'detail':(typeof _0x5151e0=='object'?JSON['stringify'](_0x5151e0,null,0x2):_0x5151e0)[_0x306e9c(0x448)](/[\[\]{}\n]/g,'\x20')[_0x306e9c(0x448)](/  +/g,'\x20')};}async[a0_0x1ec271(0x6c6)](_0x5d0a36,_0x91ec3d){const _0x274499=a0_0x1ec271;this[_0x274499(0x24a)][_0x274499(0x641)](this['instanceName']+'\x20('+this[_0x274499(0x47b)]['wuid']+_0x274499(0x77b));let _0x55e5bb={'number':_0x91ec3d,'options':{'delay':_0x5d0a36[_0x274499(0x6db)][_0x274499(0x494)]},'audioMessage':{'audio':_0x5d0a36[_0x274499(0x6db)][_0x274499(0x610)]}},_0x8731e7=null;try{let _0x18bdfb=await this['audioWhatsapp'](_0x55e5bb);if(_0x18bdfb&&_0x18bdfb[_0x274499(0x721)])return{'error':!0x1,'id':_0x18bdfb['key']['id']};_0x8731e7=JSON[_0x274499(0x742)](_0x18bdfb),this['logger']['verbose'](this[_0x274499(0x33c)]+'\x20('+this[_0x274499(0x47b)]['wuid']+_0x274499(0x355)+_0x8731e7);}catch(_0x14de8c){this[_0x274499(0x24a)][_0x274499(0x409)](this[_0x274499(0x33c)]+'\x20('+this['instance'][_0x274499(0x556)]+_0x274499(0x645)+(_0x14de8c instanceof Error?_0x14de8c[_0x274499(0x6db)]:JSON['stringify'](_0x14de8c,null,0x2))),_0x8731e7=_0x14de8c['message'];}if(_0x8731e7)return{'error':!0x0,'detail':(typeof _0x8731e7=='object'?JSON[_0x274499(0x742)](_0x8731e7,null,0x2):_0x8731e7)['replace'](/[\[\]{}\n]/g,'\x20')[_0x274499(0x448)](/  +/g,'\x20')};}},Jt=class c{constructor(_0x1730f8,_0x247ac6,_0x224aff){const _0x233f29=a0_0x1ec271;this['eventEmitter']=_0x1730f8,this[_0x233f29(0x7b9)]=_0x247ac6,this[_0x233f29(0x739)]=_0x224aff,this['db']={},this[_0x233f29(0x843)]={},this['logger']=new v(c['name']),this[_0x233f29(0x536)]={},(this[_0x233f29(0x565)](),this[_0x233f29(0x399)](),Object[_0x233f29(0x7ad)](this['db'],_0x247ac6[_0x233f29(0x651)](_0x233f29(0x40d))),Object[_0x233f29(0x7ad)](this[_0x233f29(0x843)],_0x247ac6[_0x233f29(0x651)](_0x233f29(0x4f4))),this['dbInstance']=this['db']['ENABLED']?this[_0x233f29(0x739)][_0x233f29(0x611)]?.['db'](this['db'][_0x233f29(0x29d)][_0x233f29(0x229)]+_0x233f29(0x807)):void 0x0,this['cache']=this['redis'][_0x233f29(0x1d1)]?new ne(this[_0x233f29(0x843)]):void 0x0);}async[a0_0x1ec271(0x3a6)](_0x571bce){const _0x5a2a0d=a0_0x1ec271;if(_0x571bce&&!this[_0x5a2a0d(0x536)][_0x571bce])throw new F(_0x5a2a0d(0x2c6)+_0x571bce+_0x5a2a0d(0x386));let _0x41a13e=[];for await(let [_0x432dbc,_0x2811fc]of Object[_0x5a2a0d(0x720)](this[_0x5a2a0d(0x536)]))if(_0x2811fc&&_0x2811fc[_0x5a2a0d(0x625)][_0x5a2a0d(0x3d5)]===_0x5a2a0d(0x296)){let _0xd679c3=await this[_0x5a2a0d(0x739)][_0x5a2a0d(0x719)][_0x5a2a0d(0x741)](_0x432dbc);_0x41a13e['push']({'instance':{'instanceName':_0x432dbc,'apikey':_0xd679c3[_0x5a2a0d(0x466)],'owner':_0x2811fc[_0x5a2a0d(0x556)],'profileName':await _0x2811fc['getProfileName']()||_0x5a2a0d(0x66b),'profilePictureUrl':_0x2811fc[_0x5a2a0d(0x3e2)]}});}return _0x41a13e[_0x5a2a0d(0x741)](_0x2ff1ef=>_0x2ff1ef[_0x5a2a0d(0x47b)][_0x5a2a0d(0x33c)]===_0x571bce)??_0x41a13e;}async[a0_0x1ec271(0x219)](_0x247010){const _0x40322f=a0_0x1ec271;if(this['db']['ENABLED']&&(await this[_0x40322f(0x739)]['dbServer'][_0x40322f(0x2b5)](),(await this[_0x40322f(0x52e)][_0x40322f(0x7c4)]())[_0x40322f(0x710)]>0x0&&await this[_0x40322f(0x52e)][_0x40322f(0x40a)](_0x247010)),this[_0x40322f(0x843)][_0x40322f(0x1d1)]){this[_0x40322f(0x247)]['reference']=_0x247010,await this[_0x40322f(0x247)][_0x40322f(0x3f1)]();return;}}async[a0_0x1ec271(0x696)](){const _0x4a2f49=a0_0x1ec271;await this[_0x4a2f49(0x585)]();let _0xb39d9f=async _0x11a4f6=>{const _0x1a4b66=_0x4a2f49;let _0x4a2bad=new be(this[_0x1a4b66(0x7b9)],this[_0x1a4b66(0x248)],this[_0x1a4b66(0x739)]);_0x4a2bad[_0x1a4b66(0x33c)]=_0x11a4f6,await _0x4a2bad[_0x1a4b66(0x2fd)](),this[_0x1a4b66(0x536)][_0x11a4f6]=_0x4a2bad;};try{if(this[_0x4a2f49(0x843)][_0x4a2f49(0x1d1)]){let _0x2c1ef9=await this[_0x4a2f49(0x247)][_0x4a2f49(0x6b2)]();_0x2c1ef9?.[_0x4a2f49(0x710)]>0x0&&_0x2c1ef9['forEach'](async _0x3d97e9=>await _0xb39d9f(_0x3d97e9['split'](':')[0x1]));return;}if(this['db'][_0x4a2f49(0x1d1)]){await this[_0x4a2f49(0x739)][_0x4a2f49(0x611)][_0x4a2f49(0x2b5)]();let _0x4ad709=await this[_0x4a2f49(0x52e)][_0x4a2f49(0x7c4)]();_0x4ad709[_0x4a2f49(0x710)]>0x0&&_0x4ad709['forEach'](async _0x50adc3=>await _0xb39d9f(_0x50adc3[_0x4a2f49(0x3c9)][_0x4a2f49(0x448)](/^[\w-]+\./,'')));return;}}catch(_0x5f1a4b){this[_0x4a2f49(0x24a)][_0x4a2f49(0x409)](_0x5f1a4b);}}async['InstancesAsDisconnectedX'](){const _0x371cd3=a0_0x1ec271;let _0x3ef5bc=await this[_0x371cd3(0x739)]['auth']['findAll'](),_0x224e53=_0x3ef5bc[_0x371cd3(0x3c7)](_0x155a43=>!this[_0x371cd3(0x536)][_0x155a43[_0x371cd3(0x6dd)]]&&(_0x155a43['online']||typeof _0x155a43['online']>'u'));_0x224e53[_0x371cd3(0x710)]>0x0&&await Promise[_0x371cd3(0x60d)](_0x224e53[_0x371cd3(0x540)](async _0x5d1d57=>{const _0x2a6c73=_0x371cd3;let _0x3e30b2={'online':!0x1,'lastDisconnect':Date['now']()};await this['repository'][_0x2a6c73(0x719)][_0x2a6c73(0x34e)](_0x3e30b2,_0x5d1d57[_0x2a6c73(0x6dd)]);}));let _0x18f075=Date[_0x371cd3(0x65d)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x20c7ae=_0x3ef5bc[_0x371cd3(0x3c7)](_0x2f7e4a=>!this[_0x371cd3(0x536)][_0x2f7e4a[_0x371cd3(0x6dd)]]&&typeof _0x2f7e4a[_0x371cd3(0x218)]<'u'&&_0x2f7e4a[_0x371cd3(0x218)]<_0x18f075);_0x20c7ae[_0x371cd3(0x710)]>0x0&&await Promise[_0x371cd3(0x60d)](_0x20c7ae[_0x371cd3(0x540)](async _0xf5f563=>{}));}async[a0_0x1ec271(0x585)](){const _0x44958d=a0_0x1ec271;try{let _0x320047={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x3fdf43={'online':!0x1,'lastDisconnect':Date['now']()},_0xa12fe5=await this['repository']['auth'][_0x44958d(0x6f7)](_0x320047,_0x3fdf43);console['log']('Instâncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0xa12fe5[_0x44958d(0x748)]),await this['removeOlderDisconnectedInstances']();}catch(_0x5deb07){console['error'](_0x44958d(0x4f5),_0x5deb07);}}async[a0_0x1ec271(0x431)](){const _0x3cc64b=a0_0x1ec271;try{let _0x147ca6={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x449ac9=await this[_0x3cc64b(0x739)][_0x3cc64b(0x719)]['deleteMany'](_0x147ca6);console[_0x3cc64b(0x55f)](_0x3cc64b(0x366)+_0x449ac9[_0x3cc64b(0x748)]);}catch(_0x1414ed){console[_0x3cc64b(0x409)]('Erro\x20ao\x20remover\x20instâncias\x20antigas:',_0x1414ed);}}[a0_0x1ec271(0x565)](){const _0xf2a6f3=a0_0x1ec271;this[_0xf2a6f3(0x248)]['on'](_0xf2a6f3(0x417),async _0x5fb607=>{const _0x52dd10=_0xf2a6f3;try{this[_0x52dd10(0x536)][_0x5fb607]=void 0x0;}catch{}try{this[_0x52dd10(0x219)](_0x5fb607);}finally{this['logger'][_0x52dd10(0x596)](_0x52dd10(0x2c6)+_0x5fb607+_0x52dd10(0x600));}});}['noConnection'](){const _0x3f1a39=a0_0x1ec271;this[_0x3f1a39(0x248)]['on'](_0x3f1a39(0x834),async _0x312467=>{const _0x3bcb7e=_0x3f1a39;try{this[_0x3bcb7e(0x536)][_0x312467]=void 0x0;}catch{}try{this[_0x3bcb7e(0x219)](_0x312467);}finally{this[_0x3bcb7e(0x24a)][_0x3bcb7e(0x596)]('Instance\x20\x22'+_0x312467+_0x3bcb7e(0x234));}});}},qt=class extends D{[a0_0x1ec271(0x58a)](_0x33798b){return Ys(_0x33798b);}async['insert'](_0x4cc41c){const _0x1a8898=a0_0x1ec271;if(_0x4cc41c['length']!==0x0)try{return{'insertCount':(await this[_0x1a8898(0x58a)](_0x4cc41c[0x0][_0x1a8898(0x210)])[_0x1a8898(0x821)]([..._0x4cc41c]))[_0x1a8898(0x710)]};}catch(_0x18d042){return _0x18d042;}}async[a0_0x1ec271(0x741)](_0xa8f575,_0x2ebe05){const _0x1f8b2b=a0_0x1ec271;try{let _0x3a8679=this[_0x1f8b2b(0x58a)](_0x2ebe05),_0x51abce=A(_0xa8f575[_0x1f8b2b(0x819)]);return await _0x3a8679['find'](_0x51abce)[_0x1f8b2b(0x59a)]({'lastmsg':-0x1})[_0x1f8b2b(0x75f)](_0xa8f575?.[_0x1f8b2b(0x75f)]??0x0)[_0x1f8b2b(0x709)]();}catch{return[];}}async[a0_0x1ec271(0x41e)](_0x3a2847,_0x1024b5){const _0x440304=a0_0x1ec271;try{return{'deletedCount':(await this[_0x440304(0x58a)](_0x1024b5)['deleteMany']({..._0x3a2847[_0x440304(0x819)]}))[_0x440304(0x4c3)]};}catch(_0x1ecfd5){return{'error':_0x1ecfd5?.[_0x440304(0x506)]()};}}async[a0_0x1ec271(0x4a8)](_0xd5a104,_0x4fa620){const _0x2d34a7=a0_0x1ec271;try{return await this['getChatModelForOwner'](_0x4fa620)[_0x2d34a7(0x316)]({..._0xd5a104['where']}),[];}catch(_0x52822c){return{'error':_0x52822c?.[_0x2d34a7(0x506)]()};}}async[a0_0x1ec271(0x1a0)](_0x53f567,_0x21bb92){const _0x1e1cd7=a0_0x1ec271;try{let _0x557344=this[_0x1e1cd7(0x58a)](_0x21bb92),_0x140f2f=A(_0x53f567[_0x1e1cd7(0x819)]);return await _0x557344['findOne'](_0x140f2f)[_0x1e1cd7(0x709)]();}catch{return null;}}async['updateOne'](_0x3e0759,_0x216b8d,_0x272e82,_0xcf11d1,_0xc106cc='$set'){const _0x2154f4=a0_0x1ec271;try{let _0x10eb94={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0xcf11d1},_0x43ba1f=this['getChatModelForOwner'](_0x272e82),_0x1948ad=A(_0x3e0759[_0x2154f4(0x819)]);Object[_0x2154f4(0x69d)](_0x216b8d)[_0x2154f4(0x359)](_0x2f838b=>{_0x216b8d[_0x2f838b]==null&&delete _0x216b8d[_0x2f838b];});let _0x3e3cb0={};return _0x3e3cb0[_0xc106cc]=_0x216b8d,await _0x43ba1f[_0x2154f4(0x1c0)](_0x1948ad,_0x3e3cb0,_0x10eb94);}catch(_0x1728ee){return console[_0x2154f4(0x409)](_0x1728ee),null;}}async[a0_0x1ec271(0x4e2)](_0x2fec27){const _0x3d3f92=a0_0x1ec271;try{let _0x481ff6=this[_0x3d3f92(0x58a)](_0x2fec27[0x0]['query'][_0x3d3f92(0x819)]['owner']),_0x3e5be1=_0x2fec27[_0x3d3f92(0x540)](_0x25a253=>({'updateOne':{'filter':{..._0x25a253[_0x3d3f92(0x3c4)]['where']},'update':{'$set':_0x25a253[_0x3d3f92(0x5f2)]},'upsert':!0x0}})),_0x3aca7f=await _0x481ff6[_0x3d3f92(0x2c4)](_0x3e5be1);return _0x3aca7f[_0x3d3f92(0x453)]+_0x3aca7f['upsertedCount'];}catch(_0x28b2ce){return console[_0x3d3f92(0x409)](_0x28b2ce),0x0;}}async['updateMissingLabels'](_0x5f0ea0){const _0x41f78f=a0_0x1ec271;try{let _0xa6383=this[_0x41f78f(0x58a)](_0x5f0ea0),_0x4de136={'labels':{'$exists':!0x0}},_0x35967e={'$unset':{'labels':''}};return(await _0xa6383['updateMany'](_0x4de136,_0x35967e))['modifiedCount'];}catch(_0x5360a8){return console['error'](_0x5360a8),0x0;}}async[a0_0x1ec271(0x598)](_0x26d397){const _0x4aecd2=a0_0x1ec271;try{let _0x80b2bf=this[_0x4aecd2(0x58a)](_0x26d397),_0x58706b={'leadInfo.etiquetas':{'$exists':!0x1}},_0x3c1a68={'$set':{'leadInfo.etiquetas':[]}};return(await _0x80b2bf['updateMany'](_0x58706b,_0x3c1a68))['modifiedCount'];}catch(_0x560ff9){return console['error'](_0x560ff9),0x0;}}async[a0_0x1ec271(0x378)](_0x372d1f){const _0xa2848=a0_0x1ec271;try{let _0x429921=this[_0xa2848(0x58a)](_0x372d1f),_0x2edbc5={'leadInfo.tags':{'$exists':!0x1}},_0x5663ee={'$set':{'leadInfo.tags':[]}};return(await _0x429921['updateMany'](_0x2edbc5,_0x5663ee))[_0xa2848(0x453)];}catch(_0x4991e0){return console['error'](_0x4991e0),0x0;}}async['updateMissingCustomFields'](_0x438bbc){const _0x6166ff=a0_0x1ec271;try{let _0x292084=this[_0x6166ff(0x58a)](_0x438bbc),_0x193c1a={'leadInfo.customFields':{'$exists':!0x1}},_0x526348={'$set':{'leadInfo.customFields':[]}};return(await _0x292084[_0x6166ff(0x4e2)](_0x193c1a,_0x526348))[_0x6166ff(0x453)];}catch(_0x2e953f){return console['error'](_0x2e953f),0x0;}}async[a0_0x1ec271(0x821)](_0x49a60d,_0x3c2d92){const _0x338813=a0_0x1ec271;if(!Array['isArray'](_0x49a60d)||_0x49a60d[_0x338813(0x710)]===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this[_0x338813(0x58a)](_0x3c2d92)[_0x338813(0x821)](_0x49a60d))[_0x338813(0x710)];}catch(_0x3e7791){throw console[_0x338813(0x409)]('Erro\x20ao\x20inserir\x20chats:',_0x3e7791),_0x3e7791;}}async['deleteChat'](_0x275aab,_0x1bd2fe){const _0x6bb0ea=a0_0x1ec271;try{await this['getChatModelForOwner'](_0x1bd2fe)[_0x6bb0ea(0x5bf)]({'_id':_0x275aab});}catch(_0x28334b){throw console[_0x6bb0ea(0x409)]('Erro\x20ao\x20deletar\x20chat:',_0x28334b),_0x28334b;}}},Vt=class extends D{constructor(_0x42a4bb,_0x29faf5,_0x17252f){const _0x43da80=a0_0x1ec271;super(_0x29faf5),this[_0x43da80(0x1ed)]=_0x42a4bb,this[_0x43da80(0x7b9)]=_0x29faf5,this[_0x43da80(0x455)]=_0x17252f;}async['insert'](_0x4ec9df){const _0xe5848=a0_0x1ec271;if(_0x4ec9df[_0xe5848(0x710)]!==0x0)try{return{'insertCount':(await this['cacheContactModel'][_0xe5848(0x821)]([..._0x4ec9df]))['length']};}catch(_0x55dc52){return _0x55dc52;}}async[a0_0x1ec271(0x5f2)](_0x38e2cf,_0x208dbb){const _0x1329c6=a0_0x1ec271;try{let _0x1e9096=A(_0x38e2cf[_0x1329c6(0x819)]);return{'updatedCount':(await this[_0x1329c6(0x1ed)][_0x1329c6(0x4e2)](_0x1e9096,{'$set':_0x208dbb}))['modifiedCount']};}catch(_0x12fbf5){return console['error'](_0x1329c6(0x21a),_0x12fbf5),{'error':_0x12fbf5['toString']()};}}async[a0_0x1ec271(0x77d)](_0x226910){const _0x130891=a0_0x1ec271;try{let _0x49eb45={'_id':{'$in':_0x226910}};return await this[_0x130891(0x1ed)][_0x130891(0x741)](_0x49eb45)[_0x130891(0x709)]();}catch(_0x176102){return console[_0x130891(0x409)](_0x130891(0x469),_0x176102),[];}}async['delete'](_0x1b998f){const _0x33f686=a0_0x1ec271;try{return{'deletedCount':(await this['cacheContactModel'][_0x33f686(0x316)]({..._0x1b998f[_0x33f686(0x819)]}))[_0x33f686(0x4c3)]};}catch(_0x230216){return{'error':_0x230216?.[_0x33f686(0x506)]()};}}async[a0_0x1ec271(0x741)](_0x353cf){const _0x38876c=a0_0x1ec271;try{let _0x2c2e9a=A(_0x353cf[_0x38876c(0x819)]);return await this[_0x38876c(0x1ed)]['find'](_0x2c2e9a)[_0x38876c(0x75f)](_0x353cf?.['limit']??0x0)[_0x38876c(0x709)]();}catch{return[];}}async[a0_0x1ec271(0x1a0)](_0x45c63c){const _0x30d4cd=a0_0x1ec271;try{let _0x573eef=A(_0x45c63c[_0x30d4cd(0x819)]);return await this[_0x30d4cd(0x1ed)][_0x30d4cd(0x1a0)](_0x573eef)[_0x30d4cd(0x709)]();}catch{return null;}}},Bt=class extends D{[a0_0x1ec271(0x276)](_0x5dd375){return Ma(_0x5dd375);}async[a0_0x1ec271(0x5ec)](_0x4104c5,_0x4ead9e,_0x56dbaa,_0x330e02){const _0x2b1909=a0_0x1ec271;try{let _0x3b9d34={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x330e02},_0x2ce89e=this[_0x2b1909(0x276)](_0x56dbaa),_0x106610=A(_0x4104c5[_0x2b1909(0x819)]);return await _0x2ce89e[_0x2b1909(0x1c0)](_0x106610,{'$set':_0x4ead9e},_0x3b9d34);}catch(_0x52402c){return console[_0x2b1909(0x409)](_0x52402c),null;}}async[a0_0x1ec271(0x741)](_0x25ca2a,_0x43678e){const _0x148891=a0_0x1ec271;try{let _0x5c16c8=this['getLabelModelForOwner'](_0x43678e),_0x21fe10=A(_0x25ca2a[_0x148891(0x819)]);return await _0x5c16c8[_0x148891(0x741)](_0x21fe10);}catch(_0x1ced32){console[_0x148891(0x409)](_0x1ced32);}}async['delete'](_0x25cb94,_0x47c4c7){const _0x3b1622=a0_0x1ec271;try{let _0x568f6d=this[_0x3b1622(0x276)](_0x47c4c7),_0x46c51a=A(_0x25cb94[_0x3b1622(0x819)]);await _0x568f6d['deleteMany'](_0x46c51a);}catch(_0x244412){console[_0x3b1622(0x409)](_0x244412);}}async[a0_0x1ec271(0x4a8)](_0x467d9a){const _0x49a86a=a0_0x1ec271;try{return await this[_0x49a86a(0x276)](_0x467d9a)[_0x49a86a(0x52d)][_0x49a86a(0x648)](),{'success':!0x0};}catch(_0x2dfa08){return console['error'](_0x2dfa08),{'success':!0x1,'error':_0x2dfa08};}}},Gt=class{constructor(_0x5e71b4){const _0x282cf3=a0_0x1ec271;this[_0x282cf3(0x240)]=_0x5e71b4;}async[a0_0x1ec271(0x339)]({instanceName:_0x29d545},_0x4c74b8){const _0x18fe46=a0_0x1ec271;return await this[_0x18fe46(0x240)][_0x18fe46(0x536)][_0x29d545][_0x18fe46(0x339)](_0x4c74b8);}async[a0_0x1ec271(0x2ba)]({instanceName:_0x3a5b3c},_0xffdda7){const _0xd776fa=a0_0x1ec271;return await this[_0xd776fa(0x240)][_0xd776fa(0x536)][_0x3a5b3c][_0xd776fa(0x2ba)](_0xffdda7);}async['importChats']({instanceName:_0x23c764},_0x1a2f92){const _0x187e36=a0_0x1ec271;return await this[_0x187e36(0x240)][_0x187e36(0x536)][_0x23c764][_0x187e36(0x54c)](_0x1a2f92);}async[a0_0x1ec271(0x1a8)]({instanceName:_0xaf2d6},_0x127659){const _0x473963=a0_0x1ec271;return await this[_0x473963(0x240)]['waInstances'][_0xaf2d6][_0x473963(0x617)](_0x127659);}async[a0_0x1ec271(0x781)]({instanceName:_0x48df73},_0x1215e4){const _0x2939f3=a0_0x1ec271;return await this['waMonitor'][_0x2939f3(0x536)][_0x48df73]['archiveChat'](_0x1215e4);}async['deleteMessage']({instanceName:_0x415d0b},_0x5ae365){const _0x58646e=a0_0x1ec271;return await this[_0x58646e(0x240)]['waInstances'][_0x415d0b][_0x58646e(0x78d)](_0x5ae365);}async[a0_0x1ec271(0x1cb)]({instanceName:_0x295e14},_0x2157de){const _0x3cd88d=a0_0x1ec271;return await this[_0x3cd88d(0x240)][_0x3cd88d(0x536)][_0x295e14]['profilePicture'](_0x2157de['number']);}async[a0_0x1ec271(0x18e)]({instanceName:_0x4bdf40},_0x3a2656){const _0x219af8=a0_0x1ec271;return await this[_0x219af8(0x240)][_0x219af8(0x536)][_0x4bdf40][_0x219af8(0x18e)](_0x3a2656[_0x219af8(0x396)]);}async[a0_0x1ec271(0x2fc)]({instanceName:_0x5d0418},_0xaa8224){const _0x4aa468=a0_0x1ec271;return await this[_0x4aa468(0x240)][_0x4aa468(0x536)][_0x5d0418]['updatePresence'](_0xaa8224);}async[a0_0x1ec271(0x405)]({instanceName:_0xa6f9ef},_0x844514){const _0xfc0f15=a0_0x1ec271;return await this[_0xfc0f15(0x240)][_0xfc0f15(0x536)][_0xa6f9ef]['fetchContacts'](_0x844514);}async[a0_0x1ec271(0x48f)]({instanceName:_0x40f986},_0x230141){const _0x44cb64=a0_0x1ec271;return await this['waMonitor'][_0x44cb64(0x536)][_0x40f986]['getBase64FromMediaMessage'](_0x230141);}async[a0_0x1ec271(0x176)]({instanceName:_0xc97c20},_0x45076f){const _0xffc098=a0_0x1ec271;return await this[_0xffc098(0x240)][_0xffc098(0x536)][_0xc97c20][_0xffc098(0x176)](_0x45076f);}async[a0_0x1ec271(0x4cd)]({instanceName:_0x533dbe}){const _0x47e110=a0_0x1ec271;return await this[_0x47e110(0x240)][_0x47e110(0x536)][_0x533dbe][_0x47e110(0x4cd)]();}async[a0_0x1ec271(0x7eb)]({instanceName:_0x286429}){const _0xff3ac6=a0_0x1ec271;return await this[_0xff3ac6(0x240)]['waInstances'][_0x286429][_0xff3ac6(0x7eb)]();}async[a0_0x1ec271(0x3fa)]({instanceName:_0x40ce7e}){const _0x4160ce=a0_0x1ec271;return await this[_0x4160ce(0x240)][_0x4160ce(0x536)][_0x40ce7e]['fetchPrivacySettings']();}async[a0_0x1ec271(0x5f4)]({instanceName:_0x52372d},_0x2413da){const _0x4a90e9=a0_0x1ec271;return await this[_0x4a90e9(0x240)][_0x4a90e9(0x536)][_0x52372d][_0x4a90e9(0x5f4)](_0x2413da);}async[a0_0x1ec271(0x24f)]({instanceName:_0x282dde},_0x502b66){const _0x496dc5=a0_0x1ec271;return await this['waMonitor'][_0x496dc5(0x536)][_0x282dde][_0x496dc5(0x24f)](_0x502b66[_0x496dc5(0x396)]);}async['updateProfileName']({instanceName:_0x369a7d},_0x19b896){const _0x3e608e=a0_0x1ec271;return await this[_0x3e608e(0x240)][_0x3e608e(0x536)][_0x369a7d][_0x3e608e(0x503)](_0x19b896[_0x3e608e(0x49a)]);}async[a0_0x1ec271(0x17a)]({instanceName:_0x95a9e2},_0x4fb9da){const _0x14cc35=a0_0x1ec271;return await this['waMonitor']['waInstances'][_0x95a9e2][_0x14cc35(0x17a)](_0x4fb9da['status']);}async[a0_0x1ec271(0x823)]({instanceName:_0x1e4ea9},_0x4ae1a2){const _0x4eb2f6=a0_0x1ec271;return await this['waMonitor'][_0x4eb2f6(0x536)][_0x1e4ea9]['updateProfilePicture'](_0x4ae1a2[_0x4eb2f6(0x310)]);}async[a0_0x1ec271(0x6c3)]({instanceName:_0x36bfea},_0x5bf6fa){const _0x22634d=a0_0x1ec271;return await this[_0x22634d(0x240)][_0x22634d(0x536)][_0x36bfea][_0x22634d(0x6c3)]();}},$s=require('@whiskeysockets/baileys'),Wt=class c{constructor(_0x2a85d0,_0x1f4cd4,_0x998882,_0x397e0f,_0x333dca){const _0x1e2644=a0_0x1ec271;this['waMonitor']=_0x2a85d0,this[_0x1e2644(0x7b9)]=_0x1f4cd4,this['repository']=_0x998882,this[_0x1e2644(0x248)]=_0x397e0f,this['authService']=_0x333dca,this[_0x1e2644(0x24a)]=new v(c['name']);}async['createInstance']({instanceName:_0x244c08,apikey:_0x46641e,number:_0x1a8467,proxy:_0x173051=!0x0}){const _0x2fa6da=a0_0x1ec271;try{let _0x40a87f=new be(this[_0x2fa6da(0x7b9)],this[_0x2fa6da(0x248)],this[_0x2fa6da(0x739)]);_0x40a87f[_0x2fa6da(0x33c)]=_0x244c08,this[_0x2fa6da(0x240)][_0x2fa6da(0x536)][_0x40a87f[_0x2fa6da(0x33c)]]=_0x40a87f;let _0x47bee2={};_0x46641e?(await this[_0x2fa6da(0x739)][_0x2fa6da(0x719)][_0x2fa6da(0x34e)]({'apikey':_0x46641e},_0x244c08),_0x47bee2['apikey']=_0x46641e):_0x47bee2=await this[_0x2fa6da(0x334)][_0x2fa6da(0x4d6)]({'instanceName':_0x40a87f[_0x2fa6da(0x33c)]});let _0x5c02e9;if(_0x1a8467){if(_0x5c02e9=await this[_0x2fa6da(0x6b4)](_0x1a8467),_0x5c02e9['error'])throw new I(_0x5c02e9['error'][_0x2fa6da(0x506)]());_0x1a8467=_0x5c02e9[_0x2fa6da(0x396)];}let _0x44cdba;return await _0x40a87f[_0x2fa6da(0x2fd)](_0x1a8467),await(0x0,$s['delay'])(0x7d0),_0x44cdba=_0x40a87f['qrCode'],{'instance':{'instanceName':_0x40a87f['instanceName'],'status':_0x2fa6da(0x3b5)},'hash':_0x47bee2,'qrcode':_0x44cdba};}catch(_0x46ab27){throw this[_0x2fa6da(0x24a)]['error'](_0x46ab27),_0x46ab27;}}async[a0_0x1ec271(0x2f3)]({instanceName:_0x1e59bb,number:_0x5329bc=null}){const _0x2046e9=a0_0x1ec271;try{let _0x5c9254=this[_0x2046e9(0x240)][_0x2046e9(0x536)][_0x1e59bb];switch(_0x5c9254?.[_0x2046e9(0x625)]?.[_0x2046e9(0x3d5)]){case _0x2046e9(0x1a7):return await _0x5c9254[_0x2046e9(0x2fd)](_0x5329bc),await(0x0,$s[_0x2046e9(0x494)])(0x7d0),_0x5c9254[_0x2046e9(0x3f0)];case _0x2046e9(0x46e):return _0x5c9254[_0x2046e9(0x3f0)];default:return await this['connectionState']({'instanceName':_0x1e59bb});}}catch(_0x2e89be){this['logger'][_0x2046e9(0x55f)](_0x2e89be);}}async['connectionState']({instanceName:_0x4a0b83}){const _0x18f592=a0_0x1ec271;let _0x1b1767=this[_0x18f592(0x240)][_0x18f592(0x536)][_0x4a0b83]['connectionStatus'],_0x1b26d4=null;_0x1b1767['state']===_0x18f592(0x296)&&_0x4a0b83&&(_0x1b26d4=await this['waMonitor'][_0x18f592(0x3a6)](_0x4a0b83));let _0x5c37fe=null;return _0x1b1767[_0x18f592(0x3d5)]==='connecting'&&_0x4a0b83&&(_0x5c37fe=this[_0x18f592(0x240)][_0x18f592(0x536)][_0x4a0b83][_0x18f592(0x3f0)]),{'instance':_0x4a0b83,'connectionStatus':_0x1b1767,'instanceInfo':_0x1b26d4,'qrcode':_0x5c37fe};}async[a0_0x1ec271(0x6b4)](_0xf82bd4){const _0xd28fb0=a0_0x1ec271;_0xf82bd4=_0xf82bd4[_0xd28fb0(0x448)](/\D/g,'');let _0x1ced8f=Object[_0xd28fb0(0x69d)](this[_0xd28fb0(0x240)][_0xd28fb0(0x536)])[_0xd28fb0(0x3c7)](_0x21d3bd=>{const _0x4941fb=_0xd28fb0;let _0x29f0c2=this['waMonitor'][_0x4941fb(0x536)][_0x21d3bd];return _0x29f0c2&&_0x29f0c2[_0x4941fb(0x625)]&&_0x29f0c2[_0x4941fb(0x625)][_0x4941fb(0x3d5)]===_0x4941fb(0x296);});if(_0x1ced8f[_0xd28fb0(0x710)]===0x0)return{'number':this[_0xd28fb0(0x33e)](_0xf82bd4)};let _0x3b02da=Math['floor'](Math[_0xd28fb0(0x2ee)]()*_0x1ced8f[_0xd28fb0(0x710)]),_0x5ce26e=_0x1ced8f[_0x3b02da];try{let _0x405dc6=(await this[_0xd28fb0(0x240)][_0xd28fb0(0x536)][_0x5ce26e][_0xd28fb0(0x2ba)]({'numbers':[_0xf82bd4]}))[_0xd28fb0(0x638)]();return _0x405dc6['exists']?{'number':_0x405dc6[_0xd28fb0(0x361)][_0xd28fb0(0x448)](_0xd28fb0(0x594),'')}:{'number':_0xf82bd4,'error':_0xd28fb0(0x367)};}catch(_0x3c3b99){return this['logger'][_0xd28fb0(0x409)](_0xd28fb0(0x2b4)+_0x3c3b99),{'number':_0xf82bd4,'error':_0xd28fb0(0x485)};}}['formatBRNumber'](_0x2173e4){const _0x35c104=a0_0x1ec271;let _0x3cf2eb=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x35c104(0x7ab)](_0x2173e4);if(_0x3cf2eb&&_0x3cf2eb[0x1]==='55'){let _0x59ff7a=_0x3cf2eb[0x2],_0x9c49cd=_0x3cf2eb[0x3],_0x5b02da=_0x3cf2eb[0x4];if(parseInt(_0x59ff7a)>=0x1f&&_0x9c49cd==='9')return _0x3cf2eb[0x1]+_0x59ff7a+_0x5b02da;}return _0x2173e4;}async[a0_0x1ec271(0x644)]({instanceName:_0x58b57d}){const _0x530e3a=a0_0x1ec271;try{return this['waMonitor'][_0x530e3a(0x536)][_0x58b57d]?.[_0x530e3a(0x6b3)]?.['ws']?.[_0x530e3a(0x1a7)](),{'status':_0x530e3a(0x6fc),'error':!0x1,'response':{'message':_0x530e3a(0x755)}};}catch(_0x4b69ef){this['logger'][_0x530e3a(0x409)](_0x4b69ef);}}async['fetchInstances']({instanceName:_0xe56074}){const _0xf106fb=a0_0x1ec271;return _0xe56074?this[_0xf106fb(0x240)][_0xf106fb(0x3a6)](_0xe56074):this[_0xf106fb(0x240)]['instanceInfo']();}async[a0_0x1ec271(0x5fa)]({instanceName:_0x25b6d7}){const _0x103e4f=a0_0x1ec271;try{return await this[_0x103e4f(0x240)][_0x103e4f(0x536)][_0x25b6d7]?.[_0x103e4f(0x6b3)]?.[_0x103e4f(0x5fa)]('Log\x20out\x20instance:\x20'+_0x25b6d7),{'error':!0x1,'message':_0x103e4f(0x42c)};}catch(_0x373a82){throw new I(_0x373a82[_0x103e4f(0x506)]());}}async[a0_0x1ec271(0x814)]({instanceName:_0x874f22}){const _0x281c96=a0_0x1ec271;if((await this['connectionState']({'instanceName':_0x874f22}))[_0x281c96(0x625)][_0x281c96(0x3d5)]===_0x281c96(0x296))throw new w([_0x281c96(0x3e5),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this[_0x281c96(0x240)][_0x281c96(0x536)][_0x874f22],{'error':!0x1,'message':_0x281c96(0x4f6)};}catch(_0x13051a){throw new w(_0x13051a[_0x281c96(0x506)]());}}},ee=require('class-validator'),zt=class{constructor(_0xf1b057){const _0x67c933=a0_0x1ec271;this[_0x67c933(0x240)]=_0xf1b057;}async[a0_0x1ec271(0x6a3)]({instanceName:_0x2f8055},_0x358bc4){const _0x4488b7=a0_0x1ec271;return await this[_0x4488b7(0x240)][_0x4488b7(0x536)][_0x2f8055]['textMessage'](_0x358bc4);}async[a0_0x1ec271(0x360)]({instanceName:_0x5e3b6c},_0x356eda){const _0xdb44fd=a0_0x1ec271;return await this[_0xdb44fd(0x240)][_0xdb44fd(0x536)][_0x5e3b6c]['menuMessage'](_0x356eda);}async[a0_0x1ec271(0x701)]({instanceName:_0x2c763b},_0x4dd260){const _0x1e7f5b=a0_0x1ec271;if((0x0,ee[_0x1e7f5b(0x6f5)])(_0x4dd260?.[_0x1e7f5b(0x573)]?.[_0x1e7f5b(0x7c3)])&&!_0x4dd260?.[_0x1e7f5b(0x573)]?.[_0x1e7f5b(0x459)])throw new w('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,ee[_0x1e7f5b(0x5e7)])(_0x4dd260?.['mediaMessage']?.[_0x1e7f5b(0x7c3)])||(0x0,ee[_0x1e7f5b(0x6f5)])(_0x4dd260?.[_0x1e7f5b(0x573)]?.['media']))return await this[_0x1e7f5b(0x240)]['waInstances'][_0x2c763b][_0x1e7f5b(0x573)](_0x4dd260);throw new w(_0x1e7f5b(0x480));}async[a0_0x1ec271(0x204)]({instanceName:_0x2d75e6},_0x2e916a){const _0x1f7348=a0_0x1ec271;if((0x0,ee[_0x1f7348(0x5e7)])(_0x2e916a[_0x1f7348(0x6c0)][_0x1f7348(0x23a)])||(0x0,ee[_0x1f7348(0x6f5)])(_0x2e916a[_0x1f7348(0x6c0)][_0x1f7348(0x23a)]))return await this[_0x1f7348(0x240)][_0x1f7348(0x536)][_0x2d75e6][_0x1f7348(0x549)](_0x2e916a);throw new w(_0x1f7348(0x480));}async['sendWhatsAppAudio']({instanceName:_0x13d404},_0x37fb9f){const _0x459050=a0_0x1ec271;if((0x0,ee[_0x459050(0x5e7)])(_0x37fb9f[_0x459050(0x383)][_0x459050(0x422)])||(0x0,ee[_0x459050(0x6f5)])(_0x37fb9f[_0x459050(0x383)]['audio']))return await this[_0x459050(0x240)][_0x459050(0x536)][_0x13d404]['audioWhatsapp'](_0x37fb9f);throw new w(_0x459050(0x480));}async['sendButtons']({instanceName:_0x410eb4},_0x492fb7){const _0x2dd7d8=a0_0x1ec271;if((0x0,ee['isBase64'])(_0x492fb7[_0x2dd7d8(0x6e6)][_0x2dd7d8(0x573)]?.[_0x2dd7d8(0x7c3)])&&!_0x492fb7['buttonMessage'][_0x2dd7d8(0x573)]?.[_0x2dd7d8(0x459)])throw new w(_0x2dd7d8(0x1ca));return await this[_0x2dd7d8(0x240)][_0x2dd7d8(0x536)][_0x410eb4]['buttonMessage'](_0x492fb7);}async[a0_0x1ec271(0x2f2)]({instanceName:_0x282816},_0x1cbf91){const _0x4c428f=a0_0x1ec271;return await this[_0x4c428f(0x240)][_0x4c428f(0x536)][_0x282816][_0x4c428f(0x3b8)](_0x1cbf91);}async[a0_0x1ec271(0x197)]({instanceName:_0x2b09ed},_0x599de3){const _0x10eade=a0_0x1ec271;return await this[_0x10eade(0x240)][_0x10eade(0x536)][_0x2b09ed][_0x10eade(0x36d)](_0x599de3);}async[a0_0x1ec271(0x706)]({instanceName:_0x39b1c8},_0x2f56bd){const _0x42dbc4=a0_0x1ec271;return await this[_0x42dbc4(0x240)][_0x42dbc4(0x536)][_0x39b1c8]['listMessage'](_0x2f56bd);}async['sendContact']({instanceName:_0x1c0671},_0x12e181){const _0x351ec5=a0_0x1ec271;return await this['waMonitor'][_0x351ec5(0x536)][_0x1c0671][_0x351ec5(0x421)](_0x12e181);}async['sendReaction']({instanceName:_0x40d05b},_0x15c1aa){const _0x2f5a9c=a0_0x1ec271;if(!_0x15c1aa[_0x2f5a9c(0x782)][_0x2f5a9c(0x37b)][_0x2f5a9c(0x199)](/[^\(\)\w\sà-ú"-\+]+/))throw new w(_0x2f5a9c(0x297));return await this['waMonitor'][_0x2f5a9c(0x536)][_0x40d05b][_0x2f5a9c(0x782)](_0x15c1aa);}async['sendStatus']({instanceName:_0x114431},_0x5c15e9){const _0x14a658=a0_0x1ec271;return await this[_0x14a658(0x240)][_0x14a658(0x536)][_0x114431][_0x14a658(0x41d)](_0x5c15e9);}},Dr=require(a0_0x1ec271(0x67d)),ks=require('uuid'),Ht=class c{constructor(_0x1afce1,_0x5e0660,_0x3910d6){const _0x48f984=a0_0x1ec271;this[_0x48f984(0x7b9)]=_0x1afce1,this[_0x48f984(0x240)]=_0x5e0660,this[_0x48f984(0x739)]=_0x3910d6,this[_0x48f984(0x24a)]=new v(c[_0x48f984(0x49a)]);}async[a0_0x1ec271(0x5af)](_0x10e4e0){const _0x287409=a0_0x1ec271;let _0xc4c33d=this[_0x287409(0x7b9)][_0x287409(0x651)](_0x287409(0x697))['JWT'],_0x1945ac=(0x0,Dr[_0x287409(0x483)])({'instanceName':_0x10e4e0[_0x287409(0x33c)],'apiName':Ze,'tokenId':(0x0,ks['v4'])()},_0xc4c33d[_0x287409(0x712)],{'expiresIn':_0xc4c33d['EXPIRIN_IN'],'encoding':_0x287409(0x414),'subject':'g-t'}),_0x4913a3=await this['repository']['auth']['create']({'jwt':_0x1945ac},_0x10e4e0[_0x287409(0x33c)]);if(_0x4913a3[_0x287409(0x409)])throw this[_0x287409(0x24a)][_0x287409(0x409)]({'localError':c[_0x287409(0x49a)]+_0x287409(0x80a),'error':_0x4913a3[_0x287409(0x409)]}),new w(_0x287409(0x324),_0x4913a3['error']?.[_0x287409(0x506)]());return{'jwt':_0x1945ac};}async['apikey'](_0x6dc397){const _0x458d53=a0_0x1ec271;let _0xa62ef8=(0x0,ks['v4'])()[_0x458d53(0x6d4)](),_0x4e3c50=await this[_0x458d53(0x739)][_0x458d53(0x719)][_0x458d53(0x34e)]({'apikey':_0xa62ef8},_0x6dc397[_0x458d53(0x33c)]);if(_0x4e3c50[_0x458d53(0x409)])throw this[_0x458d53(0x24a)][_0x458d53(0x409)]({'localError':c[_0x458d53(0x49a)]+_0x458d53(0x80a),'error':_0x4e3c50[_0x458d53(0x409)]}),new w('Authentication\x20error',_0x4e3c50['error']?.[_0x458d53(0x506)]());return{'apikey':_0xa62ef8};}async[a0_0x1ec271(0x4d6)](_0x59805b){const _0x401609=a0_0x1ec271;let _0x2c9cfa=this[_0x401609(0x7b9)][_0x401609(0x651)](_0x401609(0x697));return await this[_0x2c9cfa['TYPE']](_0x59805b);}},Kt=class{constructor(_0x25077f){const _0x567128=a0_0x1ec271;this[_0x567128(0x240)]=_0x25077f;}async['createGroup'](_0x54ddb9,_0x17a44d){const _0x18ef62=a0_0x1ec271;return await this[_0x18ef62(0x240)][_0x18ef62(0x536)][_0x54ddb9[_0x18ef62(0x33c)]][_0x18ef62(0x2ad)](_0x17a44d);}async[a0_0x1ec271(0x330)](_0x236517,_0x3a4eed){const _0x469665=a0_0x1ec271;return await this['waMonitor'][_0x469665(0x536)][_0x236517[_0x469665(0x33c)]]['updateGroupPicture'](_0x3a4eed);}async[a0_0x1ec271(0x280)](_0x4fb803,_0x50157c){const _0x50e207=a0_0x1ec271;return await this['waMonitor'][_0x50e207(0x536)][_0x4fb803[_0x50e207(0x33c)]][_0x50e207(0x280)](_0x50157c);}async[a0_0x1ec271(0x7fd)](_0x46ff8a,_0x5da043){const _0x58ec3a=a0_0x1ec271;return await this[_0x58ec3a(0x240)]['waInstances'][_0x46ff8a[_0x58ec3a(0x33c)]][_0x58ec3a(0x7fd)](_0x5da043);}async[a0_0x1ec271(0x38d)](_0x47b07d,_0x5c178a){const _0x181b2a=a0_0x1ec271;return await this[_0x181b2a(0x240)][_0x181b2a(0x536)][_0x47b07d['instanceName']]['groupBetterSetting'](_0x5c178a);}async[a0_0x1ec271(0x612)](_0x73c6b2,_0x108544){const _0x3b145f=a0_0x1ec271;return await this[_0x3b145f(0x240)][_0x3b145f(0x536)][_0x73c6b2[_0x3b145f(0x33c)]][_0x3b145f(0x612)](_0x108544);}async[a0_0x1ec271(0x290)](_0x3bb487,_0x158ade){const _0x4ea7c3=a0_0x1ec271;return await this['waMonitor']['waInstances'][_0x3bb487[_0x4ea7c3(0x33c)]][_0x4ea7c3(0x763)](_0x158ade);}async[a0_0x1ec271(0x622)](_0x4c1719){const _0x5dccd1=a0_0x1ec271;return await this['waMonitor'][_0x5dccd1(0x536)][_0x4c1719[_0x5dccd1(0x33c)]][_0x5dccd1(0x622)]();}async[a0_0x1ec271(0x36e)](_0x212656,_0x3e97e9){const _0x2a9f0c=a0_0x1ec271;return await this[_0x2a9f0c(0x240)][_0x2a9f0c(0x536)][_0x212656[_0x2a9f0c(0x33c)]][_0x2a9f0c(0x36e)](_0x3e97e9);}async[a0_0x1ec271(0x705)](_0x4c0d43,_0x197426){const _0x48612a=a0_0x1ec271;return await this[_0x48612a(0x240)][_0x48612a(0x536)][_0x4c0d43[_0x48612a(0x33c)]][_0x48612a(0x705)](_0x197426);}async[a0_0x1ec271(0x770)](_0x1599e2,_0x18895d){const _0x5056cb=a0_0x1ec271;return await this[_0x5056cb(0x240)][_0x5056cb(0x536)][_0x1599e2[_0x5056cb(0x33c)]][_0x5056cb(0x770)](_0x18895d);}async['revokeInviteCode'](_0x5e927c,_0x1925b6){const _0x2bfbc0=a0_0x1ec271;return await this['waMonitor'][_0x2bfbc0(0x536)][_0x5e927c['instanceName']][_0x2bfbc0(0x766)](_0x1925b6);}async[a0_0x1ec271(0x635)](_0x17add1,_0x20b13f){const _0x4eeb31=a0_0x1ec271;return await this['waMonitor'][_0x4eeb31(0x536)][_0x17add1['instanceName']]['findParticipants'](_0x20b13f);}async[a0_0x1ec271(0x18a)](_0x4ecf3e,_0x1e7565){const _0x29ac40=a0_0x1ec271;return await this[_0x29ac40(0x240)][_0x29ac40(0x536)][_0x4ecf3e[_0x29ac40(0x33c)]][_0x29ac40(0x172)](_0x1e7565);}async[a0_0x1ec271(0x463)](_0x13cab8,_0x3f99d8){const _0x3d757e=a0_0x1ec271;return await this[_0x3d757e(0x240)][_0x3d757e(0x536)][_0x13cab8[_0x3d757e(0x33c)]][_0x3d757e(0x463)](_0x3f99d8);}async[a0_0x1ec271(0x56a)](_0xc063f5,_0xfb5395){const _0x203ccf=a0_0x1ec271;return await this[_0x203ccf(0x240)][_0x203ccf(0x536)][_0xc063f5['instanceName']][_0x203ccf(0x56a)](_0xfb5395);}},Qt=class{constructor(_0x31f956){this['waMonitor']=_0x31f956;}['create'](_0x5efd29,_0x3c75e2){const _0x1cabab=a0_0x1ec271;return this[_0x1cabab(0x240)][_0x1cabab(0x536)][_0x5efd29[_0x1cabab(0x33c)]]['setWebhook'](_0x3c75e2);}async['find'](_0x11a479){const _0x2c2da8=a0_0x1ec271;try{return await this['waMonitor'][_0x2c2da8(0x536)][_0x11a479[_0x2c2da8(0x33c)]][_0x2c2da8(0x7c9)]();}catch{return{'enabled':null,'url':''};}}},fp=new v(a0_0x1ec271(0x3b3)),Yt=class{constructor(_0x426d81){const _0x2c09e1=a0_0x1ec271;this[_0x2c09e1(0x240)]=_0x426d81;}async['editScheduleMessage'](_0x33c76e,_0x1d8c7c){const _0x3027d5=a0_0x1ec271;return await this[_0x3027d5(0x240)][_0x3027d5(0x536)][_0x33c76e['instanceName']]['editScheduleMessage'](_0x1d8c7c);}async['getScheduleMessage'](_0x1a0ea0){const _0x5c837b=a0_0x1ec271;return await this[_0x5c837b(0x240)][_0x5c837b(0x536)][_0x1a0ea0['instanceName']]['getScheduleMessage']();}async[a0_0x1ec271(0x637)](_0x7893de){const _0x488ab8=a0_0x1ec271;return await this[_0x488ab8(0x240)][_0x488ab8(0x536)][_0x7893de['instanceName']]['deleteDoneMessages']();}async['getAutomateSystem'](_0x296b82){const _0x1f81e6=a0_0x1ec271;return await this[_0x1f81e6(0x240)][_0x1f81e6(0x536)][_0x296b82['instanceName']][_0x1f81e6(0x38b)]();}async[a0_0x1ec271(0x2da)](_0x14933f,_0x2a2ffe){const _0x1f319a=a0_0x1ec271;return await this[_0x1f319a(0x240)][_0x1f319a(0x536)][_0x14933f['instanceName']][_0x1f319a(0x2da)](_0x2a2ffe);}async[a0_0x1ec271(0x7db)](_0x575664,_0x174cc0){const _0x117d87=a0_0x1ec271;return await this['waMonitor']['waInstances'][_0x575664['instanceName']][_0x117d87(0x7db)](_0x174cc0);}async['updateFlowConfig'](_0x3416b3,_0x2e652f){const _0x324420=a0_0x1ec271;return await this[_0x324420(0x240)][_0x324420(0x536)][_0x3416b3[_0x324420(0x33c)]][_0x324420(0x298)](_0x2e652f);}async[a0_0x1ec271(0x6e4)](_0x336b91,_0x355ead){const _0xbc16ab=a0_0x1ec271;return await this[_0xbc16ab(0x240)]['waInstances'][_0x336b91[_0xbc16ab(0x33c)]][_0xbc16ab(0x6e4)](_0x355ead);}async[a0_0x1ec271(0x1a4)](_0x1d4e23,_0x49fba7){const _0x254654=a0_0x1ec271;return await this[_0x254654(0x240)][_0x254654(0x536)][_0x1d4e23[_0x254654(0x33c)]][_0x254654(0x1a4)](_0x49fba7);}async[a0_0x1ec271(0x44b)](_0x17f09b,_0xefb4c9){const _0x545089=a0_0x1ec271;return await this[_0x545089(0x240)][_0x545089(0x536)][_0x17f09b[_0x545089(0x33c)]]['fetchConversation'](_0xefb4c9);}async[a0_0x1ec271(0x317)](_0x6c9ace,_0x51a221){const _0x1aa9b3=a0_0x1ec271;return await this[_0x1aa9b3(0x240)][_0x1aa9b3(0x536)][_0x6c9ace[_0x1aa9b3(0x33c)]][_0x1aa9b3(0x317)](_0x51a221);}async['deleteConversation'](_0x457492,_0x563605){const _0xcad37a=a0_0x1ec271;return await this[_0xcad37a(0x240)]['waInstances'][_0x457492[_0xcad37a(0x33c)]][_0xcad37a(0x4ac)](_0x563605);}async[a0_0x1ec271(0x287)](_0x284013,_0x2e416f){const _0x3307cd=a0_0x1ec271;return await this[_0x3307cd(0x240)][_0x3307cd(0x536)][_0x284013[_0x3307cd(0x33c)]][_0x3307cd(0x287)](_0x2e416f[_0x3307cd(0x49a)]);}async[a0_0x1ec271(0x7d4)](_0xea7a4b,_0x15b857){const _0x529b46=a0_0x1ec271;return await this[_0x529b46(0x240)][_0x529b46(0x536)][_0xea7a4b[_0x529b46(0x33c)]][_0x529b46(0x7d4)](_0x15b857);}async[a0_0x1ec271(0x289)](_0x442962,_0x2e6fa4){const _0x20b480=a0_0x1ec271;return await this[_0x20b480(0x240)]['waInstances'][_0x442962[_0x20b480(0x33c)]]['editFlow'](_0x2e6fa4);}async[a0_0x1ec271(0x426)](_0x110a8f,_0x31d1f8){const _0x82478c=a0_0x1ec271;return await this[_0x82478c(0x240)][_0x82478c(0x536)][_0x110a8f[_0x82478c(0x33c)]]['editFlowBlock'](_0x31d1f8);}async[a0_0x1ec271(0x45c)](_0xbf4444,_0x46e66c){const _0x5190a6=a0_0x1ec271;return await this[_0x5190a6(0x240)][_0x5190a6(0x536)][_0xbf4444[_0x5190a6(0x33c)]][_0x5190a6(0x45c)](_0x46e66c);}async['editFlowGroup'](_0x489506,_0x3e92d6){const _0x3a70a6=a0_0x1ec271;return await this[_0x3a70a6(0x240)][_0x3a70a6(0x536)][_0x489506[_0x3a70a6(0x33c)]][_0x3a70a6(0x36f)](_0x3e92d6);}async[a0_0x1ec271(0x370)](_0x1d1108,_0x3f7f18){const _0x2a7937=a0_0x1ec271;return await this[_0x2a7937(0x240)]['waInstances'][_0x1d1108[_0x2a7937(0x33c)]]['editFlowCondition'](_0x3f7f18);}async[a0_0x1ec271(0x6bc)](_0x25e9ee,_0x549647){const _0x37b648=a0_0x1ec271;return await this[_0x37b648(0x240)][_0x37b648(0x536)][_0x25e9ee[_0x37b648(0x33c)]][_0x37b648(0x6bc)](_0x549647);}async[a0_0x1ec271(0x411)](_0x1d4d0d,_0x2a8755){const _0x509dfc=a0_0x1ec271;return await this[_0x509dfc(0x240)][_0x509dfc(0x536)][_0x1d4d0d[_0x509dfc(0x33c)]][_0x509dfc(0x411)](_0x2a8755);}async[a0_0x1ec271(0x604)](_0x142d3b,_0x322a5a){const _0x3e585c=a0_0x1ec271;return await this[_0x3e585c(0x240)][_0x3e585c(0x536)][_0x142d3b[_0x3e585c(0x33c)]]['deleteFlow'](_0x322a5a['name']);}async[a0_0x1ec271(0x4e8)](_0x4f116b){const _0x5dfca3=a0_0x1ec271;return await this[_0x5dfca3(0x240)][_0x5dfca3(0x536)][_0x4f116b[_0x5dfca3(0x33c)]][_0x5dfca3(0x4e8)]();}},Xt=class{constructor(_0x3bc956){const _0x4be527=a0_0x1ec271;this[_0x4be527(0x3f8)]=_0x3bc956;}async['createWebhook'](_0x1bcfed,_0x808227){const _0x1bf89b=a0_0x1ec271;return this[_0x1bf89b(0x3f8)][_0x1bf89b(0x34e)](_0x1bcfed,_0x808227);}async[a0_0x1ec271(0x7c9)](_0x3bdddd){const _0xb0729f=a0_0x1ec271;return this[_0xb0729f(0x3f8)][_0xb0729f(0x741)](_0x3bdddd);}},Zt=class extends D{constructor(_0x5de1d0,_0x3dd41a){const _0x5ae2a3=a0_0x1ec271;super(_0x3dd41a),this[_0x5ae2a3(0x762)]=_0x5de1d0,this[_0x5ae2a3(0x7b9)]=_0x3dd41a;}async[a0_0x1ec271(0x34e)](_0x5ba179,_0x82cb99){const _0x59dd7e=a0_0x1ec271;try{return this[_0x59dd7e(0x5b8)][_0x59dd7e(0x1d1)]?{'insertCount':(await this['webhookModel'][_0x59dd7e(0x7ff)]({'_id':_0x82cb99},{..._0x5ba179},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x391513){return _0x391513;}}async['delete'](_0x17265f){const _0xbc816a=a0_0x1ec271;try{if(this[_0xbc816a(0x5b8)][_0xbc816a(0x1d1)]){await this[_0xbc816a(0x762)]['deleteOne']({'_id':_0x17265f});return;}}catch(_0x559669){return{'error':_0x559669};}}async['find'](_0x28230e){const _0x5c4dd8=a0_0x1ec271;try{if(this[_0x5c4dd8(0x5b8)][_0x5c4dd8(0x1d1)])return await this[_0x5c4dd8(0x762)][_0x5c4dd8(0x1a0)]({'_id':_0x28230e});}catch{return{};}}},es=class extends D{constructor(_0x5f2974,_0x34356e){const _0x59b5ae=a0_0x1ec271;super(_0x34356e),this[_0x59b5ae(0x28b)]=_0x5f2974,this[_0x59b5ae(0x7b9)]=_0x34356e,this[_0x59b5ae(0x719)]=_0x34356e[_0x59b5ae(0x651)](_0x59b5ae(0x697));}async['create'](_0x9e06c7,_0x5b7b2b){const _0x7cda63=a0_0x1ec271;try{if(this[_0x7cda63(0x5b8)]['ENABLED'])return{'insertCount':(await this[_0x7cda63(0x28b)][_0x7cda63(0x5ec)]({'_id':_0x5b7b2b},{'$set':{..._0x9e06c7}},{'upsert':!0x0}))[_0x7cda63(0x453)]};}catch(_0x11ddfd){return{'error':_0x11ddfd};}}async['updateAll'](_0x3f21ca,_0xb52121){const _0x254702=a0_0x1ec271;try{if(this[_0x254702(0x5b8)][_0x254702(0x1d1)])return{'insertCount':(await this['authModel']['updateMany'](_0x3f21ca,{'$set':_0xb52121},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x254702(0x2d4));}catch(_0x469d98){return{'error':_0x469d98};}}async['deleteMany'](_0x3e7139){const _0x4aca07=a0_0x1ec271;try{if(this['dbSettings'][_0x4aca07(0x1d1)])return{'insertCount':(await this[_0x4aca07(0x28b)][_0x4aca07(0x316)](_0x3e7139))[_0x4aca07(0x4c3)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x3a1e92){return{'error':_0x3a1e92};}}async[a0_0x1ec271(0x41e)](_0x580798){const _0x552a65=a0_0x1ec271;try{if(this[_0x552a65(0x5b8)][_0x552a65(0x1d1)]){await this[_0x552a65(0x28b)][_0x552a65(0x5bf)]({'_id':_0x580798});return;}}catch(_0x55969a){return{'error':_0x55969a};}}async['find'](_0x481f53){const _0x4740ab=a0_0x1ec271;try{if(this[_0x4740ab(0x5b8)]['ENABLED'])return await this[_0x4740ab(0x28b)][_0x4740ab(0x1a0)]({'_id':_0x481f53});}catch{return{};}}async[a0_0x1ec271(0x7d3)](){const _0x80306e=a0_0x1ec271;try{if(this[_0x80306e(0x5b8)]['ENABLED'])return await this[_0x80306e(0x28b)][_0x80306e(0x741)]();}catch{return[];}}},ts=class extends D{[a0_0x1ec271(0x56b)](_0x25feb8){return ga(_0x25feb8);}async[a0_0x1ec271(0x707)](_0x1c93e4){const _0x3899b6=a0_0x1ec271;try{let _0x2706d5=ma,_0x2456fc=this[_0x3899b6(0x56b)](_0x1c93e4),_0xd2344b=await _0x2706d5[_0x3899b6(0x741)]({'owner':_0x1c93e4})['lean'](),_0x2e86d8=[],_0x4b88df=[];for(let _0x4010ba of _0xd2344b)await _0x2456fc['findById'](_0x4010ba['_id'])[_0x3899b6(0x709)]()||(_0x2e86d8['push'](_0x4010ba),_0x4b88df[_0x3899b6(0x474)](_0x4010ba[_0x3899b6(0x6dd)]));return _0x2e86d8[_0x3899b6(0x710)]>0x0&&await _0x2456fc[_0x3899b6(0x821)](_0x2e86d8,{'ordered':!0x1}),{'success':!0x0};}catch(_0x25a7be){return console[_0x3899b6(0x409)](_0x3899b6(0x2b2),_0x25a7be),{'success':!0x1,'error':_0x25a7be};}}async[a0_0x1ec271(0x41e)](_0x2ac63,_0x2ee37f){const _0x3836ef=a0_0x1ec271;try{let _0x251eec=this['getFlowModelForOwner'](_0x2ee37f),_0xf14e26=A(_0x2ac63[_0x3836ef(0x819)]);return{'deletedCount':(await _0x251eec['deleteMany'](_0xf14e26))['deletedCount']};}catch(_0x184f3d){return{'error':_0x184f3d?.[_0x3836ef(0x506)]()};}}async[a0_0x1ec271(0x5bf)](_0xbbf40b,_0x1fea1c){const _0x40486d=a0_0x1ec271;try{let _0x2b4a8b=this[_0x40486d(0x56b)](_0x1fea1c),_0x2cc0bb=A(_0xbbf40b[_0x40486d(0x819)]);return{'deletedCount':(await _0x2b4a8b['deleteOne'](_0x2cc0bb))['deletedCount']};}catch(_0x560980){return{'error':_0x560980?.[_0x40486d(0x506)]()};}}async[a0_0x1ec271(0x7ff)](_0x5e4686,_0x4d0e0e,_0x3af523){const _0x5bc8d5=a0_0x1ec271;try{let _0x1ef227=await this['getFlowModelForOwner'](_0x3af523)[_0x5bc8d5(0x76d)](_0x5e4686,_0x4d0e0e,{'overwrite':!0x0,'new':!0x0});return _0x1ef227||(console[_0x5bc8d5(0x409)](_0x5bc8d5(0x2dd),_0x5e4686),null);}catch(_0x50bc3d){return console[_0x5bc8d5(0x409)](_0x5bc8d5(0x1fa),_0x50bc3d),null;}}async[a0_0x1ec271(0x5ec)](_0x206bb9,_0x1af2b5,_0x360e9e){const _0x90fcb9=a0_0x1ec271;try{let _0x605eb7=await this[_0x90fcb9(0x56b)](_0x360e9e)[_0x90fcb9(0x300)](_0x206bb9);return _0x605eb7?(Object[_0x90fcb9(0x7ad)](_0x605eb7,_0x1af2b5),await _0x605eb7[_0x90fcb9(0x5a5)]()):(console[_0x90fcb9(0x409)]('Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:',_0x206bb9),null);}catch(_0x2b97c2){return console[_0x90fcb9(0x409)](_0x90fcb9(0x1fa),_0x2b97c2),null;}}async['updateMissingShareOwners'](_0x4153c4){const _0x2d9eda=a0_0x1ec271;try{let _0x993606=this[_0x2d9eda(0x56b)](_0x4153c4),_0x452e6d={'shareOwners':{'$exists':!0x1}},_0x1c108a={'$set':{'shareOwners':[]}};return(await _0x993606[_0x2d9eda(0x4e2)](_0x452e6d,_0x1c108a))[_0x2d9eda(0x453)];}catch(_0x3f4fc4){return console[_0x2d9eda(0x409)](_0x3f4fc4),0x0;}}async['createAndSave'](_0x59e327,_0x2f55c9){const _0x2f4e9f=a0_0x1ec271;try{let _0x93be90=this[_0x2f4e9f(0x56b)](_0x2f55c9);return await new _0x93be90(_0x59e327)[_0x2f4e9f(0x5a5)]();}catch(_0x4da2f3){return console[_0x2f4e9f(0x409)](_0x2f4e9f(0x475),_0x4da2f3),null;}}async[a0_0x1ec271(0x4e2)](_0x3ff775,_0x190981,_0x3331aa){const _0x323b8d=a0_0x1ec271;try{return{'modifiedCount':(await this[_0x323b8d(0x56b)](_0x3331aa)['updateMany'](_0x3ff775,{'$set':_0x190981}))[_0x323b8d(0x453)]};}catch(_0x4b9ef8){return console[_0x323b8d(0x409)](_0x323b8d(0x61a),_0x4b9ef8),{'error':_0x4b9ef8};}}async[a0_0x1ec271(0x7d3)](_0x397ca8,_0x45c8d0){const _0x4a3524=a0_0x1ec271;try{let _0x3f0bcc=this[_0x4a3524(0x56b)](_0x45c8d0),_0x213a7e=A(_0x397ca8[_0x4a3524(0x819)]);return await _0x3f0bcc[_0x4a3524(0x741)](_0x213a7e)[_0x4a3524(0x75f)](_0x397ca8?.[_0x4a3524(0x75f)]??0x0)[_0x4a3524(0x709)]();}catch{return[];}}async[a0_0x1ec271(0x1a0)](_0x5a8ada,_0x43259a){const _0x3a2be4=a0_0x1ec271;try{let _0x35786d=this['getFlowModelForOwner'](_0x43259a),_0x63f63c=A(_0x5a8ada[_0x3a2be4(0x819)]);return await _0x35786d[_0x3a2be4(0x1a0)](_0x63f63c)['lean']();}catch{return null;}}async[a0_0x1ec271(0x4a8)](_0x48e8ca){const _0x357ccd=a0_0x1ec271;try{return await this[_0x357ccd(0x56b)](_0x48e8ca)['collection'][_0x357ccd(0x648)](),{'success':!0x0};}catch(_0x45569f){return console[_0x357ccd(0x409)](_0x45569f),{'success':!0x1,'error':_0x45569f};}}},ss=class extends D{[a0_0x1ec271(0x7a5)](_0x253fa3){return wa(_0x253fa3);}async['copyDataToNewModel'](_0x16b2cb){const _0x5ac4ea=a0_0x1ec271;try{let _0x510b98=ya,_0x43feab=this[_0x5ac4ea(0x7a5)](_0x16b2cb),_0x38ae74=await _0x510b98[_0x5ac4ea(0x741)]({'owner':_0x16b2cb})[_0x5ac4ea(0x709)](),_0x3e6748=[],_0x333752=[];for(let _0x330152 of _0x38ae74)await _0x43feab[_0x5ac4ea(0x300)](_0x330152['_id'])['lean']()||(_0x3e6748[_0x5ac4ea(0x474)](_0x330152),_0x333752[_0x5ac4ea(0x474)](_0x330152[_0x5ac4ea(0x6dd)]));return _0x3e6748[_0x5ac4ea(0x710)]>0x0&&await _0x43feab[_0x5ac4ea(0x821)](_0x3e6748,{'ordered':!0x1}),{'success':!0x0};}catch(_0x43df66){return console[_0x5ac4ea(0x409)](_0x5ac4ea(0x2b2),_0x43df66),{'success':!0x1,'error':_0x43df66};}}async[a0_0x1ec271(0x441)](_0xbda4ac){const _0x2a7111=a0_0x1ec271;if(_0xbda4ac['length']!==0x0)try{return{'insertCount':(await this[_0x2a7111(0x7a5)](_0xbda4ac[0x0][_0x2a7111(0x210)])[_0x2a7111(0x821)]([..._0xbda4ac]))[_0x2a7111(0x710)]};}catch(_0x48d414){return _0x48d414;}}async[a0_0x1ec271(0x41e)](_0x13a623,_0x54d5f5){const _0x1d202b=a0_0x1ec271;try{let _0x575cac=this[_0x1d202b(0x7a5)](_0x54d5f5),_0x38f911=A(_0x13a623[_0x1d202b(0x819)]);return{'deletedCount':(await _0x575cac[_0x1d202b(0x316)](_0x38f911))[_0x1d202b(0x4c3)]};}catch(_0x1ccc6f){return{'error':_0x1ccc6f?.[_0x1d202b(0x506)]()};}}async[a0_0x1ec271(0x5bf)](_0x493c23,_0x1695dc){const _0x1a06cf=a0_0x1ec271;try{let _0x2ee67e=this[_0x1a06cf(0x7a5)](_0x1695dc),_0x59512c=A(_0x493c23[_0x1a06cf(0x819)]);return{'deletedCount':(await _0x2ee67e[_0x1a06cf(0x5bf)](_0x59512c))[_0x1a06cf(0x4c3)]};}catch(_0x19c6be){return{'error':_0x19c6be?.['toString']()};}}async['update'](_0x4beb2e,_0x489fdd){const _0x4974af=a0_0x1ec271;try{if(_0x4beb2e[_0x4974af(0x710)]===0x0)return;let _0xc8bc1c=this[_0x4974af(0x7a5)](_0x489fdd),_0x419c95=_0x4beb2e[_0x4974af(0x540)](_0x7af4fc=>({'updateOne':{'filter':{'name':_0x7af4fc[_0x4974af(0x49a)],'owner':_0x489fdd},'update':{..._0x7af4fc}}})),{modifiedCount:_0x4cf55a}=await _0xc8bc1c[_0x4974af(0x2c4)](_0x419c95);return{'insertCount':_0x4cf55a};}catch{return;}}async[a0_0x1ec271(0x4e2)](_0x5ae159,_0x2de102,_0x30d022){const _0xeb754d=a0_0x1ec271;try{return{'modifiedCount':(await this[_0xeb754d(0x7a5)](_0x30d022)[_0xeb754d(0x4e2)](_0x5ae159,{'$set':_0x2de102}))[_0xeb754d(0x453)]};}catch(_0x526aec){return console[_0xeb754d(0x409)](_0xeb754d(0x221),_0x526aec),{'error':_0x526aec};}}async[a0_0x1ec271(0x5ec)](_0x58f77b,_0xd25871,_0x537251){const _0xd26d19=a0_0x1ec271;try{return await this['getConversationModelForOwner'](_0x537251)[_0xd26d19(0x1c0)]({'_id':_0x58f77b},{'$set':_0xd25871},{'new':!0x0,'upsert':!0x0})[_0xd26d19(0x709)]();}catch(_0x47e1ea){return console[_0xd26d19(0x409)](_0x47e1ea),null;}}async[a0_0x1ec271(0x741)](_0x55a308,_0x2689bf){const _0x1cced9=a0_0x1ec271;try{return await this[_0x1cced9(0x7a5)](_0x2689bf)[_0x1cced9(0x741)](_0x55a308)[_0x1cced9(0x59a)]({'lastInteraction':-0x1})['lean']();}catch{return[];}}async[a0_0x1ec271(0x1a0)](_0x1e099b,_0x3e1710){const _0x2ae977=a0_0x1ec271;try{return await this['getConversationModelForOwner'](_0x3e1710)['findOne']({..._0x1e099b[_0x2ae977(0x819)]})[_0x2ae977(0x709)]();}catch{return null;}}async[a0_0x1ec271(0x4a8)](_0x48e2dc){const _0x23ad90=a0_0x1ec271;try{return await this['getConversationModelForOwner'](_0x48e2dc)['collection'][_0x23ad90(0x648)](),{'success':!0x0};}catch(_0x512a63){return console[_0x23ad90(0x409)](_0x512a63),{'success':!0x1,'error':_0x512a63};}}},as=class extends D{['getScheduleMessageModelForOwner'](_0x539f17){return Sa(_0x539f17);}async[a0_0x1ec271(0x707)](_0x385cac){const _0x1253c8=a0_0x1ec271;try{let _0x63cec2=Ca,_0x4d2fb0=this[_0x1253c8(0x6b1)](_0x385cac),_0x4bc27e=await _0x63cec2[_0x1253c8(0x741)]({'owner':_0x385cac})[_0x1253c8(0x709)](),_0x305c2a=[],_0x39a324=[];for(let _0x2ebce6 of _0x4bc27e)await _0x4d2fb0[_0x1253c8(0x300)](_0x2ebce6[_0x1253c8(0x6dd)])[_0x1253c8(0x709)]()||(_0x305c2a[_0x1253c8(0x474)](_0x2ebce6),_0x39a324[_0x1253c8(0x474)](_0x2ebce6[_0x1253c8(0x6dd)]));return _0x305c2a[_0x1253c8(0x710)]>0x0&&await _0x4d2fb0[_0x1253c8(0x821)](_0x305c2a,{'ordered':!0x1}),{'success':!0x0};}catch(_0x288965){return console[_0x1253c8(0x409)](_0x1253c8(0x2b2),_0x288965),{'success':!0x1,'error':_0x288965};}}async[a0_0x1ec271(0x2bf)](_0x1d0153,_0x48b2f7){const _0x3537af=a0_0x1ec271;try{let _0x5b5aa3=this[_0x3537af(0x6b1)](_0x48b2f7);return await new _0x5b5aa3(_0x1d0153)[_0x3537af(0x5a5)]();}catch(_0x252824){return console['error'](_0x3537af(0x475),_0x252824),null;}}async[a0_0x1ec271(0x5bf)](_0x26f0d5,_0x4bb1e1){const _0x3a60a0=a0_0x1ec271;try{return await this[_0x3a60a0(0x6b1)](_0x4bb1e1)[_0x3a60a0(0x4d9)](_0x26f0d5),{};}catch(_0x1db79f){return{'error':_0x1db79f?.[_0x3a60a0(0x506)]()};}}async['updateOne'](_0x5db5ec,_0x6abcfe,_0x23d8bd){const _0x4beab5=a0_0x1ec271;try{return await this[_0x4beab5(0x6b1)](_0x23d8bd)['findOneAndUpdate'](_0x5db5ec,{'$set':_0x6abcfe},{'new':!0x0})[_0x4beab5(0x709)]();}catch(_0x5118c2){return console['error']('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x5118c2),null;}}async[a0_0x1ec271(0x3e4)](_0x15456e,_0x2fecec,_0x4901a7){const _0x4f24ea=a0_0x1ec271;try{return await this[_0x4f24ea(0x6b1)](_0x4901a7)[_0x4f24ea(0x76d)](_0x15456e,_0x2fecec,{'new':!0x0})[_0x4f24ea(0x709)]();}catch(_0x38787b){return console[_0x4f24ea(0x409)](_0x4f24ea(0x715),_0x38787b),null;}}async['find'](_0x2d868d,_0x67c8a7){const _0x3dbf8f=a0_0x1ec271;try{return await this[_0x3dbf8f(0x6b1)](_0x67c8a7)[_0x3dbf8f(0x741)](_0x2d868d[_0x3dbf8f(0x819)])[_0x3dbf8f(0x75f)](_0x2d868d?.[_0x3dbf8f(0x75f)]??0x0)['sort']({'when':0x1})[_0x3dbf8f(0x709)]();}catch{return[];}}async['findOne'](_0x5022d6,_0x24c34e){const _0x33d847=a0_0x1ec271;try{return await this[_0x33d847(0x6b1)](_0x24c34e)[_0x33d847(0x1a0)](_0x5022d6['where'])[_0x33d847(0x59a)]({'when':0x1})[_0x33d847(0x709)]();}catch{return null;}}async[a0_0x1ec271(0x300)](_0x37bf49,_0x4186a9){const _0x52d532=a0_0x1ec271;try{return await this[_0x52d532(0x6b1)](_0x4186a9)['findById'](_0x37bf49)['lean']();}catch{return null;}}async[a0_0x1ec271(0x316)](_0x3cdad9,_0x367fbc){const _0x34d845=a0_0x1ec271;try{return{'deletedCount':(await this[_0x34d845(0x6b1)](_0x367fbc)[_0x34d845(0x316)](_0x3cdad9))[_0x34d845(0x4c3)]};}catch(_0x32cea6){return console[_0x34d845(0x409)](_0x34d845(0x320),_0x32cea6),{'error':_0x32cea6};}}async[a0_0x1ec271(0x4a8)](_0x483558){const _0x177b5c=a0_0x1ec271;try{return await this[_0x177b5c(0x6b1)](_0x483558)[_0x177b5c(0x52d)][_0x177b5c(0x648)](),{'success':!0x0};}catch(_0xcd5ea7){return console[_0x177b5c(0x409)](_0xcd5ea7),{'success':!0x1,'error':_0xcd5ea7};}}},rs=class extends D{async[a0_0x1ec271(0x5f2)](_0x50ae07,_0x2a34ef){const _0x4d7fc8=a0_0x1ec271;try{if(this['dbSettings'][_0x4d7fc8(0x1d1)]){let _0x490b78=await Ue[_0x4d7fc8(0x1c0)]({'_id':_0x2a34ef},{'$set':_0x50ae07},{'new':!0x0});return console[_0x4d7fc8(0x55f)](_0x4d7fc8(0x30e),_0x490b78),_0x490b78;}}catch(_0x15c926){throw console['error'](_0x4d7fc8(0x769),_0x15c926),_0x15c926;}}async[a0_0x1ec271(0x4de)](_0x325c02){const _0x2f76df=a0_0x1ec271;try{let _0x2891b4=await Ue[_0x2f76df(0x300)](_0x325c02);return _0x2891b4||(_0x2891b4=new Ue({'_id':_0x325c02}),await _0x2891b4['save']()),_0x2891b4;}catch(_0x29986f){return console['error']('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x29986f),null;}}},Ai=new v(a0_0x1ec271(0x3ff)),Ii=new Ve(b),xi=new qt(b),Di=new st(b),_i=new Vt(ta,b),Pi=new Zt(ca,b),$i=new es(ia,b),ki=new ts(b),Li=new Bt(b),ji=new ss(b),Fi=new as(b),Ui=new rs(b),ue=new Je(Ii,xi,Di,_i,Pi,$i,ki,ji,Li,Fi,Ui,R?.['getClient']()),B=new Jt(us,b,ue),Ji=new Ht(b,B,ue),qi=new Qt(B),Ms=new Xt(qi),x=new Yt(B),oe=new Wt(B,b,ue,us,Ji),G=new zt(B),_=new Gt(B),q=new Kt(B);Ai['info'](a0_0x1ec271(0x80d));var _h=require('express-async-errors'),Ls=require('fs'),_r=O(require('https')),Pr=O(require(a0_0x1ec271(0x1f2))),Oe=class c{static #e;static set[a0_0x1ec271(0x7e5)](_0x6d38e8){this.#e=_0x6d38e8;}static get[a0_0x1ec271(0x68d)](){const _0xee44a8=a0_0x1ec271;let {FULLCHAIN:_0x395ddc,PRIVKEY:_0x38aaad}=b['get'](_0xee44a8(0x663));return _r[_0xee44a8(0x1b8)]({'cert':(0x0,Ls[_0xee44a8(0x3f7)])(_0x395ddc),'key':(0x0,Ls[_0xee44a8(0x3f7)])(_0x38aaad)},c.#e);}static get[a0_0x1ec271(0x1f2)](){const _0x43ea0c=a0_0x1ec271;return Pr[_0x43ea0c(0x1b8)](c.#e);}},pe=O(require('fs')),Ur=O(require(a0_0x1ec271(0x471))),Ae=O(require(a0_0x1ec271(0x2e6))),xe=O(require(a0_0x1ec271(0x62c))),De=require(a0_0x1ec271(0x3f5));function Vi(){const _0x3b36a8=a0_0x1ec271;B[_0x3b36a8(0x696)]();let _0x375393=xe['default'][_0x3b36a8(0x487)](__dirname,_0x3b36a8(0x34f));Fr(_0x375393);}function a0_0x31bd(){const _0x5a3d22=['blockId','startFlow','long','buttonMessage','contains','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','deleteChat','uazapiSendAudio','Erro\x20ao\x20iniciar\x20fluxo:\x20','apirequest','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','formatVCard','remoteJidsRemaining','connectionState','editScheduleMessage','\x20minutos...','unlinkSync','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','isBase64','preview','updateAll','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','mimetype','92582rSPyQC','everyOne','SUCCESS','interval\x20não\x20é\x20um\x20número','):\x20Editando\x20replyOption...','Data\x20inválida\x20fornecida','getDelay','sendMedia','AutomateFunctions','Contacts\x20not\x20found','reorderReplyOptions','joinGroup','sendList','copyDataToNewModel','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','lean','request\x20received\x20in\x20createFlow','Forbidden','unreadcount','displayName','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','reconnectAttempts','length','Error\x20updating\x20participants','SECRET','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','KEY','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','Label\x20','):\x20customFieldVariables','):\x20teve\x20mudanças\x20chat.archived:\x20','auth','):\x20debug\x20alterando\x20this.AutomateSystem','document','floor','https://','Erro\x20ao\x20buscar\x20conversa:\x20','HOST','entries','status','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','.TEL;waid=','.webp','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','load','listType','File\x20written\x20to\x20path:\x20','sendCommand','\x1b[34m%s\x1b[0m','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','storePath','inner','Erro\x20de\x20atualização:\x20','instances','):\x20Buscando\x20todos\x20os\x20fluxos...','Erro\x20ao\x20remover\x20label\x20','.fileUrl','saveMediaToFile','instancias:\x20','\x20->\x20NÃO\x20CORRESPONDE.','connectedName','copyBlock','):\x20Bloco\x20com\x20ID\x20','repository','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','https://jsonip.com','groupRequestParticipantsUpdate','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','FULLCHAIN','CHATS_SET','/instance/connect','find','stringify','\x1b[1m',',\x20saindo.','Erro\x20ao\x20editar\x20o\x20chat:\x20','isJidBroadcast','lastSendMessage','insertCount','getDevice','segundos','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','BufferJSON','hGetAll','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','):\x20atualização\x20chat:\x20','participant','connection.update','requestFile','@ffmpeg-installer/ffmpeg','):\x20Editando\x20variável\x20do\x20fluxo...','Instance\x20restarted','badSession','$set','charAt','enviado\x20para','INFO','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','Sending\x20audio\x20whatsapp','g.us','expiration','limit','readreceipts','Group\x20not\x20found','webhookModel','findGroup','fetchStatus','stopMinutes','revokeInviteCode','saveChatVariables','remote\x20\x22origin\x22','Erro\x20ao\x20atualizar\x20AutomateSystem:','SERVER_URL','bodyString','ReplyOptions\x20finais\x20após\x20reordenação:','findByIdAndUpdate',',\x20fará\x20nova\x20verificação\x20em\x20','and','groupGetInviteInfo','true','msgRetryCounterCache','error_log','DOCKER_ENV','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','webhook','processConditions','generate','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','URL','):\x20Enviando\x20áudio','chats.set','findManyByIds','findChats','isJidUser','instanceCount','archiveChat','reactionMessage','menuType','replyOption','enabled','conversationTimestamp','ERROR','stopped','groupLeave','The\x20global\x20api\x20key\x20must\x20be\x20set','request\x20received\x20in\x20getConversation','apply','deleteMessage','senderKeyDistributionMessage','store','URL:','node-mime-types','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','emit','fromMe','):\x20Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','exports','action','Esse\x20fluxo\x20expirou','writeFile','dark','formatStatusMessage','cachedContacts-whatsapp','_FlowHistorico','Revoke\x20error','waUploadToServer','exit','vcard','request\x20received\x20in\x20editFlowvariable','conversation','Certbot:\x20','getConversationModelForOwner','pre','config','backgroundColor','removed','goNextblock','exec','flowConversation','assign','redis://127.0.0.1:6379','}}\x20->\x20valor\x20não\x20encontrado','):\x20Procurando\x20conversa','Delete\x20chat','WARN','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','unknown\x20operation\x20type\x20[','Número:\x20','pollCreationMessage','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','configService','getflow','toFile','chatHandle','scheduleMessages','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','truncatedtoEnd','longitude','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','isJWT','media','collections','#9ba6ff','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','Getting\x20image\x20from\x20url',':\x20IP\x20funcionando!','findWebhook','):\x20delete\x20=\x20true','groupRevokeInvite','PRODUCT_LIST',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','closed','LOG_COLOR','https://uazapi-plugin.bubbleapps.io/?url=','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','Converting\x20image\x20to\x20WebP\x20to\x20sticker','findAll','createFlow','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','):\x20Conversa\x20inserida\x20com\x20sucesso.','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','set','.mp4','://','updateCustomFields','SERVER_OFFLINE','views','online','SERVER','optionDescription','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','privacySettings','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','NextBlock','app','replaceVariables','currency','ChatModel','throwAndLogError','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','fetchChats','groupJoinApprovalMode','subjectTime','processUazapi','readMessageBot','finish','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','messageSecret','item','Valor\x20inicial:\x20\x22','contactname','Instance\x20ID:','87sdQPCU','Missing\x20global\x20api\x20key','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','Error\x20change\x20group\x20name','#d3a91f','connectedClient','groupName','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','replaceOne','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','QRCODE_UPDATED','@g.us','qrcode.updated','updateLastSeenPrivacy','videoMessage','url','-instances','size','locked','.jwt','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','SERVER_ACK','Module\x20-\x20ON','recording','DD/MM\x20HH:mm:ss','):\x20Entrou\x20na\x20função\x20saveReply','Button\x20texts\x20cannot\x20be\x20repeated','delayChatLabel_MAX_RETRIES','16032MAbTaD','deleteInstance','Error\x20occurred\x20while\x20archiving\x20chat:\x20','Read\x20messages\x20fail','Message\x20not\x20found','response','where','.X-ABLabel:Celular\x0a','out','presence.update','certonly','archived','API_KEY','bodyStringErrorParse','insertMany','stopConversation','updateProfilePicture','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','debug','RemoveChatLabel','nome','message_normalized','Valor\x20de\x20find\x20ou\x20replace\x20ausente','#fe9dfe','WebhookGlobal','including\x20timestamp\x20in\x20url:\x20','setHeader','\x20mensagens\x20de\x20','getMIMEType','contacts','METHODS','listen','MAX_RECONNECT_ATTEMPTS','no.connection','makeCacheableSignalKeyStore','sendDataWebhook','\x20inseridas\x20no\x20banco\x20de\x20dados...','/wa-connection-update','request_time','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','validate','messageHandle','Erro:','memberAddMode','replyOptions','http://checkip.dyndns.org','request\x20received\x20in\x20updateAgent','updateBlock','redis','evaluateConditionTest','start','list','MESSAGES_UPDATE','basename','):\x20Buscando\x20flow...','delayChatLabel_RETRY_DELAY_MS','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','messageContextInfo','getHours','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','request\x20received\x20in\x20updateCustomFields','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','menuMessage','AUTHENTICATION_JWT_SECRET','textMessage','updateGroupsAddPrivacy','hGet','notContains','updateGParticipant','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','77FgVLYi','binary','fetchMessages','headerString','jpegThumbnail','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','updateProfileStatus','GROUPS_UPSERT','Error\x20update\x20group\x20picture','TEL','/instance/fetchInstances','):\x20expirationTime:\x20','ephemeralExpiration','):\x20Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','linkPreview','video-cover.png','latitude','string','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','\x1b[37m%s\x1b[0m','archive','updateGParticipate','Type\x20is\x20required','groups.upsert','DisconnectReason','fetchProfile','labels.association','static','GROUPS_UPDATE','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','creds.json','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','\x20não\x20encontrado','scheduleSendText','sendPoll','audio/ogg','match','slice','sticker','Erro\x20ao\x20adicionar\x20label\x20','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','status.instance','findOne','):\x20Error\x20processing\x20the\x20block:\x20','importChatsAntigo','utf-8','getConversation','#00a1f2','chatId','close','readMessage','Erro\x20do\x20Certbot:\x20','\x20quoted:\x20','Trying\x20to\x20get\x20business\x20profile','generateWAMessageFromContent','label','trimmed','presenceSubscribe','Error\x20change\x20group\x20setting','Error\x20updating\x20profile\x20name','):\x20transformedCustomFieldVariables','contacts.upsert','MESSAGES_SET','/group','Validate','addReplyOption','createServer','Fluxo\x20não\x20encontrado','):\x20teve\x20mudanças\x20chat.name:\x20','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','https://chat.whatsapp.com/','CHATS_DELETE','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','findOneAndUpdate','Parando\x20aplicação,\x20atualização\x20recebida','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','groupMetadata','lastCondition','Subscribed\x20Events:','address','\x1b[42m','footerText','delayMessage','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','fetchProfilePicture','):\x20newSecondValue\x20após\x20replaceVariables:','\x0aFN:','hex','Erro\x20ao\x20editar\x20agentes:\x20','LICENSE_INVALID','ENABLED','ButtonsMessage',',\x20pairCode:\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','/events','sections','split','leadInfo.desativadoFluxoAte','video','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','https://api.elevenlabs.io/v1/text-to-speech/','CLEANING_INTERVAL','../env.yml','Error\x20fetching\x20and\x20updating\x20profile:\x20','responsavelid','result','request_method','Erro\x20ao\x20encerrar\x20a\x20API','reject','.xls','https://api.ipify.org?format=json','messages.upsert','Cannot\x20','Notifying\x20clients\x20for\x20chat:\x20','synchronizeFlows','SSL_CONF_FULLCHAIN','createSharedFlow','):\x20Criando\x20nova\x20conversa[createNewConversation]','cacheContactModel','editedMessage','pollOnReplyDelete','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','sendWhatsAppAudio','http','Delete\x20chat\x20in\x20client\x20for\x20number:\x20','groupMemberAddMode','waitingForReplyMenu','Last\x20message\x20not\x20found\x20for\x20number:','?authSource=admin&readPreference=primary&directConnection=true','Error\x20while\x20deleting\x20message\x20for\x20everyone','\x0aitem','Erro\x20ao\x20atualizar\x20o\x20fluxo:','delaySecMin','@newsletter','Tentando\x20reconectar...','):\x20Alterando\x20fluxo...','cachedData-whatsapp','):\x20Conversas\x20encontradas:','#b4ebff','not_announcement','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','sendSticker','dayjs','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','conditions','#92ceac','@broadcast','defineAuthState','Archiving\x20chat','truncatedto','lastSend','viewOnceMessage','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','owner','ids','rows','http://ipecho.net/plain','/clients-info','API\x20Key\x20inválida.','AUTHENTICATION_JWT_EXPIRIN_IN','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','lastDisconnect','cleaningUp','Error\x20updating\x20cache\x20contact:','):\x20Conversa\x20atualizada\x20em\x20memória',':\x20Erro\x20durante\x20loadproxy\x20-\x20','CHATS_UPDATE','chat','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','BRL','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','<subdomain>','):\x20Deletando\x20mensagem','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','2792676KUDJII','min','sha256','DB_PREFIX_NAME','normalizeMessage','customFields','Image\x20created','testProxy','Image\x20is\x20url','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','isJidGroup','\x20ao\x20chat\x20','oldToken','Error\x20creating\x20group','\x22\x20-\x20NOT\x20CONNECTION','end','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','createRegularFlow','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','image','updateMissingLabels','endsWith','/wa-presence','StatusJidList\x20is\x20required','):\x20conversation.status:\x20','waMonitor','CONTACTS_SET','Erro\x20ao\x20atualizar\x20o\x20flow.','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','replacer','Erro\x20ao\x20editar\x20a\x20conversa:\x20','max','cache','eventEmitter','USER','logger','groupParticipantsUpdate','\x20foi\x20interrompido\x20pelo\x20usuário.','):\x20Going\x20to\x20','paused','fetchBusinessProfile','Instância\x20não\x20encontrada.','\x20e\x20ID=','write','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','Conexão\x20estabelecida','findLabels','test','stateConnection','/config','leadInfo.',',\x20Minutes\x20to\x20Close:\x20','URI','request\x20body:\x20','cleanStore','contact_blacklist','findAndUpdateCacheContact','format','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','writeFileSync','scheduled','--standalone','_Chats','):\x20[messages.update]\x20group\x20ignored','/wa-chats',':\x20Tentativa\x20','pollUpdateMessage','buttonId','creds.update','context','prefixCommand','js-yaml','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','GUARD','sendMessageWithTyping','available','Erro\x20ao\x20normalizar\x20a\x20mensagem:','):\x20Deletando\x20conversa...','getLabelModelForOwner','/wa-message-update','upperCase','):\x20Editando\x20condição\x20do\x20fluxo...','app-state-sync-key','REDIS_ENABLED','CONNECTION_UPDATE','\x20contacts','/wa-all-message','ephemeralMessage','groupDesc','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','setWebhook','groupUpdateDescription','errorLog','call','getOwnPropertyNames','getFlow','\x1b[30m%s\x1b[0m','editFlow',',\x20Resultado:\x20','authModel','leadInfo','sendStatus','processPollUpdateMessage','group-participants.update','findGroupInfo','no-cache','RECONNECT_TIME_FRAME','processing_id','https://api.openai.com/v1/images/generations',',\x20Comparador:\x20','open','\x22reaction\x22\x20must\x20be\x20an\x20emoji','updateFlowConfig','statusCode','method','groupUpdateSubject','_error','CONNECTION','Message','818307VEUKdu','exists','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','No\x20join\x20group\x20invite\x20code\x20or\x20url','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','Rótulo\x20atualizado:','contacts.update','leadInfo.customFields','.ogg','):\x20Usando\x20extensão\x20padrão:\x20','beautifyWithPlaceholders','birthtime','editOperator','encoding','createGroup',',\x20valor\x20passado:\x20\x22','Erro\x20ao\x20importar\x20chats:','allflows','):\x20isVote:\x20','Erro\x20ao\x20copiar\x20dados:','request\x20received\x20in\x20starFlow','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','connect','GET','http://ip-api.com/json','useMultiFileAuthState','messageId','whatsappNumber','header','):\x20Enviando\x20mídia','chats.delete','documentMessage','createAndSave','sendButtons','hDel','findGroupInfos','mediatype','bulkWrite','Instância:\x20','Instance\x20\x22','LEVEL','createConversationforStartFlow','\x1b[33m%s\x1b[0m','sending','fone','shutdown\x20-r\x20now','\x1b[37m','LabelModel','readMessages','cachedContact','off','value','\x5cd+','Database\x20is\x20not\x20enabled','/*.json','messageStubType','model','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','caption','updateAgent','admin','numbers','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','replaceVariablesInReplyOptions','\x20->\x20CONFIRMADO.','TEXT','getScheduleMessage','ms\x20(Attempt\x20','pollCreationMessageKey','\x20is\x20already\x20in\x20use.','HttpsProxyAgent','axios','#ffc5c7','desativadoFluxoAte','):\x20Criou\x20conversa\x20no\x20startFlow:','silent','createConnection','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','participants','random','.type','No\x20participants','realVariables','sendLocation','connectToWhatsappController','request\x20received\x20in\x20editFlow','indexOf','NO_IP','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','MessageModel','\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','hasOwnProperty','updatePresence','connectToWhatsapp','waitingMenu_replyOptions','Desconectado,\x20parando\x20execução.','findById','-whatsapp-api','COLOR','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','toLocaleString','/wa-groups','quoted','text','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','array','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','messagesSend','Resultado\x20da\x20atualização:','):\x20Edit\x20schedule\x20message...','picture','labels.edit','changeVariables','/:instanceName','Reinicialização\x20iniciada:\x20','DATABASE_CONNECTION_URI','deleteMany','editConversation','\x1b[31m%s\x1b[0m',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','flushHeaders','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','apiName','email','\x1b[41m','createHash','Erro\x20ao\x20deletar\x20mensagens:','\x1b[0m','#f64847','replaceVariablesChat','Authentication\x20error','type','groupRequestParticipantsList','CONFIGURAÇÃO\x20GERAL:','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','\x20-y','processblock','getContactModelForOwner','stdout','normal','HeaderType','updateGroupPicture','folder','verify','augusto.fcs@gmail.com','authService','fetchProfilePictureUrl','Unauthorized','waitingMenu_text',',\x20valor\x20a\x20encontrar:\x20\x22','editChat','variable','env','instanceName','group','formatBRNumber','listResponseMessage','abs','_Messages','\x20not\x20found,\x20retrying\x20in\x20','#000000','last','getPrototypeOf','matchRegex','localWebhook','send','updateReadReceiptsPrivacy','Error\x20removing\x20profile\x20picture','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','atendimentoAberto','automateSystem','create','downloads','sectionsToString','50mb','post','contactsArrayMessage','sleep','):\x20','enumerable','awaitingApproval','sendPresenceUpdate','forEach','/events/:instance','endSession','Variáveis\x20não\x20encontradas:','!cmd_','^\x5cd+','DEBUG','sendMenu','jid','waitingMenu_ExpiredMessage','createConversationforgoToFlow','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','#9ab6c1','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','Número\x20não\x20possui\x20WhatsApp.','Instance\x20Key\x20from\x20DB:','envYaml','proto','):\x20Erro\x20ao\x20processar\x20o\x20grupo\x20','URL\x20limpa:\x20','pollMessage','inviteCode','editFlowGroup','editFlowCondition','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','toBRL','title','contactHandle','createNewConversation','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','authState','updateMissingTags','):\x20tem\x20blocks','groupadd','reaction','desc','):\x20Bloco\x20original\x20para\x20cópia:\x20','lastReceivedMessage','Error\x20updating\x20profile\x20status','dataValidate','getTicketSystem','expression','audioMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','/media','\x22\x20not\x20found','):\x20teve\x20mudanças\x20chat.displayName:\x20','metadata','unreadCount','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','getAutomateSystem','notas','groupBetterSetting','Bloco\x20com\x20ID\x20','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','\x20}\x0a','uncaughtException','processConditionsTest','EMAIL','ObjectId','\x20minutos.\x20Será\x20às\x20','number','?timestamp=','integer','noConnection','defineProperty','local_map','port','done','trim','editflowvariable','groups','ReplyOption\x20com\x20ID\x20','username','CacheContacts\x20database\x20connection\x20closed.','\x1b[46m','getAllData','instanceInfo','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','):\x20Editando\x20bloco...','):\x20Criando\x20fluxo\x20regular...','\x1b[43m','.webm','qrcode','\x1b[1m\x1b[37m','ultimaTentativaRemoteJid','qrcode-terminal','--agree-tos','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','/instance','FlowController','gifPlayback','created','some','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','locationMessage','#64c4ff','getRandomText','DATABASE_CONNECTION_PASSWORD','cpf','Logger','agents','events','\x0a{\x20instance:\x20','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','\x20instance\x20does\x20not\x20exist','query','messageType','verifiedName','filter','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','namespace','Rótulo\x20inválido\x20ou\x20sem\x20ID.','pollCreationMessageV2','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','replaceValue','CORS_CREDENTIALS','chats.update','redisEnv','loadproxy','toLowerCase','Cache-Control','src','state','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','flowname:\x20','No\x20invite\x20code','\x1b[36m%s\x1b[0m','.\x20Aguardando\x20antes\x20de\x20reconectar...','PORT','delayChatLabel','cwd','originalUrl','deleteflow',',\x20Segundo\x20Valor:\x20','success','profilePictureUrl','Variável\x20não\x20encontrada!','updateOneById','Deletion\x20failed','Read\x20messages','12088eCAtaZ','.mimetype','\x20\x1b[0m','console','default','Content-Type','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','lastmsg','getMessage','qrCode','delAll','processgoToFlow','Router','checkAndRestartProcess','child_process','eventemitter2','readFileSync','webhookService','Erro\x20inesperado\x20em\x20processvaredits:\x20','fetchPrivacySettings','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','labelId','.jpg','chatModify','WA\x20MODULE','Error\x20writing\x20file:\x20','convertaudio','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','stopMinutesMaxActives','SSL_CONF_PRIVKEY','fetchContacts','repeat','flowStopMinutes','notEqual','error','dropCollection','base64','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','DATABASE','ON\x20-\x20dbName:\x20','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','@whiskeysockets/baileys','editFlowVariable','selectableCount','Database\x20connection\x20closed.','utf8','\x20com\x20sucesso.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','remove.instance','equal','params','router','#dfaef0','function','statusMessage','delete','\x20-i\x20','flowIgnoreGroups','contactMessage','audio','Fetching\x20business\x20profile','creation','MESSAGES_UPSERT','editFlowBlock','nomecompleto','minutesToClose','):\x20Falha\x20ao\x20deletar\x20mensagem.','SEND_MESSAGE','ScheduleMessage','Instance\x20logged\x20out','pushName','END:VCARD','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','request\x20received\x20in\x20editFlowgroup','removeOlderDisconnectedInstances','code','Cached\x20audio\x20found,\x20returning\x20existing\x20file','imageMessage','unavailable','isInteger','groupJid','\x20segundos','Not\x20Found','/exit','fileUrl','PREFIX_KEY','fullName','GROUP_PARTICIPANTS_UPDATE','SINGLE_SELECT','\x20attempts.','insert','SERVER_PORT','SendScheduleMessage','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','from','getUpdate','getTime','replace','ChatRouter','):\x20enviado\x20para\x20[','fetchConversation','isCommunity','lastMessage','options','reviver','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','modifiedCount','Type\x20defined\x20as\x20audio','dbConnection','pop','description','#6f7bcf','fileName','refused','checkAndUpdateChatStatus','editFlowReply','):\x20Bloco\x20copiado:\x20','CORS_METHODS','groupValidate','applyvaredit','/media/','messages','toggleEphemeral','CHATS_UPSERT','/wa-contacts','apikey','_ScheduleMessages','statusJidList','Error\x20finding\x20many\x20contacts:','less','phoneNumber','):\x20Error\x20processing\x20conditions:\x20','blockLogs','connecting','varedit','createJid','ini','PRIVKEY','isConnected','push','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','getBusinessProfile','contact','SERVER_TYPE','#01d0e2','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','instance','flowConfig','when','profilePicture','audio/ogg;\x20codecs=opus','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','scheduleMessage','prepareWAMessageMedia','sign','/wa-qrcode','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','reference','join','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','groupToggleEphemeral','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Schema','Error\x20parsing\x20JSON:','addChatLabel','getBase64FromMediaMessage','spawn','eventHandler','host','findContacts','delay','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','groupId','Sistema\x20atualizado\x20com\x20sucesso!','font','extractMessageContent','name','Erro\x20ao\x20atualizar\x20conversa:\x20','parse','unlocked','messaging-history.set','flattenObject','updateMessage','selectedOptions','order','This\x20name\x20','waitingMenu_id','):\x20Comando\x20desconhecido:\x20','error\x20get\x20vote','DELETED','deleteAll','CONTACTS_UPDATE','PASSWORD','TYPE','deleteConversation','\x1b[34m','VERBOSE','cacheContact','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','object','.url','https://ipinfo.io/json','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','Rótulo\x20deletado:','crypto','subject','bearer','scheduleNextCheck','arraybuffer','loadWebhook','setUpdate','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','toDataURL','createInstance','contentText','_activatedCount','lastBlockId','deletedCount','webp','toNumber','$pull','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','oldValue','errors','\x20removido\x20do\x20chat\x20','profile','}}\x20->\x20\x22','fetchLabels','vote','menuIgnoreNonVotes','\x1b[36m','Selecione','DELIVERY_ACK','updateMediaMessage','setRestartTimeout','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','generateHash','tags','composing','findByIdAndDelete','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','Safari','updateMissingShareOwners','updateParticipant','findOrCreate','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','stanzaId','):\x20Ignoring\x20group\x20messages.','updateMany','upsertChats','password','LOG_LEVEL','DATABASE_ENABLED','Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','allFlows','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','routerPath','pairingCode','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','recebido\x20de','updateChatWithMessage','status@broadcast','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','existsSync','replaceVariablesInObject','Output\x20path:\x20','REDIS','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','Instance\x20deleted','timeout','block','stoppedUntil','STORE_CHATS','):\x20Enviando\x20texto','request\x20received\x20in\x20fetchConversation','Unable\x20to\x20leave\x20the\x20group','getClient','CORS','getMinutes','isRunning','etiquetas','updateProfileName','\x20chats\x20foram\x20atualizados.','Audio\x20converted\x20and\x20stored\x20in\x20cache','toString','Business\x20profile\x20fetched','splice','next_groupId','none','OrAnd','headers','role','Conversa\x20deletada\x20com\x20sucesso.','command','/message','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','choices','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','):\x20Flow\x20não\x20encontrado','request\x20received\x20in\x20getAutomateSystem','request\x20received\x20in\x20deleteFlow','_Contacts','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','writeData','variablesToObject','Imagem\x20não\x20encontrada','removeData','delaySecMax','sendContact','$dbName','convertedOptions','imported','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','\x1b[33m','add',',\x20qrcodeCount:\x20','uazapiDeleteMessage','release','1130nEyEBf','__esModule','certbot','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','resetReconnectionVariables','collection','dbInstance','_Flows','copy','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','createflow','sharePass','StartBot','stopIfLastReturnedError','waInstances','includes','convertaudioMP3','Image\x20is\x20base64','FlattenObject\x20result:','READ','condition','\x20inseridos\x20no\x20banco\x20de\x20dados...','listMessage','imagechat','map','editflowcondition','body','groupCreate','process','Processing\x20audio','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','goToFlow','updateStopChat','mediaSticker','findGroups2','quotedMessage','importChats','height','authentication','mkdirSync','Error\x20in\x20markMessageAsRead:','groups.update','userDevicesCache','Button\x20IDs\x20cannot\x20be\x20repeated.','joinGroupValidate','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','wuid','DATABASE_CONNECTION_HOST','view\x20engine','hSet','PRESENCE_UPDATE','#9568cf','del','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','chatLog','log','remoteJid','firstValue','.gif','messages.update','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','removeInstance','blocks','notify','varedits','):\x20Enviando\x20contato','leaveGroup','getFlowModelForOwner','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','#ffae04','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','uazapiSendLocation','):\x20mediaMessageInfoId\x20:\x20','https://api.openai.com/v1/audio/speech','urlencoded','mediaMessage','instance.','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','replaceVariablesLogs','groupAcceptInvite','connectionUpdate','Error\x20in\x20converting\x20audio','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','getVariablesChat','uazapiSendText','The\x20','joinApprovalMode','boolean','groups_ignore','capitalizedWords','greater','isArray','/create','InstancesAlterarTodas','groupHandler','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20',',\x20lastCondition:\x20','protocolMessage','getChatModelForOwner','uazapiSendMedia','subdomain','getStatus','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','processvaredits','substring','values','leadInfo.etiquetas','saveConversationToDatabase','@s.whatsapp.net','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','warn','scheduleSendMedia','updateMissingEtiquetas','width','sort','statSync','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','1267472vaULav','initAuthCreds','updateConversation','send.message','sharp','CONTACTS_UPSERT','ContactsAndGroups','editflowblock','save','.\x20Pulando.','user','\x20minutos\x20verificará\x20novas\x20mensagens','ListType','Error\x20in\x20scheduleNextCheck:\x20','):\x20nextBlock.uazapi.name','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','creds','jwt','Invalid\x20format','request\x20received\x20in\x20editFlowcondition','680656lcDoMs','Temp\x20image\x20deleted','http://ifconfig.me/ip','STATUS_INSTANCE','Primeiro\x20Valor:\x20','mongodb://','dbSettings','variables','buffer','.pptx','isListOfNumbers','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','Nenhum\x20chat\x20encontrado\x20para\x20editar.','deleteOne','shareOwners','parseInt','ListMessage','requestPairingCode','uazapiSendContact','mediaKey','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','PLAYED','isLong','AutomateSystem','onWhatsApp','optionName','execSync','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','Close\x20connection','put','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','):\x20Limpando\x20AutomateSystem','announce','output','Content\x20is\x20required','#ff9484','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','apiResponse','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','):\x20Fluxos\x20não\x20estão\x20ativados','secondValue','beforeExit','HH:mm:ss','sendReaction','/instance/connectionState','Erro\x20ao\x20editar\x20o\x20bloco:\x20','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','AUTHENTICATION_API_KEY','\x1b[44m','chats','keep-alive','The\x20property\x20cannot\x20be\x20empty','Parando\x20aplicação...','isURL','groupInviteCode','uazapi','saveVariable','updateStatusPrivacy','updateOne','application/json','E-mail:\x20','Image\x20converted\x20to\x20WebP','data:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','update','getOwnPropertyDescriptor','updatePrivacySettings','valid','stopWhenYouSendMsg','maxActives','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','viewOnceMessageV2','logout','):\x20Limpando\x20delayMessage','findIndex','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','.extension','findAndReplace','\x22\x20-\x20REMOVED','pino','allContacts','dbClient','deleteFlow','messageTimestamp','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','119adpzeD','closeExistingConversations','data','digest','use','.mp3','all','):\x20Ler\x20mensagem',']\x20(','urlOrBase64','dbServer','groupSetting','pollMessageOnDelete','findConversation','option','lastUpdate','markMessageAsRead','/automate','request\x20received\x20in\x20deleteConversation','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','express','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','subjectOwner','Connection','detail','redirect','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','findGroups',':\x20IP\x20configurado:\x20','):\x20conversation.waitingMenu_name','connectionStatus','setNewValue','flowPrefixCommand','unhandledRejection','variablesNotFound','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','path','mongodb','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','flow','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','reconnectTimestamps','getLastMessage','createSectionsFromValues','findParticipants','groupSettingUpdate','deleteDoneMessages','shift','color','startsWith','\x20adicionado\x20ao\x20chat\x20','findMessages','fromObject','DARK','Error\x20fetching\x20group','$addToSet','verbose','round','chats.upsert','restartInstance','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','90vzuvuz','drop','sem\x20texto\x20na\x20mensagem','addBlock','webhookMap','remove','):\x20Conversa\x20está\x20expirada','Types','env.KEY\x20!==\x20key','newValue','get','deleteBlock','lastInteraction','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','pollCreationMessageV3','prepareMediaMessage','.png','Flow\x20não\x20encontrado','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','):\x20conversation.lastInteraction:\x20','.docx','match_last_seen','now','stderr','Não\x20respondeu\x20com\x20a\x20enquete.','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','poll','ContactModel','SSL_CONF','ignoreGroups','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','/webhook','ERROR:\x20','API\x20Key\x20from\x20Request:','key','STORE','not\x20loaded','reorderBlocks','importChatsBatch','Error\x20updating\x20privacy\x20settings','):\x20Flow\x20desativado','approve','padEnd','/instance/delete','uazapiSendMenu','has','temp-','inviteCodeDetails','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','mongoose','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.',',\x20Expiration\x20Time:\x20','):\x20lastBlockId:\x20','jsonwebtoken','announcement','PENDING','connectionClosed','\x1b[40m','readFile','Chat\x20com\x20ID\x20','json','uuid','Not\x20allowed\x20by\x20CORS','Erro\x20ao\x20buscar\x20conversas:\x20','request\x20received\x20in\x20updateFlowConfig','normalizeMessageContent','protocol','):\x20Editando\x20edição\x20do\x20fluxo...','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','https','pictureUrl','convertToWebP','\x20saindo\x20da\x20função','mentions','Last\x20message\x20not\x20found','request\x20received\x20in\x20editConversation','buttonText','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','loadInstance','AUTHENTICATION','editflowreply','mentioned','^\x5cd+([-]\x5cd+)*@g.us$','fileLength','updateReplyOption','keys','presence','setting','/wa-message','pollErrorMessage','getContentType','sendText','Comando\x20desconhecido','groupFetchAllParticipating','.pdf','isBusiness','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','Error\x20in\x20chatModify\x20for\x20number\x20','/instance/create','menuExpiredMessage','setContext','readData','findFlow','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','AddChatLabel','getScheduleMessageModelForOwner','instanceKeys','client','verifyWhatsAppNumber','content','restrict','info','\x20não\x20encontrado\x20para\x20cópia','envProcess','prototype','getMessageModelForOwner','editFlowVaredit','\x20não\x20encontrado\x20para\x20atualização.','notMatchRegex','LOG','stickerMessage','):\x20alterando\x20this.AutomateSystem','Erro\x20ao\x20sincronizar\x20fluxos:\x20','removeProfilePicture','deleteReplyOption','findAndReplaceRegex','scheduleSendAudio','newStoppedUntil','http://myexternalip.com/raw','updateMissingCustomFields','flowName','empty','The\x20\x22','count','lowerCase','Audio\x20processed','fetchInstances','Internal\x20Server\x20Error','contextInfo','http://icanhazip.com/','toUpperCase','):\x20Erro\x20ao\x20editar\x20agentes:\x20','sendMessage','arrayUnique','):\x20Não\x20achou\x20nenhum\x20flow','deleted','Início','message','_Labels','_id','moreLogs','Fluxos\x20não\x20estão\x20ativados','buttons','rm\x20-rf\x20','messages.set'];a0_0x31bd=function(){return _0x5a3d22;};return a0_0x31bd();}var Fr=_0x39fdff=>{const _0x49b6dd=a0_0x1ec271;let _0x3108ef=pe[_0x49b6dd(0x3eb)]['readdirSync'](_0x39fdff),_0x37a418=0xc*0x3c*0x3c*0x3e8,_0x2536da=0x2*0x3c*0x3c*0x3e8,_0x2013f4=new Date()[_0x49b6dd(0x447)]();_0x3108ef['forEach'](_0x470c6f=>{const _0x56502f=_0x49b6dd;let _0x5511c3=xe['default'][_0x56502f(0x487)](_0x39fdff,_0x470c6f),_0x328933=pe[_0x56502f(0x3eb)][_0x56502f(0x59b)](_0x5511c3)[_0x56502f(0x2aa)]['getTime']();_0x2013f4-_0x328933>_0x37a418&&(pe[_0x56502f(0x3eb)][_0x56502f(0x6f3)](_0x5511c3),console[_0x56502f(0x55f)]('Deleted\x20'+_0x470c6f));}),setTimeout(()=>Fr(_0x39fdff),_0x2536da);};function Bi(){const _0x4e3cba=a0_0x1ec271;let _0x5643a7=new v(_0x4e3cba(0x7df)),_0x4e5a32=(0x0,he[_0x4e3cba(0x3eb)])();_0x4e5a32[_0x4e3cba(0x60b)]((0x0,jr[_0x4e3cba(0x3eb)])({'origin'(_0x38b790,_0x1e4364){const _0x5ea226=_0x4e3cba;let {ORIGIN:_0xdc91fd}=b['get'](_0x5ea226(0x4ff));return _0x38b790||(_0x38b790='*'),_0xdc91fd[_0x5ea226(0x2f5)]('*')!==-0x1||_0xdc91fd[_0x5ea226(0x2f5)](_0x38b790)!==-0x1?_0x1e4364(null,!0x0):_0x1e4364(new Error(_0x5ea226(0x686)));},'methods':[...b['get'](_0x4e3cba(0x4ff))[_0x4e3cba(0x831)]],'credentials':b[_0x4e3cba(0x651)](_0x4e3cba(0x4ff))['CREDENTIALS']}),(0x0,he[_0x4e3cba(0x572)])({'extended':!0x0,'limit':_0x4e3cba(0x351)}),(0x0,he['json'])({'limit':_0x4e3cba(0x351)})),_0x4e5a32[_0x4e3cba(0x60b)]((_0x26ab28,_0x5024ba,_0x41ae40)=>{const _0x385cd6=_0x4e3cba;_0x26ab28['path']['startsWith'](_0x385cd6(0x1d5))?_0x41ae40():(0x0,Lr[_0x385cd6(0x3eb)])()(_0x26ab28,_0x5024ba,_0x41ae40);}),_0x4e5a32[_0x4e3cba(0x7d8)](_0x4e3cba(0x558),'hbs'),_0x4e5a32[_0x4e3cba(0x7d8)](_0x4e3cba(0x7dd),(0x0,Fs[_0x4e3cba(0x487)])(ie,_0x4e3cba(0x7dd))),_0x4e5a32[_0x4e3cba(0x60b)](he[_0x4e3cba(0x3eb)][_0x4e3cba(0x190)]((0x0,Fs[_0x4e3cba(0x487)])(ie,'public'))),_0x4e5a32[_0x4e3cba(0x60b)]((_0x37cbdf,_0x5e28de,_0x22d4bc)=>{const _0x2d2873=_0x4e3cba;let _0x17d44f=_0x5e28de[_0x2d2873(0x348)];_0x5e28de[_0x2d2873(0x348)]=function(_0x53e132){const _0xcf3546=_0x2d2873;if(_0x37cbdf['query']['convert']===_0xcf3546(0x771)||_0x37cbdf[_0xcf3546(0x50c)]['uazapi']===_0xcf3546(0x771)){let _0x2f16a1=JSON[_0xcf3546(0x49c)](_0x53e132);_0x53e132=JSON['stringify'](_0x29d692(_0x2f16a1));}return _0x17d44f[_0xcf3546(0x78c)](_0x5e28de,[_0x53e132]);},_0x22d4bc();}),_0x4e5a32[_0x4e3cba(0x60b)]('/',It),_0x4e5a32[_0x4e3cba(0x60b)]((_0x23c71e,_0x23b79c,_0xcaf672,_0x15f271)=>{const _0xc3ab11=_0x4e3cba;if(_0x23c71e)return _0xcaf672[_0xc3ab11(0x721)](_0x23c71e[_0xc3ab11(0x721)]||0x1f4)['json'](_0x23c71e);},(_0x5068bf,_0x31a0d1,_0x46f984)=>{const _0x2b1ca4=_0x4e3cba;let {method:_0x2b8325,url:_0x5450b9}=_0x5068bf;_0x31a0d1[_0x2b1ca4(0x721)](0x194)['json']({'status':0x194,'message':_0x2b1ca4(0x1e7)+_0x2b8325['toUpperCase']()+'\x20'+_0x5450b9,'error':_0x2b1ca4(0x439)}),_0x46f984();});let _0x29d692=(_0x11eaf8,_0x14c0d4='_p_')=>{let _0x2f51df=(_0x5c040d,_0x2635e1=null,_0x2a0bc4=!0x1)=>{const _0x85e904=a0_0x37f8;let _0x377eda={};return Object[_0x85e904(0x69d)](_0x5c040d)[_0x85e904(0x359)](_0x18329d=>{const _0x24312c=_0x85e904;let _0x58633a=_0x5c040d[_0x18329d],_0x41c839=''+_0x14c0d4+_0x18329d;_0x2635e1&&!_0x2a0bc4&&(_0x41c839=_0x2635e1+'.'+_0x18329d),!_0x58633a&&_0x58633a!==0x0&&_0x58633a!==!0x1||typeof _0x58633a>'u'?_0x377eda[_0x41c839]=null:typeof _0x58633a!=_0x24312c(0x4b1)&&!Array[_0x24312c(0x583)](_0x58633a)?_0x377eda[_0x41c839]=_0x58633a:typeof _0x58633a==_0x24312c(0x4b1)&&!Array[_0x24312c(0x583)](_0x58633a)?_0x377eda=Object[_0x24312c(0x7ad)](_0x377eda,_0x2f51df(_0x58633a,_0x41c839)):Array[_0x24312c(0x583)](_0x58633a)&&(typeof _0x58633a[0x0]==_0x24312c(0x4b1)?(_0x377eda[_0x41c839]=[],_0x58633a[_0x24312c(0x359)](_0x2151d6=>{const _0x47f3c8=_0x24312c;_0x377eda[_0x41c839][_0x47f3c8(0x474)](_0x2f51df(_0x2151d6,_0x41c839,!0x0));})):_0x377eda[_0x41c839]=_0x58633a);}),_0x377eda;};return Array['isArray'](_0x11eaf8)?_0x11eaf8['map'](_0x39b99c=>_0x2f51df(_0x39b99c)):typeof _0x11eaf8=='object'&&_0x11eaf8!==null?_0x2f51df(_0x11eaf8):{};},_0x219552=b['get']('SERVER');Oe[_0x4e3cba(0x7e5)]=_0x4e5a32;let _0x5f76b1=Oe[_0x219552[_0x4e3cba(0x4ab)]],_0x9e9dab=_0x4e3cba(0x7e3);_0x5f76b1[_0x4e3cba(0x832)](_0x219552[_0x4e3cba(0x3db)],()=>{const _0x276e53=_0x4e3cba;_0x5643a7[_0x276e53(0x55f)](_0x9e9dab),_0x5643a7[_0x276e53(0x55f)](_0x219552[_0x276e53(0x4ab)][_0x276e53(0x6d4)]()+'\x20-\x20ON:\x20'+_0x219552['PORT']);}),Vi(),Ks();}var Gi='https://github.com/uazapi/uazapi.git',Wi=xe[a0_0x1ec271(0x3eb)]['join'](__dirname,'./.git/config'),Ie=null;function zi(){return new Promise((_0x210648,_0x2ac11b)=>{const _0x54b35b=a0_0x37f8;pe[_0x54b35b(0x3eb)][_0x54b35b(0x682)](Wi,_0x54b35b(0x1a3),(_0x4d9c4d,_0x107238)=>{const _0x4e1c26=_0x54b35b;if(_0x4d9c4d){Ie=_0x4d9c4d,_0x210648();return;}Ur[_0x4e1c26(0x3eb)]['parse'](_0x107238)[_0x4e1c26(0x768)][_0x4e1c26(0x806)]===Gi?(Ie=null,_0x210648()):(Ie=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x210648());});});}async function Hi(){const _0x8ee63=a0_0x1ec271;try{await zi(),await Us();}catch(_0x5bb01f){console[_0x8ee63(0x409)](_0x8ee63(0x5e0)+_0x5bb01f),process[_0x8ee63(0x7a0)](0x1);}}Hi();async function Jr(){const _0x11abc4=a0_0x1ec271;let _0x570986;try{_0x570986=(await Ae[_0x11abc4(0x3eb)][_0x11abc4(0x651)](_0x11abc4(0x73b)))[_0x11abc4(0x609)]['ip'];}catch(_0x20cb0b){console[_0x11abc4(0x409)](_0x20cb0b);try{_0x570986=(await Ae[_0x11abc4(0x3eb)][_0x11abc4(0x651)]('https://api.ipify.org?format=json'))[_0x11abc4(0x609)]['ip'];}catch(_0x41a5ac){console[_0x11abc4(0x409)](_0x41a5ac);try{_0x570986=(await Ae['default']['get'](_0x11abc4(0x840)))[_0x11abc4(0x609)]['match'](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x5c475d){return console[_0x11abc4(0x409)](_0x5c475d),!0x1;}}}return _0x570986;}var $r=0x0;async function Ki(){const _0x897dd5=a0_0x1ec271;let _0x367a14=await new ne(b[_0x897dd5(0x651)](_0x897dd5(0x4f4)))[_0x897dd5(0x6b2)]();return console['log'](_0x897dd5(0x734),_0x367a14[_0x897dd5(0x710)]),_0x367a14[_0x897dd5(0x710)];}function Qi(_0x4951b){const _0x2bac65=a0_0x1ec271;let _0x45ab0f=_0x4951b[_0x2bac65(0x651)](_0x2bac65(0x7df))['URL'],_0x3e1b7f=_0x4951b[_0x2bac65(0x651)](_0x2bac65(0x663)),_0x4cdc96;if(_0x45ab0f){let _0x744a3f=_0x45ab0f[_0x2bac65(0x199)](/\/\/(.*?)\./);_0x744a3f&&_0x744a3f[0x1]&&(_0x4cdc96=_0x744a3f[0x1]);}if(!_0x4cdc96&&_0x3e1b7f&&_0x3e1b7f[_0x2bac65(0x73e)]){let _0x3d2c56=_0x3e1b7f[_0x2bac65(0x73e)][_0x2bac65(0x1d7)]('/'),_0x23f76a=_0x3d2c56[_0x3d2c56[_0x2bac65(0x710)]-0x2];if(_0x23f76a){let _0x4cde3c=_0x23f76a[_0x2bac65(0x1d7)]('.');_0x4cde3c[_0x2bac65(0x710)]>0x2&&(_0x4cdc96=_0x4cde3c[0x0]);}}return _0x4cdc96;}var Ps=Qi(b);async function Yi(){const _0x5a3f4a=a0_0x1ec271;let _0x18d6f8=b['get'](_0x5a3f4a(0x4f4)),_0xe69f67=b[_0x5a3f4a(0x651)](_0x5a3f4a(0x697))[_0x5a3f4a(0x81f)]['KEY'],_0x5b34ff=b[_0x5a3f4a(0x651)](_0x5a3f4a(0x663)),_0x5418b8=await Jr(),_0x5ac0c3=b['get'](_0x5a3f4a(0x7df))[_0x5a3f4a(0x3db)],_0x45e06d=b[_0x5a3f4a(0x651)](_0x5a3f4a(0x7df))[_0x5a3f4a(0x77a)];try{let _0x359886={'ip':_0x5418b8||null,'redis_enable':_0x18d6f8?.[_0x5a3f4a(0x1d1)]||null,'apikey':_0xe69f67||null,'ssl':_0x5b34ff?.[_0x5a3f4a(0x472)]||null,'lastupdate':qr||null,'port':_0x5ac0c3||null,'gitInstallError':Ie?.['message']||null,'url':_0x45e06d||null};if(console['log']('ip:\x20',_0x359886['ip']),_0x18d6f8&&_0x18d6f8['ENABLED']){let _0x5b8b50=await Ki();_0x359886[_0x5a3f4a(0x780)]=_0x5b8b50||null;}for(let _0x3ef932 in _0x359886)_0x359886[_0x5a3f4a(0x2fb)](_0x3ef932)&&_0x3ef932!=='ip'&&(_0x359886[_0x3ef932]=JSON[_0x5a3f4a(0x742)](_0x359886[_0x3ef932]));return(await Ae['default'][_0x5a3f4a(0x352)]('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0x359886))['data'];}catch(_0x487c7a){return console['error'](_0x487c7a),!0x1;}}var js=!0x1,qr=0x237,Xi=0x3,kr=0x1b7740;async function Us(){const _0x5d8ba7=a0_0x1ec271;if(!await Jr())return console[_0x5d8ba7(0x409)](_0x5d8ba7(0x74b)),_0x5d8ba7(0x2f6);let _0x42d431=await Yi();if(_0x42d431){if(_0x42d431[_0x5d8ba7(0x818)]['licenca']===!0x0){let _0x4046a9=b[_0x5d8ba7(0x651)](_0x5d8ba7(0x663)),_0x38e03a=b[_0x5d8ba7(0x651)](_0x5d8ba7(0x7df))[_0x5d8ba7(0x77a)];_0x4046a9&&_0x4046a9?.['PRIVKEY']?.[_0x5d8ba7(0x537)](_0x5d8ba7(0x223))&&_0x42d431[_0x5d8ba7(0x818)]['subdomain']&&!_0x38e03a&&(await to(_0x42d431['response'][_0x5d8ba7(0x58c)],eo),await so(_0x5d8ba7(0x333),_0x42d431[_0x5d8ba7(0x818)]['subdomain']),console[_0x5d8ba7(0x55f)]('Reiniciando\x20sistema\x20após\x20instalado\x20certificado...'),setTimeout(()=>ro(),0x2710)),Ie===null&&_0x42d431[_0x5d8ba7(0x818)]['last_update']-qr>0x0&&await Zi(),js||(js=!0x0,Bi());let _0xec93d2=0x24*0x3c*0x3c,_0x4001d0=_0x42d431[_0x5d8ba7(0x818)][_0x5d8ba7(0x74a)]>_0xec93d2?_0xec93d2:_0x42d431[_0x5d8ba7(0x818)][_0x5d8ba7(0x74a)],_0xadd9c5=Number(_0x4001d0);if(isNaN(_0xadd9c5)){console['error'](_0x5d8ba7(0x6fd));return;}let _0x4a88b2=Math[_0x5d8ba7(0x71c)](_0xadd9c5/0xe10),_0xc043bb=Math['floor'](_0xadd9c5%0xe10/0x3c),_0x1e3ee8=new Date(Date[_0x5d8ba7(0x65d)]()+_0xadd9c5*0x3e8);setTimeout(Us,_0xadd9c5*0x3e8);let _0x5946f0=_0x97ac90=>_0x97ac90[_0x5d8ba7(0x506)]()['padStart'](0x2,'0'),_0x11e712=_0x5d8ba7(0x2d8)+_0x5946f0(_0x4a88b2)+'\x20horas\x20e\x20'+_0x5946f0(_0xc043bb)+_0x5d8ba7(0x395)+_0x5946f0(_0x1e3ee8[_0x5d8ba7(0x84d)]())+':'+_0x5946f0(_0x1e3ee8[_0x5d8ba7(0x500)]())+'.';console[_0x5d8ba7(0x55f)](_0x11e712);}else return console[_0x5d8ba7(0x55f)](_0x5d8ba7(0x2a1)),js&&(console[_0x5d8ba7(0x55f)](_0x5d8ba7(0x73a)),process[_0x5d8ba7(0x7a0)]()),_0x5d8ba7(0x1d0);}else{if($r++,$r<Xi)console[_0x5d8ba7(0x55f)](_0x5d8ba7(0x402)+kr/0xea60+_0x5d8ba7(0x6f2)),setTimeout(Us,kr);else return console[_0x5d8ba7(0x409)](_0x5d8ba7(0x52b)),_0x5d8ba7(0x7dc);}}async function Zi(){const _0x4f35d2=a0_0x1ec271;console[_0x4f35d2(0x55f)](_0x4f35d2(0x1c1));let _0x3bd9a1=(0x0,De['spawn'])(_0x4f35d2(0x34b),{'shell':!0x0});_0x3bd9a1[_0x4f35d2(0x32d)]['on'](_0x4f35d2(0x609),_0x41fa18=>{const _0x1152bf=_0x4f35d2;console[_0x1152bf(0x55f)]('Atualização:\x20'+_0x41fa18);}),_0x3bd9a1[_0x4f35d2(0x65e)]['on'](_0x4f35d2(0x609),_0x286f14=>{const _0x1581ef=_0x4f35d2;console[_0x1581ef(0x409)](_0x1581ef(0x72e)+_0x286f14);}),_0x3bd9a1['on'](_0x4f35d2(0x7a0),_0x11b67e=>{const _0xa67c80=_0x4f35d2;_0x11b67e!==0x0?console[_0xa67c80(0x409)](_0xa67c80(0x40f)+_0x11b67e):console[_0xa67c80(0x55f)](_0xa67c80(0x497)),console[_0xa67c80(0x55f)](_0xa67c80(0x5e6)),setTimeout(()=>process[_0xa67c80(0x7a0)](),0x2710);});}var eo=xe[a0_0x1ec271(0x3eb)][a0_0x1ec271(0x487)](__dirname,'env.yml');async function to(_0x2da63f,_0x48b7bf){const _0x3e7f15=a0_0x1ec271;let _0x31ff7f=ao();_0x2da63f=_0x2da63f[_0x3e7f15(0x448)]('.uazapi.dev','');try{let _0xe1fab7=pe[_0x3e7f15(0x3eb)]['readFileSync'](_0x48b7bf,_0x3e7f15(0x414));_0xe1fab7=_0xe1fab7['replace'](/<apikey>/,_0x31ff7f),_0xe1fab7=_0xe1fab7[_0x3e7f15(0x448)](/<subdomain>/g,_0x2da63f),pe[_0x3e7f15(0x3eb)][_0x3e7f15(0x263)](_0x48b7bf,_0xe1fab7,_0x3e7f15(0x414)),console[_0x3e7f15(0x55f)](_0x3e7f15(0x309));}catch(_0x4b37ac){console[_0x3e7f15(0x409)]('Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:',_0x4b37ac);}}function so(_0x549f2c,_0x2396b5){return new Promise((_0x5c7df8,_0x111c8d)=>{const _0x5ea473=a0_0x37f8;let _0x520f81=(0x0,De[_0x5ea473(0x490)])(_0x5ea473(0x52a),[_0x5ea473(0x81d),_0x5ea473(0x265),'-m',_0x549f2c,_0x5ea473(0x3b0),'-d',_0x2396b5]);_0x520f81[_0x5ea473(0x32d)]['on'](_0x5ea473(0x609),_0x3fa8de=>{const _0x111500=_0x5ea473;console[_0x111500(0x55f)](_0x111500(0x7a4)+_0x3fa8de[_0x111500(0x506)]());}),_0x520f81['stderr']['on'](_0x5ea473(0x609),_0x4262a7=>{const _0x14126f=_0x5ea473;console[_0x14126f(0x409)](_0x14126f(0x1a9)+_0x4262a7[_0x14126f(0x506)]());}),_0x520f81['on'](_0x5ea473(0x1a7),_0x387743=>{const _0x3c2c3c=_0x5ea473;_0x387743!==0x0?(console['error'](_0x3c2c3c(0x511)+_0x387743),_0x111c8d('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x387743)):(console['log']('Certbot\x20executado\x20com\x20sucesso.'),_0x5c7df8());});});}function ao(_0x203afa=0x32){const _0x3a6191=a0_0x1ec271;let _0x18cd25=_0x3a6191(0x57a),_0x56e71d='';for(let _0x4c8d1b=0x0;_0x4c8d1b<_0x203afa;_0x4c8d1b++)_0x56e71d+=_0x18cd25[_0x3a6191(0x758)](Math[_0x3a6191(0x71c)](Math[_0x3a6191(0x2ee)]()*_0x18cd25[_0x3a6191(0x710)]));return _0x56e71d;}function ro(){const _0x40d753=a0_0x1ec271;(0x0,De[_0x40d753(0x7ab)])(_0x40d753(0x2cc),(_0x122947,_0x142548,_0x22fc6f)=>{const _0x2e7783=_0x40d753;if(_0x122947){console[_0x2e7783(0x409)](_0x2e7783(0x19d)+_0x122947);return;}if(_0x22fc6f){console['error']('Erro\x20de\x20reinicialização:\x20'+_0x22fc6f);return;}console[_0x2e7783(0x55f)](_0x2e7783(0x314)+_0x142548);});}0x0&&(module['exports']={'subdomain':subdomain});