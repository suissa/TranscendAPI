const a0_0x4ff83f=a0_0x52dd;(function(_0x3f6b38,_0xc0c4db){const _0x421f2a=a0_0x52dd,_0x14099e=_0x3f6b38();while(!![]){try{const _0x2f7082=-parseInt(_0x421f2a(0x33a))/0x1+-parseInt(_0x421f2a(0x29c))/0x2*(parseInt(_0x421f2a(0x285))/0x3)+parseInt(_0x421f2a(0x480))/0x4+parseInt(_0x421f2a(0x3aa))/0x5*(parseInt(_0x421f2a(0x513))/0x6)+-parseInt(_0x421f2a(0x53a))/0x7+parseInt(_0x421f2a(0x6d5))/0x8*(-parseInt(_0x421f2a(0x7b8))/0x9)+parseInt(_0x421f2a(0x642))/0xa;if(_0x2f7082===_0xc0c4db)break;else _0x14099e['push'](_0x14099e['shift']());}catch(_0xc260a8){_0x14099e['push'](_0x14099e['shift']());}}}(a0_0x2653,0xbc18c));var _r=Object['create'],Ae=Object[a0_0x4ff83f(0x56d)],Pr=Object[a0_0x4ff83f(0x431)],$r=Object[a0_0x4ff83f(0x6ce)],kr=Object[a0_0x4ff83f(0x549)],Lr=Object[a0_0x4ff83f(0x57c)][a0_0x4ff83f(0x50e)],Fr=(_0x20325e,_0x72c15f)=>{for(var _0x1556fc in _0x72c15f)Ae(_0x20325e,_0x1556fc,{'get':_0x72c15f[_0x1556fc],'enumerable':!0x0});},Ds=(_0x55364b,_0x2a69ce,_0x5364f5,_0x145aed)=>{const _0x1e607f=a0_0x4ff83f;if(_0x2a69ce&&typeof _0x2a69ce==_0x1e607f(0x29b)||typeof _0x2a69ce==_0x1e607f(0x35c)){for(let _0xe31e2d of $r(_0x2a69ce))!Lr[_0x1e607f(0x238)](_0x55364b,_0xe31e2d)&&_0xe31e2d!==_0x5364f5&&Ae(_0x55364b,_0xe31e2d,{'get':()=>_0x2a69ce[_0xe31e2d],'enumerable':!(_0x145aed=Pr(_0x2a69ce,_0xe31e2d))||_0x145aed['enumerable']});}return _0x55364b;},T=(_0x239d1d,_0x5ae0fd,_0x39df70)=>(_0x39df70=_0x239d1d!=null?_r(kr(_0x239d1d)):{},Ds(_0x5ae0fd||!_0x239d1d||!_0x239d1d[a0_0x4ff83f(0x50d)]?Ae(_0x39df70,'default',{'value':_0x239d1d,'enumerable':!0x0}):_0x39df70,_0x239d1d)),jr=_0x17d38c=>Ds(Ae({},'__esModule',{'value':!0x0}),_0x17d38c),zi={};function a0_0x52dd(_0x33c419,_0x3de160){const _0x26535d=a0_0x2653();return a0_0x52dd=function(_0x52dd89,_0x265525){_0x52dd89=_0x52dd89-0x180;let _0x3f266b=_0x26535d[_0x52dd89];return _0x3f266b;},a0_0x52dd(_0x33c419,_0x3de160);}Fr(zi,{'subdomain':()=>Ns}),module['exports']=jr(zi);var Tr=T(require(a0_0x4ff83f(0x1c8))),Ps=require('fs'),$s=require(a0_0x4ff83f(0x5b7)),ks=require('path'),Ie=require(a0_0x4ff83f(0x570)),se=process[a0_0x4ff83f(0x1cb)](),he=(0x0,Ie[a0_0x4ff83f(0x35a)])(se,a0_0x4ff83f(0x78b)),_s=(0x0,Ie[a0_0x4ff83f(0x35a)])(se,a0_0x4ff83f(0x546)),Jo=(0x0,Ie[a0_0x4ff83f(0x35a)])(se,'store',a0_0x4ff83f(0x234)),Zt=class{constructor(){const _0x549eca=a0_0x4ff83f;this[_0x549eca(0x7de)]();}['get'](_0x51581f){const _0x36dce9=a0_0x4ff83f;return this[_0x36dce9(0x565)][_0x51581f];}[a0_0x4ff83f(0x7de)](){const _0xb47d9f=a0_0x4ff83f;this[_0xb47d9f(0x565)]=process['env']?.[_0xb47d9f(0x4d0)]!==_0xb47d9f(0x4f3)?this[_0xb47d9f(0x81f)]():this[_0xb47d9f(0x805)](),process['env']?.['DOCKER_ENV']===_0xb47d9f(0x4f3)&&(this[_0xb47d9f(0x565)][_0xb47d9f(0x211)][_0xb47d9f(0x4ff)]=_0xb47d9f(0x55a),this[_0xb47d9f(0x565)][_0xb47d9f(0x211)][_0xb47d9f(0x760)]=Number[_0xb47d9f(0x338)](process[_0xb47d9f(0x565)]?.['SERVER_PORT']??_0xb47d9f(0x1f0)));}[a0_0x4ff83f(0x81f)](){const _0x225003=a0_0x4ff83f;return(0x0,$s[_0x225003(0x54b)])((0x0,Ps['readFileSync'])((0x0,ks[_0x225003(0x35a)])(_s,_0x225003(0x2f0)),{'encoding':_0x225003(0x1e5)}));}[a0_0x4ff83f(0x805)](){const _0x11327e=a0_0x4ff83f;return{'SERVER':{'TYPE':process['env'][_0x11327e(0x6f5)],'PORT':Number['parseInt'](process[_0x11327e(0x565)]['SERVER_PORT']),'URL':process[_0x11327e(0x565)][_0x11327e(0x2eb)]},'CORS':{'ORIGIN':process[_0x11327e(0x565)][_0x11327e(0x2b6)][_0x11327e(0x290)](','),'METHODS':process[_0x11327e(0x565)][_0x11327e(0x55b)]['split'](','),'CREDENTIALS':process[_0x11327e(0x565)]?.[_0x11327e(0x79a)]===_0x11327e(0x4f3)},'SSL_CONF':{'PRIVKEY':process[_0x11327e(0x565)]?.[_0x11327e(0x3c8)],'FULLCHAIN':process['env']?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0x11327e(0x565)]?.[_0x11327e(0x73a)])?Number['parseInt'](process[_0x11327e(0x565)]['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process[_0x11327e(0x565)]?.[_0x11327e(0x548)]===_0x11327e(0x4f3),'CONTACTS':process['env']?.[_0x11327e(0x830)]===_0x11327e(0x4f3),'CHATS':process[_0x11327e(0x565)]?.[_0x11327e(0x756)]===_0x11327e(0x4f3)},'DATABASE':{'CONNECTION':{'HOST':process[_0x11327e(0x565)]?.[_0x11327e(0x7c2)],'PORT':Number[_0x11327e(0x338)](process[_0x11327e(0x565)]?.[_0x11327e(0x7c2)]),'USER':process[_0x11327e(0x565)][_0x11327e(0x507)],'PASSWORD':process[_0x11327e(0x565)][_0x11327e(0x28f)],'URI':process[_0x11327e(0x565)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process[_0x11327e(0x565)][_0x11327e(0x79f)]},'ENABLED':process[_0x11327e(0x565)]?.[_0x11327e(0x50a)]===_0x11327e(0x4f3)},'REDIS':{'ENABLED':process[_0x11327e(0x565)]?.[_0x11327e(0x6be)]===_0x11327e(0x4f3),'URI':process[_0x11327e(0x565)][_0x11327e(0x368)]||_0x11327e(0x2ef),'PREFIX_KEY':process[_0x11327e(0x565)]['REDIS_PREFIX_KEY']||'uazapi'},'LOG':{'LEVEL':process[_0x11327e(0x565)]?.[_0x11327e(0x7d8)]['split'](','),'COLOR':process[_0x11327e(0x565)]?.[_0x11327e(0x3de)]===_0x11327e(0x4f3)},'PROXY':Number[_0x11327e(0x338)](process[_0x11327e(0x565)]?.[_0x11327e(0x652)]),'AUTHENTICATION':{'TYPE':process[_0x11327e(0x565)][_0x11327e(0x2a4)],'API_KEY':{'KEY':process['env']['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x11327e(0x4ca)](process['env']?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x11327e(0x338)](process[_0x11327e(0x565)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x11327e(0x565)][_0x11327e(0x408)]}}};}},b=new Zt(),Or=T(require('cors')),de=T(require('express')),Is=require(a0_0x4ff83f(0x570)),es=T(require(a0_0x4ff83f(0x4a3))),ts=(_0x5e8592=>(_0x5e8592['LOG']='\x1b[32m',_0x5e8592[a0_0x4ff83f(0x5fc)]=a0_0x4ff83f(0x405),_0x5e8592[a0_0x4ff83f(0x423)]=a0_0x4ff83f(0x1b3),_0x5e8592[a0_0x4ff83f(0x3a0)]='\x1b[31m',_0x5e8592[a0_0x4ff83f(0x6d0)]=a0_0x4ff83f(0x7e1),_0x5e8592[a0_0x4ff83f(0x401)]=a0_0x4ff83f(0x7e4),_0x5e8592['DARK']=a0_0x4ff83f(0x599),_0x5e8592))(ts||{}),Ls=(_0x2f3e81=>(_0x2f3e81['LOG']=a0_0x4ff83f(0x30d),_0x2f3e81[a0_0x4ff83f(0x4e1)]=a0_0x4ff83f(0x222),_0x2f3e81[a0_0x4ff83f(0x5fc)]=a0_0x4ff83f(0x425),_0x2f3e81[a0_0x4ff83f(0x423)]='\x1b[33m%s\x1b[0m',_0x2f3e81[a0_0x4ff83f(0x3a0)]='\x1b[31m%s\x1b[0m',_0x2f3e81['DEBUG']=a0_0x4ff83f(0x5e9),_0x2f3e81[a0_0x4ff83f(0x401)]=a0_0x4ff83f(0x712),_0x2f3e81))(Ls||{}),Fs=(_0x712de7=>(_0x712de7['LOG']=a0_0x4ff83f(0x196),_0x712de7[a0_0x4ff83f(0x423)]=a0_0x4ff83f(0x423),_0x712de7[a0_0x4ff83f(0x5fc)]=a0_0x4ff83f(0x5fc),_0x712de7['DARK']=a0_0x4ff83f(0x4e1),_0x712de7[a0_0x4ff83f(0x3a0)]=a0_0x4ff83f(0x3a0),_0x712de7[a0_0x4ff83f(0x6d0)]='DEBUG',_0x712de7['VERBOSE']=a0_0x4ff83f(0x401),_0x712de7))(Fs||{}),js=(_0xaeefbe=>(_0xaeefbe[a0_0x4ff83f(0x196)]=a0_0x4ff83f(0x624),_0xaeefbe[a0_0x4ff83f(0x5fc)]=a0_0x4ff83f(0x190),_0xaeefbe[a0_0x4ff83f(0x423)]=a0_0x4ff83f(0x746),_0xaeefbe[a0_0x4ff83f(0x4e1)]=a0_0x4ff83f(0x362),_0xaeefbe[a0_0x4ff83f(0x3a0)]=a0_0x4ff83f(0x7db),_0xaeefbe['DEBUG']='\x1b[46m',_0xaeefbe['VERBOSE']=a0_0x4ff83f(0x75c),_0xaeefbe))(js||{}),v=class{constructor(_0x2e55c0=a0_0x4ff83f(0x816)){const _0x149623=a0_0x4ff83f;this['context']=_0x2e55c0,this[_0x149623(0x664)]=b;}[a0_0x4ff83f(0x463)](_0x46346e){const _0x13e0e3=a0_0x4ff83f;this[_0x13e0e3(0x208)]=_0x46346e;}[a0_0x4ff83f(0x6fe)](_0x279716,_0x36436e){const _0x4c0beb=a0_0x4ff83f;let _0x5b5ae5=[];this[_0x4c0beb(0x664)]['get'](_0x4c0beb(0x196))[_0x4c0beb(0x40c)][_0x4c0beb(0x4bf)](_0x210994=>_0x5b5ae5[_0x4c0beb(0x3ed)](Fs[_0x210994]));let _0x31aaed=typeof _0x279716;_0x5b5ae5['includes'](_0x36436e)&&(b[_0x4c0beb(0x605)](_0x4c0beb(0x196))[_0x4c0beb(0x645)]?(console[_0x4c0beb(0x4b8)](_0x4c0beb(0x1de)+Ls[_0x36436e],_0x4c0beb(0x3d8),(0x0,es[_0x4c0beb(0x604)])()[_0x4c0beb(0x3cb)](_0x4c0beb(0x7a8)),_0x4c0beb(0x3a6),ts[_0x36436e]+js[_0x36436e]+'\x1b[1m',_0x36436e+_0x4c0beb(0x4dd),_0x4c0beb(0x4b1),this['context']+_0x4c0beb(0x3a6),ts[_0x36436e],_0x31aaed!==_0x4c0beb(0x29b)?_0x279716:'',_0x4c0beb(0x3a6)),_0x31aaed===_0x4c0beb(0x29b)&&console[_0x4c0beb(0x4b8)](_0x279716,'\x0a')):console[_0x4c0beb(0x4b8)]((0x0,es['default'])()[_0x4c0beb(0x3cb)](_0x4c0beb(0x461)),_0x36436e+'\x20',''+this['context'],_0x279716));}[a0_0x4ff83f(0x4b8)](_0x11076d){const _0x4e3330=a0_0x4ff83f;this[_0x4e3330(0x6fe)](_0x11076d,_0x4e3330(0x196));}[a0_0x4ff83f(0x256)](_0x2156e6){const _0x340c1b=a0_0x4ff83f;this[_0x340c1b(0x6fe)](_0x2156e6,_0x340c1b(0x5fc));}[a0_0x4ff83f(0x4cd)](_0x46c94f){const _0x5db326=a0_0x4ff83f;this['console'](_0x46c94f,_0x5db326(0x423));}['error'](_0x5271c3){const _0xad2243=a0_0x4ff83f;this[_0xad2243(0x6fe)](_0x5271c3,_0xad2243(0x3a0));}[a0_0x4ff83f(0x5bf)](_0x26fd63){const _0x51346c=a0_0x4ff83f;this[_0x51346c(0x6fe)](_0x26fd63,_0x51346c(0x401));}[a0_0x4ff83f(0x58d)](_0x4d2040){const _0x4a366c=a0_0x4ff83f;this['console'](_0x4d2040,_0x4a366c(0x6d0));}[a0_0x4ff83f(0x5a9)](_0x25c52a){const _0xc117c8=a0_0x4ff83f;this[_0xc117c8(0x6fe)](_0x25c52a,_0xc117c8(0x4e1));}};function Us(){const _0x264832=a0_0x4ff83f;process['on'](_0x264832(0x505),(_0x4c93d0,_0x4442c1)=>{const _0x218c85=_0x264832;new v(_0x218c85(0x505))[_0x218c85(0x57f)]({'origin':_0x4442c1,'stderr':process[_0x218c85(0x80a)]['fd'],'error':_0x4c93d0});}),process['on'](_0x264832(0x5d9),(_0x2a1eb6,_0x2f87d0)=>{const _0x25c1cd=_0x264832;new v(_0x25c1cd(0x5d9))[_0x25c1cd(0x57f)]({'origin':_0x2f87d0,'stderr':process['stderr']['fd'],'error':_0x2a1eb6});});}var qs=T(require(a0_0x4ff83f(0x793))),ss=new qs['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),xe=require(a0_0x4ff83f(0x637)),as=T(require(a0_0x4ff83f(0x637))),Ur=new v(a0_0x4ff83f(0x815)),J=b['get']('DATABASE'),R=J['ENABLED']?J['CONNECTION'][a0_0x4ff83f(0x443)]?as[a0_0x4ff83f(0x604)][a0_0x4ff83f(0x743)](J[a0_0x4ff83f(0x616)][a0_0x4ff83f(0x443)],{'dbName':J['CONNECTION'][a0_0x4ff83f(0x33b)]+a0_0x4ff83f(0x823)}):as[a0_0x4ff83f(0x604)][a0_0x4ff83f(0x743)](a0_0x4ff83f(0x46b)+J[a0_0x4ff83f(0x616)][a0_0x4ff83f(0x3a2)]+':'+J[a0_0x4ff83f(0x616)][a0_0x4ff83f(0x760)]+a0_0x4ff83f(0x28b),{'user':J[a0_0x4ff83f(0x616)][a0_0x4ff83f(0x3f6)],'pass':J[a0_0x4ff83f(0x616)][a0_0x4ff83f(0x1fd)],'dbName':J[a0_0x4ff83f(0x616)][a0_0x4ff83f(0x33b)]+a0_0x4ff83f(0x823)}):null;J[a0_0x4ff83f(0x81b)]&&Ur[a0_0x4ff83f(0x256)](a0_0x4ff83f(0x52f)+R['$dbName']);var qr=new xe[(a0_0x4ff83f(0x62b))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Jr=new xe[(a0_0x4ff83f(0x62b))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[qr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Vr=new xe[(a0_0x4ff83f(0x62b))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Jr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Js=_0x27c8ea=>{const _0x4e5cbc=a0_0x4ff83f;let _0x2f94d1='z_'+_0x27c8ea+_0x4e5cbc(0x720);return R?.[_0x4e5cbc(0x21c)](_0x4e5cbc(0x2da),Vr,_0x2f94d1);},Vs=require(a0_0x4ff83f(0x637)),Br=new Vs['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Bs=_0x186f76=>{const _0x476472=a0_0x4ff83f;let _0x1050e6='z_'+_0x186f76+'_Contacts';return R?.[_0x476472(0x21c)](_0x476472(0x454),Br,_0x1050e6);},Gs=require(a0_0x4ff83f(0x637)),Gr=new Gs['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Ws=_0x1e1241=>{const _0x40cb6f=a0_0x4ff83f;let _0xa45936='z_'+_0x1e1241+_0x40cb6f(0x6d1);return R?.[_0x40cb6f(0x21c)](_0x40cb6f(0x2f7),Gr,_0xa45936);},zs=require(a0_0x4ff83f(0x637)),rs=class{},Wr=new zs['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),Hs=R?.['model'](rs['name'],Wr,a0_0x4ff83f(0x353)),Ks=require(a0_0x4ff83f(0x637)),is=class{},Qs=new Ks[(a0_0x4ff83f(0x62b))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Qs[a0_0x4ff83f(0x341)]('save',function(_0x501db4){const _0x2c3036=a0_0x4ff83f;delete this[_0x2c3036(0x7f1)],delete this['flowIgnoreGroups'],delete this[_0x2c3036(0x315)],delete this[_0x2c3036(0x435)],delete this[_0x2c3036(0x1f2)],_0x501db4();});var Ys=R?.['model'](is['name'],Qs,a0_0x4ff83f(0x247)),P=require(a0_0x4ff83f(0x637)),Xs=require(a0_0x4ff83f(0x721)),De=class{},Zs=new P[(a0_0x4ff83f(0x62b))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),os=new P[(a0_0x4ff83f(0x62b))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),zr=new P[(a0_0x4ff83f(0x62b))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x4ff83f(0x6f2)},'footerText':{'type':String},'buttonText':{'type':String,'default':'Selecione'},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':a0_0x4ff83f(0x61c)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ea=new P[(a0_0x4ff83f(0x62b))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Hr=new P['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Kr=new P[(a0_0x4ff83f(0x62b))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ta=new P[(a0_0x4ff83f(0x62b))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':zr},'apirequest':Hr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ds=new P[(a0_0x4ff83f(0x62b))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),sa=new P[(a0_0x4ff83f(0x62b))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ns=class{},_e=new P[(a0_0x4ff83f(0x62b))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,Xs['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x31f3c1=a0_0x4ff83f;return _0x31f3c1(0x1ed)+Math[_0x31f3c1(0x262)]()[_0x31f3c1(0x552)](0x24)[_0x31f3c1(0x206)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ds],'variablesNotFound':{'type':[String]},'blocks':[ta],'groups':[Zs],'conditions':[ea],'varedits':[sa],'replyOptions':{'type':[os],'default':[]}});_e[a0_0x4ff83f(0x341)](a0_0x4ff83f(0x725),function(_0x3e7f5e){const _0x32ff15=a0_0x4ff83f;let _0x57a57b=new Set(),_0x13b389=new Set(this[_0x32ff15(0x4a4)]?.[_0x32ff15(0x5c3)](_0x2cce4f=>_0x2cce4f['name'])),_0x3769c4=JSON[_0x32ff15(0x62a)](this),_0xaa25b9=/{{(?!_)([^}]*)}}/g,_0x5b3324;for(;(_0x5b3324=_0xaa25b9[_0x32ff15(0x582)](_0x3769c4))!==null;)_0x13b389[_0x32ff15(0x65b)](_0x5b3324[0x1])||_0x57a57b[_0x32ff15(0x490)](_0x5b3324[0x1]);_0x57a57b[_0x32ff15(0x5b0)]>0x0?(console[_0x32ff15(0x4cd)](_0x32ff15(0x774),Array['from'](_0x57a57b)),this[_0x32ff15(0x7a6)]=Array['from'](_0x57a57b)):this[_0x32ff15(0x7a6)]=[],_0x3e7f5e();}),_e['pre'](a0_0x4ff83f(0x319),function(_0x44be5a){const _0x58c022=a0_0x4ff83f;let _0x4e4deb=this['getUpdate']();if(_0x4e4deb&&typeof _0x4e4deb==_0x58c022(0x29b)&&_0x58c022(0x710)in _0x4e4deb){let _0xf8403c=_0x4e4deb[_0x58c022(0x710)];if(_0xf8403c){let _0x46f8f6=new Set(),_0x2c4471=new Set(_0xf8403c[_0x58c022(0x4a4)]?.['map'](_0x16de8e=>_0x16de8e['name'])),_0x17a3d4=JSON[_0x58c022(0x62a)](_0xf8403c),_0x4e0a1c=/{{(?!_)([^}]*)}}/g,_0x4a72b0;for(;(_0x4a72b0=_0x4e0a1c[_0x58c022(0x582)](_0x17a3d4))!==null;)_0x2c4471[_0x58c022(0x65b)](_0x4a72b0[0x1])||_0x46f8f6[_0x58c022(0x490)](_0x4a72b0[0x1]);_0x46f8f6[_0x58c022(0x5b0)]>0x0?(console[_0x58c022(0x4cd)](_0x58c022(0x774),Array[_0x58c022(0x1e8)](_0x46f8f6)),_0xf8403c[_0x58c022(0x7a6)]=Array['from'](_0x46f8f6)):_0xf8403c[_0x58c022(0x7a6)]=[],this[_0x58c022(0x2ea)]({'$set':_0xf8403c});}}_0x44be5a();});var aa=_0xffd4b2=>{const _0x2a3519=a0_0x4ff83f;let _0xf9f3b2='z_'+_0xffd4b2+_0x2a3519(0x19d);return R?.[_0x2a3519(0x21c)](_0x2a3519(0x4a9),_e,_0xf9f3b2);},ra=R?.[a0_0x4ff83f(0x21c)](ns[a0_0x4ff83f(0x1c3)],_e,a0_0x4ff83f(0x236)),Qr=new P[(a0_0x4ff83f(0x62b))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ds],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Kr]},{'_id':!0x1}),cs=class{},ia=new P[(a0_0x4ff83f(0x62b))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ds],'blocks':[ta],'groups':[Zs],'conditions':[ea],'varedits':[sa],'replyOptions':{'type':[os],'default':[]},'chatLog':Qr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x4ff83f(0x187)},'waitingMenu_replyOptions':{'type':[os],'default':[]}}),oa=_0x519e45=>{const _0x41c50b=a0_0x4ff83f;let _0x201f4f='z_'+_0x519e45+_0x41c50b(0x4c2);return R?.[_0x41c50b(0x21c)](_0x41c50b(0x1e2),ia,_0x201f4f);},na=R?.[a0_0x4ff83f(0x21c)](cs[a0_0x4ff83f(0x1c3)],ia,a0_0x4ff83f(0x239)),ls=class{},Yr=new P[(a0_0x4ff83f(0x62b))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Xr=new P[(a0_0x4ff83f(0x62b))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ca=new P[(a0_0x4ff83f(0x62b))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x4ff83f(0x43a)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Xr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Yr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),la=_0x260813=>{const _0x1052e7=a0_0x4ff83f;let _0x2e0bba='z_'+_0x260813+_0x1052e7(0x1c9);return R?.['model']('ScheduleMessageModel',ca,_0x2e0bba);},ua=R?.['model'](ls[a0_0x4ff83f(0x1c3)],ca,'scheduleMessages'),us=class{},Zr=new P['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),ei=new P['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),ti=new P['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),si=new P[(a0_0x4ff83f(0x62b))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[ti]},'customFields':{'type':[Zr]},'flowConfig':{'type':ei,'default':{}}}),Pe=R?.['model'](us[a0_0x4ff83f(0x1c3)],si,a0_0x4ff83f(0x1b1)),da=require(a0_0x4ff83f(0x637)),ai=new da[(a0_0x4ff83f(0x62b))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),pa=_0xd400e3=>{const _0x9fc4ac=a0_0x4ff83f;let _0x7ba295='z_'+_0xd400e3+_0x9fc4ac(0x198);return R?.[_0x9fc4ac(0x21c)](_0x9fc4ac(0x41f),ai,_0x7ba295);},x=class{constructor(_0x1e3fdb){const _0x393f4a=a0_0x4ff83f;this['dbSettings']=_0x1e3fdb[_0x393f4a(0x605)]('DATABASE');}};function A(_0x1c87f8){const _0x2255af=a0_0x4ff83f;let _0x15b0bf={};for(let [_0x2cb078,_0x5841dc]of Object['entries'](_0x1c87f8))if(typeof _0x5841dc==_0x2255af(0x29b)&&!Array[_0x2255af(0x447)](_0x5841dc)){for(let [_0x219897,_0x1a49e4]of Object[_0x2255af(0x489)](_0x5841dc))_0x15b0bf[_0x2cb078+'.'+_0x219897]=_0x1a49e4;}else _0x15b0bf[_0x2cb078]=_0x5841dc;return _0x15b0bf;}var $e=class{constructor(_0x549df9,_0x44c2ad,_0x4bc05d,_0x43491a,_0x538e3e,_0x18c566,_0x3cee72,_0x2d7bc4,_0x12ff7a,_0xb75e45,_0x154ebd){const _0x2b85b1=a0_0x4ff83f;this['message']=_0x549df9,this['chat']=_0x44c2ad,this[_0x2b85b1(0x75b)]=_0x4bc05d,this[_0x2b85b1(0x247)]=_0x43491a,this['auth']=_0x538e3e,this[_0x2b85b1(0x236)]=_0x18c566,this[_0x2b85b1(0x239)]=_0x3cee72,this[_0x2b85b1(0x58e)]=_0x2d7bc4,this[_0x2b85b1(0x6dc)]=_0x12ff7a,this[_0x2b85b1(0x2f8)]=_0xb75e45,this[_0x2b85b1(0x359)]=_0x154ebd;}get[a0_0x4ff83f(0x466)](){return this['dbClient'];}},ke=class{},Le=class extends x{['getMessageModelForOwner'](_0x4c003d){return Ws(_0x4c003d);}async['insert'](_0x64a65f,_0x4e4221){const _0x1015fc=a0_0x4ff83f;if(_0x64a65f[_0x1015fc(0x78e)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x4e4221)['insertMany']([..._0x64a65f]))[_0x1015fc(0x78e)]};}catch(_0x5e5392){return _0x5e5392;}}async['find'](_0x19cf52,_0x5e8346){const _0x4b5300=a0_0x4ff83f;try{let _0x2fc3d9=this[_0x4b5300(0x4d3)](_0x5e8346),_0x1a81b6=A(_0x19cf52[_0x4b5300(0x4d7)]);return await _0x2fc3d9['find'](_0x1a81b6)[_0x4b5300(0x527)]({'messageTimestamp':-0x1})['limit'](_0x19cf52?.['limit']??0x0)[_0x4b5300(0x1a7)]();}catch{return[];}}async['delete'](_0x53190f,_0x9facd8){const _0x452918=a0_0x4ff83f;try{let _0xd3d4ff=this['getMessageModelForOwner'](_0x9facd8),_0x325515=A(_0x53190f['where']);await _0xd3d4ff[_0x452918(0x1d1)](_0x325515);}catch(_0x2a9cab){console[_0x452918(0x57f)](_0x2a9cab);}}async[a0_0x4ff83f(0x416)](_0x21be14,_0x13f6fa,_0x52b26f){const _0x3b7150=a0_0x4ff83f;try{let _0x29f4c4=this['getMessageModelForOwner'](_0x52b26f),_0x150bcf=A(_0x21be14[_0x3b7150(0x4d7)]);return await _0x29f4c4['findOneAndUpdate'](_0x150bcf,{'$set':_0x13f6fa},{'new':!0x0});}catch(_0x30cb6e){throw console[_0x3b7150(0x57f)](_0x30cb6e),_0x30cb6e;}}async[a0_0x4ff83f(0x344)](_0x450eac,_0x20aeea){const _0x5d21a2=a0_0x4ff83f;if(_0x450eac[_0x5d21a2(0x78e)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x5d21a2(0x4d3)](_0x20aeea)[_0x5d21a2(0x344)]([..._0x450eac]))[_0x5d21a2(0x78e)]};}catch(_0x3f4639){return console['log'](_0x5d21a2(0x4d2),_0x3f4639),_0x3f4639;}}async[a0_0x4ff83f(0x4ad)](_0x30f9ca){const _0x12edd9=a0_0x4ff83f;try{return await this[_0x12edd9(0x4d3)](_0x30f9ca)[_0x12edd9(0x6a3)]['drop'](),{'success':!0x0};}catch(_0x56ba9c){return console[_0x12edd9(0x57f)](_0x56ba9c),{'success':!0x1,'error':_0x56ba9c};}}},wr=T(require(a0_0x4ff83f(0x2a2))),g=T(require(a0_0x4ff83f(0x59a))),Me=require('fs'),j=T(require('path')),te=T(require(a0_0x4ff83f(0x41a))),yr=require(a0_0x4ff83f(0x721)),br=T(require(a0_0x4ff83f(0x806))),Sr=T(require(a0_0x4ff83f(0x5e2))),ha=[a0_0x4ff83f(0x790),a0_0x4ff83f(0x47c),a0_0x4ff83f(0x56a),'videoMessage',a0_0x4ff83f(0x73f)],ga=[a0_0x4ff83f(0x3a9),'documentWithCaptionMessage','viewOnceMessage',a0_0x4ff83f(0x56c)],Ss=require('os'),At=T(require(a0_0x4ff83f(0x6b3))),_t=require(a0_0x4ff83f(0x1c1)),It=require('node-mime-types'),oe=T(require(a0_0x4ff83f(0x637))),$=require(a0_0x4ff83f(0x37c)),ge=class{constructor(_0x494fb5,_0x5ebe44,_0x5e4d9f){const _0x250b35=a0_0x4ff83f;this[_0x250b35(0x4d6)]=_0x494fb5,this['exists']=_0x5ebe44,this[_0x250b35(0x1c3)]=_0x5e4d9f;}},Fe=class{},je=class{},ye=class{},Ue=class{},qe=class{},me=class{},Je=class{},Ve=class{},Be=class{},Ge=class{},Mt=T(require(a0_0x4ff83f(0x74e))),ma=require('fs'),fa=require(a0_0x4ff83f(0x570));async function We(_0x39bdb5){const _0x5aede4=a0_0x4ff83f;let _0x1b701a=V[_0x5aede4(0x31a)][_0x39bdb5];if(J['ENABLED']){let _0x31d71c=R['getClient']()['db'](J[_0x5aede4(0x616)][_0x5aede4(0x33b)]+_0x5aede4(0x323))[_0x5aede4(0x6a3)](_0x39bdb5);return _0x1b701a||(await _0x31d71c[_0x5aede4(0x678)]({})['toArray']())['length']>0x0;}return _0x1b701a||(0x0,ma[_0x5aede4(0x65f)])((0x0,fa['join'])(he,_0x39bdb5));}async function wa(_0x386eb4,_0x1bee78,_0xbb2476){const _0x5667c9=a0_0x4ff83f;if(_0x386eb4[_0x5667c9(0x7ea)][_0x5667c9(0x713)]('/instance/create')||_0x386eb4[_0x5667c9(0x7ea)][_0x5667c9(0x713)](_0x5667c9(0x2cd))||_0x386eb4[_0x5667c9(0x7ea)][_0x5667c9(0x713)](_0x5667c9(0x64e))||_0x386eb4['originalUrl'][_0x5667c9(0x713)](_0x5667c9(0x5e0))||_0x386eb4[_0x5667c9(0x7ea)][_0x5667c9(0x713)](_0x5667c9(0x300))||_0x386eb4[_0x5667c9(0x7ea)][_0x5667c9(0x713)]('/instance/connectionState')||_0x386eb4['originalUrl'][_0x5667c9(0x713)](_0x5667c9(0x2f6)))return _0xbb2476();let _0x442df9=_0x386eb4[_0x5667c9(0x25e)];if(!_0x442df9?.[_0x5667c9(0x532)])throw new m(_0x5667c9(0x20d));if(!await We(_0x442df9[_0x5667c9(0x532)]))throw new k(_0x5667c9(0x305)+_0x442df9[_0x5667c9(0x532)]+_0x5667c9(0x5b9));_0xbb2476();}async function ya(_0x5ec1f4,_0x3febc2,_0x3c31fd){const _0x210759=a0_0x4ff83f;if(_0x5ec1f4[_0x210759(0x7ea)]['includes'](_0x210759(0x3be))){let _0xae4839=_0x5ec1f4[_0x210759(0x6a6)];if(await We(_0xae4839['instanceName']))throw new H(_0x210759(0x617)+_0xae4839[_0x210759(0x532)]+_0x210759(0x6b6));V['waInstances'][_0xae4839[_0x210759(0x532)]]&&delete V[_0x210759(0x31a)][_0xae4839[_0x210759(0x532)]];}_0x3c31fd();}var ba=require(a0_0x4ff83f(0x37c)),Sa=T(require(a0_0x4ff83f(0x50b))),ze=a0_0x4ff83f(0x5df),ii=new v('GUARD');async function oi(_0x227b41,_0x296a6e,_0x3bd38f){const _0x5f372b=a0_0x4ff83f;let _0x2ad63f=_0x227b41['get'](_0x5f372b(0x352));if(_0x2ad63f&&b['get'](_0x5f372b(0x29e))[_0x5f372b(0x43e)][_0x5f372b(0x67d)]!==_0x2ad63f)throw new Z();if(b[_0x5f372b(0x605)]('AUTHENTICATION')[_0x5f372b(0x43e)][_0x5f372b(0x67d)]===_0x2ad63f)return _0x3bd38f();if((_0x227b41[_0x5f372b(0x7ea)][_0x5f372b(0x713)]('/instance/create')||_0x227b41[_0x5f372b(0x7ea)]['includes'](_0x5f372b(0x2cd)))&&!_0x2ad63f)throw new H(_0x5f372b(0x4d4),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x2cf88c=b[_0x5f372b(0x605)](_0x5f372b(0x29e))[_0x5f372b(0x1ce)];try{let [_0x25bacd,_0x51e746]=_0x227b41['get'](_0x5f372b(0x1eb))[_0x5f372b(0x290)]('\x20');if(_0x25bacd[_0x5f372b(0x6f9)]()!==_0x5f372b(0x506))throw new Z();if(!(0x0,ba[_0x5f372b(0x3f9)])(_0x51e746))throw new Z();let _0x792e06=_0x227b41[_0x5f372b(0x25e)],_0x29232a=Sa[_0x5f372b(0x604)]['verify'](_0x51e746,_0x2cf88c[_0x5f372b(0x18a)],{'ignoreExpiration':_0x2cf88c[_0x5f372b(0x66e)]===0x0});if(_0x792e06[_0x5f372b(0x532)]!==_0x29232a[_0x5f372b(0x532)]||ze!==_0x29232a[_0x5f372b(0x7d9)])throw new Z();return _0x3bd38f();}catch(_0x32752a){throw ii[_0x5f372b(0x57f)](_0x32752a),new Z();}}async function ni(_0x2d0835,_0x1c5968,_0x148e03){const _0x5413c7=a0_0x4ff83f;let _0x48016e=b['get'](_0x5413c7(0x29e))[_0x5413c7(0x43e)],_0x45f47c=_0x2d0835[_0x5413c7(0x605)](_0x5413c7(0x352));if(_0x48016e['KEY']===_0x45f47c)return _0x148e03();if(_0x2d0835['originalUrl'][_0x5413c7(0x713)](_0x5413c7(0x3be))){let _0x13d6f5=He,_0x1928c2=_0x2d0835['body'][_0x5413c7(0x532)];if(_0x13d6f5&&_0x1928c2[_0x5413c7(0x6f9)]()[_0x5413c7(0x45a)](_0x13d6f5['toLowerCase']()))return _0x148e03();if(!_0x45f47c)throw new H(_0x5413c7(0x4d4),_0x5413c7(0x195));}if(_0x2d0835[_0x5413c7(0x7ea)][_0x5413c7(0x713)](_0x5413c7(0x2cd))&&!_0x45f47c)throw new H(_0x5413c7(0x4d4),_0x5413c7(0x195));if(_0x2d0835[_0x5413c7(0x7ea)][_0x5413c7(0x713)](_0x5413c7(0x64e))&&!_0x45f47c)throw new H(_0x5413c7(0x4d4),_0x5413c7(0x195));if(_0x2d0835[_0x5413c7(0x7ea)][_0x5413c7(0x713)](_0x5413c7(0x5e0))&&!_0x45f47c)throw new H(_0x5413c7(0x4d4),_0x5413c7(0x195));try{let _0x8c76b7=_0x2d0835['params'];if((await ce[_0x5413c7(0x234)]['find'](_0x8c76b7[_0x5413c7(0x532)]))[_0x5413c7(0x352)]===_0x45f47c)return _0x148e03();}catch{}throw new Z();}var Ea={'jwt':oi,'apikey':ni},tr=require(a0_0x4ff83f(0x74e)),C=require(a0_0x4ff83f(0x721)),E=(..._0x1a2e33)=>{const _0x28735b=a0_0x4ff83f;let _0x3a595f={};return _0x1a2e33[_0x28735b(0x4bf)](_0x143140=>_0x3a595f[_0x143140]={'minLength':0x1,'description':_0x28735b(0x577)+_0x143140+_0x28735b(0x7b4)}),{'if':{'propertyNames':{'enum':[..._0x1a2e33]}},'then':{'properties':_0x3a595f}};},M={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'instanceName':{'type':'string'}},...E(a0_0x4ff83f(0x532))},Kn={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'oldToken':{'type':'string'}},'required':[a0_0x4ff83f(0x6c5)],...E(a0_0x4ff83f(0x6c5))},Qn={'properties':{'key':{'type':a0_0x4ff83f(0x29b),'properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x4ff83f(0x7ec),'enum':[!0x0,!0x1]}},'required':['id','remoteJid','fromMe'],...E('id',a0_0x4ff83f(0x246))},'message':{'type':a0_0x4ff83f(0x29b)}}},K={'properties':{'delay':{'type':a0_0x4ff83f(0x336),'description':a0_0x4ff83f(0x1b2)},'presence':{'type':a0_0x4ff83f(0x27d),'enum':[a0_0x4ff83f(0x7f9),'available','composing',a0_0x4ff83f(0x34d),a0_0x4ff83f(0x373)]}}},W={'type':a0_0x4ff83f(0x27d),'pattern':a0_0x4ff83f(0x4e0),'description':a0_0x4ff83f(0x403)},Ca={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'number':{...W},'options':{...K},'textMessage':{'type':a0_0x4ff83f(0x29b),'properties':{'text':{'type':'string'}},'required':['text'],...E(a0_0x4ff83f(0x7ee))}},'required':[a0_0x4ff83f(0x63b),'number']},Ma={'type':'string','pattern':a0_0x4ff83f(0x7f4),'description':a0_0x4ff83f(0x403)},Yn={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'number':{...Ma},'options':{...K},'textMessage':{'type':a0_0x4ff83f(0x29b),'properties':{'text':{'type':'string'}},'required':[a0_0x4ff83f(0x7ee)],...E(a0_0x4ff83f(0x7ee))}},'required':[a0_0x4ff83f(0x63b),a0_0x4ff83f(0x528)]},Xn={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'number':{...Ma},'options':{...K},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x4ff83f(0x27d),'enum':['image',a0_0x4ff83f(0x4f0),a0_0x4ff83f(0x495),a0_0x4ff83f(0x7c8)]},'media':{'type':'string'},'fileName':{'type':'string'},'caption':{'type':a0_0x4ff83f(0x27d)}},'required':[a0_0x4ff83f(0x34c),'media'],...E('fileName',a0_0x4ff83f(0x440),a0_0x4ff83f(0x688))}},'required':[a0_0x4ff83f(0x3f3),a0_0x4ff83f(0x528)]},va={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'number':{...W},'options':{...K},'stickerMessage':{'type':a0_0x4ff83f(0x29b),'properties':{'image':{'type':a0_0x4ff83f(0x27d)}},'required':[a0_0x4ff83f(0x1bd)],...E(a0_0x4ff83f(0x1bd))}},'required':[a0_0x4ff83f(0x73f),'number']},Na={'$id':(0x0,C['v4'])(),'type':'object','properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x4ff83f(0x27d),'enum':['text',a0_0x4ff83f(0x1bd),a0_0x4ff83f(0x7c8),a0_0x4ff83f(0x495)]},'content':{'type':'string'},'caption':{'type':a0_0x4ff83f(0x27d)},'backgroundColor':{'type':a0_0x4ff83f(0x27d)},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x4ff83f(0x510),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4ff83f(0x27d),'pattern':a0_0x4ff83f(0x6e0),'description':a0_0x4ff83f(0x5d1)}},'allContacts':{'type':a0_0x4ff83f(0x7ec),'enum':[!0x0,!0x1]}},'required':[a0_0x4ff83f(0x464),'content'],...E(a0_0x4ff83f(0x464),a0_0x4ff83f(0x6ba))}},'required':[a0_0x4ff83f(0x3ba)]},Ra={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x4ff83f(0x27d),'enum':[a0_0x4ff83f(0x1bd),a0_0x4ff83f(0x4f0),a0_0x4ff83f(0x495),'audio']},'media':{'type':a0_0x4ff83f(0x27d)},'fileName':{'type':'string'},'caption':{'type':a0_0x4ff83f(0x27d)}},'required':[a0_0x4ff83f(0x34c),'media'],...E(a0_0x4ff83f(0x2fb),a0_0x4ff83f(0x440),a0_0x4ff83f(0x688))}},'required':[a0_0x4ff83f(0x3f3),a0_0x4ff83f(0x528)]},Ta={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'audioMessage':{'type':a0_0x4ff83f(0x29b),'properties':{'audio':{'type':a0_0x4ff83f(0x27d)}},'required':['audio'],...E(a0_0x4ff83f(0x7c8))}},'required':['audioMessage',a0_0x4ff83f(0x528)]},Oa={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'number':{...W},'pollMessage':{'type':a0_0x4ff83f(0x29b),'properties':{'name':{'type':a0_0x4ff83f(0x27d)},'selectableCount':{'type':a0_0x4ff83f(0x528)},'values':{'type':a0_0x4ff83f(0x510),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x4ff83f(0x1c3),a0_0x4ff83f(0x772),a0_0x4ff83f(0x6e5)],...E(a0_0x4ff83f(0x1c3),a0_0x4ff83f(0x772),a0_0x4ff83f(0x6e5))}},'required':[a0_0x4ff83f(0x528),a0_0x4ff83f(0x280)]},Aa={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'number':{...W},'menuMessage':{'type':a0_0x4ff83f(0x29b),'properties':{'text':{'type':a0_0x4ff83f(0x27d)},'choices':{'type':a0_0x4ff83f(0x510),'minItems':0x2,'uniqueItems':!0x0}},'required':['text','choices'],...E(a0_0x4ff83f(0x7ee),'choices')}},'required':[a0_0x4ff83f(0x528),a0_0x4ff83f(0x4a7)]},Ia={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'number':{...W},'options':{...K},'buttonMessage':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':'string'},'footerText':{'type':a0_0x4ff83f(0x27d)},'buttons':{'type':a0_0x4ff83f(0x510),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4ff83f(0x29b),'properties':{'buttonText':{'type':a0_0x4ff83f(0x27d)},'buttonId':{'type':'string'}},'required':[a0_0x4ff83f(0x58f),a0_0x4ff83f(0x5a3)],...E(a0_0x4ff83f(0x58f),a0_0x4ff83f(0x5a3))}},'mediaMessage':{'type':a0_0x4ff83f(0x29b),'properties':{'media':{'type':'string'},'fileName':{'type':a0_0x4ff83f(0x27d)},'mediatype':{'type':a0_0x4ff83f(0x27d),'enum':[a0_0x4ff83f(0x1bd),'document',a0_0x4ff83f(0x495)]}},'required':[a0_0x4ff83f(0x688),a0_0x4ff83f(0x34c)],...E(a0_0x4ff83f(0x688),'fileName')}},'required':[a0_0x4ff83f(0x4af),a0_0x4ff83f(0x2d0)],...E('title',a0_0x4ff83f(0x58c))}},'required':[a0_0x4ff83f(0x528),'buttonMessage']},xa={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'number':{...W},'options':{...K},'locationMessage':{'type':'object','properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x4ff83f(0x528)},'name':{'type':a0_0x4ff83f(0x27d)},'address':{'type':a0_0x4ff83f(0x27d)}},'required':[a0_0x4ff83f(0x67f),a0_0x4ff83f(0x2f5)],...E(a0_0x4ff83f(0x1c3),a0_0x4ff83f(0x3b1))}},'required':[a0_0x4ff83f(0x528),a0_0x4ff83f(0x6cf)]},Da={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'number':{...W},'options':{...K},'listMessage':{'type':a0_0x4ff83f(0x29b),'properties':{'title':{'type':a0_0x4ff83f(0x27d)},'description':{'type':a0_0x4ff83f(0x27d)},'footerText':{'type':a0_0x4ff83f(0x27d)},'buttonText':{'type':a0_0x4ff83f(0x27d)},'sections':{'type':a0_0x4ff83f(0x510),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x4ff83f(0x27d)},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4ff83f(0x29b),'properties':{'title':{'type':a0_0x4ff83f(0x27d)},'description':{'type':a0_0x4ff83f(0x27d)},'rowId':{'type':'string'}},'required':[a0_0x4ff83f(0x4af),'rowId'],...E(a0_0x4ff83f(0x4af),a0_0x4ff83f(0x34f))}}},'required':[a0_0x4ff83f(0x4af),'rows'],...E(a0_0x4ff83f(0x4af))}}},'required':[a0_0x4ff83f(0x4af),a0_0x4ff83f(0x58c),'buttonText',a0_0x4ff83f(0x75a)],...E(a0_0x4ff83f(0x4af),a0_0x4ff83f(0x58c),'buttonText',a0_0x4ff83f(0x792))}},'required':[a0_0x4ff83f(0x528),a0_0x4ff83f(0x6e3)]},_a={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'number':{...W},'options':{...K},'contactMessage':{'type':a0_0x4ff83f(0x510),'items':{'type':a0_0x4ff83f(0x29b),'properties':{'fullName':{'type':a0_0x4ff83f(0x27d)},'phoneNumber':{'type':a0_0x4ff83f(0x27d),'minLength':0xa}},'required':[a0_0x4ff83f(0x3d2),'phoneNumber'],...E(a0_0x4ff83f(0x3d2))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x4ff83f(0x528),a0_0x4ff83f(0x76c)]},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'reactionMessage':{'type':a0_0x4ff83f(0x29b),'properties':{'key':{'type':a0_0x4ff83f(0x29b),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x4ff83f(0x27d)},'fromMe':{'type':a0_0x4ff83f(0x7ec),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x4ff83f(0x70c)],...E('id',a0_0x4ff83f(0x246))},'reaction':{'type':'string'}},'required':['key',a0_0x4ff83f(0x6b5)],...E(a0_0x4ff83f(0x6b5))}},'required':[a0_0x4ff83f(0x648)]},$a={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'numbers':{'type':a0_0x4ff83f(0x510),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4ff83f(0x27d),'pattern':a0_0x4ff83f(0x6e0),'description':a0_0x4ff83f(0x64c)}}}},ka={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'readMessages':{'type':a0_0x4ff83f(0x510),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x4ff83f(0x27d)},'fromMe':{'type':a0_0x4ff83f(0x7ec),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x4ff83f(0x27d)}},'required':['id','fromMe',a0_0x4ff83f(0x246)],...E('id',a0_0x4ff83f(0x246))}}},'required':[a0_0x4ff83f(0x2c3)]},La={'$id':(0x0,C['v4'])(),'type':'object','properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':a0_0x4ff83f(0x27d),'enum':[a0_0x4ff83f(0x5b2),'none']},'profile':{'type':'string','enum':[a0_0x4ff83f(0x5b2),a0_0x4ff83f(0x4b0),a0_0x4ff83f(0x588),a0_0x4ff83f(0x25b)]},'status':{'type':a0_0x4ff83f(0x27d),'enum':[a0_0x4ff83f(0x5b2),a0_0x4ff83f(0x4b0),a0_0x4ff83f(0x588),a0_0x4ff83f(0x25b)]},'online':{'type':a0_0x4ff83f(0x27d),'enum':['all','match_last_seen']},'last':{'type':'string','enum':[a0_0x4ff83f(0x5b2),a0_0x4ff83f(0x4b0),a0_0x4ff83f(0x588),'none']},'groupadd':{'type':a0_0x4ff83f(0x27d),'enum':[a0_0x4ff83f(0x5b2),a0_0x4ff83f(0x4b0),a0_0x4ff83f(0x588),a0_0x4ff83f(0x25b)]}},'required':[a0_0x4ff83f(0x3ac),'profile',a0_0x4ff83f(0x728),a0_0x4ff83f(0x517),a0_0x4ff83f(0x5cd),a0_0x4ff83f(0x39f)],...E(a0_0x4ff83f(0x3ac),a0_0x4ff83f(0x1ad),a0_0x4ff83f(0x728),'online','last','groupadd')}},'required':['privacySettings']},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':a0_0x4ff83f(0x29b),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x4ff83f(0x27d)},'fromMe':{'type':a0_0x4ff83f(0x7ec),'enum':[!0x0,!0x1]}},'required':['id',a0_0x4ff83f(0x70c),a0_0x4ff83f(0x246)],...E('id',a0_0x4ff83f(0x246))},'messageTimestamp':{'type':a0_0x4ff83f(0x336),'minLength':0x1}},'required':[a0_0x4ff83f(0x657)],...E(a0_0x4ff83f(0x2b4))},'archive':{'type':a0_0x4ff83f(0x7ec),'enum':[!0x0,!0x1]}},'required':[a0_0x4ff83f(0x7b6),'archive']},ja={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x4ff83f(0x7ec),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x4ff83f(0x27d)},'participant':{'type':a0_0x4ff83f(0x27d)}},'required':['id',a0_0x4ff83f(0x70c),a0_0x4ff83f(0x246)],...E('id',a0_0x4ff83f(0x246),a0_0x4ff83f(0x1da))},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'where':{'type':a0_0x4ff83f(0x29b),'properties':{'_id':{'type':a0_0x4ff83f(0x27d),'minLength':0x1},'pushName':{'type':a0_0x4ff83f(0x27d),'minLength':0x1},'id':{'type':'string','minLength':0x1}},...E(a0_0x4ff83f(0x572),'id',a0_0x4ff83f(0x630))}}},qa={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'name':{'type':a0_0x4ff83f(0x27d)}},...E(a0_0x4ff83f(0x1c3))},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'status':{'type':'string'}},...E(a0_0x4ff83f(0x728))},be={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'number':{'type':a0_0x4ff83f(0x27d)},'picture':{'type':'string'}}},Va={'type':a0_0x4ff83f(0x29b),'properties':{'wuid':{'type':a0_0x4ff83f(0x27d)},'name':{'type':a0_0x4ff83f(0x27d)},'picture':{'type':a0_0x4ff83f(0x27d)},'status':{'type':a0_0x4ff83f(0x27d)},'isBusiness':{'type':a0_0x4ff83f(0x7ec)}}},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'where':{'type':a0_0x4ff83f(0x29b),'properties':{'_id':{'type':a0_0x4ff83f(0x27d),'minLength':0x1},'key':{'type':a0_0x4ff83f(0x29b),'if':{'propertyNames':{'enum':['fromMe',a0_0x4ff83f(0x246),'id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0x4ff83f(0x5a1)},'id':{'type':a0_0x4ff83f(0x27d),'minLength':0x1,'description':a0_0x4ff83f(0x5a1)},'fromMe':{'type':a0_0x4ff83f(0x7ec),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x4ff83f(0x29b)}},...E(a0_0x4ff83f(0x572))},'limit':{'type':a0_0x4ff83f(0x336)}}},Zn={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x4ff83f(0x27d)},'remoteJid':{'type':a0_0x4ff83f(0x27d)},'id':{'type':a0_0x4ff83f(0x27d)},'fromMe':{'type':a0_0x4ff83f(0x7ec),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x4ff83f(0x27d)},'status':{'type':a0_0x4ff83f(0x27d),'enum':[a0_0x4ff83f(0x3a0),a0_0x4ff83f(0x676),a0_0x4ff83f(0x5b3),'DELIVERY_ACK','READ',a0_0x4ff83f(0x4eb)]}},...E(a0_0x4ff83f(0x572),'remoteJid','id','status')},'limit':{'type':'integer'}}},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'number':{...W},'presence':{'type':a0_0x4ff83f(0x27d),'enum':[a0_0x4ff83f(0x7f9),a0_0x4ff83f(0x275),a0_0x4ff83f(0x3ca),a0_0x4ff83f(0x34d),'paused']}},'required':[a0_0x4ff83f(0x2de),'number']},Wa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'subject':{'type':a0_0x4ff83f(0x27d)},'description':{'type':a0_0x4ff83f(0x27d)},'profilePicture':{'type':a0_0x4ff83f(0x27d)},'participants':{'type':a0_0x4ff83f(0x510),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4ff83f(0x27d),'minLength':0xa,'pattern':a0_0x4ff83f(0x26d),'description':a0_0x4ff83f(0x826)}}},'required':[a0_0x4ff83f(0x259),a0_0x4ff83f(0x80f)],...E(a0_0x4ff83f(0x259),a0_0x4ff83f(0x58c),a0_0x4ff83f(0x18e))},Se={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4ff83f(0x27d),'pattern':a0_0x4ff83f(0x5d8)}},'required':[a0_0x4ff83f(0x5dc)],...E(a0_0x4ff83f(0x5dc))},za={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'groupJid':{'type':a0_0x4ff83f(0x27d)},'action':{'type':'string','enum':[a0_0x4ff83f(0x490),a0_0x4ff83f(0x467),'promote',a0_0x4ff83f(0x7d1)]},'participants':{'type':a0_0x4ff83f(0x510),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4ff83f(0x27d),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x4ff83f(0x826)}}},'required':[a0_0x4ff83f(0x5dc),a0_0x4ff83f(0x358),'participants'],...E(a0_0x4ff83f(0x5dc),'action')},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'groupJid':{'type':a0_0x4ff83f(0x27d)},'expiration':{'type':a0_0x4ff83f(0x528),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x4ff83f(0x5dc),a0_0x4ff83f(0x36c)],...E(a0_0x4ff83f(0x5dc),a0_0x4ff83f(0x36c))},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'groupJid':{'type':a0_0x4ff83f(0x27d)},'image':{'type':'string'}},'required':['groupJid',a0_0x4ff83f(0x1bd)],...E('groupJid',a0_0x4ff83f(0x1bd))},Qa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4ff83f(0x27d)},'description':{'type':a0_0x4ff83f(0x27d)}},'required':['groupJid',a0_0x4ff83f(0x58c)],...E(a0_0x4ff83f(0x5dc),a0_0x4ff83f(0x58c))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'groupJid':{'type':a0_0x4ff83f(0x27d)},'name':{'type':a0_0x4ff83f(0x27d)}},'required':[a0_0x4ff83f(0x5dc),a0_0x4ff83f(0x1c3)],...E(a0_0x4ff83f(0x5dc),a0_0x4ff83f(0x1c3))},Xa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4ff83f(0x27d)},'setting':{'type':'string','enum':[a0_0x4ff83f(0x7af),a0_0x4ff83f(0x800),a0_0x4ff83f(0x5ad),a0_0x4ff83f(0x377)]}},'required':[a0_0x4ff83f(0x5dc),a0_0x4ff83f(0x191)],...E(a0_0x4ff83f(0x5dc),'setting')},Za={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'inviteCode':{'type':'string'}},'required':['inviteCode'],...E('inviteCode')},er={'$id':(0x0,C['v4'])(),'type':a0_0x4ff83f(0x29b),'properties':{'url':{'type':a0_0x4ff83f(0x27d)},'enabled':{'type':a0_0x4ff83f(0x7ec),'enum':[!0x0,!0x1]}},'required':[a0_0x4ff83f(0x6d8),'enabled']},ec={'$id':(0x0,C['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x4ff83f(0x7ec),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x4ff83f(0x7ec),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x4ff83f(0x7ec),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x4ff83f(0x7ec),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x4ff83f(0x7ec),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x4ff83f(0x7ec),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x4ff83f(0x7ec),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x4ff83f(0x7ec),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x4ff83f(0x7ec),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x4ff83f(0x7ec),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x4ff83f(0x7ec),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x4ff83f(0x7ec),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x4ff83f(0x7ec),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x4ff83f(0x7ec),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x4ff83f(0x7ec),'enum':[!0x0,!0x1]}},'required':[a0_0x4ff83f(0x3a1),a0_0x4ff83f(0x1d7),a0_0x4ff83f(0x6b4),a0_0x4ff83f(0x67a),'MESSAGES_UPDATE',a0_0x4ff83f(0x54c),a0_0x4ff83f(0x69e),a0_0x4ff83f(0x4a1),a0_0x4ff83f(0x44a),a0_0x4ff83f(0x538),'PRESENCE_UPDATE',a0_0x4ff83f(0x4b2),a0_0x4ff83f(0x690),a0_0x4ff83f(0x791),'CHATS_DELETE',a0_0x4ff83f(0x1f8),'GROUPS_UPSERT',a0_0x4ff83f(0x308),'GROUP_PARTICIPANTS_UPDATE'],...E('local_map','STATUS_INSTANCE',a0_0x4ff83f(0x6b4),'MESSAGES_SET',a0_0x4ff83f(0x69d),'MESSAGES_UPSERT','SEND_MESSAGE',a0_0x4ff83f(0x4a1),a0_0x4ff83f(0x44a),'CONTACTS_UPDATE',a0_0x4ff83f(0x7d3),a0_0x4ff83f(0x4b2),a0_0x4ff83f(0x690),'CHATS_UPDATE',a0_0x4ff83f(0x766),'CONNECTION_UPDATE',a0_0x4ff83f(0x74c),a0_0x4ff83f(0x308),a0_0x4ff83f(0x819))},Ke=class{},Qe=class extends x{[a0_0x4ff83f(0x3ad)](_0x2f87fb){return Bs(_0x2f87fb);}async[a0_0x4ff83f(0x76a)](_0x3e8616){const _0x4c2f0f=a0_0x4ff83f;if(_0x3e8616[_0x4c2f0f(0x78e)]!==0x0)try{return{'insertCount':(await this[_0x4c2f0f(0x3ad)](_0x3e8616[0x0][_0x4c2f0f(0x343)])[_0x4c2f0f(0x344)]([..._0x3e8616]))[_0x4c2f0f(0x78e)]};}catch(_0x2beb24){return _0x2beb24;}}async[a0_0x4ff83f(0x335)](_0x5e1ed5,_0x31fd4f){const _0x3e1620=a0_0x4ff83f;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x31fd4f)[_0x3e1620(0x1d1)]({..._0x5e1ed5[_0x3e1620(0x4d7)]}))['deletedCount']};}catch(_0x585afd){return{'error':_0x585afd?.[_0x3e1620(0x552)]()};}}async[a0_0x4ff83f(0x416)](_0x1dfe73,_0x51692e){const _0x1c96e7=a0_0x4ff83f;try{if(_0x1dfe73['length']===0x0)return;let _0x1df74f=this[_0x1c96e7(0x3ad)](_0x51692e),_0x12d81c=_0x1dfe73[_0x1c96e7(0x5c3)](_0x14a69c=>({'updateOne':{'filter':{'_id':_0x14a69c[_0x1c96e7(0x572)],'owner':_0x51692e},'update':{..._0x14a69c}}})),{modifiedCount:_0x33c4e5}=await _0x1df74f[_0x1c96e7(0x445)](_0x12d81c);return{'insertCount':_0x33c4e5};}catch{return;}}async[a0_0x4ff83f(0x678)](_0x1ab741,_0x1ceca8){const _0x56c13c=a0_0x4ff83f;try{let _0x3ef613=this[_0x56c13c(0x3ad)](_0x1ceca8),_0x2dcded=A(_0x1ab741[_0x56c13c(0x4d7)]);return await _0x3ef613[_0x56c13c(0x678)](_0x2dcded)[_0x56c13c(0x554)](_0x1ab741?.[_0x56c13c(0x554)]??0x0)[_0x56c13c(0x1a7)]();}catch{return[];}}async['findOne'](_0x2a2bd6,_0x3667e2){const _0x41776f=a0_0x4ff83f;try{let _0x27ab37=this[_0x41776f(0x3ad)](_0x3667e2),_0x173275=A(_0x2a2bd6[_0x41776f(0x4d7)]);return await _0x27ab37[_0x41776f(0x64f)](_0x173275)[_0x41776f(0x1a7)]();}catch{return null;}}async[a0_0x4ff83f(0x4ad)](_0xa9af26){const _0x35dd61=a0_0x4ff83f;try{return await this[_0x35dd61(0x3ad)](_0xa9af26)['collection'][_0x35dd61(0x24a)](),{'success':!0x0};}catch(_0x450c10){return console[_0x35dd61(0x57f)](_0x450c10),{'success':!0x1,'error':_0x450c10};}}},Ye=require(a0_0x4ff83f(0x307)),lc=require(a0_0x4ff83f(0x825)),ps=new v(a0_0x4ff83f(0x381)),U=class{[a0_0x4ff83f(0x72d)](_0x1b883a,_0x1ec872=!0x0){const _0x1aa016=a0_0x4ff83f;let _0x1f0f5d='/'+_0x1b883a;return _0x1ec872&&(_0x1f0f5d+=_0x1aa016(0x4c7)),_0x1f0f5d;}async[a0_0x4ff83f(0x293)](_0x208f6b){const _0x16703c=a0_0x4ff83f;let {request:_0x9b8930,schema:_0x564211,ClassRef:_0x4e97d4,execute:_0x5d68f7}=_0x208f6b,_0x246ca2=new _0x4e97d4(),_0x3e7fdd=_0x9b8930[_0x16703c(0x6a6)],_0x5133a3=_0x9b8930['params'];_0x9b8930?.['query']&&Object[_0x16703c(0x356)](_0x9b8930[_0x16703c(0x566)])['length']>0x0&&Object[_0x16703c(0x2dc)](_0x5133a3,_0x9b8930[_0x16703c(0x566)]),_0x9b8930['originalUrl'][_0x16703c(0x713)](_0x16703c(0x3be))&&Object[_0x16703c(0x2dc)](_0x5133a3,_0x3e7fdd),Object[_0x16703c(0x2dc)](_0x246ca2,_0x3e7fdd);let _0x294279=_0x564211?(0x0,Ye[_0x16703c(0x19c)])(_0x246ca2,_0x564211):{'valid':!0x0,'errors':[]};if(!_0x294279[_0x16703c(0x3e1)]){let _0x57346f=_0x294279['errors'][_0x16703c(0x5c3)](({property:_0x54d81b,stack:_0x2d862c,schema:_0x306f09})=>{const _0x2d7774=_0x16703c;let _0xc684aa;return _0x306f09[_0x2d7774(0x58c)]?_0xc684aa=_0x306f09[_0x2d7774(0x58c)]:_0xc684aa=_0x2d862c[_0x2d7774(0x707)](_0x2d7774(0x214),''),{'property':_0x54d81b['replace']('instance.',''),'message':_0xc684aa};});throw ps[_0x16703c(0x57f)]([..._0x57346f]),new m(..._0x57346f);}return await _0x5d68f7(_0x5133a3,_0x246ca2);}async['groupValidate'](_0x314c5c){const _0x5a0e84=a0_0x4ff83f;let {request:_0x25962a,ClassRef:_0x27046c,schema:_0x2901fa,execute:_0x46a8d9}=_0x314c5c,_0x5462f2=_0x25962a[_0x5a0e84(0x566)];if(!_0x5462f2?.[_0x5a0e84(0x5dc)])throw new m(_0x5a0e84(0x7a7),_0x5a0e84(0x812));let _0x3ba2b6=_0x25962a[_0x5a0e84(0x25e)],_0x17a3b6=_0x25962a[_0x5a0e84(0x6a6)],_0x451318=new _0x27046c();Object[_0x5a0e84(0x2dc)](_0x17a3b6,_0x5462f2),Object[_0x5a0e84(0x2dc)](_0x451318,_0x17a3b6);let _0xdece52=(0x0,Ye[_0x5a0e84(0x19c)])(_0x451318,_0x2901fa);if(!_0xdece52[_0x5a0e84(0x3e1)]){let _0x5d25fb=_0xdece52['errors']['map'](({property:_0x556ba3,stack:_0x157407,schema:_0x1e8da4})=>{const _0x46959b=_0x5a0e84;let _0x2adc11;return _0x1e8da4[_0x46959b(0x58c)]?_0x2adc11=_0x1e8da4[_0x46959b(0x58c)]:_0x2adc11=_0x157407[_0x46959b(0x707)](_0x46959b(0x214),''),{'property':_0x556ba3[_0x46959b(0x707)](_0x46959b(0x214),''),'message':_0x2adc11};});throw ps['error']([..._0x5d25fb]),new m(..._0x5d25fb);}return await _0x46a8d9(_0x3ba2b6,_0x451318);}async[a0_0x4ff83f(0x72b)](_0x250fab){const _0x800ccf=a0_0x4ff83f;let {request:_0x186acc,ClassRef:_0x375ef5,schema:_0x8be5ca,execute:_0x3a96ad}=_0x250fab,_0xf4f454=_0x186acc[_0x800ccf(0x6a6)];if(!_0xf4f454?.['inviteCode'])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x800ccf(0x434));let _0x5290db=_0x186acc[_0x800ccf(0x25e)],_0x545df3=_0x186acc['body'],_0x40177f=new _0x375ef5();Object['assign'](_0x545df3,_0xf4f454),Object['assign'](_0x40177f,_0x545df3);let _0x4d0d44=(0x0,Ye['validate'])(_0x40177f,_0x8be5ca);if(!_0x4d0d44['valid']){let _0x429402=_0x4d0d44[_0x800ccf(0x611)][_0x800ccf(0x5c3)](({property:_0x15973e,stack:_0x2d4bb6,schema:_0x278110})=>{const _0x2a3198=_0x800ccf;let _0x59784d;return _0x278110['description']?_0x59784d=_0x278110[_0x2a3198(0x58c)]:_0x59784d=_0x2d4bb6[_0x2a3198(0x707)](_0x2a3198(0x214),''),{'property':_0x15973e[_0x2a3198(0x707)](_0x2a3198(0x214),''),'message':_0x59784d};});throw ps[_0x800ccf(0x57f)]([..._0x429402]),new m(..._0x429402);}return await _0x3a96ad(_0x5290db,_0x40177f);}},S=class{},vc=new v(a0_0x4ff83f(0x46c)),Xe=class extends U{constructor(..._0xe6046f){const _0x45e3ca=a0_0x4ff83f;super(),this[_0x45e3ca(0x1a9)]=(0x0,tr[_0x45e3ca(0x6b0)])(),this[_0x45e3ca(0x1a9)][_0x45e3ca(0x215)](this['routerPath'](_0x45e3ca(0x45d)),..._0xe6046f,async(_0x1796d4,_0x47daca)=>{const _0x13afd7=_0x45e3ca;let _0x1df176=await this['dataValidate']({'request':_0x1796d4,'schema':Ga,'ClassRef':Fe,'execute':(_0x21dde0,_0x8f8f9c)=>D[_0x13afd7(0x45d)](_0x21dde0,_0x8f8f9c)});return _0x47daca['status'](0xc9)[_0x13afd7(0x776)](_0x1df176);})['post'](this[_0x45e3ca(0x72d)](_0x45e3ca(0x2c1)),..._0xe6046f,async(_0x563730,_0x403d5a)=>{const _0x54a7a3=_0x45e3ca;let _0x372ff1=await this[_0x54a7a3(0x293)]({'request':_0x563730,'schema':$a,'ClassRef':je,'execute':(_0x5170e8,_0x280767)=>D[_0x54a7a3(0x6ff)](_0x5170e8,_0x280767)});return _0x403d5a['status'](0xc9)[_0x54a7a3(0x776)](_0x372ff1);})['post'](this[_0x45e3ca(0x72d)]('editChat'),..._0xe6046f,async(_0x5645de,_0x6fc3d0)=>{const _0x1ede22=_0x45e3ca;let _0x34bb8d=await this[_0x1ede22(0x293)]({'request':_0x5645de,'schema':M,'ClassRef':S,'execute':(_0x371ac1,_0x213c1d)=>D[_0x1ede22(0x699)](_0x371ac1,_0x213c1d)});return _0x6fc3d0['status'](0xc9)[_0x1ede22(0x776)](_0x34bb8d);})[_0x45e3ca(0x49d)](this[_0x45e3ca(0x72d)](_0x45e3ca(0x444)),..._0xe6046f,async(_0x239dd6,_0xf77d8a)=>{const _0x52f5e0=_0x45e3ca;let _0x4eb30c=await this[_0x52f5e0(0x293)]({'request':_0x239dd6,'schema':ka,'ClassRef':Je,'execute':(_0x4696dc,_0x5a6fd0)=>D[_0x52f5e0(0x525)](_0x4696dc,_0x5a6fd0)});return _0xf77d8a[_0x52f5e0(0x728)](0xc9)[_0x52f5e0(0x776)](_0x4eb30c);})[_0x45e3ca(0x49d)](this[_0x45e3ca(0x72d)]('archiveChat'),..._0xe6046f,async(_0x2fbcdf,_0x47bea0)=>{const _0x486dcb=_0x45e3ca;let _0x21aad2=await this[_0x486dcb(0x293)]({'request':_0x2fbcdf,'schema':Fa,'ClassRef':Ve,'execute':(_0xd22b03,_0x32f295)=>D[_0x486dcb(0x3d3)](_0xd22b03,_0x32f295)});return _0x47bea0[_0x486dcb(0x728)](0xc9)[_0x486dcb(0x776)](_0x21aad2);})[_0x45e3ca(0x335)](this[_0x45e3ca(0x72d)](_0x45e3ca(0x197)),..._0xe6046f,async(_0x375618,_0x36b2a5)=>{const _0x34a2ea=_0x45e3ca;let _0x3cdfc1=await this[_0x34a2ea(0x293)]({'request':_0x375618,'schema':ja,'ClassRef':Ge,'execute':(_0x3dba9d,_0x3ea4aa)=>D[_0x34a2ea(0x768)](_0x3dba9d,_0x3ea4aa)});return _0x36b2a5[_0x34a2ea(0x728)](0xc9)['json'](_0x3cdfc1);})[_0x45e3ca(0x215)](this[_0x45e3ca(0x72d)](_0x45e3ca(0x269)),..._0xe6046f,async(_0x2cfe42,_0x44094a)=>{const _0x43e7c2=_0x45e3ca;let _0x7ecec6=await this[_0x43e7c2(0x293)]({'request':_0x2cfe42,'schema':be,'ClassRef':ye,'execute':(_0x59ab38,_0x2c4050)=>D['fetchProfilePicture'](_0x59ab38,_0x2c4050)});return _0x44094a[_0x43e7c2(0x728)](0xc8)[_0x43e7c2(0x776)](_0x7ecec6);})[_0x45e3ca(0x215)](this[_0x45e3ca(0x72d)](_0x45e3ca(0x7b1)),..._0xe6046f,async(_0x5686a2,_0x53b021)=>{const _0x1d3c75=_0x45e3ca;let _0x5df8fc=await this[_0x1d3c75(0x293)]({'request':_0x5686a2,'schema':Va,'ClassRef':ye,'execute':(_0x4fafac,_0x8a518d)=>D[_0x1d3c75(0x7b1)](_0x4fafac,_0x8a518d)});return _0x53b021[_0x1d3c75(0x728)](0xc8)['json'](_0x5df8fc);})[_0x45e3ca(0x215)](this[_0x45e3ca(0x72d)](_0x45e3ca(0x5ee)),..._0xe6046f,async(_0x4baf7b,_0x190c50)=>{const _0x44fe27=_0x45e3ca;let _0x4de82d=await this[_0x44fe27(0x293)]({'request':_0x4baf7b,'schema':Ua,'ClassRef':Ke,'execute':(_0x5341b3,_0x4baf86)=>D[_0x44fe27(0x35b)](_0x5341b3,_0x4baf86)});return _0x190c50[_0x44fe27(0x728)](0xc8)[_0x44fe27(0x776)](_0x4de82d);})[_0x45e3ca(0x215)](this[_0x45e3ca(0x72d)](_0x45e3ca(0x36d)),..._0xe6046f,async(_0x25f645,_0x359e6d)=>{const _0x241216=_0x45e3ca;let _0x4e4bda=await this[_0x241216(0x293)]({'request':_0x25f645,'schema':null,'ClassRef':Object,'execute':(_0x11b091,_0x2e726d)=>D[_0x241216(0x36d)](_0x11b091,_0x2e726d)});return _0x359e6d['status'](0xc9)[_0x241216(0x776)](_0x4e4bda);})['post'](this['routerPath'](_0x45e3ca(0x53f)),..._0xe6046f,async(_0x315730,_0x3e2977)=>{const _0x7e3dcb=_0x45e3ca;let _0x18b5cb=await this[_0x7e3dcb(0x293)]({'request':_0x315730,'schema':Ba,'ClassRef':ke,'execute':(_0x51ec9b,_0x39d726)=>D[_0x7e3dcb(0x6ed)](_0x51ec9b,_0x39d726)});return _0x3e2977[_0x7e3dcb(0x728)](0xc8)[_0x7e3dcb(0x776)](_0x18b5cb);})[_0x45e3ca(0x605)](this[_0x45e3ca(0x72d)](_0x45e3ca(0x4d5)),..._0xe6046f,async(_0x15e4fa,_0x48763f)=>{const _0x395912=_0x45e3ca;let _0xea4f1d=await this['dataValidate']({'request':_0x15e4fa,'schema':null,'ClassRef':S,'execute':_0xb5743f=>D[_0x395912(0x5e8)](_0xb5743f)});return _0x48763f[_0x395912(0x728)](0xc8)['json'](_0xea4f1d);})['get'](this[_0x45e3ca(0x72d)](_0x45e3ca(0x194)),..._0xe6046f,async(_0x57898d,_0x143b87)=>{const _0x11d41f=_0x45e3ca;let _0x3d138f=await this[_0x11d41f(0x293)]({'request':_0x57898d,'schema':null,'ClassRef':S,'execute':_0x33d52a=>D[_0x11d41f(0x5fa)](_0x33d52a)});return _0x143b87[_0x11d41f(0x728)](0xc8)['json'](_0x3d138f);})[_0x45e3ca(0x49d)](this[_0x45e3ca(0x72d)]('importChats'),..._0xe6046f,async(_0x57133e,_0x3a7743)=>{const _0x4d9b78=_0x45e3ca;let _0x5f4dfc=await this[_0x4d9b78(0x293)]({'request':_0x57133e,'schema':null,'ClassRef':Array,'execute':(_0x1b2f3b,_0x4c2f18)=>D[_0x4d9b78(0x79d)](_0x1b2f3b,_0x4c2f18)});return _0x3a7743[_0x4d9b78(0x728)](0xc8)[_0x4d9b78(0x776)](_0x5f4dfc);})[_0x45e3ca(0x605)](this[_0x45e3ca(0x72d)](_0x45e3ca(0x27b)),..._0xe6046f,async(_0x55dac9,_0x1ce419)=>{const _0x227fd7=_0x45e3ca;let _0x1d177c=await this[_0x227fd7(0x293)]({'request':_0x55dac9,'schema':null,'ClassRef':S,'execute':_0x857f22=>D[_0x227fd7(0x27b)](_0x857f22)});return _0x1ce419['status'](0xc8)[_0x227fd7(0x776)](_0x1d177c);})[_0x45e3ca(0x49d)](this[_0x45e3ca(0x72d)]('updatePrivacySettings'),..._0xe6046f,async(_0x208d16,_0x59086e)=>{const _0x26d906=_0x45e3ca;let _0x45ca41=await this['dataValidate']({'request':_0x208d16,'schema':La,'ClassRef':Be,'execute':(_0xa43da1,_0x3cc7e9)=>D[_0x26d906(0x674)](_0xa43da1,_0x3cc7e9)});return _0x59086e['status'](0xc9)[_0x26d906(0x776)](_0x45ca41);})[_0x45e3ca(0x215)](this[_0x45e3ca(0x72d)](_0x45e3ca(0x44e)),..._0xe6046f,async(_0x11de95,_0x21db1f)=>{const _0x495001=_0x45e3ca;let _0x4bf9b3=await this[_0x495001(0x293)]({'request':_0x11de95,'schema':be,'ClassRef':me,'execute':(_0x4409c1,_0x484a4d)=>D[_0x495001(0x44e)](_0x4409c1,_0x484a4d)});return _0x21db1f[_0x495001(0x728)](0xc8)[_0x495001(0x776)](_0x4bf9b3);})['post'](this[_0x45e3ca(0x72d)](_0x45e3ca(0x75d)),..._0xe6046f,async(_0x530f65,_0x4c5202)=>{const _0x4247b3=_0x45e3ca;let _0x183711=await this['dataValidate']({'request':_0x530f65,'schema':qa,'ClassRef':Ue,'execute':(_0x49e4b8,_0x44be74)=>D[_0x4247b3(0x75d)](_0x49e4b8,_0x44be74)});return _0x4c5202[_0x4247b3(0x728)](0xc8)[_0x4247b3(0x776)](_0x183711);})[_0x45e3ca(0x215)](this[_0x45e3ca(0x72d)](_0x45e3ca(0x2b9)),..._0xe6046f,async(_0x861f0b,_0x1e9264)=>{const _0x58e328=_0x45e3ca;let _0x5a5a07=await this[_0x58e328(0x293)]({'request':_0x861f0b,'schema':Ja,'ClassRef':qe,'execute':(_0x345d44,_0x499978)=>D['updateProfileStatus'](_0x345d44,_0x499978)});return _0x1e9264[_0x58e328(0x728)](0xc8)[_0x58e328(0x776)](_0x5a5a07);})[_0x45e3ca(0x49d)](this[_0x45e3ca(0x72d)](_0x45e3ca(0x5bb)),..._0xe6046f,async(_0x259c16,_0x492dfa)=>{const _0x116629=_0x45e3ca;let _0x2d6a24=await this[_0x116629(0x293)]({'request':_0x259c16,'schema':be,'ClassRef':me,'execute':(_0x529699,_0x34ef1b)=>D[_0x116629(0x5bb)](_0x529699,_0x34ef1b)});return _0x492dfa[_0x116629(0x728)](0xc8)['json'](_0x2d6a24);})[_0x45e3ca(0x335)](this['routerPath'](_0x45e3ca(0x6cb)),..._0xe6046f,async(_0x3234a2,_0x39a91f)=>{const _0x252399=_0x45e3ca;let _0x39b8f7=await this[_0x252399(0x293)]({'request':_0x3234a2,'schema':be,'ClassRef':me,'execute':(_0xd66cec,_0x55d1a7)=>D[_0x252399(0x6cb)](_0xd66cec,_0x55d1a7)});return _0x39a91f[_0x252399(0x728)](0xc8)['json'](_0x39b8f7);});}},sr=require(a0_0x4ff83f(0x74e)),Ze=class{},et=class{},tt=class{},st=class{},at=class{},Q=class{},rt=class{},it=class extends Q{},ot=class extends Q{},nt=class extends U{constructor(..._0x3c866d){const _0x52a7ff=a0_0x4ff83f;super(),this[_0x52a7ff(0x1a9)]=(0x0,sr[_0x52a7ff(0x6b0)])(),this[_0x52a7ff(0x1a9)][_0x52a7ff(0x215)](this[_0x52a7ff(0x72d)](_0x52a7ff(0x3b6)),..._0x3c866d,async(_0x3782b3,_0x250a84)=>{const _0x3688da=_0x52a7ff;let _0x2c8f48=await this['dataValidate']({'request':_0x3782b3,'schema':Wa,'ClassRef':Ze,'execute':(_0x3f747b,_0x1f4e8d)=>F[_0x3688da(0x1fb)](_0x3f747b,_0x1f4e8d)});_0x250a84[_0x3688da(0x728)](0xc9)['json'](_0x2c8f48);})[_0x52a7ff(0x49d)](this['routerPath'](_0x52a7ff(0x598)),..._0x3c866d,async(_0x58dca9,_0x5c1208)=>{const _0x4d4608=_0x52a7ff;let _0x2e54a0=await this[_0x4d4608(0x35d)]({'request':_0x58dca9,'schema':Ka,'ClassRef':et,'execute':(_0x1ef7ef,_0x4dcc37)=>F[_0x4d4608(0x598)](_0x1ef7ef,_0x4dcc37)});_0x5c1208[_0x4d4608(0x728)](0xc9)['json'](_0x2e54a0);})[_0x52a7ff(0x49d)](this['routerPath']('groupDesc'),..._0x3c866d,async(_0x2892ed,_0x579c74)=>{const _0x42d89c=_0x52a7ff;let _0x25eb8c=await this[_0x42d89c(0x35d)]({'request':_0x2892ed,'schema':Qa,'ClassRef':tt,'execute':(_0x3079d1,_0xa1258b)=>F[_0x42d89c(0x337)](_0x3079d1,_0xa1258b)});_0x579c74['status'](0xc9)['json'](_0x25eb8c);})[_0x52a7ff(0x49d)](this[_0x52a7ff(0x72d)](_0x52a7ff(0x430)),..._0x3c866d,async(_0x2c7ddf,_0x56e6a2)=>{const _0x126f76=_0x52a7ff;let _0x5d1c21=await this[_0x126f76(0x35d)]({'request':_0x2c7ddf,'schema':Ya,'ClassRef':st,'execute':(_0x468fdd,_0x2418f3)=>F[_0x126f76(0x430)](_0x468fdd,_0x2418f3)});_0x56e6a2[_0x126f76(0x728)](0xc9)['json'](_0x5d1c21);})[_0x52a7ff(0x49d)](this[_0x52a7ff(0x72d)](_0x52a7ff(0x702)),..._0x3c866d,async(_0x3ac879,_0x151489)=>{const _0x49df73=_0x52a7ff;let _0x5ad190=await this[_0x49df73(0x35d)]({'request':_0x3ac879,'schema':Xa,'ClassRef':at,'execute':(_0x23d522,_0x38f1b9)=>F[_0x49df73(0x702)](_0x23d522,_0x38f1b9)});_0x151489[_0x49df73(0x728)](0xc9)['json'](_0x5ad190);})[_0x52a7ff(0x49d)](this['routerPath'](_0x52a7ff(0x7f3)),..._0x3c866d,async(_0x1ccae1,_0x43e80f)=>{const _0x1d95cb=_0x52a7ff;let _0x2458d2=await this[_0x1d95cb(0x35d)]({'request':_0x1ccae1,'schema':Ha,'ClassRef':ot,'execute':(_0x5252c3,_0x4d0ada)=>F[_0x1d95cb(0x7f3)](_0x5252c3,_0x4d0ada)});_0x43e80f['status'](0xc9)[_0x1d95cb(0x776)](_0x2458d2);})[_0x52a7ff(0x605)](this['routerPath']('findGroupInfos'),..._0x3c866d,async(_0x56dbb3,_0x5a7c88)=>{const _0x120bbe=_0x52a7ff;let _0xcc21f=await this[_0x120bbe(0x35d)]({'request':_0x56dbb3,'schema':Se,'ClassRef':Q,'execute':(_0x557d2c,_0x827f5d)=>F[_0x120bbe(0x422)](_0x557d2c,_0x827f5d)});_0x5a7c88[_0x120bbe(0x728)](0xc8)['json'](_0xcc21f);})[_0x52a7ff(0x605)](this[_0x52a7ff(0x72d)](_0x52a7ff(0x496)),..._0x3c866d,async(_0x236998,_0x135416)=>{const _0x3f1d48=_0x52a7ff;let _0x7df6bb=await this[_0x3f1d48(0x293)]({'request':_0x236998,'schema':M,'ClassRef':S,'execute':_0x3d7a55=>F[_0x3f1d48(0x496)](_0x3d7a55)});_0x135416['status'](0xc8)[_0x3f1d48(0x776)](_0x7df6bb);})['get'](this[_0x52a7ff(0x72d)](_0x52a7ff(0x80f)),..._0x3c866d,async(_0x46d23d,_0x1c2f30)=>{const _0x37b094=_0x52a7ff;let _0x441254=await this[_0x37b094(0x35d)]({'request':_0x46d23d,'schema':Se,'ClassRef':Q,'execute':(_0xa58b48,_0x14adc7)=>F[_0x37b094(0x387)](_0xa58b48,_0x14adc7)});_0x1c2f30[_0x37b094(0x728)](0xc8)[_0x37b094(0x776)](_0x441254);})[_0x52a7ff(0x605)](this[_0x52a7ff(0x72d)](_0x52a7ff(0x682)),..._0x3c866d,async(_0x37025b,_0x37f8fe)=>{const _0x583896=_0x52a7ff;let _0xe1ad5b=await this['groupValidate']({'request':_0x37025b,'schema':Se,'ClassRef':Q,'execute':(_0x4d43db,_0x18809f)=>F['inviteCode'](_0x4d43db,_0x18809f)});_0x37f8fe[_0x583896(0x728)](0xc8)[_0x583896(0x776)](_0xe1ad5b);})[_0x52a7ff(0x49d)](this['routerPath'](_0x52a7ff(0x4c8)),..._0x3c866d,async(_0x453a9d,_0x494aa5)=>{const _0xf1b9a6=_0x52a7ff;let _0x47040b=await this['joinGroupValidate']({'request':_0x453a9d,'schema':Za,'ClassRef':rt,'execute':(_0x5b3593,_0x7151a9)=>F[_0xf1b9a6(0x4c8)](_0x5b3593,_0x7151a9)});_0x494aa5[_0xf1b9a6(0x728)](0xc9)[_0xf1b9a6(0x776)](_0x47040b);})['put'](this['routerPath']('revokeInviteCode'),..._0x3c866d,async(_0x14807f,_0x11a7ae)=>{const _0x369a7d=_0x52a7ff;let _0xd79099=await this[_0x369a7d(0x35d)]({'request':_0x14807f,'schema':Se,'ClassRef':Q,'execute':(_0x4725c6,_0x3310d6)=>F[_0x369a7d(0x1ba)](_0x4725c6,_0x3310d6)});_0x11a7ae[_0x369a7d(0x728)](0xc9)['json'](_0xd79099);})[_0x52a7ff(0x49d)](this['routerPath'](_0x52a7ff(0x299)),..._0x3c866d,async(_0x5a2faf,_0x29d1f8)=>{const _0x2925b0=_0x52a7ff;let _0x13fcc3=await this['groupValidate']({'request':_0x5a2faf,'schema':za,'ClassRef':it,'execute':(_0x130b1e,_0xd75ea6)=>F[_0x2925b0(0x267)](_0x130b1e,_0xd75ea6)});_0x29d1f8['status'](0xc9)[_0x2925b0(0x776)](_0x13fcc3);})[_0x52a7ff(0x335)](this[_0x52a7ff(0x72d)](_0x52a7ff(0x7dc)),..._0x3c866d,async(_0x336663,_0x48b7aa)=>{const _0xdadf8c=_0x52a7ff;let _0x28f20c=await this[_0xdadf8c(0x35d)]({'request':_0x336663,'schema':{},'ClassRef':Q,'execute':(_0x89872,_0x11d8da)=>F[_0xdadf8c(0x7dc)](_0x89872,_0x11d8da)});_0x48b7aa['status'](0xc8)[_0xdadf8c(0x776)](_0x28f20c);});}},ar=require(a0_0x4ff83f(0x74e)),ct=class extends U{constructor(_0x4ea423,..._0xd8cd77){const _0x59bc09=a0_0x4ff83f;super(),this[_0x59bc09(0x664)]=_0x4ea423,this['router']=(0x0,ar[_0x59bc09(0x6b0)])();let _0x2019ec=_0x4ea423['get'](_0x59bc09(0x29e));this['router'][_0x59bc09(0x215)](_0x59bc09(0x44b),..._0xd8cd77,async(_0xf553e7,_0x173a79)=>{const _0x2e279f=_0x59bc09;let {instanceName:_0xd390da,apikey:_0x5a0997,number:_0x1ee047}=_0xf553e7['body'],_0x31657f=await ae['createInstance']({'instanceName':_0xd390da,'apikey':_0x5a0997,'number':_0x1ee047});return _0x173a79[_0x2e279f(0x728)](0xc9)[_0x2e279f(0x776)](_0x31657f);})[_0x59bc09(0x49d)](this[_0x59bc09(0x72d)](_0x59bc09(0x658)),..._0xd8cd77,async(_0x282593,_0x47ebf8)=>{const _0x367179=_0x59bc09;let _0x1505b6=await this['dataValidate']({'request':_0x282593,'schema':M,'ClassRef':S,'execute':_0x550bca=>ae[_0x367179(0x5e5)](_0x550bca)});return _0x47ebf8['status'](0xc8)['json'](_0x1505b6);})[_0x59bc09(0x605)](this[_0x59bc09(0x72d)](_0x59bc09(0x773)),..._0xd8cd77,async(_0x50e7f2,_0x27f485)=>{const _0x1458f1=_0x59bc09;let _0x1f0cdf=await this[_0x1458f1(0x293)]({'request':_0x50e7f2,'schema':M,'ClassRef':S,'execute':_0xe54236=>ae[_0x1458f1(0x2cc)](_0xe54236)});return _0x27f485[_0x1458f1(0x728)](0xc8)[_0x1458f1(0x776)](_0x1f0cdf);})['get'](this['routerPath'](_0x59bc09(0x576)),..._0xd8cd77,async(_0x7ad4e0,_0x14747d)=>{const _0x292e53=_0x59bc09;let _0x524eef=await this[_0x292e53(0x293)]({'request':_0x7ad4e0,'schema':M,'ClassRef':S,'execute':_0x52de0d=>ae[_0x292e53(0x576)](_0x52de0d)});return _0x14747d[_0x292e53(0x728)](0xc8)[_0x292e53(0x776)](_0x524eef);})[_0x59bc09(0x605)](this[_0x59bc09(0x72d)]('fetchInstances',!0x1),..._0xd8cd77,async(_0x33b9a5,_0x10b064)=>{const _0x2496c6=_0x59bc09;let _0x55f74b=await this[_0x2496c6(0x293)]({'request':_0x33b9a5,'schema':null,'ClassRef':S,'execute':_0x3a65c2=>ae[_0x2496c6(0x7c6)](_0x3a65c2)});return _0x10b064['status'](0xc8)[_0x2496c6(0x776)](_0x55f74b);})['delete'](this['routerPath'](_0x59bc09(0x4cb)),..._0xd8cd77,async(_0x2f46c1,_0x4b3df6)=>{const _0x27c4d6=_0x59bc09;let _0x5bec43=await this[_0x27c4d6(0x293)]({'request':_0x2f46c1,'schema':M,'ClassRef':S,'execute':_0x1313c3=>ae[_0x27c4d6(0x4cb)](_0x1313c3)});return _0x4b3df6['status'](0xc8)['json'](_0x5bec43);})[_0x59bc09(0x335)](this[_0x59bc09(0x72d)](_0x59bc09(0x335)),..._0xd8cd77,async(_0x430aeb,_0x5eb577)=>{const _0x5f5d8e=_0x59bc09;let _0x248453=await this['dataValidate']({'request':_0x430aeb,'schema':M,'ClassRef':S,'execute':_0xbe3243=>ae['deleteInstance'](_0xbe3243)});return _0x5eb577[_0x5f5d8e(0x728)](0xc8)[_0x5f5d8e(0x776)](_0x248453);});}},rr=require(a0_0x4ff83f(0x74e)),hs=class{},G=class extends hs{},lt=class extends G{},ut=class extends G{},dt=class extends G{},pt=class extends G{},Ee=class extends G{},ht=class extends G{},gt=class extends G{},mt=class extends G{},ft=class extends G{},wt=class extends G{},yt=class{},bt=class extends U{constructor(..._0x24fd0b){const _0x226dd0=a0_0x4ff83f;super(),this['router']=(0x0,rr[_0x226dd0(0x6b0)])(),this[_0x226dd0(0x1a9)][_0x226dd0(0x215)](this['routerPath'](_0x226dd0(0x4e4)),..._0x24fd0b,async(_0x3b3604,_0x5b98b8)=>{const _0x2009b0=_0x226dd0;let _0xf8ffc1=await this['dataValidate']({'request':_0x3b3604,'schema':Ca,'ClassRef':lt,'execute':(_0x13b0d8,_0x14453f)=>B['sendText'](_0x13b0d8,_0x14453f)});return _0x5b98b8[_0x2009b0(0x728)](0xc9)[_0x2009b0(0x776)](_0xf8ffc1);})[_0x226dd0(0x215)](this['routerPath'](_0x226dd0(0x7ca)),..._0x24fd0b,async(_0x295aec,_0x9ee857)=>{const _0x24211c=_0x226dd0;let _0x35d685=await this['dataValidate']({'request':_0x295aec,'schema':Ra,'ClassRef':Ee,'execute':(_0x4bb57a,_0x5e4642)=>B[_0x24211c(0x7ca)](_0x4bb57a,_0x5e4642)});return _0x9ee857['status'](0xc9)[_0x24211c(0x776)](_0x35d685);})[_0x226dd0(0x215)](this[_0x226dd0(0x72d)](_0x226dd0(0x476)),..._0x24fd0b,async(_0x481389,_0x3912cc)=>{const _0x58237e=_0x226dd0;let _0x50c931=await this[_0x58237e(0x293)]({'request':_0x481389,'schema':Aa,'ClassRef':pt,'execute':(_0x493928,_0x47de6d)=>B[_0x58237e(0x476)](_0x493928,_0x47de6d)});return _0x3912cc[_0x58237e(0x728)](0xc9)[_0x58237e(0x776)](_0x50c931);})[_0x226dd0(0x215)](this[_0x226dd0(0x72d)](_0x226dd0(0x1dc)),..._0x24fd0b,async(_0x56cbcc,_0x2b9178)=>{const _0x4244b1=_0x226dd0;let _0xeb9000=await this['dataValidate']({'request':_0x56cbcc,'schema':Ta,'ClassRef':Ee,'execute':(_0x5296f3,_0x56f751)=>B['sendWhatsAppAudio'](_0x5296f3,_0x56f751)});return _0x2b9178[_0x4244b1(0x728)](0xc9)['json'](_0xeb9000);})[_0x226dd0(0x215)](this[_0x226dd0(0x72d)]('sendButtons'),..._0x24fd0b,async(_0x2bc0ad,_0x536b61)=>{const _0x3afae3=_0x226dd0;let _0x18410b=await this['dataValidate']({'request':_0x2bc0ad,'schema':Ia,'ClassRef':gt,'execute':(_0x3e600b,_0xa8fee6)=>B[_0x3afae3(0x20a)](_0x3e600b,_0xa8fee6)});return _0x536b61[_0x3afae3(0x728)](0xc9)[_0x3afae3(0x776)](_0x18410b);})[_0x226dd0(0x215)](this[_0x226dd0(0x72d)](_0x226dd0(0x3a4)),..._0x24fd0b,async(_0xd05735,_0x50a0bf)=>{const _0x289963=_0x226dd0;let _0x2f37f7=await this['dataValidate']({'request':_0xd05735,'schema':xa,'ClassRef':mt,'execute':(_0x33866c,_0x44986a)=>B['sendLocation'](_0x33866c,_0x44986a)});return _0x50a0bf[_0x289963(0x728)](0xc9)['json'](_0x2f37f7);})[_0x226dd0(0x215)](this[_0x226dd0(0x72d)](_0x226dd0(0x63e)),..._0x24fd0b,async(_0x4152db,_0x22a86a)=>{const _0x1d7f04=_0x226dd0;let _0x2a226e=await this['dataValidate']({'request':_0x4152db,'schema':Da,'ClassRef':ft,'execute':(_0xc3c80a,_0x1f23c3)=>B['sendList'](_0xc3c80a,_0x1f23c3)});return _0x22a86a[_0x1d7f04(0x728)](0xc9)[_0x1d7f04(0x776)](_0x2a226e);})[_0x226dd0(0x215)](this[_0x226dd0(0x72d)](_0x226dd0(0x540)),..._0x24fd0b,async(_0x1a6b6b,_0x3a04f8)=>{const _0x5777e3=_0x226dd0;let _0x1b03dc=await this[_0x5777e3(0x293)]({'request':_0x1a6b6b,'schema':_a,'ClassRef':wt,'execute':(_0xae1c40,_0x5bb9f0)=>B[_0x5777e3(0x540)](_0xae1c40,_0x5bb9f0)});return _0x3a04f8[_0x5777e3(0x728)](0xc9)[_0x5777e3(0x776)](_0x1b03dc);})[_0x226dd0(0x215)](this[_0x226dd0(0x72d)](_0x226dd0(0x355)),..._0x24fd0b,async(_0x259878,_0x2c33b5)=>{const _0x4dfc0e=_0x226dd0;let _0x4c2b21=await this['dataValidate']({'request':_0x259878,'schema':Pa,'ClassRef':yt,'execute':(_0x57d3b3,_0x43fc3a)=>B[_0x4dfc0e(0x355)](_0x57d3b3,_0x43fc3a)});return _0x2c33b5['status'](0xc9)[_0x4dfc0e(0x776)](_0x4c2b21);})[_0x226dd0(0x215)](this[_0x226dd0(0x72d)](_0x226dd0(0x6a5)),..._0x24fd0b,async(_0x7b9a97,_0x617c72)=>{const _0x7e443a=_0x226dd0;let _0x65605d=await this['dataValidate']({'request':_0x7b9a97,'schema':Oa,'ClassRef':dt,'execute':(_0x1dd805,_0x5ae62c)=>B[_0x7e443a(0x6a5)](_0x1dd805,_0x5ae62c)});return _0x617c72[_0x7e443a(0x728)](0xc9)[_0x7e443a(0x776)](_0x65605d);})[_0x226dd0(0x215)](this[_0x226dd0(0x72d)](_0x226dd0(0x5d2)),..._0x24fd0b,async(_0x253408,_0x2d2dc5)=>{const _0x1bbd99=_0x226dd0;let _0x1aef14=await this[_0x1bbd99(0x293)]({'request':_0x253408,'schema':Na,'ClassRef':ut,'execute':(_0xeeb970,_0x36c599)=>B[_0x1bbd99(0x5d2)](_0xeeb970,_0x36c599)});return _0x2d2dc5[_0x1bbd99(0x728)](0xc9)[_0x1bbd99(0x776)](_0x1aef14);})['post'](this[_0x226dd0(0x72d)](_0x226dd0(0x399)),..._0x24fd0b,async(_0x3fdeaf,_0x5e2fef)=>{const _0x42d44a=_0x226dd0;let _0x1b094c=await this[_0x42d44a(0x293)]({'request':_0x3fdeaf,'schema':va,'ClassRef':ht,'execute':(_0x1fccee,_0x1e961a)=>B['sendSticker'](_0x1fccee,_0x1e961a)});return _0x5e2fef[_0x42d44a(0x728)](0xc9)['json'](_0x1b094c);});}},ir=require(a0_0x4ff83f(0x74e)),St=class{},Et=class extends U{constructor(..._0x2fda5d){const _0x5ad21e=a0_0x4ff83f;super(),this[_0x5ad21e(0x1a9)]=(0x0,ir['Router'])(),this[_0x5ad21e(0x1a9)][_0x5ad21e(0x215)](this[_0x5ad21e(0x72d)](_0x5ad21e(0x428)),..._0x2fda5d,async(_0x71bf16,_0x836c70)=>{const _0x41a1cb=_0x5ad21e;let _0x20cd1=await this[_0x41a1cb(0x293)]({'request':_0x71bf16,'schema':er,'ClassRef':St,'execute':(_0x5f60ec,_0x5c1e98)=>gs[_0x41a1cb(0x683)](_0x5f60ec,_0x5c1e98)});_0x836c70[_0x41a1cb(0x728)](0xc9)[_0x41a1cb(0x776)](_0x20cd1);})['get'](this[_0x5ad21e(0x72d)](_0x5ad21e(0x678)),..._0x2fda5d,async(_0x3b5f68,_0x680454)=>{const _0x1b1fd9=_0x5ad21e;let _0x45087b=await this[_0x1b1fd9(0x293)]({'request':_0x3b5f68,'schema':M,'ClassRef':S,'execute':_0x390b21=>gs[_0x1b1fd9(0x2ee)](_0x390b21)});_0x680454[_0x1b1fd9(0x728)](0xc8)['json'](_0x45087b);});}},or=require(a0_0x4ff83f(0x74e)),y=new v('FlowRouter'),Ct=class extends U{constructor(..._0x5c25f9){const _0x114502=a0_0x4ff83f;super(),this[_0x114502(0x1a9)]=(0x0,or['Router'])(),this[_0x114502(0x1a9)][_0x114502(0x215)](this[_0x114502(0x72d)](_0x114502(0x6dc)),..._0x5c25f9,async(_0x52cd8d,_0x3f17ab)=>{const _0x540d23=_0x114502;let _0x20b553=_0x52cd8d['body'];y[_0x540d23(0x5bf)](_0x540d23(0x219)),y[_0x540d23(0x5bf)](_0x540d23(0x7a5)),y[_0x540d23(0x5bf)](_0x52cd8d['body']);let _0x1e771e=await this[_0x540d23(0x293)]({'request':_0x52cd8d,'schema':M,'ClassRef':S,'execute':_0x36a8a5=>O[_0x540d23(0x49c)](_0x36a8a5,_0x20b553)});_0x3f17ab[_0x540d23(0x728)](0xc8)[_0x540d23(0x776)](_0x1e771e);})[_0x114502(0x605)](this[_0x114502(0x72d)](_0x114502(0x6dc)),..._0x5c25f9,async(_0x3954f4,_0x23e995)=>{const _0x288a23=_0x114502;let _0x38d7b3=await this[_0x288a23(0x293)]({'request':_0x3954f4,'schema':M,'ClassRef':S,'execute':_0x1dceb2=>O[_0x288a23(0x375)](_0x1dceb2)});_0x23e995[_0x288a23(0x728)](0xc8)[_0x288a23(0x776)](_0x38d7b3);})[_0x114502(0x335)](this[_0x114502(0x72d)]('deleteDoneMessages'),..._0x5c25f9,async(_0x25ae8d,_0x301b0a)=>{const _0x5ed696=_0x114502;y[_0x5ed696(0x5bf)]('request\x20received\x20in\x20deleteDoneMessages');let _0x5f2fcf=await this[_0x5ed696(0x293)]({'request':_0x25ae8d,'schema':M,'ClassRef':S,'execute':_0x59d61f=>O[_0x5ed696(0x633)](_0x59d61f)});_0x301b0a[_0x5ed696(0x728)](0xc8)[_0x5ed696(0x776)](_0x5f2fcf);})[_0x114502(0x215)](this[_0x114502(0x72d)]('startFlow'),..._0x5c25f9,async(_0x1b04aa,_0x25e286)=>{const _0x1ffc81=_0x114502;let _0x3191a0=_0x1b04aa[_0x1ffc81(0x6a6)];y['verbose'](_0x1ffc81(0x7bd)),y[_0x1ffc81(0x5bf)](_0x1ffc81(0x7a5)),y[_0x1ffc81(0x5bf)](_0x1b04aa[_0x1ffc81(0x6a6)]);let _0x1c90e9=await this[_0x1ffc81(0x293)]({'request':_0x1b04aa,'schema':M,'ClassRef':S,'execute':_0x12af63=>O[_0x1ffc81(0x5c8)](_0x12af63,_0x3191a0)});_0x25e286[_0x1ffc81(0x728)](0xc8)['json'](_0x1c90e9);})['get'](this[_0x114502(0x72d)](_0x114502(0x2bd)),..._0x5c25f9,async(_0x5d6812,_0x3b9a48)=>{const _0x515f9b=_0x114502;y['verbose']('request\x20received\x20in\x20getAutomateSystem');let _0x49afb5=await this[_0x515f9b(0x293)]({'request':_0x5d6812,'schema':M,'ClassRef':S,'execute':_0x2c7d43=>O[_0x515f9b(0x2bd)](_0x2c7d43)});_0x3b9a48[_0x515f9b(0x728)](0xc8)[_0x515f9b(0x776)](_0x49afb5);})[_0x114502(0x605)](this[_0x114502(0x72d)]('getTicketSystem'),..._0x5c25f9,async(_0x47f6d5,_0x1d0dcb)=>{const _0x174b35=_0x114502;y[_0x174b35(0x5bf)](_0x174b35(0x67e));let _0x44ca83=await this['dataValidate']({'request':_0x47f6d5,'schema':M,'ClassRef':S,'execute':_0x273584=>O[_0x174b35(0x2bd)](_0x273584)});_0x1d0dcb[_0x174b35(0x728)](0xc8)[_0x174b35(0x776)](_0x44ca83);})['post'](this[_0x114502(0x72d)](_0x114502(0x3e5)),..._0x5c25f9,async(_0x9a6ef6,_0x3278ec)=>{const _0x1c0483=_0x114502;let _0xfd7764=_0x9a6ef6['body'];y[_0x1c0483(0x5bf)](_0x1c0483(0x809)),y[_0x1c0483(0x5bf)](_0x1c0483(0x7a5)),y[_0x1c0483(0x5bf)](_0x9a6ef6[_0x1c0483(0x6a6)]);let _0x3958c3=await this['dataValidate']({'request':_0x9a6ef6,'schema':M,'ClassRef':S,'execute':_0x3eff76=>O['updateAgent'](_0x3eff76,_0xfd7764)});_0x3278ec[_0x1c0483(0x728)](0xc8)['json'](_0x3958c3);})[_0x114502(0x215)](this[_0x114502(0x72d)](_0x114502(0x509)),..._0x5c25f9,async(_0x33a458,_0x1c73ea)=>{const _0x2f357a=_0x114502;let _0x443900=_0x33a458[_0x2f357a(0x6a6)];y[_0x2f357a(0x5bf)]('request\x20received\x20in\x20updateCustomFields'),y['verbose']('request\x20body:\x20'),y[_0x2f357a(0x5bf)](_0x33a458[_0x2f357a(0x6a6)]);let _0x28fff0=await this['dataValidate']({'request':_0x33a458,'schema':M,'ClassRef':S,'execute':_0x3a581c=>O[_0x2f357a(0x509)](_0x3a581c,_0x443900)});_0x1c73ea['status'](0xc8)[_0x2f357a(0x776)](_0x28fff0);})[_0x114502(0x215)](this[_0x114502(0x72d)](_0x114502(0x515)),..._0x5c25f9,async(_0x37598b,_0x4fa751)=>{const _0x5da9dc=_0x114502;let _0xdf64a0=_0x37598b[_0x5da9dc(0x6a6)];y['verbose'](_0x5da9dc(0x45f)),y['verbose'](_0x5da9dc(0x7a5)),y[_0x5da9dc(0x5bf)](_0x37598b['body']);let _0x562619=await this[_0x5da9dc(0x293)]({'request':_0x37598b,'schema':M,'ClassRef':S,'execute':_0x2b3d0f=>O[_0x5da9dc(0x515)](_0x2b3d0f,_0xdf64a0)});_0x4fa751[_0x5da9dc(0x728)](0xc8)[_0x5da9dc(0x776)](_0x562619);})[_0x114502(0x215)](this[_0x114502(0x72d)](_0x114502(0x7f6)),..._0x5c25f9,async(_0x1aec01,_0x5e39af)=>{const _0x4bd157=_0x114502;let _0x297221=_0x1aec01['body'];y[_0x4bd157(0x5bf)](_0x4bd157(0x5f2)),y['verbose'](_0x4bd157(0x7a5)),y['verbose'](_0x1aec01[_0x4bd157(0x6a6)]);let _0x46a172=await this[_0x4bd157(0x293)]({'request':_0x1aec01,'schema':M,'ClassRef':S,'execute':_0x7c77db=>O[_0x4bd157(0x7f6)](_0x7c77db,_0x297221)});_0x5e39af[_0x4bd157(0x728)](0xc8)[_0x4bd157(0x776)](_0x46a172);})['post'](this[_0x114502(0x72d)]('fetchConversation'),..._0x5c25f9,async(_0x25911e,_0x585462)=>{const _0x167126=_0x114502;let _0x428d5c=_0x25911e['body'];y[_0x167126(0x5bf)](_0x167126(0x3bb)),y[_0x167126(0x5bf)](_0x167126(0x7a5)),y[_0x167126(0x5bf)](_0x25911e[_0x167126(0x6a6)]);let _0x7f6640=await this[_0x167126(0x293)]({'request':_0x25911e,'schema':M,'ClassRef':S,'execute':_0x43bd25=>O[_0x167126(0x614)](_0x43bd25,_0x428d5c)});_0x585462['status'](0xc8)[_0x167126(0x776)](_0x7f6640);})[_0x114502(0x215)](this[_0x114502(0x72d)](_0x114502(0x747)),..._0x5c25f9,async(_0x5667fd,_0x4a58a3)=>{const _0x2785ae=_0x114502;let _0x6179c6=_0x5667fd[_0x2785ae(0x6a6)];y['verbose']('request\x20received\x20in\x20editConversation'),y['verbose'](_0x2785ae(0x7a5)),y[_0x2785ae(0x5bf)](_0x5667fd[_0x2785ae(0x6a6)]);let _0x3c534d=await this[_0x2785ae(0x293)]({'request':_0x5667fd,'schema':M,'ClassRef':S,'execute':_0x39d90e=>O[_0x2785ae(0x747)](_0x39d90e,_0x6179c6)});_0x4a58a3['status'](0xc8)[_0x2785ae(0x776)](_0x3c534d);})[_0x114502(0x335)](this[_0x114502(0x72d)](_0x114502(0x547)),..._0x5c25f9,async(_0x22df8c,_0x162f5a)=>{const _0x37265c=_0x114502;let _0x176244=_0x22df8c[_0x37265c(0x6a6)];y[_0x37265c(0x5bf)](_0x37265c(0x789)),y[_0x37265c(0x5bf)](_0x37265c(0x7a5)),y[_0x37265c(0x5bf)](_0x22df8c[_0x37265c(0x6a6)]);let _0x4e1b65=await this[_0x37265c(0x293)]({'request':_0x22df8c,'schema':M,'ClassRef':S,'execute':_0x576799=>O[_0x37265c(0x547)](_0x576799,_0x176244)});_0x162f5a['status'](0xc8)['json'](_0x4e1b65);})[_0x114502(0x215)](this[_0x114502(0x72d)](_0x114502(0x52c)),..._0x5c25f9,async(_0x2aced3,_0x2b02b2)=>{const _0x440900=_0x114502;let _0x2abcb0=_0x2aced3[_0x440900(0x6a6)];y[_0x440900(0x5bf)](_0x440900(0x820)),y[_0x440900(0x5bf)]('request\x20body:\x20'),y[_0x440900(0x5bf)](_0x2aced3[_0x440900(0x6a6)]);let _0xb27681=await this[_0x440900(0x293)]({'request':_0x2aced3,'schema':M,'ClassRef':S,'execute':_0x1c5a35=>O[_0x440900(0x3b0)](_0x1c5a35,_0x2abcb0)});_0x2b02b2[_0x440900(0x728)](0xc8)[_0x440900(0x776)](_0xb27681);})[_0x114502(0x215)](this[_0x114502(0x72d)](_0x114502(0x5cb)),..._0x5c25f9,async(_0x26539c,_0x502010)=>{const _0x2f5ee0=_0x114502;let _0x82d2ef=_0x26539c['body'];y[_0x2f5ee0(0x5bf)](_0x2f5ee0(0x3d4)),y['verbose'](_0x2f5ee0(0x7a5)),y['verbose'](_0x26539c[_0x2f5ee0(0x6a6)]),delete _0x82d2ef['blocks'],delete _0x82d2ef[_0x2f5ee0(0x4a4)],delete _0x82d2ef['groups'],delete _0x82d2ef[_0x2f5ee0(0x3e2)];let _0x1f809d=await this[_0x2f5ee0(0x293)]({'request':_0x26539c,'schema':M,'ClassRef':S,'execute':_0x5d3e0a=>O[_0x2f5ee0(0x7a0)](_0x5d3e0a,_0x82d2ef)});_0x502010[_0x2f5ee0(0x728)](0xc8)['json'](_0x1f809d);})[_0x114502(0x215)](this[_0x114502(0x72d)]('editflowblock'),..._0x5c25f9,async(_0x1b9dfe,_0x35a92c)=>{const _0xa27f6b=_0x114502;let _0x5653c4=_0x1b9dfe[_0xa27f6b(0x6a6)];y[_0xa27f6b(0x5bf)](_0xa27f6b(0x3d4)),y[_0xa27f6b(0x5bf)](_0xa27f6b(0x7a5)),y[_0xa27f6b(0x5bf)](_0x1b9dfe['body']);let _0x4c7a91=await this['dataValidate']({'request':_0x1b9dfe,'schema':M,'ClassRef':S,'execute':_0x3a8ad5=>O[_0xa27f6b(0x20c)](_0x3a8ad5,_0x5653c4)});_0x35a92c['status'](0xc8)[_0xa27f6b(0x776)](_0x4c7a91);})['post'](this[_0x114502(0x72d)](_0x114502(0x562)),..._0x5c25f9,async(_0x4a81dd,_0x23281c)=>{const _0x6e08df=_0x114502;let _0x10a2ab=_0x4a81dd[_0x6e08df(0x6a6)];y['verbose'](_0x6e08df(0x3d4)),y[_0x6e08df(0x5bf)](_0x6e08df(0x7a5)),y['verbose'](_0x4a81dd[_0x6e08df(0x6a6)]);let _0x140ea8=await this['dataValidate']({'request':_0x4a81dd,'schema':M,'ClassRef':S,'execute':_0x9902a4=>O[_0x6e08df(0x258)](_0x9902a4,_0x10a2ab)});_0x23281c[_0x6e08df(0x728)](0xc8)['json'](_0x140ea8);})['post'](this['routerPath'](_0x114502(0x61d)),..._0x5c25f9,async(_0x4b006c,_0xd7ec3b)=>{const _0xf3fda8=_0x114502;let _0x1d0b13=_0x4b006c[_0xf3fda8(0x6a6)];y[_0xf3fda8(0x5bf)]('request\x20received\x20in\x20editFlow'),y[_0xf3fda8(0x5bf)](_0xf3fda8(0x7a5)),y[_0xf3fda8(0x5bf)](_0x4b006c[_0xf3fda8(0x6a6)]);let _0x380323=await this[_0xf3fda8(0x293)]({'request':_0x4b006c,'schema':M,'ClassRef':S,'execute':_0x330917=>O['editFlowVaredit'](_0x330917,_0x1d0b13)});_0xd7ec3b[_0xf3fda8(0x728)](0xc8)[_0xf3fda8(0x776)](_0x380323);})[_0x114502(0x215)](this['routerPath'](_0x114502(0x3b3)),..._0x5c25f9,async(_0x5e3d27,_0x5855e9)=>{const _0x1fc7e5=_0x114502;let _0x6ff100=_0x5e3d27[_0x1fc7e5(0x6a6)];y['verbose']('request\x20received\x20in\x20editFlowgroup'),y[_0x1fc7e5(0x5bf)](_0x1fc7e5(0x7a5)),y[_0x1fc7e5(0x5bf)](_0x5e3d27[_0x1fc7e5(0x6a6)]);let _0x946fda=await this[_0x1fc7e5(0x293)]({'request':_0x5e3d27,'schema':M,'ClassRef':S,'execute':_0x2d419f=>O[_0x1fc7e5(0x295)](_0x2d419f,_0x6ff100)});_0x5855e9[_0x1fc7e5(0x728)](0xc8)[_0x1fc7e5(0x776)](_0x946fda);})[_0x114502(0x215)](this[_0x114502(0x72d)]('editflowcondition'),..._0x5c25f9,async(_0x250592,_0x3a614f)=>{const _0x466dce=_0x114502;let _0x2cff67=_0x250592[_0x466dce(0x6a6)];y[_0x466dce(0x5bf)]('request\x20received\x20in\x20editFlowcondition'),y[_0x466dce(0x5bf)](_0x466dce(0x7a5)),y[_0x466dce(0x5bf)](_0x250592[_0x466dce(0x6a6)]);let _0x776a0b=await this[_0x466dce(0x293)]({'request':_0x250592,'schema':M,'ClassRef':S,'execute':_0x3e7559=>O[_0x466dce(0x213)](_0x3e7559,_0x2cff67)});_0x3a614f[_0x466dce(0x728)](0xc8)[_0x466dce(0x776)](_0x776a0b);})[_0x114502(0x215)](this[_0x114502(0x72d)](_0x114502(0x7da)),..._0x5c25f9,async(_0x2817d1,_0x2164a5)=>{const _0x9eee61=_0x114502;let _0x55b6a4=_0x2817d1['body'];y['verbose'](_0x9eee61(0x6c4)),y[_0x9eee61(0x5bf)](_0x9eee61(0x7a5)),y[_0x9eee61(0x5bf)](_0x2817d1['body']);let _0x451983=await this[_0x9eee61(0x293)]({'request':_0x2817d1,'schema':M,'ClassRef':S,'execute':_0xf11fdd=>O[_0x9eee61(0x500)](_0xf11fdd,_0x55b6a4)});_0x2164a5[_0x9eee61(0x728)](0xc8)[_0x9eee61(0x776)](_0x451983);})[_0x114502(0x215)](this[_0x114502(0x72d)](_0x114502(0x786)),..._0x5c25f9,async(_0x3937c2,_0xd18538)=>{const _0x4fab35=_0x114502;let _0x30beb2=_0x3937c2[_0x4fab35(0x6a6)];y[_0x4fab35(0x5bf)](_0x4fab35(0x62d)),y['verbose'](_0x4fab35(0x7a5)),y[_0x4fab35(0x5bf)](_0x3937c2[_0x4fab35(0x6a6)]);let _0x44cafb=await this[_0x4fab35(0x293)]({'request':_0x3937c2,'schema':M,'ClassRef':S,'execute':_0x57ca7d=>O[_0x4fab35(0x54f)](_0x57ca7d,_0x30beb2)});_0xd18538[_0x4fab35(0x728)](0xc8)[_0x4fab35(0x776)](_0x44cafb);})[_0x114502(0x335)](this[_0x114502(0x72d)](_0x114502(0x61f)),..._0x5c25f9,async(_0x46db9d,_0x43f026)=>{const _0x21851f=_0x114502;let _0x55a312=_0x46db9d['body'];y['verbose'](_0x21851f(0x7cb)),y[_0x21851f(0x5bf)]('request\x20body:\x20'),y[_0x21851f(0x5bf)](_0x46db9d['body']);let _0x4ee081=await this[_0x21851f(0x293)]({'request':_0x46db9d,'schema':M,'ClassRef':S,'execute':_0x3e4646=>O['deleteFlow'](_0x3e4646,_0x55a312)});_0x43f026[_0x21851f(0x728)](0xc8)[_0x21851f(0x776)](_0x4ee081);})['get'](this[_0x114502(0x72d)](_0x114502(0x680)),..._0x5c25f9,async(_0x2e2b25,_0xc1beb9)=>{const _0x34e345=_0x114502;y['verbose'](_0x34e345(0x621));let _0x189fab=await this['dataValidate']({'request':_0x2e2b25,'schema':M,'ClassRef':S,'execute':_0x4912b2=>O[_0x34e345(0x50f)](_0x4912b2)});_0xc1beb9['status'](0xc8)[_0x34e345(0x776)](_0x189fab);});}},ur=T(require(a0_0x4ff83f(0x570))),Y={};function nr(_0x20e72b,_0x57edf4,_0x4af98b,_0x227339){Y[_0x20e72b]||(Y[_0x20e72b]={}),Y[_0x20e72b][_0x57edf4]={'id':_0x57edf4,'response':_0x4af98b,'events':_0x227339};}function cr(_0x1e13b5,_0x34bc71){!Y[_0x1e13b5]||!Y[_0x1e13b5][_0x34bc71]||delete Y[_0x1e13b5][_0x34bc71];}function q(_0x764e61,_0x49d46f,_0x1ed767){const _0x4b0677=a0_0x4ff83f;if(!Y[_0x764e61])return;let _0x37f61f=_0x4b0677(0x1d9)+JSON[_0x4b0677(0x62a)](_0x1ed767)+'\x0a\x0a';Object['values'](Y[_0x764e61])[_0x4b0677(0x4bf)](_0x4e476c=>{const _0x230cf0=_0x4b0677;_0x4e476c[_0x230cf0(0x6a0)][_0x230cf0(0x713)](_0x49d46f)&&_0x4e476c[_0x230cf0(0x5b8)][_0x230cf0(0x6a7)](_0x37f61f);});}function lr(){const _0x39fa40=a0_0x4ff83f;let _0xd14b2d={};for(let _0x59ae7c in Y)_0xd14b2d[_0x59ae7c]=Object[_0x39fa40(0x6e5)](Y[_0x59ae7c])[_0x39fa40(0x5c3)](_0x346696=>({'id':_0x346696['id'],'events':_0x346696[_0x39fa40(0x6a0)]}));return _0xd14b2d;}var dr=require('uuid'),fs=require(a0_0x4ff83f(0x637)),ms=class{},ci=new fs[(a0_0x4ff83f(0x62b))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),li=new fs['Schema']({'_id':{'type':String,'default':a0_0x4ff83f(0x6d6)},'WebhookGlobal':{'type':ci},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),fe=R?.['model'](ms[a0_0x4ff83f(0x1c3)],li,'All_Instances_Config'),ui=ur[a0_0x4ff83f(0x604)]['join'](__dirname,a0_0x4ff83f(0x77b)),vt=(0x0,Mt[a0_0x4ff83f(0x6b0)])(),di=b['get'](a0_0x4ff83f(0x29e))['TYPE'],ee=[wa,ya,Ea[di]];vt[a0_0x4ff83f(0x36f)](a0_0x4ff83f(0x3bf),Mt[a0_0x4ff83f(0x604)][a0_0x4ff83f(0x778)](ui))['get'](a0_0x4ff83f(0x4a6),async(_0x521177,_0x426b3f)=>{const _0x42198d=a0_0x4ff83f;console[_0x42198d(0x4b8)](_0x42198d(0x3f0));let _0xee7632=_0x521177['params']['instance'],_0x598468=(_0x521177[_0x42198d(0x566)]['events']||'')[_0x42198d(0x290)](','),_0x5b6b1a=(0x0,dr['v4'])();console[_0x42198d(0x4b8)](_0x42198d(0x4e8),_0xee7632),console[_0x42198d(0x4b8)](_0x42198d(0x6b1),_0x598468);let _0x262b6a=b[_0x42198d(0x605)]('AUTHENTICATION')[_0x42198d(0x43e)],_0x52022f=_0x521177['query'][_0x42198d(0x352)];if(console[_0x42198d(0x4b8)](_0x42198d(0x82c),_0x52022f),_0x262b6a[_0x42198d(0x67d)]!==_0x52022f){console[_0x42198d(0x4b8)](_0x42198d(0x7c3));try{let _0x19de07=await ce[_0x42198d(0x234)]['find'](_0xee7632);if(console[_0x42198d(0x4b8)]('Instance\x20Key\x20from\x20DB:',_0x19de07),!_0x19de07||_0x19de07[_0x42198d(0x352)]!==_0x52022f)return console['log'](_0x42198d(0x50c)),_0x426b3f['status'](0x191)[_0x42198d(0x322)](_0x42198d(0x607));}catch(_0x2a899a){return console[_0x42198d(0x57f)](_0x42198d(0x47e),_0x2a899a),_0x426b3f[_0x42198d(0x728)](0x191)[_0x42198d(0x322)](_0x42198d(0x6f3));}}if(!await We(_0xee7632))return _0x426b3f[_0x42198d(0x728)](0x194)[_0x42198d(0x322)]('Instância\x20não\x20encontrada.');_0x426b3f[_0x42198d(0x530)](_0x42198d(0x3dd),_0x42198d(0x2fe)),_0x426b3f[_0x42198d(0x530)]('Cache-Control',_0x42198d(0x251)),_0x426b3f['setHeader'](_0x42198d(0x1d5),_0x42198d(0x18b)),_0x426b3f[_0x42198d(0x302)]();let _0x3e81f6='data:\x20'+JSON[_0x42198d(0x62a)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x426b3f[_0x42198d(0x6a7)](_0x3e81f6),nr(_0xee7632,_0x5b6b1a,_0x426b3f,_0x598468),_0x521177['on'](_0x42198d(0x19f),()=>{const _0x189f82=_0x42198d;console[_0x189f82(0x4b8)]('Connection\x20closed\x20for\x20instance:\x20'+_0xee7632),cr(_0xee7632,_0x5b6b1a);});}),vt['get']('/clients-info',(_0x278964,_0x457df7)=>{const _0x2c23f3=a0_0x4ff83f;let _0x58b9be=lr();_0x457df7[_0x2c23f3(0x776)](_0x58b9be);})[a0_0x4ff83f(0x605)]('/',(_0x4dc0d4,_0x15d4f7)=>{const _0x562248=a0_0x4ff83f;let _0x51aa6f=b[_0x562248(0x605)](_0x562248(0x211))[_0x562248(0x30e)];if(_0x51aa6f){let _0x42c09e=encodeURIComponent(''+_0x51aa6f);_0x15d4f7['redirect'](_0x562248(0x3e8)+_0x42c09e);return;}let _0x40e6bd=b[_0x562248(0x605)](_0x562248(0x7e0)),_0x142e4c=_0x40e6bd&&_0x40e6bd[_0x562248(0x6fc)]['split']('/')[0x4];if(_0x142e4c){let _0x270a91=encodeURIComponent('https://'+_0x142e4c);_0x15d4f7['redirect'](_0x562248(0x3e8)+_0x270a91);}else _0x15d4f7['redirect'](_0x562248(0x61e));})[a0_0x4ff83f(0x49d)](a0_0x4ff83f(0x64e),...ee,async(_0x5ed433,_0x1eed4a)=>{const _0x555a38=a0_0x4ff83f;try{console['log']('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x1eed4a[_0x555a38(0x728)](0xc8)[_0x555a38(0x776)]({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x1eed4a['on'](_0x555a38(0x5a4),()=>process[_0x555a38(0x4b4)](0x0));}catch(_0x2c7d87){console[_0x555a38(0x57f)](_0x555a38(0x4ea),_0x2c7d87),_0x1eed4a['status'](0x1f4)[_0x555a38(0x776)]({'message':_0x555a38(0x265)});}})['put']('/config',...ee,async(_0x165191,_0x3daf36)=>{const _0x1597f9=a0_0x4ff83f;try{let _0x17bb9e=_0x165191['body'];await fe['updateOne']({},{'$set':_0x17bb9e},{'upsert':!0x0});let _0x7b5b4a=await fe[_0x1597f9(0x64f)]();_0x3daf36[_0x1597f9(0x776)](_0x7b5b4a);}catch(_0x11235b){_0x3daf36[_0x1597f9(0x728)](0x190)[_0x1597f9(0x322)](_0x11235b[_0x1597f9(0x41d)]);}})[a0_0x4ff83f(0x605)]('/config',...ee,async(_0x41f42c,_0x467d44)=>{const _0x2e3d33=a0_0x4ff83f;try{let _0x2c2bf2=await fe[_0x2e3d33(0x64f)]();if(!_0x2c2bf2)return _0x467d44[_0x2e3d33(0x776)]({});_0x467d44[_0x2e3d33(0x776)](_0x2c2bf2);}catch(_0x5b4b64){_0x467d44[_0x2e3d33(0x728)](0x1f4)[_0x2e3d33(0x322)](_0x5b4b64[_0x2e3d33(0x41d)]);}})[a0_0x4ff83f(0x36f)](a0_0x4ff83f(0x320),new ct(b,...ee)['router'])[a0_0x4ff83f(0x36f)](a0_0x4ff83f(0x603),new bt(...ee)['router'])[a0_0x4ff83f(0x36f)]('/chat',new Xe(...ee)[a0_0x4ff83f(0x1a9)])[a0_0x4ff83f(0x36f)](a0_0x4ff83f(0x4be),new nt(...ee)[a0_0x4ff83f(0x1a9)])[a0_0x4ff83f(0x36f)](a0_0x4ff83f(0x689),new Et(...ee)[a0_0x4ff83f(0x1a9)])[a0_0x4ff83f(0x36f)]('/automate',new Ct(...ee)[a0_0x4ff83f(0x1a9)]);var m=class{constructor(..._0x5d15f1){const _0x3fd891=a0_0x4ff83f;throw{'status':0x190,'error':_0x3fd891(0x73c),'message':_0x5d15f1[_0x3fd891(0x78e)]>0x0?_0x5d15f1:void 0x0};}},Z=class{constructor(..._0x1b91bd){const _0x3bab36=a0_0x4ff83f;throw{'status':0x191,'error':_0x3bab36(0x388),'message':_0x1b91bd['length']>0x0?_0x1b91bd:void 0x0};}},H=class{constructor(..._0x21158b){const _0x38b9af=a0_0x4ff83f;throw{'status':0x193,'error':_0x38b9af(0x53d),'message':_0x21158b[_0x38b9af(0x78e)]>0x0?_0x21158b:void 0x0};}},k=class{constructor(..._0x3367cf){const _0x30e4be=a0_0x4ff83f;throw{'status':0x194,'error':_0x30e4be(0x59b),'message':_0x3367cf[_0x30e4be(0x78e)]>0x0?_0x3367cf:void 0x0};}},I=class{constructor(..._0x30f921){const _0x51038f=a0_0x4ff83f;throw{'status':0x1f4,'error':_0x51038f(0x364),'message':_0x30f921[_0x51038f(0x78e)]>0x0?_0x30f921:void 0x0};}},le=require('@whiskeysockets/baileys');async function ws(_0x292829){const _0x481b82=a0_0x4ff83f;let _0x38f56a=new v(ws[_0x481b82(0x1c3)]),_0x194308=R[_0x481b82(0x82a)](),_0x3e01a3=_0x194308['db'](b[_0x481b82(0x605)]('DATABASE')[_0x481b82(0x616)][_0x481b82(0x33b)]+'-instances')[_0x481b82(0x6a3)](_0x292829),_0x497d54=async(_0x338772,_0x1d18f3)=>{const _0x1541c6=_0x481b82;try{return await _0x194308[_0x1541c6(0x773)](),await _0x3e01a3[_0x1541c6(0x26f)]({'_id':_0x1d18f3},JSON[_0x1541c6(0x60a)](JSON[_0x1541c6(0x62a)](_0x338772,le['BufferJSON'][_0x1541c6(0x3b5)])),{'upsert':!0x0});}catch{}},_0x5e249c=async _0x5515ad=>{const _0x1bc3e2=_0x481b82;try{await _0x194308[_0x1bc3e2(0x773)]();let _0x2db8bf=await _0x3e01a3[_0x1bc3e2(0x64f)]({'_id':_0x5515ad}),_0x3676a3=JSON[_0x1bc3e2(0x62a)](_0x2db8bf);return JSON[_0x1bc3e2(0x60a)](_0x3676a3,le[_0x1bc3e2(0x418)][_0x1bc3e2(0x701)]);}catch{}},_0x544a80=async _0x2d7e53=>{const _0x185953=_0x481b82;try{return await _0x194308[_0x185953(0x773)](),await _0x3e01a3['deleteOne']({'_id':_0x2d7e53});}catch{}},_0x284798=await _0x5e249c(_0x481b82(0x7dd))||(0x0,le[_0x481b82(0x6fa)])();return{'state':{'creds':_0x284798,'keys':{'get':async(_0x57a668,_0x55a2d9)=>{const _0x23a314=_0x481b82;let _0x180bb4={};return await Promise[_0x23a314(0x5b2)](_0x55a2d9[_0x23a314(0x5c3)](async _0x245f61=>{const _0x426ee6=_0x23a314;let _0xbd640b=await _0x5e249c(_0x57a668+'-'+_0x245f61);_0x57a668===_0x426ee6(0x782)&&_0xbd640b&&(_0xbd640b=le['proto'][_0x426ee6(0x243)][_0x426ee6(0x6c6)][_0x426ee6(0x69a)](_0xbd640b)),_0x180bb4[_0x245f61]=_0xbd640b;})),_0x180bb4;},'set':async _0x396139=>{const _0x5be101=_0x481b82;let _0x529ba3=[];for(let _0x4c6359 in _0x396139)for(let _0x99446a in _0x396139[_0x4c6359]){let _0xb2bcd=_0x396139[_0x4c6359][_0x99446a],_0x4cd9d6=_0x4c6359+'-'+_0x99446a;_0x529ba3['push'](_0xb2bcd?_0x497d54(_0xb2bcd,_0x4cd9d6):_0x544a80(_0x4cd9d6));}await Promise[_0x5be101(0x5b2)](_0x529ba3);}}},'saveCreds':async()=>_0x497d54(_0x284798,_0x481b82(0x7dd))};}var Es=T(require(a0_0x4ff83f(0x4a2))),Cs=T(require(a0_0x4ff83f(0x41e))),Tt=require('@whiskeysockets/baileys'),pr=require(a0_0x4ff83f(0x182)),Rt=require(a0_0x4ff83f(0x59a)),Nt;function pi(_0xa4fbae){const _0x557873=a0_0x4ff83f;return Nt||(Nt=(0x0,pr['createClient'])({'url':_0xa4fbae[_0x557873(0x443)]}),Nt[_0x557873(0x773)]()),Nt;}var re=class c{constructor(_0x5c95e6,_0xc0c55b){const _0x359600=a0_0x4ff83f;this[_0x359600(0x419)]=_0x5c95e6,this[_0x359600(0x532)]=_0xc0c55b,this[_0x359600(0x277)]=new v(c[_0x359600(0x1c3)]),this[_0x359600(0x4ae)]=pi(_0x5c95e6);}set[a0_0x4ff83f(0x1f5)](_0x3c14ac){const _0x3eb033=a0_0x4ff83f;this[_0x3eb033(0x532)]=_0x3c14ac;}async[a0_0x4ff83f(0x5ec)](){const _0x5314f2=a0_0x4ff83f;try{return await this[_0x5314f2(0x4ae)][_0x5314f2(0x519)]([_0x5314f2(0x356),this[_0x5314f2(0x419)][_0x5314f2(0x34b)]+':*']);}catch(_0x2113b3){this[_0x5314f2(0x277)][_0x5314f2(0x57f)](_0x2113b3);}}async[a0_0x4ff83f(0x692)](_0x159465,_0x110607){const _0x217457=a0_0x4ff83f;try{let _0x11921c=JSON[_0x217457(0x62a)](_0x110607,Rt[_0x217457(0x418)][_0x217457(0x3b5)]);return await this[_0x217457(0x4ae)][_0x217457(0x43d)](this['redisEnv'][_0x217457(0x34b)]+':'+this[_0x217457(0x532)],_0x159465,_0x11921c);}catch(_0x2f7c19){this[_0x217457(0x277)][_0x217457(0x57f)](_0x2f7c19);}}async[a0_0x4ff83f(0x703)](){const _0x1fa343=a0_0x4ff83f;try{let _0x632734=await this[_0x1fa343(0x4ae)][_0x1fa343(0x65e)](this['redisEnv']['PREFIX_KEY']+':'+this[_0x1fa343(0x532)]);if(_0x632734){for(let _0x209bf0 in _0x632734)Object[_0x1fa343(0x57c)][_0x1fa343(0x50e)]['call'](_0x632734,_0x209bf0)&&(_0x632734[_0x209bf0]=JSON[_0x1fa343(0x60a)](_0x632734[_0x209bf0],Rt[_0x1fa343(0x418)][_0x1fa343(0x701)]));return _0x632734;}}catch(_0x5377b9){this[_0x1fa343(0x277)][_0x1fa343(0x57f)](_0x5377b9);}}async['readData'](_0x277aeb){const _0x5705b5=a0_0x4ff83f;try{let _0x8d3b38=await this['client'][_0x5705b5(0x351)](this[_0x5705b5(0x419)]['PREFIX_KEY']+':'+this[_0x5705b5(0x532)],_0x277aeb);if(_0x8d3b38)return JSON[_0x5705b5(0x60a)](_0x8d3b38,Rt['BufferJSON']['reviver']);}catch(_0x19c668){this[_0x5705b5(0x277)][_0x5705b5(0x57f)](_0x19c668);}}async[a0_0x4ff83f(0x376)](_0x211f52){const _0x31e6bb=a0_0x4ff83f;try{return await this[_0x31e6bb(0x4ae)][_0x31e6bb(0x4e7)](this[_0x31e6bb(0x419)][_0x31e6bb(0x34b)]+':'+this[_0x31e6bb(0x532)],_0x211f52);}catch(_0x5645ae){this[_0x31e6bb(0x277)][_0x31e6bb(0x57f)](_0x5645ae);}}async['delAll'](_0x1fb477){const _0x2552db=a0_0x4ff83f;try{return await this['client'][_0x2552db(0x3e4)](_0x1fb477||this['redisEnv'][_0x2552db(0x34b)]+':'+this[_0x2552db(0x532)]);}catch(_0x3664df){this['logger'][_0x2552db(0x57f)](_0x3664df);}}};async function ys(_0x373fff,_0xe0d4a3){const _0x3a10e6=a0_0x4ff83f;let _0x10fcab=new v(ys[_0x3a10e6(0x1c3)]),_0x56f897=new re(_0x373fff,_0xe0d4a3),_0x43cc49=async(_0x3a974f,_0x2c4ac4)=>{const _0xe9a9e8=_0x3a10e6;try{return await _0x56f897[_0xe9a9e8(0x692)](_0x2c4ac4,_0x3a974f);}catch(_0x3cab22){return _0x10fcab[_0xe9a9e8(0x57f)]({'localError':_0xe9a9e8(0x692),'error':_0x3cab22});}},_0x50d4f4=async _0x35f174=>{const _0x314460=_0x3a10e6;try{return await _0x56f897[_0x314460(0x474)](_0x35f174);}catch(_0x492309){_0x10fcab[_0x314460(0x57f)]({'readData':_0x314460(0x692),'error':_0x492309});return;}},_0x5c573c=async _0x108e8c=>{const _0x1f996a=_0x3a10e6;try{return await _0x56f897[_0x1f996a(0x376)](_0x108e8c);}catch(_0x5a1814){_0x10fcab[_0x1f996a(0x57f)]({'readData':'removeData','error':_0x5a1814});}},_0x204566=await _0x50d4f4(_0x3a10e6(0x7dd))||(0x0,Tt['initAuthCreds'])();return{'state':{'creds':_0x204566,'keys':{'get':async(_0x28f3b0,_0x58730d)=>{const _0x479eb5=_0x3a10e6;let _0x7516bd={};return await Promise[_0x479eb5(0x5b2)](_0x58730d['map'](async _0x417a0b=>{const _0x5c3371=_0x479eb5;let _0x1bdf82=await _0x50d4f4(_0x28f3b0+'-'+_0x417a0b);_0x28f3b0===_0x5c3371(0x782)&&_0x1bdf82&&(_0x1bdf82=Tt['proto']['Message'][_0x5c3371(0x6c6)][_0x5c3371(0x69a)](_0x1bdf82)),_0x7516bd[_0x417a0b]=_0x1bdf82;})),_0x7516bd;},'set':async _0x5169a7=>{const _0x58c824=_0x3a10e6;let _0x519aa6=[];for(let _0x49e058 in _0x5169a7)for(let _0x51b446 in _0x5169a7[_0x49e058]){let _0x3754c5=_0x5169a7[_0x49e058][_0x51b446],_0x575607=_0x49e058+'-'+_0x51b446;_0x519aa6[_0x58c824(0x3ed)](_0x3754c5?await _0x43cc49(_0x3754c5,_0x575607):await _0x5c573c(_0x575607));}await Promise[_0x58c824(0x5b2)](_0x519aa6);}}},'saveCreds':async()=>await _0x43cc49(_0x204566,_0x3a10e6(0x7dd))};}var L=T(require('fs')),Ce=require(a0_0x4ff83f(0x721)),xt=T(require(a0_0x4ff83f(0x462))),Dt=require(a0_0x4ff83f(0x456)),hi='\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a'[a0_0x4ff83f(0x35f)](),Ot=hi[a0_0x4ff83f(0x290)]('\x0a')[a0_0x4ff83f(0x5c3)](_0x5c94d7=>{const _0x276e7f=a0_0x4ff83f;let _0x54e103=_0x5c94d7[_0x276e7f(0x290)](':'),_0x2a855a={'host':_0x54e103[0x0],'port':_0x54e103[0x1],'protocol':_0x276e7f(0x55a)};return _0x54e103['length']===0x4&&(_0x2a855a[_0x276e7f(0x3c3)]=_0x54e103[0x2],_0x2a855a[_0x276e7f(0x679)]=_0x54e103[0x3]),_0x2a855a;});function hr(_0x40dbc8){const _0x9228bb=a0_0x4ff83f;return Ot[_0x9228bb(0x678)](_0x1438f0=>_0x1438f0[_0x9228bb(0x723)]===_0x40dbc8)||null;}function gr(){const _0x3601e9=a0_0x4ff83f;if(Ot['length']===0x0)return null;let _0x4b88dd=Math[_0x3601e9(0x593)](Math[_0x3601e9(0x262)]()*Ot[_0x3601e9(0x78e)]);return Ot[_0x4b88dd];}function bs(_0x1bac99){const _0x5ba8e2=a0_0x4ff83f;let _0x5c0cae=_0x350f83=>typeof _0x350f83==_0x5ba8e2(0x27d)&&_0x350f83['length']>0x0,_0x35b7f2=_0x43c79f=>{let _0x25c370=parseInt(_0x43c79f,0xa);return!isNaN(_0x25c370)&&_0x25c370>0x0&&_0x25c370<=0xffff;},_0x1acb54=_0x3d9f57=>typeof _0x3d9f57==_0x5ba8e2(0x27d)&&_0x3d9f57[_0x5ba8e2(0x78e)]>0x0;return _0x1bac99&&_0x5c0cae(_0x1bac99[_0x5ba8e2(0x723)])&&_0x35b7f2(_0x1bac99['port'])&&(!_0x1bac99['username']||_0x1acb54(_0x1bac99[_0x5ba8e2(0x3c3)]))&&(!_0x1bac99['password']||_0x1acb54(_0x1bac99['password']))&&(_0x1bac99[_0x5ba8e2(0x66b)]===_0x5ba8e2(0x55a)||_0x1bac99[_0x5ba8e2(0x66b)]===_0x5ba8e2(0x584));}var Ms=require(a0_0x4ff83f(0x31e)),Er='Safari\x20(MacOS)',vs,ie=null,mr=null,He=null,gi=0x3,mi=null;async function fi(){const _0x56a278=a0_0x4ff83f;let _0x55986f=await fe[_0x56a278(0x64f)]();ie=_0x55986f?.[_0x56a278(0x29f)]??null,mi=_0x55986f?.[_0x56a278(0x2c4)]??null,Er=_0x55986f?.[_0x56a278(0x587)]??_0x56a278(0x7cf),vs=_0x55986f?.[_0x56a278(0x2ad)]??Ns??_0x56a278(0x5df),console[_0x56a278(0x4b8)]('CONFIGURAÇÃO\x20GERAL:'),console[_0x56a278(0x4b8)](_0x55986f);}async function wi(){await fi();}wi();var fr={},we=class c{constructor(_0x3a0b66,_0x11404e,_0x411ebc){const _0x41ef3d=a0_0x4ff83f;this[_0x41ef3d(0x664)]=_0x3a0b66,this['eventEmitter']=_0x11404e,this['repository']=_0x411ebc,this['AutomateSystem']=null,this['logger']=new v(c['name']),this[_0x41ef3d(0x5c4)]={},this[_0x41ef3d(0x7f8)]={},this[_0x41ef3d(0x442)]={'state':_0x41ef3d(0x19f)},this[_0x41ef3d(0x68b)]=(0x0,j[_0x41ef3d(0x35a)])(se,_0x41ef3d(0x77b)),this[_0x41ef3d(0x22f)]=new Cs['default'](),this['userDevicesCache']=new Cs[(_0x41ef3d(0x604))](),this[_0x41ef3d(0x458)]=!0x1,this['webhookMap']={'status.instance':_0x41ef3d(0x2aa),'qrcode.updated':_0x41ef3d(0x18c),'messages.upsert':_0x41ef3d(0x618),'messages.update':_0x41ef3d(0x1ae),'send.message':'/wa-message','group.upsert':'/wa-groups','group.update':'/wa-groups','group-participants.update':'/wa-groups','connection.update':'/wa-connection-update','messages.set':_0x41ef3d(0x618),'contacts.set':_0x41ef3d(0x802),'contacts.upsert':_0x41ef3d(0x802),'contacts.update':_0x41ef3d(0x802),'presence.update':_0x41ef3d(0x3c4),'chats.set':_0x41ef3d(0x646),'chats.update':_0x41ef3d(0x646),'chats.upsert':_0x41ef3d(0x646),'chats.delete':_0x41ef3d(0x646)},this[_0x41ef3d(0x207)]=0x0,this[_0x41ef3d(0x524)]=[],this[_0x41ef3d(0x339)]=0xa,this[_0x41ef3d(0x7ff)]=0xea60,this[_0x41ef3d(0x69b)]=!0x1,this[_0x41ef3d(0x1d0)]={'chats.upsert':async(_0x21035f,_0x304175)=>{const _0x40a80c=_0x41ef3d;let _0x4a689b=[];for await(let _0x446ff0 of _0x21035f)_0x4a689b[_0x40a80c(0x3ed)]({'_id':_0x446ff0['id'],'owner':this[_0x40a80c(0x5c4)][_0x40a80c(0x6a8)],'group':_0x446ff0['id'][_0x40a80c(0x6ec)]('@g.us'),'name':_0x446ff0[_0x40a80c(0x1c3)]||_0x446ff0[_0x40a80c(0x303)]||null,'contactname':null,'lastmsg':_0x446ff0[_0x40a80c(0x563)]&&_0x446ff0[_0x40a80c(0x563)][_0x40a80c(0x552)]()['length']<0xd?_0x446ff0[_0x40a80c(0x563)]*0x3e8:_0x446ff0['conversationTimestamp']||null,'archived':_0x446ff0['archived']||!0x1,'unreadcount':_0x446ff0[_0x40a80c(0x7f2)]||0x0});this[_0x40a80c(0x70e)]('chats.upsert',_0x4a689b);},'chats.update':async(_0xc61e72,_0x29b825)=>{const _0x161758=_0x41ef3d;for(let _0x41c854 of _0xc61e72){let _0x240ecf={'_id':_0x41c854['id'],'owner':this[_0x161758(0x5c4)][_0x161758(0x6a8)],'group':_0x41c854['id'][_0x161758(0x6ec)](_0x161758(0x5fe)),'name':_0x41c854[_0x161758(0x1c3)]||_0x41c854[_0x161758(0x303)],'archived':_0x41c854[_0x161758(0x19a)],'ephemeralExpiration':_0x41c854[_0x161758(0x5c5)]},_0x12f4f0=!0x1,_0x45b030={};_0x240ecf[_0x161758(0x19a)]!=null&&(this[_0x161758(0x277)]['verbose'](this[_0x161758(0x532)]+'\x20('+this['instance'][_0x161758(0x6a8)]+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x41c854[_0x161758(0x19a)]),_0x12f4f0=!0x0,_0x45b030[_0x161758(0x19a)]=_0x41c854[_0x161758(0x19a)]),_0x41c854[_0x161758(0x1c3)]!=null&&(this[_0x161758(0x277)][_0x161758(0x5bf)](this['instanceName']+'\x20('+this[_0x161758(0x5c4)][_0x161758(0x6a8)]+_0x161758(0x52d)+_0x41c854[_0x161758(0x1c3)]),_0x12f4f0=!0x0,_0x45b030['name']=_0x41c854[_0x161758(0x1c3)]),_0x41c854[_0x161758(0x303)]!=null&&(this['logger'][_0x161758(0x5bf)](this[_0x161758(0x532)]+'\x20('+this[_0x161758(0x5c4)]['wuid']+_0x161758(0x396)+_0x41c854['displayName']),_0x12f4f0=!0x0,_0x45b030['name']=_0x41c854[_0x161758(0x303)]);let _0x1989eb;_0x12f4f0&&(_0x1989eb=await this[_0x161758(0x53b)]['chat']['updateOne']({'where':{'_id':_0x41c854['id']}},_0x45b030,this['instance']['wuid'])),_0x1989eb&&q(this[_0x161758(0x532)],_0x161758(0x7ae),{'chat':_0x1989eb});}},'chats.delete':async _0x85c5f1=>{const _0x1c3187=_0x41ef3d;this[_0x1c3187(0x70e)](_0x1c3187(0x47d),[..._0x85c5f1]);}},this['contactHandle']={'contacts.upsert':async(_0x4f4441,_0x32c83a)=>{const _0x282909=_0x41ef3d;let _0x3f8ef6=await this[_0x282909(0x53b)][_0x282909(0x75b)][_0x282909(0x678)]({'where':{}},this['instance']['wuid']),_0x3d82f9=[];for await(let _0x3c5f6f of _0x4f4441)_0x3f8ef6[_0x282909(0x678)](_0x4f06c7=>_0x4f06c7[_0x282909(0x572)]===_0x3c5f6f['id'])||_0x3d82f9[_0x282909(0x3ed)]({'_id':_0x3c5f6f['id'],'pushName':_0x3c5f6f?.[_0x282909(0x1c3)]||_0x3c5f6f?.['verifiedName'],'owner':this['instance']['wuid']});this[_0x282909(0x70e)](_0x282909(0x716),_0x3d82f9),await this['repository'][_0x282909(0x75b)][_0x282909(0x76a)](_0x3d82f9);},'contacts.update':async(_0x59dbef,_0x15fb1e)=>{const _0xc2cfef=_0x41ef3d;let _0x2b4609=[];for await(let _0x2928ef of _0x59dbef)_0x2b4609[_0xc2cfef(0x3ed)]({'_id':_0x2928ef['id'],'pushName':_0x2928ef?.[_0xc2cfef(0x1c3)]??_0x2928ef?.['verifiedName'],'owner':this['instance'][_0xc2cfef(0x6a8)]});this['sendDataWebhook'](_0xc2cfef(0x1f7),_0x2b4609);}},this[_0x41ef3d(0x573)]={'messaging-history.set':async({messages:_0x2ac9f3,chats:_0x48b243,isLatest:_0x471830},_0x45539c)=>{const _0x4a8340=_0x41ef3d;if(_0x471830){let _0xde3452=await Promise[_0x4a8340(0x5b2)](_0x48b243['map'](async _0x1db0e3=>({'_id':_0x1db0e3['id'],'owner':this[_0x4a8340(0x5c4)][_0x4a8340(0x6a8)],'group':_0x1db0e3['id'][_0x4a8340(0x6ec)]('@g.us'),'name':_0x1db0e3['name']||_0x1db0e3[_0x4a8340(0x303)]||null,'contactname':null,'lastmsg':_0x1db0e3[_0x4a8340(0x563)]&&_0x1db0e3[_0x4a8340(0x563)][_0x4a8340(0x552)]()[_0x4a8340(0x78e)]<0xd?_0x1db0e3['conversationTimestamp']*0x3e8:_0x1db0e3[_0x4a8340(0x563)]||null,'archived':_0x1db0e3['archived']||!0x1,'unreadcount':_0x1db0e3[_0x4a8340(0x7f2)]||0x0})));this[_0x4a8340(0x70e)](_0x4a8340(0x37f),_0xde3452),await this['upsertChats'](_0xde3452,_0x45539c);}let _0x5db74c=[],_0x19582b=Date[_0x4a8340(0x7fe)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x449f53]of Object['entries'](_0x2ac9f3)){if(_0x449f53[_0x4a8340(0x41d)]?.[_0x4a8340(0x3d1)]||_0x449f53[_0x4a8340(0x41d)]?.['senderKeyDistributionMessage']||!_0x449f53['message']||_0x449f53[_0x4a8340(0x657)][_0x4a8340(0x246)]===_0x4a8340(0x2f9)||(Es[_0x4a8340(0x604)][_0x4a8340(0x4de)](_0x449f53?.[_0x4a8340(0x2b4)])&&(_0x449f53[_0x4a8340(0x2b4)]=_0x449f53[_0x4a8340(0x2b4)]?.['toNumber']()),_0x449f53[_0x4a8340(0x2b4)]&&_0x449f53[_0x4a8340(0x2b4)]['toString']()[_0x4a8340(0x78e)]<0xd&&(_0x449f53['messageTimestamp']=_0x449f53['messageTimestamp']*0x3e8),_0x449f53[_0x4a8340(0x2b4)]<_0x19582b))continue;let _0x22d698=(0x0,g[_0x4a8340(0x4db)])(_0x449f53[_0x4a8340(0x41d)]),_0x4b7e18=(0x0,g[_0x4a8340(0x514)])(_0x22d698),{message_normalized:_0x4e6d39}=this[_0x4a8340(0x78d)](_0x22d698,_0x4b7e18,null);Object['keys'](_0x4e6d39)[_0x4a8340(0x78e)]>0x0&&_0x5db74c['push']({'_id':_0x449f53[_0x4a8340(0x657)]['id'],'key':_0x449f53[_0x4a8340(0x657)],'pushName':_0x449f53[_0x4a8340(0x630)],'participant':_0x449f53[_0x4a8340(0x1da)],'message':_0x22d698,'messageType':_0x4b7e18,'message_normalized':{'key':_0x449f53[_0x4a8340(0x657)],'pushName':_0x449f53[_0x4a8340(0x630)],'messageTimestamp':_0x449f53[_0x4a8340(0x2b4)],..._0x4e6d39},'messageTimestamp':_0x449f53[_0x4a8340(0x2b4)],'owner':this['instance']['wuid']});}_0x45539c[_0x4a8340(0x81b)]&&_0x5db74c['length']>0x0&&(this[_0x4a8340(0x277)]['verbose'](this[_0x4a8340(0x532)]+'\x20('+this[_0x4a8340(0x5c4)]['wuid']+_0x4a8340(0x70d)+_0x5db74c[_0x4a8340(0x78e)]+_0x4a8340(0x55f)+this[_0x4a8340(0x5c4)][_0x4a8340(0x6a8)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x4a8340(0x53b)][_0x4a8340(0x41d)]['insert']([..._0x5db74c],this[_0x4a8340(0x5c4)][_0x4a8340(0x6a8)])),this[_0x4a8340(0x70e)](_0x4a8340(0x75e),[..._0x5db74c]),_0x2ac9f3=void 0x0;},'messages.upsert':async({messages:_0x4739e2,type:_0x1b5de2},_0x3fa8ce)=>{const _0x3f1d42=_0x41ef3d;let _0x5f513a=_0x4739e2[0x0];if(_0x1b5de2!==_0x3f1d42(0x4fe)||!_0x5f513a?.[_0x3f1d42(0x41d)]||_0x5f513a['message']?.[_0x3f1d42(0x3d1)]||_0x5f513a[_0x3f1d42(0x41d)][_0x3f1d42(0x3c5)]||_0x5f513a[_0x3f1d42(0x657)][_0x3f1d42(0x246)]===_0x3f1d42(0x2f9))return;let _0x1953f0=null,_0x568d90=null;try{_0x1953f0=await this[_0x3f1d42(0x761)](_0x5f513a),_0x568d90=_0x1953f0?_0x1953f0[_0x3f1d42(0x35a)](','):null;}catch(_0x128aa8){this[_0x3f1d42(0x277)][_0x3f1d42(0x5bf)](this[_0x3f1d42(0x532)]+'\x20('+this[_0x3f1d42(0x5c4)][_0x3f1d42(0x6a8)]+_0x3f1d42(0x70d)+(_0x128aa8 instanceof Error?_0x128aa8[_0x3f1d42(0x41d)]:JSON[_0x3f1d42(0x62a)](_0x128aa8,null,0x2))),_0x568d90=_0x3f1d42(0x6f7);}if(this[_0x3f1d42(0x4ae)]['sendPresenceUpdate'](_0x3f1d42(0x7f9)),Es['default'][_0x3f1d42(0x4de)](_0x5f513a[_0x3f1d42(0x2b4)])&&(_0x5f513a['messageTimestamp']=_0x5f513a[_0x3f1d42(0x2b4)]?.[_0x3f1d42(0x7b5)]()),this[_0x3f1d42(0x7f8)]?.['groups_ignore']&&_0x5f513a['key'][_0x3f1d42(0x246)][_0x3f1d42(0x713)](_0x3f1d42(0x5fe))){this['logger']['verbose'](this[_0x3f1d42(0x532)]+'\x20('+this[_0x3f1d42(0x5c4)][_0x3f1d42(0x6a8)]+_0x3f1d42(0x5fd));return;}_0x5f513a[_0x3f1d42(0x2b4)]&&_0x5f513a[_0x3f1d42(0x2b4)][_0x3f1d42(0x552)]()[_0x3f1d42(0x78e)]<0xd&&(_0x5f513a[_0x3f1d42(0x2b4)]=_0x5f513a['messageTimestamp']*0x3e8);let _0x48dcde=_0x5f513a[_0x3f1d42(0x41d)],_0x16bdb1=(0x0,g[_0x3f1d42(0x4db)])(_0x48dcde),_0x4f5ff3=(0x0,g[_0x3f1d42(0x514)])(_0x16bdb1),{messageContent:_0x326773,message_normalized:_0x2948c5}=this[_0x3f1d42(0x78d)](_0x16bdb1,_0x4f5ff3,_0x568d90);_0x4f5ff3===_0x3f1d42(0x3d1)&&_0x326773?.[_0x3f1d42(0x37e)]&&(_0x4f5ff3='editedMessage');let _0x5bcb3f={'_id':_0x5f513a[_0x3f1d42(0x657)]['id'],'key':_0x5f513a[_0x3f1d42(0x657)],'pushName':_0x5f513a['pushName'],'message':_0x16bdb1,'messageType':_0x4f5ff3,'message_normalized':{'key':_0x5f513a[_0x3f1d42(0x657)],'pushName':_0x5f513a[_0x3f1d42(0x630)],'messageTimestamp':_0x5f513a[_0x3f1d42(0x2b4)],'source':(0x0,g[_0x3f1d42(0x23d)])(_0x5f513a['key']['id']),..._0x2948c5},'messageTimestamp':_0x5f513a[_0x3f1d42(0x2b4)],'owner':this[_0x3f1d42(0x5c4)][_0x3f1d42(0x6a8)],'source':(0x0,g[_0x3f1d42(0x23d)])(_0x5f513a[_0x3f1d42(0x657)]['id'])};_0x326773||(console[_0x3f1d42(0x57f)](_0x3f1d42(0x769)),this[_0x3f1d42(0x277)][_0x3f1d42(0x4b8)](_0x5bcb3f)),this[_0x3f1d42(0x277)][_0x3f1d42(0x4b8)](this[_0x3f1d42(0x532)]+'\x20('+this[_0x3f1d42(0x5c4)][_0x3f1d42(0x6a8)]+_0x3f1d42(0x70d)+(_0x5bcb3f[_0x3f1d42(0x657)]?.['fromMe']?_0x3f1d42(0x5ed):_0x3f1d42(0x628))+'\x20['+_0x5bcb3f[_0x3f1d42(0x657)]?.['remoteJid'][_0x3f1d42(0x707)]('@s.whatsapp.net','')+_0x3f1d42(0x1c2)+_0x5bcb3f['messageType']+')'),_0x5bcb3f['message_normalized']?.['text']&&this[_0x3f1d42(0x277)][_0x3f1d42(0x4b8)](_0x5bcb3f[_0x3f1d42(0x595)]?.[_0x3f1d42(0x7ee)]),await this[_0x3f1d42(0x53b)][_0x3f1d42(0x41d)][_0x3f1d42(0x76a)]([_0x5bcb3f],this['instance'][_0x3f1d42(0x6a8)]),this['sendDataWebhook']('messages.upsert',_0x5bcb3f),q(this[_0x3f1d42(0x532)],'messages',{'message':_0x5bcb3f}),_0x5f513a[_0x3f1d42(0x657)][_0x3f1d42(0x246)]!==_0x3f1d42(0x2f9)&&await this[_0x3f1d42(0x468)](_0x3fa8ce,_0x5bcb3f,_0x3f1d42(0x54c));},'messages.update':async(_0x515ef6,_0xd89b98)=>{const _0x3c08d6=_0x41ef3d;let _0x9864bf={0x0:'ERROR',0x1:'PENDING',0x2:'SERVER_ACK',0x3:'DELIVERY_ACK',0x4:_0x3c08d6(0x43f),0x5:_0x3c08d6(0x4eb)};for await(let {key:_0x48cafa,update:_0x4ec5db}of _0x515ef6){if(this[_0x3c08d6(0x7f8)]?.['groups_ignore']&&_0x48cafa[_0x3c08d6(0x246)][_0x3c08d6(0x713)](_0x3c08d6(0x5fe))){this[_0x3c08d6(0x277)][_0x3c08d6(0x5bf)]('group\x20ignored');return;}if(_0x48cafa['remoteJid']!=='status@broadcast'){let _0x445c74=Date[_0x3c08d6(0x7fe)](),_0x4e75d6;_0x4ec5db[_0x3c08d6(0x41d)]===null&&_0x4ec5db[_0x3c08d6(0x728)]===void 0x0?_0x4e75d6=_0x3c08d6(0x7c0):_0x4e75d6=_0x9864bf[_0x4ec5db[_0x3c08d6(0x728)]];let _0x2588c4=_0x48cafa[_0x3c08d6(0x246)][_0x3c08d6(0x707)](/:\d{1,2}@/g,'@'),_0x4fc42f={..._0x48cafa,'remoteJid':_0x2588c4,'status':_0x4e75d6,'datetime':_0x445c74,'owner':this[_0x3c08d6(0x5c4)][_0x3c08d6(0x6a8)]};this[_0x3c08d6(0x70e)](_0x3c08d6(0x787),_0x4fc42f),await this[_0x3c08d6(0x535)](_0x48cafa,_0x4fc42f);}}},'labels.association':async({type:_0x126779,association:_0x8f233b})=>{const _0x37cff1=_0x41ef3d;if(_0x8f233b[_0x37cff1(0x464)]===_0x37cff1(0x3ee)){let _0x3cdabf,_0x1601b6=0x0;for(;!_0x3cdabf&&_0x1601b6<this[_0x37cff1(0x317)];)_0x3cdabf=await this[_0x37cff1(0x53b)][_0x37cff1(0x7b0)][_0x37cff1(0x64f)]({'where':{'_id':_0x8f233b[_0x37cff1(0x188)]}},this[_0x37cff1(0x5c4)]['wuid']),_0x3cdabf||(_0x1601b6++,console['log'](_0x37cff1(0x4bb)+_0x8f233b[_0x37cff1(0x188)]+_0x37cff1(0x22d)+this[_0x37cff1(0x2be)]+_0x37cff1(0x731)+_0x1601b6+'/'+this[_0x37cff1(0x317)]+')'),await this[_0x37cff1(0x74f)](this['delayChatLabel_RETRY_DELAY_MS']));if(!_0x3cdabf){console[_0x37cff1(0x57f)](_0x37cff1(0x325)+_0x8f233b[_0x37cff1(0x188)]+_0x37cff1(0x560)+this[_0x37cff1(0x317)]+'\x20attempts.');return;}switch(_0x126779){case _0x37cff1(0x490):console[_0x37cff1(0x4b8)](_0x8f233b),await this[_0x37cff1(0x53b)][_0x37cff1(0x7b0)][_0x37cff1(0x273)]({'where':{'_id':_0x8f233b[_0x37cff1(0x188)]}},{'leadInfo.etiquetas':_0x8f233b[_0x37cff1(0x1e0)]},this[_0x37cff1(0x5c4)][_0x37cff1(0x6a8)],void 0x0,_0x37cff1(0x62f));break;case _0x37cff1(0x467):console[_0x37cff1(0x4b8)](_0x8f233b),await this[_0x37cff1(0x53b)][_0x37cff1(0x7b0)][_0x37cff1(0x273)]({'where':{'_id':_0x8f233b['chatId']}},{'leadInfo.etiquetas':_0x8f233b[_0x37cff1(0x1e0)]},this[_0x37cff1(0x5c4)][_0x37cff1(0x6a8)],void 0x0,_0x37cff1(0x79b));break;default:console[_0x37cff1(0x57f)](_0x37cff1(0x7f0)+_0x126779+']');}}},'labels.edit':async _0x4acf98=>{const _0xe9cb5=_0x41ef3d;if(!_0x4acf98||!_0x4acf98['id']){console['error'](_0xe9cb5(0x312));return;}if(!_0x4acf98[_0xe9cb5(0x7a3)]){let _0x4da929=['#ff9484','#64c4ff',_0xe9cb5(0x669),'#dfaef0',_0xe9cb5(0x585),_0xe9cb5(0x5e3),_0xe9cb5(0x76d),_0xe9cb5(0x39d),'#6f7bcf',_0xe9cb5(0x545),_0xe9cb5(0x60f),_0xe9cb5(0x7d2),_0xe9cb5(0x42a),'#f64847','#00a1f2',_0xe9cb5(0x3ce),'#ffae04',_0xe9cb5(0x78f),_0xe9cb5(0x38e),_0xe9cb5(0x1b9)],_0x2f6d5f;typeof _0x4acf98[_0xe9cb5(0x590)]==_0xe9cb5(0x528)&&_0x4acf98[_0xe9cb5(0x590)]>=0x0&&_0x4acf98[_0xe9cb5(0x590)]<_0x4da929[_0xe9cb5(0x78e)]?_0x2f6d5f=_0x4da929[_0x4acf98[_0xe9cb5(0x590)]]:(console[_0xe9cb5(0x57f)](_0xe9cb5(0x2c5),_0x4acf98[_0xe9cb5(0x590)]),_0x2f6d5f='#000000');let _0x3698bf={'_id':_0x4acf98['id'],'colorHex':_0x2f6d5f,'color':_0x4acf98?.[_0xe9cb5(0x590)],'name':_0x4acf98?.[_0xe9cb5(0x1c3)],'owner':this[_0xe9cb5(0x5c4)][_0xe9cb5(0x6a8)]};await this['repository'][_0xe9cb5(0x58e)][_0xe9cb5(0x273)]({'where':{'_id':_0x4acf98['id']}},_0x3698bf,this[_0xe9cb5(0x5c4)][_0xe9cb5(0x6a8)]),console[_0xe9cb5(0x4b8)](_0xe9cb5(0x58a),_0x4acf98);}_0x4acf98[_0xe9cb5(0x7a3)]&&(await this[_0xe9cb5(0x53b)][_0xe9cb5(0x58e)]['delete']({'where':{'_id':_0x4acf98['id']}},this['instance']['wuid']),console[_0xe9cb5(0x4b8)](_0xe9cb5(0x2cb),_0x4acf98['id']));}},this['groupHandler']={'groups.upsert':_0x4f46fa=>{const _0x180b32=_0x41ef3d;this[_0x180b32(0x70e)](_0x180b32(0x583),_0x4f46fa);},'groups.update':_0x13195f=>{const _0x4d143d=_0x41ef3d;this[_0x4d143d(0x70e)]('groups.update',_0x13195f);},'group-participants.update':_0x48e082=>{this['sendDataWebhook']('group-participants.update',_0x48e082);}},this[_0x41ef3d(0x317)]=0x5,this[_0x41ef3d(0x2be)]=0x1388,this[_0x41ef3d(0x761)]=async _0x2eaaeb=>{const _0xaf7068=_0x41ef3d;if(_0x2eaaeb[_0xaf7068(0x41d)]?.[_0xaf7068(0x785)]){let _0xcce16e=await this['getMessage'](_0x2eaaeb[_0xaf7068(0x41d)]['pollUpdateMessage'][_0xaf7068(0x3fa)],!0x0);if(_0xcce16e){let _0x45ed3a=_0xcce16e[_0xaf7068(0x657)][_0xaf7068(0x70c)]?this[_0xaf7068(0x5c4)][_0xaf7068(0x6a8)]+_0xaf7068(0x649):_0xcce16e['key'][_0xaf7068(0x1da)]||_0xcce16e['key'][_0xaf7068(0x246)],_0x27d1c4=_0xcce16e['key']['id'],_0x1311e8=_0xcce16e[_0xaf7068(0x41d)],_0x32b941=Buffer[_0xaf7068(0x1e8)](_0x1311e8[_0xaf7068(0x5ca)][_0xaf7068(0x43c)][_0xaf7068(0x552)](_0xaf7068(0x1aa)),_0xaf7068(0x1aa)),_0x305690=(0x0,g[_0xaf7068(0x775)])(_0x2eaaeb[_0xaf7068(0x41d)][_0xaf7068(0x785)][_0xaf7068(0x594)],{'pollCreatorJid':_0x45ed3a,'pollMsgId':_0x27d1c4,'pollEncKey':_0x32b941,'voterJid':_0x2eaaeb[_0xaf7068(0x657)][_0xaf7068(0x70c)]?this[_0xaf7068(0x5c4)][_0xaf7068(0x6a8)]+_0xaf7068(0x649):_0x2eaaeb[_0xaf7068(0x657)][_0xaf7068(0x246)][_0xaf7068(0x6ec)](_0xaf7068(0x449))?_0x2eaaeb[_0xaf7068(0x657)]['participant']:_0x2eaaeb[_0xaf7068(0x657)]['remoteJid']}),_0x3a5ba2=[],_0x2da543=_0x305690[_0xaf7068(0x1bb)]['map'](_0x2939c4=>Buffer[_0xaf7068(0x1e8)](_0x2939c4)[_0xaf7068(0x552)]('hex'));for(let {optionName:_0x15c65f}of _0x1311e8[_0xaf7068(0x4c4)]?.[_0xaf7068(0x516)]||_0x1311e8[_0xaf7068(0x2fa)]?.[_0xaf7068(0x516)]||_0x1311e8['pollCreationMessageV2']?.['options'])_0x2da543[_0xaf7068(0x42d)]((0x0,g['sha256'])(Buffer[_0xaf7068(0x1e8)](_0x15c65f))[_0xaf7068(0x552)](_0xaf7068(0x1aa)))>-0x1&&_0x3a5ba2[_0xaf7068(0x3ed)](_0x15c65f);return _0x3a5ba2;}}return null;},this[_0x41ef3d(0x78d)]=(_0x3add2c,_0x1cd95e,_0x39dd77)=>{const _0x46663e=_0x41ef3d;try{let _0x5e498e=_0x3add2c?(0x0,g[_0x46663e(0x245)])(_0x3add2c)[_0x1cd95e]:void 0x0,_0x39f52d={},_0x1383dc=null,_0x2200fa=null,_0x5143b9=null;_0x1cd95e===_0x46663e(0x3d1)&&_0x5e498e?.[_0x46663e(0x37e)]&&(_0x1cd95e=(0x0,g[_0x46663e(0x514)])(_0x5e498e[_0x46663e(0x37e)]),_0x1383dc=_0x3add2c['protocolMessage'][_0x46663e(0x657)]['id'],_0x5e498e=_0x3add2c[_0x46663e(0x3d1)][_0x46663e(0x37e)][_0x1cd95e]),_0x3add2c[_0x1cd95e]?.[_0x46663e(0x671)]?.[_0x46663e(0x6e8)]&&_0x3add2c[_0x1cd95e]?.[_0x46663e(0x671)]?.[_0x46663e(0x484)]&&(_0x2200fa=_0x3add2c[_0x1cd95e][_0x46663e(0x671)][_0x46663e(0x6e8)]),_0x3add2c[_0x46663e(0x648)]&&(_0x5143b9=_0x3add2c['reactionMessage']['key']['id']);let _0x19f94f;if(_0x5e498e&&typeof _0x5e498e==_0x46663e(0x29b)&&_0x46663e(0x3fa)in _0x5e498e&&({pollCreationMessageKey:_0x19f94f}=_0x5e498e),_0x1cd95e==='pollCreationMessage'||_0x1cd95e===_0x46663e(0x579)||_0x1cd95e==='pollCreationMessageV3'){let _0x1599ec=_0x5e498e['options'][_0x46663e(0x5c3)](_0xe9397d=>_0xe9397d[_0x46663e(0x696)])[_0x46663e(0x35a)]('|');_0x39f52d[_0x46663e(0x4cc)]=_0x1599ec;}let _0x9f7b63='';if(_0x5e498e&&(_0x9f7b63+=_0x5e498e[_0x46663e(0x1c3)]?_0x5e498e[_0x46663e(0x1c3)]:'',_0x9f7b63+=_0x5e498e['caption']?'\x20'+_0x5e498e[_0x46663e(0x440)]:'',_0x9f7b63+=_0x5e498e[_0x46663e(0x7e7)]?'\x20'+_0x5e498e['conversation']:'',_0x9f7b63+=_0x5e498e['displayName']?'\x20'+_0x5e498e[_0x46663e(0x303)]:''),_0x1cd95e===_0x46663e(0x6e3)){_0x9f7b63=(_0x5e498e[_0x46663e(0x4af)]||'')+'\x0a'+(_0x5e498e[_0x46663e(0x58c)]||'')+'\x0a'+(_0x5e498e[_0x46663e(0x792)]||'');let _0x845f30=this[_0x46663e(0x7c9)](_0x5e498e[_0x46663e(0x75a)]);_0x39f52d[_0x46663e(0x4cc)]=_0x845f30;}if(_0x1cd95e===_0x46663e(0x734)&&(_0x39dd77=_0x5e498e[_0x46663e(0x4af)]),_0x5e498e&&_0x5e498e[_0x46663e(0x291)]){let _0x96e0f8=this[_0x46663e(0x596)](JSON['stringify'](_0x5e498e[_0x46663e(0x291)],null,0x2));_0x9f7b63=_0x9f7b63+'\x0a'+_0x96e0f8;}if(_0x5e498e){let {sections:_0x5a030b,listType:_0x4a3b74,displayName:_0x55c4f7,vcard:_0x507ce5,contactVcard:_0x12ade7,name:_0xc0bf1d,caption:_0x5d6160,conversation:_0x4305f8,pollCreationMessageKey:_0x206f4a,footerText:_0x57dd9f,contentText:_0xea2420,pageCount:_0x1ad1d8,headerType:_0x281137,isAvatar:_0x2cb795,isAnimated:_0x2f5a24,fallbackLc:_0xc50ef0,fallbackLg:_0x1bb4eb,namespace:_0x33f955,elementName:_0x1aef91,localizableParams:_0x21266c,viewOnce:_0xd127c1,height:_0x263d41,width:_0x40f8db,key:_0x3e1193,firstScanLength:_0x56b96e,firstScanSidecar:_0x550ea0,gifPlayback:_0x4e8b96,gifAttribution:_0x40b71a,midQualityFileSha256:_0xe9b0f,scansSidecar:_0x53949a,streamingSidecar:_0x1591fd,thumbnailHeight:_0x37238d,thumbnailWidth:_0x2c2a19,thumbnailEncSha256:_0x2b028f,thumbnailDirectPath:_0x39065a,canonicalUrl:_0x5286ef,matchedText:_0x271a06,previewType:_0x2f489e,thumbnailSha256:_0x3a1a28,deviceListMetadataVersion:_0x246179,inviteLinkGroupTypeV2:_0x1d4d7d,interactiveAnnotations:_0x489c98,scanLengths:_0x4fbf58,jpegThumbnail:_0x5c8fb7,url:_0x4cbb12,mediaKeyTimestamp:_0x55d0e0,waveform:_0x1e02c1,stickerSentTs:_0x45a0f0,firstFrameLength:_0xee0f6d,fileEncSha256:_0x3da26f,contextInfo:_0x303770,firstFrameSidecar:_0x18db58,directPath:_0x4a293a,fileSha256:_0x43062e,mediaKey:_0x5255c0,senderTimestampMs:_0x467714,..._0x2499ca}=_0x5e498e;(_0x1cd95e===_0x46663e(0x6e3)||_0x1cd95e===_0x46663e(0x734))&&(delete _0x2499ca[_0x46663e(0x4af)],delete _0x2499ca['description']),typeof _0x5e498e==_0x46663e(0x27d)?_0x39f52d={'text':_0x5e498e,'type':_0x1cd95e||_0x46663e(0x7e7),..._0x1383dc&&{'edited':_0x1383dc},..._0x2200fa&&{'quoted':_0x2200fa},..._0x5143b9&&{'reaction':_0x5143b9}}:_0x39f52d={'text':_0x9f7b63,..._0x2499ca,..._0x1cd95e===_0x46663e(0x785)?{'poll_id':_0x5e498e[_0x46663e(0x3fa)]['id'],'quoted':_0x5e498e[_0x46663e(0x3fa)]['id'],'vote':_0x39dd77}:{},..._0x1cd95e==='listResponseMessage'?{'vote':_0x39dd77}:{},'type':_0x1cd95e,..._0x1383dc&&{'edited':_0x1383dc},..._0x2200fa&&{'quoted':_0x2200fa},..._0x5143b9&&{'reaction':_0x5143b9},...(_0x1cd95e===_0x46663e(0x4c4)||_0x1cd95e===_0x46663e(0x579)||_0x1cd95e==='pollCreationMessageV3'||_0x1cd95e==='listMessage')&&{'convertedOptions':_0x39f52d[_0x46663e(0x4cc)]}};}return{'messageType':_0x1cd95e,'messageContent':_0x5e498e,'message_normalized':_0x39f52d};}catch(_0x21920b){return console['error']('Erro\x20ao\x20normalizar\x20a\x20mensagem:',_0x21920b),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x41ef3d(0x44c)]=null,this['lastSend']=0x0,this['timerId']=null,(this[_0x41ef3d(0x7fb)](),this[_0x41ef3d(0x5c4)]['qrcode']={'count':0x0});}set[a0_0x4ff83f(0x532)](_0x3af765){const _0x1e7869=a0_0x4ff83f;if(!_0x3af765){this['instance'][_0x1e7869(0x1c3)]=(0x0,yr['v4'])();return;}this[_0x1e7869(0x5c4)]['name']=_0x3af765,this[_0x1e7869(0x70e)](_0x1e7869(0x4f2),{'instance':this['instance'][_0x1e7869(0x1c3)],'status':_0x1e7869(0x6e9)});}get[a0_0x4ff83f(0x532)](){const _0x1cbec8=a0_0x4ff83f;return this[_0x1cbec8(0x5c4)][_0x1cbec8(0x1c3)];}get[a0_0x4ff83f(0x6a8)](){const _0x1b297d=a0_0x4ff83f;return this[_0x1b297d(0x5c4)][_0x1b297d(0x6a8)];}async[a0_0x4ff83f(0x183)](){const _0x19a4a0=a0_0x4ff83f;let _0x1a62a1=this[_0x19a4a0(0x4ae)][_0x19a4a0(0x282)]?.[_0x19a4a0(0x1c3)]??this[_0x19a4a0(0x4ae)][_0x19a4a0(0x282)]?.[_0x19a4a0(0x5a2)];if(!_0x1a62a1){if(this[_0x19a4a0(0x664)]['get'](_0x19a4a0(0x3b9))[_0x19a4a0(0x81b)]){let _0x4ae8cc=await R[_0x19a4a0(0x82a)]()['db'](this[_0x19a4a0(0x664)][_0x19a4a0(0x605)](_0x19a4a0(0x3b9))[_0x19a4a0(0x616)]['DB_PREFIX_NAME']+_0x19a4a0(0x323))[_0x19a4a0(0x6a3)](this[_0x19a4a0(0x532)])[_0x19a4a0(0x64f)]({'_id':_0x19a4a0(0x7dd)});if(_0x4ae8cc){let _0x1e5611=JSON[_0x19a4a0(0x60a)](JSON[_0x19a4a0(0x62a)](_0x4ae8cc),g['BufferJSON'][_0x19a4a0(0x701)]);_0x1a62a1=_0x1e5611['me']?.[_0x19a4a0(0x1c3)]||_0x1e5611['me']?.[_0x19a4a0(0x5a2)];}}else{if((0x0,Me['existsSync'])((0x0,j[_0x19a4a0(0x35a)])(he,this[_0x19a4a0(0x532)],'creds.json'))){let _0xa180b9=JSON[_0x19a4a0(0x60a)]((0x0,Me[_0x19a4a0(0x751)])((0x0,j[_0x19a4a0(0x35a)])(he,this[_0x19a4a0(0x532)],_0x19a4a0(0x5db)),{'encoding':_0x19a4a0(0x1e5)}));_0x1a62a1=_0xa180b9['me']?.[_0x19a4a0(0x1c3)]||_0xa180b9['me']?.[_0x19a4a0(0x5a2)];}}}return _0x1a62a1;}get[a0_0x4ff83f(0x51d)](){const _0x3a2760=a0_0x4ff83f;return this[_0x3a2760(0x5c4)][_0x3a2760(0x51d)];}get[a0_0x4ff83f(0x3fe)](){const _0x3379b8=a0_0x4ff83f;return{'pairingCode':this[_0x3379b8(0x5c4)][_0x3379b8(0x806)]?.['pairingCode'],'code':this[_0x3379b8(0x5c4)][_0x3379b8(0x806)]?.[_0x3379b8(0x571)],'base64':this[_0x3379b8(0x5c4)][_0x3379b8(0x806)]?.[_0x3379b8(0x7d5)]};}async['loadWebhook'](){const _0xceda3c=a0_0x4ff83f;let _0x2b1743=await this[_0xceda3c(0x53b)][_0xceda3c(0x247)][_0xceda3c(0x678)](this[_0xceda3c(0x532)]);this['localWebhook'][_0xceda3c(0x6d8)]=_0x2b1743?.[_0xceda3c(0x6d8)],this[_0xceda3c(0x7f8)]['enabled']=_0x2b1743?.[_0xceda3c(0x722)],this[_0xceda3c(0x7f8)]['local_map']=_0x2b1743?.[_0xceda3c(0x3a1)],this[_0xceda3c(0x7f8)][_0xceda3c(0x1d7)]=_0x2b1743?.[_0xceda3c(0x1d7)],this['localWebhook']['QRCODE_UPDATED']=_0x2b1743?.[_0xceda3c(0x6b4)],this[_0xceda3c(0x7f8)][_0xceda3c(0x69e)]=_0x2b1743?.[_0xceda3c(0x69e)],this[_0xceda3c(0x7f8)][_0xceda3c(0x54c)]=_0x2b1743?.['MESSAGES_UPSERT'],this['localWebhook'][_0xceda3c(0x69d)]=_0x2b1743?.[_0xceda3c(0x69d)],this[_0xceda3c(0x7f8)][_0xceda3c(0x74c)]=_0x2b1743?.[_0xceda3c(0x74c)],this[_0xceda3c(0x7f8)][_0xceda3c(0x308)]=_0x2b1743?.['GROUPS_UPDATE'],this[_0xceda3c(0x7f8)]['GROUP_PARTICIPANTS_UPDATE']=_0x2b1743?.[_0xceda3c(0x819)],this[_0xceda3c(0x7f8)][_0xceda3c(0x4b2)]=_0x2b1743?.[_0xceda3c(0x4b2)],this['localWebhook'][_0xceda3c(0x690)]=_0x2b1743?.[_0xceda3c(0x690)],this[_0xceda3c(0x7f8)][_0xceda3c(0x791)]=_0x2b1743?.['CHATS_UPDATE'],this['localWebhook']['CHATS_DELETE']=_0x2b1743?.['CHATS_DELETE'],this['localWebhook'][_0xceda3c(0x4a1)]=_0x2b1743?.[_0xceda3c(0x4a1)],this[_0xceda3c(0x7f8)][_0xceda3c(0x44a)]=_0x2b1743?.[_0xceda3c(0x44a)],this[_0xceda3c(0x7f8)]['CONTACTS_UPDATE']=_0x2b1743?.[_0xceda3c(0x538)],this[_0xceda3c(0x7f8)]['PRESENCE_UPDATE']=_0x2b1743?.['PRESENCE_UPDATE'],this[_0xceda3c(0x7f8)][_0xceda3c(0x67a)]=_0x2b1743?.['MESSAGES_SET'],this['localWebhook'][_0xceda3c(0x1f8)]=_0x2b1743?.[_0xceda3c(0x1f8)],this[_0xceda3c(0x7f8)][_0xceda3c(0x7ed)]=_0x2b1743?.['groups_ignore'];}async[a0_0x4ff83f(0x46a)](_0x5e329b){const _0x589151=a0_0x4ff83f;let _0x1648b7=['_id',_0x589151(0x6d8),_0x589151(0x722),_0x589151(0x3a1),_0x589151(0x1d7),_0x589151(0x6b4),_0x589151(0x69d),_0x589151(0x54c),_0x589151(0x69e),_0x589151(0x74c),_0x589151(0x308),_0x589151(0x819),_0x589151(0x4b2),'CHATS_UPSERT',_0x589151(0x791),_0x589151(0x766),_0x589151(0x4a1),_0x589151(0x44a),_0x589151(0x538),_0x589151(0x7d3),_0x589151(0x67a),_0x589151(0x1f8),_0x589151(0x7ed)],_0x5751af={};return _0x1648b7[_0x589151(0x4bf)](_0x59ed64=>{_0x5e329b[_0x59ed64]!==void 0x0&&(_0x5751af[_0x59ed64]=_0x5e329b[_0x59ed64]);}),await this[_0x589151(0x53b)]['webhook']['create'](_0x5751af,this['instanceName']),Object[_0x589151(0x2dc)](this['localWebhook'],_0x5751af),await this['repository']['webhook'][_0x589151(0x678)](this[_0x589151(0x532)]);}async[a0_0x4ff83f(0x2ee)](){const _0x2fb5cd=a0_0x4ff83f;return await this['repository'][_0x2fb5cd(0x247)][_0x2fb5cd(0x678)](this['instanceName']);}async[a0_0x4ff83f(0x70e)](_0x580ca7,_0x21b272){const _0x5f457e=a0_0x4ff83f;let _0xfaf3e5=_0x580ca7[_0x5f457e(0x707)](/[\.-]/gm,'_')[_0x5f457e(0x36a)](),_0x291c02=this[_0x5f457e(0x7f8)][_0x5f457e(0x722)]&&(0x0,$[_0x5f457e(0x38c)])(this[_0x5f457e(0x7f8)][_0x5f457e(0x6d8)])?this[_0x5f457e(0x7f8)][_0x5f457e(0x6d8)]+(this[_0x5f457e(0x7f8)][_0x5f457e(0x3a1)]?this[_0x5f457e(0x795)][_0x580ca7]:''):null,_0x395b4f=this[_0x5f457e(0x7f8)][_0xfaf3e5],_0x41a5fc=ie&&ie[_0x5f457e(0x722)]&&(0x0,$['isURL'])(ie[_0x5f457e(0x6d8)])?ie[_0x5f457e(0x6d8)]+(ie[_0x5f457e(0x3a1)]?this[_0x5f457e(0x795)][_0x580ca7]:''):null,_0x32d271=ie?ie[_0xfaf3e5]:null;if(_0x395b4f&&_0x291c02)try{await te[_0x5f457e(0x604)][_0x5f457e(0x3b6)]({'baseURL':_0x291c02})[_0x5f457e(0x215)]('',{'event':_0x580ca7,'instance':this[_0x5f457e(0x5c4)][_0x5f457e(0x1c3)],'apikey':this['instance'][_0x5f457e(0x352)],'data':_0x21b272}),this[_0x5f457e(0x277)][_0x5f457e(0x4b8)](this[_0x5f457e(0x532)]+'\x20('+this[_0x5f457e(0x5c4)][_0x5f457e(0x6a8)]+_0x5f457e(0x559)+_0x580ca7+':\x20'+_0x291c02);}catch{this['logger'][_0x5f457e(0x57f)](this[_0x5f457e(0x532)]+'\x20('+this[_0x5f457e(0x5c4)][_0x5f457e(0x6a8)]+_0x5f457e(0x2a7)+_0x580ca7+':\x20'+_0x291c02);}if(_0x32d271&&_0x41a5fc)try{await te[_0x5f457e(0x604)][_0x5f457e(0x3b6)]({'baseURL':_0x41a5fc})[_0x5f457e(0x215)]('',{'event':_0x580ca7,'instance':this['instance'][_0x5f457e(0x1c3)],'apikey':this[_0x5f457e(0x5c4)][_0x5f457e(0x352)],'data':_0x21b272}),this[_0x5f457e(0x277)]['log'](this[_0x5f457e(0x532)]+'\x20('+this['instance'][_0x5f457e(0x6a8)]+'):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x580ca7+':\x20'+_0x41a5fc);}catch{this[_0x5f457e(0x277)][_0x5f457e(0x57f)](this[_0x5f457e(0x532)]+'\x20('+this[_0x5f457e(0x5c4)][_0x5f457e(0x6a8)]+_0x5f457e(0x2ce)+_0x580ca7+':\x20'+_0x41a5fc);}}async[a0_0x4ff83f(0x477)]({qr:_0x546b65,connection:_0x5f2967,lastDisconnect:_0x5528d3}){const _0x153d04=a0_0x4ff83f;if(_0x546b65){if(this[_0x153d04(0x5c4)][_0x153d04(0x806)]['count']===gi)return this[_0x153d04(0x70e)](_0x153d04(0x4b5),{'message':_0x153d04(0x670),'statusCode':g[_0x153d04(0x25f)][_0x153d04(0x2ca)]}),this[_0x153d04(0x442)]={'state':_0x153d04(0x479),'statusReason':g['DisconnectReason']['connectionClosed']},this['sendDataWebhook'](_0x153d04(0x6cd),{'instance':this[_0x153d04(0x5c4)][_0x153d04(0x1c3)],...this[_0x153d04(0x442)]}),this['sendDataWebhook'](_0x153d04(0x4f2),{'instance':this[_0x153d04(0x5c4)][_0x153d04(0x1c3)],'status':_0x153d04(0x40b)}),this[_0x153d04(0x53b)][_0x153d04(0x234)][_0x153d04(0x3b6)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x153d04(0x7fe)]()},this['instance']['name']),this[_0x153d04(0x458)]=!0x0,this[_0x153d04(0x622)][_0x153d04(0x76b)](_0x153d04(0x209),this[_0x153d04(0x5c4)]['name']);this[_0x153d04(0x5c4)][_0x153d04(0x806)][_0x153d04(0x641)]++;let _0x29d6fd={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x153d04(0x49f),'dark':_0x153d04(0x744)}};br[_0x153d04(0x604)][_0x153d04(0x1bc)](_0x546b65,_0x29d6fd,(_0x251e28,_0x599ba4)=>{const _0x56c4ad=_0x153d04;if(_0x251e28){this[_0x56c4ad(0x277)][_0x56c4ad(0x57f)](this[_0x56c4ad(0x532)]+'\x20('+this['instance'][_0x56c4ad(0x6a8)]+_0x56c4ad(0x749)+(_0x251e28 instanceof Error?_0x251e28['message']:JSON[_0x56c4ad(0x62a)](_0x251e28,null,0x2)));return;}this[_0x56c4ad(0x5c4)]['qrcode'][_0x56c4ad(0x7d5)]=_0x599ba4,this[_0x56c4ad(0x5c4)][_0x56c4ad(0x806)][_0x56c4ad(0x571)]=_0x546b65,this[_0x56c4ad(0x70e)]('qrcode.updated',{'qrcode':{'instance':this[_0x56c4ad(0x5c4)][_0x56c4ad(0x1c3)],'pairingCode':this[_0x56c4ad(0x5c4)][_0x56c4ad(0x806)][_0x56c4ad(0x5ab)],'code':_0x546b65,'base64':_0x599ba4}});}),this[_0x153d04(0x4c0)]?(await(0x0,g[_0x153d04(0x7bf)])(0x7d0),this[_0x153d04(0x5c4)]['qrcode']['pairingCode']=await this[_0x153d04(0x4ae)][_0x153d04(0x1c4)](this[_0x153d04(0x4c0)])):this['instance'][_0x153d04(0x806)]['pairingCode']=null,Sr[_0x153d04(0x604)][_0x153d04(0x38a)](_0x546b65,{'small':!0x0},_0x29bdb2=>this[_0x153d04(0x277)][_0x153d04(0x4b8)]('\x0a{\x20instance:\x20'+this[_0x153d04(0x5c4)]['name']+_0x153d04(0x414)+this[_0x153d04(0x5c4)][_0x153d04(0x806)][_0x153d04(0x641)]+_0x153d04(0x81d)+this[_0x153d04(0x5c4)][_0x153d04(0x806)][_0x153d04(0x5ab)]+_0x153d04(0x43b)+_0x29bdb2));}if(_0x5f2967&&(this['stateConnection']={'state':_0x5f2967,'statusReason':_0x5528d3?.[_0x153d04(0x57f)]?.[_0x153d04(0x225)]?.[_0x153d04(0x2c7)]??0xc8},this[_0x153d04(0x70e)](_0x153d04(0x6cd),{'instance':this[_0x153d04(0x5c4)][_0x153d04(0x1c3)],...this[_0x153d04(0x442)]})),_0x5f2967===_0x153d04(0x19f)){if(this[_0x153d04(0x207)]++,this[_0x153d04(0x524)][_0x153d04(0x3ed)](Date[_0x153d04(0x7fe)]()),this[_0x153d04(0x524)]=this[_0x153d04(0x524)][_0x153d04(0x53c)](_0x262264=>Date['now']()-_0x262264<this['RECONNECT_TIME_FRAME']),_0x5528d3[_0x153d04(0x57f)]?.[_0x153d04(0x225)]?.['statusCode']!==g[_0x153d04(0x25f)][_0x153d04(0x71a)]&&this[_0x153d04(0x524)]['length']<=this[_0x153d04(0x339)])console[_0x153d04(0x4b8)](this[_0x153d04(0x532)]+_0x153d04(0x217)+this[_0x153d04(0x207)]+'/'+this[_0x153d04(0x339)]+_0x153d04(0x2d9)),console[_0x153d04(0x4b8)](_0x153d04(0x37b)),await this[_0x153d04(0x441)]();else{this[_0x153d04(0x70e)]('status.instance',{'instance':this[_0x153d04(0x5c4)][_0x153d04(0x1c3)],'status':_0x153d04(0x40b)}),this[_0x153d04(0x350)]=!0x1,this[_0x153d04(0x53b)][_0x153d04(0x247)][_0x153d04(0x335)](this[_0x153d04(0x532)]),this[_0x153d04(0x53b)]['auth'][_0x153d04(0x3b6)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x153d04(0x7fe)]()},this[_0x153d04(0x5c4)][_0x153d04(0x1c3)]);try{this[_0x153d04(0x277)][_0x153d04(0x5bf)](this[_0x153d04(0x532)]+'\x20('+this[_0x153d04(0x5c4)]['wuid']+_0x153d04(0x51a));let _0x2f4e1b=await this[_0x153d04(0x53b)][_0x153d04(0x41d)][_0x153d04(0x4ad)](this['instance'][_0x153d04(0x6a8)]);_0x2f4e1b['success']?this[_0x153d04(0x277)][_0x153d04(0x5bf)](this[_0x153d04(0x532)]+'\x20('+this[_0x153d04(0x5c4)][_0x153d04(0x6a8)]+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):console[_0x153d04(0x57f)](_0x153d04(0x38f),_0x2f4e1b[_0x153d04(0x57f)]);}catch(_0x4ea9f3){console[_0x153d04(0x57f)](_0x153d04(0x1c0),_0x4ea9f3);}this[_0x153d04(0x5c6)]!==null&&(this[_0x153d04(0x277)][_0x153d04(0x5bf)](this[_0x153d04(0x532)]+'\x20('+this[_0x153d04(0x5c4)]['wuid']+_0x153d04(0x62c)),clearInterval(this[_0x153d04(0x5c6)]),this[_0x153d04(0x5c6)]=null),this['logger']['verbose'](this[_0x153d04(0x532)]+'\x20('+this[_0x153d04(0x5c4)]['wuid']+_0x153d04(0x491)),this[_0x153d04(0x1b1)]=null,this[_0x153d04(0x622)]['emit']('remove.instance',this[_0x153d04(0x5c4)][_0x153d04(0x1c3)],'inner'),this['client']?.['ws']?.[_0x153d04(0x19f)](),this[_0x153d04(0x4ae)][_0x153d04(0x5d4)](new Error(_0x153d04(0x503)));}}if(_0x5f2967==='open'){this[_0x153d04(0x4ae)]['ev'][_0x153d04(0x66c)](),this[_0x153d04(0x1e9)],this[_0x153d04(0x5c4)][_0x153d04(0x6a8)]=this[_0x153d04(0x4ae)][_0x153d04(0x282)]['id'][_0x153d04(0x707)](/:\d+/,'')[_0x153d04(0x707)](_0x153d04(0x649),''),this[_0x153d04(0x5c4)][_0x153d04(0x51d)]=(await this[_0x153d04(0x18e)](this['instance'][_0x153d04(0x6a8)]+_0x153d04(0x649)))[_0x153d04(0x51d)],this['repository']['auth'][_0x153d04(0x3b6)]({'online':!0x0,'owner':this[_0x153d04(0x5c4)][_0x153d04(0x6a8)],'lastDisconnect':null},this['instance'][_0x153d04(0x1c3)]);let _0x242ac4='Número:\x20'+this[_0x153d04(0x5c4)]['wuid'],_0x35845d=0x28,_0x30a22f=Math['floor']((_0x35845d-_0x242ac4[_0x153d04(0x78e)])/0x2),_0x1af2fe='\x20'['repeat'](_0x30a22f),_0xd6ca09=_0x153d04(0x6ae),_0x3d06d2='Instância:\x20'+this[_0x153d04(0x5c4)]['name'],_0x79d992=(''+_0x1af2fe+_0x242ac4+_0x1af2fe)['padEnd'](_0x35845d,'\x20'),_0x268bb8=(''+_0x1af2fe+_0xd6ca09+_0x1af2fe)[_0x153d04(0x1cf)](_0x35845d,'\x20'),_0xc08071=(''+_0x1af2fe+_0x3d06d2+_0x1af2fe)['padEnd'](_0x35845d,'\x20'),_0x1857c0=Math[_0x153d04(0x4ab)](_0x79d992['length'],_0x268bb8[_0x153d04(0x78e)],_0xc08071[_0x153d04(0x78e)]),_0x410319=_0x79d992[_0x153d04(0x1cf)](_0x1857c0,'\x20'),_0x1fed4b=_0x268bb8[_0x153d04(0x1cf)](_0x1857c0,'\x20'),_0x49579f=_0xc08071[_0x153d04(0x1cf)](_0x1857c0,'\x20');this[_0x153d04(0x277)][_0x153d04(0x256)]((_0x153d04(0x21e)+'─'[_0x153d04(0x452)](_0x1857c0)+_0x153d04(0x4c1)+_0x1fed4b+_0x153d04(0x803)+_0x49579f+_0x153d04(0x803)+_0x410319+_0x153d04(0x224)+'─'[_0x153d04(0x452)](_0x1857c0)+'┘')[_0x153d04(0x707)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x153d04(0x350)]=!0x0;}}['resetReconnectionVariables'](){const _0x4d67a2=a0_0x4ff83f;this['reconnectAttempts']=0x0,this[_0x4d67a2(0x524)]=[];}async['getMessage'](_0x4bb141,_0x407179=!0x1){const _0x40f3ec=a0_0x4ff83f;try{let _0x3e411c=await this['repository'][_0x40f3ec(0x41d)][_0x40f3ec(0x678)]({'where':{'_id':_0x4bb141['id']}},this[_0x40f3ec(0x5c4)]['wuid']);return _0x407179?_0x3e411c[0x0]:_0x3e411c[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x4ff83f(0x7fb)](){const _0x3cc75e=a0_0x4ff83f;let _0x593176=this[_0x3cc75e(0x664)][_0x3cc75e(0x605)](_0x3cc75e(0x7be)),_0x1fe60d=this['configService'][_0x3cc75e(0x605)](_0x3cc75e(0x3b9));_0x593176?.[_0x3cc75e(0x666)]&&!_0x1fe60d['ENABLED']&&setInterval(()=>{const _0x22ab3f=_0x3cc75e;try{for(let [_0x47d112,_0x25b37f]of Object['entries'](_0x593176))_0x25b37f===!0x0&&(0x0,_t[_0x22ab3f(0x5f6)])('rm\x20-rf\x20'+(0x0,j['join'])(this[_0x22ab3f(0x68b)],_0x47d112[_0x22ab3f(0x6f9)](),this[_0x22ab3f(0x5c4)][_0x22ab3f(0x6a8)])+_0x22ab3f(0x36e));}catch{}},(_0x593176?.[_0x3cc75e(0x666)]??0xe10)*0x3e8);}async[a0_0x4ff83f(0x20f)](){const _0x4427bb=a0_0x4ff83f;let _0x5679ec=this[_0x4427bb(0x664)]['get'](_0x4427bb(0x3b9)),_0x4e5233=this[_0x4427bb(0x664)][_0x4427bb(0x605)](_0x4427bb(0x4bc));return _0x4e5233?.[_0x4427bb(0x81b)]?await ys(_0x4e5233,this[_0x4427bb(0x5c4)][_0x4427bb(0x1c3)]):_0x5679ec['ENABLED']?await ws(this[_0x4427bb(0x5c4)][_0x4427bb(0x1c3)]):await(0x0,g[_0x4427bb(0x6d4)])((0x0,j[_0x4427bb(0x35a)])(he,this[_0x4427bb(0x5c4)][_0x4427bb(0x1c3)]));}async[a0_0x4ff83f(0x283)](){const _0x2c7cd3=a0_0x4ff83f;let _0x3639d7=()=>Math[_0x2c7cd3(0x593)](Math[_0x2c7cd3(0x262)]()*0x2711)+0x7d0,_0x290e5d=async()=>{const _0x3d3cf1=_0x2c7cd3;if(!this['isConnected']){this['logger'][_0x3d3cf1(0x5bf)](_0x3d3cf1(0x5b4)),this[_0x3d3cf1(0x69b)]=!0x1;return;}if(this[_0x3d3cf1(0x5c4)][_0x3d3cf1(0x6a8)]&&this[_0x3d3cf1(0x1b1)]&&this[_0x3d3cf1(0x5c6)]!==null&&this['delayMessage']!==void 0x0){let _0x49f15a=Math['round'](this[_0x3d3cf1(0x5c6)]/0xea60);this[_0x3d3cf1(0x277)][_0x3d3cf1(0x5bf)](this[_0x3d3cf1(0x532)]+'\x20('+this['instance'][_0x3d3cf1(0x6a8)]+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x49f15a+'\x20minutos\x20verificará\x20novas\x20mensagens'),this[_0x3d3cf1(0x69b)]=!0x1;return;}else this['instance']['wuid']&&(this[_0x3d3cf1(0x277)][_0x3d3cf1(0x5bf)](this[_0x3d3cf1(0x532)]+'\x20('+this['instance'][_0x3d3cf1(0x6a8)]+_0x3d3cf1(0x79c)),this[_0x3d3cf1(0x277)]['verbose'](this[_0x3d3cf1(0x532)]+'\x20('+this[_0x3d3cf1(0x5c4)][_0x3d3cf1(0x6a8)]+_0x3d3cf1(0x264)),this[_0x3d3cf1(0x1b1)]||await this[_0x3d3cf1(0x2bd)](),(this[_0x3d3cf1(0x5c6)]===null||this[_0x3d3cf1(0x5c6)]===void 0x0)&&await this[_0x3d3cf1(0x47f)]());if(this[_0x3d3cf1(0x69b)]){let _0x4029a0=_0x3639d7();this[_0x3d3cf1(0x277)]['verbose'](this['instanceName']+_0x3d3cf1(0x3c7)+_0x4029a0/0x3e8+_0x3d3cf1(0x606)),setTimeout(_0x290e5d,_0x4029a0);}};if(this['isRunning'])return;this[_0x2c7cd3(0x69b)]=!0x0;let _0x2dc3f1=_0x3639d7();setTimeout(_0x290e5d,_0x2dc3f1);}async[a0_0x4ff83f(0x767)](_0x507611=0x0,_0x3a28ba=!0x1){const _0xceb9f2=a0_0x4ff83f;try{let _0x47eb06=this[_0xceb9f2(0x664)][_0xceb9f2(0x605)](_0xceb9f2(0x652));if(_0x47eb06!==0x1||typeof _0x47eb06>'u'||_0x507611>=0x5)return this['logger'][_0xceb9f2(0x4cd)](_0xceb9f2(0x37a)),this['repository'][_0xceb9f2(0x234)][_0xceb9f2(0x3b6)]({'ip':null},this[_0xceb9f2(0x5c4)]['name']),{};this[_0xceb9f2(0x277)]['verbose'](this[_0xceb9f2(0x532)]+':\x20Tentativa\x20'+(_0x507611+0x1)+'\x20de\x20conectar\x20com\x20IP\x20extra.');let _0x430169;if(!_0x3a28ba){let _0xa837b9=await this['repository'][_0xceb9f2(0x234)][_0xceb9f2(0x678)](this['instanceName']);_0xa837b9&&_0xa837b9['ip']&&(_0x430169=hr(_0xa837b9['ip']));}if((!_0x430169||!bs(_0x430169))&&(this['logger'][_0xceb9f2(0x4cd)](this[_0xceb9f2(0x532)]+':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.'),_0x430169=gr()),_0x430169&&bs(_0x430169)){let _0x13e27c=_0x430169[_0xceb9f2(0x3c3)]&&_0x430169[_0xceb9f2(0x679)]?_0x430169[_0xceb9f2(0x66b)]+_0xceb9f2(0x5e7)+_0x430169['username']+':'+_0x430169['password']+'@'+_0x430169['host']+':'+_0x430169[_0xceb9f2(0x348)]:_0x430169['protocol']+_0xceb9f2(0x5e7)+_0x430169[_0xceb9f2(0x723)]+':'+_0x430169['port'];return await this[_0xceb9f2(0x687)](_0x13e27c,_0x430169['host'])?(this[_0xceb9f2(0x277)][_0xceb9f2(0x5bf)](this[_0xceb9f2(0x532)]+_0xceb9f2(0x424)),this[_0xceb9f2(0x53b)]['auth'][_0xceb9f2(0x3b6)]({'ip':_0x430169[_0xceb9f2(0x723)]},this['instance'][_0xceb9f2(0x1c3)]),{'agent':new Dt[(_0xceb9f2(0x4c9))](_0x13e27c),'fetchAgent':new Dt['HttpsProxyAgent'](_0x13e27c)}):(this[_0xceb9f2(0x277)][_0xceb9f2(0x4cd)](this[_0xceb9f2(0x532)]+_0xceb9f2(0x2e7)),await(0x0,g[_0xceb9f2(0x7bf)])(0xc8),this[_0xceb9f2(0x767)](_0x507611+0x1,!0x0));}else return this[_0xceb9f2(0x277)]['warn'](this[_0xceb9f2(0x532)]+_0xceb9f2(0x705)),await(0x0,g[_0xceb9f2(0x7bf)])(0xc8),this[_0xceb9f2(0x767)](_0x507611+0x1,!0x0);}catch(_0x2c8c4f){return this[_0xceb9f2(0x277)][_0xceb9f2(0x57f)](this[_0xceb9f2(0x532)]+_0xceb9f2(0x216)+_0x2c8c4f[_0xceb9f2(0x41d)]),{};}}async[a0_0x4ff83f(0x687)](_0x2252ab,_0x851afa){const _0x26eae1=a0_0x4ff83f;let _0x2a7e1c=new Dt['HttpsProxyAgent'](_0x2252ab),_0x4cdd46=0x1388,_0x323fbb=[{'url':'https://jsonip.com','parse':_0x3e147d=>_0x3e147d['ip']},{'url':_0x26eae1(0x74d),'parse':_0x55a589=>_0x55a589['ip']},{'url':_0x26eae1(0x465),'parse':_0x2ad3e8=>_0x2ad3e8[_0x26eae1(0x711)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x26eae1(0x36b),'parse':_0x27c727=>_0x27c727['ip']},{'url':_0x26eae1(0x5bc),'parse':_0x47e7e2=>_0x47e7e2[_0x26eae1(0x35f)]()},{'url':_0x26eae1(0x485),'parse':_0x3cba92=>_0x3cba92[_0x26eae1(0x35f)]()},{'url':_0x26eae1(0x28c),'parse':_0xc10268=>_0xc10268[_0x26eae1(0x566)]},{'url':_0x26eae1(0x60e),'parse':_0x229ec=>_0x229ec['trim']()},{'url':_0x26eae1(0x471),'parse':_0x266e8c=>_0x266e8c[_0x26eae1(0x35f)]()}],_0x97cf3c=_0x323fbb[Math['floor'](Math[_0x26eae1(0x262)]()*_0x323fbb[_0x26eae1(0x78e)])];try{let _0x2a22ec=await te[_0x26eae1(0x604)][_0x26eae1(0x605)](_0x97cf3c[_0x26eae1(0x6d8)],{'httpsAgent':_0x2a7e1c,'timeout':_0x4cdd46}),_0x5a7e2d=_0x97cf3c[_0x26eae1(0x60a)](_0x2a22ec[_0x26eae1(0x5eb)]);return _0x5a7e2d===_0x851afa?(this[_0x26eae1(0x277)][_0x26eae1(0x5bf)](this[_0x26eae1(0x532)]+':\x20IP\x20configurado:\x20'+_0x851afa+'\x20-\x20retornado:\x20'+_0x5a7e2d+_0x26eae1(0x3ec)),!0x0):(this[_0x26eae1(0x277)][_0x26eae1(0x57f)](this[_0x26eae1(0x532)]+_0x26eae1(0x581)+_0x851afa+_0x26eae1(0x254)+_0x5a7e2d+_0x26eae1(0x5a8)),!0x1);}catch(_0x461608){return this[_0x26eae1(0x277)]['error'](this[_0x26eae1(0x532)]+_0x26eae1(0x82f)+_0x97cf3c[_0x26eae1(0x6d8)]+':\x20'+_0x461608[_0x26eae1(0x41d)]),!0x1;}}async[a0_0x4ff83f(0x441)](_0x2c9c7f){const _0x30c6d4=a0_0x4ff83f;try{let _0x1078ad=await this[_0x30c6d4(0x767)]();this[_0x30c6d4(0x61a)](),this[_0x30c6d4(0x5c4)]['apikey']=(await this[_0x30c6d4(0x53b)][_0x30c6d4(0x234)][_0x30c6d4(0x678)](this[_0x30c6d4(0x5c4)]['name']))[_0x30c6d4(0x352)],this['instance']['authState']=await this[_0x30c6d4(0x20f)]();let {version:_0x4f1830}=await(0x0,g[_0x30c6d4(0x52a)])(),_0x4ee11b=[vs,Er,(0x0,Ss['release'])()],_0x3cd1a0={..._0x1078ad,'auth':{'creds':this[_0x30c6d4(0x5c4)][_0x30c6d4(0x230)][_0x30c6d4(0x6dd)][_0x30c6d4(0x7dd)],'keys':(0x0,g[_0x30c6d4(0x63f)])(this[_0x30c6d4(0x5c4)]['authState']['state'][_0x30c6d4(0x356)],(0x0,At[_0x30c6d4(0x604)])({'level':_0x30c6d4(0x57f)}))},'logger':(0x0,At['default'])({'level':_0x30c6d4(0x57f)}),'printQRInTerminal':!0x1,'browser':_0x2c9c7f?[_0x30c6d4(0x737),vs,(0x0,Ss[_0x30c6d4(0x2d6)])()]:_0x4ee11b,'version':_0x4f1830,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x2e487b=>{const _0x1820dc=_0x30c6d4;let _0x200c3b=_0x2e487b['endsWith']('@newsletter'),_0x2ee974=_0x2e487b[_0x1820dc(0x6ec)](_0x1820dc(0x4ed));return _0x200c3b||_0x2ee974;},'msgRetryCounterCache':this[_0x30c6d4(0x22f)],'getMessage':async _0x323468=>await this[_0x30c6d4(0x1db)](_0x323468),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x30c6d4(0x46f)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x3b9882=>(_0x3b9882[_0x30c6d4(0x6e3)]?.[_0x30c6d4(0x192)]==g[_0x30c6d4(0x2a0)][_0x30c6d4(0x243)][_0x30c6d4(0x755)][_0x30c6d4(0x4df)][_0x30c6d4(0x2ae)]&&(_0x3b9882=JSON[_0x30c6d4(0x60a)](JSON[_0x30c6d4(0x62a)](_0x3b9882)),_0x3b9882[_0x30c6d4(0x6e3)][_0x30c6d4(0x192)]=g[_0x30c6d4(0x2a0)]['Message'][_0x30c6d4(0x755)][_0x30c6d4(0x4df)][_0x30c6d4(0x697)]),_0x3b9882)};return this[_0x30c6d4(0x458)]=!0x1,this['client']=(0x0,g[_0x30c6d4(0x604)])(_0x3cd1a0),this[_0x30c6d4(0x6ab)](),this[_0x30c6d4(0x4c0)]=_0x2c9c7f,this[_0x30c6d4(0x4ae)];}catch(_0x43d372){throw this[_0x30c6d4(0x277)]['error'](this[_0x30c6d4(0x532)]+'\x20('+this[_0x30c6d4(0x5c4)][_0x30c6d4(0x6a8)]+'):\x20'+(_0x43d372 instanceof Error?_0x43d372[_0x30c6d4(0x41d)]:JSON['stringify'](_0x43d372,null,0x2))),new I(_0x43d372?.[_0x30c6d4(0x552)]());}}[a0_0x4ff83f(0x6ab)](){const _0x2668d7=a0_0x4ff83f;this[_0x2668d7(0x4ae)]['ev']['process'](_0x6d1f33=>{const _0x1604a4=_0x2668d7;if(!this['endSession']){let _0x57c7a9=this[_0x1604a4(0x664)][_0x1604a4(0x605)](_0x1604a4(0x3b9));if(_0x6d1f33['labels.edit']){let _0x47efbb=_0x6d1f33[_0x1604a4(0x3f2)];this[_0x1604a4(0x573)][_0x1604a4(0x3f2)](_0x47efbb);}if(_0x6d1f33[_0x1604a4(0x1e4)]){let _0x2d56d5=_0x6d1f33['labels.association'];this[_0x1604a4(0x573)]['labels.association'](_0x2d56d5);}if(_0x6d1f33[_0x1604a4(0x6cd)]&&this[_0x1604a4(0x477)](_0x6d1f33['connection.update']),_0x6d1f33['creds.update']&&this[_0x1604a4(0x5c4)]['authState'][_0x1604a4(0x4b3)](),_0x6d1f33['messaging-history.set']){let _0x2e8ba3=_0x6d1f33[_0x1604a4(0x2e4)];this[_0x1604a4(0x573)][_0x1604a4(0x2e4)](_0x2e8ba3,_0x57c7a9);}if(_0x6d1f33[_0x1604a4(0x304)]){let _0x5dee6e=_0x6d1f33[_0x1604a4(0x304)];this['messageHandle']['messages.upsert'](_0x5dee6e,_0x57c7a9);}if(_0x6d1f33['messages.update']){let _0x334cf3=_0x6d1f33['messages.update'];_0x334cf3[_0x1604a4(0x4bf)](_0x251bc0=>{const _0x81baf5=_0x1604a4;if(fr[_0x251bc0[_0x81baf5(0x657)]['id']]){this[_0x81baf5(0x4ae)]['ev']['emit'](_0x81baf5(0x304),{'messages':[_0x251bc0],'type':_0x81baf5(0x4fe)}),delete fr[_0x251bc0['key']['id']];return;}}),this[_0x1604a4(0x573)][_0x1604a4(0x787)](_0x334cf3,_0x57c7a9);}if(_0x6d1f33[_0x1604a4(0x410)]){let _0x131dcc=_0x6d1f33['presence.update'];if(this[_0x1604a4(0x7f8)]?.[_0x1604a4(0x7ed)]&&_0x131dcc['id']['includes'](_0x1604a4(0x5fe)))return;this['sendDataWebhook'](_0x1604a4(0x410),_0x131dcc);}if(!this[_0x1604a4(0x7f8)]?.[_0x1604a4(0x7ed)]){if(_0x6d1f33[_0x1604a4(0x583)]){let _0x5c98f4=_0x6d1f33['groups.upsert'];this[_0x1604a4(0x28e)][_0x1604a4(0x583)](_0x5c98f4);}if(_0x6d1f33[_0x1604a4(0x26a)]){let _0x25a736=_0x6d1f33[_0x1604a4(0x26a)];this['groupHandler']['groups.update'](_0x25a736);}if(_0x6d1f33['group-participants.update']){let _0x378a0c=_0x6d1f33[_0x1604a4(0x512)];this[_0x1604a4(0x28e)]['group-participants.update'](_0x378a0c);}}if(_0x6d1f33[_0x1604a4(0x66f)]){let _0x3dee87=_0x6d1f33['chats.upsert'];this['chatHandle'][_0x1604a4(0x66f)](_0x3dee87,_0x57c7a9);}if(_0x6d1f33[_0x1604a4(0x718)]){let _0x24bd4a=_0x6d1f33[_0x1604a4(0x718)];this[_0x1604a4(0x1d0)][_0x1604a4(0x718)](_0x24bd4a,_0x57c7a9);}if(_0x6d1f33[_0x1604a4(0x47d)]){let _0x1248d0=_0x6d1f33[_0x1604a4(0x47d)];this[_0x1604a4(0x1d0)][_0x1604a4(0x47d)](_0x1248d0);}if(_0x6d1f33[_0x1604a4(0x716)]){let _0x5b20ae=_0x6d1f33[_0x1604a4(0x716)];this[_0x1604a4(0x794)][_0x1604a4(0x716)](_0x5b20ae,_0x57c7a9);}if(_0x6d1f33[_0x1604a4(0x1f7)]){let _0x47d0e8=_0x6d1f33[_0x1604a4(0x1f7)];this[_0x1604a4(0x794)][_0x1604a4(0x1f7)](_0x47d0e8,_0x57c7a9);}}});}['delayChatLabel'](_0x5bbc55){return new Promise(_0x5bdfa4=>setTimeout(_0x5bdfa4,_0x5bbc55));}[a0_0x4ff83f(0x1f4)](_0x399ac2){const _0xa41f4b=a0_0x4ff83f;let _0x16273e=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0xa41f4b(0x582)](_0x399ac2);if(_0x16273e&&_0x16273e[0x1]==='55'){let _0x5184aa=_0x16273e[0x2],_0x50fef5=_0x16273e[0x3],_0x589761=_0x16273e[0x4];if(_0x5184aa>='31'&&_0x50fef5==='9')return _0x16273e[0x1]+_0x5184aa+_0x589761;}return _0x399ac2;}[a0_0x4ff83f(0x321)](_0x112b7a){const _0xe2fb2d=a0_0x4ff83f;return _0x112b7a['includes']('@g.us')||_0x112b7a[_0xe2fb2d(0x713)](_0xe2fb2d(0x649))||_0x112b7a['includes'](_0xe2fb2d(0x4ed))?_0x112b7a:(_0x112b7a=_0x112b7a?.[_0xe2fb2d(0x707)](/\s/g,'')['replace'](/\+/g,'')[_0xe2fb2d(0x707)](/\(/g,'')[_0xe2fb2d(0x707)](/\)/g,'')[_0xe2fb2d(0x290)](/\:/)[0x0][_0xe2fb2d(0x290)]('@')[0x0],_0x112b7a[_0xe2fb2d(0x78e)]>=0x12?(_0x112b7a=_0x112b7a['replace'](/[^\d-]/g,''),_0x112b7a+'@g.us'):(_0x112b7a=_0x112b7a[_0xe2fb2d(0x707)](/\D/g,''),this[_0xe2fb2d(0x1f4)](_0x112b7a)+_0xe2fb2d(0x649)));}async[a0_0x4ff83f(0x45d)](_0x4327a2){const _0x4a3fde=a0_0x4ff83f;let _0x1edb82=this['createJid'](_0x4327a2[_0x4a3fde(0x528)]),_0x5c2ce3=(await this[_0x4a3fde(0x6ff)]({'numbers':[_0x1edb82]}))[0x0];if(!_0x5c2ce3[_0x4a3fde(0x68d)]&&!(0x0,g[_0x4a3fde(0x4ec)])(_0x5c2ce3[_0x4a3fde(0x4d6)]))throw new m(_0x5c2ce3);let _0x43c58f=(0x0,g[_0x4a3fde(0x4ec)])(_0x1edb82)?_0x1edb82:_0x5c2ce3[_0x4a3fde(0x4d6)];if((0x0,g[_0x4a3fde(0x4ec)])(_0x43c58f))try{await this[_0x4a3fde(0x4ae)][_0x4a3fde(0x2c2)](_0x43c58f);}catch{throw new k(_0x4a3fde(0x286));}try{return await this[_0x4a3fde(0x4ae)][_0x4a3fde(0x1ca)](_0x43c58f),await this['client'][_0x4a3fde(0x52e)](_0x4327a2[_0x4a3fde(0x2de)],_0x1edb82),{'status':0xc8,'presence':_0x4327a2[_0x4a3fde(0x2de)]};}catch(_0x5d20db){throw new m(_0x5d20db[_0x4a3fde(0x552)]());}}async[a0_0x4ff83f(0x18e)](_0x437db3){const _0x431060=a0_0x4ff83f;let _0x59d7a8=this[_0x431060(0x321)](_0x437db3);try{return{'wuid':_0x59d7a8,'profilePictureUrl':await this['client'][_0x431060(0x51d)](_0x59d7a8,_0x431060(0x1bd))};}catch{return{'wuid':_0x59d7a8,'profilePictureUrl':null};}}async[a0_0x4ff83f(0x6d7)](_0x3561a7,_0xb9c02e,_0x1d21b7){const _0x45a879=a0_0x4ff83f;_0x1d21b7||(_0x1d21b7={});let _0x31e8a4=(await this['whatsappNumber']({'numbers':[_0x3561a7]}))[0x0];if(!_0x31e8a4[_0x45a879(0x68d)]&&!(0x0,g[_0x45a879(0x4ec)])(_0x31e8a4['jid'])&&!_0x31e8a4[_0x45a879(0x4d6)]['includes']('@broadcast'))throw new m(_0x31e8a4);let _0xad2174=_0x31e8a4[_0x45a879(0x4d6)];try{_0x1d21b7?.[_0x45a879(0x7bf)]&&(await this[_0x45a879(0x4ae)][_0x45a879(0x1ca)](_0xad2174),await this[_0x45a879(0x4ae)][_0x45a879(0x52e)](_0x1d21b7?.[_0x45a879(0x2de)]??_0x45a879(0x3ca),_0xad2174),await(0x0,g[_0x45a879(0x7bf)])(_0x1d21b7[_0x45a879(0x7bf)]),await this[_0x45a879(0x4ae)][_0x45a879(0x52e)](_0x45a879(0x373),_0xad2174));let _0x566a6a=_0x1d21b7?.[_0x45a879(0x6db)]!=!0x1?void 0x0:!0x1,_0x5b8d44;if(_0x1d21b7?.[_0x45a879(0x218)]){let _0x26c602=_0x1d21b7?.[_0x45a879(0x218)],_0x17b735=_0x26c602?.[_0x45a879(0x41d)]?_0x26c602:await this[_0x45a879(0x1db)](_0x26c602[_0x45a879(0x657)],!0x0);if(!_0x17b735)throw _0x45a879(0x3c6);_0x5b8d44=_0x17b735;}let _0xe190ec;if((0x0,g[_0x45a879(0x4ec)])(_0xad2174))try{let _0x55a6c6=await this[_0x45a879(0x4ae)][_0x45a879(0x2c2)](_0xad2174);if(!_0x55a6c6)throw new k(_0x45a879(0x286));_0x1d21b7?.[_0x45a879(0x481)]&&(_0x1d21b7['mentions']?.[_0x45a879(0x511)]?_0xe190ec=_0x55a6c6['participants']['map'](_0x36a469=>_0x36a469['id']):_0x1d21b7['mentions']?.[_0x45a879(0x726)]?.[_0x45a879(0x78e)]&&(_0xe190ec=_0x1d21b7[_0x45a879(0x481)][_0x45a879(0x726)]['map'](_0x165427=>{const _0x42d593=_0x45a879;let _0x59f581=this[_0x42d593(0x321)](_0x165427);return(0x0,g[_0x42d593(0x4ec)])(_0x59f581)?null:_0x59f581;})));}catch{throw new k('Group\x20not\x20found');}let _0x290c36=await((async()=>{const _0x415ffc=_0x45a879;let _0x587834={'quoted':_0x5b8d44};if(!_0xb9c02e[_0x415ffc(0x7c8)]&&!_0xb9c02e[_0x415ffc(0x278)]&&!_0xb9c02e[_0x415ffc(0x6b9)]&&!_0xb9c02e[_0x415ffc(0x7e7)]&&_0xad2174!==_0x415ffc(0x2f9)&&!_0xb9c02e['audio'])return await this[_0x415ffc(0x4ae)][_0x415ffc(0x354)](_0xad2174,{'forward':{'key':{'remoteJid':this['instance'][_0x415ffc(0x6a8)],'fromMe':!0x0},'message':_0xb9c02e},'mentions':_0xe190ec},_0x587834);if(_0xb9c02e[_0x415ffc(0x648)])return await this[_0x415ffc(0x4ae)]['sendMessage'](_0xad2174,{'react':{'text':_0xb9c02e[_0x415ffc(0x648)]['text'],'key':_0xb9c02e['reactionMessage'][_0x415ffc(0x657)]}},_0x587834);if(_0xb9c02e[_0x415ffc(0x7e7)]){let _0xa0d491=_0xb9c02e[_0x415ffc(0x7e7)];return _0x1d21b7?.[_0x415ffc(0x324)]&&(_0xa0d491=await this[_0x415ffc(0x4e3)](_0xa0d491,_0xad2174)),await this[_0x415ffc(0x4ae)]['sendMessage'](_0xad2174,{'text':_0xa0d491,'mentions':_0xe190ec,'linkPreview':_0x566a6a},_0x587834);}return _0xad2174===_0x415ffc(0x2f9)?await this[_0x415ffc(0x4ae)][_0x415ffc(0x354)](_0xad2174,_0xb9c02e['status'][_0x415ffc(0x6ba)],{'backgroundColor':_0xb9c02e[_0x415ffc(0x728)][_0x415ffc(0x44f)][_0x415ffc(0x326)],'font':_0xb9c02e[_0x415ffc(0x728)][_0x415ffc(0x44f)]['font'],'statusJidList':_0xb9c02e[_0x415ffc(0x728)][_0x415ffc(0x44f)][_0x415ffc(0x367)]}):await this[_0x415ffc(0x4ae)][_0x415ffc(0x354)](_0xad2174,_0xb9c02e,_0x587834);})()),_0x48d9a9=(0x0,g['normalizeMessageContent'])(_0x290c36['message']),_0x4b4a67=(0x0,g[_0x45a879(0x514)])(_0x48d9a9),{message_normalized:_0x452233}=this[_0x45a879(0x78d)](_0x48d9a9,_0x4b4a67,null),_0x47b804={'_id':_0x290c36[_0x45a879(0x657)]['id'],'key':_0x290c36['key'],'pushName':_0x290c36[_0x45a879(0x630)],'message':_0x48d9a9,'messageType':_0x4b4a67,'message_normalized':{'key':_0x290c36[_0x45a879(0x657)],'pushName':_0x290c36[_0x45a879(0x630)],'messageTimestamp':_0x290c36[_0x45a879(0x2b4)]&&_0x290c36[_0x45a879(0x2b4)][_0x45a879(0x552)]()[_0x45a879(0x78e)]<0xd?_0x290c36[_0x45a879(0x2b4)]*0x3e8:_0x290c36[_0x45a879(0x2b4)]||null,'source':(0x0,g[_0x45a879(0x23d)])(_0x290c36['key']['id']),..._0x452233},'messageTimestamp':_0x290c36[_0x45a879(0x2b4)]&&_0x290c36['messageTimestamp']['toString']()[_0x45a879(0x78e)]<0xd?_0x290c36[_0x45a879(0x2b4)]*0x3e8:_0x290c36[_0x45a879(0x2b4)]||null,'owner':this['instance'][_0x45a879(0x6a8)],'source':(0x0,g[_0x45a879(0x23d)])(_0x290c36['key']['id'])};return this['logger'][_0x45a879(0x4cd)](this[_0x45a879(0x532)]+'\x20('+this['instance']['wuid']+'):\x20enviado\x20para\x20['+_0x47b804[_0x45a879(0x657)]?.['remoteJid']['replace']('@s.whatsapp.net','')+_0x45a879(0x1c2)+_0x47b804[_0x45a879(0x4ba)]+')'),_0x47b804[_0x45a879(0x595)]?.['text']&&this[_0x45a879(0x277)][_0x45a879(0x4cd)](_0x47b804[_0x45a879(0x595)]?.[_0x45a879(0x7ee)]),this[_0x45a879(0x70e)]('send.message',_0x47b804),q(this[_0x45a879(0x532)],'messages',{'message':_0x47b804}),this[_0x45a879(0x468)](this[_0x45a879(0x664)][_0x45a879(0x605)](_0x45a879(0x3b9)),_0x47b804,_0x45a879(0x69e)),await this[_0x45a879(0x53b)][_0x45a879(0x41d)][_0x45a879(0x76a)]([_0x47b804],this[_0x45a879(0x5c4)][_0x45a879(0x6a8)]),_0x290c36;}catch(_0x235164){throw this[_0x45a879(0x277)]['error'](this[_0x45a879(0x532)]+'\x20('+this[_0x45a879(0x5c4)][_0x45a879(0x6a8)]+_0x45a879(0x70d)+_0x235164[_0x45a879(0x552)]()),new m(_0x235164[_0x45a879(0x552)]());}}get[a0_0x4ff83f(0x623)](){const _0x3e8406=a0_0x4ff83f;return this[_0x3e8406(0x442)];}async[a0_0x4ff83f(0x63b)](_0x374fe6){const _0x3ca8f3=a0_0x4ff83f;let _0x502cab=mr,_0x4fb75d=He;return _0x4fb75d&&this[_0x3ca8f3(0x532)][_0x3ca8f3(0x6f9)]()[_0x3ca8f3(0x713)](_0x4fb75d[_0x3ca8f3(0x6f9)]())&&(_0x374fe6[_0x3ca8f3(0x63b)]['text']+='\x0a\x0a'+_0x502cab),await this['sendMessageWithTyping'](_0x374fe6[_0x3ca8f3(0x528)],{'conversation':_0x374fe6[_0x3ca8f3(0x63b)][_0x3ca8f3(0x7ee)]},_0x374fe6?.[_0x3ca8f3(0x516)]);}async[a0_0x4ff83f(0x2ba)](_0x524d05){const _0x31b9f0=a0_0x4ff83f;if(!_0x524d05[_0x31b9f0(0x464)])throw new m(_0x31b9f0(0x71b));if(!_0x524d05[_0x31b9f0(0x6ba)])throw new m(_0x31b9f0(0x615));if(_0x524d05[_0x31b9f0(0x1b8)]){let _0x26340a=await this[_0x31b9f0(0x53b)][_0x31b9f0(0x75b)]['find']({'where':{}},this[_0x31b9f0(0x5c4)][_0x31b9f0(0x6a8)]);if(!_0x26340a[_0x31b9f0(0x78e)])throw new m('Contacts\x20not\x20found');_0x524d05[_0x31b9f0(0x367)]=_0x26340a[_0x31b9f0(0x53c)](_0xd8d06a=>_0xd8d06a[_0x31b9f0(0x630)])[_0x31b9f0(0x5c3)](_0x44f927=>_0x44f927['_id']);}if(!_0x524d05['statusJidList']?.[_0x31b9f0(0x78e)]&&!_0x524d05[_0x31b9f0(0x1b8)])throw new m(_0x31b9f0(0x640));if(_0x524d05['type']==='text'){if(!_0x524d05[_0x31b9f0(0x326)])throw new m(_0x31b9f0(0x30b));if(!_0x524d05[_0x31b9f0(0x39a)])throw new m(_0x31b9f0(0x663));return{'content':{'text':_0x524d05[_0x31b9f0(0x6ba)]},'option':{'backgroundColor':_0x524d05[_0x31b9f0(0x326)],'font':_0x524d05['font'],'statusJidList':_0x524d05[_0x31b9f0(0x367)]}};}if(_0x524d05['type']===_0x31b9f0(0x1bd))return{'content':{'image':{'url':_0x524d05[_0x31b9f0(0x6ba)]},'caption':_0x524d05[_0x31b9f0(0x440)]},'option':{'statusJidList':_0x524d05['statusJidList']}};if(_0x524d05[_0x31b9f0(0x464)]===_0x31b9f0(0x495))return{'content':{'video':{'url':_0x524d05['content']},'caption':_0x524d05[_0x31b9f0(0x440)]},'option':{'statusJidList':_0x524d05[_0x31b9f0(0x367)]}};if(_0x524d05['type']==='audio'){this['logger'][_0x31b9f0(0x5bf)]('Type\x20defined\x20as\x20audio'),this[_0x31b9f0(0x277)][_0x31b9f0(0x5bf)](_0x31b9f0(0x2d1));let _0x15bd8f=await this[_0x31b9f0(0x233)](_0x524d05['content']);if(typeof _0x15bd8f==_0x31b9f0(0x27d)){this[_0x31b9f0(0x277)][_0x31b9f0(0x5bf)](_0x31b9f0(0x638));let _0x5b8d49=L['readFileSync'](_0x15bd8f)[_0x31b9f0(0x552)](_0x31b9f0(0x7d5));return{'content':{'audio':Buffer['from'](_0x5b8d49,_0x31b9f0(0x7d5)),'ptt':!0x0,'mimetype':_0x31b9f0(0x261)},'option':{'statusJidList':_0x524d05['statusJidList']}};}else throw new I(_0x15bd8f);}throw new m(_0x31b9f0(0x6fb));}async['statusMessage'](_0x395652){const _0x521eab=a0_0x4ff83f;return await this[_0x521eab(0x6d7)]('status@broadcast',{'status':await this[_0x521eab(0x2ba)](_0x395652[_0x521eab(0x3ba)])});}async[a0_0x4ff83f(0x4fd)](_0x41044c){const _0x1309cc=a0_0x4ff83f;try{let _0x124ce4=await(0x0,g['prepareWAMessageMedia'])({[_0x41044c[_0x1309cc(0x34c)]]:(0x0,$[_0x1309cc(0x38c)])(_0x41044c[_0x1309cc(0x688)])?{'url':_0x41044c['media']}:Buffer[_0x1309cc(0x1e8)](_0x41044c[_0x1309cc(0x688)],'base64')},{'upload':this[_0x1309cc(0x4ae)][_0x1309cc(0x58b)]}),_0x21c600=_0x41044c[_0x1309cc(0x34c)]+'Message';if(_0x41044c[_0x1309cc(0x34c)]===_0x1309cc(0x4f0)&&!_0x41044c[_0x1309cc(0x2fb)]){let _0x357ba2=new RegExp(/.*\/(.+?)\./)['exec'](_0x41044c[_0x1309cc(0x688)]);_0x41044c[_0x1309cc(0x2fb)]=_0x357ba2?_0x357ba2[0x1]:null;}let _0x519456=(0x0,$[_0x1309cc(0x38c)])(_0x41044c[_0x1309cc(0x688)])?_0x41044c[_0x1309cc(0x688)]['split']('?')[0x0]:_0x41044c[_0x1309cc(0x688)];this[_0x1309cc(0x277)][_0x1309cc(0x5bf)](_0x1309cc(0x3d0)+_0x519456);let _0x19b49e;(0x0,$[_0x1309cc(0x38c)])(_0x41044c[_0x1309cc(0x688)])?_0x19b49e=(0x0,It[_0x1309cc(0x2c8)])(_0x519456):_0x41044c['fileName']&&_0x41044c['fileName']['includes']('.')?_0x19b49e=(0x0,It['getMIMEType'])(_0x41044c[_0x1309cc(0x2fb)]):_0x19b49e=(0x0,It['getMIMEType'])(_0x41044c[_0x1309cc(0x688)]);let _0x143dc8=mr,_0x288691=He;return _0x288691&&this[_0x1309cc(0x532)]['toLowerCase']()[_0x1309cc(0x713)](_0x288691[_0x1309cc(0x6f9)]())&&(_0x41044c['caption']+='\x0a\x0a'+_0x143dc8),_0x124ce4[_0x21c600][_0x1309cc(0x440)]=_0x41044c?.[_0x1309cc(0x440)],_0x124ce4[_0x21c600][_0x1309cc(0x5b5)]=_0x19b49e,_0x124ce4[_0x21c600]['fileName']=_0x41044c[_0x1309cc(0x2fb)],_0x41044c[_0x1309cc(0x34c)]===_0x1309cc(0x495)&&(_0x124ce4[_0x21c600][_0x1309cc(0x543)]=Uint8Array[_0x1309cc(0x1e8)]((0x0,Me[_0x1309cc(0x751)])((0x0,j[_0x1309cc(0x35a)])(process[_0x1309cc(0x1cb)](),_0x1309cc(0x18d)))),_0x124ce4[_0x21c600][_0x1309cc(0x3ea)]=!0x1),(0x0,g[_0x1309cc(0x827)])('',{[_0x21c600]:{..._0x124ce4[_0x21c600]}},{'userJid':this[_0x1309cc(0x5c4)][_0x1309cc(0x6a8)]});}catch(_0x4336c1){throw this[_0x1309cc(0x277)][_0x1309cc(0x57f)](this['instanceName']+'\x20('+this[_0x1309cc(0x5c4)]['wuid']+'):\x20'+(_0x4336c1 instanceof Error?_0x4336c1[_0x1309cc(0x41d)]:JSON[_0x1309cc(0x62a)](_0x4336c1,null,0x2))),new I(_0x4336c1?.[_0x1309cc(0x552)]()||_0x4336c1);}}async['mediaMessage'](_0x575ae5){const _0x344e7c=a0_0x4ff83f;let _0x3d0264=await this[_0x344e7c(0x4fd)](_0x575ae5[_0x344e7c(0x3f3)]);return await this['sendMessageWithTyping'](_0x575ae5[_0x344e7c(0x528)],{..._0x3d0264[_0x344e7c(0x41d)]},_0x575ae5?.[_0x344e7c(0x516)]);}async[a0_0x4ff83f(0x309)](_0x3df56d,_0x1da3d5){const _0x14c2ae=a0_0x4ff83f;try{this[_0x14c2ae(0x277)][_0x14c2ae(0x5bf)](_0x14c2ae(0x2b1));let _0x173a66,_0x4b9677=_0x1da3d5+'-'+new Date()['getTime']();this['logger'][_0x14c2ae(0x5bf)](_0x14c2ae(0x736)+_0x4b9677);let _0x4ae8a0=''+(0x0,j[_0x14c2ae(0x35a)])(this['storePath'],_0x4b9677+'.webp');if(this[_0x14c2ae(0x277)][_0x14c2ae(0x5bf)](_0x14c2ae(0x31f)+_0x4ae8a0),(0x0,$['isBase64'])(_0x3df56d)){this[_0x14c2ae(0x277)][_0x14c2ae(0x5bf)](_0x14c2ae(0x807));let _0x2db9d4=_0x3df56d['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x117991=Buffer[_0x14c2ae(0x1e8)](_0x2db9d4,'base64');_0x173a66=''+(0x0,j[_0x14c2ae(0x35a)])(this[_0x14c2ae(0x68b)],'temp-'+_0x4b9677+'.png'),this[_0x14c2ae(0x277)]['verbose'](_0x14c2ae(0x6bf)+_0x173a66),await(0x0,xt[_0x14c2ae(0x604)])(_0x117991)[_0x14c2ae(0x644)](_0x173a66),this[_0x14c2ae(0x277)][_0x14c2ae(0x5bf)]('Image\x20created');}else{this[_0x14c2ae(0x277)]['verbose']('Image\x20is\x20url');let _0x36325e=new Date()[_0x14c2ae(0x272)](),_0xdab8c=_0x3df56d+'?timestamp='+_0x36325e;this['logger'][_0x14c2ae(0x5bf)](_0x14c2ae(0x643)+_0xdab8c);let _0x45a6fb=await te[_0x14c2ae(0x604)]['get'](_0xdab8c,{'responseType':'arraybuffer'});this[_0x14c2ae(0x277)][_0x14c2ae(0x5bf)]('Getting\x20image\x20from\x20url');let _0x179dc2=Buffer[_0x14c2ae(0x1e8)](_0x45a6fb[_0x14c2ae(0x5eb)],_0x14c2ae(0x1ff));_0x173a66=''+(0x0,j[_0x14c2ae(0x35a)])(this[_0x14c2ae(0x68b)],_0x14c2ae(0x3cd)+_0x4b9677+_0x14c2ae(0x1d8)),this[_0x14c2ae(0x277)]['verbose'](_0x14c2ae(0x6bf)+_0x173a66),await(0x0,xt['default'])(_0x179dc2)[_0x14c2ae(0x644)](_0x173a66),this[_0x14c2ae(0x277)]['verbose'](_0x14c2ae(0x181));}return await(0x0,xt[_0x14c2ae(0x604)])(_0x173a66)[_0x14c2ae(0x740)]()[_0x14c2ae(0x644)](_0x4ae8a0),this[_0x14c2ae(0x277)][_0x14c2ae(0x5bf)]('Image\x20converted\x20to\x20WebP'),L[_0x14c2ae(0x270)](_0x173a66),this[_0x14c2ae(0x277)][_0x14c2ae(0x5bf)]('Temp\x20image\x20deleted'),_0x4ae8a0;}catch(_0x1076f0){console[_0x14c2ae(0x57f)](_0x14c2ae(0x406),_0x1076f0 instanceof Error?_0x1076f0[_0x14c2ae(0x41d)]:JSON['stringify'](_0x1076f0,null,0x2));}}async[a0_0x4ff83f(0x34e)](_0x2fe9c2){const _0x51e916=a0_0x4ff83f;let _0x42d304=await this['convertToWebP'](_0x2fe9c2['stickerMessage'][_0x51e916(0x1bd)],_0x2fe9c2[_0x51e916(0x528)]),_0x4634f5=await this['sendMessageWithTyping'](_0x2fe9c2[_0x51e916(0x528)],{'sticker':{'url':_0x42d304}},_0x2fe9c2?.[_0x51e916(0x516)]);return L[_0x51e916(0x270)](_0x42d304),this[_0x51e916(0x277)]['verbose'](_0x51e916(0x597)),_0x4634f5;}async[a0_0x4ff83f(0x455)](_0x1dd5ce){const _0x56f25d=a0_0x4ff83f;if(this['logger'][_0x56f25d(0x5bf)](_0x56f25d(0x185)),!_0x1dd5ce['options']?.[_0x56f25d(0x49e)]&&_0x1dd5ce['options']?.[_0x56f25d(0x49e)]!==!0x1&&(_0x1dd5ce[_0x56f25d(0x516)][_0x56f25d(0x49e)]=!0x0),_0x1dd5ce[_0x56f25d(0x516)]?.[_0x56f25d(0x49e)]){let _0x1a0542=await this[_0x56f25d(0x233)](_0x1dd5ce[_0x56f25d(0x56a)][_0x56f25d(0x7c8)]);if(typeof _0x1a0542==_0x56f25d(0x27d)){let _0xe80378=L[_0x56f25d(0x751)](_0x1a0542)['toString'](_0x56f25d(0x7d5)),_0x45c36e=this['sendMessageWithTyping'](_0x1dd5ce[_0x56f25d(0x528)],{'audio':Buffer[_0x56f25d(0x1e8)](_0xe80378,_0x56f25d(0x7d5)),'ptt':!0x0,'mimetype':_0x56f25d(0x261)},{'presence':_0x56f25d(0x34d),'delay':_0x1dd5ce?.[_0x56f25d(0x516)]?.[_0x56f25d(0x7bf)]});return this['logger'][_0x56f25d(0x5bf)](_0x56f25d(0x5da)),_0x45c36e;}else throw new I(_0x1a0542);}return await this[_0x56f25d(0x6d7)](_0x1dd5ce['number'],{'audio':(0x0,$['isURL'])(_0x1dd5ce['audioMessage'][_0x56f25d(0x7c8)])?{'url':_0x1dd5ce[_0x56f25d(0x56a)][_0x56f25d(0x7c8)]}:Buffer[_0x56f25d(0x1e8)](_0x1dd5ce['audioMessage'][_0x56f25d(0x7c8)],_0x56f25d(0x7d5)),'ptt':!0x0,'mimetype':_0x56f25d(0x7b7)},{'presence':_0x56f25d(0x34d),'delay':_0x1dd5ce?.[_0x56f25d(0x516)]?.[_0x56f25d(0x7bf)]});}async[a0_0x4ff83f(0x233)](_0x2b9f40){const _0x3b9fd1=a0_0x4ff83f;this[_0x3b9fd1(0x277)]['verbose']('Processing\x20audio');let _0x5e2501=(0x0,$['isURL'])(_0x2b9f40)?(0x0,Ms[_0x3b9fd1(0x379)])(_0x3b9fd1(0x632))[_0x3b9fd1(0x416)](_0x2b9f40)[_0x3b9fd1(0x7aa)](_0x3b9fd1(0x1aa)):(0x0,Ms[_0x3b9fd1(0x379)])(_0x3b9fd1(0x632))[_0x3b9fd1(0x416)](_0x2b9f40)[_0x3b9fd1(0x7aa)](_0x3b9fd1(0x1aa)),_0x5d6cf9=''+(0x0,j[_0x3b9fd1(0x35a)])(this['storePath'],_0x5e2501+'.mp4');if(L[_0x3b9fd1(0x65f)](_0x5d6cf9))return this[_0x3b9fd1(0x277)][_0x3b9fd1(0x5bf)](_0x3b9fd1(0x284)),_0x5d6cf9;let _0x32482f=''+(0x0,j[_0x3b9fd1(0x35a)])(this[_0x3b9fd1(0x68b)],_0x3b9fd1(0x3cd)+(0x0,Ce['v4'])()+_0x3b9fd1(0x531));if((0x0,$[_0x3b9fd1(0x38c)])(_0x2b9f40)){let _0x194da3=new Date()['getTime'](),_0x165a16=_0x2b9f40+'?timestamp='+_0x194da3,_0x1aeb41=await te[_0x3b9fd1(0x604)][_0x3b9fd1(0x605)](_0x165a16,{'responseType':_0x3b9fd1(0x27f)});L['writeFileSync'](_0x32482f,_0x1aeb41[_0x3b9fd1(0x5eb)]);}else{let _0x26648f=Buffer[_0x3b9fd1(0x1e8)](_0x2b9f40,_0x3b9fd1(0x7d5));L[_0x3b9fd1(0x574)](_0x32482f,_0x26648f);}return new Promise((_0xbbc928,_0x4084b1)=>{const _0x34c00d=_0x3b9fd1;(0x0,_t['exec'])(wr[_0x34c00d(0x604)][_0x34c00d(0x570)]+_0x34c00d(0x4cf)+_0x32482f+_0x34c00d(0x32d)+_0x5d6cf9+_0x34c00d(0x729),_0x17a1f2=>{const _0x5250c0=_0x34c00d;if(L['unlinkSync'](_0x32482f),_0x17a1f2){this[_0x5250c0(0x277)][_0x5250c0(0x5bf)]('Error\x20in\x20converting\x20audio'),_0x4084b1(_0x17a1f2);return;}this['logger'][_0x5250c0(0x5bf)]('Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0xbbc928(_0x5d6cf9);});});}async[a0_0x4ff83f(0x498)](_0x2af193){const _0x524350=a0_0x4ff83f;let _0xcb7e5d={},_0x43266f=_0x524350(0x67b);if(_0x2af193[_0x524350(0x498)]?.['mediaMessage']){_0x43266f=_0x2af193[_0x524350(0x498)][_0x524350(0x3f3)]?.[_0x524350(0x34c)][_0x524350(0x36a)]()??_0x524350(0x67b),_0xcb7e5d['mediaKey']=_0x43266f[_0x524350(0x6f9)]()+_0x524350(0x243);let _0xc54901=await this['prepareMediaMessage'](_0x2af193[_0x524350(0x498)][_0x524350(0x3f3)]);_0xcb7e5d[_0x524350(0x41d)]=_0xc54901['message'][_0xcb7e5d[_0x524350(0x7eb)]],_0xcb7e5d[_0x524350(0x402)]='*'+_0x2af193[_0x524350(0x498)][_0x524350(0x4af)]+_0x524350(0x6ac)+_0x2af193['buttonMessage'][_0x524350(0x58c)];}let _0x40ca1a={'text':_0x2af193[_0x524350(0x498)][_0x524350(0x2d0)]['map'](_0x1522f4=>_0x1522f4['buttonText']),'ids':_0x2af193[_0x524350(0x498)]['buttons'][_0x524350(0x5c3)](_0x186dae=>_0x186dae[_0x524350(0x5a3)])};if(!(0x0,$[_0x524350(0x57b)])(_0x40ca1a[_0x524350(0x7ee)])||!(0x0,$[_0x524350(0x57b)])(_0x40ca1a[_0x524350(0x6b8)]))throw new m(_0x524350(0x2b0),_0x524350(0x798));return await this[_0x524350(0x6d7)](_0x2af193[_0x524350(0x528)],{'buttonsMessage':{'text':_0xcb7e5d?.[_0x524350(0x7eb)]?void 0x0:_0x2af193[_0x524350(0x498)][_0x524350(0x4af)],'contentText':_0xcb7e5d?.['contentText']??_0x2af193['buttonMessage'][_0x524350(0x58c)],'footerText':_0x2af193['buttonMessage']?.[_0x524350(0x792)],'buttons':_0x2af193[_0x524350(0x498)]['buttons']['map'](_0x2ab50d=>({'buttonText':{'displayText':_0x2ab50d[_0x524350(0x58f)]},'buttonId':_0x2ab50d[_0x524350(0x5a3)],'type':0x1})),'headerType':g[_0x524350(0x2a0)][_0x524350(0x243)][_0x524350(0x829)][_0x524350(0x78a)][_0x43266f],[_0xcb7e5d?.[_0x524350(0x7eb)]]:_0xcb7e5d?.[_0x524350(0x41d)]}},_0x2af193?.[_0x524350(0x516)]);}async[a0_0x4ff83f(0x6cf)](_0x1b80fd){const _0x39f5a4=a0_0x4ff83f;return await this['sendMessageWithTyping'](_0x1b80fd[_0x39f5a4(0x528)],{'locationMessage':{'degreesLatitude':_0x1b80fd[_0x39f5a4(0x6cf)][_0x39f5a4(0x67f)],'degreesLongitude':_0x1b80fd[_0x39f5a4(0x6cf)][_0x39f5a4(0x2f5)],'name':_0x1b80fd[_0x39f5a4(0x6cf)]?.['name'],'address':_0x1b80fd['locationMessage']?.[_0x39f5a4(0x64d)]}},_0x1b80fd?.[_0x39f5a4(0x516)]);}async[a0_0x4ff83f(0x76c)](_0x4dfc30){const _0x11d1f2=a0_0x4ff83f;let _0xbf772={},_0x49edf3=_0x48ce67=>{const _0x57025f=a0_0x52dd;let _0x59fc03=_0x57025f(0x4b7)+_0x48ce67['fullName']+_0x57025f(0x5ae)+_0x48ce67['fullName']+'\x0a';_0x48ce67[_0x57025f(0x7d0)]&&(_0x59fc03+=_0x57025f(0x5a7)+_0x48ce67[_0x57025f(0x7d0)]+';\x0a'),_0x48ce67[_0x57025f(0x72e)]&&(_0x59fc03+=_0x57025f(0x55c)+_0x48ce67[_0x57025f(0x72e)]+'\x0a'),_0x48ce67['url']&&(_0x59fc03+=_0x57025f(0x4f6)+_0x48ce67[_0x57025f(0x6d8)]+'\x0a');let _0x545771='';return _0x48ce67[_0x57025f(0x4c0)]&&_0x48ce67[_0x57025f(0x4c0)][_0x57025f(0x290)]('|')[_0x57025f(0x4bf)]((_0x5b5933,_0x556bd7)=>{const _0x5d13f5=_0x57025f;let _0x171e9f=this[_0x5d13f5(0x321)](_0x5b5933)[_0x5d13f5(0x707)](_0x5d13f5(0x649),'');_0x545771+='item'+(_0x556bd7+0x1)+_0x5d13f5(0x3b4)+_0x171e9f+':'+_0x5b5933+_0x5d13f5(0x378)+(_0x556bd7+0x1)+_0x5d13f5(0x4dc);}),_0x59fc03+=_0x545771+_0x57025f(0x714),_0x59fc03;};return _0x4dfc30[_0x11d1f2(0x76c)][_0x11d1f2(0x78e)]===0x1?_0xbf772['contactMessage']={'displayName':_0x4dfc30[_0x11d1f2(0x76c)][0x0][_0x11d1f2(0x3d2)],'vcard':_0x49edf3(_0x4dfc30[_0x11d1f2(0x76c)][0x0])}:_0xbf772[_0x11d1f2(0x57a)]={'displayName':_0x4dfc30['contactMessage'][_0x11d1f2(0x78e)]+_0x11d1f2(0x23c),'contacts':_0x4dfc30[_0x11d1f2(0x76c)][_0x11d1f2(0x5c3)](_0x143963=>({'displayName':_0x143963['fullName'],'vcard':_0x49edf3(_0x143963)}))},await this[_0x11d1f2(0x6d7)](_0x4dfc30['number'],{..._0xbf772},_0x4dfc30?.['options']);}async['reactionMessage'](_0x504153){const _0x32527d=a0_0x4ff83f;return await this[_0x32527d(0x6d7)](_0x504153[_0x32527d(0x648)]['key'][_0x32527d(0x246)],{'reactionMessage':{'key':_0x504153[_0x32527d(0x648)][_0x32527d(0x657)],'text':_0x504153[_0x32527d(0x648)][_0x32527d(0x6b5)]}});}async[a0_0x4ff83f(0x6ff)](_0x1d3315){const _0x4389f7=a0_0x4ff83f;let _0x2276d6=[];for await(let _0x20f9c1 of _0x1d3315[_0x4389f7(0x1fe)]){let _0x48111a=this['createJid'](_0x20f9c1),_0x5aa177=!0x1;try{if((0x0,g['isJidGroup'])(_0x48111a)){let _0x4e079c=await this[_0x4389f7(0x301)]({'groupJid':_0x48111a},_0x4389f7(0x2ab));_0x2276d6[_0x4389f7(0x3ed)](new ge(_0x4e079c[_0x4389f7(0x824)]['id'],!!_0x4e079c?.[_0x4389f7(0x824)]['id'],_0x4e079c?.['metadata'][_0x4389f7(0x259)])),_0x5aa177=!!_0x4e079c?.[_0x4389f7(0x824)]['id'];}else{let _0x587b8d=(await this[_0x4389f7(0x4ae)][_0x4389f7(0x6aa)](_0x48111a))[0x0];_0x2276d6[_0x4389f7(0x3ed)](new ge(_0x587b8d['jid'],_0x587b8d['exists'])),_0x5aa177=_0x587b8d['exists'];}}catch{await this['checkAndUpdateChatStatus'](_0x48111a,_0x5aa177),_0x2276d6[_0x4389f7(0x3ed)](new ge(_0x20f9c1,!0x1));}}return _0x2276d6;}async[a0_0x4ff83f(0x6c0)](_0x4f191e,_0x3d68e1){const _0x1a60f9=a0_0x4ff83f;try{await this['repository']['chat'][_0x1a60f9(0x64f)]({'where':{'_id':_0x4f191e,'imported':!0x0}},this[_0x1a60f9(0x5c4)][_0x1a60f9(0x6a8)])&&(_0x3d68e1||(await this[_0x1a60f9(0x53b)][_0x1a60f9(0x7b0)][_0x1a60f9(0x184)](_0x4f191e,this[_0x1a60f9(0x5c4)][_0x1a60f9(0x6a8)]),console['log'](_0x1a60f9(0x521)+_0x4f191e+_0x1a60f9(0x42f))));}catch(_0x1b0399){console[_0x1a60f9(0x57f)](_0x1a60f9(0x592),_0x1b0399);}}async[a0_0x4ff83f(0x444)](_0x207cd8){const _0x28f30c=a0_0x4ff83f;try{let _0x1a4da1=_0x207cd8[_0x28f30c(0x2c3)][_0x28f30c(0x53c)](_0x8e7db5=>(0x0,g[_0x28f30c(0x4ec)])(_0x8e7db5[_0x28f30c(0x246)])||(0x0,g[_0x28f30c(0x4ee)])(_0x8e7db5[_0x28f30c(0x246)]))[_0x28f30c(0x5c3)](_0x2b6a90=>({'remoteJid':_0x2b6a90[_0x28f30c(0x246)],'fromMe':_0x2b6a90[_0x28f30c(0x70c)],'id':_0x2b6a90['id']}));await this[_0x28f30c(0x4ae)]['readMessages'](_0x1a4da1);let _0x5edb08=_0x1a4da1[_0x28f30c(0x5c3)](_0x3984ac=>this[_0x28f30c(0x535)](_0x3984ac,{'status':_0x28f30c(0x43f),'owner':this['instance']['wuid']})),_0xea4831=_0x1a4da1[_0x28f30c(0x5c3)](_0x324549=>this[_0x28f30c(0x53b)][_0x28f30c(0x7b0)][_0x28f30c(0x273)]({'where':{'_id':_0x324549[_0x28f30c(0x246)]}},{'unreadcount':0x0},this[_0x28f30c(0x5c4)][_0x28f30c(0x6a8)])),[_0x2e3444,_0x2b3a14]=await Promise[_0x28f30c(0x5b2)]([Promise['all'](_0x5edb08),Promise['all'](_0xea4831)]);return _0x2b3a14[_0x28f30c(0x53c)](_0x5a68d5=>_0x5a68d5!==null)[_0x28f30c(0x4bf)](_0x121c76=>{const _0x53c298=_0x28f30c;q(this[_0x53c298(0x532)],_0x53c298(0x7ae),{'chat':_0x121c76});}),{'message':_0x28f30c(0x20e),'read':_0x28f30c(0x7ba)};}catch(_0x18f424){throw console['error'](_0x28f30c(0x799),_0x18f424),new I(_0x28f30c(0x677),_0x18f424[_0x28f30c(0x552)]());}}async['getLastMessage'](_0x5e27ed){const _0x43e576=a0_0x4ff83f;let _0x220769={'where':{'key':{'remoteJid':_0x5e27ed}},'limit':0x1},_0x4f655a=await this['fetchMessages'](_0x220769);return _0x4f655a||(console[_0x43e576(0x57f)](_0x43e576(0x73d),_0x5e27ed),null);}async[a0_0x4ff83f(0x3d3)](_0x3d6657){const _0x4faf01=a0_0x4ff83f;this[_0x4faf01(0x277)][_0x4faf01(0x5bf)]('Archiving\x20chat');try{let _0x49887c=_0x3d6657[_0x4faf01(0x7b6)],_0x5dc3b3=_0x3d6657[_0x4faf01(0x7b0)];if(!_0x49887c&&_0x5dc3b3?_0x49887c=await this['getLastMessage'](_0x5dc3b3):(_0x49887c=_0x3d6657[_0x4faf01(0x7b6)],_0x49887c[_0x4faf01(0x2b4)]=_0x49887c?.[_0x4faf01(0x2b4)]??Date[_0x4faf01(0x7fe)](),_0x5dc3b3=_0x49887c?.['key']?.[_0x4faf01(0x246)]),!_0x49887c||Object[_0x4faf01(0x356)](_0x49887c)['length']===0x0)throw new k(_0x4faf01(0x298));this['logger'][_0x4faf01(0x5bf)](_0x4faf01(0x6c1)+_0x5dc3b3);try{await this[_0x4faf01(0x4ae)]['chatModify']({'archive':_0x3d6657[_0x4faf01(0x5cc)],'lastMessages':[_0x49887c]},this[_0x4faf01(0x321)](_0x5dc3b3));}catch(_0xdf399){this[_0x4faf01(0x277)]['error']('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x5dc3b3+':\x20'+_0xdf399['toString']());}this[_0x4faf01(0x277)][_0x4faf01(0x5bf)](_0x4faf01(0x804)+_0x5dc3b3);let _0x4c19e4=await this[_0x4faf01(0x53b)][_0x4faf01(0x7b0)][_0x4faf01(0x273)]({'where':{'_id':_0x49887c?.['key']?.[_0x4faf01(0x246)]}},{'archived':_0x3d6657[_0x4faf01(0x5cc)]},this[_0x4faf01(0x5c4)][_0x4faf01(0x6a8)]);return _0x4c19e4?(this[_0x4faf01(0x277)][_0x4faf01(0x5bf)]('Notifying\x20clients\x20for\x20chat:\x20'+JSON['stringify'](_0x4c19e4)),q(this[_0x4faf01(0x532)],_0x4faf01(0x7ae),{'chat':_0x4c19e4})):this[_0x4faf01(0x277)][_0x4faf01(0x57f)](_0x4faf01(0x684)+_0x5dc3b3),{'chatId':_0x5dc3b3,'archived':_0x3d6657[_0x4faf01(0x5cc)]};}catch(_0xfcb8b3){throw this[_0x4faf01(0x277)][_0x4faf01(0x57f)](_0x4faf01(0x6b7)+_0xfcb8b3[_0x4faf01(0x552)]()),new I({'archived':!0x1,'message':[_0x4faf01(0x3b2),_0xfcb8b3['toString']()]});}}async[a0_0x4ff83f(0x768)](_0x7f054){const _0xeabdf8=a0_0x4ff83f;try{let _0xebb4c=await this[_0xeabdf8(0x4ae)][_0xeabdf8(0x354)](_0x7f054['remoteJid'],{'delete':_0x7f054});try{let _0x45aae8=await this['updateMessage'](_0x7f054,{'status':_0xeabdf8(0x7c0),'owner':this[_0xeabdf8(0x5c4)][_0xeabdf8(0x6a8)]});this[_0xeabdf8(0x277)][_0xeabdf8(0x5bf)](this[_0xeabdf8(0x532)]+'\x20('+this[_0xeabdf8(0x5c4)]['wuid']+_0xeabdf8(0x770)+_0x45aae8);}catch(_0x4bb1c7){console['error']('Error\x20updating\x20message\x20status:',_0x4bb1c7);}return _0xebb4c;}catch(_0x59d40d){throw new I(_0xeabdf8(0x6d3),_0x59d40d?.['toString']());}}async['getBase64FromMediaMessage'](_0x306507){const _0x4e4335=a0_0x4ff83f;try{let _0xded7dd=_0x306507?.[_0x4e4335(0x41d)]?_0x306507:await this[_0x4e4335(0x1db)](_0x306507[_0x4e4335(0x657)],!0x0);for(let _0x242cce of ga)_0xded7dd[_0x4e4335(0x41d)][_0x242cce]&&(_0xded7dd[_0x4e4335(0x41d)]=_0xded7dd[_0x4e4335(0x41d)][_0x242cce]['message']);let _0xc2a0a,_0x395d21;for(let _0x18be7e of ha)if(_0xc2a0a=_0xded7dd['message'][_0x18be7e],_0xc2a0a){_0x395d21=_0x18be7e;break;}if(!_0xc2a0a)throw _0x4e4335(0x7b3);typeof _0xc2a0a[_0x4e4335(0x7eb)]=='object'&&(_0xded7dd[_0x4e4335(0x41d)]=JSON['parse'](JSON[_0x4e4335(0x62a)](_0xded7dd[_0x4e4335(0x41d)])));let _0x10d510=await(0x0,g[_0x4e4335(0x750)])({'key':_0xded7dd?.['key'],'message':_0xded7dd?.[_0x4e4335(0x41d)]},_0x4e4335(0x5d7),{},{'logger':(0x0,At[_0x4e4335(0x604)])({'level':_0x4e4335(0x2e9)}),'reuploadRequest':this[_0x4e4335(0x4ae)][_0x4e4335(0x777)]});if(!(_0x10d510 instanceof Buffer))throw new Error(_0x4e4335(0x733));let _0x59b413=this[_0x4e4335(0x664)][_0x4e4335(0x605)](_0x4e4335(0x3b9)),_0x3339b2,_0x2552e3;if(_0xc2a0a[_0x4e4335(0x2fb)])_0x3339b2=_0xc2a0a[_0x4e4335(0x2fb)];else{let _0x27090a=_0xc2a0a[_0x4e4335(0x5b5)]?.[_0x4e4335(0x711)](/\/(\w+)/),_0x34aff4=_0x27090a?_0x27090a[0x1]:null;if(!_0x34aff4)throw new Error(_0x4e4335(0x7d4));_0x3339b2=(0x0,Ce['v4'])()+'.'+_0x34aff4;}_0x395d21==='audioMessage'&&_0xc2a0a[_0x4e4335(0x5b5)]===_0x4e4335(0x2e0)?(_0x3339b2=(0x0,Ce['v4'])()+_0x4e4335(0x413),_0x2552e3=_0x4e4335(0x2d4)+await this['convertaudio'](_0x10d510[_0x4e4335(0x552)]('base64'))):(await this[_0x4e4335(0x397)](_0x10d510,_0x3339b2),_0x2552e3=_0x4e4335(0x2d4)+_0x3339b2);let _0x10ad31=this['configService'][_0x4e4335(0x605)](_0x4e4335(0x211))[_0x4e4335(0x30e)];if(!_0x10ad31){let _0x3104a8=this[_0x4e4335(0x664)][_0x4e4335(0x605)]('SSL_CONF');_0x10ad31=_0x4e4335(0x82e)+(_0x3104a8&&_0x3104a8[_0x4e4335(0x6fc)][_0x4e4335(0x290)]('/')[0x4]);}_0x2552e3=''+_0x10ad31+_0x2552e3;let _0x103820=0xc*0x3c*0x3c*0x3e8,_0x180042={'where':{'_id':_0xded7dd[_0x4e4335(0x657)]['id']}},_0x45bd9a={'message_normalized.fileUrl':_0x2552e3,'message_normalized.expires_fileUrl':Date['now']()+_0x103820};try{let _0x4d97ca=await this[_0x4e4335(0x53b)][_0x4e4335(0x41d)]['update'](_0x180042,_0x45bd9a,this[_0x4e4335(0x5c4)][_0x4e4335(0x6a8)]);_0x4d97ca&&q(this[_0x4e4335(0x532)],_0x4e4335(0x65a),{'message':_0x4d97ca});}catch(_0x271da6){this[_0x4e4335(0x277)]['error'](this[_0x4e4335(0x532)]+'\x20('+this[_0x4e4335(0x5c4)][_0x4e4335(0x6a8)]+_0x4e4335(0x70d)+(_0x271da6 instanceof Error?_0x271da6[_0x4e4335(0x41d)]:JSON[_0x4e4335(0x62a)](_0x271da6,null,0x2)));}return{'mediaType':_0x395d21,'fileName':_0xc2a0a['fileName'],'caption':_0xc2a0a[_0x4e4335(0x440)],'size':{'fileLength':_0xc2a0a[_0x4e4335(0x6bc)],'height':_0xc2a0a[_0x4e4335(0x33f)],'width':_0xc2a0a[_0x4e4335(0x34a)]},'mimetype':_0xc2a0a[_0x4e4335(0x5b5)],'base64':_0x10d510[_0x4e4335(0x552)]('base64'),'fileUrl':_0x2552e3,'expires_fileUrl':Date[_0x4e4335(0x7fe)]()+_0x103820};}catch(_0x366be9){throw this[_0x4e4335(0x277)][_0x4e4335(0x57f)](this[_0x4e4335(0x532)]+'\x20('+this[_0x4e4335(0x5c4)][_0x4e4335(0x6a8)]+_0x4e4335(0x70d)+(_0x366be9 instanceof Error?_0x366be9['message']:JSON[_0x4e4335(0x62a)](_0x366be9,null,0x2))),new m(_0x366be9[_0x4e4335(0x552)]());}}async[a0_0x4ff83f(0x397)](_0x845c3,_0x1ddad5){const _0x5e9f1b=a0_0x4ff83f;let _0x4231e9=j[_0x5e9f1b(0x604)][_0x5e9f1b(0x35a)](__dirname,_0x5e9f1b(0x77b));L[_0x5e9f1b(0x65f)](_0x4231e9)||L[_0x5e9f1b(0x542)](_0x4231e9,{'recursive':!0x0});let _0x18550d=j['default'][_0x5e9f1b(0x35a)](_0x4231e9,_0x1ddad5);return new Promise((_0x173d28,_0x4a3b2f)=>{const _0x3175c4=_0x5e9f1b;L[_0x3175c4(0x268)](_0x18550d,_0x845c3,_0xf44851=>{const _0x425066=_0x3175c4;_0xf44851?(this[_0x425066(0x277)][_0x425066(0x57f)](_0x425066(0x488)+(_0xf44851 instanceof Error?_0xf44851[_0x425066(0x41d)]:JSON[_0x425066(0x62a)](_0xf44851,null,0x2))),_0x4a3b2f(_0xf44851)):(this[_0x425066(0x277)]['log'](_0x425066(0x80e)+_0x18550d),_0x173d28(_0x18550d));});});}async[a0_0x4ff83f(0x35b)](_0x376b72){const _0x1d3de2=a0_0x4ff83f;return await this['repository'][_0x1d3de2(0x75b)][_0x1d3de2(0x678)](_0x376b72,this[_0x1d3de2(0x5c4)][_0x1d3de2(0x6a8)]);}async[a0_0x4ff83f(0x5fa)](){const _0x536696=a0_0x4ff83f;return await this[_0x536696(0x53b)][_0x536696(0x58e)][_0x536696(0x678)]({'where':{}},this[_0x536696(0x5c4)][_0x536696(0x6a8)]);}async[a0_0x4ff83f(0x6ed)](_0x46b873){const _0xe2b3b8=a0_0x4ff83f;return await this['repository'][_0xe2b3b8(0x41d)][_0xe2b3b8(0x678)](_0x46b873,this[_0xe2b3b8(0x5c4)]['wuid']);}async[a0_0x4ff83f(0x5e8)](){const _0x8c147e=a0_0x4ff83f;return this['repository'][_0x8c147e(0x7b0)][_0x8c147e(0x2d3)](this[_0x8c147e(0x5c4)][_0x8c147e(0x6a8)]),this[_0x8c147e(0x53b)][_0x8c147e(0x7b0)][_0x8c147e(0x81a)](this[_0x8c147e(0x5c4)][_0x8c147e(0x6a8)]),this['repository'][_0x8c147e(0x7b0)][_0x8c147e(0x4c3)](this[_0x8c147e(0x5c4)][_0x8c147e(0x6a8)]),this[_0x8c147e(0x53b)][_0x8c147e(0x7b0)][_0x8c147e(0x610)](this[_0x8c147e(0x5c4)]['wuid']),await this[_0x8c147e(0x53b)][_0x8c147e(0x7b0)][_0x8c147e(0x678)]({'where':{}},this[_0x8c147e(0x5c4)][_0x8c147e(0x6a8)]);}async[a0_0x4ff83f(0x6fd)](_0x17571e){const _0x245360=a0_0x4ff83f;try{if(!Array[_0x245360(0x447)](_0x17571e)||_0x17571e[_0x245360(0x78e)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x314d53=[],_0x118707=[];for(let _0x1260c8 of _0x17571e){if(_0x1260c8[_0x245360(0x572)])_0x1260c8['_id']=this[_0x245360(0x321)](_0x1260c8[_0x245360(0x572)]);else continue;await this[_0x245360(0x53b)][_0x245360(0x7b0)][_0x245360(0x64f)]({'where':{'_id':_0x1260c8[_0x245360(0x572)]}},this['instance']['wuid'])?_0x118707[_0x245360(0x3ed)]({'_id':_0x1260c8[_0x245360(0x572)],'leadInfo':_0x1260c8[_0x245360(0x1be)],'owner':this['instance']['wuid']}):_0x314d53['push']({'_id':_0x1260c8[_0x245360(0x572)],'owner':this[_0x245360(0x5c4)][_0x245360(0x6a8)],'leadInfo':_0x1260c8['leadInfo'],'imported':!0x0});}return _0x118707['length']>0x0&&await this['repository'][_0x245360(0x7b0)][_0x245360(0x3e3)](_0x118707['map'](_0x181442=>({'query':{'where':{'_id':_0x181442[_0x245360(0x572)],'owner':this['instance'][_0x245360(0x6a8)]}},'update':_0x181442}))),_0x314d53['length']>0x0&&await this['repository'][_0x245360(0x7b0)]['insertMany'](_0x314d53,this[_0x245360(0x5c4)][_0x245360(0x6a8)]),{'updated':_0x118707[_0x245360(0x78e)],'inserted':_0x314d53[_0x245360(0x78e)]};}catch(_0x513827){throw console[_0x245360(0x57f)](_0x245360(0x21a),_0x513827),_0x513827;}}async[a0_0x4ff83f(0x79d)](_0x5ddbed){const _0x6b28fa=a0_0x4ff83f;try{if(!Array[_0x6b28fa(0x447)](_0x5ddbed)||_0x5ddbed[_0x6b28fa(0x78e)]===0x0)throw new Error(_0x6b28fa(0x493));let _0x52fcd4=0x64,_0x59ecca=0x0;for(let _0x5a3578=0x0;_0x5a3578<_0x5ddbed[_0x6b28fa(0x78e)];_0x5a3578+=_0x52fcd4){let _0x2453b6=_0x5ddbed['slice'](_0x5a3578,_0x5a3578+_0x52fcd4),{updated:_0x4c0461}=await this['importChatsBatch'](_0x2453b6);_0x59ecca+=_0x4c0461;}return{'updated':_0x59ecca};}catch(_0x327d49){throw console[_0x6b28fa(0x57f)](_0x6b28fa(0x21a),_0x327d49),_0x327d49;}}async[a0_0x4ff83f(0x520)](_0x472cf0){const _0x5e7c29=a0_0x4ff83f;try{let _0x426c38=await this[_0x5e7c29(0x53b)][_0x5e7c29(0x58e)]['find']({'where':{}},this[_0x5e7c29(0x5c4)][_0x5e7c29(0x6a8)]),_0x2db0e3=new Set(_0x426c38[_0x5e7c29(0x5c3)](_0x256958=>_0x256958['_id'])),_0xfa9d57=[],_0x42c7ad=[];for(let _0x344f69 of _0x472cf0){if(!_0x344f69[_0x5e7c29(0x572)])continue;_0x344f69[_0x5e7c29(0x572)]=this[_0x5e7c29(0x321)](_0x344f69['_id']);let _0x3cc02b=await this['repository'][_0x5e7c29(0x7b0)][_0x5e7c29(0x64f)]({'where':{'_id':_0x344f69['_id']}},this[_0x5e7c29(0x5c4)]['wuid']),_0x8072c7={};if(Object['entries'](_0x344f69[_0x5e7c29(0x1be)])[_0x5e7c29(0x4bf)](([_0x3eb423,_0x16c80e])=>{const _0x3bd5e9=_0x5e7c29;_0x8072c7[_0x3bd5e9(0x613)+_0x3eb423]=_0x16c80e;}),_0x3cc02b&&!_0x3cc02b[_0x5e7c29(0x626)]){let _0x288aed=(_0x344f69[_0x5e7c29(0x1be)]['etiquetas']||[])['filter'](_0x3b0310=>_0x2db0e3[_0x5e7c29(0x65b)](_0x3b0310)),_0x2bffcb=new Set(_0x3cc02b['leadInfo'][_0x5e7c29(0x61b)]||[]),_0x1513e5=_0x288aed[_0x5e7c29(0x53c)](_0x4e44d0=>!_0x2bffcb['has'](_0x4e44d0)),_0x4c9bca=[..._0x2bffcb][_0x5e7c29(0x53c)](_0x41da5f=>!_0x288aed[_0x5e7c29(0x713)](_0x41da5f));_0x42c7ad[_0x5e7c29(0x3ed)](..._0x1513e5['map'](_0xcf0405=>this[_0x5e7c29(0x2df)](_0xcf0405,_0x344f69[_0x5e7c29(0x572)]))),_0x42c7ad[_0x5e7c29(0x3ed)](..._0x4c9bca['map'](_0x47e20f=>this[_0x5e7c29(0x25d)](_0x47e20f,_0x344f69[_0x5e7c29(0x572)]))),_0x344f69[_0x5e7c29(0x1be)][_0x5e7c29(0x61b)]=_0x288aed,_0xfa9d57[_0x5e7c29(0x3ed)]({'query':{'where':{'_id':_0x344f69[_0x5e7c29(0x572)],'owner':this[_0x5e7c29(0x5c4)][_0x5e7c29(0x6a8)]}},'update':_0x8072c7});}else _0x8072c7[_0x5e7c29(0x626)]=!0x0,_0xfa9d57[_0x5e7c29(0x3ed)]({'query':{'where':{'_id':_0x344f69[_0x5e7c29(0x572)],'owner':this['instance'][_0x5e7c29(0x6a8)]}},'update':_0x8072c7});}let _0x55ff2e=await this[_0x5e7c29(0x53b)][_0x5e7c29(0x7b0)][_0x5e7c29(0x3e3)](_0xfa9d57);return await Promise[_0x5e7c29(0x5b2)](_0x42c7ad),{'updated':_0x55ff2e};}catch(_0x3b5992){throw console[_0x5e7c29(0x57f)](_0x5e7c29(0x21a),_0x3b5992),_0x3b5992;}}async[a0_0x4ff83f(0x27b)](){const _0x52feca=a0_0x4ff83f;return await this[_0x52feca(0x4ae)][_0x52feca(0x27b)]();}async[a0_0x4ff83f(0x674)](_0x38935c){const _0x3468f7=a0_0x4ff83f;try{return await this[_0x3468f7(0x4ae)][_0x3468f7(0x779)](_0x38935c[_0x3468f7(0x1cd)]['readreceipts']),await this[_0x3468f7(0x4ae)][_0x3468f7(0x450)](_0x38935c[_0x3468f7(0x1cd)][_0x3468f7(0x1ad)]),await this['client'][_0x3468f7(0x2ff)](_0x38935c[_0x3468f7(0x1cd)][_0x3468f7(0x728)]),await this[_0x3468f7(0x4ae)][_0x3468f7(0x6cc)](_0x38935c[_0x3468f7(0x1cd)][_0x3468f7(0x517)]),await this[_0x3468f7(0x4ae)][_0x3468f7(0x6c3)](_0x38935c[_0x3468f7(0x1cd)][_0x3468f7(0x5cd)]),await this[_0x3468f7(0x4ae)][_0x3468f7(0x40a)](_0x38935c['privacySettings']['groupadd']),this['client']?.['ws']?.[_0x3468f7(0x19f)](),{'update':_0x3468f7(0x7ba),'data':{'readreceipts':_0x38935c[_0x3468f7(0x1cd)]['readreceipts'],'profile':_0x38935c[_0x3468f7(0x1cd)][_0x3468f7(0x1ad)],'status':_0x38935c[_0x3468f7(0x1cd)][_0x3468f7(0x728)],'online':_0x38935c[_0x3468f7(0x1cd)][_0x3468f7(0x517)],'last':_0x38935c['privacySettings'][_0x3468f7(0x5cd)],'groupadd':_0x38935c[_0x3468f7(0x1cd)]['groupadd']}};}catch(_0x246058){throw new I(_0x3468f7(0x48a),_0x246058[_0x3468f7(0x552)]());}}async[a0_0x4ff83f(0x436)](_0xdf0cb9){const _0x184a09=a0_0x4ff83f;let _0x580f6b=_0xdf0cb9?this['createJid'](_0xdf0cb9):this[_0x184a09(0x4ae)]?.[_0x184a09(0x282)]?.['id'];this[_0x184a09(0x277)][_0x184a09(0x5bf)](_0x184a09(0x6f8)+_0x580f6b);try{if(this[_0x184a09(0x277)][_0x184a09(0x5bf)](_0x184a09(0x1f9)),_0xdf0cb9){let _0x510c4a=(await this[_0x184a09(0x6ff)]({'numbers':[_0x580f6b]}))?.['shift'](),_0x4c7386=await this[_0x184a09(0x18e)](_0x510c4a?.[_0x184a09(0x4d6)]),_0x16005d=await this[_0x184a09(0x2db)](_0x510c4a?.[_0x184a09(0x4d6)]),_0x46800a=await this[_0x184a09(0x44e)](_0x510c4a?.[_0x184a09(0x4d6)]);return{'wuid':_0x510c4a?.['jid']||_0x580f6b,'name':_0x510c4a?.['name'],'numberExists':_0x510c4a?.[_0x184a09(0x68d)],'picture':_0x4c7386?.[_0x184a09(0x51d)],'status':_0x16005d?.['status'],'isBusiness':_0x46800a[_0x184a09(0x391)],'email':_0x46800a?.[_0x184a09(0x72e)],'description':_0x46800a?.[_0x184a09(0x58c)],'website':_0x46800a?.[_0x184a09(0x556)]?.[_0x184a09(0x715)]()};}}catch{return this[_0x184a09(0x277)]['verbose'](_0x184a09(0x478)),{'wuid':_0x580f6b,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x4ff83f(0x7b1)](_0x546ab8){const _0x20c468=a0_0x4ff83f;let _0x2e43bc=(_0x546ab8?this[_0x20c468(0x321)](_0x546ab8):this['client']?.[_0x20c468(0x282)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this['logger'][_0x20c468(0x5bf)](_0x20c468(0x625)+_0x2e43bc);let _0x9baf85=await this[_0x20c468(0x53b)][_0x20c468(0x75b)][_0x20c468(0x64f)]({'where':{'_id':_0x2e43bc}},this['instance'][_0x20c468(0x6a8)]),_0x7b7a20=_0x9baf85?_0x9baf85[_0x20c468(0x630)]:null;try{let _0x4d5ab3=(await this[_0x20c468(0x6ff)]({'numbers':[_0x2e43bc]}))?.[_0x20c468(0x715)](),_0x18e508=await this[_0x20c468(0x18e)](_0x4d5ab3?.[_0x20c468(0x4d6)]),_0x3d2dcc=await this[_0x20c468(0x2db)](_0x4d5ab3?.[_0x20c468(0x4d6)]),_0x2cbf6d=await this[_0x20c468(0x44e)](_0x4d5ab3?.['jid']),_0x6c1970=await this[_0x20c468(0x53b)][_0x20c468(0x7b0)][_0x20c468(0x64f)]({'where':{'_id':_0x2e43bc}},this['instance'][_0x20c468(0x6a8)]),_0x16b4a6={'imagechat':_0x18e508?.[_0x20c468(0x51d)],'contactname':_0x7b7a20||null,'status':_0x3d2dcc?.[_0x20c468(0x728)],'isBusiness':_0x2cbf6d[_0x20c468(0x391)],'email':_0x2cbf6d?.[_0x20c468(0x72e)],'description':_0x2cbf6d?.[_0x20c468(0x58c)],'website':_0x2cbf6d?.[_0x20c468(0x556)]?.[_0x20c468(0x715)](),'lastcache':Date[_0x20c468(0x7fe)](),'imported':!_0x6c1970},_0x2559ae=await this[_0x20c468(0x53b)][_0x20c468(0x7b0)]['updateOne']({'where':{'_id':_0x2e43bc}},_0x16b4a6,this[_0x20c468(0x5c4)]['wuid']),_0x3ec683={'owner':this[_0x20c468(0x5c4)]['wuid'],'_id':_0x2e43bc,'profilePictureUrl':_0x18e508?.[_0x20c468(0x51d)],'status':_0x3d2dcc?.[_0x20c468(0x728)]};return this[_0x20c468(0x53b)][_0x20c468(0x75b)][_0x20c468(0x416)]([_0x3ec683],this['instance'][_0x20c468(0x6a8)]),_0x2559ae&&q(this[_0x20c468(0x532)],_0x20c468(0x7ae),{'chat':_0x2559ae}),{'wuid':_0x4d5ab3?.[_0x20c468(0x4d6)]||_0x2e43bc,'name':_0x4d5ab3?.['name'],'numberExists':_0x4d5ab3?.[_0x20c468(0x68d)],'picture':_0x18e508?.[_0x20c468(0x51d)],'status':_0x3d2dcc?.['status'],'isBusiness':_0x2cbf6d[_0x20c468(0x391)],'email':_0x2cbf6d?.['email'],'description':_0x2cbf6d?.[_0x20c468(0x58c)],'website':_0x2cbf6d?.[_0x20c468(0x556)]?.[_0x20c468(0x715)]()};}catch(_0x2874ae){return this['logger']['error'](_0x20c468(0x639)+(_0x2874ae instanceof Error?_0x2874ae[_0x20c468(0x41d)]:JSON[_0x20c468(0x62a)](_0x2874ae,null,0x2))),{};}}async[a0_0x4ff83f(0x44e)](_0x6ac39a){const _0x1da918=a0_0x4ff83f;this[_0x1da918(0x277)][_0x1da918(0x5bf)](_0x1da918(0x1df));try{let _0xcc2b28=_0x6ac39a?this['createJid'](_0x6ac39a):this[_0x1da918(0x5c4)][_0x1da918(0x6a8)],_0x453c53=await this[_0x1da918(0x4ae)]['getBusinessProfile'](_0xcc2b28);return this[_0x1da918(0x277)][_0x1da918(0x5bf)](_0x1da918(0x62e)),_0x453c53?(this[_0x1da918(0x277)]['verbose']('Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x453c53}):{'isBusiness':!0x1,'message':_0x1da918(0x1d4),...(await this['whatsappNumber']({'numbers':[_0xcc2b28]}))?.['shift']()};}catch(_0x405c18){throw new I('Error\x20updating\x20profile\x20name',_0x405c18[_0x1da918(0x552)]());}}async[a0_0x4ff83f(0x2db)](_0x54d042){const _0x27ba9b=a0_0x4ff83f;let _0x226fd9=this[_0x27ba9b(0x321)](_0x54d042);try{return{'wuid':_0x226fd9,'status':(await this[_0x27ba9b(0x4ae)][_0x27ba9b(0x3fc)](_0x226fd9))?.[_0x27ba9b(0x728)]};}catch{return{'wuid':_0x226fd9,'status':null};}}async[a0_0x4ff83f(0x75d)](_0x3bc65f){const _0x3d0119=a0_0x4ff83f;try{return await this[_0x3d0119(0x4ae)][_0x3d0119(0x75d)](_0x3bc65f),{'update':'success'};}catch(_0x1752be){throw new I(_0x3d0119(0x5f7),_0x1752be['toString']());}}async[a0_0x4ff83f(0x2b9)](_0x2752be){const _0x551ec7=a0_0x4ff83f;try{return await this[_0x551ec7(0x4ae)][_0x551ec7(0x2b9)](_0x2752be),{'update':_0x551ec7(0x7ba)};}catch(_0x8ae63b){throw new I('Error\x20updating\x20profile\x20status',_0x8ae63b[_0x551ec7(0x552)]());}}async[a0_0x4ff83f(0x5bb)](_0x106a75){const _0x1949d4=a0_0x4ff83f;try{let _0x2b9a94;if((0x0,$['isURL'])(_0x106a75)){let _0x1e89d5=new Date()['getTime'](),_0xdfc584=_0x106a75+_0x1949d4(0x39e)+_0x1e89d5;_0x2b9a94=(await te[_0x1949d4(0x604)]['get'](_0xdfc584,{'responseType':_0x1949d4(0x27f)}))[_0x1949d4(0x5eb)];}else{if((0x0,$[_0x1949d4(0x753)])(_0x106a75))_0x2b9a94=Buffer['from'](_0x106a75,_0x1949d4(0x7d5));else throw new m(_0x1949d4(0x55e));}return await this[_0x1949d4(0x4ae)][_0x1949d4(0x5bb)](this[_0x1949d4(0x5c4)][_0x1949d4(0x6a8)],_0x2b9a94),{'update':_0x1949d4(0x7ba)};}catch(_0x1caa64){throw new I(_0x1949d4(0x5f5),_0x1caa64['toString']());}}async[a0_0x4ff83f(0x6cb)](){const _0x23fa58=a0_0x4ff83f;try{return await this[_0x23fa58(0x4ae)][_0x23fa58(0x6cb)](this[_0x23fa58(0x5c4)]['wuid']),{'update':_0x23fa58(0x7ba)};}catch(_0x633b2a){throw new I('Error\x20removing\x20profile\x20picture',_0x633b2a[_0x23fa58(0x552)]());}}async[a0_0x4ff83f(0x1fb)](_0x61be3b){const _0x32299f=a0_0x4ff83f;try{let _0x4b896b=_0x61be3b['participants'][_0x32299f(0x5c3)](_0xcdefa=>this['createJid'](_0xcdefa)),{id:_0x107b61}=await this[_0x32299f(0x4ae)]['groupCreate'](_0x61be3b[_0x32299f(0x259)],_0x4b896b);return _0x61be3b?.[_0x32299f(0x58c)]&&await this[_0x32299f(0x4ae)]['groupUpdateDescription'](_0x107b61,_0x61be3b[_0x32299f(0x58c)]),{'metadata':await this[_0x32299f(0x4ae)]['groupMetadata'](_0x107b61)};}catch(_0x46605a){throw this[_0x32299f(0x277)][_0x32299f(0x57f)](this['instanceName']+'\x20('+this['instance'][_0x32299f(0x6a8)]+_0x32299f(0x70d)+(_0x46605a instanceof Error?_0x46605a[_0x32299f(0x41d)]:JSON[_0x32299f(0x62a)](_0x46605a,null,0x2))),new I('Error\x20creating\x20group',_0x46605a['toString']());}}async[a0_0x4ff83f(0x598)](_0x402a2f){const _0x546659=a0_0x4ff83f;try{let _0x82d9c6;if((0x0,$['isURL'])(_0x402a2f['image'])){let _0x35126a=new Date()[_0x546659(0x272)](),_0x20e8f6=_0x402a2f[_0x546659(0x1bd)]+_0x546659(0x39e)+_0x35126a;_0x82d9c6=(await te[_0x546659(0x604)][_0x546659(0x605)](_0x20e8f6,{'responseType':_0x546659(0x27f)}))[_0x546659(0x5eb)];}else{if((0x0,$[_0x546659(0x753)])(_0x402a2f[_0x546659(0x1bd)]))_0x82d9c6=Buffer[_0x546659(0x1e8)](_0x402a2f[_0x546659(0x1bd)],'base64');else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x546659(0x4ae)]['updateProfilePicture'](_0x402a2f[_0x546659(0x5dc)],_0x82d9c6),{'update':_0x546659(0x7ba)};}catch(_0x8e3166){throw new I('Error\x20update\x20group\x20picture',_0x8e3166[_0x546659(0x552)]());}}async['findGroup'](_0x39af3c,_0x2f33fc='out'){const _0x505b47=a0_0x4ff83f;try{let _0x3ec429=await this[_0x505b47(0x4ae)][_0x505b47(0x2c2)](_0x39af3c[_0x505b47(0x5dc)]),_0x3e3928=null;try{_0x3e3928=(await this[_0x505b47(0x18e)](_0x39af3c[_0x505b47(0x5dc)]))[_0x505b47(0x51d)];}catch(_0x5348f4){this[_0x505b47(0x277)][_0x505b47(0x5bf)](this[_0x505b47(0x532)]+'\x20('+this[_0x505b47(0x5c4)][_0x505b47(0x6a8)]+_0x505b47(0x24b)+_0x39af3c[_0x505b47(0x5dc)]+':\x20'+(_0x5348f4 instanceof Error?_0x5348f4[_0x505b47(0x41d)]:JSON[_0x505b47(0x62a)](_0x5348f4,null,0x2)));}let _0x353567=await this[_0x505b47(0x53b)][_0x505b47(0x7b0)][_0x505b47(0x273)]({'where':{'_id':_0x39af3c[_0x505b47(0x5dc)]}},{'imagechat':_0x3e3928,'name':_0x3ec429['subject'],'group_size':_0x3ec429['size'],'group_announce':_0x3ec429[_0x505b47(0x63d)],'lastcache':Date[_0x505b47(0x7fe)]()},this['instance']['wuid']);return _0x353567&&q(this['instanceName'],'chats',{'chat':_0x353567}),{'metadata':_0x3ec429,'image':_0x3e3928};}catch(_0x3da8f3){if(_0x2f33fc===_0x505b47(0x2ab))return;throw new k(_0x505b47(0x281),_0x3da8f3[_0x505b47(0x552)]());}}async[a0_0x4ff83f(0x337)](_0x3859ff){const _0x3fd805=a0_0x4ff83f;try{return await this[_0x3fd805(0x4ae)]['groupUpdateDescription'](_0x3859ff[_0x3fd805(0x5dc)],_0x3859ff[_0x3fd805(0x58c)]),{'update':_0x3fd805(0x7ba)};}catch(_0x4ac58a){throw new I(_0x3fd805(0x4f8),_0x4ac58a[_0x3fd805(0x552)]());}}async['groupName'](_0x23d84c){const _0x49d6c6=a0_0x4ff83f;try{return await this[_0x49d6c6(0x4ae)]['groupUpdateSubject'](_0x23d84c[_0x49d6c6(0x5dc)],_0x23d84c[_0x49d6c6(0x1c3)]),{'update':_0x49d6c6(0x7ba)};}catch(_0x3c0f24){throw new I(_0x49d6c6(0x681),_0x3c0f24[_0x49d6c6(0x552)]());}}async[a0_0x4ff83f(0x702)](_0x5a08c9){const _0x49c5a1=a0_0x4ff83f;try{return await this[_0x49c5a1(0x4ae)][_0x49c5a1(0x332)](_0x5a08c9[_0x49c5a1(0x5dc)],_0x5a08c9[_0x49c5a1(0x191)]),{'update':'success'};}catch(_0xb06133){throw new I(_0x49c5a1(0x4fb),_0xb06133[_0x49c5a1(0x552)]());}}async[a0_0x4ff83f(0x496)](){const _0xa1ac0b=a0_0x4ff83f;try{let _0x3d79b7=[],_0x565d71=await this['client']['groupFetchAllParticipating'](),_0x39210a=Object['values'](_0x565d71),_0x105ab4=_0x39210a[_0xa1ac0b(0x53c)](_0x3cb767=>(0x0,g[_0xa1ac0b(0x4ec)])(_0x3cb767?.['id']))[_0xa1ac0b(0x5c3)](async _0x2ac164=>{const _0x4b5023=_0xa1ac0b;try{return await this[_0x4b5023(0x4ae)][_0x4b5023(0x51d)](_0x2ac164['id'],_0x4b5023(0x6bb));}catch(_0x472770){return this[_0x4b5023(0x277)]['verbose'](this[_0x4b5023(0x532)]+'\x20('+this[_0x4b5023(0x5c4)][_0x4b5023(0x6a8)]+_0x4b5023(0x24b)+_0x2ac164['id']+':\x20'+(_0x472770 instanceof Error?_0x472770['message']:JSON[_0x4b5023(0x62a)](_0x472770,null,0x2))),null;}}),_0x3eb299=await Promise[_0xa1ac0b(0x5b2)](_0x105ab4);for(let _0x5b895d=0x0;_0x5b895d<_0x39210a[_0xa1ac0b(0x78e)];_0x5b895d++){let _0x348d83=_0x39210a[_0x5b895d];(0x0,g[_0xa1ac0b(0x4ec)])(_0x348d83?.['id'])&&_0x3d79b7[_0xa1ac0b(0x3ed)]({'groupJid':_0x348d83?.['id'],'subject':_0x348d83?.['subject'],'subjectOwner':_0x348d83?.[_0xa1ac0b(0x23b)]?.[_0xa1ac0b(0x290)]('@')[0x0],'subjectTime':_0x348d83?.['subjectTime'],'size':_0x348d83?.['participants']?.[_0xa1ac0b(0x78e)],'owner':_0x348d83?.[_0xa1ac0b(0x343)]?.[_0xa1ac0b(0x290)]('@')[0x0],'creation':_0x348d83?.[_0xa1ac0b(0x2ac)],'desc':_0x348d83?.['desc'],'restrict':_0x348d83?.[_0xa1ac0b(0x2a6)],'announce':_0x348d83?.[_0xa1ac0b(0x63d)],'image':_0x3eb299[_0x5b895d]});}return _0x3d79b7;}catch(_0x417358){throw new k(_0xa1ac0b(0x281),_0x417358[_0xa1ac0b(0x552)]());}}async['inviteCode'](_0x11d602){const _0x30a4d6=a0_0x4ff83f;try{let _0x541e20=await this[_0x30a4d6(0x4ae)][_0x30a4d6(0x38b)](_0x11d602[_0x30a4d6(0x5dc)]);return{'inviteUrl':_0x30a4d6(0x3a3)+_0x541e20,'inviteCode':_0x541e20};}catch(_0x7f89c3){throw new k(_0x30a4d6(0x453),_0x7f89c3['toString']());}}async['revokeInviteCode'](_0xb0953c){const _0x2b2b46=a0_0x4ff83f;try{let _0x5b0b2a=await this[_0x2b2b46(0x4ae)][_0x2b2b46(0x5ef)](_0xb0953c[_0x2b2b46(0x5dc)]);return{'revoked':!0x0,'inviteUrl':_0x2b2b46(0x3a3)+_0x5b0b2a,'inviteCode':_0x5b0b2a};}catch(_0x40e478){throw new k('Revoke\x20error',_0x40e478[_0x2b2b46(0x552)]());}}async[a0_0x4ff83f(0x4c8)](_0x550279){const _0x2ca223=a0_0x4ff83f;try{if((0x0,$[_0x2ca223(0x38c)])(_0x550279['inviteCode']))var _0x54f660=_0x550279[_0x2ca223(0x682)][_0x2ca223(0x290)]('/')[0x3];else var _0x54f660=_0x550279[_0x2ca223(0x682)];let _0x304110=await this['client'][_0x2ca223(0x6d9)](_0x54f660);return this[_0x2ca223(0x277)][_0x2ca223(0x5bf)](this[_0x2ca223(0x532)]+'\x20('+this[_0x2ca223(0x5c4)][_0x2ca223(0x6a8)]+_0x2ca223(0x70d)+_0x304110),{'join':!0x0,'inviteCode':_0x54f660,'groupJid':_0x304110};}catch(_0x181f9a){throw new k(_0x2ca223(0x26e),_0x181f9a['toString']());}}async[a0_0x4ff83f(0x387)](_0x17770a){const _0x487034=a0_0x4ff83f;try{return{'participants':(await this[_0x487034(0x4ae)]['groupMetadata'](_0x17770a['groupJid']))[_0x487034(0x80f)]};}catch(_0x15dcfb){throw new k(_0x487034(0x390),_0x15dcfb[_0x487034(0x552)]());}}async[a0_0x4ff83f(0x808)](_0x30d21e){const _0x3f4f5a=a0_0x4ff83f;try{let _0x3ff72a=_0x30d21e['participants'][_0x3f4f5a(0x5c3)](_0x288304=>this[_0x3f4f5a(0x321)](_0x288304));return{'updateParticipants':await this[_0x3f4f5a(0x4ae)][_0x3f4f5a(0x6eb)](_0x30d21e['groupJid'],_0x3ff72a,_0x30d21e[_0x3f4f5a(0x358)])};}catch(_0x436885){throw new m(_0x3f4f5a(0x7ab),_0x436885['toString']());}}async[a0_0x4ff83f(0x7f3)](_0x1d42a1){const _0x1e6393=a0_0x4ff83f;try{let _0x55588a=await this[_0x1e6393(0x4ae)][_0x1e6393(0x601)](_0x1d42a1['groupJid'],_0x1d42a1['expiration']);return{'success':!0x0};}catch(_0x303ae2){throw new m('Error\x20updating\x20setting',_0x303ae2[_0x1e6393(0x552)]());}}async[a0_0x4ff83f(0x7dc)](_0xc24ccc){const _0x58b94a=a0_0x4ff83f;try{return await this[_0x58b94a(0x4ae)][_0x58b94a(0x7c4)](_0xc24ccc['groupJid']),{'groupJid':_0xc24ccc[_0x58b94a(0x5dc)],'leave':!0x0};}catch(_0x2b13e3){throw new m(_0x58b94a(0x698),_0x2b13e3[_0x58b94a(0x552)]());}}async['pollMessage'](_0x4ce4e2){const _0x4f18a3=a0_0x4ff83f;return await this['sendMessageWithTyping'](_0x4ce4e2[_0x4f18a3(0x528)],{'poll':{'name':_0x4ce4e2[_0x4f18a3(0x280)]?.['name'],'selectableCount':_0x4ce4e2['pollMessage'][_0x4f18a3(0x772)],'values':_0x4ce4e2[_0x4f18a3(0x280)][_0x4f18a3(0x6e5)]}},_0x4ce4e2?.['options']);}async['listMessage'](_0x50c6b4){const _0x4d9654=a0_0x4ff83f;return await this[_0x4d9654(0x6d7)](_0x50c6b4['number'],{'listMessage':{'title':_0x50c6b4[_0x4d9654(0x6e3)][_0x4d9654(0x4af)],'description':_0x50c6b4['listMessage']['description'],'buttonText':_0x50c6b4[_0x4d9654(0x6e3)]?.[_0x4d9654(0x58f)],'footerText':_0x50c6b4[_0x4d9654(0x6e3)]?.[_0x4d9654(0x792)],'sections':_0x50c6b4[_0x4d9654(0x6e3)][_0x4d9654(0x75a)],'listType':0x2}},_0x50c6b4?.[_0x4d9654(0x516)]);}async['menuMessage'](_0x3738e5){const _0x1f50ae=a0_0x4ff83f;let _0x83b92;if(_0x3738e5[_0x1f50ae(0x4a7)][_0x1f50ae(0x464)]===_0x1f50ae(0x6f2)){let _0x4f5bc0=_0x3738e5[_0x1f50ae(0x4a7)][_0x1f50ae(0x7ee)][_0x1f50ae(0x42d)]('\x0a'),_0x5c196e='',_0xb75742='';_0x4f5bc0!==-0x1?(_0x5c196e=_0x3738e5[_0x1f50ae(0x4a7)]['text'][_0x1f50ae(0x370)](0x0,_0x4f5bc0)[_0x1f50ae(0x35f)](),_0xb75742=_0x3738e5['menuMessage']['text'][_0x1f50ae(0x370)](_0x4f5bc0+0x1)):_0xb75742=_0x3738e5[_0x1f50ae(0x4a7)]['text'];let _0x31df5a=this[_0x1f50ae(0x7a1)](_0x3738e5[_0x1f50ae(0x4a7)][_0x1f50ae(0x54d)]);_0x83b92={'listMessage':{'title':_0x5c196e,'description':_0xb75742,'buttonText':_0x3738e5[_0x1f50ae(0x4a7)]['buttonText']||_0x1f50ae(0x437),'footerText':_0x3738e5[_0x1f50ae(0x4a7)][_0x1f50ae(0x792)],'sections':_0x31df5a,'listType':0x2}};}else{if(_0x3738e5[_0x1f50ae(0x4a7)]['type']===_0x1f50ae(0x278)){let _0x13978f=_0x3738e5[_0x1f50ae(0x4a7)]['choices'][_0x1f50ae(0x53c)](_0x4797d6=>!(_0x4797d6[_0x1f50ae(0x45a)]('[')&&_0x4797d6['endsWith'](']')))['map'](_0x538766=>_0x538766['split']('\x0a')[0x0]);_0x83b92={'poll':{'name':_0x3738e5['menuMessage'][_0x1f50ae(0x7ee)],'selectableCount':_0x3738e5[_0x1f50ae(0x4a7)][_0x1f50ae(0x772)]||0x1,'values':_0x13978f}};}}return await this[_0x1f50ae(0x6d7)](_0x3738e5['number'],_0x83b92,_0x3738e5?.[_0x1f50ae(0x516)]);}['createSectionsFromValues'](_0x450843){const _0x83082b=a0_0x4ff83f;let _0x438a0e=[],_0x2c7bf3={'rows':[]};return _0x450843[_0x83082b(0x4bf)](_0x280ec2=>{const _0x16124a=_0x83082b;if(_0x280ec2[_0x16124a(0x45a)]('[')&&_0x280ec2['endsWith'](']'))_0x2c7bf3['rows'][_0x16124a(0x78e)]>0x0&&_0x438a0e[_0x16124a(0x3ed)](_0x2c7bf3),_0x2c7bf3={'title':_0x280ec2['slice'](0x1,-0x1),'rows':[]};else{let _0x2e6bd6=_0x280ec2['split']('\x0a')[_0x16124a(0x5c3)](_0x3700e2=>_0x3700e2[_0x16124a(0x35f)]()),_0x2af605=_0x2e6bd6[0x0],_0x40b859=_0x2e6bd6[0x1]||null,_0x23551a=_0x2e6bd6[0x2]||_0x2af605;_0x2c7bf3[_0x16124a(0x23f)]['push']({'title':_0x2af605,'description':_0x40b859,'rowId':_0x23551a});}}),_0x2c7bf3[_0x83082b(0x23f)][_0x83082b(0x78e)]>0x0&&_0x438a0e[_0x83082b(0x3ed)](_0x2c7bf3),_0x438a0e;}async[a0_0x4ff83f(0x535)](_0x12bf9f,_0x137aee){const _0x4a01f7=a0_0x4ff83f;if(await this[_0x4a01f7(0x1db)](_0x12bf9f,!0x0)){let _0x8410ea={'where':{'_id':_0x12bf9f['id']}},_0x4e0fd6={'status':[_0x137aee[_0x4a01f7(0x728)]][0x0]};try{let _0x34f65f=await this[_0x4a01f7(0x53b)]['message'][_0x4a01f7(0x416)](_0x8410ea,_0x4e0fd6,this[_0x4a01f7(0x5c4)]['wuid']);_0x34f65f&&q(this['instanceName'],_0x4a01f7(0x65a),{'message':_0x34f65f});}catch{}}}[a0_0x4ff83f(0x7c9)](_0x49c232){const _0x418f33=a0_0x4ff83f;let _0x59631c=[];return _0x49c232[_0x418f33(0x4bf)](_0x3fa30f=>{const _0x11ddd0=_0x418f33;_0x3fa30f[_0x11ddd0(0x4af)]&&_0x59631c['push']('['+_0x3fa30f['title']+']'),_0x3fa30f['rows']['forEach'](_0xf90f51=>{const _0xf3b4f6=_0x11ddd0;_0x59631c[_0xf3b4f6(0x3ed)](_0xf90f51[_0xf3b4f6(0x4af)]);});}),_0x59631c[_0x418f33(0x35a)]('|');}[a0_0x4ff83f(0x596)](_0x28efb7){const _0x47a0de=a0_0x4ff83f;let _0x9ef431=_0x28efb7[_0x47a0de(0x707)](/\\n/g,'\x0a')[_0x47a0de(0x290)]('\x0a')[_0x47a0de(0x53c)](_0x359760=>_0x359760[_0x47a0de(0x713)]('TEL')||_0x359760[_0x47a0de(0x713)](_0x47a0de(0x252))),_0x51d3b8='';return _0x9ef431['forEach'](_0x2c1419=>{const _0x5ae699=_0x47a0de;let _0x31845b=/TEL(?:.*):(.+)/,_0x36cd47=/EMAIL(?:.*):(.+)/,_0x1d6021=_0x2c1419['match'](_0x31845b),_0x21d499=_0x2c1419['match'](_0x36cd47);if(_0x1d6021){let _0x1931ee=_0x1d6021[0x1][_0x5ae699(0x707)](/-| |\+|\(|\)/g,'')['trim']();_0x51d3b8+='Telefone:\x20'+_0x1931ee+'\x0a';}else{if(_0x21d499){let _0xd71ba6=_0x21d499[0x1][_0x5ae699(0x35f)]();_0x51d3b8+=_0x5ae699(0x51e)+_0xd71ba6+'\x0a';}}}),_0x51d3b8[_0x47a0de(0x35f)]();}async[a0_0x4ff83f(0x468)](_0x3bb4d7,_0x291c9e,_0x19ae4c){const _0x25444c=a0_0x4ff83f;if(!_0x3bb4d7[_0x25444c(0x81b)])return;let _0x47b28f=_0x291c9e[_0x25444c(0x657)][_0x25444c(0x246)][_0x25444c(0x707)](/:\d{1,2}@/g,'@'),_0xbecfef=_0x291c9e['key'][_0x25444c(0x70c)],_0x2b63ec=_0x47b28f['endsWith'](_0x25444c(0x5fe)),_0x108df9=_0x291c9e[_0x25444c(0x595)]?.[_0x25444c(0x7ee)]||_0x291c9e[_0x25444c(0x595)]?.[_0x25444c(0x440)]||_0x291c9e[_0x25444c(0x595)]?.[_0x25444c(0x594)]||_0x291c9e['message_normalized']?.['name'],_0x1af0a4={'lastmsg':_0x291c9e[_0x25444c(0x2b4)]||Date['now'](),'unreadcount':_0xbecfef?0x0:0x1,..._0xbecfef||_0x2b63ec?{}:{'name':_0x291c9e[_0x25444c(0x630)]},..._0x2b63ec?{'group':_0x2b63ec}:{}},_0x2fe02e=await this[_0x25444c(0x53b)][_0x25444c(0x7b0)][_0x25444c(0x273)]({'where':{'_id':_0x47b28f}},_0x1af0a4,this[_0x25444c(0x5c4)][_0x25444c(0x6a8)],{'new':!0x0,'upsert':!0x0});if(_0x2fe02e[_0x25444c(0x626)]){let _0x56f316=await this['repository'][_0x25444c(0x58e)]['find']({'where':{}},this['instance']['wuid']),_0x22673b=new Set(_0x56f316[_0x25444c(0x5c3)](_0x1fe75b=>_0x1fe75b[_0x25444c(0x572)])),_0x50cdbc=(_0x2fe02e[_0x25444c(0x1be)]?.[_0x25444c(0x61b)]||[])[_0x25444c(0x53c)](_0x3b2261=>_0x22673b[_0x25444c(0x65b)](_0x3b2261)),_0x10fed1={'leadInfo.etiquetas':_0x50cdbc,'imported':!0x1};_0x2fe02e=await this['repository'][_0x25444c(0x7b0)][_0x25444c(0x273)]({'where':{'_id':_0x47b28f}},_0x10fed1,this[_0x25444c(0x5c4)][_0x25444c(0x6a8)]);for(let _0x342f09 of _0x50cdbc)await this[_0x25444c(0x2df)](_0x342f09,_0x47b28f);}if(!_0x2b63ec&&(!_0x2fe02e?.[_0x25444c(0x1be)]||!_0x2fe02e[_0x25444c(0x1be)]['nome'])&&_0x291c9e[_0x25444c(0x630)]&&!_0xbecfef&&(_0x2fe02e=await this[_0x25444c(0x53b)]['chat']['updateOne']({'where':{'_id':_0x47b28f}},{'leadInfo.nome':_0x291c9e['pushName']},this[_0x25444c(0x5c4)]['wuid'],{'new':!0x0,'upsert':!0x0})),_0x19ae4c==='MESSAGES_UPSERT'&&_0xbecfef&&this[_0x25444c(0x1b1)]?.['flowConfig'][_0x25444c(0x722)]&&!_0x108df9[_0x25444c(0x45a)](this[_0x25444c(0x1b1)]?.[_0x25444c(0x180)][_0x25444c(0x730)])){let _0x5c40d4=(this[_0x25444c(0x1b1)]?.[_0x25444c(0x180)][_0x25444c(0x2e8)]||0x5)*0xea60,_0x21e27a=Date[_0x25444c(0x7fe)]()+_0x5c40d4;_0x2fe02e?.['leadInfo']?.[_0x25444c(0x4c6)]===0x0||(await this[_0x25444c(0x53b)][_0x25444c(0x7b0)][_0x25444c(0x273)]({'where':{'_id':_0x47b28f}},{'leadInfo.desativadoFluxoAte':_0x21e27a},this['instance'][_0x25444c(0x6a8)],{'new':!0x0,'upsert':!0x1}),this['logger']['verbose'](this[_0x25444c(0x532)]+'\x20('+this[_0x25444c(0x5c4)][_0x25444c(0x6a8)]+_0x25444c(0x340)+_0x21e27a+'.'));}if(_0x2fe02e)q(this[_0x25444c(0x532)],'chats',{'chat':_0x2fe02e});else{this[_0x25444c(0x277)]['error'](this[_0x25444c(0x532)]+'\x20('+this['instance'][_0x25444c(0x6a8)]+_0x25444c(0x22e));return;}if(!this[_0x25444c(0x1b1)]?.[_0x25444c(0x180)]['enabled'])return this[_0x25444c(0x277)][_0x25444c(0x5bf)](this[_0x25444c(0x532)]+'\x20('+this[_0x25444c(0x5c4)][_0x25444c(0x6a8)]+_0x25444c(0x2ed)),null;if(_0x2fe02e[_0x25444c(0x572)][_0x25444c(0x713)]('@g.us')&&this[_0x25444c(0x1b1)]?.[_0x25444c(0x180)][_0x25444c(0x619)]===!0x0)return this['logger'][_0x25444c(0x5bf)](this['instanceName']+'\x20('+this['instance'][_0x25444c(0x6a8)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x2fe02e[_0x25444c(0x1be)]){if(_0x2fe02e[_0x25444c(0x1be)][_0x25444c(0x4c6)]===0x0||_0x2fe02e['leadInfo']['atendimentoAberto'])return this[_0x25444c(0x277)]['verbose'](this[_0x25444c(0x532)]+'\x20('+this[_0x25444c(0x5c4)][_0x25444c(0x6a8)]+_0x25444c(0x429)+_0x47b28f+_0x25444c(0x7b2)),null;if(_0x2fe02e['leadInfo'][_0x25444c(0x4c6)]>Date[_0x25444c(0x7fe)]()&&!_0x291c9e[_0x25444c(0x595)]?.[_0x25444c(0x594)])return this[_0x25444c(0x277)][_0x25444c(0x5bf)](this[_0x25444c(0x532)]+'\x20('+this[_0x25444c(0x5c4)][_0x25444c(0x6a8)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x2fe02e[_0x25444c(0x1be)]['desativadoFluxoAte'])[_0x25444c(0x68a)]()+',\x20saindo.'),null;}this[_0x25444c(0x277)][_0x25444c(0x5bf)](this[_0x25444c(0x532)]+'\x20('+this[_0x25444c(0x5c4)][_0x25444c(0x6a8)]+_0x25444c(0x4da)),this[_0x25444c(0x33c)](_0x19ae4c,_0x291c9e);}async[a0_0x4ff83f(0x31d)](_0x5524fc,_0x1bd6a5){const _0x3f5432=a0_0x4ff83f;if(_0x1bd6a5[_0x3f5432(0x81b)]){let _0x11ddfb=_0x5524fc[_0x3f5432(0x5c3)](async _0x21e745=>{const _0x154b11=_0x3f5432;try{let _0x1fdf82={'_id':_0x21e745[_0x154b11(0x572)],'owner':_0x21e745['owner'],'lastcache':0x0};if(_0x21e745[_0x154b11(0x6d2)]!==null&&(_0x1fdf82[_0x154b11(0x6d2)]=_0x21e745[_0x154b11(0x6d2)]),_0x21e745[_0x154b11(0x1c3)]!==null&&(_0x1fdf82[_0x154b11(0x1c3)]=_0x21e745[_0x154b11(0x1c3)]),_0x21e745[_0x154b11(0x3d9)]!==null&&(_0x1fdf82[_0x154b11(0x3d9)]=_0x21e745['contactname']),_0x21e745['imagechat']!==null&&(_0x1fdf82[_0x154b11(0x1ef)]=_0x21e745[_0x154b11(0x1ef)]),_0x21e745['imagechat']===null&&(_0x1fdf82[_0x154b11(0x1ef)]='Imagem\x20não\x20encontrada'),_0x21e745[_0x154b11(0x45b)]!==null&&(_0x1fdf82[_0x154b11(0x45b)]=_0x21e745['lastmsg']),_0x21e745['archived']!==null&&(_0x1fdf82['archived']=_0x21e745[_0x154b11(0x19a)]),_0x21e745[_0x154b11(0x1b0)]!==null&&(_0x1fdf82['unreadcount']=_0x21e745[_0x154b11(0x1b0)]),Object[_0x154b11(0x356)](_0x1fdf82)[_0x154b11(0x78e)]>0x0)return await this[_0x154b11(0x53b)][_0x154b11(0x7b0)]['updateOne']({'where':{'_id':_0x21e745['_id']}},_0x1fdf82,this['instance'][_0x154b11(0x6a8)]);}catch(_0xce49c1){return console[_0x154b11(0x57f)](_0x154b11(0x4e2)+_0x21e745[_0x154b11(0x572)]+':',_0xce49c1),null;}}),_0xe5c62a=(await Promise['all'](_0x11ddfb))[_0x3f5432(0x53c)](_0x2f5f81=>_0x2f5f81!==null)[_0x3f5432(0x78e)];this['logger'][_0x3f5432(0x5bf)](this[_0x3f5432(0x532)]+'\x20('+this['instance'][_0x3f5432(0x6a8)]+_0x3f5432(0x70d)+_0xe5c62a+_0x3f5432(0x19e)+this['instance'][_0x3f5432(0x6a8)]+_0x3f5432(0x665));}}async['readMessageBot'](_0x467041){const _0x84ebb8=a0_0x4ff83f;this['logger'][_0x84ebb8(0x5bf)](this[_0x84ebb8(0x532)]+'\x20('+this[_0x84ebb8(0x5c4)][_0x84ebb8(0x6a8)]+_0x84ebb8(0x400));let _0x20df7e={'readMessages':[{'remoteJid':_0x467041[_0x84ebb8(0x54e)]['lastReceivedMessage'][_0x84ebb8(0x657)][_0x84ebb8(0x246)],'fromMe':_0x467041[_0x84ebb8(0x54e)][_0x84ebb8(0x1ea)][_0x84ebb8(0x657)][_0x84ebb8(0x70c)],'id':_0x467041[_0x84ebb8(0x54e)][_0x84ebb8(0x1ea)][_0x84ebb8(0x657)]['id']}]};await this[_0x84ebb8(0x444)](_0x20df7e);}async[a0_0x4ff83f(0x33c)](_0x4347e2,_0x245cd3){const _0x21c546=a0_0x4ff83f;try{let {key:_0x20abde,message_normalized:_0xf6d3fc}=_0x245cd3,_0x579e85=_0xf6d3fc,_0x261889=_0xf6d3fc[_0x21c546(0x7ee)]||_0xf6d3fc['caption']||_0xf6d3fc['vote']||_0xf6d3fc[_0x21c546(0x1c3)],_0x23a14e=_0x20abde['remoteJid'],_0x32d84d;if(_0x579e85[_0x21c546(0x657)][_0x21c546(0x70c)]&&_0x261889['trim']()!==this[_0x21c546(0x1b1)]?.[_0x21c546(0x180)]['stopConversation'][_0x21c546(0x35f)]())return this[_0x21c546(0x277)][_0x21c546(0x5bf)](this[_0x21c546(0x532)]+'\x20('+this[_0x21c546(0x5c4)][_0x21c546(0x6a8)]+_0x21c546(0x1a5)),null;if(_0x579e85[_0x21c546(0x657)][_0x21c546(0x70c)]&&_0x261889[_0x21c546(0x35f)]()===this['AutomateSystem']?.[_0x21c546(0x180)][_0x21c546(0x691)][_0x21c546(0x35f)]()){this[_0x21c546(0x277)][_0x21c546(0x5bf)](this[_0x21c546(0x532)]+'\x20('+this['instance']['wuid']+_0x21c546(0x497));let _0x121212=await this['repository']['flowConversation'][_0x21c546(0x678)]({'remoteJid':_0x23a14e,'status':'open'},this[_0x21c546(0x5c4)][_0x21c546(0x6a8)]);this[_0x21c546(0x277)]['verbose'](this[_0x21c546(0x532)]+'\x20('+this[_0x21c546(0x5c4)][_0x21c546(0x6a8)]+'):\x20Conversas\x20encontradas:'+_0x121212);let _0xe5ce3d=Date[_0x21c546(0x7fe)](),_0x5caec8;return this[_0x21c546(0x1b1)]?.[_0x21c546(0x180)]['stopMinutes']===0x0?_0x5caec8={'stoppedUntil':_0xe5ce3d+0x7591f6200}:_0x5caec8={'stoppedUntil':_0xe5ce3d+this[_0x21c546(0x1b1)]?.[_0x21c546(0x180)]['stopMinutes']*0x3c*0x3e8},this[_0x21c546(0x277)][_0x21c546(0x5bf)](this[_0x21c546(0x532)]+'\x20('+this[_0x21c546(0x5c4)]['wuid']+_0x21c546(0x2f2)+_0x5caec8),this[_0x21c546(0x68f)](_0x32d84d,_0x5caec8[_0x21c546(0x612)]),null;}if(_0x261889&&_0x261889[_0x21c546(0x45a)](this['AutomateSystem']?.[_0x21c546(0x180)]['prefixCommand'])&&_0x261889[_0x21c546(0x78e)]>0x4){let _0x569c51=await this[_0x21c546(0x53b)]['flow']['findOne']({'where':{'startCommandWord':_0x261889}},this[_0x21c546(0x5c4)]['wuid']);if(this[_0x21c546(0x277)][_0x21c546(0x5bf)](this[_0x21c546(0x532)]+'\x20('+this[_0x21c546(0x5c4)][_0x21c546(0x6a8)]+_0x21c546(0x2c6)),_0x569c51)_0x32d84d=await this[_0x21c546(0x6c2)](_0x569c51,_0x579e85[_0x21c546(0x657)],_0x579e85);else return this[_0x21c546(0x277)]['verbose'](this[_0x21c546(0x532)]+'\x20('+this[_0x21c546(0x5c4)]['wuid']+_0x21c546(0x330)),null;}else _0x32d84d=await this[_0x21c546(0x4f9)](_0x23a14e,_0x579e85);if(_0x32d84d){this[_0x21c546(0x277)]['verbose'](this[_0x21c546(0x532)]+'\x20('+this[_0x21c546(0x5c4)][_0x21c546(0x6a8)]+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x20abde[_0x21c546(0x70c)]&&_0x32d84d['readMessages']&&this[_0x21c546(0x757)](_0x32d84d);let _0x440b0b=await this[_0x21c546(0x313)](_0x32d84d);_0x440b0b&&await this[_0x21c546(0x31b)](_0x32d84d,_0x440b0b);}}catch(_0x77e769){this['logger']['error'](this[_0x21c546(0x532)]+'\x20('+this[_0x21c546(0x5c4)][_0x21c546(0x6a8)]+_0x21c546(0x389)+(_0x77e769 instanceof Error?_0x77e769[_0x21c546(0x41d)]:JSON['stringify'](_0x77e769,null,0x2)));}}[a0_0x4ff83f(0x19b)](_0x2c3b86,_0x590b56='',_0x1b5407={},_0x527bd8=!0x0){const _0x530578=a0_0x4ff83f;for(let _0x59b69 in _0x2c3b86){let _0x28c5da=_0x527bd8?'_'+_0x59b69:''+_0x590b56+_0x59b69;typeof _0x2c3b86[_0x59b69]==_0x530578(0x29b)&&_0x2c3b86[_0x59b69]!==null?this['flattenObject'](_0x2c3b86[_0x59b69],_0x28c5da+'.',_0x1b5407,!0x1):_0x1b5407[_0x28c5da]=String(_0x2c3b86[_0x59b69]);}return _0x1b5407;}['variablesToObject'](_0x343b42){const _0x3da5dd=a0_0x4ff83f;let _0x423d7e={};for(let _0x53705a of _0x343b42)typeof _0x53705a[_0x3da5dd(0x1c3)]=='string'&&typeof _0x53705a[_0x3da5dd(0x660)]==_0x3da5dd(0x27d)&&(_0x423d7e[_0x53705a['name']]=_0x53705a[_0x3da5dd(0x660)]);return _0x423d7e;}async[a0_0x4ff83f(0x313)](_0xa483dd){const _0x152cf4=a0_0x4ff83f;if(!this[_0x152cf4(0x1b1)]?.[_0x152cf4(0x180)]['enabled']||_0xa483dd[_0x152cf4(0x728)]!==_0x152cf4(0x6f0)&&_0xa483dd[_0x152cf4(0x200)]==='')return null;let _0x139e4a=_0xa483dd[_0x152cf4(0x54e)][_0x152cf4(0x672)]||_0x152cf4(0x7d7);typeof _0xa483dd[_0x152cf4(0x54e)]['lastCondition']>'u'&&(_0xa483dd['chatLog'][_0x152cf4(0x248)]=!0x0);let _0x4b4489=_0xa483dd[_0x152cf4(0x54e)][_0x152cf4(0x248)];this[_0x152cf4(0x277)][_0x152cf4(0x5bf)](this['instanceName']+'\x20('+this['instance'][_0x152cf4(0x6a8)]+_0x152cf4(0x609)+_0x139e4a+_0x152cf4(0x266)+_0x4b4489);let _0x4fcc7d=_0x139e4a===_0x152cf4(0x7d7)?_0xa483dd[_0x152cf4(0x29a)]['find'](_0x2daa18=>_0x2daa18[_0x152cf4(0x464)]===_0x152cf4(0x7d7)):_0xa483dd[_0x152cf4(0x29a)][_0x152cf4(0x678)](_0x658b12=>_0x658b12[_0x152cf4(0x572)][_0x152cf4(0x552)]()===_0x139e4a[_0x152cf4(0x552)]());if(!_0x4fcc7d)return this[_0x152cf4(0x277)]['error'](this[_0x152cf4(0x532)]+'\x20('+this['instance']['wuid']+_0x152cf4(0x334)+_0x139e4a),null;let _0x180e04={'_pushName':_0xa483dd[_0x152cf4(0x54e)][_0x152cf4(0x1ea)][_0x152cf4(0x630)],..._0xa483dd[_0x152cf4(0x54e)]['realVariables']},_0x25e244=null;if(_0xa483dd[_0x152cf4(0x200)]){let _0x18113d=_0xa483dd[_0x152cf4(0x54e)][_0x152cf4(0x1ea)][_0x152cf4(0x594)],_0x4038c9=_0xa483dd[_0x152cf4(0x568)][_0x152cf4(0x678)](_0x1b6e3c=>_0x1b6e3c[_0x152cf4(0x44f)]===_0x18113d);if(_0x4038c9){let _0x59bd71=_0x4038c9['next_groupId'];if(_0x25e244=_0xa483dd[_0x152cf4(0x29a)][_0x152cf4(0x678)](_0x33f3c2=>_0x33f3c2['groupId']===_0x59bd71&&_0x33f3c2[_0x152cf4(0x486)]===0x1),_0x4fcc7d[_0x152cf4(0x5df)]['pollOnReplyDelete']){let _0x4e7a4c={'id':_0xa483dd[_0x152cf4(0x200)],'remoteJid':_0xa483dd[_0x152cf4(0x246)],'fromMe':!0x0};await this[_0x152cf4(0x768)](_0x4e7a4c);}if(_0x4fcc7d[_0x152cf4(0x5df)]['pollOnReplyDelete']&&_0x4fcc7d[_0x152cf4(0x5df)][_0x152cf4(0x75f)]&&_0x4fcc7d[_0x152cf4(0x5df)][_0x152cf4(0x724)]===_0x152cf4(0x278)){let _0x499412={'number':_0xa483dd[_0x152cf4(0x246)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0xa483dd[_0x152cf4(0x42e)]+_0x152cf4(0x3fb)+_0x18113d}};await this[_0x152cf4(0x63b)](_0x499412);}_0xa483dd[_0x152cf4(0x728)]=_0x152cf4(0x6f0),_0xa483dd[_0x152cf4(0x200)]='',_0xa483dd[_0x152cf4(0x42e)]='',_0xa483dd[_0x152cf4(0x568)]=[];}else{this['logger'][_0x152cf4(0x5bf)](this[_0x152cf4(0x532)]+'\x20('+this[_0x152cf4(0x5c4)][_0x152cf4(0x6a8)]+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x4a6b13={'activatedCount':_0xa483dd['chatLog'][_0x152cf4(0x33d)][_0x152cf4(0x53c)](_0x35c718=>String(_0x35c718[_0x152cf4(0x427)])===String(_0x139e4a))[_0x152cf4(0x78e)],'moreLogs':[_0x152cf4(0x347)]};if(_0x4fcc7d[_0x152cf4(0x5df)]['pollErrorMessage']){let _0x230ebe={'number':_0xa483dd[_0x152cf4(0x246)],'options':{'delay':0x0},'textMessage':{'text':_0x4fcc7d[_0x152cf4(0x5df)][_0x152cf4(0x4fa)]}};await this[_0x152cf4(0x63b)](_0x230ebe);}if(_0x4fcc7d[_0x152cf4(0x294)]!==void 0x0&&_0x4a6b13[_0x152cf4(0x21f)]>=_0x4fcc7d[_0x152cf4(0x294)]){let _0x302c1e=Date[_0x152cf4(0x7fe)](),_0x298f19=_0x4fcc7d['stopMinutesMaxActives']??0xa;isNaN(_0x298f19)&&(_0x298f19=0xa);let _0x3effa3=_0x302c1e+_0x298f19*0x3c*0x3e8;_0x4a6b13[_0x152cf4(0x77c)]=_0x3effa3,_0x4a6b13[_0x152cf4(0x7c5)][_0x152cf4(0x3ed)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x152cf4(0x68f)](_0xa483dd,_0x3effa3),_0xa483dd[_0x152cf4(0x200)]='',_0xa483dd[_0x152cf4(0x42e)]='',_0xa483dd[_0x152cf4(0x568)]=[];}return this[_0x152cf4(0x249)](_0xa483dd,_0x4fcc7d,_0x4a6b13,!0x0),null;}}if(_0x4b4489&&_0x4fcc7d[_0x152cf4(0x7e8)]&&!_0xa483dd['waitingMenu_id']){let _0xfdff58=_0xa483dd[_0x152cf4(0x29a)]['filter'](_0x2900fc=>_0x2900fc['groupId']['toString']()===_0x4fcc7d[_0x152cf4(0x7e8)][_0x152cf4(0x552)]())[_0x152cf4(0x527)]((_0x4837ce,_0x5f1139)=>_0x4837ce[_0x152cf4(0x486)]-_0x5f1139[_0x152cf4(0x486)]);_0xfdff58[_0x152cf4(0x78e)]>0x0&&(_0x25e244=_0xfdff58[0x0]);}if(!_0x25e244){let _0x1a4c94=_0x4fcc7d[_0x152cf4(0x318)],_0x6f2071=_0xa483dd[_0x152cf4(0x29a)]['filter'](_0x1074ac=>_0x1074ac[_0x152cf4(0x318)]===_0x1a4c94&&_0x1074ac[_0x152cf4(0x486)]>_0x4fcc7d[_0x152cf4(0x486)])['sort']((_0x2e3d18,_0x23728e)=>_0x2e3d18[_0x152cf4(0x486)]-_0x23728e['order']);_0x6f2071[_0x152cf4(0x78e)]>0x0&&(_0x25e244=_0x6f2071[0x0]);}if(!_0x25e244)return _0xa483dd[_0x152cf4(0x728)]=_0x152cf4(0x5de),null;_0xa483dd[_0x152cf4(0x54e)][_0x152cf4(0x433)]=_0x180e04;let _0x33dfd0=JSON[_0x152cf4(0x60a)](JSON['stringify'](_0x25e244));return this['replaceVariablesInObject'](_0x33dfd0,_0xa483dd[_0x152cf4(0x54e)][_0x152cf4(0x433)]),_0xa483dd['chatLog'][_0x152cf4(0x672)]=_0x33dfd0[_0x152cf4(0x572)],_0xa483dd['chatLog'][_0x152cf4(0x248)]=!0x0,_0x33dfd0;}[a0_0x4ff83f(0x483)](_0x6b3ca5,_0x33f272){return _0x6b3ca5['replace'](/\{\{([^}]+)\}\}/g,(_0x2f7992,_0x34909c)=>_0x33f272[_0x34909c]||'');}[a0_0x4ff83f(0x46e)](_0xa9ca8d,_0x51422a){const _0x597596=a0_0x4ff83f;for(let _0x5ef0c9 in _0xa9ca8d)typeof _0xa9ca8d[_0x5ef0c9]=='string'?_0xa9ca8d[_0x5ef0c9]=this[_0x597596(0x483)](_0xa9ca8d[_0x5ef0c9],_0x51422a):typeof _0xa9ca8d[_0x5ef0c9]=='object'&&this[_0x597596(0x46e)](_0xa9ca8d[_0x5ef0c9],_0x51422a);}async['goNextblock'](_0x205c0d,_0x2268b0){const _0x15dde5=a0_0x4ff83f;let _0x21d352=_0x2268b0[_0x15dde5(0x572)];if(_0x205c0d[_0x15dde5(0x54e)]&&_0x205c0d[_0x15dde5(0x54e)][_0x15dde5(0x33d)]){let _0x20e1f1=_0x205c0d[_0x15dde5(0x54e)][_0x15dde5(0x33d)][_0x15dde5(0x53c)](_0x31c03e=>String(_0x31c03e[_0x15dde5(0x427)])===String(_0x21d352))[_0x15dde5(0x68c)]();if(_0x20e1f1&&_0x20e1f1['error']&&_0x2268b0[_0x15dde5(0x69c)])return _0x205c0d[_0x15dde5(0x728)]=_0x15dde5(0x5de),await this[_0x15dde5(0x383)](_0x205c0d),null;}if(_0x2268b0[_0x15dde5(0x464)]==='uazapi'&&_0x2268b0[_0x15dde5(0x5df)][_0x15dde5(0x382)]===_0x15dde5(0x6a5)&&_0x205c0d[_0x15dde5(0x200)])return _0x205c0d[_0x15dde5(0x54e)]['lastBlockId']=_0x21d352,await this[_0x15dde5(0x383)](_0x205c0d),null;let _0x57aeab=await this['NextBlock'](_0x205c0d);if(_0x205c0d['chatLog']&&_0x205c0d[_0x15dde5(0x54e)]['blockLogs']){let _0x1e1d99=_0x205c0d[_0x15dde5(0x54e)]['blockLogs'][_0x15dde5(0x53c)](_0x4632ac=>String(_0x4632ac['blockId'])===String(_0x21d352))[_0x15dde5(0x78e)];if(_0x2268b0[_0x15dde5(0x294)]!==void 0x0&&_0x1e1d99>=_0x2268b0['maxActives']){let _0x2b5366=Date[_0x15dde5(0x7fe)](),_0x277d76=_0x2268b0[_0x15dde5(0x30c)]??0xa;isNaN(_0x277d76)&&(_0x277d76=0xa);let _0xb6eb11=_0x2b5366+_0x277d76*0x3c*0x3e8,_0x3e46c3={'newStoppedUntil':_0xb6eb11};return this[_0x15dde5(0x68f)](_0x205c0d,_0xb6eb11),this[_0x15dde5(0x249)](_0x205c0d,_0x2268b0,_0x3e46c3,!0x0),null;}}_0x57aeab&&_0x57aeab['type']!==_0x15dde5(0x725)&&await this[_0x15dde5(0x31b)](_0x205c0d,_0x57aeab),_0x57aeab||await this[_0x15dde5(0x383)](_0x205c0d),_0x57aeab&&_0x57aeab[_0x15dde5(0x464)]===_0x15dde5(0x725)&&(_0x205c0d[_0x15dde5(0x54e)][_0x15dde5(0x672)]=_0x21d352,await this[_0x15dde5(0x383)](_0x205c0d));}async[a0_0x4ff83f(0x31b)](_0x1b3d07,_0x403e46){const _0x1d17bd=a0_0x4ff83f;try{let _0x37979b=_0x403e46['type'];this['logger'][_0x1d17bd(0x5bf)](this[_0x1d17bd(0x532)]+'\x20('+this[_0x1d17bd(0x5c4)][_0x1d17bd(0x6a8)]+_0x1d17bd(0x263)+_0x37979b);let _0x1740f6={'uazapi':()=>this[_0x1d17bd(0x1d3)](_0x1b3d07,_0x403e46),'save':()=>this[_0x1d17bd(0x71f)](_0x1b3d07,_0x403e46),'stop':()=>this[_0x1d17bd(0x691)](_0x1b3d07,_0x403e46),'condition':()=>this['processConditions'](_0x1b3d07,_0x403e46),'varedit':()=>this[_0x1d17bd(0x2d5)](_0x1b3d07,_0x403e46),'apirequest':()=>this[_0x1d17bd(0x781)](_0x1b3d07,_0x403e46),'goToFlow':()=>this[_0x1d17bd(0x780)](_0x1b3d07,_0x403e46)}[_0x37979b];_0x1740f6&&await _0x1740f6();}catch(_0x35bf97){this['logger']['error'](this[_0x1d17bd(0x532)]+'\x20('+this[_0x1d17bd(0x5c4)][_0x1d17bd(0x6a8)]+_0x1d17bd(0x386)+(_0x35bf97 instanceof Error?_0x35bf97[_0x1d17bd(0x41d)]:JSON[_0x1d17bd(0x62a)](_0x35bf97,null,0x2)));}}async[a0_0x4ff83f(0x780)](_0x594804,_0xe6b9d1){const _0x34068d=a0_0x4ff83f;if(this[_0x34068d(0x277)][_0x34068d(0x5bf)](this[_0x34068d(0x532)]+'\x20('+this['instance'][_0x34068d(0x6a8)]+_0x34068d(0x72a)),!_0x594804||!_0xe6b9d1)return this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x34068d(0x6a8)]+_0x34068d(0x6e4)),null;await this['updateConversation'](_0x594804,_0xe6b9d1,{},!0x0,!0x0),console[_0x34068d(0x4b8)]('nextBlock:'),console[_0x34068d(0x4b8)](_0xe6b9d1);let _0x30490a=_0xe6b9d1['goToFlow'];console[_0x34068d(0x4b8)](_0x34068d(0x327),_0x30490a),_0x594804=await this[_0x34068d(0x754)](_0x30490a,_0x594804['remoteJid'],_0x594804[_0x34068d(0x54e)]['realVariables']),this[_0x34068d(0x277)][_0x34068d(0x5bf)](this[_0x34068d(0x532)]+'\x20('+this['instance'][_0x34068d(0x6a8)]+_0x34068d(0x529));let _0x3d48de=await this[_0x34068d(0x313)](_0x594804);_0x3d48de&&await this[_0x34068d(0x31b)](_0x594804,_0x3d48de);}async[a0_0x4ff83f(0x754)](_0x169d98,_0x169eca,_0x2ea280){const _0x3695c9=a0_0x4ff83f;this['logger'][_0x3695c9(0x5bf)](this['instanceName']+'\x20('+this[_0x3695c9(0x5c4)]['wuid']+_0x3695c9(0x24c));try{if(_0x169d98=await this[_0x3695c9(0x53b)][_0x3695c9(0x236)][_0x3695c9(0x64f)]({'where':{'name':_0x169d98}},this[_0x3695c9(0x5c4)][_0x3695c9(0x6a8)]),!_0x169d98)return this['logger'][_0x3695c9(0x57f)](this[_0x3695c9(0x532)]+'\x20('+this[_0x3695c9(0x5c4)]['wuid']+_0x3695c9(0x6c7)),null;let _0x15e682=require(_0x3695c9(0x3c1))[_0x3695c9(0x3c0)],_0x288b00=Date[_0x3695c9(0x7fe)](),_0x890d9f='start',_0x4e51de={},_0x5e38f5={},_0xdad55c={..._0x169d98,'chatLog':null},_0x50c110={'lastReceivedMessage':_0x4e51de,'lastSendMessage':_0x5e38f5,'lastBlockId':_0x890d9f,'lastCondition':!0x0,'realVariables':_0x2ea280};_0xdad55c[_0x3695c9(0x54e)]=_0x50c110,_0xdad55c[_0x3695c9(0x54e)][_0x3695c9(0x433)]={..._0x2ea280},delete _0xdad55c[_0x3695c9(0x572)],_0xdad55c[_0x3695c9(0x572)]=new _0x15e682(),_0xdad55c[_0x3695c9(0x3e9)]=_0x288b00,_0xdad55c['status']='open',_0xdad55c[_0x3695c9(0x246)]=_0x169eca;let _0x57f1d7=await this['repository'][_0x3695c9(0x239)]['updateOne'](_0xdad55c[_0x3695c9(0x572)],_0xdad55c,this[_0x3695c9(0x5c4)][_0x3695c9(0x6a8)]);return this[_0x3695c9(0x277)][_0x3695c9(0x5bf)](this['instanceName']+'\x20('+this[_0x3695c9(0x5c4)][_0x3695c9(0x6a8)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x57f1d7?_0xdad55c:null;}catch(_0x3bdca5){throw this[_0x3695c9(0x277)][_0x3695c9(0x57f)](this[_0x3695c9(0x532)]+'\x20('+this[_0x3695c9(0x5c4)]['wuid']+_0x3695c9(0x2b2)+(_0x3bdca5 instanceof Error?_0x3bdca5['message']:JSON[_0x3695c9(0x62a)](_0x3bdca5,null,0x2))),new m(_0x3bdca5[_0x3695c9(0x41d)]);}}async[a0_0x4ff83f(0x781)](_0x3296a6,_0x5edc38){const _0x3a602f=a0_0x4ff83f;let _0x5cf467,_0x4a0b6c;try{let _0x5152bc=_0x5edc38[_0x3a602f(0x7c1)];if(!_0x5152bc||!_0x5152bc[_0x3a602f(0x6d8)]||!_0x5152bc['method'])throw new Error(_0x3a602f(0x274));let _0x4295e2;([_0x3a602f(0x3ff),_0x3a602f(0x59e),_0x3a602f(0x287)][_0x3a602f(0x693)](_0x377399=>_0x5152bc[_0x3a602f(0x6d8)][_0x3a602f(0x713)](_0x377399))||_0x5152bc['requestFile'])&&(_0x4295e2=_0x3a602f(0x27f));let _0x52b850={'method':_0x5152bc[_0x3a602f(0x432)],'url':_0x5152bc[_0x3a602f(0x6d8)],'headers':_0x5152bc[_0x3a602f(0x2c9)]||{},'data':_0x5152bc[_0x3a602f(0x6a6)]||{},..._0x4295e2&&{'responseType':_0x4295e2}},_0x18b688=await(0x0,te[_0x3a602f(0x604)])(_0x52b850),_0x518ce0=_0x18b688[_0x3a602f(0x7e3)]['content-type'];if(_0x518ce0&&_0x518ce0[_0x3a602f(0x713)](_0x3a602f(0x5ac))){_0x5cf467=_0x18b688[_0x3a602f(0x5eb)];let _0x550485=_0x3296a6[_0x3a602f(0x54e)]['realVariables'],_0xaaf2b=this[_0x3a602f(0x19b)](_0x5cf467);return Object[_0x3a602f(0x2dc)](_0x550485,_0xaaf2b),_0x3296a6[_0x3a602f(0x54e)][_0x3a602f(0x433)]=_0x550485,_0x4a0b6c={'error':!0x1,'apiResponse':_0x5cf467},this[_0x3a602f(0x249)](_0x3296a6,_0x5edc38,_0x4a0b6c),_0x5cf467;}if(_0x518ce0&&(_0x518ce0['includes']('application/octet-stream')||_0x518ce0[_0x3a602f(0x713)](_0x3a602f(0x1bd))||_0x518ce0[_0x3a602f(0x713)](_0x3a602f(0x7c8))||_0x518ce0[_0x3a602f(0x713)]('video'))){this[_0x3a602f(0x277)][_0x3a602f(0x5bf)](this[_0x3a602f(0x532)]+'\x20('+this[_0x3a602f(0x5c4)][_0x3a602f(0x6a8)]+_0x3a602f(0x32e)+_0x518ce0);let _0x42ccdf=(0x0,Ce['v4'])(),_0x12176a='',_0x32442e={'image/jpeg':_0x3a602f(0x5d5),'image/png':_0x3a602f(0x1d8),'image/gif':_0x3a602f(0x1a3),'image/webp':_0x3a602f(0x759),'image/svg+xml':_0x3a602f(0x5ea),'audio/mpeg':_0x3a602f(0x531),'audio/ogg':_0x3a602f(0x413),'audio/wav':_0x3a602f(0x29d),'video/mp4':_0x3a602f(0x70b),'video/webm':'.webm','video/ogg':_0x3a602f(0x77d),'text/plain':_0x3a602f(0x276),'application/pdf':'.pdf','application/msword':_0x3a602f(0x81e),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x3a602f(0x7bc),'application/vnd.ms-excel':_0x3a602f(0x1cc),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':_0x3a602f(0x661),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x3a602f(0x2f4)};_0x32442e[_0x518ce0]?(_0x12176a=_0x32442e[_0x518ce0],this[_0x3a602f(0x277)][_0x3a602f(0x5bf)](this[_0x3a602f(0x532)]+'\x20('+this[_0x3a602f(0x5c4)][_0x3a602f(0x6a8)]+_0x3a602f(0x502)+_0x12176a)):(_0x12176a=_0x3a602f(0x668),this['logger']['verbose'](this[_0x3a602f(0x532)]+'\x20('+this['instance'][_0x3a602f(0x6a8)]+_0x3a602f(0x42c)+_0x12176a)),_0x42ccdf+=_0x12176a,this[_0x3a602f(0x277)][_0x3a602f(0x5bf)](this[_0x3a602f(0x532)]+'\x20('+this[_0x3a602f(0x5c4)][_0x3a602f(0x6a8)]+_0x3a602f(0x448)+_0x42ccdf);let _0xda7b73=this[_0x3a602f(0x664)][_0x3a602f(0x605)](_0x3a602f(0x211))[_0x3a602f(0x30e)];if(!_0xda7b73){let _0x4c56b4=this[_0x3a602f(0x664)][_0x3a602f(0x605)](_0x3a602f(0x7e0));_0xda7b73=_0x3a602f(0x82e)+(_0x4c56b4&&_0x4c56b4['FULLCHAIN'][_0x3a602f(0x290)]('/')[0x4]);}let _0x5005f9=Buffer[_0x3a602f(0x1e8)](_0x18b688[_0x3a602f(0x5eb)]);await this[_0x3a602f(0x397)](_0x5005f9,_0x42ccdf);let _0x356669=_0x3a602f(0x2d4)+_0x42ccdf;_0x356669=''+_0xda7b73+_0x356669,_0x5cf467={'fileUrl':_0x356669},_0x3296a6[_0x3a602f(0x54e)][_0x3a602f(0x433)][_0x3a602f(0x764)]=_0x356669;let _0x551c4d=_0x3296a6[_0x3a602f(0x54e)][_0x3a602f(0x433)],_0x2903fe=this[_0x3a602f(0x19b)](_0x5cf467);return Object[_0x3a602f(0x2dc)](_0x551c4d,_0x2903fe),_0x3296a6['chatLog'][_0x3a602f(0x433)]=_0x551c4d,_0x4a0b6c={'error':!0x1,'apiResponse':{'fileUrl':_0x356669}},this[_0x3a602f(0x249)](_0x3296a6,_0x5edc38,_0x4a0b6c),_0x5cf467;}}catch(_0x3b460d){console[_0x3a602f(0x57f)](_0x3a602f(0x311),_0x3b460d),_0x3b460d['response']&&(_0x5cf467=_0x3b460d[_0x3a602f(0x5b8)][_0x3a602f(0x5eb)]);let _0x479d49=_0x3296a6[_0x3a602f(0x54e)]['realVariables'],_0x15d38b=this[_0x3a602f(0x19b)](_0x5cf467);return Object['assign'](_0x479d49,_0x15d38b),_0x3296a6['chatLog'][_0x3a602f(0x433)]=_0x479d49,_0x4a0b6c={'error':!0x0,'errorLog':_0x3b460d[_0x3a602f(0x552)](),'apiResponse':_0x5cf467},this[_0x3a602f(0x249)](_0x3296a6,_0x5edc38,_0x4a0b6c),{'success':!0x1};}}[a0_0x4ff83f(0x6da)](_0x1cee5d,_0x704ded){const _0x253429=a0_0x4ff83f;let _0x4a42a0=_0x29034e=>{const _0x66cc97=a0_0x52dd;let _0x681359=_0x29034e[_0x66cc97(0x707)](/[^0-9.,-]/g,'')['replace'](',','.'),_0x97b3b2=parseFloat(_0x681359);return isNaN(_0x97b3b2)?null:_0x97b3b2;},_0x5a8fd7=_0x704ded['firstValue'],_0x8b1490=_0x704ded[_0x253429(0x3f5)];typeof _0x5a8fd7==_0x253429(0x27d)&&(_0x5a8fd7=this[_0x253429(0x483)](_0x5a8fd7,_0x1cee5d[_0x253429(0x54e)][_0x253429(0x433)])??''),typeof _0x8b1490==_0x253429(0x27d)&&(_0x8b1490=this[_0x253429(0x483)](_0x8b1490,_0x1cee5d[_0x253429(0x54e)][_0x253429(0x433)])??'');let _0x32bfe2=null;if(!_0x704ded[_0x253429(0x1e7)])return null;switch(this[_0x253429(0x277)]['verbose'](this[_0x253429(0x532)]+'\x20('+this[_0x253429(0x5c4)][_0x253429(0x6a8)]+_0x253429(0x404)+_0x5a8fd7),this[_0x253429(0x277)][_0x253429(0x5bf)](this['instanceName']+'\x20('+this[_0x253429(0x5c4)][_0x253429(0x6a8)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x8b1490),_0x704ded[_0x253429(0x1e7)]){case'+':case'-':case'*':case'/':let _0x539f2e=_0x4a42a0(_0x5a8fd7||'0'),_0x2ecbdf=_0x4a42a0(_0x8b1490||'0');if(_0x539f2e===null)return null;switch(_0x704ded[_0x253429(0x1e7)]){case'+':_0x32bfe2=_0x539f2e+(_0x2ecbdf??0x0);break;case'-':_0x32bfe2=_0x539f2e-(_0x2ecbdf??0x0);break;case'*':_0x32bfe2=_0x539f2e*(_0x2ecbdf??0x1);break;case'/':_0x2ecbdf!==0x0&&(_0x32bfe2=_0x539f2e/(_0x2ecbdf??0x1));break;}break;case _0x253429(0x6e6):case _0x253429(0x1a1):let _0x5b9c68=_0x8b1490,_0x33713e=_0x704ded[_0x253429(0x228)];if(typeof _0x33713e=='string'&&(_0x33713e=this['replaceVariables'](_0x33713e,_0x1cee5d[_0x253429(0x54e)][_0x253429(0x433)])??''),_0x5b9c68&&_0x33713e!==void 0x0){let _0x3ccf40=_0x704ded[_0x253429(0x1e7)]==='findAndReplace'?new RegExp(_0x5b9c68[_0x253429(0x707)](/[-\/\\^$*+?.()|[\]{}]/g,_0x253429(0x329)),'g'):new RegExp(_0x5b9c68,'g');_0x32bfe2=_0x5a8fd7[_0x253429(0x707)](_0x3ccf40,_0x33713e);}else console[_0x253429(0x4cd)](_0x253429(0x366));break;case'setNewValue':_0x32bfe2=_0x8b1490;break;case _0x253429(0x227):let _0x144daf=_0x5a8fd7[_0x253429(0x711)](new RegExp(_0x8b1490||''));_0x32bfe2=_0x144daf?_0x144daf[0x0]:'';break;case _0x253429(0x2a1):_0x32bfe2=_0x5a8fd7[_0x253429(0x206)](0x0,parseInt(_0x8b1490||'0'));break;case _0x253429(0x475):let _0x3a2164=parseInt(_0x8b1490||'0');_0x32bfe2=_0x5a8fd7[_0x253429(0x206)](_0x5a8fd7[_0x253429(0x78e)]-_0x3a2164);break;case _0x253429(0x735):let _0x1c24ae=_0x4a42a0(_0x5a8fd7),_0x1d8343=parseInt(_0x8b1490||'0');_0x1d8343=Math['abs'](_0x1d8343),_0x1c24ae!==null?_0x32bfe2=_0x1c24ae['toLocaleString']('pt-BR',{'minimumFractionDigits':_0x1d8343,'maximumFractionDigits':_0x1d8343}):(console[_0x253429(0x4cd)](_0x253429(0x473)+_0x5a8fd7),_0x32bfe2=null);break;case _0x253429(0x4d1):let _0x2ab8c2=_0x4a42a0(_0x5a8fd7);_0x2ab8c2!==null?_0x32bfe2=_0x2ab8c2[_0x253429(0x68a)](_0x253429(0x210),{'style':'currency','currency':_0x253429(0x745)}):(console['warn'](_0x253429(0x492)+_0x5a8fd7),_0x32bfe2=null);break;case'upperCase':_0x32bfe2=_0x5a8fd7[_0x253429(0x36a)]();break;case _0x253429(0x80d):_0x32bfe2=_0x5a8fd7['toLowerCase']();break;case _0x253429(0x7b9):_0x32bfe2=_0x5a8fd7[_0x253429(0x290)]('\x20')['map'](_0x5861bd=>_0x5861bd[_0x253429(0x41c)](0x0)['toUpperCase']()+_0x5861bd['slice'](0x1)[_0x253429(0x6f9)]())[_0x253429(0x35a)]('\x20');break;case _0x253429(0x5a6):_0x32bfe2=_0x5a8fd7[_0x253429(0x35f)]();break;default:_0x32bfe2=_0x5a8fd7;}return _0x32bfe2!==null?_0x32bfe2['toString']():null;}async[a0_0x4ff83f(0x2d5)](_0x5a4fae,_0x17b669){const _0x39bda6=a0_0x4ff83f;try{let _0x917095=_0x5a4fae[_0x39bda6(0x650)]?.[_0x39bda6(0x53c)](_0x581789=>_0x581789[_0x39bda6(0x427)]===_0x17b669[_0x39bda6(0x572)]?.[_0x39bda6(0x552)]())||[],_0x3c7e87=_0x17b669[_0x39bda6(0x655)],_0x15be9b=null,_0x556b4a=[],_0x590fc3=_0x5a4fae[_0x39bda6(0x54e)]['realVariables'][_0x3c7e87];_0x556b4a[_0x39bda6(0x3ed)](_0x39bda6(0x7ce)+_0x590fc3+'\x22');for(let _0x370a4e of _0x917095){_0x370a4e[_0x39bda6(0x314)]=_0x590fc3,_0x15be9b=_0x370a4e[_0x39bda6(0x314)];let _0x339f91;try{_0x339f91=this[_0x39bda6(0x6da)](_0x5a4fae,_0x370a4e);}catch(_0x4c5354){console['error'](_0x39bda6(0x3f7)+_0x4c5354[_0x39bda6(0x41d)]);continue;}if(_0x339f91!==null){let _0x494ccc=_0x39bda6(0x49b)+_0x370a4e['editOperator']+'\x22',_0x192c98=[_0x39bda6(0x4d1),_0x39bda6(0x24d),'lowerCase',_0x39bda6(0x7b9),'trimmed'];_0x370a4e[_0x39bda6(0x1e7)]===_0x39bda6(0x6e6)||_0x370a4e['editOperator']===_0x39bda6(0x1a1)?_0x494ccc+=_0x39bda6(0x469)+_0x370a4e[_0x39bda6(0x3f5)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x370a4e['replaceValue']+'\x22':!_0x192c98[_0x39bda6(0x713)](_0x370a4e[_0x39bda6(0x1e7)])&&_0x370a4e[_0x39bda6(0x3f5)]!==null&&_0x370a4e['secondValue']!==void 0x0&&(_0x494ccc+=',\x20valor\x20passado:\x20\x22'+_0x370a4e[_0x39bda6(0x3f5)]+'\x22'),_0x494ccc+=_0x39bda6(0x66a)+_0x339f91+'.',_0x556b4a[_0x39bda6(0x3ed)](_0x494ccc);}_0x339f91!==null&&(_0x590fc3=_0x339f91);}if(_0x5a4fae['chatLog']['realVariables']&&_0x17b669[_0x39bda6(0x655)]){_0x5a4fae[_0x39bda6(0x54e)][_0x39bda6(0x433)][_0x17b669[_0x39bda6(0x655)]]=_0x590fc3;let _0x445792={'variable':_0x17b669[_0x39bda6(0x655)],'oldValue':_0x15be9b,'newValue':_0x590fc3,'moreLogs':_0x556b4a};try{this['updateConversation'](_0x5a4fae,_0x17b669,_0x445792);}catch(_0x4d1620){console[_0x39bda6(0x57f)](_0x39bda6(0x5c9)+_0x4d1620['message']);}}return _0x3c7e87;}catch(_0x25c1cb){return console['error'](_0x39bda6(0x3e6)+_0x25c1cb[_0x39bda6(0x41d)]),null;}}async[a0_0x4ff83f(0x5d3)](_0x4aa0e9,_0x37f57e){const _0x33520b=a0_0x4ff83f;try{let _0x2e0fa5=[],_0x56c42e=_0x4aa0e9[_0x33520b(0x3e2)]['filter'](_0x33a8bf=>_0x33a8bf[_0x33520b(0x427)]===_0x37f57e['_id']['toString']()),_0x30cc87=null,_0x669a95=!0x1;for(let _0x368938 of _0x56c42e){let _0x15c101=this[_0x33520b(0x3c9)](_0x4aa0e9,_0x368938);_0x2e0fa5[_0x33520b(0x3ed)](_0x33520b(0x7fc)+_0x368938[_0x33520b(0x314)]+_0x33520b(0x1fa)+_0x368938[_0x33520b(0x558)]+',\x20Segundo\x20Valor:\x20'+_0x368938[_0x33520b(0x3f5)]+_0x33520b(0x2f3)+_0x15c101),_0x30cc87===null?_0x30cc87=_0x15c101:_0x368938[_0x33520b(0x659)]===_0x33520b(0x72f)?(_0x30cc87=_0x30cc87&&_0x15c101,_0x15c101||(_0x669a95=!0x0)):_0x368938[_0x33520b(0x659)]==='or'&&(_0x669a95||(_0x30cc87=_0x30cc87||_0x15c101));}_0x30cc87===null&&(_0x30cc87=!0x0);let _0x48cb6b={'moreLogs':_0x2e0fa5};_0x4aa0e9[_0x33520b(0x54e)]['lastCondition']=_0x30cc87,await this[_0x33520b(0x249)](_0x4aa0e9,_0x37f57e,_0x48cb6b);}catch(_0x12cde2){this[_0x33520b(0x277)][_0x33520b(0x57f)](this['instanceName']+'\x20('+this[_0x33520b(0x5c4)]['wuid']+_0x33520b(0x40d)+(_0x12cde2 instanceof Error?_0x12cde2[_0x33520b(0x41d)]:JSON[_0x33520b(0x62a)](_0x12cde2,null,0x2)));}}['evaluateCondition'](_0x5a0930,_0x201617){const _0x20074c=a0_0x4ff83f;let _0x1baf5d=_0x201617[_0x20074c(0x314)],_0x4fe0e3=_0x201617[_0x20074c(0x3f5)];typeof _0x1baf5d==_0x20074c(0x27d)&&(_0x1baf5d=this[_0x20074c(0x483)](_0x1baf5d,_0x5a0930[_0x20074c(0x54e)]['realVariables'])??''),typeof _0x4fe0e3==_0x20074c(0x27d)&&(_0x4fe0e3=this['replaceVariables'](_0x4fe0e3,_0x5a0930[_0x20074c(0x54e)][_0x20074c(0x433)])??'');try{switch(_0x201617[_0x20074c(0x558)]){case _0x20074c(0x5d6):return _0x1baf5d===_0x4fe0e3;case _0x20074c(0x3b7):return _0x1baf5d!==_0x4fe0e3;case _0x20074c(0x2d7):return this[_0x20074c(0x2d7)](_0x1baf5d,_0x4fe0e3);case _0x20074c(0x3db):return!this['contains'](_0x1baf5d,_0x4fe0e3);case _0x20074c(0x361):return parseFloat(_0x1baf5d)>parseFloat(_0x4fe0e3);case'less':return parseFloat(_0x1baf5d)<parseFloat(_0x4fe0e3);case _0x20074c(0x544):return _0x1baf5d!=='';case _0x20074c(0x5b1):return _0x1baf5d==='';case'matchRegex':return new RegExp(_0x4fe0e3)['test'](_0x1baf5d);case _0x20074c(0x25a):return!new RegExp(_0x4fe0e3)[_0x20074c(0x18f)](_0x1baf5d);default:return!0x1;}}catch(_0x3bd213){return console['error'](_0x20074c(0x199)+_0x3bd213),!0x1;}}[a0_0x4ff83f(0x2d7)](_0x111510,_0x20f00c){const _0x5034f9=a0_0x4ff83f;if(_0x111510===_0x20f00c&&/^\d+$/['test'](_0x111510))return!0x0;if(this[_0x5034f9(0x81c)](_0x111510)&&/^\d+$/['test'](_0x20f00c)){let _0x35e077=_0x111510[_0x5034f9(0x290)](',')[_0x5034f9(0x5c3)](_0x63da1a=>parseInt(_0x63da1a[_0x5034f9(0x35f)]())),_0x5a9f4f=parseInt(_0x20f00c);return _0x35e077[_0x5034f9(0x713)](_0x5a9f4f);}return _0x111510[_0x5034f9(0x713)](_0x20f00c);}['isListOfNumbers'](_0x50489b){const _0x24ea96=a0_0x4ff83f;return/^\d+(,\d+)*$/[_0x24ea96(0x18f)](_0x50489b);}[a0_0x4ff83f(0x22a)](_0x4428cb){const _0x467264=a0_0x4ff83f;let _0x23b2c8=!0x0,_0x369eee=null;for(let _0x2a128d of _0x4428cb){let _0x3f30b7=this[_0x467264(0x2bc)](_0x2a128d);if(_0x369eee==='or'&&_0x3f30b7){_0x23b2c8=!0x0;break;}if(_0x369eee===_0x467264(0x72f)&&!_0x3f30b7){_0x23b2c8=!0x1;break;}_0x369eee=_0x2a128d[_0x467264(0x659)];}return _0x23b2c8;}[a0_0x4ff83f(0x2bc)](_0x2b781f){const _0x8dcba1=a0_0x4ff83f;let _0x59a04e=_0x2b781f[_0x8dcba1(0x314)],_0x1b1800=_0x2b781f[_0x8dcba1(0x3f5)];try{switch(_0x2b781f[_0x8dcba1(0x558)]){case _0x8dcba1(0x5d6):return String(_0x59a04e)===String(_0x1b1800);case _0x8dcba1(0x3b7):return String(_0x59a04e)!==String(_0x1b1800);case _0x8dcba1(0x2d7):return String(_0x59a04e)[_0x8dcba1(0x713)](String(_0x1b1800));case _0x8dcba1(0x3db):return!String(_0x59a04e)[_0x8dcba1(0x713)](String(_0x1b1800));case _0x8dcba1(0x361):return parseFloat(String(_0x59a04e))>parseFloat(String(_0x1b1800));case'less':return parseFloat(String(_0x59a04e))<parseFloat(String(_0x1b1800));case _0x8dcba1(0x544):return String(_0x59a04e)!=='';case _0x8dcba1(0x5b1):return String(_0x59a04e)==='';case _0x8dcba1(0x66d):return new RegExp(String(_0x1b1800))[_0x8dcba1(0x18f)](String(_0x59a04e));case _0x8dcba1(0x25a):return!new RegExp(String(_0x1b1800))[_0x8dcba1(0x18f)](String(_0x59a04e));default:return!0x1;}}catch(_0x374341){return console[_0x8dcba1(0x57f)](_0x8dcba1(0x199)+_0x374341),!0x1;}}async[a0_0x4ff83f(0x71f)](_0xad73dc,_0x322d86){const _0x4e5a38=a0_0x4ff83f;if(this[_0x4e5a38(0x277)][_0x4e5a38(0x5bf)](this[_0x4e5a38(0x532)]+'\x20('+this[_0x4e5a38(0x5c4)][_0x4e5a38(0x6a8)]+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0xad73dc||!_0x322d86)return this['logger']['error'](this['instanceName']+'\x20('+this[_0x4e5a38(0x5c4)][_0x4e5a38(0x6a8)]+_0x4e5a38(0x6e4)),null;let _0x32d8ee=_0x322d86[_0x4e5a38(0x655)],_0x3ce3c9=_0xad73dc['chatLog'][_0x4e5a38(0x1ea)]['text']||_0xad73dc['chatLog'][_0x4e5a38(0x1ea)]['caption']||_0xad73dc[_0x4e5a38(0x54e)][_0x4e5a38(0x1ea)][_0x4e5a38(0x594)];try{_0xad73dc['chatLog'][_0x4e5a38(0x433)]||(_0xad73dc[_0x4e5a38(0x54e)][_0x4e5a38(0x433)]={});let _0x4834e5=_0xad73dc[_0x4e5a38(0x54e)][_0x4e5a38(0x433)][_0x32d8ee];_0xad73dc['chatLog'][_0x4e5a38(0x433)][_0x32d8ee]=_0x3ce3c9;let _0x59f8eb={'variable':_0x32d8ee,'oldValue':_0x4834e5,'newValue':_0x3ce3c9};this[_0x4e5a38(0x249)](_0xad73dc,_0x322d86,_0x59f8eb),this[_0x4e5a38(0x277)][_0x4e5a38(0x5bf)](this['instanceName']+'\x20('+this[_0x4e5a38(0x5c4)][_0x4e5a38(0x6a8)]+_0x4e5a38(0x2bf));}catch(_0x4af9d8){let _0x50bd70={'error':!0x0,'errorLog':_0x4af9d8[_0x4e5a38(0x552)]()};return this[_0x4e5a38(0x249)](_0xad73dc,_0x322d86,_0x50bd70),this[_0x4e5a38(0x277)][_0x4e5a38(0x57f)](this[_0x4e5a38(0x532)]+'\x20('+this['instance']['wuid']+_0x4e5a38(0x45c)+(_0x4af9d8 instanceof Error?_0x4af9d8[_0x4e5a38(0x41d)]:JSON[_0x4e5a38(0x62a)](_0x4af9d8,null,0x2))),null;}}async[a0_0x4ff83f(0x691)](_0x461816,_0x5c0ecf){const _0x50362c=a0_0x4ff83f;if(this[_0x50362c(0x277)][_0x50362c(0x5bf)](this[_0x50362c(0x532)]+'\x20('+this[_0x50362c(0x5c4)][_0x50362c(0x6a8)]+_0x50362c(0x685)),!_0x461816||!_0x5c0ecf)return this[_0x50362c(0x277)][_0x50362c(0x57f)](this[_0x50362c(0x532)]+'\x20('+this[_0x50362c(0x5c4)][_0x50362c(0x6a8)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x528b00=Date[_0x50362c(0x7fe)](),_0x77c28a=parseInt(_0x5c0ecf['stopMinutes'],0xa);if(isNaN(_0x77c28a))return this[_0x50362c(0x277)][_0x50362c(0x57f)](this[_0x50362c(0x532)]+'\x20('+this[_0x50362c(0x5c4)][_0x50362c(0x6a8)]+_0x50362c(0x602)),null;let _0x17e076={'newStoppedUntil':_0x528b00+_0x77c28a*0x3c*0x3e8};return await this[_0x50362c(0x249)](_0x461816,_0x5c0ecf,_0x17e076,!0x0),null;}async[a0_0x4ff83f(0x1d3)](_0x3d01d4,_0x352af0){const _0x335c9a=a0_0x4ff83f;try{switch(_0x352af0['uazapi'][_0x335c9a(0x382)]){case _0x335c9a(0x4e4):await this[_0x335c9a(0x7bb)](_0x3d01d4,_0x352af0);break;case _0x335c9a(0x7ca):await this['uazapiSendMedia'](_0x3d01d4,_0x352af0);break;case'sendLocation':await this[_0x335c9a(0x627)](_0x3d01d4,_0x352af0);break;case _0x335c9a(0x48b):await this[_0x335c9a(0x20b)](_0x3d01d4,_0x352af0);break;case _0x335c9a(0x540):await this[_0x335c9a(0x71c)](_0x3d01d4,_0x352af0);break;case _0x335c9a(0x6a5):await this[_0x335c9a(0x53e)](_0x3d01d4,_0x352af0);break;case _0x335c9a(0x476):await this[_0x335c9a(0x53e)](_0x3d01d4,_0x352af0);break;case _0x335c9a(0x768):await this[_0x335c9a(0x2e2)](_0x3d01d4,_0x352af0);break;default:this[_0x335c9a(0x277)][_0x335c9a(0x57f)](this[_0x335c9a(0x532)]+'\x20('+this[_0x335c9a(0x5c4)][_0x335c9a(0x6a8)]+_0x335c9a(0x3f1)+_0x352af0[_0x335c9a(0x5df)][_0x335c9a(0x382)]);}}catch(_0x4afa48){this[_0x335c9a(0x277)][_0x335c9a(0x57f)](this[_0x335c9a(0x532)]+'\x20('+this[_0x335c9a(0x5c4)][_0x335c9a(0x6a8)]+_0x335c9a(0x487)+(_0x4afa48 instanceof Error?_0x4afa48['message']:JSON[_0x335c9a(0x62a)](_0x4afa48,null,0x2)));}}async[a0_0x4ff83f(0x249)](_0x34b91f,_0x190d4d,_0x381e3d,_0x5a66ee=!0x1,_0x5e87fb=!0x1){const _0x59b5e3=a0_0x4ff83f;_0x34b91f['chatLog'][_0x59b5e3(0x33d)]||(_0x34b91f[_0x59b5e3(0x54e)]['blockLogs']=[]);let _0x609396=(_0x34b91f[_0x59b5e3(0x54e)][_0x59b5e3(0x33d)]?.[_0x59b5e3(0x78e)]??0x0)+0x1,_0x3b640e=_0x34b91f[_0x59b5e3(0x54e)][_0x59b5e3(0x33d)][_0x59b5e3(0x53c)](_0x373ba7=>String(_0x373ba7[_0x59b5e3(0x427)])===String(_0x190d4d[_0x59b5e3(0x572)]))[_0x59b5e3(0x78e)]+0x1,_0x1c2a0a=_0x381e3d?.[_0x59b5e3(0x1ab)]??Date[_0x59b5e3(0x7fe)](),_0x28fe72=_0x381e3d?.[_0x59b5e3(0x57f)]?_0x381e3d[_0x59b5e3(0x51c)]??_0x381e3d[_0x59b5e3(0x57f)][_0x59b5e3(0x552)]():void 0x0,_0x1ffa7d={'onTime':_0x1c2a0a,'blockId':_0x190d4d['_id'],'order':_0x609396,'activatedCount':_0x3b640e,'error':_0x381e3d?.['error']??!0x1,'messageId':_0x381e3d?.[_0x59b5e3(0x395)],'apiResponse':_0x381e3d?.[_0x59b5e3(0x654)],'apiResponseString':_0x381e3d?.[_0x59b5e3(0x654)]?JSON[_0x59b5e3(0x62a)](_0x381e3d?.[_0x59b5e3(0x654)]):void 0x0,'variable':_0x381e3d?.['variable'],'oldValue':_0x381e3d?.['oldValue'],'newValue':_0x381e3d?.[_0x59b5e3(0x220)],'newStoppedUntil':_0x381e3d?.[_0x59b5e3(0x77c)],'moreLogs':_0x381e3d?.[_0x59b5e3(0x7c5)],'errorLog':_0x28fe72};if(_0x381e3d['moreLogs']&&_0x381e3d[_0x59b5e3(0x7c5)][_0x59b5e3(0x78e)]>0x0){let _0x1ed6c7=_0x381e3d[_0x59b5e3(0x7c5)][_0x59b5e3(0x5c3)](_0x388b57=>this[_0x59b5e3(0x1a0)](_0x388b57,_0x34b91f[_0x59b5e3(0x54e)]['realVariables']));_0x1ffa7d[_0x59b5e3(0x7c5)]=_0x1ed6c7;}_0x34b91f[_0x59b5e3(0x54e)][_0x59b5e3(0x433)]||(_0x34b91f[_0x59b5e3(0x54e)]['realVariables']={}),_0x34b91f[_0x59b5e3(0x54e)]['realVariables']['_activatedCount']=String(_0x3b640e),_0x34b91f[_0x59b5e3(0x54e)][_0x59b5e3(0x433)][_0x59b5e3(0x7ac)]=String(_0x381e3d['error']??!0x1),_0x34b91f['chatLog'][_0x59b5e3(0x33d)][_0x59b5e3(0x3ed)](_0x1ffa7d),_0x34b91f[_0x59b5e3(0x54e)]['lastBlockId']=_0x190d4d['_id']['toString'](),_0x34b91f[_0x59b5e3(0x54e)]['lastSendMessage']&&(_0x34b91f['chatLog']['lastSendMessage']=_0x34b91f[_0x59b5e3(0x54e)][_0x59b5e3(0x32f)]),_0x34b91f[_0x59b5e3(0x54e)][_0x59b5e3(0x1ea)]&&(_0x34b91f[_0x59b5e3(0x54e)]['lastReceivedMessage']=_0x34b91f['chatLog']['lastReceivedMessage']),_0x34b91f[_0x59b5e3(0x54e)]['lastCondition']&&(_0x34b91f[_0x59b5e3(0x54e)][_0x59b5e3(0x248)]=_0x34b91f['chatLog'][_0x59b5e3(0x248)]),_0x5e87fb&&(_0x34b91f['status']='closed'),_0x5a66ee?this['saveConversationToDatabase'](_0x34b91f):this[_0x59b5e3(0x717)](_0x34b91f,_0x190d4d);}[a0_0x4ff83f(0x1a0)](_0x5f50be,_0x6ba124){const _0x313038=a0_0x4ff83f;return _0x5f50be[_0x313038(0x707)](/\{\{([^}]+)\}\}/g,(_0x1c71fb,_0x471a29)=>_0x6ba124[_0x471a29]?'{{'+_0x471a29+_0x313038(0x6ea)+_0x6ba124[_0x471a29]+'\x22':'{{'+_0x471a29+_0x313038(0x40f));}async[a0_0x4ff83f(0x383)](_0xe73d76){const _0x28c3b5=a0_0x4ff83f;try{let _0x163b1d=Object[_0x28c3b5(0x489)](_0xe73d76[_0x28c3b5(0x54e)][_0x28c3b5(0x433)])[_0x28c3b5(0x5c3)](([_0x1114c0,_0x418fca])=>({'name':_0x1114c0,'value':_0x418fca})),_0xfde093={'status':_0xe73d76['status'],'blocks':_0xe73d76[_0x28c3b5(0x29a)],'waitingMenu_id':_0xe73d76[_0x28c3b5(0x200)],'waitingMenu_text':_0xe73d76['waitingMenu_text'],'waitingMenu_replyOptions':_0xe73d76[_0x28c3b5(0x568)],'chatLog':{'lastBlockId':_0xe73d76[_0x28c3b5(0x54e)][_0x28c3b5(0x672)],'lastSendMessage':_0xe73d76['chatLog'][_0x28c3b5(0x32f)],'lastReceivedMessage':_0xe73d76[_0x28c3b5(0x54e)]['lastReceivedMessage'],'lastCondition':_0xe73d76[_0x28c3b5(0x54e)][_0x28c3b5(0x248)],'chatVariables':_0x163b1d,'realVariables':_0xe73d76[_0x28c3b5(0x54e)][_0x28c3b5(0x433)],'blockLogs':_0xe73d76['chatLog'][_0x28c3b5(0x33d)]}},_0x2df15b=await this[_0x28c3b5(0x53b)][_0x28c3b5(0x239)]['updateOne'](_0xe73d76[_0x28c3b5(0x572)],_0xfde093,this[_0x28c3b5(0x5c4)][_0x28c3b5(0x6a8)]);if(_0x2df15b){this[_0x28c3b5(0x277)][_0x28c3b5(0x5bf)](this[_0x28c3b5(0x532)]+'\x20('+this[_0x28c3b5(0x5c4)][_0x28c3b5(0x6a8)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x2df15b['_id']);try{let _0x1d8064=['nome',_0x28c3b5(0x460),'email',_0x28c3b5(0x5aa),_0x28c3b5(0x728),_0x28c3b5(0x221),'responsavelid',_0x28c3b5(0x306),'etiquetas'];if(!this[_0x28c3b5(0x1b1)]&&(await this['getAutomateSystem'](),!this[_0x28c3b5(0x1b1)]))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x398f52=this[_0x28c3b5(0x1b1)]?.['customFields'][_0x28c3b5(0x5c3)](_0x27a641=>_0x27a641['name']),_0x1b138a={};Object[_0x28c3b5(0x489)](_0xe73d76['chatLog'][_0x28c3b5(0x433)])[_0x28c3b5(0x4bf)](([_0x49730b,_0x40abc0])=>{const _0x29feb3=_0x28c3b5;_0x1d8064[_0x29feb3(0x713)](_0x49730b)&&(_0x49730b==='tags'&&typeof _0x40abc0==_0x29feb3(0x27d)?_0x1b138a[_0x49730b]=_0x40abc0[_0x29feb3(0x290)](',')['map'](_0x3e1109=>_0x3e1109[_0x29feb3(0x35f)]())[_0x29feb3(0x53c)](_0x19be4c=>_0x19be4c!==''):_0x49730b===_0x29feb3(0x61b)&&typeof _0x40abc0==_0x29feb3(0x27d)?_0x1b138a[_0x49730b]=_0x40abc0[_0x29feb3(0x290)](',')['map'](_0x11f082=>_0x11f082[_0x29feb3(0x35f)]())['filter'](_0x32949a=>_0x32949a!==''):_0x1b138a[_0x49730b]=_0x40abc0);});let _0x43016f=_0xe73d76[_0x28c3b5(0x54e)][_0x28c3b5(0x33d)][_0xe73d76[_0x28c3b5(0x54e)][_0x28c3b5(0x33d)]['length']-0x1];if(_0x43016f){let _0x45af99=_0x43016f[_0x28c3b5(0x77c)];_0x45af99!==void 0x0&&(_0x1b138a['desativadoFluxoAte']=_0x45af99[_0x28c3b5(0x552)]());}let _0x150947=_0x163b1d[_0x28c3b5(0x53c)](_0x433e8a=>_0x398f52[_0x28c3b5(0x713)](_0x433e8a[_0x28c3b5(0x1c3)]));this[_0x28c3b5(0x277)][_0x28c3b5(0x5bf)](this[_0x28c3b5(0x532)]+'\x20('+this[_0x28c3b5(0x5c4)][_0x28c3b5(0x6a8)]+_0x28c3b5(0x4fc)),this[_0x28c3b5(0x277)][_0x28c3b5(0x5bf)](_0x1b138a),this[_0x28c3b5(0x277)][_0x28c3b5(0x5bf)](this[_0x28c3b5(0x532)]+'\x20('+this[_0x28c3b5(0x5c4)][_0x28c3b5(0x6a8)]+'):\x20customFieldVariables'),this[_0x28c3b5(0x277)][_0x28c3b5(0x5bf)](_0x150947);let _0x3435fa=_0x150947[_0x28c3b5(0x5c3)](_0x4dc1be=>{const _0x4e6dbf=_0x28c3b5;let _0x3008ba=this[_0x4e6dbf(0x1b1)]?.['customFields'][_0x4e6dbf(0x678)](_0xbf4811=>_0xbf4811[_0x4e6dbf(0x1c3)]===_0x4dc1be[_0x4e6dbf(0x1c3)]);if(!_0x3008ba)throw new Error(_0x4e6dbf(0x26b)+_0x4dc1be[_0x4e6dbf(0x1c3)]);return{'_id':_0x3008ba['_id'],'value':_0x4dc1be[_0x4e6dbf(0x660)]};});this['logger']['verbose'](this[_0x28c3b5(0x532)]+'\x20('+this[_0x28c3b5(0x5c4)][_0x28c3b5(0x6a8)]+_0x28c3b5(0x70a)),this[_0x28c3b5(0x277)][_0x28c3b5(0x5bf)](_0x3435fa),await this[_0x28c3b5(0x567)](_0xe73d76[_0x28c3b5(0x246)],_0x1b138a,_0x3435fa);}catch(_0x1f0b51){this[_0x28c3b5(0x277)]['error'](this[_0x28c3b5(0x532)]+'\x20('+this[_0x28c3b5(0x5c4)][_0x28c3b5(0x6a8)]+_0x28c3b5(0x52b)+(_0x1f0b51 instanceof Error?_0x1f0b51['message']:JSON[_0x28c3b5(0x62a)](_0x1f0b51,null,0x2)));}}else this[_0x28c3b5(0x277)][_0x28c3b5(0x57f)](this[_0x28c3b5(0x532)]+'\x20('+this[_0x28c3b5(0x5c4)][_0x28c3b5(0x6a8)]+_0x28c3b5(0x3e7));}catch(_0x890eeb){this[_0x28c3b5(0x277)][_0x28c3b5(0x57f)](this[_0x28c3b5(0x532)]+'\x20('+this['instance'][_0x28c3b5(0x6a8)]+_0x28c3b5(0x38d)+(_0x890eeb instanceof Error?_0x890eeb[_0x28c3b5(0x41d)]:JSON[_0x28c3b5(0x62a)](_0x890eeb,null,0x2)));}}async[a0_0x4ff83f(0x567)](_0x9b82bd,_0x34275a,_0x286810){const _0x387d31=a0_0x4ff83f;try{let _0x84be4={'leadInfo.leadnome':_0x34275a['nome'],'leadInfo.nomecompleto':_0x34275a[_0x387d31(0x460)],'leadInfo.email':_0x34275a[_0x387d31(0x72e)],'leadInfo.cpf':_0x34275a[_0x387d31(0x5aa)],'leadInfo.status':_0x34275a[_0x387d31(0x728)],'leadInfo.notas':_0x34275a['notas'],'leadInfo.responsavelid':_0x34275a[_0x387d31(0x821)],'leadInfo.tags':_0x34275a[_0x387d31(0x306)],'leadInfo.etiquetas':_0x34275a[_0x387d31(0x61b)],'leadInfo.customFields':_0x286810},_0x49fba6=await this[_0x387d31(0x53b)][_0x387d31(0x7b0)][_0x387d31(0x64f)]({'where':{'_id':_0x9b82bd}},this[_0x387d31(0x5c4)][_0x387d31(0x6a8)]),_0x32b37f=new Set(_0x49fba6['leadInfo'][_0x387d31(0x61b)]||[]),_0x2a2d70=new Set(_0x34275a['etiquetas']||[]),_0x1be083=await this[_0x387d31(0x53b)][_0x387d31(0x58e)][_0x387d31(0x678)]({'where':{}},this['instance']['wuid']),_0x9852c9=new Set(_0x1be083[_0x387d31(0x5c3)](_0x106fec=>_0x106fec[_0x387d31(0x572)])),_0x1be89e=[..._0x2a2d70][_0x387d31(0x53c)](_0x596777=>!_0x32b37f[_0x387d31(0x65b)](_0x596777)&&_0x9852c9[_0x387d31(0x65b)](_0x596777)),_0x277657=[..._0x32b37f][_0x387d31(0x53c)](_0x3956aa=>!_0x2a2d70[_0x387d31(0x65b)](_0x3956aa));for(let _0xe9dd03 of _0x1be89e)await this[_0x387d31(0x2df)](_0xe9dd03,_0x49fba6['_id']),_0x32b37f[_0x387d31(0x490)](_0xe9dd03);for(let _0xec9b34 of _0x277657)await this[_0x387d31(0x25d)](_0xec9b34,_0x49fba6[_0x387d31(0x572)]),_0x32b37f[_0x387d31(0x335)](_0xec9b34);if(_0x387d31(0x4c6)in _0x34275a){let _0x4d431c=_0x34275a['desativadoFluxoAte'];_0x84be4[_0x387d31(0x76e)]=_0x4d431c?Number(_0x4d431c):null;}let _0x4630ad=await this[_0x387d31(0x53b)][_0x387d31(0x7b0)]['updateOne']({'where':{'_id':_0x9b82bd}},_0x84be4,this['instance']['wuid']);_0x4630ad?(this[_0x387d31(0x277)][_0x387d31(0x5bf)](this[_0x387d31(0x532)]+'\x20('+this[_0x387d31(0x5c4)][_0x387d31(0x6a8)]+_0x387d31(0x7ef)+_0x4630ad['_id']),q(this[_0x387d31(0x532)],'chats',{'chat':_0x4630ad})):this[_0x387d31(0x277)]['error'](this[_0x387d31(0x532)]+'\x20('+this[_0x387d31(0x5c4)][_0x387d31(0x6a8)]+_0x387d31(0x4d9));}catch(_0x1afe2e){this[_0x387d31(0x277)][_0x387d31(0x57f)](this[_0x387d31(0x532)]+'\x20('+this[_0x387d31(0x5c4)][_0x387d31(0x6a8)]+_0x387d31(0x45e)+(_0x1afe2e instanceof Error?_0x1afe2e[_0x387d31(0x41d)]:JSON['stringify'](_0x1afe2e,null,0x2)));}}async[a0_0x4ff83f(0x68f)](_0x27beb2,_0xaab030){const _0x557e71=a0_0x4ff83f;this[_0x557e71(0x277)][_0x557e71(0x5bf)](this[_0x557e71(0x532)]+'\x20('+this[_0x557e71(0x5c4)]['wuid']+_0x557e71(0x44d)+_0xaab030);try{let _0x59eb02=await this['repository']['chat'][_0x557e71(0x273)]({'where':{'_id':_0x27beb2[_0x557e71(0x246)]}},{'leadInfo.desativadoFluxoAte':_0xaab030},this['instance'][_0x557e71(0x6a8)]);this[_0x557e71(0x277)][_0x557e71(0x5bf)](this[_0x557e71(0x532)]+'\x20('+this[_0x557e71(0x5c4)][_0x557e71(0x6a8)]+_0x557e71(0x3a8)+_0x27beb2[_0x557e71(0x572)]),this[_0x557e71(0x277)][_0x557e71(0x5bf)](this[_0x557e71(0x532)]+'\x20('+this[_0x557e71(0x5c4)][_0x557e71(0x6a8)]+'):\x20atualização\x20chat:\x20'+JSON['stringify'](_0x59eb02,null,0x2)),_0x59eb02&&q(this[_0x557e71(0x532)],'chats',{'chat':_0x59eb02});}catch(_0x37fc06){this[_0x557e71(0x277)][_0x557e71(0x57f)](this[_0x557e71(0x532)]+'\x20('+this[_0x557e71(0x5c4)]['wuid']+_0x557e71(0x57e)+(_0x37fc06 instanceof Error?_0x37fc06[_0x557e71(0x41d)]:JSON['stringify'](_0x37fc06,null,0x2)));}}async[a0_0x4ff83f(0x186)](_0x3b86e4){const _0x8dec3d=a0_0x4ff83f;try{this[_0x8dec3d(0x277)][_0x8dec3d(0x5bf)](this[_0x8dec3d(0x532)]+'\x20('+this['instance'][_0x8dec3d(0x6a8)]+'):\x20Buscando\x20flow...');let _0x464473=_0x3b86e4['replace'](/\D/g,''),_0x70624b=await this[_0x8dec3d(0x53b)][_0x8dec3d(0x236)][_0x8dec3d(0x64f)]({'where':{'testingWith':_0x464473}},this[_0x8dec3d(0x5c4)][_0x8dec3d(0x6a8)]);return _0x70624b||(this[_0x8dec3d(0x277)][_0x8dec3d(0x5bf)](this[_0x8dec3d(0x532)]+'\x20('+this[_0x8dec3d(0x5c4)][_0x8dec3d(0x6a8)]+_0x8dec3d(0x534)),_0x70624b=await this[_0x8dec3d(0x53b)][_0x8dec3d(0x236)][_0x8dec3d(0x64f)]({'where':{'default':!0x0}},this[_0x8dec3d(0x5c4)][_0x8dec3d(0x6a8)])),_0x70624b||(this[_0x8dec3d(0x277)][_0x8dec3d(0x5bf)](this['instanceName']+'\x20('+this[_0x8dec3d(0x5c4)][_0x8dec3d(0x6a8)]+_0x8dec3d(0x392)),null);}catch(_0x1b50a8){return this['logger'][_0x8dec3d(0x57f)](this[_0x8dec3d(0x532)]+'\x20('+this[_0x8dec3d(0x5c4)][_0x8dec3d(0x6a8)]+_0x8dec3d(0x7cd)+(_0x1b50a8 instanceof Error?_0x1b50a8['message']:JSON['stringify'](_0x1b50a8,null,0x2))),null;}}async['findConversation'](_0x17449b,_0x1575ad){const _0x208a57=a0_0x4ff83f;try{let _0x24669e=!!_0x1575ad[_0x208a57(0x594)],_0x58664e=_0x1575ad['quoted'],_0x244bdf=null;if(this[_0x208a57(0x277)][_0x208a57(0x5bf)](this[_0x208a57(0x532)]+'\x20('+this[_0x208a57(0x5c4)][_0x208a57(0x6a8)]+_0x208a57(0x828)+_0x24669e+_0x208a57(0x342)+_0x58664e),_0x24669e){this['logger'][_0x208a57(0x5bf)](this[_0x208a57(0x532)]+'\x20('+this[_0x208a57(0x5c4)]['wuid']+_0x208a57(0x4e9));let _0x287e76={'where':{'remoteJid':_0x17449b,'waitingMenu_id':_0x58664e}};if(_0x244bdf=await this[_0x208a57(0x53b)][_0x208a57(0x239)][_0x208a57(0x64f)](_0x287e76,this['instance'][_0x208a57(0x6a8)]),!_0x244bdf)return this[_0x208a57(0x277)]['verbose'](this[_0x208a57(0x532)]+'\x20('+this[_0x208a57(0x5c4)]['wuid']+'):\x20não\x20encontrou'),null;let _0x1a013b=Date[_0x208a57(0x7fe)](),_0xf50d54=_0x244bdf?.[_0x208a57(0x60b)]||0x0,_0x3153cb=_0x1a013b-_0xf50d54*0x3c*0x3e8;if(_0x244bdf['lastInteraction']<_0x3153cb){this['logger'][_0x208a57(0x5bf)](this['instanceName']+'\x20('+this[_0x208a57(0x5c4)][_0x208a57(0x6a8)]+_0x208a57(0x4ac));let _0x4c17af={'number':_0x244bdf[_0x208a57(0x246)],'options':{'delay':0x0},'textMessage':{'text':_0x244bdf[_0x208a57(0x561)]}};await this['textMessage'](_0x4c17af);let _0x122824={'status':_0x208a57(0x5de),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x208a57(0x53b)][_0x208a57(0x239)]['updateOne'](_0x244bdf['_id'],_0x122824,this[_0x208a57(0x5c4)][_0x208a57(0x6a8)]),null;}return _0x244bdf[_0x208a57(0x3e9)]=Date[_0x208a57(0x7fe)](),_0x244bdf[_0x208a57(0x54e)][_0x208a57(0x1ea)]=_0x1575ad,_0x244bdf;}else{this['logger'][_0x208a57(0x5bf)](this[_0x208a57(0x532)]+'\x20('+this[_0x208a57(0x5c4)][_0x208a57(0x6a8)]+_0x208a57(0x70d)+this['instance'][_0x208a57(0x6a8)]+_0x208a57(0x5e1)),this['logger']['verbose'](this[_0x208a57(0x532)]+'\x20('+this[_0x208a57(0x5c4)][_0x208a57(0x6a8)]+'):\x20Procurando\x20conversa');let _0x4c3fcb={'where':{'remoteJid':_0x17449b,'status':_0x208a57(0x6f0)}};if(_0x244bdf=await this['repository']['flowConversation']['findOne'](_0x4c3fcb,this['instance'][_0x208a57(0x6a8)]),!_0x244bdf){let _0x1ae884=await this[_0x208a57(0x186)](_0x17449b);if(_0x1ae884&&(_0x244bdf=await this[_0x208a57(0x6c2)](_0x1ae884,_0x1575ad[_0x208a57(0x657)],_0x1575ad)),!_0x244bdf)return null;}let _0x2a1218=Date['now'](),_0x1621d3=_0x244bdf?.[_0x208a57(0x60b)]||0x0,_0x2f6c02=_0x2a1218-_0x1621d3*0x3c*0x3e8;if(this[_0x208a57(0x277)][_0x208a57(0x5bf)](this[_0x208a57(0x532)]+'\x20('+this[_0x208a57(0x5c4)][_0x208a57(0x6a8)]+_0x208a57(0x758)+_0x2a1218+',\x20Minutes\x20to\x20Close:\x20'+_0x1621d3+',\x20Expiration\x20Time:\x20'+_0x2f6c02),this['logger'][_0x208a57(0x5bf)](this[_0x208a57(0x532)]+'\x20('+this[_0x208a57(0x5c4)][_0x208a57(0x6a8)]+_0x208a57(0x1ec)),this[_0x208a57(0x277)][_0x208a57(0x5bf)](this[_0x208a57(0x532)]+'\x20('+this[_0x208a57(0x5c4)]['wuid']+_0x208a57(0x82d)+_0x244bdf[_0x208a57(0x3e9)]),this[_0x208a57(0x277)][_0x208a57(0x5bf)](this[_0x208a57(0x532)]+'\x20('+this[_0x208a57(0x5c4)][_0x208a57(0x6a8)]+_0x208a57(0x709)+_0x2f6c02),_0x244bdf['lastInteraction']<_0x2f6c02){this[_0x208a57(0x277)][_0x208a57(0x5bf)](this[_0x208a57(0x532)]+'\x20('+this[_0x208a57(0x5c4)][_0x208a57(0x6a8)]+'):\x20Conversa\x20está\x20expirada');let _0x515c19=await this['findFlow'](_0x17449b);if(_0x515c19===null)return null;_0x244bdf&&await this[_0x208a57(0x53b)]['flowConversation'][_0x208a57(0x273)](_0x244bdf[_0x208a57(0x572)],{'status':_0x208a57(0x5de)},this[_0x208a57(0x5c4)]['wuid']),_0x244bdf=await this[_0x208a57(0x6c2)](_0x515c19,_0x1575ad[_0x208a57(0x657)],_0x1575ad);}return _0x244bdf[_0x208a57(0x3e9)]=_0x2a1218,_0x244bdf[_0x208a57(0x54e)][_0x208a57(0x1ea)]=_0x1575ad,_0x244bdf;}}catch(_0x55f49b){return this['logger']['error'](this['instanceName']+'\x20('+this[_0x208a57(0x5c4)][_0x208a57(0x6a8)]+_0x208a57(0x2bb)+(_0x55f49b instanceof Error?_0x55f49b[_0x208a57(0x41d)]:JSON[_0x208a57(0x62a)](_0x55f49b,null,0x2))),null;}}async[a0_0x4ff83f(0x6c2)](_0x2b5d90,_0x53304f,_0x1391fe){const _0x50f24d=a0_0x4ff83f;this[_0x50f24d(0x277)][_0x50f24d(0x5bf)](this[_0x50f24d(0x532)]+'\x20('+this[_0x50f24d(0x5c4)][_0x50f24d(0x6a8)]+_0x50f24d(0x231));try{let _0x54113b=require(_0x50f24d(0x3c1))['ObjectId'],_0x5087ec=Date[_0x50f24d(0x7fe)](),_0x3220d4='start',_0xdd99fa=_0x53304f[_0x50f24d(0x70c)]?null:_0x1391fe,_0x414db2=_0x53304f[_0x50f24d(0x70c)]?_0x1391fe:null,_0x5383a0=_0x53304f[_0x50f24d(0x246)];await this[_0x50f24d(0x22b)](_0x5383a0);let _0x2d7e0a={..._0x2b5d90,'chatLog':null},_0x3e1e0e=await this[_0x50f24d(0x398)](_0x2d7e0a[_0x50f24d(0x4a4)]),_0x34e2e6=await this['getVariablesChat'](_0x5383a0),_0x2ec1c9={..._0x3e1e0e,..._0x34e2e6,'_remoteJid':_0x5383a0},_0x2ab385={'lastReceivedMessage':_0xdd99fa,'lastSendMessage':_0x414db2,'lastBlockId':_0x3220d4,'lastCondition':!0x0,'realVariables':_0x2ec1c9};_0x2d7e0a[_0x50f24d(0x54e)]=_0x2ab385,delete _0x2d7e0a[_0x50f24d(0x572)],_0x2d7e0a[_0x50f24d(0x572)]=new _0x54113b(),_0x2d7e0a[_0x50f24d(0x3e9)]=_0x5087ec,_0x2d7e0a[_0x50f24d(0x728)]=_0x50f24d(0x6f0),_0x2d7e0a[_0x50f24d(0x246)]=_0x5383a0;let _0x4a5123=await this[_0x50f24d(0x53b)][_0x50f24d(0x239)]['updateOne'](_0x2d7e0a[_0x50f24d(0x572)],_0x2d7e0a,this[_0x50f24d(0x5c4)]['wuid']);return this['logger'][_0x50f24d(0x5bf)](this[_0x50f24d(0x532)]+'\x20('+this['instance'][_0x50f24d(0x6a8)]+_0x50f24d(0x629)),_0x4a5123?_0x2d7e0a:null;}catch(_0x229de0){return this['logger'][_0x50f24d(0x57f)](this[_0x50f24d(0x532)]+'\x20('+this[_0x50f24d(0x5c4)]['wuid']+_0x50f24d(0x2b2)+(_0x229de0 instanceof Error?_0x229de0['message']:JSON[_0x50f24d(0x62a)](_0x229de0,null,0x2))),_0x229de0;}}async['uazapiSendText'](_0x28c60f,_0x60aadb){const _0x25f303=a0_0x4ff83f;let _0x125e30=_0x28c60f[_0x25f303(0x246)];_0x60aadb[_0x25f303(0x5df)][_0x25f303(0x246)]&&_0x60aadb[_0x25f303(0x5df)][_0x25f303(0x246)]['trim']()!==''&&(_0x125e30=_0x60aadb[_0x25f303(0x5df)][_0x25f303(0x246)]['trim']()),this[_0x25f303(0x277)][_0x25f303(0x5bf)](this[_0x25f303(0x532)]+'\x20('+this[_0x25f303(0x5c4)][_0x25f303(0x6a8)]+_0x25f303(0x72c));let _0x25c118={'number':_0x125e30,'options':{'delay':_0x60aadb[_0x25f303(0x5df)][_0x25f303(0x7bf)]},'textMessage':{'text':_0x60aadb['uazapi'][_0x25f303(0x7ee)]}};try{let _0xf5f2b2=await this[_0x25f303(0x63b)](_0x25c118);if(_0xf5f2b2){let _0x11d71c={'_id':_0xf5f2b2[_0x25f303(0x657)]['id'],'_fromMe':_0xf5f2b2[_0x25f303(0x657)][_0x25f303(0x70c)],'_remoteJid':_0xf5f2b2[_0x25f303(0x657)][_0x25f303(0x246)]},_0x473151=(0x0,g[_0x25f303(0x4db)])(_0xf5f2b2[_0x25f303(0x41d)]),_0x58f895=(0x0,g[_0x25f303(0x514)])(_0x473151);_0x28c60f[_0x25f303(0x54e)][_0x25f303(0x672)]=_0x60aadb[_0x25f303(0x572)][_0x25f303(0x552)]();let {message_normalized:_0xd37306}=this[_0x25f303(0x78d)](_0x473151,_0x58f895,null);_0x28c60f[_0x25f303(0x54e)][_0x25f303(0x32f)]=await _0xd37306;let _0x18e81f={'messageId':_0xf5f2b2[_0x25f303(0x657)]['id']},_0x3d30b9=_0x28c60f['chatLog'][_0x25f303(0x433)];Object[_0x25f303(0x2dc)](_0x3d30b9,_0x11d71c),_0x28c60f[_0x25f303(0x54e)][_0x25f303(0x433)]=_0x3d30b9,this['updateConversation'](_0x28c60f,_0x60aadb,_0x18e81f);}else{let _0x3cb895={'error':!0x0};this['updateConversation'](_0x28c60f,_0x60aadb,_0x3cb895),this[_0x25f303(0x277)][_0x25f303(0x57f)](this[_0x25f303(0x532)]+'\x20('+this['instance'][_0x25f303(0x6a8)]+_0x25f303(0x564));}}catch(_0x534bdf){let _0x210c8b={'error':!0x0,'errorLog':_0x534bdf[_0x25f303(0x552)]()};this[_0x25f303(0x249)](_0x28c60f,_0x60aadb,_0x210c8b),this[_0x25f303(0x277)][_0x25f303(0x57f)](this[_0x25f303(0x532)]+'\x20('+this[_0x25f303(0x5c4)][_0x25f303(0x6a8)]+_0x25f303(0x5c7)+(_0x534bdf instanceof Error?_0x534bdf['message']:JSON[_0x25f303(0x62a)](_0x534bdf,null,0x2)));}}async[a0_0x4ff83f(0x385)](_0x4fb115,_0xb117a7){const _0x18eb80=a0_0x4ff83f;let _0x41b1de=_0x4fb115[_0x18eb80(0x246)];_0xb117a7[_0x18eb80(0x5df)]['remoteJid']&&_0xb117a7[_0x18eb80(0x5df)]['remoteJid'][_0x18eb80(0x35f)]()!==''&&(_0x41b1de=_0xb117a7[_0x18eb80(0x5df)][_0x18eb80(0x246)][_0x18eb80(0x35f)]()),this[_0x18eb80(0x277)][_0x18eb80(0x5bf)](this[_0x18eb80(0x532)]+'\x20('+this['instance']['wuid']+_0x18eb80(0x202));let _0x1c615b={'number':_0x41b1de,'options':{'delay':_0xb117a7[_0x18eb80(0x5df)][_0x18eb80(0x7bf)]},'mediaMessage':{'mediatype':_0xb117a7[_0x18eb80(0x5df)][_0x18eb80(0x34c)],'caption':_0xb117a7[_0x18eb80(0x5df)][_0x18eb80(0x440)],'media':_0xb117a7[_0x18eb80(0x5df)][_0x18eb80(0x688)],'fileName':_0xb117a7[_0x18eb80(0x5df)][_0x18eb80(0x2fb)]}};try{let _0x52868c=await this[_0x18eb80(0x3f3)](_0x1c615b);if(_0x52868c){let _0x1deef5={'_id':_0x52868c[_0x18eb80(0x657)]['id'],'_fromMe':_0x52868c[_0x18eb80(0x657)][_0x18eb80(0x70c)],'_remoteJid':_0x52868c[_0x18eb80(0x657)][_0x18eb80(0x246)]},_0x218fe6=(0x0,g['normalizeMessageContent'])(_0x52868c[_0x18eb80(0x41d)]),_0x4ec200=(0x0,g['getContentType'])(_0x218fe6);_0x4fb115[_0x18eb80(0x54e)]['lastBlockId']=_0xb117a7[_0x18eb80(0x572)][_0x18eb80(0x552)]();let {message_normalized:_0x302a7a}=this[_0x18eb80(0x78d)](_0x218fe6,_0x4ec200,null);_0x4fb115['chatLog'][_0x18eb80(0x32f)]=await _0x302a7a;let _0x514630={'messageId':_0x52868c[_0x18eb80(0x657)]['id']},_0x258529=_0x4fb115['chatLog']['realVariables'];Object[_0x18eb80(0x2dc)](_0x258529,_0x1deef5),_0x4fb115[_0x18eb80(0x54e)]['realVariables']=_0x258529,this[_0x18eb80(0x249)](_0x4fb115,_0xb117a7,_0x514630);}else{let _0x20bd99={'error':!0x0};this[_0x18eb80(0x249)](_0x4fb115,_0xb117a7,_0x20bd99),this[_0x18eb80(0x277)][_0x18eb80(0x57f)](this[_0x18eb80(0x532)]+'\x20('+this[_0x18eb80(0x5c4)][_0x18eb80(0x6a8)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x33a9fe){let _0x2b6426={'error':!0x0,'errorLog':_0x33a9fe[_0x18eb80(0x552)]()};this[_0x18eb80(0x249)](_0x4fb115,_0xb117a7,_0x2b6426),this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x18eb80(0x6a8)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x33a9fe instanceof Error?_0x33a9fe['message']:JSON[_0x18eb80(0x62a)](_0x33a9fe,null,0x2)));}}async[a0_0x4ff83f(0x627)](_0x1f06f0,_0x34dc51){const _0x4de694=a0_0x4ff83f;let _0xf22e63=_0x1f06f0[_0x4de694(0x246)];_0x34dc51['uazapi'][_0x4de694(0x246)]&&_0x34dc51[_0x4de694(0x5df)][_0x4de694(0x246)][_0x4de694(0x35f)]()!==''&&(_0xf22e63=_0x34dc51[_0x4de694(0x5df)][_0x4de694(0x246)][_0x4de694(0x35f)]()),this[_0x4de694(0x277)][_0x4de694(0x5bf)](this[_0x4de694(0x532)]+'\x20('+this[_0x4de694(0x5c4)][_0x4de694(0x6a8)]+_0x4de694(0x4aa));let _0x340a6d={'number':_0xf22e63,'options':{'delay':_0x34dc51[_0x4de694(0x5df)][_0x4de694(0x7bf)]},'locationMessage':{'name':_0x34dc51[_0x4de694(0x5df)][_0x4de694(0x1c3)],'address':_0x34dc51[_0x4de694(0x5df)]['address'],'latitude':_0x34dc51[_0x4de694(0x5df)][_0x4de694(0x67f)],'longitude':_0x34dc51[_0x4de694(0x5df)][_0x4de694(0x2f5)]}};try{let _0x297ac1=await this[_0x4de694(0x6cf)](_0x340a6d);if(_0x297ac1){let _0x4d3a72={'_id':_0x297ac1[_0x4de694(0x657)]['id'],'_fromMe':_0x297ac1[_0x4de694(0x657)][_0x4de694(0x70c)],'_remoteJid':_0x297ac1[_0x4de694(0x657)][_0x4de694(0x246)]},_0x3d21cb=(0x0,g[_0x4de694(0x4db)])(_0x297ac1[_0x4de694(0x41d)]),_0x1dad50=(0x0,g[_0x4de694(0x514)])(_0x3d21cb);_0x1f06f0[_0x4de694(0x54e)][_0x4de694(0x672)]=_0x34dc51['_id'][_0x4de694(0x552)]();let {message_normalized:_0x4281fd}=this[_0x4de694(0x78d)](_0x3d21cb,_0x1dad50,null);_0x1f06f0[_0x4de694(0x54e)][_0x4de694(0x32f)]=await _0x4281fd;let _0x3149f2={'messageId':_0x297ac1[_0x4de694(0x657)]['id']},_0x4e48fb=_0x1f06f0['chatLog'][_0x4de694(0x433)];Object[_0x4de694(0x2dc)](_0x4e48fb,_0x4d3a72),_0x1f06f0[_0x4de694(0x54e)][_0x4de694(0x433)]=_0x4e48fb,this['updateConversation'](_0x1f06f0,_0x34dc51,_0x3149f2);}else{let _0x2cec6={'error':!0x0};this[_0x4de694(0x249)](_0x1f06f0,_0x34dc51,_0x2cec6),this[_0x4de694(0x277)][_0x4de694(0x57f)](this[_0x4de694(0x532)]+'\x20('+this[_0x4de694(0x5c4)][_0x4de694(0x6a8)]+_0x4de694(0x47a));}}catch(_0xbb3537){let _0x28b646={'error':!0x0,'errorLog':_0xbb3537[_0x4de694(0x552)]()};this[_0x4de694(0x249)](_0x1f06f0,_0x34dc51,_0x28b646),this[_0x4de694(0x277)][_0x4de694(0x57f)](this[_0x4de694(0x532)]+'\x20('+this[_0x4de694(0x5c4)][_0x4de694(0x6a8)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0xbb3537 instanceof Error?_0xbb3537[_0x4de694(0x41d)]:JSON[_0x4de694(0x62a)](_0xbb3537,null,0x2)));}}async[a0_0x4ff83f(0x20b)](_0x5a13c7,_0xb4a20d){const _0x2dafda=a0_0x4ff83f;let _0x5bfbdf=_0x5a13c7[_0x2dafda(0x246)];_0xb4a20d[_0x2dafda(0x5df)][_0x2dafda(0x246)]&&_0xb4a20d[_0x2dafda(0x5df)][_0x2dafda(0x246)][_0x2dafda(0x35f)]()!==''&&(_0x5bfbdf=_0xb4a20d[_0x2dafda(0x5df)][_0x2dafda(0x246)][_0x2dafda(0x35f)]()),this[_0x2dafda(0x277)]['verbose'](this['instanceName']+'\x20('+this[_0x2dafda(0x5c4)][_0x2dafda(0x6a8)]+_0x2dafda(0x738));let _0x41915b={'number':_0x5bfbdf,'options':{'delay':_0xb4a20d[_0x2dafda(0x5df)][_0x2dafda(0x7bf)]},'audioMessage':{'audio':_0xb4a20d[_0x2dafda(0x5df)][_0x2dafda(0x7c8)]}};try{let _0x1ba554=await this['audioWhatsapp'](_0x41915b);if(_0x1ba554){let _0x2f119e={'_id':_0x1ba554[_0x2dafda(0x657)]['id'],'_fromMe':_0x1ba554[_0x2dafda(0x657)][_0x2dafda(0x70c)],'_remoteJid':_0x1ba554[_0x2dafda(0x657)][_0x2dafda(0x246)]},_0x566705=(0x0,g[_0x2dafda(0x4db)])(_0x1ba554[_0x2dafda(0x41d)]),_0x5e5277=(0x0,g[_0x2dafda(0x514)])(_0x566705);_0x5a13c7['chatLog'][_0x2dafda(0x672)]=_0xb4a20d[_0x2dafda(0x572)]['toString']();let {message_normalized:_0x53f538}=this[_0x2dafda(0x78d)](_0x566705,_0x5e5277,null);_0x5a13c7[_0x2dafda(0x54e)][_0x2dafda(0x32f)]=await _0x53f538;let _0x1aeec1={'messageId':_0x1ba554[_0x2dafda(0x657)]['id']},_0x22da3b=_0x5a13c7['chatLog']['realVariables'];Object[_0x2dafda(0x2dc)](_0x22da3b,_0x2f119e),_0x5a13c7[_0x2dafda(0x54e)][_0x2dafda(0x433)]=_0x22da3b,this['updateConversation'](_0x5a13c7,_0xb4a20d,_0x1aeec1);}else{let _0xd5dead={'error':!0x0};this[_0x2dafda(0x249)](_0x5a13c7,_0xb4a20d,_0xd5dead),this[_0x2dafda(0x277)][_0x2dafda(0x57f)](this[_0x2dafda(0x532)]+'\x20('+this[_0x2dafda(0x5c4)]['wuid']+_0x2dafda(0x4f7));}}catch(_0x5dca6d){let _0x400838={'error':!0x0,'errorLog':_0x5dca6d[_0x2dafda(0x552)]()};this['updateConversation'](_0x5a13c7,_0xb4a20d,_0x400838),this[_0x2dafda(0x277)][_0x2dafda(0x57f)](this[_0x2dafda(0x532)]+'\x20('+this['instance'][_0x2dafda(0x6a8)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0x5dca6d instanceof Error?_0x5dca6d[_0x2dafda(0x41d)]:JSON[_0x2dafda(0x62a)](_0x5dca6d,null,0x2)));}}async['uazapiSendContact'](_0x401591,_0x4bd391){const _0x2bc6e9=a0_0x4ff83f;let _0x2a7e68=_0x401591[_0x2bc6e9(0x246)];_0x4bd391[_0x2bc6e9(0x5df)][_0x2bc6e9(0x246)]&&_0x4bd391[_0x2bc6e9(0x5df)]['remoteJid'][_0x2bc6e9(0x35f)]()!==''&&(_0x2a7e68=_0x4bd391[_0x2bc6e9(0x5df)][_0x2bc6e9(0x246)][_0x2bc6e9(0x35f)]()),this[_0x2bc6e9(0x277)][_0x2bc6e9(0x5bf)](this[_0x2bc6e9(0x532)]+'\x20('+this[_0x2bc6e9(0x5c4)]['wuid']+'):\x20Enviando\x20contato');let _0x449d97={'number':_0x2a7e68,'options':{'delay':_0x4bd391[_0x2bc6e9(0x5df)]['delay']},'contactMessage':[{'fullName':_0x4bd391[_0x2bc6e9(0x5df)][_0x2bc6e9(0x3d2)],'phoneNumber':_0x4bd391[_0x2bc6e9(0x5df)]['phoneNumber']}]};try{let _0x75a9b0=await this[_0x2bc6e9(0x76c)](_0x449d97);if(_0x75a9b0){let _0x49de9a={'_id':_0x75a9b0['key']['id'],'_fromMe':_0x75a9b0['key'][_0x2bc6e9(0x70c)],'_remoteJid':_0x75a9b0[_0x2bc6e9(0x657)]['remoteJid']},_0x41c633=(0x0,g[_0x2bc6e9(0x4db)])(_0x75a9b0[_0x2bc6e9(0x41d)]),_0x3b83ad=(0x0,g[_0x2bc6e9(0x514)])(_0x41c633);_0x401591[_0x2bc6e9(0x54e)][_0x2bc6e9(0x672)]=_0x4bd391[_0x2bc6e9(0x572)][_0x2bc6e9(0x552)]();let {message_normalized:_0x4ff9d1}=this['normalizeMessage'](_0x41c633,_0x3b83ad,null);_0x401591[_0x2bc6e9(0x54e)][_0x2bc6e9(0x32f)]=await _0x4ff9d1;let _0x504de6={'messageId':_0x75a9b0[_0x2bc6e9(0x657)]['id']},_0x52d03d=_0x401591[_0x2bc6e9(0x54e)][_0x2bc6e9(0x433)];Object['assign'](_0x52d03d,_0x49de9a),_0x401591[_0x2bc6e9(0x54e)][_0x2bc6e9(0x433)]=_0x52d03d,this[_0x2bc6e9(0x249)](_0x401591,_0x4bd391,_0x504de6);}else{let _0x5890ba={'error':!0x0};this[_0x2bc6e9(0x249)](_0x401591,_0x4bd391,_0x5890ba),this[_0x2bc6e9(0x277)][_0x2bc6e9(0x57f)](this['instanceName']+'\x20('+this[_0x2bc6e9(0x5c4)][_0x2bc6e9(0x6a8)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x1be4c6){let _0x16449e={'error':!0x0,'errorLog':_0x1be4c6[_0x2bc6e9(0x552)]()};this[_0x2bc6e9(0x249)](_0x401591,_0x4bd391,_0x16449e),this[_0x2bc6e9(0x277)][_0x2bc6e9(0x57f)](this['instanceName']+'\x20('+this[_0x2bc6e9(0x5c4)]['wuid']+_0x2bc6e9(0x5ce)+(_0x1be4c6 instanceof Error?_0x1be4c6['message']:JSON[_0x2bc6e9(0x62a)](_0x1be4c6,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x3fae2a,_0x4650bb){const _0x152158=a0_0x4ff83f;for(let _0x2d7d3c of _0x3fae2a)_0x2d7d3c[_0x152158(0x44f)]&&(_0x2d7d3c['option']=this[_0x152158(0x483)](_0x2d7d3c[_0x152158(0x44f)],_0x4650bb)),_0x2d7d3c[_0x152158(0x7a2)]&&(_0x2d7d3c[_0x152158(0x7a2)]=this['replaceVariables'](_0x2d7d3c[_0x152158(0x7a2)],_0x4650bb));}async[a0_0x4ff83f(0x53e)](_0x2efb92,_0x3aa84c){const _0x38224c=a0_0x4ff83f;let _0x5f4eaf=_0x2efb92[_0x38224c(0x246)];_0x3aa84c[_0x38224c(0x5df)][_0x38224c(0x246)]&&_0x3aa84c[_0x38224c(0x5df)][_0x38224c(0x246)][_0x38224c(0x35f)]()!==''&&(_0x5f4eaf=_0x3aa84c[_0x38224c(0x5df)][_0x38224c(0x246)][_0x38224c(0x35f)]()),this[_0x38224c(0x277)][_0x38224c(0x5bf)](this[_0x38224c(0x532)]+'\x20('+this[_0x38224c(0x5c4)]['wuid']+_0x38224c(0x6e7));let _0xe86bf9=_0x2efb92['replyOptions'][_0x38224c(0x53c)](_0x59c0d4=>_0x59c0d4[_0x38224c(0x427)]===_0x3aa84c[_0x38224c(0x572)])[_0x38224c(0x527)]((_0x345d2a,_0x58e6f6)=>_0x345d2a[_0x38224c(0x486)]-_0x58e6f6['order']);this[_0x38224c(0x6e1)](_0xe86bf9,_0x2efb92[_0x38224c(0x54e)][_0x38224c(0x433)]);let _0x455b4b=_0xe86bf9[_0x38224c(0x5c3)](_0x27d55f=>_0x27d55f[_0x38224c(0x44f)]),_0x33d16={'number':_0x5f4eaf,'menuMessage':{'type':_0x3aa84c['uazapi'][_0x38224c(0x724)]||_0x38224c(0x278),'text':_0x3aa84c[_0x38224c(0x5df)][_0x38224c(0x7ee)]||_0x3aa84c[_0x38224c(0x5df)][_0x38224c(0x1c3)],'footerText':_0x3aa84c[_0x38224c(0x5df)][_0x38224c(0x792)],'buttonText':_0x3aa84c['uazapi']['buttonText'],'selectableCount':0x1,'choices':_0x455b4b},'options':{'delay':_0x3aa84c[_0x38224c(0x5df)]['delay']}};try{let _0x13c96f=await this[_0x38224c(0x4a7)](_0x33d16);if(_0x13c96f){let _0x113f03={'_id':_0x13c96f['key']['id'],'_fromMe':_0x13c96f[_0x38224c(0x657)][_0x38224c(0x70c)],'_remoteJid':_0x13c96f[_0x38224c(0x657)][_0x38224c(0x246)]};_0x3aa84c[_0x38224c(0x5df)][_0x38224c(0x7e9)]===!0x0&&(_0x2efb92[_0x38224c(0x728)]='waitingForReplyMenu',this[_0x38224c(0x277)][_0x38224c(0x5bf)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20conversation.status:\x20'+_0x2efb92[_0x38224c(0x728)])),this[_0x38224c(0x277)][_0x38224c(0x5bf)](this[_0x38224c(0x532)]+'\x20('+this[_0x38224c(0x5c4)]['wuid']+_0x38224c(0x415)+(_0x3aa84c[_0x38224c(0x5df)][_0x38224c(0x1c3)]||_0x3aa84c['uazapi'][_0x38224c(0x7ee)])),_0x2efb92[_0x38224c(0x200)]=_0x13c96f[_0x38224c(0x657)]['id'],_0x2efb92['waitingMenu_text']=_0x3aa84c[_0x38224c(0x5df)][_0x38224c(0x1c3)]||_0x3aa84c[_0x38224c(0x5df)][_0x38224c(0x7ee)],_0x2efb92[_0x38224c(0x568)]=_0xe86bf9,_0x3aa84c[_0x38224c(0x5df)]['menuExpiredMessage']&&(_0x2efb92[_0x38224c(0x561)]=_0x3aa84c[_0x38224c(0x5df)][_0x38224c(0x1a6)]),this[_0x38224c(0x277)]['verbose'](this[_0x38224c(0x532)]+'\x20('+this[_0x38224c(0x5c4)]['wuid']+'):\x20conversation.waitingMenu_name'+_0x2efb92[_0x38224c(0x42e)]);let _0xe24cfb=(0x0,g['normalizeMessageContent'])(_0x13c96f[_0x38224c(0x41d)]),_0x1fe92a=(0x0,g[_0x38224c(0x514)])(_0xe24cfb);_0x2efb92[_0x38224c(0x54e)][_0x38224c(0x672)]=_0x3aa84c[_0x38224c(0x572)][_0x38224c(0x552)]();let {message_normalized:_0x4e61c1}=this['normalizeMessage'](_0xe24cfb,_0x1fe92a,null);_0x2efb92[_0x38224c(0x54e)][_0x38224c(0x32f)]=await _0x4e61c1;let _0x4f6ded={'messageId':_0x13c96f['key']['id']},_0x29a2f4=_0x2efb92['chatLog'][_0x38224c(0x433)];Object[_0x38224c(0x2dc)](_0x29a2f4,_0x113f03),_0x2efb92[_0x38224c(0x54e)][_0x38224c(0x433)]=_0x29a2f4,this[_0x38224c(0x249)](_0x2efb92,_0x3aa84c,_0x4f6ded);}else{let _0x5743a3={'error':!0x0};this['updateConversation'](_0x2efb92,_0x3aa84c,_0x5743a3),this[_0x38224c(0x277)][_0x38224c(0x57f)](this[_0x38224c(0x532)]+'\x20('+this[_0x38224c(0x5c4)][_0x38224c(0x6a8)]+_0x38224c(0x289));}}catch(_0x3fd539){let _0x3ff54b={'error':!0x0,'errorLog':_0x3fd539 instanceof Error?_0x3fd539[_0x38224c(0x41d)]:JSON[_0x38224c(0x62a)](_0x3fd539,null,0x2)};this[_0x38224c(0x249)](_0x2efb92,_0x3aa84c,_0x3ff54b),this[_0x38224c(0x277)][_0x38224c(0x57f)](this[_0x38224c(0x532)]+'\x20('+this[_0x38224c(0x5c4)][_0x38224c(0x6a8)]+_0x38224c(0x3ef)+(_0x3fd539 instanceof Error?_0x3fd539[_0x38224c(0x41d)]:JSON[_0x38224c(0x62a)](_0x3fd539,null,0x2)));}}async[a0_0x4ff83f(0x2e2)](_0x31a87d,_0xa5d22f){const _0xeeb6d6=a0_0x4ff83f;this[_0xeeb6d6(0x277)]['verbose'](this[_0xeeb6d6(0x532)]+'\x20('+this[_0xeeb6d6(0x5c4)][_0xeeb6d6(0x6a8)]+'):\x20Deletando\x20mensagem');let _0x1cb0a3=_0x31a87d[_0xeeb6d6(0x54e)][_0xeeb6d6(0x33d)][_0xeeb6d6(0x678)](_0xde388a=>_0xde388a['blockId'][_0xeeb6d6(0x552)]()===_0xa5d22f[_0xeeb6d6(0x5df)][_0xeeb6d6(0x427)]['toString']()),_0x4fc770={'id':_0x1cb0a3[_0xeeb6d6(0x395)],'remoteJid':_0x1cb0a3[_0xeeb6d6(0x246)],'fromMe':_0x1cb0a3[_0xeeb6d6(0x70c)]};try{let _0x3089f2=await this['deleteMessage'](_0x4fc770);if(_0x3089f2){let _0x3dc9ec=(0x0,g[_0xeeb6d6(0x4db)])(_0x3089f2[_0xeeb6d6(0x41d)]),_0x34c621=(0x0,g['getContentType'])(_0x3dc9ec);_0x31a87d['chatLog'][_0xeeb6d6(0x672)]=_0xa5d22f['_id'][_0xeeb6d6(0x552)]();let {message_normalized:_0x2f6306}=this[_0xeeb6d6(0x78d)](_0x3dc9ec,_0x34c621,null);_0x31a87d[_0xeeb6d6(0x54e)][_0xeeb6d6(0x32f)]=await _0x2f6306;let _0x9cfdc5={};this['updateConversation'](_0x31a87d,_0xa5d22f,_0x9cfdc5);}else{let _0x516a77={'error':!0x0};this[_0xeeb6d6(0x249)](_0x31a87d,_0xa5d22f,_0x516a77),this['logger'][_0xeeb6d6(0x57f)](this[_0xeeb6d6(0x532)]+'\x20('+this[_0xeeb6d6(0x5c4)][_0xeeb6d6(0x6a8)]+_0xeeb6d6(0x412));}}catch(_0x1c75b6){let _0x57ab20={'error':!0x0,'errorLog':_0x1c75b6 instanceof Error?_0x1c75b6['message']:JSON[_0xeeb6d6(0x62a)](_0x1c75b6,null,0x2)};this['updateConversation'](_0x31a87d,_0xa5d22f,_0x57ab20),this['logger'][_0xeeb6d6(0x57f)](this[_0xeeb6d6(0x532)]+'\x20('+this[_0xeeb6d6(0x5c4)][_0xeeb6d6(0x6a8)]+_0xeeb6d6(0x59c)+(_0x1c75b6 instanceof Error?_0x1c75b6[_0xeeb6d6(0x41d)]:JSON['stringify'](_0x1c75b6,null,0x2)));}}async['createFlow'](_0x433d0a){const _0x59c0a1=a0_0x4ff83f;if(!_0x433d0a[_0x59c0a1(0x1c3)])throw new m(_0x59c0a1(0x763));if(await this[_0x59c0a1(0x53b)][_0x59c0a1(0x236)]['findOne']({'where':{'name':_0x433d0a['name']}},this['instance'][_0x59c0a1(0x6a8)]))throw new m(_0x59c0a1(0x316));return _0x59c0a1(0x1c3)in _0x433d0a&&_0x59c0a1(0x784)in _0x433d0a&&'owner'in _0x433d0a&&Object['keys'](_0x433d0a)[_0x59c0a1(0x78e)]===0x3?this['createSharedFlow'](_0x433d0a[_0x59c0a1(0x343)],_0x433d0a[_0x59c0a1(0x784)],_0x433d0a['name']):this[_0x59c0a1(0x328)](_0x433d0a);}async[a0_0x4ff83f(0x1d2)](_0x10e107,_0xac5bb0,_0x427699){const _0x457bf2=a0_0x4ff83f;try{this['logger'][_0x457bf2(0x5bf)](this[_0x457bf2(0x532)]+'\x20('+this[_0x457bf2(0x5c4)][_0x457bf2(0x6a8)]+_0x457bf2(0x71d));let _0x23b432=await this[_0x457bf2(0x53b)][_0x457bf2(0x236)][_0x457bf2(0x64f)]({'where':{'name':_0x427699,'sharePass':_0xac5bb0}},_0x10e107);if(!_0x23b432)throw new m('Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.');let _0x4b3360={..._0x23b432};return _0x4b3360['owner']=this[_0x457bf2(0x5c4)][_0x457bf2(0x6a8)],_0x4b3360[_0x457bf2(0x203)]=Array[_0x457bf2(0x1e8)](new Set([..._0x23b432[_0x457bf2(0x203)]||[],_0x23b432[_0x457bf2(0x343)],this[_0x457bf2(0x5c4)][_0x457bf2(0x6a8)]])),_0x23b432[_0x457bf2(0x203)]=_0x4b3360[_0x457bf2(0x203)],await this[_0x457bf2(0x53b)][_0x457bf2(0x236)][_0x457bf2(0x273)](_0x23b432[_0x457bf2(0x572)],{'shareOwners':_0x23b432[_0x457bf2(0x203)]},_0x23b432['owner']),_0x23b432[_0x457bf2(0x604)]===!0x0&&await this[_0x457bf2(0x53b)][_0x457bf2(0x236)][_0x457bf2(0x3e3)]({},{'default':!0x1},this[_0x457bf2(0x5c4)]['wuid']),await this['repository'][_0x457bf2(0x236)][_0x457bf2(0x557)](_0x4b3360,this[_0x457bf2(0x5c4)][_0x457bf2(0x6a8)]);}catch(_0x459d9a){throw this[_0x457bf2(0x277)][_0x457bf2(0x57f)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x457bf2(0x205)+_0x459d9a),new m(_0x457bf2(0x363)+_0x459d9a);}}async[a0_0x4ff83f(0x328)](_0x10ce08){const _0x28c787=a0_0x4ff83f;try{this[_0x28c787(0x277)][_0x28c787(0x5bf)](this[_0x28c787(0x532)]+'\x20('+this['instance'][_0x28c787(0x6a8)]+_0x28c787(0x48e)),delete _0x10ce08[_0x28c787(0x203)],delete _0x10ce08['sharePass'],delete _0x10ce08['owner'],_0x10ce08[_0x28c787(0x604)]===!0x0&&await this[_0x28c787(0x53b)][_0x28c787(0x236)]['updateMany']({},{'default':!0x1},this[_0x28c787(0x5c4)][_0x28c787(0x6a8)]);let _0x4920af=new oe[(_0x28c787(0x346))][(_0x28c787(0x3c0))](),_0xf3f3f2={'_id':_0x4920af,'default':!0x0,'title':_0x28c787(0x71e),'x':0x0,'y':0x0},_0x5ed178={'_id':new oe[(_0x28c787(0x346))][(_0x28c787(0x3c0))](),'order':0x1,'groupId':_0x4920af[_0x28c787(0x552)](),'type':_0x28c787(0x7d7)},_0x3ae6d0={'_id':new oe[(_0x28c787(0x346))][(_0x28c787(0x3c0))](),'owner':this[_0x28c787(0x5c4)]['wuid'],'name':_0x10ce08['name'],'groups':[_0xf3f3f2],'blocks':[_0x5ed178],..._0x10ce08};return await this[_0x28c787(0x53b)][_0x28c787(0x236)][_0x28c787(0x557)](_0x3ae6d0,this[_0x28c787(0x5c4)][_0x28c787(0x6a8)]);}catch(_0x4d5580){throw this[_0x28c787(0x277)][_0x28c787(0x57f)](this[_0x28c787(0x532)]+'\x20('+this[_0x28c787(0x5c4)][_0x28c787(0x6a8)]+'):\x20Erro\x20ao\x20criar\x20fluxo\x20regular:\x20'+_0x4d5580),new m(_0x28c787(0x3cf)+_0x4d5580);}}async[a0_0x4ff83f(0x333)](_0x4a4de6,_0x1e58ee){const _0x4ce520=a0_0x4ff83f;try{let _0x2bf3d3=await this[_0x4ce520(0x53b)]['flow'][_0x4ce520(0x64f)]({'where':{'_id':_0x4a4de6}},_0x1e58ee);if(_0x2bf3d3&&_0x2bf3d3[_0x4ce520(0x203)]){for(let _0x28d8dc of _0x2bf3d3[_0x4ce520(0x203)])if(_0x28d8dc!==_0x1e58ee){let _0x35f820={..._0x2bf3d3,'owner':_0x28d8dc};await this[_0x4ce520(0x53b)]['flow'][_0x4ce520(0x26f)](_0x4a4de6,_0x35f820,_0x28d8dc);}}}catch(_0x397e08){this['logger']['error'](_0x4ce520(0x250)+_0x397e08);}}async[a0_0x4ff83f(0x6c8)](_0x2266c5){const _0x33ff7a=a0_0x4ff83f;try{this[_0x33ff7a(0x277)][_0x33ff7a(0x5bf)](this['instanceName']+'\x20('+this[_0x33ff7a(0x5c4)][_0x33ff7a(0x6a8)]+_0x33ff7a(0x4a5));let _0x27ea2a=await this['repository'][_0x33ff7a(0x236)]['findOne']({'where':{'name':_0x2266c5}},this[_0x33ff7a(0x5c4)][_0x33ff7a(0x6a8)]);if(_0x27ea2a&&_0x27ea2a[_0x33ff7a(0x203)]&&_0x27ea2a[_0x33ff7a(0x203)]['length']>0x1){for(let _0x40aed0 of _0x27ea2a[_0x33ff7a(0x203)])if(_0x40aed0!==this['instance'][_0x33ff7a(0x6a8)]){let _0x2c1696=await this[_0x33ff7a(0x53b)][_0x33ff7a(0x236)][_0x33ff7a(0x64f)]({'where':{'sharePass':_0x27ea2a[_0x33ff7a(0x784)]}},_0x40aed0);_0x2c1696&&(_0x2c1696[_0x33ff7a(0x203)]=_0x2c1696[_0x33ff7a(0x203)][_0x33ff7a(0x53c)](_0x29dfac=>_0x29dfac!==_0x27ea2a[_0x33ff7a(0x343)]),await this['repository'][_0x33ff7a(0x236)][_0x33ff7a(0x273)](_0x2c1696[_0x33ff7a(0x572)],{'shareOwners':_0x2c1696[_0x33ff7a(0x203)]},_0x40aed0));}}return await this[_0x33ff7a(0x53b)][_0x33ff7a(0x236)][_0x33ff7a(0x2c0)]({'where':{'name':_0x2266c5}},this['instance']['wuid']);}catch(_0x457fd5){return this[_0x33ff7a(0x277)][_0x33ff7a(0x57f)](this['instanceName']+'\x20('+this[_0x33ff7a(0x5c4)][_0x33ff7a(0x6a8)]+_0x33ff7a(0x56e)+(_0x457fd5 instanceof Error?_0x457fd5[_0x33ff7a(0x41d)]:JSON[_0x33ff7a(0x62a)](_0x457fd5,null,0x2))),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+_0x457fd5};}}async[a0_0x4ff83f(0x54f)](_0x32304d){const _0x4fdca2=a0_0x4ff83f;try{this[_0x4fdca2(0x277)][_0x4fdca2(0x5bf)](this['instanceName']+'\x20('+this[_0x4fdca2(0x5c4)][_0x4fdca2(0x6a8)]+_0x4fdca2(0x5f1));let _0x8d9eb4=await this[_0x4fdca2(0x53b)][_0x4fdca2(0x236)][_0x4fdca2(0x64f)]({'where':{'name':_0x32304d}},this['instance']['wuid']);if(!_0x8d9eb4)throw new Error('Flow\x20não\x20encontrado');if(!this[_0x4fdca2(0x1b1)]&&(await this[_0x4fdca2(0x2bd)](),!this[_0x4fdca2(0x1b1)]))return null;let _0x5ac6f7=this[_0x4fdca2(0x1b1)]?.[_0x4fdca2(0x380)]['map'](_0x36977b=>_0x36977b[_0x4fdca2(0x1c3)]),_0x5374d2=[_0x4fdca2(0x482),'nomecompleto',_0x4fdca2(0x72e),'cpf',_0x4fdca2(0x728),_0x4fdca2(0x221),_0x4fdca2(0x821),_0x4fdca2(0x306),_0x4fdca2(0x61b)];_0x8d9eb4[_0x4fdca2(0x4a4)]=_0x8d9eb4[_0x4fdca2(0x4a4)]['filter'](_0x3d320b=>!(_0x3d320b[_0x4fdca2(0x371)]===_0x4fdca2(0x1be)||_0x3d320b[_0x4fdca2(0x1be)])),_0x5374d2[_0x4fdca2(0x4bf)](_0x5b0ccf=>{const _0x40e5fc=_0x4fdca2;_0x8d9eb4[_0x40e5fc(0x4a4)][_0x40e5fc(0x3ed)]({'folder':_0x40e5fc(0x1be),'name':_0x5b0ccf,'value':'','doc':'','leadInfo':!0x0});}),_0x5ac6f7['forEach'](_0x3d489d=>{const _0xd9b9=_0x4fdca2;let _0xddd0d6=_0x8d9eb4[_0xd9b9(0x4a4)]['findIndex'](_0x47ae4b=>_0x47ae4b['name']===_0x3d489d);_0xddd0d6===-0x1?_0x8d9eb4[_0xd9b9(0x4a4)]['push']({'folder':_0xd9b9(0x1be),'name':_0x3d489d,'value':'','doc':'','leadInfo':!0x0}):(_0x8d9eb4['variables'][_0xddd0d6][_0xd9b9(0x371)]='leadInfo',_0x8d9eb4[_0xd9b9(0x4a4)][_0xddd0d6][_0xd9b9(0x1be)]=!0x0);}),_0x8d9eb4[_0x4fdca2(0x29a)]&&_0x8d9eb4[_0x4fdca2(0x29a)]['length']>0x0&&_0x8d9eb4[_0x4fdca2(0x29a)][_0x4fdca2(0x4bf)](_0x2b7fc0=>{const _0x461628=_0x4fdca2;_0x2b7fc0[_0x461628(0x318)]&&_0x2b7fc0[_0x461628(0x7e8)]&&_0x2b7fc0[_0x461628(0x318)]===_0x2b7fc0[_0x461628(0x7e8)]&&(_0x2b7fc0[_0x461628(0x7e8)]=null);});let _0x26ac9b=await this[_0x4fdca2(0x53b)]['flow'][_0x4fdca2(0x273)](_0x8d9eb4[_0x4fdca2(0x572)],_0x8d9eb4,this['instance'][_0x4fdca2(0x6a8)]);if(!_0x26ac9b)throw new Error(_0x4fdca2(0x822));return _0x26ac9b;}catch(_0x5e048a){throw this[_0x4fdca2(0x277)]['error'](this[_0x4fdca2(0x532)]+'\x20('+this[_0x4fdca2(0x5c4)]['wuid']+_0x4fdca2(0x41b)+(_0x5e048a instanceof Error?_0x5e048a['message']:JSON[_0x4fdca2(0x62a)](_0x5e048a,null,0x2))),new m(_0x4fdca2(0x6ef)+_0x5e048a);}}async[a0_0x4ff83f(0x50f)](){const _0x303e90=a0_0x4ff83f;try{return this[_0x303e90(0x277)][_0x303e90(0x5bf)](this[_0x303e90(0x532)]+'\x20('+this[_0x303e90(0x5c4)]['wuid']+_0x303e90(0x6df)),await this[_0x303e90(0x53b)][_0x303e90(0x236)]['updateMissingShareOwners'](this['instance']['wuid']),await this[_0x303e90(0x53b)]['flow'][_0x303e90(0x1e1)]({'where':{}},this[_0x303e90(0x5c4)]['wuid']);}catch(_0x5dc557){return this[_0x303e90(0x277)][_0x303e90(0x57f)](this[_0x303e90(0x532)]+'\x20('+this[_0x303e90(0x5c4)][_0x303e90(0x6a8)]+_0x303e90(0x4b6)+(_0x5dc557 instanceof Error?_0x5dc557['message']:JSON[_0x303e90(0x62a)](_0x5dc557,null,0x2))),{'message':_0x303e90(0x700)+_0x5dc557};}}async[a0_0x4ff83f(0x7a0)](_0x3e7eac){const _0x4e9c92=a0_0x4ff83f;try{this['logger']['verbose'](this[_0x4e9c92(0x532)]+'\x20('+this[_0x4e9c92(0x5c4)][_0x4e9c92(0x6a8)]+_0x4e9c92(0x555));let _0x3878b5=await this['repository'][_0x4e9c92(0x236)][_0x4e9c92(0x64f)]({'where':{'name':_0x3e7eac[_0x4e9c92(0x1c3)]}},this[_0x4e9c92(0x5c4)][_0x4e9c92(0x6a8)]);if(!_0x3878b5)return{'message':_0x4e9c92(0x635)};_0x3e7eac[_0x4e9c92(0x604)]===!0x0&&await this[_0x4e9c92(0x53b)][_0x4e9c92(0x236)]['updateMany']({},{'default':!0x1},this[_0x4e9c92(0x5c4)][_0x4e9c92(0x6a8)]),delete _0x3e7eac[_0x4e9c92(0x203)],delete _0x3e7eac['sharePass'];let _0xde8d63=await this[_0x4e9c92(0x53b)][_0x4e9c92(0x236)][_0x4e9c92(0x273)](_0x3878b5[_0x4e9c92(0x572)],_0x3e7eac,this['instance'][_0x4e9c92(0x6a8)]);return _0xde8d63&&_0xde8d63[_0x4e9c92(0x203)]&&_0xde8d63[_0x4e9c92(0x203)][_0x4e9c92(0x78e)]>0x1&&this['synchronizeFlows'](_0xde8d63[_0x4e9c92(0x572)],this[_0x4e9c92(0x5c4)][_0x4e9c92(0x6a8)]),_0xde8d63;}catch(_0x24f92b){throw this[_0x4e9c92(0x277)]['error'](this[_0x4e9c92(0x532)]+'\x20('+this[_0x4e9c92(0x5c4)][_0x4e9c92(0x6a8)]+_0x4e9c92(0x3bd)+(_0x24f92b instanceof Error?_0x24f92b['message']:JSON[_0x4e9c92(0x62a)](_0x24f92b,null,0x2))),new m(_0x4e9c92(0x1f6)+(_0x24f92b instanceof Error?_0x24f92b[_0x4e9c92(0x41d)]:JSON['stringify'](_0x24f92b,null,0x2)));}}async[a0_0x4ff83f(0x20c)](_0x11419d){const _0x4fa5d8=a0_0x4ff83f;try{this['logger'][_0x4fa5d8(0x5bf)](this['instanceName']+'\x20('+this[_0x4fa5d8(0x5c4)][_0x4fa5d8(0x6a8)]+_0x4fa5d8(0x5af));let _0x4c552b=await this[_0x4fa5d8(0x53b)][_0x4fa5d8(0x236)][_0x4fa5d8(0x64f)]({'where':{'name':_0x11419d['name']}},this[_0x4fa5d8(0x5c4)][_0x4fa5d8(0x6a8)]);_0x4c552b||this[_0x4fa5d8(0x5ba)](_0x4fa5d8(0x6a9));let {block:_0x43a997}=_0x11419d;_0x43a997?.[_0x4fa5d8(0x4bd)]?this['copyBlock'](_0x4c552b,_0x11419d):_0x43a997?.['delete']?this[_0x4fa5d8(0x578)](_0x4c552b,_0x11419d):_0x43a997[_0x4fa5d8(0x572)]?await this[_0x4fa5d8(0x345)](_0x4c552b,_0x11419d):this[_0x4fa5d8(0x3fd)](_0x4c552b,_0x11419d);let _0x43a2c5=await this['repository'][_0x4fa5d8(0x236)][_0x4fa5d8(0x273)](_0x4c552b[_0x4fa5d8(0x572)],_0x4c552b,this[_0x4fa5d8(0x5c4)][_0x4fa5d8(0x6a8)]);if(_0x43a2c5&&_0x43a2c5[_0x4fa5d8(0x203)]&&_0x43a2c5[_0x4fa5d8(0x203)][_0x4fa5d8(0x78e)]>0x1&&this['synchronizeFlows'](_0x43a2c5[_0x4fa5d8(0x572)],this[_0x4fa5d8(0x5c4)]['wuid']),!_0x43a2c5)throw new Error(_0x4fa5d8(0x822));return _0x43a2c5;}catch(_0x4bfb60){this[_0x4fa5d8(0x5ba)](_0x4fa5d8(0x6b2)+_0x4bfb60);}}async[a0_0x4ff83f(0x470)](_0x137c7d,_0x76fa93){const _0x28557b=a0_0x4ff83f;let _0x2f3ec6=_0x76fa93[_0x28557b(0x1e3)][_0x28557b(0x572)],_0x6d3dc3=_0x137c7d['blocks'][_0x28557b(0x678)](_0xc8a8e8=>_0xc8a8e8[_0x28557b(0x572)][_0x28557b(0x552)]()===_0x2f3ec6);if(!_0x6d3dc3){this[_0x28557b(0x277)][_0x28557b(0x57f)](this[_0x28557b(0x532)]+'\x20('+this['instance']['wuid']+_0x28557b(0x3e0)+_0x2f3ec6+_0x28557b(0x2a9));return;}this['logger'][_0x28557b(0x5bf)](this[_0x28557b(0x532)]+'\x20('+this[_0x28557b(0x5c4)][_0x28557b(0x6a8)]+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON['stringify'](_0x6d3dc3));let _0x2024dc=JSON['parse'](JSON[_0x28557b(0x62a)](_0x6d3dc3));_0x2024dc[_0x28557b(0x572)]=new oe['default'][(_0x28557b(0x346))][(_0x28557b(0x3c0))](),this[_0x28557b(0x277)]['verbose'](this[_0x28557b(0x532)]+'\x20('+this[_0x28557b(0x5c4)][_0x28557b(0x6a8)]+'):\x20Bloco\x20copiado:\x20'+JSON['stringify'](_0x2024dc)),_0x137c7d['blocks'][_0x28557b(0x3ed)](_0x2024dc),this['reorderBlocks'](_0x137c7d[_0x28557b(0x29a)],_0x2024dc['groupId']);}['throwAndLogError'](_0xfc46a6){const _0x5187f7=a0_0x4ff83f;throw this[_0x5187f7(0x277)][_0x5187f7(0x57f)](this[_0x5187f7(0x532)]+'\x20('+this[_0x5187f7(0x5c4)][_0x5187f7(0x6a8)]+_0x5187f7(0x70d)+_0xfc46a6),new m(_0xfc46a6);}[a0_0x4ff83f(0x578)](_0x4c9069,_0xfc3848){const _0x356499=a0_0x4ff83f;let {block:_0x1d26d8}=_0xfc3848;if(_0x1d26d8[_0x356499(0x464)]===_0x356499(0x7d7)){this[_0x356499(0x5ba)](_0x356499(0x4e5));return;}if(!_0x1d26d8[_0x356499(0x572)]){this[_0x356499(0x5ba)](_0x356499(0x1bf));return;}let _0x626b97=_0x4c9069[_0x356499(0x29a)][_0x356499(0x678)](_0x5c3bea=>_0x5c3bea[_0x356499(0x572)][_0x356499(0x552)]()===_0xfc3848['block'][_0x356499(0x572)][_0x356499(0x552)]());if(!_0x626b97){this[_0x356499(0x5ba)](_0x356499(0x3d5)+_0x1d26d8['_id']+_0x356499(0x76f));return;}_0x4c9069[_0x356499(0x29a)]=_0x4c9069[_0x356499(0x29a)][_0x356499(0x53c)](_0x2b792b=>_0x2b792b[_0x356499(0x572)][_0x356499(0x552)]()!==_0xfc3848[_0x356499(0x1e3)][_0x356499(0x572)][_0x356499(0x552)]()),_0x4c9069['conditions']=_0x4c9069[_0x356499(0x3e2)][_0x356499(0x53c)](_0x59ba16=>_0x59ba16['blockId']!==_0x1d26d8[_0x356499(0x572)][_0x356499(0x552)]()),_0x4c9069[_0x356499(0x650)]=_0x4c9069[_0x356499(0x650)]['filter'](_0x49ad52=>_0x49ad52[_0x356499(0x427)]!==_0x1d26d8['_id'][_0x356499(0x552)]()),_0x4c9069[_0x356499(0x237)]=_0x4c9069[_0x356499(0x237)][_0x356499(0x53c)](_0x29d8c1=>_0x29d8c1['blockId']!==_0x1d26d8[_0x356499(0x572)][_0x356499(0x552)]()),this[_0x356499(0x5e4)](_0x4c9069[_0x356499(0x29a)],_0x626b97['groupId']);}async[a0_0x4ff83f(0x345)](_0x394de1,_0x40cbfb){const _0xcd8761=a0_0x4ff83f;let _0x563b6e=_0x394de1[_0xcd8761(0x29a)][_0xcd8761(0x1f3)](_0x10df63=>_0x10df63[_0xcd8761(0x572)][_0xcd8761(0x552)]()===_0x40cbfb[_0xcd8761(0x1e3)][_0xcd8761(0x572)]['toString']());if(this['logger'][_0xcd8761(0x5bf)](this[_0xcd8761(0x532)]+'\x20('+this[_0xcd8761(0x5c4)][_0xcd8761(0x6a8)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x563b6e),_0x563b6e===-0x1){this[_0xcd8761(0x277)][_0xcd8761(0x5bf)]('Bloco\x20com\x20ID\x20'+_0x40cbfb[_0xcd8761(0x1e3)][_0xcd8761(0x572)]+_0xcd8761(0x5ff));return;}if(_0x394de1[_0xcd8761(0x29a)][_0x563b6e]['type']===_0xcd8761(0x7d7)){let _0x5d37a1=Object[_0xcd8761(0x356)](_0x40cbfb[_0xcd8761(0x1e3)]);if(_0x5d37a1[_0xcd8761(0x78e)]>0x2||_0x5d37a1[_0xcd8761(0x78e)]===0x2&&!_0x5d37a1[_0xcd8761(0x713)]('next_groupId')){this[_0xcd8761(0x5ba)]('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x54a4de=_0x394de1[_0xcd8761(0x29a)][_0x563b6e][_0xcd8761(0x318)];for(let _0xfa9b0b in _0x40cbfb['block'])_0x40cbfb['block'][_0xcd8761(0x50e)](_0xfa9b0b)&&(_0x394de1[_0xcd8761(0x29a)][_0x563b6e][_0xfa9b0b]=_0x40cbfb[_0xcd8761(0x1e3)][_0xfa9b0b]);if(this[_0xcd8761(0x277)][_0xcd8761(0x5bf)](this[_0xcd8761(0x532)]+'\x20('+this[_0xcd8761(0x5c4)][_0xcd8761(0x6a8)]+_0xcd8761(0x647)+JSON[_0xcd8761(0x62a)](_0x394de1[_0xcd8761(0x29a)][_0x563b6e])),_0x394de1[_0xcd8761(0x29a)][_0x563b6e][_0xcd8761(0x7c1)]&&_0xcd8761(0x2c9)in _0x394de1[_0xcd8761(0x29a)][_0x563b6e][_0xcd8761(0x7c1)]){this[_0xcd8761(0x277)][_0xcd8761(0x5bf)](this['instanceName']+'\x20('+this[_0xcd8761(0x5c4)][_0xcd8761(0x6a8)]+_0xcd8761(0x55d));let _0x5af665=JSON[_0xcd8761(0x62a)](_0x394de1[_0xcd8761(0x29a)][_0x563b6e][_0xcd8761(0x7c1)]['header'],null,0x1);_0x5af665[_0xcd8761(0x78e)]>0x2&&(_0x5af665=_0x5af665[_0xcd8761(0x370)](0x1,_0x5af665[_0xcd8761(0x78e)]-0x1)['trim']()),_0x394de1[_0xcd8761(0x29a)][_0x563b6e]['apirequest'][_0xcd8761(0x472)]=_0x5af665;}if(_0x394de1['blocks'][_0x563b6e]['apirequest']&&'body'in _0x394de1[_0xcd8761(0x29a)][_0x563b6e][_0xcd8761(0x7c1)]){this[_0xcd8761(0x277)][_0xcd8761(0x5bf)](this[_0xcd8761(0x532)]+'\x20('+this[_0xcd8761(0x5c4)][_0xcd8761(0x6a8)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString');let _0x1ef9b2=JSON[_0xcd8761(0x62a)](_0x394de1['blocks'][_0x563b6e][_0xcd8761(0x7c1)]['body'],null,0x1);_0x1ef9b2[_0xcd8761(0x78e)]>0x2&&(_0x1ef9b2=_0x1ef9b2[_0xcd8761(0x370)](0x1,_0x1ef9b2[_0xcd8761(0x78e)]-0x1)['trim']()),_0x394de1['blocks'][_0x563b6e][_0xcd8761(0x7c1)][_0xcd8761(0x39c)]=_0x1ef9b2;}let _0x2bff88=_0x394de1['blocks'][_0x563b6e][_0xcd8761(0x318)];_0x54a4de!==_0x2bff88?(this[_0xcd8761(0x5e4)](_0x394de1[_0xcd8761(0x29a)],_0x54a4de),this['reorderBlocks'](_0x394de1['blocks'],_0x2bff88)):this['reorderBlocks'](_0x394de1[_0xcd8761(0x29a)],_0x54a4de);}[a0_0x4ff83f(0x3fd)](_0x597962,_0x221d17){const _0x470f0c=a0_0x4ff83f;if(_0x221d17[_0x470f0c(0x1e3)][_0x470f0c(0x464)]===_0x470f0c(0x7d7)){this[_0x470f0c(0x5ba)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x221d17['block'][_0x470f0c(0x7c1)]&&'header'in _0x221d17[_0x470f0c(0x1e3)][_0x470f0c(0x7c1)]){this[_0x470f0c(0x277)][_0x470f0c(0x5bf)](this['instanceName']+'\x20('+this[_0x470f0c(0x5c4)][_0x470f0c(0x6a8)]+_0x470f0c(0x55d));let _0x2467bc=JSON[_0x470f0c(0x62a)](_0x221d17[_0x470f0c(0x1e3)]['apirequest'][_0x470f0c(0x2c9)],null,0x1);_0x2467bc[_0x470f0c(0x78e)]>0x2&&(_0x2467bc=_0x2467bc['substring'](0x1,_0x2467bc[_0x470f0c(0x78e)]-0x1)['trim']()),_0x221d17['block'][_0x470f0c(0x7c1)][_0x470f0c(0x472)]=_0x2467bc;}_0x221d17[_0x470f0c(0x1e3)][_0x470f0c(0x7c1)]&&_0x470f0c(0x6a6)in _0x221d17['block'][_0x470f0c(0x7c1)]&&(this[_0x470f0c(0x277)][_0x470f0c(0x5bf)](this['instanceName']+'\x20('+this['instance'][_0x470f0c(0x6a8)]+_0x470f0c(0x796)),_0x221d17[_0x470f0c(0x1e3)][_0x470f0c(0x7c1)][_0x470f0c(0x39c)]=JSON[_0x470f0c(0x62a)](_0x221d17[_0x470f0c(0x1e3)]['apirequest'][_0x470f0c(0x6a6)],null,0x1)[_0x470f0c(0x35f)]()),_0x597962['blocks'][_0x470f0c(0x3ed)](_0x221d17[_0x470f0c(0x1e3)]),this[_0x470f0c(0x5e4)](_0x597962[_0x470f0c(0x29a)],_0x221d17[_0x470f0c(0x1e3)][_0x470f0c(0x318)]);}[a0_0x4ff83f(0x5e4)](_0x335a50,_0x544cce){const _0x1ef31c=a0_0x4ff83f;let _0x24ac70=_0x335a50['filter'](_0x301d2b=>_0x301d2b[_0x1ef31c(0x318)]===_0x544cce);_0x24ac70[_0x1ef31c(0x527)]((_0x16e06f,_0x100053)=>_0x16e06f[_0x1ef31c(0x486)]-_0x100053[_0x1ef31c(0x486)]),_0x24ac70['forEach']((_0x3ad46d,_0xaa942a)=>_0x3ad46d[_0x1ef31c(0x486)]=_0xaa942a+0x1);}async[a0_0x4ff83f(0x258)](_0x40743e){const _0x425326=a0_0x4ff83f;try{if(this[_0x425326(0x277)][_0x425326(0x5bf)](this['instanceName']+'\x20('+this[_0x425326(0x5c4)]['wuid']+_0x425326(0x762)),!_0x40743e||!_0x40743e[_0x425326(0x817)]){this[_0x425326(0x5ba)](_0x425326(0x7a4));return;}let _0x3844de=await this['repository'][_0x425326(0x236)][_0x425326(0x64f)]({'where':{'name':_0x40743e[_0x425326(0x1c3)]}},this[_0x425326(0x5c4)]['wuid']);_0x3844de||this[_0x425326(0x5ba)](_0x425326(0x6a9));let {replyOption:_0x2f25a9}=_0x40743e;_0x2f25a9?.[_0x425326(0x335)]?(this[_0x425326(0x5fb)](_0x3844de,_0x40743e),this[_0x425326(0x374)](_0x3844de[_0x425326(0x237)],_0x40743e['replyOption'][_0x425326(0x427)])):_0x2f25a9[_0x425326(0x572)]?(await this['updateReplyOption'](_0x3844de,_0x40743e),this[_0x425326(0x374)](_0x3844de[_0x425326(0x237)],_0x40743e[_0x425326(0x817)][_0x425326(0x427)])):(this[_0x425326(0x591)](_0x3844de,_0x40743e),this[_0x425326(0x374)](_0x3844de[_0x425326(0x237)],_0x40743e[_0x425326(0x817)][_0x425326(0x427)]));let _0x2d3055=await this[_0x425326(0x53b)]['flow'][_0x425326(0x273)](_0x3844de[_0x425326(0x572)],_0x3844de,this[_0x425326(0x5c4)][_0x425326(0x6a8)]);if(_0x2d3055&&_0x2d3055[_0x425326(0x203)]&&_0x2d3055[_0x425326(0x203)]['length']>0x1&&this['synchronizeFlows'](_0x2d3055['_id'],this['instance'][_0x425326(0x6a8)]),!_0x2d3055)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x2d3055;}catch(_0x4160dc){this['throwAndLogError'](_0x425326(0x551)+_0x4160dc);}}['reorderReplyOptions'](_0x36e66b,_0x1f26f3){const _0x56e132=a0_0x4ff83f;console[_0x56e132(0x4b8)](_0x56e132(0x1b6),_0x1f26f3),_0x36e66b['forEach'](_0x1a48df=>{const _0x4c1b0a=_0x56e132;_0x1a48df[_0x4c1b0a(0x427)]===_0x1f26f3&&_0x1a48df[_0x4c1b0a(0x486)]===void 0x0&&(_0x1a48df[_0x4c1b0a(0x486)]=0x270f);});let _0x12418f=_0x36e66b[_0x56e132(0x53c)](_0x4f142a=>_0x4f142a[_0x56e132(0x427)]===_0x1f26f3);_0x12418f[_0x56e132(0x527)]((_0x3a74a2,_0x36dc01)=>_0x3a74a2[_0x56e132(0x486)]-_0x36dc01[_0x56e132(0x486)]),_0x12418f[_0x56e132(0x4bf)]((_0x3e94ff,_0x40d108)=>{const _0x361e83=_0x56e132;_0x3e94ff[_0x361e83(0x486)]=_0x40d108+0x1;}),_0x36e66b[_0x56e132(0x4bf)](_0x16d6fe=>{const _0x423205=_0x56e132;if(_0x16d6fe[_0x423205(0x427)]===_0x1f26f3){let _0x2617a7=_0x12418f[_0x423205(0x678)](_0x423ad5=>_0x423ad5[_0x423205(0x572)]&&_0x16d6fe[_0x423205(0x572)]&&_0x423ad5[_0x423205(0x572)][_0x423205(0x552)]()===_0x16d6fe[_0x423205(0x572)][_0x423205(0x552)]());_0x2617a7&&(_0x16d6fe[_0x423205(0x486)]=_0x2617a7[_0x423205(0x486)]);}}),console[_0x56e132(0x4b8)](_0x56e132(0x279),_0x36e66b);}[a0_0x4ff83f(0x5fb)](_0x43d490,_0x5b72d6){const _0x251464=a0_0x4ff83f;let {replyOption:_0xcdeab6}=_0x5b72d6;if(!_0xcdeab6[_0x251464(0x572)]){this[_0x251464(0x5ba)](_0x251464(0x541));return;}if(!_0x43d490['replyOptions']['find'](_0x11d24a=>_0x11d24a[_0x251464(0x572)][_0x251464(0x552)]()===_0x5b72d6['replyOption']['_id'][_0x251464(0x552)]())){this[_0x251464(0x5ba)]('ReplyOption\x20com\x20ID\x20'+_0xcdeab6[_0x251464(0x572)]+_0x251464(0x76f));return;}_0x43d490[_0x251464(0x237)]=_0x43d490[_0x251464(0x237)]['filter'](_0x24dcc8=>_0x24dcc8[_0x251464(0x572)][_0x251464(0x552)]()!==_0x5b72d6[_0x251464(0x817)][_0x251464(0x572)][_0x251464(0x552)]());}async[a0_0x4ff83f(0x675)](_0x4bb0ce,_0x13f288){const _0x4dc4bb=a0_0x4ff83f;let _0x4f2b7d=_0x4bb0ce['replyOptions']['findIndex'](_0x7dfe34=>_0x7dfe34['_id']['toString']()===_0x13f288[_0x4dc4bb(0x817)][_0x4dc4bb(0x572)][_0x4dc4bb(0x552)]());if(_0x4f2b7d===-0x1){this[_0x4dc4bb(0x5ba)](_0x4dc4bb(0x6a2)+_0x13f288['replyOption']['_id']+_0x4dc4bb(0x5ff));return;}for(let _0x4e3cc0 in _0x13f288[_0x4dc4bb(0x817)])_0x13f288['replyOption'][_0x4dc4bb(0x50e)](_0x4e3cc0)&&(_0x4bb0ce[_0x4dc4bb(0x237)][_0x4f2b7d][_0x4e3cc0]=_0x13f288[_0x4dc4bb(0x817)][_0x4e3cc0]);}[a0_0x4ff83f(0x591)](_0x4eca2c,_0x49d970){const _0x239b46=a0_0x4ff83f;_0x4eca2c[_0x239b46(0x237)]['push'](_0x49d970[_0x239b46(0x817)]);}async[a0_0x4ff83f(0x295)](_0x271b21){const _0xe42bbf=a0_0x4ff83f;this[_0xe42bbf(0x277)][_0xe42bbf(0x5bf)](this[_0xe42bbf(0x532)]+'\x20('+this[_0xe42bbf(0x5c4)]['wuid']+_0xe42bbf(0x2b8)+_0x271b21);try{this['logger'][_0xe42bbf(0x5bf)](this[_0xe42bbf(0x532)]+'\x20('+this[_0xe42bbf(0x5c4)][_0xe42bbf(0x6a8)]+_0xe42bbf(0x814));let _0x4e8eba=await this[_0xe42bbf(0x53b)]['flow'][_0xe42bbf(0x64f)]({'where':{'name':_0x271b21[_0xe42bbf(0x1c3)]}},this[_0xe42bbf(0x5c4)][_0xe42bbf(0x6a8)]);if(!_0x4e8eba)throw new Error('Flow\x20não\x20encontrado');if(_0x271b21[_0xe42bbf(0x6d2)]&&_0x271b21[_0xe42bbf(0x6d2)]?.['delete']===!0x0){if(this[_0xe42bbf(0x277)][_0xe42bbf(0x5bf)](this[_0xe42bbf(0x532)]+'\x20('+this['instance']['wuid']+'):\x20delete\x20=\x20true'),_0x271b21['group'][_0xe42bbf(0x604)]===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x4e8eba[_0xe42bbf(0x29a)]['some'](_0x3e163f=>_0x3e163f[_0xe42bbf(0x318)]['toString']()===_0x271b21[_0xe42bbf(0x6d2)]['_id']))return this[_0xe42bbf(0x277)][_0xe42bbf(0x5bf)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xe42bbf(0x56f)),{'message':_0xe42bbf(0x6bd)};_0x4e8eba[_0xe42bbf(0x271)]=_0x4e8eba[_0xe42bbf(0x271)][_0xe42bbf(0x53c)](_0x19b485=>_0x19b485[_0xe42bbf(0x572)][_0xe42bbf(0x552)]()!==_0x271b21[_0xe42bbf(0x6d2)][_0xe42bbf(0x572)]);}else{if(_0x271b21[_0xe42bbf(0x6d2)]){if(_0x271b21[_0xe42bbf(0x6d2)][_0xe42bbf(0x604)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x271b21[_0xe42bbf(0x6d2)]['_id']){let _0x4d4062=_0x4e8eba['groups'][_0xe42bbf(0x678)](_0x1d6f41=>_0x1d6f41[_0xe42bbf(0x572)]['toString']()===_0x271b21[_0xe42bbf(0x6d2)][_0xe42bbf(0x572)]);_0x4d4062&&(_0x271b21[_0xe42bbf(0x6d2)]['x']<0x0&&(_0x271b21[_0xe42bbf(0x6d2)]['x']=0x0),_0x271b21[_0xe42bbf(0x6d2)]['y']<0x0&&(_0x271b21[_0xe42bbf(0x6d2)]['y']=0x0),Object[_0xe42bbf(0x2dc)](_0x4d4062,_0x271b21['group']));}else _0x4e8eba[_0xe42bbf(0x271)][_0xe42bbf(0x3ed)](_0x271b21[_0xe42bbf(0x6d2)]);}}let _0x5d9b9f=await this[_0xe42bbf(0x53b)]['flow']['updateOne'](_0x4e8eba[_0xe42bbf(0x572)],_0x4e8eba,this[_0xe42bbf(0x5c4)][_0xe42bbf(0x6a8)]);if(_0x5d9b9f&&_0x5d9b9f['shareOwners']&&_0x5d9b9f[_0xe42bbf(0x203)]['length']>0x1&&this[_0xe42bbf(0x333)](_0x5d9b9f[_0xe42bbf(0x572)],this['instance']['wuid']),!_0x5d9b9f)throw new Error(_0xe42bbf(0x822));return _0x5d9b9f;}catch(_0x591c0f){throw this[_0xe42bbf(0x277)][_0xe42bbf(0x57f)](this[_0xe42bbf(0x532)]+'\x20('+this['instance'][_0xe42bbf(0x6a8)]+_0xe42bbf(0x3da)+(_0x591c0f instanceof Error?_0x591c0f[_0xe42bbf(0x41d)]:JSON[_0xe42bbf(0x62a)](_0x591c0f,null,0x2))),new m(_0xe42bbf(0x5d0)+(_0x591c0f instanceof Error?_0x591c0f[_0xe42bbf(0x41d)]:JSON[_0xe42bbf(0x62a)](_0x591c0f,null,0x2)));}}async[a0_0x4ff83f(0x213)](_0x5e9723){const _0x4837a8=a0_0x4ff83f;try{this[_0x4837a8(0x277)][_0x4837a8(0x5bf)](this[_0x4837a8(0x532)]+'\x20('+this['instance'][_0x4837a8(0x6a8)]+_0x4837a8(0x5f0));let _0x2afac6=await this['repository'][_0x4837a8(0x236)][_0x4837a8(0x64f)]({'where':{'name':_0x5e9723[_0x4837a8(0x1c3)]}},this[_0x4837a8(0x5c4)][_0x4837a8(0x6a8)]);if(!_0x2afac6)throw new Error(_0x4837a8(0x6a9));let _0x4dbd2d=!0x1;if(_0x5e9723[_0x4837a8(0x518)]?.[_0x4837a8(0x335)]===!0x0)_0x2afac6['conditions']=_0x2afac6[_0x4837a8(0x3e2)][_0x4837a8(0x53c)](_0x3a6818=>_0x3a6818&&_0x5e9723[_0x4837a8(0x518)]&&_0x3a6818[_0x4837a8(0x572)]&&_0x5e9723[_0x4837a8(0x518)][_0x4837a8(0x572)]&&_0x3a6818[_0x4837a8(0x572)]['toString']()!==_0x5e9723[_0x4837a8(0x518)]['_id'][_0x4837a8(0x552)]()),_0x4dbd2d=!0x0;else{let _0x176195=_0x2afac6['conditions'][_0x4837a8(0x678)](_0x334b8b=>_0x334b8b&&_0x5e9723[_0x4837a8(0x518)]&&_0x334b8b[_0x4837a8(0x572)]&&_0x5e9723[_0x4837a8(0x518)]['_id']&&_0x334b8b[_0x4837a8(0x572)]['toString']()===_0x5e9723[_0x4837a8(0x518)]['_id'][_0x4837a8(0x552)]());_0x176195?(_0x4dbd2d=_0x176195[_0x4837a8(0x486)]!==_0x5e9723[_0x4837a8(0x518)]['order'],Object['assign'](_0x176195,_0x5e9723[_0x4837a8(0x518)])):(_0x2afac6['conditions'][_0x4837a8(0x3ed)](_0x5e9723['condition']),_0x4dbd2d=!0x0);}if(_0x4dbd2d){_0x2afac6[_0x4837a8(0x3e2)][_0x4837a8(0x527)]((_0x11d5f9,_0x5c8b5f)=>_0x11d5f9[_0x4837a8(0x486)]>_0x5c8b5f['order']?0x1:_0x5c8b5f[_0x4837a8(0x486)]>_0x11d5f9['order']?-0x1:0x0);for(let _0x36d57f=0x0;_0x36d57f<_0x2afac6[_0x4837a8(0x3e2)][_0x4837a8(0x78e)];_0x36d57f++)_0x2afac6[_0x4837a8(0x3e2)][_0x36d57f]['order']=_0x36d57f+0x1;_0x2afac6['conditions'][_0x4837a8(0x78e)]>0x0&&(_0x2afac6[_0x4837a8(0x3e2)][0x0][_0x4837a8(0x659)]=_0x4837a8(0x72f));}let _0x4334ea=await this[_0x4837a8(0x53b)]['flow'][_0x4837a8(0x273)](_0x2afac6[_0x4837a8(0x572)],_0x2afac6,this[_0x4837a8(0x5c4)][_0x4837a8(0x6a8)]);if(_0x4334ea&&_0x4334ea[_0x4837a8(0x203)]&&_0x4334ea[_0x4837a8(0x203)][_0x4837a8(0x78e)]>0x1&&this['synchronizeFlows'](_0x4334ea['_id'],this['instance'][_0x4837a8(0x6a8)]),!_0x4334ea)throw new Error(_0x4837a8(0x822));return _0x4334ea;}catch(_0x15205c){throw this[_0x4837a8(0x277)][_0x4837a8(0x57f)](this['instanceName']+'\x20('+this['instance'][_0x4837a8(0x6a8)]+_0x4837a8(0x242)+(_0x15205c instanceof Error?_0x15205c[_0x4837a8(0x41d)]:JSON['stringify'](_0x15205c,null,0x2))),new Error('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x15205c instanceof Error?_0x15205c['message']:JSON['stringify'](_0x15205c,null,0x2)));}}async[a0_0x4ff83f(0x30a)](_0x50cdd5){const _0x566a8d=a0_0x4ff83f;try{this[_0x566a8d(0x277)]['verbose'](this[_0x566a8d(0x532)]+'\x20('+this[_0x566a8d(0x5c4)][_0x566a8d(0x6a8)]+_0x566a8d(0x229));let _0x482e57=await this['repository'][_0x566a8d(0x236)][_0x566a8d(0x64f)]({'where':{'name':_0x50cdd5['name']}},this[_0x566a8d(0x5c4)]['wuid']);if(!_0x482e57)throw new Error(_0x566a8d(0x6a9));let _0x245212=!0x1;if(_0x50cdd5[_0x566a8d(0x30f)]?.['delete']===!0x0)_0x482e57[_0x566a8d(0x650)]=_0x482e57[_0x566a8d(0x650)][_0x566a8d(0x53c)](_0x24c491=>_0x24c491&&_0x50cdd5[_0x566a8d(0x30f)]&&_0x24c491[_0x566a8d(0x572)]&&_0x50cdd5[_0x566a8d(0x30f)][_0x566a8d(0x572)]&&_0x24c491[_0x566a8d(0x572)]['toString']()!==_0x50cdd5[_0x566a8d(0x30f)]['_id'][_0x566a8d(0x552)]()),_0x245212=!0x0;else{let _0x40a1f5=_0x482e57[_0x566a8d(0x650)]['find'](_0xcf74d8=>_0xcf74d8&&_0x50cdd5[_0x566a8d(0x30f)]&&_0xcf74d8[_0x566a8d(0x572)]&&_0x50cdd5['varedit']['_id']&&_0xcf74d8[_0x566a8d(0x572)][_0x566a8d(0x552)]()===_0x50cdd5[_0x566a8d(0x30f)][_0x566a8d(0x572)][_0x566a8d(0x552)]());_0x40a1f5?(_0x245212=_0x40a1f5[_0x566a8d(0x486)]!==_0x50cdd5[_0x566a8d(0x30f)][_0x566a8d(0x486)],Object[_0x566a8d(0x2dc)](_0x40a1f5,_0x50cdd5[_0x566a8d(0x30f)])):(_0x482e57[_0x566a8d(0x650)]['push'](_0x50cdd5[_0x566a8d(0x30f)]),_0x245212=!0x0);}if(_0x245212){_0x482e57[_0x566a8d(0x650)][_0x566a8d(0x527)]((_0xb5a15b,_0x5783c3)=>_0xb5a15b['order']>_0x5783c3[_0x566a8d(0x486)]?0x1:_0x5783c3[_0x566a8d(0x486)]>_0xb5a15b[_0x566a8d(0x486)]?-0x1:0x0);for(let _0x5cc626=0x0;_0x5cc626<_0x482e57[_0x566a8d(0x650)][_0x566a8d(0x78e)];_0x5cc626++)_0x482e57[_0x566a8d(0x650)][_0x5cc626]['order']=_0x5cc626+0x1;}let _0x46e5c9=await this[_0x566a8d(0x53b)]['flow'][_0x566a8d(0x273)](_0x482e57[_0x566a8d(0x572)],_0x482e57,this[_0x566a8d(0x5c4)][_0x566a8d(0x6a8)]);if(_0x46e5c9&&_0x46e5c9[_0x566a8d(0x203)]&&_0x46e5c9[_0x566a8d(0x203)]['length']>0x1&&this[_0x566a8d(0x333)](_0x46e5c9[_0x566a8d(0x572)],this['instance']['wuid']),!_0x46e5c9)throw new Error(_0x566a8d(0x822));return _0x46e5c9;}catch(_0x5cc3f2){throw this[_0x566a8d(0x277)][_0x566a8d(0x57f)](this['instanceName']+'\x20('+this['instance'][_0x566a8d(0x6a8)]+_0x566a8d(0x242)+(_0x5cc3f2 instanceof Error?_0x5cc3f2[_0x566a8d(0x41d)]:JSON[_0x566a8d(0x62a)](_0x5cc3f2,null,0x2))),new m(_0x566a8d(0x59f)+(_0x5cc3f2 instanceof Error?_0x5cc3f2['message']:JSON['stringify'](_0x5cc3f2,null,0x2)));}}async[a0_0x4ff83f(0x500)](_0x565c4b){const _0x5322c1=a0_0x4ff83f;try{this[_0x5322c1(0x277)][_0x5322c1(0x5bf)](this[_0x5322c1(0x532)]+'\x20('+this[_0x5322c1(0x5c4)][_0x5322c1(0x6a8)]+'):\x20Editando\x20variável\x20do\x20fluxo...');let _0x43f44d=await this[_0x5322c1(0x53b)]['flow']['findOne']({'where':{'name':_0x565c4b[_0x5322c1(0x1c3)]}},this['instance'][_0x5322c1(0x6a8)]);if(!_0x43f44d)throw new Error(_0x5322c1(0x6a9));_0x565c4b[_0x5322c1(0x439)][_0x5322c1(0x1c3)]=_0x565c4b['variable'][_0x5322c1(0x1c3)][_0x5322c1(0x35f)](),_0x565c4b[_0x5322c1(0x439)][_0x5322c1(0x1c3)]['startsWith']('_')&&(_0x565c4b[_0x5322c1(0x439)][_0x5322c1(0x1c3)]=_0x565c4b[_0x5322c1(0x439)]['name'][_0x5322c1(0x370)](0x1)),_0x565c4b[_0x5322c1(0x439)][_0x5322c1(0x1c3)]=_0x565c4b[_0x5322c1(0x439)][_0x5322c1(0x1c3)]['trim']();let _0x378a0d=_0x43f44d['variables']['find'](_0x53f2a4=>_0x53f2a4[_0x5322c1(0x1c3)]===_0x565c4b[_0x5322c1(0x439)]['name']);if(_0x378a0d?.[_0x5322c1(0x1be)]===!0x0)throw new Error(_0x5322c1(0x2f1));if(_0x565c4b[_0x5322c1(0x439)]?.[_0x5322c1(0x335)]===!0x0){if(!_0x378a0d)return{'message':_0x5322c1(0x23e)};_0x43f44d['variables']=_0x43f44d[_0x5322c1(0x4a4)]['filter'](_0x13c67f=>_0x13c67f[_0x5322c1(0x1c3)]!==_0x565c4b[_0x5322c1(0x439)][_0x5322c1(0x1c3)]);}else _0x378a0d?Object['assign'](_0x378a0d,_0x565c4b[_0x5322c1(0x439)]):_0x43f44d[_0x5322c1(0x4a4)][_0x5322c1(0x3ed)](_0x565c4b[_0x5322c1(0x439)]);let _0x11fb62=await this[_0x5322c1(0x53b)][_0x5322c1(0x236)][_0x5322c1(0x273)](_0x43f44d['_id'],_0x43f44d,this[_0x5322c1(0x5c4)][_0x5322c1(0x6a8)]);if(_0x11fb62&&_0x11fb62['shareOwners']&&_0x11fb62[_0x5322c1(0x203)][_0x5322c1(0x78e)]>0x1&&this[_0x5322c1(0x333)](_0x11fb62[_0x5322c1(0x572)],this[_0x5322c1(0x5c4)][_0x5322c1(0x6a8)]),!_0x11fb62)throw new Error(_0x5322c1(0x822));return _0x11fb62;}catch(_0x210566){throw this['logger']['error'](this[_0x5322c1(0x532)]+'\x20('+this[_0x5322c1(0x5c4)][_0x5322c1(0x6a8)]+_0x5322c1(0x57d)+(_0x210566 instanceof Error?_0x210566['message']:JSON[_0x5322c1(0x62a)](_0x210566,null,0x2))),new m('Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+(_0x210566 instanceof Error?_0x210566[_0x5322c1(0x41d)]:JSON['stringify'](_0x210566,null,0x2)));}}async[a0_0x4ff83f(0x5c8)](_0x5dcd3c){const _0xf22323=a0_0x4ff83f;let _0x5a526b=null;try{if(!this[_0xf22323(0x1b1)]?.[_0xf22323(0x180)][_0xf22323(0x722)])throw new m(_0xf22323(0x59d));this['logger'][_0xf22323(0x5bf)](this['instanceName']+'\x20('+this['instance'][_0xf22323(0x6a8)]+_0xf22323(0x77f));let _0x2c82b9=(await this[_0xf22323(0x6ff)]({'numbers':[_0x5dcd3c[_0xf22323(0x246)]]}))[0x0];if(!_0x2c82b9[_0xf22323(0x68d)]&&!(0x0,g['isJidGroup'])(_0x2c82b9[_0xf22323(0x4d6)])&&!_0x2c82b9[_0xf22323(0x4d6)][_0xf22323(0x713)](_0xf22323(0x4ed)))throw _0x5a526b=JSON[_0xf22323(0x62a)](_0x2c82b9,null,0x2),new m(_0x2c82b9);let _0x5abe18=await this['repository'][_0xf22323(0x236)][_0xf22323(0x64f)]({'where':{'name':_0x5dcd3c['name']}},this[_0xf22323(0x5c4)][_0xf22323(0x6a8)]);if(!_0x5abe18)return this[_0xf22323(0x277)][_0xf22323(0x57f)](this[_0xf22323(0x532)]+'\x20('+this[_0xf22323(0x5c4)]['wuid']+'):\x20Flow\x20não\x20encontrado'),{'message':_0xf22323(0x6a9)};let _0x4d9197=await this[_0xf22323(0x63c)](_0x5abe18,_0x2c82b9[_0xf22323(0x4d6)],_0x5dcd3c[_0xf22323(0x324)]);if(_0x4d9197){this[_0xf22323(0x277)]['verbose'](this[_0xf22323(0x532)]+'\x20('+this[_0xf22323(0x5c4)][_0xf22323(0x6a8)]+'):\x20Criou\x20conversa\x20no\x20startFlow:');let _0xb7fb8b=await this[_0xf22323(0x313)](_0x4d9197);return _0xb7fb8b&&await this[_0xf22323(0x31b)](_0x4d9197,_0xb7fb8b),{'message':_0xf22323(0x5e6)+_0x5dcd3c[_0xf22323(0x246)]};}}catch(_0x5222a8){if(this[_0xf22323(0x277)]['error'](this[_0xf22323(0x532)]+'\x20('+this[_0xf22323(0x5c4)][_0xf22323(0x6a8)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x5222a8 instanceof Error?_0x5222a8[_0xf22323(0x41d)]:JSON[_0xf22323(0x62a)](_0x5222a8,null,0x2))),_0x5a526b=_0x5222a8 instanceof Error?_0x5222a8['message']:JSON[_0xf22323(0x62a)](_0x5222a8,null,0x2),_0x5a526b)throw new m(_0xf22323(0x73e)+_0x5a526b);}}async[a0_0x4ff83f(0x22b)](_0x434775){const _0x127cad=a0_0x4ff83f;try{let _0x30e330={'remoteJid':_0x434775,'status':_0x127cad(0x6f0)},_0x336fd7={'status':_0x127cad(0x5de)},_0x4773cd=await this[_0x127cad(0x53b)]['flowConversation'][_0x127cad(0x3e3)](_0x30e330,_0x336fd7,this[_0x127cad(0x5c4)]['wuid']);return this['logger'][_0x127cad(0x5bf)](this[_0x127cad(0x532)]+'\x20('+this[_0x127cad(0x5c4)][_0x127cad(0x6a8)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x4773cd;}catch(_0x2d036d){throw this[_0x127cad(0x277)][_0x127cad(0x57f)](this['instanceName']+'\x20('+this['instance'][_0x127cad(0x6a8)]+_0x127cad(0x2e3)+_0x2d036d[_0x127cad(0x41d)]),_0x2d036d;}}async[a0_0x4ff83f(0x63c)](_0x5a76b1,_0x12404c,_0x200f3f){const _0x109e32=a0_0x4ff83f;this[_0x109e32(0x277)]['verbose'](this[_0x109e32(0x532)]+'\x20('+this[_0x109e32(0x5c4)][_0x109e32(0x6a8)]+_0x109e32(0x752)),await this[_0x109e32(0x22b)](_0x12404c);try{let _0x3453be=require('mongodb')[_0x109e32(0x3c0)],_0x3ba4b0=Date[_0x109e32(0x7fe)](),_0x49046f=_0x109e32(0x7d7),_0x317698={},_0x4f2801={},_0x52f57f={..._0x5a76b1,'chatLog':null},_0x46e037=await this[_0x109e32(0x398)](_0x52f57f['variables']),_0x5d1515=await this[_0x109e32(0x2fd)](_0x12404c),_0xdd88cc={..._0x46e037,..._0x5d1515,'_remoteJid':_0x12404c},_0x5a5899={'lastReceivedMessage':_0x317698,'lastSendMessage':_0x4f2801,'lastBlockId':_0x49046f,'lastCondition':!0x0,'realVariables':_0xdd88cc};_0x52f57f[_0x109e32(0x54e)]=_0x5a5899,_0x52f57f[_0x109e32(0x54e)]['realVariables']={..._0xdd88cc,..._0x200f3f},delete _0x52f57f[_0x109e32(0x572)],_0x52f57f[_0x109e32(0x572)]=new _0x3453be(),_0x52f57f[_0x109e32(0x3e9)]=_0x3ba4b0,_0x52f57f['status']='open',_0x52f57f[_0x109e32(0x246)]=_0x12404c;let _0x42bab3=await this[_0x109e32(0x53b)][_0x109e32(0x239)][_0x109e32(0x273)](_0x52f57f[_0x109e32(0x572)],_0x52f57f,this[_0x109e32(0x5c4)][_0x109e32(0x6a8)]);return this[_0x109e32(0x277)]['verbose'](this['instanceName']+'\x20('+this[_0x109e32(0x5c4)][_0x109e32(0x6a8)]+_0x109e32(0x629)),_0x42bab3?_0x52f57f:null;}catch(_0x4281ab){throw this['logger'][_0x109e32(0x57f)](this[_0x109e32(0x532)]+'\x20('+this['instance'][_0x109e32(0x6a8)]+_0x109e32(0x2b2)+(_0x4281ab instanceof Error?_0x4281ab[_0x109e32(0x41d)]:JSON['stringify'](_0x4281ab,null,0x2))),new m(_0x4281ab[_0x109e32(0x41d)]);}}async[a0_0x4ff83f(0x7f6)](_0x5338db){const _0x2a1cb6=a0_0x4ff83f;try{this['logger'][_0x2a1cb6(0x5bf)](this[_0x2a1cb6(0x532)]+'\x20('+this[_0x2a1cb6(0x5c4)][_0x2a1cb6(0x6a8)]+'):\x20Buscando\x20conversa...'),this['logger'][_0x2a1cb6(0x5bf)](this[_0x2a1cb6(0x532)]+'\x20('+this[_0x2a1cb6(0x5c4)][_0x2a1cb6(0x6a8)]+_0x2a1cb6(0x297)+_0x5338db);let _0x483196={'where':{'_id':_0x5338db}};return await this[_0x2a1cb6(0x53b)][_0x2a1cb6(0x239)]['findOne'](_0x483196,this[_0x2a1cb6(0x5c4)][_0x2a1cb6(0x6a8)]);}catch(_0x108bae){throw this[_0x2a1cb6(0x277)][_0x2a1cb6(0x57f)](this[_0x2a1cb6(0x532)]+'\x20('+this[_0x2a1cb6(0x5c4)][_0x2a1cb6(0x6a8)]+_0x2a1cb6(0x73b)+(_0x108bae instanceof Error?_0x108bae[_0x2a1cb6(0x41d)]:JSON[_0x2a1cb6(0x62a)](_0x108bae,null,0x2))),new m(_0x2a1cb6(0x620)+_0x108bae[_0x2a1cb6(0x41d)]);}}async[a0_0x4ff83f(0x614)](_0x1eb8a1){const _0x2bc20d=a0_0x4ff83f;try{return this['logger'][_0x2bc20d(0x5bf)](this[_0x2bc20d(0x532)]+'\x20('+this[_0x2bc20d(0x5c4)][_0x2bc20d(0x6a8)]+_0x2bc20d(0x765)),await this['repository']['flowConversation'][_0x2bc20d(0x678)](_0x1eb8a1,this[_0x2bc20d(0x5c4)]['wuid']);}catch(_0x33d58c){throw this[_0x2bc20d(0x277)][_0x2bc20d(0x57f)](this[_0x2bc20d(0x532)]+'\x20('+this['instance'][_0x2bc20d(0x6a8)]+_0x2bc20d(0x407)+(_0x33d58c instanceof Error?_0x33d58c[_0x2bc20d(0x41d)]:JSON['stringify'](_0x33d58c,null,0x2))),new m(_0x2bc20d(0x653)+_0x33d58c[_0x2bc20d(0x41d)]);}}async[a0_0x4ff83f(0x547)](_0x353a71){const _0x5aaad6=a0_0x4ff83f;try{return this[_0x5aaad6(0x277)][_0x5aaad6(0x5bf)](this[_0x5aaad6(0x532)]+'\x20('+this[_0x5aaad6(0x5c4)][_0x5aaad6(0x6a8)]+_0x5aaad6(0x4a8)),this[_0x5aaad6(0x277)][_0x5aaad6(0x5bf)](this[_0x5aaad6(0x532)]+'\x20('+this[_0x5aaad6(0x5c4)]['wuid']+_0x5aaad6(0x189)+_0x353a71),(await this[_0x5aaad6(0x53b)][_0x5aaad6(0x239)]['deleteOne']({'where':{'_id':_0x353a71}},this['instance'][_0x5aaad6(0x6a8)]))['deletedCount']===0x0?{'message':_0x5aaad6(0x28d)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x5787d1){throw this['logger'][_0x5aaad6(0x57f)](this['instanceName']+'\x20('+this[_0x5aaad6(0x5c4)][_0x5aaad6(0x6a8)]+_0x5aaad6(0x575)+(_0x5787d1 instanceof Error?_0x5787d1[_0x5aaad6(0x41d)]:JSON[_0x5aaad6(0x62a)](_0x5787d1,null,0x2))),new m('Erro\x20ao\x20deletar\x20a\x20conversa:\x20'+_0x5787d1[_0x5aaad6(0x41d)]);}}async[a0_0x4ff83f(0x747)](_0x326403){const _0x4c49cc=a0_0x4ff83f;try{let {_id:_0x110030,chatLog:_0x5ad193,status:_0x104a5b}=_0x326403;if(!_0x110030)return{'message':_0x4c49cc(0x5bd)};let _0x310fbf={};if(_0x104a5b!==void 0x0&&(_0x310fbf[_0x4c49cc(0x728)]=_0x104a5b),Object['keys'](_0x310fbf)['length']===0x0)return{'message':_0x4c49cc(0x7d6)};let _0x417506=await this[_0x4c49cc(0x53b)][_0x4c49cc(0x239)][_0x4c49cc(0x273)](_0x110030,_0x310fbf,this[_0x4c49cc(0x5c4)][_0x4c49cc(0x6a8)]);return _0x417506||{'message':_0x4c49cc(0x704)};}catch(_0x30f758){throw this[_0x4c49cc(0x277)]['error'](this[_0x4c49cc(0x532)]+'\x20('+this[_0x4c49cc(0x5c4)][_0x4c49cc(0x6a8)]+_0x4c49cc(0x673)+(_0x30f758 instanceof Error?_0x30f758[_0x4c49cc(0x41d)]:JSON[_0x4c49cc(0x62a)](_0x30f758,null,0x2))),new m(_0x4c49cc(0x504)+_0x30f758[_0x4c49cc(0x41d)]);}}async[a0_0x4ff83f(0x699)](_0x25e472){const _0x31d244=a0_0x4ff83f;let _0x51ed13=await this['repository']['chat']['findOne']({'where':{'_id':_0x25e472[_0x31d244(0x572)]}},this[_0x31d244(0x5c4)]['wuid']);if(!_0x51ed13)throw new m(_0x31d244(0x7fa));console[_0x31d244(0x4b8)](_0x25e472);try{_0x25e472[_0x31d244(0x572)]=this[_0x31d244(0x321)](_0x25e472[_0x31d244(0x572)]);let {_id:_0x2ff47d,leadInfo:_0x331cc3}=_0x25e472;if(!_0x2ff47d)throw new Error(_0x31d244(0x420));let _0xd2d40c=(_0xa44a30,_0x156512,_0x5e3e6d)=>{const _0x195526=_0x31d244;_0xa44a30&&_0x5e3e6d[_0x195526(0x4bf)](_0x4579e0=>{const _0x47529d=_0x195526;_0xa44a30[_0x4579e0]!==void 0x0&&(_0x156512[_0x47529d(0x613)+_0x4579e0]=_0xa44a30[_0x4579e0]);});},_0x191a48={};if(_0x331cc3&&(_0xd2d40c(_0x331cc3,_0x191a48,['nome',_0x31d244(0x460),'email',_0x31d244(0x5aa),_0x31d244(0x728),_0x31d244(0x221),'tags',_0x31d244(0x417),_0x31d244(0x821),_0x31d244(0x61b)]),Array[_0x31d244(0x447)](_0x331cc3[_0x31d244(0x380)])&&(_0x191a48[_0x31d244(0x719)]=_0x331cc3['customFields']['map'](_0x14b6a3=>({'_id':_0x14b6a3[_0x31d244(0x572)],'value':_0x14b6a3['value']}))),_0x25e472[_0x31d244(0x1be)]['etiquetas']!==void 0x0)){let _0x55613e=await this['repository']['label'][_0x31d244(0x678)]({'where':{}},this[_0x31d244(0x5c4)]['wuid']),_0x42a36b=new Set(_0x25e472['leadInfo'][_0x31d244(0x61b)]||[]),_0x20123b=new Set(_0x25e472[_0x31d244(0x1be)]['etiquetas']),_0x3fd591=new Set(_0x55613e[_0x31d244(0x5c3)](_0x46bec9=>_0x46bec9['_id'])),_0xfb4076=[..._0x20123b]['filter'](_0x4372d8=>!_0x42a36b[_0x31d244(0x65b)](_0x4372d8)&&_0x3fd591[_0x31d244(0x65b)](_0x4372d8)),_0x347257=[..._0x42a36b][_0x31d244(0x53c)](_0x8b042c=>!_0x20123b['has'](_0x8b042c));if(_0x191a48[_0x31d244(0x459)]=[..._0x42a36b],_0x51ed13&&!_0x51ed13[_0x31d244(0x626)]){for(let _0x4dcc40 of _0xfb4076)await this[_0x31d244(0x2df)](_0x4dcc40,_0x25e472[_0x31d244(0x572)]),_0x42a36b['add'](_0x4dcc40);for(let _0x28145d of _0x347257)await this[_0x31d244(0x25d)](_0x28145d,_0x25e472[_0x31d244(0x572)]),_0x42a36b[_0x31d244(0x335)](_0x28145d);}}if(_0x25e472['unreadcount']!==void 0x0&&(_0x191a48[_0x31d244(0x1b0)]=Number(_0x25e472[_0x31d244(0x1b0)])),Object[_0x31d244(0x356)](_0x191a48)[_0x31d244(0x78e)]===0x0)throw new Error(_0x31d244(0x7d6));let _0x4d3e10=await this['repository'][_0x31d244(0x7b0)]['updateOne']({'where':{'_id':_0x25e472[_0x31d244(0x572)]}},_0x191a48,this[_0x31d244(0x5c4)]['wuid']);return _0x4d3e10&&q(this[_0x31d244(0x532)],_0x31d244(0x7ae),{'chat':_0x4d3e10}),_0x4d3e10?(this[_0x31d244(0x277)][_0x31d244(0x5bf)](this[_0x31d244(0x532)]+'\x20('+this[_0x31d244(0x5c4)][_0x31d244(0x6a8)]+'):\x20'+JSON[_0x31d244(0x62a)](_0x4d3e10,null,0x2)),_0x4d3e10):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x473d13){throw this[_0x31d244(0x277)][_0x31d244(0x57f)](this[_0x31d244(0x532)]+'\x20('+this[_0x31d244(0x5c4)][_0x31d244(0x6a8)]+_0x31d244(0x537)+(_0x473d13 instanceof Error?_0x473d13[_0x31d244(0x41d)]:JSON[_0x31d244(0x62a)](_0x473d13,null,0x2))),new m(_0x31d244(0x69f)+_0x473d13[_0x31d244(0x41d)]);}}async[a0_0x4ff83f(0x2df)](_0x3518e1,_0x1bc9d2){const _0x33d997=a0_0x4ff83f;try{await this[_0x33d997(0x4ae)]['addChatLabel'](_0x1bc9d2,_0x3518e1),console[_0x33d997(0x4b8)](_0x33d997(0x3dc)+_0x3518e1+_0x33d997(0x1b5)+_0x1bc9d2+'\x20com\x20sucesso.');}catch(_0x2ff2d8){console[_0x33d997(0x57f)](_0x33d997(0x2af)+_0x3518e1+_0x33d997(0x32a)+_0x1bc9d2+':',_0x2ff2d8);}}async[a0_0x4ff83f(0x25d)](_0x4ca858,_0x290c50){const _0x555e63=a0_0x4ff83f;try{await this['client'][_0x555e63(0x5f4)](_0x290c50,_0x4ca858),console[_0x555e63(0x4b8)](_0x555e63(0x3dc)+_0x4ca858+'\x20removido\x20do\x20chat\x20'+_0x290c50+_0x555e63(0x2dd));}catch(_0xcf30a6){console[_0x555e63(0x57f)](_0x555e63(0x5a0)+_0x4ca858+_0x555e63(0x451)+_0x290c50+':',_0xcf30a6);}}async[a0_0x4ff83f(0x3e5)](_0x574f48){const _0x22bb34=a0_0x4ff83f;try{let _0x7af3f4=await this[_0x22bb34(0x53b)][_0x22bb34(0x2f8)][_0x22bb34(0x426)](this['instance'][_0x22bb34(0x6a8)]),_0x385cdf=_0x574f48[_0x22bb34(0x572)]?_0x7af3f4[_0x22bb34(0x25c)][_0x22bb34(0x1f3)](_0x457618=>_0x457618['_id']===_0x574f48['_id']):-0x1;if(_0x574f48[_0x22bb34(0x335)]&&_0x385cdf>-0x1)_0x7af3f4[_0x22bb34(0x25c)][_0x22bb34(0x49a)](_0x385cdf,0x1);else{if(_0x385cdf>-0x1){let _0x2a8ee8=_0x7af3f4[_0x22bb34(0x25c)][_0x385cdf];_0x574f48[_0x22bb34(0x3f4)]&&(_0x2a8ee8[_0x22bb34(0x3f4)]=_0x574f48[_0x22bb34(0x3f4)]),_0x574f48['name']&&(_0x2a8ee8[_0x22bb34(0x1c3)]=_0x574f48[_0x22bb34(0x1c3)]),_0x574f48[_0x22bb34(0x72e)]&&(_0x2a8ee8[_0x22bb34(0x72e)]=_0x574f48['email']),_0x574f48[_0x22bb34(0x77e)]&&(_0x2a8ee8['role']=_0x574f48[_0x22bb34(0x77e)]);}else _0x7af3f4[_0x22bb34(0x25c)][_0x22bb34(0x3ed)]({'_id':_0x574f48[_0x22bb34(0x572)]||new oe[(_0x22bb34(0x604))][(_0x22bb34(0x346))]['ObjectId']()['toString'](),'fone':_0x574f48[_0x22bb34(0x3f4)],'name':_0x574f48[_0x22bb34(0x1c3)],'email':_0x574f48[_0x22bb34(0x72e)],'role':_0x574f48[_0x22bb34(0x77e)]});}let _0x2b602b={'agents':_0x7af3f4[_0x22bb34(0x25c)]},_0xb2edba=await this['repository'][_0x22bb34(0x2f8)][_0x22bb34(0x416)](_0x2b602b,this['instance']['wuid']);return this['AutomateSystem']=_0xb2edba,this[_0x22bb34(0x277)]['verbose'](this[_0x22bb34(0x532)]+'\x20('+this['instance'][_0x22bb34(0x6a8)]+_0x22bb34(0x3b8)),this[_0x22bb34(0x277)][_0x22bb34(0x5bf)](this[_0x22bb34(0x532)]+'\x20('+this[_0x22bb34(0x5c4)][_0x22bb34(0x6a8)]+_0x22bb34(0x70d)+this[_0x22bb34(0x1b1)]),_0xb2edba;}catch(_0x2d8d70){throw this[_0x22bb34(0x277)][_0x22bb34(0x57f)](this[_0x22bb34(0x532)]+'\x20('+this[_0x22bb34(0x5c4)][_0x22bb34(0x6a8)]+_0x22bb34(0x3a7)+(_0x2d8d70 instanceof Error?_0x2d8d70[_0x22bb34(0x41d)]:JSON[_0x22bb34(0x62a)](_0x2d8d70,null,0x2))),new m('Erro\x20ao\x20editar\x20agentes:\x20'+_0x2d8d70['message']);}}async[a0_0x4ff83f(0x509)](_0x2717a6){const _0x3cf6ce=a0_0x4ff83f;try{let _0x5c1db5=await this['repository']['automateSystem'][_0x3cf6ce(0x426)](this[_0x3cf6ce(0x5c4)][_0x3cf6ce(0x6a8)]),_0x379745=_0x2717a6['_id']?_0x5c1db5[_0x3cf6ce(0x380)][_0x3cf6ce(0x1f3)](_0x3e5664=>_0x3e5664[_0x3cf6ce(0x572)]===_0x2717a6[_0x3cf6ce(0x572)]):-0x1,_0x120fb2=!0x1,_0x1f45d3=_0x5c1db5[_0x3cf6ce(0x380)][_0x3cf6ce(0x693)](_0x2caced=>_0x2caced['order']===_0x2717a6[_0x3cf6ce(0x486)]);if(_0x2717a6[_0x3cf6ce(0x335)]&&_0x379745>-0x1)_0x5c1db5[_0x3cf6ce(0x380)][_0x3cf6ce(0x49a)](_0x379745,0x1),_0x120fb2=!0x0;else{if(_0x379745>-0x1){if(_0x5c1db5[_0x3cf6ce(0x380)][_0x3cf6ce(0x693)](_0x12ee9f=>_0x12ee9f['name']===_0x2717a6[_0x3cf6ce(0x1c3)]&&_0x12ee9f['_id']!==_0x2717a6[_0x3cf6ce(0x572)]))throw new Error(_0x3cf6ce(0x212));let _0xbaea49=_0x5c1db5[_0x3cf6ce(0x380)][_0x379745];_0x2717a6['order']&&(_0x1f45d3||!Number[_0x3cf6ce(0x4ca)](_0x2717a6['order']))&&(_0xbaea49['order']=_0x2717a6[_0x3cf6ce(0x486)],_0x120fb2=!0x0),_0x2717a6['name']&&(_0xbaea49['name']=_0x2717a6[_0x3cf6ce(0x1c3)]);}else{if(_0x5c1db5[_0x3cf6ce(0x380)]['some'](_0x2037a0=>_0x2037a0[_0x3cf6ce(0x1c3)]===_0x2717a6[_0x3cf6ce(0x1c3)]&&_0x2037a0[_0x3cf6ce(0x572)]!==_0x2717a6['_id']))throw new Error(_0x3cf6ce(0x212));_0x5c1db5[_0x3cf6ce(0x380)][_0x3cf6ce(0x3ed)]({'_id':_0x2717a6['_id']||new oe[(_0x3cf6ce(0x604))][(_0x3cf6ce(0x346))][(_0x3cf6ce(0x3c0))]()[_0x3cf6ce(0x552)](),'order':_0x2717a6['order'],'name':_0x2717a6[_0x3cf6ce(0x1c3)]}),_0x120fb2=!0x0;}}if(_0x120fb2){_0x5c1db5[_0x3cf6ce(0x380)][_0x3cf6ce(0x527)]((_0xfa550d,_0x118220)=>_0xfa550d['order']>_0x118220[_0x3cf6ce(0x486)]?0x1:_0x118220[_0x3cf6ce(0x486)]>_0xfa550d['order']?-0x1:0x0);for(let _0x3ef8f9=0x0;_0x3ef8f9<_0x5c1db5['customFields'][_0x3cf6ce(0x78e)];_0x3ef8f9++)_0x5c1db5[_0x3cf6ce(0x380)][_0x3ef8f9][_0x3cf6ce(0x486)]=_0x3ef8f9+0x1;}let _0xb4b777=await this[_0x3cf6ce(0x53b)][_0x3cf6ce(0x2f8)][_0x3cf6ce(0x416)](_0x5c1db5,this[_0x3cf6ce(0x5c4)]['wuid']);return this[_0x3cf6ce(0x1b1)]=_0xb4b777,this[_0x3cf6ce(0x277)][_0x3cf6ce(0x5bf)](this[_0x3cf6ce(0x532)]+'\x20('+this[_0x3cf6ce(0x5c4)][_0x3cf6ce(0x6a8)]+_0x3cf6ce(0x77a)),this[_0x3cf6ce(0x277)][_0x3cf6ce(0x5bf)](this[_0x3cf6ce(0x532)]+'\x20('+this[_0x3cf6ce(0x5c4)]['wuid']+_0x3cf6ce(0x70d)+this[_0x3cf6ce(0x1b1)]),_0xb4b777;}catch(_0x3a7770){throw this[_0x3cf6ce(0x277)][_0x3cf6ce(0x57f)](this[_0x3cf6ce(0x532)]+'\x20('+this[_0x3cf6ce(0x5c4)]['wuid']+'):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+(_0x3a7770 instanceof Error?_0x3a7770[_0x3cf6ce(0x41d)]:JSON[_0x3cf6ce(0x62a)](_0x3a7770,null,0x2))),new m(_0x3cf6ce(0x569)+_0x3a7770[_0x3cf6ce(0x41d)]);}}async['updateFlowConfig'](_0xda4fbb){const _0x17d374=a0_0x4ff83f;try{let _0x24b048=await this[_0x17d374(0x53b)][_0x17d374(0x2f8)][_0x17d374(0x426)](this['instance'][_0x17d374(0x6a8)]);if(!_0x24b048)throw new Error(_0x17d374(0x2b7));let _0x4c2a72={'_id':_0x24b048['_id'],'flowConfig':{'enabled':_0xda4fbb['enabled']??_0x24b048['flowConfig'][_0x17d374(0x722)],'ignoreGroups':_0xda4fbb['ignoreGroups']??_0x24b048[_0x17d374(0x180)]['ignoreGroups'],'prefixCommand':_0xda4fbb['prefixCommand']??_0x24b048['flowConfig']['prefixCommand'],'stopConversation':_0xda4fbb[_0x17d374(0x691)]??_0x24b048['flowConfig'][_0x17d374(0x691)],'stopMinutes':_0xda4fbb['stopMinutes']??_0x24b048[_0x17d374(0x180)][_0x17d374(0x288)],'stopWhenYouSendMsg':_0xda4fbb[_0x17d374(0x2e8)]??_0x24b048[_0x17d374(0x180)]['stopWhenYouSendMsg']}},_0x5e0b19=await this[_0x17d374(0x53b)][_0x17d374(0x2f8)][_0x17d374(0x416)](_0x4c2a72,this['instance'][_0x17d374(0x6a8)]);return this[_0x17d374(0x1b1)]=_0x5e0b19,this[_0x17d374(0x277)]['verbose'](this[_0x17d374(0x532)]+'\x20('+this['instance'][_0x17d374(0x6a8)]+_0x17d374(0x3b8)),this[_0x17d374(0x277)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x17d374(0x70d)+this['AutomateSystem']),setTimeout(()=>this[_0x17d374(0x47f)](),0x7d0),_0x5e0b19;}catch(_0x4154b5){throw this['logger'][_0x17d374(0x57f)](this[_0x17d374(0x532)]+'\x20('+this[_0x17d374(0x5c4)][_0x17d374(0x6a8)]+_0x17d374(0x6c9)+(_0x4154b5 instanceof Error?_0x4154b5['message']:JSON[_0x17d374(0x62a)](_0x4154b5,null,0x2))),new m(_0x17d374(0x2ec)+_0x4154b5[_0x17d374(0x41d)]);}}async[a0_0x4ff83f(0x2bd)](){const _0x4f9f77=a0_0x4ff83f;try{let _0x454cdb=await this[_0x4f9f77(0x53b)][_0x4f9f77(0x2f8)][_0x4f9f77(0x426)](this[_0x4f9f77(0x5c4)]['wuid']);return this[_0x4f9f77(0x1b1)]=_0x454cdb,this['logger'][_0x4f9f77(0x5bf)](this[_0x4f9f77(0x532)]+'\x20('+this[_0x4f9f77(0x5c4)][_0x4f9f77(0x6a8)]+_0x4f9f77(0x5c1)),this[_0x4f9f77(0x277)][_0x4f9f77(0x5bf)](this['AutomateSystem']),_0x454cdb;}catch(_0x2fbd78){throw this[_0x4f9f77(0x277)][_0x4f9f77(0x57f)](this[_0x4f9f77(0x532)]+'\x20('+this[_0x4f9f77(0x5c4)]['wuid']+_0x4f9f77(0x706)+(_0x2fbd78 instanceof Error?_0x2fbd78['message']:JSON[_0x4f9f77(0x62a)](_0x2fbd78,null,0x2))),new m(_0x4f9f77(0x51b)+_0x2fbd78[_0x4f9f77(0x41d)]);}}async[a0_0x4ff83f(0x60c)](){const _0x4aab59=a0_0x4ff83f;this['timerId']&&clearTimeout(this[_0x4aab59(0x6f4)]),this[_0x4aab59(0x6f4)]=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x4ff83f(0x74a)](){const _0x39801b=a0_0x4ff83f;Date['now']()-this[_0x39801b(0x7c7)]>=0x1d4c0&&(this['logger'][_0x39801b(0x5bf)](this['instanceName']+'\x20('+this[_0x39801b(0x5c4)][_0x39801b(0x6a8)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x39801b(0x44c)]=null,this[_0x39801b(0x7c7)]=0x0,this['delayMessage']=0x0,await this[_0x39801b(0x47f)]());}async[a0_0x4ff83f(0x47f)](){const _0x337f2c=a0_0x4ff83f;let _0x2020a5=()=>{const _0x4d5e1=a0_0x52dd;this[_0x4d5e1(0x277)][_0x4d5e1(0x5bf)](this[_0x4d5e1(0x532)]+'\x20('+this[_0x4d5e1(0x5c4)][_0x4d5e1(0x6a8)]+_0x4d5e1(0x7df)+this['processingScheduleMessageId']+_0x4d5e1(0x3d7));},_0x18458d=async()=>{const _0x109ba3=a0_0x52dd;this[_0x109ba3(0x277)][_0x109ba3(0x5bf)](this[_0x109ba3(0x532)]+'\x20('+this['instance'][_0x109ba3(0x6a8)]+_0x109ba3(0x255));let _0x4c7cac=Date[_0x109ba3(0x7fe)]()-0xc*0x3c*0x3c*0x3e8,_0x1a4145={'where':{'status':{'$in':['scheduled',_0x109ba3(0x54a)]},'$or':[{'when':{'$lte':Date[_0x109ba3(0x7fe)](),'$gte':_0x4c7cac}},{'when':0x0}]}};return await this['repository'][_0x109ba3(0x6dc)][_0x109ba3(0x678)](_0x1a4145,this[_0x109ba3(0x5c4)][_0x109ba3(0x6a8)]);},_0x5e9fbe=async _0x47ceed=>{const _0x1d4efb=a0_0x52dd;for(let _0x5ad0e of _0x47ceed){let _0x43ba2b={'_id':_0x5ad0e[_0x1d4efb(0x572)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x1d4efb(0x7fe)]()-0x1770}}]},_0xfc322c={'startSend':Date[_0x1d4efb(0x7fe)]()};if(!await this[_0x1d4efb(0x53b)][_0x1d4efb(0x6dc)][_0x1d4efb(0x273)](_0x43ba2b,_0xfc322c,this['instance'][_0x1d4efb(0x6a8)]))return;if(!this['isConnected']){this[_0x1d4efb(0x277)][_0x1d4efb(0x5bf)](this[_0x1d4efb(0x532)]+'\x20('+this[_0x1d4efb(0x5c4)]['wuid']+_0x1d4efb(0x226));break;}if(_0x5ad0e[_0x1d4efb(0x464)]===_0x1d4efb(0x236)&&!this['AutomateSystem']?.[_0x1d4efb(0x180)][_0x1d4efb(0x722)]){this[_0x1d4efb(0x277)]['error'](this[_0x1d4efb(0x532)]+'\x20('+this[_0x1d4efb(0x5c4)]['wuid']+_0x1d4efb(0x7e5));continue;}(!_0x5ad0e[_0x1d4efb(0x741)]||_0x5ad0e[_0x1d4efb(0x741)][_0x1d4efb(0x78e)]===0x0)&&(_0x5ad0e=await this[_0x1d4efb(0x53b)][_0x1d4efb(0x6dc)][_0x1d4efb(0x3d6)](_0x5ad0e[_0x1d4efb(0x572)],{'status':_0x1d4efb(0x54a),'remoteJidsRemaining':[..._0x5ad0e[_0x1d4efb(0x526)]]},this[_0x1d4efb(0x5c4)]['wuid']));for(let _0x2a4870 of _0x5ad0e[_0x1d4efb(0x741)]){if(await this[_0x1d4efb(0x60c)](),this[_0x1d4efb(0x7c7)]=Date[_0x1d4efb(0x7fe)](),_0x5ad0e[_0x1d4efb(0x589)][_0x1d4efb(0x693)](_0x17198b=>_0x17198b[_0x1d4efb(0x246)]===_0x2a4870)){this[_0x1d4efb(0x277)][_0x1d4efb(0x5bf)](this['instanceName']+'\x20('+this[_0x1d4efb(0x5c4)]['wuid']+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x2a4870+_0x1d4efb(0x801));continue;}if(!this[_0x1d4efb(0x350)]){this[_0x1d4efb(0x277)][_0x1d4efb(0x5bf)](this[_0x1d4efb(0x532)]+'\x20('+this[_0x1d4efb(0x5c4)][_0x1d4efb(0x6a8)]+_0x1d4efb(0x1a2));break;}if(!this[_0x1d4efb(0x44c)]){this[_0x1d4efb(0x277)]['verbose'](this[_0x1d4efb(0x532)]+'\x20('+this['instance'][_0x1d4efb(0x6a8)]+_0x1d4efb(0x384)+_0x5ad0e[_0x1d4efb(0x572)]+_0x1d4efb(0x1c5));break;}if(_0x5ad0e[_0x1d4efb(0x464)]==='flow'&&!this[_0x1d4efb(0x1b1)]?.[_0x1d4efb(0x180)][_0x1d4efb(0x722)]){this['logger'][_0x1d4efb(0x57f)](this[_0x1d4efb(0x532)]+'\x20('+this['instance'][_0x1d4efb(0x6a8)]+_0x1d4efb(0x7e5));break;}let _0x16ffc4={'remoteJid':_0x2a4870,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x1c2730=null;try{let _0x1f7d5f=await this[_0x1d4efb(0x4b9)](_0x2a4870,_0x5ad0e);_0x16ffc4['error']=_0x1f7d5f[_0x1d4efb(0x57f)],_0x16ffc4['id']=_0x1f7d5f[_0x1d4efb(0x57f)]?null:_0x1f7d5f['id'],_0x16ffc4[_0x1d4efb(0x499)]=_0x1f7d5f[_0x1d4efb(0x57f)]?_0x1f7d5f['detail']?_0x1f7d5f[_0x1d4efb(0x26c)]['toString']():'':null;let _0x26417b={'$push':{'messagesSend':_0x16ffc4},'$pull':{'remoteJidsRemaining':_0x2a4870}},_0x5d0b2a=_0x5ad0e['_id'];if(_0x1c2730=await this[_0x1d4efb(0x53b)][_0x1d4efb(0x6dc)][_0x1d4efb(0x3d6)](_0x5d0b2a,_0x26417b,this[_0x1d4efb(0x5c4)][_0x1d4efb(0x6a8)]),_0x1f7d5f[_0x1d4efb(0x57f)])continue;let _0x15e8f6=this[_0x1d4efb(0x2e6)](_0x5ad0e[_0x1d4efb(0x7e6)],_0x5ad0e[_0x1d4efb(0x27c)]);await this[_0x1d4efb(0x501)](_0x15e8f6);}catch(_0x22f153){this[_0x1d4efb(0x277)][_0x1d4efb(0x57f)](this[_0x1d4efb(0x532)]+'\x20('+this[_0x1d4efb(0x5c4)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20'+_0x2a4870+':\x20'+(_0x22f153 instanceof Error?_0x22f153['message']:JSON[_0x1d4efb(0x62a)](_0x22f153,null,0x2))),_0x16ffc4[_0x1d4efb(0x57f)]=!0x0,_0x16ffc4['error_log']=_0x22f153[_0x1d4efb(0x41d)];let _0x8b301c={'$push':{'messagesSend':_0x16ffc4},'$pull':{'remoteJidsRemaining':_0x2a4870}},_0x3c03be=_0x5ad0e[_0x1d4efb(0x572)];_0x1c2730=await this[_0x1d4efb(0x53b)][_0x1d4efb(0x6dc)][_0x1d4efb(0x3d6)](_0x3c03be,_0x8b301c,this[_0x1d4efb(0x5c4)][_0x1d4efb(0x6a8)]);}finally{if(_0x1c2730&&_0x1c2730['status']==='stopped'){this[_0x1d4efb(0x277)][_0x1d4efb(0x5bf)](this[_0x1d4efb(0x532)]+'\x20('+this[_0x1d4efb(0x5c4)][_0x1d4efb(0x6a8)]+_0x1d4efb(0x384)+_0x5ad0e[_0x1d4efb(0x572)]+_0x1d4efb(0x2a8));break;}}}let _0x18bb08=await this['repository'][_0x1d4efb(0x6dc)][_0x1d4efb(0x7ad)](_0x5ad0e[_0x1d4efb(0x572)],this[_0x1d4efb(0x5c4)][_0x1d4efb(0x6a8)]);if(_0x18bb08[_0x1d4efb(0x741)][_0x1d4efb(0x78e)]===0x0&&_0x18bb08[_0x1d4efb(0x728)]!==_0x1d4efb(0x63a)){let _0x5bae96={'$set':{'status':_0x1d4efb(0x240)}},_0x41c3e2=_0x18bb08[_0x1d4efb(0x572)];await this['repository'][_0x1d4efb(0x6dc)]['updateOneById'](_0x41c3e2,_0x5bae96,this[_0x1d4efb(0x5c4)]['wuid']);}await new Promise(_0x4309b8=>setTimeout(_0x4309b8,0x1388));}},_0xdf781=async()=>{const _0x2dbc51=a0_0x52dd;let _0x2a5ab9={'where':{'status':_0x2dbc51(0x43a),'when':{'$gt':Date[_0x2dbc51(0x7fe)]()}}},_0x4a3607=await this[_0x2dbc51(0x53b)]['scheduleMessage'][_0x2dbc51(0x64f)](_0x2a5ab9,this['instance'][_0x2dbc51(0x6a8)]);_0x4a3607&&_0x4a3607[_0x2dbc51(0x446)]-Date[_0x2dbc51(0x7fe)]()<=0x5265c00?this[_0x2dbc51(0x5c6)]=_0x4a3607['when']-Date[_0x2dbc51(0x7fe)]():this[_0x2dbc51(0x5c6)]=(0x3c+Math['floor'](Math['random']()*0x3c))*0x3c*0x3e8,this['delayMessage']=Math[_0x2dbc51(0x4ab)](this[_0x2dbc51(0x5c6)],0x7d0);let _0x12b73a=Math[_0x2dbc51(0x6ca)](this['delayMessage']/0xea60);if(_0x4a3607){let _0x51f4df=new Date(_0x4a3607[_0x2dbc51(0x446)])['toLocaleString']();this[_0x2dbc51(0x277)][_0x2dbc51(0x5bf)](this[_0x2dbc51(0x532)]+'\x20('+this['instance'][_0x2dbc51(0x6a8)]+_0x2dbc51(0x694)+_0x51f4df+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x12b73a+_0x2dbc51(0x260));}else this[_0x2dbc51(0x277)][_0x2dbc51(0x5bf)](this[_0x2dbc51(0x532)]+'\x20('+this['instance'][_0x2dbc51(0x6a8)]+_0x2dbc51(0x42b)+_0x12b73a+'\x20minutos');setTimeout(()=>this[_0x2dbc51(0x47f)](),this[_0x2dbc51(0x5c6)]);};if(this['processingScheduleMessageId']){await this[_0x337f2c(0x60c)](),_0x2020a5();return;}if(!this[_0x337f2c(0x350)]){this['logger'][_0x337f2c(0x5bf)](this[_0x337f2c(0x532)]+'\x20('+this[_0x337f2c(0x5c4)][_0x337f2c(0x6a8)]+_0x337f2c(0x831)),this[_0x337f2c(0x44c)]=null,this[_0x337f2c(0x7c7)]=0x0,this[_0x337f2c(0x5c6)]=0x0;return;}try{let _0x547431=await _0x18458d();_0x547431['length']===0x0?this['logger']['verbose'](this[_0x337f2c(0x532)]+'\x20('+this[_0x337f2c(0x5c4)][_0x337f2c(0x6a8)]+_0x337f2c(0x235)):(this[_0x337f2c(0x44c)]=_0x547431[0x0][_0x337f2c(0x572)],await _0x5e9fbe(_0x547431)),await _0xdf781(),this[_0x337f2c(0x44c)]=null;}catch(_0x4c00c2){this[_0x337f2c(0x277)][_0x337f2c(0x57f)]('Error\x20in\x20scheduleNextCheck:\x20'+(_0x4c00c2 instanceof Error?_0x4c00c2['message']:JSON[_0x337f2c(0x62a)](_0x4c00c2,null,0x2)));}}[a0_0x4ff83f(0x2e6)](_0xac227c,_0x153050){const _0x197d1f=a0_0x4ff83f;return _0xac227c=Math[_0x197d1f(0x4ab)](0.5,_0xac227c),_0x153050=Math[_0x197d1f(0x60d)](Math[_0x197d1f(0x4ab)](0x3,_0x153050),0x78),Math[_0x197d1f(0x593)](Math['random']()*(_0x153050-_0xac227c+0x1)+_0xac227c)*0x3e8;}['sleep'](_0x3e9916){return new Promise(_0x35ca7a=>setTimeout(_0x35ca7a,_0x3e9916));}async[a0_0x4ff83f(0x2fd)](_0x650550){const _0x3722c8=a0_0x4ff83f;if(!this[_0x3722c8(0x1b1)]&&(await this[_0x3722c8(0x2bd)](),!this[_0x3722c8(0x1b1)]))return null;_0x650550=this['createJid'](_0x650550);let _0xa9f1c0=await this['repository']['chat']['findOne']({'where':{'_id':_0x650550}},this[_0x3722c8(0x5c4)][_0x3722c8(0x6a8)]),_0x7532f3={};if(_0xa9f1c0&&_0xa9f1c0['leadInfo']){let _0x37c1ef=_0xa9f1c0['leadInfo'];typeof _0x37c1ef[_0x3722c8(0x482)]==_0x3722c8(0x27d)&&(_0x7532f3[_0x3722c8(0x482)]=_0x37c1ef['nome']),typeof _0x37c1ef[_0x3722c8(0x460)]==_0x3722c8(0x27d)&&(_0x7532f3[_0x3722c8(0x460)]=_0x37c1ef[_0x3722c8(0x460)]),typeof _0x37c1ef['email']==_0x3722c8(0x27d)&&(_0x7532f3['email']=_0x37c1ef[_0x3722c8(0x72e)]),typeof _0x37c1ef[_0x3722c8(0x5aa)]==_0x3722c8(0x27d)&&(_0x7532f3['cpf']=_0x37c1ef[_0x3722c8(0x5aa)]),typeof _0x37c1ef[_0x3722c8(0x728)]==_0x3722c8(0x27d)&&(_0x7532f3[_0x3722c8(0x728)]=_0x37c1ef[_0x3722c8(0x728)]),typeof _0x37c1ef[_0x3722c8(0x221)]==_0x3722c8(0x27d)&&(_0x7532f3['notas']=_0x37c1ef['notas']),typeof _0x37c1ef[_0x3722c8(0x821)]==_0x3722c8(0x27d)&&(_0x7532f3[_0x3722c8(0x821)]=_0x37c1ef[_0x3722c8(0x821)]),Array[_0x3722c8(0x447)](_0x37c1ef[_0x3722c8(0x306)])&&(_0x7532f3['tags']=_0x37c1ef['tags'][_0x3722c8(0x35a)](',\x20')),Array[_0x3722c8(0x447)](_0x37c1ef['etiquetas'])&&(_0x7532f3[_0x3722c8(0x61b)]=_0x37c1ef[_0x3722c8(0x61b)]['join'](',\x20'));}return _0xa9f1c0&&_0xa9f1c0[_0x3722c8(0x1be)]&&_0xa9f1c0[_0x3722c8(0x1be)]['customFields']&&_0xa9f1c0[_0x3722c8(0x1be)][_0x3722c8(0x380)][_0x3722c8(0x4bf)](_0x11abd9=>{const _0x3d0fbe=_0x3722c8;let _0x1abc40=this['AutomateSystem']?.[_0x3d0fbe(0x380)][_0x3d0fbe(0x678)](_0x410fdc=>_0x410fdc[_0x3d0fbe(0x572)]===_0x11abd9[_0x3d0fbe(0x572)]);_0x1abc40&&(_0x7532f3[_0x1abc40[_0x3d0fbe(0x1c3)]]=_0x11abd9[_0x3d0fbe(0x660)]);}),_0x7532f3;}async[a0_0x4ff83f(0x4e3)](_0x5479d1,_0x34c647){const _0x218318=a0_0x4ff83f;let _0x255edf=await this['getVariablesChat'](_0x34c647);return this[_0x218318(0x483)](_0x5479d1,_0x255edf);}async[a0_0x4ff83f(0x49c)](_0x4af53d){const _0x4873a2=a0_0x4ff83f;try{if(this[_0x4873a2(0x277)][_0x4873a2(0x5bf)](this[_0x4873a2(0x532)]+'\x20('+this[_0x4873a2(0x5c4)]['wuid']+_0x4873a2(0x580)),_0x4af53d[_0x4873a2(0x335)]&&_0x4af53d[_0x4873a2(0x572)]){if(this[_0x4873a2(0x44c)]===_0x4af53d['_id'][_0x4873a2(0x552)]())throw new Error('Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar');let _0xbdc76b=await this[_0x4873a2(0x53b)]['scheduleMessage'][_0x4873a2(0x2c0)](_0x4af53d[_0x4873a2(0x572)],this['instance']['wuid']);return setTimeout(()=>this[_0x4873a2(0x47f)](),0x7d0),_0xbdc76b;}let _0x367dc4;if(_0x4af53d[_0x4873a2(0x572)]&&(_0x367dc4=await this['repository'][_0x4873a2(0x6dc)][_0x4873a2(0x7ad)](_0x4af53d[_0x4873a2(0x572)],this[_0x4873a2(0x5c4)][_0x4873a2(0x6a8)])),_0x367dc4){let _0xa85462;if(this[_0x4873a2(0x44c)]===_0x367dc4[_0x4873a2(0x572)][_0x4873a2(0x552)]())_0xa85462={'$set':{'status':_0x4af53d[_0x4873a2(0x728)]}};else{let {_id:_0x9a9441,..._0x4f4894}=_0x4af53d;_0xa85462={'$set':_0x4f4894};}let _0x5b4b1d=await this[_0x4873a2(0x53b)][_0x4873a2(0x6dc)]['updateOneById'](_0x4af53d[_0x4873a2(0x572)],_0xa85462,this[_0x4873a2(0x5c4)][_0x4873a2(0x6a8)]);return setTimeout(()=>this[_0x4873a2(0x47f)](),0x7d0),_0x5b4b1d;}else{_0x4af53d[_0x4873a2(0x343)]=this['instance']['wuid'];let _0x3eef72=await this[_0x4873a2(0x53b)][_0x4873a2(0x6dc)][_0x4873a2(0x557)](_0x4af53d,this['instance'][_0x4873a2(0x6a8)]);return setTimeout(()=>this[_0x4873a2(0x47f)](),0x7d0),_0x3eef72;}}catch(_0x77342e){throw this[_0x4873a2(0x277)][_0x4873a2(0x57f)](this[_0x4873a2(0x532)]+'\x20('+this[_0x4873a2(0x5c4)][_0x4873a2(0x6a8)]+_0x4873a2(0x1f1)+(_0x77342e instanceof Error?_0x77342e['message']:JSON[_0x4873a2(0x62a)](_0x77342e,null,0x2))),new m(_0x4873a2(0x536)+_0x77342e[_0x4873a2(0x41d)]);}}async[a0_0x4ff83f(0x375)](){const _0x34a712=a0_0x4ff83f;try{return await this[_0x34a712(0x53b)][_0x34a712(0x6dc)][_0x34a712(0x678)]({'where':{}},this[_0x34a712(0x5c4)][_0x34a712(0x6a8)]);}catch(_0x377031){throw this['logger']['error'](this[_0x34a712(0x532)]+'\x20('+this[_0x34a712(0x5c4)][_0x34a712(0x6a8)]+_0x34a712(0x5cf)+(_0x377031 instanceof Error?_0x377031[_0x34a712(0x41d)]:JSON[_0x34a712(0x62a)](_0x377031,null,0x2))),new m(_0x34a712(0x536)+_0x377031[_0x34a712(0x41d)]);}}async[a0_0x4ff83f(0x633)](){const _0x287d06=a0_0x4ff83f;try{let _0x3b2989={'status':_0x287d06(0x240)},_0x307fb0=await this[_0x287d06(0x53b)][_0x287d06(0x6dc)][_0x287d06(0x1d1)](_0x3b2989,this[_0x287d06(0x5c4)]['wuid']);if(!_0x307fb0[_0x287d06(0x57f)])this[_0x287d06(0x277)][_0x287d06(0x5bf)](this[_0x287d06(0x532)]+'\x20('+this['instance'][_0x287d06(0x6a8)]+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.');else throw new Error(_0x307fb0[_0x287d06(0x57f)][_0x287d06(0x41d)]||_0x287d06(0x608));return this['getScheduleMessage']();}catch(_0x140083){throw this[_0x287d06(0x277)][_0x287d06(0x57f)](this[_0x287d06(0x532)]+'\x20('+this['instance'][_0x287d06(0x6a8)]+_0x287d06(0x783)+(_0x140083 instanceof Error?_0x140083[_0x287d06(0x41d)]:JSON['stringify'](_0x140083,null,0x2))),new m(_0x287d06(0x536)+_0x140083[_0x287d06(0x41d)]);}}async[a0_0x4ff83f(0x4b9)](_0x30afd5,_0x37b889){const _0x440d63=a0_0x4ff83f;try{if(_0x37b889[_0x440d63(0x464)]===_0x440d63(0x236)&&!this[_0x440d63(0x1b1)]?.[_0x440d63(0x180)]['enabled'])return this[_0x440d63(0x277)][_0x440d63(0x57f)](this['instanceName']+'\x20('+this[_0x440d63(0x5c4)][_0x440d63(0x6a8)]+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':_0x440d63(0x59d)};switch(_0x37b889[_0x440d63(0x464)]){case'text':return await this[_0x440d63(0x739)](_0x37b889,_0x30afd5);case _0x440d63(0x688):return await this[_0x440d63(0x667)](_0x37b889,_0x30afd5);case _0x440d63(0x7c8):return await this[_0x440d63(0x331)](_0x37b889,_0x30afd5);case'flow':let _0x4140bc=new De();return _0x4140bc[_0x440d63(0x1c3)]=_0x37b889[_0x440d63(0x3ae)],_0x4140bc[_0x440d63(0x246)]=_0x30afd5,await this[_0x440d63(0x5c8)](_0x4140bc);break;default:return this[_0x440d63(0x277)][_0x440d63(0x57f)](this[_0x440d63(0x532)]+'\x20('+this[_0x440d63(0x5c4)][_0x440d63(0x6a8)]+_0x440d63(0x3f1)+_0x37b889[_0x440d63(0x464)]),{'error':!0x0,'detail':_0x440d63(0x6ee)};}}catch(_0x37279b){return this[_0x440d63(0x277)][_0x440d63(0x57f)](this[_0x440d63(0x532)]+'\x20('+this[_0x440d63(0x5c4)]['wuid']+_0x440d63(0x24e)+(_0x37279b instanceof Error?_0x37279b['message']:JSON[_0x440d63(0x62a)](_0x37279b,null,0x2))),{'error':!0x0,'detail':_0x37279b[_0x440d63(0x41d)]};}}[a0_0x4ff83f(0x4f4)](_0xefa000){const _0x3c0ec9=a0_0x4ff83f;let _0x54ba78=_0xefa000[_0x3c0ec9(0x290)]('|'),_0x50bf38=Math[_0x3c0ec9(0x593)](Math['random']()*_0x54ba78['length']);return _0x54ba78[_0x50bf38][_0x3c0ec9(0x35f)]();}async[a0_0x4ff83f(0x739)](_0x2d4dbf,_0x2b75cf){const _0x41dcf5=a0_0x4ff83f;if(this[_0x41dcf5(0x277)][_0x41dcf5(0x5bf)](this[_0x41dcf5(0x532)]+'\x20('+this[_0x41dcf5(0x5c4)]['wuid']+_0x41dcf5(0x72c)),!_0x2d4dbf[_0x41dcf5(0x41d)][_0x41dcf5(0x7ee)]||_0x2d4dbf[_0x41dcf5(0x41d)]['text'][_0x41dcf5(0x78e)]===0x0)return{'error':!0x0,'detail':_0x41dcf5(0x631)};let _0x370f60=this['getRandomText'](_0x2d4dbf[_0x41dcf5(0x41d)][_0x41dcf5(0x7ee)]),_0x23495c=await this[_0x41dcf5(0x4e3)](_0x370f60,_0x2b75cf),_0x56226d={'number':_0x2b75cf,'options':{'delay':_0x2d4dbf[_0x41dcf5(0x41d)][_0x41dcf5(0x7bf)]},'textMessage':{'text':_0x23495c}},_0x503b60=null;try{let _0x2327c0=await this[_0x41dcf5(0x63b)](_0x56226d);if(_0x2327c0&&_0x2327c0[_0x41dcf5(0x728)])return{'error':!0x1,'id':_0x2327c0[_0x41dcf5(0x657)]['id']};_0x503b60=JSON[_0x41dcf5(0x62a)](_0x2327c0),this[_0x41dcf5(0x277)][_0x41dcf5(0x5bf)](this[_0x41dcf5(0x532)]+'\x20('+this['instance']['wuid']+_0x41dcf5(0x70d)+_0x503b60);}catch(_0x1edfd0){this[_0x41dcf5(0x277)]['error'](this[_0x41dcf5(0x532)]+'\x20('+this['instance'][_0x41dcf5(0x6a8)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x1edfd0 instanceof Error?_0x1edfd0[_0x41dcf5(0x41d)]:JSON['stringify'](_0x1edfd0,null,0x2))),_0x503b60=_0x1edfd0[_0x41dcf5(0x41d)];}if(_0x503b60)return{'error':!0x0,'detail':(typeof _0x503b60==_0x41dcf5(0x29b)?JSON['stringify'](_0x503b60,null,0x2):_0x503b60)[_0x41dcf5(0x707)](/[\[\]{}\n]/g,'\x20')[_0x41dcf5(0x707)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x25df98,_0x31f671){const _0x476855=a0_0x4ff83f;this[_0x476855(0x277)][_0x476855(0x5bf)](this[_0x476855(0x532)]+'\x20('+this[_0x476855(0x5c4)]['wuid']+_0x476855(0x202));let _0x571776;if(_0x25df98[_0x476855(0x41d)][_0x476855(0x7ee)]&&_0x25df98['message']['text'][_0x476855(0x78e)]>0x0){let _0x4ac7f8=this[_0x476855(0x4f4)](_0x25df98[_0x476855(0x41d)][_0x476855(0x7ee)]);_0x571776=await this['replaceVariablesChat'](_0x4ac7f8,_0x31f671);}let _0x19ac0f={'number':_0x31f671,'options':{'delay':_0x25df98[_0x476855(0x41d)][_0x476855(0x7bf)]},'mediaMessage':{'mediatype':_0x25df98[_0x476855(0x41d)][_0x476855(0x34c)],'caption':_0x571776,'media':_0x25df98[_0x476855(0x41d)][_0x476855(0x742)]}},_0x2d8610=null;try{let _0x352d8a=await this[_0x476855(0x3f3)](_0x19ac0f);if(_0x352d8a&&_0x352d8a['status'])return{'error':!0x1,'id':_0x352d8a[_0x476855(0x657)]['id']};_0x2d8610=JSON['stringify'](_0x352d8a),this[_0x476855(0x277)]['verbose'](this[_0x476855(0x532)]+'\x20('+this['instance'][_0x476855(0x6a8)]+'):\x20'+_0x2d8610);}catch(_0xfb304b){this['logger'][_0x476855(0x57f)](this[_0x476855(0x532)]+'\x20('+this[_0x476855(0x5c4)][_0x476855(0x6a8)]+_0x476855(0x6a1)+(_0xfb304b instanceof Error?_0xfb304b[_0x476855(0x41d)]:JSON['stringify'](_0xfb304b,null,0x2))),_0x2d8610=_0xfb304b[_0x476855(0x41d)];}if(_0x2d8610)return{'error':!0x0,'detail':(typeof _0x2d8610==_0x476855(0x29b)?JSON[_0x476855(0x62a)](_0x2d8610,null,0x2):_0x2d8610)[_0x476855(0x707)](/[\[\]{}\n]/g,'\x20')[_0x476855(0x707)](/  +/g,'\x20')};}async[a0_0x4ff83f(0x331)](_0x327106,_0x3cfca5){const _0x2ba101=a0_0x4ff83f;this[_0x2ba101(0x277)][_0x2ba101(0x5bf)](this[_0x2ba101(0x532)]+'\x20('+this[_0x2ba101(0x5c4)][_0x2ba101(0x6a8)]+_0x2ba101(0x738));let _0x4a5833={'number':_0x3cfca5,'options':{'delay':_0x327106[_0x2ba101(0x41d)]['delay']},'audioMessage':{'audio':_0x327106[_0x2ba101(0x41d)]['urlOrBase64']}},_0x44ec1d=null;try{let _0xf0df55=await this[_0x2ba101(0x455)](_0x4a5833);if(_0xf0df55&&_0xf0df55[_0x2ba101(0x728)])return{'error':!0x1,'id':_0xf0df55[_0x2ba101(0x657)]['id']};_0x44ec1d=JSON['stringify'](_0xf0df55),this['logger'][_0x2ba101(0x5bf)](this['instanceName']+'\x20('+this[_0x2ba101(0x5c4)][_0x2ba101(0x6a8)]+_0x2ba101(0x70d)+_0x44ec1d);}catch(_0x264a25){this[_0x2ba101(0x277)][_0x2ba101(0x57f)](this[_0x2ba101(0x532)]+'\x20('+this[_0x2ba101(0x5c4)][_0x2ba101(0x6a8)]+_0x2ba101(0x634)+(_0x264a25 instanceof Error?_0x264a25[_0x2ba101(0x41d)]:JSON[_0x2ba101(0x62a)](_0x264a25,null,0x2))),_0x44ec1d=_0x264a25[_0x2ba101(0x41d)];}if(_0x44ec1d)return{'error':!0x0,'detail':(typeof _0x44ec1d==_0x2ba101(0x29b)?JSON['stringify'](_0x44ec1d,null,0x2):_0x44ec1d)[_0x2ba101(0x707)](/[\[\]{}\n]/g,'\x20')[_0x2ba101(0x707)](/  +/g,'\x20')};}},Pt=class c{constructor(_0x399c61,_0x4991c9,_0x1d6c41){const _0x23a955=a0_0x4ff83f;this[_0x23a955(0x622)]=_0x399c61,this[_0x23a955(0x664)]=_0x4991c9,this['repository']=_0x1d6c41,this['db']={},this[_0x23a955(0x7fd)]={},this['logger']=new v(c['name']),this[_0x23a955(0x31a)]={},(this['removeInstance'](),this[_0x23a955(0x3a5)](),Object[_0x23a955(0x2dc)](this['db'],_0x4991c9[_0x23a955(0x605)](_0x23a955(0x3b9))),Object[_0x23a955(0x2dc)](this[_0x23a955(0x7fd)],_0x4991c9[_0x23a955(0x605)](_0x23a955(0x4bc))),this[_0x23a955(0x5be)]=this['db']['ENABLED']?this[_0x23a955(0x53b)][_0x23a955(0x466)]?.['db'](this['db'][_0x23a955(0x616)]['DB_PREFIX_NAME']+_0x23a955(0x323)):void 0x0,this['cache']=this[_0x23a955(0x7fd)][_0x23a955(0x81b)]?new re(this['redis']):void 0x0);}async[a0_0x4ff83f(0x310)](_0x22a7d7){const _0x296866=a0_0x4ff83f;if(_0x22a7d7&&!this['waInstances'][_0x22a7d7])throw new k(_0x296866(0x1d6)+_0x22a7d7+_0x296866(0x1ee));let _0xc09a69=[];for await(let [_0x13c84e,_0x374191]of Object[_0x296866(0x489)](this[_0x296866(0x31a)]))if(_0x374191&&_0x374191[_0x296866(0x623)][_0x296866(0x6dd)]===_0x296866(0x6f0)){let _0x11f3a9=await this[_0x296866(0x53b)][_0x296866(0x234)][_0x296866(0x678)](_0x13c84e);_0xc09a69[_0x296866(0x3ed)]({'instance':{'instanceName':_0x13c84e,'apikey':_0x11f3a9[_0x296866(0x352)],'owner':_0x374191[_0x296866(0x6a8)],'profileName':await _0x374191[_0x296866(0x183)]()||_0x296866(0x1c7),'profilePictureUrl':_0x374191[_0x296866(0x51d)]}});}return _0xc09a69['find'](_0x517596=>_0x517596[_0x296866(0x5c4)][_0x296866(0x532)]===_0x22a7d7)??_0xc09a69;}async[a0_0x4ff83f(0x4ef)](_0x20f8e4){const _0x2ee1f4=a0_0x4ff83f;if(this['db'][_0x2ee1f4(0x81b)]&&(await this[_0x2ee1f4(0x53b)]['dbServer'][_0x2ee1f4(0x773)](),(await this[_0x2ee1f4(0x5be)][_0x2ee1f4(0x1e6)]())[_0x2ee1f4(0x78e)]>0x0&&await this[_0x2ee1f4(0x5be)]['dropCollection'](_0x20f8e4)),this[_0x2ee1f4(0x7fd)][_0x2ee1f4(0x81b)]){this[_0x2ee1f4(0x223)][_0x2ee1f4(0x1f5)]=_0x20f8e4,await this[_0x2ee1f4(0x223)][_0x2ee1f4(0x6e2)]();return;}}async[a0_0x4ff83f(0x6f6)](){const _0x5ddb3e=a0_0x4ff83f;await this[_0x5ddb3e(0x394)]();let _0x522115=async _0x5790e3=>{const _0x23d608=_0x5ddb3e;let _0x33ce0b=new we(this['configService'],this['eventEmitter'],this[_0x23d608(0x53b)]);_0x33ce0b['instanceName']=_0x5790e3,await _0x33ce0b[_0x23d608(0x441)](),this[_0x23d608(0x31a)][_0x5790e3]=_0x33ce0b;};try{if(this[_0x5ddb3e(0x7fd)][_0x5ddb3e(0x81b)]){let _0x4ce856=await this[_0x5ddb3e(0x223)][_0x5ddb3e(0x5ec)]();_0x4ce856?.['length']>0x0&&_0x4ce856[_0x5ddb3e(0x4bf)](async _0x1fc939=>await _0x522115(_0x1fc939['split'](':')[0x1]));return;}if(this['db'][_0x5ddb3e(0x81b)]){await this[_0x5ddb3e(0x53b)][_0x5ddb3e(0x466)][_0x5ddb3e(0x773)]();let _0x48b863=await this[_0x5ddb3e(0x5be)][_0x5ddb3e(0x1e6)]();_0x48b863['length']>0x0&&_0x48b863[_0x5ddb3e(0x4bf)](async _0x201bb4=>await _0x522115(_0x201bb4[_0x5ddb3e(0x1c6)][_0x5ddb3e(0x707)](/^[\w-]+\./,'')));return;}}catch(_0x498e4a){this['logger'][_0x5ddb3e(0x57f)](_0x498e4a);}}async[a0_0x4ff83f(0x3eb)](){const _0x509be6=a0_0x4ff83f;let _0x1c4afa=await this[_0x509be6(0x53b)][_0x509be6(0x234)][_0x509be6(0x1e1)](),_0x17cfc2=_0x1c4afa[_0x509be6(0x53c)](_0x167e76=>!this['waInstances'][_0x167e76[_0x509be6(0x572)]]&&(_0x167e76['online']||typeof _0x167e76[_0x509be6(0x517)]>'u'));_0x17cfc2[_0x509be6(0x78e)]>0x0&&await Promise[_0x509be6(0x5b2)](_0x17cfc2[_0x509be6(0x5c3)](async _0x558085=>{const _0x5072cd=_0x509be6;let _0x650a6={'online':!0x1,'lastDisconnect':Date['now']()};await this[_0x5072cd(0x53b)][_0x5072cd(0x234)][_0x5072cd(0x3b6)](_0x650a6,_0x558085[_0x5072cd(0x572)]);}));let _0x173fa1=Date[_0x509be6(0x7fe)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x4bef62=_0x1c4afa[_0x509be6(0x53c)](_0x4e601d=>!this[_0x509be6(0x31a)][_0x4e601d[_0x509be6(0x572)]]&&typeof _0x4e601d[_0x509be6(0x70f)]<'u'&&_0x4e601d[_0x509be6(0x70f)]<_0x173fa1);_0x4bef62[_0x509be6(0x78e)]>0x0&&await Promise[_0x509be6(0x5b2)](_0x4bef62[_0x509be6(0x5c3)](async _0x20a90b=>{}));}async[a0_0x4ff83f(0x394)](){const _0x3fddda=a0_0x4ff83f;try{let _0x5e6f1c={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x25769f={'online':!0x1,'lastDisconnect':Date[_0x3fddda(0x7fe)]()},_0x2d559f=await this[_0x3fddda(0x53b)]['auth'][_0x3fddda(0x296)](_0x5e6f1c,_0x25769f);console[_0x3fddda(0x4b8)]('Instâncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0x2d559f['insertCount']),await this[_0x3fddda(0x204)]();}catch(_0x184370){console[_0x3fddda(0x57f)](_0x3fddda(0x636),_0x184370);}}async[a0_0x4ff83f(0x204)](){const _0x14970b=a0_0x4ff83f;try{let _0x229973={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x200392=await this[_0x14970b(0x53b)][_0x14970b(0x234)][_0x14970b(0x1d1)](_0x229973);console['log'](_0x14970b(0x48f)+_0x200392[_0x14970b(0x457)]);}catch(_0x2fcad0){console[_0x14970b(0x57f)](_0x14970b(0x5f3),_0x2fcad0);}}[a0_0x4ff83f(0x292)](){const _0x2bbdc1=a0_0x4ff83f;this[_0x2bbdc1(0x622)]['on'](_0x2bbdc1(0x6af),async _0x53fd11=>{const _0x596a07=_0x2bbdc1;try{this[_0x596a07(0x31a)][_0x53fd11]=void 0x0;}catch{}try{this[_0x596a07(0x4ef)](_0x53fd11);}finally{this['logger'][_0x596a07(0x4cd)](_0x596a07(0x1d6)+_0x53fd11+'\x22\x20-\x20REMOVED');}});}['noConnection'](){const _0xf08f72=a0_0x4ff83f;this[_0xf08f72(0x622)]['on'](_0xf08f72(0x209),async _0x3ca252=>{const _0x5d90a4=_0xf08f72;try{this['waInstances'][_0x3ca252]=void 0x0;}catch{}try{this[_0x5d90a4(0x4ef)](_0x3ca252);}finally{this[_0x5d90a4(0x277)]['warn'](_0x5d90a4(0x1d6)+_0x3ca252+_0x5d90a4(0x708));}});}},$t=class extends x{['getChatModelForOwner'](_0x2c389e){return Js(_0x2c389e);}async['insert'](_0x5f0d4c){const _0x1cd32a=a0_0x4ff83f;if(_0x5f0d4c[_0x1cd32a(0x78e)]!==0x0)try{return{'insertCount':(await this[_0x1cd32a(0x31c)](_0x5f0d4c[0x0][_0x1cd32a(0x343)])['insertMany']([..._0x5f0d4c]))[_0x1cd32a(0x78e)]};}catch(_0x34845c){return _0x34845c;}}async['find'](_0x5453d8,_0x2e6885){const _0x445594=a0_0x4ff83f;try{let _0x129d87=this['getChatModelForOwner'](_0x2e6885),_0x2b2f46=A(_0x5453d8['where']);return await _0x129d87['find'](_0x2b2f46)[_0x445594(0x527)]({'lastmsg':-0x1})['limit'](_0x5453d8?.[_0x445594(0x554)]??0x0)[_0x445594(0x1a7)]();}catch{return[];}}async[a0_0x4ff83f(0x4ad)](_0x5dde1e,_0x8350){const _0x5773e8=a0_0x4ff83f;try{return await this[_0x5773e8(0x31c)](_0x8350)[_0x5773e8(0x1d1)]({..._0x5dde1e[_0x5773e8(0x4d7)]}),[];}catch(_0x181f0b){return{'error':_0x181f0b?.[_0x5773e8(0x552)]()};}}async[a0_0x4ff83f(0x64f)](_0x3c241e,_0x1096c1){const _0x4fa3a2=a0_0x4ff83f;try{let _0x9fb7a7=this['getChatModelForOwner'](_0x1096c1),_0x4e7684=A(_0x3c241e[_0x4fa3a2(0x4d7)]);return await _0x9fb7a7[_0x4fa3a2(0x64f)](_0x4e7684)[_0x4fa3a2(0x1a7)]();}catch{return null;}}async[a0_0x4ff83f(0x273)](_0x534fbb,_0x187cbe,_0x3f2d3f,_0x36801e,_0x5ac9e5=a0_0x4ff83f(0x710)){const _0xf11d94=a0_0x4ff83f;try{let _0x56443e={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x36801e},_0x388e39=this[_0xf11d94(0x31c)](_0x3f2d3f),_0x1a6fb9=A(_0x534fbb[_0xf11d94(0x4d7)]);Object[_0xf11d94(0x356)](_0x187cbe)[_0xf11d94(0x4bf)](_0x14cd3f=>{_0x187cbe[_0x14cd3f]==null&&delete _0x187cbe[_0x14cd3f];});let _0x27255e={};return _0x27255e[_0x5ac9e5]=_0x187cbe,await _0x388e39[_0xf11d94(0x319)](_0x1a6fb9,_0x27255e,_0x56443e);}catch(_0xd42770){return console[_0xf11d94(0x57f)](_0xd42770),null;}}async[a0_0x4ff83f(0x3e3)](_0x412f98){const _0x4ece97=a0_0x4ff83f;try{let _0x229992=this[_0x4ece97(0x31c)](_0x412f98[0x0][_0x4ece97(0x566)]['where'][_0x4ece97(0x343)]),_0xb4461c=_0x412f98[_0x4ece97(0x5c3)](_0x51d39f=>({'updateOne':{'filter':{..._0x51d39f[_0x4ece97(0x566)][_0x4ece97(0x4d7)]},'update':{'$set':_0x51d39f[_0x4ece97(0x416)]},'upsert':!0x0}})),_0x3276c4=await _0x229992['bulkWrite'](_0xb4461c);return _0x3276c4[_0x4ece97(0x771)]+_0x3276c4[_0x4ece97(0x28a)];}catch(_0x5e79fa){return console[_0x4ece97(0x57f)](_0x5e79fa),0x0;}}async['updateMissingLabels'](_0x2cb081){const _0x536a87=a0_0x4ff83f;try{let _0x3e0d9b=this[_0x536a87(0x31c)](_0x2cb081),_0x17331a={'labels':{'$exists':!0x0}},_0x1a34e2={'$unset':{'labels':''}};return(await _0x3e0d9b[_0x536a87(0x3e3)](_0x17331a,_0x1a34e2))[_0x536a87(0x771)];}catch(_0x86b8ba){return console['error'](_0x86b8ba),0x0;}}async['updateMissingEtiquetas'](_0x8fa07b){const _0x18c804=a0_0x4ff83f;try{let _0x1881ca=this[_0x18c804(0x31c)](_0x8fa07b),_0x10c33c={'leadInfo.etiquetas':{'$exists':!0x1}},_0x532e79={'$set':{'leadInfo.etiquetas':[]}};return(await _0x1881ca[_0x18c804(0x3e3)](_0x10c33c,_0x532e79))['modifiedCount'];}catch(_0x38e59b){return console[_0x18c804(0x57f)](_0x38e59b),0x0;}}async[a0_0x4ff83f(0x4c3)](_0x320b35){const _0x1615e5=a0_0x4ff83f;try{let _0x57f8d0=this['getChatModelForOwner'](_0x320b35),_0x2711ae={'leadInfo.tags':{'$exists':!0x1}},_0x4d01b5={'$set':{'leadInfo.tags':[]}};return(await _0x57f8d0[_0x1615e5(0x3e3)](_0x2711ae,_0x4d01b5))[_0x1615e5(0x771)];}catch(_0x5420fa){return console[_0x1615e5(0x57f)](_0x5420fa),0x0;}}async[a0_0x4ff83f(0x610)](_0x45d3ea){const _0xd93bb0=a0_0x4ff83f;try{let _0xb10c92=this[_0xd93bb0(0x31c)](_0x45d3ea),_0x4e5f97={'leadInfo.customFields':{'$exists':!0x1}},_0x16e430={'$set':{'leadInfo.customFields':[]}};return(await _0xb10c92[_0xd93bb0(0x3e3)](_0x4e5f97,_0x16e430))[_0xd93bb0(0x771)];}catch(_0x5ae3cc){return console[_0xd93bb0(0x57f)](_0x5ae3cc),0x0;}}async['insertMany'](_0x1e9907,_0x475055){const _0x1b008b=a0_0x4ff83f;if(!Array['isArray'](_0x1e9907)||_0x1e9907['length']===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this[_0x1b008b(0x31c)](_0x475055)[_0x1b008b(0x344)](_0x1e9907))[_0x1b008b(0x78e)];}catch(_0x1a0e7f){throw console[_0x1b008b(0x57f)](_0x1b008b(0x64b),_0x1a0e7f),_0x1a0e7f;}}async[a0_0x4ff83f(0x184)](_0xc95a53,_0x123218){const _0x5351dc=a0_0x4ff83f;try{await this['getChatModelForOwner'](_0x123218)['deleteOne']({'_id':_0xc95a53});}catch(_0x522ff0){throw console[_0x5351dc(0x57f)](_0x5351dc(0x22c),_0x522ff0),_0x522ff0;}}},kt=class extends x{[a0_0x4ff83f(0x33e)](_0x44092e){return pa(_0x44092e);}async[a0_0x4ff83f(0x273)](_0x2f3c65,_0x448ae0,_0x515039,_0x19ad14){const _0x5bde1a=a0_0x4ff83f;try{let _0x21948c={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x19ad14},_0x4f34f7=this[_0x5bde1a(0x33e)](_0x515039),_0x47e43a=A(_0x2f3c65[_0x5bde1a(0x4d7)]);return await _0x4f34f7['findOneAndUpdate'](_0x47e43a,{'$set':_0x448ae0},_0x21948c);}catch(_0x229e3a){return console['error'](_0x229e3a),null;}}async[a0_0x4ff83f(0x678)](_0x5bbd85,_0x2d4da5){const _0x4f556f=a0_0x4ff83f;try{let _0x23f7c4=this['getLabelModelForOwner'](_0x2d4da5),_0x525f74=A(_0x5bbd85[_0x4f556f(0x4d7)]);return await _0x23f7c4[_0x4f556f(0x678)](_0x525f74);}catch(_0x4690df){console['error'](_0x4690df);}}async[a0_0x4ff83f(0x335)](_0x47a432,_0x1e82b9){const _0x2093d5=a0_0x4ff83f;try{let _0x56361c=this['getLabelModelForOwner'](_0x1e82b9),_0x28b2d0=A(_0x47a432[_0x2093d5(0x4d7)]);await _0x56361c[_0x2093d5(0x1d1)](_0x28b2d0);}catch(_0x28cd8a){console['error'](_0x28cd8a);}}async[a0_0x4ff83f(0x4ad)](_0x198dea){const _0x5abc84=a0_0x4ff83f;try{return await this[_0x5abc84(0x33e)](_0x198dea)[_0x5abc84(0x6a3)][_0x5abc84(0x24a)](),{'success':!0x0};}catch(_0x357c34){return console['error'](_0x357c34),{'success':!0x1,'error':_0x357c34};}}},Lt=class{constructor(_0x564989){const _0x394bb1=a0_0x4ff83f;this[_0x394bb1(0x810)]=_0x564989;}async[a0_0x4ff83f(0x699)]({instanceName:_0x4d95a5},_0x1981a4){const _0x8efb11=a0_0x4ff83f;return await this['waMonitor']['waInstances'][_0x4d95a5][_0x8efb11(0x699)](_0x1981a4);}async[a0_0x4ff83f(0x6ff)]({instanceName:_0x45303e},_0x52b756){const _0x49a597=a0_0x4ff83f;return await this[_0x49a597(0x810)][_0x49a597(0x31a)][_0x45303e][_0x49a597(0x6ff)](_0x52b756);}async['importChats']({instanceName:_0x1a35b3},_0xf34995){const _0x4732d6=a0_0x4ff83f;return await this[_0x4732d6(0x810)]['waInstances'][_0x1a35b3]['importChats'](_0xf34995);}async['readMessage']({instanceName:_0x1275e6},_0x14d50b){const _0x141b2c=a0_0x4ff83f;return await this[_0x141b2c(0x810)][_0x141b2c(0x31a)][_0x1275e6]['markMessageAsRead'](_0x14d50b);}async['archiveChat']({instanceName:_0x5e88e4},_0xf1e1fd){const _0x2b58b8=a0_0x4ff83f;return await this[_0x2b58b8(0x810)][_0x2b58b8(0x31a)][_0x5e88e4]['archiveChat'](_0xf1e1fd);}async['deleteMessage']({instanceName:_0x46d003},_0x3e178e){const _0x26a952=a0_0x4ff83f;return await this[_0x26a952(0x810)][_0x26a952(0x31a)][_0x46d003]['deleteMessage'](_0x3e178e);}async[a0_0x4ff83f(0x82b)]({instanceName:_0xdee208},_0x471671){const _0x550d62=a0_0x4ff83f;return await this[_0x550d62(0x810)][_0x550d62(0x31a)][_0xdee208][_0x550d62(0x18e)](_0x471671[_0x550d62(0x528)]);}async[a0_0x4ff83f(0x7b1)]({instanceName:_0x58196a},_0x96cc79){const _0x223b25=a0_0x4ff83f;return await this['waMonitor'][_0x223b25(0x31a)][_0x58196a][_0x223b25(0x7b1)](_0x96cc79[_0x223b25(0x528)]);}async[a0_0x4ff83f(0x45d)]({instanceName:_0x3ab23a},_0x5d84e9){const _0x24220e=a0_0x4ff83f;return await this['waMonitor'][_0x24220e(0x31a)][_0x3ab23a][_0x24220e(0x45d)](_0x5d84e9);}async['fetchContacts']({instanceName:_0x340a82},_0x5b2a64){const _0x48f6b3=a0_0x4ff83f;return await this[_0x48f6b3(0x810)]['waInstances'][_0x340a82][_0x48f6b3(0x35b)](_0x5b2a64);}async[a0_0x4ff83f(0x36d)]({instanceName:_0x488291},_0x503c28){const _0x1a0782=a0_0x4ff83f;return await this[_0x1a0782(0x810)][_0x1a0782(0x31a)][_0x488291]['getBase64FromMediaMessage'](_0x503c28);}async[a0_0x4ff83f(0x6ed)]({instanceName:_0x40c9de},_0x101479){const _0x1ec0a1=a0_0x4ff83f;return await this[_0x1ec0a1(0x810)]['waInstances'][_0x40c9de][_0x1ec0a1(0x6ed)](_0x101479);}async[a0_0x4ff83f(0x5fa)]({instanceName:_0x143d4e}){const _0x27980f=a0_0x4ff83f;return await this[_0x27980f(0x810)][_0x27980f(0x31a)][_0x143d4e][_0x27980f(0x5fa)]();}async[a0_0x4ff83f(0x5e8)]({instanceName:_0x212367}){const _0x5aca0=a0_0x4ff83f;return await this[_0x5aca0(0x810)][_0x5aca0(0x31a)][_0x212367][_0x5aca0(0x5e8)]();}async['fetchPrivacySettings']({instanceName:_0x3f21ae}){const _0x1a11c1=a0_0x4ff83f;return await this[_0x1a11c1(0x810)][_0x1a11c1(0x31a)][_0x3f21ae][_0x1a11c1(0x27b)]();}async['updatePrivacySettings']({instanceName:_0x1c98fc},_0x25f5a7){const _0xf49378=a0_0x4ff83f;return await this[_0xf49378(0x810)][_0xf49378(0x31a)][_0x1c98fc]['updatePrivacySettings'](_0x25f5a7);}async['fetchBusinessProfile']({instanceName:_0x589ac9},_0x53bdad){const _0x29a1d2=a0_0x4ff83f;return await this[_0x29a1d2(0x810)][_0x29a1d2(0x31a)][_0x589ac9]['fetchBusinessProfile'](_0x53bdad[_0x29a1d2(0x528)]);}async[a0_0x4ff83f(0x75d)]({instanceName:_0xfa0b53},_0x37ccb7){const _0x58ccc0=a0_0x4ff83f;return await this[_0x58ccc0(0x810)][_0x58ccc0(0x31a)][_0xfa0b53][_0x58ccc0(0x75d)](_0x37ccb7[_0x58ccc0(0x1c3)]);}async[a0_0x4ff83f(0x2b9)]({instanceName:_0x47eb21},_0x5b7d04){const _0x3df558=a0_0x4ff83f;return await this[_0x3df558(0x810)][_0x3df558(0x31a)][_0x47eb21][_0x3df558(0x2b9)](_0x5b7d04[_0x3df558(0x728)]);}async['updateProfilePicture']({instanceName:_0x5f4d46},_0x20cd90){const _0x4b565b=a0_0x4ff83f;return await this[_0x4b565b(0x810)]['waInstances'][_0x5f4d46][_0x4b565b(0x5bb)](_0x20cd90[_0x4b565b(0x6a4)]);}async['removeProfilePicture']({instanceName:_0x29a4c1},_0x18723b){const _0x4f32ed=a0_0x4ff83f;return await this[_0x4f32ed(0x810)]['waInstances'][_0x29a4c1]['removeProfilePicture']();}},Rs=require(a0_0x4ff83f(0x59a)),Ft=class c{constructor(_0x4ddcd6,_0x3c3963,_0x183a72,_0x4ad615,_0x31ac19){const _0x28eb69=a0_0x4ff83f;this['waMonitor']=_0x4ddcd6,this[_0x28eb69(0x664)]=_0x3c3963,this[_0x28eb69(0x53b)]=_0x183a72,this['eventEmitter']=_0x4ad615,this[_0x28eb69(0x523)]=_0x31ac19,this[_0x28eb69(0x277)]=new v(c['name']);}async[a0_0x4ff83f(0x2d8)]({instanceName:_0x593b46,apikey:_0x303a72,number:_0x15d60c,proxy:_0x2179e8=!0x0}){const _0x455a36=a0_0x4ff83f;try{let _0x57b406=new we(this[_0x455a36(0x664)],this[_0x455a36(0x622)],this[_0x455a36(0x53b)]);_0x57b406['instanceName']=_0x593b46,this['waMonitor']['waInstances'][_0x57b406[_0x455a36(0x532)]]=_0x57b406;let _0x4f7c4d={};_0x303a72?(await this[_0x455a36(0x53b)][_0x455a36(0x234)][_0x455a36(0x3b6)]({'apikey':_0x303a72},_0x593b46),_0x4f7c4d[_0x455a36(0x352)]=_0x303a72):_0x4f7c4d=await this['authService'][_0x455a36(0x695)]({'instanceName':_0x57b406['instanceName']});let _0x5501d4;return await _0x57b406[_0x455a36(0x441)](_0x15d60c),await(0x0,Rs['delay'])(0x7d0),_0x5501d4=_0x57b406[_0x455a36(0x3fe)],{'instance':{'instanceName':_0x57b406[_0x455a36(0x532)],'status':_0x455a36(0x6e9)},'hash':_0x4f7c4d,'qrcode':_0x5501d4};}catch(_0x5c2874){this[_0x455a36(0x277)][_0x455a36(0x57f)](_0x5c2874);}}async['connectToWhatsappController']({instanceName:_0x90ea12,number:_0x1f5003=null}){const _0x458431=a0_0x4ff83f;try{let _0x22f582=this[_0x458431(0x810)][_0x458431(0x31a)][_0x90ea12];switch(_0x22f582?.[_0x458431(0x623)]?.[_0x458431(0x6dd)]){case _0x458431(0x19f):return await _0x22f582[_0x458431(0x441)](_0x1f5003),await(0x0,Rs[_0x458431(0x7bf)])(0x7d0),_0x22f582[_0x458431(0x3fe)];case'connecting':return _0x22f582['qrCode'];default:return await this[_0x458431(0x576)]({'instanceName':_0x90ea12});}}catch(_0x5e3f14){this[_0x458431(0x277)]['log'](_0x5e3f14);}}async[a0_0x4ff83f(0x576)]({instanceName:_0x5aeecf}){const _0x54c25b=a0_0x4ff83f;let _0x2389a4=this['waMonitor'][_0x54c25b(0x31a)][_0x5aeecf]['connectionStatus'],_0x514914=null;_0x2389a4[_0x54c25b(0x6dd)]===_0x54c25b(0x6f0)&&_0x5aeecf&&(_0x514914=await this[_0x54c25b(0x810)]['instanceInfo'](_0x5aeecf));let _0x103a22=null;return _0x2389a4['state']==='connecting'&&_0x5aeecf&&(_0x103a22=this[_0x54c25b(0x810)][_0x54c25b(0x31a)][_0x5aeecf][_0x54c25b(0x3fe)]),{'instance':_0x5aeecf,'connectionStatus':_0x2389a4,'instanceInfo':_0x514914,'qrcode':_0x103a22};}async[a0_0x4ff83f(0x5e5)]({instanceName:_0x11d00f}){const _0xf45fc4=a0_0x4ff83f;try{return this[_0xf45fc4(0x810)][_0xf45fc4(0x31a)][_0x11d00f]?.[_0xf45fc4(0x4ae)]?.['ws']?.[_0xf45fc4(0x19f)](),{'status':_0xf45fc4(0x797),'error':!0x1,'response':{'message':_0xf45fc4(0x7a9)}};}catch(_0x335851){this[_0xf45fc4(0x277)][_0xf45fc4(0x57f)](_0x335851);}}async[a0_0x4ff83f(0x7c6)]({instanceName:_0x557bb1}){const _0x18037f=a0_0x4ff83f;return _0x557bb1?this[_0x18037f(0x810)][_0x18037f(0x310)](_0x557bb1):this[_0x18037f(0x810)][_0x18037f(0x310)]();}async['logout']({instanceName:_0x60b72e}){const _0x5e722b=a0_0x4ff83f;try{return await this[_0x5e722b(0x810)][_0x5e722b(0x31a)][_0x60b72e]?.[_0x5e722b(0x4ae)]?.[_0x5e722b(0x4cb)](_0x5e722b(0x47b)+_0x60b72e),{'error':!0x1,'message':_0x5e722b(0x2e1)};}catch(_0x425e72){throw new I(_0x425e72[_0x5e722b(0x552)]());}}async[a0_0x4ff83f(0x656)]({instanceName:_0x513701}){const _0x2d0645=a0_0x4ff83f;if((await this['connectionState']({'instanceName':_0x513701}))['connectionStatus']['state']==='open')throw new m([_0x2d0645(0x2e5),_0x2d0645(0x411)]);try{return delete this[_0x2d0645(0x810)][_0x2d0645(0x31a)][_0x513701],{'error':!0x1,'message':_0x2d0645(0x2b3)};}catch(_0x294b6e){throw new m(_0x294b6e[_0x2d0645(0x552)]());}}},X=require(a0_0x4ff83f(0x37c)),jt=class{constructor(_0x880c78){const _0x1e7eb3=a0_0x4ff83f;this[_0x1e7eb3(0x810)]=_0x880c78;}async[a0_0x4ff83f(0x4e4)]({instanceName:_0x2de5ee},_0xd5cb13){const _0x380f3c=a0_0x4ff83f;return await this[_0x380f3c(0x810)][_0x380f3c(0x31a)][_0x2de5ee][_0x380f3c(0x63b)](_0xd5cb13);}async[a0_0x4ff83f(0x476)]({instanceName:_0x394071},_0x1da0c1){const _0x34d2fe=a0_0x4ff83f;return await this['waMonitor']['waInstances'][_0x394071][_0x34d2fe(0x4a7)](_0x1da0c1);}async['sendMedia']({instanceName:_0x83685e},_0x2b4529){const _0x5159c1=a0_0x4ff83f;if((0x0,X[_0x5159c1(0x753)])(_0x2b4529?.[_0x5159c1(0x3f3)]?.['media'])&&!_0x2b4529?.[_0x5159c1(0x3f3)]?.[_0x5159c1(0x2fb)])throw new m(_0x5159c1(0x253));if((0x0,X[_0x5159c1(0x38c)])(_0x2b4529?.[_0x5159c1(0x3f3)]?.[_0x5159c1(0x688)])||(0x0,X[_0x5159c1(0x753)])(_0x2b4529?.[_0x5159c1(0x3f3)]?.['media']))return await this[_0x5159c1(0x810)][_0x5159c1(0x31a)][_0x83685e][_0x5159c1(0x3f3)](_0x2b4529);throw new m(_0x5159c1(0x32b));}async[a0_0x4ff83f(0x399)]({instanceName:_0x5b2e49},_0x2d56a9){const _0x1d9172=a0_0x4ff83f;if((0x0,X[_0x1d9172(0x38c)])(_0x2d56a9[_0x1d9172(0x73f)][_0x1d9172(0x1bd)])||(0x0,X[_0x1d9172(0x753)])(_0x2d56a9[_0x1d9172(0x73f)]['image']))return await this['waMonitor'][_0x1d9172(0x31a)][_0x5b2e49]['mediaSticker'](_0x2d56a9);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendWhatsAppAudio']({instanceName:_0x4b53e9},_0x29888a){const _0xce1c78=a0_0x4ff83f;if((0x0,X[_0xce1c78(0x38c)])(_0x29888a[_0xce1c78(0x56a)][_0xce1c78(0x7c8)])||(0x0,X['isBase64'])(_0x29888a[_0xce1c78(0x56a)]['audio']))return await this[_0xce1c78(0x810)][_0xce1c78(0x31a)][_0x4b53e9][_0xce1c78(0x455)](_0x29888a);throw new m(_0xce1c78(0x32b));}async[a0_0x4ff83f(0x20a)]({instanceName:_0x335f66},_0xc28c95){const _0x5f33d1=a0_0x4ff83f;if((0x0,X['isBase64'])(_0xc28c95[_0x5f33d1(0x498)][_0x5f33d1(0x3f3)]?.[_0x5f33d1(0x688)])&&!_0xc28c95[_0x5f33d1(0x498)][_0x5f33d1(0x3f3)]?.['fileName'])throw new m(_0x5f33d1(0x253));return await this['waMonitor'][_0x5f33d1(0x31a)][_0x335f66][_0x5f33d1(0x498)](_0xc28c95);}async[a0_0x4ff83f(0x3a4)]({instanceName:_0x5b3db7},_0x38ed2f){const _0x289449=a0_0x4ff83f;return await this[_0x289449(0x810)][_0x289449(0x31a)][_0x5b3db7][_0x289449(0x6cf)](_0x38ed2f);}async[a0_0x4ff83f(0x6a5)]({instanceName:_0x56793d},_0x4412ee){const _0x5aa014=a0_0x4ff83f;return await this[_0x5aa014(0x810)][_0x5aa014(0x31a)][_0x56793d][_0x5aa014(0x280)](_0x4412ee);}async[a0_0x4ff83f(0x63e)]({instanceName:_0x484417},_0x2483f8){const _0x1ddc11=a0_0x4ff83f;return await this[_0x1ddc11(0x810)][_0x1ddc11(0x31a)][_0x484417][_0x1ddc11(0x6e3)](_0x2483f8);}async[a0_0x4ff83f(0x540)]({instanceName:_0x5df71b},_0xf7479b){const _0x1a446f=a0_0x4ff83f;return await this[_0x1a446f(0x810)][_0x1a446f(0x31a)][_0x5df71b]['contactMessage'](_0xf7479b);}async[a0_0x4ff83f(0x355)]({instanceName:_0x632fc0},_0x5b2d86){const _0xcff3b0=a0_0x4ff83f;if(!_0x5b2d86[_0xcff3b0(0x648)][_0xcff3b0(0x6b5)][_0xcff3b0(0x711)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0xcff3b0(0x67c));return await this[_0xcff3b0(0x810)][_0xcff3b0(0x31a)][_0x632fc0]['reactionMessage'](_0x5b2d86);}async[a0_0x4ff83f(0x5d2)]({instanceName:_0x3bb798},_0x2bb619){const _0x2cb8aa=a0_0x4ff83f;return await this['waMonitor'][_0x2cb8aa(0x31a)][_0x3bb798][_0x2cb8aa(0x3ba)](_0x2bb619);}},Cr=require(a0_0x4ff83f(0x50b)),Ts=require(a0_0x4ff83f(0x721)),Ut=class c{constructor(_0x1fdda5,_0x47afdf,_0x483572){const _0x4d8b45=a0_0x4ff83f;this[_0x4d8b45(0x664)]=_0x1fdda5,this[_0x4d8b45(0x810)]=_0x47afdf,this[_0x4d8b45(0x53b)]=_0x483572,this[_0x4d8b45(0x277)]=new v(c[_0x4d8b45(0x1c3)]);}async['jwt'](_0x519b80){const _0x223361=a0_0x4ff83f;let _0x4ee882=this['configService'][_0x223361(0x605)](_0x223361(0x29e))['JWT'],_0x37382f=(0x0,Cr[_0x223361(0x232)])({'instanceName':_0x519b80['instanceName'],'apiName':ze,'tokenId':(0x0,Ts['v4'])()},_0x4ee882[_0x223361(0x18a)],{'expiresIn':_0x4ee882['EXPIRIN_IN'],'encoding':_0x223361(0x74b),'subject':_0x223361(0x48c)}),_0x29d705=await this['repository'][_0x223361(0x234)][_0x223361(0x3b6)]({'jwt':_0x37382f},_0x519b80[_0x223361(0x532)]);if(_0x29d705['error'])throw this[_0x223361(0x277)][_0x223361(0x57f)]({'localError':c[_0x223361(0x1c3)]+'.jwt','error':_0x29d705[_0x223361(0x57f)]}),new m(_0x223361(0x748),_0x29d705[_0x223361(0x57f)]?.['toString']());return{'jwt':_0x37382f};}async[a0_0x4ff83f(0x352)](_0x1f5c1d){const _0x27496f=a0_0x4ff83f;let _0x2b56ee=(0x0,Ts['v4'])()[_0x27496f(0x36a)](),_0x3be403=await this['repository']['auth'][_0x27496f(0x3b6)]({'apikey':_0x2b56ee},_0x1f5c1d[_0x27496f(0x532)]);if(_0x3be403['error'])throw this[_0x27496f(0x277)]['error']({'localError':c['name']+_0x27496f(0x5dd),'error':_0x3be403[_0x27496f(0x57f)]}),new m(_0x27496f(0x748),_0x3be403[_0x27496f(0x57f)]?.[_0x27496f(0x552)]());return{'apikey':_0x2b56ee};}async[a0_0x4ff83f(0x695)](_0x5bd6b1){const _0x1d19d0=a0_0x4ff83f;let _0x1c3b3d=this['configService']['get'](_0x1d19d0(0x29e));return await this[_0x1c3b3d['TYPE']](_0x5bd6b1);}},qt=class{constructor(_0xbcd060){const _0x58c9c8=a0_0x4ff83f;this[_0x58c9c8(0x810)]=_0xbcd060;}async[a0_0x4ff83f(0x1fb)](_0x2d65f2,_0x5c8382){const _0x3e2440=a0_0x4ff83f;return await this[_0x3e2440(0x810)][_0x3e2440(0x31a)][_0x2d65f2[_0x3e2440(0x532)]][_0x3e2440(0x1fb)](_0x5c8382);}async[a0_0x4ff83f(0x598)](_0x4b4c92,_0x3bf6b0){const _0x4be646=a0_0x4ff83f;return await this[_0x4be646(0x810)][_0x4be646(0x31a)][_0x4b4c92[_0x4be646(0x532)]][_0x4be646(0x598)](_0x3bf6b0);}async[a0_0x4ff83f(0x337)](_0x470804,_0xc98c37){const _0xa4609=a0_0x4ff83f;return await this[_0xa4609(0x810)][_0xa4609(0x31a)][_0x470804[_0xa4609(0x532)]][_0xa4609(0x337)](_0xc98c37);}async[a0_0x4ff83f(0x430)](_0x1278fe,_0x3f606b){const _0x250637=a0_0x4ff83f;return await this[_0x250637(0x810)][_0x250637(0x31a)][_0x1278fe['instanceName']][_0x250637(0x430)](_0x3f606b);}async[a0_0x4ff83f(0x702)](_0x48eada,_0x5dcf38){const _0x5d6e52=a0_0x4ff83f;return await this[_0x5d6e52(0x810)][_0x5d6e52(0x31a)][_0x48eada['instanceName']][_0x5d6e52(0x702)](_0x5dcf38);}async['findGroupInfo'](_0x53c70e,_0x5db29a){const _0x2dd931=a0_0x4ff83f;return await this[_0x2dd931(0x810)][_0x2dd931(0x31a)][_0x53c70e[_0x2dd931(0x532)]][_0x2dd931(0x301)](_0x5db29a);}async[a0_0x4ff83f(0x496)](_0x3065a6){const _0x2ffa8a=a0_0x4ff83f;return await this[_0x2ffa8a(0x810)][_0x2ffa8a(0x31a)][_0x3065a6[_0x2ffa8a(0x532)]][_0x2ffa8a(0x496)]();}async['inviteCode'](_0x2229e3,_0x3ca21b){const _0x20993b=a0_0x4ff83f;return await this[_0x20993b(0x810)][_0x20993b(0x31a)][_0x2229e3['instanceName']][_0x20993b(0x682)](_0x3ca21b);}async[a0_0x4ff83f(0x4c8)](_0xf002d0,_0x43b125){const _0x2eb0d9=a0_0x4ff83f;return await this[_0x2eb0d9(0x810)][_0x2eb0d9(0x31a)][_0xf002d0[_0x2eb0d9(0x532)]][_0x2eb0d9(0x4c8)](_0x43b125);}async[a0_0x4ff83f(0x1ba)](_0x33f8fd,_0x2b144e){const _0xccfd82=a0_0x4ff83f;return await this['waMonitor'][_0xccfd82(0x31a)][_0x33f8fd[_0xccfd82(0x532)]][_0xccfd82(0x1ba)](_0x2b144e);}async[a0_0x4ff83f(0x387)](_0x57b93d,_0x3fbb1f){const _0x3c33f6=a0_0x4ff83f;return await this[_0x3c33f6(0x810)]['waInstances'][_0x57b93d[_0x3c33f6(0x532)]][_0x3c33f6(0x387)](_0x3fbb1f);}async[a0_0x4ff83f(0x267)](_0x261131,_0x14f7a7){const _0x11d280=a0_0x4ff83f;return await this['waMonitor']['waInstances'][_0x261131[_0x11d280(0x532)]][_0x11d280(0x808)](_0x14f7a7);}async[a0_0x4ff83f(0x7f3)](_0x400f51,_0x5594b3){const _0x13633c=a0_0x4ff83f;return await this[_0x13633c(0x810)][_0x13633c(0x31a)][_0x400f51[_0x13633c(0x532)]][_0x13633c(0x7f3)](_0x5594b3);}async[a0_0x4ff83f(0x7dc)](_0x2822c5,_0x208d9a){const _0x9ec5e3=a0_0x4ff83f;return await this[_0x9ec5e3(0x810)][_0x9ec5e3(0x31a)][_0x2822c5[_0x9ec5e3(0x532)]][_0x9ec5e3(0x7dc)](_0x208d9a);}},Jt=class{constructor(_0x37d416){this['waMonitor']=_0x37d416;}['create'](_0x2beec7,_0x3ff88a){const _0x527c61=a0_0x4ff83f;return this['waMonitor']['waInstances'][_0x2beec7[_0x527c61(0x532)]]['setWebhook'](_0x3ff88a);}async[a0_0x4ff83f(0x678)](_0x28a98f){const _0x2d4e64=a0_0x4ff83f;try{return await this[_0x2d4e64(0x810)][_0x2d4e64(0x31a)][_0x28a98f[_0x2d4e64(0x532)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},Xd=new v(a0_0x4ff83f(0x788)),Vt=class{constructor(_0x3c92e8){this['waMonitor']=_0x3c92e8;}async[a0_0x4ff83f(0x49c)](_0x1d008f,_0x288b75){const _0x28191b=a0_0x4ff83f;return await this['waMonitor'][_0x28191b(0x31a)][_0x1d008f['instanceName']]['editScheduleMessage'](_0x288b75);}async[a0_0x4ff83f(0x375)](_0x3445b0){const _0x566966=a0_0x4ff83f;return await this[_0x566966(0x810)]['waInstances'][_0x3445b0[_0x566966(0x532)]][_0x566966(0x375)]();}async[a0_0x4ff83f(0x633)](_0x27c425){const _0x1a9f59=a0_0x4ff83f;return await this[_0x1a9f59(0x810)][_0x1a9f59(0x31a)][_0x27c425[_0x1a9f59(0x532)]][_0x1a9f59(0x633)]();}async[a0_0x4ff83f(0x2bd)](_0xb54ea5){const _0x589c8a=a0_0x4ff83f;return await this[_0x589c8a(0x810)][_0x589c8a(0x31a)][_0xb54ea5[_0x589c8a(0x532)]][_0x589c8a(0x2bd)]();}async[a0_0x4ff83f(0x3e5)](_0x55bc98,_0x142b80){const _0x4a32b7=a0_0x4ff83f;return await this[_0x4a32b7(0x810)][_0x4a32b7(0x31a)][_0x55bc98[_0x4a32b7(0x532)]][_0x4a32b7(0x3e5)](_0x142b80);}async[a0_0x4ff83f(0x509)](_0x4a9c6f,_0x4323f3){const _0x3e42e7=a0_0x4ff83f;return await this['waMonitor']['waInstances'][_0x4a9c6f[_0x3e42e7(0x532)]]['updateCustomFields'](_0x4323f3);}async[a0_0x4ff83f(0x515)](_0x3b1b8f,_0x3ad1f6){const _0x136ec0=a0_0x4ff83f;return await this['waMonitor'][_0x136ec0(0x31a)][_0x3b1b8f[_0x136ec0(0x532)]][_0x136ec0(0x515)](_0x3ad1f6);}async[a0_0x4ff83f(0x5c8)](_0x18b666,_0x2340dc){const _0x5ae27d=a0_0x4ff83f;return await this[_0x5ae27d(0x810)]['waInstances'][_0x18b666[_0x5ae27d(0x532)]][_0x5ae27d(0x5c8)](_0x2340dc);}async[a0_0x4ff83f(0x7f6)](_0x16069c,_0x5bda2e){const _0x373fb2=a0_0x4ff83f;return await this[_0x373fb2(0x810)][_0x373fb2(0x31a)][_0x16069c[_0x373fb2(0x532)]][_0x373fb2(0x7f6)](_0x5bda2e);}async[a0_0x4ff83f(0x614)](_0x3f8529,_0x49ebe3){const _0x7a5539=a0_0x4ff83f;return await this[_0x7a5539(0x810)][_0x7a5539(0x31a)][_0x3f8529[_0x7a5539(0x532)]][_0x7a5539(0x614)](_0x49ebe3);}async['editConversation'](_0xe283f4,_0x4b4041){const _0x5d61ce=a0_0x4ff83f;return await this[_0x5d61ce(0x810)][_0x5d61ce(0x31a)][_0xe283f4[_0x5d61ce(0x532)]][_0x5d61ce(0x747)](_0x4b4041);}async[a0_0x4ff83f(0x547)](_0x153836,_0x38f3c4){const _0x157d04=a0_0x4ff83f;return await this[_0x157d04(0x810)]['waInstances'][_0x153836[_0x157d04(0x532)]][_0x157d04(0x547)](_0x38f3c4);}async[a0_0x4ff83f(0x54f)](_0x171ed9,_0x361627){const _0xcf226c=a0_0x4ff83f;return await this[_0xcf226c(0x810)][_0xcf226c(0x31a)][_0x171ed9[_0xcf226c(0x532)]][_0xcf226c(0x54f)](_0x361627[_0xcf226c(0x1c3)]);}async[a0_0x4ff83f(0x3b0)](_0x2903ea,_0x2fe6b9){const _0x51a23b=a0_0x4ff83f;return await this['waMonitor']['waInstances'][_0x2903ea[_0x51a23b(0x532)]][_0x51a23b(0x3b0)](_0x2fe6b9);}async[a0_0x4ff83f(0x7a0)](_0x240792,_0xbb306c){const _0x2f034b=a0_0x4ff83f;return await this[_0x2f034b(0x810)][_0x2f034b(0x31a)][_0x240792['instanceName']][_0x2f034b(0x7a0)](_0xbb306c);}async[a0_0x4ff83f(0x20c)](_0x5ddc8d,_0x188352){const _0x38fcda=a0_0x4ff83f;return await this[_0x38fcda(0x810)][_0x38fcda(0x31a)][_0x5ddc8d[_0x38fcda(0x532)]][_0x38fcda(0x20c)](_0x188352);}async['editFlowReply'](_0x1b08c9,_0x3dd1d8){const _0x46e7b7=a0_0x4ff83f;return await this[_0x46e7b7(0x810)][_0x46e7b7(0x31a)][_0x1b08c9['instanceName']][_0x46e7b7(0x258)](_0x3dd1d8);}async[a0_0x4ff83f(0x295)](_0x334aaf,_0x35010d){const _0x5b329a=a0_0x4ff83f;return await this['waMonitor'][_0x5b329a(0x31a)][_0x334aaf['instanceName']][_0x5b329a(0x295)](_0x35010d);}async[a0_0x4ff83f(0x213)](_0x547819,_0x216e9d){const _0x5dccba=a0_0x4ff83f;return await this[_0x5dccba(0x810)][_0x5dccba(0x31a)][_0x547819[_0x5dccba(0x532)]]['editFlowCondition'](_0x216e9d);}async[a0_0x4ff83f(0x30a)](_0x1e87c1,_0x3c2ca4){const _0xb8583b=a0_0x4ff83f;return await this['waMonitor'][_0xb8583b(0x31a)][_0x1e87c1[_0xb8583b(0x532)]][_0xb8583b(0x30a)](_0x3c2ca4);}async[a0_0x4ff83f(0x500)](_0x10001e,_0x58c373){const _0x3988dd=a0_0x4ff83f;return await this[_0x3988dd(0x810)][_0x3988dd(0x31a)][_0x10001e[_0x3988dd(0x532)]]['editFlowVariable'](_0x58c373);}async['deleteFlow'](_0xa3316c,_0xbb37be){const _0x2a51d0=a0_0x4ff83f;return await this['waMonitor'][_0x2a51d0(0x31a)][_0xa3316c[_0x2a51d0(0x532)]][_0x2a51d0(0x6c8)](_0xbb37be[_0x2a51d0(0x1c3)]);}async['allFlows'](_0x2ea39b){const _0xc46eb9=a0_0x4ff83f;return await this[_0xc46eb9(0x810)][_0xc46eb9(0x31a)][_0x2ea39b[_0xc46eb9(0x532)]][_0xc46eb9(0x50f)]();}},Bt=class{constructor(_0x2754a5){const _0x1cb60a=a0_0x4ff83f;this[_0x1cb60a(0x4e6)]=_0x2754a5;}async[a0_0x4ff83f(0x683)](_0x28e008,_0x4f9f59){const _0x3d8891=a0_0x4ff83f;return this[_0x3d8891(0x4e6)][_0x3d8891(0x3b6)](_0x28e008,_0x4f9f59);}async['findWebhook'](_0x3c11a4){const _0x242c31=a0_0x4ff83f;return this[_0x242c31(0x4e6)]['find'](_0x3c11a4);}},Gt=class extends x{constructor(_0x4dadf1,_0x5ca083){const _0xa53b1=a0_0x4ff83f;super(_0x5ca083),this[_0xa53b1(0x1b4)]=_0x4dadf1,this['configService']=_0x5ca083;}async['create'](_0x252da2,_0x1988d0){const _0x43b016=a0_0x4ff83f;try{return this[_0x43b016(0x522)][_0x43b016(0x81b)]?{'insertCount':(await this[_0x43b016(0x1b4)][_0x43b016(0x26f)]({'_id':_0x1988d0},{..._0x252da2},{'upsert':!0x0}))[_0x43b016(0x771)]}:{'insertCount':0x1};}catch(_0x22d717){return _0x22d717;}}async[a0_0x4ff83f(0x335)](_0x24b0ca){const _0x14b4aa=a0_0x4ff83f;try{if(this[_0x14b4aa(0x522)]['ENABLED']){await this['webhookModel'][_0x14b4aa(0x2c0)]({'_id':_0x24b0ca});return;}}catch(_0x20a6a5){return{'error':_0x20a6a5};}}async['find'](_0x25c5cd){const _0x1755b6=a0_0x4ff83f;try{if(this[_0x1755b6(0x522)][_0x1755b6(0x81b)])return await this[_0x1755b6(0x1b4)][_0x1755b6(0x64f)]({'_id':_0x25c5cd});}catch{return{};}}},Wt=class extends x{constructor(_0x5ec1dd,_0x27d2e2){const _0x1f9148=a0_0x4ff83f;super(_0x27d2e2),this[_0x1f9148(0x2a5)]=_0x5ec1dd,this[_0x1f9148(0x664)]=_0x27d2e2,this['auth']=_0x27d2e2[_0x1f9148(0x605)](_0x1f9148(0x29e));}async[a0_0x4ff83f(0x3b6)](_0x3a566f,_0xc3e462){const _0x126422=a0_0x4ff83f;try{if(this[_0x126422(0x522)]['ENABLED'])return{'insertCount':(await this[_0x126422(0x2a5)][_0x126422(0x273)]({'_id':_0xc3e462},{'$set':{..._0x3a566f}},{'upsert':!0x0}))[_0x126422(0x771)]};}catch(_0xe9a0fe){return{'error':_0xe9a0fe};}}async[a0_0x4ff83f(0x296)](_0x30dec6,_0x263109){const _0x2582f4=a0_0x4ff83f;try{if(this[_0x2582f4(0x522)][_0x2582f4(0x81b)])return{'insertCount':(await this[_0x2582f4(0x2a5)][_0x2582f4(0x3e3)](_0x30dec6,{'$set':_0x263109},{'upsert':!0x1}))[_0x2582f4(0x771)]};throw new Error(_0x2582f4(0x2fc));}catch(_0x58092d){return{'error':_0x58092d};}}async['deleteMany'](_0x41c4ab){const _0x4a4f96=a0_0x4ff83f;try{if(this[_0x4a4f96(0x522)][_0x4a4f96(0x81b)])return{'insertCount':(await this[_0x4a4f96(0x2a5)]['deleteMany'](_0x41c4ab))['deletedCount']};throw new Error(_0x4a4f96(0x2fc));}catch(_0x289ddb){return{'error':_0x289ddb};}}async[a0_0x4ff83f(0x335)](_0x527944){const _0x52d14=a0_0x4ff83f;try{if(this['dbSettings'][_0x52d14(0x81b)]){await this['authModel'][_0x52d14(0x2c0)]({'_id':_0x527944});return;}}catch(_0x775c16){return{'error':_0x775c16};}}async['find'](_0x5c1a23){const _0x5ef587=a0_0x4ff83f;try{if(this['dbSettings'][_0x5ef587(0x81b)])return await this[_0x5ef587(0x2a5)]['findOne']({'_id':_0x5c1a23});}catch{return{};}}async[a0_0x4ff83f(0x1e1)](){const _0x29e595=a0_0x4ff83f;try{if(this[_0x29e595(0x522)][_0x29e595(0x81b)])return await this[_0x29e595(0x2a5)]['find']();}catch{return[];}}},zt=class extends x{[a0_0x4ff83f(0x4f1)](_0x15bc5c){return aa(_0x15bc5c);}async[a0_0x4ff83f(0x241)](_0x50ad5a){const _0x1d963c=a0_0x4ff83f;try{let _0x993521=ra,_0x3a6a71=this[_0x1d963c(0x4f1)](_0x50ad5a),_0x418c51=await _0x993521[_0x1d963c(0x678)]({'owner':_0x50ad5a})[_0x1d963c(0x1a7)](),_0x425400=[],_0x4369f3=[];for(let _0x147937 of _0x418c51)await _0x3a6a71[_0x1d963c(0x7ad)](_0x147937[_0x1d963c(0x572)])[_0x1d963c(0x1a7)]()||(_0x425400['push'](_0x147937),_0x4369f3[_0x1d963c(0x3ed)](_0x147937['_id']));return _0x425400[_0x1d963c(0x78e)]>0x0&&await _0x3a6a71[_0x1d963c(0x344)](_0x425400,{'ordered':!0x1}),{'success':!0x0};}catch(_0xef1c8e){return console[_0x1d963c(0x57f)]('Erro\x20ao\x20copiar\x20dados:',_0xef1c8e),{'success':!0x1,'error':_0xef1c8e};}}async[a0_0x4ff83f(0x335)](_0x3667aa,_0x5b5481){const _0x38801d=a0_0x4ff83f;try{let _0x53cd57=this[_0x38801d(0x4f1)](_0x5b5481),_0x357b8a=A(_0x3667aa['where']);return{'deletedCount':(await _0x53cd57[_0x38801d(0x1d1)](_0x357b8a))['deletedCount']};}catch(_0x21aa35){return{'error':_0x21aa35?.[_0x38801d(0x552)]()};}}async[a0_0x4ff83f(0x2c0)](_0x51ed71,_0x33cb80){const _0x5d654e=a0_0x4ff83f;try{let _0x5116a3=this[_0x5d654e(0x4f1)](_0x33cb80),_0x3e1dfa=A(_0x51ed71[_0x5d654e(0x4d7)]);return{'deletedCount':(await _0x5116a3[_0x5d654e(0x2c0)](_0x3e1dfa))[_0x5d654e(0x813)]};}catch(_0x1ee395){return{'error':_0x1ee395?.[_0x5d654e(0x552)]()};}}async[a0_0x4ff83f(0x26f)](_0x1787a6,_0x42818d,_0x24fdc9){const _0x8131f4=a0_0x4ff83f;try{let _0x151abc=await this[_0x8131f4(0x4f1)](_0x24fdc9)[_0x8131f4(0x1a8)](_0x1787a6,_0x42818d,{'overwrite':!0x0,'new':!0x0});return _0x151abc||(console['error']('Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:',_0x1787a6),null);}catch(_0x59345c){return console[_0x8131f4(0x57f)](_0x8131f4(0x3df),_0x59345c),null;}}async[a0_0x4ff83f(0x273)](_0x38fe6a,_0x555030,_0x12cc52){const _0x227095=a0_0x4ff83f;try{let _0xf4b0d6=await this['getFlowModelForOwner'](_0x12cc52)['findById'](_0x38fe6a);return _0xf4b0d6?(Object[_0x227095(0x2dc)](_0xf4b0d6,_0x555030),await _0xf4b0d6[_0x227095(0x725)]()):(console[_0x227095(0x57f)](_0x227095(0x686),_0x38fe6a),null);}catch(_0x348086){return console[_0x227095(0x57f)](_0x227095(0x3df),_0x348086),null;}}async[a0_0x4ff83f(0x244)](_0xa76e10){const _0x5a9f2e=a0_0x4ff83f;try{let _0x4912d9=this[_0x5a9f2e(0x4f1)](_0xa76e10),_0x4bc36b={'shareOwners':{'$exists':!0x1}},_0x2add99={'$set':{'shareOwners':[]}};return(await _0x4912d9['updateMany'](_0x4bc36b,_0x2add99))['modifiedCount'];}catch(_0x269782){return console[_0x5a9f2e(0x57f)](_0x269782),0x0;}}async[a0_0x4ff83f(0x557)](_0x1abb94,_0x54c141){const _0x5836d3=a0_0x4ff83f;try{let _0x1f1a1b=this[_0x5836d3(0x4f1)](_0x54c141);return await new _0x1f1a1b(_0x1abb94)[_0x5836d3(0x725)]();}catch(_0x3b42d5){return console['error'](_0x5836d3(0x7f5),_0x3b42d5),null;}}async[a0_0x4ff83f(0x3e3)](_0x1b5596,_0x230ad3,_0x329586){const _0x526e63=a0_0x4ff83f;try{return{'modifiedCount':(await this['getFlowModelForOwner'](_0x329586)[_0x526e63(0x3e3)](_0x1b5596,{'$set':_0x230ad3}))[_0x526e63(0x771)]};}catch(_0x222a68){return console['error'](_0x526e63(0x2d2),_0x222a68),{'error':_0x222a68};}}async['findAll'](_0x1ba63f,_0x1f9307){const _0x2c5a3c=a0_0x4ff83f;try{let _0x38b052=this[_0x2c5a3c(0x4f1)](_0x1f9307),_0x4d7e83=A(_0x1ba63f['where']);return await _0x38b052['find'](_0x4d7e83)[_0x2c5a3c(0x554)](_0x1ba63f?.[_0x2c5a3c(0x554)]??0x0)['lean']();}catch{return[];}}async[a0_0x4ff83f(0x64f)](_0x1e6c42,_0x19701e){const _0x28191e=a0_0x4ff83f;try{let _0x29d191=this['getFlowModelForOwner'](_0x19701e),_0x565c49=A(_0x1e6c42['where']);return await _0x29d191[_0x28191e(0x64f)](_0x565c49)[_0x28191e(0x1a7)]();}catch{return null;}}async[a0_0x4ff83f(0x4ad)](_0x27cc37){const _0x32c664=a0_0x4ff83f;try{return await this[_0x32c664(0x4f1)](_0x27cc37)[_0x32c664(0x6a3)][_0x32c664(0x24a)](),{'success':!0x0};}catch(_0x4079c2){return console[_0x32c664(0x57f)](_0x4079c2),{'success':!0x1,'error':_0x4079c2};}}},Ht=class extends x{[a0_0x4ff83f(0x372)](_0xf24e14){return oa(_0xf24e14);}async[a0_0x4ff83f(0x241)](_0x552c4e){const _0x21bd89=a0_0x4ff83f;try{let _0x1efd5d=na,_0x40b2af=this[_0x21bd89(0x372)](_0x552c4e),_0x262daf=await _0x1efd5d[_0x21bd89(0x678)]({'owner':_0x552c4e})['lean'](),_0x2da1f2=[],_0xa6c758=[];for(let _0x48a825 of _0x262daf)await _0x40b2af[_0x21bd89(0x7ad)](_0x48a825[_0x21bd89(0x572)])[_0x21bd89(0x1a7)]()||(_0x2da1f2['push'](_0x48a825),_0xa6c758[_0x21bd89(0x3ed)](_0x48a825[_0x21bd89(0x572)]));return _0x2da1f2[_0x21bd89(0x78e)]>0x0&&await _0x40b2af[_0x21bd89(0x344)](_0x2da1f2,{'ordered':!0x1}),{'success':!0x0};}catch(_0x4873fc){return console[_0x21bd89(0x57f)]('Erro\x20ao\x20copiar\x20dados:',_0x4873fc),{'success':!0x1,'error':_0x4873fc};}}async[a0_0x4ff83f(0x76a)](_0x196f08){const _0xd862f8=a0_0x4ff83f;if(_0x196f08['length']!==0x0)try{return{'insertCount':(await this[_0xd862f8(0x372)](_0x196f08[0x0][_0xd862f8(0x343)])['insertMany']([..._0x196f08]))[_0xd862f8(0x78e)]};}catch(_0x1751aa){return _0x1751aa;}}async[a0_0x4ff83f(0x335)](_0x5bca15,_0x1be12c){const _0x9915fa=a0_0x4ff83f;try{let _0x2c1368=this[_0x9915fa(0x372)](_0x1be12c),_0x22df61=A(_0x5bca15[_0x9915fa(0x4d7)]);return{'deletedCount':(await _0x2c1368[_0x9915fa(0x1d1)](_0x22df61))[_0x9915fa(0x813)]};}catch(_0x35574a){return{'error':_0x35574a?.[_0x9915fa(0x552)]()};}}async[a0_0x4ff83f(0x2c0)](_0x74cafd,_0x32beab){const _0x55e7ae=a0_0x4ff83f;try{let _0x3787e6=this['getConversationModelForOwner'](_0x32beab),_0x26c6ce=A(_0x74cafd[_0x55e7ae(0x4d7)]);return{'deletedCount':(await _0x3787e6[_0x55e7ae(0x2c0)](_0x26c6ce))['deletedCount']};}catch(_0x427088){return{'error':_0x427088?.[_0x55e7ae(0x552)]()};}}async['update'](_0x2adbec,_0x161904){const _0x587d16=a0_0x4ff83f;try{if(_0x2adbec[_0x587d16(0x78e)]===0x0)return;let _0x3bb510=this[_0x587d16(0x372)](_0x161904),_0x4c2e7d=_0x2adbec['map'](_0x1ca1dd=>({'updateOne':{'filter':{'name':_0x1ca1dd['name'],'owner':_0x161904},'update':{..._0x1ca1dd}}})),{modifiedCount:_0x35c9e4}=await _0x3bb510[_0x587d16(0x445)](_0x4c2e7d);return{'insertCount':_0x35c9e4};}catch{return;}}async[a0_0x4ff83f(0x3e3)](_0x66c1b5,_0x2220dd,_0x3d1731){const _0x23a718=a0_0x4ff83f;try{return{'modifiedCount':(await this[_0x23a718(0x372)](_0x3d1731)[_0x23a718(0x3e3)](_0x66c1b5,{'$set':_0x2220dd}))[_0x23a718(0x771)]};}catch(_0x4edce2){return console[_0x23a718(0x57f)](_0x23a718(0x1af),_0x4edce2),{'error':_0x4edce2};}}async[a0_0x4ff83f(0x273)](_0x29870c,_0x32dcbf,_0x429b3a){const _0x31471d=a0_0x4ff83f;try{return await this[_0x31471d(0x372)](_0x429b3a)['findOneAndUpdate']({'_id':_0x29870c},{'$set':_0x32dcbf},{'new':!0x0,'upsert':!0x0})[_0x31471d(0x1a7)]();}catch(_0x4ba727){return console[_0x31471d(0x57f)](_0x4ba727),null;}}async['find'](_0xbb93e3,_0x5a11b8){const _0x5e7803=a0_0x4ff83f;try{return await this[_0x5e7803(0x372)](_0x5a11b8)['find'](_0xbb93e3)[_0x5e7803(0x527)]({'lastInteraction':-0x1})[_0x5e7803(0x1a7)]();}catch{return[];}}async['findOne'](_0x38fc2b,_0x4ef68f){const _0x727d25=a0_0x4ff83f;try{return await this[_0x727d25(0x372)](_0x4ef68f)[_0x727d25(0x64f)]({..._0x38fc2b[_0x727d25(0x4d7)]})[_0x727d25(0x1a7)]();}catch{return null;}}async[a0_0x4ff83f(0x4ad)](_0x3478f0){const _0x71a81f=a0_0x4ff83f;try{return await this[_0x71a81f(0x372)](_0x3478f0)[_0x71a81f(0x6a3)][_0x71a81f(0x24a)](),{'success':!0x0};}catch(_0x5b9ca0){return console[_0x71a81f(0x57f)](_0x5b9ca0),{'success':!0x1,'error':_0x5b9ca0};}}},Kt=class extends x{['getScheduleMessageModelForOwner'](_0xb33712){return la(_0xb33712);}async[a0_0x4ff83f(0x241)](_0x54a6c5){const _0x5aeade=a0_0x4ff83f;try{let _0x434def=ua,_0x45aca7=this['getScheduleMessageModelForOwner'](_0x54a6c5),_0x1c8963=await _0x434def['find']({'owner':_0x54a6c5})[_0x5aeade(0x1a7)](),_0xf6938f=[],_0x2af71b=[];for(let _0x517c1d of _0x1c8963)await _0x45aca7['findById'](_0x517c1d[_0x5aeade(0x572)])[_0x5aeade(0x1a7)]()||(_0xf6938f['push'](_0x517c1d),_0x2af71b[_0x5aeade(0x3ed)](_0x517c1d[_0x5aeade(0x572)]));return _0xf6938f[_0x5aeade(0x78e)]>0x0&&await _0x45aca7[_0x5aeade(0x344)](_0xf6938f,{'ordered':!0x1}),{'success':!0x0};}catch(_0x3a5dcc){return console[_0x5aeade(0x57f)](_0x5aeade(0x5c0),_0x3a5dcc),{'success':!0x1,'error':_0x3a5dcc};}}async['createAndSave'](_0x1b0ab6,_0xe3b162){const _0x24d527=a0_0x4ff83f;try{let _0x2f0b54=this[_0x24d527(0x40e)](_0xe3b162);return await new _0x2f0b54(_0x1b0ab6)['save']();}catch(_0x229898){return console[_0x24d527(0x57f)](_0x24d527(0x7f5),_0x229898),null;}}async[a0_0x4ff83f(0x2c0)](_0x3aa775,_0x2f06ef){const _0x5cbe2d=a0_0x4ff83f;try{return await this[_0x5cbe2d(0x40e)](_0x2f06ef)[_0x5cbe2d(0x539)](_0x3aa775),{};}catch(_0x279c3b){return{'error':_0x279c3b?.[_0x5cbe2d(0x552)]()};}}async[a0_0x4ff83f(0x273)](_0x4f2795,_0x47e579,_0x301156){const _0x305ff8=a0_0x4ff83f;try{return await this[_0x305ff8(0x40e)](_0x301156)[_0x305ff8(0x319)](_0x4f2795,{'$set':_0x47e579},{'new':!0x0})['lean']();}catch(_0x2608f5){return console[_0x305ff8(0x57f)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x2608f5),null;}}async[a0_0x4ff83f(0x3d6)](_0x1aab7b,_0x8d45f0,_0xdfc02e){const _0x2fda34=a0_0x4ff83f;try{return await this[_0x2fda34(0x40e)](_0xdfc02e)[_0x2fda34(0x1a8)](_0x1aab7b,_0x8d45f0,{'new':!0x0})[_0x2fda34(0x1a7)]();}catch(_0x190d7b){return console['error'](_0x2fda34(0x349),_0x190d7b),null;}}async[a0_0x4ff83f(0x678)](_0x449da8,_0x29895b){const _0x21930b=a0_0x4ff83f;try{return await this[_0x21930b(0x40e)](_0x29895b)['find'](_0x449da8[_0x21930b(0x4d7)])[_0x21930b(0x554)](_0x449da8?.['limit']??0x0)[_0x21930b(0x527)]({'when':0x1})[_0x21930b(0x1a7)]();}catch{return[];}}async[a0_0x4ff83f(0x64f)](_0x385163,_0x10693b){const _0x24bbc8=a0_0x4ff83f;try{return await this[_0x24bbc8(0x40e)](_0x10693b)[_0x24bbc8(0x64f)](_0x385163[_0x24bbc8(0x4d7)])[_0x24bbc8(0x527)]({'when':0x1})[_0x24bbc8(0x1a7)]();}catch{return null;}}async[a0_0x4ff83f(0x7ad)](_0x1bd742,_0x1c0802){const _0x59d70b=a0_0x4ff83f;try{return await this[_0x59d70b(0x40e)](_0x1c0802)[_0x59d70b(0x7ad)](_0x1bd742)[_0x59d70b(0x1a7)]();}catch{return null;}}async[a0_0x4ff83f(0x1d1)](_0x38d33a,_0x16d34f){const _0x4cdd90=a0_0x4ff83f;try{return{'deletedCount':(await this[_0x4cdd90(0x40e)](_0x16d34f)[_0x4cdd90(0x1d1)](_0x38d33a))[_0x4cdd90(0x813)]};}catch(_0x447cc0){return console[_0x4cdd90(0x57f)](_0x4cdd90(0x64a),_0x447cc0),{'error':_0x447cc0};}}async[a0_0x4ff83f(0x4ad)](_0x29faa0){const _0x3a5ee4=a0_0x4ff83f;try{return await this[_0x3a5ee4(0x40e)](_0x29faa0)[_0x3a5ee4(0x6a3)]['drop'](),{'success':!0x0};}catch(_0x26d768){return console['error'](_0x26d768),{'success':!0x1,'error':_0x26d768};}}},Qt=class extends x{async[a0_0x4ff83f(0x416)](_0x596c25,_0x44a3ca){const _0x3f96ed=a0_0x4ff83f;try{if(this['dbSettings'][_0x3f96ed(0x81b)]){let _0x104c55=await Pe[_0x3f96ed(0x319)]({'_id':_0x44a3ca},{'$set':_0x596c25},{'new':!0x0});return console[_0x3f96ed(0x4b8)](_0x3f96ed(0x257),_0x104c55),_0x104c55;}}catch(_0x2abdf3){throw console[_0x3f96ed(0x57f)]('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0x2abdf3),_0x2abdf3;}}async[a0_0x4ff83f(0x426)](_0x52e6ac){const _0x251c5a=a0_0x4ff83f;try{let _0xd5666e=await Pe['findById'](_0x52e6ac);return _0xd5666e||(_0xd5666e=new Pe({'_id':_0x52e6ac}),await _0xd5666e[_0x251c5a(0x725)]()),_0xd5666e;}catch(_0x226bfe){return console[_0x251c5a(0x57f)](_0x251c5a(0x586),_0x226bfe),null;}}},yi=new v('WA\x20MODULE'),bi=new Le(b),Si=new $t(b),Ei=new Qe(b),Ci=new Gt(Ys,b),Mi=new Wt(Hs,b),vi=new zt(b),Ni=new kt(b),Ri=new Ht(b),Ti=new Kt(b),Oi=new Qt(b),ce=new $e(bi,Si,Ei,Ci,Mi,vi,Ri,Ni,Ti,Oi,R?.[a0_0x4ff83f(0x82a)]()),V=new Pt(ss,b,ce),Ai=new Ut(b,V,ce),Ii=new Jt(V),gs=new Bt(Ii),O=new Vt(V),ae=new Ft(V,b,ce,ss,Ai),B=new jt(V),D=new Lt(V),F=new qt(V);yi[a0_0x4ff83f(0x256)](a0_0x4ff83f(0x4a0));var gh=require(a0_0x4ff83f(0x825)),Os=require('fs'),Mr=T(require(a0_0x4ff83f(0x584))),vr=T(require(a0_0x4ff83f(0x55a))),ve=class c{static #e;static set[a0_0x4ff83f(0x393)](_0x302ff0){this.#e=_0x302ff0;}static get[a0_0x4ff83f(0x584)](){const _0x2634aa=a0_0x4ff83f;let {FULLCHAIN:_0x1d1474,PRIVKEY:_0x4e3cf8}=b[_0x2634aa(0x605)](_0x2634aa(0x7e0));return Mr[_0x2634aa(0x5f8)]({'cert':(0x0,Os[_0x2634aa(0x751)])(_0x1d1474),'key':(0x0,Os['readFileSync'])(_0x4e3cf8)},c.#e);}static get[a0_0x4ff83f(0x55a)](){const _0x11617e=a0_0x4ff83f;return vr[_0x11617e(0x5f8)](c.#e);}},ue=T(require('fs')),Ir=T(require(a0_0x4ff83f(0x27a))),Ne=T(require('axios')),Te=T(require(a0_0x4ff83f(0x570))),Oe=require(a0_0x4ff83f(0x1c1));function xi(){const _0x82f28=a0_0x4ff83f;V[_0x82f28(0x6f6)]();let _0x573234=Te[_0x82f28(0x604)][_0x82f28(0x35a)](__dirname,_0x82f28(0x77b));Ar(_0x573234);}var Ar=_0x328215=>{const _0x1947fc=a0_0x4ff83f;let _0x1d7bc6=ue[_0x1947fc(0x604)]['readdirSync'](_0x328215),_0x547697=0xc*0x3c*0x3c*0x3e8,_0x43a604=0x2*0x3c*0x3c*0x3e8,_0x26a9ae=new Date()[_0x1947fc(0x272)]();_0x1d7bc6[_0x1947fc(0x4bf)](_0x54b908=>{const _0x4262c2=_0x1947fc;let _0x21f483=Te['default'][_0x4262c2(0x35a)](_0x328215,_0x54b908),_0x3bf81e=ue[_0x4262c2(0x604)][_0x4262c2(0x32c)](_0x21f483)[_0x4262c2(0x360)][_0x4262c2(0x272)]();_0x26a9ae-_0x3bf81e>_0x547697&&(ue[_0x4262c2(0x604)][_0x4262c2(0x270)](_0x21f483),console[_0x4262c2(0x4b8)](_0x4262c2(0x1a4)+_0x54b908));}),setTimeout(()=>Ar(_0x328215),_0x43a604);};function Di(){const _0x436c8b=a0_0x4ff83f;let _0x37e12a=new v(_0x436c8b(0x211)),_0x2eaf8a=(0x0,de['default'])();_0x2eaf8a['use']((0x0,Or[_0x436c8b(0x604)])({'origin'(_0x534d1e,_0x7cdad8){const _0x2ad72e=_0x436c8b;let {ORIGIN:_0x49d3ed}=b[_0x2ad72e(0x605)]('CORS');return _0x534d1e||(_0x534d1e='*'),_0x49d3ed[_0x2ad72e(0x42d)]('*')!==-0x1||_0x49d3ed[_0x2ad72e(0x42d)](_0x534d1e)!==-0x1?_0x7cdad8(null,!0x0):_0x7cdad8(new Error(_0x2ad72e(0x48d)));},'methods':[...b['get'](_0x436c8b(0x1dd))[_0x436c8b(0x651)]],'credentials':b[_0x436c8b(0x605)](_0x436c8b(0x1dd))[_0x436c8b(0x68e)]}),(0x0,de[_0x436c8b(0x369)])({'extended':!0x0,'limit':_0x436c8b(0x39b)}),(0x0,de[_0x436c8b(0x776)])({'limit':_0x436c8b(0x39b)})),_0x2eaf8a[_0x436c8b(0x36f)]((_0x47dc5b,_0x2224e2,_0x579550)=>{const _0x57be27=_0x436c8b;_0x47dc5b['path'][_0x57be27(0x45a)](_0x57be27(0x2a3))?_0x579550():(0x0,Tr[_0x57be27(0x604)])()(_0x47dc5b,_0x2224e2,_0x579550);}),_0x2eaf8a[_0x436c8b(0x428)](_0x436c8b(0x5b6),'hbs'),_0x2eaf8a['set'](_0x436c8b(0x5c2),(0x0,Is[_0x436c8b(0x35a)])(se,_0x436c8b(0x5c2))),_0x2eaf8a['use'](de['default'][_0x436c8b(0x778)]((0x0,Is['join'])(se,_0x436c8b(0x662)))),_0x2eaf8a[_0x436c8b(0x36f)]((_0x3edc7c,_0x5a3c70,_0x14774e)=>{const _0x50600e=_0x436c8b;let _0x95ccf9=_0x5a3c70[_0x50600e(0x322)];_0x5a3c70[_0x50600e(0x322)]=function(_0x3c3558){const _0x29bd4c=_0x50600e;if(_0x3edc7c[_0x29bd4c(0x566)]['convert']==='true'||_0x3edc7c[_0x29bd4c(0x7e3)]['uazapi']==='true'){let _0x216393=JSON[_0x29bd4c(0x60a)](_0x3c3558);_0x3c3558=JSON['stringify'](_0x38166a(_0x216393));}return _0x95ccf9[_0x29bd4c(0x21b)](_0x5a3c70,[_0x3c3558]);},_0x14774e();}),_0x2eaf8a['use']('/',vt),_0x2eaf8a[_0x436c8b(0x36f)]((_0x1cdb7e,_0x4eb092,_0x2f7f4b,_0x15903a)=>{const _0x3fe537=_0x436c8b;if(_0x1cdb7e)return _0x2f7f4b[_0x3fe537(0x728)](_0x1cdb7e[_0x3fe537(0x728)]||0x1f4)[_0x3fe537(0x776)](_0x1cdb7e);},(_0x25ac8b,_0x16487e,_0x2f0a34)=>{const _0x5d39f3=_0x436c8b;let {method:_0x28db71,url:_0x579622}=_0x25ac8b;_0x16487e['status'](0x194)[_0x5d39f3(0x776)]({'status':0x194,'message':_0x5d39f3(0x35e)+_0x28db71[_0x5d39f3(0x36a)]()+'\x20'+_0x579622,'error':'Not\x20Found'}),_0x2f0a34();});let _0x38166a=(_0xb0ee5d,_0x1dde53=_0x436c8b(0x533))=>{const _0x23f453=_0x436c8b;let _0x154337=(_0x2842d8,_0x1d195e=null,_0x1f00e1=!0x1)=>{const _0x266ed6=a0_0x52dd;let _0x3cc3c4={};return Object[_0x266ed6(0x356)](_0x2842d8)[_0x266ed6(0x4bf)](_0x36227f=>{const _0x3b8341=_0x266ed6;let _0x36d00a=_0x2842d8[_0x36227f],_0x2175cf=''+_0x1dde53+_0x36227f;_0x1d195e&&!_0x1f00e1&&(_0x2175cf=_0x1d195e+'.'+_0x36227f),!_0x36d00a&&_0x36d00a!==0x0&&_0x36d00a!==!0x1||typeof _0x36d00a>'u'?_0x3cc3c4[_0x2175cf]=null:typeof _0x36d00a!='object'&&!Array[_0x3b8341(0x447)](_0x36d00a)?_0x3cc3c4[_0x2175cf]=_0x36d00a:typeof _0x36d00a==_0x3b8341(0x29b)&&!Array['isArray'](_0x36d00a)?_0x3cc3c4=Object[_0x3b8341(0x2dc)](_0x3cc3c4,_0x154337(_0x36d00a,_0x2175cf)):Array[_0x3b8341(0x447)](_0x36d00a)&&(typeof _0x36d00a[0x0]==_0x3b8341(0x29b)?(_0x3cc3c4[_0x2175cf]=[],_0x36d00a[_0x3b8341(0x4bf)](_0x296e60=>{const _0x3b5b1a=_0x3b8341;_0x3cc3c4[_0x2175cf][_0x3b5b1a(0x3ed)](_0x154337(_0x296e60,_0x2175cf,!0x0));})):_0x3cc3c4[_0x2175cf]=_0x36d00a);}),_0x3cc3c4;};return Array['isArray'](_0xb0ee5d)?_0xb0ee5d[_0x23f453(0x5c3)](_0x1c090c=>_0x154337(_0x1c090c)):typeof _0xb0ee5d==_0x23f453(0x29b)&&_0xb0ee5d!==null?_0x154337(_0xb0ee5d):{};},_0x3b1796=b[_0x436c8b(0x605)](_0x436c8b(0x211));ve['app']=_0x2eaf8a;let _0x1b3c54=ve[_0x3b1796[_0x436c8b(0x4ff)]],_0x13488e='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x1b3c54[_0x436c8b(0x6f1)](_0x3b1796[_0x436c8b(0x760)],()=>{const _0x1291e0=_0x436c8b;_0x37e12a[_0x1291e0(0x4b8)](_0x13488e),_0x37e12a[_0x1291e0(0x4b8)](_0x3b1796[_0x1291e0(0x4ff)][_0x1291e0(0x36a)]()+_0x1291e0(0x508)+_0x3b1796[_0x1291e0(0x760)]);}),xi(),Us();}var _i=a0_0x4ff83f(0x365),Pi=Te['default'][a0_0x4ff83f(0x35a)](__dirname,a0_0x4ff83f(0x4c5)),Re=null;function $i(){return new Promise((_0x2721bd,_0x10e0d5)=>{const _0x2e6756=a0_0x52dd;ue[_0x2e6756(0x604)]['readFile'](Pi,'utf-8',(_0x470ae6,_0x521101)=>{const _0x17e838=_0x2e6756;if(_0x470ae6){Re=_0x470ae6,_0x2721bd();return;}Ir[_0x17e838(0x604)][_0x17e838(0x60a)](_0x521101)[_0x17e838(0x7cc)][_0x17e838(0x6d8)]===_i?(Re=null,_0x2721bd()):(Re=new Error(_0x17e838(0x4f5)),_0x2721bd());});});}async function ki(){const _0x48e2b5=a0_0x4ff83f;try{await $i(),await xs();}catch(_0x3a8d86){console[_0x48e2b5(0x57f)](_0x48e2b5(0x3af)+_0x3a8d86),process['exit'](0x1);}}function a0_0x2653(){const _0x3e7e2f=['scheduleMessage','state','SERVER_OFFLINE','):\x20Buscando\x20todos\x20os\x20fluxos...','^\x5cd+','replaceVariablesInReplyOptions','delAll','listMessage','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','values','findAndReplace','):\x20Enviando\x20enquete','stanzaId','created','}}\x20->\x20\x22','groupParticipantsUpdate','endsWith','fetchMessages','Comando\x20desconhecido','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','open','listen','list','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','timerId','SERVER_TYPE','loadInstance','error\x20get\x20vote','Getting\x20profile\x20with\x20jid:\x20','toLowerCase','initAuthCreds','Type\x20not\x20found','FULLCHAIN','importChatsAntigo','console','whatsappNumber','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','reviver','groupSetting','getAllData','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','replace','\x22\x20-\x20NOT\x20CONNECTION','):\x20expirationTime:\x20','):\x20transformedCustomFieldVariables','.mp4','fromMe','):\x20','sendDataWebhook','lastDisconnect','$set','match','\x1b[37m%s\x1b[0m','includes','END:VCARD','shift','contacts.upsert','goNextblock','chats.update','leadInfo.customFields','loggedOut','Type\x20is\x20required','uazapiSendContact','):\x20Criando\x20fluxo\x20compartilhado...','Início','saveTextReply','_Chats','uuid','enabled','host','menuType','save','mentioned','Parando\x20aplicação...','status','\x20-y','):\x20Entrou\x20na\x20função\x20goToFlow','joinGroupValidate','):\x20Enviando\x20texto','routerPath','email','and','prefixCommand','ms\x20(Attempt\x20','stdout','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','listResponseMessage','toBrazilianNumberFormat','Hash\x20to\x20image\x20name:\x20','Safari\x20(MacOS)','):\x20Enviando\x20áudio','scheduleSendText','STORE_CLEANING_TERMINAL','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','Bad\x20Request','Last\x20message\x20not\x20found\x20for\x20number:','Erro\x20ao\x20iniciar\x20fluxo:\x20','stickerMessage','webp','remoteJidsRemaining','urlOrBase64','createConnection','#000000','BRL','\x1b[43m','editConversation','Authentication\x20error','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','checkAndRestartProcess','utf8','GROUPS_UPSERT','https://api.ipify.org?format=json','express','delayChatLabel','downloadMediaMessage','readFileSync','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','isBase64','createConversationforgoToFlow','ListMessage','STORE_CHATS','readMessageBot','):\x20Current\x20Time:\x20','.webp','sections','contact','\x1b[47m','updateProfileName','messages.set','pollMessageOnDelete','PORT','processPollUpdateMessage','):\x20Editando\x20replyOption...','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','fileUrl','):\x20Buscando\x20conversas...','CHATS_DELETE','loadproxy','deleteMessage','Mensagem\x20não\x20suportada','insert','emit','contactMessage','#fe9dfe','leadInfo.desativadoFluxoAte','\x20não\x20encontrado','):\x20updateResult:','modifiedCount','selectableCount','connect','Variáveis\x20não\x20encontradas:','decryptPollVote','json','updateMediaMessage','static','updateReadReceiptsPrivacy','):\x20debug\x20alterando\x20this.AutomateSystem','downloads','newStoppedUntil','.ogv','role','):\x20Iniciando\x20bot...','processgoToFlow','processApiRequest','app-state-sync-key','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','sharePass','pollUpdateMessage','getflow','messages.update','FlowController','request\x20received\x20in\x20deleteConversation','HeaderType','instances','Certbot:\x20','normalizeMessage','length','#b4ebff','imageMessage','CHATS_UPDATE','footerText','eventemitter2','contactHandle','webhookMap','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','SUCCESS','Button\x20IDs\x20cannot\x20be\x20repeated.','Error\x20in\x20markMessageAsRead:','CORS_CREDENTIALS','$pull','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','importChats','last_update','DATABASE_CONNECTION_DB_PREFIX_NAME','editFlow','createSectionsFromValues','optionDescription','deleted','Data\x20inválida\x20fornecida','request\x20body:\x20','variablesNotFound','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','DD/MM\x20HH:mm:ss','Instance\x20restarted','digest','Error\x20updating\x20participants','_error','findById','chats','announcement','chat','fetchProfile',',\x20saindo.','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','\x22\x20cannot\x20be\x20empty','toNumber','lastMessage','audio/aac','9lmccDK','capitalizedWords','success','uazapiSendText','.docx','request\x20received\x20in\x20starFlow','STORE','delay','DELETED','apirequest','DATABASE_CONNECTION_HOST','env.KEY\x20!==\x20key','groupLeave','moreLogs','fetchInstances','lastSend','audio','sectionsToString','sendMedia','request\x20received\x20in\x20deleteFlow','remote\x20\x22origin\x22','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','Valor\x20inicial:\x20\x22','Chrome','organization','demote','#ffc5c7','PRESENCE_UPDATE','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','base64','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','start','LOG_LEVEL','apiName','editflowvariable','\x1b[41m','leaveGroup','creds','loadEnv','):\x20this.processingScheduleMessageId:\x20','SSL_CONF','\x1b[36m','--agree-tos','headers','\x1b[37m','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','delaySecMin','conversation','next_groupId','menuIgnoreNonVotes','originalUrl','mediaKey','boolean','groups_ignore','text','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','unknown\x20operation\x20type\x20[','flowActive','unreadCount','toggleEphemeral','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','getConversation','instancias:\x20','localWebhook','unavailable','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','cleanStore','Primeiro\x20Valor:\x20','redis','now','RECONNECT_TIME_FRAME','not_announcement','.\x20Pulando.','/wa-contacts','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','envProcess','qrcode','Image\x20is\x20base64','updateGParticipant','request\x20received\x20in\x20updateAgent','stderr','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','segundos','lowerCase','File\x20written\x20to\x20path:\x20','participants','waMonitor','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','ex:\x20\x22groupJid=120362@g.us\x22','deletedCount','):\x20Editando\x20grupo\x20do\x20fluxo...','Db\x20Connection','Logger','replyOption','shutdown\x20-r\x20now','GROUP_PARTICIPANTS_UPDATE','updateMissingEtiquetas','ENABLED','isListOfNumbers',',\x20pairCode:\x20','.doc','envYaml','request\x20received\x20in\x20createFlow','responsavelid','Erro\x20ao\x20atualizar\x20o\x20flow.','-whatsapp-api','metadata','express-async-errors','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','generateWAMessageFromContent','):\x20isVote:\x20','ButtonsMessage','getClient','fetchProfilePicture','API\x20Key\x20from\x20Request:','):\x20conversation.lastInteraction:\x20','https://',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','STORE_CONTACTS','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','flowConfig','Image\x20created','@redis/client','getProfileName','deleteChat','Sending\x20audio\x20whatsapp','findFlow','Esse\x20fluxo\x20expirou','chatId','):\x20Query\x20params:','SECRET','keep-alive','/wa-qrcode','video-cover.png','profilePicture','test','\x1b[44m','setting','listType','\x20horas\x20e\x20','findLabels','The\x20global\x20api\x20key\x20must\x20be\x20set','LOG','deleteMessageForEveryone','_Labels','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','archived','flattenObject','validate','_Flows','\x20chats\x20de\x20','close','replaceVariablesLogs','findAndReplaceRegex','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','.gif','Deleted\x20','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','menuExpiredMessage','lean','findByIdAndUpdate','router','hex','onTime','padStart','profile','/wa-message-update','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','unreadcount','AutomateSystem','Enter\x20a\x20value\x20in\x20milliseconds','\x1b[33m','webhookModel','\x20adicionado\x20ao\x20chat\x20','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','getMinutes','allContacts','#9568cf','revokeInviteCode','selectedOptions','toDataURL','image','leadInfo','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','child_process',']\x20(','name','requestPairingCode','\x20foi\x20interrompido\x20pelo\x20usuário.','namespace','not\x20loaded','compression','_ScheduleMessages','presenceSubscribe','cwd','.xls','privacySettings','JWT','padEnd','chatHandle','deleteMany','createSharedFlow','processUazapi','Not\x20is\x20business\x20profile','Connection','Instance\x20\x22','STATUS_INSTANCE','.png','data:\x20','participant','getMessage','sendWhatsAppAudio','CORS','\x1b[1m','Fetching\x20business\x20profile','labelId','findAll','ConversationModel','block','labels.association','utf-8','collections','editOperator','from','resetReconnectionVariables','lastReceivedMessage','authorization','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','!cmd_','\x22\x20not\x20found','imagechat','8080','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','flowStopMinutes','findIndex','formatBRNumber','reference','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','contacts.update','CONNECTION_UPDATE','Getting\x20profile\x20info',',\x20Comparador:\x20','createGroup','Sistema\x20atualizado\x20com\x20sucesso!','PASSWORD','numbers','binary','waitingMenu_id','Certbot\x20executado\x20com\x20sucesso.','):\x20Enviando\x20mídia','shareOwners','removeOlderDisconnectedInstances','):\x20Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','slice','reconnectAttempts','context','no.connection','sendButtons','uazapiSendAudio','editFlowBlock','instanceName\x20not\x20provided.','Read\x20messages','defineAuthState','pt-BR','SERVER','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','editFlowCondition','instance.','post',':\x20Erro\x20durante\x20loadproxy\x20-\x20','\x20Tentativa\x20de\x20reconexão\x20','quoted','request\x20received\x20in\x20scheduleMessage','Erro\x20ao\x20importar\x20chats:','apply','model','augusto.fcs@gmail.com','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','activatedCount','newValue','notas','\x1b[30m%s\x1b[0m','cache','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','output','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','extractRegex','replaceValue','):\x20Editando\x20edição\x20do\x20fluxo...','processConditionsTest','closeExistingConversations','Erro\x20ao\x20deletar\x20chat:','\x20not\x20found,\x20retrying\x20in\x20','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','msgRetryCounterCache','authState','):\x20Criando\x20nova\x20conversa[createNewConversation]','sign','convertaudio','auth','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','flow','replyOptions','call','flowConversation','Erro\x20do\x20Certbot:\x20','subjectOwner','\x20contacts','getDevice','Variável\x20não\x20encontrada!','rows','done','copyDataToNewModel','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','Message','updateMissingShareOwners','extractMessageContent','remoteJid','webhook','lastCondition','updateConversation','drop','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','upperCase','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','Erro\x20ao\x20sincronizar\x20fluxos:\x20','no-cache','EMAIL','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','\x20-\x20retornado:\x20','):\x20Procurando\x20mensagens\x20para\x20envio','info','Resultado\x20da\x20atualização:','editFlowReply','subject','notMatchRegex','none','agents','RemoveChatLabel','params','DisconnectReason','\x20minutos','audio/mp4','random','):\x20Going\x20to\x20','):\x20Dados\x20migrados\x20com\x20sucesso','Erro\x20ao\x20encerrar\x20a\x20API',',\x20lastCondition:\x20','updateGParticipate','writeFile','fetchProfilePictureUrl','groups.update','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','detail','\x5cd+','No\x20join\x20group\x20invite\x20code\x20or\x20url','replaceOne','unlinkSync','groups','getTime','updateOne','Falta\x20informação\x20para\x20a\x20chamada\x20API','available','.txt','logger','poll','ReplyOptions\x20finais\x20após\x20reordenação:','ini','fetchPrivacySettings','delaySecMax','string','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','arraybuffer','pollMessage','Error\x20fetching\x20group','user','AutomateFunctions','Cached\x20audio\x20found,\x20returning\x20existing\x20file','6oySaMa','Group\x20not\x20found','https://api.elevenlabs.io/v1/text-to-speech/','stopMinutes','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','upsertedCount','?authSource=admin&readPreference=primary&directConnection=true','http://ip-api.com/json','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','groupHandler','DATABASE_CONNECTION_PASSWORD','split','vcard','removeInstance','dataValidate','maxActives','editFlowGroup','updateAll','):\x20Query\x20params:\x20','Last\x20message\x20not\x20found','updateParticipant','blocks','object','98374dyDCYS','.wav','AUTHENTICATION','WebhookGlobal','proto','truncatedto','@ffmpeg-installer/ffmpeg','/events','AUTHENTICATION_TYPE','authModel','restrict','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','\x20não\x20encontrado\x20para\x20cópia','/wa-connection-update','inner','creation','connectedName','PRODUCT_LIST','Erro\x20ao\x20adicionar\x20label\x20','Button\x20texts\x20cannot\x20be\x20repeated','Converting\x20image\x20to\x20WebP\x20to\x20sticker','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','Instance\x20deleted','messageTimestamp','instanceCount','CORS_ORIGIN','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','updateProfileStatus','formatStatusMessage','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','evaluateConditionTest','getAutomateSystem','delayChatLabel_RETRY_DELAY_MS','):\x20Conversa\x20atualizada\x20em\x20memória','deleteOne','whatsappNumbers','groupMetadata','readMessages','DaysToDelete','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','statusCode','getMIMEType','header','badSession','Rótulo\x20deletado:','connectToWhatsappController','/instance/fetchInstances','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','interval\x20não\x20é\x20um\x20número','buttons','Processing\x20audio','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','updateMissingLabels','/media/','processvaredits','release','contains','createInstance','.\x20Aguardando\x20antes\x20de\x20reconectar...','ChatModel','getStatus','assign','\x20com\x20sucesso.','presence','AddChatLabel','audio/ogg','Instance\x20logged\x20out','uazapiDeleteMessage','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','messaging-history.set','Deletion\x20failed','getDelay',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','stopWhenYouSendMsg','silent','setUpdate','SERVER_URL','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','):\x20Flow\x20desativado','findWebhook','redis://127.0.0.1:6379','../env.yml','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','):\x20Campos\x20a\x20serem\x20atualizados:',',\x20Resultado:\x20','.pptx','longitude','/instance/delete','MessageModel','automateSystem','status@broadcast','pollCreationMessageV3','fileName','Database\x20is\x20not\x20enabled','getVariablesChat','text/event-stream','updateStatusPrivacy','/instance/connect','findGroup','flushHeaders','displayName','messages.upsert','The\x20','tags','jsonschema','GROUPS_UPDATE','convertToWebP','editFlowVaredit','Background\x20color\x20is\x20required','stopMinutesMaxActives','\x1b[32m%s\x1b[0m','URL','varedit','instanceInfo','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','Rótulo\x20inválido\x20ou\x20sem\x20ID.','NextBlock','firstValue','flowPrefixCommand','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','delayChatLabel_MAX_RETRIES','groupId','findOneAndUpdate','waInstances','processblock','getChatModelForOwner','upsertChats','crypto','Output\x20path:\x20','/instance','createJid','send','-instances','changeVariables','Failed\x20to\x20find\x20chat\x20','backgroundColor','flowname:\x20','createRegularFlow','\x5c$&','\x20ao\x20chat\x20','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','statSync','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','lastSendMessage','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','scheduleSendAudio','groupSettingUpdate','synchronizeFlows','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','delete','integer','groupDesc','parseInt','MAX_RECONNECT_ATTEMPTS','617076sWdqgN','DB_PREFIX_NAME','StartBot','blockLogs','getLabelModelForOwner','height','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','pre','\x20quoted:\x20','owner','insertMany','updateBlock','Types','Não\x20respondeu\x20com\x20a\x20enquete.','port','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','width','PREFIX_KEY','mediatype','recording','mediaSticker','rowId','isConnected','hGet','apikey','authentication','sendMessage','sendReaction','keys','PRIVKEY','action','dbClient','join','fetchContacts','function','groupValidate','Cannot\x20','trim','birthtime','greater','\x1b[40m','Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','Internal\x20Server\x20Error','https://github.com/uazapi/uazapi.git','Valor\x20de\x20find\x20ou\x20replace\x20ausente','statusJidList','REDIS_URI','urlencoded','toUpperCase','https://ipinfo.io/json','expiration','getBase64FromMediaMessage','/*.json','use','substring','folder','getConversationModelForOwner','paused','reorderReplyOptions','getScheduleMessage','removeData','locked','\x0aitem','createHash','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','Tentando\x20reconectar...','class-validator','subdomain','editedMessage','chats.set','customFields','Validate','command','saveConversationToDatabase','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','uazapiSendMedia','):\x20Error\x20processing\x20the\x20block:\x20','findParticipants','Unauthorized','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','generate','groupInviteCode','isURL','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','#9ba6ff','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','No\x20participants','isBusiness','):\x20Não\x20achou\x20nenhum\x20flow','app','InstancesAlterarTodas','messageId','):\x20teve\x20mudanças\x20chat.displayName:\x20','saveMediaToFile','variablesToObject','sendSticker','font','50mb','bodyString','#d3a91f','?timestamp=','groupadd','ERROR','local_map','HOST','https://chat.whatsapp.com/','sendLocation','noConnection','\x1b[0m','):\x20Erro\x20ao\x20editar\x20agentes:\x20','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','ephemeralMessage','606130MiPJxN','--standalone','readreceipts','getContactModelForOwner','flowName','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','createFlow','addresss','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','editflowgroup','.TEL;waid=','replacer','create','notEqual','):\x20alterando\x20this.AutomateSystem','DATABASE','statusMessage','request\x20received\x20in\x20fetchConversation','licenca','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','/instance/create','/media','ObjectId','mongodb','spawn','username','/wa-presence','senderKeyDistributionMessage','Message\x20not\x20found',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','SSL_CONF_PRIVKEY','evaluateCondition','composing','format','<subdomain>','temp-','#83e421','Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','URL\x20limpa:\x20','protocolMessage','fullName','archiveChat','request\x20received\x20in\x20editFlow','Bloco\x20com\x20ID\x20','updateOneById','\x20saindo\x20da\x20função','\x1b[1m\x1b[37m','contactname','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','notContains','Label\x20','Content-Type','LOG_COLOR','Erro\x20ao\x20atualizar\x20o\x20fluxo:','):\x20Bloco\x20com\x20ID\x20','valid','conditions','updateMany','del','updateAgent','Erro\x20inesperado\x20em\x20processvaredits:\x20','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','https://uazapi-plugin.bubbleapps.io/?url=','lastInteraction','gifPlayback','InstancesAsDisconnectedX','\x20->\x20CONFIRMADO.','push','label_jid','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','bateu\x20events','):\x20Comando\x20desconhecido:\x20','labels.edit','mediaMessage','fone','secondValue','USER','Erro\x20ao\x20aplicar\x20varedit:\x20','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','isJWT','pollCreationMessageKey','\x0a*Você\x20respondeu*:\x0a','fetchStatus','addBlock','qrCode','https://api.openai.com/v1/audio/speech','):\x20Ler\x20mensagem','VERBOSE','contentText','Invalid\x20format','):\x20newFirstValue\x20após\x20replaceVariables:','\x1b[34m','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','):\x20Erro\x20ao\x20buscar\x20conversas\x20','AUTHENTICATION_JWT_SECRET','Erro\x20de\x20atualização:\x20','updateGroupsAddPrivacy','removed','LEVEL','):\x20Error\x20processing\x20conditions:\x20','getScheduleMessageModelForOwner','}}\x20->\x20valor\x20não\x20encontrado','presence.update','The\x20instance\x20needs\x20to\x20be\x20disconnected','):\x20Falha\x20ao\x20deletar\x20mensagem.','.ogg',',\x20qrcodeCount:\x20','):\x20nextBlock.uazapi.name','update','atendimentoAberto','BufferJSON','redisEnv','axios','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','charAt','message','node-cache','LabelModel','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','findGroupInfo','WARN',':\x20IP\x20funcionando!','\x1b[34m%s\x1b[0m','findOrCreate','blockId','set','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','#92ceac','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','):\x20Usando\x20extensão\x20padrão:\x20','indexOf','waitingMenu_text','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','groupName','getOwnPropertyDescriptor','method','realVariables','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','flowStopConversation','fetchProfile2','Selecione','https://jsonip.com','variable','scheduled','\x20}\x0a','messageSecret','hSet','API_KEY','READ','caption','connectToWhatsapp','stateConnection','URI','markMessageAsRead','bulkWrite','when','isArray','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','g.us','CONTACTS_UPSERT','/create','processingScheduleMessageId','):\x20atualização\x20chat:\x20','fetchBusinessProfile','option','updateProfilePicturePrivacy','\x20do\x20chat\x20','repeat','No\x20invite\x20code','ContactModel','audioWhatsapp','https-proxy-agent','insertCount','endSession','leadInfo.etiquetas','startsWith','lastmsg','):\x20Erro\x20durante\x20a\x20atualização:\x20','updatePresence','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','request\x20received\x20in\x20updateFlowConfig','nomecompleto','HH:mm:ss','sharp','setContext','type','http://checkip.dyndns.org','dbServer','remove','updateChatWithMessage',',\x20valor\x20a\x20encontrar:\x20\x22','setWebhook','mongodb://','ChatRouter','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','replaceVariablesInObject','userDevicesCache','copyBlock','http://icanhazip.com/','headerString','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','readData','truncatedtoEnd','sendMenu','connectionUpdate','Profile\x20not\x20found','refused','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','Log\x20out\x20instance:\x20','documentMessage','chats.delete','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','scheduleNextCheck','5056688pUHsYP','mentions','nome','replaceVariables','quotedMessage','http://ipecho.net/plain','order','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','Error\x20writing\x20file:\x20','entries','Error\x20updating\x20privacy\x20settings','sendAudio','g-t','Not\x20allowed\x20by\x20CORS','):\x20Criando\x20fluxo\x20regular...','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','add','):\x20Limpando\x20AutomateSystem','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','ip:\x20','video','findGroups','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','buttonMessage','error_log','splice','Operador:\x20\x22','editScheduleMessage','put','encoding','#ffffff','Module\x20-\x20ON','CONTACTS_SET','long','dayjs','variables','):\x20Deletando\x20fluxo...','/events/:instance','menuMessage','):\x20Deletando\x20conversa...','FlowModel','):\x20Enviando\x20localização','max','):\x20Conversa\x20está\x20expirada\x20-\x20voto','deleteAll','client','title','contacts','\x1b[33m\x1b[1m','CHATS_SET','saveCreds','exit','qrcode.updated','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','log','SendScheduleMessage','messageType','Chat\x20','REDIS','copy','/group','forEach','phoneNumber','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','_FlowHistorico','updateMissingTags','pollCreationMessage','./.git/config','desativadoFluxoAte','/:instanceName','joinGroup','HttpsProxyAgent','isInteger','logout','convertedOptions','warn','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','\x20-i\x20','DOCKER_ENV','toBRL','ERROR:\x20','getMessageModelForOwner','Missing\x20global\x20api\x20key','findChats','jid','where','NO_IP','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','normalizeMessageContent','.X-ABLabel:Celular\x0a','\x20\x1b[0m','isLong','ListType','^\x5cd+[\x5c.@\x5cw-]+','DARK','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','replaceVariablesChat','sendText','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','webhookService','hDel','Instance\x20ID:','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','PLAYED','isJidGroup','@broadcast','isJidUser','cleaningUp','document','getFlowModelForOwner','status.instance','true','getRandomText','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','URL:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','Error\x20change\x20group\x20description','findConversation','pollErrorMessage','Error\x20change\x20group\x20setting','):\x20leadInfoVariables','prepareMediaMessage','notify','TYPE','editFlowVariable','sleep','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','Close\x20connection','Erro\x20ao\x20editar\x20a\x20conversa:\x20','uncaughtException','bearer','DATABASE_CONNECTION_USER','\x20-\x20ON:\x20','updateCustomFields','DATABASE_ENABLED','jsonwebtoken','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','__esModule','hasOwnProperty','allFlows','array','everyOne','group-participants.update','6hRWsBI','getContentType','updateFlowConfig','options','online','condition','sendCommand','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','errorLog','profilePictureUrl','E-mail:\x20','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','importChatsBatch','Chat\x20com\x20ID\x20','dbSettings','authService','reconnectTimestamps','readMessage','remoteJids','sort','number','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','fetchLatestBaileysVersion','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','createflow','):\x20teve\x20mudanças\x20chat.name:\x20','sendPresenceUpdate','ON\x20-\x20dbName:\x20','setHeader','.mp3','instanceName','_p_','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','updateMessage','Erro:','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','CONTACTS_UPDATE','findByIdAndDelete','2990456ygkqgy','repository','filter','Forbidden','uazapiSendMenu','findMessages','sendContact','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','mkdirSync','jpegThumbnail','notEmpty','#d8e651','src','deleteConversation','STORE_MESSAGE','getPrototypeOf','sending','load','MESSAGES_UPSERT','choices','chatLog','getFlow','certbot','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','toString','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','limit','):\x20Alterando\x20fluxo...','website','createAndSave','expression','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','http','CORS_METHODS','EMAIL:','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','\x20mensagens\x20de\x20','\x20after\x20','waitingMenu_ExpiredMessage','editflowreply','conversationTimestamp','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','env','query','saveChatVariables','waitingMenu_replyOptions','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','audioMessage','\x20minutos...','viewOnceMessageV2','defineProperty','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','):\x20tem\x20blocks','path','code','_id','messageHandle','writeFileSync','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','connectionState','The\x20\x22','deleteBlock','pollCreationMessageV2','contactsArrayMessage','arrayUnique','prototype','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','error','):\x20Edit\x20schedule\x20message...',':\x20IP\x20configurado:\x20','exec','groups.upsert','https','#9ab6c1','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','connectedClient','contact_blacklist','messagesSend','Rótulo\x20atualizado:','waUploadToServer','description','debug','label','buttonText','color','addReplyOption','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','floor','vote','message_normalized','formatVCard','Converted\x20image\x20deleted','updateGroupPicture','\x1b[30m','@whiskeysockets/baileys','Not\x20Found','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','Fluxos\x20não\x20estão\x20ativados','https://api.openai.com/v1/images/generations','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','Erro\x20ao\x20remover\x20label\x20','The\x20property\x20cannot\x20be\x20empty','verifiedName','buttonId','finish','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','trimmed','ORG:','\x20->\x20NÃO\x20CORRESPONDE.','dark','cpf','pairingCode','application/json','unlocked','\x0aFN:','):\x20Editando\x20bloco...','size','empty','all','SERVER_ACK','Desconectado,\x20parando\x20execução.','mimetype','view\x20engine','js-yaml','response','\x20instance\x20does\x20not\x20exist','throwAndLogError','updateProfilePicture','http://ifconfig.me/ip','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','dbInstance','verbose','Erro\x20ao\x20copiar\x20dados:','):\x20Visualizando\x20AutomateSystem','views','map','instance','ephemeralExpiration','delayMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','startFlow','Erro\x20ao\x20atualizar\x20conversa:\x20','messageContextInfo','editflow','archive','last','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','sendStatus','processConditions','end','.jpg','equal','buffer','^\x5cd+([-]\x5cd+)*@g.us$','unhandledRejection','Converted\x20audio\x20deleted','creds.json','groupJid','.jwt','closed','uazapi','/config','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','qrcode-terminal','#56ccb4','reorderBlocks','restartInstance','Flow\x20iniciado\x20com\x20','://','fetchChats','\x1b[36m%s\x1b[0m','.svg','data','instanceKeys','enviado\x20para','findContacts','groupRevokeInvite','):\x20Editando\x20condição\x20do\x20fluxo...','):\x20Buscando\x20flow...','request\x20received\x20in\x20getConversation','Erro\x20ao\x20remover\x20instâncias\x20antigas:','removeChatLabel','Error\x20updating\x20profile\x20picture','execSync','Error\x20updating\x20profile\x20name','createServer','\x20minutos.\x20Será\x20às\x20','fetchLabels','deleteReplyOption','INFO','):\x20group\x20ignored','@g.us','\x20não\x20encontrado\x20para\x20atualização.','getHours','groupToggleEphemeral','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','/message','default','get','\x20segundos','API\x20Key\x20inválida.','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','):\x20lastBlockId:\x20','parse','minutesToClose','setRestartTimer','min','http://myexternalip.com/raw','#01d0e2','updateMissingCustomFields','errors','stoppedUntil','leadInfo.','fetchConversation','Content\x20is\x20required','CONNECTION','This\x20name\x20','/wa-message','ignoreGroups','loadWebhook','etiquetas','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','editflowvaredit','https://uazapi-plugin.bubbleapps.io/','deleteflow','Erro\x20ao\x20buscar\x20conversa:\x20','request\x20received\x20in\x20allFlows','eventEmitter','connectionStatus','\x1b[42m','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','imported','uazapiSendLocation','recebido\x20de','):\x20Conversa\x20inserida\x20com\x20sucesso.','stringify','Schema','):\x20Limpando\x20delayMessage','request\x20received\x20in\x20getFlow','Trying\x20to\x20get\x20business\x20profile','$addToSet','pushName','sem\x20texto\x20na\x20mensagem','sha256','deleteDoneMessages','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','Fluxo\x20não\x20encontrado','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','mongoose','Audio\x20processed','Error\x20fetching\x20and\x20updating\x20profile:\x20','stopped','textMessage','createConversationforStartFlow','announce','sendList','makeCacheableSignalKeyStore','StatusJidList\x20is\x20required','count','18910670KIDKrm','including\x20timestamp\x20in\x20url:\x20','toFile','COLOR','/wa-chats','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','reactionMessage','@s.whatsapp.net','Erro\x20ao\x20deletar\x20mensagens:','Erro\x20ao\x20inserir\x20chats:','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','address','/exit','findOne','varedits','METHODS','PROXY','Erro\x20ao\x20buscar\x20conversas:\x20','apiResponse','saveVariable','deleteInstance','key','restart','OrAnd','messages','has','LICENSE_INVALID','env.yml','hGetAll','existsSync','value','.ppt','public','Font\x20is\x20required','configService','\x20inseridos\x20no\x20banco\x20de\x20dados...','CLEANING_INTERVAL','scheduleSendMedia','.error','#fed428',',\x20resultado:\x20','protocol','flush','matchRegex','EXPIRIN_IN','chats.upsert','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','contextInfo','lastBlockId','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','updatePrivacySettings','updateReplyOption','PENDING','Read\x20messages\x20fail','find','password','MESSAGES_SET','TEXT','\x22reaction\x22\x20must\x20be\x20an\x20emoji','KEY','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','latitude','allflows','Error\x20change\x20group\x20name','inviteCode','createWebhook','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','):\x20Entrou\x20na\x20função\x20stop','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','testProxy','media','/webhook','toLocaleString','storePath','pop','exists','CREDENTIALS','updateStopChat','CHATS_UPSERT','stopConversation','writeData','some','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','generateHash','optionName','SINGLE_SELECT','Unable\x20to\x20leave\x20the\x20group','editChat','fromObject','isRunning','stopIfLastReturnedError','MESSAGES_UPDATE','SEND_MESSAGE','Erro\x20ao\x20editar\x20o\x20chat:\x20','events','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','ReplyOption\x20com\x20ID\x20','collection','picture','sendPoll','body','write','wuid','Flow\x20não\x20encontrado','onWhatsApp','eventHandler','*\x0a\x0a','Atualização:\x20','CONECTADO\x20À\x20UAZAPI','remove.instance','Router','Subscribed\x20Events:','Erro\x20ao\x20editar\x20o\x20bloco:\x20','pino','QRCODE_UPDATED','reaction','\x20is\x20already\x20in\x20use.','Error\x20occurred\x20while\x20archiving\x20chat:\x20','ids','sticker','content','preview','fileLength','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','REDIS_ENABLED','Image\x20path:\x20','checkAndUpdateChatStatus','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','createNewConversation','updateLastSeenPrivacy','request\x20received\x20in\x20editFlowvariable','oldToken','AppStateSyncKeyData','):\x20Flow\x20não\x20encontrado','deleteFlow','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','round','removeProfilePicture','updateOnlinePrivacy','connection.update','getOwnPropertyNames','locationMessage','DEBUG','_Messages','group','Error\x20while\x20deleting\x20message\x20for\x20everyone','useMultiFileAuthState','10906904zoBxsn','config','sendMessageWithTyping','url','groupAcceptInvite','applyvaredit','linkPreview'];a0_0x2653=function(){return _0x3e7e2f;};return a0_0x2653();}ki();async function xr(){const _0x4d1ae9=a0_0x4ff83f;let _0x1ef062;try{_0x1ef062=(await Ne[_0x4d1ae9(0x604)][_0x4d1ae9(0x605)](_0x4d1ae9(0x438)))[_0x4d1ae9(0x5eb)]['ip'];}catch(_0x51cd81){console[_0x4d1ae9(0x57f)](_0x51cd81);try{_0x1ef062=(await Ne[_0x4d1ae9(0x604)]['get']('https://api.ipify.org?format=json'))[_0x4d1ae9(0x5eb)]['ip'];}catch(_0x81baec){console[_0x4d1ae9(0x57f)](_0x81baec);try{_0x1ef062=(await Ne[_0x4d1ae9(0x604)][_0x4d1ae9(0x605)](_0x4d1ae9(0x465)))[_0x4d1ae9(0x5eb)]['match'](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x4d3dbe){return console[_0x4d1ae9(0x57f)](_0x4d3dbe),!0x1;}}}return _0x1ef062;}var Nr=0x0;async function Li(){const _0x338b6d=a0_0x4ff83f;let _0x3017cf=await new re(b[_0x338b6d(0x605)](_0x338b6d(0x4bc)))[_0x338b6d(0x5ec)]();return console['log'](_0x338b6d(0x7f7),_0x3017cf['length']),_0x3017cf[_0x338b6d(0x78e)];}function Fi(_0x4de016){const _0x253607=a0_0x4ff83f;let _0x3498eb=_0x4de016['get'](_0x253607(0x211))[_0x253607(0x30e)],_0x58896a=_0x4de016[_0x253607(0x605)](_0x253607(0x7e0)),_0x3c1a6f;if(_0x3498eb){let _0x3fa5aa=_0x3498eb['match'](/\/\/(.*?)\./);_0x3fa5aa&&_0x3fa5aa[0x1]&&(_0x3c1a6f=_0x3fa5aa[0x1]);}if(!_0x3c1a6f&&_0x58896a&&_0x58896a[_0x253607(0x6fc)]){let _0x1489d5=_0x58896a[_0x253607(0x6fc)][_0x253607(0x290)]('/'),_0x4918bc=_0x1489d5[_0x1489d5['length']-0x2];if(_0x4918bc){let _0x49b420=_0x4918bc[_0x253607(0x290)]('.');_0x49b420[_0x253607(0x78e)]>0x2&&(_0x3c1a6f=_0x49b420[0x0]);}}return _0x3c1a6f;}var Ns=Fi(b);async function ji(){const _0x36e38a=a0_0x4ff83f;let _0x6e030d=b[_0x36e38a(0x605)](_0x36e38a(0x4bc)),_0xdf5826=b[_0x36e38a(0x605)](_0x36e38a(0x29e))[_0x36e38a(0x43e)][_0x36e38a(0x67d)],_0x8f4c71=b[_0x36e38a(0x605)](_0x36e38a(0x7e0)),_0x3a72fb=await xr(),_0x523838=b['get'](_0x36e38a(0x211))[_0x36e38a(0x760)],_0x523bd5=b['get'](_0x36e38a(0x211))[_0x36e38a(0x30e)];try{let _0x44ea22={'ip':_0x3a72fb||null,'redis_enable':_0x6e030d?.[_0x36e38a(0x81b)]||null,'apikey':_0xdf5826||null,'ssl':_0x8f4c71?.[_0x36e38a(0x357)]||null,'lastupdate':Dr||null,'port':_0x523838||null,'gitInstallError':Re?.['message']||null,'url':_0x523bd5||null};if(console[_0x36e38a(0x4b8)](_0x36e38a(0x494),_0x44ea22['ip']),_0x6e030d&&_0x6e030d[_0x36e38a(0x81b)]){let _0x58d591=await Li();_0x44ea22[_0x36e38a(0x2b5)]=_0x58d591||null;}for(let _0x128955 in _0x44ea22)_0x44ea22[_0x36e38a(0x50e)](_0x128955)&&_0x128955!=='ip'&&(_0x44ea22[_0x128955]=JSON[_0x36e38a(0x62a)](_0x44ea22[_0x128955]));return(await Ne['default'][_0x36e38a(0x215)](_0x36e38a(0x553),_0x44ea22))['data'];}catch(_0xd4164b){return console['error'](_0xd4164b),!0x1;}}var As=!0x1,Dr=0x227,Ui=0x3,Rr=0x1b7740;async function xs(){const _0x379a99=a0_0x4ff83f;if(!await xr())return console[_0x379a99(0x57f)](_0x379a99(0x46d)),_0x379a99(0x4d8);let _0x5c9b90=await ji();if(_0x5c9b90){if(_0x5c9b90[_0x379a99(0x5b8)][_0x379a99(0x3bc)]===!0x0){let _0x193ed2=b['get'](_0x379a99(0x7e0)),_0x591581=b[_0x379a99(0x605)](_0x379a99(0x211))[_0x379a99(0x30e)];_0x193ed2&&_0x193ed2?.['PRIVKEY']?.[_0x379a99(0x713)](_0x379a99(0x3cc))&&_0x5c9b90[_0x379a99(0x5b8)]['subdomain']&&!_0x591581&&(await Vi(_0x5c9b90['response'][_0x379a99(0x37d)],Ji),await Bi(_0x379a99(0x21d),_0x5c9b90[_0x379a99(0x5b8)][_0x379a99(0x37d)]),console[_0x379a99(0x4b8)](_0x379a99(0x80b)),setTimeout(()=>Wi(),0x2710)),Re===null&&_0x5c9b90['response'][_0x379a99(0x79e)]-Dr>0x0&&await qi(),As||(As=!0x0,Di());let _0x5e4d09=0x24*0x3c*0x3c,_0x14f2bb=_0x5c9b90[_0x379a99(0x5b8)][_0x379a99(0x80c)]>_0x5e4d09?_0x5e4d09:_0x5c9b90[_0x379a99(0x5b8)][_0x379a99(0x80c)],_0x6c77b1=Number(_0x14f2bb);if(isNaN(_0x6c77b1)){console[_0x379a99(0x57f)](_0x379a99(0x2cf));return;}let _0x3014e2=Math[_0x379a99(0x593)](_0x6c77b1/0xe10),_0x51b678=Math[_0x379a99(0x593)](_0x6c77b1%0xe10/0x3c),_0x2c713f=new Date(Date[_0x379a99(0x7fe)]()+_0x6c77b1*0x3e8);setTimeout(xs,_0x6c77b1*0x3e8);let _0x4093e0=_0x26a306=>_0x26a306[_0x379a99(0x552)]()[_0x379a99(0x1ac)](0x2,'0'),_0xec1e63=_0x379a99(0x24f)+_0x4093e0(_0x3014e2)+_0x379a99(0x193)+_0x4093e0(_0x51b678)+_0x379a99(0x5f9)+_0x4093e0(_0x2c713f[_0x379a99(0x600)]())+':'+_0x4093e0(_0x2c713f[_0x379a99(0x1b7)]())+'.';console[_0x379a99(0x4b8)](_0xec1e63);}else return console['log'](_0x379a99(0x421)),As&&(console[_0x379a99(0x4b8)](_0x379a99(0x811)),process[_0x379a99(0x4b4)]()),_0x379a99(0x65c);}else{if(Nr++,Nr<Ui)console[_0x379a99(0x4b8)](_0x379a99(0x4ce)+Rr/0xea60+_0x379a99(0x56b)),setTimeout(xs,Rr);else return console[_0x379a99(0x57f)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),_0x379a99(0x6de);}}async function qi(){const _0x592f3f=a0_0x4ff83f;console[_0x592f3f(0x4b8)]('Parando\x20aplicação,\x20atualização\x20recebida');let _0x57dd8b=(0x0,Oe[_0x592f3f(0x3c2)])(_0x592f3f(0x3f8),{'shell':!0x0});_0x57dd8b[_0x592f3f(0x732)]['on'](_0x592f3f(0x5eb),_0x1c6044=>{const _0x159387=_0x592f3f;console['log'](_0x159387(0x6ad)+_0x1c6044);}),_0x57dd8b['stderr']['on'](_0x592f3f(0x5eb),_0x1040ae=>{const _0x176c5a=_0x592f3f;console[_0x176c5a(0x57f)](_0x176c5a(0x409)+_0x1040ae);}),_0x57dd8b['on'](_0x592f3f(0x4b4),_0x4e41d3=>{const _0x1260f7=_0x592f3f;_0x4e41d3!==0x0?console[_0x1260f7(0x57f)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x4e41d3):console[_0x1260f7(0x4b8)](_0x1260f7(0x1fc)),console[_0x1260f7(0x4b8)](_0x1260f7(0x727)),setTimeout(()=>process[_0x1260f7(0x4b4)](),0x2710);});}var Ji=Te[a0_0x4ff83f(0x604)]['join'](__dirname,a0_0x4ff83f(0x65d));async function Vi(_0x1e0a73,_0x39bdfb){const _0x382ace=a0_0x4ff83f;let _0x4a28e9=Gi();_0x1e0a73=_0x1e0a73[_0x382ace(0x707)]('.uazapi.dev','');try{let _0x1f04b8=ue[_0x382ace(0x604)][_0x382ace(0x751)](_0x39bdfb,'utf8');_0x1f04b8=_0x1f04b8[_0x382ace(0x707)](/<apikey>/,_0x4a28e9),_0x1f04b8=_0x1f04b8[_0x382ace(0x707)](/<subdomain>/g,_0x1e0a73),ue['default']['writeFileSync'](_0x39bdfb,_0x1f04b8,'utf8'),console[_0x382ace(0x4b8)](_0x382ace(0x5a5));}catch(_0x1683f8){console[_0x382ace(0x57f)](_0x382ace(0x51f),_0x1683f8);}}function Bi(_0x183745,_0x903f95){return new Promise((_0x5f162b,_0x5a92d8)=>{const _0x12e1ab=a0_0x52dd;let _0x25a2ad=(0x0,Oe[_0x12e1ab(0x3c2)])(_0x12e1ab(0x550),['certonly',_0x12e1ab(0x3ab),'-m',_0x183745,_0x12e1ab(0x7e2),'-d',_0x903f95]);_0x25a2ad[_0x12e1ab(0x732)]['on']('data',_0x254336=>{const _0x5d8755=_0x12e1ab;console[_0x5d8755(0x4b8)](_0x5d8755(0x78c)+_0x254336['toString']());}),_0x25a2ad[_0x12e1ab(0x80a)]['on'](_0x12e1ab(0x5eb),_0x606406=>{const _0x2eca09=_0x12e1ab;console[_0x2eca09(0x57f)](_0x2eca09(0x23a)+_0x606406[_0x2eca09(0x552)]());}),_0x25a2ad['on'](_0x12e1ab(0x19f),_0x4e89da=>{const _0x762d8e=_0x12e1ab;_0x4e89da!==0x0?(console[_0x762d8e(0x57f)](_0x762d8e(0x27e)+_0x4e89da),_0x5a92d8(_0x762d8e(0x27e)+_0x4e89da)):(console[_0x762d8e(0x4b8)](_0x762d8e(0x201)),_0x5f162b());});});}function Gi(_0x19a06a=0x32){const _0x27e075=a0_0x4ff83f;let _0x29b1db='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x54f045='';for(let _0x3005ac=0x0;_0x3005ac<_0x19a06a;_0x3005ac++)_0x54f045+=_0x29b1db[_0x27e075(0x41c)](Math['floor'](Math[_0x27e075(0x262)]()*_0x29b1db['length']));return _0x54f045;}function Wi(){const _0x49aa53=a0_0x4ff83f;(0x0,Oe[_0x49aa53(0x582)])(_0x49aa53(0x818),(_0x4d1e15,_0x19c315,_0xd1997c)=>{const _0x2ccd5a=_0x49aa53;if(_0x4d1e15){console[_0x2ccd5a(0x57f)]('Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20'+_0x4d1e15);return;}if(_0xd1997c){console['error']('Erro\x20de\x20reinicialização:\x20'+_0xd1997c);return;}console[_0x2ccd5a(0x4b8)]('Reinicialização\x20iniciada:\x20'+_0x19c315);});}0x0&&(module['exports']={'subdomain':subdomain});