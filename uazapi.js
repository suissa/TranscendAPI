const a0_0x1c66d9=a0_0x24da;(function(_0x32bca7,_0xeeaaa0){const _0x55f46a=a0_0x24da,_0xe512d9=_0x32bca7();while(!![]){try{const _0x359846=parseInt(_0x55f46a(0x275))/0x1*(parseInt(_0x55f46a(0x87a))/0x2)+parseInt(_0x55f46a(0x224))/0x3*(-parseInt(_0x55f46a(0x81e))/0x4)+-parseInt(_0x55f46a(0x4d8))/0x5+-parseInt(_0x55f46a(0x5b0))/0x6*(-parseInt(_0x55f46a(0x400))/0x7)+parseInt(_0x55f46a(0x2e4))/0x8+parseInt(_0x55f46a(0x65f))/0x9*(parseInt(_0x55f46a(0x29c))/0xa)+parseInt(_0x55f46a(0x25f))/0xb*(-parseInt(_0x55f46a(0x6f8))/0xc);if(_0x359846===_0xeeaaa0)break;else _0xe512d9['push'](_0xe512d9['shift']());}catch(_0x5aee47){_0xe512d9['push'](_0xe512d9['shift']());}}}(a0_0x3b5f,0x3fa54));var Hi=Object[a0_0x1c66d9(0x548)],We=Object[a0_0x1c66d9(0x1bc)],Ki=Object[a0_0x1c66d9(0x729)],Qi=Object[a0_0x1c66d9(0x82e)],Yi=Object[a0_0x1c66d9(0x5e8)],Xi=Object[a0_0x1c66d9(0x7ff)]['hasOwnProperty'],Zi=(_0x424ffc,_0x292f2a)=>{for(var _0x1ce6b1 in _0x292f2a)We(_0x424ffc,_0x1ce6b1,{'get':_0x292f2a[_0x1ce6b1],'enumerable':!0x0});},Qs=(_0x3174de,_0x4b499d,_0x40ce49,_0x43a198)=>{const _0x1a63b0=a0_0x1c66d9;if(_0x4b499d&&typeof _0x4b499d==_0x1a63b0(0x2c2)||typeof _0x4b499d==_0x1a63b0(0x404)){for(let _0x5ba469 of Qi(_0x4b499d))!Xi[_0x1a63b0(0x322)](_0x3174de,_0x5ba469)&&_0x5ba469!==_0x40ce49&&We(_0x3174de,_0x5ba469,{'get':()=>_0x4b499d[_0x5ba469],'enumerable':!(_0x43a198=Ki(_0x4b499d,_0x5ba469))||_0x43a198[_0x1a63b0(0x43f)]});}return _0x3174de;},I=(_0x39996d,_0x2a844e,_0x543596)=>(_0x543596=_0x39996d!=null?Hi(Yi(_0x39996d)):{},Qs(_0x2a844e||!_0x39996d||!_0x39996d[a0_0x1c66d9(0x8f6)]?We(_0x543596,a0_0x1c66d9(0x77c),{'value':_0x39996d,'enumerable':!0x0}):_0x543596,_0x39996d)),eo=_0x50701f=>Qs(We({},a0_0x1c66d9(0x8f6),{'value':!0x0}),_0x50701f),br={};Zi(br,{'fullURL':()=>Ks,'subdomain':()=>ge}),module[a0_0x1c66d9(0x4f1)]=eo(br);var qi=I(require(a0_0x1c66d9(0x5b5))),Xs=require('fs'),Zs=require(a0_0x1c66d9(0x1a6)),ea=require(a0_0x1c66d9(0x243)),ze=require(a0_0x1c66d9(0x243)),ce=process[a0_0x1c66d9(0x66f)](),Me=(0x0,ze['join'])(ce,'instances'),Ys=(0x0,ze[a0_0x1c66d9(0x552)])(ce,a0_0x1c66d9(0x534)),Mn=(0x0,ze['join'])(ce,a0_0x1c66d9(0x29d),a0_0x1c66d9(0x3c8)),gs=class{constructor(){const _0x102afc=a0_0x1c66d9;this[_0x102afc(0x591)]();}['get'](_0x5994c3){return this['env'][_0x5994c3];}[a0_0x1c66d9(0x591)](){const _0x2ab6b4=a0_0x1c66d9;this[_0x2ab6b4(0x6c7)]=process[_0x2ab6b4(0x6c7)]?.[_0x2ab6b4(0x8d3)]!=='true'?this[_0x2ab6b4(0x8e3)]():this['envProcess'](),process[_0x2ab6b4(0x6c7)]?.[_0x2ab6b4(0x8d3)]===_0x2ab6b4(0x8e2)&&(this[_0x2ab6b4(0x6c7)][_0x2ab6b4(0x1f0)][_0x2ab6b4(0x714)]=_0x2ab6b4(0x54d),this[_0x2ab6b4(0x6c7)][_0x2ab6b4(0x1f0)][_0x2ab6b4(0x7ee)]=Number[_0x2ab6b4(0x6fa)](process[_0x2ab6b4(0x6c7)]?.['SERVER_PORT']??'8080'));}[a0_0x1c66d9(0x8e3)](){const _0x16bfdf=a0_0x1c66d9;return(0x0,Zs[_0x16bfdf(0x338)])((0x0,Xs['readFileSync'])((0x0,ea[_0x16bfdf(0x552)])(Ys,_0x16bfdf(0x5a4)),{'encoding':_0x16bfdf(0x3b5)}));}[a0_0x1c66d9(0x625)](){const _0x42514d=a0_0x1c66d9;return{'SERVER':{'TYPE':process[_0x42514d(0x6c7)]['SERVER_TYPE'],'PORT':Number[_0x42514d(0x6fa)](process[_0x42514d(0x6c7)][_0x42514d(0x3e3)]),'URL':process['env']['SERVER_URL']},'CORS':{'ORIGIN':process[_0x42514d(0x6c7)][_0x42514d(0x616)]['split'](','),'METHODS':process['env'][_0x42514d(0x5aa)][_0x42514d(0x444)](','),'CREDENTIALS':process[_0x42514d(0x6c7)]?.[_0x42514d(0x6eb)]===_0x42514d(0x8e2)},'SSL_CONF':{'PRIVKEY':process[_0x42514d(0x6c7)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process['env']?.[_0x42514d(0x80c)]},'STORE':{'CLEANING_INTERVAL':Number[_0x42514d(0x464)](process['env']?.['STORE_CLEANING_TERMINAL'])?Number[_0x42514d(0x6fa)](process[_0x42514d(0x6c7)][_0x42514d(0x1a9)]):void 0x0,'MESSAGES':process['env']?.[_0x42514d(0x892)]===_0x42514d(0x8e2),'CONTACTS':process['env']?.[_0x42514d(0x317)]===_0x42514d(0x8e2),'CHATS':process[_0x42514d(0x6c7)]?.[_0x42514d(0x41c)]===_0x42514d(0x8e2)},'DATABASE':{'CONNECTION':{'HOST':process[_0x42514d(0x6c7)]?.['DATABASE_CONNECTION_HOST'],'PORT':Number['parseInt'](process[_0x42514d(0x6c7)]?.[_0x42514d(0x35e)]),'USER':process['env'][_0x42514d(0x5ce)],'PASSWORD':process[_0x42514d(0x6c7)][_0x42514d(0x2c5)],'URI':process[_0x42514d(0x6c7)][_0x42514d(0x196)],'DB_PREFIX_NAME':process[_0x42514d(0x6c7)][_0x42514d(0x852)]},'ENABLED':process['env']?.[_0x42514d(0x6d0)]===_0x42514d(0x8e2)},'REDIS':{'ENABLED':process[_0x42514d(0x6c7)]?.[_0x42514d(0x268)]==='true','URI':process[_0x42514d(0x6c7)]['REDIS_URI']||'redis://127.0.0.1:6379','PREFIX_KEY':process['env'][_0x42514d(0x324)]||_0x42514d(0x453)},'LOG':{'LEVEL':process[_0x42514d(0x6c7)]?.[_0x42514d(0x763)][_0x42514d(0x444)](','),'COLOR':process[_0x42514d(0x6c7)]?.['LOG_COLOR']===_0x42514d(0x8e2)},'PROXY':process['env']?.[_0x42514d(0x2e6)]===_0x42514d(0x8e2),'AUTHENTICATION':{'TYPE':process[_0x42514d(0x6c7)][_0x42514d(0x3b1)],'API_KEY':{'KEY':process[_0x42514d(0x6c7)][_0x42514d(0x732)]},'JWT':{'EXPIRIN_IN':Number[_0x42514d(0x464)](process[_0x42514d(0x6c7)]?.[_0x42514d(0x3e6)])?Number[_0x42514d(0x6fa)](process[_0x42514d(0x6c7)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x42514d(0x6c7)][_0x42514d(0x295)]}}};}},S=new gs(),Vi=I(require('cors')),be=I(require('express')),zs=require(a0_0x1c66d9(0x243)),ms=I(require(a0_0x1c66d9(0x5bb))),fs=(_0x1ca20a=>(_0x1ca20a['LOG']=a0_0x1c66d9(0x821),_0x1ca20a[a0_0x1c66d9(0x33c)]=a0_0x1c66d9(0x7ba),_0x1ca20a[a0_0x1c66d9(0x818)]=a0_0x1c66d9(0x285),_0x1ca20a[a0_0x1c66d9(0x2a0)]='\x1b[31m',_0x1ca20a['DEBUG']=a0_0x1c66d9(0x373),_0x1ca20a[a0_0x1c66d9(0x36b)]=a0_0x1c66d9(0x21c),_0x1ca20a[a0_0x1c66d9(0x6a9)]='\x1b[30m',_0x1ca20a))(fs||{}),ta=(_0x199121=>(_0x199121[a0_0x1c66d9(0x610)]='\x1b[32m%s\x1b[0m',_0x199121['DARK']=a0_0x1c66d9(0x29a),_0x199121[a0_0x1c66d9(0x33c)]='\x1b[34m%s\x1b[0m',_0x199121[a0_0x1c66d9(0x818)]=a0_0x1c66d9(0x20c),_0x199121[a0_0x1c66d9(0x2a0)]=a0_0x1c66d9(0x713),_0x199121[a0_0x1c66d9(0x645)]='\x1b[36m%s\x1b[0m',_0x199121[a0_0x1c66d9(0x36b)]=a0_0x1c66d9(0x41e),_0x199121))(ta||{}),sa=(_0x22679d=>(_0x22679d[a0_0x1c66d9(0x610)]=a0_0x1c66d9(0x610),_0x22679d[a0_0x1c66d9(0x818)]=a0_0x1c66d9(0x818),_0x22679d[a0_0x1c66d9(0x33c)]=a0_0x1c66d9(0x33c),_0x22679d[a0_0x1c66d9(0x6a9)]='DARK',_0x22679d['ERROR']=a0_0x1c66d9(0x2a0),_0x22679d[a0_0x1c66d9(0x645)]=a0_0x1c66d9(0x645),_0x22679d[a0_0x1c66d9(0x36b)]='VERBOSE',_0x22679d))(sa||{}),aa=(_0x3b5bc2=>(_0x3b5bc2[a0_0x1c66d9(0x610)]=a0_0x1c66d9(0x563),_0x3b5bc2[a0_0x1c66d9(0x33c)]=a0_0x1c66d9(0x3f6),_0x3b5bc2['WARN']=a0_0x1c66d9(0x377),_0x3b5bc2[a0_0x1c66d9(0x6a9)]=a0_0x1c66d9(0x190),_0x3b5bc2[a0_0x1c66d9(0x2a0)]=a0_0x1c66d9(0x381),_0x3b5bc2[a0_0x1c66d9(0x645)]='\x1b[46m',_0x3b5bc2[a0_0x1c66d9(0x36b)]=a0_0x1c66d9(0x7de),_0x3b5bc2))(aa||{}),$=class{constructor(_0x1413cd=a0_0x1c66d9(0x194)){const _0x3f386f=a0_0x1c66d9;this['context']=_0x1413cd,this[_0x3f386f(0x62b)]=S;}['setContext'](_0x16869c){const _0x18d486=a0_0x1c66d9;this[_0x18d486(0x649)]=_0x16869c;}['console'](_0x45eb82,_0x231756){const _0xbd9057=a0_0x1c66d9;let _0x5d90b3=[];this[_0xbd9057(0x62b)][_0xbd9057(0x7b4)]('LOG')[_0xbd9057(0x426)][_0xbd9057(0x8bf)](_0x4b0433=>_0x5d90b3[_0xbd9057(0x463)](sa[_0x4b0433]));let _0x3d7685=typeof _0x45eb82;_0x5d90b3[_0xbd9057(0x1e1)](_0x231756)&&(S['get'](_0xbd9057(0x610))[_0xbd9057(0x753)]?(console[_0xbd9057(0x19c)](_0xbd9057(0x2c6)+ta[_0x231756],_0xbd9057(0x3ee),(0x0,ms[_0xbd9057(0x77c)])()[_0xbd9057(0x2e3)](_0xbd9057(0x184)),_0xbd9057(0x6cf),fs[_0x231756]+aa[_0x231756]+'\x1b[1m',_0x231756+_0xbd9057(0x75f),'\x1b[33m\x1b[1m',this[_0xbd9057(0x649)]+'\x1b[0m',fs[_0x231756],_0x3d7685!==_0xbd9057(0x2c2)?_0x45eb82:'',_0xbd9057(0x6cf)),_0x3d7685===_0xbd9057(0x2c2)&&console[_0xbd9057(0x19c)](_0x45eb82,'\x0a')):console[_0xbd9057(0x19c)]((0x0,ms[_0xbd9057(0x77c)])()[_0xbd9057(0x2e3)](_0xbd9057(0x4f3)),_0x231756+'\x20',''+this['context'],_0x45eb82));}['log'](_0x479c19){const _0x147e35=a0_0x1c66d9;this[_0x147e35(0x8be)](_0x479c19,_0x147e35(0x610));}['info'](_0x1114f6){const _0x122db3=a0_0x1c66d9;this[_0x122db3(0x8be)](_0x1114f6,_0x122db3(0x33c));}[a0_0x1c66d9(0x8ce)](_0x24e386){const _0x19be6c=a0_0x1c66d9;this[_0x19be6c(0x8be)](_0x24e386,_0x19be6c(0x818));}[a0_0x1c66d9(0x456)](_0x17d37d){const _0x422a4b=a0_0x1c66d9;this[_0x422a4b(0x8be)](_0x17d37d,_0x422a4b(0x2a0));}[a0_0x1c66d9(0x3ad)](_0x3aa174){const _0x1ade35=a0_0x1c66d9;this['console'](_0x3aa174,_0x1ade35(0x36b));}[a0_0x1c66d9(0x3af)](_0x2c7b95){const _0x13bf2f=a0_0x1c66d9;this[_0x13bf2f(0x8be)](_0x2c7b95,_0x13bf2f(0x645));}[a0_0x1c66d9(0x398)](_0x3433fa){const _0x3e14c9=a0_0x1c66d9;this[_0x3e14c9(0x8be)](_0x3433fa,_0x3e14c9(0x6a9));}};function ia(){const _0x135e2a=a0_0x1c66d9;process['on'](_0x135e2a(0x69e),(_0x3ae5a9,_0x5ddc9b)=>{const _0x384e75=_0x135e2a;new $(_0x384e75(0x69e))[_0x384e75(0x456)]({'origin':_0x5ddc9b,'stderr':process[_0x384e75(0x5b1)]['fd'],'error':_0x3ae5a9});}),process['on'](_0x135e2a(0x56d),(_0x1cc91a,_0x52836f)=>{const _0x26e494=_0x135e2a;new $(_0x26e494(0x56d))[_0x26e494(0x456)]({'origin':_0x52836f,'stderr':process['stderr']['fd'],'error':_0x1cc91a});});}var oa=I(require('eventemitter2')),ws=new oa[(a0_0x1c66d9(0x77c))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Ce=require(a0_0x1c66d9(0x6f7)),_e=I(require(a0_0x1c66d9(0x6f7))),He=new $(a0_0x1c66d9(0x875)),L=S[a0_0x1c66d9(0x7b4)](a0_0x1c66d9(0x5ef)),T=L[a0_0x1c66d9(0x8d2)]?L['CONNECTION'][a0_0x1c66d9(0x5ab)]?_e[a0_0x1c66d9(0x77c)][a0_0x1c66d9(0x396)](L['CONNECTION'][a0_0x1c66d9(0x5ab)],{'dbName':L[a0_0x1c66d9(0x28c)][a0_0x1c66d9(0x857)]+a0_0x1c66d9(0x3c7)}):_e[a0_0x1c66d9(0x77c)][a0_0x1c66d9(0x396)](a0_0x1c66d9(0x2ff)+L[a0_0x1c66d9(0x28c)][a0_0x1c66d9(0x759)]+':'+L[a0_0x1c66d9(0x28c)][a0_0x1c66d9(0x7ee)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':L[a0_0x1c66d9(0x28c)][a0_0x1c66d9(0x654)],'pass':L[a0_0x1c66d9(0x28c)][a0_0x1c66d9(0x6ef)],'dbName':L[a0_0x1c66d9(0x28c)]['DB_PREFIX_NAME']+a0_0x1c66d9(0x3c7)}):null;L[a0_0x1c66d9(0x8d2)]&&He[a0_0x1c66d9(0x43e)]('ON\x20-\x20dbName:\x20'+T[a0_0x1c66d9(0x23b)]);var Y=L['ENABLED']?L[a0_0x1c66d9(0x28c)][a0_0x1c66d9(0x5ab)]?_e[a0_0x1c66d9(0x77c)][a0_0x1c66d9(0x396)](L[a0_0x1c66d9(0x28c)]['URI'],{'dbName':a0_0x1c66d9(0x24c)}):_e[a0_0x1c66d9(0x77c)][a0_0x1c66d9(0x396)](a0_0x1c66d9(0x2ff)+L['CONNECTION'][a0_0x1c66d9(0x759)]+':'+L[a0_0x1c66d9(0x28c)][a0_0x1c66d9(0x7ee)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':L['CONNECTION'][a0_0x1c66d9(0x654)],'pass':L[a0_0x1c66d9(0x28c)]['PASSWORD'],'dbName':a0_0x1c66d9(0x23f)}):null;Y&&He[a0_0x1c66d9(0x43e)]('ON\x20-\x20dbName:\x20'+Y[a0_0x1c66d9(0x23b)]),process['on'](a0_0x1c66d9(0x7fc),()=>{const _0x5a6bf5=a0_0x1c66d9;T&&T[_0x5a6bf5(0x57b)](()=>{const _0x15f6fd=_0x5a6bf5;He[_0x15f6fd(0x43e)](_0x15f6fd(0x5b3));}),Y&&Y[_0x5a6bf5(0x57b)](()=>{const _0xeedb50=_0x5a6bf5;He[_0xeedb50(0x43e)](_0xeedb50(0x8ec));});});var to=new Ce[(a0_0x1c66d9(0x1f6))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),so=new Ce[(a0_0x1c66d9(0x1f6))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),ao=new Ce[(a0_0x1c66d9(0x1f6))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),io=new Ce['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[to],'default':[]}},{'_id':!0x1}),oo=new Ce[(a0_0x1c66d9(0x1f6))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':io,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':so},'groupdata':{'type':ao,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ra=_0x2eb8be=>{const _0x560ebd=a0_0x1c66d9;let _0x567d84='z_'+_0x2eb8be+'_Chats';return T?.[_0x560ebd(0x35a)](_0x560ebd(0x7f5),oo,_0x567d84);},na=require(a0_0x1c66d9(0x6f7)),ro=new na[(a0_0x1c66d9(0x1f6))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ca=_0x2ced30=>{const _0x2fc30a=a0_0x1c66d9;let _0x24c3c3='z_'+_0x2ced30+_0x2fc30a(0x450);return T?.[_0x2fc30a(0x35a)](_0x2fc30a(0x7ec),ro,_0x24c3c3);},la=require(a0_0x1c66d9(0x6f7)),ys=class{},no=new la[(a0_0x1c66d9(0x1f6))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ua=Y?.[a0_0x1c66d9(0x35a)](ys[a0_0x1c66d9(0x87f)],no,a0_0x1c66d9(0x4b6)),da=require('mongoose'),bs=class{},co=new da[(a0_0x1c66d9(0x1f6))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Ke=Y?.[a0_0x1c66d9(0x35a)](bs['name'],co,a0_0x1c66d9(0x1d6)),Ms=require('mongoose'),Ss=class{},lo=new Ms['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),uo=new Ms[(a0_0x1c66d9(0x1f6))]({'_id':{'type':String},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),pa=Y?.['model'](Ss[a0_0x1c66d9(0x87f)],uo,a0_0x1c66d9(0x709)),ha=_0x4e383f=>{const _0x2aa862=a0_0x1c66d9;let _0x4c5544='z_'+_0x4e383f+'_Messages';return T?.[_0x2aa862(0x35a)](_0x2aa862(0x71c),lo,_0x4c5544);},ga=require('mongoose'),Cs=class{},po=new ga[(a0_0x1c66d9(0x1f6))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ma=T?.['model'](Cs['name'],po,a0_0x1c66d9(0x519)),fa=require(a0_0x1c66d9(0x6f7)),vs=class{},wa=new fa[(a0_0x1c66d9(0x1f6))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});wa[a0_0x1c66d9(0x8b8)](a0_0x1c66d9(0x8f0),function(_0x9e4aab){const _0x102109=a0_0x1c66d9;delete this['flowActive'],delete this['flowIgnoreGroups'],delete this[_0x102109(0x1cf)],delete this[_0x102109(0x1d0)],delete this[_0x102109(0x299)],_0x9e4aab();});var ya=T?.[a0_0x1c66d9(0x35a)](vs['name'],wa,a0_0x1c66d9(0x8b6)),P=require(a0_0x1c66d9(0x6f7)),Es=require(a0_0x1c66d9(0x3cd)),Qe=class{},Ns=class{},Sa=new P[(a0_0x1c66d9(0x1f6))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),$s=new P[(a0_0x1c66d9(0x1f6))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),ho=new P[(a0_0x1c66d9(0x1f6))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x1c66d9(0x6fe)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x1c66d9(0x8d5)},'pollErrorMessage':{'type':String,'default':a0_0x1c66d9(0x5d8)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Ma=new P['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),go=new P[(a0_0x1c66d9(0x1f6))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),mo=new P[(a0_0x1c66d9(0x1f6))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),As=new P[(a0_0x1c66d9(0x1f6))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),fo=new P[(a0_0x1c66d9(0x1f6))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),Ca=new P[(a0_0x1c66d9(0x1f6))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':ho},'apirequest':go,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':fo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),va=new P[(a0_0x1c66d9(0x1f6))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Ea=new P[(a0_0x1c66d9(0x1f6))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[As],'blocks':[Ca],'groups':[Sa],'conditions':[Ma],'varedits':[va],'replyOptions':{'type':[$s],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x270ff5=a0_0x1c66d9;return'!cmd_'+Math[_0x270ff5(0x806)]()[_0x270ff5(0x37f)](0x24)[_0x270ff5(0x7af)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':'false'},'startID':{'type':String,'default':()=>(0x0,Es['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Es['v4'])()},'shareOwners':{'type':[String],'default':[]}});Ea['pre'](a0_0x1c66d9(0x2c8),function(_0x2eb2ce){const _0x2b7fb5=a0_0x1c66d9;let _0x3d87a9=this[_0x2b7fb5(0x347)]();if(_0x3d87a9&&typeof _0x3d87a9==_0x2b7fb5(0x2c2)&&_0x2b7fb5(0x4c2)in _0x3d87a9){let _0x4a619c=_0x3d87a9[_0x2b7fb5(0x4c2)];if(_0x4a619c){let _0x44403d=new Set(),_0x30777d=new Set(_0x4a619c['variables']?.[_0x2b7fb5(0x521)](_0x5d0fd5=>_0x5d0fd5[_0x2b7fb5(0x87f)])),_0x4a4d62=JSON[_0x2b7fb5(0x8cd)](_0x4a619c),_0x26c437=/{{(?!_)([^}]*)}}/g,_0x402e52;for(;(_0x402e52=_0x26c437[_0x2b7fb5(0x2e7)](_0x4a4d62))!==null;)_0x30777d['has'](_0x402e52[0x1])||_0x44403d[_0x2b7fb5(0x887)](_0x402e52[0x1]);_0x44403d[_0x2b7fb5(0x5d4)]>0x0?(console['warn'](_0x2b7fb5(0x7c8),Array['from'](_0x44403d)),_0x4a619c[_0x2b7fb5(0x1af)]=Array[_0x2b7fb5(0x3de)](_0x44403d)):_0x4a619c[_0x2b7fb5(0x1af)]=[],this[_0x2b7fb5(0x77f)]({'$set':_0x4a619c});}}_0x2eb2ce();});var ve=T?.[a0_0x1c66d9(0x35a)](Ns['name'],Ea,a0_0x1c66d9(0x41a)),wo=new P[(a0_0x1c66d9(0x1f6))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[As],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[mo]},{'_id':!0x1}),yo=new P[(a0_0x1c66d9(0x1f6))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[As],'blocks':[Ca],'groups':[Sa],'conditions':[Ma],'varedits':[va],'replyOptions':{'type':[$s],'default':[]},'chatLog':wo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x1c66d9(0x32f)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x1c66d9(0x8d5)},'waitingMenu_replyOptions':{'type':[$s],'default':[]}}),Na=_0x2d71c9=>{const _0x403229=a0_0x1c66d9;let _0x2ae0a3='z_'+_0x2d71c9+_0x403229(0x418);return T?.[_0x403229(0x35a)](_0x403229(0x3b4),yo,_0x2ae0a3);},bo=new P['Schema']({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ba=new P[(a0_0x1c66d9(0x1f6))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),So=new P[(a0_0x1c66d9(0x1f6))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ba],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':'scheduled'},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[bo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ba,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),$a=_0x5ae5e1=>{const _0xb6da69=a0_0x1c66d9;let _0x4aa078='z_'+_0x5ae5e1+_0xb6da69(0x70c);return T?.[_0xb6da69(0x35a)](_0xb6da69(0x244),So,_0x4aa078);},Rs=class{},Mo=new P[(a0_0x1c66d9(0x1f6))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),Co=new P[(a0_0x1c66d9(0x1f6))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),vo=new P[(a0_0x1c66d9(0x1f6))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Eo=new P[(a0_0x1c66d9(0x1f6))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),No=new P[(a0_0x1c66d9(0x1f6))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),$o=new P[(a0_0x1c66d9(0x1f6))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[No]},'customFields':{'type':[vo]},'flowConfig':{'type':Eo,'default':{}},'flows':{'type':[Co],'default':[]},'autoCompleteMessages':{'type':[Mo],'default':[]}}),Oe=T?.[a0_0x1c66d9(0x35a)](Rs[a0_0x1c66d9(0x87f)],$o,a0_0x1c66d9(0x4c1)),Ra=require(a0_0x1c66d9(0x6f7)),Ro=new Ra[(a0_0x1c66d9(0x1f6))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Aa=_0x4189f4=>{const _0x28f6aa=a0_0x1c66d9;let _0x4396ee='z_'+_0x4189f4+_0x28f6aa(0x2a6);return T?.[_0x28f6aa(0x35a)](_0x28f6aa(0x59e),Ro,_0x4396ee);},O=class{constructor(_0x2c01cc){const _0x122855=a0_0x1c66d9;this[_0x122855(0x302)]=_0x2c01cc[_0x122855(0x7b4)](_0x122855(0x5ef));}};function A(_0x243d6f){const _0x3de901=a0_0x1c66d9;let _0x58c2fb={};for(let [_0x25a895,_0x151fbd]of Object['entries'](_0x243d6f))if(typeof _0x151fbd==_0x3de901(0x2c2)&&!Array['isArray'](_0x151fbd)){for(let [_0x21102b,_0x28699f]of Object[_0x3de901(0x7eb)](_0x151fbd))_0x58c2fb[_0x25a895+'.'+_0x21102b]=_0x28699f;}else _0x58c2fb[_0x25a895]=_0x151fbd;return _0x58c2fb;}var Ye=class{constructor(_0x5ed0d0,_0x3b2f90,_0x1b710f,_0x255c3c,_0xcbd5e0,_0xf32135,_0x5e10b0,_0x560801,_0x2ac348,_0x2624a4,_0x1b2486,_0x516560,_0x2c2cfe,_0x338461){const _0x8e23d4=a0_0x1c66d9;this[_0x8e23d4(0x18c)]=_0x5ed0d0,this[_0x8e23d4(0x862)]=_0x3b2f90,this[_0x8e23d4(0x4a7)]=_0x1b710f,this[_0x8e23d4(0x611)]=_0x255c3c,this[_0x8e23d4(0x42d)]=_0xcbd5e0,this[_0x8e23d4(0x8b6)]=_0xf32135,this[_0x8e23d4(0x3c8)]=_0x5e10b0,this[_0x8e23d4(0x401)]=_0x560801,this[_0x8e23d4(0x719)]=_0x2ac348,this[_0x8e23d4(0x7ad)]=_0x2624a4,this['label']=_0x1b2486,this[_0x8e23d4(0x64b)]=_0x516560,this[_0x8e23d4(0x776)]=_0x2c2cfe,this[_0x8e23d4(0x77e)]=_0x338461;}get[a0_0x1c66d9(0x812)](){return this['dbClient'];}},Xe=class{},Ze=class extends O{[a0_0x1c66d9(0x760)](_0x5cc64c){return ha(_0x5cc64c);}async['insert'](_0x4b7a8b,_0x425049){const _0x5e3364=a0_0x1c66d9;if(_0x4b7a8b[_0x5e3364(0x844)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x425049)[_0x5e3364(0x84b)]([..._0x4b7a8b]))[_0x5e3364(0x844)]};}catch(_0x2b5a60){return _0x2b5a60;}}async['find'](_0xd3151c,_0x3458a0){const _0x60d47f=a0_0x1c66d9;try{let _0x39ec2f=this[_0x60d47f(0x760)](_0x3458a0),_0x4cc6fb=A(_0xd3151c[_0x60d47f(0x30f)]);return await _0x39ec2f[_0x60d47f(0x705)](_0x4cc6fb)[_0x60d47f(0x3db)]({'messageTimestamp':-0x1})[_0x60d47f(0x4ad)](_0xd3151c?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x1c66d9(0x2a3)](_0xf63386,_0x3449fc){const _0x511d71=a0_0x1c66d9;try{let _0x176f3a=this[_0x511d71(0x760)](_0x3449fc),_0x40d872=A(_0xf63386['where']);await _0x176f3a[_0x511d71(0x79e)](_0x40d872);}catch(_0x3ea72e){console[_0x511d71(0x456)](_0x3ea72e);}}async[a0_0x1c66d9(0x2de)](_0x593064,_0x1c8e93,_0x448371){const _0x11b859=a0_0x1c66d9;try{let _0x4b79d0=this[_0x11b859(0x760)](_0x448371),_0x4a7606=A(_0x593064[_0x11b859(0x30f)]);return await _0x4b79d0['findOneAndUpdate'](_0x4a7606,{'$set':_0x1c8e93},{'new':!0x0});}catch(_0x47d34f){throw console[_0x11b859(0x456)](_0x47d34f),_0x47d34f;}}async[a0_0x1c66d9(0x84b)](_0x1c6be1,_0xd10a9a){const _0x69df63=a0_0x1c66d9;if(_0x1c6be1[_0x69df63(0x844)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0xd10a9a)[_0x69df63(0x84b)]([..._0x1c6be1]))[_0x69df63(0x844)]};}catch(_0xc4955){return console[_0x69df63(0x19c)](_0x69df63(0x6ac),_0xc4955),_0xc4955;}}async[a0_0x1c66d9(0x81f)](_0x5aef74){const _0x4ae07c=a0_0x1c66d9;try{return await this['getMessageModelForOwner'](_0x5aef74)['collection']['drop'](),{'success':!0x0};}catch(_0x45437b){return console[_0x4ae07c(0x456)](_0x45437b),{'success':!0x1,'error':_0x45437b};}}},Us=I(require('@ffmpeg-installer/ffmpeg')),w=I(require(a0_0x1c66d9(0x896))),Je=require('fs'),j=I(require(a0_0x1c66d9(0x243))),K=I(require(a0_0x1c66d9(0x27a))),Pi=require(a0_0x1c66d9(0x3cd)),Di=I(require(a0_0x1c66d9(0x6da))),ki=I(require(a0_0x1c66d9(0x42e))),Ta=[a0_0x1c66d9(0x2d8),a0_0x1c66d9(0x7d9),'audioMessage',a0_0x1c66d9(0x5be),'stickerMessage'],Ia=['ephemeralMessage','documentWithCaptionMessage',a0_0x1c66d9(0x564),a0_0x1c66d9(0x2bc)],js=require('os'),Jt=I(require(a0_0x1c66d9(0x894))),qe=require(a0_0x1c66d9(0x58a)),Li=require(a0_0x1c66d9(0x7e9)),he=I(require(a0_0x1c66d9(0x6f7))),J=require(a0_0x1c66d9(0x7cb)),le=class{constructor(_0x43c095,_0x48e21b,_0x17887c){const _0xb0c565=a0_0x1c66d9;this['jid']=_0x43c095,this[_0xb0c565(0x2d5)]=_0x48e21b,this[_0xb0c565(0x87f)]=_0x17887c;}},et=class{},tt=class{},xe=class{},st=class{},at=class{},Ee=class{},it=class{},ot=class{},rt=class{},nt=class{},kt=I(require('express')),_a=require('fs'),Oa=require(a0_0x1c66d9(0x243));async function Pe(_0x4fb9ee){const _0x2d605e=a0_0x1c66d9;let _0x1dc617=G[_0x2d605e(0x353)][_0x4fb9ee];if(L[_0x2d605e(0x8d2)]){let _0xc2566a=T[_0x2d605e(0x772)]()['db'](L[_0x2d605e(0x28c)][_0x2d605e(0x857)]+_0x2d605e(0x6ff))[_0x2d605e(0x633)](_0x4fb9ee);return _0x1dc617||(await _0xc2566a[_0x2d605e(0x705)]({})[_0x2d605e(0x700)]())['length']>0x0;}return _0x1dc617||(0x0,_a[_0x2d605e(0x85c)])((0x0,Oa['join'])(Me,_0x4fb9ee));}function a0_0x3b5f(){const _0x421de6=['waitingMenu_text','capitalizedWords','DB_PREFIX_NAME','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','getScheduleMessage','groupGetInviteInfo','):\x20Going\x20to\x20','existsSync','retrySendMessage','restrict','MAX_ATTEMPTS_REACHED','parse','verify','chat','normalizeMessage','msgRetryCounterCache','statusCode','repeat','./license_attempts.json','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','.jpg','Instance\x20Name:','error\x20get\x20vote','data','waUploadToServer','chatHandle','#ffffff','Erro\x20ao\x20buscar\x20conversas','request\x20received\x20in\x20getAutomateSystem','getVariablesChat','Falha\x20ao\x20processar\x20fetchBusinessProfile','setRestartTimeout','Db\x20Connection','The\x20property\x20cannot\x20be\x20empty','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','Atualização:\x20','updateStatusPrivacy','5276ZvBsHO','updateReadReceiptsPrivacy','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','@s.whatsapp.net','CONNECTION_UPDATE','name','fetchLabels','nativeFlowMessage','.\x20Aguardando\x20','/instance/create','reconnectTimestamps','participant','request\x20received\x20in\x20updateAgent','add','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','fromMe','chats','request\x20received\x20in\x20editConversation','AUTHENTICATION','saveVariable','Falha\x20ao\x20criar\x20IPv6.','shareFlow','request\x20received\x20in\x20updateFlowConfig','):Processing\x20audio','STORE_MESSAGE','findAndUpdateCacheContact','pino','delAll','@whiskeysockets/baileys','urlOrBase64','pt-BR','\x20quoted:\x20','delayChatLabel_MAX_RETRIES','sendStatus','revokeInviteCode','presence','#d3a91f','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','author','mediaMessage','#56ccb4','blockId','fetchConversation','status@broadcast','video-cover.png','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','):\x20[messages.update]\x20group\x20ignored','):\x20Limpando\x20AutomateSystem','joinApprovalMode','font','):Hash\x20to\x20image\x20name:\x20','interval\x20não\x20é\x20um\x20número','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','footerText','this.reconnectAttempts:\x20','Servidor\x20de\x20autenticação\x20offline.\x20Tentativa\x20','Erro\x20ao\x20importar\x20chats','instanceKeys','fetchPrivacySettings','editScheduleMessage','webhook','toBrazilianNumberFormat','pre','Erro\x20ao\x20copiar\x20o\x20documento','Message','command','remote\x20\x22origin\x22','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','console','forEach','activatedCount','Erro\x20ao\x20iniciar\x20fluxo:\x20','sendMessageAck','):Error\x20in\x20converting\x20audio','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','findFlow','Total\x20de\x20endereços\x20IPv6\x20após\x20a\x20limpeza:\x20','attempts','https://uazapi.bubbleapps.io/api/1.1/wf/verificar_v1/','\x20(última:\x20','AutomateFunctions','\x20}\x0a','creds','stringify','warn','hex','profilePictureUrl','validate','ENABLED','DOCKER_ENV','unreadcount','Esse\x20fluxo\x20expirou','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','StartID:','throwAndLogError','lastUpdate','updatePrivacySettings','):\x20Rótulo\x20atualizado:\x20','selectedOptions','\x27\x20não\x20encontrado','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','conversationTimestamp','singleSelectReply','https://uazapi-plugin.bubbleapps.io/?url=','true','envYaml','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','uazapiDeleteMessage','Erro\x20ao\x20editar\x20agentes','findGroupInfo','sticker','.xlsx','atendimentoAberto','admin_add','CacheContacts\x20database\x20connection\x20closed.','URL\x20completa:','media','pendingMessages','save','footer','p-queue','organization','whatsappNumber','.type','__esModule','messageType','getMIMEType','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','groups_ignore','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','updateProfileName','connectionState','Selecione\x20uma\x20opção','):\x20Conversa\x20inserida\x20com\x20sucesso.','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','filter','Número\x20não\x20possui\x20WhatsApp.','buffer','isLong','list2','.\x20Tentando\x20novamente\x20em\x20','drop','convertedOptions','\x20segundos\x20antes\x20de\x20reconectar...','detectIPv6PrefixAndInterface','Chat\x20com\x20ID\x20','output','ScheduleMessage','CONTACTS_SET','):\x20debug\x20alterando\x20this.AutomateSystem','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','Limpando\x20logs\x20do\x20PM2...','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','Error\x20removing\x20IPv6\x20address:\x20','Fluxo\x20agendado\x20pelo\x20fluxo\x20','https','CONTACTS_UPDATE','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','connection.update','addBlock','Erro\x20ao\x20deletar\x20mensagens:','locationMessage','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','DD/MM\x20HH:mm:ss','updateChatGroupData','reaction','connectedClient','HistoryProcessed','convertaudioMP3','request\x20received\x20in\x20editFlow','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','message','findGroups','):\x20Grupo\x20','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','\x1b[40m','Error\x20in\x20chatModify\x20for\x20number\x20','):Type\x20defined\x20as\x20audio','END:VCARD','Logger','):\x20\x27Enviando\x20mídia\x20para\x20\x27','DATABASE_CONNECTION_URI',',\x20Resultado:\x20','user','Erro\x20ao\x20executar\x20bulkWrite:','Connection\x20closed\x20for\x20instance:\x20','#00a1f2','log','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│',',\x20Comparador:\x20','apiName','eventEmitter','Rótulo\x20deletado:\x27,\x20','tags','createServer','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','#92ceac','js-yaml','findMany','charAt','STORE_CLEANING_TERMINAL','):\x20Falha\x20ao\x20deletar\x20mensagem.','):\x20Criando\x20fluxo...','updateGroupPicture','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','idSchedule','variablesNotFound','myAppStateKeyId','folder','choices','.ogv','lastAttempt','send','setNewValue','\x20não\x20encontrado\x20para\x20cópia','indexOf','GROUPS_UPDATE','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','statusJidList','defineProperty','BufferJSON','detail','_day','/wa-chats','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','isJWT','):\x20sender\x20=\x20number:\x20','Erro\x20desconhecido\x20ao\x20tentar\x20enviar\x20mensagem\x20para\x20o\x20grupo','assign','\x20tentativas.','CONECTADO\x20À\x20UAZAPI','cachedContact','[all]','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','release','processUazapi','pollUpdateMessage','):\x20updateResult:','flowPrefixCommand','flowStopConversation','allContacts','getSeconds','isArray','cacheInstanceRepository','ObjectId','instances','createClient','updateGroupParticipantsWebhook','):\x20Label\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','Máximo\x20de\x20tentativas\x20(','.X-ABLabel:Celular\x0a','delaySecMin','_year','ip\x20-6\x20addr\x20add\x20','thumbnailUrl','includes','findChats','descOwner','processReadyMessages','startCommandWord','):\x20Conversa\x20está\x20expirada\x20-\x20voto','header','#9ba6ff','editFlowBlock','Error\x20removing\x20unused\x20chat\x20fields:','deleteOne','decryptPollVote','sendAudio','dropIndex','messages','SERVER',',\x20resultado:\x20','Primeiro\x20Valor:\x20','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','groups','announce','Schema','Not\x20allowed\x20by\x20CORS','binary','No\x20excess\x20IPv6\x20addresses\x20to\x20remove.','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','audio/ogg;\x20codecs=opus','loadInstance','removeIPv6','getChatModelForOwner','Mensagens\x20deletadas\x20com\x20sucesso.','sectionsToString','getMessage','toLowerCase','varedit','saveConversationToDatabase','mentioned','reactionMessage','Erro\x20ao\x20editar\x20o\x20bloco:\x20','request\x20received\x20in\x20updateCustomFields','Erro\x20ao\x20atualizar\x20o\x20fluxo:','rows','notas','\x1b[33m%s\x1b[0m','variables','onTime','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','http://checkip.dyndns.org','count','creation','data:\x20','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','listType','updateLastSeenPrivacy','notEmpty','createAndSave','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','Failed\x20to\x20send\x20buttons\x20message','\x1b[37m','\x20minutos...','maxActives','delay','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','STATUS_INSTANCE','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','3JBaePX','findRealGroups','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Removing\x20excess\x20IPv6\x20address:\x20','Filtered\x20network\x20interfaces:\x20','getConversation','lastSendMessage','Variável\x20não\x20encontrada!','groupFetchAllParticipating','\x20segundos...','fetchProfilePicture','AppStateSyncKeyData','):\x20Editando\x20grupo\x20do\x20fluxo...','.ogg','):\x20enviado\x20para\x20[','URL:','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','unavailable','authState','sendContact','loadWebhook','substring','${Message\x20absent\x20from\x20node}','$dbName','getMinutes','remove','color','cachedContacts-whatsapp','integer','website','wuid','path','ScheduleMessageModel','lastRealGroupsFetch','single_select','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','proto','list3','string','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','cachedData-whatsapp','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','connect','findIndex','Instance\x20restarted','Erro\x20ao\x20inserir\x20chats:','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','Erro\x20ao\x20atualizar\x20cacheInstance:','):\x20Buscando\x20flow...','insert','@g.us','convertToWebP','request\x20received\x20in\x20deleteFlow','allflows','\x27...','):\x20ev.flush\x20realizado','):\x20transformedCustomFieldVariables','authModel','858HbuxuT','Not\x20is\x20business\x20profile','desativadoFluxoAte','Last\x20message\x20not\x20found\x20for\x20number:\x20','.mimetype','JWT','messageId','):\x20atualização\x20chat:\x20','leaveGroup','REDIS_ENABLED','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','Falta\x20informação\x20para\x20a\x20chamada\x20API',',\x20received\x20','buttonOrList_id','title','/5\x20de\x20preparar\x20mídia\x20falhou:\x20','request\x20received\x20in\x20getFlow','webp','pairingCode','ip6eui','buttonParamsJson','notContains','137rRMOce','audioMessage','match','webhookModel','):\x20Há\x20mensagens\x20prontas,\x20limpando\x20e\x20adicionando\x20à\x20fila','axios','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','AddChatLabel','getLabelModelForOwner','_lastVote','readdirSync','testIPv6','public','desc','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','protocolMessage','\x1b[33m','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','audio/ogg','redis','verifiedName','All_Instances_Config','createGroup','CONNECTION','trimmed','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','rowId','createButtonSectionsFromValues','replaceVariables','):\x20Entrou\x20na\x20função\x20saveReply','https://api.elevenlabs.io/v1/text-to-speech/','importChats','AUTHENTICATION_JWT_SECRET','uazapiSendLocation','archived','deleteReplyOption','flowStopMinutes','\x1b[30m%s\x1b[0m','Tentativa\x20','3554690rMLlTc','store','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','ERROR','PRIVKEY','prepareMediaMessage','delete','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','copyBlock','_Labels','PLAYED','namespace','flowConfig','\x5c$&','PENDING','.extension','group-participants.update','Type\x20not\x20found','):Sending\x20audio\x20whatsapp','shift','Enter\x20a\x20value\x20in\x20milliseconds','padStart','greater','expiration','\x20-y','flush','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','getConversationModelForOwner','cta_url','viewOnceMessageV2','caption','API_KEY','getflow','quick_reply','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','object','toDataURL','):\x20Enviando\x20contato','DATABASE_CONNECTION_PASSWORD','\x1b[1m','Fluxos\x20não\x20estão\x20ativados','findOneAndUpdate','contact_blacklist','options','varedits','):\x20Enviando\x20mensagem\x20para\x20','updateOne','):Notifying\x20clients\x20for\x20chat:\x20','licenca','deleteFlow','groupBetterSetting','getUniqueFlowName','processPollUpdateMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','exists','/exit','encoding','imageMessage','ff:fe','method','\x20removido\x20do\x20chat\x20','temp-','boolean','update','updateGParticipant','^\x5cd+','awaitingApproval','SINGLE_SELECT','format','2737064WeWaZw','editFlowVaredit','PROXY','exec','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','replaceValue','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','groupParticipantsUpdate','Detalhes\x20do\x20erro:','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','Grupo\x20não\x20encontrado','stopConversation','https://api.openai.com/v1/images/generations','mediatype','now','contacts.update','\x20and\x20data:','globalShow','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','groupJoinApprovalMode','Subdomínio\x20não\x20encontrado','long','scheduled','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','deleteChat','Configuração\x20SSL\x20recuperada:','deleted','mongodb://','processvaredits','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','dbSettings','ephemeralDuration','CORS','):Fetching\x20business\x20profile','}}\x20->\x20valor\x20não\x20encontrado','fileUrl','Conversa\x20deletada\x20com\x20sucesso.','FlowController','saveMediaToFile','Authentication\x20error','https://','equal','Erro\x20ao\x20atualizar\x20o\x20flow.','where','writeFileSync','logger','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','lastBlockId','list','request\x20body:\x20','updateParticipant','STORE_CONTACTS','flows','Not\x20Found','closed','qrcode.updated','updateConversation','\x20-i\x20','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','Error\x20in\x20prepareMediaMessage:','):\x20alterando\x20this.AutomateSystem','delayMessage','call','lastCondition','REDIS_PREFIX_KEY','flowName','Missing\x20global\x20api\x20key','/wa-presence','remoteJid','no.connection','document','paused','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','sign','editFlow','open','/wa-groups','Error\x20testing\x20IP\x20with\x20','[AUTH]\x20Database\x20is\x20not\x20enabled','authorization','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','ignoreGroups','sem\x20texto\x20na\x20mensagem','load','pollOnReplyDelete','):\x20Chat\x20','fetchContacts','INFO','toggleEphemeral','buttonMessage','stateConnection','RemoveChatLabel','deletedCount','memberAddMode','picture','whatsappNumbers','createButtonsFromValues','interactiveResponseMessage','getUpdate','getReadyToSendMessages','profileName','):\x20whoCanEdit\x20after\x20validation:\x20','Instâncias\x20removidas:\x20','Instance\x20deleted','stopped','getDelay','sendPresenceUpdate','createInstance','\x20inseridas\x20no\x20banco\x20de\x20dados...','cache','waInstances','Removidas\x20as\x20variáveis:\x20','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','group','REDIS','request\x20received\x20in\x20allFlows','splice','model','):\x20tem\x20blocks','ephemeralExpiration','global','DATABASE_CONNECTION_HOST','Removed\x20','InstancesAlterarTodas','SSL_CONF','chats.delete','selectedDisplayText','):\x20Mensagem\x20já\x20enviada\x20para\x20','badSession','response','\x20mensagens\x20de\x20','ListMessage','endsWith','updateMissingEtiquetas','VERBOSE','setWebhook','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','content','formatBRNumber','getValidWhatsAppNumbers','Instância\x20não\x20encontrada.','Retornando\x20grupos\x20COM\x20cache','\x1b[36m','GROUPS_UPSERT','apikey','):\x20[messages.upsert]\x20mensagem\x20duplicada\x20ignorada','\x1b[43m','Deleted\x20','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','editFlowGroup','delayChatLabel','):\x20Error\x20processing\x20conditions:\x20','everyOne','buttonsResponseMessage','toString','insertCount','\x1b[41m','Flow\x20iniciado','XX:XX:XX:XX:XX:XX','https://v6.ident.me','updateMissingCustomFields','scheduleNextCheck','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','reviver','CHATS_SET','sending','creds.json','updateOneById','https://github.com/uazapi/uazapi.git','FlowRouter','.png','listResponseMessage',',\x20saindo.','request\x20received\x20in\x20createFlow','optionName','Falha\x20ao\x20processar\x20a\x20solicitação','IPv6\x20Prefix\x20detected:\x20','createConnection','Botão\x202','dark','stopMinutesMaxActives','Erro\x20ao\x20iniciar\x20o\x20fluxo.','Timeout\x20exceeded','editedMessage','updateGroupsAddPrivacy','StatusJidList\x20is\x20required','pollCreationMessage','getBusinessProfile','SEND_MESSAGE','pollCreationMessageV2','when','replyOptions','editflowcondition','_second','fakeReceived','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','_p_','chatId','):Archiving\x20chat','SUCCESS','verbose','[service]\x20request\x20received\x20in\x20sendButtons','debug','findOrCreate','AUTHENTICATION_TYPE','privacySettings','\x22\x20-\x20REMOVED','ConversationModel','utf-8','inet6','getBase64FromMediaMessage','off','newStoppedUntil','poll','):\x20whoCanUse\x20after\x20validation:\x20','vir','Novo\x20IP\x20criado:\x20','groupDesc','updateGroupWebhook','findAndReplace','quotedMessage','chats.upsert','archive','/media','readFileSync','Error\x20finding\x20many\x20contacts:','-whatsapp-api','auth','flattenObject','inviteCode','onWhatsApp','isConnected','uuid','Generated\x20IPv6:\x20','Deletion\x20failed','Erro\x20ao\x20adicionar\x20label\x20','node-cache','nativeFlowResponseMessage','\x20não\x20encontrado','):\x20Erro\x20durante\x20a\x20atualização:\x20','pow','Bad\x20Request','view\x20engine','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','senderKeyDistributionMessage','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','sort','toLocaleString','Erro\x20ao\x20carregar\x20tentativas:','from','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','transformScheduledMessagesByType','createWebhook','changeVariables','SERVER_PORT','longitude','editChat','AUTHENTICATION_JWT_EXPIRIN_IN','.docx','replacer','GROUP_PARTICIPANTS_UPDATE','\x0aFN:','promisify','):\x20Aguardando\x205\x20segundos\x20antes\x20de\x20reconectar...','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','\x1b[1m\x1b[37m','Erro\x20ao\x20deletar\x20chat:','Mac\x20OS','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','relayMessage','Font\x20is\x20required','https://chat.whatsapp.com/','owner','\x1b[44m','selectedRowId','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','then','IPv6\x20address\x20removed:\x20','presenceSubscribe','stanzaId','editFlowReply','MESSAGES_SET','groupUpdateDescription','394534apGXao','instance','has','toNumber','function','.jwt','toUpperCase','3EB0','MESSAGES_UPDATE','groupdata','Types','\x20excess\x20IPv6\x20addresses.','statSync','removeData','joinGroupValidate','stopMinutes','pollErrorMessage','DisconnectReason','findByIdAndUpdate','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','eventHandler','Subdomínio\x20extraído\x20da\x20URL:','PRESENCE_UPDATE','reconnectAttempts','_FlowHistorico','countIPv6Addresses','allFlows','importChatsBatch','STORE_CHATS','fromObject','\x1b[37m%s\x1b[0m','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','reorderReplyOptions','addToProcessedMessages','.doc','leadInfo.customFields','imagechat','views','LEVEL','/instance','profilePicture','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','waitingMenu_ExpiredMessage','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','expression','messageLogs','qrcode-terminal','none','request\x20received\x20in\x20starFlow','/wa-message-update','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','creds.update','getContactModelForOwner','Safari','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','The\x20','/config','application/octet-stream','API\x20Key\x20inválida.','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','\x20contacts','\x20tentativas.\x20Aplicação\x20permanecerá\x20parada\x20para\x20evitar\x20spam.','info','enumerable','option','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','buttons','split','modifiedCount','json','mentions','\x20segundos','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','findOne','SendScheduleMessage','findGroupsEspecial','available','express-async-errors','Nenhum\x20fluxo\x20correspondente\x20encontrado.','_Contacts','bodyString','body','uazapi','Reiniciando\x20a\x20aplicação...','static','error','sendMessage',']\x20(','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','EXPIRIN_IN','randomMac','MAX_SAFE_INTEGER','):Business\x20profile\x20fetched','value','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','text','Connection\x20Closed','groupSetting','push','isInteger','moreLogs','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','subjectTime','request_method','findById','errorLog','scheduleSendAudio','contactHandle','getDevice','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','start','findByIdAndDelete','base64','chats.update','writeData','responsavelid','restartInstance','menuIgnoreNonVotes','importChatsAntigo','sharp','sha256','pollCreationMessageV3','):\x20Removendo\x20\x27','reference','dropCollection','processScheduleFlow','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','groupMemberAddMode','Data\x20inválida\x20fornecida','errors',',\x20pairCode:\x20','):\x20Mensagens\x20PRONTAS\x20para\x20envio\x20encontradas:\x20','Falhou\x20ao\x20encontrar\x20chat\x20','timeoutPromise','emit','exit','originalUrl','vcard','use','autoCompleteMessages.command_1','contactMessage','chat\x20não\x20encontrado','imported','.\x20Nova\x20tentativa\x20em\x20','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','connectionStatus','groupadd','updateChatWithMessage','IP\x20confirmed:\x20','editflowvaredit','less','Para\x20reiniciar\x20as\x20tentativas,\x20delete\x20o\x20arquivo\x20license_attempts.json','updateStopChat','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','lastSend','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','floor','\x22\x20-\x20NOT\x20CONNECTION','groupName','createHash','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','pop','menu_options','apirequest','contact','PREFIX_KEY','editflowblock','latitude','put','^\x5cd+([-]\x5cd+)*@g.us$','limit','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','updateReplyOption','processclearVariables','extractPhoneNumber','docker','ReplyOption\x20com\x20ID\x20','toFile','ContactsAndGroups','networkInterface','normalizeMessageContent','Error\x20fetching\x20IPv6\x20count:\x20','\x0a*Você\x20respondeu*:\x0a','image','stickerMessage','superadmin','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','):\x20Enviando\x20mídia','Pausado\x20por\x20','AutomateSystem','$set','pollCreationMessageKey','Adicionando\x20novo\x20participante:\x20','editFlowCondition','utf8','initAuthCreds','Erro\x20ao\x20tentar\x20autoCompleteMessages','groupRequestParticipantsUpdate','keyPattern','keys','params','newValue','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','):Image\x20created','\x27\x20não\x20encontrado\x20na\x20memória','\x20não\x20encontrado\x20para\x20atualização.','messageHandle','messageLogsModel','Erro\x20ao\x20buscar\x20fluxos:','phoneNumber','Sistema\x20atualizado\x20com\x20sucesso!','oldToken','230445VzBBBW','readreceipts','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','Instance\x20ID:','editflowvariable','collections','):\x20Procurando\x20conversa','/instance/fetchInstances','):\x20conversation.status:\x20','ip\x20-6\x20addr\x20del\x20','deleteAllMessages','):\x20Editando\x20mensagens\x20no\x20grupo...','):\x20Enviando\x20enquete','goNextblock','lastReceivedMessage','messages.update','number','Falha\x20após\x205\x20tentativas:\x20','mongodb','archiveChat','groupCreate','Contacts\x20not\x20found','findConversation','markMessageAsRead','RECONNECT_TIME_FRAME','exports','StartBot','HH:mm:ss','):Converted\x20image\x20deleted','Background\x20color\x20is\x20required','startID','optionDescription','cleanDisconnectedInstances','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','\x20do\x20chat\x20','redisEnv','Erro\x20ao\x20alterar\x20privacidade','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','removeChatLabel','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','sendMenu','waMonitor','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','instanceInfo','leadInfo.atendimentoAberto','audioWhatsapp','editflowgroup','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','canSendMessage','/wa-qrcode','findContacts','processingGroup','Error\x20updating\x20message\x20status:','hbs','connecting','Instance\x20logged\x20out','truncatedto','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','deleteInstance','updateOnlinePrivacy','reorderBlocks','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','block','Erro\x20ao\x20salvar\x20tentativas:','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','authentication','Erro\x20ao\x20atualizar\x20conversa:\x20','#b4ebff','cleanupExcessiveIPs','presence.update','url','saveChatVariables','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','map','Close\x20connection','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','participants','Configured\x20new\x20IPv6:\x20','CONTACTS_UPSERT','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','):\x20Flow\x20\x27','g.us','agents','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','label','Erro\x20ao\x20buscar\x20o\x20fluxo','description','readMessage','content-type','enviado\x20para','src','#ffae04','):\x20Buscando\x20conversa...','statusMessage','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','beautifyWithPlaceholders','Servidor\x20de\x20autenticação\x20offline\x20(Docker).\x20Nova\x20tentativa\x20em\x20','SERVER_OFFLINE','):\x20Deletando\x20mensagem','shareOwners','getTime','unreadCount','SERVER_ACK','firstValue','#dfaef0','Número:\x20','makeCacheableSignalKeyStore','*Pergunta*:\x20\x0a','buttonText','lowerCase','create','chatModify','selectableCount','updateProfilePicture','Error\x20adding\x20IPv6\x20address:\x20','http','_error','Erro\x20ao\x20atualizar\x20agendamento\x20','The\x20\x22','fetchInstances','join','realVariables','50mb','getAutomateSystem','SECRET','delaySecMax','Usando\x20IP\x20existente:\x20','request\x20received\x20in\x20editFlowvariable','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','headerString','useMultiFileAuthState','upsertChats','chats.set','/events/:instance','startsWith',',\x20fará\x20nova\x20verificação\x20em\x20','write','\x1b[42m','viewOnceMessage','contacts','saveCreds','.error','scheduleSendMedia','g-t','status.instance','request\x20received\x20in\x20editFlowcondition','):\x20Query\x20params:\x20','unhandledRejection','messageTimestamp','_hour','blockLogs','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','):\x20Comando\x20desconhecido:\x20','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','not\x20loaded','uazapiSendAudio','The\x20global\x20api\x20key\x20must\x20be\x20set','editflow','dbConnection','\x20foi\x20interrompido\x20pelo\x20usuário.','fileLength','close','updateGParticipate','Bloco\x20com\x20ID\x20','CLEANING_INTERVAL','etiquetas','):\x20Conversa\x20está\x20expirada','events','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','apiResponse','):\x20conversation.lastInteraction:\x20','getProfileName','Nenhum\x20chat\x20encontrado\x20para\x20editar.','):\x20Buscando\x20todos\x20os\x20fluxos...','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','.pptx','child_process','contextInfo','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','lean','):\x20error:\x20','ip\x20-6\x20addr\x20show\x20dev\x20','Internal\x20Server\x20Error','loadEnv','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','findAndReplaceRegex','subject','redirect','remove.instance','Valor\x20inicial:\x20\x22','):\x20Adicionando\x20\x27','):Trying\x20to\x20get\x20business\x20profile','/chat','\x20Tentativa\x20de\x20reconexão\x20','.fileUrl','/wa-all-message','LabelModel','oldValue','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','):\x20Criando\x20nova\x20conversa[createNewConversation]','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','$pull','../env.yml','Resultado\x20da\x20correspondência\x20de\x20URL:','fileName','result','#fe9dfe','setHeader','CORS_METHODS','URI',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','sections','cleanStore','54SpgslS','stderr','pollMessage','Database\x20connection\x20closed.','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','compression','condition','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','checkAndRestartProcess','saveTextReply','numbers','dayjs','post','sendList','videoMessage','Erro\x20de\x20atualização:\x20','\x20is\x20already\x20in\x20use.','testingWith','isMessageProcessed','variable','test','conditions','localWebhook','#01d0e2','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','updateCustomFields','inner','joinGroup','matchRegex','paramsJson','DATABASE_CONNECTION_USER','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','Erro\x20ao\x20arquivar\x20chat','app','CHATS_UPSERT','userDevicesCache','size','updateAgent','isBusinessInstance','request\x20received\x20in\x20deleteDoneMessages','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','isBusiness','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','isURL','processConditionsTest','/64\x20dev\x20','STORE','getFlow','trim','generateWAMessageFromContent','):\x20Editando\x20edição\x20do\x20fluxo...','Error\x20while\x20deleting\x20message\x20for\x20everyone','):\x20delete\x20=\x20true','dataValidate','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','messageSecret','getPrototypeOf','spawn','router','FULLCHAIN','MESSAGES_UPSERT','copy','startFlowWebhook','DATABASE','code','logout','routerPath','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','):\x20leadInfoVariables','createflow','email','findManyByIds','Rodapé\x20de\x20Teste','instance.','):Audio\x20converted\x20and\x20stored\x20in\x20cache','qrCode','util','CHATS_UPDATE','abs','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','#000000','NextBlock','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','deleteDoneMessages','updateProfileStatus','addMessagesToGroup','bulkWrite','sendMessageWithTyping','findLabels','authService','Content\x20is\x20required','editConversation','announcement','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','AutomateSystem\x20não\x20foi\x20inicializado','requestFile','LOG','cacheContact','\x0a{\x20instance:\x20','Instância:\x20','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','updateFlowConfig','CORS_ORIGIN','sendMessageWithRetry','@broadcast','secondValue','createOrUpdate','Erro\x20ao\x20atualizar\x20AutomateSystem:','listIPv6Addresses','done','createIPv6','width','replaceVariablesInReplyOptions','stdout','messaging-history.set','_remoteJid','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','envProcess','nome','.mp3','state','Error\x20updating\x20cache\x20contact:','):\x20[messages.upsert]\x20group\x20ignored','configService','updateMany','Opção\x20Falsa\x20','upsertedCount','displayName','Connection','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','notify','collection','getStatus','Erro\x20ao\x20buscar\x20a\x20conversa','jid','@redis/client','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','cleaningUp','Valor\x20da\x20URL\x20recuperada:','editOperator','toBRL','):\x20Iniciando\x20processo\x20de\x20deleção...','createJid','findGroupInfos','type','audio','editMessagesInGroup','verifyWhatsAppNumber','telefone','DEBUG','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','arraybuffer','findGroup','context','ORG:','scheduleMessage','autoCompleteMessages','enabled','Erro\x20ao\x20alterar\x20fluxo','):\x20Fluxo\x20\x27','Erro\x20na\x20função\x20updateChatWithMessage:\x20','groupValidate','getContentType','):\x20Iniciando\x20bot...','USER','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','):Image\x20is\x20url','cacheInstanceModel','processApiRequest','KEY','findAll','#6f7bcf','ipv6Prefix','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','9plEadI','E-mail:\x20','mediaSticker','fetchMessages','isRunning','Erro\x20ao\x20editar\x20a\x20conversa','fetchBusinessProfile','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','noConnection','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','groups.update','error_log','convertaudio','composing','deleteBlock','online','cwd','/wa-contacts','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','mimetype','min','replaceOne','instanceName','api','upperCase','ChatRouter','lastFetchAwaitingApproval','nomecompleto','getFullYear','next_groupId','):\x20\x27Deletando\x20fluxo,\x20id:\x20',')\x20já\x20foi\x20atingido.\x20Aplicação\x20permanecerá\x20parada\x20para\x20evitar\x20spam.','finish','variablesToObject','linkPreview','array','interactiveMessage','Message\x20absent\x20from\x20node','approve',',\x20Expiration\x20Time:\x20','webhookService','deleteMessage','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','endSession','\x20-\x20ON:\x20','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','Início','fetchChats','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','\x0aitem','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','labels.association','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','Invalid\x20format','Database\x20is\x20not\x20enabled','groupJid','closeExistingConversations','vote','Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','):\x20Criou\x20conversa\x20no\x20startFlow','):\x20newFirstValue\x20após\x20replaceVariables:','uncaughtException','request\x20received\x20in\x20scheduleMessage','jsonschema','sendSticker','labels.edit','WA\x20MODULE','waitingMenu_id','connectToWhatsapp','_month','reject','not_announcement','DARK','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','removed','ERROR:\x20','applyvaredit','connectToWhatsappController','iniciando\x20fluxo\x20router','downloadMediaMessage','):\x20Todos\x20os\x20grupos\x20de\x20mensagens\x20foram\x20deletados\x20com\x20sucesso.','query','):\x20newSecondValue\x20após\x20replaceVariables:','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','process','keep-alive','uazapiSendMenu','request\x20received\x20in\x20deleteAllMessages','startFlow','replyOption','):\x20Entrou\x20na\x20função\x20goToFlow','whoCanUse','addReplyOption','readData','configureIPv6','_fromMe','getMonth','bodyStringErrorParse','textMessage','):\x20Procurando\x20PRONTAS\x20mensagens\x20para\x20envio','):\x20Buscando\x20flow,\x20id:\x20','getScheduleMessageModelForOwner','env','Error\x20parsing\x20JSON:','set','Fluxo\x20não\x20encontrado\x20na\x20memória.','$addToSet','groupToggleEphemeral','max','minutesToClose','\x1b[0m','DATABASE_ENABLED','role','action','\x20minutos\x20verificará\x20novas\x20mensagens','leadInfo.desativadoFluxoAte','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','button','menuMessage','gifPlayback','):\x20nextBlock.uazapi.name','qrcode','repository','restart','removeInstance','processawaitSeconds','cpf','CHATS_DELETE','recebido\x20de','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','imgUrl','Tentativas\x20carregadas\x20do\x20arquivo:\x20','\x22\x20not\x20found','created','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','sendMessageWithTypingButtons','triedToSend','digest','CORS_CREDENTIALS','isJidUser','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','promote','PASSWORD','demote','.ppt','GUARD','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','No\x20suitable\x20network\x20interface\x20found','):\x20conversation.waitingMenu_name','):\x20lastBlockId:\x20','mongoose','174492OpDyMy','isJidBroadcast','parseInt','groupUpdateSubject','processConditions','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','Selecione','-instances','toArray','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','Imagem\x20não\x20encontrada','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','find','stopWhenYouSendMsg','execSync','File\x20written\x20to\x20path:\x20','messagesLogs','):\x20Deletando\x20conversa...','_id','_ScheduleMessages','):\x20Enviando\x20áudio','Error\x20fetching\x20group','Retornando\x20grupos\x20SEM\x20cache','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens','Comando\x20desconhecido','valid','\x1b[31m%s\x1b[0m','TYPE','fullName','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','getHours','synchronizeAndMapFlows','flow','ini','):\x20não\x20encontrou','MessageModel','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','evaluateConditionTest','):\x20Bloco\x20com\x20ID\x20','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','isListOfNumbers','--------------------------------------','dbInstance','Erro\x20ao\x20buscar\x20Schedule\x20Messages','randomBytes','IPv6\x20addresses\x20detected:\x20','padEnd','video','getOwnPropertyDescriptor','/instance/connect','leadInfo','ip\x20-br\x20link\x20show','generateRandomIPv6','fone','connectionUpdate','status','Mensagem\x20não\x20suportada','AUTHENTICATION_API_KEY','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','):\x20Atualizando\x20status\x20da\x20mensagem\x20','?timestamp=','blocks','replace','PRODUCT_LIST','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','hasOwnProperty','/events','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','menuExpiredMessage','locked','fetchProfile','reorderMessages','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','generateHash','conversation','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','https://jsonip.com','\x20minutos','out','updateMissingTags','READ','sleep','uazapiSendContact','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','order','waitingMenu_replyOptions','readMessages','apply','downloads','jwt','COLOR','groupHandler','_pushName','.mp4','key','replaceVariablesChat','HOST','birthtime','setting','scheduleSendText','sendPoll','some','\x20\x1b[0m','getMessageModelForOwner','):\x20','readMessageBot','LOG_LEVEL','labelId','chatLog',',\x20global:\x20','formatStatusMessage','/message','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','yes','round','):\x20Fluxos\x20não\x20estão\x20ativados','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','stack','isValidIPv6Config','muteEndTime','quoted','getClient','ListType','notMatchRegex','Rótulo\x20inválido\x20ou\x20sem\x20ID.','automateSystem','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','headers','updateMessage','Erro\x20ao\x20encerrar\x20a\x20API','contains','default','isCommunityAnnounce','dbClient','setUpdate','Request\x20Body:','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','last','request\x20received\x20in\x20editFlowgroup','whoCanEdit','pushName','.webm','.svg','groupAcceptInvite','fora\x20do\x20git','storePath','removeProfilePicture','sendLocation','\x20horas\x20e\x20','IPv6\x20address\x20configured:\x20','createConversationforStartFlow','AddUserFlow','[TESTE\x20RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','Network\x20interfaces\x20detected:\x20','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','connectedName','hDel','all','recording','groups.upsert','sendReaction','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','formatVCard','processgoToFlow','deleteMany','QRCODE_UPDATED','segundos','\x5cd+','):Output\x20path:\x20','):\x20Conversa\x20atualizada\x20em\x20memória','notEqual','app-state-sync-key','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','deleteMessageForEveryone','item','Aplicação\x20permanecerá\x20em\x20estado\x20de\x20espera...','\x20inseridos\x20no\x20banco\x20de\x20dados...','profile','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','flowConversation','scheduleFlow','slice','):Image\x20is\x20base64','replaceVariablesLogs','findWebhook','request\x20received\x20in\x20getConversation','get','Parando\x20aplicação...','crypto','delayChatLabel_RETRY_DELAY_MS','deleteConversation','replaceVariablesInObject','\x1b[34m','updateAutoCompleteMessages','clear','/wa-message','updateProfilePicturePrivacy','local_map',',\x20canSendMessage:\x20','findMessages','createFlow','backgroundColor','Content-Type','_activedCount','Flow\x20\x27','Erro\x20ao\x20aplicar\x20varedit:\x20','Variáveis\x20não\x20encontradas:','GET','cacheContactModel','class-validator','all_member_add','Instance\x20\x22','sendText','getLastMessage','#d8e651','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','pm2\x20flush','groupSettingUpdate','):\x20Ignoring\x20group\x20messages.','admin','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','sendMedia','createNewConversation','documentMessage','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','Erro\x20ao\x20deletar\x20a\x20conversa','.webp','@newsletter','\x1b[47m','#ff9484','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','initializeQueue','):\x20Editando\x20bloco...','_sender','queue','Router','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','webhookMap','success','node-mime-types','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','entries','ContactModel','contacts.upsert','PORT','refused','customFields','DELIVERY_ACK','updatePresence','URL\x20não\x20disponível','evaluateCondition','ChatModel','):\x20Bloco\x20copiado:\x20','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','sendWhatsAppAudio','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','Erro\x20ao\x20tentar\x20updateCustomFields','Contador\x20de\x20tentativas\x20resetado.','beforeExit','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','Unauthorized','prototype','Parando\x20aplicação,\x20atualização\x20recebida','isBase64','instancias:\x20','request\x20received\x20in\x20fetchConversation','no-cache','sendButtons','random','empty','unlocked','writeFile','startCommand','\x20com\x20sucesso.','SSL_CONF_FULLCHAIN','OrAnd','mediaKey','isCommunity','Telefone:\x20','Forbidden','dbServer','processblock','lastMessage','/:instanceName','messageStubParameters','):\x20Procurando\x20mensagens\x20para\x20envio','WARN','resetReconnectionVariables','undefined','Error\x20in\x20buttonsMessage\x20function:','):\x20Enviando\x20localização','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','501148ZvGFnJ','deleteAll','processedMessagesCache','\x1b[32m','removeUnusedChatFields','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','unlinkSync','/media/','findParticipants','jsonwebtoken','messages.upsert','Tentando\x20reconectar...','deviceSentMessage','address','isJidGroup','pictureUrl','getOwnPropertyNames','https://ifconfig.me/ip','message_normalized','leadInfo.etiquetas','extractRegex','/wa-connection-update','express','waitingForReplyMenu','Fluxo\x20id\x20\x27','groupMetadata','):\x20Limpando\x20delayMessage','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','client','editFlowVariable','reduce','_minute','https://api64.ipify.org?format=json','readFile','listMessage','):\x20Entrou\x20na\x20função\x20processawaitSeconds','instanceName\x20not\x20provided.','jpegThumbnail','length','sendCommand','URL','values','contactsArrayMessage','groupId','clearVariables','insertMany','\x20:\x20','lastInteraction','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','sendDataWebhook','):Getting\x20image\x20from\x20url','menuType','DATABASE_CONNECTION_DB_PREFIX_NAME','https://api.ipify.org?format=json','Error\x20fetching\x20and\x20updating\x20profile:\x20'];a0_0x3b5f=function(){return _0x421de6;};return a0_0x3b5f();}async function xa(_0x190271,_0x54bd03,_0xfcdf2d){const _0x1d3f78=a0_0x1c66d9;if(_0x190271[_0x1d3f78(0x48b)][_0x1d3f78(0x1e1)]('/instance/create')||_0x190271[_0x1d3f78(0x48b)][_0x1d3f78(0x1e1)](_0x1d3f78(0x4df))||_0x190271['originalUrl'][_0x1d3f78(0x1e1)](_0x1d3f78(0x2d6))||_0x190271[_0x1d3f78(0x48b)]['includes']('/config')||_0x190271[_0x1d3f78(0x48b)][_0x1d3f78(0x1e1)](_0x1d3f78(0x72a))||_0x190271[_0x1d3f78(0x48b)][_0x1d3f78(0x1e1)]('/instance/connectionState')||_0x190271['originalUrl'][_0x1d3f78(0x1e1)]('/instance/delete'))return _0xfcdf2d();let _0x2d1591=_0x190271[_0x1d3f78(0x4cc)];if(!_0x2d1591?.[_0x1d3f78(0x676)])throw new m(_0x1d3f78(0x842));if(!await Pe(_0x2d1591[_0x1d3f78(0x676)]))throw new U(_0x1d3f78(0x437)+_0x2d1591[_0x1d3f78(0x676)]+'\x20instance\x20does\x20not\x20exist');_0xfcdf2d();}async function Pa(_0x8dae47,_0x5d38f7,_0xee95da){const _0x406558=a0_0x1c66d9;if(_0x8dae47[_0x406558(0x48b)][_0x406558(0x1e1)](_0x406558(0x883))){let _0x43ff1f=_0x8dae47[_0x406558(0x452)];if(await Pe(_0x43ff1f['instanceName']))throw new X('This\x20name\x20'+_0x43ff1f[_0x406558(0x676)]+_0x406558(0x5c0));G[_0x406558(0x353)][_0x43ff1f[_0x406558(0x676)]]&&delete G[_0x406558(0x353)][_0x43ff1f[_0x406558(0x676)]];}_0xee95da();}var Da=require('class-validator'),ka=I(require(a0_0x1c66d9(0x827))),ct=a0_0x1c66d9(0x453),To=new $(a0_0x1c66d9(0x6f2));async function Io(_0x3bea96,_0x3adf05,_0xce0ab0){const _0x224dfe=a0_0x1c66d9;let _0x49892f=_0x3bea96[_0x224dfe(0x7b4)](_0x224dfe(0x375));if(_0x49892f&&S[_0x224dfe(0x7b4)](_0x224dfe(0x88c))[_0x224dfe(0x2be)][_0x224dfe(0x65a)]!==_0x49892f)throw new ae();if(S[_0x224dfe(0x7b4)]('AUTHENTICATION')[_0x224dfe(0x2be)]['KEY']===_0x49892f)return _0xce0ab0();if((_0x3bea96[_0x224dfe(0x48b)][_0x224dfe(0x1e1)](_0x224dfe(0x883))||_0x3bea96[_0x224dfe(0x48b)]['includes'](_0x224dfe(0x4df)))&&!_0x49892f)throw new X(_0x224dfe(0x326),_0x224dfe(0x576));let _0x45c797=S[_0x224dfe(0x7b4)](_0x224dfe(0x88c))[_0x224dfe(0x264)];try{let [_0x5c4b83,_0x3b21b5]=_0x3bea96[_0x224dfe(0x7b4)](_0x224dfe(0x333))[_0x224dfe(0x444)]('\x20');if(_0x5c4b83[_0x224dfe(0x202)]()!=='bearer')throw new ae();if(!(0x0,Da[_0x224dfe(0x1c2)])(_0x3b21b5))throw new ae();let _0x46059e=_0x3bea96[_0x224dfe(0x4cc)],_0x3e940f=ka[_0x224dfe(0x77c)][_0x224dfe(0x861)](_0x3b21b5,_0x45c797['SECRET'],{'ignoreExpiration':_0x45c797[_0x224dfe(0x45a)]===0x0});if(_0x46059e[_0x224dfe(0x676)]!==_0x3e940f[_0x224dfe(0x676)]||ct!==_0x3e940f[_0x224dfe(0x19f)])throw new ae();return _0xce0ab0();}catch(_0x467684){throw To['error'](_0x467684),new ae();}}async function _o(_0x13ad30,_0x1ece9,_0x54e972){const _0x221539=a0_0x1c66d9;let _0x646060=S['get'](_0x221539(0x88c))[_0x221539(0x2be)],_0x86e5d1=_0x13ad30[_0x221539(0x7b4)](_0x221539(0x375));if(_0x646060['KEY']===_0x86e5d1)return _0x54e972();if(_0x13ad30[_0x221539(0x48b)][_0x221539(0x1e1)](_0x221539(0x883))){let _0x55cfca=Fa,_0x5beacc=_0x13ad30[_0x221539(0x452)][_0x221539(0x676)];if(_0x55cfca&&_0x5beacc[_0x221539(0x202)]()[_0x221539(0x560)](_0x55cfca[_0x221539(0x202)]()))return _0x54e972();if(!_0x86e5d1)throw new X(_0x221539(0x326),_0x221539(0x576));}if(_0x13ad30[_0x221539(0x48b)][_0x221539(0x1e1)](_0x221539(0x4df))&&!_0x86e5d1)throw new X(_0x221539(0x326),_0x221539(0x576));if(_0x13ad30[_0x221539(0x48b)][_0x221539(0x1e1)]('/exit')&&!_0x86e5d1)throw new X(_0x221539(0x326),_0x221539(0x576));if(_0x13ad30[_0x221539(0x48b)]['includes']('/config')&&!_0x86e5d1)throw new X(_0x221539(0x326),'The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x405c3d=_0x13ad30[_0x221539(0x4cc)],_0x470d9c=await we[_0x221539(0x3c8)][_0x221539(0x705)](_0x405c3d[_0x221539(0x676)]);if(_0x470d9c&&_0x470d9c[_0x221539(0x375)]===_0x86e5d1)return _0x54e972();}catch{}throw new ae();}var La={'jwt':Io,'apikey':_o},wi=require(a0_0x1c66d9(0x834)),C=require(a0_0x1c66d9(0x3cd)),v=(..._0x3d1946)=>{const _0x58cda1=a0_0x1c66d9;let _0xfc3e96={};return _0x3d1946['forEach'](_0x561e0d=>_0xfc3e96[_0x561e0d]={'minLength':0x1,'description':_0x58cda1(0x550)+_0x561e0d+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x3d1946]}},'then':{'properties':_0xfc3e96}};},E={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'instanceName':{'type':a0_0x1c66d9(0x24a)}},...v(a0_0x1c66d9(0x676))},Pc={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'oldToken':{'type':a0_0x1c66d9(0x24a)}},'required':[a0_0x1c66d9(0x4d7)],...v(a0_0x1c66d9(0x4d7))},Dc={'properties':{'key':{'type':a0_0x1c66d9(0x2c2),'properties':{'id':{'type':a0_0x1c66d9(0x24a)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x1c66d9(0x2dd),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x1c66d9(0x889)],...v('id',a0_0x1c66d9(0x328))},'message':{'type':a0_0x1c66d9(0x2c2)}}},ie={'properties':{'delay':{'type':a0_0x1c66d9(0x240),'description':a0_0x1c66d9(0x2b1)},'presence':{'type':a0_0x1c66d9(0x24a),'enum':['unavailable','available',a0_0x1c66d9(0x66c),a0_0x1c66d9(0x798),a0_0x1c66d9(0x32b)]}}},Z={'type':a0_0x1c66d9(0x24a),'description':a0_0x1c66d9(0x695)},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'number':{...Z},'options':{...ie},'textMessage':{'type':a0_0x1c66d9(0x2c2),'properties':{'text':{'type':'string'}},'required':['text'],...v(a0_0x1c66d9(0x460))}},'required':[a0_0x1c66d9(0x6c3),'number']},ja={'type':a0_0x1c66d9(0x24a),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x1c66d9(0x695)},kc={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...ja},'options':{...ie},'textMessage':{'type':a0_0x1c66d9(0x2c2),'properties':{'text':{'type':'string'}},'required':[a0_0x1c66d9(0x460)],...v(a0_0x1c66d9(0x460))}},'required':[a0_0x1c66d9(0x6c3),'number']},Lc={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'number':{...ja},'options':{...ie},'mediaMessage':{'type':a0_0x1c66d9(0x2c2),'properties':{'mediatype':{'type':'string','enum':[a0_0x1c66d9(0x4bb),'document',a0_0x1c66d9(0x728),a0_0x1c66d9(0x641)]},'media':{'type':a0_0x1c66d9(0x24a)},'fileName':{'type':a0_0x1c66d9(0x24a)},'caption':{'type':a0_0x1c66d9(0x24a)}},'required':[a0_0x1c66d9(0x2f1),a0_0x1c66d9(0x8ee)],...v('fileName','caption',a0_0x1c66d9(0x8ee))}},'required':[a0_0x1c66d9(0x8a1),a0_0x1c66d9(0x4e8)]},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'number':{...Z},'options':{...ie},'stickerMessage':{'type':a0_0x1c66d9(0x2c2),'properties':{'image':{'type':a0_0x1c66d9(0x24a)}},'required':[a0_0x1c66d9(0x4bb)],...v('image')}},'required':[a0_0x1c66d9(0x4bc),a0_0x1c66d9(0x4e8)]},qa={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'statusMessage':{'type':a0_0x1c66d9(0x2c2),'properties':{'type':{'type':a0_0x1c66d9(0x24a),'enum':['text',a0_0x1c66d9(0x4bb),a0_0x1c66d9(0x641),a0_0x1c66d9(0x728)]},'content':{'type':'string'},'caption':{'type':a0_0x1c66d9(0x24a)},'backgroundColor':{'type':a0_0x1c66d9(0x24a)},'font':{'type':a0_0x1c66d9(0x240),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x1c66d9(0x683),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1c66d9(0x24a),'pattern':a0_0x1c66d9(0x2e0),'description':a0_0x1c66d9(0x4ff)}},'allContacts':{'type':a0_0x1c66d9(0x2dd),'enum':[!0x0,!0x1]}},'required':[a0_0x1c66d9(0x640),a0_0x1c66d9(0x36e)],...v(a0_0x1c66d9(0x640),a0_0x1c66d9(0x36e))}},'required':[a0_0x1c66d9(0x537)]},Va={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'number':{...Z},'options':{...ie},'mediaMessage':{'type':a0_0x1c66d9(0x2c2),'properties':{'mediatype':{'type':a0_0x1c66d9(0x24a),'enum':['image','document','video',a0_0x1c66d9(0x641)]},'media':{'type':a0_0x1c66d9(0x24a)},'fileName':{'type':a0_0x1c66d9(0x24a)},'caption':{'type':a0_0x1c66d9(0x24a)}},'required':[a0_0x1c66d9(0x2f1),a0_0x1c66d9(0x8ee)],...v(a0_0x1c66d9(0x5a6),a0_0x1c66d9(0x2bd),a0_0x1c66d9(0x8ee))}},'required':[a0_0x1c66d9(0x8a1),a0_0x1c66d9(0x4e8)]},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'number':{...Z},'options':{...ie},'audioMessage':{'type':a0_0x1c66d9(0x2c2),'properties':{'audio':{'type':a0_0x1c66d9(0x24a)}},'required':[a0_0x1c66d9(0x641)],...v(a0_0x1c66d9(0x641))}},'required':[a0_0x1c66d9(0x276),'number']},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'number':{...Z},'pollMessage':{'type':a0_0x1c66d9(0x2c2),'properties':{'name':{'type':a0_0x1c66d9(0x24a)},'selectableCount':{'type':'number'},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x1c66d9(0x87f),a0_0x1c66d9(0x54a),'values'],...v(a0_0x1c66d9(0x87f),a0_0x1c66d9(0x54a),'values')}},'required':[a0_0x1c66d9(0x4e8),a0_0x1c66d9(0x5b2)]},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'number':{...Z},'menuMessage':{'type':a0_0x1c66d9(0x2c2),'properties':{'text':{'type':a0_0x1c66d9(0x24a)},'choices':{'type':a0_0x1c66d9(0x683),'uniqueItems':!0x0}},'required':[a0_0x1c66d9(0x460),a0_0x1c66d9(0x1b2)],...v('text',a0_0x1c66d9(0x1b2))}},'required':[a0_0x1c66d9(0x4e8),'menuMessage']},za={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'number':{...Z},'options':{...ie},'locationMessage':{'type':a0_0x1c66d9(0x2c2),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x1c66d9(0x4e8)},'name':{'type':a0_0x1c66d9(0x24a)},'address':{'type':'string'}},'required':[a0_0x1c66d9(0x4aa),a0_0x1c66d9(0x3e4)],...v(a0_0x1c66d9(0x87f),'addresss')}},'required':['number',a0_0x1c66d9(0x182)]},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'number':{...Z},'options':{...ie},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x1c66d9(0x24a)},'description':{'type':a0_0x1c66d9(0x24a)},'footerText':{'type':a0_0x1c66d9(0x24a)},'buttonText':{'type':a0_0x1c66d9(0x24a)},'sections':{'type':a0_0x1c66d9(0x683),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1c66d9(0x2c2),'properties':{'title':{'type':a0_0x1c66d9(0x24a)},'rows':{'type':a0_0x1c66d9(0x683),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1c66d9(0x2c2),'properties':{'title':{'type':a0_0x1c66d9(0x24a)},'description':{'type':a0_0x1c66d9(0x24a)},'rowId':{'type':a0_0x1c66d9(0x24a)}},'required':[a0_0x1c66d9(0x26d),a0_0x1c66d9(0x28f)],...v('title',a0_0x1c66d9(0x28f))}}},'required':['title','rows'],...v(a0_0x1c66d9(0x26d))}}},'required':['title',a0_0x1c66d9(0x530),'buttonText',a0_0x1c66d9(0x5ae)],...v(a0_0x1c66d9(0x26d),'description',a0_0x1c66d9(0x546),a0_0x1c66d9(0x8af))}},'required':['number',a0_0x1c66d9(0x840)]},Ka={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ie},'contactMessage':{'type':a0_0x1c66d9(0x683),'items':{'type':a0_0x1c66d9(0x2c2),'properties':{'fullName':{'type':a0_0x1c66d9(0x24a)},'phoneNumber':{'type':a0_0x1c66d9(0x24a),'minLength':0xa}},'required':[a0_0x1c66d9(0x715),a0_0x1c66d9(0x4d5)],...v(a0_0x1c66d9(0x715))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x1c66d9(0x4e8),a0_0x1c66d9(0x48f)]},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'reactionMessage':{'type':a0_0x1c66d9(0x2c2),'properties':{'key':{'type':a0_0x1c66d9(0x2c2),'properties':{'id':{'type':a0_0x1c66d9(0x24a)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x1c66d9(0x2dd),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x1c66d9(0x889)],...v('id',a0_0x1c66d9(0x328))},'reaction':{'type':'string'}},'required':[a0_0x1c66d9(0x757),a0_0x1c66d9(0x186)],...v(a0_0x1c66d9(0x186))}},'required':[a0_0x1c66d9(0x206)]},Ya={'$id':(0x0,C['v4'])(),'type':'object','properties':{'numbers':{'type':a0_0x1c66d9(0x683),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x1c66d9(0x2e0),'description':a0_0x1c66d9(0x226)}}}},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'readMessages':{'type':a0_0x1c66d9(0x683),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x1c66d9(0x24a)},'fromMe':{'type':a0_0x1c66d9(0x2dd),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x1c66d9(0x24a)}},'required':['id',a0_0x1c66d9(0x889),a0_0x1c66d9(0x328)],...v('id','remoteJid')}}},'required':[a0_0x1c66d9(0x74f)]},Za={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':a0_0x1c66d9(0x24a),'enum':[a0_0x1c66d9(0x797),'none']},'profile':{'type':a0_0x1c66d9(0x24a),'enum':['all',a0_0x1c66d9(0x565),'contact_blacklist',a0_0x1c66d9(0x42f)]},'status':{'type':a0_0x1c66d9(0x24a),'enum':[a0_0x1c66d9(0x797),a0_0x1c66d9(0x565),a0_0x1c66d9(0x2c9),a0_0x1c66d9(0x42f)]},'online':{'type':'string','enum':['all','match_last_seen']},'last':{'type':a0_0x1c66d9(0x24a),'enum':[a0_0x1c66d9(0x797),a0_0x1c66d9(0x565),'contact_blacklist',a0_0x1c66d9(0x42f)]},'groupadd':{'type':a0_0x1c66d9(0x24a),'enum':[a0_0x1c66d9(0x797),a0_0x1c66d9(0x565),a0_0x1c66d9(0x2c9),a0_0x1c66d9(0x42f)]}},'required':[a0_0x1c66d9(0x4d9),a0_0x1c66d9(0x7ab),'status',a0_0x1c66d9(0x66e),a0_0x1c66d9(0x783),a0_0x1c66d9(0x495)],...v(a0_0x1c66d9(0x4d9),'profile','status',a0_0x1c66d9(0x66e),a0_0x1c66d9(0x783),a0_0x1c66d9(0x495))}},'required':[a0_0x1c66d9(0x3b2)]},ei={'$id':(0x0,C['v4'])(),'type':'object','properties':{'lastMessage':{'type':'object','properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x1c66d9(0x24a)},'fromMe':{'type':a0_0x1c66d9(0x2dd),'enum':[!0x0,!0x1]}},'required':['id',a0_0x1c66d9(0x889),a0_0x1c66d9(0x328)],...v('id',a0_0x1c66d9(0x328))},'messageTimestamp':{'type':a0_0x1c66d9(0x240),'minLength':0x1}},'required':['key'],...v(a0_0x1c66d9(0x56e))},'archive':{'type':a0_0x1c66d9(0x2dd),'enum':[!0x0,!0x1]}},'required':[a0_0x1c66d9(0x814),'archive']},ti={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'id':{'type':a0_0x1c66d9(0x24a)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x1c66d9(0x24a)},'participant':{'type':a0_0x1c66d9(0x24a)}},'required':['id',a0_0x1c66d9(0x889),'remoteJid'],...v('id',a0_0x1c66d9(0x328),'participant')},si={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x1c66d9(0x24a),'minLength':0x1},'pushName':{'type':a0_0x1c66d9(0x24a),'minLength':0x1},'id':{'type':a0_0x1c66d9(0x24a),'minLength':0x1}},...v('_id','id',a0_0x1c66d9(0x786))}}},ai={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'name':{'type':'string'}},...v(a0_0x1c66d9(0x87f))},ii={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'status':{'type':a0_0x1c66d9(0x24a)}},...v(a0_0x1c66d9(0x730))},De={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{'type':a0_0x1c66d9(0x24a)},'picture':{'type':a0_0x1c66d9(0x24a)}}},oi={'type':a0_0x1c66d9(0x2c2),'properties':{'wuid':{'type':'string'},'name':{'type':a0_0x1c66d9(0x24a)},'picture':{'type':'string'},'status':{'type':a0_0x1c66d9(0x24a)},'isBusiness':{'type':a0_0x1c66d9(0x2dd)}}},ri={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'where':{'type':a0_0x1c66d9(0x2c2),'properties':{'_id':{'type':a0_0x1c66d9(0x24a),'minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x1c66d9(0x889),a0_0x1c66d9(0x328),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x1c66d9(0x24a),'minLength':0x1,'description':a0_0x1c66d9(0x876)},'id':{'type':'string','minLength':0x1,'description':a0_0x1c66d9(0x876)},'fromMe':{'type':a0_0x1c66d9(0x2dd),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x1c66d9(0x2c2)}},...v(a0_0x1c66d9(0x70b))},'limit':{'type':'integer'}}},Fc={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x1c66d9(0x24a)},'remoteJid':{'type':'string'},'id':{'type':a0_0x1c66d9(0x24a)},'fromMe':{'type':a0_0x1c66d9(0x2dd),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x1c66d9(0x24a)},'status':{'type':'string','enum':['ERROR',a0_0x1c66d9(0x2ab),a0_0x1c66d9(0x540),a0_0x1c66d9(0x7f1),a0_0x1c66d9(0x749),'PLAYED']}},...v(a0_0x1c66d9(0x70b),'remoteJid','id',a0_0x1c66d9(0x730))},'limit':{'type':a0_0x1c66d9(0x240)}}},ni={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'number':{...Z},'presence':{'type':a0_0x1c66d9(0x24a),'enum':[a0_0x1c66d9(0x235),a0_0x1c66d9(0x44d),a0_0x1c66d9(0x66c),a0_0x1c66d9(0x798),a0_0x1c66d9(0x32b)]}},'required':[a0_0x1c66d9(0x89d),a0_0x1c66d9(0x4e8)]},ci={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'subject':{'type':a0_0x1c66d9(0x24a)},'description':{'type':a0_0x1c66d9(0x24a)},'profilePicture':{'type':a0_0x1c66d9(0x24a)},'participants':{'type':a0_0x1c66d9(0x683),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1c66d9(0x24a),'minLength':0xa,'pattern':a0_0x1c66d9(0x7a1),'description':a0_0x1c66d9(0x334)}}},'required':[a0_0x1c66d9(0x594),'participants'],...v('subject',a0_0x1c66d9(0x530),a0_0x1c66d9(0x428))},ke={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'groupJid':{'type':a0_0x1c66d9(0x24a),'pattern':a0_0x1c66d9(0x4ac)}},'required':[a0_0x1c66d9(0x697)],...v('groupJid')},li={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'groupJid':{'type':a0_0x1c66d9(0x24a)},'action':{'type':a0_0x1c66d9(0x24a),'enum':[a0_0x1c66d9(0x887),'remove','promote',a0_0x1c66d9(0x6f0),a0_0x1c66d9(0x6a7),a0_0x1c66d9(0x686)]},'participants':{'type':a0_0x1c66d9(0x683),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1c66d9(0x24a),'minLength':0xa,'pattern':a0_0x1c66d9(0x7a1),'description':a0_0x1c66d9(0x334)}}},'required':[a0_0x1c66d9(0x697),a0_0x1c66d9(0x6d2),a0_0x1c66d9(0x525)],...v(a0_0x1c66d9(0x697),a0_0x1c66d9(0x6d2))},ui={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x1c66d9(0x24a)},'expiration':{'type':a0_0x1c66d9(0x4e8),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x1c66d9(0x697),a0_0x1c66d9(0x2b4)],...v(a0_0x1c66d9(0x697),a0_0x1c66d9(0x2b4))},di={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'groupJid':{'type':a0_0x1c66d9(0x24a)},'image':{'type':a0_0x1c66d9(0x24a)}},'required':[a0_0x1c66d9(0x697),'image'],...v('groupJid','image')},pi={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'groupJid':{'type':a0_0x1c66d9(0x24a)},'description':{'type':a0_0x1c66d9(0x24a)}},'required':['groupJid',a0_0x1c66d9(0x530)],...v(a0_0x1c66d9(0x697),a0_0x1c66d9(0x530))},hi={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x1c66d9(0x24a)}},'required':[a0_0x1c66d9(0x697),a0_0x1c66d9(0x87f)],...v('groupJid',a0_0x1c66d9(0x87f))},gi={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'groupJid':{'type':a0_0x1c66d9(0x24a)},'setting':{'type':a0_0x1c66d9(0x24a),'enum':[a0_0x1c66d9(0x60c),a0_0x1c66d9(0x6a8),a0_0x1c66d9(0x808),a0_0x1c66d9(0x73e)]}},'required':[a0_0x1c66d9(0x697),a0_0x1c66d9(0x75b)],...v(a0_0x1c66d9(0x697),a0_0x1c66d9(0x75b))},mi={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'groupJid':{'type':a0_0x1c66d9(0x24a)},'restrict':{'type':a0_0x1c66d9(0x2dd)},'announce':{'type':a0_0x1c66d9(0x2dd)},'memberAddMode':{'type':a0_0x1c66d9(0x2dd)},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':a0_0x1c66d9(0x240),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x1c66d9(0x24a)},'description':{'type':'string'},'image':{'type':a0_0x1c66d9(0x24a)}}},Ts={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'inviteCode':{'type':'string'}},'required':[a0_0x1c66d9(0x3ca)],...v(a0_0x1c66d9(0x3ca))},fi={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'url':{'type':'string'},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x1c66d9(0x51e),a0_0x1c66d9(0x64d)]},Uc={'$id':(0x0,C['v4'])(),'type':a0_0x1c66d9(0x2c2),'properties':{'local_map':{'type':a0_0x1c66d9(0x2dd),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x1c66d9(0x2dd),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x1c66d9(0x2dd),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x1c66d9(0x2dd),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x1c66d9(0x2dd),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x1c66d9(0x2dd),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x1c66d9(0x2dd),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x1c66d9(0x2dd),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x1c66d9(0x2dd),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x1c66d9(0x2dd),'enum':[!0x0,!0x1]}},'required':[a0_0x1c66d9(0x7bf),a0_0x1c66d9(0x221),a0_0x1c66d9(0x79f),a0_0x1c66d9(0x3fe),a0_0x1c66d9(0x408),'MESSAGES_UPSERT',a0_0x1c66d9(0x3a1),a0_0x1c66d9(0x90e),a0_0x1c66d9(0x527),a0_0x1c66d9(0x17d),a0_0x1c66d9(0x416),a0_0x1c66d9(0x389),a0_0x1c66d9(0x5d2),'CHATS_UPDATE',a0_0x1c66d9(0x6e0),a0_0x1c66d9(0x87e),a0_0x1c66d9(0x374),'GROUPS_UPDATE',a0_0x1c66d9(0x3e9)],...v(a0_0x1c66d9(0x7bf),a0_0x1c66d9(0x221),'QRCODE_UPDATED',a0_0x1c66d9(0x3fe),'MESSAGES_UPDATE','MESSAGES_UPSERT',a0_0x1c66d9(0x3a1),a0_0x1c66d9(0x90e),a0_0x1c66d9(0x527),a0_0x1c66d9(0x17d),a0_0x1c66d9(0x416),a0_0x1c66d9(0x389),'CHATS_UPSERT',a0_0x1c66d9(0x5fd),a0_0x1c66d9(0x6e0),a0_0x1c66d9(0x87e),a0_0x1c66d9(0x374),a0_0x1c66d9(0x1b9),a0_0x1c66d9(0x3e9))},lt=class{},ut=class extends O{[a0_0x1c66d9(0x434)](_0x5d16fe){return ca(_0x5d16fe);}async[a0_0x1c66d9(0x256)](_0x1a2b30){const _0x2edba2=a0_0x1c66d9;if(_0x1a2b30[_0x2edba2(0x844)]!==0x0)try{return{'insertCount':(await this[_0x2edba2(0x434)](_0x1a2b30[0x0][_0x2edba2(0x3f5)])['insertMany']([..._0x1a2b30]))['length']};}catch(_0x57aeb1){return _0x57aeb1;}}async[a0_0x1c66d9(0x2a3)](_0x2f8e6a,_0xee669a){const _0x3f314a=a0_0x1c66d9;try{return{'deletedCount':(await this[_0x3f314a(0x434)](_0xee669a)[_0x3f314a(0x79e)]({..._0x2f8e6a[_0x3f314a(0x30f)]}))[_0x3f314a(0x341)]};}catch(_0x3838ca){return{'error':_0x3838ca?.[_0x3f314a(0x37f)]()};}}async['update'](_0x3fe1cd,_0x4a8d78){const _0xae94d7=a0_0x1c66d9;try{if(_0x3fe1cd[_0xae94d7(0x844)]===0x0)return;let _0x462874=this[_0xae94d7(0x434)](_0x4a8d78),_0x944a87=_0x3fe1cd[_0xae94d7(0x521)](_0x2f10a3=>({'updateOne':{'filter':{'_id':_0x2f10a3[_0xae94d7(0x70b)],'owner':_0x4a8d78},'update':{..._0x2f10a3}}})),{modifiedCount:_0x44a653}=await _0x462874[_0xae94d7(0x606)](_0x944a87);return{'insertCount':_0x44a653};}catch{return;}}async['find'](_0x254092,_0x52717f){const _0x5a9b45=a0_0x1c66d9;try{let _0x252700=this[_0x5a9b45(0x434)](_0x52717f),_0x553af2=A(_0x254092[_0x5a9b45(0x30f)]);return await _0x252700[_0x5a9b45(0x705)](_0x553af2)[_0x5a9b45(0x4ad)](_0x254092?.[_0x5a9b45(0x4ad)]??0x0)[_0x5a9b45(0x58d)]();}catch{return[];}}async[a0_0x1c66d9(0x44a)](_0x4dc1f3,_0x2e5a64){const _0x2ea80d=a0_0x1c66d9;try{let _0x3cc72a=this[_0x2ea80d(0x434)](_0x2e5a64),_0x38c625=A(_0x4dc1f3[_0x2ea80d(0x30f)]);return await _0x3cc72a[_0x2ea80d(0x44a)](_0x38c625)[_0x2ea80d(0x58d)]();}catch{return null;}}async[a0_0x1c66d9(0x81f)](_0x10eade){const _0x400f07=a0_0x1c66d9;try{return await this[_0x400f07(0x434)](_0x10eade)[_0x400f07(0x633)]['drop'](),{'success':!0x0};}catch(_0x2a205b){return console[_0x400f07(0x456)](_0x2a205b),{'success':!0x1,'error':_0x2a205b};}}},dt=require(a0_0x1c66d9(0x6a0)),Hc=require(a0_0x1c66d9(0x44e)),Is=new $('Validate'),V=class{[a0_0x1c66d9(0x5f2)](_0x162878,_0x2dc9f8=!0x0){const _0x359fd2=a0_0x1c66d9;let _0x4dcc48='/'+_0x162878;return _0x2dc9f8&&(_0x4dcc48+=_0x359fd2(0x815)),_0x4dcc48;}async['dataValidate'](_0x2d8013){const _0x126b74=a0_0x1c66d9;let {request:_0x5c30ce,schema:_0x2bd36f,ClassRef:_0x48842f,execute:_0x11b9b3}=_0x2d8013,_0x58b929=new _0x48842f(),_0x59dc57=_0x5c30ce[_0x126b74(0x452)],_0xdff790=_0x5c30ce['params'];_0x5c30ce?.[_0x126b74(0x6b2)]&&Object[_0x126b74(0x4cb)](_0x5c30ce['query'])[_0x126b74(0x844)]>0x0&&Object[_0x126b74(0x1c5)](_0xdff790,_0x5c30ce[_0x126b74(0x6b2)]),_0x5c30ce[_0x126b74(0x48b)][_0x126b74(0x1e1)](_0x126b74(0x883))&&Object['assign'](_0xdff790,_0x59dc57),Object[_0x126b74(0x1c5)](_0x58b929,_0x59dc57);let _0x51c440=_0x2bd36f?(0x0,dt[_0x126b74(0x8d1)])(_0x58b929,_0x2bd36f):{'valid':!0x0,'errors':[]};if(!_0x51c440['valid']){let _0x5805d1=_0x51c440[_0x126b74(0x484)]['map'](({property:_0x184355,stack:_0x36060b,schema:_0x404b3d})=>{const _0x3e86b9=_0x126b74;let _0x5c5a74;return _0x404b3d[_0x3e86b9(0x530)]?_0x5c5a74=_0x404b3d['description']:_0x5c5a74=_0x36060b[_0x3e86b9(0x737)](_0x3e86b9(0x5f9),''),{'property':_0x184355[_0x3e86b9(0x737)](_0x3e86b9(0x5f9),''),'message':_0x5c5a74};});throw Is[_0x126b74(0x456)]([..._0x5805d1]),new m(..._0x5805d1);}return await _0x11b9b3(_0xdff790,_0x58b929);}async['groupValidate'](_0xe79490){const _0x31849b=a0_0x1c66d9;let {request:_0x1b59f2,ClassRef:_0x528366,schema:_0x2d9887,execute:_0x500fb3}=_0xe79490,_0x31a21d=_0x1b59f2[_0x31849b(0x6b2)];if(!_0x31a21d?.[_0x31849b(0x697)])throw new m(_0x31849b(0x6f3),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x2bc0ce=_0x1b59f2[_0x31849b(0x4cc)],_0x5c600b=_0x1b59f2['body'],_0x592f38=new _0x528366();Object[_0x31849b(0x1c5)](_0x5c600b,_0x31a21d),Object['assign'](_0x592f38,_0x5c600b);let _0x2b4b68=(0x0,dt['validate'])(_0x592f38,_0x2d9887);if(!_0x2b4b68[_0x31849b(0x712)]){let _0x522108=_0x2b4b68['errors'][_0x31849b(0x521)](({property:_0x313931,stack:_0x2abab3,schema:_0x294099})=>{const _0x353cd0=_0x31849b;let _0x5ab6ed;return _0x294099[_0x353cd0(0x530)]?_0x5ab6ed=_0x294099[_0x353cd0(0x530)]:_0x5ab6ed=_0x2abab3[_0x353cd0(0x737)](_0x353cd0(0x5f9),''),{'property':_0x313931[_0x353cd0(0x737)](_0x353cd0(0x5f9),''),'message':_0x5ab6ed};});throw Is[_0x31849b(0x456)]([..._0x522108]),new m(..._0x522108);}return await _0x500fb3(_0x2bc0ce,_0x592f38);}async[a0_0x1c66d9(0x40e)](_0x39c47b){const _0x56d235=a0_0x1c66d9;let {request:_0x1e0485,ClassRef:_0x296de5,schema:_0x256ddf,execute:_0x7719ac}=_0x39c47b,_0x2a1779=_0x1e0485[_0x56d235(0x452)];if(!_0x2a1779?.[_0x56d235(0x3ca)])throw new m(_0x56d235(0x223),_0x56d235(0x5e6));let _0x33ef9b=_0x1e0485[_0x56d235(0x4cc)],_0x2bf820=_0x1e0485[_0x56d235(0x452)],_0x139d42=new _0x296de5();Object['assign'](_0x2bf820,_0x2a1779),Object[_0x56d235(0x1c5)](_0x139d42,_0x2bf820);let _0x3bcb86=(0x0,dt[_0x56d235(0x8d1)])(_0x139d42,_0x256ddf);if(!_0x3bcb86[_0x56d235(0x712)]){let _0x72302=_0x3bcb86[_0x56d235(0x484)]['map'](({property:_0x1162bc,stack:_0x2ad1d1,schema:_0x2e7c96})=>{const _0x36c032=_0x56d235;let _0x3b3047;return _0x2e7c96[_0x36c032(0x530)]?_0x3b3047=_0x2e7c96[_0x36c032(0x530)]:_0x3b3047=_0x2ad1d1[_0x36c032(0x737)]('instance.',''),{'property':_0x1162bc[_0x36c032(0x737)](_0x36c032(0x5f9),''),'message':_0x3b3047};});throw Is[_0x56d235(0x456)]([..._0x72302]),new m(..._0x72302);}return await _0x7719ac(_0x33ef9b,_0x139d42);}},M=class{},ll=new $(a0_0x1c66d9(0x679)),pt=class extends V{constructor(..._0x1dc286){const _0x15b9f6=a0_0x1c66d9;super(),this[_0x15b9f6(0x5ea)]=(0x0,wi[_0x15b9f6(0x7e5)])(),this[_0x15b9f6(0x5ea)][_0x15b9f6(0x5bc)](this[_0x15b9f6(0x5f2)](_0x15b9f6(0x7f2)),..._0x1dc286,async(_0x4fa4ca,_0x5e18ad)=>{const _0x12447b=_0x15b9f6;let _0x39a084=await this[_0x12447b(0x5e5)]({'request':_0x4fa4ca,'schema':ni,'ClassRef':et,'execute':(_0x28cf3d,_0x55c7bc)=>D[_0x12447b(0x7f2)](_0x28cf3d,_0x55c7bc)});return _0x5e18ad['status'](0xc9)[_0x12447b(0x446)](_0x39a084);})[_0x15b9f6(0x5bc)](this[_0x15b9f6(0x5f2)](_0x15b9f6(0x344)),..._0x1dc286,async(_0x4ab691,_0x2b8177)=>{const _0x37d903=_0x15b9f6;let _0x3aebc3=await this[_0x37d903(0x5e5)]({'request':_0x4ab691,'schema':Ya,'ClassRef':tt,'execute':(_0x2fd0b4,_0x24299e)=>D[_0x37d903(0x8f4)](_0x2fd0b4,_0x24299e)});return _0x2b8177[_0x37d903(0x730)](0xc9)[_0x37d903(0x446)](_0x3aebc3);})['post'](this[_0x15b9f6(0x5f2)](_0x15b9f6(0x3e5)),..._0x1dc286,async(_0x105561,_0x23b3d0)=>{const _0xb7ed81=_0x15b9f6;let _0xd1f464=await this['dataValidate']({'request':_0x105561,'schema':E,'ClassRef':M,'execute':(_0x32b4d0,_0xfd3a67)=>D[_0xb7ed81(0x3e5)](_0x32b4d0,_0xfd3a67)});return _0x23b3d0[_0xb7ed81(0x730)](0xc9)[_0xb7ed81(0x446)](_0xd1f464);})[_0x15b9f6(0x4ab)](this[_0x15b9f6(0x5f2)](_0x15b9f6(0x4ef)),..._0x1dc286,async(_0x58b2ca,_0x24e9fc)=>{const _0x7c0209=_0x15b9f6;let _0x1d5c3b=await this[_0x7c0209(0x5e5)]({'request':_0x58b2ca,'schema':Xa,'ClassRef':it,'execute':(_0x704d19,_0x2fd567)=>D[_0x7c0209(0x531)](_0x704d19,_0x2fd567)});return _0x24e9fc['status'](0xc9)[_0x7c0209(0x446)](_0x1d5c3b);})[_0x15b9f6(0x4ab)](this['routerPath'](_0x15b9f6(0x4eb)),..._0x1dc286,async(_0x483669,_0x4c9483)=>{const _0x13460e=_0x15b9f6;let _0x3d458e=await this[_0x13460e(0x5e5)]({'request':_0x483669,'schema':ei,'ClassRef':ot,'execute':(_0x3dc903,_0x5655a8)=>D[_0x13460e(0x4eb)](_0x3dc903,_0x5655a8)});return _0x4c9483['status'](0xc9)[_0x13460e(0x446)](_0x3d458e);})[_0x15b9f6(0x2a3)](this['routerPath'](_0x15b9f6(0x7a7)),..._0x1dc286,async(_0x2d7854,_0x16cedb)=>{const _0x2335f6=_0x15b9f6;let _0x4caa22=await this[_0x2335f6(0x5e5)]({'request':_0x2d7854,'schema':ti,'ClassRef':nt,'execute':(_0x3e6bde,_0x4e14bc)=>D[_0x2335f6(0x689)](_0x3e6bde,_0x4e14bc)});return _0x16cedb[_0x2335f6(0x730)](0xc9)[_0x2335f6(0x446)](_0x4caa22);})['post'](this[_0x15b9f6(0x5f2)]('fetchProfilePictureUrl'),..._0x1dc286,async(_0x3e1f1d,_0x33857a)=>{const _0x4c2277=_0x15b9f6;let _0x32ad2b=await this['dataValidate']({'request':_0x3e1f1d,'schema':De,'ClassRef':xe,'execute':(_0x358c59,_0x106ff8)=>D['fetchProfilePicture'](_0x358c59,_0x106ff8)});return _0x33857a[_0x4c2277(0x730)](0xc8)[_0x4c2277(0x446)](_0x32ad2b);})['post'](this[_0x15b9f6(0x5f2)]('fetchProfile'),..._0x1dc286,async(_0x24c468,_0x4f576d)=>{const _0x1035e1=_0x15b9f6;let _0x32c018=await this['dataValidate']({'request':_0x24c468,'schema':oi,'ClassRef':xe,'execute':(_0x174064,_0x29c0d1)=>D[_0x1035e1(0x73f)](_0x174064,_0x29c0d1)});return _0x4f576d[_0x1035e1(0x730)](0xc8)[_0x1035e1(0x446)](_0x32c018);})['post'](this[_0x15b9f6(0x5f2)](_0x15b9f6(0x50a)),..._0x1dc286,async(_0x17ed60,_0x3eb2fd)=>{const _0x57352e=_0x15b9f6;let _0x1c4ec0=await this[_0x57352e(0x5e5)]({'request':_0x17ed60,'schema':si,'ClassRef':lt,'execute':(_0x2a8ed7,_0x35683a)=>D['fetchContacts'](_0x2a8ed7,_0x35683a)});return _0x3eb2fd[_0x57352e(0x730)](0xc8)['json'](_0x1c4ec0);})[_0x15b9f6(0x5bc)](this['routerPath'](_0x15b9f6(0x3b7)),..._0x1dc286,async(_0x34cbc8,_0x5c7e02)=>{const _0xc1f6b=_0x15b9f6;let _0x2ed732=await this['dataValidate']({'request':_0x34cbc8,'schema':null,'ClassRef':Object,'execute':(_0x54b9cf,_0xaf8650)=>D[_0xc1f6b(0x3b7)](_0x54b9cf,_0xaf8650)});return _0x5c7e02[_0xc1f6b(0x730)](0xc9)[_0xc1f6b(0x446)](_0x2ed732);})['post'](this[_0x15b9f6(0x5f2)](_0x15b9f6(0x7c1)),..._0x1dc286,async(_0xc38b98,_0x1cd0cd)=>{const _0x12e6ab=_0x15b9f6;let _0x4d930a=await this[_0x12e6ab(0x5e5)]({'request':_0xc38b98,'schema':ri,'ClassRef':Xe,'execute':(_0x38b3dd,_0x1f8390)=>D['fetchMessages'](_0x38b3dd,_0x1f8390)});return _0x1cd0cd[_0x12e6ab(0x730)](0xc8)[_0x12e6ab(0x446)](_0x4d930a);})[_0x15b9f6(0x7b4)](this['routerPath'](_0x15b9f6(0x1e2)),..._0x1dc286,async(_0x1a9167,_0x1380a7)=>{const _0x1ff6e1=_0x15b9f6;let _0x3ca9bb=await this['dataValidate']({'request':_0x1a9167,'schema':null,'ClassRef':M,'execute':_0x1d4ad7=>D[_0x1ff6e1(0x68f)](_0x1d4ad7)});return _0x1380a7[_0x1ff6e1(0x730)](0xc8)['json'](_0x3ca9bb);})['get'](this[_0x15b9f6(0x5f2)](_0x15b9f6(0x608)),..._0x1dc286,async(_0x48ba69,_0x32b97c)=>{const _0x4e1685=_0x15b9f6;let _0x4801e1=await this['dataValidate']({'request':_0x48ba69,'schema':null,'ClassRef':M,'execute':_0x2fa99d=>D[_0x4e1685(0x880)](_0x2fa99d)});return _0x32b97c[_0x4e1685(0x730)](0xc8)[_0x4e1685(0x446)](_0x4801e1);})['put'](this[_0x15b9f6(0x5f2)](_0x15b9f6(0x294)),..._0x1dc286,async(_0x5dad42,_0x19bffb)=>{const _0x36ec8e=_0x15b9f6;let _0xa6cc45=await this[_0x36ec8e(0x5e5)]({'request':_0x5dad42,'schema':null,'ClassRef':Array,'execute':(_0x36fc8f,_0x697c50)=>D[_0x36ec8e(0x294)](_0x36fc8f,_0x697c50)});return _0x19bffb[_0x36ec8e(0x730)](0xc8)['json'](_0xa6cc45);})[_0x15b9f6(0x7b4)](this[_0x15b9f6(0x5f2)](_0x15b9f6(0x8b4)),..._0x1dc286,async(_0x263437,_0x19c863)=>{const _0x72d08b=_0x15b9f6;let _0x11cdd1=await this['dataValidate']({'request':_0x263437,'schema':null,'ClassRef':M,'execute':_0x397532=>D[_0x72d08b(0x8b4)](_0x397532)});return _0x19c863[_0x72d08b(0x730)](0xc8)[_0x72d08b(0x446)](_0x11cdd1);})['put'](this['routerPath'](_0x15b9f6(0x8da)),..._0x1dc286,async(_0x5c873c,_0x558a7)=>{const _0x2b6a94=_0x15b9f6;let _0x134ac5=await this[_0x2b6a94(0x5e5)]({'request':_0x5c873c,'schema':Za,'ClassRef':rt,'execute':(_0x1db316,_0x403cff)=>D['updatePrivacySettings'](_0x1db316,_0x403cff)});return _0x558a7['status'](0xc9)[_0x2b6a94(0x446)](_0x134ac5);})[_0x15b9f6(0x5bc)](this[_0x15b9f6(0x5f2)](_0x15b9f6(0x665)),..._0x1dc286,async(_0x3a67e9,_0x27b292)=>{const _0x10a95d=_0x15b9f6;let _0x18e5c7=await this[_0x10a95d(0x5e5)]({'request':_0x3a67e9,'schema':De,'ClassRef':Ee,'execute':(_0x314a16,_0x38e25c)=>D[_0x10a95d(0x665)](_0x314a16,_0x38e25c)});return _0x27b292[_0x10a95d(0x730)](0xc8)[_0x10a95d(0x446)](_0x18e5c7);})[_0x15b9f6(0x5bc)](this[_0x15b9f6(0x5f2)](_0x15b9f6(0x8fc)),..._0x1dc286,async(_0x28da6f,_0x20d944)=>{const _0x10d00d=_0x15b9f6;let _0x3800d9=await this[_0x10d00d(0x5e5)]({'request':_0x28da6f,'schema':ai,'ClassRef':st,'execute':(_0x2bbdd4,_0xbb5b57)=>D[_0x10d00d(0x8fc)](_0x2bbdd4,_0xbb5b57)});return _0x20d944['status'](0xc8)[_0x10d00d(0x446)](_0x3800d9);})['post'](this['routerPath']('updateProfileStatus'),..._0x1dc286,async(_0x27afef,_0x2a7a20)=>{const _0x5bbd5a=_0x15b9f6;let _0x5d0db6=await this[_0x5bbd5a(0x5e5)]({'request':_0x27afef,'schema':ii,'ClassRef':at,'execute':(_0x492795,_0x3a0fd1)=>D[_0x5bbd5a(0x604)](_0x492795,_0x3a0fd1)});return _0x2a7a20['status'](0xc8)[_0x5bbd5a(0x446)](_0x5d0db6);})['put'](this['routerPath'](_0x15b9f6(0x54b)),..._0x1dc286,async(_0x2d32f6,_0x3fdee0)=>{const _0x246d58=_0x15b9f6;let _0x5e7d75=await this[_0x246d58(0x5e5)]({'request':_0x2d32f6,'schema':De,'ClassRef':Ee,'execute':(_0x397e84,_0x53e813)=>D['updateProfilePicture'](_0x397e84,_0x53e813)});return _0x3fdee0[_0x246d58(0x730)](0xc8)[_0x246d58(0x446)](_0x5e7d75);})[_0x15b9f6(0x2a3)](this[_0x15b9f6(0x5f2)](_0x15b9f6(0x78c)),..._0x1dc286,async(_0x393354,_0x1641c1)=>{const _0x2032ca=_0x15b9f6;let _0x2bce49=await this[_0x2032ca(0x5e5)]({'request':_0x393354,'schema':De,'ClassRef':Ee,'execute':(_0x26eaab,_0x45887b)=>D['removeProfilePicture'](_0x26eaab,_0x45887b)});return _0x1641c1['status'](0xc8)[_0x2032ca(0x446)](_0x2bce49);});}},yi=require('express'),ht=class{},gt=class{},mt=class{},ft=class{},wt=class{},yt=class{},ee=class{},Le=class{},bt=class extends ee{},St=class extends ee{},Mt=class extends V{constructor(..._0xe78fc5){const _0x3d1fee=a0_0x1c66d9;super(),this[_0x3d1fee(0x5ea)]=(0x0,yi['Router'])(),this[_0x3d1fee(0x5ea)]['post'](this[_0x3d1fee(0x5f2)](_0x3d1fee(0x548)),..._0xe78fc5,async(_0x1dfd11,_0x474fd0)=>{const _0x29c219=_0x3d1fee;let _0xa29757=await this[_0x29c219(0x5e5)]({'request':_0x1dfd11,'schema':ci,'ClassRef':ht,'execute':(_0x2f7dbd,_0x28b3cf)=>q['createGroup'](_0x2f7dbd,_0x28b3cf)});_0x474fd0['status'](0xc9)[_0x29c219(0x446)](_0xa29757);})['put'](this['routerPath'](_0x3d1fee(0x1ac)),..._0xe78fc5,async(_0x3f0020,_0x217cf1)=>{const _0x27a34d=_0x3d1fee;let _0x380bf1=await this[_0x27a34d(0x651)]({'request':_0x3f0020,'schema':di,'ClassRef':gt,'execute':(_0x1e6700,_0x30be21)=>q[_0x27a34d(0x1ac)](_0x1e6700,_0x30be21)});_0x217cf1[_0x27a34d(0x730)](0xc9)['json'](_0x380bf1);})['put'](this[_0x3d1fee(0x5f2)]('groupDesc'),..._0xe78fc5,async(_0x22a213,_0x305a1e)=>{const _0x3e95aa=_0x3d1fee;let _0x76486c=await this['groupValidate']({'request':_0x22a213,'schema':pi,'ClassRef':mt,'execute':(_0x3e0bf9,_0x1c70d4)=>q[_0x3e95aa(0x3be)](_0x3e0bf9,_0x1c70d4)});_0x305a1e[_0x3e95aa(0x730)](0xc9)[_0x3e95aa(0x446)](_0x76486c);})[_0x3d1fee(0x4ab)](this[_0x3d1fee(0x5f2)](_0x3d1fee(0x4a1)),..._0xe78fc5,async(_0x5e51e3,_0x272464)=>{const _0x52ac14=_0x3d1fee;let _0x519ade=await this[_0x52ac14(0x651)]({'request':_0x5e51e3,'schema':hi,'ClassRef':ft,'execute':(_0x304879,_0x54b8eb)=>q[_0x52ac14(0x4a1)](_0x304879,_0x54b8eb)});_0x272464[_0x52ac14(0x730)](0xc9)[_0x52ac14(0x446)](_0x519ade);})[_0x3d1fee(0x4ab)](this[_0x3d1fee(0x5f2)](_0x3d1fee(0x2d1)),..._0xe78fc5,async(_0xffee11,_0x3d3ff3)=>{const _0x44f9c0=_0x3d1fee;let _0x50435e=await this[_0x44f9c0(0x651)]({'request':_0xffee11,'schema':mi,'ClassRef':yt,'execute':(_0x12b15f,_0x1fdcb5)=>q[_0x44f9c0(0x2d1)](_0x12b15f,_0x1fdcb5)});_0x3d3ff3[_0x44f9c0(0x730)](0xc9)['json'](_0x50435e);})[_0x3d1fee(0x4ab)](this['routerPath'](_0x3d1fee(0x462)),..._0xe78fc5,async(_0x2b7e12,_0x321eb4)=>{const _0x311d91=_0x3d1fee;let _0x3b9ba2=await this['groupValidate']({'request':_0x2b7e12,'schema':gi,'ClassRef':wt,'execute':(_0x26e75b,_0xf4af77)=>q[_0x311d91(0x462)](_0x26e75b,_0xf4af77)});_0x321eb4[_0x311d91(0x730)](0xc9)[_0x311d91(0x446)](_0x3b9ba2);})[_0x3d1fee(0x4ab)](this[_0x3d1fee(0x5f2)](_0x3d1fee(0x33d)),..._0xe78fc5,async(_0x3f1754,_0x5e0e89)=>{const _0x378144=_0x3d1fee;let _0x1d9c21=await this[_0x378144(0x651)]({'request':_0x3f1754,'schema':ui,'ClassRef':St,'execute':(_0x12d79e,_0x52cfd2)=>q[_0x378144(0x33d)](_0x12d79e,_0x52cfd2)});_0x5e0e89[_0x378144(0x730)](0xc9)['json'](_0x1d9c21);})[_0x3d1fee(0x7b4)](this[_0x3d1fee(0x5f2)](_0x3d1fee(0x63f)),..._0xe78fc5,async(_0x5cdc90,_0x1ba2f2)=>{const _0x56684a=_0x3d1fee;let _0x4c1e90=await this['groupValidate']({'request':_0x5cdc90,'schema':ke,'ClassRef':ee,'execute':(_0x1d6d29,_0x48a63f)=>q[_0x56684a(0x8e7)](_0x1d6d29,_0x48a63f)});_0x1ba2f2[_0x56684a(0x730)](0xc8)[_0x56684a(0x446)](_0x4c1e90);})[_0x3d1fee(0x7b4)](this[_0x3d1fee(0x5f2)]('findGroups'),..._0xe78fc5,async(_0x5762f4,_0x3a84ba)=>{const _0x88c08a=_0x3d1fee;let _0x30d2b1=await this[_0x88c08a(0x5e5)]({'request':_0x5762f4,'schema':E,'ClassRef':M,'execute':_0x42f256=>q[_0x88c08a(0x18d)](_0x42f256)});_0x3a84ba['status'](0xc8)[_0x88c08a(0x446)](_0x30d2b1);})[_0x3d1fee(0x7b4)](this[_0x3d1fee(0x5f2)](_0x3d1fee(0x525)),..._0xe78fc5,async(_0x298a45,_0x16a3c9)=>{const _0x56c000=_0x3d1fee;let _0x51d3ff=await this['groupValidate']({'request':_0x298a45,'schema':ke,'ClassRef':ee,'execute':(_0x1b7aba,_0x522d90)=>q[_0x56c000(0x826)](_0x1b7aba,_0x522d90)});_0x16a3c9[_0x56c000(0x730)](0xc8)[_0x56c000(0x446)](_0x51d3ff);})[_0x3d1fee(0x7b4)](this[_0x3d1fee(0x5f2)](_0x3d1fee(0x3ca)),..._0xe78fc5,async(_0x37a646,_0x3105d6)=>{const _0x6b5d16=_0x3d1fee;let _0x523f0b=await this[_0x6b5d16(0x651)]({'request':_0x37a646,'schema':ke,'ClassRef':ee,'execute':(_0x4cd1c4,_0xc8e18a)=>q[_0x6b5d16(0x3ca)](_0x4cd1c4,_0xc8e18a)});_0x3105d6['status'](0xc8)[_0x6b5d16(0x446)](_0x523f0b);})[_0x3d1fee(0x5bc)](this[_0x3d1fee(0x5f2)]('inviteCodeDetails'),..._0xe78fc5,async(_0x57a473,_0x42af86)=>{const _0x3d698f=_0x3d1fee;let _0x314462=await this['joinGroupValidate']({'request':_0x57a473,'schema':Ts,'ClassRef':Le,'execute':(_0x59e9db,_0x3d6287)=>q[_0x3d698f(0x85a)](_0x59e9db,_0x3d6287)});_0x42af86[_0x3d698f(0x730)](0xc9)[_0x3d698f(0x446)](_0x314462);})['put'](this[_0x3d1fee(0x5f2)](_0x3d1fee(0x5cb)),..._0xe78fc5,async(_0x14faaf,_0x1a397d)=>{const _0x82ed24=_0x3d1fee;let _0x39695f=await this[_0x82ed24(0x40e)]({'request':_0x14faaf,'schema':Ts,'ClassRef':Le,'execute':(_0x23f1bb,_0x5df801)=>q[_0x82ed24(0x5cb)](_0x23f1bb,_0x5df801)});_0x1a397d[_0x82ed24(0x730)](0xc9)[_0x82ed24(0x446)](_0x39695f);})[_0x3d1fee(0x4ab)](this[_0x3d1fee(0x5f2)](_0x3d1fee(0x89c)),..._0xe78fc5,async(_0x34cc10,_0x2afa21)=>{const _0x4727b1=_0x3d1fee;let _0x1c4b0b=await this['groupValidate']({'request':_0x34cc10,'schema':ke,'ClassRef':ee,'execute':(_0x2a0459,_0x2680fc)=>q[_0x4727b1(0x89c)](_0x2a0459,_0x2680fc)});_0x2afa21[_0x4727b1(0x730)](0xc9)[_0x4727b1(0x446)](_0x1c4b0b);})[_0x3d1fee(0x4ab)](this['routerPath'](_0x3d1fee(0x316)),..._0xe78fc5,async(_0x307d21,_0x3ddfe9)=>{const _0x24ac6=_0x3d1fee;let _0xedc31b=await this[_0x24ac6(0x651)]({'request':_0x307d21,'schema':li,'ClassRef':bt,'execute':(_0x4dcfa8,_0x214150)=>q[_0x24ac6(0x57c)](_0x4dcfa8,_0x214150)});_0x3ddfe9['status'](0xc9)[_0x24ac6(0x446)](_0xedc31b);})[_0x3d1fee(0x2a3)](this['routerPath'](_0x3d1fee(0x267)),..._0xe78fc5,async(_0x22a22e,_0x5a0bf8)=>{const _0x32f7fc=_0x3d1fee;let _0x56781b=await this[_0x32f7fc(0x651)]({'request':_0x22a22e,'schema':{},'ClassRef':ee,'execute':(_0x30b2a1,_0x1e0943)=>q[_0x32f7fc(0x267)](_0x30b2a1,_0x1e0943)});_0x5a0bf8[_0x32f7fc(0x730)](0xc8)[_0x32f7fc(0x446)](_0x56781b);});}},bi=require('express'),Ct=class extends V{constructor(_0x1ca6bd,..._0x44496d){const _0x3ac90a=a0_0x1c66d9;super(),this[_0x3ac90a(0x62b)]=_0x1ca6bd,this[_0x3ac90a(0x5ea)]=(0x0,bi[_0x3ac90a(0x7e5)])();let _0x476a71=_0x1ca6bd[_0x3ac90a(0x7b4)](_0x3ac90a(0x88c));this[_0x3ac90a(0x5ea)][_0x3ac90a(0x5bc)]('/create',..._0x44496d,async(_0x3ad131,_0x4688e6)=>{const _0x4e6fae=_0x3ac90a;let {instanceName:_0x3d2cfd,apikey:_0x786cb9,number:_0x16b3c9}=_0x3ad131['body'],_0x4d2844=await ue[_0x4e6fae(0x350)]({'instanceName':_0x3d2cfd,'apikey':_0x786cb9,'number':_0x16b3c9});return _0x4688e6['status'](0xc9)[_0x4e6fae(0x446)](_0x4d2844);})[_0x3ac90a(0x4ab)](this['routerPath'](_0x3ac90a(0x6dc)),..._0x44496d,async(_0x2de863,_0xf294db)=>{const _0x3faa22=_0x3ac90a;let _0x58d90f=await this[_0x3faa22(0x5e5)]({'request':_0x2de863,'schema':E,'ClassRef':M,'execute':_0x5781b8=>ue[_0x3faa22(0x477)](_0x5781b8)});return _0xf294db[_0x3faa22(0x730)](0xc8)[_0x3faa22(0x446)](_0x58d90f);})['get'](this[_0x3ac90a(0x5f2)](_0x3ac90a(0x24e)),..._0x44496d,async(_0x246eb8,_0x4cbe28)=>{const _0x23cd70=_0x3ac90a;let _0x209863=await this[_0x23cd70(0x5e5)]({'request':_0x246eb8,'schema':E,'ClassRef':M,'execute':_0x3de3bb=>ue[_0x23cd70(0x6ae)](_0x3de3bb)});return _0x4cbe28[_0x23cd70(0x730)](0xc8)[_0x23cd70(0x446)](_0x209863);})[_0x3ac90a(0x7b4)](this[_0x3ac90a(0x5f2)](_0x3ac90a(0x8fd)),..._0x44496d,async(_0x56400b,_0x1c9f77)=>{const _0x2521fb=_0x3ac90a;let _0x1e9a87=await this['dataValidate']({'request':_0x56400b,'schema':E,'ClassRef':M,'execute':_0x1c9d6d=>ue['connectionState'](_0x1c9d6d)});return _0x1c9f77[_0x2521fb(0x730)](0xc8)[_0x2521fb(0x446)](_0x1e9a87);})[_0x3ac90a(0x7b4)](this[_0x3ac90a(0x5f2)]('fetchInstances',!0x1),..._0x44496d,async(_0x31e2af,_0x520a62)=>{const _0x25708a=_0x3ac90a;let _0x525b41=await this['dataValidate']({'request':_0x31e2af,'schema':null,'ClassRef':M,'execute':_0x1c21d7=>ue[_0x25708a(0x551)](_0x1c21d7)});return _0x520a62[_0x25708a(0x730)](0xc8)[_0x25708a(0x446)](_0x525b41);})[_0x3ac90a(0x2a3)](this['routerPath'](_0x3ac90a(0x5f1)),..._0x44496d,async(_0x15459c,_0x363693)=>{const _0x58615e=_0x3ac90a;let _0x2b1eeb=await this[_0x58615e(0x5e5)]({'request':_0x15459c,'schema':E,'ClassRef':M,'execute':_0x597998=>ue[_0x58615e(0x5f1)](_0x597998)});return _0x363693[_0x58615e(0x730)](0xc8)['json'](_0x2b1eeb);})['delete'](this[_0x3ac90a(0x5f2)]('delete'),..._0x44496d,async(_0x3ab7dc,_0x3aa3ed)=>{const _0x1e9a25=_0x3ac90a;let _0x351e57=await this[_0x1e9a25(0x5e5)]({'request':_0x3ab7dc,'schema':E,'ClassRef':M,'execute':_0x5f52be=>ue['deleteInstance'](_0x5f52be)});return _0x3aa3ed[_0x1e9a25(0x730)](0xc8)[_0x1e9a25(0x446)](_0x351e57);});}},Si=require(a0_0x1c66d9(0x834)),_s=class{},H=class extends _s{},vt=class extends H{},Et=class extends H{},Nt=class extends H{},$t=class extends H{},Fe=class extends H{},Rt=class extends H{},At=class extends H{},Tt=class extends H{},It=class extends H{},_t=class{},Ot=class extends V{constructor(..._0x244cc7){const _0x56e981=a0_0x1c66d9;super(),this['router']=(0x0,Si['Router'])(),this[_0x56e981(0x5ea)][_0x56e981(0x5bc)](this['routerPath'](_0x56e981(0x7ce)),..._0x244cc7,async(_0x463bfa,_0x317a79)=>{const _0x5d9aad=_0x56e981;let _0x3e5db7=await this[_0x5d9aad(0x5e5)]({'request':_0x463bfa,'schema':Ua,'ClassRef':vt,'execute':(_0x235a23,_0x2fa308)=>B[_0x5d9aad(0x7ce)](_0x235a23,_0x2fa308)});return _0x317a79['status'](0xc9)[_0x5d9aad(0x446)](_0x3e5db7);})[_0x56e981(0x5bc)](this[_0x56e981(0x5f2)](_0x56e981(0x7d7)),..._0x244cc7,async(_0x443903,_0x4c3b1e)=>{const _0xfa820b=_0x56e981;let _0x27cccc=await this[_0xfa820b(0x5e5)]({'request':_0x443903,'schema':Va,'ClassRef':Fe,'execute':(_0x1644f7,_0x5d6499)=>B[_0xfa820b(0x7d7)](_0x1644f7,_0x5d6499)});return _0x4c3b1e[_0xfa820b(0x730)](0xc9)['json'](_0x27cccc);})['post'](this['routerPath'](_0x56e981(0x500)),..._0x244cc7,async(_0x1a56cc,_0x2050be)=>{const _0x20789b=_0x56e981;let _0x5a4a3e=await this[_0x20789b(0x5e5)]({'request':_0x1a56cc,'schema':Wa,'ClassRef':$t,'execute':(_0x21a41f,_0xdb5f84)=>B[_0x20789b(0x500)](_0x21a41f,_0xdb5f84)});return _0x2050be['status'](0xc9)['json'](_0x5a4a3e);})[_0x56e981(0x5bc)](this[_0x56e981(0x5f2)]('sendWhatsAppAudio'),..._0x244cc7,async(_0x73f549,_0x1901a0)=>{const _0xce5ee1=_0x56e981;let _0x199067=await this[_0xce5ee1(0x5e5)]({'request':_0x73f549,'schema':Ga,'ClassRef':Fe,'execute':(_0xff2712,_0x5939cd)=>B['sendWhatsAppAudio'](_0xff2712,_0x5939cd)});return _0x1901a0[_0xce5ee1(0x730)](0xc9)[_0xce5ee1(0x446)](_0x199067);})[_0x56e981(0x5bc)](this[_0x56e981(0x5f2)](_0x56e981(0x78d)),..._0x244cc7,async(_0x5ca306,_0x27c4f7)=>{const _0x140928=_0x56e981;let _0xbebd8c=await this['dataValidate']({'request':_0x5ca306,'schema':za,'ClassRef':At,'execute':(_0x41d62f,_0x57b04c)=>B[_0x140928(0x78d)](_0x41d62f,_0x57b04c)});return _0x27c4f7[_0x140928(0x730)](0xc9)[_0x140928(0x446)](_0xbebd8c);})['post'](this[_0x56e981(0x5f2)](_0x56e981(0x5bd)),..._0x244cc7,async(_0x136871,_0x20c186)=>{const _0x2c0805=_0x56e981;let _0x2e942d=await this[_0x2c0805(0x5e5)]({'request':_0x136871,'schema':Ha,'ClassRef':Tt,'execute':(_0xd4d13a,_0x21c875)=>B[_0x2c0805(0x5bd)](_0xd4d13a,_0x21c875)});return _0x20c186[_0x2c0805(0x730)](0xc9)[_0x2c0805(0x446)](_0x2e942d);})[_0x56e981(0x5bc)](this[_0x56e981(0x5f2)](_0x56e981(0x237)),..._0x244cc7,async(_0x4e3f3f,_0x2c73fc)=>{const _0x150ec1=_0x56e981;let _0x2b2aa8=await this['dataValidate']({'request':_0x4e3f3f,'schema':Ka,'ClassRef':It,'execute':(_0x86eeec,_0x3ccc6f)=>B[_0x150ec1(0x237)](_0x86eeec,_0x3ccc6f)});return _0x2c73fc[_0x150ec1(0x730)](0xc9)[_0x150ec1(0x446)](_0x2b2aa8);})['post'](this[_0x56e981(0x5f2)](_0x56e981(0x79a)),..._0x244cc7,async(_0x2bff57,_0x5b2ee9)=>{const _0x3f728e=_0x56e981;let _0x35c4ce=await this[_0x3f728e(0x5e5)]({'request':_0x2bff57,'schema':Qa,'ClassRef':_t,'execute':(_0x80b034,_0x388443)=>B['sendReaction'](_0x80b034,_0x388443)});return _0x5b2ee9[_0x3f728e(0x730)](0xc9)[_0x3f728e(0x446)](_0x35c4ce);})[_0x56e981(0x5bc)](this[_0x56e981(0x5f2)]('sendPoll'),..._0x244cc7,async(_0x2db8e2,_0x5ee078)=>{const _0x1e5d4a=_0x56e981;let _0x5c74c9=await this['dataValidate']({'request':_0x2db8e2,'schema':Ba,'ClassRef':Nt,'execute':(_0x4db603,_0x4884a6)=>B[_0x1e5d4a(0x75d)](_0x4db603,_0x4884a6)});return _0x5ee078[_0x1e5d4a(0x730)](0xc9)[_0x1e5d4a(0x446)](_0x5c74c9);})[_0x56e981(0x5bc)](this[_0x56e981(0x5f2)](_0x56e981(0x89b)),..._0x244cc7,async(_0x427115,_0x3ec188)=>{const _0x59e314=_0x56e981;let _0x231e8b=await this['dataValidate']({'request':_0x427115,'schema':qa,'ClassRef':Et,'execute':(_0x56c796,_0x46b092)=>B['sendStatus'](_0x56c796,_0x46b092)});return _0x3ec188[_0x59e314(0x730)](0xc9)[_0x59e314(0x446)](_0x231e8b);})[_0x56e981(0x5bc)](this[_0x56e981(0x5f2)](_0x56e981(0x6a1)),..._0x244cc7,async(_0x228272,_0x1f5c29)=>{const _0x298869=_0x56e981;let _0x3618be=await this[_0x298869(0x5e5)]({'request':_0x228272,'schema':Ja,'ClassRef':Rt,'execute':(_0x33e01a,_0x284a50)=>B[_0x298869(0x6a1)](_0x33e01a,_0x284a50)});return _0x1f5c29['status'](0xc9)[_0x298869(0x446)](_0x3618be);});}},Mi=require(a0_0x1c66d9(0x834)),xt=class{},Pt=class extends V{constructor(..._0x48dd9d){const _0x38b799=a0_0x1c66d9;super(),this[_0x38b799(0x5ea)]=(0x0,Mi[_0x38b799(0x7e5)])(),this[_0x38b799(0x5ea)][_0x38b799(0x5bc)](this[_0x38b799(0x5f2)](_0x38b799(0x6c9)),..._0x48dd9d,async(_0x2649d6,_0x392444)=>{const _0x50a39d=_0x38b799;let _0x384b86=await this['dataValidate']({'request':_0x2649d6,'schema':fi,'ClassRef':xt,'execute':(_0x3f7e8e,_0x208ff0)=>Os[_0x50a39d(0x3e1)](_0x3f7e8e,_0x208ff0)});_0x392444[_0x50a39d(0x730)](0xc9)[_0x50a39d(0x446)](_0x384b86);})[_0x38b799(0x7b4)](this[_0x38b799(0x5f2)]('find'),..._0x48dd9d,async(_0x2bccfa,_0x2abd1a)=>{const _0x37dff8=_0x38b799;let _0x3bc800=await this[_0x37dff8(0x5e5)]({'request':_0x2bccfa,'schema':E,'ClassRef':M,'execute':_0x4ee03a=>Os[_0x37dff8(0x7b2)](_0x4ee03a)});_0x2abd1a['status'](0xc8)[_0x37dff8(0x446)](_0x3bc800);});}},Ci=require(a0_0x1c66d9(0x834)),y=new $(a0_0x1c66d9(0x38e)),Dt=class extends V{constructor(..._0x440412){const _0x1a9b2e=a0_0x1c66d9;super(),this['router']=(0x0,Ci['Router'])(),this['router'][_0x1a9b2e(0x5bc)](this['routerPath'](_0x1a9b2e(0x64b)),..._0x440412,async(_0x264b0f,_0x51753f)=>{const _0xa27053=_0x1a9b2e;let _0x7f533=_0x264b0f[_0xa27053(0x452)];y['verbose'](_0xa27053(0x69f)),y[_0xa27053(0x3ad)](_0xa27053(0x315)),y['verbose'](_0x264b0f[_0xa27053(0x452)]);let _0x2efc4d=await this[_0xa27053(0x5e5)]({'request':_0x264b0f,'schema':E,'ClassRef':M,'execute':_0x3de715=>_[_0xa27053(0x8b5)](_0x3de715,_0x7f533)});_0x51753f[_0xa27053(0x730)](0xc8)[_0xa27053(0x446)](_0x2efc4d);})[_0x1a9b2e(0x7b4)](this[_0x1a9b2e(0x5f2)](_0x1a9b2e(0x64b)),..._0x440412,async(_0x13db0a,_0x5207d5)=>{const _0x30fc43=_0x1a9b2e;let _0x2be1f6=await this[_0x30fc43(0x5e5)]({'request':_0x13db0a,'schema':E,'ClassRef':M,'execute':_0x20abdb=>_[_0x30fc43(0x859)](_0x20abdb)});_0x5207d5[_0x30fc43(0x730)](0xc8)[_0x30fc43(0x446)](_0x2be1f6);})['delete'](this[_0x1a9b2e(0x5f2)](_0x1a9b2e(0x603)),..._0x440412,async(_0x5eb4e1,_0x45cdd1)=>{const _0x2f64fe=_0x1a9b2e;y[_0x2f64fe(0x3ad)](_0x2f64fe(0x5d7));let _0x2539f0=await this[_0x2f64fe(0x5e5)]({'request':_0x5eb4e1,'schema':E,'ClassRef':M,'execute':_0x7124a1=>_[_0x2f64fe(0x603)](_0x7124a1)});_0x45cdd1['status'](0xc8)['json'](_0x2539f0);})[_0x1a9b2e(0x2a3)](this[_0x1a9b2e(0x5f2)](_0x1a9b2e(0x4e2)),..._0x440412,async(_0x42d380,_0x10e606)=>{const _0x2f606c=_0x1a9b2e;y[_0x2f606c(0x3ad)](_0x2f606c(0x6b8));let _0x2697f5=await this[_0x2f606c(0x5e5)]({'request':_0x42d380,'schema':E,'ClassRef':M,'execute':_0x270f9a=>_[_0x2f606c(0x4e2)](_0x270f9a)});_0x10e606[_0x2f606c(0x730)](0xc8)['json'](_0x2697f5);})[_0x1a9b2e(0x5bc)](this[_0x1a9b2e(0x5f2)](_0x1a9b2e(0x6b9)),..._0x440412,async(_0x4833ff,_0x319c91)=>{const _0x4b73f3=_0x1a9b2e;let _0x3bf9e2=_0x4833ff[_0x4b73f3(0x452)];y[_0x4b73f3(0x3ad)](_0x4b73f3(0x430)),y[_0x4b73f3(0x3ad)](_0x4b73f3(0x315)),y[_0x4b73f3(0x3ad)](_0x4833ff[_0x4b73f3(0x452)]);let _0x55a2a8=await this[_0x4b73f3(0x5e5)]({'request':_0x4833ff,'schema':E,'ClassRef':M,'execute':_0x1f8307=>_[_0x4b73f3(0x6b9)](_0x1f8307,_0x3bf9e2)});_0x319c91[_0x4b73f3(0x730)](0xc8)[_0x4b73f3(0x446)](_0x55a2a8);})['get'](this[_0x1a9b2e(0x5f2)](_0x1a9b2e(0x555)),..._0x440412,async(_0x401365,_0x470c6f)=>{const _0x5d1967=_0x1a9b2e;y[_0x5d1967(0x3ad)](_0x5d1967(0x871));let _0x2aaf8e=await this[_0x5d1967(0x5e5)]({'request':_0x401365,'schema':E,'ClassRef':M,'execute':_0x3ac9dd=>_[_0x5d1967(0x555)](_0x3ac9dd)});_0x470c6f[_0x5d1967(0x730)](0xc8)['json'](_0x2aaf8e);})[_0x1a9b2e(0x7b4)](this[_0x1a9b2e(0x5f2)]('getTicketSystem'),..._0x440412,async(_0x3b9665,_0x2af07b)=>{const _0x25080a=_0x1a9b2e;y['verbose'](_0x25080a(0x177));let _0x3d55f8=await this[_0x25080a(0x5e5)]({'request':_0x3b9665,'schema':E,'ClassRef':M,'execute':_0xd601d=>_['getAutomateSystem'](_0xd601d)});_0x2af07b[_0x25080a(0x730)](0xc8)[_0x25080a(0x446)](_0x3d55f8);})[_0x1a9b2e(0x5bc)](this['routerPath'](_0x1a9b2e(0x5d5)),..._0x440412,async(_0xf9a040,_0x24186b)=>{const _0x521d0b=_0x1a9b2e;let _0x48292c=_0xf9a040[_0x521d0b(0x452)];y[_0x521d0b(0x3ad)](_0x521d0b(0x886)),y[_0x521d0b(0x3ad)](_0x521d0b(0x315)),y[_0x521d0b(0x3ad)](_0xf9a040[_0x521d0b(0x452)]);let _0x3ca4eb=await this[_0x521d0b(0x5e5)]({'request':_0xf9a040,'schema':E,'ClassRef':M,'execute':_0x51ff72=>_[_0x521d0b(0x5d5)](_0x51ff72,_0x48292c)});_0x24186b[_0x521d0b(0x730)](0xc8)[_0x521d0b(0x446)](_0x3ca4eb);})[_0x1a9b2e(0x5bc)](this['routerPath'](_0x1a9b2e(0x5c9)),..._0x440412,async(_0x525f7f,_0x424580)=>{const _0x283a45=_0x1a9b2e;let _0x266447=_0x525f7f[_0x283a45(0x452)];y[_0x283a45(0x3ad)](_0x283a45(0x208)),y[_0x283a45(0x3ad)](_0x283a45(0x315)),y[_0x283a45(0x3ad)](_0x525f7f['body']);let _0xff219a=await this[_0x283a45(0x5e5)]({'request':_0x525f7f,'schema':E,'ClassRef':M,'execute':_0x255ac4=>_['updateCustomFields'](_0x255ac4,_0x266447)});_0x424580[_0x283a45(0x730)](0xc8)['json'](_0xff219a);})[_0x1a9b2e(0x5bc)](this[_0x1a9b2e(0x5f2)]('updateAutoCompleteMessages'),..._0x440412,async(_0x2687aa,_0x16bfee)=>{const _0x13cc04=_0x1a9b2e;let _0x193309=_0x2687aa[_0x13cc04(0x452)];y[_0x13cc04(0x3ad)]('request\x20received\x20in\x20updateAutoCompleteMessages'),y[_0x13cc04(0x3ad)](_0x13cc04(0x315)),y[_0x13cc04(0x3ad)](_0x2687aa[_0x13cc04(0x452)]);let _0xcbd686=await this['dataValidate']({'request':_0x2687aa,'schema':E,'ClassRef':M,'execute':_0x1afce2=>_[_0x13cc04(0x7bb)](_0x1afce2,_0x193309)});_0x16bfee[_0x13cc04(0x730)](0xc8)[_0x13cc04(0x446)](_0xcbd686);})[_0x1a9b2e(0x5bc)](this[_0x1a9b2e(0x5f2)](_0x1a9b2e(0x615)),..._0x440412,async(_0x547068,_0x1c4cde)=>{const _0x3590bf=_0x1a9b2e;let _0x17ac98=_0x547068[_0x3590bf(0x452)];y[_0x3590bf(0x3ad)](_0x3590bf(0x890)),y[_0x3590bf(0x3ad)](_0x3590bf(0x315)),y[_0x3590bf(0x3ad)](_0x547068[_0x3590bf(0x452)]);let _0xc49294=await this[_0x3590bf(0x5e5)]({'request':_0x547068,'schema':E,'ClassRef':M,'execute':_0xc29750=>_['updateFlowConfig'](_0xc29750,_0x17ac98)});_0x1c4cde[_0x3590bf(0x730)](0xc8)[_0x3590bf(0x446)](_0xc49294);})[_0x1a9b2e(0x5bc)](this[_0x1a9b2e(0x5f2)]('getConversation'),..._0x440412,async(_0x207b3d,_0x110b07)=>{const _0x2b28e5=_0x1a9b2e;let _0x1f05b0=_0x207b3d[_0x2b28e5(0x452)];y[_0x2b28e5(0x3ad)](_0x2b28e5(0x7b3)),y['verbose'](_0x2b28e5(0x315)),y['verbose'](_0x207b3d['body']);let _0x490831=await this[_0x2b28e5(0x5e5)]({'request':_0x207b3d,'schema':E,'ClassRef':M,'execute':_0xa7a4f9=>_[_0x2b28e5(0x229)](_0xa7a4f9,_0x1f05b0)});_0x110b07[_0x2b28e5(0x730)](0xc8)[_0x2b28e5(0x446)](_0x490831);})[_0x1a9b2e(0x5bc)](this[_0x1a9b2e(0x5f2)](_0x1a9b2e(0x8a4)),..._0x440412,async(_0x340325,_0x15b165)=>{const _0x381ab9=_0x1a9b2e;let _0xe89a91=_0x340325[_0x381ab9(0x452)];y[_0x381ab9(0x3ad)](_0x381ab9(0x803)),y[_0x381ab9(0x3ad)](_0x381ab9(0x315)),y[_0x381ab9(0x3ad)](_0x340325[_0x381ab9(0x452)]);let _0x5afbe8=await this[_0x381ab9(0x5e5)]({'request':_0x340325,'schema':E,'ClassRef':M,'execute':_0x39c89f=>_['fetchConversation'](_0x39c89f,_0xe89a91)});_0x15b165['status'](0xc8)[_0x381ab9(0x446)](_0x5afbe8);})['post'](this[_0x1a9b2e(0x5f2)](_0x1a9b2e(0x60b)),..._0x440412,async(_0x4e77d7,_0x4b8178)=>{const _0x31ab99=_0x1a9b2e;let _0x5c3bcb=_0x4e77d7[_0x31ab99(0x452)];y[_0x31ab99(0x3ad)](_0x31ab99(0x88b)),y[_0x31ab99(0x3ad)]('request\x20body:\x20'),y[_0x31ab99(0x3ad)](_0x4e77d7['body']);let _0x5cb9f1=await this[_0x31ab99(0x5e5)]({'request':_0x4e77d7,'schema':E,'ClassRef':M,'execute':_0x4ce363=>_[_0x31ab99(0x60b)](_0x4ce363,_0x5c3bcb)});_0x4b8178[_0x31ab99(0x730)](0xc8)[_0x31ab99(0x446)](_0x5cb9f1);})[_0x1a9b2e(0x2a3)](this[_0x1a9b2e(0x5f2)](_0x1a9b2e(0x7b8)),..._0x440412,async(_0x58e8b1,_0x391659)=>{const _0x3c0fc8=_0x1a9b2e;let _0x3e9c02=_0x58e8b1[_0x3c0fc8(0x452)];y[_0x3c0fc8(0x3ad)]('request\x20received\x20in\x20deleteConversation'),y['verbose'](_0x3c0fc8(0x315)),y[_0x3c0fc8(0x3ad)](_0x58e8b1[_0x3c0fc8(0x452)]);let _0x157732=await this[_0x3c0fc8(0x5e5)]({'request':_0x58e8b1,'schema':E,'ClassRef':M,'execute':_0x13113a=>_[_0x3c0fc8(0x7b8)](_0x13113a,_0x3e9c02)});_0x391659[_0x3c0fc8(0x730)](0xc8)[_0x3c0fc8(0x446)](_0x157732);})[_0x1a9b2e(0x5bc)](this[_0x1a9b2e(0x5f2)](_0x1a9b2e(0x5f5)),..._0x440412,async(_0x29bfc3,_0x40d445)=>{const _0x477518=_0x1a9b2e;let _0x303e8a=_0x29bfc3['body'],_0x31c6b1=_0x29bfc3[_0x477518(0x778)]['apikey'];y[_0x477518(0x3ad)](_0x477518(0x392)),y[_0x477518(0x3ad)]('request\x20body:\x20'),y[_0x477518(0x3ad)](_0x29bfc3[_0x477518(0x452)]);let _0xef8141=await this[_0x477518(0x5e5)]({'request':_0x29bfc3,'schema':E,'ClassRef':M,'execute':_0x5b496a=>_[_0x477518(0x7c2)](_0x5b496a,_0x303e8a,_0x31c6b1)});_0x40d445[_0x477518(0x730)](0xc8)[_0x477518(0x446)](_0xef8141);})['post'](this[_0x1a9b2e(0x5f2)](_0x1a9b2e(0x577)),..._0x440412,async(_0x1eaf15,_0xdd14e8)=>{const _0x3ebb75=_0x1a9b2e;let _0x376171=_0x1eaf15[_0x3ebb75(0x452)],_0xefcf07=_0x1eaf15[_0x3ebb75(0x778)][_0x3ebb75(0x375)];y[_0x3ebb75(0x3ad)](_0x3ebb75(0x18a)),y[_0x3ebb75(0x3ad)]('request\x20body:\x20'),y[_0x3ebb75(0x3ad)](_0x1eaf15['body']),delete _0x376171[_0x3ebb75(0x736)],delete _0x376171[_0x3ebb75(0x20d)],delete _0x376171[_0x3ebb75(0x1f4)],delete _0x376171[_0x3ebb75(0x5c5)];let _0x3ef9ac=await this[_0x3ebb75(0x5e5)]({'request':_0x1eaf15,'schema':E,'ClassRef':M,'execute':_0x1d5391=>_['editFlow'](_0x1d5391,_0x376171,_0xefcf07)});_0xdd14e8[_0x3ebb75(0x730)](0xc8)[_0x3ebb75(0x446)](_0x3ef9ac);})['post'](this['routerPath'](_0x1a9b2e(0x4a9)),..._0x440412,async(_0x4c1045,_0x50bbb6)=>{const _0x40b0c8=_0x1a9b2e;let _0x1e2a3e=_0x4c1045[_0x40b0c8(0x452)];y[_0x40b0c8(0x3ad)]('request\x20received\x20in\x20editFlow'),y[_0x40b0c8(0x3ad)](_0x40b0c8(0x315)),y['verbose'](_0x4c1045['body']);let _0x2d8b70=await this[_0x40b0c8(0x5e5)]({'request':_0x4c1045,'schema':E,'ClassRef':M,'execute':_0x394575=>_['editFlowBlock'](_0x394575,_0x1e2a3e)});_0x50bbb6[_0x40b0c8(0x730)](0xc8)['json'](_0x2d8b70);})[_0x1a9b2e(0x5bc)](this[_0x1a9b2e(0x5f2)]('editflowreply'),..._0x440412,async(_0x319338,_0x44173e)=>{const _0x67bd45=_0x1a9b2e;let _0x4ec2e0=_0x319338['body'];y[_0x67bd45(0x3ad)](_0x67bd45(0x18a)),y['verbose'](_0x67bd45(0x315)),y[_0x67bd45(0x3ad)](_0x319338['body']);let _0x2de180=await this['dataValidate']({'request':_0x319338,'schema':E,'ClassRef':M,'execute':_0x15e0c7=>_[_0x67bd45(0x3fd)](_0x15e0c7,_0x4ec2e0)});_0x44173e[_0x67bd45(0x730)](0xc8)['json'](_0x2de180);})[_0x1a9b2e(0x5bc)](this[_0x1a9b2e(0x5f2)](_0x1a9b2e(0x498)),..._0x440412,async(_0x5de7ff,_0xfc2387)=>{const _0x3053a3=_0x1a9b2e;let _0x49cd6b=_0x5de7ff[_0x3053a3(0x452)];y[_0x3053a3(0x3ad)]('request\x20received\x20in\x20editFlow'),y[_0x3053a3(0x3ad)]('request\x20body:\x20'),y[_0x3053a3(0x3ad)](_0x5de7ff[_0x3053a3(0x452)]);let _0x8db970=await this[_0x3053a3(0x5e5)]({'request':_0x5de7ff,'schema':E,'ClassRef':M,'execute':_0x205070=>_[_0x3053a3(0x2e5)](_0x205070,_0x49cd6b)});_0xfc2387[_0x3053a3(0x730)](0xc8)[_0x3053a3(0x446)](_0x8db970);})[_0x1a9b2e(0x5bc)](this[_0x1a9b2e(0x5f2)](_0x1a9b2e(0x506)),..._0x440412,async(_0x696ffe,_0x565c06)=>{const _0x289154=_0x1a9b2e;let _0x10725d=_0x696ffe[_0x289154(0x452)];y['verbose'](_0x289154(0x784)),y['verbose']('request\x20body:\x20'),y[_0x289154(0x3ad)](_0x696ffe[_0x289154(0x452)]);let _0xc7ed9=await this['dataValidate']({'request':_0x696ffe,'schema':E,'ClassRef':M,'execute':_0x6bd755=>_[_0x289154(0x37a)](_0x6bd755,_0x10725d)});_0x565c06['status'](0xc8)[_0x289154(0x446)](_0xc7ed9);})['post'](this['routerPath'](_0x1a9b2e(0x3a5)),..._0x440412,async(_0xaf68a5,_0x3a0a9d)=>{const _0x4c63ad=_0x1a9b2e;let _0x454d02=_0xaf68a5['body'];y['verbose'](_0x4c63ad(0x56b)),y['verbose'](_0x4c63ad(0x315)),y[_0x4c63ad(0x3ad)](_0xaf68a5[_0x4c63ad(0x452)]);let _0x3c457b=await this[_0x4c63ad(0x5e5)]({'request':_0xaf68a5,'schema':E,'ClassRef':M,'execute':_0x5ef957=>_[_0x4c63ad(0x4c5)](_0x5ef957,_0x454d02)});_0x3a0a9d[_0x4c63ad(0x730)](0xc8)[_0x4c63ad(0x446)](_0x3c457b);})[_0x1a9b2e(0x5bc)](this[_0x1a9b2e(0x5f2)](_0x1a9b2e(0x4dc)),..._0x440412,async(_0xc7c3d3,_0x29c978)=>{const _0x180edd=_0x1a9b2e;let _0x545fda=_0xc7c3d3['body'];y[_0x180edd(0x3ad)](_0x180edd(0x559)),y['verbose'](_0x180edd(0x315)),y[_0x180edd(0x3ad)](_0xc7c3d3[_0x180edd(0x452)]);let _0x10c1cd=await this[_0x180edd(0x5e5)]({'request':_0xc7c3d3,'schema':E,'ClassRef':M,'execute':_0x14bcf1=>_[_0x180edd(0x83b)](_0x14bcf1,_0x545fda)});_0x29c978[_0x180edd(0x730)](0xc8)[_0x180edd(0x446)](_0x10c1cd);})[_0x1a9b2e(0x5bc)](this['routerPath'](_0x1a9b2e(0x2bf)),..._0x440412,async(_0x15744c,_0x549d23)=>{const _0x45b482=_0x1a9b2e;let _0x5ee867=_0x15744c[_0x45b482(0x452)];y[_0x45b482(0x3ad)](_0x45b482(0x26f)),y['verbose'](_0x45b482(0x315)),y[_0x45b482(0x3ad)](_0x15744c[_0x45b482(0x452)]);let _0x32fd15=await this[_0x45b482(0x5e5)]({'request':_0x15744c,'schema':E,'ClassRef':M,'execute':_0x39753e=>_[_0x45b482(0x5df)](_0x39753e,_0x5ee867)});_0x549d23[_0x45b482(0x730)](0xc8)['json'](_0x32fd15);})['delete'](this[_0x1a9b2e(0x5f2)]('deleteflow'),..._0x440412,async(_0x3ded18,_0x5d3322)=>{const _0x2d17ee=_0x1a9b2e;let _0x3389f7=_0x3ded18[_0x2d17ee(0x452)];y['verbose'](_0x2d17ee(0x259)),y['verbose'](_0x2d17ee(0x315)),y['verbose'](_0x3ded18[_0x2d17ee(0x452)]);let _0x595237=await this[_0x2d17ee(0x5e5)]({'request':_0x3ded18,'schema':E,'ClassRef':M,'execute':_0x22db6c=>_['deleteFlow'](_0x22db6c,_0x3389f7)});_0x5d3322[_0x2d17ee(0x730)](0xc8)[_0x2d17ee(0x446)](_0x595237);})[_0x1a9b2e(0x7b4)](this[_0x1a9b2e(0x5f2)](_0x1a9b2e(0x25a)),..._0x440412,async(_0x36e029,_0x4afa91)=>{const _0x50d8f4=_0x1a9b2e;y[_0x50d8f4(0x3ad)](_0x50d8f4(0x358));let _0x70d634=await this[_0x50d8f4(0x5e5)]({'request':_0x36e029,'schema':E,'ClassRef':M,'execute':_0x2bfa4b=>_[_0x50d8f4(0x41a)](_0x2bfa4b)});_0x4afa91[_0x50d8f4(0x730)](0xc8)[_0x50d8f4(0x446)](_0x70d634);});}},$i=I(require('path')),te={};function vi(_0x574ee9,_0x350bf0,_0x1a616b,_0x98189f){te[_0x574ee9]||(te[_0x574ee9]={}),te[_0x574ee9][_0x350bf0]={'id':_0x350bf0,'response':_0x1a616b,'events':_0x98189f};}function Ei(_0xbdb865,_0x3a36cb){!te[_0xbdb865]||!te[_0xbdb865][_0x3a36cb]||delete te[_0xbdb865][_0x3a36cb];}function F(_0x2f921a,_0x5b0985,_0x33878b){const _0x3601ff=a0_0x1c66d9;if(!te[_0x2f921a])return;let _0x4cd473=_0x3601ff(0x213)+JSON[_0x3601ff(0x8cd)](_0x33878b)+'\x0a\x0a';Object[_0x3601ff(0x847)](te[_0x2f921a])[_0x3601ff(0x8bf)](_0x4baf76=>{const _0x15aa89=_0x3601ff;_0x4baf76[_0x15aa89(0x581)][_0x15aa89(0x1e1)](_0x5b0985)&&_0x4baf76['response'][_0x15aa89(0x562)](_0x4cd473);});}function Ni(){const _0x568865=a0_0x1c66d9;let _0x373078={};for(let _0x298d45 in te)_0x373078[_0x298d45]=Object[_0x568865(0x847)](te[_0x298d45])[_0x568865(0x521)](_0x1f2e2a=>({'id':_0x1f2e2a['id'],'events':_0x1f2e2a[_0x568865(0x581)]}));return _0x373078;}var Ri=require(a0_0x1c66d9(0x3cd)),Ps=require(a0_0x1c66d9(0x6f7)),xs=class{},Oo=new Ps['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),xo=new Ps[(a0_0x1c66d9(0x1f6))]({'_id':{'type':String,'default':'config'},'WebhookGlobal':{'type':Oo},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Ne=T?.['model'](xs['name'],xo,a0_0x1c66d9(0x28a)),Po=$i[a0_0x1c66d9(0x77c)][a0_0x1c66d9(0x552)](__dirname,a0_0x1c66d9(0x751)),Ue=(0x0,kt['Router'])(),Do=S[a0_0x1c66d9(0x7b4)]('AUTHENTICATION')[a0_0x1c66d9(0x714)],oe=[xa,Pa,La[Do]];Ue[a0_0x1c66d9(0x48d)](a0_0x1c66d9(0x3c4),kt[a0_0x1c66d9(0x77c)]['static'](Po))['get'](a0_0x1c66d9(0x55f),async(_0x1e663c,_0x1c7d1d)=>{const _0x1c9d8f=a0_0x1c66d9;console[_0x1c9d8f(0x19c)]('bateu\x20events');let _0x513203=_0x1e663c[_0x1c9d8f(0x4cc)][_0x1c9d8f(0x401)],_0xfeb898=(_0x1e663c[_0x1c9d8f(0x6b2)][_0x1c9d8f(0x581)]||'')[_0x1c9d8f(0x444)](','),_0x4b80cf=(0x0,Ri['v4'])();console[_0x1c9d8f(0x19c)](_0x1c9d8f(0x4db),_0x513203),console['log']('Subscribed\x20Events:',_0xfeb898);let _0x5570f7=S[_0x1c9d8f(0x7b4)]('AUTHENTICATION')[_0x1c9d8f(0x2be)],_0x5c001b=_0x1e663c[_0x1c9d8f(0x6b2)][_0x1c9d8f(0x375)];if(console['log']('API\x20Key\x20from\x20Request:',_0x5c001b),_0x5570f7[_0x1c9d8f(0x65a)]!==_0x5c001b){console[_0x1c9d8f(0x19c)]('env.KEY\x20!==\x20key');try{let _0x1bf8d6=await we[_0x1c9d8f(0x3c8)][_0x1c9d8f(0x705)](_0x513203);if(console[_0x1c9d8f(0x19c)]('Instance\x20Key\x20from\x20DB:',_0x1bf8d6),!_0x1bf8d6||_0x1bf8d6['apikey']!==_0x5c001b)return console['log'](_0x1c9d8f(0x481)),_0x1c7d1d[_0x1c9d8f(0x730)](0x191)['send'](_0x1c9d8f(0x43a));}catch(_0x22aaf0){return console[_0x1c9d8f(0x456)](_0x1c9d8f(0x720),_0x22aaf0),_0x1c7d1d[_0x1c9d8f(0x730)](0x191)[_0x1c9d8f(0x1b5)](_0x1c9d8f(0x58c));}}if(!await Pe(_0x513203))return _0x1c7d1d[_0x1c9d8f(0x730)](0x194)['send']('Instância\x20não\x20encontrada.');_0x1c7d1d[_0x1c9d8f(0x5a9)](_0x1c9d8f(0x7c4),'text/event-stream'),_0x1c7d1d['setHeader']('Cache-Control',_0x1c9d8f(0x804)),_0x1c7d1d['setHeader'](_0x1c9d8f(0x630),_0x1c9d8f(0x6b6)),_0x1c7d1d['flushHeaders']();let _0x23f00b=_0x1c9d8f(0x213)+JSON[_0x1c9d8f(0x8cd)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x1c7d1d[_0x1c9d8f(0x562)](_0x23f00b),vi(_0x513203,_0x4b80cf,_0x1c7d1d,_0xfeb898),_0x1e663c['on']('close',()=>{const _0x249dcc=_0x1c9d8f;console[_0x249dcc(0x19c)](_0x249dcc(0x19a)+_0x513203),Ei(_0x513203,_0x4b80cf);});}),Ue[a0_0x1c66d9(0x5bc)]('/startFlow/:instance/:startID',async(_0x23780e,_0x45970c)=>{const _0x27b3d3=a0_0x1c66d9;console[_0x27b3d3(0x19c)](_0x27b3d3(0x6af));let _0x538962=_0x23780e[_0x27b3d3(0x4cc)][_0x27b3d3(0x401)],_0x4ea110=_0x23780e[_0x27b3d3(0x4cc)][_0x27b3d3(0x4f6)],_0x386658=_0x23780e[_0x27b3d3(0x6b2)][_0x27b3d3(0x328)]||'',_0x2e0d04=_0x23780e[_0x27b3d3(0x452)];console[_0x27b3d3(0x19c)](_0x27b3d3(0x86a),_0x538962),console[_0x27b3d3(0x19c)](_0x27b3d3(0x8d7),_0x4ea110),console[_0x27b3d3(0x19c)]('RemoteJid:',_0x386658),console[_0x27b3d3(0x19c)](_0x27b3d3(0x780),_0x2e0d04);try{if(!await Pe(_0x538962))return _0x45970c[_0x27b3d3(0x730)](0x194)[_0x27b3d3(0x1b5)](_0x27b3d3(0x371));let _0x1f0423=await _[_0x27b3d3(0x5ee)](_0x538962,_0x4ea110,_0x386658,_0x2e0d04);_0x45970c[_0x27b3d3(0x1b5)](_0x1f0423);}catch(_0x233f65){console['error'](_0x233f65),_0x45970c[_0x27b3d3(0x730)](0x1f4)[_0x27b3d3(0x1b5)](_0x27b3d3(0x39a));}}),Ue[a0_0x1c66d9(0x7b4)]('/clients-info',(_0x3255ee,_0xc08882)=>{let _0x58fb5f=Ni();_0xc08882['json'](_0x58fb5f);})[a0_0x1c66d9(0x7b4)]('/',(_0x6dc012,_0x39d6ed)=>{const _0xc4aea=a0_0x1c66d9;let _0x2e15b1=S[_0xc4aea(0x7b4)](_0xc4aea(0x1f0))['URL'];if(_0x2e15b1){let _0x54ba80=encodeURIComponent(''+_0x2e15b1);_0x39d6ed['redirect'](_0xc4aea(0x8e1)+_0x54ba80);return;}let _0x36f0ec=S[_0xc4aea(0x7b4)](_0xc4aea(0x361)),_0x8b9a00=_0x36f0ec&&_0x36f0ec[_0xc4aea(0x5eb)]['split']('/')[0x4];if(_0x8b9a00){let _0x23c66d=encodeURIComponent(_0xc4aea(0x30c)+_0x8b9a00);_0x39d6ed[_0xc4aea(0x595)](_0xc4aea(0x8e1)+_0x23c66d);}else _0x39d6ed[_0xc4aea(0x595)]('https://uazapi-plugin.bubbleapps.io/');})[a0_0x1c66d9(0x4ab)](a0_0x1c66d9(0x2d6),...oe,async(_0x1ce911,_0x38e309)=>{const _0x4d92c4=a0_0x1c66d9;try{console[_0x4d92c4(0x19c)](_0x4d92c4(0x716)),_0x38e309[_0x4d92c4(0x730)](0xc8)['json']({'message':_0x4d92c4(0x7d6)}),_0x38e309['on'](_0x4d92c4(0x680),()=>process[_0x4d92c4(0x48a)](0x0));}catch(_0x1ce824){console['error']('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x1ce824),_0x38e309[_0x4d92c4(0x730)](0x1f4)['json']({'message':_0x4d92c4(0x77a)});}})['put'](a0_0x1c66d9(0x438),...oe,async(_0x2b7fd1,_0x9ee340)=>{const _0x5d14fc=a0_0x1c66d9;try{let _0x37392d=_0x2b7fd1[_0x5d14fc(0x452)];await Ne[_0x5d14fc(0x2cd)]({},{'$set':_0x37392d},{'upsert':!0x0});let _0x419e37=await Ne[_0x5d14fc(0x44a)]();_0x9ee340[_0x5d14fc(0x446)](_0x419e37);}catch(_0x3b264e){_0x9ee340[_0x5d14fc(0x730)](0x190)[_0x5d14fc(0x1b5)](_0x3b264e['message']);}})['get'](a0_0x1c66d9(0x438),...oe,async(_0xcbdd03,_0x245691)=>{const _0x598029=a0_0x1c66d9;try{let _0x3f6d63=await Ne['findOne']();if(!_0x3f6d63)return _0x245691[_0x598029(0x446)]({});_0x245691[_0x598029(0x446)](_0x3f6d63);}catch(_0x2e642a){_0x245691[_0x598029(0x730)](0x1f4)[_0x598029(0x1b5)](_0x2e642a[_0x598029(0x18c)]);}})['use'](a0_0x1c66d9(0x427),new Ct(S,...oe)[a0_0x1c66d9(0x5ea)])[a0_0x1c66d9(0x48d)](a0_0x1c66d9(0x768),new Ot(...oe)[a0_0x1c66d9(0x5ea)])[a0_0x1c66d9(0x48d)](a0_0x1c66d9(0x59a),new pt(...oe)[a0_0x1c66d9(0x5ea)])[a0_0x1c66d9(0x48d)]('/group',new Mt(...oe)[a0_0x1c66d9(0x5ea)])['use']('/webhook',new Pt(...oe)[a0_0x1c66d9(0x5ea)])[a0_0x1c66d9(0x48d)]('/automate',new Dt(...oe)[a0_0x1c66d9(0x5ea)]);var m=class{constructor(..._0x49df7d){const _0x3f8001=a0_0x1c66d9;throw{'status':0x190,'error':_0x3f8001(0x3d6),'message':_0x49df7d['length']>0x0?_0x49df7d:void 0x0};}},ae=class{constructor(..._0x5b9cf5){const _0x16b34d=a0_0x1c66d9;throw{'status':0x191,'error':_0x16b34d(0x7fe),'message':_0x5b9cf5[_0x16b34d(0x844)]>0x0?_0x5b9cf5:void 0x0};}},X=class{constructor(..._0x554b01){const _0x5c0745=a0_0x1c66d9;throw{'status':0x193,'error':_0x5c0745(0x811),'message':_0x554b01[_0x5c0745(0x844)]>0x0?_0x554b01:void 0x0};}},U=class{constructor(..._0x365a73){const _0x37706c=a0_0x1c66d9;throw{'status':0x194,'error':_0x37706c(0x319),'message':_0x365a73[_0x37706c(0x844)]>0x0?_0x365a73:void 0x0};}},x=class{constructor(..._0x42f857){const _0x57cae1=a0_0x1c66d9;throw{'status':0x1f4,'error':_0x57cae1(0x590),'message':_0x42f857['length']>0x0?_0x42f857:void 0x0};}},ye=require(a0_0x1c66d9(0x896));async function Ds(_0x3537c8){const _0x14f28e=a0_0x1c66d9;let _0x80e971=new $(Ds[_0x14f28e(0x87f)]),_0x537974=T[_0x14f28e(0x772)](),_0x20bd7b=_0x537974['db'](S[_0x14f28e(0x7b4)]('DATABASE')[_0x14f28e(0x28c)][_0x14f28e(0x857)]+_0x14f28e(0x6ff))[_0x14f28e(0x633)](_0x3537c8),_0x377cda=async(_0x3f140b,_0x59d324)=>{const _0x3ae04c=_0x14f28e;try{return await _0x537974[_0x3ae04c(0x24e)](),await _0x20bd7b['replaceOne']({'_id':_0x59d324},JSON[_0x3ae04c(0x860)](JSON[_0x3ae04c(0x8cd)](_0x3f140b,ye[_0x3ae04c(0x1bd)][_0x3ae04c(0x3e8)])),{'upsert':!0x0});}catch{}},_0x1ad010=async _0x369f2b=>{const _0xbcc726=_0x14f28e;try{await _0x537974[_0xbcc726(0x24e)]();let _0x3fd173=await _0x20bd7b[_0xbcc726(0x44a)]({'_id':_0x369f2b}),_0x3d87c6=JSON[_0xbcc726(0x8cd)](_0x3fd173);return JSON[_0xbcc726(0x860)](_0x3d87c6,ye[_0xbcc726(0x1bd)][_0xbcc726(0x388)]);}catch{}},_0x30aebc=async _0x42226d=>{const _0x6b0649=_0x14f28e;try{return await _0x537974[_0x6b0649(0x24e)](),await _0x20bd7b[_0x6b0649(0x1eb)]({'_id':_0x42226d});}catch{}},_0x3b684e=await _0x1ad010(_0x14f28e(0x8cc))||(0x0,ye[_0x14f28e(0x4c7)])();return{'state':{'creds':_0x3b684e,'keys':{'get':async(_0x256bac,_0x38347f)=>{const _0x38f531=_0x14f28e;let _0x445484={};return await Promise[_0x38f531(0x797)](_0x38347f[_0x38f531(0x521)](async _0x25ad06=>{const _0x36f3db=_0x38f531;let _0x2becdc=await _0x1ad010(_0x256bac+'-'+_0x25ad06);_0x256bac===_0x36f3db(0x7a5)&&_0x2becdc&&(_0x2becdc=ye['proto'][_0x36f3db(0x8ba)][_0x36f3db(0x22f)]['fromObject'](_0x2becdc)),_0x445484[_0x25ad06]=_0x2becdc;})),_0x445484;},'set':async _0x542954=>{const _0x528677=_0x14f28e;let _0x3a0b3d=[];for(let _0x3f3612 in _0x542954)for(let _0x530a05 in _0x542954[_0x3f3612]){let _0x6c69b4=_0x542954[_0x3f3612][_0x530a05],_0xfc7a38=_0x3f3612+'-'+_0x530a05;_0x3a0b3d[_0x528677(0x463)](_0x6c69b4?_0x377cda(_0x6c69b4,_0xfc7a38):_0x30aebc(_0xfc7a38));}await Promise[_0x528677(0x797)](_0x3a0b3d);}}},'saveCreds':async()=>_0x377cda(_0x3b684e,_0x14f28e(0x8cc))};}var Js=I(require(a0_0x1c66d9(0x2f9))),qs=I(require(a0_0x1c66d9(0x3d1))),Ut=require('@whiskeysockets/baileys'),Ai=require(a0_0x1c66d9(0x637)),Ft=require(a0_0x1c66d9(0x896)),Lt;function ko(_0x4d1904){const _0x2da888=a0_0x1c66d9;return Lt||(Lt=(0x0,Ai[_0x2da888(0x1d7)])({'url':_0x4d1904[_0x2da888(0x5ab)]}),Lt[_0x2da888(0x24e)]()),Lt;}var de=class l{constructor(_0x3061e0,_0x27e264){const _0xb4ae72=a0_0x1c66d9;this[_0xb4ae72(0x4fb)]=_0x3061e0,this[_0xb4ae72(0x676)]=_0x27e264,this['logger']=new $(l['name']),this[_0xb4ae72(0x83a)]=ko(_0x3061e0);}set[a0_0x1c66d9(0x47e)](_0x1f78d2){this['instanceName']=_0x1f78d2;}async[a0_0x1c66d9(0x8b3)](){const _0x44ed36=a0_0x1c66d9;try{return await this[_0x44ed36(0x83a)][_0x44ed36(0x845)](['keys',this[_0x44ed36(0x4fb)]['PREFIX_KEY']+':*']);}catch(_0x3841b9){this[_0x44ed36(0x311)][_0x44ed36(0x456)](_0x3841b9);}}async[a0_0x1c66d9(0x475)](_0x3ad2fc,_0x15a91c){const _0x33caf9=a0_0x1c66d9;try{let _0x57423c=JSON[_0x33caf9(0x8cd)](_0x15a91c,Ft[_0x33caf9(0x1bd)][_0x33caf9(0x3e8)]);return await this['client']['hSet'](this[_0x33caf9(0x4fb)][_0x33caf9(0x4a8)]+':'+this[_0x33caf9(0x676)],_0x3ad2fc,_0x57423c);}catch(_0x42c4d6){this[_0x33caf9(0x311)][_0x33caf9(0x456)](_0x42c4d6);}}async['getAllData'](){const _0x8d6bd4=a0_0x1c66d9;try{let _0x220b0d=await this[_0x8d6bd4(0x83a)]['hGetAll'](this[_0x8d6bd4(0x4fb)][_0x8d6bd4(0x4a8)]+':'+this[_0x8d6bd4(0x676)]);if(_0x220b0d){for(let _0x563f17 in _0x220b0d)Object['prototype'][_0x8d6bd4(0x73a)][_0x8d6bd4(0x322)](_0x220b0d,_0x563f17)&&(_0x220b0d[_0x563f17]=JSON['parse'](_0x220b0d[_0x563f17],Ft[_0x8d6bd4(0x1bd)][_0x8d6bd4(0x388)]));return _0x220b0d;}}catch(_0x11dfd0){this[_0x8d6bd4(0x311)][_0x8d6bd4(0x456)](_0x11dfd0);}}async[a0_0x1c66d9(0x6be)](_0x10bd79){const _0x1a04b7=a0_0x1c66d9;try{let _0x3d0637=await this[_0x1a04b7(0x83a)]['hGet'](this[_0x1a04b7(0x4fb)][_0x1a04b7(0x4a8)]+':'+this[_0x1a04b7(0x676)],_0x10bd79);if(_0x3d0637)return JSON[_0x1a04b7(0x860)](_0x3d0637,Ft[_0x1a04b7(0x1bd)][_0x1a04b7(0x388)]);}catch(_0x4db14){this[_0x1a04b7(0x311)][_0x1a04b7(0x456)](_0x4db14);}}async['removeData'](_0x39be50){const _0x30446d=a0_0x1c66d9;try{return await this['client'][_0x30446d(0x796)](this[_0x30446d(0x4fb)][_0x30446d(0x4a8)]+':'+this[_0x30446d(0x676)],_0x39be50);}catch(_0x5c3429){this['logger'][_0x30446d(0x456)](_0x5c3429);}}async[a0_0x1c66d9(0x895)](_0x30b318){const _0x43a56c=a0_0x1c66d9;try{return await this[_0x43a56c(0x83a)]['del'](_0x30b318||this['redisEnv'][_0x43a56c(0x4a8)]+':'+this[_0x43a56c(0x676)]);}catch(_0x121009){this[_0x43a56c(0x311)][_0x43a56c(0x456)](_0x121009);}}};async function ks(_0x52e69c,_0x246895){const _0x1b08ea=a0_0x1c66d9;let _0x3fd8f0=new $(ks[_0x1b08ea(0x87f)]),_0x433271=new de(_0x52e69c,_0x246895),_0x1a4b5b=async(_0x5740f5,_0x3af116)=>{const _0x5877bb=_0x1b08ea;try{return await _0x433271['writeData'](_0x3af116,_0x5740f5);}catch(_0x15cd75){return _0x3fd8f0[_0x5877bb(0x456)]({'localError':'writeData','error':_0x15cd75});}},_0x18a1fa=async _0x2e1f14=>{const _0x59afff=_0x1b08ea;try{return await _0x433271[_0x59afff(0x6be)](_0x2e1f14);}catch(_0x3630ed){_0x3fd8f0['error']({'readData':'writeData','error':_0x3630ed});return;}},_0xfacd1e=async _0x2f6265=>{const _0x4f2273=_0x1b08ea;try{return await _0x433271[_0x4f2273(0x40d)](_0x2f6265);}catch(_0x275e4c){_0x3fd8f0[_0x4f2273(0x456)]({'readData':'removeData','error':_0x275e4c});}},_0x1c1e8c=await _0x18a1fa(_0x1b08ea(0x8cc))||(0x0,Ut[_0x1b08ea(0x4c7)])();return{'state':{'creds':_0x1c1e8c,'keys':{'get':async(_0x2085cb,_0x23b869)=>{const _0x40aefc=_0x1b08ea;let _0x2b6a41={};return await Promise[_0x40aefc(0x797)](_0x23b869[_0x40aefc(0x521)](async _0x10afc6=>{const _0x409b6b=_0x40aefc;let _0x8817ea=await _0x18a1fa(_0x2085cb+'-'+_0x10afc6);_0x2085cb===_0x409b6b(0x7a5)&&_0x8817ea&&(_0x8817ea=Ut[_0x409b6b(0x248)][_0x409b6b(0x8ba)][_0x409b6b(0x22f)][_0x409b6b(0x41d)](_0x8817ea)),_0x2b6a41[_0x10afc6]=_0x8817ea;})),_0x2b6a41;},'set':async _0x4b2976=>{const _0x400b91=_0x1b08ea;let _0x582382=[];for(let _0x803c01 in _0x4b2976)for(let _0x1168b2 in _0x4b2976[_0x803c01]){let _0x5b5a99=_0x4b2976[_0x803c01][_0x1168b2],_0x2b4af9=_0x803c01+'-'+_0x1168b2;_0x582382[_0x400b91(0x463)](_0x5b5a99?await _0x1a4b5b(_0x5b5a99,_0x2b4af9):await _0xfacd1e(_0x2b4af9));}await Promise[_0x400b91(0x797)](_0x582382);}}},'saveCreds':async()=>await _0x1a4b5b(_0x1c1e8c,_0x1b08ea(0x8cc))};}var k=I(require('fs')),Q=require(a0_0x1c66d9(0x3cd)),qt=I(require(a0_0x1c66d9(0x47a))),re=require(a0_0x1c66d9(0x7b6)),Ti=require(a0_0x1c66d9(0x58a)),Ii=require(a0_0x1c66d9(0x5fc)),_i=I(require(a0_0x1c66d9(0x27a))),$e=class extends O{constructor(_0x35de8d,_0x1f9ef0,_0x266931){const _0x2ce777=a0_0x1c66d9;super(_0x1f9ef0),this[_0x2ce777(0x658)]=_0x35de8d,this[_0x2ce777(0x62b)]=_0x1f9ef0,this['dbConnection']=_0x266931;}async[a0_0x1c66d9(0x61a)](_0x588ddb,_0x2a3e6e){const _0x3583ef=a0_0x1c66d9;try{if(this[_0x3583ef(0x302)]['ENABLED']){console['log']('Creating\x20or\x20updating\x20instance\x20with\x20id:\x20'+_0x2a3e6e+_0x3583ef(0x2f4),_0x588ddb);let _0x397f8f=await this[_0x3583ef(0x658)][_0x3583ef(0x2c8)]({'_id':_0x2a3e6e},{'$set':_0x588ddb},{'new':!0x0,'upsert':!0x0});return console[_0x3583ef(0x19c)]('Database\x20update\x20result:',_0x397f8f),_0x397f8f;}}catch(_0x6ab922){throw console[_0x3583ef(0x456)](_0x3583ef(0x254),_0x6ab922),_0x6ab922;}return null;}async[a0_0x1c66d9(0x1eb)](_0xaf4b76){const _0x195282=a0_0x1c66d9;try{let _0x4b7189=A(_0xaf4b76['where']);return{'deletedCount':(await this[_0x195282(0x658)][_0x195282(0x1eb)](_0x4b7189))[_0x195282(0x341)]};}catch(_0x3d306d){return{'error':_0x3d306d?.['toString']()};}}async[a0_0x1c66d9(0x44a)](_0x1277b0){const _0x2ede97=a0_0x1c66d9;try{let _0x5a02b7=A(_0x1277b0[_0x2ede97(0x30f)]);return await this[_0x2ede97(0x658)][_0x2ede97(0x44a)](_0x5a02b7)[_0x2ede97(0x58d)]();}catch{return null;}}},Re=(0x0,Ii[a0_0x1c66d9(0x3eb)])(Ti[a0_0x1c66d9(0x2e7)]),Ls=0x1f4,Lo=S[a0_0x1c66d9(0x7b4)](a0_0x1c66d9(0x2e6)),Fs=class{constructor(){const _0x4ef74a=a0_0x1c66d9;this['cacheInstanceRepository']=new $e(Ke,S),(!this[_0x4ef74a(0x65d)]||!this[_0x4ef74a(0x4b7)])&&Lo&&this[_0x4ef74a(0x90a)]()[_0x4ef74a(0x3f9)](async()=>{const _0x16e3c1=_0x4ef74a;console['log'](_0x16e3c1(0x395)+this['ipv6Prefix']),console[_0x16e3c1(0x19c)]('Network\x20Interface\x20detected:\x20'+this['networkInterface']),await this[_0x16e3c1(0x51c)]();let _0x1c4526=await this[_0x16e3c1(0x419)]();console[_0x16e3c1(0x19c)](_0x16e3c1(0x8c6)+_0x1c4526);})['catch'](_0x52f416=>{const _0x4c7970=_0x4ef74a;console['error'](_0x4c7970(0x493)+_0x52f416[_0x4c7970(0x18c)]);});}async['cleanupExcessiveIPs'](){const _0x2038bb=a0_0x1c66d9;let _0x7933c5=await this[_0x2038bb(0x61c)]();if(console[_0x2038bb(0x19c)]('Total\x20IPv6\x20addresses\x20detected:\x20'+_0x7933c5[_0x2038bb(0x844)]),_0x7933c5['length']>Ls){let _0x4e3543=_0x7933c5[_0x2038bb(0x7af)](Ls);for(let _0x56047d of _0x4e3543)console['log'](_0x2038bb(0x227)+_0x56047d),await this['removeIPv6'](_0x56047d);console['log'](_0x2038bb(0x35f)+_0x4e3543[_0x2038bb(0x844)]+_0x2038bb(0x40b));}else console[_0x2038bb(0x19c)](_0x2038bb(0x1f9));}async['listIPv6Addresses'](){const _0x1f5689=a0_0x1c66d9;try{let {stdout:_0x3a71f9}=await Re('ip\x20-6\x20addr\x20show\x20scope\x20global');return _0x3a71f9[_0x1f5689(0x444)]('\x0a')[_0x1f5689(0x901)](_0x1ef9ce=>_0x1ef9ce[_0x1f5689(0x1e1)]('inet6')&&_0x1ef9ce[_0x1f5689(0x1e1)](_0x1f5689(0x35d)))[_0x1f5689(0x521)](_0x1e4e37=>_0x1e4e37[_0x1f5689(0x277)](/inet6\s+([a-fA-F0-9:]+)\//)?.[0x1])[_0x1f5689(0x901)](Boolean);}catch(_0x2ef541){return console[_0x1f5689(0x456)]('Error\x20fetching\x20IPv6\x20addresses:\x20'+_0x2ef541[_0x1f5689(0x18c)]),[];}}async[a0_0x1c66d9(0x419)](){const _0x330f9f=a0_0x1c66d9;try{let {stdout:_0x5823d2}=await Re('ip\x20-6\x20addr\x20show\x20scope\x20global\x20|\x20grep\x20-c\x20inet6'),_0x3312b3=parseInt(_0x5823d2[_0x330f9f(0x5e0)](),0xa);return console['log']('Total\x20de\x20endereços\x20IPv6\x20globais:\x20'+_0x3312b3),_0x3312b3;}catch(_0x603a02){return console['error'](_0x330f9f(0x4b9)+_0x603a02[_0x330f9f(0x18c)]),0x0;}}async[a0_0x1c66d9(0x1fd)](_0x17c77f){const _0xcacb6a=a0_0x1c66d9;try{await Re(_0xcacb6a(0x4e1)+_0x17c77f+_0xcacb6a(0x5dd)+this[_0xcacb6a(0x4b7)]),console[_0xcacb6a(0x19c)](_0xcacb6a(0x3fa)+_0x17c77f);}catch(_0x360ce2){console[_0xcacb6a(0x456)](_0xcacb6a(0x17a)+_0x360ce2[_0xcacb6a(0x18c)]);}}async[a0_0x1c66d9(0x90a)](){const _0x20b67d=a0_0x1c66d9;try{let {stdout:_0x53f3e9}=await Re(_0x20b67d(0x72c));console['log'](_0x20b67d(0x793)+_0x53f3e9);let _0x47c9dc=_0x53f3e9['split']('\x0a')['map'](_0x4a2306=>_0x4a2306[_0x20b67d(0x444)]('\x20')[0x0])['filter'](_0x4a8e41=>!_0x4a8e41[_0x20b67d(0x1e1)]('lo')&&!_0x4a8e41[_0x20b67d(0x1e1)](_0x20b67d(0x4b3))&&!_0x4a8e41[_0x20b67d(0x1e1)](_0x20b67d(0x3bc))&&!_0x4a8e41[_0x20b67d(0x1e1)]('wl')&&!_0x4a8e41[_0x20b67d(0x1e1)]('@'));if(console[_0x20b67d(0x19c)](_0x20b67d(0x228)+_0x47c9dc),_0x47c9dc[_0x20b67d(0x844)]===0x0)throw new Error(_0x20b67d(0x6f4));this[_0x20b67d(0x4b7)]=_0x47c9dc[0x0];let {stdout:_0x4a5d98}=await Re(_0x20b67d(0x58f)+this[_0x20b67d(0x4b7)]);console['log'](_0x20b67d(0x726)+_0x4a5d98);let _0x103276=_0x4a5d98[_0x20b67d(0x444)]('\x0a')['find'](_0x29ebfd=>_0x29ebfd['includes'](_0x20b67d(0x3b6))&&_0x29ebfd[_0x20b67d(0x1e1)](_0x20b67d(0x35d)));if(!_0x103276)throw new Error('No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface');let _0x1016bc=_0x103276[_0x20b67d(0x277)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x1016bc)throw new Error(_0x20b67d(0x17e));let [_0x313151,_0x4367f8,_0x7b9d01]=_0x1016bc,_0xedcd37=Math['floor'](Number(_0x7b9d01)/0x10),_0x4f7c36=Number(_0x7b9d01)%0x10,_0x546d10=_0x4367f8[_0x20b67d(0x444)](':')[_0x20b67d(0x7af)](0x0,_0xedcd37)[_0x20b67d(0x552)](':');if(_0x4f7c36>0x0){let _0x45cca6=_0x4367f8[_0x20b67d(0x444)](':')[_0xedcd37],_0x3a04e2=0xffff<<0x10-_0x4f7c36&0xffff,_0x205a66=(parseInt(_0x45cca6,0x10)&_0x3a04e2)[_0x20b67d(0x37f)](0x10)['padStart'](0x4,'0');_0x546d10+=':'+_0x205a66;}this[_0x20b67d(0x65d)]=_0x546d10+':';}catch(_0x354444){console[_0x20b67d(0x456)](_0x20b67d(0x4ce),_0x354444);}}async[a0_0x1c66d9(0x6bf)](_0x501554){const _0x4b2647=a0_0x1c66d9;let _0x3d4b71=_0x4b2647(0x1df)+_0x501554+_0x4b2647(0x5dd)+this[_0x4b2647(0x4b7)];try{await Re(_0x3d4b71),console[_0x4b2647(0x19c)](_0x4b2647(0x78f)+_0x501554);}catch(_0x4cce0c){console[_0x4b2647(0x456)](_0x4b2647(0x54c)+_0x4cce0c);}}['randomMac'](){const _0x3ec2f1=a0_0x1c66d9;return _0x3ec2f1(0x383)[_0x3ec2f1(0x737)](/X/g,()=>'0123456789ABCDEF'[_0x3ec2f1(0x1a8)](Math[_0x3ec2f1(0x49f)](Math['random']()*0x10)));}[a0_0x1c66d9(0x272)](_0x18eb90,_0x2250a7){const _0x1d56e8=a0_0x1c66d9;let _0x4511dc=_0x2250a7[_0x1d56e8(0x444)](':');return _0x4511dc[0x0]=(parseInt(_0x4511dc[0x0],0x10)^0x2)[_0x1d56e8(0x37f)](0x10)[_0x1d56e8(0x2b2)](0x2,'0'),''+_0x18eb90+_0x4511dc[0x0]+_0x4511dc[0x1]+':'+_0x4511dc[0x2]+_0x1d56e8(0x2d9)+_0x4511dc[0x3]+':'+_0x4511dc[0x4]+_0x4511dc[0x5];}['generateRandomIPv6'](){const _0x27c6fc=a0_0x1c66d9;let _0x45a488=this[_0x27c6fc(0x65d)];_0x45a488[_0x27c6fc(0x369)](':')||(_0x45a488+=':');let _0x31ecc6=this[_0x27c6fc(0x45b)]();return this['ip6eui'](_0x45a488,_0x31ecc6);}['isValidIPv6Config'](_0x3446e0){const _0x4210de=a0_0x1c66d9;return new RegExp('^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$')[_0x4210de(0x5c4)](_0x3446e0);}async[a0_0x1c66d9(0x280)](_0x581adb){const _0xfc3eab=a0_0x1c66d9;let _0x3c3152=[{'url':'https://ipv6.jsonip.com','parse':_0x139454=>_0x139454['ip']},{'url':_0xfc3eab(0x83e),'parse':_0x5f3f69=>_0x5f3f69['ip']},{'url':_0xfc3eab(0x82f),'parse':_0x295ecb=>_0x295ecb[_0xfc3eab(0x5e0)]()},{'url':_0xfc3eab(0x384),'parse':_0x1068d0=>_0x1068d0['trim']()}],_0x4b716b=_0x3c3152[Math[_0xfc3eab(0x49f)](Math[_0xfc3eab(0x806)]()*_0x3c3152[_0xfc3eab(0x844)])];try{let _0x43407a=await _i[_0xfc3eab(0x77c)][_0xfc3eab(0x7b4)](_0x4b716b[_0xfc3eab(0x51e)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x581adb}}),_0x18940b=_0x4b716b[_0xfc3eab(0x860)](_0x43407a['data']);return _0x18940b[_0xfc3eab(0x202)]()===_0x581adb['toLowerCase']()?(console[_0xfc3eab(0x19c)](_0xfc3eab(0x497)+_0x581adb),!0x0):(console[_0xfc3eab(0x456)]('IP\x20mismatch:\x20configured\x20'+_0x581adb+_0xfc3eab(0x26b)+_0x18940b),!0x1);}catch(_0x2ce99c){return console[_0xfc3eab(0x456)](_0xfc3eab(0x331)+_0x4b716b[_0xfc3eab(0x51e)]+':\x20'+_0x2ce99c['message']),!0x1;}}async[a0_0x1c66d9(0x61e)](_0x18b8d6,_0x156755){const _0xba4d27=a0_0x1c66d9;if(!this[_0xba4d27(0x65d)]||!this[_0xba4d27(0x4b7)])return console[_0xba4d27(0x456)](_0xba4d27(0x7fd)),null;let _0x1c1cde=await this[_0xba4d27(0x61c)]();if(_0x1c1cde[_0xba4d27(0x844)]>=Ls){let _0x415d32=_0x1c1cde[Math[_0xba4d27(0x49f)](Math['random']()*_0x1c1cde[_0xba4d27(0x844)])];return console[_0xba4d27(0x19c)]('Reusing\x20existing\x20IPv6:\x20'+_0x415d32),_0x415d32;}let _0x44ee62;do _0x44ee62=this[_0xba4d27(0x72d)](),console[_0xba4d27(0x19c)](_0xba4d27(0x3ce)+_0x44ee62);while(!this[_0xba4d27(0x76f)](_0x44ee62));await this['configureIPv6'](_0x44ee62),console['log'](_0xba4d27(0x526)+_0x44ee62);let _0x48eb50={'_id':_0x18b8d6+'-'+_0x156755,'ip':_0x44ee62},_0x32bebd=await this[_0xba4d27(0x1d4)][_0xba4d27(0x61a)](_0x48eb50,_0x48eb50[_0xba4d27(0x70b)]);return console['log']('Cache\x20instance\x20update\x20result:\x20'+_0x32bebd),_0x44ee62;}},Fo=new Fs(),je=Fo,Vs=a0_0x1c66d9(0x435),Fi,pe=null,Fa=null,Uo=0x3,jo=null,Oi=S[a0_0x1c66d9(0x7b4)](a0_0x1c66d9(0x88c))[a0_0x1c66d9(0x2be)][a0_0x1c66d9(0x65a)],xi=S[a0_0x1c66d9(0x7b4)]('PROXY');async function Jo(){const _0x989b71=a0_0x1c66d9;let _0x101d7e=await Ne[_0x989b71(0x44a)]();pe=_0x101d7e?.['WebhookGlobal']??null,jo=_0x101d7e?.['DaysToDelete']??null,Vs=_0x101d7e?.[_0x989b71(0x187)]??'Safari',Fi=_0x101d7e?.[_0x989b71(0x795)]??ge??_0x989b71(0x453);}async function qo(){await Jo();}qo();var jt={},Ae=class l{constructor(_0x5a827e,_0x228cce,_0x3f6661){const _0x5ab933=a0_0x1c66d9;this[_0x5ab933(0x62b)]=_0x5a827e,this[_0x5ab933(0x1a0)]=_0x228cce,this[_0x5ab933(0x6db)]=_0x3f6661,this[_0x5ab933(0x820)]={},this[_0x5ab933(0x4c1)]=null,this['logger']=new $(l[_0x5ab933(0x87f)]),this[_0x5ab933(0x401)]={},this[_0x5ab933(0x5c6)]={},this[_0x5ab933(0x33f)]={'state':_0x5ab933(0x57b)},this['storePath']=(0x0,j[_0x5ab933(0x552)])(ce,_0x5ab933(0x751)),this[_0x5ab933(0x864)]=new qs[(_0x5ab933(0x77c))](),this[_0x5ab933(0x5d3)]=new qs[(_0x5ab933(0x77c))](),this[_0x5ab933(0x68b)]=!0x1,this[_0x5ab933(0x7e7)]={'status.instance':'/wa-connection-update','connection.update':_0x5ab933(0x833),'qrcode.updated':_0x5ab933(0x509),'messages.upsert':_0x5ab933(0x7bd),'send.message':_0x5ab933(0x7bd),'messages.update':_0x5ab933(0x431),'group.upsert':_0x5ab933(0x330),'group.update':_0x5ab933(0x330),'group-participants.update':'/wa-groups','messages.set':_0x5ab933(0x59d),'contacts.set':_0x5ab933(0x670),'contacts.upsert':_0x5ab933(0x670),'contacts.update':_0x5ab933(0x670),'presence.update':_0x5ab933(0x327),'chats.set':'/wa-chats','chats.update':_0x5ab933(0x1c0),'chats.upsert':'/wa-chats','chats.delete':_0x5ab933(0x1c0)},this[_0x5ab933(0x417)]=0x0,this[_0x5ab933(0x884)]=[],this[_0x5ab933(0x4f0)]=0xea60,this[_0x5ab933(0x663)]=!0x1,this[_0x5ab933(0x86e)]={'chats.upsert':async(_0x15d429,_0x89dfc1)=>{const _0x388706=_0x5ab933;let _0x587afe=[];for await(let _0x38df91 of _0x15d429)_0x587afe[_0x388706(0x463)]({'_id':_0x38df91['id'],'owner':this['instance'][_0x388706(0x242)],'group':_0x38df91['id'][_0x388706(0x369)](_0x388706(0x257)),'name':_0x38df91[_0x388706(0x87f)]||_0x38df91[_0x388706(0x62f)]||null,'contactname':null,'lastmsg':_0x38df91[_0x388706(0x8df)]&&_0x38df91[_0x388706(0x8df)][_0x388706(0x37f)]()['length']<0xd?_0x38df91[_0x388706(0x8df)]*0x3e8:_0x38df91['conversationTimestamp']||null,'archived':_0x38df91['archived']||!0x1,'unreadcount':_0x38df91[_0x388706(0x53f)]||0x0,'ephemeralExpiration':_0x38df91[_0x388706(0x35c)]||0x0});this[_0x388706(0x84f)](_0x388706(0x3c2),_0x587afe);},'chats.update':async(_0xf9b102,_0x3d022f)=>{const _0x2b3818=_0x5ab933;for(let _0x3cc72c of _0xf9b102){let _0x131053={'_id':_0x3cc72c['id'],'owner':this['instance'][_0x2b3818(0x242)],'archived':_0x3cc72c[_0x2b3818(0x297)],'muteEndTime':_0x3cc72c['muteEndTime'],'ephemeralExpiration':_0x3cc72c[_0x2b3818(0x35c)]},_0x597897=!0x1,_0x59cc32={};_0x131053[_0x2b3818(0x297)]!=null&&(this[_0x2b3818(0x311)][_0x2b3818(0x3ad)](this['instanceName']+'\x20('+this[_0x2b3818(0x401)]['wuid']+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x3cc72c['id']+'\x20:\x20'+_0x3cc72c[_0x2b3818(0x297)]),_0x597897=!0x0,_0x59cc32[_0x2b3818(0x297)]=_0x3cc72c[_0x2b3818(0x297)]),_0x2b3818(0x770)in _0x3cc72c&&(this[_0x2b3818(0x311)][_0x2b3818(0x3ad)](this[_0x2b3818(0x676)]+'\x20('+this[_0x2b3818(0x401)][_0x2b3818(0x242)]+_0x2b3818(0x4af)+_0x3cc72c['id']+_0x2b3818(0x84c)+(_0x3cc72c[_0x2b3818(0x770)]??'0')),_0x597897=!0x0,_0x59cc32[_0x2b3818(0x770)]=_0x3cc72c[_0x2b3818(0x770)]??0x0),_0x2b3818(0x35c)in _0x3cc72c&&(this[_0x2b3818(0x311)]['verbose'](this[_0x2b3818(0x676)]+'\x20('+this['instance'][_0x2b3818(0x242)]+_0x2b3818(0x71d)+_0x3cc72c['id']+'\x20:\x20'+(_0x3cc72c['ephemeralExpiration']!==void 0x0?_0x3cc72c[_0x2b3818(0x35c)]:_0x2b3818(0x81a))),_0x59cc32['ephemeralExpiration']=_0x3cc72c[_0x2b3818(0x35c)]===null?0x0:_0x3cc72c[_0x2b3818(0x35c)],_0x597897=!0x0);let _0x33df10;_0x597897&&(_0x33df10=await this['repository'][_0x2b3818(0x862)]['updateOne']({'where':{'_id':_0x3cc72c['id']}},_0x59cc32,this[_0x2b3818(0x401)][_0x2b3818(0x242)])),_0x33df10&&F(this[_0x2b3818(0x676)],_0x2b3818(0x88a),{'chat':_0x33df10});}},'chats.delete':async _0x425e7b=>{const _0x1fddc6=_0x5ab933;for(let _0x20aa85 of _0x425e7b)if(_0x20aa85[_0x1fddc6(0x369)](_0x1fddc6(0x257))){await this[_0x1fddc6(0x6db)]['chat'][_0x1fddc6(0x2a3)]({'where':{'_id':_0x20aa85}},this[_0x1fddc6(0x401)][_0x1fddc6(0x242)]);let _0xff849c={'where':{'key':{'remoteJid':_0x20aa85}}};await this[_0x1fddc6(0x6db)][_0x1fddc6(0x18c)][_0x1fddc6(0x2a3)](_0xff849c,this[_0x1fddc6(0x401)][_0x1fddc6(0x242)]);}else{await this[_0x1fddc6(0x6db)][_0x1fddc6(0x862)][_0x1fddc6(0x2cd)]({'where':{'_id':_0x20aa85}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x1fddc6(0x401)][_0x1fddc6(0x242)]);let _0x5054dc={'where':{'key':{'remoteJid':_0x20aa85}}};await this[_0x1fddc6(0x6db)][_0x1fddc6(0x18c)]['delete'](_0x5054dc,this[_0x1fddc6(0x401)][_0x1fddc6(0x242)]);}this[_0x1fddc6(0x84f)]('chats.delete',[..._0x425e7b]);}},this[_0x5ab933(0x46d)]={'contacts.upsert':async(_0x5d0353,_0x25a242)=>{const _0x39d268=_0x5ab933;let _0x548d80=await this[_0x39d268(0x6db)][_0x39d268(0x4a7)][_0x39d268(0x705)]({'where':{}},this[_0x39d268(0x401)][_0x39d268(0x242)]),_0x31c0a7=[];for await(let _0x175847 of _0x5d0353)_0x548d80[_0x39d268(0x705)](_0x149b77=>_0x149b77[_0x39d268(0x70b)]===_0x175847['id'])||_0x31c0a7[_0x39d268(0x463)]({'_id':_0x175847['id'],'pushName':_0x175847?.[_0x39d268(0x87f)]||_0x175847?.[_0x39d268(0x289)],'owner':this[_0x39d268(0x401)][_0x39d268(0x242)]});this[_0x39d268(0x84f)]('contacts.upsert',_0x31c0a7),await this[_0x39d268(0x6db)][_0x39d268(0x4a7)][_0x39d268(0x256)](_0x31c0a7);},'contacts.update':async(_0x1f3177,_0x2d2e41)=>{const _0xfa8f03=_0x5ab933;let _0x5b105c=[];for await(let _0x211f2d of _0x1f3177)_0x5b105c[_0xfa8f03(0x463)]({'_id':_0x211f2d['id'],'pushName':_0x211f2d?.[_0xfa8f03(0x87f)]??_0x211f2d?.[_0xfa8f03(0x289)],'owner':this[_0xfa8f03(0x401)][_0xfa8f03(0x242)]});this[_0xfa8f03(0x84f)](_0xfa8f03(0x2f3),_0x5b105c);}},this['messageHandle']={'messaging-history.set':async({messages:_0x233dbe,chats:_0x1623a9,isLatest:_0x3079f6},_0x4414b6)=>{const _0x1721ef=_0x5ab933;if(_0x3079f6){setTimeout(()=>{const _0x2f095b=a0_0x24da;this['instance'][_0x2f095b(0x188)]=!0x0,console[_0x2f095b(0x19c)]('HistoryProcessed\x20definido\x20como\x20true\x20após\x202\x20minutos.');},0x1d4c0);let _0x5d05bb=await Promise[_0x1721ef(0x797)](_0x1623a9[_0x1721ef(0x521)](async _0xcaf650=>({'_id':_0xcaf650['id'],'owner':this[_0x1721ef(0x401)][_0x1721ef(0x242)],'group':_0xcaf650['id'][_0x1721ef(0x369)](_0x1721ef(0x257)),'name':_0xcaf650[_0x1721ef(0x87f)]||_0xcaf650['displayName']||_0xcaf650['username']||null,'contactname':null,'lastmsg':_0xcaf650[_0x1721ef(0x8df)]&&_0xcaf650[_0x1721ef(0x8df)][_0x1721ef(0x37f)]()[_0x1721ef(0x844)]<0xd?_0xcaf650[_0x1721ef(0x8df)]*0x3e8:_0xcaf650[_0x1721ef(0x8df)]||null,'archived':_0xcaf650[_0x1721ef(0x297)]||!0x1,'unreadcount':_0xcaf650['unreadCount']||0x0,'ephemeralExpiration':_0xcaf650[_0x1721ef(0x35c)]||0x0,'muteEndTime':_0xcaf650['muteEndTime']||0x0})));this[_0x1721ef(0x84f)](_0x1721ef(0x55e),_0x5d05bb),await this[_0x1721ef(0x55d)](_0x5d05bb,_0x4414b6);}let _0x349ada=[],_0x301c63=Date[_0x1721ef(0x2f2)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x2ea1e2]of Object[_0x1721ef(0x7eb)](_0x233dbe)){if(_0x2ea1e2[_0x1721ef(0x18c)]?.[_0x1721ef(0x284)]||_0x2ea1e2[_0x1721ef(0x18c)]?.[_0x1721ef(0x3d9)]||!_0x2ea1e2[_0x1721ef(0x18c)]||_0x2ea1e2[_0x1721ef(0x757)][_0x1721ef(0x328)]==='status@broadcast'||(Js['default'][_0x1721ef(0x904)](_0x2ea1e2?.[_0x1721ef(0x56e)])&&(_0x2ea1e2['messageTimestamp']=_0x2ea1e2[_0x1721ef(0x56e)]?.['toNumber']()),_0x2ea1e2['messageTimestamp']&&_0x2ea1e2['messageTimestamp'][_0x1721ef(0x37f)]()['length']<0xd&&(_0x2ea1e2[_0x1721ef(0x56e)]=_0x2ea1e2[_0x1721ef(0x56e)]*0x3e8),_0x2ea1e2[_0x1721ef(0x56e)]<_0x301c63))continue;let _0x26ddd0=(0x0,w[_0x1721ef(0x4b8)])(_0x2ea1e2[_0x1721ef(0x18c)]),_0x325969=(0x0,w[_0x1721ef(0x652)])(_0x26ddd0),{message_normalized:_0x50b116}=this['normalizeMessage'](_0x26ddd0,_0x325969,null);Object[_0x1721ef(0x4cb)](_0x50b116)[_0x1721ef(0x844)]>0x0&&_0x349ada['push']({'_id':_0x2ea1e2[_0x1721ef(0x757)]['id'],'key':_0x2ea1e2[_0x1721ef(0x757)],'pushName':_0x2ea1e2[_0x1721ef(0x786)],'participant':_0x2ea1e2['participant'],'message':_0x26ddd0,'messageType':_0x325969,'message_normalized':{'key':_0x2ea1e2['key'],'pushName':_0x2ea1e2[_0x1721ef(0x786)],'messageTimestamp':_0x2ea1e2[_0x1721ef(0x56e)],..._0x50b116},'messageTimestamp':_0x2ea1e2[_0x1721ef(0x56e)],'owner':this['instance'][_0x1721ef(0x242)]});}_0x4414b6[_0x1721ef(0x8d2)]&&_0x349ada[_0x1721ef(0x844)]>0x0&&(this[_0x1721ef(0x311)][_0x1721ef(0x3ad)](this[_0x1721ef(0x676)]+'\x20('+this[_0x1721ef(0x401)]['wuid']+'):\x20'+_0x349ada[_0x1721ef(0x844)]+_0x1721ef(0x367)+this[_0x1721ef(0x401)][_0x1721ef(0x242)]+_0x1721ef(0x351)),await this['repository'][_0x1721ef(0x18c)][_0x1721ef(0x256)]([..._0x349ada],this[_0x1721ef(0x401)][_0x1721ef(0x242)]));let _0xa502e3=Date[_0x1721ef(0x2f2)]()-0xa*0x3c*0x3e8;for(let _0x5ea77d of _0x349ada)if(this[_0x1721ef(0x401)][_0x1721ef(0x188)]&&_0x5ea77d['messageTimestamp']>=_0xa502e3){if(this['isMessageProcessed'](this['instance']['wuid'],_0x5ea77d[_0x1721ef(0x70b)])){this[_0x1721ef(0x311)][_0x1721ef(0x3ad)](this[_0x1721ef(0x676)]+'\x20('+this[_0x1721ef(0x401)][_0x1721ef(0x242)]+'):\x20[messaging-history.set]\x20mensagem\x20duplicada\x20ignorada\x20(ID:\x20'+_0x5ea77d[_0x1721ef(0x70b)]+')');continue;}this[_0x1721ef(0x421)](this[_0x1721ef(0x401)][_0x1721ef(0x242)],_0x5ea77d[_0x1721ef(0x70b)]),this[_0x1721ef(0x84f)](_0x1721ef(0x828),_0x5ea77d);}else this[_0x1721ef(0x84f)]('messages.set',_0x5ea77d);_0x233dbe=void 0x0;},'messages.upsert':async({messages:_0x4be87d,type:_0x226dec},_0xb90c40)=>{const _0x499516=_0x5ab933;for(let _0x508142 of _0x4be87d){if(this[_0x499516(0x5c6)]?.[_0x499516(0x8fa)]&&_0x508142[_0x499516(0x757)][_0x499516(0x328)][_0x499516(0x1e1)](_0x499516(0x257))){this[_0x499516(0x311)]['verbose'](this[_0x499516(0x676)]+'\x20('+this[_0x499516(0x401)][_0x499516(0x242)]+_0x499516(0x62a));continue;}if(_0x508142[_0x499516(0x757)]['remoteJid']['includes'](_0x499516(0x7dd))||_0x508142[_0x499516(0x757)][_0x499516(0x328)]===_0x499516(0x8a5))continue;if(_0x508142['messageStubParameters']&&_0x508142[_0x499516(0x816)][0x0]===_0x499516(0x685)){console[_0x499516(0x456)]('[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação'),await this[_0x499516(0x3a7)](_0x508142),jt[_0x508142[_0x499516(0x757)]['id']]=_0x508142,this[_0x499516(0x85d)](_0x508142,0x0);continue;}if(_0x226dec!==_0x499516(0x632)||!_0x508142?.[_0x499516(0x18c)]||_0x508142[_0x499516(0x18c)]?.['protocolMessage']||_0x508142['message']?.['senderKeyDistributionMessage'])continue;let _0xce3cd4=null,_0x39306b=null;if(jt[_0x508142[_0x499516(0x757)]['id']]&&(console[_0x499516(0x456)]('[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache'),await this[_0x499516(0x6db)][_0x499516(0x42d)][_0x499516(0x2a3)]({'where':{'_id':_0x508142[_0x499516(0x757)]['id']}}),delete jt[_0x508142['key']['id']]),this[_0x499516(0x5c2)](this[_0x499516(0x401)][_0x499516(0x242)],_0x508142[_0x499516(0x757)]['id'])){this[_0x499516(0x311)][_0x499516(0x3ad)](this['instanceName']+'\x20('+this[_0x499516(0x401)]['wuid']+_0x499516(0x376));continue;}this[_0x499516(0x421)](this[_0x499516(0x401)][_0x499516(0x242)],_0x508142[_0x499516(0x757)]['id']);try{_0xce3cd4=await this[_0x499516(0x2d3)](_0x508142),_0x39306b=_0xce3cd4?_0xce3cd4[_0x499516(0x552)](','):null;}catch(_0x440375){this[_0x499516(0x311)][_0x499516(0x3ad)](this[_0x499516(0x676)]+'\x20('+this[_0x499516(0x401)][_0x499516(0x242)]+_0x499516(0x761)+(_0x440375 instanceof Error?_0x440375[_0x499516(0x18c)]:JSON[_0x499516(0x8cd)](_0x440375,null,0x2))),_0x39306b=_0x499516(0x86b);}this[_0x499516(0x83a)][_0x499516(0x34f)](_0x499516(0x235)),Js[_0x499516(0x77c)][_0x499516(0x904)](_0x508142[_0x499516(0x56e)])&&(_0x508142[_0x499516(0x56e)]=_0x508142[_0x499516(0x56e)]?.[_0x499516(0x403)]()),_0x508142[_0x499516(0x56e)]&&_0x508142[_0x499516(0x56e)][_0x499516(0x37f)]()[_0x499516(0x844)]<0xd&&(_0x508142['messageTimestamp']=_0x508142[_0x499516(0x56e)]*0x3e8);let _0x2d0a02=_0x508142[_0x499516(0x18c)],_0x123e72=(0x0,w[_0x499516(0x4b8)])(_0x2d0a02),_0x37fce1=(0x0,w[_0x499516(0x652)])(_0x123e72),{messageContent:_0x2cee3d,message_normalized:_0x471d61}=this['normalizeMessage'](_0x123e72,_0x37fce1,_0x39306b);if(_0x37fce1==='protocolMessage'&&_0x2cee3d?.[_0x499516(0x39c)]&&(_0x37fce1='editedMessage'),_0x37fce1===_0x499516(0x684)&&_0x508142[_0x499516(0x757)][_0x499516(0x889)])continue;let _0x1c1c56,_0x13ecc1=_0x508142[_0x499516(0x757)][_0x499516(0x328)]['endsWith'](_0x499516(0x257));if(_0x508142[_0x499516(0x757)][_0x499516(0x889)])_0x1c1c56=this[_0x499516(0x401)][_0x499516(0x8d0)];else{let _0x11116b=_0x13ecc1?_0x508142[_0x499516(0x757)][_0x499516(0x885)]:_0x508142[_0x499516(0x757)][_0x499516(0x328)];_0x1c1c56=(await this[_0x499516(0x893)](_0x11116b,_0x508142[_0x499516(0x786)],!0x1))[_0x499516(0x1c8)]['pictureUrl'];}let _0x57ccff={'_id':_0x508142['key']['id'],'key':_0x508142['key'],'isGroup':_0x13ecc1,'profilePictureUrl':_0x1c1c56,'pushName':_0x508142[_0x499516(0x786)],'message':_0x123e72,'messageType':_0x37fce1,'message_normalized':{'key':_0x508142[_0x499516(0x757)],'pushName':_0x508142[_0x499516(0x786)],'messageTimestamp':_0x508142['messageTimestamp'],'source':(0x0,w[_0x499516(0x46e)])(_0x508142[_0x499516(0x757)]['id']),..._0x471d61},'messageTimestamp':_0x508142[_0x499516(0x56e)],'owner':this['instance'][_0x499516(0x242)],'source':(0x0,w[_0x499516(0x46e)])(_0x508142[_0x499516(0x757)]['id']),'expiration':_0x2cee3d?.[_0x499516(0x58b)]?.['expiration']||0x0};if(!_0x2cee3d){if(_0x37fce1===_0x499516(0x743))return;this['logger'][_0x499516(0x456)](_0x499516(0x731)),this['logger'][_0x499516(0x456)](_0x57ccff);}if(_0x471d61[_0x499516(0x460)]===_0x499516(0x23a)){console['error'](_0x499516(0x792)),await this[_0x499516(0x3a7)](_0x508142);continue;}this[_0x499516(0x311)][_0x499516(0x19c)](this[_0x499516(0x676)]+'\x20('+this[_0x499516(0x401)][_0x499516(0x242)]+_0x499516(0x761)+(_0x57ccff[_0x499516(0x757)]?.['fromMe']?_0x499516(0x533):_0x499516(0x6e1))+'\x20['+_0x57ccff['key']?.[_0x499516(0x328)]['replace'](_0x499516(0x87d),'')+_0x499516(0x458)+_0x57ccff[_0x499516(0x8f7)]+')'),_0x57ccff[_0x499516(0x830)]?.[_0x499516(0x460)]&&this[_0x499516(0x311)][_0x499516(0x19c)](_0x508142[_0x499516(0x757)]['id']+':\x20'+_0x57ccff['message_normalized']?.['text']),await this[_0x499516(0x6db)]['message']['insert']([_0x57ccff],this[_0x499516(0x401)][_0x499516(0x242)]),this[_0x499516(0x84f)](_0x499516(0x828),_0x57ccff),F(this[_0x499516(0x676)],_0x499516(0x1ef),{'message':_0x57ccff}),_0x508142['key']['remoteJid']!==_0x499516(0x8a5)&&await this['updateChatWithMessage'](_0xb90c40,_0x57ccff,'MESSAGES_UPSERT');}},'messages.update':async(_0xab1970,_0xdd58c8)=>{const _0x459aee=_0x5ab933;let _0x255b73={0x0:'ERROR',0x1:'PENDING',0x2:_0x459aee(0x540),0x3:_0x459aee(0x7f1),0x4:'READ',0x5:_0x459aee(0x2a7)};for await(let {key:_0x3ce6d0,update:_0x4e738d}of _0xab1970){if(this[_0x459aee(0x5c6)]?.[_0x459aee(0x8fa)]&&_0x3ce6d0[_0x459aee(0x328)][_0x459aee(0x1e1)](_0x459aee(0x257))){this[_0x459aee(0x311)][_0x459aee(0x3ad)](this[_0x459aee(0x676)]+'\x20('+this[_0x459aee(0x401)][_0x459aee(0x242)]+_0x459aee(0x8a8));return;}if(_0x3ce6d0[_0x459aee(0x328)]!==_0x459aee(0x8a5)){let _0x78efd2=Date['now'](),_0x467e25;_0x4e738d[_0x459aee(0x18c)]===null&&_0x4e738d[_0x459aee(0x730)]===void 0x0?_0x467e25='DELETED':_0x467e25=_0x255b73[_0x4e738d[_0x459aee(0x730)]];let _0x52797d=_0x3ce6d0['remoteJid']['replace'](/:\d{1,2}@/g,'@'),_0x96061e={..._0x3ce6d0,'remoteJid':_0x52797d,'status':_0x467e25,'datetime':_0x78efd2,'owner':this[_0x459aee(0x401)]['wuid']};this[_0x459aee(0x84f)](_0x459aee(0x4e7),_0x96061e),await this[_0x459aee(0x779)](_0x3ce6d0,_0x96061e);}}},'labels.association':async({type:_0x206db0,association:_0x2d962e})=>{const _0x341eed=_0x5ab933;if(_0x2d962e[_0x341eed(0x640)]==='label_jid'){let _0x14ca4e,_0x417e9a=0x0;for(;!_0x14ca4e&&_0x417e9a<this[_0x341eed(0x89a)];)_0x14ca4e=await this[_0x341eed(0x6db)][_0x341eed(0x862)][_0x341eed(0x44a)]({'where':{'_id':_0x2d962e['chatId']}},this[_0x341eed(0x401)][_0x341eed(0x242)]),_0x14ca4e||(_0x417e9a++,this[_0x341eed(0x311)][_0x341eed(0x43e)](this['instanceName']+'\x20('+this[_0x341eed(0x401)][_0x341eed(0x242)]+_0x341eed(0x33a)+_0x2d962e[_0x341eed(0x3aa)]+_0x341eed(0x2ea)+this['delayChatLabel_RETRY_DELAY_MS']+'ms\x20(tentativa\x20'+_0x417e9a+'/'+this[_0x341eed(0x89a)]+')'),await this[_0x341eed(0x37b)](this[_0x341eed(0x7b7)]));if(!_0x14ca4e){this['logger'][_0x341eed(0x456)](_0x341eed(0x487)+_0x2d962e[_0x341eed(0x3aa)]+'\x20depois\x20'+this[_0x341eed(0x89a)]+_0x341eed(0x1c6));return;}switch(_0x206db0){case _0x341eed(0x887):console[_0x341eed(0x19c)](_0x2d962e),await this[_0x341eed(0x6db)]['chat'][_0x341eed(0x2cd)]({'where':{'_id':_0x2d962e[_0x341eed(0x3aa)]}},{'leadInfo.etiquetas':_0x2d962e['labelId']},this[_0x341eed(0x401)]['wuid'],void 0x0,_0x341eed(0x6cb));break;case _0x341eed(0x23d):console[_0x341eed(0x19c)](_0x2d962e),await this[_0x341eed(0x6db)][_0x341eed(0x862)][_0x341eed(0x2cd)]({'where':{'_id':_0x2d962e[_0x341eed(0x3aa)]}},{'leadInfo.etiquetas':_0x2d962e[_0x341eed(0x764)]},this[_0x341eed(0x401)]['wuid'],void 0x0,_0x341eed(0x5a3));break;default:this[_0x341eed(0x311)][_0x341eed(0x456)]('unknown\x20operation\x20type\x20['+_0x206db0+']');}}},'labels.edit':async _0x3b267a=>{const _0x299ea6=_0x5ab933;if(!_0x3b267a||!_0x3b267a['id']){this[_0x299ea6(0x311)][_0x299ea6(0x456)](_0x299ea6(0x775));return;}if(!_0x3b267a['deleted']){let _0xb32442=[_0x299ea6(0x7df),'#64c4ff','#fed428',_0x299ea6(0x542),'#9ab6c1',_0x299ea6(0x8a2),_0x299ea6(0x5a8),_0x299ea6(0x89e),_0x299ea6(0x65c),_0x299ea6(0x7d0),_0x299ea6(0x5c7),'#ffc5c7',_0x299ea6(0x1a5),'#f64847',_0x299ea6(0x19b),'#83e421',_0x299ea6(0x535),_0x299ea6(0x51b),_0x299ea6(0x1e8),'#9568cf'],_0x2a6f7c;typeof _0x3b267a[_0x299ea6(0x23e)]==_0x299ea6(0x4e8)&&_0x3b267a[_0x299ea6(0x23e)]>=0x0&&_0x3b267a['color']<_0xb32442[_0x299ea6(0x844)]?_0x2a6f7c=_0xb32442[_0x3b267a[_0x299ea6(0x23e)]]:(this['logger']['error'](_0x299ea6(0x18f)+_0x3b267a[_0x299ea6(0x23e)]),_0x2a6f7c=_0x299ea6(0x600));let _0x77711a={'_id':_0x3b267a['id'],'colorHex':_0x2a6f7c,'color':_0x3b267a?.[_0x299ea6(0x23e)],'name':_0x3b267a?.[_0x299ea6(0x87f)],'owner':this['instance'][_0x299ea6(0x242)]};await this[_0x299ea6(0x6db)]['label']['updateOne']({'where':{'_id':_0x3b267a['id']}},_0x77711a,this[_0x299ea6(0x401)][_0x299ea6(0x242)]),this['logger'][_0x299ea6(0x43e)](this['instanceName']+'\x20('+this[_0x299ea6(0x401)][_0x299ea6(0x242)]+_0x299ea6(0x8db)+_0x3b267a);}_0x3b267a[_0x299ea6(0x2fe)]&&(await this[_0x299ea6(0x6db)][_0x299ea6(0x52e)][_0x299ea6(0x2a3)]({'where':{'_id':_0x3b267a['id']}},this['instance']['wuid']),this[_0x299ea6(0x311)][_0x299ea6(0x43e)](_0x299ea6(0x1a1)+_0x3b267a['id']));}},this[_0x5ab933(0x754)]={'groups.upsert':async _0xc3282c=>{const _0x457bfe=_0x5ab933;this[_0x457bfe(0x5c6)]?.[_0x457bfe(0x8fa)]||this[_0x457bfe(0x84f)](_0x457bfe(0x799),_0xc3282c);for(let _0x55545d of _0xc3282c)await this[_0x457bfe(0x3bf)](_0x55545d);},'groups.update':async _0x5d95e1=>{const _0x3bd53a=_0x5ab933;this[_0x3bd53a(0x5c6)]?.[_0x3bd53a(0x8fa)]||this[_0x3bd53a(0x84f)]('groups.update',_0x5d95e1);for(let _0x549735 of _0x5d95e1)await this['updateGroupWebhook'](_0x549735);},'group-participants.update':async _0x4a4ac9=>{const _0x5e03a7=_0x5ab933;this[_0x5e03a7(0x5c6)]?.['groups_ignore']||this[_0x5e03a7(0x84f)]('group-participants.update',_0x4a4ac9),await this[_0x5e03a7(0x1d8)](_0x4a4ac9);}},this[_0x5ab933(0x89a)]=0x5,this[_0x5ab933(0x7b7)]=0x1388,this['lastRealGroupsFetch']=0x0,this[_0x5ab933(0x2d3)]=async _0x300fcf=>{const _0x4a692e=_0x5ab933;if(_0x300fcf[_0x4a692e(0x18c)]?.[_0x4a692e(0x1cd)]){let _0x2860df=await this['getMessage'](_0x300fcf[_0x4a692e(0x18c)]['pollUpdateMessage']['pollCreationMessageKey'],!0x0);if(_0x2860df){let _0x18898f=_0x2860df[_0x4a692e(0x757)]['fromMe']?this['instance']['wuid']+'@s.whatsapp.net':_0x2860df[_0x4a692e(0x757)][_0x4a692e(0x885)]||_0x2860df[_0x4a692e(0x757)][_0x4a692e(0x328)],_0x169175=_0x2860df[_0x4a692e(0x757)]['id'],_0x4791b8=_0x2860df['message'],_0x550796=Buffer[_0x4a692e(0x3de)](_0x4791b8['messageContextInfo'][_0x4a692e(0x5e7)][_0x4a692e(0x37f)](_0x4a692e(0x8cf)),_0x4a692e(0x8cf)),_0x38b679=(0x0,w[_0x4a692e(0x1ec)])(_0x300fcf[_0x4a692e(0x18c)][_0x4a692e(0x1cd)][_0x4a692e(0x699)],{'pollCreatorJid':_0x18898f,'pollMsgId':_0x169175,'pollEncKey':_0x550796,'voterJid':_0x300fcf[_0x4a692e(0x757)]['fromMe']?this[_0x4a692e(0x401)]['wuid']+'@s.whatsapp.net':_0x300fcf['key'][_0x4a692e(0x328)][_0x4a692e(0x369)](_0x4a692e(0x52a))?_0x300fcf[_0x4a692e(0x757)]['participant']:_0x300fcf['key']['remoteJid']}),_0x1a9734=[],_0x381e4f=_0x38b679[_0x4a692e(0x8dc)][_0x4a692e(0x521)](_0x4c9cbb=>Buffer['from'](_0x4c9cbb)[_0x4a692e(0x37f)](_0x4a692e(0x8cf)));for(let {optionName:_0x4480ae}of _0x4791b8[_0x4a692e(0x39f)]?.[_0x4a692e(0x2ca)]||_0x4791b8[_0x4a692e(0x47c)]?.[_0x4a692e(0x2ca)]||_0x4791b8['pollCreationMessageV2']?.[_0x4a692e(0x2ca)])_0x381e4f[_0x4a692e(0x1b8)]((0x0,w['sha256'])(Buffer[_0x4a692e(0x3de)](_0x4480ae))['toString'](_0x4a692e(0x8cf)))>-0x1&&_0x1a9734[_0x4a692e(0x463)](_0x4480ae);return _0x1a9734;}}return null;},this[_0x5ab933(0x863)]=(_0xaf3e3f,_0x26afec,_0x15f7e6)=>{const _0x4d8303=_0x5ab933;try{let _0x3f267b=_0xaf3e3f?(0x0,w['extractMessageContent'])(_0xaf3e3f)[_0x26afec]:void 0x0,_0x3b6670={},_0x38c3e1=null,_0x32edc8=null,_0x5e7eaf=null,_0x31aea7=null;_0x26afec===_0x4d8303(0x284)&&_0x3f267b?.[_0x4d8303(0x39c)]&&(_0x26afec=(0x0,w[_0x4d8303(0x652)])(_0x3f267b[_0x4d8303(0x39c)]),_0x38c3e1=_0xaf3e3f['protocolMessage'][_0x4d8303(0x757)]['id'],_0x3f267b=_0xaf3e3f[_0x4d8303(0x284)][_0x4d8303(0x39c)][_0x26afec]),_0xaf3e3f[_0x26afec]?.[_0x4d8303(0x58b)]?.['stanzaId']&&_0xaf3e3f[_0x26afec]?.[_0x4d8303(0x58b)]?.[_0x4d8303(0x3c1)]&&(_0x32edc8=_0xaf3e3f[_0x26afec][_0x4d8303(0x58b)][_0x4d8303(0x3fc)]),_0xaf3e3f[_0x4d8303(0x206)]&&(_0x5e7eaf=_0xaf3e3f[_0x4d8303(0x206)][_0x4d8303(0x757)]['id']);let _0x5583a4;if(_0x3f267b&&typeof _0x3f267b==_0x4d8303(0x2c2)&&'pollCreationMessageKey'in _0x3f267b&&({pollCreationMessageKey:_0x5583a4}=_0x3f267b),_0x26afec===_0x4d8303(0x39f)||_0x26afec===_0x4d8303(0x3a2)||_0x26afec==='pollCreationMessageV3'){let _0x32124c=_0x3f267b['options'][_0x4d8303(0x521)](_0x1b2372=>_0x1b2372[_0x4d8303(0x393)])[_0x4d8303(0x552)]('|');_0x3b6670[_0x4d8303(0x908)]=_0x32124c;}if(_0x26afec===_0x4d8303(0x684)){let _0x16de52=_0x3f267b[_0x4d8303(0x881)][_0x4d8303(0x443)][_0x4d8303(0x521)](_0x643362=>JSON[_0x4d8303(0x860)](_0x643362[_0x4d8303(0x273)])['display_text'])[_0x4d8303(0x552)]('|');_0x3b6670[_0x4d8303(0x908)]=_0x16de52;}_0x26afec===_0x4d8303(0x390)&&(_0x3b6670[_0x4d8303(0x26c)]=_0x3f267b?.[_0x4d8303(0x8e0)]?.[_0x4d8303(0x3f7)]);let _0x4a52b7='';if(_0x3f267b&&(_0x4a52b7+=_0x3f267b[_0x4d8303(0x87f)]?_0x3f267b['name']:'',_0x4a52b7+=_0x3f267b[_0x4d8303(0x2bd)]?'\x20'+_0x3f267b[_0x4d8303(0x2bd)]:'',_0x4a52b7+=_0x3f267b['conversation']?'\x20'+_0x3f267b[_0x4d8303(0x743)]:'',_0x4a52b7+=_0x3f267b[_0x4d8303(0x62f)]?'\x20'+_0x3f267b[_0x4d8303(0x62f)]:'',_0x26afec!==_0x4d8303(0x346)&&(_0x4a52b7+=_0x3f267b[_0x4d8303(0x452)]?.['text']?'\x20'+_0x3f267b[_0x4d8303(0x452)][_0x4d8303(0x460)]:''),_0x4a52b7+=_0x3f267b?.[_0x4d8303(0x8f1)]?.[_0x4d8303(0x460)]?'\x20'+_0x3f267b?.['footer']?.[_0x4d8303(0x460)]:''),_0x26afec===_0x4d8303(0x840)){_0x4a52b7=(_0x3f267b[_0x4d8303(0x26d)]||'')+'\x0a'+(_0x3f267b['description']||'')+'\x0a'+(_0x3f267b[_0x4d8303(0x8af)]||'');let _0x5cba4a=this[_0x4d8303(0x200)](_0x3f267b[_0x4d8303(0x5ae)]);_0x3b6670[_0x4d8303(0x908)]=_0x5cba4a;}if(_0x26afec===_0x4d8303(0x390)&&(_0x15f7e6=_0x3f267b['title'],_0x31aea7=_0x3f267b?.['singleSelectReply']?.['selectedRowId']),_0x26afec===_0x4d8303(0x346)){let _0x3a3994=_0x3f267b?.[_0x4d8303(0x3d2)];_0x3a3994&&_0x3a3994[_0x4d8303(0x87f)]===_0x4d8303(0x4a5)&&(_0x31aea7=JSON[_0x4d8303(0x860)](_0x3a3994[_0x4d8303(0x5cd)])['id']),_0x15f7e6=_0x3f267b?.['body']?.[_0x4d8303(0x460)];}if(_0x26afec==='templateButtonReplyMessage'&&(_0x15f7e6=_0x3f267b?.[_0x4d8303(0x363)],_0x31aea7=_0x3f267b?.['selectedId']),_0x26afec===_0x4d8303(0x37e)&&(_0x15f7e6=_0x3f267b?.[_0x4d8303(0x363)],_0x31aea7=_0x3f267b?.['selectedButtonId']),_0x3f267b&&_0x3f267b['vcard']){let _0x5d5889=this['formatVCard'](JSON[_0x4d8303(0x8cd)](_0x3f267b[_0x4d8303(0x48c)],null,0x2));_0x4a52b7=_0x4a52b7+'\x0a'+_0x5d5889;}if(_0x3f267b){let {selectedButtonId:_0x193711,nativeFlowResponseMessage:_0x3f305e,selectedId:_0x139a90,selectedDisplayText:_0x41ae29,selectedIndex:_0x1f1bdd,body:_0x13eb84,nativeFlowMessage:_0x35475a,singleSelectReply:_0x34eb0e,sections:_0x32196d,listType:_0x404b71,displayName:_0x4076ff,vcard:_0x18da0,contactVcard:_0x1d62bb,name:_0x4e8e1f,caption:_0x443d11,conversation:_0x52d04e,pollCreationMessageKey:_0x385574,footerText:_0x36e1a0,contentText:_0x97334e,pageCount:_0x4b26a6,headerType:_0x155f98,isAvatar:_0x394a03,isAnimated:_0x4439c2,fallbackLc:_0x4021ea,fallbackLg:_0x36baf7,namespace:_0x3597db,elementName:_0x1cedcb,localizableParams:_0x25fe0e,viewOnce:_0x90c6be,height:_0x3889a7,width:_0x263116,key:_0x194841,firstScanLength:_0x4e101e,firstScanSidecar:_0x4d9388,gifPlayback:_0x25b837,gifAttribution:_0x25da2f,midQualityFileSha256:_0x15b9c3,scansSidecar:_0x5cdc95,streamingSidecar:_0xc6caa2,thumbnailHeight:_0x827de2,thumbnailWidth:_0x146c2f,thumbnailEncSha256:_0x3b46c3,thumbnailDirectPath:_0x53acab,canonicalUrl:_0x338f2a,matchedText:_0x1aed93,previewType:_0x472c31,thumbnailSha256:_0x582acf,deviceListMetadataVersion:_0x4e2f59,inviteLinkGroupTypeV2:_0x5256c2,interactiveAnnotations:_0x2f364c,scanLengths:_0x3ed399,jpegThumbnail:_0x5ef9a3,url:_0x4ef01b,mediaKeyTimestamp:_0x276b36,waveform:_0x294eb4,stickerSentTs:_0x52aeb8,firstFrameLength:_0x2ddc23,fileEncSha256:_0x53dda1,contextInfo:_0x2ad469,firstFrameSidecar:_0x7a4273,directPath:_0x159a35,fileSha256:_0x36d567,mediaKey:_0x79c6f7,senderTimestampMs:_0x3ce0bc,..._0x4a6e4b}=_0x3f267b;(_0x26afec==='listMessage'||_0x26afec===_0x4d8303(0x390))&&(delete _0x4a6e4b[_0x4d8303(0x26d)],delete _0x4a6e4b[_0x4d8303(0x530)]),typeof _0x3f267b==_0x4d8303(0x24a)?_0x3b6670={'text':_0x3f267b,'type':_0x26afec||_0x4d8303(0x743),..._0x38c3e1&&{'edited':_0x38c3e1},..._0x32edc8&&{'quoted':_0x32edc8},..._0x5e7eaf&&{'reaction':_0x5e7eaf}}:_0x3b6670={'text':_0x4a52b7,..._0x4a6e4b,..._0x26afec===_0x4d8303(0x1cd)?{'poll_id':_0x3f267b[_0x4d8303(0x4c3)]['id'],'quoted':_0x3f267b[_0x4d8303(0x4c3)]['id'],'vote':_0x15f7e6}:{},..._0x26afec===_0x4d8303(0x390)?{'buttonOrList_id':_0x31aea7,'vote':_0x15f7e6}:{},..._0x26afec===_0x4d8303(0x346)?{'buttonOrList_id':_0x31aea7,'vote':_0x15f7e6}:{},..._0x26afec==='templateButtonReplyMessage'?{'buttonOrList_id':_0x31aea7,'vote':_0x15f7e6}:{},..._0x26afec==='buttonsResponseMessage'?{'buttonOrList_id':_0x31aea7,'vote':_0x15f7e6}:{},'type':_0x26afec,..._0x38c3e1&&{'edited':_0x38c3e1},..._0x32edc8&&{'quoted':_0x32edc8},..._0x5e7eaf&&{'reaction':_0x5e7eaf},...(_0x26afec===_0x4d8303(0x39f)||_0x26afec==='pollCreationMessageV2'||_0x26afec==='pollCreationMessageV3'||_0x26afec===_0x4d8303(0x840)||_0x26afec===_0x4d8303(0x684))&&{'convertedOptions':_0x3b6670[_0x4d8303(0x908)]}};}return{'messageType':_0x26afec,'messageContent':_0x3f267b,'message_normalized':_0x3b6670};}catch(_0x5b0c21){return this[_0x4d8303(0x311)]['error']('Erro\x20ao\x20normalizar\x20a\x20mensagem:'+_0x5b0c21),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x5ab933(0x8ef)]=[],(this[_0x5ab933(0x5af)](),this[_0x5ab933(0x7e1)](),this['instance'][_0x5ab933(0x188)]=!0x0,this[_0x5ab933(0x401)]['qrcode']={'count':0x0},this['instance']['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}[a0_0x1c66d9(0x421)](_0x4f7b89,_0x99ad7e){const _0x36c253=a0_0x1c66d9;this['processedMessagesCache'][_0x4f7b89]||(this['processedMessagesCache'][_0x4f7b89]=new Set()),this[_0x36c253(0x820)][_0x4f7b89][_0x36c253(0x887)](_0x99ad7e),setTimeout(()=>this[_0x36c253(0x820)][_0x4f7b89][_0x36c253(0x2a3)](_0x99ad7e),0x2710);}[a0_0x1c66d9(0x5c2)](_0x4fe694,_0x4f3c76){return this['processedMessagesCache'][_0x4fe694]?.['has'](_0x4f3c76)??!0x1;}set[a0_0x1c66d9(0x676)](_0x481cdd){const _0x5aee66=a0_0x1c66d9;if(!_0x481cdd){this[_0x5aee66(0x401)]['name']=(0x0,Pi['v4'])();return;}this['instance']['name']=_0x481cdd,this['sendDataWebhook']('status.instance',{'instance':this['instance'][_0x5aee66(0x87f)],'status':_0x5aee66(0x6e6)});}get[a0_0x1c66d9(0x676)](){const _0x639782=a0_0x1c66d9;return this[_0x639782(0x401)][_0x639782(0x87f)];}get[a0_0x1c66d9(0x242)](){const _0x638086=a0_0x1c66d9;return this[_0x638086(0x401)][_0x638086(0x242)];}async[a0_0x1c66d9(0x585)](){const _0x3dc3b3=a0_0x1c66d9;let _0x17abf0=this[_0x3dc3b3(0x83a)]['user']?.[_0x3dc3b3(0x87f)]??this['client'][_0x3dc3b3(0x198)]?.['verifiedName'];if(!_0x17abf0){if(this[_0x3dc3b3(0x62b)][_0x3dc3b3(0x7b4)](_0x3dc3b3(0x5ef))[_0x3dc3b3(0x8d2)]){let _0x58d1bc=await T['getClient']()['db'](this[_0x3dc3b3(0x62b)]['get'](_0x3dc3b3(0x5ef))[_0x3dc3b3(0x28c)][_0x3dc3b3(0x857)]+_0x3dc3b3(0x6ff))[_0x3dc3b3(0x633)](this[_0x3dc3b3(0x676)])[_0x3dc3b3(0x44a)]({'_id':'creds'});if(_0x58d1bc){let _0x1b8bbf=JSON[_0x3dc3b3(0x860)](JSON[_0x3dc3b3(0x8cd)](_0x58d1bc),w[_0x3dc3b3(0x1bd)][_0x3dc3b3(0x388)]);_0x17abf0=_0x1b8bbf['me']?.[_0x3dc3b3(0x87f)]||_0x1b8bbf['me']?.['verifiedName'];}}else{if((0x0,Je['existsSync'])((0x0,j[_0x3dc3b3(0x552)])(Me,this['instanceName'],_0x3dc3b3(0x38b)))){let _0x3fdf56=JSON[_0x3dc3b3(0x860)]((0x0,Je[_0x3dc3b3(0x3c5)])((0x0,j[_0x3dc3b3(0x552)])(Me,this[_0x3dc3b3(0x676)],_0x3dc3b3(0x38b)),{'encoding':_0x3dc3b3(0x3b5)}));_0x17abf0=_0x3fdf56['me']?.[_0x3dc3b3(0x87f)]||_0x3fdf56['me']?.['verifiedName'];}}}return _0x17abf0;}get[a0_0x1c66d9(0x8d0)](){const _0xa14ad4=a0_0x1c66d9;return this[_0xa14ad4(0x401)][_0xa14ad4(0x8d0)];}async[a0_0x1c66d9(0x5d6)](){const _0x463387=a0_0x1c66d9;let _0x562f86=this['instance']['wuid']+_0x463387(0x87d);try{await this[_0x463387(0x83a)][_0x463387(0x3a0)](_0x562f86)?this[_0x463387(0x401)][_0x463387(0x5d9)]=!0x0:this[_0x463387(0x401)]['isBusiness']=!0x1;}catch{this[_0x463387(0x401)][_0x463387(0x5d9)]=!0x1;}return this[_0x463387(0x311)][_0x463387(0x43e)](this['instanceName']+'\x20('+this[_0x463387(0x401)]['wuid']+'):\x20Instancia\x20isBusiness:\x20'+this[_0x463387(0x401)]['isBusiness']),this[_0x463387(0x401)][_0x463387(0x5d9)];}get['qrCode'](){const _0x153c68=a0_0x1c66d9;return this[_0x153c68(0x401)][_0x153c68(0x188)]=!0x1,this[_0x153c68(0x401)]['qrcode']?.['pairingCode']?{'pairingCode':this[_0x153c68(0x401)][_0x153c68(0x6da)]?.[_0x153c68(0x271)]}:{'code':this['instance'][_0x153c68(0x6da)]?.[_0x153c68(0x5f0)],'base64':this[_0x153c68(0x401)]['qrcode']?.[_0x153c68(0x473)]};}async[a0_0x1c66d9(0x238)](){const _0x506dd9=a0_0x1c66d9;let _0x2bf55b=await this[_0x506dd9(0x6db)][_0x506dd9(0x8b6)][_0x506dd9(0x705)](this[_0x506dd9(0x676)]);this['localWebhook'][_0x506dd9(0x51e)]=_0x2bf55b?.[_0x506dd9(0x51e)],this['localWebhook']['enabled']=_0x2bf55b?.[_0x506dd9(0x64d)],this['localWebhook'][_0x506dd9(0x7bf)]=_0x2bf55b?.[_0x506dd9(0x7bf)],this[_0x506dd9(0x5c6)][_0x506dd9(0x221)]=_0x2bf55b?.[_0x506dd9(0x221)],this[_0x506dd9(0x5c6)][_0x506dd9(0x79f)]=_0x2bf55b?.[_0x506dd9(0x79f)],this[_0x506dd9(0x5c6)][_0x506dd9(0x3a1)]=_0x2bf55b?.['SEND_MESSAGE'],this[_0x506dd9(0x5c6)]['MESSAGES_UPSERT']=_0x2bf55b?.[_0x506dd9(0x5ec)],this[_0x506dd9(0x5c6)][_0x506dd9(0x408)]=_0x2bf55b?.[_0x506dd9(0x408)],this[_0x506dd9(0x5c6)][_0x506dd9(0x374)]=_0x2bf55b?.[_0x506dd9(0x374)],this['localWebhook'][_0x506dd9(0x1b9)]=_0x2bf55b?.[_0x506dd9(0x1b9)],this[_0x506dd9(0x5c6)][_0x506dd9(0x3e9)]=_0x2bf55b?.[_0x506dd9(0x3e9)],this[_0x506dd9(0x5c6)][_0x506dd9(0x389)]=_0x2bf55b?.[_0x506dd9(0x389)],this[_0x506dd9(0x5c6)]['CHATS_UPSERT']=_0x2bf55b?.[_0x506dd9(0x5d2)],this[_0x506dd9(0x5c6)][_0x506dd9(0x5fd)]=_0x2bf55b?.[_0x506dd9(0x5fd)],this[_0x506dd9(0x5c6)][_0x506dd9(0x6e0)]=_0x2bf55b?.[_0x506dd9(0x6e0)],this['localWebhook'][_0x506dd9(0x90e)]=_0x2bf55b?.['CONTACTS_SET'],this[_0x506dd9(0x5c6)][_0x506dd9(0x527)]=_0x2bf55b?.['CONTACTS_UPSERT'],this[_0x506dd9(0x5c6)][_0x506dd9(0x17d)]=_0x2bf55b?.[_0x506dd9(0x17d)],this[_0x506dd9(0x5c6)]['PRESENCE_UPDATE']=_0x2bf55b?.[_0x506dd9(0x416)],this['localWebhook'][_0x506dd9(0x3fe)]=_0x2bf55b?.[_0x506dd9(0x3fe)],this[_0x506dd9(0x5c6)][_0x506dd9(0x87e)]=_0x2bf55b?.[_0x506dd9(0x87e)],this['localWebhook']['groups_ignore']=_0x2bf55b?.[_0x506dd9(0x8fa)];}async[a0_0x1c66d9(0x36c)](_0x281758){const _0x930d5b=a0_0x1c66d9;let _0x3f0843=[_0x930d5b(0x70b),'url',_0x930d5b(0x64d),_0x930d5b(0x7bf),'STATUS_INSTANCE',_0x930d5b(0x79f),_0x930d5b(0x408),_0x930d5b(0x5ec),_0x930d5b(0x3a1),'GROUPS_UPSERT',_0x930d5b(0x1b9),_0x930d5b(0x3e9),_0x930d5b(0x389),_0x930d5b(0x5d2),_0x930d5b(0x5fd),_0x930d5b(0x6e0),_0x930d5b(0x90e),'CONTACTS_UPSERT',_0x930d5b(0x17d),_0x930d5b(0x416),_0x930d5b(0x3fe),_0x930d5b(0x87e),_0x930d5b(0x8fa)],_0x585dcc={};return _0x3f0843[_0x930d5b(0x8bf)](_0x16747e=>{_0x281758[_0x16747e]!==void 0x0&&(_0x585dcc[_0x16747e]=_0x281758[_0x16747e]);}),_0x585dcc[_0x930d5b(0x51e)]&&(_0x585dcc['url']=_0x585dcc['url'][_0x930d5b(0x5e0)]()),await this[_0x930d5b(0x6db)][_0x930d5b(0x8b6)]['create'](_0x585dcc,this[_0x930d5b(0x676)]),Object[_0x930d5b(0x1c5)](this['localWebhook'],_0x585dcc),await this[_0x930d5b(0x6db)][_0x930d5b(0x8b6)]['find'](this[_0x930d5b(0x676)]);}async['findWebhook'](){const _0x13dd42=a0_0x1c66d9;return await this[_0x13dd42(0x6db)][_0x13dd42(0x8b6)][_0x13dd42(0x705)](this[_0x13dd42(0x676)]);}async[a0_0x1c66d9(0x84f)](_0x3d35af,_0x5e41ee){const _0x193066=a0_0x1c66d9;let _0x163a24=_0x3d35af[_0x193066(0x737)](/[\.-]/gm,'_')[_0x193066(0x406)](),_0x546f21=this[_0x193066(0x5c6)][_0x193066(0x64d)]&&(0x0,J[_0x193066(0x5db)])(this[_0x193066(0x5c6)]['url'])?this[_0x193066(0x5c6)]['url']+(this[_0x193066(0x5c6)][_0x193066(0x7bf)]?this[_0x193066(0x7e7)][_0x3d35af]:''):null,_0x5e5c27=this[_0x193066(0x5c6)][_0x163a24],_0x5e3cb8=pe&&pe[_0x193066(0x64d)]&&(0x0,J['isURL'])(pe[_0x193066(0x51e)])?pe[_0x193066(0x51e)]+(pe[_0x193066(0x7bf)]?this['webhookMap'][_0x3d35af]:''):null,_0x5a7bfe=pe?pe[_0x163a24]:null;if(_0x5e5c27&&_0x546f21)try{await K[_0x193066(0x77c)][_0x193066(0x548)]({'baseURL':_0x546f21})[_0x193066(0x5bc)]('',{'event':_0x3d35af,'instance':this[_0x193066(0x401)][_0x193066(0x87f)],'apikey':this[_0x193066(0x401)]['apikey'],'data':_0x5e41ee}),this['logger']['log'](this[_0x193066(0x676)]+'\x20('+this[_0x193066(0x401)][_0x193066(0x242)]+_0x193066(0x582)+_0x3d35af+':\x20'+_0x546f21);}catch{this[_0x193066(0x311)][_0x193066(0x456)](this[_0x193066(0x676)]+'\x20('+this[_0x193066(0x401)]['wuid']+_0x193066(0x18b)+_0x3d35af+':\x20'+_0x546f21);}if(_0x5a7bfe&&_0x5e3cb8)try{await K['default'][_0x193066(0x548)]({'baseURL':_0x5e3cb8})[_0x193066(0x5bc)]('',{'event':_0x3d35af,'instance':this['instance'][_0x193066(0x87f)],'apikey':this[_0x193066(0x401)][_0x193066(0x375)],'data':_0x5e41ee}),this[_0x193066(0x311)]['log'](this[_0x193066(0x676)]+'\x20('+this[_0x193066(0x401)][_0x193066(0x242)]+_0x193066(0x1ca)+_0x3d35af+':\x20'+_0x5e3cb8);}catch{this[_0x193066(0x311)][_0x193066(0x456)](this[_0x193066(0x676)]+'\x20('+this[_0x193066(0x401)][_0x193066(0x242)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x3d35af+':\x20'+_0x5e3cb8);}}async[a0_0x1c66d9(0x72f)]({qr:_0x36b0df,connection:_0x48f437,lastDisconnect:_0x3d33e9}){const _0x350c46=a0_0x1c66d9;if(_0x36b0df){if(this[_0x350c46(0x401)]['qrcode']['count']===Uo)return this[_0x350c46(0x84f)](_0x350c46(0x31b),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':w[_0x350c46(0x411)][_0x350c46(0x365)]}),this[_0x350c46(0x33f)]={'state':_0x350c46(0x7ef),'statusReason':w[_0x350c46(0x411)]['connectionClosed']},this[_0x350c46(0x84f)](_0x350c46(0x17f),{'instance':this['instance']['name'],...this[_0x350c46(0x33f)]}),this[_0x350c46(0x84f)](_0x350c46(0x56a),{'instance':this[_0x350c46(0x401)][_0x350c46(0x87f)],'status':_0x350c46(0x6ab)}),this[_0x350c46(0x6db)][_0x350c46(0x3c8)][_0x350c46(0x2a3)](this['instance'][_0x350c46(0x87f)]),this['endSession']=!0x0,this[_0x350c46(0x1a0)][_0x350c46(0x489)](_0x350c46(0x329),this[_0x350c46(0x401)][_0x350c46(0x87f)]);this[_0x350c46(0x401)][_0x350c46(0x6da)][_0x350c46(0x211)]++;let _0x27ef1f={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x350c46(0x86f),'dark':_0x350c46(0x600)}};Di[_0x350c46(0x77c)][_0x350c46(0x2c3)](_0x36b0df,_0x27ef1f,(_0x4d38aa,_0x5dc2cd)=>{const _0x1f3e25=_0x350c46;if(_0x4d38aa){this[_0x1f3e25(0x311)][_0x1f3e25(0x456)](this[_0x1f3e25(0x676)]+'\x20('+this[_0x1f3e25(0x401)][_0x1f3e25(0x242)]+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x4d38aa instanceof Error?_0x4d38aa[_0x1f3e25(0x18c)]:JSON[_0x1f3e25(0x8cd)](_0x4d38aa,null,0x2)));return;}this[_0x1f3e25(0x401)][_0x1f3e25(0x6da)][_0x1f3e25(0x473)]=_0x5dc2cd,this[_0x1f3e25(0x401)]['qrcode'][_0x1f3e25(0x5f0)]=_0x36b0df,!this[_0x1f3e25(0x4d5)]&&this['sendDataWebhook'](_0x1f3e25(0x31b),{'qrcode':{'instance':this[_0x1f3e25(0x401)][_0x1f3e25(0x87f)],'pairingCode':this[_0x1f3e25(0x401)][_0x1f3e25(0x6da)][_0x1f3e25(0x271)],'code':_0x36b0df,'base64':_0x5dc2cd}});}),this[_0x350c46(0x4d5)]?this[_0x350c46(0x401)]['qrcode'][_0x350c46(0x271)]||(await(0x0,w['delay'])(0x7d0),this[_0x350c46(0x401)][_0x350c46(0x6da)][_0x350c46(0x271)]=await this[_0x350c46(0x83a)]['requestPairingCode'](this[_0x350c46(0x4d5)])):this[_0x350c46(0x401)][_0x350c46(0x6da)][_0x350c46(0x271)]=null,ki['default']['generate'](_0x36b0df,{'small':!0x0},_0x53df8e=>this[_0x350c46(0x311)][_0x350c46(0x19c)](_0x350c46(0x612)+this[_0x350c46(0x401)][_0x350c46(0x87f)]+',\x20qrcodeCount:\x20'+this[_0x350c46(0x401)][_0x350c46(0x6da)][_0x350c46(0x211)]+_0x350c46(0x485)+this[_0x350c46(0x401)]['qrcode'][_0x350c46(0x271)]+_0x350c46(0x8cb)+_0x53df8e));}if(_0x48f437&&(this[_0x350c46(0x33f)]={'state':_0x48f437,'statusReason':_0x3d33e9?.['error']?.[_0x350c46(0x90c)]?.['statusCode']??0xc8},this[_0x350c46(0x84f)](_0x350c46(0x17f),{'instance':this[_0x350c46(0x401)][_0x350c46(0x87f)],...this[_0x350c46(0x33f)]})),_0x48f437===_0x350c46(0x57b)){if(_0x3d33e9[_0x350c46(0x456)]?.[_0x350c46(0x90c)]?.[_0x350c46(0x865)]!==w[_0x350c46(0x411)]['loggedOut']&&(this[_0x350c46(0x417)]<0x21||this[_0x350c46(0x401)]['ScheduleMessage'][_0x350c46(0x3cc)])){this['reconnectAttempts']++,this[_0x350c46(0x884)][_0x350c46(0x463)](Date[_0x350c46(0x2f2)]()),this['reconnectTimestamps']=this[_0x350c46(0x884)]['filter'](_0x5a489d=>Date[_0x350c46(0x2f2)]()-_0x5a489d<this['RECONNECT_TIME_FRAME']);let _0x67a116=this[_0x350c46(0x417)]<=0x1?0x0:Math['min'](Math[_0x350c46(0x3d5)](0x2,this[_0x350c46(0x417)]-0x1)*0x3e8,0x493e0);console[_0x350c46(0x19c)](this['instanceName']+_0x350c46(0x59b)+this[_0x350c46(0x417)]+_0x350c46(0x882)+_0x67a116/0x3e8+_0x350c46(0x909)),await new Promise(_0x32e048=>setTimeout(_0x32e048,_0x67a116)),console['log'](_0x350c46(0x829)),await this[_0x350c46(0x6a5)]();}else{this[_0x350c46(0x84f)](_0x350c46(0x56a),{'instance':this['instance']['name'],'status':_0x350c46(0x6ab)}),this[_0x350c46(0x401)][_0x350c46(0x90d)][_0x350c46(0x3cc)]=!0x1,this['repository'][_0x350c46(0x8b6)]['delete'](this[_0x350c46(0x676)]),this[_0x350c46(0x6db)]['auth'][_0x350c46(0x548)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x350c46(0x401)][_0x350c46(0x87f)]);try{this[_0x350c46(0x311)][_0x350c46(0x3ad)](this['instanceName']+'\x20('+this[_0x350c46(0x401)][_0x350c46(0x242)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x376f31=await this[_0x350c46(0x6db)][_0x350c46(0x18c)][_0x350c46(0x81f)](this[_0x350c46(0x401)][_0x350c46(0x242)]);_0x376f31[_0x350c46(0x7e8)]?this[_0x350c46(0x311)][_0x350c46(0x3ad)](this[_0x350c46(0x676)]+'\x20('+this[_0x350c46(0x401)][_0x350c46(0x242)]+_0x350c46(0x65e)):this[_0x350c46(0x311)][_0x350c46(0x456)](_0x350c46(0x571)+_0x376f31[_0x350c46(0x456)]);}catch(_0x296741){this[_0x350c46(0x311)][_0x350c46(0x456)](_0x350c46(0x73c)+_0x296741[_0x350c46(0x18c)]);}this[_0x350c46(0x401)][_0x350c46(0x90d)]['delayMessage']!==null&&(this[_0x350c46(0x311)]['verbose'](this[_0x350c46(0x676)]+'\x20('+this[_0x350c46(0x401)][_0x350c46(0x242)]+_0x350c46(0x838)),clearInterval(this['instance'][_0x350c46(0x90d)][_0x350c46(0x321)]),this['instance'][_0x350c46(0x90d)][_0x350c46(0x321)]=null),this[_0x350c46(0x311)][_0x350c46(0x3ad)](this['instanceName']+'\x20('+this[_0x350c46(0x401)][_0x350c46(0x242)]+_0x350c46(0x8a9)),this[_0x350c46(0x4c1)]=null,this['eventEmitter'][_0x350c46(0x489)](_0x350c46(0x596),this['instance'][_0x350c46(0x87f)],_0x350c46(0x5ca)),this[_0x350c46(0x83a)]?.['ws']?.[_0x350c46(0x57b)](),this[_0x350c46(0x83a)]['end'](new Error(_0x350c46(0x522)));}}if(_0x48f437==='open'){this['logger'][_0x350c46(0x8ce)](this['instanceName']+'\x20('+this[_0x350c46(0x401)]['wuid']+_0x350c46(0x4be)+this[_0x350c46(0x83a)][_0x350c46(0x236)][_0x350c46(0x8cc)]?.[_0x350c46(0x1b0)]),this[_0x350c46(0x83a)][_0x350c46(0x236)][_0x350c46(0x8cc)]?.[_0x350c46(0x1b0)]||(this[_0x350c46(0x311)][_0x350c46(0x8ce)](this[_0x350c46(0x676)]+'\x20('+this[_0x350c46(0x401)][_0x350c46(0x242)]+_0x350c46(0x25c)),this[_0x350c46(0x83a)]['ev'][_0x350c46(0x2b6)]()),this[_0x350c46(0x819)],this['instance']['wuid']=this['client'][_0x350c46(0x198)]['id']['replace'](/:\d+/,'')['replace'](_0x350c46(0x87d),''),this[_0x350c46(0x401)]['profilePictureUrl']=(await this[_0x350c46(0x428)](this['instance']['wuid']+_0x350c46(0x87d)))['profilePictureUrl'],this[_0x350c46(0x6db)][_0x350c46(0x3c8)][_0x350c46(0x548)]({'online':!0x0,'owner':this['instance'][_0x350c46(0x242)],'lastDisconnect':null},this[_0x350c46(0x401)][_0x350c46(0x87f)]);let _0x29fa4a=_0x350c46(0x543)+this[_0x350c46(0x401)]['wuid'],_0x34030d=0x28,_0x2dcbcf=Math[_0x350c46(0x49f)]((_0x34030d-_0x29fa4a[_0x350c46(0x844)])/0x2),_0xe2ef53='\x20'[_0x350c46(0x866)](_0x2dcbcf),_0x16fc6b=_0x350c46(0x1c7),_0x228529=_0x350c46(0x613)+this[_0x350c46(0x401)][_0x350c46(0x87f)],_0x379523=(''+_0xe2ef53+_0x29fa4a+_0xe2ef53)[_0x350c46(0x727)](_0x34030d,'\x20'),_0x11993e=(''+_0xe2ef53+_0x16fc6b+_0xe2ef53)[_0x350c46(0x727)](_0x34030d,'\x20'),_0x2d4e20=(''+_0xe2ef53+_0x228529+_0xe2ef53)[_0x350c46(0x727)](_0x34030d,'\x20'),_0x53011d=Math[_0x350c46(0x6cd)](_0x379523[_0x350c46(0x844)],_0x11993e[_0x350c46(0x844)],_0x2d4e20[_0x350c46(0x844)]),_0x249ef2=_0x379523['padEnd'](_0x53011d,'\x20'),_0x126e33=_0x11993e['padEnd'](_0x53011d,'\x20'),_0x17ae32=_0x2d4e20[_0x350c46(0x727)](_0x53011d,'\x20');this[_0x350c46(0x311)]['info']((_0x350c46(0x27b)+'─'[_0x350c46(0x866)](_0x53011d)+_0x350c46(0x24d)+_0x126e33+_0x350c46(0x19d)+_0x17ae32+_0x350c46(0x19d)+_0x249ef2+_0x350c46(0x234)+'─'[_0x350c46(0x866)](_0x53011d)+'┘')[_0x350c46(0x737)](/^ +/gm,'\x20\x20')),this[_0x350c46(0x8ca)](),this[_0x350c46(0x401)][_0x350c46(0x90d)]['isConnected']=!0x0;}}[a0_0x1c66d9(0x819)](){const _0x1c8440=a0_0x1c66d9;this[_0x1c8440(0x417)]=0x0,this[_0x1c8440(0x884)]=[];}async[a0_0x1c66d9(0x201)](_0x3bee19,_0x43972d=!0x1){const _0x33862a=a0_0x1c66d9;try{let _0x619915=await this[_0x33862a(0x6db)][_0x33862a(0x18c)]['find']({'where':{'_id':_0x3bee19['id']}},this[_0x33862a(0x401)][_0x33862a(0x242)]);return _0x43972d?_0x619915[0x0]:_0x619915[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x1c66d9(0x5af)](){const _0x830464=a0_0x1c66d9;let _0xa59bb5=this[_0x830464(0x62b)][_0x830464(0x7b4)](_0x830464(0x5de)),_0x2a5b68=this[_0x830464(0x62b)]['get']('DATABASE');_0xa59bb5?.[_0x830464(0x57e)]&&!_0x2a5b68[_0x830464(0x8d2)]&&setInterval(()=>{const _0x146460=_0x830464;try{for(let [_0x4d4d34,_0x9eb26d]of Object['entries'](_0xa59bb5))_0x9eb26d===!0x0&&(0x0,qe[_0x146460(0x707)])('rm\x20-rf\x20'+(0x0,j[_0x146460(0x552)])(this['storePath'],_0x4d4d34[_0x146460(0x202)](),this[_0x146460(0x401)][_0x146460(0x242)])+'/*.json');}catch{}},(_0xa59bb5?.[_0x830464(0x57e)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0xcd582d=a0_0x1c66d9;let _0x39f01c=this[_0xcd582d(0x62b)][_0xcd582d(0x7b4)]('DATABASE'),_0x42c4de=this['configService']['get'](_0xcd582d(0x357));return _0x42c4de?.[_0xcd582d(0x8d2)]?await ks(_0x42c4de,this[_0xcd582d(0x401)][_0xcd582d(0x87f)]):_0x39f01c[_0xcd582d(0x8d2)]?await Ds(this['instance'][_0xcd582d(0x87f)]):await(0x0,w[_0xcd582d(0x55c)])((0x0,j[_0xcd582d(0x552)])(Me,this[_0xcd582d(0x401)][_0xcd582d(0x87f)]));}async['AutomateFunctions'](){const _0x71971d=a0_0x1c66d9;let _0x9a660=()=>Math[_0x71971d(0x49f)](Math['random']()*0x4e21)+0x7d0,_0x379124=async()=>{const _0x14b7a3=_0x71971d;if(!this[_0x14b7a3(0x401)][_0x14b7a3(0x90d)][_0x14b7a3(0x3cc)]){this[_0x14b7a3(0x311)][_0x14b7a3(0x3ad)](this[_0x14b7a3(0x676)]+'\x20('+this[_0x14b7a3(0x401)][_0x14b7a3(0x242)]+'):Desconectado,\x20parando\x20execução.'),this[_0x14b7a3(0x663)]=!0x1;return;}if(this[_0x14b7a3(0x401)][_0x14b7a3(0x242)]&&this['AutomateSystem']&&this['instance'][_0x14b7a3(0x90d)]['delayMessage']!==null&&this[_0x14b7a3(0x401)][_0x14b7a3(0x90d)]['delayMessage']!==void 0x0){let _0x5af78a=Math['round'](this[_0x14b7a3(0x401)][_0x14b7a3(0x90d)][_0x14b7a3(0x321)]/0xea60);this[_0x14b7a3(0x311)][_0x14b7a3(0x3ad)](this[_0x14b7a3(0x676)]+'\x20('+this[_0x14b7a3(0x401)][_0x14b7a3(0x242)]+_0x14b7a3(0x3f8)+_0x5af78a+_0x14b7a3(0x6d3)),this['isRunning']=!0x1;return;}else this[_0x14b7a3(0x401)]['wuid']&&(this[_0x14b7a3(0x311)][_0x14b7a3(0x3ad)](this[_0x14b7a3(0x676)]+'\x20('+this[_0x14b7a3(0x401)][_0x14b7a3(0x242)]+_0x14b7a3(0x777)),this[_0x14b7a3(0x4c1)]||(await this[_0x14b7a3(0x555)](),this[_0x14b7a3(0x225)](),this[_0x14b7a3(0x718)]()),(this[_0x14b7a3(0x401)]['ScheduleMessage'][_0x14b7a3(0x321)]===null||this['instance'][_0x14b7a3(0x90d)]['delayMessage']===void 0x0)&&await this['scheduleNextCheck']());if(this[_0x14b7a3(0x663)]){let _0x3a8a5d=_0x9a660();this[_0x14b7a3(0x311)]['verbose'](this[_0x14b7a3(0x676)]+_0x14b7a3(0x5ac)+_0x3a8a5d/0x3e8+_0x14b7a3(0x448)),setTimeout(_0x379124,_0x3a8a5d);}};if(this[_0x71971d(0x663)])return;this[_0x71971d(0x663)]=!0x0;let _0x3345b1=_0x9a660();setTimeout(_0x379124,_0x3345b1);}async[a0_0x1c66d9(0x718)](){const _0x3a216c=a0_0x1c66d9;let _0x227b63=this[_0x3a216c(0x401)][_0x3a216c(0x242)];try{let _0x427da7=await this[_0x3a216c(0x6db)]['flow'][_0x3a216c(0x65b)]({'where':{'$or':[{'owner':_0x227b63},{'whoCanUse':{'$in':[_0x227b63]}},{'shareOwners':{'$in':[_0x227b63]}}]}}),_0x5a8c6e=new Map(this['AutomateSystem'][_0x3a216c(0x318)][_0x3a216c(0x521)](_0x32d927=>[_0x32d927[_0x3a216c(0x70b)],_0x32d927])),_0x52b317=_0x427da7[_0x3a216c(0x521)](_0x1cbc8b=>{const _0x2bae86=_0x3a216c;let _0x316cf4=_0x5a8c6e[_0x2bae86(0x7b4)](_0x1cbc8b['_id']?.[_0x2bae86(0x37f)]());return{'_id':_0x1cbc8b[_0x2bae86(0x70b)]?.[_0x2bae86(0x37f)](),'name':_0x316cf4?.[_0x2bae86(0x87f)]??_0x1cbc8b['name'],'default':_0x316cf4?.[_0x2bae86(0x77c)]??_0x1cbc8b[_0x2bae86(0x77c)]??!0x1,'startCommand':_0x316cf4?.['startCommand']??_0x1cbc8b[_0x2bae86(0x1e5)],'minutesToClose':_0x316cf4?.[_0x2bae86(0x6ce)]??_0x1cbc8b[_0x2bae86(0x6ce)]??0xa,'readMessages':_0x316cf4?.[_0x2bae86(0x74f)]??_0x1cbc8b[_0x2bae86(0x74f)]??!0x1,'testingWith':_0x316cf4?.['testingWith']??_0x1cbc8b['testingWith'],'canEdit':_0x1cbc8b[_0x2bae86(0x3f5)]===_0x227b63||(_0x1cbc8b[_0x2bae86(0x785)]??[])[_0x2bae86(0x1e1)](_0x227b63),'usersCount':(_0x1cbc8b['shareOwners']??[])[_0x2bae86(0x844)]??0x0};}),_0x34fc14=!0x1;_0x52b317['forEach'](_0x15bff6=>{const _0x5b53a7=_0x3a216c;_0x15bff6['default']&&(_0x34fc14?_0x15bff6[_0x5b53a7(0x77c)]=!0x1:_0x34fc14=!0x0);}),this['AutomateSystem'][_0x3a216c(0x318)]=_0x52b317;let _0x162c7d={'flows':_0x52b317};return await this[_0x3a216c(0x6db)][_0x3a216c(0x776)][_0x3a216c(0x2de)](_0x162c7d,_0x227b63),this[_0x3a216c(0x311)][_0x3a216c(0x3ad)](this['instanceName']+'\x20('+_0x227b63+'):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.'),_0x52b317[_0x3a216c(0x844)];}catch(_0x7ed080){return this[_0x3a216c(0x311)][_0x3a216c(0x456)](this[_0x3a216c(0x676)]+'\x20('+_0x227b63+_0x3a216c(0x900)+(_0x7ed080 instanceof Error?_0x7ed080['message']:JSON['stringify'](_0x7ed080,null,0x2))),{'message':_0x3a216c(0x5a2)+(_0x7ed080 instanceof Error?_0x7ed080['message']:JSON[_0x3a216c(0x8cd)](_0x7ed080,null,0x2))};}}async['connectToWhatsapp'](_0x1496fb){const _0x30cff9=a0_0x1c66d9;try{let _0x200db6=await this[_0x30cff9(0x6db)]['instance']['findOne']({'where':{'_id':ge+'-'+this['instanceName']}}),_0x426e98,_0x33c4c5=!je[_0x30cff9(0x65d)]||!je['networkInterface'];console[_0x30cff9(0x19c)](_0x30cff9(0x722)),console[_0x30cff9(0x19c)]('proxy:\x20',xi),console[_0x30cff9(0x19c)](_0x30cff9(0x8b0),this[_0x30cff9(0x417)]),console[_0x30cff9(0x19c)](_0x30cff9(0x722)),xi&&!_0x33c4c5&&(this[_0x30cff9(0x417)]<0x4||!this[_0x30cff9(0x417)]?_0x200db6&&_0x200db6['ip']?(_0x426e98=_0x200db6['ip'],console['log'](_0x30cff9(0x558)+_0x426e98)):(_0x426e98=await je['createIPv6'](ge,this[_0x30cff9(0x401)][_0x30cff9(0x87f)]),_0x426e98?(console[_0x30cff9(0x19c)](_0x30cff9(0x3bd)+_0x426e98),await(0x0,w[_0x30cff9(0x21f)])(0x7d0)):console[_0x30cff9(0x456)](_0x30cff9(0x88e))):this[_0x30cff9(0x417)]<0x6&&(console[_0x30cff9(0x19c)](_0x30cff9(0x511)),_0x426e98=await je['createIPv6'](ge,this[_0x30cff9(0x401)][_0x30cff9(0x87f)]),_0x426e98?(console[_0x30cff9(0x19c)]('Novo\x20IP\x20criado:\x20'+_0x426e98),await(0x0,w[_0x30cff9(0x21f)])(0x7d0)):console[_0x30cff9(0x456)]('Falha\x20ao\x20recriar\x20IPv6.'))),this[_0x30cff9(0x238)](),this[_0x30cff9(0x401)]['apikey']=(await this[_0x30cff9(0x6db)][_0x30cff9(0x3c8)]['find'](this[_0x30cff9(0x401)][_0x30cff9(0x87f)]))[_0x30cff9(0x375)],this[_0x30cff9(0x401)]['authState']=await this['defineAuthState']();let _0x473b28=[Fi,Vs,(0x0,js[_0x30cff9(0x1cb)])()],_0xb66c80={'localAddress':_0x426e98,'auth':{'creds':this[_0x30cff9(0x401)][_0x30cff9(0x236)][_0x30cff9(0x628)][_0x30cff9(0x8cc)],'keys':(0x0,w[_0x30cff9(0x544)])(this[_0x30cff9(0x401)][_0x30cff9(0x236)]['state']['keys'],(0x0,Jt[_0x30cff9(0x77c)])({'level':_0x30cff9(0x456)}))},'logger':(0x0,Jt[_0x30cff9(0x77c)])({'level':_0x30cff9(0x456)}),'printQRInTerminal':!0x1,'browser':_0x1496fb?[_0x30cff9(0x3f0),Vs,(0x0,js[_0x30cff9(0x1cb)])()]:_0x473b28,'version':[0x2,0xbb8,0x3ce4146a],'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x357e0c=>{const _0x446438=_0x30cff9;let _0x23d3d2=this[_0x446438(0x5c6)]?.['groups_ignore']&&(0x0,w[_0x446438(0x82c)])(_0x357e0c);return(0x0,w[_0x446438(0x6f9)])(_0x357e0c)||_0x23d3d2;},'msgRetryCounterCache':this[_0x30cff9(0x864)],'getMessage':async _0x344ac3=>await this[_0x30cff9(0x201)](_0x344ac3),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x30cff9(0x5d3)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x3348cb){const _0x2c440b=_0x30cff9;return _0x3348cb[_0x2c440b(0x82a)]?.['message']?.['listMessage']?.[_0x2c440b(0x216)]===w[_0x2c440b(0x248)][_0x2c440b(0x8ba)]['ListMessage'][_0x2c440b(0x773)][_0x2c440b(0x738)]&&(_0x3348cb=JSON['parse'](JSON[_0x2c440b(0x8cd)](_0x3348cb)),_0x3348cb['deviceSentMessage']['message'][_0x2c440b(0x840)]['listType']=w[_0x2c440b(0x248)][_0x2c440b(0x8ba)][_0x2c440b(0x368)]['ListType'][_0x2c440b(0x2e2)]),_0x3348cb['listMessage']?.[_0x2c440b(0x216)]==w[_0x2c440b(0x248)]['Message']['ListMessage'][_0x2c440b(0x773)][_0x2c440b(0x738)]&&(_0x3348cb=JSON['parse'](JSON[_0x2c440b(0x8cd)](_0x3348cb)),_0x3348cb['listMessage'][_0x2c440b(0x216)]=w['proto'][_0x2c440b(0x8ba)][_0x2c440b(0x368)][_0x2c440b(0x773)][_0x2c440b(0x2e2)]),_0x3348cb;}};return this[_0x30cff9(0x68b)]=!0x1,this[_0x30cff9(0x83a)]=(0x0,w[_0x30cff9(0x77c)])(_0xb66c80),this[_0x30cff9(0x414)](),this['phoneNumber']=_0x1496fb,this[_0x30cff9(0x83a)];}catch(_0x2857ff){let _0x2bdcbb=_0x30cff9(0x335),_0x4c5b76=_0x2857ff instanceof Error?_0x2857ff[_0x30cff9(0x18c)]:typeof _0x2857ff==_0x30cff9(0x2c2)?JSON[_0x30cff9(0x8cd)](_0x2857ff):_0x2857ff,_0x601e3a=_0x2bdcbb+':\x20'+_0x4c5b76;throw this[_0x30cff9(0x311)][_0x30cff9(0x456)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x30cff9(0x761)+_0x601e3a),console[_0x30cff9(0x456)](_0x30cff9(0x2ec),_0x2857ff),_0x2857ff instanceof Error&&console['error']('Stack\x20trace:',_0x2857ff[_0x30cff9(0x76e)]),new x(_0x601e3a);}}[a0_0x1c66d9(0x414)](){const _0x39ef5=a0_0x1c66d9;this[_0x39ef5(0x83a)]['ev'][_0x39ef5(0x6b5)](_0x12208d=>{const _0x56c588=_0x39ef5;if(!this[_0x56c588(0x68b)]){let _0x91ec84=this['configService'][_0x56c588(0x7b4)](_0x56c588(0x5ef));if(_0x12208d[_0x56c588(0x6a2)]){let _0x2db19f=_0x12208d['labels.edit'];this[_0x56c588(0x4d2)]['labels.edit'](_0x2db19f);}if(_0x12208d[_0x56c588(0x693)]){let _0xd90774=_0x12208d[_0x56c588(0x693)];this[_0x56c588(0x4d2)]['labels.association'](_0xd90774);}if(_0x12208d[_0x56c588(0x17f)]&&this['connectionUpdate'](_0x12208d[_0x56c588(0x17f)]),_0x12208d[_0x56c588(0x433)]&&this[_0x56c588(0x401)]['authState'][_0x56c588(0x566)](),_0x12208d[_0x56c588(0x622)]){let _0x404b9b=_0x12208d[_0x56c588(0x622)];this[_0x56c588(0x4d2)][_0x56c588(0x622)](_0x404b9b,_0x91ec84);}if(_0x12208d[_0x56c588(0x828)]){let _0x45748c=_0x12208d[_0x56c588(0x828)];this['messageHandle']['messages.upsert'](_0x45748c,_0x91ec84);}if(_0x12208d[_0x56c588(0x4e7)]){let _0x3c7bb0=_0x12208d[_0x56c588(0x4e7)];this['messageHandle'][_0x56c588(0x4e7)](_0x3c7bb0,_0x91ec84);}if(_0x12208d[_0x56c588(0x51d)]){let _0x43bc46=_0x12208d[_0x56c588(0x51d)];if(this[_0x56c588(0x5c6)]?.[_0x56c588(0x8fa)]&&_0x43bc46['id'][_0x56c588(0x1e1)](_0x56c588(0x257)))return;this[_0x56c588(0x84f)]('presence.update',_0x43bc46);}if(_0x12208d[_0x56c588(0x799)]){let _0x260781=_0x12208d[_0x56c588(0x799)];this[_0x56c588(0x754)][_0x56c588(0x799)](_0x260781);}if(_0x12208d[_0x56c588(0x669)]){let _0x179b3c=_0x12208d[_0x56c588(0x669)];this['groupHandler'][_0x56c588(0x669)](_0x179b3c);}if(_0x12208d[_0x56c588(0x2ad)]){let _0x52b6de=_0x12208d[_0x56c588(0x2ad)];this[_0x56c588(0x754)][_0x56c588(0x2ad)](_0x52b6de);}if(_0x12208d['chats.upsert']){let _0x44ea9a=_0x12208d[_0x56c588(0x3c2)];this[_0x56c588(0x86e)][_0x56c588(0x3c2)](_0x44ea9a,_0x91ec84);}if(_0x12208d['chats.update']){let _0x43b283=_0x12208d[_0x56c588(0x474)];this[_0x56c588(0x86e)][_0x56c588(0x474)](_0x43b283,_0x91ec84);}if(_0x12208d[_0x56c588(0x362)]){let _0x276799=_0x12208d[_0x56c588(0x362)];this[_0x56c588(0x86e)][_0x56c588(0x362)](_0x276799);}if(_0x12208d[_0x56c588(0x7ed)]){let _0x2ab30d=_0x12208d[_0x56c588(0x7ed)];this[_0x56c588(0x46d)][_0x56c588(0x7ed)](_0x2ab30d,_0x91ec84);}if(_0x12208d['contacts.update']){let _0x38262b=_0x12208d['contacts.update'];this[_0x56c588(0x46d)][_0x56c588(0x2f3)](_0x38262b,_0x91ec84);}}});}async['retrySendMessage'](_0x1e3bcb,_0xcd984e){const _0xe4779c=a0_0x1c66d9;if(_0xcd984e>=0xa){console[_0xe4779c(0x456)](this[_0xe4779c(0x676)]+'\x20('+this[_0xe4779c(0x401)][_0xe4779c(0x242)]+_0xe4779c(0x2a4)),delete jt[_0x1e3bcb[_0xe4779c(0x757)]['id']];return;}try{console[_0xe4779c(0x456)](this[_0xe4779c(0x676)]+'\x20('+this[_0xe4779c(0x401)][_0xe4779c(0x242)]+_0xe4779c(0x413)+(_0xcd984e+0x1)),await this[_0xe4779c(0x83a)][_0xe4779c(0x8c2)](JSON[_0xe4779c(0x860)](_0x1e3bcb[_0xe4779c(0x816)][0x1],w['BufferJSON']['reviver'])),console['error'](_0xe4779c(0x183));}catch(_0x21c025){console[_0xe4779c(0x456)](this['instanceName']+'\x20('+this[_0xe4779c(0x401)][_0xe4779c(0x242)]+'):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20'+_0x21c025),setTimeout(()=>this[_0xe4779c(0x85d)](_0x1e3bcb,_0xcd984e+0x1),Math[_0xe4779c(0x3d5)](0x2,_0xcd984e)*0x3e8);}}async['fakeReceived'](_0x2e5f44){const _0x32f2be=a0_0x1c66d9;let _0x400dae=_0x2e5f44[_0x32f2be(0x757)]['remoteJid'][_0x32f2be(0x369)]('@g.us'),_0x4b06d4;if(_0x2e5f44['key'][_0x32f2be(0x889)])_0x4b06d4=this[_0x32f2be(0x401)][_0x32f2be(0x8d0)];else{let _0x4cb83a=_0x400dae?_0x2e5f44['key'][_0x32f2be(0x885)]:_0x2e5f44[_0x32f2be(0x757)][_0x32f2be(0x328)];_0x4b06d4=(await this[_0x32f2be(0x893)](_0x4cb83a,_0x2e5f44['pushName'],!0x1))[_0x32f2be(0x1c8)]['pictureUrl'];}_0x2e5f44[_0x32f2be(0x56e)]&&_0x2e5f44[_0x32f2be(0x56e)][_0x32f2be(0x37f)]()['length']<0xd&&(_0x2e5f44[_0x32f2be(0x56e)]=_0x2e5f44['messageTimestamp']*0x3e8);let _0x14ddc8={'_id':_0x2e5f44[_0x32f2be(0x757)]['id'],'key':_0x2e5f44[_0x32f2be(0x757)],'isGroup':_0x400dae,'profilePictureUrl':_0x4b06d4,'pushName':_0x2e5f44[_0x32f2be(0x786)],'message':{'text':_0x32f2be(0x69a)},'messageType':_0x32f2be(0x456),'message_normalized':{'key':_0x2e5f44[_0x32f2be(0x757)],'pushName':_0x2e5f44[_0x32f2be(0x786)],'messageTimestamp':_0x2e5f44['messageTimestamp'],'source':(0x0,w[_0x32f2be(0x46e)])(_0x2e5f44[_0x32f2be(0x757)]['id']),'text':_0x32f2be(0x69a)},'messageTimestamp':_0x2e5f44[_0x32f2be(0x56e)],'owner':this[_0x32f2be(0x401)]['wuid'],'source':(0x0,w[_0x32f2be(0x46e)])(_0x2e5f44['key']['id'])};this[_0x32f2be(0x311)]['error'](this[_0x32f2be(0x676)]+'\x20('+this['instance'][_0x32f2be(0x242)]+'):\x20'+(_0x14ddc8[_0x32f2be(0x757)]?.[_0x32f2be(0x889)]?_0x32f2be(0x533):_0x32f2be(0x6e1))+'\x20['+_0x14ddc8[_0x32f2be(0x757)]?.[_0x32f2be(0x328)]['replace']('@s.whatsapp.net','')+']\x20('+_0x14ddc8[_0x32f2be(0x8f7)]+')'),_0x14ddc8['message_normalized']?.['text']&&this[_0x32f2be(0x311)][_0x32f2be(0x456)](_0x2e5f44[_0x32f2be(0x757)]['id']+':\x20'+_0x14ddc8['message_normalized']?.[_0x32f2be(0x460)]),await this[_0x32f2be(0x6db)]['message'][_0x32f2be(0x256)]([_0x14ddc8],this[_0x32f2be(0x401)][_0x32f2be(0x242)]),await this[_0x32f2be(0x6db)][_0x32f2be(0x42d)][_0x32f2be(0x256)]([_0x14ddc8]),this['sendDataWebhook'](_0x32f2be(0x828),_0x14ddc8),F(this[_0x32f2be(0x676)],_0x32f2be(0x1ef),{'message':_0x14ddc8});}[a0_0x1c66d9(0x37b)](_0x145315){return new Promise(_0x3435db=>setTimeout(_0x3435db,_0x145315));}[a0_0x1c66d9(0x36f)](_0x5ee62e){const _0x2aa714=a0_0x1c66d9;_0x5ee62e=_0x5ee62e['replace'](/\D/g,'');let _0x19af58=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x2aa714(0x2e7)](_0x5ee62e);if(_0x19af58&&_0x19af58[0x1]==='55'){let _0x4b7d93=_0x19af58[0x2],_0x2c9868=_0x19af58[0x3],_0x1a25fd=_0x19af58[0x4];if(parseInt(_0x4b7d93)>=0x1f&&_0x2c9868==='9')return _0x19af58[0x1]+_0x4b7d93+_0x1a25fd;}return _0x5ee62e;}[a0_0x1c66d9(0x63e)](_0x47f20a){const _0x1809cf=a0_0x1c66d9;return _0x47f20a[_0x1809cf(0x1e1)](_0x1809cf(0x257))||_0x47f20a[_0x1809cf(0x1e1)]('@s.whatsapp.net')||_0x47f20a[_0x1809cf(0x1e1)](_0x1809cf(0x618))?_0x47f20a:(_0x47f20a=_0x47f20a?.['replace'](/\s/g,'')[_0x1809cf(0x737)](/\+/g,'')[_0x1809cf(0x737)](/\(/g,'')[_0x1809cf(0x737)](/\)/g,'')['split'](/\:/)[0x0]['split']('@')[0x0],_0x47f20a[_0x1809cf(0x844)]>=0x12?(_0x47f20a=_0x47f20a[_0x1809cf(0x737)](/[^\d-]/g,''),_0x47f20a+_0x1809cf(0x257)):(_0x47f20a=_0x47f20a[_0x1809cf(0x737)](/\D/g,''),_0x47f20a+_0x1809cf(0x87d)));}async[a0_0x1c66d9(0x7f2)](_0x30f11b){const _0x3539b4=a0_0x1c66d9;let _0x2e2f35=(await this[_0x3539b4(0x8f4)]({'numbers':[_0x30f11b[_0x3539b4(0x4e8)]]}))[0x0];if(!_0x2e2f35[_0x3539b4(0x2d5)]&&!(0x0,w[_0x3539b4(0x82c)])(_0x2e2f35[_0x3539b4(0x636)])&&!_0x2e2f35['jid'][_0x3539b4(0x1e1)](_0x3539b4(0x618)))throw new m(_0x2e2f35);let _0x418e6d=_0x2e2f35[_0x3539b4(0x636)];try{return await this['client'][_0x3539b4(0x3fb)](_0x418e6d),await this[_0x3539b4(0x83a)]['sendPresenceUpdate'](_0x30f11b['presence'],_0x418e6d),{'status':0xc8,'presence':_0x30f11b[_0x3539b4(0x89d)]};}catch(_0x1e2b1b){let _0x50dd71=_0x3539b4(0x84e),_0x48f0a3=_0x1e2b1b instanceof Error?_0x1e2b1b[_0x3539b4(0x18c)]:typeof _0x1e2b1b==_0x3539b4(0x2c2)?JSON[_0x3539b4(0x8cd)](_0x1e2b1b):_0x1e2b1b,_0x40d593=_0x50dd71+':\x20'+_0x48f0a3;throw this['logger']['error'](this[_0x3539b4(0x676)]+'\x20('+this[_0x3539b4(0x401)][_0x3539b4(0x242)]+_0x3539b4(0x761)+_0x40d593),new m(_0x40d593);}}async[a0_0x1c66d9(0x893)](_0x34926c,_0x35dded,_0x465b86,_0x50d4a2=!0x0){const _0x4c3de6=a0_0x1c66d9;let _0x52f301=await this[_0x4c3de6(0x6db)][_0x4c3de6(0x611)][_0x4c3de6(0x44a)]({'where':{'_id':_0x34926c}});if(!_0x52f301&&!_0x50d4a2)return;let _0x594076={'lastUpdate':Date['now']()};if(_0x465b86||!_0x52f301?.[_0x4c3de6(0x8d9)]||Date['now']()-_0x52f301[_0x4c3de6(0x8d9)]>0x18*0x3c*0x3c*0x3e8)try{let _0x398f7d=(await this['profilePicture'](_0x34926c))[_0x4c3de6(0x8d0)];_0x594076[_0x4c3de6(0x82d)]=_0x398f7d;}catch(_0x2ed8ee){let _0x154c06=_0x4c3de6(0x253),_0x5028c7=_0x2ed8ee instanceof Error?_0x2ed8ee['message']:typeof _0x2ed8ee==_0x4c3de6(0x2c2)?JSON['stringify'](_0x2ed8ee):_0x2ed8ee,_0x4319fa=_0x154c06+':\x20'+_0x5028c7;throw this[_0x4c3de6(0x311)][_0x4c3de6(0x456)](this[_0x4c3de6(0x676)]+'\x20('+this['instance'][_0x4c3de6(0x242)]+'):\x20'+_0x4319fa),new m(_0x4319fa);}return _0x35dded&&_0x52f301?.[_0x4c3de6(0x87f)]!==_0x35dded&&(_0x594076[_0x4c3de6(0x87f)]=_0x35dded),Object[_0x4c3de6(0x4cb)](_0x594076)[_0x4c3de6(0x844)]>0x1&&(_0x52f301?await this[_0x4c3de6(0x6db)][_0x4c3de6(0x611)]['update']({'where':{'_id':_0x34926c}},_0x594076):await this[_0x4c3de6(0x6db)][_0x4c3de6(0x611)][_0x4c3de6(0x256)]([{'_id':_0x34926c,..._0x594076}]),_0x52f301={..._0x52f301,..._0x594076}),{'cachedContact':_0x52f301};}async[a0_0x1c66d9(0x428)](_0x580380){const _0x5a58fe=a0_0x1c66d9;let _0x62ee8=this[_0x5a58fe(0x63e)](_0x580380);try{return{'wuid':_0x62ee8,'profilePictureUrl':await this['client']['profilePictureUrl'](_0x62ee8,'image')};}catch{return{'wuid':_0x62ee8,'profilePictureUrl':null};}}async[a0_0x1c66d9(0x617)](_0x88b20b,_0x5f047d,_0x57d643){const _0x2f819f=a0_0x1c66d9;let _0x2b14ff=0x0;for(;_0x2b14ff<0x5;)try{return await this[_0x2f819f(0x607)](_0x88b20b,_0x5f047d,_0x57d643);}catch(_0x23dd70){if(_0x2b14ff++,_0x23dd70 instanceof Error&&_0x23dd70[_0x2f819f(0x18c)]===_0x2f819f(0x461)){if(_0x2b14ff>=0x5)throw new m(_0x2f819f(0x4e9)+_0x23dd70[_0x2f819f(0x18c)]);this[_0x2f819f(0x311)][_0x2f819f(0x8ce)](_0x2f819f(0x29b)+_0x2b14ff+'/5\x20falhou:\x20'+_0x23dd70[_0x2f819f(0x18c)]+'.\x20Tentando\x20novamente\x20em\x20'+0x1388/0x3e8+_0x2f819f(0x22d)),await new Promise(_0x1010ff=>setTimeout(_0x1010ff,0x1388));}else throw new m(_0x23dd70[_0x2f819f(0x18c)]);}}async[a0_0x1c66d9(0x607)](_0x4d0dd7,_0x5205cf,_0x397647){const _0x45a8c8=a0_0x1c66d9;let _0x195d8b;try{let _0x5fa89a=(await this[_0x45a8c8(0x8f4)]({'numbers':[_0x4d0dd7]}))?.['shift']();if(!_0x5fa89a[_0x45a8c8(0x2d5)]&&!(0x0,w[_0x45a8c8(0x82c)])(_0x5fa89a[_0x45a8c8(0x636)])&&!_0x5fa89a['jid'][_0x45a8c8(0x1e1)](_0x45a8c8(0x618)))throw new m(_0x5fa89a);_0x195d8b=_0x5fa89a['jid'];}catch(_0x680c1f){_0x195d8b=_0x4d0dd7,this[_0x45a8c8(0x311)][_0x45a8c8(0x8ce)](this[_0x45a8c8(0x676)]+'\x20('+this[_0x45a8c8(0x401)][_0x45a8c8(0x242)]+_0x45a8c8(0x58e)+_0x680c1f[_0x45a8c8(0x18c)]),this[_0x45a8c8(0x311)]['warn'](this['instanceName']+'\x20('+this[_0x45a8c8(0x401)][_0x45a8c8(0x242)]+_0x45a8c8(0x1c3)+_0x195d8b);}try{if(_0x195d8b||(_0x195d8b=_0x4d0dd7,this[_0x45a8c8(0x311)][_0x45a8c8(0x8ce)](this[_0x45a8c8(0x676)]+'\x20('+this[_0x45a8c8(0x401)][_0x45a8c8(0x242)]+'):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20'+_0x195d8b)),_0x397647||(_0x397647={}),_0x397647?.[_0x45a8c8(0x21f)]){await this[_0x45a8c8(0x83a)][_0x45a8c8(0x3fb)](_0x195d8b),await this[_0x45a8c8(0x83a)][_0x45a8c8(0x34f)](_0x397647?.[_0x45a8c8(0x89d)]??_0x45a8c8(0x66c),_0x195d8b);let _0x523f60=Math[_0x45a8c8(0x674)](_0x397647['delay'],0x2710);await(0x0,w[_0x45a8c8(0x21f)])(_0x523f60),await this[_0x45a8c8(0x83a)][_0x45a8c8(0x34f)](_0x45a8c8(0x32b),_0x195d8b);}let _0x10a9b5=_0x397647?.[_0x45a8c8(0x682)]!=!0x1?void 0x0:!0x1,_0x212979;if(_0x397647?.['quoted']){let _0x45ad91=_0x397647?.[_0x45a8c8(0x771)],_0x480c3c=_0x45ad91?.['message']?_0x45ad91:await this[_0x45a8c8(0x201)](_0x45ad91[_0x45a8c8(0x757)],!0x0);_0x480c3c&&(_0x212979=_0x480c3c);}let _0x584b7b=await this[_0x45a8c8(0x6db)][_0x45a8c8(0x862)][_0x45a8c8(0x44a)]({'where':{'_id':_0x195d8b}},this['instance'][_0x45a8c8(0x242)]),_0x386063,_0x37d70c=null;if((0x0,w[_0x45a8c8(0x82c)])(_0x195d8b))try{if(_0x37d70c=_0x584b7b['groupdata'],!_0x37d70c)throw new U(_0x45a8c8(0x2ee));if(!_0x37d70c[_0x45a8c8(0x508)])throw new m('Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo');_0x397647?.[_0x45a8c8(0x447)]&&(_0x397647[_0x45a8c8(0x447)]?.[_0x45a8c8(0x37d)]?_0x386063=_0x37d70c[_0x45a8c8(0x525)][_0x45a8c8(0x521)](_0xf3260b=>_0xf3260b['id']):_0x397647['mentions']?.['mentioned']?.['length']&&(_0x386063=_0x397647[_0x45a8c8(0x447)][_0x45a8c8(0x205)][_0x45a8c8(0x521)](_0x3e2e01=>{const _0x48d6d9=_0x45a8c8;let _0x196543=this[_0x48d6d9(0x63e)](_0x3e2e01);return(0x0,w[_0x48d6d9(0x82c)])(_0x196543)?null:_0x196543;})));}catch(_0x5df2b1){throw _0x5df2b1 instanceof U?new U('Grupo\x20não\x20encontrado'):_0x5df2b1 instanceof m?new m('Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo'):new Error(_0x45a8c8(0x1c4));}let _0x3647fa=await((async()=>{const _0x321a33=_0x45a8c8;let _0x2bfc88={'quoted':_0x212979,'ephemeralExpiration':_0x584b7b?.[_0x321a33(0x35c)]??0x0};if(!_0x5205cf['audio']&&!_0x5205cf[_0x321a33(0x3ba)]&&!_0x5205cf[_0x321a33(0x8e8)]&&!_0x5205cf[_0x321a33(0x743)]&&_0x195d8b!=='status@broadcast'&&_0x5205cf['reactionMessage'])return await this['client']['sendMessage'](_0x195d8b,{'react':{'text':_0x5205cf[_0x321a33(0x206)]['text'],'key':_0x5205cf['reactionMessage'][_0x321a33(0x757)]}},_0x2bfc88);if(_0x5205cf['conversation']){let _0x10c987=_0x5205cf['conversation'];return _0x397647?.[_0x321a33(0x3e2)]&&(_0x10c987=await this[_0x321a33(0x758)](_0x10c987,_0x195d8b)),await this[_0x321a33(0x83a)][_0x321a33(0x457)](_0x195d8b,{'text':_0x10c987,'mentions':_0x386063,'linkPreview':_0x10a9b5},_0x2bfc88);}return!_0x5205cf[_0x321a33(0x641)]&&!_0x5205cf[_0x321a33(0x3ba)]&&_0x195d8b!=_0x321a33(0x8a5)?await this['client'][_0x321a33(0x457)](_0x195d8b,{'forward':{'key':{'remoteJid':this[_0x321a33(0x401)][_0x321a33(0x242)],'fromMe':!0x0},'message':_0x5205cf},'mentions':_0x386063},_0x2bfc88):_0x195d8b===_0x321a33(0x8a5)?await this[_0x321a33(0x83a)][_0x321a33(0x457)](_0x195d8b,_0x5205cf[_0x321a33(0x730)][_0x321a33(0x36e)],{'backgroundColor':_0x5205cf['status'][_0x321a33(0x440)][_0x321a33(0x7c3)],'font':_0x5205cf['status'][_0x321a33(0x440)][_0x321a33(0x8ab)],'statusJidList':_0x5205cf[_0x321a33(0x730)][_0x321a33(0x440)][_0x321a33(0x1bb)]}):await this[_0x321a33(0x83a)][_0x321a33(0x457)](_0x195d8b,_0x5205cf,_0x2bfc88);})()),_0x5b646b=(0x0,w[_0x45a8c8(0x4b8)])(_0x3647fa[_0x45a8c8(0x18c)]),_0x2effa5=(0x0,w['getContentType'])(_0x5b646b),{message_normalized:_0x3e6ed8}=this[_0x45a8c8(0x863)](_0x5b646b,_0x2effa5,null),_0xb0e53a={'_id':_0x3647fa[_0x45a8c8(0x757)]['id'],'key':_0x3647fa[_0x45a8c8(0x757)],'pushName':_0x3647fa[_0x45a8c8(0x786)],'isGroup':_0x3647fa[_0x45a8c8(0x757)][_0x45a8c8(0x328)][_0x45a8c8(0x369)](_0x45a8c8(0x257)),'profilePictureUrl':this['instance'][_0x45a8c8(0x8d0)],'message':_0x5b646b,'messageType':_0x2effa5,'message_normalized':{'key':_0x3647fa[_0x45a8c8(0x757)],'pushName':_0x3647fa[_0x45a8c8(0x786)],'messageTimestamp':_0x3647fa[_0x45a8c8(0x56e)]&&_0x3647fa['messageTimestamp']['toString']()['length']<0xd?_0x3647fa[_0x45a8c8(0x56e)]*0x3e8:_0x3647fa['messageTimestamp']||null,'source':(0x0,w[_0x45a8c8(0x46e)])(_0x3647fa[_0x45a8c8(0x757)]['id']),..._0x3e6ed8},'messageTimestamp':_0x3647fa[_0x45a8c8(0x56e)]&&_0x3647fa[_0x45a8c8(0x56e)][_0x45a8c8(0x37f)]()['length']<0xd?_0x3647fa['messageTimestamp']*0x3e8:_0x3647fa[_0x45a8c8(0x56e)]||null,'owner':this[_0x45a8c8(0x401)]['wuid'],'source':(0x0,w[_0x45a8c8(0x46e)])(_0x3647fa[_0x45a8c8(0x757)]['id'])};return this[_0x45a8c8(0x311)][_0x45a8c8(0x8ce)](this[_0x45a8c8(0x676)]+'\x20('+this[_0x45a8c8(0x401)][_0x45a8c8(0x242)]+_0x45a8c8(0x232)+_0xb0e53a[_0x45a8c8(0x757)]?.[_0x45a8c8(0x328)][_0x45a8c8(0x737)]('@s.whatsapp.net','')+']\x20('+_0xb0e53a[_0x45a8c8(0x8f7)]+')'),_0xb0e53a[_0x45a8c8(0x830)]?.['text']&&this['logger'][_0x45a8c8(0x8ce)](_0xb0e53a[_0x45a8c8(0x830)]?.[_0x45a8c8(0x460)]),this[_0x45a8c8(0x84f)]('send.message',_0xb0e53a),F(this[_0x45a8c8(0x676)],_0x45a8c8(0x1ef),{'message':_0xb0e53a}),this[_0x45a8c8(0x496)](this['configService']['get'](_0x45a8c8(0x5ef)),_0xb0e53a,'SEND_MESSAGE',_0x584b7b),await this['repository']['message']['insert']([_0xb0e53a],this[_0x45a8c8(0x401)]['wuid']),_0x3647fa;}catch(_0x28317a){let _0x5dcdbf=_0x45a8c8(0x518)+_0x195d8b,_0x4fa2c7=_0x28317a instanceof Error?_0x28317a['message']:typeof _0x28317a==_0x45a8c8(0x2c2)?JSON[_0x45a8c8(0x8cd)](_0x28317a):_0x28317a,_0x5179f9=_0x5dcdbf+':\x20'+_0x4fa2c7;throw this[_0x45a8c8(0x311)][_0x45a8c8(0x456)](this[_0x45a8c8(0x676)]+'\x20('+this['instance'][_0x45a8c8(0x242)]+_0x45a8c8(0x761)+_0x5179f9),new m(_0x5179f9);}}async[a0_0x1c66d9(0x6e8)](_0x1418c2,_0x266fb6,_0x5f58f2){const _0x19338e=a0_0x1c66d9;let _0x3a8680=this[_0x19338e(0x63e)](_0x1418c2),_0x393473=(await this[_0x19338e(0x8f4)]({'numbers':[_0x3a8680]}))[0x0];if(!_0x393473[_0x19338e(0x2d5)]&&!(0x0,w[_0x19338e(0x82c)])(_0x393473[_0x19338e(0x636)]))throw new m(_0x393473);let _0x3351ef=(0x0,w[_0x19338e(0x82c)])(_0x3a8680)?_0x3a8680:_0x393473['jid'];if((0x0,w[_0x19338e(0x82c)])(_0x3351ef))try{await this[_0x19338e(0x83a)]['groupMetadata'](_0x3351ef);}catch{throw new m('Group\x20not\x20found');}try{_0x5f58f2?.['delay']&&(await this[_0x19338e(0x83a)][_0x19338e(0x3fb)](_0x3351ef),await this[_0x19338e(0x83a)][_0x19338e(0x34f)](_0x5f58f2?.[_0x19338e(0x89d)]??_0x19338e(0x66c),_0x3a8680),await(0x0,w['delay'])(_0x5f58f2[_0x19338e(0x21f)]),await this[_0x19338e(0x83a)][_0x19338e(0x34f)](_0x19338e(0x32b),_0x3351ef));let _0x1187d4=await((async()=>{const _0x2bc8cb=_0x19338e;let _0x4c549d,_0x3eb933=_0x2bc8cb(0x407)+(0x0,re[_0x2bc8cb(0x725)])(0x12)['toString']('hex')[_0x2bc8cb(0x406)](),_0x3d3c3b=(0x0,w[_0x2bc8cb(0x5e1)])(_0x3351ef,_0x266fb6,{'timestamp':new Date(),'userJid':this['instance']['wuid'],'messageId':_0x3eb933,'quoted':_0x4c549d}),_0x3454fd=await this[_0x2bc8cb(0x83a)][_0x2bc8cb(0x3f2)](_0x3351ef,_0x3d3c3b[_0x2bc8cb(0x18c)],{'messageId':_0x3eb933});_0x3d3c3b['key']={'id':_0x3454fd,'remoteJid':_0x3a8680,'participant':(0x0,w[_0x2bc8cb(0x6ec)])(_0x3a8680)?void 0x0:_0x3a8680,'fromMe':!0x0};for(let [_0x61dbd4,_0x574d25]of Object[_0x2bc8cb(0x7eb)](_0x3d3c3b))(!_0x574d25||Array['isArray'](_0x574d25)&&_0x574d25[_0x2bc8cb(0x844)]===0x0)&&delete _0x3d3c3b[_0x61dbd4];return this['client']['ev'][_0x2bc8cb(0x489)]('messages.upsert',{'messages':[_0x3d3c3b],'type':_0x2bc8cb(0x632)}),_0x3d3c3b;})()),_0x612a06=await this[_0x19338e(0x6db)][_0x19338e(0x862)]['findOne']({'where':{'_id':_0x3351ef}},this['instance'][_0x19338e(0x242)]),_0x18e544=(0x0,w['normalizeMessageContent'])(_0x1187d4[_0x19338e(0x18c)]),_0x518a19=(0x0,w['getContentType'])(_0x18e544),{message_normalized:_0x1166a4}=this[_0x19338e(0x863)](_0x18e544,_0x518a19,null),_0x5d1c7c={'_id':_0x1187d4[_0x19338e(0x757)]['id'],'key':_0x1187d4[_0x19338e(0x757)],'pushName':_0x1187d4[_0x19338e(0x786)],'isGroup':_0x1187d4['key'][_0x19338e(0x328)]['endsWith']('@g.us'),'profilePictureUrl':this[_0x19338e(0x401)]['profilePictureUrl'],'message':_0x18e544,'messageType':_0x518a19,'message_normalized':{'key':_0x1187d4['key'],'pushName':_0x1187d4[_0x19338e(0x786)],'messageTimestamp':_0x1187d4['messageTimestamp']&&_0x1187d4['messageTimestamp'][_0x19338e(0x37f)]()[_0x19338e(0x844)]<0xd?_0x1187d4[_0x19338e(0x56e)]*0x3e8:_0x1187d4[_0x19338e(0x56e)]||null,'source':(0x0,w[_0x19338e(0x46e)])(_0x1187d4[_0x19338e(0x757)]['id']),..._0x1166a4},'messageTimestamp':_0x1187d4[_0x19338e(0x56e)]&&_0x1187d4[_0x19338e(0x56e)]['toString']()[_0x19338e(0x844)]<0xd?_0x1187d4['messageTimestamp']*0x3e8:_0x1187d4[_0x19338e(0x56e)]||null,'owner':this[_0x19338e(0x401)][_0x19338e(0x242)],'source':(0x0,w[_0x19338e(0x46e)])(_0x1187d4[_0x19338e(0x757)]['id'])};return this[_0x19338e(0x311)][_0x19338e(0x8ce)](this[_0x19338e(0x676)]+'\x20('+this[_0x19338e(0x401)]['wuid']+_0x19338e(0x232)+_0x5d1c7c[_0x19338e(0x757)]?.[_0x19338e(0x328)][_0x19338e(0x737)](_0x19338e(0x87d),'')+_0x19338e(0x458)+_0x5d1c7c[_0x19338e(0x8f7)]+')'),_0x5d1c7c[_0x19338e(0x830)]?.[_0x19338e(0x460)]&&this['logger'][_0x19338e(0x8ce)](_0x5d1c7c['message_normalized']?.[_0x19338e(0x460)]),this['sendDataWebhook']('send.message',_0x5d1c7c),F(this['instanceName'],_0x19338e(0x1ef),{'message':_0x5d1c7c}),this[_0x19338e(0x496)](this[_0x19338e(0x62b)][_0x19338e(0x7b4)](_0x19338e(0x5ef)),_0x5d1c7c,_0x19338e(0x3a1),_0x612a06),await this[_0x19338e(0x6db)][_0x19338e(0x18c)]['insert']([_0x5d1c7c],this[_0x19338e(0x401)][_0x19338e(0x242)]),_0x1187d4;}catch(_0x5d30cd){throw this['logger'][_0x19338e(0x456)](_0x5d30cd),new m(_0x5d30cd[_0x19338e(0x37f)]());}}get[a0_0x1c66d9(0x494)](){const _0x33bc64=a0_0x1c66d9;return this[_0x33bc64(0x33f)];}async[a0_0x1c66d9(0x6c3)](_0x556694){const _0x32fa7b=a0_0x1c66d9;return await this['sendMessageWithRetry'](_0x556694['number'],{'conversation':_0x556694['textMessage']['text']},_0x556694?.[_0x32fa7b(0x2ca)]);}async[a0_0x1c66d9(0x767)](_0x6706ec){const _0x28bb77=a0_0x1c66d9;if(!_0x6706ec[_0x28bb77(0x640)])throw new m('Type\x20is\x20required');if(!_0x6706ec[_0x28bb77(0x36e)])throw new m(_0x28bb77(0x60a));if(_0x6706ec[_0x28bb77(0x1d1)]){let _0x28eb89=await this[_0x28bb77(0x6db)][_0x28bb77(0x4a7)][_0x28bb77(0x705)]({'where':{}},this['instance'][_0x28bb77(0x242)]);if(!_0x28eb89[_0x28bb77(0x844)])throw new m(_0x28bb77(0x4ed));_0x6706ec[_0x28bb77(0x1bb)]=_0x28eb89[_0x28bb77(0x901)](_0x8f39df=>_0x8f39df[_0x28bb77(0x786)])[_0x28bb77(0x521)](_0x31e7fc=>_0x31e7fc[_0x28bb77(0x70b)]);}if(!_0x6706ec[_0x28bb77(0x1bb)]?.['length']&&!_0x6706ec[_0x28bb77(0x1d1)])throw new m(_0x28bb77(0x39e));if(_0x6706ec[_0x28bb77(0x640)]==='text'){if(!_0x6706ec[_0x28bb77(0x7c3)])throw new m(_0x28bb77(0x4f5));if(!_0x6706ec[_0x28bb77(0x8ab)])throw new m(_0x28bb77(0x3f3));return{'content':{'text':_0x6706ec['content']},'option':{'backgroundColor':_0x6706ec[_0x28bb77(0x7c3)],'font':_0x6706ec[_0x28bb77(0x8ab)],'statusJidList':_0x6706ec[_0x28bb77(0x1bb)]}};}if(_0x6706ec[_0x28bb77(0x640)]===_0x28bb77(0x4bb))return{'content':{'image':{'url':_0x6706ec['content']},'caption':_0x6706ec[_0x28bb77(0x2bd)]},'option':{'statusJidList':_0x6706ec[_0x28bb77(0x1bb)]}};if(_0x6706ec[_0x28bb77(0x640)]===_0x28bb77(0x728))return{'content':{'video':{'url':_0x6706ec[_0x28bb77(0x36e)]},'caption':_0x6706ec[_0x28bb77(0x2bd)]},'option':{'statusJidList':_0x6706ec[_0x28bb77(0x1bb)]}};if(_0x6706ec[_0x28bb77(0x640)]==='audio'){this[_0x28bb77(0x311)][_0x28bb77(0x3ad)](this[_0x28bb77(0x676)]+'\x20('+this[_0x28bb77(0x401)][_0x28bb77(0x242)]+_0x28bb77(0x192)),this['logger'][_0x28bb77(0x3ad)](this[_0x28bb77(0x676)]+'\x20('+this[_0x28bb77(0x401)][_0x28bb77(0x242)]+_0x28bb77(0x891));let _0x349e11=await this['convertaudio'](_0x6706ec[_0x28bb77(0x36e)]);if(typeof _0x349e11==_0x28bb77(0x24a)){this[_0x28bb77(0x311)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):Audio\x20processed');let _0x22308f=k[_0x28bb77(0x3c5)](_0x349e11)['toString']('base64');return{'content':{'audio':Buffer[_0x28bb77(0x3de)](_0x22308f,_0x28bb77(0x473)),'ptt':!0x0,'mimetype':_0x28bb77(0x287)},'option':{'statusJidList':_0x6706ec['statusJidList']}};}else throw new x(_0x349e11);}throw new m(_0x28bb77(0x2ae));}async[a0_0x1c66d9(0x537)](_0x5b720f){const _0x3f40dc=a0_0x1c66d9;return await this[_0x3f40dc(0x617)]('status@broadcast',{'status':await this[_0x3f40dc(0x767)](_0x5b720f['statusMessage'])});}async[a0_0x1c66d9(0x2a2)](_0x248f56){const _0x135bc4=a0_0x1c66d9;try{let _0x53616e=await(0x0,w['prepareWAMessageMedia'])({[_0x248f56[_0x135bc4(0x2f1)]]:(0x0,J[_0x135bc4(0x5db)])(_0x248f56[_0x135bc4(0x8ee)])?{'url':_0x248f56[_0x135bc4(0x8ee)]}:Buffer[_0x135bc4(0x3de)](_0x248f56[_0x135bc4(0x8ee)],_0x135bc4(0x473))},{'upload':this[_0x135bc4(0x83a)][_0x135bc4(0x86d)]}),_0xf2ac43=_0x248f56['mediatype']+_0x135bc4(0x8ba);if(_0x248f56[_0x135bc4(0x2f1)]===_0x135bc4(0x32a)&&!_0x248f56[_0x135bc4(0x5a6)]){let _0xbd4ba6=new RegExp(/.*\/(.+?)\./)['exec'](_0x248f56['media']);_0x248f56[_0x135bc4(0x5a6)]=_0xbd4ba6?_0xbd4ba6[0x1]:null;}let _0x3c98d2;return(0x0,J[_0x135bc4(0x5db)])(_0x248f56[_0x135bc4(0x8ee)])?_0x3c98d2=(await K[_0x135bc4(0x77c)]['get'](_0x248f56[_0x135bc4(0x8ee)],{'responseType':_0x135bc4(0x647)}))[_0x135bc4(0x778)][_0x135bc4(0x532)]:_0x3c98d2=(0x0,Li[_0x135bc4(0x8f8)])(_0x248f56[_0x135bc4(0x5a6)]),_0x53616e[_0xf2ac43]['caption']=_0x248f56?.[_0x135bc4(0x2bd)],_0x53616e[_0xf2ac43]['mimetype']=_0x3c98d2,_0x53616e[_0xf2ac43][_0x135bc4(0x5a6)]=_0x248f56['fileName'],_0x248f56[_0x135bc4(0x2f1)]==='video'&&(_0x53616e[_0xf2ac43][_0x135bc4(0x843)]=Uint8Array[_0x135bc4(0x3de)]((0x0,Je[_0x135bc4(0x3c5)])((0x0,j[_0x135bc4(0x552)])(process[_0x135bc4(0x66f)](),_0x135bc4(0x8a6)))),_0x53616e[_0xf2ac43][_0x135bc4(0x6d8)]=!0x1),(0x0,w[_0x135bc4(0x5e1)])('',{[_0xf2ac43]:{..._0x53616e[_0xf2ac43]}},{'userJid':this[_0x135bc4(0x401)][_0x135bc4(0x242)]});}catch(_0x58c68c){let _0x347854=_0x135bc4(0x87c),_0x27091b=_0x58c68c instanceof Error?_0x58c68c[_0x135bc4(0x18c)]:typeof _0x58c68c==_0x135bc4(0x2c2)?JSON[_0x135bc4(0x8cd)](_0x58c68c):_0x58c68c,_0x455fd0=_0x347854+':\x20'+_0x27091b;throw this[_0x135bc4(0x311)][_0x135bc4(0x456)](this[_0x135bc4(0x676)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x455fd0),new x(_0x455fd0);}}async[a0_0x1c66d9(0x8a1)](_0x357b06){const _0x357473=a0_0x1c66d9;let _0x212569=0x0;for(;_0x212569<0x5;)try{let _0x1c1420=await this[_0x357473(0x2a2)](_0x357b06[_0x357473(0x8a1)]);return await this[_0x357473(0x617)](_0x357b06[_0x357473(0x4e8)],{..._0x1c1420[_0x357473(0x18c)]},_0x357b06?.['options']);}catch(_0x16723c){if(_0x212569++,_0x16723c instanceof Error&&_0x16723c[_0x357473(0x18c)]===_0x357473(0x461)){if(_0x212569>=0x5)throw new m('Falha\x20ao\x20preparar\x20a\x20mensagem\x20de\x20mídia\x20após\x205\x20tentativas:\x20'+_0x16723c[_0x357473(0x18c)]);this['logger'][_0x357473(0x8ce)]('Tentativa\x20'+_0x212569+_0x357473(0x26e)+_0x16723c[_0x357473(0x18c)]+_0x357473(0x906)+0x1388/0x3e8+_0x357473(0x22d)),await new Promise(_0x55c4b8=>setTimeout(_0x55c4b8,0x1388));}else throw new m(_0x16723c[_0x357473(0x18c)]);}}async[a0_0x1c66d9(0x258)](_0x23420d,_0x5c8302){const _0xdbcfef=a0_0x1c66d9;try{this[_0xdbcfef(0x311)][_0xdbcfef(0x3ad)](this[_0xdbcfef(0x676)]+'\x20('+this['instance'][_0xdbcfef(0x242)]+_0xdbcfef(0x1f3));let _0x85cda1,_0x3db81f=_0x5c8302+'-'+new Date()[_0xdbcfef(0x53e)]();this[_0xdbcfef(0x311)][_0xdbcfef(0x3ad)](this[_0xdbcfef(0x676)]+'\x20('+this[_0xdbcfef(0x401)][_0xdbcfef(0x242)]+_0xdbcfef(0x8ac)+_0x3db81f);let _0x4021fd=''+(0x0,j[_0xdbcfef(0x552)])(this[_0xdbcfef(0x78b)],_0x3db81f+_0xdbcfef(0x7dc));if(this[_0xdbcfef(0x311)]['verbose'](this[_0xdbcfef(0x676)]+'\x20('+this[_0xdbcfef(0x401)][_0xdbcfef(0x242)]+_0xdbcfef(0x7a2)+_0x4021fd),(0x0,J['isBase64'])(_0x23420d)){this[_0xdbcfef(0x311)][_0xdbcfef(0x3ad)](this[_0xdbcfef(0x676)]+'\x20('+this[_0xdbcfef(0x401)]['wuid']+_0xdbcfef(0x7b0));let _0x18955c=_0x23420d[_0xdbcfef(0x737)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x5cb667=Buffer['from'](_0x18955c,_0xdbcfef(0x473));_0x85cda1=''+(0x0,j[_0xdbcfef(0x552)])(this[_0xdbcfef(0x78b)],_0xdbcfef(0x2dc)+_0x3db81f+_0xdbcfef(0x38f)),this[_0xdbcfef(0x311)][_0xdbcfef(0x3ad)](this[_0xdbcfef(0x676)]+'\x20('+this[_0xdbcfef(0x401)][_0xdbcfef(0x242)]+'):Image\x20path:\x20'+_0x85cda1),await(0x0,qt[_0xdbcfef(0x77c)])(_0x5cb667)['toFile'](_0x85cda1),this[_0xdbcfef(0x311)][_0xdbcfef(0x3ad)](this[_0xdbcfef(0x676)]+'\x20('+this['instance']['wuid']+_0xdbcfef(0x4cf));}else{this['logger'][_0xdbcfef(0x3ad)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xdbcfef(0x657));let _0x1d039d=new Date()['getTime'](),_0x9ba5d0=_0x23420d+'?timestamp='+_0x1d039d;this[_0xdbcfef(0x311)][_0xdbcfef(0x3ad)](this['instanceName']+'\x20('+this[_0xdbcfef(0x401)][_0xdbcfef(0x242)]+'):including\x20timestamp\x20in\x20url:\x20'+_0x9ba5d0);let _0x1f4e92=await K['default'][_0xdbcfef(0x7b4)](_0x9ba5d0,{'responseType':'arraybuffer'});this[_0xdbcfef(0x311)]['verbose'](this['instanceName']+'\x20('+this[_0xdbcfef(0x401)]['wuid']+_0xdbcfef(0x850));let _0x38010b=Buffer[_0xdbcfef(0x3de)](_0x1f4e92[_0xdbcfef(0x86c)],_0xdbcfef(0x1f8));_0x85cda1=''+(0x0,j[_0xdbcfef(0x552)])(this[_0xdbcfef(0x78b)],_0xdbcfef(0x2dc)+_0x3db81f+_0xdbcfef(0x38f)),this[_0xdbcfef(0x311)]['verbose'](this[_0xdbcfef(0x676)]+'\x20('+this[_0xdbcfef(0x401)][_0xdbcfef(0x242)]+'):Image\x20path:\x20'+_0x85cda1),await(0x0,qt[_0xdbcfef(0x77c)])(_0x38010b)[_0xdbcfef(0x4b5)](_0x85cda1),this['logger']['verbose'](this[_0xdbcfef(0x676)]+'\x20('+this[_0xdbcfef(0x401)][_0xdbcfef(0x242)]+_0xdbcfef(0x4cf));}return await(0x0,qt[_0xdbcfef(0x77c)])(_0x85cda1)[_0xdbcfef(0x270)]()['toFile'](_0x4021fd),this['logger'][_0xdbcfef(0x3ad)](this[_0xdbcfef(0x676)]+'\x20('+this[_0xdbcfef(0x401)][_0xdbcfef(0x242)]+'):Image\x20converted\x20to\x20WebP'),k[_0xdbcfef(0x824)](_0x85cda1),this['logger'][_0xdbcfef(0x3ad)](this[_0xdbcfef(0x676)]+'\x20('+this['instance']['wuid']+'):Temp\x20image\x20deleted'),_0x4021fd;}catch(_0x483198){let _0x48b00c=_0xdbcfef(0x631),_0x38350c=_0x483198 instanceof Error?_0x483198[_0xdbcfef(0x18c)]:typeof _0x483198==_0xdbcfef(0x2c2)?JSON[_0xdbcfef(0x8cd)](_0x483198):_0x483198,_0x8ba99f=_0x48b00c+':\x20'+_0x38350c;this[_0xdbcfef(0x311)][_0xdbcfef(0x456)](this[_0xdbcfef(0x676)]+'\x20('+this[_0xdbcfef(0x401)][_0xdbcfef(0x242)]+'):\x20'+_0x8ba99f);}}async[a0_0x1c66d9(0x661)](_0x5ee00f){const _0x4fd77a=a0_0x1c66d9;let _0xe86477=await this['convertToWebP'](_0x5ee00f[_0x4fd77a(0x4bc)]['image'],_0x5ee00f['number']),_0x53c708=await this[_0x4fd77a(0x617)](_0x5ee00f[_0x4fd77a(0x4e8)],{'sticker':{'url':_0xe86477}},_0x5ee00f?.[_0x4fd77a(0x2ca)]);return k[_0x4fd77a(0x824)](_0xe86477),this[_0x4fd77a(0x311)][_0x4fd77a(0x3ad)](this[_0x4fd77a(0x676)]+'\x20('+this[_0x4fd77a(0x401)]['wuid']+_0x4fd77a(0x4f4)),_0x53c708;}async[a0_0x1c66d9(0x505)](_0x4eb33e){const _0x309e00=a0_0x1c66d9;if(this[_0x309e00(0x311)]['verbose'](this[_0x309e00(0x676)]+'\x20('+this['instance'][_0x309e00(0x242)]+_0x309e00(0x2af)),!_0x4eb33e[_0x309e00(0x2ca)]?.[_0x309e00(0x2d7)]&&_0x4eb33e[_0x309e00(0x2ca)]?.[_0x309e00(0x2d7)]!==!0x1&&(_0x4eb33e['options'][_0x309e00(0x2d7)]=!0x0),_0x4eb33e[_0x309e00(0x2ca)]?.[_0x309e00(0x2d7)]){let _0x444e02=await this[_0x309e00(0x66b)](_0x4eb33e[_0x309e00(0x276)][_0x309e00(0x641)]);if(typeof _0x444e02==_0x309e00(0x24a)){let _0x188c00=k[_0x309e00(0x3c5)](_0x444e02)[_0x309e00(0x37f)]('base64');return this[_0x309e00(0x617)](_0x4eb33e['number'],{'audio':Buffer['from'](_0x188c00,_0x309e00(0x473)),'ptt':!0x0,'mimetype':_0x309e00(0x1fb)},{'presence':_0x309e00(0x798),'delay':_0x4eb33e?.[_0x309e00(0x2ca)]?.[_0x309e00(0x21f)]});}else throw new x(_0x444e02);}return await this[_0x309e00(0x617)](_0x4eb33e[_0x309e00(0x4e8)],{'audio':(0x0,J[_0x309e00(0x5db)])(_0x4eb33e['audioMessage'][_0x309e00(0x641)])?{'url':_0x4eb33e['audioMessage']['audio']}:Buffer[_0x309e00(0x3de)](_0x4eb33e[_0x309e00(0x276)]['audio'],_0x309e00(0x473)),'ptt':!0x0,'mimetype':_0x309e00(0x1fb)},{'presence':_0x309e00(0x798),'delay':_0x4eb33e?.[_0x309e00(0x2ca)]?.[_0x309e00(0x21f)]});}async[a0_0x1c66d9(0x66b)](_0x26a79c){const _0x192b5c=a0_0x1c66d9;this['logger'][_0x192b5c(0x3ad)](this[_0x192b5c(0x676)]+'\x20('+this[_0x192b5c(0x401)][_0x192b5c(0x242)]+_0x192b5c(0x891));let _0x373340=(0x0,J[_0x192b5c(0x5db)])(_0x26a79c)?(0x0,re['createHash'])(_0x192b5c(0x47b))[_0x192b5c(0x2de)](_0x26a79c)['digest'](_0x192b5c(0x8cf)):(0x0,re[_0x192b5c(0x4a2)])('sha256')[_0x192b5c(0x2de)](_0x26a79c)[_0x192b5c(0x6ea)]('hex'),_0x31c42e=''+(0x0,j[_0x192b5c(0x552)])(this['storePath'],_0x373340+_0x192b5c(0x231));if(k[_0x192b5c(0x85c)](_0x31c42e))return this[_0x192b5c(0x311)][_0x192b5c(0x3ad)](this[_0x192b5c(0x676)]+'\x20('+this['instance']['wuid']+_0x192b5c(0x2b9)),_0x31c42e;let _0x1b9931=''+(0x0,j[_0x192b5c(0x552)])(this['storePath'],_0x192b5c(0x2dc)+(0x0,Q['v4'])()+_0x192b5c(0x627));if((0x0,J[_0x192b5c(0x5db)])(_0x26a79c)){let _0x4d8c25=new Date()[_0x192b5c(0x53e)](),_0x38201a=_0x26a79c+_0x192b5c(0x735)+_0x4d8c25,_0x23beb4=await K[_0x192b5c(0x77c)][_0x192b5c(0x7b4)](_0x38201a,{'responseType':_0x192b5c(0x647)});k[_0x192b5c(0x310)](_0x1b9931,_0x23beb4[_0x192b5c(0x86c)]);}else{let _0xcfe6f5=Buffer[_0x192b5c(0x3de)](_0x26a79c,_0x192b5c(0x473));k[_0x192b5c(0x310)](_0x1b9931,_0xcfe6f5);}return new Promise((_0x42b78a,_0x4c794a)=>{const _0x3bd737=_0x192b5c;(0x0,qe[_0x3bd737(0x2e7)])(Us['default'][_0x3bd737(0x243)]+'\x20-i\x20'+_0x1b9931+'\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20'+_0x31c42e+_0x3bd737(0x2b5),_0x2dcbc2=>{const _0x187ce2=_0x3bd737;if(k[_0x187ce2(0x824)](_0x1b9931),_0x2dcbc2){this['logger']['verbose'](this[_0x187ce2(0x676)]+'\x20('+this[_0x187ce2(0x401)][_0x187ce2(0x242)]+_0x187ce2(0x8c3)),_0x4c794a(_0x2dcbc2);return;}this[_0x187ce2(0x311)][_0x187ce2(0x3ad)](this[_0x187ce2(0x676)]+'\x20('+this[_0x187ce2(0x401)][_0x187ce2(0x242)]+_0x187ce2(0x5fa)),_0x42b78a(_0x31c42e);});});}async[a0_0x1c66d9(0x189)](_0x565fc3){const _0x57132d=a0_0x1c66d9;this[_0x57132d(0x311)][_0x57132d(0x3ad)](this[_0x57132d(0x676)]+'\x20('+this[_0x57132d(0x401)][_0x57132d(0x242)]+'):Processing\x20audio');let _0x2d753b=(0x0,re['createHash'])(_0x57132d(0x47b))[_0x57132d(0x2de)](_0x565fc3)['digest']('hex'),_0x51a006=''+(0x0,j[_0x57132d(0x552)])(this[_0x57132d(0x78b)],_0x2d753b+_0x57132d(0x627));if(k[_0x57132d(0x85c)](_0x51a006))return this[_0x57132d(0x311)][_0x57132d(0x3ad)](this[_0x57132d(0x676)]+'\x20('+this['instance'][_0x57132d(0x242)]+_0x57132d(0x2b9)),j[_0x57132d(0x77c)]['basename'](_0x51a006);let _0x417789=''+(0x0,j[_0x57132d(0x552)])(this[_0x57132d(0x78b)],'temp-'+_0x2d753b+_0x57132d(0x231));if((0x0,J['isURL'])(_0x565fc3)){let _0x2216d5=new Date()[_0x57132d(0x53e)](),_0x2c8fb1=_0x565fc3+_0x57132d(0x735)+_0x2216d5,_0x1490fc=await K[_0x57132d(0x77c)][_0x57132d(0x7b4)](_0x2c8fb1,{'responseType':_0x57132d(0x647)});k[_0x57132d(0x310)](_0x417789,_0x1490fc[_0x57132d(0x86c)]);}else{let _0xa1d79d=Buffer[_0x57132d(0x3de)](_0x565fc3,_0x57132d(0x473));k['writeFileSync'](_0x417789,_0xa1d79d);}return new Promise((_0x3d0e5f,_0x2288c6)=>{const _0x16b282=_0x57132d;(0x0,qe[_0x16b282(0x2e7)])(Us[_0x16b282(0x77c)][_0x16b282(0x243)]+_0x16b282(0x31d)+_0x417789+_0x16b282(0x1ba)+_0x51a006+_0x16b282(0x2b5),_0x354658=>{const _0x38a79c=_0x16b282;if(k[_0x38a79c(0x824)](_0x417789),_0x354658){this[_0x38a79c(0x311)][_0x38a79c(0x3ad)](this[_0x38a79c(0x676)]+'\x20('+this[_0x38a79c(0x401)][_0x38a79c(0x242)]+_0x38a79c(0x8c3)),_0x2288c6(_0x354658);return;}this['logger'][_0x38a79c(0x3ad)](this[_0x38a79c(0x676)]+'\x20('+this[_0x38a79c(0x401)][_0x38a79c(0x242)]+_0x38a79c(0x5fa)),_0x3d0e5f(j[_0x38a79c(0x77c)]['basename'](_0x51a006));});});}async['buttonMessage'](_0x2c0b9a){const _0x639c11=a0_0x1c66d9;console['log'](_0x639c11(0x3ae),_0x2c0b9a);let _0x3c8d6e;try{_0x2c0b9a['buttonMessage']?.['thumbnailUrl']&&(_0x3c8d6e=await this[_0x639c11(0x2a2)]({'mediatype':'image','media':_0x2c0b9a[_0x639c11(0x33e)][_0x639c11(0x1e0)]}));}catch(_0x35c580){throw console[_0x639c11(0x456)](_0x639c11(0x31f),_0x35c580),new Error('Failed\x20to\x20prepare\x20media\x20message');}try{let _0x53c11e={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':'*Teste\x20de\x20Título*\x0a\x0aDescrição\x20de\x20Teste\x0a'},'footer':{'text':_0x639c11(0x5f8)},'header':((()=>{const _0x5b6155=_0x639c11;if(_0x3c8d6e?.['message']?.[_0x5b6155(0x2d8)])return{'hasMediaAttachment':!!_0x3c8d6e[_0x5b6155(0x18c)][_0x5b6155(0x2d8)],'imageMessage':_0x3c8d6e[_0x5b6155(0x18c)][_0x5b6155(0x2d8)]};})()),'nativeFlowMessage':{'buttons':[{'name':_0x639c11(0x2c0),'buttonParamsJson':JSON[_0x639c11(0x8cd)]({'display_text':'Botão\x201','id':'1'})},{'name':_0x639c11(0x2c0),'buttonParamsJson':JSON[_0x639c11(0x8cd)]({'display_text':_0x639c11(0x397),'id':'2'})}],'messageParamsJson':JSON[_0x639c11(0x8cd)]({'from':_0x639c11(0x677),'templateId':_0x639c11(0x407)+(0x0,re[_0x639c11(0x725)])(0x12)[_0x639c11(0x37f)](_0x639c11(0x8cf))[_0x639c11(0x406)]()})}}}}};return await this[_0x639c11(0x6e8)](_0x2c0b9a[_0x639c11(0x4e8)],_0x53c11e,_0x2c0b9a?.[_0x639c11(0x2ca)]);}catch(_0x277e9c){throw console['error'](_0x639c11(0x81b),_0x277e9c),new Error(_0x639c11(0x21b));}}async[a0_0x1c66d9(0x182)](_0x4b5d68){const _0x159dd9=a0_0x1c66d9;return await this[_0x159dd9(0x617)](_0x4b5d68[_0x159dd9(0x4e8)],{'locationMessage':{'degreesLatitude':_0x4b5d68[_0x159dd9(0x182)][_0x159dd9(0x4aa)],'degreesLongitude':_0x4b5d68[_0x159dd9(0x182)]['longitude'],'name':_0x4b5d68[_0x159dd9(0x182)]?.['name'],'address':_0x4b5d68[_0x159dd9(0x182)]?.['address']}},_0x4b5d68?.[_0x159dd9(0x2ca)]);}async[a0_0x1c66d9(0x48f)](_0x219594){const _0x701331=a0_0x1c66d9;let _0xe6035a={},_0x59db42=async _0x3d6765=>{const _0x5c2f03=a0_0x24da;let _0x11b860=_0x5c2f03(0x31e)+_0x3d6765[_0x5c2f03(0x715)]+_0x5c2f03(0x3ea)+_0x3d6765[_0x5c2f03(0x715)]+'\x0a';_0x3d6765[_0x5c2f03(0x8f3)]&&(_0x11b860+=_0x5c2f03(0x64a)+_0x3d6765[_0x5c2f03(0x8f3)]+';\x0a'),_0x3d6765[_0x5c2f03(0x5f6)]&&(_0x11b860+='EMAIL:'+_0x3d6765[_0x5c2f03(0x5f6)]+'\x0a'),_0x3d6765[_0x5c2f03(0x51e)]&&(_0x11b860+=_0x5c2f03(0x233)+_0x3d6765[_0x5c2f03(0x51e)]+'\x0a');let _0xd852f9='',_0x3d8bd5=0x1;if(_0x3d6765[_0x5c2f03(0x4d5)]){let _0x5c3d35=_0x3d6765['phoneNumber'][_0x5c2f03(0x444)]('|');for(let _0xa79f9a of _0x5c3d35){let _0x12232b=await this['whatsappNumber']({'numbers':[_0xa79f9a]}),_0xb8449d=(_0x12232b['length']>0x0?_0x12232b[0x0]['jid']:this[_0x5c2f03(0x63e)](_0xa79f9a))[_0x5c2f03(0x737)]('@s.whatsapp.net','');_0xd852f9+=_0x5c2f03(0x7a8)+_0x3d8bd5+'.TEL;waid='+_0xb8449d+':'+_0xa79f9a+_0x5c2f03(0x691)+_0x3d8bd5+_0x5c2f03(0x1dc),_0x3d8bd5++;}}return _0x11b860+=_0xd852f9+_0x5c2f03(0x193),_0x11b860;};return _0x219594[_0x701331(0x48f)]['length']===0x1?_0xe6035a[_0x701331(0x48f)]={'displayName':_0x219594[_0x701331(0x48f)][0x0][_0x701331(0x715)],'vcard':await _0x59db42(_0x219594[_0x701331(0x48f)][0x0])}:_0xe6035a[_0x701331(0x848)]={'displayName':_0x219594[_0x701331(0x48f)]['length']+_0x701331(0x43c),'contacts':await Promise[_0x701331(0x797)](_0x219594['contactMessage'][_0x701331(0x521)](async _0x3d14fb=>({'displayName':_0x3d14fb['fullName'],'vcard':await _0x59db42(_0x3d14fb)})))},await this['sendMessageWithRetry'](_0x219594['number'],{..._0xe6035a},_0x219594?.[_0x701331(0x2ca)]);}async[a0_0x1c66d9(0x206)](_0x38cff6){const _0x406b0e=a0_0x1c66d9;return await this['sendMessageWithRetry'](_0x38cff6['reactionMessage'][_0x406b0e(0x757)][_0x406b0e(0x328)],{'reactionMessage':{'key':_0x38cff6['reactionMessage']['key'],'text':_0x38cff6['reactionMessage']['reaction']}});}async[a0_0x1c66d9(0x8f4)](_0x536c72){const _0x50c7e3=a0_0x1c66d9;let _0x5cd712=[];for await(let _0x29d39c of _0x536c72[_0x50c7e3(0x5ba)]){let _0x4b9e9a=this[_0x50c7e3(0x63e)](_0x29d39c),_0x383f1d=!0x1;try{if((0x0,w['isJidGroup'])(_0x4b9e9a)){let _0x47d117=(await this[_0x50c7e3(0x6db)][_0x50c7e3(0x862)][_0x50c7e3(0x44a)]({'where':{'_id':_0x4b9e9a}},this[_0x50c7e3(0x401)][_0x50c7e3(0x242)]))[_0x50c7e3(0x409)];_0x47d117?(_0x383f1d=!0x0,_0x5cd712[_0x50c7e3(0x463)](new le(_0x47d117['id'],_0x383f1d,_0x47d117?.['subject']))):(_0x47d117=await this[_0x50c7e3(0x648)]({'groupJid':_0x4b9e9a},_0x50c7e3(0x5ca)),_0x5cd712[_0x50c7e3(0x463)](new le(_0x47d117['id'],!!_0x47d117?.['id'],_0x47d117?.['subject'])));}else{if(_0x4b9e9a['includes']('@broadcast'))_0x5cd712[_0x50c7e3(0x463)](new le(_0x4b9e9a,!0x0));else{let _0xf38563=(await this[_0x50c7e3(0x83a)][_0x50c7e3(0x3cb)](_0x4b9e9a))[0x0];_0x5cd712[_0x50c7e3(0x463)](new le(_0xf38563[_0x50c7e3(0x636)],_0xf38563[_0x50c7e3(0x2d5)]));}}}catch{(0x0,w[_0x50c7e3(0x82c)])(_0x4b9e9a)||await this['deleteImportedChat'](_0x4b9e9a),_0x5cd712['push'](new le(_0x29d39c,!0x1));}}return _0x5cd712;}async['deleteImportedChat'](_0x178549){const _0x3e3c86=a0_0x1c66d9;try{await this[_0x3e3c86(0x6db)][_0x3e3c86(0x862)]['findOne']({'where':{'_id':_0x178549,'imported':!0x0}},this['instance'][_0x3e3c86(0x242)])&&(await this[_0x3e3c86(0x6db)]['chat'][_0x3e3c86(0x2fc)](_0x178549,this['instance'][_0x3e3c86(0x242)]),this['logger']['info'](_0x3e3c86(0x90b)+_0x178549+_0x3e3c86(0x79b)));}catch(_0x3bc0f4){let _0x263b45=_0x3e3c86(0x24b),_0x57c9c4=_0x3bc0f4 instanceof Error?_0x3bc0f4[_0x3e3c86(0x18c)]:typeof _0x3bc0f4==_0x3e3c86(0x2c2)?JSON[_0x3e3c86(0x8cd)](_0x3bc0f4):_0x3bc0f4,_0x15bdb0=_0x263b45+':\x20'+_0x57c9c4;this['logger'][_0x3e3c86(0x456)](this[_0x3e3c86(0x676)]+'\x20('+this[_0x3e3c86(0x401)][_0x3e3c86(0x242)]+_0x3e3c86(0x761)+_0x15bdb0);}}async[a0_0x1c66d9(0x4ef)](_0x2a72fe){const _0x18a307=a0_0x1c66d9;try{let _0x2736ff=_0x2a72fe[_0x18a307(0x74f)][_0x18a307(0x901)](_0x5b2328=>(0x0,w[_0x18a307(0x82c)])(_0x5b2328['remoteJid'])||(0x0,w[_0x18a307(0x6ec)])(_0x5b2328['remoteJid']))[_0x18a307(0x521)](_0x2297bd=>({'remoteJid':_0x2297bd['remoteJid'],'fromMe':_0x2297bd['fromMe'],'id':_0x2297bd['id']}));await this['client'][_0x18a307(0x74f)](_0x2736ff);let _0x254d68=_0x2736ff['map'](_0x178156=>this[_0x18a307(0x779)](_0x178156,{'status':_0x18a307(0x749),'owner':this[_0x18a307(0x401)][_0x18a307(0x242)]})),_0x4afc13=_0x2736ff[_0x18a307(0x521)](_0x1b220a=>this[_0x18a307(0x6db)][_0x18a307(0x862)][_0x18a307(0x2cd)]({'where':{'_id':_0x1b220a['remoteJid']}},{'unreadcount':0x0},this[_0x18a307(0x401)][_0x18a307(0x242)])),[_0x297323,_0x2ae128]=await Promise[_0x18a307(0x797)]([Promise[_0x18a307(0x797)](_0x254d68),Promise[_0x18a307(0x797)](_0x4afc13)]);return _0x2ae128['filter'](_0x4b530c=>_0x4b530c!==null)['forEach'](_0x29fa64=>{const _0x584b0c=_0x18a307;F(this[_0x584b0c(0x676)],_0x584b0c(0x88a),{'chat':_0x29fa64});}),{'message':'Read\x20messages','read':_0x18a307(0x7e8)};}catch(_0x13fe41){let _0x15a1a7=_0x18a307(0x769),_0x1a3916=_0x13fe41 instanceof Error?_0x13fe41[_0x18a307(0x18c)]:typeof _0x13fe41=='object'?JSON[_0x18a307(0x8cd)](_0x13fe41):_0x13fe41,_0x569dd7=_0x15a1a7+':\x20'+_0x1a3916;throw this[_0x18a307(0x311)]['error'](this['instanceName']+'\x20('+this[_0x18a307(0x401)][_0x18a307(0x242)]+_0x18a307(0x761)+_0x569dd7),new x(_0x569dd7);}}async[a0_0x1c66d9(0x7cf)](_0x4e575c){const _0x185f15=a0_0x1c66d9;let _0x17261c={'where':{'key':{'remoteJid':_0x4e575c}},'limit':0x1},_0x4a7c79=await this[_0x185f15(0x662)](_0x17261c);return _0x4a7c79||(this[_0x185f15(0x311)][_0x185f15(0x456)](_0x185f15(0x262)+_0x4e575c),null);}async[a0_0x1c66d9(0x4eb)](_0x496eb1){const _0x39fbc9=a0_0x1c66d9;this[_0x39fbc9(0x311)][_0x39fbc9(0x3ad)](this[_0x39fbc9(0x676)]+'\x20('+this[_0x39fbc9(0x401)][_0x39fbc9(0x242)]+_0x39fbc9(0x3ab));try{let _0x3282f4=_0x496eb1['lastMessage'],_0x48f9d9=_0x496eb1[_0x39fbc9(0x862)];if(!_0x3282f4&&_0x48f9d9?_0x3282f4=await this[_0x39fbc9(0x7cf)](_0x48f9d9):(_0x3282f4=_0x496eb1[_0x39fbc9(0x814)],_0x3282f4['messageTimestamp']=_0x3282f4?.[_0x39fbc9(0x56e)]??Date[_0x39fbc9(0x2f2)](),_0x48f9d9=_0x3282f4?.[_0x39fbc9(0x757)]?.[_0x39fbc9(0x328)]),!_0x3282f4||Object[_0x39fbc9(0x4cb)](_0x3282f4)[_0x39fbc9(0x844)]===0x0)throw new U('Last\x20message\x20not\x20found');this[_0x39fbc9(0x311)][_0x39fbc9(0x3ad)](this[_0x39fbc9(0x676)]+'\x20('+this[_0x39fbc9(0x401)]['wuid']+_0x39fbc9(0x3f1)+_0x48f9d9);try{await this['client']['chatModify']({'archive':_0x496eb1[_0x39fbc9(0x3c3)],'lastMessages':[_0x3282f4]},this[_0x39fbc9(0x63e)](_0x48f9d9));}catch(_0x3bcf88){let _0x1180b2='Error\x20in\x20chatModify\x20for\x20number\x20'+_0x48f9d9,_0x4a8ac1=_0x3bcf88 instanceof Error?_0x3bcf88['message']:typeof _0x3bcf88=='object'?JSON['stringify'](_0x3bcf88):_0x3bcf88,_0x386f1a=_0x1180b2+':\x20'+_0x4a8ac1;this[_0x39fbc9(0x311)][_0x39fbc9(0x456)](this['instanceName']+'\x20('+this[_0x39fbc9(0x401)]['wuid']+_0x39fbc9(0x761)+_0x386f1a);}this[_0x39fbc9(0x311)][_0x39fbc9(0x3ad)](this['instanceName']+'\x20('+this[_0x39fbc9(0x401)]['wuid']+_0x39fbc9(0x5ad)+_0x48f9d9);let _0x8e7847=await this['repository'][_0x39fbc9(0x862)][_0x39fbc9(0x2cd)]({'where':{'_id':_0x3282f4?.[_0x39fbc9(0x757)]?.[_0x39fbc9(0x328)]}},{'archived':_0x496eb1[_0x39fbc9(0x3c3)]},this[_0x39fbc9(0x401)][_0x39fbc9(0x242)]);return _0x8e7847?(this[_0x39fbc9(0x311)][_0x39fbc9(0x3ad)](this[_0x39fbc9(0x676)]+'\x20('+this['instance']['wuid']+_0x39fbc9(0x2ce)+JSON['stringify'](_0x8e7847)),F(this[_0x39fbc9(0x676)],_0x39fbc9(0x88a),{'chat':_0x8e7847})):this['logger']['error'](this[_0x39fbc9(0x676)]+'\x20('+this[_0x39fbc9(0x401)][_0x39fbc9(0x242)]+'):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x48f9d9),{'chatId':_0x48f9d9,'archived':_0x496eb1[_0x39fbc9(0x3c3)]};}catch(_0x8f7f4b){let _0x2945f1=_0x39fbc9(0x5d0),_0x1ab028=_0x8f7f4b instanceof Error?_0x8f7f4b[_0x39fbc9(0x18c)]:typeof _0x8f7f4b=='object'?JSON[_0x39fbc9(0x8cd)](_0x8f7f4b):_0x8f7f4b,_0x21c649=_0x2945f1+':\x20'+_0x1ab028;throw this[_0x39fbc9(0x311)][_0x39fbc9(0x456)](this[_0x39fbc9(0x676)]+'\x20('+this['instance'][_0x39fbc9(0x242)]+_0x39fbc9(0x761)+_0x21c649),new x(_0x21c649);}}async[a0_0x1c66d9(0x2fc)](_0x5a0b2c){const _0x259ce1=a0_0x1c66d9;this[_0x259ce1(0x311)][_0x259ce1(0x3ad)](this[_0x259ce1(0x676)]+'\x20('+this[_0x259ce1(0x401)][_0x259ce1(0x242)]+'):Delete\x20chat');try{let _0x50dd30=await this[_0x259ce1(0x7cf)](_0x5a0b2c);if(!_0x50dd30||Object[_0x259ce1(0x4cb)](_0x50dd30)[_0x259ce1(0x844)]===0x0)throw new U('Last\x20message\x20not\x20found');let _0x505245=_0x50dd30[0x0];this[_0x259ce1(0x311)][_0x259ce1(0x3ad)](this['instanceName']+'\x20('+this['instance'][_0x259ce1(0x242)]+_0x259ce1(0x41f)+_0x5a0b2c);try{await this[_0x259ce1(0x83a)][_0x259ce1(0x549)]({'delete':!0x0,'lastMessages':[{'key':_0x505245[_0x259ce1(0x757)],'messageTimestamp':_0x505245[_0x259ce1(0x56e)]}]},this['createJid'](_0x5a0b2c));}catch(_0x1a4fef){this['logger']['error'](_0x259ce1(0x191)+_0x5a0b2c+':\x20'+_0x1a4fef['toString']());}this[_0x259ce1(0x311)][_0x259ce1(0x3ad)](this[_0x259ce1(0x676)]+'\x20('+this[_0x259ce1(0x401)]['wuid']+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x5a0b2c);return;}catch(_0x2b1679){throw this['logger'][_0x259ce1(0x456)](this[_0x259ce1(0x676)]+'\x20('+this['instance'][_0x259ce1(0x242)]+_0x259ce1(0x703)+_0x2b1679[_0x259ce1(0x37f)]()),new x({'archived':!0x1,'message':[_0x259ce1(0x507),_0x2b1679[_0x259ce1(0x37f)]()]});}}async[a0_0x1c66d9(0x689)](_0x2436ee){const _0x460f99=a0_0x1c66d9;try{let _0xa82f07=await this['client'][_0x460f99(0x457)](_0x2436ee[_0x460f99(0x328)],{'delete':_0x2436ee});try{let _0x446474=await this[_0x460f99(0x779)](_0x2436ee,{'status':'DELETED','owner':this[_0x460f99(0x401)][_0x460f99(0x242)]});this[_0x460f99(0x311)][_0x460f99(0x3ad)](this['instanceName']+'\x20('+this[_0x460f99(0x401)][_0x460f99(0x242)]+_0x460f99(0x1ce)+_0x446474);}catch(_0x3b998f){this[_0x460f99(0x311)]['error'](_0x460f99(0x50c)+_0x3b998f);}return _0xa82f07;}catch(_0x1d08df){throw new x(_0x460f99(0x5e3),_0x1d08df?.[_0x460f99(0x37f)]());}}async[a0_0x1c66d9(0x3b7)](_0x3eacfa){const _0x4dce5e=a0_0x1c66d9;try{let _0x34dd32=_0x3eacfa?.[_0x4dce5e(0x18c)]?_0x3eacfa:await this[_0x4dce5e(0x201)](_0x3eacfa[_0x4dce5e(0x757)],!0x0);for(let _0x1fc21b of Ia)_0x34dd32['message'][_0x1fc21b]&&(_0x34dd32[_0x4dce5e(0x18c)]=_0x34dd32[_0x4dce5e(0x18c)][_0x1fc21b][_0x4dce5e(0x18c)]);let _0x1e3755,_0x35540c;for(let _0x165f6e of Ta)if(_0x1e3755=_0x34dd32[_0x4dce5e(0x18c)][_0x165f6e],_0x1e3755){_0x35540c=_0x165f6e;break;}if(!_0x1e3755)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x1e3755[_0x4dce5e(0x80e)]==_0x4dce5e(0x2c2)&&(_0x34dd32[_0x4dce5e(0x18c)]=JSON['parse'](JSON[_0x4dce5e(0x8cd)](_0x34dd32[_0x4dce5e(0x18c)])));let _0x795ae1=await(0x0,w[_0x4dce5e(0x6b0)])({'key':_0x34dd32?.['key'],'message':_0x34dd32?.[_0x4dce5e(0x18c)]},_0x4dce5e(0x903),{},{'logger':(0x0,Jt[_0x4dce5e(0x77c)])({'level':'silent'}),'reuploadRequest':this['client']['updateMediaMessage']});if(!(_0x795ae1 instanceof Buffer))throw new Error(_0x4dce5e(0x3d8));let _0x28b094=this[_0x4dce5e(0x62b)]['get']('DATABASE'),_0x129bab,_0x580a97;if(_0x1e3755[_0x4dce5e(0x5a6)])_0x129bab=_0x1e3755[_0x4dce5e(0x5a6)];else{let _0x262fa9=_0x1e3755['mimetype']?.[_0x4dce5e(0x277)](/\/(\w+)/),_0xacf12b=_0x262fa9?_0x262fa9[0x1]:null;if(!_0xacf12b)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0x129bab=(0x0,Q['v4'])()+'.'+_0xacf12b;}_0x35540c===_0x4dce5e(0x276)?_0x580a97=_0x4dce5e(0x825)+await this[_0x4dce5e(0x189)](_0x795ae1[_0x4dce5e(0x37f)](_0x4dce5e(0x473))):(await this[_0x4dce5e(0x30a)](_0x795ae1,_0x129bab),_0x580a97=_0x4dce5e(0x825)+_0x129bab);let _0x339cba=this[_0x4dce5e(0x62b)][_0x4dce5e(0x7b4)](_0x4dce5e(0x1f0))[_0x4dce5e(0x846)];if(!_0x339cba){let _0x3f3c89=this[_0x4dce5e(0x62b)][_0x4dce5e(0x7b4)](_0x4dce5e(0x361));_0x339cba='https://'+(_0x3f3c89&&_0x3f3c89[_0x4dce5e(0x5eb)]['split']('/')[0x4]);}_0x580a97=''+_0x339cba+_0x580a97;let _0x1442fe=0xc*0x3c*0x3c*0x3e8,_0x3417de={'where':{'_id':_0x34dd32[_0x4dce5e(0x757)]['id']}},_0x58bc51={'message_normalized.fileUrl':_0x580a97,'message_normalized.expires_fileUrl':Date['now']()+_0x1442fe};try{let _0x3014d7=await this['repository'][_0x4dce5e(0x18c)][_0x4dce5e(0x2de)](_0x3417de,_0x58bc51,this[_0x4dce5e(0x401)]['wuid']);_0x3014d7&&F(this[_0x4dce5e(0x676)],'messages',{'message':_0x3014d7});}catch(_0x1b8834){let _0x520990=_0x4dce5e(0x60d),_0x47a5a2=_0x1b8834 instanceof Error?_0x1b8834[_0x4dce5e(0x18c)]:typeof _0x1b8834==_0x4dce5e(0x2c2)?JSON[_0x4dce5e(0x8cd)](_0x1b8834):_0x1b8834,_0x587f2b=_0x520990+':\x20'+_0x47a5a2;this[_0x4dce5e(0x311)]['error'](this['instanceName']+'\x20('+this[_0x4dce5e(0x401)][_0x4dce5e(0x242)]+_0x4dce5e(0x761)+_0x587f2b);}return{'mediaType':_0x35540c,'fileName':_0x1e3755[_0x4dce5e(0x5a6)],'caption':_0x1e3755[_0x4dce5e(0x2bd)],'size':{'fileLength':_0x1e3755[_0x4dce5e(0x57a)],'height':_0x1e3755['height'],'width':_0x1e3755[_0x4dce5e(0x61f)]},'mimetype':_0x1e3755[_0x4dce5e(0x673)],'base64':_0x795ae1[_0x4dce5e(0x37f)](_0x4dce5e(0x473)),'fileUrl':_0x580a97,'expires_fileUrl':Date[_0x4dce5e(0x2f2)]()+_0x1442fe};}catch(_0x24ddca){let _0x4fe474=_0x4dce5e(0x394),_0x11afce=_0x24ddca instanceof Error?_0x24ddca['message']:typeof _0x24ddca=='object'?JSON[_0x4dce5e(0x8cd)](_0x24ddca):_0x24ddca,_0x9bcfd3=_0x4fe474+':\x20'+_0x11afce;throw this['logger'][_0x4dce5e(0x456)](this[_0x4dce5e(0x676)]+'\x20('+this['instance'][_0x4dce5e(0x242)]+'):\x20'+_0x9bcfd3),new m(_0x9bcfd3);}}async[a0_0x1c66d9(0x30a)](_0x5240af,_0x2a3884){const _0xdfe8e6=a0_0x1c66d9;let _0x57a947=j[_0xdfe8e6(0x77c)][_0xdfe8e6(0x552)](__dirname,_0xdfe8e6(0x751));k[_0xdfe8e6(0x85c)](_0x57a947)||k['mkdirSync'](_0x57a947,{'recursive':!0x0});let _0x1fefb7=j[_0xdfe8e6(0x77c)][_0xdfe8e6(0x552)](_0x57a947,_0x2a3884);return new Promise((_0x18a408,_0x50855e)=>{const _0x2e72f0=_0xdfe8e6;k[_0x2e72f0(0x809)](_0x1fefb7,_0x5240af,_0x50a28a=>{const _0x6068db=_0x2e72f0;_0x50a28a?(this[_0x6068db(0x311)][_0x6068db(0x456)]('Error\x20writing\x20file:\x20'+(_0x50a28a instanceof Error?_0x50a28a[_0x6068db(0x18c)]:JSON['stringify'](_0x50a28a,null,0x2))),_0x50855e(_0x50a28a)):(this[_0x6068db(0x311)]['log'](_0x6068db(0x708)+_0x1fefb7),_0x18a408(_0x1fefb7));});});}async[a0_0x1c66d9(0x33b)](_0x422b85){const _0x25bc67=a0_0x1c66d9;return await this[_0x25bc67(0x6db)][_0x25bc67(0x4a7)][_0x25bc67(0x705)](_0x422b85,this[_0x25bc67(0x401)][_0x25bc67(0x242)]);}async[a0_0x1c66d9(0x880)](){const _0x225525=a0_0x1c66d9;return await this[_0x225525(0x6db)][_0x225525(0x52e)][_0x225525(0x705)]({'where':{}},this[_0x225525(0x401)]['wuid']);}async[a0_0x1c66d9(0x662)](_0x202456){const _0x46ac07=a0_0x1c66d9;return await this[_0x46ac07(0x6db)][_0x46ac07(0x18c)][_0x46ac07(0x705)](_0x202456,this[_0x46ac07(0x401)]['wuid']);}async[a0_0x1c66d9(0x68f)](){const _0xeda616=a0_0x1c66d9;return this[_0xeda616(0x6db)][_0xeda616(0x862)][_0xeda616(0x822)](this[_0xeda616(0x401)]['wuid']),this[_0xeda616(0x6db)][_0xeda616(0x862)][_0xeda616(0x36a)](this['instance'][_0xeda616(0x242)]),this[_0xeda616(0x6db)][_0xeda616(0x862)][_0xeda616(0x748)](this[_0xeda616(0x401)][_0xeda616(0x242)]),this['repository']['chat'][_0xeda616(0x385)](this[_0xeda616(0x401)][_0xeda616(0x242)]),await this[_0xeda616(0x6db)][_0xeda616(0x862)][_0xeda616(0x705)]({'where':{}},this[_0xeda616(0x401)][_0xeda616(0x242)]);}async[a0_0x1c66d9(0x479)](_0x24cf0c){const _0x1d8e28=a0_0x1c66d9;try{if(!Array[_0x1d8e28(0x1d3)](_0x24cf0c)||_0x24cf0c[_0x1d8e28(0x844)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x3db2b4=[],_0xdea550=[];for(let _0x3b038a of _0x24cf0c){if(_0x3b038a[_0x1d8e28(0x70b)])_0x3b038a[_0x1d8e28(0x70b)]=this[_0x1d8e28(0x63e)](_0x3b038a[_0x1d8e28(0x70b)]);else continue;await this[_0x1d8e28(0x6db)][_0x1d8e28(0x862)][_0x1d8e28(0x44a)]({'where':{'_id':_0x3b038a[_0x1d8e28(0x70b)]}},this['instance'][_0x1d8e28(0x242)])?_0xdea550[_0x1d8e28(0x463)]({'_id':_0x3b038a[_0x1d8e28(0x70b)],'leadInfo':_0x3b038a[_0x1d8e28(0x72b)],'owner':this['instance'][_0x1d8e28(0x242)]}):_0x3db2b4[_0x1d8e28(0x463)]({'_id':_0x3b038a[_0x1d8e28(0x70b)],'owner':this[_0x1d8e28(0x401)]['wuid'],'leadInfo':_0x3b038a[_0x1d8e28(0x72b)],'imported':!0x0});}return _0xdea550[_0x1d8e28(0x844)]>0x0&&await this['repository'][_0x1d8e28(0x862)][_0x1d8e28(0x62c)](_0xdea550[_0x1d8e28(0x521)](_0x3f4860=>({'query':{'where':{'_id':_0x3f4860[_0x1d8e28(0x70b)],'owner':this[_0x1d8e28(0x401)][_0x1d8e28(0x242)]}},'update':_0x3f4860}))),_0x3db2b4[_0x1d8e28(0x844)]>0x0&&await this[_0x1d8e28(0x6db)]['chat']['insertMany'](_0x3db2b4,this[_0x1d8e28(0x401)][_0x1d8e28(0x242)]),{'updated':_0xdea550[_0x1d8e28(0x844)],'inserted':_0x3db2b4[_0x1d8e28(0x844)]};}catch(_0x1e1f39){let _0x4dbbad=_0x1d8e28(0x8b2),_0x5e42fd=_0x1e1f39 instanceof Error?_0x1e1f39[_0x1d8e28(0x18c)]:typeof _0x1e1f39==_0x1d8e28(0x2c2)?JSON[_0x1d8e28(0x8cd)](_0x1e1f39):_0x1e1f39,_0x16c84e=_0x4dbbad+':\x20'+_0x5e42fd;throw this[_0x1d8e28(0x311)]['error'](this['instanceName']+'\x20('+this[_0x1d8e28(0x401)][_0x1d8e28(0x242)]+_0x1d8e28(0x761)+_0x16c84e),new m(_0x16c84e);}}async[a0_0x1c66d9(0x294)](_0x2eb6b0){const _0x2cdbbd=a0_0x1c66d9;try{if(!Array['isArray'](_0x2eb6b0)||_0x2eb6b0[_0x2cdbbd(0x844)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x5a4871=0x64,_0x1c3133=0x0;for(let _0x3f76b2=0x0;_0x3f76b2<_0x2eb6b0[_0x2cdbbd(0x844)];_0x3f76b2+=_0x5a4871){let _0x1e22a2=_0x2eb6b0[_0x2cdbbd(0x7af)](_0x3f76b2,_0x3f76b2+_0x5a4871),{updated:_0x365d05}=await this[_0x2cdbbd(0x41b)](_0x1e22a2);_0x1c3133+=_0x365d05;}return{'updated':_0x1c3133};}catch(_0x333770){let _0x1834ad=_0x2cdbbd(0x8b2),_0x3cd36d=_0x333770 instanceof Error?_0x333770['message']:typeof _0x333770=='object'?JSON[_0x2cdbbd(0x8cd)](_0x333770):_0x333770,_0x174098=_0x1834ad+':\x20'+_0x3cd36d;throw this[_0x2cdbbd(0x311)][_0x2cdbbd(0x456)](this['instanceName']+'\x20('+this[_0x2cdbbd(0x401)][_0x2cdbbd(0x242)]+_0x2cdbbd(0x761)+_0x174098),new m(_0x174098);}}async[a0_0x1c66d9(0x41b)](_0x4cb160){const _0x442f1c=a0_0x1c66d9;try{let _0x3accda=await this[_0x442f1c(0x6db)][_0x442f1c(0x52e)]['find']({'where':{}},this[_0x442f1c(0x401)][_0x442f1c(0x242)]),_0x6223eb=new Set(_0x3accda[_0x442f1c(0x521)](_0x7746dc=>_0x7746dc[_0x442f1c(0x70b)])),_0x5ad16f=[],_0x58766c=[];for(let _0x5a92d5 of _0x4cb160){if(!_0x5a92d5[_0x442f1c(0x70b)])continue;_0x5a92d5['_id']=this[_0x442f1c(0x63e)](_0x5a92d5[_0x442f1c(0x70b)]);let _0x26bf58=await this[_0x442f1c(0x6db)][_0x442f1c(0x862)]['findOne']({'where':{'_id':_0x5a92d5[_0x442f1c(0x70b)]}},this['instance']['wuid']),_0x59e565={};if(Object[_0x442f1c(0x7eb)](_0x5a92d5[_0x442f1c(0x72b)])[_0x442f1c(0x8bf)](([_0xecd45c,_0x1326e2])=>{_0x59e565['leadInfo.'+_0xecd45c]=_0x1326e2;}),_0x26bf58&&!_0x26bf58[_0x442f1c(0x491)]){let _0x41613d=(_0x5a92d5[_0x442f1c(0x72b)][_0x442f1c(0x57f)]||[])[_0x442f1c(0x901)](_0x19ee62=>_0x6223eb[_0x442f1c(0x402)](_0x19ee62)),_0x41c329=new Set(_0x26bf58[_0x442f1c(0x72b)][_0x442f1c(0x57f)]||[]),_0x453204=_0x41613d['filter'](_0x47e29c=>!_0x41c329[_0x442f1c(0x402)](_0x47e29c)),_0x297289=[..._0x41c329][_0x442f1c(0x901)](_0x9f19e0=>!_0x41613d['includes'](_0x9f19e0));_0x58766c['push'](..._0x453204['map'](_0x3af9b8=>this[_0x442f1c(0x27c)](_0x3af9b8,_0x5a92d5['_id']))),_0x58766c[_0x442f1c(0x463)](..._0x297289[_0x442f1c(0x521)](_0x341092=>this[_0x442f1c(0x340)](_0x341092,_0x5a92d5[_0x442f1c(0x70b)]))),_0x5a92d5['leadInfo']['etiquetas']=_0x41613d,_0x5ad16f[_0x442f1c(0x463)]({'query':{'where':{'_id':_0x5a92d5[_0x442f1c(0x70b)],'owner':this[_0x442f1c(0x401)][_0x442f1c(0x242)]}},'update':_0x59e565});}else _0x59e565[_0x442f1c(0x491)]=!0x0,_0x5ad16f[_0x442f1c(0x463)]({'query':{'where':{'_id':_0x5a92d5[_0x442f1c(0x70b)],'owner':this[_0x442f1c(0x401)][_0x442f1c(0x242)]}},'update':_0x59e565});}let _0x434ce1=await this['repository'][_0x442f1c(0x862)][_0x442f1c(0x62c)](_0x5ad16f);return await Promise[_0x442f1c(0x797)](_0x58766c),{'updated':_0x434ce1};}catch(_0x5898d6){let _0x22f770=_0x442f1c(0x8b2),_0x1b79b4=_0x5898d6 instanceof Error?_0x5898d6[_0x442f1c(0x18c)]:typeof _0x5898d6=='object'?JSON[_0x442f1c(0x8cd)](_0x5898d6):_0x5898d6,_0x57d8e8=_0x22f770+':\x20'+_0x1b79b4;throw this[_0x442f1c(0x311)][_0x442f1c(0x456)](this[_0x442f1c(0x676)]+'\x20('+this['instance']['wuid']+_0x442f1c(0x761)+_0x57d8e8),new m(_0x57d8e8);}}async['fetchPrivacySettings'](){const _0x3b4b03=a0_0x1c66d9;return await this[_0x3b4b03(0x83a)]['fetchPrivacySettings']();}async['updatePrivacySettings'](_0x290e32){const _0x341cd0=a0_0x1c66d9;try{return await this[_0x341cd0(0x83a)][_0x341cd0(0x87b)](_0x290e32[_0x341cd0(0x3b2)][_0x341cd0(0x4d9)]),await this['client'][_0x341cd0(0x7be)](_0x290e32[_0x341cd0(0x3b2)][_0x341cd0(0x7ab)]),await this[_0x341cd0(0x83a)][_0x341cd0(0x879)](_0x290e32[_0x341cd0(0x3b2)]['status']),await this['client'][_0x341cd0(0x513)](_0x290e32['privacySettings']['online']),await this[_0x341cd0(0x83a)][_0x341cd0(0x217)](_0x290e32[_0x341cd0(0x3b2)]['last']),await this[_0x341cd0(0x83a)][_0x341cd0(0x39d)](_0x290e32['privacySettings'][_0x341cd0(0x495)]),this[_0x341cd0(0x83a)]?.['ws']?.['close'](),{'update':_0x341cd0(0x7e8),'data':{'readreceipts':_0x290e32[_0x341cd0(0x3b2)][_0x341cd0(0x4d9)],'profile':_0x290e32['privacySettings']['profile'],'status':_0x290e32['privacySettings']['status'],'online':_0x290e32[_0x341cd0(0x3b2)][_0x341cd0(0x66e)],'last':_0x290e32['privacySettings'][_0x341cd0(0x783)],'groupadd':_0x290e32[_0x341cd0(0x3b2)][_0x341cd0(0x495)]}};}catch(_0x426dbc){let _0x3a9668=_0x341cd0(0x4fc),_0x3cc436=_0x426dbc instanceof Error?_0x426dbc['message']:typeof _0x426dbc==_0x341cd0(0x2c2)?JSON[_0x341cd0(0x8cd)](_0x426dbc):_0x426dbc,_0x46fad7=_0x3a9668+':\x20'+_0x3cc436;throw this[_0x341cd0(0x311)][_0x341cd0(0x456)](this[_0x341cd0(0x676)]+'\x20('+this[_0x341cd0(0x401)]['wuid']+_0x341cd0(0x761)+_0x46fad7),new m(_0x46fad7);}}async[a0_0x1c66d9(0x73f)](_0x342019){const _0x3b926a=a0_0x1c66d9;let _0x2e1809=(_0x342019?this[_0x3b926a(0x63e)](_0x342019):this[_0x3b926a(0x83a)]?.[_0x3b926a(0x198)]?.['id'])[_0x3b926a(0x737)](/:\d{1,2}@/g,'@');this[_0x3b926a(0x311)]['verbose'](this['instanceName']+'\x20('+this[_0x3b926a(0x401)]['wuid']+_0x3b926a(0x8f9)+_0x2e1809);let _0x4c731a=await this[_0x3b926a(0x6db)][_0x3b926a(0x4a7)]['findOne']({'where':{'_id':_0x2e1809}},this[_0x3b926a(0x401)]['wuid']),_0x315b6a=_0x4c731a?_0x4c731a['pushName']:null;try{let _0xf27247=(await this[_0x3b926a(0x8f4)]({'numbers':[_0x2e1809]}))?.['shift'](),_0x2dbc33=(await this['findAndUpdateCacheContact'](_0x2e1809,null,!0x1))[_0x3b926a(0x1c8)][_0x3b926a(0x82d)],_0x3755b0=await this['getStatus'](_0xf27247?.[_0x3b926a(0x636)]),_0xac06bc=await this[_0x3b926a(0x665)](_0xf27247?.[_0x3b926a(0x636)]),_0x52e2a8=(await this['findAndUpdateCacheContact'](_0x2e1809,null,!0x1))[_0x3b926a(0x1c8)][_0x3b926a(0x87f)],_0x24cee5=await this[_0x3b926a(0x6db)][_0x3b926a(0x862)][_0x3b926a(0x44a)]({'where':{'_id':_0x2e1809}},this[_0x3b926a(0x401)]['wuid']),_0x19f5ba={'imagechat':_0x2dbc33,'contactname':_0x315b6a||null,'pushName':_0x52e2a8,'status':_0x3755b0?.['status'],'isBusiness':_0xac06bc[_0x3b926a(0x5d9)],'email':_0xac06bc?.[_0x3b926a(0x5f6)],'description':_0xac06bc?.[_0x3b926a(0x530)],'website':_0xac06bc?.[_0x3b926a(0x241)]?.[_0x3b926a(0x2b0)](),'lastcache':Date[_0x3b926a(0x2f2)](),'imported':!_0x24cee5},_0x49ebff=await this[_0x3b926a(0x6db)][_0x3b926a(0x862)][_0x3b926a(0x2cd)]({'where':{'_id':_0x2e1809}},_0x19f5ba,this[_0x3b926a(0x401)][_0x3b926a(0x242)]),_0x27d501={'owner':this[_0x3b926a(0x401)][_0x3b926a(0x242)],'_id':_0x2e1809,'profilePictureUrl':_0x2dbc33,'status':_0x3755b0?.['status']};return this[_0x3b926a(0x6db)][_0x3b926a(0x4a7)][_0x3b926a(0x2de)]([_0x27d501],this[_0x3b926a(0x401)][_0x3b926a(0x242)]),_0x49ebff&&F(this['instanceName'],'chats',{'chat':_0x49ebff}),{'wuid':_0xf27247?.[_0x3b926a(0x636)]||_0x2e1809,'name':_0xf27247?.['name'],'pushName':_0x52e2a8,'numberExists':_0xf27247?.['exists'],'picture':_0x2dbc33,'status':_0x3755b0?.[_0x3b926a(0x730)],'isBusiness':_0xac06bc['isBusiness'],'email':_0xac06bc?.[_0x3b926a(0x5f6)],'description':_0xac06bc?.[_0x3b926a(0x530)],'website':_0xac06bc?.[_0x3b926a(0x241)]?.[_0x3b926a(0x2b0)]()};}catch(_0x3c9a16){return this[_0x3b926a(0x311)][_0x3b926a(0x456)](_0x3b926a(0x854)+(_0x3c9a16 instanceof Error?_0x3c9a16[_0x3b926a(0x18c)]:JSON[_0x3b926a(0x8cd)](_0x3c9a16,null,0x2))),{};}}async['fetchBusinessProfile'](_0x2a54cb){const _0x38464e=a0_0x1c66d9;this['logger'][_0x38464e(0x3ad)](this[_0x38464e(0x676)]+'\x20('+this['instance'][_0x38464e(0x242)]+_0x38464e(0x305));try{let _0x21773e=_0x2a54cb?this[_0x38464e(0x63e)](_0x2a54cb):this[_0x38464e(0x401)][_0x38464e(0x242)],_0x56b7d7=await this['client'][_0x38464e(0x3a0)](_0x21773e);return this['logger']['verbose'](this[_0x38464e(0x676)]+'\x20('+this[_0x38464e(0x401)][_0x38464e(0x242)]+_0x38464e(0x599)),_0x56b7d7?(this[_0x38464e(0x311)]['verbose'](this[_0x38464e(0x676)]+'\x20('+this['instance']['wuid']+_0x38464e(0x45d)),{'isBusiness':!0x0,..._0x56b7d7}):{'isBusiness':!0x1,'message':_0x38464e(0x260),...(await this[_0x38464e(0x8f4)]({'numbers':[_0x21773e]}))?.[_0x38464e(0x2b0)]()};}catch(_0x14a463){let _0xb5c270=_0x38464e(0x873),_0x2d467b=_0x14a463 instanceof Error?_0x14a463[_0x38464e(0x18c)]:typeof _0x14a463==_0x38464e(0x2c2)?JSON[_0x38464e(0x8cd)](_0x14a463):_0x14a463,_0x41d461=_0xb5c270+':\x20'+_0x2d467b;throw this['logger'][_0x38464e(0x456)](this[_0x38464e(0x676)]+'\x20('+this['instance']['wuid']+_0x38464e(0x761)+_0x41d461),new x(_0x41d461);}}async[a0_0x1c66d9(0x634)](_0x35cd72){const _0x4d5a3b=a0_0x1c66d9;let _0x11297e=this['createJid'](_0x35cd72);try{return{'wuid':_0x11297e,'status':(await this[_0x4d5a3b(0x83a)]['fetchStatus'](_0x11297e))[0x0]?.[_0x4d5a3b(0x730)]};}catch{return{'wuid':_0x11297e,'status':null};}}async[a0_0x1c66d9(0x8fc)](_0x2e733d){const _0x32f1f6=a0_0x1c66d9;try{return await this[_0x32f1f6(0x83a)][_0x32f1f6(0x8fc)](_0x2e733d),{'update':_0x32f1f6(0x7e8)};}catch(_0x57c79d){let _0x15c0e0='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName',_0x5e1fbc=_0x57c79d instanceof Error?_0x57c79d[_0x32f1f6(0x18c)]:typeof _0x57c79d==_0x32f1f6(0x2c2)?JSON[_0x32f1f6(0x8cd)](_0x57c79d):_0x57c79d,_0x1bd42b=_0x15c0e0+':\x20'+_0x5e1fbc;throw this[_0x32f1f6(0x311)][_0x32f1f6(0x456)](this[_0x32f1f6(0x676)]+'\x20('+this[_0x32f1f6(0x401)][_0x32f1f6(0x242)]+'):\x20'+_0x1bd42b),new x(_0x1bd42b);}}async[a0_0x1c66d9(0x604)](_0x391c73){const _0x265e92=a0_0x1c66d9;try{return await this[_0x265e92(0x83a)][_0x265e92(0x604)](_0x391c73),{'update':'success'};}catch(_0x54d098){let _0x451159='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus',_0x4e5b30=_0x54d098 instanceof Error?_0x54d098[_0x265e92(0x18c)]:typeof _0x54d098=='object'?JSON[_0x265e92(0x8cd)](_0x54d098):_0x54d098,_0x26e0f7=_0x451159+':\x20'+_0x4e5b30;throw this[_0x265e92(0x311)][_0x265e92(0x456)](this[_0x265e92(0x676)]+'\x20('+this[_0x265e92(0x401)][_0x265e92(0x242)]+_0x265e92(0x761)+_0x26e0f7),new x(_0x26e0f7);}}async[a0_0x1c66d9(0x54b)](_0x386468){const _0x168e15=a0_0x1c66d9;try{let _0x20424f;if((0x0,J[_0x168e15(0x5db)])(_0x386468)){let _0x179522=new Date()[_0x168e15(0x53e)](),_0xb6ded8=_0x386468+_0x168e15(0x735)+_0x179522;_0x20424f=(await K[_0x168e15(0x77c)][_0x168e15(0x7b4)](_0xb6ded8,{'responseType':_0x168e15(0x647)}))[_0x168e15(0x86c)];}else{if((0x0,J['isBase64'])(_0x386468))_0x20424f=Buffer['from'](_0x386468,_0x168e15(0x473));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this['client'][_0x168e15(0x54b)](this['instance'][_0x168e15(0x242)],_0x20424f),{'update':_0x168e15(0x7e8)};}catch(_0x5911ff){let _0x14ac3b='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture',_0x22d5a4=_0x5911ff instanceof Error?_0x5911ff['message']:typeof _0x5911ff=='object'?JSON[_0x168e15(0x8cd)](_0x5911ff):_0x5911ff,_0x23dc0a=_0x14ac3b+':\x20'+_0x22d5a4;throw this[_0x168e15(0x311)]['error'](this[_0x168e15(0x676)]+'\x20('+this[_0x168e15(0x401)][_0x168e15(0x242)]+_0x168e15(0x761)+_0x23dc0a),new x(_0x23dc0a);}}async[a0_0x1c66d9(0x78c)](){const _0x3fd18e=a0_0x1c66d9;try{return await this[_0x3fd18e(0x83a)]['removeProfilePicture'](this[_0x3fd18e(0x401)][_0x3fd18e(0x242)]),{'update':'success'};}catch(_0x4edeaa){let _0x1b17bb=_0x3fd18e(0x782),_0x1e943c=_0x4edeaa instanceof Error?_0x4edeaa['message']:typeof _0x4edeaa==_0x3fd18e(0x2c2)?JSON[_0x3fd18e(0x8cd)](_0x4edeaa):_0x4edeaa,_0x20be66=_0x1b17bb+':\x20'+_0x1e943c;throw this[_0x3fd18e(0x311)]['error'](this[_0x3fd18e(0x676)]+'\x20('+this[_0x3fd18e(0x401)][_0x3fd18e(0x242)]+_0x3fd18e(0x761)+_0x20be66),new x(_0x20be66);}}async[a0_0x1c66d9(0x28b)](_0xdc22c4){const _0x2f6ff4=a0_0x1c66d9;try{let _0x3bfcba=(await this[_0x2f6ff4(0x8f4)]({'numbers':_0xdc22c4['participants']}))[_0x2f6ff4(0x901)](_0x3fe363=>_0x3fe363[_0x2f6ff4(0x2d5)])['map'](_0x1cf5bb=>_0x1cf5bb[_0x2f6ff4(0x636)]),{id:_0x34f702}=await this['client'][_0x2f6ff4(0x4ec)](_0xdc22c4[_0x2f6ff4(0x594)],_0x3bfcba);_0xdc22c4?.[_0x2f6ff4(0x530)]&&await this[_0x2f6ff4(0x83a)][_0x2f6ff4(0x3ff)](_0x34f702,_0xdc22c4[_0x2f6ff4(0x530)]);let _0x1e6768=await this[_0x2f6ff4(0x83a)][_0x2f6ff4(0x837)](_0x34f702);return _0x1e6768[_0x2f6ff4(0x2e1)]=[],await this[_0x2f6ff4(0x185)](_0x1e6768),{'metadata':_0x1e6768};}catch(_0x2150c0){let _0x13deed='Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup',_0x31cf28=_0x2150c0 instanceof Error?_0x2150c0['message']:typeof _0x2150c0==_0x2f6ff4(0x2c2)?JSON[_0x2f6ff4(0x8cd)](_0x2150c0):_0x2150c0,_0x28eb71=_0x13deed+':\x20'+_0x31cf28;throw this[_0x2f6ff4(0x311)][_0x2f6ff4(0x456)](this[_0x2f6ff4(0x676)]+'\x20('+this[_0x2f6ff4(0x401)]['wuid']+_0x2f6ff4(0x761)+_0x28eb71),new x(_0x28eb71);}}async[a0_0x1c66d9(0x2d1)](_0x8c410d){const _0x53b2a6=a0_0x1c66d9;try{if(_0x8c410d[_0x53b2a6(0x85e)]===!0x0&&await this['client']['groupSettingUpdate'](_0x8c410d[_0x53b2a6(0x697)],_0x53b2a6(0x73e)),_0x8c410d[_0x53b2a6(0x85e)]===!0x1&&await this[_0x53b2a6(0x83a)][_0x53b2a6(0x7d3)](_0x8c410d['groupJid'],_0x53b2a6(0x808)),_0x8c410d[_0x53b2a6(0x1f5)]===!0x0&&await this['client'][_0x53b2a6(0x7d3)](_0x8c410d['groupJid'],_0x53b2a6(0x60c)),_0x8c410d[_0x53b2a6(0x1f5)]===!0x1&&await this[_0x53b2a6(0x83a)]['groupSettingUpdate'](_0x8c410d[_0x53b2a6(0x697)],_0x53b2a6(0x6a8)),_0x8c410d[_0x53b2a6(0x342)]===!0x0&&await this[_0x53b2a6(0x83a)][_0x53b2a6(0x482)](_0x8c410d['groupJid'],_0x53b2a6(0x7cc)),_0x8c410d[_0x53b2a6(0x342)]===!0x1&&await this[_0x53b2a6(0x83a)][_0x53b2a6(0x482)](_0x8c410d['groupJid'],_0x53b2a6(0x8eb)),_0x8c410d[_0x53b2a6(0x8aa)]===!0x0&&await this[_0x53b2a6(0x83a)][_0x53b2a6(0x2f7)](_0x8c410d[_0x53b2a6(0x697)],'on'),_0x8c410d[_0x53b2a6(0x8aa)]===!0x1&&await this[_0x53b2a6(0x83a)][_0x53b2a6(0x2f7)](_0x8c410d['groupJid'],_0x53b2a6(0x3b8)),typeof _0x8c410d[_0x53b2a6(0x2b4)]<'u'&&_0x8c410d['expiration']!==null&&await this[_0x53b2a6(0x83a)][_0x53b2a6(0x6cc)](_0x8c410d[_0x53b2a6(0x697)],_0x8c410d[_0x53b2a6(0x2b4)]),_0x8c410d[_0x53b2a6(0x87f)]&&await this[_0x53b2a6(0x83a)][_0x53b2a6(0x6fb)](_0x8c410d['groupJid'],_0x8c410d[_0x53b2a6(0x87f)]),_0x8c410d[_0x53b2a6(0x530)]&&await this['client'][_0x53b2a6(0x3ff)](_0x8c410d[_0x53b2a6(0x697)],_0x8c410d[_0x53b2a6(0x530)]),_0x8c410d[_0x53b2a6(0x4bb)]){let _0x3bb7bf;if((0x0,J[_0x53b2a6(0x5db)])(_0x8c410d['image'])){let _0x4c852d=new Date()[_0x53b2a6(0x53e)](),_0x3c3783=_0x8c410d[_0x53b2a6(0x4bb)]+_0x53b2a6(0x735)+_0x4c852d;_0x3bb7bf=(await K[_0x53b2a6(0x77c)]['get'](_0x3c3783,{'responseType':'arraybuffer'}))['data'];}else{if((0x0,J[_0x53b2a6(0x801)])(_0x8c410d[_0x53b2a6(0x4bb)]))_0x3bb7bf=Buffer[_0x53b2a6(0x3de)](_0x8c410d['image'],'base64');else throw new m(_0x53b2a6(0x672));}await this[_0x53b2a6(0x83a)][_0x53b2a6(0x54b)](_0x8c410d[_0x53b2a6(0x697)],_0x3bb7bf);}return await this[_0x53b2a6(0x648)]({'groupJid':_0x8c410d[_0x53b2a6(0x697)]});}catch(_0x302d81){let _0x3cffbd=_0x53b2a6(0x387),_0x24a1a7=_0x302d81 instanceof Error?_0x302d81['message']:typeof _0x302d81==_0x53b2a6(0x2c2)?JSON[_0x53b2a6(0x8cd)](_0x302d81):_0x302d81,_0x468159=_0x3cffbd+':\x20'+_0x24a1a7;throw this[_0x53b2a6(0x311)][_0x53b2a6(0x456)](this[_0x53b2a6(0x676)]+'\x20('+this['instance'][_0x53b2a6(0x242)]+_0x53b2a6(0x761)+_0x468159),new x(_0x468159);}}async['updateGParticipant'](_0x9b7dcf){const _0x4d7ef6=a0_0x1c66d9;try{let _0x2ba8da=_0x9b7dcf[_0x4d7ef6(0x525)][_0x4d7ef6(0x521)](_0x94f84e=>this[_0x4d7ef6(0x63e)](_0x94f84e));if(_0x9b7dcf[_0x4d7ef6(0x6d2)]===_0x4d7ef6(0x686)||_0x9b7dcf[_0x4d7ef6(0x6d2)]===_0x4d7ef6(0x6a7))await this['client'][_0x4d7ef6(0x4c9)](_0x9b7dcf[_0x4d7ef6(0x697)],_0x2ba8da,_0x9b7dcf[_0x4d7ef6(0x6d2)]);else{if(_0x9b7dcf['action']===_0x4d7ef6(0x887)){let _0x30dc6c=(await this[_0x4d7ef6(0x8f4)]({'numbers':_0x9b7dcf[_0x4d7ef6(0x525)]}))[_0x4d7ef6(0x901)](_0xd4db90=>_0xd4db90[_0x4d7ef6(0x2d5)])[_0x4d7ef6(0x521)](_0x426ef5=>this[_0x4d7ef6(0x63e)](_0x426ef5[_0x4d7ef6(0x636)]));if(_0x30dc6c[_0x4d7ef6(0x844)]===0x0)throw new m('Nenhum\x20participante\x20válido\x20encontrado.');await this[_0x4d7ef6(0x83a)][_0x4d7ef6(0x2eb)](_0x9b7dcf[_0x4d7ef6(0x697)],_0x30dc6c,_0x4d7ef6(0x887));}else await this[_0x4d7ef6(0x83a)][_0x4d7ef6(0x2eb)](_0x9b7dcf[_0x4d7ef6(0x697)],_0x2ba8da,_0x9b7dcf[_0x4d7ef6(0x6d2)]);}return await this[_0x4d7ef6(0x648)]({'groupJid':_0x9b7dcf[_0x4d7ef6(0x697)]});}catch(_0x3d264a){let _0x2806df=_0x4d7ef6(0x459),_0x113146=_0x3d264a instanceof Error?_0x3d264a[_0x4d7ef6(0x18c)]:typeof _0x3d264a==_0x4d7ef6(0x2c2)?JSON[_0x4d7ef6(0x8cd)](_0x3d264a):_0x3d264a,_0x2ee159=_0x2806df+':\x20'+_0x113146;throw this['logger'][_0x4d7ef6(0x456)](this[_0x4d7ef6(0x676)]+'\x20('+this[_0x4d7ef6(0x401)][_0x4d7ef6(0x242)]+_0x4d7ef6(0x761)+_0x2ee159),new m(_0x2ee159);}}async[a0_0x1c66d9(0x85a)](_0x4803d3){const _0x47f776=a0_0x1c66d9;try{return await this[_0x47f776(0x83a)][_0x47f776(0x85a)](_0x4803d3[_0x47f776(0x3ca)]);}catch(_0x59835b){let _0x5c8c92='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo',_0x436bdc=_0x59835b instanceof Error?_0x59835b[_0x47f776(0x18c)]:typeof _0x59835b==_0x47f776(0x2c2)?JSON[_0x47f776(0x8cd)](_0x59835b):_0x59835b,_0x4e237c=_0x5c8c92+':\x20'+_0x436bdc;throw this[_0x47f776(0x311)][_0x47f776(0x456)](this[_0x47f776(0x676)]+'\x20('+this[_0x47f776(0x401)][_0x47f776(0x242)]+_0x47f776(0x761)+_0x4e237c),new m(_0x4e237c);}}async['findGroup'](_0x23fa96,_0x1f929b=a0_0x1c66d9(0x747)){const _0x16e011=a0_0x1c66d9;try{let _0x26c077=await this[_0x16e011(0x6db)][_0x16e011(0x862)][_0x16e011(0x44a)]({'where':{'_id':_0x23fa96['groupJid']}},this[_0x16e011(0x401)][_0x16e011(0x242)]),_0x1b70eb=_0x26c077?_0x26c077[_0x16e011(0x409)]:null,_0x366c82=0x18*0x3c*0x3c*0x3e8;if(!_0x1b70eb||_0x1b70eb['lastUpdate']&&Date[_0x16e011(0x2f2)]()-_0x1b70eb[_0x16e011(0x8d9)]>_0x366c82){let _0x1bffd0=await this[_0x16e011(0x83a)][_0x16e011(0x837)](_0x23fa96[_0x16e011(0x697)]);if(_0x1bffd0[_0x16e011(0x468)]=_0x1bffd0?.[_0x16e011(0x468)]&&_0x1bffd0['subjectTime'][_0x16e011(0x37f)]()[_0x16e011(0x844)]<0xd?_0x1bffd0?.[_0x16e011(0x468)]*0x3e8:_0x1bffd0?.[_0x16e011(0x468)]||null,_0x1bffd0[_0x16e011(0x212)]=_0x1bffd0?.[_0x16e011(0x212)]&&_0x1bffd0['creation'][_0x16e011(0x37f)]()[_0x16e011(0x844)]<0xd?_0x1bffd0?.['creation']*0x3e8:_0x1bffd0?.[_0x16e011(0x212)]||null,_0x1b70eb={..._0x1bffd0,'lastUpdate':Date[_0x16e011(0x2f2)]()},!_0x1bffd0)return;}let _0x2e3d78=_0x1b70eb[_0x16e011(0x525)]?.[_0x16e011(0x75e)](_0x2a07ff=>_0x2a07ff['id']===this['instance'][_0x16e011(0x242)]+_0x16e011(0x87d)&&_0x2a07ff['admin']!=null)||!0x1;!_0x1b70eb[_0x16e011(0x3ca)]&&_0x2e3d78&&(_0x1b70eb['inviteCode']=(await this[_0x16e011(0x3ca)](_0x23fa96,!0x1))['inviteUrl']);let _0x33c57e=(!_0x1b70eb[_0x16e011(0x1f5)]||_0x2e3d78)&&(!_0x1b70eb[_0x16e011(0x80f)]||_0x2e3d78);_0x1b70eb['isAdmin']=_0x2e3d78,_0x1b70eb[_0x16e011(0x508)]=_0x33c57e;let _0x5378cc=[];if(_0x2e3d78&&_0x1b70eb['joinApprovalMode'])try{_0x5378cc=await this[_0x16e011(0x83a)]['groupRequestParticipantsList'](_0x23fa96[_0x16e011(0x697)]),_0x1b70eb[_0x16e011(0x67a)]=Date[_0x16e011(0x2f2)]();}catch(_0xd54a7d){this[_0x16e011(0x311)]['verbose'](this[_0x16e011(0x676)]+'\x20('+this[_0x16e011(0x401)][_0x16e011(0x242)]+_0x16e011(0x8de)+_0x23fa96[_0x16e011(0x697)]+':\x20'+(_0xd54a7d instanceof Error?_0xd54a7d[_0x16e011(0x18c)]:JSON['stringify'](_0xd54a7d,null,0x2)));}try{_0x1b70eb[_0x16e011(0x4bb)]=(await this[_0x16e011(0x893)](_0x23fa96[_0x16e011(0x697)],null,!0x0))['cachedContact'][_0x16e011(0x82d)];}catch(_0x19098e){this[_0x16e011(0x311)][_0x16e011(0x3ad)](this[_0x16e011(0x676)]+'\x20('+this[_0x16e011(0x401)][_0x16e011(0x242)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x23fa96[_0x16e011(0x697)]+':\x20'+(_0x19098e instanceof Error?_0x19098e['message']:JSON[_0x16e011(0x8cd)](_0x19098e,null,0x2)));}let _0x505d3e=_0x1b70eb[_0x16e011(0x525)]['map'](_0x33f718=>_0x33f718['id']),_0x5bde9b=_0x5378cc[_0x16e011(0x521)](_0x342078=>_0x342078[_0x16e011(0x636)]),_0x315e30=await this[_0x16e011(0x6db)][_0x16e011(0x611)]['findManyByIds']([..._0x505d3e,..._0x5bde9b]);_0x1b70eb[_0x16e011(0x525)]=_0x1b70eb[_0x16e011(0x525)][_0x16e011(0x521)](_0x371d28=>{const _0x1bec1a=_0x16e011;let _0x693f9=_0x315e30[_0x1bec1a(0x705)](_0x1efdee=>_0x1efdee[_0x1bec1a(0x70b)]===_0x371d28['id']);return{'id':_0x371d28['id'],'isAdmin':[_0x1bec1a(0x7d5),_0x1bec1a(0x4bd)][_0x1bec1a(0x1e1)](_0x371d28['admin']),'admin':_0x371d28['admin'],'pushName':_0x693f9?.[_0x1bec1a(0x87f)],'profilePictureUrl':_0x693f9?.['pictureUrl']};}),_0x1b70eb[_0x16e011(0x2e1)]=_0x5378cc[_0x16e011(0x521)](_0x5a5c6e=>{const _0x3fcfb0=_0x16e011;let _0x118766=_0x315e30[_0x3fcfb0(0x705)](_0x3ebd15=>_0x3ebd15['_id']===_0x5a5c6e[_0x3fcfb0(0x636)]);return{'id':_0x5a5c6e[_0x3fcfb0(0x636)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x118766?.[_0x3fcfb0(0x87f)],'profilePictureUrl':_0x118766?.['pictureUrl'],'request_method':_0x5a5c6e[_0x3fcfb0(0x469)],'request_time':_0x5a5c6e['request_time']};});let _0x2fc6e7=await this['repository'][_0x16e011(0x862)]['updateOne']({'where':{'_id':_0x23fa96[_0x16e011(0x697)]}},{'imagechat':_0x1b70eb['image'],'name':_0x1b70eb[_0x16e011(0x594)],'lastcache':Date[_0x16e011(0x2f2)](),'groupdata':_0x1b70eb},this[_0x16e011(0x401)]['wuid']);return F(this[_0x16e011(0x676)],'chats',{'chat':_0x2fc6e7}),{'metadata':_0x1b70eb};}catch(_0x272e77){if(_0x1f929b===_0x16e011(0x5ca))return;throw new U(_0x16e011(0x70e),_0x272e77[_0x16e011(0x18c)][_0x16e011(0x37f)]());}}async[a0_0x1c66d9(0x18d)](){const _0x482ad7=a0_0x1c66d9;try{this[_0x482ad7(0x311)][_0x482ad7(0x43e)](_0x482ad7(0x372));let _0x5cc7dc=Date[_0x482ad7(0x2f2)](),_0x21746a=0x3*0x3c*0x3c*0x3e8;return _0x5cc7dc-this['lastRealGroupsFetch']>_0x21746a&&(this['findRealGroups'](),this[_0x482ad7(0x245)]=_0x5cc7dc),(await this[_0x482ad7(0x6db)]['chat'][_0x482ad7(0x44c)]({'where':{'group':!0x0}},this[_0x482ad7(0x401)]['wuid']))['map'](_0x40263b=>({..._0x40263b[_0x482ad7(0x409)],'groupJid':_0x40263b?.[_0x482ad7(0x70b)],'participants':_0x40263b?.[_0x482ad7(0x409)]?.[_0x482ad7(0x525)]||[],'awaitingApproval':_0x40263b?.['groupdata']?.[_0x482ad7(0x2e1)]||[],'image':_0x40263b?.[_0x482ad7(0x424)]}));}catch(_0x48d401){let _0x26622c='Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups',_0x10d8b6=_0x48d401 instanceof Error?_0x48d401[_0x482ad7(0x18c)]:typeof _0x48d401=='object'?JSON[_0x482ad7(0x8cd)](_0x48d401):_0x48d401,_0x4f3807=_0x26622c+':\x20'+_0x10d8b6;throw this[_0x482ad7(0x311)]['error'](this['instanceName']+'\x20('+this[_0x482ad7(0x401)][_0x482ad7(0x242)]+_0x482ad7(0x761)+_0x4f3807),new U(_0x4f3807);}}async[a0_0x1c66d9(0x225)](){const _0x4476b3=a0_0x1c66d9;try{this[_0x4476b3(0x311)]['info'](_0x4476b3(0x70f));let _0x52c974=[],_0x4bfefb=await this[_0x4476b3(0x83a)][_0x4476b3(0x22c)](),_0x1dbb24=Object[_0x4476b3(0x847)](_0x4bfefb);for(let _0x29d192=0x0;_0x29d192<_0x1dbb24[_0x4476b3(0x844)];_0x29d192++){let _0x6ec1d9=_0x1dbb24[_0x29d192];(0x0,w['isJidGroup'])(_0x6ec1d9?.['id'])&&(_0x52c974['push']({'groupJid':_0x6ec1d9?.['id'],'subject':_0x6ec1d9?.['subject'],'subjectOwner':_0x6ec1d9?.['subjectOwner']?.[_0x4476b3(0x444)]('@')[0x0],'subjectTime':_0x6ec1d9?.['subjectTime'],'creation':_0x6ec1d9?.['creation'],'size':_0x6ec1d9?.['participants']?.[_0x4476b3(0x844)],'owner':_0x6ec1d9?.[_0x4476b3(0x3f5)]?.[_0x4476b3(0x444)]('@')[0x0],'desc':_0x6ec1d9?.[_0x4476b3(0x282)],'restrict':_0x6ec1d9?.[_0x4476b3(0x85e)],'announce':_0x6ec1d9?.[_0x4476b3(0x1f5)],'image':null,'isCommunity':_0x6ec1d9?.[_0x4476b3(0x80f)],'joinApprovalMode':_0x6ec1d9?.['joinApprovalMode'],'memberCanAddParticipant':_0x6ec1d9?.[_0x4476b3(0x342)],'participants':_0x6ec1d9?.[_0x4476b3(0x525)],'descOwner':_0x6ec1d9?.[_0x4476b3(0x1e3)],'descId':_0x6ec1d9?.['descId'],'memberAddMode':_0x6ec1d9?.[_0x4476b3(0x342)],'isCommunityAnnounce':_0x6ec1d9?.[_0x4476b3(0x77d)],'ephemeralDuration':_0x6ec1d9?.[_0x4476b3(0x303)]||0x0,'author':_0x6ec1d9?.[_0x4476b3(0x8a0)]}),this[_0x4476b3(0x185)](_0x1dbb24[_0x29d192]));}return _0x52c974;}catch(_0x3284b8){let _0x44ae65=_0x4476b3(0x7ac),_0x50a4fb=_0x3284b8 instanceof Error?_0x3284b8[_0x4476b3(0x18c)]:typeof _0x3284b8==_0x4476b3(0x2c2)?JSON[_0x4476b3(0x8cd)](_0x3284b8):_0x3284b8,_0x2717fd=_0x44ae65+':\x20'+_0x50a4fb;throw this['logger'][_0x4476b3(0x456)](this[_0x4476b3(0x676)]+'\x20('+this[_0x4476b3(0x401)][_0x4476b3(0x242)]+'):\x20'+_0x2717fd),new U(_0x2717fd);}}async[a0_0x1c66d9(0x185)](_0x518884){const _0x3b10fa=a0_0x1c66d9;let _0x5016f3=await this[_0x3b10fa(0x6db)]['chat'][_0x3b10fa(0x44a)]({'where':{'_id':_0x518884['id']}},this[_0x3b10fa(0x401)][_0x3b10fa(0x242)]);if(_0x518884[_0x3b10fa(0x468)]=_0x518884?.['subjectTime']&&_0x518884[_0x3b10fa(0x468)][_0x3b10fa(0x37f)]()[_0x3b10fa(0x844)]<0xd?_0x518884?.[_0x3b10fa(0x468)]*0x3e8:_0x518884?.[_0x3b10fa(0x468)]||null,_0x518884['creation']=_0x518884?.[_0x3b10fa(0x212)]&&_0x518884[_0x3b10fa(0x212)][_0x3b10fa(0x37f)]()[_0x3b10fa(0x844)]<0xd?_0x518884?.[_0x3b10fa(0x212)]*0x3e8:_0x518884?.[_0x3b10fa(0x212)]||null,!_0x518884[_0x3b10fa(0x4bb)])try{_0x518884['image']=await this[_0x3b10fa(0x83a)][_0x3b10fa(0x8d0)](_0x518884['id'],'preview');}catch(_0x5a0fcd){this[_0x3b10fa(0x311)][_0x3b10fa(0x3ad)](this[_0x3b10fa(0x676)]+'\x20('+this[_0x3b10fa(0x401)][_0x3b10fa(0x242)]+_0x3b10fa(0x6ed)+_0x518884['id']+':\x20'+(_0x5a0fcd instanceof Error?_0x5a0fcd[_0x3b10fa(0x18c)]:JSON[_0x3b10fa(0x8cd)](_0x5a0fcd,null,0x2)));}let _0x31d4dd=_0x518884['participants'][_0x3b10fa(0x521)](_0x48186a=>{const _0x28b2db=_0x3b10fa;let _0xe59fc4=_0x5016f3?.[_0x28b2db(0x409)]?.[_0x28b2db(0x525)][_0x28b2db(0x705)](_0x165eaf=>_0x165eaf['id']===_0x48186a['id']);return{..._0x48186a,'isAdmin':['admin',_0x28b2db(0x4bd)][_0x28b2db(0x1e1)](_0x48186a['admin']),'admin':_0x48186a[_0x28b2db(0x7d5)],'name':_0xe59fc4?.[_0x28b2db(0x87f)]||_0x48186a[_0x28b2db(0x87f)],'imgUrl':_0xe59fc4?.[_0x28b2db(0x6e3)]||_0x48186a[_0x28b2db(0x6e3)]};}),_0x112f60=_0x31d4dd[_0x3b10fa(0x75e)](_0xc033c2=>_0xc033c2['id']===this[_0x3b10fa(0x401)][_0x3b10fa(0x242)]+_0x3b10fa(0x87d)&&_0xc033c2[_0x3b10fa(0x7d5)]!=null)||!0x1,_0x3764fb=(!_0x518884[_0x3b10fa(0x1f5)]||_0x112f60)&&(!_0x518884[_0x3b10fa(0x80f)]||_0x112f60),_0x3e4601={..._0x518884,'participants':_0x31d4dd,'awaitingApproval':_0x5016f3?.[_0x3b10fa(0x409)]?.['awaitingApproval']||[],'lastFetchAwaitingApproval':_0x5016f3?.[_0x3b10fa(0x409)]?.[_0x3b10fa(0x67a)],'isAdmin':_0x112f60,'canSendMessage':_0x3764fb,'lastUpdate':Date[_0x3b10fa(0x2f2)]()};await this['repository'][_0x3b10fa(0x862)][_0x3b10fa(0x2cd)]({'where':{'_id':_0x518884['id']}},{'imagechat':_0x518884[_0x3b10fa(0x4bb)],'name':_0x518884[_0x3b10fa(0x594)],'group':!0x0,'groupdata':_0x3e4601,'lastcache':Date[_0x3b10fa(0x2f2)]()},this[_0x3b10fa(0x401)]['wuid']),F(this[_0x3b10fa(0x676)],_0x3b10fa(0x88a),{'chat':_0x518884});}async['updateGroupWebhook'](_0xd2873f){const _0x38af04=a0_0x1c66d9;let _0x3cbdf5=await this[_0x38af04(0x6db)]['chat']['findOne']({'where':{'_id':_0xd2873f['id']}},this[_0x38af04(0x401)]['wuid']);_0xd2873f['subjectTime']=_0xd2873f?.[_0x38af04(0x468)]&&_0xd2873f[_0x38af04(0x468)][_0x38af04(0x37f)]()[_0x38af04(0x844)]<0xd?_0xd2873f?.['subjectTime']*0x3e8:_0xd2873f?.[_0x38af04(0x468)]||null,_0xd2873f[_0x38af04(0x212)]=_0xd2873f?.[_0x38af04(0x212)]&&_0xd2873f[_0x38af04(0x212)]['toString']()[_0x38af04(0x844)]<0xd?_0xd2873f?.['creation']*0x3e8:_0xd2873f?.[_0x38af04(0x212)]||null,_0xd2873f[_0x38af04(0x3ca)]&&(_0xd2873f[_0x38af04(0x3ca)]=_0x38af04(0x3f4)+_0xd2873f[_0x38af04(0x3ca)]);let _0x285c2e=_0x3cbdf5?.[_0x38af04(0x409)]?{..._0x3cbdf5[_0x38af04(0x409)]}:{};Object[_0x38af04(0x4cb)](_0xd2873f)[_0x38af04(0x8bf)](_0x43dd17=>{_0x43dd17!=='id'&&(_0x285c2e[_0x43dd17]=_0xd2873f[_0x43dd17]);});let _0x57bf53=_0x285c2e['participants']?.['some'](_0x3598d7=>_0x3598d7['id']===this[_0x38af04(0x401)][_0x38af04(0x242)]+'@s.whatsapp.net'&&_0x3598d7[_0x38af04(0x7d5)]!=null)||!0x1;_0x285c2e['isAdmin']=_0x57bf53;let _0xe9f171=(!_0x285c2e[_0x38af04(0x1f5)]||_0x57bf53)&&(!_0x285c2e['isCommunity']||_0x57bf53);_0x285c2e[_0x38af04(0x508)]=_0xe9f171;let _0x275954={'group':!0x0,'groupdata':_0x285c2e};_0xd2873f['subject']&&(_0x275954[_0x38af04(0x87f)]=_0xd2873f[_0x38af04(0x594)]),await this[_0x38af04(0x6db)][_0x38af04(0x862)][_0x38af04(0x2cd)]({'where':{'_id':_0xd2873f['id']}},_0x275954,this[_0x38af04(0x401)][_0x38af04(0x242)],{'upsert':!0x0}),F(this[_0x38af04(0x676)],'chats',{'chat':_0x275954});}async[a0_0x1c66d9(0x1d8)](_0x1cbc40){const _0x5b49b0=a0_0x1c66d9;let _0x3225c=await this[_0x5b49b0(0x6db)][_0x5b49b0(0x862)]['findOne']({'where':{'_id':_0x1cbc40['id']}},this[_0x5b49b0(0x401)]['wuid']);if(!_0x3225c||!_0x3225c[_0x5b49b0(0x409)]){this[_0x5b49b0(0x311)]['info'](this['instanceName']+'\x20('+this[_0x5b49b0(0x401)][_0x5b49b0(0x242)]+'):\x20Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x20'+_0x1cbc40['id']);return;}let _0x4f6c81=await this[_0x5b49b0(0x6db)][_0x5b49b0(0x611)][_0x5b49b0(0x5f7)](_0x1cbc40['participants']),_0x20d947=[..._0x3225c[_0x5b49b0(0x409)]?.[_0x5b49b0(0x525)]];switch(_0x1cbc40[_0x5b49b0(0x6d2)]){case _0x5b49b0(0x887):_0x4f6c81[_0x5b49b0(0x521)](_0x1023d5=>({'id':_0x1023d5[_0x5b49b0(0x70b)],'isAdmin':!0x1,'name':_0x1023d5['name'],'imgUrl':_0x1023d5[_0x5b49b0(0x82d)]}))['forEach'](_0x1470bd=>{const _0x5d0b87=_0x5b49b0;_0x20d947[_0x5d0b87(0x75e)](_0x506d05=>_0x506d05['id']===_0x1470bd['id'])||(_0x20d947['push'](_0x1470bd),this['logger'][_0x5d0b87(0x43e)](_0x5d0b87(0x4c4)+JSON[_0x5d0b87(0x8cd)](_0x1470bd)));});break;case _0x5b49b0(0x23d):_0x20d947=_0x20d947[_0x5b49b0(0x901)](_0x2c3839=>!_0x1cbc40[_0x5b49b0(0x525)][_0x5b49b0(0x1e1)](_0x2c3839['id']));break;case _0x5b49b0(0x6ee):_0x20d947=_0x20d947[_0x5b49b0(0x521)](_0x1d80ef=>_0x1cbc40[_0x5b49b0(0x525)][_0x5b49b0(0x1e1)](_0x1d80ef['id'])?{..._0x1d80ef,'isAdmin':!0x0,'admin':'admin'}:_0x1d80ef);break;case _0x5b49b0(0x6f0):_0x20d947=_0x20d947[_0x5b49b0(0x521)](_0x592484=>_0x1cbc40[_0x5b49b0(0x525)]['includes'](_0x592484['id'])?{..._0x592484,'isAdmin':!0x1,'admin':null}:_0x592484);break;}let _0x476c64=_0x20d947['length'],_0x56ba7e=_0x20d947[_0x5b49b0(0x75e)](_0xe7514e=>_0xe7514e['id']===this[_0x5b49b0(0x401)]['wuid']+_0x5b49b0(0x87d)),_0x22e0bd=_0x56ba7e&&_0x20d947['some'](_0x598912=>_0x598912['id']===this[_0x5b49b0(0x401)][_0x5b49b0(0x242)]+_0x5b49b0(0x87d)&&_0x598912[_0x5b49b0(0x7d5)]!=null)||!0x1,_0x2db6c6=_0x56ba7e&&(!_0x3225c['groupdata'][_0x5b49b0(0x1f5)]||_0x22e0bd)&&(!_0x3225c[_0x5b49b0(0x409)][_0x5b49b0(0x80f)]||_0x22e0bd);await this[_0x5b49b0(0x6db)][_0x5b49b0(0x862)]['updateOne']({'where':{'_id':_0x1cbc40['id']}},{'groupdata':{..._0x3225c[_0x5b49b0(0x409)],'participants':_0x20d947,'size':_0x476c64,'isAdmin':_0x22e0bd,'canSendMessage':_0x2db6c6}},this[_0x5b49b0(0x401)]['wuid']),this[_0x5b49b0(0x311)][_0x5b49b0(0x43e)](this['instanceName']+'\x20('+this[_0x5b49b0(0x401)][_0x5b49b0(0x242)]+_0x5b49b0(0x18e)+_0x1cbc40['id']+_0x5b49b0(0x602)+_0x1cbc40[_0x5b49b0(0x6d2)]+',\x20Novo\x20tamanho:\x20'+_0x476c64+',\x20isAdmin:\x20'+_0x22e0bd+_0x5b49b0(0x7c0)+_0x2db6c6);}async[a0_0x1c66d9(0x3ca)](_0x5468d3,_0x4dcbe1=!0x0){const _0x5d6836=a0_0x1c66d9;try{let _0xe1a144=await this['client']['groupInviteCode'](_0x5468d3['groupJid']),_0x1dfc07={'groupdata.inviteCode':_0x5d6836(0x3f4)+_0xe1a144};if(_0x4dcbe1){let _0x937af8=await this[_0x5d6836(0x6db)][_0x5d6836(0x862)][_0x5d6836(0x2cd)]({'where':{'_id':_0x5468d3[_0x5d6836(0x697)]}},_0x1dfc07,this[_0x5d6836(0x401)]['wuid']);}return{'inviteUrl':_0x5d6836(0x3f4)+_0xe1a144,'inviteCode':_0xe1a144};}catch(_0x15960e){let _0x3c3c84='Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode',_0x1ac11c=_0x15960e instanceof Error?_0x15960e[_0x5d6836(0x18c)]:typeof _0x15960e=='object'?JSON[_0x5d6836(0x8cd)](_0x15960e):_0x15960e,_0xd8115a=_0x3c3c84+':\x20'+_0x1ac11c;throw this['logger'][_0x5d6836(0x456)](this[_0x5d6836(0x676)]+'\x20('+this[_0x5d6836(0x401)][_0x5d6836(0x242)]+_0x5d6836(0x761)+_0xd8115a),new U(_0xd8115a);}}async[a0_0x1c66d9(0x89c)](_0x53f7da){const _0x1a8a28=a0_0x1c66d9;try{let _0x4063de=await this[_0x1a8a28(0x83a)]['groupRevokeInvite'](_0x53f7da['groupJid']);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x4063de,'inviteCode':_0x4063de};}catch(_0x3e95fc){let _0x12f532=_0x1a8a28(0x43b),_0x487d91=_0x3e95fc instanceof Error?_0x3e95fc[_0x1a8a28(0x18c)]:typeof _0x3e95fc==_0x1a8a28(0x2c2)?JSON['stringify'](_0x3e95fc):_0x3e95fc,_0x1b67af=_0x12f532+':\x20'+_0x487d91;throw this[_0x1a8a28(0x311)][_0x1a8a28(0x456)](this['instanceName']+'\x20('+this[_0x1a8a28(0x401)]['wuid']+_0x1a8a28(0x761)+_0x1b67af),new U(_0x1b67af);}}async[a0_0x1c66d9(0x5cb)](_0x4d2327){const _0x235ce6=a0_0x1c66d9;try{if((0x0,J[_0x235ce6(0x5db)])(_0x4d2327[_0x235ce6(0x3ca)]))var _0x1b4256=_0x4d2327[_0x235ce6(0x3ca)][_0x235ce6(0x444)]('/')[0x3];else var _0x1b4256=_0x4d2327['inviteCode'];let _0x42d34b=await this[_0x235ce6(0x83a)][_0x235ce6(0x789)](_0x1b4256);return this[_0x235ce6(0x311)][_0x235ce6(0x3ad)](this[_0x235ce6(0x676)]+'\x20('+this['instance'][_0x235ce6(0x242)]+_0x235ce6(0x761)+_0x42d34b),{'join':!0x0,'inviteCode':_0x1b4256,'groupJid':_0x42d34b};}catch(_0x418fec){let _0xd260f4='Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x55e3e8=_0x418fec instanceof Error?_0x418fec[_0x235ce6(0x18c)]:typeof _0x418fec==_0x235ce6(0x2c2)?JSON['stringify'](_0x418fec):_0x418fec,_0x3d647c=_0xd260f4+':\x20'+_0x55e3e8;throw this[_0x235ce6(0x311)]['error'](this[_0x235ce6(0x676)]+'\x20('+this['instance'][_0x235ce6(0x242)]+_0x235ce6(0x761)+_0x3d647c),new U(_0x3d647c);}}async[a0_0x1c66d9(0x826)](_0x50545d){const _0x235852=a0_0x1c66d9;try{return{'participants':(await this[_0x235852(0x6db)]['chat'][_0x235852(0x44a)]({'where':{'_id':_0x50545d[_0x235852(0x697)]}},this[_0x235852(0x401)]['wuid']))['groupdata'][_0x235852(0x525)]};}catch(_0x48cfd3){let _0x555a2c=_0x235852(0x89f),_0x9e1182=_0x48cfd3 instanceof Error?_0x48cfd3['message']:typeof _0x48cfd3=='object'?JSON[_0x235852(0x8cd)](_0x48cfd3):_0x48cfd3,_0x4619a3=_0x555a2c+':\x20'+_0x9e1182;throw this[_0x235852(0x311)][_0x235852(0x456)](this[_0x235852(0x676)]+'\x20('+this[_0x235852(0x401)][_0x235852(0x242)]+'):\x20'+_0x4619a3),new U(_0x4619a3);}}async[a0_0x1c66d9(0x267)](_0x4feaea){const _0x53adc7=a0_0x1c66d9;try{return await this[_0x53adc7(0x83a)]['groupLeave'](_0x4feaea['groupJid']),{'groupJid':_0x4feaea['groupJid'],'leave':!0x0};}catch(_0x27dfb3){let _0x4665f0='Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup',_0x46796d=_0x27dfb3 instanceof Error?_0x27dfb3[_0x53adc7(0x18c)]:typeof _0x27dfb3=='object'?JSON[_0x53adc7(0x8cd)](_0x27dfb3):_0x27dfb3,_0x472e79=_0x4665f0+':\x20'+_0x46796d;throw this[_0x53adc7(0x311)]['error'](this[_0x53adc7(0x676)]+'\x20('+this[_0x53adc7(0x401)][_0x53adc7(0x242)]+'):\x20'+_0x472e79),new m(_0x472e79);}}async[a0_0x1c66d9(0x5b2)](_0x27c128){const _0x33bbd8=a0_0x1c66d9;return await this['sendMessageWithTyping'](_0x27c128[_0x33bbd8(0x4e8)],{'poll':{'name':_0x27c128['pollMessage']?.[_0x33bbd8(0x87f)],'selectableCount':_0x27c128['pollMessage'][_0x33bbd8(0x54a)],'values':_0x27c128[_0x33bbd8(0x5b2)][_0x33bbd8(0x847)]}},_0x27c128?.[_0x33bbd8(0x2ca)]);}async[a0_0x1c66d9(0x840)](_0x1d30de){const _0x29f102=a0_0x1c66d9;return await this[_0x29f102(0x607)](_0x1d30de[_0x29f102(0x4e8)],{'listMessage':{'title':_0x1d30de[_0x29f102(0x840)][_0x29f102(0x26d)],'description':_0x1d30de[_0x29f102(0x840)][_0x29f102(0x530)],'buttonText':_0x1d30de['listMessage']?.[_0x29f102(0x546)],'footerText':_0x1d30de[_0x29f102(0x840)]?.[_0x29f102(0x8af)],'sections':_0x1d30de[_0x29f102(0x840)][_0x29f102(0x5ae)],'listType':0x2}},_0x1d30de?.[_0x29f102(0x2ca)]);}async[a0_0x1c66d9(0x6d7)](_0x27950b){const _0x53807a=a0_0x1c66d9;this[_0x53807a(0x401)]['isBusiness']===void 0x0&&await this[_0x53807a(0x5d6)]();let _0x10410c;if(_0x27950b[_0x53807a(0x6d7)][_0x53807a(0x640)]===_0x53807a(0x314)||_0x27950b[_0x53807a(0x6d7)][_0x53807a(0x640)]===_0x53807a(0x905)){let _0x26e992=_0x27950b[_0x53807a(0x6d7)]['text'][_0x53807a(0x1b8)]('\x0a'),_0x263564='',_0x1e89b2='';_0x26e992!==-0x1?(_0x263564=_0x27950b[_0x53807a(0x6d7)]['text'][_0x53807a(0x239)](0x0,_0x26e992)[_0x53807a(0x5e0)](),_0x1e89b2=_0x27950b[_0x53807a(0x6d7)][_0x53807a(0x460)][_0x53807a(0x239)](_0x26e992+0x1)):_0x1e89b2=_0x27950b[_0x53807a(0x6d7)]['text'];let _0x1ef0c2=_0x27950b[_0x53807a(0x6d7)][_0x53807a(0x1b2)][_0x53807a(0x901)](_0x18ca4d=>_0x18ca4d[_0x53807a(0x5e0)]()!==''),_0x149198=this['createSectionsFromValues'](_0x1ef0c2);_0x10410c={'listMessage':{'title':_0x263564,'description':_0x1e89b2,'buttonText':_0x27950b[_0x53807a(0x6d7)][_0x53807a(0x546)]||_0x53807a(0x6fe),'footerText':_0x27950b[_0x53807a(0x6d7)][_0x53807a(0x8af)],'sections':_0x149198,'listType':0x2}};}else{if(_0x27950b['menuMessage'][_0x53807a(0x640)]==='poll'){let _0x2b4042=_0x27950b['menuMessage']['choices']['filter'](_0x491dc2=>!(_0x491dc2['startsWith']('[')&&_0x491dc2[_0x53807a(0x369)](']'))&&_0x491dc2[_0x53807a(0x5e0)]()!=='')[_0x53807a(0x521)](_0x4362d9=>_0x4362d9[_0x53807a(0x444)]('\x0a')[0x0]);for(;_0x2b4042[_0x53807a(0x844)]<0x2;)_0x2b4042[_0x53807a(0x463)](_0x53807a(0x62d)+(_0x2b4042[_0x53807a(0x844)]+0x1));_0x10410c={'poll':{'name':_0x27950b[_0x53807a(0x6d7)][_0x53807a(0x460)],'selectableCount':_0x27950b['menuMessage'][_0x53807a(0x54a)]||0x1,'values':_0x2b4042}};}else{if(_0x27950b['menuMessage'][_0x53807a(0x640)]===_0x53807a(0x6d6)){let _0x2e033f=this[_0x53807a(0x345)](_0x27950b[_0x53807a(0x6d7)]['choices'][_0x53807a(0x901)](_0x195fda=>!(_0x195fda[_0x53807a(0x560)]('[')&&_0x195fda['endsWith'](']'))));return _0x10410c={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x27950b[_0x53807a(0x6d7)][_0x53807a(0x460)]},'footer':_0x27950b[_0x53807a(0x6d7)][_0x53807a(0x8af)]?{'text':_0x27950b['menuMessage'][_0x53807a(0x8af)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x2e033f,'messageParamsJson':JSON[_0x53807a(0x8cd)]({'from':_0x53807a(0x677),'templateId':_0x53807a(0x407)+(0x0,re[_0x53807a(0x725)])(0x12)[_0x53807a(0x37f)](_0x53807a(0x8cf))['toUpperCase']()})}}}}},await this[_0x53807a(0x6e8)](_0x27950b[_0x53807a(0x4e8)],_0x10410c,_0x27950b?.['options']);}else{if(_0x27950b[_0x53807a(0x6d7)]['type']===_0x53807a(0x249)){let _0x56f29a=this[_0x53807a(0x290)](_0x27950b['menuMessage'][_0x53807a(0x1b2)]);return _0x10410c={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x27950b['menuMessage'][_0x53807a(0x460)]},'footer':_0x27950b['menuMessage'][_0x53807a(0x8af)]?{'text':_0x27950b[_0x53807a(0x6d7)]['footerText']}:void 0x0,'nativeFlowMessage':{'buttons':_0x56f29a,'messageParamsJson':JSON[_0x53807a(0x8cd)]({'from':_0x53807a(0x677),'templateId':_0x53807a(0x407)+(0x0,re[_0x53807a(0x725)])(0x12)[_0x53807a(0x37f)](_0x53807a(0x8cf))[_0x53807a(0x406)]()})}}}}},await this['sendMessageWithTypingButtons'](_0x27950b[_0x53807a(0x4e8)],_0x10410c,_0x27950b?.[_0x53807a(0x2ca)]);}}}}return await this[_0x53807a(0x607)](_0x27950b['number'],_0x10410c,_0x27950b?.[_0x53807a(0x2ca)]);}[a0_0x1c66d9(0x345)](_0x4d7633){return _0x4d7633['map'](_0x288b49=>{const _0x5de0d7=a0_0x24da;let _0x319ffd=_0x288b49[_0x5de0d7(0x444)]('\x0a')[_0x5de0d7(0x521)](_0x3a4f5a=>_0x3a4f5a[_0x5de0d7(0x5e0)]()),_0x384458=_0x319ffd[0x0],_0x12f33e=_0x319ffd[0x1]||_0x384458,_0x3b578c=_0x12f33e[_0x5de0d7(0x560)](_0x5de0d7(0x54d))?_0x5de0d7(0x2bb):'quick_reply';return{'name':_0x3b578c,'buttonParamsJson':JSON[_0x5de0d7(0x8cd)]({'display_text':_0x384458,'id':_0x3b578c===_0x5de0d7(0x2c0)?_0x12f33e:void 0x0,'url':_0x3b578c===_0x5de0d7(0x2bb)?_0x12f33e:void 0x0})};});}[a0_0x1c66d9(0x290)](_0x524d6e){const _0x3273f6=a0_0x1c66d9;let _0x3aa777=[],_0x322ba1={'title':'','rows':[]};return _0x524d6e[_0x3273f6(0x8bf)](_0x554138=>{const _0x37ec83=_0x3273f6;if(_0x554138[_0x37ec83(0x560)]('[')&&_0x554138[_0x37ec83(0x369)](']'))_0x322ba1[_0x37ec83(0x20a)][_0x37ec83(0x844)]>0x0&&_0x3aa777[_0x37ec83(0x463)](_0x322ba1),_0x322ba1={'title':_0x554138[_0x37ec83(0x7af)](0x1,-0x1),'rows':[]};else{let _0x17f61c=_0x554138[_0x37ec83(0x444)]('\x0a')[_0x37ec83(0x521)](_0x56110f=>_0x56110f[_0x37ec83(0x5e0)]()),_0x296f72=_0x17f61c[0x0],_0x2914fa=_0x17f61c[0x1]?_0x17f61c[0x1]:void 0x0,_0x323372=_0x17f61c[0x2]||_0x296f72;_0x322ba1[_0x37ec83(0x20a)][_0x37ec83(0x463)]({'title':_0x296f72,'description':_0x2914fa,'id':_0x323372});}}),_0x322ba1[_0x3273f6(0x20a)]['length']>0x0&&_0x3aa777[_0x3273f6(0x463)](_0x322ba1),[{'name':_0x3273f6(0x246),'buttonParamsJson':JSON['stringify']({'title':_0x3273f6(0x8fe),'sections':_0x3aa777})}];}['createSectionsFromValues'](_0x4252f7){const _0x3cf2d2=a0_0x1c66d9;let _0xb9a286=[],_0x72f3b8={'rows':[]};return _0x4252f7[_0x3cf2d2(0x8bf)](_0xb8f161=>{const _0x2da290=_0x3cf2d2;if(_0xb8f161[_0x2da290(0x560)]('[')&&_0xb8f161[_0x2da290(0x369)](']'))_0x72f3b8[_0x2da290(0x20a)][_0x2da290(0x844)]>0x0&&_0xb9a286[_0x2da290(0x463)](_0x72f3b8),_0x72f3b8={'title':_0xb8f161[_0x2da290(0x7af)](0x1,-0x1),'rows':[]};else{let _0x2b9088=_0xb8f161[_0x2da290(0x444)]('\x0a')[_0x2da290(0x521)](_0x1dfb55=>_0x1dfb55['trim']()),_0x5e79cf=_0x2b9088[0x0],_0x50feb3=_0x2b9088[0x1]||null,_0x1bd9e3=_0x2b9088[0x2]||_0x5e79cf;_0x72f3b8[_0x2da290(0x20a)][_0x2da290(0x463)]({'title':_0x5e79cf,'description':_0x50feb3,'rowId':_0x1bd9e3});}}),_0x72f3b8[_0x3cf2d2(0x20a)][_0x3cf2d2(0x844)]>0x0&&_0xb9a286[_0x3cf2d2(0x463)](_0x72f3b8),_0xb9a286;}async[a0_0x1c66d9(0x779)](_0x1d2771,_0x586b7f){const _0x291253=a0_0x1c66d9;if(await this['getMessage'](_0x1d2771,!0x0)){let _0x2e126c={'where':{'_id':_0x1d2771['id']}},_0x107c20={'status':[_0x586b7f[_0x291253(0x730)]][0x0]};try{let _0x23ed25=await this[_0x291253(0x6db)][_0x291253(0x18c)][_0x291253(0x2de)](_0x2e126c,_0x107c20,this[_0x291253(0x401)][_0x291253(0x242)]);_0x23ed25&&F(this[_0x291253(0x676)],_0x291253(0x1ef),{'message':_0x23ed25});}catch{}}}[a0_0x1c66d9(0x200)](_0x315bf2){const _0xceee0d=a0_0x1c66d9;let _0x2c5a98=[];return _0x315bf2[_0xceee0d(0x8bf)](_0x2f779f=>{const _0x514d56=_0xceee0d;_0x2f779f[_0x514d56(0x26d)]&&_0x2c5a98['push']('['+_0x2f779f['title']+']'),_0x2f779f['rows'][_0x514d56(0x8bf)](_0x7be9e0=>{const _0xcc0df0=_0x514d56;_0x2c5a98[_0xcc0df0(0x463)](_0x7be9e0[_0xcc0df0(0x26d)]);});}),_0x2c5a98['join']('|');}[a0_0x1c66d9(0x79c)](_0x15d5c4){const _0x4207f8=a0_0x1c66d9;let _0x37c1cd=_0x15d5c4[_0x4207f8(0x737)](/\\n/g,'\x0a')[_0x4207f8(0x444)]('\x0a')[_0x4207f8(0x901)](_0x146d06=>_0x146d06[_0x4207f8(0x1e1)]('TEL')||_0x146d06['includes']('EMAIL')),_0x3ddb73='';return _0x37c1cd['forEach'](_0x294064=>{const _0x48ec6c=_0x4207f8;let _0x2ea905=/TEL(?:.*):(.+)/,_0x177c2d=/EMAIL(?:.*):(.+)/,_0x70a037=_0x294064['match'](_0x2ea905),_0x5bf42a=_0x294064[_0x48ec6c(0x277)](_0x177c2d);if(_0x70a037){let _0x4879e0=_0x70a037[0x1][_0x48ec6c(0x737)](/-| |\+|\(|\)/g,'')[_0x48ec6c(0x5e0)]();_0x3ddb73+=_0x48ec6c(0x810)+_0x4879e0+'\x0a';}else{if(_0x5bf42a){let _0x5153eb=_0x5bf42a[0x1]['trim']();_0x3ddb73+=_0x48ec6c(0x660)+_0x5153eb+'\x0a';}}}),_0x3ddb73['trim']();}async['updateChatWithMessage'](_0x328b33,_0x4cd524,_0x4b68cb,_0xa51110=null){const _0x395ab0=a0_0x1c66d9;if(_0x328b33[_0x395ab0(0x8d2)])try{let _0x4d57e3=_0x4cd524['key'][_0x395ab0(0x328)][_0x395ab0(0x737)](/:\d{1,2}@/g,'@'),_0x1b9ce9=_0x4cd524[_0x395ab0(0x757)]['fromMe'],_0x1f0777=_0x4d57e3[_0x395ab0(0x369)]('@g.us'),_0x1c2e21=_0x4cd524['participant']?.['replace'](/:\d{1,2}@/g,'@')||'',_0x3b3ead=_0x4cd524[_0x395ab0(0x830)]?.[_0x395ab0(0x460)]||_0x4cd524['message_normalized']?.[_0x395ab0(0x2bd)]||_0x4cd524[_0x395ab0(0x830)]?.['vote']||_0x4cd524[_0x395ab0(0x830)]?.[_0x395ab0(0x87f)]||'',_0x1c96bc={'_id':_0x4cd524[_0x395ab0(0x70b)],'remoteJid':_0x1b9ce9?this[_0x395ab0(0x401)][_0x395ab0(0x242)]:_0x1f0777?_0x1c2e21:_0x4d57e3,'pushName':_0x1b9ce9?this[_0x395ab0(0x401)][_0x395ab0(0x349)]||'Eu':_0x4cd524[_0x395ab0(0x786)],'text':_0x3b3ead,'type':_0x4cd524['messageType'],'when':_0x4cd524[_0x395ab0(0x56e)]||Date[_0x395ab0(0x2f2)]()};_0xa51110||(_0xa51110=await this['repository'][_0x395ab0(0x862)][_0x395ab0(0x44a)]({'where':{'_id':_0x4d57e3}},this['instance']['wuid']));let _0x92f8a0=_0x1b9ce9?0x0:_0xa51110?(_0xa51110[_0x395ab0(0x8d4)]||0x0)+0x1:0x1,_0x45b5dd={'lastmsg':_0x4cd524[_0x395ab0(0x56e)]||Date['now'](),'ephemeralExpiration':_0x4cd524[_0x395ab0(0x2b4)],'lastMessage':_0x1c96bc,'unreadcount':_0x92f8a0,..._0x1b9ce9||_0x1f0777?{}:{'name':_0x4cd524['pushName']},..._0x1f0777?{'group':_0x1f0777}:{},...!_0x1b9ce9&&!_0x1f0777&&_0x4cd524[_0x395ab0(0x8d0)]?{'imagechat':_0x4cd524['profilePictureUrl']}:{}};if(!_0x1f0777&&(!_0xa51110?.['leadInfo']||!_0xa51110[_0x395ab0(0x72b)][_0x395ab0(0x626)])&&_0x4cd524['pushName']&&!_0x1b9ce9&&(_0x45b5dd={..._0x45b5dd,'leadInfo.nome':_0x4cd524[_0x395ab0(0x786)]}),_0xa51110?.['leadInfo'][_0x395ab0(0x57f)]||(_0x45b5dd={..._0x45b5dd,'leadInfo.etiquetas':[]}),_0xa51110?.['leadInfo'][_0x395ab0(0x7f0)]||(_0x45b5dd={..._0x45b5dd,'leadInfo.customFields':[]}),_0xa51110?.[_0x395ab0(0x72b)][_0x395ab0(0x1a2)]||(_0x45b5dd={..._0x45b5dd,'leadInfo.tags':[]}),_0xa51110&&_0xa51110?.[_0x395ab0(0x491)]){let _0x1e2d0b=await this['repository']['label']['find']({'where':{}},this[_0x395ab0(0x401)][_0x395ab0(0x242)]),_0x2b76b1=new Set(_0x1e2d0b[_0x395ab0(0x521)](_0x5be2f9=>_0x5be2f9[_0x395ab0(0x70b)])),_0x3ec49a=(_0xa51110['leadInfo']?.[_0x395ab0(0x57f)]||[])[_0x395ab0(0x901)](_0x1bfc75=>_0x2b76b1[_0x395ab0(0x402)](_0x1bfc75));_0x45b5dd={..._0x45b5dd,'imported':!0x1,'leadInfo.etiquetas':_0x3ec49a};for(let _0x437462 of _0x3ec49a)await this[_0x395ab0(0x27c)](_0x437462,_0x4d57e3);}if(!this['AutomateSystem']['flows'][_0x395ab0(0x705)](_0x2759c0=>_0x2759c0[_0x395ab0(0x80a)]&&_0x3b3ead['includes'](_0x2759c0[_0x395ab0(0x80a)]))&&_0x4b68cb===_0x395ab0(0x5ec)&&_0x1b9ce9&&this[_0x395ab0(0x4c1)]?.[_0x395ab0(0x2a9)][_0x395ab0(0x64d)]&&_0x3b3ead['trim']()!==this['AutomateSystem']?.['flowConfig']['stopConversation']['trim']()){let _0x392939=(this[_0x395ab0(0x4c1)]?.[_0x395ab0(0x2a9)][_0x395ab0(0x706)]||0x0)*0xea60,_0x4347ac=Date['now']()+_0x392939;_0xa51110?.[_0x395ab0(0x72b)]?.[_0x395ab0(0x261)]===0x0||(_0x45b5dd={..._0x45b5dd,'leadInfo.desativadoFluxoAte':_0x4347ac},this[_0x395ab0(0x311)][_0x395ab0(0x3ad)](this['instanceName']+'\x20('+this[_0x395ab0(0x401)][_0x395ab0(0x242)]+_0x395ab0(0x1c1)+_0x4347ac+'.'));}if(_0x3b3ead[_0x395ab0(0x5e0)]()===this[_0x395ab0(0x4c1)]?.[_0x395ab0(0x2a9)]['stopConversation'][_0x395ab0(0x5e0)]()){this['logger'][_0x395ab0(0x3ad)](this[_0x395ab0(0x676)]+'\x20('+this[_0x395ab0(0x401)][_0x395ab0(0x242)]+'):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20'+_0x3b3ead);let _0x34e3d8=Date['now']();this['AutomateSystem']?.[_0x395ab0(0x2a9)][_0x395ab0(0x40f)]===0x0?_0x45b5dd={..._0x45b5dd,'leadInfo.desativadoFluxoAte':_0x34e3d8+0x7591f6200}:_0x45b5dd={..._0x45b5dd,'leadInfo.desativadoFluxoAte':_0x34e3d8+this[_0x395ab0(0x4c1)]?.[_0x395ab0(0x2a9)]['stopMinutes']*0x3c*0x3e8};}if(_0xa51110=await this[_0x395ab0(0x6db)][_0x395ab0(0x862)][_0x395ab0(0x2cd)]({'where':{'_id':_0x4d57e3}},_0x45b5dd,this[_0x395ab0(0x401)][_0x395ab0(0x242)],{'new':!0x0,'upsert':!0x0}),_0xa51110)F(this[_0x395ab0(0x676)],_0x395ab0(0x88a),{'chat':_0xa51110});else{this[_0x395ab0(0x311)][_0x395ab0(0x456)](this[_0x395ab0(0x676)]+'\x20('+this[_0x395ab0(0x401)]['wuid']+_0x395ab0(0x29e));return;}if(_0x1b9ce9)return this['logger']['verbose'](this[_0x395ab0(0x676)]+'\x20('+this[_0x395ab0(0x401)]['wuid']+'):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...'),null;if(!this[_0x395ab0(0x4c1)]?.['flowConfig'][_0x395ab0(0x64d)])return this[_0x395ab0(0x311)]['verbose'](this[_0x395ab0(0x676)]+'\x20('+this['instance']['wuid']+'):\x20Flow\x20desativado'),null;if(_0xa51110[_0x395ab0(0x70b)]['includes'](_0x395ab0(0x257))&&this['AutomateSystem']?.['flowConfig'][_0x395ab0(0x336)]===!0x0)return this[_0x395ab0(0x311)][_0x395ab0(0x3ad)](this['instanceName']+'\x20('+this['instance'][_0x395ab0(0x242)]+_0x395ab0(0x7d4)),null;if(_0xa51110[_0x395ab0(0x72b)]){if(_0xa51110[_0x395ab0(0x72b)][_0x395ab0(0x261)]===0x0||_0xa51110[_0x395ab0(0x72b)]['atendimentoAberto'])return this[_0x395ab0(0x311)][_0x395ab0(0x3ad)](this[_0x395ab0(0x676)]+'\x20('+this[_0x395ab0(0x401)][_0x395ab0(0x242)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x4d57e3+_0x395ab0(0x391)),null;if(_0xa51110[_0x395ab0(0x72b)][_0x395ab0(0x261)]>Date['now']()&&!_0x4cd524['message_normalized']?.[_0x395ab0(0x699)])return this['logger'][_0x395ab0(0x3ad)](this[_0x395ab0(0x676)]+'\x20('+this[_0x395ab0(0x401)]['wuid']+_0x395ab0(0x733)+new Date(_0xa51110['leadInfo']['desativadoFluxoAte'])[_0x395ab0(0x3dc)]()+_0x395ab0(0x391)),null;}this[_0x395ab0(0x311)][_0x395ab0(0x3ad)](this['instanceName']+'\x20('+this[_0x395ab0(0x401)][_0x395ab0(0x242)]+_0x395ab0(0x573)),this[_0x395ab0(0x4f2)](_0x4cd524,_0x4b68cb);}catch(_0x39674a){let _0x20ea7d=_0x395ab0(0x650),_0x28d6aa=_0x39674a instanceof Error?_0x39674a['message']:typeof _0x39674a==_0x395ab0(0x2c2)?JSON['stringify'](_0x39674a):_0x39674a,_0x4260fb=_0x20ea7d+':\x20'+_0x28d6aa;return this[_0x395ab0(0x311)][_0x395ab0(0x456)](this[_0x395ab0(0x676)]+'\x20('+this[_0x395ab0(0x401)]['wuid']+_0x395ab0(0x761)+_0x4260fb),null;}}async[a0_0x1c66d9(0x55d)](_0x3fb716,_0x79c9c){const _0x36f2bb=a0_0x1c66d9;if(_0x79c9c[_0x36f2bb(0x8d2)]){let _0x5800a6=_0x3fb716[_0x36f2bb(0x521)](async _0xd47cf3=>{const _0x1692a6=_0x36f2bb;try{let _0x4964a0={'_id':_0xd47cf3[_0x1692a6(0x70b)],'owner':_0xd47cf3[_0x1692a6(0x3f5)],'lastcache':0x0};if(Object[_0x1692a6(0x4cb)](_0xd47cf3)[_0x1692a6(0x8bf)](_0x361e08=>{_0xd47cf3[_0x361e08]!==null&&(_0x4964a0[_0x361e08]=_0xd47cf3[_0x361e08]);}),_0x4964a0[_0x1692a6(0x424)]===null&&(_0x4964a0[_0x1692a6(0x424)]=_0x1692a6(0x702)),Object[_0x1692a6(0x4cb)](_0x4964a0)[_0x1692a6(0x844)]>0x0)return await this['repository'][_0x1692a6(0x862)]['updateOne']({'where':{'_id':_0xd47cf3[_0x1692a6(0x70b)]}},_0x4964a0,this[_0x1692a6(0x401)][_0x1692a6(0x242)]);}catch(_0x336f99){let _0x2d073a=_0x1692a6(0x5ff)+_0xd47cf3[_0x1692a6(0x70b)],_0x306e57=_0x336f99 instanceof Error?_0x336f99[_0x1692a6(0x18c)]:typeof _0x336f99==_0x1692a6(0x2c2)?JSON[_0x1692a6(0x8cd)](_0x336f99):_0x336f99,_0x2737e9=_0x2d073a+':\x20'+_0x306e57;return this[_0x1692a6(0x311)][_0x1692a6(0x456)](this[_0x1692a6(0x676)]+'\x20('+this[_0x1692a6(0x401)][_0x1692a6(0x242)]+'):\x20'+_0x2737e9),null;}}),_0x54f9ec=(await Promise[_0x36f2bb(0x797)](_0x5800a6))[_0x36f2bb(0x901)](_0x3321fb=>_0x3321fb!==null)[_0x36f2bb(0x844)];this['logger'][_0x36f2bb(0x3ad)](this[_0x36f2bb(0x676)]+'\x20('+this[_0x36f2bb(0x401)]['wuid']+'):\x20'+_0x54f9ec+'\x20chats\x20de\x20'+this['instance'][_0x36f2bb(0x242)]+_0x36f2bb(0x7aa));}}async[a0_0x1c66d9(0x762)](_0x17ddb4){const _0x51ba17=a0_0x1c66d9;this[_0x51ba17(0x311)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x51ba17(0x242)]+'):\x20Ler\x20mensagem');let _0x575940={'readMessages':[{'remoteJid':_0x17ddb4['chatLog'][_0x51ba17(0x4e6)][_0x51ba17(0x757)][_0x51ba17(0x328)],'fromMe':_0x17ddb4['chatLog'][_0x51ba17(0x4e6)]['key'][_0x51ba17(0x889)],'id':_0x17ddb4['chatLog'][_0x51ba17(0x4e6)]['key']['id']}]};await this['markMessageAsRead'](_0x575940);}async[a0_0x1c66d9(0x4f2)](_0x337837,_0x559d74){const _0x591099=a0_0x1c66d9;try{let {key:_0x251c33,message_normalized:_0x56886a}=_0x337837,_0x2b258d=_0x56886a,_0x413e6b=_0x56886a[_0x591099(0x460)]||_0x56886a[_0x591099(0x2bd)]||_0x56886a[_0x591099(0x699)]||_0x56886a[_0x591099(0x87f)]||'',_0x2fdd2b=_0x251c33[_0x591099(0x328)],_0x357e05=null,_0x382bce=this['AutomateSystem'][_0x591099(0x318)]['find'](_0x1d721e=>_0x1d721e[_0x591099(0x80a)]&&_0x413e6b['includes'](_0x1d721e[_0x591099(0x80a)]));if(_0x382bce&&_0x559d74===_0x591099(0x5ec)){let _0x5b73f7=await this['repository'][_0x591099(0x719)][_0x591099(0x44a)]({'where':{'_id':_0x382bce['_id']}});if(this[_0x591099(0x311)][_0x591099(0x3ad)](this[_0x591099(0x676)]+'\x20('+this['instance'][_0x591099(0x242)]+_0x591099(0x432)),_0x5b73f7&&_0x5b73f7[_0x591099(0x6bc)]?.[_0x591099(0x1e1)](this[_0x591099(0x401)][_0x591099(0x242)]))_0x357e05=await this[_0x591099(0x7d8)](_0x5b73f7,_0x251c33,_0x2b258d);else return this[_0x591099(0x311)][_0x591099(0x3ad)](this[_0x591099(0x676)]+'\x20('+this[_0x591099(0x401)]['wuid']+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo'),null;}else this[_0x591099(0x311)][_0x591099(0x3ad)](this[_0x591099(0x676)]+'\x20('+this[_0x591099(0x401)][_0x591099(0x242)]+_0x591099(0x215));if(_0x357e05=await this[_0x591099(0x4ee)](_0x2fdd2b,_0x2b258d),_0x357e05){this[_0x591099(0x311)][_0x591099(0x3ad)](this[_0x591099(0x676)]+'\x20('+this['instance'][_0x591099(0x242)]+_0x591099(0x6d5)),!_0x251c33[_0x591099(0x889)]&&_0x357e05['readMessages']&&this[_0x591099(0x762)](_0x357e05);let _0x3b69fd=await this[_0x591099(0x601)](_0x357e05);_0x3b69fd&&await this['processblock'](_0x357e05,_0x3b69fd);}}catch(_0x5b02fc){this[_0x591099(0x311)][_0x591099(0x456)](this[_0x591099(0x676)]+'\x20('+this['instance'][_0x591099(0x242)]+_0x591099(0x8d6)+(_0x5b02fc instanceof Error?_0x5b02fc[_0x591099(0x18c)]:JSON[_0x591099(0x8cd)](_0x5b02fc,null,0x2)));}}[a0_0x1c66d9(0x3c9)](_0x592b5f,_0x4be67f='',_0x4b2849={}){const _0x44ce6d=a0_0x1c66d9;return typeof _0x592b5f!=_0x44ce6d(0x2c2)||_0x592b5f===null?(_0x4be67f&&(_0x4b2849[_0x4be67f]=_0x592b5f),_0x4b2849):(Object[_0x44ce6d(0x7eb)](_0x592b5f)[_0x44ce6d(0x8bf)](([_0x57a386,_0x54c8c1])=>{const _0x1f3309=_0x44ce6d;let _0x406ae8=_0x4be67f?_0x4be67f+'.'+_0x57a386:'_'+_0x57a386;Array[_0x1f3309(0x1d3)](_0x54c8c1)?_0x54c8c1[_0x1f3309(0x8bf)]((_0x580993,_0x5cb5d9)=>{this['flattenObject'](_0x580993,_0x406ae8+'['+_0x5cb5d9+']',_0x4b2849);}):typeof _0x54c8c1=='object'&&_0x54c8c1!==null?this[_0x1f3309(0x3c9)](_0x54c8c1,_0x406ae8,_0x4b2849):_0x4b2849[_0x406ae8]=String(_0x54c8c1);}),_0x4b2849);}[a0_0x1c66d9(0x681)](_0x5cb2a4){const _0x481025=a0_0x1c66d9;let _0x5e49cc={};for(let _0x5edf23 of _0x5cb2a4)typeof _0x5edf23[_0x481025(0x87f)]==_0x481025(0x24a)&&typeof _0x5edf23['value']==_0x481025(0x24a)&&(_0x5e49cc[_0x5edf23[_0x481025(0x87f)]]=_0x5edf23[_0x481025(0x45e)]);return _0x5e49cc;}async[a0_0x1c66d9(0x601)](_0x3f52de){const _0x139df1=a0_0x1c66d9;if(!this['AutomateSystem']?.[_0x139df1(0x2a9)][_0x139df1(0x64d)]||_0x3f52de[_0x139df1(0x730)]!==_0x139df1(0x32f)&&_0x3f52de[_0x139df1(0x6a4)]==='')return null;let _0x2c67ea=_0x3f52de[_0x139df1(0x765)][_0x139df1(0x313)]||_0x139df1(0x471);typeof _0x3f52de[_0x139df1(0x765)][_0x139df1(0x323)]>'u'&&(_0x3f52de['chatLog'][_0x139df1(0x323)]=!0x0);let _0x20a8ad=_0x3f52de[_0x139df1(0x765)][_0x139df1(0x323)];this[_0x139df1(0x311)]['verbose'](this[_0x139df1(0x676)]+'\x20('+this[_0x139df1(0x401)]['wuid']+_0x139df1(0x6f6)+_0x2c67ea+',\x20lastCondition:\x20'+_0x20a8ad);let _0x463650=_0x2c67ea===_0x139df1(0x471)?_0x3f52de[_0x139df1(0x736)][_0x139df1(0x705)](_0xae344b=>_0xae344b[_0x139df1(0x640)]===_0x139df1(0x471)):_0x3f52de['blocks'][_0x139df1(0x705)](_0x5a5d4e=>_0x5a5d4e[_0x139df1(0x70b)][_0x139df1(0x37f)]()===_0x2c67ea[_0x139df1(0x37f)]());if(!_0x463650)return this[_0x139df1(0x311)][_0x139df1(0x456)](this[_0x139df1(0x676)]+'\x20('+this['instance'][_0x139df1(0x242)]+_0x139df1(0x5da)+_0x2c67ea),null;let _0x5bef71={'_pushName':_0x3f52de?.['chatLog']?.['lastReceivedMessage']?.[_0x139df1(0x786)]||'','_sender':this['instance'][_0x139df1(0x242)]||'',..._0x3f52de[_0x139df1(0x765)][_0x139df1(0x553)]},_0x4b9f4d=new Date();_0x5bef71[_0x139df1(0x1bf)]=_0x4b9f4d['getDate'](),_0x5bef71[_0x139df1(0x6a6)]=_0x4b9f4d[_0x139df1(0x6c1)]()+0x1,_0x5bef71[_0x139df1(0x1de)]=_0x4b9f4d[_0x139df1(0x67c)](),_0x5bef71[_0x139df1(0x56f)]=_0x4b9f4d[_0x139df1(0x717)](),_0x5bef71[_0x139df1(0x83d)]=_0x4b9f4d['getMinutes'](),_0x5bef71[_0x139df1(0x3a6)]=_0x4b9f4d[_0x139df1(0x1d2)]();let _0x5b86c0=null;if(_0x3f52de[_0x139df1(0x6a4)]){let _0x325e86=_0x3f52de[_0x139df1(0x765)][_0x139df1(0x4e6)][_0x139df1(0x699)],_0x4e4ef9=_0x3f52de[_0x139df1(0x74e)][_0x139df1(0x705)](_0x1719cf=>_0x1719cf[_0x139df1(0x440)]===_0x325e86);if(_0x4e4ef9){let _0x567718=_0x4e4ef9[_0x139df1(0x67d)];if(_0x5b86c0=_0x3f52de[_0x139df1(0x736)]['find'](_0x3d28cb=>_0x3d28cb['groupId']===_0x567718&&_0x3d28cb[_0x139df1(0x74d)]===0x1),_0x463650[_0x139df1(0x453)][_0x139df1(0x339)]){let _0x551b7f={'id':_0x3f52de['waitingMenu_id'],'remoteJid':_0x3f52de[_0x139df1(0x328)],'fromMe':!0x0};await this[_0x139df1(0x689)](_0x551b7f);}if(_0x463650[_0x139df1(0x453)][_0x139df1(0x339)]&&_0x463650['uazapi']['pollMessageOnDelete']&&_0x463650[_0x139df1(0x453)][_0x139df1(0x851)]==='poll'){let _0x1b7860={'number':_0x3f52de[_0x139df1(0x328)],'options':{'delay':0x0},'textMessage':{'text':_0x139df1(0x545)+_0x3f52de[_0x139df1(0x855)]+_0x139df1(0x4ba)+_0x325e86}};await this[_0x139df1(0x6c3)](_0x1b7860);}_0x5bef71[_0x139df1(0x27e)]=_0x325e86,_0x3f52de['status']=_0x139df1(0x32f),_0x3f52de[_0x139df1(0x6a4)]='',_0x3f52de[_0x139df1(0x855)]='',_0x3f52de['waitingMenu_replyOptions']=[];}else{this[_0x139df1(0x311)][_0x139df1(0x3ad)](this[_0x139df1(0x676)]+'\x20('+this[_0x139df1(0x401)][_0x139df1(0x242)]+_0x139df1(0x523));let _0x111232={'activatedCount':_0x3f52de[_0x139df1(0x765)][_0x139df1(0x570)][_0x139df1(0x901)](_0x182a1c=>String(_0x182a1c['blockId'])===String(_0x2c67ea))[_0x139df1(0x844)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x463650['uazapi']['pollErrorMessage']){let _0x2999dd={'number':_0x3f52de[_0x139df1(0x328)],'options':{'delay':0x0},'textMessage':{'text':_0x463650['uazapi'][_0x139df1(0x410)]}};await this['textMessage'](_0x2999dd);}if(_0x463650[_0x139df1(0x21e)]!==void 0x0&&_0x111232[_0x139df1(0x8c0)]>=_0x463650[_0x139df1(0x21e)]){let _0x4fbec7=Date[_0x139df1(0x2f2)](),_0x451ac9=_0x463650[_0x139df1(0x399)]??0xa;isNaN(_0x451ac9)&&(_0x451ac9=0xa);let _0x3197c5=_0x4fbec7+_0x451ac9*0x3c*0x3e8;_0x111232[_0x139df1(0x3b9)]=_0x3197c5,_0x111232[_0x139df1(0x465)][_0x139df1(0x463)](_0x139df1(0x6fd)),this[_0x139df1(0x49b)](_0x3f52de,_0x3197c5),_0x3f52de['waitingMenu_id']='',_0x3f52de[_0x139df1(0x855)]='',_0x3f52de[_0x139df1(0x74e)]=[];}return this[_0x139df1(0x31c)](_0x3f52de,_0x463650,_0x111232,!0x0),null;}}if(_0x20a8ad&&_0x463650['next_groupId']&&!_0x3f52de[_0x139df1(0x6a4)]){let _0x2c9604=_0x3f52de[_0x139df1(0x736)][_0x139df1(0x901)](_0x4cef42=>_0x4cef42['groupId'][_0x139df1(0x37f)]()===_0x463650['next_groupId'][_0x139df1(0x37f)]())['sort']((_0x5cf433,_0x9f0c3d)=>_0x5cf433['order']-_0x9f0c3d['order']);_0x2c9604[_0x139df1(0x844)]>0x0&&(_0x5b86c0=_0x2c9604[0x0]);}if(!_0x5b86c0){let _0x4124b1=_0x463650[_0x139df1(0x849)],_0x54af69=_0x3f52de['blocks'][_0x139df1(0x901)](_0xfe9b5c=>_0xfe9b5c['groupId']===_0x4124b1&&_0xfe9b5c['order']>_0x463650[_0x139df1(0x74d)])['sort']((_0x30fd4c,_0x228b66)=>_0x30fd4c[_0x139df1(0x74d)]-_0x228b66['order']);_0x54af69[_0x139df1(0x844)]>0x0&&(_0x5b86c0=_0x54af69[0x0]);}if(!_0x5b86c0)return _0x3f52de[_0x139df1(0x730)]=_0x139df1(0x31a),null;_0x3f52de[_0x139df1(0x765)][_0x139df1(0x553)]=_0x5bef71;let _0x486dc0=JSON[_0x139df1(0x860)](JSON['stringify'](_0x5b86c0));return this[_0x139df1(0x7b9)](_0x486dc0,_0x3f52de[_0x139df1(0x765)][_0x139df1(0x553)]),_0x3f52de[_0x139df1(0x765)][_0x139df1(0x313)]=_0x486dc0[_0x139df1(0x70b)],_0x3f52de[_0x139df1(0x765)]['lastCondition']=!0x0,_0x486dc0;}[a0_0x1c66d9(0x291)](_0x27061d,_0x96bfa8){const _0x27b575=a0_0x1c66d9;return _0x27061d[_0x27b575(0x737)](/\{\{([^}]+)\}\}/g,(_0x30a8f6,_0x1dde61)=>_0x96bfa8[_0x1dde61]||'');}[a0_0x1c66d9(0x7b9)](_0x234314,_0x4747b7){const _0x2b42ac=a0_0x1c66d9;for(let _0x416ff5 in _0x234314)typeof _0x234314[_0x416ff5]==_0x2b42ac(0x24a)?_0x234314[_0x416ff5]=this['replaceVariables'](_0x234314[_0x416ff5],_0x4747b7):typeof _0x234314[_0x416ff5]==_0x2b42ac(0x2c2)&&this[_0x2b42ac(0x7b9)](_0x234314[_0x416ff5],_0x4747b7);}async['goNextblock'](_0x49d430,_0x39e2e7){const _0x4ba01e=a0_0x1c66d9;let _0x39cd4c=_0x39e2e7[_0x4ba01e(0x70b)];if(_0x49d430[_0x4ba01e(0x765)]&&_0x49d430[_0x4ba01e(0x765)]['blockLogs']){let _0x2deb86=_0x49d430[_0x4ba01e(0x765)][_0x4ba01e(0x570)][_0x4ba01e(0x901)](_0x391393=>String(_0x391393[_0x4ba01e(0x8a3)])===String(_0x39cd4c))[_0x4ba01e(0x4a4)]();if(_0x2deb86&&_0x2deb86[_0x4ba01e(0x456)]&&_0x39e2e7['stopIfLastReturnedError'])return _0x49d430['status']=_0x4ba01e(0x31a),await this[_0x4ba01e(0x204)](_0x49d430),null;}if(_0x39e2e7[_0x4ba01e(0x640)]===_0x4ba01e(0x453)&&_0x39e2e7[_0x4ba01e(0x453)][_0x4ba01e(0x8bb)]===_0x4ba01e(0x75d)&&_0x49d430[_0x4ba01e(0x6a4)])return _0x49d430['chatLog'][_0x4ba01e(0x313)]=_0x39cd4c,await this['saveConversationToDatabase'](_0x49d430),null;let _0x33fef3=await this[_0x4ba01e(0x601)](_0x49d430);if(_0x49d430['chatLog']&&_0x49d430[_0x4ba01e(0x765)][_0x4ba01e(0x570)]){let _0x5035ae=_0x49d430['chatLog']['blockLogs'][_0x4ba01e(0x901)](_0x18ad3f=>String(_0x18ad3f[_0x4ba01e(0x8a3)])===String(_0x39cd4c))[_0x4ba01e(0x844)];if(_0x39e2e7[_0x4ba01e(0x21e)]!==void 0x0&&_0x5035ae>=_0x39e2e7['maxActives']){let _0x52629b=Date[_0x4ba01e(0x2f2)](),_0x28ede4=_0x39e2e7['stopMinutesMaxActives']??0xa;isNaN(_0x28ede4)&&(_0x28ede4=0xa);let _0x194ad9=_0x52629b+_0x28ede4*0x3c*0x3e8,_0x585f16={'newStoppedUntil':_0x194ad9};return this[_0x4ba01e(0x49b)](_0x49d430,_0x194ad9),this[_0x4ba01e(0x31c)](_0x49d430,_0x39e2e7,_0x585f16,!0x0),null;}}_0x33fef3&&_0x33fef3[_0x4ba01e(0x640)]!==_0x4ba01e(0x8f0)&&await this[_0x4ba01e(0x813)](_0x49d430,_0x33fef3),_0x33fef3||await this[_0x4ba01e(0x204)](_0x49d430),_0x33fef3&&_0x33fef3[_0x4ba01e(0x640)]==='save'&&(_0x49d430['chatLog'][_0x4ba01e(0x313)]=_0x39cd4c,await this['saveConversationToDatabase'](_0x49d430));}async[a0_0x1c66d9(0x813)](_0x268dba,_0x405070){const _0x4ef1d0=a0_0x1c66d9;try{let _0x3671c5=_0x405070[_0x4ef1d0(0x640)];this[_0x4ef1d0(0x311)][_0x4ef1d0(0x3ad)](this[_0x4ef1d0(0x676)]+'\x20('+this[_0x4ef1d0(0x401)][_0x4ef1d0(0x242)]+_0x4ef1d0(0x85b)+_0x3671c5);let _0x850b77={'uazapi':()=>this[_0x4ef1d0(0x1cc)](_0x268dba,_0x405070),'save':()=>this[_0x4ef1d0(0x5b9)](_0x268dba,_0x405070),'stop':()=>this['stopConversation'](_0x268dba,_0x405070),'condition':()=>this[_0x4ef1d0(0x6fc)](_0x268dba,_0x405070),'varedit':()=>this['processvaredits'](_0x268dba,_0x405070),'apirequest':()=>this['processApiRequest'](_0x268dba,_0x405070),'goToFlow':()=>this[_0x4ef1d0(0x79d)](_0x268dba,_0x405070),'scheduleFlow':()=>this[_0x4ef1d0(0x480)](_0x268dba,_0x405070),'awaitSeconds':()=>this[_0x4ef1d0(0x6de)](_0x268dba,_0x405070),'clearVariables':()=>this[_0x4ef1d0(0x4b1)](_0x268dba,_0x405070)}[_0x3671c5];_0x850b77&&await _0x850b77();}catch(_0x29fa1b){this[_0x4ef1d0(0x311)][_0x4ef1d0(0x456)](this['instanceName']+'\x20('+this[_0x4ef1d0(0x401)][_0x4ef1d0(0x242)]+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x29fa1b instanceof Error?_0x29fa1b[_0x4ef1d0(0x18c)]:JSON['stringify'](_0x29fa1b,null,0x2)));}}async['processawaitSeconds'](_0x1e9370,_0x5b2866){const _0x1648a4=a0_0x1c66d9;if(this[_0x1648a4(0x311)][_0x1648a4(0x3ad)](this['instanceName']+'\x20('+this[_0x1648a4(0x401)]['wuid']+_0x1648a4(0x841)),!_0x1e9370||!_0x5b2866)return this['logger']['error'](this['instanceName']+'\x20('+this[_0x1648a4(0x401)][_0x1648a4(0x242)]+_0x1648a4(0x502)),null;let _0x47ba18=+_0x5b2866['awaitSeconds'];isNaN(_0x47ba18)&&(_0x47ba18=0x0),_0x47ba18=Math[_0x1648a4(0x674)](_0x47ba18,0x3c),await(0x0,w['delay'])(_0x47ba18*0x3e8);let _0xccbee7={'moreLogs':[_0x1648a4(0x4c0)+_0x47ba18+_0x1648a4(0x448)]};return await this[_0x1648a4(0x31c)](_0x1e9370,_0x5b2866,_0xccbee7),_0x47ba18;}async[a0_0x1c66d9(0x4b1)](_0x577b4b,_0x12393a){const _0x53d9de=a0_0x1c66d9;if(this['logger'][_0x53d9de(0x3ad)](this['instanceName']+'\x20('+this[_0x53d9de(0x401)]['wuid']+'):\x20Entrou\x20na\x20função\x20clearVariables'),!_0x577b4b||!_0x12393a)return this[_0x53d9de(0x311)][_0x53d9de(0x456)](this[_0x53d9de(0x676)]+'\x20('+this['instance'][_0x53d9de(0x242)]+_0x53d9de(0x502)),null;let _0x142d32=[];if(_0x12393a['clearVariables'][_0x53d9de(0x5e0)]()===_0x53d9de(0x1c9)){let _0x2049b8=[_0x53d9de(0x7e3),_0x53d9de(0x755),_0x53d9de(0x54e),_0x53d9de(0x7c5),_0x53d9de(0x623),_0x53d9de(0x70b),_0x53d9de(0x6c0)];_0x142d32=Object[_0x53d9de(0x4cb)](_0x577b4b[_0x53d9de(0x765)][_0x53d9de(0x553)])[_0x53d9de(0x901)](_0x31844a=>_0x31844a[_0x53d9de(0x560)]('_')&&!_0x2049b8[_0x53d9de(0x1e1)](_0x31844a));}else _0x142d32=_0x12393a[_0x53d9de(0x84a)][_0x53d9de(0x444)]('|')[_0x53d9de(0x521)](_0x59b63e=>(_0x59b63e=_0x59b63e[_0x53d9de(0x737)](/[{}]/g,'')[_0x53d9de(0x5e0)](),_0x59b63e[_0x53d9de(0x560)]('_')?_0x59b63e:'_'+_0x59b63e));let _0x4ab224=[];_0x142d32['forEach'](_0x364480=>{const _0x163e68=_0x53d9de;_0x364480 in _0x577b4b['chatLog'][_0x163e68(0x553)]&&(delete _0x577b4b[_0x163e68(0x765)][_0x163e68(0x553)][_0x364480],_0x4ab224['push'](_0x364480));}),_0x4ab224[_0x53d9de(0x844)]>0x0?this['logger'][_0x53d9de(0x3ad)](this[_0x53d9de(0x676)]+'\x20('+this[_0x53d9de(0x401)][_0x53d9de(0x242)]+_0x53d9de(0x1ad)+_0x4ab224[_0x53d9de(0x552)](',\x20')):this[_0x53d9de(0x311)]['verbose'](this[_0x53d9de(0x676)]+'\x20('+this[_0x53d9de(0x401)][_0x53d9de(0x242)]+_0x53d9de(0x701));let _0x1a0de3={'moreLogs':[_0x53d9de(0x354)+_0x4ab224[_0x53d9de(0x552)](',\x20')]};return await this[_0x53d9de(0x31c)](_0x577b4b,_0x12393a,_0x1a0de3),null;}async[a0_0x1c66d9(0x480)](_0x7db260,_0xe403e4){const _0x25e9fe=a0_0x1c66d9;if(this[_0x25e9fe(0x311)]['verbose'](this[_0x25e9fe(0x676)]+'\x20('+this['instance'][_0x25e9fe(0x242)]+'):\x20Entrou\x20na\x20função\x20scheduleFlow'),!_0x7db260||!_0xe403e4)return this[_0x25e9fe(0x311)][_0x25e9fe(0x456)](this[_0x25e9fe(0x676)]+'\x20('+this[_0x25e9fe(0x401)][_0x25e9fe(0x242)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x4ed14d=_0x7db260[_0x25e9fe(0x328)];_0xe403e4[_0x25e9fe(0x7ae)][_0x25e9fe(0x328)]&&_0xe403e4[_0x25e9fe(0x7ae)][_0x25e9fe(0x328)][_0x25e9fe(0x5e0)]()!==''&&(_0x4ed14d=_0xe403e4[_0x25e9fe(0x453)]['remoteJid'][_0x25e9fe(0x5e0)]());let _0x2d94bb=_0xe403e4[_0x25e9fe(0x7ae)]['timeInMinutes']*0xea60,_0x4c4708=Date[_0x25e9fe(0x2f2)]()+_0x2d94bb,_0xfbe834={'status':'scheduled','info':_0x25e9fe(0x17b)+_0x7db260[_0x25e9fe(0x87f)],'remoteJids':[_0x4ed14d],'when':_0x4c4708,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x25e9fe(0x719),'flowName':_0xe403e4['scheduleFlow'][_0x25e9fe(0x325)]};this[_0x25e9fe(0x8b5)](_0xfbe834);let _0x191c42=await this[_0x25e9fe(0x601)](_0x7db260);_0x191c42&&await this[_0x25e9fe(0x813)](_0x7db260,_0x191c42);}async[a0_0x1c66d9(0x79d)](_0x51e90a,_0x2c3850){const _0x5d5bf4=a0_0x1c66d9;if(this['logger']['verbose'](this[_0x5d5bf4(0x676)]+'\x20('+this[_0x5d5bf4(0x401)][_0x5d5bf4(0x242)]+_0x5d5bf4(0x6bb)),!_0x51e90a||!_0x2c3850)return this['logger'][_0x5d5bf4(0x456)](this[_0x5d5bf4(0x676)]+'\x20('+this[_0x5d5bf4(0x401)][_0x5d5bf4(0x242)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0x5d5bf4(0x31c)](_0x51e90a,_0x2c3850,{},!0x0,!0x0);let _0x330b59=_0x2c3850['goToFlow'];_0x51e90a=await this['createConversationforgoToFlow'](_0x330b59,_0x51e90a[_0x5d5bf4(0x328)],_0x51e90a[_0x5d5bf4(0x765)]['realVariables']);let _0x30e8b4=await this[_0x5d5bf4(0x601)](_0x51e90a);_0x30e8b4&&await this[_0x5d5bf4(0x813)](_0x51e90a,_0x30e8b4);}async['createConversationforgoToFlow'](_0x5acbb4,_0x2eacf6,_0x447fcf){const _0x212a06=a0_0x1c66d9;this[_0x212a06(0x311)][_0x212a06(0x3ad)](this['instanceName']+'\x20('+this[_0x212a06(0x401)][_0x212a06(0x242)]+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{let _0x6372c=this[_0x212a06(0x4c1)][_0x212a06(0x318)][_0x212a06(0x705)](_0x58168c=>_0x58168c['_id']===_0x5acbb4);_0x6372c||this[_0x212a06(0x311)]['error'](this[_0x212a06(0x676)]+'\x20('+this['instance']['wuid']+_0x212a06(0x529)+_0x5acbb4+_0x212a06(0x4d0));let _0x4537e6=await this[_0x212a06(0x6db)][_0x212a06(0x719)][_0x212a06(0x44a)]({'where':{'_id':_0x6372c[_0x212a06(0x70b)]}});if(!_0x4537e6||!_0x4537e6[_0x212a06(0x6bc)]?.[_0x212a06(0x1e1)](this[_0x212a06(0x401)][_0x212a06(0x242)]))throw this[_0x212a06(0x311)][_0x212a06(0x456)](this[_0x212a06(0x676)]+'\x20('+this[_0x212a06(0x401)][_0x212a06(0x242)]+_0x212a06(0x529)+_0x5acbb4+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x212a06(0x7c6)+_0x5acbb4+_0x212a06(0x741));let _0x3ebc33=require(_0x212a06(0x4ea))[_0x212a06(0x1d5)],_0x5c6cfe=Date[_0x212a06(0x2f2)](),_0x4bbc27=_0x212a06(0x471),_0x291c9d={},_0x3efb4f={},_0x173c2d=this['AutomateSystem']['flows'][_0x212a06(0x705)](_0x2277b7=>_0x2277b7[_0x212a06(0x70b)]===_0x4537e6[_0x212a06(0x70b)]?.[_0x212a06(0x37f)]()),_0x4e4ef3=_0x173c2d?.[_0x212a06(0x6ce)]??_0x4537e6[_0x212a06(0x6ce)]??0x0,_0x577f4e=_0x173c2d?.[_0x212a06(0x74f)]??_0x4537e6[_0x212a06(0x74f)]??!0x1,_0x3635d2={'flowId':_0x6372c[_0x212a06(0x70b)],'readMessages':_0x6372c[_0x212a06(0x74f)],..._0x4537e6,'chatLog':null},_0x1c43d0={'lastReceivedMessage':_0x291c9d,'lastSendMessage':_0x3efb4f,'lastBlockId':_0x4bbc27,'lastCondition':!0x0,'realVariables':_0x447fcf};_0x3635d2[_0x212a06(0x765)]=_0x1c43d0,_0x3635d2['chatLog'][_0x212a06(0x553)]={..._0x447fcf},delete _0x3635d2[_0x212a06(0x70b)],_0x3635d2[_0x212a06(0x70b)]=new _0x3ebc33(),_0x3635d2[_0x212a06(0x84d)]=_0x5c6cfe,_0x3635d2['status']=_0x212a06(0x32f),_0x3635d2[_0x212a06(0x328)]=_0x2eacf6,_0x3635d2[_0x212a06(0x6ce)]=_0x4e4ef3,_0x3635d2[_0x212a06(0x74f)]=_0x577f4e;let _0x4e5524=await this[_0x212a06(0x6db)][_0x212a06(0x7ad)][_0x212a06(0x2cd)](_0x3635d2['_id'],_0x3635d2,this[_0x212a06(0x401)][_0x212a06(0x242)]);return this[_0x212a06(0x311)][_0x212a06(0x3ad)](this['instanceName']+'\x20('+this[_0x212a06(0x401)]['wuid']+_0x212a06(0x8ff)),_0x4e5524?_0x3635d2:null;}catch(_0x476fac){let _0x584cbe=_0x212a06(0x8b9),_0x22a6f6=_0x476fac instanceof Error?_0x476fac['message']:typeof _0x476fac==_0x212a06(0x2c2)?JSON[_0x212a06(0x8cd)](_0x476fac):_0x476fac,_0x3b0775=_0x584cbe+':\x20'+_0x22a6f6;throw this[_0x212a06(0x311)]['error'](this['instanceName']+'\x20('+this[_0x212a06(0x401)][_0x212a06(0x242)]+'):\x20'+_0x3b0775),new m(_0x3b0775);}}async[a0_0x1c66d9(0x659)](_0x19cafe,_0x685a73){const _0x58002d=a0_0x1c66d9;let _0xab1187,_0x471521;try{let _0x38c85e=_0x685a73['apirequest'];if(!_0x38c85e||!_0x38c85e[_0x58002d(0x51e)]||!_0x38c85e['method'])throw new Error(_0x58002d(0x26a));let _0x2633d1;(['https://api.openai.com/v1/audio/speech',_0x58002d(0x2f0),_0x58002d(0x293)][_0x58002d(0x75e)](_0x2bc4b7=>_0x38c85e[_0x58002d(0x51e)][_0x58002d(0x1e1)](_0x2bc4b7))||_0x38c85e[_0x58002d(0x60f)])&&(_0x2633d1=_0x58002d(0x647));let _0x5ba777='\u205f',_0x3301bd;try{_0x3301bd=JSON[_0x58002d(0x860)](_0x38c85e[_0x58002d(0x451)][_0x58002d(0x737)](new RegExp(_0x5ba777,'g'),''));}catch(_0x2bdc1d){throw _0x2bdc1d;}let _0x4f5fc1={'method':_0x38c85e[_0x58002d(0x2da)],'url':_0x38c85e[_0x58002d(0x51e)],'headers':_0x38c85e[_0x58002d(0x1e7)]||{},..._0x38c85e['method']['toUpperCase']()!==_0x58002d(0x7c9)&&_0x38c85e[_0x58002d(0x451)]?{'data':JSON['parse'](_0x38c85e['bodyString'][_0x58002d(0x737)](new RegExp(_0x5ba777,'g'),''))}:{},..._0x2633d1&&{'responseType':_0x2633d1}},_0x57d36c=await(0x0,K[_0x58002d(0x77c)])(_0x4f5fc1),_0x43e9d4=_0x57d36c[_0x58002d(0x778)][_0x58002d(0x532)];if(_0x43e9d4&&_0x43e9d4[_0x58002d(0x1e1)]('application/json')||typeof _0x57d36c[_0x58002d(0x86c)]=='string'){if(typeof _0x57d36c[_0x58002d(0x86c)]=='string'){let _0x432e34=_0x57d36c[_0x58002d(0x86c)][_0x58002d(0x737)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')['trim']();try{_0xab1187=JSON[_0x58002d(0x860)](_0x432e34);}catch(_0x5954fe){this[_0x58002d(0x311)][_0x58002d(0x456)]('Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20'+_0x5954fe[_0x58002d(0x18c)]),_0xab1187={'_apiResponse':_0x57d36c[_0x58002d(0x86c)]};}}else _0xab1187=_0x57d36c[_0x58002d(0x86c)];let _0x741cd4=_0x19cafe[_0x58002d(0x765)][_0x58002d(0x553)],_0x4df83f=this[_0x58002d(0x3c9)](_0xab1187);return Object['assign'](_0x741cd4,_0x4df83f),_0x19cafe['chatLog'][_0x58002d(0x553)]=_0x741cd4,_0x471521={'error':!0x1,'apiResponse':_0xab1187},this[_0x58002d(0x31c)](_0x19cafe,_0x685a73,_0x471521),_0xab1187;}if(_0x43e9d4&&(_0x43e9d4[_0x58002d(0x1e1)](_0x58002d(0x439))||_0x43e9d4[_0x58002d(0x1e1)](_0x58002d(0x4bb))||_0x43e9d4[_0x58002d(0x1e1)](_0x58002d(0x641))||_0x43e9d4[_0x58002d(0x1e1)](_0x58002d(0x728)))){this['logger'][_0x58002d(0x3ad)](this['instanceName']+'\x20('+this[_0x58002d(0x401)][_0x58002d(0x242)]+_0x58002d(0x442)+_0x43e9d4);let _0x3543fc=(0x0,Q['v4'])(),_0x2e681e='',_0x154dd1={'image/jpeg':_0x58002d(0x869),'image/png':_0x58002d(0x38f),'image/gif':'.gif','image/webp':_0x58002d(0x7dc),'image/svg+xml':_0x58002d(0x788),'audio/mpeg':_0x58002d(0x627),'audio/ogg':_0x58002d(0x231),'audio/wav':'.wav','video/mp4':_0x58002d(0x756),'video/webm':_0x58002d(0x787),'video/ogg':_0x58002d(0x1b3),'text/plain':'.txt','application/pdf':'.pdf','application/msword':_0x58002d(0x422),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x58002d(0x3e7),'application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x58002d(0x8e9),'application/vnd.ms-powerpoint':_0x58002d(0x6f1),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x58002d(0x589)};_0x154dd1[_0x43e9d4]?(_0x2e681e=_0x154dd1[_0x43e9d4],this[_0x58002d(0x311)][_0x58002d(0x3ad)](this[_0x58002d(0x676)]+'\x20('+this[_0x58002d(0x401)][_0x58002d(0x242)]+_0x58002d(0x671)+_0x2e681e)):(_0x2e681e=_0x58002d(0x567),this['logger'][_0x58002d(0x3ad)](this[_0x58002d(0x676)]+'\x20('+this[_0x58002d(0x401)][_0x58002d(0x242)]+'):\x20Usando\x20extensão\x20padrão:\x20'+_0x2e681e)),_0x3543fc+=_0x2e681e,this[_0x58002d(0x311)][_0x58002d(0x3ad)](this[_0x58002d(0x676)]+'\x20('+this['instance']['wuid']+_0x58002d(0x656)+_0x3543fc);let _0x49d196=this['configService'][_0x58002d(0x7b4)](_0x58002d(0x1f0))[_0x58002d(0x846)];if(!_0x49d196){let _0x3994d4=this['configService'][_0x58002d(0x7b4)](_0x58002d(0x361));_0x49d196='https://'+(_0x3994d4&&_0x3994d4['FULLCHAIN'][_0x58002d(0x444)]('/')[0x4]);}let _0x553551=Buffer[_0x58002d(0x3de)](_0x57d36c['data']);await this[_0x58002d(0x30a)](_0x553551,_0x3543fc);let _0x5d367c=_0x58002d(0x825)+_0x3543fc;_0x5d367c=''+_0x49d196+_0x5d367c,_0xab1187={'fileUrl':_0x5d367c},_0x19cafe[_0x58002d(0x765)][_0x58002d(0x553)][_0x58002d(0x307)]=_0x5d367c;let _0x3d0144=_0x19cafe[_0x58002d(0x765)][_0x58002d(0x553)],_0x3d993c=this[_0x58002d(0x3c9)](_0xab1187);return Object[_0x58002d(0x1c5)](_0x3d0144,_0x3d993c),_0x19cafe[_0x58002d(0x765)][_0x58002d(0x553)]=_0x3d0144,_0x471521={'error':!0x1,'apiResponse':{'fileUrl':_0x5d367c}},this['updateConversation'](_0x19cafe,_0x685a73,_0x471521),_0xab1187;}}catch(_0x39c395){this[_0x58002d(0x311)][_0x58002d(0x456)](_0x58002d(0x614)+_0x39c395[_0x58002d(0x18c)]),_0x39c395['response']&&(_0xab1187=_0x39c395[_0x58002d(0x366)][_0x58002d(0x86c)]);let _0x4a54f0=_0x19cafe[_0x58002d(0x765)][_0x58002d(0x553)],_0x5b569a=this[_0x58002d(0x3c9)](_0xab1187);return Object[_0x58002d(0x1c5)](_0x4a54f0,_0x5b569a),_0x19cafe[_0x58002d(0x765)][_0x58002d(0x553)]=_0x4a54f0,_0x471521={'error':!0x0,'errorLog':_0x39c395['toString'](),'apiResponse':_0xab1187},this[_0x58002d(0x31c)](_0x19cafe,_0x685a73,_0x471521),{'success':!0x1};}}[a0_0x1c66d9(0x6ad)](_0x52d36b,_0x2ee311){const _0x4614a4=a0_0x1c66d9;let _0xb8faa7=_0x2c42c=>{const _0x2f3dc1=a0_0x24da;let _0x41ef42=_0x2c42c[_0x2f3dc1(0x737)](/[^0-9.,-]/g,'')['replace'](',','.'),_0x1f3d2f=parseFloat(_0x41ef42);return isNaN(_0x1f3d2f)?null:_0x1f3d2f;},_0x391cf2=_0x2ee311[_0x4614a4(0x541)],_0x163b94=_0x2ee311['secondValue'];typeof _0x391cf2==_0x4614a4(0x24a)&&(_0x391cf2=this[_0x4614a4(0x291)](_0x391cf2,_0x52d36b[_0x4614a4(0x765)]['realVariables'])??''),typeof _0x163b94==_0x4614a4(0x24a)&&(_0x163b94=this[_0x4614a4(0x291)](_0x163b94,_0x52d36b[_0x4614a4(0x765)]['realVariables'])??'');let _0x19955b=null;if(!_0x2ee311['editOperator'])return null;switch(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4614a4(0x401)][_0x4614a4(0x242)]+_0x4614a4(0x69d)+_0x391cf2),this['logger'][_0x4614a4(0x3ad)](this[_0x4614a4(0x676)]+'\x20('+this[_0x4614a4(0x401)]['wuid']+_0x4614a4(0x6b3)+_0x163b94),_0x2ee311[_0x4614a4(0x63b)]){case'+':case'-':case'*':case'/':let _0x235ad1=_0xb8faa7(_0x391cf2||'0'),_0x19e978=_0xb8faa7(_0x163b94||'0');if(_0x235ad1===null)return null;switch(_0x2ee311[_0x4614a4(0x63b)]){case'+':_0x19955b=_0x235ad1+(_0x19e978??0x0);break;case'-':_0x19955b=_0x235ad1-(_0x19e978??0x0);break;case'*':_0x19955b=_0x235ad1*(_0x19e978??0x1);break;case'/':_0x19e978!==0x0&&(_0x19955b=_0x235ad1/(_0x19e978??0x1));break;}break;case'findAndReplace':case _0x4614a4(0x593):let _0x5dc95c=_0x163b94,_0xaadcdd=_0x2ee311[_0x4614a4(0x2e9)];if(typeof _0xaadcdd==_0x4614a4(0x24a)&&(_0xaadcdd=this['replaceVariables'](_0xaadcdd,_0x52d36b['chatLog'][_0x4614a4(0x553)])??''),_0x5dc95c&&_0xaadcdd!==void 0x0){let _0x35fe45=_0x2ee311[_0x4614a4(0x63b)]===_0x4614a4(0x3c0)?new RegExp(_0x5dc95c[_0x4614a4(0x737)](/[-\/\\^$*+?.()|[\]{}]/g,_0x4614a4(0x2aa)),'g'):new RegExp(_0x5dc95c,'g');_0x19955b=_0x391cf2[_0x4614a4(0x737)](_0x35fe45,_0xaadcdd);}else console[_0x4614a4(0x8ce)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0x4614a4(0x1b6):_0x19955b=_0x163b94;break;case _0x4614a4(0x832):let _0x5efba6=_0x391cf2[_0x4614a4(0x277)](new RegExp(_0x163b94||''));_0x19955b=_0x5efba6?_0x5efba6[0x0]:'';break;case _0x4614a4(0x510):_0x19955b=_0x391cf2[_0x4614a4(0x7af)](0x0,parseInt(_0x163b94||'0'));break;case'truncatedtoEnd':let _0x3698b8=parseInt(_0x163b94||'0');_0x19955b=_0x391cf2[_0x4614a4(0x7af)](_0x391cf2['length']-_0x3698b8);break;case _0x4614a4(0x8b7):let _0x8e7954=_0xb8faa7(_0x391cf2),_0x560d6f=parseInt(_0x163b94||'0');_0x560d6f=Math[_0x4614a4(0x5fe)](_0x560d6f),_0x8e7954!==null?_0x19955b=_0x8e7954['toLocaleString'](_0x4614a4(0x898),{'minimumFractionDigits':_0x560d6f,'maximumFractionDigits':_0x560d6f}):(console[_0x4614a4(0x8ce)](_0x4614a4(0x666)+_0x391cf2),_0x19955b=null);break;case _0x4614a4(0x63c):let _0x13bcfd=_0xb8faa7(_0x391cf2);_0x13bcfd!==null?_0x19955b=_0x13bcfd['toLocaleString'](_0x4614a4(0x898),{'style':'currency','currency':'BRL'}):(console[_0x4614a4(0x8ce)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x391cf2),_0x19955b=null);break;case _0x4614a4(0x678):_0x19955b=_0x391cf2['toUpperCase']();break;case'lowerCase':_0x19955b=_0x391cf2[_0x4614a4(0x202)]();break;case'capitalizedWords':_0x19955b=_0x391cf2[_0x4614a4(0x444)]('\x20')[_0x4614a4(0x521)](_0xf002b3=>_0xf002b3[_0x4614a4(0x1a8)](0x0)[_0x4614a4(0x406)]()+_0xf002b3['slice'](0x1)[_0x4614a4(0x202)]())[_0x4614a4(0x552)]('\x20');break;case'convertToString':_0x19955b=JSON['stringify'](_0x391cf2);break;case _0x4614a4(0x28d):_0x19955b=_0x391cf2[_0x4614a4(0x5e0)]();break;default:_0x19955b=_0x391cf2;}return _0x19955b!==null?_0x19955b[_0x4614a4(0x37f)]():null;}async[a0_0x1c66d9(0x300)](_0x3536ef,_0x697df8){const _0x5a05cd=a0_0x1c66d9;try{let _0x2dbdd7=_0x3536ef[_0x5a05cd(0x2cb)]?.['filter'](_0x4e612d=>_0x4e612d[_0x5a05cd(0x8a3)]===_0x697df8[_0x5a05cd(0x70b)]?.[_0x5a05cd(0x37f)]())||[],_0x2f24a5=_0x697df8[_0x5a05cd(0x88d)],_0x549a51=null,_0x50ba6d=[],_0x4c58cb=_0x3536ef['chatLog']['realVariables'][_0x2f24a5];_0x50ba6d[_0x5a05cd(0x463)](_0x5a05cd(0x597)+_0x4c58cb+'\x22');for(let _0x14b2e0 of _0x2dbdd7){_0x14b2e0[_0x5a05cd(0x541)]=_0x4c58cb,_0x549a51=_0x14b2e0[_0x5a05cd(0x541)];let _0x3240cd;try{_0x3240cd=this[_0x5a05cd(0x6ad)](_0x3536ef,_0x14b2e0);}catch(_0x57da1a){this[_0x5a05cd(0x311)]['error'](_0x5a05cd(0x7c7)+_0x57da1a['message']);continue;}if(_0x3240cd!==null){let _0x318064='Operador:\x20\x22'+_0x14b2e0[_0x5a05cd(0x63b)]+'\x22',_0x49c04c=[_0x5a05cd(0x63c),_0x5a05cd(0x678),_0x5a05cd(0x547),_0x5a05cd(0x856),_0x5a05cd(0x28d)];_0x14b2e0[_0x5a05cd(0x63b)]===_0x5a05cd(0x3c0)||_0x14b2e0['editOperator']===_0x5a05cd(0x593)?_0x318064+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x14b2e0[_0x5a05cd(0x619)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x14b2e0[_0x5a05cd(0x2e9)]+'\x22':!_0x49c04c[_0x5a05cd(0x1e1)](_0x14b2e0[_0x5a05cd(0x63b)])&&_0x14b2e0[_0x5a05cd(0x619)]!==null&&_0x14b2e0['secondValue']!==void 0x0&&(_0x318064+=',\x20valor\x20passado:\x20\x22'+_0x14b2e0[_0x5a05cd(0x619)]+'\x22'),_0x318064+=_0x5a05cd(0x1f1)+_0x3240cd+'.',_0x50ba6d[_0x5a05cd(0x463)](_0x318064);}_0x3240cd!==null&&(_0x4c58cb=_0x3240cd);}if(_0x3536ef[_0x5a05cd(0x765)][_0x5a05cd(0x553)]&&_0x697df8[_0x5a05cd(0x88d)]){_0x3536ef['chatLog'][_0x5a05cd(0x553)][_0x697df8[_0x5a05cd(0x88d)]]=_0x4c58cb;let _0x7c3598={'variable':_0x697df8[_0x5a05cd(0x88d)],'oldValue':_0x549a51,'newValue':_0x4c58cb,'moreLogs':_0x50ba6d};try{this[_0x5a05cd(0x31c)](_0x3536ef,_0x697df8,_0x7c3598);}catch(_0x4ffbf8){this[_0x5a05cd(0x311)][_0x5a05cd(0x456)](_0x5a05cd(0x51a)+_0x4ffbf8[_0x5a05cd(0x18c)]);}}return _0x2f24a5;}catch(_0x5d4f2d){return this['logger'][_0x5a05cd(0x456)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x5d4f2d[_0x5a05cd(0x18c)]),null;}}async[a0_0x1c66d9(0x6fc)](_0x1dd6cb,_0x1ed46b){const _0x3928fd=a0_0x1c66d9;try{let _0x36921d=[],_0x88ef4b=_0x1dd6cb[_0x3928fd(0x5c5)][_0x3928fd(0x901)](_0x137f66=>_0x137f66[_0x3928fd(0x8a3)]===_0x1ed46b[_0x3928fd(0x70b)][_0x3928fd(0x37f)]()),_0x3017ad=null,_0x5507b9=!0x1;for(let _0x2c2c3f of _0x88ef4b){let _0x188df4=this[_0x3928fd(0x7f4)](_0x1dd6cb,_0x2c2c3f);_0x36921d[_0x3928fd(0x463)](_0x3928fd(0x1f2)+_0x2c2c3f[_0x3928fd(0x541)]+_0x3928fd(0x19e)+_0x2c2c3f[_0x3928fd(0x42c)]+',\x20Segundo\x20Valor:\x20'+_0x2c2c3f['secondValue']+_0x3928fd(0x197)+_0x188df4),_0x3017ad===null?_0x3017ad=_0x188df4:_0x2c2c3f[_0x3928fd(0x80d)]==='and'?(_0x3017ad=_0x3017ad&&_0x188df4,_0x188df4||(_0x5507b9=!0x0)):_0x2c2c3f['OrAnd']==='or'&&(_0x5507b9||(_0x3017ad=_0x3017ad||_0x188df4));}_0x3017ad===null&&(_0x3017ad=!0x0);let _0x517bfe={'moreLogs':_0x36921d};_0x1dd6cb[_0x3928fd(0x765)][_0x3928fd(0x323)]=_0x3017ad,await this[_0x3928fd(0x31c)](_0x1dd6cb,_0x1ed46b,_0x517bfe);}catch(_0x2f3aa9){this['logger']['error'](this[_0x3928fd(0x676)]+'\x20('+this[_0x3928fd(0x401)]['wuid']+_0x3928fd(0x37c)+(_0x2f3aa9 instanceof Error?_0x2f3aa9[_0x3928fd(0x18c)]:JSON[_0x3928fd(0x8cd)](_0x2f3aa9,null,0x2)));}}['evaluateCondition'](_0xa43457,_0x4317b7){const _0x3e8275=a0_0x1c66d9;let _0x4d2eaa=_0x4317b7[_0x3e8275(0x541)],_0xa90b72=_0x4317b7['secondValue'];typeof _0x4d2eaa==_0x3e8275(0x24a)&&(_0x4d2eaa=this[_0x3e8275(0x291)](_0x4d2eaa,_0xa43457['chatLog'][_0x3e8275(0x553)])??''),typeof _0xa90b72==_0x3e8275(0x24a)&&(_0xa90b72=this[_0x3e8275(0x291)](_0xa90b72,_0xa43457[_0x3e8275(0x765)]['realVariables'])??'');try{switch(_0x4317b7[_0x3e8275(0x42c)]){case _0x3e8275(0x30d):return _0x4d2eaa===_0xa90b72;case'notEqual':return _0x4d2eaa!==_0xa90b72;case _0x3e8275(0x77b):return this[_0x3e8275(0x77b)](_0x4d2eaa,_0xa90b72);case _0x3e8275(0x274):return!this['contains'](_0x4d2eaa,_0xa90b72);case'greater':return parseFloat(_0x4d2eaa)>parseFloat(_0xa90b72);case'less':return parseFloat(_0x4d2eaa)<parseFloat(_0xa90b72);case'notEmpty':return _0x4d2eaa!=='';case _0x3e8275(0x807):return _0x4d2eaa==='';case _0x3e8275(0x5cc):return new RegExp(_0xa90b72)[_0x3e8275(0x5c4)](_0x4d2eaa);case _0x3e8275(0x774):return!new RegExp(_0xa90b72)[_0x3e8275(0x5c4)](_0x4d2eaa);default:return!0x1;}}catch(_0x13cea8){return this['logger']['error'](_0x3e8275(0x49e)+_0x13cea8),!0x1;}}[a0_0x1c66d9(0x77b)](_0x5f25d5,_0x10a49a){const _0x5605fa=a0_0x1c66d9;if(_0x5f25d5===_0x10a49a&&/^\d+$/[_0x5605fa(0x5c4)](_0x5f25d5))return!0x0;if(this['isListOfNumbers'](_0x5f25d5)&&/^\d+$/[_0x5605fa(0x5c4)](_0x10a49a)){let _0x5becb5=_0x5f25d5['split'](',')['map'](_0x373578=>parseInt(_0x373578[_0x5605fa(0x5e0)]())),_0x2e36fe=parseInt(_0x10a49a);return _0x5becb5[_0x5605fa(0x1e1)](_0x2e36fe);}return _0x5f25d5['includes'](_0x10a49a);}[a0_0x1c66d9(0x721)](_0x1827a3){const _0x39d1eb=a0_0x1c66d9;return/^\d+(,\d+)*$/[_0x39d1eb(0x5c4)](_0x1827a3);}[a0_0x1c66d9(0x5dc)](_0xf66782){const _0x1ff884=a0_0x1c66d9;let _0x15d9f3=!0x0,_0x42c1f3=null;for(let _0x5079bb of _0xf66782){let _0x123c80=this[_0x1ff884(0x71e)](_0x5079bb);if(_0x42c1f3==='or'&&_0x123c80){_0x15d9f3=!0x0;break;}if(_0x42c1f3==='and'&&!_0x123c80){_0x15d9f3=!0x1;break;}_0x42c1f3=_0x5079bb[_0x1ff884(0x80d)];}return _0x15d9f3;}[a0_0x1c66d9(0x71e)](_0xbcc860){const _0x3252cc=a0_0x1c66d9;let _0x3da1c7=_0xbcc860[_0x3252cc(0x541)],_0x595e77=_0xbcc860[_0x3252cc(0x619)];try{switch(_0xbcc860[_0x3252cc(0x42c)]){case _0x3252cc(0x30d):return String(_0x3da1c7)===String(_0x595e77);case _0x3252cc(0x7a4):return String(_0x3da1c7)!==String(_0x595e77);case _0x3252cc(0x77b):return String(_0x3da1c7)[_0x3252cc(0x1e1)](String(_0x595e77));case _0x3252cc(0x274):return!String(_0x3da1c7)['includes'](String(_0x595e77));case _0x3252cc(0x2b3):return parseFloat(String(_0x3da1c7))>parseFloat(String(_0x595e77));case _0x3252cc(0x499):return parseFloat(String(_0x3da1c7))<parseFloat(String(_0x595e77));case _0x3252cc(0x218):return String(_0x3da1c7)!=='';case _0x3252cc(0x807):return String(_0x3da1c7)==='';case _0x3252cc(0x5cc):return new RegExp(String(_0x595e77))['test'](String(_0x3da1c7));case _0x3252cc(0x774):return!new RegExp(String(_0x595e77))['test'](String(_0x3da1c7));default:return!0x1;}}catch(_0x5de204){return this[_0x3252cc(0x311)][_0x3252cc(0x456)](_0x3252cc(0x49e)+_0x5de204),!0x1;}}async['saveTextReply'](_0x4c6f64,_0x235988){const _0x51772e=a0_0x1c66d9;if(this[_0x51772e(0x311)][_0x51772e(0x3ad)](this[_0x51772e(0x676)]+'\x20('+this[_0x51772e(0x401)]['wuid']+_0x51772e(0x292)),!_0x4c6f64||!_0x235988)return this[_0x51772e(0x311)][_0x51772e(0x456)](this['instanceName']+'\x20('+this[_0x51772e(0x401)][_0x51772e(0x242)]+_0x51772e(0x502)),null;let _0x286af2=_0x4c6f64['chatLog'][_0x51772e(0x4e6)]['key']['id'];this['logger'][_0x51772e(0x3ad)](this['instanceName']+'\x20('+this[_0x51772e(0x401)][_0x51772e(0x242)]+'):\x20mediaMessageInfoId\x20:\x20'+_0x286af2);let _0x1e5443={'key':{'id':_0x286af2}},_0x26a04b=_0x235988['saveVariable'];_0x4c6f64[_0x51772e(0x765)][_0x51772e(0x553)]['_'+_0x26a04b+_0x51772e(0x59c)]=null,_0x4c6f64[_0x51772e(0x765)][_0x51772e(0x553)]['_'+_0x26a04b+'.mimetype']=null,_0x4c6f64[_0x51772e(0x765)][_0x51772e(0x553)]['_'+_0x26a04b+'.extension']=null,_0x4c6f64[_0x51772e(0x765)][_0x51772e(0x553)]['_'+_0x26a04b+_0x51772e(0x8f5)]=_0x4c6f64[_0x51772e(0x765)][_0x51772e(0x4e6)][_0x51772e(0x640)];try{let _0x180fc6=await this['getBase64FromMediaMessage'](_0x1e5443);this[_0x51772e(0x311)]['verbose'](this[_0x51772e(0x676)]+'\x20('+this[_0x51772e(0x401)][_0x51772e(0x242)]+_0x51772e(0x269)),_0x4c6f64[_0x51772e(0x765)][_0x51772e(0x553)]['_'+_0x26a04b+'.url']=_0x180fc6[_0x51772e(0x307)],_0x4c6f64[_0x51772e(0x765)]['realVariables']['_'+_0x26a04b+_0x51772e(0x263)]=_0x180fc6['mimetype'];let _0x10d77c=_0x180fc6['mimetype']['match'](/\/(\w+)$/),_0x1415e1=_0x10d77c?_0x10d77c[0x1]:null;_0x4c6f64[_0x51772e(0x765)][_0x51772e(0x553)]['_'+_0x26a04b+_0x51772e(0x2ac)]=_0x1415e1,this[_0x51772e(0x311)][_0x51772e(0x3ad)](this[_0x51772e(0x676)]+'\x20('+this[_0x51772e(0x401)][_0x51772e(0x242)]+_0x51772e(0x7f9)+_0x26a04b+'\x27.');}catch(_0x4460e9){this[_0x51772e(0x311)][_0x51772e(0x456)](this[_0x51772e(0x676)]+'\x20('+this[_0x51772e(0x401)][_0x51772e(0x242)]+_0x51772e(0x2fb)+_0x4460e9[_0x51772e(0x18c)]);}let _0x508554=_0x4c6f64['chatLog'][_0x51772e(0x4e6)][_0x51772e(0x460)]||_0x4c6f64[_0x51772e(0x765)][_0x51772e(0x4e6)][_0x51772e(0x2bd)]||_0x4c6f64[_0x51772e(0x765)][_0x51772e(0x4e6)]['vote'];try{_0x4c6f64[_0x51772e(0x765)]['realVariables']||(_0x4c6f64[_0x51772e(0x765)][_0x51772e(0x553)]={});let _0x1cfc31=_0x4c6f64[_0x51772e(0x765)]['realVariables'][_0x26a04b];_0x4c6f64[_0x51772e(0x765)]['realVariables'][_0x26a04b]=_0x508554;let _0x1bec54={'variable':_0x26a04b,'oldValue':_0x1cfc31,'newValue':_0x508554};this[_0x51772e(0x31c)](_0x4c6f64,_0x235988,_0x1bec54),this['logger'][_0x51772e(0x3ad)](this[_0x51772e(0x676)]+'\x20('+this[_0x51772e(0x401)][_0x51772e(0x242)]+_0x51772e(0x7a3));}catch(_0x5221d8){let _0x4917e5={'error':!0x0,'errorLog':_0x5221d8[_0x51772e(0x37f)]()};return this['updateConversation'](_0x4c6f64,_0x235988,_0x4917e5),this[_0x51772e(0x311)][_0x51772e(0x456)](this[_0x51772e(0x676)]+'\x20('+this[_0x51772e(0x401)][_0x51772e(0x242)]+_0x51772e(0x3d4)+(_0x5221d8 instanceof Error?_0x5221d8['message']:JSON[_0x51772e(0x8cd)](_0x5221d8,null,0x2))),null;}}async[a0_0x1c66d9(0x2ef)](_0x107006,_0x4fb37d){const _0x451906=a0_0x1c66d9;if(this['logger'][_0x451906(0x3ad)](this['instanceName']+'\x20('+this['instance'][_0x451906(0x242)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x107006||!_0x4fb37d)return this[_0x451906(0x311)][_0x451906(0x456)](this[_0x451906(0x676)]+'\x20('+this[_0x451906(0x401)]['wuid']+_0x451906(0x502)),null;let _0x308976=Date[_0x451906(0x2f2)](),_0x3493f5=parseInt(_0x4fb37d[_0x451906(0x40f)],0xa);if(isNaN(_0x3493f5))return this[_0x451906(0x311)][_0x451906(0x456)](this[_0x451906(0x676)]+'\x20('+this['instance'][_0x451906(0x242)]+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x5e5e33={'newStoppedUntil':_0x308976+_0x3493f5*0x3c*0x3e8};return await this[_0x451906(0x31c)](_0x107006,_0x4fb37d,_0x5e5e33,!0x0),null;}async[a0_0x1c66d9(0x1cc)](_0x3fe4e1,_0x2bd355){const _0x11b11b=a0_0x1c66d9;try{switch(_0x2bd355[_0x11b11b(0x453)]['command']){case _0x11b11b(0x7ce):await this['uazapiSendText'](_0x3fe4e1,_0x2bd355);break;case _0x11b11b(0x7d7):await this['uazapiSendMedia'](_0x3fe4e1,_0x2bd355);break;case _0x11b11b(0x78d):await this[_0x11b11b(0x296)](_0x3fe4e1,_0x2bd355);break;case _0x11b11b(0x1ed):await this[_0x11b11b(0x575)](_0x3fe4e1,_0x2bd355);break;case _0x11b11b(0x237):await this[_0x11b11b(0x74b)](_0x3fe4e1,_0x2bd355);break;case _0x11b11b(0x75d):await this[_0x11b11b(0x6b7)](_0x3fe4e1,_0x2bd355);break;case _0x11b11b(0x500):await this[_0x11b11b(0x6b7)](_0x3fe4e1,_0x2bd355);break;case _0x11b11b(0x689):await this[_0x11b11b(0x8e5)](_0x3fe4e1,_0x2bd355);break;default:this[_0x11b11b(0x311)][_0x11b11b(0x456)](this[_0x11b11b(0x676)]+'\x20('+this['instance']['wuid']+'):\x20Comando\x20desconhecido:\x20'+_0x2bd355[_0x11b11b(0x453)][_0x11b11b(0x8bb)]);}}catch(_0x941039){this[_0x11b11b(0x311)][_0x11b11b(0x456)](this['instanceName']+'\x20('+this['instance'][_0x11b11b(0x242)]+_0x11b11b(0x668)+(_0x941039 instanceof Error?_0x941039[_0x11b11b(0x18c)]:JSON[_0x11b11b(0x8cd)](_0x941039,null,0x2)));}}async['updateConversation'](_0x354e46,_0x5afbf8,_0x3724cf,_0x1ec35e=!0x1,_0xb2aa30=!0x1){const _0x4d13c3=a0_0x1c66d9;_0x354e46[_0x4d13c3(0x765)]['blockLogs']||(_0x354e46[_0x4d13c3(0x765)]['blockLogs']=[]);let _0x45895d=(_0x354e46[_0x4d13c3(0x765)][_0x4d13c3(0x570)]?.[_0x4d13c3(0x844)]??0x0)+0x1,_0x2877c0=_0x354e46[_0x4d13c3(0x765)]['blockLogs'][_0x4d13c3(0x901)](_0x47a273=>String(_0x47a273['blockId'])===String(_0x5afbf8[_0x4d13c3(0x70b)]))[_0x4d13c3(0x844)]+0x1,_0x469fe6=_0x3724cf?.[_0x4d13c3(0x20e)]??Date[_0x4d13c3(0x2f2)](),_0x151f72=_0x3724cf?.[_0x4d13c3(0x456)]?_0x3724cf[_0x4d13c3(0x46b)]??_0x3724cf['error']['toString']():void 0x0,_0x528927={'onTime':_0x469fe6,'blockId':_0x5afbf8[_0x4d13c3(0x70b)],'order':_0x45895d,'activatedCount':_0x2877c0,'error':_0x3724cf?.[_0x4d13c3(0x456)]??!0x1,'messageId':_0x3724cf?.['messageId'],'apiResponse':_0x3724cf?.[_0x4d13c3(0x583)],'apiResponseString':_0x3724cf?.[_0x4d13c3(0x583)]?JSON[_0x4d13c3(0x8cd)](_0x3724cf?.['apiResponse']):void 0x0,'variable':_0x3724cf?.[_0x4d13c3(0x5c3)],'oldValue':_0x3724cf?.[_0x4d13c3(0x59f)],'newValue':_0x3724cf?.[_0x4d13c3(0x4cd)],'newStoppedUntil':_0x3724cf?.[_0x4d13c3(0x3b9)],'moreLogs':_0x3724cf?.[_0x4d13c3(0x465)],'errorLog':_0x151f72};if(_0x3724cf['moreLogs']&&_0x3724cf['moreLogs'][_0x4d13c3(0x844)]>0x0){let _0x731373=_0x3724cf['moreLogs'][_0x4d13c3(0x521)](_0x42f23a=>this['replaceVariablesLogs'](_0x42f23a,_0x354e46['chatLog'][_0x4d13c3(0x553)]));_0x528927[_0x4d13c3(0x465)]=_0x731373;}if(_0x354e46['chatLog'][_0x4d13c3(0x553)]||(_0x354e46[_0x4d13c3(0x765)][_0x4d13c3(0x553)]={}),_0x354e46[_0x4d13c3(0x765)][_0x4d13c3(0x553)]['_activatedCount']=String(_0x2877c0),_0x354e46[_0x4d13c3(0x765)][_0x4d13c3(0x553)][_0x4d13c3(0x54e)]=String(_0x3724cf[_0x4d13c3(0x456)]??!0x1),_0x354e46[_0x4d13c3(0x765)][_0x4d13c3(0x570)]['push'](_0x528927),_0x354e46['chatLog'][_0x4d13c3(0x553)]['telefone']&&_0x354e46[_0x4d13c3(0x765)][_0x4d13c3(0x553)]['telefone']!==_0x354e46['remoteJid']){let _0x154ef1=(await this[_0x4d13c3(0x8f4)]({'numbers':[_0x354e46[_0x4d13c3(0x765)][_0x4d13c3(0x553)][_0x4d13c3(0x644)]]}))[0x0]['jid'];_0x354e46[_0x4d13c3(0x765)]['realVariables'][_0x4d13c3(0x644)]=_0x154ef1,_0x354e46[_0x4d13c3(0x328)]=_0x154ef1;try{let _0x31cb14={'_id':{'$ne':_0x354e46[_0x4d13c3(0x70b)]},'remoteJid':_0x154ef1,'status':_0x4d13c3(0x32f)},_0x230572={'status':_0x4d13c3(0x31a)};await this[_0x4d13c3(0x6db)][_0x4d13c3(0x7ad)][_0x4d13c3(0x62c)](_0x31cb14,_0x230572,this[_0x4d13c3(0x401)][_0x4d13c3(0x242)]),this[_0x4d13c3(0x311)]['verbose'](this[_0x4d13c3(0x676)]+'\x20('+this['instance'][_0x4d13c3(0x242)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.');}catch(_0x372f00){this[_0x4d13c3(0x311)][_0x4d13c3(0x456)](this[_0x4d13c3(0x676)]+'\x20('+this[_0x4d13c3(0x401)][_0x4d13c3(0x242)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x372f00[_0x4d13c3(0x18c)]);}try{let _0x8a632f=_0x354e46[_0x4d13c3(0x765)][_0x4d13c3(0x553)],_0x3550e1=await this[_0x4d13c3(0x872)](_0x154ef1),_0x5d3f0d={..._0x8a632f,..._0x3550e1,'_remoteJid':_0x154ef1};_0x354e46['chatLog'][_0x4d13c3(0x553)]=_0x5d3f0d;}catch(_0x4dd978){this[_0x4d13c3(0x311)][_0x4d13c3(0x456)](this[_0x4d13c3(0x676)]+'\x20('+this[_0x4d13c3(0x401)]['wuid']+_0x4d13c3(0x4f9)+_0x4dd978[_0x4d13c3(0x18c)]);}}_0x354e46[_0x4d13c3(0x765)][_0x4d13c3(0x313)]=_0x5afbf8[_0x4d13c3(0x70b)]['toString'](),_0x354e46[_0x4d13c3(0x765)][_0x4d13c3(0x22a)]&&(_0x354e46[_0x4d13c3(0x765)][_0x4d13c3(0x22a)]=_0x354e46['chatLog'][_0x4d13c3(0x22a)]),_0x354e46['chatLog']['lastReceivedMessage']&&(_0x354e46[_0x4d13c3(0x765)][_0x4d13c3(0x4e6)]=_0x354e46[_0x4d13c3(0x765)]['lastReceivedMessage']),_0x354e46[_0x4d13c3(0x765)][_0x4d13c3(0x323)]&&(_0x354e46[_0x4d13c3(0x765)][_0x4d13c3(0x323)]=_0x354e46[_0x4d13c3(0x765)][_0x4d13c3(0x323)]),_0xb2aa30&&(_0x354e46['status']=_0x4d13c3(0x31a)),_0x1ec35e?this[_0x4d13c3(0x204)](_0x354e46):this[_0x4d13c3(0x4e5)](_0x354e46,_0x5afbf8);}[a0_0x1c66d9(0x7b1)](_0x3ec8eb,_0x36dd1d){const _0x410c8e=a0_0x1c66d9;return _0x3ec8eb[_0x410c8e(0x737)](/\{\{([^}]+)\}\}/g,(_0x392e53,_0x209bab)=>_0x36dd1d[_0x209bab]?'{{'+_0x209bab+'}}\x20->\x20\x22'+_0x36dd1d[_0x209bab]+'\x22':'{{'+_0x209bab+_0x410c8e(0x306));}async[a0_0x1c66d9(0x204)](_0x3b1d5d){const _0x2bcb82=a0_0x1c66d9;try{let _0x42e685=Object[_0x2bcb82(0x7eb)](_0x3b1d5d[_0x2bcb82(0x765)][_0x2bcb82(0x553)])['map'](([_0xe3edbf,_0x4c21b3])=>({'name':_0xe3edbf,'value':_0x4c21b3})),_0xe4e5ca={'status':_0x3b1d5d['status'],'remoteJid':_0x3b1d5d[_0x2bcb82(0x328)],'blocks':_0x3b1d5d[_0x2bcb82(0x736)],'waitingMenu_id':_0x3b1d5d['waitingMenu_id'],'waitingMenu_text':_0x3b1d5d[_0x2bcb82(0x855)],'waitingMenu_replyOptions':_0x3b1d5d['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x3b1d5d[_0x2bcb82(0x765)]['lastBlockId'],'lastSendMessage':_0x3b1d5d[_0x2bcb82(0x765)][_0x2bcb82(0x22a)],'lastReceivedMessage':_0x3b1d5d['chatLog'][_0x2bcb82(0x4e6)],'lastCondition':_0x3b1d5d[_0x2bcb82(0x765)][_0x2bcb82(0x323)],'chatVariables':_0x42e685,'realVariables':_0x3b1d5d[_0x2bcb82(0x765)][_0x2bcb82(0x553)],'blockLogs':_0x3b1d5d[_0x2bcb82(0x765)]['blockLogs']}},_0x5678b0=await this['repository'][_0x2bcb82(0x7ad)][_0x2bcb82(0x2cd)](_0x3b1d5d[_0x2bcb82(0x70b)],_0xe4e5ca,this[_0x2bcb82(0x401)][_0x2bcb82(0x242)]);if(_0x5678b0){this[_0x2bcb82(0x311)][_0x2bcb82(0x3ad)](this[_0x2bcb82(0x676)]+'\x20('+this[_0x2bcb82(0x401)][_0x2bcb82(0x242)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x5678b0[_0x2bcb82(0x70b)]);try{let _0x155896=[_0x2bcb82(0x626),_0x2bcb82(0x67b),_0x2bcb82(0x5f6),_0x2bcb82(0x6df),_0x2bcb82(0x730),_0x2bcb82(0x20b),_0x2bcb82(0x476),_0x2bcb82(0x1a2),_0x2bcb82(0x57f),_0x2bcb82(0x8ea)];if(!this[_0x2bcb82(0x4c1)]&&(await this[_0x2bcb82(0x555)](),!this[_0x2bcb82(0x4c1)]))throw new Error(_0x2bcb82(0x60e));let _0x150541=this[_0x2bcb82(0x4c1)]?.[_0x2bcb82(0x7f0)][_0x2bcb82(0x521)](_0x5d9530=>_0x5d9530[_0x2bcb82(0x87f)]),_0x254058={};Object[_0x2bcb82(0x7eb)](_0x3b1d5d[_0x2bcb82(0x765)][_0x2bcb82(0x553)])[_0x2bcb82(0x8bf)](([_0x24122d,_0x4386b4])=>{const _0x542359=_0x2bcb82;_0x155896[_0x542359(0x1e1)](_0x24122d)&&(_0x24122d===_0x542359(0x1a2)&&typeof _0x4386b4==_0x542359(0x24a)?_0x254058[_0x24122d]=_0x4386b4['split'](',')[_0x542359(0x521)](_0x306db2=>_0x306db2[_0x542359(0x5e0)]())['filter'](_0x98df8b=>_0x98df8b!==''):_0x24122d==='etiquetas'&&typeof _0x4386b4=='string'?_0x254058[_0x24122d]=_0x4386b4['split'](',')['map'](_0x524711=>_0x524711['trim']())[_0x542359(0x901)](_0x472729=>_0x472729!==''):_0x254058[_0x24122d]=_0x4386b4);});let _0x59a65d=_0x3b1d5d[_0x2bcb82(0x765)][_0x2bcb82(0x570)][_0x3b1d5d[_0x2bcb82(0x765)][_0x2bcb82(0x570)][_0x2bcb82(0x844)]-0x1];if(_0x59a65d){let _0x2a67f6=_0x59a65d[_0x2bcb82(0x3b9)];_0x2a67f6!==void 0x0&&(_0x254058[_0x2bcb82(0x261)]=_0x2a67f6[_0x2bcb82(0x37f)]());}let _0x569d6b=_0x42e685[_0x2bcb82(0x901)](_0x17508d=>_0x150541[_0x2bcb82(0x1e1)](_0x17508d['name']));this[_0x2bcb82(0x311)]['verbose'](this[_0x2bcb82(0x676)]+'\x20('+this['instance'][_0x2bcb82(0x242)]+_0x2bcb82(0x5f4)),this[_0x2bcb82(0x311)][_0x2bcb82(0x3ad)](_0x254058),this['logger']['verbose'](this[_0x2bcb82(0x676)]+'\x20('+this[_0x2bcb82(0x401)][_0x2bcb82(0x242)]+'):\x20customFieldVariables'),this[_0x2bcb82(0x311)]['verbose'](_0x569d6b);let _0x498c0f=_0x569d6b['map'](_0x108e17=>{const _0x3c3046=_0x2bcb82;let _0x21462e=this[_0x3c3046(0x4c1)]?.['customFields'][_0x3c3046(0x705)](_0x36db5b=>_0x36db5b[_0x3c3046(0x87f)]===_0x108e17[_0x3c3046(0x87f)]);if(!_0x21462e)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x108e17['name']);return{'_id':_0x21462e[_0x3c3046(0x70b)],'value':_0x108e17[_0x3c3046(0x45e)]};});this['logger']['verbose'](this[_0x2bcb82(0x676)]+'\x20('+this['instance']['wuid']+_0x2bcb82(0x25d)),this[_0x2bcb82(0x311)][_0x2bcb82(0x3ad)](_0x498c0f),await this['saveChatVariables'](_0x3b1d5d[_0x2bcb82(0x328)],_0x254058,_0x498c0f);}catch(_0x132ae1){this[_0x2bcb82(0x311)][_0x2bcb82(0x456)](this[_0x2bcb82(0x676)]+'\x20('+this[_0x2bcb82(0x401)][_0x2bcb82(0x242)]+_0x2bcb82(0x7f7)+(_0x132ae1 instanceof Error?_0x132ae1[_0x2bcb82(0x18c)]:JSON['stringify'](_0x132ae1,null,0x2)));}}else this[_0x2bcb82(0x311)][_0x2bcb82(0x456)](this[_0x2bcb82(0x676)]+'\x20('+this[_0x2bcb82(0x401)][_0x2bcb82(0x242)]+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x2cf4f5){this[_0x2bcb82(0x311)]['error'](this[_0x2bcb82(0x676)]+'\x20('+this[_0x2bcb82(0x401)][_0x2bcb82(0x242)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0x2cf4f5 instanceof Error?_0x2cf4f5[_0x2bcb82(0x18c)]:JSON[_0x2bcb82(0x8cd)](_0x2cf4f5,null,0x2)));}}async[a0_0x1c66d9(0x51f)](_0x166248,_0x5594b5,_0x6fd93f){const _0xa336d3=a0_0x1c66d9;try{let _0x167612={'leadInfo.leadnome':_0x5594b5['nome'],'leadInfo.nomecompleto':_0x5594b5[_0xa336d3(0x67b)],'leadInfo.email':_0x5594b5['email'],'leadInfo.cpf':_0x5594b5[_0xa336d3(0x6df)],'leadInfo.status':_0x5594b5[_0xa336d3(0x730)],'leadInfo.notas':_0x5594b5[_0xa336d3(0x20b)],'leadInfo.responsavelid':_0x5594b5['responsavelid'],'leadInfo.tags':_0x5594b5['tags'],'leadInfo.etiquetas':_0x5594b5[_0xa336d3(0x57f)],'leadInfo.customFields':_0x6fd93f,'leadInfo.atendimentoAberto':_0x5594b5[_0xa336d3(0x8ea)]},_0x4f405e=await this[_0xa336d3(0x6db)]['chat']['findOne']({'where':{'_id':_0x166248}},this[_0xa336d3(0x401)]['wuid']);if(!_0x4f405e)return _0xa336d3(0x490);let _0x173ede=new Set(_0x4f405e[_0xa336d3(0x72b)][_0xa336d3(0x57f)]||[]),_0x2b9ed9=new Set(_0x5594b5[_0xa336d3(0x57f)]||[]),_0x3c71e6=await this[_0xa336d3(0x6db)][_0xa336d3(0x52e)]['find']({'where':{}},this['instance'][_0xa336d3(0x242)]),_0x1a1d0d=new Set(_0x3c71e6[_0xa336d3(0x521)](_0x399f02=>_0x399f02[_0xa336d3(0x70b)])),_0x3bee85=[..._0x2b9ed9][_0xa336d3(0x901)](_0x34abcd=>!_0x173ede[_0xa336d3(0x402)](_0x34abcd)&&_0x1a1d0d[_0xa336d3(0x402)](_0x34abcd)),_0x5d4c91=[..._0x173ede][_0xa336d3(0x901)](_0x5ed179=>!_0x2b9ed9[_0xa336d3(0x402)](_0x5ed179));for(let _0x418bb5 of _0x3bee85)await this[_0xa336d3(0x27c)](_0x418bb5,_0x4f405e[_0xa336d3(0x70b)]),_0x173ede['add'](_0x418bb5);for(let _0x31ae9f of _0x5d4c91)await this[_0xa336d3(0x340)](_0x31ae9f,_0x4f405e['_id']),_0x173ede['delete'](_0x31ae9f);if(_0xa336d3(0x261)in _0x5594b5){let _0x6dfd01=_0x5594b5[_0xa336d3(0x261)];_0x167612[_0xa336d3(0x6d4)]=_0x6dfd01?Number(_0x6dfd01):null;}if('atendimentoAberto'in _0x5594b5){let _0x397d09=_0x5594b5[_0xa336d3(0x8ea)][_0xa336d3(0x202)]();_0x167612[_0xa336d3(0x504)]=_0x397d09==='true'||_0x397d09==='1'||_0x397d09===_0xa336d3(0x76a)||_0x397d09==='sim';}let _0x31fc88=await this[_0xa336d3(0x6db)][_0xa336d3(0x862)]['updateOne']({'where':{'_id':_0x166248}},_0x167612,this[_0xa336d3(0x401)]['wuid']);_0x31fc88?(this['logger'][_0xa336d3(0x3ad)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xa336d3(0x466)+_0x31fc88['_id']),F(this[_0xa336d3(0x676)],'chats',{'chat':_0x31fc88})):this[_0xa336d3(0x311)][_0xa336d3(0x456)](this[_0xa336d3(0x676)]+'\x20('+this[_0xa336d3(0x401)][_0xa336d3(0x242)]+'):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD');}catch(_0x5c20b){this[_0xa336d3(0x311)][_0xa336d3(0x456)](this[_0xa336d3(0x676)]+'\x20('+this[_0xa336d3(0x401)]['wuid']+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x5c20b instanceof Error?_0x5c20b[_0xa336d3(0x18c)]:JSON[_0xa336d3(0x8cd)](_0x5c20b,null,0x2)));}}async[a0_0x1c66d9(0x49b)](_0x249f3e,_0x293a49){const _0x4c09ab=a0_0x1c66d9;this[_0x4c09ab(0x311)][_0x4c09ab(0x3ad)](this['instanceName']+'\x20('+this['instance'][_0x4c09ab(0x242)]+_0x4c09ab(0x266)+_0x293a49);try{let _0x4433e7=await this[_0x4c09ab(0x6db)][_0x4c09ab(0x862)][_0x4c09ab(0x2cd)]({'where':{'_id':_0x249f3e['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x293a49},this[_0x4c09ab(0x401)][_0x4c09ab(0x242)]);this[_0x4c09ab(0x311)][_0x4c09ab(0x3ad)](this[_0x4c09ab(0x676)]+'\x20('+this[_0x4c09ab(0x401)][_0x4c09ab(0x242)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x249f3e['_id']),this[_0x4c09ab(0x311)][_0x4c09ab(0x3ad)](this[_0x4c09ab(0x676)]+'\x20('+this[_0x4c09ab(0x401)][_0x4c09ab(0x242)]+_0x4c09ab(0x266)+JSON[_0x4c09ab(0x8cd)](_0x4433e7,null,0x2)),_0x4433e7&&F(this['instanceName'],'chats',{'chat':_0x4433e7});}catch(_0x28fd47){this[_0x4c09ab(0x311)][_0x4c09ab(0x456)](this['instanceName']+'\x20('+this[_0x4c09ab(0x401)]['wuid']+_0x4c09ab(0x524)+(_0x28fd47 instanceof Error?_0x28fd47[_0x4c09ab(0x18c)]:JSON[_0x4c09ab(0x8cd)](_0x28fd47,null,0x2)));}}async[a0_0x1c66d9(0x8c5)](_0x16da75){const _0x2a86a2=a0_0x1c66d9;try{this[_0x2a86a2(0x311)]['verbose'](this[_0x2a86a2(0x676)]+'\x20('+this[_0x2a86a2(0x401)][_0x2a86a2(0x242)]+_0x2a86a2(0x255));let _0x41d56e=_0x16da75[_0x2a86a2(0x737)](/\D/g,''),_0x35e270=this['AutomateSystem'][_0x2a86a2(0x318)][_0x2a86a2(0x705)](_0x259e11=>_0x259e11['testingWith']===_0x41d56e);if(_0x35e270||(this[_0x2a86a2(0x311)][_0x2a86a2(0x3ad)](this['instanceName']+'\x20('+this[_0x2a86a2(0x401)][_0x2a86a2(0x242)]+_0x2a86a2(0x655)),_0x35e270=this[_0x2a86a2(0x4c1)][_0x2a86a2(0x318)]['find'](_0x1437f8=>_0x1437f8['default']===!0x0)),!_0x35e270)return this[_0x2a86a2(0x311)][_0x2a86a2(0x3ad)](this[_0x2a86a2(0x676)]+'\x20('+this[_0x2a86a2(0x401)]['wuid']+'):\x20Não\x20achou\x20nenhum\x20flow'),null;let _0x1a1eae=await this['repository']['flow'][_0x2a86a2(0x44a)]({'where':{'_id':_0x35e270['_id']}});if(!_0x1a1eae||!_0x1a1eae['whoCanUse']?.[_0x2a86a2(0x1e1)](this[_0x2a86a2(0x401)][_0x2a86a2(0x242)]))throw this[_0x2a86a2(0x311)][_0x2a86a2(0x456)](this[_0x2a86a2(0x676)]+'\x20('+this['instance'][_0x2a86a2(0x242)]+_0x2a86a2(0x529)+_0x1a1eae[_0x2a86a2(0x70b)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x1a1eae[_0x2a86a2(0x70b)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');return _0x1a1eae;}catch(_0x251633){return this[_0x2a86a2(0x311)][_0x2a86a2(0x456)](this[_0x2a86a2(0x676)]+'\x20('+this[_0x2a86a2(0x401)][_0x2a86a2(0x242)]+_0x2a86a2(0x49c)+(_0x251633 instanceof Error?_0x251633[_0x2a86a2(0x18c)]:JSON[_0x2a86a2(0x8cd)](_0x251633,null,0x2))),null;}}async[a0_0x1c66d9(0x4ee)](_0x401dd1,_0x5e61c3){const _0xcab686=a0_0x1c66d9;try{let _0x509849=!!_0x5e61c3[_0xcab686(0x699)],_0x4175fd=_0x5e61c3['quoted'],_0x5bde0a=null;if(this['logger'][_0xcab686(0x3ad)](this[_0xcab686(0x676)]+'\x20('+this[_0xcab686(0x401)]['wuid']+'):\x20isVote:\x20'+_0x509849+_0xcab686(0x899)+_0x4175fd),_0x509849){this[_0xcab686(0x311)][_0xcab686(0x3ad)](this['instanceName']+'\x20('+this[_0xcab686(0x401)]['wuid']+_0xcab686(0x222));let _0x22c7f2={'where':{'remoteJid':_0x401dd1,'waitingMenu_id':_0x4175fd}};if(_0x5bde0a=await this[_0xcab686(0x6db)][_0xcab686(0x7ad)]['findOne'](_0x22c7f2,this[_0xcab686(0x401)][_0xcab686(0x242)]),!_0x5bde0a)return this[_0xcab686(0x311)][_0xcab686(0x3ad)](this['instanceName']+'\x20('+this['instance'][_0xcab686(0x242)]+_0xcab686(0x71b)),null;let _0x2cef40=Date[_0xcab686(0x2f2)](),_0x9a89bd=_0x5bde0a?.[_0xcab686(0x6ce)]||0x0,_0x16f154=_0x2cef40-_0x9a89bd*0x3c*0x3e8;if(_0x5bde0a['lastInteraction']<_0x16f154){this[_0xcab686(0x311)][_0xcab686(0x3ad)](this[_0xcab686(0x676)]+'\x20('+this['instance'][_0xcab686(0x242)]+_0xcab686(0x1e6));let _0x31c4e6={'number':_0x5bde0a['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x5bde0a[_0xcab686(0x42a)]}};await this[_0xcab686(0x6c3)](_0x31c4e6);let _0x5d7e85={'status':_0xcab686(0x31a),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository'][_0xcab686(0x7ad)]['updateOne'](_0x5bde0a[_0xcab686(0x70b)],_0x5d7e85,this[_0xcab686(0x401)][_0xcab686(0x242)]),null;}return _0x5bde0a['lastInteraction']=Date[_0xcab686(0x2f2)](),_0x5bde0a[_0xcab686(0x765)]['lastReceivedMessage']=_0x5e61c3,_0x5bde0a;}else{this[_0xcab686(0x311)][_0xcab686(0x3ad)](this['instanceName']+'\x20('+this[_0xcab686(0x401)][_0xcab686(0x242)]+'):\x20'+this[_0xcab686(0x401)][_0xcab686(0x242)]+_0xcab686(0x52c)),this[_0xcab686(0x311)][_0xcab686(0x3ad)](this[_0xcab686(0x676)]+'\x20('+this[_0xcab686(0x401)]['wuid']+_0xcab686(0x4de));let _0x2534d5={'where':{'remoteJid':_0x401dd1,'status':_0xcab686(0x32f)}};if(_0x5bde0a=await this['repository']['flowConversation']['findOne'](_0x2534d5,this[_0xcab686(0x401)][_0xcab686(0x242)]),!_0x5bde0a){let _0x4fd364=await this[_0xcab686(0x8c5)](_0x401dd1);if(_0x4fd364&&(_0x5bde0a=await this['createNewConversation'](_0x4fd364,_0x5e61c3[_0xcab686(0x757)],_0x5e61c3)),!_0x5bde0a)return null;}let _0x28d5c3=Date[_0xcab686(0x2f2)](),_0x3e59d7=_0x5bde0a?.[_0xcab686(0x6ce)]||0x0,_0x468354=_0x28d5c3-_0x3e59d7*0x3c*0x3e8;if(this[_0xcab686(0x311)][_0xcab686(0x3ad)](this[_0xcab686(0x676)]+'\x20('+this[_0xcab686(0x401)][_0xcab686(0x242)]+'):\x20Current\x20Time:\x20'+_0x28d5c3+',\x20Minutes\x20to\x20Close:\x20'+_0x3e59d7+_0xcab686(0x687)+_0x468354),this[_0xcab686(0x311)][_0xcab686(0x3ad)](this[_0xcab686(0x676)]+'\x20('+this[_0xcab686(0x401)][_0xcab686(0x242)]+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this[_0xcab686(0x311)][_0xcab686(0x3ad)](this[_0xcab686(0x676)]+'\x20('+this[_0xcab686(0x401)][_0xcab686(0x242)]+_0xcab686(0x584)+_0x5bde0a['lastInteraction']),this[_0xcab686(0x311)][_0xcab686(0x3ad)](this[_0xcab686(0x676)]+'\x20('+this[_0xcab686(0x401)]['wuid']+'):\x20expirationTime:\x20'+_0x468354),_0x5bde0a[_0xcab686(0x84d)]<_0x468354){this[_0xcab686(0x311)][_0xcab686(0x3ad)](this[_0xcab686(0x676)]+'\x20('+this[_0xcab686(0x401)][_0xcab686(0x242)]+_0xcab686(0x580));let _0x395c14=await this['findFlow'](_0x401dd1);if(_0x395c14===null)return null;_0x5bde0a&&await this[_0xcab686(0x6db)][_0xcab686(0x7ad)]['updateOne'](_0x5bde0a[_0xcab686(0x70b)],{'status':_0xcab686(0x31a)},this[_0xcab686(0x401)][_0xcab686(0x242)]),_0x5bde0a=await this[_0xcab686(0x7d8)](_0x395c14,_0x5e61c3[_0xcab686(0x757)],_0x5e61c3);}return _0x5bde0a[_0xcab686(0x84d)]=_0x28d5c3,_0x5bde0a[_0xcab686(0x765)]['lastReceivedMessage']=_0x5e61c3,_0x5bde0a;}}catch(_0x337c86){return this[_0xcab686(0x311)]['error'](this[_0xcab686(0x676)]+'\x20('+this['instance'][_0xcab686(0x242)]+_0xcab686(0x877)+(_0x337c86 instanceof Error?_0x337c86[_0xcab686(0x18c)]:JSON[_0xcab686(0x8cd)](_0x337c86,null,0x2))),null;}}async[a0_0x1c66d9(0x7d8)](_0x5b2868,_0xf4542d,_0x128c84){const _0x54c0e2=a0_0x1c66d9;this['logger'][_0x54c0e2(0x3ad)](this[_0x54c0e2(0x676)]+'\x20('+this[_0x54c0e2(0x401)][_0x54c0e2(0x242)]+_0x54c0e2(0x5a1));try{let _0x1cc196=require(_0x54c0e2(0x4ea))[_0x54c0e2(0x1d5)],_0x32b30f=Date[_0x54c0e2(0x2f2)](),_0x361666='start',_0x216fb9=_0xf4542d[_0x54c0e2(0x889)]?null:_0x128c84,_0x5de1a5=_0xf4542d[_0x54c0e2(0x889)]?_0x128c84:null,_0x1b46f7=_0xf4542d['remoteJid'],_0x563897=this[_0x54c0e2(0x4c1)]['flows'][_0x54c0e2(0x705)](_0x3f7ef5=>_0x3f7ef5[_0x54c0e2(0x70b)]===_0x5b2868['_id']?.[_0x54c0e2(0x37f)]()),_0xf7bafd=_0x563897?.[_0x54c0e2(0x6ce)]??_0x5b2868[_0x54c0e2(0x6ce)]??0x0,_0x17300a=_0x563897?.[_0x54c0e2(0x74f)]??_0x5b2868[_0x54c0e2(0x74f)]??!0x1;await this[_0x54c0e2(0x698)](_0x1b46f7);let _0x1eecc4={'flowId':_0x5b2868['_id'],..._0x5b2868,'chatLog':null},_0x208264=await this[_0x54c0e2(0x681)](_0x1eecc4[_0x54c0e2(0x20d)]),_0x2b8d7b=await this[_0x54c0e2(0x872)](_0x1b46f7),_0x1b31a2={..._0x208264,..._0x2b8d7b,'_remoteJid':_0x1b46f7},_0x497889={'lastReceivedMessage':_0x216fb9,'lastSendMessage':_0x5de1a5,'lastBlockId':_0x361666,'lastCondition':!0x0,'realVariables':_0x1b31a2};_0x1eecc4['chatLog']=_0x497889,delete _0x1eecc4[_0x54c0e2(0x70b)],_0x1eecc4[_0x54c0e2(0x70b)]=new _0x1cc196(),_0x1eecc4[_0x54c0e2(0x84d)]=_0x32b30f,_0x1eecc4[_0x54c0e2(0x730)]=_0x54c0e2(0x32f),_0x1eecc4['remoteJid']=_0x1b46f7,_0x1eecc4['minutesToClose']=_0xf7bafd,_0x1eecc4[_0x54c0e2(0x74f)]=_0x17300a;let _0x172a94=await this[_0x54c0e2(0x6db)]['flowConversation'][_0x54c0e2(0x2cd)](_0x1eecc4['_id'],_0x1eecc4,this['instance'][_0x54c0e2(0x242)]);return this[_0x54c0e2(0x311)][_0x54c0e2(0x3ad)](this[_0x54c0e2(0x676)]+'\x20('+this[_0x54c0e2(0x401)][_0x54c0e2(0x242)]+_0x54c0e2(0x8ff)),_0x172a94?_0x1eecc4:null;}catch(_0xcab30a){return this['logger'][_0x54c0e2(0x456)](this[_0x54c0e2(0x676)]+'\x20('+this[_0x54c0e2(0x401)][_0x54c0e2(0x242)]+_0x54c0e2(0x29f)+(_0xcab30a instanceof Error?_0xcab30a[_0x54c0e2(0x18c)]:JSON[_0x54c0e2(0x8cd)](_0xcab30a,null,0x2))),_0xcab30a;}}async['uazapiSendText'](_0x8c0e4c,_0x2756e9){const _0x1fe10e=a0_0x1c66d9;let _0x4969e5=_0x8c0e4c[_0x1fe10e(0x328)];_0x2756e9[_0x1fe10e(0x453)]['remoteJid']&&_0x2756e9[_0x1fe10e(0x453)][_0x1fe10e(0x328)][_0x1fe10e(0x5e0)]()!==''&&(_0x4969e5=_0x2756e9[_0x1fe10e(0x453)]['remoteJid'][_0x1fe10e(0x5e0)]()),this[_0x1fe10e(0x311)][_0x1fe10e(0x3ad)](this[_0x1fe10e(0x676)]+'\x20('+this['instance'][_0x1fe10e(0x242)]+'):\x20Enviando\x20texto');let _0x123f2f={'number':_0x4969e5,'options':{'delay':_0x2756e9[_0x1fe10e(0x453)][_0x1fe10e(0x21f)],'linkPreview':_0x2756e9[_0x1fe10e(0x453)]['linkPreview']},'textMessage':{'text':_0x2756e9[_0x1fe10e(0x453)]['text']}};try{let _0x3d8fd6=await this[_0x1fe10e(0x6c3)](_0x123f2f);if(_0x3d8fd6){let _0x392300={'_id':_0x3d8fd6[_0x1fe10e(0x757)]['id'],'_fromMe':_0x3d8fd6['key'][_0x1fe10e(0x889)],'_remoteJid':_0x3d8fd6[_0x1fe10e(0x757)][_0x1fe10e(0x328)]},_0x38ddec=(0x0,w['normalizeMessageContent'])(_0x3d8fd6[_0x1fe10e(0x18c)]),_0x3b06bb=(0x0,w[_0x1fe10e(0x652)])(_0x38ddec);_0x8c0e4c[_0x1fe10e(0x765)][_0x1fe10e(0x313)]=_0x2756e9[_0x1fe10e(0x70b)][_0x1fe10e(0x37f)]();let {message_normalized:_0x5afeb8}=this[_0x1fe10e(0x863)](_0x38ddec,_0x3b06bb,null);_0x8c0e4c[_0x1fe10e(0x765)][_0x1fe10e(0x22a)]=await _0x5afeb8;let _0x351cfd={'messageId':_0x3d8fd6[_0x1fe10e(0x757)]['id']},_0x4cbc95=_0x8c0e4c[_0x1fe10e(0x765)][_0x1fe10e(0x553)];Object[_0x1fe10e(0x1c5)](_0x4cbc95,_0x392300),_0x8c0e4c[_0x1fe10e(0x765)][_0x1fe10e(0x553)]=_0x4cbc95,this['updateConversation'](_0x8c0e4c,_0x2756e9,_0x351cfd);}else{let _0x223f14={'error':!0x0};this['updateConversation'](_0x8c0e4c,_0x2756e9,_0x223f14),this[_0x1fe10e(0x311)][_0x1fe10e(0x456)](this[_0x1fe10e(0x676)]+'\x20('+this[_0x1fe10e(0x401)][_0x1fe10e(0x242)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x1abe65){let _0x4e3f8b={'error':!0x0,'errorLog':_0x1abe65[_0x1fe10e(0x37f)]()};this[_0x1fe10e(0x31c)](_0x8c0e4c,_0x2756e9,_0x4e3f8b),this[_0x1fe10e(0x311)]['error'](this['instanceName']+'\x20('+this[_0x1fe10e(0x401)][_0x1fe10e(0x242)]+_0x1fe10e(0x868)+(_0x1abe65 instanceof Error?_0x1abe65[_0x1fe10e(0x18c)]:JSON[_0x1fe10e(0x8cd)](_0x1abe65,null,0x2)));}}async['uazapiSendMedia'](_0x4ab20f,_0x422117){const _0x3b3cf6=a0_0x1c66d9;let _0xdd59c4=_0x4ab20f[_0x3b3cf6(0x328)];_0x422117[_0x3b3cf6(0x453)][_0x3b3cf6(0x328)]&&_0x422117[_0x3b3cf6(0x453)][_0x3b3cf6(0x328)]['trim']()!==''&&(_0xdd59c4=_0x422117[_0x3b3cf6(0x453)][_0x3b3cf6(0x328)][_0x3b3cf6(0x5e0)]()),this[_0x3b3cf6(0x311)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3b3cf6(0x4bf));let _0x310848={'number':_0xdd59c4,'options':{'delay':_0x422117[_0x3b3cf6(0x453)]['delay'],'linkPreview':_0x422117[_0x3b3cf6(0x453)][_0x3b3cf6(0x682)]},'mediaMessage':{'mediatype':_0x422117['uazapi'][_0x3b3cf6(0x2f1)],'caption':_0x422117[_0x3b3cf6(0x453)][_0x3b3cf6(0x2bd)],'media':_0x422117[_0x3b3cf6(0x453)][_0x3b3cf6(0x8ee)],'fileName':_0x422117[_0x3b3cf6(0x453)]['fileName']}};try{let _0x1996bb=await this['mediaMessage'](_0x310848);if(_0x1996bb){let _0xafa0c9={'_id':_0x1996bb[_0x3b3cf6(0x757)]['id'],'_fromMe':_0x1996bb[_0x3b3cf6(0x757)][_0x3b3cf6(0x889)],'_remoteJid':_0x1996bb['key'][_0x3b3cf6(0x328)]},_0x5db941=(0x0,w[_0x3b3cf6(0x4b8)])(_0x1996bb['message']),_0x4791fa=(0x0,w[_0x3b3cf6(0x652)])(_0x5db941);_0x4ab20f[_0x3b3cf6(0x765)][_0x3b3cf6(0x313)]=_0x422117['_id'][_0x3b3cf6(0x37f)]();let {message_normalized:_0x2125d9}=this[_0x3b3cf6(0x863)](_0x5db941,_0x4791fa,null);_0x4ab20f[_0x3b3cf6(0x765)][_0x3b3cf6(0x22a)]=await _0x2125d9;let _0x3fc678={'messageId':_0x1996bb['key']['id']},_0x25567f=_0x4ab20f[_0x3b3cf6(0x765)][_0x3b3cf6(0x553)];Object['assign'](_0x25567f,_0xafa0c9),_0x4ab20f[_0x3b3cf6(0x765)]['realVariables']=_0x25567f,this[_0x3b3cf6(0x31c)](_0x4ab20f,_0x422117,_0x3fc678);}else{let _0x28e56e={'error':!0x0};this[_0x3b3cf6(0x31c)](_0x4ab20f,_0x422117,_0x28e56e),this[_0x3b3cf6(0x311)][_0x3b3cf6(0x456)](this[_0x3b3cf6(0x676)]+'\x20('+this[_0x3b3cf6(0x401)][_0x3b3cf6(0x242)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x45720e){let _0x23e1da={'error':!0x0,'errorLog':_0x45720e[_0x3b3cf6(0x37f)]()};this['updateConversation'](_0x4ab20f,_0x422117,_0x23e1da),this[_0x3b3cf6(0x311)][_0x3b3cf6(0x456)](this[_0x3b3cf6(0x676)]+'\x20('+this[_0x3b3cf6(0x401)][_0x3b3cf6(0x242)]+_0x3b3cf6(0x28e)+(_0x45720e instanceof Error?_0x45720e[_0x3b3cf6(0x18c)]:JSON[_0x3b3cf6(0x8cd)](_0x45720e,null,0x2)));}}async[a0_0x1c66d9(0x296)](_0x70157f,_0x2a87da){const _0x5f1c98=a0_0x1c66d9;let _0x16006c=_0x70157f['remoteJid'];_0x2a87da[_0x5f1c98(0x453)]['remoteJid']&&_0x2a87da[_0x5f1c98(0x453)][_0x5f1c98(0x328)][_0x5f1c98(0x5e0)]()!==''&&(_0x16006c=_0x2a87da['uazapi']['remoteJid'][_0x5f1c98(0x5e0)]()),this[_0x5f1c98(0x311)][_0x5f1c98(0x3ad)](this[_0x5f1c98(0x676)]+'\x20('+this['instance'][_0x5f1c98(0x242)]+_0x5f1c98(0x81c));let _0x571ad6={'number':_0x16006c,'options':{'delay':_0x2a87da[_0x5f1c98(0x453)][_0x5f1c98(0x21f)]},'locationMessage':{'name':_0x2a87da[_0x5f1c98(0x453)]['name'],'address':_0x2a87da[_0x5f1c98(0x453)][_0x5f1c98(0x82b)],'latitude':_0x2a87da[_0x5f1c98(0x453)][_0x5f1c98(0x4aa)],'longitude':_0x2a87da['uazapi'][_0x5f1c98(0x3e4)]}};try{let _0x40c0ec=await this[_0x5f1c98(0x182)](_0x571ad6);if(_0x40c0ec){let _0x1ccce7={'_id':_0x40c0ec[_0x5f1c98(0x757)]['id'],'_fromMe':_0x40c0ec[_0x5f1c98(0x757)][_0x5f1c98(0x889)],'_remoteJid':_0x40c0ec[_0x5f1c98(0x757)][_0x5f1c98(0x328)]},_0x39b263=(0x0,w[_0x5f1c98(0x4b8)])(_0x40c0ec[_0x5f1c98(0x18c)]),_0x19557f=(0x0,w[_0x5f1c98(0x652)])(_0x39b263);_0x70157f[_0x5f1c98(0x765)][_0x5f1c98(0x313)]=_0x2a87da[_0x5f1c98(0x70b)][_0x5f1c98(0x37f)]();let {message_normalized:_0x40d850}=this[_0x5f1c98(0x863)](_0x39b263,_0x19557f,null);_0x70157f[_0x5f1c98(0x765)][_0x5f1c98(0x22a)]=await _0x40d850;let _0x549014={'messageId':_0x40c0ec['key']['id']},_0x29f01e=_0x70157f[_0x5f1c98(0x765)][_0x5f1c98(0x553)];Object[_0x5f1c98(0x1c5)](_0x29f01e,_0x1ccce7),_0x70157f[_0x5f1c98(0x765)]['realVariables']=_0x29f01e,this[_0x5f1c98(0x31c)](_0x70157f,_0x2a87da,_0x549014);}else{let _0x15dc5e={'error':!0x0};this[_0x5f1c98(0x31c)](_0x70157f,_0x2a87da,_0x15dc5e),this[_0x5f1c98(0x311)][_0x5f1c98(0x456)](this['instanceName']+'\x20('+this['instance'][_0x5f1c98(0x242)]+_0x5f1c98(0x646));}}catch(_0x4efa6a){let _0x256aab={'error':!0x0,'errorLog':_0x4efa6a[_0x5f1c98(0x37f)]()};this['updateConversation'](_0x70157f,_0x2a87da,_0x256aab),this[_0x5f1c98(0x311)]['error'](this[_0x5f1c98(0x676)]+'\x20('+this['instance'][_0x5f1c98(0x242)]+_0x5f1c98(0x8c4)+(_0x4efa6a instanceof Error?_0x4efa6a['message']:JSON[_0x5f1c98(0x8cd)](_0x4efa6a,null,0x2)));}}async[a0_0x1c66d9(0x575)](_0x2f17c3,_0x707897){const _0x11f8b5=a0_0x1c66d9;let _0x4414bb=_0x2f17c3[_0x11f8b5(0x328)];_0x707897[_0x11f8b5(0x453)][_0x11f8b5(0x328)]&&_0x707897[_0x11f8b5(0x453)][_0x11f8b5(0x328)][_0x11f8b5(0x5e0)]()!==''&&(_0x4414bb=_0x707897[_0x11f8b5(0x453)][_0x11f8b5(0x328)][_0x11f8b5(0x5e0)]()),this[_0x11f8b5(0x311)][_0x11f8b5(0x3ad)](this[_0x11f8b5(0x676)]+'\x20('+this[_0x11f8b5(0x401)][_0x11f8b5(0x242)]+_0x11f8b5(0x70d));let _0x5b8355={'number':_0x4414bb,'options':{'delay':_0x707897[_0x11f8b5(0x453)][_0x11f8b5(0x21f)]},'audioMessage':{'audio':_0x707897[_0x11f8b5(0x453)]['audio']}};try{let _0x1fe2d1=await this[_0x11f8b5(0x505)](_0x5b8355);if(_0x1fe2d1){let _0x367947={'_id':_0x1fe2d1[_0x11f8b5(0x757)]['id'],'_fromMe':_0x1fe2d1[_0x11f8b5(0x757)][_0x11f8b5(0x889)],'_remoteJid':_0x1fe2d1['key'][_0x11f8b5(0x328)]},_0x1983c5=(0x0,w[_0x11f8b5(0x4b8)])(_0x1fe2d1[_0x11f8b5(0x18c)]),_0x2be86d=(0x0,w[_0x11f8b5(0x652)])(_0x1983c5);_0x2f17c3[_0x11f8b5(0x765)][_0x11f8b5(0x313)]=_0x707897[_0x11f8b5(0x70b)][_0x11f8b5(0x37f)]();let {message_normalized:_0x1eb48c}=this['normalizeMessage'](_0x1983c5,_0x2be86d,null);_0x2f17c3[_0x11f8b5(0x765)]['lastSendMessage']=await _0x1eb48c;let _0xca20d9={'messageId':_0x1fe2d1[_0x11f8b5(0x757)]['id']},_0x251206=_0x2f17c3[_0x11f8b5(0x765)][_0x11f8b5(0x553)];Object[_0x11f8b5(0x1c5)](_0x251206,_0x367947),_0x2f17c3[_0x11f8b5(0x765)][_0x11f8b5(0x553)]=_0x251206,this['updateConversation'](_0x2f17c3,_0x707897,_0xca20d9);}else{let _0x1a6a6b={'error':!0x0};this[_0x11f8b5(0x31c)](_0x2f17c3,_0x707897,_0x1a6a6b),this[_0x11f8b5(0x311)][_0x11f8b5(0x456)](this[_0x11f8b5(0x676)]+'\x20('+this[_0x11f8b5(0x401)]['wuid']+_0x11f8b5(0x638));}}catch(_0x3215cd){let _0x587366={'error':!0x0,'errorLog':_0x3215cd[_0x11f8b5(0x37f)]()};this[_0x11f8b5(0x31c)](_0x2f17c3,_0x707897,_0x587366),this[_0x11f8b5(0x311)][_0x11f8b5(0x456)](this[_0x11f8b5(0x676)]+'\x20('+this[_0x11f8b5(0x401)][_0x11f8b5(0x242)]+_0x11f8b5(0x7e6)+(_0x3215cd instanceof Error?_0x3215cd[_0x11f8b5(0x18c)]:JSON['stringify'](_0x3215cd,null,0x2)));}}async[a0_0x1c66d9(0x74b)](_0x49ef0e,_0x2069f0){const _0x12ca43=a0_0x1c66d9;let _0x13a0ae=_0x49ef0e[_0x12ca43(0x328)];_0x2069f0[_0x12ca43(0x453)][_0x12ca43(0x328)]&&_0x2069f0['uazapi'][_0x12ca43(0x328)][_0x12ca43(0x5e0)]()!==''&&(_0x13a0ae=_0x2069f0['uazapi'][_0x12ca43(0x328)][_0x12ca43(0x5e0)]()),this[_0x12ca43(0x311)][_0x12ca43(0x3ad)](this[_0x12ca43(0x676)]+'\x20('+this['instance'][_0x12ca43(0x242)]+_0x12ca43(0x2c4));let _0x36194c={'number':_0x13a0ae,'options':{'delay':_0x2069f0[_0x12ca43(0x453)][_0x12ca43(0x21f)]},'contactMessage':[{'fullName':_0x2069f0[_0x12ca43(0x453)][_0x12ca43(0x715)],'phoneNumber':_0x2069f0['uazapi'][_0x12ca43(0x4d5)]}]};try{let _0x1f1acd=await this['contactMessage'](_0x36194c);if(_0x1f1acd){let _0x4dd98c={'_id':_0x1f1acd[_0x12ca43(0x757)]['id'],'_fromMe':_0x1f1acd[_0x12ca43(0x757)][_0x12ca43(0x889)],'_remoteJid':_0x1f1acd['key'][_0x12ca43(0x328)]},_0x138aff=(0x0,w[_0x12ca43(0x4b8)])(_0x1f1acd[_0x12ca43(0x18c)]),_0x59a0a9=(0x0,w[_0x12ca43(0x652)])(_0x138aff);_0x49ef0e[_0x12ca43(0x765)][_0x12ca43(0x313)]=_0x2069f0[_0x12ca43(0x70b)][_0x12ca43(0x37f)]();let {message_normalized:_0x21c716}=this[_0x12ca43(0x863)](_0x138aff,_0x59a0a9,null);_0x49ef0e[_0x12ca43(0x765)][_0x12ca43(0x22a)]=await _0x21c716;let _0x5e2e45={'messageId':_0x1f1acd[_0x12ca43(0x757)]['id']},_0x3a16b8=_0x49ef0e[_0x12ca43(0x765)][_0x12ca43(0x553)];Object[_0x12ca43(0x1c5)](_0x3a16b8,_0x4dd98c),_0x49ef0e[_0x12ca43(0x765)][_0x12ca43(0x553)]=_0x3a16b8,this[_0x12ca43(0x31c)](_0x49ef0e,_0x2069f0,_0x5e2e45);}else{let _0x9883d1={'error':!0x0};this['updateConversation'](_0x49ef0e,_0x2069f0,_0x9883d1),this[_0x12ca43(0x311)]['error'](this[_0x12ca43(0x676)]+'\x20('+this[_0x12ca43(0x401)]['wuid']+_0x12ca43(0x3a8));}}catch(_0x442c8a){let _0x336a33={'error':!0x0,'errorLog':_0x442c8a[_0x12ca43(0x37f)]()};this[_0x12ca43(0x31c)](_0x49ef0e,_0x2069f0,_0x336a33),this[_0x12ca43(0x311)][_0x12ca43(0x456)](this['instanceName']+'\x20('+this[_0x12ca43(0x401)][_0x12ca43(0x242)]+_0x12ca43(0x2d4)+(_0x442c8a instanceof Error?_0x442c8a[_0x12ca43(0x18c)]:JSON[_0x12ca43(0x8cd)](_0x442c8a,null,0x2)));}}[a0_0x1c66d9(0x620)](_0x14f915,_0x1360a0){const _0x1a6537=a0_0x1c66d9;for(let _0x2ef957 of _0x14f915)_0x2ef957[_0x1a6537(0x440)]&&(_0x2ef957['option']=this['replaceVariables'](_0x2ef957['option'],_0x1360a0)),_0x2ef957[_0x1a6537(0x4f7)]&&(_0x2ef957[_0x1a6537(0x4f7)]=this['replaceVariables'](_0x2ef957[_0x1a6537(0x4f7)],_0x1360a0));}async['uazapiSendMenu'](_0x4941a5,_0x4a7117){const _0x733f20=a0_0x1c66d9;let _0x1f626e=_0x4941a5[_0x733f20(0x328)];_0x4a7117[_0x733f20(0x453)][_0x733f20(0x328)]&&_0x4a7117[_0x733f20(0x453)][_0x733f20(0x328)][_0x733f20(0x5e0)]()!==''&&(_0x1f626e=_0x4a7117['uazapi'][_0x733f20(0x328)][_0x733f20(0x5e0)]()),this[_0x733f20(0x311)][_0x733f20(0x3ad)](this[_0x733f20(0x676)]+'\x20('+this[_0x733f20(0x401)][_0x733f20(0x242)]+_0x733f20(0x4e4));let _0x9c69ef=_0x4941a5[_0x733f20(0x3a4)]['filter'](_0xde0792=>_0xde0792['blockId']===_0x4a7117[_0x733f20(0x70b)])['sort']((_0x1a4e97,_0x19936f)=>_0x1a4e97[_0x733f20(0x74d)]-_0x19936f[_0x733f20(0x74d)]);this[_0x733f20(0x620)](_0x9c69ef,_0x4941a5['chatLog'][_0x733f20(0x553)]);let _0x1eba63=_0x9c69ef[_0x733f20(0x521)](_0x3471c4=>_0x3471c4[_0x733f20(0x440)]),_0x465808={'number':_0x1f626e,'menuMessage':{'type':_0x4a7117[_0x733f20(0x453)]['menuType']||_0x733f20(0x3ba),'text':_0x4a7117[_0x733f20(0x453)][_0x733f20(0x460)]||_0x4a7117['uazapi'][_0x733f20(0x87f)],'footerText':_0x4a7117['uazapi'][_0x733f20(0x8af)],'buttonText':_0x4a7117[_0x733f20(0x453)][_0x733f20(0x546)],'selectableCount':0x1,'choices':_0x1eba63},'options':{'delay':_0x4a7117[_0x733f20(0x453)][_0x733f20(0x21f)]}};try{let _0x3b5fe9=await this[_0x733f20(0x6d7)](_0x465808);if(_0x3b5fe9){let _0x74ca64={'_id':_0x3b5fe9[_0x733f20(0x757)]['id'],'_fromMe':_0x3b5fe9[_0x733f20(0x757)][_0x733f20(0x889)],'_remoteJid':_0x3b5fe9[_0x733f20(0x757)][_0x733f20(0x328)]};_0x4a7117[_0x733f20(0x453)][_0x733f20(0x478)]===!0x0&&(_0x4941a5[_0x733f20(0x730)]=_0x733f20(0x835),this[_0x733f20(0x311)][_0x733f20(0x3ad)](this[_0x733f20(0x676)]+'\x20('+this[_0x733f20(0x401)][_0x733f20(0x242)]+_0x733f20(0x4e0)+_0x4941a5[_0x733f20(0x730)])),this[_0x733f20(0x311)][_0x733f20(0x3ad)](this[_0x733f20(0x676)]+'\x20('+this[_0x733f20(0x401)][_0x733f20(0x242)]+_0x733f20(0x6d9)+(_0x4a7117[_0x733f20(0x453)][_0x733f20(0x87f)]||_0x4a7117[_0x733f20(0x453)][_0x733f20(0x460)])),_0x4941a5[_0x733f20(0x6a4)]=_0x3b5fe9[_0x733f20(0x757)]['id'],_0x4941a5[_0x733f20(0x855)]=_0x4a7117['uazapi'][_0x733f20(0x87f)]||_0x4a7117['uazapi'][_0x733f20(0x460)],_0x4941a5[_0x733f20(0x74e)]=_0x9c69ef,_0x4a7117[_0x733f20(0x453)]['menuExpiredMessage']&&(_0x4941a5[_0x733f20(0x42a)]=_0x4a7117[_0x733f20(0x453)][_0x733f20(0x73d)]),this[_0x733f20(0x311)][_0x733f20(0x3ad)](this[_0x733f20(0x676)]+'\x20('+this[_0x733f20(0x401)]['wuid']+_0x733f20(0x6f5)+_0x4941a5['waitingMenu_text']);let _0x1e9c54=(0x0,w['normalizeMessageContent'])(_0x3b5fe9[_0x733f20(0x18c)]),_0x276017=(0x0,w['getContentType'])(_0x1e9c54);_0x4941a5[_0x733f20(0x765)]['lastBlockId']=_0x4a7117[_0x733f20(0x70b)][_0x733f20(0x37f)]();let {message_normalized:_0xa4a1aa}=this[_0x733f20(0x863)](_0x1e9c54,_0x276017,null);_0x4941a5['chatLog'][_0x733f20(0x22a)]=await _0xa4a1aa;let _0x3d504d={'messageId':_0x3b5fe9['key']['id']},_0x476d8a=_0x4941a5[_0x733f20(0x765)][_0x733f20(0x553)];Object[_0x733f20(0x1c5)](_0x476d8a,_0x74ca64),_0x4941a5['chatLog']['realVariables']=_0x476d8a,this[_0x733f20(0x31c)](_0x4941a5,_0x4a7117,_0x3d504d);}else{let _0x1e7848={'error':!0x0};this[_0x733f20(0x31c)](_0x4941a5,_0x4a7117,_0x1e7848),this[_0x733f20(0x311)]['error'](this[_0x733f20(0x676)]+'\x20('+this['instance'][_0x733f20(0x242)]+_0x733f20(0x467));}}catch(_0x4653df){let _0x4b5796={'error':!0x0,'errorLog':_0x4653df instanceof Error?_0x4653df[_0x733f20(0x18c)]:JSON[_0x733f20(0x8cd)](_0x4653df,null,0x2)};this[_0x733f20(0x31c)](_0x4941a5,_0x4a7117,_0x4b5796),this[_0x733f20(0x311)][_0x733f20(0x456)](this[_0x733f20(0x676)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x4653df instanceof Error?_0x4653df['message']:JSON['stringify'](_0x4653df,null,0x2)));}}async[a0_0x1c66d9(0x8e5)](_0x4a9b77,_0x592de7){const _0x51c3f6=a0_0x1c66d9;this[_0x51c3f6(0x311)]['verbose'](this[_0x51c3f6(0x676)]+'\x20('+this[_0x51c3f6(0x401)][_0x51c3f6(0x242)]+_0x51c3f6(0x53c));let _0x59de55=_0x4a9b77[_0x51c3f6(0x765)]['blockLogs'][_0x51c3f6(0x705)](_0x457ab4=>_0x457ab4[_0x51c3f6(0x8a3)]['toString']()===_0x592de7[_0x51c3f6(0x453)][_0x51c3f6(0x8a3)][_0x51c3f6(0x37f)]()),_0x4c010c={'id':_0x59de55[_0x51c3f6(0x265)],'remoteJid':_0x59de55[_0x51c3f6(0x328)],'fromMe':_0x59de55[_0x51c3f6(0x889)]};try{let _0x247afd=await this[_0x51c3f6(0x689)](_0x4c010c);if(_0x247afd){let _0x1251d1=(0x0,w[_0x51c3f6(0x4b8)])(_0x247afd[_0x51c3f6(0x18c)]),_0x38d746=(0x0,w[_0x51c3f6(0x652)])(_0x1251d1);_0x4a9b77['chatLog'][_0x51c3f6(0x313)]=_0x592de7[_0x51c3f6(0x70b)][_0x51c3f6(0x37f)]();let {message_normalized:_0x225446}=this[_0x51c3f6(0x863)](_0x1251d1,_0x38d746,null);_0x4a9b77[_0x51c3f6(0x765)]['lastSendMessage']=await _0x225446;let _0x5062a5={};this[_0x51c3f6(0x31c)](_0x4a9b77,_0x592de7,_0x5062a5);}else{let _0x150d48={'error':!0x0};this[_0x51c3f6(0x31c)](_0x4a9b77,_0x592de7,_0x150d48),this['logger'][_0x51c3f6(0x456)](this[_0x51c3f6(0x676)]+'\x20('+this[_0x51c3f6(0x401)][_0x51c3f6(0x242)]+_0x51c3f6(0x1aa));}}catch(_0x1730b7){let _0x18b5ea={'error':!0x0,'errorLog':_0x1730b7 instanceof Error?_0x1730b7['message']:JSON[_0x51c3f6(0x8cd)](_0x1730b7,null,0x2)};this[_0x51c3f6(0x31c)](_0x4a9b77,_0x592de7,_0x18b5ea),this['logger'][_0x51c3f6(0x456)](this['instanceName']+'\x20('+this[_0x51c3f6(0x401)][_0x51c3f6(0x242)]+_0x51c3f6(0x46f)+(_0x1730b7 instanceof Error?_0x1730b7[_0x51c3f6(0x18c)]:JSON[_0x51c3f6(0x8cd)](_0x1730b7,null,0x2)));}}async[a0_0x1c66d9(0x7c2)](_0x4140d4,_0x2e7759){const _0x4cd66e=a0_0x1c66d9;if(_0x4140d4[_0x4cd66e(0x87f)]||(_0x4140d4['name']=(0x0,Q['v4'])()),_0x2e7759!==Oi&&_0x4140d4?.['globalShow'])throw new m(_0x4cd66e(0x858));if(_0x4cd66e(0x70b)in _0x4140d4&&_0x4cd66e(0x3f5)in _0x4140d4)return this[_0x4cd66e(0x791)](_0x4140d4[_0x4cd66e(0x3f5)],_0x4140d4[_0x4cd66e(0x70b)]);this[_0x4cd66e(0x311)][_0x4cd66e(0x3ad)](this[_0x4cd66e(0x676)]+'\x20('+this[_0x4cd66e(0x401)][_0x4cd66e(0x242)]+_0x4cd66e(0x1ab));let _0x4a69a3=this[_0x4cd66e(0x2d2)](_0x4140d4['name']),_0x697784=new he['Types'][(_0x4cd66e(0x1d5))](),_0x132955={'_id':_0x697784,'default':!0x0,'title':_0x4cd66e(0x68e),'x':0x0,'y':0x0},_0x2a977a={'_id':new he['Types'][(_0x4cd66e(0x1d5))](),'order':0x1,'groupId':_0x697784[_0x4cd66e(0x37f)](),'type':_0x4cd66e(0x471)},_0x4aa003=this[_0x4cd66e(0x401)][_0x4cd66e(0x242)],_0x1f0759={'_id':(0x0,Q['v4'])(),'owner':_0x4aa003,'name':_0x4a69a3,'whoCanEdit':[_0x4aa003],'whoCanUse':[_0x4aa003],'groups':[_0x132955],'blocks':[_0x2a977a],..._0x4140d4};try{let _0x178c53=await this[_0x4cd66e(0x6db)]['flow'][_0x4cd66e(0x219)](_0x1f0759);return await this[_0x4cd66e(0x718)](),_0x178c53;}catch(_0x1e9958){let _0x34c9cb='Erro\x20ao\x20criar\x20fluxo',_0x45701a=_0x1e9958 instanceof Error?_0x1e9958[_0x4cd66e(0x18c)]:typeof _0x1e9958==_0x4cd66e(0x2c2)?JSON[_0x4cd66e(0x8cd)](_0x1e9958):_0x1e9958,_0x513b5a=_0x34c9cb+':\x20'+_0x45701a;throw this['logger']['error'](this[_0x4cd66e(0x676)]+'\x20('+this[_0x4cd66e(0x401)]['wuid']+_0x4cd66e(0x761)+_0x513b5a),new m(_0x513b5a);}}async[a0_0x1c66d9(0x791)](_0x464764,_0x13211d){const _0x3250cd=a0_0x1c66d9;try{this[_0x3250cd(0x311)][_0x3250cd(0x3ad)](this[_0x3250cd(0x676)]+'\x20('+this[_0x3250cd(0x401)][_0x3250cd(0x242)]+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x102222=await this[_0x3250cd(0x6db)]['flow'][_0x3250cd(0x44a)]({'where':{'_id':_0x13211d,'owner':_0x464764}});if(!_0x102222)throw new m(_0x3250cd(0x44f));if(_0x102222[_0x3250cd(0x88f)]===!0x1&&!_0x102222['globalShow'])throw new m('Esse\x20fluxo\x20não\x20permite\x20importação.');let _0x290fd7=new Set(_0x102222[_0x3250cd(0x6bc)]??[]);_0x290fd7[_0x3250cd(0x887)](this[_0x3250cd(0x401)][_0x3250cd(0x242)]);let _0x39b7b8=await this[_0x3250cd(0x6db)][_0x3250cd(0x719)][_0x3250cd(0x2cd)](_0x13211d,{..._0x102222,'whoCanUse':Array['from'](_0x290fd7)});return await this[_0x3250cd(0x718)](),_0x39b7b8;}catch(_0x4c5617){let _0x9ecfcd='Erro\x20ao\x20criar\x20fluxo\x20compartilhado',_0x1fc13d=_0x4c5617 instanceof Error?_0x4c5617['message']:typeof _0x4c5617==_0x3250cd(0x2c2)?JSON[_0x3250cd(0x8cd)](_0x4c5617):_0x4c5617,_0x1ea922=_0x9ecfcd+':\x20'+_0x1fc13d;throw this[_0x3250cd(0x311)][_0x3250cd(0x456)](this['instanceName']+'\x20('+this[_0x3250cd(0x401)][_0x3250cd(0x242)]+_0x3250cd(0x761)+_0x1ea922),new m(_0x1ea922);}}[a0_0x1c66d9(0x2d2)](_0x19e655){const _0x26f6d3=a0_0x1c66d9;let _0x2198ba=_0x19e655,_0x2ef34b=0x1;for(;this[_0x26f6d3(0x4c1)][_0x26f6d3(0x318)][_0x26f6d3(0x75e)](_0x1727a5=>_0x1727a5[_0x26f6d3(0x87f)]===_0x2198ba);)_0x2ef34b++,_0x2198ba=_0x19e655+'\x20('+_0x2ef34b+')';return _0x2198ba;}async['deleteFlow'](_0x16f2cf){const _0x4526b3=a0_0x1c66d9;try{if(this[_0x4526b3(0x311)][_0x4526b3(0x3ad)](this['instanceName']+'\x20('+this[_0x4526b3(0x401)]['wuid']+_0x4526b3(0x67e)+_0x16f2cf[_0x4526b3(0x70b)]+_0x4526b3(0x766)+_0x16f2cf[_0x4526b3(0x35d)]),!this[_0x4526b3(0x4c1)][_0x4526b3(0x318)]['find'](_0x5a4e9e=>_0x5a4e9e[_0x4526b3(0x70b)]===_0x16f2cf['_id']))throw this['logger'][_0x4526b3(0x3ad)](this[_0x4526b3(0x676)]+'\x20('+this[_0x4526b3(0x401)]['wuid']+_0x4526b3(0x64f)+_0x16f2cf[_0x4526b3(0x70b)]+_0x4526b3(0x8dd)),new m(_0x4526b3(0x6ca));let _0xd17ba4=await this[_0x4526b3(0x6db)][_0x4526b3(0x719)][_0x4526b3(0x44a)]({'where':{'_id':_0x16f2cf['_id']}});if(!_0xd17ba4)throw new m('Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.');if(this[_0x4526b3(0x401)]['wuid']===_0xd17ba4[_0x4526b3(0x3f5)]){this[_0x4526b3(0x311)]['verbose'](this[_0x4526b3(0x676)]+'\x20('+this[_0x4526b3(0x401)][_0x4526b3(0x242)]+'):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27'+_0x16f2cf['_id']+'\x27\x20do\x20banco\x20de\x20dados...');let _0x3cca9c=await this[_0x4526b3(0x6db)]['flow'][_0x4526b3(0x1eb)]({'where':{'_id':_0x16f2cf['_id']}});return await this['synchronizeAndMapFlows'](),_0x3cca9c;}return this['logger'][_0x4526b3(0x3ad)](this[_0x4526b3(0x676)]+'\x20('+this[_0x4526b3(0x401)][_0x4526b3(0x242)]+_0x4526b3(0x47d)+this[_0x4526b3(0x401)][_0x4526b3(0x242)]+'\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27'+_0x16f2cf[_0x4526b3(0x70b)]+'\x27...'),_0xd17ba4[_0x4526b3(0x6bc)]=(_0xd17ba4[_0x4526b3(0x6bc)]??[])[_0x4526b3(0x901)](_0xfc6250=>_0xfc6250!==this[_0x4526b3(0x401)][_0x4526b3(0x242)]),_0xd17ba4['whoCanEdit']=(_0xd17ba4[_0x4526b3(0x785)]??[])[_0x4526b3(0x901)](_0xb819aa=>_0xb819aa!==this[_0x4526b3(0x401)][_0x4526b3(0x242)]),_0xd17ba4[_0x4526b3(0x785)][_0x4526b3(0x844)]===0x0&&_0xd17ba4[_0x4526b3(0x6bc)][_0x4526b3(0x844)]>0x0&&(_0xd17ba4[_0x4526b3(0x785)][_0x4526b3(0x463)](_0xd17ba4[_0x4526b3(0x6bc)][0x0]),this[_0x4526b3(0x311)]['verbose'](this['instanceName']+'\x20('+this[_0x4526b3(0x401)][_0x4526b3(0x242)]+_0x4526b3(0x598)+_0xd17ba4[_0x4526b3(0x6bc)][0x0]+_0x4526b3(0x744)+_0x16f2cf['_id']+_0x4526b3(0x25b))),await this[_0x4526b3(0x6db)][_0x4526b3(0x719)][_0x4526b3(0x2cd)](_0xd17ba4[_0x4526b3(0x70b)],_0xd17ba4),await this['synchronizeAndMapFlows'](),{'message':'Fluxo\x20\x27'+_0x16f2cf[_0x4526b3(0x87f)]+'\x27\x20removido\x20do\x20AutomateSystem.'};}catch(_0x365a5c){return this[_0x4526b3(0x311)][_0x4526b3(0x456)](this[_0x4526b3(0x676)]+'\x20('+this['instance'][_0x4526b3(0x242)]+_0x4526b3(0x5b7)+(_0x365a5c instanceof Error?_0x365a5c[_0x4526b3(0x18c)]:JSON[_0x4526b3(0x8cd)](_0x365a5c,null,0x2))),{'message':_0x4526b3(0x7a6)+(_0x365a5c instanceof Error?_0x365a5c[_0x4526b3(0x18c)]:JSON[_0x4526b3(0x8cd)](_0x365a5c,null,0x2))};}}async[a0_0x1c66d9(0x5df)](_0x1c78b2){const _0x420b42=a0_0x1c66d9;try{if(this['logger']['info'](this[_0x420b42(0x676)]+'\x20('+this[_0x420b42(0x401)][_0x420b42(0x242)]+_0x420b42(0x6c5)+_0x1c78b2),!this[_0x420b42(0x4c1)]&&(await this[_0x420b42(0x555)](),!this[_0x420b42(0x4c1)]))return null;let _0x445c95=await this['repository'][_0x420b42(0x719)][_0x420b42(0x44a)]({'where':{'_id':_0x1c78b2}});if(!_0x445c95)throw new m(_0x420b42(0x836)+_0x1c78b2+_0x420b42(0x692));if(!(_0x445c95[_0x420b42(0x2f5)]||_0x445c95[_0x420b42(0x6bc)]?.['includes'](this[_0x420b42(0x401)][_0x420b42(0x242)])))throw new m(_0x420b42(0x214)+name+'\x27');_0x445c95[_0x420b42(0x2f5)]&&!_0x445c95['whoCanUse']?.[_0x420b42(0x1e1)](this[_0x420b42(0x401)][_0x420b42(0x242)])&&(_0x445c95[_0x420b42(0x6bc)]=[..._0x445c95['whoCanUse']??[],this[_0x420b42(0x401)]['wuid']],await this[_0x420b42(0x6db)][_0x420b42(0x719)][_0x420b42(0x2cd)](_0x445c95[_0x420b42(0x70b)],_0x445c95),this[_0x420b42(0x718)]());let _0x1c211d=this[_0x420b42(0x4c1)]?.[_0x420b42(0x7f0)][_0x420b42(0x521)](_0x12c2a0=>_0x12c2a0[_0x420b42(0x87f)]),_0x447d19=[_0x420b42(0x626),_0x420b42(0x67b),'email',_0x420b42(0x6df),_0x420b42(0x730),_0x420b42(0x20b),_0x420b42(0x476),_0x420b42(0x1a2),_0x420b42(0x57f),'telefone','atendimentoAberto'];_0x445c95[_0x420b42(0x20d)]=_0x445c95['variables'][_0x420b42(0x901)](_0x153107=>!(_0x153107[_0x420b42(0x1b1)]===_0x420b42(0x72b)||_0x153107['leadInfo'])),_0x447d19['forEach'](_0x44f7f3=>{const _0x36aa28=_0x420b42;_0x445c95['variables'][_0x36aa28(0x463)]({'folder':'leadInfo','name':_0x44f7f3,'value':'','doc':'','leadInfo':!0x0});}),_0x1c211d[_0x420b42(0x8bf)](_0x2c01d2=>{const _0x1899f1=_0x420b42;let _0xff2a1f=_0x445c95[_0x1899f1(0x20d)][_0x1899f1(0x24f)](_0x22c5bb=>_0x22c5bb['name']===_0x2c01d2);_0xff2a1f===-0x1?_0x445c95[_0x1899f1(0x20d)][_0x1899f1(0x463)]({'folder':'leadInfo','name':_0x2c01d2,'value':'','doc':'','leadInfo':!0x0}):(_0x445c95[_0x1899f1(0x20d)][_0xff2a1f][_0x1899f1(0x1b1)]=_0x1899f1(0x72b),_0x445c95[_0x1899f1(0x20d)][_0xff2a1f]['leadInfo']=!0x0);}),_0x445c95[_0x420b42(0x736)]&&_0x445c95[_0x420b42(0x736)][_0x420b42(0x844)]>0x0&&_0x445c95[_0x420b42(0x736)]['forEach'](_0x385cbf=>{const _0x3352b2=_0x420b42;_0x385cbf[_0x3352b2(0x849)]&&_0x385cbf[_0x3352b2(0x67d)]&&_0x385cbf['groupId']===_0x385cbf[_0x3352b2(0x67d)]&&(_0x385cbf[_0x3352b2(0x67d)]=null);});let _0x75b5fd=await this[_0x420b42(0x6db)][_0x420b42(0x719)][_0x420b42(0x2cd)](_0x445c95[_0x420b42(0x70b)],_0x445c95);if(!_0x75b5fd)throw new Error(_0x420b42(0x30e));return _0x75b5fd;}catch(_0x5820e7){let _0x5a088c=_0x420b42(0x52f),_0x5e38f6=_0x5820e7 instanceof Error?_0x5820e7[_0x420b42(0x18c)]:typeof _0x5820e7==_0x420b42(0x2c2)?JSON[_0x420b42(0x8cd)](_0x5820e7):_0x5820e7,_0x41ff22=_0x5a088c+':\x20'+_0x5e38f6;throw this[_0x420b42(0x311)][_0x420b42(0x456)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x420b42(0x761)+_0x41ff22),new m(_0x41ff22);}}async['allFlows'](){const _0x47e6f3=a0_0x1c66d9;try{this[_0x47e6f3(0x311)][_0x47e6f3(0x3ad)](this[_0x47e6f3(0x676)]+'\x20('+this['instance'][_0x47e6f3(0x242)]+_0x47e6f3(0x587)),await this[_0x47e6f3(0x718)]();let _0x27c769=await this[_0x47e6f3(0x6db)][_0x47e6f3(0x719)]['findAll']({'where':{'globalShow':!0x0}});return[...this[_0x47e6f3(0x4c1)][_0x47e6f3(0x318)],..._0x27c769];}catch(_0x2b34f7){return this[_0x47e6f3(0x311)][_0x47e6f3(0x456)](this[_0x47e6f3(0x676)]+'\x20('+this[_0x47e6f3(0x401)][_0x47e6f3(0x242)]+_0x47e6f3(0x538)+(_0x2b34f7 instanceof Error?_0x2b34f7['message']:JSON[_0x47e6f3(0x8cd)](_0x2b34f7,null,0x2))),{'message':_0x47e6f3(0x6e7)+(_0x2b34f7 instanceof Error?_0x2b34f7['message']:String(_0x2b34f7))};}}async['editFlow'](_0x48d266,_0x234eed){const _0x55b98b=a0_0x1c66d9;try{this[_0x55b98b(0x311)][_0x55b98b(0x3ad)](this[_0x55b98b(0x676)]+'\x20('+this[_0x55b98b(0x401)][_0x55b98b(0x242)]+'):\x20Alterando\x20fluxo...');let _0x4e4a63=this[_0x55b98b(0x4c1)][_0x55b98b(0x318)][_0x55b98b(0x705)](_0x3a15aa=>_0x3a15aa[_0x55b98b(0x70b)]===_0x48d266[_0x55b98b(0x70b)]);if(!_0x4e4a63)throw this[_0x55b98b(0x311)][_0x55b98b(0x3ad)](this['instanceName']+'\x20('+this[_0x55b98b(0x401)][_0x55b98b(0x242)]+_0x55b98b(0x64f)+_0x48d266['_id']+_0x55b98b(0x8dd)),new m(_0x55b98b(0x6ca));let _0x5c55a3=await this[_0x55b98b(0x6db)]['flow'][_0x55b98b(0x44a)]({'where':{'_id':_0x48d266[_0x55b98b(0x70b)]}});if(!_0x5c55a3||!_0x5c55a3[_0x55b98b(0x6bc)]?.[_0x55b98b(0x1e1)](this[_0x55b98b(0x401)][_0x55b98b(0x242)]))throw this['logger']['error'](this[_0x55b98b(0x676)]+'\x20('+this['instance'][_0x55b98b(0x242)]+_0x55b98b(0x529)+_0x48d266[_0x55b98b(0x70b)]+_0x55b98b(0x741)),new m(_0x55b98b(0x7c6)+_0x48d266[_0x55b98b(0x70b)]+_0x55b98b(0x741));let _0x3ef06b=this['AutomateSystem'][_0x55b98b(0x318)]['findIndex'](_0x2ca579=>_0x2ca579[_0x55b98b(0x70b)]===_0x4e4a63[_0x55b98b(0x70b)]);if(_0x3ef06b!==-0x1){let _0x567aaf=this[_0x55b98b(0x4c1)]['flows'][_0x3ef06b];if(_0x567aaf[_0x55b98b(0x87f)]=_0x48d266[_0x55b98b(0x87f)]??_0x567aaf[_0x55b98b(0x87f)],_0x567aaf[_0x55b98b(0x77c)]=_0x48d266[_0x55b98b(0x77c)]??_0x567aaf[_0x55b98b(0x77c)],_0x567aaf[_0x55b98b(0x5c1)]=_0x48d266['testingWith']??_0x567aaf[_0x55b98b(0x5c1)],_0x567aaf[_0x55b98b(0x80a)]=_0x48d266[_0x55b98b(0x1e5)]??_0x567aaf[_0x55b98b(0x80a)],_0x567aaf['minutesToClose']=_0x48d266[_0x55b98b(0x6ce)]??_0x567aaf[_0x55b98b(0x6ce)],_0x567aaf[_0x55b98b(0x74f)]=_0x48d266[_0x55b98b(0x74f)]??_0x567aaf[_0x55b98b(0x74f)],_0x48d266[_0x55b98b(0x77c)]&&this[_0x55b98b(0x4c1)][_0x55b98b(0x318)][_0x55b98b(0x8bf)]((_0x2c7390,_0x5e082e)=>{const _0x5ba00d=_0x55b98b;_0x5e082e!==_0x3ef06b&&(_0x2c7390[_0x5ba00d(0x77c)]=!0x1);}),this[_0x55b98b(0x4c1)][_0x55b98b(0x318)][_0x3ef06b]=_0x567aaf,!await this['repository']['automateSystem'][_0x55b98b(0x2de)]({'flows':this[_0x55b98b(0x4c1)][_0x55b98b(0x318)]},this[_0x55b98b(0x401)]['wuid']))throw new m(_0x55b98b(0x301));}let _0x4c6afb=[_0x55b98b(0x35d),_0x55b98b(0x4f6),'sharePass',_0x55b98b(0x53d)];for(let _0x4e9e0f of _0x4c6afb)delete _0x48d266[_0x4e9e0f];if(_0x5c55a3[_0x55b98b(0x785)]?.[_0x55b98b(0x1e1)](this[_0x55b98b(0x401)][_0x55b98b(0x242)])||(_0x48d266={'_id':_0x48d266['_id']}),_0x234eed!==Oi&&_0x48d266?.['globalShow']&&!_0x5c55a3?.[_0x55b98b(0x2f5)])throw new m(_0x55b98b(0x588));let _0x5a8eb6=new Set(_0x48d266[_0x55b98b(0x785)]??_0x5c55a3[_0x55b98b(0x785)]);_0x5a8eb6[_0x55b98b(0x887)](_0x5c55a3[_0x55b98b(0x3f5)]);let _0x39d12d=new Set(_0x48d266[_0x55b98b(0x6bc)]??_0x5c55a3[_0x55b98b(0x6bc)]??[]);_0x5a8eb6[_0x55b98b(0x8bf)](_0x55e9cd=>_0x39d12d[_0x55b98b(0x887)](_0x55e9cd)),_0x39d12d[_0x55b98b(0x887)](_0x5c55a3[_0x55b98b(0x3f5)]),this['logger'][_0x55b98b(0x3ad)](this[_0x55b98b(0x676)]+'\x20('+this['instance'][_0x55b98b(0x242)]+'):\x20whoCanEdit\x20before\x20validation:\x20'+Array['from'](_0x5a8eb6)),this[_0x55b98b(0x311)][_0x55b98b(0x3ad)](this[_0x55b98b(0x676)]+'\x20('+this[_0x55b98b(0x401)][_0x55b98b(0x242)]+'):\x20whoCanUse\x20before\x20validation:\x20'+Array['from'](_0x39d12d));let _0x1fa87a=await this[_0x55b98b(0x370)](Array[_0x55b98b(0x3de)](_0x39d12d)),_0x236d44=Array[_0x55b98b(0x3de)](_0x5a8eb6)['filter'](_0x2d6bb5=>_0x1fa87a[_0x55b98b(0x1e1)](_0x2d6bb5)),_0x177d65=Array[_0x55b98b(0x3de)](_0x39d12d)[_0x55b98b(0x901)](_0x10528b=>_0x1fa87a[_0x55b98b(0x1e1)](_0x10528b));this[_0x55b98b(0x311)][_0x55b98b(0x3ad)](this[_0x55b98b(0x676)]+'\x20('+this[_0x55b98b(0x401)]['wuid']+_0x55b98b(0x34a)+_0x236d44),this[_0x55b98b(0x311)][_0x55b98b(0x3ad)](this[_0x55b98b(0x676)]+'\x20('+this[_0x55b98b(0x401)][_0x55b98b(0x242)]+_0x55b98b(0x3bb)+_0x177d65);let _0x78e447={..._0x5c55a3,..._0x48d266,'whoCanEdit':_0x236d44,'whoCanUse':_0x177d65},_0x4429d3=await this[_0x55b98b(0x6db)][_0x55b98b(0x719)]['updateOne'](_0x5c55a3[_0x55b98b(0x70b)],_0x78e447);return await this['synchronizeAndMapFlows'](),_0x4429d3;}catch(_0x3bd369){let _0x264072=_0x55b98b(0x64e),_0x423869=_0x3bd369 instanceof Error?_0x3bd369['message']:typeof _0x3bd369==_0x55b98b(0x2c2)?JSON[_0x55b98b(0x8cd)](_0x3bd369):_0x3bd369,_0x44d112=_0x264072+':\x20'+_0x423869;throw this[_0x55b98b(0x311)][_0x55b98b(0x456)](this[_0x55b98b(0x676)]+'\x20('+this[_0x55b98b(0x401)][_0x55b98b(0x242)]+_0x55b98b(0x761)+_0x44d112),new m(_0x44d112);}}async['getValidWhatsAppNumbers'](_0x29c54e){const _0x51714b=a0_0x1c66d9;let _0x371363={'numbers':_0x29c54e};return(await this[_0x51714b(0x8f4)](_0x371363))[_0x51714b(0x901)](_0x143633=>_0x143633[_0x51714b(0x2d5)])[_0x51714b(0x521)](_0x4920eb=>_0x4920eb['jid'])['map'](_0x1dfd05=>this[_0x51714b(0x4b2)](_0x1dfd05));}[a0_0x1c66d9(0x4b2)](_0x1bbbe3){let _0x2b3d75=_0x1bbbe3['match'](/\d+/);return _0x2b3d75?_0x2b3d75[0x0]:'';}async[a0_0x1c66d9(0x1e9)](_0x1c3091){const _0x113900=a0_0x1c66d9;try{if(this[_0x113900(0x311)][_0x113900(0x3ad)](this[_0x113900(0x676)]+'\x20('+this['instance'][_0x113900(0x242)]+_0x113900(0x7e2)),!this['AutomateSystem'][_0x113900(0x318)][_0x113900(0x705)](_0x17f70a=>_0x17f70a[_0x113900(0x70b)]===_0x1c3091[_0x113900(0x70b)]))throw this[_0x113900(0x311)][_0x113900(0x3ad)](this[_0x113900(0x676)]+'\x20('+this[_0x113900(0x401)][_0x113900(0x242)]+_0x113900(0x64f)+_0x1c3091[_0x113900(0x70b)]+'\x27\x20não\x20encontrado'),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x17bf51=await this[_0x113900(0x6db)][_0x113900(0x719)][_0x113900(0x44a)]({'where':{'_id':_0x1c3091['_id']}});if(!_0x17bf51||!_0x17bf51[_0x113900(0x6bc)]?.[_0x113900(0x1e1)](this['instance']['wuid']))throw this[_0x113900(0x311)][_0x113900(0x456)](this[_0x113900(0x676)]+'\x20('+this['instance'][_0x113900(0x242)]+_0x113900(0x529)+_0x1c3091['_id']+_0x113900(0x741)),new m('Flow\x20\x27'+_0x1c3091[_0x113900(0x70b)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x17bf51[_0x113900(0x785)]?.[_0x113900(0x1e1)](this[_0x113900(0x401)][_0x113900(0x242)]))throw new m(_0x113900(0x5a0));let {block:_0x3d1e1e}=_0x1c3091;_0x3d1e1e?.[_0x113900(0x5ed)]?this['copyBlock'](_0x17bf51,_0x1c3091):_0x3d1e1e?.[_0x113900(0x2a3)]?this[_0x113900(0x66d)](_0x17bf51,_0x1c3091):_0x3d1e1e[_0x113900(0x70b)]?await this['updateBlock'](_0x17bf51,_0x1c3091):this['addBlock'](_0x17bf51,_0x1c3091);let _0x3e79c4=await this[_0x113900(0x6db)][_0x113900(0x719)][_0x113900(0x2cd)](_0x17bf51['_id'],_0x17bf51);if(!_0x3e79c4)throw new Error(_0x113900(0x30e));return _0x3e79c4;}catch(_0x3fcb66){this['throwAndLogError'](_0x113900(0x207)+_0x3fcb66[_0x113900(0x18c)]);}}async[a0_0x1c66d9(0x2a5)](_0x1eb763,_0x154a8b){const _0xdd982e=a0_0x1c66d9;let _0x1f71b4=_0x154a8b[_0xdd982e(0x516)][_0xdd982e(0x70b)],_0x38820b=_0x1eb763[_0xdd982e(0x736)][_0xdd982e(0x705)](_0xe6e07=>_0xe6e07[_0xdd982e(0x70b)][_0xdd982e(0x37f)]()===_0x1f71b4);if(!_0x38820b){this[_0xdd982e(0x311)]['error'](this['instanceName']+'\x20('+this[_0xdd982e(0x401)][_0xdd982e(0x242)]+_0xdd982e(0x71f)+_0x1f71b4+_0xdd982e(0x1b7));return;}this['logger']['verbose'](this[_0xdd982e(0x676)]+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON['stringify'](_0x38820b));let _0x5ef58f=JSON[_0xdd982e(0x860)](JSON['stringify'](_0x38820b));_0x5ef58f['_id']=new he['default'][(_0xdd982e(0x40a))][(_0xdd982e(0x1d5))](),this[_0xdd982e(0x311)][_0xdd982e(0x3ad)](this[_0xdd982e(0x676)]+'\x20('+this[_0xdd982e(0x401)][_0xdd982e(0x242)]+_0xdd982e(0x7f6)+JSON[_0xdd982e(0x8cd)](_0x5ef58f)),_0x1eb763[_0xdd982e(0x736)][_0xdd982e(0x463)](_0x5ef58f),this['reorderBlocks'](_0x1eb763[_0xdd982e(0x736)],_0x5ef58f[_0xdd982e(0x849)]);}[a0_0x1c66d9(0x8d8)](_0x38650a){const _0x75abb1=a0_0x1c66d9;throw this[_0x75abb1(0x311)]['error'](this[_0x75abb1(0x676)]+'\x20('+this[_0x75abb1(0x401)][_0x75abb1(0x242)]+_0x75abb1(0x761)+_0x38650a),new m(_0x38650a);}[a0_0x1c66d9(0x66d)](_0x11b783,_0xc21beb){const _0x3a2502=a0_0x1c66d9;let {block:_0xf9f183}=_0xc21beb;if(_0xf9f183[_0x3a2502(0x640)]===_0x3a2502(0x471)){this[_0x3a2502(0x8d8)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0xf9f183[_0x3a2502(0x70b)]){this[_0x3a2502(0x8d8)](_0x3a2502(0x7e0));return;}let _0x130fc3=_0x11b783[_0x3a2502(0x736)]['find'](_0x52f42c=>_0x52f42c[_0x3a2502(0x70b)][_0x3a2502(0x37f)]()===_0xc21beb[_0x3a2502(0x516)][_0x3a2502(0x70b)][_0x3a2502(0x37f)]());if(!_0x130fc3){this[_0x3a2502(0x8d8)](_0x3a2502(0x57d)+_0xf9f183[_0x3a2502(0x70b)]+_0x3a2502(0x3d3));return;}_0x11b783[_0x3a2502(0x736)]=_0x11b783[_0x3a2502(0x736)]['filter'](_0x47dc39=>_0x47dc39[_0x3a2502(0x70b)][_0x3a2502(0x37f)]()!==_0xc21beb['block'][_0x3a2502(0x70b)][_0x3a2502(0x37f)]()),_0x11b783['conditions']=_0x11b783['conditions']['filter'](_0x5beffc=>_0x5beffc[_0x3a2502(0x8a3)]!==_0xf9f183[_0x3a2502(0x70b)][_0x3a2502(0x37f)]()),_0x11b783[_0x3a2502(0x2cb)]=_0x11b783[_0x3a2502(0x2cb)][_0x3a2502(0x901)](_0x585936=>_0x585936[_0x3a2502(0x8a3)]!==_0xf9f183[_0x3a2502(0x70b)][_0x3a2502(0x37f)]()),_0x11b783[_0x3a2502(0x3a4)]=_0x11b783[_0x3a2502(0x3a4)][_0x3a2502(0x901)](_0x31693c=>_0x31693c['blockId']!==_0xf9f183[_0x3a2502(0x70b)][_0x3a2502(0x37f)]()),this[_0x3a2502(0x514)](_0x11b783[_0x3a2502(0x736)],_0x130fc3[_0x3a2502(0x849)]);}async['updateBlock'](_0x3b3c0f,_0x16d88f){const _0x3b36a1=a0_0x1c66d9;let _0x309e86=_0x3b3c0f['blocks'][_0x3b36a1(0x24f)](_0xee0bf=>_0xee0bf['_id']['toString']()===_0x16d88f[_0x3b36a1(0x516)]['_id']['toString']());if(this['logger']['verbose'](this[_0x3b36a1(0x676)]+'\x20('+this[_0x3b36a1(0x401)][_0x3b36a1(0x242)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x309e86),_0x309e86===-0x1){this[_0x3b36a1(0x311)][_0x3b36a1(0x3ad)](_0x3b36a1(0x57d)+_0x16d88f[_0x3b36a1(0x516)][_0x3b36a1(0x70b)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x3b3c0f[_0x3b36a1(0x736)][_0x309e86]['type']==='start'){let _0x5ac7d4=Object[_0x3b36a1(0x4cb)](_0x16d88f[_0x3b36a1(0x516)]);if(_0x5ac7d4[_0x3b36a1(0x844)]>0x2||_0x5ac7d4[_0x3b36a1(0x844)]===0x2&&!_0x5ac7d4['includes'](_0x3b36a1(0x67d))){this[_0x3b36a1(0x8d8)](_0x3b36a1(0x8fb));return;}}let _0x5b5960=_0x3b3c0f[_0x3b36a1(0x736)][_0x309e86][_0x3b36a1(0x849)];for(let _0x3a57fd in _0x16d88f[_0x3b36a1(0x516)])_0x16d88f[_0x3b36a1(0x516)][_0x3b36a1(0x73a)](_0x3a57fd)&&(_0x3b3c0f[_0x3b36a1(0x736)][_0x309e86][_0x3a57fd]=_0x16d88f[_0x3b36a1(0x516)][_0x3a57fd]);if(this[_0x3b36a1(0x311)][_0x3b36a1(0x3ad)](this[_0x3b36a1(0x676)]+'\x20('+this[_0x3b36a1(0x401)]['wuid']+_0x3b36a1(0x3ed)+JSON[_0x3b36a1(0x8cd)](_0x3b3c0f[_0x3b36a1(0x736)][_0x309e86])),_0x3b3c0f[_0x3b36a1(0x736)][_0x309e86][_0x3b36a1(0x4a6)]&&_0x3b36a1(0x1e7)in _0x3b3c0f[_0x3b36a1(0x736)][_0x309e86][_0x3b36a1(0x4a6)]){this[_0x3b36a1(0x311)][_0x3b36a1(0x3ad)](this[_0x3b36a1(0x676)]+'\x20('+this['instance'][_0x3b36a1(0x242)]+_0x3b36a1(0x6e2));let _0x45b2a1=JSON[_0x3b36a1(0x8cd)](_0x3b3c0f['blocks'][_0x309e86][_0x3b36a1(0x4a6)]['header'],null,0x1);_0x45b2a1['length']>0x2&&(_0x45b2a1=_0x45b2a1[_0x3b36a1(0x239)](0x1,_0x45b2a1[_0x3b36a1(0x844)]-0x1)[_0x3b36a1(0x5e0)]()),_0x3b3c0f[_0x3b36a1(0x736)][_0x309e86][_0x3b36a1(0x4a6)][_0x3b36a1(0x55b)]=_0x45b2a1;}if(_0x3b3c0f['blocks'][_0x309e86][_0x3b36a1(0x4a6)]&&_0x3b36a1(0x452)in _0x3b3c0f[_0x3b36a1(0x736)][_0x309e86]['apirequest']&&!(_0x3b36a1(0x451)in _0x3b3c0f[_0x3b36a1(0x736)][_0x309e86][_0x3b36a1(0x4a6)])){this['logger'][_0x3b36a1(0x3ad)](this[_0x3b36a1(0x676)]+'\x20('+this[_0x3b36a1(0x401)][_0x3b36a1(0x242)]+_0x3b36a1(0x8a7)),_0x3b3c0f[_0x3b36a1(0x736)][_0x309e86][_0x3b36a1(0x4a6)][_0x3b36a1(0x6c2)]=!0x1;let _0x4556a1=JSON[_0x3b36a1(0x8cd)](_0x3b3c0f[_0x3b36a1(0x736)][_0x309e86]['apirequest']['body'],null,0x2);_0x3b3c0f['blocks'][_0x309e86][_0x3b36a1(0x4a6)][_0x3b36a1(0x451)]=_0x4556a1;}if(_0x3b3c0f[_0x3b36a1(0x736)][_0x309e86][_0x3b36a1(0x4a6)]&&_0x3b36a1(0x451)in _0x3b3c0f[_0x3b36a1(0x736)][_0x309e86][_0x3b36a1(0x4a6)]){_0x3b3c0f[_0x3b36a1(0x736)][_0x309e86][_0x3b36a1(0x4a6)]['bodyStringErrorParse']=!0x1;let _0x596b9a=_0x3b3c0f['blocks'][_0x309e86][_0x3b36a1(0x4a6)][_0x3b36a1(0x451)],_0x4eb7eb=this[_0x3b36a1(0x539)](_0x596b9a);_0x3b3c0f[_0x3b36a1(0x736)][_0x309e86][_0x3b36a1(0x4a6)][_0x3b36a1(0x451)]=_0x4eb7eb[_0x3b36a1(0x5a7)],_0x3b3c0f[_0x3b36a1(0x736)][_0x309e86][_0x3b36a1(0x4a6)][_0x3b36a1(0x6c2)]=_0x4eb7eb[_0x3b36a1(0x456)];}let _0x40f29b=_0x3b3c0f[_0x3b36a1(0x736)][_0x309e86][_0x3b36a1(0x849)];_0x5b5960!==_0x40f29b?(this[_0x3b36a1(0x514)](_0x3b3c0f[_0x3b36a1(0x736)],_0x5b5960),this[_0x3b36a1(0x514)](_0x3b3c0f[_0x3b36a1(0x736)],_0x40f29b)):this[_0x3b36a1(0x514)](_0x3b3c0f[_0x3b36a1(0x736)],_0x5b5960);}['beautifyWithPlaceholders'](_0xdef597){const _0x4caa2a=a0_0x1c66d9;let _0x50fdb4='\u205f',_0x248f14=!0x1,_0x2b8c04='';for(let _0x193ed6=0x0;_0x193ed6<_0xdef597['length'];_0x193ed6++){let _0x215c37=_0xdef597[_0x193ed6];_0x215c37==='\x22'&&(_0x193ed6===0x0||_0xdef597[_0x193ed6-0x1]!=='\x5c')&&(_0x248f14=!_0x248f14),!(!_0x248f14&&(_0x215c37==='\x0a'||_0x215c37==='\x20'||_0x215c37===_0x50fdb4))&&(_0x2b8c04+=_0x215c37);}let _0x4f7fb5={},_0x2b0c9d=9876543210.1234,_0x239930=_0x2b8c04[_0x4caa2a(0x737)](/\{\{([^}]+)\}\}/g,_0xc0df99=>{let _0x459b4a=_0xc0df99,_0x22688f=''+_0x2b0c9d;return _0x4f7fb5[_0x22688f]=_0x459b4a,_0x2b0c9d+=0.0001,_0x22688f;}),_0xafa887='',_0xf7559e=!0x1;try{let _0x434bcb=JSON['parse'](_0x239930);_0xafa887=JSON[_0x4caa2a(0x8cd)](_0x434bcb,null,0x2),_0xafa887=_0xafa887[_0x4caa2a(0x737)](/\n( +)/g,(_0xd360e9,_0x5021a7)=>{const _0x185002=_0x4caa2a;let _0x44aa45=_0x5021a7[_0x185002(0x844)];return'\x0a'+_0x50fdb4['repeat'](_0x44aa45*0x2);}),_0xafa887=_0xafa887['replace'](/(\d{10,}\.\d+)/g,_0x170323=>_0x4f7fb5[_0x170323]||_0x170323);}catch(_0xdb4099){this[_0x4caa2a(0x311)][_0x4caa2a(0x456)](_0x4caa2a(0x6c8)+_0xdb4099),_0xafa887=_0xdef597,_0xf7559e=!0x0;}return{'result':_0xafa887,'error':_0xf7559e};}[a0_0x1c66d9(0x180)](_0x246992,_0x2408ce){const _0xb2a7=a0_0x1c66d9;if(_0x2408ce[_0xb2a7(0x516)][_0xb2a7(0x640)]==='start'){this[_0xb2a7(0x8d8)](_0xb2a7(0x379));return;}if(_0x2408ce[_0xb2a7(0x516)][_0xb2a7(0x4a6)]&&_0xb2a7(0x1e7)in _0x2408ce['block'][_0xb2a7(0x4a6)]){this[_0xb2a7(0x311)][_0xb2a7(0x3ad)](this[_0xb2a7(0x676)]+'\x20('+this['instance'][_0xb2a7(0x242)]+_0xb2a7(0x6e2));let _0x33510b=JSON[_0xb2a7(0x8cd)](_0x2408ce[_0xb2a7(0x516)][_0xb2a7(0x4a6)][_0xb2a7(0x1e7)],null,0x1);_0x33510b[_0xb2a7(0x844)]>0x2&&(_0x33510b=_0x33510b['substring'](0x1,_0x33510b[_0xb2a7(0x844)]-0x1)[_0xb2a7(0x5e0)]()),_0x2408ce[_0xb2a7(0x516)]['apirequest']['headerString']=_0x33510b;}_0x2408ce['block'][_0xb2a7(0x4a6)]&&_0xb2a7(0x452)in _0x2408ce['block'][_0xb2a7(0x4a6)]&&(this[_0xb2a7(0x311)][_0xb2a7(0x3ad)](this['instanceName']+'\x20('+this[_0xb2a7(0x401)][_0xb2a7(0x242)]+_0xb2a7(0x8a7)),_0x2408ce['block'][_0xb2a7(0x4a6)][_0xb2a7(0x451)]=JSON['stringify'](_0x2408ce[_0xb2a7(0x516)][_0xb2a7(0x4a6)]['body'],null,0x1)['trim']()),_0x246992[_0xb2a7(0x736)][_0xb2a7(0x463)](_0x2408ce[_0xb2a7(0x516)]),this[_0xb2a7(0x514)](_0x246992[_0xb2a7(0x736)],_0x2408ce[_0xb2a7(0x516)]['groupId']);}[a0_0x1c66d9(0x514)](_0x2d7603,_0x466692){const _0x2d4d28=a0_0x1c66d9;let _0x18dedf=_0x2d7603[_0x2d4d28(0x901)](_0x4b609b=>_0x4b609b[_0x2d4d28(0x849)]===_0x466692);_0x18dedf[_0x2d4d28(0x3db)]((_0x227b06,_0xdb61df)=>_0x227b06[_0x2d4d28(0x74d)]-_0xdb61df[_0x2d4d28(0x74d)]),_0x18dedf[_0x2d4d28(0x8bf)]((_0x1d39db,_0x1d3e6a)=>_0x1d39db['order']=_0x1d3e6a+0x1);}async['editFlowReply'](_0x5697f3){const _0x27eaff=a0_0x1c66d9;try{if(this[_0x27eaff(0x311)]['verbose'](this[_0x27eaff(0x676)]+'\x20('+this['instance'][_0x27eaff(0x242)]+'):\x20Editando\x20replyOption...'),!_0x5697f3||!_0x5697f3[_0x27eaff(0x6ba)]){this[_0x27eaff(0x8d8)](_0x27eaff(0x483));return;}if(!this[_0x27eaff(0x4c1)][_0x27eaff(0x318)][_0x27eaff(0x705)](_0x153c4d=>_0x153c4d[_0x27eaff(0x70b)]===_0x5697f3['_id']))throw this['logger'][_0x27eaff(0x3ad)](this[_0x27eaff(0x676)]+'\x20('+this['instance'][_0x27eaff(0x242)]+_0x27eaff(0x64f)+_0x5697f3[_0x27eaff(0x70b)]+_0x27eaff(0x8dd)),new m(_0x27eaff(0x6ca));let _0x443eb1=await this[_0x27eaff(0x6db)]['flow'][_0x27eaff(0x44a)]({'where':{'_id':_0x5697f3[_0x27eaff(0x70b)]}});if(!_0x443eb1||!_0x443eb1[_0x27eaff(0x6bc)]?.['includes'](this['instance'][_0x27eaff(0x242)]))throw this[_0x27eaff(0x311)][_0x27eaff(0x456)](this['instanceName']+'\x20('+this['instance'][_0x27eaff(0x242)]+'):\x20Flow\x20\x27'+_0x5697f3[_0x27eaff(0x70b)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x5697f3[_0x27eaff(0x70b)]+_0x27eaff(0x741));if(!_0x443eb1['whoCanEdit']?.[_0x27eaff(0x1e1)](this[_0x27eaff(0x401)]['wuid']))throw new m(_0x27eaff(0x5a0));let {replyOption:_0xa0aa26}=_0x5697f3;_0xa0aa26?.[_0x27eaff(0x2a3)]?(this[_0x27eaff(0x298)](_0x443eb1,_0x5697f3),this['reorderReplyOptions'](_0x443eb1[_0x27eaff(0x3a4)],_0x5697f3[_0x27eaff(0x6ba)][_0x27eaff(0x8a3)])):_0xa0aa26[_0x27eaff(0x70b)]?(await this[_0x27eaff(0x4b0)](_0x443eb1,_0x5697f3),this[_0x27eaff(0x420)](_0x443eb1[_0x27eaff(0x3a4)],_0x5697f3['replyOption'][_0x27eaff(0x8a3)])):(this[_0x27eaff(0x6bd)](_0x443eb1,_0x5697f3),this[_0x27eaff(0x420)](_0x443eb1['replyOptions'],_0x5697f3[_0x27eaff(0x6ba)][_0x27eaff(0x8a3)]));let _0x570897=await this[_0x27eaff(0x6db)][_0x27eaff(0x719)][_0x27eaff(0x2cd)](_0x443eb1[_0x27eaff(0x70b)],_0x443eb1);if(!_0x570897)throw new Error(_0x27eaff(0x30e));return _0x570897;}catch(_0xb50b2e){this[_0x27eaff(0x8d8)](_0x27eaff(0x5c8)+_0xb50b2e);}}[a0_0x1c66d9(0x420)](_0xc66063,_0x1cab01){const _0x1b45cf=a0_0x1c66d9;_0xc66063['forEach'](_0x4b9c72=>{const _0x48b2a7=a0_0x24da;_0x4b9c72[_0x48b2a7(0x8a3)]===_0x1cab01&&_0x4b9c72['order']===void 0x0&&(_0x4b9c72[_0x48b2a7(0x74d)]=0x270f);});let _0x429d92=_0xc66063[_0x1b45cf(0x901)](_0x256787=>_0x256787[_0x1b45cf(0x8a3)]===_0x1cab01);_0x429d92['sort']((_0x1b7980,_0x567e5c)=>_0x1b7980[_0x1b45cf(0x74d)]-_0x567e5c[_0x1b45cf(0x74d)]),_0x429d92[_0x1b45cf(0x8bf)]((_0x28f5fb,_0x3928b9)=>{const _0x43966a=_0x1b45cf;_0x28f5fb[_0x43966a(0x74d)]=_0x3928b9+0x1;}),_0xc66063[_0x1b45cf(0x8bf)](_0x286567=>{const _0xaa4749=_0x1b45cf;if(_0x286567[_0xaa4749(0x8a3)]===_0x1cab01){let _0x2b86bb=_0x429d92['find'](_0x302e9b=>_0x302e9b[_0xaa4749(0x70b)]&&_0x286567[_0xaa4749(0x70b)]&&_0x302e9b[_0xaa4749(0x70b)][_0xaa4749(0x37f)]()===_0x286567[_0xaa4749(0x70b)][_0xaa4749(0x37f)]());_0x2b86bb&&(_0x286567[_0xaa4749(0x74d)]=_0x2b86bb['order']);}});}[a0_0x1c66d9(0x298)](_0x22beb4,_0x272db2){const _0x3fc932=a0_0x1c66d9;let {replyOption:_0x4927fb}=_0x272db2;if(!_0x4927fb[_0x3fc932(0x70b)]){this[_0x3fc932(0x8d8)]('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x22beb4['replyOptions'][_0x3fc932(0x705)](_0x4d638a=>_0x4d638a['_id'][_0x3fc932(0x37f)]()===_0x272db2[_0x3fc932(0x6ba)][_0x3fc932(0x70b)][_0x3fc932(0x37f)]())){this[_0x3fc932(0x8d8)](_0x3fc932(0x4b4)+_0x4927fb['_id']+_0x3fc932(0x3d3));return;}_0x22beb4[_0x3fc932(0x3a4)]=_0x22beb4[_0x3fc932(0x3a4)][_0x3fc932(0x901)](_0x423a58=>_0x423a58[_0x3fc932(0x70b)][_0x3fc932(0x37f)]()!==_0x272db2[_0x3fc932(0x6ba)][_0x3fc932(0x70b)][_0x3fc932(0x37f)]());}async['updateReplyOption'](_0x540d76,_0x5df04e){const _0x5ca79b=a0_0x1c66d9;let _0x268050=_0x540d76[_0x5ca79b(0x3a4)][_0x5ca79b(0x24f)](_0xceb46=>_0xceb46['_id'][_0x5ca79b(0x37f)]()===_0x5df04e[_0x5ca79b(0x6ba)][_0x5ca79b(0x70b)][_0x5ca79b(0x37f)]());if(_0x268050===-0x1){this['throwAndLogError']('ReplyOption\x20com\x20ID\x20'+_0x5df04e[_0x5ca79b(0x6ba)]['_id']+_0x5ca79b(0x4d1));return;}for(let _0x235732 in _0x5df04e['replyOption'])_0x5df04e['replyOption'][_0x5ca79b(0x73a)](_0x235732)&&(_0x540d76['replyOptions'][_0x268050][_0x235732]=_0x5df04e[_0x5ca79b(0x6ba)][_0x235732]);}['addReplyOption'](_0x52011a,_0x249591){const _0x338830=a0_0x1c66d9;_0x52011a[_0x338830(0x3a4)][_0x338830(0x463)](_0x249591[_0x338830(0x6ba)]);}async[a0_0x1c66d9(0x37a)](_0x28a824){const _0x257c3c=a0_0x1c66d9;this[_0x257c3c(0x311)][_0x257c3c(0x3ad)](this[_0x257c3c(0x676)]+'\x20('+this['instance']['wuid']+_0x257c3c(0x3df)+JSON['stringify'](_0x28a824,null,0x2));try{if(this[_0x257c3c(0x311)][_0x257c3c(0x3ad)](this[_0x257c3c(0x676)]+'\x20('+this[_0x257c3c(0x401)][_0x257c3c(0x242)]+_0x257c3c(0x230)),!this['AutomateSystem']['flows'][_0x257c3c(0x705)](_0x179aa4=>_0x179aa4[_0x257c3c(0x70b)]===_0x28a824[_0x257c3c(0x70b)]))throw this[_0x257c3c(0x311)]['verbose'](this['instanceName']+'\x20('+this[_0x257c3c(0x401)]['wuid']+_0x257c3c(0x64f)+_0x28a824[_0x257c3c(0x70b)]+_0x257c3c(0x8dd)),new m(_0x257c3c(0x6ca));let _0x27a60c=await this[_0x257c3c(0x6db)][_0x257c3c(0x719)][_0x257c3c(0x44a)]({'where':{'_id':_0x28a824[_0x257c3c(0x70b)]}});if(!_0x27a60c||!_0x27a60c[_0x257c3c(0x6bc)]?.['includes'](this[_0x257c3c(0x401)][_0x257c3c(0x242)]))throw this[_0x257c3c(0x311)]['error'](this[_0x257c3c(0x676)]+'\x20('+this[_0x257c3c(0x401)][_0x257c3c(0x242)]+_0x257c3c(0x529)+_0x28a824['_id']+_0x257c3c(0x741)),new m('Flow\x20\x27'+_0x28a824[_0x257c3c(0x70b)]+_0x257c3c(0x741));if(!_0x27a60c['whoCanEdit']?.[_0x257c3c(0x1e1)](this[_0x257c3c(0x401)]['wuid']))throw new m(_0x257c3c(0x5a0));if(_0x28a824[_0x257c3c(0x356)]&&_0x28a824[_0x257c3c(0x356)]?.[_0x257c3c(0x2a3)]===!0x0){if(this[_0x257c3c(0x311)][_0x257c3c(0x3ad)](this['instanceName']+'\x20('+this[_0x257c3c(0x401)][_0x257c3c(0x242)]+_0x257c3c(0x5e4)),_0x28a824[_0x257c3c(0x356)][_0x257c3c(0x77c)]===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x27a60c[_0x257c3c(0x736)][_0x257c3c(0x75e)](_0x3acea6=>_0x3acea6[_0x257c3c(0x849)][_0x257c3c(0x37f)]()===_0x28a824[_0x257c3c(0x356)][_0x257c3c(0x70b)]))return this['logger'][_0x257c3c(0x3ad)](this['instanceName']+'\x20('+this[_0x257c3c(0x401)][_0x257c3c(0x242)]+_0x257c3c(0x35b)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x27a60c['groups']=_0x27a60c[_0x257c3c(0x1f4)][_0x257c3c(0x901)](_0x5beadc=>_0x5beadc[_0x257c3c(0x70b)][_0x257c3c(0x37f)]()!==_0x28a824[_0x257c3c(0x356)]['_id']);}else{if(_0x28a824[_0x257c3c(0x356)]){if(_0x28a824[_0x257c3c(0x356)][_0x257c3c(0x77c)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x28a824[_0x257c3c(0x356)][_0x257c3c(0x70b)]){let _0x5bd010=_0x27a60c[_0x257c3c(0x1f4)][_0x257c3c(0x705)](_0x503c99=>_0x503c99[_0x257c3c(0x70b)][_0x257c3c(0x37f)]()===_0x28a824[_0x257c3c(0x356)][_0x257c3c(0x70b)]);_0x5bd010&&(_0x28a824[_0x257c3c(0x356)]['x']<0x0&&(_0x28a824['group']['x']=0x0),_0x28a824[_0x257c3c(0x356)]['y']<0x0&&(_0x28a824[_0x257c3c(0x356)]['y']=0x0),Object[_0x257c3c(0x1c5)](_0x5bd010,_0x28a824['group']));}else _0x27a60c['groups'][_0x257c3c(0x463)](_0x28a824[_0x257c3c(0x356)]);}}let _0x34d2bb=await this['repository'][_0x257c3c(0x719)][_0x257c3c(0x2cd)](_0x27a60c[_0x257c3c(0x70b)],_0x27a60c);if(!_0x34d2bb)throw new Error(_0x257c3c(0x30e));return _0x34d2bb;}catch(_0x39e2bf){let _0x37f2a4=_0x257c3c(0x794),_0x1cb73a=_0x39e2bf instanceof Error?_0x39e2bf[_0x257c3c(0x18c)]:typeof _0x39e2bf=='object'?JSON[_0x257c3c(0x8cd)](_0x39e2bf):_0x39e2bf,_0x3cc9d9=_0x37f2a4+':\x20'+_0x1cb73a;throw this[_0x257c3c(0x311)][_0x257c3c(0x456)](this[_0x257c3c(0x676)]+'\x20('+this[_0x257c3c(0x401)][_0x257c3c(0x242)]+_0x257c3c(0x761)+_0x3cc9d9),new m(_0x3cc9d9);}}async[a0_0x1c66d9(0x4c5)](_0x3597d7){const _0x47bafc=a0_0x1c66d9;try{if(this[_0x47bafc(0x311)]['verbose'](this['instanceName']+'\x20('+this[_0x47bafc(0x401)]['wuid']+'):\x20Editando\x20condição\x20do\x20fluxo...'),!this['AutomateSystem']['flows'][_0x47bafc(0x705)](_0x3ae6bb=>_0x3ae6bb[_0x47bafc(0x70b)]===_0x3597d7[_0x47bafc(0x70b)]))throw this[_0x47bafc(0x311)][_0x47bafc(0x3ad)](this[_0x47bafc(0x676)]+'\x20('+this[_0x47bafc(0x401)]['wuid']+_0x47bafc(0x64f)+_0x3597d7['_id']+_0x47bafc(0x8dd)),new m(_0x47bafc(0x6ca));let _0x4f1dc1=await this[_0x47bafc(0x6db)][_0x47bafc(0x719)][_0x47bafc(0x44a)]({'where':{'_id':_0x3597d7[_0x47bafc(0x70b)]}});if(!_0x4f1dc1||!_0x4f1dc1[_0x47bafc(0x6bc)]?.[_0x47bafc(0x1e1)](this[_0x47bafc(0x401)][_0x47bafc(0x242)]))throw this[_0x47bafc(0x311)]['error'](this[_0x47bafc(0x676)]+'\x20('+this['instance']['wuid']+_0x47bafc(0x529)+_0x3597d7[_0x47bafc(0x70b)]+_0x47bafc(0x741)),new m(_0x47bafc(0x7c6)+_0x3597d7[_0x47bafc(0x70b)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x4f1dc1[_0x47bafc(0x785)]?.[_0x47bafc(0x1e1)](this[_0x47bafc(0x401)]['wuid']))throw new m(_0x47bafc(0x5a0));let _0x531c96=!0x1;if(_0x3597d7['condition']?.['delete']===!0x0)_0x4f1dc1[_0x47bafc(0x5c5)]=_0x4f1dc1[_0x47bafc(0x5c5)][_0x47bafc(0x901)](_0x24b561=>_0x24b561&&_0x3597d7[_0x47bafc(0x5b6)]&&_0x24b561[_0x47bafc(0x70b)]&&_0x3597d7['condition'][_0x47bafc(0x70b)]&&_0x24b561[_0x47bafc(0x70b)][_0x47bafc(0x37f)]()!==_0x3597d7[_0x47bafc(0x5b6)]['_id'][_0x47bafc(0x37f)]()),_0x531c96=!0x0;else{let _0x5d4c64=_0x4f1dc1[_0x47bafc(0x5c5)][_0x47bafc(0x705)](_0x2bc13a=>_0x2bc13a&&_0x3597d7[_0x47bafc(0x5b6)]&&_0x2bc13a[_0x47bafc(0x70b)]&&_0x3597d7[_0x47bafc(0x5b6)][_0x47bafc(0x70b)]&&_0x2bc13a[_0x47bafc(0x70b)][_0x47bafc(0x37f)]()===_0x3597d7[_0x47bafc(0x5b6)][_0x47bafc(0x70b)]['toString']());_0x5d4c64?(_0x531c96=_0x5d4c64[_0x47bafc(0x74d)]!==_0x3597d7[_0x47bafc(0x5b6)]['order'],Object[_0x47bafc(0x1c5)](_0x5d4c64,_0x3597d7[_0x47bafc(0x5b6)])):(_0x4f1dc1[_0x47bafc(0x5c5)][_0x47bafc(0x463)](_0x3597d7[_0x47bafc(0x5b6)]),_0x531c96=!0x0);}if(_0x531c96){_0x4f1dc1[_0x47bafc(0x5c5)][_0x47bafc(0x3db)]((_0x59ad8c,_0x546dda)=>_0x59ad8c['order']>_0x546dda['order']?0x1:_0x546dda[_0x47bafc(0x74d)]>_0x59ad8c[_0x47bafc(0x74d)]?-0x1:0x0);for(let _0x176c0a=0x0;_0x176c0a<_0x4f1dc1[_0x47bafc(0x5c5)][_0x47bafc(0x844)];_0x176c0a++)_0x4f1dc1[_0x47bafc(0x5c5)][_0x176c0a][_0x47bafc(0x74d)]=_0x176c0a+0x1;_0x4f1dc1[_0x47bafc(0x5c5)][_0x47bafc(0x844)]>0x0&&(_0x4f1dc1[_0x47bafc(0x5c5)][0x0][_0x47bafc(0x80d)]='and');}let _0x26669a=await this[_0x47bafc(0x6db)][_0x47bafc(0x719)][_0x47bafc(0x2cd)](_0x4f1dc1[_0x47bafc(0x70b)],_0x4f1dc1);if(!_0x26669a)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x26669a;}catch(_0x5350ec){let _0x3b90f3=_0x47bafc(0x42b),_0x1a73b6=_0x5350ec instanceof Error?_0x5350ec[_0x47bafc(0x18c)]:typeof _0x5350ec==_0x47bafc(0x2c2)?JSON['stringify'](_0x5350ec):_0x5350ec,_0x7af185=_0x3b90f3+':\x20'+_0x1a73b6;throw this[_0x47bafc(0x311)][_0x47bafc(0x456)](this['instanceName']+'\x20('+this['instance'][_0x47bafc(0x242)]+'):\x20'+_0x7af185),new m(_0x7af185);}}async[a0_0x1c66d9(0x2e5)](_0x333662){const _0x51da31=a0_0x1c66d9;try{if(this[_0x51da31(0x311)][_0x51da31(0x3ad)](this[_0x51da31(0x676)]+'\x20('+this[_0x51da31(0x401)][_0x51da31(0x242)]+_0x51da31(0x5e2)),!this['AutomateSystem']['flows']['find'](_0x1b55a6=>_0x1b55a6[_0x51da31(0x70b)]===_0x333662['_id']))throw this[_0x51da31(0x311)][_0x51da31(0x3ad)](this[_0x51da31(0x676)]+'\x20('+this[_0x51da31(0x401)][_0x51da31(0x242)]+'):\x20Fluxo\x20\x27'+_0x333662[_0x51da31(0x70b)]+_0x51da31(0x8dd)),new m(_0x51da31(0x6ca));let _0x383225=await this[_0x51da31(0x6db)][_0x51da31(0x719)][_0x51da31(0x44a)]({'where':{'_id':_0x333662[_0x51da31(0x70b)]}});if(!_0x383225||!_0x383225[_0x51da31(0x6bc)]?.[_0x51da31(0x1e1)](this[_0x51da31(0x401)][_0x51da31(0x242)]))throw this[_0x51da31(0x311)][_0x51da31(0x456)](this['instanceName']+'\x20('+this[_0x51da31(0x401)][_0x51da31(0x242)]+'):\x20Flow\x20\x27'+_0x333662['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x51da31(0x7c6)+_0x333662['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x383225[_0x51da31(0x785)]?.[_0x51da31(0x1e1)](this[_0x51da31(0x401)][_0x51da31(0x242)]))throw new m(_0x51da31(0x5a0));let _0x47c356=!0x1;if(_0x333662[_0x51da31(0x203)]?.['delete']===!0x0)_0x383225[_0x51da31(0x2cb)]=_0x383225[_0x51da31(0x2cb)][_0x51da31(0x901)](_0xa958c6=>_0xa958c6&&_0x333662[_0x51da31(0x203)]&&_0xa958c6[_0x51da31(0x70b)]&&_0x333662[_0x51da31(0x203)][_0x51da31(0x70b)]&&_0xa958c6[_0x51da31(0x70b)][_0x51da31(0x37f)]()!==_0x333662[_0x51da31(0x203)][_0x51da31(0x70b)][_0x51da31(0x37f)]()),_0x47c356=!0x0;else{let _0x50a361=_0x383225[_0x51da31(0x2cb)][_0x51da31(0x705)](_0x1c8789=>_0x1c8789&&_0x333662[_0x51da31(0x203)]&&_0x1c8789[_0x51da31(0x70b)]&&_0x333662[_0x51da31(0x203)][_0x51da31(0x70b)]&&_0x1c8789[_0x51da31(0x70b)]['toString']()===_0x333662[_0x51da31(0x203)][_0x51da31(0x70b)][_0x51da31(0x37f)]());_0x50a361?(_0x47c356=_0x50a361[_0x51da31(0x74d)]!==_0x333662[_0x51da31(0x203)][_0x51da31(0x74d)],Object[_0x51da31(0x1c5)](_0x50a361,_0x333662[_0x51da31(0x203)])):(_0x383225[_0x51da31(0x2cb)][_0x51da31(0x463)](_0x333662[_0x51da31(0x203)]),_0x47c356=!0x0);}if(_0x47c356){_0x383225[_0x51da31(0x2cb)][_0x51da31(0x3db)]((_0x23f831,_0x217296)=>_0x23f831[_0x51da31(0x74d)]>_0x217296[_0x51da31(0x74d)]?0x1:_0x217296[_0x51da31(0x74d)]>_0x23f831[_0x51da31(0x74d)]?-0x1:0x0);for(let _0x3ee619=0x0;_0x3ee619<_0x383225[_0x51da31(0x2cb)][_0x51da31(0x844)];_0x3ee619++)_0x383225[_0x51da31(0x2cb)][_0x3ee619][_0x51da31(0x74d)]=_0x3ee619+0x1;}let _0x30b249=await this[_0x51da31(0x6db)][_0x51da31(0x719)][_0x51da31(0x2cd)](_0x383225['_id'],_0x383225);if(!_0x30b249)throw new Error(_0x51da31(0x30e));return _0x30b249;}catch(_0x562c9e){let _0xe59d42=_0x51da31(0x42b),_0x401a01=_0x562c9e instanceof Error?_0x562c9e[_0x51da31(0x18c)]:typeof _0x562c9e==_0x51da31(0x2c2)?JSON[_0x51da31(0x8cd)](_0x562c9e):_0x562c9e,_0x1c09ab=_0xe59d42+':\x20'+_0x401a01;throw this['logger'][_0x51da31(0x456)](this[_0x51da31(0x676)]+'\x20('+this['instance'][_0x51da31(0x242)]+_0x51da31(0x761)+_0x1c09ab),new m(_0x1c09ab);}}async[a0_0x1c66d9(0x83b)](_0x36a7c0){const _0x2d43b2=a0_0x1c66d9;try{if(this[_0x2d43b2(0x311)][_0x2d43b2(0x3ad)](this[_0x2d43b2(0x676)]+'\x20('+this[_0x2d43b2(0x401)][_0x2d43b2(0x242)]+'):\x20Editando\x20variável\x20do\x20fluxo...'),!this[_0x2d43b2(0x4c1)]['flows'][_0x2d43b2(0x705)](_0xe30800=>_0xe30800['_id']===_0x36a7c0[_0x2d43b2(0x70b)]))throw this[_0x2d43b2(0x311)][_0x2d43b2(0x3ad)](this[_0x2d43b2(0x676)]+'\x20('+this[_0x2d43b2(0x401)][_0x2d43b2(0x242)]+'):\x20Fluxo\x20\x27'+_0x36a7c0['_id']+'\x27\x20não\x20encontrado'),new m(_0x2d43b2(0x6ca));let _0x2d7f38=await this[_0x2d43b2(0x6db)]['flow'][_0x2d43b2(0x44a)]({'where':{'_id':_0x36a7c0[_0x2d43b2(0x70b)]}});if(!_0x2d7f38||!_0x2d7f38[_0x2d43b2(0x6bc)]?.[_0x2d43b2(0x1e1)](this[_0x2d43b2(0x401)][_0x2d43b2(0x242)]))throw this[_0x2d43b2(0x311)]['error'](this[_0x2d43b2(0x676)]+'\x20('+this['instance'][_0x2d43b2(0x242)]+'):\x20Flow\x20\x27'+_0x36a7c0[_0x2d43b2(0x70b)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x2d43b2(0x7c6)+_0x36a7c0[_0x2d43b2(0x70b)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x2d7f38[_0x2d43b2(0x785)]?.['includes'](this[_0x2d43b2(0x401)]['wuid']))throw new m(_0x2d43b2(0x5a0));_0x36a7c0[_0x2d43b2(0x5c3)]['name']=_0x36a7c0[_0x2d43b2(0x5c3)]['name'][_0x2d43b2(0x5e0)](),_0x36a7c0[_0x2d43b2(0x5c3)][_0x2d43b2(0x87f)][_0x2d43b2(0x560)]('_')&&(_0x36a7c0[_0x2d43b2(0x5c3)][_0x2d43b2(0x87f)]=_0x36a7c0[_0x2d43b2(0x5c3)][_0x2d43b2(0x87f)][_0x2d43b2(0x239)](0x1)),_0x36a7c0['variable'][_0x2d43b2(0x87f)]=_0x36a7c0['variable'][_0x2d43b2(0x87f)][_0x2d43b2(0x5e0)]();let _0x22b35b=_0x2d7f38['variables'][_0x2d43b2(0x705)](_0x9833fb=>_0x9833fb['name']===_0x36a7c0['variable'][_0x2d43b2(0x87f)]);if(_0x22b35b?.['leadInfo']===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x36a7c0['variable']?.[_0x2d43b2(0x2a3)]===!0x0){if(!_0x22b35b)return{'message':_0x2d43b2(0x22b)};_0x2d7f38[_0x2d43b2(0x20d)]=_0x2d7f38[_0x2d43b2(0x20d)][_0x2d43b2(0x901)](_0x37a70e=>_0x37a70e[_0x2d43b2(0x87f)]!==_0x36a7c0['variable'][_0x2d43b2(0x87f)]);}else _0x22b35b?Object[_0x2d43b2(0x1c5)](_0x22b35b,_0x36a7c0[_0x2d43b2(0x5c3)]):_0x2d7f38[_0x2d43b2(0x20d)][_0x2d43b2(0x463)](_0x36a7c0[_0x2d43b2(0x5c3)]);let _0x1bc1d5=await this['repository'][_0x2d43b2(0x719)][_0x2d43b2(0x2cd)](_0x2d7f38['_id'],_0x2d7f38);if(!_0x1bc1d5)throw new Error(_0x2d43b2(0x30e));return _0x1bc1d5;}catch(_0x251c90){let _0x23a233=_0x2d43b2(0x2f6),_0x49ffd5=_0x251c90 instanceof Error?_0x251c90[_0x2d43b2(0x18c)]:typeof _0x251c90==_0x2d43b2(0x2c2)?JSON['stringify'](_0x251c90):_0x251c90,_0x2929f6=_0x23a233+':\x20'+_0x49ffd5;throw this['logger'][_0x2d43b2(0x456)](this[_0x2d43b2(0x676)]+'\x20('+this[_0x2d43b2(0x401)][_0x2d43b2(0x242)]+_0x2d43b2(0x761)+_0x2929f6),new m(_0x2929f6);}}async[a0_0x1c66d9(0x6b9)](_0x31737e){const _0x26e69a=a0_0x1c66d9;let _0xd907a4=null;try{if(!this[_0x26e69a(0x4c1)]?.['flowConfig'][_0x26e69a(0x64d)])throw new m('Fluxos\x20não\x20estão\x20ativados');this[_0x26e69a(0x311)][_0x26e69a(0x3ad)](this['instanceName']+'\x20('+this[_0x26e69a(0x401)][_0x26e69a(0x242)]+_0x26e69a(0x653));let _0x30e441=(await this['whatsappNumber']({'numbers':[_0x31737e['remoteJid']]}))[0x0];if(!_0x30e441[_0x26e69a(0x2d5)]&&!(0x0,w[_0x26e69a(0x82c)])(_0x30e441[_0x26e69a(0x636)])&&!_0x30e441[_0x26e69a(0x636)]['includes'](_0x26e69a(0x618)))throw _0xd907a4=JSON[_0x26e69a(0x8cd)](_0x30e441,null,0x2),new m(_0x30e441);let _0x4f52e7;if(_0x31737e[_0x26e69a(0x87f)][_0x26e69a(0x844)]===0x24&&/^[0-9a-fA-F-]{36}$/['test'](_0x31737e['name'])?_0x4f52e7=this[_0x26e69a(0x4c1)][_0x26e69a(0x318)]['find'](_0x180b24=>_0x180b24['_id']===_0x31737e[_0x26e69a(0x87f)]):_0x4f52e7=this[_0x26e69a(0x4c1)][_0x26e69a(0x318)][_0x26e69a(0x705)](_0x3cc3a3=>_0x3cc3a3[_0x26e69a(0x87f)]===_0x31737e['name']),!_0x4f52e7)throw this[_0x26e69a(0x311)][_0x26e69a(0x3ad)](this[_0x26e69a(0x676)]+'\x20('+this[_0x26e69a(0x401)][_0x26e69a(0x242)]+_0x26e69a(0x64f)+_0x31737e[_0x26e69a(0x87f)]+_0x26e69a(0x8dd)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x2a54b0=await this[_0x26e69a(0x6db)][_0x26e69a(0x719)][_0x26e69a(0x44a)]({'where':{'_id':_0x4f52e7[_0x26e69a(0x70b)]}});if(!_0x2a54b0||!_0x2a54b0[_0x26e69a(0x6bc)]?.['includes'](this[_0x26e69a(0x401)][_0x26e69a(0x242)]))throw this['logger'][_0x26e69a(0x456)](this[_0x26e69a(0x676)]+'\x20('+this['instance'][_0x26e69a(0x242)]+_0x26e69a(0x529)+_0x4f52e7['_id']+_0x26e69a(0x741)),_0xd907a4=_0x26e69a(0x7c6)+_0x4f52e7[_0x26e69a(0x70b)]+_0x26e69a(0x741),new m(_0xd907a4);let _0x358da1=await this[_0x26e69a(0x790)](_0x2a54b0,_0x30e441['jid'],_0x31737e[_0x26e69a(0x3e2)]);if(_0x358da1){this['logger'][_0x26e69a(0x3ad)](this[_0x26e69a(0x676)]+'\x20('+this[_0x26e69a(0x401)][_0x26e69a(0x242)]+_0x26e69a(0x69c));let _0x11603b=await this[_0x26e69a(0x601)](_0x358da1);return _0x11603b&&await this[_0x26e69a(0x813)](_0x358da1,_0x11603b),{'message':'Flow\x20iniciado\x20com\x20'+_0x31737e[_0x26e69a(0x328)]};}}catch(_0x2ceae1){if(this['logger'][_0x26e69a(0x456)](this[_0x26e69a(0x676)]+'\x20('+this['instance'][_0x26e69a(0x242)]+_0x26e69a(0x520)+(_0x2ceae1 instanceof Error?_0x2ceae1[_0x26e69a(0x18c)]:JSON[_0x26e69a(0x8cd)](_0x2ceae1,null,0x2))),_0xd907a4=_0x2ceae1 instanceof Error?_0x2ceae1[_0x26e69a(0x18c)]:JSON[_0x26e69a(0x8cd)](_0x2ceae1,null,0x2),_0xd907a4)throw new m(_0x26e69a(0x8c1)+_0xd907a4);}}async[a0_0x1c66d9(0x5ee)](_0xd436f,_0x12d125,_0x704184){const _0x487cad=a0_0x1c66d9;let _0x5d1285=null;try{if(!this['AutomateSystem']?.[_0x487cad(0x2a9)][_0x487cad(0x64d)])throw new m(_0x487cad(0x2c7));if(this['logger'][_0x487cad(0x3ad)](this['instanceName']+'\x20('+this[_0x487cad(0x401)]['wuid']+_0x487cad(0x653)),_0x12d125){let _0x1e6158=(await this['whatsappNumber']({'numbers':[_0x12d125]}))[0x0];if(!_0x1e6158[_0x487cad(0x2d5)]&&!(0x0,w[_0x487cad(0x82c)])(_0x1e6158[_0x487cad(0x636)])&&!_0x1e6158['jid']['includes']('@broadcast'))throw _0x5d1285=JSON[_0x487cad(0x8cd)](_0x1e6158,null,0x2),new m(_0x1e6158);_0x12d125=_0x1e6158[_0x487cad(0x636)];}else _0x12d125||(_0x12d125=(0x0,Q['v4'])());let _0x95ed96=await this[_0x487cad(0x6db)][_0x487cad(0x719)]['findOne']({'where':{'_id':_0xd436f}});if(!_0x95ed96||!_0x95ed96[_0x487cad(0x6bc)]?.[_0x487cad(0x1e1)](this[_0x487cad(0x401)][_0x487cad(0x242)]))throw this[_0x487cad(0x311)][_0x487cad(0x456)](this[_0x487cad(0x676)]+'\x20('+this[_0x487cad(0x401)][_0x487cad(0x242)]+'):\x20Flow\x20\x27'+_0xd436f+_0x487cad(0x741)),new m(_0x487cad(0x7c6)+_0xd436f+_0x487cad(0x741));let _0x521133=await this[_0x487cad(0x790)](_0x95ed96,_0x12d125,null);if(_0x521133){this[_0x487cad(0x311)][_0x487cad(0x3ad)](this[_0x487cad(0x676)]+'\x20('+this[_0x487cad(0x401)][_0x487cad(0x242)]+'):\x20Criou\x20conversa\x20no\x20startFlowWebhook');let _0x12305a;if(_0x704184){let _0x51e206=_0x521133[_0x487cad(0x765)]['realVariables'],_0x43d2df=this['flattenObject'](_0x704184);Object[_0x487cad(0x1c5)](_0x51e206,_0x43d2df),_0x521133[_0x487cad(0x765)][_0x487cad(0x553)]=_0x51e206,_0x12305a={'error':!0x1,'apiResponse':_0x704184};}let _0x281c22=await this[_0x487cad(0x601)](_0x521133);return _0x281c22&&await this['processblock'](_0x521133,_0x281c22),{'message':_0x487cad(0x382)};}}catch(_0x3b61b2){if(this[_0x487cad(0x311)][_0x487cad(0x456)](this[_0x487cad(0x676)]+'\x20('+this[_0x487cad(0x401)][_0x487cad(0x242)]+_0x487cad(0x520)+(_0x3b61b2 instanceof Error?_0x3b61b2[_0x487cad(0x18c)]:JSON[_0x487cad(0x8cd)](_0x3b61b2,null,0x2))),_0x5d1285=_0x3b61b2 instanceof Error?_0x3b61b2['message']:JSON['stringify'](_0x3b61b2,null,0x2),_0x5d1285)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x5d1285);}}async[a0_0x1c66d9(0x698)](_0xb23b44){const _0x2196fe=a0_0x1c66d9;try{let _0x4647c8={'remoteJid':_0xb23b44,'status':_0x2196fe(0x32f)},_0x18217d={'status':_0x2196fe(0x31a)},_0x27b2cd=await this['repository'][_0x2196fe(0x7ad)]['updateMany'](_0x4647c8,_0x18217d,this['instance'][_0x2196fe(0x242)]);return this[_0x2196fe(0x311)][_0x2196fe(0x3ad)](this[_0x2196fe(0x676)]+'\x20('+this['instance'][_0x2196fe(0x242)]+_0x2196fe(0x7ea)),_0x27b2cd;}catch(_0x5d2cbb){throw this[_0x2196fe(0x311)]['error'](this[_0x2196fe(0x676)]+'\x20('+this['instance'][_0x2196fe(0x242)]+_0x2196fe(0x55a)+_0x5d2cbb[_0x2196fe(0x18c)]),_0x5d2cbb;}}async[a0_0x1c66d9(0x790)](_0x3b0785,_0x199fbd,_0x269740){const _0x304545=a0_0x1c66d9;this[_0x304545(0x311)]['verbose'](this[_0x304545(0x676)]+'\x20('+this[_0x304545(0x401)][_0x304545(0x242)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this[_0x304545(0x698)](_0x199fbd);try{let _0x3e3f91=require('mongodb')[_0x304545(0x1d5)],_0x200160=Date[_0x304545(0x2f2)](),_0x582f86=_0x304545(0x471),_0x2dfdea={},_0x2b0386={},_0x5240e5=this['AutomateSystem'][_0x304545(0x318)][_0x304545(0x705)](_0x420db0=>_0x420db0[_0x304545(0x70b)]===_0x3b0785[_0x304545(0x70b)]?.[_0x304545(0x37f)]()),_0x3aa9d0=_0x5240e5?.[_0x304545(0x6ce)]??_0x3b0785['minutesToClose']??0x0,_0x264552=_0x5240e5?.[_0x304545(0x74f)]??_0x3b0785['readMessages']??!0x1,_0x4c92ca={'flowId':_0x3b0785[_0x304545(0x70b)],..._0x3b0785,'chatLog':null},_0xc747b3=await this[_0x304545(0x681)](_0x4c92ca[_0x304545(0x20d)]),_0x300bdc=await this[_0x304545(0x872)](_0x199fbd),_0x25df5d={..._0xc747b3,..._0x300bdc,'_remoteJid':_0x199fbd},_0x22e6be={'lastReceivedMessage':_0x2dfdea,'lastSendMessage':_0x2b0386,'lastBlockId':_0x582f86,'lastCondition':!0x0,'realVariables':_0x25df5d};_0x4c92ca[_0x304545(0x765)]=_0x22e6be,_0x4c92ca[_0x304545(0x765)][_0x304545(0x553)]={..._0x25df5d,..._0x269740},delete _0x4c92ca[_0x304545(0x70b)],_0x4c92ca[_0x304545(0x70b)]=new _0x3e3f91(),_0x4c92ca['lastInteraction']=_0x200160,_0x4c92ca['status']='open',_0x4c92ca[_0x304545(0x328)]=_0x199fbd,_0x4c92ca[_0x304545(0x6ce)]=_0x3aa9d0,_0x4c92ca['readMessages']=_0x264552,_0x4c92ca[_0x304545(0x70b)]=_0x3b0785[_0x304545(0x70b)];let _0x490239=await this[_0x304545(0x6db)][_0x304545(0x7ad)][_0x304545(0x2cd)](_0x4c92ca[_0x304545(0x70b)],_0x4c92ca,this[_0x304545(0x401)][_0x304545(0x242)]);return this[_0x304545(0x311)][_0x304545(0x3ad)](this[_0x304545(0x676)]+'\x20('+this[_0x304545(0x401)]['wuid']+_0x304545(0x8ff)),_0x490239?_0x4c92ca:null;}catch(_0x32da9e){let _0x2f7d35=_0x304545(0x8b9),_0x2c6cbd=_0x32da9e instanceof Error?_0x32da9e['message']:typeof _0x32da9e==_0x304545(0x2c2)?JSON[_0x304545(0x8cd)](_0x32da9e):_0x32da9e,_0x704bae=_0x2f7d35+':\x20'+_0x2c6cbd;throw this[_0x304545(0x311)][_0x304545(0x456)](this[_0x304545(0x676)]+'\x20('+this[_0x304545(0x401)][_0x304545(0x242)]+_0x304545(0x761)+_0x704bae),new m(_0x704bae);}}async[a0_0x1c66d9(0x229)](_0xdb3650){const _0x2af78e=a0_0x1c66d9;try{this[_0x2af78e(0x311)][_0x2af78e(0x3ad)](this['instanceName']+'\x20('+this[_0x2af78e(0x401)]['wuid']+_0x2af78e(0x536)),this[_0x2af78e(0x311)][_0x2af78e(0x3ad)](this[_0x2af78e(0x676)]+'\x20('+this['instance'][_0x2af78e(0x242)]+_0x2af78e(0x56c)+_0xdb3650);let _0x992b53={'where':{'_id':_0xdb3650}};return await this['repository'][_0x2af78e(0x7ad)][_0x2af78e(0x44a)](_0x992b53,this['instance'][_0x2af78e(0x242)]);}catch(_0x3af061){let _0x1885ad=_0x2af78e(0x635),_0x460dea=_0x3af061 instanceof Error?_0x3af061['message']:typeof _0x3af061==_0x2af78e(0x2c2)?JSON['stringify'](_0x3af061):_0x3af061,_0x3eb0cb=_0x1885ad+':\x20'+_0x460dea;throw this[_0x2af78e(0x311)]['error'](this[_0x2af78e(0x676)]+'\x20('+this[_0x2af78e(0x401)][_0x2af78e(0x242)]+_0x2af78e(0x761)+_0x3eb0cb),new m(_0x3eb0cb);}}async['fetchConversation'](_0x193302){const _0x78b6ac=a0_0x1c66d9;try{return this[_0x78b6ac(0x311)][_0x78b6ac(0x3ad)](this[_0x78b6ac(0x676)]+'\x20('+this[_0x78b6ac(0x401)][_0x78b6ac(0x242)]+'):\x20Buscando\x20conversas...'),await this['repository'][_0x78b6ac(0x7ad)][_0x78b6ac(0x705)](_0x193302,this[_0x78b6ac(0x401)][_0x78b6ac(0x242)]);}catch(_0x16079c){let _0x1584c7=_0x78b6ac(0x870),_0x416d2c=_0x16079c instanceof Error?_0x16079c[_0x78b6ac(0x18c)]:typeof _0x16079c=='object'?JSON[_0x78b6ac(0x8cd)](_0x16079c):_0x16079c,_0x5bcc8e=_0x1584c7+':\x20'+_0x416d2c;throw this[_0x78b6ac(0x311)]['error'](this[_0x78b6ac(0x676)]+'\x20('+this['instance'][_0x78b6ac(0x242)]+_0x78b6ac(0x761)+_0x5bcc8e),new m(_0x5bcc8e);}}async[a0_0x1c66d9(0x7b8)](_0x38be11){const _0x3fa047=a0_0x1c66d9;try{return this[_0x3fa047(0x311)]['verbose'](this[_0x3fa047(0x676)]+'\x20('+this['instance'][_0x3fa047(0x242)]+_0x3fa047(0x70a)),this[_0x3fa047(0x311)][_0x3fa047(0x3ad)](this[_0x3fa047(0x676)]+'\x20('+this[_0x3fa047(0x401)][_0x3fa047(0x242)]+'):\x20Query\x20params:'+_0x38be11),(await this[_0x3fa047(0x6db)][_0x3fa047(0x7ad)][_0x3fa047(0x1eb)]({'where':{'_id':_0x38be11[_0x3fa047(0x70b)]}},this[_0x3fa047(0x401)][_0x3fa047(0x242)]))[_0x3fa047(0x341)]===0x0?{'message':_0x3fa047(0x68a)}:{'message':_0x3fa047(0x308)};}catch(_0x2f34fa){let _0x5b3c59=_0x3fa047(0x7db),_0x2548eb=_0x2f34fa instanceof Error?_0x2f34fa[_0x3fa047(0x18c)]:typeof _0x2f34fa==_0x3fa047(0x2c2)?JSON['stringify'](_0x2f34fa):_0x2f34fa,_0x216581=_0x5b3c59+':\x20'+_0x2548eb;throw this['logger'][_0x3fa047(0x456)](this[_0x3fa047(0x676)]+'\x20('+this[_0x3fa047(0x401)]['wuid']+_0x3fa047(0x761)+_0x216581),new m(_0x216581);}}async[a0_0x1c66d9(0x60b)](_0x417b68){const _0x248285=a0_0x1c66d9;try{let {_id:_0x443f70,chatLog:_0x107a51,status:_0x420872}=_0x417b68;if(!_0x443f70)return{'message':_0x248285(0x5f3)};let _0x13eab0={};if(_0x420872!==void 0x0&&(_0x13eab0[_0x248285(0x730)]=_0x420872),Object[_0x248285(0x4cb)](_0x13eab0)['length']===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0xf541cf=await this[_0x248285(0x6db)][_0x248285(0x7ad)][_0x248285(0x2cd)](_0x443f70,_0x13eab0,this[_0x248285(0x401)][_0x248285(0x242)]);return _0xf541cf||{'message':_0x248285(0x739)};}catch(_0x195ab2){let _0x4e07b3=_0x248285(0x664),_0x42dc28=_0x195ab2 instanceof Error?_0x195ab2['message']:typeof _0x195ab2==_0x248285(0x2c2)?JSON[_0x248285(0x8cd)](_0x195ab2):_0x195ab2,_0xbe1e6d=_0x4e07b3+':\x20'+_0x42dc28;throw this['logger']['error'](this[_0x248285(0x676)]+'\x20('+this[_0x248285(0x401)][_0x248285(0x242)]+'):\x20'+_0xbe1e6d),new m(_0xbe1e6d);}}async['editChat'](_0x4f5154){const _0x18c2a6=a0_0x1c66d9;try{_0x4f5154[_0x18c2a6(0x70b)]=this[_0x18c2a6(0x63e)](_0x4f5154[_0x18c2a6(0x70b)]);let _0x1b61a1=await this['repository'][_0x18c2a6(0x862)][_0x18c2a6(0x44a)]({'where':{'_id':_0x4f5154['_id']}},this[_0x18c2a6(0x401)][_0x18c2a6(0x242)]);if(!_0x1b61a1)throw new m(_0x18c2a6(0x21a));let {_id:_0x308228,leadInfo:_0x3e5d17}=_0x4f5154;if(!_0x308228)throw new Error(_0x18c2a6(0x7d1));if(_0x4f5154['delete']===_0x18c2a6(0x797))return await this[_0x18c2a6(0x2fc)](_0x4f5154['_id']),await this[_0x18c2a6(0x6db)][_0x18c2a6(0x862)][_0x18c2a6(0x2a3)]({'where':{'_id':_0x4f5154[_0x18c2a6(0x70b)]}},this['instance']['wuid']),await this['repository']['message'][_0x18c2a6(0x2a3)]({'where':{'key':{'remoteJid':_0x4f5154['_id']}}},this[_0x18c2a6(0x401)][_0x18c2a6(0x242)]),_0x4f5154=await this[_0x18c2a6(0x6db)][_0x18c2a6(0x862)][_0x18c2a6(0x2cd)]({'where':{'_id':_0x4f5154[_0x18c2a6(0x70b)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x18c2a6(0x242)]),F(this[_0x18c2a6(0x676)],_0x18c2a6(0x88a),{'chat':_0x4f5154}),{'message':_0x18c2a6(0x4fd)};if(_0x4f5154['delete']===_0x18c2a6(0x1ef))return await this[_0x18c2a6(0x6db)]['message'][_0x18c2a6(0x2a3)]({'where':{'key':{'remoteJid':_0x4f5154[_0x18c2a6(0x70b)]}}},this[_0x18c2a6(0x401)][_0x18c2a6(0x242)]),_0x4f5154=await this[_0x18c2a6(0x6db)][_0x18c2a6(0x862)]['updateOne']({'where':{'_id':_0x4f5154[_0x18c2a6(0x70b)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance']['wuid']),F(this[_0x18c2a6(0x676)],_0x18c2a6(0x88a),{'chat':_0x4f5154}),{'message':_0x18c2a6(0x1ff)};let _0x10f735=(_0x5cbaf8,_0x542755,_0x5a4071)=>{const _0x1aa312=_0x18c2a6;_0x5cbaf8&&_0x5a4071[_0x1aa312(0x8bf)](_0x2d5ca7=>{_0x5cbaf8[_0x2d5ca7]!==void 0x0&&(_0x542755['leadInfo.'+_0x2d5ca7]=_0x5cbaf8[_0x2d5ca7]);});},_0x50bd95={};if('muteEndTime'in _0x4f5154&&(this[_0x18c2a6(0x311)][_0x18c2a6(0x3ad)](this[_0x18c2a6(0x676)]+'\x20('+this['instance'][_0x18c2a6(0x242)]+'):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20'+_0x4f5154[_0x18c2a6(0x70b)]),_0x4f5154[_0x18c2a6(0x770)]=_0x4f5154[_0x18c2a6(0x770)]===0x0?null:-0x1,await this[_0x18c2a6(0x83a)]['chatModify']({'mute':_0x4f5154['muteEndTime']},_0x4f5154[_0x18c2a6(0x70b)]),_0x50bd95[_0x18c2a6(0x770)]=Number(_0x4f5154[_0x18c2a6(0x770)])),_0x3e5d17&&(_0x10f735(_0x3e5d17,_0x50bd95,['nome',_0x18c2a6(0x67b),_0x18c2a6(0x5f6),_0x18c2a6(0x6df),_0x18c2a6(0x730),_0x18c2a6(0x20b),_0x18c2a6(0x1a2),_0x18c2a6(0x8ea),_0x18c2a6(0x476),_0x18c2a6(0x57f),_0x18c2a6(0x261)]),Array[_0x18c2a6(0x1d3)](_0x3e5d17[_0x18c2a6(0x7f0)])&&(_0x50bd95[_0x18c2a6(0x423)]=_0x3e5d17[_0x18c2a6(0x7f0)]['map'](_0x2ef79c=>({'_id':_0x2ef79c[_0x18c2a6(0x70b)],'value':_0x2ef79c['value']}))),_0x4f5154[_0x18c2a6(0x72b)]['etiquetas']!==void 0x0)){let _0x1e3688=await this[_0x18c2a6(0x6db)][_0x18c2a6(0x52e)][_0x18c2a6(0x705)]({'where':{}},this['instance'][_0x18c2a6(0x242)]),_0x14a3f8=new Set(_0x4f5154[_0x18c2a6(0x72b)][_0x18c2a6(0x57f)]||[]),_0x4d4c53=new Set(_0x4f5154[_0x18c2a6(0x72b)][_0x18c2a6(0x57f)]),_0x36262f=new Set(_0x1e3688[_0x18c2a6(0x521)](_0xfd782d=>_0xfd782d[_0x18c2a6(0x70b)])),_0x1f5008=[..._0x4d4c53][_0x18c2a6(0x901)](_0x51c0f2=>!_0x14a3f8['has'](_0x51c0f2)&&_0x36262f[_0x18c2a6(0x402)](_0x51c0f2)),_0x3ec7eb=[..._0x14a3f8][_0x18c2a6(0x901)](_0x4c3c16=>!_0x4d4c53[_0x18c2a6(0x402)](_0x4c3c16));if(_0x50bd95[_0x18c2a6(0x831)]=[..._0x14a3f8],_0x1b61a1&&!_0x1b61a1['imported']){for(let _0x31630e of _0x1f5008)await this[_0x18c2a6(0x27c)](_0x31630e,_0x4f5154[_0x18c2a6(0x70b)]),_0x14a3f8[_0x18c2a6(0x887)](_0x31630e);for(let _0x18ee54 of _0x3ec7eb)await this[_0x18c2a6(0x340)](_0x18ee54,_0x4f5154[_0x18c2a6(0x70b)]),_0x14a3f8[_0x18c2a6(0x2a3)](_0x18ee54);}}if(_0x4f5154[_0x18c2a6(0x8d4)]!==void 0x0&&(_0x50bd95[_0x18c2a6(0x8d4)]=Number(_0x4f5154['unreadcount'])),Object['keys'](_0x50bd95)[_0x18c2a6(0x844)]===0x0)throw new Error(_0x18c2a6(0x3da));let _0x112c69=await this[_0x18c2a6(0x6db)][_0x18c2a6(0x862)][_0x18c2a6(0x2cd)]({'where':{'_id':_0x4f5154[_0x18c2a6(0x70b)]}},_0x50bd95,this[_0x18c2a6(0x401)]['wuid']);return _0x112c69&&F(this['instanceName'],_0x18c2a6(0x88a),{'chat':_0x112c69}),_0x112c69?(this['logger'][_0x18c2a6(0x3ad)](this[_0x18c2a6(0x676)]+'\x20('+this[_0x18c2a6(0x401)][_0x18c2a6(0x242)]+'):\x20'+JSON[_0x18c2a6(0x8cd)](_0x112c69,null,0x2)),_0x112c69):{'message':_0x18c2a6(0x586)};}catch(_0x1de3a6){let _0x24e9e8='Erro\x20ao\x20editar\x20o\x20chat',_0x2515c5=_0x1de3a6 instanceof Error?_0x1de3a6['message']:typeof _0x1de3a6==_0x18c2a6(0x2c2)?JSON['stringify'](_0x1de3a6):_0x1de3a6,_0x57df05=_0x24e9e8+':\x20'+_0x2515c5;throw this[_0x18c2a6(0x311)][_0x18c2a6(0x456)](this[_0x18c2a6(0x676)]+'\x20('+this['instance'][_0x18c2a6(0x242)]+_0x18c2a6(0x761)+_0x57df05),new m(_0x57df05);}}async['AddChatLabel'](_0x53cc21,_0x3b330e){const _0x12d38c=a0_0x1c66d9;try{await this['client']['addChatLabel'](_0x3b330e,_0x53cc21),this[_0x12d38c(0x311)]['info'](this[_0x12d38c(0x676)]+'\x20('+this[_0x12d38c(0x401)]['wuid']+'):\x20Label\x20'+_0x53cc21+'\x20adicionado\x20ao\x20chat\x20'+_0x3b330e+_0x12d38c(0x80b));}catch(_0x582cc2){this['logger'][_0x12d38c(0x456)](_0x12d38c(0x3d0)+_0x53cc21+'\x20ao\x20chat\x20'+_0x3b330e+':\x20'+_0x582cc2);}}async[a0_0x1c66d9(0x340)](_0x4260af,_0x3a693b){const _0x1d57c5=a0_0x1c66d9;try{await this[_0x1d57c5(0x83a)][_0x1d57c5(0x4fe)](_0x3a693b,_0x4260af),this[_0x1d57c5(0x311)][_0x1d57c5(0x43e)](this[_0x1d57c5(0x676)]+'\x20('+this[_0x1d57c5(0x401)][_0x1d57c5(0x242)]+_0x1d57c5(0x1d9)+_0x4260af+_0x1d57c5(0x2db)+_0x3a693b+'\x20com\x20sucesso.');}catch(_0x255c80){this[_0x1d57c5(0x311)][_0x1d57c5(0x456)]('Erro\x20ao\x20remover\x20label\x20'+_0x4260af+_0x1d57c5(0x4fa)+_0x3a693b+':\x20'+_0x255c80);}}async[a0_0x1c66d9(0x5d5)](_0x405b30){const _0x16e670=a0_0x1c66d9;try{let _0x401c00=await this[_0x16e670(0x6db)][_0x16e670(0x776)]['findOrCreate'](this[_0x16e670(0x401)][_0x16e670(0x242)]),_0x1c3b3c=_0x405b30['_id']?_0x401c00[_0x16e670(0x52b)][_0x16e670(0x24f)](_0x1216d4=>_0x1216d4['_id']===_0x405b30[_0x16e670(0x70b)]):-0x1;if(_0x405b30[_0x16e670(0x2a3)]&&_0x1c3b3c>-0x1)_0x401c00[_0x16e670(0x52b)][_0x16e670(0x359)](_0x1c3b3c,0x1);else{if(_0x1c3b3c>-0x1){let _0x48f9be=_0x401c00['agents'][_0x1c3b3c];_0x405b30[_0x16e670(0x72e)]&&(_0x48f9be[_0x16e670(0x72e)]=_0x405b30[_0x16e670(0x72e)]),_0x405b30[_0x16e670(0x87f)]&&(_0x48f9be[_0x16e670(0x87f)]=_0x405b30[_0x16e670(0x87f)]),_0x405b30['email']&&(_0x48f9be[_0x16e670(0x5f6)]=_0x405b30[_0x16e670(0x5f6)]),_0x405b30[_0x16e670(0x6d1)]&&(_0x48f9be[_0x16e670(0x6d1)]=_0x405b30[_0x16e670(0x6d1)]);}else _0x401c00['agents'][_0x16e670(0x463)]({'_id':_0x405b30[_0x16e670(0x70b)]||new he[(_0x16e670(0x77c))][(_0x16e670(0x40a))][(_0x16e670(0x1d5))]()['toString'](),'fone':_0x405b30[_0x16e670(0x72e)],'name':_0x405b30[_0x16e670(0x87f)],'email':_0x405b30['email'],'role':_0x405b30['role']});}let _0x35afaf={'agents':_0x401c00[_0x16e670(0x52b)]},_0xaaa5d2=await this[_0x16e670(0x6db)][_0x16e670(0x776)][_0x16e670(0x2de)](_0x35afaf,this[_0x16e670(0x401)][_0x16e670(0x242)]);return this[_0x16e670(0x4c1)]=_0xaaa5d2,this[_0x16e670(0x311)][_0x16e670(0x3ad)](this[_0x16e670(0x676)]+'\x20('+this[_0x16e670(0x401)][_0x16e670(0x242)]+_0x16e670(0x320)),this[_0x16e670(0x311)][_0x16e670(0x3ad)](this['instanceName']+'\x20('+this[_0x16e670(0x401)][_0x16e670(0x242)]+'):\x20'+this[_0x16e670(0x4c1)]),_0xaaa5d2;}catch(_0x5288a9){let _0xa784e2=_0x16e670(0x8e6),_0x54049e=_0x5288a9 instanceof Error?_0x5288a9[_0x16e670(0x18c)]:typeof _0x5288a9==_0x16e670(0x2c2)?JSON['stringify'](_0x5288a9):_0x5288a9,_0x4b3a23=_0xa784e2+':\x20'+_0x54049e;throw this['logger'][_0x16e670(0x456)](this['instanceName']+'\x20('+this[_0x16e670(0x401)][_0x16e670(0x242)]+'):\x20'+_0x4b3a23),new m(_0x4b3a23);}}async[a0_0x1c66d9(0x5c9)](_0x52c029){const _0x210fa0=a0_0x1c66d9;try{let _0x59dcea=await this[_0x210fa0(0x6db)]['automateSystem'][_0x210fa0(0x3b0)](this[_0x210fa0(0x401)][_0x210fa0(0x242)]),_0x457de=_0x52c029['_id']?_0x59dcea['customFields'][_0x210fa0(0x24f)](_0x443ba4=>_0x443ba4[_0x210fa0(0x70b)]===_0x52c029[_0x210fa0(0x70b)]):-0x1,_0x3d0e38=!0x1,_0x2f95fe=_0x59dcea[_0x210fa0(0x7f0)][_0x210fa0(0x75e)](_0x28cecb=>_0x28cecb['order']===_0x52c029['order']);if(_0x52c029['delete']&&_0x457de>-0x1)_0x59dcea[_0x210fa0(0x7f0)][_0x210fa0(0x359)](_0x457de,0x1),_0x3d0e38=!0x0;else{if(_0x457de>-0x1){if(_0x59dcea['customFields'][_0x210fa0(0x75e)](_0x3a8624=>_0x3a8624[_0x210fa0(0x87f)]===_0x52c029[_0x210fa0(0x87f)]&&_0x3a8624[_0x210fa0(0x70b)]!==_0x52c029[_0x210fa0(0x70b)]))throw new Error(_0x210fa0(0x247));let _0x2e9886=_0x59dcea[_0x210fa0(0x7f0)][_0x457de];_0x52c029[_0x210fa0(0x74d)]&&(_0x2f95fe||!Number[_0x210fa0(0x464)](_0x52c029['order']))&&(_0x2e9886['order']=_0x52c029[_0x210fa0(0x74d)],_0x3d0e38=!0x0),_0x52c029[_0x210fa0(0x87f)]&&(_0x2e9886['name']=_0x52c029['name']);}else{if(_0x59dcea[_0x210fa0(0x7f0)][_0x210fa0(0x75e)](_0x554b1b=>_0x554b1b[_0x210fa0(0x87f)]===_0x52c029[_0x210fa0(0x87f)]&&_0x554b1b[_0x210fa0(0x70b)]!==_0x52c029[_0x210fa0(0x70b)]))throw new Error(_0x210fa0(0x247));_0x59dcea[_0x210fa0(0x7f0)][_0x210fa0(0x463)]({'_id':_0x52c029[_0x210fa0(0x70b)]||new he[(_0x210fa0(0x77c))][(_0x210fa0(0x40a))][(_0x210fa0(0x1d5))]()[_0x210fa0(0x37f)](),'order':_0x52c029['order'],'name':_0x52c029[_0x210fa0(0x87f)]}),_0x3d0e38=!0x0;}}if(_0x3d0e38){_0x59dcea[_0x210fa0(0x7f0)][_0x210fa0(0x3db)]((_0x8c65d3,_0x3078cc)=>_0x8c65d3['order']>_0x3078cc[_0x210fa0(0x74d)]?0x1:_0x3078cc[_0x210fa0(0x74d)]>_0x8c65d3[_0x210fa0(0x74d)]?-0x1:0x0);for(let _0x356882=0x0;_0x356882<_0x59dcea['customFields'][_0x210fa0(0x844)];_0x356882++)_0x59dcea['customFields'][_0x356882][_0x210fa0(0x74d)]=_0x356882+0x1;}let _0x5f330a=await this[_0x210fa0(0x6db)][_0x210fa0(0x776)][_0x210fa0(0x2de)](_0x59dcea,this['instance'][_0x210fa0(0x242)]);return this[_0x210fa0(0x4c1)]=_0x5f330a,this[_0x210fa0(0x311)][_0x210fa0(0x3ad)](this['instanceName']+'\x20('+this[_0x210fa0(0x401)]['wuid']+_0x210fa0(0x90f)),this[_0x210fa0(0x311)]['verbose'](this['instanceName']+'\x20('+this[_0x210fa0(0x401)][_0x210fa0(0x242)]+_0x210fa0(0x761)+this[_0x210fa0(0x4c1)]),_0x5f330a;}catch(_0x4cf653){let _0x2476bd=_0x210fa0(0x7fa),_0x1028fb=_0x4cf653 instanceof Error?_0x4cf653[_0x210fa0(0x18c)]:typeof _0x4cf653=='object'?JSON[_0x210fa0(0x8cd)](_0x4cf653):_0x4cf653,_0x9c2334=_0x2476bd+':\x20'+_0x1028fb;throw this['logger']['error'](this[_0x210fa0(0x676)]+'\x20('+this[_0x210fa0(0x401)]['wuid']+_0x210fa0(0x761)+_0x9c2334),new m(_0x9c2334);}}async[a0_0x1c66d9(0x7bb)](_0x420658){const _0x2a07c1=a0_0x1c66d9;try{let _0x26cf5a=await this[_0x2a07c1(0x6db)]['automateSystem']['findOrCreate'](this[_0x2a07c1(0x401)][_0x2a07c1(0x242)]),_0x595642=_0x26cf5a?.[_0x2a07c1(0x64c)]?.[_0x2a07c1(0x24f)](_0x4456cf=>_0x4456cf['_id']===_0x420658?.['_id']);if(_0x420658?.['delete'])_0x595642>-0x1&&_0x26cf5a?.['autoCompleteMessages']?.['splice'](_0x595642,0x1);else{if(_0x595642>-0x1){let _0x5f4c0a=_0x26cf5a['autoCompleteMessages'][_0x595642];_0x5f4c0a[_0x2a07c1(0x74d)]=_0x420658?.['order']||_0x5f4c0a['order'],_0x5f4c0a[_0x2a07c1(0x8bb)]=_0x420658?.[_0x2a07c1(0x8bb)]||_0x5f4c0a[_0x2a07c1(0x8bb)],_0x5f4c0a[_0x2a07c1(0x18c)]=_0x420658?.[_0x2a07c1(0x18c)]||_0x5f4c0a['message'];}else{let _0x1713e7={'_id':_0x420658?.['_id']||new he[(_0x2a07c1(0x77c))][(_0x2a07c1(0x40a))][(_0x2a07c1(0x1d5))]()[_0x2a07c1(0x37f)](),'order':_0x420658?.['order'],'command':_0x420658?.[_0x2a07c1(0x8bb)],'message':_0x420658?.['message']};_0x26cf5a?.[_0x2a07c1(0x64c)]?.[_0x2a07c1(0x463)](_0x1713e7);}}_0x26cf5a?.['autoCompleteMessages']?.['sort']((_0x5cc5a7,_0x5145f8)=>_0x5cc5a7[_0x2a07c1(0x74d)]-_0x5145f8['order']);let _0x42a492=await this[_0x2a07c1(0x6db)][_0x2a07c1(0x776)][_0x2a07c1(0x2de)](_0x26cf5a,this['instance']['wuid']);return this[_0x2a07c1(0x4c1)]=_0x42a492,this['logger'][_0x2a07c1(0x3ad)](this[_0x2a07c1(0x676)]+'\x20('+this[_0x2a07c1(0x401)][_0x2a07c1(0x242)]+_0x2a07c1(0x90f)),_0x42a492;}catch(_0x2247c0){let _0x5dc086=_0x2a07c1(0x4c8),_0x3b09e7=_0x2247c0 instanceof Error?_0x2247c0['message']:typeof _0x2247c0=='object'?JSON[_0x2a07c1(0x8cd)](_0x2247c0):_0x2247c0,_0xd4a183=_0x5dc086+':\x20'+_0x3b09e7;throw this[_0x2a07c1(0x311)]['error'](this['instanceName']+'\x20('+this[_0x2a07c1(0x401)][_0x2a07c1(0x242)]+_0x2a07c1(0x761)+_0xd4a183),new m(_0xd4a183);}}async[a0_0x1c66d9(0x615)](_0x458503){const _0x1cb875=a0_0x1c66d9;try{let _0x353091=await this[_0x1cb875(0x6db)][_0x1cb875(0x776)][_0x1cb875(0x3b0)](this[_0x1cb875(0x401)][_0x1cb875(0x242)]);if(!_0x353091)throw new Error(_0x1cb875(0x781));let _0x3994f6={'_id':_0x353091[_0x1cb875(0x70b)],'flowConfig':{'enabled':_0x458503[_0x1cb875(0x64d)]??_0x353091[_0x1cb875(0x2a9)][_0x1cb875(0x64d)],'ignoreGroups':_0x458503[_0x1cb875(0x336)]??_0x353091['flowConfig'][_0x1cb875(0x336)],'stopConversation':_0x458503['stopConversation']['trim']()??_0x353091[_0x1cb875(0x2a9)][_0x1cb875(0x2ef)][_0x1cb875(0x5e0)](),'stopMinutes':_0x458503[_0x1cb875(0x40f)]??_0x353091['flowConfig'][_0x1cb875(0x40f)],'stopWhenYouSendMsg':_0x458503[_0x1cb875(0x706)]??_0x353091[_0x1cb875(0x2a9)][_0x1cb875(0x706)]}},_0x577501=await this['repository'][_0x1cb875(0x776)]['update'](_0x3994f6,this['instance'][_0x1cb875(0x242)]);return this[_0x1cb875(0x4c1)]=_0x577501,this[_0x1cb875(0x311)][_0x1cb875(0x3ad)](this[_0x1cb875(0x676)]+'\x20('+this[_0x1cb875(0x401)][_0x1cb875(0x242)]+'):\x20alterando\x20this.AutomateSystem'),this['logger'][_0x1cb875(0x3ad)](this['instanceName']+'\x20('+this[_0x1cb875(0x401)][_0x1cb875(0x242)]+_0x1cb875(0x761)+this[_0x1cb875(0x4c1)]),setTimeout(()=>this[_0x1cb875(0x386)](),0x7d0),_0x577501;}catch(_0xc9a55f){let _0x8587d4=_0x1cb875(0x8e4),_0x5e747f=_0xc9a55f instanceof Error?_0xc9a55f['message']:typeof _0xc9a55f==_0x1cb875(0x2c2)?JSON[_0x1cb875(0x8cd)](_0xc9a55f):_0xc9a55f,_0x25ed1e=_0x8587d4+':\x20'+_0x5e747f;throw this[_0x1cb875(0x311)][_0x1cb875(0x456)](this['instanceName']+'\x20('+this[_0x1cb875(0x401)]['wuid']+_0x1cb875(0x761)+_0x25ed1e),new m(_0x25ed1e);}}async[a0_0x1c66d9(0x555)](){const _0x5bd4d1=a0_0x1c66d9;try{let _0x2519cf=await this[_0x5bd4d1(0x6db)][_0x5bd4d1(0x776)][_0x5bd4d1(0x3b0)](this['instance'][_0x5bd4d1(0x242)]);return this['AutomateSystem']=_0x2519cf,_0x2519cf;}catch(_0x5473dd){let _0x514ca8=_0x5bd4d1(0x286),_0xde2e97=_0x5473dd instanceof Error?_0x5473dd[_0x5bd4d1(0x18c)]:typeof _0x5473dd==_0x5bd4d1(0x2c2)?JSON[_0x5bd4d1(0x8cd)](_0x5473dd):_0x5473dd,_0x254a28=_0x514ca8+':\x20'+_0xde2e97;throw this['logger'][_0x5bd4d1(0x456)](this['instanceName']+'\x20('+this[_0x5bd4d1(0x401)]['wuid']+_0x5bd4d1(0x761)+_0x254a28),new m(_0x254a28);}}async['initializeQueue'](){const _0x166a8c=a0_0x1c66d9;let _0xef6f91=(await import(_0x166a8c(0x8f2)))[_0x166a8c(0x77c)];this[_0x166a8c(0x7e4)]=new _0xef6f91({'concurrency':0x1});}async['setRestartTimeout'](){const _0x3a7c90=a0_0x1c66d9;this['instance']['ScheduleMessage']['timeout']&&clearTimeout(this['instance']['ScheduleMessage']['timeout']),this['instance'][_0x3a7c90(0x90d)]['timeout']=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x1fafb4=a0_0x1c66d9;let _0x40f6d7=this[_0x1fafb4(0x401)][_0x1fafb4(0x90d)]['lastSend'];(_0x40f6d7===0x0||_0x40f6d7===null||Date[_0x1fafb4(0x2f2)]()-_0x40f6d7>=0x1d4c0)&&(this[_0x1fafb4(0x311)][_0x1fafb4(0x3ad)](this[_0x1fafb4(0x676)]+'\x20('+this[_0x1fafb4(0x401)][_0x1fafb4(0x242)]+_0x1fafb4(0x436)),this[_0x1fafb4(0x401)][_0x1fafb4(0x90d)][_0x1fafb4(0x50b)]=null,this[_0x1fafb4(0x401)][_0x1fafb4(0x90d)][_0x1fafb4(0x49d)]=0x0,this[_0x1fafb4(0x401)][_0x1fafb4(0x90d)][_0x1fafb4(0x321)]=0x0,await this[_0x1fafb4(0x386)]());}async[a0_0x1c66d9(0x386)](){const _0x4f059b=a0_0x1c66d9;this[_0x4f059b(0x311)][_0x4f059b(0x8ce)](this[_0x4f059b(0x676)]+'\x20('+this[_0x4f059b(0x401)][_0x4f059b(0x242)]+_0x4f059b(0x817)),await this['transformScheduledMessagesByType']();let _0x46fcbc=await this[_0x4f059b(0x348)]();_0x46fcbc[_0x4f059b(0x844)]>0x0&&(setTimeout(()=>this[_0x4f059b(0x5b8)](),0x14*0x3e8),this[_0x4f059b(0x311)][_0x4f059b(0x8ce)](this[_0x4f059b(0x676)]+'\x20('+this[_0x4f059b(0x401)][_0x4f059b(0x242)]+_0x4f059b(0x279)),this[_0x4f059b(0x7e4)]['clear'](),this['queue'][_0x4f059b(0x887)](()=>this[_0x4f059b(0x1e4)](_0x46fcbc)));let _0x341be8={'where':{'status':_0x4f059b(0x2fa),'when':{'$gt':Date['now']()}}},_0x5d31ad=await this[_0x4f059b(0x6db)]['scheduleMessage'][_0x4f059b(0x44a)](_0x341be8,this[_0x4f059b(0x401)][_0x4f059b(0x242)]);_0x5d31ad&&_0x5d31ad[_0x4f059b(0x3a3)]-Date[_0x4f059b(0x2f2)]()<=0x6ddd00?this[_0x4f059b(0x401)][_0x4f059b(0x90d)]['delayMessage']=_0x5d31ad['when']-Date[_0x4f059b(0x2f2)]():this[_0x4f059b(0x401)]['ScheduleMessage'][_0x4f059b(0x321)]=(0x3c+Math['floor'](Math[_0x4f059b(0x806)]()*0x3c))*0x3c*0x3e8,this[_0x4f059b(0x401)]['ScheduleMessage'][_0x4f059b(0x321)]=Math[_0x4f059b(0x6cd)](this[_0x4f059b(0x401)]['ScheduleMessage']['delayMessage'],0x1*0x2*0x3e8);let _0x158419=Math[_0x4f059b(0x76b)](this['instance'][_0x4f059b(0x90d)][_0x4f059b(0x321)]/0xea60);if(_0x5d31ad){let _0xa9e686=new Date(_0x5d31ad[_0x4f059b(0x3a3)])[_0x4f059b(0x3dc)]();this[_0x4f059b(0x311)]['warn'](this['instanceName']+'\x20('+this[_0x4f059b(0x401)][_0x4f059b(0x242)]+'):\x20Encontrado\x20próxima\x20mensagem\x20para\x20'+_0xa9e686+_0x4f059b(0x561)+_0x158419+_0x4f059b(0x746));}else this[_0x4f059b(0x311)]['warn'](this['instanceName']+'\x20('+this[_0x4f059b(0x401)][_0x4f059b(0x242)]+'):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x158419+_0x4f059b(0x746));setTimeout(()=>{const _0x4c2e97=_0x4f059b;this[_0x4c2e97(0x386)]();},this['instance'][_0x4f059b(0x90d)][_0x4f059b(0x321)]);}async[a0_0x1c66d9(0x348)](){const _0x462ad8=a0_0x1c66d9;this['logger'][_0x462ad8(0x8ce)](this['instanceName']+'\x20('+this[_0x462ad8(0x401)][_0x462ad8(0x242)]+_0x462ad8(0x6c4));let _0x5dceff=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x4b43f6={'where':{'status':{'$in':[_0x462ad8(0x2fa),_0x462ad8(0x38a)]},'$or':[{'when':{'$lte':Date[_0x462ad8(0x2f2)](),'$gte':_0x5dceff}},{'when':0x0}]}},_0x171f6d=await this[_0x462ad8(0x6db)][_0x462ad8(0x64b)]['find'](_0x4b43f6,this[_0x462ad8(0x401)][_0x462ad8(0x242)]);return this[_0x462ad8(0x311)]['warn'](this[_0x462ad8(0x676)]+'\x20('+this['instance']['wuid']+_0x462ad8(0x486)+_0x171f6d[_0x462ad8(0x844)]),_0x171f6d;}async['processReadyMessages'](_0x52fd4e){const _0x28a885=a0_0x1c66d9;this[_0x28a885(0x311)][_0x28a885(0x8ce)](this[_0x28a885(0x676)]+'\x20('+this[_0x28a885(0x401)][_0x28a885(0x242)]+'):\x20Iniciando\x20processReadyMessages');let _0x30d28a=0x3*0x3e8,_0x32c841=0x8*0x3e8,_0x3d6829=Math[_0x28a885(0x49f)](Math[_0x28a885(0x806)]()*(_0x32c841-_0x30d28a+0x1))+_0x30d28a,_0x5bf5e6=()=>this['pendingMessages'][_0x28a885(0x844)]===0x0?null:this[_0x28a885(0x8ef)][_0x28a885(0x83c)]((_0x542d12,_0x213d87)=>(_0x542d12['order']??Number[_0x28a885(0x45c)])<(_0x213d87[_0x28a885(0x74d)]??Number[_0x28a885(0x45c)])?_0x542d12:_0x213d87,this[_0x28a885(0x8ef)][0x0]);_0x52fd4e=await this[_0x28a885(0x348)]();for(let _0x5e85b8 of _0x52fd4e){await this[_0x28a885(0x874)]();let _0x4c507e=0x3*0x3e8,_0x269e63={'_id':_0x5e85b8[_0x28a885(0x70b)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x28a885(0x2f2)]()-_0x4c507e}}]},_0x5140c6={'startSend':Date['now'](),'status':'sending'},_0x546b27=await this['repository'][_0x28a885(0x64b)][_0x28a885(0x2cd)](_0x269e63,_0x5140c6,this[_0x28a885(0x401)]['wuid']);if(this[_0x28a885(0x8ef)]=_0x546b27[_0x28a885(0x1ef)][_0x28a885(0x901)](_0x119af4=>!_0x119af4[_0x28a885(0x6e9)]),!_0x546b27){setTimeout(()=>this[_0x28a885(0x5b8)](),0xa*0x3e8);continue;}if(this[_0x28a885(0x401)]['ScheduleMessage'][_0x28a885(0x50b)]=_0x546b27,!this[_0x28a885(0x401)]['ScheduleMessage']['isConnected']){this[_0x28a885(0x311)][_0x28a885(0x8ce)](this[_0x28a885(0x676)]+'\x20('+this['instance'][_0x28a885(0x242)]+_0x28a885(0x6b4));break;}for(;this[_0x28a885(0x8ef)]['length']>0x0;){await this[_0x28a885(0x874)]();let _0x4b321b=_0x5bf5e6();if(!_0x4b321b)break;let _0x3e2503=_0x5e85b8[_0x28a885(0x1ef)]['find'](_0x2b3e7c=>_0x2b3e7c[_0x28a885(0x70b)]===_0x4b321b[_0x28a885(0x70b)]);if(!_0x3e2503)break;if(this[_0x28a885(0x401)][_0x28a885(0x90d)][_0x28a885(0x49d)]=Date[_0x28a885(0x2f2)](),_0x3e2503['triedToSend']){this['logger'][_0x28a885(0x8ce)](this[_0x28a885(0x676)]+'\x20('+this[_0x28a885(0x401)]['wuid']+_0x28a885(0x364)+_0x3e2503['remoteJid']+'.\x20Pulando.'),this['pendingMessages']=this[_0x28a885(0x8ef)]['filter'](_0x29c6d0=>_0x29c6d0['_id']!==_0x3e2503[_0x28a885(0x70b)]);continue;}if(!this[_0x28a885(0x401)][_0x28a885(0x90d)][_0x28a885(0x3cc)]){this[_0x28a885(0x311)][_0x28a885(0x8ce)](this[_0x28a885(0x676)]+'\x20('+this['instance'][_0x28a885(0x242)]+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this[_0x28a885(0x401)]['ScheduleMessage'][_0x28a885(0x50b)]){this['logger'][_0x28a885(0x8ce)](this[_0x28a885(0x676)]+'\x20('+this['instance']['wuid']+_0x28a885(0x8ae)+_0x5e85b8['_id']+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}let _0x4f0ed9={'idControl':_0x3e2503['_id'],'remoteJid':_0x3e2503[_0x28a885(0x328)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x45908c=null;try{this[_0x28a885(0x311)][_0x28a885(0x8ce)](this['instanceName']+'\x20('+this[_0x28a885(0x401)]['wuid']+_0x28a885(0x2cc)+_0x3e2503[_0x28a885(0x328)]);let _0x3bfaae=await Promise['race']([this[_0x28a885(0x44b)](_0x3e2503['remoteJid'],_0x3e2503),this[_0x28a885(0x488)](0x78*0x3e8)]);_0x4f0ed9[_0x28a885(0x456)]=_0x3bfaae[_0x28a885(0x456)],_0x4f0ed9['id']=_0x3bfaae[_0x28a885(0x456)]?null:_0x3bfaae['id'],_0x4f0ed9[_0x28a885(0x66a)]=_0x3bfaae['error']?_0x3bfaae[_0x28a885(0x1be)]?_0x3bfaae[_0x28a885(0x1be)][_0x28a885(0x37f)]():'':null;let _0x21dd81=_0x5e85b8[_0x28a885(0x1ef)][_0x28a885(0x24f)](_0x28da17=>_0x28da17[_0x28a885(0x70b)]===_0x3e2503[_0x28a885(0x70b)]);_0x21dd81!==-0x1&&(_0x5e85b8[_0x28a885(0x1ef)][_0x21dd81][_0x28a885(0x6e9)]=!0x0);let _0x3e687e={'$push':{'messagesSend':_0x4f0ed9},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x137fee=[{'elem._id':_0x3e2503['_id']}];if(this[_0x28a885(0x311)][_0x28a885(0x8ce)](this['instanceName']+'\x20('+this[_0x28a885(0x401)]['wuid']+_0x28a885(0x734)+_0x3e2503[_0x28a885(0x70b)]),_0x45908c=await this['repository'][_0x28a885(0x64b)][_0x28a885(0x2cd)]({'_id':_0x5e85b8[_0x28a885(0x70b)]},_0x3e687e,this[_0x28a885(0x401)]['wuid'],{'arrayFilters':_0x137fee}),_0x3bfaae[_0x28a885(0x456)]){this[_0x28a885(0x311)][_0x28a885(0x456)](this['instanceName']+'\x20('+this['instance'][_0x28a885(0x242)]+_0x28a885(0x4a3)+_0x3bfaae[_0x28a885(0x1be)]);continue;}let _0x3c9d61=this[_0x28a885(0x34e)](_0x5e85b8[_0x28a885(0x1dd)],_0x5e85b8[_0x28a885(0x557)]);await this['sleep'](_0x3c9d61);}catch(_0x28eac2){this[_0x28a885(0x311)][_0x28a885(0x456)](this[_0x28a885(0x676)]+'\x20('+this[_0x28a885(0x401)][_0x28a885(0x242)]+_0x28a885(0x2c1)+_0x3e2503['remoteJid']+':\x20'+(_0x28eac2 instanceof Error?_0x28eac2[_0x28a885(0x18c)]:JSON['stringify'](_0x28eac2,null,0x2))),_0x4f0ed9[_0x28a885(0x456)]=!0x0,_0x4f0ed9[_0x28a885(0x66a)]=_0x28eac2[_0x28a885(0x18c)];let _0x1329c7=_0x5e85b8[_0x28a885(0x1ef)]['findIndex'](_0x2eb5aa=>_0x2eb5aa[_0x28a885(0x70b)]===_0x3e2503[_0x28a885(0x70b)]);_0x1329c7!==-0x1&&(_0x5e85b8[_0x28a885(0x1ef)][_0x1329c7][_0x28a885(0x6e9)]=!0x0);let _0xc6f98d={'$push':{'messagesSend':_0x4f0ed9},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x376769=[{'elem._id':_0x3e2503[_0x28a885(0x70b)]}];this['logger'][_0x28a885(0x8ce)](this[_0x28a885(0x676)]+'\x20('+this['instance'][_0x28a885(0x242)]+'):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20'+_0x3e2503[_0x28a885(0x70b)]),_0x45908c=await this[_0x28a885(0x6db)][_0x28a885(0x64b)][_0x28a885(0x2cd)]({'_id':_0x5e85b8[_0x28a885(0x70b)]},_0xc6f98d,this[_0x28a885(0x401)]['wuid'],{'arrayFilters':_0x376769});}finally{if(_0x45908c&&_0x45908c[_0x28a885(0x730)]===_0x28a885(0x34d)){this[_0x28a885(0x311)][_0x28a885(0x8ce)](this[_0x28a885(0x676)]+'\x20('+this[_0x28a885(0x401)][_0x28a885(0x242)]+_0x28a885(0x8ae)+_0x3e2503[_0x28a885(0x70b)]+_0x28a885(0x1a4));break;}let _0x5d027f=_0x45908c[_0x28a885(0x1ef)][_0x28a885(0x705)](_0x65c587=>_0x65c587['_id']===_0x3e2503[_0x28a885(0x70b)]);if(_0x5d027f&&!_0x5d027f[_0x28a885(0x6e9)]){let _0x561596={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x5e4abd=[{'elem._id':_0x3e2503[_0x28a885(0x70b)]}];await this[_0x28a885(0x6db)][_0x28a885(0x64b)][_0x28a885(0x2cd)]({'_id':_0x45908c[_0x28a885(0x70b)]},_0x561596,this[_0x28a885(0x401)]['wuid'],{'arrayFilters':_0x5e4abd});}if(this['pendingMessages']=_0x45908c[_0x28a885(0x1ef)][_0x28a885(0x901)](_0x4c564f=>!_0x4c564f['triedToSend']),!this['instance']['ScheduleMessage'][_0x28a885(0x50b)]){await this[_0x28a885(0x874)](),this['logger'][_0x28a885(0x8ce)](this[_0x28a885(0x676)]+'\x20('+this[_0x28a885(0x401)][_0x28a885(0x242)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x5e85b8[_0x28a885(0x70b)]+_0x28a885(0x579));break;}}}this[_0x28a885(0x8ef)]=[];let _0xa7f244=await this[_0x28a885(0x6db)][_0x28a885(0x64b)][_0x28a885(0x46a)](_0x5e85b8[_0x28a885(0x70b)],this[_0x28a885(0x401)][_0x28a885(0x242)]);if(_0xa7f244['messages']['every'](_0x28e3f4=>_0x28e3f4[_0x28a885(0x6e9)])&&_0xa7f244[_0x28a885(0x730)]!==_0x28a885(0x34d)){let _0x47f450={'$set':{'status':_0x28a885(0x61d)}};await this[_0x28a885(0x6db)][_0x28a885(0x64b)][_0x28a885(0x38c)](_0xa7f244['_id'],_0x47f450,this['instance'][_0x28a885(0x242)]);}await new Promise(_0x4c6ef7=>setTimeout(_0x4c6ef7,_0x3d6829)),global['gc']?global['gc']():console['warn']('Garbage\x20collection\x20não\x20está\x20disponível.');}}['timeoutPromise'](_0x57f6bd){const _0x2e049c=a0_0x1c66d9;return new Promise((_0x168589,_0x31a7e4)=>setTimeout(()=>_0x31a7e4(new Error(_0x2e049c(0x39b))),_0x57f6bd));}['getDelay'](_0x30be8b,_0x4ba1fe){const _0x1fd54f=a0_0x1c66d9;return _0x30be8b=Math[_0x1fd54f(0x6cd)](0.5,_0x30be8b),_0x4ba1fe=Math[_0x1fd54f(0x674)](Math[_0x1fd54f(0x6cd)](0x3,_0x4ba1fe),0x78),Math[_0x1fd54f(0x49f)](Math[_0x1fd54f(0x806)]()*(_0x4ba1fe-_0x30be8b+0x1)+_0x30be8b)*0x3e8;}[a0_0x1c66d9(0x74a)](_0x21b6d5){return new Promise(_0x1fe748=>setTimeout(_0x1fe748,_0x21b6d5));}async['getVariablesChat'](_0x49b166){const _0xa0225b=a0_0x1c66d9;if(!this[_0xa0225b(0x4c1)]&&(await this[_0xa0225b(0x555)](),!this[_0xa0225b(0x4c1)]))return null;_0x49b166=this[_0xa0225b(0x63e)](_0x49b166);let _0x4b82f4=await this[_0xa0225b(0x6db)]['chat'][_0xa0225b(0x44a)]({'where':{'_id':_0x49b166}},this[_0xa0225b(0x401)][_0xa0225b(0x242)]),_0xc1083={};if(_0x4b82f4&&_0x4b82f4['leadInfo']){let _0x3f94bf=_0x4b82f4[_0xa0225b(0x72b)];typeof _0x3f94bf[_0xa0225b(0x626)]==_0xa0225b(0x24a)&&(_0xc1083[_0xa0225b(0x626)]=_0x3f94bf[_0xa0225b(0x626)]),typeof _0x3f94bf['nomecompleto']==_0xa0225b(0x24a)&&(_0xc1083[_0xa0225b(0x67b)]=_0x3f94bf['nomecompleto']),typeof _0x3f94bf[_0xa0225b(0x5f6)]==_0xa0225b(0x24a)&&(_0xc1083['email']=_0x3f94bf[_0xa0225b(0x5f6)]),typeof _0x3f94bf[_0xa0225b(0x6df)]=='string'&&(_0xc1083[_0xa0225b(0x6df)]=_0x3f94bf[_0xa0225b(0x6df)]),typeof _0x3f94bf['status']=='string'&&(_0xc1083[_0xa0225b(0x730)]=_0x3f94bf[_0xa0225b(0x730)]),typeof _0x3f94bf[_0xa0225b(0x20b)]==_0xa0225b(0x24a)&&(_0xc1083[_0xa0225b(0x20b)]=_0x3f94bf['notas']),typeof _0x3f94bf[_0xa0225b(0x476)]==_0xa0225b(0x24a)&&(_0xc1083['responsavelid']=_0x3f94bf['responsavelid']),Array[_0xa0225b(0x1d3)](_0x3f94bf[_0xa0225b(0x1a2)])&&(_0xc1083[_0xa0225b(0x1a2)]=_0x3f94bf['tags']['join'](',\x20')),Array['isArray'](_0x3f94bf[_0xa0225b(0x57f)])&&(_0xc1083[_0xa0225b(0x57f)]=_0x3f94bf[_0xa0225b(0x57f)][_0xa0225b(0x552)](',\x20'));}return _0x4b82f4&&_0x4b82f4[_0xa0225b(0x72b)]&&_0x4b82f4['leadInfo'][_0xa0225b(0x7f0)]&&_0x4b82f4[_0xa0225b(0x72b)][_0xa0225b(0x7f0)]['forEach'](_0x64e711=>{const _0x5e129d=_0xa0225b;let _0x3a2dd6=this[_0x5e129d(0x4c1)]?.['customFields'][_0x5e129d(0x705)](_0x269ee8=>_0x269ee8['_id']===_0x64e711[_0x5e129d(0x70b)]);_0x3a2dd6&&(_0xc1083[_0x3a2dd6[_0x5e129d(0x87f)]]=_0x64e711[_0x5e129d(0x45e)]);}),_0xc1083;}async[a0_0x1c66d9(0x758)](_0x30fc06,_0x3383e4){const _0x5ce56b=a0_0x1c66d9;try{let _0x403e8d=await this['getVariablesChat'](_0x3383e4);return this[_0x5ce56b(0x291)](_0x30fc06,_0x403e8d);}catch(_0x1b6130){return this['logger'][_0x5ce56b(0x456)](_0x5ce56b(0x20f)+_0x3383e4+':\x20'+_0x1b6130),_0x30fc06;}}async[a0_0x1c66d9(0x3e0)](){const _0x2d329d=a0_0x1c66d9;let _0x4a8044=async(_0x198014,_0x25e54d)=>{const _0x37bb25=a0_0x24da;let _0x31a3ba=(await this['repository'][_0x37bb25(0x64b)][_0x37bb25(0x705)]({'where':{'type':_0x198014}},this[_0x37bb25(0x401)][_0x37bb25(0x242)]))[_0x37bb25(0x521)](async _0x255083=>{const _0x4eac2d=_0x37bb25;let _0x4d7d8e=_0x25e54d(_0x255083),_0x568188=_0x406c65=>/^\d+$/[_0x4eac2d(0x5c4)](_0x406c65),_0xd6c29e=_0x255083['remoteJids'][_0x4eac2d(0x901)](_0x3bdb6b=>_0x3bdb6b[_0x4eac2d(0x369)](_0x4eac2d(0x87d))?_0x3bdb6b[_0x4eac2d(0x844)]>0x19:_0x3bdb6b[_0x4eac2d(0x369)](_0x4eac2d(0x257))?_0x3bdb6b[_0x4eac2d(0x844)]>0xf:_0x568188(_0x3bdb6b)?_0x3bdb6b['length']>=0xb:!0x1)[_0x4eac2d(0x521)](_0x3bb5c1=>({'_id':(0x0,Q['v4'])(),'idSchedule':_0x255083[_0x4eac2d(0x70b)],'type':_0x4d7d8e,'remoteJid':_0x3bb5c1,'flow':_0x255083[_0x4eac2d(0x325)],'text':_0x255083[_0x4eac2d(0x18c)]?.[_0x4eac2d(0x460)],'delay':_0x255083[_0x4eac2d(0x18c)]?.[_0x4eac2d(0x21f)],'urlOrBase64':_0x255083[_0x4eac2d(0x18c)]?.['urlOrBase64'],'linkPreview':_0x255083[_0x4eac2d(0x18c)]?.[_0x4eac2d(0x682)],'fileName':_0x255083[_0x4eac2d(0x18c)]?.[_0x4eac2d(0x5a6)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x4eac2d(0x6db)]['scheduleMessage'][_0x4eac2d(0x38c)](_0x255083[_0x4eac2d(0x70b)],{'$set':{'messages':_0xd6c29e},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x4eac2d(0x401)][_0x4eac2d(0x242)]);}catch(_0x5482a1){console[_0x4eac2d(0x456)](_0x4eac2d(0x54f)+_0x255083[_0x4eac2d(0x70b)]+':',_0x5482a1);}});await Promise[_0x37bb25(0x797)](_0x31a3ba);};await _0x4a8044(_0x2d329d(0x460),_0xc5b544=>_0x2d329d(0x460)),await _0x4a8044(_0x2d329d(0x8ee),_0x200243=>_0x200243[_0x2d329d(0x18c)]?.['mediatype']||_0x2d329d(0x8ee)),await _0x4a8044('audio',_0x2caa70=>_0x2d329d(0x641)),await _0x4a8044(_0x2d329d(0x719),_0x3a809e=>_0x2d329d(0x719)),await _0x4a8044('image',_0x482ae3=>_0x2d329d(0x4bb)),await _0x4a8044('video',_0x5e4c2a=>'video'),await _0x4a8044(_0x2d329d(0x32a),_0x2e5108=>_0x2d329d(0x32a)),this[_0x2d329d(0x311)][_0x2d329d(0x8ce)](this['instanceName']+'\x20('+this[_0x2d329d(0x401)][_0x2d329d(0x242)]+_0x2d329d(0x74c));}async[a0_0x1c66d9(0x8b5)](_0x1ed513){const _0x1c77a6=a0_0x1c66d9;try{if(this[_0x1c77a6(0x311)][_0x1c77a6(0x8ce)](this[_0x1c77a6(0x676)]+'\x20('+this[_0x1c77a6(0x401)][_0x1c77a6(0x242)]+_0x1c77a6(0x690)),_0x1ed513[_0x1c77a6(0x70b)]||(_0x1ed513['_id']=(0x0,Q['v4'])()),this[_0x1c77a6(0x401)][_0x1c77a6(0x90d)]['processingGroup']?.[_0x1c77a6(0x70b)]===_0x1ed513[_0x1c77a6(0x70b)]?.[_0x1c77a6(0x37f)]()){if(_0x1ed513['status']===_0x1c77a6(0x34d))this[_0x1c77a6(0x401)][_0x1c77a6(0x90d)][_0x1c77a6(0x50b)]=null;else throw new Error(_0x1c77a6(0x624));}if(_0x1ed513[_0x1c77a6(0x2a3)]&&_0x1ed513[_0x1c77a6(0x70b)]){let _0xca9c9c=await this[_0x1c77a6(0x6db)][_0x1c77a6(0x64b)][_0x1c77a6(0x1eb)](_0x1ed513['_id'],this[_0x1c77a6(0x401)][_0x1c77a6(0x242)]);return setTimeout(()=>this[_0x1c77a6(0x386)](),0x7d0),_0xca9c9c;}let _0x5d296e=null;if(_0x1ed513['_id']&&(_0x5d296e=await this['repository'][_0x1c77a6(0x64b)]['findById'](_0x1ed513[_0x1c77a6(0x70b)],this[_0x1c77a6(0x401)][_0x1c77a6(0x242)])),_0x5d296e){let {_id:_0x2a2dc2,owner:_0x5bceb9,messages:_0x7b559b,..._0x21de4f}=_0x1ed513;if(_0x7b559b){let _0x3fef32=_0x7b559b['filter'](_0x108224=>!_0x108224[_0x1c77a6(0x70b)]),_0x28932d=_0x7b559b[_0x1c77a6(0x901)](_0x13a0f7=>_0x13a0f7[_0x1c77a6(0x70b)]&&!_0x13a0f7[_0x1c77a6(0x2a3)]),_0x23726e=_0x7b559b[_0x1c77a6(0x901)](_0x15f51e=>_0x15f51e['_id']&&_0x15f51e['delete']);if(_0x3fef32[_0x1c77a6(0x844)]>0x0&&await this[_0x1c77a6(0x605)](_0x1ed513[_0x1c77a6(0x70b)],_0x3fef32),_0x28932d[_0x1c77a6(0x844)]>0x0&&await this[_0x1c77a6(0x642)]({'_id':_0x1ed513['_id'],'messages':_0x28932d}),_0x23726e[_0x1c77a6(0x844)]>0x0){let _0x2da975=_0x23726e[_0x1c77a6(0x521)](_0x30f78f=>({'updateOne':{'filter':{'_id':_0x1ed513['_id']},'update':{'$pull':{'messages':{'_id':_0x30f78f[_0x1c77a6(0x70b)]}}}}}));await this[_0x1c77a6(0x6db)][_0x1c77a6(0x64b)][_0x1c77a6(0x606)](_0x2da975,this[_0x1c77a6(0x401)]['wuid']);}}let _0x6ea814={'$set':{..._0x21de4f,'status':_0x1ed513[_0x1c77a6(0x730)]||_0x5d296e[_0x1c77a6(0x730)]}},_0x215847=await this[_0x1c77a6(0x6db)][_0x1c77a6(0x64b)]['updateOneById'](_0x1ed513['_id'],_0x6ea814,this['instance']['wuid']);return _0x215847&&(this[_0x1c77a6(0x740)](_0x215847['messages']),await this[_0x1c77a6(0x6db)][_0x1c77a6(0x64b)]['updateOneById'](_0x215847[_0x1c77a6(0x70b)],{'$set':{'messages':_0x215847[_0x1c77a6(0x1ef)]}},this['instance']['wuid'])),setTimeout(()=>this[_0x1c77a6(0x386)](),0x7d0),await this[_0x1c77a6(0x3e0)](),_0x215847;}else{_0x1ed513[_0x1c77a6(0x3f5)]=this[_0x1c77a6(0x401)][_0x1c77a6(0x242)],_0x1ed513[_0x1c77a6(0x1ef)]&&_0x1ed513['messages'][_0x1c77a6(0x8bf)](_0x3e0263=>{const _0x15535c=_0x1c77a6;_0x3e0263[_0x15535c(0x70b)]||(_0x3e0263['_id']=(0x0,Q['v4'])()),_0x3e0263['idSchedule']||(_0x3e0263[_0x15535c(0x1ae)]=_0x1ed513['_id']),delete _0x3e0263[_0x15535c(0x6e9)];});let _0x50cecf=await this['repository'][_0x1c77a6(0x64b)]['createAndSave'](_0x1ed513,this[_0x1c77a6(0x401)]['wuid']);return _0x50cecf&&(this[_0x1c77a6(0x740)](_0x50cecf['messages']),await this[_0x1c77a6(0x6db)][_0x1c77a6(0x64b)]['updateOneById'](_0x50cecf['_id'],{'$set':{'messages':_0x50cecf['messages']}},this[_0x1c77a6(0x401)][_0x1c77a6(0x242)])),setTimeout(()=>this[_0x1c77a6(0x386)](),0x7d0),_0x50cecf;}}catch(_0x556c08){let _0x2955aa='Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens',_0x34ac38=_0x556c08 instanceof Error?_0x556c08[_0x1c77a6(0x18c)]:typeof _0x556c08=='object'?JSON[_0x1c77a6(0x8cd)](_0x556c08):_0x556c08,_0x392c0d=_0x2955aa+':\x20'+_0x34ac38;throw this[_0x1c77a6(0x311)][_0x1c77a6(0x456)](this[_0x1c77a6(0x676)]+'\x20('+this[_0x1c77a6(0x401)][_0x1c77a6(0x242)]+_0x1c77a6(0x761)+_0x392c0d),new m(_0x392c0d);}}async[a0_0x1c66d9(0x605)](_0xd51f41,_0x7900f9){const _0x54bda2=a0_0x1c66d9;try{this[_0x54bda2(0x311)][_0x54bda2(0x3ad)](this[_0x54bda2(0x676)]+'\x20('+this['instance'][_0x54bda2(0x242)]+_0x54bda2(0x6aa)),_0x7900f9[_0x54bda2(0x8bf)](_0x1b199e=>{const _0x28c1c6=_0x54bda2;_0x1b199e[_0x28c1c6(0x70b)]||(_0x1b199e[_0x28c1c6(0x70b)]=(0x0,Q['v4'])()),_0x1b199e[_0x28c1c6(0x1ae)]||(_0x1b199e[_0x28c1c6(0x1ae)]=_0xd51f41),delete _0x1b199e[_0x28c1c6(0x6e9)];});let _0x32d530={'$push':{'messages':{'$each':_0x7900f9}}},_0x152cf6=await this[_0x54bda2(0x6db)][_0x54bda2(0x64b)][_0x54bda2(0x38c)](_0xd51f41,_0x32d530,this['instance'][_0x54bda2(0x242)]);return _0x152cf6&&(this[_0x54bda2(0x740)](_0x152cf6[_0x54bda2(0x1ef)]),await this['repository']['scheduleMessage']['updateOneById'](_0x152cf6['_id'],{'$set':{'messages':_0x152cf6[_0x54bda2(0x1ef)]}},this['instance'][_0x54bda2(0x242)])),_0x152cf6;}catch(_0x44c034){let _0x4337f1=_0x54bda2(0x8bd),_0x6115df=_0x44c034 instanceof Error?_0x44c034[_0x54bda2(0x18c)]:typeof _0x44c034==_0x54bda2(0x2c2)?JSON[_0x54bda2(0x8cd)](_0x44c034):_0x44c034,_0x1d7596=_0x4337f1+':\x20'+_0x6115df;throw this[_0x54bda2(0x311)]['error'](this[_0x54bda2(0x676)]+'\x20('+this[_0x54bda2(0x401)][_0x54bda2(0x242)]+_0x54bda2(0x761)+_0x1d7596),new m(_0x1d7596);}}async['editMessagesInGroup'](_0x420ab7){const _0x3deba1=a0_0x1c66d9;try{if(this[_0x3deba1(0x311)][_0x3deba1(0x3ad)](this[_0x3deba1(0x676)]+'\x20('+this[_0x3deba1(0x401)][_0x3deba1(0x242)]+_0x3deba1(0x4e3)),!_0x420ab7[_0x3deba1(0x70b)]||!_0x420ab7['messages'])throw new Error(_0x3deba1(0x312));let _0x165e1c=_0x420ab7[_0x3deba1(0x70b)],_0x31a041=_0x420ab7['messages'],_0x13a0ce=_0x31a041[_0x3deba1(0x901)](_0x35e875=>!_0x35e875[_0x3deba1(0x2a3)])['map'](_0x350485=>{const _0x4481ef=_0x3deba1;let _0x359f92=_0x350485[_0x4481ef(0x70b)];if(!_0x359f92)throw new Error('Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.');return _0x350485[_0x4481ef(0x1ae)]||(_0x350485[_0x4481ef(0x1ae)]=_0x165e1c),delete _0x350485['triedToSend'],{'updateOne':{'filter':{'_id':_0x165e1c,'messages._id':_0x359f92},'update':{'$set':{'messages.$[elem]':_0x350485}},'arrayFilters':[{'elem._id':_0x359f92}]}};}),_0x46a6c5=_0x31a041[_0x3deba1(0x901)](_0x4468e7=>_0x4468e7[_0x3deba1(0x2a3)])[_0x3deba1(0x521)](_0x54b11c=>{const _0x3c74ba=_0x3deba1;let _0x5b2731=_0x54b11c['_id'];if(!_0x5b2731)throw new Error(_0x3c74ba(0x839));return{'updateOne':{'filter':{'_id':_0x165e1c},'update':{'$pull':{'messages':{'_id':_0x5b2731}}}}};}),_0x442d98=[..._0x13a0ce,..._0x46a6c5],_0x30376d=await this[_0x3deba1(0x6db)]['scheduleMessage'][_0x3deba1(0x606)](_0x442d98,this[_0x3deba1(0x401)][_0x3deba1(0x242)]),_0x482b9d=await this[_0x3deba1(0x6db)][_0x3deba1(0x64b)][_0x3deba1(0x46a)](_0x165e1c,this['instance']['wuid']);return _0x482b9d&&(this['reorderMessages'](_0x482b9d[_0x3deba1(0x1ef)]),await this[_0x3deba1(0x6db)][_0x3deba1(0x64b)][_0x3deba1(0x38c)](_0x482b9d[_0x3deba1(0x70b)],{'$set':{'messages':_0x482b9d[_0x3deba1(0x1ef)]}},this[_0x3deba1(0x401)]['wuid'])),_0x482b9d;}catch(_0x1dea71){let _0x1fc7be=_0x3deba1(0x283),_0x4acef4=_0x1dea71 instanceof Error?_0x1dea71[_0x3deba1(0x18c)]:typeof _0x1dea71==_0x3deba1(0x2c2)?JSON[_0x3deba1(0x8cd)](_0x1dea71):_0x1dea71,_0x1a5569=_0x1fc7be+':\x20'+_0x4acef4;throw this[_0x3deba1(0x311)][_0x3deba1(0x456)](this[_0x3deba1(0x676)]+'\x20('+this[_0x3deba1(0x401)][_0x3deba1(0x242)]+_0x3deba1(0x761)+_0x1a5569),new m(_0x1a5569);}}async[a0_0x1c66d9(0x603)](){const _0x5d5f6a=a0_0x1c66d9;try{let _0x39e639={'status':_0x5d5f6a(0x61d)},_0x1f9064=await this[_0x5d5f6a(0x6db)][_0x5d5f6a(0x64b)]['deleteMany'](_0x39e639,this[_0x5d5f6a(0x401)][_0x5d5f6a(0x242)]);if(!_0x1f9064[_0x5d5f6a(0x456)])this[_0x5d5f6a(0x311)]['verbose'](this['instanceName']+'\x20('+this[_0x5d5f6a(0x401)]['wuid']+_0x5d5f6a(0x355));else throw new Error(_0x1f9064[_0x5d5f6a(0x456)]['message']||_0x5d5f6a(0x2e8));return this[_0x5d5f6a(0x859)]();}catch(_0x447391){let _0x125576=_0x5d5f6a(0x69b),_0x52b89a=_0x447391 instanceof Error?_0x447391[_0x5d5f6a(0x18c)]:typeof _0x447391==_0x5d5f6a(0x2c2)?JSON[_0x5d5f6a(0x8cd)](_0x447391):_0x447391,_0x1f6cc9=_0x125576+':\x20'+_0x52b89a;throw this[_0x5d5f6a(0x311)][_0x5d5f6a(0x456)](this[_0x5d5f6a(0x676)]+'\x20('+this[_0x5d5f6a(0x401)][_0x5d5f6a(0x242)]+'):\x20'+_0x1f6cc9),new m(_0x1f6cc9);}}async['deleteAllMessages'](){const _0x26591d=a0_0x1c66d9;try{this['instance'][_0x26591d(0x90d)]['isConnected']=!0x1,this['instance'][_0x26591d(0x90d)][_0x26591d(0x50b)]=null,this['queue']&&this[_0x26591d(0x7e4)][_0x26591d(0x7bc)](),this[_0x26591d(0x311)][_0x26591d(0x3ad)](this[_0x26591d(0x676)]+'\x20('+this[_0x26591d(0x401)][_0x26591d(0x242)]+'):\x20Aguardando\x205\x20segundos\x20para\x20garantir\x20interrupção\x20completa...'),await new Promise(_0x347b31=>setTimeout(_0x347b31,0x1388)),this[_0x26591d(0x311)]['verbose'](this[_0x26591d(0x676)]+'\x20('+this['instance']['wuid']+_0x26591d(0x63d));let _0x59a8fc=await this[_0x26591d(0x6db)][_0x26591d(0x64b)][_0x26591d(0x79e)]({},this[_0x26591d(0x401)][_0x26591d(0x242)]);if(!_0x59a8fc['error'])this['logger'][_0x26591d(0x3ad)](this[_0x26591d(0x676)]+'\x20('+this[_0x26591d(0x401)][_0x26591d(0x242)]+_0x26591d(0x6b1)),this[_0x26591d(0x311)][_0x26591d(0x3ad)](this[_0x26591d(0x676)]+'\x20('+this[_0x26591d(0x401)][_0x26591d(0x242)]+_0x26591d(0x3ec)),await new Promise(_0x3699e1=>setTimeout(_0x3699e1,0x1388)),this[_0x26591d(0x401)][_0x26591d(0x90d)][_0x26591d(0x3cc)]=!0x0,this[_0x26591d(0x311)]['verbose'](this[_0x26591d(0x676)]+'\x20('+this['instance'][_0x26591d(0x242)]+'):\x20Reconectando\x20serviço\x20de\x20mensagens\x20após\x20limpeza.'),this[_0x26591d(0x386)]();else throw new Error(_0x59a8fc[_0x26591d(0x456)]['message']||'Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens');return this['getScheduleMessage']();}catch(_0xfbd5c6){let _0x37a715=_0x26591d(0x710),_0x2a1f25=_0xfbd5c6 instanceof Error?_0xfbd5c6['message']:typeof _0xfbd5c6==_0x26591d(0x2c2)?JSON[_0x26591d(0x8cd)](_0xfbd5c6):_0xfbd5c6,_0x4d379c=_0x37a715+':\x20'+_0x2a1f25;throw this[_0x26591d(0x311)][_0x26591d(0x456)](this[_0x26591d(0x676)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x4d379c),new m(_0x4d379c);}}async[a0_0x1c66d9(0x859)](){const _0x3b31c9=a0_0x1c66d9;try{return await this[_0x3b31c9(0x6db)][_0x3b31c9(0x64b)][_0x3b31c9(0x705)]({'where':{}},this[_0x3b31c9(0x401)][_0x3b31c9(0x242)]);}catch(_0x24b8a1){let _0x221efc=_0x3b31c9(0x724),_0x12a30e=_0x24b8a1 instanceof Error?_0x24b8a1[_0x3b31c9(0x18c)]:typeof _0x24b8a1==_0x3b31c9(0x2c2)?JSON[_0x3b31c9(0x8cd)](_0x24b8a1):_0x24b8a1,_0x91b810=_0x221efc+':\x20'+_0x12a30e;throw this[_0x3b31c9(0x311)][_0x3b31c9(0x456)](this[_0x3b31c9(0x676)]+'\x20('+this[_0x3b31c9(0x401)]['wuid']+_0x3b31c9(0x761)+_0x91b810),new m(_0x91b810);}}[a0_0x1c66d9(0x740)](_0x3dbef3){const _0x469250=a0_0x1c66d9;_0x3dbef3[_0x469250(0x3db)]((_0x29a456,_0x2d59e7)=>_0x29a456[_0x469250(0x74d)]-_0x2d59e7[_0x469250(0x74d)]),_0x3dbef3[_0x469250(0x8bf)]((_0x288d21,_0x1f888d)=>{const _0x2b7eb1=_0x469250;_0x288d21[_0x2b7eb1(0x74d)]=_0x1f888d+0x1;});}async[a0_0x1c66d9(0x44b)](_0x4ecd68,_0x1e8ec0){const _0x5155cb=a0_0x1c66d9;try{if(!_0x1e8ec0)return this['logger'][_0x5155cb(0x456)](this[_0x5155cb(0x676)]+'\x20('+this[_0x5155cb(0x401)][_0x5155cb(0x242)]+_0x5155cb(0x2b8)),{'error':!0x0,'detail':_0x5155cb(0x449)};if(_0x1e8ec0[_0x5155cb(0x640)]==='flow'&&!this[_0x5155cb(0x4c1)]?.[_0x5155cb(0x2a9)][_0x5155cb(0x64d)])return this[_0x5155cb(0x311)][_0x5155cb(0x456)](this[_0x5155cb(0x676)]+'\x20('+this[_0x5155cb(0x401)]['wuid']+_0x5155cb(0x76c)),{'error':!0x0,'detail':_0x5155cb(0x2c7)};switch(_0x1e8ec0[_0x5155cb(0x640)]){case _0x5155cb(0x460):return await this[_0x5155cb(0x75c)](_0x1e8ec0,_0x4ecd68);case'video':case _0x5155cb(0x4bb):case _0x5155cb(0x32a):return await this[_0x5155cb(0x568)](_0x1e8ec0,_0x4ecd68);case _0x5155cb(0x641):return await this[_0x5155cb(0x46c)](_0x1e8ec0,_0x4ecd68);case _0x5155cb(0x719):let _0x2d0db2=new Qe();return _0x2d0db2['name']=_0x1e8ec0[_0x5155cb(0x719)],_0x2d0db2[_0x5155cb(0x328)]=_0x4ecd68,await this[_0x5155cb(0x6b9)](_0x2d0db2);default:return this[_0x5155cb(0x311)][_0x5155cb(0x456)](this[_0x5155cb(0x676)]+'\x20('+this['instance'][_0x5155cb(0x242)]+_0x5155cb(0x572)+_0x1e8ec0[_0x5155cb(0x640)]),{'error':!0x0,'detail':_0x5155cb(0x711)};}}catch(_0x1ad4d5){return this['logger'][_0x5155cb(0x456)](this[_0x5155cb(0x676)]+'\x20('+this[_0x5155cb(0x401)][_0x5155cb(0x242)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x1ad4d5 instanceof Error?_0x1ad4d5['message']:JSON[_0x5155cb(0x8cd)](_0x1ad4d5,null,0x2))),{'error':!0x0,'detail':_0x1ad4d5[_0x5155cb(0x18c)]};}}async['scheduleSendText'](_0x19a31e,_0x3329ff){const _0x1daae4=a0_0x1c66d9;if(this[_0x1daae4(0x311)][_0x1daae4(0x3ad)](this[_0x1daae4(0x676)]+'\x20('+this[_0x1daae4(0x401)]['wuid']+'):\x20\x27Enviando\x20texto\x20para\x20\x27'+_0x3329ff+'\x27'),!_0x19a31e['text']||_0x19a31e[_0x1daae4(0x460)][_0x1daae4(0x844)]===0x0)return{'error':!0x0,'detail':_0x1daae4(0x337)};let _0x166f8d=await this[_0x1daae4(0x758)](_0x19a31e[_0x1daae4(0x460)],_0x3329ff),_0x3e6d61={'number':_0x3329ff,'options':{'delay':_0x19a31e[_0x1daae4(0x21f)],'linkPreview':_0x19a31e[_0x1daae4(0x682)]},'textMessage':{'text':_0x166f8d}},_0x4a038c=null;try{let _0x179fb1=await this['textMessage'](_0x3e6d61);if(_0x179fb1&&_0x179fb1[_0x1daae4(0x730)])return{'error':!0x1,'id':_0x179fb1[_0x1daae4(0x757)]['id']};_0x4a038c=JSON['stringify'](_0x179fb1),this[_0x1daae4(0x311)][_0x1daae4(0x3ad)](this[_0x1daae4(0x676)]+'\x20('+this[_0x1daae4(0x401)][_0x1daae4(0x242)]+'):\x20'+_0x4a038c);}catch(_0x1183ea){this[_0x1daae4(0x311)][_0x1daae4(0x456)](this[_0x1daae4(0x676)]+'\x20('+this[_0x1daae4(0x401)][_0x1daae4(0x242)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x1183ea instanceof Error?_0x1183ea['message']:JSON['stringify'](_0x1183ea,null,0x2))),_0x4a038c=_0x1183ea[_0x1daae4(0x18c)];}if(_0x4a038c)return{'error':!0x0,'detail':(typeof _0x4a038c==_0x1daae4(0x2c2)?JSON[_0x1daae4(0x8cd)](_0x4a038c,null,0x2):_0x4a038c)[_0x1daae4(0x737)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x1c66d9(0x568)](_0x458031,_0x4e8445){const _0x18a2fe=a0_0x1c66d9;this['logger'][_0x18a2fe(0x3ad)](this[_0x18a2fe(0x676)]+'\x20('+this['instance']['wuid']+_0x18a2fe(0x195)+_0x4e8445+'\x27');let _0x5ae92c;_0x458031[_0x18a2fe(0x460)]&&_0x458031[_0x18a2fe(0x460)]['length']>0x0&&(_0x5ae92c=await this[_0x18a2fe(0x758)](_0x458031[_0x18a2fe(0x460)],_0x4e8445));let _0x1b4e3b={'number':_0x4e8445,'options':{'delay':_0x458031[_0x18a2fe(0x21f)],'linkPreview':_0x458031['linkPreview']},'mediaMessage':{'mediatype':_0x458031[_0x18a2fe(0x640)],'caption':_0x5ae92c,'media':_0x458031[_0x18a2fe(0x897)]}},_0x1c4e07=null;try{let _0x49b57a=await this[_0x18a2fe(0x8a1)](_0x1b4e3b);if(_0x49b57a&&_0x49b57a[_0x18a2fe(0x730)])return{'error':!0x1,'id':_0x49b57a['key']['id']};_0x1c4e07=JSON[_0x18a2fe(0x8cd)](_0x49b57a),this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x18a2fe(0x242)]+_0x18a2fe(0x761)+_0x1c4e07);}catch(_0x4d194b){this[_0x18a2fe(0x311)]['error'](this[_0x18a2fe(0x676)]+'\x20('+this[_0x18a2fe(0x401)][_0x18a2fe(0x242)]+_0x18a2fe(0x252)+(_0x4d194b instanceof Error?_0x4d194b[_0x18a2fe(0x18c)]:JSON[_0x18a2fe(0x8cd)](_0x4d194b,null,0x2))),_0x1c4e07=_0x4d194b[_0x18a2fe(0x18c)];}if(_0x1c4e07)return{'error':!0x0,'detail':(typeof _0x1c4e07==_0x18a2fe(0x2c2)?JSON['stringify'](_0x1c4e07,null,0x2):_0x1c4e07)['replace'](/[\[\]{}\n]/g,'\x20')[_0x18a2fe(0x737)](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x1779b1,_0x11c1b9){const _0x56c638=a0_0x1c66d9;this['logger'][_0x56c638(0x3ad)](this['instanceName']+'\x20('+this['instance'][_0x56c638(0x242)]+'):\x20\x27Enviando\x20audio\x20para\x20\x27'+_0x11c1b9+'\x27');let _0x4a1253={'number':_0x11c1b9,'options':{'delay':_0x1779b1[_0x56c638(0x21f)]},'audioMessage':{'audio':_0x1779b1[_0x56c638(0x897)]}},_0x59ee58=null;try{let _0x329904=await this['audioWhatsapp'](_0x4a1253);if(_0x329904&&_0x329904['status'])return{'error':!0x1,'id':_0x329904[_0x56c638(0x757)]['id']};_0x59ee58=JSON[_0x56c638(0x8cd)](_0x329904),this['logger'][_0x56c638(0x3ad)](this[_0x56c638(0x676)]+'\x20('+this[_0x56c638(0x401)][_0x56c638(0x242)]+'):\x20'+_0x59ee58);}catch(_0x3c4b5e){this[_0x56c638(0x311)][_0x56c638(0x456)](this[_0x56c638(0x676)]+'\x20('+this[_0x56c638(0x401)][_0x56c638(0x242)]+_0x56c638(0x1fa)+(_0x3c4b5e instanceof Error?_0x3c4b5e[_0x56c638(0x18c)]:JSON['stringify'](_0x3c4b5e,null,0x2))),_0x59ee58=_0x3c4b5e[_0x56c638(0x18c)];}if(_0x59ee58)return{'error':!0x0,'detail':(typeof _0x59ee58==_0x56c638(0x2c2)?JSON[_0x56c638(0x8cd)](_0x59ee58,null,0x2):_0x59ee58)[_0x56c638(0x737)](/[\[\]{}\n]/g,'\x20')[_0x56c638(0x737)](/  +/g,'\x20')};}async['groupDesc'](_0x54406a){const _0x2d213e=a0_0x1c66d9;try{return await this['client']['groupUpdateDescription'](_0x54406a['groupJid'],_0x54406a[_0x2d213e(0x530)]),{'update':_0x2d213e(0x7e8)};}catch(_0x5bcff4){let _0x33946d=_0x2d213e(0x81d),_0x540c12=_0x5bcff4 instanceof Error?_0x5bcff4[_0x2d213e(0x18c)]:typeof _0x5bcff4==_0x2d213e(0x2c2)?JSON[_0x2d213e(0x8cd)](_0x5bcff4):_0x5bcff4,_0xe8eac2=_0x33946d+':\x20'+_0x540c12;throw this[_0x2d213e(0x311)][_0x2d213e(0x456)](this['instanceName']+'\x20('+this[_0x2d213e(0x401)][_0x2d213e(0x242)]+_0x2d213e(0x761)+_0xe8eac2),new x(_0xe8eac2);}}async[a0_0x1c66d9(0x4a1)](_0x90c5d2){const _0x27bdb6=a0_0x1c66d9;try{return await this[_0x27bdb6(0x83a)]['groupUpdateSubject'](_0x90c5d2[_0x27bdb6(0x697)],_0x90c5d2[_0x27bdb6(0x87f)]),{'update':_0x27bdb6(0x7e8)};}catch(_0x4c3118){let _0x1ddd37=_0x27bdb6(0x2b7),_0x1f0c49=_0x4c3118 instanceof Error?_0x4c3118[_0x27bdb6(0x18c)]:typeof _0x4c3118==_0x27bdb6(0x2c2)?JSON[_0x27bdb6(0x8cd)](_0x4c3118):_0x4c3118,_0x38a81f=_0x1ddd37+':\x20'+_0x1f0c49;throw this['logger'][_0x27bdb6(0x456)](this['instanceName']+'\x20('+this[_0x27bdb6(0x401)]['wuid']+_0x27bdb6(0x761)+_0x38a81f),new x(_0x38a81f);}}async['toggleEphemeral'](_0x187ee4){const _0x4cea06=a0_0x1c66d9;try{let _0x3d3d1b=await this['client'][_0x4cea06(0x6cc)](_0x187ee4[_0x4cea06(0x697)],_0x187ee4['expiration']);return{'success':!0x0};}catch(_0x4caadb){let _0x2a35e7=_0x4cea06(0x1da),_0x1d0db5=_0x4caadb instanceof Error?_0x4caadb[_0x4cea06(0x18c)]:typeof _0x4caadb==_0x4cea06(0x2c2)?JSON[_0x4cea06(0x8cd)](_0x4caadb):_0x4caadb,_0x12ec7e=_0x2a35e7+':\x20'+_0x1d0db5;throw this['logger'][_0x4cea06(0x456)](this[_0x4cea06(0x676)]+'\x20('+this[_0x4cea06(0x401)][_0x4cea06(0x242)]+_0x4cea06(0x761)+_0x12ec7e),new x(_0x12ec7e);}}async[a0_0x1c66d9(0x462)](_0x4a37a2){const _0x20979a=a0_0x1c66d9;try{return await this[_0x20979a(0x83a)][_0x20979a(0x7d3)](_0x4a37a2[_0x20979a(0x697)],_0x4a37a2[_0x20979a(0x75b)]),{'update':_0x20979a(0x7e8)};}catch(_0x22da49){let _0x3878aa='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting',_0x2e7e51=_0x22da49 instanceof Error?_0x22da49['message']:typeof _0x22da49==_0x20979a(0x2c2)?JSON[_0x20979a(0x8cd)](_0x22da49):_0x22da49,_0x10ab35=_0x3878aa+':\x20'+_0x2e7e51;throw this['logger'][_0x20979a(0x456)](this[_0x20979a(0x676)]+'\x20('+this[_0x20979a(0x401)][_0x20979a(0x242)]+_0x20979a(0x761)+_0x10ab35),new x(_0x10ab35);}}async[a0_0x1c66d9(0x1ac)](_0x5606fe){const _0x5992a0=a0_0x1c66d9;try{let _0x37f4ce;if((0x0,J[_0x5992a0(0x5db)])(_0x5606fe[_0x5992a0(0x4bb)])){let _0x184956=new Date()['getTime'](),_0x2e7cd0=_0x5606fe[_0x5992a0(0x4bb)]+_0x5992a0(0x735)+_0x184956;_0x37f4ce=(await K[_0x5992a0(0x77c)][_0x5992a0(0x7b4)](_0x2e7cd0,{'responseType':_0x5992a0(0x647)}))[_0x5992a0(0x86c)];}else{if((0x0,J[_0x5992a0(0x801)])(_0x5606fe[_0x5992a0(0x4bb)]))_0x37f4ce=Buffer['from'](_0x5606fe[_0x5992a0(0x4bb)],_0x5992a0(0x473));else throw new m(_0x5992a0(0x672));}return await this['client']['updateProfilePicture'](_0x5606fe[_0x5992a0(0x697)],_0x37f4ce),{'update':_0x5992a0(0x7e8)};}catch(_0x52639a){let _0x17fef9=_0x5992a0(0x76d),_0x185f50=_0x52639a instanceof Error?_0x52639a[_0x5992a0(0x18c)]:typeof _0x52639a==_0x5992a0(0x2c2)?JSON[_0x5992a0(0x8cd)](_0x52639a):_0x52639a,_0x1efeb0=_0x17fef9+':\x20'+_0x185f50;throw this['logger'][_0x5992a0(0x456)](this[_0x5992a0(0x676)]+'\x20('+this[_0x5992a0(0x401)][_0x5992a0(0x242)]+'):\x20'+_0x1efeb0),new x(_0x1efeb0);}}},Vt=class l{constructor(_0x367c6d,_0x188823,_0x15af3b){const _0x54d397=a0_0x1c66d9;this[_0x54d397(0x1a0)]=_0x367c6d,this[_0x54d397(0x62b)]=_0x188823,this[_0x54d397(0x6db)]=_0x15af3b,this['db']={},this[_0x54d397(0x288)]={},this['logger']=new $(l[_0x54d397(0x87f)]),this[_0x54d397(0x353)]={},(this[_0x54d397(0x6dd)](),this[_0x54d397(0x667)](),Object[_0x54d397(0x1c5)](this['db'],_0x188823['get']('DATABASE')),Object['assign'](this[_0x54d397(0x288)],_0x188823['get'](_0x54d397(0x357))),this['dbInstance']=this['db'][_0x54d397(0x8d2)]?this[_0x54d397(0x6db)][_0x54d397(0x812)]?.['db'](this['db']['CONNECTION'][_0x54d397(0x857)]+_0x54d397(0x6ff)):void 0x0,this[_0x54d397(0x352)]=this[_0x54d397(0x288)][_0x54d397(0x8d2)]?new de(this['redis']):void 0x0);}async[a0_0x1c66d9(0x503)](_0x52f8db){const _0x109a0a=a0_0x1c66d9;if(_0x52f8db&&!this[_0x109a0a(0x353)][_0x52f8db])throw new U('Instance\x20\x22'+_0x52f8db+_0x109a0a(0x6e5));let _0x5e656a=[];for await(let [_0xcfdc44,_0x7317c3]of Object[_0x109a0a(0x7eb)](this[_0x109a0a(0x353)]))if(_0x7317c3&&_0x7317c3[_0x109a0a(0x494)][_0x109a0a(0x628)]===_0x109a0a(0x32f)){let _0x1c563c=await this[_0x109a0a(0x6db)][_0x109a0a(0x3c8)][_0x109a0a(0x705)](_0xcfdc44);_0x5e656a[_0x109a0a(0x463)]({'instance':{'instanceName':_0xcfdc44,'apikey':_0x1c563c[_0x109a0a(0x375)],'owner':_0x7317c3[_0x109a0a(0x242)],'profileName':await _0x7317c3[_0x109a0a(0x585)]()||_0x109a0a(0x574),'profilePictureUrl':_0x7317c3[_0x109a0a(0x8d0)]}});}return _0x5e656a[_0x109a0a(0x705)](_0x28aa55=>_0x28aa55[_0x109a0a(0x401)][_0x109a0a(0x676)]===_0x52f8db)??_0x5e656a;}async['cleaningUp'](_0x57827e){const _0x2cac32=a0_0x1c66d9;if(this['db'][_0x2cac32(0x8d2)]&&(await this[_0x2cac32(0x6db)][_0x2cac32(0x812)][_0x2cac32(0x24e)](),(await this['dbInstance'][_0x2cac32(0x4dd)]())[_0x2cac32(0x844)]>0x0&&await this[_0x2cac32(0x723)][_0x2cac32(0x47f)](_0x57827e)),this['redis'][_0x2cac32(0x8d2)]){this[_0x2cac32(0x352)][_0x2cac32(0x47e)]=_0x57827e,await this['cache'][_0x2cac32(0x895)]();return;}}async[a0_0x1c66d9(0x1fc)](){const _0x3ad086=a0_0x1c66d9;await this['InstancesAlterarTodas']();let _0x512a94=async _0x1b9e2f=>{const _0x51ab02=a0_0x24da;let _0x139422=new Ae(this[_0x51ab02(0x62b)],this['eventEmitter'],this[_0x51ab02(0x6db)]);_0x139422['instanceName']=_0x1b9e2f,await _0x139422['connectToWhatsapp'](),this[_0x51ab02(0x353)][_0x1b9e2f]=_0x139422;};try{if(this[_0x3ad086(0x288)]['ENABLED']){let _0x46839b=await this['cache'][_0x3ad086(0x8b3)]();_0x46839b?.['length']>0x0&&_0x46839b[_0x3ad086(0x8bf)](async _0x2f6315=>await _0x512a94(_0x2f6315[_0x3ad086(0x444)](':')[0x1]));return;}if(this['db'][_0x3ad086(0x8d2)]){await this['repository'][_0x3ad086(0x812)][_0x3ad086(0x24e)]();let _0x20e8dc=await this[_0x3ad086(0x723)][_0x3ad086(0x4dd)]();_0x20e8dc['length']>0x0&&_0x20e8dc[_0x3ad086(0x8bf)](async _0x175e03=>await _0x512a94(_0x175e03[_0x3ad086(0x2a8)][_0x3ad086(0x737)](/^[\w-]+\./,'')));return;}}catch(_0x2d59e8){this[_0x3ad086(0x311)][_0x3ad086(0x456)](_0x2d59e8);}}async[a0_0x1c66d9(0x4f8)](){const _0xabbf15=a0_0x1c66d9;try{let _0x4016ea=await this['repository'][_0xabbf15(0x3c8)][_0xabbf15(0x1a7)]({'online':!0x1});console['log'](_0xabbf15(0x528)+_0x4016ea[_0xabbf15(0x844)]);let _0x195fff={'online':!0x1},_0x223dd5=await this['repository'][_0xabbf15(0x3c8)][_0xabbf15(0x79e)](_0x195fff);console[_0xabbf15(0x19c)](_0xabbf15(0x34b)+_0x223dd5[_0xabbf15(0x380)]);}catch(_0x1d8167){console[_0xabbf15(0x456)](_0xabbf15(0x592),_0x1d8167);}}async[a0_0x1c66d9(0x360)](){const _0x4e6cd7=a0_0x1c66d9;try{let _0x45c814={'online':!0x1},_0x434b05={'online':!0x1,'lastDisconnect':Date[_0x4e6cd7(0x2f2)]()},_0x216f11=await this['repository'][_0x4e6cd7(0x3c8)]['updateAll'](_0x45c814,_0x434b05);await this['cleanDisconnectedInstances']();}catch(_0x4061fa){console[_0x4e6cd7(0x456)](_0x4e6cd7(0x68d),_0x4061fa);}}[a0_0x1c66d9(0x6dd)](){const _0x6185ab=a0_0x1c66d9;this[_0x6185ab(0x1a0)]['on'](_0x6185ab(0x596),async _0x252c4c=>{const _0xc3fd81=_0x6185ab;try{this[_0xc3fd81(0x353)][_0x252c4c]=void 0x0;}catch{}try{this[_0xc3fd81(0x639)](_0x252c4c);}finally{this[_0xc3fd81(0x311)][_0xc3fd81(0x8ce)]('Instance\x20\x22'+_0x252c4c+_0xc3fd81(0x3b3));}});}[a0_0x1c66d9(0x667)](){const _0x55ba2a=a0_0x1c66d9;this['eventEmitter']['on'](_0x55ba2a(0x329),async _0x4ff86c=>{const _0x4ebf57=_0x55ba2a;try{this[_0x4ebf57(0x353)][_0x4ff86c]=void 0x0;}catch{}try{this[_0x4ebf57(0x639)](_0x4ff86c);}finally{this[_0x4ebf57(0x311)][_0x4ebf57(0x8ce)](_0x4ebf57(0x7cd)+_0x4ff86c+_0x4ebf57(0x4a0));}});}},Gt=class extends O{[a0_0x1c66d9(0x1fe)](_0xa91057){return ra(_0xa91057);}async[a0_0x1c66d9(0x256)](_0x103112){const _0x50d708=a0_0x1c66d9;if(_0x103112[_0x50d708(0x844)]!==0x0)try{return{'insertCount':(await this[_0x50d708(0x1fe)](_0x103112[0x0][_0x50d708(0x3f5)])[_0x50d708(0x84b)]([..._0x103112]))[_0x50d708(0x844)]};}catch(_0x3b28ff){return _0x3b28ff;}}async['find'](_0xa305ea,_0x4bcec9){const _0x3c6e95=a0_0x1c66d9;try{let _0x1d6951=this[_0x3c6e95(0x1fe)](_0x4bcec9),_0x4b3814=A(_0xa305ea[_0x3c6e95(0x30f)]);return await _0x1d6951[_0x3c6e95(0x705)](_0x4b3814)['sort']({'lastmsg':-0x1})[_0x3c6e95(0x4ad)](_0xa305ea?.['limit']??0x0)[_0x3c6e95(0x58d)]();}catch{return[];}}async[a0_0x1c66d9(0x44c)](_0xf5c404,_0x1936d2){const _0x2687f3=a0_0x1c66d9;try{let _0x3c12c6=this[_0x2687f3(0x1fe)](_0x1936d2),_0x4b0fd2=A(_0xf5c404[_0x2687f3(0x30f)]);return _0x4b0fd2['groupdata.participants']={'$ne':[]},await _0x3c12c6[_0x2687f3(0x705)](_0x4b0fd2)[_0x2687f3(0x3db)]({'lastmsg':-0x1})[_0x2687f3(0x4ad)](_0xf5c404?.[_0x2687f3(0x4ad)]??0x0)['lean']();}catch{return[];}}async[a0_0x1c66d9(0x2a3)](_0x42a3ed,_0x137715){const _0x28c97e=a0_0x1c66d9;try{return{'deletedCount':(await this[_0x28c97e(0x1fe)](_0x137715)[_0x28c97e(0x79e)]({..._0x42a3ed[_0x28c97e(0x30f)]}))[_0x28c97e(0x341)]};}catch(_0x730aaa){return{'error':_0x730aaa?.['toString']()};}}async[a0_0x1c66d9(0x81f)](_0x2604de,_0x201423){const _0x3de23f=a0_0x1c66d9;try{return await this[_0x3de23f(0x1fe)](_0x201423)[_0x3de23f(0x79e)]({..._0x2604de[_0x3de23f(0x30f)]}),[];}catch(_0x420a9d){return{'error':_0x420a9d?.[_0x3de23f(0x37f)]()};}}async[a0_0x1c66d9(0x44a)](_0x2199f4,_0x2d40e2){const _0x30d155=a0_0x1c66d9;try{let _0xfc7679=this['getChatModelForOwner'](_0x2d40e2),_0x1f3caf=A(_0x2199f4[_0x30d155(0x30f)]);return await _0xfc7679[_0x30d155(0x44a)](_0x1f3caf)[_0x30d155(0x58d)]();}catch{return null;}}async[a0_0x1c66d9(0x2cd)](_0x233654,_0x3abe55,_0x3dc9e6,_0x3979ea,_0x4166d1=a0_0x1c66d9(0x4c2)){const _0x5b88ed=a0_0x1c66d9;try{let _0xc94505={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x3979ea},_0x530602=this[_0x5b88ed(0x1fe)](_0x3dc9e6),_0x1af852=A(_0x233654['where']);Object[_0x5b88ed(0x4cb)](_0x3abe55)[_0x5b88ed(0x8bf)](_0x3d3937=>{_0x3abe55[_0x3d3937]==null&&delete _0x3abe55[_0x3d3937];});let _0x54fc59={};return _0x54fc59[_0x4166d1]=_0x3abe55,await _0x530602['findOneAndUpdate'](_0x1af852,_0x54fc59,_0xc94505);}catch(_0x402400){return console[_0x5b88ed(0x456)](_0x402400),null;}}async[a0_0x1c66d9(0x62c)](_0x2b3acb){const _0x302284=a0_0x1c66d9;try{let _0x54cc11=this['getChatModelForOwner'](_0x2b3acb[0x0][_0x302284(0x6b2)][_0x302284(0x30f)]['owner']),_0xe1305c=_0x2b3acb[_0x302284(0x521)](_0x1182e7=>({'updateOne':{'filter':{..._0x1182e7[_0x302284(0x6b2)][_0x302284(0x30f)]},'update':{'$set':_0x1182e7['update']},'upsert':!0x0}})),_0x1c7233=await _0x54cc11[_0x302284(0x606)](_0xe1305c);return _0x1c7233['modifiedCount']+_0x1c7233[_0x302284(0x62e)];}catch(_0x3b6b9d){return console[_0x302284(0x456)](_0x3b6b9d),0x0;}}async[a0_0x1c66d9(0x822)](_0x50576b){const _0x22c649=a0_0x1c66d9;try{let _0x376980={'group_isCommunity':'','group_announce':'','group_size':''},_0x40a57d={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x30507d={'$unset':_0x376980};return(await this[_0x22c649(0x1fe)](_0x50576b)[_0x22c649(0x62c)](_0x40a57d,_0x30507d))[_0x22c649(0x445)];}catch(_0x2b6125){return console[_0x22c649(0x456)](_0x22c649(0x1ea),_0x2b6125),0x0;}}async[a0_0x1c66d9(0x36a)](_0x2ba862){const _0x435f6b=a0_0x1c66d9;try{let _0x2565da=this[_0x435f6b(0x1fe)](_0x2ba862),_0xec9e6f={'leadInfo.etiquetas':{'$exists':!0x1}},_0x7c2480={'$set':{'leadInfo.etiquetas':[]}};return(await _0x2565da[_0x435f6b(0x62c)](_0xec9e6f,_0x7c2480))[_0x435f6b(0x445)];}catch(_0x1bc20d){return console['error'](_0x1bc20d),0x0;}}async[a0_0x1c66d9(0x748)](_0x4cfa2f){const _0x4fa205=a0_0x1c66d9;try{let _0x55e427=this[_0x4fa205(0x1fe)](_0x4cfa2f),_0x5b49aa={'leadInfo.tags':{'$exists':!0x1}},_0x1a1432={'$set':{'leadInfo.tags':[]}};return(await _0x55e427['updateMany'](_0x5b49aa,_0x1a1432))[_0x4fa205(0x445)];}catch(_0x42572a){return console[_0x4fa205(0x456)](_0x42572a),0x0;}}async[a0_0x1c66d9(0x385)](_0x9795e1){const _0x51f0a0=a0_0x1c66d9;try{let _0x25473c=this[_0x51f0a0(0x1fe)](_0x9795e1),_0x11bd05={'leadInfo.customFields':{'$exists':!0x1}},_0x4fbc6d={'$set':{'leadInfo.customFields':[]}};return(await _0x25473c[_0x51f0a0(0x62c)](_0x11bd05,_0x4fbc6d))[_0x51f0a0(0x445)];}catch(_0x2f9f80){return console[_0x51f0a0(0x456)](_0x2f9f80),0x0;}}async[a0_0x1c66d9(0x84b)](_0x49f3e5,_0xcf08ee){const _0x4a5d39=a0_0x1c66d9;if(!Array[_0x4a5d39(0x1d3)](_0x49f3e5)||_0x49f3e5[_0x4a5d39(0x844)]===0x0)throw new Error(_0x4a5d39(0x470));try{return(await this['getChatModelForOwner'](_0xcf08ee)[_0x4a5d39(0x84b)](_0x49f3e5))[_0x4a5d39(0x844)];}catch(_0x3e395c){throw console['error'](_0x4a5d39(0x251),_0x3e395c),_0x3e395c;}}async[a0_0x1c66d9(0x2fc)](_0x42cb3f,_0x2e7e7d){const _0x232ebc=a0_0x1c66d9;try{await this[_0x232ebc(0x1fe)](_0x2e7e7d)[_0x232ebc(0x1eb)]({'_id':_0x42cb3f});}catch(_0x43fa01){throw console[_0x232ebc(0x456)](_0x232ebc(0x3ef),_0x43fa01),_0x43fa01;}}},Bt=class extends O{constructor(_0x5821e2,_0x4f43e1,_0x1f03b7){const _0x45ffc7=a0_0x1c66d9;super(_0x4f43e1),this['cacheContactModel']=_0x5821e2,this['configService']=_0x4f43e1,this[_0x45ffc7(0x578)]=_0x1f03b7;}async[a0_0x1c66d9(0x256)](_0x58a43e){const _0x574109=a0_0x1c66d9;if(_0x58a43e[_0x574109(0x844)]!==0x0)try{return{'insertCount':(await this[_0x574109(0x7ca)]['insertMany']([..._0x58a43e]))['length']};}catch(_0x1ab71f){return _0x1ab71f;}}async['update'](_0x280ed0,_0xcf7bfa){const _0xaf2e25=a0_0x1c66d9;try{let _0x10820d=A(_0x280ed0[_0xaf2e25(0x30f)]);return{'updatedCount':(await this[_0xaf2e25(0x7ca)]['updateMany'](_0x10820d,{'$set':_0xcf7bfa}))['modifiedCount']};}catch(_0x34e084){return console[_0xaf2e25(0x456)](_0xaf2e25(0x629),_0x34e084),{'error':_0x34e084['toString']()};}}async[a0_0x1c66d9(0x5f7)](_0x367672){const _0x132ca8=a0_0x1c66d9;try{let _0x33be83={'_id':{'$in':_0x367672}};return await this[_0x132ca8(0x7ca)][_0x132ca8(0x705)](_0x33be83)[_0x132ca8(0x58d)]();}catch(_0x2d798e){return console[_0x132ca8(0x456)](_0x132ca8(0x3c6),_0x2d798e),[];}}async[a0_0x1c66d9(0x2a3)](_0x48259a){const _0x18383b=a0_0x1c66d9;try{return{'deletedCount':(await this['cacheContactModel'][_0x18383b(0x79e)]({..._0x48259a['where']}))[_0x18383b(0x341)]};}catch(_0x1fbc47){return{'error':_0x1fbc47?.[_0x18383b(0x37f)]()};}}async[a0_0x1c66d9(0x705)](_0x2f782c){const _0x36a66e=a0_0x1c66d9;try{let _0x275646=A(_0x2f782c[_0x36a66e(0x30f)]);return await this['cacheContactModel']['find'](_0x275646)[_0x36a66e(0x4ad)](_0x2f782c?.['limit']??0x0)[_0x36a66e(0x58d)]();}catch{return[];}}async[a0_0x1c66d9(0x44a)](_0x475e06){const _0x2f8560=a0_0x1c66d9;try{let _0x34f694=A(_0x475e06[_0x2f8560(0x30f)]);return await this[_0x2f8560(0x7ca)][_0x2f8560(0x44a)](_0x34f694)[_0x2f8560(0x58d)]();}catch{return null;}}},Wt=class extends O{constructor(_0x375140,_0x31e923,_0x4ddb76){const _0xb2bcc9=a0_0x1c66d9;super(_0x31e923),this['messageLogsModel']=_0x375140,this[_0xb2bcc9(0x62b)]=_0x31e923,this[_0xb2bcc9(0x578)]=_0x4ddb76;}async['insert'](_0x3f1cbe){const _0x3c236f=a0_0x1c66d9;if(_0x3f1cbe[_0x3c236f(0x844)]!==0x0)try{return{'insertCount':(await this[_0x3c236f(0x4d3)][_0x3c236f(0x84b)]([..._0x3f1cbe]))[_0x3c236f(0x844)]};}catch(_0x4d54e1){return _0x4d54e1;}}async[a0_0x1c66d9(0x2de)](_0x1f4a45,_0x1d2f1f){const _0x28ec4c=a0_0x1c66d9;try{let _0x5513bb=A(_0x1f4a45[_0x28ec4c(0x30f)]);return{'updatedCount':(await this[_0x28ec4c(0x4d3)][_0x28ec4c(0x62c)](_0x5513bb,{'$set':_0x1d2f1f}))[_0x28ec4c(0x445)]};}catch(_0x56d136){return console[_0x28ec4c(0x456)](_0x28ec4c(0x629),_0x56d136),{'error':_0x56d136[_0x28ec4c(0x37f)]()};}}async['delete'](_0x315074){const _0x2d82e4=a0_0x1c66d9;try{return{'deletedCount':(await this[_0x2d82e4(0x4d3)]['deleteMany']({..._0x315074[_0x2d82e4(0x30f)]}))['deletedCount']};}catch(_0x5bf487){return{'error':_0x5bf487?.[_0x2d82e4(0x37f)]()};}}async[a0_0x1c66d9(0x44a)](_0x15a991){const _0x300a3f=a0_0x1c66d9;try{let _0x3a061c=A(_0x15a991[_0x300a3f(0x30f)]);return await this[_0x300a3f(0x4d3)]['findOne'](_0x3a061c)[_0x300a3f(0x58d)]();}catch{return null;}}},zt=class extends O{[a0_0x1c66d9(0x27d)](_0x28375a){return Aa(_0x28375a);}async[a0_0x1c66d9(0x2cd)](_0x238fd8,_0xf40e1f,_0x353457,_0x16a18b){const _0x5af291=a0_0x1c66d9;try{let _0x3e8748={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x16a18b},_0x2880e3=this[_0x5af291(0x27d)](_0x353457),_0x1cf927=A(_0x238fd8['where']);return await _0x2880e3[_0x5af291(0x2c8)](_0x1cf927,{'$set':_0xf40e1f},_0x3e8748);}catch(_0x2ffc52){return console[_0x5af291(0x456)](_0x2ffc52),null;}}async[a0_0x1c66d9(0x705)](_0x3ee66e,_0xbe4b8c){const _0xeb275=a0_0x1c66d9;try{let _0x2e67c8=this[_0xeb275(0x27d)](_0xbe4b8c),_0x4dc11b=A(_0x3ee66e[_0xeb275(0x30f)]);return await _0x2e67c8[_0xeb275(0x705)](_0x4dc11b);}catch(_0x3329d8){console[_0xeb275(0x456)](_0x3329d8);}}async[a0_0x1c66d9(0x2a3)](_0x45ada8,_0x2ad129){const _0x5b1abf=a0_0x1c66d9;try{let _0x115354=this[_0x5b1abf(0x27d)](_0x2ad129),_0xca087d=A(_0x45ada8['where']);await _0x115354[_0x5b1abf(0x79e)](_0xca087d);}catch(_0x44061a){console['error'](_0x44061a);}}async[a0_0x1c66d9(0x81f)](_0x2ac261){const _0x1526af=a0_0x1c66d9;try{return await this['getLabelModelForOwner'](_0x2ac261)[_0x1526af(0x633)][_0x1526af(0x907)](),{'success':!0x0};}catch(_0x19c7e0){return console[_0x1526af(0x456)](_0x19c7e0),{'success':!0x1,'error':_0x19c7e0};}}},Ht=class{constructor(_0x2e9c76){this['waMonitor']=_0x2e9c76;}async[a0_0x1c66d9(0x3e5)]({instanceName:_0x5456ed},_0x8bf30f){const _0x1b597c=a0_0x1c66d9;return await this[_0x1b597c(0x501)]['waInstances'][_0x5456ed][_0x1b597c(0x3e5)](_0x8bf30f);}async['whatsappNumber']({instanceName:_0x2f236c},_0xe738e1){const _0x369725=a0_0x1c66d9;return await this[_0x369725(0x501)][_0x369725(0x353)][_0x2f236c][_0x369725(0x8f4)](_0xe738e1);}async['importChats']({instanceName:_0x27bea1},_0x4664b1){const _0x4ce20a=a0_0x1c66d9;return await this[_0x4ce20a(0x501)]['waInstances'][_0x27bea1][_0x4ce20a(0x294)](_0x4664b1);}async['readMessage']({instanceName:_0x1f45db},_0x56e671){const _0x144854=a0_0x1c66d9;return await this[_0x144854(0x501)][_0x144854(0x353)][_0x1f45db]['markMessageAsRead'](_0x56e671);}async['archiveChat']({instanceName:_0x2b3908},_0x5468b2){const _0x16e164=a0_0x1c66d9;return await this[_0x16e164(0x501)][_0x16e164(0x353)][_0x2b3908][_0x16e164(0x4eb)](_0x5468b2);}async[a0_0x1c66d9(0x689)]({instanceName:_0x3c3d75},_0x40eff3){const _0x171e57=a0_0x1c66d9;return await this[_0x171e57(0x501)][_0x171e57(0x353)][_0x3c3d75][_0x171e57(0x689)](_0x40eff3);}async[a0_0x1c66d9(0x22e)]({instanceName:_0xeb4978},_0x543bb2){const _0x3e0a1c=a0_0x1c66d9;return await this[_0x3e0a1c(0x501)][_0x3e0a1c(0x353)][_0xeb4978][_0x3e0a1c(0x428)](_0x543bb2[_0x3e0a1c(0x4e8)]);}async[a0_0x1c66d9(0x73f)]({instanceName:_0x51fcee},_0x5832e4){const _0x5a2e04=a0_0x1c66d9;return await this['waMonitor'][_0x5a2e04(0x353)][_0x51fcee][_0x5a2e04(0x73f)](_0x5832e4[_0x5a2e04(0x4e8)]);}async[a0_0x1c66d9(0x7f2)]({instanceName:_0x2f7ff6},_0x80b904){const _0x48c8ee=a0_0x1c66d9;return await this['waMonitor'][_0x48c8ee(0x353)][_0x2f7ff6][_0x48c8ee(0x7f2)](_0x80b904);}async[a0_0x1c66d9(0x33b)]({instanceName:_0x203f92},_0x620898){const _0x9d745d=a0_0x1c66d9;return await this['waMonitor'][_0x9d745d(0x353)][_0x203f92]['fetchContacts'](_0x620898);}async['getBase64FromMediaMessage']({instanceName:_0xf7afbe},_0x229856){const _0x2e0d3a=a0_0x1c66d9;return await this[_0x2e0d3a(0x501)][_0x2e0d3a(0x353)][_0xf7afbe][_0x2e0d3a(0x3b7)](_0x229856);}async[a0_0x1c66d9(0x662)]({instanceName:_0x36013b},_0x42f9dd){const _0x5f2058=a0_0x1c66d9;return await this['waMonitor'][_0x5f2058(0x353)][_0x36013b]['fetchMessages'](_0x42f9dd);}async['fetchLabels']({instanceName:_0x37e993}){const _0x148569=a0_0x1c66d9;return await this[_0x148569(0x501)][_0x148569(0x353)][_0x37e993][_0x148569(0x880)]();}async[a0_0x1c66d9(0x68f)]({instanceName:_0x501f08}){const _0x2fd90e=a0_0x1c66d9;return await this[_0x2fd90e(0x501)][_0x2fd90e(0x353)][_0x501f08][_0x2fd90e(0x68f)]();}async[a0_0x1c66d9(0x8b4)]({instanceName:_0x157a47}){const _0x217dcb=a0_0x1c66d9;return await this[_0x217dcb(0x501)][_0x217dcb(0x353)][_0x157a47]['fetchPrivacySettings']();}async['updatePrivacySettings']({instanceName:_0x2d9732},_0x25f7d0){const _0x9dc96=a0_0x1c66d9;return await this[_0x9dc96(0x501)][_0x9dc96(0x353)][_0x2d9732][_0x9dc96(0x8da)](_0x25f7d0);}async[a0_0x1c66d9(0x665)]({instanceName:_0x59796e},_0xd5fa6b){const _0x110c83=a0_0x1c66d9;return await this[_0x110c83(0x501)][_0x110c83(0x353)][_0x59796e][_0x110c83(0x665)](_0xd5fa6b[_0x110c83(0x4e8)]);}async[a0_0x1c66d9(0x8fc)]({instanceName:_0x2d65b3},_0xc3a389){const _0x2b3f80=a0_0x1c66d9;return await this[_0x2b3f80(0x501)][_0x2b3f80(0x353)][_0x2d65b3][_0x2b3f80(0x8fc)](_0xc3a389[_0x2b3f80(0x87f)]);}async['updateProfileStatus']({instanceName:_0x5a3119},_0x33edce){const _0xb202d9=a0_0x1c66d9;return await this[_0xb202d9(0x501)][_0xb202d9(0x353)][_0x5a3119][_0xb202d9(0x604)](_0x33edce[_0xb202d9(0x730)]);}async[a0_0x1c66d9(0x54b)]({instanceName:_0x37df6b},_0x3b0e54){const _0x462c3b=a0_0x1c66d9;return await this[_0x462c3b(0x501)][_0x462c3b(0x353)][_0x37df6b][_0x462c3b(0x54b)](_0x3b0e54[_0x462c3b(0x343)]);}async[a0_0x1c66d9(0x78c)]({instanceName:_0x5ed64e},_0x2ba4a0){const _0x538d9f=a0_0x1c66d9;return await this[_0x538d9f(0x501)][_0x538d9f(0x353)][_0x5ed64e][_0x538d9f(0x78c)]();}},Kt=require('@whiskeysockets/baileys'),Qt=class l{constructor(_0x220f35,_0x273e8a,_0x280c7d,_0x187358,_0x3b5880){const _0x2ca86c=a0_0x1c66d9;this[_0x2ca86c(0x501)]=_0x220f35,this[_0x2ca86c(0x62b)]=_0x273e8a,this[_0x2ca86c(0x6db)]=_0x280c7d,this[_0x2ca86c(0x1a0)]=_0x187358,this[_0x2ca86c(0x609)]=_0x3b5880,this[_0x2ca86c(0x311)]=new $(l[_0x2ca86c(0x87f)]);}async[a0_0x1c66d9(0x350)]({instanceName:_0x17b155,apikey:_0x33f79b,number:_0x23a02c,proxy:_0x58e774=!0x0}){const _0x17c39e=a0_0x1c66d9;try{let _0x408d76=new Ae(this['configService'],this['eventEmitter'],this[_0x17c39e(0x6db)]);_0x408d76[_0x17c39e(0x676)]=_0x17b155,this['waMonitor'][_0x17c39e(0x353)][_0x408d76[_0x17c39e(0x676)]]=_0x408d76;let _0x56f603={};_0x33f79b?(await this[_0x17c39e(0x6db)][_0x17c39e(0x3c8)][_0x17c39e(0x548)]({'apikey':_0x33f79b},_0x17b155),_0x56f603[_0x17c39e(0x375)]=_0x33f79b):_0x56f603=await this[_0x17c39e(0x609)][_0x17c39e(0x742)]({'instanceName':_0x408d76[_0x17c39e(0x676)]});let _0x512a5a;if(_0x23a02c){if(_0x512a5a=await this[_0x17c39e(0x643)](_0x23a02c),_0x512a5a[_0x17c39e(0x456)])throw new x(_0x512a5a[_0x17c39e(0x456)][_0x17c39e(0x37f)]());_0x23a02c=_0x512a5a[_0x17c39e(0x4e8)];}let _0x366810;return await _0x408d76[_0x17c39e(0x6a5)](_0x23a02c),await(0x0,Kt[_0x17c39e(0x21f)])(0xfa0),_0x23a02c&&await(0x0,Kt[_0x17c39e(0x21f)])(0xbb8),_0x366810=_0x408d76['qrCode'],{'instance':{'instanceName':_0x408d76[_0x17c39e(0x676)],'status':_0x17c39e(0x6e6)},'hash':_0x56f603,'qrcode':_0x366810};}catch(_0x35603e){throw this['logger'][_0x17c39e(0x456)](_0x35603e),_0x35603e;}}async[a0_0x1c66d9(0x6ae)]({instanceName:_0x20b2b5,number:_0x232c86=null}){const _0x34ceed=a0_0x1c66d9;try{let _0x3764da=this[_0x34ceed(0x501)]['waInstances'][_0x20b2b5];switch(_0x3764da?.[_0x34ceed(0x494)]?.['state']){case _0x34ceed(0x57b):return await _0x3764da['connectToWhatsapp'](_0x232c86),await(0x0,Kt[_0x34ceed(0x21f)])(0x7d0),_0x3764da[_0x34ceed(0x5fb)];case'connecting':return _0x3764da[_0x34ceed(0x5fb)];default:return await this['connectionState']({'instanceName':_0x20b2b5});}}catch(_0xcd01db){this[_0x34ceed(0x311)][_0x34ceed(0x19c)](_0xcd01db);}}async['connectionState']({instanceName:_0x10b974}){const _0x38b8d0=a0_0x1c66d9;let _0x1dc855=this[_0x38b8d0(0x501)][_0x38b8d0(0x353)][_0x10b974]['connectionStatus'],_0x4a19a6=null;_0x1dc855[_0x38b8d0(0x628)]==='open'&&_0x10b974&&(_0x4a19a6=await this[_0x38b8d0(0x501)][_0x38b8d0(0x503)](_0x10b974));let _0x37e397=null;return _0x1dc855[_0x38b8d0(0x628)]===_0x38b8d0(0x50e)&&_0x10b974&&(_0x37e397=this['waMonitor']['waInstances'][_0x10b974][_0x38b8d0(0x5fb)]),{'instance':_0x10b974,'connectionStatus':_0x1dc855,'instanceInfo':_0x4a19a6,'qrcode':_0x37e397};}async[a0_0x1c66d9(0x643)](_0xdbf8dd){const _0x4e3a23=a0_0x1c66d9;_0xdbf8dd=_0xdbf8dd[_0x4e3a23(0x737)](/\D/g,'');let _0x5b1443=Object[_0x4e3a23(0x4cb)](this[_0x4e3a23(0x501)][_0x4e3a23(0x353)])[_0x4e3a23(0x901)](_0x246568=>{const _0x292ff4=_0x4e3a23;let _0x1201a8=this[_0x292ff4(0x501)][_0x292ff4(0x353)][_0x246568];return _0x1201a8&&_0x1201a8[_0x292ff4(0x494)]&&_0x1201a8[_0x292ff4(0x494)][_0x292ff4(0x628)]===_0x292ff4(0x32f);});if(_0x5b1443[_0x4e3a23(0x844)]===0x0)return{'number':this['formatBRNumber'](_0xdbf8dd)};let _0x47e63e=Math[_0x4e3a23(0x49f)](Math[_0x4e3a23(0x806)]()*_0x5b1443[_0x4e3a23(0x844)]),_0x178f33=_0x5b1443[_0x47e63e];try{let _0x1cbb9b=(await this[_0x4e3a23(0x501)][_0x4e3a23(0x353)][_0x178f33][_0x4e3a23(0x8f4)]({'numbers':[_0xdbf8dd]}))[_0x4e3a23(0x2b0)]();return _0x1cbb9b[_0x4e3a23(0x2d5)]?{'number':_0x1cbb9b['jid'][_0x4e3a23(0x737)](_0x4e3a23(0x87d),'')}:{'number':_0xdbf8dd,'error':_0x4e3a23(0x902)};}catch(_0x5acb26){return this[_0x4e3a23(0x311)][_0x4e3a23(0x456)]('Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:'+_0x5acb26),{'number':_0xdbf8dd,'error':_0x4e3a23(0x5cf)};}}[a0_0x1c66d9(0x36f)](_0x19e438){const _0xad5092=a0_0x1c66d9;let _0x5a26ec=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0xad5092(0x2e7)](_0x19e438);if(_0x5a26ec&&_0x5a26ec[0x1]==='55'){let _0x5e222c=_0x5a26ec[0x2],_0x31b522=_0x5a26ec[0x3],_0x1d7ec3=_0x5a26ec[0x4];if(parseInt(_0x5e222c)>=0x1f&&_0x31b522==='9')return _0x5a26ec[0x1]+_0x5e222c+_0x1d7ec3;}return _0x19e438;}async[a0_0x1c66d9(0x477)]({instanceName:_0x46f493}){const _0x2a720a=a0_0x1c66d9;try{return this['waMonitor'][_0x2a720a(0x353)][_0x46f493]?.[_0x2a720a(0x83a)]?.['ws']?.['close'](),{'status':_0x2a720a(0x3ac),'error':!0x1,'response':{'message':_0x2a720a(0x250)}};}catch(_0x346a27){this[_0x2a720a(0x311)]['error'](_0x346a27);}}async[a0_0x1c66d9(0x551)]({instanceName:_0x40aaa5}){const _0x3409d5=a0_0x1c66d9;return _0x40aaa5?this[_0x3409d5(0x501)][_0x3409d5(0x503)](_0x40aaa5):this[_0x3409d5(0x501)][_0x3409d5(0x503)]();}async[a0_0x1c66d9(0x5f1)]({instanceName:_0x665aa3}){const _0x9f21a5=a0_0x1c66d9;try{return await this['waMonitor'][_0x9f21a5(0x353)][_0x665aa3]?.[_0x9f21a5(0x83a)]?.[_0x9f21a5(0x5f1)]('Log\x20out\x20instance:\x20'+_0x665aa3),{'error':!0x1,'message':_0x9f21a5(0x50f)};}catch(_0xb2c086){throw new x(_0xb2c086['toString']());}}async[a0_0x1c66d9(0x512)]({instanceName:_0x38c546}){const _0x41a047=a0_0x1c66d9;if((await this[_0x41a047(0x8fd)]({'instanceName':_0x38c546}))['connectionStatus']['state']==='open')throw new m([_0x41a047(0x3cf),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this[_0x41a047(0x501)]['waInstances'][_0x38c546],{'error':!0x1,'message':_0x41a047(0x34c)};}catch(_0x438277){throw new m(_0x438277['toString']());}}},ne=require(a0_0x1c66d9(0x7cb)),Yt=class{constructor(_0x251440){this['waMonitor']=_0x251440;}async[a0_0x1c66d9(0x7ce)]({instanceName:_0x884e63},_0x1a243c){const _0x256a66=a0_0x1c66d9;return await this[_0x256a66(0x501)]['waInstances'][_0x884e63][_0x256a66(0x6c3)](_0x1a243c);}async[a0_0x1c66d9(0x500)]({instanceName:_0x1130a9},_0x2da1e0){const _0xa77ff5=a0_0x1c66d9;return await this[_0xa77ff5(0x501)][_0xa77ff5(0x353)][_0x1130a9][_0xa77ff5(0x6d7)](_0x2da1e0);}async['sendMedia']({instanceName:_0x58c87a},_0x26c71b){const _0x3ac551=a0_0x1c66d9;if((0x0,ne['isBase64'])(_0x26c71b?.['mediaMessage']?.[_0x3ac551(0x8ee)])&&!_0x26c71b?.[_0x3ac551(0x8a1)]?.[_0x3ac551(0x5a6)])throw new m(_0x3ac551(0x823));if((0x0,ne['isURL'])(_0x26c71b?.[_0x3ac551(0x8a1)]?.[_0x3ac551(0x8ee)])||(0x0,ne['isBase64'])(_0x26c71b?.[_0x3ac551(0x8a1)]?.[_0x3ac551(0x8ee)]))return await this[_0x3ac551(0x501)]['waInstances'][_0x58c87a]['mediaMessage'](_0x26c71b);throw new m(_0x3ac551(0x5b4));}async[a0_0x1c66d9(0x6a1)]({instanceName:_0x109884},_0xb5c5bd){const _0x31d392=a0_0x1c66d9;if((0x0,ne[_0x31d392(0x5db)])(_0xb5c5bd[_0x31d392(0x4bc)][_0x31d392(0x4bb)])||(0x0,ne[_0x31d392(0x801)])(_0xb5c5bd[_0x31d392(0x4bc)][_0x31d392(0x4bb)]))return await this[_0x31d392(0x501)]['waInstances'][_0x109884][_0x31d392(0x661)](_0xb5c5bd);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x1c66d9(0x7f8)]({instanceName:_0x1ae7a2},_0x2f90cc){const _0x49b8ad=a0_0x1c66d9;if((0x0,ne[_0x49b8ad(0x5db)])(_0x2f90cc[_0x49b8ad(0x276)]['audio'])||(0x0,ne[_0x49b8ad(0x801)])(_0x2f90cc[_0x49b8ad(0x276)]['audio']))return await this['waMonitor'][_0x49b8ad(0x353)][_0x1ae7a2][_0x49b8ad(0x505)](_0x2f90cc);throw new m(_0x49b8ad(0x5b4));}async[a0_0x1c66d9(0x805)]({instanceName:_0x43b4c1},_0x35ac5a){const _0x5de3c4=a0_0x1c66d9;return await this[_0x5de3c4(0x501)][_0x5de3c4(0x353)][_0x43b4c1]['buttonMessage'](_0x35ac5a);}async[a0_0x1c66d9(0x78d)]({instanceName:_0x216543},_0x227f2d){const _0x33c194=a0_0x1c66d9;return await this[_0x33c194(0x501)][_0x33c194(0x353)][_0x216543][_0x33c194(0x182)](_0x227f2d);}async[a0_0x1c66d9(0x75d)]({instanceName:_0x219c17},_0x4cc679){const _0x41ebde=a0_0x1c66d9;return await this[_0x41ebde(0x501)][_0x41ebde(0x353)][_0x219c17]['pollMessage'](_0x4cc679);}async[a0_0x1c66d9(0x5bd)]({instanceName:_0x333c76},_0x57620d){const _0x2aea7b=a0_0x1c66d9;return await this[_0x2aea7b(0x501)]['waInstances'][_0x333c76][_0x2aea7b(0x840)](_0x57620d);}async['sendContact']({instanceName:_0x2a1c1a},_0xa710b){const _0x77d179=a0_0x1c66d9;return await this[_0x77d179(0x501)][_0x77d179(0x353)][_0x2a1c1a][_0x77d179(0x48f)](_0xa710b);}async[a0_0x1c66d9(0x79a)]({instanceName:_0x35c79b},_0x46b7d5){const _0x16c68b=a0_0x1c66d9;if(!_0x46b7d5[_0x16c68b(0x206)][_0x16c68b(0x186)][_0x16c68b(0x277)](/[^\(\)\w\sà-ú"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x16c68b(0x501)][_0x16c68b(0x353)][_0x35c79b][_0x16c68b(0x206)](_0x46b7d5);}async[a0_0x1c66d9(0x89b)]({instanceName:_0x5422e9},_0x425db7){const _0x27dd43=a0_0x1c66d9;return await this['waMonitor'][_0x27dd43(0x353)][_0x5422e9][_0x27dd43(0x537)](_0x425db7);}},Ui=require(a0_0x1c66d9(0x827)),Gs=require('uuid'),Xt=class l{constructor(_0x5fc858,_0x343660,_0x123c57){const _0x4de5a2=a0_0x1c66d9;this['configService']=_0x5fc858,this[_0x4de5a2(0x501)]=_0x343660,this[_0x4de5a2(0x6db)]=_0x123c57,this[_0x4de5a2(0x311)]=new $(l[_0x4de5a2(0x87f)]);}async[a0_0x1c66d9(0x752)](_0x3d206e){const _0x6eab83=a0_0x1c66d9;let _0x31e0f9=this[_0x6eab83(0x62b)]['get']('AUTHENTICATION')['JWT'],_0x485239=(0x0,Ui[_0x6eab83(0x32d)])({'instanceName':_0x3d206e[_0x6eab83(0x676)],'apiName':ct,'tokenId':(0x0,Gs['v4'])()},_0x31e0f9[_0x6eab83(0x556)],{'expiresIn':_0x31e0f9[_0x6eab83(0x45a)],'encoding':_0x6eab83(0x4c6),'subject':_0x6eab83(0x569)}),_0x581370=await this[_0x6eab83(0x6db)][_0x6eab83(0x3c8)][_0x6eab83(0x548)]({'jwt':_0x485239},_0x3d206e[_0x6eab83(0x676)]);if(_0x581370[_0x6eab83(0x456)])throw this[_0x6eab83(0x311)][_0x6eab83(0x456)]({'localError':l['name']+_0x6eab83(0x405),'error':_0x581370[_0x6eab83(0x456)]}),new m(_0x6eab83(0x30b),_0x581370[_0x6eab83(0x456)]?.[_0x6eab83(0x37f)]());return{'jwt':_0x485239};}async[a0_0x1c66d9(0x375)](_0x1fbf29){const _0x3d94ab=a0_0x1c66d9;let _0x90570c=(0x0,Gs['v4'])()[_0x3d94ab(0x406)](),_0x8080a2=await this[_0x3d94ab(0x6db)]['auth'][_0x3d94ab(0x548)]({'apikey':_0x90570c},_0x1fbf29[_0x3d94ab(0x676)]);if(_0x8080a2[_0x3d94ab(0x456)])throw this[_0x3d94ab(0x311)]['error']({'localError':l['name']+_0x3d94ab(0x405),'error':_0x8080a2['error']}),new m('Authentication\x20error',_0x8080a2[_0x3d94ab(0x456)]?.[_0x3d94ab(0x37f)]());return{'apikey':_0x90570c};}async[a0_0x1c66d9(0x742)](_0x553586){const _0x3af3d2=a0_0x1c66d9;let _0x26abc5=this[_0x3af3d2(0x62b)][_0x3af3d2(0x7b4)](_0x3af3d2(0x88c));return await this[_0x26abc5[_0x3af3d2(0x714)]](_0x553586);}},Zt=class{constructor(_0x205329){const _0x3f4553=a0_0x1c66d9;this[_0x3f4553(0x501)]=_0x205329;}async[a0_0x1c66d9(0x28b)](_0x56af36,_0x5c989e){const _0x1f027e=a0_0x1c66d9;return await this[_0x1f027e(0x501)]['waInstances'][_0x56af36[_0x1f027e(0x676)]][_0x1f027e(0x28b)](_0x5c989e);}async['updateGroupPicture'](_0x3af6e0,_0x3b672a){const _0x5c6640=a0_0x1c66d9;return await this[_0x5c6640(0x501)]['waInstances'][_0x3af6e0[_0x5c6640(0x676)]][_0x5c6640(0x1ac)](_0x3b672a);}async[a0_0x1c66d9(0x3be)](_0x5aa977,_0x27a273){const _0x1311c2=a0_0x1c66d9;return await this[_0x1311c2(0x501)]['waInstances'][_0x5aa977['instanceName']][_0x1311c2(0x3be)](_0x27a273);}async[a0_0x1c66d9(0x4a1)](_0x2bfa6b,_0xfd536){const _0x67bd5=a0_0x1c66d9;return await this[_0x67bd5(0x501)][_0x67bd5(0x353)][_0x2bfa6b['instanceName']]['groupName'](_0xfd536);}async['groupBetterSetting'](_0x5e9df8,_0x1e367d){const _0x3fabd1=a0_0x1c66d9;return await this['waMonitor']['waInstances'][_0x5e9df8[_0x3fabd1(0x676)]][_0x3fabd1(0x2d1)](_0x1e367d);}async[a0_0x1c66d9(0x462)](_0x576dcc,_0x1e2e2f){const _0x4ab18a=a0_0x1c66d9;return await this[_0x4ab18a(0x501)][_0x4ab18a(0x353)][_0x576dcc[_0x4ab18a(0x676)]][_0x4ab18a(0x462)](_0x1e2e2f);}async[a0_0x1c66d9(0x8e7)](_0x44d2cc,_0x5bb73b){const _0x4cb380=a0_0x1c66d9;return await this[_0x4cb380(0x501)]['waInstances'][_0x44d2cc[_0x4cb380(0x676)]][_0x4cb380(0x648)](_0x5bb73b);}async['findGroups'](_0x3296c6){const _0x56b985=a0_0x1c66d9;return await this['waMonitor'][_0x56b985(0x353)][_0x3296c6['instanceName']][_0x56b985(0x18d)]();}async[a0_0x1c66d9(0x3ca)](_0xa16aaa,_0x1c7b1b){const _0x59a037=a0_0x1c66d9;return await this[_0x59a037(0x501)][_0x59a037(0x353)][_0xa16aaa[_0x59a037(0x676)]][_0x59a037(0x3ca)](_0x1c7b1b);}async[a0_0x1c66d9(0x5cb)](_0x4c252b,_0x33e86e){const _0x17ec43=a0_0x1c66d9;return await this[_0x17ec43(0x501)][_0x17ec43(0x353)][_0x4c252b[_0x17ec43(0x676)]]['joinGroup'](_0x33e86e);}async[a0_0x1c66d9(0x85a)](_0x296020,_0x2c56e8){const _0x167bda=a0_0x1c66d9;return await this['waMonitor'][_0x167bda(0x353)][_0x296020['instanceName']]['groupGetInviteInfo'](_0x2c56e8);}async[a0_0x1c66d9(0x89c)](_0x1a9b3c,_0x22e1d5){const _0x27d565=a0_0x1c66d9;return await this[_0x27d565(0x501)][_0x27d565(0x353)][_0x1a9b3c[_0x27d565(0x676)]][_0x27d565(0x89c)](_0x22e1d5);}async[a0_0x1c66d9(0x826)](_0x5b5a65,_0x5498ce){const _0x5e5e8c=a0_0x1c66d9;return await this[_0x5e5e8c(0x501)][_0x5e5e8c(0x353)][_0x5b5a65[_0x5e5e8c(0x676)]][_0x5e5e8c(0x826)](_0x5498ce);}async[a0_0x1c66d9(0x57c)](_0x18e3de,_0x3eee51){const _0x5955fd=a0_0x1c66d9;return await this['waMonitor'][_0x5955fd(0x353)][_0x18e3de[_0x5955fd(0x676)]][_0x5955fd(0x2df)](_0x3eee51);}async['toggleEphemeral'](_0x40b363,_0x254d3a){const _0x49dc10=a0_0x1c66d9;return await this['waMonitor'][_0x49dc10(0x353)][_0x40b363[_0x49dc10(0x676)]][_0x49dc10(0x33d)](_0x254d3a);}async[a0_0x1c66d9(0x267)](_0x7cef2,_0x57623f){const _0x4aad70=a0_0x1c66d9;return await this[_0x4aad70(0x501)]['waInstances'][_0x7cef2['instanceName']][_0x4aad70(0x267)](_0x57623f);}},es=class{constructor(_0x526fe1){const _0xcebdfa=a0_0x1c66d9;this[_0xcebdfa(0x501)]=_0x526fe1;}['create'](_0x3134d9,_0x5cb496){const _0x3d9dca=a0_0x1c66d9;return this['waMonitor'][_0x3d9dca(0x353)][_0x3134d9[_0x3d9dca(0x676)]]['setWebhook'](_0x5cb496);}async['find'](_0x475b85){const _0x2f672c=a0_0x1c66d9;try{return await this['waMonitor'][_0x2f672c(0x353)][_0x475b85[_0x2f672c(0x676)]][_0x2f672c(0x7b2)]();}catch{return{'enabled':null,'url':''};}}},hh=new $(a0_0x1c66d9(0x309)),ts=class{constructor(_0x6cc2d0){const _0x1b2580=a0_0x1c66d9;this[_0x1b2580(0x501)]=_0x6cc2d0;}async[a0_0x1c66d9(0x8b5)](_0x172a87,_0xa307d5){const _0x46cbf3=a0_0x1c66d9;return await this[_0x46cbf3(0x501)][_0x46cbf3(0x353)][_0x172a87[_0x46cbf3(0x676)]]['editScheduleMessage'](_0xa307d5);}async[a0_0x1c66d9(0x859)](_0x234869){const _0x12c63f=a0_0x1c66d9;return await this[_0x12c63f(0x501)][_0x12c63f(0x353)][_0x234869[_0x12c63f(0x676)]][_0x12c63f(0x859)]();}async[a0_0x1c66d9(0x603)](_0x274c3d){const _0x538f11=a0_0x1c66d9;return await this['waMonitor'][_0x538f11(0x353)][_0x274c3d[_0x538f11(0x676)]][_0x538f11(0x603)]();}async[a0_0x1c66d9(0x4e2)](_0xf0e7fc){const _0x3b746e=a0_0x1c66d9;return await this[_0x3b746e(0x501)][_0x3b746e(0x353)][_0xf0e7fc['instanceName']][_0x3b746e(0x4e2)]();}async[a0_0x1c66d9(0x555)](_0x1e3d60){const _0x47d0ec=a0_0x1c66d9;return await this[_0x47d0ec(0x501)][_0x47d0ec(0x353)][_0x1e3d60[_0x47d0ec(0x676)]][_0x47d0ec(0x555)]();}async['updateAgent'](_0x43ce5d,_0x173d26){const _0x192206=a0_0x1c66d9;return await this[_0x192206(0x501)][_0x192206(0x353)][_0x43ce5d[_0x192206(0x676)]][_0x192206(0x5d5)](_0x173d26);}async[a0_0x1c66d9(0x5c9)](_0x553e62,_0x30e7eb){const _0x31874b=a0_0x1c66d9;return await this['waMonitor'][_0x31874b(0x353)][_0x553e62[_0x31874b(0x676)]][_0x31874b(0x5c9)](_0x30e7eb);}async[a0_0x1c66d9(0x7bb)](_0x51ba34,_0x5c8460){const _0x17783e=a0_0x1c66d9;return await this['waMonitor'][_0x17783e(0x353)][_0x51ba34['instanceName']]['updateAutoCompleteMessages'](_0x5c8460);}async[a0_0x1c66d9(0x615)](_0x4d9bee,_0x1263ea){const _0x28ff31=a0_0x1c66d9;return await this[_0x28ff31(0x501)]['waInstances'][_0x4d9bee[_0x28ff31(0x676)]][_0x28ff31(0x615)](_0x1263ea);}async[a0_0x1c66d9(0x6b9)](_0x4db6fb,_0x386066){const _0xc8030=a0_0x1c66d9;return await this['waMonitor']['waInstances'][_0x4db6fb['instanceName']][_0xc8030(0x6b9)](_0x386066);}async['startFlowWebhook'](_0x3afbbb,_0x3aebe5,_0xde787,_0x498f7f){const _0x20114e=a0_0x1c66d9;return await this[_0x20114e(0x501)][_0x20114e(0x353)][_0x3afbbb][_0x20114e(0x5ee)](_0x3aebe5,_0xde787,_0x498f7f);}async[a0_0x1c66d9(0x229)](_0x5f3250,_0x468f8b){const _0x107c01=a0_0x1c66d9;return await this[_0x107c01(0x501)]['waInstances'][_0x5f3250[_0x107c01(0x676)]]['getConversation'](_0x468f8b);}async[a0_0x1c66d9(0x8a4)](_0x5c6d8a,_0x13a8ac){const _0x951ea9=a0_0x1c66d9;return await this['waMonitor']['waInstances'][_0x5c6d8a[_0x951ea9(0x676)]][_0x951ea9(0x8a4)](_0x13a8ac);}async[a0_0x1c66d9(0x60b)](_0xc0cc9f,_0x3676ee){const _0x44604e=a0_0x1c66d9;return await this[_0x44604e(0x501)][_0x44604e(0x353)][_0xc0cc9f[_0x44604e(0x676)]][_0x44604e(0x60b)](_0x3676ee);}async[a0_0x1c66d9(0x7b8)](_0x1af3dc,_0x2d3dc2){const _0x26cf62=a0_0x1c66d9;return await this[_0x26cf62(0x501)][_0x26cf62(0x353)][_0x1af3dc[_0x26cf62(0x676)]][_0x26cf62(0x7b8)](_0x2d3dc2);}async[a0_0x1c66d9(0x5df)](_0x324aee,_0x1cbbb0){const _0x3bd36b=a0_0x1c66d9;return await this[_0x3bd36b(0x501)]['waInstances'][_0x324aee['instanceName']]['getFlow'](_0x1cbbb0[_0x3bd36b(0x70b)]);}async[a0_0x1c66d9(0x7c2)](_0x122c46,_0x24f61e,_0x62dc2b){const _0x5d9745=a0_0x1c66d9;return await this[_0x5d9745(0x501)][_0x5d9745(0x353)][_0x122c46['instanceName']][_0x5d9745(0x7c2)](_0x24f61e,_0x62dc2b);}async[a0_0x1c66d9(0x32e)](_0x123f1f,_0x17e720,_0x432320){const _0x5c333c=a0_0x1c66d9;return await this['waMonitor'][_0x5c333c(0x353)][_0x123f1f[_0x5c333c(0x676)]][_0x5c333c(0x32e)](_0x17e720,_0x432320);}async[a0_0x1c66d9(0x1e9)](_0x504696,_0x5057b0){const _0xbf909b=a0_0x1c66d9;return await this['waMonitor'][_0xbf909b(0x353)][_0x504696[_0xbf909b(0x676)]]['editFlowBlock'](_0x5057b0);}async[a0_0x1c66d9(0x3fd)](_0xbf8afc,_0x38ad15){const _0x544999=a0_0x1c66d9;return await this[_0x544999(0x501)][_0x544999(0x353)][_0xbf8afc[_0x544999(0x676)]][_0x544999(0x3fd)](_0x38ad15);}async[a0_0x1c66d9(0x37a)](_0x474e82,_0xd412b2){const _0x4b1dc0=a0_0x1c66d9;return await this['waMonitor'][_0x4b1dc0(0x353)][_0x474e82[_0x4b1dc0(0x676)]]['editFlowGroup'](_0xd412b2);}async[a0_0x1c66d9(0x4c5)](_0x326d4f,_0x1d8d25){const _0x1e63f6=a0_0x1c66d9;return await this[_0x1e63f6(0x501)][_0x1e63f6(0x353)][_0x326d4f[_0x1e63f6(0x676)]][_0x1e63f6(0x4c5)](_0x1d8d25);}async[a0_0x1c66d9(0x2e5)](_0x2fd9a6,_0x488716){const _0x56ac0c=a0_0x1c66d9;return await this[_0x56ac0c(0x501)][_0x56ac0c(0x353)][_0x2fd9a6[_0x56ac0c(0x676)]][_0x56ac0c(0x2e5)](_0x488716);}async['editFlowVariable'](_0x2f9a89,_0x2efba7){const _0x1afa79=a0_0x1c66d9;return await this[_0x1afa79(0x501)][_0x1afa79(0x353)][_0x2f9a89[_0x1afa79(0x676)]][_0x1afa79(0x83b)](_0x2efba7);}async['deleteFlow'](_0x385d01,_0x15270c){const _0x3f7811=a0_0x1c66d9;return await this['waMonitor']['waInstances'][_0x385d01[_0x3f7811(0x676)]][_0x3f7811(0x2d0)](_0x15270c);}async[a0_0x1c66d9(0x41a)](_0x4a05ac){const _0x24c075=a0_0x1c66d9;return await this[_0x24c075(0x501)][_0x24c075(0x353)][_0x4a05ac[_0x24c075(0x676)]]['allFlows']();}},ss=class{constructor(_0x5a4b76){const _0x5ef18a=a0_0x1c66d9;this[_0x5ef18a(0x688)]=_0x5a4b76;}async[a0_0x1c66d9(0x3e1)](_0x378d5f,_0x5c6889){const _0x1fe333=a0_0x1c66d9;return this[_0x1fe333(0x688)]['create'](_0x378d5f,_0x5c6889);}async[a0_0x1c66d9(0x7b2)](_0x95aa39){const _0x31429a=a0_0x1c66d9;return this['webhookService'][_0x31429a(0x705)](_0x95aa39);}},as=class extends O{constructor(_0xdbbe2d,_0x47e06f){const _0xf00bc1=a0_0x1c66d9;super(_0x47e06f),this[_0xf00bc1(0x278)]=_0xdbbe2d,this[_0xf00bc1(0x62b)]=_0x47e06f;}async['create'](_0x575e00,_0x479af3){const _0x4fb55f=a0_0x1c66d9;try{return this[_0x4fb55f(0x302)][_0x4fb55f(0x8d2)]?{'insertCount':(await this['webhookModel'][_0x4fb55f(0x675)]({'_id':_0x479af3},{..._0x575e00},{'upsert':!0x0}))[_0x4fb55f(0x445)]}:{'insertCount':0x1};}catch(_0x29d632){return _0x29d632;}}async['delete'](_0x58ec1c){const _0xaa9cb2=a0_0x1c66d9;try{if(this[_0xaa9cb2(0x302)][_0xaa9cb2(0x8d2)]){await this[_0xaa9cb2(0x278)][_0xaa9cb2(0x1eb)]({'_id':_0x58ec1c});return;}}catch(_0x15c9b9){return{'error':_0x15c9b9};}}async[a0_0x1c66d9(0x705)](_0x415602){const _0x5f1ff4=a0_0x1c66d9;try{if(this['dbSettings'][_0x5f1ff4(0x8d2)])return await this['webhookModel']['findOne']({'_id':_0x415602});}catch{return{};}}},is=class extends O{constructor(_0x355eec,_0x2bfaee){const _0x1dcfbb=a0_0x1c66d9;super(_0x2bfaee),this[_0x1dcfbb(0x25e)]=_0x355eec,this['configService']=_0x2bfaee,this[_0x1dcfbb(0x3c8)]=_0x2bfaee[_0x1dcfbb(0x7b4)]('AUTHENTICATION');}async[a0_0x1c66d9(0x548)](_0x23f0ca,_0x5cebfe){const _0x16e415=a0_0x1c66d9;try{if(this[_0x16e415(0x302)][_0x16e415(0x8d2)])return{'insertCount':(await this[_0x16e415(0x25e)][_0x16e415(0x2cd)]({'_id':_0x5cebfe},{'$set':{..._0x23f0ca}},{'upsert':!0x0}))[_0x16e415(0x445)]};}catch(_0xa481bb){return{'error':_0xa481bb};}}async['updateAll'](_0x1ada3d,_0x4d8bc9){const _0x31e95c=a0_0x1c66d9;try{if(this[_0x31e95c(0x302)][_0x31e95c(0x8d2)])return{'insertCount':(await this[_0x31e95c(0x25e)][_0x31e95c(0x62c)](_0x1ada3d,{'$set':_0x4d8bc9},{'upsert':!0x1}))[_0x31e95c(0x445)]};throw new Error(_0x31e95c(0x696));}catch(_0x775448){return{'error':_0x775448};}}async[a0_0x1c66d9(0x79e)](_0x8f634c){const _0x18a0f4=a0_0x1c66d9;try{if(this['dbSettings'][_0x18a0f4(0x8d2)])return{'insertCount':(await this['authModel'][_0x18a0f4(0x79e)](_0x8f634c))[_0x18a0f4(0x341)]};throw new Error(_0x18a0f4(0x332));}catch(_0x19f467){return{'error':_0x19f467};}}async[a0_0x1c66d9(0x2a3)](_0x571b3a){const _0x49b16a=a0_0x1c66d9;try{if(this[_0x49b16a(0x302)][_0x49b16a(0x8d2)]){await this[_0x49b16a(0x25e)]['deleteOne']({'_id':_0x571b3a});return;}}catch(_0x7be454){return{'error':_0x7be454};}}async[a0_0x1c66d9(0x705)](_0x1508f5){const _0x4422cc=a0_0x1c66d9;try{if(this[_0x4422cc(0x302)][_0x4422cc(0x8d2)])return await this['authModel'][_0x4422cc(0x44a)]({'_id':_0x1508f5});}catch{return{};}}async[a0_0x1c66d9(0x65b)](){const _0x7f5af=a0_0x1c66d9;try{if(this[_0x7f5af(0x302)][_0x7f5af(0x8d2)])return await this['authModel'][_0x7f5af(0x705)]();}catch{return[];}}async[a0_0x1c66d9(0x1a7)](_0x174b77){const _0x48fef2=a0_0x1c66d9;try{if(this[_0x48fef2(0x302)][_0x48fef2(0x8d2)])return await this[_0x48fef2(0x25e)][_0x48fef2(0x705)](_0x174b77);}catch{return[];}}},os=class extends O{async[a0_0x1c66d9(0x1eb)](_0x119bb0){const _0x519c6e=a0_0x1c66d9;try{let _0x55e7bf=A(_0x119bb0[_0x519c6e(0x30f)]);return{'deletedCount':(await ve[_0x519c6e(0x1eb)](_0x55e7bf))[_0x519c6e(0x341)]};}catch(_0x539c1d){return{'error':_0x539c1d?.[_0x519c6e(0x37f)]()};}}async[a0_0x1c66d9(0x2cd)](_0x4eff0f,_0x116d7f){const _0x23792b=a0_0x1c66d9;try{let _0x57603f=await ve[_0x23792b(0x46a)](_0x4eff0f);return _0x57603f?(Object['assign'](_0x57603f,_0x116d7f),await _0x57603f['save']()):(console[_0x23792b(0x456)]('Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:',_0x4eff0f),null);}catch(_0x1220a3){return console[_0x23792b(0x456)](_0x23792b(0x209),_0x1220a3),null;}}async['createAndSave'](_0x14d333){const _0x16f983=a0_0x1c66d9;try{return await new ve(_0x14d333)[_0x16f983(0x8f0)]();}catch(_0x5afa38){return console[_0x16f983(0x456)](_0x16f983(0x888),_0x5afa38),null;}}async[a0_0x1c66d9(0x65b)](_0x1714b9){const _0x244046=a0_0x1c66d9;try{let _0x34c86f=_0x1714b9[_0x244046(0x30f)]??{};return await ve[_0x244046(0x705)](_0x34c86f)['limit'](_0x1714b9[_0x244046(0x4ad)]??0x0)[_0x244046(0x58d)]();}catch(_0x156820){return console[_0x244046(0x456)](_0x244046(0x4d4),_0x156820),[];}}async['findOne'](_0x2e92bf){const _0x2e2b73=a0_0x1c66d9;try{let _0x2fda95=A(_0x2e92bf[_0x2e2b73(0x30f)]);return await ve['findOne'](_0x2fda95)[_0x2e2b73(0x58d)]();}catch{return null;}}},rs=class extends O{['getConversationModelForOwner'](_0x46f4a6){return Na(_0x46f4a6);}async['insert'](_0x42c778){const _0x475677=a0_0x1c66d9;if(_0x42c778[_0x475677(0x844)]!==0x0)try{return{'insertCount':(await this[_0x475677(0x2ba)](_0x42c778[0x0]['owner'])[_0x475677(0x84b)]([..._0x42c778]))[_0x475677(0x844)]};}catch(_0x9bb75f){return _0x9bb75f;}}async[a0_0x1c66d9(0x2a3)](_0x160cd6,_0x3b3d3f){const _0x1aff18=a0_0x1c66d9;try{let _0x45b18a=this['getConversationModelForOwner'](_0x3b3d3f),_0x55ad01=A(_0x160cd6[_0x1aff18(0x30f)]);return{'deletedCount':(await _0x45b18a[_0x1aff18(0x79e)](_0x55ad01))[_0x1aff18(0x341)]};}catch(_0x36af50){return{'error':_0x36af50?.['toString']()};}}async[a0_0x1c66d9(0x1eb)](_0x535f7e,_0x438347){const _0x4ac8de=a0_0x1c66d9;try{let _0x2d3e6d=this[_0x4ac8de(0x2ba)](_0x438347),_0x12437f=A(_0x535f7e['where']);return{'deletedCount':(await _0x2d3e6d[_0x4ac8de(0x1eb)](_0x12437f))['deletedCount']};}catch(_0x1bbb16){return{'error':_0x1bbb16?.[_0x4ac8de(0x37f)]()};}}async[a0_0x1c66d9(0x2de)](_0x24775e,_0x36c542){const _0x441e38=a0_0x1c66d9;try{if(_0x24775e[_0x441e38(0x844)]===0x0)return;let _0x2500b1=this[_0x441e38(0x2ba)](_0x36c542),_0x36a1ea=_0x24775e[_0x441e38(0x521)](_0xe7e159=>({'updateOne':{'filter':{'name':_0xe7e159[_0x441e38(0x87f)],'owner':_0x36c542},'update':{..._0xe7e159}}})),{modifiedCount:_0x5c9f6c}=await _0x2500b1['bulkWrite'](_0x36a1ea);return{'insertCount':_0x5c9f6c};}catch{return;}}async[a0_0x1c66d9(0x62c)](_0x485e39,_0x2b27fd,_0x148f96){const _0x49a7d3=a0_0x1c66d9;try{return{'modifiedCount':(await this[_0x49a7d3(0x2ba)](_0x148f96)[_0x49a7d3(0x62c)](_0x485e39,{'$set':_0x2b27fd})[_0x49a7d3(0x2e7)]())['modifiedCount']};}catch(_0x3db968){return console[_0x49a7d3(0x456)](_0x49a7d3(0x704),_0x3db968),{'error':_0x3db968};}}async[a0_0x1c66d9(0x2cd)](_0x52fa66,_0x5f411d,_0x9604b){const _0xe711dd=a0_0x1c66d9;try{return await this[_0xe711dd(0x2ba)](_0x9604b)[_0xe711dd(0x2c8)]({'_id':_0x52fa66},{'$set':_0x5f411d},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x5725b5){return console[_0xe711dd(0x456)](_0x5725b5),null;}}async[a0_0x1c66d9(0x705)](_0x517129,_0x4a71ec){const _0x1cc04e=a0_0x1c66d9;try{return await this[_0x1cc04e(0x2ba)](_0x4a71ec)[_0x1cc04e(0x705)](_0x517129)[_0x1cc04e(0x3db)]({'lastInteraction':-0x1})[_0x1cc04e(0x58d)]();}catch{return[];}}async[a0_0x1c66d9(0x44a)](_0x3a9d79,_0x3e181b){const _0x18746a=a0_0x1c66d9;try{return await this[_0x18746a(0x2ba)](_0x3e181b)[_0x18746a(0x44a)]({..._0x3a9d79[_0x18746a(0x30f)]})[_0x18746a(0x58d)]();}catch{return null;}}async['deleteAll'](_0x4c9f11){const _0x2c298a=a0_0x1c66d9;try{return await this['getConversationModelForOwner'](_0x4c9f11)['collection'][_0x2c298a(0x907)](),{'success':!0x0};}catch(_0x1b9c6f){return console[_0x2c298a(0x456)](_0x1b9c6f),{'success':!0x1,'error':_0x1b9c6f};}}},ns=class extends O{['getScheduleMessageModelForOwner'](_0x2d6bcc){return $a(_0x2d6bcc);}async['bulkWrite'](_0x4890f1,_0x3cdea0){const _0x546741=a0_0x1c66d9;try{return await this['getScheduleMessageModelForOwner'](_0x3cdea0)[_0x546741(0x606)](_0x4890f1);}catch(_0x138c32){return console[_0x546741(0x456)](_0x546741(0x199),_0x138c32),null;}}async['createAndSave'](_0x2c1789,_0x50b23e){const _0x2ec6ac=a0_0x1c66d9;try{let _0x2c54f1=this[_0x2ec6ac(0x6c6)](_0x50b23e);return await new _0x2c54f1(_0x2c1789)['save']();}catch(_0x262279){return console[_0x2ec6ac(0x456)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x262279),null;}}async[a0_0x1c66d9(0x1eb)](_0xdfc9ed,_0x1bba43){const _0x25d333=a0_0x1c66d9;try{return await this[_0x25d333(0x6c6)](_0x1bba43)[_0x25d333(0x472)](_0xdfc9ed),{};}catch(_0x20b6a1){return{'error':_0x20b6a1?.[_0x25d333(0x37f)]()};}}async[a0_0x1c66d9(0x2cd)](_0x169779,_0x3308d4,_0x1d742c,_0xbdd815={}){const _0x2be8a4=a0_0x1c66d9;try{return await this[_0x2be8a4(0x6c6)](_0x1d742c)['findOneAndUpdate'](_0x169779,_0x3308d4,{..._0xbdd815,'new':!0x0})[_0x2be8a4(0x58d)]();}catch(_0x323b10){return console['error'](_0x2be8a4(0x429),_0x323b10),null;}}async[a0_0x1c66d9(0x38c)](_0x540b00,_0x57f66d,_0x5a0781){const _0x2e0afc=a0_0x1c66d9;try{return await this[_0x2e0afc(0x6c6)](_0x5a0781)[_0x2e0afc(0x412)](_0x540b00,_0x57f66d,{'new':!0x0})[_0x2e0afc(0x58d)]();}catch(_0x2fb33c){return console[_0x2e0afc(0x456)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x2fb33c),null;}}async[a0_0x1c66d9(0x705)](_0x562eb1,_0x41b165){const _0x524e16=a0_0x1c66d9;try{return await this['getScheduleMessageModelForOwner'](_0x41b165)[_0x524e16(0x705)](_0x562eb1['where'])[_0x524e16(0x4ad)](_0x562eb1?.[_0x524e16(0x4ad)]??0x0)[_0x524e16(0x3db)]({'when':0x1})[_0x524e16(0x58d)]();}catch{return[];}}async['findOne'](_0x465658,_0x5ec293){const _0x4f4596=a0_0x1c66d9;try{return await this[_0x4f4596(0x6c6)](_0x5ec293)[_0x4f4596(0x44a)](_0x465658[_0x4f4596(0x30f)])['sort']({'when':0x1})[_0x4f4596(0x58d)]();}catch{return null;}}async[a0_0x1c66d9(0x46a)](_0x4a84a0,_0x1e9cb8){const _0x793df3=a0_0x1c66d9;try{return await this['getScheduleMessageModelForOwner'](_0x1e9cb8)[_0x793df3(0x46a)](_0x4a84a0)['lean']();}catch{return null;}}async[a0_0x1c66d9(0x79e)](_0x3e71d2,_0x3fc4b9){const _0x25f7c0=a0_0x1c66d9;try{return{'deletedCount':(await this[_0x25f7c0(0x6c6)](_0x3fc4b9)[_0x25f7c0(0x79e)](_0x3e71d2))[_0x25f7c0(0x341)]};}catch(_0x4514e2){return console[_0x25f7c0(0x456)](_0x25f7c0(0x181),_0x4514e2),{'error':_0x4514e2};}}async['deleteAll'](_0xe9fa63){const _0x4f2743=a0_0x1c66d9;try{return await this[_0x4f2743(0x6c6)](_0xe9fa63)['collection'][_0x4f2743(0x907)](),{'success':!0x0};}catch(_0x3903f6){return console[_0x4f2743(0x456)](_0x3903f6),{'success':!0x1,'error':_0x3903f6};}}},cs=class extends O{async[a0_0x1c66d9(0x2de)](_0x6b201d,_0x39c554){const _0xa364d0=a0_0x1c66d9;try{if(this[_0xa364d0(0x302)]['ENABLED'])return await Oe['findOneAndUpdate']({'_id':_0x39c554},{'$set':_0x6b201d},{'new':!0x0});}catch(_0x17637d){throw console[_0xa364d0(0x456)](_0xa364d0(0x61b),_0x17637d),_0x17637d;}}async[a0_0x1c66d9(0x3b0)](_0xe2d30e){const _0x3caaba=a0_0x1c66d9;try{let _0x3a033a=await Oe[_0x3caaba(0x46a)](_0xe2d30e);return _0x3a033a?_0x3a033a[_0x3caaba(0x64c)]||(_0x3a033a[_0x3caaba(0x64c)]=[],await _0x3a033a[_0x3caaba(0x8f0)]()):(_0x3a033a=new Oe({'_id':_0xe2d30e,'autoCompleteMessages':[]}),await _0x3a033a[_0x3caaba(0x8f0)]()),_0x3a033a;}catch(_0x23e7fc){return _0x23e7fc[_0x3caaba(0x5f0)]===0x2af8&&_0x23e7fc['keyPattern']&&_0x23e7fc[_0x3caaba(0x4ca)]['autoCompleteMessages.command']?(console[_0x3caaba(0x456)](_0x3caaba(0x45f)),await Oe['collection'][_0x3caaba(0x1ee)](_0x3caaba(0x48e)),null):(console[_0x3caaba(0x456)](_0x3caaba(0x4da),_0x23e7fc),null);}}},Vo=new $(a0_0x1c66d9(0x6a3)),Go=new Ze(S),Bo=new Gt(S),Wo=new ut(S),zo=new Bt(ua,S),Ho=new Wt(pa,S),Ko=new as(ya,S),Qo=new is(ma,S),Yo=new $e(Ke,S),Xo=new os(S),Zo=new zt(S),er=new rs(S),tr=new ns(S),sr=new cs(S),we=new Ye(Go,Bo,Wo,zo,Ho,Ko,Qo,Yo,Xo,er,Zo,tr,sr,T?.[a0_0x1c66d9(0x772)]()),G=new Vt(ws,S,we),ar=new Xt(S,G,we),ir=new es(G),Os=new ss(ir),_=new ts(G),ue=new Qt(G,S,we,ws,ar),B=new Yt(G),D=new Ht(G),q=new Zt(G);Vo[a0_0x1c66d9(0x43e)]('Module\x20-\x20ON');var _g=require(a0_0x1c66d9(0x44e)),Bs=require('fs'),ji=I(require(a0_0x1c66d9(0x17c))),Ji=I(require(a0_0x1c66d9(0x54d))),Ve=class l{static #e;static set[a0_0x1c66d9(0x5d1)](_0x18bb3b){this.#e=_0x18bb3b;}static get[a0_0x1c66d9(0x17c)](){const _0x382ed7=a0_0x1c66d9;let {FULLCHAIN:_0x1e6dc7,PRIVKEY:_0x4d2965}=S[_0x382ed7(0x7b4)](_0x382ed7(0x361));return ji[_0x382ed7(0x1a3)]({'cert':(0x0,Bs['readFileSync'])(_0x1e6dc7),'key':(0x0,Bs[_0x382ed7(0x3c5)])(_0x4d2965)},l.#e);}static get['http'](){const _0x242ef8=a0_0x1c66d9;return Ji[_0x242ef8(0x1a3)](l.#e);}},se=I(require('fs')),Bi=I(require(a0_0x1c66d9(0x71a))),Ge=I(require(a0_0x1c66d9(0x27a))),ds=I(require(a0_0x1c66d9(0x243))),us=require('child_process');function or(){const _0x2f5184=a0_0x1c66d9;G['loadInstance']();let _0x38e972=ds[_0x2f5184(0x77c)][_0x2f5184(0x552)](__dirname,_0x2f5184(0x751));Gi(_0x38e972);}var Gi=_0x381086=>{const _0x532aa1=a0_0x1c66d9;let _0xfa04c7=se['default'][_0x532aa1(0x27f)](_0x381086),_0x4f7ac1=0xc*0x3c*0x3c*0x3e8,_0x14ef8a=0x2*0x3c*0x3c*0x3e8,_0x529996=new Date()[_0x532aa1(0x53e)]();_0xfa04c7['forEach'](_0x3c61e1=>{const _0xafdb38=_0x532aa1;let _0x520585=ds[_0xafdb38(0x77c)][_0xafdb38(0x552)](_0x381086,_0x3c61e1),_0x4b9153=se['default'][_0xafdb38(0x40c)](_0x520585)[_0xafdb38(0x75a)][_0xafdb38(0x53e)]();_0x529996-_0x4b9153>_0x4f7ac1&&(se[_0xafdb38(0x77c)][_0xafdb38(0x824)](_0x520585),console[_0xafdb38(0x19c)](_0xafdb38(0x378)+_0x3c61e1));}),setTimeout(()=>Gi(_0x381086),_0x14ef8a);};function rr(){const _0x391083=a0_0x1c66d9;let _0x28da72=new $(_0x391083(0x1f0)),_0xd8d3cf=(0x0,be[_0x391083(0x77c)])();_0xd8d3cf[_0x391083(0x48d)]((0x0,Vi[_0x391083(0x77c)])({'origin'(_0x51829e,_0xc0d446){const _0x57f477=_0x391083;let {ORIGIN:_0x516fa0}=S[_0x57f477(0x7b4)]('CORS');return _0x51829e||(_0x51829e='*'),_0x516fa0[_0x57f477(0x1b8)]('*')!==-0x1||_0x516fa0[_0x57f477(0x1b8)](_0x51829e)!==-0x1?_0xc0d446(null,!0x0):_0xc0d446(new Error(_0x57f477(0x1f7)));},'methods':[...S['get'](_0x391083(0x304))['METHODS']],'credentials':S[_0x391083(0x7b4)](_0x391083(0x304))['CREDENTIALS']}),(0x0,be['urlencoded'])({'extended':!0x0,'limit':_0x391083(0x554)}),(0x0,be[_0x391083(0x446)])({'limit':'50mb'})),_0xd8d3cf[_0x391083(0x48d)]((_0x22ec3b,_0x1e7b4e,_0x417e6f)=>{const _0x41b897=_0x391083;_0x22ec3b[_0x41b897(0x243)]['startsWith'](_0x41b897(0x73b))?_0x417e6f():(0x0,qi['default'])()(_0x22ec3b,_0x1e7b4e,_0x417e6f);}),_0xd8d3cf[_0x391083(0x6c9)](_0x391083(0x3d7),_0x391083(0x50d)),_0xd8d3cf[_0x391083(0x6c9)](_0x391083(0x425),(0x0,zs[_0x391083(0x552)])(ce,'views')),_0xd8d3cf['use'](be[_0x391083(0x77c)][_0x391083(0x455)]((0x0,zs[_0x391083(0x552)])(ce,_0x391083(0x281)))),_0xd8d3cf[_0x391083(0x48d)]((_0x1ad17a,_0x193eed,_0x51cab6)=>{const _0x55eaf9=_0x391083;let _0x75f902=_0x193eed['send'];_0x193eed[_0x55eaf9(0x1b5)]=function(_0x4e755c){const _0x525b90=_0x55eaf9;if(_0x1ad17a[_0x525b90(0x6b2)]['convert']===_0x525b90(0x8e2)||_0x1ad17a[_0x525b90(0x778)][_0x525b90(0x453)]===_0x525b90(0x8e2)){let _0x30fd6f=JSON['parse'](_0x4e755c);_0x4e755c=JSON[_0x525b90(0x8cd)](_0x188052(_0x30fd6f));}return _0x75f902[_0x525b90(0x750)](_0x193eed,[_0x4e755c]);},_0x51cab6();}),_0xd8d3cf[_0x391083(0x48d)]('/',Ue),_0xd8d3cf[_0x391083(0x48d)]((_0x4a067f,_0x1b99b6,_0x2bd43a,_0xf390a1)=>{const _0x43530d=_0x391083;if(_0x4a067f)return _0x2bd43a[_0x43530d(0x730)](_0x4a067f[_0x43530d(0x730)]||0x1f4)[_0x43530d(0x446)](_0x4a067f);},(_0x5997e7,_0x5e578c,_0x4ab16a)=>{const _0x4a5bd7=_0x391083;let {method:_0x1972de,url:_0x164dd2}=_0x5997e7;_0x5e578c[_0x4a5bd7(0x730)](0x194)[_0x4a5bd7(0x446)]({'status':0x194,'message':'Cannot\x20'+_0x1972de[_0x4a5bd7(0x406)]()+'\x20'+_0x164dd2,'error':_0x4a5bd7(0x319)}),_0x4ab16a();});let _0x188052=(_0xf4d70a,_0x20ed98=_0x391083(0x3a9))=>{const _0x5d4fbc=_0x391083;let _0x33355b=(_0x20fbda,_0x3d0e7f=null,_0x3f7aae=!0x1)=>{const _0x3ec0a3=a0_0x24da;let _0x1a9ab4={};return Object[_0x3ec0a3(0x4cb)](_0x20fbda)[_0x3ec0a3(0x8bf)](_0x3a7c0f=>{const _0x23952c=_0x3ec0a3;let _0x3723c9=_0x20fbda[_0x3a7c0f],_0x4968b4=''+_0x20ed98+_0x3a7c0f;_0x3d0e7f&&!_0x3f7aae&&(_0x4968b4=_0x3d0e7f+'.'+_0x3a7c0f),!_0x3723c9&&_0x3723c9!==0x0&&_0x3723c9!==!0x1||typeof _0x3723c9>'u'?_0x1a9ab4[_0x4968b4]=null:typeof _0x3723c9!=_0x23952c(0x2c2)&&!Array[_0x23952c(0x1d3)](_0x3723c9)?_0x1a9ab4[_0x4968b4]=_0x3723c9:typeof _0x3723c9==_0x23952c(0x2c2)&&!Array['isArray'](_0x3723c9)?_0x1a9ab4=Object[_0x23952c(0x1c5)](_0x1a9ab4,_0x33355b(_0x3723c9,_0x4968b4)):Array[_0x23952c(0x1d3)](_0x3723c9)&&(typeof _0x3723c9[0x0]==_0x23952c(0x2c2)?(_0x1a9ab4[_0x4968b4]=[],_0x3723c9[_0x23952c(0x8bf)](_0x340e50=>{_0x1a9ab4[_0x4968b4]['push'](_0x33355b(_0x340e50,_0x4968b4,!0x0));})):_0x1a9ab4[_0x4968b4]=_0x3723c9);}),_0x1a9ab4;};return Array['isArray'](_0xf4d70a)?_0xf4d70a[_0x5d4fbc(0x521)](_0x4f66da=>_0x33355b(_0x4f66da)):typeof _0xf4d70a==_0x5d4fbc(0x2c2)&&_0xf4d70a!==null?_0x33355b(_0xf4d70a):{};},_0x147bad=S['get']('SERVER');Ve[_0x391083(0x5d1)]=_0xd8d3cf;let _0x5064ca=Ve[_0x147bad[_0x391083(0x714)]],_0x1f73e5='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x5064ca['listen'](_0x147bad[_0x391083(0x7ee)],()=>{const _0x5e4ff4=_0x391083;_0x28da72[_0x5e4ff4(0x19c)](_0x1f73e5),_0x28da72['log'](_0x147bad['TYPE'][_0x5e4ff4(0x406)]()+_0x5e4ff4(0x68c)+_0x147bad[_0x5e4ff4(0x7ee)]);}),or(),ia();}var nr=a0_0x1c66d9(0x38d),cr=ds[a0_0x1c66d9(0x77c)][a0_0x1c66d9(0x552)](__dirname,'./.git/config'),Ie=null;function lr(){return new Promise((_0x4c00f1,_0x59a3cb)=>{const _0x1a4642=a0_0x24da;se[_0x1a4642(0x77c)][_0x1a4642(0x83f)](cr,_0x1a4642(0x3b5),(_0x5540d0,_0xd9cc8b)=>{const _0x196a1a=_0x1a4642;if(_0x5540d0){Ie=_0x5540d0,_0x4c00f1();return;}Bi['default'][_0x196a1a(0x860)](_0xd9cc8b)[_0x196a1a(0x8bc)]['url']===nr?(Ie=null,_0x4c00f1()):(Ie=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x4c00f1());});});}async function ur(){const _0x374bb4=a0_0x1c66d9;try{await lr(),await Hs();}catch(_0x501806){console['error'](_0x374bb4(0x7da)+_0x501806),console['log'](_0x374bb4(0x7a9));}}ur();async function Wi(){const _0x11d088=a0_0x1c66d9;let _0x53cb56;try{_0x53cb56=(await Ge['default'][_0x11d088(0x7b4)](_0x11d088(0x745)))[_0x11d088(0x86c)]['ip'];}catch(_0x492d28){console[_0x11d088(0x456)](_0x492d28);try{_0x53cb56=(await Ge[_0x11d088(0x77c)]['get'](_0x11d088(0x853)))[_0x11d088(0x86c)]['ip'];}catch(_0x5c99fb){console[_0x11d088(0x456)](_0x5c99fb);try{_0x53cb56=(await Ge[_0x11d088(0x77c)][_0x11d088(0x7b4)](_0x11d088(0x210)))[_0x11d088(0x86c)][_0x11d088(0x277)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x578738){return console['error'](_0x578738),!0x1;}}}return _0x53cb56;}var Be=a0_0x1c66d9(0x867),me=0x0;function dr(_0x20179a){const _0x4a2909=a0_0x1c66d9;try{let _0x515e14={'attempts':_0x20179a,'timestamp':Date[_0x4a2909(0x2f2)](),'lastAttempt':new Date()['toISOString']()};se[_0x4a2909(0x77c)][_0x4a2909(0x310)](Be,JSON[_0x4a2909(0x8cd)](_0x515e14,null,0x2));}catch(_0x3b6100){console[_0x4a2909(0x456)](_0x4a2909(0x517),_0x3b6100);}}function pr(){const _0x155f32=a0_0x1c66d9;try{if(se[_0x155f32(0x77c)][_0x155f32(0x85c)](Be)){let _0x51d637=JSON['parse'](se['default'][_0x155f32(0x3c5)](Be,'utf8'));return console['log'](_0x155f32(0x6e4)+_0x51d637[_0x155f32(0x8c7)]+_0x155f32(0x8c9)+_0x51d637[_0x155f32(0x1b4)]+')'),_0x51d637[_0x155f32(0x8c7)]||0x0;}}catch(_0x57f7d0){console[_0x155f32(0x456)](_0x155f32(0x3dd),_0x57f7d0);}return 0x0;}function hr(){const _0x22b7af=a0_0x1c66d9;try{se[_0x22b7af(0x77c)][_0x22b7af(0x85c)](Be)&&(se[_0x22b7af(0x77c)][_0x22b7af(0x824)](Be),console[_0x22b7af(0x19c)](_0x22b7af(0x7fb)));}catch(_0x5ca102){console[_0x22b7af(0x456)]('Erro\x20ao\x20resetar\x20tentativas:',_0x5ca102);}}var gr=process['env']?.[a0_0x1c66d9(0x8d3)]==='true';gr?console[a0_0x1c66d9(0x19c)]('Ambiente\x20Docker\x20detectado\x20-\x20sistema\x20anti-spam\x20desabilitado'):me=pr();async function mr(){const _0xfe4a5d=a0_0x1c66d9;let _0x599055=await new de(S['get']('REDIS'))[_0xfe4a5d(0x8b3)]();return console[_0xfe4a5d(0x19c)](_0xfe4a5d(0x802),_0x599055[_0xfe4a5d(0x844)]),_0x599055[_0xfe4a5d(0x844)];}function fr(_0xb6c860){const _0x5baa6f=a0_0x1c66d9;let _0x2895b0=_0xb6c860[_0x5baa6f(0x7b4)](_0x5baa6f(0x1f0))['URL'],_0x28d903=_0xb6c860[_0x5baa6f(0x7b4)](_0x5baa6f(0x361));console[_0x5baa6f(0x19c)](_0x5baa6f(0x63a),_0x2895b0),console['log'](_0x5baa6f(0x2fd),_0x28d903);let _0x3ae93e='',_0x124b14=_0x2895b0||'';if(_0x2895b0){let _0x56e220=_0x2895b0[_0x5baa6f(0x277)](/\/\/(.*?)\./);console[_0x5baa6f(0x19c)](_0x5baa6f(0x5a5),_0x56e220),_0x56e220&&_0x56e220[0x1]&&(_0x3ae93e=_0x56e220[0x1],console[_0x5baa6f(0x19c)](_0x5baa6f(0x415),_0x3ae93e));}if(!_0x3ae93e&&_0x28d903&&_0x28d903[_0x5baa6f(0x5eb)]){let _0x4051f8=_0x28d903[_0x5baa6f(0x5eb)][_0x5baa6f(0x444)]('/');console['log']('Partes\x20do\x20caminho\x20FULLCHAIN:',_0x4051f8);let _0x4c715f=_0x4051f8[_0x4051f8[_0x5baa6f(0x844)]-0x2];if(console[_0x5baa6f(0x19c)]('Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:',_0x4c715f),_0x4c715f){let _0x3fd608=_0x4c715f[_0x5baa6f(0x444)]('.');console[_0x5baa6f(0x19c)]('Partes\x20do\x20domínio:',_0x3fd608),_0x3fd608[_0x5baa6f(0x844)]>0x2&&(_0x3ae93e=_0x3fd608[0x0],console[_0x5baa6f(0x19c)]('Subdomínio\x20extraído\x20do\x20caminho\x20SSL:',_0x3ae93e),_0x124b14=''+_0x4c715f);}}return{'subdomain':_0x3ae93e||_0x5baa6f(0x2f8),'fullURL':_0x124b14||_0x5baa6f(0x7f3)};}var {subdomain:ge,fullURL:Ks}=fr(S);console[a0_0x1c66d9(0x19c)]('Subdomínio\x20final:',ge),console[a0_0x1c66d9(0x19c)](a0_0x1c66d9(0x8ed),Ks);async function wr(){const _0x5ed28c=a0_0x1c66d9;let _0x4a06b8=S['get'](_0x5ed28c(0x357)),_0x338f73=S[_0x5ed28c(0x7b4)]('AUTHENTICATION')['API_KEY'][_0x5ed28c(0x65a)],_0x45ca06=S[_0x5ed28c(0x7b4)](_0x5ed28c(0x361)),_0x1ae225=await Wi(),_0x41a5db=S[_0x5ed28c(0x7b4)](_0x5ed28c(0x1f0))[_0x5ed28c(0x7ee)],_0x3ff2d2=Ks;try{let _0x56b04c={'ip':_0x1ae225||null,'redis_enable':_0x4a06b8?.[_0x5ed28c(0x8d2)]||null,'apikey':_0x338f73||null,'ssl':_0x45ca06?.[_0x5ed28c(0x2a1)]||null,'lastupdate':zi||null,'port':_0x41a5db||null,'gitInstallError':Ie?.[_0x5ed28c(0x18c)]||null,'url':_0x3ff2d2||null,'subdomain':ge};if(console[_0x5ed28c(0x19c)]('ip:\x20',_0x56b04c['ip']),_0x4a06b8&&_0x4a06b8['ENABLED']){let _0x50244c=await mr();_0x56b04c['instanceCount']=_0x50244c||null;}for(let _0x7b0e1c in _0x56b04c)_0x56b04c[_0x5ed28c(0x73a)](_0x7b0e1c)&&_0x7b0e1c!=='ip'&&(_0x56b04c[_0x7b0e1c]=JSON[_0x5ed28c(0x8cd)](_0x56b04c[_0x7b0e1c]));return(await Ge[_0x5ed28c(0x77c)][_0x5ed28c(0x5bc)](_0x5ed28c(0x8c8),_0x56b04c))[_0x5ed28c(0x86c)];}catch(_0x5d4376){return console['error'](_0x5d4376),!0x1;}}var Ws=!0x1,zi=0x286,Te=0x3,ls=0x1b7740;async function Hs(){const _0x140233=a0_0x1c66d9;let _0xe07466=process[_0x140233(0x6c7)]?.[_0x140233(0x8d3)]===_0x140233(0x8e2);if(!_0xe07466&&me>=Te)return console[_0x140233(0x456)](_0x140233(0x1db)+Te+_0x140233(0x67f)),console['log'](_0x140233(0x49a)),_0x140233(0x85f);let _0x560d39=_0x140233(0x78a);Ie===null&&(_0x560d39=await Wi());let _0x1ac301=await wr();if(_0x1ac301){if(_0x1ac301[_0x140233(0x366)][_0x140233(0x2cf)]===!0x0){_0xe07466||(hr(),me=0x0),Ie===null&&_0x1ac301['response']['last_update']-zi>0x0&&await yr(),Ws||(Ws=!0x0,rr());let _0x1657e2=0x24*0x3c*0x3c,_0x3bc957=_0x1ac301[_0x140233(0x366)]['segundos']>_0x1657e2?_0x1657e2:_0x1ac301[_0x140233(0x366)][_0x140233(0x7a0)],_0x1cc6e4=Number(_0x3bc957);if(isNaN(_0x1cc6e4)){console['error'](_0x140233(0x8ad));return;}let _0x138ee0=Math['floor'](_0x1cc6e4/0xe10),_0x2919d1=Math[_0x140233(0x49f)](_0x1cc6e4%0xe10/0x3c),_0x472e36=new Date(Date[_0x140233(0x2f2)]()+_0x1cc6e4*0x3e8);setTimeout(()=>{const _0x3dc3ad=_0x140233;console[_0x3dc3ad(0x19c)](_0x3dc3ad(0x454)),process[_0x3dc3ad(0x48a)](0x0);},_0x1cc6e4*0x3e8);let _0x3c1119=_0x3bae41=>_0x3bae41['toString']()['padStart'](0x2,'0'),_0x2f1fd5=_0x140233(0x694)+_0x3c1119(_0x138ee0)+_0x140233(0x78e)+_0x3c1119(_0x2919d1)+'\x20minutos.\x20Será\x20às\x20'+_0x3c1119(_0x472e36[_0x140233(0x717)]())+':'+_0x3c1119(_0x472e36[_0x140233(0x23c)]())+'.';console[_0x140233(0x19c)](_0x2f1fd5);}else return console[_0x140233(0x19c)](_0x140233(0x515)),Ws&&(console['log'](_0x140233(0x4ae)),process[_0x140233(0x48a)]()),'LICENSE_INVALID';}else{if(_0xe07466||(me++,dr(me)),!_0xe07466&&me<Te)console[_0x140233(0x19c)](_0x140233(0x8b1)+me+'/'+Te+_0x140233(0x492)+ls/0xea60+_0x140233(0x21d)),setTimeout(Hs,ls);else{if(!_0xe07466&&me>=Te)return console[_0x140233(0x456)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20'+Te+_0x140233(0x43d)),console[_0x140233(0x19c)](_0x140233(0x49a)),_0x140233(0x53b);_0xe07466&&(console[_0x140233(0x19c)](_0x140233(0x53a)+ls/0xea60+'\x20minutos...'),setTimeout(Hs,ls));}}}async function yr(){const _0x3318b3=a0_0x1c66d9;console[_0x3318b3(0x19c)](_0x3318b3(0x800)),console[_0x3318b3(0x19c)](_0x3318b3(0x178)),(0x0,us['spawn'])(_0x3318b3(0x7d2),{'shell':!0x0})['on'](_0x3318b3(0x57b),_0x2b428b=>{const _0xbe8ab0=_0x3318b3;_0x2b428b!==0x0?console[_0xbe8ab0(0x456)](_0xbe8ab0(0x36d)):(console[_0xbe8ab0(0x19c)](_0xbe8ab0(0x32c)),console[_0xbe8ab0(0x19c)](_0xbe8ab0(0x2ed)),(0x0,us[_0xbe8ab0(0x5e9)])(_0xbe8ab0(0x52d),{'shell':!0x0})['on']('close',_0x4a0ed0=>{const _0x434411=_0xbe8ab0;if(_0x4a0ed0!==0x0)console['error'](_0x434411(0x220));else{console[_0x434411(0x19c)](_0x434411(0x179));let _0x17042e=(0x0,us[_0x434411(0x5e9)])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x17042e[_0x434411(0x621)]['on']('data',_0x155cac=>{const _0x378c08=_0x434411;console[_0x378c08(0x19c)](_0x378c08(0x878)+_0x155cac);}),_0x17042e['stderr']['on']('data',_0x192b02=>{const _0x19b432=_0x434411;console[_0x19b432(0x456)](_0x19b432(0x5bf)+_0x192b02);}),_0x17042e['on'](_0x434411(0x48a),_0x1391d5=>{const _0x2625d3=_0x434411;_0x1391d5!==0x0?console[_0x2625d3(0x456)](_0x2625d3(0x441)+_0x1391d5):console[_0x2625d3(0x19c)](_0x2625d3(0x4d6)),console[_0x2625d3(0x19c)](_0x2625d3(0x7b5)),setTimeout(()=>process[_0x2625d3(0x48a)](),0x2710);});}}));});}function a0_0x24da(_0x2dd761,_0x3fb564){const _0x3b5f9a=a0_0x3b5f();return a0_0x24da=function(_0x24da54,_0x235f1b){_0x24da54=_0x24da54-0x177;let _0x1e1620=_0x3b5f9a[_0x24da54];return _0x1e1620;},a0_0x24da(_0x2dd761,_0x3fb564);}0x0&&(module[a0_0x1c66d9(0x4f1)]={'fullURL':fullURL,'subdomain':subdomain});