const a0_0xd17613=a0_0x3a35;(function(_0x1cb64b,_0x43914b){const _0x53ed12=a0_0x3a35,_0x28378a=_0x1cb64b();while(!![]){try{const _0x86f43e=parseInt(_0x53ed12(0x31c))/0x1+parseInt(_0x53ed12(0x1d6))/0x2+-parseInt(_0x53ed12(0x5cb))/0x3*(parseInt(_0x53ed12(0x30a))/0x4)+-parseInt(_0x53ed12(0x5f1))/0x5*(parseInt(_0x53ed12(0x626))/0x6)+-parseInt(_0x53ed12(0x4a5))/0x7*(parseInt(_0x53ed12(0x847))/0x8)+parseInt(_0x53ed12(0x7ce))/0x9+-parseInt(_0x53ed12(0x281))/0xa;if(_0x86f43e===_0x43914b)break;else _0x28378a['push'](_0x28378a['shift']());}catch(_0x26b5ab){_0x28378a['push'](_0x28378a['shift']());}}}(a0_0x251d,0xb77be));var Bo=Object[a0_0xd17613(0x76e)],qe=Object[a0_0xd17613(0x2b5)],Wo=Object[a0_0xd17613(0x8a2)],zo=Object['getOwnPropertyNames'],Ho=Object[a0_0xd17613(0x4e1)],Ko=Object[a0_0xd17613(0x1f3)]['hasOwnProperty'],Qo=(_0x1c28d6,_0x3bf336)=>{for(var _0x1ef470 in _0x3bf336)qe(_0x1c28d6,_0x1ef470,{'get':_0x3bf336[_0x1ef470],'enumerable':!0x0});},Bs=(_0x1f354e,_0x3afbf1,_0x66971a,_0x2d2422)=>{const _0x4794dc=a0_0xd17613;if(_0x3afbf1&&typeof _0x3afbf1==_0x4794dc(0x629)||typeof _0x3afbf1==_0x4794dc(0x4d8)){for(let _0x55e80a of zo(_0x3afbf1))!Ko[_0x4794dc(0x4f3)](_0x1f354e,_0x55e80a)&&_0x55e80a!==_0x66971a&&qe(_0x1f354e,_0x55e80a,{'get':()=>_0x3afbf1[_0x55e80a],'enumerable':!(_0x2d2422=Wo(_0x3afbf1,_0x55e80a))||_0x2d2422[_0x4794dc(0x835)]});}return _0x1f354e;},A=(_0xeef2b7,_0x40e9f1,_0x394f04)=>(_0x394f04=_0xeef2b7!=null?Bo(Ho(_0xeef2b7)):{},Bs(_0x40e9f1||!_0xeef2b7||!_0xeef2b7['__esModule']?qe(_0x394f04,a0_0xd17613(0x6db),{'value':_0xeef2b7,'enumerable':!0x0}):_0x394f04,_0xeef2b7)),Yo=_0x5588d9=>Bs(qe({},a0_0xd17613(0x3d5),{'value':!0x0}),_0x5588d9),mr={};Qo(mr,{'fullURL':()=>Gs,'subdomain':()=>oe}),module[a0_0xd17613(0x56e)]=Yo(mr);var Fo=A(require(a0_0xd17613(0x731))),zs=require('fs'),Hs=require(a0_0xd17613(0x4ec)),Ks=require('path'),Ve=require('path'),ie=process['cwd'](),be=(0x0,Ve[a0_0xd17613(0x4c3)])(ie,a0_0xd17613(0x6fa)),Ws=(0x0,Ve[a0_0xd17613(0x4c3)])(ie,a0_0xd17613(0x380)),cn=(0x0,Ve[a0_0xd17613(0x4c3)])(ie,a0_0xd17613(0x19f),a0_0xd17613(0x7b3)),us=class{constructor(){this['loadEnv']();}[a0_0xd17613(0x8bc)](_0x59e021){const _0x141067=a0_0xd17613;return this[_0x141067(0x399)][_0x59e021];}[a0_0xd17613(0x85f)](){const _0x208b0a=a0_0xd17613;this[_0x208b0a(0x399)]=process[_0x208b0a(0x399)]?.[_0x208b0a(0x253)]!=='true'?this[_0x208b0a(0x59e)]():this[_0x208b0a(0x22a)](),process[_0x208b0a(0x399)]?.[_0x208b0a(0x253)]===_0x208b0a(0x844)&&(this[_0x208b0a(0x399)][_0x208b0a(0x649)]['TYPE']=_0x208b0a(0x81c),this[_0x208b0a(0x399)][_0x208b0a(0x649)][_0x208b0a(0x2ea)]=Number[_0x208b0a(0x2ee)](process[_0x208b0a(0x399)]?.[_0x208b0a(0x4df)]??_0x208b0a(0x2c6)));}[a0_0xd17613(0x59e)](){const _0x4dee46=a0_0xd17613;return(0x0,Hs['load'])((0x0,zs[_0x4dee46(0x1a5)])((0x0,Ks[_0x4dee46(0x4c3)])(Ws,'../env.yml'),{'encoding':_0x4dee46(0x1a6)}));}['envProcess'](){const _0x4389bd=a0_0xd17613;return{'SERVER':{'TYPE':process[_0x4389bd(0x399)]['SERVER_TYPE'],'PORT':Number['parseInt'](process[_0x4389bd(0x399)][_0x4389bd(0x4df)]),'URL':process[_0x4389bd(0x399)][_0x4389bd(0x4ab)]},'CORS':{'ORIGIN':process[_0x4389bd(0x399)]['CORS_ORIGIN'][_0x4389bd(0x37b)](','),'METHODS':process[_0x4389bd(0x399)]['CORS_METHODS'][_0x4389bd(0x37b)](','),'CREDENTIALS':process['env']?.[_0x4389bd(0x7f7)]===_0x4389bd(0x844)},'SSL_CONF':{'PRIVKEY':process['env']?.[_0x4389bd(0x52c)],'FULLCHAIN':process[_0x4389bd(0x399)]?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number[_0x4389bd(0x65c)](process[_0x4389bd(0x399)]?.[_0x4389bd(0x80e)])?Number[_0x4389bd(0x2ee)](process['env'][_0x4389bd(0x80e)]):void 0x0,'MESSAGES':process['env']?.[_0x4389bd(0x227)]===_0x4389bd(0x844),'CONTACTS':process['env']?.[_0x4389bd(0x287)]===_0x4389bd(0x844),'CHATS':process[_0x4389bd(0x399)]?.['STORE_CHATS']===_0x4389bd(0x844)},'DATABASE':{'CONNECTION':{'HOST':process[_0x4389bd(0x399)]?.[_0x4389bd(0x7b0)],'PORT':Number['parseInt'](process['env']?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x4389bd(0x399)][_0x4389bd(0x87f)],'PASSWORD':process[_0x4389bd(0x399)][_0x4389bd(0x764)],'URI':process[_0x4389bd(0x399)][_0x4389bd(0x7c3)],'DB_PREFIX_NAME':process[_0x4389bd(0x399)][_0x4389bd(0x3e2)]},'ENABLED':process[_0x4389bd(0x399)]?.[_0x4389bd(0x407)]===_0x4389bd(0x844)},'REDIS':{'ENABLED':process[_0x4389bd(0x399)]?.[_0x4389bd(0x7a7)]===_0x4389bd(0x844),'URI':process[_0x4389bd(0x399)]['REDIS_URI']||'redis://127.0.0.1:6379','PREFIX_KEY':process[_0x4389bd(0x399)][_0x4389bd(0x533)]||'uazapi'},'LOG':{'LEVEL':process['env']?.[_0x4389bd(0x7ac)][_0x4389bd(0x37b)](','),'COLOR':process['env']?.[_0x4389bd(0x6f2)]===_0x4389bd(0x844)},'AUTHENTICATION':{'TYPE':process[_0x4389bd(0x399)][_0x4389bd(0x70a)],'API_KEY':{'KEY':process['env'][_0x4389bd(0x70b)]},'JWT':{'EXPIRIN_IN':Number[_0x4389bd(0x65c)](process[_0x4389bd(0x399)]?.[_0x4389bd(0x37a)])?Number[_0x4389bd(0x2ee)](process['env'][_0x4389bd(0x37a)]):0xe10,'SECRET':process['env'][_0x4389bd(0x86a)]}}};}},b=new us(),Uo=A(require(a0_0xd17613(0x56b))),ye=A(require(a0_0xd17613(0x65e))),qs=require(a0_0xd17613(0x7f6)),ds=A(require('dayjs')),ps=(_0x169eb5=>(_0x169eb5[a0_0xd17613(0x373)]=a0_0xd17613(0x511),_0x169eb5[a0_0xd17613(0x6c5)]=a0_0xd17613(0x567),_0x169eb5[a0_0xd17613(0x4bc)]=a0_0xd17613(0x790),_0x169eb5['ERROR']=a0_0xd17613(0x405),_0x169eb5[a0_0xd17613(0x46d)]='\x1b[36m',_0x169eb5[a0_0xd17613(0x45a)]=a0_0xd17613(0x73a),_0x169eb5[a0_0xd17613(0x82a)]=a0_0xd17613(0x4a4),_0x169eb5))(ps||{}),Qs=(_0x4fdcec=>(_0x4fdcec['LOG']=a0_0xd17613(0x7ad),_0x4fdcec['DARK']=a0_0xd17613(0x498),_0x4fdcec['INFO']=a0_0xd17613(0x7df),_0x4fdcec['WARN']='\x1b[33m%s\x1b[0m',_0x4fdcec[a0_0xd17613(0x322)]=a0_0xd17613(0x6bb),_0x4fdcec['DEBUG']=a0_0xd17613(0x721),_0x4fdcec[a0_0xd17613(0x45a)]=a0_0xd17613(0x8bb),_0x4fdcec))(Qs||{}),Ys=(_0x2aedc9=>(_0x2aedc9[a0_0xd17613(0x373)]=a0_0xd17613(0x373),_0x2aedc9[a0_0xd17613(0x4bc)]=a0_0xd17613(0x4bc),_0x2aedc9['INFO']=a0_0xd17613(0x6c5),_0x2aedc9['DARK']=a0_0xd17613(0x82a),_0x2aedc9[a0_0xd17613(0x322)]='ERROR',_0x2aedc9['DEBUG']=a0_0xd17613(0x46d),_0x2aedc9[a0_0xd17613(0x45a)]=a0_0xd17613(0x45a),_0x2aedc9))(Ys||{}),Xs=(_0x44d53b=>(_0x44d53b[a0_0xd17613(0x373)]='\x1b[42m',_0x44d53b['INFO']=a0_0xd17613(0x1ab),_0x44d53b[a0_0xd17613(0x4bc)]=a0_0xd17613(0x396),_0x44d53b[a0_0xd17613(0x82a)]=a0_0xd17613(0x71a),_0x44d53b['ERROR']=a0_0xd17613(0x291),_0x44d53b[a0_0xd17613(0x46d)]=a0_0xd17613(0x26d),_0x44d53b[a0_0xd17613(0x45a)]=a0_0xd17613(0x68e),_0x44d53b))(Xs||{}),$=class{constructor(_0x8a58e9=a0_0xd17613(0x549)){const _0x3c2651=a0_0xd17613;this[_0x3c2651(0x86f)]=_0x8a58e9,this[_0x3c2651(0x3ea)]=b;}[a0_0xd17613(0x770)](_0x4dd794){this['context']=_0x4dd794;}[a0_0xd17613(0x228)](_0x2b7cc5,_0x153afc){const _0x599292=a0_0xd17613;let _0x369e2c=[];this[_0x599292(0x3ea)]['get'](_0x599292(0x373))[_0x599292(0x1e5)]['forEach'](_0x47153f=>_0x369e2c[_0x599292(0x668)](Ys[_0x47153f]));let _0x2f42a1=typeof _0x2b7cc5;_0x369e2c['includes'](_0x153afc)&&(b[_0x599292(0x8bc)](_0x599292(0x373))['COLOR']?(console['log']('\x1b[1m'+Qs[_0x153afc],_0x599292(0x5c8),(0x0,ds[_0x599292(0x6db)])()['format'](_0x599292(0x7e5)),_0x599292(0x48f),ps[_0x153afc]+Xs[_0x153afc]+_0x599292(0x59c),_0x153afc+_0x599292(0x715),_0x599292(0x2eb),this[_0x599292(0x86f)]+_0x599292(0x48f),ps[_0x153afc],_0x2f42a1!==_0x599292(0x629)?_0x2b7cc5:'','\x1b[0m'),_0x2f42a1===_0x599292(0x629)&&console[_0x599292(0x5c6)](_0x2b7cc5,'\x0a')):console[_0x599292(0x5c6)]((0x0,ds[_0x599292(0x6db)])()[_0x599292(0x75f)](_0x599292(0x4fe)),_0x153afc+'\x20',''+this[_0x599292(0x86f)],_0x2b7cc5));}[a0_0xd17613(0x5c6)](_0xee1ce2){const _0x31bbfc=a0_0xd17613;this['console'](_0xee1ce2,_0x31bbfc(0x373));}[a0_0xd17613(0x40c)](_0x151098){const _0xa00fd6=a0_0xd17613;this['console'](_0x151098,_0xa00fd6(0x6c5));}['warn'](_0x59dd8a){const _0x2bbd1d=a0_0xd17613;this[_0x2bbd1d(0x228)](_0x59dd8a,_0x2bbd1d(0x4bc));}[a0_0xd17613(0x37f)](_0x2c69c7){const _0x307e01=a0_0xd17613;this[_0x307e01(0x228)](_0x2c69c7,_0x307e01(0x322));}[a0_0xd17613(0x230)](_0x147d11){const _0x454fcf=a0_0xd17613;this[_0x454fcf(0x228)](_0x147d11,_0x454fcf(0x45a));}[a0_0xd17613(0x439)](_0x1a46c5){const _0x2c9f1b=a0_0xd17613;this[_0x2c9f1b(0x228)](_0x1a46c5,'DEBUG');}[a0_0xd17613(0x7e0)](_0x14cb63){const _0x30719c=a0_0xd17613;this['console'](_0x14cb63,_0x30719c(0x82a));}};function Zs(){const _0x2b6665=a0_0xd17613;process['on'](_0x2b6665(0x3a0),(_0x304c98,_0x5bb8cc)=>{const _0x31f3df=_0x2b6665;new $(_0x31f3df(0x3a0))[_0x31f3df(0x37f)]({'origin':_0x5bb8cc,'stderr':process['stderr']['fd'],'error':_0x304c98});}),process['on']('unhandledRejection',(_0x2aaf71,_0x4bbc14)=>{const _0x20b6a3=_0x2b6665;new $(_0x20b6a3(0x20e))['error']({'origin':_0x4bbc14,'stderr':process[_0x20b6a3(0x35e)]['fd'],'error':_0x2aaf71});});}var ea=A(require('eventemitter2')),hs=new ea[(a0_0xd17613(0x6db))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Se=require(a0_0xd17613(0x3b4)),Ne=A(require(a0_0xd17613(0x3b4))),Ge=new $(a0_0xd17613(0x537)),L=b[a0_0xd17613(0x8bc)](a0_0xd17613(0x347)),R=L[a0_0xd17613(0x2e1)]?L[a0_0xd17613(0x8a4)][a0_0xd17613(0x2ce)]?Ne[a0_0xd17613(0x6db)][a0_0xd17613(0x351)](L[a0_0xd17613(0x8a4)]['URI'],{'dbName':L['CONNECTION']['DB_PREFIX_NAME']+a0_0xd17613(0x276)}):Ne[a0_0xd17613(0x6db)]['createConnection'](a0_0xd17613(0x720)+L[a0_0xd17613(0x8a4)]['HOST']+':'+L[a0_0xd17613(0x8a4)][a0_0xd17613(0x2ea)]+a0_0xd17613(0x3a5),{'user':L['CONNECTION']['USER'],'pass':L[a0_0xd17613(0x8a4)][a0_0xd17613(0x5b7)],'dbName':L[a0_0xd17613(0x8a4)][a0_0xd17613(0x659)]+a0_0xd17613(0x276)}):null;L[a0_0xd17613(0x2e1)]&&Ge[a0_0xd17613(0x40c)](a0_0xd17613(0x196)+R[a0_0xd17613(0x4b3)]);var re=L[a0_0xd17613(0x2e1)]?L[a0_0xd17613(0x8a4)][a0_0xd17613(0x2ce)]?Ne[a0_0xd17613(0x6db)][a0_0xd17613(0x351)](L[a0_0xd17613(0x8a4)]['URI'],{'dbName':a0_0xd17613(0x32c)}):Ne['default'][a0_0xd17613(0x351)]('mongodb://'+L['CONNECTION'][a0_0xd17613(0x1bb)]+':'+L['CONNECTION']['PORT']+a0_0xd17613(0x3a5),{'user':L[a0_0xd17613(0x8a4)][a0_0xd17613(0x5ce)],'pass':L['CONNECTION'][a0_0xd17613(0x5b7)],'dbName':a0_0xd17613(0x379)}):null;re&&Ge[a0_0xd17613(0x40c)](a0_0xd17613(0x196)+re['$dbName']),process['on']('beforeExit',()=>{const _0x3d415a=a0_0xd17613;R&&R[_0x3d415a(0x3a6)](()=>{const _0x360f3c=_0x3d415a;Ge['info'](_0x360f3c(0x188));}),re&&re[_0x3d415a(0x3a6)](()=>{const _0x1226e7=_0x3d415a;Ge[_0x1226e7(0x40c)](_0x1226e7(0x796));});});var Xo=new Se[(a0_0xd17613(0x5a4))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Zo=new Se[(a0_0xd17613(0x5a4))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),ei=new Se['Schema']({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),ti=new Se['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Xo],'default':[]}},{'_id':!0x1}),si=new Se[(a0_0xd17613(0x5a4))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':ti,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Zo},'groupdata':{'type':ei,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ta=_0x4289c1=>{const _0x33fb90=a0_0xd17613;let _0xe3ec4d='z_'+_0x4289c1+_0x33fb90(0x17b);return R?.[_0x33fb90(0x3f7)](_0x33fb90(0x888),si,_0xe3ec4d);},sa=require('mongoose'),ai=new sa['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=_0x50bff1=>{const _0x12bb91=a0_0xd17613;let _0x1dee51='z_'+_0x50bff1+_0x12bb91(0x370);return R?.['model']('ContactModel',ai,_0x1dee51);},oa=require(a0_0xd17613(0x3b4)),gs=class{},oi=new oa['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ia=re?.[a0_0xd17613(0x3f7)](gs[a0_0xd17613(0x4f2)],oi,a0_0xd17613(0x312)),ra=require('mongoose'),ms=class{},ii=new ra[(a0_0xd17613(0x5a4))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Be=re?.['model'](ms[a0_0xd17613(0x4f2)],ii,a0_0xd17613(0x6fa)),na=require('mongoose'),ri=new na['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ca=_0x44c669=>{const _0x48160d=a0_0xd17613;let _0x13e854='z_'+_0x44c669+_0x48160d(0x3a4);return R?.[_0x48160d(0x3f7)]('MessageModel',ri,_0x13e854);},la=require(a0_0xd17613(0x3b4)),fs=class{},ni=new la[(a0_0xd17613(0x5a4))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ua=R?.['model'](fs[a0_0xd17613(0x4f2)],ni,a0_0xd17613(0x532)),da=require(a0_0xd17613(0x3b4)),ws=class{},pa=new da[(a0_0xd17613(0x5a4))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});pa[a0_0xd17613(0x6b8)](a0_0xd17613(0x534),function(_0x3b56d0){const _0x3b46fa=a0_0xd17613;delete this[_0x3b46fa(0x5fb)],delete this['flowIgnoreGroups'],delete this[_0x3b46fa(0x1db)],delete this[_0x3b46fa(0x62b)],delete this[_0x3b46fa(0x363)],_0x3b56d0();});var ha=R?.['model'](ws[a0_0xd17613(0x4f2)],pa,'webhook'),x=require('mongoose'),ys=require(a0_0xd17613(0x630)),We=class{},ga=new x[(a0_0xd17613(0x5a4))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),bs=new x[(a0_0xd17613(0x5a4))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),ci=new x[(a0_0xd17613(0x5a4))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0xd17613(0x2e9)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0xd17613(0x512)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ma=new x[(a0_0xd17613(0x5a4))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),li=new x['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),ui=new x[(a0_0xd17613(0x5a4))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Cs=new x['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),di=new x['Schema']({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),fa=new x[(a0_0xd17613(0x5a4))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':ci},'apirequest':li,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':di,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),wa=new x['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Ss=class{},Es=new x[(a0_0xd17613(0x5a4))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Cs],'blocks':[fa],'groups':[ga],'conditions':[ma],'varedits':[wa],'replyOptions':{'type':[bs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x35456c=a0_0xd17613;return'!cmd_'+Math[_0x35456c(0x23e)]()['toString'](0x24)[_0x35456c(0x592)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0xd17613(0x8b7)},'startID':{'type':String,'default':()=>(0x0,ys['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,ys['v4'])()},'shareOwners':{'type':[String],'default':[]}});Es[a0_0xd17613(0x6b8)]('findOneAndUpdate',function(_0x493a61){const _0x4cb742=a0_0xd17613;let _0x38f41a=this[_0x4cb742(0x77a)]();if(_0x38f41a&&typeof _0x38f41a==_0x4cb742(0x629)&&'$set'in _0x38f41a){let _0x5724db=_0x38f41a[_0x4cb742(0x1d0)];if(_0x5724db){let _0x4c9bbd=new Set(),_0x1b54c1=new Set(_0x5724db[_0x4cb742(0x67b)]?.['map'](_0x50e7ec=>_0x50e7ec[_0x4cb742(0x4f2)])),_0x23e39d=JSON['stringify'](_0x5724db),_0x2cd125=/{{(?!_)([^}]*)}}/g,_0x18ef8a;for(;(_0x18ef8a=_0x2cd125[_0x4cb742(0x2f2)](_0x23e39d))!==null;)_0x1b54c1[_0x4cb742(0x753)](_0x18ef8a[0x1])||_0x4c9bbd['add'](_0x18ef8a[0x1]);_0x4c9bbd[_0x4cb742(0x19b)]>0x0?(console[_0x4cb742(0x388)](_0x4cb742(0x5c4),Array[_0x4cb742(0x310)](_0x4c9bbd)),_0x5724db[_0x4cb742(0x404)]=Array['from'](_0x4c9bbd)):_0x5724db['variablesNotFound']=[],this[_0x4cb742(0x2e8)]({'$set':_0x5724db});}}_0x493a61();});var vs=_0x5f2790=>{const _0x495a96=a0_0xd17613;let _0x4ff789='z_'+_0x5f2790+_0x495a96(0x2bf);return R?.[_0x495a96(0x3f7)](_0x495a96(0x455),Es,_0x4ff789);},pe=R?.['model'](Ss[a0_0xd17613(0x4f2)],Es,a0_0xd17613(0x7e8)),pi=new x[(a0_0xd17613(0x5a4))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Cs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[ui]},{'_id':!0x1}),hi=new x['Schema']({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Cs],'blocks':[fa],'groups':[ga],'conditions':[ma],'varedits':[wa],'replyOptions':{'type':[bs],'default':[]},'chatLog':pi,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0xd17613(0x4c2)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'waitingMenu_replyOptions':{'type':[bs],'default':[]}}),ya=_0x3745ad=>{const _0x17c01b=a0_0xd17613;let _0x5ee110='z_'+_0x3745ad+'_FlowHistorico';return R?.[_0x17c01b(0x3f7)]('ConversationModel',hi,_0x5ee110);},gi=new x[(a0_0xd17613(0x5a4))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),mi=new x[(a0_0xd17613(0x5a4))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),fi=new x[(a0_0xd17613(0x5a4))]({'owner':{'type':String},'status':{'type':String,'default':'scheduled'},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':mi,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[gi],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ba=_0x37788f=>{const _0x2eac91=a0_0xd17613;let _0x24910e='z_'+_0x37788f+_0x2eac91(0x1f2);return R?.['model'](_0x2eac91(0x17e),fi,_0x24910e);},Ms=class{},wi=new x['Schema']({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),yi=new x[(a0_0xd17613(0x5a4))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),bi=new x[(a0_0xd17613(0x5a4))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Si=new x[(a0_0xd17613(0x5a4))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),Mi=new x['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Ci=new x[(a0_0xd17613(0x5a4))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Mi]},'customFields':{'type':[bi]},'flowConfig':{'type':Si,'default':{}},'flows':{'type':[yi],'default':[]},'autoCompleteMessages':{'type':[wi],'default':[]}}),$e=R?.[a0_0xd17613(0x3f7)](Ms[a0_0xd17613(0x4f2)],Ci,'AutomateSystem'),Sa=require(a0_0xd17613(0x3b4)),Ei=new Sa['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ma=_0xa8916c=>{const _0x9f28b0=a0_0xd17613;let _0x22381c='z_'+_0xa8916c+_0x9f28b0(0x559);return R?.[_0x9f28b0(0x3f7)](_0x9f28b0(0x839),Ei,_0x22381c);},O=class{constructor(_0x2e935d){const _0x7903af=a0_0xd17613;this[_0x7903af(0x54f)]=_0x2e935d['get']('DATABASE');}};function T(_0x426b5d){const _0x207036=a0_0xd17613;let _0x2f7a99={};for(let [_0x5b28ce,_0x516520]of Object[_0x207036(0x748)](_0x426b5d))if(typeof _0x516520==_0x207036(0x629)&&!Array[_0x207036(0x5cf)](_0x516520)){for(let [_0x29e858,_0x34b03d]of Object[_0x207036(0x748)](_0x516520))_0x2f7a99[_0x5b28ce+'.'+_0x29e858]=_0x34b03d;}else _0x2f7a99[_0x5b28ce]=_0x516520;return _0x2f7a99;}var ze=class{constructor(_0x12b2f5,_0x83486d,_0xb9f5b5,_0x49c487,_0x581dbb,_0x13cb5c,_0x5d0cef,_0x23525c,_0x15e13d,_0x3c6fd2,_0x1b92af,_0x19858e,_0x2d1d23){const _0x129684=a0_0xd17613;this['message']=_0x12b2f5,this[_0x129684(0x33f)]=_0x83486d,this[_0x129684(0x240)]=_0xb9f5b5,this['cacheContact']=_0x49c487,this[_0x129684(0x4f4)]=_0x581dbb,this[_0x129684(0x7b3)]=_0x13cb5c,this[_0x129684(0x5ef)]=_0x5d0cef,this[_0x129684(0x177)]=_0x23525c,this[_0x129684(0x4de)]=_0x15e13d,this[_0x129684(0x6cc)]=_0x3c6fd2,this[_0x129684(0x6f1)]=_0x1b92af,this['automateSystem']=_0x19858e,this['dbClient']=_0x2d1d23;}get[a0_0xd17613(0x8c4)](){const _0x19d570=a0_0xd17613;return this[_0x19d570(0x259)];}},He=class{},Ke=class extends O{[a0_0xd17613(0x301)](_0x4bc080){return ca(_0x4bc080);}async['insert'](_0x8898af,_0x103432){const _0x3b74af=a0_0xd17613;if(_0x8898af['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x3b74af(0x301)](_0x103432)[_0x3b74af(0x792)]([..._0x8898af]))[_0x3b74af(0x4ba)]};}catch(_0x457555){return _0x457555;}}async[a0_0xd17613(0x357)](_0x58d13f,_0x79848){const _0x116c4d=a0_0xd17613;try{let _0x1eeb9d=this[_0x116c4d(0x301)](_0x79848),_0x12db40=T(_0x58d13f[_0x116c4d(0x29d)]);return await _0x1eeb9d[_0x116c4d(0x357)](_0x12db40)[_0x116c4d(0x730)]({'messageTimestamp':-0x1})[_0x116c4d(0x468)](_0x58d13f?.[_0x116c4d(0x468)]??0x0)[_0x116c4d(0x73f)]();}catch{return[];}}async[a0_0xd17613(0x5b4)](_0x2171d2,_0x40002b){const _0x473664=a0_0xd17613;try{let _0x1d6e7c=this[_0x473664(0x301)](_0x40002b),_0x20a272=T(_0x2171d2['where']);await _0x1d6e7c[_0x473664(0x7b1)](_0x20a272);}catch(_0x9182ed){console[_0x473664(0x37f)](_0x9182ed);}}async['update'](_0x2fb971,_0x505886,_0x11901d){const _0x3ecef0=a0_0xd17613;try{let _0x22e113=this['getMessageModelForOwner'](_0x11901d),_0x493922=T(_0x2fb971['where']);return await _0x22e113[_0x3ecef0(0x189)](_0x493922,{'$set':_0x505886},{'new':!0x0});}catch(_0x31e0e6){throw console['error'](_0x31e0e6),_0x31e0e6;}}async[a0_0xd17613(0x792)](_0x3fe898,_0x67cbd6){const _0xc6e1f3=a0_0xd17613;if(_0x3fe898['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0xc6e1f3(0x301)](_0x67cbd6)[_0xc6e1f3(0x792)]([..._0x3fe898]))[_0xc6e1f3(0x4ba)]};}catch(_0x36da0b){return console[_0xc6e1f3(0x5c6)](_0xc6e1f3(0x256),_0x36da0b),_0x36da0b;}}async[a0_0xd17613(0x742)](_0x4a0c1e){const _0x58a654=a0_0xd17613;try{return await this['getMessageModelForOwner'](_0x4a0c1e)[_0x58a654(0x202)][_0x58a654(0x1d9)](),{'success':!0x0};}catch(_0x563ecb){return console[_0x58a654(0x37f)](_0x563ecb),{'success':!0x1,'error':_0x563ecb};}}},Ds=A(require('@ffmpeg-installer/ffmpeg')),w=A(require(a0_0xd17613(0x604))),Pe=require('fs'),F=A(require(a0_0xd17613(0x7f6))),Z=A(require(a0_0xd17613(0x3db))),Ao=require(a0_0xd17613(0x630)),To=A(require('qrcode')),Io=A(require(a0_0xd17613(0x243))),Ca=[a0_0xd17613(0x206),a0_0xd17613(0x67e),'audioMessage','videoMessage',a0_0xd17613(0x2f4)],Ea=[a0_0xd17613(0x7f0),'documentWithCaptionMessage','viewOnceMessage','viewOnceMessageV2'],Ps=require('os'),Ut=A(require(a0_0xd17613(0x49c))),ke=require(a0_0xd17613(0x473)),jt=require('node-mime-types'),de=A(require('mongoose')),P=require(a0_0xd17613(0x68b)),ne=class{constructor(_0x1c498c,_0x1e3750,_0x21651f){const _0x3ff4be=a0_0xd17613;this[_0x3ff4be(0x773)]=_0x1c498c,this[_0x3ff4be(0x250)]=_0x1e3750,this[_0x3ff4be(0x4f2)]=_0x21651f;}},Qe=class{},Ye=class{},Re=class{},Xe=class{},Ze=class{},Me=class{},et=class{},tt=class{},st=class{},at=class{},xt=A(require(a0_0xd17613(0x65e))),va=require('fs'),Na=require(a0_0xd17613(0x7f6));async function Ae(_0x5dc92b){const _0x143ccf=a0_0xd17613;let _0x36399b=G['waInstances'][_0x5dc92b];if(L[_0x143ccf(0x2e1)]){let _0x96345f=R[_0x143ccf(0x5b6)]()['db'](L[_0x143ccf(0x8a4)]['DB_PREFIX_NAME']+_0x143ccf(0x876))[_0x143ccf(0x202)](_0x5dc92b);return _0x36399b||(await _0x96345f[_0x143ccf(0x357)]({})['toArray']())[_0x143ccf(0x4ba)]>0x0;}return _0x36399b||(0x0,va[_0x143ccf(0x36a)])((0x0,Na[_0x143ccf(0x4c3)])(be,_0x5dc92b));}async function $a(_0x42af91,_0x25694f,_0x2b82c2){const _0xbc3aba=a0_0xd17613;if(_0x42af91[_0xbc3aba(0x46a)][_0xbc3aba(0x831)]('/instance/create')||_0x42af91[_0xbc3aba(0x46a)]['includes'](_0xbc3aba(0x670))||_0x42af91[_0xbc3aba(0x46a)][_0xbc3aba(0x831)](_0xbc3aba(0x2dc))||_0x42af91['originalUrl'][_0xbc3aba(0x831)](_0xbc3aba(0x571))||_0x42af91[_0xbc3aba(0x46a)][_0xbc3aba(0x831)](_0xbc3aba(0x829))||_0x42af91[_0xbc3aba(0x46a)][_0xbc3aba(0x831)]('/instance/connectionState')||_0x42af91[_0xbc3aba(0x46a)][_0xbc3aba(0x831)](_0xbc3aba(0x213)))return _0x2b82c2();let _0x370e9f=_0x42af91['params'];if(!_0x370e9f?.[_0xbc3aba(0x84b)])throw new m(_0xbc3aba(0x828));if(!await Ae(_0x370e9f[_0xbc3aba(0x84b)]))throw new j('The\x20'+_0x370e9f[_0xbc3aba(0x84b)]+_0xbc3aba(0x18c));_0x2b82c2();}async function Ra(_0x2c44a9,_0x7507b8,_0x4539da){const _0x49cb37=a0_0xd17613;if(_0x2c44a9[_0x49cb37(0x46a)][_0x49cb37(0x831)](_0x49cb37(0x4cc))){let _0x84eea=_0x2c44a9[_0x49cb37(0x8c2)];if(await Ae(_0x84eea['instanceName']))throw new K(_0x49cb37(0x353)+_0x84eea['instanceName']+_0x49cb37(0x634));G[_0x49cb37(0x581)][_0x84eea[_0x49cb37(0x84b)]]&&delete G[_0x49cb37(0x581)][_0x84eea[_0x49cb37(0x84b)]];}_0x4539da();}var Aa=require('class-validator'),Ta=A(require(a0_0xd17613(0x459))),ot=a0_0xd17613(0x17d),Ni=new $(a0_0xd17613(0x695));async function $i(_0x92965c,_0xc32c78,_0x435e46){const _0x1420dc=a0_0xd17613;let _0x223903=_0x92965c[_0x1420dc(0x8bc)](_0x1420dc(0x460));if(_0x223903&&b['get'](_0x1420dc(0x299))[_0x1420dc(0x44f)][_0x1420dc(0x3f4)]!==_0x223903)throw new se();if(b[_0x1420dc(0x8bc)](_0x1420dc(0x299))[_0x1420dc(0x44f)][_0x1420dc(0x3f4)]===_0x223903)return _0x435e46();if((_0x92965c[_0x1420dc(0x46a)][_0x1420dc(0x831)](_0x1420dc(0x4cc))||_0x92965c[_0x1420dc(0x46a)][_0x1420dc(0x831)](_0x1420dc(0x670)))&&!_0x223903)throw new K(_0x1420dc(0x41c),_0x1420dc(0x382));let _0x5f4e6a=b['get'](_0x1420dc(0x299))[_0x1420dc(0x3ba)];try{let [_0xbaae89,_0x6748ca]=_0x92965c[_0x1420dc(0x8bc)](_0x1420dc(0x756))[_0x1420dc(0x37b)]('\x20');if(_0xbaae89[_0x1420dc(0x53e)]()!==_0x1420dc(0x1a0))throw new se();if(!(0x0,Aa['isJWT'])(_0x6748ca))throw new se();let _0x3761c2=_0x92965c[_0x1420dc(0x41b)],_0x2ff94a=Ta[_0x1420dc(0x6db)]['verify'](_0x6748ca,_0x5f4e6a[_0x1420dc(0x552)],{'ignoreExpiration':_0x5f4e6a[_0x1420dc(0x1e1)]===0x0});if(_0x3761c2['instanceName']!==_0x2ff94a[_0x1420dc(0x84b)]||ot!==_0x2ff94a[_0x1420dc(0x5d1)])throw new se();return _0x435e46();}catch(_0x267531){throw Ni[_0x1420dc(0x37f)](_0x267531),new se();}}async function Ri(_0xbf91a0,_0x3a139c,_0x4016ba){const _0x5223f1=a0_0xd17613;let _0x20dd99=b['get'](_0x5223f1(0x299))[_0x5223f1(0x44f)],_0xc7d569=_0xbf91a0['get'](_0x5223f1(0x460));if(_0x20dd99[_0x5223f1(0x3f4)]===_0xc7d569)return _0x4016ba();if(_0xbf91a0[_0x5223f1(0x46a)][_0x5223f1(0x831)]('/instance/create')){let _0x2688fd=Oa,_0x574f91=_0xbf91a0[_0x5223f1(0x8c2)]['instanceName'];if(_0x2688fd&&_0x574f91[_0x5223f1(0x53e)]()[_0x5223f1(0x29c)](_0x2688fd[_0x5223f1(0x53e)]()))return _0x4016ba();if(!_0xc7d569)throw new K(_0x5223f1(0x41c),_0x5223f1(0x382));}if(_0xbf91a0[_0x5223f1(0x46a)][_0x5223f1(0x831)](_0x5223f1(0x670))&&!_0xc7d569)throw new K(_0x5223f1(0x41c),_0x5223f1(0x382));if(_0xbf91a0[_0x5223f1(0x46a)]['includes']('/exit')&&!_0xc7d569)throw new K('Missing\x20global\x20api\x20key',_0x5223f1(0x382));if(_0xbf91a0[_0x5223f1(0x46a)][_0x5223f1(0x831)](_0x5223f1(0x571))&&!_0xc7d569)throw new K(_0x5223f1(0x41c),_0x5223f1(0x382));try{let _0x2daf24=_0xbf91a0[_0x5223f1(0x41b)],_0x2efd40=await he[_0x5223f1(0x7b3)][_0x5223f1(0x357)](_0x2daf24[_0x5223f1(0x84b)]);if(_0x2efd40&&_0x2efd40['apikey']===_0xc7d569)return _0x4016ba();}catch{}throw new se();}var Ia={'jwt':$i,'apikey':Ri},po=require(a0_0xd17613(0x65e)),E=require(a0_0xd17613(0x630)),C=(..._0x3275e1)=>{const _0x7436ce=a0_0xd17613;let _0x21e915={};return _0x3275e1['forEach'](_0x109f7c=>_0x21e915[_0x109f7c]={'minLength':0x1,'description':_0x7436ce(0x304)+_0x109f7c+_0x7436ce(0x47e)}),{'if':{'propertyNames':{'enum':[..._0x3275e1]}},'then':{'properties':_0x21e915}};},N={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'instanceName':{'type':a0_0xd17613(0x693)}},...C('instanceName')},Sc={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'oldToken':{'type':a0_0xd17613(0x693)}},'required':[a0_0xd17613(0x24c)],...C(a0_0xd17613(0x24c))},Mc={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0xd17613(0x693)},'remoteJid':{'type':a0_0xd17613(0x693)},'fromMe':{'type':a0_0xd17613(0x52d),'enum':[!0x0,!0x1]}},'required':['id',a0_0xd17613(0x2dd),a0_0xd17613(0x2cc)],...C('id',a0_0xd17613(0x2dd))},'message':{'type':a0_0xd17613(0x629)}}},Q={'properties':{'delay':{'type':'integer','description':a0_0xd17613(0x799)},'presence':{'type':'string','enum':[a0_0xd17613(0x682),a0_0xd17613(0x2a7),'composing','recording',a0_0xd17613(0x23d)]}}},z={'type':a0_0xd17613(0x693),'description':a0_0xd17613(0x755)},_a={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'number':{...z},'options':{...Q},'textMessage':{'type':'object','properties':{'text':{'type':a0_0xd17613(0x693)}},'required':[a0_0xd17613(0x80f)],...C(a0_0xd17613(0x80f))}},'required':[a0_0xd17613(0x1a8),a0_0xd17613(0x5dc)]},xa={'type':a0_0xd17613(0x693),'pattern':a0_0xd17613(0x6de),'description':a0_0xd17613(0x755)},Cc={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'number':{...xa},'options':{...Q},'textMessage':{'type':a0_0xd17613(0x629),'properties':{'text':{'type':a0_0xd17613(0x693)}},'required':[a0_0xd17613(0x80f)],...C(a0_0xd17613(0x80f))}},'required':[a0_0xd17613(0x1a8),'number']},Ec={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'number':{...xa},'options':{...Q},'mediaMessage':{'type':a0_0xd17613(0x629),'properties':{'mediatype':{'type':'string','enum':[a0_0xd17613(0x783),a0_0xd17613(0x406),'video',a0_0xd17613(0x46b)]},'media':{'type':'string'},'fileName':{'type':a0_0xd17613(0x693)},'caption':{'type':a0_0xd17613(0x693)}},'required':[a0_0xd17613(0x7c6),a0_0xd17613(0x51a)],...C('fileName',a0_0xd17613(0x1cb),a0_0xd17613(0x51a))}},'required':[a0_0xd17613(0x69e),a0_0xd17613(0x5dc)]},Da={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':'object','properties':{'image':{'type':a0_0xd17613(0x693)}},'required':[a0_0xd17613(0x783)],...C('image')}},'required':[a0_0xd17613(0x2f4),a0_0xd17613(0x5dc)]},Pa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'statusMessage':{'type':a0_0xd17613(0x629),'properties':{'type':{'type':a0_0xd17613(0x693),'enum':[a0_0xd17613(0x80f),a0_0xd17613(0x783),a0_0xd17613(0x46b),a0_0xd17613(0x58c)]},'content':{'type':a0_0xd17613(0x693)},'caption':{'type':a0_0xd17613(0x693)},'backgroundColor':{'type':a0_0xd17613(0x693)},'font':{'type':a0_0xd17613(0x671),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0xd17613(0x70f),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xd17613(0x693),'pattern':a0_0xd17613(0x7cc),'description':a0_0xd17613(0x1f0)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0xd17613(0x519),a0_0xd17613(0x27c)],...C(a0_0xd17613(0x519),a0_0xd17613(0x27c))}},'required':[a0_0xd17613(0x60d)]},ka={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':a0_0xd17613(0x629),'properties':{'mediatype':{'type':a0_0xd17613(0x693),'enum':[a0_0xd17613(0x783),a0_0xd17613(0x406),'video',a0_0xd17613(0x46b)]},'media':{'type':a0_0xd17613(0x693)},'fileName':{'type':'string'},'caption':{'type':a0_0xd17613(0x693)}},'required':[a0_0xd17613(0x7c6),a0_0xd17613(0x51a)],...C(a0_0xd17613(0x73b),'caption','media')}},'required':['mediaMessage',a0_0xd17613(0x5dc)]},La={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0xd17613(0x629),'properties':{'audio':{'type':a0_0xd17613(0x693)}},'required':[a0_0xd17613(0x46b)],...C(a0_0xd17613(0x46b))}},'required':[a0_0xd17613(0x34a),'number']},Fa={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'number':{...z},'pollMessage':{'type':a0_0xd17613(0x629),'properties':{'name':{'type':a0_0xd17613(0x693)},'selectableCount':{'type':'number'},'values':{'type':a0_0xd17613(0x70f),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0xd17613(0x4f2),a0_0xd17613(0x36e),a0_0xd17613(0x28e)],...C(a0_0xd17613(0x4f2),a0_0xd17613(0x36e),a0_0xd17613(0x28e))}},'required':['number',a0_0xd17613(0x74d)]},Ua={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'number':{...z},'menuMessage':{'type':a0_0xd17613(0x629),'properties':{'text':{'type':'string'},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0xd17613(0x80f),a0_0xd17613(0x754)],...C(a0_0xd17613(0x80f),a0_0xd17613(0x754))}},'required':[a0_0xd17613(0x5dc),a0_0xd17613(0x723)]},ja={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0xd17613(0x629),'properties':{'title':{'type':'string'},'description':{'type':a0_0xd17613(0x693)},'footerText':{'type':a0_0xd17613(0x693)},'buttons':{'type':a0_0xd17613(0x70f),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':a0_0xd17613(0x693)},'buttonId':{'type':a0_0xd17613(0x693)}},'required':[a0_0xd17613(0x78f),'buttonId'],...C(a0_0xd17613(0x78f),a0_0xd17613(0x486))}},'mediaMessage':{'type':a0_0xd17613(0x629),'properties':{'media':{'type':a0_0xd17613(0x693)},'fileName':{'type':a0_0xd17613(0x693)},'mediatype':{'type':a0_0xd17613(0x693),'enum':[a0_0xd17613(0x783),'document',a0_0xd17613(0x58c)]}},'required':[a0_0xd17613(0x51a),a0_0xd17613(0x7c6)],...C('media',a0_0xd17613(0x73b))}},'required':[a0_0xd17613(0x30b),a0_0xd17613(0x73e)],...C(a0_0xd17613(0x30b),a0_0xd17613(0x4ee))}},'required':[a0_0xd17613(0x5dc),'buttonMessage']},Ja={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0xd17613(0x629),'properties':{'latitude':{'type':a0_0xd17613(0x5dc)},'longitude':{'type':'number'},'name':{'type':a0_0xd17613(0x693)},'address':{'type':'string'}},'required':[a0_0xd17613(0x579),'longitude'],...C('name',a0_0xd17613(0x7af))}},'required':[a0_0xd17613(0x5dc),'locationMessage']},qa={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':a0_0xd17613(0x629),'properties':{'title':{'type':a0_0xd17613(0x693)},'description':{'type':a0_0xd17613(0x693)},'footerText':{'type':'string'},'buttonText':{'type':'string'},'sections':{'type':a0_0xd17613(0x70f),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xd17613(0x629),'properties':{'title':{'type':a0_0xd17613(0x693)},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xd17613(0x629),'properties':{'title':{'type':'string'},'description':{'type':a0_0xd17613(0x693)},'rowId':{'type':a0_0xd17613(0x693)}},'required':[a0_0xd17613(0x30b),a0_0xd17613(0x734)],...C('title',a0_0xd17613(0x734))}}},'required':[a0_0xd17613(0x30b),'rows'],...C('title')}}},'required':['title',a0_0xd17613(0x4ee),'buttonText',a0_0xd17613(0x814)],...C(a0_0xd17613(0x30b),'description','buttonText',a0_0xd17613(0x84a))}},'required':[a0_0xd17613(0x5dc),a0_0xd17613(0x311)]},Va={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':'array','items':{'type':a0_0xd17613(0x629),'properties':{'fullName':{'type':a0_0xd17613(0x693)},'phoneNumber':{'type':a0_0xd17613(0x693),'minLength':0xa}},'required':[a0_0xd17613(0x397),a0_0xd17613(0x8c1)],...C(a0_0xd17613(0x397))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0xd17613(0x5dc),a0_0xd17613(0x8be)]},Ga={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'reactionMessage':{'type':a0_0xd17613(0x629),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0xd17613(0x693)},'remoteJid':{'type':a0_0xd17613(0x693)},'fromMe':{'type':a0_0xd17613(0x52d),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0xd17613(0x2cc)],...C('id','remoteJid')},'reaction':{'type':a0_0xd17613(0x693)}},'required':[a0_0xd17613(0x212),a0_0xd17613(0x621)],...C(a0_0xd17613(0x621))}},'required':[a0_0xd17613(0x53b)]},Ba={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'numbers':{'type':a0_0xd17613(0x70f),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xd17613(0x693),'pattern':a0_0xd17613(0x7cc),'description':a0_0xd17613(0x4a9)}}}},Wa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0xd17613(0x70f),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0xd17613(0x52d),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0xd17613(0x693)}},'required':['id',a0_0xd17613(0x2cc),'remoteJid'],...C('id',a0_0xd17613(0x2dd))}}},'required':[a0_0xd17613(0x173)]},za={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'privacySettings':{'type':a0_0xd17613(0x629),'properties':{'readreceipts':{'type':a0_0xd17613(0x693),'enum':[a0_0xd17613(0x23c),a0_0xd17613(0x45e)]},'profile':{'type':'string','enum':[a0_0xd17613(0x23c),a0_0xd17613(0x44a),a0_0xd17613(0x2b4),'none']},'status':{'type':a0_0xd17613(0x693),'enum':[a0_0xd17613(0x23c),a0_0xd17613(0x44a),'contact_blacklist','none']},'online':{'type':'string','enum':[a0_0xd17613(0x23c),a0_0xd17613(0x440)]},'last':{'type':a0_0xd17613(0x693),'enum':[a0_0xd17613(0x23c),'contacts',a0_0xd17613(0x2b4),a0_0xd17613(0x45e)]},'groupadd':{'type':a0_0xd17613(0x693),'enum':[a0_0xd17613(0x23c),a0_0xd17613(0x44a),a0_0xd17613(0x2b4),'none']}},'required':['readreceipts',a0_0xd17613(0x62c),a0_0xd17613(0x1f8),a0_0xd17613(0x2f7),a0_0xd17613(0x35f),'groupadd'],...C(a0_0xd17613(0x7b4),a0_0xd17613(0x62c),'status','online','last',a0_0xd17613(0x6bc))}},'required':[a0_0xd17613(0x35a)]},Ha={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'lastMessage':{'type':a0_0xd17613(0x629),'properties':{'key':{'type':a0_0xd17613(0x629),'properties':{'id':{'type':a0_0xd17613(0x693)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0xd17613(0x52d),'enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0xd17613(0x2dd)],...C('id',a0_0xd17613(0x2dd))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0xd17613(0x212)],...C('messageTimestamp')},'archive':{'type':a0_0xd17613(0x52d),'enum':[!0x0,!0x1]}},'required':[a0_0xd17613(0x8b5),'archive']},Ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'id':{'type':a0_0xd17613(0x693)},'fromMe':{'type':a0_0xd17613(0x52d),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0xd17613(0x693)},'participant':{'type':a0_0xd17613(0x693)}},'required':['id',a0_0xd17613(0x2cc),'remoteJid'],...C('id','remoteJid',a0_0xd17613(0x79e))},Qa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':a0_0xd17613(0x629),'properties':{'_id':{'type':a0_0xd17613(0x693),'minLength':0x1},'pushName':{'type':a0_0xd17613(0x693),'minLength':0x1},'id':{'type':a0_0xd17613(0x693),'minLength':0x1}},...C('_id','id',a0_0xd17613(0x5aa))}}},Ya={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'name':{'type':a0_0xd17613(0x693)}},...C('name')},Xa={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'status':{'type':a0_0xd17613(0x693)}},...C(a0_0xd17613(0x1f8))},Te={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'number':{'type':'string'},'picture':{'type':a0_0xd17613(0x693)}}},Za={'type':a0_0xd17613(0x629),'properties':{'wuid':{'type':a0_0xd17613(0x693)},'name':{'type':'string'},'picture':{'type':a0_0xd17613(0x693)},'status':{'type':'string'},'isBusiness':{'type':a0_0xd17613(0x52d)}}},eo={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':a0_0xd17613(0x629),'properties':{'_id':{'type':a0_0xd17613(0x693),'minLength':0x1},'key':{'type':a0_0xd17613(0x629),'if':{'propertyNames':{'enum':[a0_0xd17613(0x2cc),a0_0xd17613(0x2dd),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0xd17613(0x693),'minLength':0x1,'description':a0_0xd17613(0x2ff)},'id':{'type':a0_0xd17613(0x693),'minLength':0x1,'description':a0_0xd17613(0x2ff)},'fromMe':{'type':a0_0xd17613(0x52d),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0xd17613(0x629)}},...C(a0_0xd17613(0x19a))},'limit':{'type':a0_0xd17613(0x671)}}},vc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':a0_0xd17613(0x629),'properties':{'_id':{'type':a0_0xd17613(0x693)},'remoteJid':{'type':'string'},'id':{'type':a0_0xd17613(0x693)},'fromMe':{'type':a0_0xd17613(0x52d),'enum':[!0x0,!0x1]},'participant':{'type':a0_0xd17613(0x693)},'status':{'type':a0_0xd17613(0x693),'enum':[a0_0xd17613(0x322),'PENDING',a0_0xd17613(0x7f3),a0_0xd17613(0x75d),a0_0xd17613(0x2b6),a0_0xd17613(0x443)]}},...C(a0_0xd17613(0x19a),a0_0xd17613(0x2dd),'id',a0_0xd17613(0x1f8))},'limit':{'type':a0_0xd17613(0x671)}}},to={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'number':{...z},'presence':{'type':a0_0xd17613(0x693),'enum':[a0_0xd17613(0x682),'available',a0_0xd17613(0x479),a0_0xd17613(0x6e3),'paused']}},'required':['presence',a0_0xd17613(0x5dc)]},so={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'subject':{'type':'string'},'description':{'type':a0_0xd17613(0x693)},'profilePicture':{'type':a0_0xd17613(0x693)},'participants':{'type':a0_0xd17613(0x70f),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0xd17613(0x345),'description':a0_0xd17613(0x838)}}},'required':['subject',a0_0xd17613(0x38c)],...C('subject',a0_0xd17613(0x4ee),a0_0xd17613(0x4d7))},Ie={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'groupJid':{'type':a0_0xd17613(0x693),'pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0xd17613(0x709)],...C(a0_0xd17613(0x709))},ao={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0xd17613(0x693)},'action':{'type':a0_0xd17613(0x693),'enum':[a0_0xd17613(0x36d),'remove',a0_0xd17613(0x716),a0_0xd17613(0x842),a0_0xd17613(0x47d),a0_0xd17613(0x654)]},'participants':{'type':a0_0xd17613(0x70f),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xd17613(0x693),'minLength':0xa,'pattern':a0_0xd17613(0x345),'description':a0_0xd17613(0x838)}}},'required':[a0_0xd17613(0x709),a0_0xd17613(0x71f),'participants'],...C(a0_0xd17613(0x709),a0_0xd17613(0x71f))},oo={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'groupJid':{'type':a0_0xd17613(0x693)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0xd17613(0x709),a0_0xd17613(0x5a8)],...C(a0_0xd17613(0x709),'expiration')},io={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'groupJid':{'type':a0_0xd17613(0x693)},'image':{'type':'string'}},'required':['groupJid',a0_0xd17613(0x783)],...C('groupJid',a0_0xd17613(0x783))},ro={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0xd17613(0x693)},'description':{'type':a0_0xd17613(0x693)}},'required':['groupJid',a0_0xd17613(0x4ee)],...C(a0_0xd17613(0x709),a0_0xd17613(0x4ee))},no={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'groupJid':{'type':a0_0xd17613(0x693)},'name':{'type':a0_0xd17613(0x693)}},'required':[a0_0xd17613(0x709),'name'],...C(a0_0xd17613(0x709),a0_0xd17613(0x4f2))},co={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'groupJid':{'type':a0_0xd17613(0x693)},'setting':{'type':a0_0xd17613(0x693),'enum':[a0_0xd17613(0x1e6),'not_announcement',a0_0xd17613(0x279),'locked']}},'required':[a0_0xd17613(0x709),a0_0xd17613(0x5c1)],...C('groupJid',a0_0xd17613(0x5c1))},lo={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'groupJid':{'type':a0_0xd17613(0x693)},'restrict':{'type':a0_0xd17613(0x52d)},'announce':{'type':'boolean'},'memberAddMode':{'type':a0_0xd17613(0x52d)},'joinApprovalMode':{'type':a0_0xd17613(0x52d)},'expiration':{'type':a0_0xd17613(0x671),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0xd17613(0x693)},'description':{'type':a0_0xd17613(0x693)},'image':{'type':a0_0xd17613(0x693)}}},Ns={'$id':(0x0,E['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0xd17613(0x693)}},'required':['inviteCode'],...C(a0_0xd17613(0x495))},uo={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'url':{'type':a0_0xd17613(0x693)},'enabled':{'type':a0_0xd17613(0x52d),'enum':[!0x0,!0x1]}},'required':[a0_0xd17613(0x6fb),a0_0xd17613(0x67d)]},Nc={'$id':(0x0,E['v4'])(),'type':a0_0xd17613(0x629),'properties':{'local_map':{'type':a0_0xd17613(0x52d),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0xd17613(0x52d),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0xd17613(0x52d),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0xd17613(0x52d),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0xd17613(0x52d),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0xd17613(0x52d),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0xd17613(0x52d),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0xd17613(0x52d),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0xd17613(0x52d),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0xd17613(0x52d),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0xd17613(0x52d),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0xd17613(0x52d),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0xd17613(0x52d),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0xd17613(0x52d),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0xd17613(0x52d),'enum':[!0x0,!0x1]}},'required':['local_map',a0_0xd17613(0x19d),a0_0xd17613(0x8c6),'MESSAGES_SET',a0_0xd17613(0x2e0),'MESSAGES_UPSERT',a0_0xd17613(0x82d),a0_0xd17613(0x4f1),a0_0xd17613(0x68c),'CONTACTS_UPDATE',a0_0xd17613(0x779),a0_0xd17613(0x62e),a0_0xd17613(0x323),a0_0xd17613(0x490),a0_0xd17613(0x1b1),a0_0xd17613(0x191),a0_0xd17613(0x5d9),a0_0xd17613(0x72f),a0_0xd17613(0x644)],...C(a0_0xd17613(0x413),a0_0xd17613(0x19d),'QRCODE_UPDATED',a0_0xd17613(0x398),a0_0xd17613(0x2e0),a0_0xd17613(0x875),'SEND_MESSAGE',a0_0xd17613(0x4f1),a0_0xd17613(0x68c),a0_0xd17613(0x272),a0_0xd17613(0x779),'CHATS_SET','CHATS_UPSERT',a0_0xd17613(0x490),a0_0xd17613(0x1b1),a0_0xd17613(0x191),a0_0xd17613(0x5d9),a0_0xd17613(0x72f),a0_0xd17613(0x644))},it=class{},rt=class extends O{[a0_0xd17613(0x2d0)](_0x2743aa){return aa(_0x2743aa);}async[a0_0xd17613(0x37c)](_0x1b03bd){const _0x1a051b=a0_0xd17613;if(_0x1b03bd[_0x1a051b(0x4ba)]!==0x0)try{return{'insertCount':(await this[_0x1a051b(0x2d0)](_0x1b03bd[0x0][_0x1a051b(0x50a)])['insertMany']([..._0x1b03bd]))['length']};}catch(_0x1a6460){return _0x1a6460;}}async[a0_0xd17613(0x5b4)](_0x5efe17,_0x4c8680){const _0x46daa7=a0_0xd17613;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x4c8680)[_0x46daa7(0x7b1)]({..._0x5efe17['where']}))[_0x46daa7(0x431)]};}catch(_0x121571){return{'error':_0x121571?.[_0x46daa7(0x883)]()};}}async['update'](_0x37560a,_0x37d65f){const _0x1cba11=a0_0xd17613;try{if(_0x37560a[_0x1cba11(0x4ba)]===0x0)return;let _0x5bb358=this[_0x1cba11(0x2d0)](_0x37d65f),_0x27a072=_0x37560a['map'](_0x57f53c=>({'updateOne':{'filter':{'_id':_0x57f53c[_0x1cba11(0x19a)],'owner':_0x37d65f},'update':{..._0x57f53c}}})),{modifiedCount:_0x27cd4e}=await _0x5bb358[_0x1cba11(0x80a)](_0x27a072);return{'insertCount':_0x27cd4e};}catch{return;}}async[a0_0xd17613(0x357)](_0x17dfd8,_0x3039b8){const _0x17fd77=a0_0xd17613;try{let _0x22ed0b=this[_0x17fd77(0x2d0)](_0x3039b8),_0x2ebc05=T(_0x17dfd8[_0x17fd77(0x29d)]);return await _0x22ed0b[_0x17fd77(0x357)](_0x2ebc05)[_0x17fd77(0x468)](_0x17dfd8?.[_0x17fd77(0x468)]??0x0)[_0x17fd77(0x73f)]();}catch{return[];}}async[a0_0xd17613(0x86d)](_0x768715,_0x3baf54){const _0x190567=a0_0xd17613;try{let _0x49ff48=this[_0x190567(0x2d0)](_0x3baf54),_0x207584=T(_0x768715[_0x190567(0x29d)]);return await _0x49ff48['findOne'](_0x207584)[_0x190567(0x73f)]();}catch{return null;}}async[a0_0xd17613(0x742)](_0x3cf177){const _0x12edf0=a0_0xd17613;try{return await this['getContactModelForOwner'](_0x3cf177)[_0x12edf0(0x202)][_0x12edf0(0x1d9)](),{'success':!0x0};}catch(_0x1ce615){return console['error'](_0x1ce615),{'success':!0x1,'error':_0x1ce615};}}},nt=require(a0_0xd17613(0x853)),Dc=require(a0_0xd17613(0x802)),$s=new $(a0_0xd17613(0x2f8)),V=class{[a0_0xd17613(0x6d5)](_0x346467,_0x5351da=!0x0){const _0x5ef18b=a0_0xd17613;let _0x468712='/'+_0x346467;return _0x5351da&&(_0x468712+=_0x5ef18b(0x1e8)),_0x468712;}async[a0_0xd17613(0x778)](_0x226554){const _0x10a857=a0_0xd17613;let {request:_0x32aab4,schema:_0x18fa49,ClassRef:_0x26d876,execute:_0x680047}=_0x226554,_0x334224=new _0x26d876(),_0x5afba7=_0x32aab4['body'],_0x5c7930=_0x32aab4[_0x10a857(0x41b)];_0x32aab4?.['query']&&Object[_0x10a857(0x6f6)](_0x32aab4['query'])[_0x10a857(0x4ba)]>0x0&&Object[_0x10a857(0x5d7)](_0x5c7930,_0x32aab4['query']),_0x32aab4['originalUrl'][_0x10a857(0x831)]('/instance/create')&&Object[_0x10a857(0x5d7)](_0x5c7930,_0x5afba7),Object[_0x10a857(0x5d7)](_0x334224,_0x5afba7);let _0x5cca68=_0x18fa49?(0x0,nt[_0x10a857(0x442)])(_0x334224,_0x18fa49):{'valid':!0x0,'errors':[]};if(!_0x5cca68[_0x10a857(0x623)]){let _0x2a75e7=_0x5cca68[_0x10a857(0x694)]['map'](({property:_0x1001a7,stack:_0x27dce2,schema:_0x257d92})=>{const _0x4e7fa3=_0x10a857;let _0x3aab57;return _0x257d92[_0x4e7fa3(0x4ee)]?_0x3aab57=_0x257d92[_0x4e7fa3(0x4ee)]:_0x3aab57=_0x27dce2['replace'](_0x4e7fa3(0x5f6),''),{'property':_0x1001a7[_0x4e7fa3(0x523)](_0x4e7fa3(0x5f6),''),'message':_0x3aab57};});throw $s[_0x10a857(0x37f)]([..._0x2a75e7]),new m(..._0x2a75e7);}return await _0x680047(_0x5c7930,_0x334224);}async['groupValidate'](_0x4b5554){const _0x3ca029=a0_0xd17613;let {request:_0x16c26b,ClassRef:_0x194d3f,schema:_0x1e5d2c,execute:_0x45e720}=_0x4b5554,_0x3196c4=_0x16c26b[_0x3ca029(0x760)];if(!_0x3196c4?.['groupJid'])throw new m(_0x3ca029(0x3f8),_0x3ca029(0x637));let _0x1f4b11=_0x16c26b[_0x3ca029(0x41b)],_0x17fb6d=_0x16c26b[_0x3ca029(0x8c2)],_0x42205e=new _0x194d3f();Object[_0x3ca029(0x5d7)](_0x17fb6d,_0x3196c4),Object[_0x3ca029(0x5d7)](_0x42205e,_0x17fb6d);let _0x122993=(0x0,nt[_0x3ca029(0x442)])(_0x42205e,_0x1e5d2c);if(!_0x122993[_0x3ca029(0x623)]){let _0x2f79b0=_0x122993[_0x3ca029(0x694)][_0x3ca029(0x50f)](({property:_0x547bd6,stack:_0x2814da,schema:_0x2f034f})=>{const _0x192575=_0x3ca029;let _0x298bba;return _0x2f034f[_0x192575(0x4ee)]?_0x298bba=_0x2f034f[_0x192575(0x4ee)]:_0x298bba=_0x2814da['replace'](_0x192575(0x5f6),''),{'property':_0x547bd6[_0x192575(0x523)]('instance.',''),'message':_0x298bba};});throw $s['error']([..._0x2f79b0]),new m(..._0x2f79b0);}return await _0x45e720(_0x1f4b11,_0x42205e);}async[a0_0xd17613(0x5e7)](_0x289540){const _0x33455c=a0_0xd17613;let {request:_0x2305fd,ClassRef:_0x13b4b7,schema:_0x5ecf3f,execute:_0x3fcbb4}=_0x289540,_0x4f7491=_0x2305fd['body'];if(!_0x4f7491?.[_0x33455c(0x495)])throw new m(_0x33455c(0x603),'ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x1c7be5=_0x2305fd[_0x33455c(0x41b)],_0x26e92f=_0x2305fd['body'],_0x3ac6ea=new _0x13b4b7();Object['assign'](_0x26e92f,_0x4f7491),Object[_0x33455c(0x5d7)](_0x3ac6ea,_0x26e92f);let _0x52b8e3=(0x0,nt['validate'])(_0x3ac6ea,_0x5ecf3f);if(!_0x52b8e3[_0x33455c(0x623)]){let _0x1922f4=_0x52b8e3['errors'][_0x33455c(0x50f)](({property:_0x25955c,stack:_0x276dc9,schema:_0x5dde79})=>{const _0x1f0e51=_0x33455c;let _0x1e25ea;return _0x5dde79['description']?_0x1e25ea=_0x5dde79[_0x1f0e51(0x4ee)]:_0x1e25ea=_0x276dc9[_0x1f0e51(0x523)](_0x1f0e51(0x5f6),''),{'property':_0x25955c[_0x1f0e51(0x523)](_0x1f0e51(0x5f6),''),'message':_0x1e25ea};});throw $s[_0x33455c(0x37f)]([..._0x1922f4]),new m(..._0x1922f4);}return await _0x3fcbb4(_0x1c7be5,_0x3ac6ea);}},M=class{},Kc=new $(a0_0xd17613(0x2ad)),ct=class extends V{constructor(..._0x5743be){const _0x4c2b73=a0_0xd17613;super(),this['router']=(0x0,po[_0x4c2b73(0x59b)])(),this[_0x4c2b73(0x776)][_0x4c2b73(0x738)](this[_0x4c2b73(0x6d5)](_0x4c2b73(0x215)),..._0x5743be,async(_0x3244f5,_0x6449c3)=>{const _0x4a17ff=_0x4c2b73;let _0x131b45=await this[_0x4a17ff(0x778)]({'request':_0x3244f5,'schema':to,'ClassRef':Qe,'execute':(_0x5410dc,_0x483b89)=>D[_0x4a17ff(0x215)](_0x5410dc,_0x483b89)});return _0x6449c3[_0x4a17ff(0x1f8)](0xc9)['json'](_0x131b45);})[_0x4c2b73(0x738)](this[_0x4c2b73(0x6d5)](_0x4c2b73(0x371)),..._0x5743be,async(_0x572b3d,_0x298191)=>{const _0xa873b8=_0x4c2b73;let _0x572b36=await this[_0xa873b8(0x778)]({'request':_0x572b3d,'schema':Ba,'ClassRef':Ye,'execute':(_0xc8bd33,_0x5f5a7c)=>D[_0xa873b8(0x544)](_0xc8bd33,_0x5f5a7c)});return _0x298191['status'](0xc9)[_0xa873b8(0x611)](_0x572b36);})[_0x4c2b73(0x738)](this[_0x4c2b73(0x6d5)](_0x4c2b73(0x28f)),..._0x5743be,async(_0x3005a9,_0x49ade1)=>{const _0x3da18f=_0x4c2b73;let _0x1d8a34=await this[_0x3da18f(0x778)]({'request':_0x3005a9,'schema':N,'ClassRef':M,'execute':(_0x36cc88,_0x45477b)=>D[_0x3da18f(0x28f)](_0x36cc88,_0x45477b)});return _0x49ade1['status'](0xc9)['json'](_0x1d8a34);})[_0x4c2b73(0x850)](this['routerPath']('markMessageAsRead'),..._0x5743be,async(_0x51a89f,_0x21ad97)=>{const _0x4cac2e=_0x4c2b73;let _0x161807=await this[_0x4cac2e(0x778)]({'request':_0x51a89f,'schema':Wa,'ClassRef':et,'execute':(_0x3cacb9,_0x16faab)=>D[_0x4cac2e(0x791)](_0x3cacb9,_0x16faab)});return _0x21ad97[_0x4cac2e(0x1f8)](0xc9)[_0x4cac2e(0x611)](_0x161807);})[_0x4c2b73(0x850)](this[_0x4c2b73(0x6d5)](_0x4c2b73(0x53c)),..._0x5743be,async(_0x2d2390,_0x372360)=>{const _0x5e2d2d=_0x4c2b73;let _0x7b4cab=await this[_0x5e2d2d(0x778)]({'request':_0x2d2390,'schema':Ha,'ClassRef':tt,'execute':(_0x154f73,_0xc3edd7)=>D[_0x5e2d2d(0x53c)](_0x154f73,_0xc3edd7)});return _0x372360['status'](0xc9)[_0x5e2d2d(0x611)](_0x7b4cab);})[_0x4c2b73(0x5b4)](this['routerPath']('deleteMessageForEveryone'),..._0x5743be,async(_0x23b493,_0xa8fd3d)=>{const _0x3612ec=_0x4c2b73;let _0x15535d=await this[_0x3612ec(0x778)]({'request':_0x23b493,'schema':Ka,'ClassRef':at,'execute':(_0x519f0e,_0x1b9f20)=>D[_0x3612ec(0x422)](_0x519f0e,_0x1b9f20)});return _0xa8fd3d['status'](0xc9)[_0x3612ec(0x611)](_0x15535d);})[_0x4c2b73(0x738)](this[_0x4c2b73(0x6d5)]('fetchProfilePictureUrl'),..._0x5743be,async(_0x40cc8d,_0x2bfad7)=>{const _0x204c8e=_0x4c2b73;let _0x2f0abc=await this[_0x204c8e(0x778)]({'request':_0x40cc8d,'schema':Te,'ClassRef':Re,'execute':(_0x187336,_0x3eb22d)=>D[_0x204c8e(0x7de)](_0x187336,_0x3eb22d)});return _0x2bfad7[_0x204c8e(0x1f8)](0xc8)[_0x204c8e(0x611)](_0x2f0abc);})['post'](this['routerPath']('fetchProfile'),..._0x5743be,async(_0x44ee3d,_0x4237bd)=>{const _0x3687ae=_0x4c2b73;let _0x1cec1d=await this[_0x3687ae(0x778)]({'request':_0x44ee3d,'schema':Za,'ClassRef':Re,'execute':(_0x1a011c,_0x552fec)=>D[_0x3687ae(0x6d1)](_0x1a011c,_0x552fec)});return _0x4237bd['status'](0xc8)[_0x3687ae(0x611)](_0x1cec1d);})[_0x4c2b73(0x738)](this[_0x4c2b73(0x6d5)]('findContacts'),..._0x5743be,async(_0x191878,_0x48a207)=>{const _0x105c42=_0x4c2b73;let _0x54cf75=await this[_0x105c42(0x778)]({'request':_0x191878,'schema':Qa,'ClassRef':it,'execute':(_0x24c9b8,_0x2f5ec4)=>D['fetchContacts'](_0x24c9b8,_0x2f5ec4)});return _0x48a207[_0x105c42(0x1f8)](0xc8)[_0x105c42(0x611)](_0x54cf75);})['post'](this['routerPath'](_0x4c2b73(0x267)),..._0x5743be,async(_0x318e32,_0x13e177)=>{const _0xa0301=_0x4c2b73;let _0x559934=await this[_0xa0301(0x778)]({'request':_0x318e32,'schema':null,'ClassRef':Object,'execute':(_0x3c30d6,_0x90d3c0)=>D['getBase64FromMediaMessage'](_0x3c30d6,_0x90d3c0)});return _0x13e177['status'](0xc9)['json'](_0x559934);})[_0x4c2b73(0x738)](this['routerPath'](_0x4c2b73(0x88d)),..._0x5743be,async(_0x52abde,_0x50e031)=>{const _0x381ef1=_0x4c2b73;let _0x2885d8=await this['dataValidate']({'request':_0x52abde,'schema':eo,'ClassRef':He,'execute':(_0x40a076,_0x22cb83)=>D['fetchMessages'](_0x40a076,_0x22cb83)});return _0x50e031[_0x381ef1(0x1f8)](0xc8)[_0x381ef1(0x611)](_0x2885d8);})[_0x4c2b73(0x8bc)](this[_0x4c2b73(0x6d5)](_0x4c2b73(0x4ac)),..._0x5743be,async(_0x36e7c2,_0x154109)=>{const _0x4282a3=_0x4c2b73;let _0x30e8fd=await this[_0x4282a3(0x778)]({'request':_0x36e7c2,'schema':null,'ClassRef':M,'execute':_0x5c6b71=>D[_0x4282a3(0x82f)](_0x5c6b71)});return _0x154109[_0x4282a3(0x1f8)](0xc8)[_0x4282a3(0x611)](_0x30e8fd);})[_0x4c2b73(0x8bc)](this[_0x4c2b73(0x6d5)](_0x4c2b73(0x1fb)),..._0x5743be,async(_0x2efc41,_0x65fb5e)=>{const _0x41922d=_0x4c2b73;let _0x148fac=await this['dataValidate']({'request':_0x2efc41,'schema':null,'ClassRef':M,'execute':_0x388b32=>D['fetchLabels'](_0x388b32)});return _0x65fb5e[_0x41922d(0x1f8)](0xc8)[_0x41922d(0x611)](_0x148fac);})['put'](this[_0x4c2b73(0x6d5)](_0x4c2b73(0x18e)),..._0x5743be,async(_0x14f09a,_0x16e039)=>{const _0x58978e=_0x4c2b73;let _0x1dd424=await this[_0x58978e(0x778)]({'request':_0x14f09a,'schema':null,'ClassRef':Array,'execute':(_0x3c0f9a,_0x4b3d31)=>D['importChats'](_0x3c0f9a,_0x4b3d31)});return _0x16e039['status'](0xc8)[_0x58978e(0x611)](_0x1dd424);})[_0x4c2b73(0x8bc)](this['routerPath']('fetchPrivacySettings'),..._0x5743be,async(_0x2ed8f6,_0x11bcdf)=>{const _0x38a38b=_0x4c2b73;let _0x53a743=await this[_0x38a38b(0x778)]({'request':_0x2ed8f6,'schema':null,'ClassRef':M,'execute':_0x47f50a=>D[_0x38a38b(0x295)](_0x47f50a)});return _0x11bcdf[_0x38a38b(0x1f8)](0xc8)[_0x38a38b(0x611)](_0x53a743);})[_0x4c2b73(0x850)](this[_0x4c2b73(0x6d5)](_0x4c2b73(0x6f8)),..._0x5743be,async(_0xc24723,_0x16384a)=>{const _0x4da353=_0x4c2b73;let _0x2a799a=await this[_0x4da353(0x778)]({'request':_0xc24723,'schema':za,'ClassRef':st,'execute':(_0x5c9cc1,_0x1c4eb6)=>D[_0x4da353(0x6f8)](_0x5c9cc1,_0x1c4eb6)});return _0x16384a[_0x4da353(0x1f8)](0xc9)['json'](_0x2a799a);})[_0x4c2b73(0x738)](this[_0x4c2b73(0x6d5)](_0x4c2b73(0x66a)),..._0x5743be,async(_0x12c420,_0x3a57f5)=>{const _0x4f782c=_0x4c2b73;let _0xb8bd5a=await this[_0x4f782c(0x778)]({'request':_0x12c420,'schema':Te,'ClassRef':Me,'execute':(_0x48dc67,_0x5805ce)=>D['fetchBusinessProfile'](_0x48dc67,_0x5805ce)});return _0x3a57f5['status'](0xc8)[_0x4f782c(0x611)](_0xb8bd5a);})[_0x4c2b73(0x738)](this['routerPath'](_0x4c2b73(0x6c6)),..._0x5743be,async(_0x3f7c95,_0x46d947)=>{const _0x26caaa=_0x4c2b73;let _0x4e701f=await this[_0x26caaa(0x778)]({'request':_0x3f7c95,'schema':Ya,'ClassRef':Xe,'execute':(_0x1d605a,_0xe351dc)=>D[_0x26caaa(0x6c6)](_0x1d605a,_0xe351dc)});return _0x46d947['status'](0xc8)['json'](_0x4e701f);})[_0x4c2b73(0x738)](this[_0x4c2b73(0x6d5)](_0x4c2b73(0x7c9)),..._0x5743be,async(_0x555fbd,_0x5ddc3c)=>{const _0x5692b9=_0x4c2b73;let _0x46421d=await this['dataValidate']({'request':_0x555fbd,'schema':Xa,'ClassRef':Ze,'execute':(_0x5f16bb,_0x3914f0)=>D[_0x5692b9(0x7c9)](_0x5f16bb,_0x3914f0)});return _0x5ddc3c[_0x5692b9(0x1f8)](0xc8)[_0x5692b9(0x611)](_0x46421d);})['put'](this[_0x4c2b73(0x6d5)]('updateProfilePicture'),..._0x5743be,async(_0xba2601,_0x3ed325)=>{const _0x15e5b5=_0x4c2b73;let _0x469b11=await this[_0x15e5b5(0x778)]({'request':_0xba2601,'schema':Te,'ClassRef':Me,'execute':(_0x3bc8f5,_0x2afa14)=>D[_0x15e5b5(0x647)](_0x3bc8f5,_0x2afa14)});return _0x3ed325[_0x15e5b5(0x1f8)](0xc8)[_0x15e5b5(0x611)](_0x469b11);})[_0x4c2b73(0x5b4)](this[_0x4c2b73(0x6d5)](_0x4c2b73(0x45c)),..._0x5743be,async(_0x33e11d,_0x1ff9e1)=>{const _0xd9031c=_0x4c2b73;let _0x4acc24=await this['dataValidate']({'request':_0x33e11d,'schema':Te,'ClassRef':Me,'execute':(_0x3bce8e,_0x1458c2)=>D[_0xd9031c(0x45c)](_0x3bce8e,_0x1458c2)});return _0x1ff9e1[_0xd9031c(0x1f8)](0xc8)[_0xd9031c(0x611)](_0x4acc24);});}},ho=require(a0_0xd17613(0x65e)),lt=class{},ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},Y=class{},Oe=class{},mt=class extends Y{},ft=class extends Y{},wt=class extends V{constructor(..._0x45aade){const _0x2bd2d0=a0_0xd17613;super(),this['router']=(0x0,ho['Router'])(),this[_0x2bd2d0(0x776)][_0x2bd2d0(0x738)](this[_0x2bd2d0(0x6d5)](_0x2bd2d0(0x76e)),..._0x45aade,async(_0x434a66,_0x2dce95)=>{const _0x5e8a1c=_0x2bd2d0;let _0x135a94=await this[_0x5e8a1c(0x778)]({'request':_0x434a66,'schema':so,'ClassRef':lt,'execute':(_0x5ca2a5,_0x2a3718)=>J[_0x5e8a1c(0x441)](_0x5ca2a5,_0x2a3718)});_0x2dce95[_0x5e8a1c(0x1f8)](0xc9)[_0x5e8a1c(0x611)](_0x135a94);})[_0x2bd2d0(0x850)](this['routerPath'](_0x2bd2d0(0x665)),..._0x45aade,async(_0x32e6e8,_0x23a733)=>{const _0x180130=_0x2bd2d0;let _0x5f1217=await this[_0x180130(0x64e)]({'request':_0x32e6e8,'schema':io,'ClassRef':ut,'execute':(_0x208476,_0xa63f88)=>J['updateGroupPicture'](_0x208476,_0xa63f88)});_0x23a733[_0x180130(0x1f8)](0xc9)[_0x180130(0x611)](_0x5f1217);})[_0x2bd2d0(0x850)](this[_0x2bd2d0(0x6d5)](_0x2bd2d0(0x807)),..._0x45aade,async(_0x492d6c,_0x502514)=>{const _0x2958ec=_0x2bd2d0;let _0x4e1679=await this[_0x2958ec(0x64e)]({'request':_0x492d6c,'schema':ro,'ClassRef':dt,'execute':(_0x236c2f,_0x29345d)=>J[_0x2958ec(0x807)](_0x236c2f,_0x29345d)});_0x502514[_0x2958ec(0x1f8)](0xc9)[_0x2958ec(0x611)](_0x4e1679);})[_0x2bd2d0(0x850)](this['routerPath'](_0x2bd2d0(0x210)),..._0x45aade,async(_0x408580,_0x4b3040)=>{const _0xc7514a=_0x2bd2d0;let _0x222d0b=await this[_0xc7514a(0x64e)]({'request':_0x408580,'schema':no,'ClassRef':pt,'execute':(_0x4448fe,_0x4ee647)=>J[_0xc7514a(0x210)](_0x4448fe,_0x4ee647)});_0x4b3040[_0xc7514a(0x1f8)](0xc9)[_0xc7514a(0x611)](_0x222d0b);})[_0x2bd2d0(0x850)](this['routerPath'](_0x2bd2d0(0x662)),..._0x45aade,async(_0x49bef2,_0x4f6283)=>{const _0xfca723=_0x2bd2d0;let _0x1a8de6=await this[_0xfca723(0x64e)]({'request':_0x49bef2,'schema':lo,'ClassRef':gt,'execute':(_0x123263,_0x1ebd8e)=>J[_0xfca723(0x662)](_0x123263,_0x1ebd8e)});_0x4f6283[_0xfca723(0x1f8)](0xc9)[_0xfca723(0x611)](_0x1a8de6);})[_0x2bd2d0(0x850)](this[_0x2bd2d0(0x6d5)](_0x2bd2d0(0x718)),..._0x45aade,async(_0x4d8f76,_0x518c23)=>{const _0x326c56=_0x2bd2d0;let _0x21ec93=await this[_0x326c56(0x64e)]({'request':_0x4d8f76,'schema':co,'ClassRef':ht,'execute':(_0x19150a,_0x1f7a7b)=>J[_0x326c56(0x718)](_0x19150a,_0x1f7a7b)});_0x518c23[_0x326c56(0x1f8)](0xc9)[_0x326c56(0x611)](_0x21ec93);})[_0x2bd2d0(0x850)](this[_0x2bd2d0(0x6d5)]('toggleEphemeral'),..._0x45aade,async(_0x20d63f,_0x29835a)=>{const _0x34552d=_0x2bd2d0;let _0x2fac98=await this[_0x34552d(0x64e)]({'request':_0x20d63f,'schema':oo,'ClassRef':ft,'execute':(_0x5e37e9,_0x453273)=>J[_0x34552d(0x180)](_0x5e37e9,_0x453273)});_0x29835a[_0x34552d(0x1f8)](0xc9)[_0x34552d(0x611)](_0x2fac98);})[_0x2bd2d0(0x8bc)](this[_0x2bd2d0(0x6d5)](_0x2bd2d0(0x4d4)),..._0x45aade,async(_0x5ca7db,_0x2ab25c)=>{const _0x3fa705=_0x2bd2d0;let _0x4ed9cb=await this[_0x3fa705(0x64e)]({'request':_0x5ca7db,'schema':Ie,'ClassRef':Y,'execute':(_0x479ee4,_0x2124b7)=>J['findGroupInfo'](_0x479ee4,_0x2124b7)});_0x2ab25c[_0x3fa705(0x1f8)](0xc8)[_0x3fa705(0x611)](_0x4ed9cb);})[_0x2bd2d0(0x8bc)](this['routerPath'](_0x2bd2d0(0x6d7)),..._0x45aade,async(_0x3287c9,_0x51e0b6)=>{const _0xb7155e=_0x2bd2d0;let _0x14424c=await this['dataValidate']({'request':_0x3287c9,'schema':N,'ClassRef':M,'execute':_0x3298c0=>J['findGroups'](_0x3298c0)});_0x51e0b6[_0xb7155e(0x1f8)](0xc8)['json'](_0x14424c);})[_0x2bd2d0(0x8bc)](this[_0x2bd2d0(0x6d5)](_0x2bd2d0(0x38c)),..._0x45aade,async(_0x50fe67,_0xfb622e)=>{const _0x1711be=_0x2bd2d0;let _0x14217f=await this['groupValidate']({'request':_0x50fe67,'schema':Ie,'ClassRef':Y,'execute':(_0x3d7653,_0x9ff677)=>J[_0x1711be(0x61f)](_0x3d7653,_0x9ff677)});_0xfb622e[_0x1711be(0x1f8)](0xc8)['json'](_0x14217f);})['get'](this[_0x2bd2d0(0x6d5)](_0x2bd2d0(0x495)),..._0x45aade,async(_0x2304ae,_0x3ffa6b)=>{const _0x5b7b0a=_0x2bd2d0;let _0x2e7827=await this[_0x5b7b0a(0x64e)]({'request':_0x2304ae,'schema':Ie,'ClassRef':Y,'execute':(_0x24681e,_0x20baaa)=>J[_0x5b7b0a(0x495)](_0x24681e,_0x20baaa)});_0x3ffa6b[_0x5b7b0a(0x1f8)](0xc8)[_0x5b7b0a(0x611)](_0x2e7827);})['post'](this['routerPath'](_0x2bd2d0(0x7dd)),..._0x45aade,async(_0x4d774b,_0x2711bf)=>{const _0x451d21=_0x2bd2d0;let _0x3772f9=await this['joinGroupValidate']({'request':_0x4d774b,'schema':Ns,'ClassRef':Oe,'execute':(_0x5e2971,_0x314137)=>J['groupGetInviteInfo'](_0x5e2971,_0x314137)});_0x2711bf[_0x451d21(0x1f8)](0xc9)[_0x451d21(0x611)](_0x3772f9);})[_0x2bd2d0(0x850)](this[_0x2bd2d0(0x6d5)](_0x2bd2d0(0x184)),..._0x45aade,async(_0x44ac73,_0x4f508c)=>{const _0x23b283=_0x2bd2d0;let _0x57a5b8=await this[_0x23b283(0x5e7)]({'request':_0x44ac73,'schema':Ns,'ClassRef':Oe,'execute':(_0x178b91,_0x3b6b20)=>J[_0x23b283(0x184)](_0x178b91,_0x3b6b20)});_0x4f508c['status'](0xc9)[_0x23b283(0x611)](_0x57a5b8);})[_0x2bd2d0(0x850)](this[_0x2bd2d0(0x6d5)](_0x2bd2d0(0x43f)),..._0x45aade,async(_0x26e900,_0x384dbe)=>{const _0x119c8c=_0x2bd2d0;let _0x484c03=await this[_0x119c8c(0x64e)]({'request':_0x26e900,'schema':Ie,'ClassRef':Y,'execute':(_0x3ee8a6,_0x5bff34)=>J[_0x119c8c(0x43f)](_0x3ee8a6,_0x5bff34)});_0x384dbe[_0x119c8c(0x1f8)](0xc9)[_0x119c8c(0x611)](_0x484c03);})[_0x2bd2d0(0x850)](this[_0x2bd2d0(0x6d5)](_0x2bd2d0(0x3a2)),..._0x45aade,async(_0x136bc4,_0x4ad5b1)=>{const _0xd9964=_0x2bd2d0;let _0x28e49c=await this['groupValidate']({'request':_0x136bc4,'schema':ao,'ClassRef':mt,'execute':(_0x4ef1b0,_0x22afd3)=>J['updateGParticipate'](_0x4ef1b0,_0x22afd3)});_0x4ad5b1[_0xd9964(0x1f8)](0xc9)['json'](_0x28e49c);})[_0x2bd2d0(0x5b4)](this[_0x2bd2d0(0x6d5)]('leaveGroup'),..._0x45aade,async(_0x405640,_0x1295d4)=>{const _0x177e17=_0x2bd2d0;let _0x74da6c=await this[_0x177e17(0x64e)]({'request':_0x405640,'schema':{},'ClassRef':Y,'execute':(_0x1ec764,_0x5d33dd)=>J[_0x177e17(0x897)](_0x1ec764,_0x5d33dd)});_0x1295d4[_0x177e17(0x1f8)](0xc8)[_0x177e17(0x611)](_0x74da6c);});}},go=require(a0_0xd17613(0x65e)),yt=class extends V{constructor(_0x5ef5b3,..._0x3b12af){const _0x3a56fb=a0_0xd17613;super(),this[_0x3a56fb(0x3ea)]=_0x5ef5b3,this[_0x3a56fb(0x776)]=(0x0,go['Router'])();let _0x2360c8=_0x5ef5b3[_0x3a56fb(0x8bc)](_0x3a56fb(0x299));this[_0x3a56fb(0x776)][_0x3a56fb(0x738)](_0x3a56fb(0x1e2),..._0x3b12af,async(_0x30656b,_0x2240cc)=>{const _0x539ed3=_0x3a56fb;let {instanceName:_0x30301c,apikey:_0x1f77a0,number:_0xc73465}=_0x30656b[_0x539ed3(0x8c2)],_0x137eda=await ce[_0x539ed3(0x3ad)]({'instanceName':_0x30301c,'apikey':_0x1f77a0,'number':_0xc73465});return _0x2240cc[_0x539ed3(0x1f8)](0xc9)['json'](_0x137eda);})[_0x3a56fb(0x850)](this[_0x3a56fb(0x6d5)](_0x3a56fb(0x350)),..._0x3b12af,async(_0x4818b3,_0x5de74d)=>{const _0xe37808=_0x3a56fb;let _0x4c815d=await this[_0xe37808(0x778)]({'request':_0x4818b3,'schema':N,'ClassRef':M,'execute':_0x1d7c4b=>ce[_0xe37808(0x269)](_0x1d7c4b)});return _0x5de74d['status'](0xc8)[_0xe37808(0x611)](_0x4c815d);})[_0x3a56fb(0x8bc)](this['routerPath']('connect'),..._0x3b12af,async(_0x4617e8,_0x3dab1f)=>{const _0x27fc7b=_0x3a56fb;let _0x105329=await this['dataValidate']({'request':_0x4617e8,'schema':N,'ClassRef':M,'execute':_0x49edb7=>ce[_0x27fc7b(0x6c2)](_0x49edb7)});return _0x3dab1f[_0x27fc7b(0x1f8)](0xc8)[_0x27fc7b(0x611)](_0x105329);})['get'](this[_0x3a56fb(0x6d5)](_0x3a56fb(0x89c)),..._0x3b12af,async(_0x487d82,_0x233710)=>{const _0x4b60cf=_0x3a56fb;let _0x1b23bd=await this[_0x4b60cf(0x778)]({'request':_0x487d82,'schema':N,'ClassRef':M,'execute':_0x52ab67=>ce[_0x4b60cf(0x89c)](_0x52ab67)});return _0x233710[_0x4b60cf(0x1f8)](0xc8)['json'](_0x1b23bd);})['get'](this[_0x3a56fb(0x6d5)](_0x3a56fb(0x3b6),!0x1),..._0x3b12af,async(_0x1d7d5c,_0x4c352b)=>{const _0x59be16=_0x3a56fb;let _0x261758=await this['dataValidate']({'request':_0x1d7d5c,'schema':null,'ClassRef':M,'execute':_0x37c1aa=>ce[_0x59be16(0x3b6)](_0x37c1aa)});return _0x4c352b[_0x59be16(0x1f8)](0xc8)[_0x59be16(0x611)](_0x261758);})[_0x3a56fb(0x5b4)](this[_0x3a56fb(0x6d5)](_0x3a56fb(0x6d6)),..._0x3b12af,async(_0x579504,_0x367ee4)=>{const _0x52d5ef=_0x3a56fb;let _0x4446af=await this[_0x52d5ef(0x778)]({'request':_0x579504,'schema':N,'ClassRef':M,'execute':_0x58fadb=>ce['logout'](_0x58fadb)});return _0x367ee4[_0x52d5ef(0x1f8)](0xc8)[_0x52d5ef(0x611)](_0x4446af);})[_0x3a56fb(0x5b4)](this['routerPath'](_0x3a56fb(0x5b4)),..._0x3b12af,async(_0x12857f,_0x46bcfc)=>{const _0x449d94=_0x3a56fb;let _0x346a0d=await this[_0x449d94(0x778)]({'request':_0x12857f,'schema':N,'ClassRef':M,'execute':_0x407528=>ce[_0x449d94(0x18d)](_0x407528)});return _0x46bcfc['status'](0xc8)[_0x449d94(0x611)](_0x346a0d);});}},mo=require(a0_0xd17613(0x65e)),Rs=class{},W=class extends Rs{},bt=class extends W{},St=class extends W{},Mt=class extends W{},Ct=class extends W{},_e=class extends W{},Et=class extends W{},vt=class extends W{},Nt=class extends W{},$t=class extends W{},Rt=class extends W{},At=class{},Tt=class extends V{constructor(..._0x18bf1d){const _0x12e504=a0_0xd17613;super(),this[_0x12e504(0x776)]=(0x0,mo[_0x12e504(0x59b)])(),this[_0x12e504(0x776)][_0x12e504(0x738)](this[_0x12e504(0x6d5)](_0x12e504(0x488)),..._0x18bf1d,async(_0x20737a,_0x2e13c5)=>{const _0x2d418b=_0x12e504;let _0x15c33f=await this[_0x2d418b(0x778)]({'request':_0x20737a,'schema':_a,'ClassRef':bt,'execute':(_0x2b09ed,_0x5b50ba)=>B['sendText'](_0x2b09ed,_0x5b50ba)});return _0x2e13c5[_0x2d418b(0x1f8)](0xc9)[_0x2d418b(0x611)](_0x15c33f);})[_0x12e504(0x738)](this['routerPath']('sendMedia'),..._0x18bf1d,async(_0x46b481,_0x1c3c0f)=>{const _0x432e1f=_0x12e504;let _0x31221f=await this[_0x432e1f(0x778)]({'request':_0x46b481,'schema':ka,'ClassRef':_e,'execute':(_0x1c3c4b,_0xa289c4)=>B['sendMedia'](_0x1c3c4b,_0xa289c4)});return _0x1c3c0f['status'](0xc9)['json'](_0x31221f);})[_0x12e504(0x738)](this[_0x12e504(0x6d5)](_0x12e504(0x732)),..._0x18bf1d,async(_0x2f5abf,_0x264021)=>{const _0x19f045=_0x12e504;let _0x575a1d=await this[_0x19f045(0x778)]({'request':_0x2f5abf,'schema':Ua,'ClassRef':Ct,'execute':(_0x149bbd,_0xec430a)=>B['sendMenu'](_0x149bbd,_0xec430a)});return _0x264021[_0x19f045(0x1f8)](0xc9)[_0x19f045(0x611)](_0x575a1d);})[_0x12e504(0x738)](this[_0x12e504(0x6d5)](_0x12e504(0x366)),..._0x18bf1d,async(_0x1a6bb7,_0x590cbc)=>{const _0x46fb02=_0x12e504;let _0x3b8b26=await this['dataValidate']({'request':_0x1a6bb7,'schema':La,'ClassRef':_e,'execute':(_0x219a1e,_0x4c3fcf)=>B[_0x46fb02(0x366)](_0x219a1e,_0x4c3fcf)});return _0x590cbc[_0x46fb02(0x1f8)](0xc9)['json'](_0x3b8b26);})[_0x12e504(0x738)](this[_0x12e504(0x6d5)]('sendButtons'),..._0x18bf1d,async(_0x593c1e,_0x87e640)=>{const _0x146bc5=_0x12e504;let _0x15e3cd=await this['dataValidate']({'request':_0x593c1e,'schema':ja,'ClassRef':vt,'execute':(_0x37e059,_0x5ce49b)=>B['sendButtons'](_0x37e059,_0x5ce49b)});return _0x87e640[_0x146bc5(0x1f8)](0xc9)['json'](_0x15e3cd);})[_0x12e504(0x738)](this[_0x12e504(0x6d5)](_0x12e504(0x24b)),..._0x18bf1d,async(_0x4bfb4b,_0x54920d)=>{const _0xb399b3=_0x12e504;let _0x131e56=await this[_0xb399b3(0x778)]({'request':_0x4bfb4b,'schema':Ja,'ClassRef':Nt,'execute':(_0x4a9a81,_0x1efa2f)=>B[_0xb399b3(0x24b)](_0x4a9a81,_0x1efa2f)});return _0x54920d[_0xb399b3(0x1f8)](0xc9)['json'](_0x131e56);})['post'](this[_0x12e504(0x6d5)](_0x12e504(0x504)),..._0x18bf1d,async(_0x38ac02,_0x298f94)=>{const _0x5cde8a=_0x12e504;let _0x2e76d3=await this['dataValidate']({'request':_0x38ac02,'schema':qa,'ClassRef':$t,'execute':(_0x31d2c6,_0x50a887)=>B[_0x5cde8a(0x504)](_0x31d2c6,_0x50a887)});return _0x298f94[_0x5cde8a(0x1f8)](0xc9)['json'](_0x2e76d3);})[_0x12e504(0x738)](this[_0x12e504(0x6d5)](_0x12e504(0x1bf)),..._0x18bf1d,async(_0x2255cf,_0xff0c66)=>{const _0x518a1e=_0x12e504;let _0x11a05b=await this[_0x518a1e(0x778)]({'request':_0x2255cf,'schema':Va,'ClassRef':Rt,'execute':(_0x23c241,_0xa75e10)=>B['sendContact'](_0x23c241,_0xa75e10)});return _0xff0c66[_0x518a1e(0x1f8)](0xc9)[_0x518a1e(0x611)](_0x11a05b);})['post'](this[_0x12e504(0x6d5)]('sendReaction'),..._0x18bf1d,async(_0x251521,_0x45e3ca)=>{const _0x18ec2f=_0x12e504;let _0x3323ca=await this[_0x18ec2f(0x778)]({'request':_0x251521,'schema':Ga,'ClassRef':At,'execute':(_0x44ae47,_0x3ac232)=>B[_0x18ec2f(0x2ca)](_0x44ae47,_0x3ac232)});return _0x45e3ca[_0x18ec2f(0x1f8)](0xc9)[_0x18ec2f(0x611)](_0x3323ca);})[_0x12e504(0x738)](this[_0x12e504(0x6d5)]('sendPoll'),..._0x18bf1d,async(_0x889f35,_0x4d632d)=>{const _0x578e6a=_0x12e504;let _0x38f3f7=await this[_0x578e6a(0x778)]({'request':_0x889f35,'schema':Fa,'ClassRef':Mt,'execute':(_0x1f40c4,_0x4afa52)=>B[_0x578e6a(0x7ea)](_0x1f40c4,_0x4afa52)});return _0x4d632d['status'](0xc9)[_0x578e6a(0x611)](_0x38f3f7);})[_0x12e504(0x738)](this[_0x12e504(0x6d5)]('sendStatus'),..._0x18bf1d,async(_0xb4d308,_0x3e389c)=>{const _0xc2d1d0=_0x12e504;let _0x34b4fb=await this['dataValidate']({'request':_0xb4d308,'schema':Pa,'ClassRef':St,'execute':(_0x49ee69,_0x56bcb4)=>B['sendStatus'](_0x49ee69,_0x56bcb4)});return _0x3e389c[_0xc2d1d0(0x1f8)](0xc9)[_0xc2d1d0(0x611)](_0x34b4fb);})[_0x12e504(0x738)](this[_0x12e504(0x6d5)]('sendSticker'),..._0x18bf1d,async(_0x2e21df,_0x1b4c22)=>{const _0x113370=_0x12e504;let _0x1ed8f9=await this[_0x113370(0x778)]({'request':_0x2e21df,'schema':Da,'ClassRef':Et,'execute':(_0x43b7c2,_0xb47527)=>B[_0x113370(0x4f6)](_0x43b7c2,_0xb47527)});return _0x1b4c22[_0x113370(0x1f8)](0xc9)[_0x113370(0x611)](_0x1ed8f9);});}},fo=require(a0_0xd17613(0x65e)),It=class{},Ot=class extends V{constructor(..._0x2c7819){const _0xf33595=a0_0xd17613;super(),this[_0xf33595(0x776)]=(0x0,fo['Router'])(),this[_0xf33595(0x776)]['post'](this[_0xf33595(0x6d5)]('set'),..._0x2c7819,async(_0x491633,_0x5677e6)=>{const _0x1600f6=_0xf33595;let _0x38229b=await this[_0x1600f6(0x778)]({'request':_0x491633,'schema':uo,'ClassRef':It,'execute':(_0x15384b,_0x344c8d)=>As[_0x1600f6(0x290)](_0x15384b,_0x344c8d)});_0x5677e6[_0x1600f6(0x1f8)](0xc9)['json'](_0x38229b);})[_0xf33595(0x8bc)](this[_0xf33595(0x6d5)](_0xf33595(0x357)),..._0x2c7819,async(_0x4709b5,_0x5b2079)=>{const _0x15be69=_0xf33595;let _0x3e3ec9=await this['dataValidate']({'request':_0x4709b5,'schema':N,'ClassRef':M,'execute':_0x31cd75=>As[_0x15be69(0x46e)](_0x31cd75)});_0x5b2079[_0x15be69(0x1f8)](0xc8)[_0x15be69(0x611)](_0x3e3ec9);});}},wo=require(a0_0xd17613(0x65e)),y=new $(a0_0xd17613(0x6ae)),_t=class extends V{constructor(..._0x3da72b){const _0x33a4d5=a0_0xd17613;super(),this['router']=(0x0,wo['Router'])(),this[_0x33a4d5(0x776)]['post'](this['routerPath'](_0x33a4d5(0x6f1)),..._0x3da72b,async(_0x429d7c,_0x2eeba4)=>{const _0x2ab4e6=_0x33a4d5;let _0x56505c=_0x429d7c[_0x2ab4e6(0x8c2)];y['verbose'](_0x2ab4e6(0x36b)),y[_0x2ab4e6(0x230)](_0x2ab4e6(0x42c)),y[_0x2ab4e6(0x230)](_0x429d7c['body']);let _0x17fbaa=await this[_0x2ab4e6(0x778)]({'request':_0x429d7c,'schema':N,'ClassRef':M,'execute':_0xd41d81=>I[_0x2ab4e6(0x843)](_0xd41d81,_0x56505c)});_0x2eeba4[_0x2ab4e6(0x1f8)](0xc8)[_0x2ab4e6(0x611)](_0x17fbaa);})['get'](this[_0x33a4d5(0x6d5)]('scheduleMessage'),..._0x3da72b,async(_0x3482f2,_0x4e9694)=>{const _0x46739f=_0x33a4d5;let _0x3362e2=await this[_0x46739f(0x778)]({'request':_0x3482f2,'schema':N,'ClassRef':M,'execute':_0x2b6bcc=>I[_0x46739f(0x806)](_0x2b6bcc)});_0x4e9694[_0x46739f(0x1f8)](0xc8)[_0x46739f(0x611)](_0x3362e2);})[_0x33a4d5(0x5b4)](this['routerPath']('deleteDoneMessages'),..._0x3da72b,async(_0x149cfd,_0x1b1aca)=>{const _0x144cdd=_0x33a4d5;y[_0x144cdd(0x230)](_0x144cdd(0x1b0));let _0x379c9f=await this['dataValidate']({'request':_0x149cfd,'schema':N,'ClassRef':M,'execute':_0x551394=>I[_0x144cdd(0x43c)](_0x551394)});_0x1b1aca['status'](0xc8)[_0x144cdd(0x611)](_0x379c9f);})[_0x33a4d5(0x738)](this['routerPath'](_0x33a4d5(0x5ed)),..._0x3da72b,async(_0x358040,_0x45815c)=>{const _0xe82472=_0x33a4d5;let _0x345c8a=_0x358040[_0xe82472(0x8c2)];y['verbose']('request\x20received\x20in\x20starFlow'),y[_0xe82472(0x230)](_0xe82472(0x42c)),y[_0xe82472(0x230)](_0x358040[_0xe82472(0x8c2)]);let _0x3671da=await this[_0xe82472(0x778)]({'request':_0x358040,'schema':N,'ClassRef':M,'execute':_0x320d64=>I[_0xe82472(0x5ed)](_0x320d64,_0x345c8a)});_0x45815c[_0xe82472(0x1f8)](0xc8)[_0xe82472(0x611)](_0x3671da);})[_0x33a4d5(0x8bc)](this[_0x33a4d5(0x6d5)](_0x33a4d5(0x737)),..._0x3da72b,async(_0x160679,_0x17af2e)=>{const _0x5e2a77=_0x33a4d5;y['verbose'](_0x5e2a77(0x316));let _0x2e57e2=await this[_0x5e2a77(0x778)]({'request':_0x160679,'schema':N,'ClassRef':M,'execute':_0x34fdff=>I[_0x5e2a77(0x737)](_0x34fdff)});_0x17af2e[_0x5e2a77(0x1f8)](0xc8)[_0x5e2a77(0x611)](_0x2e57e2);})[_0x33a4d5(0x8bc)](this[_0x33a4d5(0x6d5)](_0x33a4d5(0x62d)),..._0x3da72b,async(_0x8049cd,_0x10d725)=>{const _0x59c71d=_0x33a4d5;y[_0x59c71d(0x230)](_0x59c71d(0x21c));let _0x3111e1=await this[_0x59c71d(0x778)]({'request':_0x8049cd,'schema':N,'ClassRef':M,'execute':_0x42860=>I[_0x59c71d(0x737)](_0x42860)});_0x10d725[_0x59c71d(0x1f8)](0xc8)[_0x59c71d(0x611)](_0x3111e1);})[_0x33a4d5(0x738)](this['routerPath'](_0x33a4d5(0x861)),..._0x3da72b,async(_0x2733cc,_0x1beebf)=>{const _0x2f9b2f=_0x33a4d5;let _0x179b47=_0x2733cc[_0x2f9b2f(0x8c2)];y[_0x2f9b2f(0x230)](_0x2f9b2f(0x3a1)),y[_0x2f9b2f(0x230)](_0x2f9b2f(0x42c)),y['verbose'](_0x2733cc[_0x2f9b2f(0x8c2)]);let _0x38240d=await this['dataValidate']({'request':_0x2733cc,'schema':N,'ClassRef':M,'execute':_0x38cef3=>I[_0x2f9b2f(0x861)](_0x38cef3,_0x179b47)});_0x1beebf['status'](0xc8)[_0x2f9b2f(0x611)](_0x38240d);})[_0x33a4d5(0x738)](this[_0x33a4d5(0x6d5)](_0x33a4d5(0x809)),..._0x3da72b,async(_0x4f2474,_0x336011)=>{const _0xfc1c53=_0x33a4d5;let _0x48f49b=_0x4f2474[_0xfc1c53(0x8c2)];y[_0xfc1c53(0x230)](_0xfc1c53(0x848)),y[_0xfc1c53(0x230)]('request\x20body:\x20'),y[_0xfc1c53(0x230)](_0x4f2474[_0xfc1c53(0x8c2)]);let _0x43dfb9=await this[_0xfc1c53(0x778)]({'request':_0x4f2474,'schema':N,'ClassRef':M,'execute':_0x172c0f=>I['updateCustomFields'](_0x172c0f,_0x48f49b)});_0x336011[_0xfc1c53(0x1f8)](0xc8)[_0xfc1c53(0x611)](_0x43dfb9);})['post'](this[_0x33a4d5(0x6d5)](_0x33a4d5(0x65f)),..._0x3da72b,async(_0x137948,_0x21d9fe)=>{const _0x436126=_0x33a4d5;let _0x227555=_0x137948[_0x436126(0x8c2)];y['verbose']('request\x20received\x20in\x20updateAutoCompleteMessages'),y[_0x436126(0x230)](_0x436126(0x42c)),y[_0x436126(0x230)](_0x137948[_0x436126(0x8c2)]);let _0x61e09=await this['dataValidate']({'request':_0x137948,'schema':N,'ClassRef':M,'execute':_0x3a9286=>I[_0x436126(0x65f)](_0x3a9286,_0x227555)});_0x21d9fe[_0x436126(0x1f8)](0xc8)[_0x436126(0x611)](_0x61e09);})['post'](this[_0x33a4d5(0x6d5)]('updateFlowConfig'),..._0x3da72b,async(_0x2f1487,_0xdd7f1e)=>{const _0x99319f=_0x33a4d5;let _0xf0fa75=_0x2f1487['body'];y[_0x99319f(0x230)](_0x99319f(0x597)),y[_0x99319f(0x230)](_0x99319f(0x42c)),y[_0x99319f(0x230)](_0x2f1487['body']);let _0x4aceec=await this[_0x99319f(0x778)]({'request':_0x2f1487,'schema':N,'ClassRef':M,'execute':_0x18f584=>I[_0x99319f(0x5e4)](_0x18f584,_0xf0fa75)});_0xdd7f1e[_0x99319f(0x1f8)](0xc8)[_0x99319f(0x611)](_0x4aceec);})[_0x33a4d5(0x738)](this[_0x33a4d5(0x6d5)](_0x33a4d5(0x56a)),..._0x3da72b,async(_0x11c49f,_0x5d71e4)=>{const _0x37f48e=_0x33a4d5;let _0x34eaba=_0x11c49f['body'];y['verbose'](_0x37f48e(0x7fd)),y['verbose']('request\x20body:\x20'),y[_0x37f48e(0x230)](_0x11c49f[_0x37f48e(0x8c2)]);let _0x24a157=await this[_0x37f48e(0x778)]({'request':_0x11c49f,'schema':N,'ClassRef':M,'execute':_0x2e6b3a=>I[_0x37f48e(0x56a)](_0x2e6b3a,_0x34eaba)});_0x5d71e4[_0x37f48e(0x1f8)](0xc8)[_0x37f48e(0x611)](_0x24a157);})[_0x33a4d5(0x738)](this[_0x33a4d5(0x6d5)](_0x33a4d5(0x785)),..._0x3da72b,async(_0x23caa9,_0x4d2fcd)=>{const _0x5d560e=_0x33a4d5;let _0x129a62=_0x23caa9[_0x5d560e(0x8c2)];y[_0x5d560e(0x230)](_0x5d560e(0x6d2)),y[_0x5d560e(0x230)](_0x5d560e(0x42c)),y[_0x5d560e(0x230)](_0x23caa9[_0x5d560e(0x8c2)]);let _0x9b3b0f=await this[_0x5d560e(0x778)]({'request':_0x23caa9,'schema':N,'ClassRef':M,'execute':_0x5e4302=>I[_0x5d560e(0x785)](_0x5e4302,_0x129a62)});_0x4d2fcd[_0x5d560e(0x1f8)](0xc8)[_0x5d560e(0x611)](_0x9b3b0f);})[_0x33a4d5(0x738)](this[_0x33a4d5(0x6d5)](_0x33a4d5(0x204)),..._0x3da72b,async(_0x381499,_0x404086)=>{const _0x2436c2=_0x33a4d5;let _0x1ecfc3=_0x381499['body'];y[_0x2436c2(0x230)]('request\x20received\x20in\x20editConversation'),y['verbose'](_0x2436c2(0x42c)),y[_0x2436c2(0x230)](_0x381499[_0x2436c2(0x8c2)]);let _0x1ac328=await this[_0x2436c2(0x778)]({'request':_0x381499,'schema':N,'ClassRef':M,'execute':_0x866364=>I[_0x2436c2(0x204)](_0x866364,_0x1ecfc3)});_0x404086[_0x2436c2(0x1f8)](0xc8)[_0x2436c2(0x611)](_0x1ac328);})[_0x33a4d5(0x5b4)](this[_0x33a4d5(0x6d5)](_0x33a4d5(0x5e8)),..._0x3da72b,async(_0x4f8a28,_0x325d2e)=>{const _0x3e6acf=_0x33a4d5;let _0x53afb2=_0x4f8a28[_0x3e6acf(0x8c2)];y[_0x3e6acf(0x230)](_0x3e6acf(0x467)),y[_0x3e6acf(0x230)](_0x3e6acf(0x42c)),y['verbose'](_0x4f8a28[_0x3e6acf(0x8c2)]);let _0x531b85=await this['dataValidate']({'request':_0x4f8a28,'schema':N,'ClassRef':M,'execute':_0x2d0251=>I[_0x3e6acf(0x5e8)](_0x2d0251,_0x53afb2)});_0x325d2e[_0x3e6acf(0x1f8)](0xc8)['json'](_0x531b85);})['post'](this['routerPath'](_0x33a4d5(0x28d)),..._0x3da72b,async(_0x58e5f4,_0x3744fe)=>{const _0x30a7f0=_0x33a4d5;let _0x374277=_0x58e5f4['body'],_0x5e2cbd=_0x58e5f4['headers'][_0x30a7f0(0x460)];y[_0x30a7f0(0x230)](_0x30a7f0(0x2e2)),y['verbose'](_0x30a7f0(0x42c)),y[_0x30a7f0(0x230)](_0x58e5f4[_0x30a7f0(0x8c2)]);let _0x16c7e7=await this[_0x30a7f0(0x778)]({'request':_0x58e5f4,'schema':N,'ClassRef':M,'execute':_0xfa5be=>I['createFlow'](_0xfa5be,_0x374277,_0x5e2cbd)});_0x3744fe[_0x30a7f0(0x1f8)](0xc8)[_0x30a7f0(0x611)](_0x16c7e7);})[_0x33a4d5(0x738)](this[_0x33a4d5(0x6d5)](_0x33a4d5(0x450)),..._0x3da72b,async(_0x4ddff3,_0x184a1e)=>{const _0x270d78=_0x33a4d5;let _0x47f8b1=_0x4ddff3[_0x270d78(0x8c2)],_0x1523f8=_0x4ddff3['headers']['apikey'];y[_0x270d78(0x230)](_0x270d78(0x5fe)),y['verbose'](_0x270d78(0x42c)),y['verbose'](_0x4ddff3['body']),delete _0x47f8b1[_0x270d78(0x471)],delete _0x47f8b1['variables'],delete _0x47f8b1[_0x270d78(0x348)],delete _0x47f8b1[_0x270d78(0x5cd)];let _0x32df99=await this['dataValidate']({'request':_0x4ddff3,'schema':N,'ClassRef':M,'execute':_0x25ea93=>I['editFlow'](_0x25ea93,_0x47f8b1,_0x1523f8)});_0x184a1e[_0x270d78(0x1f8)](0xc8)[_0x270d78(0x611)](_0x32df99);})[_0x33a4d5(0x738)](this['routerPath'](_0x33a4d5(0x201)),..._0x3da72b,async(_0x2f7355,_0x4108e4)=>{const _0x21804e=_0x33a4d5;let _0x538976=_0x2f7355[_0x21804e(0x8c2)];y[_0x21804e(0x230)](_0x21804e(0x5fe)),y[_0x21804e(0x230)]('request\x20body:\x20'),y[_0x21804e(0x230)](_0x2f7355[_0x21804e(0x8c2)]);let _0x1e0204=await this['dataValidate']({'request':_0x2f7355,'schema':N,'ClassRef':M,'execute':_0x4d0572=>I['editFlowBlock'](_0x4d0572,_0x538976)});_0x4108e4[_0x21804e(0x1f8)](0xc8)[_0x21804e(0x611)](_0x1e0204);})['post'](this[_0x33a4d5(0x6d5)](_0x33a4d5(0x3ff)),..._0x3da72b,async(_0x4c1377,_0x3b5d12)=>{const _0x1457ab=_0x33a4d5;let _0x4c7cb5=_0x4c1377[_0x1457ab(0x8c2)];y[_0x1457ab(0x230)](_0x1457ab(0x5fe)),y['verbose'](_0x1457ab(0x42c)),y[_0x1457ab(0x230)](_0x4c1377[_0x1457ab(0x8c2)]);let _0x410549=await this[_0x1457ab(0x778)]({'request':_0x4c1377,'schema':N,'ClassRef':M,'execute':_0x4c6192=>I[_0x1457ab(0x5b0)](_0x4c6192,_0x4c7cb5)});_0x3b5d12['status'](0xc8)[_0x1457ab(0x611)](_0x410549);})[_0x33a4d5(0x738)](this[_0x33a4d5(0x6d5)](_0x33a4d5(0x707)),..._0x3da72b,async(_0x23037a,_0x132a61)=>{const _0xfe69d4=_0x33a4d5;let _0x590f29=_0x23037a[_0xfe69d4(0x8c2)];y[_0xfe69d4(0x230)]('request\x20received\x20in\x20editFlow'),y['verbose'](_0xfe69d4(0x42c)),y[_0xfe69d4(0x230)](_0x23037a[_0xfe69d4(0x8c2)]);let _0xdcfcf9=await this[_0xfe69d4(0x778)]({'request':_0x23037a,'schema':N,'ClassRef':M,'execute':_0x5876f6=>I[_0xfe69d4(0x5fd)](_0x5876f6,_0x590f29)});_0x132a61[_0xfe69d4(0x1f8)](0xc8)['json'](_0xdcfcf9);})[_0x33a4d5(0x738)](this[_0x33a4d5(0x6d5)](_0x33a4d5(0x63c)),..._0x3da72b,async(_0x1a0fce,_0x13c7cb)=>{const _0x26a11a=_0x33a4d5;let _0x1de03e=_0x1a0fce['body'];y[_0x26a11a(0x230)](_0x26a11a(0x656)),y['verbose'](_0x26a11a(0x42c)),y[_0x26a11a(0x230)](_0x1a0fce[_0x26a11a(0x8c2)]);let _0x514667=await this['dataValidate']({'request':_0x1a0fce,'schema':N,'ClassRef':M,'execute':_0x468091=>I['editFlowGroup'](_0x468091,_0x1de03e)});_0x13c7cb[_0x26a11a(0x1f8)](0xc8)[_0x26a11a(0x611)](_0x514667);})['post'](this[_0x33a4d5(0x6d5)](_0x33a4d5(0x771)),..._0x3da72b,async(_0x1d0f00,_0x427f01)=>{const _0x548794=_0x33a4d5;let _0x2b008a=_0x1d0f00[_0x548794(0x8c2)];y['verbose'](_0x548794(0x375)),y[_0x548794(0x230)](_0x548794(0x42c)),y['verbose'](_0x1d0f00[_0x548794(0x8c2)]);let _0xb96099=await this['dataValidate']({'request':_0x1d0f00,'schema':N,'ClassRef':M,'execute':_0x1454d8=>I[_0x548794(0x4bb)](_0x1454d8,_0x2b008a)});_0x427f01[_0x548794(0x1f8)](0xc8)[_0x548794(0x611)](_0xb96099);})[_0x33a4d5(0x738)](this[_0x33a4d5(0x6d5)](_0x33a4d5(0x7a8)),..._0x3da72b,async(_0x442071,_0x5673da)=>{const _0x292d36=_0x33a4d5;let _0x3553e7=_0x442071[_0x292d36(0x8c2)];y[_0x292d36(0x230)]('request\x20received\x20in\x20editFlowvariable'),y[_0x292d36(0x230)](_0x292d36(0x42c)),y[_0x292d36(0x230)](_0x442071[_0x292d36(0x8c2)]);let _0x2d920d=await this[_0x292d36(0x778)]({'request':_0x442071,'schema':N,'ClassRef':M,'execute':_0x585170=>I[_0x292d36(0x179)](_0x585170,_0x3553e7)});_0x5673da[_0x292d36(0x1f8)](0xc8)[_0x292d36(0x611)](_0x2d920d);})[_0x33a4d5(0x738)](this[_0x33a4d5(0x6d5)](_0x33a4d5(0x1c7)),..._0x3da72b,async(_0x1113c9,_0x8a4173)=>{const _0x5e9e66=_0x33a4d5;let _0x32bff0=_0x1113c9[_0x5e9e66(0x8c2)];y[_0x5e9e66(0x230)](_0x5e9e66(0x627)),y[_0x5e9e66(0x230)](_0x5e9e66(0x42c)),y['verbose'](_0x1113c9['body']);let _0x437a3c=await this[_0x5e9e66(0x778)]({'request':_0x1113c9,'schema':N,'ClassRef':M,'execute':_0x5a643b=>I[_0x5e9e66(0x881)](_0x5a643b,_0x32bff0)});_0x8a4173[_0x5e9e66(0x1f8)](0xc8)[_0x5e9e66(0x611)](_0x437a3c);})[_0x33a4d5(0x5b4)](this[_0x33a4d5(0x6d5)]('deleteflow'),..._0x3da72b,async(_0x55113a,_0x132307)=>{const _0x196984=_0x33a4d5;let _0x492ae6=_0x55113a['body'];y[_0x196984(0x230)](_0x196984(0x6fd)),y[_0x196984(0x230)]('request\x20body:\x20'),y[_0x196984(0x230)](_0x55113a['body']);let _0x4b13ac=await this['dataValidate']({'request':_0x55113a,'schema':N,'ClassRef':M,'execute':_0xd164fb=>I[_0x196984(0x3fa)](_0xd164fb,_0x492ae6)});_0x132307[_0x196984(0x1f8)](0xc8)[_0x196984(0x611)](_0x4b13ac);})['get'](this['routerPath'](_0x33a4d5(0x3ef)),..._0x3da72b,async(_0x5b23ff,_0x4fa509)=>{const _0x56e78e=_0x33a4d5;y[_0x56e78e(0x230)]('request\x20received\x20in\x20allFlows');let _0x5f295a=await this[_0x56e78e(0x778)]({'request':_0x5b23ff,'schema':N,'ClassRef':M,'execute':_0xe6af7c=>I['allFlows'](_0xe6af7c)});_0x4fa509['status'](0xc8)[_0x56e78e(0x611)](_0x5f295a);});}},Mo=A(require(a0_0xd17613(0x7f6))),X={};function yo(_0x1545e9,_0x4347e8,_0xb8f313,_0xdb735f){X[_0x1545e9]||(X[_0x1545e9]={}),X[_0x1545e9][_0x4347e8]={'id':_0x4347e8,'response':_0xb8f313,'events':_0xdb735f};}function bo(_0x29915c,_0x51771c){!X[_0x29915c]||!X[_0x29915c][_0x51771c]||delete X[_0x29915c][_0x51771c];}function U(_0x1dcc39,_0x5c2d76,_0x16d920){const _0x4f2c88=a0_0xd17613;if(!X[_0x1dcc39])return;let _0x52d7bb='data:\x20'+JSON[_0x4f2c88(0x78e)](_0x16d920)+'\x0a\x0a';Object[_0x4f2c88(0x28e)](X[_0x1dcc39])[_0x4f2c88(0x2a4)](_0x3edc25=>{const _0x5c1a85=_0x4f2c88;_0x3edc25['events'][_0x5c1a85(0x831)](_0x5c2d76)&&_0x3edc25[_0x5c1a85(0x329)][_0x5c1a85(0x7fe)](_0x52d7bb);});}function So(){let _0x1b0d3d={};for(let _0x30541f in X)_0x1b0d3d[_0x30541f]=Object['values'](X[_0x30541f])['map'](_0x5dc3f5=>({'id':_0x5dc3f5['id'],'events':_0x5dc3f5['events']}));return _0x1b0d3d;}var Co=require(a0_0xd17613(0x630)),Is=require(a0_0xd17613(0x3b4)),Ts=class{},Ai=new Is['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Ti=new Is['Schema']({'_id':{'type':String,'default':a0_0xd17613(0x327)},'WebhookGlobal':{'type':Ai},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Ce=R?.[a0_0xd17613(0x3f7)](Ts[a0_0xd17613(0x4f2)],Ti,a0_0xd17613(0x81e)),Ii=Mo[a0_0xd17613(0x6db)][a0_0xd17613(0x4c3)](__dirname,a0_0xd17613(0x4c1)),xe=(0x0,xt['Router'])(),Oi=b[a0_0xd17613(0x8bc)](a0_0xd17613(0x299))[a0_0xd17613(0x2fa)],ae=[$a,Ra,Ia[Oi]];xe['use']('/media',xt[a0_0xd17613(0x6db)][a0_0xd17613(0x4ad)](Ii))['get'](a0_0xd17613(0x6c4),async(_0x46f909,_0x2a44a0)=>{const _0x58b8b7=a0_0xd17613;console[_0x58b8b7(0x5c6)](_0x58b8b7(0x300));let _0x1a7f8e=_0x46f909['params'][_0x58b8b7(0x5ef)],_0x1caefa=(_0x46f909[_0x58b8b7(0x760)][_0x58b8b7(0x5b1)]||'')[_0x58b8b7(0x37b)](','),_0x29ac63=(0x0,Co['v4'])();console[_0x58b8b7(0x5c6)](_0x58b8b7(0x266),_0x1a7f8e),console[_0x58b8b7(0x5c6)](_0x58b8b7(0x892),_0x1caefa);let _0x4519e4=b[_0x58b8b7(0x8bc)]('AUTHENTICATION')['API_KEY'],_0xa6dc20=_0x46f909[_0x58b8b7(0x760)][_0x58b8b7(0x460)];if(console[_0x58b8b7(0x5c6)]('API\x20Key\x20from\x20Request:',_0xa6dc20),_0x4519e4[_0x58b8b7(0x3f4)]!==_0xa6dc20){console[_0x58b8b7(0x5c6)](_0x58b8b7(0x5ec));try{let _0x21f44d=await he[_0x58b8b7(0x7b3)][_0x58b8b7(0x357)](_0x1a7f8e);if(console[_0x58b8b7(0x5c6)](_0x58b8b7(0x6e9),_0x21f44d),!_0x21f44d||_0x21f44d[_0x58b8b7(0x460)]!==_0xa6dc20)return console['log'](_0x58b8b7(0x79d)),_0x2a44a0['status'](0x191)[_0x58b8b7(0x271)](_0x58b8b7(0x368));}catch(_0x268ba4){return console['error'](_0x58b8b7(0x619),_0x268ba4),_0x2a44a0[_0x58b8b7(0x1f8)](0x191)[_0x58b8b7(0x271)](_0x58b8b7(0x21d));}}if(!await Ae(_0x1a7f8e))return _0x2a44a0[_0x58b8b7(0x1f8)](0x194)[_0x58b8b7(0x271)]('Instância\x20não\x20encontrada.');_0x2a44a0[_0x58b8b7(0x5f5)]('Content-Type',_0x58b8b7(0x780)),_0x2a44a0[_0x58b8b7(0x5f5)](_0x58b8b7(0x3f1),_0x58b8b7(0x4d6)),_0x2a44a0[_0x58b8b7(0x5f5)](_0x58b8b7(0x669),_0x58b8b7(0x44b)),_0x2a44a0[_0x58b8b7(0x724)]();let _0x479901=_0x58b8b7(0x194)+JSON[_0x58b8b7(0x78e)]({'info':_0x58b8b7(0x713)})+'\x0a\x0a';_0x2a44a0[_0x58b8b7(0x7fe)](_0x479901),yo(_0x1a7f8e,_0x29ac63,_0x2a44a0,_0x1caefa),_0x46f909['on'](_0x58b8b7(0x3a6),()=>{const _0xcca935=_0x58b8b7;console[_0xcca935(0x5c6)](_0xcca935(0x54d)+_0x1a7f8e),bo(_0x1a7f8e,_0x29ac63);});}),xe[a0_0xd17613(0x738)]('/startFlow/:instance/:startID',async(_0x5897f2,_0x2aefd8)=>{const _0x2b487b=a0_0xd17613;console[_0x2b487b(0x5c6)](_0x2b487b(0x72a));let _0x5360df=_0x5897f2[_0x2b487b(0x41b)][_0x2b487b(0x5ef)],_0x29833d=_0x5897f2[_0x2b487b(0x41b)]['startID'],_0x6d772d=_0x5897f2[_0x2b487b(0x760)]['remoteJid']||'',_0x510210=_0x5897f2['body'];console[_0x2b487b(0x5c6)]('Instance\x20Name:',_0x5360df),console['log'](_0x2b487b(0x8a7),_0x29833d),console['log'](_0x2b487b(0x476),_0x6d772d),console[_0x2b487b(0x5c6)](_0x2b487b(0x3e8),_0x510210);try{if(!await Ae(_0x5360df))return _0x2aefd8[_0x2b487b(0x1f8)](0x194)[_0x2b487b(0x271)](_0x2b487b(0x296));let _0x307cc2=await I[_0x2b487b(0x4d5)](_0x5360df,_0x29833d,_0x6d772d,_0x510210);_0x2aefd8[_0x2b487b(0x271)](_0x307cc2);}catch(_0x97709d){console['error'](_0x97709d),_0x2aefd8[_0x2b487b(0x1f8)](0x1f4)[_0x2b487b(0x271)]('Erro\x20ao\x20iniciar\x20o\x20fluxo.');}}),xe['get'](a0_0xd17613(0x199),(_0x2665c1,_0x48b0e0)=>{let _0x353e42=So();_0x48b0e0['json'](_0x353e42);})['get']('/',(_0x528eae,_0x12e055)=>{const _0x181f23=a0_0xd17613;let _0x527e27=b['get']('SERVER')[_0x181f23(0x3b9)];if(_0x527e27){let _0x5666a0=encodeURIComponent(''+_0x527e27);_0x12e055['redirect'](_0x181f23(0x5b9)+_0x5666a0);return;}let _0x3d4b7a=b['get']('SSL_CONF'),_0xb82397=_0x3d4b7a&&_0x3d4b7a[_0x181f23(0x841)]['split']('/')[0x4];if(_0xb82397){let _0x3cb5a3=encodeURIComponent(_0x181f23(0x5a2)+_0xb82397);_0x12e055[_0x181f23(0x565)](_0x181f23(0x5b9)+_0x3cb5a3);}else _0x12e055[_0x181f23(0x565)]('https://uazapi-plugin.bubbleapps.io/');})['put']('/exit',...ae,async(_0x3ad359,_0x52a004)=>{const _0x3685a2=a0_0xd17613;try{console[_0x3685a2(0x5c6)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x52a004['status'](0xc8)[_0x3685a2(0x611)]({'message':_0x3685a2(0x67a)}),_0x52a004['on'](_0x3685a2(0x89e),()=>process[_0x3685a2(0x205)](0x0));}catch(_0x1bf605){console[_0x3685a2(0x37f)]('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x1bf605),_0x52a004[_0x3685a2(0x1f8)](0x1f4)[_0x3685a2(0x611)]({'message':_0x3685a2(0x674)});}})[a0_0xd17613(0x850)](a0_0xd17613(0x571),...ae,async(_0x365be1,_0x2149fa)=>{const _0x3e6c9b=a0_0xd17613;try{let _0x346799=_0x365be1[_0x3e6c9b(0x8c2)];await Ce[_0x3e6c9b(0x8ae)]({},{'$set':_0x346799},{'upsert':!0x0});let _0x43062b=await Ce[_0x3e6c9b(0x86d)]();_0x2149fa[_0x3e6c9b(0x611)](_0x43062b);}catch(_0x2eceaf){_0x2149fa[_0x3e6c9b(0x1f8)](0x190)[_0x3e6c9b(0x271)](_0x2eceaf[_0x3e6c9b(0x6e8)]);}})[a0_0xd17613(0x8bc)](a0_0xd17613(0x571),...ae,async(_0xc01476,_0x4ce85c)=>{const _0x4297cc=a0_0xd17613;try{let _0x21ef9b=await Ce[_0x4297cc(0x86d)]();if(!_0x21ef9b)return _0x4ce85c[_0x4297cc(0x611)]({});_0x4ce85c[_0x4297cc(0x611)](_0x21ef9b);}catch(_0x4e3ca1){_0x4ce85c[_0x4297cc(0x1f8)](0x1f4)[_0x4297cc(0x271)](_0x4e3ca1['message']);}})[a0_0xd17613(0x7ba)](a0_0xd17613(0x56f),new yt(b,...ae)[a0_0xd17613(0x776)])['use'](a0_0xd17613(0x245),new Tt(...ae)[a0_0xd17613(0x776)])[a0_0xd17613(0x7ba)](a0_0xd17613(0x2e4),new ct(...ae)[a0_0xd17613(0x776)])[a0_0xd17613(0x7ba)](a0_0xd17613(0x535),new wt(...ae)[a0_0xd17613(0x776)])['use']('/webhook',new Ot(...ae)['router'])[a0_0xd17613(0x7ba)](a0_0xd17613(0x871),new _t(...ae)[a0_0xd17613(0x776)]);var m=class{constructor(..._0x546eb9){const _0x1d72cf=a0_0xd17613;throw{'status':0x190,'error':_0x1d72cf(0x874),'message':_0x546eb9['length']>0x0?_0x546eb9:void 0x0};}},se=class{constructor(..._0x2c1796){const _0x42016c=a0_0xd17613;throw{'status':0x191,'error':_0x42016c(0x772),'message':_0x2c1796[_0x42016c(0x4ba)]>0x0?_0x2c1796:void 0x0};}},K=class{constructor(..._0x519554){const _0x2d9984=a0_0xd17613;throw{'status':0x193,'error':_0x2d9984(0x349),'message':_0x519554[_0x2d9984(0x4ba)]>0x0?_0x519554:void 0x0};}},j=class{constructor(..._0x346726){const _0x3fd5da=a0_0xd17613;throw{'status':0x194,'error':'Not\x20Found','message':_0x346726[_0x3fd5da(0x4ba)]>0x0?_0x346726:void 0x0};}},_=class{constructor(..._0x101f6f){const _0x49c5fa=a0_0xd17613;throw{'status':0x1f4,'error':_0x49c5fa(0x447),'message':_0x101f6f[_0x49c5fa(0x4ba)]>0x0?_0x101f6f:void 0x0};}},ge=require(a0_0xd17613(0x604));async function Os(_0x5f14cb){const _0x341d16=a0_0xd17613;let _0x109454=new $(Os[_0x341d16(0x4f2)]),_0x4aa9d9=R[_0x341d16(0x5b6)](),_0x3fe5cb=_0x4aa9d9['db'](b[_0x341d16(0x8bc)]('DATABASE')[_0x341d16(0x8a4)][_0x341d16(0x659)]+_0x341d16(0x876))['collection'](_0x5f14cb),_0x4fe25e=async(_0x15b38a,_0x29089b)=>{const _0x50c403=_0x341d16;try{return await _0x4aa9d9[_0x50c403(0x6af)](),await _0x3fe5cb[_0x50c403(0x19e)]({'_id':_0x29089b},JSON[_0x50c403(0x5ac)](JSON[_0x50c403(0x78e)](_0x15b38a,ge[_0x50c403(0x39e)]['replacer'])),{'upsert':!0x0});}catch{}},_0x24223f=async _0x1b162f=>{const _0x13424b=_0x341d16;try{await _0x4aa9d9[_0x13424b(0x6af)]();let _0x49f428=await _0x3fe5cb[_0x13424b(0x86d)]({'_id':_0x1b162f}),_0x156fa6=JSON[_0x13424b(0x78e)](_0x49f428);return JSON[_0x13424b(0x5ac)](_0x156fa6,ge[_0x13424b(0x39e)][_0x13424b(0x435)]);}catch{}},_0x133529=async _0x1095c7=>{const _0x82fb52=_0x341d16;try{return await _0x4aa9d9['connect'](),await _0x3fe5cb[_0x82fb52(0x47a)]({'_id':_0x1095c7});}catch{}},_0x398c9d=await _0x24223f('creds')||(0x0,ge[_0x341d16(0x1a7)])();return{'state':{'creds':_0x398c9d,'keys':{'get':async(_0x4fdeec,_0x2fe10a)=>{const _0x1ffab2=_0x341d16;let _0x381838={};return await Promise[_0x1ffab2(0x23c)](_0x2fe10a['map'](async _0xebcd4a=>{const _0x431630=_0x1ffab2;let _0x1b3658=await _0x24223f(_0x4fdeec+'-'+_0xebcd4a);_0x4fdeec===_0x431630(0x6f7)&&_0x1b3658&&(_0x1b3658=ge['proto']['Message'][_0x431630(0x7e4)]['fromObject'](_0x1b3658)),_0x381838[_0xebcd4a]=_0x1b3658;})),_0x381838;},'set':async _0x2b9f0e=>{const _0x3727a9=_0x341d16;let _0x35f508=[];for(let _0x50c269 in _0x2b9f0e)for(let _0x2dbca3 in _0x2b9f0e[_0x50c269]){let _0x220dcb=_0x2b9f0e[_0x50c269][_0x2dbca3],_0x19fb2a=_0x50c269+'-'+_0x2dbca3;_0x35f508[_0x3727a9(0x668)](_0x220dcb?_0x4fe25e(_0x220dcb,_0x19fb2a):_0x133529(_0x19fb2a));}await Promise[_0x3727a9(0x23c)](_0x35f508);}}},'saveCreds':async()=>_0x4fe25e(_0x398c9d,_0x341d16(0x2af))};}var ks=A(require(a0_0xd17613(0x255))),Ls=A(require('node-cache')),kt=require('@whiskeysockets/baileys'),Eo=require(a0_0xd17613(0x5b2)),Pt=require(a0_0xd17613(0x604)),Dt;function _i(_0x47ba30){const _0x297ac3=a0_0xd17613;return Dt||(Dt=(0x0,Eo[_0x297ac3(0x710)])({'url':_0x47ba30[_0x297ac3(0x2ce)]}),Dt[_0x297ac3(0x6af)]()),Dt;}var le=class l{constructor(_0x51c720,_0x276730){const _0x24bf2e=a0_0xd17613;this[_0x24bf2e(0x6e6)]=_0x51c720,this[_0x24bf2e(0x84b)]=_0x276730,this[_0x24bf2e(0x55f)]=new $(l[_0x24bf2e(0x4f2)]),this[_0x24bf2e(0x197)]=_i(_0x51c720);}set[a0_0xd17613(0x50c)](_0x1ed478){const _0x27e57d=a0_0xd17613;this[_0x27e57d(0x84b)]=_0x1ed478;}async[a0_0xd17613(0x483)](){const _0x386229=a0_0xd17613;try{return await this[_0x386229(0x197)][_0x386229(0x55b)](['keys',this[_0x386229(0x6e6)][_0x386229(0x675)]+':*']);}catch(_0x37af4d){this[_0x386229(0x55f)]['error'](_0x37af4d);}}async[a0_0xd17613(0x5f3)](_0x3b4294,_0x6d794a){const _0x24b11f=a0_0xd17613;try{let _0x256fc7=JSON[_0x24b11f(0x78e)](_0x6d794a,Pt[_0x24b11f(0x39e)][_0x24b11f(0x6f0)]);return await this[_0x24b11f(0x197)][_0x24b11f(0x878)](this[_0x24b11f(0x6e6)][_0x24b11f(0x675)]+':'+this['instanceName'],_0x3b4294,_0x256fc7);}catch(_0x4108d5){this[_0x24b11f(0x55f)][_0x24b11f(0x37f)](_0x4108d5);}}async[a0_0xd17613(0x41e)](){const _0x101cdc=a0_0xd17613;try{let _0x28477c=await this[_0x101cdc(0x197)][_0x101cdc(0x224)](this[_0x101cdc(0x6e6)][_0x101cdc(0x675)]+':'+this[_0x101cdc(0x84b)]);if(_0x28477c){for(let _0x574633 in _0x28477c)Object['prototype'][_0x101cdc(0x3f2)][_0x101cdc(0x4f3)](_0x28477c,_0x574633)&&(_0x28477c[_0x574633]=JSON[_0x101cdc(0x5ac)](_0x28477c[_0x574633],Pt[_0x101cdc(0x39e)][_0x101cdc(0x435)]));return _0x28477c;}}catch(_0x356757){this[_0x101cdc(0x55f)][_0x101cdc(0x37f)](_0x356757);}}async[a0_0xd17613(0x642)](_0x1140ba){const _0x1a1f05=a0_0xd17613;try{let _0x23cb5f=await this['client'][_0x1a1f05(0x4e0)](this[_0x1a1f05(0x6e6)][_0x1a1f05(0x675)]+':'+this[_0x1a1f05(0x84b)],_0x1140ba);if(_0x23cb5f)return JSON[_0x1a1f05(0x5ac)](_0x23cb5f,Pt[_0x1a1f05(0x39e)]['reviver']);}catch(_0xba0782){this[_0x1a1f05(0x55f)][_0x1a1f05(0x37f)](_0xba0782);}}async[a0_0xd17613(0x7fc)](_0x1ef92e){const _0x3f3a8b=a0_0xd17613;try{return await this[_0x3f3a8b(0x197)][_0x3f3a8b(0x27e)](this[_0x3f3a8b(0x6e6)][_0x3f3a8b(0x675)]+':'+this['instanceName'],_0x1ef92e);}catch(_0x1de9fe){this['logger'][_0x3f3a8b(0x37f)](_0x1de9fe);}}async[a0_0xd17613(0x209)](_0x6c6ee){const _0x20caa1=a0_0xd17613;try{return await this[_0x20caa1(0x197)][_0x20caa1(0x714)](_0x6c6ee||this[_0x20caa1(0x6e6)][_0x20caa1(0x675)]+':'+this[_0x20caa1(0x84b)]);}catch(_0x505ea7){this[_0x20caa1(0x55f)][_0x20caa1(0x37f)](_0x505ea7);}}};async function _s(_0x5a9ca5,_0x367eb6){const _0x586c5b=a0_0xd17613;let _0x27e02f=new $(_s[_0x586c5b(0x4f2)]),_0xf6d4d2=new le(_0x5a9ca5,_0x367eb6),_0x2462ab=async(_0x3a3d2a,_0x218e15)=>{const _0x3b4134=_0x586c5b;try{return await _0xf6d4d2[_0x3b4134(0x5f3)](_0x218e15,_0x3a3d2a);}catch(_0x413680){return _0x27e02f[_0x3b4134(0x37f)]({'localError':_0x3b4134(0x5f3),'error':_0x413680});}},_0x1de712=async _0xbb0b8f=>{const _0x1f2f25=_0x586c5b;try{return await _0xf6d4d2[_0x1f2f25(0x642)](_0xbb0b8f);}catch(_0x3096cf){_0x27e02f['error']({'readData':_0x1f2f25(0x5f3),'error':_0x3096cf});return;}},_0x23f150=async _0x4cde56=>{const _0x40ac25=_0x586c5b;try{return await _0xf6d4d2[_0x40ac25(0x7fc)](_0x4cde56);}catch(_0x1d952b){_0x27e02f['error']({'readData':_0x40ac25(0x7fc),'error':_0x1d952b});}},_0x390e56=await _0x1de712('creds')||(0x0,kt[_0x586c5b(0x1a7)])();return{'state':{'creds':_0x390e56,'keys':{'get':async(_0x71f8a9,_0x508bbb)=>{const _0x2da0c7=_0x586c5b;let _0x597157={};return await Promise[_0x2da0c7(0x23c)](_0x508bbb['map'](async _0x28c048=>{const _0x4f7506=_0x2da0c7;let _0x533a23=await _0x1de712(_0x71f8a9+'-'+_0x28c048);_0x71f8a9===_0x4f7506(0x6f7)&&_0x533a23&&(_0x533a23=kt['proto']['Message'][_0x4f7506(0x7e4)]['fromObject'](_0x533a23)),_0x597157[_0x28c048]=_0x533a23;})),_0x597157;},'set':async _0x1612e5=>{const _0x10cb11=_0x586c5b;let _0x2b31be=[];for(let _0x4adb57 in _0x1612e5)for(let _0x3fe182 in _0x1612e5[_0x4adb57]){let _0x1e7171=_0x1612e5[_0x4adb57][_0x3fe182],_0x486889=_0x4adb57+'-'+_0x3fe182;_0x2b31be[_0x10cb11(0x668)](_0x1e7171?await _0x2462ab(_0x1e7171,_0x486889):await _0x23f150(_0x486889));}await Promise['all'](_0x2b31be);}}},'saveCreds':async()=>await _0x2462ab(_0x390e56,'creds')};}var k=A(require('fs')),me=require(a0_0xd17613(0x630)),Jt=A(require(a0_0xd17613(0x5a7))),qt=require(a0_0xd17613(0x3d1)),vo=require(a0_0xd17613(0x473)),No=require(a0_0xd17613(0x1ee)),$o=A(require('axios')),Ee=class extends O{constructor(_0x3b1737,_0xa828e5,_0x1e5ad8){const _0x308cd1=a0_0xd17613;super(_0xa828e5),this[_0x308cd1(0x27d)]=_0x3b1737,this[_0x308cd1(0x3ea)]=_0xa828e5,this['dbConnection']=_0x1e5ad8;}async['createOrUpdate'](_0x59b184,_0x5ec379){const _0x265dbe=a0_0xd17613;try{if(this[_0x265dbe(0x54f)][_0x265dbe(0x2e1)]){console[_0x265dbe(0x5c6)]('Creating\x20or\x20updating\x20instance\x20with\x20id:\x20'+_0x5ec379+'\x20and\x20data:',_0x59b184);let _0x84914=await this[_0x265dbe(0x27d)]['findOneAndUpdate']({'_id':_0x5ec379},{'$set':_0x59b184},{'new':!0x0,'upsert':!0x0});return console[_0x265dbe(0x5c6)]('Database\x20update\x20result:',_0x84914),_0x84914;}}catch(_0x497fd3){throw console[_0x265dbe(0x37f)](_0x265dbe(0x3cb),_0x497fd3),_0x497fd3;}return null;}async[a0_0xd17613(0x47a)](_0x1ad61d){const _0x1ea318=a0_0xd17613;try{let _0x3dcdbf=T(_0x1ad61d[_0x1ea318(0x29d)]);return{'deletedCount':(await this[_0x1ea318(0x27d)][_0x1ea318(0x47a)](_0x3dcdbf))[_0x1ea318(0x431)]};}catch(_0x154991){return{'error':_0x154991?.['toString']()};}}async[a0_0xd17613(0x86d)](_0x3437e5){const _0x39f7ce=a0_0xd17613;try{let _0x3adecb=T(_0x3437e5['where']);return await this[_0x39f7ce(0x27d)]['findOne'](_0x3adecb)[_0x39f7ce(0x73f)]();}catch{return null;}}},Lt=(0x0,No[a0_0xd17613(0x7d4)])(vo['exec']),xs=class{constructor(){const _0x39a7ed=a0_0xd17613;this[_0x39a7ed(0x289)]=new Ee(Be,b),(!this[_0x39a7ed(0x2de)]||!this['networkInterface'])&&this[_0x39a7ed(0x582)]()[_0x39a7ed(0x6ea)](()=>{const _0x444b00=_0x39a7ed;console['log'](_0x444b00(0x3fb)+this[_0x444b00(0x2de)]),console[_0x444b00(0x5c6)](_0x444b00(0x550)+this[_0x444b00(0x3a9)]);})[_0x39a7ed(0x1b7)](_0x4a9f38=>{const _0x2acdca=_0x39a7ed;console[_0x2acdca(0x37f)](_0x2acdca(0x305)+_0x4a9f38[_0x2acdca(0x6e8)]);});}async[a0_0xd17613(0x582)](){const _0x3e1587=a0_0xd17613;try{let {stdout:_0x1e7d89}=await Lt(_0x3e1587(0x5f7));console['log'](_0x3e1587(0x645)+_0x1e7d89);let _0x3f2f74=_0x1e7d89[_0x3e1587(0x37b)]('\x0a')[_0x3e1587(0x50f)](_0x15f921=>_0x15f921[_0x3e1587(0x37b)]('\x20')[0x0])[_0x3e1587(0x736)](_0x213a2a=>!_0x213a2a[_0x3e1587(0x831)]('lo')&&!_0x213a2a[_0x3e1587(0x831)](_0x3e1587(0x75a))&&!_0x213a2a[_0x3e1587(0x831)](_0x3e1587(0x352))&&!_0x213a2a['includes']('wl')&&!_0x213a2a['includes']('@'));if(console['log']('Filtered\x20network\x20interfaces:\x20'+_0x3f2f74),_0x3f2f74[_0x3e1587(0x4ba)]===0x0)throw new Error(_0x3e1587(0x516));this[_0x3e1587(0x3a9)]=_0x3f2f74[0x0];let {stdout:_0x4ee620}=await Lt(_0x3e1587(0x480)+this['networkInterface']);console[_0x3e1587(0x5c6)](_0x3e1587(0x6ab)+_0x4ee620);let _0xa99d69=_0x4ee620['split']('\x0a')[_0x3e1587(0x357)](_0x273378=>_0x273378['includes'](_0x3e1587(0x781))&&_0x273378[_0x3e1587(0x831)]('global'));if(!_0xa99d69)throw new Error(_0x3e1587(0x5d3));let _0x138f30=_0xa99d69[_0x3e1587(0x1b3)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x138f30)throw new Error(_0x3e1587(0x1eb));let [_0x46b6ea,_0x12b9f9,_0x1936f6]=_0x138f30,_0xf82899=Math[_0x3e1587(0x2a9)](Number(_0x1936f6)/0x10),_0x371247=Number(_0x1936f6)%0x10,_0x348c2a=_0x12b9f9[_0x3e1587(0x37b)](':')[_0x3e1587(0x592)](0x0,_0xf82899)[_0x3e1587(0x4c3)](':');if(_0x371247>0x0){let _0x2ed471=_0x12b9f9[_0x3e1587(0x37b)](':')[_0xf82899],_0x53b3b6=0xffff<<0x10-_0x371247&0xffff,_0x53b3d0=(parseInt(_0x2ed471,0x10)&_0x53b3b6)[_0x3e1587(0x883)](0x10)[_0x3e1587(0x59a)](0x4,'0');_0x348c2a+=':'+_0x53b3d0;}this[_0x3e1587(0x2de)]=_0x348c2a+':';}catch(_0x576d15){console[_0x3e1587(0x37f)](_0x3e1587(0x38e),_0x576d15);}}async['configureIPv6'](_0x585846){const _0x1fdef8=a0_0xd17613;let _0x50f010='ip\x20-6\x20addr\x20add\x20'+_0x585846+_0x1fdef8(0x2ac)+this[_0x1fdef8(0x3a9)];try{await Lt(_0x50f010),console[_0x1fdef8(0x5c6)](_0x1fdef8(0x3b1)+_0x585846);}catch(_0x5c068f){throw console[_0x1fdef8(0x37f)](_0x1fdef8(0x813)+_0x5c068f),new Error(_0x1fdef8(0x813)+_0x5c068f);}}async[a0_0xd17613(0x4b6)](_0x1110e2){const _0x164969=a0_0xd17613;let _0x5e1051=_0x164969(0x3ac)+_0x1110e2+_0x164969(0x2ac)+this[_0x164969(0x3a9)];try{await Lt(_0x5e1051),console[_0x164969(0x5c6)](_0x164969(0x39b)+_0x1110e2);}catch(_0x231feb){throw console['error'](_0x164969(0x7a3)+_0x231feb),new Error(_0x164969(0x7a3)+_0x231feb);}}[a0_0xd17613(0x702)](){const _0x2109bd=a0_0xd17613;return _0x2109bd(0x625)['replace'](/X/g,()=>'0123456789ABCDEF'[_0x2109bd(0x667)](Math['floor'](Math[_0x2109bd(0x23e)]()*0x10)));}[a0_0xd17613(0x430)](_0x1e11d8,_0x6352dd){const _0x1dc970=a0_0xd17613;let _0x3da8f1=_0x6352dd[_0x1dc970(0x37b)](':');return _0x3da8f1[0x0]=(parseInt(_0x3da8f1[0x0],0x10)^0x2)['toString'](0x10)[_0x1dc970(0x59a)](0x2,'0'),''+_0x1e11d8+_0x3da8f1[0x0]+_0x3da8f1[0x1]+':'+_0x3da8f1[0x2]+_0x1dc970(0x330)+_0x3da8f1[0x3]+':'+_0x3da8f1[0x4]+_0x3da8f1[0x5];}[a0_0xd17613(0x1da)](){const _0x410767=a0_0xd17613;let _0x3a5387=this['ipv6Prefix'];_0x3a5387[_0x410767(0x71e)](':')||(_0x3a5387+=':');let _0x5327bf=this[_0x410767(0x702)]();return this[_0x410767(0x430)](_0x3a5387,_0x5327bf);}[a0_0xd17613(0x419)](_0x1f4630){const _0x1efa39=a0_0xd17613;return new RegExp(_0x1efa39(0x83c))[_0x1efa39(0x5fa)](_0x1f4630);}async[a0_0xd17613(0x320)](_0x34efb9){const _0x24cdde=a0_0xd17613;let _0x21ca4d=[{'url':_0x24cdde(0x87e),'parse':_0x30b650=>_0x30b650['ip']},{'url':_0x24cdde(0x7f1),'parse':_0x177e7d=>_0x177e7d['ip']},{'url':'https://ifconfig.me/ip','parse':_0x1d01e8=>_0x1d01e8[_0x24cdde(0x3dd)]()},{'url':_0x24cdde(0x32e),'parse':_0x44bfe8=>_0x44bfe8[_0x24cdde(0x3dd)]()}],_0x4a390f=_0x21ca4d[Math['floor'](Math[_0x24cdde(0x23e)]()*_0x21ca4d[_0x24cdde(0x4ba)])];try{let _0x5b07f=await $o[_0x24cdde(0x6db)][_0x24cdde(0x8bc)](_0x4a390f['url'],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x34efb9}}),_0x5dec11=_0x4a390f['parse'](_0x5b07f['data']);return _0x5dec11[_0x24cdde(0x53e)]()===_0x34efb9[_0x24cdde(0x53e)]()?(console[_0x24cdde(0x5c6)](_0x24cdde(0x1d2)+_0x34efb9),!0x0):(console[_0x24cdde(0x37f)](_0x24cdde(0x43a)+_0x34efb9+',\x20received\x20'+_0x5dec11),!0x1);}catch(_0x2a68b9){return console[_0x24cdde(0x37f)](_0x24cdde(0x49d)+_0x4a390f[_0x24cdde(0x6fb)]+':\x20'+_0x2a68b9[_0x24cdde(0x6e8)]),!0x1;}}async['createIPv6'](_0x1687df,_0x4f37af){const _0x47e784=a0_0xd17613;if(!this[_0x47e784(0x2de)]||!this[_0x47e784(0x3a9)])return console[_0x47e784(0x37f)](_0x47e784(0x4e4)),null;let _0x1938da;do _0x1938da=this[_0x47e784(0x1da)](),console[_0x47e784(0x5c6)]('Generated\x20IPv6:\x20'+_0x1938da);while(!await this[_0x47e784(0x4cf)](_0x1938da));await this['configureIPv6'](_0x1938da),console[_0x47e784(0x5c6)](_0x47e784(0x385)+_0x1938da);let _0x4c4683={'_id':_0x1687df+'-'+_0x4f37af,'ip':_0x1938da},_0x5db502=await this[_0x47e784(0x289)]['createOrUpdate'](_0x4c4683,_0x4c4683[_0x47e784(0x19a)]);return console['log'](_0x47e784(0x795)+_0x5db502),_0x1938da;}async['isValidAndUniqueIPv6'](_0x12e42c){const _0x59b972=a0_0xd17613;return this['isValidIPv6Config'](_0x12e42c)?!await this[_0x59b972(0x289)]['findOne']({'where':{'ip':_0x12e42c}}):!0x1;}async[a0_0xd17613(0x3e5)](_0x1eefa2,_0x18fe8c){const _0xdb70a2=a0_0xd17613;let _0x12eae1=_0x1eefa2+'-'+_0x18fe8c,_0x512c8c=await this['cacheInstanceRepository']['findOne']({'where':{'_id':_0x12eae1}});_0x512c8c&&_0x512c8c['ip']&&(await this[_0xdb70a2(0x4b6)](_0x512c8c['ip']),await this['cacheInstanceRepository']['deleteOne']({'where':{'_id':_0x12eae1}}));}},xi=new xs(),De=xi,Fs=a0_0xd17613(0x794),Oo,ue=null,Oa=null,Di=0x3,Pi=null,Ro=b['get'](a0_0xd17613(0x299))[a0_0xd17613(0x44f)][a0_0xd17613(0x3f4)];async function ki(){const _0xe85b05=a0_0xd17613;let _0x3c5df0=await Ce[_0xe85b05(0x86d)]();ue=_0x3c5df0?.[_0xe85b05(0x510)]??null,Pi=_0x3c5df0?.[_0xe85b05(0x7e6)]??null,Fs=_0x3c5df0?.[_0xe85b05(0x803)]??_0xe85b05(0x794),Oo=_0x3c5df0?.[_0xe85b05(0x39a)]??oe??_0xe85b05(0x17d),console['log'](_0x3c5df0);}async function Li(){await ki();}Li();var Ft={},ve=class l{constructor(_0x215042,_0x68cf2e,_0x2c767e){const _0x4c33ec=a0_0xd17613;this[_0x4c33ec(0x3ea)]=_0x215042,this[_0x4c33ec(0x4e7)]=_0x68cf2e,this[_0x4c33ec(0x735)]=_0x2c767e,this[_0x4c33ec(0x3f3)]=null,this[_0x4c33ec(0x55f)]=new $(l[_0x4c33ec(0x4f2)]),this[_0x4c33ec(0x5ef)]={},this[_0x4c33ec(0x78d)]={},this[_0x4c33ec(0x6b9)]={'state':_0x4c33ec(0x3a6)},this[_0x4c33ec(0x1ba)]=(0x0,F[_0x4c33ec(0x4c3)])(ie,_0x4c33ec(0x4c1)),this[_0x4c33ec(0x7cf)]=new Ls['default'](),this[_0x4c33ec(0x4ff)]=new Ls[(_0x4c33ec(0x6db))](),this[_0x4c33ec(0x573)]=!0x1,this[_0x4c33ec(0x768)]={'status.instance':_0x4c33ec(0x658),'connection.update':_0x4c33ec(0x658),'qrcode.updated':'/wa-qrcode','messages.upsert':'/wa-message','send.message':_0x4c33ec(0x576),'messages.update':_0x4c33ec(0x20c),'group.upsert':_0x4c33ec(0x507),'group.update':_0x4c33ec(0x507),'group-participants.update':_0x4c33ec(0x507),'messages.set':_0x4c33ec(0x728),'contacts.set':_0x4c33ec(0x1bd),'contacts.upsert':_0x4c33ec(0x1bd),'contacts.update':_0x4c33ec(0x1bd),'presence.update':_0x4c33ec(0x5ee),'chats.set':_0x4c33ec(0x765),'chats.update':_0x4c33ec(0x765),'chats.upsert':'/wa-chats','chats.delete':_0x4c33ec(0x765)},this[_0x4c33ec(0x377)]=0x0,this[_0x4c33ec(0x244)]=[],this[_0x4c33ec(0x3e9)]=0xa,this['RECONNECT_TIME_FRAME']=0xea60,this[_0x4c33ec(0x857)]=!0x1,this['chatHandle']={'chats.upsert':async(_0x184caf,_0x55f8d5)=>{const _0x242085=_0x4c33ec;let _0x217aaf=[];for await(let _0x371bca of _0x184caf)_0x217aaf[_0x242085(0x668)]({'_id':_0x371bca['id'],'owner':this['instance'][_0x242085(0x222)],'group':_0x371bca['id'][_0x242085(0x71e)](_0x242085(0x325)),'name':_0x371bca[_0x242085(0x4f2)]||_0x371bca['displayName']||null,'contactname':null,'lastmsg':_0x371bca[_0x242085(0x8c5)]&&_0x371bca[_0x242085(0x8c5)]['toString']()[_0x242085(0x4ba)]<0xd?_0x371bca[_0x242085(0x8c5)]*0x3e8:_0x371bca[_0x242085(0x8c5)]||null,'archived':_0x371bca[_0x242085(0x418)]||!0x1,'unreadcount':_0x371bca['unreadCount']||0x0,'ephemeralExpiration':_0x371bca[_0x242085(0x55c)]||0x0});this[_0x242085(0x2d9)](_0x242085(0x68f),_0x217aaf);},'chats.update':async(_0x52c0ae,_0x85b0d6)=>{const _0x10e33c=_0x4c33ec;for(let _0x27889e of _0x52c0ae){let _0x470821={'_id':_0x27889e['id'],'owner':this[_0x10e33c(0x5ef)][_0x10e33c(0x222)],'archived':_0x27889e[_0x10e33c(0x418)],'muteEndTime':_0x27889e[_0x10e33c(0x4dc)],'ephemeralExpiration':_0x27889e[_0x10e33c(0x55c)]},_0x4603fe=!0x1,_0x4b8fe9={};_0x470821['archived']!=null&&(this[_0x10e33c(0x55f)][_0x10e33c(0x230)](this['instanceName']+'\x20('+this[_0x10e33c(0x5ef)][_0x10e33c(0x222)]+_0x10e33c(0x334)+_0x27889e['id']+_0x10e33c(0x6a9)+_0x27889e[_0x10e33c(0x418)]),_0x4603fe=!0x0,_0x4b8fe9[_0x10e33c(0x418)]=_0x27889e[_0x10e33c(0x418)]),_0x10e33c(0x4dc)in _0x27889e&&(this[_0x10e33c(0x55f)]['verbose'](this[_0x10e33c(0x84b)]+'\x20('+this[_0x10e33c(0x5ef)][_0x10e33c(0x222)]+_0x10e33c(0x39f)+_0x27889e['id']+'\x20:\x20'+(_0x27889e['muteEndTime']??'0')),_0x4603fe=!0x0,_0x4b8fe9[_0x10e33c(0x4dc)]=_0x27889e[_0x10e33c(0x4dc)]??0x0),'ephemeralExpiration'in _0x27889e&&(this['logger'][_0x10e33c(0x230)](this[_0x10e33c(0x84b)]+'\x20('+this['instance'][_0x10e33c(0x222)]+_0x10e33c(0x17f)+_0x27889e['id']+_0x10e33c(0x6a9)+(_0x27889e['ephemeralExpiration']!==void 0x0?_0x27889e[_0x10e33c(0x55c)]:_0x10e33c(0x2c7))),_0x4b8fe9[_0x10e33c(0x55c)]=_0x27889e[_0x10e33c(0x55c)]===null?0x0:_0x27889e[_0x10e33c(0x55c)],_0x4603fe=!0x0);let _0xd829e3;_0x4603fe&&(_0xd829e3=await this[_0x10e33c(0x735)]['chat'][_0x10e33c(0x8ae)]({'where':{'_id':_0x27889e['id']}},_0x4b8fe9,this[_0x10e33c(0x5ef)][_0x10e33c(0x222)])),_0xd829e3&&U(this[_0x10e33c(0x84b)],_0x10e33c(0x17c),{'chat':_0xd829e3});}},'chats.delete':async _0x1c2893=>{const _0xc47bc6=_0x4c33ec;for(let _0x892c6f of _0x1c2893)if(_0x892c6f[_0xc47bc6(0x71e)](_0xc47bc6(0x325))){await this[_0xc47bc6(0x735)][_0xc47bc6(0x33f)]['delete']({'where':{'_id':_0x892c6f}},this[_0xc47bc6(0x5ef)][_0xc47bc6(0x222)]);let _0x310cb9={'where':{'key':{'remoteJid':_0x892c6f}}};await this['repository'][_0xc47bc6(0x6e8)][_0xc47bc6(0x5b4)](_0x310cb9,this['instance'][_0xc47bc6(0x222)]);}else{await this[_0xc47bc6(0x735)][_0xc47bc6(0x33f)][_0xc47bc6(0x8ae)]({'where':{'_id':_0x892c6f}},{'lastmsg':0x0,'unreadcount':0x0},this[_0xc47bc6(0x5ef)][_0xc47bc6(0x222)]);let _0x42f50b={'where':{'key':{'remoteJid':_0x892c6f}}};await this[_0xc47bc6(0x735)][_0xc47bc6(0x6e8)][_0xc47bc6(0x5b4)](_0x42f50b,this[_0xc47bc6(0x5ef)][_0xc47bc6(0x222)]);}this[_0xc47bc6(0x2d9)](_0xc47bc6(0x22e),[..._0x1c2893]);}},this[_0x4c33ec(0x446)]={'contacts.upsert':async(_0x32069a,_0xc57878)=>{const _0x726d77=_0x4c33ec;let _0x59e2da=await this[_0x726d77(0x735)][_0x726d77(0x240)][_0x726d77(0x357)]({'where':{}},this[_0x726d77(0x5ef)][_0x726d77(0x222)]),_0x452fd5=[];for await(let _0x39c5ca of _0x32069a)_0x59e2da[_0x726d77(0x357)](_0x3f30d7=>_0x3f30d7[_0x726d77(0x19a)]===_0x39c5ca['id'])||_0x452fd5[_0x726d77(0x668)]({'_id':_0x39c5ca['id'],'pushName':_0x39c5ca?.['name']||_0x39c5ca?.[_0x726d77(0x7a9)],'owner':this[_0x726d77(0x5ef)][_0x726d77(0x222)]});this[_0x726d77(0x2d9)](_0x726d77(0x214),_0x452fd5),await this['repository'][_0x726d77(0x240)]['insert'](_0x452fd5);},'contacts.update':async(_0x3b3714,_0xd3f25e)=>{const _0x33841c=_0x4c33ec;let _0x1e5c08=[];for await(let _0x555ccc of _0x3b3714)_0x1e5c08[_0x33841c(0x668)]({'_id':_0x555ccc['id'],'pushName':_0x555ccc?.[_0x33841c(0x4f2)]??_0x555ccc?.[_0x33841c(0x7a9)],'owner':this[_0x33841c(0x5ef)][_0x33841c(0x222)]});this[_0x33841c(0x2d9)](_0x33841c(0x7b2),_0x1e5c08);}},this[_0x4c33ec(0x787)]={'messaging-history.set':async({messages:_0x465620,chats:_0x21cfb5,isLatest:_0x34987c},_0x388127)=>{const _0x44822e=_0x4c33ec;if(_0x34987c){let _0x31b1cb=await Promise[_0x44822e(0x23c)](_0x21cfb5[_0x44822e(0x50f)](async _0x500842=>({'_id':_0x500842['id'],'owner':this[_0x44822e(0x5ef)][_0x44822e(0x222)],'group':_0x500842['id'][_0x44822e(0x71e)](_0x44822e(0x325)),'name':_0x500842[_0x44822e(0x4f2)]||_0x500842[_0x44822e(0x6ac)]||_0x500842[_0x44822e(0x2b1)]||null,'contactname':null,'lastmsg':_0x500842['conversationTimestamp']&&_0x500842['conversationTimestamp']['toString']()[_0x44822e(0x4ba)]<0xd?_0x500842[_0x44822e(0x8c5)]*0x3e8:_0x500842[_0x44822e(0x8c5)]||null,'archived':_0x500842[_0x44822e(0x418)]||!0x1,'unreadcount':_0x500842['unreadCount']||0x0,'ephemeralExpiration':_0x500842[_0x44822e(0x55c)]||0x0,'muteEndTime':_0x500842[_0x44822e(0x4dc)]||0x0})));this[_0x44822e(0x2d9)]('chats.set',_0x31b1cb),await this['upsertChats'](_0x31b1cb,_0x388127);}let _0x54dbaf=[],_0x495c7e=Date[_0x44822e(0x81a)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x4dcd63]of Object[_0x44822e(0x748)](_0x465620)){if(_0x4dcd63[_0x44822e(0x6e8)]?.[_0x44822e(0x4b0)]||_0x4dcd63['message']?.[_0x44822e(0x49a)]||!_0x4dcd63[_0x44822e(0x6e8)]||_0x4dcd63['key'][_0x44822e(0x2dd)]===_0x44822e(0x4c6)||(ks['default'][_0x44822e(0x2ab)](_0x4dcd63?.[_0x44822e(0x4c8)])&&(_0x4dcd63[_0x44822e(0x4c8)]=_0x4dcd63['messageTimestamp']?.['toNumber']()),_0x4dcd63['messageTimestamp']&&_0x4dcd63[_0x44822e(0x4c8)][_0x44822e(0x883)]()[_0x44822e(0x4ba)]<0xd&&(_0x4dcd63[_0x44822e(0x4c8)]=_0x4dcd63[_0x44822e(0x4c8)]*0x3e8),_0x4dcd63['messageTimestamp']<_0x495c7e))continue;let _0xbc832=(0x0,w['normalizeMessageContent'])(_0x4dcd63[_0x44822e(0x6e8)]),_0x1b63c8=(0x0,w[_0x44822e(0x86e)])(_0xbc832),{message_normalized:_0x41a46e}=this['normalizeMessage'](_0xbc832,_0x1b63c8,null);Object[_0x44822e(0x6f6)](_0x41a46e)[_0x44822e(0x4ba)]>0x0&&_0x54dbaf['push']({'_id':_0x4dcd63[_0x44822e(0x212)]['id'],'key':_0x4dcd63[_0x44822e(0x212)],'pushName':_0x4dcd63['pushName'],'participant':_0x4dcd63[_0x44822e(0x79e)],'message':_0xbc832,'messageType':_0x1b63c8,'message_normalized':{'key':_0x4dcd63[_0x44822e(0x212)],'pushName':_0x4dcd63[_0x44822e(0x5aa)],'messageTimestamp':_0x4dcd63['messageTimestamp'],..._0x41a46e},'messageTimestamp':_0x4dcd63[_0x44822e(0x4c8)],'owner':this[_0x44822e(0x5ef)][_0x44822e(0x222)]});}_0x388127['ENABLED']&&_0x54dbaf['length']>0x0&&(this[_0x44822e(0x55f)][_0x44822e(0x230)](this[_0x44822e(0x84b)]+'\x20('+this[_0x44822e(0x5ef)][_0x44822e(0x222)]+'):\x20'+_0x54dbaf[_0x44822e(0x4ba)]+_0x44822e(0x58b)+this[_0x44822e(0x5ef)]['wuid']+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x44822e(0x735)]['message'][_0x44822e(0x37c)]([..._0x54dbaf],this[_0x44822e(0x5ef)][_0x44822e(0x222)])),this['sendDataWebhook']('messages.set',[..._0x54dbaf]),_0x465620=void 0x0;},'messages.upsert':async({messages:_0xe40f5c,type:_0x394234},_0x879a72)=>{const _0x8ec63d=_0x4c33ec;for(let _0x309a81 of _0xe40f5c){if(this[_0x8ec63d(0x78d)]?.['groups_ignore']&&_0x309a81[_0x8ec63d(0x212)][_0x8ec63d(0x2dd)][_0x8ec63d(0x831)]('@g.us')){this[_0x8ec63d(0x55f)][_0x8ec63d(0x230)](this[_0x8ec63d(0x84b)]+'\x20('+this[_0x8ec63d(0x5ef)][_0x8ec63d(0x222)]+_0x8ec63d(0x685));return;}if(_0x309a81[_0x8ec63d(0x4a1)]&&_0x309a81[_0x8ec63d(0x4a1)][0x0]===_0x8ec63d(0x477)){console['error'](_0x8ec63d(0x239)),Ft[_0x309a81[_0x8ec63d(0x212)]['id']]=_0x309a81,this[_0x8ec63d(0x79f)](_0x309a81,0x0);return;}if(Ft[_0x309a81['key']['id']]&&(console['error']('[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache'),delete Ft[_0x309a81[_0x8ec63d(0x212)]['id']]),_0x394234!=='notify'||!_0x309a81?.[_0x8ec63d(0x6e8)]||_0x309a81['message']?.[_0x8ec63d(0x4b0)]||_0x309a81['message'][_0x8ec63d(0x49a)]||_0x309a81[_0x8ec63d(0x212)]['remoteJid']==='status@broadcast')return;let _0x537474=null,_0x25b0f4=null;try{_0x537474=await this['processPollUpdateMessage'](_0x309a81),_0x25b0f4=_0x537474?_0x537474[_0x8ec63d(0x4c3)](','):null;}catch(_0x1120a5){this[_0x8ec63d(0x55f)][_0x8ec63d(0x230)](this['instanceName']+'\x20('+this[_0x8ec63d(0x5ef)][_0x8ec63d(0x222)]+'):\x20'+(_0x1120a5 instanceof Error?_0x1120a5[_0x8ec63d(0x6e8)]:JSON['stringify'](_0x1120a5,null,0x2))),_0x25b0f4=_0x8ec63d(0x7c5);}this['client']['sendPresenceUpdate']('unavailable'),ks[_0x8ec63d(0x6db)][_0x8ec63d(0x2ab)](_0x309a81[_0x8ec63d(0x4c8)])&&(_0x309a81[_0x8ec63d(0x4c8)]=_0x309a81[_0x8ec63d(0x4c8)]?.[_0x8ec63d(0x689)]()),_0x309a81[_0x8ec63d(0x4c8)]&&_0x309a81[_0x8ec63d(0x4c8)][_0x8ec63d(0x883)]()['length']<0xd&&(_0x309a81[_0x8ec63d(0x4c8)]=_0x309a81[_0x8ec63d(0x4c8)]*0x3e8);let _0x450138=_0x309a81[_0x8ec63d(0x6e8)],_0x5c0824=(0x0,w[_0x8ec63d(0x274)])(_0x450138),_0x4cdbe6=(0x0,w[_0x8ec63d(0x86e)])(_0x5c0824),{messageContent:_0x49b50e,message_normalized:_0x49c296}=this[_0x8ec63d(0x5e1)](_0x5c0824,_0x4cdbe6,_0x25b0f4);_0x4cdbe6===_0x8ec63d(0x4b0)&&_0x49b50e?.['editedMessage']&&(_0x4cdbe6=_0x8ec63d(0x54e));let _0x3509c8,_0x39b5a8=_0x309a81[_0x8ec63d(0x212)]['remoteJid'][_0x8ec63d(0x71e)](_0x8ec63d(0x325));if(_0x309a81[_0x8ec63d(0x212)][_0x8ec63d(0x2cc)])_0x3509c8=this['instance'][_0x8ec63d(0x6d0)];else{let _0x5421df=_0x39b5a8?_0x309a81['key'][_0x8ec63d(0x79e)]:_0x309a81[_0x8ec63d(0x212)]['remoteJid'];_0x3509c8=(await this[_0x8ec63d(0x3d2)](_0x5421df,_0x309a81['pushName'],!0x1))[_0x8ec63d(0x7ed)][_0x8ec63d(0x733)];}let _0x2f1979={'_id':_0x309a81[_0x8ec63d(0x212)]['id'],'key':_0x309a81[_0x8ec63d(0x212)],'isGroup':_0x39b5a8,'profilePictureUrl':_0x3509c8,'pushName':_0x309a81['pushName'],'message':_0x5c0824,'messageType':_0x4cdbe6,'message_normalized':{'key':_0x309a81[_0x8ec63d(0x212)],'pushName':_0x309a81[_0x8ec63d(0x5aa)],'messageTimestamp':_0x309a81[_0x8ec63d(0x4c8)],'source':(0x0,w[_0x8ec63d(0x4ea)])(_0x309a81[_0x8ec63d(0x212)]['id']),..._0x49c296},'messageTimestamp':_0x309a81[_0x8ec63d(0x4c8)],'owner':this[_0x8ec63d(0x5ef)][_0x8ec63d(0x222)],'source':(0x0,w[_0x8ec63d(0x4ea)])(_0x309a81[_0x8ec63d(0x212)]['id']),'expiration':_0x49b50e?.[_0x8ec63d(0x464)]?.[_0x8ec63d(0x5a8)]||0x0};_0x49b50e||(this[_0x8ec63d(0x55f)][_0x8ec63d(0x37f)](_0x8ec63d(0x27b)),this[_0x8ec63d(0x55f)]['error'](_0x2f1979)),this[_0x8ec63d(0x55f)][_0x8ec63d(0x5c6)](this[_0x8ec63d(0x84b)]+'\x20('+this['instance'][_0x8ec63d(0x222)]+_0x8ec63d(0x653)+(_0x2f1979[_0x8ec63d(0x212)]?.['fromMe']?_0x8ec63d(0x837):_0x8ec63d(0x383))+'\x20['+_0x2f1979[_0x8ec63d(0x212)]?.['remoteJid'][_0x8ec63d(0x523)]('@s.whatsapp.net','')+_0x8ec63d(0x663)+_0x2f1979[_0x8ec63d(0x2c0)]+')'),_0x2f1979[_0x8ec63d(0x583)]?.[_0x8ec63d(0x80f)]&&this[_0x8ec63d(0x55f)][_0x8ec63d(0x5c6)](_0x309a81[_0x8ec63d(0x212)]['id']+':\x20'+_0x2f1979['message_normalized']?.[_0x8ec63d(0x80f)]),await this[_0x8ec63d(0x735)][_0x8ec63d(0x6e8)][_0x8ec63d(0x37c)]([_0x2f1979],this['instance'][_0x8ec63d(0x222)]),this[_0x8ec63d(0x2d9)](_0x8ec63d(0x54a),_0x2f1979),U(this['instanceName'],_0x8ec63d(0x639),{'message':_0x2f1979}),_0x309a81[_0x8ec63d(0x212)]['remoteJid']!==_0x8ec63d(0x4c6)&&await this[_0x8ec63d(0x2c4)](_0x879a72,_0x2f1979,_0x8ec63d(0x875));}},'messages.update':async(_0x359407,_0x298a38)=>{const _0x46606b=_0x4c33ec;let _0x580bbc={0x0:_0x46606b(0x322),0x1:'PENDING',0x2:'SERVER_ACK',0x3:'DELIVERY_ACK',0x4:'READ',0x5:_0x46606b(0x443)};for await(let {key:_0x2c2c0b,update:_0x54e4a3}of _0x359407){if(this[_0x46606b(0x78d)]?.[_0x46606b(0x433)]&&_0x2c2c0b[_0x46606b(0x2dd)][_0x46606b(0x831)](_0x46606b(0x325))){this[_0x46606b(0x55f)]['verbose'](this[_0x46606b(0x84b)]+'\x20('+this[_0x46606b(0x5ef)][_0x46606b(0x222)]+'):\x20[messages.update]\x20group\x20ignored');return;}if(_0x2c2c0b['remoteJid']!==_0x46606b(0x4c6)){let _0x49e849=Date[_0x46606b(0x81a)](),_0x33edc5;_0x54e4a3[_0x46606b(0x6e8)]===null&&_0x54e4a3[_0x46606b(0x1f8)]===void 0x0?_0x33edc5=_0x46606b(0x1e9):_0x33edc5=_0x580bbc[_0x54e4a3[_0x46606b(0x1f8)]];let _0x1c2193=_0x2c2c0b[_0x46606b(0x2dd)][_0x46606b(0x523)](/:\d{1,2}@/g,'@'),_0xf4442b={..._0x2c2c0b,'remoteJid':_0x1c2193,'status':_0x33edc5,'datetime':_0x49e849,'owner':this['instance'][_0x46606b(0x222)]};this[_0x46606b(0x2d9)]('messages.update',_0xf4442b),await this[_0x46606b(0x87d)](_0x2c2c0b,_0xf4442b);}}},'labels.association':async({type:_0x3caa88,association:_0x31722c})=>{const _0x309f8e=_0x4c33ec;if(_0x31722c[_0x309f8e(0x519)]===_0x309f8e(0x384)){let _0x2d1513,_0x5199b6=0x0;for(;!_0x2d1513&&_0x5199b6<this[_0x309f8e(0x52b)];)_0x2d1513=await this[_0x309f8e(0x735)]['chat'][_0x309f8e(0x86d)]({'where':{'_id':_0x31722c['chatId']}},this[_0x309f8e(0x5ef)][_0x309f8e(0x222)]),_0x2d1513||(_0x5199b6++,this[_0x309f8e(0x55f)][_0x309f8e(0x40c)](this[_0x309f8e(0x84b)]+'\x20('+this['instance'][_0x309f8e(0x222)]+_0x309f8e(0x8b3)+_0x31722c[_0x309f8e(0x83a)]+_0x309f8e(0x3dc)+this[_0x309f8e(0x7f9)]+_0x309f8e(0x3c2)+_0x5199b6+'/'+this[_0x309f8e(0x52b)]+')'),await this['delayChatLabel'](this[_0x309f8e(0x7f9)]));if(!_0x2d1513){this[_0x309f8e(0x55f)]['error'](_0x309f8e(0x6dc)+_0x31722c[_0x309f8e(0x83a)]+_0x309f8e(0x411)+this['delayChatLabel_MAX_RETRIES']+_0x309f8e(0x72d));return;}switch(_0x3caa88){case _0x309f8e(0x36d):console[_0x309f8e(0x5c6)](_0x31722c),await this[_0x309f8e(0x735)][_0x309f8e(0x33f)][_0x309f8e(0x8ae)]({'where':{'_id':_0x31722c['chatId']}},{'leadInfo.etiquetas':_0x31722c[_0x309f8e(0x30e)]},this['instance'][_0x309f8e(0x222)],void 0x0,'$addToSet');break;case _0x309f8e(0x849):console[_0x309f8e(0x5c6)](_0x31722c),await this[_0x309f8e(0x735)][_0x309f8e(0x33f)]['updateOne']({'where':{'_id':_0x31722c['chatId']}},{'leadInfo.etiquetas':_0x31722c[_0x309f8e(0x30e)]},this[_0x309f8e(0x5ef)][_0x309f8e(0x222)],void 0x0,'$pull');break;default:this[_0x309f8e(0x55f)][_0x309f8e(0x37f)](_0x309f8e(0x3c7)+_0x3caa88+']');}}},'labels.edit':async _0xa658b0=>{const _0x39c2d8=_0x4c33ec;if(!_0xa658b0||!_0xa658b0['id']){this['logger'][_0x39c2d8(0x37f)](_0x39c2d8(0x7f5));return;}if(!_0xa658b0[_0x39c2d8(0x521)]){let _0xa534ac=['#ff9484',_0x39c2d8(0x261),_0x39c2d8(0x2d4),_0x39c2d8(0x2c1),'#9ab6c1','#56ccb4',_0x39c2d8(0x562),_0x39c2d8(0x4f7),_0x39c2d8(0x42d),'#d8e651','#01d0e2',_0x39c2d8(0x282),'#92ceac',_0x39c2d8(0x83e),'#00a1f2',_0x39c2d8(0x1df),_0x39c2d8(0x423),'#b4ebff',_0x39c2d8(0x37d),_0x39c2d8(0x3c8)],_0x1dfa62;typeof _0xa658b0[_0x39c2d8(0x5db)]==_0x39c2d8(0x5dc)&&_0xa658b0[_0x39c2d8(0x5db)]>=0x0&&_0xa658b0[_0x39c2d8(0x5db)]<_0xa534ac[_0x39c2d8(0x4ba)]?_0x1dfa62=_0xa534ac[_0xa658b0[_0x39c2d8(0x5db)]]:(this[_0x39c2d8(0x55f)][_0x39c2d8(0x37f)](_0x39c2d8(0x1e4)+_0xa658b0[_0x39c2d8(0x5db)]),_0x1dfa62=_0x39c2d8(0x46f));let _0x46452d={'_id':_0xa658b0['id'],'colorHex':_0x1dfa62,'color':_0xa658b0?.[_0x39c2d8(0x5db)],'name':_0xa658b0?.[_0x39c2d8(0x4f2)],'owner':this[_0x39c2d8(0x5ef)][_0x39c2d8(0x222)]};await this[_0x39c2d8(0x735)][_0x39c2d8(0x6cc)][_0x39c2d8(0x8ae)]({'where':{'_id':_0xa658b0['id']}},_0x46452d,this[_0x39c2d8(0x5ef)]['wuid']),this['logger']['info'](this[_0x39c2d8(0x84b)]+'\x20('+this['instance']['wuid']+'):\x20Rótulo\x20atualizado:\x20'+_0xa658b0);}_0xa658b0[_0x39c2d8(0x521)]&&(await this[_0x39c2d8(0x735)]['label'][_0x39c2d8(0x5b4)]({'where':{'_id':_0xa658b0['id']}},this['instance'][_0x39c2d8(0x222)]),this[_0x39c2d8(0x55f)][_0x39c2d8(0x40c)](_0x39c2d8(0x1c9)+_0xa658b0['id']));}},this[_0x4c33ec(0x580)]={'groups.upsert':async _0x3fcbdb=>{const _0x5ba6da=_0x4c33ec;this[_0x5ba6da(0x78d)]?.[_0x5ba6da(0x433)]||this['sendDataWebhook'](_0x5ba6da(0x676),_0x3fcbdb);for(let _0x5f12d1 of _0x3fcbdb)await this[_0x5ba6da(0x78a)](_0x5f12d1);},'groups.update':async _0x33db17=>{const _0x345a22=_0x4c33ec;this[_0x345a22(0x78d)]?.['groups_ignore']||this[_0x345a22(0x2d9)](_0x345a22(0x525),_0x33db17);for(let _0x4b5499 of _0x33db17)await this[_0x345a22(0x78a)](_0x4b5499);},'group-participants.update':async _0x36f979=>{const _0x5072f9=_0x4c33ec;this[_0x5072f9(0x78d)]?.[_0x5072f9(0x433)]||this['sendDataWebhook']('group-participants.update',_0x36f979),await this[_0x5072f9(0x632)](_0x36f979);}},this['delayChatLabel_MAX_RETRIES']=0x5,this[_0x4c33ec(0x7f9)]=0x1388,this[_0x4c33ec(0x740)]=async _0x11ee48=>{const _0xf54556=_0x4c33ec;if(_0x11ee48[_0xf54556(0x6e8)]?.[_0xf54556(0x484)]){let _0x5095f8=await this[_0xf54556(0x769)](_0x11ee48[_0xf54556(0x6e8)][_0xf54556(0x484)][_0xf54556(0x297)],!0x0);if(_0x5095f8){let _0x2465d6=_0x5095f8[_0xf54556(0x212)][_0xf54556(0x2cc)]?this[_0xf54556(0x5ef)][_0xf54556(0x222)]+'@s.whatsapp.net':_0x5095f8[_0xf54556(0x212)][_0xf54556(0x79e)]||_0x5095f8[_0xf54556(0x212)][_0xf54556(0x2dd)],_0x465890=_0x5095f8[_0xf54556(0x212)]['id'],_0xb1bead=_0x5095f8[_0xf54556(0x6e8)],_0xd25eed=Buffer[_0xf54556(0x310)](_0xb1bead['messageContextInfo'][_0xf54556(0x64f)][_0xf54556(0x883)](_0xf54556(0x3fd)),_0xf54556(0x3fd)),_0x29aa72=(0x0,w['decryptPollVote'])(_0x11ee48[_0xf54556(0x6e8)][_0xf54556(0x484)][_0xf54556(0x8b6)],{'pollCreatorJid':_0x2465d6,'pollMsgId':_0x465890,'pollEncKey':_0xd25eed,'voterJid':_0x11ee48[_0xf54556(0x212)][_0xf54556(0x2cc)]?this[_0xf54556(0x5ef)]['wuid']+_0xf54556(0x617):_0x11ee48[_0xf54556(0x212)][_0xf54556(0x2dd)][_0xf54556(0x71e)](_0xf54556(0x7f2))?_0x11ee48[_0xf54556(0x212)]['participant']:_0x11ee48[_0xf54556(0x212)]['remoteJid']}),_0x51e1f9=[],_0x4ad9ad=_0x29aa72[_0xf54556(0x5f2)][_0xf54556(0x50f)](_0x304d0e=>Buffer['from'](_0x304d0e)['toString'](_0xf54556(0x3fd)));for(let {optionName:_0x273086}of _0xb1bead['pollCreationMessage']?.[_0xf54556(0x55a)]||_0xb1bead[_0xf54556(0x840)]?.[_0xf54556(0x55a)]||_0xb1bead[_0xf54556(0x553)]?.[_0xf54556(0x55a)])_0x4ad9ad['indexOf']((0x0,w['sha256'])(Buffer['from'](_0x273086))['toString'](_0xf54556(0x3fd)))>-0x1&&_0x51e1f9[_0xf54556(0x668)](_0x273086);return _0x51e1f9;}}return null;},this[_0x4c33ec(0x5e1)]=(_0x3bb75c,_0x57a4bf,_0x39a88c)=>{const _0x41ab5d=_0x4c33ec;try{let _0x143026=_0x3bb75c?(0x0,w[_0x41ab5d(0x273)])(_0x3bb75c)[_0x57a4bf]:void 0x0,_0x5dffe0={},_0x299019=null,_0x1834b4=null,_0x58cab5=null;_0x57a4bf===_0x41ab5d(0x4b0)&&_0x143026?.[_0x41ab5d(0x54e)]&&(_0x57a4bf=(0x0,w[_0x41ab5d(0x86e)])(_0x143026[_0x41ab5d(0x54e)]),_0x299019=_0x3bb75c[_0x41ab5d(0x4b0)][_0x41ab5d(0x212)]['id'],_0x143026=_0x3bb75c[_0x41ab5d(0x4b0)][_0x41ab5d(0x54e)][_0x57a4bf]),_0x3bb75c[_0x57a4bf]?.[_0x41ab5d(0x464)]?.['stanzaId']&&_0x3bb75c[_0x57a4bf]?.[_0x41ab5d(0x464)]?.['quotedMessage']&&(_0x1834b4=_0x3bb75c[_0x57a4bf]['contextInfo'][_0x41ab5d(0x456)]),_0x3bb75c[_0x41ab5d(0x53b)]&&(_0x58cab5=_0x3bb75c[_0x41ab5d(0x53b)][_0x41ab5d(0x212)]['id']);let _0x28872f;if(_0x143026&&typeof _0x143026=='object'&&_0x41ab5d(0x297)in _0x143026&&({pollCreationMessageKey:_0x28872f}=_0x143026),_0x57a4bf===_0x41ab5d(0x318)||_0x57a4bf===_0x41ab5d(0x553)||_0x57a4bf===_0x41ab5d(0x840)){let _0x1a2474=_0x143026[_0x41ab5d(0x55a)][_0x41ab5d(0x50f)](_0x3f9ec6=>_0x3f9ec6['optionName'])[_0x41ab5d(0x4c3)]('|');_0x5dffe0['convertedOptions']=_0x1a2474;}let _0x355b72='';if(_0x143026&&(_0x355b72+=_0x143026[_0x41ab5d(0x4f2)]?_0x143026[_0x41ab5d(0x4f2)]:'',_0x355b72+=_0x143026['caption']?'\x20'+_0x143026[_0x41ab5d(0x1cb)]:'',_0x355b72+=_0x143026[_0x41ab5d(0x50e)]?'\x20'+_0x143026[_0x41ab5d(0x50e)]:'',_0x355b72+=_0x143026[_0x41ab5d(0x6ac)]?'\x20'+_0x143026[_0x41ab5d(0x6ac)]:''),_0x57a4bf===_0x41ab5d(0x311)){_0x355b72=(_0x143026[_0x41ab5d(0x30b)]||'')+'\x0a'+(_0x143026[_0x41ab5d(0x4ee)]||'')+'\x0a'+(_0x143026[_0x41ab5d(0x84a)]||'');let _0xc96142=this[_0x41ab5d(0x28b)](_0x143026[_0x41ab5d(0x814)]);_0x5dffe0['convertedOptions']=_0xc96142;}if(_0x57a4bf==='listResponseMessage'&&(_0x39a88c=_0x143026[_0x41ab5d(0x30b)]),_0x143026&&_0x143026['vcard']){let _0xe423e=this[_0x41ab5d(0x1f9)](JSON[_0x41ab5d(0x78e)](_0x143026[_0x41ab5d(0x677)],null,0x2));_0x355b72=_0x355b72+'\x0a'+_0xe423e;}if(_0x143026){let {sections:_0x348863,listType:_0x26606d,displayName:_0x4fec6f,vcard:_0x3d7343,contactVcard:_0x379410,name:_0x428279,caption:_0x281ecd,conversation:_0x290196,pollCreationMessageKey:_0x14c91e,footerText:_0x486725,contentText:_0x210172,pageCount:_0x1f687f,headerType:_0x51db73,isAvatar:_0xee6898,isAnimated:_0x2c06ee,fallbackLc:_0x54e5a4,fallbackLg:_0x1d6490,namespace:_0x1de439,elementName:_0x1fabdf,localizableParams:_0x5d18e2,viewOnce:_0x2e812e,height:_0x459071,width:_0x155907,key:_0x4f75fa,firstScanLength:_0x53a6f6,firstScanSidecar:_0x3d34e5,gifPlayback:_0x3471a1,gifAttribution:_0x4bbc27,midQualityFileSha256:_0x20edb2,scansSidecar:_0x3527ae,streamingSidecar:_0x1f8a56,thumbnailHeight:_0x4778b1,thumbnailWidth:_0x2f7955,thumbnailEncSha256:_0x1359fe,thumbnailDirectPath:_0x4d1ea9,canonicalUrl:_0x2e94a1,matchedText:_0x5b3c7a,previewType:_0x3a6b97,thumbnailSha256:_0x30e769,deviceListMetadataVersion:_0x4f6596,inviteLinkGroupTypeV2:_0x534f4a,interactiveAnnotations:_0x6e0542,scanLengths:_0x3988a8,jpegThumbnail:_0x3b1e78,url:_0x1af017,mediaKeyTimestamp:_0x3f0701,waveform:_0x177ad1,stickerSentTs:_0x42acae,firstFrameLength:_0x40f0e7,fileEncSha256:_0x5bcae7,contextInfo:_0x980e0d,firstFrameSidecar:_0x5a25bb,directPath:_0x4a5e5e,fileSha256:_0x47d243,mediaKey:_0x53aa58,senderTimestampMs:_0x1c6caf,..._0x5ec9f9}=_0x143026;(_0x57a4bf==='listMessage'||_0x57a4bf===_0x41ab5d(0x887))&&(delete _0x5ec9f9[_0x41ab5d(0x30b)],delete _0x5ec9f9['description']),typeof _0x143026==_0x41ab5d(0x693)?_0x5dffe0={'text':_0x143026,'type':_0x57a4bf||'conversation',..._0x299019&&{'edited':_0x299019},..._0x1834b4&&{'quoted':_0x1834b4},..._0x58cab5&&{'reaction':_0x58cab5}}:_0x5dffe0={'text':_0x355b72,..._0x5ec9f9,..._0x57a4bf===_0x41ab5d(0x484)?{'poll_id':_0x143026[_0x41ab5d(0x297)]['id'],'quoted':_0x143026['pollCreationMessageKey']['id'],'vote':_0x39a88c}:{},..._0x57a4bf===_0x41ab5d(0x887)?{'vote':_0x39a88c}:{},'type':_0x57a4bf,..._0x299019&&{'edited':_0x299019},..._0x1834b4&&{'quoted':_0x1834b4},..._0x58cab5&&{'reaction':_0x58cab5},...(_0x57a4bf===_0x41ab5d(0x318)||_0x57a4bf===_0x41ab5d(0x553)||_0x57a4bf==='pollCreationMessageV3'||_0x57a4bf===_0x41ab5d(0x311))&&{'convertedOptions':_0x5dffe0[_0x41ab5d(0x4a2)]}};}return{'messageType':_0x57a4bf,'messageContent':_0x143026,'message_normalized':_0x5dffe0};}catch(_0x5381b5){return this[_0x41ab5d(0x55f)]['error'](_0x41ab5d(0x6cf)+_0x5381b5),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x4c33ec(0x536)](),this['instance'][_0x4c33ec(0x203)]={'count':0x0},this[_0x4c33ec(0x5ef)][_0x4c33ec(0x29a)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0xd17613(0x84b)](_0x500d11){const _0x2fa3a0=a0_0xd17613;if(!_0x500d11){this[_0x2fa3a0(0x5ef)][_0x2fa3a0(0x4f2)]=(0x0,Ao['v4'])();return;}this[_0x2fa3a0(0x5ef)][_0x2fa3a0(0x4f2)]=_0x500d11,this[_0x2fa3a0(0x2d9)](_0x2fa3a0(0x30f),{'instance':this[_0x2fa3a0(0x5ef)]['name'],'status':_0x2fa3a0(0x4c9)});}get[a0_0xd17613(0x84b)](){const _0x5dc665=a0_0xd17613;return this[_0x5dc665(0x5ef)][_0x5dc665(0x4f2)];}get[a0_0xd17613(0x222)](){const _0xd434f0=a0_0xd17613;return this[_0xd434f0(0x5ef)][_0xd434f0(0x222)];}async[a0_0xd17613(0x68a)](){const _0xb1393e=a0_0xd17613;let _0x215a5d=this[_0xb1393e(0x197)][_0xb1393e(0x361)]?.[_0xb1393e(0x4f2)]??this[_0xb1393e(0x197)][_0xb1393e(0x361)]?.[_0xb1393e(0x7a9)];if(!_0x215a5d){if(this[_0xb1393e(0x3ea)][_0xb1393e(0x8bc)](_0xb1393e(0x347))[_0xb1393e(0x2e1)]){let _0x488146=await R[_0xb1393e(0x5b6)]()['db'](this[_0xb1393e(0x3ea)][_0xb1393e(0x8bc)](_0xb1393e(0x347))[_0xb1393e(0x8a4)][_0xb1393e(0x659)]+_0xb1393e(0x876))[_0xb1393e(0x202)](this[_0xb1393e(0x84b)])[_0xb1393e(0x86d)]({'_id':'creds'});if(_0x488146){let _0x47b2bc=JSON['parse'](JSON[_0xb1393e(0x78e)](_0x488146),w['BufferJSON']['reviver']);_0x215a5d=_0x47b2bc['me']?.[_0xb1393e(0x4f2)]||_0x47b2bc['me']?.[_0xb1393e(0x7a9)];}}else{if((0x0,Pe[_0xb1393e(0x36a)])((0x0,F[_0xb1393e(0x4c3)])(be,this[_0xb1393e(0x84b)],_0xb1393e(0x284)))){let _0x438d38=JSON['parse']((0x0,Pe[_0xb1393e(0x1a5)])((0x0,F[_0xb1393e(0x4c3)])(be,this[_0xb1393e(0x84b)],_0xb1393e(0x284)),{'encoding':_0xb1393e(0x1a6)}));_0x215a5d=_0x438d38['me']?.['name']||_0x438d38['me']?.['verifiedName'];}}}return _0x215a5d;}get[a0_0xd17613(0x6d0)](){const _0x3250e1=a0_0xd17613;return this['instance'][_0x3250e1(0x6d0)];}get['qrCode'](){const _0x2fc024=a0_0xd17613;return this['instance']['qrcode']?.[_0x2fc024(0x607)]?{'pairingCode':this[_0x2fc024(0x5ef)][_0x2fc024(0x203)]?.[_0x2fc024(0x607)]}:{'code':this[_0x2fc024(0x5ef)]['qrcode']?.['code'],'base64':this[_0x2fc024(0x5ef)]['qrcode']?.[_0x2fc024(0x2a1)]};}async[a0_0xd17613(0x6bf)](){const _0x43e9a8=a0_0xd17613;let _0x4b815a=await this[_0x43e9a8(0x735)][_0x43e9a8(0x4f4)][_0x43e9a8(0x357)](this[_0x43e9a8(0x84b)]);this['localWebhook']['url']=_0x4b815a?.['url'],this['localWebhook'][_0x43e9a8(0x67d)]=_0x4b815a?.['enabled'],this[_0x43e9a8(0x78d)][_0x43e9a8(0x413)]=_0x4b815a?.[_0x43e9a8(0x413)],this[_0x43e9a8(0x78d)]['STATUS_INSTANCE']=_0x4b815a?.[_0x43e9a8(0x19d)],this[_0x43e9a8(0x78d)][_0x43e9a8(0x8c6)]=_0x4b815a?.[_0x43e9a8(0x8c6)],this['localWebhook'][_0x43e9a8(0x82d)]=_0x4b815a?.['SEND_MESSAGE'],this[_0x43e9a8(0x78d)][_0x43e9a8(0x875)]=_0x4b815a?.[_0x43e9a8(0x875)],this['localWebhook'][_0x43e9a8(0x2e0)]=_0x4b815a?.[_0x43e9a8(0x2e0)],this[_0x43e9a8(0x78d)]['GROUPS_UPSERT']=_0x4b815a?.[_0x43e9a8(0x5d9)],this[_0x43e9a8(0x78d)][_0x43e9a8(0x72f)]=_0x4b815a?.['GROUPS_UPDATE'],this[_0x43e9a8(0x78d)][_0x43e9a8(0x644)]=_0x4b815a?.[_0x43e9a8(0x644)],this[_0x43e9a8(0x78d)][_0x43e9a8(0x62e)]=_0x4b815a?.['CHATS_SET'],this[_0x43e9a8(0x78d)][_0x43e9a8(0x323)]=_0x4b815a?.['CHATS_UPSERT'],this['localWebhook']['CHATS_UPDATE']=_0x4b815a?.['CHATS_UPDATE'],this[_0x43e9a8(0x78d)][_0x43e9a8(0x1b1)]=_0x4b815a?.[_0x43e9a8(0x1b1)],this['localWebhook'][_0x43e9a8(0x4f1)]=_0x4b815a?.['CONTACTS_SET'],this[_0x43e9a8(0x78d)][_0x43e9a8(0x68c)]=_0x4b815a?.[_0x43e9a8(0x68c)],this[_0x43e9a8(0x78d)][_0x43e9a8(0x272)]=_0x4b815a?.[_0x43e9a8(0x272)],this[_0x43e9a8(0x78d)][_0x43e9a8(0x779)]=_0x4b815a?.[_0x43e9a8(0x779)],this[_0x43e9a8(0x78d)][_0x43e9a8(0x398)]=_0x4b815a?.[_0x43e9a8(0x398)],this[_0x43e9a8(0x78d)]['CONNECTION_UPDATE']=_0x4b815a?.[_0x43e9a8(0x191)],this[_0x43e9a8(0x78d)][_0x43e9a8(0x433)]=_0x4b815a?.[_0x43e9a8(0x433)];}async[a0_0xd17613(0x2f0)](_0x333a12){const _0x8efc66=a0_0xd17613;let _0x4e140d=[_0x8efc66(0x19a),_0x8efc66(0x6fb),_0x8efc66(0x67d),'local_map',_0x8efc66(0x19d),_0x8efc66(0x8c6),_0x8efc66(0x2e0),_0x8efc66(0x875),_0x8efc66(0x82d),_0x8efc66(0x5d9),_0x8efc66(0x72f),_0x8efc66(0x644),_0x8efc66(0x62e),_0x8efc66(0x323),_0x8efc66(0x490),_0x8efc66(0x1b1),_0x8efc66(0x4f1),_0x8efc66(0x68c),'CONTACTS_UPDATE','PRESENCE_UPDATE',_0x8efc66(0x398),'CONNECTION_UPDATE',_0x8efc66(0x433)],_0x51377e={};return _0x4e140d['forEach'](_0x908113=>{_0x333a12[_0x908113]!==void 0x0&&(_0x51377e[_0x908113]=_0x333a12[_0x908113]);}),_0x51377e[_0x8efc66(0x6fb)]&&(_0x51377e[_0x8efc66(0x6fb)]=_0x51377e[_0x8efc66(0x6fb)][_0x8efc66(0x3dd)]()),await this[_0x8efc66(0x735)][_0x8efc66(0x4f4)]['create'](_0x51377e,this[_0x8efc66(0x84b)]),Object[_0x8efc66(0x5d7)](this[_0x8efc66(0x78d)],_0x51377e),await this['repository'][_0x8efc66(0x4f4)][_0x8efc66(0x357)](this[_0x8efc66(0x84b)]);}async[a0_0xd17613(0x46e)](){const _0x2f6a2d=a0_0xd17613;return await this[_0x2f6a2d(0x735)][_0x2f6a2d(0x4f4)][_0x2f6a2d(0x357)](this[_0x2f6a2d(0x84b)]);}async[a0_0xd17613(0x2d9)](_0x364f80,_0x33e293){const _0x434d79=a0_0xd17613;let _0x3b523b=_0x364f80[_0x434d79(0x523)](/[\.-]/gm,'_')[_0x434d79(0x5ca)](),_0x5c5d83=this[_0x434d79(0x78d)]['enabled']&&(0x0,P[_0x434d79(0x195)])(this[_0x434d79(0x78d)][_0x434d79(0x6fb)])?this[_0x434d79(0x78d)][_0x434d79(0x6fb)]+(this[_0x434d79(0x78d)][_0x434d79(0x413)]?this['webhookMap'][_0x364f80]:''):null,_0xb6065a=this['localWebhook'][_0x3b523b],_0x11f516=ue&&ue['enabled']&&(0x0,P[_0x434d79(0x195)])(ue[_0x434d79(0x6fb)])?ue[_0x434d79(0x6fb)]+(ue[_0x434d79(0x413)]?this['webhookMap'][_0x364f80]:''):null,_0x19df99=ue?ue[_0x3b523b]:null;if(_0xb6065a&&_0x5c5d83)try{await Z[_0x434d79(0x6db)][_0x434d79(0x76e)]({'baseURL':_0x5c5d83})[_0x434d79(0x738)]('',{'event':_0x364f80,'instance':this[_0x434d79(0x5ef)]['name'],'apikey':this[_0x434d79(0x5ef)][_0x434d79(0x460)],'data':_0x33e293}),this['logger']['log'](this['instanceName']+'\x20('+this[_0x434d79(0x5ef)][_0x434d79(0x222)]+_0x434d79(0x895)+_0x364f80+':\x20'+_0x5c5d83);}catch{this[_0x434d79(0x55f)][_0x434d79(0x37f)](this[_0x434d79(0x84b)]+'\x20('+this[_0x434d79(0x5ef)][_0x434d79(0x222)]+_0x434d79(0x35b)+_0x364f80+':\x20'+_0x5c5d83);}if(_0x19df99&&_0x11f516)try{await Z[_0x434d79(0x6db)][_0x434d79(0x76e)]({'baseURL':_0x11f516})['post']('',{'event':_0x364f80,'instance':this[_0x434d79(0x5ef)][_0x434d79(0x4f2)],'apikey':this[_0x434d79(0x5ef)][_0x434d79(0x460)],'data':_0x33e293}),this[_0x434d79(0x55f)][_0x434d79(0x5c6)](this[_0x434d79(0x84b)]+'\x20('+this['instance']['wuid']+_0x434d79(0x1ff)+_0x364f80+':\x20'+_0x11f516);}catch{this['logger'][_0x434d79(0x37f)](this[_0x434d79(0x84b)]+'\x20('+this[_0x434d79(0x5ef)][_0x434d79(0x222)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x364f80+':\x20'+_0x11f516);}}async['connectionUpdate']({qr:_0x396bdb,connection:_0x364e45,lastDisconnect:_0x27105c}){const _0x2cf250=a0_0xd17613;if(_0x396bdb){if(this['instance'][_0x2cf250(0x203)][_0x2cf250(0x341)]===Di)return this[_0x2cf250(0x2d9)](_0x2cf250(0x541),{'message':_0x2cf250(0x33e),'statusCode':w[_0x2cf250(0x513)][_0x2cf250(0x82b)]}),this['stateConnection']={'state':_0x2cf250(0x501),'statusReason':w[_0x2cf250(0x513)][_0x2cf250(0x8a3)]},this[_0x2cf250(0x2d9)]('connection.update',{'instance':this[_0x2cf250(0x5ef)][_0x2cf250(0x4f2)],...this[_0x2cf250(0x6b9)]}),this[_0x2cf250(0x2d9)](_0x2cf250(0x30f),{'instance':this[_0x2cf250(0x5ef)][_0x2cf250(0x4f2)],'status':_0x2cf250(0x547)}),this[_0x2cf250(0x735)][_0x2cf250(0x7b3)][_0x2cf250(0x5b4)](this[_0x2cf250(0x5ef)]['name']),this[_0x2cf250(0x573)]=!0x0,De[_0x2cf250(0x3e5)](oe,this[_0x2cf250(0x5ef)]['name']),this[_0x2cf250(0x4e7)][_0x2cf250(0x661)](_0x2cf250(0x21b),this['instance'][_0x2cf250(0x4f2)]);this[_0x2cf250(0x5ef)][_0x2cf250(0x203)][_0x2cf250(0x341)]++;let _0xcc2ffa={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x2cf250(0x3c1),'dark':_0x2cf250(0x46f)}};To[_0x2cf250(0x6db)]['toDataURL'](_0x396bdb,_0xcc2ffa,(_0x38beb1,_0x44e931)=>{const _0x500c28=_0x2cf250;if(_0x38beb1){this['logger']['error'](this[_0x500c28(0x84b)]+'\x20('+this[_0x500c28(0x5ef)][_0x500c28(0x222)]+_0x500c28(0x2ed)+(_0x38beb1 instanceof Error?_0x38beb1[_0x500c28(0x6e8)]:JSON[_0x500c28(0x78e)](_0x38beb1,null,0x2)));return;}this[_0x500c28(0x5ef)][_0x500c28(0x203)]['base64']=_0x44e931,this[_0x500c28(0x5ef)]['qrcode'][_0x500c28(0x717)]=_0x396bdb,!this['phoneNumber']&&this[_0x500c28(0x2d9)]('qrcode.updated',{'qrcode':{'instance':this[_0x500c28(0x5ef)][_0x500c28(0x4f2)],'pairingCode':this[_0x500c28(0x5ef)][_0x500c28(0x203)][_0x500c28(0x607)],'code':_0x396bdb,'base64':_0x44e931}});}),this[_0x2cf250(0x8c1)]?this[_0x2cf250(0x5ef)][_0x2cf250(0x203)][_0x2cf250(0x607)]||(await(0x0,w['delay'])(0x7d0),this[_0x2cf250(0x5ef)][_0x2cf250(0x203)][_0x2cf250(0x607)]=await this[_0x2cf250(0x197)][_0x2cf250(0x834)](this[_0x2cf250(0x8c1)])):this[_0x2cf250(0x5ef)][_0x2cf250(0x203)][_0x2cf250(0x607)]=null,Io[_0x2cf250(0x6db)]['generate'](_0x396bdb,{'small':!0x0},_0x2b5b7f=>this[_0x2cf250(0x55f)][_0x2cf250(0x5c6)](_0x2cf250(0x691)+this['instance'][_0x2cf250(0x4f2)]+_0x2cf250(0x4fc)+this[_0x2cf250(0x5ef)][_0x2cf250(0x203)]['count']+_0x2cf250(0x31b)+this[_0x2cf250(0x5ef)]['qrcode']['pairingCode']+_0x2cf250(0x49e)+_0x2b5b7f));}if(_0x364e45&&(this[_0x2cf250(0x6b9)]={'state':_0x364e45,'statusReason':_0x27105c?.['error']?.['output']?.['statusCode']??0xc8},this[_0x2cf250(0x2d9)](_0x2cf250(0x25f),{'instance':this['instance'][_0x2cf250(0x4f2)],...this['stateConnection']})),_0x364e45===_0x2cf250(0x3a6)){if(this[_0x2cf250(0x377)]++,this['reconnectTimestamps'][_0x2cf250(0x668)](Date['now']()),this['reconnectTimestamps']=this[_0x2cf250(0x244)][_0x2cf250(0x736)](_0x5e8b48=>Date[_0x2cf250(0x81a)]()-_0x5e8b48<this[_0x2cf250(0x4ae)]),_0x27105c[_0x2cf250(0x37f)]?.[_0x2cf250(0x546)]?.['statusCode']!==w[_0x2cf250(0x513)][_0x2cf250(0x394)]&&this[_0x2cf250(0x244)][_0x2cf250(0x4ba)]<=this[_0x2cf250(0x3e9)])console[_0x2cf250(0x5c6)](this[_0x2cf250(0x84b)]+_0x2cf250(0x6c0)+this['reconnectAttempts']+'/'+this['MAX_RECONNECT_ATTEMPTS']+_0x2cf250(0x4a3)),console[_0x2cf250(0x5c6)]('Tentando\x20reconectar...'),await this[_0x2cf250(0x3fe)]();else{this[_0x2cf250(0x2d9)](_0x2cf250(0x30f),{'instance':this[_0x2cf250(0x5ef)][_0x2cf250(0x4f2)],'status':_0x2cf250(0x547)}),this[_0x2cf250(0x5ef)][_0x2cf250(0x29a)][_0x2cf250(0x3be)]=!0x1,this['repository']['webhook']['delete'](this[_0x2cf250(0x84b)]),this[_0x2cf250(0x735)]['auth'][_0x2cf250(0x76e)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x2cf250(0x81a)]()},this[_0x2cf250(0x5ef)][_0x2cf250(0x4f2)]),De[_0x2cf250(0x3e5)](oe,this[_0x2cf250(0x5ef)][_0x2cf250(0x4f2)]);try{this['logger']['verbose'](this[_0x2cf250(0x84b)]+'\x20('+this['instance'][_0x2cf250(0x222)]+_0x2cf250(0x52e));let _0x50b560=await this['repository'][_0x2cf250(0x6e8)]['deleteAll'](this['instance']['wuid']);_0x50b560[_0x2cf250(0x574)]?this[_0x2cf250(0x55f)][_0x2cf250(0x230)](this[_0x2cf250(0x84b)]+'\x20('+this['instance']['wuid']+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):this['logger'][_0x2cf250(0x37f)](_0x2cf250(0x65a)+_0x50b560[_0x2cf250(0x37f)]);}catch(_0x5e3dfe){this['logger'][_0x2cf250(0x37f)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20'+_0x5e3dfe[_0x2cf250(0x6e8)]);}this[_0x2cf250(0x5ef)]['ScheduleMessage'][_0x2cf250(0x860)]!==null&&(this[_0x2cf250(0x55f)][_0x2cf250(0x230)](this[_0x2cf250(0x84b)]+'\x20('+this[_0x2cf250(0x5ef)]['wuid']+_0x2cf250(0x77c)),clearInterval(this[_0x2cf250(0x5ef)][_0x2cf250(0x29a)]['delayMessage']),this['instance'][_0x2cf250(0x29a)][_0x2cf250(0x860)]=null),this['logger']['verbose'](this[_0x2cf250(0x84b)]+'\x20('+this['instance']['wuid']+_0x2cf250(0x40b)),this[_0x2cf250(0x3f3)]=null,this[_0x2cf250(0x4e7)][_0x2cf250(0x661)]('remove.instance',this[_0x2cf250(0x5ef)]['name'],_0x2cf250(0x729)),this[_0x2cf250(0x197)]?.['ws']?.[_0x2cf250(0x3a6)](),this['client'][_0x2cf250(0x8af)](new Error(_0x2cf250(0x3ee)));}}if(_0x364e45===_0x2cf250(0x4c2)){try{this[_0x2cf250(0x197)]['ev']['flush']();}catch(_0x552313){this[_0x2cf250(0x55f)][_0x2cf250(0x37f)](_0x552313);}this['resetReconnectionVariables'],this['instance']['wuid']=this[_0x2cf250(0x197)]['user']['id'][_0x2cf250(0x523)](/:\d+/,'')[_0x2cf250(0x523)](_0x2cf250(0x617),''),this[_0x2cf250(0x5ef)][_0x2cf250(0x6d0)]=(await this[_0x2cf250(0x4d7)](this[_0x2cf250(0x5ef)][_0x2cf250(0x222)]+_0x2cf250(0x617)))[_0x2cf250(0x6d0)],this[_0x2cf250(0x735)][_0x2cf250(0x7b3)][_0x2cf250(0x76e)]({'online':!0x0,'owner':this[_0x2cf250(0x5ef)][_0x2cf250(0x222)],'lastDisconnect':null},this[_0x2cf250(0x5ef)][_0x2cf250(0x4f2)]);let _0x1c4e63=_0x2cf250(0x6e7)+this[_0x2cf250(0x5ef)][_0x2cf250(0x222)],_0x148d4f=0x28,_0xeaa929=Math[_0x2cf250(0x2a9)]((_0x148d4f-_0x1c4e63['length'])/0x2),_0x180a83='\x20'[_0x2cf250(0x85b)](_0xeaa929),_0x25c82c=_0x2cf250(0x7ca),_0x403b0c=_0x2cf250(0x18b)+this[_0x2cf250(0x5ef)][_0x2cf250(0x4f2)],_0x31337a=(''+_0x180a83+_0x1c4e63+_0x180a83)[_0x2cf250(0x70e)](_0x148d4f,'\x20'),_0xf6a8fd=(''+_0x180a83+_0x25c82c+_0x180a83)[_0x2cf250(0x70e)](_0x148d4f,'\x20'),_0x243e95=(''+_0x180a83+_0x403b0c+_0x180a83)[_0x2cf250(0x70e)](_0x148d4f,'\x20'),_0x2b93e5=Math[_0x2cf250(0x30d)](_0x31337a[_0x2cf250(0x4ba)],_0xf6a8fd[_0x2cf250(0x4ba)],_0x243e95[_0x2cf250(0x4ba)]),_0x1772db=_0x31337a[_0x2cf250(0x70e)](_0x2b93e5,'\x20'),_0xd2c4e=_0xf6a8fd['padEnd'](_0x2b93e5,'\x20'),_0x5e507a=_0x243e95['padEnd'](_0x2b93e5,'\x20');this['logger'][_0x2cf250(0x40c)]((_0x2cf250(0x5eb)+'─'['repeat'](_0x2b93e5)+_0x2cf250(0x585)+_0xd2c4e+_0x2cf250(0x60e)+_0x5e507a+_0x2cf250(0x60e)+_0x1772db+_0x2cf250(0x563)+'─'[_0x2cf250(0x85b)](_0x2b93e5)+'┘')[_0x2cf250(0x523)](/^ +/gm,'\x20\x20')),this[_0x2cf250(0x85d)](),this[_0x2cf250(0x5ef)]['ScheduleMessage'][_0x2cf250(0x3be)]=!0x0;}}[a0_0xd17613(0x7f8)](){this['reconnectAttempts']=0x0,this['reconnectTimestamps']=[];}async[a0_0xd17613(0x769)](_0x408f3b,_0x19f6e0=!0x1){const _0x4e953b=a0_0xd17613;try{let _0x195f64=await this[_0x4e953b(0x735)][_0x4e953b(0x6e8)][_0x4e953b(0x357)]({'where':{'_id':_0x408f3b['id']}},this[_0x4e953b(0x5ef)][_0x4e953b(0x222)]);return _0x19f6e0?_0x195f64[0x0]:_0x195f64[0x0][_0x4e953b(0x6e8)];}catch{return{'conversation':''};}}[a0_0xd17613(0x536)](){const _0x3b284d=a0_0xd17613;let _0x329901=this[_0x3b284d(0x3ea)][_0x3b284d(0x8bc)](_0x3b284d(0x77f)),_0x13a434=this[_0x3b284d(0x3ea)][_0x3b284d(0x8bc)]('DATABASE');_0x329901?.['CLEANING_INTERVAL']&&!_0x13a434[_0x3b284d(0x2e1)]&&setInterval(()=>{const _0x1630bf=_0x3b284d;try{for(let [_0x24826d,_0x4bc063]of Object[_0x1630bf(0x748)](_0x329901))_0x4bc063===!0x0&&(0x0,ke[_0x1630bf(0x288)])(_0x1630bf(0x690)+(0x0,F[_0x1630bf(0x4c3)])(this[_0x1630bf(0x1ba)],_0x24826d[_0x1630bf(0x53e)](),this[_0x1630bf(0x5ef)][_0x1630bf(0x222)])+_0x1630bf(0x747));}catch{}},(_0x329901?.[_0x3b284d(0x509)]??0xe10)*0x3e8);}async[a0_0xd17613(0x22f)](){const _0xea5c2f=a0_0xd17613;let _0x1159c9=this[_0xea5c2f(0x3ea)][_0xea5c2f(0x8bc)]('DATABASE'),_0x319387=this[_0xea5c2f(0x3ea)]['get'](_0xea5c2f(0x45b));return _0x319387?.[_0xea5c2f(0x2e1)]?await _s(_0x319387,this[_0xea5c2f(0x5ef)][_0xea5c2f(0x4f2)]):_0x1159c9['ENABLED']?await Os(this['instance'][_0xea5c2f(0x4f2)]):await(0x0,w[_0xea5c2f(0x542)])((0x0,F['join'])(be,this[_0xea5c2f(0x5ef)]['name']));}async['AutomateFunctions'](){const _0x39f7c7=a0_0xd17613;let _0x4e0814=()=>Math[_0x39f7c7(0x2a9)](Math[_0x39f7c7(0x23e)]()*0x4e21)+0x7d0,_0x5a2510=async()=>{const _0x1e8e2b=_0x39f7c7;if(!this[_0x1e8e2b(0x5ef)][_0x1e8e2b(0x29a)][_0x1e8e2b(0x3be)]){this[_0x1e8e2b(0x55f)][_0x1e8e2b(0x230)](this[_0x1e8e2b(0x84b)]+'\x20('+this[_0x1e8e2b(0x5ef)][_0x1e8e2b(0x222)]+_0x1e8e2b(0x524)),this['isRunning']=!0x1;return;}if(this['instance'][_0x1e8e2b(0x222)]&&this[_0x1e8e2b(0x3f3)]&&this[_0x1e8e2b(0x5ef)]['ScheduleMessage']['delayMessage']!==null&&this['instance']['ScheduleMessage']['delayMessage']!==void 0x0){let _0x4c445c=Math[_0x1e8e2b(0x451)](this[_0x1e8e2b(0x5ef)]['ScheduleMessage'][_0x1e8e2b(0x860)]/0xea60);this[_0x1e8e2b(0x55f)]['verbose'](this[_0x1e8e2b(0x84b)]+'\x20('+this[_0x1e8e2b(0x5ef)][_0x1e8e2b(0x222)]+_0x1e8e2b(0x851)+_0x4c445c+_0x1e8e2b(0x410)),this['isRunning']=!0x1;return;}else this[_0x1e8e2b(0x5ef)]['wuid']&&(this[_0x1e8e2b(0x55f)][_0x1e8e2b(0x230)](this[_0x1e8e2b(0x84b)]+'\x20('+this[_0x1e8e2b(0x5ef)]['wuid']+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x1e8e2b(0x3f3)]||(await this[_0x1e8e2b(0x737)](),this[_0x1e8e2b(0x6d7)](),this[_0x1e8e2b(0x5a3)]()),(this['instance'][_0x1e8e2b(0x29a)][_0x1e8e2b(0x860)]===null||this['instance'][_0x1e8e2b(0x29a)][_0x1e8e2b(0x860)]===void 0x0)&&await this[_0x1e8e2b(0x7e7)]());if(this[_0x1e8e2b(0x857)]){let _0x5b4256=_0x4e0814();this[_0x1e8e2b(0x55f)][_0x1e8e2b(0x230)](this[_0x1e8e2b(0x84b)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x5b4256/0x3e8+'\x20segundos'),setTimeout(_0x5a2510,_0x5b4256);}};if(this[_0x39f7c7(0x857)])return;this[_0x39f7c7(0x857)]=!0x0;let _0x4bcfbb=_0x4e0814();setTimeout(_0x5a2510,_0x4bcfbb);}async[a0_0xd17613(0x5a3)](){const _0x2bf2d4=a0_0xd17613;let _0x41a56d=this[_0x2bf2d4(0x5ef)][_0x2bf2d4(0x222)];try{let _0x39add8=await this[_0x2bf2d4(0x735)][_0x2bf2d4(0x177)][_0x2bf2d4(0x2e3)]({'where':{'$or':[{'owner':_0x41a56d},{'whoCanUse':{'$in':[_0x41a56d]}},{'shareOwners':{'$in':[_0x41a56d]}}]}}),_0x4f6a58=await this[_0x2bf2d4(0x735)][_0x2bf2d4(0x177)][_0x2bf2d4(0x2e3)]({'where':{'$or':[{'owner':_0x2bf2d4(0x4fd)},{'whoCanUse':{'$in':[_0x2bf2d4(0x4fd)]}},{'shareOwners':{'$in':[_0x2bf2d4(0x4fd)]}}]}});_0x4f6a58&&_0x4f6a58[_0x2bf2d4(0x4ba)]>0x0?this[_0x2bf2d4(0x55f)][_0x2bf2d4(0x230)](this[_0x2bf2d4(0x84b)]+'\x20('+this[_0x2bf2d4(0x5ef)][_0x2bf2d4(0x222)]+_0x2bf2d4(0x238)):(await this[_0x2bf2d4(0x735)][_0x2bf2d4(0x177)][_0x2bf2d4(0x3e6)](_0x2bf2d4(0x4fd)),this[_0x2bf2d4(0x55f)][_0x2bf2d4(0x230)](this[_0x2bf2d4(0x84b)]+'\x20('+this[_0x2bf2d4(0x5ef)][_0x2bf2d4(0x222)]+_0x2bf2d4(0x32f))),_0x39add8&&_0x39add8['length']>0x0?this[_0x2bf2d4(0x55f)]['verbose'](this[_0x2bf2d4(0x84b)]+'\x20('+this[_0x2bf2d4(0x5ef)][_0x2bf2d4(0x222)]+_0x2bf2d4(0x6ba)+_0x41a56d+_0x2bf2d4(0x5c9)):(await this[_0x2bf2d4(0x735)][_0x2bf2d4(0x177)]['migrateFlowsToCentralizedCollection'](_0x41a56d),this[_0x2bf2d4(0x55f)][_0x2bf2d4(0x230)](this[_0x2bf2d4(0x84b)]+'\x20('+this[_0x2bf2d4(0x5ef)]['wuid']+_0x2bf2d4(0x6ba)+_0x41a56d+_0x2bf2d4(0x7b9)),_0x39add8=await this['repository']['flow']['findAll']({'where':{'$or':[{'owner':_0x41a56d},{'whoCanUse':{'$in':[_0x41a56d]}},{'shareOwners':{'$in':[_0x41a56d]}}]}}));let _0x19f1fa=new Map(this['AutomateSystem'][_0x2bf2d4(0x3e1)][_0x2bf2d4(0x50f)](_0x3c755=>[_0x3c755[_0x2bf2d4(0x19a)],_0x3c755])),_0x490bfb=_0x39add8[_0x2bf2d4(0x50f)](_0x22d57b=>{const _0x47e207=_0x2bf2d4;let _0x352edd=_0x19f1fa[_0x47e207(0x8bc)](_0x22d57b[_0x47e207(0x19a)]?.[_0x47e207(0x883)]());return{'_id':_0x22d57b[_0x47e207(0x19a)]?.[_0x47e207(0x883)](),'name':_0x352edd?.[_0x47e207(0x4f2)]??_0x22d57b[_0x47e207(0x4f2)],'default':_0x352edd?.[_0x47e207(0x6db)]??_0x22d57b[_0x47e207(0x6db)]??!0x1,'startCommand':_0x352edd?.['startCommand']??_0x22d57b[_0x47e207(0x7e3)],'minutesToClose':_0x352edd?.['minutesToClose']??_0x22d57b['minutesToClose']??0x0,'readMessages':_0x352edd?.[_0x47e207(0x173)]??_0x22d57b[_0x47e207(0x173)]??!0x1,'testingWith':_0x352edd?.[_0x47e207(0x4bd)]??_0x22d57b[_0x47e207(0x4bd)],'canEdit':_0x22d57b[_0x47e207(0x50a)]===_0x41a56d||(_0x22d57b[_0x47e207(0x7e2)]??[])[_0x47e207(0x831)](_0x41a56d),'usersCount':(_0x22d57b[_0x47e207(0x391)]??[])['length']??0x0};}),_0x355dbd=!0x1;_0x490bfb[_0x2bf2d4(0x2a4)](_0x3332ce=>{const _0x394f6d=_0x2bf2d4;_0x3332ce[_0x394f6d(0x6db)]&&(_0x355dbd?_0x3332ce[_0x394f6d(0x6db)]=!0x1:_0x355dbd=!0x0);}),this[_0x2bf2d4(0x3f3)]['flows']=_0x490bfb;let _0x1d17d8={'flows':_0x490bfb};return await this[_0x2bf2d4(0x735)]['automateSystem'][_0x2bf2d4(0x7c7)](_0x1d17d8,_0x41a56d),this['logger'][_0x2bf2d4(0x230)](this[_0x2bf2d4(0x84b)]+'\x20('+_0x41a56d+'):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.'),_0x490bfb['length'];}catch(_0x780301){return this['logger']['error'](this['instanceName']+'\x20('+_0x41a56d+_0x2bf2d4(0x33a)+(_0x780301 instanceof Error?_0x780301[_0x2bf2d4(0x6e8)]:JSON['stringify'](_0x780301,null,0x2))),{'message':'Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20'+(_0x780301 instanceof Error?_0x780301[_0x2bf2d4(0x6e8)]:JSON['stringify'](_0x780301,null,0x2))};}}async[a0_0xd17613(0x3fe)](_0x3c8537){const _0x149fdc=a0_0xd17613;try{this[_0x149fdc(0x6bf)](),this[_0x149fdc(0x5ef)][_0x149fdc(0x460)]=(await this[_0x149fdc(0x735)][_0x149fdc(0x7b3)][_0x149fdc(0x357)](this['instance'][_0x149fdc(0x4f2)]))[_0x149fdc(0x460)],this['instance'][_0x149fdc(0x1fe)]=await this['defineAuthState']();let {version:_0x5060f1}=await(0x0,w[_0x149fdc(0x81d)])(),_0x30bdf0=[Oo,Fs,(0x0,Ps['release'])()],_0x169a28={'auth':{'creds':this[_0x149fdc(0x5ef)][_0x149fdc(0x1fe)][_0x149fdc(0x74c)][_0x149fdc(0x2af)],'keys':(0x0,w[_0x149fdc(0x3e0)])(this[_0x149fdc(0x5ef)][_0x149fdc(0x1fe)]['state'][_0x149fdc(0x6f6)],(0x0,Ut[_0x149fdc(0x6db)])({'level':_0x149fdc(0x37f)}))},'logger':(0x0,Ut[_0x149fdc(0x6db)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x3c8537?[_0x149fdc(0x1d1),Fs,(0x0,Ps[_0x149fdc(0x5d6)])()]:_0x30bdf0,'version':_0x5060f1,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x5362e5=>{const _0x2d8f0c=_0x149fdc;let _0x585777=_0x5362e5[_0x2d8f0c(0x71e)](_0x2d8f0c(0x708)),_0x4bf006=this['localWebhook']?.[_0x2d8f0c(0x433)]&&_0x5362e5[_0x2d8f0c(0x71e)](_0x2d8f0c(0x325));return _0x585777||(0x0,w[_0x2d8f0c(0x200)])(_0x5362e5)||_0x4bf006;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0xb62d5f=>await this[_0x149fdc(0x769)](_0xb62d5f),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x149fdc(0x4ff)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x3a660b=>(_0x3a660b[_0x149fdc(0x311)]?.[_0x149fdc(0x631)]==w[_0x149fdc(0x877)]['Message']['ListMessage'][_0x149fdc(0x4ed)][_0x149fdc(0x6be)]&&(_0x3a660b=JSON['parse'](JSON['stringify'](_0x3a660b)),_0x3a660b['listMessage']['listType']=w[_0x149fdc(0x877)]['Message']['ListMessage'][_0x149fdc(0x4ed)][_0x149fdc(0x870)]),_0x3a660b)};return this[_0x149fdc(0x573)]=!0x1,this[_0x149fdc(0x197)]=(0x0,w[_0x149fdc(0x6db)])(_0x169a28),this[_0x149fdc(0x6f5)](),this['phoneNumber']=_0x3c8537,this['client'];}catch(_0x44d56d){let _0x11a6ba=_0x149fdc(0x7c4),_0x45a42f=_0x44d56d instanceof Error?_0x44d56d[_0x149fdc(0x6e8)]:typeof _0x44d56d==_0x149fdc(0x629)?JSON[_0x149fdc(0x78e)](_0x44d56d):_0x44d56d,_0x1fe7ff=_0x11a6ba+':\x20'+_0x45a42f;throw this[_0x149fdc(0x55f)][_0x149fdc(0x37f)](this[_0x149fdc(0x84b)]+'\x20('+this['instance'][_0x149fdc(0x222)]+_0x149fdc(0x653)+_0x1fe7ff),new _(_0x1fe7ff);}}[a0_0xd17613(0x6f5)](){const _0x34a91d=a0_0xd17613;this[_0x34a91d(0x197)]['ev'][_0x34a91d(0x1b5)](_0x2f3e12=>{const _0x405a34=_0x34a91d;if(!this[_0x405a34(0x573)]){let _0x481e49=this[_0x405a34(0x3ea)][_0x405a34(0x8bc)](_0x405a34(0x347));if(_0x2f3e12[_0x405a34(0x7b7)]){let _0x225d7c=_0x2f3e12['labels.edit'];this[_0x405a34(0x787)][_0x405a34(0x7b7)](_0x225d7c);}if(_0x2f3e12[_0x405a34(0x2fc)]){let _0x3e2fe4=_0x2f3e12[_0x405a34(0x2fc)];this[_0x405a34(0x787)][_0x405a34(0x2fc)](_0x3e2fe4);}if(_0x2f3e12[_0x405a34(0x25f)]&&this[_0x405a34(0x81b)](_0x2f3e12[_0x405a34(0x25f)]),_0x2f3e12[_0x405a34(0x823)]&&this[_0x405a34(0x5ef)][_0x405a34(0x1fe)][_0x405a34(0x5c2)](),_0x2f3e12[_0x405a34(0x7ab)]){let _0x5878e6=_0x2f3e12[_0x405a34(0x7ab)];this[_0x405a34(0x787)]['messaging-history.set'](_0x5878e6,_0x481e49);}if(_0x2f3e12[_0x405a34(0x54a)]){let _0x1ec41a=_0x2f3e12[_0x405a34(0x54a)];this[_0x405a34(0x787)][_0x405a34(0x54a)](_0x1ec41a,_0x481e49);}if(_0x2f3e12[_0x405a34(0x69d)]){let _0x3332b3=_0x2f3e12[_0x405a34(0x69d)];this[_0x405a34(0x787)][_0x405a34(0x69d)](_0x3332b3,_0x481e49);}if(_0x2f3e12[_0x405a34(0x4e5)]){let _0x5ea14b=_0x2f3e12[_0x405a34(0x4e5)];if(this[_0x405a34(0x78d)]?.[_0x405a34(0x433)]&&_0x5ea14b['id'][_0x405a34(0x831)]('@g.us'))return;this[_0x405a34(0x2d9)]('presence.update',_0x5ea14b);}if(_0x2f3e12[_0x405a34(0x676)]){let _0x49e006=_0x2f3e12['groups.upsert'];this[_0x405a34(0x580)][_0x405a34(0x676)](_0x49e006);}if(_0x2f3e12[_0x405a34(0x525)]){let _0x675057=_0x2f3e12[_0x405a34(0x525)];this[_0x405a34(0x580)][_0x405a34(0x525)](_0x675057);}if(_0x2f3e12['group-participants.update']){let _0x2f10f8=_0x2f3e12[_0x405a34(0x826)];this['groupHandler'][_0x405a34(0x826)](_0x2f10f8);}if(_0x2f3e12[_0x405a34(0x68f)]){let _0x33d757=_0x2f3e12['chats.upsert'];this['chatHandle']['chats.upsert'](_0x33d757,_0x481e49);}if(_0x2f3e12[_0x405a34(0x6ed)]){let _0x3d181c=_0x2f3e12['chats.update'];this[_0x405a34(0x4e2)][_0x405a34(0x6ed)](_0x3d181c,_0x481e49);}if(_0x2f3e12[_0x405a34(0x22e)]){let _0x25114f=_0x2f3e12[_0x405a34(0x22e)];this['chatHandle'][_0x405a34(0x22e)](_0x25114f);}if(_0x2f3e12[_0x405a34(0x214)]){let _0x154373=_0x2f3e12[_0x405a34(0x214)];this['contactHandle'][_0x405a34(0x214)](_0x154373,_0x481e49);}if(_0x2f3e12[_0x405a34(0x7b2)]){let _0xe056a5=_0x2f3e12['contacts.update'];this[_0x405a34(0x446)][_0x405a34(0x7b2)](_0xe056a5,_0x481e49);}}});}async[a0_0xd17613(0x79f)](_0x1432a8,_0x5cb5b3){const _0x5bb9fa=a0_0xd17613;if(_0x5cb5b3>=0xa){console['error'](this[_0x5bb9fa(0x84b)]+'\x20('+this[_0x5bb9fa(0x5ef)][_0x5bb9fa(0x222)]+_0x5bb9fa(0x60f)),delete Ft[_0x1432a8['key']['id']];return;}try{console['error'](this[_0x5bb9fa(0x84b)]+'\x20('+this[_0x5bb9fa(0x5ef)][_0x5bb9fa(0x222)]+_0x5bb9fa(0x57f)+(_0x5cb5b3+0x1)),await this['client'][_0x5bb9fa(0x344)](JSON[_0x5bb9fa(0x5ac)](_0x1432a8['messageStubParameters'][0x1],w[_0x5bb9fa(0x39e)][_0x5bb9fa(0x435)])),console[_0x5bb9fa(0x37f)](_0x5bb9fa(0x438));}catch(_0x19630b){console['error'](this['instanceName']+'\x20('+this[_0x5bb9fa(0x5ef)][_0x5bb9fa(0x222)]+'):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20'+_0x19630b),setTimeout(()=>this[_0x5bb9fa(0x79f)](_0x1432a8,_0x5cb5b3+0x1),Math[_0x5bb9fa(0x2d3)](0x2,_0x5cb5b3)*0x3e8);}}[a0_0xd17613(0x47b)](_0x11a36c){return new Promise(_0x3d8896=>setTimeout(_0x3d8896,_0x11a36c));}['formatBRNumber'](_0x1abfce){const _0x4642d2=a0_0xd17613;_0x1abfce=_0x1abfce[_0x4642d2(0x523)](/\D/g,'');let _0x31714d=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x4642d2(0x2f2)](_0x1abfce);if(_0x31714d&&_0x31714d[0x1]==='55'){let _0x2a401e=_0x31714d[0x2],_0x51bb39=_0x31714d[0x3],_0x5279a3=_0x31714d[0x4];if(parseInt(_0x2a401e)>=0x1f&&_0x51bb39==='9')return _0x31714d[0x1]+_0x2a401e+_0x5279a3;}return _0x1abfce;}[a0_0xd17613(0x564)](_0x394789){const _0x3807d4=a0_0xd17613;return _0x394789[_0x3807d4(0x831)](_0x3807d4(0x325))||_0x394789[_0x3807d4(0x831)]('@s.whatsapp.net')||_0x394789[_0x3807d4(0x831)](_0x3807d4(0x1b9))?_0x394789:(_0x394789=_0x394789?.[_0x3807d4(0x523)](/\s/g,'')[_0x3807d4(0x523)](/\+/g,'')[_0x3807d4(0x523)](/\(/g,'')['replace'](/\)/g,'')['split'](/\:/)[0x0][_0x3807d4(0x37b)]('@')[0x0],_0x394789['length']>=0x12?(_0x394789=_0x394789[_0x3807d4(0x523)](/[^\d-]/g,''),_0x394789+_0x3807d4(0x325)):(_0x394789=_0x394789[_0x3807d4(0x523)](/\D/g,''),_0x394789+'@s.whatsapp.net'));}async['updatePresence'](_0x56e9c9){const _0x3c50d6=a0_0xd17613;let _0x8e3476=(await this[_0x3c50d6(0x544)]({'numbers':[_0x56e9c9[_0x3c50d6(0x5dc)]]}))[0x0];if(!_0x8e3476['exists']&&!(0x0,w[_0x3c50d6(0x408)])(_0x8e3476[_0x3c50d6(0x773)])&&!_0x8e3476[_0x3c50d6(0x773)][_0x3c50d6(0x831)](_0x3c50d6(0x1b9)))throw new m(_0x8e3476);let _0x40e212=_0x8e3476[_0x3c50d6(0x773)];try{return await this[_0x3c50d6(0x197)]['presenceSubscribe'](_0x40e212),await this[_0x3c50d6(0x197)][_0x3c50d6(0x722)](_0x56e9c9[_0x3c50d6(0x178)],_0x40e212),{'status':0xc8,'presence':_0x56e9c9['presence']};}catch(_0x296fcb){let _0x44d7ad=_0x3c50d6(0x364),_0x15df33=_0x296fcb instanceof Error?_0x296fcb[_0x3c50d6(0x6e8)]:typeof _0x296fcb==_0x3c50d6(0x629)?JSON[_0x3c50d6(0x78e)](_0x296fcb):_0x296fcb,_0x20a9d2=_0x44d7ad+':\x20'+_0x15df33;throw this[_0x3c50d6(0x55f)]['error'](this[_0x3c50d6(0x84b)]+'\x20('+this['instance'][_0x3c50d6(0x222)]+_0x3c50d6(0x653)+_0x20a9d2),new m(_0x20a9d2);}}async[a0_0xd17613(0x3d2)](_0x5288da,_0x488e29,_0x20bf8a,_0x28d7d5=!0x0){const _0x127cab=a0_0xd17613;let _0x1ce012=await this['repository']['cacheContact']['findOne']({'where':{'_id':_0x5288da}});if(!_0x1ce012&&!_0x28d7d5)return;let _0x22d0f9={'lastUpdate':Date[_0x127cab(0x81a)]()};if(_0x20bf8a||!_0x1ce012?.[_0x127cab(0x231)]||Date['now']()-_0x1ce012[_0x127cab(0x231)]>0x18*0x3c*0x3c*0x3e8)try{let _0x2767bb=(await this['profilePicture'](_0x5288da))[_0x127cab(0x6d0)];_0x22d0f9[_0x127cab(0x733)]=_0x2767bb;}catch(_0x278cd2){let _0x24bde0=_0x127cab(0x600),_0xb66260=_0x278cd2 instanceof Error?_0x278cd2['message']:typeof _0x278cd2==_0x127cab(0x629)?JSON[_0x127cab(0x78e)](_0x278cd2):_0x278cd2,_0x23b53f=_0x24bde0+':\x20'+_0xb66260;throw this['logger'][_0x127cab(0x37f)](this[_0x127cab(0x84b)]+'\x20('+this['instance'][_0x127cab(0x222)]+_0x127cab(0x653)+_0x23b53f),new m(_0x23b53f);}return _0x488e29&&_0x1ce012?.['name']!==_0x488e29&&(_0x22d0f9[_0x127cab(0x4f2)]=_0x488e29),Object[_0x127cab(0x6f6)](_0x22d0f9)['length']>0x1&&(_0x1ce012?await this[_0x127cab(0x735)][_0x127cab(0x8c3)]['update']({'where':{'_id':_0x5288da}},_0x22d0f9):await this[_0x127cab(0x735)][_0x127cab(0x8c3)]['insert']([{'_id':_0x5288da,..._0x22d0f9}]),_0x1ce012={..._0x1ce012,..._0x22d0f9}),{'cachedContact':_0x1ce012};}async[a0_0xd17613(0x4d7)](_0x1e7833){const _0x260169=a0_0xd17613;let _0x3f361a=this[_0x260169(0x564)](_0x1e7833);try{return{'wuid':_0x3f361a,'profilePictureUrl':await this[_0x260169(0x197)][_0x260169(0x6d0)](_0x3f361a,'image')};}catch{return{'wuid':_0x3f361a,'profilePictureUrl':null};}}async[a0_0xd17613(0x36c)](_0x4e6286,_0x248584,_0xa2d530){const _0x207227=a0_0xd17613;let _0x2aecbc;try{let _0x378d2b=(await this[_0x207227(0x544)]({'numbers':[_0x4e6286]}))[0x0];if(!_0x378d2b['exists']&&!(0x0,w[_0x207227(0x408)])(_0x378d2b[_0x207227(0x773)])&&!_0x378d2b['jid']['includes'](_0x207227(0x1b9)))throw new m(_0x378d2b);_0x2aecbc=_0x378d2b[_0x207227(0x773)];}catch(_0x38608a){_0x2aecbc=_0x4e6286,this[_0x207227(0x55f)][_0x207227(0x388)](this[_0x207227(0x84b)]+'\x20('+this['instance'][_0x207227(0x222)]+'):\x20error:\x20'+_0x38608a[_0x207227(0x6e8)]),this[_0x207227(0x55f)][_0x207227(0x388)](this[_0x207227(0x84b)]+'\x20('+this['instance'][_0x207227(0x222)]+_0x207227(0x72b)+_0x2aecbc);}try{if(_0x2aecbc||(_0x2aecbc=_0x4e6286,this[_0x207227(0x55f)][_0x207227(0x388)](this[_0x207227(0x84b)]+'\x20('+this[_0x207227(0x5ef)][_0x207227(0x222)]+_0x207227(0x346)+_0x2aecbc)),_0xa2d530||(_0xa2d530={}),_0xa2d530?.[_0x207227(0x427)]){await this[_0x207227(0x197)][_0x207227(0x2bc)](_0x2aecbc),await this[_0x207227(0x197)]['sendPresenceUpdate'](_0xa2d530?.['presence']??_0x207227(0x479),_0x2aecbc);let _0x5ee2a3=Math[_0x207227(0x518)](_0xa2d530[_0x207227(0x427)],0x2710);await(0x0,w[_0x207227(0x427)])(_0x5ee2a3),await this['client']['sendPresenceUpdate'](_0x207227(0x23d),_0x2aecbc);}let _0x339637=_0xa2d530?.[_0x207227(0x548)]!=!0x1?void 0x0:!0x1,_0x363737;if(_0xa2d530?.[_0x207227(0x3e4)]){let _0x5cea73=_0xa2d530?.['quoted'],_0xd12b1e=_0x5cea73?.[_0x207227(0x6e8)]?_0x5cea73:await this[_0x207227(0x769)](_0x5cea73['key'],!0x0);if(!_0xd12b1e)throw _0x207227(0x8a6);_0x363737=_0xd12b1e;}let _0x425096;if((0x0,w[_0x207227(0x408)])(_0x2aecbc))try{let _0x4d729b=(await this[_0x207227(0x735)]['chat'][_0x207227(0x86d)]({'where':{'_id':_0x2aecbc}},this[_0x207227(0x5ef)]['wuid']))[_0x207227(0x61b)];if(!_0x4d729b)throw new j(_0x207227(0x3d7));_0xa2d530?.[_0x207227(0x506)]&&(_0xa2d530[_0x207227(0x506)]?.['everyOne']?_0x425096=_0x4d729b[_0x207227(0x38c)][_0x207227(0x50f)](_0xf70497=>_0xf70497['id']):_0xa2d530[_0x207227(0x506)]?.['mentioned']?.[_0x207227(0x4ba)]&&(_0x425096=_0xa2d530[_0x207227(0x506)][_0x207227(0x3d9)][_0x207227(0x50f)](_0x187652=>{const _0x3818a3=_0x207227;let _0x17f144=this['createJid'](_0x187652);return(0x0,w[_0x3818a3(0x408)])(_0x17f144)?null:_0x17f144;})));}catch{throw new j(_0x207227(0x3d7));}let _0x18ff3b=await this[_0x207227(0x735)][_0x207227(0x33f)][_0x207227(0x86d)]({'where':{'_id':_0x2aecbc}},this[_0x207227(0x5ef)][_0x207227(0x222)]),_0x7e4412=await((async()=>{const _0x3762a0=_0x207227;let _0x21d04e={'quoted':_0x363737,'ephemeralExpiration':_0x18ff3b?.[_0x3762a0(0x55c)]??0x0};if(!_0x248584[_0x3762a0(0x46b)]&&!_0x248584['poll']&&!_0x248584[_0x3762a0(0x4e3)]&&!_0x248584['conversation']&&_0x2aecbc!==_0x3762a0(0x4c6)&&!_0x248584['audio'])return await this[_0x3762a0(0x197)]['sendMessage'](_0x2aecbc,{'forward':{'key':{'remoteJid':this[_0x3762a0(0x5ef)][_0x3762a0(0x222)],'fromMe':!0x0},'message':_0x248584},'mentions':_0x425096},_0x21d04e);if(_0x248584[_0x3762a0(0x53b)])return await this[_0x3762a0(0x197)]['sendMessage'](_0x2aecbc,{'react':{'text':_0x248584[_0x3762a0(0x53b)][_0x3762a0(0x80f)],'key':_0x248584[_0x3762a0(0x53b)]['key']}},_0x21d04e);if(_0x248584[_0x3762a0(0x50e)]){let _0x500dde=_0x248584[_0x3762a0(0x50e)];return _0xa2d530?.[_0x3762a0(0x1a2)]&&(_0x500dde=await this[_0x3762a0(0x539)](_0x500dde,_0x2aecbc)),await this[_0x3762a0(0x197)]['sendMessage'](_0x2aecbc,{'text':_0x500dde,'mentions':_0x425096,'linkPreview':_0x339637},_0x21d04e);}return _0x2aecbc===_0x3762a0(0x4c6)?await this[_0x3762a0(0x197)][_0x3762a0(0x569)](_0x2aecbc,_0x248584['status'][_0x3762a0(0x27c)],{'backgroundColor':_0x248584[_0x3762a0(0x1f8)][_0x3762a0(0x262)][_0x3762a0(0x74e)],'font':_0x248584[_0x3762a0(0x1f8)][_0x3762a0(0x262)][_0x3762a0(0x190)],'statusJidList':_0x248584[_0x3762a0(0x1f8)][_0x3762a0(0x262)][_0x3762a0(0x586)]}):await this[_0x3762a0(0x197)][_0x3762a0(0x569)](_0x2aecbc,_0x248584,_0x21d04e);})()),_0x380845=(0x0,w[_0x207227(0x274)])(_0x7e4412[_0x207227(0x6e8)]),_0x481f83=(0x0,w[_0x207227(0x86e)])(_0x380845),{message_normalized:_0x53c199}=this[_0x207227(0x5e1)](_0x380845,_0x481f83,null),_0x358296={'_id':_0x7e4412[_0x207227(0x212)]['id'],'key':_0x7e4412[_0x207227(0x212)],'pushName':_0x7e4412[_0x207227(0x5aa)],'isGroup':_0x7e4412[_0x207227(0x212)]['remoteJid']['endsWith'](_0x207227(0x325)),'profilePictureUrl':this[_0x207227(0x5ef)][_0x207227(0x6d0)],'message':_0x380845,'messageType':_0x481f83,'message_normalized':{'key':_0x7e4412[_0x207227(0x212)],'pushName':_0x7e4412[_0x207227(0x5aa)],'messageTimestamp':_0x7e4412[_0x207227(0x4c8)]&&_0x7e4412[_0x207227(0x4c8)][_0x207227(0x883)]()['length']<0xd?_0x7e4412[_0x207227(0x4c8)]*0x3e8:_0x7e4412[_0x207227(0x4c8)]||null,'source':(0x0,w[_0x207227(0x4ea)])(_0x7e4412[_0x207227(0x212)]['id']),..._0x53c199},'messageTimestamp':_0x7e4412['messageTimestamp']&&_0x7e4412['messageTimestamp'][_0x207227(0x883)]()[_0x207227(0x4ba)]<0xd?_0x7e4412[_0x207227(0x4c8)]*0x3e8:_0x7e4412[_0x207227(0x4c8)]||null,'owner':this[_0x207227(0x5ef)]['wuid'],'source':(0x0,w[_0x207227(0x4ea)])(_0x7e4412[_0x207227(0x212)]['id'])};return this[_0x207227(0x55f)][_0x207227(0x388)](this[_0x207227(0x84b)]+'\x20('+this[_0x207227(0x5ef)][_0x207227(0x222)]+_0x207227(0x3af)+_0x358296[_0x207227(0x212)]?.[_0x207227(0x2dd)][_0x207227(0x523)](_0x207227(0x617),'')+_0x207227(0x663)+_0x358296[_0x207227(0x2c0)]+')'),_0x358296[_0x207227(0x583)]?.[_0x207227(0x80f)]&&this[_0x207227(0x55f)][_0x207227(0x388)](_0x358296[_0x207227(0x583)]?.['text']),this['sendDataWebhook'](_0x207227(0x223),_0x358296),U(this['instanceName'],_0x207227(0x639),{'message':_0x358296}),this[_0x207227(0x2c4)](this[_0x207227(0x3ea)][_0x207227(0x8bc)](_0x207227(0x347)),_0x358296,_0x207227(0x82d),_0x18ff3b),await this[_0x207227(0x735)][_0x207227(0x6e8)][_0x207227(0x37c)]([_0x358296],this['instance']['wuid']),_0x7e4412;}catch(_0x33a313){let _0x32ebbe=_0x207227(0x7d3)+_0x2aecbc,_0x13ef81=_0x33a313 instanceof Error?_0x33a313['message']:typeof _0x33a313==_0x207227(0x629)?JSON[_0x207227(0x78e)](_0x33a313):_0x33a313,_0x221adc=_0x32ebbe+':\x20'+_0x13ef81;throw this[_0x207227(0x55f)][_0x207227(0x37f)](this[_0x207227(0x84b)]+'\x20('+this[_0x207227(0x5ef)][_0x207227(0x222)]+_0x207227(0x653)+_0x221adc),new m(_0x221adc);}}get[a0_0xd17613(0x5ad)](){const _0x4d5b38=a0_0xd17613;return this[_0x4d5b38(0x6b9)];}async['textMessage'](_0x5984cc){const _0x19cfee=a0_0xd17613;return await this[_0x19cfee(0x36c)](_0x5984cc[_0x19cfee(0x5dc)],{'conversation':_0x5984cc[_0x19cfee(0x1a8)][_0x19cfee(0x80f)]},_0x5984cc?.['options']);}async['formatStatusMessage'](_0x297c5d){const _0x530976=a0_0xd17613;if(!_0x297c5d['type'])throw new m(_0x530976(0x6e5));if(!_0x297c5d[_0x530976(0x27c)])throw new m('Content\x20is\x20required');if(_0x297c5d[_0x530976(0x87b)]){let _0x5e3de7=await this[_0x530976(0x735)][_0x530976(0x240)][_0x530976(0x357)]({'where':{}},this[_0x530976(0x5ef)][_0x530976(0x222)]);if(!_0x5e3de7[_0x530976(0x4ba)])throw new m(_0x530976(0x232));_0x297c5d[_0x530976(0x586)]=_0x5e3de7['filter'](_0x20f1fd=>_0x20f1fd[_0x530976(0x5aa)])[_0x530976(0x50f)](_0x54d431=>_0x54d431[_0x530976(0x19a)]);}if(!_0x297c5d[_0x530976(0x586)]?.[_0x530976(0x4ba)]&&!_0x297c5d[_0x530976(0x87b)])throw new m(_0x530976(0x61c));if(_0x297c5d[_0x530976(0x519)]==='text'){if(!_0x297c5d['backgroundColor'])throw new m(_0x530976(0x2e6));if(!_0x297c5d[_0x530976(0x190)])throw new m(_0x530976(0x570));return{'content':{'text':_0x297c5d[_0x530976(0x27c)]},'option':{'backgroundColor':_0x297c5d[_0x530976(0x74e)],'font':_0x297c5d['font'],'statusJidList':_0x297c5d[_0x530976(0x586)]}};}if(_0x297c5d[_0x530976(0x519)]===_0x530976(0x783))return{'content':{'image':{'url':_0x297c5d[_0x530976(0x27c)]},'caption':_0x297c5d['caption']},'option':{'statusJidList':_0x297c5d['statusJidList']}};if(_0x297c5d[_0x530976(0x519)]===_0x530976(0x58c))return{'content':{'video':{'url':_0x297c5d[_0x530976(0x27c)]},'caption':_0x297c5d[_0x530976(0x1cb)]},'option':{'statusJidList':_0x297c5d[_0x530976(0x586)]}};if(_0x297c5d[_0x530976(0x519)]===_0x530976(0x46b)){this[_0x530976(0x55f)][_0x530976(0x230)](this[_0x530976(0x84b)]+'\x20('+this[_0x530976(0x5ef)][_0x530976(0x222)]+'):Type\x20defined\x20as\x20audio'),this[_0x530976(0x55f)][_0x530976(0x230)](this[_0x530976(0x84b)]+'\x20('+this[_0x530976(0x5ef)][_0x530976(0x222)]+'):Processing\x20audio');let _0x567d26=await this['convertaudio'](_0x297c5d[_0x530976(0x27c)]);if(typeof _0x567d26=='string'){this[_0x530976(0x55f)]['verbose'](this[_0x530976(0x84b)]+'\x20('+this[_0x530976(0x5ef)][_0x530976(0x222)]+_0x530976(0x264));let _0x5ba567=k[_0x530976(0x1a5)](_0x567d26)[_0x530976(0x883)](_0x530976(0x2a1));return{'content':{'audio':Buffer[_0x530976(0x310)](_0x5ba567,_0x530976(0x2a1)),'ptt':!0x0,'mimetype':'audio/ogg'},'option':{'statusJidList':_0x297c5d[_0x530976(0x586)]}};}else throw new _(_0x567d26);}throw new m('Type\x20not\x20found');}async['statusMessage'](_0x205a57){const _0x47936d=a0_0xd17613;return await this[_0x47936d(0x36c)]('status@broadcast',{'status':await this[_0x47936d(0x355)](_0x205a57[_0x47936d(0x60d)])});}async[a0_0xd17613(0x63d)](_0x170f0a){const _0x44a37a=a0_0xd17613;try{let _0x50009d=await(0x0,w[_0x44a37a(0x1ae)])({[_0x170f0a[_0x44a37a(0x7c6)]]:(0x0,P[_0x44a37a(0x195)])(_0x170f0a[_0x44a37a(0x51a)])?{'url':_0x170f0a[_0x44a37a(0x51a)]}:Buffer[_0x44a37a(0x310)](_0x170f0a[_0x44a37a(0x51a)],_0x44a37a(0x2a1))},{'upload':this[_0x44a37a(0x197)]['waUploadToServer']}),_0xce2130=_0x170f0a[_0x44a37a(0x7c6)]+_0x44a37a(0x815);if(_0x170f0a[_0x44a37a(0x7c6)]===_0x44a37a(0x406)&&!_0x170f0a[_0x44a37a(0x73b)]){let _0x5ed64a=new RegExp(/.*\/(.+?)\./)[_0x44a37a(0x2f2)](_0x170f0a[_0x44a37a(0x51a)]);_0x170f0a[_0x44a37a(0x73b)]=_0x5ed64a?_0x5ed64a[0x1]:null;}let _0x5cf8fd=(0x0,P[_0x44a37a(0x195)])(_0x170f0a[_0x44a37a(0x51a)])?_0x170f0a[_0x44a37a(0x51a)]['split']('?')[0x0]:_0x170f0a[_0x44a37a(0x51a)],_0x3c792e;return(0x0,P['isURL'])(_0x170f0a[_0x44a37a(0x51a)])?_0x3c792e=(0x0,jt[_0x44a37a(0x836)])(_0x5cf8fd):_0x170f0a['fileName']&&_0x170f0a['fileName'][_0x44a37a(0x831)]('.')?_0x3c792e=(0x0,jt[_0x44a37a(0x836)])(_0x170f0a[_0x44a37a(0x73b)]):_0x3c792e=(0x0,jt[_0x44a37a(0x836)])(_0x170f0a['media']),_0x50009d[_0xce2130][_0x44a37a(0x1cb)]=_0x170f0a?.[_0x44a37a(0x1cb)],_0x50009d[_0xce2130][_0x44a37a(0x646)]=_0x3c792e,_0x50009d[_0xce2130][_0x44a37a(0x73b)]=_0x170f0a[_0x44a37a(0x73b)],_0x170f0a[_0x44a37a(0x7c6)]==='video'&&(_0x50009d[_0xce2130][_0x44a37a(0x1ca)]=Uint8Array['from']((0x0,Pe[_0x44a37a(0x1a5)])((0x0,F[_0x44a37a(0x4c3)])(process[_0x44a37a(0x88a)](),_0x44a37a(0x25d)))),_0x50009d[_0xce2130][_0x44a37a(0x6a3)]=!0x1),(0x0,w[_0x44a37a(0x4ce)])('',{[_0xce2130]:{..._0x50009d[_0xce2130]}},{'userJid':this[_0x44a37a(0x5ef)]['wuid']});}catch(_0x5088c2){let _0x2f7490=_0x44a37a(0x8b0),_0x254b25=_0x5088c2 instanceof Error?_0x5088c2[_0x44a37a(0x6e8)]:typeof _0x5088c2==_0x44a37a(0x629)?JSON[_0x44a37a(0x78e)](_0x5088c2):_0x5088c2,_0x5a9c8b=_0x2f7490+':\x20'+_0x254b25;throw this[_0x44a37a(0x55f)][_0x44a37a(0x37f)](this[_0x44a37a(0x84b)]+'\x20('+this[_0x44a37a(0x5ef)][_0x44a37a(0x222)]+'):\x20'+_0x5a9c8b),new _(_0x5a9c8b);}}async[a0_0xd17613(0x69e)](_0xdf20cf){const _0x39f4d2=a0_0xd17613;let _0x5db4e4=await this[_0x39f4d2(0x63d)](_0xdf20cf[_0x39f4d2(0x69e)]);return await this[_0x39f4d2(0x36c)](_0xdf20cf[_0x39f4d2(0x5dc)],{..._0x5db4e4['message']},_0xdf20cf?.['options']);}async[a0_0xd17613(0x26c)](_0x2ab6e6,_0x5c9044){const _0x32c633=a0_0xd17613;try{this['logger']['verbose'](this[_0x32c633(0x84b)]+'\x20('+this[_0x32c633(0x5ef)][_0x32c633(0x222)]+_0x32c633(0x3c6));let _0x1ecabd,_0x50a33b=_0x5c9044+'-'+new Date()['getTime']();this[_0x32c633(0x55f)][_0x32c633(0x230)](this[_0x32c633(0x84b)]+'\x20('+this[_0x32c633(0x5ef)][_0x32c633(0x222)]+_0x32c633(0x3da)+_0x50a33b);let _0x5d42c0=''+(0x0,F[_0x32c633(0x4c3)])(this[_0x32c633(0x1ba)],_0x50a33b+_0x32c633(0x182));if(this[_0x32c633(0x55f)][_0x32c633(0x230)](this['instanceName']+'\x20('+this[_0x32c633(0x5ef)][_0x32c633(0x222)]+_0x32c633(0x4a6)+_0x5d42c0),(0x0,P[_0x32c633(0x24e)])(_0x2ab6e6)){this[_0x32c633(0x55f)][_0x32c633(0x230)](this['instanceName']+'\x20('+this['instance'][_0x32c633(0x222)]+_0x32c633(0x1c3));let _0x84357d=_0x2ab6e6[_0x32c633(0x523)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x94fa87=Buffer[_0x32c633(0x310)](_0x84357d,_0x32c633(0x2a1));_0x1ecabd=''+(0x0,F[_0x32c633(0x4c3)])(this[_0x32c633(0x1ba)],_0x32c633(0x42a)+_0x50a33b+'.png'),this['logger']['verbose'](this[_0x32c633(0x84b)]+'\x20('+this[_0x32c633(0x5ef)][_0x32c633(0x222)]+_0x32c633(0x2d7)+_0x1ecabd),await(0x0,Jt[_0x32c633(0x6db)])(_0x94fa87)['toFile'](_0x1ecabd),this[_0x32c633(0x55f)]['verbose'](this['instanceName']+'\x20('+this[_0x32c633(0x5ef)]['wuid']+_0x32c633(0x452));}else{this[_0x32c633(0x55f)][_0x32c633(0x230)](this[_0x32c633(0x84b)]+'\x20('+this['instance'][_0x32c633(0x222)]+_0x32c633(0x181));let _0xe49816=new Date()[_0x32c633(0x7da)](),_0x57151e=_0x2ab6e6+_0x32c633(0x449)+_0xe49816;this[_0x32c633(0x55f)][_0x32c633(0x230)](this[_0x32c633(0x84b)]+'\x20('+this[_0x32c633(0x5ef)][_0x32c633(0x222)]+'):including\x20timestamp\x20in\x20url:\x20'+_0x57151e);let _0x1e3ac9=await Z[_0x32c633(0x6db)][_0x32c633(0x8bc)](_0x57151e,{'responseType':_0x32c633(0x89a)});this[_0x32c633(0x55f)]['verbose'](this[_0x32c633(0x84b)]+'\x20('+this[_0x32c633(0x5ef)][_0x32c633(0x222)]+_0x32c633(0x7d1));let _0x12d17b=Buffer[_0x32c633(0x310)](_0x1e3ac9[_0x32c633(0x61d)],'binary');_0x1ecabd=''+(0x0,F[_0x32c633(0x4c3)])(this[_0x32c633(0x1ba)],_0x32c633(0x42a)+_0x50a33b+_0x32c633(0x1fd)),this['logger']['verbose'](this[_0x32c633(0x84b)]+'\x20('+this[_0x32c633(0x5ef)][_0x32c633(0x222)]+'):Image\x20path:\x20'+_0x1ecabd),await(0x0,Jt[_0x32c633(0x6db)])(_0x12d17b)[_0x32c633(0x863)](_0x1ecabd),this['logger']['verbose'](this[_0x32c633(0x84b)]+'\x20('+this[_0x32c633(0x5ef)][_0x32c633(0x222)]+_0x32c633(0x452));}return await(0x0,Jt[_0x32c633(0x6db)])(_0x1ecabd)[_0x32c633(0x6ad)]()[_0x32c633(0x863)](_0x5d42c0),this['logger'][_0x32c633(0x230)](this[_0x32c633(0x84b)]+'\x20('+this['instance'][_0x32c633(0x222)]+_0x32c633(0x434)),k[_0x32c633(0x8bf)](_0x1ecabd),this[_0x32c633(0x55f)]['verbose'](this[_0x32c633(0x84b)]+'\x20('+this[_0x32c633(0x5ef)]['wuid']+_0x32c633(0x827)),_0x5d42c0;}catch(_0x3d66e2){let _0xd63a81=_0x32c633(0x700),_0x5de18d=_0x3d66e2 instanceof Error?_0x3d66e2[_0x32c633(0x6e8)]:typeof _0x3d66e2==_0x32c633(0x629)?JSON['stringify'](_0x3d66e2):_0x3d66e2,_0x48e6c3=_0xd63a81+':\x20'+_0x5de18d;this['logger']['error'](this[_0x32c633(0x84b)]+'\x20('+this[_0x32c633(0x5ef)]['wuid']+_0x32c633(0x653)+_0x48e6c3);}}async[a0_0xd17613(0x6c7)](_0x22a700){const _0x2d9b1b=a0_0xd17613;let _0x4987e0=await this[_0x2d9b1b(0x26c)](_0x22a700[_0x2d9b1b(0x2f4)][_0x2d9b1b(0x783)],_0x22a700[_0x2d9b1b(0x5dc)]),_0x4ec826=await this[_0x2d9b1b(0x36c)](_0x22a700['number'],{'sticker':{'url':_0x4987e0}},_0x22a700?.[_0x2d9b1b(0x55a)]);return k[_0x2d9b1b(0x8bf)](_0x4987e0),this[_0x2d9b1b(0x55f)][_0x2d9b1b(0x230)](this[_0x2d9b1b(0x84b)]+'\x20('+this[_0x2d9b1b(0x5ef)][_0x2d9b1b(0x222)]+_0x2d9b1b(0x1a4)),_0x4ec826;}async[a0_0xd17613(0x7aa)](_0x3fdcd3){const _0x1024ac=a0_0xd17613;if(this['logger'][_0x1024ac(0x230)](this[_0x1024ac(0x84b)]+'\x20('+this[_0x1024ac(0x5ef)][_0x1024ac(0x222)]+_0x1024ac(0x457)),!_0x3fdcd3[_0x1024ac(0x55a)]?.[_0x1024ac(0x5c5)]&&_0x3fdcd3[_0x1024ac(0x55a)]?.[_0x1024ac(0x5c5)]!==!0x1&&(_0x3fdcd3['options'][_0x1024ac(0x5c5)]=!0x0),_0x3fdcd3[_0x1024ac(0x55a)]?.[_0x1024ac(0x5c5)]){let _0x4685d3=await this[_0x1024ac(0x6ee)](_0x3fdcd3[_0x1024ac(0x34a)][_0x1024ac(0x46b)]);if(typeof _0x4685d3=='string'){let _0x483df1=k[_0x1024ac(0x1a5)](_0x4685d3)['toString'](_0x1024ac(0x2a1));return this[_0x1024ac(0x36c)](_0x3fdcd3[_0x1024ac(0x5dc)],{'audio':Buffer[_0x1024ac(0x310)](_0x483df1,'base64'),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':'recording','delay':_0x3fdcd3?.[_0x1024ac(0x55a)]?.[_0x1024ac(0x427)]});}else throw new _(_0x4685d3);}return await this['sendMessageWithTyping'](_0x3fdcd3[_0x1024ac(0x5dc)],{'audio':(0x0,P[_0x1024ac(0x195)])(_0x3fdcd3[_0x1024ac(0x34a)][_0x1024ac(0x46b)])?{'url':_0x3fdcd3['audioMessage'][_0x1024ac(0x46b)]}:Buffer[_0x1024ac(0x310)](_0x3fdcd3[_0x1024ac(0x34a)][_0x1024ac(0x46b)],_0x1024ac(0x2a1)),'ptt':!0x0,'mimetype':_0x1024ac(0x44c)},{'presence':_0x1024ac(0x6e3),'delay':_0x3fdcd3?.['options']?.['delay']});}async[a0_0xd17613(0x6ee)](_0x5c64d1){const _0xe47e4e=a0_0xd17613;this['logger']['verbose'](this[_0xe47e4e(0x84b)]+'\x20('+this[_0xe47e4e(0x5ef)][_0xe47e4e(0x222)]+_0xe47e4e(0x862));let _0x4a98e8=(0x0,P[_0xe47e4e(0x195)])(_0x5c64d1)?(0x0,qt[_0xe47e4e(0x5c3)])(_0xe47e4e(0x683))[_0xe47e4e(0x7c7)](_0x5c64d1)['digest'](_0xe47e4e(0x3fd)):(0x0,qt['createHash'])(_0xe47e4e(0x683))[_0xe47e4e(0x7c7)](_0x5c64d1)[_0xe47e4e(0x193)](_0xe47e4e(0x3fd)),_0x409cc8=''+(0x0,F[_0xe47e4e(0x4c3)])(this[_0xe47e4e(0x1ba)],_0x4a98e8+_0xe47e4e(0x767));if(k[_0xe47e4e(0x36a)](_0x409cc8))return this[_0xe47e4e(0x55f)][_0xe47e4e(0x230)](this['instanceName']+'\x20('+this['instance'][_0xe47e4e(0x222)]+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),_0x409cc8;let _0x483c39=''+(0x0,F[_0xe47e4e(0x4c3)])(this[_0xe47e4e(0x1ba)],_0xe47e4e(0x42a)+(0x0,me['v4'])()+_0xe47e4e(0x727));if((0x0,P[_0xe47e4e(0x195)])(_0x5c64d1)){let _0x4b9fc8=new Date()[_0xe47e4e(0x7da)](),_0x3b306c=_0x5c64d1+_0xe47e4e(0x449)+_0x4b9fc8,_0x468290=await Z['default'][_0xe47e4e(0x8bc)](_0x3b306c,{'responseType':_0xe47e4e(0x89a)});k['writeFileSync'](_0x483c39,_0x468290[_0xe47e4e(0x61d)]);}else{let _0x3d0b87=Buffer['from'](_0x5c64d1,'base64');k['writeFileSync'](_0x483c39,_0x3d0b87);}return new Promise((_0x445d1e,_0x57f8e2)=>{const _0x569696=_0xe47e4e;(0x0,ke['exec'])(Ds['default']['path']+_0x569696(0x4b2)+_0x483c39+_0x569696(0x58f)+_0x409cc8+_0x569696(0x53d),_0x219f24=>{const _0x4a09df=_0x569696;if(k['unlinkSync'](_0x483c39),_0x219f24){this[_0x4a09df(0x55f)][_0x4a09df(0x230)](this[_0x4a09df(0x84b)]+'\x20('+this['instance'][_0x4a09df(0x222)]+_0x4a09df(0x749)),_0x57f8e2(_0x219f24);return;}this['logger'][_0x4a09df(0x230)](this[_0x4a09df(0x84b)]+'\x20('+this['instance'][_0x4a09df(0x222)]+'):Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x445d1e(_0x409cc8);});});}async[a0_0xd17613(0x6ec)](_0x631f7f){const _0xe7de21=a0_0xd17613;this[_0xe7de21(0x55f)][_0xe7de21(0x230)](this[_0xe7de21(0x84b)]+'\x20('+this['instance'][_0xe7de21(0x222)]+'):Processing\x20audio');let _0x290b73=(0x0,qt[_0xe7de21(0x5c3)])(_0xe7de21(0x683))[_0xe7de21(0x7c7)](_0x631f7f)[_0xe7de21(0x193)](_0xe7de21(0x3fd)),_0x6594e4=''+(0x0,F[_0xe7de21(0x4c3)])(this[_0xe7de21(0x1ba)],_0x290b73+_0xe7de21(0x727));if(k[_0xe7de21(0x36a)](_0x6594e4))return this[_0xe7de21(0x55f)][_0xe7de21(0x230)](this[_0xe7de21(0x84b)]+'\x20('+this['instance'][_0xe7de21(0x222)]+_0xe7de21(0x482)),F['default']['basename'](_0x6594e4);let _0x516cac=''+(0x0,F[_0xe7de21(0x4c3)])(this[_0xe7de21(0x1ba)],'temp-'+_0x290b73+'.ogg');if((0x0,P[_0xe7de21(0x195)])(_0x631f7f)){let _0x4e0fe5=new Date()[_0xe7de21(0x7da)](),_0x5b1140=_0x631f7f+_0xe7de21(0x449)+_0x4e0fe5,_0x2ccb82=await Z[_0xe7de21(0x6db)]['get'](_0x5b1140,{'responseType':_0xe7de21(0x89a)});k[_0xe7de21(0x5f8)](_0x516cac,_0x2ccb82[_0xe7de21(0x61d)]);}else{let _0x28a169=Buffer[_0xe7de21(0x310)](_0x631f7f,_0xe7de21(0x2a1));k['writeFileSync'](_0x516cac,_0x28a169);}return new Promise((_0x65190c,_0x413731)=>{const _0xd4372a=_0xe7de21;(0x0,ke[_0xd4372a(0x2f2)])(Ds['default'][_0xd4372a(0x7f6)]+_0xd4372a(0x4b2)+_0x516cac+_0xd4372a(0x5a9)+_0x6594e4+_0xd4372a(0x53d),_0x371da6=>{const _0x2b282f=_0xd4372a;if(k['unlinkSync'](_0x516cac),_0x371da6){this[_0x2b282f(0x55f)][_0x2b282f(0x230)](this[_0x2b282f(0x84b)]+'\x20('+this[_0x2b282f(0x5ef)][_0x2b282f(0x222)]+_0x2b282f(0x749)),_0x413731(_0x371da6);return;}this['logger'][_0x2b282f(0x230)](this[_0x2b282f(0x84b)]+'\x20('+this[_0x2b282f(0x5ef)]['wuid']+_0x2b282f(0x8a1)),_0x65190c(F[_0x2b282f(0x6db)][_0x2b282f(0x29b)](_0x6594e4));});});}async[a0_0xd17613(0x236)](_0x44efb6){const _0x43432e=a0_0xd17613;let _0x4447a0={},_0x19be8e=_0x43432e(0x29e);if(_0x44efb6[_0x43432e(0x236)]?.[_0x43432e(0x69e)]){_0x19be8e=_0x44efb6[_0x43432e(0x236)]['mediaMessage']?.[_0x43432e(0x7c6)][_0x43432e(0x5ca)]()??_0x43432e(0x29e),_0x4447a0[_0x43432e(0x821)]=_0x19be8e['toLowerCase']()+_0x43432e(0x815);let _0x150bc8=await this[_0x43432e(0x63d)](_0x44efb6['buttonMessage']['mediaMessage']);_0x4447a0['message']=_0x150bc8['message'][_0x4447a0[_0x43432e(0x821)]],_0x4447a0[_0x43432e(0x22c)]='*'+_0x44efb6[_0x43432e(0x236)][_0x43432e(0x30b)]+'*\x0a\x0a'+_0x44efb6['buttonMessage'][_0x43432e(0x4ee)];}let _0x2e4808={'text':_0x44efb6[_0x43432e(0x236)][_0x43432e(0x73e)][_0x43432e(0x50f)](_0x16f875=>_0x16f875['buttonText']),'ids':_0x44efb6[_0x43432e(0x236)][_0x43432e(0x73e)][_0x43432e(0x50f)](_0x501f7b=>_0x501f7b['buttonId'])};if(!(0x0,P['arrayUnique'])(_0x2e4808[_0x43432e(0x80f)])||!(0x0,P[_0x43432e(0x673)])(_0x2e4808[_0x43432e(0x172)]))throw new m(_0x43432e(0x61e),_0x43432e(0x1f7));return await this['sendMessageWithTyping'](_0x44efb6['number'],{'buttonsMessage':{'text':_0x4447a0?.[_0x43432e(0x821)]?void 0x0:_0x44efb6[_0x43432e(0x236)]['title'],'contentText':_0x4447a0?.[_0x43432e(0x22c)]??_0x44efb6[_0x43432e(0x236)][_0x43432e(0x4ee)],'footerText':_0x44efb6['buttonMessage']?.[_0x43432e(0x84a)],'buttons':_0x44efb6[_0x43432e(0x236)][_0x43432e(0x73e)]['map'](_0x3abbf6=>({'buttonText':{'displayText':_0x3abbf6[_0x43432e(0x78f)]},'buttonId':_0x3abbf6[_0x43432e(0x486)],'type':0x1})),'headerType':w[_0x43432e(0x877)][_0x43432e(0x815)][_0x43432e(0x74b)][_0x43432e(0x60c)][_0x19be8e],[_0x4447a0?.[_0x43432e(0x821)]]:_0x4447a0?.['message']}},_0x44efb6?.[_0x43432e(0x55a)]);}async['locationMessage'](_0x5a878a){const _0x926419=a0_0xd17613;return await this[_0x926419(0x36c)](_0x5a878a[_0x926419(0x5dc)],{'locationMessage':{'degreesLatitude':_0x5a878a['locationMessage']['latitude'],'degreesLongitude':_0x5a878a['locationMessage'][_0x926419(0x679)],'name':_0x5a878a[_0x926419(0x64b)]?.['name'],'address':_0x5a878a[_0x926419(0x64b)]?.[_0x926419(0x8b9)]}},_0x5a878a?.[_0x926419(0x55a)]);}async[a0_0xd17613(0x8be)](_0x18e570){const _0x1e8b65=a0_0xd17613;let _0x20a30b={},_0xf10f03=async _0x2a46da=>{const _0x34e43a=a0_0x3a35;let _0x1016d6='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x2a46da[_0x34e43a(0x397)]+_0x34e43a(0x7db)+_0x2a46da[_0x34e43a(0x397)]+'\x0a';_0x2a46da[_0x34e43a(0x444)]&&(_0x1016d6+=_0x34e43a(0x3de)+_0x2a46da['organization']+';\x0a'),_0x2a46da[_0x34e43a(0x889)]&&(_0x1016d6+=_0x34e43a(0x69b)+_0x2a46da[_0x34e43a(0x889)]+'\x0a'),_0x2a46da['url']&&(_0x1016d6+=_0x34e43a(0x804)+_0x2a46da[_0x34e43a(0x6fb)]+'\x0a');let _0x49c7d2='',_0x1c40f3=0x1;if(_0x2a46da['phoneNumber']){let _0x3b82c6=_0x2a46da[_0x34e43a(0x8c1)][_0x34e43a(0x37b)]('|');for(let _0x1dad93 of _0x3b82c6){let _0xbdfc60=await this['whatsappNumber']({'numbers':[_0x1dad93]}),_0x2d5582=(_0xbdfc60[_0x34e43a(0x4ba)]>0x0?_0xbdfc60[0x0]['jid']:this[_0x34e43a(0x564)](_0x1dad93))[_0x34e43a(0x523)](_0x34e43a(0x617),'');_0x49c7d2+=_0x34e43a(0x6d3)+_0x1c40f3+'.TEL;waid='+_0x2d5582+':'+_0x1dad93+'\x0aitem'+_0x1c40f3+'.X-ABLabel:Celular\x0a',_0x1c40f3++;}}return _0x1016d6+=_0x49c7d2+_0x34e43a(0x458),_0x1016d6;};return _0x18e570[_0x1e8b65(0x8be)]['length']===0x1?_0x20a30b['contactMessage']={'displayName':_0x18e570[_0x1e8b65(0x8be)][0x0][_0x1e8b65(0x397)],'vcard':await _0xf10f03(_0x18e570[_0x1e8b65(0x8be)][0x0])}:_0x20a30b['contactsArrayMessage']={'displayName':_0x18e570[_0x1e8b65(0x8be)][_0x1e8b65(0x4ba)]+_0x1e8b65(0x248),'contacts':await Promise[_0x1e8b65(0x23c)](_0x18e570[_0x1e8b65(0x8be)][_0x1e8b65(0x50f)](async _0x26021e=>({'displayName':_0x26021e['fullName'],'vcard':await _0xf10f03(_0x26021e)})))},await this[_0x1e8b65(0x36c)](_0x18e570['number'],{..._0x20a30b},_0x18e570?.[_0x1e8b65(0x55a)]);}async[a0_0xd17613(0x53b)](_0x50ac20){const _0x4d27ee=a0_0xd17613;return await this[_0x4d27ee(0x36c)](_0x50ac20[_0x4d27ee(0x53b)][_0x4d27ee(0x212)]['remoteJid'],{'reactionMessage':{'key':_0x50ac20[_0x4d27ee(0x53b)][_0x4d27ee(0x212)],'text':_0x50ac20[_0x4d27ee(0x53b)][_0x4d27ee(0x621)]}});}async[a0_0xd17613(0x544)](_0x4e17f5){const _0x1b4a07=a0_0xd17613;let _0x59166f=[];for await(let _0x5b4525 of _0x4e17f5[_0x1b4a07(0x893)]){let _0x318a34=this['createJid'](_0x5b4525),_0x123d80=!0x1;try{if((0x0,w[_0x1b4a07(0x408)])(_0x318a34)){let _0x4826a1=(await this[_0x1b4a07(0x735)][_0x1b4a07(0x33f)][_0x1b4a07(0x86d)]({'where':{'_id':_0x318a34}},this[_0x1b4a07(0x5ef)][_0x1b4a07(0x222)]))[_0x1b4a07(0x61b)];_0x4826a1?(_0x123d80=!0x0,_0x59166f[_0x1b4a07(0x668)](new ne(_0x4826a1['id'],_0x123d80,_0x4826a1?.[_0x1b4a07(0x332)]))):(_0x4826a1=await this[_0x1b4a07(0x575)]({'groupJid':_0x318a34},'inner'),_0x59166f[_0x1b4a07(0x668)](new ne(_0x4826a1['id'],!!_0x4826a1?.['id'],_0x4826a1?.[_0x1b4a07(0x332)])));}else{if(_0x318a34['includes'](_0x1b4a07(0x1b9)))_0x59166f['push'](new ne(_0x318a34,!0x0));else{let _0x1d8ca0=(await this[_0x1b4a07(0x197)]['onWhatsApp'](_0x318a34))[0x0];_0x59166f[_0x1b4a07(0x668)](new ne(_0x1d8ca0[_0x1b4a07(0x773)],_0x1d8ca0[_0x1b4a07(0x250)]));}}}catch{(0x0,w[_0x1b4a07(0x408)])(_0x318a34)||await this['deleteImportedChat'](_0x318a34),_0x59166f[_0x1b4a07(0x668)](new ne(_0x5b4525,!0x1));}}return _0x59166f;}async[a0_0xd17613(0x846)](_0x30c98a){const _0x2798e3=a0_0xd17613;try{await this['repository'][_0x2798e3(0x33f)][_0x2798e3(0x86d)]({'where':{'_id':_0x30c98a,'imported':!0x0}},this[_0x2798e3(0x5ef)][_0x2798e3(0x222)])&&(await this[_0x2798e3(0x735)][_0x2798e3(0x33f)][_0x2798e3(0x3cf)](_0x30c98a,this['instance']['wuid']),this[_0x2798e3(0x55f)][_0x2798e3(0x40c)]('Chat\x20com\x20ID\x20'+_0x30c98a+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.'));}catch(_0x352e1e){let _0x25bc33=_0x2798e3(0x217),_0x2f6020=_0x352e1e instanceof Error?_0x352e1e[_0x2798e3(0x6e8)]:typeof _0x352e1e==_0x2798e3(0x629)?JSON[_0x2798e3(0x78e)](_0x352e1e):_0x352e1e,_0x1656b0=_0x25bc33+':\x20'+_0x2f6020;this[_0x2798e3(0x55f)]['error'](this[_0x2798e3(0x84b)]+'\x20('+this['instance'][_0x2798e3(0x222)]+_0x2798e3(0x653)+_0x1656b0);}}async[a0_0xd17613(0x268)](_0xbd8e76){const _0x5d5396=a0_0xd17613;try{let _0x36c53b=_0xbd8e76['readMessages'][_0x5d5396(0x736)](_0x4cba6b=>(0x0,w[_0x5d5396(0x408)])(_0x4cba6b['remoteJid'])||(0x0,w[_0x5d5396(0x5b5)])(_0x4cba6b[_0x5d5396(0x2dd)]))[_0x5d5396(0x50f)](_0x11236d=>({'remoteJid':_0x11236d['remoteJid'],'fromMe':_0x11236d['fromMe'],'id':_0x11236d['id']}));await this[_0x5d5396(0x197)]['readMessages'](_0x36c53b);let _0x4e0b35=_0x36c53b['map'](_0x2c39fc=>this[_0x5d5396(0x87d)](_0x2c39fc,{'status':_0x5d5396(0x2b6),'owner':this[_0x5d5396(0x5ef)][_0x5d5396(0x222)]})),_0x4a4d9c=_0x36c53b[_0x5d5396(0x50f)](_0x372d2e=>this['repository']['chat'][_0x5d5396(0x8ae)]({'where':{'_id':_0x372d2e[_0x5d5396(0x2dd)]}},{'unreadcount':0x0},this[_0x5d5396(0x5ef)]['wuid'])),[_0x1a817b,_0x31d4e0]=await Promise['all']([Promise[_0x5d5396(0x23c)](_0x4e0b35),Promise[_0x5d5396(0x23c)](_0x4a4d9c)]);return _0x31d4e0[_0x5d5396(0x736)](_0x5b3f28=>_0x5b3f28!==null)[_0x5d5396(0x2a4)](_0x184c0d=>{const _0x2129eb=_0x5d5396;U(this[_0x2129eb(0x84b)],_0x2129eb(0x17c),{'chat':_0x184c0d});}),{'message':'Read\x20messages','read':'success'};}catch(_0x49e04c){let _0x18d541=_0x5d5396(0x31f),_0x10984f=_0x49e04c instanceof Error?_0x49e04c['message']:typeof _0x49e04c==_0x5d5396(0x629)?JSON[_0x5d5396(0x78e)](_0x49e04c):_0x49e04c,_0x2f36df=_0x18d541+':\x20'+_0x10984f;throw this[_0x5d5396(0x55f)][_0x5d5396(0x37f)](this[_0x5d5396(0x84b)]+'\x20('+this['instance'][_0x5d5396(0x222)]+'):\x20'+_0x2f36df),new _(_0x2f36df);}}async['getLastMessage'](_0x1e91f9){const _0x320684=a0_0xd17613;let _0x426c3a={'where':{'key':{'remoteJid':_0x1e91f9}},'limit':0x1},_0x44a8f1=await this[_0x320684(0x235)](_0x426c3a);return _0x44a8f1||(this['logger'][_0x320684(0x37f)](_0x320684(0x508)+_0x1e91f9),null);}async[a0_0xd17613(0x53c)](_0x11f101){const _0xab6dbb=a0_0xd17613;this['logger']['verbose'](this[_0xab6dbb(0x84b)]+'\x20('+this[_0xab6dbb(0x5ef)]['wuid']+_0xab6dbb(0x337));try{let _0x15ff00=_0x11f101[_0xab6dbb(0x8b5)],_0x541be7=_0x11f101['chat'];if(!_0x15ff00&&_0x541be7?_0x15ff00=await this[_0xab6dbb(0x762)](_0x541be7):(_0x15ff00=_0x11f101['lastMessage'],_0x15ff00['messageTimestamp']=_0x15ff00?.[_0xab6dbb(0x4c8)]??Date['now'](),_0x541be7=_0x15ff00?.[_0xab6dbb(0x212)]?.[_0xab6dbb(0x2dd)]),!_0x15ff00||Object['keys'](_0x15ff00)[_0xab6dbb(0x4ba)]===0x0)throw new j('Last\x20message\x20not\x20found');this[_0xab6dbb(0x55f)][_0xab6dbb(0x230)](this['instanceName']+'\x20('+this[_0xab6dbb(0x5ef)]['wuid']+_0xab6dbb(0x566)+_0x541be7);try{await this['client'][_0xab6dbb(0x620)]({'archive':_0x11f101[_0xab6dbb(0x84e)],'lastMessages':[_0x15ff00]},this[_0xab6dbb(0x564)](_0x541be7));}catch(_0x1e4a50){let _0x242ff1=_0xab6dbb(0x5df)+_0x541be7,_0x3ffc20=_0x1e4a50 instanceof Error?_0x1e4a50[_0xab6dbb(0x6e8)]:typeof _0x1e4a50==_0xab6dbb(0x629)?JSON['stringify'](_0x1e4a50):_0x1e4a50,_0x2b7a9c=_0x242ff1+':\x20'+_0x3ffc20;this[_0xab6dbb(0x55f)][_0xab6dbb(0x37f)](this[_0xab6dbb(0x84b)]+'\x20('+this[_0xab6dbb(0x5ef)][_0xab6dbb(0x222)]+_0xab6dbb(0x653)+_0x2b7a9c);}this['logger'][_0xab6dbb(0x230)](this['instanceName']+'\x20('+this[_0xab6dbb(0x5ef)]['wuid']+_0xab6dbb(0x1dd)+_0x541be7);let _0x831861=await this[_0xab6dbb(0x735)][_0xab6dbb(0x33f)]['updateOne']({'where':{'_id':_0x15ff00?.[_0xab6dbb(0x212)]?.[_0xab6dbb(0x2dd)]}},{'archived':_0x11f101[_0xab6dbb(0x84e)]},this[_0xab6dbb(0x5ef)][_0xab6dbb(0x222)]);return _0x831861?(this['logger']['verbose'](this[_0xab6dbb(0x84b)]+'\x20('+this[_0xab6dbb(0x5ef)]['wuid']+'):Notifying\x20clients\x20for\x20chat:\x20'+JSON[_0xab6dbb(0x78e)](_0x831861)),U(this[_0xab6dbb(0x84b)],'chats',{'chat':_0x831861})):this[_0xab6dbb(0x55f)][_0xab6dbb(0x37f)](this['instanceName']+'\x20('+this[_0xab6dbb(0x5ef)][_0xab6dbb(0x222)]+'):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x541be7),{'chatId':_0x541be7,'archived':_0x11f101[_0xab6dbb(0x84e)]};}catch(_0x58d55b){let _0x57eb43=_0xab6dbb(0x3a8),_0x49e86a=_0x58d55b instanceof Error?_0x58d55b['message']:typeof _0x58d55b==_0xab6dbb(0x629)?JSON[_0xab6dbb(0x78e)](_0x58d55b):_0x58d55b,_0x3db177=_0x57eb43+':\x20'+_0x49e86a;throw this['logger']['error'](this[_0xab6dbb(0x84b)]+'\x20('+this['instance'][_0xab6dbb(0x222)]+_0xab6dbb(0x653)+_0x3db177),new _(_0x3db177);}}async[a0_0xd17613(0x3cf)](_0x135c2d){const _0x51ddf4=a0_0xd17613;this[_0x51ddf4(0x55f)][_0x51ddf4(0x230)](this[_0x51ddf4(0x84b)]+'\x20('+this['instance']['wuid']+_0x51ddf4(0x633));try{let _0x3807b6=await this['getLastMessage'](_0x135c2d);if(!_0x3807b6||Object[_0x51ddf4(0x6f6)](_0x3807b6)[_0x51ddf4(0x4ba)]===0x0)throw new j(_0x51ddf4(0x616));let _0x2ddfd0=_0x3807b6[0x0];this[_0x51ddf4(0x55f)][_0x51ddf4(0x230)](this['instanceName']+'\x20('+this[_0x51ddf4(0x5ef)][_0x51ddf4(0x222)]+_0x51ddf4(0x7a2)+_0x135c2d);try{await this[_0x51ddf4(0x197)]['chatModify']({'delete':!0x0,'lastMessages':[{'key':_0x2ddfd0[_0x51ddf4(0x212)],'messageTimestamp':_0x2ddfd0['messageTimestamp']}]},this[_0x51ddf4(0x564)](_0x135c2d));}catch(_0x3fefa0){this[_0x51ddf4(0x55f)][_0x51ddf4(0x37f)](_0x51ddf4(0x5df)+_0x135c2d+':\x20'+_0x3fefa0[_0x51ddf4(0x883)]());}this[_0x51ddf4(0x55f)][_0x51ddf4(0x230)](this[_0x51ddf4(0x84b)]+'\x20('+this[_0x51ddf4(0x5ef)][_0x51ddf4(0x222)]+_0x51ddf4(0x1dd)+_0x135c2d);return;}catch(_0x128e16){throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x51ddf4(0x5ef)]['wuid']+_0x51ddf4(0x589)+_0x128e16[_0x51ddf4(0x883)]()),new _({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x128e16[_0x51ddf4(0x883)]()]});}}async['deleteMessage'](_0x2fc90b){const _0xf281bf=a0_0xd17613;try{let _0x54fcac=await this[_0xf281bf(0x197)][_0xf281bf(0x569)](_0x2fc90b[_0xf281bf(0x2dd)],{'delete':_0x2fc90b});try{let _0x218e7e=await this['updateMessage'](_0x2fc90b,{'status':'DELETED','owner':this[_0xf281bf(0x5ef)][_0xf281bf(0x222)]});this[_0xf281bf(0x55f)][_0xf281bf(0x230)](this[_0xf281bf(0x84b)]+'\x20('+this['instance'][_0xf281bf(0x222)]+'):\x20updateResult:'+_0x218e7e);}catch(_0x1eb9a6){this[_0xf281bf(0x55f)][_0xf281bf(0x37f)](_0xf281bf(0x3f9)+_0x1eb9a6);}return _0x54fcac;}catch(_0x2baf5b){throw new _(_0xf281bf(0x67f),_0x2baf5b?.[_0xf281bf(0x883)]());}}async[a0_0xd17613(0x267)](_0x3e52fb){const _0x76df74=a0_0xd17613;try{let _0xa64b2d=_0x3e52fb?.[_0x76df74(0x6e8)]?_0x3e52fb:await this[_0x76df74(0x769)](_0x3e52fb[_0x76df74(0x212)],!0x0);for(let _0x1adc69 of Ea)_0xa64b2d[_0x76df74(0x6e8)][_0x1adc69]&&(_0xa64b2d[_0x76df74(0x6e8)]=_0xa64b2d[_0x76df74(0x6e8)][_0x1adc69][_0x76df74(0x6e8)]);let _0x162349,_0x37e40e;for(let _0x5e332d of Ca)if(_0x162349=_0xa64b2d['message'][_0x5e332d],_0x162349){_0x37e40e=_0x5e332d;break;}if(!_0x162349)throw _0x76df74(0x401);typeof _0x162349[_0x76df74(0x821)]==_0x76df74(0x629)&&(_0xa64b2d[_0x76df74(0x6e8)]=JSON['parse'](JSON[_0x76df74(0x78e)](_0xa64b2d[_0x76df74(0x6e8)])));let _0x2c5cfb=await(0x0,w['downloadMediaMessage'])({'key':_0xa64b2d?.[_0x76df74(0x212)],'message':_0xa64b2d?.[_0x76df74(0x6e8)]},_0x76df74(0x216),{},{'logger':(0x0,Ut[_0x76df74(0x6db)])({'level':_0x76df74(0x76b)}),'reuploadRequest':this[_0x76df74(0x197)][_0x76df74(0x664)]});if(!(_0x2c5cfb instanceof Buffer))throw new Error(_0x76df74(0x40a));let _0x1d95e7=this[_0x76df74(0x3ea)]['get'](_0x76df74(0x347)),_0x4296e5,_0x49c6bd;if(_0x162349[_0x76df74(0x73b)])_0x4296e5=_0x162349[_0x76df74(0x73b)];else{let _0x56555b=_0x162349[_0x76df74(0x646)]?.[_0x76df74(0x1b3)](/\/(\w+)/),_0x5379ec=_0x56555b?_0x56555b[0x1]:null;if(!_0x5379ec)throw new Error(_0x76df74(0x3d3));_0x4296e5=(0x0,me['v4'])()+'.'+_0x5379ec;}_0x37e40e==='audioMessage'?_0x49c6bd=_0x76df74(0x372)+await this['convertaudioMP3'](_0x2c5cfb[_0x76df74(0x883)](_0x76df74(0x2a1))):(await this[_0x76df74(0x2bd)](_0x2c5cfb,_0x4296e5),_0x49c6bd=_0x76df74(0x372)+_0x4296e5);let _0x36d5f6=this['configService'][_0x76df74(0x8bc)](_0x76df74(0x649))[_0x76df74(0x3b9)];if(!_0x36d5f6){let _0x42ab44=this[_0x76df74(0x3ea)][_0x76df74(0x8bc)](_0x76df74(0x70c));_0x36d5f6=_0x76df74(0x5a2)+(_0x42ab44&&_0x42ab44['FULLCHAIN'][_0x76df74(0x37b)]('/')[0x4]);}_0x49c6bd=''+_0x36d5f6+_0x49c6bd;let _0x135f45=0xc*0x3c*0x3c*0x3e8,_0x319f15={'where':{'_id':_0xa64b2d['key']['id']}},_0x36cb4e={'message_normalized.fileUrl':_0x49c6bd,'message_normalized.expires_fileUrl':Date[_0x76df74(0x81a)]()+_0x135f45};try{let _0xc08e59=await this[_0x76df74(0x735)][_0x76df74(0x6e8)][_0x76df74(0x7c7)](_0x319f15,_0x36cb4e,this[_0x76df74(0x5ef)][_0x76df74(0x222)]);_0xc08e59&&U(this[_0x76df74(0x84b)],_0x76df74(0x639),{'message':_0xc08e59});}catch(_0x1a3bf2){let _0x525998=_0x76df74(0x6ce),_0xe7d334=_0x1a3bf2 instanceof Error?_0x1a3bf2[_0x76df74(0x6e8)]:typeof _0x1a3bf2=='object'?JSON[_0x76df74(0x78e)](_0x1a3bf2):_0x1a3bf2,_0x18502b=_0x525998+':\x20'+_0xe7d334;this[_0x76df74(0x55f)][_0x76df74(0x37f)](this[_0x76df74(0x84b)]+'\x20('+this[_0x76df74(0x5ef)]['wuid']+_0x76df74(0x653)+_0x18502b);}return{'mediaType':_0x37e40e,'fileName':_0x162349[_0x76df74(0x73b)],'caption':_0x162349[_0x76df74(0x1cb)],'size':{'fileLength':_0x162349[_0x76df74(0x57c)],'height':_0x162349[_0x76df74(0x55e)],'width':_0x162349[_0x76df74(0x502)]},'mimetype':_0x162349[_0x76df74(0x646)],'base64':_0x2c5cfb['toString'](_0x76df74(0x2a1)),'fileUrl':_0x49c6bd,'expires_fileUrl':Date['now']()+_0x135f45};}catch(_0xc95a2e){let _0x2b01e0=_0x76df74(0x2b3),_0x4022a3=_0xc95a2e instanceof Error?_0xc95a2e[_0x76df74(0x6e8)]:typeof _0xc95a2e=='object'?JSON[_0x76df74(0x78e)](_0xc95a2e):_0xc95a2e,_0x199f0b=_0x2b01e0+':\x20'+_0x4022a3;throw this[_0x76df74(0x55f)]['error'](this[_0x76df74(0x84b)]+'\x20('+this[_0x76df74(0x5ef)]['wuid']+'):\x20'+_0x199f0b),new m(_0x199f0b);}}async[a0_0xd17613(0x2bd)](_0x5f3b7f,_0x16ebfb){const _0x2f8c9e=a0_0xd17613;let _0x1c80c4=F['default'][_0x2f8c9e(0x4c3)](__dirname,_0x2f8c9e(0x4c1));k['existsSync'](_0x1c80c4)||k[_0x2f8c9e(0x5cc)](_0x1c80c4,{'recursive':!0x0});let _0x5ed030=F[_0x2f8c9e(0x6db)][_0x2f8c9e(0x4c3)](_0x1c80c4,_0x16ebfb);return new Promise((_0x52aa04,_0xa62126)=>{const _0x65ffd2=_0x2f8c9e;k[_0x65ffd2(0x83b)](_0x5ed030,_0x5f3b7f,_0x5d9b0c=>{const _0x5b60e6=_0x65ffd2;_0x5d9b0c?(this[_0x5b60e6(0x55f)][_0x5b60e6(0x37f)](_0x5b60e6(0x5bf)+(_0x5d9b0c instanceof Error?_0x5d9b0c[_0x5b60e6(0x6e8)]:JSON['stringify'](_0x5d9b0c,null,0x2))),_0xa62126(_0x5d9b0c)):(this[_0x5b60e6(0x55f)][_0x5b60e6(0x5c6)](_0x5b60e6(0x6d4)+_0x5ed030),_0x52aa04(_0x5ed030));});});}async[a0_0xd17613(0x343)](_0x2a3e72){const _0x2bc6e7=a0_0xd17613;return await this['repository'][_0x2bc6e7(0x240)][_0x2bc6e7(0x357)](_0x2a3e72,this[_0x2bc6e7(0x5ef)][_0x2bc6e7(0x222)]);}async[a0_0xd17613(0x789)](){const _0x486ef7=a0_0xd17613;return await this[_0x486ef7(0x735)][_0x486ef7(0x6cc)][_0x486ef7(0x357)]({'where':{}},this[_0x486ef7(0x5ef)][_0x486ef7(0x222)]);}async[a0_0xd17613(0x235)](_0x3550c7){const _0x347142=a0_0xd17613;return await this['repository'][_0x347142(0x6e8)][_0x347142(0x357)](_0x3550c7,this[_0x347142(0x5ef)][_0x347142(0x222)]);}async[a0_0xd17613(0x82f)](){const _0x20d1d7=a0_0xd17613;return this['repository'][_0x20d1d7(0x33f)][_0x20d1d7(0x338)](this[_0x20d1d7(0x5ef)][_0x20d1d7(0x222)]),this[_0x20d1d7(0x735)][_0x20d1d7(0x33f)][_0x20d1d7(0x2d2)](this[_0x20d1d7(0x5ef)][_0x20d1d7(0x222)]),this['repository']['chat'][_0x20d1d7(0x3b0)](this[_0x20d1d7(0x5ef)][_0x20d1d7(0x222)]),this[_0x20d1d7(0x735)][_0x20d1d7(0x33f)]['updateMissingCustomFields'](this[_0x20d1d7(0x5ef)][_0x20d1d7(0x222)]),await this[_0x20d1d7(0x735)][_0x20d1d7(0x33f)][_0x20d1d7(0x357)]({'where':{}},this[_0x20d1d7(0x5ef)]['wuid']);}async[a0_0xd17613(0x7cb)](_0x35e24f){const _0x4722af=a0_0xd17613;try{if(!Array['isArray'](_0x35e24f)||_0x35e24f[_0x4722af(0x4ba)]===0x0)throw new Error(_0x4722af(0x4c0));let _0x4bf913=[],_0x64f42c=[];for(let _0x5edc89 of _0x35e24f){if(_0x5edc89[_0x4722af(0x19a)])_0x5edc89[_0x4722af(0x19a)]=this[_0x4722af(0x564)](_0x5edc89[_0x4722af(0x19a)]);else continue;await this[_0x4722af(0x735)][_0x4722af(0x33f)][_0x4722af(0x86d)]({'where':{'_id':_0x5edc89['_id']}},this[_0x4722af(0x5ef)]['wuid'])?_0x64f42c[_0x4722af(0x668)]({'_id':_0x5edc89[_0x4722af(0x19a)],'leadInfo':_0x5edc89[_0x4722af(0x4d3)],'owner':this['instance'][_0x4722af(0x222)]}):_0x4bf913[_0x4722af(0x668)]({'_id':_0x5edc89[_0x4722af(0x19a)],'owner':this[_0x4722af(0x5ef)][_0x4722af(0x222)],'leadInfo':_0x5edc89[_0x4722af(0x4d3)],'imported':!0x0});}return _0x64f42c[_0x4722af(0x4ba)]>0x0&&await this[_0x4722af(0x735)][_0x4722af(0x33f)][_0x4722af(0x257)](_0x64f42c[_0x4722af(0x50f)](_0xa112fc=>({'query':{'where':{'_id':_0xa112fc[_0x4722af(0x19a)],'owner':this[_0x4722af(0x5ef)][_0x4722af(0x222)]}},'update':_0xa112fc}))),_0x4bf913[_0x4722af(0x4ba)]>0x0&&await this[_0x4722af(0x735)]['chat'][_0x4722af(0x792)](_0x4bf913,this[_0x4722af(0x5ef)][_0x4722af(0x222)]),{'updated':_0x64f42c['length'],'inserted':_0x4bf913[_0x4722af(0x4ba)]};}catch(_0x455624){let _0x45e9b9='Erro\x20ao\x20importar\x20chats',_0x1f7e96=_0x455624 instanceof Error?_0x455624[_0x4722af(0x6e8)]:typeof _0x455624==_0x4722af(0x629)?JSON[_0x4722af(0x78e)](_0x455624):_0x455624,_0x5a1d4b=_0x45e9b9+':\x20'+_0x1f7e96;throw this[_0x4722af(0x55f)][_0x4722af(0x37f)](this[_0x4722af(0x84b)]+'\x20('+this[_0x4722af(0x5ef)][_0x4722af(0x222)]+_0x4722af(0x653)+_0x5a1d4b),new m(_0x5a1d4b);}}async[a0_0xd17613(0x18e)](_0x53a836){const _0x1d19c1=a0_0xd17613;try{if(!Array[_0x1d19c1(0x5cf)](_0x53a836)||_0x53a836['length']===0x0)throw new Error(_0x1d19c1(0x4c0));let _0x4008b7=0x64,_0x52ea5e=0x0;for(let _0x1cb4bb=0x0;_0x1cb4bb<_0x53a836[_0x1d19c1(0x4ba)];_0x1cb4bb+=_0x4008b7){let _0x2715d3=_0x53a836[_0x1d19c1(0x592)](_0x1cb4bb,_0x1cb4bb+_0x4008b7),{updated:_0x31ea61}=await this[_0x1d19c1(0x3f5)](_0x2715d3);_0x52ea5e+=_0x31ea61;}return{'updated':_0x52ea5e};}catch(_0x222fdb){let _0x5edb4d=_0x1d19c1(0x263),_0x182e31=_0x222fdb instanceof Error?_0x222fdb[_0x1d19c1(0x6e8)]:typeof _0x222fdb=='object'?JSON[_0x1d19c1(0x78e)](_0x222fdb):_0x222fdb,_0x2657c5=_0x5edb4d+':\x20'+_0x182e31;throw this[_0x1d19c1(0x55f)]['error'](this[_0x1d19c1(0x84b)]+'\x20('+this['instance'][_0x1d19c1(0x222)]+'):\x20'+_0x2657c5),new m(_0x2657c5);}}async[a0_0xd17613(0x3f5)](_0x1d6362){const _0x1d5dca=a0_0xd17613;try{let _0x3cc8a7=await this[_0x1d5dca(0x735)][_0x1d5dca(0x6cc)][_0x1d5dca(0x357)]({'where':{}},this[_0x1d5dca(0x5ef)][_0x1d5dca(0x222)]),_0x1b32b2=new Set(_0x3cc8a7[_0x1d5dca(0x50f)](_0xc46b9f=>_0xc46b9f[_0x1d5dca(0x19a)])),_0x4312e4=[],_0x5cf9b3=[];for(let _0x11f1c9 of _0x1d6362){if(!_0x11f1c9[_0x1d5dca(0x19a)])continue;_0x11f1c9[_0x1d5dca(0x19a)]=this[_0x1d5dca(0x564)](_0x11f1c9[_0x1d5dca(0x19a)]);let _0x934db4=await this[_0x1d5dca(0x735)][_0x1d5dca(0x33f)][_0x1d5dca(0x86d)]({'where':{'_id':_0x11f1c9['_id']}},this[_0x1d5dca(0x5ef)][_0x1d5dca(0x222)]),_0x4b8953={};if(Object[_0x1d5dca(0x748)](_0x11f1c9['leadInfo'])[_0x1d5dca(0x2a4)](([_0x479943,_0x16c096])=>{_0x4b8953['leadInfo.'+_0x479943]=_0x16c096;}),_0x934db4&&!_0x934db4[_0x1d5dca(0x719)]){let _0x188766=(_0x11f1c9[_0x1d5dca(0x4d3)][_0x1d5dca(0x48e)]||[])['filter'](_0x1e3309=>_0x1b32b2[_0x1d5dca(0x753)](_0x1e3309)),_0x1eda9e=new Set(_0x934db4[_0x1d5dca(0x4d3)][_0x1d5dca(0x48e)]||[]),_0x13aef4=_0x188766[_0x1d5dca(0x736)](_0x30eccd=>!_0x1eda9e['has'](_0x30eccd)),_0x36bab1=[..._0x1eda9e][_0x1d5dca(0x736)](_0x12fa59=>!_0x188766[_0x1d5dca(0x831)](_0x12fa59));_0x5cf9b3[_0x1d5dca(0x668)](..._0x13aef4[_0x1d5dca(0x50f)](_0x3cec0e=>this[_0x1d5dca(0x752)](_0x3cec0e,_0x11f1c9['_id']))),_0x5cf9b3[_0x1d5dca(0x668)](..._0x36bab1[_0x1d5dca(0x50f)](_0x301196=>this[_0x1d5dca(0x865)](_0x301196,_0x11f1c9['_id']))),_0x11f1c9[_0x1d5dca(0x4d3)][_0x1d5dca(0x48e)]=_0x188766,_0x4312e4[_0x1d5dca(0x668)]({'query':{'where':{'_id':_0x11f1c9[_0x1d5dca(0x19a)],'owner':this[_0x1d5dca(0x5ef)][_0x1d5dca(0x222)]}},'update':_0x4b8953});}else _0x4b8953['imported']=!0x0,_0x4312e4[_0x1d5dca(0x668)]({'query':{'where':{'_id':_0x11f1c9[_0x1d5dca(0x19a)],'owner':this[_0x1d5dca(0x5ef)][_0x1d5dca(0x222)]}},'update':_0x4b8953});}let _0x2efff4=await this['repository'][_0x1d5dca(0x33f)]['updateMany'](_0x4312e4);return await Promise[_0x1d5dca(0x23c)](_0x5cf9b3),{'updated':_0x2efff4};}catch(_0x498319){let _0x163457=_0x1d5dca(0x263),_0x453e7e=_0x498319 instanceof Error?_0x498319[_0x1d5dca(0x6e8)]:typeof _0x498319==_0x1d5dca(0x629)?JSON[_0x1d5dca(0x78e)](_0x498319):_0x498319,_0x22d010=_0x163457+':\x20'+_0x453e7e;throw this['logger'][_0x1d5dca(0x37f)](this[_0x1d5dca(0x84b)]+'\x20('+this['instance']['wuid']+_0x1d5dca(0x653)+_0x22d010),new m(_0x22d010);}}async[a0_0xd17613(0x295)](){const _0x34cfe4=a0_0xd17613;return await this[_0x34cfe4(0x197)]['fetchPrivacySettings']();}async[a0_0xd17613(0x6f8)](_0x52191d){const _0x3af5db=a0_0xd17613;try{return await this[_0x3af5db(0x197)]['updateReadReceiptsPrivacy'](_0x52191d[_0x3af5db(0x35a)][_0x3af5db(0x7b4)]),await this['client'][_0x3af5db(0x496)](_0x52191d['privacySettings'][_0x3af5db(0x62c)]),await this[_0x3af5db(0x197)][_0x3af5db(0x69a)](_0x52191d[_0x3af5db(0x35a)][_0x3af5db(0x1f8)]),await this[_0x3af5db(0x197)][_0x3af5db(0x7c2)](_0x52191d[_0x3af5db(0x35a)][_0x3af5db(0x2f7)]),await this['client'][_0x3af5db(0x869)](_0x52191d[_0x3af5db(0x35a)][_0x3af5db(0x35f)]),await this[_0x3af5db(0x197)][_0x3af5db(0x73d)](_0x52191d['privacySettings'][_0x3af5db(0x6bc)]),this[_0x3af5db(0x197)]?.['ws']?.[_0x3af5db(0x3a6)](),{'update':_0x3af5db(0x574),'data':{'readreceipts':_0x52191d[_0x3af5db(0x35a)][_0x3af5db(0x7b4)],'profile':_0x52191d[_0x3af5db(0x35a)][_0x3af5db(0x62c)],'status':_0x52191d[_0x3af5db(0x35a)][_0x3af5db(0x1f8)],'online':_0x52191d['privacySettings'][_0x3af5db(0x2f7)],'last':_0x52191d[_0x3af5db(0x35a)][_0x3af5db(0x35f)],'groupadd':_0x52191d[_0x3af5db(0x35a)][_0x3af5db(0x6bc)]}};}catch(_0xdf59bb){let _0xe88526=_0x3af5db(0x75e),_0x30aa9d=_0xdf59bb instanceof Error?_0xdf59bb['message']:typeof _0xdf59bb=='object'?JSON[_0x3af5db(0x78e)](_0xdf59bb):_0xdf59bb,_0x15679d=_0xe88526+':\x20'+_0x30aa9d;throw this[_0x3af5db(0x55f)][_0x3af5db(0x37f)](this['instanceName']+'\x20('+this['instance'][_0x3af5db(0x222)]+'):\x20'+_0x15679d),new m(_0x15679d);}}async['fetchProfile'](_0x528dc7){const _0x176b77=a0_0xd17613;let _0x16a8fa=(_0x528dc7?this['createJid'](_0x528dc7):this[_0x176b77(0x197)]?.[_0x176b77(0x361)]?.['id'])[_0x176b77(0x523)](/:\d{1,2}@/g,'@');this['logger'][_0x176b77(0x230)](this[_0x176b77(0x84b)]+'\x20('+this[_0x176b77(0x5ef)]['wuid']+_0x176b77(0x2fb)+_0x16a8fa);let _0x403a14=await this[_0x176b77(0x735)]['contact'][_0x176b77(0x86d)]({'where':{'_id':_0x16a8fa}},this[_0x176b77(0x5ef)][_0x176b77(0x222)]),_0x34967c=_0x403a14?_0x403a14[_0x176b77(0x5aa)]:null;try{let _0x43f56d=(await this['whatsappNumber']({'numbers':[_0x16a8fa]}))?.[_0x176b77(0x26f)](),_0x56274e=(await this[_0x176b77(0x3d2)](_0x16a8fa,null,!0x1))[_0x176b77(0x7ed)][_0x176b77(0x733)],_0x16e84c=await this[_0x176b77(0x2b0)](_0x43f56d?.[_0x176b77(0x773)]),_0x19f3f3=await this['fetchBusinessProfile'](_0x43f56d?.['jid']),_0x5e768f=(await this[_0x176b77(0x3d2)](_0x16a8fa,null,!0x1))[_0x176b77(0x7ed)][_0x176b77(0x4f2)],_0x7b39d=await this[_0x176b77(0x735)][_0x176b77(0x33f)][_0x176b77(0x86d)]({'where':{'_id':_0x16a8fa}},this['instance'][_0x176b77(0x222)]),_0x28bf11={'imagechat':_0x56274e,'contactname':_0x34967c||null,'pushName':_0x5e768f,'status':_0x16e84c?.[_0x176b77(0x1f8)],'isBusiness':_0x19f3f3[_0x176b77(0x745)],'email':_0x19f3f3?.['email'],'description':_0x19f3f3?.['description'],'website':_0x19f3f3?.[_0x176b77(0x42f)]?.[_0x176b77(0x26f)](),'lastcache':Date[_0x176b77(0x81a)](),'imported':!_0x7b39d},_0x2b4efa=await this['repository']['chat'][_0x176b77(0x8ae)]({'where':{'_id':_0x16a8fa}},_0x28bf11,this[_0x176b77(0x5ef)][_0x176b77(0x222)]),_0x551e36={'owner':this[_0x176b77(0x5ef)][_0x176b77(0x222)],'_id':_0x16a8fa,'profilePictureUrl':_0x56274e,'status':_0x16e84c?.[_0x176b77(0x1f8)]};return this[_0x176b77(0x735)][_0x176b77(0x240)]['update']([_0x551e36],this[_0x176b77(0x5ef)][_0x176b77(0x222)]),_0x2b4efa&&U(this['instanceName'],'chats',{'chat':_0x2b4efa}),{'wuid':_0x43f56d?.[_0x176b77(0x773)]||_0x16a8fa,'name':_0x43f56d?.[_0x176b77(0x4f2)],'pushName':_0x5e768f,'numberExists':_0x43f56d?.['exists'],'picture':_0x56274e,'status':_0x16e84c?.[_0x176b77(0x1f8)],'isBusiness':_0x19f3f3[_0x176b77(0x745)],'email':_0x19f3f3?.[_0x176b77(0x889)],'description':_0x19f3f3?.[_0x176b77(0x4ee)],'website':_0x19f3f3?.[_0x176b77(0x42f)]?.['shift']()};}catch(_0x244ede){return this['logger']['error'](_0x176b77(0x6b4)+(_0x244ede instanceof Error?_0x244ede[_0x176b77(0x6e8)]:JSON[_0x176b77(0x78e)](_0x244ede,null,0x2))),{};}}async[a0_0xd17613(0x66a)](_0x5db785){const _0x470a5c=a0_0xd17613;this[_0x470a5c(0x55f)][_0x470a5c(0x230)](this[_0x470a5c(0x84b)]+'\x20('+this[_0x470a5c(0x5ef)][_0x470a5c(0x222)]+_0x470a5c(0x277));try{let _0x33228c=_0x5db785?this[_0x470a5c(0x564)](_0x5db785):this[_0x470a5c(0x5ef)][_0x470a5c(0x222)],_0x2ecacb=await this[_0x470a5c(0x197)][_0x470a5c(0x6dd)](_0x33228c);return this['logger']['verbose'](this[_0x470a5c(0x84b)]+'\x20('+this[_0x470a5c(0x5ef)][_0x470a5c(0x222)]+_0x470a5c(0x88b)),_0x2ecacb?(this['logger'][_0x470a5c(0x230)](this[_0x470a5c(0x84b)]+'\x20('+this[_0x470a5c(0x5ef)][_0x470a5c(0x222)]+_0x470a5c(0x88e)),{'isBusiness':!0x0,..._0x2ecacb}):{'isBusiness':!0x1,'message':_0x470a5c(0x712),...(await this[_0x470a5c(0x544)]({'numbers':[_0x33228c]}))?.[_0x470a5c(0x26f)]()};}catch(_0x236d49){let _0x38c258=_0x470a5c(0x87c),_0x7c6b14=_0x236d49 instanceof Error?_0x236d49[_0x470a5c(0x6e8)]:typeof _0x236d49==_0x470a5c(0x629)?JSON[_0x470a5c(0x78e)](_0x236d49):_0x236d49,_0x34b858=_0x38c258+':\x20'+_0x7c6b14;throw this[_0x470a5c(0x55f)][_0x470a5c(0x37f)](this[_0x470a5c(0x84b)]+'\x20('+this['instance'][_0x470a5c(0x222)]+_0x470a5c(0x653)+_0x34b858),new _(_0x34b858);}}async[a0_0xd17613(0x2b0)](_0xaef6e){const _0x27ff7f=a0_0xd17613;let _0x161885=this['createJid'](_0xaef6e);try{return{'wuid':_0x161885,'status':(await this['client'][_0x27ff7f(0x856)](_0x161885))?.['status']};}catch{return{'wuid':_0x161885,'status':null};}}async['updateProfileName'](_0x476d6a){const _0x1355ed=a0_0xd17613;try{return await this[_0x1355ed(0x197)][_0x1355ed(0x6c6)](_0x476d6a),{'update':_0x1355ed(0x574)};}catch(_0x420440){let _0x2a2f92=_0x1355ed(0x313),_0xf45feb=_0x420440 instanceof Error?_0x420440[_0x1355ed(0x6e8)]:typeof _0x420440==_0x1355ed(0x629)?JSON['stringify'](_0x420440):_0x420440,_0x46af72=_0x2a2f92+':\x20'+_0xf45feb;throw this[_0x1355ed(0x55f)][_0x1355ed(0x37f)](this[_0x1355ed(0x84b)]+'\x20('+this['instance']['wuid']+_0x1355ed(0x653)+_0x46af72),new _(_0x46af72);}}async[a0_0xd17613(0x7c9)](_0x24e5e6){const _0x25480e=a0_0xd17613;try{return await this[_0x25480e(0x197)][_0x25480e(0x7c9)](_0x24e5e6),{'update':'success'};}catch(_0x113273){let _0x3652f6=_0x25480e(0x558),_0x2e508c=_0x113273 instanceof Error?_0x113273[_0x25480e(0x6e8)]:typeof _0x113273=='object'?JSON[_0x25480e(0x78e)](_0x113273):_0x113273,_0x3ace11=_0x3652f6+':\x20'+_0x2e508c;throw this[_0x25480e(0x55f)][_0x25480e(0x37f)](this['instanceName']+'\x20('+this[_0x25480e(0x5ef)][_0x25480e(0x222)]+_0x25480e(0x653)+_0x3ace11),new _(_0x3ace11);}}async['updateProfilePicture'](_0xfbeeb9){const _0x83199e=a0_0xd17613;try{let _0x56745d;if((0x0,P[_0x83199e(0x195)])(_0xfbeeb9)){let _0x50b01d=new Date()[_0x83199e(0x7da)](),_0x1393ea=_0xfbeeb9+_0x83199e(0x449)+_0x50b01d;_0x56745d=(await Z[_0x83199e(0x6db)][_0x83199e(0x8bc)](_0x1393ea,{'responseType':_0x83199e(0x89a)}))['data'];}else{if((0x0,P[_0x83199e(0x24e)])(_0xfbeeb9))_0x56745d=Buffer[_0x83199e(0x310)](_0xfbeeb9,_0x83199e(0x2a1));else throw new m(_0x83199e(0x6e0));}return await this['client']['updateProfilePicture'](this[_0x83199e(0x5ef)]['wuid'],_0x56745d),{'update':_0x83199e(0x574)};}catch(_0xed2346){let _0x414fc5='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture',_0x381892=_0xed2346 instanceof Error?_0xed2346[_0x83199e(0x6e8)]:typeof _0xed2346==_0x83199e(0x629)?JSON[_0x83199e(0x78e)](_0xed2346):_0xed2346,_0xa48b11=_0x414fc5+':\x20'+_0x381892;throw this['logger'][_0x83199e(0x37f)](this[_0x83199e(0x84b)]+'\x20('+this['instance'][_0x83199e(0x222)]+_0x83199e(0x653)+_0xa48b11),new _(_0xa48b11);}}async[a0_0xd17613(0x45c)](){const _0x29ad00=a0_0xd17613;try{return await this[_0x29ad00(0x197)][_0x29ad00(0x45c)](this[_0x29ad00(0x5ef)][_0x29ad00(0x222)]),{'update':_0x29ad00(0x574)};}catch(_0x4b6326){let _0x418e96=_0x29ad00(0x425),_0x38c473=_0x4b6326 instanceof Error?_0x4b6326[_0x29ad00(0x6e8)]:typeof _0x4b6326=='object'?JSON[_0x29ad00(0x78e)](_0x4b6326):_0x4b6326,_0x1c6c6d=_0x418e96+':\x20'+_0x38c473;throw this[_0x29ad00(0x55f)][_0x29ad00(0x37f)](this[_0x29ad00(0x84b)]+'\x20('+this[_0x29ad00(0x5ef)][_0x29ad00(0x222)]+_0x29ad00(0x653)+_0x1c6c6d),new _(_0x1c6c6d);}}async['createGroup'](_0x508bdb){const _0xdd2985=a0_0xd17613;try{let _0x2cc0f2=(await this[_0xdd2985(0x544)]({'numbers':_0x508bdb[_0xdd2985(0x38c)]}))[_0xdd2985(0x736)](_0x391427=>_0x391427[_0xdd2985(0x250)])['map'](_0x2032a4=>_0x2032a4[_0xdd2985(0x773)]),{id:_0x2583ab}=await this[_0xdd2985(0x197)][_0xdd2985(0x872)](_0x508bdb['subject'],_0x2cc0f2);_0x508bdb?.[_0xdd2985(0x4ee)]&&await this[_0xdd2985(0x197)][_0xdd2985(0x63f)](_0x2583ab,_0x508bdb[_0xdd2985(0x4ee)]);let _0x12893c=await this[_0xdd2985(0x197)][_0xdd2985(0x6cb)](_0x2583ab);return _0x12893c[_0xdd2985(0x854)]=[],{'metadata':_0x12893c};}catch(_0x120b04){let _0x374312=_0xdd2985(0x49b),_0x4ff72f=_0x120b04 instanceof Error?_0x120b04['message']:typeof _0x120b04==_0xdd2985(0x629)?JSON['stringify'](_0x120b04):_0x120b04,_0x53b82a=_0x374312+':\x20'+_0x4ff72f;throw this['logger'][_0xdd2985(0x37f)](this['instanceName']+'\x20('+this[_0xdd2985(0x5ef)][_0xdd2985(0x222)]+_0xdd2985(0x653)+_0x53b82a),new _(_0x53b82a);}}async[a0_0xd17613(0x662)](_0x10345a){const _0x5c383a=a0_0xd17613;try{if(_0x10345a[_0x5c383a(0x57e)]===!0x0&&await this['client'][_0x5c383a(0x71d)](_0x10345a[_0x5c383a(0x709)],_0x5c383a(0x2cd)),_0x10345a[_0x5c383a(0x57e)]===!0x1&&await this[_0x5c383a(0x197)][_0x5c383a(0x71d)](_0x10345a[_0x5c383a(0x709)],_0x5c383a(0x279)),_0x10345a[_0x5c383a(0x409)]===!0x0&&await this['client'][_0x5c383a(0x71d)](_0x10345a[_0x5c383a(0x709)],'announcement'),_0x10345a[_0x5c383a(0x409)]===!0x1&&await this[_0x5c383a(0x197)][_0x5c383a(0x71d)](_0x10345a[_0x5c383a(0x709)],_0x5c383a(0x4fa)),_0x10345a[_0x5c383a(0x7bc)]===!0x0&&await this['client']['groupMemberAddMode'](_0x10345a['groupJid'],_0x5c383a(0x686)),_0x10345a[_0x5c383a(0x7bc)]===!0x1&&await this[_0x5c383a(0x197)][_0x5c383a(0x885)](_0x10345a['groupJid'],'admin_add'),_0x10345a['joinApprovalMode']===!0x0&&await this[_0x5c383a(0x197)][_0x5c383a(0x241)](_0x10345a['groupJid'],'on'),_0x10345a[_0x5c383a(0x57d)]===!0x1&&await this['client']['groupJoinApprovalMode'](_0x10345a[_0x5c383a(0x709)],_0x5c383a(0x75c)),typeof _0x10345a[_0x5c383a(0x5a8)]<'u'&&_0x10345a[_0x5c383a(0x5a8)]!==null&&await this[_0x5c383a(0x197)][_0x5c383a(0x5da)](_0x10345a[_0x5c383a(0x709)],_0x10345a[_0x5c383a(0x5a8)]),_0x10345a[_0x5c383a(0x4f2)]&&await this['client'][_0x5c383a(0x641)](_0x10345a[_0x5c383a(0x709)],_0x10345a[_0x5c383a(0x4f2)]),_0x10345a['description']&&await this[_0x5c383a(0x197)][_0x5c383a(0x63f)](_0x10345a[_0x5c383a(0x709)],_0x10345a['description']),_0x10345a[_0x5c383a(0x783)]){let _0x3baa68;if((0x0,P[_0x5c383a(0x195)])(_0x10345a['image'])){let _0xd41757=new Date()['getTime'](),_0x3450b9=_0x10345a[_0x5c383a(0x783)]+_0x5c383a(0x449)+_0xd41757;_0x3baa68=(await Z[_0x5c383a(0x6db)]['get'](_0x3450b9,{'responseType':_0x5c383a(0x89a)}))[_0x5c383a(0x61d)];}else{if((0x0,P[_0x5c383a(0x24e)])(_0x10345a['image']))_0x3baa68=Buffer[_0x5c383a(0x310)](_0x10345a[_0x5c383a(0x783)],_0x5c383a(0x2a1));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}await this['client']['updateProfilePicture'](_0x10345a[_0x5c383a(0x709)],_0x3baa68);}return await this[_0x5c383a(0x575)]({'groupJid':_0x10345a['groupJid']});}catch(_0x1e682f){let _0xdf9ad4=_0x5c383a(0x7a6),_0x67608d=_0x1e682f instanceof Error?_0x1e682f['message']:typeof _0x1e682f=='object'?JSON[_0x5c383a(0x78e)](_0x1e682f):_0x1e682f,_0x14ee3b=_0xdf9ad4+':\x20'+_0x67608d;throw this[_0x5c383a(0x55f)][_0x5c383a(0x37f)](this[_0x5c383a(0x84b)]+'\x20('+this[_0x5c383a(0x5ef)][_0x5c383a(0x222)]+_0x5c383a(0x653)+_0x14ee3b),new _(_0x14ee3b);}}async[a0_0xd17613(0x2b7)](_0x4c6159){const _0x5e463a=a0_0xd17613;try{if(_0x4c6159[_0x5e463a(0x71f)]===_0x5e463a(0x654)||_0x4c6159[_0x5e463a(0x71f)]===_0x5e463a(0x47d)){let _0x9bfe04=_0x4c6159[_0x5e463a(0x38c)][_0x5e463a(0x50f)](_0xfd7746=>this[_0x5e463a(0x564)](_0xfd7746));await this[_0x5e463a(0x197)][_0x5e463a(0x5ea)](_0x4c6159[_0x5e463a(0x709)],_0x9bfe04,_0x4c6159[_0x5e463a(0x71f)]);}else{if(_0x4c6159['action']===_0x5e463a(0x36d)){let _0x1f93de=(await this[_0x5e463a(0x544)]({'numbers':_0x4c6159['participants']}))[_0x5e463a(0x736)](_0x2089fe=>_0x2089fe[_0x5e463a(0x250)])['map'](_0x4d8645=>this['createJid'](_0x4d8645[_0x5e463a(0x773)]));if(_0x1f93de[_0x5e463a(0x4ba)]===0x0)throw new m(_0x5e463a(0x7bf));await this[_0x5e463a(0x197)][_0x5e463a(0x63a)](_0x4c6159['groupJid'],_0x1f93de,_0x5e463a(0x36d));}else{let _0x361bee=_0x4c6159[_0x5e463a(0x38c)][_0x5e463a(0x50f)](_0x44cf38=>this[_0x5e463a(0x564)](_0x44cf38));await this['client']['groupParticipantsUpdate'](_0x4c6159[_0x5e463a(0x709)],_0x361bee,_0x4c6159[_0x5e463a(0x71f)]);}}return await this[_0x5e463a(0x575)]({'groupJid':_0x4c6159[_0x5e463a(0x709)]});}catch(_0x408bf1){let _0x524aca='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant',_0x2f1507=_0x408bf1 instanceof Error?_0x408bf1[_0x5e463a(0x6e8)]:typeof _0x408bf1==_0x5e463a(0x629)?JSON[_0x5e463a(0x78e)](_0x408bf1):_0x408bf1,_0x4cab8d=_0x524aca+':\x20'+_0x2f1507;throw this['logger'][_0x5e463a(0x37f)](this['instanceName']+'\x20('+this[_0x5e463a(0x5ef)][_0x5e463a(0x222)]+_0x5e463a(0x653)+_0x4cab8d),new m(_0x4cab8d);}}async['groupGetInviteInfo'](_0x323592){const _0x50c8ba=a0_0xd17613;try{return await this[_0x50c8ba(0x197)][_0x50c8ba(0x526)](_0x323592['inviteCode']);}catch(_0x412aa0){let _0x5d0e49='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo',_0x1803de=_0x412aa0 instanceof Error?_0x412aa0[_0x50c8ba(0x6e8)]:typeof _0x412aa0==_0x50c8ba(0x629)?JSON[_0x50c8ba(0x78e)](_0x412aa0):_0x412aa0,_0x5c0fa4=_0x5d0e49+':\x20'+_0x1803de;throw this[_0x50c8ba(0x55f)]['error'](this[_0x50c8ba(0x84b)]+'\x20('+this[_0x50c8ba(0x5ef)][_0x50c8ba(0x222)]+'):\x20'+_0x5c0fa4),new m(_0x5c0fa4);}}async[a0_0xd17613(0x575)](_0x575361,_0x275360=a0_0xd17613(0x6a2)){const _0x54733e=a0_0xd17613;try{let _0x1a7cfc=await this[_0x54733e(0x735)]['chat'][_0x54733e(0x86d)]({'where':{'_id':_0x575361[_0x54733e(0x709)]}},this['instance'][_0x54733e(0x222)]),_0x5c9ff8=_0x1a7cfc?_0x1a7cfc['groupdata']:null,_0x3320ea=0x18*0x3c*0x3c*0x3e8;if(!_0x5c9ff8||_0x5c9ff8['lastUpdate']&&Date['now']()-_0x5c9ff8[_0x54733e(0x231)]>_0x3320ea){let _0x410768=await this[_0x54733e(0x197)][_0x54733e(0x6cb)](_0x575361[_0x54733e(0x709)]);if(_0x410768[_0x54733e(0x2a0)]=_0x410768?.[_0x54733e(0x2a0)]&&_0x410768[_0x54733e(0x2a0)][_0x54733e(0x883)]()[_0x54733e(0x4ba)]<0xd?_0x410768?.[_0x54733e(0x2a0)]*0x3e8:_0x410768?.[_0x54733e(0x2a0)]||null,_0x410768[_0x54733e(0x5be)]=_0x410768?.[_0x54733e(0x5be)]&&_0x410768[_0x54733e(0x5be)][_0x54733e(0x883)]()[_0x54733e(0x4ba)]<0xd?_0x410768?.[_0x54733e(0x5be)]*0x3e8:_0x410768?.[_0x54733e(0x5be)]||null,_0x5c9ff8={..._0x410768,'lastUpdate':Date[_0x54733e(0x81a)]()},!_0x410768)return;}let _0x26c61b=_0x5c9ff8[_0x54733e(0x38c)][_0x54733e(0x884)](_0xe9ea0a=>_0xe9ea0a['id']===this[_0x54733e(0x5ef)][_0x54733e(0x222)]+_0x54733e(0x617)&&_0xe9ea0a[_0x54733e(0x25e)]!=null);!_0x5c9ff8['inviteCode']&&_0x26c61b&&(_0x5c9ff8[_0x54733e(0x495)]=(await this[_0x54733e(0x495)](_0x575361,!0x1))[_0x54733e(0x1cf)]);let _0xefcfb=(!_0x5c9ff8[_0x54733e(0x409)]||_0x26c61b)&&(!_0x5c9ff8[_0x54733e(0x867)]||_0x5c9ff8[_0x54733e(0x867)]&&_0x5c9ff8[_0x54733e(0x540)]&&_0x26c61b);_0x5c9ff8['isAdmin']=_0x26c61b,_0x5c9ff8[_0x54733e(0x5e3)]=_0xefcfb;let _0x5901f8=[];if(_0x26c61b&&_0x5c9ff8[_0x54733e(0x57d)])try{_0x5901f8=await this[_0x54733e(0x197)][_0x54733e(0x76d)](_0x575361['groupJid']),_0x5c9ff8[_0x54733e(0x43e)]=Date[_0x54733e(0x81a)]();}catch(_0x429b72){this['logger'][_0x54733e(0x230)](this['instanceName']+'\x20('+this[_0x54733e(0x5ef)]['wuid']+_0x54733e(0x800)+_0x575361['groupJid']+':\x20'+(_0x429b72 instanceof Error?_0x429b72['message']:JSON[_0x54733e(0x78e)](_0x429b72,null,0x2)));}try{_0x5c9ff8[_0x54733e(0x783)]=(await this['findAndUpdateCacheContact'](_0x575361['groupJid'],null,!0x0))[_0x54733e(0x7ed)][_0x54733e(0x733)];}catch(_0x1e04ac){this[_0x54733e(0x55f)]['verbose'](this[_0x54733e(0x84b)]+'\x20('+this[_0x54733e(0x5ef)]['wuid']+_0x54733e(0x34f)+_0x575361[_0x54733e(0x709)]+':\x20'+(_0x1e04ac instanceof Error?_0x1e04ac['message']:JSON[_0x54733e(0x78e)](_0x1e04ac,null,0x2)));}let _0x4d7a9a=_0x5c9ff8[_0x54733e(0x38c)][_0x54733e(0x50f)](_0x3e0c91=>_0x3e0c91['id']),_0x2d39f9=_0x5901f8['map'](_0x294d1c=>_0x294d1c[_0x54733e(0x773)]),_0x16e776=await this[_0x54733e(0x735)]['cacheContact'][_0x54733e(0x859)]([..._0x4d7a9a,..._0x2d39f9]);_0x5c9ff8[_0x54733e(0x38c)]=_0x5c9ff8[_0x54733e(0x38c)][_0x54733e(0x50f)](_0x186b5c=>{const _0x42dd05=_0x54733e;let _0x3febc1=_0x16e776[_0x42dd05(0x357)](_0x3e2833=>_0x3e2833[_0x42dd05(0x19a)]===_0x186b5c['id']);return{'id':_0x186b5c['id'],'isAdmin':[_0x42dd05(0x25e),_0x42dd05(0x6b3)][_0x42dd05(0x831)](_0x186b5c[_0x42dd05(0x25e)]),'admin':_0x186b5c[_0x42dd05(0x25e)],'pushName':_0x3febc1?.['name'],'profilePictureUrl':_0x3febc1?.['pictureUrl']};}),_0x5c9ff8[_0x54733e(0x854)]=_0x5901f8[_0x54733e(0x50f)](_0x23de5a=>{const _0x101d5a=_0x54733e;let _0x3d54fd=_0x16e776['find'](_0x1bc5a1=>_0x1bc5a1[_0x101d5a(0x19a)]===_0x23de5a['jid']);return{'id':_0x23de5a['jid'],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x3d54fd?.[_0x101d5a(0x4f2)],'profilePictureUrl':_0x3d54fd?.['pictureUrl'],'request_method':_0x23de5a[_0x101d5a(0x260)],'request_time':_0x23de5a['request_time']};});let _0x25640b=await this[_0x54733e(0x735)]['chat']['updateOne']({'where':{'_id':_0x575361[_0x54733e(0x709)]}},{'imagechat':_0x5c9ff8[_0x54733e(0x783)],'name':_0x5c9ff8[_0x54733e(0x332)],'lastcache':Date[_0x54733e(0x81a)](),'groupdata':_0x5c9ff8},this[_0x54733e(0x5ef)][_0x54733e(0x222)]);return U(this[_0x54733e(0x84b)],'chats',{'chat':_0x25640b}),{'metadata':_0x5c9ff8};}catch(_0xd8656a){if(_0x275360===_0x54733e(0x729))return;throw new j('Error\x20fetching\x20group',_0xd8656a[_0x54733e(0x6e8)]['toString']());}}async['findGroups'](){const _0x24fc1d=a0_0xd17613;try{let _0x479de0=[],_0x66bcb7=await this[_0x24fc1d(0x197)][_0x24fc1d(0x18a)](),_0x44dee3=Object[_0x24fc1d(0x28e)](_0x66bcb7),_0x3c6cb6=_0x44dee3[_0x24fc1d(0x736)](_0x40f620=>(0x0,w[_0x24fc1d(0x408)])(_0x40f620?.['id']))[_0x24fc1d(0x50f)](async _0x3df726=>{const _0xe96e91=_0x24fc1d;try{return await this[_0xe96e91(0x197)][_0xe96e91(0x6d0)](_0x3df726['id'],_0xe96e91(0x622));}catch(_0x5c64c8){return this[_0xe96e91(0x55f)]['verbose'](this[_0xe96e91(0x84b)]+'\x20('+this[_0xe96e91(0x5ef)][_0xe96e91(0x222)]+_0xe96e91(0x34f)+_0x3df726['id']+':\x20'+(_0x5c64c8 instanceof Error?_0x5c64c8[_0xe96e91(0x6e8)]:JSON[_0xe96e91(0x78e)](_0x5c64c8,null,0x2))),null;}}),_0x4aa1c0=await Promise[_0x24fc1d(0x23c)](_0x3c6cb6);for(let _0x36d37e=0x0;_0x36d37e<_0x44dee3[_0x24fc1d(0x4ba)];_0x36d37e++){let _0x385deb=_0x44dee3[_0x36d37e];(0x0,w['isJidGroup'])(_0x385deb?.['id'])&&(_0x479de0[_0x24fc1d(0x668)]({'groupJid':_0x385deb?.['id'],'subject':_0x385deb?.[_0x24fc1d(0x332)],'subjectOwner':_0x385deb?.['subjectOwner']?.[_0x24fc1d(0x37b)]('@')[0x0],'subjectTime':_0x385deb?.[_0x24fc1d(0x2a0)],'creation':_0x385deb?.[_0x24fc1d(0x5be)],'size':_0x385deb?.[_0x24fc1d(0x38c)]?.[_0x24fc1d(0x4ba)],'owner':_0x385deb?.[_0x24fc1d(0x50a)]?.[_0x24fc1d(0x37b)]('@')[0x0],'desc':_0x385deb?.[_0x24fc1d(0x4a8)],'restrict':_0x385deb?.[_0x24fc1d(0x57e)],'announce':_0x385deb?.[_0x24fc1d(0x409)],'image':_0x4aa1c0[_0x36d37e],'isCommunity':_0x385deb?.['isCommunity'],'joinApprovalMode':_0x385deb?.[_0x24fc1d(0x57d)],'memberCanAddParticipant':_0x385deb?.[_0x24fc1d(0x7bc)],'participants':_0x385deb?.[_0x24fc1d(0x38c)],'descOwner':_0x385deb?.[_0x24fc1d(0x6e4)],'descId':_0x385deb?.['descId'],'memberAddMode':_0x385deb?.[_0x24fc1d(0x7bc)],'isCommunityAnnounce':_0x385deb?.[_0x24fc1d(0x540)],'ephemeralDuration':_0x385deb?.[_0x24fc1d(0x4b4)]||0x0,'author':_0x385deb?.[_0x24fc1d(0x3d4)]}),this[_0x24fc1d(0x453)](_0x44dee3[_0x36d37e]));}return _0x479de0;}catch(_0x499f50){let _0x3d8e34=_0x24fc1d(0x3b7),_0x407d5c=_0x499f50 instanceof Error?_0x499f50['message']:typeof _0x499f50==_0x24fc1d(0x629)?JSON['stringify'](_0x499f50):_0x499f50,_0x45d0da=_0x3d8e34+':\x20'+_0x407d5c;throw this[_0x24fc1d(0x55f)]['error'](this[_0x24fc1d(0x84b)]+'\x20('+this[_0x24fc1d(0x5ef)][_0x24fc1d(0x222)]+_0x24fc1d(0x653)+_0x45d0da),new j(_0x45d0da);}}async['updateChatGroupData'](_0x50b343){const _0x2b9155=a0_0xd17613;let _0x4be62e=await this[_0x2b9155(0x735)][_0x2b9155(0x33f)][_0x2b9155(0x86d)]({'where':{'_id':_0x50b343['id']}},this[_0x2b9155(0x5ef)][_0x2b9155(0x222)]);_0x50b343[_0x2b9155(0x2a0)]=_0x50b343?.[_0x2b9155(0x2a0)]&&_0x50b343[_0x2b9155(0x2a0)]['toString']()['length']<0xd?_0x50b343?.[_0x2b9155(0x2a0)]*0x3e8:_0x50b343?.[_0x2b9155(0x2a0)]||null,_0x50b343[_0x2b9155(0x5be)]=_0x50b343?.[_0x2b9155(0x5be)]&&_0x50b343[_0x2b9155(0x5be)][_0x2b9155(0x883)]()['length']<0xd?_0x50b343?.[_0x2b9155(0x5be)]*0x3e8:_0x50b343?.[_0x2b9155(0x5be)]||null;let _0x4b3f09=_0x4be62e?.[_0x2b9155(0x61b)]?.[_0x2b9155(0x854)]||[],_0x218a87=_0x4be62e?.['groupdata']?.['lastFetchAwaitingApproval'],_0x36a180=_0x50b343['participants'][_0x2b9155(0x50f)](_0x1c81c1=>{const _0x3b2a17=_0x2b9155;let _0x3a7502=_0x4be62e?.[_0x3b2a17(0x61b)]?.[_0x3b2a17(0x38c)]['find'](_0x126dc0=>_0x126dc0['id']===_0x1c81c1['id']);return{..._0x1c81c1,'isAdmin':[_0x3b2a17(0x25e),_0x3b2a17(0x6b3)]['includes'](_0x1c81c1[_0x3b2a17(0x25e)]),'admin':_0x1c81c1[_0x3b2a17(0x25e)],'name':_0x3a7502?.[_0x3b2a17(0x4f2)]||_0x1c81c1[_0x3b2a17(0x4f2)],'imgUrl':_0x3a7502?.[_0x3b2a17(0x48d)]||_0x1c81c1['imgUrl']};}),_0x1f0f1c=_0x36a180[_0x2b9155(0x884)](_0x245c67=>_0x245c67['id']===this[_0x2b9155(0x5ef)]['wuid']+_0x2b9155(0x617)&&_0x245c67['isAdmin']),_0x36096f=(!_0x50b343[_0x2b9155(0x409)]||_0x1f0f1c)&&(!_0x50b343[_0x2b9155(0x867)]||_0x50b343[_0x2b9155(0x867)]&&_0x50b343['isCommunityAnnounce']&&_0x1f0f1c),_0x17be1f={..._0x50b343,'participants':_0x36a180,'awaitingApproval':_0x4b3f09,'lastFetchAwaitingApproval':_0x218a87,'isAdmin':_0x1f0f1c,'canSendMessage':_0x36096f,'lastUpdate':Date['now']()};await this['repository'][_0x2b9155(0x33f)][_0x2b9155(0x8ae)]({'where':{'_id':_0x50b343['id']}},{'name':_0x50b343[_0x2b9155(0x332)],'group':!0x0,'groupdata':_0x17be1f,'lastcache':Date['now']()},this[_0x2b9155(0x5ef)][_0x2b9155(0x222)]),U(this[_0x2b9155(0x84b)],_0x2b9155(0x17c),{'chat':_0x50b343});}async[a0_0xd17613(0x78a)](_0x419a32){const _0x1271ca=a0_0xd17613;let _0x5c4772=await this[_0x1271ca(0x735)][_0x1271ca(0x33f)]['findOne']({'where':{'_id':_0x419a32['id']}},this[_0x1271ca(0x5ef)]['wuid']);_0x419a32[_0x1271ca(0x2a0)]=_0x419a32?.[_0x1271ca(0x2a0)]&&_0x419a32[_0x1271ca(0x2a0)][_0x1271ca(0x883)]()[_0x1271ca(0x4ba)]<0xd?_0x419a32?.['subjectTime']*0x3e8:_0x419a32?.[_0x1271ca(0x2a0)]||null,_0x419a32[_0x1271ca(0x5be)]=_0x419a32?.[_0x1271ca(0x5be)]&&_0x419a32[_0x1271ca(0x5be)][_0x1271ca(0x883)]()[_0x1271ca(0x4ba)]<0xd?_0x419a32?.[_0x1271ca(0x5be)]*0x3e8:_0x419a32?.[_0x1271ca(0x5be)]||null,_0x419a32[_0x1271ca(0x495)]&&(_0x419a32['inviteCode']='https://chat.whatsapp.com/'+_0x419a32[_0x1271ca(0x495)]);let _0x197688=_0x5c4772?.[_0x1271ca(0x61b)]?{..._0x5c4772[_0x1271ca(0x61b)]}:{};Object[_0x1271ca(0x6f6)](_0x419a32)['forEach'](_0x3f9d60=>{_0x3f9d60!=='id'&&(_0x197688[_0x3f9d60]=_0x419a32[_0x3f9d60]);});let _0x13a17f=_0x197688[_0x1271ca(0x38c)]?.[_0x1271ca(0x884)](_0x2ddc5e=>_0x2ddc5e['id']===this[_0x1271ca(0x5ef)]['wuid']+_0x1271ca(0x617)&&_0x2ddc5e[_0x1271ca(0x77b)])||!0x1;_0x197688['isAdmin']=_0x13a17f;let _0x2cde75=(!_0x197688[_0x1271ca(0x409)]||_0x13a17f)&&(!_0x197688['isCommunity']||_0x197688[_0x1271ca(0x867)]&&_0x197688['isCommunityAnnounce']&&_0x13a17f);_0x197688['canSendMessage']=_0x2cde75;let _0x803cdf={'group':!0x0,'groupdata':_0x197688};_0x419a32[_0x1271ca(0x332)]&&(_0x803cdf[_0x1271ca(0x4f2)]=_0x419a32['subject']),await this[_0x1271ca(0x735)][_0x1271ca(0x33f)][_0x1271ca(0x8ae)]({'where':{'_id':_0x419a32['id']}},_0x803cdf,this[_0x1271ca(0x5ef)][_0x1271ca(0x222)],{'upsert':!0x0}),U(this[_0x1271ca(0x84b)],_0x1271ca(0x17c),{'chat':_0x803cdf});}async['updateGroupParticipantsWebhook'](_0x12f480){const _0x15c4f6=a0_0xd17613;let _0x1d418b=await this['repository'][_0x15c4f6(0x33f)]['findOne']({'where':{'_id':_0x12f480['id']}},this[_0x15c4f6(0x5ef)][_0x15c4f6(0x222)]);if(!_0x1d418b||!_0x1d418b[_0x15c4f6(0x61b)]){this[_0x15c4f6(0x55f)][_0x15c4f6(0x40c)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x15c4f6(0x170)+_0x12f480['id']);return;}let _0x63be3=await this[_0x15c4f6(0x735)][_0x15c4f6(0x8c3)][_0x15c4f6(0x859)](_0x12f480[_0x15c4f6(0x38c)]),_0xd3370b=[..._0x1d418b[_0x15c4f6(0x61b)]?.[_0x15c4f6(0x38c)]];switch(_0x12f480[_0x15c4f6(0x71f)]){case'add':let _0x73698f=_0x63be3[_0x15c4f6(0x50f)](_0x126112=>({'id':_0x126112['_id'],'isAdmin':!0x1,'name':_0x126112['name'],'imgUrl':_0x126112[_0x15c4f6(0x733)]}));_0xd3370b=[..._0xd3370b,..._0x73698f];break;case'remove':_0xd3370b=_0xd3370b[_0x15c4f6(0x736)](_0x3be34d=>!_0x12f480['participants'][_0x15c4f6(0x831)](_0x3be34d['id']));break;case _0x15c4f6(0x716):case _0x15c4f6(0x842):_0xd3370b=_0xd3370b[_0x15c4f6(0x50f)](_0x485e80=>_0x12f480[_0x15c4f6(0x38c)][_0x15c4f6(0x831)](_0x485e80['id'])?{..._0x485e80,'isAdmin':_0x12f480[_0x15c4f6(0x71f)]==='promote'}:_0x485e80);break;}let _0x3ee377=_0xd3370b['length'],_0x2c6bf5=_0xd3370b[_0x15c4f6(0x884)](_0x34bcb7=>_0x34bcb7['id']===this[_0x15c4f6(0x5ef)][_0x15c4f6(0x222)]+_0x15c4f6(0x617)),_0x458b86=_0x2c6bf5&&_0xd3370b['some'](_0x33f7e2=>_0x33f7e2['id']===this[_0x15c4f6(0x5ef)]['wuid']+_0x15c4f6(0x617)&&_0x33f7e2[_0x15c4f6(0x77b)]),_0xad0512=_0x2c6bf5&&(!_0x1d418b[_0x15c4f6(0x61b)]['announce']||_0x458b86)&&(!_0x1d418b[_0x15c4f6(0x61b)][_0x15c4f6(0x867)]||_0x1d418b[_0x15c4f6(0x61b)][_0x15c4f6(0x867)]&&_0x458b86);await this['repository'][_0x15c4f6(0x33f)]['updateOne']({'where':{'_id':_0x12f480['id']}},{'groupdata':{..._0x1d418b[_0x15c4f6(0x61b)],'participants':_0xd3370b,'size':_0x3ee377,'isAdmin':_0x458b86,'canSendMessage':_0xad0512}},this[_0x15c4f6(0x5ef)][_0x15c4f6(0x222)]),this['logger'][_0x15c4f6(0x40c)](this[_0x15c4f6(0x84b)]+'\x20('+this['instance'][_0x15c4f6(0x222)]+_0x15c4f6(0x5e0)+_0x12f480['id']+_0x15c4f6(0x833)+_0x12f480[_0x15c4f6(0x71f)]+_0x15c4f6(0x6b1)+_0x3ee377+_0x15c4f6(0x3ec)+_0x458b86+',\x20canSendMessage:\x20'+_0xad0512);}async['inviteCode'](_0x54abfc,_0x12b43d=!0x0){const _0x45f7cf=a0_0xd17613;try{let _0x3932d0=await this['client'][_0x45f7cf(0x428)](_0x54abfc[_0x45f7cf(0x709)]),_0x89829d={'groupdata.inviteCode':_0x45f7cf(0x5e2)+_0x3932d0};if(_0x12b43d){let _0x1e941e=await this['repository'][_0x45f7cf(0x33f)][_0x45f7cf(0x8ae)]({'where':{'_id':_0x54abfc['groupJid']}},_0x89829d,this[_0x45f7cf(0x5ef)][_0x45f7cf(0x222)]);}return{'inviteUrl':_0x45f7cf(0x5e2)+_0x3932d0,'inviteCode':_0x3932d0};}catch(_0x2485f1){let _0x121b7b=_0x45f7cf(0x786),_0x21486b=_0x2485f1 instanceof Error?_0x2485f1[_0x45f7cf(0x6e8)]:typeof _0x2485f1==_0x45f7cf(0x629)?JSON[_0x45f7cf(0x78e)](_0x2485f1):_0x2485f1,_0x3209a7=_0x121b7b+':\x20'+_0x21486b;throw this[_0x45f7cf(0x55f)]['error'](this[_0x45f7cf(0x84b)]+'\x20('+this[_0x45f7cf(0x5ef)][_0x45f7cf(0x222)]+_0x45f7cf(0x653)+_0x3209a7),new j(_0x3209a7);}}async[a0_0xd17613(0x43f)](_0x1e6363){const _0x3d969f=a0_0xd17613;try{let _0x175709=await this[_0x3d969f(0x197)][_0x3d969f(0x701)](_0x1e6363[_0x3d969f(0x709)]);return{'revoked':!0x0,'inviteUrl':_0x3d969f(0x5e2)+_0x175709,'inviteCode':_0x175709};}catch(_0x197ba8){let _0x496e84=_0x3d969f(0x551),_0xf2b5d5=_0x197ba8 instanceof Error?_0x197ba8['message']:typeof _0x197ba8==_0x3d969f(0x629)?JSON[_0x3d969f(0x78e)](_0x197ba8):_0x197ba8,_0x45b651=_0x496e84+':\x20'+_0xf2b5d5;throw this[_0x3d969f(0x55f)]['error'](this[_0x3d969f(0x84b)]+'\x20('+this[_0x3d969f(0x5ef)][_0x3d969f(0x222)]+_0x3d969f(0x653)+_0x45b651),new j(_0x45b651);}}async[a0_0xd17613(0x184)](_0x45a1ea){const _0x2ee427=a0_0xd17613;try{if((0x0,P[_0x2ee427(0x195)])(_0x45a1ea['inviteCode']))var _0x3fdf80=_0x45a1ea[_0x2ee427(0x495)][_0x2ee427(0x37b)]('/')[0x3];else var _0x3fdf80=_0x45a1ea[_0x2ee427(0x495)];let _0x2be422=await this['client']['groupAcceptInvite'](_0x3fdf80);return this[_0x2ee427(0x55f)][_0x2ee427(0x230)](this[_0x2ee427(0x84b)]+'\x20('+this['instance'][_0x2ee427(0x222)]+_0x2ee427(0x653)+_0x2be422),{'join':!0x0,'inviteCode':_0x3fdf80,'groupJid':_0x2be422};}catch(_0x96af81){let _0x5dbf69='Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x5150c4=_0x96af81 instanceof Error?_0x96af81['message']:typeof _0x96af81==_0x2ee427(0x629)?JSON[_0x2ee427(0x78e)](_0x96af81):_0x96af81,_0x15cf57=_0x5dbf69+':\x20'+_0x5150c4;throw this[_0x2ee427(0x55f)][_0x2ee427(0x37f)](this['instanceName']+'\x20('+this[_0x2ee427(0x5ef)][_0x2ee427(0x222)]+_0x2ee427(0x653)+_0x15cf57),new j(_0x15cf57);}}async[a0_0xd17613(0x61f)](_0x37e815){const _0x21452f=a0_0xd17613;try{return{'participants':(await this[_0x21452f(0x735)]['chat'][_0x21452f(0x86d)]({'where':{'_id':_0x37e815[_0x21452f(0x709)]}},this['instance']['wuid']))[_0x21452f(0x61b)][_0x21452f(0x38c)]};}catch(_0x2a7e04){let _0x3f7668=_0x21452f(0x61a),_0x186831=_0x2a7e04 instanceof Error?_0x2a7e04['message']:typeof _0x2a7e04==_0x21452f(0x629)?JSON[_0x21452f(0x78e)](_0x2a7e04):_0x2a7e04,_0x352997=_0x3f7668+':\x20'+_0x186831;throw this[_0x21452f(0x55f)][_0x21452f(0x37f)](this[_0x21452f(0x84b)]+'\x20('+this['instance'][_0x21452f(0x222)]+_0x21452f(0x653)+_0x352997),new j(_0x352997);}}async['leaveGroup'](_0x41c979){const _0x3360ed=a0_0xd17613;try{return await this['client']['groupLeave'](_0x41c979['groupJid']),{'groupJid':_0x41c979[_0x3360ed(0x709)],'leave':!0x0};}catch(_0x2f089b){let _0x4106a0='Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup',_0x48b449=_0x2f089b instanceof Error?_0x2f089b[_0x3360ed(0x6e8)]:typeof _0x2f089b==_0x3360ed(0x629)?JSON['stringify'](_0x2f089b):_0x2f089b,_0x16d5b4=_0x4106a0+':\x20'+_0x48b449;throw this[_0x3360ed(0x55f)][_0x3360ed(0x37f)](this[_0x3360ed(0x84b)]+'\x20('+this[_0x3360ed(0x5ef)][_0x3360ed(0x222)]+_0x3360ed(0x653)+_0x16d5b4),new m(_0x16d5b4);}}async['pollMessage'](_0x300971){const _0x4c3d24=a0_0xd17613;return await this[_0x4c3d24(0x36c)](_0x300971['number'],{'poll':{'name':_0x300971[_0x4c3d24(0x74d)]?.['name'],'selectableCount':_0x300971['pollMessage'][_0x4c3d24(0x36e)],'values':_0x300971[_0x4c3d24(0x74d)][_0x4c3d24(0x28e)]}},_0x300971?.[_0x4c3d24(0x55a)]);}async[a0_0xd17613(0x311)](_0xfcceb1){const _0x5efd8a=a0_0xd17613;return await this[_0x5efd8a(0x36c)](_0xfcceb1[_0x5efd8a(0x5dc)],{'listMessage':{'title':_0xfcceb1['listMessage'][_0x5efd8a(0x30b)],'description':_0xfcceb1['listMessage'][_0x5efd8a(0x4ee)],'buttonText':_0xfcceb1['listMessage']?.[_0x5efd8a(0x78f)],'footerText':_0xfcceb1['listMessage']?.[_0x5efd8a(0x84a)],'sections':_0xfcceb1[_0x5efd8a(0x311)][_0x5efd8a(0x814)],'listType':0x2}},_0xfcceb1?.[_0x5efd8a(0x55a)]);}async[a0_0xd17613(0x723)](_0x37a0ee){const _0xcc2c8a=a0_0xd17613;let _0x2b007f;if(_0x37a0ee['menuMessage'][_0xcc2c8a(0x519)]===_0xcc2c8a(0x6c3)){let _0x36006f=_0x37a0ee[_0xcc2c8a(0x723)][_0xcc2c8a(0x80f)]['indexOf']('\x0a'),_0x5adb07='',_0x44e5db='';_0x36006f!==-0x1?(_0x5adb07=_0x37a0ee['menuMessage'][_0xcc2c8a(0x80f)]['substring'](0x0,_0x36006f)[_0xcc2c8a(0x3dd)](),_0x44e5db=_0x37a0ee[_0xcc2c8a(0x723)][_0xcc2c8a(0x80f)][_0xcc2c8a(0x302)](_0x36006f+0x1)):_0x44e5db=_0x37a0ee[_0xcc2c8a(0x723)][_0xcc2c8a(0x80f)];let _0x1ba0b9=_0x37a0ee[_0xcc2c8a(0x723)][_0xcc2c8a(0x754)][_0xcc2c8a(0x736)](_0x1a27cf=>_0x1a27cf['trim']()!==''),_0x285a9b=this[_0xcc2c8a(0x1ec)](_0x1ba0b9);_0x2b007f={'listMessage':{'title':_0x5adb07,'description':_0x44e5db,'buttonText':_0x37a0ee[_0xcc2c8a(0x723)][_0xcc2c8a(0x78f)]||_0xcc2c8a(0x2e9),'footerText':_0x37a0ee[_0xcc2c8a(0x723)][_0xcc2c8a(0x84a)],'sections':_0x285a9b,'listType':0x2}};}else{if(_0x37a0ee[_0xcc2c8a(0x723)][_0xcc2c8a(0x519)]===_0xcc2c8a(0x335)){let _0x5b88c7=_0x37a0ee[_0xcc2c8a(0x723)][_0xcc2c8a(0x754)][_0xcc2c8a(0x736)](_0x1dacd8=>!(_0x1dacd8['startsWith']('[')&&_0x1dacd8[_0xcc2c8a(0x71e)](']'))&&_0x1dacd8[_0xcc2c8a(0x3dd)]()!=='')[_0xcc2c8a(0x50f)](_0x17f8db=>_0x17f8db[_0xcc2c8a(0x37b)]('\x0a')[0x0]);_0x2b007f={'poll':{'name':_0x37a0ee[_0xcc2c8a(0x723)]['text'],'selectableCount':_0x37a0ee['menuMessage'][_0xcc2c8a(0x36e)]||0x1,'values':_0x5b88c7}};}}return await this[_0xcc2c8a(0x36c)](_0x37a0ee[_0xcc2c8a(0x5dc)],_0x2b007f,_0x37a0ee?.['options']);}[a0_0xd17613(0x1ec)](_0x177d02){const _0x1412f5=a0_0xd17613;let _0x551856=[],_0x565ce5={'rows':[]};return _0x177d02[_0x1412f5(0x2a4)](_0x43787a=>{const _0x40d06a=_0x1412f5;if(_0x43787a['startsWith']('[')&&_0x43787a['endsWith'](']'))_0x565ce5[_0x40d06a(0x87a)]['length']>0x0&&_0x551856['push'](_0x565ce5),_0x565ce5={'title':_0x43787a['slice'](0x1,-0x1),'rows':[]};else{let _0x1ae48f=_0x43787a[_0x40d06a(0x37b)]('\x0a')[_0x40d06a(0x50f)](_0x26a0e8=>_0x26a0e8['trim']()),_0x30927d=_0x1ae48f[0x0],_0x1662fb=_0x1ae48f[0x1]||null,_0x3f84b3=_0x1ae48f[0x2]||_0x30927d;_0x565ce5[_0x40d06a(0x87a)][_0x40d06a(0x668)]({'title':_0x30927d,'description':_0x1662fb,'rowId':_0x3f84b3});}}),_0x565ce5['rows']['length']>0x0&&_0x551856[_0x1412f5(0x668)](_0x565ce5),_0x551856;}async['updateMessage'](_0x3659d5,_0x81ed02){const _0x529b2c=a0_0xd17613;if(await this[_0x529b2c(0x769)](_0x3659d5,!0x0)){let _0x284fab={'where':{'_id':_0x3659d5['id']}},_0x4c57ee={'status':[_0x81ed02['status']][0x0]};try{let _0xfbfbc1=await this['repository'][_0x529b2c(0x6e8)]['update'](_0x284fab,_0x4c57ee,this['instance'][_0x529b2c(0x222)]);_0xfbfbc1&&U(this[_0x529b2c(0x84b)],_0x529b2c(0x639),{'message':_0xfbfbc1});}catch{}}}['sectionsToString'](_0x4c46fa){const _0x291575=a0_0xd17613;let _0x2ba3f6=[];return _0x4c46fa[_0x291575(0x2a4)](_0x140804=>{const _0x74f016=_0x291575;_0x140804[_0x74f016(0x30b)]&&_0x2ba3f6[_0x74f016(0x668)]('['+_0x140804[_0x74f016(0x30b)]+']'),_0x140804[_0x74f016(0x87a)][_0x74f016(0x2a4)](_0x243cd5=>{const _0x28e278=_0x74f016;_0x2ba3f6[_0x28e278(0x668)](_0x243cd5[_0x28e278(0x30b)]);});}),_0x2ba3f6[_0x291575(0x4c3)]('|');}[a0_0xd17613(0x1f9)](_0x4938ad){const _0x5b7541=a0_0xd17613;let _0x2da8f5=_0x4938ad[_0x5b7541(0x523)](/\\n/g,'\x0a')[_0x5b7541(0x37b)]('\x0a')[_0x5b7541(0x736)](_0x536e2e=>_0x536e2e[_0x5b7541(0x831)](_0x5b7541(0x84f))||_0x536e2e[_0x5b7541(0x831)](_0x5b7541(0x1c2))),_0x4d2031='';return _0x2da8f5['forEach'](_0x21c958=>{const _0x3da434=_0x5b7541;let _0x352484=/TEL(?:.*):(.+)/,_0x360343=/EMAIL(?:.*):(.+)/,_0x1ecb9c=_0x21c958[_0x3da434(0x1b3)](_0x352484),_0xb23655=_0x21c958[_0x3da434(0x1b3)](_0x360343);if(_0x1ecb9c){let _0x3b4526=_0x1ecb9c[0x1][_0x3da434(0x523)](/-| |\+|\(|\)/g,'')[_0x3da434(0x3dd)]();_0x4d2031+='Telefone:\x20'+_0x3b4526+'\x0a';}else{if(_0xb23655){let _0x57eca9=_0xb23655[0x1]['trim']();_0x4d2031+=_0x3da434(0x577)+_0x57eca9+'\x0a';}}}),_0x4d2031[_0x5b7541(0x3dd)]();}async[a0_0xd17613(0x2c4)](_0x4806c1,_0x180211,_0x12a980,_0x30e590=null){const _0x19d2ae=a0_0xd17613;if(_0x4806c1[_0x19d2ae(0x2e1)])try{let _0x3e12c3=_0x180211[_0x19d2ae(0x212)][_0x19d2ae(0x2dd)][_0x19d2ae(0x523)](/:\d{1,2}@/g,'@'),_0x1ab757=_0x180211[_0x19d2ae(0x212)][_0x19d2ae(0x2cc)],_0x5e0c74=_0x3e12c3['endsWith'](_0x19d2ae(0x325)),_0x3d625a=_0x180211[_0x19d2ae(0x79e)]?.[_0x19d2ae(0x523)](/:\d{1,2}@/g,'@')||'',_0x408b9d=_0x180211[_0x19d2ae(0x583)]?.['text']||_0x180211[_0x19d2ae(0x583)]?.['caption']||_0x180211[_0x19d2ae(0x583)]?.['vote']||_0x180211['message_normalized']?.[_0x19d2ae(0x4f2)]||'',_0x368379={'_id':_0x180211[_0x19d2ae(0x19a)],'remoteJid':_0x1ab757?this['instance'][_0x19d2ae(0x222)]:_0x5e0c74?_0x3d625a:_0x3e12c3,'pushName':_0x1ab757?this['instance'][_0x19d2ae(0x32b)]||'Eu':_0x180211['pushName'],'text':_0x408b9d,'type':_0x180211['messageType'],'when':_0x180211['messageTimestamp']||Date[_0x19d2ae(0x81a)]()};_0x30e590||(_0x30e590=await this[_0x19d2ae(0x735)]['chat'][_0x19d2ae(0x86d)]({'where':{'_id':_0x3e12c3}},this[_0x19d2ae(0x5ef)][_0x19d2ae(0x222)]));let _0x32b0ac=_0x30e590?_0x1ab757?_0x30e590[_0x19d2ae(0x6a1)]:(_0x30e590[_0x19d2ae(0x6a1)]||0x0)+0x1:_0x1ab757?0x0:0x1,_0x21aaa5={'lastmsg':_0x180211[_0x19d2ae(0x4c8)]||Date['now'](),'ephemeralExpiration':_0x180211[_0x19d2ae(0x5a8)],'lastMessage':_0x368379,'unreadcount':_0x32b0ac,..._0x1ab757||_0x5e0c74?{}:{'name':_0x180211[_0x19d2ae(0x5aa)]},..._0x5e0c74?{'group':_0x5e0c74}:{},...!_0x1ab757&&!_0x5e0c74&&_0x180211['profilePictureUrl']?{'imagechat':_0x180211[_0x19d2ae(0x6d0)]}:{}};if(!_0x5e0c74&&(!_0x30e590?.[_0x19d2ae(0x4d3)]||!_0x30e590['leadInfo'][_0x19d2ae(0x2d1)])&&_0x180211[_0x19d2ae(0x5aa)]&&!_0x1ab757&&(_0x21aaa5={..._0x21aaa5,'leadInfo.nome':_0x180211[_0x19d2ae(0x5aa)]}),_0x30e590?.['leadInfo'][_0x19d2ae(0x48e)]||(_0x21aaa5={..._0x21aaa5,'leadInfo.etiquetas':[]}),_0x30e590?.[_0x19d2ae(0x4d3)][_0x19d2ae(0x85c)]||(_0x21aaa5={..._0x21aaa5,'leadInfo.customFields':[]}),_0x30e590?.[_0x19d2ae(0x4d3)][_0x19d2ae(0x246)]||(_0x21aaa5={..._0x21aaa5,'leadInfo.tags':[]}),_0x30e590&&_0x30e590?.['imported']){let _0x5ad534=await this['repository']['label'][_0x19d2ae(0x357)]({'where':{}},this[_0x19d2ae(0x5ef)][_0x19d2ae(0x222)]),_0x124436=new Set(_0x5ad534[_0x19d2ae(0x50f)](_0x5b8050=>_0x5b8050[_0x19d2ae(0x19a)])),_0x110dd5=(_0x30e590[_0x19d2ae(0x4d3)]?.[_0x19d2ae(0x48e)]||[])['filter'](_0x2c602e=>_0x124436[_0x19d2ae(0x753)](_0x2c602e));_0x21aaa5={..._0x21aaa5,'imported':!0x1,'leadInfo.etiquetas':_0x110dd5};for(let _0x380f27 of _0x110dd5)await this[_0x19d2ae(0x752)](_0x380f27,_0x3e12c3);}if(_0x12a980===_0x19d2ae(0x875)&&_0x1ab757&&this[_0x19d2ae(0x3f3)]?.[_0x19d2ae(0x1c4)]['enabled']&&_0x408b9d[_0x19d2ae(0x3dd)]()!==this[_0x19d2ae(0x3f3)]?.[_0x19d2ae(0x1c4)][_0x19d2ae(0x31a)][_0x19d2ae(0x3dd)]()){let _0x2e12d7=(this[_0x19d2ae(0x3f3)]?.[_0x19d2ae(0x1c4)][_0x19d2ae(0x463)]||0x5)*0xea60,_0x3fab56=Date[_0x19d2ae(0x81a)]()+_0x2e12d7;_0x30e590?.[_0x19d2ae(0x4d3)]?.[_0x19d2ae(0x395)]===0x0||(_0x21aaa5={..._0x21aaa5,'leadInfo.desativadoFluxoAte':_0x3fab56},this[_0x19d2ae(0x55f)][_0x19d2ae(0x230)](this[_0x19d2ae(0x84b)]+'\x20('+this[_0x19d2ae(0x5ef)][_0x19d2ae(0x222)]+_0x19d2ae(0x7d9)+_0x3fab56+'.'));}if(_0x408b9d[_0x19d2ae(0x3dd)]()===this[_0x19d2ae(0x3f3)]?.[_0x19d2ae(0x1c4)][_0x19d2ae(0x31a)][_0x19d2ae(0x3dd)]()){this[_0x19d2ae(0x55f)][_0x19d2ae(0x230)](this[_0x19d2ae(0x84b)]+'\x20('+this[_0x19d2ae(0x5ef)][_0x19d2ae(0x222)]+_0x19d2ae(0x20d)+_0x408b9d);let _0x25b9ab=Date[_0x19d2ae(0x81a)]();this[_0x19d2ae(0x3f3)]?.['flowConfig'][_0x19d2ae(0x6b7)]===0x0?_0x21aaa5={..._0x21aaa5,'leadInfo.desativadoFluxoAte':_0x25b9ab+0x7591f6200}:_0x21aaa5={..._0x21aaa5,'leadInfo.desativadoFluxoAte':_0x25b9ab+this[_0x19d2ae(0x3f3)]?.[_0x19d2ae(0x1c4)]['stopMinutes']*0x3c*0x3e8};}if(_0x30e590=await this[_0x19d2ae(0x735)]['chat']['updateOne']({'where':{'_id':_0x3e12c3}},_0x21aaa5,this[_0x19d2ae(0x5ef)][_0x19d2ae(0x222)],{'new':!0x0,'upsert':!0x0}),_0x30e590)U(this[_0x19d2ae(0x84b)],'chats',{'chat':_0x30e590});else{this['logger'][_0x19d2ae(0x37f)](this[_0x19d2ae(0x84b)]+'\x20('+this[_0x19d2ae(0x5ef)][_0x19d2ae(0x222)]+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(_0x1ab757)return this[_0x19d2ae(0x55f)][_0x19d2ae(0x230)](this[_0x19d2ae(0x84b)]+'\x20('+this[_0x19d2ae(0x5ef)][_0x19d2ae(0x222)]+_0x19d2ae(0x697)),null;if(!this['AutomateSystem']?.[_0x19d2ae(0x1c4)][_0x19d2ae(0x67d)])return this['logger'][_0x19d2ae(0x230)](this[_0x19d2ae(0x84b)]+'\x20('+this[_0x19d2ae(0x5ef)][_0x19d2ae(0x222)]+'):\x20Flow\x20desativado'),null;if(_0x30e590['_id']['includes'](_0x19d2ae(0x325))&&this[_0x19d2ae(0x3f3)]?.[_0x19d2ae(0x1c4)][_0x19d2ae(0x655)]===!0x0)return this['logger'][_0x19d2ae(0x230)](this[_0x19d2ae(0x84b)]+'\x20('+this[_0x19d2ae(0x5ef)][_0x19d2ae(0x222)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x30e590[_0x19d2ae(0x4d3)]){if(_0x30e590[_0x19d2ae(0x4d3)][_0x19d2ae(0x395)]===0x0||_0x30e590[_0x19d2ae(0x4d3)][_0x19d2ae(0x899)])return this[_0x19d2ae(0x55f)][_0x19d2ae(0x230)](this[_0x19d2ae(0x84b)]+'\x20('+this[_0x19d2ae(0x5ef)][_0x19d2ae(0x222)]+_0x19d2ae(0x339)+_0x3e12c3+_0x19d2ae(0x381)),null;if(_0x30e590[_0x19d2ae(0x4d3)][_0x19d2ae(0x395)]>Date['now']()&&!_0x180211[_0x19d2ae(0x583)]?.[_0x19d2ae(0x8b6)])return this['logger']['verbose'](this[_0x19d2ae(0x84b)]+'\x20('+this[_0x19d2ae(0x5ef)]['wuid']+_0x19d2ae(0x25b)+new Date(_0x30e590[_0x19d2ae(0x4d3)][_0x19d2ae(0x395)])['toLocaleString']()+_0x19d2ae(0x381)),null;}this[_0x19d2ae(0x55f)][_0x19d2ae(0x230)](this[_0x19d2ae(0x84b)]+'\x20('+this[_0x19d2ae(0x5ef)][_0x19d2ae(0x222)]+_0x19d2ae(0x3aa)),this[_0x19d2ae(0x358)](_0x180211,_0x12a980);}catch(_0x5d2339){let _0x9b7209=_0x19d2ae(0x5de),_0xe08acb=_0x5d2339 instanceof Error?_0x5d2339[_0x19d2ae(0x6e8)]:typeof _0x5d2339==_0x19d2ae(0x629)?JSON[_0x19d2ae(0x78e)](_0x5d2339):_0x5d2339,_0x4fae66=_0x9b7209+':\x20'+_0xe08acb;return this[_0x19d2ae(0x55f)]['error'](this['instanceName']+'\x20('+this[_0x19d2ae(0x5ef)][_0x19d2ae(0x222)]+_0x19d2ae(0x653)+_0x4fae66),null;}}async[a0_0xd17613(0x775)](_0x3ff6b2,_0x24ef26){const _0x3d2ebf=a0_0xd17613;if(_0x24ef26[_0x3d2ebf(0x2e1)]){let _0x1ad8ec=_0x3ff6b2[_0x3d2ebf(0x50f)](async _0x2eaa55=>{const _0x4aac6b=_0x3d2ebf;try{let _0x1c7b75={'_id':_0x2eaa55['_id'],'owner':_0x2eaa55[_0x4aac6b(0x50a)],'lastcache':0x0};if(Object[_0x4aac6b(0x6f6)](_0x2eaa55)[_0x4aac6b(0x2a4)](_0x2654b9=>{_0x2eaa55[_0x2654b9]!==null&&(_0x1c7b75[_0x2654b9]=_0x2eaa55[_0x2654b9]);}),_0x1c7b75['imagechat']===null&&(_0x1c7b75['imagechat']=_0x4aac6b(0x187)),Object[_0x4aac6b(0x6f6)](_0x1c7b75)[_0x4aac6b(0x4ba)]>0x0)return await this[_0x4aac6b(0x735)][_0x4aac6b(0x33f)][_0x4aac6b(0x8ae)]({'where':{'_id':_0x2eaa55['_id']}},_0x1c7b75,this[_0x4aac6b(0x5ef)][_0x4aac6b(0x222)]);}catch(_0x3ea964){let _0x4e439e=_0x4aac6b(0x20f)+_0x2eaa55[_0x4aac6b(0x19a)],_0x99de30=_0x3ea964 instanceof Error?_0x3ea964['message']:typeof _0x3ea964=='object'?JSON[_0x4aac6b(0x78e)](_0x3ea964):_0x3ea964,_0x2c52f8=_0x4e439e+':\x20'+_0x99de30;return this['logger'][_0x4aac6b(0x37f)](this[_0x4aac6b(0x84b)]+'\x20('+this[_0x4aac6b(0x5ef)][_0x4aac6b(0x222)]+'):\x20'+_0x2c52f8),null;}}),_0x196cec=(await Promise['all'](_0x1ad8ec))['filter'](_0x4f2510=>_0x4f2510!==null)[_0x3d2ebf(0x4ba)];this['logger'][_0x3d2ebf(0x230)](this['instanceName']+'\x20('+this[_0x3d2ebf(0x5ef)][_0x3d2ebf(0x222)]+_0x3d2ebf(0x653)+_0x196cec+_0x3d2ebf(0x2ae)+this[_0x3d2ebf(0x5ef)][_0x3d2ebf(0x222)]+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async[a0_0xd17613(0x6b6)](_0x268b36){const _0x438cfe=a0_0xd17613;this[_0x438cfe(0x55f)][_0x438cfe(0x230)](this[_0x438cfe(0x84b)]+'\x20('+this[_0x438cfe(0x5ef)][_0x438cfe(0x222)]+'):\x20Ler\x20mensagem');let _0x4a1919={'readMessages':[{'remoteJid':_0x268b36['chatLog'][_0x438cfe(0x185)][_0x438cfe(0x212)][_0x438cfe(0x2dd)],'fromMe':_0x268b36[_0x438cfe(0x2a3)]['lastReceivedMessage'][_0x438cfe(0x212)][_0x438cfe(0x2cc)],'id':_0x268b36[_0x438cfe(0x2a3)][_0x438cfe(0x185)]['key']['id']}]};await this['markMessageAsRead'](_0x4a1919);}async[a0_0xd17613(0x358)](_0x4d4da3,_0x50ff30){const _0x49545b=a0_0xd17613;try{let {key:_0x2b101d,message_normalized:_0x2feaeb}=_0x4d4da3,_0x57d149=_0x2feaeb,_0x40e701=_0x2feaeb['text']||_0x2feaeb[_0x49545b(0x1cb)]||_0x2feaeb['vote']||_0x2feaeb[_0x49545b(0x4f2)]||'',_0x4e3f12=_0x2b101d['remoteJid'],_0x2ba3eb=null,_0x4989b2=this[_0x49545b(0x3f3)][_0x49545b(0x3e1)][_0x49545b(0x357)](_0x110e02=>_0x110e02[_0x49545b(0x251)]&&_0x40e701[_0x49545b(0x831)](_0x110e02[_0x49545b(0x251)]));if(_0x4989b2&&_0x50ff30===_0x49545b(0x875)){let _0x51f70e=await this[_0x49545b(0x735)][_0x49545b(0x177)]['findOne']({'where':{'_id':_0x4989b2[_0x49545b(0x19a)]}});if(this[_0x49545b(0x55f)]['verbose'](this[_0x49545b(0x84b)]+'\x20('+this[_0x49545b(0x5ef)][_0x49545b(0x222)]+_0x49545b(0x657)),_0x51f70e&&_0x51f70e[_0x49545b(0x2f1)]?.['includes'](this[_0x49545b(0x5ef)][_0x49545b(0x222)]))_0x2ba3eb=await this[_0x49545b(0x1cc)](_0x51f70e,_0x2b101d,_0x57d149);else return this[_0x49545b(0x55f)][_0x49545b(0x230)](this[_0x49545b(0x84b)]+'\x20('+this[_0x49545b(0x5ef)][_0x49545b(0x222)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo'),null;}else this[_0x49545b(0x55f)][_0x49545b(0x230)](this[_0x49545b(0x84b)]+'\x20('+this['instance'][_0x49545b(0x222)]+_0x49545b(0x3d0));if(_0x2ba3eb=await this[_0x49545b(0x3c3)](_0x4e3f12,_0x57d149),_0x2ba3eb){this[_0x49545b(0x55f)][_0x49545b(0x230)](this[_0x49545b(0x84b)]+'\x20('+this['instance'][_0x49545b(0x222)]+_0x49545b(0x3ed)),!_0x2b101d[_0x49545b(0x2cc)]&&_0x2ba3eb[_0x49545b(0x173)]&&this[_0x49545b(0x6b6)](_0x2ba3eb);let _0x1f4032=await this[_0x49545b(0x55d)](_0x2ba3eb);_0x1f4032&&await this[_0x49545b(0x591)](_0x2ba3eb,_0x1f4032);}}catch(_0x1559ae){this['logger']['error'](this[_0x49545b(0x84b)]+'\x20('+this[_0x49545b(0x5ef)][_0x49545b(0x222)]+_0x49545b(0x810)+(_0x1559ae instanceof Error?_0x1559ae['message']:JSON[_0x49545b(0x78e)](_0x1559ae,null,0x2)));}}[a0_0xd17613(0x8a5)](_0x2e923f,_0x302938='',_0x5ae5db={}){const _0x501d44=a0_0xd17613;return typeof _0x2e923f!=_0x501d44(0x629)||_0x2e923f===null?(_0x302938&&(_0x5ae5db[_0x302938]=_0x2e923f),_0x5ae5db):(Object[_0x501d44(0x748)](_0x2e923f)[_0x501d44(0x2a4)](([_0x2fdd44,_0x6cbdb1])=>{const _0x3bcd9e=_0x501d44;let _0x230374=_0x302938?_0x302938+'.'+_0x2fdd44:'_'+_0x2fdd44;Array[_0x3bcd9e(0x5cf)](_0x6cbdb1)?_0x6cbdb1['forEach']((_0x361aa4,_0x36a215)=>{const _0x2e535d=_0x3bcd9e;this[_0x2e535d(0x8a5)](_0x361aa4,_0x230374+'['+_0x36a215+']',_0x5ae5db);}):typeof _0x6cbdb1==_0x3bcd9e(0x629)&&_0x6cbdb1!==null?this['flattenObject'](_0x6cbdb1,_0x230374,_0x5ae5db):_0x5ae5db[_0x230374]=String(_0x6cbdb1);}),_0x5ae5db);}[a0_0xd17613(0x5ae)](_0x5b775a){const _0x5a912f=a0_0xd17613;let _0x5901e9={};for(let _0x1111bb of _0x5b775a)typeof _0x1111bb[_0x5a912f(0x4f2)]=='string'&&typeof _0x1111bb['value']==_0x5a912f(0x693)&&(_0x5901e9[_0x1111bb[_0x5a912f(0x4f2)]]=_0x1111bb[_0x5a912f(0x37e)]);return _0x5901e9;}async[a0_0xd17613(0x55d)](_0x4dde36){const _0x4d2a66=a0_0xd17613;if(!this[_0x4d2a66(0x3f3)]?.['flowConfig']['enabled']||_0x4dde36[_0x4d2a66(0x1f8)]!==_0x4d2a66(0x4c2)&&_0x4dde36['waitingMenu_id']==='')return null;let _0x43c0f6=_0x4dde36[_0x4d2a66(0x2a3)][_0x4d2a66(0x57a)]||'start';typeof _0x4dde36[_0x4d2a66(0x2a3)]['lastCondition']>'u'&&(_0x4dde36[_0x4d2a66(0x2a3)][_0x4d2a66(0x73c)]=!0x0);let _0x4c5272=_0x4dde36[_0x4d2a66(0x2a3)][_0x4d2a66(0x73c)];this[_0x4d2a66(0x55f)]['verbose'](this['instanceName']+'\x20('+this[_0x4d2a66(0x5ef)]['wuid']+_0x4d2a66(0x5d4)+_0x43c0f6+_0x4d2a66(0x7ff)+_0x4c5272);let _0x238e70=_0x43c0f6===_0x4d2a66(0x4f5)?_0x4dde36['blocks']['find'](_0xca08d2=>_0xca08d2[_0x4d2a66(0x519)]===_0x4d2a66(0x4f5)):_0x4dde36[_0x4d2a66(0x471)][_0x4d2a66(0x357)](_0x2e3b9a=>_0x2e3b9a[_0x4d2a66(0x19a)][_0x4d2a66(0x883)]()===_0x43c0f6[_0x4d2a66(0x883)]());if(!_0x238e70)return this[_0x4d2a66(0x55f)][_0x4d2a66(0x37f)](this[_0x4d2a66(0x84b)]+'\x20('+this[_0x4d2a66(0x5ef)][_0x4d2a66(0x222)]+_0x4d2a66(0x8b1)+_0x43c0f6),null;let _0x15aa9a={'_pushName':_0x4dde36?.[_0x4d2a66(0x2a3)]?.[_0x4d2a66(0x185)]?.[_0x4d2a66(0x5aa)]||'','_sender':this['instance']['wuid']||'',..._0x4dde36[_0x4d2a66(0x2a3)][_0x4d2a66(0x45f)]},_0x5d6965=null;if(_0x4dde36['waitingMenu_id']){let _0x2d592d=_0x4dde36[_0x4d2a66(0x2a3)]['lastReceivedMessage'][_0x4d2a66(0x8b6)],_0x5edf5d=_0x4dde36[_0x4d2a66(0x470)][_0x4d2a66(0x357)](_0x56bb2a=>_0x56bb2a[_0x4d2a66(0x262)]===_0x2d592d);if(_0x5edf5d){let _0x59efa3=_0x5edf5d[_0x4d2a66(0x763)];if(_0x5d6965=_0x4dde36[_0x4d2a66(0x471)]['find'](_0x4b4dec=>_0x4b4dec[_0x4d2a66(0x7eb)]===_0x59efa3&&_0x4b4dec['order']===0x1),_0x238e70[_0x4d2a66(0x17d)]['pollOnReplyDelete']){let _0x1b0085={'id':_0x4dde36[_0x4d2a66(0x79b)],'remoteJid':_0x4dde36['remoteJid'],'fromMe':!0x0};await this['deleteMessage'](_0x1b0085);}if(_0x238e70[_0x4d2a66(0x17d)][_0x4d2a66(0x528)]&&_0x238e70['uazapi'][_0x4d2a66(0x704)]&&_0x238e70[_0x4d2a66(0x17d)][_0x4d2a66(0x608)]===_0x4d2a66(0x335)){let _0x429fd9={'number':_0x4dde36[_0x4d2a66(0x2dd)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x4dde36[_0x4d2a66(0x1b4)]+_0x4d2a66(0x48c)+_0x2d592d}};await this[_0x4d2a66(0x1a8)](_0x429fd9);}_0x4dde36[_0x4d2a66(0x1f8)]=_0x4d2a66(0x4c2),_0x4dde36[_0x4d2a66(0x79b)]='',_0x4dde36['waitingMenu_text']='',_0x4dde36[_0x4d2a66(0x470)]=[];}else{this['logger'][_0x4d2a66(0x230)](this[_0x4d2a66(0x84b)]+'\x20('+this[_0x4d2a66(0x5ef)]['wuid']+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x3e4ec3={'activatedCount':_0x4dde36[_0x4d2a66(0x2a3)][_0x4d2a66(0x6e2)]['filter'](_0x1e714c=>String(_0x1e714c[_0x4d2a66(0x176)])===String(_0x43c0f6))[_0x4d2a66(0x4ba)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x238e70[_0x4d2a66(0x17d)][_0x4d2a66(0x4e9)]){let _0x2500da={'number':_0x4dde36[_0x4d2a66(0x2dd)],'options':{'delay':0x0},'textMessage':{'text':_0x238e70[_0x4d2a66(0x17d)][_0x4d2a66(0x4e9)]}};await this[_0x4d2a66(0x1a8)](_0x2500da);}if(_0x238e70[_0x4d2a66(0x497)]!==void 0x0&&_0x3e4ec3['activatedCount']>=_0x238e70[_0x4d2a66(0x497)]){let _0x233e82=Date['now'](),_0x36c692=_0x238e70[_0x4d2a66(0x692)]??0xa;isNaN(_0x36c692)&&(_0x36c692=0xa);let _0x4aa7d7=_0x233e82+_0x36c692*0x3c*0x3e8;_0x3e4ec3['newStoppedUntil']=_0x4aa7d7,_0x3e4ec3[_0x4d2a66(0x2b9)][_0x4d2a66(0x668)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x4d2a66(0x390)](_0x4dde36,_0x4aa7d7),_0x4dde36[_0x4d2a66(0x79b)]='',_0x4dde36[_0x4d2a66(0x1b4)]='',_0x4dde36[_0x4d2a66(0x470)]=[];}return this[_0x4d2a66(0x5ab)](_0x4dde36,_0x238e70,_0x3e4ec3,!0x0),null;}}if(_0x4c5272&&_0x238e70[_0x4d2a66(0x763)]&&!_0x4dde36[_0x4d2a66(0x79b)]){let _0x55c4a=_0x4dde36[_0x4d2a66(0x471)][_0x4d2a66(0x736)](_0x2bf357=>_0x2bf357[_0x4d2a66(0x7eb)][_0x4d2a66(0x883)]()===_0x238e70[_0x4d2a66(0x763)][_0x4d2a66(0x883)]())[_0x4d2a66(0x730)]((_0x393305,_0x3910b4)=>_0x393305[_0x4d2a66(0x7b6)]-_0x3910b4['order']);_0x55c4a['length']>0x0&&(_0x5d6965=_0x55c4a[0x0]);}if(!_0x5d6965){let _0xac2807=_0x238e70['groupId'],_0x1e94cd=_0x4dde36['blocks'][_0x4d2a66(0x736)](_0x17f5c5=>_0x17f5c5['groupId']===_0xac2807&&_0x17f5c5['order']>_0x238e70[_0x4d2a66(0x7b6)])[_0x4d2a66(0x730)]((_0x106f6f,_0xd93f9c)=>_0x106f6f['order']-_0xd93f9c[_0x4d2a66(0x7b6)]);_0x1e94cd[_0x4d2a66(0x4ba)]>0x0&&(_0x5d6965=_0x1e94cd[0x0]);}if(!_0x5d6965)return _0x4dde36[_0x4d2a66(0x1f8)]=_0x4d2a66(0x7ec),null;_0x4dde36[_0x4d2a66(0x2a3)]['realVariables']=_0x15aa9a;let _0xc6b5cb=JSON['parse'](JSON[_0x4d2a66(0x78e)](_0x5d6965));return this[_0x4d2a66(0x83f)](_0xc6b5cb,_0x4dde36[_0x4d2a66(0x2a3)][_0x4d2a66(0x45f)]),_0x4dde36[_0x4d2a66(0x2a3)]['lastBlockId']=_0xc6b5cb[_0x4d2a66(0x19a)],_0x4dde36[_0x4d2a66(0x2a3)][_0x4d2a66(0x73c)]=!0x0,_0xc6b5cb;}[a0_0xd17613(0x18f)](_0x1b43dc,_0x4034ce){const _0x24ba98=a0_0xd17613;return _0x1b43dc[_0x24ba98(0x523)](/\{\{([^}]+)\}\}/g,(_0x25a1f3,_0x3b15aa)=>_0x4034ce[_0x3b15aa]||'');}[a0_0xd17613(0x83f)](_0x1e9304,_0x5388c6){const _0x3a2351=a0_0xd17613;for(let _0x8b0e86 in _0x1e9304)typeof _0x1e9304[_0x8b0e86]==_0x3a2351(0x693)?_0x1e9304[_0x8b0e86]=this[_0x3a2351(0x18f)](_0x1e9304[_0x8b0e86],_0x5388c6):typeof _0x1e9304[_0x8b0e86]==_0x3a2351(0x629)&&this[_0x3a2351(0x83f)](_0x1e9304[_0x8b0e86],_0x5388c6);}async[a0_0xd17613(0x20b)](_0x263d0e,_0x18dc2e){const _0x9e2ac3=a0_0xd17613;let _0x25d9e5=_0x18dc2e[_0x9e2ac3(0x19a)];if(_0x263d0e['chatLog']&&_0x263d0e[_0x9e2ac3(0x2a3)]['blockLogs']){let _0x40a14e=_0x263d0e[_0x9e2ac3(0x2a3)][_0x9e2ac3(0x6e2)][_0x9e2ac3(0x736)](_0xc889dc=>String(_0xc889dc[_0x9e2ac3(0x176)])===String(_0x25d9e5))[_0x9e2ac3(0x47f)]();if(_0x40a14e&&_0x40a14e[_0x9e2ac3(0x37f)]&&_0x18dc2e[_0x9e2ac3(0x696)])return _0x263d0e['status']=_0x9e2ac3(0x7ec),await this['saveConversationToDatabase'](_0x263d0e),null;}if(_0x18dc2e[_0x9e2ac3(0x519)]===_0x9e2ac3(0x17d)&&_0x18dc2e[_0x9e2ac3(0x17d)][_0x9e2ac3(0x699)]==='sendPoll'&&_0x263d0e[_0x9e2ac3(0x79b)])return _0x263d0e[_0x9e2ac3(0x2a3)][_0x9e2ac3(0x57a)]=_0x25d9e5,await this[_0x9e2ac3(0x4c4)](_0x263d0e),null;let _0x4f0cad=await this['NextBlock'](_0x263d0e);if(_0x263d0e[_0x9e2ac3(0x2a3)]&&_0x263d0e['chatLog'][_0x9e2ac3(0x6e2)]){let _0x48ac28=_0x263d0e[_0x9e2ac3(0x2a3)]['blockLogs'][_0x9e2ac3(0x736)](_0x36e57e=>String(_0x36e57e[_0x9e2ac3(0x176)])===String(_0x25d9e5))[_0x9e2ac3(0x4ba)];if(_0x18dc2e[_0x9e2ac3(0x497)]!==void 0x0&&_0x48ac28>=_0x18dc2e['maxActives']){let _0x32c785=Date[_0x9e2ac3(0x81a)](),_0x517659=_0x18dc2e['stopMinutesMaxActives']??0xa;isNaN(_0x517659)&&(_0x517659=0xa);let _0x1f3c0c=_0x32c785+_0x517659*0x3c*0x3e8,_0x496903={'newStoppedUntil':_0x1f3c0c};return this[_0x9e2ac3(0x390)](_0x263d0e,_0x1f3c0c),this[_0x9e2ac3(0x5ab)](_0x263d0e,_0x18dc2e,_0x496903,!0x0),null;}}_0x4f0cad&&_0x4f0cad[_0x9e2ac3(0x519)]!==_0x9e2ac3(0x534)&&await this[_0x9e2ac3(0x591)](_0x263d0e,_0x4f0cad),_0x4f0cad||await this[_0x9e2ac3(0x4c4)](_0x263d0e),_0x4f0cad&&_0x4f0cad[_0x9e2ac3(0x519)]==='save'&&(_0x263d0e[_0x9e2ac3(0x2a3)]['lastBlockId']=_0x25d9e5,await this['saveConversationToDatabase'](_0x263d0e));}async[a0_0xd17613(0x591)](_0x513c63,_0x60420d){const _0x441557=a0_0xd17613;try{let _0x55ab64=_0x60420d['type'];this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x441557(0x5ef)][_0x441557(0x222)]+_0x441557(0x830)+_0x55ab64);let _0x5a4805={'uazapi':()=>this[_0x441557(0x472)](_0x513c63,_0x60420d),'save':()=>this[_0x441557(0x606)](_0x513c63,_0x60420d),'stop':()=>this[_0x441557(0x31a)](_0x513c63,_0x60420d),'condition':()=>this[_0x441557(0x6ff)](_0x513c63,_0x60420d),'varedit':()=>this['processvaredits'](_0x513c63,_0x60420d),'apirequest':()=>this[_0x441557(0x51b)](_0x513c63,_0x60420d),'goToFlow':()=>this[_0x441557(0x82e)](_0x513c63,_0x60420d),'scheduleFlow':()=>this['processScheduleFlow'](_0x513c63,_0x60420d),'awaitSeconds':()=>this[_0x441557(0x359)](_0x513c63,_0x60420d),'clearVariables':()=>this['processclearVariables'](_0x513c63,_0x60420d)}[_0x55ab64];_0x5a4805&&await _0x5a4805();}catch(_0x1deccd){this[_0x441557(0x55f)][_0x441557(0x37f)](this[_0x441557(0x84b)]+'\x20('+this[_0x441557(0x5ef)][_0x441557(0x222)]+_0x441557(0x610)+(_0x1deccd instanceof Error?_0x1deccd[_0x441557(0x6e8)]:JSON[_0x441557(0x78e)](_0x1deccd,null,0x2)));}}async['processawaitSeconds'](_0x6dc774,_0x5ba018){const _0x82c375=a0_0xd17613;if(this[_0x82c375(0x55f)][_0x82c375(0x230)](this[_0x82c375(0x84b)]+'\x20('+this['instance'][_0x82c375(0x222)]+_0x82c375(0x578)),!_0x6dc774||!_0x5ba018)return this['logger'][_0x82c375(0x37f)](this[_0x82c375(0x84b)]+'\x20('+this[_0x82c375(0x5ef)]['wuid']+_0x82c375(0x614)),null;let _0x49b369=+_0x5ba018[_0x82c375(0x67c)];isNaN(_0x49b369)&&(_0x49b369=0x0),_0x49b369=Math[_0x82c375(0x518)](_0x49b369,0x3c),await(0x0,w[_0x82c375(0x427)])(_0x49b369*0x3e8);let _0x53f815={'moreLogs':['Pausado\x20por\x20'+_0x49b369+'\x20segundos']};return await this['updateConversation'](_0x6dc774,_0x5ba018,_0x53f815),_0x49b369;}async[a0_0xd17613(0x307)](_0x1932e4,_0x30a0bd){const _0x16417a=a0_0xd17613;if(this['logger'][_0x16417a(0x230)](this['instanceName']+'\x20('+this['instance'][_0x16417a(0x222)]+_0x16417a(0x44e)),!_0x1932e4||!_0x30a0bd)return this[_0x16417a(0x55f)]['error'](this['instanceName']+'\x20('+this[_0x16417a(0x5ef)][_0x16417a(0x222)]+_0x16417a(0x614)),null;let _0x45de52=[];if(_0x30a0bd[_0x16417a(0x52a)]['trim']()===_0x16417a(0x3c9)){let _0x507245=[_0x16417a(0x7fa),'_pushName',_0x16417a(0x1aa),_0x16417a(0x293),_0x16417a(0x636),_0x16417a(0x19a),_0x16417a(0x824)];_0x45de52=Object[_0x16417a(0x6f6)](_0x1932e4[_0x16417a(0x2a3)][_0x16417a(0x45f)])[_0x16417a(0x736)](_0x1f22f7=>_0x1f22f7[_0x16417a(0x29c)]('_')&&!_0x507245['includes'](_0x1f22f7));}else _0x45de52=_0x30a0bd[_0x16417a(0x52a)][_0x16417a(0x37b)]('|')[_0x16417a(0x50f)](_0x14f1be=>(_0x14f1be=_0x14f1be[_0x16417a(0x523)](/[{}]/g,'')[_0x16417a(0x3dd)](),_0x14f1be[_0x16417a(0x29c)]('_')?_0x14f1be:'_'+_0x14f1be));let _0x4c2089=[];_0x45de52[_0x16417a(0x2a4)](_0x3c5625=>{const _0x540924=_0x16417a;_0x3c5625 in _0x1932e4[_0x540924(0x2a3)][_0x540924(0x45f)]&&(delete _0x1932e4[_0x540924(0x2a3)][_0x540924(0x45f)][_0x3c5625],_0x4c2089[_0x540924(0x668)](_0x3c5625));}),_0x4c2089[_0x16417a(0x4ba)]>0x0?this[_0x16417a(0x55f)][_0x16417a(0x230)](this[_0x16417a(0x84b)]+'\x20('+this['instance'][_0x16417a(0x222)]+_0x16417a(0x7c8)+_0x4c2089[_0x16417a(0x4c3)](',\x20')):this['logger'][_0x16417a(0x230)](this[_0x16417a(0x84b)]+'\x20('+this[_0x16417a(0x5ef)]['wuid']+_0x16417a(0x70d));let _0x4ea86c={'moreLogs':[_0x16417a(0x365)+_0x4c2089[_0x16417a(0x4c3)](',\x20')]};return await this[_0x16417a(0x5ab)](_0x1932e4,_0x30a0bd,_0x4ea86c),null;}async[a0_0xd17613(0x522)](_0x3d6a15,_0x1a8f20){const _0x3e7b27=a0_0xd17613;if(this[_0x3e7b27(0x55f)][_0x3e7b27(0x230)](this['instanceName']+'\x20('+this[_0x3e7b27(0x5ef)][_0x3e7b27(0x222)]+_0x3e7b27(0x7d8)),!_0x3d6a15||!_0x1a8f20)return this[_0x3e7b27(0x55f)][_0x3e7b27(0x37f)](this[_0x3e7b27(0x84b)]+'\x20('+this[_0x3e7b27(0x5ef)]['wuid']+_0x3e7b27(0x614)),null;let _0x5f242b=_0x3d6a15[_0x3e7b27(0x2dd)];_0x1a8f20[_0x3e7b27(0x218)][_0x3e7b27(0x2dd)]&&_0x1a8f20['scheduleFlow'][_0x3e7b27(0x2dd)][_0x3e7b27(0x3dd)]()!==''&&(_0x5f242b=_0x1a8f20[_0x3e7b27(0x17d)][_0x3e7b27(0x2dd)][_0x3e7b27(0x3dd)]());let _0x20dbdd=_0x1a8f20[_0x3e7b27(0x218)][_0x3e7b27(0x8a9)]*0xea60,_0x165b2d=Date['now']()+_0x20dbdd,_0x32b060={'status':_0x3e7b27(0x22b),'info':_0x3e7b27(0x198)+_0x3d6a15[_0x3e7b27(0x4f2)],'remoteJids':[_0x5f242b],'when':_0x165b2d,'delaySecMin':0x0,'delaySecMax':0x0,'type':'flow','flowName':_0x1a8f20['scheduleFlow']['flowName']};this[_0x3e7b27(0x843)](_0x32b060);let _0x483a30=await this[_0x3e7b27(0x55d)](_0x3d6a15);_0x483a30&&await this[_0x3e7b27(0x591)](_0x3d6a15,_0x483a30);}async[a0_0xd17613(0x82e)](_0x4afde0,_0x275707){const _0x97838a=a0_0xd17613;if(this[_0x97838a(0x55f)][_0x97838a(0x230)](this['instanceName']+'\x20('+this[_0x97838a(0x5ef)][_0x97838a(0x222)]+_0x97838a(0x5e5)),!_0x4afde0||!_0x275707)return this[_0x97838a(0x55f)]['error'](this['instanceName']+'\x20('+this[_0x97838a(0x5ef)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0x97838a(0x5ab)](_0x4afde0,_0x275707,{},!0x0,!0x0);let _0x4de5a3=_0x275707['goToFlow'];_0x4afde0=await this[_0x97838a(0x6a7)](_0x4de5a3,_0x4afde0[_0x97838a(0x2dd)],_0x4afde0[_0x97838a(0x2a3)][_0x97838a(0x45f)]);let _0x1d2965=await this[_0x97838a(0x55d)](_0x4afde0);_0x1d2965&&await this[_0x97838a(0x591)](_0x4afde0,_0x1d2965);}async[a0_0xd17613(0x6a7)](_0x4a312d,_0x24c5e8,_0x1e598f){const _0x4a7b55=a0_0xd17613;this[_0x4a7b55(0x55f)]['verbose'](this[_0x4a7b55(0x84b)]+'\x20('+this[_0x4a7b55(0x5ef)]['wuid']+_0x4a7b55(0x4f9));try{let _0x38d141=this[_0x4a7b55(0x3f3)][_0x4a7b55(0x3e1)][_0x4a7b55(0x357)](_0x454353=>_0x454353[_0x4a7b55(0x19a)]===_0x4a312d);_0x38d141||this[_0x4a7b55(0x55f)][_0x4a7b55(0x37f)](this['instanceName']+'\x20('+this['instance'][_0x4a7b55(0x222)]+_0x4a7b55(0x743)+_0x4a312d+_0x4a7b55(0x34b));let _0x2138bb=await this['repository']['flow'][_0x4a7b55(0x86d)]({'where':{'_id':_0x38d141['_id']}});if(!_0x2138bb||!_0x2138bb[_0x4a7b55(0x2f1)]?.[_0x4a7b55(0x831)](this[_0x4a7b55(0x5ef)][_0x4a7b55(0x222)]))throw this[_0x4a7b55(0x55f)][_0x4a7b55(0x37f)](this['instanceName']+'\x20('+this['instance'][_0x4a7b55(0x222)]+'):\x20Flow\x20\x27'+_0x4a312d+_0x4a7b55(0x4aa)),new m(_0x4a7b55(0x336)+_0x4a312d+_0x4a7b55(0x4aa));let _0x15a054=require(_0x4a7b55(0x6a5))[_0x4a7b55(0x465)],_0x38847b=Date['now'](),_0x20f562=_0x4a7b55(0x4f5),_0x2d3aa5={},_0x1836f9={},_0x391181=this['AutomateSystem'][_0x4a7b55(0x3e1)][_0x4a7b55(0x357)](_0x1ee3bf=>_0x1ee3bf['_id']===_0x2138bb['_id']?.[_0x4a7b55(0x883)]()),_0x2ac945=_0x391181?.[_0x4a7b55(0x8b2)]??_0x2138bb[_0x4a7b55(0x8b2)]??0x0,_0xc4101e=_0x391181?.[_0x4a7b55(0x173)]??_0x2138bb[_0x4a7b55(0x173)]??!0x1,_0x1cc33d={'flowId':_0x38d141[_0x4a7b55(0x19a)],'readMessages':_0x38d141[_0x4a7b55(0x173)],..._0x2138bb,'chatLog':null},_0xbc9353={'lastReceivedMessage':_0x2d3aa5,'lastSendMessage':_0x1836f9,'lastBlockId':_0x20f562,'lastCondition':!0x0,'realVariables':_0x1e598f};_0x1cc33d[_0x4a7b55(0x2a3)]=_0xbc9353,_0x1cc33d[_0x4a7b55(0x2a3)][_0x4a7b55(0x45f)]={..._0x1e598f},delete _0x1cc33d['_id'],_0x1cc33d[_0x4a7b55(0x19a)]=new _0x15a054(),_0x1cc33d[_0x4a7b55(0x4b8)]=_0x38847b,_0x1cc33d[_0x4a7b55(0x1f8)]=_0x4a7b55(0x4c2),_0x1cc33d['remoteJid']=_0x24c5e8,_0x1cc33d[_0x4a7b55(0x8b2)]=_0x2ac945,_0x1cc33d['readMessages']=_0xc4101e;let _0x412544=await this[_0x4a7b55(0x735)]['flowConversation']['updateOne'](_0x1cc33d[_0x4a7b55(0x19a)],_0x1cc33d,this[_0x4a7b55(0x5ef)][_0x4a7b55(0x222)]);return this[_0x4a7b55(0x55f)][_0x4a7b55(0x230)](this['instanceName']+'\x20('+this[_0x4a7b55(0x5ef)][_0x4a7b55(0x222)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x412544?_0x1cc33d:null;}catch(_0x423b8c){let _0x34e8a0='Erro\x20ao\x20copiar\x20o\x20documento',_0xe775af=_0x423b8c instanceof Error?_0x423b8c['message']:typeof _0x423b8c==_0x4a7b55(0x629)?JSON['stringify'](_0x423b8c):_0x423b8c,_0x3c5c8a=_0x34e8a0+':\x20'+_0xe775af;throw this['logger']['error'](this[_0x4a7b55(0x84b)]+'\x20('+this[_0x4a7b55(0x5ef)][_0x4a7b55(0x222)]+'):\x20'+_0x3c5c8a),new m(_0x3c5c8a);}}async[a0_0xd17613(0x51b)](_0x15a1dd,_0x4d4486){const _0x402f06=a0_0xd17613;let _0x59003f,_0x3eed5a;try{let _0x3685ad=_0x4d4486['apirequest'];if(!_0x3685ad||!_0x3685ad[_0x402f06(0x6fb)]||!_0x3685ad['method'])throw new Error(_0x402f06(0x8a8));let _0x533904;([_0x402f06(0x554),_0x402f06(0x4ef),_0x402f06(0x412)][_0x402f06(0x884)](_0xb35584=>_0x3685ad[_0x402f06(0x6fb)][_0x402f06(0x831)](_0xb35584))||_0x3685ad['requestFile'])&&(_0x533904=_0x402f06(0x89a));let _0x4b553e='\u205f',_0x4ce131;try{_0x4ce131=JSON['parse'](_0x3685ad[_0x402f06(0x5e6)][_0x402f06(0x523)](new RegExp(_0x4b553e,'g'),''));}catch(_0x1e1aa6){throw _0x1e1aa6;}let _0x5a68ea={'method':_0x3685ad[_0x402f06(0x898)],'url':_0x3685ad['url'],'headers':_0x3685ad[_0x402f06(0x3b3)]||{},..._0x3685ad[_0x402f06(0x898)][_0x402f06(0x5ca)]()!=='GET'&&_0x3685ad[_0x402f06(0x5e6)]?{'data':JSON[_0x402f06(0x5ac)](_0x3685ad[_0x402f06(0x5e6)][_0x402f06(0x523)](new RegExp(_0x4b553e,'g'),''))}:{},..._0x533904&&{'responseType':_0x533904}},_0x57d774=await(0x0,Z[_0x402f06(0x6db)])(_0x5a68ea),_0x30d216=_0x57d774[_0x402f06(0x1c6)][_0x402f06(0x6f3)];if(_0x30d216&&_0x30d216['includes'](_0x402f06(0x7ee))||typeof _0x57d774[_0x402f06(0x61d)]==_0x402f06(0x693)){if(typeof _0x57d774[_0x402f06(0x61d)]=='string'){let _0x2529e8=_0x57d774[_0x402f06(0x61d)][_0x402f06(0x523)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')['trim']();try{_0x59003f=JSON[_0x402f06(0x5ac)](_0x2529e8);}catch(_0x953ae6){this[_0x402f06(0x55f)][_0x402f06(0x37f)]('Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20'+_0x953ae6[_0x402f06(0x6e8)]),_0x59003f={'_apiResponse':_0x57d774[_0x402f06(0x61d)]};}}else _0x59003f=_0x57d774[_0x402f06(0x61d)];let _0x40b803=_0x15a1dd[_0x402f06(0x2a3)][_0x402f06(0x45f)],_0x36e36a=this['flattenObject'](_0x59003f);return Object[_0x402f06(0x5d7)](_0x40b803,_0x36e36a),_0x15a1dd[_0x402f06(0x2a3)]['realVariables']=_0x40b803,_0x3eed5a={'error':!0x1,'apiResponse':_0x59003f},this['updateConversation'](_0x15a1dd,_0x4d4486,_0x3eed5a),_0x59003f;}if(_0x30d216&&(_0x30d216[_0x402f06(0x831)]('application/octet-stream')||_0x30d216[_0x402f06(0x831)](_0x402f06(0x783))||_0x30d216[_0x402f06(0x831)]('audio')||_0x30d216['includes'](_0x402f06(0x58c)))){this[_0x402f06(0x55f)][_0x402f06(0x230)](this[_0x402f06(0x84b)]+'\x20('+this[_0x402f06(0x5ef)][_0x402f06(0x222)]+_0x402f06(0x3b5)+_0x30d216);let _0x21ebac=(0x0,me['v4'])(),_0x52364f='',_0x5657ce={'image/jpeg':_0x402f06(0x84d),'image/png':_0x402f06(0x1fd),'image/gif':_0x402f06(0x237),'image/webp':_0x402f06(0x182),'image/svg+xml':_0x402f06(0x47c),'audio/mpeg':_0x402f06(0x727),'audio/ogg':_0x402f06(0x767),'audio/wav':'.wav','video/mp4':_0x402f06(0x80d),'video/webm':'.webm','video/ogg':'.ogv','text/plain':_0x402f06(0x27f),'application/pdf':_0x402f06(0x801),'application/msword':_0x402f06(0x7e9),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x402f06(0x8c0),'application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x402f06(0x32d),'application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x5657ce[_0x30d216]?(_0x52364f=_0x5657ce[_0x30d216],this['logger'][_0x402f06(0x230)](this[_0x402f06(0x84b)]+'\x20('+this[_0x402f06(0x5ef)][_0x402f06(0x222)]+_0x402f06(0x89d)+_0x52364f)):(_0x52364f=_0x402f06(0x2f5),this['logger'][_0x402f06(0x230)](this[_0x402f06(0x84b)]+'\x20('+this['instance'][_0x402f06(0x222)]+_0x402f06(0x6c1)+_0x52364f)),_0x21ebac+=_0x52364f,this[_0x402f06(0x55f)][_0x402f06(0x230)](this[_0x402f06(0x84b)]+'\x20('+this[_0x402f06(0x5ef)][_0x402f06(0x222)]+_0x402f06(0x613)+_0x21ebac);let _0x30cf69=this[_0x402f06(0x3ea)][_0x402f06(0x8bc)](_0x402f06(0x649))[_0x402f06(0x3b9)];if(!_0x30cf69){let _0x299c5d=this[_0x402f06(0x3ea)][_0x402f06(0x8bc)](_0x402f06(0x70c));_0x30cf69=_0x402f06(0x5a2)+(_0x299c5d&&_0x299c5d[_0x402f06(0x841)][_0x402f06(0x37b)]('/')[0x4]);}let _0x321b8c=Buffer['from'](_0x57d774[_0x402f06(0x61d)]);await this[_0x402f06(0x2bd)](_0x321b8c,_0x21ebac);let _0x1c0ef4='/media/'+_0x21ebac;_0x1c0ef4=''+_0x30cf69+_0x1c0ef4,_0x59003f={'fileUrl':_0x1c0ef4},_0x15a1dd[_0x402f06(0x2a3)]['realVariables'][_0x402f06(0x7d0)]=_0x1c0ef4;let _0x25a22f=_0x15a1dd['chatLog']['realVariables'],_0x51f7b8=this['flattenObject'](_0x59003f);return Object[_0x402f06(0x5d7)](_0x25a22f,_0x51f7b8),_0x15a1dd['chatLog']['realVariables']=_0x25a22f,_0x3eed5a={'error':!0x1,'apiResponse':{'fileUrl':_0x1c0ef4}},this[_0x402f06(0x5ab)](_0x15a1dd,_0x4d4486,_0x3eed5a),_0x59003f;}}catch(_0x4f3e43){this['logger'][_0x402f06(0x37f)](_0x402f06(0x254)+_0x4f3e43[_0x402f06(0x6e8)]),_0x4f3e43[_0x402f06(0x329)]&&(_0x59003f=_0x4f3e43[_0x402f06(0x329)]['data']);let _0x4b2dc9=_0x15a1dd['chatLog'][_0x402f06(0x45f)],_0xc09794=this[_0x402f06(0x8a5)](_0x59003f);return Object['assign'](_0x4b2dc9,_0xc09794),_0x15a1dd[_0x402f06(0x2a3)][_0x402f06(0x45f)]=_0x4b2dc9,_0x3eed5a={'error':!0x0,'errorLog':_0x4f3e43[_0x402f06(0x883)](),'apiResponse':_0x59003f},this[_0x402f06(0x5ab)](_0x15a1dd,_0x4d4486,_0x3eed5a),{'success':!0x1};}}['applyvaredit'](_0xcb76a9,_0x14e7bf){const _0x539e7a=a0_0xd17613;let _0x1898fc=_0x4658e7=>{const _0x2839ba=a0_0x3a35;let _0x98587c=_0x4658e7[_0x2839ba(0x523)](/[^0-9.,-]/g,'')[_0x2839ba(0x523)](',','.'),_0x55e835=parseFloat(_0x98587c);return isNaN(_0x55e835)?null:_0x55e835;},_0x1b1693=_0x14e7bf[_0x539e7a(0x4bf)],_0x2575c9=_0x14e7bf[_0x539e7a(0x342)];typeof _0x1b1693=='string'&&(_0x1b1693=this[_0x539e7a(0x18f)](_0x1b1693,_0xcb76a9['chatLog'][_0x539e7a(0x45f)])??''),typeof _0x2575c9==_0x539e7a(0x693)&&(_0x2575c9=this[_0x539e7a(0x18f)](_0x2575c9,_0xcb76a9['chatLog'][_0x539e7a(0x45f)])??'');let _0x194ec4=null;if(!_0x14e7bf[_0x539e7a(0x414)])return null;switch(this[_0x539e7a(0x55f)][_0x539e7a(0x230)](this[_0x539e7a(0x84b)]+'\x20('+this[_0x539e7a(0x5ef)]['wuid']+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x1b1693),this[_0x539e7a(0x55f)]['verbose'](this[_0x539e7a(0x84b)]+'\x20('+this[_0x539e7a(0x5ef)][_0x539e7a(0x222)]+_0x539e7a(0x39d)+_0x2575c9),_0x14e7bf['editOperator']){case'+':case'-':case'*':case'/':let _0x3d2766=_0x1898fc(_0x1b1693||'0'),_0x5d2a35=_0x1898fc(_0x2575c9||'0');if(_0x3d2766===null)return null;switch(_0x14e7bf[_0x539e7a(0x414)]){case'+':_0x194ec4=_0x3d2766+(_0x5d2a35??0x0);break;case'-':_0x194ec4=_0x3d2766-(_0x5d2a35??0x0);break;case'*':_0x194ec4=_0x3d2766*(_0x5d2a35??0x1);break;case'/':_0x5d2a35!==0x0&&(_0x194ec4=_0x3d2766/(_0x5d2a35??0x1));break;}break;case _0x539e7a(0x1ed):case _0x539e7a(0x321):let _0xc51bed=_0x2575c9,_0xdb31bc=_0x14e7bf[_0x539e7a(0x4d2)];if(typeof _0xdb31bc=='string'&&(_0xdb31bc=this[_0x539e7a(0x18f)](_0xdb31bc,_0xcb76a9[_0x539e7a(0x2a3)][_0x539e7a(0x45f)])??''),_0xc51bed&&_0xdb31bc!==void 0x0){let _0x1a93d0=_0x14e7bf[_0x539e7a(0x414)]===_0x539e7a(0x1ed)?new RegExp(_0xc51bed[_0x539e7a(0x523)](/[-\/\\^$*+?.()|[\]{}]/g,_0x539e7a(0x866)),'g'):new RegExp(_0xc51bed,'g');_0x194ec4=_0x1b1693['replace'](_0x1a93d0,_0xdb31bc);}else console[_0x539e7a(0x388)](_0x539e7a(0x797));break;case _0x539e7a(0x220):_0x194ec4=_0x2575c9;break;case _0x539e7a(0x3e7):let _0x12cfe6=_0x1b1693[_0x539e7a(0x1b3)](new RegExp(_0x2575c9||''));_0x194ec4=_0x12cfe6?_0x12cfe6[0x0]:'';break;case _0x539e7a(0x29f):_0x194ec4=_0x1b1693[_0x539e7a(0x592)](0x0,parseInt(_0x2575c9||'0'));break;case'truncatedtoEnd':let _0xc659a1=parseInt(_0x2575c9||'0');_0x194ec4=_0x1b1693[_0x539e7a(0x592)](_0x1b1693[_0x539e7a(0x4ba)]-_0xc659a1);break;case _0x539e7a(0x590):let _0x100e5a=_0x1898fc(_0x1b1693),_0x1314ba=parseInt(_0x2575c9||'0');_0x1314ba=Math[_0x539e7a(0x2b8)](_0x1314ba),_0x100e5a!==null?_0x194ec4=_0x100e5a['toLocaleString'](_0x539e7a(0x43b),{'minimumFractionDigits':_0x1314ba,'maximumFractionDigits':_0x1314ba}):(console[_0x539e7a(0x388)](_0x539e7a(0x79c)+_0x1b1693),_0x194ec4=null);break;case _0x539e7a(0x68d):let _0x112018=_0x1898fc(_0x1b1693);_0x112018!==null?_0x194ec4=_0x112018[_0x539e7a(0x65d)]('pt-BR',{'style':_0x539e7a(0x5ba),'currency':_0x539e7a(0x1b2)}):(console[_0x539e7a(0x388)](_0x539e7a(0x38d)+_0x1b1693),_0x194ec4=null);break;case _0x539e7a(0x40e):_0x194ec4=_0x1b1693[_0x539e7a(0x5ca)]();break;case _0x539e7a(0x84c):_0x194ec4=_0x1b1693[_0x539e7a(0x53e)]();break;case'capitalizedWords':_0x194ec4=_0x1b1693[_0x539e7a(0x37b)]('\x20')[_0x539e7a(0x50f)](_0x1703b6=>_0x1703b6[_0x539e7a(0x667)](0x0)[_0x539e7a(0x5ca)]()+_0x1703b6['slice'](0x1)[_0x539e7a(0x53e)]())['join']('\x20');break;case _0x539e7a(0x3d6):_0x194ec4=_0x1b1693[_0x539e7a(0x3dd)]();break;default:_0x194ec4=_0x1b1693;}return _0x194ec4!==null?_0x194ec4['toString']():null;}async[a0_0xd17613(0x4ca)](_0x3d3a9a,_0x26e944){const _0x261f56=a0_0xd17613;try{let _0x8aa6d0=_0x3d3a9a['varedits']?.[_0x261f56(0x736)](_0x10cffa=>_0x10cffa[_0x261f56(0x176)]===_0x26e944['_id']?.[_0x261f56(0x883)]())||[],_0x57e101=_0x26e944[_0x261f56(0x4f8)],_0x30145=null,_0x20bc60=[],_0x15c42f=_0x3d3a9a[_0x261f56(0x2a3)]['realVariables'][_0x57e101];_0x20bc60[_0x261f56(0x668)]('Valor\x20inicial:\x20\x22'+_0x15c42f+'\x22');for(let _0x3dc219 of _0x8aa6d0){_0x3dc219[_0x261f56(0x4bf)]=_0x15c42f,_0x30145=_0x3dc219[_0x261f56(0x4bf)];let _0x323e56;try{_0x323e56=this[_0x261f56(0x1d7)](_0x3d3a9a,_0x3dc219);}catch(_0x354fb6){this[_0x261f56(0x55f)][_0x261f56(0x37f)](_0x261f56(0x635)+_0x354fb6['message']);continue;}if(_0x323e56!==null){let _0x3b3d44='Operador:\x20\x22'+_0x3dc219[_0x261f56(0x414)]+'\x22',_0x311424=[_0x261f56(0x68d),_0x261f56(0x40e),'lowerCase',_0x261f56(0x7f4),'trimmed'];_0x3dc219[_0x261f56(0x414)]===_0x261f56(0x1ed)||_0x3dc219[_0x261f56(0x414)]===_0x261f56(0x321)?_0x3b3d44+=_0x261f56(0x57b)+_0x3dc219[_0x261f56(0x342)]+_0x261f56(0x489)+_0x3dc219['replaceValue']+'\x22':!_0x311424[_0x261f56(0x831)](_0x3dc219[_0x261f56(0x414)])&&_0x3dc219[_0x261f56(0x342)]!==null&&_0x3dc219[_0x261f56(0x342)]!==void 0x0&&(_0x3b3d44+=_0x261f56(0x886)+_0x3dc219[_0x261f56(0x342)]+'\x22'),_0x3b3d44+=_0x261f56(0x868)+_0x323e56+'.',_0x20bc60[_0x261f56(0x668)](_0x3b3d44);}_0x323e56!==null&&(_0x15c42f=_0x323e56);}if(_0x3d3a9a[_0x261f56(0x2a3)][_0x261f56(0x45f)]&&_0x26e944[_0x261f56(0x4f8)]){_0x3d3a9a[_0x261f56(0x2a3)][_0x261f56(0x45f)][_0x26e944[_0x261f56(0x4f8)]]=_0x15c42f;let _0x3bd690={'variable':_0x26e944[_0x261f56(0x4f8)],'oldValue':_0x30145,'newValue':_0x15c42f,'moreLogs':_0x20bc60};try{this[_0x261f56(0x5ab)](_0x3d3a9a,_0x26e944,_0x3bd690);}catch(_0x1c1ea5){this['logger']['error'](_0x261f56(0x485)+_0x1c1ea5[_0x261f56(0x6e8)]);}}return _0x57e101;}catch(_0x2bdd4f){return this[_0x261f56(0x55f)]['error'](_0x261f56(0x782)+_0x2bdd4f['message']),null;}}async[a0_0xd17613(0x6ff)](_0x392e88,_0x27bf6a){const _0x1adadf=a0_0xd17613;try{let _0x3dafa8=[],_0x28133e=_0x392e88['conditions'][_0x1adadf(0x736)](_0x5915ae=>_0x5915ae[_0x1adadf(0x176)]===_0x27bf6a['_id']['toString']()),_0x2eeea7=null,_0xca521a=!0x1;for(let _0x7d5842 of _0x28133e){let _0x2f5499=this[_0x1adadf(0x28c)](_0x392e88,_0x7d5842);_0x3dafa8[_0x1adadf(0x668)](_0x1adadf(0x4f0)+_0x7d5842[_0x1adadf(0x4bf)]+',\x20Comparador:\x20'+_0x7d5842[_0x1adadf(0x43d)]+',\x20Segundo\x20Valor:\x20'+_0x7d5842['secondValue']+_0x1adadf(0x5bd)+_0x2f5499),_0x2eeea7===null?_0x2eeea7=_0x2f5499:_0x7d5842[_0x1adadf(0x4eb)]===_0x1adadf(0x78c)?(_0x2eeea7=_0x2eeea7&&_0x2f5499,_0x2f5499||(_0xca521a=!0x0)):_0x7d5842[_0x1adadf(0x4eb)]==='or'&&(_0xca521a||(_0x2eeea7=_0x2eeea7||_0x2f5499));}_0x2eeea7===null&&(_0x2eeea7=!0x0);let _0x2bd56f={'moreLogs':_0x3dafa8};_0x392e88[_0x1adadf(0x2a3)][_0x1adadf(0x73c)]=_0x2eeea7,await this[_0x1adadf(0x5ab)](_0x392e88,_0x27bf6a,_0x2bd56f);}catch(_0x4baf7f){this['logger'][_0x1adadf(0x37f)](this[_0x1adadf(0x84b)]+'\x20('+this[_0x1adadf(0x5ef)][_0x1adadf(0x222)]+_0x1adadf(0x739)+(_0x4baf7f instanceof Error?_0x4baf7f[_0x1adadf(0x6e8)]:JSON[_0x1adadf(0x78e)](_0x4baf7f,null,0x2)));}}['evaluateCondition'](_0x49852d,_0xef6a5f){const _0x4572af=a0_0xd17613;let _0x23a118=_0xef6a5f['firstValue'],_0x5e2002=_0xef6a5f[_0x4572af(0x342)];typeof _0x23a118==_0x4572af(0x693)&&(_0x23a118=this[_0x4572af(0x18f)](_0x23a118,_0x49852d['chatLog'][_0x4572af(0x45f)])??''),typeof _0x5e2002=='string'&&(_0x5e2002=this['replaceVariables'](_0x5e2002,_0x49852d['chatLog']['realVariables'])??'');try{switch(_0xef6a5f[_0x4572af(0x43d)]){case _0x4572af(0x34c):return _0x23a118===_0x5e2002;case _0x4572af(0x25c):return _0x23a118!==_0x5e2002;case _0x4572af(0x89b):return this[_0x4572af(0x89b)](_0x23a118,_0x5e2002);case _0x4572af(0x890):return!this[_0x4572af(0x89b)](_0x23a118,_0x5e2002);case _0x4572af(0x26a):return parseFloat(_0x23a118)>parseFloat(_0x5e2002);case _0x4572af(0x822):return parseFloat(_0x23a118)<parseFloat(_0x5e2002);case'notEmpty':return _0x23a118!=='';case _0x4572af(0x499):return _0x23a118==='';case _0x4572af(0x5f4):return new RegExp(_0x5e2002)[_0x4572af(0x5fa)](_0x23a118);case _0x4572af(0x572):return!new RegExp(_0x5e2002)['test'](_0x23a118);default:return!0x1;}}catch(_0xe6044c){return this[_0x4572af(0x55f)][_0x4572af(0x37f)](_0x4572af(0x640)+_0xe6044c),!0x1;}}[a0_0xd17613(0x89b)](_0x56d05c,_0x139d3b){const _0x55cca4=a0_0xd17613;if(_0x56d05c===_0x139d3b&&/^\d+$/[_0x55cca4(0x5fa)](_0x56d05c))return!0x0;if(this[_0x55cca4(0x845)](_0x56d05c)&&/^\d+$/[_0x55cca4(0x5fa)](_0x139d3b)){let _0x173b71=_0x56d05c['split'](',')[_0x55cca4(0x50f)](_0x378936=>parseInt(_0x378936[_0x55cca4(0x3dd)]())),_0x3476cb=parseInt(_0x139d3b);return _0x173b71[_0x55cca4(0x831)](_0x3476cb);}return _0x56d05c[_0x55cca4(0x831)](_0x139d3b);}[a0_0xd17613(0x845)](_0x35aabc){const _0x411c48=a0_0xd17613;return/^\d+(,\d+)*$/[_0x411c48(0x5fa)](_0x35aabc);}['processConditionsTest'](_0x5de32a){const _0x1a7926=a0_0xd17613;let _0x305004=!0x0,_0x526b83=null;for(let _0x530305 of _0x5de32a){let _0x1fc60a=this[_0x1a7926(0x6f4)](_0x530305);if(_0x526b83==='or'&&_0x1fc60a){_0x305004=!0x0;break;}if(_0x526b83==='and'&&!_0x1fc60a){_0x305004=!0x1;break;}_0x526b83=_0x530305[_0x1a7926(0x4eb)];}return _0x305004;}[a0_0xd17613(0x6f4)](_0x76bf69){const _0x9acba3=a0_0xd17613;let _0xdb6e55=_0x76bf69['firstValue'],_0x46806e=_0x76bf69[_0x9acba3(0x342)];try{switch(_0x76bf69[_0x9acba3(0x43d)]){case _0x9acba3(0x34c):return String(_0xdb6e55)===String(_0x46806e);case _0x9acba3(0x25c):return String(_0xdb6e55)!==String(_0x46806e);case _0x9acba3(0x89b):return String(_0xdb6e55)['includes'](String(_0x46806e));case _0x9acba3(0x890):return!String(_0xdb6e55)[_0x9acba3(0x831)](String(_0x46806e));case'greater':return parseFloat(String(_0xdb6e55))>parseFloat(String(_0x46806e));case _0x9acba3(0x822):return parseFloat(String(_0xdb6e55))<parseFloat(String(_0x46806e));case _0x9acba3(0x36f):return String(_0xdb6e55)!=='';case _0x9acba3(0x499):return String(_0xdb6e55)==='';case _0x9acba3(0x5f4):return new RegExp(String(_0x46806e))['test'](String(_0xdb6e55));case _0x9acba3(0x572):return!new RegExp(String(_0x46806e))[_0x9acba3(0x5fa)](String(_0xdb6e55));default:return!0x1;}}catch(_0x4c14b0){return this['logger'][_0x9acba3(0x37f)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x4c14b0),!0x1;}}async[a0_0xd17613(0x606)](_0x4e3776,_0x11f089){const _0x2120de=a0_0xd17613;if(this[_0x2120de(0x55f)]['verbose'](this['instanceName']+'\x20('+this[_0x2120de(0x5ef)][_0x2120de(0x222)]+_0x2120de(0x171)),!_0x4e3776||!_0x11f089)return this['logger'][_0x2120de(0x37f)](this[_0x2120de(0x84b)]+'\x20('+this['instance'][_0x2120de(0x222)]+_0x2120de(0x614)),null;let _0x265746=_0x4e3776[_0x2120de(0x2a3)]['lastReceivedMessage'][_0x2120de(0x212)]['id'];this[_0x2120de(0x55f)][_0x2120de(0x230)](this[_0x2120de(0x84b)]+'\x20('+this[_0x2120de(0x5ef)]['wuid']+_0x2120de(0x628)+_0x265746);let _0x3a6684={'key':{'id':_0x265746}},_0x3db929=_0x11f089['saveVariable'];_0x4e3776['chatLog'][_0x2120de(0x45f)]['_'+_0x3db929+_0x2120de(0x514)]=null,_0x4e3776[_0x2120de(0x2a3)][_0x2120de(0x45f)]['_'+_0x3db929+_0x2120de(0x376)]=null,_0x4e3776['chatLog']['realVariables']['_'+_0x3db929+_0x2120de(0x40d)]=null,_0x4e3776[_0x2120de(0x2a3)]['realVariables']['_'+_0x3db929+_0x2120de(0x7ef)]=_0x4e3776[_0x2120de(0x2a3)][_0x2120de(0x185)]['type'];try{let _0x397273=await this['getBase64FromMediaMessage'](_0x3a6684);this[_0x2120de(0x55f)]['verbose'](this[_0x2120de(0x84b)]+'\x20('+this[_0x2120de(0x5ef)][_0x2120de(0x222)]+_0x2120de(0x21a)),_0x4e3776[_0x2120de(0x2a3)][_0x2120de(0x45f)]['_'+_0x3db929+_0x2120de(0x2a2)]=_0x397273[_0x2120de(0x7d0)],_0x4e3776[_0x2120de(0x2a3)]['realVariables']['_'+_0x3db929+_0x2120de(0x376)]=_0x397273['mimetype'];let _0x5034b3=_0x397273[_0x2120de(0x646)]['match'](/\/(\w+)$/),_0x5daa6b=_0x5034b3?_0x5034b3[0x1]:null;_0x4e3776[_0x2120de(0x2a3)][_0x2120de(0x45f)]['_'+_0x3db929+_0x2120de(0x40d)]=_0x5daa6b,this[_0x2120de(0x55f)][_0x2120de(0x230)](this['instanceName']+'\x20('+this['instance'][_0x2120de(0x222)]+_0x2120de(0x487)+_0x3db929+'\x27.');}catch(_0x1b0794){this['logger'][_0x2120de(0x37f)](this[_0x2120de(0x84b)]+'\x20('+this[_0x2120de(0x5ef)]['wuid']+'):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20'+_0x1b0794['message']);}let _0x2664ad=_0x4e3776[_0x2120de(0x2a3)][_0x2120de(0x185)]['text']||_0x4e3776['chatLog'][_0x2120de(0x185)][_0x2120de(0x1cb)]||_0x4e3776[_0x2120de(0x2a3)][_0x2120de(0x185)]['vote'];try{_0x4e3776['chatLog']['realVariables']||(_0x4e3776[_0x2120de(0x2a3)]['realVariables']={});let _0x4639e6=_0x4e3776['chatLog'][_0x2120de(0x45f)][_0x3db929];_0x4e3776[_0x2120de(0x2a3)][_0x2120de(0x45f)][_0x3db929]=_0x2664ad;let _0x4af9e9={'variable':_0x3db929,'oldValue':_0x4639e6,'newValue':_0x2664ad};this['updateConversation'](_0x4e3776,_0x11f089,_0x4af9e9),this[_0x2120de(0x55f)][_0x2120de(0x230)](this['instanceName']+'\x20('+this[_0x2120de(0x5ef)][_0x2120de(0x222)]+_0x2120de(0x45d));}catch(_0x113375){let _0xbbeaf9={'error':!0x0,'errorLog':_0x113375[_0x2120de(0x883)]()};return this[_0x2120de(0x5ab)](_0x4e3776,_0x11f089,_0xbbeaf9),this[_0x2120de(0x55f)][_0x2120de(0x37f)](this[_0x2120de(0x84b)]+'\x20('+this[_0x2120de(0x5ef)][_0x2120de(0x222)]+_0x2120de(0x8a0)+(_0x113375 instanceof Error?_0x113375[_0x2120de(0x6e8)]:JSON['stringify'](_0x113375,null,0x2))),null;}}async[a0_0xd17613(0x31a)](_0x4abf7c,_0x191731){const _0x1e0bbe=a0_0xd17613;if(this[_0x1e0bbe(0x55f)][_0x1e0bbe(0x230)](this[_0x1e0bbe(0x84b)]+'\x20('+this['instance'][_0x1e0bbe(0x222)]+_0x1e0bbe(0x5f9)),!_0x4abf7c||!_0x191731)return this[_0x1e0bbe(0x55f)]['error'](this['instanceName']+'\x20('+this[_0x1e0bbe(0x5ef)]['wuid']+_0x1e0bbe(0x614)),null;let _0x39f5d7=Date['now'](),_0x593b80=parseInt(_0x191731[_0x1e0bbe(0x6b7)],0xa);if(isNaN(_0x593b80))return this[_0x1e0bbe(0x55f)]['error'](this['instanceName']+'\x20('+this[_0x1e0bbe(0x5ef)][_0x1e0bbe(0x222)]+_0x1e0bbe(0x362)),null;let _0xb250f1={'newStoppedUntil':_0x39f5d7+_0x593b80*0x3c*0x3e8};return await this[_0x1e0bbe(0x5ab)](_0x4abf7c,_0x191731,_0xb250f1,!0x0),null;}async[a0_0xd17613(0x472)](_0x3411c4,_0x49f01e){const _0x57efcc=a0_0xd17613;try{switch(_0x49f01e[_0x57efcc(0x17d)][_0x57efcc(0x699)]){case _0x57efcc(0x488):await this[_0x57efcc(0x808)](_0x3411c4,_0x49f01e);break;case'sendMedia':await this[_0x57efcc(0x4da)](_0x3411c4,_0x49f01e);break;case'sendLocation':await this['uazapiSendLocation'](_0x3411c4,_0x49f01e);break;case _0x57efcc(0x615):await this[_0x57efcc(0x17a)](_0x3411c4,_0x49f01e);break;case'sendContact':await this[_0x57efcc(0x7d6)](_0x3411c4,_0x49f01e);break;case _0x57efcc(0x7ea):await this['uazapiSendMenu'](_0x3411c4,_0x49f01e);break;case'sendMenu':await this[_0x57efcc(0x741)](_0x3411c4,_0x49f01e);break;case _0x57efcc(0x422):await this[_0x57efcc(0x520)](_0x3411c4,_0x49f01e);break;default:this[_0x57efcc(0x55f)][_0x57efcc(0x37f)](this['instanceName']+'\x20('+this['instance'][_0x57efcc(0x222)]+_0x57efcc(0x648)+_0x49f01e['uazapi'][_0x57efcc(0x699)]);}}catch(_0x59e8d9){this[_0x57efcc(0x55f)][_0x57efcc(0x37f)](this[_0x57efcc(0x84b)]+'\x20('+this[_0x57efcc(0x5ef)][_0x57efcc(0x222)]+_0x57efcc(0x34d)+(_0x59e8d9 instanceof Error?_0x59e8d9[_0x57efcc(0x6e8)]:JSON[_0x57efcc(0x78e)](_0x59e8d9,null,0x2)));}}async[a0_0xd17613(0x5ab)](_0x5e3df9,_0x2468c6,_0x1e2d98,_0x23d74a=!0x1,_0x6f5e42=!0x1){const _0x3b0a4a=a0_0xd17613;_0x5e3df9[_0x3b0a4a(0x2a3)][_0x3b0a4a(0x6e2)]||(_0x5e3df9['chatLog'][_0x3b0a4a(0x6e2)]=[]);let _0x529905=(_0x5e3df9['chatLog']['blockLogs']?.[_0x3b0a4a(0x4ba)]??0x0)+0x1,_0x5dea95=_0x5e3df9[_0x3b0a4a(0x2a3)][_0x3b0a4a(0x6e2)][_0x3b0a4a(0x736)](_0x101c8d=>String(_0x101c8d[_0x3b0a4a(0x176)])===String(_0x2468c6[_0x3b0a4a(0x19a)]))['length']+0x1,_0x293d48=_0x1e2d98?.['onTime']??Date[_0x3b0a4a(0x81a)](),_0x4f3e73=_0x1e2d98?.[_0x3b0a4a(0x37f)]?_0x1e2d98[_0x3b0a4a(0x3f6)]??_0x1e2d98['error'][_0x3b0a4a(0x883)]():void 0x0,_0x5d8ad2={'onTime':_0x293d48,'blockId':_0x2468c6[_0x3b0a4a(0x19a)],'order':_0x529905,'activatedCount':_0x5dea95,'error':_0x1e2d98?.[_0x3b0a4a(0x37f)]??!0x1,'messageId':_0x1e2d98?.[_0x3b0a4a(0x2d8)],'apiResponse':_0x1e2d98?.[_0x3b0a4a(0x6c8)],'apiResponseString':_0x1e2d98?.['apiResponse']?JSON[_0x3b0a4a(0x78e)](_0x1e2d98?.[_0x3b0a4a(0x6c8)]):void 0x0,'variable':_0x1e2d98?.[_0x3b0a4a(0x6b5)],'oldValue':_0x1e2d98?.[_0x3b0a4a(0x726)],'newValue':_0x1e2d98?.[_0x3b0a4a(0x56c)],'newStoppedUntil':_0x1e2d98?.[_0x3b0a4a(0x543)],'moreLogs':_0x1e2d98?.[_0x3b0a4a(0x2b9)],'errorLog':_0x4f3e73};if(_0x1e2d98[_0x3b0a4a(0x2b9)]&&_0x1e2d98[_0x3b0a4a(0x2b9)]['length']>0x0){let _0x5228b5=_0x1e2d98[_0x3b0a4a(0x2b9)][_0x3b0a4a(0x50f)](_0x1eb7b3=>this[_0x3b0a4a(0x3e3)](_0x1eb7b3,_0x5e3df9[_0x3b0a4a(0x2a3)][_0x3b0a4a(0x45f)]));_0x5d8ad2['moreLogs']=_0x5228b5;}if(_0x5e3df9[_0x3b0a4a(0x2a3)][_0x3b0a4a(0x45f)]||(_0x5e3df9['chatLog'][_0x3b0a4a(0x45f)]={}),_0x5e3df9[_0x3b0a4a(0x2a3)]['realVariables'][_0x3b0a4a(0x283)]=String(_0x5dea95),_0x5e3df9[_0x3b0a4a(0x2a3)]['realVariables'][_0x3b0a4a(0x1aa)]=String(_0x1e2d98[_0x3b0a4a(0x37f)]??!0x1),_0x5e3df9[_0x3b0a4a(0x2a3)][_0x3b0a4a(0x6e2)][_0x3b0a4a(0x668)](_0x5d8ad2),_0x5e3df9[_0x3b0a4a(0x2a3)][_0x3b0a4a(0x45f)][_0x3b0a4a(0x798)]&&_0x5e3df9[_0x3b0a4a(0x2a3)]['realVariables'][_0x3b0a4a(0x798)]!==_0x5e3df9[_0x3b0a4a(0x2dd)]){let _0x20019d=(await this[_0x3b0a4a(0x544)]({'numbers':[_0x5e3df9['chatLog']['realVariables'][_0x3b0a4a(0x798)]]}))[0x0][_0x3b0a4a(0x773)];_0x5e3df9['chatLog'][_0x3b0a4a(0x45f)][_0x3b0a4a(0x798)]=_0x20019d,_0x5e3df9[_0x3b0a4a(0x2dd)]=_0x20019d;try{let _0x32fbea={'_id':{'$ne':_0x5e3df9[_0x3b0a4a(0x19a)]},'remoteJid':_0x20019d,'status':_0x3b0a4a(0x4c2)},_0x186db3={'status':_0x3b0a4a(0x7ec)};await this[_0x3b0a4a(0x735)][_0x3b0a4a(0x4de)]['updateMany'](_0x32fbea,_0x186db3,this[_0x3b0a4a(0x5ef)]['wuid']),this['logger'][_0x3b0a4a(0x230)](this[_0x3b0a4a(0x84b)]+'\x20('+this[_0x3b0a4a(0x5ef)][_0x3b0a4a(0x222)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.');}catch(_0x5befae){this[_0x3b0a4a(0x55f)][_0x3b0a4a(0x37f)](this['instanceName']+'\x20('+this[_0x3b0a4a(0x5ef)][_0x3b0a4a(0x222)]+_0x3b0a4a(0x32a)+_0x5befae[_0x3b0a4a(0x6e8)]);}try{let _0xbe8af=_0x5e3df9[_0x3b0a4a(0x2a3)][_0x3b0a4a(0x45f)],_0x4dd4fd=await this[_0x3b0a4a(0x416)](_0x20019d),_0x1b0249={..._0xbe8af,..._0x4dd4fd,'_remoteJid':_0x20019d};_0x5e3df9[_0x3b0a4a(0x2a3)][_0x3b0a4a(0x45f)]=_0x1b0249;}catch(_0x4f7d1f){this[_0x3b0a4a(0x55f)]['error'](this[_0x3b0a4a(0x84b)]+'\x20('+this[_0x3b0a4a(0x5ef)][_0x3b0a4a(0x222)]+_0x3b0a4a(0x500)+_0x4f7d1f[_0x3b0a4a(0x6e8)]);}}_0x5e3df9['chatLog'][_0x3b0a4a(0x57a)]=_0x2468c6[_0x3b0a4a(0x19a)][_0x3b0a4a(0x883)](),_0x5e3df9[_0x3b0a4a(0x2a3)][_0x3b0a4a(0x1f4)]&&(_0x5e3df9[_0x3b0a4a(0x2a3)][_0x3b0a4a(0x1f4)]=_0x5e3df9[_0x3b0a4a(0x2a3)][_0x3b0a4a(0x1f4)]),_0x5e3df9['chatLog'][_0x3b0a4a(0x185)]&&(_0x5e3df9[_0x3b0a4a(0x2a3)][_0x3b0a4a(0x185)]=_0x5e3df9[_0x3b0a4a(0x2a3)]['lastReceivedMessage']),_0x5e3df9[_0x3b0a4a(0x2a3)]['lastCondition']&&(_0x5e3df9[_0x3b0a4a(0x2a3)]['lastCondition']=_0x5e3df9[_0x3b0a4a(0x2a3)][_0x3b0a4a(0x73c)]),_0x6f5e42&&(_0x5e3df9['status']=_0x3b0a4a(0x7ec)),_0x23d74a?this[_0x3b0a4a(0x4c4)](_0x5e3df9):this[_0x3b0a4a(0x20b)](_0x5e3df9,_0x2468c6);}[a0_0xd17613(0x3e3)](_0xe5d058,_0x124e18){const _0x18c58d=a0_0xd17613;return _0xe5d058['replace'](/\{\{([^}]+)\}\}/g,(_0x3fb4ca,_0x27fcb7)=>_0x124e18[_0x27fcb7]?'{{'+_0x27fcb7+'}}\x20->\x20\x22'+_0x124e18[_0x27fcb7]+'\x22':'{{'+_0x27fcb7+_0x18c58d(0x23f));}async[a0_0xd17613(0x4c4)](_0x5801e4){const _0x22f2fc=a0_0xd17613;try{let _0x18e95a=Object[_0x22f2fc(0x748)](_0x5801e4[_0x22f2fc(0x2a3)][_0x22f2fc(0x45f)])['map'](([_0x1b76d4,_0x28614f])=>({'name':_0x1b76d4,'value':_0x28614f})),_0x151136={'status':_0x5801e4[_0x22f2fc(0x1f8)],'remoteJid':_0x5801e4['remoteJid'],'blocks':_0x5801e4['blocks'],'waitingMenu_id':_0x5801e4[_0x22f2fc(0x79b)],'waitingMenu_text':_0x5801e4[_0x22f2fc(0x1b4)],'waitingMenu_replyOptions':_0x5801e4[_0x22f2fc(0x470)],'chatLog':{'lastBlockId':_0x5801e4[_0x22f2fc(0x2a3)]['lastBlockId'],'lastSendMessage':_0x5801e4[_0x22f2fc(0x2a3)][_0x22f2fc(0x1f4)],'lastReceivedMessage':_0x5801e4[_0x22f2fc(0x2a3)][_0x22f2fc(0x185)],'lastCondition':_0x5801e4[_0x22f2fc(0x2a3)][_0x22f2fc(0x73c)],'chatVariables':_0x18e95a,'realVariables':_0x5801e4[_0x22f2fc(0x2a3)][_0x22f2fc(0x45f)],'blockLogs':_0x5801e4[_0x22f2fc(0x2a3)][_0x22f2fc(0x6e2)]}},_0x4edd9a=await this[_0x22f2fc(0x735)][_0x22f2fc(0x4de)][_0x22f2fc(0x8ae)](_0x5801e4[_0x22f2fc(0x19a)],_0x151136,this[_0x22f2fc(0x5ef)][_0x22f2fc(0x222)]);if(_0x4edd9a){this[_0x22f2fc(0x55f)][_0x22f2fc(0x230)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x22f2fc(0x432)+_0x4edd9a[_0x22f2fc(0x19a)]);try{let _0x4c73c6=[_0x22f2fc(0x2d1),_0x22f2fc(0x6d8),_0x22f2fc(0x889),_0x22f2fc(0x234),_0x22f2fc(0x1f8),_0x22f2fc(0x4c5),'responsavelid',_0x22f2fc(0x246),_0x22f2fc(0x48e),_0x22f2fc(0x899)];if(!this[_0x22f2fc(0x3f3)]&&(await this[_0x22f2fc(0x737)](),!this[_0x22f2fc(0x3f3)]))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x4a11c9=this[_0x22f2fc(0x3f3)]?.[_0x22f2fc(0x85c)]['map'](_0x157293=>_0x157293['name']),_0x2b028c={};Object[_0x22f2fc(0x748)](_0x5801e4[_0x22f2fc(0x2a3)][_0x22f2fc(0x45f)])['forEach'](([_0x5929a8,_0x208f7d])=>{const _0x528069=_0x22f2fc;_0x4c73c6[_0x528069(0x831)](_0x5929a8)&&(_0x5929a8==='tags'&&typeof _0x208f7d=='string'?_0x2b028c[_0x5929a8]=_0x208f7d[_0x528069(0x37b)](',')['map'](_0x20784c=>_0x20784c[_0x528069(0x3dd)]())[_0x528069(0x736)](_0x160e9a=>_0x160e9a!==''):_0x5929a8==='etiquetas'&&typeof _0x208f7d==_0x528069(0x693)?_0x2b028c[_0x5929a8]=_0x208f7d['split'](',')['map'](_0x136ac6=>_0x136ac6[_0x528069(0x3dd)]())[_0x528069(0x736)](_0x44eb73=>_0x44eb73!==''):_0x2b028c[_0x5929a8]=_0x208f7d);});let _0x4ff206=_0x5801e4[_0x22f2fc(0x2a3)][_0x22f2fc(0x6e2)][_0x5801e4['chatLog'][_0x22f2fc(0x6e2)][_0x22f2fc(0x4ba)]-0x1];if(_0x4ff206){let _0xfd9502=_0x4ff206['newStoppedUntil'];_0xfd9502!==void 0x0&&(_0x2b028c['desativadoFluxoAte']=_0xfd9502[_0x22f2fc(0x883)]());}let _0x162984=_0x18e95a[_0x22f2fc(0x736)](_0xdedc98=>_0x4a11c9[_0x22f2fc(0x831)](_0xdedc98[_0x22f2fc(0x4f2)]));this[_0x22f2fc(0x55f)][_0x22f2fc(0x230)](this[_0x22f2fc(0x84b)]+'\x20('+this['instance'][_0x22f2fc(0x222)]+_0x22f2fc(0x6aa)),this['logger'][_0x22f2fc(0x230)](_0x2b028c),this[_0x22f2fc(0x55f)][_0x22f2fc(0x230)](this['instanceName']+'\x20('+this[_0x22f2fc(0x5ef)][_0x22f2fc(0x222)]+_0x22f2fc(0x85a)),this[_0x22f2fc(0x55f)][_0x22f2fc(0x230)](_0x162984);let _0x795163=_0x162984[_0x22f2fc(0x50f)](_0x1412c9=>{const _0xe6058c=_0x22f2fc;let _0x399946=this[_0xe6058c(0x3f3)]?.[_0xe6058c(0x85c)][_0xe6058c(0x357)](_0x6f11c3=>_0x6f11c3[_0xe6058c(0x4f2)]===_0x1412c9[_0xe6058c(0x4f2)]);if(!_0x399946)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x1412c9[_0xe6058c(0x4f2)]);return{'_id':_0x399946[_0xe6058c(0x19a)],'value':_0x1412c9[_0xe6058c(0x37e)]};});this[_0x22f2fc(0x55f)]['verbose'](this['instanceName']+'\x20('+this[_0x22f2fc(0x5ef)]['wuid']+'):\x20transformedCustomFieldVariables'),this[_0x22f2fc(0x55f)]['verbose'](_0x795163),await this[_0x22f2fc(0x77e)](_0x5801e4[_0x22f2fc(0x2dd)],_0x2b028c,_0x795163);}catch(_0x371b71){this[_0x22f2fc(0x55f)][_0x22f2fc(0x37f)](this[_0x22f2fc(0x84b)]+'\x20('+this['instance'][_0x22f2fc(0x222)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0x371b71 instanceof Error?_0x371b71[_0x22f2fc(0x6e8)]:JSON[_0x22f2fc(0x78e)](_0x371b71,null,0x2)));}}else this['logger'][_0x22f2fc(0x37f)](this[_0x22f2fc(0x84b)]+'\x20('+this[_0x22f2fc(0x5ef)][_0x22f2fc(0x222)]+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x1beaa6){this[_0x22f2fc(0x55f)]['error'](this[_0x22f2fc(0x84b)]+'\x20('+this[_0x22f2fc(0x5ef)][_0x22f2fc(0x222)]+_0x22f2fc(0x51f)+(_0x1beaa6 instanceof Error?_0x1beaa6[_0x22f2fc(0x6e8)]:JSON['stringify'](_0x1beaa6,null,0x2)));}}async[a0_0xd17613(0x77e)](_0x486e76,_0x233d73,_0x205b16){const _0x41673e=a0_0xd17613;try{let _0x5b4e12={'leadInfo.leadnome':_0x233d73[_0x41673e(0x2d1)],'leadInfo.nomecompleto':_0x233d73[_0x41673e(0x6d8)],'leadInfo.email':_0x233d73['email'],'leadInfo.cpf':_0x233d73[_0x41673e(0x234)],'leadInfo.status':_0x233d73['status'],'leadInfo.notas':_0x233d73['notas'],'leadInfo.responsavelid':_0x233d73['responsavelid'],'leadInfo.tags':_0x233d73[_0x41673e(0x246)],'leadInfo.etiquetas':_0x233d73[_0x41673e(0x48e)],'leadInfo.customFields':_0x205b16,'leadInfo.atendimentoAberto':_0x233d73[_0x41673e(0x899)]},_0x12efdf=await this['repository'][_0x41673e(0x33f)][_0x41673e(0x86d)]({'where':{'_id':_0x486e76}},this[_0x41673e(0x5ef)][_0x41673e(0x222)]);if(!_0x12efdf)return _0x41673e(0x403);let _0x276e29=new Set(_0x12efdf[_0x41673e(0x4d3)][_0x41673e(0x48e)]||[]),_0x9b7ace=new Set(_0x233d73[_0x41673e(0x48e)]||[]),_0x47f3b9=await this['repository'][_0x41673e(0x6cc)][_0x41673e(0x357)]({'where':{}},this['instance'][_0x41673e(0x222)]),_0x3d6cd1=new Set(_0x47f3b9[_0x41673e(0x50f)](_0x509d60=>_0x509d60[_0x41673e(0x19a)])),_0x15cb13=[..._0x9b7ace][_0x41673e(0x736)](_0x4b976f=>!_0x276e29[_0x41673e(0x753)](_0x4b976f)&&_0x3d6cd1[_0x41673e(0x753)](_0x4b976f)),_0x3ba834=[..._0x276e29]['filter'](_0x4bc56d=>!_0x9b7ace['has'](_0x4bc56d));for(let _0x20721a of _0x15cb13)await this[_0x41673e(0x752)](_0x20721a,_0x12efdf[_0x41673e(0x19a)]),_0x276e29[_0x41673e(0x36d)](_0x20721a);for(let _0x33b417 of _0x3ba834)await this[_0x41673e(0x865)](_0x33b417,_0x12efdf[_0x41673e(0x19a)]),_0x276e29[_0x41673e(0x5b4)](_0x33b417);if('desativadoFluxoAte'in _0x233d73){let _0x41b185=_0x233d73[_0x41673e(0x395)];_0x5b4e12[_0x41673e(0x469)]=_0x41b185?Number(_0x41b185):null;}if('atendimentoAberto'in _0x233d73){let _0x4ee0db=_0x233d73[_0x41673e(0x899)][_0x41673e(0x53e)]();_0x5b4e12[_0x41673e(0x555)]=_0x4ee0db===_0x41673e(0x844)||_0x4ee0db==='1'||_0x4ee0db==='yes'||_0x4ee0db==='sim';}let _0x50564a=await this[_0x41673e(0x735)][_0x41673e(0x33f)][_0x41673e(0x8ae)]({'where':{'_id':_0x486e76}},_0x5b4e12,this['instance'][_0x41673e(0x222)]);_0x50564a?(this[_0x41673e(0x55f)][_0x41673e(0x230)](this[_0x41673e(0x84b)]+'\x20('+this[_0x41673e(0x5ef)][_0x41673e(0x222)]+_0x41673e(0x873)+_0x50564a['_id']),U(this['instanceName'],_0x41673e(0x17c),{'chat':_0x50564a})):this['logger'][_0x41673e(0x37f)](this['instanceName']+'\x20('+this[_0x41673e(0x5ef)][_0x41673e(0x222)]+_0x41673e(0x292));}catch(_0x7bcf1b){this[_0x41673e(0x55f)][_0x41673e(0x37f)](this[_0x41673e(0x84b)]+'\x20('+this['instance'][_0x41673e(0x222)]+_0x41673e(0x33c)+(_0x7bcf1b instanceof Error?_0x7bcf1b[_0x41673e(0x6e8)]:JSON[_0x41673e(0x78e)](_0x7bcf1b,null,0x2)));}}async[a0_0xd17613(0x390)](_0xc84594,_0x492554){const _0x571154=a0_0xd17613;this[_0x571154(0x55f)][_0x571154(0x230)](this[_0x571154(0x84b)]+'\x20('+this[_0x571154(0x5ef)][_0x571154(0x222)]+'):\x20atualização\x20chat:\x20'+_0x492554);try{let _0x441a05=await this['repository'][_0x571154(0x33f)]['updateOne']({'where':{'_id':_0xc84594[_0x571154(0x2dd)]}},{'leadInfo.desativadoFluxoAte':_0x492554},this[_0x571154(0x5ef)][_0x571154(0x222)]);this['logger'][_0x571154(0x230)](this[_0x571154(0x84b)]+'\x20('+this[_0x571154(0x5ef)][_0x571154(0x222)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0xc84594[_0x571154(0x19a)]),this['logger']['verbose'](this[_0x571154(0x84b)]+'\x20('+this[_0x571154(0x5ef)][_0x571154(0x222)]+_0x571154(0x766)+JSON['stringify'](_0x441a05,null,0x2)),_0x441a05&&U(this[_0x571154(0x84b)],_0x571154(0x17c),{'chat':_0x441a05});}catch(_0x3347b9){this[_0x571154(0x55f)][_0x571154(0x37f)](this[_0x571154(0x84b)]+'\x20('+this[_0x571154(0x5ef)][_0x571154(0x222)]+_0x571154(0x7dc)+(_0x3347b9 instanceof Error?_0x3347b9[_0x571154(0x6e8)]:JSON['stringify'](_0x3347b9,null,0x2)));}}async[a0_0xd17613(0x331)](_0x5e9540){const _0x12ce92=a0_0xd17613;try{this[_0x12ce92(0x55f)][_0x12ce92(0x230)](this['instanceName']+'\x20('+this[_0x12ce92(0x5ef)][_0x12ce92(0x222)]+_0x12ce92(0x402));let _0x8b276a=_0x5e9540[_0x12ce92(0x523)](/\D/g,''),_0x328a78=this[_0x12ce92(0x3f3)][_0x12ce92(0x3e1)][_0x12ce92(0x357)](_0x3a0601=>_0x3a0601[_0x12ce92(0x4bd)]===_0x8b276a);if(_0x328a78||(this[_0x12ce92(0x55f)][_0x12ce92(0x230)](this[_0x12ce92(0x84b)]+'\x20('+this[_0x12ce92(0x5ef)][_0x12ce92(0x222)]+_0x12ce92(0x8c7)),_0x328a78=this[_0x12ce92(0x3f3)][_0x12ce92(0x3e1)][_0x12ce92(0x357)](_0x8e4759=>_0x8e4759[_0x12ce92(0x6db)]===!0x0)),!_0x328a78)return this[_0x12ce92(0x55f)]['verbose'](this[_0x12ce92(0x84b)]+'\x20('+this['instance'][_0x12ce92(0x222)]+_0x12ce92(0x1ad)),null;let _0x487895=await this[_0x12ce92(0x735)][_0x12ce92(0x177)][_0x12ce92(0x86d)]({'where':{'_id':_0x328a78[_0x12ce92(0x19a)]}});if(!_0x487895||!_0x487895[_0x12ce92(0x2f1)]?.['includes'](this[_0x12ce92(0x5ef)][_0x12ce92(0x222)]))throw this[_0x12ce92(0x55f)][_0x12ce92(0x37f)](this[_0x12ce92(0x84b)]+'\x20('+this[_0x12ce92(0x5ef)][_0x12ce92(0x222)]+'):\x20Flow\x20\x27'+_0x487895[_0x12ce92(0x19a)]+_0x12ce92(0x4aa)),new m(_0x12ce92(0x336)+_0x487895[_0x12ce92(0x19a)]+_0x12ce92(0x4aa));return _0x487895;}catch(_0x1e726a){return this['logger'][_0x12ce92(0x37f)](this[_0x12ce92(0x84b)]+'\x20('+this[_0x12ce92(0x5ef)][_0x12ce92(0x222)]+_0x12ce92(0x298)+(_0x1e726a instanceof Error?_0x1e726a[_0x12ce92(0x6e8)]:JSON[_0x12ce92(0x78e)](_0x1e726a,null,0x2))),null;}}async[a0_0xd17613(0x3c3)](_0x48c9c1,_0x16fee9){const _0x103f85=a0_0xd17613;try{let _0x459e5f=!!_0x16fee9[_0x103f85(0x8b6)],_0x226ec8=_0x16fee9[_0x103f85(0x3e4)],_0x292704=null;if(this[_0x103f85(0x55f)][_0x103f85(0x230)](this[_0x103f85(0x84b)]+'\x20('+this[_0x103f85(0x5ef)][_0x103f85(0x222)]+_0x103f85(0x424)+_0x459e5f+_0x103f85(0x392)+_0x226ec8),_0x459e5f){this[_0x103f85(0x55f)][_0x103f85(0x230)](this[_0x103f85(0x84b)]+'\x20('+this[_0x103f85(0x5ef)][_0x103f85(0x222)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x4166ee={'where':{'remoteJid':_0x48c9c1,'waitingMenu_id':_0x226ec8}};if(_0x292704=await this[_0x103f85(0x735)][_0x103f85(0x4de)][_0x103f85(0x86d)](_0x4166ee,this['instance'][_0x103f85(0x222)]),!_0x292704)return this[_0x103f85(0x55f)]['verbose'](this[_0x103f85(0x84b)]+'\x20('+this[_0x103f85(0x5ef)]['wuid']+_0x103f85(0x2f9)),null;let _0x3f62de=Date[_0x103f85(0x81a)](),_0x1aa32a=_0x292704?.[_0x103f85(0x8b2)]||0x0,_0x75c6c8=_0x3f62de-_0x1aa32a*0x3c*0x3e8;if(_0x292704[_0x103f85(0x4b8)]<_0x75c6c8){this[_0x103f85(0x55f)][_0x103f85(0x230)](this[_0x103f85(0x84b)]+'\x20('+this[_0x103f85(0x5ef)]['wuid']+_0x103f85(0x77d));let _0x29e478={'number':_0x292704['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x292704[_0x103f85(0x858)]}};await this[_0x103f85(0x1a8)](_0x29e478);let _0x31fbcd={'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository'][_0x103f85(0x4de)][_0x103f85(0x8ae)](_0x292704[_0x103f85(0x19a)],_0x31fbcd,this['instance'][_0x103f85(0x222)]),null;}return _0x292704['lastInteraction']=Date['now'](),_0x292704[_0x103f85(0x2a3)][_0x103f85(0x185)]=_0x16fee9,_0x292704;}else{this[_0x103f85(0x55f)]['verbose'](this[_0x103f85(0x84b)]+'\x20('+this[_0x103f85(0x5ef)][_0x103f85(0x222)]+'):\x20'+this[_0x103f85(0x5ef)][_0x103f85(0x222)]+_0x103f85(0x66e)),this['logger'][_0x103f85(0x230)](this['instanceName']+'\x20('+this[_0x103f85(0x5ef)][_0x103f85(0x222)]+_0x103f85(0x38b));let _0x35bd63={'where':{'remoteJid':_0x48c9c1,'status':_0x103f85(0x4c2)}};if(_0x292704=await this[_0x103f85(0x735)][_0x103f85(0x4de)][_0x103f85(0x86d)](_0x35bd63,this[_0x103f85(0x5ef)][_0x103f85(0x222)]),!_0x292704){let _0x10c9f9=await this['findFlow'](_0x48c9c1);if(_0x10c9f9&&(_0x292704=await this['createNewConversation'](_0x10c9f9,_0x16fee9[_0x103f85(0x212)],_0x16fee9)),!_0x292704)return null;}let _0x1d466b=Date[_0x103f85(0x81a)](),_0x182e06=_0x292704?.[_0x103f85(0x8b2)]||0x0,_0x44c859=_0x1d466b-_0x182e06*0x3c*0x3e8;if(this[_0x103f85(0x55f)][_0x103f85(0x230)](this[_0x103f85(0x84b)]+'\x20('+this['instance']['wuid']+_0x103f85(0x88f)+_0x1d466b+_0x103f85(0x378)+_0x182e06+_0x103f85(0x6a8)+_0x44c859),this[_0x103f85(0x55f)][_0x103f85(0x230)](this[_0x103f85(0x84b)]+'\x20('+this[_0x103f85(0x5ef)][_0x103f85(0x222)]+_0x103f85(0x556)),this[_0x103f85(0x55f)][_0x103f85(0x230)](this[_0x103f85(0x84b)]+'\x20('+this[_0x103f85(0x5ef)][_0x103f85(0x222)]+_0x103f85(0x5d5)+_0x292704[_0x103f85(0x4b8)]),this[_0x103f85(0x55f)][_0x103f85(0x230)](this[_0x103f85(0x84b)]+'\x20('+this['instance'][_0x103f85(0x222)]+_0x103f85(0x855)+_0x44c859),_0x292704[_0x103f85(0x4b8)]<_0x44c859){this[_0x103f85(0x55f)][_0x103f85(0x230)](this['instanceName']+'\x20('+this[_0x103f85(0x5ef)][_0x103f85(0x222)]+_0x103f85(0x7bb));let _0x1dc76d=await this[_0x103f85(0x331)](_0x48c9c1);if(_0x1dc76d===null)return null;_0x292704&&await this['repository']['flowConversation'][_0x103f85(0x8ae)](_0x292704[_0x103f85(0x19a)],{'status':_0x103f85(0x7ec)},this[_0x103f85(0x5ef)][_0x103f85(0x222)]),_0x292704=await this[_0x103f85(0x1cc)](_0x1dc76d,_0x16fee9[_0x103f85(0x212)],_0x16fee9);}return _0x292704[_0x103f85(0x4b8)]=_0x1d466b,_0x292704[_0x103f85(0x2a3)]['lastReceivedMessage']=_0x16fee9,_0x292704;}}catch(_0xc65a62){return this[_0x103f85(0x55f)][_0x103f85(0x37f)](this[_0x103f85(0x84b)]+'\x20('+this['instance']['wuid']+_0x103f85(0x1f1)+(_0xc65a62 instanceof Error?_0xc65a62['message']:JSON[_0x103f85(0x78e)](_0xc65a62,null,0x2))),null;}}async[a0_0xd17613(0x1cc)](_0x11bbbf,_0x2e9038,_0x5b243e){const _0x7be82b=a0_0xd17613;this[_0x7be82b(0x55f)][_0x7be82b(0x230)](this[_0x7be82b(0x84b)]+'\x20('+this[_0x7be82b(0x5ef)][_0x7be82b(0x222)]+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x31e80d=require(_0x7be82b(0x6a5))[_0x7be82b(0x465)],_0x476811=Date[_0x7be82b(0x81a)](),_0x1c21e7='start',_0x13d109=_0x2e9038[_0x7be82b(0x2cc)]?null:_0x5b243e,_0x2e9d01=_0x2e9038[_0x7be82b(0x2cc)]?_0x5b243e:null,_0x453876=_0x2e9038[_0x7be82b(0x2dd)],_0x2cc43e=this[_0x7be82b(0x3f3)][_0x7be82b(0x3e1)][_0x7be82b(0x357)](_0x311c5c=>_0x311c5c[_0x7be82b(0x19a)]===_0x11bbbf[_0x7be82b(0x19a)]?.[_0x7be82b(0x883)]()),_0x44f987=_0x2cc43e?.[_0x7be82b(0x8b2)]??_0x11bbbf[_0x7be82b(0x8b2)]??0x0,_0x3e0256=_0x2cc43e?.[_0x7be82b(0x173)]??_0x11bbbf[_0x7be82b(0x173)]??!0x1;await this['closeExistingConversations'](_0x453876);let _0x3b4696={'flowId':_0x11bbbf[_0x7be82b(0x19a)],..._0x11bbbf,'chatLog':null},_0x439af4=await this['variablesToObject'](_0x3b4696['variables']),_0x52a372=await this[_0x7be82b(0x416)](_0x453876),_0x50b5c1={..._0x439af4,..._0x52a372,'_remoteJid':_0x453876},_0x134fa4={'lastReceivedMessage':_0x13d109,'lastSendMessage':_0x2e9d01,'lastBlockId':_0x1c21e7,'lastCondition':!0x0,'realVariables':_0x50b5c1};_0x3b4696[_0x7be82b(0x2a3)]=_0x134fa4,delete _0x3b4696['_id'],_0x3b4696['_id']=new _0x31e80d(),_0x3b4696[_0x7be82b(0x4b8)]=_0x476811,_0x3b4696[_0x7be82b(0x1f8)]=_0x7be82b(0x4c2),_0x3b4696[_0x7be82b(0x2dd)]=_0x453876,_0x3b4696[_0x7be82b(0x8b2)]=_0x44f987,_0x3b4696[_0x7be82b(0x173)]=_0x3e0256;let _0x52e432=await this[_0x7be82b(0x735)][_0x7be82b(0x4de)][_0x7be82b(0x8ae)](_0x3b4696[_0x7be82b(0x19a)],_0x3b4696,this[_0x7be82b(0x5ef)][_0x7be82b(0x222)]);return this['logger']['verbose'](this[_0x7be82b(0x84b)]+'\x20('+this[_0x7be82b(0x5ef)][_0x7be82b(0x222)]+_0x7be82b(0x62a)),_0x52e432?_0x3b4696:null;}catch(_0x384dfd){return this[_0x7be82b(0x55f)]['error'](this[_0x7be82b(0x84b)]+'\x20('+this[_0x7be82b(0x5ef)]['wuid']+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x384dfd instanceof Error?_0x384dfd['message']:JSON[_0x7be82b(0x78e)](_0x384dfd,null,0x2))),_0x384dfd;}}async[a0_0xd17613(0x808)](_0x2494b8,_0x2b8de0){const _0x5b5b32=a0_0xd17613;let _0x746b39=_0x2494b8[_0x5b5b32(0x2dd)];_0x2b8de0[_0x5b5b32(0x17d)][_0x5b5b32(0x2dd)]&&_0x2b8de0['uazapi']['remoteJid'][_0x5b5b32(0x3dd)]()!==''&&(_0x746b39=_0x2b8de0[_0x5b5b32(0x17d)][_0x5b5b32(0x2dd)][_0x5b5b32(0x3dd)]()),this[_0x5b5b32(0x55f)][_0x5b5b32(0x230)](this[_0x5b5b32(0x84b)]+'\x20('+this[_0x5b5b32(0x5ef)][_0x5b5b32(0x222)]+_0x5b5b32(0x1fc));let _0x229caf={'number':_0x746b39,'options':{'delay':_0x2b8de0['uazapi']['delay'],'linkPreview':_0x2b8de0[_0x5b5b32(0x17d)]['linkPreview']},'textMessage':{'text':_0x2b8de0[_0x5b5b32(0x17d)][_0x5b5b32(0x80f)]}};try{let _0x10c0be=await this[_0x5b5b32(0x1a8)](_0x229caf);if(_0x10c0be){let _0x2f999b={'_id':_0x10c0be[_0x5b5b32(0x212)]['id'],'_fromMe':_0x10c0be[_0x5b5b32(0x212)]['fromMe'],'_remoteJid':_0x10c0be['key'][_0x5b5b32(0x2dd)]},_0x94bd73=(0x0,w[_0x5b5b32(0x274)])(_0x10c0be[_0x5b5b32(0x6e8)]),_0x25ca3e=(0x0,w['getContentType'])(_0x94bd73);_0x2494b8[_0x5b5b32(0x2a3)][_0x5b5b32(0x57a)]=_0x2b8de0['_id'][_0x5b5b32(0x883)]();let {message_normalized:_0xd552f4}=this[_0x5b5b32(0x5e1)](_0x94bd73,_0x25ca3e,null);_0x2494b8[_0x5b5b32(0x2a3)]['lastSendMessage']=await _0xd552f4;let _0x37c5dd={'messageId':_0x10c0be[_0x5b5b32(0x212)]['id']},_0x608f07=_0x2494b8[_0x5b5b32(0x2a3)][_0x5b5b32(0x45f)];Object[_0x5b5b32(0x5d7)](_0x608f07,_0x2f999b),_0x2494b8[_0x5b5b32(0x2a3)][_0x5b5b32(0x45f)]=_0x608f07,this[_0x5b5b32(0x5ab)](_0x2494b8,_0x2b8de0,_0x37c5dd);}else{let _0x4bebbb={'error':!0x0};this[_0x5b5b32(0x5ab)](_0x2494b8,_0x2b8de0,_0x4bebbb),this[_0x5b5b32(0x55f)][_0x5b5b32(0x37f)](this['instanceName']+'\x20('+this[_0x5b5b32(0x5ef)][_0x5b5b32(0x222)]+_0x5b5b32(0x475));}}catch(_0x142bce){let _0xb66f1e={'error':!0x0,'errorLog':_0x142bce['toString']()};this[_0x5b5b32(0x5ab)](_0x2494b8,_0x2b8de0,_0xb66f1e),this[_0x5b5b32(0x55f)][_0x5b5b32(0x37f)](this[_0x5b5b32(0x84b)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x142bce instanceof Error?_0x142bce[_0x5b5b32(0x6e8)]:JSON['stringify'](_0x142bce,null,0x2)));}}async[a0_0xd17613(0x4da)](_0x1edee5,_0x218719){const _0x261007=a0_0xd17613;let _0x2da7d3=_0x1edee5[_0x261007(0x2dd)];_0x218719['uazapi'][_0x261007(0x2dd)]&&_0x218719['uazapi']['remoteJid']['trim']()!==''&&(_0x2da7d3=_0x218719[_0x261007(0x17d)][_0x261007(0x2dd)][_0x261007(0x3dd)]()),this[_0x261007(0x55f)][_0x261007(0x230)](this[_0x261007(0x84b)]+'\x20('+this[_0x261007(0x5ef)][_0x261007(0x222)]+'):\x20Enviando\x20mídia');let _0x2617c5={'number':_0x2da7d3,'options':{'delay':_0x218719[_0x261007(0x17d)]['delay'],'linkPreview':_0x218719[_0x261007(0x17d)][_0x261007(0x548)]},'mediaMessage':{'mediatype':_0x218719['uazapi']['mediatype'],'caption':_0x218719['uazapi'][_0x261007(0x1cb)],'media':_0x218719[_0x261007(0x17d)]['media'],'fileName':_0x218719[_0x261007(0x17d)]['fileName']}};try{let _0x4eb5b2=await this[_0x261007(0x69e)](_0x2617c5);if(_0x4eb5b2){let _0x491cc3={'_id':_0x4eb5b2[_0x261007(0x212)]['id'],'_fromMe':_0x4eb5b2[_0x261007(0x212)][_0x261007(0x2cc)],'_remoteJid':_0x4eb5b2[_0x261007(0x212)][_0x261007(0x2dd)]},_0x12c3ae=(0x0,w[_0x261007(0x274)])(_0x4eb5b2['message']),_0x225434=(0x0,w[_0x261007(0x86e)])(_0x12c3ae);_0x1edee5['chatLog'][_0x261007(0x57a)]=_0x218719[_0x261007(0x19a)][_0x261007(0x883)]();let {message_normalized:_0x31b86e}=this[_0x261007(0x5e1)](_0x12c3ae,_0x225434,null);_0x1edee5[_0x261007(0x2a3)][_0x261007(0x1f4)]=await _0x31b86e;let _0x543424={'messageId':_0x4eb5b2['key']['id']},_0x4f932f=_0x1edee5[_0x261007(0x2a3)][_0x261007(0x45f)];Object[_0x261007(0x5d7)](_0x4f932f,_0x491cc3),_0x1edee5[_0x261007(0x2a3)]['realVariables']=_0x4f932f,this[_0x261007(0x5ab)](_0x1edee5,_0x218719,_0x543424);}else{let _0x440462={'error':!0x0};this['updateConversation'](_0x1edee5,_0x218719,_0x440462),this[_0x261007(0x55f)][_0x261007(0x37f)](this[_0x261007(0x84b)]+'\x20('+this[_0x261007(0x5ef)][_0x261007(0x222)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x4f5452){let _0x5c5e65={'error':!0x0,'errorLog':_0x4f5452[_0x261007(0x883)]()};this['updateConversation'](_0x1edee5,_0x218719,_0x5c5e65),this[_0x261007(0x55f)][_0x261007(0x37f)](this['instanceName']+'\x20('+this[_0x261007(0x5ef)][_0x261007(0x222)]+_0x261007(0x505)+(_0x4f5452 instanceof Error?_0x4f5452[_0x261007(0x6e8)]:JSON[_0x261007(0x78e)](_0x4f5452,null,0x2)));}}async[a0_0xd17613(0x7c1)](_0x2270f2,_0x5c3d82){const _0xc234c=a0_0xd17613;let _0x5c069f=_0x2270f2['remoteJid'];_0x5c3d82[_0xc234c(0x17d)][_0xc234c(0x2dd)]&&_0x5c3d82[_0xc234c(0x17d)][_0xc234c(0x2dd)]['trim']()!==''&&(_0x5c069f=_0x5c3d82[_0xc234c(0x17d)][_0xc234c(0x2dd)][_0xc234c(0x3dd)]()),this[_0xc234c(0x55f)][_0xc234c(0x230)](this[_0xc234c(0x84b)]+'\x20('+this[_0xc234c(0x5ef)][_0xc234c(0x222)]+_0xc234c(0x2da));let _0x48aa47={'number':_0x5c069f,'options':{'delay':_0x5c3d82[_0xc234c(0x17d)][_0xc234c(0x427)]},'locationMessage':{'name':_0x5c3d82[_0xc234c(0x17d)]['name'],'address':_0x5c3d82[_0xc234c(0x17d)]['address'],'latitude':_0x5c3d82['uazapi']['latitude'],'longitude':_0x5c3d82['uazapi'][_0xc234c(0x679)]}};try{let _0xe48ac=await this[_0xc234c(0x64b)](_0x48aa47);if(_0xe48ac){let _0x1b592f={'_id':_0xe48ac[_0xc234c(0x212)]['id'],'_fromMe':_0xe48ac[_0xc234c(0x212)]['fromMe'],'_remoteJid':_0xe48ac[_0xc234c(0x212)][_0xc234c(0x2dd)]},_0x4865f8=(0x0,w['normalizeMessageContent'])(_0xe48ac['message']),_0x36a7ce=(0x0,w[_0xc234c(0x86e)])(_0x4865f8);_0x2270f2[_0xc234c(0x2a3)][_0xc234c(0x57a)]=_0x5c3d82[_0xc234c(0x19a)]['toString']();let {message_normalized:_0x31d55d}=this['normalizeMessage'](_0x4865f8,_0x36a7ce,null);_0x2270f2[_0xc234c(0x2a3)][_0xc234c(0x1f4)]=await _0x31d55d;let _0x5106f2={'messageId':_0xe48ac[_0xc234c(0x212)]['id']},_0x246197=_0x2270f2['chatLog']['realVariables'];Object[_0xc234c(0x5d7)](_0x246197,_0x1b592f),_0x2270f2[_0xc234c(0x2a3)]['realVariables']=_0x246197,this[_0xc234c(0x5ab)](_0x2270f2,_0x5c3d82,_0x5106f2);}else{let _0x37654e={'error':!0x0};this[_0xc234c(0x5ab)](_0x2270f2,_0x5c3d82,_0x37654e),this[_0xc234c(0x55f)]['error'](this[_0xc234c(0x84b)]+'\x20('+this[_0xc234c(0x5ef)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0x1af6a3){let _0x3746aa={'error':!0x0,'errorLog':_0x1af6a3['toString']()};this[_0xc234c(0x5ab)](_0x2270f2,_0x5c3d82,_0x3746aa),this[_0xc234c(0x55f)][_0xc234c(0x37f)](this[_0xc234c(0x84b)]+'\x20('+this[_0xc234c(0x5ef)]['wuid']+_0xc234c(0x3cc)+(_0x1af6a3 instanceof Error?_0x1af6a3[_0xc234c(0x6e8)]:JSON[_0xc234c(0x78e)](_0x1af6a3,null,0x2)));}}async[a0_0xd17613(0x17a)](_0xc8c0dd,_0x370ffc){const _0x3b7920=a0_0xd17613;let _0x3e5685=_0xc8c0dd['remoteJid'];_0x370ffc[_0x3b7920(0x17d)][_0x3b7920(0x2dd)]&&_0x370ffc[_0x3b7920(0x17d)][_0x3b7920(0x2dd)][_0x3b7920(0x3dd)]()!==''&&(_0x3e5685=_0x370ffc[_0x3b7920(0x17d)][_0x3b7920(0x2dd)][_0x3b7920(0x3dd)]()),this[_0x3b7920(0x55f)][_0x3b7920(0x230)](this['instanceName']+'\x20('+this[_0x3b7920(0x5ef)][_0x3b7920(0x222)]+'):\x20Enviando\x20áudio');let _0x20d262={'number':_0x3e5685,'options':{'delay':_0x370ffc['uazapi'][_0x3b7920(0x427)]},'audioMessage':{'audio':_0x370ffc[_0x3b7920(0x17d)][_0x3b7920(0x46b)]}};try{let _0x176f90=await this[_0x3b7920(0x7aa)](_0x20d262);if(_0x176f90){let _0x57a934={'_id':_0x176f90[_0x3b7920(0x212)]['id'],'_fromMe':_0x176f90[_0x3b7920(0x212)][_0x3b7920(0x2cc)],'_remoteJid':_0x176f90[_0x3b7920(0x212)][_0x3b7920(0x2dd)]},_0x1cbe06=(0x0,w[_0x3b7920(0x274)])(_0x176f90[_0x3b7920(0x6e8)]),_0x3d20a2=(0x0,w[_0x3b7920(0x86e)])(_0x1cbe06);_0xc8c0dd[_0x3b7920(0x2a3)][_0x3b7920(0x57a)]=_0x370ffc[_0x3b7920(0x19a)][_0x3b7920(0x883)]();let {message_normalized:_0x41f079}=this[_0x3b7920(0x5e1)](_0x1cbe06,_0x3d20a2,null);_0xc8c0dd[_0x3b7920(0x2a3)][_0x3b7920(0x1f4)]=await _0x41f079;let _0x31423b={'messageId':_0x176f90['key']['id']},_0x506afe=_0xc8c0dd['chatLog'][_0x3b7920(0x45f)];Object['assign'](_0x506afe,_0x57a934),_0xc8c0dd[_0x3b7920(0x2a3)][_0x3b7920(0x45f)]=_0x506afe,this[_0x3b7920(0x5ab)](_0xc8c0dd,_0x370ffc,_0x31423b);}else{let _0x443c98={'error':!0x0};this[_0x3b7920(0x5ab)](_0xc8c0dd,_0x370ffc,_0x443c98),this[_0x3b7920(0x55f)][_0x3b7920(0x37f)](this[_0x3b7920(0x84b)]+'\x20('+this['instance'][_0x3b7920(0x222)]+_0x3b7920(0x744));}}catch(_0x350511){let _0xf90017={'error':!0x0,'errorLog':_0x350511['toString']()};this[_0x3b7920(0x5ab)](_0xc8c0dd,_0x370ffc,_0xf90017),this[_0x3b7920(0x55f)][_0x3b7920(0x37f)](this[_0x3b7920(0x84b)]+'\x20('+this[_0x3b7920(0x5ef)][_0x3b7920(0x222)]+_0x3b7920(0x811)+(_0x350511 instanceof Error?_0x350511[_0x3b7920(0x6e8)]:JSON[_0x3b7920(0x78e)](_0x350511,null,0x2)));}}async[a0_0xd17613(0x7d6)](_0x3df791,_0x1ff115){const _0x13d1dc=a0_0xd17613;let _0x72f5e1=_0x3df791['remoteJid'];_0x1ff115['uazapi']['remoteJid']&&_0x1ff115[_0x13d1dc(0x17d)][_0x13d1dc(0x2dd)][_0x13d1dc(0x3dd)]()!==''&&(_0x72f5e1=_0x1ff115[_0x13d1dc(0x17d)][_0x13d1dc(0x2dd)][_0x13d1dc(0x3dd)]()),this['logger'][_0x13d1dc(0x230)](this[_0x13d1dc(0x84b)]+'\x20('+this[_0x13d1dc(0x5ef)][_0x13d1dc(0x222)]+_0x13d1dc(0x317));let _0x2c9363={'number':_0x72f5e1,'options':{'delay':_0x1ff115[_0x13d1dc(0x17d)][_0x13d1dc(0x427)]},'contactMessage':[{'fullName':_0x1ff115[_0x13d1dc(0x17d)]['fullName'],'phoneNumber':_0x1ff115[_0x13d1dc(0x17d)][_0x13d1dc(0x8c1)]}]};try{let _0x384c58=await this[_0x13d1dc(0x8be)](_0x2c9363);if(_0x384c58){let _0x27c905={'_id':_0x384c58[_0x13d1dc(0x212)]['id'],'_fromMe':_0x384c58[_0x13d1dc(0x212)][_0x13d1dc(0x2cc)],'_remoteJid':_0x384c58[_0x13d1dc(0x212)][_0x13d1dc(0x2dd)]},_0x2611ba=(0x0,w[_0x13d1dc(0x274)])(_0x384c58['message']),_0x167a20=(0x0,w[_0x13d1dc(0x86e)])(_0x2611ba);_0x3df791[_0x13d1dc(0x2a3)][_0x13d1dc(0x57a)]=_0x1ff115[_0x13d1dc(0x19a)]['toString']();let {message_normalized:_0x1cbc32}=this[_0x13d1dc(0x5e1)](_0x2611ba,_0x167a20,null);_0x3df791['chatLog'][_0x13d1dc(0x1f4)]=await _0x1cbc32;let _0x58e463={'messageId':_0x384c58[_0x13d1dc(0x212)]['id']},_0x3ee5a7=_0x3df791[_0x13d1dc(0x2a3)][_0x13d1dc(0x45f)];Object[_0x13d1dc(0x5d7)](_0x3ee5a7,_0x27c905),_0x3df791[_0x13d1dc(0x2a3)][_0x13d1dc(0x45f)]=_0x3ee5a7,this[_0x13d1dc(0x5ab)](_0x3df791,_0x1ff115,_0x58e463);}else{let _0x59d965={'error':!0x0};this['updateConversation'](_0x3df791,_0x1ff115,_0x59d965),this['logger'][_0x13d1dc(0x37f)](this[_0x13d1dc(0x84b)]+'\x20('+this[_0x13d1dc(0x5ef)][_0x13d1dc(0x222)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x533565){let _0x502c3e={'error':!0x0,'errorLog':_0x533565[_0x13d1dc(0x883)]()};this['updateConversation'](_0x3df791,_0x1ff115,_0x502c3e),this[_0x13d1dc(0x55f)][_0x13d1dc(0x37f)](this[_0x13d1dc(0x84b)]+'\x20('+this[_0x13d1dc(0x5ef)][_0x13d1dc(0x222)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x533565 instanceof Error?_0x533565['message']:JSON[_0x13d1dc(0x78e)](_0x533565,null,0x2)));}}[a0_0xd17613(0x2c3)](_0x4de244,_0x3ac56a){const _0x46309e=a0_0xd17613;for(let _0x53606a of _0x4de244)_0x53606a[_0x46309e(0x262)]&&(_0x53606a[_0x46309e(0x262)]=this['replaceVariables'](_0x53606a[_0x46309e(0x262)],_0x3ac56a)),_0x53606a[_0x46309e(0x612)]&&(_0x53606a[_0x46309e(0x612)]=this['replaceVariables'](_0x53606a[_0x46309e(0x612)],_0x3ac56a));}async['uazapiSendMenu'](_0x1c04f0,_0x2563b1){const _0x2d0b9b=a0_0xd17613;let _0x495af2=_0x1c04f0['remoteJid'];_0x2563b1['uazapi'][_0x2d0b9b(0x2dd)]&&_0x2563b1[_0x2d0b9b(0x17d)][_0x2d0b9b(0x2dd)][_0x2d0b9b(0x3dd)]()!==''&&(_0x495af2=_0x2563b1[_0x2d0b9b(0x17d)]['remoteJid'][_0x2d0b9b(0x3dd)]()),this[_0x2d0b9b(0x55f)][_0x2d0b9b(0x230)](this['instanceName']+'\x20('+this[_0x2d0b9b(0x5ef)]['wuid']+_0x2d0b9b(0x62f));let _0x496f58=_0x1c04f0[_0x2d0b9b(0x30c)][_0x2d0b9b(0x736)](_0x5731eb=>_0x5731eb[_0x2d0b9b(0x176)]===_0x2563b1[_0x2d0b9b(0x19a)])['sort']((_0x1ed278,_0x12d6ae)=>_0x1ed278[_0x2d0b9b(0x7b6)]-_0x12d6ae['order']);this[_0x2d0b9b(0x2c3)](_0x496f58,_0x1c04f0['chatLog'][_0x2d0b9b(0x45f)]);let _0x2a3eeb=_0x496f58[_0x2d0b9b(0x50f)](_0x139646=>_0x139646[_0x2d0b9b(0x262)]),_0xc40957={'number':_0x495af2,'menuMessage':{'type':_0x2563b1[_0x2d0b9b(0x17d)]['menuType']||_0x2d0b9b(0x335),'text':_0x2563b1[_0x2d0b9b(0x17d)]['text']||_0x2563b1[_0x2d0b9b(0x17d)]['name'],'footerText':_0x2563b1[_0x2d0b9b(0x17d)][_0x2d0b9b(0x84a)],'buttonText':_0x2563b1[_0x2d0b9b(0x17d)][_0x2d0b9b(0x78f)],'selectableCount':0x1,'choices':_0x2a3eeb},'options':{'delay':_0x2563b1[_0x2d0b9b(0x17d)][_0x2d0b9b(0x427)]}};try{let _0xda3683=await this[_0x2d0b9b(0x723)](_0xc40957);if(_0xda3683){let _0x1c8d52={'_id':_0xda3683[_0x2d0b9b(0x212)]['id'],'_fromMe':_0xda3683[_0x2d0b9b(0x212)][_0x2d0b9b(0x2cc)],'_remoteJid':_0xda3683[_0x2d0b9b(0x212)]['remoteJid']};_0x2563b1[_0x2d0b9b(0x17d)]['menuIgnoreNonVotes']===!0x0&&(_0x1c04f0[_0x2d0b9b(0x1f8)]=_0x2d0b9b(0x491),this[_0x2d0b9b(0x55f)][_0x2d0b9b(0x230)](this[_0x2d0b9b(0x84b)]+'\x20('+this[_0x2d0b9b(0x5ef)]['wuid']+'):\x20conversation.status:\x20'+_0x1c04f0[_0x2d0b9b(0x1f8)])),this[_0x2d0b9b(0x55f)][_0x2d0b9b(0x230)](this[_0x2d0b9b(0x84b)]+'\x20('+this[_0x2d0b9b(0x5ef)][_0x2d0b9b(0x222)]+_0x2d0b9b(0x1f5)+(_0x2563b1[_0x2d0b9b(0x17d)][_0x2d0b9b(0x4f2)]||_0x2563b1['uazapi'][_0x2d0b9b(0x80f)])),_0x1c04f0[_0x2d0b9b(0x79b)]=_0xda3683[_0x2d0b9b(0x212)]['id'],_0x1c04f0[_0x2d0b9b(0x1b4)]=_0x2563b1['uazapi'][_0x2d0b9b(0x4f2)]||_0x2563b1['uazapi'][_0x2d0b9b(0x80f)],_0x1c04f0[_0x2d0b9b(0x470)]=_0x496f58,_0x2563b1['uazapi'][_0x2d0b9b(0x481)]&&(_0x1c04f0[_0x2d0b9b(0x858)]=_0x2563b1[_0x2d0b9b(0x17d)][_0x2d0b9b(0x481)]),this[_0x2d0b9b(0x55f)][_0x2d0b9b(0x230)](this[_0x2d0b9b(0x84b)]+'\x20('+this[_0x2d0b9b(0x5ef)][_0x2d0b9b(0x222)]+_0x2d0b9b(0x784)+_0x1c04f0[_0x2d0b9b(0x1b4)]);let _0x1b1d5b=(0x0,w[_0x2d0b9b(0x274)])(_0xda3683[_0x2d0b9b(0x6e8)]),_0x21f4d2=(0x0,w['getContentType'])(_0x1b1d5b);_0x1c04f0[_0x2d0b9b(0x2a3)][_0x2d0b9b(0x57a)]=_0x2563b1[_0x2d0b9b(0x19a)][_0x2d0b9b(0x883)]();let {message_normalized:_0x2f7904}=this['normalizeMessage'](_0x1b1d5b,_0x21f4d2,null);_0x1c04f0['chatLog'][_0x2d0b9b(0x1f4)]=await _0x2f7904;let _0x304b54={'messageId':_0xda3683[_0x2d0b9b(0x212)]['id']},_0x3100af=_0x1c04f0['chatLog']['realVariables'];Object[_0x2d0b9b(0x5d7)](_0x3100af,_0x1c8d52),_0x1c04f0[_0x2d0b9b(0x2a3)][_0x2d0b9b(0x45f)]=_0x3100af,this['updateConversation'](_0x1c04f0,_0x2563b1,_0x304b54);}else{let _0x367761={'error':!0x0};this['updateConversation'](_0x1c04f0,_0x2563b1,_0x367761),this[_0x2d0b9b(0x55f)][_0x2d0b9b(0x37f)](this['instanceName']+'\x20('+this[_0x2d0b9b(0x5ef)][_0x2d0b9b(0x222)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x3a12a8){let _0x42ede4={'error':!0x0,'errorLog':_0x3a12a8 instanceof Error?_0x3a12a8[_0x2d0b9b(0x6e8)]:JSON[_0x2d0b9b(0x78e)](_0x3a12a8,null,0x2)};this[_0x2d0b9b(0x5ab)](_0x1c04f0,_0x2563b1,_0x42ede4),this[_0x2d0b9b(0x55f)][_0x2d0b9b(0x37f)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2d0b9b(0x1c5)+(_0x3a12a8 instanceof Error?_0x3a12a8[_0x2d0b9b(0x6e8)]:JSON['stringify'](_0x3a12a8,null,0x2)));}}async[a0_0xd17613(0x520)](_0x471fa0,_0xf60831){const _0x2edd89=a0_0xd17613;this[_0x2edd89(0x55f)][_0x2edd89(0x230)](this['instanceName']+'\x20('+this[_0x2edd89(0x5ef)][_0x2edd89(0x222)]+_0x2edd89(0x2fe));let _0x2d894f=_0x471fa0[_0x2edd89(0x2a3)][_0x2edd89(0x6e2)][_0x2edd89(0x357)](_0x2f5bd7=>_0x2f5bd7[_0x2edd89(0x176)][_0x2edd89(0x883)]()===_0xf60831[_0x2edd89(0x17d)][_0x2edd89(0x176)][_0x2edd89(0x883)]()),_0x43210f={'id':_0x2d894f[_0x2edd89(0x2d8)],'remoteJid':_0x2d894f['remoteJid'],'fromMe':_0x2d894f[_0x2edd89(0x2cc)]};try{let _0x238978=await this[_0x2edd89(0x422)](_0x43210f);if(_0x238978){let _0xc6df51=(0x0,w[_0x2edd89(0x274)])(_0x238978[_0x2edd89(0x6e8)]),_0x6101e6=(0x0,w[_0x2edd89(0x86e)])(_0xc6df51);_0x471fa0[_0x2edd89(0x2a3)]['lastBlockId']=_0xf60831['_id']['toString']();let {message_normalized:_0xf846c6}=this[_0x2edd89(0x5e1)](_0xc6df51,_0x6101e6,null);_0x471fa0['chatLog'][_0x2edd89(0x1f4)]=await _0xf846c6;let _0x4baad1={};this[_0x2edd89(0x5ab)](_0x471fa0,_0xf60831,_0x4baad1);}else{let _0x169c7c={'error':!0x0};this[_0x2edd89(0x5ab)](_0x471fa0,_0xf60831,_0x169c7c),this['logger'][_0x2edd89(0x37f)](this[_0x2edd89(0x84b)]+'\x20('+this[_0x2edd89(0x5ef)][_0x2edd89(0x222)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x12a621){let _0x1cba7d={'error':!0x0,'errorLog':_0x12a621 instanceof Error?_0x12a621[_0x2edd89(0x6e8)]:JSON[_0x2edd89(0x78e)](_0x12a621,null,0x2)};this[_0x2edd89(0x5ab)](_0x471fa0,_0xf60831,_0x1cba7d),this[_0x2edd89(0x55f)]['error'](this[_0x2edd89(0x84b)]+'\x20('+this[_0x2edd89(0x5ef)][_0x2edd89(0x222)]+_0x2edd89(0x8b8)+(_0x12a621 instanceof Error?_0x12a621[_0x2edd89(0x6e8)]:JSON[_0x2edd89(0x78e)](_0x12a621,null,0x2)));}}async[a0_0xd17613(0x326)](_0x353740,_0x5ef8f1){const _0x1078bd=a0_0xd17613;if(_0x353740[_0x1078bd(0x4f2)]||(_0x353740['name']=(0x0,me['v4'])()),_0x5ef8f1!==Ro&&_0x353740?.['globalShow'])throw new m('Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global');if(_0x1078bd(0x19a)in _0x353740&&'owner'in _0x353740)return this[_0x1078bd(0x3ae)](_0x353740[_0x1078bd(0x50a)],_0x353740[_0x1078bd(0x19a)]);this[_0x1078bd(0x55f)][_0x1078bd(0x230)](this[_0x1078bd(0x84b)]+'\x20('+this['instance'][_0x1078bd(0x222)]+'):\x20Criando\x20fluxo...');let _0x421b4c=this[_0x1078bd(0x1e3)](_0x353740[_0x1078bd(0x4f2)]),_0x421960=new de[(_0x1078bd(0x2a8))][(_0x1078bd(0x465))](),_0x317d88={'_id':_0x421960,'default':!0x0,'title':_0x1078bd(0x53a),'x':0x0,'y':0x0},_0x54b26d={'_id':new de['Types'][(_0x1078bd(0x465))](),'order':0x1,'groupId':_0x421960[_0x1078bd(0x883)](),'type':_0x1078bd(0x4f5)},_0x3f909a=this[_0x1078bd(0x5ef)][_0x1078bd(0x222)],_0x2842e2={'_id':(0x0,me['v4'])(),'owner':_0x3f909a,'name':_0x421b4c,'whoCanEdit':[_0x3f909a],'whoCanUse':[_0x3f909a],'groups':[_0x317d88],'blocks':[_0x54b26d],..._0x353740};try{let _0x36003a=await this[_0x1078bd(0x735)][_0x1078bd(0x177)][_0x1078bd(0x4af)](_0x2842e2);return await this[_0x1078bd(0x5a3)](),_0x36003a;}catch(_0x395109){let _0x38b90f=_0x1078bd(0x2cb),_0x3f464c=_0x395109 instanceof Error?_0x395109[_0x1078bd(0x6e8)]:typeof _0x395109==_0x1078bd(0x629)?JSON['stringify'](_0x395109):_0x395109,_0x3e3cf5=_0x38b90f+':\x20'+_0x3f464c;throw this[_0x1078bd(0x55f)][_0x1078bd(0x37f)](this[_0x1078bd(0x84b)]+'\x20('+this[_0x1078bd(0x5ef)][_0x1078bd(0x222)]+_0x1078bd(0x653)+_0x3e3cf5),new m(_0x3e3cf5);}}async[a0_0xd17613(0x3ae)](_0x4aa456,_0x17dd68){const _0x5a6540=a0_0xd17613;try{this[_0x5a6540(0x55f)][_0x5a6540(0x230)](this[_0x5a6540(0x84b)]+'\x20('+this[_0x5a6540(0x5ef)][_0x5a6540(0x222)]+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x15b8ad=await this['repository'][_0x5a6540(0x177)]['findOne']({'where':{'_id':_0x17dd68,'owner':_0x4aa456}});if(!_0x15b8ad)throw new m(_0x5a6540(0x219));if(_0x15b8ad[_0x5a6540(0x7cd)]===!0x1&&!_0x15b8ad['globalShow'])throw new m(_0x5a6540(0x891));let _0x4d4542=new Set(_0x15b8ad[_0x5a6540(0x2f1)]??[]);_0x4d4542[_0x5a6540(0x36d)](this[_0x5a6540(0x5ef)][_0x5a6540(0x222)]);let _0x40e9ec=await this[_0x5a6540(0x735)][_0x5a6540(0x177)][_0x5a6540(0x8ae)](_0x17dd68,{..._0x15b8ad,'whoCanUse':Array[_0x5a6540(0x310)](_0x4d4542)});return await this[_0x5a6540(0x5a3)](),_0x40e9ec;}catch(_0x58bb6e){let _0x18ebd1=_0x5a6540(0x820),_0x4fac28=_0x58bb6e instanceof Error?_0x58bb6e['message']:typeof _0x58bb6e==_0x5a6540(0x629)?JSON[_0x5a6540(0x78e)](_0x58bb6e):_0x58bb6e,_0x56a620=_0x18ebd1+':\x20'+_0x4fac28;throw this[_0x5a6540(0x55f)][_0x5a6540(0x37f)](this[_0x5a6540(0x84b)]+'\x20('+this[_0x5a6540(0x5ef)][_0x5a6540(0x222)]+_0x5a6540(0x653)+_0x56a620),new m(_0x56a620);}}[a0_0xd17613(0x1e3)](_0x1bd011){const _0x2fc3c8=a0_0xd17613;let _0x407efd=_0x1bd011,_0x249755=0x1;for(;this[_0x2fc3c8(0x3f3)][_0x2fc3c8(0x3e1)][_0x2fc3c8(0x884)](_0x380f58=>_0x380f58[_0x2fc3c8(0x4f2)]===_0x407efd);)_0x249755++,_0x407efd=_0x1bd011+'\x20('+_0x249755+')';return _0x407efd;}async[a0_0xd17613(0x3fa)](_0x2c7c66){const _0x3799b0=a0_0xd17613;try{if(this[_0x3799b0(0x55f)][_0x3799b0(0x230)](this['instanceName']+'\x20('+this['instance'][_0x3799b0(0x222)]+_0x3799b0(0x3fc)+_0x2c7c66[_0x3799b0(0x19a)]+_0x3799b0(0x2ba)+_0x2c7c66[_0x3799b0(0x4fd)]),!this[_0x3799b0(0x3f3)]['flows']['find'](_0x5bdaaa=>_0x5bdaaa[_0x3799b0(0x19a)]===_0x2c7c66[_0x3799b0(0x19a)]))throw this[_0x3799b0(0x55f)][_0x3799b0(0x230)](this[_0x3799b0(0x84b)]+'\x20('+this[_0x3799b0(0x5ef)][_0x3799b0(0x222)]+'):\x20Fluxo\x20\x27'+_0x2c7c66['_id']+_0x3799b0(0x5f0)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x33f7b4=await this[_0x3799b0(0x735)]['flow'][_0x3799b0(0x86d)]({'where':{'_id':_0x2c7c66[_0x3799b0(0x19a)]}});if(!_0x33f7b4)throw new m('Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.');if(this[_0x3799b0(0x5ef)][_0x3799b0(0x222)]===_0x33f7b4[_0x3799b0(0x50a)]){this[_0x3799b0(0x55f)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27'+_0x2c7c66['_id']+'\x27\x20do\x20banco\x20de\x20dados...');let _0x415348=await this[_0x3799b0(0x735)][_0x3799b0(0x177)]['deleteOne']({'where':{'_id':_0x2c7c66[_0x3799b0(0x19a)]}});return await this['synchronizeAndMapFlows'](),_0x415348;}return this[_0x3799b0(0x55f)][_0x3799b0(0x230)](this[_0x3799b0(0x84b)]+'\x20('+this['instance'][_0x3799b0(0x222)]+_0x3799b0(0x1a3)+this[_0x3799b0(0x5ef)]['wuid']+'\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27'+_0x2c7c66['_id']+_0x3799b0(0x328)),_0x33f7b4[_0x3799b0(0x2f1)]=(_0x33f7b4[_0x3799b0(0x2f1)]??[])['filter'](_0x2c4404=>_0x2c4404!==this[_0x3799b0(0x5ef)][_0x3799b0(0x222)]),_0x33f7b4[_0x3799b0(0x7e2)]=(_0x33f7b4[_0x3799b0(0x7e2)]??[])['filter'](_0x982099=>_0x982099!==this[_0x3799b0(0x5ef)][_0x3799b0(0x222)]),_0x33f7b4[_0x3799b0(0x7e2)][_0x3799b0(0x4ba)]===0x0&&_0x33f7b4[_0x3799b0(0x2f1)][_0x3799b0(0x4ba)]>0x0&&(_0x33f7b4[_0x3799b0(0x7e2)][_0x3799b0(0x668)](_0x33f7b4[_0x3799b0(0x2f1)][0x0]),this[_0x3799b0(0x55f)][_0x3799b0(0x230)](this[_0x3799b0(0x84b)]+'\x20('+this[_0x3799b0(0x5ef)][_0x3799b0(0x222)]+_0x3799b0(0x265)+_0x33f7b4['whoCanUse'][0x0]+'\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27'+_0x2c7c66['_id']+_0x3799b0(0x328))),await this[_0x3799b0(0x735)]['flow']['updateOne'](_0x33f7b4[_0x3799b0(0x19a)],_0x33f7b4),await this['synchronizeAndMapFlows'](),{'message':_0x3799b0(0x71b)+_0x2c7c66['name']+'\x27\x20removido\x20do\x20AutomateSystem.'};}catch(_0x16e7fc){return this[_0x3799b0(0x55f)][_0x3799b0(0x37f)](this['instanceName']+'\x20('+this[_0x3799b0(0x5ef)][_0x3799b0(0x222)]+_0x3799b0(0x65b)+(_0x16e7fc instanceof Error?_0x16e7fc[_0x3799b0(0x6e8)]:JSON[_0x3799b0(0x78e)](_0x16e7fc,null,0x2))),{'message':_0x3799b0(0x294)+(_0x16e7fc instanceof Error?_0x16e7fc[_0x3799b0(0x6e8)]:JSON[_0x3799b0(0x78e)](_0x16e7fc,null,0x2))};}}async[a0_0xd17613(0x881)](_0x317182){const _0x13adba=a0_0xd17613;try{if(this[_0x13adba(0x55f)][_0x13adba(0x40c)](this[_0x13adba(0x84b)]+'\x20('+this[_0x13adba(0x5ef)][_0x13adba(0x222)]+'):\x20Buscando\x20flow,\x20id:\x20'+_0x317182),!this[_0x13adba(0x3f3)]&&(await this[_0x13adba(0x737)](),!this[_0x13adba(0x3f3)]))return null;let _0x40b0d3=await this['repository'][_0x13adba(0x177)][_0x13adba(0x86d)]({'where':{'_id':_0x317182}});if(!_0x40b0d3)throw new m(_0x13adba(0x39c)+_0x317182+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.');if(!(_0x40b0d3['globalShow']||_0x40b0d3[_0x13adba(0x2f1)]?.[_0x13adba(0x831)](this['instance'][_0x13adba(0x222)])))throw new m(_0x13adba(0x1d5)+name+'\x27');_0x40b0d3['globalShow']&&!_0x40b0d3[_0x13adba(0x2f1)]?.[_0x13adba(0x831)](this[_0x13adba(0x5ef)]['wuid'])&&(_0x40b0d3[_0x13adba(0x2f1)]=[..._0x40b0d3[_0x13adba(0x2f1)]??[],this[_0x13adba(0x5ef)][_0x13adba(0x222)]],await this['repository']['flow'][_0x13adba(0x8ae)](_0x40b0d3[_0x13adba(0x19a)],_0x40b0d3),this[_0x13adba(0x5a3)]());let _0x3792b6=this[_0x13adba(0x3f3)]?.[_0x13adba(0x85c)][_0x13adba(0x50f)](_0x1679a7=>_0x1679a7[_0x13adba(0x4f2)]),_0x205c4d=[_0x13adba(0x2d1),'nomecompleto','email',_0x13adba(0x234),'status',_0x13adba(0x4c5),_0x13adba(0x531),_0x13adba(0x246),_0x13adba(0x48e),'telefone','atendimentoAberto'];_0x40b0d3['variables']=_0x40b0d3['variables'][_0x13adba(0x736)](_0x2cfc4c=>!(_0x2cfc4c[_0x13adba(0x3bf)]===_0x13adba(0x4d3)||_0x2cfc4c['leadInfo'])),_0x205c4d['forEach'](_0x43373e=>{const _0x596f44=_0x13adba;_0x40b0d3[_0x596f44(0x67b)][_0x596f44(0x668)]({'folder':'leadInfo','name':_0x43373e,'value':'','doc':'','leadInfo':!0x0});}),_0x3792b6[_0x13adba(0x2a4)](_0x2af4e5=>{const _0x514745=_0x13adba;let _0x1783c6=_0x40b0d3[_0x514745(0x67b)][_0x514745(0x69c)](_0x5ba64c=>_0x5ba64c[_0x514745(0x4f2)]===_0x2af4e5);_0x1783c6===-0x1?_0x40b0d3[_0x514745(0x67b)][_0x514745(0x668)]({'folder':_0x514745(0x4d3),'name':_0x2af4e5,'value':'','doc':'','leadInfo':!0x0}):(_0x40b0d3['variables'][_0x1783c6][_0x514745(0x3bf)]='leadInfo',_0x40b0d3[_0x514745(0x67b)][_0x1783c6]['leadInfo']=!0x0);}),_0x40b0d3[_0x13adba(0x471)]&&_0x40b0d3['blocks'][_0x13adba(0x4ba)]>0x0&&_0x40b0d3[_0x13adba(0x471)][_0x13adba(0x2a4)](_0x43583d=>{const _0x18518b=_0x13adba;_0x43583d[_0x18518b(0x7eb)]&&_0x43583d[_0x18518b(0x763)]&&_0x43583d[_0x18518b(0x7eb)]===_0x43583d[_0x18518b(0x763)]&&(_0x43583d['next_groupId']=null);});let _0x1f24ba=await this['repository']['flow'][_0x13adba(0x8ae)](_0x40b0d3['_id'],_0x40b0d3);if(!_0x1f24ba)throw new Error(_0x13adba(0x211));return _0x1f24ba;}catch(_0x3d043f){let _0x5d99b5='Erro\x20ao\x20buscar\x20o\x20fluxo',_0x328615=_0x3d043f instanceof Error?_0x3d043f[_0x13adba(0x6e8)]:typeof _0x3d043f==_0x13adba(0x629)?JSON['stringify'](_0x3d043f):_0x3d043f,_0x20cd3b=_0x5d99b5+':\x20'+_0x328615;throw this[_0x13adba(0x55f)][_0x13adba(0x37f)](this[_0x13adba(0x84b)]+'\x20('+this[_0x13adba(0x5ef)][_0x13adba(0x222)]+_0x13adba(0x653)+_0x20cd3b),new m(_0x20cd3b);}}async[a0_0xd17613(0x7e8)](){const _0x32583f=a0_0xd17613;try{this[_0x32583f(0x55f)][_0x32583f(0x230)](this[_0x32583f(0x84b)]+'\x20('+this['instance'][_0x32583f(0x222)]+_0x32583f(0x1d4)),await this['synchronizeAndMapFlows']();let _0x1ec647=await this[_0x32583f(0x735)][_0x32583f(0x177)][_0x32583f(0x2e3)]({'where':{'globalShow':!0x0}});return[...this[_0x32583f(0x3f3)]['flows'],..._0x1ec647];}catch(_0x539dd9){return this[_0x32583f(0x55f)][_0x32583f(0x37f)](this[_0x32583f(0x84b)]+'\x20('+this[_0x32583f(0x5ef)]['wuid']+_0x32583f(0x35d)+(_0x539dd9 instanceof Error?_0x539dd9[_0x32583f(0x6e8)]:JSON[_0x32583f(0x78e)](_0x539dd9,null,0x2))),{'message':_0x32583f(0x5fc)+(_0x539dd9 instanceof Error?_0x539dd9[_0x32583f(0x6e8)]:String(_0x539dd9))};}}async[a0_0xd17613(0x64d)](_0x2080c3,_0x45976e){const _0x2974df=a0_0xd17613;try{this[_0x2974df(0x55f)][_0x2974df(0x230)](this[_0x2974df(0x84b)]+'\x20('+this[_0x2974df(0x5ef)][_0x2974df(0x222)]+'):\x20Alterando\x20fluxo...');let _0x56cac9=this['AutomateSystem']['flows'][_0x2974df(0x357)](_0xcded39=>_0xcded39[_0x2974df(0x19a)]===_0x2080c3['_id']);if(!_0x56cac9)throw this[_0x2974df(0x55f)][_0x2974df(0x230)](this[_0x2974df(0x84b)]+'\x20('+this[_0x2974df(0x5ef)][_0x2974df(0x222)]+_0x2974df(0x242)+_0x2080c3['_id']+_0x2974df(0x5f0)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x4cc30c=await this['repository'][_0x2974df(0x177)]['findOne']({'where':{'_id':_0x2080c3[_0x2974df(0x19a)]}});if(!_0x4cc30c||!_0x4cc30c[_0x2974df(0x2f1)]?.[_0x2974df(0x831)](this[_0x2974df(0x5ef)][_0x2974df(0x222)]))throw this[_0x2974df(0x55f)][_0x2974df(0x37f)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Flow\x20\x27'+_0x2080c3[_0x2974df(0x19a)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x2974df(0x336)+_0x2080c3['_id']+_0x2974df(0x4aa));let _0x13c81b=this[_0x2974df(0x3f3)]['flows'][_0x2974df(0x69c)](_0x27c997=>_0x27c997[_0x2974df(0x19a)]===_0x56cac9['_id']);if(_0x13c81b!==-0x1){let _0x821d02=this[_0x2974df(0x3f3)][_0x2974df(0x3e1)][_0x13c81b];if(_0x821d02['name']=_0x2080c3[_0x2974df(0x4f2)]??_0x821d02[_0x2974df(0x4f2)],_0x821d02[_0x2974df(0x6db)]=_0x2080c3[_0x2974df(0x6db)]??_0x821d02[_0x2974df(0x6db)],_0x821d02['testingWith']=_0x2080c3[_0x2974df(0x4bd)]??_0x821d02[_0x2974df(0x4bd)],_0x821d02[_0x2974df(0x251)]=_0x2080c3[_0x2974df(0x7e3)]??_0x821d02[_0x2974df(0x251)],_0x821d02[_0x2974df(0x8b2)]=_0x2080c3['minutesToClose']??_0x821d02[_0x2974df(0x8b2)],_0x821d02[_0x2974df(0x173)]=_0x2080c3['readMessages']??_0x821d02['readMessages'],_0x2080c3['default']&&this[_0x2974df(0x3f3)][_0x2974df(0x3e1)][_0x2974df(0x2a4)]((_0x302b6c,_0x4c1b86)=>{const _0x20c9d0=_0x2974df;_0x4c1b86!==_0x13c81b&&(_0x302b6c[_0x20c9d0(0x6db)]=!0x1);}),this[_0x2974df(0x3f3)][_0x2974df(0x3e1)][_0x13c81b]=_0x821d02,!await this[_0x2974df(0x735)][_0x2974df(0x20a)]['update']({'flows':this['AutomateSystem'][_0x2974df(0x3e1)]},this[_0x2974df(0x5ef)][_0x2974df(0x222)]))throw new m(_0x2974df(0x7d5));}let _0x2c42e2=[_0x2974df(0x4fd),_0x2974df(0x3bc),_0x2974df(0x812),'shareOwners'];for(let _0x4a1f78 of _0x2c42e2)delete _0x2080c3[_0x4a1f78];if(_0x4cc30c[_0x2974df(0x7e2)]?.['includes'](this['instance']['wuid'])||(_0x2080c3={'_id':_0x2080c3[_0x2974df(0x19a)]}),_0x45976e!==Ro&&_0x2080c3?.[_0x2974df(0x3b2)]&&!_0x4cc30c?.[_0x2974df(0x3b2)])throw new m(_0x2974df(0x515));let _0x5677a9=new Set(_0x2080c3[_0x2974df(0x7e2)]??_0x4cc30c['whoCanEdit']);_0x5677a9[_0x2974df(0x36d)](_0x4cc30c[_0x2974df(0x50a)]);let _0xb2117f=new Set(_0x2080c3[_0x2974df(0x2f1)]??_0x4cc30c[_0x2974df(0x2f1)]??[]);_0x5677a9[_0x2974df(0x2a4)](_0x5bc974=>_0xb2117f[_0x2974df(0x36d)](_0x5bc974)),_0xb2117f[_0x2974df(0x36d)](_0x4cc30c[_0x2974df(0x50a)]),this[_0x2974df(0x55f)][_0x2974df(0x230)](this[_0x2974df(0x84b)]+'\x20('+this[_0x2974df(0x5ef)][_0x2974df(0x222)]+_0x2974df(0x3eb)+Array['from'](_0x5677a9)),this[_0x2974df(0x55f)]['verbose'](this['instanceName']+'\x20('+this[_0x2974df(0x5ef)][_0x2974df(0x222)]+_0x2974df(0x3c4)+Array[_0x2974df(0x310)](_0xb2117f));let _0x4dac40=await this[_0x2974df(0x595)](Array[_0x2974df(0x310)](_0xb2117f)),_0x2ddc1e=Array[_0x2974df(0x310)](_0x5677a9)['filter'](_0x2a932b=>_0x4dac40[_0x2974df(0x831)](_0x2a932b)),_0x5a02f6=Array['from'](_0xb2117f)['filter'](_0x12191d=>_0x4dac40[_0x2974df(0x831)](_0x12191d));this['logger'][_0x2974df(0x230)](this[_0x2974df(0x84b)]+'\x20('+this[_0x2974df(0x5ef)][_0x2974df(0x222)]+'):\x20whoCanEdit\x20after\x20validation:\x20'+_0x2ddc1e),this[_0x2974df(0x55f)]['verbose'](this[_0x2974df(0x84b)]+'\x20('+this[_0x2974df(0x5ef)][_0x2974df(0x222)]+'):\x20whoCanUse\x20after\x20validation:\x20'+_0x5a02f6);let _0xc2afa4={..._0x4cc30c,..._0x2080c3,'whoCanEdit':_0x2ddc1e,'whoCanUse':_0x5a02f6},_0x26fb53=await this[_0x2974df(0x735)]['flow']['updateOne'](_0x4cc30c[_0x2974df(0x19a)],_0xc2afa4);return await this[_0x2974df(0x5a3)](),_0x26fb53;}catch(_0x1f14dd){let _0x5e762c=_0x2974df(0x4c7),_0x5e3f39=_0x1f14dd instanceof Error?_0x1f14dd[_0x2974df(0x6e8)]:typeof _0x1f14dd==_0x2974df(0x629)?JSON[_0x2974df(0x78e)](_0x1f14dd):_0x1f14dd,_0x3a5167=_0x5e762c+':\x20'+_0x5e3f39;throw this[_0x2974df(0x55f)]['error'](this[_0x2974df(0x84b)]+'\x20('+this[_0x2974df(0x5ef)][_0x2974df(0x222)]+'):\x20'+_0x3a5167),new m(_0x3a5167);}}async[a0_0xd17613(0x595)](_0x16111a){const _0x2e5ca5=a0_0xd17613;let _0x13ff4a={'numbers':_0x16111a};return(await this[_0x2e5ca5(0x544)](_0x13ff4a))[_0x2e5ca5(0x736)](_0x2e0e88=>_0x2e0e88[_0x2e5ca5(0x250)])[_0x2e5ca5(0x50f)](_0x4ef3a3=>_0x4ef3a3[_0x2e5ca5(0x773)])[_0x2e5ca5(0x50f)](_0x4a8330=>this['extractPhoneNumber'](_0x4a8330));}['extractPhoneNumber'](_0x296e01){const _0x3a7662=a0_0xd17613;let _0x1aef17=_0x296e01[_0x3a7662(0x1b3)](/\d+/);return _0x1aef17?_0x1aef17[0x0]:'';}async[a0_0xd17613(0x8c9)](_0x52a2d4){const _0x5c9b36=a0_0xd17613;try{if(this[_0x5c9b36(0x55f)][_0x5c9b36(0x230)](this[_0x5c9b36(0x84b)]+'\x20('+this[_0x5c9b36(0x5ef)][_0x5c9b36(0x222)]+'):\x20Editando\x20bloco...'),!this[_0x5c9b36(0x3f3)][_0x5c9b36(0x3e1)][_0x5c9b36(0x357)](_0x196842=>_0x196842['_id']===_0x52a2d4[_0x5c9b36(0x19a)]))throw this[_0x5c9b36(0x55f)]['verbose'](this[_0x5c9b36(0x84b)]+'\x20('+this[_0x5c9b36(0x5ef)][_0x5c9b36(0x222)]+_0x5c9b36(0x242)+_0x52a2d4['_id']+_0x5c9b36(0x5f0)),new m(_0x5c9b36(0x25a));let _0x2ef91d=await this[_0x5c9b36(0x735)][_0x5c9b36(0x177)][_0x5c9b36(0x86d)]({'where':{'_id':_0x52a2d4[_0x5c9b36(0x19a)]}});if(!_0x2ef91d||!_0x2ef91d[_0x5c9b36(0x2f1)]?.[_0x5c9b36(0x831)](this[_0x5c9b36(0x5ef)][_0x5c9b36(0x222)]))throw this[_0x5c9b36(0x55f)][_0x5c9b36(0x37f)](this[_0x5c9b36(0x84b)]+'\x20('+this['instance'][_0x5c9b36(0x222)]+_0x5c9b36(0x743)+_0x52a2d4[_0x5c9b36(0x19a)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x5c9b36(0x336)+_0x52a2d4[_0x5c9b36(0x19a)]+_0x5c9b36(0x4aa));if(!_0x2ef91d[_0x5c9b36(0x7e2)]?.[_0x5c9b36(0x831)](this[_0x5c9b36(0x5ef)][_0x5c9b36(0x222)]))throw new m(_0x5c9b36(0x436));let {block:_0x1b29d3}=_0x52a2d4;_0x1b29d3?.[_0x5c9b36(0x793)]?this[_0x5c9b36(0x817)](_0x2ef91d,_0x52a2d4):_0x1b29d3?.[_0x5c9b36(0x5b4)]?this[_0x5c9b36(0x4b7)](_0x2ef91d,_0x52a2d4):_0x1b29d3[_0x5c9b36(0x19a)]?await this[_0x5c9b36(0x896)](_0x2ef91d,_0x52a2d4):this[_0x5c9b36(0x705)](_0x2ef91d,_0x52a2d4);let _0x2408a6=await this[_0x5c9b36(0x735)][_0x5c9b36(0x177)][_0x5c9b36(0x8ae)](_0x2ef91d[_0x5c9b36(0x19a)],_0x2ef91d);if(!_0x2408a6)throw new Error(_0x5c9b36(0x211));return _0x2408a6;}catch(_0x38d3b6){this[_0x5c9b36(0x5b3)](_0x5c9b36(0x494)+_0x38d3b6[_0x5c9b36(0x6e8)]);}}async['copyBlock'](_0x399582,_0x49cff3){const _0x6ba28a=a0_0xd17613;let _0x34c3b6=_0x49cff3[_0x6ba28a(0x74f)]['_id'],_0x52d05b=_0x399582[_0x6ba28a(0x471)][_0x6ba28a(0x357)](_0x4a82d3=>_0x4a82d3[_0x6ba28a(0x19a)][_0x6ba28a(0x883)]()===_0x34c3b6);if(!_0x52d05b){this[_0x6ba28a(0x55f)][_0x6ba28a(0x37f)](this[_0x6ba28a(0x84b)]+'\x20('+this['instance']['wuid']+_0x6ba28a(0x588)+_0x34c3b6+'\x20não\x20encontrado\x20para\x20cópia');return;}this[_0x6ba28a(0x55f)][_0x6ba28a(0x230)](this[_0x6ba28a(0x84b)]+'\x20('+this[_0x6ba28a(0x5ef)][_0x6ba28a(0x222)]+_0x6ba28a(0x8bd)+JSON[_0x6ba28a(0x78e)](_0x52d05b));let _0x53e95a=JSON[_0x6ba28a(0x5ac)](JSON[_0x6ba28a(0x78e)](_0x52d05b));_0x53e95a[_0x6ba28a(0x19a)]=new de['default']['Types'][(_0x6ba28a(0x465))](),this[_0x6ba28a(0x55f)]['verbose'](this['instanceName']+'\x20('+this[_0x6ba28a(0x5ef)]['wuid']+'):\x20Bloco\x20copiado:\x20'+JSON[_0x6ba28a(0x78e)](_0x53e95a)),_0x399582[_0x6ba28a(0x471)]['push'](_0x53e95a),this['reorderBlocks'](_0x399582['blocks'],_0x53e95a[_0x6ba28a(0x7eb)]);}[a0_0xd17613(0x5b3)](_0x1f6748){const _0x2bcd10=a0_0xd17613;throw this[_0x2bcd10(0x55f)][_0x2bcd10(0x37f)](this[_0x2bcd10(0x84b)]+'\x20('+this[_0x2bcd10(0x5ef)][_0x2bcd10(0x222)]+'):\x20'+_0x1f6748),new m(_0x1f6748);}[a0_0xd17613(0x4b7)](_0x2b5e5e,_0x56803a){const _0x1fc747=a0_0xd17613;let {block:_0x365c6e}=_0x56803a;if(_0x365c6e[_0x1fc747(0x519)]===_0x1fc747(0x4f5)){this[_0x1fc747(0x5b3)](_0x1fc747(0x415));return;}if(!_0x365c6e[_0x1fc747(0x19a)]){this[_0x1fc747(0x5b3)](_0x1fc747(0x60b));return;}let _0xf5024a=_0x2b5e5e[_0x1fc747(0x471)][_0x1fc747(0x357)](_0x58f17f=>_0x58f17f['_id'][_0x1fc747(0x883)]()===_0x56803a['block'][_0x1fc747(0x19a)]['toString']());if(!_0xf5024a){this[_0x1fc747(0x5b3)](_0x1fc747(0x417)+_0x365c6e[_0x1fc747(0x19a)]+_0x1fc747(0x51d));return;}_0x2b5e5e[_0x1fc747(0x471)]=_0x2b5e5e[_0x1fc747(0x471)][_0x1fc747(0x736)](_0x4fd3d7=>_0x4fd3d7[_0x1fc747(0x19a)][_0x1fc747(0x883)]()!==_0x56803a[_0x1fc747(0x74f)]['_id'][_0x1fc747(0x883)]()),_0x2b5e5e[_0x1fc747(0x5cd)]=_0x2b5e5e[_0x1fc747(0x5cd)][_0x1fc747(0x736)](_0xfaf6b6=>_0xfaf6b6[_0x1fc747(0x176)]!==_0x365c6e[_0x1fc747(0x19a)][_0x1fc747(0x883)]()),_0x2b5e5e[_0x1fc747(0x275)]=_0x2b5e5e[_0x1fc747(0x275)][_0x1fc747(0x736)](_0x3cb36c=>_0x3cb36c[_0x1fc747(0x176)]!==_0x365c6e[_0x1fc747(0x19a)][_0x1fc747(0x883)]()),_0x2b5e5e[_0x1fc747(0x30c)]=_0x2b5e5e[_0x1fc747(0x30c)]['filter'](_0xe80826=>_0xe80826[_0x1fc747(0x176)]!==_0x365c6e['_id'][_0x1fc747(0x883)]()),this['reorderBlocks'](_0x2b5e5e[_0x1fc747(0x471)],_0xf5024a['groupId']);}async[a0_0xd17613(0x896)](_0x3ce1c5,_0x485b86){const _0x3a8a88=a0_0xd17613;let _0x3df637=_0x3ce1c5[_0x3a8a88(0x471)]['findIndex'](_0x213fe5=>_0x213fe5[_0x3a8a88(0x19a)][_0x3a8a88(0x883)]()===_0x485b86[_0x3a8a88(0x74f)][_0x3a8a88(0x19a)][_0x3a8a88(0x883)]());if(this['logger'][_0x3a8a88(0x230)](this[_0x3a8a88(0x84b)]+'\x20('+this[_0x3a8a88(0x5ef)][_0x3a8a88(0x222)]+_0x3a8a88(0x56d)+_0x3df637),_0x3df637===-0x1){this['logger'][_0x3a8a88(0x230)]('Bloco\x20com\x20ID\x20'+_0x485b86[_0x3a8a88(0x74f)][_0x3a8a88(0x19a)]+_0x3a8a88(0x774));return;}if(_0x3ce1c5[_0x3a8a88(0x471)][_0x3df637][_0x3a8a88(0x519)]===_0x3a8a88(0x4f5)){let _0xdfe4dc=Object[_0x3a8a88(0x6f6)](_0x485b86['block']);if(_0xdfe4dc[_0x3a8a88(0x4ba)]>0x2||_0xdfe4dc[_0x3a8a88(0x4ba)]===0x2&&!_0xdfe4dc['includes'](_0x3a8a88(0x763))){this['throwAndLogError'](_0x3a8a88(0x7b5));return;}}let _0x5d9bf5=_0x3ce1c5[_0x3a8a88(0x471)][_0x3df637][_0x3a8a88(0x7eb)];for(let _0x55ae7f in _0x485b86['block'])_0x485b86[_0x3a8a88(0x74f)][_0x3a8a88(0x3f2)](_0x55ae7f)&&(_0x3ce1c5[_0x3a8a88(0x471)][_0x3df637][_0x55ae7f]=_0x485b86['block'][_0x55ae7f]);if(this['logger'][_0x3a8a88(0x230)](this['instanceName']+'\x20('+this[_0x3a8a88(0x5ef)]['wuid']+_0x3a8a88(0x38a)+JSON['stringify'](_0x3ce1c5['blocks'][_0x3df637])),_0x3ce1c5[_0x3a8a88(0x471)][_0x3df637][_0x3a8a88(0x51e)]&&_0x3a8a88(0x3b3)in _0x3ce1c5[_0x3a8a88(0x471)][_0x3df637][_0x3a8a88(0x51e)]){this['logger'][_0x3a8a88(0x230)](this['instanceName']+'\x20('+this[_0x3a8a88(0x5ef)][_0x3a8a88(0x222)]+_0x3a8a88(0x7fb));let _0x10c59e=JSON['stringify'](_0x3ce1c5[_0x3a8a88(0x471)][_0x3df637]['apirequest'][_0x3a8a88(0x3b3)],null,0x1);_0x10c59e[_0x3a8a88(0x4ba)]>0x2&&(_0x10c59e=_0x10c59e['substring'](0x1,_0x10c59e[_0x3a8a88(0x4ba)]-0x1)[_0x3a8a88(0x3dd)]()),_0x3ce1c5[_0x3a8a88(0x471)][_0x3df637]['apirequest'][_0x3a8a88(0x758)]=_0x10c59e;}if(_0x3ce1c5[_0x3a8a88(0x471)][_0x3df637][_0x3a8a88(0x51e)]&&_0x3a8a88(0x8c2)in _0x3ce1c5['blocks'][_0x3df637][_0x3a8a88(0x51e)]&&!(_0x3a8a88(0x5e6)in _0x3ce1c5[_0x3a8a88(0x471)][_0x3df637][_0x3a8a88(0x51e)])){this[_0x3a8a88(0x55f)][_0x3a8a88(0x230)](this[_0x3a8a88(0x84b)]+'\x20('+this[_0x3a8a88(0x5ef)][_0x3a8a88(0x222)]+_0x3a8a88(0x2c2)),_0x3ce1c5['blocks'][_0x3df637][_0x3a8a88(0x51e)][_0x3a8a88(0x24d)]=!0x1;let _0x5b4315=JSON['stringify'](_0x3ce1c5[_0x3a8a88(0x471)][_0x3df637][_0x3a8a88(0x51e)]['body'],null,0x2);_0x3ce1c5['blocks'][_0x3df637][_0x3a8a88(0x51e)][_0x3a8a88(0x5e6)]=_0x5b4315;}if(_0x3ce1c5['blocks'][_0x3df637][_0x3a8a88(0x51e)]&&'bodyString'in _0x3ce1c5[_0x3a8a88(0x471)][_0x3df637][_0x3a8a88(0x51e)]){_0x3ce1c5[_0x3a8a88(0x471)][_0x3df637][_0x3a8a88(0x51e)][_0x3a8a88(0x24d)]=!0x1;let _0x178d20=_0x3ce1c5[_0x3a8a88(0x471)][_0x3df637]['apirequest']['bodyString'],_0x4c4228=this[_0x3a8a88(0x593)](_0x178d20);_0x3ce1c5[_0x3a8a88(0x471)][_0x3df637][_0x3a8a88(0x51e)]['bodyString']=_0x4c4228['result'],_0x3ce1c5[_0x3a8a88(0x471)][_0x3df637][_0x3a8a88(0x51e)][_0x3a8a88(0x24d)]=_0x4c4228[_0x3a8a88(0x37f)];}let _0x4fcb57=_0x3ce1c5[_0x3a8a88(0x471)][_0x3df637]['groupId'];_0x5d9bf5!==_0x4fcb57?(this[_0x3a8a88(0x5e9)](_0x3ce1c5['blocks'],_0x5d9bf5),this['reorderBlocks'](_0x3ce1c5['blocks'],_0x4fcb57)):this[_0x3a8a88(0x5e9)](_0x3ce1c5[_0x3a8a88(0x471)],_0x5d9bf5);}[a0_0xd17613(0x593)](_0x3aba31){const _0x79ebab=a0_0xd17613;let _0x144033='\u205f',_0x17d499=!0x1,_0x3dee0a='';for(let _0x34ecfa=0x0;_0x34ecfa<_0x3aba31[_0x79ebab(0x4ba)];_0x34ecfa++){let _0x4d2adc=_0x3aba31[_0x34ecfa];_0x4d2adc==='\x22'&&(_0x34ecfa===0x0||_0x3aba31[_0x34ecfa-0x1]!=='\x5c')&&(_0x17d499=!_0x17d499),!(!_0x17d499&&(_0x4d2adc==='\x0a'||_0x4d2adc==='\x20'||_0x4d2adc===_0x144033))&&(_0x3dee0a+=_0x4d2adc);}let _0x395673={},_0x3a6867=9876543210.1234,_0x59cf25=_0x3dee0a[_0x79ebab(0x523)](/\{\{([^}]+)\}\}/g,_0x36b225=>{let _0xc26832=_0x36b225,_0x2739ae=''+_0x3a6867;return _0x395673[_0x2739ae]=_0xc26832,_0x3a6867+=0.0001,_0x2739ae;}),_0xfe250f='',_0x4b34df=!0x1;try{let _0x51db99=JSON[_0x79ebab(0x5ac)](_0x59cf25);_0xfe250f=JSON[_0x79ebab(0x78e)](_0x51db99,null,0x2),_0xfe250f=_0xfe250f['replace'](/\n( +)/g,(_0x2e4bd7,_0x3b2587)=>{const _0xb09868=_0x79ebab;let _0x31a4b2=_0x3b2587[_0xb09868(0x4ba)];return'\x0a'+_0x144033['repeat'](_0x31a4b2*0x2);}),_0xfe250f=_0xfe250f[_0x79ebab(0x523)](/(\d{10,}\.\d+)/g,_0x287e78=>_0x395673[_0x287e78]||_0x287e78);}catch(_0xc75af){this[_0x79ebab(0x55f)][_0x79ebab(0x37f)](_0x79ebab(0x2b2)+_0xc75af),_0xfe250f=_0x3aba31,_0x4b34df=!0x0;}return{'result':_0xfe250f,'error':_0x4b34df};}['addBlock'](_0x59ad97,_0x4dcaff){const _0x40fa63=a0_0xd17613;if(_0x4dcaff[_0x40fa63(0x74f)][_0x40fa63(0x519)]===_0x40fa63(0x4f5)){this[_0x40fa63(0x5b3)](_0x40fa63(0x7a5));return;}if(_0x4dcaff['block'][_0x40fa63(0x51e)]&&_0x40fa63(0x3b3)in _0x4dcaff[_0x40fa63(0x74f)]['apirequest']){this[_0x40fa63(0x55f)]['verbose'](this['instanceName']+'\x20('+this[_0x40fa63(0x5ef)][_0x40fa63(0x222)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x4d3430=JSON[_0x40fa63(0x78e)](_0x4dcaff[_0x40fa63(0x74f)][_0x40fa63(0x51e)][_0x40fa63(0x3b3)],null,0x1);_0x4d3430['length']>0x2&&(_0x4d3430=_0x4d3430['substring'](0x1,_0x4d3430[_0x40fa63(0x4ba)]-0x1)['trim']()),_0x4dcaff[_0x40fa63(0x74f)][_0x40fa63(0x51e)][_0x40fa63(0x758)]=_0x4d3430;}_0x4dcaff['block']['apirequest']&&_0x40fa63(0x8c2)in _0x4dcaff[_0x40fa63(0x74f)]['apirequest']&&(this[_0x40fa63(0x55f)][_0x40fa63(0x230)](this[_0x40fa63(0x84b)]+'\x20('+this['instance'][_0x40fa63(0x222)]+_0x40fa63(0x2c2)),_0x4dcaff[_0x40fa63(0x74f)][_0x40fa63(0x51e)][_0x40fa63(0x5e6)]=JSON[_0x40fa63(0x78e)](_0x4dcaff['block']['apirequest'][_0x40fa63(0x8c2)],null,0x1)['trim']()),_0x59ad97[_0x40fa63(0x471)]['push'](_0x4dcaff['block']),this[_0x40fa63(0x5e9)](_0x59ad97[_0x40fa63(0x471)],_0x4dcaff[_0x40fa63(0x74f)]['groupId']);}[a0_0xd17613(0x5e9)](_0x4e949b,_0x279289){const _0x261112=a0_0xd17613;let _0x17155f=_0x4e949b[_0x261112(0x736)](_0x3d58b1=>_0x3d58b1[_0x261112(0x7eb)]===_0x279289);_0x17155f[_0x261112(0x730)]((_0x14219b,_0x268b81)=>_0x14219b[_0x261112(0x7b6)]-_0x268b81['order']),_0x17155f[_0x261112(0x2a4)]((_0x55ecfa,_0x29b6b2)=>_0x55ecfa[_0x261112(0x7b6)]=_0x29b6b2+0x1);}async[a0_0xd17613(0x5b0)](_0x2227d4){const _0x139757=a0_0xd17613;try{if(this[_0x139757(0x55f)][_0x139757(0x230)](this[_0x139757(0x84b)]+'\x20('+this[_0x139757(0x5ef)]['wuid']+_0x139757(0x72c)),!_0x2227d4||!_0x2227d4[_0x139757(0x1be)]){this[_0x139757(0x5b3)]('Data\x20inválida\x20fornecida');return;}if(!this[_0x139757(0x3f3)]['flows'][_0x139757(0x357)](_0x33c7db=>_0x33c7db[_0x139757(0x19a)]===_0x2227d4[_0x139757(0x19a)]))throw this[_0x139757(0x55f)][_0x139757(0x230)](this[_0x139757(0x84b)]+'\x20('+this[_0x139757(0x5ef)][_0x139757(0x222)]+_0x139757(0x242)+_0x2227d4['_id']+_0x139757(0x5f0)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x1acb18=await this['repository'][_0x139757(0x177)][_0x139757(0x86d)]({'where':{'_id':_0x2227d4['_id']}});if(!_0x1acb18||!_0x1acb18[_0x139757(0x2f1)]?.[_0x139757(0x831)](this['instance'][_0x139757(0x222)]))throw this[_0x139757(0x55f)][_0x139757(0x37f)](this[_0x139757(0x84b)]+'\x20('+this[_0x139757(0x5ef)][_0x139757(0x222)]+_0x139757(0x743)+_0x2227d4[_0x139757(0x19a)]+_0x139757(0x4aa)),new m(_0x139757(0x336)+_0x2227d4['_id']+_0x139757(0x4aa));if(!_0x1acb18[_0x139757(0x7e2)]?.[_0x139757(0x831)](this[_0x139757(0x5ef)]['wuid']))throw new m(_0x139757(0x436));let {replyOption:_0x55bf9a}=_0x2227d4;_0x55bf9a?.['delete']?(this[_0x139757(0x7be)](_0x1acb18,_0x2227d4),this[_0x139757(0x666)](_0x1acb18[_0x139757(0x30c)],_0x2227d4[_0x139757(0x1be)][_0x139757(0x176)])):_0x55bf9a[_0x139757(0x19a)]?(await this[_0x139757(0x229)](_0x1acb18,_0x2227d4),this[_0x139757(0x666)](_0x1acb18['replyOptions'],_0x2227d4[_0x139757(0x1be)][_0x139757(0x176)])):(this[_0x139757(0x23a)](_0x1acb18,_0x2227d4),this[_0x139757(0x666)](_0x1acb18['replyOptions'],_0x2227d4['replyOption']['blockId']));let _0x2613ff=await this[_0x139757(0x735)]['flow'][_0x139757(0x8ae)](_0x1acb18[_0x139757(0x19a)],_0x1acb18);if(!_0x2613ff)throw new Error(_0x139757(0x211));return _0x2613ff;}catch(_0x314bb6){this[_0x139757(0x5b3)]('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x314bb6);}}['reorderReplyOptions'](_0x17ea52,_0x77e787){const _0x6af29f=a0_0xd17613;_0x17ea52[_0x6af29f(0x2a4)](_0x1d260b=>{const _0x1c339c=_0x6af29f;_0x1d260b['blockId']===_0x77e787&&_0x1d260b['order']===void 0x0&&(_0x1d260b[_0x1c339c(0x7b6)]=0x270f);});let _0x53b2a8=_0x17ea52[_0x6af29f(0x736)](_0x349bc0=>_0x349bc0[_0x6af29f(0x176)]===_0x77e787);_0x53b2a8[_0x6af29f(0x730)]((_0x4218a2,_0x4b5c19)=>_0x4218a2['order']-_0x4b5c19['order']),_0x53b2a8['forEach']((_0x14e980,_0x33119c)=>{const _0x19ceba=_0x6af29f;_0x14e980[_0x19ceba(0x7b6)]=_0x33119c+0x1;}),_0x17ea52[_0x6af29f(0x2a4)](_0x1f9c3e=>{const _0x518593=_0x6af29f;if(_0x1f9c3e[_0x518593(0x176)]===_0x77e787){let _0x4ae09f=_0x53b2a8['find'](_0x1b7e3b=>_0x1b7e3b[_0x518593(0x19a)]&&_0x1f9c3e[_0x518593(0x19a)]&&_0x1b7e3b['_id'][_0x518593(0x883)]()===_0x1f9c3e['_id'][_0x518593(0x883)]());_0x4ae09f&&(_0x1f9c3e[_0x518593(0x7b6)]=_0x4ae09f['order']);}});}[a0_0xd17613(0x7be)](_0x5712bf,_0x26904f){const _0xbf52e6=a0_0xd17613;let {replyOption:_0x2eb9fe}=_0x26904f;if(!_0x2eb9fe['_id']){this[_0xbf52e6(0x5b3)]('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x5712bf['replyOptions'][_0xbf52e6(0x357)](_0x5207ce=>_0x5207ce[_0xbf52e6(0x19a)]['toString']()===_0x26904f[_0xbf52e6(0x1be)][_0xbf52e6(0x19a)][_0xbf52e6(0x883)]())){this[_0xbf52e6(0x5b3)](_0xbf52e6(0x64a)+_0x2eb9fe[_0xbf52e6(0x19a)]+'\x20não\x20encontrado');return;}_0x5712bf[_0xbf52e6(0x30c)]=_0x5712bf[_0xbf52e6(0x30c)][_0xbf52e6(0x736)](_0x41ba9f=>_0x41ba9f[_0xbf52e6(0x19a)][_0xbf52e6(0x883)]()!==_0x26904f['replyOption'][_0xbf52e6(0x19a)][_0xbf52e6(0x883)]());}async[a0_0xd17613(0x229)](_0x4a9b90,_0x4bd0db){const _0x41f3f6=a0_0xd17613;let _0x43dca8=_0x4a9b90['replyOptions'][_0x41f3f6(0x69c)](_0x3e8745=>_0x3e8745[_0x41f3f6(0x19a)][_0x41f3f6(0x883)]()===_0x4bd0db[_0x41f3f6(0x1be)][_0x41f3f6(0x19a)][_0x41f3f6(0x883)]());if(_0x43dca8===-0x1){this[_0x41f3f6(0x5b3)](_0x41f3f6(0x64a)+_0x4bd0db[_0x41f3f6(0x1be)]['_id']+_0x41f3f6(0x774));return;}for(let _0x1896bd in _0x4bd0db[_0x41f3f6(0x1be)])_0x4bd0db[_0x41f3f6(0x1be)][_0x41f3f6(0x3f2)](_0x1896bd)&&(_0x4a9b90[_0x41f3f6(0x30c)][_0x43dca8][_0x1896bd]=_0x4bd0db[_0x41f3f6(0x1be)][_0x1896bd]);}[a0_0xd17613(0x23a)](_0x33fa06,_0x558ae8){const _0x3c38a0=a0_0xd17613;_0x33fa06['replyOptions'][_0x3c38a0(0x668)](_0x558ae8[_0x3c38a0(0x1be)]);}async['editFlowGroup'](_0xfe4ca0){const _0x3b77c6=a0_0xd17613;this[_0x3b77c6(0x55f)][_0x3b77c6(0x230)](this[_0x3b77c6(0x84b)]+'\x20('+this['instance'][_0x3b77c6(0x222)]+_0x3b77c6(0x651)+JSON[_0x3b77c6(0x78e)](_0xfe4ca0,null,0x2));try{if(this[_0x3b77c6(0x55f)][_0x3b77c6(0x230)](this[_0x3b77c6(0x84b)]+'\x20('+this[_0x3b77c6(0x5ef)][_0x3b77c6(0x222)]+_0x3b77c6(0x88c)),!this[_0x3b77c6(0x3f3)]['flows']['find'](_0x4f16f6=>_0x4f16f6[_0x3b77c6(0x19a)]===_0xfe4ca0[_0x3b77c6(0x19a)]))throw this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x3b77c6(0x222)]+_0x3b77c6(0x242)+_0xfe4ca0['_id']+_0x3b77c6(0x5f0)),new m(_0x3b77c6(0x25a));let _0xc92f55=await this['repository'][_0x3b77c6(0x177)]['findOne']({'where':{'_id':_0xfe4ca0[_0x3b77c6(0x19a)]}});if(!_0xc92f55||!_0xc92f55['whoCanUse']?.[_0x3b77c6(0x831)](this['instance'][_0x3b77c6(0x222)]))throw this[_0x3b77c6(0x55f)][_0x3b77c6(0x37f)](this[_0x3b77c6(0x84b)]+'\x20('+this[_0x3b77c6(0x5ef)]['wuid']+_0x3b77c6(0x743)+_0xfe4ca0[_0x3b77c6(0x19a)]+_0x3b77c6(0x4aa)),new m('Flow\x20\x27'+_0xfe4ca0[_0x3b77c6(0x19a)]+_0x3b77c6(0x4aa));if(!_0xc92f55[_0x3b77c6(0x7e2)]?.[_0x3b77c6(0x831)](this[_0x3b77c6(0x5ef)][_0x3b77c6(0x222)]))throw new m(_0x3b77c6(0x436));if(_0xfe4ca0[_0x3b77c6(0x58d)]&&_0xfe4ca0[_0x3b77c6(0x58d)]?.[_0x3b77c6(0x5b4)]===!0x0){if(this[_0x3b77c6(0x55f)][_0x3b77c6(0x230)](this[_0x3b77c6(0x84b)]+'\x20('+this[_0x3b77c6(0x5ef)][_0x3b77c6(0x222)]+_0x3b77c6(0x81f)),_0xfe4ca0[_0x3b77c6(0x58d)][_0x3b77c6(0x6db)]===!0x0)return{'message':_0x3b77c6(0x852)};if(_0xc92f55[_0x3b77c6(0x471)][_0x3b77c6(0x884)](_0x4181b1=>_0x4181b1[_0x3b77c6(0x7eb)][_0x3b77c6(0x883)]()===_0xfe4ca0[_0x3b77c6(0x58d)][_0x3b77c6(0x19a)]))return this[_0x3b77c6(0x55f)]['verbose'](this[_0x3b77c6(0x84b)]+'\x20('+this[_0x3b77c6(0x5ef)][_0x3b77c6(0x222)]+_0x3b77c6(0x5ff)),{'message':_0x3b77c6(0x660)};_0xc92f55[_0x3b77c6(0x348)]=_0xc92f55[_0x3b77c6(0x348)][_0x3b77c6(0x736)](_0x26e3b8=>_0x26e3b8[_0x3b77c6(0x19a)]['toString']()!==_0xfe4ca0[_0x3b77c6(0x58d)]['_id']);}else{if(_0xfe4ca0[_0x3b77c6(0x58d)]){if(_0xfe4ca0[_0x3b77c6(0x58d)]['default']===!0x0)return{'message':_0x3b77c6(0x85e)};if(_0xfe4ca0[_0x3b77c6(0x58d)][_0x3b77c6(0x19a)]){let _0x53416a=_0xc92f55[_0x3b77c6(0x348)][_0x3b77c6(0x357)](_0x433b7a=>_0x433b7a[_0x3b77c6(0x19a)][_0x3b77c6(0x883)]()===_0xfe4ca0[_0x3b77c6(0x58d)][_0x3b77c6(0x19a)]);_0x53416a&&(_0xfe4ca0['group']['x']<0x0&&(_0xfe4ca0[_0x3b77c6(0x58d)]['x']=0x0),_0xfe4ca0[_0x3b77c6(0x58d)]['y']<0x0&&(_0xfe4ca0[_0x3b77c6(0x58d)]['y']=0x0),Object[_0x3b77c6(0x5d7)](_0x53416a,_0xfe4ca0[_0x3b77c6(0x58d)]));}else _0xc92f55[_0x3b77c6(0x348)][_0x3b77c6(0x668)](_0xfe4ca0[_0x3b77c6(0x58d)]);}}let _0x3280f6=await this[_0x3b77c6(0x735)][_0x3b77c6(0x177)][_0x3b77c6(0x8ae)](_0xc92f55[_0x3b77c6(0x19a)],_0xc92f55);if(!_0x3280f6)throw new Error(_0x3b77c6(0x211));return _0x3280f6;}catch(_0x5aec95){let _0x258376=_0x3b77c6(0x1c0),_0x3b820c=_0x5aec95 instanceof Error?_0x5aec95['message']:typeof _0x5aec95==_0x3b77c6(0x629)?JSON[_0x3b77c6(0x78e)](_0x5aec95):_0x5aec95,_0x7f2f5d=_0x258376+':\x20'+_0x3b820c;throw this[_0x3b77c6(0x55f)]['error'](this['instanceName']+'\x20('+this['instance'][_0x3b77c6(0x222)]+_0x3b77c6(0x653)+_0x7f2f5d),new m(_0x7f2f5d);}}async[a0_0xd17613(0x4bb)](_0x2307c1){const _0x2679fa=a0_0xd17613;try{if(this[_0x2679fa(0x55f)][_0x2679fa(0x230)](this[_0x2679fa(0x84b)]+'\x20('+this['instance'][_0x2679fa(0x222)]+'):\x20Editando\x20condição\x20do\x20fluxo...'),!this[_0x2679fa(0x3f3)][_0x2679fa(0x3e1)][_0x2679fa(0x357)](_0x575d4e=>_0x575d4e[_0x2679fa(0x19a)]===_0x2307c1[_0x2679fa(0x19a)]))throw this[_0x2679fa(0x55f)][_0x2679fa(0x230)](this[_0x2679fa(0x84b)]+'\x20('+this['instance'][_0x2679fa(0x222)]+_0x2679fa(0x242)+_0x2307c1[_0x2679fa(0x19a)]+_0x2679fa(0x5f0)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x547b43=await this[_0x2679fa(0x735)][_0x2679fa(0x177)][_0x2679fa(0x86d)]({'where':{'_id':_0x2307c1['_id']}});if(!_0x547b43||!_0x547b43[_0x2679fa(0x2f1)]?.[_0x2679fa(0x831)](this[_0x2679fa(0x5ef)][_0x2679fa(0x222)]))throw this[_0x2679fa(0x55f)][_0x2679fa(0x37f)](this['instanceName']+'\x20('+this[_0x2679fa(0x5ef)]['wuid']+_0x2679fa(0x743)+_0x2307c1[_0x2679fa(0x19a)]+_0x2679fa(0x4aa)),new m(_0x2679fa(0x336)+_0x2307c1[_0x2679fa(0x19a)]+_0x2679fa(0x4aa));if(!_0x547b43['whoCanEdit']?.['includes'](this[_0x2679fa(0x5ef)]['wuid']))throw new m(_0x2679fa(0x436));let _0xd3ed8d=!0x1;if(_0x2307c1[_0x2679fa(0x79a)]?.['delete']===!0x0)_0x547b43[_0x2679fa(0x5cd)]=_0x547b43[_0x2679fa(0x5cd)]['filter'](_0x2fe1d8=>_0x2fe1d8&&_0x2307c1[_0x2679fa(0x79a)]&&_0x2fe1d8[_0x2679fa(0x19a)]&&_0x2307c1['condition'][_0x2679fa(0x19a)]&&_0x2fe1d8['_id'][_0x2679fa(0x883)]()!==_0x2307c1[_0x2679fa(0x79a)][_0x2679fa(0x19a)]['toString']()),_0xd3ed8d=!0x0;else{let _0x539581=_0x547b43[_0x2679fa(0x5cd)][_0x2679fa(0x357)](_0x5dafe5=>_0x5dafe5&&_0x2307c1[_0x2679fa(0x79a)]&&_0x5dafe5[_0x2679fa(0x19a)]&&_0x2307c1[_0x2679fa(0x79a)][_0x2679fa(0x19a)]&&_0x5dafe5[_0x2679fa(0x19a)]['toString']()===_0x2307c1[_0x2679fa(0x79a)][_0x2679fa(0x19a)][_0x2679fa(0x883)]());_0x539581?(_0xd3ed8d=_0x539581[_0x2679fa(0x7b6)]!==_0x2307c1['condition'][_0x2679fa(0x7b6)],Object[_0x2679fa(0x5d7)](_0x539581,_0x2307c1[_0x2679fa(0x79a)])):(_0x547b43['conditions'][_0x2679fa(0x668)](_0x2307c1[_0x2679fa(0x79a)]),_0xd3ed8d=!0x0);}if(_0xd3ed8d){_0x547b43[_0x2679fa(0x5cd)][_0x2679fa(0x730)]((_0x41a2ef,_0x45198c)=>_0x41a2ef[_0x2679fa(0x7b6)]>_0x45198c[_0x2679fa(0x7b6)]?0x1:_0x45198c[_0x2679fa(0x7b6)]>_0x41a2ef[_0x2679fa(0x7b6)]?-0x1:0x0);for(let _0x741810=0x0;_0x741810<_0x547b43[_0x2679fa(0x5cd)][_0x2679fa(0x4ba)];_0x741810++)_0x547b43[_0x2679fa(0x5cd)][_0x741810]['order']=_0x741810+0x1;_0x547b43[_0x2679fa(0x5cd)][_0x2679fa(0x4ba)]>0x0&&(_0x547b43[_0x2679fa(0x5cd)][0x0][_0x2679fa(0x4eb)]=_0x2679fa(0x78c));}let _0x4cd5f3=await this[_0x2679fa(0x735)][_0x2679fa(0x177)]['updateOne'](_0x547b43[_0x2679fa(0x19a)],_0x547b43);if(!_0x4cd5f3)throw new Error(_0x2679fa(0x211));return _0x4cd5f3;}catch(_0x1911ca){let _0x4680d5=_0x2679fa(0x1fa),_0x188a31=_0x1911ca instanceof Error?_0x1911ca[_0x2679fa(0x6e8)]:typeof _0x1911ca==_0x2679fa(0x629)?JSON[_0x2679fa(0x78e)](_0x1911ca):_0x1911ca,_0x1caf9a=_0x4680d5+':\x20'+_0x188a31;throw this[_0x2679fa(0x55f)][_0x2679fa(0x37f)](this[_0x2679fa(0x84b)]+'\x20('+this[_0x2679fa(0x5ef)][_0x2679fa(0x222)]+_0x2679fa(0x653)+_0x1caf9a),new m(_0x1caf9a);}}async[a0_0xd17613(0x5fd)](_0x413a9c){const _0x405b99=a0_0xd17613;try{if(this['logger'][_0x405b99(0x230)](this['instanceName']+'\x20('+this[_0x405b99(0x5ef)][_0x405b99(0x222)]+_0x405b99(0x86c)),!this['AutomateSystem'][_0x405b99(0x3e1)]['find'](_0x27e1d4=>_0x27e1d4[_0x405b99(0x19a)]===_0x413a9c[_0x405b99(0x19a)]))throw this[_0x405b99(0x55f)]['verbose'](this[_0x405b99(0x84b)]+'\x20('+this[_0x405b99(0x5ef)][_0x405b99(0x222)]+_0x405b99(0x242)+_0x413a9c[_0x405b99(0x19a)]+_0x405b99(0x5f0)),new m(_0x405b99(0x25a));let _0x42ee0d=await this[_0x405b99(0x735)][_0x405b99(0x177)][_0x405b99(0x86d)]({'where':{'_id':_0x413a9c[_0x405b99(0x19a)]}});if(!_0x42ee0d||!_0x42ee0d['whoCanUse']?.[_0x405b99(0x831)](this[_0x405b99(0x5ef)][_0x405b99(0x222)]))throw this[_0x405b99(0x55f)]['error'](this['instanceName']+'\x20('+this[_0x405b99(0x5ef)][_0x405b99(0x222)]+_0x405b99(0x743)+_0x413a9c[_0x405b99(0x19a)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x405b99(0x336)+_0x413a9c['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x42ee0d[_0x405b99(0x7e2)]?.[_0x405b99(0x831)](this[_0x405b99(0x5ef)]['wuid']))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let _0x5ccc46=!0x1;if(_0x413a9c[_0x405b99(0x78b)]?.['delete']===!0x0)_0x42ee0d[_0x405b99(0x275)]=_0x42ee0d[_0x405b99(0x275)][_0x405b99(0x736)](_0x4015d9=>_0x4015d9&&_0x413a9c[_0x405b99(0x78b)]&&_0x4015d9[_0x405b99(0x19a)]&&_0x413a9c[_0x405b99(0x78b)]['_id']&&_0x4015d9[_0x405b99(0x19a)][_0x405b99(0x883)]()!==_0x413a9c[_0x405b99(0x78b)][_0x405b99(0x19a)][_0x405b99(0x883)]()),_0x5ccc46=!0x0;else{let _0x31c6c3=_0x42ee0d[_0x405b99(0x275)]['find'](_0xa9f940=>_0xa9f940&&_0x413a9c['varedit']&&_0xa9f940[_0x405b99(0x19a)]&&_0x413a9c['varedit']['_id']&&_0xa9f940[_0x405b99(0x19a)][_0x405b99(0x883)]()===_0x413a9c[_0x405b99(0x78b)]['_id'][_0x405b99(0x883)]());_0x31c6c3?(_0x5ccc46=_0x31c6c3[_0x405b99(0x7b6)]!==_0x413a9c[_0x405b99(0x78b)]['order'],Object[_0x405b99(0x5d7)](_0x31c6c3,_0x413a9c[_0x405b99(0x78b)])):(_0x42ee0d[_0x405b99(0x275)][_0x405b99(0x668)](_0x413a9c[_0x405b99(0x78b)]),_0x5ccc46=!0x0);}if(_0x5ccc46){_0x42ee0d['varedits']['sort']((_0x32686f,_0x2012b0)=>_0x32686f[_0x405b99(0x7b6)]>_0x2012b0['order']?0x1:_0x2012b0[_0x405b99(0x7b6)]>_0x32686f[_0x405b99(0x7b6)]?-0x1:0x0);for(let _0x3fd1bb=0x0;_0x3fd1bb<_0x42ee0d[_0x405b99(0x275)][_0x405b99(0x4ba)];_0x3fd1bb++)_0x42ee0d[_0x405b99(0x275)][_0x3fd1bb][_0x405b99(0x7b6)]=_0x3fd1bb+0x1;}let _0x472b29=await this[_0x405b99(0x735)]['flow'][_0x405b99(0x8ae)](_0x42ee0d[_0x405b99(0x19a)],_0x42ee0d);if(!_0x472b29)throw new Error(_0x405b99(0x211));return _0x472b29;}catch(_0x494f47){let _0x3938fb=_0x405b99(0x1fa),_0x2afa96=_0x494f47 instanceof Error?_0x494f47[_0x405b99(0x6e8)]:typeof _0x494f47==_0x405b99(0x629)?JSON[_0x405b99(0x78e)](_0x494f47):_0x494f47,_0x225763=_0x3938fb+':\x20'+_0x2afa96;throw this[_0x405b99(0x55f)][_0x405b99(0x37f)](this[_0x405b99(0x84b)]+'\x20('+this[_0x405b99(0x5ef)][_0x405b99(0x222)]+_0x405b99(0x653)+_0x225763),new m(_0x225763);}}async['editFlowVariable'](_0x5d6388){const _0x5540d1=a0_0xd17613;try{if(this[_0x5540d1(0x55f)][_0x5540d1(0x230)](this[_0x5540d1(0x84b)]+'\x20('+this[_0x5540d1(0x5ef)][_0x5540d1(0x222)]+_0x5540d1(0x2c8)),!this['AutomateSystem'][_0x5540d1(0x3e1)][_0x5540d1(0x357)](_0x5baef8=>_0x5baef8[_0x5540d1(0x19a)]===_0x5d6388['_id']))throw this['logger'][_0x5540d1(0x230)](this[_0x5540d1(0x84b)]+'\x20('+this['instance']['wuid']+_0x5540d1(0x242)+_0x5d6388['_id']+_0x5540d1(0x5f0)),new m(_0x5540d1(0x25a));let _0x15fa9f=await this[_0x5540d1(0x735)][_0x5540d1(0x177)][_0x5540d1(0x86d)]({'where':{'_id':_0x5d6388[_0x5540d1(0x19a)]}});if(!_0x15fa9f||!_0x15fa9f[_0x5540d1(0x2f1)]?.[_0x5540d1(0x831)](this[_0x5540d1(0x5ef)][_0x5540d1(0x222)]))throw this['logger']['error'](this[_0x5540d1(0x84b)]+'\x20('+this[_0x5540d1(0x5ef)][_0x5540d1(0x222)]+_0x5540d1(0x743)+_0x5d6388[_0x5540d1(0x19a)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x5540d1(0x336)+_0x5d6388['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x15fa9f[_0x5540d1(0x7e2)]?.['includes'](this[_0x5540d1(0x5ef)][_0x5540d1(0x222)]))throw new m(_0x5540d1(0x436));_0x5d6388[_0x5540d1(0x6b5)]['name']=_0x5d6388['variable']['name'][_0x5540d1(0x3dd)](),_0x5d6388[_0x5540d1(0x6b5)]['name']['startsWith']('_')&&(_0x5d6388['variable'][_0x5540d1(0x4f2)]=_0x5d6388[_0x5540d1(0x6b5)][_0x5540d1(0x4f2)][_0x5540d1(0x302)](0x1)),_0x5d6388['variable'][_0x5540d1(0x4f2)]=_0x5d6388[_0x5540d1(0x6b5)]['name'][_0x5540d1(0x3dd)]();let _0x12c42e=_0x15fa9f[_0x5540d1(0x67b)][_0x5540d1(0x357)](_0x403202=>_0x403202[_0x5540d1(0x4f2)]===_0x5d6388[_0x5540d1(0x6b5)][_0x5540d1(0x4f2)]);if(_0x12c42e?.[_0x5540d1(0x4d3)]===!0x0)throw new Error(_0x5540d1(0x1c1));if(_0x5d6388[_0x5540d1(0x6b5)]?.['delete']===!0x0){if(!_0x12c42e)return{'message':'Variável\x20não\x20encontrada!'};_0x15fa9f[_0x5540d1(0x67b)]=_0x15fa9f[_0x5540d1(0x67b)][_0x5540d1(0x736)](_0x3e1fb2=>_0x3e1fb2[_0x5540d1(0x4f2)]!==_0x5d6388[_0x5540d1(0x6b5)][_0x5540d1(0x4f2)]);}else _0x12c42e?Object[_0x5540d1(0x5d7)](_0x12c42e,_0x5d6388[_0x5540d1(0x6b5)]):_0x15fa9f['variables']['push'](_0x5d6388[_0x5540d1(0x6b5)]);let _0x2b68df=await this[_0x5540d1(0x735)][_0x5540d1(0x177)][_0x5540d1(0x8ae)](_0x15fa9f[_0x5540d1(0x19a)],_0x15fa9f);if(!_0x2b68df)throw new Error(_0x5540d1(0x211));return _0x2b68df;}catch(_0x478d3a){let _0x5ecc17=_0x5540d1(0x6b0),_0x1247d0=_0x478d3a instanceof Error?_0x478d3a[_0x5540d1(0x6e8)]:typeof _0x478d3a==_0x5540d1(0x629)?JSON[_0x5540d1(0x78e)](_0x478d3a):_0x478d3a,_0x1da8db=_0x5ecc17+':\x20'+_0x1247d0;throw this[_0x5540d1(0x55f)][_0x5540d1(0x37f)](this[_0x5540d1(0x84b)]+'\x20('+this[_0x5540d1(0x5ef)][_0x5540d1(0x222)]+'):\x20'+_0x1da8db),new m(_0x1da8db);}}async[a0_0xd17613(0x5ed)](_0x58755f){const _0x18e144=a0_0xd17613;let _0x228659=null;try{if(!this['AutomateSystem']?.[_0x18e144(0x1c4)][_0x18e144(0x67d)])throw new m(_0x18e144(0x48b));this[_0x18e144(0x55f)]['verbose'](this[_0x18e144(0x84b)]+'\x20('+this[_0x18e144(0x5ef)]['wuid']+_0x18e144(0x41d));let _0x4e723b=(await this[_0x18e144(0x544)]({'numbers':[_0x58755f[_0x18e144(0x2dd)]]}))[0x0];if(!_0x4e723b[_0x18e144(0x250)]&&!(0x0,w[_0x18e144(0x408)])(_0x4e723b[_0x18e144(0x773)])&&!_0x4e723b[_0x18e144(0x773)][_0x18e144(0x831)](_0x18e144(0x1b9)))throw _0x228659=JSON[_0x18e144(0x78e)](_0x4e723b,null,0x2),new m(_0x4e723b);let _0x30a8c5;if(_0x58755f[_0x18e144(0x4f2)]['length']===0x24&&/^[0-9a-fA-F-]{36}$/[_0x18e144(0x5fa)](_0x58755f[_0x18e144(0x4f2)])?_0x30a8c5=this['AutomateSystem'][_0x18e144(0x3e1)][_0x18e144(0x357)](_0x2a05c8=>_0x2a05c8[_0x18e144(0x19a)]===_0x58755f[_0x18e144(0x4f2)]):_0x30a8c5=this[_0x18e144(0x3f3)][_0x18e144(0x3e1)][_0x18e144(0x357)](_0x312ca2=>_0x312ca2['name']===_0x58755f[_0x18e144(0x4f2)]),!_0x30a8c5)throw this['logger'][_0x18e144(0x230)](this[_0x18e144(0x84b)]+'\x20('+this[_0x18e144(0x5ef)][_0x18e144(0x222)]+'):\x20Fluxo\x20\x27'+_0x58755f['name']+'\x27\x20não\x20encontrado'),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0xc0e2ff=await this[_0x18e144(0x735)]['flow'][_0x18e144(0x86d)]({'where':{'_id':_0x30a8c5[_0x18e144(0x19a)]}});if(!_0xc0e2ff||!_0xc0e2ff[_0x18e144(0x2f1)]?.[_0x18e144(0x831)](this[_0x18e144(0x5ef)][_0x18e144(0x222)]))throw this[_0x18e144(0x55f)]['error'](this[_0x18e144(0x84b)]+'\x20('+this[_0x18e144(0x5ef)][_0x18e144(0x222)]+_0x18e144(0x743)+_0x30a8c5[_0x18e144(0x19a)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),_0x228659='Flow\x20\x27'+_0x30a8c5['_id']+_0x18e144(0x4aa),new m(_0x228659);let _0x484526=await this[_0x18e144(0x3ce)](_0xc0e2ff,_0x4e723b[_0x18e144(0x773)],_0x58755f[_0x18e144(0x1a2)]);if(_0x484526){this[_0x18e144(0x55f)][_0x18e144(0x230)](this[_0x18e144(0x84b)]+'\x20('+this[_0x18e144(0x5ef)][_0x18e144(0x222)]+_0x18e144(0x66b));let _0x306b73=await this[_0x18e144(0x55d)](_0x484526);return _0x306b73&&await this[_0x18e144(0x591)](_0x484526,_0x306b73),{'message':_0x18e144(0x759)+_0x58755f['remoteJid']};}}catch(_0x4fc14e){if(this[_0x18e144(0x55f)][_0x18e144(0x37f)](this[_0x18e144(0x84b)]+'\x20('+this[_0x18e144(0x5ef)][_0x18e144(0x222)]+_0x18e144(0x3bd)+(_0x4fc14e instanceof Error?_0x4fc14e[_0x18e144(0x6e8)]:JSON[_0x18e144(0x78e)](_0x4fc14e,null,0x2))),_0x228659=_0x4fc14e instanceof Error?_0x4fc14e[_0x18e144(0x6e8)]:JSON[_0x18e144(0x78e)](_0x4fc14e,null,0x2),_0x228659)throw new m(_0x18e144(0x24a)+_0x228659);}}async[a0_0xd17613(0x4d5)](_0x19e9b7,_0x5d01c7,_0x1ab71a){const _0x513a99=a0_0xd17613;let _0x3a57f0=null;try{if(!this['AutomateSystem']?.['flowConfig']['enabled'])throw new m(_0x513a99(0x48b));if(this[_0x513a99(0x55f)]['verbose'](this[_0x513a99(0x84b)]+'\x20('+this[_0x513a99(0x5ef)]['wuid']+_0x513a99(0x41d)),_0x5d01c7){let _0x342293=(await this[_0x513a99(0x544)]({'numbers':[_0x5d01c7]}))[0x0];if(!_0x342293['exists']&&!(0x0,w[_0x513a99(0x408)])(_0x342293[_0x513a99(0x773)])&&!_0x342293[_0x513a99(0x773)][_0x513a99(0x831)]('@broadcast'))throw _0x3a57f0=JSON['stringify'](_0x342293,null,0x2),new m(_0x342293);_0x5d01c7=_0x342293[_0x513a99(0x773)];}else _0x5d01c7||(_0x5d01c7=(0x0,me['v4'])());let _0x24a5de=await this[_0x513a99(0x735)][_0x513a99(0x177)][_0x513a99(0x86d)]({'where':{'_id':_0x19e9b7}});if(!_0x24a5de||!_0x24a5de[_0x513a99(0x2f1)]?.[_0x513a99(0x831)](this[_0x513a99(0x5ef)][_0x513a99(0x222)]))throw this[_0x513a99(0x55f)]['error'](this[_0x513a99(0x84b)]+'\x20('+this[_0x513a99(0x5ef)][_0x513a99(0x222)]+_0x513a99(0x743)+_0x19e9b7+_0x513a99(0x4aa)),new m('Flow\x20\x27'+_0x19e9b7+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x466335=await this['createConversationforStartFlow'](_0x24a5de,_0x5d01c7,null);if(_0x466335){this[_0x513a99(0x55f)][_0x513a99(0x230)](this[_0x513a99(0x84b)]+'\x20('+this[_0x513a99(0x5ef)][_0x513a99(0x222)]+_0x513a99(0x6bd));let _0x51036d;if(_0x1ab71a){let _0x9efe1=_0x466335[_0x513a99(0x2a3)][_0x513a99(0x45f)],_0x2f05d7=this[_0x513a99(0x8a5)](_0x1ab71a);Object[_0x513a99(0x5d7)](_0x9efe1,_0x2f05d7),_0x466335[_0x513a99(0x2a3)][_0x513a99(0x45f)]=_0x9efe1,_0x51036d={'error':!0x1,'apiResponse':_0x1ab71a};}let _0x5d3a96=await this[_0x513a99(0x55d)](_0x466335);return _0x5d3a96&&await this[_0x513a99(0x591)](_0x466335,_0x5d3a96),{'message':_0x513a99(0x652)};}}catch(_0x5d34cf){if(this['logger'][_0x513a99(0x37f)](this['instanceName']+'\x20('+this['instance'][_0x513a99(0x222)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x5d34cf instanceof Error?_0x5d34cf[_0x513a99(0x6e8)]:JSON[_0x513a99(0x78e)](_0x5d34cf,null,0x2))),_0x3a57f0=_0x5d34cf instanceof Error?_0x5d34cf['message']:JSON[_0x513a99(0x78e)](_0x5d34cf,null,0x2),_0x3a57f0)throw new m(_0x513a99(0x24a)+_0x3a57f0);}}async[a0_0xd17613(0x80c)](_0xcbe1c2){const _0xc41c6c=a0_0xd17613;try{let _0x82a63d={'remoteJid':_0xcbe1c2,'status':_0xc41c6c(0x4c2)},_0x1fe931={'status':_0xc41c6c(0x7ec)},_0x3d9299=await this[_0xc41c6c(0x735)][_0xc41c6c(0x4de)][_0xc41c6c(0x257)](_0x82a63d,_0x1fe931,this['instance'][_0xc41c6c(0x222)]);return this[_0xc41c6c(0x55f)][_0xc41c6c(0x230)](this['instanceName']+'\x20('+this['instance'][_0xc41c6c(0x222)]+_0xc41c6c(0x258)),_0x3d9299;}catch(_0x590d06){throw this['logger'][_0xc41c6c(0x37f)](this[_0xc41c6c(0x84b)]+'\x20('+this[_0xc41c6c(0x5ef)]['wuid']+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x590d06[_0xc41c6c(0x6e8)]),_0x590d06;}}async[a0_0xd17613(0x3ce)](_0x5852a7,_0x112ea1,_0x5cad0d){const _0x1dab8a=a0_0xd17613;this[_0x1dab8a(0x55f)][_0x1dab8a(0x230)](this[_0x1dab8a(0x84b)]+'\x20('+this[_0x1dab8a(0x5ef)]['wuid']+_0x1dab8a(0x420)),await this['closeExistingConversations'](_0x112ea1);try{let _0x29a02b=require(_0x1dab8a(0x6a5))[_0x1dab8a(0x465)],_0x368c22=Date[_0x1dab8a(0x81a)](),_0x3936cb='start',_0x457ac9={},_0x16405c={},_0xebe398=this['AutomateSystem'][_0x1dab8a(0x3e1)][_0x1dab8a(0x357)](_0x5beed0=>_0x5beed0['_id']===_0x5852a7[_0x1dab8a(0x19a)]?.[_0x1dab8a(0x883)]()),_0x1af5cc=_0xebe398?.[_0x1dab8a(0x8b2)]??_0x5852a7[_0x1dab8a(0x8b2)]??0x0,_0x4f1b7a=_0xebe398?.[_0x1dab8a(0x173)]??_0x5852a7['readMessages']??!0x1,_0x2e25dd={'flowId':_0x5852a7['_id'],..._0x5852a7,'chatLog':null},_0x3c730d=await this['variablesToObject'](_0x2e25dd[_0x1dab8a(0x67b)]),_0x530b32=await this['getVariablesChat'](_0x112ea1),_0x2240a3={..._0x3c730d,..._0x530b32,'_remoteJid':_0x112ea1},_0x4eacad={'lastReceivedMessage':_0x457ac9,'lastSendMessage':_0x16405c,'lastBlockId':_0x3936cb,'lastCondition':!0x0,'realVariables':_0x2240a3};_0x2e25dd['chatLog']=_0x4eacad,_0x2e25dd['chatLog'][_0x1dab8a(0x45f)]={..._0x2240a3,..._0x5cad0d},delete _0x2e25dd['_id'],_0x2e25dd[_0x1dab8a(0x19a)]=new _0x29a02b(),_0x2e25dd[_0x1dab8a(0x4b8)]=_0x368c22,_0x2e25dd[_0x1dab8a(0x1f8)]=_0x1dab8a(0x4c2),_0x2e25dd['remoteJid']=_0x112ea1,_0x2e25dd[_0x1dab8a(0x8b2)]=_0x1af5cc,_0x2e25dd[_0x1dab8a(0x173)]=_0x4f1b7a,_0x2e25dd['_id']=_0x5852a7[_0x1dab8a(0x19a)];let _0x53d3f6=await this[_0x1dab8a(0x735)]['flowConversation']['updateOne'](_0x2e25dd[_0x1dab8a(0x19a)],_0x2e25dd,this[_0x1dab8a(0x5ef)]['wuid']);return this[_0x1dab8a(0x55f)]['verbose'](this[_0x1dab8a(0x84b)]+'\x20('+this['instance'][_0x1dab8a(0x222)]+_0x1dab8a(0x62a)),_0x53d3f6?_0x2e25dd:null;}catch(_0x1aedf5){let _0x1acb92='Erro\x20ao\x20copiar\x20o\x20documento',_0x428761=_0x1aedf5 instanceof Error?_0x1aedf5[_0x1dab8a(0x6e8)]:typeof _0x1aedf5==_0x1dab8a(0x629)?JSON['stringify'](_0x1aedf5):_0x1aedf5,_0xdd197e=_0x1acb92+':\x20'+_0x428761;throw this['logger'][_0x1dab8a(0x37f)](this[_0x1dab8a(0x84b)]+'\x20('+this['instance'][_0x1dab8a(0x222)]+_0x1dab8a(0x653)+_0xdd197e),new m(_0xdd197e);}}async[a0_0xd17613(0x56a)](_0x4bbcd6){const _0x452e88=a0_0xd17613;try{this[_0x452e88(0x55f)][_0x452e88(0x230)](this['instanceName']+'\x20('+this['instance'][_0x452e88(0x222)]+_0x452e88(0x42b)),this[_0x452e88(0x55f)][_0x452e88(0x230)](this[_0x452e88(0x84b)]+'\x20('+this[_0x452e88(0x5ef)]['wuid']+_0x452e88(0x28a)+_0x4bbcd6);let _0x21f60c={'where':{'_id':_0x4bbcd6}};return await this[_0x452e88(0x735)][_0x452e88(0x4de)][_0x452e88(0x86d)](_0x21f60c,this['instance'][_0x452e88(0x222)]);}catch(_0x2cd0c3){let _0x31a5c7=_0x452e88(0x2ec),_0x4811b4=_0x2cd0c3 instanceof Error?_0x2cd0c3[_0x452e88(0x6e8)]:typeof _0x2cd0c3==_0x452e88(0x629)?JSON[_0x452e88(0x78e)](_0x2cd0c3):_0x2cd0c3,_0x57b6f9=_0x31a5c7+':\x20'+_0x4811b4;throw this[_0x452e88(0x55f)][_0x452e88(0x37f)](this[_0x452e88(0x84b)]+'\x20('+this[_0x452e88(0x5ef)][_0x452e88(0x222)]+_0x452e88(0x653)+_0x57b6f9),new m(_0x57b6f9);}}async[a0_0xd17613(0x785)](_0x11c42b){const _0x2823db=a0_0xd17613;try{return this[_0x2823db(0x55f)][_0x2823db(0x230)](this[_0x2823db(0x84b)]+'\x20('+this[_0x2823db(0x5ef)][_0x2823db(0x222)]+_0x2823db(0x3cd)),await this['repository'][_0x2823db(0x4de)]['find'](_0x11c42b,this['instance'][_0x2823db(0x222)]);}catch(_0x398080){let _0x1ea079=_0x2823db(0x538),_0x7bcc5f=_0x398080 instanceof Error?_0x398080[_0x2823db(0x6e8)]:typeof _0x398080==_0x2823db(0x629)?JSON[_0x2823db(0x78e)](_0x398080):_0x398080,_0x423a46=_0x1ea079+':\x20'+_0x7bcc5f;throw this[_0x2823db(0x55f)]['error'](this[_0x2823db(0x84b)]+'\x20('+this[_0x2823db(0x5ef)][_0x2823db(0x222)]+_0x2823db(0x653)+_0x423a46),new m(_0x423a46);}}async[a0_0xd17613(0x5e8)](_0x312943){const _0x264d16=a0_0xd17613;try{return this[_0x264d16(0x55f)][_0x264d16(0x230)](this[_0x264d16(0x84b)]+'\x20('+this['instance']['wuid']+_0x264d16(0x54b)),this['logger'][_0x264d16(0x230)](this['instanceName']+'\x20('+this['instance'][_0x264d16(0x222)]+'):\x20Query\x20params:'+_0x312943),(await this['repository'][_0x264d16(0x4de)]['deleteOne']({'where':{'_id':_0x312943[_0x264d16(0x19a)]}},this[_0x264d16(0x5ef)]['wuid']))[_0x264d16(0x431)]===0x0?{'message':_0x264d16(0x4e8)}:{'message':_0x264d16(0x40f)};}catch(_0x53d680){let _0x24e45a=_0x264d16(0x437),_0x6bc10d=_0x53d680 instanceof Error?_0x53d680[_0x264d16(0x6e8)]:typeof _0x53d680==_0x264d16(0x629)?JSON[_0x264d16(0x78e)](_0x53d680):_0x53d680,_0x459e88=_0x24e45a+':\x20'+_0x6bc10d;throw this[_0x264d16(0x55f)]['error'](this[_0x264d16(0x84b)]+'\x20('+this[_0x264d16(0x5ef)][_0x264d16(0x222)]+_0x264d16(0x653)+_0x459e88),new m(_0x459e88);}}async[a0_0xd17613(0x204)](_0x394406){const _0x485462=a0_0xd17613;try{let {_id:_0x5a45dd,chatLog:_0x49a324,status:_0x8084ca}=_0x394406;if(!_0x5a45dd)return{'message':_0x485462(0x805)};let _0x24718b={};if(_0x8084ca!==void 0x0&&(_0x24718b['status']=_0x8084ca),Object[_0x485462(0x6f6)](_0x24718b)[_0x485462(0x4ba)]===0x0)return{'message':_0x485462(0x52f)};let _0x4d997b=await this['repository'][_0x485462(0x4de)][_0x485462(0x8ae)](_0x5a45dd,_0x24718b,this[_0x485462(0x5ef)][_0x485462(0x222)]);return _0x4d997b||{'message':_0x485462(0x725)};}catch(_0x30458a){let _0x1ee37c=_0x485462(0x225),_0x59e8b5=_0x30458a instanceof Error?_0x30458a['message']:typeof _0x30458a==_0x485462(0x629)?JSON[_0x485462(0x78e)](_0x30458a):_0x30458a,_0x4ab78c=_0x1ee37c+':\x20'+_0x59e8b5;throw this['logger'][_0x485462(0x37f)](this[_0x485462(0x84b)]+'\x20('+this[_0x485462(0x5ef)][_0x485462(0x222)]+_0x485462(0x653)+_0x4ab78c),new m(_0x4ab78c);}}async[a0_0xd17613(0x28f)](_0x92edba){const _0x44c1d0=a0_0xd17613;try{_0x92edba[_0x44c1d0(0x19a)]=this[_0x44c1d0(0x564)](_0x92edba[_0x44c1d0(0x19a)]);let _0x410885=await this[_0x44c1d0(0x735)][_0x44c1d0(0x33f)][_0x44c1d0(0x86d)]({'where':{'_id':_0x92edba[_0x44c1d0(0x19a)]}},this[_0x44c1d0(0x5ef)][_0x44c1d0(0x222)]);if(!_0x410885)throw new m(_0x44c1d0(0x832));let {_id:_0x1f1662,leadInfo:_0xb9dbd6}=_0x92edba;if(!_0x1f1662)throw new Error(_0x44c1d0(0x5c0));if(_0x92edba['delete']===_0x44c1d0(0x23c))return await this[_0x44c1d0(0x3cf)](_0x92edba[_0x44c1d0(0x19a)]),await this[_0x44c1d0(0x735)]['chat'][_0x44c1d0(0x5b4)]({'where':{'_id':_0x92edba[_0x44c1d0(0x19a)]}},this[_0x44c1d0(0x5ef)][_0x44c1d0(0x222)]),await this[_0x44c1d0(0x735)][_0x44c1d0(0x6e8)][_0x44c1d0(0x5b4)]({'where':{'key':{'remoteJid':_0x92edba[_0x44c1d0(0x19a)]}}},this[_0x44c1d0(0x5ef)][_0x44c1d0(0x222)]),_0x92edba=await this['repository']['chat'][_0x44c1d0(0x8ae)]({'where':{'_id':_0x92edba[_0x44c1d0(0x19a)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x44c1d0(0x5ef)][_0x44c1d0(0x222)]),U(this[_0x44c1d0(0x84b)],_0x44c1d0(0x17c),{'chat':_0x92edba}),{'message':_0x44c1d0(0x596)};if(_0x92edba[_0x44c1d0(0x5b4)]===_0x44c1d0(0x639))return await this[_0x44c1d0(0x735)][_0x44c1d0(0x6e8)][_0x44c1d0(0x5b4)]({'where':{'key':{'remoteJid':_0x92edba[_0x44c1d0(0x19a)]}}},this[_0x44c1d0(0x5ef)][_0x44c1d0(0x222)]),_0x92edba=await this[_0x44c1d0(0x735)]['chat'][_0x44c1d0(0x8ae)]({'where':{'_id':_0x92edba[_0x44c1d0(0x19a)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x44c1d0(0x5ef)][_0x44c1d0(0x222)]),U(this[_0x44c1d0(0x84b)],_0x44c1d0(0x17c),{'chat':_0x92edba}),{'message':_0x44c1d0(0x599)};let _0xb372fa=(_0x56c7b7,_0x4046b2,_0x5b9945)=>{const _0x46cc45=_0x44c1d0;_0x56c7b7&&_0x5b9945[_0x46cc45(0x2a4)](_0x9798e=>{const _0x2eb4d1=_0x46cc45;_0x56c7b7[_0x9798e]!==void 0x0&&(_0x4046b2[_0x2eb4d1(0x1ef)+_0x9798e]=_0x56c7b7[_0x9798e]);});},_0x1914c5={};if(_0x44c1d0(0x4dc)in _0x92edba&&(this['logger'][_0x44c1d0(0x230)](this[_0x44c1d0(0x84b)]+'\x20('+this['instance'][_0x44c1d0(0x222)]+'):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20'+_0x92edba[_0x44c1d0(0x19a)]),_0x92edba[_0x44c1d0(0x4dc)]=_0x92edba[_0x44c1d0(0x4dc)]===0x0?null:-0x1,await this[_0x44c1d0(0x197)][_0x44c1d0(0x620)]({'mute':_0x92edba[_0x44c1d0(0x4dc)]},_0x92edba[_0x44c1d0(0x19a)]),_0x1914c5[_0x44c1d0(0x4dc)]=Number(_0x92edba[_0x44c1d0(0x4dc)])),_0xb9dbd6&&(_0xb372fa(_0xb9dbd6,_0x1914c5,[_0x44c1d0(0x2d1),_0x44c1d0(0x6d8),'email',_0x44c1d0(0x234),_0x44c1d0(0x1f8),_0x44c1d0(0x4c5),'tags',_0x44c1d0(0x899),_0x44c1d0(0x531),'etiquetas']),Array[_0x44c1d0(0x5cf)](_0xb9dbd6[_0x44c1d0(0x85c)])&&(_0x1914c5[_0x44c1d0(0x8ba)]=_0xb9dbd6[_0x44c1d0(0x85c)]['map'](_0x3488ab=>({'_id':_0x3488ab['_id'],'value':_0x3488ab['value']}))),_0x92edba['leadInfo'][_0x44c1d0(0x48e)]!==void 0x0)){let _0x58452c=await this['repository'][_0x44c1d0(0x6cc)][_0x44c1d0(0x357)]({'where':{}},this['instance'][_0x44c1d0(0x222)]),_0x1ae261=new Set(_0x92edba[_0x44c1d0(0x4d3)]['etiquetas']||[]),_0x14f49f=new Set(_0x92edba[_0x44c1d0(0x4d3)][_0x44c1d0(0x48e)]),_0x4310d5=new Set(_0x58452c[_0x44c1d0(0x50f)](_0x4afe45=>_0x4afe45[_0x44c1d0(0x19a)])),_0x56e217=[..._0x14f49f][_0x44c1d0(0x736)](_0x330c48=>!_0x1ae261[_0x44c1d0(0x753)](_0x330c48)&&_0x4310d5[_0x44c1d0(0x753)](_0x330c48)),_0x44e52e=[..._0x1ae261][_0x44c1d0(0x736)](_0x326bc0=>!_0x14f49f[_0x44c1d0(0x753)](_0x326bc0));if(_0x1914c5[_0x44c1d0(0x777)]=[..._0x1ae261],_0x410885&&!_0x410885['imported']){for(let _0x39267a of _0x56e217)await this['AddChatLabel'](_0x39267a,_0x92edba['_id']),_0x1ae261[_0x44c1d0(0x36d)](_0x39267a);for(let _0x271cca of _0x44e52e)await this[_0x44c1d0(0x865)](_0x271cca,_0x92edba['_id']),_0x1ae261['delete'](_0x271cca);}}if(_0x92edba[_0x44c1d0(0x6a1)]!==void 0x0&&(_0x1914c5['unreadcount']=Number(_0x92edba['unreadcount'])),Object['keys'](_0x1914c5)[_0x44c1d0(0x4ba)]===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0x52b576=await this['repository']['chat'][_0x44c1d0(0x8ae)]({'where':{'_id':_0x92edba[_0x44c1d0(0x19a)]}},_0x1914c5,this[_0x44c1d0(0x5ef)][_0x44c1d0(0x222)]);return _0x52b576&&U(this[_0x44c1d0(0x84b)],_0x44c1d0(0x17c),{'chat':_0x52b576}),_0x52b576?(this[_0x44c1d0(0x55f)]['verbose'](this[_0x44c1d0(0x84b)]+'\x20('+this['instance'][_0x44c1d0(0x222)]+'):\x20'+JSON['stringify'](_0x52b576,null,0x2)),_0x52b576):{'message':_0x44c1d0(0x66f)};}catch(_0x171436){let _0x1919ee=_0x44c1d0(0x8b4),_0x3c970c=_0x171436 instanceof Error?_0x171436[_0x44c1d0(0x6e8)]:typeof _0x171436==_0x44c1d0(0x629)?JSON[_0x44c1d0(0x78e)](_0x171436):_0x171436,_0x495939=_0x1919ee+':\x20'+_0x3c970c;throw this[_0x44c1d0(0x55f)][_0x44c1d0(0x37f)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x44c1d0(0x653)+_0x495939),new m(_0x495939);}}async[a0_0xd17613(0x752)](_0x5b0742,_0x2c7f14){const _0x376792=a0_0xd17613;try{await this[_0x376792(0x197)][_0x376792(0x5a5)](_0x2c7f14,_0x5b0742),this['logger'][_0x376792(0x40c)](this[_0x376792(0x84b)]+'\x20('+this[_0x376792(0x5ef)][_0x376792(0x222)]+_0x376792(0x6d9)+_0x5b0742+_0x376792(0x598)+_0x2c7f14+_0x376792(0x356));}catch(_0x2f20c4){this[_0x376792(0x55f)]['error'](_0x376792(0x2d6)+_0x5b0742+_0x376792(0x26b)+_0x2c7f14+':\x20'+_0x2f20c4);}}async['RemoveChatLabel'](_0x697959,_0x276387){const _0x4ef770=a0_0xd17613;try{await this['client'][_0x4ef770(0x643)](_0x276387,_0x697959),this[_0x4ef770(0x55f)][_0x4ef770(0x40c)](this[_0x4ef770(0x84b)]+'\x20('+this[_0x4ef770(0x5ef)]['wuid']+_0x4ef770(0x6d9)+_0x697959+_0x4ef770(0x1ac)+_0x276387+_0x4ef770(0x356));}catch(_0x31e5ab){this[_0x4ef770(0x55f)][_0x4ef770(0x37f)](_0x4ef770(0x333)+_0x697959+_0x4ef770(0x5a0)+_0x276387+':\x20'+_0x31e5ab);}}async[a0_0xd17613(0x861)](_0x54a256){const _0x11818b=a0_0xd17613;try{let _0x2299c8=await this['repository'][_0x11818b(0x20a)][_0x11818b(0x6b2)](this[_0x11818b(0x5ef)]['wuid']),_0x5259a5=_0x54a256[_0x11818b(0x19a)]?_0x2299c8[_0x11818b(0x208)][_0x11818b(0x69c)](_0x445bcb=>_0x445bcb[_0x11818b(0x19a)]===_0x54a256[_0x11818b(0x19a)]):-0x1;if(_0x54a256[_0x11818b(0x5b4)]&&_0x5259a5>-0x1)_0x2299c8[_0x11818b(0x208)][_0x11818b(0x207)](_0x5259a5,0x1);else{if(_0x5259a5>-0x1){let _0x564a17=_0x2299c8[_0x11818b(0x208)][_0x5259a5];_0x54a256[_0x11818b(0x672)]&&(_0x564a17[_0x11818b(0x672)]=_0x54a256[_0x11818b(0x672)]),_0x54a256[_0x11818b(0x4f2)]&&(_0x564a17[_0x11818b(0x4f2)]=_0x54a256[_0x11818b(0x4f2)]),_0x54a256[_0x11818b(0x889)]&&(_0x564a17['email']=_0x54a256['email']),_0x54a256[_0x11818b(0x4d0)]&&(_0x564a17[_0x11818b(0x4d0)]=_0x54a256['role']);}else _0x2299c8[_0x11818b(0x208)][_0x11818b(0x668)]({'_id':_0x54a256[_0x11818b(0x19a)]||new de['default'][(_0x11818b(0x2a8))][(_0x11818b(0x465))]()[_0x11818b(0x883)](),'fone':_0x54a256[_0x11818b(0x672)],'name':_0x54a256[_0x11818b(0x4f2)],'email':_0x54a256['email'],'role':_0x54a256[_0x11818b(0x4d0)]});}let _0x3cb529={'agents':_0x2299c8[_0x11818b(0x208)]},_0xe3102d=await this[_0x11818b(0x735)][_0x11818b(0x20a)][_0x11818b(0x7c7)](_0x3cb529,this[_0x11818b(0x5ef)][_0x11818b(0x222)]);return this['AutomateSystem']=_0xe3102d,this[_0x11818b(0x55f)]['verbose'](this['instanceName']+'\x20('+this[_0x11818b(0x5ef)][_0x11818b(0x222)]+_0x11818b(0x894)),this['logger']['verbose'](this[_0x11818b(0x84b)]+'\x20('+this[_0x11818b(0x5ef)][_0x11818b(0x222)]+_0x11818b(0x653)+this[_0x11818b(0x3f3)]),_0xe3102d;}catch(_0xf94142){let _0x36d82e=_0x11818b(0x4fb),_0x2d8b0c=_0xf94142 instanceof Error?_0xf94142[_0x11818b(0x6e8)]:typeof _0xf94142==_0x11818b(0x629)?JSON[_0x11818b(0x78e)](_0xf94142):_0xf94142,_0x2abeb0=_0x36d82e+':\x20'+_0x2d8b0c;throw this[_0x11818b(0x55f)][_0x11818b(0x37f)](this[_0x11818b(0x84b)]+'\x20('+this[_0x11818b(0x5ef)][_0x11818b(0x222)]+_0x11818b(0x653)+_0x2abeb0),new m(_0x2abeb0);}}async[a0_0xd17613(0x809)](_0x23168e){const _0x360a2d=a0_0xd17613;try{let _0x47b5cf=await this[_0x360a2d(0x735)][_0x360a2d(0x20a)][_0x360a2d(0x6b2)](this[_0x360a2d(0x5ef)][_0x360a2d(0x222)]),_0x3d1a3d=_0x23168e[_0x360a2d(0x19a)]?_0x47b5cf['customFields'][_0x360a2d(0x69c)](_0x221945=>_0x221945[_0x360a2d(0x19a)]===_0x23168e[_0x360a2d(0x19a)]):-0x1,_0x42c2bc=!0x1,_0xc0caa=_0x47b5cf[_0x360a2d(0x85c)][_0x360a2d(0x884)](_0x1e3cfd=>_0x1e3cfd[_0x360a2d(0x7b6)]===_0x23168e[_0x360a2d(0x7b6)]);if(_0x23168e[_0x360a2d(0x5b4)]&&_0x3d1a3d>-0x1)_0x47b5cf[_0x360a2d(0x85c)][_0x360a2d(0x207)](_0x3d1a3d,0x1),_0x42c2bc=!0x0;else{if(_0x3d1a3d>-0x1){if(_0x47b5cf[_0x360a2d(0x85c)]['some'](_0x3ca007=>_0x3ca007[_0x360a2d(0x4f2)]===_0x23168e[_0x360a2d(0x4f2)]&&_0x3ca007[_0x360a2d(0x19a)]!==_0x23168e[_0x360a2d(0x19a)]))throw new Error(_0x360a2d(0x42e));let _0x3391b5=_0x47b5cf[_0x360a2d(0x85c)][_0x3d1a3d];_0x23168e['order']&&(_0xc0caa||!Number[_0x360a2d(0x65c)](_0x23168e[_0x360a2d(0x7b6)]))&&(_0x3391b5[_0x360a2d(0x7b6)]=_0x23168e[_0x360a2d(0x7b6)],_0x42c2bc=!0x0),_0x23168e['name']&&(_0x3391b5[_0x360a2d(0x4f2)]=_0x23168e[_0x360a2d(0x4f2)]);}else{if(_0x47b5cf[_0x360a2d(0x85c)][_0x360a2d(0x884)](_0x121884=>_0x121884[_0x360a2d(0x4f2)]===_0x23168e[_0x360a2d(0x4f2)]&&_0x121884[_0x360a2d(0x19a)]!==_0x23168e[_0x360a2d(0x19a)]))throw new Error(_0x360a2d(0x42e));_0x47b5cf[_0x360a2d(0x85c)][_0x360a2d(0x668)]({'_id':_0x23168e[_0x360a2d(0x19a)]||new de['default']['Types'][(_0x360a2d(0x465))]()[_0x360a2d(0x883)](),'order':_0x23168e[_0x360a2d(0x7b6)],'name':_0x23168e['name']}),_0x42c2bc=!0x0;}}if(_0x42c2bc){_0x47b5cf[_0x360a2d(0x85c)][_0x360a2d(0x730)]((_0x3cff3b,_0x491901)=>_0x3cff3b[_0x360a2d(0x7b6)]>_0x491901[_0x360a2d(0x7b6)]?0x1:_0x491901['order']>_0x3cff3b['order']?-0x1:0x0);for(let _0x1ea455=0x0;_0x1ea455<_0x47b5cf[_0x360a2d(0x85c)][_0x360a2d(0x4ba)];_0x1ea455++)_0x47b5cf[_0x360a2d(0x85c)][_0x1ea455]['order']=_0x1ea455+0x1;}let _0x1dafef=await this[_0x360a2d(0x735)]['automateSystem'][_0x360a2d(0x7c7)](_0x47b5cf,this['instance'][_0x360a2d(0x222)]);return this[_0x360a2d(0x3f3)]=_0x1dafef,this[_0x360a2d(0x55f)][_0x360a2d(0x230)](this['instanceName']+'\x20('+this[_0x360a2d(0x5ef)]['wuid']+_0x360a2d(0x1dc)),this['logger'][_0x360a2d(0x230)](this[_0x360a2d(0x84b)]+'\x20('+this[_0x360a2d(0x5ef)][_0x360a2d(0x222)]+_0x360a2d(0x653)+this[_0x360a2d(0x3f3)]),_0x1dafef;}catch(_0x48f12a){let _0x2fb60e=_0x360a2d(0x2db),_0x25bf1e=_0x48f12a instanceof Error?_0x48f12a[_0x360a2d(0x6e8)]:typeof _0x48f12a==_0x360a2d(0x629)?JSON[_0x360a2d(0x78e)](_0x48f12a):_0x48f12a,_0x48d0f9=_0x2fb60e+':\x20'+_0x25bf1e;throw this[_0x360a2d(0x55f)]['error'](this[_0x360a2d(0x84b)]+'\x20('+this[_0x360a2d(0x5ef)][_0x360a2d(0x222)]+_0x360a2d(0x653)+_0x48d0f9),new m(_0x48d0f9);}}async[a0_0xd17613(0x65f)](_0x45d07c){const _0x4b4063=a0_0xd17613;try{let _0x24a4b2=await this[_0x4b4063(0x735)][_0x4b4063(0x20a)][_0x4b4063(0x6b2)](this[_0x4b4063(0x5ef)]['wuid']),_0x229407=_0x24a4b2?.[_0x4b4063(0x249)]?.[_0x4b4063(0x69c)](_0x4c82e1=>_0x4c82e1[_0x4b4063(0x19a)]===_0x45d07c?.['_id']);if(_0x45d07c?.[_0x4b4063(0x5b4)])_0x229407>-0x1&&_0x24a4b2?.['autoCompleteMessages']?.[_0x4b4063(0x207)](_0x229407,0x1);else{if(_0x229407>-0x1){let _0x1a22ce=_0x24a4b2[_0x4b4063(0x249)][_0x229407];_0x1a22ce[_0x4b4063(0x7b6)]=_0x45d07c?.[_0x4b4063(0x7b6)]||_0x1a22ce[_0x4b4063(0x7b6)],_0x1a22ce[_0x4b4063(0x699)]=_0x45d07c?.[_0x4b4063(0x699)]||_0x1a22ce['command'],_0x1a22ce[_0x4b4063(0x6e8)]=_0x45d07c?.[_0x4b4063(0x6e8)]||_0x1a22ce['message'];}else{let _0x598302={'_id':_0x45d07c?.[_0x4b4063(0x19a)]||new de[(_0x4b4063(0x6db))][(_0x4b4063(0x2a8))][(_0x4b4063(0x465))]()[_0x4b4063(0x883)](),'order':_0x45d07c?.[_0x4b4063(0x7b6)],'command':_0x45d07c?.[_0x4b4063(0x699)],'message':_0x45d07c?.[_0x4b4063(0x6e8)]};_0x24a4b2?.['autoCompleteMessages']?.['push'](_0x598302);}}_0x24a4b2?.[_0x4b4063(0x249)]?.[_0x4b4063(0x730)]((_0x4ca38c,_0x39cbf9)=>_0x4ca38c['order']-_0x39cbf9[_0x4b4063(0x7b6)]);let _0xb74c30=await this['repository'][_0x4b4063(0x20a)][_0x4b4063(0x7c7)](_0x24a4b2,this['instance'][_0x4b4063(0x222)]);return this['AutomateSystem']=_0xb74c30,this['logger'][_0x4b4063(0x230)](this[_0x4b4063(0x84b)]+'\x20('+this['instance'][_0x4b4063(0x222)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),_0xb74c30;}catch(_0x6aa829){let _0x31ce14=_0x4b4063(0x72e),_0x2dfa24=_0x6aa829 instanceof Error?_0x6aa829[_0x4b4063(0x6e8)]:typeof _0x6aa829=='object'?JSON[_0x4b4063(0x78e)](_0x6aa829):_0x6aa829,_0x42c5db=_0x31ce14+':\x20'+_0x2dfa24;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x4b4063(0x5ef)][_0x4b4063(0x222)]+'):\x20'+_0x42c5db),new m(_0x42c5db);}}async[a0_0xd17613(0x5e4)](_0x1fc131){const _0x485188=a0_0xd17613;try{let _0x2ed6d2=await this[_0x485188(0x735)]['automateSystem'][_0x485188(0x6b2)](this['instance'][_0x485188(0x222)]);if(!_0x2ed6d2)throw new Error(_0x485188(0x400));let _0x461712={'_id':_0x2ed6d2[_0x485188(0x19a)],'flowConfig':{'enabled':_0x1fc131[_0x485188(0x67d)]??_0x2ed6d2[_0x485188(0x1c4)][_0x485188(0x67d)],'ignoreGroups':_0x1fc131[_0x485188(0x655)]??_0x2ed6d2[_0x485188(0x1c4)][_0x485188(0x655)],'stopConversation':_0x1fc131[_0x485188(0x31a)][_0x485188(0x3dd)]()??_0x2ed6d2['flowConfig'][_0x485188(0x31a)][_0x485188(0x3dd)](),'stopMinutes':_0x1fc131[_0x485188(0x6b7)]??_0x2ed6d2['flowConfig']['stopMinutes'],'stopWhenYouSendMsg':_0x1fc131[_0x485188(0x463)]??_0x2ed6d2['flowConfig'][_0x485188(0x463)]}},_0x2df199=await this[_0x485188(0x735)][_0x485188(0x20a)][_0x485188(0x7c7)](_0x461712,this[_0x485188(0x5ef)][_0x485188(0x222)]);return this[_0x485188(0x3f3)]=_0x2df199,this[_0x485188(0x55f)]['verbose'](this['instanceName']+'\x20('+this[_0x485188(0x5ef)][_0x485188(0x222)]+_0x485188(0x894)),this[_0x485188(0x55f)][_0x485188(0x230)](this[_0x485188(0x84b)]+'\x20('+this[_0x485188(0x5ef)]['wuid']+_0x485188(0x653)+this[_0x485188(0x3f3)]),setTimeout(()=>this[_0x485188(0x7e7)](),0x7d0),_0x2df199;}catch(_0x3f01cc){let _0x114005=_0x485188(0x174),_0xb0751b=_0x3f01cc instanceof Error?_0x3f01cc[_0x485188(0x6e8)]:typeof _0x3f01cc==_0x485188(0x629)?JSON[_0x485188(0x78e)](_0x3f01cc):_0x3f01cc,_0x956250=_0x114005+':\x20'+_0xb0751b;throw this['logger']['error'](this[_0x485188(0x84b)]+'\x20('+this[_0x485188(0x5ef)][_0x485188(0x222)]+_0x485188(0x653)+_0x956250),new m(_0x956250);}}async[a0_0xd17613(0x737)](){const _0x5f189f=a0_0xd17613;try{let _0x504d94=await this[_0x5f189f(0x735)][_0x5f189f(0x20a)][_0x5f189f(0x6b2)](this[_0x5f189f(0x5ef)][_0x5f189f(0x222)]);return this[_0x5f189f(0x3f3)]=_0x504d94,this[_0x5f189f(0x55f)][_0x5f189f(0x230)](this['instanceName']+'\x20('+this['instance'][_0x5f189f(0x222)]+_0x5f189f(0x7d7)),this['logger'][_0x5f189f(0x230)](this['AutomateSystem']),_0x504d94;}catch(_0x18497a){let _0x291974=_0x5f189f(0x41a),_0x48c5ae=_0x18497a instanceof Error?_0x18497a['message']:typeof _0x18497a==_0x5f189f(0x629)?JSON[_0x5f189f(0x78e)](_0x18497a):_0x18497a,_0x48f12b=_0x291974+':\x20'+_0x48c5ae;throw this[_0x5f189f(0x55f)]['error'](this[_0x5f189f(0x84b)]+'\x20('+this[_0x5f189f(0x5ef)]['wuid']+_0x5f189f(0x653)+_0x48f12b),new m(_0x48f12b);}}async[a0_0xd17613(0x2cf)](){const _0x3e63b0=a0_0xd17613;this[_0x3e63b0(0x5ef)][_0x3e63b0(0x29a)][_0x3e63b0(0x6fc)]&&clearTimeout(this[_0x3e63b0(0x5ef)]['ScheduleMessage'][_0x3e63b0(0x6fc)]),this['instance'][_0x3e63b0(0x29a)]['timeout']=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x2147f6=a0_0xd17613;Date[_0x2147f6(0x81a)]()-this['instance'][_0x2147f6(0x29a)][_0x2147f6(0x493)]>=0x1d4c0&&(this['logger'][_0x2147f6(0x230)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2147f6(0x5af)),this[_0x2147f6(0x5ef)]['ScheduleMessage'][_0x2147f6(0x5bc)]=null,this['instance'][_0x2147f6(0x29a)][_0x2147f6(0x493)]=0x0,this[_0x2147f6(0x5ef)][_0x2147f6(0x29a)][_0x2147f6(0x860)]=0x0,await this['scheduleNextCheck']());}async[a0_0xd17613(0x7e7)](){const _0x325f53=a0_0xd17613;let _0x1d29c8=()=>{const _0x587d14=a0_0x3a35;this[_0x587d14(0x55f)][_0x587d14(0x230)](this['instanceName']+'\x20('+this[_0x587d14(0x5ef)][_0x587d14(0x222)]+'):\x20this.processing_id:\x20'+this[_0x587d14(0x5ef)]['ScheduleMessage']['processing_id']+_0x587d14(0x3c5));},_0x13b47a=async()=>{const _0x2bb2fd=a0_0x3a35;this[_0x2bb2fd(0x55f)][_0x2bb2fd(0x230)](this[_0x2bb2fd(0x84b)]+'\x20('+this[_0x2bb2fd(0x5ef)][_0x2bb2fd(0x222)]+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x5c0b2=Date[_0x2bb2fd(0x81a)]()-0xc*0x3c*0x3c*0x3e8,_0x4f181c={'where':{'status':{'$in':[_0x2bb2fd(0x22b),_0x2bb2fd(0x66d)]},'$or':[{'when':{'$lte':Date[_0x2bb2fd(0x81a)](),'$gte':_0x5c0b2}},{'when':0x0}]}};return await this[_0x2bb2fd(0x735)][_0x2bb2fd(0x6f1)][_0x2bb2fd(0x357)](_0x4f181c,this[_0x2bb2fd(0x5ef)][_0x2bb2fd(0x222)]);},_0x2f4702=async _0x49639b=>{const _0x26f14b=a0_0x3a35;for(let _0x30dd71 of _0x49639b){let _0x20aafb={'_id':_0x30dd71['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x26f14b(0x81a)]()-0x1770}}]},_0x21303f={'startSend':Date['now']()};if(!await this[_0x26f14b(0x735)][_0x26f14b(0x6f1)]['updateOne'](_0x20aafb,_0x21303f,this[_0x26f14b(0x5ef)][_0x26f14b(0x222)]))return;if(!this[_0x26f14b(0x5ef)][_0x26f14b(0x29a)][_0x26f14b(0x3be)]){this[_0x26f14b(0x55f)][_0x26f14b(0x230)](this[_0x26f14b(0x84b)]+'\x20('+this[_0x26f14b(0x5ef)][_0x26f14b(0x222)]+_0x26f14b(0x687));break;}if(_0x30dd71['type']===_0x26f14b(0x177)&&!this[_0x26f14b(0x3f3)]?.[_0x26f14b(0x1c4)][_0x26f14b(0x67d)]){this[_0x26f14b(0x55f)]['error'](this['instanceName']+'\x20('+this['instance'][_0x26f14b(0x222)]+_0x26f14b(0x751));continue;}(!_0x30dd71[_0x26f14b(0x6c9)]||_0x30dd71['remoteJidsRemaining']['length']===0x0)&&(_0x30dd71=await this[_0x26f14b(0x735)][_0x26f14b(0x6f1)]['updateOneById'](_0x30dd71[_0x26f14b(0x19a)],{'status':_0x26f14b(0x66d),'remoteJidsRemaining':[..._0x30dd71['remoteJids']]},this[_0x26f14b(0x5ef)][_0x26f14b(0x222)]));for(let _0x274b0d of _0x30dd71[_0x26f14b(0x6c9)]){if(await this[_0x26f14b(0x2cf)](),this[_0x26f14b(0x5ef)][_0x26f14b(0x29a)]['lastSend']=Date[_0x26f14b(0x81a)](),this[_0x26f14b(0x5ef)][_0x26f14b(0x29a)][_0x26f14b(0x6ef)]===_0x274b0d){this[_0x26f14b(0x55f)]['error'](this[_0x26f14b(0x84b)]+'\x20('+this[_0x26f14b(0x5ef)][_0x26f14b(0x222)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20'+_0x274b0d+_0x26f14b(0x19c));let _0x51245d={'$push':{'messagesSend':{'remoteJid':_0x274b0d,'error':!0x0,'id':null,'error_log':_0x26f14b(0x6da),'log_timestamp':Date[_0x26f14b(0x81a)]()}},'$pull':{'remoteJidsRemaining':_0x274b0d}};await this[_0x26f14b(0x735)][_0x26f14b(0x6f1)][_0x26f14b(0x21e)](_0x30dd71['_id'],_0x51245d,this[_0x26f14b(0x5ef)][_0x26f14b(0x222)]);continue;}if(this[_0x26f14b(0x5ef)]['ScheduleMessage']['ultimaTentativaRemoteJid']=_0x274b0d,_0x30dd71[_0x26f14b(0x5d0)][_0x26f14b(0x884)](_0x9b6e9=>_0x9b6e9[_0x26f14b(0x2dd)]===_0x274b0d)){this[_0x26f14b(0x55f)][_0x26f14b(0x230)](this[_0x26f14b(0x84b)]+'\x20('+this['instance'][_0x26f14b(0x222)]+_0x26f14b(0x5a6)+_0x274b0d+_0x26f14b(0x426));continue;}if(!this['instance'][_0x26f14b(0x29a)][_0x26f14b(0x3be)]){this[_0x26f14b(0x55f)][_0x26f14b(0x230)](this[_0x26f14b(0x84b)]+'\x20('+this[_0x26f14b(0x5ef)]['wuid']+_0x26f14b(0x2f6));break;}if(!this[_0x26f14b(0x5ef)][_0x26f14b(0x29a)]['processing_id']){this[_0x26f14b(0x55f)]['verbose'](this['instanceName']+'\x20('+this[_0x26f14b(0x5ef)][_0x26f14b(0x222)]+_0x26f14b(0x1f6)+_0x30dd71[_0x26f14b(0x19a)]+_0x26f14b(0x4b1));break;}if(_0x30dd71['type']===_0x26f14b(0x177)&&!this[_0x26f14b(0x3f3)]?.[_0x26f14b(0x1c4)][_0x26f14b(0x67d)]){this['logger'][_0x26f14b(0x37f)](this[_0x26f14b(0x84b)]+'\x20('+this[_0x26f14b(0x5ef)]['wuid']+_0x26f14b(0x751));break;}let _0x5e2b82={'remoteJid':_0x274b0d,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x26f14b(0x81a)]()},_0x4f56bb=null;try{let _0x54a6e0=await this[_0x26f14b(0x306)](_0x274b0d,_0x30dd71);_0x5e2b82[_0x26f14b(0x37f)]=_0x54a6e0[_0x26f14b(0x37f)],_0x5e2b82['id']=_0x54a6e0['error']?null:_0x54a6e0['id'],_0x5e2b82[_0x26f14b(0x6eb)]=_0x54a6e0[_0x26f14b(0x37f)]?_0x54a6e0[_0x26f14b(0x48a)]?_0x54a6e0[_0x26f14b(0x48a)][_0x26f14b(0x883)]():'':null;let _0x27a5d2={'$push':{'messagesSend':_0x5e2b82},'$pull':{'remoteJidsRemaining':_0x274b0d}},_0x45ebd6=_0x30dd71[_0x26f14b(0x19a)];if(_0x4f56bb=await this[_0x26f14b(0x735)][_0x26f14b(0x6f1)][_0x26f14b(0x21e)](_0x45ebd6,_0x27a5d2,this[_0x26f14b(0x5ef)][_0x26f14b(0x222)]),_0x54a6e0[_0x26f14b(0x37f)])continue;let _0x7ad3ad=this['getDelay'](_0x30dd71[_0x26f14b(0x63e)],_0x30dd71['delaySecMax']);await this[_0x26f14b(0x5c7)](_0x7ad3ad);}catch(_0x3f4614){this[_0x26f14b(0x55f)][_0x26f14b(0x37f)](this[_0x26f14b(0x84b)]+'\x20('+this[_0x26f14b(0x5ef)]['wuid']+_0x26f14b(0x1de)+_0x274b0d+':\x20'+(_0x3f4614 instanceof Error?_0x3f4614[_0x26f14b(0x6e8)]:JSON[_0x26f14b(0x78e)](_0x3f4614,null,0x2))),_0x5e2b82[_0x26f14b(0x37f)]=!0x0,_0x5e2b82['error_log']=_0x3f4614[_0x26f14b(0x6e8)];let _0x4835e4={'$push':{'messagesSend':_0x5e2b82},'$pull':{'remoteJidsRemaining':_0x274b0d}},_0x4c2c50=_0x30dd71[_0x26f14b(0x19a)];_0x4f56bb=await this['repository'][_0x26f14b(0x6f1)][_0x26f14b(0x21e)](_0x4c2c50,_0x4835e4,this[_0x26f14b(0x5ef)]['wuid']);}finally{if(_0x4f56bb&&_0x4f56bb['status']===_0x26f14b(0x386)){this['logger']['verbose'](this[_0x26f14b(0x84b)]+'\x20('+this[_0x26f14b(0x5ef)][_0x26f14b(0x222)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x30dd71[_0x26f14b(0x19a)]+_0x26f14b(0x69f));break;}}}let _0x47119d=await this['repository'][_0x26f14b(0x6f1)][_0x26f14b(0x462)](_0x30dd71[_0x26f14b(0x19a)],this[_0x26f14b(0x5ef)]['wuid']);if(_0x47119d['remoteJidsRemaining'][_0x26f14b(0x4ba)]===0x0&&_0x47119d['status']!==_0x26f14b(0x386)){this[_0x26f14b(0x5ef)]['ScheduleMessage'][_0x26f14b(0x6ef)]=null;let _0x1dd40e={'$set':{'status':'done'}},_0x3a6117=_0x47119d[_0x26f14b(0x19a)];await this[_0x26f14b(0x735)][_0x26f14b(0x6f1)]['updateOneById'](_0x3a6117,_0x1dd40e,this[_0x26f14b(0x5ef)][_0x26f14b(0x222)]);}await new Promise(_0x132ae4=>setTimeout(_0x132ae4,0x1388));}},_0x26d9e7=async()=>{const _0x396dff=a0_0x3a35;let _0x599717={'where':{'status':'scheduled','when':{'$gt':Date['now']()}}},_0x56f3e5=await this[_0x396dff(0x735)][_0x396dff(0x6f1)][_0x396dff(0x86d)](_0x599717,this['instance']['wuid']);_0x56f3e5&&_0x56f3e5[_0x396dff(0x3bb)]-Date[_0x396dff(0x81a)]()<=0x5265c00?this[_0x396dff(0x5ef)][_0x396dff(0x29a)][_0x396dff(0x860)]=_0x56f3e5[_0x396dff(0x3bb)]-Date[_0x396dff(0x81a)]():this['instance'][_0x396dff(0x29a)]['delayMessage']=(0x3c+Math[_0x396dff(0x2a9)](Math[_0x396dff(0x23e)]()*0x3c))*0x3c*0x3e8,this[_0x396dff(0x5ef)]['ScheduleMessage'][_0x396dff(0x860)]=Math[_0x396dff(0x30d)](this[_0x396dff(0x5ef)]['ScheduleMessage']['delayMessage'],0x7d0);let _0x1023ea=Math[_0x396dff(0x451)](this[_0x396dff(0x5ef)]['ScheduleMessage'][_0x396dff(0x860)]/0xea60);if(_0x56f3e5){let _0x5dd640=new Date(_0x56f3e5['when'])[_0x396dff(0x65d)]();this['logger'][_0x396dff(0x230)](this[_0x396dff(0x84b)]+'\x20('+this[_0x396dff(0x5ef)][_0x396dff(0x222)]+_0x396dff(0x24f)+_0x5dd640+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x1023ea+'\x20minutos');}else this[_0x396dff(0x55f)][_0x396dff(0x230)](this['instanceName']+'\x20('+this[_0x396dff(0x5ef)][_0x396dff(0x222)]+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x1023ea+_0x396dff(0x76c));setTimeout(()=>this['scheduleNextCheck'](),this['instance'][_0x396dff(0x29a)][_0x396dff(0x860)]);};if(this[_0x325f53(0x5ef)][_0x325f53(0x29a)][_0x325f53(0x5bc)]){await this['setRestartTimeout'](),_0x1d29c8();return;}if(!this['instance'][_0x325f53(0x29a)]['isConnected']){this[_0x325f53(0x55f)]['verbose'](this['instanceName']+'\x20('+this[_0x325f53(0x5ef)][_0x325f53(0x222)]+_0x325f53(0x393)),this['instance']['ScheduleMessage'][_0x325f53(0x5bc)]=null,this[_0x325f53(0x5ef)][_0x325f53(0x29a)][_0x325f53(0x493)]=0x0,this[_0x325f53(0x5ef)][_0x325f53(0x29a)][_0x325f53(0x860)]=0x0,this['instance']['ScheduleMessage'][_0x325f53(0x6ef)]=null;return;}try{let _0x3689bf=await _0x13b47a();_0x3689bf[_0x325f53(0x4ba)]===0x0?this[_0x325f53(0x55f)][_0x325f53(0x230)](this[_0x325f53(0x84b)]+'\x20('+this[_0x325f53(0x5ef)]['wuid']+_0x325f53(0x1c8)):(this[_0x325f53(0x5ef)][_0x325f53(0x29a)][_0x325f53(0x5bc)]=_0x3689bf[0x0]['_id'],await _0x2f4702(_0x3689bf)),await _0x26d9e7(),this['instance'][_0x325f53(0x29a)]['processing_id']=null,this[_0x325f53(0x5ef)]['ScheduleMessage']['ultimaTentativaRemoteJid']=null,this[_0x325f53(0x5ef)][_0x325f53(0x183)]?(this['logger']['warn'](this[_0x325f53(0x84b)]+'\x20('+this[_0x325f53(0x5ef)][_0x325f53(0x222)]+'):\x20Reconexão\x20automática.'),this[_0x325f53(0x197)]?.['ws']?.[_0x325f53(0x3a6)]()):(this[_0x325f53(0x5ef)][_0x325f53(0x183)]=!0x0,this[_0x325f53(0x55f)][_0x325f53(0x388)](this['instanceName']+'\x20('+this[_0x325f53(0x5ef)][_0x325f53(0x222)]+_0x325f53(0x309)));}catch(_0x29b543){this[_0x325f53(0x55f)][_0x325f53(0x37f)]('Error\x20in\x20scheduleNextCheck:\x20'+(_0x29b543 instanceof Error?_0x29b543['message']:JSON['stringify'](_0x29b543,null,0x2)));}}[a0_0xd17613(0x3ca)](_0xf77686,_0x45c5f2){const _0x351bad=a0_0xd17613;return _0xf77686=Math[_0x351bad(0x30d)](0.5,_0xf77686),_0x45c5f2=Math['min'](Math[_0x351bad(0x30d)](0x3,_0x45c5f2),0x78),Math['floor'](Math[_0x351bad(0x23e)]()*(_0x45c5f2-_0xf77686+0x1)+_0xf77686)*0x3e8;}[a0_0xd17613(0x5c7)](_0x3bf614){return new Promise(_0x52bcda=>setTimeout(_0x52bcda,_0x3bf614));}async[a0_0xd17613(0x416)](_0x30f75e){const _0x5ae516=a0_0xd17613;if(!this[_0x5ae516(0x3f3)]&&(await this['getAutomateSystem'](),!this[_0x5ae516(0x3f3)]))return null;_0x30f75e=this[_0x5ae516(0x564)](_0x30f75e);let _0xebe462=await this[_0x5ae516(0x735)][_0x5ae516(0x33f)][_0x5ae516(0x86d)]({'where':{'_id':_0x30f75e}},this[_0x5ae516(0x5ef)][_0x5ae516(0x222)]),_0x595b4d={};if(_0xebe462&&_0xebe462[_0x5ae516(0x4d3)]){let _0x4f265f=_0xebe462[_0x5ae516(0x4d3)];typeof _0x4f265f[_0x5ae516(0x2d1)]==_0x5ae516(0x693)&&(_0x595b4d[_0x5ae516(0x2d1)]=_0x4f265f['nome']),typeof _0x4f265f['nomecompleto']==_0x5ae516(0x693)&&(_0x595b4d[_0x5ae516(0x6d8)]=_0x4f265f[_0x5ae516(0x6d8)]),typeof _0x4f265f[_0x5ae516(0x889)]==_0x5ae516(0x693)&&(_0x595b4d[_0x5ae516(0x889)]=_0x4f265f['email']),typeof _0x4f265f['cpf']==_0x5ae516(0x693)&&(_0x595b4d['cpf']=_0x4f265f[_0x5ae516(0x234)]),typeof _0x4f265f[_0x5ae516(0x1f8)]==_0x5ae516(0x693)&&(_0x595b4d[_0x5ae516(0x1f8)]=_0x4f265f[_0x5ae516(0x1f8)]),typeof _0x4f265f['notas']==_0x5ae516(0x693)&&(_0x595b4d[_0x5ae516(0x4c5)]=_0x4f265f[_0x5ae516(0x4c5)]),typeof _0x4f265f['responsavelid']==_0x5ae516(0x693)&&(_0x595b4d['responsavelid']=_0x4f265f['responsavelid']),Array[_0x5ae516(0x5cf)](_0x4f265f[_0x5ae516(0x246)])&&(_0x595b4d[_0x5ae516(0x246)]=_0x4f265f[_0x5ae516(0x246)]['join'](',\x20')),Array[_0x5ae516(0x5cf)](_0x4f265f[_0x5ae516(0x48e)])&&(_0x595b4d[_0x5ae516(0x48e)]=_0x4f265f[_0x5ae516(0x48e)][_0x5ae516(0x4c3)](',\x20'));}return _0xebe462&&_0xebe462[_0x5ae516(0x4d3)]&&_0xebe462[_0x5ae516(0x4d3)][_0x5ae516(0x85c)]&&_0xebe462[_0x5ae516(0x4d3)][_0x5ae516(0x85c)][_0x5ae516(0x2a4)](_0x5f3e6f=>{const _0x3251c9=_0x5ae516;let _0x2f47b9=this[_0x3251c9(0x3f3)]?.[_0x3251c9(0x85c)]['find'](_0x5c5a9d=>_0x5c5a9d[_0x3251c9(0x19a)]===_0x5f3e6f['_id']);_0x2f47b9&&(_0x595b4d[_0x2f47b9[_0x3251c9(0x4f2)]]=_0x5f3e6f['value']);}),_0x595b4d;}async[a0_0xd17613(0x539)](_0xd5c5cc,_0x5ba06b){const _0x2d4032=a0_0xd17613;try{let _0x3da2a1=await this['getVariablesChat'](_0x5ba06b);return this['replaceVariables'](_0xd5c5cc,_0x3da2a1);}catch(_0x5e4b4a){return this['logger'][_0x2d4032(0x37f)](_0x2d4032(0x66c)+_0x5ba06b+':\x20'+_0x5e4b4a),_0xd5c5cc;}}async['editScheduleMessage'](_0xca5d8b){const _0x5f0c04=a0_0xd17613;try{if(this[_0x5f0c04(0x55f)][_0x5f0c04(0x230)](this[_0x5f0c04(0x84b)]+'\x20('+this['instance'][_0x5f0c04(0x222)]+'):\x20Edit\x20schedule\x20message...'),_0xca5d8b[_0x5f0c04(0x5b4)]&&_0xca5d8b[_0x5f0c04(0x19a)]){if(this[_0x5f0c04(0x5ef)]['ScheduleMessage'][_0x5f0c04(0x5bc)]===_0xca5d8b[_0x5f0c04(0x19a)][_0x5f0c04(0x883)]())throw new Error(_0x5f0c04(0x58e));let _0x1d5332=await this[_0x5f0c04(0x735)]['scheduleMessage'][_0x5f0c04(0x47a)](_0xca5d8b['_id'],this['instance'][_0x5f0c04(0x222)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x1d5332;}let _0x295e8f;if(_0xca5d8b[_0x5f0c04(0x19a)]&&(_0x295e8f=await this[_0x5f0c04(0x735)][_0x5f0c04(0x6f1)][_0x5f0c04(0x462)](_0xca5d8b[_0x5f0c04(0x19a)],this[_0x5f0c04(0x5ef)][_0x5f0c04(0x222)])),_0x295e8f){let _0x2a109e;if(this[_0x5f0c04(0x5ef)][_0x5f0c04(0x29a)][_0x5f0c04(0x5bc)]===_0x295e8f[_0x5f0c04(0x19a)][_0x5f0c04(0x883)]())_0x2a109e={'$set':{'status':_0xca5d8b[_0x5f0c04(0x1f8)]}};else{let {_id:_0x67e456,..._0x9462e4}=_0xca5d8b;_0x2a109e={'$set':_0x9462e4};}let _0x5f492f=await this['repository']['scheduleMessage'][_0x5f0c04(0x21e)](_0xca5d8b[_0x5f0c04(0x19a)],_0x2a109e,this[_0x5f0c04(0x5ef)]['wuid']);return setTimeout(()=>this[_0x5f0c04(0x7e7)](),0x7d0),_0x5f492f;}else{_0xca5d8b[_0x5f0c04(0x50a)]=this[_0x5f0c04(0x5ef)][_0x5f0c04(0x222)];let _0x40acd4=await this['repository'][_0x5f0c04(0x6f1)][_0x5f0c04(0x4af)](_0xca5d8b,this['instance'][_0x5f0c04(0x222)]);return setTimeout(()=>this[_0x5f0c04(0x7e7)](),0x7d0),_0x40acd4;}}catch(_0x579c5e){let _0xe7109f=_0x5f0c04(0x1d3),_0x57e9fb=_0x579c5e instanceof Error?_0x579c5e['message']:typeof _0x579c5e==_0x5f0c04(0x629)?JSON[_0x5f0c04(0x78e)](_0x579c5e):_0x579c5e,_0x390456=_0xe7109f+':\x20'+_0x57e9fb;throw this[_0x5f0c04(0x55f)][_0x5f0c04(0x37f)](this[_0x5f0c04(0x84b)]+'\x20('+this['instance'][_0x5f0c04(0x222)]+_0x5f0c04(0x653)+_0x390456),new m(_0x390456);}}async['getScheduleMessage'](){const _0x1dfdaa=a0_0xd17613;try{return await this['repository'][_0x1dfdaa(0x6f1)][_0x1dfdaa(0x357)]({'where':{}},this[_0x1dfdaa(0x5ef)][_0x1dfdaa(0x222)]);}catch(_0x39b368){let _0x2387f0='Erro\x20ao\x20buscar\x20Schedule\x20Messages',_0x2334b6=_0x39b368 instanceof Error?_0x39b368['message']:typeof _0x39b368==_0x1dfdaa(0x629)?JSON['stringify'](_0x39b368):_0x39b368,_0x4a6c20=_0x2387f0+':\x20'+_0x2334b6;throw this[_0x1dfdaa(0x55f)]['error'](this[_0x1dfdaa(0x84b)]+'\x20('+this[_0x1dfdaa(0x5ef)][_0x1dfdaa(0x222)]+_0x1dfdaa(0x653)+_0x4a6c20),new m(_0x4a6c20);}}async[a0_0xd17613(0x43c)](){const _0x3a9612=a0_0xd17613;try{let _0x2766e1={'status':'done'},_0x179ac1=await this[_0x3a9612(0x735)][_0x3a9612(0x6f1)][_0x3a9612(0x7b1)](_0x2766e1,this[_0x3a9612(0x5ef)][_0x3a9612(0x222)]);if(!_0x179ac1[_0x3a9612(0x37f)])this[_0x3a9612(0x55f)][_0x3a9612(0x230)](this[_0x3a9612(0x84b)]+'\x20('+this[_0x3a9612(0x5ef)][_0x3a9612(0x222)]+_0x3a9612(0x609));else throw new Error(_0x179ac1[_0x3a9612(0x37f)][_0x3a9612(0x6e8)]||_0x3a9612(0x387));return this['getScheduleMessage']();}catch(_0x4ff8ac){let _0x5d1005='Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done',_0x3970dc=_0x4ff8ac instanceof Error?_0x4ff8ac[_0x3a9612(0x6e8)]:typeof _0x4ff8ac=='object'?JSON[_0x3a9612(0x78e)](_0x4ff8ac):_0x4ff8ac,_0x291187=_0x5d1005+':\x20'+_0x3970dc;throw this[_0x3a9612(0x55f)]['error'](this[_0x3a9612(0x84b)]+'\x20('+this[_0x3a9612(0x5ef)][_0x3a9612(0x222)]+'):\x20'+_0x291187),new m(_0x291187);}}async[a0_0xd17613(0x306)](_0x1c0fec,_0x4bb2c7){const _0x557f56=a0_0xd17613;try{if(_0x4bb2c7[_0x557f56(0x519)]===_0x557f56(0x177)&&!this['AutomateSystem']?.[_0x557f56(0x1c4)][_0x557f56(0x67d)])return this[_0x557f56(0x55f)][_0x557f56(0x37f)](this['instanceName']+'\x20('+this[_0x557f56(0x5ef)][_0x557f56(0x222)]+_0x557f56(0x76a)),{'error':!0x0,'detail':_0x557f56(0x48b)};switch(_0x4bb2c7['type']){case _0x557f56(0x80f):return await this[_0x557f56(0x816)](_0x4bb2c7,_0x1c0fec);case'media':return await this[_0x557f56(0x5d8)](_0x4bb2c7,_0x1c0fec);case'audio':return await this[_0x557f56(0x3b8)](_0x4bb2c7,_0x1c0fec);case _0x557f56(0x177):let _0x3896a5=new We();return _0x3896a5[_0x557f56(0x4f2)]=_0x4bb2c7[_0x557f56(0x445)],_0x3896a5[_0x557f56(0x2dd)]=_0x1c0fec,await this[_0x557f56(0x5ed)](_0x3896a5);break;default:return this[_0x557f56(0x55f)][_0x557f56(0x37f)](this[_0x557f56(0x84b)]+'\x20('+this[_0x557f56(0x5ef)]['wuid']+'):\x20Comando\x20desconhecido:\x20'+_0x4bb2c7[_0x557f56(0x519)]),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x181b3e){return this['logger'][_0x557f56(0x37f)](this[_0x557f56(0x84b)]+'\x20('+this['instance']['wuid']+_0x557f56(0x605)+(_0x181b3e instanceof Error?_0x181b3e[_0x557f56(0x6e8)]:JSON[_0x557f56(0x78e)](_0x181b3e,null,0x2))),{'error':!0x0,'detail':_0x181b3e['message']};}}[a0_0xd17613(0x8ab)](_0xeed20e){const _0x5e8020=a0_0xd17613;let _0x38d16f=_0xeed20e[_0x5e8020(0x37b)]('|'),_0x1bf1b2=Math[_0x5e8020(0x2a9)](Math[_0x5e8020(0x23e)]()*_0x38d16f['length']);return _0x38d16f[_0x1bf1b2][_0x5e8020(0x3dd)]();}async['scheduleSendText'](_0x495e28,_0x2e5ddc){const _0x390c7b=a0_0xd17613;if(this[_0x390c7b(0x55f)]['verbose'](this[_0x390c7b(0x84b)]+'\x20('+this[_0x390c7b(0x5ef)][_0x390c7b(0x222)]+'):\x20\x27Enviando\x20texto\x20para\x20\x27'+_0x2e5ddc+'\x27'),!_0x495e28[_0x390c7b(0x6e8)]['text']||_0x495e28[_0x390c7b(0x6e8)]['text'][_0x390c7b(0x4ba)]===0x0)return{'error':!0x0,'detail':_0x390c7b(0x880)};let _0xab6add=this[_0x390c7b(0x8ab)](_0x495e28['message'][_0x390c7b(0x80f)]),_0xfb5a76=await this[_0x390c7b(0x539)](_0xab6add,_0x2e5ddc),_0x1187c9={'number':_0x2e5ddc,'options':{'delay':_0x495e28[_0x390c7b(0x6e8)][_0x390c7b(0x427)],'linkPreview':_0x495e28[_0x390c7b(0x6e8)][_0x390c7b(0x548)]},'textMessage':{'text':_0xfb5a76}},_0x102493=null;try{let _0x37475b=await this['textMessage'](_0x1187c9);if(_0x37475b&&_0x37475b[_0x390c7b(0x1f8)])return{'error':!0x1,'id':_0x37475b['key']['id']};_0x102493=JSON[_0x390c7b(0x78e)](_0x37475b),this[_0x390c7b(0x55f)][_0x390c7b(0x230)](this[_0x390c7b(0x84b)]+'\x20('+this[_0x390c7b(0x5ef)][_0x390c7b(0x222)]+_0x390c7b(0x653)+_0x102493);}catch(_0x1581a5){this[_0x390c7b(0x55f)][_0x390c7b(0x37f)](this[_0x390c7b(0x84b)]+'\x20('+this[_0x390c7b(0x5ef)][_0x390c7b(0x222)]+_0x390c7b(0x1d8)+(_0x1581a5 instanceof Error?_0x1581a5['message']:JSON[_0x390c7b(0x78e)](_0x1581a5,null,0x2))),_0x102493=_0x1581a5['message'];}if(_0x102493)return{'error':!0x0,'detail':(typeof _0x102493==_0x390c7b(0x629)?JSON['stringify'](_0x102493,null,0x2):_0x102493)['replace'](/[\[\]{}\n]/g,'\x20')[_0x390c7b(0x523)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x5d6da3,_0x2b4dd0){const _0x108c1d=a0_0xd17613;this['logger'][_0x108c1d(0x230)](this['instanceName']+'\x20('+this[_0x108c1d(0x5ef)][_0x108c1d(0x222)]+'):\x20\x27Enviando\x20mídia\x20para\x20\x27'+_0x2b4dd0+'\x27');let _0x753d86;if(_0x5d6da3[_0x108c1d(0x6e8)][_0x108c1d(0x80f)]&&_0x5d6da3[_0x108c1d(0x6e8)][_0x108c1d(0x80f)][_0x108c1d(0x4ba)]>0x0){let _0x172a03=this[_0x108c1d(0x8ab)](_0x5d6da3[_0x108c1d(0x6e8)][_0x108c1d(0x80f)]);_0x753d86=await this[_0x108c1d(0x539)](_0x172a03,_0x2b4dd0);}let _0x5b3a2b={'number':_0x2b4dd0,'options':{'delay':_0x5d6da3[_0x108c1d(0x6e8)][_0x108c1d(0x427)],'linkPreview':_0x5d6da3['message'][_0x108c1d(0x548)]},'mediaMessage':{'mediatype':_0x5d6da3[_0x108c1d(0x6e8)]['mediatype'],'caption':_0x753d86,'media':_0x5d6da3[_0x108c1d(0x6e8)]['urlOrBase64']}},_0x456ac8=null;try{let _0x301984=await this[_0x108c1d(0x69e)](_0x5b3a2b);if(_0x301984&&_0x301984[_0x108c1d(0x1f8)])return{'error':!0x1,'id':_0x301984[_0x108c1d(0x212)]['id']};_0x456ac8=JSON['stringify'](_0x301984),this[_0x108c1d(0x55f)][_0x108c1d(0x230)](this[_0x108c1d(0x84b)]+'\x20('+this[_0x108c1d(0x5ef)][_0x108c1d(0x222)]+_0x108c1d(0x653)+_0x456ac8);}catch(_0x39f1c8){this[_0x108c1d(0x55f)]['error'](this[_0x108c1d(0x84b)]+'\x20('+this[_0x108c1d(0x5ef)][_0x108c1d(0x222)]+_0x108c1d(0x761)+(_0x39f1c8 instanceof Error?_0x39f1c8[_0x108c1d(0x6e8)]:JSON[_0x108c1d(0x78e)](_0x39f1c8,null,0x2))),_0x456ac8=_0x39f1c8['message'];}if(_0x456ac8)return{'error':!0x0,'detail':(typeof _0x456ac8==_0x108c1d(0x629)?JSON[_0x108c1d(0x78e)](_0x456ac8,null,0x2):_0x456ac8)['replace'](/[\[\]{}\n]/g,'\x20')[_0x108c1d(0x523)](/  +/g,'\x20')};}async[a0_0xd17613(0x3b8)](_0xd84ecf,_0x3d9107){const _0x16faff=a0_0xd17613;this['logger'][_0x16faff(0x230)](this[_0x16faff(0x84b)]+'\x20('+this[_0x16faff(0x5ef)][_0x16faff(0x222)]+'):\x20\x27Enviando\x20audio\x20para\x20\x27'+_0x3d9107+'\x27');let _0x4a98ba={'number':_0x3d9107,'options':{'delay':_0xd84ecf['message']['delay']},'audioMessage':{'audio':_0xd84ecf[_0x16faff(0x6e8)]['urlOrBase64']}},_0x48df96=null;try{let _0x13bfe5=await this[_0x16faff(0x7aa)](_0x4a98ba);if(_0x13bfe5&&_0x13bfe5['status'])return{'error':!0x1,'id':_0x13bfe5[_0x16faff(0x212)]['id']};_0x48df96=JSON[_0x16faff(0x78e)](_0x13bfe5),this['logger'][_0x16faff(0x230)](this[_0x16faff(0x84b)]+'\x20('+this['instance'][_0x16faff(0x222)]+_0x16faff(0x653)+_0x48df96);}catch(_0x39f10d){this['logger'][_0x16faff(0x37f)](this[_0x16faff(0x84b)]+'\x20('+this[_0x16faff(0x5ef)][_0x16faff(0x222)]+_0x16faff(0x429)+(_0x39f10d instanceof Error?_0x39f10d[_0x16faff(0x6e8)]:JSON['stringify'](_0x39f10d,null,0x2))),_0x48df96=_0x39f10d['message'];}if(_0x48df96)return{'error':!0x0,'detail':(typeof _0x48df96==_0x16faff(0x629)?JSON[_0x16faff(0x78e)](_0x48df96,null,0x2):_0x48df96)[_0x16faff(0x523)](/[\[\]{}\n]/g,'\x20')[_0x16faff(0x523)](/  +/g,'\x20')};}async[a0_0xd17613(0x807)](_0x540e93){const _0x3250a4=a0_0xd17613;try{return await this[_0x3250a4(0x197)]['groupUpdateDescription'](_0x540e93['groupJid'],_0x540e93[_0x3250a4(0x4ee)]),{'update':_0x3250a4(0x574)};}catch(_0x2aaa0a){let _0x25318c=_0x3250a4(0x530),_0xf2f7ea=_0x2aaa0a instanceof Error?_0x2aaa0a[_0x3250a4(0x6e8)]:typeof _0x2aaa0a==_0x3250a4(0x629)?JSON['stringify'](_0x2aaa0a):_0x2aaa0a,_0x4b610e=_0x25318c+':\x20'+_0xf2f7ea;throw this['logger'][_0x3250a4(0x37f)](this[_0x3250a4(0x84b)]+'\x20('+this[_0x3250a4(0x5ef)][_0x3250a4(0x222)]+_0x3250a4(0x653)+_0x4b610e),new _(_0x4b610e);}}async[a0_0xd17613(0x210)](_0x252b93){const _0x40c970=a0_0xd17613;try{return await this[_0x40c970(0x197)][_0x40c970(0x641)](_0x252b93[_0x40c970(0x709)],_0x252b93['name']),{'update':'success'};}catch(_0x1eb948){let _0x3fa456='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName',_0x17154a=_0x1eb948 instanceof Error?_0x1eb948[_0x40c970(0x6e8)]:typeof _0x1eb948==_0x40c970(0x629)?JSON[_0x40c970(0x78e)](_0x1eb948):_0x1eb948,_0x11f812=_0x3fa456+':\x20'+_0x17154a;throw this[_0x40c970(0x55f)][_0x40c970(0x37f)](this[_0x40c970(0x84b)]+'\x20('+this[_0x40c970(0x5ef)]['wuid']+_0x40c970(0x653)+_0x11f812),new _(_0x11f812);}}async[a0_0xd17613(0x180)](_0x319ec8){const _0x33c740=a0_0xd17613;try{let _0xf51de8=await this[_0x33c740(0x197)]['groupToggleEphemeral'](_0x319ec8['groupJid'],_0x319ec8[_0x33c740(0x5a8)]);return{'success':!0x0};}catch(_0x50dccd){let _0x1db08d=_0x33c740(0x6a0),_0x26e410=_0x50dccd instanceof Error?_0x50dccd[_0x33c740(0x6e8)]:typeof _0x50dccd=='object'?JSON[_0x33c740(0x78e)](_0x50dccd):_0x50dccd,_0x1f59af=_0x1db08d+':\x20'+_0x26e410;throw this[_0x33c740(0x55f)][_0x33c740(0x37f)](this[_0x33c740(0x84b)]+'\x20('+this[_0x33c740(0x5ef)][_0x33c740(0x222)]+_0x33c740(0x653)+_0x1f59af),new _(_0x1f59af);}}async[a0_0xd17613(0x718)](_0x28e44b){const _0x2d2ea7=a0_0xd17613;try{return await this[_0x2d2ea7(0x197)][_0x2d2ea7(0x71d)](_0x28e44b['groupJid'],_0x28e44b['setting']),{'update':_0x2d2ea7(0x574)};}catch(_0x4a95b7){let _0x336522='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting',_0x5352d8=_0x4a95b7 instanceof Error?_0x4a95b7[_0x2d2ea7(0x6e8)]:typeof _0x4a95b7==_0x2d2ea7(0x629)?JSON[_0x2d2ea7(0x78e)](_0x4a95b7):_0x4a95b7,_0x1f7d6d=_0x336522+':\x20'+_0x5352d8;throw this[_0x2d2ea7(0x55f)][_0x2d2ea7(0x37f)](this[_0x2d2ea7(0x84b)]+'\x20('+this[_0x2d2ea7(0x5ef)][_0x2d2ea7(0x222)]+_0x2d2ea7(0x653)+_0x1f7d6d),new _(_0x1f7d6d);}}async[a0_0xd17613(0x665)](_0x4d0bc5){const _0x32802e=a0_0xd17613;try{let _0x19c28e;if((0x0,P[_0x32802e(0x195)])(_0x4d0bc5['image'])){let _0x16cbb4=new Date()[_0x32802e(0x7da)](),_0x1058f8=_0x4d0bc5[_0x32802e(0x783)]+_0x32802e(0x449)+_0x16cbb4;_0x19c28e=(await Z[_0x32802e(0x6db)][_0x32802e(0x8bc)](_0x1058f8,{'responseType':_0x32802e(0x89a)}))[_0x32802e(0x61d)];}else{if((0x0,P['isBase64'])(_0x4d0bc5[_0x32802e(0x783)]))_0x19c28e=Buffer['from'](_0x4d0bc5[_0x32802e(0x783)],_0x32802e(0x2a1));else throw new m(_0x32802e(0x6e0));}return await this['client']['updateProfilePicture'](_0x4d0bc5[_0x32802e(0x709)],_0x19c28e),{'update':_0x32802e(0x574)};}catch(_0x18e033){let _0x148bba='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture',_0x27e877=_0x18e033 instanceof Error?_0x18e033[_0x32802e(0x6e8)]:typeof _0x18e033==_0x32802e(0x629)?JSON[_0x32802e(0x78e)](_0x18e033):_0x18e033,_0x45726e=_0x148bba+':\x20'+_0x27e877;throw this[_0x32802e(0x55f)][_0x32802e(0x37f)](this[_0x32802e(0x84b)]+'\x20('+this[_0x32802e(0x5ef)][_0x32802e(0x222)]+_0x32802e(0x653)+_0x45726e),new _(_0x45726e);}}},Vt=class l{constructor(_0x47de30,_0x3259aa,_0x235c9c){const _0x2a57b6=a0_0xd17613;this[_0x2a57b6(0x4e7)]=_0x47de30,this['configService']=_0x3259aa,this['repository']=_0x235c9c,this['db']={},this[_0x2a57b6(0x527)]={},this[_0x2a57b6(0x55f)]=new $(l[_0x2a57b6(0x4f2)]),this[_0x2a57b6(0x581)]={},(this[_0x2a57b6(0x175)](),this[_0x2a57b6(0x4e6)](),Object['assign'](this['db'],_0x3259aa[_0x2a57b6(0x8bc)]('DATABASE')),Object[_0x2a57b6(0x5d7)](this[_0x2a57b6(0x527)],_0x3259aa['get']('REDIS')),this['dbInstance']=this['db'][_0x2a57b6(0x2e1)]?this[_0x2a57b6(0x735)][_0x2a57b6(0x8c4)]?.['db'](this['db'][_0x2a57b6(0x8a4)][_0x2a57b6(0x659)]+'-instances'):void 0x0,this['cache']=this['redis'][_0x2a57b6(0x2e1)]?new le(this[_0x2a57b6(0x527)]):void 0x0);}async[a0_0xd17613(0x247)](_0x2334c2){const _0x10303a=a0_0xd17613;if(_0x2334c2&&!this[_0x10303a(0x581)][_0x2334c2])throw new j(_0x10303a(0x89f)+_0x2334c2+'\x22\x20not\x20found');let _0x213493=[];for await(let [_0x50076e,_0x1aa67c]of Object[_0x10303a(0x748)](this[_0x10303a(0x581)]))if(_0x1aa67c&&_0x1aa67c['connectionStatus']['state']===_0x10303a(0x4c2)){let _0x504ba5=await this[_0x10303a(0x735)][_0x10303a(0x7b3)][_0x10303a(0x357)](_0x50076e);_0x213493[_0x10303a(0x668)]({'instance':{'instanceName':_0x50076e,'apikey':_0x504ba5[_0x10303a(0x460)],'owner':_0x1aa67c[_0x10303a(0x222)],'profileName':await _0x1aa67c[_0x10303a(0x68a)]()||'not\x20loaded','profilePictureUrl':_0x1aa67c[_0x10303a(0x6d0)]}});}return _0x213493['find'](_0x1a37f4=>_0x1a37f4[_0x10303a(0x5ef)]['instanceName']===_0x2334c2)??_0x213493;}async[a0_0xd17613(0x1ea)](_0x7a8d51){const _0xd941a4=a0_0xd17613;if(this['db']['ENABLED']&&(await this[_0xd941a4(0x735)]['dbServer'][_0xd941a4(0x6af)](),(await this[_0xd941a4(0x354)]['collections']())[_0xd941a4(0x4ba)]>0x0&&await this[_0xd941a4(0x354)][_0xd941a4(0x233)](_0x7a8d51)),this[_0xd941a4(0x527)][_0xd941a4(0x2e1)]){this[_0xd941a4(0x1b6)]['reference']=_0x7a8d51,await this['cache'][_0xd941a4(0x209)]();return;}}async[a0_0xd17613(0x601)](){const _0x5398c3=a0_0xd17613;await this[_0x5398c3(0x50b)]();let _0x243374=async _0xe0366d=>{const _0x1114b0=_0x5398c3;let _0x47bed7=new ve(this['configService'],this[_0x1114b0(0x4e7)],this[_0x1114b0(0x735)]);_0x47bed7[_0x1114b0(0x84b)]=_0xe0366d,await _0x47bed7['connectToWhatsapp'](),this[_0x1114b0(0x581)][_0xe0366d]=_0x47bed7;};try{if(this[_0x5398c3(0x527)][_0x5398c3(0x2e1)]){let _0x24acf8=await this[_0x5398c3(0x1b6)][_0x5398c3(0x483)]();_0x24acf8?.[_0x5398c3(0x4ba)]>0x0&&_0x24acf8['forEach'](async _0x294fbc=>await _0x243374(_0x294fbc[_0x5398c3(0x37b)](':')[0x1]));return;}if(this['db'][_0x5398c3(0x2e1)]){await this['repository'][_0x5398c3(0x8c4)][_0x5398c3(0x6af)]();let _0x1274e4=await this[_0x5398c3(0x354)][_0x5398c3(0x2e7)]();_0x1274e4[_0x5398c3(0x4ba)]>0x0&&_0x1274e4['forEach'](async _0x190aab=>await _0x243374(_0x190aab[_0x5398c3(0x315)][_0x5398c3(0x523)](/^[\w-]+\./,'')));return;}}catch(_0x4b58c1){this[_0x5398c3(0x55f)][_0x5398c3(0x37f)](_0x4b58c1);}}async[a0_0xd17613(0x31d)](){const _0x11c80e=a0_0xd17613;try{let _0xfb2c2e=await this[_0x11c80e(0x735)][_0x11c80e(0x7b3)]['findMany']({'online':!0x1});for(let _0x449c4e of _0xfb2c2e){let _0x64935f=_0x449c4e[_0x11c80e(0x19a)];await De[_0x11c80e(0x3e5)](oe,_0x64935f);}console[_0x11c80e(0x5c6)](_0x11c80e(0x478)+_0xfb2c2e[_0x11c80e(0x4ba)]);let _0x1cd876={'online':!0x1},_0x37e92f=await this[_0x11c80e(0x735)][_0x11c80e(0x7b3)]['deleteMany'](_0x1cd876);console['log'](_0x11c80e(0x698)+_0x37e92f['insertCount']);}catch(_0x15c35f){console[_0x11c80e(0x37f)](_0x11c80e(0x86b),_0x15c35f);}}async[a0_0xd17613(0x50b)](){const _0x3b84b3=a0_0xd17613;try{let _0xe64ad9={'online':!0x1},_0x43091d={'online':!0x1,'lastDisconnect':Date['now']()},_0x47e68e=await this[_0x3b84b3(0x735)]['auth'][_0x3b84b3(0x319)](_0xe64ad9,_0x43091d);await this[_0x3b84b3(0x31d)]();}catch(_0x423f1c){console[_0x3b84b3(0x37f)](_0x3b84b3(0x3d8),_0x423f1c);}}[a0_0xd17613(0x175)](){const _0x2f2f64=a0_0xd17613;this[_0x2f2f64(0x4e7)]['on']('remove.instance',async _0x27fe66=>{const _0x188e6d=_0x2f2f64;try{this[_0x188e6d(0x581)][_0x27fe66]=void 0x0;}catch{}try{this[_0x188e6d(0x1ea)](_0x27fe66);}finally{this[_0x188e6d(0x55f)]['warn'](_0x188e6d(0x89f)+_0x27fe66+_0x188e6d(0x5b8));}});}[a0_0xd17613(0x4e6)](){const _0x4ff880=a0_0xd17613;this['eventEmitter']['on'](_0x4ff880(0x21b),async _0x32433d=>{const _0xd1afb4=_0x4ff880;try{this[_0xd1afb4(0x581)][_0x32433d]=void 0x0;}catch{}try{this['cleaningUp'](_0x32433d);}finally{this[_0xd1afb4(0x55f)][_0xd1afb4(0x388)]('Instance\x20\x22'+_0x32433d+_0xd1afb4(0x5a1));}});}},Gt=class extends O{[a0_0xd17613(0x278)](_0x30c681){return ta(_0x30c681);}async[a0_0xd17613(0x37c)](_0x1cfa17){const _0x59d18a=a0_0xd17613;if(_0x1cfa17[_0x59d18a(0x4ba)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x1cfa17[0x0]['owner'])[_0x59d18a(0x792)]([..._0x1cfa17]))['length']};}catch(_0x41c16f){return _0x41c16f;}}async[a0_0xd17613(0x357)](_0x11c18b,_0x104dc3){const _0x772edf=a0_0xd17613;try{let _0x4984df=this[_0x772edf(0x278)](_0x104dc3),_0x427746=T(_0x11c18b[_0x772edf(0x29d)]);return await _0x4984df[_0x772edf(0x357)](_0x427746)['sort']({'lastmsg':-0x1})[_0x772edf(0x468)](_0x11c18b?.[_0x772edf(0x468)]??0x0)[_0x772edf(0x73f)]();}catch{return[];}}async['delete'](_0x128666,_0x100f0a){const _0x4d97ee=a0_0xd17613;try{return{'deletedCount':(await this[_0x4d97ee(0x278)](_0x100f0a)[_0x4d97ee(0x7b1)]({..._0x128666[_0x4d97ee(0x29d)]}))[_0x4d97ee(0x431)]};}catch(_0x1cc15a){return{'error':_0x1cc15a?.[_0x4d97ee(0x883)]()};}}async[a0_0xd17613(0x742)](_0x5e91a2,_0x1afdc5){const _0xddc980=a0_0xd17613;try{return await this[_0xddc980(0x278)](_0x1afdc5)[_0xddc980(0x7b1)]({..._0x5e91a2[_0xddc980(0x29d)]}),[];}catch(_0x58dd71){return{'error':_0x58dd71?.[_0xddc980(0x883)]()};}}async[a0_0xd17613(0x86d)](_0x488a4c,_0x30fc4a){const _0x449806=a0_0xd17613;try{let _0x581517=this[_0x449806(0x278)](_0x30fc4a),_0x2f38b3=T(_0x488a4c[_0x449806(0x29d)]);return await _0x581517[_0x449806(0x86d)](_0x2f38b3)[_0x449806(0x73f)]();}catch{return null;}}async[a0_0xd17613(0x8ae)](_0x211590,_0x5a061e,_0x287d3f,_0xd8d3e3,_0x3ab39c='$set'){const _0x1cff29=a0_0xd17613;try{let _0x4a5e78={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0xd8d3e3},_0x5b3faf=this[_0x1cff29(0x278)](_0x287d3f),_0x180d70=T(_0x211590[_0x1cff29(0x29d)]);Object[_0x1cff29(0x6f6)](_0x5a061e)[_0x1cff29(0x2a4)](_0xc47ec9=>{_0x5a061e[_0xc47ec9]==null&&delete _0x5a061e[_0xc47ec9];});let _0x5730a7={};return _0x5730a7[_0x3ab39c]=_0x5a061e,await _0x5b3faf[_0x1cff29(0x189)](_0x180d70,_0x5730a7,_0x4a5e78);}catch(_0x785826){return console['error'](_0x785826),null;}}async[a0_0xd17613(0x257)](_0x49d8f4){const _0x50e370=a0_0xd17613;try{let _0x41fa1b=this[_0x50e370(0x278)](_0x49d8f4[0x0][_0x50e370(0x760)][_0x50e370(0x29d)][_0x50e370(0x50a)]),_0x5da226=_0x49d8f4[_0x50e370(0x50f)](_0x56669a=>({'updateOne':{'filter':{..._0x56669a[_0x50e370(0x760)][_0x50e370(0x29d)]},'update':{'$set':_0x56669a[_0x50e370(0x7c7)]},'upsert':!0x0}})),_0x5d98ed=await _0x41fa1b[_0x50e370(0x80a)](_0x5da226);return _0x5d98ed['modifiedCount']+_0x5d98ed[_0x50e370(0x3a3)];}catch(_0x4b06e5){return console[_0x50e370(0x37f)](_0x4b06e5),0x0;}}async['removeUnusedChatFields'](_0x216c51){const _0x2d3ba5=a0_0xd17613;try{let _0x4fb952={'group_isCommunity':'','group_announce':'','group_size':''},_0x1fd002={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x4ad91b={'$unset':_0x4fb952};return(await this[_0x2d3ba5(0x278)](_0x216c51)[_0x2d3ba5(0x257)](_0x1fd002,_0x4ad91b))[_0x2d3ba5(0x50d)];}catch(_0x545922){return console[_0x2d3ba5(0x37f)](_0x2d3ba5(0x27a),_0x545922),0x0;}}async[a0_0xd17613(0x2d2)](_0xd192f9){const _0x42160b=a0_0xd17613;try{let _0x1611df=this[_0x42160b(0x278)](_0xd192f9),_0x37c639={'leadInfo.etiquetas':{'$exists':!0x1}},_0x554c74={'$set':{'leadInfo.etiquetas':[]}};return(await _0x1611df['updateMany'](_0x37c639,_0x554c74))[_0x42160b(0x50d)];}catch(_0x27e523){return console['error'](_0x27e523),0x0;}}async[a0_0xd17613(0x3b0)](_0x225f50){const _0x2be439=a0_0xd17613;try{let _0x155da4=this[_0x2be439(0x278)](_0x225f50),_0x24c9e1={'leadInfo.tags':{'$exists':!0x1}},_0x3fe3ee={'$set':{'leadInfo.tags':[]}};return(await _0x155da4[_0x2be439(0x257)](_0x24c9e1,_0x3fe3ee))[_0x2be439(0x50d)];}catch(_0x207680){return console['error'](_0x207680),0x0;}}async[a0_0xd17613(0x818)](_0x33ee94){const _0x550332=a0_0xd17613;try{let _0xc70ee6=this[_0x550332(0x278)](_0x33ee94),_0x1c2839={'leadInfo.customFields':{'$exists':!0x1}},_0x1de60d={'$set':{'leadInfo.customFields':[]}};return(await _0xc70ee6[_0x550332(0x257)](_0x1c2839,_0x1de60d))[_0x550332(0x50d)];}catch(_0x13d643){return console[_0x550332(0x37f)](_0x13d643),0x0;}}async[a0_0xd17613(0x792)](_0x27fb1b,_0x2b5405){const _0x569a5b=a0_0xd17613;if(!Array['isArray'](_0x27fb1b)||_0x27fb1b[_0x569a5b(0x4ba)]===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this['getChatModelForOwner'](_0x2b5405)['insertMany'](_0x27fb1b))[_0x569a5b(0x4ba)];}catch(_0x24cd0b){throw console[_0x569a5b(0x37f)](_0x569a5b(0x35c),_0x24cd0b),_0x24cd0b;}}async[a0_0xd17613(0x3cf)](_0x5d3995,_0x179b49){const _0x376f63=a0_0xd17613;try{await this[_0x376f63(0x278)](_0x179b49)[_0x376f63(0x47a)]({'_id':_0x5d3995});}catch(_0x4b11d1){throw console[_0x376f63(0x37f)]('Erro\x20ao\x20deletar\x20chat:',_0x4b11d1),_0x4b11d1;}}},Bt=class extends O{constructor(_0xe4b830,_0x1c2cdf,_0x2b8eca){const _0x38813c=a0_0xd17613;super(_0x1c2cdf),this[_0x38813c(0x678)]=_0xe4b830,this[_0x38813c(0x3ea)]=_0x1c2cdf,this[_0x38813c(0x60a)]=_0x2b8eca;}async[a0_0xd17613(0x37c)](_0xc6bde){const _0x3e4566=a0_0xd17613;if(_0xc6bde[_0x3e4566(0x4ba)]!==0x0)try{return{'insertCount':(await this['cacheContactModel'][_0x3e4566(0x792)]([..._0xc6bde]))[_0x3e4566(0x4ba)]};}catch(_0x3638d7){return _0x3638d7;}}async[a0_0xd17613(0x7c7)](_0x351d41,_0x1b5ef1){const _0x4ddc53=a0_0xd17613;try{let _0x2cf1f3=T(_0x351d41['where']);return{'updatedCount':(await this['cacheContactModel'][_0x4ddc53(0x257)](_0x2cf1f3,{'$set':_0x1b5ef1}))[_0x4ddc53(0x50d)]};}catch(_0x311224){return console[_0x4ddc53(0x37f)](_0x4ddc53(0x688),_0x311224),{'error':_0x311224['toString']()};}}async['findManyByIds'](_0x4c30ce){const _0x414464=a0_0xd17613;try{let _0x5ee9cf={'_id':{'$in':_0x4c30ce}};return await this[_0x414464(0x678)][_0x414464(0x357)](_0x5ee9cf)['lean']();}catch(_0x37f111){return console['error'](_0x414464(0x34e),_0x37f111),[];}}async[a0_0xd17613(0x5b4)](_0x1f065f){const _0x7b1ef9=a0_0xd17613;try{return{'deletedCount':(await this[_0x7b1ef9(0x678)][_0x7b1ef9(0x7b1)]({..._0x1f065f[_0x7b1ef9(0x29d)]}))['deletedCount']};}catch(_0x5b220e){return{'error':_0x5b220e?.[_0x7b1ef9(0x883)]()};}}async[a0_0xd17613(0x357)](_0x550e68){const _0x54ffa8=a0_0xd17613;try{let _0x26d1ea=T(_0x550e68[_0x54ffa8(0x29d)]);return await this['cacheContactModel'][_0x54ffa8(0x357)](_0x26d1ea)[_0x54ffa8(0x468)](_0x550e68?.[_0x54ffa8(0x468)]??0x0)[_0x54ffa8(0x73f)]();}catch{return[];}}async[a0_0xd17613(0x86d)](_0x599ff7){const _0x388b3f=a0_0xd17613;try{let _0x4ddc7e=T(_0x599ff7['where']);return await this[_0x388b3f(0x678)]['findOne'](_0x4ddc7e)[_0x388b3f(0x73f)]();}catch{return null;}}},Wt=class extends O{[a0_0xd17613(0x7a4)](_0x39350c){return Ma(_0x39350c);}async['updateOne'](_0x53e632,_0xea079c,_0xa71852,_0x2697a5){const _0x311f0b=a0_0xd17613;try{let _0x19c57b={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x2697a5},_0x14f16c=this[_0x311f0b(0x7a4)](_0xa71852),_0x275fa3=T(_0x53e632[_0x311f0b(0x29d)]);return await _0x14f16c[_0x311f0b(0x189)](_0x275fa3,{'$set':_0xea079c},_0x19c57b);}catch(_0x51a6a9){return console[_0x311f0b(0x37f)](_0x51a6a9),null;}}async['find'](_0x31f1a5,_0x1647f2){const _0x43697d=a0_0xd17613;try{let _0x59f87f=this['getLabelModelForOwner'](_0x1647f2),_0x310416=T(_0x31f1a5[_0x43697d(0x29d)]);return await _0x59f87f['find'](_0x310416);}catch(_0x36e762){console[_0x43697d(0x37f)](_0x36e762);}}async[a0_0xd17613(0x5b4)](_0x40b127,_0x187683){const _0x3e5359=a0_0xd17613;try{let _0x3d17e9=this[_0x3e5359(0x7a4)](_0x187683),_0xbfdb98=T(_0x40b127[_0x3e5359(0x29d)]);await _0x3d17e9[_0x3e5359(0x7b1)](_0xbfdb98);}catch(_0xb0cdbf){console['error'](_0xb0cdbf);}}async[a0_0xd17613(0x742)](_0x5391f1){const _0x244697=a0_0xd17613;try{return await this[_0x244697(0x7a4)](_0x5391f1)[_0x244697(0x202)]['drop'](),{'success':!0x0};}catch(_0x17ec9f){return console['error'](_0x17ec9f),{'success':!0x1,'error':_0x17ec9f};}}},zt=class{constructor(_0x3f2711){const _0x37ec1c=a0_0xd17613;this[_0x37ec1c(0x2fd)]=_0x3f2711;}async[a0_0xd17613(0x28f)]({instanceName:_0x32a466},_0x42f399){const _0x5cab8f=a0_0xd17613;return await this[_0x5cab8f(0x2fd)][_0x5cab8f(0x581)][_0x32a466][_0x5cab8f(0x28f)](_0x42f399);}async[a0_0xd17613(0x544)]({instanceName:_0x1aa148},_0x2a26f1){const _0x531b74=a0_0xd17613;return await this[_0x531b74(0x2fd)]['waInstances'][_0x1aa148]['whatsappNumber'](_0x2a26f1);}async[a0_0xd17613(0x18e)]({instanceName:_0x468383},_0x51a163){const _0x1c3cbf=a0_0xd17613;return await this[_0x1c3cbf(0x2fd)][_0x1c3cbf(0x581)][_0x468383][_0x1c3cbf(0x18e)](_0x51a163);}async[a0_0xd17613(0x791)]({instanceName:_0x2146b8},_0x1526ec){const _0x33e5d0=a0_0xd17613;return await this[_0x33e5d0(0x2fd)][_0x33e5d0(0x581)][_0x2146b8][_0x33e5d0(0x268)](_0x1526ec);}async['archiveChat']({instanceName:_0x4a7d9b},_0x1f22a2){const _0x59964a=a0_0xd17613;return await this[_0x59964a(0x2fd)][_0x59964a(0x581)][_0x4a7d9b][_0x59964a(0x53c)](_0x1f22a2);}async['deleteMessage']({instanceName:_0x183bb6},_0x3db01d){const _0x59f9ba=a0_0xd17613;return await this['waMonitor']['waInstances'][_0x183bb6][_0x59f9ba(0x422)](_0x3db01d);}async[a0_0xd17613(0x7de)]({instanceName:_0x2821b4},_0x58e178){const _0x962f85=a0_0xd17613;return await this['waMonitor'][_0x962f85(0x581)][_0x2821b4]['profilePicture'](_0x58e178['number']);}async[a0_0xd17613(0x6d1)]({instanceName:_0x33866e},_0x46f662){const _0xa851cc=a0_0xd17613;return await this[_0xa851cc(0x2fd)][_0xa851cc(0x581)][_0x33866e][_0xa851cc(0x6d1)](_0x46f662[_0xa851cc(0x5dc)]);}async[a0_0xd17613(0x215)]({instanceName:_0x2154da},_0x274944){const _0xad9052=a0_0xd17613;return await this[_0xad9052(0x2fd)][_0xad9052(0x581)][_0x2154da][_0xad9052(0x215)](_0x274944);}async[a0_0xd17613(0x343)]({instanceName:_0x193426},_0x567947){const _0x16eaa6=a0_0xd17613;return await this[_0x16eaa6(0x2fd)]['waInstances'][_0x193426][_0x16eaa6(0x343)](_0x567947);}async[a0_0xd17613(0x267)]({instanceName:_0x29aa91},_0xe9bbe5){const _0x5ebdc8=a0_0xd17613;return await this[_0x5ebdc8(0x2fd)][_0x5ebdc8(0x581)][_0x29aa91][_0x5ebdc8(0x267)](_0xe9bbe5);}async['fetchMessages']({instanceName:_0x155143},_0x3ca6c5){const _0x1b2a72=a0_0xd17613;return await this[_0x1b2a72(0x2fd)][_0x1b2a72(0x581)][_0x155143][_0x1b2a72(0x235)](_0x3ca6c5);}async[a0_0xd17613(0x789)]({instanceName:_0x29659e}){const _0xcbacd6=a0_0xd17613;return await this[_0xcbacd6(0x2fd)]['waInstances'][_0x29659e][_0xcbacd6(0x789)]();}async[a0_0xd17613(0x82f)]({instanceName:_0x26d6b8}){const _0xcf8453=a0_0xd17613;return await this['waMonitor'][_0xcf8453(0x581)][_0x26d6b8][_0xcf8453(0x82f)]();}async[a0_0xd17613(0x295)]({instanceName:_0x36265c}){const _0x2cebe2=a0_0xd17613;return await this[_0x2cebe2(0x2fd)][_0x2cebe2(0x581)][_0x36265c][_0x2cebe2(0x295)]();}async['updatePrivacySettings']({instanceName:_0x5783fd},_0x439852){const _0x2d2c9c=a0_0xd17613;return await this['waMonitor'][_0x2d2c9c(0x581)][_0x5783fd]['updatePrivacySettings'](_0x439852);}async[a0_0xd17613(0x66a)]({instanceName:_0x5b96f5},_0x418a0d){const _0x5ab608=a0_0xd17613;return await this[_0x5ab608(0x2fd)][_0x5ab608(0x581)][_0x5b96f5][_0x5ab608(0x66a)](_0x418a0d[_0x5ab608(0x5dc)]);}async[a0_0xd17613(0x6c6)]({instanceName:_0x53fffa},_0x4a017c){const _0x2fd09a=a0_0xd17613;return await this['waMonitor'][_0x2fd09a(0x581)][_0x53fffa]['updateProfileName'](_0x4a017c[_0x2fd09a(0x4f2)]);}async['updateProfileStatus']({instanceName:_0x56dd46},_0x29df4a){const _0x582691=a0_0xd17613;return await this[_0x582691(0x2fd)][_0x582691(0x581)][_0x56dd46][_0x582691(0x7c9)](_0x29df4a[_0x582691(0x1f8)]);}async[a0_0xd17613(0x647)]({instanceName:_0x498a89},_0xc75d74){const _0x5911bc=a0_0xd17613;return await this[_0x5911bc(0x2fd)]['waInstances'][_0x498a89][_0x5911bc(0x647)](_0xc75d74[_0x5911bc(0x703)]);}async[a0_0xd17613(0x45c)]({instanceName:_0x4680f9},_0x1833dc){const _0x3a8db4=a0_0xd17613;return await this['waMonitor'][_0x3a8db4(0x581)][_0x4680f9][_0x3a8db4(0x45c)]();}},Ht=require(a0_0xd17613(0x604)),Kt=class l{constructor(_0xa00dfb,_0xf26f49,_0x447636,_0x449bc8,_0x19a03a){const _0x3e3cfb=a0_0xd17613;this[_0x3e3cfb(0x2fd)]=_0xa00dfb,this[_0x3e3cfb(0x3ea)]=_0xf26f49,this[_0x3e3cfb(0x735)]=_0x447636,this['eventEmitter']=_0x449bc8,this[_0x3e3cfb(0x474)]=_0x19a03a,this[_0x3e3cfb(0x55f)]=new $(l[_0x3e3cfb(0x4f2)]);}async[a0_0xd17613(0x3ad)]({instanceName:_0x149a87,apikey:_0x434a98,number:_0x2636d7,proxy:_0x4023a6=!0x0}){const _0x4018b5=a0_0xd17613;try{let _0x2395e0=new ve(this['configService'],this['eventEmitter'],this[_0x4018b5(0x735)]);_0x2395e0[_0x4018b5(0x84b)]=_0x149a87,this[_0x4018b5(0x2fd)]['waInstances'][_0x2395e0[_0x4018b5(0x84b)]]=_0x2395e0;let _0xfb52f1={};_0x434a98?(await this['repository'][_0x4018b5(0x7b3)][_0x4018b5(0x76e)]({'apikey':_0x434a98},_0x149a87),_0xfb52f1[_0x4018b5(0x460)]=_0x434a98):_0xfb52f1=await this[_0x4018b5(0x474)][_0x4018b5(0x7a0)]({'instanceName':_0x2395e0[_0x4018b5(0x84b)]});let _0x224c70;if(_0x2636d7){if(_0x224c70=await this[_0x4018b5(0x3f0)](_0x2636d7),_0x224c70['error'])throw new _(_0x224c70[_0x4018b5(0x37f)][_0x4018b5(0x883)]());_0x2636d7=_0x224c70[_0x4018b5(0x5dc)];}let _0x598ecb;return await _0x2395e0['connectToWhatsapp'](_0x2636d7),await(0x0,Ht[_0x4018b5(0x427)])(0xfa0),_0x2636d7&&await(0x0,Ht[_0x4018b5(0x427)])(0xbb8),_0x598ecb=_0x2395e0[_0x4018b5(0x421)],{'instance':{'instanceName':_0x2395e0[_0x4018b5(0x84b)],'status':_0x4018b5(0x4c9)},'hash':_0xfb52f1,'qrcode':_0x598ecb};}catch(_0x1dd4fb){throw this[_0x4018b5(0x55f)]['error'](_0x1dd4fb),_0x1dd4fb;}}async['connectToWhatsappController']({instanceName:_0x2d1f06,number:_0x51ddce=null}){const _0x1f4d1c=a0_0xd17613;try{let _0x15a5f6=this[_0x1f4d1c(0x2fd)][_0x1f4d1c(0x581)][_0x2d1f06];switch(_0x15a5f6?.[_0x1f4d1c(0x5ad)]?.[_0x1f4d1c(0x74c)]){case _0x1f4d1c(0x3a6):return await _0x15a5f6[_0x1f4d1c(0x3fe)](_0x51ddce),await(0x0,Ht[_0x1f4d1c(0x427)])(0x7d0),_0x15a5f6['qrCode'];case'connecting':return _0x15a5f6[_0x1f4d1c(0x421)];default:return await this[_0x1f4d1c(0x89c)]({'instanceName':_0x2d1f06});}}catch(_0x10b4e1){this[_0x1f4d1c(0x55f)][_0x1f4d1c(0x5c6)](_0x10b4e1);}}async[a0_0xd17613(0x89c)]({instanceName:_0x52f4dd}){const _0x370774=a0_0xd17613;let _0x4e5d6c=this['waMonitor'][_0x370774(0x581)][_0x52f4dd][_0x370774(0x5ad)],_0x4273d9=null;_0x4e5d6c['state']===_0x370774(0x4c2)&&_0x52f4dd&&(_0x4273d9=await this[_0x370774(0x2fd)][_0x370774(0x247)](_0x52f4dd));let _0x612750=null;return _0x4e5d6c['state']===_0x370774(0x448)&&_0x52f4dd&&(_0x612750=this[_0x370774(0x2fd)][_0x370774(0x581)][_0x52f4dd][_0x370774(0x421)]),{'instance':_0x52f4dd,'connectionStatus':_0x4e5d6c,'instanceInfo':_0x4273d9,'qrcode':_0x612750};}async[a0_0xd17613(0x3f0)](_0x53d386){const _0x20b19b=a0_0xd17613;_0x53d386=_0x53d386[_0x20b19b(0x523)](/\D/g,'');let _0x1446e7=Object[_0x20b19b(0x6f6)](this['waMonitor']['waInstances'])[_0x20b19b(0x736)](_0x1377e8=>{const _0x4abc2c=_0x20b19b;let _0x2aacc2=this['waMonitor'][_0x4abc2c(0x581)][_0x1377e8];return _0x2aacc2&&_0x2aacc2[_0x4abc2c(0x5ad)]&&_0x2aacc2['connectionStatus']['state']===_0x4abc2c(0x4c2);});if(_0x1446e7[_0x20b19b(0x4ba)]===0x0)return{'number':this['formatBRNumber'](_0x53d386)};let _0x3e8baa=Math[_0x20b19b(0x2a9)](Math[_0x20b19b(0x23e)]()*_0x1446e7[_0x20b19b(0x4ba)]),_0x3428c1=_0x1446e7[_0x3e8baa];try{let _0x44281c=(await this[_0x20b19b(0x2fd)][_0x20b19b(0x581)][_0x3428c1]['whatsappNumber']({'numbers':[_0x53d386]}))['shift']();return _0x44281c[_0x20b19b(0x250)]?{'number':_0x44281c[_0x20b19b(0x773)][_0x20b19b(0x523)]('@s.whatsapp.net','')}:{'number':_0x53d386,'error':_0x20b19b(0x624)};}catch(_0x23734c){return this[_0x20b19b(0x55f)]['error'](_0x20b19b(0x23b)+_0x23734c),{'number':_0x53d386,'error':'Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.'};}}[a0_0xd17613(0x2ef)](_0x31b48e){const _0x21eceb=a0_0xd17613;let _0x91ac1f=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x21eceb(0x2f2)](_0x31b48e);if(_0x91ac1f&&_0x91ac1f[0x1]==='55'){let _0xc3e940=_0x91ac1f[0x2],_0x2c6d9c=_0x91ac1f[0x3],_0x320fbf=_0x91ac1f[0x4];if(parseInt(_0xc3e940)>=0x1f&&_0x2c6d9c==='9')return _0x91ac1f[0x1]+_0xc3e940+_0x320fbf;}return _0x31b48e;}async[a0_0xd17613(0x269)]({instanceName:_0x573714}){const _0x194f81=a0_0xd17613;try{return this[_0x194f81(0x2fd)][_0x194f81(0x581)][_0x573714]?.[_0x194f81(0x197)]?.['ws']?.[_0x194f81(0x3a6)](),{'status':_0x194f81(0x286),'error':!0x1,'response':{'message':_0x194f81(0x2c5)}};}catch(_0x5833b3){this['logger']['error'](_0x5833b3);}}async[a0_0xd17613(0x3b6)]({instanceName:_0x3549c3}){const _0x4c6e9c=a0_0xd17613;return _0x3549c3?this[_0x4c6e9c(0x2fd)]['instanceInfo'](_0x3549c3):this[_0x4c6e9c(0x2fd)][_0x4c6e9c(0x247)]();}async[a0_0xd17613(0x6d6)]({instanceName:_0x1f11b9}){const _0x5f549a=a0_0xd17613;try{return await this[_0x5f549a(0x2fd)][_0x5f549a(0x581)][_0x1f11b9]?.[_0x5f549a(0x197)]?.[_0x5f549a(0x6d6)]('Log\x20out\x20instance:\x20'+_0x1f11b9),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x909ebd){throw new _(_0x909ebd[_0x5f549a(0x883)]());}}async[a0_0xd17613(0x18d)]({instanceName:_0x29aa2e}){const _0x5e5475=a0_0xd17613;if((await this['connectionState']({'instanceName':_0x29aa2e}))[_0x5e5475(0x5ad)][_0x5e5475(0x74c)]==='open')throw new m([_0x5e5475(0x2f3),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this[_0x5e5475(0x2fd)]['waInstances'][_0x29aa2e],{'error':!0x1,'message':_0x5e5475(0x33b)};}catch(_0x315d87){throw new m(_0x315d87[_0x5e5475(0x883)]());}}},ee=require(a0_0xd17613(0x68b)),Qt=class{constructor(_0x174c0f){const _0x46c58b=a0_0xd17613;this[_0x46c58b(0x2fd)]=_0x174c0f;}async[a0_0xd17613(0x488)]({instanceName:_0x15585c},_0x312a8d){const _0x2acc7d=a0_0xd17613;return await this[_0x2acc7d(0x2fd)]['waInstances'][_0x15585c][_0x2acc7d(0x1a8)](_0x312a8d);}async[a0_0xd17613(0x732)]({instanceName:_0x424c82},_0x3c2d29){const _0x372c55=a0_0xd17613;return await this['waMonitor'][_0x372c55(0x581)][_0x424c82][_0x372c55(0x723)](_0x3c2d29);}async[a0_0xd17613(0x7bd)]({instanceName:_0x48ee2e},_0x9acde){const _0x481fc3=a0_0xd17613;if((0x0,ee[_0x481fc3(0x24e)])(_0x9acde?.[_0x481fc3(0x69e)]?.[_0x481fc3(0x51a)])&&!_0x9acde?.[_0x481fc3(0x69e)]?.[_0x481fc3(0x73b)])throw new m(_0x481fc3(0x6e1));if((0x0,ee[_0x481fc3(0x195)])(_0x9acde?.[_0x481fc3(0x69e)]?.['media'])||(0x0,ee[_0x481fc3(0x24e)])(_0x9acde?.[_0x481fc3(0x69e)]?.['media']))return await this[_0x481fc3(0x2fd)][_0x481fc3(0x581)][_0x48ee2e]['mediaMessage'](_0x9acde);throw new m(_0x481fc3(0x3c0));}async[a0_0xd17613(0x4f6)]({instanceName:_0x2b3524},_0x52c3c8){const _0x1a0027=a0_0xd17613;if((0x0,ee[_0x1a0027(0x195)])(_0x52c3c8[_0x1a0027(0x2f4)][_0x1a0027(0x783)])||(0x0,ee[_0x1a0027(0x24e)])(_0x52c3c8[_0x1a0027(0x2f4)][_0x1a0027(0x783)]))return await this[_0x1a0027(0x2fd)][_0x1a0027(0x581)][_0x2b3524][_0x1a0027(0x6c7)](_0x52c3c8);throw new m(_0x1a0027(0x3c0));}async[a0_0xd17613(0x366)]({instanceName:_0x1dbc61},_0x2d5f4a){const _0x19000e=a0_0xd17613;if((0x0,ee[_0x19000e(0x195)])(_0x2d5f4a['audioMessage']['audio'])||(0x0,ee['isBase64'])(_0x2d5f4a[_0x19000e(0x34a)]['audio']))return await this['waMonitor'][_0x19000e(0x581)][_0x1dbc61][_0x19000e(0x7aa)](_0x2d5f4a);throw new m(_0x19000e(0x3c0));}async[a0_0xd17613(0x71c)]({instanceName:_0x5d50fa},_0x54f87f){const _0x1677d3=a0_0xd17613;if((0x0,ee['isBase64'])(_0x54f87f[_0x1677d3(0x236)][_0x1677d3(0x69e)]?.[_0x1677d3(0x51a)])&&!_0x54f87f['buttonMessage'][_0x1677d3(0x69e)]?.['fileName'])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this[_0x1677d3(0x2fd)][_0x1677d3(0x581)][_0x5d50fa][_0x1677d3(0x236)](_0x54f87f);}async[a0_0xd17613(0x24b)]({instanceName:_0x21474c},_0x48fa71){const _0x3eed82=a0_0xd17613;return await this['waMonitor'][_0x3eed82(0x581)][_0x21474c][_0x3eed82(0x64b)](_0x48fa71);}async['sendPoll']({instanceName:_0x178117},_0x55735e){const _0xc29381=a0_0xd17613;return await this[_0xc29381(0x2fd)][_0xc29381(0x581)][_0x178117]['pollMessage'](_0x55735e);}async[a0_0xd17613(0x504)]({instanceName:_0x4f8cb8},_0xd969a2){const _0x238f1a=a0_0xd17613;return await this[_0x238f1a(0x2fd)]['waInstances'][_0x4f8cb8]['listMessage'](_0xd969a2);}async[a0_0xd17613(0x1bf)]({instanceName:_0x392001},_0x48f717){const _0x273dbc=a0_0xd17613;return await this[_0x273dbc(0x2fd)][_0x273dbc(0x581)][_0x392001][_0x273dbc(0x8be)](_0x48f717);}async['sendReaction']({instanceName:_0x1ad12a},_0x2c9de7){const _0x19784b=a0_0xd17613;if(!_0x2c9de7[_0x19784b(0x53b)][_0x19784b(0x621)]['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x19784b(0x2fd)][_0x19784b(0x581)][_0x1ad12a][_0x19784b(0x53b)](_0x2c9de7);}async[a0_0xd17613(0x618)]({instanceName:_0x306a13},_0x58cbe5){const _0x31826f=a0_0xd17613;return await this[_0x31826f(0x2fd)]['waInstances'][_0x306a13][_0x31826f(0x60d)](_0x58cbe5);}},_o=require('jsonwebtoken'),Us=require(a0_0xd17613(0x630)),Yt=class l{constructor(_0x5aeef0,_0x18ef37,_0x187ac5){const _0x237f4d=a0_0xd17613;this[_0x237f4d(0x3ea)]=_0x5aeef0,this[_0x237f4d(0x2fd)]=_0x18ef37,this[_0x237f4d(0x735)]=_0x187ac5,this[_0x237f4d(0x55f)]=new $(l[_0x237f4d(0x4f2)]);}async[a0_0xd17613(0x560)](_0x1bb496){const _0x1c3d36=a0_0xd17613;let _0x4d191a=this[_0x1c3d36(0x3ea)][_0x1c3d36(0x8bc)]('AUTHENTICATION')[_0x1c3d36(0x3ba)],_0x4c0f18=(0x0,_o[_0x1c3d36(0x3df)])({'instanceName':_0x1bb496[_0x1c3d36(0x84b)],'apiName':ot,'tokenId':(0x0,Us['v4'])()},_0x4d191a['SECRET'],{'expiresIn':_0x4d191a[_0x1c3d36(0x1e1)],'encoding':_0x1c3d36(0x8c8),'subject':_0x1c3d36(0x1a9)}),_0x26d598=await this[_0x1c3d36(0x735)][_0x1c3d36(0x7b3)][_0x1c3d36(0x76e)]({'jwt':_0x4c0f18},_0x1bb496[_0x1c3d36(0x84b)]);if(_0x26d598['error'])throw this[_0x1c3d36(0x55f)][_0x1c3d36(0x37f)]({'localError':l[_0x1c3d36(0x4f2)]+_0x1c3d36(0x340),'error':_0x26d598[_0x1c3d36(0x37f)]}),new m(_0x1c3d36(0x1a1),_0x26d598[_0x1c3d36(0x37f)]?.[_0x1c3d36(0x883)]());return{'jwt':_0x4c0f18};}async[a0_0xd17613(0x460)](_0x11e4c6){const _0x1cd38d=a0_0xd17613;let _0x136e93=(0x0,Us['v4'])()['toUpperCase'](),_0x2fbdf7=await this[_0x1cd38d(0x735)]['auth']['create']({'apikey':_0x136e93},_0x11e4c6[_0x1cd38d(0x84b)]);if(_0x2fbdf7[_0x1cd38d(0x37f)])throw this['logger'][_0x1cd38d(0x37f)]({'localError':l[_0x1cd38d(0x4f2)]+_0x1cd38d(0x340),'error':_0x2fbdf7['error']}),new m(_0x1cd38d(0x1a1),_0x2fbdf7[_0x1cd38d(0x37f)]?.[_0x1cd38d(0x883)]());return{'apikey':_0x136e93};}async[a0_0xd17613(0x7a0)](_0x85ba9c){const _0x1e86ba=a0_0xd17613;let _0x2ea358=this[_0x1e86ba(0x3ea)]['get'](_0x1e86ba(0x299));return await this[_0x2ea358[_0x1e86ba(0x2fa)]](_0x85ba9c);}},Xt=class{constructor(_0x23e695){const _0x47ef35=a0_0xd17613;this[_0x47ef35(0x2fd)]=_0x23e695;}async[a0_0xd17613(0x441)](_0x2ef505,_0x1b5a41){const _0x24c761=a0_0xd17613;return await this[_0x24c761(0x2fd)][_0x24c761(0x581)][_0x2ef505[_0x24c761(0x84b)]][_0x24c761(0x441)](_0x1b5a41);}async['updateGroupPicture'](_0x449aff,_0x2c8013){const _0x1d66b5=a0_0xd17613;return await this['waMonitor'][_0x1d66b5(0x581)][_0x449aff[_0x1d66b5(0x84b)]][_0x1d66b5(0x665)](_0x2c8013);}async[a0_0xd17613(0x807)](_0x1bafc1,_0x43eb1a){const _0x45cc6f=a0_0xd17613;return await this[_0x45cc6f(0x2fd)][_0x45cc6f(0x581)][_0x1bafc1[_0x45cc6f(0x84b)]]['groupDesc'](_0x43eb1a);}async[a0_0xd17613(0x210)](_0x3a9efa,_0x5a258a){const _0x1eb044=a0_0xd17613;return await this[_0x1eb044(0x2fd)][_0x1eb044(0x581)][_0x3a9efa['instanceName']][_0x1eb044(0x210)](_0x5a258a);}async['groupBetterSetting'](_0x3b9b0d,_0x54beca){const _0x339e0d=a0_0xd17613;return await this[_0x339e0d(0x2fd)][_0x339e0d(0x581)][_0x3b9b0d[_0x339e0d(0x84b)]]['groupBetterSetting'](_0x54beca);}async[a0_0xd17613(0x718)](_0xe3b658,_0x5433c1){const _0x3efee9=a0_0xd17613;return await this[_0x3efee9(0x2fd)]['waInstances'][_0xe3b658[_0x3efee9(0x84b)]][_0x3efee9(0x718)](_0x5433c1);}async[a0_0xd17613(0x49f)](_0x5a9e82,_0xb2d5e8){const _0x57f7d3=a0_0xd17613;return await this[_0x57f7d3(0x2fd)]['waInstances'][_0x5a9e82[_0x57f7d3(0x84b)]][_0x57f7d3(0x575)](_0xb2d5e8);}async[a0_0xd17613(0x6d7)](_0x24e12b){const _0x48aed4=a0_0xd17613;return await this['waMonitor'][_0x48aed4(0x581)][_0x24e12b[_0x48aed4(0x84b)]][_0x48aed4(0x6d7)]();}async[a0_0xd17613(0x495)](_0x4e97e6,_0x5442d0){const _0x50531f=a0_0xd17613;return await this[_0x50531f(0x2fd)]['waInstances'][_0x4e97e6['instanceName']]['inviteCode'](_0x5442d0);}async['joinGroup'](_0x6bb160,_0x1255ba){const _0x2f5185=a0_0xd17613;return await this[_0x2f5185(0x2fd)][_0x2f5185(0x581)][_0x6bb160['instanceName']][_0x2f5185(0x184)](_0x1255ba);}async[a0_0xd17613(0x526)](_0x2d38ec,_0x32be42){const _0x45be12=a0_0xd17613;return await this[_0x45be12(0x2fd)][_0x45be12(0x581)][_0x2d38ec[_0x45be12(0x84b)]][_0x45be12(0x526)](_0x32be42);}async[a0_0xd17613(0x43f)](_0x2b7bb9,_0xd26084){const _0x2b5bcc=a0_0xd17613;return await this[_0x2b5bcc(0x2fd)]['waInstances'][_0x2b7bb9['instanceName']][_0x2b5bcc(0x43f)](_0xd26084);}async[a0_0xd17613(0x61f)](_0x374a20,_0x382e96){const _0x55c3cc=a0_0xd17613;return await this[_0x55c3cc(0x2fd)]['waInstances'][_0x374a20[_0x55c3cc(0x84b)]][_0x55c3cc(0x61f)](_0x382e96);}async[a0_0xd17613(0x75b)](_0x1dae50,_0x58f402){const _0x29f56e=a0_0xd17613;return await this[_0x29f56e(0x2fd)][_0x29f56e(0x581)][_0x1dae50[_0x29f56e(0x84b)]][_0x29f56e(0x2b7)](_0x58f402);}async[a0_0xd17613(0x180)](_0xe4e1d1,_0x4f2383){const _0x2ab937=a0_0xd17613;return await this[_0x2ab937(0x2fd)][_0x2ab937(0x581)][_0xe4e1d1[_0x2ab937(0x84b)]][_0x2ab937(0x180)](_0x4f2383);}async[a0_0xd17613(0x897)](_0x46753f,_0x2f3221){const _0x37894e=a0_0xd17613;return await this['waMonitor'][_0x37894e(0x581)][_0x46753f[_0x37894e(0x84b)]]['leaveGroup'](_0x2f3221);}},Zt=class{constructor(_0x13303){const _0x5afc79=a0_0xd17613;this[_0x5afc79(0x2fd)]=_0x13303;}[a0_0xd17613(0x76e)](_0x48f8c9,_0x23cdfc){const _0x7866c2=a0_0xd17613;return this[_0x7866c2(0x2fd)][_0x7866c2(0x581)][_0x48f8c9[_0x7866c2(0x84b)]][_0x7866c2(0x2f0)](_0x23cdfc);}async[a0_0xd17613(0x357)](_0x26a099){const _0x3eee71=a0_0xd17613;try{return await this['waMonitor']['waInstances'][_0x26a099[_0x3eee71(0x84b)]][_0x3eee71(0x46e)]();}catch{return{'enabled':null,'url':''};}}},Hp=new $('FlowController'),es=class{constructor(_0x4cae53){const _0x5d9ff2=a0_0xd17613;this[_0x5d9ff2(0x2fd)]=_0x4cae53;}async[a0_0xd17613(0x843)](_0x58ac55,_0x5f404c){const _0x59720c=a0_0xd17613;return await this[_0x59720c(0x2fd)]['waInstances'][_0x58ac55[_0x59720c(0x84b)]][_0x59720c(0x843)](_0x5f404c);}async['getScheduleMessage'](_0x5b86eb){const _0x5084b8=a0_0xd17613;return await this[_0x5084b8(0x2fd)][_0x5084b8(0x581)][_0x5b86eb['instanceName']][_0x5084b8(0x806)]();}async[a0_0xd17613(0x43c)](_0x258f41){const _0x404788=a0_0xd17613;return await this[_0x404788(0x2fd)]['waInstances'][_0x258f41[_0x404788(0x84b)]][_0x404788(0x43c)]();}async['getAutomateSystem'](_0x467bce){const _0x5f39df=a0_0xd17613;return await this[_0x5f39df(0x2fd)][_0x5f39df(0x581)][_0x467bce[_0x5f39df(0x84b)]][_0x5f39df(0x737)]();}async[a0_0xd17613(0x861)](_0x28aac2,_0xfd4e11){const _0x2afa29=a0_0xd17613;return await this[_0x2afa29(0x2fd)][_0x2afa29(0x581)][_0x28aac2[_0x2afa29(0x84b)]][_0x2afa29(0x861)](_0xfd4e11);}async[a0_0xd17613(0x809)](_0x1dac10,_0x2b74ad){const _0xb3ec2a=a0_0xd17613;return await this['waMonitor'][_0xb3ec2a(0x581)][_0x1dac10[_0xb3ec2a(0x84b)]][_0xb3ec2a(0x809)](_0x2b74ad);}async[a0_0xd17613(0x65f)](_0x40e0eb,_0x47a893){const _0x2c0318=a0_0xd17613;return await this[_0x2c0318(0x2fd)][_0x2c0318(0x581)][_0x40e0eb[_0x2c0318(0x84b)]][_0x2c0318(0x65f)](_0x47a893);}async[a0_0xd17613(0x5e4)](_0x426f90,_0x4203f8){const _0x343672=a0_0xd17613;return await this[_0x343672(0x2fd)][_0x343672(0x581)][_0x426f90['instanceName']]['updateFlowConfig'](_0x4203f8);}async[a0_0xd17613(0x5ed)](_0x438631,_0x38d67b){const _0x406500=a0_0xd17613;return await this[_0x406500(0x2fd)][_0x406500(0x581)][_0x438631[_0x406500(0x84b)]]['startFlow'](_0x38d67b);}async['startFlowWebhook'](_0x31d1df,_0x445c81,_0x3edc66,_0x4757d0){const _0x1c7740=a0_0xd17613;return await this[_0x1c7740(0x2fd)][_0x1c7740(0x581)][_0x31d1df]['startFlowWebhook'](_0x445c81,_0x3edc66,_0x4757d0);}async['getConversation'](_0x5b523a,_0x583fc4){const _0x31e8cf=a0_0xd17613;return await this['waMonitor']['waInstances'][_0x5b523a['instanceName']][_0x31e8cf(0x56a)](_0x583fc4);}async[a0_0xd17613(0x785)](_0x54d6ff,_0x13dd55){const _0x16f567=a0_0xd17613;return await this[_0x16f567(0x2fd)][_0x16f567(0x581)][_0x54d6ff[_0x16f567(0x84b)]][_0x16f567(0x785)](_0x13dd55);}async['editConversation'](_0x25c939,_0x49ad0d){const _0x5019f6=a0_0xd17613;return await this[_0x5019f6(0x2fd)]['waInstances'][_0x25c939[_0x5019f6(0x84b)]]['editConversation'](_0x49ad0d);}async['deleteConversation'](_0x44b0fe,_0x2a981e){const _0x3148d0=a0_0xd17613;return await this['waMonitor'][_0x3148d0(0x581)][_0x44b0fe[_0x3148d0(0x84b)]]['deleteConversation'](_0x2a981e);}async['getFlow'](_0x22bd99,_0x13c8dd){const _0x5c0ae3=a0_0xd17613;return await this[_0x5c0ae3(0x2fd)][_0x5c0ae3(0x581)][_0x22bd99[_0x5c0ae3(0x84b)]][_0x5c0ae3(0x881)](_0x13c8dd[_0x5c0ae3(0x19a)]);}async[a0_0xd17613(0x326)](_0x300f97,_0x348a6b,_0x13096b){const _0xdcc69a=a0_0xd17613;return await this[_0xdcc69a(0x2fd)]['waInstances'][_0x300f97[_0xdcc69a(0x84b)]][_0xdcc69a(0x326)](_0x348a6b,_0x13096b);}async[a0_0xd17613(0x64d)](_0x1d98f5,_0x25df20,_0x58c6d6){const _0x2f8060=a0_0xd17613;return await this['waMonitor'][_0x2f8060(0x581)][_0x1d98f5[_0x2f8060(0x84b)]][_0x2f8060(0x64d)](_0x25df20,_0x58c6d6);}async[a0_0xd17613(0x8c9)](_0x2e8e6d,_0x347676){const _0x5aac68=a0_0xd17613;return await this[_0x5aac68(0x2fd)][_0x5aac68(0x581)][_0x2e8e6d[_0x5aac68(0x84b)]][_0x5aac68(0x8c9)](_0x347676);}async['editFlowReply'](_0x39870c,_0x3da844){const _0x3cabc0=a0_0xd17613;return await this[_0x3cabc0(0x2fd)][_0x3cabc0(0x581)][_0x39870c[_0x3cabc0(0x84b)]][_0x3cabc0(0x5b0)](_0x3da844);}async[a0_0xd17613(0x1ce)](_0x3f09fe,_0x208bb7){const _0xadef3a=a0_0xd17613;return await this[_0xadef3a(0x2fd)][_0xadef3a(0x581)][_0x3f09fe['instanceName']][_0xadef3a(0x1ce)](_0x208bb7);}async[a0_0xd17613(0x4bb)](_0x5cedba,_0x3f72c1){const _0x219f76=a0_0xd17613;return await this[_0x219f76(0x2fd)]['waInstances'][_0x5cedba[_0x219f76(0x84b)]]['editFlowCondition'](_0x3f72c1);}async[a0_0xd17613(0x5fd)](_0x175dec,_0x170808){const _0x502725=a0_0xd17613;return await this[_0x502725(0x2fd)][_0x502725(0x581)][_0x175dec['instanceName']][_0x502725(0x5fd)](_0x170808);}async[a0_0xd17613(0x179)](_0x12f54b,_0x2ba6c2){const _0x2894a3=a0_0xd17613;return await this['waMonitor'][_0x2894a3(0x581)][_0x12f54b[_0x2894a3(0x84b)]]['editFlowVariable'](_0x2ba6c2);}async['deleteFlow'](_0x320321,_0xa8081){const _0x1e3e4a=a0_0xd17613;return await this['waMonitor'][_0x1e3e4a(0x581)][_0x320321['instanceName']]['deleteFlow'](_0xa8081);}async[a0_0xd17613(0x7e8)](_0x38ab74){const _0x8a9d03=a0_0xd17613;return await this['waMonitor']['waInstances'][_0x38ab74[_0x8a9d03(0x84b)]][_0x8a9d03(0x7e8)]();}},ts=class{constructor(_0x2667a8){this['webhookService']=_0x2667a8;}async['createWebhook'](_0x142e75,_0x273df6){return this['webhookService']['create'](_0x142e75,_0x273df6);}async['findWebhook'](_0x220a1c){const _0x1e5e5b=a0_0xd17613;return this[_0x1e5e5b(0x58a)][_0x1e5e5b(0x357)](_0x220a1c);}},ss=class extends O{constructor(_0x103744,_0x24e785){const _0x46286e=a0_0xd17613;super(_0x24e785),this[_0x46286e(0x2aa)]=_0x103744,this[_0x46286e(0x3ea)]=_0x24e785;}async['create'](_0x9a7dda,_0x3510b9){const _0x1c32ed=a0_0xd17613;try{return this['dbSettings'][_0x1c32ed(0x2e1)]?{'insertCount':(await this[_0x1c32ed(0x2aa)][_0x1c32ed(0x19e)]({'_id':_0x3510b9},{..._0x9a7dda},{'upsert':!0x0}))[_0x1c32ed(0x50d)]}:{'insertCount':0x1};}catch(_0x9f0a71){return _0x9f0a71;}}async[a0_0xd17613(0x5b4)](_0x32f7db){const _0x310b36=a0_0xd17613;try{if(this['dbSettings'][_0x310b36(0x2e1)]){await this[_0x310b36(0x2aa)][_0x310b36(0x47a)]({'_id':_0x32f7db});return;}}catch(_0x2dce60){return{'error':_0x2dce60};}}async[a0_0xd17613(0x357)](_0x13c38c){const _0x104799=a0_0xd17613;try{if(this[_0x104799(0x54f)][_0x104799(0x2e1)])return await this['webhookModel']['findOne']({'_id':_0x13c38c});}catch{return{};}}},as=class extends O{constructor(_0x87e1a8,_0x3c1bb5){const _0x20d047=a0_0xd17613;super(_0x3c1bb5),this[_0x20d047(0x4a0)]=_0x87e1a8,this[_0x20d047(0x3ea)]=_0x3c1bb5,this['auth']=_0x3c1bb5[_0x20d047(0x8bc)](_0x20d047(0x299));}async[a0_0xd17613(0x76e)](_0x43f963,_0x11426a){const _0xbd5efa=a0_0xd17613;try{if(this['dbSettings'][_0xbd5efa(0x2e1)])return{'insertCount':(await this[_0xbd5efa(0x4a0)][_0xbd5efa(0x8ae)]({'_id':_0x11426a},{'$set':{..._0x43f963}},{'upsert':!0x0}))[_0xbd5efa(0x50d)]};}catch(_0x2da4a3){return{'error':_0x2da4a3};}}async[a0_0xd17613(0x319)](_0x198b50,_0x3947dc){const _0x471589=a0_0xd17613;try{if(this[_0x471589(0x54f)][_0x471589(0x2e1)])return{'insertCount':(await this['authModel'][_0x471589(0x257)](_0x198b50,{'$set':_0x3947dc},{'upsert':!0x1}))[_0x471589(0x50d)]};throw new Error(_0x471589(0x7d2));}catch(_0x16d5ec){return{'error':_0x16d5ec};}}async[a0_0xd17613(0x7b1)](_0x157f9d){const _0x107e92=a0_0xd17613;try{if(this['dbSettings'][_0x107e92(0x2e1)])return{'insertCount':(await this['authModel']['deleteMany'](_0x157f9d))[_0x107e92(0x431)]};throw new Error(_0x107e92(0x568));}catch(_0x103732){return{'error':_0x103732};}}async[a0_0xd17613(0x5b4)](_0xef2abd){const _0x40f708=a0_0xd17613;try{if(this['dbSettings']['ENABLED']){await this[_0x40f708(0x4a0)][_0x40f708(0x47a)]({'_id':_0xef2abd});return;}}catch(_0x50c987){return{'error':_0x50c987};}}async[a0_0xd17613(0x357)](_0x5c36be){const _0x379219=a0_0xd17613;try{if(this[_0x379219(0x54f)][_0x379219(0x2e1)])return await this[_0x379219(0x4a0)][_0x379219(0x86d)]({'_id':_0x5c36be});}catch{return{};}}async['findAll'](){const _0x365b50=a0_0xd17613;try{if(this[_0x365b50(0x54f)][_0x365b50(0x2e1)])return await this[_0x365b50(0x4a0)][_0x365b50(0x357)]();}catch{return[];}}async[a0_0xd17613(0x4b9)](_0x548cd1){const _0x588062=a0_0xd17613;try{if(this[_0x588062(0x54f)][_0x588062(0x2e1)])return await this[_0x588062(0x4a0)]['find'](_0x548cd1);}catch{return[];}}},xo=require(a0_0xd17613(0x630)),os=class extends O{async[a0_0xd17613(0x47a)](_0x21437f){const _0x3af508=a0_0xd17613;try{let _0x183c06=T(_0x21437f[_0x3af508(0x29d)]);return{'deletedCount':(await pe['deleteOne'](_0x183c06))[_0x3af508(0x431)]};}catch(_0xedc444){return{'error':_0xedc444?.[_0x3af508(0x883)]()};}}async[a0_0xd17613(0x8ae)](_0x1145b0,_0x1cafb8){const _0x46bd92=a0_0xd17613;try{let _0x3e8dff=await pe[_0x46bd92(0x462)](_0x1145b0);return _0x3e8dff?(Object[_0x46bd92(0x5d7)](_0x3e8dff,_0x1cafb8),await _0x3e8dff[_0x46bd92(0x534)]()):(console[_0x46bd92(0x37f)](_0x46bd92(0x750),_0x1145b0),null);}catch(_0x2247d2){return console[_0x46bd92(0x37f)](_0x46bd92(0x374),_0x2247d2),null;}}async[a0_0xd17613(0x4af)](_0x19e20c){const _0x5e9fdd=a0_0xd17613;try{return await new pe(_0x19e20c)[_0x5e9fdd(0x534)]();}catch(_0xacfbfa){return console['error'](_0x5e9fdd(0x587),_0xacfbfa),null;}}async['findAll'](_0xcbaf98){const _0x3c3006=a0_0xd17613;try{let _0xfcd301=_0xcbaf98['where']??{};return await pe[_0x3c3006(0x357)](_0xfcd301)[_0x3c3006(0x468)](_0xcbaf98[_0x3c3006(0x468)]??0x0)['lean']();}catch(_0x201e6f){return console[_0x3c3006(0x37f)](_0x3c3006(0x4dd),_0x201e6f),[];}}async[a0_0xd17613(0x86d)](_0x5d4b6c){const _0x180fb7=a0_0xd17613;try{let _0x14b691=T(_0x5d4b6c[_0x180fb7(0x29d)]);return await pe[_0x180fb7(0x86d)](_0x14b691)[_0x180fb7(0x73f)]();}catch{return null;}}async[a0_0xd17613(0x742)](_0x126507){const _0x3023e3=a0_0xd17613;try{let _0x3f6426=vs(_0x126507);if(!_0x3f6426){let _0x1e57b1=_0x3023e3(0x80b)+_0x126507;return console[_0x3023e3(0x37f)](_0x1e57b1),{'success':!0x1,'error':new Error(_0x1e57b1)};}return await _0x3f6426[_0x3023e3(0x202)][_0x3023e3(0x1d9)](),{'success':!0x0};}catch(_0x1f2c26){return console[_0x3023e3(0x37f)](_0x1f2c26),{'success':!0x1,'error':_0x1f2c26 instanceof Error?_0x1f2c26:new Error(String(_0x1f2c26))};}}async[a0_0xd17613(0x3e6)](_0x1bf37b){const _0x16c6c6=a0_0xd17613;try{let _0x1fb3ba=vs(_0x1bf37b);if(!_0x1fb3ba)return console[_0x16c6c6(0x37f)](_0x16c6c6(0x80b)+_0x1bf37b),0x0;let _0x542844=await _0x1fb3ba['find']({})['lean']();if(console[_0x16c6c6(0x5c6)](_0x16c6c6(0x5dd)+_0x1bf37b+_0x16c6c6(0x54c)+_0x542844[_0x16c6c6(0x4ba)]),!_0x542844||_0x542844['length']===0x0)return console[_0x16c6c6(0x5c6)](_0x16c6c6(0x879)+_0x1bf37b),0x0;let _0x1c1e62=_0x542844['map'](_0x9b04e7=>{const _0x1e4fcf=_0x16c6c6;let {global:_0x3050dc,startID:_0x15dd8b,sharePass:_0x5337aa,shareOwners:_0x160762,minutesToClose:_0x90667,readMessages:_0x161951,testingWith:_0x56c4c5,startCommandWord:_0x1b4b5c,default:_0x2a4385,..._0x44192e}=_0x9b04e7,_0x22fe4e=Array[_0x1e4fcf(0x310)](new Set([..._0x160762,_0x1bf37b])),_0x22aa6a=Array[_0x1e4fcf(0x310)](new Set([..._0x160762,_0x1bf37b]));return{..._0x44192e,'_id':(0x0,xo['v4'])(),'owner':_0x1bf37b,'globalShow':_0x9b04e7[_0x1e4fcf(0x4fd)]==='true','whoCanEdit':_0x22fe4e,'whoCanUse':_0x22aa6a};});return await pe[_0x16c6c6(0x792)](_0x1c1e62),await _0x1fb3ba[_0x16c6c6(0x202)][_0x16c6c6(0x1d9)](),console['log'](_0x16c6c6(0x602)+_0x1bf37b+_0x16c6c6(0x2bb)),_0x1c1e62[_0x16c6c6(0x4ba)];}catch(_0x84b6d6){return console['error']('Erro\x20ao\x20migrar\x20fluxos\x20do\x20proprietário\x20\x27'+_0x1bf37b+'\x27:',_0x84b6d6),0x0;}}async['migrateAllOwnersFlowsToCentralizedCollection'](_0x345e0c){const _0x225c53=a0_0xd17613;let _0xeef2ad=0x0;for(let _0x4b789b of _0x345e0c){let _0x1cd795=await this[_0x225c53(0x3e6)](_0x4b789b);_0xeef2ad+=_0x1cd795;}return console[_0x225c53(0x5c6)](_0x225c53(0x82c)+_0xeef2ad),_0xeef2ad;}},is=class extends O{[a0_0xd17613(0x83d)](_0x41e1fd){return ya(_0x41e1fd);}async[a0_0xd17613(0x37c)](_0x9eaf20){const _0x5a1c63=a0_0xd17613;if(_0x9eaf20[_0x5a1c63(0x4ba)]!==0x0)try{return{'insertCount':(await this[_0x5a1c63(0x83d)](_0x9eaf20[0x0][_0x5a1c63(0x50a)])[_0x5a1c63(0x792)]([..._0x9eaf20]))[_0x5a1c63(0x4ba)]};}catch(_0x359718){return _0x359718;}}async[a0_0xd17613(0x5b4)](_0x2b0bc8,_0xd8c14){const _0x11f8ad=a0_0xd17613;try{let _0x11c148=this[_0x11f8ad(0x83d)](_0xd8c14),_0x30796e=T(_0x2b0bc8['where']);return{'deletedCount':(await _0x11c148[_0x11f8ad(0x7b1)](_0x30796e))[_0x11f8ad(0x431)]};}catch(_0x264981){return{'error':_0x264981?.[_0x11f8ad(0x883)]()};}}async[a0_0xd17613(0x47a)](_0x2f8ec7,_0x3256d9){const _0x2d6ae6=a0_0xd17613;try{let _0x38f892=this[_0x2d6ae6(0x83d)](_0x3256d9),_0x144d38=T(_0x2f8ec7[_0x2d6ae6(0x29d)]);return{'deletedCount':(await _0x38f892['deleteOne'](_0x144d38))[_0x2d6ae6(0x431)]};}catch(_0x4162fa){return{'error':_0x4162fa?.[_0x2d6ae6(0x883)]()};}}async['update'](_0x3cdef7,_0xc4c10b){const _0x5815ed=a0_0xd17613;try{if(_0x3cdef7[_0x5815ed(0x4ba)]===0x0)return;let _0x35f860=this[_0x5815ed(0x83d)](_0xc4c10b),_0x2b30b1=_0x3cdef7[_0x5815ed(0x50f)](_0x41a8ef=>({'updateOne':{'filter':{'name':_0x41a8ef[_0x5815ed(0x4f2)],'owner':_0xc4c10b},'update':{..._0x41a8ef}}})),{modifiedCount:_0x2486c0}=await _0x35f860[_0x5815ed(0x80a)](_0x2b30b1);return{'insertCount':_0x2486c0};}catch{return;}}async['updateMany'](_0x4a9302,_0x2f520f,_0x252b73){const _0x3d246d=a0_0xd17613;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x252b73)[_0x3d246d(0x257)](_0x4a9302,{'$set':_0x2f520f})[_0x3d246d(0x2f2)]())['modifiedCount']};}catch(_0x97ec0e){return console[_0x3d246d(0x37f)]('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0x97ec0e),{'error':_0x97ec0e};}}async[a0_0xd17613(0x8ae)](_0x1440d7,_0x25748d,_0x42950a){const _0x509a41=a0_0xd17613;try{return await this[_0x509a41(0x83d)](_0x42950a)[_0x509a41(0x189)]({'_id':_0x1440d7},{'$set':_0x25748d},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x2c155d){return console[_0x509a41(0x37f)](_0x2c155d),null;}}async['find'](_0x312b49,_0x2bb7a4){const _0x29235e=a0_0xd17613;try{return await this[_0x29235e(0x83d)](_0x2bb7a4)[_0x29235e(0x357)](_0x312b49)[_0x29235e(0x730)]({'lastInteraction':-0x1})[_0x29235e(0x73f)]();}catch{return[];}}async[a0_0xd17613(0x86d)](_0x1b713c,_0x4897b5){const _0x59e14e=a0_0xd17613;try{return await this[_0x59e14e(0x83d)](_0x4897b5)['findOne']({..._0x1b713c[_0x59e14e(0x29d)]})['lean']();}catch{return null;}}async[a0_0xd17613(0x742)](_0x20b018){const _0x344cdb=a0_0xd17613;try{return await this[_0x344cdb(0x83d)](_0x20b018)['collection'][_0x344cdb(0x1d9)](),{'success':!0x0};}catch(_0x36b5fd){return console[_0x344cdb(0x37f)](_0x36b5fd),{'success':!0x1,'error':_0x36b5fd};}}},rs=class extends O{[a0_0xd17613(0x503)](_0x2dcbd4){return ba(_0x2dcbd4);}async['createAndSave'](_0x1cd993,_0x507c82){const _0x48c1d5=a0_0xd17613;try{let _0x1722da=this[_0x48c1d5(0x503)](_0x507c82);return await new _0x1722da(_0x1cd993)[_0x48c1d5(0x534)]();}catch(_0x305370){return console[_0x48c1d5(0x37f)](_0x48c1d5(0x461),_0x305370),null;}}async[a0_0xd17613(0x47a)](_0x44d499,_0x3f8c9c){const _0x46cbbd=a0_0xd17613;try{return await this[_0x46cbbd(0x503)](_0x3f8c9c)[_0x46cbbd(0x529)](_0x44d499),{};}catch(_0x58dedf){return{'error':_0x58dedf?.['toString']()};}}async[a0_0xd17613(0x8ae)](_0x5084e1,_0x2411ba,_0x20943){const _0x46dcd2=a0_0xd17613;try{return await this[_0x46dcd2(0x503)](_0x20943)[_0x46dcd2(0x189)](_0x5084e1,{'$set':_0x2411ba},{'new':!0x0})[_0x46dcd2(0x73f)]();}catch(_0x3bd95f){return console[_0x46dcd2(0x37f)](_0x46dcd2(0x2e5),_0x3bd95f),null;}}async[a0_0xd17613(0x21e)](_0x24c811,_0x40c77e,_0x2c0fc6){const _0x344f8c=a0_0xd17613;try{return await this[_0x344f8c(0x503)](_0x2c0fc6)[_0x344f8c(0x2df)](_0x24c811,_0x40c77e,{'new':!0x0})[_0x344f8c(0x73f)]();}catch(_0x4fe50f){return console[_0x344f8c(0x37f)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x4fe50f),null;}}async['find'](_0x5e4d79,_0x354899){const _0x2751dd=a0_0xd17613;try{return await this[_0x2751dd(0x503)](_0x354899)[_0x2751dd(0x357)](_0x5e4d79[_0x2751dd(0x29d)])['limit'](_0x5e4d79?.['limit']??0x0)[_0x2751dd(0x730)]({'when':0x1})[_0x2751dd(0x73f)]();}catch{return[];}}async[a0_0xd17613(0x86d)](_0x523cf2,_0xb9e091){const _0x32d8c1=a0_0xd17613;try{return await this[_0x32d8c1(0x503)](_0xb9e091)[_0x32d8c1(0x86d)](_0x523cf2[_0x32d8c1(0x29d)])[_0x32d8c1(0x730)]({'when':0x1})[_0x32d8c1(0x73f)]();}catch{return null;}}async[a0_0xd17613(0x462)](_0x4b763b,_0x56e49d){const _0x2c5905=a0_0xd17613;try{return await this[_0x2c5905(0x503)](_0x56e49d)[_0x2c5905(0x462)](_0x4b763b)[_0x2c5905(0x73f)]();}catch{return null;}}async[a0_0xd17613(0x7b1)](_0xd239fa,_0x1543c3){const _0x407b2d=a0_0xd17613;try{return{'deletedCount':(await this[_0x407b2d(0x503)](_0x1543c3)[_0x407b2d(0x7b1)](_0xd239fa))[_0x407b2d(0x431)]};}catch(_0x204925){return console[_0x407b2d(0x37f)](_0x407b2d(0x1bc),_0x204925),{'error':_0x204925};}}async['deleteAll'](_0x1d3b51){try{return await this['getScheduleMessageModelForOwner'](_0x1d3b51)['collection']['drop'](),{'success':!0x0};}catch(_0x11eef0){return console['error'](_0x11eef0),{'success':!0x1,'error':_0x11eef0};}}},ns=class extends O{async['update'](_0x53b311,_0x4ba5ff){const _0xf5ddf5=a0_0xd17613;try{if(this[_0xf5ddf5(0x54f)][_0xf5ddf5(0x2e1)]){let _0x2d6b8f=await $e[_0xf5ddf5(0x189)]({'_id':_0x4ba5ff},{'$set':_0x53b311},{'new':!0x0});return console[_0xf5ddf5(0x5c6)]('Resultado\x20da\x20atualização:',_0x2d6b8f),_0x2d6b8f;}}catch(_0x180005){throw console[_0xf5ddf5(0x37f)]('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0x180005),_0x180005;}}async['findOrCreate'](_0x3b9587){const _0x1d881d=a0_0xd17613;try{let _0x5d9243=await $e[_0x1d881d(0x462)](_0x3b9587);return _0x5d9243?_0x5d9243[_0x1d881d(0x249)]||(_0x5d9243['autoCompleteMessages']=[],await _0x5d9243['save']()):(_0x5d9243=new $e({'_id':_0x3b9587,'autoCompleteMessages':[]}),await _0x5d9243[_0x1d881d(0x534)]()),_0x5d9243;}catch(_0x59baae){return _0x59baae[_0x1d881d(0x717)]===0x2af8&&_0x59baae[_0x1d881d(0x4a7)]&&_0x59baae[_0x1d881d(0x4a7)][_0x1d881d(0x711)]?(console[_0x1d881d(0x37f)](_0x1d881d(0x21f)),await $e[_0x1d881d(0x202)][_0x1d881d(0x270)](_0x1d881d(0x324)),null):(console[_0x1d881d(0x37f)](_0x1d881d(0x314),_0x59baae),null);}}},Fi=new $(a0_0xd17613(0x2d5)),Ui=new Ke(b),ji=new Gt(b),Ji=new rt(b),qi=new Bt(ia,b),Vi=new ss(ha,b),Gi=new as(ua,b),Bi=new Ee(Be,b),Wi=new os(b),zi=new Wt(b),Hi=new is(b),Ki=new rs(b),Qi=new ns(b),he=new ze(Ui,ji,Ji,qi,Vi,Gi,Bi,Wi,Hi,zi,Ki,Qi,R?.[a0_0xd17613(0x5b6)]()),G=new Vt(hs,b,he),Yi=new Yt(b,G,he),Xi=new Zt(G),As=new ts(Xi),I=new es(G),ce=new Kt(G,b,he,hs,Yi),B=new Qt(G),D=new zt(G),J=new Xt(G);Fi[a0_0xd17613(0x40c)](a0_0xd17613(0x5d2));function a0_0x3a35(_0x3c43dc,_0x260fdd){const _0x251dc=a0_0x251d();return a0_0x3a35=function(_0x3a354d,_0x5079a5){_0x3a354d=_0x3a354d-0x170;let _0x252006=_0x251dc[_0x3a354d];return _0x252006;},a0_0x3a35(_0x3c43dc,_0x260fdd);}var dg=require(a0_0xd17613(0x802)),js=require('fs'),Do=A(require(a0_0xd17613(0x303))),Po=A(require(a0_0xd17613(0x81c))),Le=class l{static #e;static set[a0_0xd17613(0x684)](_0x4e3920){this.#e=_0x4e3920;}static get[a0_0xd17613(0x303)](){const _0x182873=a0_0xd17613;let {FULLCHAIN:_0xf80071,PRIVKEY:_0xef6fcf}=b[_0x182873(0x8bc)](_0x182873(0x70c));return Do[_0x182873(0x64c)]({'cert':(0x0,js[_0x182873(0x1a5)])(_0xf80071),'key':(0x0,js['readFileSync'])(_0xef6fcf)},l.#e);}static get['http'](){const _0x5511a2=a0_0xd17613;return Po[_0x5511a2(0x64c)](l.#e);}},fe=A(require('fs')),Jo=A(require(a0_0xd17613(0x360))),Fe=A(require('axios')),je=A(require(a0_0xd17613(0x7f6))),we=require(a0_0xd17613(0x473));function Zi(){const _0x182dd4=a0_0xd17613;G[_0x182dd4(0x601)]();let _0x33195a=je[_0x182dd4(0x6db)][_0x182dd4(0x4c3)](__dirname,_0x182dd4(0x4c1));jo(_0x33195a);}var jo=_0x5ccd0a=>{const _0x3f94da=a0_0xd17613;let _0x566434=fe[_0x3f94da(0x6db)][_0x3f94da(0x4cb)](_0x5ccd0a),_0x107d29=0xc*0x3c*0x3c*0x3e8,_0x338383=0x2*0x3c*0x3c*0x3e8,_0x2ab2f8=new Date()[_0x3f94da(0x7da)]();_0x566434['forEach'](_0x313efb=>{const _0x6c9246=_0x3f94da;let _0x488540=je[_0x6c9246(0x6db)]['join'](_0x5ccd0a,_0x313efb),_0x431f7e=fe[_0x6c9246(0x6db)][_0x6c9246(0x53f)](_0x488540)[_0x6c9246(0x561)][_0x6c9246(0x7da)]();_0x2ab2f8-_0x431f7e>_0x107d29&&(fe['default'][_0x6c9246(0x8bf)](_0x488540),console[_0x6c9246(0x5c6)](_0x6c9246(0x59d)+_0x313efb));}),setTimeout(()=>jo(_0x5ccd0a),_0x338383);};function er(){const _0x2f7ae6=a0_0xd17613;let _0x3214b2=new $(_0x2f7ae6(0x649)),_0x21b239=(0x0,ye[_0x2f7ae6(0x6db)])();_0x21b239[_0x2f7ae6(0x7ba)]((0x0,Uo[_0x2f7ae6(0x6db)])({'origin'(_0xf5716c,_0x5f176d){const _0x1bbc51=_0x2f7ae6;let {ORIGIN:_0x38d1ae}=b[_0x1bbc51(0x8bc)](_0x1bbc51(0x186));return _0xf5716c||(_0xf5716c='*'),_0x38d1ae[_0x1bbc51(0x38f)]('*')!==-0x1||_0x38d1ae['indexOf'](_0xf5716c)!==-0x1?_0x5f176d(null,!0x0):_0x5f176d(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...b['get'](_0x2f7ae6(0x186))[_0x2f7ae6(0x7c0)]],'credentials':b[_0x2f7ae6(0x8bc)](_0x2f7ae6(0x186))[_0x2f7ae6(0x650)]}),(0x0,ye[_0x2f7ae6(0x638)])({'extended':!0x0,'limit':_0x2f7ae6(0x285)}),(0x0,ye[_0x2f7ae6(0x611)])({'limit':_0x2f7ae6(0x285)})),_0x21b239[_0x2f7ae6(0x7ba)]((_0x506638,_0x45fa31,_0x402058)=>{const _0x37e049=_0x2f7ae6;_0x506638[_0x37e049(0x7f6)][_0x37e049(0x29c)]('/events')?_0x402058():(0x0,Fo[_0x37e049(0x6db)])()(_0x506638,_0x45fa31,_0x402058);}),_0x21b239[_0x2f7ae6(0x680)](_0x2f7ae6(0x788),'hbs'),_0x21b239[_0x2f7ae6(0x680)](_0x2f7ae6(0x1af),(0x0,qs[_0x2f7ae6(0x4c3)])(ie,_0x2f7ae6(0x1af))),_0x21b239['use'](ye[_0x2f7ae6(0x6db)][_0x2f7ae6(0x4ad)]((0x0,qs[_0x2f7ae6(0x4c3)])(ie,_0x2f7ae6(0x6ca)))),_0x21b239[_0x2f7ae6(0x7ba)]((_0x157383,_0xd02d86,_0x3b933d)=>{const _0x564796=_0x2f7ae6;let _0x266a99=_0xd02d86[_0x564796(0x271)];_0xd02d86[_0x564796(0x271)]=function(_0x14b63f){const _0x4e0d56=_0x564796;if(_0x157383[_0x4e0d56(0x760)][_0x4e0d56(0x51c)]==='true'||_0x157383[_0x4e0d56(0x1c6)][_0x4e0d56(0x17d)]===_0x4e0d56(0x844)){let _0x257665=JSON[_0x4e0d56(0x5ac)](_0x14b63f);_0x14b63f=JSON[_0x4e0d56(0x78e)](_0x15f867(_0x257665));}return _0x266a99[_0x4e0d56(0x6cd)](_0xd02d86,[_0x14b63f]);},_0x3b933d();}),_0x21b239[_0x2f7ae6(0x7ba)]('/',xe),_0x21b239['use']((_0x3817af,_0x37c8a5,_0x346371,_0x5d8ae7)=>{const _0x488412=_0x2f7ae6;if(_0x3817af)return _0x346371[_0x488412(0x1f8)](_0x3817af['status']||0x1f4)[_0x488412(0x611)](_0x3817af);},(_0x19cfe6,_0x20695e,_0x197b5a)=>{const _0x4146e2=_0x2f7ae6;let {method:_0x19e0f8,url:_0x38fd47}=_0x19cfe6;_0x20695e[_0x4146e2(0x1f8)](0x194)[_0x4146e2(0x611)]({'status':0x194,'message':_0x4146e2(0x6fe)+_0x19e0f8['toUpperCase']()+'\x20'+_0x38fd47,'error':_0x4146e2(0x8aa)}),_0x197b5a();});let _0x15f867=(_0x5d97ee,_0x3b5440=_0x2f7ae6(0x4d1))=>{const _0x11c91f=_0x2f7ae6;let _0x475aa3=(_0x2b3f55,_0x62ba8d=null,_0x414d9f=!0x1)=>{const _0x434859=a0_0x3a35;let _0x41bfa5={};return Object[_0x434859(0x6f6)](_0x2b3f55)['forEach'](_0x595fed=>{const _0x550878=_0x434859;let _0x1879ea=_0x2b3f55[_0x595fed],_0x1a3af1=''+_0x3b5440+_0x595fed;_0x62ba8d&&!_0x414d9f&&(_0x1a3af1=_0x62ba8d+'.'+_0x595fed),!_0x1879ea&&_0x1879ea!==0x0&&_0x1879ea!==!0x1||typeof _0x1879ea>'u'?_0x41bfa5[_0x1a3af1]=null:typeof _0x1879ea!=_0x550878(0x629)&&!Array['isArray'](_0x1879ea)?_0x41bfa5[_0x1a3af1]=_0x1879ea:typeof _0x1879ea==_0x550878(0x629)&&!Array['isArray'](_0x1879ea)?_0x41bfa5=Object['assign'](_0x41bfa5,_0x475aa3(_0x1879ea,_0x1a3af1)):Array['isArray'](_0x1879ea)&&(typeof _0x1879ea[0x0]==_0x550878(0x629)?(_0x41bfa5[_0x1a3af1]=[],_0x1879ea[_0x550878(0x2a4)](_0x4cb6a3=>{_0x41bfa5[_0x1a3af1]['push'](_0x475aa3(_0x4cb6a3,_0x1a3af1,!0x0));})):_0x41bfa5[_0x1a3af1]=_0x1879ea);}),_0x41bfa5;};return Array['isArray'](_0x5d97ee)?_0x5d97ee[_0x11c91f(0x50f)](_0x42d7f1=>_0x475aa3(_0x42d7f1)):typeof _0x5d97ee==_0x11c91f(0x629)&&_0x5d97ee!==null?_0x475aa3(_0x5d97ee):{};},_0x34be3e=b[_0x2f7ae6(0x8bc)](_0x2f7ae6(0x649));Le['app']=_0x21b239;let _0x2f1a47=Le[_0x34be3e[_0x2f7ae6(0x2fa)]],_0x26e755='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x2f1a47[_0x2f7ae6(0x1b8)](_0x34be3e[_0x2f7ae6(0x2ea)],()=>{const _0x5128f8=_0x2f7ae6;_0x3214b2[_0x5128f8(0x5c6)](_0x26e755),_0x3214b2[_0x5128f8(0x5c6)](_0x34be3e[_0x5128f8(0x2fa)]['toUpperCase']()+_0x5128f8(0x74a)+_0x34be3e['PORT']);}),Zi(),Zs();}var tr=a0_0xd17613(0x4be),sr=je['default'][a0_0xd17613(0x4c3)](__dirname,a0_0xd17613(0x7ae)),Ue=null;function ar(){return new Promise((_0x299875,_0x1d9905)=>{const _0x36e3ad=a0_0x3a35;fe[_0x36e3ad(0x6db)][_0x36e3ad(0x757)](sr,_0x36e3ad(0x1a6),(_0x5ac857,_0x1ed64d)=>{const _0x2a6485=_0x36e3ad;if(_0x5ac857){Ue=_0x5ac857,_0x299875();return;}Jo[_0x2a6485(0x6db)][_0x2a6485(0x5ac)](_0x1ed64d)[_0x2a6485(0x4d9)][_0x2a6485(0x6fb)]===tr?(Ue=null,_0x299875()):(Ue=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x299875());});});}async function or(){const _0x43ad63=a0_0xd17613;try{await ar(),await Vs();}catch(_0x356d3e){console['error'](_0x43ad63(0x517)+_0x356d3e),process[_0x43ad63(0x205)](0x1);}}or();async function qo(){const _0x4b292b=a0_0xd17613;let _0x44ab6b;try{_0x44ab6b=(await Fe[_0x4b292b(0x6db)][_0x4b292b(0x8bc)](_0x4b292b(0x584)))[_0x4b292b(0x61d)]['ip'];}catch(_0x3ee591){console[_0x4b292b(0x37f)](_0x3ee591);try{_0x44ab6b=(await Fe[_0x4b292b(0x6db)][_0x4b292b(0x8bc)](_0x4b292b(0x557)))[_0x4b292b(0x61d)]['ip'];}catch(_0x242e87){console[_0x4b292b(0x37f)](_0x242e87);try{_0x44ab6b=(await Fe[_0x4b292b(0x6db)][_0x4b292b(0x8bc)](_0x4b292b(0x454)))['data'][_0x4b292b(0x1b3)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x30738a){return console[_0x4b292b(0x37f)](_0x30738a),!0x1;}}}return _0x44ab6b;}var ko=0x0;async function ir(){const _0x346836=a0_0xd17613;let _0x1c8c25=await new le(b[_0x346836(0x8bc)](_0x346836(0x45b)))['instanceKeys']();return console[_0x346836(0x5c6)](_0x346836(0x226),_0x1c8c25[_0x346836(0x4ba)]),_0x1c8c25[_0x346836(0x4ba)];}function rr(_0x54a165){const _0x5eee42=a0_0xd17613;let _0x41080b=_0x54a165[_0x5eee42(0x8bc)]('SERVER')[_0x5eee42(0x3b9)],_0x2b63b6=_0x54a165[_0x5eee42(0x8bc)]('SSL_CONF');console['log'](_0x5eee42(0x46c),_0x41080b),console[_0x5eee42(0x5c6)]('Configuração\x20SSL\x20recuperada:',_0x2b63b6);let _0x564107='',_0x1af22d=_0x41080b||'';if(_0x41080b){let _0xfd8ce3=_0x41080b['match'](/\/\/(.*?)\./);console['log'](_0x5eee42(0x8ac),_0xfd8ce3),_0xfd8ce3&&_0xfd8ce3[0x1]&&(_0x564107=_0xfd8ce3[0x1],console[_0x5eee42(0x5c6)](_0x5eee42(0x4cd),_0x564107));}if(!_0x564107&&_0x2b63b6&&_0x2b63b6[_0x5eee42(0x841)]){let _0x3232bb=_0x2b63b6[_0x5eee42(0x841)][_0x5eee42(0x37b)]('/');console[_0x5eee42(0x5c6)](_0x5eee42(0x6f9),_0x3232bb);let _0x269fee=_0x3232bb[_0x3232bb[_0x5eee42(0x4ba)]-0x2];if(console[_0x5eee42(0x5c6)]('Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:',_0x269fee),_0x269fee){let _0x1cd9d8=_0x269fee[_0x5eee42(0x37b)]('.');console['log'](_0x5eee42(0x1cd),_0x1cd9d8),_0x1cd9d8[_0x5eee42(0x4ba)]>0x2&&(_0x564107=_0x1cd9d8[0x0],console[_0x5eee42(0x5c6)](_0x5eee42(0x2a6),_0x564107),_0x1af22d=''+_0x269fee);}}return{'subdomain':_0x564107||_0x5eee42(0x545),'fullURL':_0x1af22d||'URL\x20não\x20disponível'};}var {subdomain:oe,fullURL:Gs}=rr(b);console[a0_0xd17613(0x5c6)](a0_0xd17613(0x41f),oe),console[a0_0xd17613(0x5c6)](a0_0xd17613(0x3ab),Gs);async function nr(){const _0x94cc2c=a0_0xd17613;let _0x255982=b[_0x94cc2c(0x8bc)](_0x94cc2c(0x45b)),_0xa88e38=b[_0x94cc2c(0x8bc)](_0x94cc2c(0x299))[_0x94cc2c(0x44f)][_0x94cc2c(0x3f4)],_0x31a158=b[_0x94cc2c(0x8bc)](_0x94cc2c(0x70c)),_0x24a576=await qo(),_0x386bd3=b['get'](_0x94cc2c(0x649))[_0x94cc2c(0x2ea)],_0x4144fb=Gs;try{let _0x5c1dc9={'ip':_0x24a576||null,'redis_enable':_0x255982?.[_0x94cc2c(0x2e1)]||null,'apikey':_0xa88e38||null,'ssl':_0x31a158?.[_0x94cc2c(0x7a1)]||null,'lastupdate':Vo||null,'port':_0x386bd3||null,'gitInstallError':Ue?.[_0x94cc2c(0x6e8)]||null,'url':_0x4144fb||null,'subdomain':oe};if(console['log'](_0x94cc2c(0x8ad),_0x5c1dc9['ip']),_0x255982&&_0x255982[_0x94cc2c(0x2e1)]){let _0x21b3b8=await ir();_0x5c1dc9[_0x94cc2c(0x681)]=_0x21b3b8||null;}for(let _0x2fbcf7 in _0x5c1dc9)_0x5c1dc9[_0x94cc2c(0x3f2)](_0x2fbcf7)&&_0x2fbcf7!=='ip'&&(_0x5c1dc9[_0x2fbcf7]=JSON[_0x94cc2c(0x78e)](_0x5c1dc9[_0x2fbcf7]));return(await Fe['default'][_0x94cc2c(0x738)](_0x94cc2c(0x31e),_0x5c1dc9))[_0x94cc2c(0x61d)];}catch(_0x19ac18){return console[_0x94cc2c(0x37f)](_0x19ac18),!0x1;}}var Js=!0x1,Vo=0x24c,cr=0x3,Lo=0x1b7740;async function Vs(){const _0x51d1a3=a0_0xd17613;if(!await qo())return console['error']('Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.'),_0x51d1a3(0x5bb);let _0x41320e=await nr();if(_0x41320e){if(_0x41320e[_0x51d1a3(0x329)][_0x51d1a3(0x882)]===!0x0){let _0x5a7d66=b[_0x51d1a3(0x8bc)](_0x51d1a3(0x70c)),_0x337fab=b['get'](_0x51d1a3(0x649))[_0x51d1a3(0x3b9)];_0x5a7d66&&_0x5a7d66?.[_0x51d1a3(0x7a1)]?.[_0x51d1a3(0x831)](_0x51d1a3(0x44d))&&_0x41320e[_0x51d1a3(0x329)]['subdomain']&&!_0x337fab&&(await dr(_0x41320e[_0x51d1a3(0x329)]['subdomain'],ur),await pr(_0x51d1a3(0x7b8),_0x41320e[_0x51d1a3(0x329)]['subdomain']),console['log']('Reiniciando\x20sistema\x20após\x20instalado\x20certificado...'),setTimeout(()=>gr(),0x2710)),Ue===null&&_0x41320e[_0x51d1a3(0x329)]['last_update']-Vo>0x0&&await lr(),Js||(Js=!0x0,er());let _0x36c01c=0x24*0x3c*0x3c,_0x13952b=_0x41320e[_0x51d1a3(0x329)]['segundos']>_0x36c01c?_0x36c01c:_0x41320e[_0x51d1a3(0x329)]['segundos'],_0x13b851=Number(_0x13952b);if(isNaN(_0x13b851)){console[_0x51d1a3(0x37f)]('interval\x20não\x20é\x20um\x20número');return;}let _0x38cf5e=Math['floor'](_0x13b851/0xe10),_0x278b8=Math[_0x51d1a3(0x2a9)](_0x13b851%0xe10/0x3c),_0x38139c=new Date(Date[_0x51d1a3(0x81a)]()+_0x13b851*0x3e8);setTimeout(Vs,_0x13b851*0x3e8);let _0x5d4a7d=_0x2ad749=>_0x2ad749['toString']()[_0x51d1a3(0x59a)](0x2,'0'),_0x48da0f=_0x51d1a3(0x4b5)+_0x5d4a7d(_0x38cf5e)+_0x51d1a3(0x466)+_0x5d4a7d(_0x278b8)+_0x51d1a3(0x22d)+_0x5d4a7d(_0x38139c[_0x51d1a3(0x6df)]())+':'+_0x5d4a7d(_0x38139c[_0x51d1a3(0x706)]())+'.';console[_0x51d1a3(0x5c6)](_0x48da0f);}else return console[_0x51d1a3(0x5c6)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),Js&&(console[_0x51d1a3(0x5c6)]('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process[_0x51d1a3(0x205)]()),'LICENSE_INVALID';}else{if(ko++,ko<cr)console[_0x51d1a3(0x5c6)](_0x51d1a3(0x389)+Lo/0xea60+_0x51d1a3(0x221)),setTimeout(Vs,Lo);else return console[_0x51d1a3(0x37f)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),_0x51d1a3(0x6a6);}}function a0_0x251d(){const _0x341501=['importChatsAntigo','^\x5cd+','shareFlow','9056637RYPkfD','msgRetryCounterCache','fileUrl','):Getting\x20image\x20from\x20url','Database\x20is\x20not\x20enabled','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','promisify','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','uazapiSendContact','):\x20Visualizando\x20AutomateSystem','):\x20Entrou\x20na\x20função\x20scheduleFlow','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','getTime','\x0aFN:','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','inviteCodeDetails','fetchProfilePicture','\x1b[34m%s\x1b[0m','dark','shutdown\x20-r\x20now','whoCanEdit','startCommandWord','AppStateSyncKeyData','DD/MM\x20HH:mm:ss','DaysToDelete','scheduleNextCheck','allFlows','.doc','sendPoll','groupId','closed','cachedContact','application/json','.type','ephemeralMessage','https://api64.ipify.org?format=json','g.us','SERVER_ACK','capitalizedWords','Rótulo\x20inválido\x20ou\x20sem\x20ID.','path','CORS_CREDENTIALS','resetReconnectionVariables','delayChatLabel_RETRY_DELAY_MS','_sender','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','removeData','request\x20received\x20in\x20getConversation','write',',\x20lastCondition:\x20','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','.pdf','express-async-errors','connectedClient','URL:','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','getScheduleMessage','groupDesc','uazapiSendText','updateCustomFields','bulkWrite','Modelo\x20de\x20proprietário\x20não\x20pôde\x20ser\x20criado\x20para:\x20','closeExistingConversations','.mp4','STORE_CLEANING_TERMINAL','text','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','sharePass','Error\x20adding\x20IPv6\x20address:\x20','sections','Message','scheduleSendText','copyBlock','updateMissingCustomFields','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','now','connectionUpdate','http','fetchLatestBaileysVersion','All_Instances_Config','):\x20delete\x20=\x20true','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','mediaKey','less','creds.update','_fromMe','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','group-participants.update','):Temp\x20image\x20deleted','instanceName\x20not\x20provided.','/instance/connect','DARK','badSession','Total\x20de\x20fluxos\x20transferidos\x20para\x20a\x20coleção\x20centralizada:\x20','SEND_MESSAGE','processgoToFlow','fetchChats','):\x20Going\x20to\x20','includes','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','requestPairingCode','enumerable','getMIMEType','enviado\x20para','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','LabelModel','chatId','writeFile','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','getConversationModelForOwner','#f64847','replaceVariablesInObject','pollCreationMessageV3','FULLCHAIN','demote','editScheduleMessage','true','isListOfNumbers','deleteImportedChat','8aHRATp','request\x20received\x20in\x20updateCustomFields','remove','footerText','instanceName','lowerCase','.jpg','archive','TEL','put','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','jsonschema','awaitingApproval','):\x20expirationTime:\x20','fetchStatus','isRunning','waitingMenu_ExpiredMessage','findManyByIds','):\x20customFieldVariables','repeat','customFields','AutomateFunctions','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','loadEnv','delayMessage','updateAgent','):Processing\x20audio','toFile','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','RemoveChatLabel','\x5c$&','isCommunity',',\x20resultado:\x20','updateLastSeenPrivacy','AUTHENTICATION_JWT_SECRET','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','):\x20Editando\x20edição\x20do\x20fluxo...','findOne','getContentType','context','SINGLE_SELECT','/automate','groupCreate','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','Bad\x20Request','MESSAGES_UPSERT','-instances','proto','hSet','Nenhum\x20fluxo\x20encontrado\x20para:\x20','rows','allContacts','Falha\x20ao\x20processar\x20fetchBusinessProfile','updateMessage','https://ipv6.jsonip.com','DATABASE_CONNECTION_USER','sem\x20texto\x20na\x20mensagem','getFlow','licenca','toString','some','groupMemberAddMode',',\x20valor\x20passado:\x20\x22','listResponseMessage','ChatModel','email','cwd','):Trying\x20to\x20get\x20business\x20profile','):\x20Editando\x20grupo\x20do\x20fluxo...','findMessages','):Business\x20profile\x20fetched','):\x20Current\x20Time:\x20','notContains','Esse\x20fluxo\x20não\x20permite\x20importação.','Subscribed\x20Events:','numbers','):\x20alterando\x20this.AutomateSystem','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','updateBlock','leaveGroup','method','atendimentoAberto','arraybuffer','contains','connectionState','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','finish','Instance\x20\x22','):\x20Erro\x20durante\x20a\x20atualização:\x20','):Audio\x20converted\x20and\x20stored\x20in\x20cache','getOwnPropertyDescriptor','connectionClosed','CONNECTION','flattenObject','Message\x20not\x20found','StartID:','Falta\x20informação\x20para\x20a\x20chamada\x20API','timeInMinutes','Not\x20Found','getRandomText','Resultado\x20da\x20correspondência\x20de\x20URL:','ip:\x20','updateOne','end','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','minutesToClose','):\x20Chat\x20','Erro\x20ao\x20editar\x20o\x20chat','lastMessage','vote','false','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','address','leadInfo.customFields','\x1b[37m%s\x1b[0m','get','):\x20Bloco\x20original\x20para\x20cópia:\x20','contactMessage','unlinkSync','.docx','phoneNumber','body','cacheContact','dbServer','conversationTimestamp','QRCODE_UPDATED','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','utf8','editFlowBlock','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','):\x20Entrou\x20na\x20função\x20saveReply','ids','readMessages','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','removeInstance','blockId','flow','presence','editFlowVariable','uazapiSendAudio','_Chats','chats','uazapi','ScheduleMessageModel','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','toggleEphemeral','):Image\x20is\x20url','.webp','reconexaoativada','joinGroup','lastReceivedMessage','CORS','Imagem\x20não\x20encontrada','Database\x20connection\x20closed.','findOneAndUpdate','groupFetchAllParticipating','Instância:\x20','\x20instance\x20does\x20not\x20exist','deleteInstance','importChats','replaceVariables','font','CONNECTION_UPDATE','env.yml','digest','data:\x20','isURL','ON\x20-\x20dbName:\x20','client','Fluxo\x20agendado\x20pelo\x20fluxo\x20','/clients-info','_id','size','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','STATUS_INSTANCE','replaceOne','store','bearer','Authentication\x20error','changeVariables','):\x20Removendo\x20\x27','):Converted\x20image\x20deleted','readFileSync','utf-8','initAuthCreds','textMessage','g-t','_error','\x1b[44m','\x20removido\x20do\x20chat\x20','):\x20Não\x20achou\x20nenhum\x20flow','prepareWAMessageMedia','views','request\x20received\x20in\x20deleteDoneMessages','CHATS_DELETE','BRL','match','waitingMenu_text','process','cache','catch','listen','@broadcast','storePath','HOST','Erro\x20ao\x20deletar\x20mensagens:','/wa-contacts','replyOption','sendContact','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','EMAIL','):Image\x20is\x20base64','flowConfig','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','headers','getflow','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','Rótulo\x20deletado:\x27,\x20','jpegThumbnail','caption','createNewConversation','Partes\x20do\x20domínio:','editFlowGroup','inviteUrl','$set','Mac\x20OS','IP\x20confirmed:\x20','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message','):\x20Buscando\x20todos\x20os\x20fluxos...','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','2811698GuIAlv','applyvaredit','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','drop','generateRandomIPv6','flowPrefixCommand','):\x20debug\x20alterando\x20this.AutomateSystem','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','#83e421','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','EXPIRIN_IN','/create','getUniqueFlowName','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','LEVEL','announcement','spawn','/:instanceName','DELETED','cleaningUp','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','createSectionsFromValues','findAndReplace','util','leadInfo.','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','_ScheduleMessages','prototype','lastSendMessage','):\x20nextBlock.uazapi.name','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','Button\x20IDs\x20cannot\x20be\x20repeated.','status','formatVCard','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','findLabels','):\x20Enviando\x20texto','.png','authState','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','isJidBroadcast','editflowblock','collection','qrcode','editConversation','exit','imageMessage','splice','agents','delAll','automateSystem','goNextblock','/wa-message-update','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','unhandledRejection','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','groupName','Erro\x20ao\x20atualizar\x20o\x20flow.','key','/instance/delete','contacts.upsert','updatePresence','buffer','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','scheduleFlow','Nenhum\x20fluxo\x20correspondente\x20encontrado.','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','no.connection','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','updateOneById','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','setNewValue','\x20minutos...','wuid','send.message','hGetAll','Erro\x20ao\x20editar\x20a\x20conversa','instancias:\x20','STORE_MESSAGE','console','updateReplyOption','envProcess','scheduled','contentText','\x20minutos.\x20Será\x20às\x20','chats.delete','defineAuthState','verbose','lastUpdate','Contacts\x20not\x20found','dropCollection','cpf','fetchMessages','buttonMessage','.gif','):\x20Fluxos\x20do\x20proprietário\x20\x27global\x27\x20já\x20existem\x20na\x20coleção\x20centralizada.','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','addReplyOption','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','all','paused','random','}}\x20->\x20valor\x20não\x20encontrado','contact','groupJoinApprovalMode','):\x20Fluxo\x20\x27','qrcode-terminal','reconnectTimestamps','/message','tags','instanceInfo','\x20contacts','autoCompleteMessages','Erro\x20ao\x20iniciar\x20fluxo:\x20','sendLocation','oldToken','bodyStringErrorParse','isBase64','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','exists','startCommand','certonly','DOCKER_ENV','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','long','ERROR:\x20','updateMany','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','dbClient','Fluxo\x20não\x20encontrado\x20na\x20memória.','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','notEqual','video-cover.png','admin','connection.update','request_method','#64c4ff','option','Erro\x20ao\x20importar\x20chats','):Audio\x20processed','):\x20Adicionando\x20\x27','Instance\x20ID:','getBase64FromMediaMessage','markMessageAsRead','restartInstance','greater','\x20ao\x20chat\x20','convertToWebP','\x1b[46m','Certbot:\x20','shift','dropIndex','send','CONTACTS_UPDATE','extractMessageContent','normalizeMessageContent','varedits','-whatsapp-api','):Fetching\x20business\x20profile','getChatModelForOwner','unlocked','Error\x20removing\x20unused\x20chat\x20fields:','Mensagem\x20não\x20suportada','content','cacheInstanceModel','hDel','.txt','pm2\x20flush','2766310begmRM','#ffc5c7','_activatedCount','creds.json','50mb','SUCCESS','STORE_CONTACTS','execSync','cacheInstanceRepository','):\x20Query\x20params:\x20','sectionsToString','evaluateCondition','createflow','values','editChat','createWebhook','\x1b[41m','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','_activedCount','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','fetchPrivacySettings','Instância\x20não\x20encontrada.','pollCreationMessageKey','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','AUTHENTICATION','ScheduleMessage','basename','startsWith','where','TEXT','truncatedto','subjectTime','base64','.url','chatLog','forEach','Parando\x20aplicação...','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','available','Types','floor','webhookModel','isLong','/64\x20dev\x20','ChatRouter','\x20chats\x20de\x20','creds','getStatus','username','Error\x20parsing\x20JSON:','Falha\x20ao\x20processar\x20a\x20solicitação','contact_blacklist','defineProperty','READ','updateGParticipant','abs','moreLogs',',\x20global:\x20','\x27\x20para\x20a\x20coleção\x20centralizada.','presenceSubscribe','saveMediaToFile','Erro\x20de\x20reinicialização:\x20','_Flows','messageType','#dfaef0','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','replaceVariablesInReplyOptions','updateChatWithMessage','Instance\x20restarted','8080','undefined','):\x20Editando\x20variável\x20do\x20fluxo...','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','sendReaction','Erro\x20ao\x20criar\x20fluxo','fromMe','locked','URI','setRestartTimeout','getContactModelForOwner','nome','updateMissingEtiquetas','pow','#fed428','WA\x20MODULE','Erro\x20ao\x20adicionar\x20label\x20','):Image\x20path:\x20','messageId','sendDataWebhook','):\x20Enviando\x20localização','Erro\x20ao\x20tentar\x20updateCustomFields','/exit','remoteJid','ipv6Prefix','findByIdAndUpdate','MESSAGES_UPDATE','ENABLED','request\x20received\x20in\x20createFlow','findAll','/chat','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','Background\x20color\x20is\x20required','collections','setUpdate','Selecione','PORT','\x1b[33m\x1b[1m','Erro\x20ao\x20buscar\x20a\x20conversa','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','parseInt','formatBRNumber','setWebhook','whoCanUse','exec','Deletion\x20failed','stickerMessage','.error','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','online','Validate','):\x20não\x20encontrou','TYPE','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','labels.association','waMonitor','):\x20Deletando\x20mensagem','The\x20property\x20cannot\x20be\x20empty','bateu\x20events','getMessageModelForOwner','substring','https','The\x20\x22','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','SendScheduleMessage','processclearVariables','Erro\x20do\x20Certbot:\x20','):\x20Ativando\x20reconexão.','304dtaQxa','title','replyOptions','max','labelId','status.instance','from','listMessage','ContactsAndGroups','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','namespace','request\x20received\x20in\x20getAutomateSystem','):\x20Enviando\x20contato','pollCreationMessage','updateAll','stopConversation',',\x20pairCode:\x20','710357Voktsp','cleanDisconnectedInstances','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','testIPv6','findAndReplaceRegex','ERROR','CHATS_UPSERT','autoCompleteMessages.command_1','@g.us','createFlow','config','\x27...','response','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','profileName','cachedData-whatsapp','.xlsx','https://v6.ident.me','):\x20Fluxos\x20do\x20proprietário\x20\x27global\x27\x20transferidos\x20para\x20a\x20coleção\x20centralizada.','ff:fe','findFlow','subject','Erro\x20ao\x20remover\x20label\x20','):\x20teve\x20mudanças\x20chat.archived:\x20','poll','Flow\x20\x27','):Archiving\x20chat','removeUnusedChatFields','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','Instance\x20deleted','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','Erro\x20de\x20atualização:\x20','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','chat','.jwt','count','secondValue','fetchContacts','sendMessageAck','\x5cd+','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','DATABASE','groups','Forbidden','audioMessage','\x27\x20não\x20encontrado\x20na\x20memória','equal','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','Error\x20finding\x20many\x20contacts:','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','restart','createConnection','vir','This\x20name\x20','dbInstance','formatStatusMessage','\x20com\x20sucesso.','find','StartBot','processawaitSeconds','privacySettings','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','Erro\x20ao\x20inserir\x20chats:','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','stderr','last','ini','user','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','flowStopMinutes','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','Removidas\x20as\x20variáveis:\x20','sendWhatsAppAudio','--standalone','API\x20Key\x20inválida.','Atualização:\x20','existsSync','request\x20received\x20in\x20scheduleMessage','sendMessageWithTyping','add','selectableCount','notEmpty','_Contacts','whatsappNumbers','/media/','LOG','Erro\x20ao\x20atualizar\x20o\x20fluxo:','request\x20received\x20in\x20editFlowcondition','.mimetype','reconnectAttempts',',\x20Minutes\x20to\x20Close:\x20','cachedContacts-whatsapp','AUTHENTICATION_JWT_EXPIRIN_IN','split','insert','#9ba6ff','value','error','src',',\x20saindo.','The\x20global\x20api\x20key\x20must\x20be\x20set','recebido\x20de','label_jid','Configured\x20IPv6:\x20','stopped','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','warn','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','):\x20Procurando\x20conversa','participants','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','indexOf','updateStopChat','shareOwners','\x20quoted:\x20','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','loggedOut','desativadoFluxoAte','\x1b[43m','fullName','MESSAGES_SET','env','connectedName','IPv6\x20address\x20removed:\x20','Fluxo\x20id\x20\x27','):\x20newSecondValue\x20após\x20replaceVariables:','BufferJSON','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','uncaughtException','request\x20received\x20in\x20updateAgent','updateParticipant','upsertedCount','_Messages','?authSource=admin&readPreference=primary&directConnection=true','close','Limpando\x20logs\x20do\x20PM2...','Erro\x20ao\x20arquivar\x20chat','networkInterface','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','URL\x20completa:','ip\x20-6\x20addr\x20del\x20','createInstance','AddUserFlow','):\x20enviado\x20para\x20[','updateMissingTags','IPv6\x20address\x20configured:\x20','globalShow','header','mongoose','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','fetchInstances','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','scheduleSendAudio','URL','JWT','when','startID','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','isConnected','folder','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','#ffffff','ms\x20(tentativa\x20','findConversation','):\x20whoCanUse\x20before\x20validation:\x20','\x20saindo\x20da\x20função','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','unknown\x20operation\x20type\x20[','#9568cf','[all]','getDelay','Erro\x20ao\x20atualizar\x20cacheInstance:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','):\x20Buscando\x20conversas...','createConversationforStartFlow','deleteChat','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','crypto','findAndUpdateCacheContact','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','author','__esModule','trimmed','Group\x20not\x20found','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','mentioned','):Hash\x20to\x20image\x20name:\x20','axios','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','trim','ORG:','sign','makeCacheableSignalKeyStore','flows','DATABASE_CONNECTION_DB_PREFIX_NAME','replaceVariablesLogs','quoted','removeIPv6ById','migrateFlowsToCentralizedCollection','extractRegex','Request\x20Body:','MAX_RECONNECT_ATTEMPTS','configService','):\x20whoCanEdit\x20before\x20validation:\x20',',\x20isAdmin:\x20','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','Close\x20connection','allflows','verifyWhatsAppNumber','Cache-Control','hasOwnProperty','AutomateSystem','KEY','importChatsBatch','errorLog','model','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','Error\x20updating\x20message\x20status:','deleteFlow','IPv6\x20Prefix\x20detected:\x20','):\x20\x27Deletando\x20fluxo,\x20id:\x20','hex','connectToWhatsapp','editflowreply','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','):\x20Buscando\x20flow...','chat\x20não\x20encontrado','variablesNotFound','\x1b[31m','document','DATABASE_ENABLED','isJidGroup','announce','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','):\x20Limpando\x20AutomateSystem','info','.extension','upperCase','Conversa\x20deletada\x20com\x20sucesso.','\x20minutos\x20verificará\x20novas\x20mensagens','\x20depois\x20','https://api.elevenlabs.io/v1/text-to-speech/','local_map','editOperator','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','getVariablesChat','Bloco\x20com\x20ID\x20','archived','isValidIPv6Config','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','params','Missing\x20global\x20api\x20key','):\x20Iniciando\x20bot...','getAllData','Subdomínio\x20final:','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','qrCode','deleteMessage','#ffae04','):\x20isVote:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','.\x20Pulando.','delay','groupInviteCode','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','temp-','):\x20Buscando\x20conversa...','request\x20body:\x20','#6f7bcf','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','website','ip6eui','deletedCount','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','groups_ignore','):Image\x20converted\x20to\x20WebP','reviver','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','Erro\x20ao\x20deletar\x20a\x20conversa','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','debug','IP\x20mismatch:\x20configured\x20','pt-BR','deleteDoneMessages','expression','lastFetchAwaitingApproval','revokeInviteCode','match_last_seen','createGroup','validate','PLAYED','organization','flowName','contactHandle','Internal\x20Server\x20Error','connecting','?timestamp=','contacts','keep-alive','audio/ogg;\x20codecs=opus','<subdomain>','):\x20Entrou\x20na\x20função\x20clearVariables','API_KEY','editflow','round','):Image\x20created','updateChatGroupData','http://checkip.dyndns.org','FlowModel','stanzaId','):Sending\x20audio\x20whatsapp','END:VCARD','jsonwebtoken','VERBOSE','REDIS','removeProfilePicture','):\x20Conversa\x20atualizada\x20em\x20memória','none','realVariables','apikey','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','findById','stopWhenYouSendMsg','contextInfo','ObjectId','\x20horas\x20e\x20','request\x20received\x20in\x20deleteConversation','limit','leadInfo.desativadoFluxoAte','originalUrl','audio','Valor\x20da\x20URL\x20recuperada:','DEBUG','findWebhook','#000000','waitingMenu_replyOptions','blocks','processUazapi','child_process','authService','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','RemoteJid:','Message\x20absent\x20from\x20node','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','composing','deleteOne','delayChatLabel','.svg','reject','\x22\x20cannot\x20be\x20empty','pop','ip\x20-6\x20addr\x20show\x20dev\x20','menuExpiredMessage','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','instanceKeys','pollUpdateMessage','Erro\x20ao\x20atualizar\x20conversa:\x20','buttonId','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','sendText','\x22,\x20valor\x20a\x20substituir:\x20\x22','detail','Fluxos\x20não\x20estão\x20ativados','\x0a*Você\x20respondeu*:\x0a','imgUrl','etiquetas','\x1b[0m','CHATS_UPDATE','waitingForReplyMenu','.uazapi.dev','lastSend','Erro\x20ao\x20editar\x20o\x20bloco:\x20','inviteCode','updateProfilePicturePrivacy','maxActives','\x1b[30m%s\x1b[0m','empty','senderKeyDistributionMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','pino','Error\x20testing\x20IP\x20with\x20','\x20}\x0a','findGroupInfo','authModel','messageStubParameters','convertedOptions','.\x20Aguardando\x20antes\x20de\x20reconectar...','\x1b[30m','6739341fycGBD','):Output\x20path:\x20','keyPattern','desc','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','SERVER_URL','findChats','static','RECONNECT_TIME_FRAME','createAndSave','protocolMessage','\x20foi\x20interrompido\x20pelo\x20usuário.','\x20-i\x20','$dbName','ephemeralDuration','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','removeIPv6','deleteBlock','lastInteraction','findMany','length','editFlowCondition','WARN','testingWith','https://github.com/uazapi/uazapi.git','firstValue','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','downloads','open','join','saveConversationToDatabase','notas','status@broadcast','Erro\x20ao\x20alterar\x20fluxo','messageTimestamp','created','processvaredits','readdirSync','/instance/create','Subdomínio\x20extraído\x20da\x20URL:','generateWAMessageFromContent','isValidAndUniqueIPv6','role','_p_','replaceValue','leadInfo','findGroupInfos','startFlowWebhook','no-cache','profilePicture','function','remote\x20\x22origin\x22','uazapiSendMedia','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','muteEndTime','Erro\x20ao\x20buscar\x20fluxos:','flowConversation','SERVER_PORT','hGet','getPrototypeOf','chatHandle','sticker','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','presence.update','noConnection','eventEmitter','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','pollErrorMessage','getDevice','OrAnd','js-yaml','ListType','description','https://api.openai.com/v1/images/generations','Primeiro\x20Valor:\x20','CONTACTS_SET','name','call','webhook','start','sendSticker','#d3a91f','saveVariable','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','not_announcement','Erro\x20ao\x20editar\x20agentes',',\x20qrcodeCount:\x20','global','HH:mm:ss','userDevicesCache','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','refused','width','getScheduleMessageModelForOwner','sendList','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','mentions','/wa-groups','Last\x20message\x20not\x20found\x20for\x20number:\x20','CLEANING_INTERVAL','owner','InstancesAlterarTodas','reference','modifiedCount','conversation','map','WebhookGlobal','\x1b[32m','Esse\x20fluxo\x20expirou','DisconnectReason','.fileUrl','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','No\x20suitable\x20network\x20interface\x20found','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','min','type','media','processApiRequest','convert','\x20não\x20encontrado','apirequest','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','uazapiDeleteMessage','deleted','processScheduleFlow','replace','):Desconectado,\x20parando\x20execução.','groups.update','groupGetInviteInfo','redis','pollOnReplyDelete','findByIdAndDelete','clearVariables','delayChatLabel_MAX_RETRIES','SSL_CONF_PRIVKEY','boolean','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','responsavelid','authentication','REDIS_PREFIX_KEY','save','/group','cleanStore','Db\x20Connection','Erro\x20ao\x20buscar\x20conversas','replaceVariablesChat','Início','reactionMessage','archiveChat','\x20-y','toLowerCase','statSync','isCommunityAnnounce','qrcode.updated','useMultiFileAuthState','newStoppedUntil','whatsappNumber','Subdomínio\x20não\x20encontrado','output','removed','linkPreview','Logger','messages.upsert','):\x20Deletando\x20conversa...','\x27\x20->\x20','Connection\x20closed\x20for\x20instance:\x20','editedMessage','dbSettings','Network\x20Interface\x20detected:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','SECRET','pollCreationMessageV2','https://api.openai.com/v1/audio/speech','leadInfo.atendimentoAberto','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','https://api.ipify.org?format=json','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','_Labels','options','sendCommand','ephemeralExpiration','NextBlock','height','logger','jwt','birthtime','#fe9dfe','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','createJid','redirect','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','\x1b[34m','[AUTH]\x20Database\x20is\x20not\x20enabled','sendMessage','getConversation','cors','newValue','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','exports','/instance','Font\x20is\x20required','/config','notMatchRegex','endSession','success','findGroup','/wa-message','E-mail:\x20','):\x20Entrou\x20na\x20função\x20processawaitSeconds','latitude','lastBlockId',',\x20valor\x20a\x20encontrar:\x20\x22','fileLength','joinApprovalMode','restrict','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','groupHandler','waInstances','detectIPv6PrefixAndInterface','message_normalized','https://jsonip.com','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','statusJidList','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','):\x20Bloco\x20com\x20ID\x20','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','webhookService','\x20mensagens\x20de\x20','video','group','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','toBrazilianNumberFormat','processblock','slice','beautifyWithPlaceholders','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','getValidWhatsAppNumbers','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','request\x20received\x20in\x20updateFlowConfig','\x20adicionado\x20ao\x20chat\x20','Mensagens\x20deletadas\x20com\x20sucesso.','padStart','Router','\x1b[1m','Deleted\x20','envYaml','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','\x20do\x20chat\x20','\x22\x20-\x20NOT\x20CONNECTION','https://','synchronizeAndMapFlows','Schema','addChatLabel','):\x20Mensagem\x20já\x20enviada\x20para\x20','sharp','expiration','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','pushName','updateConversation','parse','connectionStatus','variablesToObject','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','editFlowReply','events','@redis/client','throwAndLogError','delete','isJidUser','getClient','PASSWORD','\x22\x20-\x20REMOVED','https://uazapi-plugin.bubbleapps.io/?url=','currency','NO_IP','processing_id',',\x20Resultado:\x20','creation','Error\x20writing\x20file:\x20','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','setting','saveCreds','createHash','Variáveis\x20não\x20encontradas:','encoding','log','sleep','\x1b[1m\x1b[37m','\x27\x20já\x20existem\x20na\x20coleção\x20centralizada.','toUpperCase','3513lckwzQ','mkdirSync','conditions','USER','isArray','messagesSend','apiName','Module\x20-\x20ON','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','):\x20lastBlockId:\x20','):\x20conversation.lastInteraction:\x20','release','assign','scheduleSendMedia','GROUPS_UPSERT','groupToggleEphemeral','color','number','Fluxos\x20encontrados\x20de\x20\x27','Erro\x20na\x20função\x20updateChatWithMessage:\x20','Error\x20in\x20chatModify\x20for\x20number\x20','):\x20Grupo\x20','normalizeMessage','https://chat.whatsapp.com/','canSendMessage','updateFlowConfig','):\x20Entrou\x20na\x20função\x20goToFlow','bodyString','joinGroupValidate','deleteConversation','reorderBlocks','groupRequestParticipantsUpdate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','env.KEY\x20!==\x20key','startFlow','/wa-presence','instance','\x27\x20não\x20encontrado','35sEDHeY','selectedOptions','writeData','matchRegex','setHeader','instance.','ip\x20-br\x20link\x20show','writeFileSync','):\x20Entrou\x20na\x20função\x20stop','test','flowActive','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','editFlowVaredit','request\x20received\x20in\x20editFlow','):\x20tem\x20blocks','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','loadInstance','Fluxos\x20transferidos\x20do\x20proprietário\x20\x27','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','@whiskeysockets/baileys','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','saveTextReply','pairingCode','menuType','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','dbConnection','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','HeaderType','statusMessage','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','):\x20Error\x20processing\x20the\x20block:\x20','json','optionDescription','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','sendAudio','Last\x20message\x20not\x20found','@s.whatsapp.net','sendStatus','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','groupdata','StatusJidList\x20is\x20required','data','Button\x20texts\x20cannot\x20be\x20repeated','findParticipants','chatModify','reaction','preview','valid','Número\x20não\x20possui\x20WhatsApp.','XX:XX:XX:XX:XX:XX','893622QfiQUm','request\x20received\x20in\x20getFlow','):\x20mediaMessageInfoId\x20:\x20','object','):\x20Conversa\x20inserida\x20com\x20sucesso.','flowStopConversation','profile','getTicketSystem','CHATS_SET','):\x20Enviando\x20enquete','uuid','listType','updateGroupParticipantsWebhook','):Delete\x20chat','\x20is\x20already\x20in\x20use.','Erro\x20ao\x20aplicar\x20varedit:\x20','_remoteJid','ex:\x20\x22groupJid=120362@g.us\x22','urlencoded','messages','groupParticipantsUpdate','Reinicialização\x20iniciada:\x20','editflowgroup','prepareMediaMessage','delaySecMin','groupUpdateDescription','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','groupUpdateSubject','readData','removeChatLabel','GROUP_PARTICIPANTS_UPDATE','Network\x20interfaces\x20detected:\x20','mimetype','updateProfilePicture','):\x20Comando\x20desconhecido:\x20','SERVER','ReplyOption\x20com\x20ID\x20','locationMessage','createServer','editFlow','groupValidate','messageSecret','CREDENTIALS','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','Flow\x20iniciado','):\x20','approve','ignoreGroups','request\x20received\x20in\x20editFlowgroup','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','/wa-connection-update','DB_PREFIX_NAME','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','isInteger','toLocaleString','express','updateAutoCompleteMessages','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','emit','groupBetterSetting',']\x20(','updateMediaMessage','updateGroupPicture','reorderReplyOptions','charAt','push','Connection','fetchBusinessProfile','):\x20Criou\x20conversa\x20no\x20startFlow','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','sending','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','Nenhum\x20chat\x20encontrado\x20para\x20editar.','/instance/fetchInstances','integer','fone','arrayUnique','Erro\x20ao\x20encerrar\x20a\x20API','PREFIX_KEY','groups.upsert','vcard','cacheContactModel','longitude','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','variables','awaitSeconds','enabled','documentMessage','Error\x20while\x20deleting\x20message\x20for\x20everyone','set','instanceCount','unavailable','sha256','app','):\x20[messages.upsert]\x20group\x20ignored','all_member_add','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','Error\x20updating\x20cache\x20contact:','toNumber','getProfileName','class-validator','CONTACTS_UPSERT','toBRL','\x1b[47m','chats.upsert','rm\x20-rf\x20','\x0a{\x20instance:\x20','stopMinutesMaxActives','string','errors','GUARD','stopIfLastReturnedError','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','Instâncias\x20removidas:\x20','command','updateStatusPrivacy','EMAIL:','findIndex','messages.update','mediaMessage','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','unreadcount','out','gifPlayback','Parando\x20aplicação,\x20atualização\x20recebida','mongodb','SERVER_OFFLINE','createConversationforgoToFlow',',\x20Expiration\x20Time:\x20','\x20:\x20','):\x20leadInfoVariables','IPv6\x20addresses\x20detected:\x20','displayName','webp','FlowRouter','connect','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo',',\x20Novo\x20tamanho:\x20','findOrCreate','superadmin','Error\x20fetching\x20and\x20updating\x20profile:\x20','variable','readMessageBot','stopMinutes','pre','stateConnection','):\x20Fluxos\x20do\x20proprietário\x20\x27','\x1b[31m%s\x1b[0m','groupadd','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','PRODUCT_LIST','loadWebhook','\x20Tentativa\x20de\x20reconexão\x20','):\x20Usando\x20extensão\x20padrão:\x20','connectToWhatsappController','list','/events/:instance','INFO','updateProfileName','mediaSticker','apiResponse','remoteJidsRemaining','public','groupMetadata','label','apply','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','Erro\x20ao\x20normalizar\x20a\x20mensagem:','profilePictureUrl','fetchProfile','request\x20received\x20in\x20fetchConversation','item','File\x20written\x20to\x20path:\x20','routerPath','logout','findGroups','nomecompleto','):\x20Label\x20','Falha\x20após\x20várias\x20tentativas.','default','Falhou\x20ao\x20encontrar\x20chat\x20','getBusinessProfile','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','getHours','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','blockLogs','recording','descOwner','Type\x20is\x20required','redisEnv','Número:\x20','message','Instance\x20Key\x20from\x20DB:','then','error_log','convertaudioMP3','chats.update','convertaudio','ultimaTentativaRemoteJid','replacer','scheduleMessage','LOG_COLOR','content-type','evaluateConditionTest','eventHandler','keys','app-state-sync-key','updatePrivacySettings','Partes\x20do\x20caminho\x20FULLCHAIN:','instances','url','timeout','request\x20received\x20in\x20deleteFlow','Cannot\x20','processConditions','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','groupRevokeInvite','randomMac','picture','pollMessageOnDelete','addBlock','getMinutes','editflowvaredit','@newsletter','groupJid','AUTHENTICATION_TYPE','AUTHENTICATION_API_KEY','SSL_CONF','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','padEnd','array','createClient','autoCompleteMessages.command','Not\x20is\x20business\x20profile','Conexão\x20estabelecida','del','\x20\x1b[0m','promote','code','groupSetting','imported','\x1b[40m','Fluxo\x20\x27','sendButtons','groupSettingUpdate','endsWith','action','mongodb://','\x1b[36m%s\x1b[0m','sendPresenceUpdate','menuMessage','flushHeaders','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','oldValue','.mp3','/wa-all-message','inner','iniciando\x20fluxo\x20router','):\x20sender\x20=\x20number:\x20','):\x20Editando\x20replyOption...','\x20tentativas.','Erro\x20ao\x20tentar\x20autoCompleteMessages','GROUPS_UPDATE','sort','compression','sendMenu','pictureUrl','rowId','repository','filter','getAutomateSystem','post','):\x20Error\x20processing\x20conditions:\x20','\x1b[37m','fileName','lastCondition','updateGroupsAddPrivacy','buttons','lean','processPollUpdateMessage','uazapiSendMenu','deleteAll','):\x20Flow\x20\x27','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','isBusiness','Certbot\x20executado\x20com\x20sucesso.','/*.json','entries','):Error\x20in\x20converting\x20audio','\x20-\x20ON:\x20','ButtonsMessage','state','pollMessage','backgroundColor','block','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','AddChatLabel','has','choices','Invalid\x20format','authorization','readFile','headerString','Flow\x20iniciado\x20com\x20','docker','updateGParticipate','off','DELIVERY_ACK','Erro\x20ao\x20alterar\x20privacidade','format','query','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','getLastMessage','next_groupId','DATABASE_CONNECTION_PASSWORD','/wa-chats','):\x20atualização\x20chat:\x20','.ogg','webhookMap','getMessage','):\x20Fluxos\x20não\x20estão\x20ativados','silent','\x20minutos','groupRequestParticipantsList','create','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','setContext','editflowcondition','Unauthorized','jid','\x20não\x20encontrado\x20para\x20atualização.','upsertChats','router','leadInfo.etiquetas','dataValidate','PRESENCE_UPDATE','getUpdate','isAdmin','):\x20Limpando\x20delayMessage','):\x20Conversa\x20está\x20expirada\x20-\x20voto','saveChatVariables','STORE','text/event-stream','inet6','Erro\x20inesperado\x20em\x20processvaredits:\x20','image','):\x20conversation.waitingMenu_name','fetchConversation','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','messageHandle','view\x20engine','fetchLabels','updateGroupWebhook','varedit','and','localWebhook','stringify','buttonText','\x1b[33m','readMessage','insertMany','copy','Safari','Cache\x20instance\x20update\x20result:\x20','CacheContacts\x20database\x20connection\x20closed.','Valor\x20de\x20find\x20ou\x20replace\x20ausente','telefone','Enter\x20a\x20value\x20in\x20milliseconds','condition','waitingMenu_id','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','participant','retrySendMessage','generateHash','PRIVKEY','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','Error\x20removing\x20IPv6\x20address:\x20','getLabelModelForOwner','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','REDIS_ENABLED','editflowvariable','verifiedName','audioWhatsapp','messaging-history.set','LOG_LEVEL','\x1b[32m%s\x1b[0m','./.git/config','addresss','DATABASE_CONNECTION_HOST','deleteMany','contacts.update','auth','readreceipts','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','order','labels.edit','augusto.fcs@gmail.com','\x27\x20transferidos\x20para\x20a\x20coleção\x20centralizada.','use','):\x20Conversa\x20está\x20expirada','memberAddMode','sendMedia','deleteReplyOption','Nenhum\x20participante\x20válido\x20encontrado.','METHODS','uazapiSendLocation','updateOnlinePrivacy','DATABASE_CONNECTION_URI','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','error\x20get\x20vote','mediatype','update','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','updateProfileStatus','CONECTADO\x20À\x20UAZAPI'];a0_0x251d=function(){return _0x341501;};return a0_0x251d();}async function lr(){const _0x585cb9=a0_0xd17613;console[_0x585cb9(0x5c6)](_0x585cb9(0x6a4)),console[_0x585cb9(0x5c6)](_0x585cb9(0x3a7)),(0x0,we[_0x585cb9(0x1e7)])(_0x585cb9(0x280),{'shell':!0x0})['on'](_0x585cb9(0x3a6),_0x4c4b8f=>{const _0x17515d=_0x585cb9;_0x4c4b8f!==0x0?console['error'](_0x17515d(0x819)):(console['log']('Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.'),console[_0x17515d(0x5c6)](_0x17515d(0x594)),(0x0,we[_0x17515d(0x1e7)])('rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys',{'shell':!0x0})['on'](_0x17515d(0x3a6),_0x7619a9=>{const _0x3de4eb=_0x17515d;if(_0x7619a9!==0x0)console[_0x3de4eb(0x37f)](_0x3de4eb(0x1e0));else{console[_0x3de4eb(0x5c6)](_0x3de4eb(0x59f));let _0x3953ee=(0x0,we[_0x3de4eb(0x1e7)])(_0x3de4eb(0x825),{'shell':!0x0});_0x3953ee['stdout']['on'](_0x3de4eb(0x61d),_0xfabf05=>{const _0x441410=_0x3de4eb;console['log'](_0x441410(0x369)+_0xfabf05);}),_0x3953ee[_0x3de4eb(0x35e)]['on']('data',_0x48f673=>{const _0x272186=_0x3de4eb;console[_0x272186(0x37f)](_0x272186(0x33d)+_0x48f673);}),_0x3953ee['on'](_0x3de4eb(0x205),_0x2116df=>{const _0x1e3de5=_0x3de4eb;_0x2116df!==0x0?console[_0x1e3de5(0x37f)](_0x1e3de5(0x4db)+_0x2116df):console['log']('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0x1e3de5(0x5c6)](_0x1e3de5(0x2a5)),setTimeout(()=>process[_0x1e3de5(0x205)](),0x2710);});}}));});}var ur=je['default']['join'](__dirname,a0_0xd17613(0x192));async function dr(_0x2383e4,_0x35db6a){const _0x134afa=a0_0xd17613;let _0x217099=hr();_0x2383e4=_0x2383e4[_0x134afa(0x523)](_0x134afa(0x492),'');try{let _0x3d1ac5=fe[_0x134afa(0x6db)][_0x134afa(0x1a5)](_0x35db6a,_0x134afa(0x8c8));_0x3d1ac5=_0x3d1ac5[_0x134afa(0x523)](/<apikey>/,_0x217099),_0x3d1ac5=_0x3d1ac5[_0x134afa(0x523)](/<subdomain>/g,_0x2383e4),fe['default'][_0x134afa(0x5f8)](_0x35db6a,_0x3d1ac5,_0x134afa(0x8c8)),console['log']('Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.');}catch(_0x4dc2ab){console[_0x134afa(0x37f)](_0x134afa(0x76f),_0x4dc2ab);}}function pr(_0x23a343,_0x5ce68a){return new Promise((_0x1bd09d,_0x35ff84)=>{const _0x419363=a0_0x3a35;let _0x24caee=(0x0,we[_0x419363(0x1e7)])('certbot',[_0x419363(0x252),_0x419363(0x367),'-m',_0x23a343,'--agree-tos','-d',_0x5ce68a]);_0x24caee['stdout']['on'](_0x419363(0x61d),_0x378af2=>{const _0x1cd2d8=_0x419363;console[_0x1cd2d8(0x5c6)](_0x1cd2d8(0x26e)+_0x378af2[_0x1cd2d8(0x883)]());}),_0x24caee[_0x419363(0x35e)]['on'](_0x419363(0x61d),_0x1f88e0=>{const _0x8c22=_0x419363;console['error'](_0x8c22(0x308)+_0x1f88e0[_0x8c22(0x883)]());}),_0x24caee['on'](_0x419363(0x3a6),_0x2f90ab=>{const _0x512bf7=_0x419363;_0x2f90ab!==0x0?(console[_0x512bf7(0x37f)](_0x512bf7(0x2c9)+_0x2f90ab),_0x35ff84(_0x512bf7(0x2c9)+_0x2f90ab)):(console['log'](_0x512bf7(0x746)),_0x1bd09d());});});}function hr(_0x21db5a=0x32){const _0x307299=a0_0xd17613;let _0x3ae03e='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x17747f='';for(let _0x46c1f1=0x0;_0x46c1f1<_0x21db5a;_0x46c1f1++)_0x17747f+=_0x3ae03e[_0x307299(0x667)](Math[_0x307299(0x2a9)](Math[_0x307299(0x23e)]()*_0x3ae03e['length']));return _0x17747f;}function gr(){const _0x4deaa3=a0_0xd17613;(0x0,we[_0x4deaa3(0x2f2)])(_0x4deaa3(0x7e1),(_0x560cbc,_0x375a19,_0x1b186a)=>{const _0x3bae0c=_0x4deaa3;if(_0x560cbc){console[_0x3bae0c(0x37f)](_0x3bae0c(0x864)+_0x560cbc);return;}if(_0x1b186a){console['error'](_0x3bae0c(0x2be)+_0x1b186a);return;}console[_0x3bae0c(0x5c6)](_0x3bae0c(0x63b)+_0x375a19);});}0x0&&(module[a0_0xd17613(0x56e)]={'fullURL':fullURL,'subdomain':subdomain});