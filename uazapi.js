const a0_0x596428=a0_0xd1e2;(function(_0x568efe,_0x320ad6){const _0x2af038=a0_0xd1e2,_0x240e1a=_0x568efe();while(!![]){try{const _0x5e940b=parseInt(_0x2af038(0x3ac))/0x1+-parseInt(_0x2af038(0x32b))/0x2*(-parseInt(_0x2af038(0x421))/0x3)+parseInt(_0x2af038(0x6d8))/0x4*(parseInt(_0x2af038(0x673))/0x5)+parseInt(_0x2af038(0x64e))/0x6+parseInt(_0x2af038(0x4e1))/0x7+parseInt(_0x2af038(0x627))/0x8+-parseInt(_0x2af038(0x1e1))/0x9;if(_0x5e940b===_0x320ad6)break;else _0x240e1a['push'](_0x240e1a['shift']());}catch(_0x49e00d){_0x240e1a['push'](_0x240e1a['shift']());}}}(a0_0x2cee,0x76478));var fo=Object[a0_0x596428(0x503)],vs=Object[a0_0x596428(0x2d5)],wo=Object[a0_0x596428(0x1c4)],yo=Object['getOwnPropertyNames'],bo=Object[a0_0x596428(0x23b)],So=Object[a0_0x596428(0x702)][a0_0x596428(0x5a1)],Eo=(_0x4f2182,_0x24a511,_0x456eb1,_0x38e675)=>{const _0x1c20fe=a0_0x596428;if(_0x24a511&&typeof _0x24a511==_0x1c20fe(0x1ee)||typeof _0x24a511=='function'){for(let _0x35d179 of yo(_0x24a511))!So[_0x1c20fe(0x6f1)](_0x4f2182,_0x35d179)&&_0x35d179!==_0x456eb1&&vs(_0x4f2182,_0x35d179,{'get':()=>_0x24a511[_0x35d179],'enumerable':!(_0x38e675=wo(_0x24a511,_0x35d179))||_0x38e675[_0x1c20fe(0x62d)]});}return _0x4f2182;},T=(_0x1baf56,_0x26886e,_0x436c19)=>(_0x436c19=_0x1baf56!=null?fo(bo(_0x1baf56)):{},Eo(_0x26886e||!_0x1baf56||!_0x1baf56['__esModule']?vs(_0x436c19,a0_0x596428(0x3ea),{'value':_0x1baf56,'enumerable':!0x0}):_0x436c19,_0x1baf56)),co=T(require(a0_0x596428(0x517))),Ns=require('fs'),Ts=require(a0_0x596428(0x30f)),Rs=require('path'),_e=require(a0_0x596428(0x6f0)),Q=process[a0_0x596428(0x24f)](),V=(0x0,_e[a0_0x596428(0x72f)])(Q,a0_0x596428(0x270)),Cs=(0x0,_e[a0_0x596428(0x72f)])(Q,a0_0x596428(0x4f9)),Gt=(0x0,_e[a0_0x596428(0x72f)])(Q,a0_0x596428(0x425),'auth'),Ms=require('class-validator'),Jt=class{constructor(){const _0x4bfd0d=a0_0x596428;this[_0x4bfd0d(0x6f4)]();}['get'](_0x4a766f){const _0x346386=a0_0x596428;return this[_0x346386(0x4f5)][_0x4a766f];}[a0_0x596428(0x6f4)](){const _0x2244cc=a0_0x596428;this[_0x2244cc(0x4f5)]=process[_0x2244cc(0x4f5)]?.[_0x2244cc(0x204)]!==_0x2244cc(0x365)?this[_0x2244cc(0x69e)]():this[_0x2244cc(0x59f)](),this[_0x2244cc(0x4f5)]['PRODUCTION']=process['env']?.[_0x2244cc(0x251)]===_0x2244cc(0x5ba),process[_0x2244cc(0x4f5)]?.[_0x2244cc(0x204)]==='true'&&(this[_0x2244cc(0x4f5)][_0x2244cc(0x1d4)][_0x2244cc(0x295)]=_0x2244cc(0x726),this[_0x2244cc(0x4f5)]['SERVER'][_0x2244cc(0x528)]=Number['parseInt'](process[_0x2244cc(0x4f5)]?.[_0x2244cc(0x359)]??_0x2244cc(0x617)));}[a0_0x596428(0x69e)](){const _0x2a4db8=a0_0x596428;return(0x0,Ts['load'])((0x0,Ns['readFileSync'])((0x0,Rs[_0x2a4db8(0x72f)])(Cs,'../env.yml'),{'encoding':_0x2a4db8(0x2e7)}));}[a0_0x596428(0x59f)](){const _0x1f98ec=a0_0x596428;return{'SERVER':{'TYPE':process[_0x1f98ec(0x4f5)][_0x1f98ec(0x54d)],'PORT':Number[_0x1f98ec(0x3ab)](process[_0x1f98ec(0x4f5)][_0x1f98ec(0x359)])},'CORS':{'ORIGIN':process[_0x1f98ec(0x4f5)][_0x1f98ec(0x250)][_0x1f98ec(0x633)](','),'METHODS':process[_0x1f98ec(0x4f5)][_0x1f98ec(0x3b9)][_0x1f98ec(0x633)](','),'CREDENTIALS':process['env']?.[_0x1f98ec(0x552)]===_0x1f98ec(0x365)},'SSL_CONF':{'PRIVKEY':process[_0x1f98ec(0x4f5)]?.[_0x1f98ec(0x546)],'FULLCHAIN':process[_0x1f98ec(0x4f5)]?.[_0x1f98ec(0x5d0)]},'STORE':{'CLEANING_INTERVAL':Number[_0x1f98ec(0x3f6)](process[_0x1f98ec(0x4f5)]?.['STORE_CLEANING_TERMINAL'])?Number[_0x1f98ec(0x3ab)](process['env']['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process[_0x1f98ec(0x4f5)]?.['STORE_MESSAGE']==='true','CONTACTS':process['env']?.['STORE_CONTACTS']==='true','CHATS':process['env']?.[_0x1f98ec(0x575)]===_0x1f98ec(0x365)},'DATABASE':{'CONNECTION':{'HOST':process[_0x1f98ec(0x4f5)]?.[_0x1f98ec(0x671)],'PORT':Number[_0x1f98ec(0x3ab)](process[_0x1f98ec(0x4f5)]?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x1f98ec(0x4f5)]['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x1f98ec(0x4f5)][_0x1f98ec(0x188)],'URI':process[_0x1f98ec(0x4f5)][_0x1f98ec(0x402)],'DB_PREFIX_NAME':process[_0x1f98ec(0x4f5)][_0x1f98ec(0x44b)]},'ENABLED':process[_0x1f98ec(0x4f5)]?.[_0x1f98ec(0x3bb)]===_0x1f98ec(0x365)},'REDIS':{'ENABLED':process[_0x1f98ec(0x4f5)]?.[_0x1f98ec(0x63a)]==='true','URI':process[_0x1f98ec(0x4f5)][_0x1f98ec(0x661)],'PREFIX_KEY':process['env'][_0x1f98ec(0x6c0)]},'LOG':{'LEVEL':process['env']?.[_0x1f98ec(0x669)][_0x1f98ec(0x633)](','),'COLOR':process[_0x1f98ec(0x4f5)]?.[_0x1f98ec(0x5b9)]==='true'},'DEL_INSTANCE':(0x0,Ms[_0x1f98ec(0x351)])(process[_0x1f98ec(0x4f5)]?.[_0x1f98ec(0x300)])?process[_0x1f98ec(0x4f5)]['DEL_INSTANCE']==='true':Number[_0x1f98ec(0x3ab)](process[_0x1f98ec(0x4f5)]['DEL_INSTANCE'])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process['env'][_0x1f98ec(0x593)]?process['env'][_0x1f98ec(0x593)]===_0x1f98ec(0x365):!0x1,'GLOBAL':{'URL':process[_0x1f98ec(0x4f5)]?.['WEBHOOK_GLOBAL_URL'],'ENABLED':process[_0x1f98ec(0x4f5)]?.[_0x1f98ec(0x2e8)]===_0x1f98ec(0x365)},'EVENTS':{'STATUS_INSTANCE':process[_0x1f98ec(0x4f5)]?.[_0x1f98ec(0x441)]===_0x1f98ec(0x365),'QRCODE_UPDATED':process['env']?.[_0x1f98ec(0x679)]===_0x1f98ec(0x365),'MESSAGES_SET':process[_0x1f98ec(0x4f5)]?.[_0x1f98ec(0x18e)]===_0x1f98ec(0x365),'MESSAGES_UPSERT':process[_0x1f98ec(0x4f5)]?.[_0x1f98ec(0x1b0)]===_0x1f98ec(0x365),'MESSAGES_UPDATE':process[_0x1f98ec(0x4f5)]?.[_0x1f98ec(0x398)]===_0x1f98ec(0x365),'SEND_MESSAGE':process[_0x1f98ec(0x4f5)]?.['WEBHOOK_EVENTS_SEND_MESSAGE']==='true','CONTACTS_SET':process['env']?.[_0x1f98ec(0x32d)]===_0x1f98ec(0x365),'CONTACTS_UPDATE':process[_0x1f98ec(0x4f5)]?.['WEBHOOK_EVENTS_CONTACTS_UPDATE']===_0x1f98ec(0x365),'CONTACTS_UPSERT':process['env']?.['WEBHOOK_EVENTS_CONTACTS_UPSERT']==='true','PRESENCE_UPDATE':process[_0x1f98ec(0x4f5)]?.['WEBHOOK_EVENTS_PRESENCE_UPDATE']===_0x1f98ec(0x365),'CHATS_SET':process[_0x1f98ec(0x4f5)]?.['WEBHOOK_EVENTS_CHATS_SET']===_0x1f98ec(0x365),'CHATS_UPDATE':process[_0x1f98ec(0x4f5)]?.[_0x1f98ec(0x17c)]===_0x1f98ec(0x365),'CHATS_UPSERT':process[_0x1f98ec(0x4f5)]?.[_0x1f98ec(0x1da)]===_0x1f98ec(0x365),'CHATS_DELETE':process['env']?.[_0x1f98ec(0x4d9)]===_0x1f98ec(0x365),'CONNECTION_UPDATE':process[_0x1f98ec(0x4f5)]?.[_0x1f98ec(0x307)]===_0x1f98ec(0x365),'GROUPS_UPSERT':process[_0x1f98ec(0x4f5)]?.['WEBHOOK_EVENTS_GROUPS_UPSERT']===_0x1f98ec(0x365),'GROUP_UPDATE':process[_0x1f98ec(0x4f5)]?.[_0x1f98ec(0x22a)]===_0x1f98ec(0x365),'GROUP_PARTICIPANTS_UPDATE':process[_0x1f98ec(0x4f5)]?.[_0x1f98ec(0x41c)]==='true','NEW_JWT_TOKEN':process[_0x1f98ec(0x4f5)]?.['WEBHOOK_EVENTS_NEW_JWT_TOKEN']===_0x1f98ec(0x365)}},'CONFIG_SESSION_PHONE':{'CLIENT':process[_0x1f98ec(0x4f5)]?.[_0x1f98ec(0x537)]||_0x1f98ec(0x40e),'NAME':process[_0x1f98ec(0x4f5)]?.[_0x1f98ec(0x2b8)]||_0x1f98ec(0x6e2)},'QRCODE':{'LIMIT':Number[_0x1f98ec(0x3ab)](process[_0x1f98ec(0x4f5)][_0x1f98ec(0x555)])||0x5},'TRIAL_AD':process['env']?.[_0x1f98ec(0x6e3)],'TRIAL_INSTANCE_NAME':process[_0x1f98ec(0x4f5)]?.['TRIAL_INSTANCE_NAME'],'AUTHENTICATION':{'TYPE':process['env'][_0x1f98ec(0x695)],'API_KEY':{'KEY':process[_0x1f98ec(0x4f5)][_0x1f98ec(0x626)]},'JWT':{'EXPIRIN_IN':Number[_0x1f98ec(0x3f6)](process['env']?.[_0x1f98ec(0x3e1)])?Number[_0x1f98ec(0x3ab)](process[_0x1f98ec(0x4f5)][_0x1f98ec(0x3e1)]):0xe10,'SECRET':process[_0x1f98ec(0x4f5)][_0x1f98ec(0x581)]}}};}},S=new Jt(),lo=T(require(a0_0x596428(0x222))),ge=T(require(a0_0x596428(0x225))),bs=require(a0_0x596428(0x6f0)),Wt=T(require('dayjs')),Ht=(_0x5275b8=>(_0x5275b8[a0_0x596428(0x2f7)]='\x1b[32m',_0x5275b8[a0_0x596428(0x45b)]=a0_0x596428(0x443),_0x5275b8[a0_0x596428(0x50e)]='\x1b[33m',_0x5275b8[a0_0x596428(0x41e)]=a0_0x596428(0x224),_0x5275b8['DEBUG']=a0_0x596428(0x403),_0x5275b8['VERBOSE']=a0_0x596428(0x2d4),_0x5275b8[a0_0x596428(0x3e0)]='\x1b[30m',_0x5275b8))(Ht||{}),As=(_0x1bd579=>(_0x1bd579[a0_0x596428(0x2f7)]=a0_0x596428(0x1c8),_0x1bd579['DARK']=a0_0x596428(0x491),_0x1bd579[a0_0x596428(0x45b)]=a0_0x596428(0x586),_0x1bd579[a0_0x596428(0x50e)]=a0_0x596428(0x56c),_0x1bd579[a0_0x596428(0x41e)]='\x1b[31m%s\x1b[0m',_0x1bd579[a0_0x596428(0x6dc)]=a0_0x596428(0x60b),_0x1bd579['VERBOSE']=a0_0x596428(0x6f9),_0x1bd579))(As||{}),Is=(_0x17b8de=>(_0x17b8de['LOG']=a0_0x596428(0x2f7),_0x17b8de[a0_0x596428(0x50e)]=a0_0x596428(0x50e),_0x17b8de[a0_0x596428(0x45b)]=a0_0x596428(0x45b),_0x17b8de[a0_0x596428(0x3e0)]='DARK',_0x17b8de['ERROR']=a0_0x596428(0x41e),_0x17b8de[a0_0x596428(0x6dc)]='DEBUG',_0x17b8de['VERBOSE']=a0_0x596428(0x52a),_0x17b8de))(Is||{}),Ds=(_0x2df196=>(_0x2df196['LOG']=a0_0x596428(0x3a2),_0x2df196[a0_0x596428(0x45b)]=a0_0x596428(0x6f6),_0x2df196[a0_0x596428(0x50e)]=a0_0x596428(0x3f2),_0x2df196[a0_0x596428(0x3e0)]=a0_0x596428(0x734),_0x2df196[a0_0x596428(0x41e)]=a0_0x596428(0x5ed),_0x2df196[a0_0x596428(0x6dc)]=a0_0x596428(0x48b),_0x2df196[a0_0x596428(0x52a)]='\x1b[47m',_0x2df196))(Ds||{}),N=class{constructor(_0x11dd8d=a0_0x596428(0x5dd)){const _0x3b6ba=a0_0x596428;this[_0x3b6ba(0x376)]=_0x11dd8d,this[_0x3b6ba(0x6d5)]=S;}['setContext'](_0x12d644){const _0x859c95=a0_0x596428;this[_0x859c95(0x376)]=_0x12d644;}[a0_0x596428(0x665)](_0x415e6c,_0x38bfa6){const _0x402e8c=a0_0x596428;let _0x5923aa=[];this['configService']['get'](_0x402e8c(0x2f7))[_0x402e8c(0x64b)][_0x402e8c(0x571)](_0x41b995=>_0x5923aa[_0x402e8c(0x66c)](Is[_0x41b995]));let _0x376ad2=typeof _0x415e6c;_0x5923aa['includes'](_0x38bfa6)&&(S['get']('LOG')[_0x402e8c(0x6f3)]?(console['log'](_0x402e8c(0x67f)+As[_0x38bfa6],_0x402e8c(0x566),(0x0,Wt[_0x402e8c(0x3ea)])()[_0x402e8c(0x460)]('DD/MM\x20HH:mm:ss'),'\x1b[0m',Ht[_0x38bfa6]+Ds[_0x38bfa6]+_0x402e8c(0x67f),_0x38bfa6+_0x402e8c(0x64a),'\x1b[33m\x1b[1m',this['context']+'\x1b[0m',Ht[_0x38bfa6],_0x376ad2!==_0x402e8c(0x1ee)?_0x415e6c:'',_0x402e8c(0x35f)),_0x376ad2===_0x402e8c(0x1ee)&&console[_0x402e8c(0x208)](_0x415e6c,'\x0a')):console[_0x402e8c(0x208)]((0x0,Wt[_0x402e8c(0x3ea)])()[_0x402e8c(0x460)]('HH:mm:ss'),_0x38bfa6+'\x20',''+this[_0x402e8c(0x376)],_0x415e6c));}[a0_0x596428(0x208)](_0x2cfd2d){const _0x1b81bb=a0_0x596428;this[_0x1b81bb(0x665)](_0x2cfd2d,_0x1b81bb(0x2f7));}[a0_0x596428(0x36e)](_0x25f95d){const _0x449c68=a0_0x596428;this[_0x449c68(0x665)](_0x25f95d,_0x449c68(0x45b));}[a0_0x596428(0x6b1)](_0x5eaeb8){const _0x371f53=a0_0x596428;this[_0x371f53(0x665)](_0x5eaeb8,_0x371f53(0x50e));}[a0_0x596428(0x244)](_0x16061e){const _0x6ee920=a0_0x596428;this[_0x6ee920(0x665)](_0x16061e,_0x6ee920(0x41e));}[a0_0x596428(0x327)](_0x862bb9){const _0x17fa8f=a0_0x596428;this[_0x17fa8f(0x665)](_0x862bb9,_0x17fa8f(0x52a));}[a0_0x596428(0x613)](_0x13eb1d){const _0x51011b=a0_0x596428;this['console'](_0x13eb1d,_0x51011b(0x6dc));}[a0_0x596428(0x297)](_0x3bdc97){const _0x2cf09c=a0_0x596428;this[_0x2cf09c(0x665)](_0x3bdc97,_0x2cf09c(0x3e0));}};function _s(){const _0x421016=a0_0x596428;process['on'](_0x421016(0x31f),(_0x4546f7,_0x55d0bc)=>{const _0x5ed09e=_0x421016;new N(_0x5ed09e(0x31f))[_0x5ed09e(0x244)]({'origin':_0x55d0bc,'stderr':process[_0x5ed09e(0x1d1)]['fd'],'error':_0x4546f7});}),process['on'](_0x421016(0x630),(_0x5dc8cd,_0x4541b5)=>{const _0x4ccbcd=_0x421016;new N(_0x4ccbcd(0x630))[_0x4ccbcd(0x244)]({'origin':_0x4541b5,'stderr':process[_0x4ccbcd(0x1d1)]['fd'],'error':_0x5dc8cd});});}var Os=T(require('eventemitter2')),Kt=new Os[(a0_0x596428(0x3ea))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Oe=require(a0_0x596428(0x5a3)),zt=T(require(a0_0x596428(0x5a3))),vo=new N('Db\x20Connection'),G=S['get']('DATABASE'),M=G[a0_0x596428(0x404)]?G[a0_0x596428(0x2bc)][a0_0x596428(0x6d2)]?zt[a0_0x596428(0x3ea)]['createConnection'](G[a0_0x596428(0x2bc)][a0_0x596428(0x6d2)],{'dbName':G['CONNECTION'][a0_0x596428(0x1f6)]+a0_0x596428(0x194)}):zt[a0_0x596428(0x3ea)][a0_0x596428(0x705)](a0_0x596428(0x2af)+G['CONNECTION'][a0_0x596428(0x2cf)]+':'+G[a0_0x596428(0x2bc)][a0_0x596428(0x528)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':G['CONNECTION']['USER'],'pass':G[a0_0x596428(0x2bc)][a0_0x596428(0x5af)],'dbName':G[a0_0x596428(0x2bc)]['DB_PREFIX_NAME']+a0_0x596428(0x194)}):null;G[a0_0x596428(0x404)]&&vo[a0_0x596428(0x36e)](a0_0x596428(0x415)+M['$dbName']);var Co=new Oe['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),No=new Oe[(a0_0x596428(0x511))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Co],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),To=new Oe[(a0_0x596428(0x511))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':No,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean}}),Ps=_0x26a741=>{const _0x440d4c=a0_0x596428;let _0x1384d5='z_'+_0x26a741+_0x440d4c(0x326);return M?.[_0x440d4c(0x196)]('ChatModel',To,_0x1384d5);},xs=require('mongoose'),Ro=new xs[(a0_0x596428(0x511))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),$s=_0x58b659=>{const _0x505b65=a0_0x596428;let _0x59f081='z_'+_0x58b659+_0x505b65(0x205);return M?.[_0x505b65(0x196)](_0x505b65(0x715),Ro,_0x59f081);},ks=require('mongoose'),Mo=new ks[(a0_0x596428(0x511))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':[a0_0x596428(0x5f3),'web','ios']},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Ls=_0x439dea=>{const _0x2cf435=a0_0x596428;let _0x3a7521='z_'+_0x439dea+'_Messages';return M?.[_0x2cf435(0x196)]('MessageModel',Mo,_0x3a7521);},Us=require('mongoose'),Qt=class{},Ao=new Us[(a0_0x596428(0x511))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),Vs=M?.[a0_0x596428(0x196)](Qt[a0_0x596428(0x382)],Ao,a0_0x596428(0x1fb)),js=require(a0_0x596428(0x5a3)),Yt=class{},Fs=new js[(a0_0x596428(0x511))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Fs[a0_0x596428(0x5d3)](a0_0x596428(0x190),function(_0x4f48c6){const _0x482422=a0_0x596428;delete this[_0x482422(0x209)],delete this[_0x482422(0x236)],delete this['flowPrefixCommand'],delete this[_0x482422(0x332)],delete this[_0x482422(0x3bc)],_0x4f48c6();});var Bs=M?.[a0_0x596428(0x196)](Yt[a0_0x596428(0x382)],Fs,a0_0x596428(0x1cf)),_=require(a0_0x596428(0x5a3)),qs=new _['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Xt=new _[(a0_0x596428(0x511))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Io=new _['Schema']({'command':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20enquete\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Gs=new _[(a0_0x596428(0x511))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Do=new _['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),_o=new _['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Js=new _[(a0_0x596428(0x511))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Io},'apirequest':Do,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),as=new _[(a0_0x596428(0x511))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),Ws=new _[(a0_0x596428(0x511))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Zt=class{},Hs=new _[(a0_0x596428(0x511))]({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x587b29=a0_0x596428;return _0x587b29(0x438)+Math[_0x587b29(0x4ee)]()[_0x587b29(0x1af)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[as],'variablesNotFound':{'type':[String]},'blocks':[Js],'groups':[qs],'conditions':[Gs],'varedits':[Ws],'replyOptions':{'type':[Xt],'default':[]}});Hs['pre'](a0_0x596428(0x190),function(_0x13cf94){const _0x59dc0a=a0_0x596428;let _0x238dd0=new Set(),_0x28b65f=new Set(this[_0x59dc0a(0x2da)]?.['map'](_0x33e13c=>_0x33e13c[_0x59dc0a(0x382)])),_0x131d18=JSON[_0x59dc0a(0x35c)](this),_0x38e71c=/{{(?!_)([^}]*)}}/g,_0x231135;for(;(_0x231135=_0x38e71c[_0x59dc0a(0x597)](_0x131d18))!==null;)_0x28b65f[_0x59dc0a(0x335)](_0x231135[0x1])||_0x238dd0['add'](_0x231135[0x1]);_0x238dd0[_0x59dc0a(0x720)]>0x0?(console[_0x59dc0a(0x6b1)](_0x59dc0a(0x55c),Array[_0x59dc0a(0x2a1)](_0x238dd0)),this[_0x59dc0a(0x430)]=Array[_0x59dc0a(0x2a1)](_0x238dd0)):this['variablesNotFound']=[],_0x13cf94();});var I=M?.['model'](Zt[a0_0x596428(0x382)],Hs,a0_0x596428(0x1b3)),Oo=new _['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[as],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[_o]},{'_id':!0x1}),es=class{},Po=new _[(a0_0x596428(0x511))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[as],'blocks':[Js],'groups':[qs],'conditions':[Gs],'varedits':[Ws],'replyOptions':{'type':[Xt],'default':[]},'chatLog':Oo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x596428(0x1b4)},'waitingPoll_id':{'type':String},'waitingPoll_name':{'type':String},'waitingPoll_replyOptions':{'type':[Xt],'default':[]}}),j=M?.['model'](es[a0_0x596428(0x382)],Po,a0_0x596428(0x723)),ts=class{},xo=new _[(a0_0x596428(0x511))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),$o=new _['Schema']({'owner':{'type':String},'status':{'type':String,'default':a0_0x596428(0x66f)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':xo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Object],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),L=M?.[a0_0x596428(0x196)](ts['name'],$o,a0_0x596428(0x4fb)),ss=class{},ko=new _[(a0_0x596428(0x511))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Lo=new _['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x596428(0x4f2)},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),Uo=new _['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Vo=new _[(a0_0x596428(0x511))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Uo]},'customFields':{'type':[ko]},'flowConfig':{'type':Lo,'default':{}}}),ae=M?.[a0_0x596428(0x196)](ss['name'],Vo,a0_0x596428(0x3c3)),me=require('fs'),os=require(a0_0x596428(0x6f0)),W=class{constructor(_0x25e8f8){const _0x503d1f=a0_0x596428;this[_0x503d1f(0x729)]=(0x0,os[_0x503d1f(0x72f)])(Q,_0x503d1f(0x425)),this[_0x503d1f(0x6c1)]=_0x4c1beb=>{const _0x5df884=_0x503d1f;(0x0,me[_0x5df884(0x357)])(_0x4c1beb[_0x5df884(0x6f0)])||(0x0,me[_0x5df884(0x73b)])(_0x4c1beb[_0x5df884(0x6f0)],{'recursive':!0x0});try{return(0x0,me[_0x5df884(0x3c9)])((0x0,os[_0x5df884(0x72f)])(_0x4c1beb[_0x5df884(0x6f0)],_0x4c1beb['fileName']+_0x5df884(0x3d5)),JSON[_0x5df884(0x35c)]({..._0x4c1beb['data']}),{'encoding':_0x5df884(0x2e7)}),{'message':'create\x20-\x20success'};}finally{_0x4c1beb[_0x5df884(0x249)]=void 0x0;}},this['dbSettings']=_0x25e8f8['get']('DATABASE');}[a0_0x596428(0x341)](_0x11500f,_0xa72ff4=!0x1){const _0x2cb844=a0_0x596428;throw new Error(_0x2cb844(0x6b7));}[a0_0x596428(0x266)](_0x1ff6bc){const _0x4d10a2=a0_0x596428;throw new Error(_0x4d10a2(0x6b7));}[a0_0x596428(0x5f7)](_0x4d3d5b,_0x118610){const _0x4dd37d=a0_0x596428;throw new Error(_0x4dd37d(0x6b7));}},Pe=class{},xe=class extends W{constructor(_0x12fcbc){const _0x173291=a0_0x596428;super(_0x12fcbc),this[_0x173291(0x6d5)]=_0x12fcbc;}[a0_0x596428(0x37f)](_0x56d4e8){return Ls(_0x56d4e8);}async[a0_0x596428(0x341)](_0x4615a0){const _0x42c583=a0_0x596428;if(_0x4615a0[_0x42c583(0x708)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x42c583(0x37f)](_0x4615a0[0x0]['owner'])['insertMany']([..._0x4615a0]))['length']};}catch(_0x275108){return console[_0x42c583(0x208)](_0x42c583(0x645),_0x275108),_0x275108;}}async[a0_0x596428(0x266)](_0x1dc60e){const _0x453333=a0_0x596428;try{let _0x40767b=this['getMessageModelForOwner'](_0x1dc60e[_0x453333(0x5a8)][_0x453333(0x337)]);if(_0x1dc60e?.[_0x453333(0x5a8)]?.['key']){for(let [_0x431b01,_0x14bbab]of Object[_0x453333(0x6fe)](_0x1dc60e[_0x453333(0x5a8)][_0x453333(0x40a)]))_0x1dc60e[_0x453333(0x5a8)][_0x453333(0x241)+_0x431b01]=_0x14bbab;delete _0x1dc60e?.[_0x453333(0x5a8)]?.[_0x453333(0x40a)];}return await _0x40767b[_0x453333(0x266)]({..._0x1dc60e[_0x453333(0x5a8)]})[_0x453333(0x585)]({'messageTimestamp':-0x1})[_0x453333(0x2d7)](_0x1dc60e?.['limit']??0x0)[_0x453333(0x255)]();}catch{return[];}}async[a0_0x596428(0x5f7)](_0x38d50d){const _0x1f6bde=a0_0x596428;try{await this['getMessageModelForOwner'](_0x38d50d[_0x1f6bde(0x5a8)][_0x1f6bde(0x337)])[_0x1f6bde(0x58e)]({..._0x38d50d[_0x1f6bde(0x5a8)]});}catch(_0x244b2e){console[_0x1f6bde(0x244)](_0x244b2e);}}async[a0_0x596428(0x545)](_0x15c320,_0x213448){const _0x1e3206=a0_0x596428;try{return await this[_0x1e3206(0x37f)](_0x15c320[_0x1e3206(0x5a8)]['owner'])[_0x1e3206(0x5f4)]({..._0x15c320[_0x1e3206(0x5a8)]},{'$set':_0x213448},{'new':!0x0});}catch(_0x10627e){throw console[_0x1e3206(0x244)](_0x10627e),_0x10627e;}}async[a0_0x596428(0x649)](_0x3d22a0){const _0x2060d7=a0_0x596428;if(_0x3d22a0[_0x2060d7(0x708)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x2060d7(0x37f)](_0x3d22a0[0x0][_0x2060d7(0x337)])['insertMany']([..._0x3d22a0]))[_0x2060d7(0x708)]};}catch(_0x2eaca2){return console[_0x2060d7(0x208)](_0x2060d7(0x645),_0x2eaca2),_0x2eaca2;}}async['deleteAll'](_0x253fc1){const _0x57a229=a0_0x596428;try{return await this[_0x57a229(0x37f)](_0x253fc1)['collection'][_0x57a229(0x1d8)](),{'success':!0x0};}catch(_0x361527){return console[_0x57a229(0x244)](_0x361527),{'success':!0x1,'error':_0x361527};}}},te=require('fs'),Ya=T(require(a0_0x596428(0x607))),w=T(require('@whiskeysockets/baileys')),Te=require('fs'),$=T(require(a0_0x596428(0x6f0))),ce=T(require(a0_0x596428(0x648))),Xa=require(a0_0x596428(0x656)),Za=T(require(a0_0x596428(0x29f))),eo=T(require(a0_0x596428(0x2dd))),Ks=['imageMessage',a0_0x596428(0x197),a0_0x596428(0x1d7),a0_0x596428(0x385),a0_0x596428(0x1c7)],zs=['ephemeralMessage',a0_0x596428(0x4b1),a0_0x596428(0x51d),'viewOnceMessageV2'],to=require('os'),Rt=T(require('pino')),Dt=require(a0_0x596428(0x4b8)),Mt=require('node-mime-types'),we=T(require(a0_0x596428(0x5a3))),O=require(a0_0x596428(0x4e3)),he=class{constructor(_0x35d214,_0x172289,_0xe32a46){const _0x401e7f=a0_0x596428;this['jid']=_0x35d214,this[_0x401e7f(0x3df)]=_0x172289,this['name']=_0xe32a46;}},$e=class{},ke=class{},Se=class{},Le=class{},Ue=class{},fe=class{},Ve=class{},je=class{},Fe=class{},Be=class{},Et=T(require('express')),Qs=require('fs'),Ys=require('path');async function qe(_0x4d5d09){const _0x24371d=a0_0x596428;let _0x53c31f=F[_0x24371d(0x71a)][_0x4d5d09];if(G[_0x24371d(0x404)]){let _0xe7b494=M['getClient']()['db'](G['CONNECTION']['DB_PREFIX_NAME']+_0x24371d(0x5b8))[_0x24371d(0x213)](_0x4d5d09);return _0x53c31f||(await _0xe7b494[_0x24371d(0x266)]({})[_0x24371d(0x39c)]())[_0x24371d(0x708)]>0x0;}return _0x53c31f||(0x0,Qs['existsSync'])((0x0,Ys['join'])(V,_0x4d5d09));}async function rs(_0x29e690,_0x1940cc,_0x25ce1b){const _0x50a76f=a0_0x596428;if(_0x29e690[_0x50a76f(0x4f6)][_0x50a76f(0x739)](_0x50a76f(0x730))||_0x29e690['originalUrl'][_0x50a76f(0x739)](_0x50a76f(0x1a5))||_0x29e690[_0x50a76f(0x4f6)]['includes'](_0x50a76f(0x703)))return _0x25ce1b();let _0x49bec9=_0x29e690[_0x50a76f(0x5ef)];if(!_0x49bec9?.['instanceName'])throw new g(_0x50a76f(0x46c));if(!await qe(_0x49bec9['instanceName']))throw new x(_0x50a76f(0x329)+_0x49bec9[_0x50a76f(0x28a)]+_0x50a76f(0x39b));_0x25ce1b();}async function Xs(_0x5ba50f,_0x1d0ce1,_0x33e307){const _0x198fd1=a0_0x596428;if(_0x5ba50f[_0x198fd1(0x4f6)][_0x198fd1(0x739)]('/instance/create')){let _0x2412e0=_0x5ba50f['body'];if(await qe(_0x2412e0['instanceName']))throw new oe(_0x198fd1(0x4ec)+_0x2412e0['instanceName']+_0x198fd1(0x272));F[_0x198fd1(0x71a)][_0x2412e0[_0x198fd1(0x28a)]]&&delete F[_0x198fd1(0x71a)][_0x2412e0[_0x198fd1(0x28a)]];}_0x33e307();}var Zs=require(a0_0x596428(0x4e3)),ea=T(require(a0_0x596428(0x380))),Ge=a0_0x596428(0x40e),Fo=new N('GUARD');async function Bo(_0x454c5d,_0x2071e5,_0x34abb7){const _0x4bbc35=a0_0x596428;let _0x522818=_0x454c5d[_0x4bbc35(0x342)](_0x4bbc35(0x667));if(_0x522818&&S[_0x4bbc35(0x342)](_0x4bbc35(0x367))[_0x4bbc35(0x688)][_0x4bbc35(0x475)]!==_0x522818)throw new re();if(S[_0x4bbc35(0x342)](_0x4bbc35(0x367))[_0x4bbc35(0x688)][_0x4bbc35(0x475)]===_0x522818)return _0x34abb7();if((_0x454c5d[_0x4bbc35(0x4f6)][_0x4bbc35(0x739)](_0x4bbc35(0x730))||_0x454c5d['originalUrl'][_0x4bbc35(0x739)](_0x4bbc35(0x1a5)))&&!_0x522818)throw new oe(_0x4bbc35(0x54f),_0x4bbc35(0x72c));let _0x16d6e3=S[_0x4bbc35(0x342)](_0x4bbc35(0x367))[_0x4bbc35(0x22d)];try{let [_0x1b50e8,_0x12dcad]=_0x454c5d[_0x4bbc35(0x342)]('authorization')[_0x4bbc35(0x633)]('\x20');if(_0x1b50e8[_0x4bbc35(0x4bf)]()!==_0x4bbc35(0x71b))throw new re();if(!(0x0,Zs['isJWT'])(_0x12dcad))throw new re();let _0x574353=_0x454c5d['params'],_0x5eb78b=ea['default'][_0x4bbc35(0x263)](_0x12dcad,_0x16d6e3[_0x4bbc35(0x687)],{'ignoreExpiration':_0x16d6e3['EXPIRIN_IN']===0x0});if(_0x574353[_0x4bbc35(0x28a)]!==_0x5eb78b[_0x4bbc35(0x28a)]||Ge!==_0x5eb78b[_0x4bbc35(0x3f9)])throw new re();return _0x34abb7();}catch(_0x493286){throw Fo['error'](_0x493286),new re();}}async function qo(_0x297f8e,_0x4bfb46,_0x374edc){const _0x106286=a0_0x596428;let _0x501348=S[_0x106286(0x342)]('AUTHENTICATION')[_0x106286(0x688)],_0x7e8e39=_0x297f8e[_0x106286(0x342)](_0x106286(0x667));if(_0x501348['KEY']===_0x7e8e39)return _0x374edc();if(_0x297f8e[_0x106286(0x4f6)]['includes'](_0x106286(0x730))){let _0x28b498=S[_0x106286(0x342)](_0x106286(0x319)),_0x2fefa7=_0x297f8e[_0x106286(0x500)]['instanceName'];if(_0x28b498&&_0x2fefa7[_0x106286(0x4bf)]()[_0x106286(0x3a1)](_0x28b498[_0x106286(0x4bf)]()))return _0x374edc();if(!_0x7e8e39)throw new oe(_0x106286(0x54f),'The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x297f8e[_0x106286(0x4f6)][_0x106286(0x739)](_0x106286(0x1a5))&&!_0x7e8e39)throw new oe('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x297f8e[_0x106286(0x4f6)][_0x106286(0x739)](_0x106286(0x703))&&!_0x7e8e39)throw new oe(_0x106286(0x54f),_0x106286(0x72c));try{let _0x50aab6=_0x297f8e[_0x106286(0x5ef)];if((await le[_0x106286(0x493)][_0x106286(0x266)](_0x50aab6[_0x106286(0x28a)]))['apikey']===_0x7e8e39)return _0x374edc();}catch{}throw new re();}var ta={'jwt':Bo,'apikey':qo},$a=require(a0_0x596428(0x225)),v=require(a0_0x596428(0x656)),E=(..._0x284d45)=>{const _0x4ee869=a0_0x596428;let _0x7bad37={};return _0x284d45['forEach'](_0x370d64=>_0x7bad37[_0x370d64]={'minLength':0x1,'description':_0x4ee869(0x38c)+_0x370d64+_0x4ee869(0x1a7)}),{'if':{'propertyNames':{'enum':[..._0x284d45]}},'then':{'properties':_0x7bad37}};},C={'$id':(0x0,v['v4'])(),'type':'object','properties':{'instanceName':{'type':'string'}},...E(a0_0x596428(0x28a))},sa={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'oldToken':{'type':a0_0x596428(0x55f)}},'required':[a0_0x596428(0x588)],...E(a0_0x596428(0x588))},dn={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x596428(0x55f)},'remoteJid':{'type':a0_0x596428(0x55f)},'fromMe':{'type':a0_0x596428(0x3de),'enum':[!0x0,!0x1]}},'required':['id',a0_0x596428(0x5ea),'fromMe'],...E('id',a0_0x596428(0x5ea))},'message':{'type':a0_0x596428(0x1ee)}}},Y={'properties':{'delay':{'type':a0_0x596428(0x49e),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x596428(0x55f),'enum':[a0_0x596428(0x230),a0_0x596428(0x2e3),'composing','recording','paused']}}},X={'type':a0_0x596428(0x55f),'pattern':a0_0x596428(0x68b),'description':'Invalid\x20format'},aa={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'number':{...X},'options':{...Y},'textMessage':{'type':a0_0x596428(0x1ee),'properties':{'text':{'type':a0_0x596428(0x55f)}},'required':[a0_0x596428(0x46a)],...E(a0_0x596428(0x46a))}},'required':[a0_0x596428(0x3e9),a0_0x596428(0x395)]},oa={'type':a0_0x596428(0x55f),'pattern':a0_0x596428(0x1a8),'description':a0_0x596428(0x2a5)},pn={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'number':{...oa},'options':{...Y},'textMessage':{'type':a0_0x596428(0x1ee),'properties':{'text':{'type':a0_0x596428(0x55f)}},'required':[a0_0x596428(0x46a)],...E('text')}},'required':[a0_0x596428(0x3e9),a0_0x596428(0x395)]},gn={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...oa},'options':{...Y},'mediaMessage':{'type':a0_0x596428(0x1ee),'properties':{'mediatype':{'type':a0_0x596428(0x55f),'enum':['image',a0_0x596428(0x728),a0_0x596428(0x200),a0_0x596428(0x18c)]},'media':{'type':a0_0x596428(0x55f)},'fileName':{'type':a0_0x596428(0x55f)},'caption':{'type':a0_0x596428(0x55f)}},'required':[a0_0x596428(0x246),'media'],...E(a0_0x596428(0x5ac),a0_0x596428(0x65d),'media')}},'required':['mediaMessage','number']},ra={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'number':{...X},'options':{...Y},'stickerMessage':{'type':a0_0x596428(0x1ee),'properties':{'image':{'type':a0_0x596428(0x55f)}},'required':[a0_0x596428(0x476)],...E('image')}},'required':['stickerMessage',a0_0x596428(0x395)]},ia={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'statusMessage':{'type':a0_0x596428(0x1ee),'properties':{'type':{'type':a0_0x596428(0x55f),'enum':[a0_0x596428(0x46a),'image',a0_0x596428(0x18c),a0_0x596428(0x200)]},'content':{'type':a0_0x596428(0x55f)},'caption':{'type':a0_0x596428(0x55f)},'backgroundColor':{'type':a0_0x596428(0x55f)},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x596428(0x55f),'pattern':'^\x5cd+','description':a0_0x596428(0x63c)}},'allContacts':{'type':a0_0x596428(0x3de),'enum':[!0x0,!0x1]}},'required':[a0_0x596428(0x394),'content'],...E(a0_0x596428(0x394),a0_0x596428(0x38a))}},'required':[a0_0x596428(0x3c2)]},na={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'options':{...Y},'mediaMessage':{'type':a0_0x596428(0x1ee),'properties':{'mediatype':{'type':a0_0x596428(0x55f),'enum':[a0_0x596428(0x476),a0_0x596428(0x728),a0_0x596428(0x200),a0_0x596428(0x18c)]},'media':{'type':'string'},'fileName':{'type':'string'},'caption':{'type':a0_0x596428(0x55f)}},'required':[a0_0x596428(0x246),'media'],...E(a0_0x596428(0x5ac),'caption','media')}},'required':[a0_0x596428(0x452),a0_0x596428(0x395)]},ca={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'options':{...Y},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0x596428(0x55f)}},'required':[a0_0x596428(0x18c)],...E(a0_0x596428(0x18c))}},'required':[a0_0x596428(0x1d7),'number']},la={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'pollMessage':{'type':a0_0x596428(0x1ee),'properties':{'name':{'type':'string'},'selectableCount':{'type':a0_0x596428(0x395)},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x596428(0x382),a0_0x596428(0x2d8),a0_0x596428(0x30e)],...E(a0_0x596428(0x382),a0_0x596428(0x2d8),'values')}},'required':[a0_0x596428(0x395),a0_0x596428(0x66b)]},ua={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'number':{...X},'options':{...Y},'buttonMessage':{'type':a0_0x596428(0x1ee),'properties':{'title':{'type':a0_0x596428(0x55f)},'description':{'type':a0_0x596428(0x55f)},'footerText':{'type':a0_0x596428(0x55f)},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':a0_0x596428(0x55f)},'buttonId':{'type':a0_0x596428(0x55f)}},'required':[a0_0x596428(0x220),'buttonId'],...E(a0_0x596428(0x220),a0_0x596428(0x377))}},'mediaMessage':{'type':a0_0x596428(0x1ee),'properties':{'media':{'type':a0_0x596428(0x55f)},'fileName':{'type':'string'},'mediatype':{'type':'string','enum':[a0_0x596428(0x476),'document',a0_0x596428(0x200)]}},'required':[a0_0x596428(0x3e4),a0_0x596428(0x246)],...E(a0_0x596428(0x3e4),a0_0x596428(0x5ac))}},'required':['title',a0_0x596428(0x1e6)],...E(a0_0x596428(0x735),a0_0x596428(0x276))}},'required':[a0_0x596428(0x395),a0_0x596428(0x2a4)]},da={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'number':{...X},'options':{...Y},'locationMessage':{'type':'object','properties':{'latitude':{'type':'number'},'longitude':{'type':'number'},'name':{'type':a0_0x596428(0x55f)},'address':{'type':'string'}},'required':[a0_0x596428(0x56a),a0_0x596428(0x55a)],...E(a0_0x596428(0x382),a0_0x596428(0x572))}},'required':['number',a0_0x596428(0x577)]},pa={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'number':{...X},'options':{...Y},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x596428(0x55f)},'description':{'type':a0_0x596428(0x55f)},'footerText':{'type':'string'},'buttonText':{'type':a0_0x596428(0x55f)},'sections':{'type':a0_0x596428(0x6de),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x596428(0x55f)},'rows':{'type':a0_0x596428(0x6de),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x596428(0x1ee),'properties':{'title':{'type':a0_0x596428(0x55f)},'description':{'type':a0_0x596428(0x55f)},'rowId':{'type':a0_0x596428(0x55f)}},'required':[a0_0x596428(0x735),a0_0x596428(0x276),a0_0x596428(0x420)],...E('title',a0_0x596428(0x276),'rowId')}}},'required':[a0_0x596428(0x735),a0_0x596428(0x31a)],...E('title')}}},'required':[a0_0x596428(0x735),a0_0x596428(0x276),a0_0x596428(0x220),a0_0x596428(0x424)],...E(a0_0x596428(0x735),'description','buttonText',a0_0x596428(0x5b1))}},'required':[a0_0x596428(0x395),'listMessage']},ga={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'number':{...X},'options':{...Y},'contactMessage':{'type':'array','items':{'type':a0_0x596428(0x1ee),'properties':{'fullName':{'type':a0_0x596428(0x55f)},'phoneNumber':{'type':a0_0x596428(0x55f),'minLength':0xa}},'required':[a0_0x596428(0x262),a0_0x596428(0x3b2)],...E(a0_0x596428(0x262))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x596428(0x395),a0_0x596428(0x709)]},ma={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x596428(0x3de),'enum':[!0x0,!0x1]}},'required':['id',a0_0x596428(0x5ea),a0_0x596428(0x4bd)],...E('id',a0_0x596428(0x5ea))},'reaction':{'type':a0_0x596428(0x55f)}},'required':[a0_0x596428(0x40a),a0_0x596428(0x344)],...E(a0_0x596428(0x344))}},'required':['reactionMessage']},ha={'$id':(0x0,v['v4'])(),'type':'object','properties':{'numbers':{'type':a0_0x596428(0x6de),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x596428(0x55f),'pattern':'^\x5cd+','description':a0_0x596428(0x6ed)}}}},fa={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'readMessages':{'type':a0_0x596428(0x6de),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x596428(0x55f)},'fromMe':{'type':a0_0x596428(0x3de),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x596428(0x55f)}},'required':['id','fromMe','remoteJid'],...E('id',a0_0x596428(0x5ea))}}},'required':[a0_0x596428(0x2d2)]},wa={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'privacySettings':{'type':a0_0x596428(0x1ee),'properties':{'readreceipts':{'type':a0_0x596428(0x55f),'enum':['all',a0_0x596428(0x696)]},'profile':{'type':a0_0x596428(0x55f),'enum':[a0_0x596428(0x349),a0_0x596428(0x47a),'contact_blacklist',a0_0x596428(0x696)]},'status':{'type':'string','enum':[a0_0x596428(0x349),'contacts',a0_0x596428(0x22e),a0_0x596428(0x696)]},'online':{'type':a0_0x596428(0x55f),'enum':[a0_0x596428(0x349),a0_0x596428(0x6da)]},'last':{'type':a0_0x596428(0x55f),'enum':[a0_0x596428(0x349),a0_0x596428(0x47a),'contact_blacklist',a0_0x596428(0x696)]},'groupadd':{'type':a0_0x596428(0x55f),'enum':[a0_0x596428(0x349),a0_0x596428(0x47a),a0_0x596428(0x22e),a0_0x596428(0x696)]}},'required':[a0_0x596428(0x4ba),a0_0x596428(0x1b5),a0_0x596428(0x2a2),a0_0x596428(0x454),'last','groupadd'],...E('readreceipts','profile',a0_0x596428(0x2a2),a0_0x596428(0x454),'last','groupadd')}},'required':[a0_0x596428(0x51f)]},ya={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'lastMessage':{'type':a0_0x596428(0x1ee),'properties':{'key':{'type':a0_0x596428(0x1ee),'properties':{'id':{'type':a0_0x596428(0x55f)},'remoteJid':{'type':a0_0x596428(0x55f)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x596428(0x4bd),'remoteJid'],...E('id','remoteJid')},'messageTimestamp':{'type':a0_0x596428(0x49e),'minLength':0x1}},'required':[a0_0x596428(0x40a)],...E(a0_0x596428(0x67c))},'archive':{'type':a0_0x596428(0x3de),'enum':[!0x0,!0x1]}},'required':[a0_0x596428(0x5de),a0_0x596428(0x347)]},ba={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'id':{'type':a0_0x596428(0x55f)},'fromMe':{'type':a0_0x596428(0x3de),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x596428(0x55f)},'participant':{'type':a0_0x596428(0x55f)}},'required':['id','fromMe','remoteJid'],...E('id',a0_0x596428(0x5ea),a0_0x596428(0x4e9))},Sa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'where':{'type':a0_0x596428(0x1ee),'properties':{'_id':{'type':a0_0x596428(0x55f),'minLength':0x1},'pushName':{'type':a0_0x596428(0x55f),'minLength':0x1},'id':{'type':a0_0x596428(0x55f),'minLength':0x1}},...E(a0_0x596428(0x19f),'id','pushName')}}},Ea={'$id':(0x0,v['v4'])(),'type':'object','properties':{'name':{'type':a0_0x596428(0x55f)}},...E(a0_0x596428(0x382))},va={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'status':{'type':'string'}},...E('status')},Ee={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'number':{'type':a0_0x596428(0x55f)},'picture':{'type':a0_0x596428(0x55f)}}},Ca={'type':a0_0x596428(0x1ee),'properties':{'wuid':{'type':a0_0x596428(0x55f)},'name':{'type':a0_0x596428(0x55f)},'picture':{'type':'string'},'status':{'type':'string'},'isBusiness':{'type':'boolean'}}},Na={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x596428(0x55f),'minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':['fromMe','remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0x596428(0x4cc)},'id':{'type':a0_0x596428(0x55f),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':a0_0x596428(0x3de),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x596428(0x1ee)}},...E('_id')},'limit':{'type':a0_0x596428(0x49e)}}},mn={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'where':{'type':a0_0x596428(0x1ee),'properties':{'_id':{'type':a0_0x596428(0x55f)},'remoteJid':{'type':a0_0x596428(0x55f)},'id':{'type':a0_0x596428(0x55f)},'fromMe':{'type':a0_0x596428(0x3de),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x596428(0x55f)},'status':{'type':a0_0x596428(0x55f),'enum':[a0_0x596428(0x41e),a0_0x596428(0x65f),a0_0x596428(0x32f),'DELIVERY_ACK',a0_0x596428(0x24c),'PLAYED']}},...E(a0_0x596428(0x19f),a0_0x596428(0x5ea),'id','status')},'limit':{'type':a0_0x596428(0x49e)}}},Ta={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'number':{...X},'presence':{'type':a0_0x596428(0x55f),'enum':[a0_0x596428(0x230),'available','composing',a0_0x596428(0x3f4),a0_0x596428(0x34c)]}},'required':[a0_0x596428(0x2db),a0_0x596428(0x395)]},Ra={'$id':(0x0,v['v4'])(),'type':'object','properties':{'subject':{'type':'string'},'description':{'type':a0_0x596428(0x55f)},'profilePicture':{'type':a0_0x596428(0x55f)},'participants':{'type':a0_0x596428(0x6de),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x596428(0x55f),'minLength':0xa,'pattern':a0_0x596428(0x520),'description':a0_0x596428(0x68d)}}},'required':['subject',a0_0x596428(0x4b6)],...E(a0_0x596428(0x6ef),a0_0x596428(0x276),a0_0x596428(0x5fb))},ve={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'groupJid':{'type':a0_0x596428(0x55f),'pattern':a0_0x596428(0x49b)}},'required':[a0_0x596428(0x240)],...E('groupJid')},Ma={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x596428(0x55f)},'action':{'type':a0_0x596428(0x55f),'enum':[a0_0x596428(0x411),a0_0x596428(0x72e),a0_0x596428(0x603),'demote']},'participants':{'type':a0_0x596428(0x6de),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x596428(0x520),'description':a0_0x596428(0x68d)}}},'required':[a0_0x596428(0x240),a0_0x596428(0x2b5),a0_0x596428(0x4b6)],...E(a0_0x596428(0x240),a0_0x596428(0x2b5))},Aa={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'groupJid':{'type':a0_0x596428(0x55f)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x596428(0x240),a0_0x596428(0x1ff)],...E(a0_0x596428(0x240),a0_0x596428(0x1ff))},Ia={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'groupJid':{'type':a0_0x596428(0x55f)},'image':{'type':a0_0x596428(0x55f)}},'required':['groupJid',a0_0x596428(0x476)],...E(a0_0x596428(0x240),a0_0x596428(0x476))},Da={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'groupJid':{'type':a0_0x596428(0x55f)},'description':{'type':a0_0x596428(0x55f)}},'required':[a0_0x596428(0x240),a0_0x596428(0x276)],...E(a0_0x596428(0x240),a0_0x596428(0x276))},_a={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'groupJid':{'type':a0_0x596428(0x55f)},'name':{'type':a0_0x596428(0x55f)}},'required':[a0_0x596428(0x240),a0_0x596428(0x382)],...E(a0_0x596428(0x240),a0_0x596428(0x382))},Oa={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'groupJid':{'type':a0_0x596428(0x55f)},'setting':{'type':'string','enum':[a0_0x596428(0x659),'not_announcement',a0_0x596428(0x1ea),'locked']}},'required':[a0_0x596428(0x240),a0_0x596428(0x466)],...E(a0_0x596428(0x240),a0_0x596428(0x466))},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'inviteCode':{'type':a0_0x596428(0x55f)}},'required':[a0_0x596428(0x5e8)],...E('inviteCode')},xa={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'url':{'type':'string'},'enabled':{'type':a0_0x596428(0x3de),'enum':[!0x0,!0x1]}},'required':[a0_0x596428(0x1fc),a0_0x596428(0x5a5)]},hn={'$id':(0x0,v['v4'])(),'type':a0_0x596428(0x1ee),'properties':{'local_map':{'type':a0_0x596428(0x3de),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x596428(0x3de),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x596428(0x3de),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x596428(0x3de),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x596428(0x3de),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x596428(0x3de),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x596428(0x3de),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x596428(0x3de),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x596428(0x3de),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x596428(0x3de),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x596428(0x3de),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x596428(0x3de),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x596428(0x3de),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x596428(0x3de),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x596428(0x3de),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x596428(0x3de),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x596428(0x3de),'enum':[!0x0,!0x1]}},'required':[a0_0x596428(0x6fc),a0_0x596428(0x2e4),a0_0x596428(0x544),a0_0x596428(0x481),a0_0x596428(0x3a5),a0_0x596428(0x51a),a0_0x596428(0x34d),'CONTACTS_SET',a0_0x596428(0x401),a0_0x596428(0x2c0),a0_0x596428(0x63e),a0_0x596428(0x3f8),a0_0x596428(0x29c),a0_0x596428(0x40c),'CHATS_DELETE',a0_0x596428(0x564),a0_0x596428(0x60f),a0_0x596428(0x3d2),a0_0x596428(0x672)],...E(a0_0x596428(0x6fc),'STATUS_INSTANCE',a0_0x596428(0x544),'MESSAGES_SET',a0_0x596428(0x3a5),a0_0x596428(0x51a),a0_0x596428(0x34d),a0_0x596428(0x461),a0_0x596428(0x401),a0_0x596428(0x2c0),'PRESENCE_UPDATE',a0_0x596428(0x3f8),a0_0x596428(0x29c),a0_0x596428(0x40c),a0_0x596428(0x17e),a0_0x596428(0x564),a0_0x596428(0x60f),a0_0x596428(0x3d2),a0_0x596428(0x672))},Je=class{},We=class extends W{constructor(_0xa7ba0d){super(_0xa7ba0d),this['configService']=_0xa7ba0d;}['getContactModelForOwner'](_0x397bec){return $s(_0x397bec);}async[a0_0x596428(0x341)](_0xb06ba7){const _0x39ae5a=a0_0x596428;if(_0xb06ba7['length']!==0x0)try{return{'insertCount':(await this[_0x39ae5a(0x259)](_0xb06ba7[0x0][_0x39ae5a(0x337)])['insertMany']([..._0xb06ba7]))[_0x39ae5a(0x708)]};}catch(_0x2656a4){return _0x2656a4;}}async['delete'](_0x10d6ec){const _0xfbfda5=a0_0x596428;try{return{'deletedCount':(await this[_0xfbfda5(0x259)](_0x10d6ec[_0xfbfda5(0x5a8)]['owner'])[_0xfbfda5(0x58e)]({..._0x10d6ec[_0xfbfda5(0x5a8)]}))[_0xfbfda5(0x655)]};}catch(_0x3031f5){return{'error':_0x3031f5?.[_0xfbfda5(0x1af)]()};}}async[a0_0x596428(0x545)](_0x2ddf5f,_0xb06e8){const _0x3ffdd3=a0_0x596428;try{if(_0x2ddf5f[_0x3ffdd3(0x708)]===0x0)return;let _0x98df34=this[_0x3ffdd3(0x259)](_0xb06e8),_0x44b7fe=_0x2ddf5f[_0x3ffdd3(0x393)](_0x46708f=>({'updateOne':{'filter':{'_id':_0x46708f[_0x3ffdd3(0x19f)],'owner':_0xb06e8},'update':{..._0x46708f}}})),{modifiedCount:_0x3c3a31}=await _0x98df34[_0x3ffdd3(0x6ec)](_0x44b7fe);return{'insertCount':_0x3c3a31};}catch{return;}}async[a0_0x596428(0x266)](_0x195419){const _0x15f049=a0_0x596428;try{return await this['getContactModelForOwner'](_0x195419['where'][_0x15f049(0x337)])[_0x15f049(0x266)]({..._0x195419[_0x15f049(0x5a8)]})[_0x15f049(0x2d7)](_0x195419?.[_0x15f049(0x2d7)]??0x0)[_0x15f049(0x255)]();}catch{return[];}}async[a0_0x596428(0x3d7)](_0x447584){const _0x10f93f=a0_0x596428;try{return await this[_0x10f93f(0x259)](_0x447584[_0x10f93f(0x5a8)][_0x10f93f(0x337)])[_0x10f93f(0x3d7)]({..._0x447584[_0x10f93f(0x5a8)]})[_0x10f93f(0x255)]();}catch{return null;}}async[a0_0x596428(0x2b3)](_0x4ffff5){const _0x51c960=a0_0x596428;try{return await this[_0x51c960(0x259)](_0x4ffff5)[_0x51c960(0x213)][_0x51c960(0x1d8)](),{'success':!0x0};}catch(_0x1ae9d4){return console[_0x51c960(0x244)](_0x1ae9d4),{'success':!0x1,'error':_0x1ae9d4};}}},He=require(a0_0x596428(0x2be)),Cn=require(a0_0x596428(0x187)),is=new N(a0_0x596428(0x1d6)),k=class{constructor(){}[a0_0x596428(0x5ec)](_0x158048,_0x9f20b5=!0x0){let _0x5a3b48='/'+_0x158048;return _0x9f20b5&&(_0x5a3b48+='/:instanceName'),_0x5a3b48;}async[a0_0x596428(0x4ed)](_0x3d3db9){const _0x59492a=a0_0x596428;let {request:_0x2da8e2,schema:_0x6c3f95,ClassRef:_0x31ddd1,execute:_0x58b9db}=_0x3d3db9,_0xb61a99=new _0x31ddd1(),_0xe46571=_0x2da8e2['body'],_0x215d02=_0x2da8e2[_0x59492a(0x5ef)];_0x2da8e2?.[_0x59492a(0x281)]&&Object[_0x59492a(0x678)](_0x2da8e2[_0x59492a(0x281)])[_0x59492a(0x708)]>0x0&&Object['assign'](_0x215d02,_0x2da8e2[_0x59492a(0x281)]),_0x2da8e2[_0x59492a(0x4f6)][_0x59492a(0x739)](_0x59492a(0x730))&&Object[_0x59492a(0x306)](_0x215d02,_0xe46571),Object[_0x59492a(0x306)](_0xb61a99,_0xe46571);let _0xf77bca=_0x6c3f95?(0x0,He[_0x59492a(0x565)])(_0xb61a99,_0x6c3f95):{'valid':!0x0,'errors':[]};if(!_0xf77bca['valid']){let _0x3fd433=_0xf77bca['errors'][_0x59492a(0x393)](({property:_0x53298d,stack:_0x3a8ab0,schema:_0x3cee6a})=>{const _0x417f9f=_0x59492a;let _0x599d5c;return _0x3cee6a[_0x417f9f(0x276)]?_0x599d5c=_0x3cee6a[_0x417f9f(0x276)]:_0x599d5c=_0x3a8ab0[_0x417f9f(0x527)](_0x417f9f(0x6cc),''),{'property':_0x53298d['replace']('instance.',''),'message':_0x599d5c};});throw is[_0x59492a(0x244)]([..._0x3fd433]),new g(..._0x3fd433);}return await _0x58b9db(_0x215d02,_0xb61a99);}async['groupValidate'](_0x3a6fcc){const _0x4277a0=a0_0x596428;let {request:_0x262a4b,ClassRef:_0x5d1d70,schema:_0x168ecc,execute:_0xd77ff8}=_0x3a6fcc,_0x46563c=_0x262a4b[_0x4277a0(0x281)];if(!_0x46563c?.['groupJid'])throw new g('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x4277a0(0x620));let _0x50989d=_0x262a4b[_0x4277a0(0x5ef)],_0x18a8ee=_0x262a4b[_0x4277a0(0x500)],_0x104b76=new _0x5d1d70();Object['assign'](_0x18a8ee,_0x46563c),Object[_0x4277a0(0x306)](_0x104b76,_0x18a8ee);let _0x103320=(0x0,He[_0x4277a0(0x565)])(_0x104b76,_0x168ecc);if(!_0x103320[_0x4277a0(0x48a)]){let _0x5b30c1=_0x103320[_0x4277a0(0x567)]['map'](({property:_0x5cb7b7,stack:_0x4a8bf8,schema:_0x72f7a8})=>{const _0x3d3fad=_0x4277a0;let _0x17a264;return _0x72f7a8[_0x3d3fad(0x276)]?_0x17a264=_0x72f7a8[_0x3d3fad(0x276)]:_0x17a264=_0x4a8bf8[_0x3d3fad(0x527)](_0x3d3fad(0x6cc),''),{'property':_0x5cb7b7[_0x3d3fad(0x527)](_0x3d3fad(0x6cc),''),'message':_0x17a264};});throw is[_0x4277a0(0x244)]([..._0x5b30c1]),new g(..._0x5b30c1);}return await _0xd77ff8(_0x50989d,_0x104b76);}async[a0_0x596428(0x2bf)](_0x26434f){const _0xa802ad=a0_0x596428;let {request:_0x249929,ClassRef:_0x386d3c,schema:_0x481703,execute:_0x2260f9}=_0x26434f,_0x567efd=_0x249929[_0xa802ad(0x500)];if(!_0x567efd?.[_0xa802ad(0x5e8)])throw new g('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0xa802ad(0x1e8));let _0x67c255=_0x249929['params'],_0x232b1f=_0x249929['body'],_0xe8d088=new _0x386d3c();Object[_0xa802ad(0x306)](_0x232b1f,_0x567efd),Object[_0xa802ad(0x306)](_0xe8d088,_0x232b1f);let _0x1cab93=(0x0,He[_0xa802ad(0x565)])(_0xe8d088,_0x481703);if(!_0x1cab93['valid']){let _0x97475a=_0x1cab93[_0xa802ad(0x567)][_0xa802ad(0x393)](({property:_0x4c1878,stack:_0xdee628,schema:_0x160f2e})=>{const _0x3ecd87=_0xa802ad;let _0x4ec928;return _0x160f2e[_0x3ecd87(0x276)]?_0x4ec928=_0x160f2e['description']:_0x4ec928=_0xdee628[_0x3ecd87(0x527)](_0x3ecd87(0x6cc),''),{'property':_0x4c1878[_0x3ecd87(0x527)](_0x3ecd87(0x6cc),''),'message':_0x4ec928};});throw is[_0xa802ad(0x244)]([..._0x97475a]),new g(..._0x97475a);}return await _0x2260f9(_0x67c255,_0xe8d088);}},b=class{},Ke=class extends k{constructor(..._0x291986){const _0x169e63=a0_0x596428;super(),this[_0x169e63(0x6c2)]=(0x0,$a[_0x169e63(0x2dc)])(),this['router'][_0x169e63(0x560)](this[_0x169e63(0x5ec)](_0x169e63(0x62f)),..._0x291986,async(_0x5c02d6,_0x4acbf0)=>{const _0x280ad9=_0x169e63;let _0x2830c7=await this['dataValidate']({'request':_0x5c02d6,'schema':Ta,'ClassRef':$e,'execute':(_0x3237b2,_0x40b00e)=>D[_0x280ad9(0x62f)](_0x3237b2,_0x40b00e)});return _0x4acbf0[_0x280ad9(0x2a2)](0xc9)[_0x280ad9(0x389)](_0x2830c7);})[_0x169e63(0x560)](this[_0x169e63(0x5ec)](_0x169e63(0x573)),..._0x291986,async(_0xed2301,_0x57277d)=>{const _0x15dcc2=_0x169e63;let _0x1dae59=await this['dataValidate']({'request':_0xed2301,'schema':ha,'ClassRef':ke,'execute':(_0x5cf6ee,_0xbd70ae)=>D[_0x15dcc2(0x5a2)](_0x5cf6ee,_0xbd70ae)});return _0x57277d[_0x15dcc2(0x2a2)](0xc9)[_0x15dcc2(0x389)](_0x1dae59);})[_0x169e63(0x560)](this[_0x169e63(0x5ec)](_0x169e63(0x261)),..._0x291986,async(_0x3d1fa5,_0x8827ae)=>{const _0x5129de=_0x169e63;let _0x2caca6=await this[_0x5129de(0x4ed)]({'request':_0x3d1fa5,'schema':C,'ClassRef':b,'execute':(_0x54f503,_0x1d2a37)=>D['editChat'](_0x54f503,_0x1d2a37)});return _0x8827ae[_0x5129de(0x2a2)](0xc9)[_0x5129de(0x389)](_0x2caca6);})[_0x169e63(0x3ec)](this[_0x169e63(0x5ec)](_0x169e63(0x375)),..._0x291986,async(_0x19f10d,_0x35624b)=>{const _0x1feb00=_0x169e63;let _0x2d0a5a=await this[_0x1feb00(0x4ed)]({'request':_0x19f10d,'schema':fa,'ClassRef':Ve,'execute':(_0x34b227,_0x52b5a1)=>D[_0x1feb00(0x19e)](_0x34b227,_0x52b5a1)});return _0x35624b['status'](0xc9)[_0x1feb00(0x389)](_0x2d0a5a);})[_0x169e63(0x3ec)](this[_0x169e63(0x5ec)](_0x169e63(0x4d6)),..._0x291986,async(_0x45529a,_0x488e22)=>{const _0xa8ecae=_0x169e63;let _0x31bf11=await this[_0xa8ecae(0x4ed)]({'request':_0x45529a,'schema':ya,'ClassRef':je,'execute':(_0x2bfe20,_0x58b00a)=>D[_0xa8ecae(0x4d6)](_0x2bfe20,_0x58b00a)});return _0x488e22[_0xa8ecae(0x2a2)](0xc9)[_0xa8ecae(0x389)](_0x31bf11);})[_0x169e63(0x5f7)](this[_0x169e63(0x5ec)](_0x169e63(0x1ce)),..._0x291986,async(_0x4bb28a,_0x13440f)=>{const _0x22ba18=_0x169e63;let _0x4fd558=await this[_0x22ba18(0x4ed)]({'request':_0x4bb28a,'schema':ba,'ClassRef':Be,'execute':(_0x36bd9f,_0x45154d)=>D['deleteMessage'](_0x36bd9f,_0x45154d)});return _0x13440f[_0x22ba18(0x2a2)](0xc9)[_0x22ba18(0x389)](_0x4fd558);})[_0x169e63(0x560)](this[_0x169e63(0x5ec)](_0x169e63(0x63b)),..._0x291986,async(_0x5a2e80,_0x476e6d)=>{const _0x5d9681=_0x169e63;let _0x263db5=await this[_0x5d9681(0x4ed)]({'request':_0x5a2e80,'schema':Ee,'ClassRef':Se,'execute':(_0x189eab,_0x319231)=>D[_0x5d9681(0x50f)](_0x189eab,_0x319231)});return _0x476e6d[_0x5d9681(0x2a2)](0xc8)[_0x5d9681(0x389)](_0x263db5);})[_0x169e63(0x560)](this[_0x169e63(0x5ec)]('fetchProfile'),..._0x291986,async(_0x2092fc,_0x3951db)=>{const _0x2ef3af=_0x169e63;let _0x5ee5f8=await this['dataValidate']({'request':_0x2092fc,'schema':Ca,'ClassRef':Se,'execute':(_0x4ad528,_0x51b9ba)=>D[_0x2ef3af(0x35a)](_0x4ad528,_0x51b9ba)});return _0x3951db['status'](0xc8)[_0x2ef3af(0x389)](_0x5ee5f8);})[_0x169e63(0x560)](this[_0x169e63(0x5ec)]('findContacts'),..._0x291986,async(_0x3196d6,_0x3cff21)=>{const _0x442a27=_0x169e63;let _0x242ab0=await this['dataValidate']({'request':_0x3196d6,'schema':Sa,'ClassRef':Je,'execute':(_0x4348a7,_0x13fc22)=>D[_0x442a27(0x675)](_0x4348a7,_0x13fc22)});return _0x3cff21[_0x442a27(0x2a2)](0xc8)[_0x442a27(0x389)](_0x242ab0);})['post'](this['routerPath'](_0x169e63(0x6a2)),..._0x291986,async(_0x55888f,_0xfdbbf6)=>{const _0x135958=_0x169e63;let _0x157a6f=await this['dataValidate']({'request':_0x55888f,'schema':null,'ClassRef':Object,'execute':(_0x41aad7,_0x213f18)=>D['getBase64FromMediaMessage'](_0x41aad7,_0x213f18)});return _0xfdbbf6[_0x135958(0x2a2)](0xc9)[_0x135958(0x389)](_0x157a6f);})[_0x169e63(0x560)](this[_0x169e63(0x5ec)](_0x169e63(0x24b)),..._0x291986,async(_0x128fbb,_0x3bbad9)=>{const _0xe2e938=_0x169e63;let _0x37b64e=await this[_0xe2e938(0x4ed)]({'request':_0x128fbb,'schema':Na,'ClassRef':Pe,'execute':(_0x2f91c9,_0x69ed2b)=>D[_0xe2e938(0x46e)](_0x2f91c9,_0x69ed2b)});return _0x3bbad9[_0xe2e938(0x2a2)](0xc8)[_0xe2e938(0x389)](_0x37b64e);})[_0x169e63(0x342)](this['routerPath']('findChats'),..._0x291986,async(_0x401bc9,_0x1059a0)=>{const _0x3e4d02=_0x169e63;let _0x5c6f2a=await this[_0x3e4d02(0x4ed)]({'request':_0x401bc9,'schema':null,'ClassRef':b,'execute':_0x204d06=>D[_0x3e4d02(0x193)](_0x204d06)});return _0x1059a0[_0x3e4d02(0x2a2)](0xc8)['json'](_0x5c6f2a);})[_0x169e63(0x342)](this[_0x169e63(0x5ec)](_0x169e63(0x1c2)),..._0x291986,async(_0x2e0d1a,_0x478c91)=>{const _0x6a404d=_0x169e63;let _0xb69b0c=await this[_0x6a404d(0x4ed)]({'request':_0x2e0d1a,'schema':null,'ClassRef':b,'execute':_0x57177e=>D[_0x6a404d(0x1c2)](_0x57177e)});return _0x478c91[_0x6a404d(0x2a2)](0xc8)['json'](_0xb69b0c);})[_0x169e63(0x3ec)](this[_0x169e63(0x5ec)](_0x169e63(0x47f)),..._0x291986,async(_0x5f4182,_0x29b28c)=>{const _0x101234=_0x169e63;let _0x39a1fe=await this[_0x101234(0x4ed)]({'request':_0x5f4182,'schema':wa,'ClassRef':Fe,'execute':(_0x19c5bc,_0x378be3)=>D[_0x101234(0x47f)](_0x19c5bc,_0x378be3)});return _0x29b28c[_0x101234(0x2a2)](0xc9)[_0x101234(0x389)](_0x39a1fe);})[_0x169e63(0x560)](this[_0x169e63(0x5ec)](_0x169e63(0x2d0)),..._0x291986,async(_0x1dfee6,_0x1bf702)=>{const _0x4bce56=_0x169e63;let _0x2190d6=await this[_0x4bce56(0x4ed)]({'request':_0x1dfee6,'schema':Ee,'ClassRef':fe,'execute':(_0x2e4cde,_0x3a63d)=>D[_0x4bce56(0x2d0)](_0x2e4cde,_0x3a63d)});return _0x1bf702[_0x4bce56(0x2a2)](0xc8)['json'](_0x2190d6);})[_0x169e63(0x560)](this[_0x169e63(0x5ec)](_0x169e63(0x6cd)),..._0x291986,async(_0x14944c,_0x352c9b)=>{const _0x57a28b=_0x169e63;let _0x25c8fa=await this[_0x57a28b(0x4ed)]({'request':_0x14944c,'schema':Ea,'ClassRef':Le,'execute':(_0x1467b8,_0x44f8ce)=>D['updateProfileName'](_0x1467b8,_0x44f8ce)});return _0x352c9b['status'](0xc8)[_0x57a28b(0x389)](_0x25c8fa);})['post'](this[_0x169e63(0x5ec)](_0x169e63(0x400)),..._0x291986,async(_0x5eb509,_0x435201)=>{const _0xc07cf=_0x169e63;let _0x3beed5=await this['dataValidate']({'request':_0x5eb509,'schema':va,'ClassRef':Ue,'execute':(_0x5023c3,_0x4097c9)=>D[_0xc07cf(0x400)](_0x5023c3,_0x4097c9)});return _0x435201[_0xc07cf(0x2a2)](0xc8)[_0xc07cf(0x389)](_0x3beed5);})[_0x169e63(0x3ec)](this[_0x169e63(0x5ec)](_0x169e63(0x55b)),..._0x291986,async(_0xbfe939,_0x45db08)=>{const _0x5a5c3e=_0x169e63;let _0x20d049=await this['dataValidate']({'request':_0xbfe939,'schema':Ee,'ClassRef':fe,'execute':(_0x1a3e76,_0x38d36c)=>D[_0x5a5c3e(0x55b)](_0x1a3e76,_0x38d36c)});return _0x45db08['status'](0xc8)[_0x5a5c3e(0x389)](_0x20d049);})[_0x169e63(0x5f7)](this[_0x169e63(0x5ec)](_0x169e63(0x4e6)),..._0x291986,async(_0x35cd97,_0x2054a6)=>{const _0x1ecbb5=_0x169e63;let _0x2aa195=await this['dataValidate']({'request':_0x35cd97,'schema':Ee,'ClassRef':fe,'execute':(_0x4986de,_0x5ce29d)=>D['removeProfilePicture'](_0x4986de,_0x5ce29d)});return _0x2054a6[_0x1ecbb5(0x2a2)](0xc8)['json'](_0x2aa195);});}},ka=require(a0_0x596428(0x225)),ze=class{},Qe=class{},Ye=class{},Xe=class{},Ze=class{},Z=class{},et=class{},tt=class extends Z{},st=class extends Z{},at=class extends k{constructor(..._0x4323f2){const _0x1ed7c4=a0_0x596428;super(),this[_0x1ed7c4(0x6c2)]=(0x0,ka['Router'])(),this['router']['post'](this[_0x1ed7c4(0x5ec)]('create'),..._0x4323f2,async(_0x418321,_0x5aacc5)=>{const _0x358cf5=_0x1ed7c4;let _0x5e79ac=await this['dataValidate']({'request':_0x418321,'schema':Ra,'ClassRef':ze,'execute':(_0x3e95ed,_0x52eaa1)=>U[_0x358cf5(0x5c6)](_0x3e95ed,_0x52eaa1)});_0x5aacc5[_0x358cf5(0x2a2)](0xc9)['json'](_0x5e79ac);})[_0x1ed7c4(0x3ec)](this[_0x1ed7c4(0x5ec)](_0x1ed7c4(0x1dc)),..._0x4323f2,async(_0x5e2828,_0x1c041c)=>{const _0x83337e=_0x1ed7c4;let _0x3bbd11=await this[_0x83337e(0x343)]({'request':_0x5e2828,'schema':Ia,'ClassRef':Qe,'execute':(_0x3b9f1f,_0x2ae366)=>U[_0x83337e(0x1dc)](_0x3b9f1f,_0x2ae366)});_0x1c041c[_0x83337e(0x2a2)](0xc9)[_0x83337e(0x389)](_0x3bbd11);})[_0x1ed7c4(0x3ec)](this[_0x1ed7c4(0x5ec)]('groupDesc'),..._0x4323f2,async(_0x2431ce,_0xa44ebd)=>{const _0x18cb3b=_0x1ed7c4;let _0x34a29d=await this[_0x18cb3b(0x343)]({'request':_0x2431ce,'schema':Da,'ClassRef':Ye,'execute':(_0x1edbef,_0x58611d)=>U[_0x18cb3b(0x638)](_0x1edbef,_0x58611d)});_0xa44ebd['status'](0xc9)['json'](_0x34a29d);})[_0x1ed7c4(0x3ec)](this[_0x1ed7c4(0x5ec)](_0x1ed7c4(0x4ff)),..._0x4323f2,async(_0x58f48d,_0x2225ba)=>{const _0x44cda8=_0x1ed7c4;let _0x4c64b1=await this[_0x44cda8(0x343)]({'request':_0x58f48d,'schema':_a,'ClassRef':Xe,'execute':(_0x2bdf0a,_0x4dff3c)=>U[_0x44cda8(0x4ff)](_0x2bdf0a,_0x4dff3c)});_0x2225ba[_0x44cda8(0x2a2)](0xc9)[_0x44cda8(0x389)](_0x4c64b1);})[_0x1ed7c4(0x3ec)](this['routerPath']('groupSetting'),..._0x4323f2,async(_0x133e8a,_0x15bae4)=>{const _0x3700d7=_0x1ed7c4;let _0x52e53f=await this['groupValidate']({'request':_0x133e8a,'schema':Oa,'ClassRef':Ze,'execute':(_0x120f99,_0x1b7d0e)=>U['groupSetting'](_0x120f99,_0x1b7d0e)});_0x15bae4['status'](0xc9)[_0x3700d7(0x389)](_0x52e53f);})['put'](this[_0x1ed7c4(0x5ec)](_0x1ed7c4(0x51c)),..._0x4323f2,async(_0x3b3a5d,_0x4d8fd5)=>{const _0x4544ee=_0x1ed7c4;let _0x1af832=await this['groupValidate']({'request':_0x3b3a5d,'schema':Aa,'ClassRef':st,'execute':(_0x75b845,_0x3f82fa)=>U[_0x4544ee(0x51c)](_0x75b845,_0x3f82fa)});_0x4d8fd5[_0x4544ee(0x2a2)](0xc9)[_0x4544ee(0x389)](_0x1af832);})[_0x1ed7c4(0x342)](this[_0x1ed7c4(0x5ec)]('findGroupInfos'),..._0x4323f2,async(_0x495ca7,_0x1f74ea)=>{const _0x375b41=_0x1ed7c4;let _0x35e26f=await this['groupValidate']({'request':_0x495ca7,'schema':ve,'ClassRef':Z,'execute':(_0x32bd68,_0x159517)=>U[_0x375b41(0x2e2)](_0x32bd68,_0x159517)});_0x1f74ea[_0x375b41(0x2a2)](0xc8)['json'](_0x35e26f);})[_0x1ed7c4(0x342)](this['routerPath'](_0x1ed7c4(0x5da)),..._0x4323f2,async(_0xa649c4,_0xab9200)=>{const _0x22e1fd=_0x1ed7c4;let _0x484335=await this[_0x22e1fd(0x4ed)]({'request':_0xa649c4,'schema':C,'ClassRef':b,'execute':_0x346acd=>U[_0x22e1fd(0x5da)](_0x346acd)});_0xab9200[_0x22e1fd(0x2a2)](0xc8)[_0x22e1fd(0x389)](_0x484335);})[_0x1ed7c4(0x342)](this[_0x1ed7c4(0x5ec)](_0x1ed7c4(0x4b6)),..._0x4323f2,async(_0x2720e9,_0x448b97)=>{const _0x3ee93a=_0x1ed7c4;let _0xc539a8=await this[_0x3ee93a(0x343)]({'request':_0x2720e9,'schema':ve,'ClassRef':Z,'execute':(_0x2a9c4f,_0x370848)=>U[_0x3ee93a(0x535)](_0x2a9c4f,_0x370848)});_0x448b97[_0x3ee93a(0x2a2)](0xc8)[_0x3ee93a(0x389)](_0xc539a8);})['get'](this[_0x1ed7c4(0x5ec)](_0x1ed7c4(0x5e8)),..._0x4323f2,async(_0x1eca6b,_0x44e837)=>{const _0xd3aeda=_0x1ed7c4;let _0x29dd4e=await this[_0xd3aeda(0x343)]({'request':_0x1eca6b,'schema':ve,'ClassRef':Z,'execute':(_0x556e61,_0x28f11d)=>U['inviteCode'](_0x556e61,_0x28f11d)});_0x44e837['status'](0xc8)['json'](_0x29dd4e);})[_0x1ed7c4(0x3ec)](this[_0x1ed7c4(0x5ec)](_0x1ed7c4(0x33f)),..._0x4323f2,async(_0x4c0aa8,_0x4693fc)=>{const _0x40ed3f=_0x1ed7c4;let _0x5a8338=await this[_0x40ed3f(0x2bf)]({'request':_0x4c0aa8,'schema':Pa,'ClassRef':et,'execute':(_0x4710a7,_0x5f45cf)=>U[_0x40ed3f(0x33f)](_0x4710a7,_0x5f45cf)});_0x4693fc[_0x40ed3f(0x2a2)](0xc9)[_0x40ed3f(0x389)](_0x5a8338);})['put'](this[_0x1ed7c4(0x5ec)](_0x1ed7c4(0x6d3)),..._0x4323f2,async(_0x598b2a,_0x5cd89b)=>{const _0x3c1fe0=_0x1ed7c4;let _0x13d947=await this['groupValidate']({'request':_0x598b2a,'schema':ve,'ClassRef':Z,'execute':(_0x523ca1,_0x11194d)=>U[_0x3c1fe0(0x6d3)](_0x523ca1,_0x11194d)});_0x5cd89b[_0x3c1fe0(0x2a2)](0xc9)[_0x3c1fe0(0x389)](_0x13d947);})['put'](this[_0x1ed7c4(0x5ec)](_0x1ed7c4(0x484)),..._0x4323f2,async(_0x27d6cf,_0x540316)=>{const _0x42a9a6=_0x1ed7c4;let _0x42bcc7=await this[_0x42a9a6(0x343)]({'request':_0x27d6cf,'schema':Ma,'ClassRef':tt,'execute':(_0x27f4cd,_0x32efda)=>U[_0x42a9a6(0x3a9)](_0x27f4cd,_0x32efda)});_0x540316[_0x42a9a6(0x2a2)](0xc9)['json'](_0x42bcc7);})[_0x1ed7c4(0x5f7)](this[_0x1ed7c4(0x5ec)]('leaveGroup'),..._0x4323f2,async(_0x6496e3,_0x28ca2e)=>{const _0x1c79cf=_0x1ed7c4;let _0x2a29ff=await this[_0x1c79cf(0x343)]({'request':_0x6496e3,'schema':{},'ClassRef':Z,'execute':(_0x479745,_0x1328ae)=>U[_0x1c79cf(0x373)](_0x479745,_0x1328ae)});_0x28ca2e[_0x1c79cf(0x2a2)](0xc8)[_0x1c79cf(0x389)](_0x2a29ff);});}},Va=require('express'),Ce=require('jsonwebtoken'),ns=require(a0_0x596428(0x656)),La=require(a0_0x596428(0x4e3)),Ua=T(require(a0_0x596428(0x648))),ot=class{},rt=class c{constructor(_0x102e09,_0x1c0afe,_0x10eadc){const _0x5917df=a0_0x596428;this[_0x5917df(0x6d5)]=_0x102e09,this['waMonitor']=_0x1c0afe,this[_0x5917df(0x1fe)]=_0x10eadc,this[_0x5917df(0x1d3)]=new N(c['name']);}async[a0_0x596428(0x568)](_0x7f8076){const _0x5d4f41=a0_0x596428;let _0x538932=this[_0x5d4f41(0x6d5)][_0x5d4f41(0x342)](_0x5d4f41(0x367))[_0x5d4f41(0x22d)],_0x42d041=(0x0,Ce[_0x5d4f41(0x17b)])({'instanceName':_0x7f8076[_0x5d4f41(0x28a)],'apiName':Ge,'tokenId':(0x0,ns['v4'])()},_0x538932[_0x5d4f41(0x687)],{'expiresIn':_0x538932[_0x5d4f41(0x21d)],'encoding':_0x5d4f41(0x4b5),'subject':_0x5d4f41(0x2bb)}),_0x37d1a9=await this[_0x5d4f41(0x1fe)][_0x5d4f41(0x493)][_0x5d4f41(0x503)]({'jwt':_0x42d041},_0x7f8076[_0x5d4f41(0x28a)]);if(_0x37d1a9[_0x5d4f41(0x244)])throw this[_0x5d4f41(0x1d3)][_0x5d4f41(0x244)]({'localError':c['name']+_0x5d4f41(0x179),'error':_0x37d1a9[_0x5d4f41(0x244)]}),new g(_0x5d4f41(0x5f0),_0x37d1a9[_0x5d4f41(0x244)]?.['toString']());return{'jwt':_0x42d041};}async[a0_0x596428(0x667)](_0x161707){const _0x27e885=a0_0x596428;let _0x593840=(0x0,ns['v4'])()[_0x27e885(0x553)](),_0x40c97d=await this[_0x27e885(0x1fe)][_0x27e885(0x493)]['create']({'apikey':_0x593840},_0x161707[_0x27e885(0x28a)]);if(_0x40c97d[_0x27e885(0x244)])throw this[_0x27e885(0x1d3)][_0x27e885(0x244)]({'localError':c['name']+_0x27e885(0x179),'error':_0x40c97d['error']}),new g('Authentication\x20error',_0x40c97d[_0x27e885(0x244)]?.[_0x27e885(0x1af)]());return{'apikey':_0x593840};}async[a0_0x596428(0x2ce)](_0x53e08b){const _0x2ab842=a0_0x596428;let _0x3ef01d=this[_0x2ab842(0x6d5)][_0x2ab842(0x342)](_0x2ab842(0x367));return await this[_0x3ef01d['TYPE']](_0x53e08b);}async[a0_0x596428(0x387)]({oldToken:_0x4e1974}){const _0x19b1f3=a0_0x596428;if(!(0x0,La[_0x19b1f3(0x724)])(_0x4e1974))throw new g('Invalid\x20\x22oldToken\x22');try{let _0x203e37=this['configService'][_0x19b1f3(0x342)](_0x19b1f3(0x367))[_0x19b1f3(0x22d)],_0x2a6ee6=(0x0,Ce[_0x19b1f3(0x263)])(_0x4e1974,_0x203e37['SECRET'],{'ignoreExpiration':!0x0}),_0x133d9a=await this[_0x19b1f3(0x1fe)]['auth'][_0x19b1f3(0x266)](_0x2a6ee6[_0x19b1f3(0x28a)]),_0x4ec631=(0x0,Ce[_0x19b1f3(0x263)])(_0x133d9a[_0x19b1f3(0x568)],_0x203e37[_0x19b1f3(0x687)],{'ignoreExpiration':!0x0});if(_0x2a6ee6['tokenId']!==_0x4ec631[_0x19b1f3(0x5cd)])throw new g(_0x19b1f3(0x1cb));let _0x25fcc6={'jwt':(await this[_0x19b1f3(0x568)]({'instanceName':_0x2a6ee6['instanceName']}))['jwt'],'instanceName':_0x2a6ee6['instanceName']};try{let _0xc6fc0b=await this[_0x19b1f3(0x1fe)][_0x19b1f3(0x1cf)][_0x19b1f3(0x266)](_0x2a6ee6['instanceName']);_0xc6fc0b?.[_0x19b1f3(0x5a5)]&&this[_0x19b1f3(0x6d5)][_0x19b1f3(0x342)](_0x19b1f3(0x35d))['EVENTS'][_0x19b1f3(0x283)]&&await Ua[_0x19b1f3(0x3ea)][_0x19b1f3(0x503)]({'baseURL':_0xc6fc0b['url']})['post']('',{'event':_0x19b1f3(0x62e),'instance':_0x2a6ee6[_0x19b1f3(0x28a)],'data':_0x25fcc6},{'params':{'owner':this[_0x19b1f3(0x3a8)][_0x19b1f3(0x71a)][_0x2a6ee6[_0x19b1f3(0x28a)]][_0x19b1f3(0x694)]}});}catch(_0x189292){this['logger'][_0x19b1f3(0x244)](_0x189292);}return _0x25fcc6;}catch(_0x717187){throw this[_0x19b1f3(0x1d3)]['error']({'localError':c['name']+'.refreshToken','error':_0x717187}),new g(_0x19b1f3(0x1cb));}}},it=class extends k{constructor(_0x292b2e,..._0x36752d){const _0x343efd=a0_0x596428;super(),this[_0x343efd(0x6d5)]=_0x292b2e,this[_0x343efd(0x6c2)]=(0x0,Va[_0x343efd(0x2dc)])();let _0x2f80bf=_0x292b2e[_0x343efd(0x342)](_0x343efd(0x367));this['router'][_0x343efd(0x560)]('/create',..._0x36752d,async(_0x586bb9,_0xbda4bf)=>{const _0x2bb7dc=_0x343efd;let {instanceName:_0x4f8940,apikey:_0x27f37a}=_0x586bb9['body'],_0x31b126=await ie['createInstance']({'instanceName':_0x4f8940,'apikey':_0x27f37a});return _0xbda4bf[_0x2bb7dc(0x2a2)](0xc9)[_0x2bb7dc(0x389)](_0x31b126);})['put'](this['routerPath']('restart'),..._0x36752d,async(_0x1dead4,_0x4cf7f0)=>{const _0x257b74=_0x343efd;let _0x3b4bba=await this[_0x257b74(0x4ed)]({'request':_0x1dead4,'schema':C,'ClassRef':b,'execute':_0x1b5849=>ie['restartInstance'](_0x1b5849)});return _0x4cf7f0[_0x257b74(0x2a2)](0xc8)['json'](_0x3b4bba);})[_0x343efd(0x342)](this[_0x343efd(0x5ec)](_0x343efd(0x4d1)),..._0x36752d,async(_0xd7cebe,_0x4d5710)=>{const _0x44fad6=_0x343efd;let _0x58a1eb=await this['dataValidate']({'request':_0xd7cebe,'schema':C,'ClassRef':b,'execute':_0x144d2e=>ie[_0x44fad6(0x5ff)](_0x144d2e)});return _0x4d5710[_0x44fad6(0x2a2)](0xc8)[_0x44fad6(0x389)](_0x58a1eb);})['get'](this[_0x343efd(0x5ec)](_0x343efd(0x530)),..._0x36752d,async(_0x4da5ab,_0xbcf184)=>{const _0x238961=_0x343efd;let _0x49b606=await this[_0x238961(0x4ed)]({'request':_0x4da5ab,'schema':C,'ClassRef':b,'execute':_0xb20320=>ie[_0x238961(0x530)](_0xb20320)});return _0xbcf184[_0x238961(0x2a2)](0xc8)['json'](_0x49b606);})[_0x343efd(0x342)](this[_0x343efd(0x5ec)](_0x343efd(0x6ce),!0x1),..._0x36752d,async(_0x590df3,_0x2ab356)=>{const _0x3e4637=_0x343efd;let _0x1ffdc5=await this[_0x3e4637(0x4ed)]({'request':_0x590df3,'schema':null,'ClassRef':b,'execute':_0x32840c=>ie['fetchInstances'](_0x32840c)});return _0x2ab356[_0x3e4637(0x2a2)](0xc8)['json'](_0x1ffdc5);})[_0x343efd(0x5f7)](this[_0x343efd(0x5ec)](_0x343efd(0x6bc)),..._0x36752d,async(_0x44dc98,_0x5699a0)=>{const _0x2c47f9=_0x343efd;let _0xb23143=await this[_0x2c47f9(0x4ed)]({'request':_0x44dc98,'schema':C,'ClassRef':b,'execute':_0x305bec=>ie[_0x2c47f9(0x6bc)](_0x305bec)});return _0x5699a0[_0x2c47f9(0x2a2)](0xc8)[_0x2c47f9(0x389)](_0xb23143);})['delete'](this[_0x343efd(0x5ec)](_0x343efd(0x5f7)),..._0x36752d,async(_0x5f066b,_0x5f537c)=>{const _0x4495e9=_0x343efd;let _0x2c9362=await this[_0x4495e9(0x4ed)]({'request':_0x5f066b,'schema':C,'ClassRef':b,'execute':_0x5edd77=>ie[_0x4495e9(0x6ca)](_0x5edd77)});return _0x5f537c['status'](0xc8)[_0x4495e9(0x389)](_0x2c9362);}),_0x2f80bf['TYPE']===_0x343efd(0x568)&&this[_0x343efd(0x6c2)][_0x343efd(0x3ec)](_0x343efd(0x738),async(_0x1ef2de,_0x5b7d8b)=>{const _0x148d22=_0x343efd;let _0x395e3d=await this[_0x148d22(0x4ed)]({'request':_0x1ef2de,'schema':sa,'ClassRef':ot,'execute':(_0x308ccf,_0x519a6b)=>ie[_0x148d22(0x387)](_0x308ccf,_0x519a6b)});return _0x5b7d8b['status'](0xc9)['json'](_0x395e3d);});}},ja=require(a0_0x596428(0x225)),cs=class{},z=class extends cs{},nt=class extends z{},ct=class extends z{},lt=class extends z{},Ne=class extends z{},ut=class extends z{},dt=class extends z{},pt=class extends z{},gt=class extends z{},mt=class extends z{},ht=class{},ft=class extends k{constructor(..._0x3b9626){const _0x3940fc=a0_0x596428;super(),this['router']=(0x0,ja[_0x3940fc(0x2dc)])(),this[_0x3940fc(0x6c2)][_0x3940fc(0x560)](this[_0x3940fc(0x5ec)](_0x3940fc(0x252)),..._0x3b9626,async(_0x17cf38,_0x32526b)=>{const _0x47b9bf=_0x3940fc;let _0x51ae5c=await this[_0x47b9bf(0x4ed)]({'request':_0x17cf38,'schema':aa,'ClassRef':nt,'execute':(_0x1696f8,_0x51f1b6)=>K[_0x47b9bf(0x252)](_0x1696f8,_0x51f1b6)});return _0x32526b[_0x47b9bf(0x2a2)](0xc9)['json'](_0x51ae5c);})[_0x3940fc(0x560)](this['routerPath'](_0x3940fc(0x36f)),..._0x3b9626,async(_0x5c3128,_0xf10055)=>{const _0x10540e=_0x3940fc;let _0x1b425f=await this['dataValidate']({'request':_0x5c3128,'schema':na,'ClassRef':Ne,'execute':(_0x2ec80f,_0x3ad05c)=>K['sendMedia'](_0x2ec80f,_0x3ad05c)});return _0xf10055[_0x10540e(0x2a2)](0xc9)[_0x10540e(0x389)](_0x1b425f);})['post'](this[_0x3940fc(0x5ec)](_0x3940fc(0x64c)),..._0x3b9626,async(_0x2df7d6,_0x3561fb)=>{const _0x2fa117=_0x3940fc;let _0x4c1bda=await this[_0x2fa117(0x4ed)]({'request':_0x2df7d6,'schema':ca,'ClassRef':Ne,'execute':(_0xee479e,_0x219349)=>K['sendWhatsAppAudio'](_0xee479e,_0x219349)});return _0x3561fb[_0x2fa117(0x2a2)](0xc9)[_0x2fa117(0x389)](_0x4c1bda);})[_0x3940fc(0x560)](this[_0x3940fc(0x5ec)](_0x3940fc(0x3a6)),..._0x3b9626,async(_0xe81576,_0x3b875f)=>{const _0x435534=_0x3940fc;let _0x190b12=await this[_0x435534(0x4ed)]({'request':_0xe81576,'schema':ua,'ClassRef':dt,'execute':(_0x8ff26a,_0x490213)=>K[_0x435534(0x3a6)](_0x8ff26a,_0x490213)});return _0x3b875f['status'](0xc9)[_0x435534(0x389)](_0x190b12);})[_0x3940fc(0x560)](this[_0x3940fc(0x5ec)](_0x3940fc(0x1e5)),..._0x3b9626,async(_0x215091,_0x406526)=>{const _0x4a9701=_0x3940fc;let _0x32d860=await this['dataValidate']({'request':_0x215091,'schema':da,'ClassRef':pt,'execute':(_0x5a1716,_0x4b2066)=>K[_0x4a9701(0x1e5)](_0x5a1716,_0x4b2066)});return _0x406526['status'](0xc9)[_0x4a9701(0x389)](_0x32d860);})['post'](this[_0x3940fc(0x5ec)](_0x3940fc(0x23f)),..._0x3b9626,async(_0x4bd85b,_0x53e404)=>{let _0x481eb2=await this['dataValidate']({'request':_0x4bd85b,'schema':pa,'ClassRef':gt,'execute':(_0x187baa,_0x5ee390)=>K['sendList'](_0x187baa,_0x5ee390)});return _0x53e404['status'](0xc9)['json'](_0x481eb2);})['post'](this[_0x3940fc(0x5ec)](_0x3940fc(0x654)),..._0x3b9626,async(_0x2c2146,_0x5ec02f)=>{const _0x411f04=_0x3940fc;let _0x1f3f64=await this[_0x411f04(0x4ed)]({'request':_0x2c2146,'schema':ga,'ClassRef':mt,'execute':(_0x2e4d6e,_0xced206)=>K[_0x411f04(0x654)](_0x2e4d6e,_0xced206)});return _0x5ec02f['status'](0xc9)['json'](_0x1f3f64);})[_0x3940fc(0x560)](this[_0x3940fc(0x5ec)]('sendReaction'),..._0x3b9626,async(_0x5472a1,_0x3ad0e0)=>{const _0x579c16=_0x3940fc;let _0x3963c9=await this[_0x579c16(0x4ed)]({'request':_0x5472a1,'schema':ma,'ClassRef':ht,'execute':(_0x229871,_0x2d3fe9)=>K['sendReaction'](_0x229871,_0x2d3fe9)});return _0x3ad0e0[_0x579c16(0x2a2)](0xc9)[_0x579c16(0x389)](_0x3963c9);})[_0x3940fc(0x560)](this[_0x3940fc(0x5ec)]('sendPoll'),..._0x3b9626,async(_0x5532cc,_0x2556bb)=>{const _0x44bcbe=_0x3940fc;let _0xd76ec7=await this['dataValidate']({'request':_0x5532cc,'schema':la,'ClassRef':lt,'execute':(_0x238ae8,_0x4ceba1)=>K[_0x44bcbe(0x467)](_0x238ae8,_0x4ceba1)});return _0x2556bb[_0x44bcbe(0x2a2)](0xc9)[_0x44bcbe(0x389)](_0xd76ec7);})[_0x3940fc(0x560)](this[_0x3940fc(0x5ec)]('sendStatus'),..._0x3b9626,async(_0x414aa6,_0x473725)=>{const _0xa01a31=_0x3940fc;let _0x18525f=await this[_0xa01a31(0x4ed)]({'request':_0x414aa6,'schema':ia,'ClassRef':ct,'execute':(_0x3e8814,_0x18148e)=>K[_0xa01a31(0x657)](_0x3e8814,_0x18148e)});return _0x473725['status'](0xc9)[_0xa01a31(0x389)](_0x18525f);})['post'](this[_0x3940fc(0x5ec)](_0x3940fc(0x5bd)),..._0x3b9626,async(_0x178ea1,_0x11854d)=>{const _0x4aa413=_0x3940fc;let _0x4cf699=await this[_0x4aa413(0x4ed)]({'request':_0x178ea1,'schema':ra,'ClassRef':ut,'execute':(_0x50e366,_0x4beb57)=>K['sendSticker'](_0x50e366,_0x4beb57)});return _0x11854d[_0x4aa413(0x2a2)](0xc9)[_0x4aa413(0x389)](_0x4cf699);});}},Fa=require(a0_0x596428(0x225)),wt=class extends k{constructor(..._0xe36c6c){const _0xba7486=a0_0x596428;super(),this[_0xba7486(0x6c2)]=(0x0,Fa['Router'])(),this[_0xba7486(0x6c2)][_0xba7486(0x342)](this[_0xba7486(0x5ec)](_0xba7486(0x29f)),..._0xe36c6c,(_0x30faf2,_0x28f674)=>Ba[_0xba7486(0x29f)](_0x30faf2,_0x28f674));}},qa=require(a0_0x596428(0x225)),yt=class{},bt=class extends k{constructor(..._0x16649a){const _0x22a381=a0_0x596428;super(),this[_0x22a381(0x6c2)]=(0x0,qa[_0x22a381(0x2dc)])(),this[_0x22a381(0x6c2)][_0x22a381(0x560)](this['routerPath'](_0x22a381(0x219)),..._0x16649a,async(_0x15c6bf,_0x12b3ce)=>{const _0x5de933=_0x22a381;let _0x3fc4a3=await this[_0x5de933(0x4ed)]({'request':_0x15c6bf,'schema':xa,'ClassRef':yt,'execute':(_0x4193bd,_0x3af0a7)=>ls[_0x5de933(0x3fb)](_0x4193bd,_0x3af0a7)});_0x12b3ce[_0x5de933(0x2a2)](0xc9)['json'](_0x3fc4a3);})['get'](this[_0x22a381(0x5ec)](_0x22a381(0x266)),..._0x16649a,async(_0xb6fa4d,_0x579c08)=>{const _0xe39e74=_0x22a381;let _0x4adf8e=await this[_0xe39e74(0x4ed)]({'request':_0xb6fa4d,'schema':C,'ClassRef':b,'execute':_0xcc69cc=>ls['findWebhook'](_0xcc69cc)});_0x579c08['status'](0xc8)['json'](_0x4adf8e);});}},Ga=require(a0_0x596428(0x225)),m=new N(a0_0x596428(0x195)),St=class extends k{constructor(..._0x597350){const _0x211eb3=a0_0x596428;super(),this[_0x211eb3(0x6c2)]=(0x0,Ga[_0x211eb3(0x2dc)])(),this['router']['post'](this['routerPath'](_0x211eb3(0x6a6)),..._0x597350,async(_0x56871e,_0x129de4)=>{const _0x312d4f=_0x211eb3;let _0x2d8cd4=_0x56871e['body'];m[_0x312d4f(0x327)](_0x312d4f(0x4d0)),m[_0x312d4f(0x327)](_0x312d4f(0x42e)),m[_0x312d4f(0x327)](_0x56871e[_0x312d4f(0x500)]);let _0x3b8b4f=await this['dataValidate']({'request':_0x56871e,'schema':C,'ClassRef':b,'execute':_0x25d6c1=>R['editScheduleMessage'](_0x25d6c1,_0x2d8cd4)});_0x129de4[_0x312d4f(0x2a2)](0xc8)[_0x312d4f(0x389)](_0x3b8b4f);})[_0x211eb3(0x342)](this[_0x211eb3(0x5ec)](_0x211eb3(0x6a6)),..._0x597350,async(_0x890e71,_0x3b5a11)=>{const _0x31739c=_0x211eb3;let _0x675047=await this[_0x31739c(0x4ed)]({'request':_0x890e71,'schema':C,'ClassRef':b,'execute':_0x4cb472=>R[_0x31739c(0x2c3)](_0x4cb472)});_0x3b5a11[_0x31739c(0x2a2)](0xc8)['json'](_0x675047);})['delete'](this[_0x211eb3(0x5ec)](_0x211eb3(0x3e7)),..._0x597350,async(_0x33bbfb,_0x87bf6a)=>{const _0x5b0cfa=_0x211eb3;m[_0x5b0cfa(0x327)](_0x5b0cfa(0x431));let _0x226605=await this[_0x5b0cfa(0x4ed)]({'request':_0x33bbfb,'schema':C,'ClassRef':b,'execute':_0x32da3a=>R['deleteDoneMessages'](_0x32da3a)});_0x87bf6a[_0x5b0cfa(0x2a2)](0xc8)['json'](_0x226605);})[_0x211eb3(0x560)](this[_0x211eb3(0x5ec)](_0x211eb3(0x6c5)),..._0x597350,async(_0x204bfb,_0x4490a0)=>{const _0x22f0d9=_0x211eb3;let _0x15f73e=_0x204bfb[_0x22f0d9(0x500)];m[_0x22f0d9(0x327)](_0x22f0d9(0x2d1)),m['verbose']('request\x20body:\x20'),m[_0x22f0d9(0x327)](_0x204bfb['body']);let _0x229269=await this['dataValidate']({'request':_0x204bfb,'schema':C,'ClassRef':b,'execute':_0x3de1cb=>R[_0x22f0d9(0x6c5)](_0x3de1cb,_0x15f73e)});_0x4490a0[_0x22f0d9(0x2a2)](0xc8)[_0x22f0d9(0x389)](_0x229269);})['get'](this[_0x211eb3(0x5ec)](_0x211eb3(0x299)),..._0x597350,async(_0x3166e6,_0x1e93f7)=>{const _0x23eb4b=_0x211eb3;m[_0x23eb4b(0x327)](_0x23eb4b(0x6c8));let _0x4994d3=await this[_0x23eb4b(0x4ed)]({'request':_0x3166e6,'schema':C,'ClassRef':b,'execute':_0x3c887b=>R[_0x23eb4b(0x299)](_0x3c887b)});_0x1e93f7[_0x23eb4b(0x2a2)](0xc8)[_0x23eb4b(0x389)](_0x4994d3);})['get'](this[_0x211eb3(0x5ec)](_0x211eb3(0x38d)),..._0x597350,async(_0x30d23d,_0x5ee1d4)=>{const _0x342a9b=_0x211eb3;m[_0x342a9b(0x327)](_0x342a9b(0x278));let _0x3b6ee6=await this[_0x342a9b(0x4ed)]({'request':_0x30d23d,'schema':C,'ClassRef':b,'execute':_0x310fb4=>R[_0x342a9b(0x299)](_0x310fb4)});_0x5ee1d4[_0x342a9b(0x2a2)](0xc8)[_0x342a9b(0x389)](_0x3b6ee6);})[_0x211eb3(0x560)](this[_0x211eb3(0x5ec)](_0x211eb3(0x525)),..._0x597350,async(_0x2f9515,_0x3cc531)=>{const _0x42e29a=_0x211eb3;let _0x5716b1=_0x2f9515[_0x42e29a(0x500)];m[_0x42e29a(0x327)](_0x42e29a(0x614)),m['verbose'](_0x42e29a(0x42e)),m[_0x42e29a(0x327)](_0x2f9515[_0x42e29a(0x500)]);let _0x34f576=await this[_0x42e29a(0x4ed)]({'request':_0x2f9515,'schema':C,'ClassRef':b,'execute':_0x145b67=>R[_0x42e29a(0x525)](_0x145b67,_0x5716b1)});_0x3cc531[_0x42e29a(0x2a2)](0xc8)[_0x42e29a(0x389)](_0x34f576);})[_0x211eb3(0x560)](this[_0x211eb3(0x5ec)](_0x211eb3(0x701)),..._0x597350,async(_0x281d6d,_0x376160)=>{const _0x4f7026=_0x211eb3;let _0x4f9212=_0x281d6d[_0x4f7026(0x500)];m[_0x4f7026(0x327)](_0x4f7026(0x211)),m[_0x4f7026(0x327)](_0x4f7026(0x42e)),m[_0x4f7026(0x327)](_0x281d6d['body']);let _0xfee21c=await this[_0x4f7026(0x4ed)]({'request':_0x281d6d,'schema':C,'ClassRef':b,'execute':_0x5474e8=>R[_0x4f7026(0x701)](_0x5474e8,_0x4f9212)});_0x376160['status'](0xc8)[_0x4f7026(0x389)](_0xfee21c);})[_0x211eb3(0x560)](this[_0x211eb3(0x5ec)]('updateFlowConfig'),..._0x597350,async(_0xf85be4,_0x577529)=>{const _0xa49afa=_0x211eb3;let _0x5863f8=_0xf85be4[_0xa49afa(0x500)];m[_0xa49afa(0x327)](_0xa49afa(0x6c7)),m[_0xa49afa(0x327)](_0xa49afa(0x42e)),m[_0xa49afa(0x327)](_0xf85be4[_0xa49afa(0x500)]);let _0x2303fc=await this[_0xa49afa(0x4ed)]({'request':_0xf85be4,'schema':C,'ClassRef':b,'execute':_0x572d2a=>R[_0xa49afa(0x59b)](_0x572d2a,_0x5863f8)});_0x577529[_0xa49afa(0x2a2)](0xc8)[_0xa49afa(0x389)](_0x2303fc);})['post'](this['routerPath'](_0x211eb3(0x2b1)),..._0x597350,async(_0x35f09e,_0x44305b)=>{const _0x472191=_0x211eb3;let _0x369c24=_0x35f09e[_0x472191(0x500)];m[_0x472191(0x327)](_0x472191(0x277)),m[_0x472191(0x327)](_0x472191(0x42e)),m[_0x472191(0x327)](_0x35f09e[_0x472191(0x500)]);let _0x27aa1a=await this[_0x472191(0x4ed)]({'request':_0x35f09e,'schema':C,'ClassRef':b,'execute':_0x188506=>R[_0x472191(0x2b1)](_0x188506,_0x369c24)});_0x44305b[_0x472191(0x2a2)](0xc8)[_0x472191(0x389)](_0x27aa1a);})[_0x211eb3(0x560)](this[_0x211eb3(0x5ec)](_0x211eb3(0x519)),..._0x597350,async(_0x554ea0,_0x1a5fbc)=>{const _0xe14277=_0x211eb3;let _0x572868=_0x554ea0[_0xe14277(0x500)];m[_0xe14277(0x327)](_0xe14277(0x34f)),m[_0xe14277(0x327)](_0xe14277(0x42e)),m[_0xe14277(0x327)](_0x554ea0[_0xe14277(0x500)]);let _0x5f51b2=await this[_0xe14277(0x4ed)]({'request':_0x554ea0,'schema':C,'ClassRef':b,'execute':_0x28db3f=>R[_0xe14277(0x519)](_0x28db3f,_0x572868)});_0x1a5fbc[_0xe14277(0x2a2)](0xc8)[_0xe14277(0x389)](_0x5f51b2);})[_0x211eb3(0x560)](this[_0x211eb3(0x5ec)](_0x211eb3(0x41d)),..._0x597350,async(_0x1aa740,_0x2feee9)=>{const _0x3192b5=_0x211eb3;let _0x3da5b6=_0x1aa740[_0x3192b5(0x500)];m[_0x3192b5(0x327)]('request\x20received\x20in\x20editConversation'),m[_0x3192b5(0x327)](_0x3192b5(0x42e)),m[_0x3192b5(0x327)](_0x1aa740[_0x3192b5(0x500)]);let _0x3bc7ec=await this[_0x3192b5(0x4ed)]({'request':_0x1aa740,'schema':C,'ClassRef':b,'execute':_0x494fb3=>R[_0x3192b5(0x41d)](_0x494fb3,_0x3da5b6)});_0x2feee9[_0x3192b5(0x2a2)](0xc8)[_0x3192b5(0x389)](_0x3bc7ec);})[_0x211eb3(0x5f7)](this[_0x211eb3(0x5ec)](_0x211eb3(0x336)),..._0x597350,async(_0x2dd14c,_0x180cf4)=>{const _0x5e3946=_0x211eb3;let _0x3d0581=_0x2dd14c[_0x5e3946(0x500)];m[_0x5e3946(0x327)](_0x5e3946(0x1df)),m[_0x5e3946(0x327)](_0x5e3946(0x42e)),m[_0x5e3946(0x327)](_0x2dd14c[_0x5e3946(0x500)]);let _0x5bd8f7=await this[_0x5e3946(0x4ed)]({'request':_0x2dd14c,'schema':C,'ClassRef':b,'execute':_0xdf83a7=>R[_0x5e3946(0x336)](_0xdf83a7,_0x3d0581)});_0x180cf4[_0x5e3946(0x2a2)](0xc8)[_0x5e3946(0x389)](_0x5bd8f7);})[_0x211eb3(0x560)](this[_0x211eb3(0x5ec)](_0x211eb3(0x371)),..._0x597350,async(_0x1246d3,_0x1ef3a2)=>{const _0x5ebe6d=_0x211eb3;let _0x105835=_0x1246d3[_0x5ebe6d(0x500)];m[_0x5ebe6d(0x327)](_0x5ebe6d(0x23d)),m[_0x5ebe6d(0x327)](_0x5ebe6d(0x42e)),m[_0x5ebe6d(0x327)](_0x1246d3[_0x5ebe6d(0x500)]);let _0x4a1e1c=await this['dataValidate']({'request':_0x1246d3,'schema':C,'ClassRef':b,'execute':_0x4d7ba3=>R[_0x5ebe6d(0x5c2)](_0x4d7ba3,_0x105835)});_0x1ef3a2[_0x5ebe6d(0x2a2)](0xc8)[_0x5ebe6d(0x389)](_0x4a1e1c);})[_0x211eb3(0x560)](this[_0x211eb3(0x5ec)](_0x211eb3(0x582)),..._0x597350,async(_0x553949,_0x5ac772)=>{const _0x447be0=_0x211eb3;let _0x3015ca=_0x553949[_0x447be0(0x500)];m[_0x447be0(0x327)](_0x447be0(0x5b0)),m[_0x447be0(0x327)]('request\x20body:\x20'),m[_0x447be0(0x327)](_0x553949[_0x447be0(0x500)]),delete _0x3015ca['blocks'],delete _0x3015ca['variables'],delete _0x3015ca[_0x447be0(0x3b8)],delete _0x3015ca[_0x447be0(0x316)];let _0x46e3d0=await this[_0x447be0(0x4ed)]({'request':_0x553949,'schema':C,'ClassRef':b,'execute':_0x328f52=>R[_0x447be0(0x3a4)](_0x328f52,_0x3015ca)});_0x5ac772['status'](0xc8)['json'](_0x46e3d0);})[_0x211eb3(0x560)](this[_0x211eb3(0x5ec)]('editflowblock'),..._0x597350,async(_0x122d92,_0x1ceac4)=>{const _0x6e32b9=_0x211eb3;let _0x540ca4=_0x122d92[_0x6e32b9(0x500)];m[_0x6e32b9(0x327)]('request\x20received\x20in\x20editFlow'),m[_0x6e32b9(0x327)]('request\x20body:\x20'),m[_0x6e32b9(0x327)](_0x122d92[_0x6e32b9(0x500)]);let _0x2de7c7=await this[_0x6e32b9(0x4ed)]({'request':_0x122d92,'schema':C,'ClassRef':b,'execute':_0x14a2b5=>R['editFlowBlock'](_0x14a2b5,_0x540ca4)});_0x1ceac4[_0x6e32b9(0x2a2)](0xc8)['json'](_0x2de7c7);})[_0x211eb3(0x560)](this[_0x211eb3(0x5ec)](_0x211eb3(0x44c)),..._0x597350,async(_0x2222a8,_0x26c54f)=>{const _0x5401b6=_0x211eb3;let _0x4b6cc9=_0x2222a8[_0x5401b6(0x500)];m[_0x5401b6(0x327)](_0x5401b6(0x5b0)),m[_0x5401b6(0x327)](_0x5401b6(0x42e)),m[_0x5401b6(0x327)](_0x2222a8['body']);let _0x403d29=await this['dataValidate']({'request':_0x2222a8,'schema':C,'ClassRef':b,'execute':_0x24cf6d=>R['editFlowReply'](_0x24cf6d,_0x4b6cc9)});_0x26c54f[_0x5401b6(0x2a2)](0xc8)['json'](_0x403d29);})[_0x211eb3(0x560)](this[_0x211eb3(0x5ec)](_0x211eb3(0x3fe)),..._0x597350,async(_0x158eac,_0x226c9b)=>{const _0x183ed0=_0x211eb3;let _0x979bad=_0x158eac[_0x183ed0(0x500)];m[_0x183ed0(0x327)](_0x183ed0(0x5b0)),m[_0x183ed0(0x327)](_0x183ed0(0x42e)),m[_0x183ed0(0x327)](_0x158eac[_0x183ed0(0x500)]);let _0x305412=await this[_0x183ed0(0x4ed)]({'request':_0x158eac,'schema':C,'ClassRef':b,'execute':_0x1c91ca=>R[_0x183ed0(0x47e)](_0x1c91ca,_0x979bad)});_0x226c9b[_0x183ed0(0x2a2)](0xc8)[_0x183ed0(0x389)](_0x305412);})['post'](this[_0x211eb3(0x5ec)](_0x211eb3(0x21c)),..._0x597350,async(_0x1531f1,_0x336266)=>{const _0xd65dad=_0x211eb3;let _0x5eec9e=_0x1531f1[_0xd65dad(0x500)];m[_0xd65dad(0x327)]('request\x20received\x20in\x20editFlowgroup'),m[_0xd65dad(0x327)](_0xd65dad(0x42e)),m[_0xd65dad(0x327)](_0x1531f1[_0xd65dad(0x500)]);let _0x4b6652=await this[_0xd65dad(0x4ed)]({'request':_0x1531f1,'schema':C,'ClassRef':b,'execute':_0x1feb73=>R[_0xd65dad(0x46d)](_0x1feb73,_0x5eec9e)});_0x336266['status'](0xc8)[_0xd65dad(0x389)](_0x4b6652);})['post'](this['routerPath']('editflowcondition'),..._0x597350,async(_0x8d15f2,_0x5756a1)=>{const _0x493157=_0x211eb3;let _0x47f898=_0x8d15f2[_0x493157(0x500)];m[_0x493157(0x327)](_0x493157(0x51e)),m[_0x493157(0x327)](_0x493157(0x42e)),m['verbose'](_0x8d15f2[_0x493157(0x500)]);let _0x4353be=await this[_0x493157(0x4ed)]({'request':_0x8d15f2,'schema':C,'ClassRef':b,'execute':_0x2a0468=>R['editFlowCondition'](_0x2a0468,_0x47f898)});_0x5756a1['status'](0xc8)[_0x493157(0x389)](_0x4353be);})['post'](this[_0x211eb3(0x5ec)](_0x211eb3(0x25a)),..._0x597350,async(_0x38a91d,_0x200d85)=>{const _0x4903e9=_0x211eb3;let _0x2bcfbf=_0x38a91d['body'];m['verbose'](_0x4903e9(0x49c)),m[_0x4903e9(0x327)](_0x4903e9(0x42e)),m['verbose'](_0x38a91d[_0x4903e9(0x500)]);let _0x5be545=await this[_0x4903e9(0x4ed)]({'request':_0x38a91d,'schema':C,'ClassRef':b,'execute':_0x5f4be3=>R['editFlowVariable'](_0x5f4be3,_0x2bcfbf)});_0x200d85[_0x4903e9(0x2a2)](0xc8)[_0x4903e9(0x389)](_0x5be545);})[_0x211eb3(0x560)](this['routerPath'](_0x211eb3(0x616)),..._0x597350,async(_0x5f09ab,_0x61f324)=>{const _0x5f0ad6=_0x211eb3;let _0x2715f3=_0x5f09ab[_0x5f0ad6(0x500)];m['verbose'](_0x5f0ad6(0x549)),m[_0x5f0ad6(0x327)](_0x5f0ad6(0x42e)),m[_0x5f0ad6(0x327)](_0x5f09ab[_0x5f0ad6(0x500)]);let _0x1935b4=await this[_0x5f0ad6(0x4ed)]({'request':_0x5f09ab,'schema':C,'ClassRef':b,'execute':_0x296d98=>R[_0x5f0ad6(0x1ed)](_0x296d98,_0x2715f3)});_0x61f324[_0x5f0ad6(0x2a2)](0xc8)[_0x5f0ad6(0x389)](_0x1935b4);})[_0x211eb3(0x5f7)](this[_0x211eb3(0x5ec)]('deleteflow'),..._0x597350,async(_0x337956,_0x2f1842)=>{const _0x5408d1=_0x211eb3;let _0x1e5bd9=_0x337956[_0x5408d1(0x500)];m[_0x5408d1(0x327)](_0x5408d1(0x23d)),m[_0x5408d1(0x327)](_0x5408d1(0x42e)),m['verbose'](_0x337956[_0x5408d1(0x500)]);let _0x15e2f8=await this['dataValidate']({'request':_0x337956,'schema':C,'ClassRef':b,'execute':_0x28267c=>R['deleteFlow'](_0x28267c,_0x1e5bd9)});_0x2f1842[_0x5408d1(0x2a2)](0xc8)[_0x5408d1(0x389)](_0x15e2f8);})[_0x211eb3(0x342)](this[_0x211eb3(0x5ec)]('allflows'),..._0x597350,async(_0x1fbf27,_0x583cc4)=>{const _0x32764f=_0x211eb3;m[_0x32764f(0x327)]('request\x20received\x20in\x20allFlows');let _0x2e5df5=await this[_0x32764f(0x4ed)]({'request':_0x1fbf27,'schema':C,'ClassRef':b,'execute':_0x12c061=>R[_0x32764f(0x447)](_0x12c061)});_0x583cc4[_0x32764f(0x2a2)](0xc8)[_0x32764f(0x389)](_0x2e5df5);});}},Ka=T(require(a0_0x596428(0x6f0))),ee={};function Ja(_0x14e246,_0x394402,_0x16db50,_0x1cf404){ee[_0x14e246]||(ee[_0x14e246]={}),ee[_0x14e246][_0x394402]={'id':_0x394402,'response':_0x16db50,'events':_0x1cf404};}function Wa(_0x3eba2a,_0x2c197a){!ee[_0x3eba2a]||!ee[_0x3eba2a][_0x2c197a]||delete ee[_0x3eba2a][_0x2c197a];}function B(_0x25a41f,_0x33f4c7,_0x6f65c){const _0x474c61=a0_0x596428;if(!ee[_0x25a41f])return;let _0x54a73c=_0x474c61(0x285)+JSON[_0x474c61(0x35c)](_0x6f65c)+'\x0a\x0a';Object[_0x474c61(0x30e)](ee[_0x25a41f])[_0x474c61(0x571)](_0x518a06=>{const _0x75a659=_0x474c61;_0x518a06[_0x75a659(0x4ab)][_0x75a659(0x739)](_0x33f4c7)&&_0x518a06[_0x75a659(0x6f7)][_0x75a659(0x6d7)](_0x54a73c);});}function Ha(){const _0x15989c=a0_0x596428;let _0x33019c={};for(let _0x30ae0b in ee)_0x33019c[_0x30ae0b]=Object[_0x15989c(0x30e)](ee[_0x30ae0b])[_0x15989c(0x393)](_0x3967c0=>({'id':_0x3967c0['id'],'events':_0x3967c0[_0x15989c(0x4ab)]}));return _0x33019c;}var za=require(a0_0x596428(0x656)),Go=Ka[a0_0x596428(0x3ea)][a0_0x596428(0x72f)](__dirname,'downloads'),vt=(0x0,Et[a0_0x596428(0x2dc)])(),Jo=S[a0_0x596428(0x342)](a0_0x596428(0x367))[a0_0x596428(0x295)],ue=[rs,Xs,ta[Jo]];vt[a0_0x596428(0x4af)](a0_0x596428(0x1c0),Et['default'][a0_0x596428(0x619)](Go))['get'](a0_0x596428(0x42d),async(_0x5c222b,_0x434799)=>{const _0x407107=a0_0x596428;console[_0x407107(0x208)](_0x407107(0x1b2));let _0x310371=_0x5c222b[_0x407107(0x5ef)][_0x407107(0x1f1)],_0x1e8fd5=(_0x5c222b[_0x407107(0x281)]['events']||'')[_0x407107(0x633)](','),_0x233ac1=(0x0,za['v4'])();console[_0x407107(0x208)]('Instance\x20ID:',_0x310371),console[_0x407107(0x208)](_0x407107(0x45d),_0x1e8fd5);let _0x1b0787=S['get'](_0x407107(0x367))[_0x407107(0x688)],_0x113857=_0x5c222b[_0x407107(0x281)]['apikey'];if(console[_0x407107(0x208)]('API\x20Key\x20from\x20Request:',_0x113857),_0x1b0787['KEY']!==_0x113857){console['log'](_0x407107(0x217));try{let _0xc75169=await le[_0x407107(0x493)][_0x407107(0x266)](_0x310371);if(console[_0x407107(0x208)](_0x407107(0x6d9),_0xc75169),!_0xc75169||_0xc75169[_0x407107(0x667)]!==_0x113857)return console[_0x407107(0x208)](_0x407107(0x1c1)),_0x434799[_0x407107(0x2a2)](0x191)[_0x407107(0x2cd)](_0x407107(0x615));}catch(_0x4e057c){return console[_0x407107(0x244)](_0x407107(0x718),_0x4e057c),_0x434799[_0x407107(0x2a2)](0x191)['send'](_0x407107(0x32a));}}if(!await qe(_0x310371))return _0x434799[_0x407107(0x2a2)](0x194)[_0x407107(0x2cd)](_0x407107(0x73e));_0x434799['setHeader'](_0x407107(0x6d6),_0x407107(0x58c)),_0x434799[_0x407107(0x3ae)](_0x407107(0x504),'no-cache'),_0x434799[_0x407107(0x3ae)](_0x407107(0x634),_0x407107(0x48f)),_0x434799[_0x407107(0x3f0)]();let _0x4af62b=_0x407107(0x285)+JSON[_0x407107(0x35c)]({'info':_0x407107(0x3eb)})+'\x0a\x0a';_0x434799[_0x407107(0x6d7)](_0x4af62b),Ja(_0x310371,_0x233ac1,_0x434799,_0x1e8fd5),_0x5c222b['on']('close',()=>{const _0x315a42=_0x407107;console[_0x315a42(0x208)](_0x315a42(0x67d)+_0x310371),Wa(_0x310371,_0x233ac1);});}),vt[a0_0x596428(0x342)]('/clients-info',(_0x7d9fab,_0xaf0bbd)=>{const _0x4ac053=a0_0x596428;let _0x5e06e5=Ha();_0xaf0bbd[_0x4ac053(0x389)](_0x5e06e5);})['get']('/',(_0x352905,_0x185108)=>{const _0x49f334=a0_0x596428;let _0x5efbdf=S[_0x49f334(0x342)](_0x49f334(0x68c)),_0x3ba608=_0x5efbdf&&_0x5efbdf[_0x49f334(0x44e)][_0x49f334(0x633)]('/')[0x4];if(_0x3ba608){let _0x356c50=encodeURIComponent('https://'+_0x3ba608);_0x185108['redirect'](_0x49f334(0x682)+_0x356c50);}else _0x185108[_0x49f334(0x6b5)](_0x49f334(0x2cc));})[a0_0x596428(0x3ec)]('/exit',...ue,async(_0x1c1e10,_0x12c130)=>{const _0x269135=a0_0x596428;try{console[_0x269135(0x208)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x12c130[_0x269135(0x2a2)](0xc8)[_0x269135(0x389)]({'message':_0x269135(0x2ff)}),_0x12c130['on']('finish',()=>process['exit'](0x0));}catch(_0x8dfde4){console[_0x269135(0x244)](_0x269135(0x2a9),_0x8dfde4),_0x12c130[_0x269135(0x2a2)](0x1f4)[_0x269135(0x389)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x596428(0x4af)](a0_0x596428(0x543),new it(S,...ue)['router'],new wt(rs)[a0_0x596428(0x6c2)])['use']('/message',new ft(...ue)[a0_0x596428(0x6c2)])[a0_0x596428(0x4af)](a0_0x596428(0x2f1),new Ke(...ue)[a0_0x596428(0x6c2)])[a0_0x596428(0x4af)](a0_0x596428(0x495),new at(...ue)['router'])[a0_0x596428(0x4af)](a0_0x596428(0x60d),new bt(...ue)[a0_0x596428(0x6c2)])[a0_0x596428(0x4af)](a0_0x596428(0x265),new St(...ue)[a0_0x596428(0x6c2)]);var g=class{constructor(..._0x52221c){const _0x558fa7=a0_0x596428;throw{'status':0x190,'error':_0x558fa7(0x1e9),'message':_0x52221c[_0x558fa7(0x708)]>0x0?_0x52221c:void 0x0};}},re=class{constructor(..._0x5530ea){throw{'status':0x191,'error':'Unauthorized','message':_0x5530ea['length']>0x0?_0x5530ea:void 0x0};}},oe=class{constructor(..._0x31a5ab){const _0x1e3287=a0_0x596428;throw{'status':0x193,'error':_0x1e3287(0x5f9),'message':_0x31a5ab[_0x1e3287(0x708)]>0x0?_0x31a5ab:void 0x0};}},x=class{constructor(..._0x14d76b){const _0x3d2f72=a0_0x596428;throw{'status':0x194,'error':_0x3d2f72(0x42f),'message':_0x14d76b[_0x3d2f72(0x708)]>0x0?_0x14d76b:void 0x0};}},A=class{constructor(..._0x201888){const _0x49cd75=a0_0x596428;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x201888[_0x49cd75(0x708)]>0x0?_0x201888:void 0x0};}},de=require(a0_0x596428(0x3e8));async function us(_0x22c27a){const _0x27136f=a0_0x596428;let _0x28a4bd=new N(us[_0x27136f(0x382)]),_0x5cbf66=M[_0x27136f(0x43d)](),_0x57e3c6=_0x5cbf66['db'](S[_0x27136f(0x342)](_0x27136f(0x653))[_0x27136f(0x2bc)][_0x27136f(0x1f6)]+_0x27136f(0x5b8))[_0x27136f(0x213)](_0x22c27a),_0x5d951=async(_0x52f501,_0x275d4b)=>{const _0x5aea73=_0x27136f;try{return await _0x5cbf66[_0x5aea73(0x4d1)](),await _0x57e3c6[_0x5aea73(0x417)]({'_id':_0x275d4b},JSON[_0x5aea73(0x52b)](JSON[_0x5aea73(0x35c)](_0x52f501,de[_0x5aea73(0x280)][_0x5aea73(0x5f1)])),{'upsert':!0x0});}catch{}},_0x20678f=async _0x364605=>{const _0x217ad2=_0x27136f;try{await _0x5cbf66[_0x217ad2(0x4d1)]();let _0x17c93e=await _0x57e3c6[_0x217ad2(0x3d7)]({'_id':_0x364605}),_0x9b0f95=JSON[_0x217ad2(0x35c)](_0x17c93e);return JSON[_0x217ad2(0x52b)](_0x9b0f95,de['BufferJSON'][_0x217ad2(0x3b6)]);}catch{}},_0x321ec4=async _0x31e982=>{const _0x3925a5=_0x27136f;try{return await _0x5cbf66[_0x3925a5(0x4d1)](),await _0x57e3c6['deleteOne']({'_id':_0x31e982});}catch{}},_0x515125=await _0x20678f(_0x27136f(0x1e4))||(0x0,de[_0x27136f(0x3c8)])();return{'state':{'creds':_0x515125,'keys':{'get':async(_0x1c5e52,_0x19ac74)=>{const _0x3a2708=_0x27136f;let _0x43d2b0={};return await Promise[_0x3a2708(0x349)](_0x19ac74[_0x3a2708(0x393)](async _0x117a26=>{const _0x20da33=_0x3a2708;let _0x5099ee=await _0x20678f(_0x1c5e52+'-'+_0x117a26);_0x1c5e52===_0x20da33(0x721)&&_0x5099ee&&(_0x5099ee=de[_0x20da33(0x2f2)][_0x20da33(0x5aa)][_0x20da33(0x4e5)][_0x20da33(0x3c6)](_0x5099ee)),_0x43d2b0[_0x117a26]=_0x5099ee;})),_0x43d2b0;},'set':async _0x4fa304=>{const _0x406b6d=_0x27136f;let _0x1a98b1=[];for(let _0x12cbd4 in _0x4fa304)for(let _0x52e42c in _0x4fa304[_0x12cbd4]){let _0x47bd25=_0x4fa304[_0x12cbd4][_0x52e42c],_0x55c7b5=_0x12cbd4+'-'+_0x52e42c;_0x1a98b1[_0x406b6d(0x66c)](_0x47bd25?_0x5d951(_0x47bd25,_0x55c7b5):_0x321ec4(_0x55c7b5));}await Promise[_0x406b6d(0x349)](_0x1a98b1);}}},'saveCreds':async()=>_0x5d951(_0x515125,_0x27136f(0x1e4))};}var ps=T(require('long')),gs=T(require(a0_0x596428(0x471))),Tt=require(a0_0x596428(0x3e8)),Qa=require(a0_0x596428(0x53a)),Nt=require(a0_0x596428(0x3e8)),Ct;function Wo(_0x549dbf){const _0x35dc6f=a0_0x596428;return Ct||(Ct=(0x0,Qa[_0x35dc6f(0x1f4)])({'url':_0x549dbf[_0x35dc6f(0x6d2)]}),Ct[_0x35dc6f(0x4d1)]()),Ct;}var ne=class c{constructor(_0x3753c8,_0x5bdc04){const _0x541573=a0_0x596428;this[_0x541573(0x5c9)]=_0x3753c8,this[_0x541573(0x28a)]=_0x5bdc04,this[_0x541573(0x1d3)]=new N(c['name']),this['client']=Wo(_0x3753c8);}set[a0_0x596428(0x406)](_0x534f04){this['instanceName']=_0x534f04;}async[a0_0x596428(0x42c)](){const _0x4c8999=a0_0x596428;try{return await this[_0x4c8999(0x6eb)][_0x4c8999(0x5fe)]([_0x4c8999(0x678),this[_0x4c8999(0x5c9)][_0x4c8999(0x1ae)]+':*']);}catch(_0x2d0cdd){this[_0x4c8999(0x1d3)][_0x4c8999(0x244)](_0x2d0cdd);}}async[a0_0x596428(0x514)](_0x30d410,_0x2a49b0){const _0x464c1d=a0_0x596428;try{let _0x5b205d=JSON[_0x464c1d(0x35c)](_0x2a49b0,Nt['BufferJSON'][_0x464c1d(0x5f1)]);return await this['client'][_0x464c1d(0x2c6)](this[_0x464c1d(0x5c9)][_0x464c1d(0x1ae)]+':'+this[_0x464c1d(0x28a)],_0x30d410,_0x5b205d);}catch(_0x1aa536){this[_0x464c1d(0x1d3)]['error'](_0x1aa536);}}async['getAllData'](){const _0x40e90f=a0_0x596428;try{let _0x2f6e73=await this[_0x40e90f(0x6eb)][_0x40e90f(0x6b9)](this[_0x40e90f(0x5c9)][_0x40e90f(0x1ae)]+':'+this[_0x40e90f(0x28a)]);if(_0x2f6e73){for(let _0x2c6828 in _0x2f6e73)Object[_0x40e90f(0x702)][_0x40e90f(0x5a1)]['call'](_0x2f6e73,_0x2c6828)&&(_0x2f6e73[_0x2c6828]=JSON[_0x40e90f(0x52b)](_0x2f6e73[_0x2c6828],Nt[_0x40e90f(0x280)]['reviver']));return _0x2f6e73;}}catch(_0x32a683){this[_0x40e90f(0x1d3)][_0x40e90f(0x244)](_0x32a683);}}async[a0_0x596428(0x676)](_0x510de4){const _0x48512d=a0_0x596428;try{let _0x27754b=await this['client'][_0x48512d(0x6f8)](this[_0x48512d(0x5c9)][_0x48512d(0x1ae)]+':'+this[_0x48512d(0x28a)],_0x510de4);if(_0x27754b)return JSON[_0x48512d(0x52b)](_0x27754b,Nt[_0x48512d(0x280)]['reviver']);}catch(_0x2ef8a3){this[_0x48512d(0x1d3)][_0x48512d(0x244)](_0x2ef8a3);}}async['removeData'](_0x55d5ad){const _0x3b4391=a0_0x596428;try{return await this['client']['hDel'](this[_0x3b4391(0x5c9)]['PREFIX_KEY']+':'+this[_0x3b4391(0x28a)],_0x55d5ad);}catch(_0xf8163c){this['logger'][_0x3b4391(0x244)](_0xf8163c);}}async[a0_0x596428(0x2f6)](_0x34dcc5){const _0x369b48=a0_0x596428;try{return await this['client']['del'](_0x34dcc5||this[_0x369b48(0x5c9)][_0x369b48(0x1ae)]+':'+this[_0x369b48(0x28a)]);}catch(_0x56ff31){this[_0x369b48(0x1d3)]['error'](_0x56ff31);}}};async function ds(_0x4e36eb,_0x31a9a8){const _0x1c70ec=a0_0x596428;let _0x4a8bc5=new N(ds[_0x1c70ec(0x382)]),_0x40cae4=new ne(_0x4e36eb,_0x31a9a8),_0x3369cc=async(_0x1e515d,_0x554de9)=>{const _0x5517b1=_0x1c70ec;try{return await _0x40cae4[_0x5517b1(0x514)](_0x554de9,_0x1e515d);}catch(_0x15ad9c){return _0x4a8bc5['error']({'localError':_0x5517b1(0x514),'error':_0x15ad9c});}},_0x1438c8=async _0x2a8a14=>{const _0x5ebee9=_0x1c70ec;try{return await _0x40cae4['readData'](_0x2a8a14);}catch(_0x324a8f){_0x4a8bc5['error']({'readData':_0x5ebee9(0x514),'error':_0x324a8f});return;}},_0x5b2781=async _0x12ea6f=>{const _0x1bd4af=_0x1c70ec;try{return await _0x40cae4[_0x1bd4af(0x53f)](_0x12ea6f);}catch(_0x6a652c){_0x4a8bc5['error']({'readData':_0x1bd4af(0x53f),'error':_0x6a652c});}},_0x3d70e4=await _0x1438c8(_0x1c70ec(0x1e4))||(0x0,Tt[_0x1c70ec(0x3c8)])();return{'state':{'creds':_0x3d70e4,'keys':{'get':async(_0x3c4a7f,_0x4d3b94)=>{const _0x54224a=_0x1c70ec;let _0x554611={};return await Promise['all'](_0x4d3b94[_0x54224a(0x393)](async _0x58f612=>{const _0x2bc345=_0x54224a;let _0x866c82=await _0x1438c8(_0x3c4a7f+'-'+_0x58f612);_0x3c4a7f==='app-state-sync-key'&&_0x866c82&&(_0x866c82=Tt['proto'][_0x2bc345(0x5aa)][_0x2bc345(0x4e5)][_0x2bc345(0x3c6)](_0x866c82)),_0x554611[_0x58f612]=_0x866c82;})),_0x554611;},'set':async _0x5e90ba=>{const _0x476192=_0x1c70ec;let _0x12604f=[];for(let _0x180329 in _0x5e90ba)for(let _0x3781d0 in _0x5e90ba[_0x180329]){let _0x1091d1=_0x5e90ba[_0x180329][_0x3781d0],_0x4a0494=_0x180329+'-'+_0x3781d0;_0x12604f[_0x476192(0x66c)](_0x1091d1?await _0x3369cc(_0x1091d1,_0x4a0494):await _0x5b2781(_0x4a0494));}await Promise[_0x476192(0x349)](_0x12604f);}}},'saveCreds':async()=>await _0x3369cc(_0x3d70e4,_0x1c70ec(0x1e4))};}var P=T(require('fs')),At=require(a0_0x596428(0x656)),It=T(require(a0_0x596428(0x282)));function J(_0x32a31f){const _0x3399a3=a0_0x596428;if(_0x32a31f['viewOnceMessage']||_0x32a31f[_0x3399a3(0x650)]){let _0x5ce50d=_0x32a31f['viewOnceMessage']?_0x32a31f[_0x3399a3(0x51d)][_0x3399a3(0x56b)]:_0x32a31f[_0x3399a3(0x650)][_0x3399a3(0x56b)];return(0x0,w['getContentType'])(_0x5ce50d);}return _0x32a31f[_0x3399a3(0x37c)]?_0x3399a3(0x37c):_0x32a31f[_0x3399a3(0x2ed)]?_0x3399a3(0x2ed):(0x0,w['getContentType'])(_0x32a31f);}var ye=class c{constructor(_0x378ebc,_0x8081ae,_0x3f8376){const _0x10d566=a0_0x596428;this[_0x10d566(0x6d5)]=_0x378ebc,this[_0x10d566(0x6c3)]=_0x8081ae,this[_0x10d566(0x1fe)]=_0x3f8376,this['AutomateSystem']=null,this[_0x10d566(0x1d3)]=new N(c[_0x10d566(0x382)]),this[_0x10d566(0x1f1)]={},this[_0x10d566(0x6a3)]={},this[_0x10d566(0x408)]={'state':_0x10d566(0x4b7)},this[_0x10d566(0x729)]=(0x0,$[_0x10d566(0x72f)])(Q,_0x10d566(0x445)),this[_0x10d566(0x733)]=new gs['default'](),this[_0x10d566(0x416)]=new gs[(_0x10d566(0x3ea))](),this[_0x10d566(0x47b)]=!0x1,this[_0x10d566(0x2f8)]={'status.instance':_0x10d566(0x17f),'qrcode.updated':_0x10d566(0x6ab),'messages.upsert':_0x10d566(0x465),'messages.update':'/wa-message-update','send.message':'/wa-message','group.upsert':'/wa-groups','group.update':'/wa-groups','group-participants.update':'/wa-groups','connection.update':'/wa-connection-update','messages.set':_0x10d566(0x465),'contacts.set':_0x10d566(0x73d),'contacts.upsert':'/wa-contacts','contacts.update':'/wa-contacts','presence.update':_0x10d566(0x57c),'chats.set':'/wa-chats','chats.update':_0x10d566(0x69f),'chats.upsert':_0x10d566(0x69f),'chats.delete':_0x10d566(0x69f)},this[_0x10d566(0x1f9)]=0x0,this[_0x10d566(0x3d6)]=[],this[_0x10d566(0x68a)]=0xf,this[_0x10d566(0x305)]=0x7530,this['isRunning']=!0x1,this[_0x10d566(0x323)]={'chats.upsert':async(_0x36e56b,_0x44c544)=>{const _0x479760=_0x10d566;let _0xa60587=[];for await(let _0x138295 of _0x36e56b)_0xa60587[_0x479760(0x66c)]({'_id':_0x138295['id'],'owner':this[_0x479760(0x1f1)]['wuid'],'group':_0x138295['id'][_0x479760(0x2b2)]('@g.us'),'name':_0x138295[_0x479760(0x382)]||_0x138295[_0x479760(0x4d4)]||null,'contactname':null,'lastmsg':_0x138295[_0x479760(0x40d)]&&_0x138295[_0x479760(0x40d)][_0x479760(0x1af)]()[_0x479760(0x708)]<0xd?_0x138295[_0x479760(0x40d)]*0x3e8:_0x138295[_0x479760(0x40d)]||null,'archived':_0x138295[_0x479760(0x4e7)]||!0x1,'unreadcount':_0x138295[_0x479760(0x3d4)]||0x0});await this['sendDataWebhook'](_0x479760(0x4e4),_0xa60587);},'chats.update':async(_0x7010e4,_0x4bbe60)=>{const _0xa42cc2=_0x10d566;for(let _0x160d91 of _0x7010e4){let _0x3844b0={'_id':_0x160d91['id'],'owner':this['instance']['wuid'],'group':_0x160d91['id'][_0xa42cc2(0x2b2)](_0xa42cc2(0x24a)),'name':_0x160d91[_0xa42cc2(0x382)]||_0x160d91[_0xa42cc2(0x4d4)],'archived':_0x160d91['archived']},_0x47954d=!0x1,_0x15e068={};_0x3844b0[_0xa42cc2(0x4e7)]!=null&&(this['logger'][_0xa42cc2(0x327)](this[_0xa42cc2(0x28a)]+'\x20('+this[_0xa42cc2(0x1f1)][_0xa42cc2(0x694)]+_0xa42cc2(0x2b4)+_0x160d91[_0xa42cc2(0x4e7)]),_0x47954d=!0x0,_0x15e068['archived']=_0x160d91[_0xa42cc2(0x4e7)]),_0x160d91[_0xa42cc2(0x382)]!=null&&(this[_0xa42cc2(0x1d3)][_0xa42cc2(0x327)](this[_0xa42cc2(0x28a)]+'\x20('+this[_0xa42cc2(0x1f1)][_0xa42cc2(0x694)]+_0xa42cc2(0x1c9)+_0x160d91[_0xa42cc2(0x382)]),_0x47954d=!0x0,_0x15e068[_0xa42cc2(0x382)]=_0x160d91['name']),_0x160d91[_0xa42cc2(0x4d4)]!=null&&(this[_0xa42cc2(0x1d3)]['verbose'](this[_0xa42cc2(0x28a)]+'\x20('+this['instance']['wuid']+'):\x20teve\x20mudanças\x20chat.displayName:\x20'+_0x160d91[_0xa42cc2(0x4d4)]),_0x47954d=!0x0,_0x15e068[_0xa42cc2(0x382)]=_0x160d91['displayName']);let _0x3506df;_0x47954d&&(_0x3506df=await this[_0xa42cc2(0x1fe)]['chat'][_0xa42cc2(0x3ad)]({'where':{'_id':_0x160d91['id'],'owner':this[_0xa42cc2(0x1f1)]['wuid']}},_0x15e068)),_0x3506df&&B(this[_0xa42cc2(0x28a)],_0xa42cc2(0x6c9),{'chat':_0x3506df});}},'chats.delete':async _0x44f26c=>{await this['sendDataWebhook']('chats.delete',[..._0x44f26c]);}},this[_0x10d566(0x592)]={'contacts.upsert':async(_0xe028f2,_0x112a27)=>{const _0x5ba0a1=_0x10d566;let _0x40f778=await this[_0x5ba0a1(0x1fe)][_0x5ba0a1(0x451)]['find']({'where':{'owner':this[_0x5ba0a1(0x1f1)][_0x5ba0a1(0x694)]}}),_0x49f8c6=[];for await(let _0xc16a84 of _0xe028f2)_0x40f778['find'](_0x9218d3=>_0x9218d3['_id']===_0xc16a84['id'])||_0x49f8c6[_0x5ba0a1(0x66c)]({'_id':_0xc16a84['id'],'pushName':_0xc16a84?.['name']||_0xc16a84?.['verifiedName'],'owner':this[_0x5ba0a1(0x1f1)][_0x5ba0a1(0x694)]});await this['sendDataWebhook'](_0x5ba0a1(0x54c),_0x49f8c6),await this[_0x5ba0a1(0x1fe)][_0x5ba0a1(0x451)][_0x5ba0a1(0x341)](_0x49f8c6);},'contacts.update':async(_0x12b858,_0x3f4915)=>{const _0x305ff5=_0x10d566;let _0x4da8b0=[];for await(let _0x2e7212 of _0x12b858)_0x4da8b0[_0x305ff5(0x66c)]({'_id':_0x2e7212['id'],'pushName':_0x2e7212?.[_0x305ff5(0x382)]??_0x2e7212?.['verifiedName'],'owner':this[_0x305ff5(0x1f1)]['wuid']});await this[_0x305ff5(0x66d)](_0x305ff5(0x5fa),_0x4da8b0);}},this[_0x10d566(0x35e)]={'messaging-history.set':async({messages:_0x43da62,chats:_0x4d385d,isLatest:_0x575a45},_0x2c25f2)=>{const _0x2d4699=_0x10d566;if(_0x575a45){let _0x4a0c55=await Promise['all'](_0x4d385d['map'](async _0x1a31b0=>({'_id':_0x1a31b0['id'],'owner':this[_0x2d4699(0x1f1)]['wuid'],'group':_0x1a31b0['id'][_0x2d4699(0x2b2)]('@g.us'),'name':_0x1a31b0[_0x2d4699(0x382)]||_0x1a31b0['displayName']||null,'contactname':null,'lastmsg':_0x1a31b0[_0x2d4699(0x40d)]&&_0x1a31b0[_0x2d4699(0x40d)][_0x2d4699(0x1af)]()[_0x2d4699(0x708)]<0xd?_0x1a31b0['conversationTimestamp']*0x3e8:_0x1a31b0[_0x2d4699(0x40d)]||null,'archived':_0x1a31b0[_0x2d4699(0x4e7)]||!0x1,'unreadcount':_0x1a31b0['unreadCount']||0x0})));await this['sendDataWebhook']('chats.set',_0x4a0c55),await this[_0x2d4699(0x20d)](_0x4a0c55,_0x2c25f2);}let _0xde167f=[],_0x30d9db=Date[_0x2d4699(0x4a1)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x5dacf4]of Object[_0x2d4699(0x6fe)](_0x43da62)){if(_0x5dacf4['message']?.[_0x2d4699(0x689)]||_0x5dacf4[_0x2d4699(0x56b)]?.[_0x2d4699(0x288)]||!_0x5dacf4[_0x2d4699(0x56b)]||_0x5dacf4[_0x2d4699(0x40a)][_0x2d4699(0x5ea)]===_0x2d4699(0x4b9)||(ps['default'][_0x2d4699(0x5b5)](_0x5dacf4?.[_0x2d4699(0x67c)])&&(_0x5dacf4['messageTimestamp']=_0x5dacf4['messageTimestamp']?.['toNumber']()),_0x5dacf4[_0x2d4699(0x67c)]&&_0x5dacf4[_0x2d4699(0x67c)][_0x2d4699(0x1af)]()[_0x2d4699(0x708)]<0xd&&(_0x5dacf4[_0x2d4699(0x67c)]=_0x5dacf4[_0x2d4699(0x67c)]*0x3e8),_0x5dacf4[_0x2d4699(0x67c)]<_0x30d9db))continue;let {message_normalized:_0x44d486}=this[_0x2d4699(0x660)](_0x5dacf4[_0x2d4699(0x56b)],J(_0x5dacf4[_0x2d4699(0x56b)]),null);Object[_0x2d4699(0x678)](_0x44d486)[_0x2d4699(0x708)]>0x0&&_0xde167f[_0x2d4699(0x66c)]({'_id':_0x5dacf4['key']['id'],'key':_0x5dacf4['key'],'pushName':_0x5dacf4[_0x2d4699(0x388)],'participant':_0x5dacf4[_0x2d4699(0x4e9)],'message':{..._0x5dacf4[_0x2d4699(0x56b)]},'messageType':J(_0x5dacf4[_0x2d4699(0x56b)]),'message_normalized':{'key':_0x5dacf4[_0x2d4699(0x40a)],'pushName':_0x5dacf4[_0x2d4699(0x388)],'messageTimestamp':_0x5dacf4[_0x2d4699(0x67c)],..._0x44d486},'messageTimestamp':_0x5dacf4['messageTimestamp'],'owner':this[_0x2d4699(0x1f1)][_0x2d4699(0x694)]});}_0x2c25f2[_0x2d4699(0x404)]&&_0xde167f[_0x2d4699(0x708)]>0x0&&(this[_0x2d4699(0x1d3)][_0x2d4699(0x327)](this['instanceName']+'\x20('+this[_0x2d4699(0x1f1)]['wuid']+_0x2d4699(0x6e6)+_0xde167f[_0x2d4699(0x708)]+_0x2d4699(0x38b)+this[_0x2d4699(0x1f1)][_0x2d4699(0x694)]+_0x2d4699(0x4f7)),await this['repository'][_0x2d4699(0x56b)][_0x2d4699(0x341)]([..._0xde167f])),this[_0x2d4699(0x66d)](_0x2d4699(0x60c),[..._0xde167f]),_0x43da62=void 0x0;},'messages.upsert':async({messages:_0x1d37fe,type:_0x32627d},_0x45bf93)=>{const _0x3e08aa=_0x10d566;let _0x2cae9e=_0x1d37fe[0x0];if(_0x32627d!==_0x3e08aa(0x6b2)||!_0x2cae9e?.['message']||_0x2cae9e[_0x3e08aa(0x56b)]?.[_0x3e08aa(0x689)]||_0x2cae9e[_0x3e08aa(0x56b)][_0x3e08aa(0x288)]||_0x2cae9e[_0x3e08aa(0x40a)][_0x3e08aa(0x5ea)]===_0x3e08aa(0x4b9))return;let _0x1a02ba=null,_0x217e76=null;try{_0x1a02ba=await this[_0x3e08aa(0x235)](_0x2cae9e),_0x217e76=_0x1a02ba?_0x1a02ba[_0x3e08aa(0x72f)](','):null;}catch(_0x311a94){this[_0x3e08aa(0x1d3)][_0x3e08aa(0x327)](this[_0x3e08aa(0x28a)]+'\x20('+this[_0x3e08aa(0x1f1)][_0x3e08aa(0x694)]+_0x3e08aa(0x6e6)+_0x311a94[_0x3e08aa(0x56b)]),_0x217e76=_0x3e08aa(0x274);}if(this[_0x3e08aa(0x6eb)]['sendPresenceUpdate'](_0x3e08aa(0x230)),ps[_0x3e08aa(0x3ea)][_0x3e08aa(0x5b5)](_0x2cae9e[_0x3e08aa(0x67c)])&&(_0x2cae9e[_0x3e08aa(0x67c)]=_0x2cae9e[_0x3e08aa(0x67c)]?.[_0x3e08aa(0x584)]()),this[_0x3e08aa(0x6a3)]?.[_0x3e08aa(0x34b)]&&_0x2cae9e[_0x3e08aa(0x40a)][_0x3e08aa(0x5ea)][_0x3e08aa(0x739)](_0x3e08aa(0x24a))){this[_0x3e08aa(0x1d3)][_0x3e08aa(0x327)](_0x3e08aa(0x1b8));return;}_0x2cae9e['messageTimestamp']&&_0x2cae9e['messageTimestamp'][_0x3e08aa(0x1af)]()[_0x3e08aa(0x708)]<0xd&&(_0x2cae9e['messageTimestamp']=_0x2cae9e[_0x3e08aa(0x67c)]*0x3e8);let _0x227a40=_0x2cae9e[_0x3e08aa(0x56b)],{messageContent:_0x51785e,message_normalized:_0x5213ae}=this[_0x3e08aa(0x660)](_0x227a40,J(_0x2cae9e['message']),_0x217e76);_0x51785e||console[_0x3e08aa(0x244)](_0x3e08aa(0x59c));let _0x4854c1={'_id':_0x2cae9e['key']['id'],'key':_0x2cae9e[_0x3e08aa(0x40a)],'pushName':_0x2cae9e[_0x3e08aa(0x388)],'message':{..._0x2cae9e[_0x3e08aa(0x56b)]},'messageType':J(_0x2cae9e[_0x3e08aa(0x56b)]),'message_normalized':{'key':_0x2cae9e['key'],'pushName':_0x2cae9e['pushName'],'messageTimestamp':_0x2cae9e['messageTimestamp'],'source':(0x0,w[_0x3e08aa(0x6be)])(_0x2cae9e['key']['id']),..._0x5213ae},'messageTimestamp':_0x2cae9e[_0x3e08aa(0x67c)],'owner':this[_0x3e08aa(0x1f1)][_0x3e08aa(0x694)]};this[_0x3e08aa(0x1d3)]['log'](_0x4854c1),await this[_0x3e08aa(0x1fe)][_0x3e08aa(0x56b)][_0x3e08aa(0x341)]([_0x4854c1]),await this[_0x3e08aa(0x66d)](_0x3e08aa(0x499),_0x4854c1),B(this[_0x3e08aa(0x28a)],_0x3e08aa(0x1ec),{'message':_0x4854c1}),_0x2cae9e[_0x3e08aa(0x40a)][_0x3e08aa(0x5ea)]!==_0x3e08aa(0x4b9)&&await this['updateChatWithMessage'](_0x45bf93,_0x4854c1,_0x3e08aa(0x51a));},'messages.update':async(_0x31bfca,_0x3b0915)=>{const _0x139ccc=_0x10d566;let _0x1e0881={0x0:_0x139ccc(0x41e),0x1:_0x139ccc(0x65f),0x2:_0x139ccc(0x32f),0x3:'DELIVERY_ACK',0x4:_0x139ccc(0x24c),0x5:'PLAYED'};for await(let {key:_0x589dc9,update:_0x5c8aed}of _0x31bfca){if(this['localWebhook']?.[_0x139ccc(0x34b)]&&_0x589dc9[_0x139ccc(0x5ea)][_0x139ccc(0x739)](_0x139ccc(0x24a))){this[_0x139ccc(0x1d3)][_0x139ccc(0x327)](_0x139ccc(0x1b8));return;}if(_0x589dc9[_0x139ccc(0x5ea)]!=='status@broadcast'){let _0x31321a=Date[_0x139ccc(0x4a1)](),_0x42873f;_0x5c8aed[_0x139ccc(0x56b)]===null&&_0x5c8aed[_0x139ccc(0x2a2)]===void 0x0?_0x42873f=_0x139ccc(0x201):_0x42873f=_0x1e0881[_0x5c8aed['status']];let _0xf478c1=_0x589dc9[_0x139ccc(0x5ea)][_0x139ccc(0x527)](/:\d{1,2}@/g,'@'),_0x1f790a={..._0x589dc9,'remoteJid':_0xf478c1,'status':_0x42873f,'datetime':_0x31321a,'owner':this[_0x139ccc(0x1f1)]['wuid']};await this[_0x139ccc(0x66d)](_0x139ccc(0x24e),_0x1f790a),await this['updateMessage'](_0x589dc9,_0xf478c1,_0x1f790a);}}}},this[_0x10d566(0x28b)]={'groups.upsert':_0x41d899=>{const _0x19fce2=_0x10d566;this['sendDataWebhook'](_0x19fce2(0x418),_0x41d899);},'groups.update':_0x522da7=>{const _0x25d9cd=_0x10d566;this[_0x25d9cd(0x66d)](_0x25d9cd(0x618),_0x522da7);},'group-participants.update':_0x2af508=>{const _0x238d3d=_0x10d566;this[_0x238d3d(0x66d)]('group-participants.update',_0x2af508);}},this[_0x10d566(0x235)]=async _0x27faad=>{const _0xb10e2e=_0x10d566;if(_0x27faad[_0xb10e2e(0x56b)]?.['pollUpdateMessage']){let _0x423614=await this[_0xb10e2e(0x464)](_0x27faad[_0xb10e2e(0x56b)][_0xb10e2e(0x595)][_0xb10e2e(0x700)],!0x0);if(_0x423614){let _0x1e3d82=_0x423614[_0xb10e2e(0x40a)][_0xb10e2e(0x4bd)]?this[_0xb10e2e(0x1f1)][_0xb10e2e(0x694)]+'@s.whatsapp.net':_0x423614[_0xb10e2e(0x40a)]['participant']||_0x423614[_0xb10e2e(0x40a)]['remoteJid'],_0x4e5abc=_0x423614[_0xb10e2e(0x40a)]['id'],_0x8c8285=_0x423614[_0xb10e2e(0x56b)],_0x48fa1b=Buffer[_0xb10e2e(0x2a1)](_0x8c8285[_0xb10e2e(0x644)][_0xb10e2e(0x413)][_0xb10e2e(0x1af)](_0xb10e2e(0x3b4)),_0xb10e2e(0x3b4)),_0x3405bf=(0x0,w[_0xb10e2e(0x33c)])(_0x27faad[_0xb10e2e(0x56b)][_0xb10e2e(0x595)][_0xb10e2e(0x598)],{'pollCreatorJid':_0x1e3d82,'pollMsgId':_0x4e5abc,'pollEncKey':_0x48fa1b,'voterJid':_0x27faad[_0xb10e2e(0x40a)][_0xb10e2e(0x4bd)]?this[_0xb10e2e(0x1f1)]['wuid']+_0xb10e2e(0x498):_0x27faad[_0xb10e2e(0x40a)]['remoteJid']['endsWith'](_0xb10e2e(0x199))?_0x27faad[_0xb10e2e(0x40a)][_0xb10e2e(0x4e9)]:_0x27faad['key'][_0xb10e2e(0x5ea)]}),_0x4b7bca=[],_0x53bb87=_0x3405bf[_0xb10e2e(0x248)][_0xb10e2e(0x393)](_0x3c498f=>Buffer['from'](_0x3c498f)[_0xb10e2e(0x1af)](_0xb10e2e(0x3b4)));for(let {optionName:_0x1ba49c}of _0x8c8285[_0xb10e2e(0x2ba)]?.[_0xb10e2e(0x50d)]||_0x8c8285[_0xb10e2e(0x37c)]?.[_0xb10e2e(0x50d)]||_0x8c8285[_0xb10e2e(0x2ed)]?.[_0xb10e2e(0x50d)])_0x53bb87[_0xb10e2e(0x5a9)]((0x0,w[_0xb10e2e(0x732)])(Buffer[_0xb10e2e(0x2a1)](_0x1ba49c))[_0xb10e2e(0x1af)](_0xb10e2e(0x3b4)))>-0x1&&_0x4b7bca['push'](_0x1ba49c);return _0x4b7bca;}}return null;},this['normalizeMessage']=(_0x1a7cfd,_0x903f0e,_0x509e76)=>{const _0x109c02=_0x10d566;let _0x2d0605=_0x903f0e?_0x1a7cfd[_0x903f0e]:void 0x0,_0x6615c={},_0x4e8f99=null,_0x171c7c=null,_0x1243be=null;if(_0x1a7cfd[_0x109c02(0x650)]?_0x2d0605=_0x1a7cfd[_0x109c02(0x650)][_0x109c02(0x56b)][_0x903f0e]:_0x1a7cfd['viewOnceMessage']?_0x2d0605=_0x1a7cfd[_0x109c02(0x51d)][_0x109c02(0x56b)][_0x903f0e]:_0x1a7cfd[_0x109c02(0x70f)]?_0x2d0605=_0x1a7cfd[_0x109c02(0x70f)][_0x109c02(0x56b)][_0x903f0e]:_0x1a7cfd[_0x109c02(0x3b0)]?.['message']?.[_0x109c02(0x689)]?.[_0x109c02(0x3b0)]?(_0x4e8f99=_0x1a7cfd[_0x109c02(0x3b0)]['message'][_0x109c02(0x689)]['key']['id'],_0x1a7cfd[_0x109c02(0x3b0)][_0x109c02(0x56b)][_0x109c02(0x689)][_0x109c02(0x3b0)][_0x109c02(0x685)]?_0x2d0605=_0x1a7cfd[_0x109c02(0x3b0)]['message'][_0x109c02(0x689)][_0x109c02(0x3b0)][_0x109c02(0x685)]:_0x1a7cfd[_0x109c02(0x3b0)][_0x109c02(0x56b)]['protocolMessage'][_0x109c02(0x3b0)][_0x109c02(0x6df)]?_0x2d0605=_0x1a7cfd[_0x109c02(0x3b0)][_0x109c02(0x56b)]['protocolMessage']['editedMessage']['imageMessage']['caption']:_0x1a7cfd[_0x109c02(0x3b0)][_0x109c02(0x56b)][_0x109c02(0x689)]['editedMessage'][_0x109c02(0x385)]?_0x2d0605=_0x1a7cfd[_0x109c02(0x3b0)][_0x109c02(0x56b)]['protocolMessage'][_0x109c02(0x3b0)]['videoMessage'][_0x109c02(0x65d)]:_0x1a7cfd[_0x109c02(0x3b0)]['message']['protocolMessage'][_0x109c02(0x3b0)][_0x109c02(0x4b1)]?_0x2d0605=_0x1a7cfd['editedMessage'][_0x109c02(0x56b)][_0x109c02(0x689)][_0x109c02(0x3b0)]['documentWithCaptionMessage'][_0x109c02(0x56b)][_0x109c02(0x197)][_0x109c02(0x65d)]:_0x2d0605=_0x1a7cfd['editedMessage'][_0x109c02(0x56b)][_0x109c02(0x689)][_0x109c02(0x3b0)]):_0x2d0605=_0x1a7cfd[_0x903f0e],!_0x903f0e||!_0x2d0605)return console[_0x109c02(0x244)](_0x109c02(0x4fd),_0x1a7cfd),{'messageType':_0x903f0e,'messageContent':_0x2d0605,'message_normalized':{}};_0x1a7cfd[_0x903f0e]?.[_0x109c02(0x27e)]?.['stanzaId']&&_0x1a7cfd[_0x903f0e]?.['contextInfo']?.[_0x109c02(0x521)]&&(_0x171c7c=_0x1a7cfd[_0x903f0e]['contextInfo'][_0x109c02(0x6f5)]),_0x1a7cfd[_0x109c02(0x502)]&&(_0x1243be=_0x1a7cfd[_0x109c02(0x502)]['key']['id']);let _0x409c5e;if(_0x2d0605&&typeof _0x2d0605=='object'&&'pollCreationMessageKey'in _0x2d0605&&({pollCreationMessageKey:_0x409c5e}=_0x2d0605),_0x903f0e==='documentWithCaptionMessage'){let _0x29104c=_0x2d0605?.[_0x109c02(0x56b)]?.['documentMessage'];_0x29104c&&(_0x2d0605=_0x29104c);}if(_0x903f0e==='pollCreationMessage'||_0x903f0e==='pollCreationMessageV2'||_0x903f0e===_0x109c02(0x37c)){let _0xa505dc=_0x2d0605[_0x109c02(0x50d)][_0x109c02(0x393)](_0x4d0652=>_0x4d0652[_0x109c02(0x561)])['join']('|');_0x6615c[_0x109c02(0x1bf)]=_0xa505dc;}let _0x3f81d4=_0x2d0605[_0x109c02(0x382)]||_0x2d0605[_0x109c02(0x65d)]||_0x2d0605['conversation']||_0x2d0605['displayName'];if(_0x2d0605[_0x109c02(0x45e)]){let _0x41ecec=this[_0x109c02(0x397)](JSON['stringify'](_0x2d0605[_0x109c02(0x45e)],null,0x2));_0x3f81d4=_0x3f81d4+'\x0a'+_0x41ecec;}if(_0x2d0605){let {displayName:_0x1f8e3f,vcard:_0x10c1fa,contactVcard:_0x363a0d,name:_0x3d3ff6,caption:_0x13d1eb,conversation:_0x4f023a,pollCreationMessageKey:_0xc1b7ac,footerText:_0x483903,contentText:_0x268aec,pageCount:_0x2f93a6,headerType:_0x460b22,isAvatar:_0x3a24ba,isAnimated:_0x59cda0,fallbackLc:_0x2f4cb1,fallbackLg:_0xddc382,namespace:_0x1563b8,elementName:_0x29ca89,localizableParams:_0x5ac4b9,viewOnce:_0x4babfe,height:_0x385dbc,width:_0x518f85,key:_0x518571,firstScanLength:_0x4d4f35,firstScanSidecar:_0x10faa5,gifPlayback:_0x4784a7,gifAttribution:_0x4fbb5e,midQualityFileSha256:_0x562bbe,scansSidecar:_0x320a36,streamingSidecar:_0x5df421,thumbnailHeight:_0x2914a1,thumbnailWidth:_0x21ef67,thumbnailEncSha256:_0x15c49c,thumbnailDirectPath:_0x2a3d19,canonicalUrl:_0xb13f80,matchedText:_0x17d18a,previewType:_0x2461bc,thumbnailSha256:_0x59c8fb,deviceListMetadataVersion:_0x53f5cf,inviteLinkGroupTypeV2:_0x5a8452,interactiveAnnotations:_0x244617,scanLengths:_0xcbd4c5,jpegThumbnail:_0x568a09,url:_0x5aaa41,mediaKeyTimestamp:_0xb1568c,waveform:_0x64c266,stickerSentTs:_0x2538a9,firstFrameLength:_0x3a6e79,fileEncSha256:_0x45f73f,contextInfo:_0x184387,firstFrameSidecar:_0x4a9639,directPath:_0x413b7c,fileSha256:_0x570d64,mediaKey:_0x25de4e,senderTimestampMs:_0x3d104b,..._0x6527b1}=_0x2d0605;typeof _0x2d0605==_0x109c02(0x55f)?_0x6615c={'text':_0x2d0605,'type':_0x903f0e||'conversation',..._0x4e8f99&&{'edited':_0x4e8f99},..._0x171c7c&&{'quoted':_0x171c7c},..._0x1243be&&{'reaction':_0x1243be}}:_0x6615c={'text':_0x3f81d4,..._0x6527b1,..._0x903f0e===_0x109c02(0x595)?{'poll_id':_0x2d0605[_0x109c02(0x700)]['id'],'vote':_0x509e76}:{},'type':_0x903f0e,..._0x4e8f99&&{'edited':_0x4e8f99},..._0x171c7c&&{'quoted':_0x171c7c},..._0x1243be&&{'reaction':_0x1243be},...(_0x903f0e===_0x109c02(0x2ba)||_0x903f0e==='pollCreationMessageV2'||_0x903f0e==='pollCreationMessageV3')&&{'convertedOptions':_0x6615c[_0x109c02(0x1bf)]}};}return{'messageType':_0x903f0e,'messageContent':_0x2d0605,'message_normalized':_0x6615c};},this['processingScheduleMessageId']=null,this[_0x10d566(0x268)]=0x0,(this['cleanStore'](),this['instance'][_0x10d566(0x29f)]={'count':0x0});}set[a0_0x596428(0x28a)](_0x52540a){const _0x30732d=a0_0x596428;if(!_0x52540a){this[_0x30732d(0x1f1)][_0x30732d(0x382)]=(0x0,Xa['v4'])();return;}this[_0x30732d(0x1f1)][_0x30732d(0x382)]=_0x52540a,this[_0x30732d(0x66d)]('status.instance',{'instance':this['instance'][_0x30732d(0x382)],'status':_0x30732d(0x324)});}get[a0_0x596428(0x28a)](){const _0x44b6=a0_0x596428;return this[_0x44b6(0x1f1)]['name'];}get[a0_0x596428(0x694)](){const _0x5b8df1=a0_0x596428;return this[_0x5b8df1(0x1f1)][_0x5b8df1(0x694)];}async['getProfileName'](){const _0x391b27=a0_0x596428;let _0xe4b60a=this[_0x391b27(0x6eb)]['user']?.['name']??this[_0x391b27(0x6eb)][_0x391b27(0x4fc)]?.['verifiedName'];if(!_0xe4b60a){if(this[_0x391b27(0x6d5)]['get'](_0x391b27(0x653))[_0x391b27(0x404)]){let _0x3e0604=await M[_0x391b27(0x43d)]()['db'](this[_0x391b27(0x6d5)][_0x391b27(0x342)](_0x391b27(0x653))[_0x391b27(0x2bc)][_0x391b27(0x1f6)]+'-instances')[_0x391b27(0x213)](this['instanceName'])['findOne']({'_id':_0x391b27(0x1e4)});if(_0x3e0604){let _0x588f0b=JSON[_0x391b27(0x52b)](JSON[_0x391b27(0x35c)](_0x3e0604),w[_0x391b27(0x280)][_0x391b27(0x3b6)]);_0xe4b60a=_0x588f0b['me']?.['name']||_0x588f0b['me']?.[_0x391b27(0x6b6)];}}else{if((0x0,Te[_0x391b27(0x357)])((0x0,$[_0x391b27(0x72f)])(V,this[_0x391b27(0x28a)],_0x391b27(0x48d)))){let _0x5e2bf8=JSON[_0x391b27(0x52b)]((0x0,Te['readFileSync'])((0x0,$[_0x391b27(0x72f)])(V,this['instanceName'],_0x391b27(0x48d)),{'encoding':_0x391b27(0x2e7)}));_0xe4b60a=_0x5e2bf8['me']?.[_0x391b27(0x382)]||_0x5e2bf8['me']?.[_0x391b27(0x6b6)];}}}return _0xe4b60a;}get[a0_0x596428(0x279)](){const _0x49c5d6=a0_0x596428;return this[_0x49c5d6(0x1f1)][_0x49c5d6(0x279)];}get[a0_0x596428(0x264)](){const _0xec2d16=a0_0x596428;return{'code':this[_0xec2d16(0x1f1)][_0xec2d16(0x29f)]?.[_0xec2d16(0x4a6)],'base64':this['instance'][_0xec2d16(0x29f)]?.[_0xec2d16(0x308)]};}async[a0_0x596428(0x463)](){const _0x1cabee=a0_0x596428;let _0x36870c=await this[_0x1cabee(0x1fe)][_0x1cabee(0x1cf)][_0x1cabee(0x266)](this[_0x1cabee(0x28a)]);this[_0x1cabee(0x6a3)][_0x1cabee(0x1fc)]=_0x36870c?.[_0x1cabee(0x1fc)],this[_0x1cabee(0x6a3)]['enabled']=_0x36870c?.[_0x1cabee(0x5a5)],this['localWebhook'][_0x1cabee(0x6fc)]=_0x36870c?.[_0x1cabee(0x6fc)],this[_0x1cabee(0x6a3)]['STATUS_INSTANCE']=_0x36870c?.[_0x1cabee(0x2e4)],this[_0x1cabee(0x6a3)][_0x1cabee(0x544)]=_0x36870c?.[_0x1cabee(0x544)],this['localWebhook'][_0x1cabee(0x34d)]=_0x36870c?.[_0x1cabee(0x34d)],this[_0x1cabee(0x6a3)]['MESSAGES_UPSERT']=_0x36870c?.[_0x1cabee(0x51a)],this['localWebhook'][_0x1cabee(0x3a5)]=_0x36870c?.[_0x1cabee(0x3a5)],this['localWebhook'][_0x1cabee(0x60f)]=_0x36870c?.[_0x1cabee(0x60f)],this['localWebhook']['GROUPS_UPDATE']=_0x36870c?.[_0x1cabee(0x3d2)],this[_0x1cabee(0x6a3)][_0x1cabee(0x672)]=_0x36870c?.[_0x1cabee(0x672)],this['localWebhook'][_0x1cabee(0x3f8)]=_0x36870c?.[_0x1cabee(0x3f8)],this[_0x1cabee(0x6a3)][_0x1cabee(0x29c)]=_0x36870c?.[_0x1cabee(0x29c)],this[_0x1cabee(0x6a3)][_0x1cabee(0x40c)]=_0x36870c?.['CHATS_UPDATE'],this[_0x1cabee(0x6a3)]['CHATS_DELETE']=_0x36870c?.[_0x1cabee(0x17e)],this[_0x1cabee(0x6a3)][_0x1cabee(0x461)]=_0x36870c?.[_0x1cabee(0x461)],this[_0x1cabee(0x6a3)][_0x1cabee(0x401)]=_0x36870c?.[_0x1cabee(0x401)],this[_0x1cabee(0x6a3)][_0x1cabee(0x2c0)]=_0x36870c?.['CONTACTS_UPDATE'],this[_0x1cabee(0x6a3)][_0x1cabee(0x63e)]=_0x36870c?.[_0x1cabee(0x63e)],this[_0x1cabee(0x6a3)]['MESSAGES_SET']=_0x36870c?.['MESSAGES_SET'],this[_0x1cabee(0x6a3)]['CONNECTION_UPDATE']=_0x36870c?.['CONNECTION_UPDATE'],this[_0x1cabee(0x6a3)][_0x1cabee(0x34b)]=_0x36870c?.['groups_ignore'];}async[a0_0x596428(0x497)](_0x28e7f7){const _0x714a2f=a0_0x596428;let _0x9f8ac7=[_0x714a2f(0x19f),'url',_0x714a2f(0x5a5),'local_map',_0x714a2f(0x2e4),_0x714a2f(0x544),_0x714a2f(0x3a5),_0x714a2f(0x51a),_0x714a2f(0x34d),'GROUPS_UPSERT','GROUPS_UPDATE',_0x714a2f(0x672),'CHATS_SET',_0x714a2f(0x29c),_0x714a2f(0x40c),_0x714a2f(0x17e),_0x714a2f(0x461),_0x714a2f(0x401),'CONTACTS_UPDATE',_0x714a2f(0x63e),_0x714a2f(0x481),_0x714a2f(0x564),_0x714a2f(0x34b)],_0x146c6e={};return _0x9f8ac7[_0x714a2f(0x571)](_0x1bd65b=>{_0x28e7f7[_0x1bd65b]!==void 0x0&&(_0x146c6e[_0x1bd65b]=_0x28e7f7[_0x1bd65b]);}),await this[_0x714a2f(0x1fe)][_0x714a2f(0x1cf)][_0x714a2f(0x503)](_0x146c6e,this[_0x714a2f(0x28a)]),Object['assign'](this[_0x714a2f(0x6a3)],_0x146c6e),await this['repository'][_0x714a2f(0x1cf)][_0x714a2f(0x266)](this[_0x714a2f(0x28a)]);}async[a0_0x596428(0x637)](){const _0x1dbc35=a0_0x596428;return await this['repository'][_0x1dbc35(0x1cf)][_0x1dbc35(0x266)](this[_0x1dbc35(0x28a)]);}async[a0_0x596428(0x66d)](_0x3ade5f,_0x4991ff){const _0xb485cb=a0_0x596428;let _0x4e1f17=this[_0xb485cb(0x6d5)][_0xb485cb(0x342)](_0xb485cb(0x35d)),_0x17f1e8=_0x3ade5f[_0xb485cb(0x527)](/[\.-]/gm,'_')[_0xb485cb(0x553)](),_0x10cc55=this[_0xb485cb(0x6a3)][_0xb485cb(0x5a5)]&&(0x0,O['isURL'])(this['localWebhook'][_0xb485cb(0x1fc)])?this[_0xb485cb(0x6a3)][_0xb485cb(0x1fc)]+(this['localWebhook']['local_map']?this[_0xb485cb(0x2f8)][_0x3ade5f]:''):null,_0x3dd181=_0x4e1f17?.[_0xb485cb(0x4a9)],_0x5234e7=_0x3dd181&&_0x3dd181?.[_0xb485cb(0x404)]&&(0x0,O[_0xb485cb(0x30c)])(_0x3dd181['URL'])?_0x3dd181['URL']+(_0x4e1f17['WEBHOOK_MAP']?this[_0xb485cb(0x2f8)][_0x3ade5f]:''):null,_0x427d88=this[_0xb485cb(0x6a3)][_0x17f1e8],_0x4a1f91=_0x4e1f17?.[_0xb485cb(0x40b)]?.[_0x17f1e8];if(_0x427d88&&_0x10cc55)try{await ce['default']['create']({'baseURL':_0x10cc55})[_0xb485cb(0x560)]('',{'event':_0x3ade5f,'instance':this[_0xb485cb(0x1f1)][_0xb485cb(0x382)],'data':_0x4991ff}),this[_0xb485cb(0x1d3)]['log'](_0xb485cb(0x1bb)+_0x3ade5f+':\x20'+_0x10cc55);}catch(_0x56b3b9){this[_0xb485cb(0x1d3)]['error'](this['instanceName']+'\x20('+this[_0xb485cb(0x1f1)][_0xb485cb(0x694)]+_0xb485cb(0x6e6)+{'local':c[_0xb485cb(0x382)]+_0xb485cb(0x1f5),'message':_0x56b3b9?.['message'],'hostName':_0x56b3b9?.[_0xb485cb(0x6b8)],'syscall':_0x56b3b9?.[_0xb485cb(0x5c4)],'code':_0x56b3b9?.[_0xb485cb(0x4a6)],'error':_0x56b3b9?.[_0xb485cb(0x5c8)],'stack':_0x56b3b9?.[_0xb485cb(0x53c)],'name':_0x56b3b9?.[_0xb485cb(0x382)]});}if(_0x4a1f91&&_0x5234e7)try{await ce[_0xb485cb(0x3ea)][_0xb485cb(0x503)]({'baseURL':_0x5234e7})[_0xb485cb(0x560)]('',{'event':_0x3ade5f,'instance':this['instance'][_0xb485cb(0x382)],'data':_0x4991ff}),this[_0xb485cb(0x1d3)]['log'](_0xb485cb(0x25f)+_0x3ade5f+':\x20'+_0x5234e7);}catch(_0x3f625b){this[_0xb485cb(0x1d3)][_0xb485cb(0x244)](this[_0xb485cb(0x28a)]+'\x20('+this[_0xb485cb(0x1f1)][_0xb485cb(0x694)]+'):\x20'+{'local':c[_0xb485cb(0x382)]+_0xb485cb(0x1b6),'message':_0x3f625b?.['message'],'hostName':_0x3f625b?.['hostname'],'syscall':_0x3f625b?.['syscall'],'code':_0x3f625b?.[_0xb485cb(0x4a6)],'error':_0x3f625b?.[_0xb485cb(0x5c8)],'stack':_0x3f625b?.[_0xb485cb(0x53c)],'name':_0x3f625b?.[_0xb485cb(0x382)]});}}async[a0_0x596428(0x3bd)]({qr:_0x23a47a,connection:_0x9e37f3,lastDisconnect:_0x153a42}){const _0x1c9b97=a0_0x596428;if(_0x23a47a){if(this[_0x1c9b97(0x1f1)][_0x1c9b97(0x29f)][_0x1c9b97(0x39f)]===this[_0x1c9b97(0x6d5)][_0x1c9b97(0x342)](_0x1c9b97(0x3fd))['LIMIT'])return this[_0x1c9b97(0x66d)]('qrcode.updated',{'message':_0x1c9b97(0x43a),'statusCode':w[_0x1c9b97(0x5d6)]['badSession']}),this['sendDataWebhook'](_0x1c9b97(0x361),{'instance':this[_0x1c9b97(0x1f1)][_0x1c9b97(0x382)],'state':_0x1c9b97(0x6a1),'statusReason':w['DisconnectReason'][_0x1c9b97(0x61b)]}),this[_0x1c9b97(0x66d)]('status.instance',{'instance':this[_0x1c9b97(0x1f1)][_0x1c9b97(0x382)],'status':_0x1c9b97(0x33d)}),this[_0x1c9b97(0x47b)]=!0x0,this[_0x1c9b97(0x6c3)][_0x1c9b97(0x551)](_0x1c9b97(0x4c3),this[_0x1c9b97(0x1f1)][_0x1c9b97(0x382)]);this['instance'][_0x1c9b97(0x29f)]['count']++;let _0x18863c={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x1c9b97(0x536),'dark':_0x1c9b97(0x1f0)}};Za[_0x1c9b97(0x3ea)]['toDataURL'](_0x23a47a,_0x18863c,(_0x4a03b4,_0x25d124)=>{const _0xa3df3=_0x1c9b97;if(_0x4a03b4){this[_0xa3df3(0x1d3)][_0xa3df3(0x244)](this[_0xa3df3(0x28a)]+'\x20('+this[_0xa3df3(0x1f1)][_0xa3df3(0x694)]+_0xa3df3(0x6bd)+_0x4a03b4[_0xa3df3(0x1af)]());return;}this[_0xa3df3(0x1f1)]['qrcode']['base64']=_0x25d124,this['instance'][_0xa3df3(0x29f)][_0xa3df3(0x4a6)]=_0x23a47a,this['sendDataWebhook']('qrcode.updated',{'qrcode':{'instance':this[_0xa3df3(0x1f1)]['name'],'code':_0x23a47a,'base64':_0x25d124}});}),eo[_0x1c9b97(0x3ea)][_0x1c9b97(0x4f8)](_0x23a47a,{'small':!0x0},_0x5cc92b=>this[_0x1c9b97(0x1d3)][_0x1c9b97(0x208)]('\x0a{\x20instance:\x20'+this[_0x1c9b97(0x1f1)][_0x1c9b97(0x382)]+',\x20qrcodeCount:\x20'+this[_0x1c9b97(0x1f1)][_0x1c9b97(0x29f)][_0x1c9b97(0x39f)]+_0x1c9b97(0x643)+_0x5cc92b));}if(_0x9e37f3&&(this['stateConnection']={'state':_0x9e37f3,'statusReason':_0x153a42?.['error']?.[_0x1c9b97(0x214)]?.[_0x1c9b97(0x6b3)]??0xc8},this['sendDataWebhook'](_0x1c9b97(0x361),{'instance':this[_0x1c9b97(0x1f1)]['name'],...this[_0x1c9b97(0x408)]})),_0x9e37f3===_0x1c9b97(0x4b7)){if(this['reconnectAttempts']++,this[_0x1c9b97(0x3d6)][_0x1c9b97(0x66c)](Date['now']()),this[_0x1c9b97(0x3d6)]=this[_0x1c9b97(0x3d6)]['filter'](_0x3f39e3=>Date['now']()-_0x3f39e3<this['RECONNECT_TIME_FRAME']),_0x153a42[_0x1c9b97(0x244)]?.[_0x1c9b97(0x214)]?.['statusCode']!==w['DisconnectReason']['loggedOut']&&this[_0x1c9b97(0x3d6)][_0x1c9b97(0x708)]<=this[_0x1c9b97(0x68a)])await this[_0x1c9b97(0x5ff)]();else{this[_0x1c9b97(0x66d)](_0x1c9b97(0x38f),{'instance':this[_0x1c9b97(0x1f1)][_0x1c9b97(0x382)],'status':_0x1c9b97(0x33d)}),this['isConnected']=!0x1;try{this[_0x1c9b97(0x1d3)][_0x1c9b97(0x327)](this['instanceName']+'\x20('+this[_0x1c9b97(0x1f1)][_0x1c9b97(0x694)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x535f45=await this[_0x1c9b97(0x1fe)][_0x1c9b97(0x56b)][_0x1c9b97(0x2b3)](this[_0x1c9b97(0x1f1)][_0x1c9b97(0x694)]);_0x535f45['success']?this[_0x1c9b97(0x1d3)][_0x1c9b97(0x327)](this[_0x1c9b97(0x28a)]+'\x20('+this[_0x1c9b97(0x1f1)][_0x1c9b97(0x694)]+_0x1c9b97(0x381)):console['error'](_0x1c9b97(0x3aa),_0x535f45[_0x1c9b97(0x244)]);}catch(_0x4e7488){console[_0x1c9b97(0x244)](_0x1c9b97(0x442),_0x4e7488);}this[_0x1c9b97(0x4c1)]!==null&&(this[_0x1c9b97(0x1d3)][_0x1c9b97(0x327)](this[_0x1c9b97(0x28a)]+'\x20('+this[_0x1c9b97(0x1f1)][_0x1c9b97(0x694)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x1c9b97(0x4c1)]),this[_0x1c9b97(0x4c1)]=null),this[_0x1c9b97(0x1d3)][_0x1c9b97(0x327)](this[_0x1c9b97(0x28a)]+'\x20('+this[_0x1c9b97(0x1f1)][_0x1c9b97(0x694)]+_0x1c9b97(0x58f)),this['AutomateSystem']=null,this[_0x1c9b97(0x6c3)][_0x1c9b97(0x551)]('remove.instance',this[_0x1c9b97(0x1f1)][_0x1c9b97(0x382)],_0x1c9b97(0x57d)),this[_0x1c9b97(0x6eb)]?.['ws']?.['close'](),this[_0x1c9b97(0x6eb)][_0x1c9b97(0x6ba)](new Error(_0x1c9b97(0x5a0)));}}if(_0x9e37f3===_0x1c9b97(0x1b4)){this[_0x1c9b97(0x6a4)],this[_0x1c9b97(0x1f1)][_0x1c9b97(0x694)]=this[_0x1c9b97(0x6eb)]['user']['id'][_0x1c9b97(0x527)](/:\d+/,'')[_0x1c9b97(0x527)]('@s.whatsapp.net',''),this[_0x1c9b97(0x1f1)][_0x1c9b97(0x279)]=(await this[_0x1c9b97(0x5fb)](this[_0x1c9b97(0x1f1)]['wuid']+_0x1c9b97(0x498)))[_0x1c9b97(0x279)];let _0x5c6cab='Número:\x20'+this['instance'][_0x1c9b97(0x694)],_0x669cc1=0x28,_0x156f14=Math[_0x1c9b97(0x4e8)]((_0x669cc1-_0x5c6cab[_0x1c9b97(0x708)])/0x2),_0x180298='\x20'[_0x1c9b97(0x3d8)](_0x156f14),_0x49a2e6=_0x1c9b97(0x56e),_0x2d9bcd=_0x1c9b97(0x25e)+this[_0x1c9b97(0x1f1)]['name'],_0x3213b9=(''+_0x180298+_0x5c6cab+_0x180298)['padEnd'](_0x669cc1,'\x20'),_0x282979=(''+_0x180298+_0x49a2e6+_0x180298)[_0x1c9b97(0x19d)](_0x669cc1,'\x20'),_0x229c1e=(''+_0x180298+_0x2d9bcd+_0x180298)[_0x1c9b97(0x19d)](_0x669cc1,'\x20'),_0xc615b9=Math[_0x1c9b97(0x5e2)](_0x3213b9[_0x1c9b97(0x708)],_0x282979[_0x1c9b97(0x708)],_0x229c1e['length']),_0x559c10=_0x3213b9[_0x1c9b97(0x19d)](_0xc615b9,'\x20'),_0x10baf6=_0x282979[_0x1c9b97(0x19d)](_0xc615b9,'\x20'),_0x3f641c=_0x229c1e['padEnd'](_0xc615b9,'\x20');this['logger'][_0x1c9b97(0x36e)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'[_0x1c9b97(0x3d8)](_0xc615b9)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x10baf6+_0x1c9b97(0x354)+_0x3f641c+_0x1c9b97(0x354)+_0x559c10+_0x1c9b97(0x414)+'─'[_0x1c9b97(0x3d8)](_0xc615b9)+'┘')[_0x1c9b97(0x527)](/^ +/gm,'\x20\x20')),this[_0x1c9b97(0x2c4)](),this[_0x1c9b97(0x59a)]=!0x0;}}[a0_0x596428(0x6a4)](){const _0x254832=a0_0x596428;this[_0x254832(0x1f9)]=0x0,this[_0x254832(0x3d6)]=[];}async[a0_0x596428(0x464)](_0x47e018,_0x22a51a=!0x1){const _0x3945f5=a0_0x596428;try{let _0xec0722=await this[_0x3945f5(0x1fe)][_0x3945f5(0x56b)][_0x3945f5(0x266)]({'where':{'owner':this[_0x3945f5(0x1f1)][_0x3945f5(0x694)],'_id':_0x47e018['id']}});return _0x22a51a?_0xec0722[0x0]:_0xec0722[0x0][_0x3945f5(0x56b)];}catch{return{'conversation':''};}}[a0_0x596428(0x36d)](){const _0x3deec2=a0_0x596428;let _0x565c00=this[_0x3deec2(0x6d5)][_0x3deec2(0x342)](_0x3deec2(0x457)),_0x12add3=this[_0x3deec2(0x6d5)][_0x3deec2(0x342)](_0x3deec2(0x653));_0x565c00?.[_0x3deec2(0x2a7)]&&!_0x12add3[_0x3deec2(0x404)]&&setInterval(()=>{const _0x3ca8eb=_0x3deec2;try{for(let [_0x1bc57d,_0x3bd854]of Object[_0x3ca8eb(0x6fe)](_0x565c00))_0x3bd854===!0x0&&(0x0,Dt[_0x3ca8eb(0x362)])(_0x3ca8eb(0x5bb)+(0x0,$[_0x3ca8eb(0x72f)])(this['storePath'],_0x1bc57d['toLowerCase'](),this[_0x3ca8eb(0x1f1)][_0x3ca8eb(0x694)])+_0x3ca8eb(0x43e));}catch{}},(_0x565c00?.[_0x3deec2(0x2a7)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x4ab421=a0_0x596428;let _0x1feffa=this[_0x4ab421(0x6d5)][_0x4ab421(0x342)](_0x4ab421(0x653)),_0x2654be=this[_0x4ab421(0x6d5)]['get'](_0x4ab421(0x6e8));return _0x2654be?.[_0x4ab421(0x404)]?await ds(_0x2654be,this['instance'][_0x4ab421(0x382)]):_0x1feffa['ENABLED']?await us(this['instance'][_0x4ab421(0x382)]):await(0x0,w['useMultiFileAuthState'])((0x0,$['join'])(V,this[_0x4ab421(0x1f1)][_0x4ab421(0x382)]));}async[a0_0x596428(0x2c4)](){const _0x200c2b=a0_0x596428;let _0x137f8c=()=>Math[_0x200c2b(0x4e8)](Math[_0x200c2b(0x4ee)]()*0x2711)+0x7d0,_0x485bcc=async()=>{const _0xaa5d0c=_0x200c2b;if(!this[_0xaa5d0c(0x59a)]){this[_0xaa5d0c(0x1d3)][_0xaa5d0c(0x327)](_0xaa5d0c(0x6cf)),this[_0xaa5d0c(0x218)]=!0x1;return;}if(this[_0xaa5d0c(0x1f1)]['wuid']&&this[_0xaa5d0c(0x3c3)]&&this['delayMessage']!==null&&this[_0xaa5d0c(0x4c1)]!==void 0x0){let _0x3f65f9=Math[_0xaa5d0c(0x23e)](this[_0xaa5d0c(0x4c1)]/0xea60);this[_0xaa5d0c(0x1d3)][_0xaa5d0c(0x327)](this[_0xaa5d0c(0x28a)]+'\x20('+this[_0xaa5d0c(0x1f1)]['wuid']+_0xaa5d0c(0x4d5)+_0x3f65f9+_0xaa5d0c(0x2d9)),this[_0xaa5d0c(0x218)]=!0x1;return;}else this[_0xaa5d0c(0x1f1)][_0xaa5d0c(0x694)]&&(this[_0xaa5d0c(0x1d3)][_0xaa5d0c(0x327)](this[_0xaa5d0c(0x28a)]+'\x20('+this['instance'][_0xaa5d0c(0x694)]+_0xaa5d0c(0x427)),this[_0xaa5d0c(0x3c3)]||await this[_0xaa5d0c(0x299)](),(this['delayMessage']===null||this[_0xaa5d0c(0x4c1)]===void 0x0)&&await this['scheduleNextCheck']());if(this[_0xaa5d0c(0x218)]){let _0x521740=_0x137f8c();this['logger'][_0xaa5d0c(0x327)](this[_0xaa5d0c(0x28a)]+_0xaa5d0c(0x37a)+_0x521740/0x3e8+_0xaa5d0c(0x6e7)),setTimeout(_0x485bcc,_0x521740);}};if(this[_0x200c2b(0x218)])return;this[_0x200c2b(0x218)]=!0x0;let _0x61dbf4=_0x137f8c();setTimeout(_0x485bcc,_0x61dbf4);}async[a0_0x596428(0x5ff)](){const _0x49ba49=a0_0x596428;try{this[_0x49ba49(0x463)](),this[_0x49ba49(0x1f1)][_0x49ba49(0x1e2)]=await this[_0x49ba49(0x345)]();let {version:_0x32db80}=await(0x0,w[_0x49ba49(0x298)])(),_0x1cbd51=this[_0x49ba49(0x6d5)][_0x49ba49(0x342)](_0x49ba49(0x5d7)),_0x70e6e1=[_0x1cbd51[_0x49ba49(0x330)],_0x1cbd51['NAME'],(0x0,to[_0x49ba49(0x54b)])()],_0x310bdb={'auth':{'creds':this[_0x49ba49(0x1f1)][_0x49ba49(0x1e2)][_0x49ba49(0x1c3)][_0x49ba49(0x1e4)],'keys':(0x0,w[_0x49ba49(0x3ed)])(this[_0x49ba49(0x1f1)][_0x49ba49(0x1e2)][_0x49ba49(0x1c3)][_0x49ba49(0x678)],(0x0,Rt[_0x49ba49(0x3ea)])({'level':_0x49ba49(0x244)}))},'logger':(0x0,Rt[_0x49ba49(0x3ea)])({'level':_0x49ba49(0x244)}),'printQRInTerminal':!0x1,'browser':_0x70e6e1,'version':_0x32db80,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x49ba49(0x733)],'getMessage':async _0x6fb84e=>await this[_0x49ba49(0x464)](_0x6fb84e),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x0,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending':_0x4ac9cc=>(!!(_0x4ac9cc[_0x49ba49(0x309)]||_0x4ac9cc['listMessage'])&&(_0x4ac9cc={'viewOnceMessageV2':{'message':{'messageContextInfo':{'deviceListMetadataVersion':0x2,'deviceListMetadata':{}},..._0x4ac9cc}}}),_0x4ac9cc)};return this[_0x49ba49(0x47b)]=!0x1,this[_0x49ba49(0x6eb)]=(0x0,w[_0x49ba49(0x3ea)])(_0x310bdb),this['eventHandler'](),this['client'];}catch(_0x406d6a){throw this[_0x49ba49(0x1d3)][_0x49ba49(0x244)](this[_0x49ba49(0x28a)]+'\x20('+this[_0x49ba49(0x1f1)][_0x49ba49(0x694)]+_0x49ba49(0x6e6)+_0x406d6a),new A(_0x406d6a?.[_0x49ba49(0x1af)]());}}[a0_0x596428(0x45a)](){const _0x320d8e=a0_0x596428;this[_0x320d8e(0x6eb)]['ev'][_0x320d8e(0x2c2)](_0x5eb9fc=>{const _0x261c9d=_0x320d8e;if(!this['endSession']){let _0x20ee25=this[_0x261c9d(0x6d5)][_0x261c9d(0x342)]('DATABASE');if(_0x5eb9fc[_0x261c9d(0x361)]&&this[_0x261c9d(0x3bd)](_0x5eb9fc[_0x261c9d(0x361)]),_0x5eb9fc['creds.update']&&this[_0x261c9d(0x1f1)][_0x261c9d(0x1e2)][_0x261c9d(0x699)](),_0x5eb9fc[_0x261c9d(0x6ac)]){let _0x411f12=_0x5eb9fc['messaging-history.set'];this[_0x261c9d(0x35e)][_0x261c9d(0x6ac)](_0x411f12,_0x20ee25);}if(_0x5eb9fc[_0x261c9d(0x499)]){let _0xa1de2f=_0x5eb9fc[_0x261c9d(0x499)];this[_0x261c9d(0x35e)]['messages.upsert'](_0xa1de2f,_0x20ee25);}if(_0x5eb9fc[_0x261c9d(0x24e)]){let _0x33e8fd=_0x5eb9fc[_0x261c9d(0x24e)];this['messageHandle'][_0x261c9d(0x24e)](_0x33e8fd,_0x20ee25);}if(_0x5eb9fc[_0x261c9d(0x5c5)]){let _0x44b43d=_0x5eb9fc[_0x261c9d(0x5c5)];if(this[_0x261c9d(0x6a3)]?.[_0x261c9d(0x34b)]&&_0x44b43d['id'][_0x261c9d(0x739)](_0x261c9d(0x24a)))return;this[_0x261c9d(0x66d)](_0x261c9d(0x5c5),_0x44b43d);}if(!this[_0x261c9d(0x6a3)]?.['groups_ignore']){if(_0x5eb9fc[_0x261c9d(0x418)]){let _0x2f3090=_0x5eb9fc[_0x261c9d(0x418)];this['groupHandler'][_0x261c9d(0x418)](_0x2f3090);}if(_0x5eb9fc[_0x261c9d(0x618)]){let _0x293dd4=_0x5eb9fc[_0x261c9d(0x618)];this[_0x261c9d(0x28b)]['groups.update'](_0x293dd4);}if(_0x5eb9fc[_0x261c9d(0x3c7)]){let _0x50354a=_0x5eb9fc[_0x261c9d(0x3c7)];this[_0x261c9d(0x28b)][_0x261c9d(0x3c7)](_0x50354a);}}if(_0x5eb9fc[_0x261c9d(0x4e4)]){let _0x556ef4=_0x5eb9fc[_0x261c9d(0x4e4)];this[_0x261c9d(0x323)][_0x261c9d(0x4e4)](_0x556ef4,_0x20ee25);}if(_0x5eb9fc[_0x261c9d(0x4c9)]){let _0x4cd49e=_0x5eb9fc['chats.update'];this[_0x261c9d(0x323)][_0x261c9d(0x4c9)](_0x4cd49e,_0x20ee25);}if(_0x5eb9fc[_0x261c9d(0x62b)]){let _0x538e33=_0x5eb9fc[_0x261c9d(0x62b)];this[_0x261c9d(0x323)]['chats.delete'](_0x538e33);}if(_0x5eb9fc[_0x261c9d(0x54c)]){let _0x133413=_0x5eb9fc[_0x261c9d(0x54c)];this[_0x261c9d(0x592)][_0x261c9d(0x54c)](_0x133413,_0x20ee25);}if(_0x5eb9fc['contacts.update']){let _0x4f45a5=_0x5eb9fc[_0x261c9d(0x5fa)];this['contactHandle'][_0x261c9d(0x5fa)](_0x4f45a5,_0x20ee25);}}});}[a0_0x596428(0x4f1)](_0x13ff67){const _0x55c06a=a0_0x596428;let _0x4f15d2=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x55c06a(0x597)](_0x13ff67);if(_0x4f15d2&&_0x4f15d2[0x1]==='55'){let _0x25c3d1=_0x4f15d2[0x2],_0x4dc82a=_0x4f15d2[0x3],_0xf6ae2d=_0x4f15d2[0x4];if(_0x25c3d1>='31'&&_0x4dc82a==='9')return _0x4f15d2[0x1]+_0x25c3d1+_0xf6ae2d;}return _0x13ff67;}[a0_0x596428(0x1ad)](_0x47a1e3){const _0x550616=a0_0x596428;return _0x47a1e3['includes']('@g.us')||_0x47a1e3[_0x550616(0x739)]('@s.whatsapp.net')||_0x47a1e3[_0x550616(0x739)](_0x550616(0x711))?_0x47a1e3:(_0x47a1e3=_0x47a1e3?.[_0x550616(0x527)](/\s/g,'')[_0x550616(0x527)](/\+/g,'')[_0x550616(0x527)](/\(/g,'')['replace'](/\)/g,'')['split'](/\:/)[0x0][_0x550616(0x633)]('@')[0x0],_0x47a1e3[_0x550616(0x708)]>=0x12?(_0x47a1e3=_0x47a1e3['replace'](/[^\d-]/g,''),_0x47a1e3+'@g.us'):(_0x47a1e3=_0x47a1e3[_0x550616(0x527)](/\D/g,''),this[_0x550616(0x4f1)](_0x47a1e3)+'@s.whatsapp.net'));}async[a0_0x596428(0x62f)](_0x11ffbe){const _0x1f818b=a0_0x596428;let _0x13ea8a=this[_0x1f818b(0x1ad)](_0x11ffbe['number']),_0x2cb7ee=(await this[_0x1f818b(0x5a2)]({'numbers':[_0x13ea8a]}))[0x0];if(!_0x2cb7ee[_0x1f818b(0x3df)]&&!(0x0,w['isJidGroup'])(_0x2cb7ee[_0x1f818b(0x690)]))throw new g(_0x2cb7ee);let _0x302a5d=(0x0,w[_0x1f818b(0x4a8)])(_0x13ea8a)?_0x13ea8a:_0x2cb7ee[_0x1f818b(0x690)];if((0x0,w[_0x1f818b(0x4a8)])(_0x302a5d))try{await this['client']['groupMetadata'](_0x302a5d);}catch{throw new x(_0x1f818b(0x1cd));}try{return await this[_0x1f818b(0x6eb)][_0x1f818b(0x216)](_0x302a5d),await this[_0x1f818b(0x6eb)]['sendPresenceUpdate'](_0x11ffbe[_0x1f818b(0x2db)],_0x13ea8a),{'status':0xc8,'presence':_0x11ffbe[_0x1f818b(0x2db)]};}catch(_0x113b3a){throw new g(_0x113b3a[_0x1f818b(0x1af)]());}}async[a0_0x596428(0x5fb)](_0x5c59db){const _0x271e49=a0_0x596428;let _0x518419=this['createJid'](_0x5c59db);try{return{'wuid':_0x518419,'profilePictureUrl':await this[_0x271e49(0x6eb)][_0x271e49(0x279)](_0x518419,_0x271e49(0x476))};}catch{return{'wuid':_0x518419,'profilePictureUrl':null};}}async[a0_0x596428(0x2c7)](_0x4f0e6b,_0x35245f,_0x2620f6){const _0x35af9c=a0_0x596428;let _0x36402c=(await this[_0x35af9c(0x5a2)]({'numbers':[_0x4f0e6b]}))[0x0];if(!_0x36402c[_0x35af9c(0x3df)]&&!(0x0,w[_0x35af9c(0x4a8)])(_0x36402c[_0x35af9c(0x690)])&&!_0x36402c[_0x35af9c(0x690)][_0x35af9c(0x739)](_0x35af9c(0x711)))throw new g(_0x36402c);let _0x3334a6=_0x36402c[_0x35af9c(0x690)];try{_0x2620f6?.[_0x35af9c(0x647)]&&(await this['client'][_0x35af9c(0x216)](_0x3334a6),await this[_0x35af9c(0x6eb)][_0x35af9c(0x5d5)](_0x2620f6?.[_0x35af9c(0x2db)]??_0x35af9c(0x450),_0x3334a6),await(0x0,w[_0x35af9c(0x647)])(_0x2620f6['delay']),await this[_0x35af9c(0x6eb)][_0x35af9c(0x5d5)](_0x35af9c(0x34c),_0x3334a6));let _0xeaade=_0x2620f6?.[_0x35af9c(0x5d8)]!=!0x1?void 0x0:!0x1,_0x9b7273;if(_0x2620f6?.[_0x35af9c(0x3cc)]){let _0x4668e0=_0x2620f6?.[_0x35af9c(0x3cc)],_0x180804=_0x4668e0?.['message']?_0x4668e0:await this[_0x35af9c(0x464)](_0x4668e0[_0x35af9c(0x40a)],!0x0);if(!_0x180804)throw _0x35af9c(0x508);_0x9b7273=_0x180804;}let _0x2fe99a;if((0x0,w[_0x35af9c(0x4a8)])(_0x3334a6))try{let _0x234477=await this['client'][_0x35af9c(0x1f3)](_0x3334a6);if(!_0x234477)throw new x(_0x35af9c(0x1cd));_0x2620f6?.[_0x35af9c(0x3ce)]&&(_0x2620f6['mentions']?.[_0x35af9c(0x29a)]?_0x2fe99a=_0x234477[_0x35af9c(0x4b6)]['map'](_0x3dc586=>_0x3dc586['id']):_0x2620f6[_0x35af9c(0x3ce)]?.[_0x35af9c(0x407)]?.[_0x35af9c(0x708)]&&(_0x2fe99a=_0x2620f6[_0x35af9c(0x3ce)][_0x35af9c(0x407)][_0x35af9c(0x393)](_0x3f0338=>{const _0x5564e6=_0x35af9c;let _0x5bf796=this[_0x5564e6(0x1ad)](_0x3f0338);return(0x0,w['isJidGroup'])(_0x5bf796)?null:_0x5bf796;})));}catch{throw new x(_0x35af9c(0x1cd));}let _0x2b0f41=await((async()=>{const _0xd6f7a7=_0x35af9c;let _0x3b127f={'quoted':_0x9b7273};if(!_0x35245f[_0xd6f7a7(0x18c)]&&!_0x35245f[_0xd6f7a7(0x3db)]&&!_0x35245f['sticker']&&!_0x35245f['conversation']&&_0x3334a6!==_0xd6f7a7(0x4b9)&&!_0x35245f[_0xd6f7a7(0x18c)])return await this[_0xd6f7a7(0x6eb)]['sendMessage'](_0x3334a6,{'forward':{'key':{'remoteJid':this[_0xd6f7a7(0x1f1)][_0xd6f7a7(0x694)],'fromMe':!0x0},'message':_0x35245f},'mentions':_0x2fe99a},_0x3b127f);if(_0x35245f[_0xd6f7a7(0x685)]){let _0x5ea839=_0x35245f['conversation'];return _0x2620f6?.['changeVariables']&&(_0x5ea839=await this['replaceVariablesChat'](_0x5ea839,_0x3334a6)),await this['client'][_0xd6f7a7(0x20b)](_0x3334a6,{'text':_0x5ea839,'mentions':_0x2fe99a,'linkPreview':_0xeaade},_0x3b127f);}return _0x3334a6===_0xd6f7a7(0x4b9)?await this[_0xd6f7a7(0x6eb)][_0xd6f7a7(0x20b)](_0x3334a6,_0x35245f[_0xd6f7a7(0x2a2)]['content'],{'backgroundColor':_0x35245f['status']['option'][_0xd6f7a7(0x599)],'font':_0x35245f[_0xd6f7a7(0x2a2)]['option'][_0xd6f7a7(0x455)],'statusJidList':_0x35245f[_0xd6f7a7(0x2a2)]['option'][_0xd6f7a7(0x260)]}):await this[_0xd6f7a7(0x6eb)][_0xd6f7a7(0x20b)](_0x3334a6,_0x35245f,_0x3b127f);})()),{message_normalized:_0x3663eb}=this[_0x35af9c(0x660)](_0x2b0f41[_0x35af9c(0x56b)],J(_0x2b0f41[_0x35af9c(0x56b)]),null),_0x2fd27f={'_id':_0x2b0f41['key']['id'],'key':_0x2b0f41[_0x35af9c(0x40a)],'pushName':_0x2b0f41[_0x35af9c(0x388)],'message':{..._0x2b0f41['message']},'messageType':J(_0x2b0f41[_0x35af9c(0x56b)]),'message_normalized':{'key':_0x2b0f41[_0x35af9c(0x40a)],'pushName':_0x2b0f41[_0x35af9c(0x388)],'messageTimestamp':_0x2b0f41[_0x35af9c(0x67c)]&&_0x2b0f41[_0x35af9c(0x67c)][_0x35af9c(0x1af)]()['length']<0xd?_0x2b0f41[_0x35af9c(0x67c)]*0x3e8:_0x2b0f41[_0x35af9c(0x67c)]||null,'source':(0x0,w[_0x35af9c(0x6be)])(_0x2b0f41[_0x35af9c(0x40a)]['id']),..._0x3663eb},'messageTimestamp':_0x2b0f41[_0x35af9c(0x67c)]&&_0x2b0f41[_0x35af9c(0x67c)]['toString']()['length']<0xd?_0x2b0f41[_0x35af9c(0x67c)]*0x3e8:_0x2b0f41[_0x35af9c(0x67c)]||null,'owner':this[_0x35af9c(0x1f1)]['wuid'],'source':(0x0,w[_0x35af9c(0x6be)])(_0x2b0f41[_0x35af9c(0x40a)]['id'])};return this[_0x35af9c(0x1d3)][_0x35af9c(0x208)](_0x2fd27f),await this[_0x35af9c(0x66d)](_0x35af9c(0x5f5),_0x2fd27f),B(this[_0x35af9c(0x28a)],_0x35af9c(0x1ec),{'message':_0x2fd27f}),this[_0x35af9c(0x736)](this[_0x35af9c(0x6d5)][_0x35af9c(0x342)](_0x35af9c(0x653)),_0x2fd27f,_0x35af9c(0x34d)),await this['repository'][_0x35af9c(0x56b)]['insert']([_0x2fd27f]),_0x2b0f41;}catch(_0x2a8e1b){throw this[_0x35af9c(0x1d3)][_0x35af9c(0x244)](this[_0x35af9c(0x28a)]+'\x20('+this[_0x35af9c(0x1f1)][_0x35af9c(0x694)]+_0x35af9c(0x6e6)+_0x2a8e1b[_0x35af9c(0x1af)]()),new g(_0x2a8e1b['toString']());}}get['connectionStatus'](){return this['stateConnection'];}async['textMessage'](_0x40c441){const _0xcdaf3f=a0_0x596428;let _0x21511b=this['configService'][_0xcdaf3f(0x342)](_0xcdaf3f(0x6e3)),_0x372285=this[_0xcdaf3f(0x6d5)][_0xcdaf3f(0x342)](_0xcdaf3f(0x319));return _0x372285&&this['instanceName'][_0xcdaf3f(0x4bf)]()[_0xcdaf3f(0x739)](_0x372285[_0xcdaf3f(0x4bf)]())&&(_0x40c441[_0xcdaf3f(0x3e9)]['text']+='\x0a\x0a'+_0x21511b),await this[_0xcdaf3f(0x2c7)](_0x40c441[_0xcdaf3f(0x395)],{'conversation':_0x40c441[_0xcdaf3f(0x3e9)][_0xcdaf3f(0x46a)]},_0x40c441?.[_0xcdaf3f(0x50d)]);}async[a0_0x596428(0x680)](_0x289fcd){const _0x3aec9f=a0_0x596428;if(!_0x289fcd[_0x3aec9f(0x394)])throw new g('Type\x20is\x20required');if(!_0x289fcd[_0x3aec9f(0x38a)])throw new g(_0x3aec9f(0x41f));if(_0x289fcd['allContacts']){let _0x298222=await this[_0x3aec9f(0x1fe)][_0x3aec9f(0x451)][_0x3aec9f(0x266)]({'where':{'owner':this['instance'][_0x3aec9f(0x694)]}});if(!_0x298222[_0x3aec9f(0x708)])throw new g(_0x3aec9f(0x287));_0x289fcd[_0x3aec9f(0x260)]=_0x298222[_0x3aec9f(0x364)](_0x50d080=>_0x50d080['pushName'])[_0x3aec9f(0x393)](_0x3e7b98=>_0x3e7b98['_id']);}if(!_0x289fcd['statusJidList']?.[_0x3aec9f(0x708)]&&!_0x289fcd['allContacts'])throw new g(_0x3aec9f(0x590));if(_0x289fcd[_0x3aec9f(0x394)]===_0x3aec9f(0x46a)){if(!_0x289fcd[_0x3aec9f(0x599)])throw new g(_0x3aec9f(0x686));if(!_0x289fcd[_0x3aec9f(0x455)])throw new g('Font\x20is\x20required');return{'content':{'text':_0x289fcd[_0x3aec9f(0x38a)]},'option':{'backgroundColor':_0x289fcd[_0x3aec9f(0x599)],'font':_0x289fcd[_0x3aec9f(0x455)],'statusJidList':_0x289fcd['statusJidList']}};}if(_0x289fcd['type']===_0x3aec9f(0x476))return{'content':{'image':{'url':_0x289fcd[_0x3aec9f(0x38a)]},'caption':_0x289fcd[_0x3aec9f(0x65d)]},'option':{'statusJidList':_0x289fcd['statusJidList']}};if(_0x289fcd[_0x3aec9f(0x394)]==='video')return{'content':{'video':{'url':_0x289fcd[_0x3aec9f(0x38a)]},'caption':_0x289fcd[_0x3aec9f(0x65d)]},'option':{'statusJidList':_0x289fcd['statusJidList']}};if(_0x289fcd[_0x3aec9f(0x394)]===_0x3aec9f(0x18c)){this[_0x3aec9f(0x1d3)][_0x3aec9f(0x327)](_0x3aec9f(0x58a)),this['logger'][_0x3aec9f(0x327)](_0x3aec9f(0x550));let _0x358333=await this[_0x3aec9f(0x6bb)](_0x289fcd[_0x3aec9f(0x38a)]);if(typeof _0x358333==_0x3aec9f(0x55f)){this[_0x3aec9f(0x1d3)][_0x3aec9f(0x327)](_0x3aec9f(0x1e3));let _0x524bf8=P[_0x3aec9f(0x631)](_0x358333)[_0x3aec9f(0x1af)](_0x3aec9f(0x308)),_0x23ef61={'content':{'audio':Buffer[_0x3aec9f(0x2a1)](_0x524bf8,'base64'),'ptt':!0x0,'mimetype':_0x3aec9f(0x35b)},'option':{'statusJidList':_0x289fcd[_0x3aec9f(0x260)]}};return P[_0x3aec9f(0x707)](_0x358333),_0x23ef61;}else throw new A(_0x358333);}throw new g(_0x3aec9f(0x56d));}async[a0_0x596428(0x3c2)](_0x463fbf){const _0x534699=a0_0x596428;return await this[_0x534699(0x2c7)](_0x534699(0x4b9),{'status':await this[_0x534699(0x680)](_0x463fbf[_0x534699(0x3c2)])});}async[a0_0x596428(0x5be)](_0x4ee78e){const _0x28ed06=a0_0x596428;try{let _0x5e5844=await(0x0,w[_0x28ed06(0x50b)])({[_0x4ee78e[_0x28ed06(0x246)]]:(0x0,O['isURL'])(_0x4ee78e[_0x28ed06(0x3e4)])?{'url':_0x4ee78e['media']}:Buffer[_0x28ed06(0x2a1)](_0x4ee78e['media'],'base64')},{'upload':this['client'][_0x28ed06(0x3ba)]}),_0x127e5e=_0x4ee78e['mediatype']+_0x28ed06(0x5aa);if(_0x4ee78e['mediatype']===_0x28ed06(0x728)&&!_0x4ee78e['fileName']){let _0x4d0a6d=new RegExp(/.*\/(.+?)\./)[_0x28ed06(0x597)](_0x4ee78e[_0x28ed06(0x3e4)]);_0x4ee78e['fileName']=_0x4d0a6d?_0x4d0a6d[0x1]:null;}let _0x577a33=(0x0,O[_0x28ed06(0x30c)])(_0x4ee78e[_0x28ed06(0x3e4)])?_0x4ee78e[_0x28ed06(0x3e4)]['split']('?')[0x0]:_0x4ee78e['media'];this[_0x28ed06(0x1d3)]['verbose']('URL\x20limpa:\x20'+_0x577a33);let _0xce77d8;_0x4ee78e['fileName']?_0xce77d8=(0x0,Mt[_0x28ed06(0x62a)])(_0x4ee78e[_0x28ed06(0x5ac)]):(0x0,O[_0x28ed06(0x30c)])(_0x4ee78e['media'])?_0xce77d8=(0x0,Mt[_0x28ed06(0x62a)])(_0x577a33):_0xce77d8=(0x0,Mt[_0x28ed06(0x62a)])(_0x4ee78e[_0x28ed06(0x3e4)]);let _0x5a08c5=this[_0x28ed06(0x6d5)][_0x28ed06(0x342)](_0x28ed06(0x6e3)),_0x6c49ce=this[_0x28ed06(0x6d5)][_0x28ed06(0x342)](_0x28ed06(0x319));return _0x6c49ce&&this[_0x28ed06(0x28a)][_0x28ed06(0x4bf)]()['includes'](_0x6c49ce[_0x28ed06(0x4bf)]())&&(_0x4ee78e['caption']+='\x0a\x0a'+_0x5a08c5),_0x5e5844[_0x127e5e][_0x28ed06(0x65d)]=_0x4ee78e?.['caption'],_0x5e5844[_0x127e5e]['mimetype']=_0xce77d8,_0x5e5844[_0x127e5e][_0x28ed06(0x5ac)]=_0x4ee78e[_0x28ed06(0x5ac)],_0x4ee78e['mediatype']===_0x28ed06(0x200)&&(_0x5e5844[_0x127e5e][_0x28ed06(0x2e0)]=Uint8Array[_0x28ed06(0x2a1)]((0x0,Te[_0x28ed06(0x631)])((0x0,$[_0x28ed06(0x72f)])(process[_0x28ed06(0x24f)](),_0x28ed06(0x419)))),_0x5e5844[_0x127e5e]['gifPlayback']=!0x1),(0x0,w['generateWAMessageFromContent'])('',{[_0x127e5e]:{..._0x5e5844[_0x127e5e]}},{'userJid':this[_0x28ed06(0x1f1)][_0x28ed06(0x694)]});}catch(_0x22f7bf){throw this[_0x28ed06(0x1d3)]['error'](this[_0x28ed06(0x28a)]+'\x20('+this[_0x28ed06(0x1f1)][_0x28ed06(0x694)]+'):\x20'+_0x22f7bf),new A(_0x22f7bf?.[_0x28ed06(0x1af)]()||_0x22f7bf);}}async[a0_0x596428(0x452)](_0x147a88){const _0x327788=a0_0x596428;let _0x1c6858=await this[_0x327788(0x5be)](_0x147a88['mediaMessage']);return await this[_0x327788(0x2c7)](_0x147a88[_0x327788(0x395)],{..._0x1c6858[_0x327788(0x56b)]},_0x147a88?.[_0x327788(0x50d)]);}async[a0_0x596428(0x651)](_0x8af66c,_0x11a1ac){const _0x5677de=a0_0x596428;try{this['logger'][_0x5677de(0x327)](_0x5677de(0x177));let _0x1d87cc,_0x52ad96=_0x11a1ac+'-'+new Date()[_0x5677de(0x4ce)]();this['logger'][_0x5677de(0x327)](_0x5677de(0x570)+_0x52ad96);let _0x2b7ebf=''+(0x0,$[_0x5677de(0x72f)])(this[_0x5677de(0x729)],_0x52ad96+_0x5677de(0x1dd));if(this['logger']['verbose']('Output\x20path:\x20'+_0x2b7ebf),(0x0,O[_0x5677de(0x26f)])(_0x8af66c)){this[_0x5677de(0x1d3)][_0x5677de(0x327)](_0x5677de(0x423));let _0x143c24=_0x8af66c[_0x5677de(0x527)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x1cda01=Buffer[_0x5677de(0x2a1)](_0x143c24,_0x5677de(0x308));_0x1d87cc=''+(0x0,$[_0x5677de(0x72f)])(this[_0x5677de(0x729)],'temp-'+_0x52ad96+_0x5677de(0x2ca)),this[_0x5677de(0x1d3)]['verbose'](_0x5677de(0x2fe)+_0x1d87cc),await(0x0,It[_0x5677de(0x3ea)])(_0x1cda01)[_0x5677de(0x719)](_0x1d87cc),this[_0x5677de(0x1d3)][_0x5677de(0x327)](_0x5677de(0x5d1));}else{this[_0x5677de(0x1d3)]['verbose']('Image\x20is\x20url');let _0x118084=new Date()[_0x5677de(0x4ce)](),_0x3e91f4=_0x8af66c+_0x5677de(0x670)+_0x118084;this[_0x5677de(0x1d3)][_0x5677de(0x327)]('including\x20timestamp\x20in\x20url:\x20'+_0x3e91f4);let _0x23b176=await ce[_0x5677de(0x3ea)]['get'](_0x3e91f4,{'responseType':_0x5677de(0x228)});this['logger']['verbose'](_0x5677de(0x19c));let _0x507fa5=Buffer[_0x5677de(0x2a1)](_0x23b176['data'],_0x5677de(0x39a));_0x1d87cc=''+(0x0,$['join'])(this[_0x5677de(0x729)],_0x5677de(0x45f)+_0x52ad96+_0x5677de(0x2ca)),this[_0x5677de(0x1d3)][_0x5677de(0x327)](_0x5677de(0x2fe)+_0x1d87cc),await(0x0,It[_0x5677de(0x3ea)])(_0x507fa5)['toFile'](_0x1d87cc),this[_0x5677de(0x1d3)]['verbose'](_0x5677de(0x5d1));}return await(0x0,It['default'])(_0x1d87cc)[_0x5677de(0x4eb)]()[_0x5677de(0x719)](_0x2b7ebf),this['logger'][_0x5677de(0x327)]('Image\x20converted\x20to\x20WebP'),P['unlinkSync'](_0x1d87cc),this[_0x5677de(0x1d3)][_0x5677de(0x327)](_0x5677de(0x37e)),_0x2b7ebf;}catch(_0x30d315){console[_0x5677de(0x244)](_0x5677de(0x4e0),_0x30d315);}}async[a0_0x596428(0x6c6)](_0x3ef689){const _0x1b0aba=a0_0x596428;let _0x10c38f=await this[_0x1b0aba(0x651)](_0x3ef689['stickerMessage'][_0x1b0aba(0x476)],_0x3ef689['number']),_0x54cf31=await this['sendMessageWithTyping'](_0x3ef689['number'],{'sticker':{'url':_0x10c38f}},_0x3ef689?.['options']);return P[_0x1b0aba(0x707)](_0x10c38f),this['logger'][_0x1b0aba(0x327)](_0x1b0aba(0x46b)),_0x54cf31;}async[a0_0x596428(0x72d)](_0x25d24b){const _0x2ded2a=a0_0x596428;if(this[_0x2ded2a(0x1d3)][_0x2ded2a(0x327)](_0x2ded2a(0x4b0)),!_0x25d24b[_0x2ded2a(0x50d)]?.[_0x2ded2a(0x4c8)]&&_0x25d24b[_0x2ded2a(0x50d)]?.[_0x2ded2a(0x4c8)]!==!0x1&&(_0x25d24b[_0x2ded2a(0x50d)]['encoding']=!0x0),_0x25d24b[_0x2ded2a(0x50d)]?.[_0x2ded2a(0x4c8)]){let _0x4cc636=await this[_0x2ded2a(0x6bb)](_0x25d24b[_0x2ded2a(0x1d7)][_0x2ded2a(0x18c)]);if(typeof _0x4cc636==_0x2ded2a(0x55f)){let _0x544a75=P[_0x2ded2a(0x631)](_0x4cc636)[_0x2ded2a(0x1af)](_0x2ded2a(0x308)),_0x3d04e9=this['sendMessageWithTyping'](_0x25d24b[_0x2ded2a(0x395)],{'audio':Buffer[_0x2ded2a(0x2a1)](_0x544a75,_0x2ded2a(0x308)),'ptt':!0x0,'mimetype':_0x2ded2a(0x35b)},{'presence':_0x2ded2a(0x3f4),'delay':_0x25d24b?.[_0x2ded2a(0x50d)]?.[_0x2ded2a(0x647)]});return P[_0x2ded2a(0x707)](_0x4cc636),this['logger'][_0x2ded2a(0x327)](_0x2ded2a(0x4cf)),_0x3d04e9;}else throw new A(_0x4cc636);}return await this[_0x2ded2a(0x2c7)](_0x25d24b['number'],{'audio':(0x0,O[_0x2ded2a(0x30c)])(_0x25d24b[_0x2ded2a(0x1d7)][_0x2ded2a(0x18c)])?{'url':_0x25d24b[_0x2ded2a(0x1d7)][_0x2ded2a(0x18c)]}:Buffer[_0x2ded2a(0x2a1)](_0x25d24b['audioMessage'][_0x2ded2a(0x18c)],_0x2ded2a(0x308)),'ptt':!0x0,'mimetype':_0x2ded2a(0x6d1)},{'presence':_0x2ded2a(0x3f4),'delay':_0x25d24b?.[_0x2ded2a(0x50d)]?.['delay']});}async[a0_0x596428(0x6bb)](_0x4b66ab){const _0x3e92db=a0_0x596428;this[_0x3e92db(0x1d3)][_0x3e92db(0x327)](_0x3e92db(0x550));let _0x15d542,_0x2033aa,_0x1c498b=(0x0,At['v4'])();if(this[_0x3e92db(0x1d3)][_0x3e92db(0x327)]('Hash\x20to\x20audio\x20name:\x20'+_0x1c498b),(0x0,O['isURL'])(_0x4b66ab)){this[_0x3e92db(0x1d3)][_0x3e92db(0x327)](_0x3e92db(0x27f)),_0x2033aa=''+(0x0,$['join'])(this[_0x3e92db(0x729)],_0x1c498b+_0x3e92db(0x59e)),_0x15d542=''+(0x0,$[_0x3e92db(0x72f)])(this[_0x3e92db(0x729)],'temp-'+_0x1c498b+_0x3e92db(0x677)),this[_0x3e92db(0x1d3)][_0x3e92db(0x327)](_0x3e92db(0x486)+_0x2033aa),this[_0x3e92db(0x1d3)]['verbose'](_0x3e92db(0x6a9)+_0x15d542);let _0x5c7d73=new Date()[_0x3e92db(0x4ce)](),_0x3ba87b=_0x4b66ab+_0x3e92db(0x670)+_0x5c7d73;this[_0x3e92db(0x1d3)]['verbose']('Including\x20timestamp\x20in\x20url:\x20'+_0x3ba87b);let _0x1412bf=await ce[_0x3e92db(0x3ea)][_0x3e92db(0x342)](_0x3ba87b,{'responseType':_0x3e92db(0x228)});this[_0x3e92db(0x1d3)][_0x3e92db(0x327)](_0x3e92db(0x1de)),P[_0x3e92db(0x3c9)](_0x15d542,_0x1412bf['data']);}else{this[_0x3e92db(0x1d3)][_0x3e92db(0x327)](_0x3e92db(0x374)),_0x2033aa=''+(0x0,$[_0x3e92db(0x72f)])(this['storePath'],_0x1c498b+'.mp4'),_0x15d542=''+(0x0,$[_0x3e92db(0x72f)])(this['storePath'],_0x3e92db(0x45f)+_0x1c498b+'.mp3'),this[_0x3e92db(0x1d3)][_0x3e92db(0x327)](_0x3e92db(0x486)+_0x2033aa),this['logger'][_0x3e92db(0x327)]('Temp\x20audio\x20path:\x20'+_0x15d542);let _0x1c7729=Buffer['from'](_0x4b66ab,_0x3e92db(0x308));P[_0x3e92db(0x3c9)](_0x15d542,_0x1c7729),this[_0x3e92db(0x1d3)][_0x3e92db(0x327)](_0x3e92db(0x321));}return this[_0x3e92db(0x1d3)]['verbose']('Converting\x20audio\x20to\x20mp4'),new Promise((_0x29395d,_0x39c2df)=>{const _0xd8f7c8=_0x3e92db;(0x0,Dt[_0xd8f7c8(0x597)])(Ya[_0xd8f7c8(0x3ea)]['path']+_0xd8f7c8(0x625)+_0x15d542+_0xd8f7c8(0x29b)+_0x2033aa+_0xd8f7c8(0x6dd),_0x54c82b=>{const _0x5c6676=_0xd8f7c8;P['unlinkSync'](_0x15d542),this['logger'][_0x5c6676(0x327)](_0x5c6676(0x496)),_0x54c82b&&_0x39c2df(_0x54c82b),this[_0x5c6676(0x1d3)][_0x5c6676(0x327)](_0x5c6676(0x436)),_0x29395d(_0x2033aa);});});}async[a0_0x596428(0x2a4)](_0x18b7ac){const _0x387751=a0_0x596428;let _0x1dd0d2={},_0x44fe93=_0x387751(0x227);if(_0x18b7ac['buttonMessage']?.[_0x387751(0x452)]){_0x44fe93=_0x18b7ac[_0x387751(0x2a4)][_0x387751(0x452)]?.[_0x387751(0x246)]['toUpperCase']()??_0x387751(0x227),_0x1dd0d2['mediaKey']=_0x44fe93[_0x387751(0x4bf)]()+_0x387751(0x5aa);let _0x575b37=await this['prepareMediaMessage'](_0x18b7ac[_0x387751(0x2a4)]['mediaMessage']);_0x1dd0d2[_0x387751(0x56b)]=_0x575b37[_0x387751(0x56b)][_0x1dd0d2[_0x387751(0x1f7)]],_0x1dd0d2[_0x387751(0x4f3)]='*'+_0x18b7ac[_0x387751(0x2a4)][_0x387751(0x735)]+_0x387751(0x69a)+_0x18b7ac[_0x387751(0x2a4)][_0x387751(0x276)];}let _0x34ca09={'text':_0x18b7ac[_0x387751(0x2a4)][_0x387751(0x1e6)][_0x387751(0x393)](_0x4545f9=>_0x4545f9['buttonText']),'ids':_0x18b7ac[_0x387751(0x2a4)][_0x387751(0x1e6)]['map'](_0x446caf=>_0x446caf[_0x387751(0x377)])};if(!(0x0,O[_0x387751(0x1b7)])(_0x34ca09[_0x387751(0x46a)])||!(0x0,O[_0x387751(0x1b7)])(_0x34ca09['ids']))throw new g('Button\x20texts\x20cannot\x20be\x20repeated',_0x387751(0x6ea));return await this[_0x387751(0x2c7)](_0x18b7ac['number'],{'buttonsMessage':{'text':_0x1dd0d2?.[_0x387751(0x1f7)]?void 0x0:_0x18b7ac[_0x387751(0x2a4)][_0x387751(0x735)],'contentText':_0x1dd0d2?.[_0x387751(0x4f3)]??_0x18b7ac[_0x387751(0x2a4)][_0x387751(0x276)],'footerText':_0x18b7ac[_0x387751(0x2a4)]?.['footerText'],'buttons':_0x18b7ac[_0x387751(0x2a4)][_0x387751(0x1e6)]['map'](_0x310a26=>({'buttonText':{'displayText':_0x310a26['buttonText']},'buttonId':_0x310a26['buttonId'],'type':0x1})),'headerType':w[_0x387751(0x2f2)][_0x387751(0x5aa)]['ButtonsMessage']['HeaderType'][_0x44fe93],[_0x1dd0d2?.[_0x387751(0x1f7)]]:_0x1dd0d2?.[_0x387751(0x56b)]}},_0x18b7ac?.['options']);}async[a0_0x596428(0x577)](_0x1b4869){const _0x37ca56=a0_0x596428;return await this[_0x37ca56(0x2c7)](_0x1b4869[_0x37ca56(0x395)],{'locationMessage':{'degreesLatitude':_0x1b4869[_0x37ca56(0x577)][_0x37ca56(0x56a)],'degreesLongitude':_0x1b4869[_0x37ca56(0x577)]['longitude'],'name':_0x1b4869[_0x37ca56(0x577)]?.[_0x37ca56(0x382)],'address':_0x1b4869[_0x37ca56(0x577)]?.[_0x37ca56(0x3fa)]}},_0x1b4869?.[_0x37ca56(0x50d)]);}async[a0_0x596428(0x632)](_0x5571d7){const _0x6c4ed6=a0_0x596428;return await this[_0x6c4ed6(0x2c7)](_0x5571d7[_0x6c4ed6(0x395)],{'listMessage':{'title':_0x5571d7[_0x6c4ed6(0x632)]['title'],'description':_0x5571d7[_0x6c4ed6(0x632)][_0x6c4ed6(0x276)],'buttonText':_0x5571d7[_0x6c4ed6(0x632)]?.[_0x6c4ed6(0x220)],'footerText':_0x5571d7[_0x6c4ed6(0x632)]?.[_0x6c4ed6(0x5b1)],'sections':_0x5571d7[_0x6c4ed6(0x632)]['sections'],'listType':0x1}},_0x5571d7?.[_0x6c4ed6(0x50d)]);}async[a0_0x596428(0x709)](_0x4faa95){const _0x30cfa5=a0_0x596428;let _0x4d1239={},_0x218742=_0x2c0510=>{const _0x47f300=a0_0xd1e2;let _0x3d5b13=_0x47f300(0x490)+_0x2c0510[_0x47f300(0x262)]+_0x47f300(0x52f)+_0x2c0510['fullName']+'\x0a';_0x2c0510[_0x47f300(0x57b)]&&(_0x3d5b13+=_0x47f300(0x4f4)+_0x2c0510[_0x47f300(0x57b)]+';\x0a'),_0x2c0510[_0x47f300(0x355)]&&(_0x3d5b13+=_0x47f300(0x2c8)+_0x2c0510[_0x47f300(0x355)]+'\x0a'),_0x2c0510[_0x47f300(0x1fc)]&&(_0x3d5b13+=_0x47f300(0x49f)+_0x2c0510[_0x47f300(0x1fc)]+'\x0a');let _0x3c5a74='';return _0x2c0510[_0x47f300(0x3b2)]&&_0x2c0510[_0x47f300(0x3b2)][_0x47f300(0x633)]('|')['forEach']((_0x35ec05,_0x57284b)=>{const _0x12fb0a=_0x47f300;let _0x38267d=this[_0x12fb0a(0x1ad)](_0x35ec05)['replace'](_0x12fb0a(0x498),'');_0x3c5a74+=_0x12fb0a(0x668)+(_0x57284b+0x1)+_0x12fb0a(0x1a1)+_0x38267d+':'+_0x35ec05+_0x12fb0a(0x487)+(_0x57284b+0x1)+_0x12fb0a(0x515);}),_0x3d5b13+=_0x3c5a74+_0x47f300(0x605),_0x3d5b13;};return _0x4faa95[_0x30cfa5(0x709)]['length']===0x1?_0x4d1239[_0x30cfa5(0x709)]={'displayName':_0x4faa95[_0x30cfa5(0x709)][0x0]['fullName'],'vcard':_0x218742(_0x4faa95[_0x30cfa5(0x709)][0x0])}:_0x4d1239[_0x30cfa5(0x43b)]={'displayName':_0x4faa95[_0x30cfa5(0x709)]['length']+_0x30cfa5(0x69b),'contacts':_0x4faa95[_0x30cfa5(0x709)][_0x30cfa5(0x393)](_0x2bf5f4=>({'displayName':_0x2bf5f4[_0x30cfa5(0x262)],'vcard':_0x218742(_0x2bf5f4)}))},await this[_0x30cfa5(0x2c7)](_0x4faa95[_0x30cfa5(0x395)],{..._0x4d1239},_0x4faa95?.[_0x30cfa5(0x50d)]);}async[a0_0x596428(0x502)](_0x18c81a){const _0x34863a=a0_0x596428;return await this['sendMessageWithTyping'](_0x18c81a[_0x34863a(0x502)][_0x34863a(0x40a)][_0x34863a(0x5ea)],{'reactionMessage':{'key':_0x18c81a[_0x34863a(0x502)][_0x34863a(0x40a)],'text':_0x18c81a[_0x34863a(0x502)][_0x34863a(0x344)]}});}async[a0_0x596428(0x5a2)](_0x44824e){const _0x4a6554=a0_0x596428;let _0x4165aa=[];for await(let _0x40be11 of _0x44824e['numbers']){let _0x23bee8=this['createJid'](_0x40be11);if((0x0,w['isJidGroup'])(_0x23bee8)){let _0x51aeec=await this[_0x4a6554(0x4d7)]({'groupJid':_0x23bee8},_0x4a6554(0x57d));_0x4165aa[_0x4a6554(0x66c)](new he(_0x51aeec[_0x4a6554(0x4c2)]['id'],!!_0x51aeec?.[_0x4a6554(0x4c2)]['id'],_0x51aeec?.['metadata']['subject']));}else try{let _0x1c01c5=(await this[_0x4a6554(0x6eb)]['onWhatsApp'](_0x23bee8))[0x0];_0x4165aa[_0x4a6554(0x66c)](new he(_0x1c01c5[_0x4a6554(0x690)],_0x1c01c5[_0x4a6554(0x3df)]));}catch{_0x4165aa[_0x4a6554(0x66c)](new he(_0x40be11,!0x1));}}return _0x4165aa;}async['markMessageAsRead'](_0x47ff15){const _0x3e6862=a0_0x596428;try{let _0x29c6e6=_0x47ff15[_0x3e6862(0x2d2)][_0x3e6862(0x364)](_0x125932=>(0x0,w[_0x3e6862(0x4a8)])(_0x125932['remoteJid'])||(0x0,w['isJidUser'])(_0x125932[_0x3e6862(0x5ea)]))[_0x3e6862(0x393)](_0x2e0503=>({'remoteJid':_0x2e0503[_0x3e6862(0x5ea)],'fromMe':_0x2e0503[_0x3e6862(0x4bd)],'id':_0x2e0503['id']}));await this[_0x3e6862(0x6eb)][_0x3e6862(0x2d2)](_0x29c6e6);let _0xcb754f=_0x29c6e6[_0x3e6862(0x393)](_0x2f36c2=>this['updateMessage'](_0x2f36c2,_0x2f36c2[_0x3e6862(0x5ea)],{'status':'READ','owner':this[_0x3e6862(0x1f1)][_0x3e6862(0x694)]})),_0x187c45=_0x29c6e6[_0x3e6862(0x393)](_0x5e0e40=>this[_0x3e6862(0x1fe)]['chat']['updateOne']({'where':{'_id':_0x5e0e40[_0x3e6862(0x5ea)],'owner':this['instance'][_0x3e6862(0x694)]}},{'unreadcount':0x0})),[_0x476c05,_0x5895da]=await Promise['all']([Promise[_0x3e6862(0x349)](_0xcb754f),Promise[_0x3e6862(0x349)](_0x187c45)]);return _0x5895da[_0x3e6862(0x364)](_0x904ccc=>_0x904ccc!==null)['forEach'](_0x2234f7=>{const _0x3f71d1=_0x3e6862;B(this[_0x3f71d1(0x28a)],_0x3f71d1(0x6c9),{'chat':_0x2234f7});}),{'message':_0x3e6862(0x311),'read':'success'};}catch(_0x22a482){throw console[_0x3e6862(0x244)](_0x3e6862(0x1a9),_0x22a482),new A(_0x3e6862(0x5bc),_0x22a482[_0x3e6862(0x1af)]());}}async['getLastMessage'](_0x58c4d8){const _0x4e900d=a0_0x596428;let _0x2dcd06=await this[_0x4e900d(0x46e)]({'where':{'key':{'remoteJid':_0x58c4d8},'owner':this['instance'][_0x4e900d(0x382)]}}),_0x523fa9=_0x2dcd06[_0x4e900d(0x31d)]();for(let _0x1133fd of _0x2dcd06)_0x1133fd['messageTimestamp']>=_0x523fa9[_0x4e900d(0x67c)]&&(_0x523fa9=_0x1133fd);return _0x523fa9;}async['archiveChat'](_0x6d82d8){const _0x53a48e=a0_0x596428;this[_0x53a48e(0x1d3)]['verbose'](_0x53a48e(0x3ef));try{let _0x5622b6=_0x6d82d8[_0x53a48e(0x5de)],_0x37f89d=_0x6d82d8['chat'];if(!_0x5622b6&&_0x37f89d?_0x5622b6=await this[_0x53a48e(0x513)](_0x37f89d):(_0x5622b6=_0x6d82d8[_0x53a48e(0x5de)],_0x5622b6['messageTimestamp']=_0x5622b6?.['messageTimestamp']??Date[_0x53a48e(0x4a1)](),_0x37f89d=_0x5622b6?.[_0x53a48e(0x40a)]?.[_0x53a48e(0x5ea)]),!_0x5622b6||Object[_0x53a48e(0x678)](_0x5622b6)[_0x53a48e(0x708)]===0x0)throw new x(_0x53a48e(0x432));await this['client'][_0x53a48e(0x24d)]({'archive':_0x6d82d8[_0x53a48e(0x347)],'lastMessages':[_0x5622b6]},this[_0x53a48e(0x1ad)](_0x37f89d));let _0x1e5218=await this[_0x53a48e(0x1fe)][_0x53a48e(0x3be)][_0x53a48e(0x3ad)]({'where':{'_id':_0x5622b6?.[_0x53a48e(0x40a)]?.[_0x53a48e(0x5ea)],'owner':this[_0x53a48e(0x1f1)][_0x53a48e(0x694)]}},{'archived':_0x6d82d8[_0x53a48e(0x347)]});return _0x1e5218&&B(this['instanceName'],_0x53a48e(0x6c9),{'chat':_0x1e5218}),{'chatId':_0x37f89d,'archived':_0x6d82d8[_0x53a48e(0x347)]};}catch(_0x442470){throw new A({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x442470['toString']()]});}}async[a0_0x596428(0x5cf)](_0x19e439){const _0x4006aa=a0_0x596428;try{let _0x2c8ceb=await this['client']['sendMessage'](_0x19e439['remoteJid'],{'delete':_0x19e439});try{let _0x47f6ef=await this[_0x4006aa(0x470)](_0x19e439,_0x19e439['remoteJid'],{'status':_0x4006aa(0x201),'owner':this['instance'][_0x4006aa(0x694)]});this[_0x4006aa(0x1d3)][_0x4006aa(0x327)](this[_0x4006aa(0x28a)]+'\x20('+this['instance'][_0x4006aa(0x694)]+_0x4006aa(0x658)+_0x47f6ef);}catch(_0x2a740c){console[_0x4006aa(0x244)](_0x4006aa(0x301),_0x2a740c);}return _0x2c8ceb;}catch(_0x5426d1){throw new A(_0x4006aa(0x182),_0x5426d1?.[_0x4006aa(0x1af)]());}}async[a0_0x596428(0x6a2)](_0x261fcf){const _0x18dfa8=a0_0x596428;try{let _0x29d5ce=_0x261fcf?.['message']?_0x261fcf:await this[_0x18dfa8(0x464)](_0x261fcf[_0x18dfa8(0x40a)],!0x0);for(let _0x3b42f4 of zs)_0x29d5ce[_0x18dfa8(0x56b)][_0x3b42f4]&&(_0x29d5ce['message']=_0x29d5ce['message'][_0x3b42f4][_0x18dfa8(0x56b)]);let _0x2577b1,_0x1e18e8;for(let _0x6aa3e8 of Ks)if(_0x2577b1=_0x29d5ce[_0x18dfa8(0x56b)][_0x6aa3e8],_0x2577b1){_0x1e18e8=_0x6aa3e8;break;}if(!_0x2577b1)throw _0x18dfa8(0x410);typeof _0x2577b1[_0x18dfa8(0x1f7)]==_0x18dfa8(0x1ee)&&(_0x29d5ce[_0x18dfa8(0x56b)]=JSON[_0x18dfa8(0x52b)](JSON['stringify'](_0x29d5ce[_0x18dfa8(0x56b)])));let _0x2d176a=await(0x0,w[_0x18dfa8(0x356)])({'key':_0x29d5ce?.[_0x18dfa8(0x40a)],'message':_0x29d5ce?.['message']},_0x18dfa8(0x4be),{},{'logger':(0x0,Rt[_0x18dfa8(0x3ea)])({'level':_0x18dfa8(0x244)}),'reuploadRequest':this[_0x18dfa8(0x6eb)][_0x18dfa8(0x4a3)]});if(!(_0x2d176a instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x51d32d=this[_0x18dfa8(0x6d5)][_0x18dfa8(0x342)]('DATABASE'),_0x459150,_0x26766f;if(_0x2577b1['fileName'])_0x459150=_0x2577b1[_0x18dfa8(0x5ac)];else{let _0x1ae777=_0x2577b1[_0x18dfa8(0x609)]?.[_0x18dfa8(0x2ad)](/\/(\w+)/),_0x582a36=_0x1ae777?_0x1ae777[0x1]:null;if(!_0x582a36)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0x459150=(0x0,At['v4'])()+'.'+_0x582a36;}_0x1e18e8===_0x18dfa8(0x1d7)&&_0x2577b1[_0x18dfa8(0x609)]===_0x18dfa8(0x5dc)?(_0x459150=(0x0,At['v4'])()+_0x18dfa8(0x4cd),_0x26766f=_0x18dfa8(0x468)+await this[_0x18dfa8(0x6bb)](_0x2d176a[_0x18dfa8(0x1af)](_0x18dfa8(0x308)))):(await this[_0x18dfa8(0x4ad)](_0x2d176a,_0x459150),_0x26766f='/media/'+_0x459150);let _0x53e76d=this['configService'][_0x18dfa8(0x342)](_0x18dfa8(0x68c)),_0x74a18d=this[_0x18dfa8(0x6d5)][_0x18dfa8(0x342)]('SERVER')[_0x18dfa8(0x528)],_0x15e06a=_0x53e76d&&_0x53e76d[_0x18dfa8(0x44e)][_0x18dfa8(0x633)]('/')[0x4];_0x74a18d===0x1bb&&(_0x26766f=''+(_0x18dfa8(0x20f)+_0x15e06a)+_0x26766f);let _0x44cc0b=0xc*0x3c*0x3c*0x3e8,_0x1be876={'where':{'_id':_0x29d5ce[_0x18dfa8(0x40a)]['id'],'owner':this[_0x18dfa8(0x1f1)][_0x18dfa8(0x694)]}};_0x29d5ce['key'][_0x18dfa8(0x5ea)][_0x18dfa8(0x2b2)](_0x18dfa8(0x24a))&&(_0x1be876[_0x18dfa8(0x5a8)][_0x18dfa8(0x40a)]['participant']=_0x29d5ce['key'][_0x18dfa8(0x4e9)]);let _0xbf6be4={'message_normalized.fileUrl':_0x26766f,'message_normalized.expires_fileUrl':Date[_0x18dfa8(0x4a1)]()+_0x44cc0b};try{let _0x481a2e=await this[_0x18dfa8(0x1fe)][_0x18dfa8(0x56b)][_0x18dfa8(0x545)](_0x1be876,_0xbf6be4);_0x481a2e&&B(this[_0x18dfa8(0x28a)],_0x18dfa8(0x1ec),{'message':_0x481a2e});}catch{}return{'mediaType':_0x1e18e8,'fileName':_0x2577b1[_0x18dfa8(0x5ac)],'caption':_0x2577b1['caption'],'size':{'fileLength':_0x2577b1[_0x18dfa8(0x526)],'height':_0x2577b1[_0x18dfa8(0x68e)],'width':_0x2577b1[_0x18dfa8(0x579)]},'mimetype':_0x2577b1[_0x18dfa8(0x609)],'base64':_0x2d176a['toString'](_0x18dfa8(0x308)),'fileUrl':_0x26766f,'expires_fileUrl':Date['now']()+_0x44cc0b};}catch(_0x3a621c){throw this['logger'][_0x18dfa8(0x244)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x18dfa8(0x6e6)+_0x3a621c),new g(_0x3a621c['toString']());}}async[a0_0x596428(0x4ad)](_0xe7e357,_0x5c25c9){const _0xe69fb7=a0_0x596428;console[_0xe69fb7(0x208)]('Initial\x20__dirname:',__dirname),console[_0xe69fb7(0x208)](_0xe69fb7(0x6f2),_0x5c25c9);let _0x4880ba=$[_0xe69fb7(0x3ea)][_0xe69fb7(0x72f)](__dirname,_0xe69fb7(0x445));console[_0xe69fb7(0x208)](_0xe69fb7(0x610),_0x4880ba),P['existsSync'](_0x4880ba)||(this['logger'][_0xe69fb7(0x208)]('Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...'),P[_0xe69fb7(0x73b)](_0x4880ba,{'recursive':!0x0}));let _0x252690=$['default'][_0xe69fb7(0x72f)](_0x4880ba,_0x5c25c9);return console[_0xe69fb7(0x208)](_0xe69fb7(0x68f),_0x252690),new Promise((_0x4acc90,_0x39a203)=>{const _0x3c1930=_0xe69fb7;P[_0x3c1930(0x4bc)](_0x252690,_0xe7e357,_0x3ea11a=>{const _0x234921=_0x3c1930;_0x3ea11a?(this['logger'][_0x234921(0x244)](_0x234921(0x492)+_0x3ea11a[_0x234921(0x56b)]),_0x39a203(_0x3ea11a)):(this[_0x234921(0x1d3)][_0x234921(0x208)](_0x234921(0x30a)+_0x252690),_0x4acc90(_0x252690));});});}async[a0_0x596428(0x675)](_0x3059cd){const _0x53e851=a0_0x596428;return _0x3059cd?.['where']?_0x3059cd[_0x53e851(0x5a8)][_0x53e851(0x337)]=this[_0x53e851(0x1f1)][_0x53e851(0x694)]:_0x3059cd={'where':{'owner':this[_0x53e851(0x1f1)]['wuid']}},await this[_0x53e851(0x1fe)][_0x53e851(0x451)][_0x53e851(0x266)](_0x3059cd);}async[a0_0x596428(0x46e)](_0xe60b03){const _0x6bf90=a0_0x596428;return _0xe60b03?.[_0x6bf90(0x5a8)]?_0xe60b03[_0x6bf90(0x5a8)]['owner']=this[_0x6bf90(0x1f1)][_0x6bf90(0x694)]:_0xe60b03={'where':{'owner':this[_0x6bf90(0x1f1)][_0x6bf90(0x694)]},'limit':_0xe60b03?.[_0x6bf90(0x2d7)]},await this[_0x6bf90(0x1fe)][_0x6bf90(0x56b)][_0x6bf90(0x266)](_0xe60b03);}async[a0_0x596428(0x193)](){const _0x7e9863=a0_0x596428;return await this[_0x7e9863(0x1fe)]['chat']['find']({'where':{'owner':this['instance'][_0x7e9863(0x694)]}});}async[a0_0x596428(0x1c2)](){const _0x541e1b=a0_0x596428;return await this[_0x541e1b(0x6eb)][_0x541e1b(0x1c2)]();}async['updatePrivacySettings'](_0x2de14a){const _0x55c96b=a0_0x596428;try{return await this[_0x55c96b(0x6eb)][_0x55c96b(0x6ee)](_0x2de14a[_0x55c96b(0x51f)][_0x55c96b(0x4ba)]),await this[_0x55c96b(0x6eb)][_0x55c96b(0x3e3)](_0x2de14a['privacySettings'][_0x55c96b(0x1b5)]),await this[_0x55c96b(0x6eb)][_0x55c96b(0x3dc)](_0x2de14a[_0x55c96b(0x51f)][_0x55c96b(0x2a2)]),await this['client']['updateOnlinePrivacy'](_0x2de14a[_0x55c96b(0x51f)]['online']),await this[_0x55c96b(0x6eb)][_0x55c96b(0x3bf)](_0x2de14a['privacySettings']['last']),await this[_0x55c96b(0x6eb)][_0x55c96b(0x5fd)](_0x2de14a[_0x55c96b(0x51f)][_0x55c96b(0x65b)]),this['client']?.['ws']?.['close'](),{'update':_0x55c96b(0x453),'data':{'readreceipts':_0x2de14a['privacySettings'][_0x55c96b(0x4ba)],'profile':_0x2de14a[_0x55c96b(0x51f)][_0x55c96b(0x1b5)],'status':_0x2de14a[_0x55c96b(0x51f)][_0x55c96b(0x2a2)],'online':_0x2de14a['privacySettings']['online'],'last':_0x2de14a[_0x55c96b(0x51f)][_0x55c96b(0x275)],'groupadd':_0x2de14a[_0x55c96b(0x51f)][_0x55c96b(0x65b)]}};}catch(_0x4a6160){throw new A(_0x55c96b(0x494),_0x4a6160[_0x55c96b(0x1af)]());}}async['fetchProfile2'](_0x2b6989){const _0x3f38e8=a0_0x596428;let _0x7fd1f5=_0x2b6989?this[_0x3f38e8(0x1ad)](_0x2b6989):this[_0x3f38e8(0x6eb)]?.['user']?.['id'];this[_0x3f38e8(0x1d3)]['verbose'](_0x3f38e8(0x52d)+_0x7fd1f5);try{if(this[_0x3f38e8(0x1d3)]['verbose'](_0x3f38e8(0x4de)),_0x2b6989){let _0x369569=(await this[_0x3f38e8(0x5a2)]({'numbers':[_0x7fd1f5]}))?.[_0x3f38e8(0x594)](),_0x1e6921=await this[_0x3f38e8(0x5fb)](_0x369569?.['jid']),_0x5f561b=await this[_0x3f38e8(0x198)](_0x369569?.[_0x3f38e8(0x690)]),_0x2c41d0=await this[_0x3f38e8(0x2d0)](_0x369569?.[_0x3f38e8(0x690)]);return{'wuid':_0x369569?.[_0x3f38e8(0x690)]||_0x7fd1f5,'name':_0x369569?.[_0x3f38e8(0x382)],'numberExists':_0x369569?.[_0x3f38e8(0x3df)],'picture':_0x1e6921?.[_0x3f38e8(0x279)],'status':_0x5f561b?.['status'],'isBusiness':_0x2c41d0[_0x3f38e8(0x273)],'email':_0x2c41d0?.[_0x3f38e8(0x355)],'description':_0x2c41d0?.[_0x3f38e8(0x276)],'website':_0x2c41d0?.[_0x3f38e8(0x713)]?.['shift']()};}}catch{return this['logger'][_0x3f38e8(0x327)](_0x3f38e8(0x479)),{'wuid':_0x7fd1f5,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async['fetchProfile'](_0x24f25c){const _0x1fadf8=a0_0x596428;let _0x1d5dd0=(_0x24f25c?this[_0x1fadf8(0x1ad)](_0x24f25c):this[_0x1fadf8(0x6eb)]?.[_0x1fadf8(0x4fc)]?.['id'])[_0x1fadf8(0x527)](/:\d{1,2}@/g,'@');this['logger'][_0x1fadf8(0x327)](_0x1fadf8(0x64f)+_0x1d5dd0);let _0x580938=await this[_0x1fadf8(0x1fe)][_0x1fadf8(0x451)][_0x1fadf8(0x3d7)]({'where':{'_id':_0x1d5dd0,'owner':this['instance'][_0x1fadf8(0x694)]}}),_0x1166d0=_0x580938?_0x580938[_0x1fadf8(0x388)]:null;try{let _0xe213ab=(await this['whatsappNumber']({'numbers':[_0x1d5dd0]}))?.[_0x1fadf8(0x594)](),_0x1d0330=await this['profilePicture'](_0xe213ab?.['jid']),_0x5ee539=await this[_0x1fadf8(0x198)](_0xe213ab?.[_0x1fadf8(0x690)]),_0x27e2e2=await this['fetchBusinessProfile'](_0xe213ab?.[_0x1fadf8(0x690)]),_0xf943cd={'imagechat':_0x1d0330?.['profilePictureUrl'],'contactname':_0x1166d0||null,'status':_0x5ee539?.[_0x1fadf8(0x2a2)],'isBusiness':_0x27e2e2['isBusiness'],'email':_0x27e2e2?.[_0x1fadf8(0x355)],'description':_0x27e2e2?.[_0x1fadf8(0x276)],'website':_0x27e2e2?.[_0x1fadf8(0x713)]?.[_0x1fadf8(0x594)](),'lastcache':Date[_0x1fadf8(0x4a1)]()},_0x2a17ed=await this[_0x1fadf8(0x1fe)][_0x1fadf8(0x3be)][_0x1fadf8(0x3ad)]({'where':{'_id':_0x1d5dd0,'owner':this[_0x1fadf8(0x1f1)][_0x1fadf8(0x694)]}},_0xf943cd),_0x3c8fa7={'owner':this[_0x1fadf8(0x1f1)]['wuid'],'_id':_0x1d5dd0,'profilePictureUrl':_0x1d0330?.[_0x1fadf8(0x279)],'status':_0x5ee539?.[_0x1fadf8(0x2a2)]};return this[_0x1fadf8(0x1fe)][_0x1fadf8(0x451)][_0x1fadf8(0x545)]([_0x3c8fa7],this[_0x1fadf8(0x1f1)]['wuid']),_0x2a17ed&&B(this[_0x1fadf8(0x28a)],_0x1fadf8(0x6c9),{'chat':_0x2a17ed}),{'wuid':_0xe213ab?.[_0x1fadf8(0x690)]||_0x1d5dd0,'name':_0xe213ab?.['name'],'numberExists':_0xe213ab?.['exists'],'picture':_0x1d0330?.[_0x1fadf8(0x279)],'status':_0x5ee539?.['status'],'isBusiness':_0x27e2e2[_0x1fadf8(0x273)],'email':_0x27e2e2?.[_0x1fadf8(0x355)],'description':_0x27e2e2?.[_0x1fadf8(0x276)],'website':_0x27e2e2?.[_0x1fadf8(0x713)]?.[_0x1fadf8(0x594)]()};}catch(_0x2f8b8a){return this[_0x1fadf8(0x1d3)]['error'](_0x1fadf8(0x1fd)+_0x2f8b8a),{};}}async[a0_0x596428(0x2d0)](_0x152e37){const _0x5bace5=a0_0x596428;this['logger']['verbose']('Fetching\x20business\x20profile');try{let _0x44062d=_0x152e37?this['createJid'](_0x152e37):this[_0x5bace5(0x1f1)][_0x5bace5(0x694)],_0x118c6e=await this['client'][_0x5bace5(0x314)](_0x44062d);return this[_0x5bace5(0x1d3)][_0x5bace5(0x327)](_0x5bace5(0x722)),_0x118c6e?(this['logger']['verbose'](_0x5bace5(0x6e9)),{'isBusiness':!0x0,..._0x118c6e}):{'isBusiness':!0x1,'message':_0x5bace5(0x339),...(await this['whatsappNumber']({'numbers':[_0x44062d]}))?.[_0x5bace5(0x594)]()};}catch(_0x5ea551){throw new A(_0x5bace5(0x67e),_0x5ea551[_0x5bace5(0x1af)]());}}async['getStatus'](_0x12d926){const _0xbca330=a0_0x596428;let _0x531968=this[_0xbca330(0x1ad)](_0x12d926);try{return{'wuid':_0x531968,'status':(await this['client']['fetchStatus'](_0x531968))?.[_0xbca330(0x2a2)]};}catch{return{'wuid':_0x531968,'status':null};}}async['updateProfileName'](_0x876cc5){const _0x515adf=a0_0x596428;try{return await this[_0x515adf(0x6eb)]['updateProfileName'](_0x876cc5),{'update':'success'};}catch(_0x743b81){throw new A(_0x515adf(0x67e),_0x743b81[_0x515adf(0x1af)]());}}async[a0_0x596428(0x400)](_0x38b0a6){const _0x4abb99=a0_0x596428;try{return await this['client'][_0x4abb99(0x400)](_0x38b0a6),{'update':_0x4abb99(0x453)};}catch(_0x409fd6){throw new A('Error\x20updating\x20profile\x20status',_0x409fd6[_0x4abb99(0x1af)]());}}async[a0_0x596428(0x55b)](_0x95791){const _0x4cacc5=a0_0x596428;try{let _0x1e903e;if((0x0,O[_0x4cacc5(0x30c)])(_0x95791)){let _0x2ad10c=new Date()[_0x4cacc5(0x4ce)](),_0xfb0af2=_0x95791+_0x4cacc5(0x670)+_0x2ad10c;_0x1e903e=(await ce[_0x4cacc5(0x3ea)][_0x4cacc5(0x342)](_0xfb0af2,{'responseType':'arraybuffer'}))[_0x4cacc5(0x249)];}else{if((0x0,O[_0x4cacc5(0x26f)])(_0x95791))_0x1e903e=Buffer[_0x4cacc5(0x2a1)](_0x95791,_0x4cacc5(0x308));else throw new g('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x4cacc5(0x6eb)][_0x4cacc5(0x55b)](this[_0x4cacc5(0x1f1)][_0x4cacc5(0x694)],_0x1e903e),{'update':'success'};}catch(_0x168920){throw new A(_0x4cacc5(0x33e),_0x168920[_0x4cacc5(0x1af)]());}}async['removeProfilePicture'](){const _0x296ef1=a0_0x596428;try{return await this[_0x296ef1(0x6eb)][_0x296ef1(0x4e6)](this[_0x296ef1(0x1f1)][_0x296ef1(0x694)]),{'update':_0x296ef1(0x453)};}catch(_0x32cf9f){throw new A('Error\x20removing\x20profile\x20picture',_0x32cf9f['toString']());}}async[a0_0x596428(0x5c6)](_0x15b344){const _0x1a30a7=a0_0x596428;try{let _0x1938ae=_0x15b344[_0x1a30a7(0x4b6)][_0x1a30a7(0x393)](_0x1e4bf6=>this[_0x1a30a7(0x1ad)](_0x1e4bf6)),{id:_0x1a4cdb}=await this['client']['groupCreate'](_0x15b344['subject'],_0x1938ae);return _0x15b344?.[_0x1a30a7(0x276)]&&await this[_0x1a30a7(0x6eb)][_0x1a30a7(0x30b)](_0x1a4cdb,_0x15b344[_0x1a30a7(0x276)]),{'metadata':await this['client']['groupMetadata'](_0x1a4cdb)};}catch(_0x244398){throw this[_0x1a30a7(0x1d3)][_0x1a30a7(0x244)](this[_0x1a30a7(0x28a)]+'\x20('+this[_0x1a30a7(0x1f1)][_0x1a30a7(0x694)]+_0x1a30a7(0x6e6)+_0x244398),new A(_0x1a30a7(0x3cd),_0x244398[_0x1a30a7(0x1af)]());}}async[a0_0x596428(0x1dc)](_0x4b91a7){const _0x4748c9=a0_0x596428;try{let _0x62df6d;if((0x0,O[_0x4748c9(0x30c)])(_0x4b91a7['image'])){let _0x243954=new Date()[_0x4748c9(0x4ce)](),_0x6613ac=_0x4b91a7['image']+_0x4748c9(0x670)+_0x243954;_0x62df6d=(await ce[_0x4748c9(0x3ea)][_0x4748c9(0x342)](_0x6613ac,{'responseType':_0x4748c9(0x228)}))['data'];}else{if((0x0,O[_0x4748c9(0x26f)])(_0x4b91a7[_0x4748c9(0x476)]))_0x62df6d=Buffer['from'](_0x4b91a7[_0x4748c9(0x476)],_0x4748c9(0x308));else throw new g(_0x4748c9(0x444));}return await this[_0x4748c9(0x6eb)]['updateProfilePicture'](_0x4b91a7['groupJid'],_0x62df6d),{'update':_0x4748c9(0x453)};}catch(_0xae8d04){throw new A(_0x4748c9(0x71e),_0xae8d04['toString']());}}async[a0_0x596428(0x4d7)](_0x3f6049,_0x35a571='out'){const _0x264317=a0_0x596428;try{let _0x512b63=await this['client']['groupMetadata'](_0x3f6049[_0x264317(0x240)]),_0x2276bf=null;try{_0x2276bf=(await this[_0x264317(0x5fb)](_0x3f6049[_0x264317(0x240)]))[_0x264317(0x279)];}catch(_0x1dfc43){this['logger'][_0x264317(0x327)](this['instanceName']+'\x20('+this[_0x264317(0x1f1)][_0x264317(0x694)]+_0x264317(0x681)+_0x3f6049[_0x264317(0x240)]+':\x20'+_0x1dfc43[_0x264317(0x1af)]());}let _0x492a38=await this[_0x264317(0x1fe)][_0x264317(0x3be)]['updateOne']({'where':{'_id':_0x3f6049[_0x264317(0x240)],'owner':this[_0x264317(0x1f1)][_0x264317(0x694)]}},{'imagechat':_0x2276bf,'name':_0x512b63[_0x264317(0x6ef)],'group_size':_0x512b63[_0x264317(0x720)],'group_announce':_0x512b63[_0x264317(0x1ab)],'lastcache':Date[_0x264317(0x4a1)]()});return _0x492a38&&B(this[_0x264317(0x28a)],_0x264317(0x6c9),{'chat':_0x492a38}),{'metadata':_0x512b63,'image':_0x2276bf};}catch(_0xcfba17){if(_0x35a571===_0x264317(0x57d))return;throw new x('Error\x20fetching\x20group',_0xcfba17['toString']());}}async[a0_0x596428(0x638)](_0x5cc25e){const _0x4b54e4=a0_0x596428;try{return await this['client'][_0x4b54e4(0x30b)](_0x5cc25e[_0x4b54e4(0x240)],_0x5cc25e[_0x4b54e4(0x276)]),{'update':_0x4b54e4(0x453)};}catch(_0x3af218){throw new A(_0x4b54e4(0x391),_0x3af218[_0x4b54e4(0x1af)]());}}async['groupName'](_0x5fe512){const _0x4560cc=a0_0x596428;try{return await this[_0x4560cc(0x6eb)][_0x4560cc(0x57e)](_0x5fe512['groupJid'],_0x5fe512[_0x4560cc(0x382)]),{'update':_0x4560cc(0x453)};}catch(_0x8e8c2f){throw new A(_0x4560cc(0x2ee),_0x8e8c2f['toString']());}}async['groupSetting'](_0x39a1c1){const _0x45b0bc=a0_0x596428;try{return await this[_0x45b0bc(0x6eb)][_0x45b0bc(0x4d8)](_0x39a1c1[_0x45b0bc(0x240)],_0x39a1c1[_0x45b0bc(0x466)]),{'update':_0x45b0bc(0x453)};}catch(_0x204049){throw new A(_0x45b0bc(0x27a),_0x204049[_0x45b0bc(0x1af)]());}}async[a0_0x596428(0x5da)](){const _0x362c9b=a0_0x596428;try{let _0x4c40ed=[],_0x313338=await this['client']['groupFetchAllParticipating'](),_0x20ea0e=Object[_0x362c9b(0x30e)](_0x313338),_0x368bc=_0x20ea0e[_0x362c9b(0x364)](_0x379ea3=>(0x0,w['isJidGroup'])(_0x379ea3?.['id']))[_0x362c9b(0x393)](async _0x572a5f=>{const _0x3b855c=_0x362c9b;try{return await this[_0x3b855c(0x6eb)][_0x3b855c(0x279)](_0x572a5f['id'],_0x3b855c(0x6e4));}catch(_0x400052){return this['logger'][_0x3b855c(0x327)](this[_0x3b855c(0x28a)]+'\x20('+this[_0x3b855c(0x1f1)][_0x3b855c(0x694)]+_0x3b855c(0x681)+_0x572a5f['id']+':\x20'+_0x400052['toString']()),null;}}),_0xa94447=await Promise[_0x362c9b(0x349)](_0x368bc);for(let _0x1284be=0x0;_0x1284be<_0x20ea0e[_0x362c9b(0x708)];_0x1284be++){let _0x1f266d=_0x20ea0e[_0x1284be];(0x0,w['isJidGroup'])(_0x1f266d?.['id'])&&_0x4c40ed[_0x362c9b(0x66c)]({'groupJid':_0x1f266d?.['id'],'subject':_0x1f266d?.[_0x362c9b(0x6ef)],'subjectOwner':_0x1f266d?.['subjectOwner']?.['split']('@')[0x0],'subjectTime':_0x1f266d?.[_0x362c9b(0x4ea)],'size':_0x1f266d?.[_0x362c9b(0x4b6)]?.['length'],'owner':_0x1f266d?.[_0x362c9b(0x337)]?.[_0x362c9b(0x633)]('@')[0x0],'creation':_0x1f266d?.[_0x362c9b(0x569)],'desc':_0x1f266d?.[_0x362c9b(0x256)],'restrict':_0x1f266d?.[_0x362c9b(0x21f)],'announce':_0x1f266d?.['announce'],'image':_0xa94447[_0x1284be]});}return _0x4c40ed;}catch(_0x3db2f9){throw new x(_0x362c9b(0x2f0),_0x3db2f9['toString']());}}async[a0_0x596428(0x5e8)](_0x4401b3){const _0x67777b=a0_0x596428;try{let _0x438236=await this[_0x67777b(0x6eb)]['groupInviteCode'](_0x4401b3[_0x67777b(0x240)]);return{'inviteUrl':_0x67777b(0x641)+_0x438236,'inviteCode':_0x438236};}catch(_0x3aa8cd){throw new x(_0x67777b(0x3e6),_0x3aa8cd[_0x67777b(0x1af)]());}}async[a0_0x596428(0x6d3)](_0x37ef12){const _0x58bd8e=a0_0x596428;try{let _0x37c371=await this[_0x58bd8e(0x6eb)][_0x58bd8e(0x3c5)](_0x37ef12[_0x58bd8e(0x240)]);return{'revoked':!0x0,'inviteUrl':_0x58bd8e(0x641)+_0x37c371,'inviteCode':_0x37c371};}catch(_0x291af0){throw new x(_0x58bd8e(0x37d),_0x291af0['toString']());}}async[a0_0x596428(0x33f)](_0x693817){const _0x2d27e5=a0_0x596428;try{if((0x0,O['isURL'])(_0x693817[_0x2d27e5(0x5e8)]))var _0x3dc1c4=_0x693817[_0x2d27e5(0x5e8)][_0x2d27e5(0x633)]('/')[0x3];else var _0x3dc1c4=_0x693817['inviteCode'];let _0x511b4a=await this[_0x2d27e5(0x6eb)]['groupAcceptInvite'](_0x3dc1c4);return this[_0x2d27e5(0x1d3)][_0x2d27e5(0x327)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+_0x511b4a),{'join':!0x0,'inviteCode':_0x3dc1c4,'groupJid':_0x511b4a};}catch(_0x3bc55d){throw new x('No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x3bc55d[_0x2d27e5(0x1af)]());}}async[a0_0x596428(0x535)](_0x13b0d5){const _0x4ff3dd=a0_0x596428;try{return{'participants':(await this[_0x4ff3dd(0x6eb)][_0x4ff3dd(0x1f3)](_0x13b0d5['groupJid']))[_0x4ff3dd(0x4b6)]};}catch(_0x5532e5){throw new x(_0x4ff3dd(0x3fc),_0x5532e5['toString']());}}async[a0_0x596428(0x1aa)](_0x4bcd30){const _0x5b9712=a0_0x596428;try{let _0x37a524=_0x4bcd30[_0x5b9712(0x4b6)][_0x5b9712(0x393)](_0x1c2e9e=>this[_0x5b9712(0x1ad)](_0x1c2e9e));return{'updateParticipants':await this[_0x5b9712(0x6eb)][_0x5b9712(0x684)](_0x4bcd30[_0x5b9712(0x240)],_0x37a524,_0x4bcd30[_0x5b9712(0x2b5)])};}catch(_0x2fc512){throw new g(_0x5b9712(0x554),_0x2fc512[_0x5b9712(0x1af)]());}}async[a0_0x596428(0x51c)](_0x5bbcef){const _0x26b338=a0_0x596428;try{let _0x2ddd77=await this[_0x26b338(0x6eb)][_0x26b338(0x5e6)](_0x5bbcef[_0x26b338(0x240)],_0x5bbcef[_0x26b338(0x1ff)]);return{'success':!0x0};}catch(_0x215fae){throw new g(_0x26b338(0x596),_0x215fae[_0x26b338(0x1af)]());}}async[a0_0x596428(0x373)](_0x26a488){const _0x41924b=a0_0x596428;try{return await this[_0x41924b(0x6eb)][_0x41924b(0x333)](_0x26a488[_0x41924b(0x240)]),{'groupJid':_0x26a488[_0x41924b(0x240)],'leave':!0x0};}catch(_0x2136d6){throw new g(_0x41924b(0x62c),_0x2136d6[_0x41924b(0x1af)]());}}async['pollMessage'](_0x5d4de9){const _0x5504f2=a0_0x596428;return await this[_0x5504f2(0x2c7)](_0x5d4de9['number'],{'poll':{'name':_0x5d4de9[_0x5504f2(0x66b)]?.['name'],'selectableCount':_0x5d4de9[_0x5504f2(0x66b)]['selectableCount'],'values':_0x5d4de9[_0x5504f2(0x66b)][_0x5504f2(0x30e)]}},_0x5d4de9?.[_0x5504f2(0x50d)]);}async[a0_0x596428(0x470)](_0x587feb,_0x43d006,_0x12a324){const _0x8b9708=a0_0x596428;if(await this[_0x8b9708(0x464)](_0x587feb,!0x0)){let _0x4dce6c={'where':{'_id':_0x587feb['id'],'owner':this[_0x8b9708(0x1f1)]['wuid']}},_0x18c613={'status':[_0x12a324[_0x8b9708(0x2a2)]][0x0]};try{let _0x220f79=await this[_0x8b9708(0x1fe)][_0x8b9708(0x56b)]['update'](_0x4dce6c,_0x18c613);_0x220f79&&B(this['instanceName'],_0x8b9708(0x1ec),{'message':_0x220f79});}catch{}}}['formatVCard'](_0x3413d4){const _0x1fbfd0=a0_0x596428;let _0x216e7e=_0x3413d4[_0x1fbfd0(0x527)](/\\n/g,'\x0a')[_0x1fbfd0(0x633)]('\x0a')[_0x1fbfd0(0x364)](_0x4f2a8d=>_0x4f2a8d['includes'](_0x1fbfd0(0x666))||_0x4f2a8d['includes'](_0x1fbfd0(0x239))),_0x3ce6a2='';return _0x216e7e[_0x1fbfd0(0x571)](_0x3992ad=>{const _0x46701a=_0x1fbfd0;let _0x3be594=/TEL(?:.*):(.+)/,_0xae7f76=/EMAIL(?:.*):(.+)/,_0x218ef0=_0x3992ad[_0x46701a(0x2ad)](_0x3be594),_0x4a2c86=_0x3992ad[_0x46701a(0x2ad)](_0xae7f76);if(_0x218ef0){let _0x4865b6=_0x218ef0[0x1][_0x46701a(0x527)](/-| |\+|\(|\)/g,'')['trim']();_0x3ce6a2+=_0x46701a(0x714)+_0x4865b6+'\x0a';}else{if(_0x4a2c86){let _0x11a4a1=_0x4a2c86[0x1][_0x46701a(0x58d)]();_0x3ce6a2+='E-mail:\x20'+_0x11a4a1+'\x0a';}}}),_0x3ce6a2['trim']();}async[a0_0x596428(0x736)](_0x2e0bea,_0x43fe79,_0x3d9031){const _0x43678e=a0_0x596428;let _0x187073=_0x43fe79[_0x43678e(0x40a)]['remoteJid'][_0x43678e(0x527)](/:\d{1,2}@/g,'@'),_0xa50762=_0x43fe79['key']['fromMe'],_0xd2ea4d=_0x187073[_0x43678e(0x2b2)]('@g.us');if(!_0x2e0bea[_0x43678e(0x404)])return;let _0x2e3fcd={'lastmsg':_0x43fe79['messageTimestamp']||Date[_0x43678e(0x4a1)](),'unreadcount':_0xa50762?0x0:0x1,..._0xa50762||_0xd2ea4d?{}:{'name':_0x43fe79[_0x43678e(0x388)]},..._0xd2ea4d?{'group':_0xd2ea4d}:{}},_0x3413de=await this['repository'][_0x43678e(0x3be)][_0x43678e(0x3ad)]({'where':{'_id':_0x187073,'owner':this[_0x43678e(0x1f1)][_0x43678e(0x694)]}},_0x2e3fcd,{'new':!0x0,'upsert':!0x0});if(!_0xd2ea4d&&(!_0x3413de?.[_0x43678e(0x5e7)]||!_0x3413de['leadInfo'][_0x43678e(0x539)])&&_0x43fe79[_0x43678e(0x388)]&&!_0xa50762&&await this[_0x43678e(0x1fe)][_0x43678e(0x3be)][_0x43678e(0x3ad)]({'where':{'_id':_0x187073,'owner':this[_0x43678e(0x1f1)][_0x43678e(0x694)]}},{'leadInfo.nome':_0x43fe79[_0x43678e(0x388)]},{'new':!0x0,'upsert':!0x1}),_0x3413de)B(this[_0x43678e(0x28a)],'chats',{'chat':_0x3413de});else{this[_0x43678e(0x1d3)]['error'](this[_0x43678e(0x28a)]+'\x20('+this['instance'][_0x43678e(0x694)]+_0x43678e(0x4c6));return;}if(!this[_0x43678e(0x3c3)]?.[_0x43678e(0x516)][_0x43678e(0x5a5)])return this[_0x43678e(0x1d3)][_0x43678e(0x327)](this['instanceName']+'\x20('+this[_0x43678e(0x1f1)][_0x43678e(0x694)]+_0x43678e(0x412)),null;if(_0x3413de[_0x43678e(0x19f)][_0x43678e(0x739)](_0x43678e(0x24a))&&this[_0x43678e(0x3c3)]?.[_0x43678e(0x516)][_0x43678e(0x6db)]===!0x0)return this[_0x43678e(0x1d3)]['verbose'](this[_0x43678e(0x28a)]+'\x20('+this[_0x43678e(0x1f1)]['wuid']+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x3413de[_0x43678e(0x5e7)]){if(_0x3413de[_0x43678e(0x5e7)][_0x43678e(0x71c)]===0x0||_0x3413de[_0x43678e(0x5e7)]['atendimentoAberto'])return this['logger'][_0x43678e(0x327)](this['instanceName']+'\x20('+this['instance'][_0x43678e(0x694)]+_0x43678e(0x1a2)+_0x187073+_0x43678e(0x348)),null;if(_0x3413de['leadInfo'][_0x43678e(0x71c)]>Date[_0x43678e(0x4a1)]())return this[_0x43678e(0x1d3)][_0x43678e(0x327)](this['instanceName']+'\x20('+this[_0x43678e(0x1f1)][_0x43678e(0x694)]+_0x43678e(0x353)+new Date(_0x3413de[_0x43678e(0x5e7)]['desativadoFluxoAte'])['toLocaleString']()+_0x43678e(0x348)),null;}this['logger'][_0x43678e(0x327)](this[_0x43678e(0x28a)]+'\x20('+this[_0x43678e(0x1f1)][_0x43678e(0x694)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x43678e(0x34e)](_0x3d9031,_0x43fe79,this[_0x43678e(0x1f1)]['wuid']);}async[a0_0x596428(0x20d)](_0x13ea86,_0x481f4c){const _0x2e6d6b=a0_0x596428;if(_0x481f4c[_0x2e6d6b(0x404)]){let _0x3c9be2=_0x13ea86[_0x2e6d6b(0x393)](async _0x38ff7e=>{const _0x1a4662=_0x2e6d6b;try{let _0x5747fd={'_id':_0x38ff7e[_0x1a4662(0x19f)],'owner':_0x38ff7e[_0x1a4662(0x337)],'lastcache':0x0};if(_0x38ff7e[_0x1a4662(0x3f3)]!==null&&(_0x5747fd[_0x1a4662(0x3f3)]=_0x38ff7e['group']),_0x38ff7e[_0x1a4662(0x382)]!==null&&(_0x5747fd[_0x1a4662(0x382)]=_0x38ff7e['name']),_0x38ff7e[_0x1a4662(0x3da)]!==null&&(_0x5747fd[_0x1a4662(0x3da)]=_0x38ff7e['contactname']),_0x38ff7e['imagechat']!==null&&(_0x5747fd[_0x1a4662(0x5ca)]=_0x38ff7e[_0x1a4662(0x5ca)]),_0x38ff7e[_0x1a4662(0x5ca)]===null&&(_0x5747fd[_0x1a4662(0x5ca)]=_0x1a4662(0x440)),_0x38ff7e[_0x1a4662(0x22c)]!==null&&(_0x5747fd['lastmsg']=_0x38ff7e[_0x1a4662(0x22c)]),_0x38ff7e[_0x1a4662(0x4e7)]!==null&&(_0x5747fd['archived']=_0x38ff7e[_0x1a4662(0x4e7)]),_0x38ff7e[_0x1a4662(0x65a)]!==null&&(_0x5747fd['unreadcount']=_0x38ff7e[_0x1a4662(0x65a)]),Object[_0x1a4662(0x678)](_0x5747fd)[_0x1a4662(0x708)]>0x0)return await this[_0x1a4662(0x1fe)][_0x1a4662(0x3be)][_0x1a4662(0x3ad)]({'where':{'_id':_0x38ff7e['_id'],'owner':_0x38ff7e['owner']}},_0x5747fd);}catch(_0x1219c0){return console['error'](_0x1a4662(0x469)+_0x38ff7e[_0x1a4662(0x19f)]+':',_0x1219c0),null;}}),_0x5cad40=(await Promise[_0x2e6d6b(0x349)](_0x3c9be2))[_0x2e6d6b(0x364)](_0x9d46b=>_0x9d46b!==null)[_0x2e6d6b(0x708)];this[_0x2e6d6b(0x1d3)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x2e6d6b(0x694)]+_0x2e6d6b(0x6e6)+_0x5cad40+'\x20chats\x20de\x20'+this[_0x2e6d6b(0x1f1)][_0x2e6d6b(0x694)]+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async[a0_0x596428(0x40f)](_0x52fbdd){const _0x30ee8b=a0_0x596428;this[_0x30ee8b(0x1d3)][_0x30ee8b(0x327)](this[_0x30ee8b(0x28a)]+'\x20('+this[_0x30ee8b(0x1f1)][_0x30ee8b(0x694)]+'):\x20Ler\x20mensagem');let _0x1b27f0={'readMessages':[{'remoteJid':_0x52fbdd[_0x30ee8b(0x390)][_0x30ee8b(0x6fa)]['key'][_0x30ee8b(0x5ea)],'fromMe':_0x52fbdd['chatLog'][_0x30ee8b(0x6fa)][_0x30ee8b(0x40a)][_0x30ee8b(0x4bd)],'id':_0x52fbdd[_0x30ee8b(0x390)][_0x30ee8b(0x6fa)][_0x30ee8b(0x40a)]['id']}]};await this[_0x30ee8b(0x375)](_0x1b27f0);}async['StartBot'](_0x2de8c0,_0x48a026,_0x5c2b50){const _0x20126f=a0_0x596428;try{let {key:_0x4f9bb5,message_normalized:_0x5a5394}=_0x48a026,_0x553585=_0x5a5394,_0x18f0d0=_0x5a5394[_0x20126f(0x46a)]||_0x5a5394[_0x20126f(0x65d)]||_0x5a5394[_0x20126f(0x598)]||_0x5a5394['name'],_0x2e1be8=_0x4f9bb5[_0x20126f(0x5ea)],_0x36279e;if(_0x553585[_0x20126f(0x40a)]['fromMe']&&_0x18f0d0[_0x20126f(0x58d)]()!==this[_0x20126f(0x3c3)]?.['flowConfig'][_0x20126f(0x1bc)]['trim']())return this[_0x20126f(0x1d3)][_0x20126f(0x327)](this[_0x20126f(0x28a)]+'\x20('+this['instance'][_0x20126f(0x694)]+_0x20126f(0x635)),null;if(_0x553585[_0x20126f(0x40a)]['fromMe']&&_0x18f0d0[_0x20126f(0x58d)]()===this[_0x20126f(0x3c3)]?.[_0x20126f(0x516)][_0x20126f(0x1bc)][_0x20126f(0x58d)]()){this['logger'][_0x20126f(0x327)](this[_0x20126f(0x28a)]+'\x20('+this['instance'][_0x20126f(0x694)]+_0x20126f(0x31b));let _0x1d28f6=await j['find']({'owner':_0x5c2b50,'remoteJid':_0x2e1be8,'status':_0x20126f(0x1b4)});this[_0x20126f(0x1d3)][_0x20126f(0x327)](this[_0x20126f(0x28a)]+'\x20('+this[_0x20126f(0x1f1)][_0x20126f(0x694)]+_0x20126f(0x4ca)+_0x1d28f6);let _0x4d80fe=Date[_0x20126f(0x4a1)](),_0x4137a7;return this[_0x20126f(0x3c3)]?.[_0x20126f(0x516)][_0x20126f(0x21b)]===0x0?_0x4137a7={'stoppedUntil':_0x4d80fe+0x7591f6200}:_0x4137a7={'stoppedUntil':_0x4d80fe+this[_0x20126f(0x3c3)]?.['flowConfig'][_0x20126f(0x21b)]*0x3c*0x3e8},this[_0x20126f(0x1d3)][_0x20126f(0x327)](this['instanceName']+'\x20('+this['instance'][_0x20126f(0x694)]+_0x20126f(0x53b)+_0x4137a7),this[_0x20126f(0x56f)](_0x36279e,_0x4137a7['stoppedUntil']),null;}if(_0x18f0d0&&_0x18f0d0['startsWith'](this['AutomateSystem']?.[_0x20126f(0x516)][_0x20126f(0x192)])&&_0x18f0d0[_0x20126f(0x708)]>0x4){let _0x3c9fb3=await I['findOne']({'owner':_0x5c2b50,'startCommandWord':_0x18f0d0});if(this['logger'][_0x20126f(0x327)](this[_0x20126f(0x28a)]+'\x20('+this[_0x20126f(0x1f1)][_0x20126f(0x694)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x3c9fb3)_0x36279e=await this[_0x20126f(0x61a)](_0x3c9fb3,_0x553585[_0x20126f(0x40a)],_0x553585);else return this['logger']['verbose'](this[_0x20126f(0x28a)]+'\x20('+this[_0x20126f(0x1f1)][_0x20126f(0x694)]+_0x20126f(0x523)),null;}else _0x36279e=await this[_0x20126f(0x63f)](_0x5c2b50,_0x2e1be8,_0x553585);if(_0x36279e){this['logger']['verbose'](this[_0x20126f(0x28a)]+'\x20('+this['instance'][_0x20126f(0x694)]+_0x20126f(0x2cb)),!_0x4f9bb5[_0x20126f(0x4bd)]&&_0x36279e[_0x20126f(0x2d2)]&&this[_0x20126f(0x40f)](_0x36279e);let _0x1c5428=await this['NextBlock'](_0x36279e);_0x1c5428&&await this['processblock'](_0x36279e,_0x1c5428,_0x36279e[_0x20126f(0x5ea)]);}}catch(_0x53243c){this[_0x20126f(0x1d3)][_0x20126f(0x244)](this[_0x20126f(0x28a)]+'\x20('+this[_0x20126f(0x1f1)][_0x20126f(0x694)]+_0x20126f(0x674)+_0x53243c);}}[a0_0x596428(0x5b4)](_0x4fac1f,_0x1f9b9b='',_0x102ed6={},_0x5c5e9e=!0x0){const _0x3c1458=a0_0x596428;for(let _0x1b52b6 in _0x4fac1f){let _0x26a72d=_0x5c5e9e?'_'+_0x1b52b6:''+_0x1f9b9b+_0x1b52b6;typeof _0x4fac1f[_0x1b52b6]=='object'&&_0x4fac1f[_0x1b52b6]!==null?this[_0x3c1458(0x5b4)](_0x4fac1f[_0x1b52b6],_0x26a72d+'.',_0x102ed6,!0x1):_0x102ed6[_0x26a72d]=String(_0x4fac1f[_0x1b52b6]);}return _0x102ed6;}[a0_0x596428(0x4ac)](_0x49a7fd){const _0x1ce25e=a0_0x596428;let _0xa7c9fb={};for(let _0x177b4e of _0x49a7fd)typeof _0x177b4e['name']==_0x1ce25e(0x55f)&&typeof _0x177b4e[_0x1ce25e(0x2c9)]==_0x1ce25e(0x55f)&&(_0xa7c9fb[_0x177b4e[_0x1ce25e(0x382)]]=_0x177b4e['value']);return _0xa7c9fb;}async[a0_0x596428(0x61c)](_0x55cf26){const _0x42b2dc=a0_0x596428;if(!this[_0x42b2dc(0x3c3)]?.[_0x42b2dc(0x516)]['enabled']||_0x55cf26[_0x42b2dc(0x2a2)]!==_0x42b2dc(0x1b4)&&_0x55cf26['waitingPoll_id']==='')return null;let _0x259bda=_0x55cf26['chatLog']['lastBlockId']||_0x42b2dc(0x20c);typeof _0x55cf26[_0x42b2dc(0x390)][_0x42b2dc(0x5b6)]>'u'&&(_0x55cf26[_0x42b2dc(0x390)]['lastCondition']=!0x0);let _0x4cd2c2=_0x55cf26[_0x42b2dc(0x390)][_0x42b2dc(0x5b6)];this[_0x42b2dc(0x1d3)][_0x42b2dc(0x327)](this[_0x42b2dc(0x28a)]+'\x20('+this[_0x42b2dc(0x1f1)][_0x42b2dc(0x694)]+_0x42b2dc(0x215)+_0x259bda+_0x42b2dc(0x3e5)+_0x4cd2c2);let _0x15e6a0=_0x259bda===_0x42b2dc(0x20c)?_0x55cf26[_0x42b2dc(0x253)][_0x42b2dc(0x266)](_0x1b76c2=>_0x1b76c2[_0x42b2dc(0x394)]===_0x42b2dc(0x20c)):_0x55cf26[_0x42b2dc(0x253)][_0x42b2dc(0x266)](_0x244250=>_0x244250[_0x42b2dc(0x19f)]['toString']()===_0x259bda['toString']());if(!_0x15e6a0)return this['logger'][_0x42b2dc(0x244)](this[_0x42b2dc(0x28a)]+'\x20('+this[_0x42b2dc(0x1f1)][_0x42b2dc(0x694)]+_0x42b2dc(0x3ca)+_0x259bda),null;let _0x36ec75={'_pushName':_0x55cf26[_0x42b2dc(0x390)][_0x42b2dc(0x6fa)]['pushName'],..._0x55cf26[_0x42b2dc(0x390)][_0x42b2dc(0x176)]},_0x55ae83=null;if(_0x55cf26[_0x42b2dc(0x3dd)]){let _0x33ba42=_0x55cf26[_0x42b2dc(0x390)][_0x42b2dc(0x6fa)][_0x42b2dc(0x598)],_0x51d7bf=_0x55cf26[_0x42b2dc(0x39e)]['find'](_0x3703e6=>_0x3703e6[_0x42b2dc(0x3c4)]===_0x33ba42);if(_0x51d7bf){let _0x1caf8a=_0x51d7bf['next_groupId'];if(_0x55ae83=_0x55cf26[_0x42b2dc(0x253)][_0x42b2dc(0x266)](_0x5e5bff=>_0x5e5bff[_0x42b2dc(0x3e2)]===_0x1caf8a&&_0x5e5bff['order']===0x1),_0x15e6a0['uazapi'][_0x42b2dc(0x2b7)]){let _0x399ccc={'id':_0x55cf26[_0x42b2dc(0x3dd)],'remoteJid':_0x55cf26[_0x42b2dc(0x5ea)],'fromMe':!0x0};await this[_0x42b2dc(0x5cf)](_0x399ccc);}if(_0x15e6a0[_0x42b2dc(0x40e)]['pollOnReplyDelete']&&_0x15e6a0[_0x42b2dc(0x40e)][_0x42b2dc(0x4db)]){let _0x16725a={'number':_0x55cf26[_0x42b2dc(0x5ea)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x55cf26[_0x42b2dc(0x6cb)]+_0x42b2dc(0x340)+_0x33ba42}};await this['textMessage'](_0x16725a);}_0x55cf26[_0x42b2dc(0x2a2)]=_0x42b2dc(0x1b4),_0x55cf26[_0x42b2dc(0x3dd)]='',_0x55cf26['waitingPoll_name']='',_0x55cf26[_0x42b2dc(0x39e)]=[];}else{this[_0x42b2dc(0x1d3)][_0x42b2dc(0x327)](this[_0x42b2dc(0x28a)]+'\x20('+this['instance']['wuid']+_0x42b2dc(0x5c1));let _0x29f6dc={'activatedCount':_0x55cf26['chatLog'][_0x42b2dc(0x36b)][_0x42b2dc(0x364)](_0xb18205=>String(_0xb18205[_0x42b2dc(0x396)])===String(_0x259bda))['length'],'moreLogs':[_0x42b2dc(0x368)]};if(_0x15e6a0[_0x42b2dc(0x40e)][_0x42b2dc(0x5df)]){let _0x36ab3f={'number':_0x55cf26[_0x42b2dc(0x5ea)],'options':{'delay':0x0},'textMessage':{'text':_0x15e6a0['uazapi'][_0x42b2dc(0x5df)]}};await this['textMessage'](_0x36ab3f);}if(_0x15e6a0['maxActives']!==void 0x0&&_0x29f6dc['activatedCount']>=_0x15e6a0['maxActives']){let _0x1edc28=Date[_0x42b2dc(0x4a1)](),_0x1cc39e=_0x15e6a0[_0x42b2dc(0x5f8)]??0xa;isNaN(_0x1cc39e)&&(_0x1cc39e=0xa);let _0x532e3b=_0x1edc28+_0x1cc39e*0x3c*0x3e8;_0x29f6dc[_0x42b2dc(0x485)]=_0x532e3b,_0x29f6dc[_0x42b2dc(0x1e0)]['push']('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x42b2dc(0x56f)](_0x55cf26,_0x532e3b),_0x55cf26[_0x42b2dc(0x3dd)]='',_0x55cf26['waitingPoll_name']='',_0x55cf26[_0x42b2dc(0x39e)]=[];}return this[_0x42b2dc(0x433)](_0x55cf26,_0x15e6a0,_0x29f6dc,!0x0),null;}}if(_0x4cd2c2&&_0x15e6a0[_0x42b2dc(0x5d2)]&&!_0x55cf26['waitingPoll_id']){let _0x1d1509=_0x55cf26[_0x42b2dc(0x253)][_0x42b2dc(0x364)](_0x33d59d=>_0x33d59d[_0x42b2dc(0x3e2)][_0x42b2dc(0x1af)]()===_0x15e6a0['next_groupId'][_0x42b2dc(0x1af)]())['sort']((_0x3d7832,_0x411b93)=>_0x3d7832[_0x42b2dc(0x61f)]-_0x411b93['order']);_0x1d1509[_0x42b2dc(0x708)]>0x0&&(_0x55ae83=_0x1d1509[0x0]);}if(!_0x55ae83){let _0x3ed3a0=_0x15e6a0[_0x42b2dc(0x3e2)],_0x4ff9e8=_0x55cf26[_0x42b2dc(0x253)][_0x42b2dc(0x364)](_0x38ae21=>_0x38ae21[_0x42b2dc(0x3e2)]===_0x3ed3a0&&_0x38ae21[_0x42b2dc(0x61f)]>_0x15e6a0[_0x42b2dc(0x61f)])['sort']((_0x1117ef,_0x54643e)=>_0x1117ef[_0x42b2dc(0x61f)]-_0x54643e['order']);_0x4ff9e8[_0x42b2dc(0x708)]>0x0&&(_0x55ae83=_0x4ff9e8[0x0]);}if(!_0x55ae83)return _0x55cf26[_0x42b2dc(0x2a2)]=_0x42b2dc(0x303),null;_0x55cf26[_0x42b2dc(0x390)][_0x42b2dc(0x176)]=_0x36ec75;let _0x19886f=JSON['parse'](JSON[_0x42b2dc(0x35c)](_0x55ae83));return this['replaceVariablesInObject'](_0x19886f,_0x55cf26[_0x42b2dc(0x390)][_0x42b2dc(0x176)]),_0x55cf26[_0x42b2dc(0x390)][_0x42b2dc(0x53d)]=_0x19886f[_0x42b2dc(0x19f)],_0x55cf26['chatLog']['lastCondition']=!0x0,_0x19886f;}[a0_0x596428(0x5fc)](_0x28efe8,_0x33cbbb){const _0x486372=a0_0x596428;return _0x28efe8[_0x486372(0x527)](/\{\{([^}]+)\}\}/g,(_0xf711f2,_0x1748ab)=>_0x33cbbb[_0x1748ab]||'');}[a0_0x596428(0x183)](_0x12a669,_0x4112d3){const _0x159363=a0_0x596428;for(let _0x45f3c3 in _0x12a669)typeof _0x12a669[_0x45f3c3]==_0x159363(0x55f)?_0x12a669[_0x45f3c3]=this['replaceVariables'](_0x12a669[_0x45f3c3],_0x4112d3):typeof _0x12a669[_0x45f3c3]=='object'&&this[_0x159363(0x183)](_0x12a669[_0x45f3c3],_0x4112d3);}async[a0_0x596428(0x70b)](_0x58b6d4,_0x4150dc){const _0x5761c0=a0_0x596428;let _0x1acf5c=_0x4150dc[_0x5761c0(0x19f)];if(_0x58b6d4[_0x5761c0(0x390)]&&_0x58b6d4['chatLog'][_0x5761c0(0x36b)]){let _0x105d7c=_0x58b6d4[_0x5761c0(0x390)][_0x5761c0(0x36b)][_0x5761c0(0x364)](_0x3c01cf=>String(_0x3c01cf[_0x5761c0(0x396)])===String(_0x1acf5c))[_0x5761c0(0x31d)]();if(_0x105d7c&&_0x105d7c[_0x5761c0(0x244)]&&_0x4150dc[_0x5761c0(0x231)])return _0x58b6d4[_0x5761c0(0x2a2)]=_0x5761c0(0x303),await this[_0x5761c0(0x4d2)](_0x58b6d4),null;}if(_0x4150dc[_0x5761c0(0x394)]==='uazapi'&&_0x4150dc[_0x5761c0(0x40e)][_0x5761c0(0x53e)]===_0x5761c0(0x467)&&_0x58b6d4[_0x5761c0(0x3dd)])return _0x58b6d4[_0x5761c0(0x390)][_0x5761c0(0x53d)]=_0x1acf5c,await this[_0x5761c0(0x4d2)](_0x58b6d4),null;let _0x4f99a4=await this[_0x5761c0(0x61c)](_0x58b6d4);if(_0x58b6d4[_0x5761c0(0x390)]&&_0x58b6d4[_0x5761c0(0x390)][_0x5761c0(0x36b)]){let _0x1c3061=_0x58b6d4['chatLog'][_0x5761c0(0x36b)][_0x5761c0(0x364)](_0x14b694=>String(_0x14b694[_0x5761c0(0x396)])===String(_0x1acf5c))[_0x5761c0(0x708)];if(_0x4150dc[_0x5761c0(0x4ae)]!==void 0x0&&_0x1c3061>=_0x4150dc[_0x5761c0(0x4ae)]){let _0x44bf00=Date[_0x5761c0(0x4a1)](),_0x281a4b=_0x4150dc[_0x5761c0(0x5f8)]??0xa;isNaN(_0x281a4b)&&(_0x281a4b=0xa);let _0x5c197d=_0x44bf00+_0x281a4b*0x3c*0x3e8,_0x501dd5={'newStoppedUntil':_0x5c197d};return this[_0x5761c0(0x56f)](_0x58b6d4,_0x5c197d),this[_0x5761c0(0x433)](_0x58b6d4,_0x4150dc,_0x501dd5,!0x0),null;}}_0x4f99a4&&_0x4f99a4['type']!==_0x5761c0(0x190)&&await this['processblock'](_0x58b6d4,_0x4f99a4,_0x58b6d4[_0x5761c0(0x5ea)]),_0x4f99a4||await this[_0x5761c0(0x4d2)](_0x58b6d4),_0x4f99a4&&_0x4f99a4[_0x5761c0(0x394)]==='save'&&(_0x58b6d4[_0x5761c0(0x390)][_0x5761c0(0x53d)]=_0x1acf5c,await this[_0x5761c0(0x4d2)](_0x58b6d4));}async[a0_0x596428(0x5e5)](_0x3828cc,_0x15f0b9,_0x1dd08a){const _0x5aa7cb=a0_0x596428;try{let _0x200926=_0x15f0b9[_0x5aa7cb(0x394)];this[_0x5aa7cb(0x1d3)][_0x5aa7cb(0x327)](this[_0x5aa7cb(0x28a)]+'\x20('+this['instance'][_0x5aa7cb(0x694)]+'):\x20Going\x20to\x20'+_0x200926);let _0x51fa81={'uazapi':()=>this[_0x5aa7cb(0x4dd)](_0x3828cc,_0x15f0b9,_0x1dd08a),'save':()=>this['saveTextReply'](_0x3828cc,_0x15f0b9),'stop':()=>this[_0x5aa7cb(0x1bc)](_0x3828cc,_0x15f0b9),'condition':()=>this[_0x5aa7cb(0x50c)](_0x3828cc,_0x15f0b9),'varedit':()=>this['processvaredits'](_0x3828cc,_0x15f0b9),'apirequest':()=>this[_0x5aa7cb(0x20e)](_0x3828cc,_0x15f0b9),'goToFlow':()=>this[_0x5aa7cb(0x28e)](_0x3828cc,_0x15f0b9)}[_0x200926];_0x51fa81&&await _0x51fa81();}catch(_0x6d0d6f){this[_0x5aa7cb(0x1d3)][_0x5aa7cb(0x244)](this['instanceName']+'\x20('+this[_0x5aa7cb(0x1f1)][_0x5aa7cb(0x694)]+_0x5aa7cb(0x2f3)+_0x6d0d6f);}}async['processgoToFlow'](_0x477199,_0x194129){const _0x489bf1=a0_0x596428;if(this[_0x489bf1(0x1d3)]['verbose'](this['instanceName']+'\x20('+this[_0x489bf1(0x1f1)]['wuid']+_0x489bf1(0x3c0)),!_0x477199||!_0x194129)return this[_0x489bf1(0x1d3)][_0x489bf1(0x244)](this[_0x489bf1(0x28a)]+'\x20('+this[_0x489bf1(0x1f1)][_0x489bf1(0x694)]+_0x489bf1(0x52c)),null;await this['updateConversation'](_0x477199,_0x194129,{},!0x0,!0x0),console['log'](_0x489bf1(0x372)),console['log'](_0x194129);let _0x3c4567=_0x194129[_0x489bf1(0x5d9)];console[_0x489bf1(0x208)](_0x489bf1(0x505),_0x3c4567),_0x477199=await this[_0x489bf1(0x18f)](_0x3c4567,_0x477199['remoteJid'],_0x477199[_0x489bf1(0x390)][_0x489bf1(0x176)]),this[_0x489bf1(0x1d3)][_0x489bf1(0x327)](this['instanceName']+'\x20('+this['instance'][_0x489bf1(0x694)]+_0x489bf1(0x589));let _0x303ace=await this[_0x489bf1(0x61c)](_0x477199);_0x303ace&&await this[_0x489bf1(0x5e5)](_0x477199,_0x303ace,_0x477199[_0x489bf1(0x5ea)]);}async[a0_0x596428(0x18f)](_0x5502b0,_0x2dc175,_0x8ea518){const _0x491699=a0_0x596428;this[_0x491699(0x1d3)][_0x491699(0x327)](this[_0x491699(0x28a)]+'\x20('+this[_0x491699(0x1f1)][_0x491699(0x694)]+_0x491699(0x210));try{if(_0x5502b0=await I[_0x491699(0x3d7)]({'owner':this[_0x491699(0x1f1)][_0x491699(0x694)],'name':_0x5502b0}),!_0x5502b0)return this[_0x491699(0x1d3)][_0x491699(0x244)](this[_0x491699(0x28a)]+'\x20('+this[_0x491699(0x1f1)][_0x491699(0x694)]+_0x491699(0x207)),null;let _0x536e71=require(_0x491699(0x379))[_0x491699(0x2e6)],_0x190073=Date[_0x491699(0x4a1)](),_0x524e25=_0x491699(0x20c),_0x408fe1={},_0x3706ed={},_0x4bdf42={..._0x5502b0['_doc'],'chatLog':null},_0x4e60c0={'lastReceivedMessage':_0x408fe1,'lastSendMessage':_0x3706ed,'lastBlockId':_0x524e25,'lastCondition':!0x0,'realVariables':_0x8ea518};_0x4bdf42[_0x491699(0x390)]=_0x4e60c0,_0x4bdf42[_0x491699(0x390)]['realVariables']={..._0x8ea518},delete _0x4bdf42[_0x491699(0x19f)],_0x4bdf42[_0x491699(0x19f)]=new _0x536e71(),_0x4bdf42[_0x491699(0x5ab)]=_0x190073,_0x4bdf42[_0x491699(0x2a2)]=_0x491699(0x1b4),_0x4bdf42[_0x491699(0x5ea)]=_0x2dc175;let _0x213042=await j[_0x491699(0x503)](_0x4bdf42);return this[_0x491699(0x1d3)]['verbose'](this[_0x491699(0x28a)]+'\x20('+this['instance'][_0x491699(0x694)]+_0x491699(0x70d)),_0x213042?_0x4bdf42:null;}catch(_0x175ac5){throw this['logger'][_0x491699(0x244)](this['instanceName']+'\x20('+this[_0x491699(0x1f1)]['wuid']+_0x491699(0x532)+_0x175ac5),new g(_0x175ac5['message']);}}async['processApiRequest'](_0x1718b5,_0x551b17){const _0x302b09=a0_0x596428;let _0x13f922,_0x5e457b;try{let _0x16efdb=_0x551b17[_0x302b09(0x399)];if(!_0x16efdb||!_0x16efdb['url']||!_0x16efdb[_0x302b09(0x66a)])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x395d98={'method':_0x16efdb[_0x302b09(0x66a)],'url':_0x16efdb['url'],'headers':_0x16efdb['header']||{},'data':_0x16efdb[_0x302b09(0x500)]||{}};_0x13f922=(await(0x0,ce[_0x302b09(0x3ea)])(_0x395d98))['data'];let _0x205402=_0x1718b5[_0x302b09(0x390)]['realVariables'],_0x2d63f6=this[_0x302b09(0x5b4)](_0x13f922);return Object[_0x302b09(0x306)](_0x205402,_0x2d63f6),_0x1718b5['chatLog'][_0x302b09(0x176)]=_0x205402,_0x5e457b={'error':!0x1,'apiResponse':_0x13f922},this[_0x302b09(0x433)](_0x1718b5,_0x551b17,_0x5e457b),_0x13f922;}catch(_0x1e5dcc){console[_0x302b09(0x244)](_0x302b09(0x234),_0x1e5dcc),_0x1e5dcc['response']&&(_0x13f922=_0x1e5dcc[_0x302b09(0x6f7)][_0x302b09(0x249)]);let _0x22fdcf=_0x1718b5['chatLog'][_0x302b09(0x176)],_0x1d6e5b=this[_0x302b09(0x5b4)](_0x13f922);return Object[_0x302b09(0x306)](_0x22fdcf,_0x1d6e5b),_0x1718b5[_0x302b09(0x390)][_0x302b09(0x176)]=_0x22fdcf,_0x5e457b={'error':!0x0,'errorLog':_0x1e5dcc[_0x302b09(0x1af)](),'apiResponse':_0x13f922},this[_0x302b09(0x433)](_0x1718b5,_0x551b17,_0x5e457b),{'success':!0x1};}}[a0_0x596428(0x587)](_0x544730,_0x242594){const _0xc7f177=a0_0x596428;let _0x273f2f=_0xdf05de=>{const _0x3ae6b6=a0_0xd1e2;let _0x2f9030=_0xdf05de['replace'](/[^0-9.,-]/g,'')[_0x3ae6b6(0x527)](',','.'),_0x4678b1=parseFloat(_0x2f9030);return isNaN(_0x4678b1)?null:_0x4678b1;},_0x2af0bb=_0x242594[_0xc7f177(0x18a)],_0x30acf2=_0x242594['secondValue'];typeof _0x2af0bb=='string'&&(_0x2af0bb=this[_0xc7f177(0x5fc)](_0x2af0bb,_0x544730[_0xc7f177(0x390)][_0xc7f177(0x176)])??''),typeof _0x30acf2=='string'&&(_0x30acf2=this[_0xc7f177(0x5fc)](_0x30acf2,_0x544730['chatLog'][_0xc7f177(0x176)])??'');let _0x27c127=null;if(!_0x2af0bb||!_0x242594[_0xc7f177(0x212)])return null;switch(this[_0xc7f177(0x1d3)][_0xc7f177(0x327)](this[_0xc7f177(0x28a)]+'\x20('+this[_0xc7f177(0x1f1)]['wuid']+_0xc7f177(0x557)+_0x2af0bb),this[_0xc7f177(0x1d3)]['verbose'](this['instanceName']+'\x20('+this[_0xc7f177(0x1f1)][_0xc7f177(0x694)]+_0xc7f177(0x542)+_0x30acf2),_0x242594[_0xc7f177(0x212)]){case'+':case'-':case'*':case'/':let _0x1c60ae=_0x273f2f(_0x2af0bb),_0xb96530=_0x273f2f(_0x30acf2||'0');if(_0x1c60ae===null)return null;switch(_0x242594[_0xc7f177(0x212)]){case'+':_0x27c127=_0x1c60ae+(_0xb96530??0x0);break;case'-':_0x27c127=_0x1c60ae-(_0xb96530??0x0);break;case'*':_0x27c127=_0x1c60ae*(_0xb96530??0x1);break;case'/':_0xb96530!==0x0&&(_0x27c127=_0x1c60ae/(_0xb96530??0x1));break;}break;case _0xc7f177(0x55e):case _0xc7f177(0x27c):let _0x858dd7=_0x30acf2,_0x468f54=_0x242594[_0xc7f177(0x1ac)];if(typeof _0x468f54==_0xc7f177(0x55f)&&(_0x468f54=this[_0xc7f177(0x5fc)](_0x468f54,_0x544730[_0xc7f177(0x390)]['realVariables'])??''),_0x858dd7&&_0x468f54!==void 0x0){let _0x5be2f4=_0x242594[_0xc7f177(0x212)]==='findAndReplace'?new RegExp(_0x858dd7[_0xc7f177(0x527)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x858dd7,'g');_0x27c127=_0x2af0bb['replace'](_0x5be2f4,_0x468f54);}else console[_0xc7f177(0x6b1)](_0xc7f177(0x4b3));break;case _0xc7f177(0x583):_0x27c127=_0x30acf2;break;case _0xc7f177(0x3af):let _0x215014=_0x2af0bb[_0xc7f177(0x2ad)](new RegExp(_0x30acf2||''));_0x27c127=_0x215014?_0x215014[0x0]:'';break;case'truncatedto':_0x27c127=_0x2af0bb[_0xc7f177(0x226)](0x0,parseInt(_0x30acf2||'0'));break;case _0xc7f177(0x4da):let _0x4cdb23=parseInt(_0x30acf2||'0');_0x27c127=_0x2af0bb[_0xc7f177(0x226)](_0x2af0bb[_0xc7f177(0x708)]-_0x4cdb23);break;case _0xc7f177(0x55d):let _0x4f8d4f=_0x273f2f(_0x2af0bb),_0x4f05a4=parseInt(_0x30acf2||'0');_0x4f05a4=Math[_0xc7f177(0x302)](_0x4f05a4),_0x4f8d4f!==null?_0x27c127=_0x4f8d4f[_0xc7f177(0x366)](_0xc7f177(0x334),{'minimumFractionDigits':_0x4f05a4,'maximumFractionDigits':_0x4f05a4}):(console[_0xc7f177(0x6b1)]('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x2af0bb),_0x27c127=null);break;case _0xc7f177(0x184):let _0x3d70d2=_0x273f2f(_0x2af0bb);_0x3d70d2!==null?_0x27c127=_0x3d70d2[_0xc7f177(0x366)](_0xc7f177(0x334),{'style':'currency','currency':_0xc7f177(0x559)}):(console[_0xc7f177(0x6b1)](_0xc7f177(0x352)+_0x2af0bb),_0x27c127=null);break;case _0xc7f177(0x608):_0x27c127=_0x2af0bb[_0xc7f177(0x553)]();break;case _0xc7f177(0x61d):_0x27c127=_0x2af0bb['toLowerCase']();break;case'capitalizedWords':_0x27c127=_0x2af0bb['split']('\x20')[_0xc7f177(0x393)](_0x473747=>_0x473747[_0xc7f177(0x489)](0x0)[_0xc7f177(0x553)]()+_0x473747['slice'](0x1)[_0xc7f177(0x4bf)]())[_0xc7f177(0x72f)]('\x20');break;case'trimmed':_0x27c127=_0x2af0bb[_0xc7f177(0x58d)]();break;default:_0x27c127=_0x2af0bb;}return _0x27c127!==null?_0x27c127['toString']():null;}async[a0_0x596428(0x580)](_0x443995,_0x1112cc){const _0x221760=a0_0x596428;try{let _0x42c905=_0x443995[_0x221760(0x5bf)]?.[_0x221760(0x364)](_0x40c0a5=>_0x40c0a5[_0x221760(0x396)]===_0x1112cc[_0x221760(0x19f)]?.['toString']())||[],_0x1866bb=_0x1112cc['saveVariable'],_0xff73cd=null,_0x12e0e3=[],_0x1d1efd=_0x443995[_0x221760(0x390)]['realVariables'][_0x1866bb];_0x12e0e3[_0x221760(0x66c)](_0x221760(0x646)+_0x1d1efd+'\x22');for(let _0x4a2db1 of _0x42c905){_0x4a2db1['firstValue']=_0x1d1efd,_0xff73cd=_0x4a2db1[_0x221760(0x18a)];let _0x11369c;try{_0x11369c=this['applyvaredit'](_0x443995,_0x4a2db1);}catch(_0x42cbd2){console[_0x221760(0x244)](_0x221760(0x563)+_0x42cbd2[_0x221760(0x56b)]);continue;}if(_0x11369c!==null){let _0x1a2fdd='Operador:\x20\x22'+_0x4a2db1[_0x221760(0x212)]+'\x22',_0x16633f=['toBRL',_0x221760(0x608),_0x221760(0x61d),_0x221760(0x2aa),_0x221760(0x512)];_0x4a2db1[_0x221760(0x212)]===_0x221760(0x55e)||_0x4a2db1[_0x221760(0x212)]===_0x221760(0x27c)?_0x1a2fdd+=_0x221760(0x180)+_0x4a2db1['secondValue']+_0x221760(0x60a)+_0x4a2db1[_0x221760(0x1ac)]+'\x22':!_0x16633f[_0x221760(0x739)](_0x4a2db1['editOperator'])&&_0x4a2db1[_0x221760(0x3d9)]!==null&&_0x4a2db1[_0x221760(0x3d9)]!==void 0x0&&(_0x1a2fdd+=',\x20valor\x20passado:\x20\x22'+_0x4a2db1[_0x221760(0x3d9)]+'\x22'),_0x1a2fdd+=',\x20resultado:\x20'+_0x11369c+'.',_0x12e0e3['push'](_0x1a2fdd);}_0x11369c!==null&&(_0x1d1efd=_0x11369c);}if(_0x443995['chatLog'][_0x221760(0x176)]&&_0x1112cc[_0x221760(0x4a2)]){_0x443995['chatLog'][_0x221760(0x176)][_0x1112cc[_0x221760(0x4a2)]]=_0x1d1efd;let _0x12192f={'variable':_0x1112cc[_0x221760(0x4a2)],'oldValue':_0xff73cd,'newValue':_0x1d1efd,'moreLogs':_0x12e0e3};try{this[_0x221760(0x433)](_0x443995,_0x1112cc,_0x12192f);}catch(_0x571582){console['error']('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x571582[_0x221760(0x56b)]);}}return _0x1866bb;}catch(_0x447c64){return console[_0x221760(0x244)](_0x221760(0x562)+_0x447c64[_0x221760(0x56b)]),null;}}async['processConditions'](_0x27ae92,_0x3acc26){const _0xb00fcc=a0_0x596428;try{let _0x20db62=[],_0x292a4e=_0x27ae92['conditions'][_0xb00fcc(0x364)](_0x23a329=>_0x23a329[_0xb00fcc(0x396)]===_0x3acc26[_0xb00fcc(0x19f)][_0xb00fcc(0x1af)]()),_0x4beb92=null,_0x4d4f47=!0x1;for(let _0x283546 of _0x292a4e){let _0x2c277a=this[_0xb00fcc(0x639)](_0x27ae92,_0x283546);_0x20db62[_0xb00fcc(0x66c)](_0xb00fcc(0x49a)+_0x283546[_0xb00fcc(0x18a)]+_0xb00fcc(0x223)+_0x283546['expression']+_0xb00fcc(0x1e7)+_0x283546[_0xb00fcc(0x3d9)]+_0xb00fcc(0x26b)+_0x2c277a),_0x4beb92===null?_0x4beb92=_0x2c277a:_0x283546[_0xb00fcc(0x238)]===_0xb00fcc(0x2c5)?(_0x4beb92=_0x4beb92&&_0x2c277a,_0x2c277a||(_0x4d4f47=!0x0)):_0x283546[_0xb00fcc(0x238)]==='or'&&(_0x4d4f47||(_0x4beb92=_0x4beb92||_0x2c277a));}_0x4beb92===null&&(_0x4beb92=!0x0);let _0x8e21a4={'moreLogs':_0x20db62};_0x27ae92[_0xb00fcc(0x390)]['lastCondition']=_0x4beb92,await this[_0xb00fcc(0x433)](_0x27ae92,_0x3acc26,_0x8e21a4);}catch(_0x2612cf){this['logger'][_0xb00fcc(0x244)](this[_0xb00fcc(0x28a)]+'\x20('+this['instance'][_0xb00fcc(0x694)]+'):\x20Error\x20processing\x20conditions:\x20'+_0x2612cf);}}[a0_0x596428(0x639)](_0x53f34a,_0x133b33){const _0x52c50d=a0_0x596428;let _0x6c0931=_0x133b33['firstValue'],_0x3e72f7=_0x133b33['secondValue'];typeof _0x6c0931==_0x52c50d(0x55f)&&(_0x6c0931=this[_0x52c50d(0x5fc)](_0x6c0931,_0x53f34a[_0x52c50d(0x390)]['realVariables'])??''),typeof _0x3e72f7==_0x52c50d(0x55f)&&(_0x3e72f7=this['replaceVariables'](_0x3e72f7,_0x53f34a[_0x52c50d(0x390)][_0x52c50d(0x176)])??'');try{switch(_0x133b33[_0x52c50d(0x269)]){case'equal':return _0x6c0931===_0x3e72f7;case'notEqual':return _0x6c0931!==_0x3e72f7;case'contains':return _0x6c0931[_0x52c50d(0x739)](_0x3e72f7);case _0x52c50d(0x26d):return!_0x6c0931[_0x52c50d(0x739)](_0x3e72f7);case'greater':return parseFloat(_0x6c0931)>parseFloat(_0x3e72f7);case _0x52c50d(0x429):return parseFloat(_0x6c0931)<parseFloat(_0x3e72f7);case'notEmpty':return _0x6c0931!=='';case _0x52c50d(0x232):return _0x6c0931==='';case'matchRegex':return new RegExp(_0x3e72f7)[_0x52c50d(0x1a4)](_0x6c0931);case _0x52c50d(0x3f1):return!new RegExp(_0x3e72f7)[_0x52c50d(0x1a4)](_0x6c0931);default:return!0x1;}}catch(_0x3e56e5){return console['error'](_0x52c50d(0x1bd)+_0x3e56e5),!0x1;}}[a0_0x596428(0x3b3)](_0x2ad7ff){const _0x6a5c89=a0_0x596428;let _0x2b6d84=!0x0,_0xd5f8e7=null;for(let _0x401778 of _0x2ad7ff){let _0x144da0=this[_0x6a5c89(0x1fa)](_0x401778);if(_0xd5f8e7==='or'&&_0x144da0){_0x2b6d84=!0x0;break;}if(_0xd5f8e7==='and'&&!_0x144da0){_0x2b6d84=!0x1;break;}_0xd5f8e7=_0x401778[_0x6a5c89(0x238)];}return _0x2b6d84;}[a0_0x596428(0x1fa)](_0x1d30e3){const _0x5ca38e=a0_0x596428;let _0x53f303=_0x1d30e3['firstValue'],_0x2b58f4=_0x1d30e3[_0x5ca38e(0x3d9)];try{switch(_0x1d30e3['expression']){case _0x5ca38e(0x29d):return String(_0x53f303)===String(_0x2b58f4);case _0x5ca38e(0x6af):return String(_0x53f303)!==String(_0x2b58f4);case _0x5ca38e(0x664):return String(_0x53f303)['includes'](String(_0x2b58f4));case'notContains':return!String(_0x53f303)['includes'](String(_0x2b58f4));case _0x5ca38e(0x17a):return parseFloat(String(_0x53f303))>parseFloat(String(_0x2b58f4));case _0x5ca38e(0x429):return parseFloat(String(_0x53f303))<parseFloat(String(_0x2b58f4));case _0x5ca38e(0x628):return String(_0x53f303)!=='';case'empty':return String(_0x53f303)==='';case _0x5ca38e(0x5a4):return new RegExp(String(_0x2b58f4))['test'](String(_0x53f303));case'notMatchRegex':return!new RegExp(String(_0x2b58f4))[_0x5ca38e(0x1a4)](String(_0x53f303));default:return!0x1;}}catch(_0xfeff12){return console[_0x5ca38e(0x244)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0xfeff12),!0x1;}}async['saveTextReply'](_0x5c63dc,_0x3c6780){const _0x2b7eb3=a0_0x596428;if(this[_0x2b7eb3(0x1d3)][_0x2b7eb3(0x327)](this['instanceName']+'\x20('+this[_0x2b7eb3(0x1f1)]['wuid']+_0x2b7eb3(0x2b6)),!_0x5c63dc||!_0x3c6780)return this[_0x2b7eb3(0x1d3)][_0x2b7eb3(0x244)](this[_0x2b7eb3(0x28a)]+'\x20('+this[_0x2b7eb3(0x1f1)][_0x2b7eb3(0x694)]+_0x2b7eb3(0x52c)),null;let _0x231eb3=_0x3c6780[_0x2b7eb3(0x4a2)],_0x4f44c3=_0x5c63dc[_0x2b7eb3(0x390)]['lastReceivedMessage'][_0x2b7eb3(0x46a)]||_0x5c63dc['chatLog'][_0x2b7eb3(0x6fa)]['caption']||_0x5c63dc[_0x2b7eb3(0x390)][_0x2b7eb3(0x6fa)][_0x2b7eb3(0x598)];try{_0x5c63dc[_0x2b7eb3(0x390)][_0x2b7eb3(0x176)]||(_0x5c63dc[_0x2b7eb3(0x390)][_0x2b7eb3(0x176)]={});let _0x19509d=_0x5c63dc[_0x2b7eb3(0x390)][_0x2b7eb3(0x176)][_0x231eb3];_0x5c63dc['chatLog'][_0x2b7eb3(0x176)][_0x231eb3]=_0x4f44c3;let _0x679210={'variable':_0x231eb3,'oldValue':_0x19509d,'newValue':_0x4f44c3};this[_0x2b7eb3(0x433)](_0x5c63dc,_0x3c6780,_0x679210),this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x2b7eb3(0x694)]+_0x2b7eb3(0x2d3));}catch(_0x2fcedd){let _0x16b78b={'error':!0x0,'errorLog':_0x2fcedd[_0x2b7eb3(0x1af)]()};return this[_0x2b7eb3(0x433)](_0x5c63dc,_0x3c6780,_0x16b78b),this[_0x2b7eb3(0x1d3)][_0x2b7eb3(0x244)](this[_0x2b7eb3(0x28a)]+'\x20('+this[_0x2b7eb3(0x1f1)]['wuid']+_0x2b7eb3(0x30d)+_0x2fcedd['message']),null;}}async[a0_0x596428(0x1bc)](_0x50249f,_0x156d93){const _0x1ef42d=a0_0x596428;if(this['logger'][_0x1ef42d(0x327)](this[_0x1ef42d(0x28a)]+'\x20('+this[_0x1ef42d(0x1f1)][_0x1ef42d(0x694)]+_0x1ef42d(0x58b)),!_0x50249f||!_0x156d93)return this[_0x1ef42d(0x1d3)]['error'](this[_0x1ef42d(0x28a)]+'\x20('+this[_0x1ef42d(0x1f1)][_0x1ef42d(0x694)]+_0x1ef42d(0x52c)),null;let _0x5c7b3d=Date[_0x1ef42d(0x4a1)](),_0x50ba2e=parseInt(_0x156d93[_0x1ef42d(0x21b)],0xa);if(isNaN(_0x50ba2e))return this[_0x1ef42d(0x1d3)]['error'](this[_0x1ef42d(0x28a)]+'\x20('+this[_0x1ef42d(0x1f1)][_0x1ef42d(0x694)]+_0x1ef42d(0x46f)),null;let _0x3a77d3={'newStoppedUntil':_0x5c7b3d+_0x50ba2e*0x3c*0x3e8};return await this['updateConversation'](_0x50249f,_0x156d93,_0x3a77d3,!0x0),null;}async[a0_0x596428(0x4dd)](_0x45cc67,_0x356305,_0x22dad1){const _0x261256=a0_0x596428;try{switch(_0x356305[_0x261256(0x40e)]['command']){case _0x261256(0x252):await this[_0x261256(0x233)](_0x45cc67,_0x356305,_0x22dad1);break;case'sendMedia':await this[_0x261256(0x6a8)](_0x45cc67,_0x356305,_0x22dad1);break;case _0x261256(0x1e5):await this['uazapiSendLocation'](_0x45cc67,_0x356305,_0x22dad1);break;case _0x261256(0x5c0):await this['uazapiSendAudio'](_0x45cc67,_0x356305,_0x22dad1);break;case'sendContact':await this[_0x261256(0x706)](_0x45cc67,_0x356305,_0x22dad1);break;case _0x261256(0x467):await this['uazapiSendPoll'](_0x45cc67,_0x356305,_0x22dad1);break;case _0x261256(0x5cf):await this[_0x261256(0x4df)](_0x45cc67,_0x356305,_0x22dad1);break;default:this[_0x261256(0x1d3)]['error'](this[_0x261256(0x28a)]+'\x20('+this[_0x261256(0x1f1)][_0x261256(0x694)]+_0x261256(0x48e)+_0x356305['uazapi'][_0x261256(0x53e)]);}}catch(_0x4e55ea){this[_0x261256(0x1d3)][_0x261256(0x244)](this[_0x261256(0x28a)]+'\x20('+this[_0x261256(0x1f1)][_0x261256(0x694)]+_0x261256(0x293)+_0x4e55ea);}}async[a0_0x596428(0x433)](_0x2f7a69,_0x30d6b9,_0x3406d0,_0x123d2a=!0x1,_0x5c576d=!0x1){const _0x33e60f=a0_0x596428;_0x2f7a69[_0x33e60f(0x390)][_0x33e60f(0x36b)]||(_0x2f7a69[_0x33e60f(0x390)][_0x33e60f(0x36b)]=[]);let _0x39abbe=(_0x2f7a69['chatLog'][_0x33e60f(0x36b)]?.[_0x33e60f(0x708)]??0x0)+0x1,_0x69e7fe=_0x2f7a69['chatLog']['blockLogs'][_0x33e60f(0x364)](_0x246cd7=>String(_0x246cd7[_0x33e60f(0x396)])===String(_0x30d6b9[_0x33e60f(0x19f)]))[_0x33e60f(0x708)]+0x1,_0x548509=_0x3406d0?.[_0x33e60f(0x5cb)]??Date['now'](),_0x1e6ce5=_0x3406d0?.[_0x33e60f(0x244)]?_0x3406d0[_0x33e60f(0x5b3)]??_0x3406d0[_0x33e60f(0x244)][_0x33e60f(0x1af)]():void 0x0,_0x3366ba={'onTime':_0x548509,'blockId':_0x30d6b9['_id'],'order':_0x39abbe,'activatedCount':_0x69e7fe,'error':_0x3406d0?.[_0x33e60f(0x244)]??!0x1,'messageId':_0x3406d0?.['messageId'],'apiResponse':_0x3406d0?.[_0x33e60f(0x1c6)],'apiResponseString':_0x3406d0?.[_0x33e60f(0x1c6)]?JSON['stringify'](_0x3406d0?.[_0x33e60f(0x1c6)]):void 0x0,'variable':_0x3406d0?.['variable'],'oldValue':_0x3406d0?.['oldValue'],'newValue':_0x3406d0?.[_0x33e60f(0x23c)],'newStoppedUntil':_0x3406d0?.[_0x33e60f(0x485)],'moreLogs':_0x3406d0?.[_0x33e60f(0x1e0)],'errorLog':_0x1e6ce5};if(_0x3406d0[_0x33e60f(0x1e0)]&&_0x3406d0[_0x33e60f(0x1e0)][_0x33e60f(0x708)]>0x0){let _0x1d830f=_0x3406d0[_0x33e60f(0x1e0)][_0x33e60f(0x393)](_0x5d9b3f=>this['replaceVariablesLogs'](_0x5d9b3f,_0x2f7a69[_0x33e60f(0x390)]['realVariables']));_0x3366ba[_0x33e60f(0x1e0)]=_0x1d830f;}_0x2f7a69['chatLog']['realVariables']||(_0x2f7a69['chatLog']['realVariables']={}),_0x2f7a69['chatLog'][_0x33e60f(0x176)][_0x33e60f(0x5c3)]=String(_0x69e7fe),_0x2f7a69[_0x33e60f(0x390)][_0x33e60f(0x176)][_0x33e60f(0x325)]=String(_0x3406d0[_0x33e60f(0x244)]??!0x1),_0x2f7a69[_0x33e60f(0x390)][_0x33e60f(0x36b)][_0x33e60f(0x66c)](_0x3366ba),_0x2f7a69[_0x33e60f(0x390)][_0x33e60f(0x53d)]=_0x30d6b9[_0x33e60f(0x19f)][_0x33e60f(0x1af)](),_0x2f7a69[_0x33e60f(0x390)][_0x33e60f(0x5f6)]&&(_0x2f7a69['chatLog']['lastSendMessage']=_0x2f7a69['chatLog'][_0x33e60f(0x5f6)]),_0x2f7a69[_0x33e60f(0x390)][_0x33e60f(0x6fa)]&&(_0x2f7a69['chatLog'][_0x33e60f(0x6fa)]=_0x2f7a69['chatLog'][_0x33e60f(0x6fa)]),_0x2f7a69[_0x33e60f(0x390)]['lastCondition']&&(_0x2f7a69[_0x33e60f(0x390)][_0x33e60f(0x5b6)]=_0x2f7a69[_0x33e60f(0x390)][_0x33e60f(0x5b6)]),_0x5c576d&&(_0x2f7a69[_0x33e60f(0x2a2)]=_0x33e60f(0x303)),_0x123d2a?this[_0x33e60f(0x4d2)](_0x2f7a69):this[_0x33e60f(0x70b)](_0x2f7a69,_0x30d6b9);}[a0_0x596428(0x449)](_0x5d8fdb,_0x2a331f){const _0x454093=a0_0x596428;return _0x5d8fdb[_0x454093(0x527)](/\{\{([^}]+)\}\}/g,(_0x16aa84,_0x32b199)=>_0x2a331f[_0x32b199]?'{{'+_0x32b199+_0x454093(0x61e)+_0x2a331f[_0x32b199]+'\x22':'{{'+_0x32b199+_0x454093(0x712));}async[a0_0x596428(0x4d2)](_0x34efc7){const _0x2135e0=a0_0x596428;try{let _0x5abb31=Object[_0x2135e0(0x6fe)](_0x34efc7['chatLog'][_0x2135e0(0x176)])[_0x2135e0(0x393)](([_0x26573c,_0x53bdeb])=>({'name':_0x26573c,'value':_0x53bdeb})),_0x5c2435=await j[_0x2135e0(0x5f4)]({'_id':_0x34efc7[_0x2135e0(0x19f)]},{'$set':{'chatLog.lastBlockId':_0x34efc7['chatLog'][_0x2135e0(0x53d)],'blocks':_0x34efc7[_0x2135e0(0x253)],'chatLog.lastSendMessage':_0x34efc7[_0x2135e0(0x390)][_0x2135e0(0x5f6)],'chatLog.lastReceivedMessage':_0x34efc7['chatLog'][_0x2135e0(0x6fa)],'chatLog.lastCondition':_0x34efc7[_0x2135e0(0x390)]['lastCondition'],'chatLog.chatVariables':_0x5abb31,'chatLog.realVariables':_0x34efc7['chatLog'][_0x2135e0(0x176)],'status':_0x34efc7[_0x2135e0(0x2a2)],'chatLog.blockLogs':_0x34efc7[_0x2135e0(0x390)][_0x2135e0(0x36b)],'waitingPoll_id':_0x34efc7[_0x2135e0(0x3dd)],'waitingPoll_name':_0x34efc7[_0x2135e0(0x6cb)],'waitingPoll_replyOptions':_0x34efc7[_0x2135e0(0x39e)]}},{'new':!0x0});if(_0x5c2435){this[_0x2135e0(0x1d3)][_0x2135e0(0x327)](this[_0x2135e0(0x28a)]+'\x20('+this['instance'][_0x2135e0(0x694)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x5c2435[_0x2135e0(0x19f)]);try{let _0x166d92=['nome',_0x2135e0(0x59d),_0x2135e0(0x355),_0x2135e0(0x510),'status','notas','responsavelid','tags'];if(!this[_0x2135e0(0x3c3)]&&(await this[_0x2135e0(0x299)](),!this[_0x2135e0(0x3c3)]))throw new Error(_0x2135e0(0x31c));let _0x20b0d8=this['AutomateSystem']?.['customFields']['map'](_0x4ffcbc=>_0x4ffcbc[_0x2135e0(0x382)]),_0x286822={};Object[_0x2135e0(0x6fe)](_0x34efc7[_0x2135e0(0x390)][_0x2135e0(0x176)])[_0x2135e0(0x571)](([_0x4b77af,_0x1ea0bf])=>{const _0x435057=_0x2135e0;_0x166d92[_0x435057(0x739)](_0x4b77af)&&(_0x4b77af===_0x435057(0x509)&&typeof _0x1ea0bf==_0x435057(0x55f)?_0x286822[_0x4b77af]=_0x1ea0bf[_0x435057(0x633)](',')[_0x435057(0x393)](_0x14fee3=>_0x14fee3[_0x435057(0x58d)]())[_0x435057(0x364)](_0x1ec527=>_0x1ec527!==''):_0x286822[_0x4b77af]=_0x1ea0bf);});let _0x3b04e8=_0x34efc7[_0x2135e0(0x390)][_0x2135e0(0x36b)][_0x34efc7['chatLog'][_0x2135e0(0x36b)][_0x2135e0(0x708)]-0x1];if(_0x3b04e8){let _0x183284=_0x3b04e8[_0x2135e0(0x485)];_0x183284!==void 0x0&&(_0x286822['desativadoFluxoAte']=_0x183284[_0x2135e0(0x1af)]());}let _0x52136a=_0x5abb31[_0x2135e0(0x364)](_0xa251de=>_0x20b0d8[_0x2135e0(0x739)](_0xa251de['name']));this[_0x2135e0(0x1d3)]['verbose'](this[_0x2135e0(0x28a)]+'\x20('+this[_0x2135e0(0x1f1)][_0x2135e0(0x694)]+_0x2135e0(0x5c7)),this[_0x2135e0(0x1d3)][_0x2135e0(0x327)](_0x286822),this[_0x2135e0(0x1d3)]['verbose'](this[_0x2135e0(0x28a)]+'\x20('+this[_0x2135e0(0x1f1)][_0x2135e0(0x694)]+_0x2135e0(0x39d)),this[_0x2135e0(0x1d3)][_0x2135e0(0x327)](_0x52136a);let _0x4d8c64=_0x52136a[_0x2135e0(0x393)](_0x4c6a90=>{const _0xe87247=_0x2135e0;let _0x12284c=this[_0xe87247(0x3c3)]?.['customFields'][_0xe87247(0x266)](_0x4f2020=>_0x4f2020[_0xe87247(0x382)]===_0x4c6a90[_0xe87247(0x382)]);if(!_0x12284c)throw new Error(_0xe87247(0x338)+_0x4c6a90[_0xe87247(0x382)]);return{'_id':_0x12284c[_0xe87247(0x19f)],'value':_0x4c6a90['value']};});this[_0x2135e0(0x1d3)][_0x2135e0(0x327)](this[_0x2135e0(0x28a)]+'\x20('+this[_0x2135e0(0x1f1)][_0x2135e0(0x694)]+_0x2135e0(0x5ce)),this['logger']['verbose'](_0x4d8c64),await this[_0x2135e0(0x5e9)](_0x34efc7[_0x2135e0(0x5ea)],_0x286822,_0x4d8c64);}catch(_0x208925){this['logger'][_0x2135e0(0x244)](this[_0x2135e0(0x28a)]+'\x20('+this[_0x2135e0(0x1f1)][_0x2135e0(0x694)]+_0x2135e0(0x2bd)+JSON['stringify'](_0x208925));}}else this[_0x2135e0(0x1d3)][_0x2135e0(0x244)](this[_0x2135e0(0x28a)]+'\x20('+this['instance']['wuid']+_0x2135e0(0x320));}catch(_0x1d006b){this[_0x2135e0(0x1d3)][_0x2135e0(0x244)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2135e0(0x437)+JSON[_0x2135e0(0x35c)](_0x1d006b));}}async['saveChatVariables'](_0x470d3d,_0x22b91c,_0x2ec13d){const _0x54d5a9=a0_0x596428;try{let _0x1e9d51={'leadInfo.leadnome':_0x22b91c['nome'],'leadInfo.nomecompleto':_0x22b91c[_0x54d5a9(0x59d)],'leadInfo.email':_0x22b91c[_0x54d5a9(0x355)],'leadInfo.cpf':_0x22b91c[_0x54d5a9(0x510)],'leadInfo.status':_0x22b91c[_0x54d5a9(0x2a2)],'leadInfo.notas':_0x22b91c[_0x54d5a9(0x51b)],'leadInfo.responsavelid':_0x22b91c[_0x54d5a9(0x4a0)],'leadInfo.tags':_0x22b91c[_0x54d5a9(0x509)],'leadInfo.customFields':_0x2ec13d};if('desativadoFluxoAte'in _0x22b91c){let _0x4aba76=_0x22b91c[_0x54d5a9(0x71c)];_0x1e9d51[_0x54d5a9(0x47c)]=_0x4aba76?Number(_0x4aba76):null;}let _0xa6aa1f=await this[_0x54d5a9(0x1fe)][_0x54d5a9(0x3be)][_0x54d5a9(0x3ad)]({'where':{'_id':_0x470d3d,'owner':this['instance'][_0x54d5a9(0x694)]}},_0x1e9d51);_0xa6aa1f?(this[_0x54d5a9(0x1d3)][_0x54d5a9(0x327)](this[_0x54d5a9(0x28a)]+'\x20('+this[_0x54d5a9(0x1f1)][_0x54d5a9(0x694)]+_0x54d5a9(0x458)+_0xa6aa1f[_0x54d5a9(0x19f)]),B(this[_0x54d5a9(0x28a)],'chats',{'chat':_0xa6aa1f})):this[_0x54d5a9(0x1d3)][_0x54d5a9(0x244)](this[_0x54d5a9(0x28a)]+'\x20('+this['instance'][_0x54d5a9(0x694)]+_0x54d5a9(0x2a8));}catch(_0xb1fbb5){this[_0x54d5a9(0x1d3)][_0x54d5a9(0x244)](this[_0x54d5a9(0x28a)]+'\x20('+this['instance'][_0x54d5a9(0x694)]+_0x54d5a9(0x271)+_0xb1fbb5);}}async['updateStopChat'](_0xa79a00,_0x3f44d2){const _0x48774c=a0_0x596428;this[_0x48774c(0x1d3)][_0x48774c(0x327)](this[_0x48774c(0x28a)]+'\x20('+this['instance']['wuid']+_0x48774c(0x435)+_0x3f44d2);try{let _0x49b072=await this[_0x48774c(0x1fe)][_0x48774c(0x3be)][_0x48774c(0x3ad)]({'where':{'_id':_0xa79a00[_0x48774c(0x5ea)],'owner':_0xa79a00[_0x48774c(0x337)]}},{'leadInfo.desativadoFluxoAte':_0x3f44d2});this[_0x48774c(0x1d3)][_0x48774c(0x327)](this[_0x48774c(0x28a)]+'\x20('+this[_0x48774c(0x1f1)][_0x48774c(0x694)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0xa79a00[_0x48774c(0x19f)]),this['logger'][_0x48774c(0x327)](this['instanceName']+'\x20('+this[_0x48774c(0x1f1)]['wuid']+'):\x20atualização\x20chat:\x20'+JSON[_0x48774c(0x35c)](_0x49b072,null,0x2)),_0x49b072&&B(this[_0x48774c(0x28a)],_0x48774c(0x6c9),{'chat':_0x49b072});}catch(_0xe128cd){this[_0x48774c(0x1d3)][_0x48774c(0x244)](this[_0x48774c(0x28a)]+'\x20('+this[_0x48774c(0x1f1)][_0x48774c(0x694)]+_0x48774c(0x178)+JSON['stringify'](_0xe128cd));}}async[a0_0x596428(0x3f7)](_0x31efc0,_0x90f172){const _0x16dd1e=a0_0x596428;try{this['logger'][_0x16dd1e(0x327)](this[_0x16dd1e(0x28a)]+'\x20('+this[_0x16dd1e(0x1f1)][_0x16dd1e(0x694)]+_0x16dd1e(0x621));let _0x11d56c=_0x90f172[_0x16dd1e(0x527)](/\D/g,''),_0x1ec2fb=await I[_0x16dd1e(0x3d7)]({'owner':_0x31efc0,'testingWith':_0x11d56c});return _0x1ec2fb||(this[_0x16dd1e(0x1d3)][_0x16dd1e(0x327)](this[_0x16dd1e(0x28a)]+'\x20('+this['instance'][_0x16dd1e(0x694)]+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x1ec2fb=await I[_0x16dd1e(0x3d7)]({'owner':_0x31efc0,'default':!0x0})),_0x1ec2fb||(this[_0x16dd1e(0x1d3)][_0x16dd1e(0x327)](this[_0x16dd1e(0x28a)]+'\x20('+this[_0x16dd1e(0x1f1)][_0x16dd1e(0x694)]+_0x16dd1e(0x70a)),null);}catch(_0x2f4450){return this[_0x16dd1e(0x1d3)][_0x16dd1e(0x244)](this[_0x16dd1e(0x28a)]+'\x20('+this[_0x16dd1e(0x1f1)][_0x16dd1e(0x694)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+_0x2f4450),null;}}async[a0_0x596428(0x63f)](_0x3e9173,_0x57a1cf,_0x2e5421){const _0x3c41cc=a0_0x596428;try{let _0x53001c=!!_0x2e5421['vote'],_0x21d550=_0x2e5421[_0x3c41cc(0x19a)],_0x2e636d=null;if(this['logger']['verbose'](this[_0x3c41cc(0x28a)]+'\x20('+this['instance'][_0x3c41cc(0x694)]+_0x3c41cc(0x304)+_0x53001c+_0x3c41cc(0x19a)+_0x21d550),_0x53001c)return this['logger'][_0x3c41cc(0x327)](this[_0x3c41cc(0x28a)]+'\x20('+this[_0x3c41cc(0x1f1)][_0x3c41cc(0x694)]+_0x3c41cc(0x727)),_0x2e636d=await j[_0x3c41cc(0x3d7)]({'owner':_0x3e9173,'remoteJid':_0x57a1cf,'waitingPoll_id':_0x21d550}),_0x2e636d?(_0x2e636d['lastInteraction']=Date[_0x3c41cc(0x4a1)](),_0x2e636d[_0x3c41cc(0x390)][_0x3c41cc(0x6fa)]=_0x2e5421,_0x2e636d):(this[_0x3c41cc(0x1d3)][_0x3c41cc(0x327)](this[_0x3c41cc(0x28a)]+'\x20('+this[_0x3c41cc(0x1f1)][_0x3c41cc(0x694)]+_0x3c41cc(0x533)),null);{if(this[_0x3c41cc(0x1d3)]['verbose'](this[_0x3c41cc(0x28a)]+'\x20('+this[_0x3c41cc(0x1f1)][_0x3c41cc(0x694)]+_0x3c41cc(0x6e6)+this['instance'][_0x3c41cc(0x694)]+_0x3c41cc(0x5db)),this['logger'][_0x3c41cc(0x327)](this[_0x3c41cc(0x28a)]+'\x20('+this[_0x3c41cc(0x1f1)][_0x3c41cc(0x694)]+_0x3c41cc(0x312)),_0x2e636d=await j[_0x3c41cc(0x3d7)]({'owner':_0x3e9173,'remoteJid':_0x57a1cf,'status':'open'}),!_0x2e636d){let _0x41e692=await this[_0x3c41cc(0x3f7)](_0x3e9173,_0x57a1cf);if(_0x41e692&&(_0x2e636d=await this['createNewConversation'](_0x41e692,_0x2e5421['key'],_0x2e5421)),!_0x2e636d)return null;}let _0x1a4c6f=Date[_0x3c41cc(0x4a1)](),_0xaf4ea9=_0x2e636d?.['minutesToClose']||0x0,_0x1b8eb3=_0x1a4c6f-_0xaf4ea9*0x3c*0x3e8;if(this[_0x3c41cc(0x1d3)]['verbose'](this[_0x3c41cc(0x28a)]+'\x20('+this[_0x3c41cc(0x1f1)]['wuid']+_0x3c41cc(0x2e1)+_0x1a4c6f+_0x3c41cc(0x4a7)+_0xaf4ea9+_0x3c41cc(0x44f)+_0x1b8eb3),this['logger'][_0x3c41cc(0x327)](this[_0x3c41cc(0x28a)]+'\x20('+this[_0x3c41cc(0x1f1)][_0x3c41cc(0x694)]+_0x3c41cc(0x2f5)),this['logger'][_0x3c41cc(0x327)](this[_0x3c41cc(0x28a)]+'\x20('+this['instance'][_0x3c41cc(0x694)]+'):\x20conversation.lastInteraction:\x20'+_0x2e636d[_0x3c41cc(0x5ab)]),this[_0x3c41cc(0x1d3)][_0x3c41cc(0x327)](this[_0x3c41cc(0x28a)]+'\x20('+this['instance'][_0x3c41cc(0x694)]+_0x3c41cc(0x54e)+_0x1b8eb3),_0x2e636d[_0x3c41cc(0x5ab)]<_0x1b8eb3){this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x3c41cc(0x694)]+'):\x20Conversa\x20está\x20expirada');let _0x3588ae=await this[_0x3c41cc(0x3f7)](_0x3e9173,_0x57a1cf);if(_0x3588ae===null)return null;_0x2e636d&&await j[_0x3c41cc(0x3ad)]({'_id':_0x2e636d[_0x3c41cc(0x19f)]},{'status':_0x3c41cc(0x303)}),_0x2e636d=await this[_0x3c41cc(0x61a)](_0x3588ae,_0x2e5421[_0x3c41cc(0x40a)],_0x2e5421);}return _0x2e636d[_0x3c41cc(0x5ab)]=_0x1a4c6f,_0x2e636d[_0x3c41cc(0x390)][_0x3c41cc(0x6fa)]=_0x2e5421,_0x2e636d;}}catch(_0xf76307){return this[_0x3c41cc(0x1d3)][_0x3c41cc(0x244)](this[_0x3c41cc(0x28a)]+'\x20('+this[_0x3c41cc(0x1f1)][_0x3c41cc(0x694)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+_0xf76307),null;}}async[a0_0x596428(0x61a)](_0x4a3fe7,_0x57ca33,_0x375a25){const _0x5ce47f=a0_0x596428;this['logger'][_0x5ce47f(0x327)](this[_0x5ce47f(0x28a)]+'\x20('+this[_0x5ce47f(0x1f1)][_0x5ce47f(0x694)]+'):\x20Criando\x20nova\x20conversa');try{let _0x5a6f48=require(_0x5ce47f(0x379))[_0x5ce47f(0x2e6)],_0x2f74ce=Date[_0x5ce47f(0x4a1)](),_0x2aa198=_0x5ce47f(0x20c),_0x3cb3d9=_0x57ca33[_0x5ce47f(0x4bd)]?null:_0x375a25,_0x52edc2=_0x57ca33['fromMe']?_0x375a25:null,_0x4c7737=_0x57ca33[_0x5ce47f(0x5ea)];await this['closeExistingConversations'](_0x4c7737);let _0x39babf={..._0x4a3fe7[_0x5ce47f(0x4f0)],'chatLog':null},_0x2a1d87=await this[_0x5ce47f(0x4ac)](_0x39babf[_0x5ce47f(0x2da)]),_0x3e6111=await this[_0x5ce47f(0x518)](_0x4c7737),_0x5ed5d3={..._0x2a1d87,..._0x3e6111,'_remoteJid':_0x4c7737},_0x115c8b={'lastReceivedMessage':_0x3cb3d9,'lastSendMessage':_0x52edc2,'lastBlockId':_0x2aa198,'lastCondition':!0x0,'realVariables':_0x5ed5d3};_0x39babf['chatLog']=_0x115c8b,delete _0x39babf[_0x5ce47f(0x19f)],_0x39babf[_0x5ce47f(0x19f)]=new _0x5a6f48(),_0x39babf[_0x5ce47f(0x5ab)]=_0x2f74ce,_0x39babf[_0x5ce47f(0x2a2)]=_0x5ce47f(0x1b4),_0x39babf[_0x5ce47f(0x5ea)]=_0x4c7737;let _0x401e68=await j[_0x5ce47f(0x503)](_0x39babf);return this['logger'][_0x5ce47f(0x327)](this[_0x5ce47f(0x28a)]+'\x20('+this[_0x5ce47f(0x1f1)][_0x5ce47f(0x694)]+_0x5ce47f(0x70d)),_0x401e68?_0x39babf:null;}catch(_0x280114){return this['logger']['error'](this[_0x5ce47f(0x28a)]+'\x20('+this[_0x5ce47f(0x1f1)][_0x5ce47f(0x694)]+_0x5ce47f(0x532)+_0x280114),_0x280114;}}async['uazapiSendText'](_0x35c29e,_0x135f25,_0x50c20f){const _0x2e1c92=a0_0x596428;this[_0x2e1c92(0x1d3)][_0x2e1c92(0x327)](this[_0x2e1c92(0x28a)]+'\x20('+this[_0x2e1c92(0x1f1)][_0x2e1c92(0x694)]+_0x2e1c92(0x1a6));let _0x5944fa={'number':_0x50c20f,'options':{'delay':_0x135f25['uazapi']['delay']},'textMessage':{'text':_0x135f25[_0x2e1c92(0x40e)][_0x2e1c92(0x46a)]}};try{let _0x889ee6=await this[_0x2e1c92(0x3e9)](_0x5944fa);if(_0x889ee6){let _0x1ba42c={'_id':_0x889ee6[_0x2e1c92(0x40a)]['id'],'_fromMe':_0x889ee6[_0x2e1c92(0x40a)][_0x2e1c92(0x4bd)],'_remoteJid':_0x889ee6['key'][_0x2e1c92(0x5ea)]};_0x35c29e[_0x2e1c92(0x390)][_0x2e1c92(0x53d)]=_0x135f25[_0x2e1c92(0x19f)]['toString']();let {message_normalized:_0x2042b1}=this[_0x2e1c92(0x660)](_0x889ee6[_0x2e1c92(0x56b)],J(_0x889ee6[_0x2e1c92(0x56b)]),null);_0x35c29e[_0x2e1c92(0x390)]['lastSendMessage']=await _0x2042b1;let _0x120064={'messageId':_0x889ee6[_0x2e1c92(0x40a)]['id']},_0x2aedfa=_0x35c29e[_0x2e1c92(0x390)][_0x2e1c92(0x176)];Object[_0x2e1c92(0x306)](_0x2aedfa,_0x1ba42c),_0x35c29e[_0x2e1c92(0x390)][_0x2e1c92(0x176)]=_0x2aedfa,this['updateConversation'](_0x35c29e,_0x135f25,_0x120064);}else{let _0x151519={'error':!0x0};this[_0x2e1c92(0x433)](_0x35c29e,_0x135f25,_0x151519),this[_0x2e1c92(0x1d3)][_0x2e1c92(0x244)](this[_0x2e1c92(0x28a)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x33e4a3){let _0x5c7d63={'error':!0x0,'errorLog':_0x33e4a3[_0x2e1c92(0x1af)]()};this['updateConversation'](_0x35c29e,_0x135f25,_0x5c7d63),this['logger'][_0x2e1c92(0x244)](this[_0x2e1c92(0x28a)]+'\x20('+this['instance'][_0x2e1c92(0x694)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+_0x33e4a3[_0x2e1c92(0x1af)]());}}async[a0_0x596428(0x6a8)](_0x1b4e31,_0x217129,_0x51ab36){const _0x1604cf=a0_0x596428;this[_0x1604cf(0x1d3)][_0x1604cf(0x327)](this[_0x1604cf(0x28a)]+'\x20('+this[_0x1604cf(0x1f1)]['wuid']+_0x1604cf(0x5ae));let _0x308ea4={'number':_0x51ab36,'options':{'delay':_0x217129[_0x1604cf(0x40e)][_0x1604cf(0x647)]},'mediaMessage':{'mediatype':_0x217129[_0x1604cf(0x40e)][_0x1604cf(0x246)],'caption':_0x217129[_0x1604cf(0x40e)][_0x1604cf(0x65d)],'media':_0x217129[_0x1604cf(0x40e)]['media'],'fileName':_0x217129[_0x1604cf(0x40e)][_0x1604cf(0x5ac)]}};try{let _0x38dcc7=await this['mediaMessage'](_0x308ea4);if(_0x38dcc7){let _0x5167f2={'_id':_0x38dcc7[_0x1604cf(0x40a)]['id'],'_fromMe':_0x38dcc7['key']['fromMe'],'_remoteJid':_0x38dcc7['key'][_0x1604cf(0x5ea)]};_0x1b4e31['chatLog']['lastBlockId']=_0x217129['_id'][_0x1604cf(0x1af)]();let {message_normalized:_0x2d897c}=this[_0x1604cf(0x660)](_0x38dcc7['message'],J(_0x38dcc7[_0x1604cf(0x56b)]),null);_0x1b4e31[_0x1604cf(0x390)][_0x1604cf(0x5f6)]=await _0x2d897c;let _0x35ea74={'messageId':_0x38dcc7[_0x1604cf(0x40a)]['id']},_0x6b93e6=_0x1b4e31[_0x1604cf(0x390)][_0x1604cf(0x176)];Object['assign'](_0x6b93e6,_0x5167f2),_0x1b4e31[_0x1604cf(0x390)]['realVariables']=_0x6b93e6,this[_0x1604cf(0x433)](_0x1b4e31,_0x217129,_0x35ea74);}else{let _0x158687={'error':!0x0};this[_0x1604cf(0x433)](_0x1b4e31,_0x217129,_0x158687),this[_0x1604cf(0x1d3)][_0x1604cf(0x244)](this[_0x1604cf(0x28a)]+'\x20('+this[_0x1604cf(0x1f1)][_0x1604cf(0x694)]+_0x1604cf(0x5eb));}}catch(_0x49961d){let _0x35bd80={'error':!0x0,'errorLog':_0x49961d[_0x1604cf(0x1af)]()};this[_0x1604cf(0x433)](_0x1b4e31,_0x217129,_0x35bd80),this[_0x1604cf(0x1d3)]['error'](this[_0x1604cf(0x28a)]+'\x20('+this['instance'][_0x1604cf(0x694)]+_0x1604cf(0x237)+_0x49961d['toString']());}}async['uazapiSendLocation'](_0x4b0c26,_0x401385,_0x25cac3){const _0x3cef52=a0_0x596428;this[_0x3cef52(0x1d3)][_0x3cef52(0x327)](this[_0x3cef52(0x28a)]+'\x20('+this['instance'][_0x3cef52(0x694)]+_0x3cef52(0x693));let _0x1c59f6={'number':_0x25cac3,'options':{'delay':_0x401385[_0x3cef52(0x40e)][_0x3cef52(0x647)]},'locationMessage':{'name':_0x401385['uazapi']['name'],'address':_0x401385[_0x3cef52(0x40e)][_0x3cef52(0x3fa)],'latitude':_0x401385[_0x3cef52(0x40e)][_0x3cef52(0x56a)],'longitude':_0x401385[_0x3cef52(0x40e)][_0x3cef52(0x55a)]}};try{let _0x27b693=await this['locationMessage'](_0x1c59f6);if(_0x27b693){let _0x3087dc={'_id':_0x27b693[_0x3cef52(0x40a)]['id'],'_fromMe':_0x27b693['key'][_0x3cef52(0x4bd)],'_remoteJid':_0x27b693['key'][_0x3cef52(0x5ea)]};_0x4b0c26[_0x3cef52(0x390)][_0x3cef52(0x53d)]=_0x401385[_0x3cef52(0x19f)][_0x3cef52(0x1af)]();let {message_normalized:_0x5e5178}=this[_0x3cef52(0x660)](_0x27b693['message'],J(_0x27b693[_0x3cef52(0x56b)]),null);_0x4b0c26[_0x3cef52(0x390)]['lastSendMessage']=await _0x5e5178;let _0x4f0431={'messageId':_0x27b693['key']['id']},_0x3bb766=_0x4b0c26[_0x3cef52(0x390)][_0x3cef52(0x176)];Object[_0x3cef52(0x306)](_0x3bb766,_0x3087dc),_0x4b0c26['chatLog'][_0x3cef52(0x176)]=_0x3bb766,this[_0x3cef52(0x433)](_0x4b0c26,_0x401385,_0x4f0431);}else{let _0x1ab7bb={'error':!0x0};this[_0x3cef52(0x433)](_0x4b0c26,_0x401385,_0x1ab7bb),this[_0x3cef52(0x1d3)][_0x3cef52(0x244)](this[_0x3cef52(0x28a)]+'\x20('+this[_0x3cef52(0x1f1)]['wuid']+_0x3cef52(0x5e0));}}catch(_0x5667bb){let _0x4388a7={'error':!0x0,'errorLog':_0x5667bb[_0x3cef52(0x1af)]()};this[_0x3cef52(0x433)](_0x4b0c26,_0x401385,_0x4388a7),this[_0x3cef52(0x1d3)][_0x3cef52(0x244)](this[_0x3cef52(0x28a)]+'\x20('+this['instance']['wuid']+_0x3cef52(0x2c1)+_0x5667bb[_0x3cef52(0x1af)]());}}async[a0_0x596428(0x22f)](_0x4809f0,_0x4b6c9f,_0x407e51){const _0x31088d=a0_0x596428;this[_0x31088d(0x1d3)][_0x31088d(0x327)](this[_0x31088d(0x28a)]+'\x20('+this[_0x31088d(0x1f1)][_0x31088d(0x694)]+_0x31088d(0x6ae));let _0x1a3839={'number':_0x407e51,'options':{'delay':_0x4b6c9f[_0x31088d(0x40e)][_0x31088d(0x647)]},'audioMessage':{'audio':_0x4b6c9f[_0x31088d(0x40e)][_0x31088d(0x18c)]}};try{let _0xe82936=await this[_0x31088d(0x72d)](_0x1a3839);if(_0xe82936){let _0x532759={'_id':_0xe82936[_0x31088d(0x40a)]['id'],'_fromMe':_0xe82936['key'][_0x31088d(0x4bd)],'_remoteJid':_0xe82936['key']['remoteJid']};_0x4809f0[_0x31088d(0x390)][_0x31088d(0x53d)]=_0x4b6c9f[_0x31088d(0x19f)][_0x31088d(0x1af)]();let {message_normalized:_0x4b3c91}=this['normalizeMessage'](_0xe82936['message'],J(_0xe82936[_0x31088d(0x56b)]),null);_0x4809f0[_0x31088d(0x390)][_0x31088d(0x5f6)]=await _0x4b3c91;let _0x13e319={'messageId':_0xe82936[_0x31088d(0x40a)]['id']},_0x2bbf46=_0x4809f0[_0x31088d(0x390)]['realVariables'];Object[_0x31088d(0x306)](_0x2bbf46,_0x532759),_0x4809f0['chatLog'][_0x31088d(0x176)]=_0x2bbf46,this[_0x31088d(0x433)](_0x4809f0,_0x4b6c9f,_0x13e319);}else{let _0x528d1d={'error':!0x0};this[_0x31088d(0x433)](_0x4809f0,_0x4b6c9f,_0x528d1d),this['logger'][_0x31088d(0x244)](this[_0x31088d(0x28a)]+'\x20('+this['instance'][_0x31088d(0x694)]+_0x31088d(0x2e9));}}catch(_0x59140d){let _0x2b2252={'error':!0x0,'errorLog':_0x59140d[_0x31088d(0x1af)]()};this[_0x31088d(0x433)](_0x4809f0,_0x4b6c9f,_0x2b2252),this[_0x31088d(0x1d3)][_0x31088d(0x244)](this['instanceName']+'\x20('+this['instance'][_0x31088d(0x694)]+_0x31088d(0x538)+_0x59140d['toString']());}}async[a0_0x596428(0x706)](_0x5e4044,_0x4dfb93,_0x238206){const _0x118ec8=a0_0x596428;this[_0x118ec8(0x1d3)][_0x118ec8(0x327)](this[_0x118ec8(0x28a)]+'\x20('+this[_0x118ec8(0x1f1)]['wuid']+'):\x20Enviando\x20contato');let _0x387fad={'number':_0x238206,'options':{'delay':_0x4dfb93['uazapi'][_0x118ec8(0x647)]},'contactMessage':[{'fullName':_0x4dfb93[_0x118ec8(0x40e)][_0x118ec8(0x262)],'phoneNumber':_0x4dfb93[_0x118ec8(0x40e)][_0x118ec8(0x3b2)]}]};try{let _0x16229b=await this[_0x118ec8(0x709)](_0x387fad);if(_0x16229b){let _0x6b2f88={'_id':_0x16229b[_0x118ec8(0x40a)]['id'],'_fromMe':_0x16229b[_0x118ec8(0x40a)][_0x118ec8(0x4bd)],'_remoteJid':_0x16229b[_0x118ec8(0x40a)]['remoteJid']};_0x5e4044['chatLog'][_0x118ec8(0x53d)]=_0x4dfb93[_0x118ec8(0x19f)][_0x118ec8(0x1af)]();let {message_normalized:_0x23b6b1}=this[_0x118ec8(0x660)](_0x16229b[_0x118ec8(0x56b)],J(_0x16229b[_0x118ec8(0x56b)]),null);_0x5e4044[_0x118ec8(0x390)]['lastSendMessage']=await _0x23b6b1;let _0x2c8f90={'messageId':_0x16229b[_0x118ec8(0x40a)]['id']},_0x4321eb=_0x5e4044[_0x118ec8(0x390)][_0x118ec8(0x176)];Object[_0x118ec8(0x306)](_0x4321eb,_0x6b2f88),_0x5e4044['chatLog']['realVariables']=_0x4321eb,this[_0x118ec8(0x433)](_0x5e4044,_0x4dfb93,_0x2c8f90);}else{let _0x15407b={'error':!0x0};this[_0x118ec8(0x433)](_0x5e4044,_0x4dfb93,_0x15407b),this[_0x118ec8(0x1d3)]['error'](this[_0x118ec8(0x28a)]+'\x20('+this[_0x118ec8(0x1f1)][_0x118ec8(0x694)]+_0x118ec8(0x52e));}}catch(_0x520fa3){let _0x581db6={'error':!0x0,'errorLog':_0x520fa3[_0x118ec8(0x1af)]()};this[_0x118ec8(0x433)](_0x5e4044,_0x4dfb93,_0x581db6),this[_0x118ec8(0x1d3)][_0x118ec8(0x244)](this[_0x118ec8(0x28a)]+'\x20('+this['instance'][_0x118ec8(0x694)]+_0x118ec8(0x1a0)+_0x520fa3[_0x118ec8(0x1af)]());}}[a0_0x596428(0x60e)](_0x574b1f,_0x217f73){const _0x9511c0=a0_0x596428;for(let _0x1f5680 of _0x574b1f)_0x1f5680[_0x9511c0(0x3c4)]&&(_0x1f5680[_0x9511c0(0x3c4)]=this['replaceVariables'](_0x1f5680[_0x9511c0(0x3c4)],_0x217f73)),_0x1f5680[_0x9511c0(0x73a)]&&(_0x1f5680[_0x9511c0(0x73a)]=this[_0x9511c0(0x5fc)](_0x1f5680[_0x9511c0(0x73a)],_0x217f73));}async[a0_0x596428(0x28f)](_0xbb6843,_0x4ea557,_0x5e568d){const _0x48bffa=a0_0x596428;this[_0x48bffa(0x1d3)]['verbose'](this[_0x48bffa(0x28a)]+'\x20('+this['instance']['wuid']+_0x48bffa(0x409));let _0x49456b=_0xbb6843[_0x48bffa(0x501)][_0x48bffa(0x364)](_0x5ad292=>_0x5ad292['blockId']===_0x4ea557[_0x48bffa(0x19f)]);this['replaceVariablesInReplyOptions'](_0x49456b,_0xbb6843['chatLog']['realVariables']);let _0x14cdd6=_0x49456b['map'](_0x44f128=>_0x44f128[_0x48bffa(0x3c4)]),_0x273799={'number':_0x5e568d,'options':{'delay':_0x4ea557[_0x48bffa(0x40e)]['delay']},'pollMessage':{'name':_0x4ea557['uazapi'][_0x48bffa(0x382)],'selectableCount':0x1,'values':_0x14cdd6}};try{let _0x11caa0=await this['pollMessage'](_0x273799);if(_0x11caa0){let _0x4c9954={'_id':_0x11caa0['key']['id'],'_fromMe':_0x11caa0[_0x48bffa(0x40a)][_0x48bffa(0x4bd)],'_remoteJid':_0x11caa0[_0x48bffa(0x40a)][_0x48bffa(0x5ea)]};this[_0x48bffa(0x1d3)][_0x48bffa(0x327)](this[_0x48bffa(0x28a)]+'\x20('+this['instance']['wuid']+_0x48bffa(0x5e4)+_0x4ea557['uazapi'][_0x48bffa(0x382)]),_0xbb6843['waitingPoll_id']=_0x11caa0[_0x48bffa(0x40a)]['id'],_0xbb6843[_0x48bffa(0x6cb)]=_0x4ea557[_0x48bffa(0x40e)][_0x48bffa(0x382)],_0xbb6843[_0x48bffa(0x39e)]=_0x49456b,this[_0x48bffa(0x1d3)]['verbose'](this['instanceName']+'\x20('+this[_0x48bffa(0x1f1)][_0x48bffa(0x694)]+_0x48bffa(0x3ee)+_0xbb6843['waitingPoll_name']),_0xbb6843['chatLog']['lastBlockId']=_0x4ea557['_id']['toString']();let {message_normalized:_0x345a46}=this[_0x48bffa(0x660)](_0x11caa0['message'],J(_0x11caa0['message']),null);_0xbb6843[_0x48bffa(0x390)][_0x48bffa(0x5f6)]=await _0x345a46;let _0x2c9145={'messageId':_0x11caa0[_0x48bffa(0x40a)]['id']},_0x41ba55=_0xbb6843[_0x48bffa(0x390)][_0x48bffa(0x176)];Object['assign'](_0x41ba55,_0x4c9954),_0xbb6843['chatLog'][_0x48bffa(0x176)]=_0x41ba55,this['updateConversation'](_0xbb6843,_0x4ea557,_0x2c9145);}else{let _0x2ef05a={'error':!0x0};this[_0x48bffa(0x433)](_0xbb6843,_0x4ea557,_0x2ef05a),this['logger']['error'](this[_0x48bffa(0x28a)]+'\x20('+this[_0x48bffa(0x1f1)]['wuid']+_0x48bffa(0x3c1));}}catch(_0x59fcfb){let _0x1df946={'error':!0x0,'errorLog':_0x59fcfb[_0x48bffa(0x1af)]()};this[_0x48bffa(0x433)](_0xbb6843,_0x4ea557,_0x1df946),this[_0x48bffa(0x1d3)]['error'](this[_0x48bffa(0x28a)]+'\x20('+this[_0x48bffa(0x1f1)][_0x48bffa(0x694)]+_0x48bffa(0x26a)+_0x59fcfb['toString']());}}async[a0_0x596428(0x4df)](_0x4bbc0b,_0xe4561b,_0x2261da){const _0x10071b=a0_0x596428;this['logger'][_0x10071b(0x327)](this['instanceName']+'\x20('+this[_0x10071b(0x1f1)]['wuid']+'):\x20Deletando\x20mensagem');let _0x349e8f=_0x4bbc0b['chatLog'][_0x10071b(0x36b)]['find'](_0x26f54c=>_0x26f54c[_0x10071b(0x396)]['toString']()===_0xe4561b[_0x10071b(0x40e)][_0x10071b(0x396)]['toString']()),_0x2bc79b={'id':_0x349e8f['messageId'],'remoteJid':_0x349e8f[_0x10071b(0x5ea)],'fromMe':_0x349e8f[_0x10071b(0x4bd)]};try{let _0x30d8ac=await this[_0x10071b(0x5cf)](_0x2bc79b);if(_0x30d8ac){_0x4bbc0b[_0x10071b(0x390)]['lastBlockId']=_0xe4561b['_id'][_0x10071b(0x1af)]();let {message_normalized:_0x42225f}=this[_0x10071b(0x660)](_0x30d8ac[_0x10071b(0x56b)],J(_0x30d8ac[_0x10071b(0x56b)]),null);_0x4bbc0b[_0x10071b(0x390)][_0x10071b(0x5f6)]=await _0x42225f;let _0x104eb8={};this['updateConversation'](_0x4bbc0b,_0xe4561b,_0x104eb8);}else{let _0x3ede20={'error':!0x0};this['updateConversation'](_0x4bbc0b,_0xe4561b,_0x3ede20),this[_0x10071b(0x1d3)]['error'](this[_0x10071b(0x28a)]+'\x20('+this['instance'][_0x10071b(0x694)]+_0x10071b(0x45c));}}catch(_0x1fee91){let _0x2bb05c={'error':!0x0,'errorLog':_0x1fee91[_0x10071b(0x1af)]()};this[_0x10071b(0x433)](_0x4bbc0b,_0xe4561b,_0x2bb05c),this['logger']['error'](this[_0x10071b(0x28a)]+'\x20('+this[_0x10071b(0x1f1)][_0x10071b(0x694)]+_0x10071b(0x6b4)+_0x1fee91[_0x10071b(0x1af)]());}}async[a0_0x596428(0x5c2)](_0x15adbc){const _0x1490be=a0_0x596428;try{if(this[_0x1490be(0x1d3)][_0x1490be(0x327)](this[_0x1490be(0x28a)]+'\x20('+this[_0x1490be(0x1f1)]['wuid']+'):\x20Criando\x20fluxo...'),await I['findOne']({'owner':this[_0x1490be(0x1f1)][_0x1490be(0x694)],'name':_0x15adbc[_0x1490be(0x382)]}))return{'message':'Flow\x20already\x20exists'};_0x15adbc[_0x1490be(0x3ea)]===!0x0&&await I[_0x1490be(0x25c)]({'owner':this[_0x1490be(0x1f1)][_0x1490be(0x694)]},{'default':!0x1});let _0x303ebe=new we[(_0x1490be(0x5d4))]['ObjectId'](),_0x43a051={'_id':_0x303ebe,'default':!0x0,'title':_0x1490be(0x358),'x':0x0,'y':0x0},_0x558aca={'_id':new we['Types'][(_0x1490be(0x2e6))](),'order':0x1,'groupId':_0x303ebe[_0x1490be(0x1af)](),'type':'start'};return await I['create']({'owner':this[_0x1490be(0x1f1)][_0x1490be(0x694)],'name':_0x15adbc['name'],'groups':[_0x43a051],'blocks':[_0x558aca],..._0x15adbc});}catch(_0x3d50b2){throw this['logger']['error'](this[_0x1490be(0x28a)]+'\x20('+this[_0x1490be(0x1f1)]['wuid']+_0x1490be(0x5a7)+_0x3d50b2),new g(_0x1490be(0x1eb)+_0x3d50b2);}}async[a0_0x596428(0x36a)](_0x4f9b26){const _0x46b9fa=a0_0x596428;try{return this[_0x46b9fa(0x1d3)][_0x46b9fa(0x327)](this[_0x46b9fa(0x28a)]+'\x20('+this['instance']['wuid']+_0x46b9fa(0x483)),await I[_0x46b9fa(0x4e2)]({'owner':this[_0x46b9fa(0x1f1)]['wuid'],'name':_0x4f9b26});}catch(_0x2f2ddf){return this[_0x46b9fa(0x1d3)][_0x46b9fa(0x244)](this['instanceName']+'\x20('+this[_0x46b9fa(0x1f1)][_0x46b9fa(0x694)]+_0x46b9fa(0x4fe)+_0x2f2ddf),{'message':_0x46b9fa(0x6a5)+_0x2f2ddf};}}async['getFlow'](_0x373424){const _0x37f430=a0_0x596428;try{this[_0x37f430(0x1d3)]['verbose'](this[_0x37f430(0x28a)]+'\x20('+this[_0x37f430(0x1f1)][_0x37f430(0x694)]+_0x37f430(0x621));let _0x181c17=await I[_0x37f430(0x3d7)]({'owner':this[_0x37f430(0x1f1)][_0x37f430(0x694)],'name':_0x373424});if(!_0x181c17)throw new Error('Flow\x20não\x20encontrado');if(!this[_0x37f430(0x3c3)]&&(await this['getAutomateSystem'](),!this[_0x37f430(0x3c3)]))return null;let _0x2ccc1b=this['AutomateSystem']?.[_0x37f430(0x360)][_0x37f430(0x393)](_0x486c2d=>_0x486c2d[_0x37f430(0x382)]),_0x252396=[_0x37f430(0x539),_0x37f430(0x59d),'email',_0x37f430(0x510),_0x37f430(0x2a2),_0x37f430(0x51b),_0x37f430(0x4a0),'tags'];return _0x181c17[_0x37f430(0x2da)]=_0x181c17['variables'][_0x37f430(0x364)](_0x1cf2b5=>!(_0x1cf2b5[_0x37f430(0x6d4)]===_0x37f430(0x5e7)||_0x1cf2b5[_0x37f430(0x5e7)])),_0x252396[_0x37f430(0x571)](_0x2bb31a=>{const _0x1b79d9=_0x37f430;_0x181c17[_0x1b79d9(0x2da)]['push']({'folder':_0x1b79d9(0x5e7),'name':_0x2bb31a,'value':'','doc':'','leadInfo':!0x0});}),_0x2ccc1b[_0x37f430(0x571)](_0x23e8e3=>{const _0x353eff=_0x37f430;let _0x29acc4=_0x181c17['variables'][_0x353eff(0x189)](_0x527c37=>_0x527c37[_0x353eff(0x382)]===_0x23e8e3);_0x29acc4===-0x1?_0x181c17['variables'][_0x353eff(0x66c)]({'folder':_0x353eff(0x5e7),'name':_0x23e8e3,'value':'','doc':'','leadInfo':!0x0}):(_0x181c17[_0x353eff(0x2da)][_0x29acc4][_0x353eff(0x6d4)]=_0x353eff(0x5e7),_0x181c17[_0x353eff(0x2da)][_0x29acc4][_0x353eff(0x5e7)]=!0x0);}),_0x181c17[_0x37f430(0x253)]&&_0x181c17['blocks']['length']>0x0&&_0x181c17['blocks'][_0x37f430(0x571)](_0x20703c=>{const _0x107f6d=_0x37f430;_0x20703c[_0x107f6d(0x3e2)]&&_0x20703c[_0x107f6d(0x5d2)]&&_0x20703c[_0x107f6d(0x3e2)]===_0x20703c[_0x107f6d(0x5d2)]&&(_0x20703c[_0x107f6d(0x5d2)]=null);}),await _0x181c17[_0x37f430(0x190)](),_0x181c17;}catch(_0x1e1f2e){throw this['logger'][_0x37f430(0x244)](this['instanceName']+'\x20('+this[_0x37f430(0x1f1)][_0x37f430(0x694)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20'+_0x1e1f2e),new g(_0x37f430(0x31e)+_0x1e1f2e);}}async['allFlows'](){const _0x518d68=a0_0x596428;try{return this[_0x518d68(0x1d3)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x518d68(0x694)]+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await I[_0x518d68(0x266)]({'owner':this['instance'][_0x518d68(0x694)]});}catch(_0x55be3b){return this[_0x518d68(0x1d3)]['error'](this['instanceName']+'\x20('+this[_0x518d68(0x1f1)][_0x518d68(0x694)]+_0x518d68(0x3d1)+_0x55be3b),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+_0x55be3b};}}async[a0_0x596428(0x3a4)](_0x3ee4f3){const _0x100d2d=a0_0x596428;try{this[_0x100d2d(0x1d3)][_0x100d2d(0x327)](this[_0x100d2d(0x28a)]+'\x20('+this[_0x100d2d(0x1f1)][_0x100d2d(0x694)]+'):\x20Alterando\x20fluxo...');let _0x5c2450=await I[_0x100d2d(0x3d7)]({'owner':this[_0x100d2d(0x1f1)][_0x100d2d(0x694)],'name':_0x3ee4f3[_0x100d2d(0x382)]});if(!_0x5c2450)return{'message':_0x100d2d(0x19b)};if(_0x3ee4f3[_0x100d2d(0x3ea)]===!0x0&&await I[_0x100d2d(0x25c)]({'owner':this[_0x100d2d(0x1f1)]['wuid']},{'default':!0x1}),_0x3ee4f3[_0x100d2d(0x2ea)]){if(await I[_0x100d2d(0x3d7)]({'owner':this[_0x100d2d(0x1f1)][_0x100d2d(0x694)],'name':_0x3ee4f3[_0x100d2d(0x2ea)]}))return{'message':_0x100d2d(0x42b)};_0x3ee4f3['name']=_0x3ee4f3[_0x100d2d(0x2ea)],delete _0x3ee4f3[_0x100d2d(0x2ea)];}return await I[_0x100d2d(0x41a)](_0x5c2450['_id'],{'$set':_0x3ee4f3},{'new':!0x0});}catch(_0x2ab07c){throw this[_0x100d2d(0x1d3)][_0x100d2d(0x244)](this['instanceName']+'\x20('+this['instance'][_0x100d2d(0x694)]+_0x100d2d(0x318)+_0x2ab07c),new g(_0x100d2d(0x22b)+_0x2ab07c);}}async['editFlowBlock'](_0x15b468){const _0x148c00=a0_0x596428;try{this[_0x148c00(0x1d3)][_0x148c00(0x327)](this['instanceName']+'\x20('+this[_0x148c00(0x1f1)]['wuid']+_0x148c00(0x2ec));let _0x2decd9={'owner':this['instance'][_0x148c00(0x694)],'name':_0x15b468['name']},_0x5b322f=await I[_0x148c00(0x3d7)](_0x2decd9);_0x5b322f||this[_0x148c00(0x25d)](_0x148c00(0x42a));let {block:_0x77cd21}=_0x15b468;return _0x77cd21?.[_0x148c00(0x5f7)]?this[_0x148c00(0x5b2)](_0x5b322f,_0x15b468):_0x77cd21[_0x148c00(0x19f)]?await this[_0x148c00(0x4c5)](_0x5b322f,_0x15b468):this[_0x148c00(0x478)](_0x5b322f,_0x15b468),await _0x5b322f[_0x148c00(0x190)](),_0x5b322f;}catch(_0x4399ab){this[_0x148c00(0x25d)](_0x148c00(0x717)+_0x4399ab);}}['throwAndLogError'](_0x372cf3){const _0x31d9c6=a0_0x596428;throw this['logger'][_0x31d9c6(0x244)](this[_0x31d9c6(0x28a)]+'\x20('+this['instance'][_0x31d9c6(0x694)]+_0x31d9c6(0x6e6)+_0x372cf3),new g(_0x372cf3);}[a0_0x596428(0x5b2)](_0xbc06fa,_0x52c0f4){const _0xe5bc20=a0_0x596428;let {block:_0xfc6bad}=_0x52c0f4;if(_0xfc6bad[_0xe5bc20(0x394)]===_0xe5bc20(0x20c)){this[_0xe5bc20(0x25d)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0xfc6bad['_id']){this['throwAndLogError']('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0x30dc2f=_0xbc06fa['blocks'][_0xe5bc20(0x266)](_0x4d3514=>_0x4d3514['_id'][_0xe5bc20(0x1af)]()===_0x52c0f4[_0xe5bc20(0x4aa)][_0xe5bc20(0x19f)][_0xe5bc20(0x1af)]());if(!_0x30dc2f){this[_0xe5bc20(0x25d)](_0xe5bc20(0x23a)+_0xfc6bad[_0xe5bc20(0x19f)]+_0xe5bc20(0x2ab));return;}_0xbc06fa[_0xe5bc20(0x253)]=_0xbc06fa[_0xe5bc20(0x253)][_0xe5bc20(0x364)](_0x33d2b1=>_0x33d2b1[_0xe5bc20(0x19f)]['toString']()!==_0x52c0f4[_0xe5bc20(0x4aa)][_0xe5bc20(0x19f)][_0xe5bc20(0x1af)]()),_0xbc06fa[_0xe5bc20(0x316)]=_0xbc06fa[_0xe5bc20(0x316)][_0xe5bc20(0x364)](_0xc32129=>_0xc32129['blockId']!==_0xfc6bad['_id'][_0xe5bc20(0x1af)]()),_0xbc06fa['varedits']=_0xbc06fa['varedits']['filter'](_0x104160=>_0x104160[_0xe5bc20(0x396)]!==_0xfc6bad[_0xe5bc20(0x19f)][_0xe5bc20(0x1af)]()),_0xbc06fa['replyOptions']=_0xbc06fa[_0xe5bc20(0x501)][_0xe5bc20(0x364)](_0x4f32f2=>_0x4f32f2[_0xe5bc20(0x396)]!==_0xfc6bad[_0xe5bc20(0x19f)][_0xe5bc20(0x1af)]()),this[_0xe5bc20(0x49d)](_0xbc06fa[_0xe5bc20(0x253)],_0x30dc2f[_0xe5bc20(0x3e2)]);}async[a0_0x596428(0x4c5)](_0x4e5c60,_0x228e6e){const _0xbc4655=a0_0x596428;let _0x1413bc=_0x4e5c60[_0xbc4655(0x253)][_0xbc4655(0x189)](_0x12a997=>_0x12a997[_0xbc4655(0x19f)][_0xbc4655(0x1af)]()===_0x228e6e[_0xbc4655(0x4aa)][_0xbc4655(0x19f)][_0xbc4655(0x1af)]());if(this['logger'][_0xbc4655(0x327)](this[_0xbc4655(0x28a)]+'\x20('+this['instance'][_0xbc4655(0x694)]+_0xbc4655(0x624)+_0x1413bc),_0x1413bc===-0x1){this[_0xbc4655(0x1d3)]['verbose'](_0xbc4655(0x23a)+_0x228e6e[_0xbc4655(0x4aa)][_0xbc4655(0x19f)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x4e5c60['blocks'][_0x1413bc]['type']==='start'){let _0x15cb6a=Object['keys'](_0x228e6e['block']);if(_0x15cb6a['length']>0x2||_0x15cb6a[_0xbc4655(0x708)]===0x2&&!_0x15cb6a[_0xbc4655(0x739)](_0xbc4655(0x5d2))){this['throwAndLogError'](_0xbc4655(0x33a));return;}}let _0x4ced36=_0x4e5c60['blocks'][_0x1413bc]['groupId'];for(let _0x164b46 in _0x228e6e[_0xbc4655(0x4aa)])_0x228e6e['block']['hasOwnProperty'](_0x164b46)&&(_0x4e5c60[_0xbc4655(0x253)][_0x1413bc][_0x164b46]=_0x228e6e[_0xbc4655(0x4aa)][_0x164b46]);if(this[_0xbc4655(0x1d3)]['verbose'](this['instanceName']+'\x20('+this[_0xbc4655(0x1f1)][_0xbc4655(0x694)]+_0xbc4655(0x591)+JSON[_0xbc4655(0x35c)](_0x4e5c60[_0xbc4655(0x253)][_0x1413bc])),_0x4e5c60[_0xbc4655(0x253)][_0x1413bc][_0xbc4655(0x399)]&&'header'in _0x4e5c60[_0xbc4655(0x253)][_0x1413bc][_0xbc4655(0x399)]){this[_0xbc4655(0x1d3)][_0xbc4655(0x327)](this[_0xbc4655(0x28a)]+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x2a4546=JSON[_0xbc4655(0x35c)](_0x4e5c60[_0xbc4655(0x253)][_0x1413bc][_0xbc4655(0x399)][_0xbc4655(0x5ee)],null,0x1);_0x2a4546[_0xbc4655(0x708)]>0x2&&(_0x2a4546=_0x2a4546[_0xbc4655(0x27b)](0x1,_0x2a4546[_0xbc4655(0x708)]-0x1)[_0xbc4655(0x58d)]()),_0x4e5c60[_0xbc4655(0x253)][_0x1413bc]['apirequest']['headerString']=_0x2a4546;}if(_0x4e5c60[_0xbc4655(0x253)][_0x1413bc][_0xbc4655(0x399)]&&'body'in _0x4e5c60[_0xbc4655(0x253)][_0x1413bc][_0xbc4655(0x399)]){this[_0xbc4655(0x1d3)][_0xbc4655(0x327)](this[_0xbc4655(0x28a)]+'\x20('+this[_0xbc4655(0x1f1)][_0xbc4655(0x694)]+_0xbc4655(0x4c0));let _0x25a10c=JSON[_0xbc4655(0x35c)](_0x4e5c60[_0xbc4655(0x253)][_0x1413bc][_0xbc4655(0x399)]['body'],null,0x1);_0x25a10c[_0xbc4655(0x708)]>0x2&&(_0x25a10c=_0x25a10c[_0xbc4655(0x27b)](0x1,_0x25a10c[_0xbc4655(0x708)]-0x1)['trim']()),_0x4e5c60[_0xbc4655(0x253)][_0x1413bc][_0xbc4655(0x399)][_0xbc4655(0x243)]=_0x25a10c;}let _0x137f5b=_0x4e5c60['blocks'][_0x1413bc]['groupId'];_0x4ced36!==_0x137f5b?(this['reorderBlocks'](_0x4e5c60['blocks'],_0x4ced36),this['reorderBlocks'](_0x4e5c60[_0xbc4655(0x253)],_0x137f5b)):this[_0xbc4655(0x49d)](_0x4e5c60[_0xbc4655(0x253)],_0x4ced36);}['addBlock'](_0x2e12c2,_0x5d44bb){const _0x5c0301=a0_0x596428;if(_0x5d44bb['block'][_0x5c0301(0x394)]==='start'){this[_0x5c0301(0x25d)](_0x5c0301(0x3b7));return;}if(_0x5d44bb['block'][_0x5c0301(0x399)]&&'header'in _0x5d44bb[_0x5c0301(0x4aa)][_0x5c0301(0x399)]){this[_0x5c0301(0x1d3)][_0x5c0301(0x327)](this[_0x5c0301(0x28a)]+'\x20('+this[_0x5c0301(0x1f1)][_0x5c0301(0x694)]+_0x5c0301(0x704));let _0x339257=JSON[_0x5c0301(0x35c)](_0x5d44bb[_0x5c0301(0x4aa)]['apirequest'][_0x5c0301(0x5ee)],null,0x1);_0x339257['length']>0x2&&(_0x339257=_0x339257[_0x5c0301(0x27b)](0x1,_0x339257[_0x5c0301(0x708)]-0x1)[_0x5c0301(0x58d)]()),_0x5d44bb[_0x5c0301(0x4aa)][_0x5c0301(0x399)][_0x5c0301(0x5e1)]=_0x339257;}_0x5d44bb['block']['apirequest']&&'body'in _0x5d44bb[_0x5c0301(0x4aa)]['apirequest']&&(this[_0x5c0301(0x1d3)][_0x5c0301(0x327)](this[_0x5c0301(0x28a)]+'\x20('+this[_0x5c0301(0x1f1)][_0x5c0301(0x694)]+_0x5c0301(0x4c0)),_0x5d44bb[_0x5c0301(0x4aa)]['apirequest'][_0x5c0301(0x243)]=JSON[_0x5c0301(0x35c)](_0x5d44bb['block'][_0x5c0301(0x399)][_0x5c0301(0x500)],null,0x1)[_0x5c0301(0x58d)]()),_0x2e12c2[_0x5c0301(0x253)][_0x5c0301(0x66c)](_0x5d44bb[_0x5c0301(0x4aa)]),this[_0x5c0301(0x49d)](_0x2e12c2[_0x5c0301(0x253)],_0x5d44bb[_0x5c0301(0x4aa)][_0x5c0301(0x3e2)]);}[a0_0x596428(0x49d)](_0x4f9219,_0x4b5828){const _0xd167e3=a0_0x596428;let _0x5bb2ff=_0x4f9219[_0xd167e3(0x364)](_0x2b5669=>_0x2b5669[_0xd167e3(0x3e2)]===_0x4b5828);_0x5bb2ff['sort']((_0x78b92a,_0x466cff)=>_0x78b92a[_0xd167e3(0x61f)]-_0x466cff[_0xd167e3(0x61f)]),_0x5bb2ff[_0xd167e3(0x571)]((_0x51a2d6,_0x143c40)=>_0x51a2d6['order']=_0x143c40+0x1);}async['editFlowReply'](_0x486e6e){const _0x593930=a0_0x596428;try{if(this[_0x593930(0x1d3)]['verbose'](this[_0x593930(0x28a)]+'\x20('+this[_0x593930(0x1f1)][_0x593930(0x694)]+_0x593930(0x540)),!_0x486e6e||!_0x486e6e[_0x593930(0x4b2)]){this[_0x593930(0x25d)](_0x593930(0x72b));return;}let _0x5113ed={'owner':this[_0x593930(0x1f1)][_0x593930(0x694)],'name':_0x486e6e[_0x593930(0x382)]},_0x37529c=await I[_0x593930(0x3d7)](_0x5113ed);_0x37529c||this[_0x593930(0x25d)](_0x593930(0x42a));let {replyOption:_0x24c9e3}=_0x486e6e;return _0x24c9e3?.['delete']?this['deleteReplyOption'](_0x37529c,_0x486e6e):_0x24c9e3[_0x593930(0x19f)]?await this[_0x593930(0x1ba)](_0x37529c,_0x486e6e):this['addReplyOption'](_0x37529c,_0x486e6e),await _0x37529c[_0x593930(0x190)](),_0x37529c;}catch(_0x1d4d19){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x1d4d19);}}[a0_0x596428(0x26c)](_0x101261,_0xe6f137){const _0x20e6fa=a0_0x596428;let {replyOption:_0x387395}=_0xe6f137;if(!_0x387395[_0x20e6fa(0x19f)]){this[_0x20e6fa(0x25d)](_0x20e6fa(0x602));return;}if(!_0x101261[_0x20e6fa(0x501)]['find'](_0xad69f0=>_0xad69f0[_0x20e6fa(0x19f)][_0x20e6fa(0x1af)]()===_0xe6f137[_0x20e6fa(0x4b2)][_0x20e6fa(0x19f)][_0x20e6fa(0x1af)]())){this['throwAndLogError']('ReplyOption\x20com\x20ID\x20'+_0x387395[_0x20e6fa(0x19f)]+'\x20não\x20encontrado');return;}_0x101261[_0x20e6fa(0x501)]=_0x101261['replyOptions'][_0x20e6fa(0x364)](_0x5fe9e6=>_0x5fe9e6[_0x20e6fa(0x19f)][_0x20e6fa(0x1af)]()!==_0xe6f137[_0x20e6fa(0x4b2)][_0x20e6fa(0x19f)]['toString']());}async[a0_0x596428(0x1ba)](_0x152c04,_0x339bbd){const _0x180210=a0_0x596428;let _0x3ad965=_0x152c04[_0x180210(0x501)][_0x180210(0x189)](_0x7b936=>_0x7b936['_id'][_0x180210(0x1af)]()===_0x339bbd[_0x180210(0x4b2)][_0x180210(0x19f)][_0x180210(0x1af)]());if(_0x3ad965===-0x1){this[_0x180210(0x25d)]('ReplyOption\x20com\x20ID\x20'+_0x339bbd[_0x180210(0x4b2)][_0x180210(0x19f)]+_0x180210(0x4ef));return;}for(let _0x4a5754 in _0x339bbd[_0x180210(0x4b2)])_0x339bbd[_0x180210(0x4b2)][_0x180210(0x5a1)](_0x4a5754)&&(_0x152c04['replyOptions'][_0x3ad965][_0x4a5754]=_0x339bbd['replyOption'][_0x4a5754]);}[a0_0x596428(0x44a)](_0x253cdf,_0x372687){const _0x4df56b=a0_0x596428;_0x253cdf[_0x4df56b(0x501)][_0x4df56b(0x66c)](_0x372687[_0x4df56b(0x4b2)]);}async[a0_0x596428(0x46d)](_0x16ae8e){const _0x5c1d93=a0_0x596428;this[_0x5c1d93(0x1d3)][_0x5c1d93(0x327)](this[_0x5c1d93(0x28a)]+'\x20('+this[_0x5c1d93(0x1f1)][_0x5c1d93(0x694)]+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup:'+_0x16ae8e);try{this['logger'][_0x5c1d93(0x327)](this['instanceName']+'\x20('+this[_0x5c1d93(0x1f1)][_0x5c1d93(0x694)]+_0x5c1d93(0x370));let _0x4eefa2={'owner':this[_0x5c1d93(0x1f1)][_0x5c1d93(0x694)],'name':_0x16ae8e[_0x5c1d93(0x382)]},_0xa3b1c4=await I['findOne'](_0x4eefa2);if(!_0xa3b1c4)throw new Error(_0x5c1d93(0x42a));if(_0x16ae8e[_0x5c1d93(0x3f3)]&&_0x16ae8e[_0x5c1d93(0x3f3)]?.['delete']===!0x0){if(this['logger'][_0x5c1d93(0x327)](this['instanceName']+'\x20('+this[_0x5c1d93(0x1f1)]['wuid']+_0x5c1d93(0x2a3)),_0x16ae8e[_0x5c1d93(0x3f3)]['default']===!0x0)return{'message':_0x5c1d93(0x725)};if(_0xa3b1c4['blocks'][_0x5c1d93(0x328)](_0x3e31cb=>_0x3e31cb[_0x5c1d93(0x3e2)][_0x5c1d93(0x1af)]()===_0x16ae8e[_0x5c1d93(0x3f3)][_0x5c1d93(0x19f)]))return this[_0x5c1d93(0x1d3)]['verbose'](this[_0x5c1d93(0x28a)]+'\x20('+this[_0x5c1d93(0x1f1)][_0x5c1d93(0x694)]+'):\x20tem\x20blocks'),{'message':_0x5c1d93(0x27d)};_0xa3b1c4[_0x5c1d93(0x3b8)]=_0xa3b1c4[_0x5c1d93(0x3b8)][_0x5c1d93(0x364)](_0x59f2e7=>_0x59f2e7[_0x5c1d93(0x19f)]['toString']()!==_0x16ae8e['group'][_0x5c1d93(0x19f)]);}else{if(_0x16ae8e['group']){if(_0x16ae8e[_0x5c1d93(0x3f3)]['default']===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x16ae8e[_0x5c1d93(0x3f3)][_0x5c1d93(0x19f)]){let _0x1084f7=_0xa3b1c4[_0x5c1d93(0x3b8)]['find'](_0x2141ba=>_0x2141ba[_0x5c1d93(0x19f)]['toString']()===_0x16ae8e[_0x5c1d93(0x3f3)][_0x5c1d93(0x19f)]);_0x1084f7&&(_0x16ae8e[_0x5c1d93(0x3f3)]['x']<0x0&&(_0x16ae8e[_0x5c1d93(0x3f3)]['x']=0x0),_0x16ae8e[_0x5c1d93(0x3f3)]['y']<0x0&&(_0x16ae8e[_0x5c1d93(0x3f3)]['y']=0x0),Object[_0x5c1d93(0x306)](_0x1084f7,_0x16ae8e[_0x5c1d93(0x3f3)]));}else _0xa3b1c4['groups']['push'](_0x16ae8e['group']);}}return await _0xa3b1c4[_0x5c1d93(0x190)](),_0xa3b1c4;}catch(_0x519d2e){throw this[_0x5c1d93(0x1d3)][_0x5c1d93(0x244)](this[_0x5c1d93(0x28a)]+'\x20('+this['instance'][_0x5c1d93(0x694)]+'):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+_0x519d2e),new g('Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+_0x519d2e);}}async[a0_0x596428(0x2b0)](_0x4ab932){const _0x172822=a0_0x596428;try{this['logger']['verbose'](this[_0x172822(0x28a)]+'\x20('+this[_0x172822(0x1f1)]['wuid']+_0x172822(0x65e));let _0x22541c={'owner':this[_0x172822(0x1f1)][_0x172822(0x694)],'name':_0x4ab932[_0x172822(0x382)]},_0x375dd3=await I[_0x172822(0x3d7)](_0x22541c);if(!_0x375dd3)throw new Error('Flow\x20não\x20encontrado');let _0x166b6f=!0x1;if(_0x4ab932[_0x172822(0x5b7)]?.['delete']===!0x0)_0x375dd3['conditions']=_0x375dd3[_0x172822(0x316)][_0x172822(0x364)](_0x4a9ceb=>_0x4a9ceb&&_0x4ab932[_0x172822(0x5b7)]&&_0x4a9ceb['_id']&&_0x4ab932[_0x172822(0x5b7)][_0x172822(0x19f)]&&_0x4a9ceb[_0x172822(0x19f)][_0x172822(0x1af)]()!==_0x4ab932['condition'][_0x172822(0x19f)][_0x172822(0x1af)]()),_0x166b6f=!0x0;else{let _0xea0e0f=_0x375dd3[_0x172822(0x316)][_0x172822(0x266)](_0x11cf5a=>_0x11cf5a&&_0x4ab932[_0x172822(0x5b7)]&&_0x11cf5a['_id']&&_0x4ab932[_0x172822(0x5b7)][_0x172822(0x19f)]&&_0x11cf5a[_0x172822(0x19f)][_0x172822(0x1af)]()===_0x4ab932['condition'][_0x172822(0x19f)]['toString']());_0xea0e0f?(_0x166b6f=_0xea0e0f[_0x172822(0x61f)]!==_0x4ab932[_0x172822(0x5b7)]['order'],Object[_0x172822(0x306)](_0xea0e0f,_0x4ab932[_0x172822(0x5b7)])):(_0x375dd3[_0x172822(0x316)][_0x172822(0x66c)](_0x4ab932[_0x172822(0x5b7)]),_0x166b6f=!0x0);}if(_0x166b6f){_0x375dd3[_0x172822(0x316)]['sort']((_0xae489e,_0x5285ba)=>_0xae489e[_0x172822(0x61f)]>_0x5285ba[_0x172822(0x61f)]?0x1:_0x5285ba[_0x172822(0x61f)]>_0xae489e[_0x172822(0x61f)]?-0x1:0x0);for(let _0x39c759=0x0;_0x39c759<_0x375dd3[_0x172822(0x316)][_0x172822(0x708)];_0x39c759++)_0x375dd3[_0x172822(0x316)][_0x39c759]['order']=_0x39c759+0x1;_0x375dd3['conditions'][_0x172822(0x708)]>0x0&&(_0x375dd3[_0x172822(0x316)][0x0][_0x172822(0x238)]=_0x172822(0x2c5));}return await _0x375dd3[_0x172822(0x190)](),_0x375dd3;}catch(_0x3abb48){throw this[_0x172822(0x1d3)]['error'](this['instanceName']+'\x20('+this['instance'][_0x172822(0x694)]+_0x172822(0x2fa)+_0x3abb48),new Error('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+_0x3abb48);}}async['editFlowVaredit'](_0x5dd88e){const _0xe76824=a0_0x596428;try{this[_0xe76824(0x1d3)]['verbose'](this['instanceName']+'\x20('+this[_0xe76824(0x1f1)][_0xe76824(0x694)]+_0xe76824(0x488));let _0x228e91={'owner':this[_0xe76824(0x1f1)][_0xe76824(0x694)],'name':_0x5dd88e['name']},_0xe85d74=await I[_0xe76824(0x3d7)](_0x228e91);if(!_0xe85d74)throw new Error(_0xe76824(0x42a));let _0x554af3=!0x1;if(_0x5dd88e[_0xe76824(0x3a3)]?.[_0xe76824(0x5f7)]===!0x0)_0xe85d74[_0xe76824(0x5bf)]=_0xe85d74[_0xe76824(0x5bf)][_0xe76824(0x364)](_0x1e151a=>_0x1e151a&&_0x5dd88e['varedit']&&_0x1e151a[_0xe76824(0x19f)]&&_0x5dd88e[_0xe76824(0x3a3)][_0xe76824(0x19f)]&&_0x1e151a[_0xe76824(0x19f)][_0xe76824(0x1af)]()!==_0x5dd88e[_0xe76824(0x3a3)]['_id'][_0xe76824(0x1af)]()),_0x554af3=!0x0;else{let _0x1004c4=_0xe85d74['varedits'][_0xe76824(0x266)](_0x5d4d84=>_0x5d4d84&&_0x5dd88e[_0xe76824(0x3a3)]&&_0x5d4d84[_0xe76824(0x19f)]&&_0x5dd88e[_0xe76824(0x3a3)][_0xe76824(0x19f)]&&_0x5d4d84[_0xe76824(0x19f)][_0xe76824(0x1af)]()===_0x5dd88e[_0xe76824(0x3a3)]['_id']['toString']());_0x1004c4?(_0x554af3=_0x1004c4[_0xe76824(0x61f)]!==_0x5dd88e[_0xe76824(0x3a3)][_0xe76824(0x61f)],Object[_0xe76824(0x306)](_0x1004c4,_0x5dd88e[_0xe76824(0x3a3)])):(_0xe85d74[_0xe76824(0x5bf)]['push'](_0x5dd88e[_0xe76824(0x3a3)]),_0x554af3=!0x0);}if(_0x554af3){_0xe85d74[_0xe76824(0x5bf)][_0xe76824(0x585)]((_0x1410a7,_0x560db8)=>_0x1410a7[_0xe76824(0x61f)]>_0x560db8[_0xe76824(0x61f)]?0x1:_0x560db8[_0xe76824(0x61f)]>_0x1410a7[_0xe76824(0x61f)]?-0x1:0x0);for(let _0x14ae33=0x0;_0x14ae33<_0xe85d74[_0xe76824(0x5bf)][_0xe76824(0x708)];_0x14ae33++)_0xe85d74[_0xe76824(0x5bf)][_0x14ae33][_0xe76824(0x61f)]=_0x14ae33+0x1;}return await _0xe85d74[_0xe76824(0x190)](),_0xe85d74;}catch(_0x1e4613){throw this[_0xe76824(0x1d3)][_0xe76824(0x244)](this[_0xe76824(0x28a)]+'\x20('+this['instance'][_0xe76824(0x694)]+_0xe76824(0x2fa)+_0x1e4613),new g('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+_0x1e4613);}}async[a0_0x596428(0x331)](_0x14855a){const _0x379347=a0_0x596428;try{this[_0x379347(0x1d3)][_0x379347(0x327)](this[_0x379347(0x28a)]+'\x20('+this[_0x379347(0x1f1)]['wuid']+_0x379347(0x18b));let _0x5304b5={'owner':this[_0x379347(0x1f1)][_0x379347(0x694)],'name':_0x14855a[_0x379347(0x382)]},_0x13da2f=await I[_0x379347(0x3d7)](_0x5304b5);if(!_0x13da2f)throw new Error(_0x379347(0x42a));_0x14855a[_0x379347(0x4c7)]['name']=_0x14855a[_0x379347(0x4c7)][_0x379347(0x382)][_0x379347(0x58d)](),_0x14855a[_0x379347(0x4c7)][_0x379347(0x382)]['startsWith']('_')&&(_0x14855a[_0x379347(0x4c7)][_0x379347(0x382)]=_0x14855a['variable'][_0x379347(0x382)][_0x379347(0x27b)](0x1)),_0x14855a['variable'][_0x379347(0x382)]=_0x14855a[_0x379347(0x4c7)][_0x379347(0x382)]['trim']();let _0xea4f06=_0x13da2f[_0x379347(0x2da)]['find'](_0x387a9a=>_0x387a9a[_0x379347(0x382)]===_0x14855a[_0x379347(0x4c7)][_0x379347(0x382)]);if(_0xea4f06?.[_0x379347(0x5e7)]===!0x0)throw new Error(_0x379347(0x2fc));if(_0x14855a[_0x379347(0x4c7)]?.[_0x379347(0x5f7)]===!0x0){if(!_0xea4f06)return{'message':_0x379347(0x405)};_0x13da2f[_0x379347(0x2da)]=_0x13da2f[_0x379347(0x2da)][_0x379347(0x364)](_0x6aed71=>_0x6aed71[_0x379347(0x382)]!==_0x14855a[_0x379347(0x4c7)][_0x379347(0x382)]);}else _0xea4f06?Object[_0x379347(0x306)](_0xea4f06,_0x14855a[_0x379347(0x4c7)]):_0x13da2f[_0x379347(0x2da)][_0x379347(0x66c)](_0x14855a['variable']);return await _0x13da2f['save'](),_0x13da2f;}catch(_0x24a14a){throw this[_0x379347(0x1d3)][_0x379347(0x244)](this[_0x379347(0x28a)]+'\x20('+this[_0x379347(0x1f1)]['wuid']+_0x379347(0x2ef)+_0x24a14a),new g('Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+_0x24a14a);}}async[a0_0x596428(0x6c5)](_0x2c0b64){const _0x3402a5=a0_0x596428;try{if(!this['AutomateSystem']?.[_0x3402a5(0x516)][_0x3402a5(0x5a5)])throw new g(_0x3402a5(0x1cc));this['logger'][_0x3402a5(0x327)](this[_0x3402a5(0x28a)]+'\x20('+this[_0x3402a5(0x1f1)][_0x3402a5(0x694)]+_0x3402a5(0x310));let _0x56221a=(await this['whatsappNumber']({'numbers':[_0x2c0b64['remoteJid']]}))[0x0];if(!_0x56221a[_0x3402a5(0x3df)]&&!(0x0,w[_0x3402a5(0x4a8)])(_0x56221a[_0x3402a5(0x690)])&&!_0x56221a[_0x3402a5(0x690)][_0x3402a5(0x739)](_0x3402a5(0x711)))throw new g(_0x56221a);let _0x4e9a4a=await I[_0x3402a5(0x3d7)]({'owner':this[_0x3402a5(0x1f1)][_0x3402a5(0x694)],'name':_0x2c0b64[_0x3402a5(0x382)]});if(!_0x4e9a4a)return this[_0x3402a5(0x1d3)][_0x3402a5(0x244)](this[_0x3402a5(0x28a)]+'\x20('+this['instance'][_0x3402a5(0x694)]+_0x3402a5(0x207)),{'message':_0x3402a5(0x42a)};let _0x3cda2a=await this[_0x3402a5(0x34a)](_0x4e9a4a,_0x56221a[_0x3402a5(0x690)],_0x2c0b64['changeVariables']);if(_0x3cda2a){this[_0x3402a5(0x1d3)][_0x3402a5(0x327)](this[_0x3402a5(0x28a)]+'\x20('+this[_0x3402a5(0x1f1)]['wuid']+_0x3402a5(0x2a6));let _0xf22067=await this[_0x3402a5(0x61c)](_0x3cda2a);return _0xf22067&&await this[_0x3402a5(0x5e5)](_0x3cda2a,_0xf22067,_0x3cda2a[_0x3402a5(0x5ea)]),{'message':_0x3402a5(0x4d3)+_0x2c0b64[_0x3402a5(0x5ea)]};}}catch(_0x97ea29){if(this[_0x3402a5(0x1d3)][_0x3402a5(0x244)](this[_0x3402a5(0x28a)]+'\x20('+this['instance']['wuid']+_0x3402a5(0x507)+_0x97ea29),_0x97ea29&&_0x97ea29[_0x3402a5(0x56b)]&&Array[_0x3402a5(0x629)](_0x97ea29[_0x3402a5(0x56b)])&&_0x97ea29[_0x3402a5(0x56b)][0x0]){let {jid:_0x544049,exists:_0x45f71e}=_0x97ea29[_0x3402a5(0x56b)][0x0];}throw new g('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x97ea29[_0x3402a5(0x56b)]);}}async[a0_0x596428(0x448)](_0x2b65c2){const _0x11c222=a0_0x596428;let _0x1eb568=await j[_0x11c222(0x25c)]({'owner':this[_0x11c222(0x1f1)]['wuid'],'remoteJid':_0x2b65c2,'status':_0x11c222(0x1b4)},{'$set':{'status':_0x11c222(0x303)}});return this['logger'][_0x11c222(0x327)](this[_0x11c222(0x28a)]+'\x20('+this['instance'][_0x11c222(0x694)]+_0x11c222(0x4dc)),_0x1eb568;}async[a0_0x596428(0x34a)](_0x40932c,_0x1f4b6a,_0x837ad7){const _0x36cb5f=a0_0x596428;this[_0x36cb5f(0x1d3)][_0x36cb5f(0x327)](this[_0x36cb5f(0x28a)]+'\x20('+this[_0x36cb5f(0x1f1)][_0x36cb5f(0x694)]+_0x36cb5f(0x210)),await this['closeExistingConversations'](_0x1f4b6a);try{let _0x347b8d=require(_0x36cb5f(0x379))[_0x36cb5f(0x2e6)],_0x57b683=Date[_0x36cb5f(0x4a1)](),_0x2dcc3a='start',_0x438183={},_0x4c0780={},_0x2365ef={..._0x40932c[_0x36cb5f(0x4f0)],'chatLog':null},_0x28d97c=await this[_0x36cb5f(0x4ac)](_0x2365ef[_0x36cb5f(0x2da)]),_0x56930b=await this[_0x36cb5f(0x518)](_0x1f4b6a),_0x1cd168={..._0x28d97c,..._0x56930b,'_remoteJid':_0x1f4b6a},_0x53df0a={'lastReceivedMessage':_0x438183,'lastSendMessage':_0x4c0780,'lastBlockId':_0x2dcc3a,'lastCondition':!0x0,'realVariables':_0x1cd168};_0x2365ef[_0x36cb5f(0x390)]=_0x53df0a,_0x2365ef[_0x36cb5f(0x390)][_0x36cb5f(0x176)]={..._0x1cd168,..._0x837ad7},delete _0x2365ef[_0x36cb5f(0x19f)],_0x2365ef['_id']=new _0x347b8d(),_0x2365ef['lastInteraction']=_0x57b683,_0x2365ef[_0x36cb5f(0x2a2)]=_0x36cb5f(0x1b4),_0x2365ef[_0x36cb5f(0x5ea)]=_0x1f4b6a;let _0x4b7790=await j[_0x36cb5f(0x503)](_0x2365ef);return this[_0x36cb5f(0x1d3)]['verbose'](this['instanceName']+'\x20('+this[_0x36cb5f(0x1f1)]['wuid']+_0x36cb5f(0x70d)),_0x4b7790?_0x2365ef:null;}catch(_0x5a044d){throw this[_0x36cb5f(0x1d3)][_0x36cb5f(0x244)](this[_0x36cb5f(0x28a)]+'\x20('+this['instance'][_0x36cb5f(0x694)]+_0x36cb5f(0x532)+_0x5a044d),new g(_0x5a044d['message']);}}async[a0_0x596428(0x2b1)](_0x8f5eee){const _0x27d0f2=a0_0x596428;try{return this['logger'][_0x27d0f2(0x327)](this[_0x27d0f2(0x28a)]+'\x20('+this[_0x27d0f2(0x1f1)][_0x27d0f2(0x694)]+_0x27d0f2(0x28d)),this[_0x27d0f2(0x1d3)][_0x27d0f2(0x327)](this[_0x27d0f2(0x28a)]+'\x20('+this['instance'][_0x27d0f2(0x694)]+_0x27d0f2(0x43c)+{'owner':this[_0x27d0f2(0x1f1)][_0x27d0f2(0x694)],'_id':_0x8f5eee}),await j[_0x27d0f2(0x3d7)]({'owner':this['instance'][_0x27d0f2(0x694)],'_id':_0x8f5eee});}catch(_0x4b3fd0){throw this[_0x27d0f2(0x1d3)][_0x27d0f2(0x244)](this[_0x27d0f2(0x28a)]+'\x20('+this['instance'][_0x27d0f2(0x694)]+_0x27d0f2(0x181)+_0x4b3fd0),new g(_0x27d0f2(0x6ff)+_0x4b3fd0[_0x27d0f2(0x56b)]);}}async['fetchConversation'](_0x324cbf,_0x5d78fa=0x64){const _0x6fd9e5=a0_0x596428;try{this[_0x6fd9e5(0x1d3)][_0x6fd9e5(0x327)](this['instanceName']+'\x20('+this[_0x6fd9e5(0x1f1)]['wuid']+'):\x20Buscando\x20conversas...');let _0x3a89b7={..._0x324cbf,'owner':this[_0x6fd9e5(0x1f1)][_0x6fd9e5(0x694)]};return this['logger'][_0x6fd9e5(0x327)](_0x3a89b7),await j['find'](_0x3a89b7)['limit'](_0x5d78fa)[_0x6fd9e5(0x585)]({'lastInteraction':-0x1});}catch(_0x3a015a){throw this[_0x6fd9e5(0x1d3)][_0x6fd9e5(0x244)](this[_0x6fd9e5(0x28a)]+'\x20('+this[_0x6fd9e5(0x1f1)][_0x6fd9e5(0x694)]+_0x6fd9e5(0x291)+_0x3a015a),new g(_0x6fd9e5(0x185)+_0x3a015a[_0x6fd9e5(0x56b)]);}}async[a0_0x596428(0x336)](_0xcfe1da){const _0x430aa8=a0_0x596428;try{return this['logger'][_0x430aa8(0x327)](this[_0x430aa8(0x28a)]+'\x20('+this[_0x430aa8(0x1f1)]['wuid']+'):\x20Deletando\x20conversa...'),this[_0x430aa8(0x1d3)][_0x430aa8(0x327)](this['instanceName']+'\x20('+this[_0x430aa8(0x1f1)]['wuid']+_0x430aa8(0x43c)+{'owner':this[_0x430aa8(0x1f1)][_0x430aa8(0x694)],'_id':_0xcfe1da}),(await j['deleteOne']({'owner':this['instance'][_0x430aa8(0x694)],'_id':_0xcfe1da}))[_0x430aa8(0x655)]===0x0?{'message':_0x430aa8(0x384)}:{'message':_0x430aa8(0x245)};}catch(_0x323f62){throw this['logger'][_0x430aa8(0x244)](this[_0x430aa8(0x28a)]+'\x20('+this[_0x430aa8(0x1f1)][_0x430aa8(0x694)]+_0x430aa8(0x72a)+_0x323f62),new g(_0x430aa8(0x44d)+_0x323f62['message']);}}async[a0_0x596428(0x41d)](_0x197878){const _0x2d0683=a0_0x596428;try{let {_id:_0x193e80,chatLog:_0x1b0700,status:_0x156a5e}=_0x197878;if(!_0x193e80)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0x5e7f32={};if(_0x156a5e!==void 0x0&&(_0x5e7f32[_0x2d0683(0x2a2)]=_0x156a5e),Object[_0x2d0683(0x678)](_0x5e7f32)[_0x2d0683(0x708)]===0x0)return{'message':_0x2d0683(0x547)};let _0x46ffe1=this[_0x2d0683(0x1f1)]['wuid'],_0x42fbe4=await j[_0x2d0683(0x5f4)]({'_id':_0x193e80,'owner':_0x46ffe1},{'$set':_0x5e7f32},{'new':!0x0});return _0x42fbe4||{'message':_0x2d0683(0x2b9)};}catch(_0x1e8ff9){throw this[_0x2d0683(0x1d3)][_0x2d0683(0x244)](this[_0x2d0683(0x28a)]+'\x20('+this[_0x2d0683(0x1f1)]['wuid']+'):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20'+_0x1e8ff9),new g(_0x2d0683(0x1b1)+_0x1e8ff9[_0x2d0683(0x56b)]);}}async[a0_0x596428(0x261)](_0x336a87){const _0x3af6f2=a0_0x596428;try{_0x336a87[_0x3af6f2(0x19f)]=this['createJid'](_0x336a87[_0x3af6f2(0x19f)]);let {_id:_0x2a6c24,leadInfo:_0x3c4d63}=_0x336a87;if(!_0x2a6c24)throw new Error(_0x3af6f2(0x2a0));let _0xc4646d=(_0x56034b,_0x3f4587,_0x3711db)=>{_0x3711db['forEach'](_0x2b7776=>{const _0x488e33=a0_0xd1e2;_0x56034b[_0x2b7776]!==void 0x0&&(_0x3f4587[_0x488e33(0x578)+_0x2b7776]=_0x56034b[_0x2b7776]);});},_0x438d84={};if(_0xc4646d(_0x3c4d63,_0x438d84,[_0x3af6f2(0x539),_0x3af6f2(0x59d),_0x3af6f2(0x355),_0x3af6f2(0x510),_0x3af6f2(0x2a2),_0x3af6f2(0x51b),_0x3af6f2(0x509),_0x3af6f2(0x691),'responsavelid']),Array['isArray'](_0x3c4d63[_0x3af6f2(0x360)])&&(_0x438d84[_0x3af6f2(0x604)]=_0x3c4d63[_0x3af6f2(0x360)][_0x3af6f2(0x393)](_0x47a988=>({'_id':_0x47a988[_0x3af6f2(0x19f)],'value':_0x47a988[_0x3af6f2(0x2c9)]}))),_0x336a87['leadInfo'][_0x3af6f2(0x71c)]!==void 0x0&&(_0x438d84[_0x3af6f2(0x47c)]=Number(_0x336a87['leadInfo'][_0x3af6f2(0x71c)])),_0x336a87[_0x3af6f2(0x65a)]!==void 0x0&&(_0x438d84[_0x3af6f2(0x65a)]=Number(_0x336a87[_0x3af6f2(0x65a)])),Object[_0x3af6f2(0x678)](_0x438d84)[_0x3af6f2(0x708)]===0x0)throw new Error(_0x3af6f2(0x547));let _0x25de89=this[_0x3af6f2(0x1f1)][_0x3af6f2(0x694)];if(!_0x25de89)throw new Error(_0x3af6f2(0x67a));if(!await this[_0x3af6f2(0x1fe)][_0x3af6f2(0x3be)][_0x3af6f2(0x3d7)]({'where':{'_id':_0x336a87[_0x3af6f2(0x19f)],'owner':_0x25de89}})){let _0x43b214=(await this[_0x3af6f2(0x5a2)]({'numbers':[_0x336a87[_0x3af6f2(0x19f)]]}))[0x0];if(!_0x43b214[_0x3af6f2(0x3df)]&&!(0x0,w[_0x3af6f2(0x4a8)])(_0x43b214[_0x3af6f2(0x690)])&&!_0x43b214[_0x3af6f2(0x690)][_0x3af6f2(0x739)](_0x3af6f2(0x711)))throw new g(_0x43b214);_0x336a87[_0x3af6f2(0x19f)]=_0x43b214['jid'];}let _0x399eb0=await this[_0x3af6f2(0x1fe)][_0x3af6f2(0x3be)][_0x3af6f2(0x3ad)]({'where':{'_id':_0x336a87['_id'],'owner':_0x25de89}},_0x438d84);return _0x399eb0&&B(this[_0x3af6f2(0x28a)],'chats',{'chat':_0x399eb0}),_0x399eb0?(this['logger'][_0x3af6f2(0x327)](this[_0x3af6f2(0x28a)]+'\x20('+this[_0x3af6f2(0x1f1)]['wuid']+_0x3af6f2(0x6e6)+_0x399eb0),_0x399eb0):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x299c4){throw this['logger']['error'](this[_0x3af6f2(0x28a)]+'\x20('+this[_0x3af6f2(0x1f1)][_0x3af6f2(0x694)]+_0x3af6f2(0x37b)+_0x299c4),new g('Erro\x20ao\x20editar\x20o\x20chat:\x20'+_0x299c4[_0x3af6f2(0x56b)]);}}async[a0_0x596428(0x525)](_0x672c3e){const _0x437f5f=a0_0x596428;let _0x312c31=this['instance']['wuid'];try{let _0x1f1bae=await ae[_0x437f5f(0x17d)](_0x312c31);_0x1f1bae||(_0x1f1bae=new ae({'_id':_0x312c31}),await _0x1f1bae[_0x437f5f(0x190)]());let _0x1787e2=_0x672c3e['_id']?_0x1f1bae[_0x437f5f(0x64d)]['findIndex'](_0x1ae44d=>_0x1ae44d[_0x437f5f(0x19f)]===_0x672c3e[_0x437f5f(0x19f)]):-0x1;if(_0x672c3e[_0x437f5f(0x5f7)]&&_0x1787e2>-0x1)_0x1f1bae[_0x437f5f(0x64d)][_0x437f5f(0x33b)](_0x1787e2,0x1);else{if(_0x1787e2>-0x1){let _0xf9ac5a=_0x1f1bae[_0x437f5f(0x64d)][_0x1787e2];_0x672c3e['fone']&&(_0xf9ac5a[_0x437f5f(0x446)]=_0x672c3e[_0x437f5f(0x446)]),_0x672c3e[_0x437f5f(0x382)]&&(_0xf9ac5a[_0x437f5f(0x382)]=_0x672c3e[_0x437f5f(0x382)]),_0x672c3e['email']&&(_0xf9ac5a['email']=_0x672c3e[_0x437f5f(0x355)]),_0x672c3e[_0x437f5f(0x2fd)]&&(_0xf9ac5a['role']=_0x672c3e[_0x437f5f(0x2fd)]);}else _0x1f1bae[_0x437f5f(0x64d)][_0x437f5f(0x66c)]({'_id':_0x672c3e[_0x437f5f(0x19f)]||new we[(_0x437f5f(0x3ea))][(_0x437f5f(0x5d4))][(_0x437f5f(0x2e6))]()[_0x437f5f(0x1af)](),'fone':_0x672c3e[_0x437f5f(0x446)],'name':_0x672c3e[_0x437f5f(0x382)],'email':_0x672c3e[_0x437f5f(0x355)],'role':_0x672c3e['role']});}let _0x58ab4b=await _0x1f1bae[_0x437f5f(0x190)]();return this[_0x437f5f(0x3c3)]=_0x58ab4b,this[_0x437f5f(0x1d3)]['verbose'](this['instanceName']+'\x20('+this[_0x437f5f(0x1f1)][_0x437f5f(0x694)]+_0x437f5f(0x556)),this[_0x437f5f(0x1d3)]['verbose'](this[_0x437f5f(0x28a)]+'\x20('+this[_0x437f5f(0x1f1)][_0x437f5f(0x694)]+_0x437f5f(0x6e6)+this[_0x437f5f(0x3c3)]),_0x58ab4b;}catch(_0x3ee18b){throw this[_0x437f5f(0x1d3)][_0x437f5f(0x244)](this[_0x437f5f(0x28a)]+'\x20('+this[_0x437f5f(0x1f1)][_0x437f5f(0x694)]+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+_0x3ee18b),new g('Erro\x20ao\x20editar\x20agentes:\x20'+_0x3ee18b['message']);}}async[a0_0x596428(0x701)](_0x59e52a){const _0x3f021b=a0_0x596428;let _0x4bc330=this[_0x3f021b(0x1f1)][_0x3f021b(0x694)];try{let _0x280ad2=await ae[_0x3f021b(0x17d)](_0x4bc330);_0x280ad2||(_0x280ad2=new ae({'_id':_0x4bc330}),await _0x280ad2[_0x3f021b(0x190)]());let _0x34d22a=_0x59e52a[_0x3f021b(0x19f)]?_0x280ad2[_0x3f021b(0x360)][_0x3f021b(0x189)](_0x4310c5=>_0x4310c5[_0x3f021b(0x19f)]===_0x59e52a[_0x3f021b(0x19f)]):-0x1,_0x3eddb5=!0x1,_0x2a6939=_0x280ad2[_0x3f021b(0x360)][_0x3f021b(0x328)](_0x3d77d9=>_0x3d77d9['order']===_0x59e52a[_0x3f021b(0x61f)]);if(_0x59e52a[_0x3f021b(0x5f7)]&&_0x34d22a>-0x1)_0x280ad2[_0x3f021b(0x360)][_0x3f021b(0x33b)](_0x34d22a,0x1),_0x3eddb5=!0x0;else{if(_0x34d22a>-0x1){if(_0x280ad2[_0x3f021b(0x360)][_0x3f021b(0x328)](_0x3d9ce8=>_0x3d9ce8[_0x3f021b(0x382)]===_0x59e52a['name']&&_0x3d9ce8[_0x3f021b(0x19f)]!==_0x59e52a[_0x3f021b(0x19f)]))throw new Error(_0x3f021b(0x1db));let _0x2d9f63=_0x280ad2[_0x3f021b(0x360)][_0x34d22a];_0x59e52a['order']&&(_0x2a6939||!Number[_0x3f021b(0x3f6)](_0x59e52a['order']))&&(_0x2d9f63[_0x3f021b(0x61f)]=_0x59e52a[_0x3f021b(0x61f)],_0x3eddb5=!0x0),_0x59e52a['name']&&(_0x2d9f63[_0x3f021b(0x382)]=_0x59e52a['name']);}else{if(_0x280ad2['customFields'][_0x3f021b(0x328)](_0x3c866a=>_0x3c866a[_0x3f021b(0x382)]===_0x59e52a[_0x3f021b(0x382)]&&_0x3c866a[_0x3f021b(0x19f)]!==_0x59e52a[_0x3f021b(0x19f)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x280ad2[_0x3f021b(0x360)]['push']({'_id':_0x59e52a[_0x3f021b(0x19f)]||new we[(_0x3f021b(0x3ea))][(_0x3f021b(0x5d4))]['ObjectId']()['toString'](),'order':_0x59e52a[_0x3f021b(0x61f)],'name':_0x59e52a[_0x3f021b(0x382)]}),_0x3eddb5=!0x0;}}if(_0x3eddb5){_0x280ad2[_0x3f021b(0x360)]['sort']((_0xdf0c42,_0x1f761f)=>_0xdf0c42[_0x3f021b(0x61f)]>_0x1f761f['order']?0x1:_0x1f761f[_0x3f021b(0x61f)]>_0xdf0c42[_0x3f021b(0x61f)]?-0x1:0x0);for(let _0x35c82d=0x0;_0x35c82d<_0x280ad2[_0x3f021b(0x360)][_0x3f021b(0x708)];_0x35c82d++)_0x280ad2[_0x3f021b(0x360)][_0x35c82d][_0x3f021b(0x61f)]=_0x35c82d+0x1;}let _0x3b12d5=await _0x280ad2[_0x3f021b(0x190)]();return this[_0x3f021b(0x3c3)]=_0x3b12d5,this[_0x3f021b(0x1d3)][_0x3f021b(0x327)](this[_0x3f021b(0x28a)]+'\x20('+this[_0x3f021b(0x1f1)][_0x3f021b(0x694)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this['logger'][_0x3f021b(0x327)](this['instanceName']+'\x20('+this['instance'][_0x3f021b(0x694)]+_0x3f021b(0x6e6)+this[_0x3f021b(0x3c3)]),_0x3b12d5;}catch(_0x17d90b){throw this[_0x3f021b(0x1d3)][_0x3f021b(0x244)](this['instanceName']+'\x20('+this[_0x3f021b(0x1f1)][_0x3f021b(0x694)]+_0x3f021b(0x32e)+_0x17d90b),new g(_0x3f021b(0x4a4)+_0x17d90b[_0x3f021b(0x56b)]);}}async[a0_0x596428(0x59b)](_0xbf78d){const _0x2dc3c3=a0_0x596428;let _0x2601a9=this[_0x2dc3c3(0x1f1)]['wuid'];try{let _0x54a7f7=await ae[_0x2dc3c3(0x17d)](_0x2601a9);_0x54a7f7||(_0x54a7f7=new ae({'_id':_0x2601a9}),await _0x54a7f7[_0x2dc3c3(0x190)]()),_0x54a7f7[_0x2dc3c3(0x516)]['enabled']=_0xbf78d?.['enabled']!==void 0x0?_0xbf78d?.[_0x2dc3c3(0x5a5)]:_0x54a7f7['flowConfig'][_0x2dc3c3(0x5a5)],_0x54a7f7[_0x2dc3c3(0x516)][_0x2dc3c3(0x6db)]=_0xbf78d?.[_0x2dc3c3(0x6db)]!==void 0x0?_0xbf78d?.[_0x2dc3c3(0x6db)]:_0x54a7f7[_0x2dc3c3(0x516)][_0x2dc3c3(0x6db)],_0x54a7f7[_0x2dc3c3(0x516)][_0x2dc3c3(0x192)]=_0xbf78d?.[_0x2dc3c3(0x192)]??_0x54a7f7[_0x2dc3c3(0x516)][_0x2dc3c3(0x192)],_0x54a7f7[_0x2dc3c3(0x516)][_0x2dc3c3(0x1bc)]=_0xbf78d?.[_0x2dc3c3(0x1bc)]??_0x54a7f7[_0x2dc3c3(0x516)]['stopConversation'],_0x54a7f7[_0x2dc3c3(0x516)]['stopMinutes']=_0xbf78d?.['stopMinutes']??_0x54a7f7[_0x2dc3c3(0x516)][_0x2dc3c3(0x21b)];let _0x1d8d02=await _0x54a7f7[_0x2dc3c3(0x190)]();return this[_0x2dc3c3(0x3c3)]=_0x1d8d02,this['logger']['verbose'](this[_0x2dc3c3(0x28a)]+'\x20('+this[_0x2dc3c3(0x1f1)]['wuid']+_0x2dc3c3(0x556)),this[_0x2dc3c3(0x1d3)][_0x2dc3c3(0x327)](this[_0x2dc3c3(0x28a)]+'\x20('+this[_0x2dc3c3(0x1f1)][_0x2dc3c3(0x694)]+'):\x20'+this[_0x2dc3c3(0x3c3)]),_0x1d8d02;}catch(_0x444c92){throw this[_0x2dc3c3(0x1d3)]['error'](this[_0x2dc3c3(0x28a)]+'\x20('+this[_0x2dc3c3(0x1f1)][_0x2dc3c3(0x694)]+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+_0x444c92),new g('Erro\x20ao\x20editar\x20agentes:\x20'+_0x444c92[_0x2dc3c3(0x56b)]);}}async['getAutomateSystem'](){const _0x31aac9=a0_0x596428;let _0x4572a3=this[_0x31aac9(0x1f1)][_0x31aac9(0x694)];try{let _0x4593c3=await ae[_0x31aac9(0x17d)](_0x4572a3);return _0x4593c3||(_0x4593c3=new ae({'_id':_0x4572a3})),_0x4593c3[_0x31aac9(0x516)]=_0x4593c3[_0x31aac9(0x516)]||{},_0x4593c3[_0x31aac9(0x516)][_0x31aac9(0x5a5)]===void 0x0&&(_0x4593c3[_0x31aac9(0x516)][_0x31aac9(0x5a5)]=!0x1),_0x4593c3[_0x31aac9(0x516)][_0x31aac9(0x6db)]===void 0x0&&(_0x4593c3[_0x31aac9(0x516)][_0x31aac9(0x6db)]=!0x0),_0x4593c3[_0x31aac9(0x516)]['prefixCommand']===void 0x0&&(_0x4593c3['flowConfig'][_0x31aac9(0x192)]='!'),_0x4593c3[_0x31aac9(0x516)][_0x31aac9(0x1bc)]===void 0x0&&(_0x4593c3[_0x31aac9(0x516)]['stopConversation']=_0x31aac9(0x4f2)),_0x4593c3['flowConfig']['stopMinutes']===void 0x0&&(_0x4593c3['flowConfig']['stopMinutes']=0x14),await _0x4593c3[_0x31aac9(0x190)](),this['AutomateSystem']=_0x4593c3,this[_0x31aac9(0x1d3)]['verbose'](this['instanceName']+'\x20('+this[_0x31aac9(0x1f1)][_0x31aac9(0x694)]+_0x31aac9(0x284)),this[_0x31aac9(0x1d3)]['verbose'](this[_0x31aac9(0x3c3)]),_0x4593c3;}catch(_0x379652){throw this[_0x31aac9(0x1d3)][_0x31aac9(0x244)](this['instanceName']+'\x20('+this[_0x31aac9(0x1f1)]['wuid']+_0x31aac9(0x456)+_0x379652[_0x31aac9(0x56b)]),new g(_0x31aac9(0x6e0)+_0x379652[_0x31aac9(0x56b)]);}}async['scheduleNextCheck'](){const _0x256203=a0_0x596428;let _0x37a18d=()=>{const _0x70a77b=a0_0xd1e2;this[_0x70a77b(0x1d3)][_0x70a77b(0x327)](this[_0x70a77b(0x28a)]+'\x20('+this['instance'][_0x70a77b(0x694)]+_0x70a77b(0x600)+this[_0x70a77b(0x6fd)]+_0x70a77b(0x6c4));},_0x3a659e=async()=>{const _0x4cbaae=a0_0xd1e2;this['logger'][_0x4cbaae(0x327)](this[_0x4cbaae(0x28a)]+'\x20('+this[_0x4cbaae(0x1f1)][_0x4cbaae(0x694)]+_0x4cbaae(0x422));let _0x2e21f0=Date[_0x4cbaae(0x4a1)]()-0xc*0x3c*0x3c*0x3e8;return await L[_0x4cbaae(0x266)]({'owner':this[_0x4cbaae(0x1f1)][_0x4cbaae(0x694)],'status':{'$in':[_0x4cbaae(0x66f),_0x4cbaae(0x6a7)]},'$or':[{'when':{'$lte':Date[_0x4cbaae(0x4a1)](),'$gte':_0x2e21f0}},{'when':0x0}]});},_0x5ac99c=async _0x4a0714=>{const _0x1838da=a0_0xd1e2;for(let _0x54bdf9 of _0x4a0714){if(!await L[_0x1838da(0x5f4)]({'_id':_0x54bdf9['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x1838da(0x4a1)]()-0x1770}}]},{'$set':{'startSend':Date[_0x1838da(0x4a1)]()}}))return;if(!this[_0x1838da(0x59a)]){this[_0x1838da(0x1d3)][_0x1838da(0x327)](this[_0x1838da(0x28a)]+'\x20('+this['instance'][_0x1838da(0x694)]+_0x1838da(0x69c));break;}(!_0x54bdf9[_0x1838da(0x698)]||_0x54bdf9[_0x1838da(0x698)][_0x1838da(0x708)]===0x0)&&(_0x54bdf9=await L[_0x1838da(0x41a)](_0x54bdf9[_0x1838da(0x19f)],{'$set':{'status':'sending','remoteJidsRemaining':[..._0x54bdf9[_0x1838da(0x4bb)]]}},{'new':!0x0}));for(let _0x14d2cf of _0x54bdf9[_0x1838da(0x698)]){if(this['lastSend']=Date['now'](),_0x54bdf9['messagesSend'][_0x1838da(0x328)](_0x3e9b85=>_0x3e9b85[_0x1838da(0x5ea)]===_0x14d2cf)){this[_0x1838da(0x1d3)]['verbose'](this['instanceName']+'\x20('+this[_0x1838da(0x1f1)][_0x1838da(0x694)]+_0x1838da(0x3d0)+_0x14d2cf+'.\x20Pulando.');continue;}try{let _0xa155e=await this[_0x1838da(0x2f4)](_0x14d2cf,_0x54bdf9),_0x18cd68={'remoteJid':_0x14d2cf,'error':_0xa155e[_0x1838da(0x244)],'id':_0xa155e['id']||null,'error_log':_0xa155e[_0x1838da(0x317)]||null,'log_timestamp':Date[_0x1838da(0x4a1)]()};if((await L[_0x1838da(0x41a)](_0x54bdf9[_0x1838da(0x19f)],{'$push':{'messagesSend':_0x18cd68},'$pull':{'remoteJidsRemaining':_0x14d2cf}},{'new':!0x0}))[_0x1838da(0x2a2)]===_0x1838da(0x350)){this[_0x1838da(0x1d3)][_0x1838da(0x327)](this[_0x1838da(0x28a)]+'\x20('+this[_0x1838da(0x1f1)][_0x1838da(0x694)]+_0x1838da(0x1a3)+_0x54bdf9[_0x1838da(0x19f)]+_0x1838da(0x472));break;}if(!this[_0x1838da(0x59a)]){this[_0x1838da(0x1d3)][_0x1838da(0x327)](this[_0x1838da(0x28a)]+'\x20('+this[_0x1838da(0x1f1)][_0x1838da(0x694)]+_0x1838da(0x574));break;}if(!this['processingScheduleMessageId']){this[_0x1838da(0x1d3)]['verbose'](this['instanceName']+'\x20('+this[_0x1838da(0x1f1)][_0x1838da(0x694)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x54bdf9[_0x1838da(0x19f)]+_0x1838da(0x29e));break;}let _0x1bdf4b=this[_0x1838da(0x202)](_0x54bdf9['delaySecMin'],_0x54bdf9[_0x1838da(0x3ff)]);await this[_0x1838da(0x6e1)](_0x1bdf4b);}catch(_0x5ae819){this['logger']['error'](this['instanceName']+'\x20('+this[_0x1838da(0x1f1)][_0x1838da(0x694)]+_0x1838da(0x576)+_0x14d2cf+':\x20'+_0x5ae819[_0x1838da(0x56b)]);let _0x5547dc={'remoteJid':_0x14d2cf,'status':_0x1838da(0x244),'timestamp':Date[_0x1838da(0x4a1)](),'error':_0x5ae819[_0x1838da(0x56b)]};await L['findByIdAndUpdate'](_0x54bdf9[_0x1838da(0x19f)],{'$push':{'messagesSend':_0x5547dc},'$pull':{'remoteJidsRemaining':_0x14d2cf}},{'new':!0x0});}}let _0x44a960=await L[_0x1838da(0x17d)](_0x54bdf9[_0x1838da(0x19f)]);_0x44a960[_0x1838da(0x698)][_0x1838da(0x708)]===0x0&&_0x44a960[_0x1838da(0x2a2)]!==_0x1838da(0x350)&&await L['findByIdAndUpdate'](_0x54bdf9[_0x1838da(0x19f)],{'$set':{'status':_0x1838da(0x229)}},{'new':!0x0}),await new Promise(_0x2aeb3f=>setTimeout(_0x2aeb3f,0x1388));}},_0x3a965f=async()=>{const _0x24b485=a0_0xd1e2;let _0x2d8413=await L[_0x24b485(0x3d7)]({'owner':this[_0x24b485(0x1f1)][_0x24b485(0x694)],'status':_0x24b485(0x66f),'when':{'$gt':Date[_0x24b485(0x4a1)]()}})['sort']({'when':0x1});_0x2d8413&&_0x2d8413[_0x24b485(0x6aa)]-Date['now']()<=0x5265c00?this[_0x24b485(0x4c1)]=_0x2d8413[_0x24b485(0x6aa)]-Date['now']():this[_0x24b485(0x4c1)]=(0x3c+Math[_0x24b485(0x4e8)](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x24b485(0x4c1)]=Math[_0x24b485(0x5e2)](this[_0x24b485(0x4c1)],0x7d0);let _0x5338ae=Math[_0x24b485(0x23e)](this['delayMessage']/0xea60);if(_0x2d8413){let _0x2622d5=new Date(_0x2d8413[_0x24b485(0x6aa)])[_0x24b485(0x366)]();this[_0x24b485(0x1d3)][_0x24b485(0x327)](this[_0x24b485(0x28a)]+'\x20('+this[_0x24b485(0x1f1)][_0x24b485(0x694)]+_0x24b485(0x392)+_0x2622d5+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x5338ae+_0x24b485(0x506));}else this[_0x24b485(0x1d3)][_0x24b485(0x327)](this[_0x24b485(0x28a)]+'\x20('+this[_0x24b485(0x1f1)]['wuid']+_0x24b485(0x1d0)+_0x5338ae+'\x20minutos');setTimeout(()=>this[_0x24b485(0x692)](),this[_0x24b485(0x4c1)]);};if(this[_0x256203(0x6fd)]&&Date[_0x256203(0x4a1)]()-this[_0x256203(0x268)]<0x1d4c0){_0x37a18d();return;}try{let _0x1d0963=await _0x3a659e();_0x1d0963[_0x256203(0x708)]===0x0?this[_0x256203(0x1d3)][_0x256203(0x327)](this[_0x256203(0x28a)]+'\x20('+this['instance'][_0x256203(0x694)]+_0x256203(0x6d0)):(this[_0x256203(0x6fd)]=_0x1d0963[0x0]['_id'],await _0x5ac99c(_0x1d0963)),await _0x3a965f(),this[_0x256203(0x6fd)]=null;}catch(_0x22f52c){this['logger'][_0x256203(0x244)](_0x256203(0x32c)+_0x22f52c[_0x256203(0x56b)]);}}[a0_0x596428(0x202)](_0x7385f9,_0x1df353){const _0x5517bd=a0_0x596428;return _0x7385f9=Math[_0x5517bd(0x5e2)](0.5,_0x7385f9),_0x1df353=Math[_0x5517bd(0x5e2)](0x3,_0x1df353),Math[_0x5517bd(0x4e8)](Math[_0x5517bd(0x4ee)]()*(_0x1df353-_0x7385f9+0x1)+_0x7385f9)*0x3e8;}[a0_0x596428(0x6e1)](_0x46f7a7){return new Promise(_0x7d76b3=>setTimeout(_0x7d76b3,_0x46f7a7));}async[a0_0x596428(0x518)](_0x486074){const _0x14b7bc=a0_0x596428;if(!this['AutomateSystem']&&(await this[_0x14b7bc(0x299)](),!this[_0x14b7bc(0x3c3)]))return null;_0x486074=this[_0x14b7bc(0x1ad)](_0x486074);let _0x1ac383=await this[_0x14b7bc(0x1fe)][_0x14b7bc(0x3be)][_0x14b7bc(0x3d7)]({'where':{'_id':_0x486074,'owner':this['instance'][_0x14b7bc(0x694)]}}),_0x54f4bc={};if(_0x1ac383&&_0x1ac383[_0x14b7bc(0x5e7)]){let _0x5d41a1=_0x1ac383[_0x14b7bc(0x5e7)];typeof _0x5d41a1[_0x14b7bc(0x539)]==_0x14b7bc(0x55f)&&(_0x54f4bc['nome']=_0x5d41a1[_0x14b7bc(0x539)]),typeof _0x5d41a1[_0x14b7bc(0x59d)]=='string'&&(_0x54f4bc['nomecompleto']=_0x5d41a1['nomecompleto']),typeof _0x5d41a1[_0x14b7bc(0x355)]=='string'&&(_0x54f4bc[_0x14b7bc(0x355)]=_0x5d41a1['email']),typeof _0x5d41a1[_0x14b7bc(0x510)]=='string'&&(_0x54f4bc['cpf']=_0x5d41a1[_0x14b7bc(0x510)]),typeof _0x5d41a1[_0x14b7bc(0x2a2)]==_0x14b7bc(0x55f)&&(_0x54f4bc[_0x14b7bc(0x2a2)]=_0x5d41a1[_0x14b7bc(0x2a2)]),typeof _0x5d41a1['notas']==_0x14b7bc(0x55f)&&(_0x54f4bc['notas']=_0x5d41a1[_0x14b7bc(0x51b)]),typeof _0x5d41a1[_0x14b7bc(0x4a0)]==_0x14b7bc(0x55f)&&(_0x54f4bc['responsavelid']=_0x5d41a1[_0x14b7bc(0x4a0)]),Array['isArray'](_0x5d41a1[_0x14b7bc(0x509)])&&(_0x54f4bc[_0x14b7bc(0x509)]=_0x5d41a1['tags'][_0x14b7bc(0x72f)](',\x20'));}return _0x1ac383&&_0x1ac383['leadInfo']&&_0x1ac383[_0x14b7bc(0x5e7)][_0x14b7bc(0x360)]&&_0x1ac383['leadInfo'][_0x14b7bc(0x360)][_0x14b7bc(0x571)](_0x128991=>{const _0x48006c=_0x14b7bc;let _0x4e8231=this[_0x48006c(0x3c3)]?.[_0x48006c(0x360)][_0x48006c(0x266)](_0xae34d0=>_0xae34d0[_0x48006c(0x19f)]===_0x128991[_0x48006c(0x19f)]);_0x4e8231&&(_0x54f4bc[_0x4e8231[_0x48006c(0x382)]]=_0x128991[_0x48006c(0x2c9)]);}),_0x54f4bc;}async['replaceVariablesChat'](_0x39a3ae,_0x2b05d8){const _0x56523b=a0_0x596428;let _0x4f2db3=await this[_0x56523b(0x518)](_0x2b05d8);return this[_0x56523b(0x5fc)](_0x39a3ae,_0x4f2db3);}async[a0_0x596428(0x623)](_0x46adbe){const _0x25988c=a0_0x596428;try{if(this['logger'][_0x25988c(0x327)](this[_0x25988c(0x28a)]+'\x20('+this[_0x25988c(0x1f1)][_0x25988c(0x694)]+_0x25988c(0x6a0)),_0x46adbe[_0x25988c(0x5f7)]&&_0x46adbe[_0x25988c(0x19f)]){if(this[_0x25988c(0x6fd)]===_0x46adbe[_0x25988c(0x19f)][_0x25988c(0x1af)]())throw new Error('Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar');let _0x1d1ed4=await L['findByIdAndDelete'](_0x46adbe['_id']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x1d1ed4;}let _0x4a3618;if(_0x46adbe[_0x25988c(0x19f)]&&(_0x4a3618=await L[_0x25988c(0x3d7)]({'owner':this['instance'][_0x25988c(0x694)],'_id':_0x46adbe['_id']})),_0x4a3618){let _0x34f9ab=_0x46adbe;this['processingScheduleMessageId']===_0x4a3618['_id'][_0x25988c(0x1af)]()&&(_0x34f9ab={'status':_0x46adbe[_0x25988c(0x2a2)],'_id':_0x46adbe[_0x25988c(0x19f)]});let _0x30badf=await L[_0x25988c(0x41a)](_0x4a3618[_0x25988c(0x19f)],{'$set':_0x34f9ab},{'new':!0x0});return setTimeout(()=>this[_0x25988c(0x692)](),0x7d0),_0x30badf;}else{_0x46adbe['owner']=this[_0x25988c(0x1f1)][_0x25988c(0x694)];let _0x1207eb=await new L(_0x46adbe)[_0x25988c(0x190)]();return setTimeout(()=>this[_0x25988c(0x692)](),0x7d0),_0x1207eb;}}catch(_0x26f92b){throw this[_0x25988c(0x1d3)][_0x25988c(0x244)](this[_0x25988c(0x28a)]+'\x20('+this[_0x25988c(0x1f1)]['wuid']+_0x25988c(0x378)+_0x26f92b),new g(_0x25988c(0x5ad)+_0x26f92b[_0x25988c(0x56b)]);}}async[a0_0x596428(0x2c3)](){const _0x3ba824=a0_0x596428;try{return await L[_0x3ba824(0x266)]({'owner':this['instance'][_0x3ba824(0x694)]})['sort']({'when':0x1});}catch(_0x451b40){throw this['logger'][_0x3ba824(0x244)](this[_0x3ba824(0x28a)]+'\x20('+this['instance'][_0x3ba824(0x694)]+_0x3ba824(0x4c4)+_0x451b40),new g(_0x3ba824(0x5ad)+_0x451b40[_0x3ba824(0x56b)]);}}async['deleteDoneMessages'](){const _0x51f1af=a0_0x596428;try{return await L[_0x51f1af(0x58e)]({'owner':this[_0x51f1af(0x1f1)][_0x51f1af(0x694)],'status':_0x51f1af(0x229)}),this[_0x51f1af(0x1d3)][_0x51f1af(0x327)](this[_0x51f1af(0x28a)]+'\x20('+this[_0x51f1af(0x1f1)][_0x51f1af(0x694)]+_0x51f1af(0x54a)),this['getScheduleMessage']();}catch(_0x190a2e){throw this[_0x51f1af(0x1d3)]['error'](this['instanceName']+'\x20('+this[_0x51f1af(0x1f1)][_0x51f1af(0x694)]+_0x51f1af(0x267)+_0x190a2e),new g(_0x51f1af(0x5ad)+_0x190a2e[_0x51f1af(0x56b)]);}}async[a0_0x596428(0x2f4)](_0x5bdbd5,_0x2da332){const _0x1bca6c=a0_0x596428;try{switch(_0x2da332[_0x1bca6c(0x394)]){case _0x1bca6c(0x46a):return await this[_0x1bca6c(0x474)](_0x2da332,_0x5bdbd5);case'media':return await this[_0x1bca6c(0x522)](_0x2da332,_0x5bdbd5);case _0x1bca6c(0x18c):return await this[_0x1bca6c(0x541)](_0x2da332,_0x5bdbd5);default:return this['logger'][_0x1bca6c(0x244)](this[_0x1bca6c(0x28a)]+'\x20('+this['instance'][_0x1bca6c(0x694)]+_0x1bca6c(0x48e)+_0x2da332[_0x1bca6c(0x394)]),{'status':_0x1bca6c(0x244),'detail':_0x1bca6c(0x1f2)};}}catch(_0x99cb21){return this[_0x1bca6c(0x1d3)][_0x1bca6c(0x244)](this['instanceName']+'\x20('+this['instance'][_0x1bca6c(0x694)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+_0x99cb21),{'status':'error','detail':_0x99cb21[_0x1bca6c(0x56b)]};}}['getRandomText'](_0x11abce){const _0x520a21=a0_0x596428;let _0x299f8b=_0x11abce[_0x520a21(0x633)]('|'),_0x4757a2=Math[_0x520a21(0x4e8)](Math['random']()*_0x299f8b[_0x520a21(0x708)]);return _0x299f8b[_0x4757a2][_0x520a21(0x58d)]();}async[a0_0x596428(0x474)](_0x297d9e,_0x506015){const _0x16653b=a0_0x596428;if(this[_0x16653b(0x1d3)]['verbose'](this[_0x16653b(0x28a)]+'\x20('+this[_0x16653b(0x1f1)][_0x16653b(0x694)]+_0x16653b(0x1a6)),!_0x297d9e[_0x16653b(0x56b)]['text']||_0x297d9e[_0x16653b(0x56b)][_0x16653b(0x46a)][_0x16653b(0x708)]===0x0)return{'error':!0x0,'error_log':_0x16653b(0x315)};let _0xfb2b61=this[_0x16653b(0x294)](_0x297d9e[_0x16653b(0x56b)][_0x16653b(0x46a)]),_0x26e5b3=await this['replaceVariablesChat'](_0xfb2b61,_0x506015),_0x3f95ad={'number':_0x506015,'options':{'delay':_0x297d9e[_0x16653b(0x56b)]['delay']},'textMessage':{'text':_0x26e5b3}},_0x79b299=null;try{let _0x5c10b1=await this[_0x16653b(0x3e9)](_0x3f95ad);if(_0x5c10b1&&_0x5c10b1[_0x16653b(0x2a2)])return{'error':!0x1,'id':_0x5c10b1[_0x16653b(0x40a)]['id']};_0x79b299=JSON[_0x16653b(0x35c)](_0x5c10b1),this['logger'][_0x16653b(0x327)](this[_0x16653b(0x28a)]+'\x20('+this[_0x16653b(0x1f1)][_0x16653b(0x694)]+_0x16653b(0x6e6)+_0x79b299);}catch(_0x45b674){this[_0x16653b(0x1d3)]['error'](this[_0x16653b(0x28a)]+'\x20('+this['instance'][_0x16653b(0x694)]+_0x16653b(0x50a)+_0x45b674),_0x79b299=_0x45b674[_0x16653b(0x56b)];}if(_0x79b299)return{'error':!0x0,'error_log':(typeof _0x79b299=='object'?JSON[_0x16653b(0x35c)](_0x79b299,null,0x2):_0x79b299)[_0x16653b(0x527)](/[\[\]{}\n]/g,'\x20')[_0x16653b(0x527)](/  +/g,'\x20')};}async[a0_0x596428(0x522)](_0x4cace2,_0x47b85c){const _0x5a711c=a0_0x596428;this[_0x5a711c(0x1d3)][_0x5a711c(0x327)](this[_0x5a711c(0x28a)]+'\x20('+this[_0x5a711c(0x1f1)][_0x5a711c(0x694)]+'):\x20Enviando\x20mídia');let _0x1fb878;if(_0x4cace2[_0x5a711c(0x56b)]['text']&&_0x4cace2[_0x5a711c(0x56b)]['text'][_0x5a711c(0x708)]>0x0){let _0x27914a=this['getRandomText'](_0x4cace2[_0x5a711c(0x56b)][_0x5a711c(0x46a)]);_0x1fb878=await this[_0x5a711c(0x346)](_0x27914a,_0x47b85c);}let _0x4ae88e={'number':_0x47b85c,'options':{'delay':_0x4cace2[_0x5a711c(0x56b)][_0x5a711c(0x647)]},'mediaMessage':{'mediatype':_0x4cace2[_0x5a711c(0x56b)][_0x5a711c(0x246)],'caption':_0x1fb878,'media':_0x4cace2['message']['urlOrBase64']}},_0x59655f=null;try{let _0x37f1dc=await this['mediaMessage'](_0x4ae88e);if(_0x37f1dc&&_0x37f1dc['status'])return{'error':!0x1,'id':_0x37f1dc[_0x5a711c(0x40a)]['id']};_0x59655f=JSON[_0x5a711c(0x35c)](_0x37f1dc),this[_0x5a711c(0x1d3)][_0x5a711c(0x327)](this[_0x5a711c(0x28a)]+'\x20('+this[_0x5a711c(0x1f1)][_0x5a711c(0x694)]+_0x5a711c(0x6e6)+_0x59655f);}catch(_0xa31ccf){this[_0x5a711c(0x1d3)][_0x5a711c(0x244)](this[_0x5a711c(0x28a)]+'\x20('+this['instance'][_0x5a711c(0x694)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:'+_0xa31ccf['message']),_0x59655f=_0xa31ccf[_0x5a711c(0x56b)];}if(_0x59655f)return{'error':!0x0,'error_log':(typeof _0x59655f==_0x5a711c(0x1ee)?JSON[_0x5a711c(0x35c)](_0x59655f,null,0x2):_0x59655f)[_0x5a711c(0x527)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x532e29,_0x583dcb){const _0x48f29e=a0_0x596428;this[_0x48f29e(0x1d3)]['verbose'](this[_0x48f29e(0x28a)]+'\x20('+this[_0x48f29e(0x1f1)][_0x48f29e(0x694)]+_0x48f29e(0x6ae));let _0x5103ba={'number':_0x583dcb,'options':{'delay':_0x532e29[_0x48f29e(0x56b)][_0x48f29e(0x647)]},'audioMessage':{'audio':_0x532e29[_0x48f29e(0x56b)][_0x48f29e(0x601)]}},_0x563390=null;try{let _0x2f4f9a=await this[_0x48f29e(0x72d)](_0x5103ba);if(_0x2f4f9a&&_0x2f4f9a[_0x48f29e(0x2a2)])return{'error':!0x1,'id':_0x2f4f9a[_0x48f29e(0x40a)]['id']};_0x563390=JSON[_0x48f29e(0x35c)](_0x2f4f9a),this[_0x48f29e(0x1d3)][_0x48f29e(0x327)](this[_0x48f29e(0x28a)]+'\x20('+this[_0x48f29e(0x1f1)]['wuid']+_0x48f29e(0x6e6)+_0x563390);}catch(_0x4aaccc){this[_0x48f29e(0x1d3)][_0x48f29e(0x244)](this[_0x48f29e(0x28a)]+'\x20('+this[_0x48f29e(0x1f1)][_0x48f29e(0x694)]+_0x48f29e(0x2df)+_0x4aaccc),_0x563390=_0x4aaccc['message'];}if(_0x563390)return{'error':!0x0,'error_log':(typeof _0x563390==_0x48f29e(0x1ee)?JSON[_0x48f29e(0x35c)](_0x563390,null,0x2):_0x563390)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},be=require(a0_0x596428(0x6f0)),_t=class c{constructor(_0x1fb3cf,_0xc121a2,_0xc1581b){const _0x421c3e=a0_0x596428;this[_0x421c3e(0x6c3)]=_0x1fb3cf,this[_0x421c3e(0x6d5)]=_0xc121a2,this['repository']=_0xc1581b,this['db']={},this['redis']={},this['logger']=new N(c['name']),this[_0x421c3e(0x71a)]={},(this[_0x421c3e(0x428)](),this[_0x421c3e(0x65c)](),this[_0x421c3e(0x3cb)](),Object[_0x421c3e(0x306)](this['db'],_0xc121a2[_0x421c3e(0x342)](_0x421c3e(0x653))),Object['assign'](this[_0x421c3e(0x4fa)],_0xc121a2['get'](_0x421c3e(0x6e8))),this['dbInstance']=this['db'][_0x421c3e(0x404)]?this[_0x421c3e(0x1fe)][_0x421c3e(0x1c5)]?.['db'](this['db'][_0x421c3e(0x2bc)][_0x421c3e(0x1f6)]+_0x421c3e(0x5b8)):void 0x0,this[_0x421c3e(0x622)]=this['redis'][_0x421c3e(0x404)]?new ne(this[_0x421c3e(0x4fa)]):void 0x0);}[a0_0x596428(0x221)](_0x4da4af){const _0xb96354=a0_0x596428;let _0x1a1910=this[_0xb96354(0x6d5)][_0xb96354(0x342)](_0xb96354(0x300));typeof _0x1a1910==_0xb96354(0x395)&&_0x1a1910>0x0&&setTimeout(()=>{const _0xcccdb6=_0xb96354;this['waInstances'][_0x4da4af]?.[_0xcccdb6(0x462)]?.[_0xcccdb6(0x1c3)]!==_0xcccdb6(0x1b4)&&delete this[_0xcccdb6(0x71a)][_0x4da4af];},0x3e8*0x3c*_0x1a1910);}async[a0_0x596428(0x459)](_0x220a92){const _0x2b6ae8=a0_0x596428;if(_0x220a92&&!this[_0x2b6ae8(0x71a)][_0x220a92])throw new x('Instance\x20\x22'+_0x220a92+'\x22\x20not\x20found');let _0x138ac4=[];for await(let [_0x455ad5,_0x3444e2]of Object[_0x2b6ae8(0x6fe)](this[_0x2b6ae8(0x71a)]))if(_0x3444e2&&_0x3444e2[_0x2b6ae8(0x462)][_0x2b6ae8(0x1c3)]===_0x2b6ae8(0x1b4)){let _0x279f1b=await this[_0x2b6ae8(0x1fe)][_0x2b6ae8(0x493)][_0x2b6ae8(0x266)](_0x455ad5);_0x138ac4[_0x2b6ae8(0x66c)]({'instance':{'instanceName':_0x455ad5,'apikey':_0x279f1b[_0x2b6ae8(0x667)],'owner':_0x3444e2['wuid'],'profileName':await _0x3444e2['getProfileName']()||_0x2b6ae8(0x4a5),'profilePictureUrl':_0x3444e2[_0x2b6ae8(0x279)]}});}return _0x138ac4['find'](_0x3f8de8=>_0x3f8de8[_0x2b6ae8(0x1f1)][_0x2b6ae8(0x28a)]===_0x220a92)??_0x138ac4;}[a0_0x596428(0x3cb)](){setInterval(async()=>{const _0x32e8ed=a0_0xd1e2;if(this['db'][_0x32e8ed(0x404)])(await this['dbInstance'][_0x32e8ed(0x70e)]())[_0x32e8ed(0x571)](async _0x5ebfb3=>{const _0xb3c8e4=_0x32e8ed;let _0x5a0534=_0x5ebfb3['namespace'][_0xb3c8e4(0x527)](/^[\w-]+./,'');await this['dbInstance']['collection'](_0x5a0534)[_0xb3c8e4(0x58e)]({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0x380f4c=(0x0,te[_0x32e8ed(0x313)])(V,{'encoding':_0x32e8ed(0x2e7)});for await(let _0x29bdfe of _0x380f4c)_0x29bdfe[_0x32e8ed(0x611)]()&&(0x0,te[_0x32e8ed(0x652)])((0x0,be[_0x32e8ed(0x72f)])(V,_0x29bdfe[_0x32e8ed(0x382)]),{'encoding':_0x32e8ed(0x2e7)})[_0x32e8ed(0x571)](async _0x1c9f72=>{const _0x13001e=_0x32e8ed;(_0x1c9f72[_0x13001e(0x2ad)](/^app.state.*/)||_0x1c9f72[_0x13001e(0x2ad)](/^session-.*/))&&(0x0,te[_0x13001e(0x20a)])((0x0,be[_0x13001e(0x72f)])(V,_0x29bdfe[_0x13001e(0x382)],_0x1c9f72),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async[a0_0x596428(0x36c)](_0x12594f){const _0x3b41f7=a0_0x596428;this['db'][_0x3b41f7(0x404)]&&(await this[_0x3b41f7(0x1fe)][_0x3b41f7(0x1c5)][_0x3b41f7(0x4d1)](),(await this[_0x3b41f7(0x4b4)][_0x3b41f7(0x70e)]())[_0x3b41f7(0x708)]>0x0&&await this[_0x3b41f7(0x4b4)][_0x3b41f7(0x636)](_0x12594f)),this['redis'][_0x3b41f7(0x404)]&&(this[_0x3b41f7(0x622)][_0x3b41f7(0x406)]=_0x12594f,await this[_0x3b41f7(0x622)]['delAll']()),!this['db']['ENABLED']&&!this[_0x3b41f7(0x4fa)][_0x3b41f7(0x404)]&&(0x0,te[_0x3b41f7(0x20a)])((0x0,be['join'])(V,_0x12594f),{'recursive':!0x0,'force':!0x0});}async[a0_0x596428(0x363)](){const _0x2809a1=a0_0x596428;let _0x13968b=async _0x4d0c35=>{const _0x2ab2ff=a0_0xd1e2;let _0x106cbc=new ye(this['configService'],this['eventEmitter'],this[_0x2ab2ff(0x1fe)]);_0x106cbc['instanceName']=_0x4d0c35,await _0x106cbc[_0x2ab2ff(0x5ff)](),this[_0x2ab2ff(0x71a)][_0x4d0c35]=_0x106cbc;};try{if(this[_0x2809a1(0x4fa)][_0x2809a1(0x404)]){let _0x35be88=await this['redisCache'][_0x2809a1(0x42c)]();_0x35be88?.[_0x2809a1(0x708)]>0x0&&_0x35be88[_0x2809a1(0x571)](async _0x3a1d2a=>await _0x13968b(_0x3a1d2a[_0x2809a1(0x633)](':')[0x1]));}if(this['db'][_0x2809a1(0x404)]){await this[_0x2809a1(0x1fe)]['dbServer'][_0x2809a1(0x4d1)]();let _0x1bc681=await this[_0x2809a1(0x4b4)][_0x2809a1(0x70e)]();_0x1bc681[_0x2809a1(0x708)]>0x0&&_0x1bc681['forEach'](async _0x5383b6=>await _0x13968b(_0x5383b6['namespace'][_0x2809a1(0x527)](/^[\w-]+\./,'')));return;}let _0x12cb02=(0x0,te[_0x2809a1(0x313)])(V,{'encoding':'utf-8'});for await(let _0x2dc680 of _0x12cb02)if(_0x2dc680['isDirectory']()){if((0x0,te[_0x2809a1(0x652)])((0x0,be[_0x2809a1(0x72f)])(V,_0x2dc680[_0x2809a1(0x382)]),{'encoding':'utf-8'})['length']===0x0){(0x0,te[_0x2809a1(0x20a)])((0x0,be[_0x2809a1(0x72f)])(V,_0x2dc680[_0x2809a1(0x382)]),{'recursive':!0x0,'force':!0x0});break;}await _0x13968b(_0x2dc680[_0x2809a1(0x382)]);}}catch(_0xc09de6){this[_0x2809a1(0x1d3)][_0x2809a1(0x244)](_0xc09de6);}}[a0_0x596428(0x428)](){const _0x1ee2e6=a0_0x596428;this[_0x1ee2e6(0x6c3)]['on']('remove.instance',async _0x59361=>{const _0x25f0c3=_0x1ee2e6;try{this[_0x25f0c3(0x71a)][_0x59361]=void 0x0;}catch{}try{this[_0x25f0c3(0x36c)](_0x59361);}finally{this[_0x25f0c3(0x1d3)][_0x25f0c3(0x6b1)]('Instance\x20\x22'+_0x59361+_0x25f0c3(0x322));}});}['noConnection'](){const _0x559a08=a0_0x596428;this[_0x559a08(0x6c3)]['on'](_0x559a08(0x4c3),async _0x56c678=>{const _0x27d40f=_0x559a08;try{this[_0x27d40f(0x71a)][_0x56c678]=void 0x0,this[_0x27d40f(0x36c)](_0x56c678);}catch(_0x21a1c7){this['logger'][_0x27d40f(0x244)]({'localError':'noConnection','warn':_0x27d40f(0x606),'error':_0x21a1c7});}finally{this[_0x27d40f(0x1d3)][_0x27d40f(0x6b1)](_0x27d40f(0x191)+_0x56c678+'\x22\x20-\x20NOT\x20CONNECTION');}});}},Ot=class extends W{constructor(_0x3772ba){const _0x50ff92=a0_0x596428;super(_0x3772ba),this[_0x50ff92(0x6d5)]=_0x3772ba;}[a0_0x596428(0x2f9)](_0x3863a3){return Ps(_0x3863a3);}async[a0_0x596428(0x341)](_0x286495){const _0x175669=a0_0x596428;if(_0x286495[_0x175669(0x708)]!==0x0)try{return{'insertCount':(await this[_0x175669(0x2f9)](_0x286495[0x0][_0x175669(0x337)])[_0x175669(0x649)]([..._0x286495]))[_0x175669(0x708)]};}catch(_0x26f1d4){return _0x26f1d4;}}async[a0_0x596428(0x266)](_0x50c640){const _0x5c444f=a0_0x596428;try{return await this[_0x5c444f(0x2f9)](_0x50c640[_0x5c444f(0x5a8)]['owner'])[_0x5c444f(0x266)]({..._0x50c640[_0x5c444f(0x5a8)]})['sort']({'lastmsg':-0x1})[_0x5c444f(0x2d7)](_0x50c640?.[_0x5c444f(0x2d7)]??0x0)['lean']();}catch{return[];}}async[a0_0x596428(0x5f7)](_0x23658e){const _0x4b2f59=a0_0x596428;try{return{'deletedCount':(await this[_0x4b2f59(0x2f9)](_0x23658e[_0x4b2f59(0x5a8)]['owner'])[_0x4b2f59(0x58e)]({..._0x23658e[_0x4b2f59(0x5a8)]}))[_0x4b2f59(0x655)]};}catch(_0x5c2b73){return{'error':_0x5c2b73?.['toString']()};}}async[a0_0x596428(0x2b3)](_0x302b9a){const _0x1a2846=a0_0x596428;try{return await this[_0x1a2846(0x2f9)](_0x302b9a[_0x1a2846(0x5a8)]['owner'])[_0x1a2846(0x58e)]({..._0x302b9a[_0x1a2846(0x5a8)]}),[];}catch(_0x503333){return{'error':_0x503333?.['toString']()};}}async['findOne'](_0x476624){const _0x707dd4=a0_0x596428;try{return await this[_0x707dd4(0x2f9)](_0x476624['where'][_0x707dd4(0x337)])[_0x707dd4(0x3d7)]({..._0x476624[_0x707dd4(0x5a8)]})[_0x707dd4(0x255)]();}catch{return null;}}async[a0_0x596428(0x3ad)](_0x34771c,_0x1a0b08,_0x2ab6a3){const _0x2a43f1=a0_0x596428;try{let _0x356b3b={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x2ab6a3};return await this[_0x2a43f1(0x2f9)](_0x34771c[_0x2a43f1(0x5a8)]['owner'])[_0x2a43f1(0x5f4)]({..._0x34771c['where']},{'$set':_0x1a0b08},_0x356b3b);}catch(_0x47bbfd){return console[_0x2a43f1(0x244)](_0x47bbfd),null;}}async[a0_0x596428(0x25c)](_0x47fd69){const _0x1b4255=a0_0x596428;try{let _0x17f748=this[_0x1b4255(0x2f9)](_0x47fd69[0x0][_0x1b4255(0x281)][_0x1b4255(0x5a8)][_0x1b4255(0x337)]),_0x1880d4=_0x47fd69[_0x1b4255(0x393)](_0xedffcf=>({'updateOne':{'filter':{..._0xedffcf[_0x1b4255(0x281)][_0x1b4255(0x5a8)]},'update':{'$set':_0xedffcf[_0x1b4255(0x545)]}}}));return(await _0x17f748[_0x1b4255(0x6ec)](_0x1880d4))['modifiedCount'];}catch(_0x34254b){return console[_0x1b4255(0x244)](_0x34254b),0x0;}}},Pt=class{constructor(_0x3de3c8){const _0x43f8fb=a0_0x596428;this[_0x43f8fb(0x3a8)]=_0x3de3c8;}async[a0_0x596428(0x261)]({instanceName:_0x58662a},_0x2483d6){const _0x917d3f=a0_0x596428;return await this[_0x917d3f(0x3a8)][_0x917d3f(0x71a)][_0x58662a][_0x917d3f(0x261)](_0x2483d6);}async[a0_0x596428(0x5a2)]({instanceName:_0x1ea9f8},_0x51693f){const _0x4de9f5=a0_0x596428;return await this[_0x4de9f5(0x3a8)][_0x4de9f5(0x71a)][_0x1ea9f8][_0x4de9f5(0x5a2)](_0x51693f);}async['readMessage']({instanceName:_0x55cd9e},_0x94c950){const _0x1f3ad0=a0_0x596428;return await this[_0x1f3ad0(0x3a8)]['waInstances'][_0x55cd9e]['markMessageAsRead'](_0x94c950);}async[a0_0x596428(0x4d6)]({instanceName:_0x23063a},_0x2818df){const _0x51ed7b=a0_0x596428;return await this[_0x51ed7b(0x3a8)][_0x51ed7b(0x71a)][_0x23063a][_0x51ed7b(0x4d6)](_0x2818df);}async[a0_0x596428(0x5cf)]({instanceName:_0x8ab920},_0x5ace76){const _0x3d3b79=a0_0x596428;return await this['waMonitor']['waInstances'][_0x8ab920][_0x3d3b79(0x5cf)](_0x5ace76);}async[a0_0x596428(0x50f)]({instanceName:_0x547351},_0x265bb6){const _0x404225=a0_0x596428;return await this[_0x404225(0x3a8)][_0x404225(0x71a)][_0x547351][_0x404225(0x5fb)](_0x265bb6[_0x404225(0x395)]);}async[a0_0x596428(0x35a)]({instanceName:_0x36b680},_0x245ab3){const _0x418495=a0_0x596428;return await this[_0x418495(0x3a8)][_0x418495(0x71a)][_0x36b680][_0x418495(0x35a)](_0x245ab3[_0x418495(0x395)]);}async['updatePresence']({instanceName:_0x5ae386},_0x3a2f52){const _0x33c333=a0_0x596428;return await this['waMonitor'][_0x33c333(0x71a)][_0x5ae386][_0x33c333(0x62f)](_0x3a2f52);}async[a0_0x596428(0x675)]({instanceName:_0x332e99},_0x1fc620){const _0x2e3bf8=a0_0x596428;return await this['waMonitor']['waInstances'][_0x332e99][_0x2e3bf8(0x675)](_0x1fc620);}async[a0_0x596428(0x6a2)]({instanceName:_0x5e3abb},_0x4adce3){const _0x34a725=a0_0x596428;return await this['waMonitor'][_0x34a725(0x71a)][_0x5e3abb]['getBase64FromMediaMessage'](_0x4adce3);}async[a0_0x596428(0x46e)]({instanceName:_0x503735},_0x52a257){const _0x15d2d7=a0_0x596428;return await this['waMonitor'][_0x15d2d7(0x71a)][_0x503735]['fetchMessages'](_0x52a257);}async[a0_0x596428(0x193)]({instanceName:_0x510d53}){const _0x82ed48=a0_0x596428;return await this[_0x82ed48(0x3a8)]['waInstances'][_0x510d53][_0x82ed48(0x193)]();}async[a0_0x596428(0x1c2)]({instanceName:_0x37584e}){const _0x42dbe2=a0_0x596428;return await this[_0x42dbe2(0x3a8)][_0x42dbe2(0x71a)][_0x37584e]['fetchPrivacySettings']();}async[a0_0x596428(0x47f)]({instanceName:_0x261944},_0x476568){const _0xef4321=a0_0x596428;return await this['waMonitor'][_0xef4321(0x71a)][_0x261944][_0xef4321(0x47f)](_0x476568);}async[a0_0x596428(0x2d0)]({instanceName:_0x2ee322},_0x1f6916){const _0x2ddfb9=a0_0x596428;return await this['waMonitor'][_0x2ddfb9(0x71a)][_0x2ee322][_0x2ddfb9(0x2d0)](_0x1f6916['number']);}async[a0_0x596428(0x6cd)]({instanceName:_0x787449},_0x259e55){const _0x531fcc=a0_0x596428;return await this[_0x531fcc(0x3a8)][_0x531fcc(0x71a)][_0x787449][_0x531fcc(0x6cd)](_0x259e55[_0x531fcc(0x382)]);}async[a0_0x596428(0x400)]({instanceName:_0x36533e},_0x2dfd61){const _0x5ed542=a0_0x596428;return await this[_0x5ed542(0x3a8)][_0x5ed542(0x71a)][_0x36533e][_0x5ed542(0x400)](_0x2dfd61['status']);}async['updateProfilePicture']({instanceName:_0x17d462},_0x3ed3c1){const _0x23a065=a0_0x596428;return await this[_0x23a065(0x3a8)][_0x23a065(0x71a)][_0x17d462][_0x23a065(0x55b)](_0x3ed3c1['picture']);}async[a0_0x596428(0x4e6)]({instanceName:_0x200962},_0x3fa9ba){const _0x261645=a0_0x596428;return await this['waMonitor'][_0x261645(0x71a)][_0x200962][_0x261645(0x4e6)]();}},ms=require(a0_0x596428(0x3e8)),xt=class c{constructor(_0x5804af,_0x272725,_0x408474,_0x14bd2c,_0x1ac502){const _0x401eba=a0_0x596428;this[_0x401eba(0x3a8)]=_0x5804af,this[_0x401eba(0x6d5)]=_0x272725,this['repository']=_0x408474,this[_0x401eba(0x6c3)]=_0x14bd2c,this[_0x401eba(0x63d)]=_0x1ac502,this[_0x401eba(0x1d3)]=new N(c[_0x401eba(0x382)]);}async[a0_0x596428(0x548)]({instanceName:_0x45249a,apikey:_0x442715}){const _0x166c4d=a0_0x596428;let _0x1e9214=new ye(this[_0x166c4d(0x6d5)],this[_0x166c4d(0x6c3)],this[_0x166c4d(0x1fe)]);_0x1e9214[_0x166c4d(0x28a)]=_0x45249a,this[_0x166c4d(0x3a8)][_0x166c4d(0x71a)][_0x1e9214[_0x166c4d(0x28a)]]=_0x1e9214,this[_0x166c4d(0x3a8)]['delInstanceTime'](_0x1e9214['instanceName']);let _0xc478dd={};_0x442715?(await this['repository'][_0x166c4d(0x493)][_0x166c4d(0x503)]({'apikey':_0x442715},_0x45249a),_0xc478dd[_0x166c4d(0x667)]=_0x442715):_0xc478dd=await this[_0x166c4d(0x63d)][_0x166c4d(0x2ce)]({'instanceName':_0x1e9214[_0x166c4d(0x28a)]});let _0x221b55;return await _0x1e9214[_0x166c4d(0x5ff)](),await(0x0,ms[_0x166c4d(0x647)])(0x7d0),_0x221b55=_0x1e9214[_0x166c4d(0x264)],{'instance':{'instanceName':_0x1e9214[_0x166c4d(0x28a)],'status':_0x166c4d(0x324)},'hash':_0xc478dd,'qrcode':_0x221b55};}async[a0_0x596428(0x5ff)]({instanceName:_0x1194d1}){const _0x3574f8=a0_0x596428;try{let _0x25e429=this['waMonitor'][_0x3574f8(0x71a)][_0x1194d1];switch(_0x25e429['connectionStatus']?.['state']){case _0x3574f8(0x4b7):return await _0x25e429[_0x3574f8(0x5ff)](),await(0x0,ms[_0x3574f8(0x647)])(0x7d0),_0x25e429[_0x3574f8(0x264)];case'connecting':return _0x25e429[_0x3574f8(0x264)];default:return await this[_0x3574f8(0x530)]({'instanceName':_0x1194d1});}}catch(_0x242e2f){this['logger']['log'](_0x242e2f);}}async[a0_0x596428(0x530)]({instanceName:_0x58df8f}){const _0x48269f=a0_0x596428;let _0x35435c=this['waMonitor'][_0x48269f(0x71a)][_0x58df8f]['connectionStatus'],_0x145aa2=null;_0x35435c['state']===_0x48269f(0x1b4)&&_0x58df8f&&(_0x145aa2=await this[_0x48269f(0x3a8)][_0x48269f(0x459)](_0x58df8f));let _0x5ad400=null;return _0x35435c['state']===_0x48269f(0x254)&&_0x58df8f&&(_0x5ad400=this[_0x48269f(0x3a8)][_0x48269f(0x71a)][_0x58df8f][_0x48269f(0x264)]),{'instance':_0x58df8f,'connectionStatus':_0x35435c,'instanceInfo':_0x145aa2,'qrcode':_0x5ad400};}async[a0_0x596428(0x6b0)]({instanceName:_0x3f5dbb}){const _0x1eb309=a0_0x596428;try{return this[_0x1eb309(0x3a8)]['waInstances'][_0x3f5dbb]?.['client']?.['ws']?.[_0x1eb309(0x4b7)](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x1eb309(0x1d9)}};}catch(_0x4d9953){this[_0x1eb309(0x1d3)][_0x1eb309(0x244)](_0x4d9953);}}async[a0_0x596428(0x6ce)]({instanceName:_0x123afe}){const _0x1cc3c9=a0_0x596428;return _0x123afe?this[_0x1cc3c9(0x3a8)]['instanceInfo'](_0x123afe):this[_0x1cc3c9(0x3a8)][_0x1cc3c9(0x459)]();}async[a0_0x596428(0x6bc)]({instanceName:_0x7754d6}){const _0x2ae370=a0_0x596428;try{return await this[_0x2ae370(0x3a8)][_0x2ae370(0x71a)][_0x7754d6]?.['client']?.[_0x2ae370(0x6bc)](_0x2ae370(0x369)+_0x7754d6),{'error':!0x1,'message':_0x2ae370(0x28c)};}catch(_0x36d0c2){throw new A(_0x36d0c2[_0x2ae370(0x1af)]());}}async[a0_0x596428(0x6ca)]({instanceName:_0x396bdf}){const _0x4c4042=a0_0x596428;if((await this[_0x4c4042(0x530)]({'instanceName':_0x396bdf}))[_0x4c4042(0x462)]['state']==='open')throw new g(['Deletion\x20failed',_0x4c4042(0x612)]);try{return delete this['waMonitor'][_0x4c4042(0x71a)][_0x396bdf],{'error':!0x1,'message':_0x4c4042(0x439)};}catch(_0x30b373){throw new g(_0x30b373[_0x4c4042(0x1af)]());}}async[a0_0x596428(0x387)](_0xe45c78,_0x1daca0){const _0x34bcd4=a0_0x596428;return await this['authService'][_0x34bcd4(0x387)](_0x1daca0);}},se=require(a0_0x596428(0x4e3)),$t=class{constructor(_0x3a4b75){this['waMonitor']=_0x3a4b75;}async['sendText']({instanceName:_0x3cbe3e},_0x5606be){const _0x182f33=a0_0x596428;return await this[_0x182f33(0x3a8)][_0x182f33(0x71a)][_0x3cbe3e][_0x182f33(0x3e9)](_0x5606be);}async['sendMedia']({instanceName:_0x849bcf},_0x5d4755){const _0x64151e=a0_0x596428;if((0x0,se['isBase64'])(_0x5d4755?.[_0x64151e(0x452)]?.[_0x64151e(0x3e4)])&&!_0x5d4755?.[_0x64151e(0x452)]?.[_0x64151e(0x5ac)])throw new g(_0x64151e(0x38e));if((0x0,se[_0x64151e(0x30c)])(_0x5d4755?.['mediaMessage']?.[_0x64151e(0x3e4)])||(0x0,se[_0x64151e(0x26f)])(_0x5d4755?.[_0x64151e(0x452)]?.[_0x64151e(0x3e4)]))return await this[_0x64151e(0x3a8)][_0x64151e(0x71a)][_0x849bcf]['mediaMessage'](_0x5d4755);throw new g(_0x64151e(0x558));}async['sendSticker']({instanceName:_0x463337},_0x551b63){const _0x531bf1=a0_0x596428;if((0x0,se['isURL'])(_0x551b63[_0x531bf1(0x1c7)][_0x531bf1(0x476)])||(0x0,se[_0x531bf1(0x26f)])(_0x551b63[_0x531bf1(0x1c7)][_0x531bf1(0x476)]))return await this[_0x531bf1(0x3a8)][_0x531bf1(0x71a)][_0x463337]['mediaSticker'](_0x551b63);throw new g('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendWhatsAppAudio']({instanceName:_0x32bdb9},_0x12ed08){const _0x4a1d11=a0_0x596428;if((0x0,se[_0x4a1d11(0x30c)])(_0x12ed08[_0x4a1d11(0x1d7)][_0x4a1d11(0x18c)])||(0x0,se[_0x4a1d11(0x26f)])(_0x12ed08[_0x4a1d11(0x1d7)][_0x4a1d11(0x18c)]))return await this[_0x4a1d11(0x3a8)][_0x4a1d11(0x71a)][_0x32bdb9][_0x4a1d11(0x72d)](_0x12ed08);throw new g(_0x4a1d11(0x558));}async['sendButtons']({instanceName:_0x331abf},_0x552929){const _0x11f3b5=a0_0x596428;if((0x0,se['isBase64'])(_0x552929[_0x11f3b5(0x2a4)]['mediaMessage']?.[_0x11f3b5(0x3e4)])&&!_0x552929[_0x11f3b5(0x2a4)][_0x11f3b5(0x452)]?.['fileName'])throw new g(_0x11f3b5(0x38e));return await this[_0x11f3b5(0x3a8)][_0x11f3b5(0x71a)][_0x331abf]['buttonMessage'](_0x552929);}async[a0_0x596428(0x1e5)]({instanceName:_0xe8c222},_0x4962ce){const _0x4b044c=a0_0x596428;return await this[_0x4b044c(0x3a8)]['waInstances'][_0xe8c222][_0x4b044c(0x577)](_0x4962ce);}async['sendPoll']({instanceName:_0x53b474},_0x527453){const _0x1f4d07=a0_0x596428;return await this[_0x1f4d07(0x3a8)][_0x1f4d07(0x71a)][_0x53b474][_0x1f4d07(0x66b)](_0x527453);}async[a0_0x596428(0x23f)]({instanceName:_0x2a1358},_0x43fffc){const _0x5ef4f3=a0_0x596428;return await this['waMonitor'][_0x5ef4f3(0x71a)][_0x2a1358]['listMessage'](_0x43fffc);}async[a0_0x596428(0x654)]({instanceName:_0x297c9b},_0x25444a){const _0x528b0d=a0_0x596428;return await this['waMonitor'][_0x528b0d(0x71a)][_0x297c9b]['contactMessage'](_0x25444a);}async['sendReaction']({instanceName:_0x5afeee},_0x4e1b3d){const _0x5edc30=a0_0x596428;if(!_0x4e1b3d[_0x5edc30(0x502)][_0x5edc30(0x344)]['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new g(_0x5edc30(0x26e));return await this[_0x5edc30(0x3a8)][_0x5edc30(0x71a)][_0x5afeee][_0x5edc30(0x502)](_0x4e1b3d);}async['sendStatus']({instanceName:_0x472d32},_0x22b383){const _0x2bf389=a0_0x596428;return await this[_0x2bf389(0x3a8)][_0x2bf389(0x71a)][_0x472d32][_0x2bf389(0x3c2)](_0x22b383);}},kt=class{constructor(_0x3684d3){this['waMonitor']=_0x3684d3;}async[a0_0x596428(0x5c6)](_0x40fda9,_0x288483){const _0x10a8a8=a0_0x596428;return await this[_0x10a8a8(0x3a8)][_0x10a8a8(0x71a)][_0x40fda9['instanceName']][_0x10a8a8(0x5c6)](_0x288483);}async[a0_0x596428(0x1dc)](_0x3fbcc7,_0x50d2e3){const _0x5bf365=a0_0x596428;return await this['waMonitor'][_0x5bf365(0x71a)][_0x3fbcc7[_0x5bf365(0x28a)]]['updateGroupPicture'](_0x50d2e3);}async['groupDesc'](_0x10d14c,_0xde5dd9){const _0xa44d03=a0_0x596428;return await this['waMonitor']['waInstances'][_0x10d14c[_0xa44d03(0x28a)]][_0xa44d03(0x638)](_0xde5dd9);}async[a0_0x596428(0x4ff)](_0x5b292b,_0x5ab37a){const _0x842a0f=a0_0x596428;return await this['waMonitor'][_0x842a0f(0x71a)][_0x5b292b['instanceName']]['groupName'](_0x5ab37a);}async[a0_0x596428(0x529)](_0x3bd77d,_0xc61ee0){const _0x1826af=a0_0x596428;return await this[_0x1826af(0x3a8)]['waInstances'][_0x3bd77d[_0x1826af(0x28a)]]['groupSetting'](_0xc61ee0);}async['findGroupInfo'](_0x3743eb,_0x2750dd){const _0x213fe0=a0_0x596428;return await this['waMonitor'][_0x213fe0(0x71a)][_0x3743eb[_0x213fe0(0x28a)]][_0x213fe0(0x4d7)](_0x2750dd);}async[a0_0x596428(0x5da)](_0x134413){const _0x4ccc2a=a0_0x596428;return await this[_0x4ccc2a(0x3a8)]['waInstances'][_0x134413[_0x4ccc2a(0x28a)]][_0x4ccc2a(0x5da)]();}async[a0_0x596428(0x5e8)](_0x3b943a,_0xa65579){const _0xa24792=a0_0x596428;return await this[_0xa24792(0x3a8)]['waInstances'][_0x3b943a[_0xa24792(0x28a)]][_0xa24792(0x5e8)](_0xa65579);}async[a0_0x596428(0x33f)](_0x506ed3,_0x2ce860){const _0x5e1b7d=a0_0x596428;return await this[_0x5e1b7d(0x3a8)][_0x5e1b7d(0x71a)][_0x506ed3[_0x5e1b7d(0x28a)]][_0x5e1b7d(0x33f)](_0x2ce860);}async['revokeInviteCode'](_0x511065,_0x2244dd){const _0x2945b6=a0_0x596428;return await this['waMonitor'][_0x2945b6(0x71a)][_0x511065['instanceName']]['revokeInviteCode'](_0x2244dd);}async[a0_0x596428(0x535)](_0x5906e8,_0x53fe0d){const _0x379e13=a0_0x596428;return await this[_0x379e13(0x3a8)][_0x379e13(0x71a)][_0x5906e8['instanceName']][_0x379e13(0x535)](_0x53fe0d);}async['updateGParticipate'](_0xe84bb9,_0xc9acf2){const _0x2fd75e=a0_0x596428;return await this[_0x2fd75e(0x3a8)][_0x2fd75e(0x71a)][_0xe84bb9[_0x2fd75e(0x28a)]]['updateGParticipant'](_0xc9acf2);}async[a0_0x596428(0x51c)](_0x33aa94,_0x2484cb){const _0x36a54b=a0_0x596428;return await this[_0x36a54b(0x3a8)][_0x36a54b(0x71a)][_0x33aa94[_0x36a54b(0x28a)]][_0x36a54b(0x51c)](_0x2484cb);}async['leaveGroup'](_0x3329dc,_0x32b62e){const _0x489ac4=a0_0x596428;return await this[_0x489ac4(0x3a8)][_0x489ac4(0x71a)][_0x3329dc['instanceName']][_0x489ac4(0x373)](_0x32b62e);}},Lt=class{constructor(_0x48a21a,_0x17724f){const _0x213330=a0_0x596428;this[_0x213330(0x473)]=_0x48a21a,this[_0x213330(0x6d5)]=_0x17724f;}async[a0_0x596428(0x29f)](_0x53af81,_0x4e7bb0){const _0x311d5e=a0_0x596428;try{let _0x279bd7=_0x53af81['params'];if(this[_0x311d5e(0x473)][_0x311d5e(0x71a)][_0x279bd7['instanceName']][_0x311d5e(0x462)]['state']===_0x311d5e(0x1b4))throw new g('The\x20instance\x20is\x20already\x20connected');let _0x2b737f=this[_0x311d5e(0x6d5)][_0x311d5e(0x342)]('AUTHENTICATION')['TYPE'];return _0x4e7bb0['status'](0xc8)['render'](_0x311d5e(0x29f),{'type':_0x2b737f,..._0x279bd7});}catch(_0x5cd286){console[_0x311d5e(0x208)]('ERROR:\x20',_0x5cd286);}}},Ut=class{constructor(_0x13a0db){this['waMonitor']=_0x13a0db;}['create'](_0x17be42,_0x35146a){const _0x39f11e=a0_0x596428;return this[_0x39f11e(0x3a8)][_0x39f11e(0x71a)][_0x17be42[_0x39f11e(0x28a)]][_0x39f11e(0x497)](_0x35146a);}async[a0_0x596428(0x266)](_0x390368){const _0x28aa44=a0_0x596428;try{return await this['waMonitor']['waInstances'][_0x390368[_0x28aa44(0x28a)]][_0x28aa44(0x637)]();}catch{return{'enabled':null,'url':''};}}},ad=new N(a0_0x596428(0x41b)),Vt=class{constructor(_0x2879e9){const _0x226e68=a0_0x596428;this[_0x226e68(0x3a8)]=_0x2879e9;}async[a0_0x596428(0x623)](_0xb57888,_0x8f15ee){const _0x156be4=a0_0x596428;return await this[_0x156be4(0x3a8)][_0x156be4(0x71a)][_0xb57888[_0x156be4(0x28a)]]['editScheduleMessage'](_0x8f15ee);}async[a0_0x596428(0x2c3)](_0x597486){const _0xabf1db=a0_0x596428;return await this[_0xabf1db(0x3a8)][_0xabf1db(0x71a)][_0x597486[_0xabf1db(0x28a)]][_0xabf1db(0x2c3)]();}async[a0_0x596428(0x3e7)](_0x18d883){const _0x1ceabf=a0_0x596428;return await this[_0x1ceabf(0x3a8)][_0x1ceabf(0x71a)][_0x18d883[_0x1ceabf(0x28a)]]['deleteDoneMessages']();}async[a0_0x596428(0x299)](_0x6145c8){const _0x1f9568=a0_0x596428;return await this[_0x1f9568(0x3a8)][_0x1f9568(0x71a)][_0x6145c8[_0x1f9568(0x28a)]][_0x1f9568(0x299)]();}async[a0_0x596428(0x525)](_0x646e82,_0x51afcc){const _0x1605bc=a0_0x596428;return await this[_0x1605bc(0x3a8)][_0x1605bc(0x71a)][_0x646e82[_0x1605bc(0x28a)]][_0x1605bc(0x525)](_0x51afcc);}async[a0_0x596428(0x701)](_0xcff7eb,_0x238e05){const _0x3168b5=a0_0x596428;return await this[_0x3168b5(0x3a8)][_0x3168b5(0x71a)][_0xcff7eb[_0x3168b5(0x28a)]][_0x3168b5(0x701)](_0x238e05);}async['updateFlowConfig'](_0x2dfb89,_0x4689d1){const _0x105272=a0_0x596428;return await this[_0x105272(0x3a8)][_0x105272(0x71a)][_0x2dfb89['instanceName']][_0x105272(0x59b)](_0x4689d1);}async['startFlow'](_0x5bf977,_0x4f5b2c){const _0xd4bc63=a0_0x596428;return await this['waMonitor'][_0xd4bc63(0x71a)][_0x5bf977[_0xd4bc63(0x28a)]][_0xd4bc63(0x6c5)](_0x4f5b2c);}async[a0_0x596428(0x2b1)](_0x5a0a85,_0x1009f9){const _0x59710a=a0_0x596428;return await this['waMonitor']['waInstances'][_0x5a0a85[_0x59710a(0x28a)]]['getConversation'](_0x1009f9);}async['fetchConversation'](_0x2ba248,_0x40f441){const _0x2d757e=a0_0x596428;return await this[_0x2d757e(0x3a8)]['waInstances'][_0x2ba248[_0x2d757e(0x28a)]][_0x2d757e(0x519)](_0x40f441);}async[a0_0x596428(0x41d)](_0x4867f7,_0x29f1e7){const _0x1aaff9=a0_0x596428;return await this[_0x1aaff9(0x3a8)][_0x1aaff9(0x71a)][_0x4867f7[_0x1aaff9(0x28a)]][_0x1aaff9(0x41d)](_0x29f1e7);}async[a0_0x596428(0x336)](_0x4a75f2,_0x1c98db){const _0x420f24=a0_0x596428;return await this[_0x420f24(0x3a8)]['waInstances'][_0x4a75f2[_0x420f24(0x28a)]][_0x420f24(0x336)](_0x1c98db);}async[a0_0x596428(0x1ed)](_0xb3b9d5,_0x3af457){const _0x1e9033=a0_0x596428;return await this[_0x1e9033(0x3a8)]['waInstances'][_0xb3b9d5[_0x1e9033(0x28a)]][_0x1e9033(0x1ed)](_0x3af457['name']);}async[a0_0x596428(0x5c2)](_0x1ccecc,_0x4fa0b5){const _0x4f435f=a0_0x596428;return await this[_0x4f435f(0x3a8)]['waInstances'][_0x1ccecc[_0x4f435f(0x28a)]][_0x4f435f(0x5c2)](_0x4fa0b5);}async[a0_0x596428(0x3a4)](_0x423329,_0x39197e){const _0x391c33=a0_0x596428;return await this[_0x391c33(0x3a8)][_0x391c33(0x71a)][_0x423329[_0x391c33(0x28a)]][_0x391c33(0x3a4)](_0x39197e);}async[a0_0x596428(0x3b1)](_0x14e09d,_0x34073b){const _0x87bea7=a0_0x596428;return await this['waMonitor'][_0x87bea7(0x71a)][_0x14e09d[_0x87bea7(0x28a)]]['editFlowBlock'](_0x34073b);}async[a0_0x596428(0x3a0)](_0x14f2b2,_0x5d3a27){const _0x2e5095=a0_0x596428;return await this['waMonitor'][_0x2e5095(0x71a)][_0x14f2b2[_0x2e5095(0x28a)]][_0x2e5095(0x3a0)](_0x5d3a27);}async['editFlowGroup'](_0x284592,_0xc4d41d){const _0x21beb7=a0_0x596428;return await this['waMonitor'][_0x21beb7(0x71a)][_0x284592[_0x21beb7(0x28a)]][_0x21beb7(0x46d)](_0xc4d41d);}async[a0_0x596428(0x2b0)](_0x4d17e9,_0x17a9da){const _0x1f27de=a0_0x596428;return await this['waMonitor'][_0x1f27de(0x71a)][_0x4d17e9[_0x1f27de(0x28a)]][_0x1f27de(0x2b0)](_0x17a9da);}async[a0_0x596428(0x47e)](_0x27f066,_0x5f2b37){const _0x22eedf=a0_0x596428;return await this['waMonitor'][_0x22eedf(0x71a)][_0x27f066[_0x22eedf(0x28a)]][_0x22eedf(0x47e)](_0x5f2b37);}async[a0_0x596428(0x331)](_0x313851,_0x15f2ec){const _0x342626=a0_0x596428;return await this[_0x342626(0x3a8)][_0x342626(0x71a)][_0x313851[_0x342626(0x28a)]]['editFlowVariable'](_0x15f2ec);}async[a0_0x596428(0x36a)](_0x4ef222,_0x550f7c){const _0x3c4e39=a0_0x596428;return await this[_0x3c4e39(0x3a8)][_0x3c4e39(0x71a)][_0x4ef222[_0x3c4e39(0x28a)]]['deleteFlow'](_0x550f7c[_0x3c4e39(0x382)]);}async[a0_0x596428(0x447)](_0x4a23fc){const _0x3d052d=a0_0x596428;return await this[_0x3d052d(0x3a8)][_0x3d052d(0x71a)][_0x4a23fc[_0x3d052d(0x28a)]][_0x3d052d(0x447)]();}},jt=class{constructor(_0xe9a618){this['webhookService']=_0xe9a618;}async[a0_0x596428(0x3fb)](_0x1be0d8,_0x9d3c79){const _0x4bc411=a0_0x596428;return this[_0x4bc411(0x257)][_0x4bc411(0x503)](_0x1be0d8,_0x9d3c79);}async[a0_0x596428(0x637)](_0x5d1a76){const _0x4ee28b=a0_0x596428;return this[_0x4ee28b(0x257)]['find'](_0x5d1a76);}},Ft=class{constructor(_0x3a0f34,_0x2767d4,_0x2656e9,_0x4041fe,_0x206a11,_0x190bef){const _0xdf7445=a0_0x596428;this[_0xdf7445(0x56b)]=_0x3a0f34,this[_0xdf7445(0x3be)]=_0x2767d4,this[_0xdf7445(0x451)]=_0x2656e9,this[_0xdf7445(0x1cf)]=_0x4041fe,this['auth']=_0x206a11,this[_0xdf7445(0x386)]=_0x190bef;}get[a0_0x596428(0x1c5)](){const _0x4aa138=a0_0x596428;return this[_0x4aa138(0x386)];}},hs=require(a0_0x596428(0x6f0)),so=require('fs'),Bt=class extends W{constructor(_0x39029a,_0x1f3d77){const _0x1f276a=a0_0x596428;super(_0x1f3d77),this[_0x1f276a(0x186)]=_0x39029a,this[_0x1f276a(0x6d5)]=_0x1f3d77;}async['create'](_0x2fe5d3,_0x116acb){const _0x2b1488=a0_0x596428;try{return this['dbSettings'][_0x2b1488(0x404)]?{'insertCount':(await this[_0x2b1488(0x186)]['replaceOne']({'_id':_0x116acb},{..._0x2fe5d3},{'upsert':!0x0}))[_0x2b1488(0x683)]}:(this[_0x2b1488(0x6c1)]({'path':(0x0,hs['join'])(this[_0x2b1488(0x729)],'webhook'),'fileName':_0x116acb,'data':_0x2fe5d3}),{'insertCount':0x1});}catch(_0x3f8350){return _0x3f8350;}}async[a0_0x596428(0x266)](_0x5ba293){const _0x2bd990=a0_0x596428;try{return this['dbSettings'][_0x2bd990(0x404)]?await this[_0x2bd990(0x186)]['findOne']({'_id':_0x5ba293}):JSON['parse']((0x0,so[_0x2bd990(0x631)])((0x0,hs[_0x2bd990(0x72f)])(this[_0x2bd990(0x729)],_0x2bd990(0x1cf),_0x5ba293+_0x2bd990(0x3d5)),{'encoding':_0x2bd990(0x2e7)}));}catch{return{};}}},fs=require(a0_0x596428(0x6f0)),ao=require('fs'),qt=class extends W{constructor(_0x3cd2a1,_0x529183){const _0x1f8248=a0_0x596428;super(_0x529183),this[_0x1f8248(0x4cb)]=_0x3cd2a1,this[_0x1f8248(0x6d5)]=_0x529183,this['auth']=_0x529183['get'](_0x1f8248(0x367));}async[a0_0x596428(0x503)](_0x18d859,_0x4788b8){const _0x1017fd=a0_0x596428;try{return this[_0x1017fd(0x6ad)]['ENABLED']?{'insertCount':(await this['authModel']['replaceOne']({'_id':_0x4788b8},{..._0x18d859},{'upsert':!0x0}))['modifiedCount']}:(this[_0x1017fd(0x6c1)]({'path':(0x0,fs['join'])(Gt,this[_0x1017fd(0x493)][_0x1017fd(0x295)]),'fileName':_0x4788b8,'data':_0x18d859}),{'insertCount':0x1});}catch(_0x5703b6){return{'error':_0x5703b6};}}async[a0_0x596428(0x266)](_0x2855c5){const _0x2d48ae=a0_0x596428;try{return this[_0x2d48ae(0x6ad)]['ENABLED']?await this[_0x2d48ae(0x4cb)]['findOne']({'_id':_0x2855c5}):JSON['parse']((0x0,ao[_0x2d48ae(0x631)])((0x0,fs[_0x2d48ae(0x72f)])(Gt,this['auth'][_0x2d48ae(0x295)],_0x2855c5+_0x2d48ae(0x3d5)),{'encoding':'utf-8'}));}catch{return{};}}},Ho=new N(a0_0x596428(0x1ca)),Ko=new xe(S),zo=new Ot(S),Qo=new We(S),Yo=new Bt(Bs,S),Xo=new qt(Vs,S),le=new Ft(Ko,zo,Qo,Yo,Xo,M?.[a0_0x596428(0x43d)]()),F=new _t(Kt,S,le),Zo=new rt(S,F,le),er=new Ut(F),ls=new jt(er),R=new Vt(F),ie=new xt(F,S,le,Kt,Zo),Ba=new Lt(F,S),K=new $t(F),D=new Pt(F),U=new kt(F);Ho['info'](a0_0x596428(0x2d6));var Xd=require('express-async-errors'),ws=require('fs'),oo=T(require(a0_0x596428(0x296))),ro=T(require(a0_0x596428(0x726))),Re=class c{static #e;static set['app'](_0xa5fd2e){this.#e=_0xa5fd2e;}static get['https'](){const _0x5bc5fe=a0_0x596428;let {FULLCHAIN:_0x378dbc,PRIVKEY:_0x2c4c31}=S[_0x5bc5fe(0x342)]('SSL_CONF');return oo['createServer']({'cert':(0x0,ws[_0x5bc5fe(0x631)])(_0x378dbc),'key':(0x0,ws[_0x5bc5fe(0x631)])(_0x2c4c31)},c.#e);}static get['http'](){const _0x4c1361=a0_0x596428;return ro[_0x4c1361(0x48c)](c.#e);}},pe=T(require('fs')),po=T(require(a0_0x596428(0x2de))),Me=T(require(a0_0x596428(0x648))),Ie=T(require(a0_0x596428(0x6f0))),De=require(a0_0x596428(0x4b8));function tr(){const _0x468110=a0_0x596428;F[_0x468110(0x363)]();let _0x1f70cb=Ie[_0x468110(0x3ea)][_0x468110(0x72f)](__dirname,_0x468110(0x445));uo(_0x1f70cb);}var uo=_0x531271=>{const _0x2ee4fd=a0_0x596428;let _0x551fa0=pe[_0x2ee4fd(0x3ea)][_0x2ee4fd(0x652)](_0x531271),_0x1bddb3=0xc*0x3c*0x3c*0x3e8,_0x576123=0x2*0x3c*0x3c*0x3e8,_0x2422f2=new Date()[_0x2ee4fd(0x4ce)]();_0x551fa0[_0x2ee4fd(0x571)](_0x1b6b2d=>{const _0x379bd1=_0x2ee4fd;let _0x48ebba=Ie[_0x379bd1(0x3ea)]['join'](_0x531271,_0x1b6b2d),_0x15407a=pe[_0x379bd1(0x3ea)][_0x379bd1(0x43f)](_0x48ebba)[_0x379bd1(0x292)][_0x379bd1(0x4ce)]();_0x2422f2-_0x15407a>_0x1bddb3&&(pe[_0x379bd1(0x3ea)][_0x379bd1(0x707)](_0x48ebba),console[_0x379bd1(0x208)](_0x379bd1(0x640)+_0x1b6b2d));}),setTimeout(()=>uo(_0x531271),_0x576123);};function sr(){const _0x27d8bc=a0_0x596428;let _0x455c06=new N(_0x27d8bc(0x1d4)),_0x5d386b=(0x0,ge['default'])();_0x5d386b[_0x27d8bc(0x4af)]((0x0,lo[_0x27d8bc(0x3ea)])({'origin'(_0x466805,_0x37132f){const _0x4bfdf9=_0x27d8bc;let {ORIGIN:_0x153f0d}=S[_0x4bfdf9(0x342)]('CORS');return _0x466805||(_0x466805='*'),_0x153f0d[_0x4bfdf9(0x5a9)]('*')!==-0x1||_0x153f0d[_0x4bfdf9(0x5a9)](_0x466805)!==-0x1?_0x37132f(null,!0x0):_0x37132f(new Error(_0x4bfdf9(0x21a)));},'methods':[...S[_0x27d8bc(0x342)](_0x27d8bc(0x247))['METHODS']],'credentials':S[_0x27d8bc(0x342)](_0x27d8bc(0x247))[_0x27d8bc(0x290)]}),(0x0,ge[_0x27d8bc(0x534)])({'extended':!0x0,'limit':_0x27d8bc(0x69d)}),(0x0,ge['json'])({'limit':_0x27d8bc(0x69d)})),_0x5d386b[_0x27d8bc(0x4af)]((_0xccefd3,_0x262b14,_0x3e98d7)=>{const _0x557718=_0x27d8bc;_0xccefd3[_0x557718(0x6f0)][_0x557718(0x3a1)]('/events')?_0x3e98d7():(0x0,co[_0x557718(0x3ea)])()(_0xccefd3,_0x262b14,_0x3e98d7);}),_0x5d386b[_0x27d8bc(0x219)](_0x27d8bc(0x6bf),_0x27d8bc(0x1f8)),_0x5d386b[_0x27d8bc(0x219)](_0x27d8bc(0x57a),(0x0,bs[_0x27d8bc(0x72f)])(Q,_0x27d8bc(0x57a))),_0x5d386b[_0x27d8bc(0x4af)](ge[_0x27d8bc(0x3ea)]['static']((0x0,bs[_0x27d8bc(0x72f)])(Q,'public'))),_0x5d386b['use']((_0x3f57eb,_0x289016,_0x2109b9)=>{const _0x59909b=_0x27d8bc;let _0x73ce91=_0x289016['send'];_0x289016[_0x59909b(0x2cd)]=function(_0x18bddd){const _0xb04bcc=_0x59909b;if(_0x3f57eb[_0xb04bcc(0x281)][_0xb04bcc(0x25b)]===_0xb04bcc(0x365)||_0x3f57eb['headers'][_0xb04bcc(0x40e)]===_0xb04bcc(0x365)){let _0xb19b98=JSON[_0xb04bcc(0x52b)](_0x18bddd);_0x18bddd=JSON[_0xb04bcc(0x35c)](_0x1a1103(_0xb19b98));}return _0x73ce91[_0xb04bcc(0x70c)](_0x289016,[_0x18bddd]);},_0x2109b9();}),_0x5d386b[_0x27d8bc(0x4af)]('/',vt),_0x5d386b['use']((_0x5a1758,_0xdc1dd0,_0xabd3c7,_0x2a73a7)=>{const _0x22016d=_0x27d8bc;if(_0x5a1758)return _0xabd3c7[_0x22016d(0x2a2)](_0x5a1758[_0x22016d(0x2a2)]||0x1f4)[_0x22016d(0x389)](_0x5a1758);},(_0x5e65f3,_0x30d0a3,_0x3bed76)=>{const _0x25b6ee=_0x27d8bc;let {method:_0x1534b8,url:_0x4e72a7}=_0x5e65f3;_0x30d0a3[_0x25b6ee(0x2a2)](0x194)[_0x25b6ee(0x389)]({'status':0x194,'message':'Cannot\x20'+_0x1534b8[_0x25b6ee(0x553)]()+'\x20'+_0x4e72a7,'error':_0x25b6ee(0x42f)}),_0x3bed76();});let _0x1a1103=(_0x21c824,_0x536ec1='_p_')=>{const _0x2beef1=_0x27d8bc;let _0x2227a9=(_0x652b07,_0x538ec2=null,_0x36c0ac=!0x1)=>{const _0x1a192f=a0_0xd1e2;let _0x391a07={};return Object[_0x1a192f(0x678)](_0x652b07)[_0x1a192f(0x571)](_0x1364e2=>{const _0xb60cfd=_0x1a192f;let _0x9de379=_0x652b07[_0x1364e2],_0x3c374a=''+_0x536ec1+_0x1364e2;_0x538ec2&&!_0x36c0ac&&(_0x3c374a=_0x538ec2+'.'+_0x1364e2),!_0x9de379&&_0x9de379!==0x0&&_0x9de379!==!0x1||typeof _0x9de379>'u'?_0x391a07[_0x3c374a]=null:typeof _0x9de379!='object'&&!Array[_0xb60cfd(0x629)](_0x9de379)?_0x391a07[_0x3c374a]=_0x9de379:typeof _0x9de379==_0xb60cfd(0x1ee)&&!Array['isArray'](_0x9de379)?_0x391a07=Object[_0xb60cfd(0x306)](_0x391a07,_0x2227a9(_0x9de379,_0x3c374a)):Array['isArray'](_0x9de379)&&(typeof _0x9de379[0x0]==_0xb60cfd(0x1ee)?(_0x391a07[_0x3c374a]=[],_0x9de379[_0xb60cfd(0x571)](_0x4cb0d4=>{_0x391a07[_0x3c374a]['push'](_0x2227a9(_0x4cb0d4,_0x3c374a,!0x0));})):_0x391a07[_0x3c374a]=_0x9de379);}),_0x391a07;};return Array['isArray'](_0x21c824)?_0x21c824[_0x2beef1(0x393)](_0x316b1=>_0x2227a9(_0x316b1)):typeof _0x21c824==_0x2beef1(0x1ee)&&_0x21c824!==null?_0x2227a9(_0x21c824):{};},_0x10b437=S[_0x27d8bc(0x342)](_0x27d8bc(0x1d4));Re[_0x27d8bc(0x531)]=_0x5d386b;let _0x509f78=Re[_0x10b437[_0x27d8bc(0x295)]],_0x55ac39=_0x27d8bc(0x1ef);_0x509f78['listen'](_0x10b437[_0x27d8bc(0x528)],()=>{const _0x301963=_0x27d8bc;_0x455c06[_0x301963(0x208)](_0x55ac39),_0x455c06['log'](_0x10b437[_0x301963(0x295)]['toUpperCase']()+_0x301963(0x3d3)+_0x10b437[_0x301963(0x528)]);}),tr(),_s();}var ar='https://github.com/uazapi/uazapi.git',or=Ie[a0_0x596428(0x3ea)][a0_0x596428(0x72f)](__dirname,'./.git/config'),Ae=null;function rr(){return new Promise((_0x1ceb4d,_0x5dad2e)=>{const _0x3b71ac=a0_0xd1e2;pe[_0x3b71ac(0x3ea)][_0x3b71ac(0x2ae)](or,_0x3b71ac(0x2e7),(_0x567a38,_0x48046e)=>{const _0x209ee8=_0x3b71ac;if(_0x567a38){Ae=_0x567a38,_0x1ceb4d();return;}po[_0x209ee8(0x3ea)][_0x209ee8(0x52b)](_0x48046e)['remote\x20\x22origin\x22'][_0x209ee8(0x1fc)]===ar?(Ae=null,_0x1ceb4d()):(Ae=new Error(_0x209ee8(0x3f5)),_0x1ceb4d());});});}async function ir(){const _0x2463fa=a0_0x596428;try{await rr(),await Ss();}catch(_0x266bbf){console['error'](_0x2463fa(0x206)+_0x266bbf),process[_0x2463fa(0x6e5)](0x1);}}ir();function a0_0x2cee(){const _0x211a96=['):\x20Entrou\x20na\x20função\x20stop','text/event-stream','trim','deleteMany','):\x20Limpando\x20AutomateSystem','StatusJidList\x20is\x20required','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','contactHandle','WEBHOOK_MAP','shift','pollUpdateMessage','Error\x20updating\x20setting','exec','vote','backgroundColor','isConnected','updateFlowConfig','Mensagem\x20não\x20suportada','nomecompleto','.mp4','envProcess','Close\x20connection','hasOwnProperty','whatsappNumber','mongoose','matchRegex','enabled','padStart','):\x20Erro\x20ao\x20criar\x20fluxo\x20','where','indexOf','Message','lastInteraction','fileName','Erro:','):\x20Enviando\x20mídia','PASSWORD','request\x20received\x20in\x20editFlow','footerText','deleteBlock','errorLog','flattenObject','isLong','lastCondition','condition','-instances','LOG_COLOR','PROD','rm\x20-rf\x20','Read\x20messages\x20fail','sendSticker','prepareMediaMessage','varedits','sendAudio','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','createFlow','_activatedCount','syscall','presence.update','createGroup','):\x20leadInfoVariables','errno','redisEnv','imagechat','onTime','subdomain','tokenId','):\x20transformedCustomFieldVariables','deleteMessage','SSL_CONF_FULLCHAIN','Image\x20created','next_groupId','pre','Types','sendPresenceUpdate','DisconnectReason','CONFIG_SESSION_PHONE','linkPreview','goToFlow','findGroups','não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','audio/ogg','Logger','lastMessage','pollErrorMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','headerString','max','env.yml','):\x20nextBlock.uazapi.name','processblock','groupToggleEphemeral','leadInfo','inviteCode','saveChatVariables','remoteJid','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','routerPath','\x1b[41m','header','params','Authentication\x20error','replacer','\x20minutos.\x20Será\x20às\x20','android','findOneAndUpdate','send.message','lastSendMessage','delete','stopMinutesMaxActives','Forbidden','contacts.update','profilePicture','replaceVariables','updateGroupsAddPrivacy','sendCommand','connectToWhatsapp','):\x20this.processingScheduleMessageId:\x20','urlOrBase64','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','promote','leadInfo.customFields','END:VCARD','Error\x20deleting\x20instance\x20from\x20memory.','@ffmpeg-installer/ffmpeg','upperCase','mimetype','\x22,\x20valor\x20a\x20substituir:\x20\x22','\x1b[36m%s\x1b[0m','messages.set','/webhook','replaceVariablesInReplyOptions','GROUPS_UPSERT','Media\x20folder\x20path:','isDirectory','The\x20instance\x20needs\x20to\x20be\x20disconnected','debug','request\x20received\x20in\x20updateAgent','API\x20Key\x20inválida.','getflow','8080','groups.update','static','createNewConversation','connectionClosed','NextBlock','lowerCase','}}\x20->\x20\x22','order','ex:\x20\x22groupJid=120362@g.us\x22','):\x20Buscando\x20flow...','redisCache','editScheduleMessage','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','\x20-i\x20','AUTHENTICATION_API_KEY','826512qcLQNs','notEmpty','isArray','getMIMEType','chats.delete','Unable\x20to\x20leave\x20the\x20group','enumerable','new.jwt','updatePresence','unhandledRejection','readFileSync','listMessage','split','Connection','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','dropCollection','findWebhook','groupDesc','evaluateCondition','REDIS_ENABLED','fetchProfilePictureUrl','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','authService','PRESENCE_UPDATE','findConversation','Deleted\x20','https://chat.whatsapp.com/','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','\x20}\x0a','messageContextInfo','ERROR:\x20','Valor\x20inicial:\x20\x22','delay','axios','insertMany','\x20\x1b[0m','LEVEL','sendWhatsAppAudio','agents','4972548pdlOXM','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','viewOnceMessageV2','convertToWebP','readdirSync','DATABASE','sendContact','deletedCount','uuid','sendStatus','):\x20updateResult:','announcement','unreadcount','groupadd','noConnection','caption','):\x20Editando\x20condição\x20do\x20fluxo...','PENDING','normalizeMessage','REDIS_URI','\x20minutos...','http://checkip.dyndns.org','contains','console','TEL','apikey','item','LOG_LEVEL','method','pollMessage','push','sendDataWebhook','Certbot\x20executado\x20com\x20sucesso.','scheduled','?timestamp=','DATABASE_CONNECTION_HOST','GROUP_PARTICIPANTS_UPDATE','19865vqGKiZ','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','fetchContacts','readData','.mp3','keys','WEBHOOK_EVENTS_QRCODE_UPDATED','Tanto\x20id\x20quanto\x20owner\x20são\x20necessários\x20para\x20criar\x20ou\x20editar\x20um\x20chat.','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','messageTimestamp','Connection\x20closed\x20for\x20instance:\x20','Error\x20updating\x20profile\x20name','\x1b[1m','formatStatusMessage','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','https://uazapi-plugin.bubbleapps.io/?url=','modifiedCount','groupParticipantsUpdate','conversation','Background\x20color\x20is\x20required','SECRET','API_KEY','protocolMessage','MAX_RECONNECT_ATTEMPTS','^\x5cd+[\x5c.@\x5cw-]+','SSL_CONF','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','height','Full\x20file\x20path:','jid','atendimentoAberto','scheduleNextCheck','):\x20Enviando\x20localização','wuid','AUTHENTICATION_TYPE','none','--agree-tos','remoteJidsRemaining','saveCreds','*\x0a\x0a','\x20contacts','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','50mb','envYaml','/wa-chats','):\x20Edit\x20schedule\x20message...','refused','getBase64FromMediaMessage','localWebhook','resetReconnectionVariables','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','scheduleMessage','sending','uazapiSendMedia','Temp\x20audio\x20path:\x20','when','/wa-qrcode','messaging-history.set','dbSettings','):\x20Enviando\x20áudio','notEqual','restartInstance','warn','notify','statusCode','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','redirect','verifiedName','Method\x20not\x20implemented.','hostname','hGetAll','end','convertaudio','logout','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','getDevice','view\x20engine','REDIS_PREFIX_KEY','writeStore','router','eventEmitter','\x20saindo\x20da\x20função','startFlow','mediaSticker','request\x20received\x20in\x20updateFlowConfig','request\x20received\x20in\x20getAutomateSystem','chats','deleteInstance','waitingPoll_name','instance.','updateProfileName','fetchInstances','Desconectado,\x20parando\x20execução.','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','audio/ogg;\x20codecs=opus','URI','revokeInviteCode','folder','configService','Content-Type','write','716zyHFfn','Instance\x20Key\x20from\x20DB:','match_last_seen','ignoreGroups','DEBUG','\x20-y','array','imageMessage','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','sleep','chrome','TRIAL_AD','preview','exit','):\x20','\x20segundos','REDIS','Business\x20profile\x20fetched','Button\x20IDs\x20cannot\x20be\x20repeated.','client','bulkWrite','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','updateReadReceiptsPrivacy','subject','path','call','Original\x20filename:','COLOR','loadEnv','stanzaId','\x1b[44m','response','hGet','\x1b[37m%s\x1b[0m','lastReceivedMessage','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','local_map','processingScheduleMessageId','entries','Erro\x20ao\x20buscar\x20conversa:\x20','pollCreationMessageKey','updateCustomFields','prototype','/exit','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','createConnection','uazapiSendContact','unlinkSync','length','contactMessage','):\x20Não\x20achou\x20nenhum\x20flow','goNextblock','apply','):\x20Conversa\x20inserida\x20com\x20sucesso.','collections','ephemeralMessage','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','@broadcast','}}\x20->\x20valor\x20não\x20encontrado','website','Telefone:\x20','ContactModel','\x20horas\x20e\x20','Erro\x20ao\x20editar\x20o\x20bloco:\x20','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','toFile','waInstances','bearer','desativadoFluxoAte','licenca','Error\x20update\x20group\x20picture','interval\x20não\x20é\x20um\x20número','size','app-state-sync-key','Trying\x20to\x20get\x20business\x20profile','flowConversation','isJWT','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','http','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','document','storePath','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','Data\x20inválida\x20fornecida','The\x20global\x20api\x20key\x20must\x20be\x20set','audioWhatsapp','remove','join','/instance/create','SERVER_OFFLINE','sha256','msgRetryCounterCache','\x1b[40m','title','updateChatWithMessage','https://api.ipify.org?format=json','/refreshToken','includes','optionDescription','mkdirSync','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','/wa-contacts','Instância\x20não\x20encontrada.','realVariables','Converting\x20image\x20to\x20WebP\x20to\x20sticker','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','.jwt','greater','sign','WEBHOOK_EVENTS_CHATS_UPDATE','findById','CHATS_DELETE','/wa-connection-update',',\x20valor\x20a\x20encontrar:\x20\x22','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','Error\x20while\x20deleting\x20message\x20for\x20everyone','replaceVariablesInObject','toBRL','Erro\x20ao\x20buscar\x20conversas:\x20','webhookModel','express-async-errors','DATABASE_CONNECTION_PASSWORD','findIndex','firstValue','):\x20Editando\x20variável\x20do\x20fluxo...','audio','instancias:\x20','WEBHOOK_EVENTS_MESSAGES_SET','createConversationforgoToFlow','save','Instance\x20\x22','prefixCommand','fetchChats','-whatsapp-api','FlowRouter','model','documentMessage','getStatus','g.us','poll_id','Fluxo\x20não\x20encontrado','Getting\x20image\x20from\x20url','padEnd','readMessage','_id','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','.TEL;waid=','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','test','/instance/fetchInstances','):\x20Enviando\x20texto','\x22\x20cannot\x20be\x20empty','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','Error\x20in\x20markMessageAsRead:','updateGParticipant','announce','replaceValue','createJid','PREFIX_KEY','toString','WEBHOOK_EVENTS_MESSAGES_UPSERT','Erro\x20ao\x20editar\x20a\x20conversa:\x20','bateu\x20events','flow','open','profile','.sendDataWebhook-global','arrayUnique','group\x20ignored','segundos','updateReplyOption','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','stopConversation','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','Parando\x20aplicação,\x20atualização\x20recebida','convertedOptions','/media','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','fetchPrivacySettings','state','getOwnPropertyDescriptor','dbServer','apiResponse','stickerMessage','\x1b[32m%s\x1b[0m','):\x20teve\x20mudanças\x20chat.name:\x20','WA\x20MODULE','Invalid\x20\x22oldToken\x22','Fluxos\x20não\x20estão\x20ativados','Group\x20not\x20found','deleteMessageForEveryone','webhook','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','stderr','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','logger','SERVER','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','Validate','audioMessage','drop','Instance\x20restarted','WEBHOOK_EVENTS_CHATS_UPSERT','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','updateGroupPicture','.webp','Getting\x20audio\x20from\x20url','request\x20received\x20in\x20deleteConversation','moreLogs','16986537LCTLaX','authState','Audio\x20processed','creds','sendLocation','buttons',',\x20Segundo\x20Valor:\x20','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','Bad\x20Request','unlocked','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','messages','getFlow','object','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','#000000','instance','Comando\x20desconhecido','groupMetadata','createClient','.sendDataWebhook-local','DB_PREFIX_NAME','mediaKey','hbs','reconnectAttempts','evaluateConditionTest','authentication','url','Error\x20fetching\x20and\x20updating\x20profile:\x20','repository','expiration','video','DELETED','getDelay','Reinicialização\x20iniciada:\x20','DOCKER_ENV','_Contacts','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','):\x20Flow\x20não\x20encontrado','log','flowActive','rmSync','sendMessage','start','upsertChats','processApiRequest','https://','):\x20Criando\x20nova\x20conversa','request\x20received\x20in\x20updateCustomFields','editOperator','collection','output','):\x20lastBlockId:\x20','presenceSubscribe','env.KEY\x20!==\x20key','isRunning','set','Not\x20allowed\x20by\x20CORS','stopMinutes','editflowgroup','EXPIRIN_IN','Erro\x20do\x20Certbot:\x20','restrict','buttonText','delInstanceTime','cors',',\x20Comparador:\x20','\x1b[31m','express','slice','TEXT','arraybuffer','done','WEBHOOK_EVENTS_GROUPS_UPDATE','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','lastmsg','JWT','contact_blacklist','uazapiSendAudio','unavailable','stopIfLastReturnedError','empty','uazapiSendText','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','processPollUpdateMessage','flowIgnoreGroups','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','OrAnd','EMAIL','Bloco\x20com\x20ID\x20','getPrototypeOf','newValue','request\x20received\x20in\x20createFlow','round','sendList','groupJid','key.','<subdomain>','bodyString','error','Conversa\x20deletada\x20com\x20sucesso.','mediatype','CORS','selectedOptions','data','@g.us','findMessages','READ','chatModify','messages.update','cwd','CORS_ORIGIN','NODE_ENV','sendText','blocks','connecting','lean','desc','webhookService','LICENSE_INVALID','getContactModelForOwner','editflowvariable','convert','updateMany','throwAndLogError','Instância:\x20','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','statusJidList','editChat','fullName','verify','qrCode','/automate','find','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','lastSend','expression','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20',',\x20Resultado:\x20','deleteReplyOption','notContains','\x22reaction\x22\x20must\x20be\x20an\x20emoji','isBase64','instances','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','\x20is\x20already\x20in\x20use.','isBusiness','error\x20get\x20vote','last','description','request\x20received\x20in\x20getConversation','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','profilePictureUrl','Error\x20change\x20group\x20setting','substring','findAndReplaceRegex','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','contextInfo','Audio\x20is\x20url','BufferJSON','query','sharp','NEW_JWT_TOKEN','):\x20Visualizando\x20AutomateSystem','data:\x20','stdout','Contacts\x20not\x20found','senderKeyDistributionMessage','certbot','instanceName','groupHandler','Instance\x20logged\x20out','):\x20Buscando\x20conversa...','processgoToFlow','uazapiSendPoll','CREDENTIALS','):\x20Erro\x20ao\x20buscar\x20conversas\x20','birthtime','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','getRandomText','TYPE','https','dark','fetchLatestBaileysVersion','getAutomateSystem','everyOne','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','CHATS_UPSERT','equal','\x20foi\x20interrompido\x20pelo\x20usuário.','qrcode','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','from','status','):\x20delete\x20=\x20true','buttonMessage','Invalid\x20format','):\x20Criou\x20conversa\x20no\x20startFlow:','CLEANING_INTERVAL','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','capitalizedWords','\x20não\x20encontrado','augusto.fcs@gmail.com','match','readFile','mongodb://','editFlowCondition','getConversation','endsWith','deleteAll','):\x20teve\x20mudanças\x20chat.archived:\x20','action','):\x20Entrou\x20na\x20função\x20saveReply','pollOnReplyDelete','CONFIG_SESSION_PHONE_NAME','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','pollCreationMessage','g-t','CONNECTION','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','jsonschema','joinGroupValidate','CONTACTS_UPDATE','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','process','getScheduleMessage','AutomateFunctions','and','hSet','sendMessageWithTyping','EMAIL:','value','.png','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','https://uazapi-plugin.bubbleapps.io/','send','generateHash','HOST','fetchBusinessProfile','request\x20received\x20in\x20starFlow','readMessages','):\x20Conversa\x20atualizada\x20em\x20memória','\x1b[37m','defineProperty','Module\x20-\x20ON','limit','selectableCount','\x20minutos\x20verificará\x20novas\x20mensagens','variables','presence','Router','qrcode-terminal','ini','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20áudio:','jpegThumbnail','):\x20Current\x20Time:\x20','findGroupInfo','available','STATUS_INSTANCE','shutdown\x20-r\x20now','ObjectId','utf-8','WEBHOOK_GLOBAL_ENABLED','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','newName','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','):\x20Editando\x20bloco...','pollCreationMessageV2','Error\x20change\x20group\x20name','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','Error\x20fetching\x20group','/chat','proto','):\x20Error\x20processing\x20the\x20block:\x20','SendScheduleMessage','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','delAll','LOG','webhookMap','getChatModelForOwner','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','role','Image\x20path:\x20','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','DEL_INSTANCE','Error\x20updating\x20message\x20status:','abs','closed','):\x20isVote','RECONNECT_TIME_FRAME','assign','WEBHOOK_EVENTS_CONNECTION_UPDATE','base64','buttonsMessage','File\x20written\x20to\x20path:\x20','groupUpdateDescription','isURL','):\x20Erro\x20durante\x20a\x20atualização:\x20','values','js-yaml','):\x20Iniciando\x20bot...','Read\x20messages','):\x20Procurando\x20conversa','opendirSync','getBusinessProfile','sem\x20texto\x20na\x20mensagem','conditions','error_log','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','TRIAL_INSTANCE_NAME','rows','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','AutomateSystem\x20não\x20foi\x20inicializado','pop','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','uncaughtException','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','Temp\x20audio\x20created','\x22\x20-\x20REMOVED','chatHandle','created','_error','_Chats','verbose','some','The\x20','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','153770oLvMlc','Error\x20in\x20scheduleNextCheck:\x20','WEBHOOK_EVENTS_CONTACTS_SET','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','SERVER_ACK','CLIENT','editFlowVariable','flowStopConversation','groupLeave','pt-BR','has','deleteConversation','owner','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','Not\x20is\x20business\x20profile','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','splice','decryptPollVote','removed','Error\x20updating\x20profile\x20picture','joinGroup','\x0a*Você\x20respondeu*:\x0a','insert','get','groupValidate','reaction','defineAuthState','replaceVariablesChat','archive',',\x20saindo.','all','createConversationforStartFlow','groups_ignore','paused','SEND_MESSAGE','StartBot','request\x20received\x20in\x20fetchConversation','stopped','isBooleanString','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','email','downloadMediaMessage','existsSync','Início','SERVER_PORT','fetchProfile','audio/mp4','stringify','WEBHOOK','messageHandle','\x1b[0m','customFields','connection.update','execSync','loadInstance','filter','true','toLocaleString','AUTHENTICATION','Não\x20respondeu\x20com\x20a\x20enquete.','Log\x20out\x20instance:\x20','deleteFlow','blockLogs','cleaningUp','cleanStore','info','sendMedia','):\x20Editando\x20grupo\x20do\x20fluxo...','createflow','nextBlock:','leaveGroup','Audio\x20is\x20base64','markMessageAsRead','context','buttonId','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','mongodb',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','pollCreationMessageV3','Revoke\x20error','Temp\x20image\x20deleted','getMessageModelForOwner','jsonwebtoken','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','name','PRIVKEY','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','videoMessage','dbClient','refreshToken','pushName','json','content','\x20mensagens\x20de\x20','The\x20\x22','getTicketSystem','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','status.instance','chatLog','Error\x20change\x20group\x20description','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','map','type','number','blockId','formatVCard','WEBHOOK_EVENTS_MESSAGES_UPDATE','apirequest','binary','\x20instance\x20does\x20not\x20exist','toArray','):\x20customFieldVariables','waitingPoll_replyOptions','count','editFlowReply','startsWith','\x1b[42m','varedit','editFlow','MESSAGES_UPDATE','sendButtons','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','waMonitor','updateGParticipate','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','parseInt','142570MYKfBn','updateOne','setHeader','extractRegex','editedMessage','editFlowBlock','phoneNumber','processConditionsTest','hex','Sistema\x20atualizado\x20com\x20sucesso!','reviver','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','groups','CORS_METHODS','waUploadToServer','DATABASE_ENABLED','flowStopMinutes','connectionUpdate','chat','updateLastSeenPrivacy','):\x20Entrou\x20na\x20função\x20goToFlow','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','statusMessage','AutomateSystem','option','groupRevokeInvite','fromObject','group-participants.update','initAuthCreds','writeFileSync','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','delInstanceFiles','quoted','Error\x20creating\x20group','mentions','NO_IP','):\x20Mensagem\x20já\x20enviada\x20para\x20','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','GROUPS_UPDATE','\x20-\x20ON:\x20','unreadCount','.json','reconnectTimestamps','findOne','repeat','secondValue','contactname','poll','updateStatusPrivacy','waitingPoll_id','boolean','exists','DARK','AUTHENTICATION_JWT_EXPIRIN_IN','groupId','updateProfilePicturePrivacy','media',',\x20lastCondition:\x20','No\x20invite\x20code','deleteDoneMessages','@whiskeysockets/baileys','textMessage','default','Conexão\x20estabelecida','put','makeCacheableSignalKeyStore','):\x20conversation.waitingPollname','Archiving\x20chat','flushHeaders','notMatchRegex','\x1b[43m','group','recording','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','isInteger','findFlow','CHATS_SET','apiName','address','createWebhook','No\x20participants','QRCODE','editflowvaredit','delaySecMax','updateProfileStatus','CONTACTS_UPSERT','DATABASE_CONNECTION_URI','\x1b[36m','ENABLED','Variável\x20não\x20encontrada!','reference','mentioned','stateConnection','):\x20Enviando\x20enquete','key','EVENTS','CHATS_UPDATE','conversationTimestamp','uazapi','readMessageBot','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','add','):\x20Flow\x20desativado','messageSecret','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','ON\x20-\x20dbName:\x20','userDevicesCache','replaceOne','groups.upsert','video-cover.png','findByIdAndUpdate','FlowController','WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE','editConversation','ERROR','Content\x20is\x20required','rowId','6zlooGk','):\x20Procurando\x20mensagens\x20para\x20envio','Image\x20is\x20base64','sections','store','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','removeInstance','less','Flow\x20não\x20encontrado','Já\x20existe\x20fluxo\x20com\x20esse\x20nome','instanceKeys','/events/:instance','request\x20body:\x20','Not\x20Found','variablesNotFound','request\x20received\x20in\x20deleteDoneMessages','Last\x20message\x20not\x20found','updateConversation','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','):\x20atualização\x20chat:\x20','Audio\x20converted\x20to\x20mp4','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','!cmd_','Instance\x20deleted','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','contactsArrayMessage','):\x20Query\x20params:','getClient','/*.json','statSync','Imagem\x20não\x20encontrada','WEBHOOK_EVENTS_STATUS_INSTANCE','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','\x1b[34m','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','downloads','fone','allFlows','closeExistingConversations','replaceVariablesLogs','addReplyOption','DATABASE_CONNECTION_DB_PREFIX_NAME','editflowreply','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','FULLCHAIN',',\x20Expiration\x20Time:\x20','composing','contact','mediaMessage','success','online','font','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','STORE','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','instanceInfo','eventHandler','INFO','):\x20Falha\x20ao\x20deletar\x20mensagem.','Subscribed\x20Events:','vcard','temp-','format','CONTACTS_SET','connectionStatus','loadWebhook','getMessage','/wa-message','setting','sendPoll','/media/','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','text','Converted\x20image\x20deleted','instanceName\x20not\x20provided.','editFlowGroup','fetchMessages','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','updateMessage','node-cache','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','waMonit','scheduleSendText','KEY','image','Erro\x20de\x20reinicialização:\x20','addBlock','Profile\x20not\x20found','contacts','endSession','leadInfo.desativadoFluxoAte','.uazapi.dev','editFlowVaredit','updatePrivacySettings','Parando\x20aplicação...','MESSAGES_SET','Erro\x20de\x20atualização:\x20','):\x20Deletando\x20fluxo...','updateParticipant','newStoppedUntil','Output\x20audio\x20path:\x20','\x0aitem','):\x20Editando\x20edição\x20do\x20fluxo...','charAt','valid','\x1b[46m','createServer','creds.json','):\x20Comando\x20desconhecido:\x20','keep-alive','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','\x1b[30m%s\x1b[0m','Error\x20writing\x20file:\x20','auth','Error\x20updating\x20privacy\x20settings','/group','Temp\x20audio\x20deleted','setWebhook','@s.whatsapp.net','messages.upsert','Primeiro\x20Valor:\x20','^\x5cd+([-]\x5cd+)*@g.us$','request\x20received\x20in\x20editFlowvariable','reorderBlocks','integer','URL:','responsavelid','now','saveVariable','updateMediaMessage','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','not\x20loaded','code',',\x20Minutes\x20to\x20Close:\x20','isJidGroup','GLOBAL','block','events','variablesToObject','saveMediaToFile','maxActives','use','Sending\x20audio\x20whatsapp','documentWithCaptionMessage','replyOption','Valor\x20de\x20find\x20ou\x20replace\x20ausente','dbInstance','utf8','participants','close','child_process','status@broadcast','readreceipts','remoteJids','writeFile','fromMe','buffer','toLowerCase','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','delayMessage','metadata','no.connection','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','updateBlock','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','variable','encoding','chats.update','):\x20Conversas\x20encontradas:','authModel','The\x20property\x20cannot\x20be\x20empty','.ogg','getTime','Converted\x20audio\x20deleted','request\x20received\x20in\x20scheduleMessage','connect','saveConversationToDatabase','Flow\x20iniciado\x20com\x20','displayName','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','archiveChat','findGroup','groupSettingUpdate','WEBHOOK_EVENTS_CHATS_DELETE','truncatedtoEnd','pollMessageOnDelete','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','processUazapi','Getting\x20profile\x20info','uazapiDeleteMessage','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','3026002uiycYi','deleteOne','class-validator','chats.upsert','AppStateSyncKeyData','removeProfilePicture','archived','floor','participant','subjectTime','webp','This\x20name\x20','dataValidate','random','\x20não\x20encontrado\x20para\x20atualização.','_doc','formatBRNumber','!stop','contentText','ORG:','env','originalUrl','\x20inseridas\x20no\x20banco\x20de\x20dados...','generate','src','redis','scheduleMessages','user','Unknown\x20message\x20type\x20or\x20empty\x20message','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','groupName','body','replyOptions','reactionMessage','create','Cache-Control','flowname:\x20','\x20minutos','):\x20Erro\x20ao\x20iniciar\x20fluxo\x20','Message\x20not\x20found','tags','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:','prepareWAMessageMedia','processConditions','options','WARN','fetchProfilePicture','cpf','Schema','trimmed','getLastMessage','writeData','.X-ABLabel:Celular\x0a','flowConfig','compression','getVariablesChat','fetchConversation','MESSAGES_UPSERT','notas','toggleEphemeral','viewOnceMessage','request\x20received\x20in\x20editFlowcondition','privacySettings','\x5cd+','quotedMessage','scheduleSendMedia','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','updateAgent','fileLength','replace','PORT','groupSetting','VERBOSE','parse','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','Getting\x20profile\x20with\x20jid:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','\x0aFN:','connectionState','app','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','):\x20não\x20encontrou','urlencoded','findParticipants','#ffffff','CONFIG_SESSION_PHONE_CLIENT','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','nome','@redis/client','):\x20Campos\x20a\x20serem\x20atualizados:','stack','lastBlockId','command','removeData','):\x20Editando\x20replyOption...','scheduleSendAudio','):\x20newSecondValue\x20após\x20replaceVariables:','/instance','QRCODE_UPDATED','update','SSL_CONF_PRIVKEY','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','createInstance','request\x20received\x20in\x20getFlow','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','release','contacts.upsert','SERVER_TYPE','):\x20expirationTime:\x20','Missing\x20global\x20api\x20key','Processing\x20audio','emit','CORS_CREDENTIALS','toUpperCase','Error\x20updating\x20participants','QRCODE_LIMIT','):\x20alterando\x20this.AutomateSystem','):\x20newFirstValue\x20após\x20replaceVariables:','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','BRL','longitude','updateProfilePicture','Variáveis\x20não\x20encontradas:','toBrazilianNumberFormat','findAndReplace','string','post','optionName','Erro\x20inesperado\x20em\x20processvaredits:\x20','Erro\x20ao\x20aplicar\x20varedit:\x20','CONNECTION_UPDATE','validate','\x1b[1m\x1b[37m','errors','jwt','creation','latitude','message','\x1b[33m%s\x1b[0m','Type\x20not\x20found','CONECTADO\x20À\x20UAZAPI','updateStopChat','Hash\x20to\x20image\x20name:\x20','forEach','addresss','whatsappNumbers','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','STORE_CHATS','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','locationMessage','leadInfo.','width','views','organization','/wa-presence','inner','groupUpdateSubject','spawn','processvaredits','AUTHENTICATION_JWT_SECRET','editflow','setNewValue','toNumber','sort','\x1b[34m%s\x1b[0m','applyvaredit','oldToken','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','Type\x20defined\x20as\x20audio'];a0_0x2cee=function(){return _0x211a96;};return a0_0x2cee();}async function go(){const _0x5ac95c=a0_0x596428;let _0x3e856b;try{_0x3e856b=(await Me[_0x5ac95c(0x3ea)][_0x5ac95c(0x342)]('https://jsonip.com'))[_0x5ac95c(0x249)]['ip'];}catch(_0x2952a0){console[_0x5ac95c(0x244)](_0x2952a0);try{_0x3e856b=(await Me['default'][_0x5ac95c(0x342)](_0x5ac95c(0x737)))['data']['ip'];}catch(_0x469dbe){console[_0x5ac95c(0x244)](_0x469dbe);try{_0x3e856b=(await Me[_0x5ac95c(0x3ea)][_0x5ac95c(0x342)](_0x5ac95c(0x663)))[_0x5ac95c(0x249)]['match'](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x592acd){return console[_0x5ac95c(0x244)](_0x592acd),!0x1;}}}return _0x3e856b;}var io=0x0;async function nr(){const _0x57d555=a0_0x596428;let _0x27db8a=await new ne(S[_0x57d555(0x342)](_0x57d555(0x6e8)))[_0x57d555(0x42c)]();return console['log'](_0x57d555(0x18d),_0x27db8a[_0x57d555(0x708)]),_0x27db8a['length'];}async function cr(){const _0x1b6d7a=a0_0x596428;let _0x13dbec=S['get'](_0x1b6d7a(0x6e8)),_0x444f83=S[_0x1b6d7a(0x342)](_0x1b6d7a(0x367))[_0x1b6d7a(0x688)][_0x1b6d7a(0x475)],_0x338f56=S[_0x1b6d7a(0x342)](_0x1b6d7a(0x68c)),_0x379945=await go(),_0x30a82d=S[_0x1b6d7a(0x342)](_0x1b6d7a(0x1d4))[_0x1b6d7a(0x528)];try{let _0x9b7178={'ip':_0x379945||null,'redis_enable':_0x13dbec?.['ENABLED']||null,'apikey':_0x444f83||null,'ssl':_0x338f56?.[_0x1b6d7a(0x383)]||null,'lastupdate':mo||null,'port':_0x30a82d||null,'gitInstallError':Ae?.[_0x1b6d7a(0x56b)]||null};if(console[_0x1b6d7a(0x208)]('ip:\x20',_0x9b7178['ip']),_0x13dbec&&_0x13dbec[_0x1b6d7a(0x404)]){let _0x42a2f3=await nr();_0x9b7178['instanceCount']=_0x42a2f3||null;}for(let _0x3febb0 in _0x9b7178)_0x9b7178[_0x1b6d7a(0x5a1)](_0x3febb0)&&_0x3febb0!=='ip'&&(_0x9b7178[_0x3febb0]=JSON['stringify'](_0x9b7178[_0x3febb0]));return(await Me[_0x1b6d7a(0x3ea)][_0x1b6d7a(0x560)](_0x1b6d7a(0x2fb),_0x9b7178))[_0x1b6d7a(0x249)];}catch(_0x5e012a){return console['error'](_0x5e012a),!0x1;}}var ys=!0x1,mo=0x210,lr=0x3,no=0x1b7740;async function Ss(){const _0x4852ea=a0_0x596428;if(!await go())return console[_0x4852ea(0x244)](_0x4852ea(0x710)),_0x4852ea(0x3cf);let _0x516dda=await cr();if(_0x516dda){if(_0x516dda[_0x4852ea(0x6f7)][_0x4852ea(0x71d)]===!0x0){S[_0x4852ea(0x342)]('SSL_CONF')['PRIVKEY'][_0x4852ea(0x739)](_0x4852ea(0x242))&&_0x516dda[_0x4852ea(0x6f7)][_0x4852ea(0x5cc)]&&(await pr(_0x516dda[_0x4852ea(0x6f7)][_0x4852ea(0x5cc)],dr),await gr(_0x4852ea(0x2ac),_0x516dda[_0x4852ea(0x6f7)][_0x4852ea(0x5cc)]),console[_0x4852ea(0x208)](_0x4852ea(0x1d5)),setTimeout(()=>hr(),0x2710)),Ae===null&&_0x516dda[_0x4852ea(0x6f7)]['last_update']-mo>0x0&&await ur(),ys||(ys=!0x0,sr());let _0x39ad28=0x24*0x3c*0x3c,_0x47af86=_0x516dda[_0x4852ea(0x6f7)][_0x4852ea(0x1b9)]>_0x39ad28?_0x39ad28:_0x516dda[_0x4852ea(0x6f7)][_0x4852ea(0x1b9)],_0x2d21de=Number(_0x47af86);if(isNaN(_0x2d21de)){console['error'](_0x4852ea(0x71f));return;}let _0x1b9d6a=Math[_0x4852ea(0x4e8)](_0x2d21de/0xe10),_0x29f21d=Math[_0x4852ea(0x4e8)](_0x2d21de%0xe10/0x3c),_0x12e8d5=new Date(Date[_0x4852ea(0x4a1)]()+_0x2d21de*0x3e8);setTimeout(Ss,_0x2d21de*0x3e8);let _0x3a8c18=_0x536237=>_0x536237['toString']()[_0x4852ea(0x5a6)](0x2,'0'),_0x293d67=_0x4852ea(0x73c)+_0x3a8c18(_0x1b9d6a)+_0x4852ea(0x716)+_0x3a8c18(_0x29f21d)+_0x4852ea(0x5f2)+_0x3a8c18(_0x12e8d5['getHours']())+':'+_0x3a8c18(_0x12e8d5['getMinutes']())+'.';console[_0x4852ea(0x208)](_0x293d67);}else return console[_0x4852ea(0x208)](_0x4852ea(0x2eb)),ys&&(console[_0x4852ea(0x208)](_0x4852ea(0x67b)),process[_0x4852ea(0x6e5)]()),_0x4852ea(0x258);}else{if(io++,io<lr)console[_0x4852ea(0x208)](_0x4852ea(0x1d2)+no/0xea60+_0x4852ea(0x662)),setTimeout(Ss,no);else return console['error'](_0x4852ea(0x426)),_0x4852ea(0x731);}}async function ur(){const _0x7fdd9=a0_0x596428;console['log'](_0x7fdd9(0x1be));let _0x15de77=(0x0,De['spawn'])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x15de77[_0x7fdd9(0x286)]['on'](_0x7fdd9(0x249),_0x170300=>{const _0x35d235=_0x7fdd9;console[_0x35d235(0x208)]('Atualização:\x20'+_0x170300);}),_0x15de77[_0x7fdd9(0x1d1)]['on'](_0x7fdd9(0x249),_0x361de1=>{const _0x3051f5=_0x7fdd9;console['error'](_0x3051f5(0x482)+_0x361de1);}),_0x15de77['on'](_0x7fdd9(0x6e5),_0x1b6ad1=>{const _0x27179f=_0x7fdd9;_0x1b6ad1!==0x0?console['error'](_0x27179f(0x3a7)+_0x1b6ad1):console[_0x27179f(0x208)](_0x27179f(0x3b5)),console[_0x27179f(0x208)](_0x27179f(0x480)),setTimeout(()=>process['exit'](),0x2710);});}var dr=Ie[a0_0x596428(0x3ea)][a0_0x596428(0x72f)](__dirname,a0_0x596428(0x5e3));async function pr(_0x890085,_0x157d3d){const _0x32f19d=a0_0x596428;let _0x58fc92=mr();_0x890085=_0x890085[_0x32f19d(0x527)](_0x32f19d(0x47d),'');try{let _0x355cd9=pe[_0x32f19d(0x3ea)]['readFileSync'](_0x157d3d,_0x32f19d(0x4b5));_0x355cd9=_0x355cd9['replace'](/<apikey>/,_0x58fc92),_0x355cd9=_0x355cd9[_0x32f19d(0x527)](/<subdomain>/g,_0x890085),pe[_0x32f19d(0x3ea)][_0x32f19d(0x3c9)](_0x157d3d,_0x355cd9,_0x32f19d(0x4b5)),console['log'](_0x32f19d(0x642));}catch(_0x1a9603){console[_0x32f19d(0x244)](_0x32f19d(0x6fb),_0x1a9603);}}function a0_0xd1e2(_0xe5b13f,_0x1dd2b2){const _0x2cee02=a0_0x2cee();return a0_0xd1e2=function(_0xd1e2ba,_0x5ba75e){_0xd1e2ba=_0xd1e2ba-0x176;let _0x1175f9=_0x2cee02[_0xd1e2ba];return _0x1175f9;},a0_0xd1e2(_0xe5b13f,_0x1dd2b2);}function gr(_0x555f27,_0x4d8208){return new Promise((_0x564f43,_0x47f03d)=>{const _0x2acf57=a0_0xd1e2;let _0x14d87d=(0x0,De[_0x2acf57(0x57f)])(_0x2acf57(0x289),['certonly','--standalone','-m',_0x555f27,_0x2acf57(0x697),'-d',_0x4d8208]);_0x14d87d[_0x2acf57(0x286)]['on'](_0x2acf57(0x249),_0x72dd1f=>{const _0x28b78b=_0x2acf57;console[_0x28b78b(0x208)]('Certbot:\x20'+_0x72dd1f[_0x28b78b(0x1af)]());}),_0x14d87d['stderr']['on']('data',_0x4148a5=>{const _0x22d27e=_0x2acf57;console[_0x22d27e(0x244)](_0x22d27e(0x21e)+_0x4148a5[_0x22d27e(0x1af)]());}),_0x14d87d['on'](_0x2acf57(0x4b7),_0xc9ca53=>{const _0x4cce95=_0x2acf57;_0xc9ca53!==0x0?(console['error'](_0x4cce95(0x524)+_0xc9ca53),_0x47f03d('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0xc9ca53)):(console[_0x4cce95(0x208)](_0x4cce95(0x66e)),_0x564f43());});});}function mr(_0x249675=0x32){const _0x436f7e=a0_0x596428;let _0x509527='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x35cb25='';for(let _0x5c28f6=0x0;_0x5c28f6<_0x249675;_0x5c28f6++)_0x35cb25+=_0x509527[_0x436f7e(0x489)](Math['floor'](Math[_0x436f7e(0x4ee)]()*_0x509527[_0x436f7e(0x708)]));return _0x35cb25;}function hr(){const _0x459047=a0_0x596428;(0x0,De[_0x459047(0x597)])(_0x459047(0x2e5),(_0x6bc0e5,_0x1bb7df,_0x2e9753)=>{const _0x47d05b=_0x459047;if(_0x6bc0e5){console['error'](_0x47d05b(0x434)+_0x6bc0e5);return;}if(_0x2e9753){console[_0x47d05b(0x244)](_0x47d05b(0x477)+_0x2e9753);return;}console[_0x47d05b(0x208)](_0x47d05b(0x203)+_0x1bb7df);});}