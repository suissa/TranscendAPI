const a0_0xe6bdb1=a0_0x487d;(function(_0x22395a,_0xbd597){const _0xca52f8=a0_0x487d,_0x318810=_0x22395a();while(!![]){try{const _0x2bfd3e=parseInt(_0xca52f8(0x29a))/0x1+parseInt(_0xca52f8(0x652))/0x2+parseInt(_0xca52f8(0x3fd))/0x3+parseInt(_0xca52f8(0x3fe))/0x4*(parseInt(_0xca52f8(0x5bd))/0x5)+parseInt(_0xca52f8(0x586))/0x6*(parseInt(_0xca52f8(0x564))/0x7)+parseInt(_0xca52f8(0x194))/0x8+parseInt(_0xca52f8(0x343))/0x9*(-parseInt(_0xca52f8(0x649))/0xa);if(_0x2bfd3e===_0xbd597)break;else _0x318810['push'](_0x318810['shift']());}catch(_0x29ef5e){_0x318810['push'](_0x318810['shift']());}}}(a0_0x211a,0x6b592));var wo=Object[a0_0xe6bdb1(0x2dd)],Ns=Object[a0_0xe6bdb1(0x711)],yo=Object[a0_0xe6bdb1(0x48d)],bo=Object[a0_0xe6bdb1(0x305)],So=Object['getPrototypeOf'],Eo=Object[a0_0xe6bdb1(0x3d2)][a0_0xe6bdb1(0x45d)],vo=(_0x16e618,_0x15c66e,_0x358ce5,_0x2ecd59)=>{const _0x508c03=a0_0xe6bdb1;if(_0x15c66e&&typeof _0x15c66e==_0x508c03(0x35f)||typeof _0x15c66e==_0x508c03(0x42b)){for(let _0x397bd3 of bo(_0x15c66e))!Eo['call'](_0x16e618,_0x397bd3)&&_0x397bd3!==_0x358ce5&&Ns(_0x16e618,_0x397bd3,{'get':()=>_0x15c66e[_0x397bd3],'enumerable':!(_0x2ecd59=yo(_0x15c66e,_0x397bd3))||_0x2ecd59[_0x508c03(0x63e)]});}return _0x16e618;},T=(_0x1fa61f,_0x2e1e1b,_0x3e0516)=>(_0x3e0516=_0x1fa61f!=null?wo(So(_0x1fa61f)):{},vo(_0x2e1e1b||!_0x1fa61f||!_0x1fa61f[a0_0xe6bdb1(0x6cf)]?Ns(_0x3e0516,a0_0xe6bdb1(0x6cd),{'value':_0x1fa61f,'enumerable':!0x0}):_0x3e0516,_0x1fa61f)),lo=T(require(a0_0xe6bdb1(0x315))),Ts=require('fs'),Rs=require('js-yaml'),Ms=require(a0_0xe6bdb1(0x5f4)),De=require(a0_0xe6bdb1(0x5f4)),Q=process[a0_0xe6bdb1(0x414)](),J=(0x0,De['join'])(Q,a0_0xe6bdb1(0x41d)),Cs=(0x0,De[a0_0xe6bdb1(0x56c)])(Q,'src'),Gt=(0x0,De['join'])(Q,a0_0xe6bdb1(0x46e),a0_0xe6bdb1(0x54c)),As=require(a0_0xe6bdb1(0x404)),Wt=class{constructor(){const _0x3031ce=a0_0xe6bdb1;this[_0x3031ce(0x716)]();}[a0_0xe6bdb1(0x47c)](_0x548fa9){const _0x109843=a0_0xe6bdb1;return this[_0x109843(0x473)][_0x548fa9];}[a0_0xe6bdb1(0x716)](){const _0x14de96=a0_0xe6bdb1;this[_0x14de96(0x473)]=process[_0x14de96(0x473)]?.['DOCKER_ENV']!==_0x14de96(0x5f6)?this[_0x14de96(0x681)]():this[_0x14de96(0x14b)](),this['env'][_0x14de96(0x2bf)]=process[_0x14de96(0x473)]?.[_0x14de96(0x4df)]==='PROD',process['env']?.['DOCKER_ENV']===_0x14de96(0x5f6)&&(this[_0x14de96(0x473)][_0x14de96(0x26b)][_0x14de96(0x50c)]=_0x14de96(0x29d),this[_0x14de96(0x473)][_0x14de96(0x26b)][_0x14de96(0x5cd)]=Number[_0x14de96(0x4f4)](process['env']?.['SERVER_PORT']??_0x14de96(0x442)));}['envYaml'](){const _0x30cac7=a0_0xe6bdb1;return(0x0,Rs[_0x30cac7(0x61e)])((0x0,Ts[_0x30cac7(0x470)])((0x0,Ms['join'])(Cs,'../env.yml'),{'encoding':_0x30cac7(0x6ec)}));}[a0_0xe6bdb1(0x14b)](){const _0x5d7ee3=a0_0xe6bdb1;return{'SERVER':{'TYPE':process[_0x5d7ee3(0x473)][_0x5d7ee3(0x48a)],'PORT':Number[_0x5d7ee3(0x4f4)](process['env'][_0x5d7ee3(0x608)])},'CORS':{'ORIGIN':process[_0x5d7ee3(0x473)][_0x5d7ee3(0x534)][_0x5d7ee3(0x204)](','),'METHODS':process[_0x5d7ee3(0x473)][_0x5d7ee3(0x2af)][_0x5d7ee3(0x204)](','),'CREDENTIALS':process[_0x5d7ee3(0x473)]?.[_0x5d7ee3(0x52c)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0x5d7ee3(0x473)]?.[_0x5d7ee3(0x5c2)],'FULLCHAIN':process['env']?.[_0x5d7ee3(0x383)]},'STORE':{'CLEANING_INTERVAL':Number[_0x5d7ee3(0x1f3)](process[_0x5d7ee3(0x473)]?.[_0x5d7ee3(0x373)])?Number[_0x5d7ee3(0x4f4)](process[_0x5d7ee3(0x473)][_0x5d7ee3(0x373)]):void 0x0,'MESSAGES':process[_0x5d7ee3(0x473)]?.['STORE_MESSAGE']==='true','CONTACTS':process[_0x5d7ee3(0x473)]?.[_0x5d7ee3(0x615)]===_0x5d7ee3(0x5f6),'CHATS':process[_0x5d7ee3(0x473)]?.[_0x5d7ee3(0x31c)]===_0x5d7ee3(0x5f6)},'DATABASE':{'CONNECTION':{'HOST':process[_0x5d7ee3(0x473)]?.[_0x5d7ee3(0x33a)],'PORT':Number[_0x5d7ee3(0x4f4)](process['env']?.[_0x5d7ee3(0x33a)]),'USER':process[_0x5d7ee3(0x473)][_0x5d7ee3(0x44e)],'PASSWORD':process[_0x5d7ee3(0x473)][_0x5d7ee3(0x62c)],'URI':process['env'][_0x5d7ee3(0x66c)],'DB_PREFIX_NAME':process[_0x5d7ee3(0x473)][_0x5d7ee3(0x4d8)]},'ENABLED':process[_0x5d7ee3(0x473)]?.['DATABASE_ENABLED']===_0x5d7ee3(0x5f6)},'REDIS':{'ENABLED':process[_0x5d7ee3(0x473)]?.[_0x5d7ee3(0x36d)]===_0x5d7ee3(0x5f6),'URI':process[_0x5d7ee3(0x473)][_0x5d7ee3(0x2b3)],'PREFIX_KEY':process[_0x5d7ee3(0x473)]['REDIS_PREFIX_KEY']},'LOG':{'LEVEL':process[_0x5d7ee3(0x473)]?.[_0x5d7ee3(0x65b)][_0x5d7ee3(0x204)](','),'COLOR':process['env']?.[_0x5d7ee3(0x6f3)]===_0x5d7ee3(0x5f6)},'DEL_INSTANCE':(0x0,As[_0x5d7ee3(0x569)])(process['env']?.[_0x5d7ee3(0x456)])?process[_0x5d7ee3(0x473)]['DEL_INSTANCE']===_0x5d7ee3(0x5f6):Number[_0x5d7ee3(0x4f4)](process['env']['DEL_INSTANCE'])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process[_0x5d7ee3(0x473)][_0x5d7ee3(0x3b5)]?process[_0x5d7ee3(0x473)][_0x5d7ee3(0x3b5)]===_0x5d7ee3(0x5f6):!0x1,'GLOBAL':{'URL':process['env']?.[_0x5d7ee3(0x63c)],'ENABLED':process['env']?.[_0x5d7ee3(0x505)]===_0x5d7ee3(0x5f6)},'EVENTS':{'STATUS_INSTANCE':process['env']?.[_0x5d7ee3(0x48e)]===_0x5d7ee3(0x5f6),'QRCODE_UPDATED':process['env']?.['WEBHOOK_EVENTS_QRCODE_UPDATED']===_0x5d7ee3(0x5f6),'MESSAGES_SET':process[_0x5d7ee3(0x473)]?.[_0x5d7ee3(0x294)]===_0x5d7ee3(0x5f6),'MESSAGES_UPSERT':process[_0x5d7ee3(0x473)]?.[_0x5d7ee3(0x6c2)]===_0x5d7ee3(0x5f6),'MESSAGES_UPDATE':process['env']?.['WEBHOOK_EVENTS_MESSAGES_UPDATE']===_0x5d7ee3(0x5f6),'SEND_MESSAGE':process[_0x5d7ee3(0x473)]?.[_0x5d7ee3(0x219)]==='true','CONTACTS_SET':process[_0x5d7ee3(0x473)]?.[_0x5d7ee3(0x64c)]==='true','CONTACTS_UPDATE':process[_0x5d7ee3(0x473)]?.[_0x5d7ee3(0x6ed)]===_0x5d7ee3(0x5f6),'CONTACTS_UPSERT':process['env']?.[_0x5d7ee3(0x3f7)]==='true','PRESENCE_UPDATE':process['env']?.[_0x5d7ee3(0x1d0)]===_0x5d7ee3(0x5f6),'CHATS_SET':process['env']?.['WEBHOOK_EVENTS_CHATS_SET']==='true','CHATS_UPDATE':process[_0x5d7ee3(0x473)]?.['WEBHOOK_EVENTS_CHATS_UPDATE']===_0x5d7ee3(0x5f6),'CHATS_UPSERT':process[_0x5d7ee3(0x473)]?.['WEBHOOK_EVENTS_CHATS_UPSERT']===_0x5d7ee3(0x5f6),'CHATS_DELETE':process[_0x5d7ee3(0x473)]?.[_0x5d7ee3(0x638)]===_0x5d7ee3(0x5f6),'CONNECTION_UPDATE':process['env']?.[_0x5d7ee3(0x602)]==='true','GROUPS_UPSERT':process['env']?.[_0x5d7ee3(0x637)]===_0x5d7ee3(0x5f6),'GROUP_UPDATE':process['env']?.[_0x5d7ee3(0x490)]==='true','GROUP_PARTICIPANTS_UPDATE':process['env']?.[_0x5d7ee3(0x39e)]===_0x5d7ee3(0x5f6),'NEW_JWT_TOKEN':process[_0x5d7ee3(0x473)]?.[_0x5d7ee3(0x63a)]===_0x5d7ee3(0x5f6)}},'CONFIG_SESSION_PHONE':{'CLIENT':process[_0x5d7ee3(0x473)]?.['CONFIG_SESSION_PHONE_CLIENT']||_0x5d7ee3(0x27e),'NAME':process[_0x5d7ee3(0x473)]?.[_0x5d7ee3(0x1d5)]||_0x5d7ee3(0x3ee)},'QRCODE':{'LIMIT':Number[_0x5d7ee3(0x4f4)](process['env'][_0x5d7ee3(0x671)])||0x5},'TRIAL_AD':process['env']?.[_0x5d7ee3(0x2ff)],'TRIAL_INSTANCE_NAME':process['env']?.['TRIAL_INSTANCE_NAME'],'AUTHENTICATION':{'TYPE':process[_0x5d7ee3(0x473)][_0x5d7ee3(0x1b2)],'API_KEY':{'KEY':process[_0x5d7ee3(0x473)][_0x5d7ee3(0x56f)]},'JWT':{'EXPIRIN_IN':Number[_0x5d7ee3(0x1f3)](process[_0x5d7ee3(0x473)]?.[_0x5d7ee3(0x3e9)])?Number[_0x5d7ee3(0x4f4)](process[_0x5d7ee3(0x473)][_0x5d7ee3(0x3e9)]):0xe10,'SECRET':process[_0x5d7ee3(0x473)][_0x5d7ee3(0x40e)]}}};}},S=new Wt(),uo=T(require('cors')),me=T(require(a0_0xe6bdb1(0x5fd))),Ss=require(a0_0xe6bdb1(0x5f4)),Ht=T(require(a0_0xe6bdb1(0x626))),Kt=(_0x114fa4=>(_0x114fa4['LOG']='\x1b[32m',_0x114fa4[a0_0xe6bdb1(0x680)]=a0_0xe6bdb1(0x59a),_0x114fa4[a0_0xe6bdb1(0x702)]=a0_0xe6bdb1(0x5aa),_0x114fa4[a0_0xe6bdb1(0x628)]=a0_0xe6bdb1(0x504),_0x114fa4['DEBUG']='\x1b[36m',_0x114fa4[a0_0xe6bdb1(0x51b)]='\x1b[37m',_0x114fa4[a0_0xe6bdb1(0x215)]='\x1b[30m',_0x114fa4))(Kt||{}),Is=(_0x2d6d76=>(_0x2d6d76[a0_0xe6bdb1(0x25c)]=a0_0xe6bdb1(0x317),_0x2d6d76[a0_0xe6bdb1(0x215)]=a0_0xe6bdb1(0x5c4),_0x2d6d76['INFO']=a0_0xe6bdb1(0x3a8),_0x2d6d76[a0_0xe6bdb1(0x702)]=a0_0xe6bdb1(0x334),_0x2d6d76[a0_0xe6bdb1(0x628)]=a0_0xe6bdb1(0x69a),_0x2d6d76[a0_0xe6bdb1(0x601)]=a0_0xe6bdb1(0x5f8),_0x2d6d76[a0_0xe6bdb1(0x51b)]=a0_0xe6bdb1(0x20e),_0x2d6d76))(Is||{}),Os=(_0x398465=>(_0x398465[a0_0xe6bdb1(0x25c)]=a0_0xe6bdb1(0x25c),_0x398465[a0_0xe6bdb1(0x702)]=a0_0xe6bdb1(0x702),_0x398465[a0_0xe6bdb1(0x680)]=a0_0xe6bdb1(0x680),_0x398465['DARK']=a0_0xe6bdb1(0x215),_0x398465['ERROR']=a0_0xe6bdb1(0x628),_0x398465[a0_0xe6bdb1(0x601)]=a0_0xe6bdb1(0x601),_0x398465[a0_0xe6bdb1(0x51b)]=a0_0xe6bdb1(0x51b),_0x398465))(Os||{}),Ds=(_0x569213=>(_0x569213[a0_0xe6bdb1(0x25c)]=a0_0xe6bdb1(0x332),_0x569213['INFO']='\x1b[44m',_0x569213['WARN']='\x1b[43m',_0x569213[a0_0xe6bdb1(0x215)]='\x1b[40m',_0x569213[a0_0xe6bdb1(0x628)]='\x1b[41m',_0x569213[a0_0xe6bdb1(0x601)]='\x1b[46m',_0x569213[a0_0xe6bdb1(0x51b)]=a0_0xe6bdb1(0x5a4),_0x569213))(Ds||{}),C=class{constructor(_0x31b517=a0_0xe6bdb1(0x41f)){const _0x38d3a6=a0_0xe6bdb1;this[_0x38d3a6(0x364)]=_0x31b517,this[_0x38d3a6(0x440)]=S;}[a0_0xe6bdb1(0x34f)](_0x4af05e){const _0x10127a=a0_0xe6bdb1;this[_0x10127a(0x364)]=_0x4af05e;}[a0_0xe6bdb1(0x5b2)](_0x921362,_0x5efb09){const _0x239141=a0_0xe6bdb1;let _0x5a59e7=[];this['configService'][_0x239141(0x47c)](_0x239141(0x25c))[_0x239141(0x71d)]['forEach'](_0x5415f8=>_0x5a59e7[_0x239141(0x367)](Os[_0x5415f8]));let _0x1f45cd=typeof _0x921362;_0x5a59e7[_0x239141(0x30a)](_0x5efb09)&&(S[_0x239141(0x47c)](_0x239141(0x25c))[_0x239141(0x1ac)]?(console[_0x239141(0x6c7)](_0x239141(0x5e8)+Is[_0x5efb09],'\x1b[1m\x1b[37m',(0x0,Ht[_0x239141(0x6cd)])()[_0x239141(0x71b)](_0x239141(0x706)),_0x239141(0x1e9),Kt[_0x5efb09]+Ds[_0x5efb09]+_0x239141(0x5e8),_0x5efb09+_0x239141(0x2d9),_0x239141(0x1b9),this[_0x239141(0x364)]+_0x239141(0x1e9),Kt[_0x5efb09],_0x1f45cd!==_0x239141(0x35f)?_0x921362:'','\x1b[0m'),_0x1f45cd===_0x239141(0x35f)&&console[_0x239141(0x6c7)](_0x921362,'\x0a')):console['log']((0x0,Ht[_0x239141(0x6cd)])()['format']('HH:mm:ss'),_0x5efb09+'\x20',''+this[_0x239141(0x364)],_0x921362));}['log'](_0x135421){const _0x4faf8d=a0_0xe6bdb1;this[_0x4faf8d(0x5b2)](_0x135421,_0x4faf8d(0x25c));}[a0_0xe6bdb1(0x6bf)](_0x4a0972){const _0x3f2be2=a0_0xe6bdb1;this[_0x3f2be2(0x5b2)](_0x4a0972,_0x3f2be2(0x680));}[a0_0xe6bdb1(0x682)](_0x26e874){this['console'](_0x26e874,'WARN');}[a0_0xe6bdb1(0x507)](_0x37c632){const _0x1a2481=a0_0xe6bdb1;this[_0x1a2481(0x5b2)](_0x37c632,_0x1a2481(0x628));}[a0_0xe6bdb1(0x641)](_0x192157){const _0x46f64c=a0_0xe6bdb1;this[_0x46f64c(0x5b2)](_0x192157,_0x46f64c(0x51b));}[a0_0xe6bdb1(0x5a8)](_0x5d11e6){const _0x48d6d0=a0_0xe6bdb1;this[_0x48d6d0(0x5b2)](_0x5d11e6,_0x48d6d0(0x601));}[a0_0xe6bdb1(0x1fb)](_0xbed17){const _0xdb2c88=a0_0xe6bdb1;this[_0xdb2c88(0x5b2)](_0xbed17,_0xdb2c88(0x215));}};function _s(){const _0x2e47b6=a0_0xe6bdb1;process['on'](_0x2e47b6(0x28f),(_0x3759c0,_0x41c4d5)=>{const _0x158799=_0x2e47b6;new C(_0x158799(0x28f))['error']({'origin':_0x41c4d5,'stderr':process[_0x158799(0x4b0)]['fd'],'error':_0x3759c0});}),process['on'](_0x2e47b6(0x3c2),(_0x47ff65,_0x40ca9d)=>{new C('unhandledRejection')['error']({'origin':_0x40ca9d,'stderr':process['stderr']['fd'],'error':_0x47ff65});});}var Ps=T(require(a0_0xe6bdb1(0x258))),zt=new Ps['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),_e=require(a0_0xe6bdb1(0x213)),Qt=T(require(a0_0xe6bdb1(0x213))),No=new C(a0_0xe6bdb1(0x23e)),G=S['get'](a0_0xe6bdb1(0x225)),M=G['ENABLED']?G[a0_0xe6bdb1(0x3ec)][a0_0xe6bdb1(0x557)]?Qt[a0_0xe6bdb1(0x6cd)]['createConnection'](G[a0_0xe6bdb1(0x3ec)][a0_0xe6bdb1(0x557)],{'dbName':G[a0_0xe6bdb1(0x3ec)][a0_0xe6bdb1(0x2ca)]+a0_0xe6bdb1(0x3b2)}):Qt[a0_0xe6bdb1(0x6cd)][a0_0xe6bdb1(0x1b0)](a0_0xe6bdb1(0x3fc)+G[a0_0xe6bdb1(0x3ec)][a0_0xe6bdb1(0x3c9)]+':'+G[a0_0xe6bdb1(0x3ec)]['PORT']+a0_0xe6bdb1(0x713),{'user':G[a0_0xe6bdb1(0x3ec)]['USER'],'pass':G[a0_0xe6bdb1(0x3ec)][a0_0xe6bdb1(0x5d6)],'dbName':G[a0_0xe6bdb1(0x3ec)]['DB_PREFIX_NAME']+a0_0xe6bdb1(0x3b2)}):null;G['ENABLED']&&No[a0_0xe6bdb1(0x6bf)](a0_0xe6bdb1(0x16f)+M[a0_0xe6bdb1(0x166)]);var Co=new _e[(a0_0xe6bdb1(0x5e5))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),To=new _e['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Co],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Ro=new _e[(a0_0xe6bdb1(0x5e5))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':To,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean}}),xs=_0x453313=>{const _0x18c9ed=a0_0xe6bdb1;let _0x39d983='z_'+_0x453313+'_Chats';return M?.['model'](_0x18c9ed(0x6a3),Ro,_0x39d983);},$s=require(a0_0xe6bdb1(0x213)),Mo=new $s['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ks=_0x6b0874=>{const _0x25ab23=a0_0xe6bdb1;let _0x4b5ae9='z_'+_0x6b0874+_0x25ab23(0x190);return M?.[_0x25ab23(0x665)](_0x25ab23(0x2f8),Mo,_0x4b5ae9);},Ls=require(a0_0xe6bdb1(0x213)),Ao=new Ls[(a0_0xe6bdb1(0x5e5))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':['android','web',a0_0xe6bdb1(0x3cf)]},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Us=_0x38d201=>{const _0x13728d=a0_0xe6bdb1;let _0x58f0e8='z_'+_0x38d201+'_Messages';return M?.['model'](_0x13728d(0x41a),Ao,_0x58f0e8);},Vs=require(a0_0xe6bdb1(0x213)),Yt=class{},Io=new Vs['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),Js=M?.[a0_0xe6bdb1(0x665)](Yt[a0_0xe6bdb1(0x34d)],Io,a0_0xe6bdb1(0x580)),js=require(a0_0xe6bdb1(0x213)),Xt=class{},Fs=new js[(a0_0xe6bdb1(0x5e5))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Fs[a0_0xe6bdb1(0x3db)]('save',function(_0x4ad166){const _0x80dfd5=a0_0xe6bdb1;delete this[_0x80dfd5(0x6e8)],delete this[_0x80dfd5(0x1d4)],delete this[_0x80dfd5(0x212)],delete this[_0x80dfd5(0x22a)],delete this['flowStopMinutes'],_0x4ad166();});var Bs=M?.[a0_0xe6bdb1(0x665)](Xt[a0_0xe6bdb1(0x34d)],Fs,a0_0xe6bdb1(0x405)),O=require(a0_0xe6bdb1(0x213)),Pe=class{},qs=new O[(a0_0xe6bdb1(0x5e5))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Zt=new O[(a0_0xe6bdb1(0x5e5))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Oo=new O[(a0_0xe6bdb1(0x5e5))]({'command':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'pollErrorMessage':{'type':String,'default':a0_0xe6bdb1(0x156)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Gs=new O[(a0_0xe6bdb1(0x5e5))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Do=new O[(a0_0xe6bdb1(0x5e5))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),_o=new O['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Ws=new O[(a0_0xe6bdb1(0x5e5))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Oo},'apirequest':Do,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),os=new O[(a0_0xe6bdb1(0x5e5))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),Hs=new O[(a0_0xe6bdb1(0x5e5))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),es=class{},Ks=new O[(a0_0xe6bdb1(0x5e5))]({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x4f248d=a0_0xe6bdb1;return _0x4f248d(0x5e2)+Math[_0x4f248d(0x653)]()['toString'](0x24)[_0x4f248d(0x593)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[os],'variablesNotFound':{'type':[String]},'blocks':[Ws],'groups':[qs],'conditions':[Gs],'varedits':[Hs],'replyOptions':{'type':[Zt],'default':[]}});Ks[a0_0xe6bdb1(0x3db)](a0_0xe6bdb1(0x4c5),function(_0x31c764){const _0x1ea8be=a0_0xe6bdb1;let _0x33784b=new Set(),_0x18540f=new Set(this[_0x1ea8be(0x171)]?.[_0x1ea8be(0x538)](_0x2d9cbd=>_0x2d9cbd[_0x1ea8be(0x34d)])),_0x3d1f1c=JSON[_0x1ea8be(0x533)](this),_0x32b719=/{{(?!_)([^}]*)}}/g,_0x2136cc;for(;(_0x2136cc=_0x32b719[_0x1ea8be(0x2f0)](_0x3d1f1c))!==null;)_0x18540f[_0x1ea8be(0x579)](_0x2136cc[0x1])||_0x33784b[_0x1ea8be(0x1a9)](_0x2136cc[0x1]);_0x33784b[_0x1ea8be(0x38d)]>0x0?(console[_0x1ea8be(0x682)]('Variáveis\x20não\x20encontradas:',Array[_0x1ea8be(0x211)](_0x33784b)),this[_0x1ea8be(0x2b5)]=Array[_0x1ea8be(0x211)](_0x33784b)):this[_0x1ea8be(0x2b5)]=[],_0x31c764();});function a0_0x211a(){const _0x280af1=['não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','reactionMessage','WEBHOOK_EVENTS_CONTACTS_SET','sendContact','Invalid\x20format','desativadoFluxoAte','success','fetchConversation','1616104aIfodl','random','mentions','\x20minutos...','groupId','delaySecMin','del','deleteMessage','\x0a*Você\x20respondeu*:\x0a','LOG_LEVEL','app','\x20inseridos\x20no\x20banco\x20de\x20dados...','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','):\x20Erro\x20ao\x20criar\x20fluxo\x20','wuid','):\x20Conversa\x20inserida\x20com\x20sucesso.','nome','saveTextReply','Router','model','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','editFlow','getClient','Cache-Control','^\x5cd+','.jwt','DATABASE_CONNECTION_URI','):\x20Entrou\x20na\x20função\x20saveReply','hostname','https','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','QRCODE_LIMIT','request\x20received\x20in\x20editFlow','available','use','messages.update','Sistema\x20atualizado\x20com\x20sucesso!','/media','updatePresence','user','AUTHENTICATION','findOneAndUpdate','Fluxos\x20não\x20estão\x20ativados','processPollUpdateMessage','opendirSync','Image\x20created','INFO','envYaml','warn','):\x20Ignoring\x20group\x20messages.','getMessage','Erro\x20ao\x20aplicar\x20varedit:\x20','Getting\x20image\x20from\x20url','readMessage','CONTACTS_UPDATE','delayMessage','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20',',\x20valor\x20a\x20encontrar:\x20\x22','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','values','Sending\x20audio\x20whatsapp','SERVER_OFFLINE','convertaudio','urlOrBase64','request\x20received\x20in\x20updateFlowConfig','block','next_groupId','groups.update','status@broadcast','close','upsertChats','writeFileSync','\x1b[31m%s\x1b[0m','contact','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','CREDENTIALS','sendMessageWithTyping','deleteDoneMessages','allFlows','Error\x20change\x20group\x20description','refreshToken','ChatModel','updateCustomFields','./.git/config','hbs','saveChatVariables','):\x20Ler\x20mensagem','CONNECTION_UPDATE','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','request\x20received\x20in\x20updateCustomFields','apiResponse','Hash\x20to\x20audio\x20name:\x20','jsonwebtoken','send.message','ini','Audio\x20processed','sendMedia','WEBHOOK','toArray','getMinutes','editFlowCondition','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','indexOf','Error\x20in\x20scheduleNextCheck:\x20','NEW_JWT_TOKEN','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','shift','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','):\x20Conversa\x20atualizada\x20em\x20memória','info','):\x20Error\x20processing\x20conditions:\x20','):\x20Query\x20params:','WEBHOOK_EVENTS_MESSAGES_UPSERT','request\x20body:\x20','updateChatWithMessage','startsWith','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','log','STORE','\x20minutos\x20verificará\x20novas\x20mensagens','editScheduleMessage','connectionClosed',',\x20Comparador:\x20','default','express-async-errors','__esModule','Erro\x20ao\x20editar\x20o\x20chat:\x20','@g.us','locked','Getting\x20profile\x20info','sharp','URL','getDelay','DELETED','findByIdAndUpdate','augusto.fcs@gmail.com','buttonMessage','BufferJSON','bearer','redis','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','Business\x20profile\x20fetched','/create','):\x20transformedCustomFieldVariables','allflows','webhookModel','Output\x20audio\x20path:\x20','limit','text/event-stream','last','flowActive','):\x20Editando\x20replyOption...','replyOptions','):\x20Deletando\x20fluxo...','utf-8','WEBHOOK_EVENTS_CONTACTS_UPDATE','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','\x20inseridas\x20no\x20banco\x20de\x20dados...','insertMany','presence.update','GLOBAL','LOG_COLOR','EMAIL','g-t','Error\x20creating\x20group','createflow','sendWhatsAppAudio','notEqual','optionName','spawn','Not\x20is\x20business\x20profile','document','):\x20delete\x20=\x20true','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','No\x20join\x20group\x20invite\x20code\x20or\x20url','chatHandle','WARN','hDel','isBusiness','):\x20alterando\x20this.AutomateSystem','DD/MM\x20HH:mm:ss','URL:','noConnection','Deleted\x20','.webp','updatePrivacySettings','viewOnceMessage','reviver','):\x20updateResult:','):\x20Erro\x20ao\x20editar\x20agentes:\x20','):\x20Enviando\x20enquete','defineProperty','/exit','?authSource=admin&readPreference=primary&directConnection=true','findIndex','process','loadEnv','numbers','end','including\x20timestamp\x20in\x20url:\x20','ignoreGroups','format','generateHash','LEVEL','validate','padEnd','video-cover.png','local_map','client','poll_id','events','_activatedCount','send','scheduled','truncatedto','https://uazapi-plugin.bubbleapps.io/?url=','Getting\x20audio\x20from\x20url','getContentType','.TEL;waid=','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','axios','request\x20received\x20in\x20editFlowgroup','envProcess','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','subject','fetchMessages','Desconectado,\x20parando\x20execução.','text','Bad\x20Request','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','listMessage','sleep','Por\x20favor,\x20responda\x20à\x20última\x20enquete\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','https://github.com/uazapi/uazapi.git','deleteMany',',\x20Minutes\x20to\x20Close:\x20','toFile','assign','oldValue','instance','\x0aitem','ids','getAllData','processConditionsTest','sending','--agree-tos','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','stateConnection','$dbName','lastmsg','editflowreply','profile','json','Error\x20updating\x20participants','END:VCARD','uazapiDeleteMessage','isLong','ON\x20-\x20dbName:\x20','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','variables','groupUpdateSubject','request\x20received\x20in\x20getFlow','proto','lowerCase','static','defineAuthState','blockId','remote\x20\x22origin\x22','action','/:instanceName','updateReadReceiptsPrivacy','editflowgroup','pollCreationMessageKey','-instances','onWhatsApp','groupCreate','none','deletedCount','currency','messages.upsert','REDIS','blocks','The\x20global\x20api\x20key\x20must\x20be\x20set','tags','Invalid\x20\x22oldToken\x22','instanceKeys','editflowvaredit','cleaningUp','Erro\x20ao\x20normalizar\x20a\x20mensagem:','Instance\x20ID:','_Contacts','dbSettings','verifiedName','lastSend','3306256olNZoX','connect','TEL','request\x20received\x20in\x20deleteDoneMessages','contactMessage','normalizeMessage','notEmpty','jpegThumbnail','group\x20ignored','\x5cd+','Certbot:\x20','forEach','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','URL\x20limpa:\x20','sendMessage','Media\x20folder\x20path:','getBusinessProfile','uuid','Types','Validate','processblock','add','Erro\x20ao\x20buscar\x20conversas:\x20','messageContextInfo','COLOR','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','groups','statusMessage','createConnection','routerPath','AUTHENTICATION_TYPE','):\x20Error\x20processing\x20the\x20block:\x20','fone','lastSendMessage','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','Instance\x20\x22','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','\x1b[33m\x1b[1m','entries','READ','variable','webhookService','prepareMediaMessage',',\x20Expiration\x20Time:\x20','existsSync','updateStopChat','Error\x20change\x20group\x20setting','/instance','createConversationforStartFlow','method','pollCreationMessage','AutomateSystem','contains','connection.update','/message','Fetching\x20business\x20profile','@s.whatsapp.net','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','API\x20Key\x20inválida.','sections','WEBHOOK_EVENTS_PRESENCE_UPDATE','\x20is\x20already\x20in\x20use.','GROUP_PARTICIPANTS_UPDATE','folder','flowIgnoreGroups','CONFIG_SESSION_PHONE_NAME','editflowcondition','connectToWhatsapp','updateProfileStatus','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','updateMessage','updateAgent','.X-ABLabel:Celular\x0a','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','Group\x20not\x20found','Erro:','createClient','\x0a{\x20instance:\x20','messageTimestamp','replace','fileLength','lastCondition','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','apply','protocolMessage','\x1b[0m','):\x20Alterando\x20fluxo...','flowName','NO_IP','audio/ogg','Unauthorized','update','readreceipts','/webhook','badSession','isInteger','utf8','audio','):\x20Enviando\x20áudio','editOperator','Error\x20removing\x20profile\x20picture','_id','lean','dark','50mb','sendStatus','params','Erro\x20ao\x20editar\x20agentes:\x20','Content-Type','setWebhook','base64','authService','split','post','editFlowVaredit','Erro\x20ao\x20editar\x20a\x20conversa:\x20','sendPoll','CONTACTS_UPSERT','):\x20Conversa\x20está\x20expirada','updateGParticipant','Button\x20texts\x20cannot\x20be\x20repeated','Read\x20messages\x20fail','\x1b[37m%s\x1b[0m','No\x20participants','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','from','flowPrefixCommand','mongoose','toUpperCase','DARK','findById','repository','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','WEBHOOK_EVENTS_SEND_MESSAGE','FULLCHAIN','uazapiSendText','deleteConversation','WA\x20MODULE','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','chats','):\x20atualização\x20chat:\x20','views','<subdomain>','groups_ignore','dataValidate','DATABASE','certonly','arraybuffer','env.KEY\x20!==\x20key','QRCODE','flowStopConversation','realVariables','Parando\x20aplicação...','\x22\x20not\x20found','extractRegex','command','Content\x20is\x20required','start','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','dropCollection','verify','updateOne','copy','Image\x20converted\x20to\x20WebP','copyBlock','fetchProfile2','fetchInstances','test','binary','reconnectTimestamps','Db\x20Connection','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','.\x20Pulando.','sendCommand','):\x20this.processingScheduleMessageId:\x20','\x20não\x20encontrado\x20para\x20atualização.','redisCache','msgRetryCounterCache','promote','):\x20Procurando\x20conversa','Error\x20deleting\x20instance\x20from\x20memory.','HeaderType','uazapiSendMedia','whatsappNumber','keep-alive','latitude','audio/ogg;\x20codecs=opus','flowConfig','getContactModelForOwner','buttonText','):\x20debug\x20alterando\x20this.AutomateSystem','request\x20received\x20in\x20updateAgent','sign','errorLog','getScheduleMessage','The\x20property\x20cannot\x20be\x20empty','eventemitter2','announcement','sendReaction','Erro\x20ao\x20buscar\x20conversa:\x20','LOG','Tanto\x20id\x20quanto\x20owner\x20são\x20necessários\x20para\x20criar\x20ou\x20editar\x20um\x20chat.','sendText','waMonitor','\x5c$&','secondValue','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','fetchPrivacySettings','authState','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','remoteJid','find','varedits','File\x20written\x20to\x20path:\x20','SERVER','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','qrcode-terminal','Temp\x20image\x20deleted','KEY','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','findByIdAndDelete','env.yml','Comando\x20desconhecido','editConversation','connectionState','.sendDataWebhook-global','Log\x20out\x20instance:\x20','when','privacySettings','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','uazapiSendLocation','stdout','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','uazapi','created','readMessageBot','\x20-i\x20','Image\x20is\x20base64','):\x20Limpando\x20AutomateSystem','quotedMessage','archive','varedit','match','createWebhook','/group','getHours','):\x20Bloco\x20com\x20ID\x20','replaceVariablesInObject','SERVER_ACK','charAt','uncaughtException','isArray','GROUPS_UPDATE','DisconnectReason','certbot','WEBHOOK_EVENTS_MESSAGES_SET','SECRET','timerId','ephemeralMessage','contacts.update','buffer','779359yVPard','.png','Data\x20inválida\x20fornecida','http','endsWith','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','addresss','hGetAll','unavailable','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','mediaMessage','segundos','node-cache','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','downloadMediaMessage','eventHandler','order','newName','qrCode','selectedOptions','Imagem\x20não\x20encontrada','CORS_METHODS','minutesToClose','Missing\x20global\x20api\x20key','pop','REDIS_URI','Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...','variablesNotFound','DELIVERY_ACK','writeData','RECONNECT_TIME_FRAME','code','prepareWAMessageMedia','not\x20loaded','substring','messageHandle','type','PRODUCTION','_error','paused','some','fetchContacts','instanceName','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','unlinkSync','participant','fetchProfile','parse','DB_PREFIX_NAME','localWebhook','getStatus','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','presenceSubscribe','no.connection','node-mime-types','documentWithCaptionMessage','remove.instance','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','CLEANING_INTERVAL','):\x20Enviando\x20texto','.mp3','imageMessage','linkPreview','\x20\x1b[0m','The\x20instance\x20is\x20already\x20connected','updateReplyOption','):\x20conversation.lastInteraction:\x20','create','reorderBlocks','Error\x20updating\x20profile\x20name','userDevicesCache','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','Authentication\x20error','chats.delete','deleteOne','everyOne','insert','Unknown\x20message\x20type\x20or\x20empty\x20message','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','/instance/fetchInstances','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','FlowRouter','EVENTS','cpf','last_update','):\x20Deletando\x20mensagem','exec','@redis/client','#000000','StatusJidList\x20is\x20required','contextInfo','ReplyOption\x20com\x20ID\x20','archiveChat','owner','ContactModel','organization','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','longitude','cleanStore','state','audio/mp4','TRIAL_AD','conditions','updateOnlinePrivacy','stack','groupFetchAllParticipating','https://jsonip.com','getOwnPropertyNames','pollMessageOnDelete','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','/wa-contacts','apikey','includes','storePath','EXPIRIN_IN','findAndReplaceRegex','toggleEphemeral','):\x20Editando\x20bloco...','imagechat','/media/','group','equal','):\x20Criando\x20fluxo...','compression','.mp4','\x1b[32m%s\x1b[0m','groupParticipantsUpdate','Error\x20updating\x20setting','chats.upsert','^\x5cd+([-]\x5cd+)*@g.us$','STORE_CHATS','NextBlock','Connection\x20closed\x20for\x20instance:\x20','pollCreationMessageV2','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','fileName','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','Error\x20fetching\x20group','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','nextBlock:','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','Falta\x20informação\x20para\x20a\x20chamada\x20API','):\x20Buscando\x20flow...',',\x20saindo.','done','pollCreationMessageV3','getLastMessage','Message','updateParticipant','data:\x20','atendimentoAberto','notas','\x1b[42m','hSet','\x1b[33m%s\x1b[0m','groupadd','loggedOut','new.jwt','chatModify','replaceVariablesChat','DATABASE_CONNECTION_HOST','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','Error\x20in\x20markMessageAsRead:','saveConversationToDatabase','now','ENABLED','applyvaredit','):\x20Enviando\x20contato','_doc','6136398duUuVG','value','messageId','StartBot','scheduleSendMedia','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','getConversation','endSession','CHATS_DELETE','evaluateConditionTest','name','ORG:','setContext','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','pollOnReplyDelete','create\x20-\x20success','\x0aFN:','ip:\x20','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','Type\x20defined\x20as\x20audio','greater','PENDING','empty','TRIAL_INSTANCE_NAME','groups.upsert','setNewValue','Parando\x20aplicação,\x20atualização\x20recebida','Instância:\x20','object','waMonit','profilePictureUrl','Temp\x20audio\x20created','contactname','context','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','push','picture','LIMIT','closeExistingConversations','findGroups','selectableCount','REDIS_ENABLED','contentText','lastBlockId','archived','/chat','Não\x20respondeu\x20com\x20a\x20enquete.','STORE_CLEANING_TERMINAL','toLocaleString','/wa-qrcode','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','):\x20Buscando\x20conversas...','AutomateFunctions','findAndReplace','font','body','where','Flow\x20iniciado\x20com\x20','SUCCESS','JWT','scheduleSendAudio','uazapiSendContact','getAutomateSystem','SSL_CONF_FULLCHAIN','Forbidden','updateGroupPicture','createNewConversation','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','data','url','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','editFlowVariable','listen','size','updateStatusPrivacy','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','PLAYED','video','Revoke\x20error','\x20minutos','\x20chats\x20de\x20','findParticipants','CORS','):\x20Entrou\x20na\x20função\x20goToFlow','resetReconnectionVariables','markMessageAsRead','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','loadInstance','collection','image','WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE','?timestamp=','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','toLowerCase','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','floor','Button\x20IDs\x20cannot\x20be\x20repeated.','changeVariables','buttonId','createConversationforgoToFlow','\x1b[34m%s\x1b[0m','public','Converted\x20audio\x20deleted','groupJid','ButtonsMessage','customFields','status.instance','MESSAGES_UPDATE','setHeader','isURL','-whatsapp-api','isJidUser','Initial\x20__dirname:','WEBHOOK_MAP','Atualização:\x20','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','deleteInstance','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','PRESENCE_UPDATE','SEND_MESSAGE','leadInfo','set','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','reconnectAttempts','processApiRequest','unhandledRejection','backgroundColor','authModel','notContains','getProfileName','replyOption','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','HOST','getBase64FromMediaMessage','scheduleMessage','goToFlow','getMIMEType','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','ios','unreadcount','number','prototype','announce','):\x20newFirstValue\x20após\x20replaceVariables:','dbServer','gifPlayback','):\x20expirationTime:\x20','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','}}\x20->\x20valor\x20não\x20encontrado','messaging-history.set','pre','content','errno','height','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','stickerMessage','address','creds','replaceOne','editChat','processingScheduleMessageId','Erro\x20de\x20reinicialização:\x20','apirequest','emit','AUTHENTICATION_JWT_EXPIRIN_IN','qrcode.updated','audioMessage','CONNECTION','conversationTimestamp','chrome','buttonsMessage','messageSecret','/wa-connection-update','temp-','formatBRNumber','createServer','statusCode','unreadCount','WEBHOOK_EVENTS_CONTACTS_UPSERT','remove','Processing\x20audio','editflow','phoneNumber','mongodb://','710544zCxLep','244CJilyg','deleteBlock','waInstances','g.us','/instance/create','https://chat.whatsapp.com/','class-validator','webhook','sendAudio','CHATS_UPSERT','processUazapi','editFlowBlock','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','GUARD','mkdirSync','logger','AUTHENTICATION_JWT_SECRET','updateLastSeenPrivacy','MAX_RECONNECT_ATTEMPTS','):\x20Edit\x20schedule\x20message...','expiration','closed','cwd','\x22reaction\x22\x20must\x20be\x20an\x20emoji','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','request\x20received\x20in\x20createFlow','MESSAGES_UPSERT','Not\x20Found','MessageModel','CLIENT','flowname:\x20','instances','array','Logger','mentioned','remoteJids','Message\x20not\x20found','key','groupSetting','rm\x20-rf\x20','hGet','viewOnceMessageV2','isRunning','Font\x20is\x20required','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','function','less','open','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','mimetype','messages','fullName','notMatchRegex','execSync','\x20mensagens\x20de\x20','Full\x20file\x20path:','getRandomText','rows','errors',',\x20fará\x20nova\x20verificação\x20em\x20','waUploadToServer','Valor\x20inicial:\x20\x22','deleteReplyOption','error\x20get\x20vote','CHATS_UPDATE','getMessageModelForOwner','configService','useMultiFileAuthState','8080','pollMessage','mediaSticker','downloads','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','findChats','remoteJidsRemaining','revokeInviteCode','@whiskeysockets/baileys','deleteFlow','sendDataWebhook','writeStore','DATABASE_CONNECTION_USER','chats.update','upperCase','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','Início','status','editFlowReply','profilePicture','DEL_INSTANCE',',\x20lastCondition:\x20','subjectOwner','authorization','updateGroupsAddPrivacy','joinGroup','inviteCode','hasOwnProperty','matchRegex','MESSAGES_SET','):\x20Conversas\x20encontradas:','#ffffff','firstValue','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','Flow\x20não\x20encontrado','.refreshToken','groupHandler','addReplyOption','maxActives','):\x20Comando\x20desconhecido:\x20','sendSticker','role','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','long','store','not_announcement','readFileSync','option','findGroupInfos','env','removeData','participants','formatVCard','request\x20received\x20in\x20getConversation','leadInfo.desativadoFluxoAte','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','connectionStatus','lastReceivedMessage','get','filter','child_process','pollErrorMessage','):\x20Buscando\x20conversa...','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','reaction','valid','media','footerText','Valor\x20de\x20find\x20ou\x20replace\x20ausente','Method\x20not\x20implemented.','createInstance','and','SERVER_TYPE','delInstanceFiles','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','getOwnPropertyDescriptor','WEBHOOK_EVENTS_STATUS_INSTANCE','):\x20Campos\x20a\x20serem\x20atualizados:','WEBHOOK_EVENTS_GROUPS_UPDATE','collections','connecting','sendButtons','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','\x20contacts','connectionUpdate','chat','request\x20received\x20in\x20allFlows','request\x20received\x20in\x20editFlowvariable','capitalizedWords','@broadcast','isConnected','Enter\x20a\x20value\x20in\x20milliseconds','):\x20Criando\x20nova\x20conversa','inner','groupSettingUpdate','poll','):\x20isVote','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','prefixCommand','saveVariable','CONTACTS_SET','padStart','generateWAMessageFromContent','updateMany','\x20-\x20ON:\x20','PREFIX_KEY','Erro\x20ao\x20editar\x20o\x20bloco:\x20','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','Profile\x20not\x20found','stderr','audioWhatsapp','options','/events/:instance','EMAIL:','group-participants.update','dbInstance','agents','refused','getChatModelForOwner','request\x20received\x20in\x20scheduleMessage','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','):\x20Enviando\x20mídia','caption','replacer','toBrazilianNumberFormat','/clients-info','PRIVKEY','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','Audio\x20converted\x20to\x20mp4','save','jsonschema','chats.set','stopConversation','isJWT','subdomain','stoppedUntil','NAME','findConversation','saveMediaToFile','fromMe','\x20saindo\x20da\x20função','Telefone:\x20','lastMessage','Error\x20while\x20deleting\x20message\x20for\x20everyone','Subscribed\x20Events:','contacts.upsert','processConditions','processgoToFlow','DATABASE_CONNECTION_DB_PREFIX_NAME','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','request\x20received\x20in\x20editFlowcondition','createGroup','delInstanceTime','integer','Error\x20updating\x20message\x20status:','NODE_ENV','router','convertedOptions','write','removeProfilePicture','findGroupInfo','syscall','METHODS','encoding','string','Temp\x20audio\x20path:\x20','Instance\x20deleted','contactsArrayMessage','GROUPS_UPSERT','email','CHATS_SET','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','TEXT','Close\x20connection','editFlowGroup','pt-BR','parseInt','):\x20Editando\x20variável\x20do\x20fluxo...','groupName','newStoppedUntil','findMessages','presence','editflowvariable','Conexão\x20estabelecida','groupValidate','nomecompleto','QRCODE_UPDATED','repeat','detail','getFlow','\x22\x20-\x20REMOVED','updateBlock','\x1b[31m','WEBHOOK_GLOBAL_ENABLED','/wa-chats','error','statSync','Nenhum\x20chat\x20encontrado\x20para\x20editar.','waitingPoll_name','waitingPoll_id','TYPE','stopMinutes','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','addBlock','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','count','createJid',',\x20Resultado:\x20','chatLog','pushName','Type\x20is\x20required','scheduleSendText','):\x20newSecondValue\x20após\x20replaceVariables:','qrcode','findContacts','VERBOSE','sem\x20texto\x20na\x20mensagem','):\x20Fluxos\x20não\x20estão\x20ativados','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','generate','Temp\x20audio\x20deleted','Output\x20path:\x20','\x20não\x20encontrado','rowId',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','Original\x20filename:','delete','Trying\x20to\x20get\x20business\x20profile','getDevice','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','responsavelid','restart','CORS_CREDENTIALS','boolean','Conversa\x20deletada\x20com\x20sucesso.','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','bulkWrite','documentMessage','ObjectId','stringify','CORS_ORIGIN','readData','creds.json','restartInstance','map','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','leaveGroup','sendList','editedMessage','delay','videoMessage','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','logout','fetchChats','website','Certbot\x20executado\x20com\x20sucesso.','Converted\x20image\x20deleted','throwAndLogError','_p_','The\x20\x22','.uazapi.dev','isJidGroup','No\x20invite\x20code','groupMetadata','auth','Reinicialização\x20iniciada:\x20','):\x20Flow\x20não\x20encontrado','Type\x20not\x20found','stopIfLastReturnedError','flow','\x20minutos.\x20Será\x20às\x20','Error\x20update\x20group\x20picture','request\x20received\x20in\x20getAutomateSystem','/automate','delAll','URI','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','SSL_CONF','createFlow','joinGroupValidate','keys','redirect','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','title','fetchLatestBaileysVersion','\x20não\x20encontrado\x20para\x20cópia','updateConversation','14iGOQUl','hex','apiName','\x20-y','):\x20Editando\x20grupo\x20do\x20fluxo...','isBooleanString','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','rmSync','join','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','STATUS_INSTANCE','AUTHENTICATION_API_KEY','updateProfileName','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','eventEmitter','findWebhook','flowConversation','decryptPollVote','processvaredits','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','has','reference','):\x20não\x20encontrou','stopped','desc','/wa-presence','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','authentication','isBase64','convertToWebP','waitingPoll_replyOptions','exit','jid','2554278RIOaEU','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','goNextblock','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','query','The\x20instance\x20needs\x20to\x20be\x20disconnected','response','buttons','arrayUnique','startFlow','width','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','mongodb','slice','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','blockLogs','statusJidList','sort','https://','fetchProfilePicture','\x1b[34m','sendLocation','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','max','headers','conversation','interval\x20não\x20é\x20um\x20número','trim','OrAnd','lastInteraction','\x1b[47m','Bloco\x20com\x20ID\x20','formatStatusMessage','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','debug','condition','\x1b[33m','replaceVariablesInReplyOptions','):\x20Criou\x20conversa\x20no\x20startFlow:','):\x20Limpando\x20delayMessage','header','findFlow','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','fetchBusinessProfile','console','sendPresenceUpdate','initAuthCreds','flushHeaders','app-state-sync-key','scheduleNextCheck','):\x20Entrou\x20na\x20função\x20stop','length','readdirSync','Not\x20allowed\x20by\x20CORS','headerString','6395nNbZzq','readMessages','):\x20Buscando\x20todos\x20os\x20fluxos...','unlocked','AppStateSyncKeyData','SSL_CONF_PRIVKEY','newValue','\x1b[30m%s\x1b[0m','contactHandle','description','Error\x20updating\x20profile\x20picture','onTime','composing','trimmed','updateMediaMessage','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','PORT','*Pergunta*:\x20\x0a','contacts','jwt','AutomateSystem\x20não\x20foi\x20inicializado','):\x20Bloco\x20original\x20para\x20cópia:\x20','):\x20Editando\x20condição\x20do\x20fluxo...','replaceValue','release','PASSWORD','findOne','checkAndRestartProcess','removed','updateFlowConfig','Hash\x20to\x20image\x20name:\x20','https://api.ipify.org?format=json','vote','Operador:\x20\x22','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','allContacts','updateProfilePicturePrivacy','!cmd_','groupDesc','/wa-message-update','Schema','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','Erro\x20ao\x20atualizar\x20conversa:\x20','\x1b[1m','Error\x20writing\x20file:\x20','output','instance.','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','replaceVariablesLogs','creation','item','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','findGroup','Error\x20updating\x20profile\x20status','uazapiSendPoll','path','/wa-message','true','online','\x1b[36m%s\x1b[0m','):\x20','pollUpdateMessage','namespace','sticker','express','all','demote','message','DEBUG','WEBHOOK_EVENTS_CONNECTION_UPDATE','put','toString','deleteAll','!stop','splice','SERVER_PORT','optionDescription','vcard','stopMinutesMaxActives','API_KEY','oldToken','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','Connection','originalUrl','Image\x20path:\x20','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','Converting\x20audio\x20to\x20mp4','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','STORE_CONTACTS','loadWebhook','setting',',\x20qrcodeCount:\x20','\x20horas\x20e\x20','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','readFile','textMessage','uazapiSendAudio','load','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','drop','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','/*.json','redisEnv','setRestartTimer','dayjs','instanceInfo','ERROR',',\x20Segundo\x20Valor:\x20','metadata','Variável\x20não\x20encontrada!','DATABASE_CONNECTION_PASSWORD','getTime','mediatype','exists','mediaKey','viewOnceMessageV2Extension','moreLogs','.json','CONECTADO\x20À\x20UAZAPI','webhookMap','flattenObject','WEBHOOK_EVENTS_GROUPS_UPSERT','WEBHOOK_EVENTS_CHATS_DELETE','creds.update','WEBHOOK_EVENTS_NEW_JWT_TOKEN','):\x20Deletando\x20conversa...','WEBHOOK_GLOBAL_URL','recording','enumerable','displayName','locationMessage','verbose','updateProfilePicture','request\x20received\x20in\x20deleteConversation','replaceVariables','enabled','contact_blacklist','):\x20tem\x20blocks','):\x20Flow\x20desativado','40imbuhN'];a0_0x211a=function(){return _0x280af1;};return a0_0x211a();}var I=M?.['model'](es['name'],Ks,a0_0xe6bdb1(0x551)),Po=new O[(a0_0xe6bdb1(0x5e5))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[os],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[_o]},{'_id':!0x1}),ts=class{},xo=new O[(a0_0xe6bdb1(0x5e5))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[os],'blocks':[Ws],'groups':[qs],'conditions':[Gs],'varedits':[Hs],'replyOptions':{'type':[Zt],'default':[]},'chatLog':Po,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0xe6bdb1(0x42d)},'waitingPoll_id':{'type':String},'waitingPoll_name':{'type':String},'waitingPoll_replyOptions':{'type':[Zt],'default':[]}}),j=M?.[a0_0xe6bdb1(0x665)](ts[a0_0xe6bdb1(0x34d)],xo,a0_0xe6bdb1(0x575)),ss=class{},$o=new O[(a0_0xe6bdb1(0x5e5))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ko=new O[(a0_0xe6bdb1(0x5e5))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),Lo=new O[(a0_0xe6bdb1(0x5e5))]({'owner':{'type':String},'status':{'type':String,'default':a0_0xe6bdb1(0x727)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':ko,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[$o],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),U=M?.[a0_0xe6bdb1(0x665)](ss['name'],Lo,'scheduleMessages'),as=class{},Uo=new O[(a0_0xe6bdb1(0x5e5))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Vo=new O[(a0_0xe6bdb1(0x5e5))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0xe6bdb1(0x606)},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),Jo=new O[(a0_0xe6bdb1(0x5e5))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),jo=new O[(a0_0xe6bdb1(0x5e5))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Jo]},'customFields':{'type':[Uo]},'flowConfig':{'type':Vo,'default':{}}}),ae=M?.[a0_0xe6bdb1(0x665)](as[a0_0xe6bdb1(0x34d)],jo,a0_0xe6bdb1(0x1c7)),he=require('fs'),is=require(a0_0xe6bdb1(0x5f4)),W=class{constructor(_0x78bafd){const _0x3416b7=a0_0xe6bdb1;this[_0x3416b7(0x30b)]=(0x0,is[_0x3416b7(0x56c)])(Q,'store'),this[_0x3416b7(0x44d)]=_0x3c55d9=>{const _0x1fc8d0=_0x3416b7;(0x0,he[_0x1fc8d0(0x1c0)])(_0x3c55d9['path'])||(0x0,he[_0x1fc8d0(0x40c)])(_0x3c55d9[_0x1fc8d0(0x5f4)],{'recursive':!0x0});try{return(0x0,he['writeFileSync'])((0x0,is['join'])(_0x3c55d9[_0x1fc8d0(0x5f4)],_0x3c55d9['fileName']+_0x1fc8d0(0x633)),JSON[_0x1fc8d0(0x533)]({..._0x3c55d9[_0x1fc8d0(0x388)]}),{'encoding':_0x1fc8d0(0x6ec)}),{'message':_0x1fc8d0(0x352)};}finally{_0x3c55d9['data']=void 0x0;}},this['dbSettings']=_0x78bafd[_0x3416b7(0x47c)](_0x3416b7(0x225));}[a0_0xe6bdb1(0x2e6)](_0x509741,_0x306dc5=!0x1){const _0x5dcd42=a0_0xe6bdb1;throw new Error(_0x5dcd42(0x487));}[a0_0xe6bdb1(0x268)](_0x1b7542){throw new Error('Method\x20not\x20implemented.');}['delete'](_0x36eaa0,_0x381af2){const _0x489254=a0_0xe6bdb1;throw new Error(_0x489254(0x487));}},xe=class{},$e=class extends W{constructor(_0x54b529){const _0x2eca78=a0_0xe6bdb1;super(_0x54b529),this[_0x2eca78(0x440)]=_0x54b529;}[a0_0xe6bdb1(0x43f)](_0x3d2323){return Us(_0x3d2323);}async['insert'](_0x29b129){const _0xdb57c6=a0_0xe6bdb1;if(_0x29b129[_0xdb57c6(0x5b9)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x29b129[0x0]['owner'])[_0xdb57c6(0x6f0)]([..._0x29b129]))[_0xdb57c6(0x5b9)]};}catch(_0x12b1a7){return console[_0xdb57c6(0x6c7)]('ERROR:\x20',_0x12b1a7),_0x12b1a7;}}async['find'](_0x295a91){const _0x83904d=a0_0xe6bdb1;try{let _0x25645c=this[_0x83904d(0x43f)](_0x295a91[_0x83904d(0x37c)][_0x83904d(0x2f7)]);if(_0x295a91?.[_0x83904d(0x37c)]?.[_0x83904d(0x423)]){for(let [_0x495e04,_0xe39895]of Object[_0x83904d(0x1ba)](_0x295a91[_0x83904d(0x37c)][_0x83904d(0x423)]))_0x295a91['where']['key.'+_0x495e04]=_0xe39895;delete _0x295a91?.[_0x83904d(0x37c)]?.[_0x83904d(0x423)];}return await _0x25645c[_0x83904d(0x268)]({..._0x295a91['where']})[_0x83904d(0x597)]({'messageTimestamp':-0x1})[_0x83904d(0x6e5)](_0x295a91?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0xe6bdb1(0x526)](_0x31228a){const _0x20fbc6=a0_0xe6bdb1;try{await this[_0x20fbc6(0x43f)](_0x31228a[_0x20fbc6(0x37c)][_0x20fbc6(0x2f7)])['deleteMany']({..._0x31228a[_0x20fbc6(0x37c)]});}catch(_0x4a3d92){console[_0x20fbc6(0x507)](_0x4a3d92);}}async[a0_0xe6bdb1(0x1ef)](_0x26125f,_0x52ed2e){const _0x59b948=a0_0xe6bdb1;try{return await this[_0x59b948(0x43f)](_0x26125f[_0x59b948(0x37c)][_0x59b948(0x2f7)])[_0x59b948(0x67b)]({..._0x26125f[_0x59b948(0x37c)]},{'$set':_0x52ed2e},{'new':!0x0});}catch(_0x47b8d5){throw console[_0x59b948(0x507)](_0x47b8d5),_0x47b8d5;}}async[a0_0xe6bdb1(0x6f0)](_0x3f0686){const _0x379233=a0_0xe6bdb1;if(_0x3f0686[_0x379233(0x5b9)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x379233(0x43f)](_0x3f0686[0x0][_0x379233(0x2f7)])[_0x379233(0x6f0)]([..._0x3f0686]))[_0x379233(0x5b9)]};}catch(_0x277958){return console[_0x379233(0x6c7)]('ERROR:\x20',_0x277958),_0x277958;}}async[a0_0xe6bdb1(0x605)](_0x6611f0){const _0x254cb8=a0_0xe6bdb1;try{return await this[_0x254cb8(0x43f)](_0x6611f0)['collection'][_0x254cb8(0x620)](),{'success':!0x0};}catch(_0x15f0eb){return console[_0x254cb8(0x507)](_0x15f0eb),{'success':!0x1,'error':_0x15f0eb};}}},te=require('fs'),Xa=T(require('@ffmpeg-installer/ffmpeg')),w=T(require(a0_0xe6bdb1(0x44a))),Te=require('fs'),k=T(require(a0_0xe6bdb1(0x5f4))),ce=T(require(a0_0xe6bdb1(0x72e))),Za=require(a0_0xe6bdb1(0x1a5)),eo=T(require('qrcode')),to=T(require(a0_0xe6bdb1(0x26d))),zs=[a0_0xe6bdb1(0x2d7),a0_0xe6bdb1(0x531),a0_0xe6bdb1(0x3eb),a0_0xe6bdb1(0x53e),a0_0xe6bdb1(0x3e0)],Qs=[a0_0xe6bdb1(0x297),'documentWithCaptionMessage','viewOnceMessage',a0_0xe6bdb1(0x427)],so=require('os'),Mt=T(require('pino')),Dt=require(a0_0xe6bdb1(0x47e)),At=require(a0_0xe6bdb1(0x2d0)),pe=T(require(a0_0xe6bdb1(0x213))),P=require(a0_0xe6bdb1(0x404)),fe=class{constructor(_0x314cb0,_0x335343,_0x6d2f6){const _0x1140a5=a0_0xe6bdb1;this[_0x1140a5(0x585)]=_0x314cb0,this['exists']=_0x335343,this[_0x1140a5(0x34d)]=_0x6d2f6;}},ke=class{},Le=class{},Se=class{},Ue=class{},Ve=class{},we=class{},Je=class{},je=class{},Fe=class{},Be=class{},vt=T(require(a0_0xe6bdb1(0x5fd))),Ys=require('fs'),Xs=require(a0_0xe6bdb1(0x5f4));async function qe(_0x12aaa4){const _0x19b93a=a0_0xe6bdb1;let _0x22b691=F[_0x19b93a(0x400)][_0x12aaa4];if(G[_0x19b93a(0x33f)]){let _0x2afa31=M[_0x19b93a(0x668)]()['db'](G[_0x19b93a(0x3ec)][_0x19b93a(0x2ca)]+'-instances')[_0x19b93a(0x39c)](_0x12aaa4);return _0x22b691||(await _0x2afa31[_0x19b93a(0x268)]({})[_0x19b93a(0x6b4)]())['length']>0x0;}return _0x22b691||(0x0,Ys['existsSync'])((0x0,Xs[_0x19b93a(0x56c)])(J,_0x12aaa4));}async function rs(_0x506d61,_0x5a13b6,_0x3d355e){const _0x3eaf79=a0_0xe6bdb1;if(_0x506d61['originalUrl'][_0x3eaf79(0x30a)](_0x3eaf79(0x402))||_0x506d61['originalUrl']['includes'](_0x3eaf79(0x2e9))||_0x506d61[_0x3eaf79(0x610)]['includes'](_0x3eaf79(0x712)))return _0x3d355e();let _0x5f1595=_0x506d61[_0x3eaf79(0x1fe)];if(!_0x5f1595?.[_0x3eaf79(0x2c4)])throw new g('instanceName\x20not\x20provided.');if(!await qe(_0x5f1595[_0x3eaf79(0x2c4)]))throw new $('The\x20'+_0x5f1595[_0x3eaf79(0x2c4)]+'\x20instance\x20does\x20not\x20exist');_0x3d355e();}async function Zs(_0x16aea9,_0x5921bd,_0x71a185){const _0x343f7c=a0_0xe6bdb1;if(_0x16aea9[_0x343f7c(0x610)][_0x343f7c(0x30a)](_0x343f7c(0x402))){let _0x2a719d=_0x16aea9[_0x343f7c(0x37b)];if(await qe(_0x2a719d[_0x343f7c(0x2c4)]))throw new oe('This\x20name\x20'+_0x2a719d[_0x343f7c(0x2c4)]+_0x343f7c(0x1d1));F[_0x343f7c(0x400)][_0x2a719d[_0x343f7c(0x2c4)]]&&delete F[_0x343f7c(0x400)][_0x2a719d[_0x343f7c(0x2c4)]];}_0x71a185();}var ea=require('class-validator'),ta=T(require(a0_0xe6bdb1(0x6ae))),Ge=a0_0xe6bdb1(0x27e),Bo=new C(a0_0xe6bdb1(0x40b));async function qo(_0x2dd34b,_0x182799,_0x53ba){const _0x3fa1f7=a0_0xe6bdb1;let _0x102d54=_0x2dd34b[_0x3fa1f7(0x47c)](_0x3fa1f7(0x309));if(_0x102d54&&S['get'](_0x3fa1f7(0x67a))[_0x3fa1f7(0x60c)]['KEY']!==_0x102d54)throw new ie();if(S[_0x3fa1f7(0x47c)](_0x3fa1f7(0x67a))[_0x3fa1f7(0x60c)][_0x3fa1f7(0x26f)]===_0x102d54)return _0x53ba();if((_0x2dd34b[_0x3fa1f7(0x610)][_0x3fa1f7(0x30a)]('/instance/create')||_0x2dd34b[_0x3fa1f7(0x610)]['includes']('/instance/fetchInstances'))&&!_0x102d54)throw new oe(_0x3fa1f7(0x2b1),_0x3fa1f7(0x188));let _0x10db38=S[_0x3fa1f7(0x47c)](_0x3fa1f7(0x67a))[_0x3fa1f7(0x37f)];try{let [_0x5e1b13,_0x4f3c18]=_0x2dd34b[_0x3fa1f7(0x47c)](_0x3fa1f7(0x459))['split']('\x20');if(_0x5e1b13[_0x3fa1f7(0x3a1)]()!==_0x3fa1f7(0x6dc))throw new ie();if(!(0x0,ea[_0x3fa1f7(0x4c9)])(_0x4f3c18))throw new ie();let _0x28ca37=_0x2dd34b[_0x3fa1f7(0x1fe)],_0x311174=ta[_0x3fa1f7(0x6cd)]['verify'](_0x4f3c18,_0x10db38[_0x3fa1f7(0x295)],{'ignoreExpiration':_0x10db38['EXPIRIN_IN']===0x0});if(_0x28ca37[_0x3fa1f7(0x2c4)]!==_0x311174[_0x3fa1f7(0x2c4)]||Ge!==_0x311174[_0x3fa1f7(0x566)])throw new ie();return _0x53ba();}catch(_0x1600f8){throw Bo[_0x3fa1f7(0x507)](_0x1600f8),new ie();}}async function Go(_0x208429,_0x1d67d8,_0x4f018d){const _0x1c0797=a0_0xe6bdb1;let _0x22fd17=S[_0x1c0797(0x47c)](_0x1c0797(0x67a))[_0x1c0797(0x60c)],_0x43f7dd=_0x208429[_0x1c0797(0x47c)](_0x1c0797(0x309));if(_0x22fd17['KEY']===_0x43f7dd)return _0x4f018d();if(_0x208429['originalUrl'][_0x1c0797(0x30a)]('/instance/create')){let _0xac08a2=S[_0x1c0797(0x47c)](_0x1c0797(0x35a)),_0x53244e=_0x208429['body']['instanceName'];if(_0xac08a2&&_0x53244e[_0x1c0797(0x3a1)]()['startsWith'](_0xac08a2[_0x1c0797(0x3a1)]()))return _0x4f018d();if(!_0x43f7dd)throw new oe('Missing\x20global\x20api\x20key',_0x1c0797(0x188));}if(_0x208429[_0x1c0797(0x610)][_0x1c0797(0x30a)](_0x1c0797(0x2e9))&&!_0x43f7dd)throw new oe('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x208429['originalUrl'][_0x1c0797(0x30a)]('/exit')&&!_0x43f7dd)throw new oe('Missing\x20global\x20api\x20key',_0x1c0797(0x188));try{let _0x3a7025=_0x208429[_0x1c0797(0x1fe)];if((await le[_0x1c0797(0x54c)][_0x1c0797(0x268)](_0x3a7025[_0x1c0797(0x2c4)]))[_0x1c0797(0x309)]===_0x43f7dd)return _0x4f018d();}catch{}throw new ie();}var sa={'jwt':qo,'apikey':Go},ka=require(a0_0xe6bdb1(0x5fd)),v=require(a0_0xe6bdb1(0x1a5)),E=(..._0x323d65)=>{const _0x4cbba7=a0_0xe6bdb1;let _0x41ad46={};return _0x323d65[_0x4cbba7(0x19f)](_0x39b6cb=>_0x41ad46[_0x39b6cb]={'minLength':0x1,'description':_0x4cbba7(0x547)+_0x39b6cb+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x323d65]}},'then':{'properties':_0x41ad46}};},N={'$id':(0x0,v['v4'])(),'type':'object','properties':{'instanceName':{'type':a0_0xe6bdb1(0x4e8)}},...E(a0_0xe6bdb1(0x2c4))},aa={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'oldToken':{'type':'string'}},'required':[a0_0xe6bdb1(0x60d)],...E('oldToken')},gn={'properties':{'key':{'type':a0_0xe6bdb1(0x35f),'properties':{'id':{'type':a0_0xe6bdb1(0x4e8)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0xe6bdb1(0x52d),'enum':[!0x0,!0x1]}},'required':['id',a0_0xe6bdb1(0x267),a0_0xe6bdb1(0x4cf)],...E('id',a0_0xe6bdb1(0x267))},'message':{'type':a0_0xe6bdb1(0x35f)}}},Y={'properties':{'delay':{'type':'integer','description':a0_0xe6bdb1(0x49d)},'presence':{'type':a0_0xe6bdb1(0x4e8),'enum':[a0_0xe6bdb1(0x2a2),a0_0xe6bdb1(0x673),a0_0xe6bdb1(0x5c9),a0_0xe6bdb1(0x63d),a0_0xe6bdb1(0x2c1)]}}},X={'type':a0_0xe6bdb1(0x4e8),'pattern':'^\x5cd+[\x5c.@\x5cw-]+','description':'Invalid\x20format'},oa={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'number':{...X},'options':{...Y},'textMessage':{'type':a0_0xe6bdb1(0x35f),'properties':{'text':{'type':a0_0xe6bdb1(0x4e8)}},'required':[a0_0xe6bdb1(0x151)],...E(a0_0xe6bdb1(0x151))}},'required':[a0_0xe6bdb1(0x61c),a0_0xe6bdb1(0x3d1)]},ia={'type':a0_0xe6bdb1(0x4e8),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0xe6bdb1(0x64e)},mn={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'number':{...ia},'options':{...Y},'textMessage':{'type':'object','properties':{'text':{'type':'string'}},'required':[a0_0xe6bdb1(0x151)],...E(a0_0xe6bdb1(0x151))}},'required':[a0_0xe6bdb1(0x61c),a0_0xe6bdb1(0x3d1)]},hn={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'number':{...ia},'options':{...Y},'mediaMessage':{'type':a0_0xe6bdb1(0x35f),'properties':{'mediatype':{'type':a0_0xe6bdb1(0x4e8),'enum':[a0_0xe6bdb1(0x39d),a0_0xe6bdb1(0x6fd),a0_0xe6bdb1(0x391),'audio']},'media':{'type':'string'},'fileName':{'type':a0_0xe6bdb1(0x4e8)},'caption':{'type':'string'}},'required':[a0_0xe6bdb1(0x62e),a0_0xe6bdb1(0x484)],...E('fileName',a0_0xe6bdb1(0x4be),a0_0xe6bdb1(0x484))}},'required':[a0_0xe6bdb1(0x2a4),a0_0xe6bdb1(0x3d1)]},ra={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'number':{...X},'options':{...Y},'stickerMessage':{'type':a0_0xe6bdb1(0x35f),'properties':{'image':{'type':'string'}},'required':[a0_0xe6bdb1(0x39d)],...E(a0_0xe6bdb1(0x39d))}},'required':[a0_0xe6bdb1(0x3e0),'number']},na={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'statusMessage':{'type':a0_0xe6bdb1(0x35f),'properties':{'type':{'type':a0_0xe6bdb1(0x4e8),'enum':[a0_0xe6bdb1(0x151),'image',a0_0xe6bdb1(0x1f5),a0_0xe6bdb1(0x391)]},'content':{'type':a0_0xe6bdb1(0x4e8)},'caption':{'type':a0_0xe6bdb1(0x4e8)},'backgroundColor':{'type':a0_0xe6bdb1(0x4e8)},'font':{'type':a0_0xe6bdb1(0x4dd),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0xe6bdb1(0x41e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xe6bdb1(0x4e8),'pattern':'^\x5cd+','description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0xe6bdb1(0x52d),'enum':[!0x0,!0x1]}},'required':['type',a0_0xe6bdb1(0x3dc)],...E('type',a0_0xe6bdb1(0x3dc))}},'required':[a0_0xe6bdb1(0x1af)]},ca={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'number':{...X},'options':{...Y},'mediaMessage':{'type':a0_0xe6bdb1(0x35f),'properties':{'mediatype':{'type':'string','enum':['image',a0_0xe6bdb1(0x6fd),a0_0xe6bdb1(0x391),'audio']},'media':{'type':a0_0xe6bdb1(0x4e8)},'fileName':{'type':a0_0xe6bdb1(0x4e8)},'caption':{'type':a0_0xe6bdb1(0x4e8)}},'required':[a0_0xe6bdb1(0x62e),a0_0xe6bdb1(0x484)],...E('fileName',a0_0xe6bdb1(0x4be),a0_0xe6bdb1(0x484))}},'required':[a0_0xe6bdb1(0x2a4),a0_0xe6bdb1(0x3d1)]},la={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'number':{...X},'options':{...Y},'audioMessage':{'type':a0_0xe6bdb1(0x35f),'properties':{'audio':{'type':a0_0xe6bdb1(0x4e8)}},'required':[a0_0xe6bdb1(0x1f5)],...E('audio')}},'required':[a0_0xe6bdb1(0x3eb),'number']},ua={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'number':{...X},'pollMessage':{'type':a0_0xe6bdb1(0x35f),'properties':{'name':{'type':a0_0xe6bdb1(0x4e8)},'selectableCount':{'type':a0_0xe6bdb1(0x3d1)},'values':{'type':a0_0xe6bdb1(0x41e),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0xe6bdb1(0x34d),a0_0xe6bdb1(0x36c),a0_0xe6bdb1(0x68d)],...E(a0_0xe6bdb1(0x34d),'selectableCount',a0_0xe6bdb1(0x68d))}},'required':['number','pollMessage']},da={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'number':{...X},'options':{...Y},'buttonMessage':{'type':a0_0xe6bdb1(0x35f),'properties':{'title':{'type':'string'},'description':{'type':a0_0xe6bdb1(0x4e8)},'footerText':{'type':a0_0xe6bdb1(0x4e8)},'buttons':{'type':a0_0xe6bdb1(0x41e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xe6bdb1(0x35f),'properties':{'buttonText':{'type':a0_0xe6bdb1(0x4e8)},'buttonId':{'type':a0_0xe6bdb1(0x4e8)}},'required':[a0_0xe6bdb1(0x251),a0_0xe6bdb1(0x3a6)],...E(a0_0xe6bdb1(0x251),a0_0xe6bdb1(0x3a6))}},'mediaMessage':{'type':'object','properties':{'media':{'type':a0_0xe6bdb1(0x4e8)},'fileName':{'type':'string'},'mediatype':{'type':a0_0xe6bdb1(0x4e8),'enum':[a0_0xe6bdb1(0x39d),'document',a0_0xe6bdb1(0x391)]}},'required':[a0_0xe6bdb1(0x484),a0_0xe6bdb1(0x62e)],...E(a0_0xe6bdb1(0x484),'fileName')}},'required':[a0_0xe6bdb1(0x560),'buttons'],...E(a0_0xe6bdb1(0x560),a0_0xe6bdb1(0x5c6))}},'required':[a0_0xe6bdb1(0x3d1),'buttonMessage']},pa={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'number':{...X},'options':{...Y},'locationMessage':{'type':a0_0xe6bdb1(0x35f),'properties':{'latitude':{'type':a0_0xe6bdb1(0x3d1)},'longitude':{'type':a0_0xe6bdb1(0x3d1)},'name':{'type':a0_0xe6bdb1(0x4e8)},'address':{'type':a0_0xe6bdb1(0x4e8)}},'required':['latitude',a0_0xe6bdb1(0x2fb)],...E(a0_0xe6bdb1(0x34d),a0_0xe6bdb1(0x2a0))}},'required':['number',a0_0xe6bdb1(0x640)]},ga={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'number':{...X},'options':{...Y},'listMessage':{'type':a0_0xe6bdb1(0x35f),'properties':{'title':{'type':'string'},'description':{'type':a0_0xe6bdb1(0x4e8)},'footerText':{'type':a0_0xe6bdb1(0x4e8)},'buttonText':{'type':a0_0xe6bdb1(0x4e8)},'sections':{'type':a0_0xe6bdb1(0x41e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xe6bdb1(0x35f),'properties':{'title':{'type':a0_0xe6bdb1(0x4e8)},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0xe6bdb1(0x4e8)},'description':{'type':a0_0xe6bdb1(0x4e8)},'rowId':{'type':a0_0xe6bdb1(0x4e8)}},'required':[a0_0xe6bdb1(0x560),'description',a0_0xe6bdb1(0x523)],...E(a0_0xe6bdb1(0x560),a0_0xe6bdb1(0x5c6),'rowId')}}},'required':['title',a0_0xe6bdb1(0x437)],...E(a0_0xe6bdb1(0x560))}}},'required':[a0_0xe6bdb1(0x560),'description',a0_0xe6bdb1(0x251),a0_0xe6bdb1(0x1cf)],...E(a0_0xe6bdb1(0x560),a0_0xe6bdb1(0x5c6),a0_0xe6bdb1(0x251),a0_0xe6bdb1(0x485))}},'required':[a0_0xe6bdb1(0x3d1),'listMessage']},ma={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'options':{...Y},'contactMessage':{'type':a0_0xe6bdb1(0x41e),'items':{'type':a0_0xe6bdb1(0x35f),'properties':{'fullName':{'type':a0_0xe6bdb1(0x4e8)},'phoneNumber':{'type':a0_0xe6bdb1(0x4e8),'minLength':0xa}},'required':[a0_0xe6bdb1(0x431),a0_0xe6bdb1(0x3fb)],...E(a0_0xe6bdb1(0x431))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0xe6bdb1(0x3d1),a0_0xe6bdb1(0x198)]},ha={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'reactionMessage':{'type':a0_0xe6bdb1(0x35f),'properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0xe6bdb1(0x4e8)},'fromMe':{'type':a0_0xe6bdb1(0x52d),'enum':[!0x0,!0x1]}},'required':['id',a0_0xe6bdb1(0x267),a0_0xe6bdb1(0x4cf)],...E('id',a0_0xe6bdb1(0x267))},'reaction':{'type':a0_0xe6bdb1(0x4e8)}},'required':[a0_0xe6bdb1(0x423),a0_0xe6bdb1(0x482)],...E(a0_0xe6bdb1(0x482))}},'required':['reactionMessage']},fa={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'numbers':{'type':a0_0xe6bdb1(0x41e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0xe6bdb1(0x66a),'description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},wa={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'readMessages':{'type':a0_0xe6bdb1(0x41e),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0xe6bdb1(0x4e8)},'fromMe':{'type':a0_0xe6bdb1(0x52d),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0xe6bdb1(0x4e8)}},'required':['id','fromMe',a0_0xe6bdb1(0x267)],...E('id',a0_0xe6bdb1(0x267))}}},'required':[a0_0xe6bdb1(0x5be)]},ya={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'privacySettings':{'type':a0_0xe6bdb1(0x35f),'properties':{'readreceipts':{'type':a0_0xe6bdb1(0x4e8),'enum':[a0_0xe6bdb1(0x5fe),a0_0xe6bdb1(0x182)]},'profile':{'type':a0_0xe6bdb1(0x4e8),'enum':['all',a0_0xe6bdb1(0x5cf),'contact_blacklist',a0_0xe6bdb1(0x182)]},'status':{'type':a0_0xe6bdb1(0x4e8),'enum':[a0_0xe6bdb1(0x5fe),a0_0xe6bdb1(0x5cf),'contact_blacklist',a0_0xe6bdb1(0x182)]},'online':{'type':a0_0xe6bdb1(0x4e8),'enum':[a0_0xe6bdb1(0x5fe),'match_last_seen']},'last':{'type':a0_0xe6bdb1(0x4e8),'enum':[a0_0xe6bdb1(0x5fe),a0_0xe6bdb1(0x5cf),a0_0xe6bdb1(0x646),a0_0xe6bdb1(0x182)]},'groupadd':{'type':'string','enum':['all',a0_0xe6bdb1(0x5cf),a0_0xe6bdb1(0x646),'none']}},'required':['readreceipts','profile',a0_0xe6bdb1(0x453),a0_0xe6bdb1(0x5f7),'last',a0_0xe6bdb1(0x335)],...E('readreceipts',a0_0xe6bdb1(0x169),'status',a0_0xe6bdb1(0x5f7),a0_0xe6bdb1(0x6e7),a0_0xe6bdb1(0x335))}},'required':[a0_0xe6bdb1(0x279)]},ba={'$id':(0x0,v['v4'])(),'type':'object','properties':{'lastMessage':{'type':a0_0xe6bdb1(0x35f),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0xe6bdb1(0x4e8)},'remoteJid':{'type':a0_0xe6bdb1(0x4e8)},'fromMe':{'type':a0_0xe6bdb1(0x52d),'enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0xe6bdb1(0x267)],...E('id',a0_0xe6bdb1(0x267))},'messageTimestamp':{'type':a0_0xe6bdb1(0x4dd),'minLength':0x1}},'required':[a0_0xe6bdb1(0x423)],...E(a0_0xe6bdb1(0x1e2))},'archive':{'type':a0_0xe6bdb1(0x52d),'enum':[!0x0,!0x1]}},'required':['lastMessage','archive']},Sa={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'id':{'type':a0_0xe6bdb1(0x4e8)},'fromMe':{'type':a0_0xe6bdb1(0x52d),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0xe6bdb1(0x4e8)}},'required':['id','fromMe',a0_0xe6bdb1(0x267)],...E('id',a0_0xe6bdb1(0x267),a0_0xe6bdb1(0x2c7))},Ea={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0xe6bdb1(0x4e8),'minLength':0x1},'id':{'type':a0_0xe6bdb1(0x4e8),'minLength':0x1}},...E(a0_0xe6bdb1(0x1f9),'id',a0_0xe6bdb1(0x515))}}},va={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'name':{'type':a0_0xe6bdb1(0x4e8)}},...E(a0_0xe6bdb1(0x34d))},Na={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'status':{'type':'string'}},...E('status')},Ee={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'number':{'type':a0_0xe6bdb1(0x4e8)},'picture':{'type':a0_0xe6bdb1(0x4e8)}}},Ca={'type':a0_0xe6bdb1(0x35f),'properties':{'wuid':{'type':a0_0xe6bdb1(0x4e8)},'name':{'type':'string'},'picture':{'type':a0_0xe6bdb1(0x4e8)},'status':{'type':'string'},'isBusiness':{'type':a0_0xe6bdb1(0x52d)}}},Ta={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'where':{'type':a0_0xe6bdb1(0x35f),'properties':{'_id':{'type':a0_0xe6bdb1(0x4e8),'minLength':0x1},'key':{'type':a0_0xe6bdb1(0x35f),'if':{'propertyNames':{'enum':[a0_0xe6bdb1(0x4cf),a0_0xe6bdb1(0x267),'id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0xe6bdb1(0x257)},'id':{'type':a0_0xe6bdb1(0x4e8),'minLength':0x1,'description':a0_0xe6bdb1(0x257)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0xe6bdb1(0x35f)}},...E(a0_0xe6bdb1(0x1f9))},'limit':{'type':'integer'}}},fn={'$id':(0x0,v['v4'])(),'type':'object','properties':{'where':{'type':a0_0xe6bdb1(0x35f),'properties':{'_id':{'type':a0_0xe6bdb1(0x4e8)},'remoteJid':{'type':a0_0xe6bdb1(0x4e8)},'id':{'type':a0_0xe6bdb1(0x4e8)},'fromMe':{'type':a0_0xe6bdb1(0x52d),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':'string','enum':[a0_0xe6bdb1(0x628),'PENDING',a0_0xe6bdb1(0x28d),a0_0xe6bdb1(0x2b6),a0_0xe6bdb1(0x1bb),a0_0xe6bdb1(0x390)]}},...E('_id',a0_0xe6bdb1(0x267),'id',a0_0xe6bdb1(0x453))},'limit':{'type':'integer'}}},Ra={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'number':{...X},'presence':{'type':a0_0xe6bdb1(0x4e8),'enum':[a0_0xe6bdb1(0x2a2),'available','composing',a0_0xe6bdb1(0x63d),a0_0xe6bdb1(0x2c1)]}},'required':[a0_0xe6bdb1(0x4f9),a0_0xe6bdb1(0x3d1)]},Ma={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'subject':{'type':a0_0xe6bdb1(0x4e8)},'description':{'type':'string'},'profilePicture':{'type':a0_0xe6bdb1(0x4e8)},'participants':{'type':a0_0xe6bdb1(0x41e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0xe6bdb1(0x19d),'description':a0_0xe6bdb1(0x29f)}}},'required':[a0_0xe6bdb1(0x14e),a0_0xe6bdb1(0x475)],...E(a0_0xe6bdb1(0x14e),'description',a0_0xe6bdb1(0x455))},ve={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'groupJid':{'type':'string','pattern':a0_0xe6bdb1(0x31b)}},'required':[a0_0xe6bdb1(0x3ab)],...E('groupJid')},Aa={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'groupJid':{'type':a0_0xe6bdb1(0x4e8)},'action':{'type':a0_0xe6bdb1(0x4e8),'enum':['add',a0_0xe6bdb1(0x3f8),a0_0xe6bdb1(0x246),a0_0xe6bdb1(0x5ff)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xe6bdb1(0x4e8),'minLength':0xa,'pattern':a0_0xe6bdb1(0x19d),'description':a0_0xe6bdb1(0x29f)}}},'required':[a0_0xe6bdb1(0x3ab),a0_0xe6bdb1(0x17a),a0_0xe6bdb1(0x475)],...E(a0_0xe6bdb1(0x3ab),a0_0xe6bdb1(0x17a))},Ia={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0xe6bdb1(0x3d1),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0xe6bdb1(0x412)],...E(a0_0xe6bdb1(0x3ab),a0_0xe6bdb1(0x412))},Oa={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'groupJid':{'type':a0_0xe6bdb1(0x4e8)},'image':{'type':'string'}},'required':['groupJid','image'],...E(a0_0xe6bdb1(0x3ab),a0_0xe6bdb1(0x39d))},Da={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0xe6bdb1(0x4e8)},'description':{'type':a0_0xe6bdb1(0x4e8)}},'required':['groupJid',a0_0xe6bdb1(0x5c6)],...E('groupJid',a0_0xe6bdb1(0x5c6))},_a={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0xe6bdb1(0x4e8)},'name':{'type':a0_0xe6bdb1(0x4e8)}},'required':[a0_0xe6bdb1(0x3ab),a0_0xe6bdb1(0x34d)],...E(a0_0xe6bdb1(0x3ab),a0_0xe6bdb1(0x34d))},Pa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0xe6bdb1(0x4e8)},'setting':{'type':'string','enum':[a0_0xe6bdb1(0x259),a0_0xe6bdb1(0x46f),a0_0xe6bdb1(0x5c0),a0_0xe6bdb1(0x6d2)]}},'required':[a0_0xe6bdb1(0x3ab),'setting'],...E(a0_0xe6bdb1(0x3ab),a0_0xe6bdb1(0x617))},xa={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'inviteCode':{'type':a0_0xe6bdb1(0x4e8)}},'required':[a0_0xe6bdb1(0x45c)],...E(a0_0xe6bdb1(0x45c))},$a={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'url':{'type':a0_0xe6bdb1(0x4e8)},'enabled':{'type':a0_0xe6bdb1(0x52d),'enum':[!0x0,!0x1]}},'required':[a0_0xe6bdb1(0x389),a0_0xe6bdb1(0x645)]},wn={'$id':(0x0,v['v4'])(),'type':a0_0xe6bdb1(0x35f),'properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0xe6bdb1(0x52d),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0xe6bdb1(0x52d),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0xe6bdb1(0x52d),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0xe6bdb1(0x52d),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0xe6bdb1(0x52d),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0xe6bdb1(0x52d),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0xe6bdb1(0x52d),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0xe6bdb1(0x52d),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0xe6bdb1(0x52d),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0xe6bdb1(0x52d),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0xe6bdb1(0x52d),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0xe6bdb1(0x52d),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0xe6bdb1(0x52d),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0xe6bdb1(0x52d),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0xe6bdb1(0x721),a0_0xe6bdb1(0x56e),a0_0xe6bdb1(0x4fe),'MESSAGES_SET',a0_0xe6bdb1(0x3af),a0_0xe6bdb1(0x418),'SEND_MESSAGE','CONTACTS_SET',a0_0xe6bdb1(0x209),'CONTACTS_UPDATE',a0_0xe6bdb1(0x3bb),a0_0xe6bdb1(0x4ee),a0_0xe6bdb1(0x407),a0_0xe6bdb1(0x43e),a0_0xe6bdb1(0x34b),a0_0xe6bdb1(0x6a9),a0_0xe6bdb1(0x4ec),a0_0xe6bdb1(0x291),a0_0xe6bdb1(0x1d2)],...E(a0_0xe6bdb1(0x721),'STATUS_INSTANCE',a0_0xe6bdb1(0x4fe),a0_0xe6bdb1(0x45f),'MESSAGES_UPDATE',a0_0xe6bdb1(0x418),a0_0xe6bdb1(0x3bc),'CONTACTS_SET',a0_0xe6bdb1(0x209),'CONTACTS_UPDATE',a0_0xe6bdb1(0x3bb),'CHATS_SET',a0_0xe6bdb1(0x407),a0_0xe6bdb1(0x43e),'CHATS_DELETE',a0_0xe6bdb1(0x6a9),a0_0xe6bdb1(0x4ec),a0_0xe6bdb1(0x291),a0_0xe6bdb1(0x1d2))},We=class{},He=class extends W{constructor(_0x2b866f){const _0x28d720=a0_0xe6bdb1;super(_0x2b866f),this[_0x28d720(0x440)]=_0x2b866f;}['getContactModelForOwner'](_0x5ef25e){return ks(_0x5ef25e);}async[a0_0xe6bdb1(0x2e6)](_0x1f21aa){const _0x3b95e=a0_0xe6bdb1;if(_0x1f21aa[_0x3b95e(0x5b9)]!==0x0)try{return{'insertCount':(await this[_0x3b95e(0x250)](_0x1f21aa[0x0]['owner'])[_0x3b95e(0x6f0)]([..._0x1f21aa]))[_0x3b95e(0x5b9)]};}catch(_0x12a8db){return _0x12a8db;}}async[a0_0xe6bdb1(0x526)](_0x17beab){const _0xae19f3=a0_0xe6bdb1;try{return{'deletedCount':(await this[_0xae19f3(0x250)](_0x17beab[_0xae19f3(0x37c)][_0xae19f3(0x2f7)])[_0xae19f3(0x158)]({..._0x17beab[_0xae19f3(0x37c)]}))['deletedCount']};}catch(_0x3638d5){return{'error':_0x3638d5?.[_0xae19f3(0x604)]()};}}async[a0_0xe6bdb1(0x1ef)](_0x3b72df,_0x4c86b6){const _0x1afe77=a0_0xe6bdb1;try{if(_0x3b72df[_0x1afe77(0x5b9)]===0x0)return;let _0x2719ce=this[_0x1afe77(0x250)](_0x4c86b6),_0x309965=_0x3b72df[_0x1afe77(0x538)](_0x1d56ae=>({'updateOne':{'filter':{'_id':_0x1d56ae[_0x1afe77(0x1f9)],'owner':_0x4c86b6},'update':{..._0x1d56ae}}})),{modifiedCount:_0x27d69d}=await _0x2719ce[_0x1afe77(0x530)](_0x309965);return{'insertCount':_0x27d69d};}catch{return;}}async['find'](_0x334241){const _0x12483d=a0_0xe6bdb1;try{return await this[_0x12483d(0x250)](_0x334241['where']['owner'])[_0x12483d(0x268)]({..._0x334241[_0x12483d(0x37c)]})['limit'](_0x334241?.['limit']??0x0)[_0x12483d(0x1fa)]();}catch{return[];}}async[a0_0xe6bdb1(0x5d7)](_0x267ce0){const _0xf35ae0=a0_0xe6bdb1;try{return await this[_0xf35ae0(0x250)](_0x267ce0[_0xf35ae0(0x37c)][_0xf35ae0(0x2f7)])[_0xf35ae0(0x5d7)]({..._0x267ce0[_0xf35ae0(0x37c)]})[_0xf35ae0(0x1fa)]();}catch{return null;}}async['deleteAll'](_0x17ab97){const _0x1d4f41=a0_0xe6bdb1;try{return await this[_0x1d4f41(0x250)](_0x17ab97)[_0x1d4f41(0x39c)][_0x1d4f41(0x620)](),{'success':!0x0};}catch(_0x4de8e2){return console[_0x1d4f41(0x507)](_0x4de8e2),{'success':!0x1,'error':_0x4de8e2};}}},Ke=require(a0_0xe6bdb1(0x4c6)),Tn=require(a0_0xe6bdb1(0x6ce)),ns=new C(a0_0xe6bdb1(0x1a7)),L=class{constructor(){}[a0_0xe6bdb1(0x1b1)](_0x4c50c6,_0x3e9c2f=!0x0){const _0x4e7004=a0_0xe6bdb1;let _0x36ff43='/'+_0x4c50c6;return _0x3e9c2f&&(_0x36ff43+=_0x4e7004(0x17b)),_0x36ff43;}async[a0_0xe6bdb1(0x224)](_0xf9a572){const _0x5c5ff3=a0_0xe6bdb1;let {request:_0x4cffe9,schema:_0x2f26e9,ClassRef:_0x580569,execute:_0x3f83cc}=_0xf9a572,_0x529247=new _0x580569(),_0x594117=_0x4cffe9[_0x5c5ff3(0x37b)],_0x31f242=_0x4cffe9[_0x5c5ff3(0x1fe)];_0x4cffe9?.[_0x5c5ff3(0x58a)]&&Object[_0x5c5ff3(0x55c)](_0x4cffe9[_0x5c5ff3(0x58a)])['length']>0x0&&Object['assign'](_0x31f242,_0x4cffe9[_0x5c5ff3(0x58a)]),_0x4cffe9[_0x5c5ff3(0x610)]['includes']('/instance/create')&&Object[_0x5c5ff3(0x15b)](_0x31f242,_0x594117),Object[_0x5c5ff3(0x15b)](_0x529247,_0x594117);let _0x421ea2=_0x2f26e9?(0x0,Ke[_0x5c5ff3(0x71e)])(_0x529247,_0x2f26e9):{'valid':!0x0,'errors':[]};if(!_0x421ea2[_0x5c5ff3(0x483)]){let _0x43b881=_0x421ea2[_0x5c5ff3(0x438)][_0x5c5ff3(0x538)](({property:_0x57bad6,stack:_0x108f13,schema:_0x51383d})=>{const _0x3acb08=_0x5c5ff3;let _0x40d793;return _0x51383d[_0x3acb08(0x5c6)]?_0x40d793=_0x51383d[_0x3acb08(0x5c6)]:_0x40d793=_0x108f13['replace'](_0x3acb08(0x5eb),''),{'property':_0x57bad6[_0x3acb08(0x1e3)](_0x3acb08(0x5eb),''),'message':_0x40d793};});throw ns['error']([..._0x43b881]),new g(..._0x43b881);}return await _0x3f83cc(_0x31f242,_0x529247);}async['groupValidate'](_0x4ff9e3){const _0x5412fe=a0_0xe6bdb1;let {request:_0x521782,ClassRef:_0x4c4ae7,schema:_0x55329a,execute:_0x2874b4}=_0x4ff9e3,_0x27b70e=_0x521782[_0x5412fe(0x58a)];if(!_0x27b70e?.[_0x5412fe(0x3ab)])throw new g(_0x5412fe(0x68c),'ex:\x20\x22groupJid=120362@g.us\x22');let _0xd40e08=_0x521782['params'],_0x190661=_0x521782[_0x5412fe(0x37b)],_0x21a1a4=new _0x4c4ae7();Object['assign'](_0x190661,_0x27b70e),Object[_0x5412fe(0x15b)](_0x21a1a4,_0x190661);let _0x23c470=(0x0,Ke[_0x5412fe(0x71e)])(_0x21a1a4,_0x55329a);if(!_0x23c470[_0x5412fe(0x483)]){let _0xe7a131=_0x23c470[_0x5412fe(0x438)]['map'](({property:_0x35a182,stack:_0x14c5fb,schema:_0x5dc1e9})=>{const _0x2cbd1d=_0x5412fe;let _0x197e5c;return _0x5dc1e9['description']?_0x197e5c=_0x5dc1e9[_0x2cbd1d(0x5c6)]:_0x197e5c=_0x14c5fb[_0x2cbd1d(0x1e3)](_0x2cbd1d(0x5eb),''),{'property':_0x35a182[_0x2cbd1d(0x1e3)](_0x2cbd1d(0x5eb),''),'message':_0x197e5c};});throw ns[_0x5412fe(0x507)]([..._0xe7a131]),new g(..._0xe7a131);}return await _0x2874b4(_0xd40e08,_0x21a1a4);}async['joinGroupValidate'](_0x462497){const _0x4383b8=a0_0xe6bdb1;let {request:_0x461277,ClassRef:_0x44b9e9,schema:_0x15134a,execute:_0x3de692}=_0x462497,_0x1635d3=_0x461277['body'];if(!_0x1635d3?.[_0x4383b8(0x45c)])throw new g('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x5878f0=_0x461277[_0x4383b8(0x1fe)],_0x5d879e=_0x461277[_0x4383b8(0x37b)],_0x693ed0=new _0x44b9e9();Object[_0x4383b8(0x15b)](_0x5d879e,_0x1635d3),Object[_0x4383b8(0x15b)](_0x693ed0,_0x5d879e);let _0x1f6fac=(0x0,Ke[_0x4383b8(0x71e)])(_0x693ed0,_0x15134a);if(!_0x1f6fac[_0x4383b8(0x483)]){let _0x1d48ac=_0x1f6fac[_0x4383b8(0x438)][_0x4383b8(0x538)](({property:_0x30adb8,stack:_0x30ec05,schema:_0x54ad13})=>{const _0xf031f4=_0x4383b8;let _0x256984;return _0x54ad13[_0xf031f4(0x5c6)]?_0x256984=_0x54ad13[_0xf031f4(0x5c6)]:_0x256984=_0x30ec05[_0xf031f4(0x1e3)](_0xf031f4(0x5eb),''),{'property':_0x30adb8[_0xf031f4(0x1e3)](_0xf031f4(0x5eb),''),'message':_0x256984};});throw ns[_0x4383b8(0x507)]([..._0x1d48ac]),new g(..._0x1d48ac);}return await _0x3de692(_0x5878f0,_0x693ed0);}},b=class{},ze=class extends L{constructor(..._0x454ed){const _0x17e4f9=a0_0xe6bdb1;super(),this['router']=(0x0,ka[_0x17e4f9(0x664)])(),this[_0x17e4f9(0x4e0)][_0x17e4f9(0x205)](this['routerPath'](_0x17e4f9(0x678)),..._0x454ed,async(_0x39dd1b,_0x3cc3d4)=>{const _0x384841=_0x17e4f9;let _0x4b562d=await this[_0x384841(0x224)]({'request':_0x39dd1b,'schema':Ra,'ClassRef':ke,'execute':(_0x41bdaa,_0x162866)=>D['updatePresence'](_0x41bdaa,_0x162866)});return _0x3cc3d4[_0x384841(0x453)](0xc9)['json'](_0x4b562d);})[_0x17e4f9(0x205)](this['routerPath']('whatsappNumbers'),..._0x454ed,async(_0x56a7b7,_0x1d5b09)=>{const _0x1aac1c=_0x17e4f9;let _0x3f4f81=await this[_0x1aac1c(0x224)]({'request':_0x56a7b7,'schema':fa,'ClassRef':Le,'execute':(_0x39a4b5,_0x3caeaf)=>D[_0x1aac1c(0x24b)](_0x39a4b5,_0x3caeaf)});return _0x1d5b09[_0x1aac1c(0x453)](0xc9)[_0x1aac1c(0x16a)](_0x3f4f81);})[_0x17e4f9(0x205)](this[_0x17e4f9(0x1b1)](_0x17e4f9(0x3e4)),..._0x454ed,async(_0x2bc138,_0x402735)=>{const _0x31f19d=_0x17e4f9;let _0x3af270=await this['dataValidate']({'request':_0x2bc138,'schema':N,'ClassRef':b,'execute':(_0x1a2ce1,_0x373aae)=>D['editChat'](_0x1a2ce1,_0x373aae)});return _0x402735[_0x31f19d(0x453)](0xc9)[_0x31f19d(0x16a)](_0x3af270);})['put'](this['routerPath'](_0x17e4f9(0x399)),..._0x454ed,async(_0x45087e,_0x31dafd)=>{const _0x2c4fee=_0x17e4f9;let _0xea935e=await this['dataValidate']({'request':_0x45087e,'schema':wa,'ClassRef':Je,'execute':(_0x37f663,_0x4f97c7)=>D[_0x2c4fee(0x687)](_0x37f663,_0x4f97c7)});return _0x31dafd['status'](0xc9)[_0x2c4fee(0x16a)](_0xea935e);})['put'](this[_0x17e4f9(0x1b1)]('archiveChat'),..._0x454ed,async(_0x489504,_0x286817)=>{const _0x1baa81=_0x17e4f9;let _0x10a4e2=await this[_0x1baa81(0x224)]({'request':_0x489504,'schema':ba,'ClassRef':je,'execute':(_0x4a9b08,_0x4de089)=>D[_0x1baa81(0x2f6)](_0x4a9b08,_0x4de089)});return _0x286817[_0x1baa81(0x453)](0xc9)['json'](_0x10a4e2);})[_0x17e4f9(0x526)](this[_0x17e4f9(0x1b1)]('deleteMessageForEveryone'),..._0x454ed,async(_0x48a0cf,_0x2ec739)=>{const _0x550713=_0x17e4f9;let _0x47f05d=await this[_0x550713(0x224)]({'request':_0x48a0cf,'schema':Sa,'ClassRef':Be,'execute':(_0x22fe00,_0x44f1b5)=>D['deleteMessage'](_0x22fe00,_0x44f1b5)});return _0x2ec739[_0x550713(0x453)](0xc9)[_0x550713(0x16a)](_0x47f05d);})[_0x17e4f9(0x205)](this[_0x17e4f9(0x1b1)]('fetchProfilePictureUrl'),..._0x454ed,async(_0x42eab9,_0x11a140)=>{const _0x5e9855=_0x17e4f9;let _0x1d6b0a=await this[_0x5e9855(0x224)]({'request':_0x42eab9,'schema':Ee,'ClassRef':Se,'execute':(_0x31220b,_0x474a9e)=>D[_0x5e9855(0x599)](_0x31220b,_0x474a9e)});return _0x11a140[_0x5e9855(0x453)](0xc8)[_0x5e9855(0x16a)](_0x1d6b0a);})['post'](this[_0x17e4f9(0x1b1)](_0x17e4f9(0x2c8)),..._0x454ed,async(_0xbc9536,_0x2e1712)=>{const _0x3bcd69=_0x17e4f9;let _0x800c6b=await this['dataValidate']({'request':_0xbc9536,'schema':Ca,'ClassRef':Se,'execute':(_0x522855,_0x458b73)=>D[_0x3bcd69(0x2c8)](_0x522855,_0x458b73)});return _0x2e1712[_0x3bcd69(0x453)](0xc8)['json'](_0x800c6b);})[_0x17e4f9(0x205)](this['routerPath'](_0x17e4f9(0x51a)),..._0x454ed,async(_0x548508,_0x1a5ae8)=>{const _0x32280c=_0x17e4f9;let _0x462879=await this['dataValidate']({'request':_0x548508,'schema':Ea,'ClassRef':We,'execute':(_0x458985,_0x10f1dc)=>D[_0x32280c(0x2c3)](_0x458985,_0x10f1dc)});return _0x1a5ae8[_0x32280c(0x453)](0xc8)[_0x32280c(0x16a)](_0x462879);})[_0x17e4f9(0x205)](this[_0x17e4f9(0x1b1)]('getBase64FromMediaMessage'),..._0x454ed,async(_0x2beaa0,_0x596aa9)=>{const _0x41b57c=_0x17e4f9;let _0xbef432=await this['dataValidate']({'request':_0x2beaa0,'schema':null,'ClassRef':Object,'execute':(_0x160eab,_0x198510)=>D['getBase64FromMediaMessage'](_0x160eab,_0x198510)});return _0x596aa9[_0x41b57c(0x453)](0xc9)[_0x41b57c(0x16a)](_0xbef432);})[_0x17e4f9(0x205)](this['routerPath'](_0x17e4f9(0x4f8)),..._0x454ed,async(_0x2fa467,_0x1c5439)=>{const _0xbb0549=_0x17e4f9;let _0x4984af=await this[_0xbb0549(0x224)]({'request':_0x2fa467,'schema':Ta,'ClassRef':xe,'execute':(_0x30be35,_0x5e427c)=>D[_0xbb0549(0x14f)](_0x30be35,_0x5e427c)});return _0x1c5439['status'](0xc8)[_0xbb0549(0x16a)](_0x4984af);})['get'](this['routerPath'](_0x17e4f9(0x447)),..._0x454ed,async(_0x18c8c9,_0x16b5be)=>{const _0x46672d=_0x17e4f9;let _0x20f053=await this[_0x46672d(0x224)]({'request':_0x18c8c9,'schema':null,'ClassRef':b,'execute':_0x3fdec7=>D[_0x46672d(0x541)](_0x3fdec7)});return _0x16b5be[_0x46672d(0x453)](0xc8)[_0x46672d(0x16a)](_0x20f053);})[_0x17e4f9(0x47c)](this[_0x17e4f9(0x1b1)](_0x17e4f9(0x263)),..._0x454ed,async(_0x4b7705,_0x5a7b67)=>{const _0xba462b=_0x17e4f9;let _0x53df25=await this['dataValidate']({'request':_0x4b7705,'schema':null,'ClassRef':b,'execute':_0x2a052d=>D[_0xba462b(0x263)](_0x2a052d)});return _0x5a7b67[_0xba462b(0x453)](0xc8)[_0xba462b(0x16a)](_0x53df25);})['put'](this['routerPath'](_0x17e4f9(0x70b)),..._0x454ed,async(_0x284a52,_0x1c61c1)=>{const _0x398a92=_0x17e4f9;let _0x52e552=await this['dataValidate']({'request':_0x284a52,'schema':ya,'ClassRef':Fe,'execute':(_0x497637,_0x176167)=>D[_0x398a92(0x70b)](_0x497637,_0x176167)});return _0x1c61c1['status'](0xc9)['json'](_0x52e552);})[_0x17e4f9(0x205)](this[_0x17e4f9(0x1b1)](_0x17e4f9(0x5b1)),..._0x454ed,async(_0x2cdec4,_0x3ea879)=>{const _0x412ab3=_0x17e4f9;let _0x3fcd0d=await this[_0x412ab3(0x224)]({'request':_0x2cdec4,'schema':Ee,'ClassRef':we,'execute':(_0x2b3c07,_0x202a51)=>D[_0x412ab3(0x5b1)](_0x2b3c07,_0x202a51)});return _0x3ea879['status'](0xc8)[_0x412ab3(0x16a)](_0x3fcd0d);})['post'](this['routerPath'](_0x17e4f9(0x570)),..._0x454ed,async(_0x4fe59f,_0x8f9b1c)=>{const _0x3be18b=_0x17e4f9;let _0x3e6bab=await this[_0x3be18b(0x224)]({'request':_0x4fe59f,'schema':va,'ClassRef':Ue,'execute':(_0x1021c7,_0x465daa)=>D['updateProfileName'](_0x1021c7,_0x465daa)});return _0x8f9b1c['status'](0xc8)[_0x3be18b(0x16a)](_0x3e6bab);})[_0x17e4f9(0x205)](this[_0x17e4f9(0x1b1)]('updateProfileStatus'),..._0x454ed,async(_0x5ed7e5,_0xe36817)=>{const _0x10630e=_0x17e4f9;let _0x526bc8=await this[_0x10630e(0x224)]({'request':_0x5ed7e5,'schema':Na,'ClassRef':Ve,'execute':(_0x4b6caf,_0x150920)=>D[_0x10630e(0x1d8)](_0x4b6caf,_0x150920)});return _0xe36817[_0x10630e(0x453)](0xc8)['json'](_0x526bc8);})[_0x17e4f9(0x603)](this['routerPath'](_0x17e4f9(0x642)),..._0x454ed,async(_0x39d3ea,_0x55735b)=>{const _0x47dd8b=_0x17e4f9;let _0x189877=await this[_0x47dd8b(0x224)]({'request':_0x39d3ea,'schema':Ee,'ClassRef':we,'execute':(_0x53c787,_0x1b7cf1)=>D[_0x47dd8b(0x642)](_0x53c787,_0x1b7cf1)});return _0x55735b[_0x47dd8b(0x453)](0xc8)[_0x47dd8b(0x16a)](_0x189877);})['delete'](this[_0x17e4f9(0x1b1)](_0x17e4f9(0x4e3)),..._0x454ed,async(_0x40904d,_0x318282)=>{const _0x15812b=_0x17e4f9;let _0xeea7e3=await this['dataValidate']({'request':_0x40904d,'schema':Ee,'ClassRef':we,'execute':(_0x493a58,_0x282ce1)=>D[_0x15812b(0x4e3)](_0x493a58,_0x282ce1)});return _0x318282[_0x15812b(0x453)](0xc8)[_0x15812b(0x16a)](_0xeea7e3);});}},La=require(a0_0xe6bdb1(0x5fd)),Qe=class{},Ye=class{},Xe=class{},Ze=class{},et=class{},Z=class{},tt=class{},st=class extends Z{},at=class extends Z{},ot=class extends L{constructor(..._0x4ff7a8){const _0x506538=a0_0xe6bdb1;super(),this[_0x506538(0x4e0)]=(0x0,La['Router'])(),this[_0x506538(0x4e0)][_0x506538(0x205)](this[_0x506538(0x1b1)](_0x506538(0x2dd)),..._0x4ff7a8,async(_0x3174d3,_0x26b4f6)=>{const _0x280d46=_0x506538;let _0x30820d=await this[_0x280d46(0x224)]({'request':_0x3174d3,'schema':Ma,'ClassRef':Qe,'execute':(_0x871ae4,_0x27a13e)=>V[_0x280d46(0x4db)](_0x871ae4,_0x27a13e)});_0x26b4f6[_0x280d46(0x453)](0xc9)[_0x280d46(0x16a)](_0x30820d);})[_0x506538(0x603)](this[_0x506538(0x1b1)]('updateGroupPicture'),..._0x4ff7a8,async(_0x3eeaba,_0x3deb86)=>{const _0x1a4391=_0x506538;let _0x5b0721=await this[_0x1a4391(0x4fc)]({'request':_0x3eeaba,'schema':Oa,'ClassRef':Ye,'execute':(_0xf25ea,_0x4b20ea)=>V[_0x1a4391(0x385)](_0xf25ea,_0x4b20ea)});_0x3deb86['status'](0xc9)[_0x1a4391(0x16a)](_0x5b0721);})[_0x506538(0x603)](this[_0x506538(0x1b1)](_0x506538(0x5e3)),..._0x4ff7a8,async(_0x3788a5,_0x175cb6)=>{const _0x4fdf76=_0x506538;let _0xca6b33=await this[_0x4fdf76(0x4fc)]({'request':_0x3788a5,'schema':Da,'ClassRef':Xe,'execute':(_0x1ca89b,_0x264f8b)=>V[_0x4fdf76(0x5e3)](_0x1ca89b,_0x264f8b)});_0x175cb6[_0x4fdf76(0x453)](0xc9)[_0x4fdf76(0x16a)](_0xca6b33);})[_0x506538(0x603)](this[_0x506538(0x1b1)](_0x506538(0x4f6)),..._0x4ff7a8,async(_0x52c707,_0x1f1f27)=>{const _0x38aac0=_0x506538;let _0x13ea52=await this[_0x38aac0(0x4fc)]({'request':_0x52c707,'schema':_a,'ClassRef':Ze,'execute':(_0x3ac9b6,_0x5f07a4)=>V[_0x38aac0(0x4f6)](_0x3ac9b6,_0x5f07a4)});_0x1f1f27[_0x38aac0(0x453)](0xc9)[_0x38aac0(0x16a)](_0x13ea52);})[_0x506538(0x603)](this[_0x506538(0x1b1)](_0x506538(0x424)),..._0x4ff7a8,async(_0x3412af,_0x280330)=>{const _0x2d280e=_0x506538;let _0xde017e=await this[_0x2d280e(0x4fc)]({'request':_0x3412af,'schema':Pa,'ClassRef':et,'execute':(_0x5d00f4,_0x31ae78)=>V[_0x2d280e(0x424)](_0x5d00f4,_0x31ae78)});_0x280330[_0x2d280e(0x453)](0xc9)[_0x2d280e(0x16a)](_0xde017e);})[_0x506538(0x603)](this[_0x506538(0x1b1)](_0x506538(0x30e)),..._0x4ff7a8,async(_0x59f02c,_0x1cce8c)=>{const _0x138254=_0x506538;let _0x134493=await this[_0x138254(0x4fc)]({'request':_0x59f02c,'schema':Ia,'ClassRef':at,'execute':(_0x56fca7,_0x5cb7eb)=>V[_0x138254(0x30e)](_0x56fca7,_0x5cb7eb)});_0x1cce8c[_0x138254(0x453)](0xc9)[_0x138254(0x16a)](_0x134493);})[_0x506538(0x47c)](this[_0x506538(0x1b1)](_0x506538(0x472)),..._0x4ff7a8,async(_0x3dbe83,_0x108561)=>{const _0x5b9e95=_0x506538;let _0x378774=await this['groupValidate']({'request':_0x3dbe83,'schema':ve,'ClassRef':Z,'execute':(_0x140531,_0x3b3638)=>V[_0x5b9e95(0x4e4)](_0x140531,_0x3b3638)});_0x108561['status'](0xc8)['json'](_0x378774);})[_0x506538(0x47c)](this[_0x506538(0x1b1)](_0x506538(0x36b)),..._0x4ff7a8,async(_0x3437f3,_0x5bc1d4)=>{const _0x28d9ae=_0x506538;let _0x418c93=await this[_0x28d9ae(0x224)]({'request':_0x3437f3,'schema':N,'ClassRef':b,'execute':_0x22609d=>V[_0x28d9ae(0x36b)](_0x22609d)});_0x5bc1d4['status'](0xc8)[_0x28d9ae(0x16a)](_0x418c93);})['get'](this[_0x506538(0x1b1)](_0x506538(0x475)),..._0x4ff7a8,async(_0x537a32,_0x4ee98a)=>{const _0x258919=_0x506538;let _0x5308ef=await this['groupValidate']({'request':_0x537a32,'schema':ve,'ClassRef':Z,'execute':(_0x397e12,_0x36b492)=>V[_0x258919(0x395)](_0x397e12,_0x36b492)});_0x4ee98a['status'](0xc8)[_0x258919(0x16a)](_0x5308ef);})[_0x506538(0x47c)](this[_0x506538(0x1b1)](_0x506538(0x45c)),..._0x4ff7a8,async(_0x583ecd,_0x15494d)=>{const _0x5a6b11=_0x506538;let _0x2b703e=await this[_0x5a6b11(0x4fc)]({'request':_0x583ecd,'schema':ve,'ClassRef':Z,'execute':(_0x2dfe9d,_0x4c863d)=>V['inviteCode'](_0x2dfe9d,_0x4c863d)});_0x15494d[_0x5a6b11(0x453)](0xc8)[_0x5a6b11(0x16a)](_0x2b703e);})[_0x506538(0x603)](this[_0x506538(0x1b1)](_0x506538(0x45b)),..._0x4ff7a8,async(_0x3dc236,_0x1a2f01)=>{const _0x1b9a0a=_0x506538;let _0x9a4e7b=await this[_0x1b9a0a(0x55b)]({'request':_0x3dc236,'schema':xa,'ClassRef':tt,'execute':(_0x4d298c,_0x27775e)=>V[_0x1b9a0a(0x45b)](_0x4d298c,_0x27775e)});_0x1a2f01['status'](0xc9)[_0x1b9a0a(0x16a)](_0x9a4e7b);})[_0x506538(0x603)](this[_0x506538(0x1b1)](_0x506538(0x449)),..._0x4ff7a8,async(_0x1ca9d6,_0x1a9fe0)=>{const _0x1096ef=_0x506538;let _0x4f8c72=await this[_0x1096ef(0x4fc)]({'request':_0x1ca9d6,'schema':ve,'ClassRef':Z,'execute':(_0x1f62c2,_0x216683)=>V['revokeInviteCode'](_0x1f62c2,_0x216683)});_0x1a9fe0[_0x1096ef(0x453)](0xc9)[_0x1096ef(0x16a)](_0x4f8c72);})[_0x506538(0x603)](this['routerPath'](_0x506538(0x32e)),..._0x4ff7a8,async(_0x42d5e2,_0x5a2d8e)=>{const _0x121b49=_0x506538;let _0x520562=await this[_0x121b49(0x4fc)]({'request':_0x42d5e2,'schema':Aa,'ClassRef':st,'execute':(_0x1d16eb,_0x5e3737)=>V['updateGParticipate'](_0x1d16eb,_0x5e3737)});_0x5a2d8e[_0x121b49(0x453)](0xc9)[_0x121b49(0x16a)](_0x520562);})[_0x506538(0x526)](this[_0x506538(0x1b1)]('leaveGroup'),..._0x4ff7a8,async(_0x43978,_0x52d00c)=>{const _0x2a580b=_0x506538;let _0x38d1ec=await this[_0x2a580b(0x4fc)]({'request':_0x43978,'schema':{},'ClassRef':Z,'execute':(_0x5b4187,_0x4492b9)=>V[_0x2a580b(0x53a)](_0x5b4187,_0x4492b9)});_0x52d00c[_0x2a580b(0x453)](0xc8)[_0x2a580b(0x16a)](_0x38d1ec);});}},Ja=require('express'),Ne=require(a0_0xe6bdb1(0x6ae)),cs=require(a0_0xe6bdb1(0x1a5)),Ua=require('class-validator'),Va=T(require(a0_0xe6bdb1(0x72e))),it=class{},rt=class c{constructor(_0x514e47,_0x5c5e07,_0x539b79){const _0x3a380f=a0_0xe6bdb1;this[_0x3a380f(0x440)]=_0x514e47,this[_0x3a380f(0x25f)]=_0x5c5e07,this['repository']=_0x539b79,this['logger']=new C(c[_0x3a380f(0x34d)]);}async['jwt'](_0x2bcc65){const _0x375474=a0_0xe6bdb1;let _0x27cb15=this[_0x375474(0x440)][_0x375474(0x47c)]('AUTHENTICATION')[_0x375474(0x37f)],_0x3ffb31=(0x0,Ne[_0x375474(0x254)])({'instanceName':_0x2bcc65['instanceName'],'apiName':Ge,'tokenId':(0x0,cs['v4'])()},_0x27cb15[_0x375474(0x295)],{'expiresIn':_0x27cb15[_0x375474(0x30c)],'encoding':_0x375474(0x1f4),'subject':_0x375474(0x6f5)}),_0x55a830=await this['repository'][_0x375474(0x54c)]['create']({'jwt':_0x3ffb31},_0x2bcc65['instanceName']);if(_0x55a830[_0x375474(0x507)])throw this[_0x375474(0x40d)][_0x375474(0x507)]({'localError':c[_0x375474(0x34d)]+_0x375474(0x66b),'error':_0x55a830[_0x375474(0x507)]}),new g('Authentication\x20error',_0x55a830['error']?.['toString']());return{'jwt':_0x3ffb31};}async[a0_0xe6bdb1(0x309)](_0xaf733c){const _0x422f59=a0_0xe6bdb1;let _0x2c60c4=(0x0,cs['v4'])()['toUpperCase'](),_0x41faf0=await this[_0x422f59(0x217)][_0x422f59(0x54c)][_0x422f59(0x2dd)]({'apikey':_0x2c60c4},_0xaf733c[_0x422f59(0x2c4)]);if(_0x41faf0[_0x422f59(0x507)])throw this[_0x422f59(0x40d)][_0x422f59(0x507)]({'localError':c[_0x422f59(0x34d)]+_0x422f59(0x66b),'error':_0x41faf0[_0x422f59(0x507)]}),new g(_0x422f59(0x2e2),_0x41faf0[_0x422f59(0x507)]?.[_0x422f59(0x604)]());return{'apikey':_0x2c60c4};}async[a0_0xe6bdb1(0x71c)](_0x76280){const _0x5e2dd5=a0_0xe6bdb1;let _0x12b87b=this[_0x5e2dd5(0x440)][_0x5e2dd5(0x47c)](_0x5e2dd5(0x67a));return await this[_0x12b87b[_0x5e2dd5(0x50c)]](_0x76280);}async[a0_0xe6bdb1(0x6a2)]({oldToken:_0x446e2c}){const _0x5970b1=a0_0xe6bdb1;if(!(0x0,Ua[_0x5970b1(0x4c9)])(_0x446e2c))throw new g(_0x5970b1(0x18a));try{let _0x353cbf=this[_0x5970b1(0x440)][_0x5970b1(0x47c)]('AUTHENTICATION')[_0x5970b1(0x37f)],_0x4e08ac=(0x0,Ne[_0x5970b1(0x234)])(_0x446e2c,_0x353cbf['SECRET'],{'ignoreExpiration':!0x0}),_0x279884=await this[_0x5970b1(0x217)][_0x5970b1(0x54c)][_0x5970b1(0x268)](_0x4e08ac[_0x5970b1(0x2c4)]),_0x26a19f=(0x0,Ne[_0x5970b1(0x234)])(_0x279884[_0x5970b1(0x5d0)],_0x353cbf[_0x5970b1(0x295)],{'ignoreExpiration':!0x0});if(_0x4e08ac['tokenId']!==_0x26a19f['tokenId'])throw new g(_0x5970b1(0x18a));let _0x1ede25={'jwt':(await this[_0x5970b1(0x5d0)]({'instanceName':_0x4e08ac['instanceName']}))[_0x5970b1(0x5d0)],'instanceName':_0x4e08ac[_0x5970b1(0x2c4)]};try{let _0x3b386a=await this['repository'][_0x5970b1(0x405)]['find'](_0x4e08ac['instanceName']);_0x3b386a?.[_0x5970b1(0x645)]&&this[_0x5970b1(0x440)]['get'](_0x5970b1(0x6b3))[_0x5970b1(0x2ec)][_0x5970b1(0x6ba)]&&await Va[_0x5970b1(0x6cd)]['create']({'baseURL':_0x3b386a[_0x5970b1(0x389)]})[_0x5970b1(0x205)]('',{'event':_0x5970b1(0x337),'instance':_0x4e08ac['instanceName'],'data':_0x1ede25},{'params':{'owner':this['waMonitor'][_0x5970b1(0x400)][_0x4e08ac[_0x5970b1(0x2c4)]][_0x5970b1(0x660)]}});}catch(_0x32bb1c){this[_0x5970b1(0x40d)][_0x5970b1(0x507)](_0x32bb1c);}return _0x1ede25;}catch(_0x3bb90e){throw this[_0x5970b1(0x40d)][_0x5970b1(0x507)]({'localError':c[_0x5970b1(0x34d)]+_0x5970b1(0x465),'error':_0x3bb90e}),new g(_0x5970b1(0x18a));}}},nt=class extends L{constructor(_0x16f519,..._0x2845f4){const _0x10a369=a0_0xe6bdb1;super(),this[_0x10a369(0x440)]=_0x16f519,this['router']=(0x0,Ja[_0x10a369(0x664)])();let _0x30f7d2=_0x16f519[_0x10a369(0x47c)](_0x10a369(0x67a));this[_0x10a369(0x4e0)]['post'](_0x10a369(0x6e0),..._0x2845f4,async(_0x10186a,_0x245470)=>{const _0x1f60e1=_0x10a369;let {instanceName:_0x54aeb8,apikey:_0x12802e}=_0x10186a['body'],_0x3ea054=await re[_0x1f60e1(0x488)]({'instanceName':_0x54aeb8,'apikey':_0x12802e});return _0x245470[_0x1f60e1(0x453)](0xc9)[_0x1f60e1(0x16a)](_0x3ea054);})[_0x10a369(0x603)](this[_0x10a369(0x1b1)](_0x10a369(0x52b)),..._0x2845f4,async(_0x104999,_0x22c5af)=>{const _0x1f39e1=_0x10a369;let _0x543739=await this[_0x1f39e1(0x224)]({'request':_0x104999,'schema':N,'ClassRef':b,'execute':_0x198798=>re['restartInstance'](_0x198798)});return _0x22c5af[_0x1f39e1(0x453)](0xc8)[_0x1f39e1(0x16a)](_0x543739);})[_0x10a369(0x47c)](this['routerPath'](_0x10a369(0x195)),..._0x2845f4,async(_0x1a9288,_0x3cfd26)=>{const _0x1d1baa=_0x10a369;let _0x5c1f34=await this[_0x1d1baa(0x224)]({'request':_0x1a9288,'schema':N,'ClassRef':b,'execute':_0x2dff37=>re[_0x1d1baa(0x1d7)](_0x2dff37)});return _0x3cfd26[_0x1d1baa(0x453)](0xc8)[_0x1d1baa(0x16a)](_0x5c1f34);})[_0x10a369(0x47c)](this[_0x10a369(0x1b1)]('connectionState'),..._0x2845f4,async(_0x12a9a5,_0x2146ef)=>{const _0x447571=_0x10a369;let _0x101605=await this[_0x447571(0x224)]({'request':_0x12a9a5,'schema':N,'ClassRef':b,'execute':_0x14aaa6=>re[_0x447571(0x275)](_0x14aaa6)});return _0x2146ef[_0x447571(0x453)](0xc8)[_0x447571(0x16a)](_0x101605);})[_0x10a369(0x47c)](this[_0x10a369(0x1b1)]('fetchInstances',!0x1),..._0x2845f4,async(_0x1703aa,_0x46f884)=>{const _0x16b9b1=_0x10a369;let _0x47a31d=await this[_0x16b9b1(0x224)]({'request':_0x1703aa,'schema':null,'ClassRef':b,'execute':_0x4b2edf=>re[_0x16b9b1(0x23a)](_0x4b2edf)});return _0x46f884['status'](0xc8)['json'](_0x47a31d);})[_0x10a369(0x526)](this['routerPath'](_0x10a369(0x540)),..._0x2845f4,async(_0x54d123,_0x49dcd5)=>{const _0x2386a1=_0x10a369;let _0x5c6882=await this[_0x2386a1(0x224)]({'request':_0x54d123,'schema':N,'ClassRef':b,'execute':_0x9b31=>re[_0x2386a1(0x540)](_0x9b31)});return _0x49dcd5[_0x2386a1(0x453)](0xc8)[_0x2386a1(0x16a)](_0x5c6882);})[_0x10a369(0x526)](this['routerPath'](_0x10a369(0x526)),..._0x2845f4,async(_0x298dd6,_0x4499ae)=>{const _0x2203e1=_0x10a369;let _0x2e668c=await this['dataValidate']({'request':_0x298dd6,'schema':N,'ClassRef':b,'execute':_0x153a45=>re[_0x2203e1(0x3b8)](_0x153a45)});return _0x4499ae[_0x2203e1(0x453)](0xc8)[_0x2203e1(0x16a)](_0x2e668c);}),_0x30f7d2['TYPE']===_0x10a369(0x5d0)&&this['router'][_0x10a369(0x603)]('/refreshToken',async(_0x499cfa,_0x45176)=>{const _0x59d4dd=_0x10a369;let _0x198cd4=await this[_0x59d4dd(0x224)]({'request':_0x499cfa,'schema':aa,'ClassRef':it,'execute':(_0x1ac501,_0x2883c9)=>re['refreshToken'](_0x1ac501,_0x2883c9)});return _0x45176[_0x59d4dd(0x453)](0xc9)['json'](_0x198cd4);});}},ja=require('express'),ls=class{},z=class extends ls{},ct=class extends z{},lt=class extends z{},ut=class extends z{},Ce=class extends z{},dt=class extends z{},pt=class extends z{},gt=class extends z{},mt=class extends z{},ht=class extends z{},ft=class{},wt=class extends L{constructor(..._0x3d1b2c){const _0x504fea=a0_0xe6bdb1;super(),this['router']=(0x0,ja[_0x504fea(0x664)])(),this['router'][_0x504fea(0x205)](this[_0x504fea(0x1b1)]('sendText'),..._0x3d1b2c,async(_0x25ba5b,_0x3e00cc)=>{const _0x1aff01=_0x504fea;let _0x283b45=await this['dataValidate']({'request':_0x25ba5b,'schema':oa,'ClassRef':ct,'execute':(_0x2c3610,_0x18c6a4)=>K[_0x1aff01(0x25e)](_0x2c3610,_0x18c6a4)});return _0x3e00cc[_0x1aff01(0x453)](0xc9)[_0x1aff01(0x16a)](_0x283b45);})[_0x504fea(0x205)](this[_0x504fea(0x1b1)]('sendMedia'),..._0x3d1b2c,async(_0x30feb0,_0xd24de1)=>{const _0x96d52=_0x504fea;let _0xc91105=await this[_0x96d52(0x224)]({'request':_0x30feb0,'schema':ca,'ClassRef':Ce,'execute':(_0x5dbb2d,_0x25a5d6)=>K[_0x96d52(0x6b2)](_0x5dbb2d,_0x25a5d6)});return _0xd24de1[_0x96d52(0x453)](0xc9)['json'](_0xc91105);})[_0x504fea(0x205)](this[_0x504fea(0x1b1)]('sendWhatsAppAudio'),..._0x3d1b2c,async(_0x280a6a,_0x1f1033)=>{const _0x4ae094=_0x504fea;let _0x5b3404=await this[_0x4ae094(0x224)]({'request':_0x280a6a,'schema':la,'ClassRef':Ce,'execute':(_0x3577a9,_0x23a8c9)=>K[_0x4ae094(0x6f8)](_0x3577a9,_0x23a8c9)});return _0x1f1033['status'](0xc9)['json'](_0x5b3404);})['post'](this[_0x504fea(0x1b1)]('sendButtons'),..._0x3d1b2c,async(_0xaf0a1,_0x4e93fd)=>{const _0x1dce00=_0x504fea;let _0x2f19f3=await this[_0x1dce00(0x224)]({'request':_0xaf0a1,'schema':da,'ClassRef':pt,'execute':(_0xd29b07,_0x1aa375)=>K[_0x1dce00(0x493)](_0xd29b07,_0x1aa375)});return _0x4e93fd[_0x1dce00(0x453)](0xc9)['json'](_0x2f19f3);})['post'](this[_0x504fea(0x1b1)]('sendLocation'),..._0x3d1b2c,async(_0x5903af,_0x1ca337)=>{const _0x2fac19=_0x504fea;let _0x235bec=await this['dataValidate']({'request':_0x5903af,'schema':pa,'ClassRef':gt,'execute':(_0x2ee4c0,_0x5ea90e)=>K['sendLocation'](_0x2ee4c0,_0x5ea90e)});return _0x1ca337[_0x2fac19(0x453)](0xc9)[_0x2fac19(0x16a)](_0x235bec);})[_0x504fea(0x205)](this[_0x504fea(0x1b1)](_0x504fea(0x53b)),..._0x3d1b2c,async(_0x48c1df,_0x34d4a5)=>{const _0x3ebbed=_0x504fea;let _0x567277=await this['dataValidate']({'request':_0x48c1df,'schema':ga,'ClassRef':mt,'execute':(_0x2d3ca6,_0x420368)=>K['sendList'](_0x2d3ca6,_0x420368)});return _0x34d4a5[_0x3ebbed(0x453)](0xc9)[_0x3ebbed(0x16a)](_0x567277);})[_0x504fea(0x205)](this[_0x504fea(0x1b1)](_0x504fea(0x64d)),..._0x3d1b2c,async(_0x284fed,_0x299e22)=>{const _0x3a4b88=_0x504fea;let _0x200ce2=await this[_0x3a4b88(0x224)]({'request':_0x284fed,'schema':ma,'ClassRef':ht,'execute':(_0x3cf7eb,_0x157493)=>K['sendContact'](_0x3cf7eb,_0x157493)});return _0x299e22[_0x3a4b88(0x453)](0xc9)[_0x3a4b88(0x16a)](_0x200ce2);})[_0x504fea(0x205)](this[_0x504fea(0x1b1)]('sendReaction'),..._0x3d1b2c,async(_0x350aea,_0x24ae28)=>{const _0x2e73e=_0x504fea;let _0x3225af=await this['dataValidate']({'request':_0x350aea,'schema':ha,'ClassRef':ft,'execute':(_0x3a94ba,_0x369c3b)=>K[_0x2e73e(0x25a)](_0x3a94ba,_0x369c3b)});return _0x24ae28[_0x2e73e(0x453)](0xc9)[_0x2e73e(0x16a)](_0x3225af);})['post'](this[_0x504fea(0x1b1)](_0x504fea(0x208)),..._0x3d1b2c,async(_0x22b9a2,_0x1c4992)=>{const _0x1e5622=_0x504fea;let _0x16efd0=await this[_0x1e5622(0x224)]({'request':_0x22b9a2,'schema':ua,'ClassRef':ut,'execute':(_0x3188f3,_0x5724b3)=>K[_0x1e5622(0x208)](_0x3188f3,_0x5724b3)});return _0x1c4992[_0x1e5622(0x453)](0xc9)[_0x1e5622(0x16a)](_0x16efd0);})['post'](this['routerPath'](_0x504fea(0x1fd)),..._0x3d1b2c,async(_0x4f585f,_0x38b969)=>{const _0x2e3f0d=_0x504fea;let _0x49ec5a=await this[_0x2e3f0d(0x224)]({'request':_0x4f585f,'schema':na,'ClassRef':lt,'execute':(_0x4b529a,_0x4df88f)=>K[_0x2e3f0d(0x1fd)](_0x4b529a,_0x4df88f)});return _0x38b969[_0x2e3f0d(0x453)](0xc9)[_0x2e3f0d(0x16a)](_0x49ec5a);})[_0x504fea(0x205)](this[_0x504fea(0x1b1)]('sendSticker'),..._0x3d1b2c,async(_0x454c2b,_0x7f1a1b)=>{const _0x1ea55d=_0x504fea;let _0x31557e=await this[_0x1ea55d(0x224)]({'request':_0x454c2b,'schema':ra,'ClassRef':dt,'execute':(_0x3b365c,_0x3619b3)=>K[_0x1ea55d(0x46a)](_0x3b365c,_0x3619b3)});return _0x7f1a1b[_0x1ea55d(0x453)](0xc9)[_0x1ea55d(0x16a)](_0x31557e);});}},Fa=require('express'),yt=class extends L{constructor(..._0x594bdd){const _0x132360=a0_0xe6bdb1;super(),this[_0x132360(0x4e0)]=(0x0,Fa[_0x132360(0x664)])(),this[_0x132360(0x4e0)]['get'](this['routerPath'](_0x132360(0x519)),..._0x594bdd,(_0x532bfc,_0x9d4d14)=>Ba[_0x132360(0x519)](_0x532bfc,_0x9d4d14));}},qa=require(a0_0xe6bdb1(0x5fd)),bt=class{},St=class extends L{constructor(..._0x1804f9){const _0x3cbda2=a0_0xe6bdb1;super(),this[_0x3cbda2(0x4e0)]=(0x0,qa[_0x3cbda2(0x664)])(),this[_0x3cbda2(0x4e0)][_0x3cbda2(0x205)](this[_0x3cbda2(0x1b1)](_0x3cbda2(0x3be)),..._0x1804f9,async(_0x55ab62,_0x13f885)=>{const _0x3abc21=_0x3cbda2;let _0x1a98f5=await this[_0x3abc21(0x224)]({'request':_0x55ab62,'schema':$a,'ClassRef':bt,'execute':(_0x5e3abb,_0x147065)=>us[_0x3abc21(0x288)](_0x5e3abb,_0x147065)});_0x13f885[_0x3abc21(0x453)](0xc9)[_0x3abc21(0x16a)](_0x1a98f5);})[_0x3cbda2(0x47c)](this[_0x3cbda2(0x1b1)](_0x3cbda2(0x268)),..._0x1804f9,async(_0x38ae5d,_0x234140)=>{const _0x570a8a=_0x3cbda2;let _0xfb4a74=await this[_0x570a8a(0x224)]({'request':_0x38ae5d,'schema':N,'ClassRef':b,'execute':_0x34e444=>us['findWebhook'](_0x34e444)});_0x234140[_0x570a8a(0x453)](0xc8)[_0x570a8a(0x16a)](_0xfb4a74);});}},Ga=require(a0_0xe6bdb1(0x5fd)),h=new C(a0_0xe6bdb1(0x2eb)),Et=class extends L{constructor(..._0x37d2b1){const _0x5696f=a0_0xe6bdb1;super(),this[_0x5696f(0x4e0)]=(0x0,Ga[_0x5696f(0x664)])(),this[_0x5696f(0x4e0)][_0x5696f(0x205)](this[_0x5696f(0x1b1)](_0x5696f(0x3cb)),..._0x37d2b1,async(_0x23dab4,_0x5899d8)=>{const _0x552fe4=_0x5696f;let _0x13e8e7=_0x23dab4[_0x552fe4(0x37b)];h['verbose'](_0x552fe4(0x4ba)),h[_0x552fe4(0x641)]('request\x20body:\x20'),h[_0x552fe4(0x641)](_0x23dab4[_0x552fe4(0x37b)]);let _0x45a8b7=await this[_0x552fe4(0x224)]({'request':_0x23dab4,'schema':N,'ClassRef':b,'execute':_0x1b5071=>R['editScheduleMessage'](_0x1b5071,_0x13e8e7)});_0x5899d8['status'](0xc8)['json'](_0x45a8b7);})[_0x5696f(0x47c)](this['routerPath'](_0x5696f(0x3cb)),..._0x37d2b1,async(_0x4e8c2b,_0x115a94)=>{const _0x3438c8=_0x5696f;let _0x1602b7=await this[_0x3438c8(0x224)]({'request':_0x4e8c2b,'schema':N,'ClassRef':b,'execute':_0x23d2dd=>R[_0x3438c8(0x256)](_0x23d2dd)});_0x115a94[_0x3438c8(0x453)](0xc8)[_0x3438c8(0x16a)](_0x1602b7);})['delete'](this[_0x5696f(0x1b1)](_0x5696f(0x69f)),..._0x37d2b1,async(_0x488d3c,_0x21bc80)=>{const _0x2a6118=_0x5696f;h[_0x2a6118(0x641)](_0x2a6118(0x197));let _0x401df7=await this[_0x2a6118(0x224)]({'request':_0x488d3c,'schema':N,'ClassRef':b,'execute':_0x20669a=>R[_0x2a6118(0x69f)](_0x20669a)});_0x21bc80[_0x2a6118(0x453)](0xc8)['json'](_0x401df7);})[_0x5696f(0x205)](this[_0x5696f(0x1b1)](_0x5696f(0x58f)),..._0x37d2b1,async(_0x198f22,_0xdb3a34)=>{const _0x59cced=_0x5696f;let _0x434b9c=_0x198f22[_0x59cced(0x37b)];h[_0x59cced(0x641)]('request\x20received\x20in\x20starFlow'),h['verbose'](_0x59cced(0x6c3)),h['verbose'](_0x198f22[_0x59cced(0x37b)]);let _0x1518df=await this['dataValidate']({'request':_0x198f22,'schema':N,'ClassRef':b,'execute':_0x36893a=>R[_0x59cced(0x58f)](_0x36893a,_0x434b9c)});_0xdb3a34[_0x59cced(0x453)](0xc8)[_0x59cced(0x16a)](_0x1518df);})[_0x5696f(0x47c)](this[_0x5696f(0x1b1)](_0x5696f(0x382)),..._0x37d2b1,async(_0x2fd60b,_0xfb11e5)=>{const _0x177cb1=_0x5696f;h[_0x177cb1(0x641)](_0x177cb1(0x554));let _0x2c7ef3=await this[_0x177cb1(0x224)]({'request':_0x2fd60b,'schema':N,'ClassRef':b,'execute':_0x2a23da=>R[_0x177cb1(0x382)](_0x2a23da)});_0xfb11e5[_0x177cb1(0x453)](0xc8)[_0x177cb1(0x16a)](_0x2c7ef3);})['get'](this['routerPath']('getTicketSystem'),..._0x37d2b1,async(_0x35d139,_0x131702)=>{const _0x34dfb2=_0x5696f;h[_0x34dfb2(0x641)](_0x34dfb2(0x46c));let _0xce3771=await this[_0x34dfb2(0x224)]({'request':_0x35d139,'schema':N,'ClassRef':b,'execute':_0x171a22=>R[_0x34dfb2(0x382)](_0x171a22)});_0x131702[_0x34dfb2(0x453)](0xc8)[_0x34dfb2(0x16a)](_0xce3771);})[_0x5696f(0x205)](this[_0x5696f(0x1b1)](_0x5696f(0x1db)),..._0x37d2b1,async(_0xc2c7c8,_0xee576c)=>{const _0x8de6fc=_0x5696f;let _0x12fc31=_0xc2c7c8[_0x8de6fc(0x37b)];h[_0x8de6fc(0x641)](_0x8de6fc(0x253)),h[_0x8de6fc(0x641)]('request\x20body:\x20'),h[_0x8de6fc(0x641)](_0xc2c7c8[_0x8de6fc(0x37b)]);let _0x449d7f=await this['dataValidate']({'request':_0xc2c7c8,'schema':N,'ClassRef':b,'execute':_0x58a136=>R[_0x8de6fc(0x1db)](_0x58a136,_0x12fc31)});_0xee576c[_0x8de6fc(0x453)](0xc8)['json'](_0x449d7f);})[_0x5696f(0x205)](this['routerPath'](_0x5696f(0x6a4)),..._0x37d2b1,async(_0x3c9341,_0x532fe4)=>{const _0x54ddc3=_0x5696f;let _0xb9726f=_0x3c9341[_0x54ddc3(0x37b)];h[_0x54ddc3(0x641)](_0x54ddc3(0x6ab)),h['verbose'](_0x54ddc3(0x6c3)),h[_0x54ddc3(0x641)](_0x3c9341[_0x54ddc3(0x37b)]);let _0x2470b=await this[_0x54ddc3(0x224)]({'request':_0x3c9341,'schema':N,'ClassRef':b,'execute':_0x4610b7=>R[_0x54ddc3(0x6a4)](_0x4610b7,_0xb9726f)});_0x532fe4[_0x54ddc3(0x453)](0xc8)[_0x54ddc3(0x16a)](_0x2470b);})[_0x5696f(0x205)](this[_0x5696f(0x1b1)](_0x5696f(0x5da)),..._0x37d2b1,async(_0x169012,_0x3bff19)=>{const _0x530f4c=_0x5696f;let _0x89aaa0=_0x169012['body'];h[_0x530f4c(0x641)](_0x530f4c(0x692)),h['verbose'](_0x530f4c(0x6c3)),h[_0x530f4c(0x641)](_0x169012[_0x530f4c(0x37b)]);let _0x432ba6=await this[_0x530f4c(0x224)]({'request':_0x169012,'schema':N,'ClassRef':b,'execute':_0x1a41a2=>R[_0x530f4c(0x5da)](_0x1a41a2,_0x89aaa0)});_0x3bff19['status'](0xc8)['json'](_0x432ba6);})[_0x5696f(0x205)](this[_0x5696f(0x1b1)](_0x5696f(0x349)),..._0x37d2b1,async(_0x1be832,_0x17dcda)=>{const _0x492176=_0x5696f;let _0x24b1a1=_0x1be832[_0x492176(0x37b)];h[_0x492176(0x641)](_0x492176(0x477)),h[_0x492176(0x641)](_0x492176(0x6c3)),h[_0x492176(0x641)](_0x1be832[_0x492176(0x37b)]);let _0x3b4fab=await this[_0x492176(0x224)]({'request':_0x1be832,'schema':N,'ClassRef':b,'execute':_0x341c7a=>R[_0x492176(0x349)](_0x341c7a,_0x24b1a1)});_0x17dcda[_0x492176(0x453)](0xc8)[_0x492176(0x16a)](_0x3b4fab);})['post'](this[_0x5696f(0x1b1)](_0x5696f(0x651)),..._0x37d2b1,async(_0x14505f,_0xb5687b)=>{const _0x3ed60c=_0x5696f;let _0x55b1c0=_0x14505f[_0x3ed60c(0x37b)];h[_0x3ed60c(0x641)]('request\x20received\x20in\x20fetchConversation'),h[_0x3ed60c(0x641)](_0x3ed60c(0x6c3)),h[_0x3ed60c(0x641)](_0x14505f[_0x3ed60c(0x37b)]);let _0x52648=await this[_0x3ed60c(0x224)]({'request':_0x14505f,'schema':N,'ClassRef':b,'execute':_0x19969c=>R['fetchConversation'](_0x19969c,_0x55b1c0)});_0xb5687b['status'](0xc8)[_0x3ed60c(0x16a)](_0x52648);})['post'](this[_0x5696f(0x1b1)](_0x5696f(0x274)),..._0x37d2b1,async(_0x3ebdef,_0x469fbe)=>{const _0x3a4eec=_0x5696f;let _0x1b663d=_0x3ebdef[_0x3a4eec(0x37b)];h[_0x3a4eec(0x641)]('request\x20received\x20in\x20editConversation'),h[_0x3a4eec(0x641)](_0x3a4eec(0x6c3)),h[_0x3a4eec(0x641)](_0x3ebdef[_0x3a4eec(0x37b)]);let _0x11c5d6=await this[_0x3a4eec(0x224)]({'request':_0x3ebdef,'schema':N,'ClassRef':b,'execute':_0x5b7b27=>R[_0x3a4eec(0x274)](_0x5b7b27,_0x1b663d)});_0x469fbe[_0x3a4eec(0x453)](0xc8)[_0x3a4eec(0x16a)](_0x11c5d6);})[_0x5696f(0x526)](this[_0x5696f(0x1b1)]('deleteConversation'),..._0x37d2b1,async(_0x2f7729,_0x3b65a8)=>{const _0x52e257=_0x5696f;let _0x20ed8c=_0x2f7729[_0x52e257(0x37b)];h[_0x52e257(0x641)](_0x52e257(0x643)),h[_0x52e257(0x641)](_0x52e257(0x6c3)),h[_0x52e257(0x641)](_0x2f7729[_0x52e257(0x37b)]);let _0x54817d=await this[_0x52e257(0x224)]({'request':_0x2f7729,'schema':N,'ClassRef':b,'execute':_0x2d72d8=>R[_0x52e257(0x21c)](_0x2d72d8,_0x20ed8c)});_0x3b65a8['status'](0xc8)['json'](_0x54817d);})[_0x5696f(0x205)](this[_0x5696f(0x1b1)](_0x5696f(0x6f7)),..._0x37d2b1,async(_0x5dfe1b,_0x323006)=>{const _0x138a94=_0x5696f;let _0x5acb84=_0x5dfe1b['body'];h[_0x138a94(0x641)](_0x138a94(0x417)),h['verbose'](_0x138a94(0x6c3)),h['verbose'](_0x5dfe1b[_0x138a94(0x37b)]);let _0x30c302=await this[_0x138a94(0x224)]({'request':_0x5dfe1b,'schema':N,'ClassRef':b,'execute':_0x1aebe3=>R[_0x138a94(0x55a)](_0x1aebe3,_0x5acb84)});_0x323006[_0x138a94(0x453)](0xc8)['json'](_0x30c302);})[_0x5696f(0x205)](this[_0x5696f(0x1b1)](_0x5696f(0x3fa)),..._0x37d2b1,async(_0x3a9b9d,_0x16c0d7)=>{const _0x4596fc=_0x5696f;let _0x20e8f1=_0x3a9b9d['body'];h[_0x4596fc(0x641)](_0x4596fc(0x672)),h[_0x4596fc(0x641)](_0x4596fc(0x6c3)),h[_0x4596fc(0x641)](_0x3a9b9d[_0x4596fc(0x37b)]),delete _0x20e8f1[_0x4596fc(0x187)],delete _0x20e8f1[_0x4596fc(0x171)],delete _0x20e8f1[_0x4596fc(0x1ae)],delete _0x20e8f1[_0x4596fc(0x300)];let _0x287b37=await this[_0x4596fc(0x224)]({'request':_0x3a9b9d,'schema':N,'ClassRef':b,'execute':_0x15a365=>R[_0x4596fc(0x667)](_0x15a365,_0x20e8f1)});_0x16c0d7[_0x4596fc(0x453)](0xc8)['json'](_0x287b37);})['post'](this[_0x5696f(0x1b1)]('editflowblock'),..._0x37d2b1,async(_0x4b58fc,_0x1569dd)=>{const _0x1d245c=_0x5696f;let _0x34afc0=_0x4b58fc[_0x1d245c(0x37b)];h[_0x1d245c(0x641)](_0x1d245c(0x672)),h['verbose'](_0x1d245c(0x6c3)),h[_0x1d245c(0x641)](_0x4b58fc[_0x1d245c(0x37b)]);let _0x975ab7=await this['dataValidate']({'request':_0x4b58fc,'schema':N,'ClassRef':b,'execute':_0xd0ed98=>R[_0x1d245c(0x409)](_0xd0ed98,_0x34afc0)});_0x1569dd[_0x1d245c(0x453)](0xc8)[_0x1d245c(0x16a)](_0x975ab7);})[_0x5696f(0x205)](this['routerPath'](_0x5696f(0x168)),..._0x37d2b1,async(_0x11d20b,_0x5da345)=>{const _0x4b18b7=_0x5696f;let _0x385694=_0x11d20b[_0x4b18b7(0x37b)];h[_0x4b18b7(0x641)]('request\x20received\x20in\x20editFlow'),h[_0x4b18b7(0x641)](_0x4b18b7(0x6c3)),h[_0x4b18b7(0x641)](_0x11d20b[_0x4b18b7(0x37b)]);let _0x44681a=await this['dataValidate']({'request':_0x11d20b,'schema':N,'ClassRef':b,'execute':_0x1cb76a=>R[_0x4b18b7(0x454)](_0x1cb76a,_0x385694)});_0x5da345['status'](0xc8)['json'](_0x44681a);})[_0x5696f(0x205)](this[_0x5696f(0x1b1)](_0x5696f(0x18c)),..._0x37d2b1,async(_0x3465d5,_0x2c5ec6)=>{const _0x4a7eec=_0x5696f;let _0x1daa62=_0x3465d5[_0x4a7eec(0x37b)];h[_0x4a7eec(0x641)](_0x4a7eec(0x672)),h[_0x4a7eec(0x641)](_0x4a7eec(0x6c3)),h[_0x4a7eec(0x641)](_0x3465d5[_0x4a7eec(0x37b)]);let _0x1894d5=await this[_0x4a7eec(0x224)]({'request':_0x3465d5,'schema':N,'ClassRef':b,'execute':_0x49cb0c=>R[_0x4a7eec(0x206)](_0x49cb0c,_0x1daa62)});_0x2c5ec6['status'](0xc8)[_0x4a7eec(0x16a)](_0x1894d5);})['post'](this[_0x5696f(0x1b1)](_0x5696f(0x17d)),..._0x37d2b1,async(_0x41ba66,_0xea0144)=>{const _0x1ffb53=_0x5696f;let _0x55b36f=_0x41ba66['body'];h[_0x1ffb53(0x641)](_0x1ffb53(0x72f)),h[_0x1ffb53(0x641)]('request\x20body:\x20'),h[_0x1ffb53(0x641)](_0x41ba66['body']);let _0x3619ae=await this['dataValidate']({'request':_0x41ba66,'schema':N,'ClassRef':b,'execute':_0x372d0b=>R[_0x1ffb53(0x4f2)](_0x372d0b,_0x55b36f)});_0xea0144[_0x1ffb53(0x453)](0xc8)['json'](_0x3619ae);})[_0x5696f(0x205)](this['routerPath'](_0x5696f(0x1d6)),..._0x37d2b1,async(_0x4c0c43,_0x58c8aa)=>{const _0x314dae=_0x5696f;let _0xb8a789=_0x4c0c43[_0x314dae(0x37b)];h[_0x314dae(0x641)](_0x314dae(0x4da)),h[_0x314dae(0x641)]('request\x20body:\x20'),h[_0x314dae(0x641)](_0x4c0c43['body']);let _0xe58e7c=await this[_0x314dae(0x224)]({'request':_0x4c0c43,'schema':N,'ClassRef':b,'execute':_0x506d17=>R[_0x314dae(0x6b6)](_0x506d17,_0xb8a789)});_0x58c8aa[_0x314dae(0x453)](0xc8)[_0x314dae(0x16a)](_0xe58e7c);})[_0x5696f(0x205)](this[_0x5696f(0x1b1)](_0x5696f(0x4fa)),..._0x37d2b1,async(_0x4e0c48,_0x5a8028)=>{const _0x2a1f69=_0x5696f;let _0x1c4025=_0x4e0c48[_0x2a1f69(0x37b)];h[_0x2a1f69(0x641)](_0x2a1f69(0x499)),h[_0x2a1f69(0x641)](_0x2a1f69(0x6c3)),h[_0x2a1f69(0x641)](_0x4e0c48[_0x2a1f69(0x37b)]);let _0x49e035=await this['dataValidate']({'request':_0x4e0c48,'schema':N,'ClassRef':b,'execute':_0xccc254=>R['editFlowVariable'](_0xccc254,_0x1c4025)});_0x5a8028[_0x2a1f69(0x453)](0xc8)[_0x2a1f69(0x16a)](_0x49e035);})[_0x5696f(0x205)](this[_0x5696f(0x1b1)]('getflow'),..._0x37d2b1,async(_0x44470e,_0x17a7ce)=>{const _0x593327=_0x5696f;let _0x1849be=_0x44470e[_0x593327(0x37b)];h[_0x593327(0x641)](_0x593327(0x173)),h[_0x593327(0x641)]('request\x20body:\x20'),h['verbose'](_0x44470e[_0x593327(0x37b)]);let _0xb1df7a=await this[_0x593327(0x224)]({'request':_0x44470e,'schema':N,'ClassRef':b,'execute':_0x1b6ffa=>R[_0x593327(0x501)](_0x1b6ffa,_0x1849be)});_0x17a7ce[_0x593327(0x453)](0xc8)[_0x593327(0x16a)](_0xb1df7a);})[_0x5696f(0x526)](this['routerPath']('deleteflow'),..._0x37d2b1,async(_0xd5a73f,_0x1df70b)=>{const _0x13cf44=_0x5696f;let _0x485a2e=_0xd5a73f[_0x13cf44(0x37b)];h[_0x13cf44(0x641)](_0x13cf44(0x417)),h[_0x13cf44(0x641)]('request\x20body:\x20'),h['verbose'](_0xd5a73f[_0x13cf44(0x37b)]);let _0x1802e6=await this[_0x13cf44(0x224)]({'request':_0xd5a73f,'schema':N,'ClassRef':b,'execute':_0x258015=>R['deleteFlow'](_0x258015,_0x485a2e)});_0x1df70b[_0x13cf44(0x453)](0xc8)[_0x13cf44(0x16a)](_0x1802e6);})[_0x5696f(0x47c)](this[_0x5696f(0x1b1)](_0x5696f(0x6e2)),..._0x37d2b1,async(_0x454508,_0x505ab5)=>{const _0x304f78=_0x5696f;h[_0x304f78(0x641)](_0x304f78(0x498));let _0x33a378=await this[_0x304f78(0x224)]({'request':_0x454508,'schema':N,'ClassRef':b,'execute':_0x1f716d=>R[_0x304f78(0x6a0)](_0x1f716d)});_0x505ab5[_0x304f78(0x453)](0xc8)['json'](_0x33a378);});}},za=T(require(a0_0xe6bdb1(0x5f4))),ee={};function Wa(_0x522bd8,_0x19b407,_0x554a06,_0x44712d){ee[_0x522bd8]||(ee[_0x522bd8]={}),ee[_0x522bd8][_0x19b407]={'id':_0x19b407,'response':_0x554a06,'events':_0x44712d};}function Ha(_0x4e5896,_0x196bcb){!ee[_0x4e5896]||!ee[_0x4e5896][_0x196bcb]||delete ee[_0x4e5896][_0x196bcb];}function B(_0x3de89e,_0x33236e,_0x2bc604){const _0x4a62af=a0_0xe6bdb1;if(!ee[_0x3de89e])return;let _0x12a62e=_0x4a62af(0x32f)+JSON['stringify'](_0x2bc604)+'\x0a\x0a';Object[_0x4a62af(0x68d)](ee[_0x3de89e])[_0x4a62af(0x19f)](_0x179c1a=>{const _0x17f2ca=_0x4a62af;_0x179c1a[_0x17f2ca(0x724)]['includes'](_0x33236e)&&_0x179c1a[_0x17f2ca(0x58c)][_0x17f2ca(0x4e2)](_0x12a62e);});}function Ka(){const _0x5a0a7a=a0_0xe6bdb1;let _0x36fee6={};for(let _0x16e7ad in ee)_0x36fee6[_0x16e7ad]=Object['values'](ee[_0x16e7ad])[_0x5a0a7a(0x538)](_0x5c83a7=>({'id':_0x5c83a7['id'],'events':_0x5c83a7[_0x5a0a7a(0x724)]}));return _0x36fee6;}var Qa=require(a0_0xe6bdb1(0x1a5)),Wo=za['default'][a0_0xe6bdb1(0x56c)](__dirname,a0_0xe6bdb1(0x445)),Nt=(0x0,vt['Router'])(),Ho=S[a0_0xe6bdb1(0x47c)](a0_0xe6bdb1(0x67a))[a0_0xe6bdb1(0x50c)],ue=[rs,Zs,sa[Ho]];Nt['use'](a0_0xe6bdb1(0x677),vt['default'][a0_0xe6bdb1(0x176)](Wo))[a0_0xe6bdb1(0x47c)](a0_0xe6bdb1(0x4b3),async(_0x420274,_0x318e51)=>{const _0x3c9ef4=a0_0xe6bdb1;console[_0x3c9ef4(0x6c7)]('bateu\x20events');let _0x5cedda=_0x420274[_0x3c9ef4(0x1fe)]['instance'],_0x5bb0e2=(_0x420274[_0x3c9ef4(0x58a)]['events']||'')[_0x3c9ef4(0x204)](','),_0xb6bed7=(0x0,Qa['v4'])();console['log'](_0x3c9ef4(0x18f),_0x5cedda),console['log'](_0x3c9ef4(0x4d4),_0x5bb0e2);let _0x1be341=S[_0x3c9ef4(0x47c)]('AUTHENTICATION')[_0x3c9ef4(0x60c)],_0x3656b5=_0x420274[_0x3c9ef4(0x58a)][_0x3c9ef4(0x309)];if(console['log']('API\x20Key\x20from\x20Request:',_0x3656b5),_0x1be341[_0x3c9ef4(0x26f)]!==_0x3656b5){console[_0x3c9ef4(0x6c7)](_0x3c9ef4(0x228));try{let _0x36dd38=await le[_0x3c9ef4(0x54c)][_0x3c9ef4(0x268)](_0x5cedda);if(console[_0x3c9ef4(0x6c7)]('Instance\x20Key\x20from\x20DB:',_0x36dd38),!_0x36dd38||_0x36dd38[_0x3c9ef4(0x309)]!==_0x3656b5)return console[_0x3c9ef4(0x6c7)]('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x318e51[_0x3c9ef4(0x453)](0x191)[_0x3c9ef4(0x726)](_0x3c9ef4(0x1ce));}catch(_0x5b8617){return console[_0x3c9ef4(0x507)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x5b8617),_0x318e51[_0x3c9ef4(0x453)](0x191)[_0x3c9ef4(0x726)](_0x3c9ef4(0x61a));}}if(!await qe(_0x5cedda))return _0x318e51[_0x3c9ef4(0x453)](0x194)[_0x3c9ef4(0x726)]('Instância\x20não\x20encontrada.');_0x318e51['setHeader'](_0x3c9ef4(0x200),_0x3c9ef4(0x6e6)),_0x318e51[_0x3c9ef4(0x3b0)](_0x3c9ef4(0x669),'no-cache'),_0x318e51[_0x3c9ef4(0x3b0)](_0x3c9ef4(0x60f),_0x3c9ef4(0x24c)),_0x318e51[_0x3c9ef4(0x5b5)]();let _0x5861af=_0x3c9ef4(0x32f)+JSON[_0x3c9ef4(0x533)]({'info':_0x3c9ef4(0x4fb)})+'\x0a\x0a';_0x318e51[_0x3c9ef4(0x4e2)](_0x5861af),Wa(_0x5cedda,_0xb6bed7,_0x318e51,_0x5bb0e2),_0x420274['on'](_0x3c9ef4(0x697),()=>{const _0xae4eee=_0x3c9ef4;console[_0xae4eee(0x6c7)](_0xae4eee(0x31e)+_0x5cedda),Ha(_0x5cedda,_0xb6bed7);});}),Nt[a0_0xe6bdb1(0x47c)](a0_0xe6bdb1(0x4c1),(_0x33ef01,_0x25b53b)=>{let _0x5581f6=Ka();_0x25b53b['json'](_0x5581f6);})[a0_0xe6bdb1(0x47c)]('/',(_0x424b8c,_0x42a1d5)=>{const _0x36b26e=a0_0xe6bdb1;let _0x2af35a=S[_0x36b26e(0x47c)](_0x36b26e(0x559)),_0x37f6f3=_0x2af35a&&_0x2af35a[_0x36b26e(0x21a)][_0x36b26e(0x204)]('/')[0x4];if(_0x37f6f3){let _0xd6bd5f=encodeURIComponent(_0x36b26e(0x598)+_0x37f6f3);_0x42a1d5[_0x36b26e(0x55d)](_0x36b26e(0x729)+_0xd6bd5f);}else _0x42a1d5[_0x36b26e(0x55d)]('https://uazapi-plugin.bubbleapps.io/');})['put'](a0_0xe6bdb1(0x712),...ue,async(_0x1cd62f,_0x24fa84)=>{const _0xa191ba=a0_0xe6bdb1;try{console['log'](_0xa191ba(0x48c)),_0x24fa84[_0xa191ba(0x453)](0xc8)[_0xa191ba(0x16a)]({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x24fa84['on']('finish',()=>process[_0xa191ba(0x584)](0x0));}catch(_0x1e2699){console[_0xa191ba(0x507)](_0xa191ba(0x3bf),_0x1e2699),_0x24fa84[_0xa191ba(0x453)](0x1f4)['json']({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0xe6bdb1(0x674)](a0_0xe6bdb1(0x1c3),new nt(S,...ue)[a0_0xe6bdb1(0x4e0)],new yt(rs)[a0_0xe6bdb1(0x4e0)])['use'](a0_0xe6bdb1(0x1ca),new wt(...ue)[a0_0xe6bdb1(0x4e0)])['use'](a0_0xe6bdb1(0x371),new ze(...ue)[a0_0xe6bdb1(0x4e0)])[a0_0xe6bdb1(0x674)](a0_0xe6bdb1(0x289),new ot(...ue)[a0_0xe6bdb1(0x4e0)])['use'](a0_0xe6bdb1(0x1f1),new St(...ue)[a0_0xe6bdb1(0x4e0)])['use'](a0_0xe6bdb1(0x555),new Et(...ue)['router']);var g=class{constructor(..._0x2b52bc){const _0x3ee037=a0_0xe6bdb1;throw{'status':0x190,'error':_0x3ee037(0x152),'message':_0x2b52bc[_0x3ee037(0x5b9)]>0x0?_0x2b52bc:void 0x0};}},ie=class{constructor(..._0xa43966){const _0x225127=a0_0xe6bdb1;throw{'status':0x191,'error':_0x225127(0x1ee),'message':_0xa43966[_0x225127(0x5b9)]>0x0?_0xa43966:void 0x0};}},oe=class{constructor(..._0x52ddff){const _0x2da52a=a0_0xe6bdb1;throw{'status':0x193,'error':_0x2da52a(0x384),'message':_0x52ddff['length']>0x0?_0x52ddff:void 0x0};}},$=class{constructor(..._0x4b628d){const _0x191d91=a0_0xe6bdb1;throw{'status':0x194,'error':_0x191d91(0x419),'message':_0x4b628d['length']>0x0?_0x4b628d:void 0x0};}},A=class{constructor(..._0x105fae){const _0x7029f3=a0_0xe6bdb1;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x105fae[_0x7029f3(0x5b9)]>0x0?_0x105fae:void 0x0};}},de=require(a0_0xe6bdb1(0x44a));async function ds(_0x1c6fe9){const _0x315734=a0_0xe6bdb1;let _0x53b99f=new C(ds[_0x315734(0x34d)]),_0x50851a=M['getClient'](),_0x4f39b0=_0x50851a['db'](S['get'](_0x315734(0x225))[_0x315734(0x3ec)]['DB_PREFIX_NAME']+_0x315734(0x17f))[_0x315734(0x39c)](_0x1c6fe9),_0x1a014f=async(_0xca7537,_0x52ce32)=>{const _0x1ad585=_0x315734;try{return await _0x50851a[_0x1ad585(0x195)](),await _0x4f39b0['replaceOne']({'_id':_0x52ce32},JSON[_0x1ad585(0x2c9)](JSON[_0x1ad585(0x533)](_0xca7537,de['BufferJSON'][_0x1ad585(0x4bf)])),{'upsert':!0x0});}catch{}},_0x40bd05=async _0x38a67a=>{const _0x109ad8=_0x315734;try{await _0x50851a[_0x109ad8(0x195)]();let _0x17b4a8=await _0x4f39b0[_0x109ad8(0x5d7)]({'_id':_0x38a67a}),_0x5c5eac=JSON[_0x109ad8(0x533)](_0x17b4a8);return JSON[_0x109ad8(0x2c9)](_0x5c5eac,de['BufferJSON'][_0x109ad8(0x70d)]);}catch{}},_0x916706=async _0x1d5629=>{const _0x5bcadc=_0x315734;try{return await _0x50851a['connect'](),await _0x4f39b0[_0x5bcadc(0x2e4)]({'_id':_0x1d5629});}catch{}},_0x4ecfb5=await _0x40bd05(_0x315734(0x3e2))||(0x0,de['initAuthCreds'])();return{'state':{'creds':_0x4ecfb5,'keys':{'get':async(_0x4d36ee,_0x2e9546)=>{const _0x46ab2f=_0x315734;let _0x47d02c={};return await Promise['all'](_0x2e9546[_0x46ab2f(0x538)](async _0x618c56=>{const _0x27b1b1=_0x46ab2f;let _0x3ff38f=await _0x40bd05(_0x4d36ee+'-'+_0x618c56);_0x4d36ee===_0x27b1b1(0x5b6)&&_0x3ff38f&&(_0x3ff38f=de[_0x27b1b1(0x174)][_0x27b1b1(0x32d)][_0x27b1b1(0x5c1)]['fromObject'](_0x3ff38f)),_0x47d02c[_0x618c56]=_0x3ff38f;})),_0x47d02c;},'set':async _0x572c7d=>{const _0x2532ff=_0x315734;let _0x5f21d5=[];for(let _0x3adf63 in _0x572c7d)for(let _0x508a48 in _0x572c7d[_0x3adf63]){let _0x4ef776=_0x572c7d[_0x3adf63][_0x508a48],_0x5e1bc8=_0x3adf63+'-'+_0x508a48;_0x5f21d5['push'](_0x4ef776?_0x1a014f(_0x4ef776,_0x5e1bc8):_0x916706(_0x5e1bc8));}await Promise[_0x2532ff(0x5fe)](_0x5f21d5);}}},'saveCreds':async()=>_0x1a014f(_0x4ecfb5,'creds')};}var gs=T(require(a0_0xe6bdb1(0x46d))),ms=T(require(a0_0xe6bdb1(0x2a6))),Rt=require('@whiskeysockets/baileys'),Ya=require(a0_0xe6bdb1(0x2f1)),Tt=require(a0_0xe6bdb1(0x44a)),Ct;function Ko(_0x544415){const _0x393ff8=a0_0xe6bdb1;return Ct||(Ct=(0x0,Ya[_0x393ff8(0x1e0)])({'url':_0x544415['URI']}),Ct['connect']()),Ct;}var ne=class c{constructor(_0x3e2e28,_0x19f1a3){const _0x4ab9c0=a0_0xe6bdb1;this[_0x4ab9c0(0x624)]=_0x3e2e28,this['instanceName']=_0x19f1a3,this[_0x4ab9c0(0x40d)]=new C(c['name']),this[_0x4ab9c0(0x722)]=Ko(_0x3e2e28);}set['reference'](_0x566ade){const _0xcac8=a0_0xe6bdb1;this[_0xcac8(0x2c4)]=_0x566ade;}async['instanceKeys'](){const _0x5848fe=a0_0xe6bdb1;try{return await this['client'][_0x5848fe(0x241)](['keys',this[_0x5848fe(0x624)][_0x5848fe(0x4ab)]+':*']);}catch(_0x27bf49){this[_0x5848fe(0x40d)][_0x5848fe(0x507)](_0x27bf49);}}async[a0_0xe6bdb1(0x2b7)](_0x6b4fec,_0x4d7712){const _0x7efdaf=a0_0xe6bdb1;try{let _0x1774d2=JSON[_0x7efdaf(0x533)](_0x4d7712,Tt['BufferJSON'][_0x7efdaf(0x4bf)]);return await this[_0x7efdaf(0x722)][_0x7efdaf(0x333)](this[_0x7efdaf(0x624)]['PREFIX_KEY']+':'+this[_0x7efdaf(0x2c4)],_0x6b4fec,_0x1774d2);}catch(_0x48f193){this[_0x7efdaf(0x40d)][_0x7efdaf(0x507)](_0x48f193);}}async[a0_0xe6bdb1(0x160)](){const _0xc50d6d=a0_0xe6bdb1;try{let _0x532754=await this[_0xc50d6d(0x722)][_0xc50d6d(0x2a1)](this[_0xc50d6d(0x624)]['PREFIX_KEY']+':'+this[_0xc50d6d(0x2c4)]);if(_0x532754){for(let _0x274bd4 in _0x532754)Object[_0xc50d6d(0x3d2)][_0xc50d6d(0x45d)]['call'](_0x532754,_0x274bd4)&&(_0x532754[_0x274bd4]=JSON['parse'](_0x532754[_0x274bd4],Tt[_0xc50d6d(0x6db)][_0xc50d6d(0x70d)]));return _0x532754;}}catch(_0x59127c){this['logger'][_0xc50d6d(0x507)](_0x59127c);}}async[a0_0xe6bdb1(0x535)](_0x54361f){const _0x303d71=a0_0xe6bdb1;try{let _0xd60404=await this['client'][_0x303d71(0x426)](this[_0x303d71(0x624)]['PREFIX_KEY']+':'+this['instanceName'],_0x54361f);if(_0xd60404)return JSON[_0x303d71(0x2c9)](_0xd60404,Tt['BufferJSON'][_0x303d71(0x70d)]);}catch(_0x49fd43){this[_0x303d71(0x40d)][_0x303d71(0x507)](_0x49fd43);}}async['removeData'](_0x4fbb22){const _0x53d052=a0_0xe6bdb1;try{return await this[_0x53d052(0x722)][_0x53d052(0x703)](this[_0x53d052(0x624)][_0x53d052(0x4ab)]+':'+this[_0x53d052(0x2c4)],_0x4fbb22);}catch(_0x2f8e81){this['logger']['error'](_0x2f8e81);}}async[a0_0xe6bdb1(0x556)](_0x36f78c){const _0x15e05a=a0_0xe6bdb1;try{return await this[_0x15e05a(0x722)][_0x15e05a(0x658)](_0x36f78c||this[_0x15e05a(0x624)][_0x15e05a(0x4ab)]+':'+this[_0x15e05a(0x2c4)]);}catch(_0x433e45){this['logger'][_0x15e05a(0x507)](_0x433e45);}}};async function ps(_0x367ea5,_0x167a02){const _0x3aedd0=a0_0xe6bdb1;let _0x989e0b=new C(ps[_0x3aedd0(0x34d)]),_0x3fb4e6=new ne(_0x367ea5,_0x167a02),_0x16e7cc=async(_0x463144,_0x48924e)=>{const _0x29c440=_0x3aedd0;try{return await _0x3fb4e6[_0x29c440(0x2b7)](_0x48924e,_0x463144);}catch(_0x57fe87){return _0x989e0b['error']({'localError':_0x29c440(0x2b7),'error':_0x57fe87});}},_0x82ce22=async _0x4bcffd=>{const _0x56ce20=_0x3aedd0;try{return await _0x3fb4e6[_0x56ce20(0x535)](_0x4bcffd);}catch(_0x60f5db){_0x989e0b[_0x56ce20(0x507)]({'readData':'writeData','error':_0x60f5db});return;}},_0x396c4a=async _0x54843d=>{const _0x16dd62=_0x3aedd0;try{return await _0x3fb4e6[_0x16dd62(0x474)](_0x54843d);}catch(_0x3d51cf){_0x989e0b['error']({'readData':_0x16dd62(0x474),'error':_0x3d51cf});}},_0x1758da=await _0x82ce22(_0x3aedd0(0x3e2))||(0x0,Rt[_0x3aedd0(0x5b4)])();return{'state':{'creds':_0x1758da,'keys':{'get':async(_0x2ffbfa,_0x2f5d0b)=>{const _0x16d3e2=_0x3aedd0;let _0x10dfa0={};return await Promise[_0x16d3e2(0x5fe)](_0x2f5d0b[_0x16d3e2(0x538)](async _0x1ada21=>{const _0x531f32=_0x16d3e2;let _0x4255c8=await _0x82ce22(_0x2ffbfa+'-'+_0x1ada21);_0x2ffbfa==='app-state-sync-key'&&_0x4255c8&&(_0x4255c8=Rt[_0x531f32(0x174)][_0x531f32(0x32d)][_0x531f32(0x5c1)]['fromObject'](_0x4255c8)),_0x10dfa0[_0x1ada21]=_0x4255c8;})),_0x10dfa0;},'set':async _0x55a4e9=>{const _0x1d8240=_0x3aedd0;let _0xf6b052=[];for(let _0x5d2f09 in _0x55a4e9)for(let _0x4498ba in _0x55a4e9[_0x5d2f09]){let _0x5730f8=_0x55a4e9[_0x5d2f09][_0x4498ba],_0x4c48b0=_0x5d2f09+'-'+_0x4498ba;_0xf6b052[_0x1d8240(0x367)](_0x5730f8?await _0x16e7cc(_0x5730f8,_0x4c48b0):await _0x396c4a(_0x4c48b0));}await Promise['all'](_0xf6b052);}}},'saveCreds':async()=>await _0x16e7cc(_0x1758da,_0x3aedd0(0x3e2))};}var x=T(require('fs')),It=require(a0_0xe6bdb1(0x1a5)),Ot=T(require(a0_0xe6bdb1(0x6d4)));function _(_0x2130f2){const _0x12bb89=a0_0xe6bdb1;if(_0x2130f2[_0x12bb89(0x70c)]||_0x2130f2['viewOnceMessageV2']){let _0x1a9750=_0x2130f2[_0x12bb89(0x70c)]?_0x2130f2[_0x12bb89(0x70c)][_0x12bb89(0x600)]:_0x2130f2['viewOnceMessageV2']['message'];return(0x0,w[_0x12bb89(0x72b)])(_0x1a9750);}return _0x2130f2[_0x12bb89(0x32b)]?_0x12bb89(0x32b):_0x2130f2[_0x12bb89(0x31f)]?_0x12bb89(0x31f):_0x2130f2[_0x12bb89(0x631)]?'viewOnceMessageV2Extension':(0x0,w[_0x12bb89(0x72b)])(_0x2130f2);}var ye=class c{constructor(_0x7dde8d,_0x41e08c,_0x343598){const _0x297e83=a0_0xe6bdb1;this[_0x297e83(0x440)]=_0x7dde8d,this[_0x297e83(0x573)]=_0x41e08c,this[_0x297e83(0x217)]=_0x343598,this[_0x297e83(0x1c7)]=null,this[_0x297e83(0x40d)]=new C(c[_0x297e83(0x34d)]),this[_0x297e83(0x15d)]={},this[_0x297e83(0x2cb)]={},this[_0x297e83(0x165)]={'state':'close'},this['storePath']=(0x0,k[_0x297e83(0x56c)])(Q,_0x297e83(0x445)),this['msgRetryCounterCache']=new ms[(_0x297e83(0x6cd))](),this[_0x297e83(0x2e0)]=new ms[(_0x297e83(0x6cd))](),this['endSession']=!0x1,this[_0x297e83(0x635)]={'status.instance':_0x297e83(0x3f1),'qrcode.updated':_0x297e83(0x375),'messages.upsert':_0x297e83(0x5f5),'messages.update':_0x297e83(0x5e4),'send.message':_0x297e83(0x5f5),'group.upsert':'/wa-groups','group.update':'/wa-groups','group-participants.update':'/wa-groups','connection.update':_0x297e83(0x3f1),'messages.set':'/wa-message','contacts.set':_0x297e83(0x308),'contacts.upsert':_0x297e83(0x308),'contacts.update':_0x297e83(0x308),'presence.update':_0x297e83(0x57e),'chats.set':_0x297e83(0x506),'chats.update':_0x297e83(0x506),'chats.upsert':_0x297e83(0x506),'chats.delete':_0x297e83(0x506)},this[_0x297e83(0x3c0)]=0x0,this[_0x297e83(0x23d)]=[],this[_0x297e83(0x410)]=0xf,this[_0x297e83(0x2b8)]=0x7530,this[_0x297e83(0x428)]=!0x1,this['chatHandle']={'chats.upsert':async(_0x18e56e,_0x1be50c)=>{const _0x21cf89=_0x297e83;let _0x1cba64=[];for await(let _0x3752b0 of _0x18e56e)_0x1cba64['push']({'_id':_0x3752b0['id'],'owner':this['instance'][_0x21cf89(0x660)],'group':_0x3752b0['id'][_0x21cf89(0x29e)](_0x21cf89(0x6d1)),'name':_0x3752b0[_0x21cf89(0x34d)]||_0x3752b0['displayName']||null,'contactname':null,'lastmsg':_0x3752b0[_0x21cf89(0x3ed)]&&_0x3752b0[_0x21cf89(0x3ed)]['toString']()[_0x21cf89(0x5b9)]<0xd?_0x3752b0['conversationTimestamp']*0x3e8:_0x3752b0[_0x21cf89(0x3ed)]||null,'archived':_0x3752b0[_0x21cf89(0x370)]||!0x1,'unreadcount':_0x3752b0['unreadCount']||0x0});this[_0x21cf89(0x44c)](_0x21cf89(0x31a),_0x1cba64);},'chats.update':async(_0x1bd350,_0x4a9df0)=>{const _0x2dca3d=_0x297e83;for(let _0xa47d28 of _0x1bd350){let _0x2b3a8d={'_id':_0xa47d28['id'],'owner':this['instance'][_0x2dca3d(0x660)],'group':_0xa47d28['id'][_0x2dca3d(0x29e)](_0x2dca3d(0x6d1)),'name':_0xa47d28['name']||_0xa47d28[_0x2dca3d(0x63f)],'archived':_0xa47d28['archived']},_0x11ff5f=!0x1,_0x49c4dc={};_0x2b3a8d['archived']!=null&&(this[_0x2dca3d(0x40d)][_0x2dca3d(0x641)](this[_0x2dca3d(0x2c4)]+'\x20('+this[_0x2dca3d(0x15d)]['wuid']+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0xa47d28['archived']),_0x11ff5f=!0x0,_0x49c4dc[_0x2dca3d(0x370)]=_0xa47d28[_0x2dca3d(0x370)]),_0xa47d28[_0x2dca3d(0x34d)]!=null&&(this[_0x2dca3d(0x40d)][_0x2dca3d(0x641)](this['instanceName']+'\x20('+this['instance'][_0x2dca3d(0x660)]+'):\x20teve\x20mudanças\x20chat.name:\x20'+_0xa47d28[_0x2dca3d(0x34d)]),_0x11ff5f=!0x0,_0x49c4dc[_0x2dca3d(0x34d)]=_0xa47d28['name']),_0xa47d28[_0x2dca3d(0x63f)]!=null&&(this['logger'][_0x2dca3d(0x641)](this[_0x2dca3d(0x2c4)]+'\x20('+this[_0x2dca3d(0x15d)][_0x2dca3d(0x660)]+'):\x20teve\x20mudanças\x20chat.displayName:\x20'+_0xa47d28[_0x2dca3d(0x63f)]),_0x11ff5f=!0x0,_0x49c4dc[_0x2dca3d(0x34d)]=_0xa47d28['displayName']);let _0x699b19;_0x11ff5f&&(_0x699b19=await this[_0x2dca3d(0x217)][_0x2dca3d(0x497)]['updateOne']({'where':{'_id':_0xa47d28['id'],'owner':this[_0x2dca3d(0x15d)][_0x2dca3d(0x660)]}},_0x49c4dc)),_0x699b19&&B(this[_0x2dca3d(0x2c4)],_0x2dca3d(0x21f),{'chat':_0x699b19});}},'chats.delete':async _0x184aad=>{const _0x369eef=_0x297e83;this[_0x369eef(0x44c)](_0x369eef(0x2e3),[..._0x184aad]);}},this[_0x297e83(0x5c5)]={'contacts.upsert':async(_0x1c5650,_0x2fbb4b)=>{const _0x44b6a6=_0x297e83;let _0x2b82a9=await this['repository'][_0x44b6a6(0x69b)][_0x44b6a6(0x268)]({'where':{'owner':this[_0x44b6a6(0x15d)]['wuid']}}),_0x197b55=[];for await(let _0x23ad88 of _0x1c5650)_0x2b82a9[_0x44b6a6(0x268)](_0x315e83=>_0x315e83[_0x44b6a6(0x1f9)]===_0x23ad88['id'])||_0x197b55[_0x44b6a6(0x367)]({'_id':_0x23ad88['id'],'pushName':_0x23ad88?.[_0x44b6a6(0x34d)]||_0x23ad88?.[_0x44b6a6(0x192)],'owner':this[_0x44b6a6(0x15d)][_0x44b6a6(0x660)]});this[_0x44b6a6(0x44c)](_0x44b6a6(0x4d5),_0x197b55),await this['repository'][_0x44b6a6(0x69b)]['insert'](_0x197b55);},'contacts.update':async(_0x47dba3,_0x222261)=>{const _0x58355c=_0x297e83;let _0x34dbdf=[];for await(let _0x445ab7 of _0x47dba3)_0x34dbdf['push']({'_id':_0x445ab7['id'],'pushName':_0x445ab7?.['name']??_0x445ab7?.['verifiedName'],'owner':this['instance'][_0x58355c(0x660)]});this[_0x58355c(0x44c)](_0x58355c(0x298),_0x34dbdf);}},this[_0x297e83(0x2bd)]={'messaging-history.set':async({messages:_0x285c64,chats:_0x25c5ea,isLatest:_0x1bc678},_0x128b14)=>{const _0x50dbfb=_0x297e83;if(_0x1bc678){let _0x17fd04=await Promise[_0x50dbfb(0x5fe)](_0x25c5ea[_0x50dbfb(0x538)](async _0x610a60=>({'_id':_0x610a60['id'],'owner':this['instance']['wuid'],'group':_0x610a60['id'][_0x50dbfb(0x29e)](_0x50dbfb(0x6d1)),'name':_0x610a60[_0x50dbfb(0x34d)]||_0x610a60['displayName']||null,'contactname':null,'lastmsg':_0x610a60[_0x50dbfb(0x3ed)]&&_0x610a60[_0x50dbfb(0x3ed)][_0x50dbfb(0x604)]()['length']<0xd?_0x610a60[_0x50dbfb(0x3ed)]*0x3e8:_0x610a60[_0x50dbfb(0x3ed)]||null,'archived':_0x610a60[_0x50dbfb(0x370)]||!0x1,'unreadcount':_0x610a60[_0x50dbfb(0x3f6)]||0x0})));this['sendDataWebhook'](_0x50dbfb(0x4c7),_0x17fd04),await this['upsertChats'](_0x17fd04,_0x128b14);}let _0x2cd922=[],_0x590c22=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x481c91]of Object['entries'](_0x285c64)){if(_0x481c91[_0x50dbfb(0x600)]?.[_0x50dbfb(0x1e8)]||_0x481c91[_0x50dbfb(0x600)]?.['senderKeyDistributionMessage']||!_0x481c91[_0x50dbfb(0x600)]||_0x481c91[_0x50dbfb(0x423)][_0x50dbfb(0x267)]===_0x50dbfb(0x696)||(gs[_0x50dbfb(0x6cd)]['isLong'](_0x481c91?.['messageTimestamp'])&&(_0x481c91[_0x50dbfb(0x1e2)]=_0x481c91['messageTimestamp']?.['toNumber']()),_0x481c91[_0x50dbfb(0x1e2)]&&_0x481c91['messageTimestamp'][_0x50dbfb(0x604)]()[_0x50dbfb(0x5b9)]<0xd&&(_0x481c91['messageTimestamp']=_0x481c91['messageTimestamp']*0x3e8),_0x481c91[_0x50dbfb(0x1e2)]<_0x590c22))continue;let {message_normalized:_0x3e3c69}=this[_0x50dbfb(0x199)](_0x481c91['message'],_(_0x481c91[_0x50dbfb(0x600)]),null);Object[_0x50dbfb(0x55c)](_0x3e3c69)['length']>0x0&&_0x2cd922[_0x50dbfb(0x367)]({'_id':_0x481c91['key']['id'],'key':_0x481c91['key'],'pushName':_0x481c91[_0x50dbfb(0x515)],'participant':_0x481c91[_0x50dbfb(0x2c7)],'message':{..._0x481c91[_0x50dbfb(0x600)]},'messageType':_(_0x481c91[_0x50dbfb(0x600)]),'message_normalized':{'key':_0x481c91[_0x50dbfb(0x423)],'pushName':_0x481c91[_0x50dbfb(0x515)],'messageTimestamp':_0x481c91[_0x50dbfb(0x1e2)],..._0x3e3c69},'messageTimestamp':_0x481c91[_0x50dbfb(0x1e2)],'owner':this[_0x50dbfb(0x15d)][_0x50dbfb(0x660)]});}_0x128b14['ENABLED']&&_0x2cd922[_0x50dbfb(0x5b9)]>0x0&&(this['logger'][_0x50dbfb(0x641)](this[_0x50dbfb(0x2c4)]+'\x20('+this[_0x50dbfb(0x15d)]['wuid']+_0x50dbfb(0x5f9)+_0x2cd922[_0x50dbfb(0x5b9)]+_0x50dbfb(0x434)+this[_0x50dbfb(0x15d)][_0x50dbfb(0x660)]+_0x50dbfb(0x6ef)),await this[_0x50dbfb(0x217)][_0x50dbfb(0x600)][_0x50dbfb(0x2e6)]([..._0x2cd922])),this[_0x50dbfb(0x44c)]('messages.set',[..._0x2cd922]),_0x285c64=void 0x0;},'messages.upsert':async({messages:_0x7539d2,type:_0x37c709},_0x2c9af8)=>{const _0x2b3a16=_0x297e83;let _0x18593d=_0x7539d2[0x0];if(_0x37c709!=='notify'||!_0x18593d?.[_0x2b3a16(0x600)]||_0x18593d['message']?.[_0x2b3a16(0x1e8)]||_0x18593d[_0x2b3a16(0x600)]['senderKeyDistributionMessage']||_0x18593d['key'][_0x2b3a16(0x267)]==='status@broadcast')return;let _0x181036=null,_0x3f9cc0=null;try{_0x181036=await this['processPollUpdateMessage'](_0x18593d),_0x3f9cc0=_0x181036?_0x181036[_0x2b3a16(0x56c)](','):null;}catch(_0x1d6495){this['logger'][_0x2b3a16(0x641)](this[_0x2b3a16(0x2c4)]+'\x20('+this[_0x2b3a16(0x15d)][_0x2b3a16(0x660)]+_0x2b3a16(0x5f9)+JSON[_0x2b3a16(0x533)](_0x1d6495,null,0x2)),_0x3f9cc0=_0x2b3a16(0x43d);}if(this[_0x2b3a16(0x722)]['sendPresenceUpdate'](_0x2b3a16(0x2a2)),gs['default'][_0x2b3a16(0x16e)](_0x18593d['messageTimestamp'])&&(_0x18593d['messageTimestamp']=_0x18593d[_0x2b3a16(0x1e2)]?.['toNumber']()),this[_0x2b3a16(0x2cb)]?.[_0x2b3a16(0x223)]&&_0x18593d[_0x2b3a16(0x423)][_0x2b3a16(0x267)][_0x2b3a16(0x30a)](_0x2b3a16(0x6d1))){this[_0x2b3a16(0x40d)][_0x2b3a16(0x641)](_0x2b3a16(0x19c));return;}_0x18593d[_0x2b3a16(0x1e2)]&&_0x18593d[_0x2b3a16(0x1e2)][_0x2b3a16(0x604)]()['length']<0xd&&(_0x18593d['messageTimestamp']=_0x18593d[_0x2b3a16(0x1e2)]*0x3e8);let _0x2fea1c=_0x18593d['message'],{messageContent:_0xaa698f,message_normalized:_0x3a59c3}=this[_0x2b3a16(0x199)](_0x2fea1c,_(_0x18593d['message']),_0x3f9cc0);_0xaa698f||console[_0x2b3a16(0x507)]('Mensagem\x20não\x20suportada');let _0x15e8c4={'_id':_0x18593d[_0x2b3a16(0x423)]['id'],'key':_0x18593d[_0x2b3a16(0x423)],'pushName':_0x18593d[_0x2b3a16(0x515)],'message':{..._0x18593d[_0x2b3a16(0x600)]},'messageType':_(_0x18593d[_0x2b3a16(0x600)]),'message_normalized':{'key':_0x18593d['key'],'pushName':_0x18593d[_0x2b3a16(0x515)],'messageTimestamp':_0x18593d[_0x2b3a16(0x1e2)],'source':(0x0,w[_0x2b3a16(0x528)])(_0x18593d['key']['id']),..._0x3a59c3},'messageTimestamp':_0x18593d[_0x2b3a16(0x1e2)],'owner':this[_0x2b3a16(0x15d)][_0x2b3a16(0x660)]};this['logger'][_0x2b3a16(0x6c7)](_0x15e8c4),await this[_0x2b3a16(0x217)]['message']['insert']([_0x15e8c4]),this[_0x2b3a16(0x44c)](_0x2b3a16(0x185),_0x15e8c4),B(this[_0x2b3a16(0x2c4)],'messages',{'message':_0x15e8c4}),_0x18593d[_0x2b3a16(0x423)][_0x2b3a16(0x267)]!=='status@broadcast'&&await this['updateChatWithMessage'](_0x2c9af8,_0x15e8c4,_0x2b3a16(0x418));},'messages.update':async(_0x22f43a,_0x1f0e87)=>{const _0x50e4e8=_0x297e83;let _0x223531={0x0:_0x50e4e8(0x628),0x1:_0x50e4e8(0x358),0x2:'SERVER_ACK',0x3:'DELIVERY_ACK',0x4:_0x50e4e8(0x1bb),0x5:_0x50e4e8(0x390)};for await(let {key:_0x262ad5,update:_0x530555}of _0x22f43a){if(this[_0x50e4e8(0x2cb)]?.[_0x50e4e8(0x223)]&&_0x262ad5[_0x50e4e8(0x267)][_0x50e4e8(0x30a)](_0x50e4e8(0x6d1))){this[_0x50e4e8(0x40d)][_0x50e4e8(0x641)](_0x50e4e8(0x19c));return;}if(_0x262ad5[_0x50e4e8(0x267)]!==_0x50e4e8(0x696)){let _0x209cf7=Date[_0x50e4e8(0x33e)](),_0x208ee1;_0x530555[_0x50e4e8(0x600)]===null&&_0x530555[_0x50e4e8(0x453)]===void 0x0?_0x208ee1='DELETED':_0x208ee1=_0x223531[_0x530555['status']];let _0x1f031b=_0x262ad5['remoteJid'][_0x50e4e8(0x1e3)](/:\d{1,2}@/g,'@'),_0x3bed52={..._0x262ad5,'remoteJid':_0x1f031b,'status':_0x208ee1,'datetime':_0x209cf7,'owner':this[_0x50e4e8(0x15d)]['wuid']};this[_0x50e4e8(0x44c)](_0x50e4e8(0x675),_0x3bed52),await this[_0x50e4e8(0x1da)](_0x262ad5,_0x1f031b,_0x3bed52);}}}},this[_0x297e83(0x466)]={'groups.upsert':_0x3ef365=>{const _0x1263a5=_0x297e83;this[_0x1263a5(0x44c)](_0x1263a5(0x35b),_0x3ef365);},'groups.update':_0x2180ed=>{const _0x2bec19=_0x297e83;this['sendDataWebhook'](_0x2bec19(0x695),_0x2180ed);},'group-participants.update':_0x29b51f=>{const _0x24bf1=_0x297e83;this['sendDataWebhook'](_0x24bf1(0x4b5),_0x29b51f);}},this[_0x297e83(0x67d)]=async _0x2dcd4f=>{const _0x9f628=_0x297e83;if(_0x2dcd4f[_0x9f628(0x600)]?.[_0x9f628(0x5fa)]){let _0x2c9228=await this['getMessage'](_0x2dcd4f['message'][_0x9f628(0x5fa)][_0x9f628(0x17e)],!0x0);if(_0x2c9228){let _0x13286a=_0x2c9228[_0x9f628(0x423)]['fromMe']?this[_0x9f628(0x15d)]['wuid']+_0x9f628(0x1cc):_0x2c9228[_0x9f628(0x423)]['participant']||_0x2c9228[_0x9f628(0x423)][_0x9f628(0x267)],_0x4599ec=_0x2c9228[_0x9f628(0x423)]['id'],_0x4914be=_0x2c9228['message'],_0x4c7064=Buffer['from'](_0x4914be[_0x9f628(0x1ab)][_0x9f628(0x3f0)]['toString']('hex'),_0x9f628(0x565)),_0x302684=(0x0,w[_0x9f628(0x576)])(_0x2dcd4f[_0x9f628(0x600)][_0x9f628(0x5fa)]['vote'],{'pollCreatorJid':_0x13286a,'pollMsgId':_0x4599ec,'pollEncKey':_0x4c7064,'voterJid':_0x2dcd4f[_0x9f628(0x423)]['fromMe']?this['instance']['wuid']+_0x9f628(0x1cc):_0x2dcd4f[_0x9f628(0x423)][_0x9f628(0x267)]['endsWith'](_0x9f628(0x401))?_0x2dcd4f[_0x9f628(0x423)]['participant']:_0x2dcd4f[_0x9f628(0x423)][_0x9f628(0x267)]}),_0x318a71=[],_0x1b3f04=_0x302684[_0x9f628(0x2ad)][_0x9f628(0x538)](_0x2e3c00=>Buffer['from'](_0x2e3c00)[_0x9f628(0x604)](_0x9f628(0x565)));for(let {optionName:_0xca6636}of _0x4914be['pollCreationMessage']?.[_0x9f628(0x4b2)]||_0x4914be['pollCreationMessageV3']?.[_0x9f628(0x4b2)]||_0x4914be[_0x9f628(0x31f)]?.[_0x9f628(0x4b2)])_0x1b3f04[_0x9f628(0x6b8)]((0x0,w['sha256'])(Buffer['from'](_0xca6636))[_0x9f628(0x604)]('hex'))>-0x1&&_0x318a71[_0x9f628(0x367)](_0xca6636);return _0x318a71;}}return null;},this[_0x297e83(0x199)]=(_0x17653d,_0x3b77ac,_0x234d35)=>{const _0x1464e4=_0x297e83;try{let _0x42e4a0=_0x3b77ac?_0x17653d[_0x3b77ac]:void 0x0,_0x37a6aa={},_0x91ec67=null,_0x4d2351=null,_0x50fa5a=null;if(_0x17653d[_0x1464e4(0x427)]?(_0x3b77ac=_(_0x17653d['viewOnceMessageV2']['message']),_0x42e4a0=_0x17653d['viewOnceMessageV2'][_0x1464e4(0x600)][_0x3b77ac]):_0x17653d['viewOnceMessageV2Extension']?(_0x3b77ac=_(_0x17653d[_0x1464e4(0x631)][_0x1464e4(0x600)]),_0x42e4a0=_0x17653d[_0x1464e4(0x631)][_0x1464e4(0x600)][_0x3b77ac]):_0x17653d[_0x1464e4(0x70c)]?(_0x3b77ac=_(_0x17653d[_0x1464e4(0x70c)][_0x1464e4(0x600)]),_0x42e4a0=_0x17653d[_0x1464e4(0x70c)][_0x1464e4(0x600)][_0x3b77ac]):_0x17653d[_0x1464e4(0x297)]?(_0x3b77ac=_(_0x17653d[_0x1464e4(0x600)][_0x1464e4(0x297)][_0x1464e4(0x600)]),_0x42e4a0=_0x17653d[_0x1464e4(0x600)][_0x1464e4(0x297)]['message'][_0x3b77ac]):_0x17653d[_0x1464e4(0x53c)]?.['message']?.[_0x1464e4(0x1e8)]?.[_0x1464e4(0x53c)]?(_0x3b77ac=_(_0x17653d[_0x1464e4(0x53c)][_0x1464e4(0x600)]['protocolMessage']['editedMessage']),_0x91ec67=_0x17653d[_0x1464e4(0x53c)][_0x1464e4(0x600)][_0x1464e4(0x1e8)][_0x1464e4(0x423)]['id'],_0x42e4a0=_0x17653d[_0x1464e4(0x53c)]['message'][_0x1464e4(0x1e8)]['editedMessage'][_0x3b77ac]):_0x42e4a0=_0x17653d[_0x3b77ac],!_0x3b77ac||!_0x42e4a0)return console['error'](_0x1464e4(0x2e7),_0x17653d),{'messageType':_0x3b77ac,'messageContent':_0x42e4a0,'message_normalized':{}};_0x17653d[_0x3b77ac]?.['contextInfo']?.['stanzaId']&&_0x17653d[_0x3b77ac]?.[_0x1464e4(0x2f4)]?.[_0x1464e4(0x284)]&&(_0x4d2351=_0x17653d[_0x3b77ac]['contextInfo']['stanzaId']),_0x17653d['reactionMessage']&&(_0x50fa5a=_0x17653d[_0x1464e4(0x64b)][_0x1464e4(0x423)]['id']);let _0x2963b1;if(_0x42e4a0&&typeof _0x42e4a0==_0x1464e4(0x35f)&&_0x1464e4(0x17e)in _0x42e4a0&&({pollCreationMessageKey:_0x2963b1}=_0x42e4a0),_0x3b77ac===_0x1464e4(0x2d1)){let _0x5598a6=_0x42e4a0?.['message']?.['documentMessage'];_0x5598a6&&(_0x42e4a0=_0x5598a6);}if(_0x3b77ac===_0x1464e4(0x1c6)||_0x3b77ac==='pollCreationMessageV2'||_0x3b77ac===_0x1464e4(0x32b)){let _0x1e5003=_0x42e4a0[_0x1464e4(0x4b2)][_0x1464e4(0x538)](_0x35323f=>_0x35323f[_0x1464e4(0x6fa)])[_0x1464e4(0x56c)]('|');_0x37a6aa[_0x1464e4(0x4e1)]=_0x1e5003;}let _0x234e46=_0x42e4a0[_0x1464e4(0x34d)]||_0x42e4a0['caption']||_0x42e4a0[_0x1464e4(0x59f)]||_0x42e4a0[_0x1464e4(0x63f)];if(_0x42e4a0[_0x1464e4(0x60a)]){let _0x4c6534=this[_0x1464e4(0x476)](JSON['stringify'](_0x42e4a0[_0x1464e4(0x60a)],null,0x2));_0x234e46=_0x234e46+'\x0a'+_0x4c6534;}if(_0x42e4a0){let {displayName:_0x230dd9,vcard:_0xdadf85,contactVcard:_0x1402f0,name:_0x2b9fd1,caption:_0x4fabad,conversation:_0x55ceef,pollCreationMessageKey:_0x956b6f,footerText:_0x3cdd69,contentText:_0xdee9a7,pageCount:_0x17d7e7,headerType:_0x323355,isAvatar:_0x5c5e09,isAnimated:_0xb449c0,fallbackLc:_0x33bbe5,fallbackLg:_0x213298,namespace:_0x1a230c,elementName:_0x129c0e,localizableParams:_0x130b91,viewOnce:_0x446022,height:_0xe93096,width:_0x1f0cfe,key:_0x6236a,firstScanLength:_0x34987d,firstScanSidecar:_0x108189,gifPlayback:_0x3f9f18,gifAttribution:_0x1e8fe3,midQualityFileSha256:_0x17e188,scansSidecar:_0x34c97c,streamingSidecar:_0x106eca,thumbnailHeight:_0x47b89f,thumbnailWidth:_0x42c07e,thumbnailEncSha256:_0x1dfb9a,thumbnailDirectPath:_0x2b14f7,canonicalUrl:_0x564ebd,matchedText:_0xf0f673,previewType:_0x2134ec,thumbnailSha256:_0x4c719c,deviceListMetadataVersion:_0x244a45,inviteLinkGroupTypeV2:_0x3bc0a6,interactiveAnnotations:_0x482cf9,scanLengths:_0x496d7b,jpegThumbnail:_0x6990,url:_0x342b61,mediaKeyTimestamp:_0x333e11,waveform:_0xeec307,stickerSentTs:_0x13a391,firstFrameLength:_0xf6ce72,fileEncSha256:_0x35d6a5,contextInfo:_0x1aefd3,firstFrameSidecar:_0x478284,directPath:_0x2fb159,fileSha256:_0x482940,mediaKey:_0x258ec2,senderTimestampMs:_0x1e4812,..._0x202e26}=_0x42e4a0;typeof _0x42e4a0==_0x1464e4(0x4e8)?_0x37a6aa={'text':_0x42e4a0,'type':_0x3b77ac||'conversation',..._0x91ec67&&{'edited':_0x91ec67},..._0x4d2351&&{'quoted':_0x4d2351},..._0x50fa5a&&{'reaction':_0x50fa5a}}:_0x37a6aa={'text':_0x234e46,..._0x202e26,..._0x3b77ac===_0x1464e4(0x5fa)?{'poll_id':_0x42e4a0[_0x1464e4(0x17e)]['id'],'vote':_0x234d35}:{},'type':_0x3b77ac,..._0x91ec67&&{'edited':_0x91ec67},..._0x4d2351&&{'quoted':_0x4d2351},..._0x50fa5a&&{'reaction':_0x50fa5a},...(_0x3b77ac===_0x1464e4(0x1c6)||_0x3b77ac==='pollCreationMessageV2'||_0x3b77ac===_0x1464e4(0x32b))&&{'convertedOptions':_0x37a6aa[_0x1464e4(0x4e1)]}};}return{'messageType':_0x3b77ac,'messageContent':_0x42e4a0,'message_normalized':_0x37a6aa};}catch(_0x44c3ff){console[_0x1464e4(0x507)](_0x1464e4(0x18e),_0x44c3ff);}},this['processingScheduleMessageId']=null,this['lastSend']=0x0,this[_0x297e83(0x296)]=null,(this[_0x297e83(0x2fc)](),this[_0x297e83(0x15d)][_0x297e83(0x519)]={'count':0x0});}set[a0_0xe6bdb1(0x2c4)](_0x45cedd){const _0x21654c=a0_0xe6bdb1;if(!_0x45cedd){this[_0x21654c(0x15d)][_0x21654c(0x34d)]=(0x0,Za['v4'])();return;}this[_0x21654c(0x15d)][_0x21654c(0x34d)]=_0x45cedd,this[_0x21654c(0x44c)]('status.instance',{'instance':this[_0x21654c(0x15d)][_0x21654c(0x34d)],'status':_0x21654c(0x27f)});}get[a0_0xe6bdb1(0x2c4)](){const _0x2cd4a7=a0_0xe6bdb1;return this[_0x2cd4a7(0x15d)]['name'];}get[a0_0xe6bdb1(0x660)](){const _0x58c7c6=a0_0xe6bdb1;return this[_0x58c7c6(0x15d)]['wuid'];}async['getProfileName'](){const _0x2d7ba0=a0_0xe6bdb1;let _0x308769=this[_0x2d7ba0(0x722)][_0x2d7ba0(0x679)]?.[_0x2d7ba0(0x34d)]??this[_0x2d7ba0(0x722)]['user']?.[_0x2d7ba0(0x192)];if(!_0x308769){if(this[_0x2d7ba0(0x440)][_0x2d7ba0(0x47c)](_0x2d7ba0(0x225))[_0x2d7ba0(0x33f)]){let _0x205305=await M['getClient']()['db'](this[_0x2d7ba0(0x440)][_0x2d7ba0(0x47c)]('DATABASE')[_0x2d7ba0(0x3ec)][_0x2d7ba0(0x2ca)]+'-instances')[_0x2d7ba0(0x39c)](this[_0x2d7ba0(0x2c4)])['findOne']({'_id':_0x2d7ba0(0x3e2)});if(_0x205305){let _0x20c9c5=JSON[_0x2d7ba0(0x2c9)](JSON[_0x2d7ba0(0x533)](_0x205305),w['BufferJSON']['reviver']);_0x308769=_0x20c9c5['me']?.['name']||_0x20c9c5['me']?.[_0x2d7ba0(0x192)];}}else{if((0x0,Te[_0x2d7ba0(0x1c0)])((0x0,k[_0x2d7ba0(0x56c)])(J,this['instanceName'],_0x2d7ba0(0x536)))){let _0x577990=JSON['parse']((0x0,Te['readFileSync'])((0x0,k[_0x2d7ba0(0x56c)])(J,this[_0x2d7ba0(0x2c4)],_0x2d7ba0(0x536)),{'encoding':_0x2d7ba0(0x6ec)}));_0x308769=_0x577990['me']?.['name']||_0x577990['me']?.[_0x2d7ba0(0x192)];}}}return _0x308769;}get[a0_0xe6bdb1(0x361)](){const _0x714398=a0_0xe6bdb1;return this['instance'][_0x714398(0x361)];}get[a0_0xe6bdb1(0x2ac)](){const _0x2f86f3=a0_0xe6bdb1;return{'code':this[_0x2f86f3(0x15d)]['qrcode']?.['code'],'base64':this[_0x2f86f3(0x15d)]['qrcode']?.['base64']};}async[a0_0xe6bdb1(0x616)](){const _0x4f91ea=a0_0xe6bdb1;let _0x261e85=await this['repository'][_0x4f91ea(0x405)]['find'](this[_0x4f91ea(0x2c4)]);this['localWebhook'][_0x4f91ea(0x389)]=_0x261e85?.['url'],this[_0x4f91ea(0x2cb)][_0x4f91ea(0x645)]=_0x261e85?.[_0x4f91ea(0x645)],this[_0x4f91ea(0x2cb)][_0x4f91ea(0x721)]=_0x261e85?.['local_map'],this['localWebhook'][_0x4f91ea(0x56e)]=_0x261e85?.[_0x4f91ea(0x56e)],this[_0x4f91ea(0x2cb)][_0x4f91ea(0x4fe)]=_0x261e85?.[_0x4f91ea(0x4fe)],this[_0x4f91ea(0x2cb)][_0x4f91ea(0x3bc)]=_0x261e85?.[_0x4f91ea(0x3bc)],this['localWebhook'][_0x4f91ea(0x418)]=_0x261e85?.['MESSAGES_UPSERT'],this['localWebhook'][_0x4f91ea(0x3af)]=_0x261e85?.[_0x4f91ea(0x3af)],this['localWebhook'][_0x4f91ea(0x4ec)]=_0x261e85?.[_0x4f91ea(0x4ec)],this[_0x4f91ea(0x2cb)]['GROUPS_UPDATE']=_0x261e85?.[_0x4f91ea(0x291)],this[_0x4f91ea(0x2cb)]['GROUP_PARTICIPANTS_UPDATE']=_0x261e85?.[_0x4f91ea(0x1d2)],this['localWebhook'][_0x4f91ea(0x4ee)]=_0x261e85?.[_0x4f91ea(0x4ee)],this[_0x4f91ea(0x2cb)][_0x4f91ea(0x407)]=_0x261e85?.[_0x4f91ea(0x407)],this[_0x4f91ea(0x2cb)][_0x4f91ea(0x43e)]=_0x261e85?.[_0x4f91ea(0x43e)],this[_0x4f91ea(0x2cb)][_0x4f91ea(0x34b)]=_0x261e85?.[_0x4f91ea(0x34b)],this[_0x4f91ea(0x2cb)]['CONTACTS_SET']=_0x261e85?.[_0x4f91ea(0x4a6)],this[_0x4f91ea(0x2cb)][_0x4f91ea(0x209)]=_0x261e85?.[_0x4f91ea(0x209)],this[_0x4f91ea(0x2cb)][_0x4f91ea(0x688)]=_0x261e85?.[_0x4f91ea(0x688)],this['localWebhook'][_0x4f91ea(0x3bb)]=_0x261e85?.['PRESENCE_UPDATE'],this[_0x4f91ea(0x2cb)][_0x4f91ea(0x45f)]=_0x261e85?.[_0x4f91ea(0x45f)],this[_0x4f91ea(0x2cb)][_0x4f91ea(0x6a9)]=_0x261e85?.[_0x4f91ea(0x6a9)],this[_0x4f91ea(0x2cb)][_0x4f91ea(0x223)]=_0x261e85?.[_0x4f91ea(0x223)];}async[a0_0xe6bdb1(0x201)](_0x568db1){const _0x4ecf5b=a0_0xe6bdb1;let _0x461f25=['_id',_0x4ecf5b(0x389),_0x4ecf5b(0x645),'local_map',_0x4ecf5b(0x56e),_0x4ecf5b(0x4fe),_0x4ecf5b(0x3af),'MESSAGES_UPSERT',_0x4ecf5b(0x3bc),_0x4ecf5b(0x4ec),_0x4ecf5b(0x291),_0x4ecf5b(0x1d2),_0x4ecf5b(0x4ee),'CHATS_UPSERT',_0x4ecf5b(0x43e),_0x4ecf5b(0x34b),'CONTACTS_SET',_0x4ecf5b(0x209),_0x4ecf5b(0x688),'PRESENCE_UPDATE',_0x4ecf5b(0x45f),'CONNECTION_UPDATE','groups_ignore'],_0x1b9ac2={};return _0x461f25[_0x4ecf5b(0x19f)](_0x52942b=>{_0x568db1[_0x52942b]!==void 0x0&&(_0x1b9ac2[_0x52942b]=_0x568db1[_0x52942b]);}),await this['repository'][_0x4ecf5b(0x405)][_0x4ecf5b(0x2dd)](_0x1b9ac2,this[_0x4ecf5b(0x2c4)]),Object[_0x4ecf5b(0x15b)](this['localWebhook'],_0x1b9ac2),await this['repository']['webhook'][_0x4ecf5b(0x268)](this[_0x4ecf5b(0x2c4)]);}async['findWebhook'](){const _0x2f520b=a0_0xe6bdb1;return await this[_0x2f520b(0x217)][_0x2f520b(0x405)][_0x2f520b(0x268)](this[_0x2f520b(0x2c4)]);}async[a0_0xe6bdb1(0x44c)](_0x740b84,_0x4c2c95){const _0xe8bc2b=a0_0xe6bdb1;let _0x783adc=this['configService'][_0xe8bc2b(0x47c)](_0xe8bc2b(0x6b3)),_0x3352bf=_0x740b84['replace'](/[\.-]/gm,'_')[_0xe8bc2b(0x214)](),_0x492a47=this[_0xe8bc2b(0x2cb)]['enabled']&&(0x0,P[_0xe8bc2b(0x3b1)])(this[_0xe8bc2b(0x2cb)][_0xe8bc2b(0x389)])?this[_0xe8bc2b(0x2cb)][_0xe8bc2b(0x389)]+(this['localWebhook'][_0xe8bc2b(0x721)]?this[_0xe8bc2b(0x635)][_0x740b84]:''):null,_0x108d1c=_0x783adc?.[_0xe8bc2b(0x6f2)],_0x2be308=_0x108d1c&&_0x108d1c?.[_0xe8bc2b(0x33f)]&&(0x0,P[_0xe8bc2b(0x3b1)])(_0x108d1c[_0xe8bc2b(0x6d5)])?_0x108d1c['URL']+(_0x783adc['WEBHOOK_MAP']?this[_0xe8bc2b(0x635)][_0x740b84]:''):null,_0x2f5304=this[_0xe8bc2b(0x2cb)][_0x3352bf],_0x241e04=_0x783adc?.[_0xe8bc2b(0x2ec)]?.[_0x3352bf];if(_0x2f5304&&_0x492a47)try{await ce['default'][_0xe8bc2b(0x2dd)]({'baseURL':_0x492a47})[_0xe8bc2b(0x205)]('',{'event':_0x740b84,'instance':this[_0xe8bc2b(0x15d)][_0xe8bc2b(0x34d)],'data':_0x4c2c95}),this[_0xe8bc2b(0x40d)][_0xe8bc2b(0x6c7)](_0xe8bc2b(0x1cd)+_0x740b84+':\x20'+_0x492a47);}catch(_0x564f5d){this[_0xe8bc2b(0x40d)][_0xe8bc2b(0x507)](this['instanceName']+'\x20('+this[_0xe8bc2b(0x15d)][_0xe8bc2b(0x660)]+_0xe8bc2b(0x5f9)+{'local':c[_0xe8bc2b(0x34d)]+'.sendDataWebhook-local','message':_0x564f5d?.[_0xe8bc2b(0x600)],'hostName':_0x564f5d?.[_0xe8bc2b(0x66e)],'syscall':_0x564f5d?.[_0xe8bc2b(0x4e5)],'code':_0x564f5d?.[_0xe8bc2b(0x2b9)],'error':_0x564f5d?.[_0xe8bc2b(0x3dd)],'stack':_0x564f5d?.[_0xe8bc2b(0x302)],'name':_0x564f5d?.['name']});}if(_0x241e04&&_0x2be308)try{await ce['default'][_0xe8bc2b(0x2dd)]({'baseURL':_0x2be308})[_0xe8bc2b(0x205)]('',{'event':_0x740b84,'instance':this[_0xe8bc2b(0x15d)][_0xe8bc2b(0x34d)],'data':_0x4c2c95}),this[_0xe8bc2b(0x40d)][_0xe8bc2b(0x6c7)]('Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x740b84+':\x20'+_0x2be308);}catch(_0xf9a4f5){this['logger'][_0xe8bc2b(0x507)](this[_0xe8bc2b(0x2c4)]+'\x20('+this['instance'][_0xe8bc2b(0x660)]+_0xe8bc2b(0x5f9)+{'local':c['name']+_0xe8bc2b(0x276),'message':_0xf9a4f5?.[_0xe8bc2b(0x600)],'hostName':_0xf9a4f5?.[_0xe8bc2b(0x66e)],'syscall':_0xf9a4f5?.['syscall'],'code':_0xf9a4f5?.[_0xe8bc2b(0x2b9)],'error':_0xf9a4f5?.[_0xe8bc2b(0x3dd)],'stack':_0xf9a4f5?.[_0xe8bc2b(0x302)],'name':_0xf9a4f5?.[_0xe8bc2b(0x34d)]});}}async[a0_0xe6bdb1(0x496)]({qr:_0xc29a05,connection:_0x4aded6,lastDisconnect:_0x35fb37}){const _0x2170f8=a0_0xe6bdb1;if(_0xc29a05){if(this['instance'][_0x2170f8(0x519)][_0x2170f8(0x511)]===this[_0x2170f8(0x440)][_0x2170f8(0x47c)](_0x2170f8(0x229))[_0x2170f8(0x369)])return this[_0x2170f8(0x44c)](_0x2170f8(0x3ea),{'message':_0x2170f8(0x39a),'statusCode':w['DisconnectReason'][_0x2170f8(0x1f2)]}),this[_0x2170f8(0x44c)](_0x2170f8(0x1c9),{'instance':this[_0x2170f8(0x15d)]['name'],'state':_0x2170f8(0x4b8),'statusReason':w[_0x2170f8(0x292)][_0x2170f8(0x6cb)]}),this[_0x2170f8(0x44c)](_0x2170f8(0x3ae),{'instance':this['instance'][_0x2170f8(0x34d)],'status':_0x2170f8(0x5d9)}),this[_0x2170f8(0x34a)]=!0x0,this[_0x2170f8(0x573)][_0x2170f8(0x3e8)](_0x2170f8(0x2cf),this['instance']['name']);this['instance'][_0x2170f8(0x519)][_0x2170f8(0x511)]++;let _0x353cc3={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x2170f8(0x461),'dark':_0x2170f8(0x2f2)}};eo['default']['toDataURL'](_0xc29a05,_0x353cc3,(_0x5b5ba1,_0xdcbff6)=>{const _0x965138=_0x2170f8;if(_0x5b5ba1){this['logger']['error'](this['instanceName']+'\x20('+this[_0x965138(0x15d)][_0x965138(0x660)]+_0x965138(0x170)+JSON[_0x965138(0x533)](_0x5b5ba1,null,0x2));return;}this[_0x965138(0x15d)][_0x965138(0x519)][_0x965138(0x202)]=_0xdcbff6,this[_0x965138(0x15d)][_0x965138(0x519)][_0x965138(0x2b9)]=_0xc29a05,this[_0x965138(0x44c)](_0x965138(0x3ea),{'qrcode':{'instance':this[_0x965138(0x15d)][_0x965138(0x34d)],'code':_0xc29a05,'base64':_0xdcbff6}});}),to['default'][_0x2170f8(0x51f)](_0xc29a05,{'small':!0x0},_0x504bd7=>this['logger'][_0x2170f8(0x6c7)](_0x2170f8(0x1e1)+this[_0x2170f8(0x15d)][_0x2170f8(0x34d)]+_0x2170f8(0x618)+this[_0x2170f8(0x15d)]['qrcode'][_0x2170f8(0x511)]+'\x20}\x0a'+_0x504bd7));}if(_0x4aded6&&(this[_0x2170f8(0x165)]={'state':_0x4aded6,'statusReason':_0x35fb37?.[_0x2170f8(0x507)]?.['output']?.[_0x2170f8(0x3f5)]??0xc8},this[_0x2170f8(0x44c)](_0x2170f8(0x1c9),{'instance':this[_0x2170f8(0x15d)][_0x2170f8(0x34d)],...this[_0x2170f8(0x165)]})),_0x4aded6===_0x2170f8(0x697)){if(this[_0x2170f8(0x3c0)]++,this[_0x2170f8(0x23d)][_0x2170f8(0x367)](Date[_0x2170f8(0x33e)]()),this['reconnectTimestamps']=this[_0x2170f8(0x23d)][_0x2170f8(0x47d)](_0x4ab8b8=>Date[_0x2170f8(0x33e)]()-_0x4ab8b8<this[_0x2170f8(0x2b8)]),_0x35fb37['error']?.[_0x2170f8(0x5ea)]?.['statusCode']!==w[_0x2170f8(0x292)][_0x2170f8(0x336)]&&this[_0x2170f8(0x23d)][_0x2170f8(0x5b9)]<=this[_0x2170f8(0x410)])await this['connectToWhatsapp']();else{this[_0x2170f8(0x44c)]('status.instance',{'instance':this[_0x2170f8(0x15d)][_0x2170f8(0x34d)],'status':'removed'}),this[_0x2170f8(0x49c)]=!0x1;try{this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x2170f8(0x660)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x4ce898=await this[_0x2170f8(0x217)]['message']['deleteAll'](this[_0x2170f8(0x15d)][_0x2170f8(0x660)]);_0x4ce898[_0x2170f8(0x650)]?this[_0x2170f8(0x40d)][_0x2170f8(0x641)](this['instanceName']+'\x20('+this['instance'][_0x2170f8(0x660)]+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):console[_0x2170f8(0x507)](_0x2170f8(0x571),_0x4ce898[_0x2170f8(0x507)]);}catch(_0x469bed){console['error'](_0x2170f8(0x578),_0x469bed);}this[_0x2170f8(0x689)]!==null&&(this[_0x2170f8(0x40d)][_0x2170f8(0x641)](this[_0x2170f8(0x2c4)]+'\x20('+this['instance'][_0x2170f8(0x660)]+_0x2170f8(0x5ad)),clearInterval(this[_0x2170f8(0x689)]),this[_0x2170f8(0x689)]=null),this[_0x2170f8(0x40d)][_0x2170f8(0x641)](this[_0x2170f8(0x2c4)]+'\x20('+this[_0x2170f8(0x15d)][_0x2170f8(0x660)]+_0x2170f8(0x283)),this[_0x2170f8(0x1c7)]=null,this[_0x2170f8(0x573)][_0x2170f8(0x3e8)](_0x2170f8(0x2d2),this['instance'][_0x2170f8(0x34d)],_0x2170f8(0x49f)),this[_0x2170f8(0x722)]?.['ws']?.['close'](),this[_0x2170f8(0x722)][_0x2170f8(0x718)](new Error(_0x2170f8(0x4f1)));}}if(_0x4aded6===_0x2170f8(0x42d)){this[_0x2170f8(0x398)],this[_0x2170f8(0x15d)][_0x2170f8(0x660)]=this[_0x2170f8(0x722)][_0x2170f8(0x679)]['id']['replace'](/:\d+/,'')[_0x2170f8(0x1e3)]('@s.whatsapp.net',''),this['instance'][_0x2170f8(0x361)]=(await this[_0x2170f8(0x455)](this[_0x2170f8(0x15d)][_0x2170f8(0x660)]+_0x2170f8(0x1cc)))[_0x2170f8(0x361)];let _0x1b2962='Número:\x20'+this['instance']['wuid'],_0x31ef5b=0x28,_0x395f05=Math[_0x2170f8(0x3a3)]((_0x31ef5b-_0x1b2962['length'])/0x2),_0x53f2d2='\x20'[_0x2170f8(0x4ff)](_0x395f05),_0x26ce7d=_0x2170f8(0x634),_0x1efdb1=_0x2170f8(0x35e)+this[_0x2170f8(0x15d)][_0x2170f8(0x34d)],_0x58244c=(''+_0x53f2d2+_0x1b2962+_0x53f2d2)[_0x2170f8(0x71f)](_0x31ef5b,'\x20'),_0x53b213=(''+_0x53f2d2+_0x26ce7d+_0x53f2d2)[_0x2170f8(0x71f)](_0x31ef5b,'\x20'),_0x46cfc2=(''+_0x53f2d2+_0x1efdb1+_0x53f2d2)['padEnd'](_0x31ef5b,'\x20'),_0x9e3c6b=Math[_0x2170f8(0x59d)](_0x58244c[_0x2170f8(0x5b9)],_0x53b213[_0x2170f8(0x5b9)],_0x46cfc2[_0x2170f8(0x5b9)]),_0x230a18=_0x58244c[_0x2170f8(0x71f)](_0x9e3c6b,'\x20'),_0x577c59=_0x53b213['padEnd'](_0x9e3c6b,'\x20'),_0x26e837=_0x46cfc2[_0x2170f8(0x71f)](_0x9e3c6b,'\x20');this[_0x2170f8(0x40d)][_0x2170f8(0x6bf)]((_0x2170f8(0x589)+'─'[_0x2170f8(0x4ff)](_0x9e3c6b)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x577c59+_0x2170f8(0x4a3)+_0x26e837+_0x2170f8(0x4a3)+_0x230a18+_0x2170f8(0x365)+'─'[_0x2170f8(0x4ff)](_0x9e3c6b)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x2170f8(0x378)](),this[_0x2170f8(0x49c)]=!0x0;}}[a0_0xe6bdb1(0x398)](){const _0x5ad77a=a0_0xe6bdb1;this[_0x5ad77a(0x3c0)]=0x0,this['reconnectTimestamps']=[];}async[a0_0xe6bdb1(0x684)](_0x334d55,_0x881ff5=!0x1){const _0x473c77=a0_0xe6bdb1;try{let _0x1a20b7=await this[_0x473c77(0x217)][_0x473c77(0x600)][_0x473c77(0x268)]({'where':{'owner':this[_0x473c77(0x15d)][_0x473c77(0x660)],'_id':_0x334d55['id']}});return _0x881ff5?_0x1a20b7[0x0]:_0x1a20b7[0x0][_0x473c77(0x600)];}catch{return{'conversation':''};}}[a0_0xe6bdb1(0x2fc)](){const _0x5a68e6=a0_0xe6bdb1;let _0x25e548=this[_0x5a68e6(0x440)][_0x5a68e6(0x47c)](_0x5a68e6(0x6c8)),_0x396dd5=this[_0x5a68e6(0x440)]['get'](_0x5a68e6(0x225));_0x25e548?.[_0x5a68e6(0x2d4)]&&!_0x396dd5[_0x5a68e6(0x33f)]&&setInterval(()=>{const _0x3069b5=_0x5a68e6;try{for(let [_0x2a849d,_0x571f5a]of Object[_0x3069b5(0x1ba)](_0x25e548))_0x571f5a===!0x0&&(0x0,Dt[_0x3069b5(0x433)])(_0x3069b5(0x425)+(0x0,k[_0x3069b5(0x56c)])(this[_0x3069b5(0x30b)],_0x2a849d[_0x3069b5(0x3a1)](),this['instance'][_0x3069b5(0x660)])+_0x3069b5(0x623));}catch{}},(_0x25e548?.[_0x5a68e6(0x2d4)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x5f0820=a0_0xe6bdb1;let _0x1197db=this[_0x5f0820(0x440)]['get'](_0x5f0820(0x225)),_0xb3c29b=this[_0x5f0820(0x440)][_0x5f0820(0x47c)](_0x5f0820(0x186));return _0xb3c29b?.['ENABLED']?await ps(_0xb3c29b,this[_0x5f0820(0x15d)][_0x5f0820(0x34d)]):_0x1197db[_0x5f0820(0x33f)]?await ds(this[_0x5f0820(0x15d)]['name']):await(0x0,w[_0x5f0820(0x441)])((0x0,k[_0x5f0820(0x56c)])(J,this['instance'][_0x5f0820(0x34d)]));}async[a0_0xe6bdb1(0x378)](){const _0x341059=a0_0xe6bdb1;let _0xb5294c=()=>Math[_0x341059(0x3a3)](Math[_0x341059(0x653)]()*0x2711)+0x7d0,_0x40fbf2=async()=>{const _0x4cabe3=_0x341059;if(!this[_0x4cabe3(0x49c)]){this[_0x4cabe3(0x40d)][_0x4cabe3(0x641)](_0x4cabe3(0x150)),this[_0x4cabe3(0x428)]=!0x1;return;}if(this[_0x4cabe3(0x15d)][_0x4cabe3(0x660)]&&this[_0x4cabe3(0x1c7)]&&this[_0x4cabe3(0x689)]!==null&&this[_0x4cabe3(0x689)]!==void 0x0){let _0x10f6c4=Math['round'](this[_0x4cabe3(0x689)]/0xea60);this[_0x4cabe3(0x40d)][_0x4cabe3(0x641)](this[_0x4cabe3(0x2c4)]+'\x20('+this[_0x4cabe3(0x15d)][_0x4cabe3(0x660)]+_0x4cabe3(0x446)+_0x10f6c4+_0x4cabe3(0x6c9)),this[_0x4cabe3(0x428)]=!0x1;return;}else this['instance'][_0x4cabe3(0x660)]&&(this[_0x4cabe3(0x40d)][_0x4cabe3(0x641)](this[_0x4cabe3(0x2c4)]+'\x20('+this[_0x4cabe3(0x15d)][_0x4cabe3(0x660)]+_0x4cabe3(0x265)),this[_0x4cabe3(0x1c7)]||await this[_0x4cabe3(0x382)](),(this[_0x4cabe3(0x689)]===null||this[_0x4cabe3(0x689)]===void 0x0)&&await this['scheduleNextCheck']());if(this[_0x4cabe3(0x428)]){let _0x4702a4=_0xb5294c();this['logger'][_0x4cabe3(0x641)](this['instanceName']+_0x4cabe3(0x524)+_0x4702a4/0x3e8+'\x20segundos'),setTimeout(_0x40fbf2,_0x4702a4);}};if(this['isRunning'])return;this['isRunning']=!0x0;let _0x15a1be=_0xb5294c();setTimeout(_0x40fbf2,_0x15a1be);}async['connectToWhatsapp'](){const _0x58353d=a0_0xe6bdb1;try{this['loadWebhook'](),this[_0x58353d(0x15d)][_0x58353d(0x264)]=await this[_0x58353d(0x177)]();let {version:_0x46ca6e}=await(0x0,w[_0x58353d(0x561)])(),_0x41c1bf=this[_0x58353d(0x440)][_0x58353d(0x47c)]('CONFIG_SESSION_PHONE'),_0x6ed316=[_0x41c1bf[_0x58353d(0x41b)],_0x41c1bf[_0x58353d(0x4cc)],(0x0,so[_0x58353d(0x5d5)])()],_0x209df1={'auth':{'creds':this['instance'][_0x58353d(0x264)][_0x58353d(0x2fd)][_0x58353d(0x3e2)],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this['instance'][_0x58353d(0x264)][_0x58353d(0x2fd)]['keys'],(0x0,Mt[_0x58353d(0x6cd)])({'level':'error'}))},'logger':(0x0,Mt[_0x58353d(0x6cd)])({'level':_0x58353d(0x507)}),'printQRInTerminal':!0x1,'browser':_0x6ed316,'version':_0x46ca6e,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x58353d(0x245)],'getMessage':async _0x11ec33=>await this[_0x58353d(0x684)](_0x11ec33),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x58353d(0x2e0)],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending':_0x26f330=>(!!(_0x26f330[_0x58353d(0x3ef)]||_0x26f330['listMessage'])&&(_0x26f330={'viewOnceMessageV2':{'message':{'messageContextInfo':{'deviceListMetadataVersion':0x2,'deviceListMetadata':{}},..._0x26f330}}}),_0x26f330)};return this['endSession']=!0x1,this[_0x58353d(0x722)]=(0x0,w[_0x58353d(0x6cd)])(_0x209df1),this[_0x58353d(0x2a9)](),this['client'];}catch(_0xc2bf34){throw this[_0x58353d(0x40d)]['error'](this[_0x58353d(0x2c4)]+'\x20('+this['instance'][_0x58353d(0x660)]+_0x58353d(0x5f9)+JSON[_0x58353d(0x533)](_0xc2bf34,null,0x2)),new A(_0xc2bf34?.['toString']());}}[a0_0xe6bdb1(0x2a9)](){const _0x458066=a0_0xe6bdb1;this[_0x458066(0x722)]['ev'][_0x458066(0x715)](_0x5145e5=>{const _0x213aec=_0x458066;if(!this['endSession']){let _0x10b382=this[_0x213aec(0x440)]['get']('DATABASE');if(_0x5145e5['connection.update']&&this[_0x213aec(0x496)](_0x5145e5[_0x213aec(0x1c9)]),_0x5145e5[_0x213aec(0x639)]&&this[_0x213aec(0x15d)][_0x213aec(0x264)]['saveCreds'](),_0x5145e5[_0x213aec(0x3da)]){let _0x48eef9=_0x5145e5[_0x213aec(0x3da)];this['messageHandle'][_0x213aec(0x3da)](_0x48eef9,_0x10b382);}if(_0x5145e5[_0x213aec(0x185)]){let _0xf6a135=_0x5145e5[_0x213aec(0x185)];this['messageHandle'][_0x213aec(0x185)](_0xf6a135,_0x10b382);}if(_0x5145e5['messages.update']){let _0x3b53a7=_0x5145e5[_0x213aec(0x675)];this[_0x213aec(0x2bd)][_0x213aec(0x675)](_0x3b53a7,_0x10b382);}if(_0x5145e5['presence.update']){let _0x4c2b1e=_0x5145e5[_0x213aec(0x6f1)];if(this[_0x213aec(0x2cb)]?.[_0x213aec(0x223)]&&_0x4c2b1e['id'][_0x213aec(0x30a)](_0x213aec(0x6d1)))return;this[_0x213aec(0x44c)](_0x213aec(0x6f1),_0x4c2b1e);}if(!this[_0x213aec(0x2cb)]?.[_0x213aec(0x223)]){if(_0x5145e5[_0x213aec(0x35b)]){let _0x40aa3e=_0x5145e5[_0x213aec(0x35b)];this[_0x213aec(0x466)][_0x213aec(0x35b)](_0x40aa3e);}if(_0x5145e5['groups.update']){let _0x556d0e=_0x5145e5[_0x213aec(0x695)];this[_0x213aec(0x466)]['groups.update'](_0x556d0e);}if(_0x5145e5[_0x213aec(0x4b5)]){let _0x1f5fc5=_0x5145e5[_0x213aec(0x4b5)];this[_0x213aec(0x466)][_0x213aec(0x4b5)](_0x1f5fc5);}}if(_0x5145e5[_0x213aec(0x31a)]){let _0x2c8a7c=_0x5145e5[_0x213aec(0x31a)];this[_0x213aec(0x701)]['chats.upsert'](_0x2c8a7c,_0x10b382);}if(_0x5145e5['chats.update']){let _0x1ae9b4=_0x5145e5[_0x213aec(0x44f)];this['chatHandle'][_0x213aec(0x44f)](_0x1ae9b4,_0x10b382);}if(_0x5145e5[_0x213aec(0x2e3)]){let _0x12e611=_0x5145e5[_0x213aec(0x2e3)];this[_0x213aec(0x701)][_0x213aec(0x2e3)](_0x12e611);}if(_0x5145e5[_0x213aec(0x4d5)]){let _0x45ce0f=_0x5145e5['contacts.upsert'];this[_0x213aec(0x5c5)]['contacts.upsert'](_0x45ce0f,_0x10b382);}if(_0x5145e5[_0x213aec(0x298)]){let _0x19b87a=_0x5145e5[_0x213aec(0x298)];this['contactHandle']['contacts.update'](_0x19b87a,_0x10b382);}}});}[a0_0xe6bdb1(0x3f3)](_0x137d45){const _0x456cb1=a0_0xe6bdb1;let _0x254370=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x456cb1(0x2f0)](_0x137d45);if(_0x254370&&_0x254370[0x1]==='55'){let _0x446fdb=_0x254370[0x2],_0x51899b=_0x254370[0x3],_0x27bc4f=_0x254370[0x4];if(_0x446fdb>='31'&&_0x51899b==='9')return _0x254370[0x1]+_0x446fdb+_0x27bc4f;}return _0x137d45;}['createJid'](_0x16a5b7){const _0x3c9a12=a0_0xe6bdb1;return _0x16a5b7['includes'](_0x3c9a12(0x6d1))||_0x16a5b7[_0x3c9a12(0x30a)](_0x3c9a12(0x1cc))||_0x16a5b7['includes'](_0x3c9a12(0x49b))?_0x16a5b7:(_0x16a5b7=_0x16a5b7?.[_0x3c9a12(0x1e3)](/\s/g,'')[_0x3c9a12(0x1e3)](/\+/g,'')['replace'](/\(/g,'')[_0x3c9a12(0x1e3)](/\)/g,'')[_0x3c9a12(0x204)](/\:/)[0x0]['split']('@')[0x0],_0x16a5b7['length']>=0x12?(_0x16a5b7=_0x16a5b7[_0x3c9a12(0x1e3)](/[^\d-]/g,''),_0x16a5b7+_0x3c9a12(0x6d1)):(_0x16a5b7=_0x16a5b7[_0x3c9a12(0x1e3)](/\D/g,''),this[_0x3c9a12(0x3f3)](_0x16a5b7)+_0x3c9a12(0x1cc)));}async[a0_0xe6bdb1(0x678)](_0xe07ea1){const _0x576f08=a0_0xe6bdb1;let _0x5a1818=this['createJid'](_0xe07ea1[_0x576f08(0x3d1)]),_0x2aabce=(await this['whatsappNumber']({'numbers':[_0x5a1818]}))[0x0];if(!_0x2aabce[_0x576f08(0x62f)]&&!(0x0,w[_0x576f08(0x549)])(_0x2aabce[_0x576f08(0x585)]))throw new g(_0x2aabce);let _0x1236b3=(0x0,w[_0x576f08(0x549)])(_0x5a1818)?_0x5a1818:_0x2aabce[_0x576f08(0x585)];if((0x0,w[_0x576f08(0x549)])(_0x1236b3))try{await this[_0x576f08(0x722)]['groupMetadata'](_0x1236b3);}catch{throw new $(_0x576f08(0x1de));}try{return await this[_0x576f08(0x722)][_0x576f08(0x2ce)](_0x1236b3),await this[_0x576f08(0x722)][_0x576f08(0x5b3)](_0xe07ea1[_0x576f08(0x4f9)],_0x5a1818),{'status':0xc8,'presence':_0xe07ea1[_0x576f08(0x4f9)]};}catch(_0x156498){throw new g(_0x156498[_0x576f08(0x604)]());}}async[a0_0xe6bdb1(0x455)](_0x191343){const _0x13eec4=a0_0xe6bdb1;let _0x56b118=this[_0x13eec4(0x512)](_0x191343);try{return{'wuid':_0x56b118,'profilePictureUrl':await this[_0x13eec4(0x722)][_0x13eec4(0x361)](_0x56b118,_0x13eec4(0x39d))};}catch{return{'wuid':_0x56b118,'profilePictureUrl':null};}}async[a0_0xe6bdb1(0x69e)](_0x5b2c85,_0x43f00a,_0x474f34){const _0x395a57=a0_0xe6bdb1;let _0x4732cd=(await this[_0x395a57(0x24b)]({'numbers':[_0x5b2c85]}))[0x0];if(!_0x4732cd[_0x395a57(0x62f)]&&!(0x0,w[_0x395a57(0x549)])(_0x4732cd[_0x395a57(0x585)])&&!_0x4732cd[_0x395a57(0x585)][_0x395a57(0x30a)](_0x395a57(0x49b)))throw new g(_0x4732cd);let _0xa22cb7=_0x4732cd[_0x395a57(0x585)];try{_0x474f34?.[_0x395a57(0x53d)]&&(await this[_0x395a57(0x722)][_0x395a57(0x2ce)](_0xa22cb7),await this['client']['sendPresenceUpdate'](_0x474f34?.['presence']??_0x395a57(0x5c9),_0xa22cb7),await(0x0,w['delay'])(_0x474f34[_0x395a57(0x53d)]),await this['client'][_0x395a57(0x5b3)]('paused',_0xa22cb7));let _0x258b35=_0x474f34?.[_0x395a57(0x2d8)]!=!0x1?void 0x0:!0x1,_0x397ec6;if(_0x474f34?.['quoted']){let _0x2234f5=_0x474f34?.['quoted'],_0x55058c=_0x2234f5?.[_0x395a57(0x600)]?_0x2234f5:await this[_0x395a57(0x684)](_0x2234f5[_0x395a57(0x423)],!0x0);if(!_0x55058c)throw _0x395a57(0x422);_0x397ec6=_0x55058c;}let _0x4b7a27;if((0x0,w[_0x395a57(0x549)])(_0xa22cb7))try{let _0x49eb32=await this['client'][_0x395a57(0x54b)](_0xa22cb7);if(!_0x49eb32)throw new $('Group\x20not\x20found');_0x474f34?.[_0x395a57(0x654)]&&(_0x474f34[_0x395a57(0x654)]?.[_0x395a57(0x2e5)]?_0x4b7a27=_0x49eb32[_0x395a57(0x475)][_0x395a57(0x538)](_0x5870b1=>_0x5870b1['id']):_0x474f34[_0x395a57(0x654)]?.['mentioned']?.[_0x395a57(0x5b9)]&&(_0x4b7a27=_0x474f34['mentions'][_0x395a57(0x420)][_0x395a57(0x538)](_0x1782e7=>{const _0x462584=_0x395a57;let _0x5c7454=this[_0x462584(0x512)](_0x1782e7);return(0x0,w['isJidGroup'])(_0x5c7454)?null:_0x5c7454;})));}catch{throw new $(_0x395a57(0x1de));}let _0x4b4422=await((async()=>{const _0x3ca5ff=_0x395a57;let _0xfbfd31={'quoted':_0x397ec6};if(!_0x43f00a['audio']&&!_0x43f00a[_0x3ca5ff(0x4a1)]&&!_0x43f00a[_0x3ca5ff(0x5fc)]&&!_0x43f00a[_0x3ca5ff(0x59f)]&&_0xa22cb7!==_0x3ca5ff(0x696)&&!_0x43f00a['audio'])return await this['client']['sendMessage'](_0xa22cb7,{'forward':{'key':{'remoteJid':this[_0x3ca5ff(0x15d)][_0x3ca5ff(0x660)],'fromMe':!0x0},'message':_0x43f00a},'mentions':_0x4b7a27},_0xfbfd31);if(_0x43f00a[_0x3ca5ff(0x59f)]){let _0x5717f6=_0x43f00a[_0x3ca5ff(0x59f)];return _0x474f34?.[_0x3ca5ff(0x3a5)]&&(_0x5717f6=await this[_0x3ca5ff(0x339)](_0x5717f6,_0xa22cb7)),await this[_0x3ca5ff(0x722)][_0x3ca5ff(0x1a2)](_0xa22cb7,{'text':_0x5717f6,'mentions':_0x4b7a27,'linkPreview':_0x258b35},_0xfbfd31);}return _0xa22cb7===_0x3ca5ff(0x696)?await this[_0x3ca5ff(0x722)]['sendMessage'](_0xa22cb7,_0x43f00a['status'][_0x3ca5ff(0x3dc)],{'backgroundColor':_0x43f00a[_0x3ca5ff(0x453)]['option']['backgroundColor'],'font':_0x43f00a[_0x3ca5ff(0x453)]['option'][_0x3ca5ff(0x37a)],'statusJidList':_0x43f00a['status'][_0x3ca5ff(0x471)][_0x3ca5ff(0x596)]}):await this[_0x3ca5ff(0x722)]['sendMessage'](_0xa22cb7,_0x43f00a,_0xfbfd31);})()),{message_normalized:_0x3a6f72}=this[_0x395a57(0x199)](_0x4b4422[_0x395a57(0x600)],_(_0x4b4422[_0x395a57(0x600)]),null),_0x4819a6={'_id':_0x4b4422['key']['id'],'key':_0x4b4422['key'],'pushName':_0x4b4422[_0x395a57(0x515)],'message':{..._0x4b4422[_0x395a57(0x600)]},'messageType':_(_0x4b4422[_0x395a57(0x600)]),'message_normalized':{'key':_0x4b4422[_0x395a57(0x423)],'pushName':_0x4b4422[_0x395a57(0x515)],'messageTimestamp':_0x4b4422['messageTimestamp']&&_0x4b4422[_0x395a57(0x1e2)][_0x395a57(0x604)]()['length']<0xd?_0x4b4422[_0x395a57(0x1e2)]*0x3e8:_0x4b4422[_0x395a57(0x1e2)]||null,'source':(0x0,w[_0x395a57(0x528)])(_0x4b4422[_0x395a57(0x423)]['id']),..._0x3a6f72},'messageTimestamp':_0x4b4422['messageTimestamp']&&_0x4b4422['messageTimestamp'][_0x395a57(0x604)]()[_0x395a57(0x5b9)]<0xd?_0x4b4422[_0x395a57(0x1e2)]*0x3e8:_0x4b4422[_0x395a57(0x1e2)]||null,'owner':this[_0x395a57(0x15d)][_0x395a57(0x660)],'source':(0x0,w[_0x395a57(0x528)])(_0x4b4422[_0x395a57(0x423)]['id'])};return this[_0x395a57(0x40d)]['log'](_0x4819a6),this[_0x395a57(0x44c)](_0x395a57(0x6af),_0x4819a6),B(this[_0x395a57(0x2c4)],'messages',{'message':_0x4819a6}),this[_0x395a57(0x6c4)](this['configService'][_0x395a57(0x47c)](_0x395a57(0x225)),_0x4819a6,_0x395a57(0x3bc)),await this[_0x395a57(0x217)][_0x395a57(0x600)][_0x395a57(0x2e6)]([_0x4819a6]),_0x4b4422;}catch(_0x2838b9){throw this[_0x395a57(0x40d)][_0x395a57(0x507)](this[_0x395a57(0x2c4)]+'\x20('+this['instance']['wuid']+_0x395a57(0x5f9)+_0x2838b9[_0x395a57(0x604)]()),new g(_0x2838b9[_0x395a57(0x604)]());}}get[a0_0xe6bdb1(0x47a)](){return this['stateConnection'];}async[a0_0xe6bdb1(0x61c)](_0x2de739){const _0x484bd5=a0_0xe6bdb1;let _0x4072ea=this['configService'][_0x484bd5(0x47c)](_0x484bd5(0x2ff)),_0x30c169=this[_0x484bd5(0x440)][_0x484bd5(0x47c)](_0x484bd5(0x35a));return _0x30c169&&this[_0x484bd5(0x2c4)]['toLowerCase']()[_0x484bd5(0x30a)](_0x30c169[_0x484bd5(0x3a1)]())&&(_0x2de739[_0x484bd5(0x61c)][_0x484bd5(0x151)]+='\x0a\x0a'+_0x4072ea),await this[_0x484bd5(0x69e)](_0x2de739[_0x484bd5(0x3d1)],{'conversation':_0x2de739[_0x484bd5(0x61c)][_0x484bd5(0x151)]},_0x2de739?.[_0x484bd5(0x4b2)]);}async[a0_0xe6bdb1(0x5a6)](_0x482631){const _0x3bbb30=a0_0xe6bdb1;if(!_0x482631[_0x3bbb30(0x2be)])throw new g(_0x3bbb30(0x516));if(!_0x482631[_0x3bbb30(0x3dc)])throw new g(_0x3bbb30(0x230));if(_0x482631['allContacts']){let _0x205c77=await this[_0x3bbb30(0x217)][_0x3bbb30(0x69b)][_0x3bbb30(0x268)]({'where':{'owner':this[_0x3bbb30(0x15d)][_0x3bbb30(0x660)]}});if(!_0x205c77[_0x3bbb30(0x5b9)])throw new g('Contacts\x20not\x20found');_0x482631[_0x3bbb30(0x596)]=_0x205c77[_0x3bbb30(0x47d)](_0x39b907=>_0x39b907[_0x3bbb30(0x515)])[_0x3bbb30(0x538)](_0x1b5570=>_0x1b5570[_0x3bbb30(0x1f9)]);}if(!_0x482631[_0x3bbb30(0x596)]?.[_0x3bbb30(0x5b9)]&&!_0x482631[_0x3bbb30(0x5e0)])throw new g(_0x3bbb30(0x2f3));if(_0x482631[_0x3bbb30(0x2be)]===_0x3bbb30(0x151)){if(!_0x482631[_0x3bbb30(0x3c3)])throw new g('Background\x20color\x20is\x20required');if(!_0x482631[_0x3bbb30(0x37a)])throw new g(_0x3bbb30(0x429));return{'content':{'text':_0x482631[_0x3bbb30(0x3dc)]},'option':{'backgroundColor':_0x482631['backgroundColor'],'font':_0x482631[_0x3bbb30(0x37a)],'statusJidList':_0x482631[_0x3bbb30(0x596)]}};}if(_0x482631['type']===_0x3bbb30(0x39d))return{'content':{'image':{'url':_0x482631[_0x3bbb30(0x3dc)]},'caption':_0x482631[_0x3bbb30(0x4be)]},'option':{'statusJidList':_0x482631[_0x3bbb30(0x596)]}};if(_0x482631[_0x3bbb30(0x2be)]===_0x3bbb30(0x391))return{'content':{'video':{'url':_0x482631[_0x3bbb30(0x3dc)]},'caption':_0x482631[_0x3bbb30(0x4be)]},'option':{'statusJidList':_0x482631[_0x3bbb30(0x596)]}};if(_0x482631[_0x3bbb30(0x2be)]===_0x3bbb30(0x1f5)){this[_0x3bbb30(0x40d)]['verbose'](_0x3bbb30(0x356)),this[_0x3bbb30(0x40d)][_0x3bbb30(0x641)](_0x3bbb30(0x3f9));let _0xdbd18a=await this[_0x3bbb30(0x690)](_0x482631['content']);if(typeof _0xdbd18a==_0x3bbb30(0x4e8)){this[_0x3bbb30(0x40d)][_0x3bbb30(0x641)](_0x3bbb30(0x6b1));let _0x3a47fd=x[_0x3bbb30(0x470)](_0xdbd18a)[_0x3bbb30(0x604)](_0x3bbb30(0x202)),_0x54fdbd={'content':{'audio':Buffer['from'](_0x3a47fd,_0x3bbb30(0x202)),'ptt':!0x0,'mimetype':_0x3bbb30(0x2fe)},'option':{'statusJidList':_0x482631[_0x3bbb30(0x596)]}};return x['unlinkSync'](_0xdbd18a),_0x54fdbd;}else throw new A(_0xdbd18a);}throw new g(_0x3bbb30(0x54f));}async[a0_0xe6bdb1(0x1af)](_0x296f76){const _0x1ec587=a0_0xe6bdb1;return await this[_0x1ec587(0x69e)](_0x1ec587(0x696),{'status':await this[_0x1ec587(0x5a6)](_0x296f76['statusMessage'])});}async[a0_0xe6bdb1(0x1be)](_0x5a9e68){const _0x57b505=a0_0xe6bdb1;try{let _0x45795d=await(0x0,w[_0x57b505(0x2ba)])({[_0x5a9e68[_0x57b505(0x62e)]]:(0x0,P['isURL'])(_0x5a9e68['media'])?{'url':_0x5a9e68[_0x57b505(0x484)]}:Buffer['from'](_0x5a9e68[_0x57b505(0x484)],_0x57b505(0x202))},{'upload':this[_0x57b505(0x722)][_0x57b505(0x43a)]}),_0x1669a4=_0x5a9e68[_0x57b505(0x62e)]+_0x57b505(0x32d);if(_0x5a9e68[_0x57b505(0x62e)]==='document'&&!_0x5a9e68['fileName']){let _0x21f368=new RegExp(/.*\/(.+?)\./)[_0x57b505(0x2f0)](_0x5a9e68['media']);_0x5a9e68[_0x57b505(0x321)]=_0x21f368?_0x21f368[0x1]:null;}let _0x51f6c2=(0x0,P['isURL'])(_0x5a9e68['media'])?_0x5a9e68['media'][_0x57b505(0x204)]('?')[0x0]:_0x5a9e68[_0x57b505(0x484)];this[_0x57b505(0x40d)][_0x57b505(0x641)](_0x57b505(0x1a1)+_0x51f6c2);let _0x432198;_0x5a9e68['fileName']?_0x432198=(0x0,At[_0x57b505(0x3cd)])(_0x5a9e68[_0x57b505(0x321)]):(0x0,P[_0x57b505(0x3b1)])(_0x5a9e68['media'])?_0x432198=(0x0,At[_0x57b505(0x3cd)])(_0x51f6c2):_0x432198=(0x0,At['getMIMEType'])(_0x5a9e68[_0x57b505(0x484)]);let _0x430014=this[_0x57b505(0x440)][_0x57b505(0x47c)](_0x57b505(0x2ff)),_0x5eda96=this[_0x57b505(0x440)][_0x57b505(0x47c)](_0x57b505(0x35a));return _0x5eda96&&this[_0x57b505(0x2c4)][_0x57b505(0x3a1)]()[_0x57b505(0x30a)](_0x5eda96[_0x57b505(0x3a1)]())&&(_0x5a9e68[_0x57b505(0x4be)]+='\x0a\x0a'+_0x430014),_0x45795d[_0x1669a4]['caption']=_0x5a9e68?.[_0x57b505(0x4be)],_0x45795d[_0x1669a4][_0x57b505(0x42f)]=_0x432198,_0x45795d[_0x1669a4]['fileName']=_0x5a9e68[_0x57b505(0x321)],_0x5a9e68[_0x57b505(0x62e)]===_0x57b505(0x391)&&(_0x45795d[_0x1669a4][_0x57b505(0x19b)]=Uint8Array[_0x57b505(0x211)]((0x0,Te[_0x57b505(0x470)])((0x0,k[_0x57b505(0x56c)])(process[_0x57b505(0x414)](),_0x57b505(0x720)))),_0x45795d[_0x1669a4][_0x57b505(0x3d6)]=!0x1),(0x0,w[_0x57b505(0x4a8)])('',{[_0x1669a4]:{..._0x45795d[_0x1669a4]}},{'userJid':this[_0x57b505(0x15d)][_0x57b505(0x660)]});}catch(_0x2ae83c){throw this[_0x57b505(0x40d)][_0x57b505(0x507)](this[_0x57b505(0x2c4)]+'\x20('+this[_0x57b505(0x15d)][_0x57b505(0x660)]+'):\x20'+JSON[_0x57b505(0x533)](_0x2ae83c,null,0x2)),new A(_0x2ae83c?.['toString']()||_0x2ae83c);}}async[a0_0xe6bdb1(0x2a4)](_0x25fde9){const _0x46d7f0=a0_0xe6bdb1;let _0x3f27cd=await this[_0x46d7f0(0x1be)](_0x25fde9[_0x46d7f0(0x2a4)]);return await this[_0x46d7f0(0x69e)](_0x25fde9[_0x46d7f0(0x3d1)],{..._0x3f27cd[_0x46d7f0(0x600)]},_0x25fde9?.[_0x46d7f0(0x4b2)]);}async[a0_0xe6bdb1(0x582)](_0x4812ae,_0x2af463){const _0x4e256d=a0_0xe6bdb1;try{this[_0x4e256d(0x40d)]['verbose']('Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x53274b,_0x1ecb34=_0x2af463+'-'+new Date()[_0x4e256d(0x62d)]();this[_0x4e256d(0x40d)][_0x4e256d(0x641)](_0x4e256d(0x5db)+_0x1ecb34);let _0x5dade9=''+(0x0,k['join'])(this[_0x4e256d(0x30b)],_0x1ecb34+_0x4e256d(0x70a));if(this['logger'][_0x4e256d(0x641)](_0x4e256d(0x521)+_0x5dade9),(0x0,P[_0x4e256d(0x581)])(_0x4812ae)){this[_0x4e256d(0x40d)]['verbose'](_0x4e256d(0x282));let _0x2d2047=_0x4812ae[_0x4e256d(0x1e3)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x567fcc=Buffer['from'](_0x2d2047,_0x4e256d(0x202));_0x53274b=''+(0x0,k[_0x4e256d(0x56c)])(this['storePath'],'temp-'+_0x1ecb34+'.png'),this[_0x4e256d(0x40d)][_0x4e256d(0x641)](_0x4e256d(0x611)+_0x53274b),await(0x0,Ot['default'])(_0x567fcc)[_0x4e256d(0x15a)](_0x53274b),this[_0x4e256d(0x40d)][_0x4e256d(0x641)](_0x4e256d(0x67f));}else{this['logger'][_0x4e256d(0x641)]('Image\x20is\x20url');let _0x39c626=new Date()[_0x4e256d(0x62d)](),_0x44c34a=_0x4812ae+'?timestamp='+_0x39c626;this[_0x4e256d(0x40d)][_0x4e256d(0x641)](_0x4e256d(0x719)+_0x44c34a);let _0x4b7990=await ce['default'][_0x4e256d(0x47c)](_0x44c34a,{'responseType':_0x4e256d(0x227)});this[_0x4e256d(0x40d)][_0x4e256d(0x641)](_0x4e256d(0x686));let _0x7119a3=Buffer[_0x4e256d(0x211)](_0x4b7990[_0x4e256d(0x388)],_0x4e256d(0x23c));_0x53274b=''+(0x0,k[_0x4e256d(0x56c)])(this[_0x4e256d(0x30b)],_0x4e256d(0x3f2)+_0x1ecb34+_0x4e256d(0x29b)),this['logger']['verbose'](_0x4e256d(0x611)+_0x53274b),await(0x0,Ot['default'])(_0x7119a3)[_0x4e256d(0x15a)](_0x53274b),this['logger']['verbose']('Image\x20created');}return await(0x0,Ot[_0x4e256d(0x6cd)])(_0x53274b)['webp']()[_0x4e256d(0x15a)](_0x5dade9),this[_0x4e256d(0x40d)][_0x4e256d(0x641)](_0x4e256d(0x237)),x['unlinkSync'](_0x53274b),this[_0x4e256d(0x40d)]['verbose'](_0x4e256d(0x26e)),_0x5dade9;}catch(_0x5ecdf2){console[_0x4e256d(0x507)](_0x4e256d(0x3df),JSON[_0x4e256d(0x533)](_0x5ecdf2,null,0x2));}}async[a0_0xe6bdb1(0x444)](_0x486f0f){const _0x23a987=a0_0xe6bdb1;let _0x11462f=await this[_0x23a987(0x582)](_0x486f0f[_0x23a987(0x3e0)]['image'],_0x486f0f[_0x23a987(0x3d1)]),_0x350c9e=await this[_0x23a987(0x69e)](_0x486f0f[_0x23a987(0x3d1)],{'sticker':{'url':_0x11462f}},_0x486f0f?.[_0x23a987(0x4b2)]);return x[_0x23a987(0x2c6)](_0x11462f),this[_0x23a987(0x40d)]['verbose'](_0x23a987(0x544)),_0x350c9e;}async[a0_0xe6bdb1(0x4b1)](_0x1d32f9){const _0x504dac=a0_0xe6bdb1;if(this['logger'][_0x504dac(0x641)](_0x504dac(0x68e)),!_0x1d32f9['options']?.[_0x504dac(0x4e7)]&&_0x1d32f9[_0x504dac(0x4b2)]?.['encoding']!==!0x1&&(_0x1d32f9['options']['encoding']=!0x0),_0x1d32f9[_0x504dac(0x4b2)]?.[_0x504dac(0x4e7)]){let _0x2137bc=await this[_0x504dac(0x690)](_0x1d32f9['audioMessage']['audio']);if(typeof _0x2137bc==_0x504dac(0x4e8)){let _0x4e45b9=x['readFileSync'](_0x2137bc)[_0x504dac(0x604)](_0x504dac(0x202)),_0x228f0d=this[_0x504dac(0x69e)](_0x1d32f9[_0x504dac(0x3d1)],{'audio':Buffer[_0x504dac(0x211)](_0x4e45b9,_0x504dac(0x202)),'ptt':!0x0,'mimetype':'audio/mp4'},{'presence':_0x504dac(0x63d),'delay':_0x1d32f9?.[_0x504dac(0x4b2)]?.['delay']});return x[_0x504dac(0x2c6)](_0x2137bc),this[_0x504dac(0x40d)][_0x504dac(0x641)](_0x504dac(0x3aa)),_0x228f0d;}else throw new A(_0x2137bc);}return await this['sendMessageWithTyping'](_0x1d32f9['number'],{'audio':(0x0,P[_0x504dac(0x3b1)])(_0x1d32f9[_0x504dac(0x3eb)][_0x504dac(0x1f5)])?{'url':_0x1d32f9[_0x504dac(0x3eb)][_0x504dac(0x1f5)]}:Buffer['from'](_0x1d32f9[_0x504dac(0x3eb)][_0x504dac(0x1f5)],'base64'),'ptt':!0x0,'mimetype':_0x504dac(0x24e)},{'presence':_0x504dac(0x63d),'delay':_0x1d32f9?.[_0x504dac(0x4b2)]?.[_0x504dac(0x53d)]});}async[a0_0xe6bdb1(0x690)](_0x31422f){const _0x32dfca=a0_0xe6bdb1;this['logger'][_0x32dfca(0x641)](_0x32dfca(0x3f9));let _0x5eac6f,_0x388ffd,_0x17fd89=(0x0,It['v4'])();if(this['logger'][_0x32dfca(0x641)](_0x32dfca(0x6ad)+_0x17fd89),(0x0,P[_0x32dfca(0x3b1)])(_0x31422f)){this[_0x32dfca(0x40d)][_0x32dfca(0x641)]('Audio\x20is\x20url'),_0x388ffd=''+(0x0,k[_0x32dfca(0x56c)])(this[_0x32dfca(0x30b)],_0x17fd89+_0x32dfca(0x316)),_0x5eac6f=''+(0x0,k[_0x32dfca(0x56c)])(this['storePath'],_0x32dfca(0x3f2)+_0x17fd89+_0x32dfca(0x2d6)),this[_0x32dfca(0x40d)][_0x32dfca(0x641)]('Output\x20audio\x20path:\x20'+_0x388ffd),this[_0x32dfca(0x40d)][_0x32dfca(0x641)](_0x32dfca(0x4e9)+_0x5eac6f);let _0x3efcba=new Date()[_0x32dfca(0x62d)](),_0x1385f9=_0x31422f+_0x32dfca(0x39f)+_0x3efcba;this[_0x32dfca(0x40d)][_0x32dfca(0x641)]('Including\x20timestamp\x20in\x20url:\x20'+_0x1385f9);let _0x28d9e2=await ce[_0x32dfca(0x6cd)][_0x32dfca(0x47c)](_0x1385f9,{'responseType':_0x32dfca(0x227)});this[_0x32dfca(0x40d)][_0x32dfca(0x641)](_0x32dfca(0x72a)),x[_0x32dfca(0x699)](_0x5eac6f,_0x28d9e2['data']);}else{this[_0x32dfca(0x40d)][_0x32dfca(0x641)]('Audio\x20is\x20base64'),_0x388ffd=''+(0x0,k[_0x32dfca(0x56c)])(this['storePath'],_0x17fd89+'.mp4'),_0x5eac6f=''+(0x0,k[_0x32dfca(0x56c)])(this[_0x32dfca(0x30b)],_0x32dfca(0x3f2)+_0x17fd89+_0x32dfca(0x2d6)),this[_0x32dfca(0x40d)]['verbose'](_0x32dfca(0x6e4)+_0x388ffd),this[_0x32dfca(0x40d)][_0x32dfca(0x641)](_0x32dfca(0x4e9)+_0x5eac6f);let _0xa15d20=Buffer[_0x32dfca(0x211)](_0x31422f,_0x32dfca(0x202));x[_0x32dfca(0x699)](_0x5eac6f,_0xa15d20),this['logger'][_0x32dfca(0x641)](_0x32dfca(0x362));}return this[_0x32dfca(0x40d)][_0x32dfca(0x641)](_0x32dfca(0x613)),new Promise((_0x147bbb,_0x4ee1e4)=>{const _0x3ae6c1=_0x32dfca;(0x0,Dt[_0x3ae6c1(0x2f0)])(Xa['default'][_0x3ae6c1(0x5f4)]+_0x3ae6c1(0x281)+_0x5eac6f+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20'+_0x388ffd+_0x3ae6c1(0x567),_0x1eb571=>{const _0x1b668d=_0x3ae6c1;x[_0x1b668d(0x2c6)](_0x5eac6f),this[_0x1b668d(0x40d)]['verbose'](_0x1b668d(0x520)),_0x1eb571&&_0x4ee1e4(_0x1eb571),this['logger'][_0x1b668d(0x641)](_0x1b668d(0x4c4)),_0x147bbb(_0x388ffd);});});}async[a0_0xe6bdb1(0x6da)](_0x49a003){const _0x2c5826=a0_0xe6bdb1;let _0x41eba6={},_0x355770='TEXT';if(_0x49a003['buttonMessage']?.['mediaMessage']){_0x355770=_0x49a003[_0x2c5826(0x6da)][_0x2c5826(0x2a4)]?.['mediatype']['toUpperCase']()??_0x2c5826(0x4f0),_0x41eba6['mediaKey']=_0x355770[_0x2c5826(0x3a1)]()+_0x2c5826(0x32d);let _0x32727c=await this['prepareMediaMessage'](_0x49a003['buttonMessage']['mediaMessage']);_0x41eba6[_0x2c5826(0x600)]=_0x32727c[_0x2c5826(0x600)][_0x41eba6['mediaKey']],_0x41eba6[_0x2c5826(0x36e)]='*'+_0x49a003[_0x2c5826(0x6da)][_0x2c5826(0x560)]+'*\x0a\x0a'+_0x49a003[_0x2c5826(0x6da)]['description'];}let _0x764fe0={'text':_0x49a003[_0x2c5826(0x6da)][_0x2c5826(0x58d)][_0x2c5826(0x538)](_0x26d6e9=>_0x26d6e9[_0x2c5826(0x251)]),'ids':_0x49a003[_0x2c5826(0x6da)][_0x2c5826(0x58d)]['map'](_0x492089=>_0x492089[_0x2c5826(0x3a6)])};if(!(0x0,P['arrayUnique'])(_0x764fe0[_0x2c5826(0x151)])||!(0x0,P[_0x2c5826(0x58e)])(_0x764fe0[_0x2c5826(0x15f)]))throw new g(_0x2c5826(0x20c),_0x2c5826(0x3a4));return await this['sendMessageWithTyping'](_0x49a003[_0x2c5826(0x3d1)],{'buttonsMessage':{'text':_0x41eba6?.['mediaKey']?void 0x0:_0x49a003[_0x2c5826(0x6da)][_0x2c5826(0x560)],'contentText':_0x41eba6?.[_0x2c5826(0x36e)]??_0x49a003[_0x2c5826(0x6da)]['description'],'footerText':_0x49a003[_0x2c5826(0x6da)]?.[_0x2c5826(0x485)],'buttons':_0x49a003[_0x2c5826(0x6da)]['buttons'][_0x2c5826(0x538)](_0x3a51a8=>({'buttonText':{'displayText':_0x3a51a8['buttonText']},'buttonId':_0x3a51a8[_0x2c5826(0x3a6)],'type':0x1})),'headerType':w[_0x2c5826(0x174)][_0x2c5826(0x32d)][_0x2c5826(0x3ac)][_0x2c5826(0x249)][_0x355770],[_0x41eba6?.[_0x2c5826(0x630)]]:_0x41eba6?.[_0x2c5826(0x600)]}},_0x49a003?.[_0x2c5826(0x4b2)]);}async['locationMessage'](_0x5c4909){const _0x1c2173=a0_0xe6bdb1;return await this['sendMessageWithTyping'](_0x5c4909[_0x1c2173(0x3d1)],{'locationMessage':{'degreesLatitude':_0x5c4909[_0x1c2173(0x640)][_0x1c2173(0x24d)],'degreesLongitude':_0x5c4909[_0x1c2173(0x640)][_0x1c2173(0x2fb)],'name':_0x5c4909[_0x1c2173(0x640)]?.[_0x1c2173(0x34d)],'address':_0x5c4909[_0x1c2173(0x640)]?.[_0x1c2173(0x3e1)]}},_0x5c4909?.[_0x1c2173(0x4b2)]);}async[a0_0xe6bdb1(0x154)](_0x29a21f){const _0x341202=a0_0xe6bdb1;return await this[_0x341202(0x69e)](_0x29a21f[_0x341202(0x3d1)],{'listMessage':{'title':_0x29a21f[_0x341202(0x154)]['title'],'description':_0x29a21f[_0x341202(0x154)][_0x341202(0x5c6)],'buttonText':_0x29a21f[_0x341202(0x154)]?.[_0x341202(0x251)],'footerText':_0x29a21f[_0x341202(0x154)]?.['footerText'],'sections':_0x29a21f[_0x341202(0x154)][_0x341202(0x1cf)],'listType':0x1}},_0x29a21f?.[_0x341202(0x4b2)]);}async[a0_0xe6bdb1(0x198)](_0x4502f9){const _0x1d45c5=a0_0xe6bdb1;let _0x1f8f91={},_0x4747ae=_0x5e05c5=>{const _0x8b25e5=a0_0x487d;let _0xf303a1='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x5e05c5[_0x8b25e5(0x431)]+_0x8b25e5(0x353)+_0x5e05c5[_0x8b25e5(0x431)]+'\x0a';_0x5e05c5[_0x8b25e5(0x2f9)]&&(_0xf303a1+=_0x8b25e5(0x34e)+_0x5e05c5[_0x8b25e5(0x2f9)]+';\x0a'),_0x5e05c5[_0x8b25e5(0x4ed)]&&(_0xf303a1+=_0x8b25e5(0x4b4)+_0x5e05c5[_0x8b25e5(0x4ed)]+'\x0a'),_0x5e05c5[_0x8b25e5(0x389)]&&(_0xf303a1+=_0x8b25e5(0x707)+_0x5e05c5[_0x8b25e5(0x389)]+'\x0a');let _0x9d3036='';return _0x5e05c5[_0x8b25e5(0x3fb)]&&_0x5e05c5[_0x8b25e5(0x3fb)][_0x8b25e5(0x204)]('|')[_0x8b25e5(0x19f)]((_0x4e9e68,_0x26cd1e)=>{const _0x139b7b=_0x8b25e5;let _0x42749a=this['createJid'](_0x4e9e68)[_0x139b7b(0x1e3)]('@s.whatsapp.net','');_0x9d3036+=_0x139b7b(0x5ef)+(_0x26cd1e+0x1)+_0x139b7b(0x72c)+_0x42749a+':'+_0x4e9e68+_0x139b7b(0x15e)+(_0x26cd1e+0x1)+_0x139b7b(0x1dc);}),_0xf303a1+=_0x9d3036+_0x8b25e5(0x16c),_0xf303a1;};return _0x4502f9[_0x1d45c5(0x198)][_0x1d45c5(0x5b9)]===0x1?_0x1f8f91['contactMessage']={'displayName':_0x4502f9[_0x1d45c5(0x198)][0x0]['fullName'],'vcard':_0x4747ae(_0x4502f9[_0x1d45c5(0x198)][0x0])}:_0x1f8f91[_0x1d45c5(0x4eb)]={'displayName':_0x4502f9[_0x1d45c5(0x198)][_0x1d45c5(0x5b9)]+_0x1d45c5(0x495),'contacts':_0x4502f9['contactMessage'][_0x1d45c5(0x538)](_0x3236e1=>({'displayName':_0x3236e1[_0x1d45c5(0x431)],'vcard':_0x4747ae(_0x3236e1)}))},await this[_0x1d45c5(0x69e)](_0x4502f9[_0x1d45c5(0x3d1)],{..._0x1f8f91},_0x4502f9?.[_0x1d45c5(0x4b2)]);}async[a0_0xe6bdb1(0x64b)](_0x2d89f9){const _0x60c50f=a0_0xe6bdb1;return await this[_0x60c50f(0x69e)](_0x2d89f9['reactionMessage'][_0x60c50f(0x423)][_0x60c50f(0x267)],{'reactionMessage':{'key':_0x2d89f9[_0x60c50f(0x64b)]['key'],'text':_0x2d89f9[_0x60c50f(0x64b)][_0x60c50f(0x482)]}});}async[a0_0xe6bdb1(0x24b)](_0xf7ecb3){const _0x57b222=a0_0xe6bdb1;let _0x43e12a=[];for await(let _0x5874bc of _0xf7ecb3[_0x57b222(0x717)]){let _0x33df0e=this[_0x57b222(0x512)](_0x5874bc);if((0x0,w['isJidGroup'])(_0x33df0e)){let _0x3227fe=await this['findGroup']({'groupJid':_0x33df0e},_0x57b222(0x49f));_0x43e12a['push'](new fe(_0x3227fe[_0x57b222(0x62a)]['id'],!!_0x3227fe?.['metadata']['id'],_0x3227fe?.[_0x57b222(0x62a)][_0x57b222(0x14e)]));}else try{let _0x5c5e9c=(await this['client'][_0x57b222(0x180)](_0x33df0e))[0x0];_0x43e12a[_0x57b222(0x367)](new fe(_0x5c5e9c[_0x57b222(0x585)],_0x5c5e9c[_0x57b222(0x62f)]));}catch{_0x43e12a[_0x57b222(0x367)](new fe(_0x5874bc,!0x1));}}return _0x43e12a;}async['markMessageAsRead'](_0x150480){const _0x445360=a0_0xe6bdb1;try{let _0x17fadc=_0x150480[_0x445360(0x5be)][_0x445360(0x47d)](_0x2a0503=>(0x0,w[_0x445360(0x549)])(_0x2a0503[_0x445360(0x267)])||(0x0,w[_0x445360(0x3b3)])(_0x2a0503[_0x445360(0x267)]))[_0x445360(0x538)](_0x115fac=>({'remoteJid':_0x115fac['remoteJid'],'fromMe':_0x115fac[_0x445360(0x4cf)],'id':_0x115fac['id']}));await this['client']['readMessages'](_0x17fadc);let _0x4e2fec=_0x17fadc[_0x445360(0x538)](_0x2c8c02=>this[_0x445360(0x1da)](_0x2c8c02,_0x2c8c02[_0x445360(0x267)],{'status':_0x445360(0x1bb),'owner':this[_0x445360(0x15d)][_0x445360(0x660)]})),_0x1794dd=_0x17fadc[_0x445360(0x538)](_0x1a6978=>this[_0x445360(0x217)][_0x445360(0x497)]['updateOne']({'where':{'_id':_0x1a6978[_0x445360(0x267)],'owner':this[_0x445360(0x15d)][_0x445360(0x660)]}},{'unreadcount':0x0})),[_0x3be0b0,_0x30213b]=await Promise[_0x445360(0x5fe)]([Promise['all'](_0x4e2fec),Promise[_0x445360(0x5fe)](_0x1794dd)]);return _0x30213b[_0x445360(0x47d)](_0x2abe7e=>_0x2abe7e!==null)['forEach'](_0x4afd6e=>{const _0x41f67a=_0x445360;B(this[_0x41f67a(0x2c4)],_0x41f67a(0x21f),{'chat':_0x4afd6e});}),{'message':'Read\x20messages','read':'success'};}catch(_0x49d7b2){throw console['error'](_0x445360(0x33c),_0x49d7b2),new A(_0x445360(0x20d),_0x49d7b2[_0x445360(0x604)]());}}async[a0_0xe6bdb1(0x32c)](_0x35dd0a){const _0x568812=a0_0xe6bdb1;let _0x8911cb=await this[_0x568812(0x14f)]({'where':{'key':{'remoteJid':_0x35dd0a},'owner':this[_0x568812(0x15d)]['name']}}),_0x5f5059=_0x8911cb[_0x568812(0x2b2)]();for(let _0x39903b of _0x8911cb)_0x39903b[_0x568812(0x1e2)]>=_0x5f5059[_0x568812(0x1e2)]&&(_0x5f5059=_0x39903b);return _0x5f5059;}async[a0_0xe6bdb1(0x2f6)](_0x4e798d){const _0x1a61c5=a0_0xe6bdb1;this[_0x1a61c5(0x40d)][_0x1a61c5(0x641)]('Archiving\x20chat');try{let _0x3effe0=_0x4e798d['lastMessage'],_0x2c0659=_0x4e798d['chat'];if(!_0x3effe0&&_0x2c0659?_0x3effe0=await this[_0x1a61c5(0x32c)](_0x2c0659):(_0x3effe0=_0x4e798d[_0x1a61c5(0x4d2)],_0x3effe0[_0x1a61c5(0x1e2)]=_0x3effe0?.[_0x1a61c5(0x1e2)]??Date['now'](),_0x2c0659=_0x3effe0?.['key']?.[_0x1a61c5(0x267)]),!_0x3effe0||Object[_0x1a61c5(0x55c)](_0x3effe0)[_0x1a61c5(0x5b9)]===0x0)throw new $('Last\x20message\x20not\x20found');await this['client'][_0x1a61c5(0x338)]({'archive':_0x4e798d['archive'],'lastMessages':[_0x3effe0]},this[_0x1a61c5(0x512)](_0x2c0659));let _0x2283bd=await this[_0x1a61c5(0x217)][_0x1a61c5(0x497)][_0x1a61c5(0x235)]({'where':{'_id':_0x3effe0?.['key']?.[_0x1a61c5(0x267)],'owner':this[_0x1a61c5(0x15d)][_0x1a61c5(0x660)]}},{'archived':_0x4e798d[_0x1a61c5(0x285)]});return _0x2283bd&&B(this[_0x1a61c5(0x2c4)],_0x1a61c5(0x21f),{'chat':_0x2283bd}),{'chatId':_0x2c0659,'archived':_0x4e798d[_0x1a61c5(0x285)]};}catch(_0x5dc54a){throw new A({'archived':!0x1,'message':[_0x1a61c5(0x4ad),_0x5dc54a[_0x1a61c5(0x604)]()]});}}async[a0_0xe6bdb1(0x659)](_0x36c6b5){const _0x45c341=a0_0xe6bdb1;try{let _0x540cca=await this[_0x45c341(0x722)][_0x45c341(0x1a2)](_0x36c6b5[_0x45c341(0x267)],{'delete':_0x36c6b5});try{let _0x508737=await this['updateMessage'](_0x36c6b5,_0x36c6b5['remoteJid'],{'status':_0x45c341(0x6d7),'owner':this[_0x45c341(0x15d)]['wuid']});this[_0x45c341(0x40d)][_0x45c341(0x641)](this[_0x45c341(0x2c4)]+'\x20('+this[_0x45c341(0x15d)][_0x45c341(0x660)]+_0x45c341(0x70e)+_0x508737);}catch(_0x4cd303){console[_0x45c341(0x507)](_0x45c341(0x4de),_0x4cd303);}return _0x540cca;}catch(_0x355e8e){throw new A(_0x45c341(0x4d3),_0x355e8e?.[_0x45c341(0x604)]());}}async[a0_0xe6bdb1(0x3ca)](_0x4b3237){const _0x514d9e=a0_0xe6bdb1;try{let _0x38b1dc=_0x4b3237?.[_0x514d9e(0x600)]?_0x4b3237:await this[_0x514d9e(0x684)](_0x4b3237['key'],!0x0);for(let _0x1f6606 of Qs)_0x38b1dc[_0x514d9e(0x600)][_0x1f6606]&&(_0x38b1dc[_0x514d9e(0x600)]=_0x38b1dc['message'][_0x1f6606][_0x514d9e(0x600)]);let _0x5887ae,_0x447860;for(let _0x1c0478 of zs)if(_0x5887ae=_0x38b1dc['message'][_0x1c0478],_0x5887ae){_0x447860=_0x1c0478;break;}if(!_0x5887ae)throw _0x514d9e(0x2cd);typeof _0x5887ae[_0x514d9e(0x630)]==_0x514d9e(0x35f)&&(_0x38b1dc[_0x514d9e(0x600)]=JSON[_0x514d9e(0x2c9)](JSON[_0x514d9e(0x533)](_0x38b1dc['message'])));let _0x3b7e12=await(0x0,w[_0x514d9e(0x2a8)])({'key':_0x38b1dc?.[_0x514d9e(0x423)],'message':_0x38b1dc?.[_0x514d9e(0x600)]},_0x514d9e(0x299),{},{'logger':(0x0,Mt[_0x514d9e(0x6cd)])({'level':'error'}),'reuploadRequest':this[_0x514d9e(0x722)][_0x514d9e(0x5cb)]});if(!(_0x3b7e12 instanceof Buffer))throw new Error(_0x514d9e(0x387));let _0x46ada7=this[_0x514d9e(0x440)]['get'](_0x514d9e(0x225)),_0x30d688,_0x5e83bb;if(_0x5887ae[_0x514d9e(0x321)])_0x30d688=_0x5887ae[_0x514d9e(0x321)];else{let _0x29e469=_0x5887ae[_0x514d9e(0x42f)]?.[_0x514d9e(0x287)](/\/(\w+)/),_0x57402e=_0x29e469?_0x29e469[0x1]:null;if(!_0x57402e)throw new Error(_0x514d9e(0x1b6));_0x30d688=(0x0,It['v4'])()+'.'+_0x57402e;}_0x447860===_0x514d9e(0x3eb)&&_0x5887ae['mimetype']===_0x514d9e(0x1ed)?(_0x30d688=(0x0,It['v4'])()+'.ogg',_0x5e83bb=_0x514d9e(0x311)+await this[_0x514d9e(0x690)](_0x3b7e12[_0x514d9e(0x604)]('base64'))):(await this[_0x514d9e(0x4ce)](_0x3b7e12,_0x30d688),_0x5e83bb=_0x514d9e(0x311)+_0x30d688);let _0x33cad8=this[_0x514d9e(0x440)][_0x514d9e(0x47c)](_0x514d9e(0x559)),_0x534d40=this[_0x514d9e(0x440)][_0x514d9e(0x47c)](_0x514d9e(0x26b))['PORT'],_0x40ede8=_0x33cad8&&_0x33cad8['FULLCHAIN'][_0x514d9e(0x204)]('/')[0x4];_0x534d40===0x1bb&&(_0x5e83bb=''+(_0x514d9e(0x598)+_0x40ede8)+_0x5e83bb);let _0x1b0b8e=0xc*0x3c*0x3c*0x3e8,_0x3202ce={'where':{'_id':_0x38b1dc[_0x514d9e(0x423)]['id'],'owner':this['instance'][_0x514d9e(0x660)]}};_0x38b1dc[_0x514d9e(0x423)][_0x514d9e(0x267)][_0x514d9e(0x29e)](_0x514d9e(0x6d1))&&(_0x3202ce['where'][_0x514d9e(0x423)][_0x514d9e(0x2c7)]=_0x38b1dc[_0x514d9e(0x423)]['participant']);let _0x1a2451={'message_normalized.fileUrl':_0x5e83bb,'message_normalized.expires_fileUrl':Date['now']()+_0x1b0b8e};try{let _0x39ab18=await this[_0x514d9e(0x217)][_0x514d9e(0x600)][_0x514d9e(0x1ef)](_0x3202ce,_0x1a2451);_0x39ab18&&B(this[_0x514d9e(0x2c4)],_0x514d9e(0x430),{'message':_0x39ab18});}catch{}return{'mediaType':_0x447860,'fileName':_0x5887ae[_0x514d9e(0x321)],'caption':_0x5887ae[_0x514d9e(0x4be)],'size':{'fileLength':_0x5887ae[_0x514d9e(0x1e4)],'height':_0x5887ae[_0x514d9e(0x3de)],'width':_0x5887ae[_0x514d9e(0x590)]},'mimetype':_0x5887ae[_0x514d9e(0x42f)],'base64':_0x3b7e12['toString'](_0x514d9e(0x202)),'fileUrl':_0x5e83bb,'expires_fileUrl':Date['now']()+_0x1b0b8e};}catch(_0x417bb6){throw this['logger'][_0x514d9e(0x507)](this['instanceName']+'\x20('+this['instance'][_0x514d9e(0x660)]+'):\x20'+JSON[_0x514d9e(0x533)](_0x417bb6,null,0x2)),new g(_0x417bb6[_0x514d9e(0x604)]());}}async[a0_0xe6bdb1(0x4ce)](_0x4213ef,_0x23887f){const _0x3dc61a=a0_0xe6bdb1;console[_0x3dc61a(0x6c7)](_0x3dc61a(0x3b4),__dirname),console[_0x3dc61a(0x6c7)](_0x3dc61a(0x525),_0x23887f);let _0x5b1be6=k[_0x3dc61a(0x6cd)][_0x3dc61a(0x56c)](__dirname,_0x3dc61a(0x445));console['log'](_0x3dc61a(0x1a3),_0x5b1be6),x[_0x3dc61a(0x1c0)](_0x5b1be6)||(this[_0x3dc61a(0x40d)]['log'](_0x3dc61a(0x2b4)),x['mkdirSync'](_0x5b1be6,{'recursive':!0x0}));let _0x3df1fb=k[_0x3dc61a(0x6cd)]['join'](_0x5b1be6,_0x23887f);return console['log'](_0x3dc61a(0x435),_0x3df1fb),new Promise((_0x598e02,_0x4f4386)=>{x['writeFile'](_0x3df1fb,_0x4213ef,_0x11efe2=>{const _0x287b77=a0_0x487d;_0x11efe2?(this[_0x287b77(0x40d)][_0x287b77(0x507)](_0x287b77(0x5e9)+JSON['stringify'](_0x11efe2,null,0x2)),_0x4f4386(_0x11efe2)):(this['logger'][_0x287b77(0x6c7)](_0x287b77(0x26a)+_0x3df1fb),_0x598e02(_0x3df1fb));});});}async['fetchContacts'](_0x1a05fa){const _0x46c46a=a0_0xe6bdb1;return _0x1a05fa?.[_0x46c46a(0x37c)]?_0x1a05fa['where'][_0x46c46a(0x2f7)]=this[_0x46c46a(0x15d)][_0x46c46a(0x660)]:_0x1a05fa={'where':{'owner':this[_0x46c46a(0x15d)][_0x46c46a(0x660)]}},await this['repository'][_0x46c46a(0x69b)][_0x46c46a(0x268)](_0x1a05fa);}async[a0_0xe6bdb1(0x14f)](_0x119547){const _0x5d7c5f=a0_0xe6bdb1;return _0x119547?.[_0x5d7c5f(0x37c)]?_0x119547[_0x5d7c5f(0x37c)][_0x5d7c5f(0x2f7)]=this[_0x5d7c5f(0x15d)][_0x5d7c5f(0x660)]:_0x119547={'where':{'owner':this[_0x5d7c5f(0x15d)]['wuid']},'limit':_0x119547?.[_0x5d7c5f(0x6e5)]},await this[_0x5d7c5f(0x217)][_0x5d7c5f(0x600)][_0x5d7c5f(0x268)](_0x119547);}async['fetchChats'](){const _0x38cdec=a0_0xe6bdb1;let _0x375b46=[{'query':{'where':{'owner':this[_0x38cdec(0x15d)][_0x38cdec(0x660)],'leadInfo.tags':{'$exists':!0x1}}},'update':{'leadInfo':{'tags':[]}}},{'query':{'where':{'owner':this['instance']['wuid'],'leadInfo.customFields':{'$exists':!0x1}}},'update':{'leadInfo':{'customFields':[]}}}];return await this['repository']['chat'][_0x38cdec(0x4a9)](_0x375b46),await this[_0x38cdec(0x217)][_0x38cdec(0x497)][_0x38cdec(0x268)]({'where':{'owner':this['instance'][_0x38cdec(0x660)]}});}async[a0_0xe6bdb1(0x263)](){const _0x5892d1=a0_0xe6bdb1;return await this[_0x5892d1(0x722)]['fetchPrivacySettings']();}async[a0_0xe6bdb1(0x70b)](_0x502fd9){const _0x1876fb=a0_0xe6bdb1;try{return await this[_0x1876fb(0x722)][_0x1876fb(0x17c)](_0x502fd9['privacySettings'][_0x1876fb(0x1f0)]),await this[_0x1876fb(0x722)][_0x1876fb(0x5e1)](_0x502fd9[_0x1876fb(0x279)][_0x1876fb(0x169)]),await this[_0x1876fb(0x722)][_0x1876fb(0x38e)](_0x502fd9[_0x1876fb(0x279)][_0x1876fb(0x453)]),await this['client'][_0x1876fb(0x301)](_0x502fd9[_0x1876fb(0x279)][_0x1876fb(0x5f7)]),await this[_0x1876fb(0x722)][_0x1876fb(0x40f)](_0x502fd9['privacySettings'][_0x1876fb(0x6e7)]),await this[_0x1876fb(0x722)][_0x1876fb(0x45a)](_0x502fd9[_0x1876fb(0x279)][_0x1876fb(0x335)]),this[_0x1876fb(0x722)]?.['ws']?.['close'](),{'update':'success','data':{'readreceipts':_0x502fd9[_0x1876fb(0x279)]['readreceipts'],'profile':_0x502fd9[_0x1876fb(0x279)]['profile'],'status':_0x502fd9[_0x1876fb(0x279)][_0x1876fb(0x453)],'online':_0x502fd9['privacySettings'][_0x1876fb(0x5f7)],'last':_0x502fd9[_0x1876fb(0x279)][_0x1876fb(0x6e7)],'groupadd':_0x502fd9[_0x1876fb(0x279)][_0x1876fb(0x335)]}};}catch(_0x155c92){throw new A('Error\x20updating\x20privacy\x20settings',_0x155c92['toString']());}}async[a0_0xe6bdb1(0x239)](_0x3b1094){const _0x2cba4c=a0_0xe6bdb1;let _0xfc750b=_0x3b1094?this[_0x2cba4c(0x512)](_0x3b1094):this['client']?.['user']?.['id'];this[_0x2cba4c(0x40d)][_0x2cba4c(0x641)]('Getting\x20profile\x20with\x20jid:\x20'+_0xfc750b);try{if(this[_0x2cba4c(0x40d)][_0x2cba4c(0x641)](_0x2cba4c(0x6d3)),_0x3b1094){let _0x13c55d=(await this['whatsappNumber']({'numbers':[_0xfc750b]}))?.[_0x2cba4c(0x6bc)](),_0x3768a2=await this[_0x2cba4c(0x455)](_0x13c55d?.[_0x2cba4c(0x585)]),_0x2d5738=await this['getStatus'](_0x13c55d?.[_0x2cba4c(0x585)]),_0x479769=await this[_0x2cba4c(0x5b1)](_0x13c55d?.[_0x2cba4c(0x585)]);return{'wuid':_0x13c55d?.['jid']||_0xfc750b,'name':_0x13c55d?.['name'],'numberExists':_0x13c55d?.[_0x2cba4c(0x62f)],'picture':_0x3768a2?.[_0x2cba4c(0x361)],'status':_0x2d5738?.['status'],'isBusiness':_0x479769['isBusiness'],'email':_0x479769?.[_0x2cba4c(0x4ed)],'description':_0x479769?.['description'],'website':_0x479769?.[_0x2cba4c(0x542)]?.['shift']()};}}catch{return this['logger']['verbose'](_0x2cba4c(0x4af)),{'wuid':_0xfc750b,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0xe6bdb1(0x2c8)](_0xaffe49){const _0x39750a=a0_0xe6bdb1;let _0x489f02=(_0xaffe49?this[_0x39750a(0x512)](_0xaffe49):this[_0x39750a(0x722)]?.['user']?.['id'])[_0x39750a(0x1e3)](/:\d{1,2}@/g,'@');this[_0x39750a(0x40d)][_0x39750a(0x641)](_0x39750a(0x3d8)+_0x489f02);let _0x3119ce=await this[_0x39750a(0x217)][_0x39750a(0x69b)][_0x39750a(0x5d7)]({'where':{'_id':_0x489f02,'owner':this[_0x39750a(0x15d)][_0x39750a(0x660)]}}),_0x19a6b4=_0x3119ce?_0x3119ce[_0x39750a(0x515)]:null;try{let _0x4c61e3=(await this['whatsappNumber']({'numbers':[_0x489f02]}))?.['shift'](),_0x23dcab=await this['profilePicture'](_0x4c61e3?.[_0x39750a(0x585)]),_0x3ba1e1=await this[_0x39750a(0x2cc)](_0x4c61e3?.[_0x39750a(0x585)]),_0x5c44e7=await this['fetchBusinessProfile'](_0x4c61e3?.[_0x39750a(0x585)]),_0x416027={'imagechat':_0x23dcab?.[_0x39750a(0x361)],'contactname':_0x19a6b4||null,'status':_0x3ba1e1?.['status'],'isBusiness':_0x5c44e7[_0x39750a(0x704)],'email':_0x5c44e7?.[_0x39750a(0x4ed)],'description':_0x5c44e7?.[_0x39750a(0x5c6)],'website':_0x5c44e7?.[_0x39750a(0x542)]?.[_0x39750a(0x6bc)](),'lastcache':Date[_0x39750a(0x33e)]()},_0x153dc5=await this[_0x39750a(0x217)][_0x39750a(0x497)][_0x39750a(0x235)]({'where':{'_id':_0x489f02,'owner':this['instance'][_0x39750a(0x660)]}},_0x416027),_0x158548={'owner':this['instance']['wuid'],'_id':_0x489f02,'profilePictureUrl':_0x23dcab?.['profilePictureUrl'],'status':_0x3ba1e1?.[_0x39750a(0x453)]};return this[_0x39750a(0x217)]['contact'][_0x39750a(0x1ef)]([_0x158548],this[_0x39750a(0x15d)][_0x39750a(0x660)]),_0x153dc5&&B(this[_0x39750a(0x2c4)],_0x39750a(0x21f),{'chat':_0x153dc5}),{'wuid':_0x4c61e3?.[_0x39750a(0x585)]||_0x489f02,'name':_0x4c61e3?.[_0x39750a(0x34d)],'numberExists':_0x4c61e3?.[_0x39750a(0x62f)],'picture':_0x23dcab?.['profilePictureUrl'],'status':_0x3ba1e1?.['status'],'isBusiness':_0x5c44e7['isBusiness'],'email':_0x5c44e7?.[_0x39750a(0x4ed)],'description':_0x5c44e7?.[_0x39750a(0x5c6)],'website':_0x5c44e7?.[_0x39750a(0x542)]?.[_0x39750a(0x6bc)]()};}catch(_0x30dd1b){return this[_0x39750a(0x40d)][_0x39750a(0x507)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+JSON[_0x39750a(0x533)](_0x30dd1b,null,0x2)),{};}}async[a0_0xe6bdb1(0x5b1)](_0x257239){const _0x153b43=a0_0xe6bdb1;this[_0x153b43(0x40d)]['verbose'](_0x153b43(0x1cb));try{let _0x2da76b=_0x257239?this[_0x153b43(0x512)](_0x257239):this[_0x153b43(0x15d)]['wuid'],_0xcbb08a=await this[_0x153b43(0x722)][_0x153b43(0x1a4)](_0x2da76b);return this[_0x153b43(0x40d)][_0x153b43(0x641)](_0x153b43(0x527)),_0xcbb08a?(this[_0x153b43(0x40d)][_0x153b43(0x641)](_0x153b43(0x6df)),{'isBusiness':!0x0,..._0xcbb08a}):{'isBusiness':!0x1,'message':_0x153b43(0x6fc),...(await this[_0x153b43(0x24b)]({'numbers':[_0x2da76b]}))?.[_0x153b43(0x6bc)]()};}catch(_0x1c132c){throw new A(_0x153b43(0x2df),_0x1c132c[_0x153b43(0x604)]());}}async[a0_0xe6bdb1(0x2cc)](_0x5a6061){const _0x9ccc60=a0_0xe6bdb1;let _0x3f8146=this[_0x9ccc60(0x512)](_0x5a6061);try{return{'wuid':_0x3f8146,'status':(await this[_0x9ccc60(0x722)]['fetchStatus'](_0x3f8146))?.['status']};}catch{return{'wuid':_0x3f8146,'status':null};}}async[a0_0xe6bdb1(0x570)](_0x7dcb66){const _0x5e5365=a0_0xe6bdb1;try{return await this[_0x5e5365(0x722)][_0x5e5365(0x570)](_0x7dcb66),{'update':_0x5e5365(0x650)};}catch(_0x55453b){throw new A(_0x5e5365(0x2df),_0x55453b[_0x5e5365(0x604)]());}}async[a0_0xe6bdb1(0x1d8)](_0x133ce9){const _0x5cc3a5=a0_0xe6bdb1;try{return await this[_0x5cc3a5(0x722)][_0x5cc3a5(0x1d8)](_0x133ce9),{'update':'success'};}catch(_0x310039){throw new A(_0x5cc3a5(0x5f2),_0x310039[_0x5cc3a5(0x604)]());}}async[a0_0xe6bdb1(0x642)](_0x36f3b7){const _0x54f964=a0_0xe6bdb1;try{let _0x7a0bf9;if((0x0,P[_0x54f964(0x3b1)])(_0x36f3b7)){let _0xd92962=new Date()['getTime'](),_0x2fb149=_0x36f3b7+_0x54f964(0x39f)+_0xd92962;_0x7a0bf9=(await ce[_0x54f964(0x6cd)][_0x54f964(0x47c)](_0x2fb149,{'responseType':_0x54f964(0x227)}))[_0x54f964(0x388)];}else{if((0x0,P['isBase64'])(_0x36f3b7))_0x7a0bf9=Buffer[_0x54f964(0x211)](_0x36f3b7,_0x54f964(0x202));else throw new g(_0x54f964(0x322));}return await this[_0x54f964(0x722)][_0x54f964(0x642)](this['instance'][_0x54f964(0x660)],_0x7a0bf9),{'update':_0x54f964(0x650)};}catch(_0x4e9239){throw new A(_0x54f964(0x5c7),_0x4e9239[_0x54f964(0x604)]());}}async[a0_0xe6bdb1(0x4e3)](){const _0x47f4c2=a0_0xe6bdb1;try{return await this[_0x47f4c2(0x722)][_0x47f4c2(0x4e3)](this[_0x47f4c2(0x15d)][_0x47f4c2(0x660)]),{'update':_0x47f4c2(0x650)};}catch(_0x2aefe4){throw new A(_0x47f4c2(0x1f8),_0x2aefe4[_0x47f4c2(0x604)]());}}async[a0_0xe6bdb1(0x4db)](_0x24b041){const _0x35d488=a0_0xe6bdb1;try{let _0x5a57f5=_0x24b041[_0x35d488(0x475)][_0x35d488(0x538)](_0x4dd326=>this[_0x35d488(0x512)](_0x4dd326)),{id:_0x5863cc}=await this['client'][_0x35d488(0x181)](_0x24b041[_0x35d488(0x14e)],_0x5a57f5);return _0x24b041?.['description']&&await this[_0x35d488(0x722)]['groupUpdateDescription'](_0x5863cc,_0x24b041[_0x35d488(0x5c6)]),{'metadata':await this[_0x35d488(0x722)][_0x35d488(0x54b)](_0x5863cc)};}catch(_0x377832){throw this[_0x35d488(0x40d)][_0x35d488(0x507)](this[_0x35d488(0x2c4)]+'\x20('+this[_0x35d488(0x15d)][_0x35d488(0x660)]+'):\x20'+JSON[_0x35d488(0x533)](_0x377832,null,0x2)),new A(_0x35d488(0x6f6),_0x377832['toString']());}}async[a0_0xe6bdb1(0x385)](_0x28820c){const _0x43f6a6=a0_0xe6bdb1;try{let _0x176fe2;if((0x0,P[_0x43f6a6(0x3b1)])(_0x28820c[_0x43f6a6(0x39d)])){let _0x3bb45c=new Date()[_0x43f6a6(0x62d)](),_0x3e559f=_0x28820c['image']+_0x43f6a6(0x39f)+_0x3bb45c;_0x176fe2=(await ce[_0x43f6a6(0x6cd)][_0x43f6a6(0x47c)](_0x3e559f,{'responseType':_0x43f6a6(0x227)}))[_0x43f6a6(0x388)];}else{if((0x0,P[_0x43f6a6(0x581)])(_0x28820c['image']))_0x176fe2=Buffer['from'](_0x28820c['image'],_0x43f6a6(0x202));else throw new g(_0x43f6a6(0x322));}return await this['client'][_0x43f6a6(0x642)](_0x28820c[_0x43f6a6(0x3ab)],_0x176fe2),{'update':_0x43f6a6(0x650)};}catch(_0x5cf0d6){throw new A(_0x43f6a6(0x553),_0x5cf0d6['toString']());}}async['findGroup'](_0x34406d,_0x10a3a5='out'){const _0x30c55f=a0_0xe6bdb1;try{let _0xafc943=await this[_0x30c55f(0x722)][_0x30c55f(0x54b)](_0x34406d['groupJid']),_0x1cec4d=null;try{_0x1cec4d=(await this['profilePicture'](_0x34406d['groupJid']))[_0x30c55f(0x361)];}catch(_0x49e8f8){this[_0x30c55f(0x40d)]['verbose'](this[_0x30c55f(0x2c4)]+'\x20('+this[_0x30c55f(0x15d)][_0x30c55f(0x660)]+_0x30c55f(0x3ba)+_0x34406d[_0x30c55f(0x3ab)]+':\x20'+JSON[_0x30c55f(0x533)](_0x49e8f8,null,0x2));}let _0x3caa49=await this[_0x30c55f(0x217)][_0x30c55f(0x497)][_0x30c55f(0x235)]({'where':{'_id':_0x34406d[_0x30c55f(0x3ab)],'owner':this[_0x30c55f(0x15d)]['wuid']}},{'imagechat':_0x1cec4d,'name':_0xafc943['subject'],'group_size':_0xafc943['size'],'group_announce':_0xafc943[_0x30c55f(0x3d3)],'lastcache':Date[_0x30c55f(0x33e)]()});return _0x3caa49&&B(this['instanceName'],_0x30c55f(0x21f),{'chat':_0x3caa49}),{'metadata':_0xafc943,'image':_0x1cec4d};}catch(_0x6dcb57){if(_0x10a3a5==='inner')return;throw new $(_0x30c55f(0x323),_0x6dcb57[_0x30c55f(0x604)]());}}async[a0_0xe6bdb1(0x5e3)](_0xf2e6ed){const _0x40f147=a0_0xe6bdb1;try{return await this['client']['groupUpdateDescription'](_0xf2e6ed['groupJid'],_0xf2e6ed[_0x40f147(0x5c6)]),{'update':_0x40f147(0x650)};}catch(_0x5366ac){throw new A(_0x40f147(0x6a1),_0x5366ac[_0x40f147(0x604)]());}}async[a0_0xe6bdb1(0x4f6)](_0x489bfe){const _0x577462=a0_0xe6bdb1;try{return await this[_0x577462(0x722)][_0x577462(0x172)](_0x489bfe[_0x577462(0x3ab)],_0x489bfe['name']),{'update':_0x577462(0x650)};}catch(_0x473a79){throw new A('Error\x20change\x20group\x20name',_0x473a79[_0x577462(0x604)]());}}async[a0_0xe6bdb1(0x424)](_0x30938a){const _0x397c7c=a0_0xe6bdb1;try{return await this['client'][_0x397c7c(0x4a0)](_0x30938a['groupJid'],_0x30938a[_0x397c7c(0x617)]),{'update':_0x397c7c(0x650)};}catch(_0x1e33c1){throw new A(_0x397c7c(0x1c2),_0x1e33c1[_0x397c7c(0x604)]());}}async[a0_0xe6bdb1(0x36b)](){const _0x2c304a=a0_0xe6bdb1;try{let _0x23320e=[],_0x109395=await this['client'][_0x2c304a(0x303)](),_0x2a43dc=Object[_0x2c304a(0x68d)](_0x109395),_0x2c3c30=_0x2a43dc[_0x2c304a(0x47d)](_0x5083fb=>(0x0,w[_0x2c304a(0x549)])(_0x5083fb?.['id']))[_0x2c304a(0x538)](async _0xd72d99=>{const _0x459da5=_0x2c304a;try{return await this['client'][_0x459da5(0x361)](_0xd72d99['id'],'preview');}catch(_0x1108f0){return this[_0x459da5(0x40d)][_0x459da5(0x641)](this[_0x459da5(0x2c4)]+'\x20('+this[_0x459da5(0x15d)][_0x459da5(0x660)]+_0x459da5(0x3ba)+_0xd72d99['id']+':\x20'+JSON['stringify'](_0x1108f0,null,0x2)),null;}}),_0x70289f=await Promise[_0x2c304a(0x5fe)](_0x2c3c30);for(let _0x584930=0x0;_0x584930<_0x2a43dc[_0x2c304a(0x5b9)];_0x584930++){let _0x2ef3ce=_0x2a43dc[_0x584930];(0x0,w[_0x2c304a(0x549)])(_0x2ef3ce?.['id'])&&_0x23320e[_0x2c304a(0x367)]({'groupJid':_0x2ef3ce?.['id'],'subject':_0x2ef3ce?.[_0x2c304a(0x14e)],'subjectOwner':_0x2ef3ce?.[_0x2c304a(0x458)]?.[_0x2c304a(0x204)]('@')[0x0],'subjectTime':_0x2ef3ce?.['subjectTime'],'size':_0x2ef3ce?.['participants']?.[_0x2c304a(0x5b9)],'owner':_0x2ef3ce?.['owner']?.[_0x2c304a(0x204)]('@')[0x0],'creation':_0x2ef3ce?.[_0x2c304a(0x5ee)],'desc':_0x2ef3ce?.[_0x2c304a(0x57d)],'restrict':_0x2ef3ce?.['restrict'],'announce':_0x2ef3ce?.[_0x2c304a(0x3d3)],'image':_0x70289f[_0x584930]});}return _0x23320e;}catch(_0x108aba){throw new $(_0x2c304a(0x323),_0x108aba[_0x2c304a(0x604)]());}}async['inviteCode'](_0x187d12){const _0x5e1bd2=a0_0xe6bdb1;try{let _0x470294=await this[_0x5e1bd2(0x722)]['groupInviteCode'](_0x187d12[_0x5e1bd2(0x3ab)]);return{'inviteUrl':_0x5e1bd2(0x403)+_0x470294,'inviteCode':_0x470294};}catch(_0x584580){throw new $(_0x5e1bd2(0x54a),_0x584580[_0x5e1bd2(0x604)]());}}async[a0_0xe6bdb1(0x449)](_0x32967b){const _0x55224b=a0_0xe6bdb1;try{let _0x2bf85f=await this['client']['groupRevokeInvite'](_0x32967b[_0x55224b(0x3ab)]);return{'revoked':!0x0,'inviteUrl':_0x55224b(0x403)+_0x2bf85f,'inviteCode':_0x2bf85f};}catch(_0x12ceef){throw new $(_0x55224b(0x392),_0x12ceef['toString']());}}async[a0_0xe6bdb1(0x45b)](_0x55c70d){const _0x3ceb98=a0_0xe6bdb1;try{if((0x0,P[_0x3ceb98(0x3b1)])(_0x55c70d['inviteCode']))var _0x4057ce=_0x55c70d['inviteCode'][_0x3ceb98(0x204)]('/')[0x3];else var _0x4057ce=_0x55c70d[_0x3ceb98(0x45c)];let _0x3bc237=await this[_0x3ceb98(0x722)]['groupAcceptInvite'](_0x4057ce);return this[_0x3ceb98(0x40d)][_0x3ceb98(0x641)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3ceb98(0x5f9)+_0x3bc237),{'join':!0x0,'inviteCode':_0x4057ce,'groupJid':_0x3bc237};}catch(_0x1c1100){throw new $(_0x3ceb98(0x700),_0x1c1100[_0x3ceb98(0x604)]());}}async['findParticipants'](_0x23e649){const _0x21920d=a0_0xe6bdb1;try{return{'participants':(await this[_0x21920d(0x722)]['groupMetadata'](_0x23e649[_0x21920d(0x3ab)]))['participants']};}catch(_0x1e6799){throw new $(_0x21920d(0x20f),_0x1e6799[_0x21920d(0x604)]());}}async[a0_0xe6bdb1(0x20b)](_0x215955){const _0x3c7b6e=a0_0xe6bdb1;try{let _0x31e52b=_0x215955['participants'][_0x3c7b6e(0x538)](_0x10f8fc=>this[_0x3c7b6e(0x512)](_0x10f8fc));return{'updateParticipants':await this[_0x3c7b6e(0x722)][_0x3c7b6e(0x318)](_0x215955[_0x3c7b6e(0x3ab)],_0x31e52b,_0x215955[_0x3c7b6e(0x17a)])};}catch(_0x18cfa3){throw new g(_0x3c7b6e(0x16b),_0x18cfa3['toString']());}}async[a0_0xe6bdb1(0x30e)](_0x4ab794){const _0x49fb81=a0_0xe6bdb1;try{let _0x1c4dd4=await this[_0x49fb81(0x722)]['groupToggleEphemeral'](_0x4ab794[_0x49fb81(0x3ab)],_0x4ab794[_0x49fb81(0x412)]);return{'success':!0x0};}catch(_0x28ed86){throw new g(_0x49fb81(0x319),_0x28ed86[_0x49fb81(0x604)]());}}async['leaveGroup'](_0x58b251){const _0x5e4f58=a0_0xe6bdb1;try{return await this[_0x5e4f58(0x722)]['groupLeave'](_0x58b251['groupJid']),{'groupJid':_0x58b251['groupJid'],'leave':!0x0};}catch(_0xc6015a){throw new g('Unable\x20to\x20leave\x20the\x20group',_0xc6015a[_0x5e4f58(0x604)]());}}async[a0_0xe6bdb1(0x443)](_0x3f29ba){const _0x45f40d=a0_0xe6bdb1;return await this[_0x45f40d(0x69e)](_0x3f29ba[_0x45f40d(0x3d1)],{'poll':{'name':_0x3f29ba[_0x45f40d(0x443)]?.[_0x45f40d(0x34d)],'selectableCount':_0x3f29ba[_0x45f40d(0x443)][_0x45f40d(0x36c)],'values':_0x3f29ba[_0x45f40d(0x443)][_0x45f40d(0x68d)]}},_0x3f29ba?.[_0x45f40d(0x4b2)]);}async[a0_0xe6bdb1(0x1da)](_0x46bb04,_0xc42d05,_0x39accc){const _0x20dc37=a0_0xe6bdb1;if(await this[_0x20dc37(0x684)](_0x46bb04,!0x0)){let _0x2730b5={'where':{'_id':_0x46bb04['id'],'owner':this['instance'][_0x20dc37(0x660)]}},_0x5a7bd1={'status':[_0x39accc[_0x20dc37(0x453)]][0x0]};try{let _0x4df348=await this[_0x20dc37(0x217)][_0x20dc37(0x600)]['update'](_0x2730b5,_0x5a7bd1);_0x4df348&&B(this[_0x20dc37(0x2c4)],_0x20dc37(0x430),{'message':_0x4df348});}catch{}}}[a0_0xe6bdb1(0x476)](_0x55a9d2){const _0x4ed311=a0_0xe6bdb1;let _0x4729f4=_0x55a9d2['replace'](/\\n/g,'\x0a')[_0x4ed311(0x204)]('\x0a')[_0x4ed311(0x47d)](_0x10091e=>_0x10091e[_0x4ed311(0x30a)](_0x4ed311(0x196))||_0x10091e[_0x4ed311(0x30a)](_0x4ed311(0x6f4))),_0x5adeed='';return _0x4729f4[_0x4ed311(0x19f)](_0x4fbbd9=>{const _0xe6edd0=_0x4ed311;let _0x55742e=/TEL(?:.*):(.+)/,_0x32e34a=/EMAIL(?:.*):(.+)/,_0x474dbc=_0x4fbbd9['match'](_0x55742e),_0x2523ef=_0x4fbbd9[_0xe6edd0(0x287)](_0x32e34a);if(_0x474dbc){let _0x11fd8b=_0x474dbc[0x1][_0xe6edd0(0x1e3)](/-| |\+|\(|\)/g,'')[_0xe6edd0(0x5a1)]();_0x5adeed+=_0xe6edd0(0x4d1)+_0x11fd8b+'\x0a';}else{if(_0x2523ef){let _0x1ed3cd=_0x2523ef[0x1][_0xe6edd0(0x5a1)]();_0x5adeed+='E-mail:\x20'+_0x1ed3cd+'\x0a';}}}),_0x5adeed[_0x4ed311(0x5a1)]();}async[a0_0xe6bdb1(0x6c4)](_0x272d14,_0x58fc11,_0x284bf8){const _0x3027d5=a0_0xe6bdb1;let _0xad339d=_0x58fc11[_0x3027d5(0x423)][_0x3027d5(0x267)]['replace'](/:\d{1,2}@/g,'@'),_0x209a5f=_0x58fc11[_0x3027d5(0x423)][_0x3027d5(0x4cf)],_0x460035=_0xad339d['endsWith'](_0x3027d5(0x6d1));if(!_0x272d14[_0x3027d5(0x33f)])return;let _0x1353bd={'lastmsg':_0x58fc11[_0x3027d5(0x1e2)]||Date[_0x3027d5(0x33e)](),'unreadcount':_0x209a5f?0x0:0x1,..._0x209a5f||_0x460035?{}:{'name':_0x58fc11[_0x3027d5(0x515)]},..._0x460035?{'group':_0x460035}:{}},_0x5b466c=await this[_0x3027d5(0x217)][_0x3027d5(0x497)][_0x3027d5(0x235)]({'where':{'_id':_0xad339d,'owner':this['instance']['wuid']}},_0x1353bd,{'new':!0x0,'upsert':!0x0});if(!_0x460035&&(!_0x5b466c?.['leadInfo']||!_0x5b466c['leadInfo'][_0x3027d5(0x662)])&&_0x58fc11[_0x3027d5(0x515)]&&!_0x209a5f&&await this[_0x3027d5(0x217)][_0x3027d5(0x497)][_0x3027d5(0x235)]({'where':{'_id':_0xad339d,'owner':this[_0x3027d5(0x15d)]['wuid']}},{'leadInfo.nome':_0x58fc11[_0x3027d5(0x515)]},{'new':!0x0,'upsert':!0x1}),_0x5b466c)B(this[_0x3027d5(0x2c4)],_0x3027d5(0x21f),{'chat':_0x5b466c});else{this[_0x3027d5(0x40d)][_0x3027d5(0x507)](this[_0x3027d5(0x2c4)]+'\x20('+this[_0x3027d5(0x15d)][_0x3027d5(0x660)]+_0x3027d5(0x6aa));return;}if(!this['AutomateSystem']?.[_0x3027d5(0x24f)][_0x3027d5(0x645)])return this[_0x3027d5(0x40d)]['verbose'](this[_0x3027d5(0x2c4)]+'\x20('+this['instance'][_0x3027d5(0x660)]+_0x3027d5(0x648)),null;if(_0x5b466c[_0x3027d5(0x1f9)][_0x3027d5(0x30a)]('@g.us')&&this[_0x3027d5(0x1c7)]?.[_0x3027d5(0x24f)][_0x3027d5(0x71a)]===!0x0)return this[_0x3027d5(0x40d)][_0x3027d5(0x641)](this['instanceName']+'\x20('+this[_0x3027d5(0x15d)][_0x3027d5(0x660)]+_0x3027d5(0x683)),null;if(_0x5b466c['leadInfo']){if(_0x5b466c['leadInfo'][_0x3027d5(0x64f)]===0x0||_0x5b466c[_0x3027d5(0x3bd)][_0x3027d5(0x330)])return this[_0x3027d5(0x40d)][_0x3027d5(0x641)](this[_0x3027d5(0x2c4)]+'\x20('+this[_0x3027d5(0x15d)][_0x3027d5(0x660)]+_0x3027d5(0x33b)+_0xad339d+',\x20saindo.'),null;if(_0x5b466c['leadInfo']['desativadoFluxoAte']>Date[_0x3027d5(0x33e)]())return this['logger'][_0x3027d5(0x641)](this[_0x3027d5(0x2c4)]+'\x20('+this[_0x3027d5(0x15d)][_0x3027d5(0x660)]+_0x3027d5(0x55f)+new Date(_0x5b466c[_0x3027d5(0x3bd)][_0x3027d5(0x64f)])[_0x3027d5(0x374)]()+_0x3027d5(0x329)),null;}this['logger'][_0x3027d5(0x641)](this[_0x3027d5(0x2c4)]+'\x20('+this[_0x3027d5(0x15d)]['wuid']+_0x3027d5(0x61f)),this[_0x3027d5(0x346)](_0x284bf8,_0x58fc11,this['instance'][_0x3027d5(0x660)]);}async[a0_0xe6bdb1(0x698)](_0x42985a,_0x6d24c5){const _0x29144d=a0_0xe6bdb1;if(_0x6d24c5['ENABLED']){let _0x16f992=_0x42985a[_0x29144d(0x538)](async _0x3d9c05=>{const _0x27aeaa=_0x29144d;try{let _0x947010={'_id':_0x3d9c05[_0x27aeaa(0x1f9)],'owner':_0x3d9c05[_0x27aeaa(0x2f7)],'lastcache':0x0};if(_0x3d9c05[_0x27aeaa(0x312)]!==null&&(_0x947010[_0x27aeaa(0x312)]=_0x3d9c05['group']),_0x3d9c05['name']!==null&&(_0x947010[_0x27aeaa(0x34d)]=_0x3d9c05[_0x27aeaa(0x34d)]),_0x3d9c05['contactname']!==null&&(_0x947010['contactname']=_0x3d9c05[_0x27aeaa(0x363)]),_0x3d9c05[_0x27aeaa(0x310)]!==null&&(_0x947010[_0x27aeaa(0x310)]=_0x3d9c05['imagechat']),_0x3d9c05[_0x27aeaa(0x310)]===null&&(_0x947010[_0x27aeaa(0x310)]=_0x27aeaa(0x2ae)),_0x3d9c05[_0x27aeaa(0x167)]!==null&&(_0x947010['lastmsg']=_0x3d9c05[_0x27aeaa(0x167)]),_0x3d9c05[_0x27aeaa(0x370)]!==null&&(_0x947010[_0x27aeaa(0x370)]=_0x3d9c05[_0x27aeaa(0x370)]),_0x3d9c05[_0x27aeaa(0x3d0)]!==null&&(_0x947010[_0x27aeaa(0x3d0)]=_0x3d9c05[_0x27aeaa(0x3d0)]),Object[_0x27aeaa(0x55c)](_0x947010)[_0x27aeaa(0x5b9)]>0x0)return await this[_0x27aeaa(0x217)]['chat']['updateOne']({'where':{'_id':_0x3d9c05[_0x27aeaa(0x1f9)],'owner':_0x3d9c05[_0x27aeaa(0x2f7)]}},_0x947010);}catch(_0xd65982){return console['error']('Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x3d9c05[_0x27aeaa(0x1f9)]+':',_0xd65982),null;}}),_0x4cba22=(await Promise['all'](_0x16f992))[_0x29144d(0x47d)](_0xe1710a=>_0xe1710a!==null)[_0x29144d(0x5b9)];this[_0x29144d(0x40d)][_0x29144d(0x641)](this[_0x29144d(0x2c4)]+'\x20('+this[_0x29144d(0x15d)][_0x29144d(0x660)]+_0x29144d(0x5f9)+_0x4cba22+_0x29144d(0x394)+this[_0x29144d(0x15d)]['wuid']+_0x29144d(0x65d));}}async[a0_0xe6bdb1(0x280)](_0x2e36f7){const _0x5bfb9d=a0_0xe6bdb1;this['logger'][_0x5bfb9d(0x641)](this[_0x5bfb9d(0x2c4)]+'\x20('+this[_0x5bfb9d(0x15d)][_0x5bfb9d(0x660)]+_0x5bfb9d(0x6a8));let _0x104772={'readMessages':[{'remoteJid':_0x2e36f7[_0x5bfb9d(0x514)]['lastReceivedMessage']['key'][_0x5bfb9d(0x267)],'fromMe':_0x2e36f7[_0x5bfb9d(0x514)]['lastReceivedMessage']['key'][_0x5bfb9d(0x4cf)],'id':_0x2e36f7['chatLog']['lastReceivedMessage'][_0x5bfb9d(0x423)]['id']}]};await this[_0x5bfb9d(0x399)](_0x104772);}async[a0_0xe6bdb1(0x346)](_0x12ef21,_0x49de3d,_0x33f7a2){const _0x1070b1=a0_0xe6bdb1;try{let {key:_0x26181,message_normalized:_0x18e6a1}=_0x49de3d,_0xac254d=_0x18e6a1,_0x3de51b=_0x18e6a1[_0x1070b1(0x151)]||_0x18e6a1[_0x1070b1(0x4be)]||_0x18e6a1[_0x1070b1(0x5dd)]||_0x18e6a1[_0x1070b1(0x34d)],_0x305b2b=_0x26181[_0x1070b1(0x267)],_0x5ad124;if(_0xac254d[_0x1070b1(0x423)]['fromMe']&&_0x3de51b['trim']()!==this['AutomateSystem']?.['flowConfig'][_0x1070b1(0x4c8)][_0x1070b1(0x5a1)]())return this[_0x1070b1(0x40d)][_0x1070b1(0x641)](this[_0x1070b1(0x2c4)]+'\x20('+this[_0x1070b1(0x15d)][_0x1070b1(0x660)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.'),null;if(_0xac254d[_0x1070b1(0x423)]['fromMe']&&_0x3de51b[_0x1070b1(0x5a1)]()===this['AutomateSystem']?.[_0x1070b1(0x24f)]['stopConversation'][_0x1070b1(0x5a1)]()){this[_0x1070b1(0x40d)][_0x1070b1(0x641)](this[_0x1070b1(0x2c4)]+'\x20('+this[_0x1070b1(0x15d)][_0x1070b1(0x660)]+_0x1070b1(0x4ef));let _0x26f448=await j[_0x1070b1(0x268)]({'owner':_0x33f7a2,'remoteJid':_0x305b2b,'status':_0x1070b1(0x42d)});this[_0x1070b1(0x40d)][_0x1070b1(0x641)](this[_0x1070b1(0x2c4)]+'\x20('+this[_0x1070b1(0x15d)]['wuid']+_0x1070b1(0x460)+_0x26f448);let _0x7b301=Date[_0x1070b1(0x33e)](),_0x4977b2;return this[_0x1070b1(0x1c7)]?.['flowConfig'][_0x1070b1(0x50d)]===0x0?_0x4977b2={'stoppedUntil':_0x7b301+0x7591f6200}:_0x4977b2={'stoppedUntil':_0x7b301+this[_0x1070b1(0x1c7)]?.['flowConfig'][_0x1070b1(0x50d)]*0x3c*0x3e8},this['logger'][_0x1070b1(0x641)](this[_0x1070b1(0x2c4)]+'\x20('+this['instance'][_0x1070b1(0x660)]+_0x1070b1(0x48f)+_0x4977b2),this[_0x1070b1(0x1c1)](_0x5ad124,_0x4977b2[_0x1070b1(0x4cb)]),null;}if(_0x3de51b&&_0x3de51b['startsWith'](this[_0x1070b1(0x1c7)]?.[_0x1070b1(0x24f)][_0x1070b1(0x4a4)])&&_0x3de51b['length']>0x4){let _0x34441f=await I['findOne']({'owner':_0x33f7a2,'startCommandWord':_0x3de51b});if(this[_0x1070b1(0x40d)][_0x1070b1(0x641)](this[_0x1070b1(0x2c4)]+'\x20('+this['instance']['wuid']+_0x1070b1(0x2d3)),_0x34441f)_0x5ad124=await this['createNewConversation'](_0x34441f,_0xac254d[_0x1070b1(0x423)],_0xac254d);else return this[_0x1070b1(0x40d)][_0x1070b1(0x641)](this[_0x1070b1(0x2c4)]+'\x20('+this[_0x1070b1(0x15d)][_0x1070b1(0x660)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand'),null;}else _0x5ad124=await this['findConversation'](_0x33f7a2,_0x305b2b,_0xac254d);if(_0x5ad124){this[_0x1070b1(0x40d)][_0x1070b1(0x641)](this[_0x1070b1(0x2c4)]+'\x20('+this[_0x1070b1(0x15d)][_0x1070b1(0x660)]+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x26181[_0x1070b1(0x4cf)]&&_0x5ad124[_0x1070b1(0x5be)]&&this[_0x1070b1(0x280)](_0x5ad124);let _0x48704b=await this[_0x1070b1(0x31d)](_0x5ad124);_0x48704b&&await this[_0x1070b1(0x1a8)](_0x5ad124,_0x48704b,_0x5ad124[_0x1070b1(0x267)]);}}catch(_0x3fee51){this[_0x1070b1(0x40d)][_0x1070b1(0x507)](this[_0x1070b1(0x2c4)]+'\x20('+this[_0x1070b1(0x15d)]['wuid']+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+JSON[_0x1070b1(0x533)](_0x3fee51,null,0x2));}}['flattenObject'](_0x5c01cc,_0x122c4c='',_0x1868cc={},_0x2e0a37=!0x0){const _0x476c0f=a0_0xe6bdb1;for(let _0x43892b in _0x5c01cc){let _0x34b05d=_0x2e0a37?'_'+_0x43892b:''+_0x122c4c+_0x43892b;typeof _0x5c01cc[_0x43892b]==_0x476c0f(0x35f)&&_0x5c01cc[_0x43892b]!==null?this[_0x476c0f(0x636)](_0x5c01cc[_0x43892b],_0x34b05d+'.',_0x1868cc,!0x1):_0x1868cc[_0x34b05d]=String(_0x5c01cc[_0x43892b]);}return _0x1868cc;}['variablesToObject'](_0x444ed9){const _0x387099=a0_0xe6bdb1;let _0xd3a1b6={};for(let _0x277514 of _0x444ed9)typeof _0x277514[_0x387099(0x34d)]==_0x387099(0x4e8)&&typeof _0x277514[_0x387099(0x344)]=='string'&&(_0xd3a1b6[_0x277514[_0x387099(0x34d)]]=_0x277514['value']);return _0xd3a1b6;}async['NextBlock'](_0x343e03){const _0x4aeecc=a0_0xe6bdb1;if(!this[_0x4aeecc(0x1c7)]?.[_0x4aeecc(0x24f)][_0x4aeecc(0x645)]||_0x343e03[_0x4aeecc(0x453)]!==_0x4aeecc(0x42d)&&_0x343e03[_0x4aeecc(0x50b)]==='')return null;let _0x3bd47c=_0x343e03[_0x4aeecc(0x514)][_0x4aeecc(0x36f)]||'start';typeof _0x343e03[_0x4aeecc(0x514)][_0x4aeecc(0x1e5)]>'u'&&(_0x343e03['chatLog'][_0x4aeecc(0x1e5)]=!0x0);let _0xdf1176=_0x343e03[_0x4aeecc(0x514)][_0x4aeecc(0x1e5)];this[_0x4aeecc(0x40d)][_0x4aeecc(0x641)](this[_0x4aeecc(0x2c4)]+'\x20('+this['instance'][_0x4aeecc(0x660)]+'):\x20lastBlockId:\x20'+_0x3bd47c+_0x4aeecc(0x457)+_0xdf1176);let _0x5cfb3b=_0x3bd47c===_0x4aeecc(0x231)?_0x343e03[_0x4aeecc(0x187)][_0x4aeecc(0x268)](_0x199940=>_0x199940[_0x4aeecc(0x2be)]===_0x4aeecc(0x231)):_0x343e03[_0x4aeecc(0x187)][_0x4aeecc(0x268)](_0xd97540=>_0xd97540[_0x4aeecc(0x1f9)][_0x4aeecc(0x604)]()===_0x3bd47c['toString']());if(!_0x5cfb3b)return this['logger'][_0x4aeecc(0x507)](this[_0x4aeecc(0x2c4)]+'\x20('+this[_0x4aeecc(0x15d)][_0x4aeecc(0x660)]+_0x4aeecc(0x164)+_0x3bd47c),null;let _0x12e244={'_pushName':_0x343e03[_0x4aeecc(0x514)][_0x4aeecc(0x47b)][_0x4aeecc(0x515)],..._0x343e03['chatLog'][_0x4aeecc(0x22b)]},_0x16a124=null;if(_0x343e03[_0x4aeecc(0x50b)]){let _0x50891e=_0x343e03[_0x4aeecc(0x514)][_0x4aeecc(0x47b)][_0x4aeecc(0x5dd)],_0x16ae15=_0x343e03[_0x4aeecc(0x583)]['find'](_0x50eaca=>_0x50eaca[_0x4aeecc(0x471)]===_0x50891e);if(_0x16ae15){let _0x36eec8=_0x16ae15[_0x4aeecc(0x694)];if(_0x16a124=_0x343e03[_0x4aeecc(0x187)]['find'](_0x534042=>_0x534042['groupId']===_0x36eec8&&_0x534042[_0x4aeecc(0x2aa)]===0x1),_0x5cfb3b['uazapi'][_0x4aeecc(0x351)]){let _0x40a12e={'id':_0x343e03['waitingPoll_id'],'remoteJid':_0x343e03[_0x4aeecc(0x267)],'fromMe':!0x0};await this[_0x4aeecc(0x659)](_0x40a12e);}if(_0x5cfb3b['uazapi'][_0x4aeecc(0x351)]&&_0x5cfb3b[_0x4aeecc(0x27e)][_0x4aeecc(0x306)]){let _0x4dc7ae={'number':_0x343e03['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x4aeecc(0x5ce)+_0x343e03[_0x4aeecc(0x50a)]+_0x4aeecc(0x65a)+_0x50891e}};await this[_0x4aeecc(0x61c)](_0x4dc7ae);}_0x343e03[_0x4aeecc(0x453)]=_0x4aeecc(0x42d),_0x343e03[_0x4aeecc(0x50b)]='',_0x343e03['waitingPoll_name']='',_0x343e03[_0x4aeecc(0x583)]=[];}else{this[_0x4aeecc(0x40d)][_0x4aeecc(0x641)](this[_0x4aeecc(0x2c4)]+'\x20('+this[_0x4aeecc(0x15d)]['wuid']+_0x4aeecc(0x266));let _0x2c8b1f={'activatedCount':_0x343e03[_0x4aeecc(0x514)][_0x4aeecc(0x595)][_0x4aeecc(0x47d)](_0x32cbad=>String(_0x32cbad['blockId'])===String(_0x3bd47c))[_0x4aeecc(0x5b9)],'moreLogs':[_0x4aeecc(0x372)]};if(_0x5cfb3b[_0x4aeecc(0x27e)][_0x4aeecc(0x47f)]){let _0x454c38={'number':_0x343e03[_0x4aeecc(0x267)],'options':{'delay':0x0},'textMessage':{'text':_0x5cfb3b[_0x4aeecc(0x27e)]['pollErrorMessage']}};await this[_0x4aeecc(0x61c)](_0x454c38);}if(_0x5cfb3b[_0x4aeecc(0x468)]!==void 0x0&&_0x2c8b1f['activatedCount']>=_0x5cfb3b[_0x4aeecc(0x468)]){let _0x34e957=Date['now'](),_0x58e8e6=_0x5cfb3b['stopMinutesMaxActives']??0xa;isNaN(_0x58e8e6)&&(_0x58e8e6=0xa);let _0x16ce99=_0x34e957+_0x58e8e6*0x3c*0x3e8;_0x2c8b1f[_0x4aeecc(0x4f7)]=_0x16ce99,_0x2c8b1f[_0x4aeecc(0x632)][_0x4aeecc(0x367)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x4aeecc(0x1c1)](_0x343e03,_0x16ce99),_0x343e03['waitingPoll_id']='',_0x343e03[_0x4aeecc(0x50a)]='',_0x343e03[_0x4aeecc(0x583)]=[];}return this[_0x4aeecc(0x563)](_0x343e03,_0x5cfb3b,_0x2c8b1f,!0x0),null;}}if(_0xdf1176&&_0x5cfb3b[_0x4aeecc(0x694)]&&!_0x343e03[_0x4aeecc(0x50b)]){let _0x5dbe5f=_0x343e03[_0x4aeecc(0x187)][_0x4aeecc(0x47d)](_0x2e1575=>_0x2e1575[_0x4aeecc(0x656)]['toString']()===_0x5cfb3b['next_groupId']['toString']())[_0x4aeecc(0x597)]((_0x57eae4,_0x38c1dd)=>_0x57eae4['order']-_0x38c1dd['order']);_0x5dbe5f[_0x4aeecc(0x5b9)]>0x0&&(_0x16a124=_0x5dbe5f[0x0]);}if(!_0x16a124){let _0x999d65=_0x5cfb3b[_0x4aeecc(0x656)],_0x3cee56=_0x343e03[_0x4aeecc(0x187)][_0x4aeecc(0x47d)](_0x1497e1=>_0x1497e1[_0x4aeecc(0x656)]===_0x999d65&&_0x1497e1[_0x4aeecc(0x2aa)]>_0x5cfb3b[_0x4aeecc(0x2aa)])[_0x4aeecc(0x597)]((_0x5c7cf2,_0x4b1b7b)=>_0x5c7cf2['order']-_0x4b1b7b['order']);_0x3cee56[_0x4aeecc(0x5b9)]>0x0&&(_0x16a124=_0x3cee56[0x0]);}if(!_0x16a124)return _0x343e03[_0x4aeecc(0x453)]=_0x4aeecc(0x413),null;_0x343e03[_0x4aeecc(0x514)][_0x4aeecc(0x22b)]=_0x12e244;let _0x29b4a2=JSON[_0x4aeecc(0x2c9)](JSON['stringify'](_0x16a124));return this['replaceVariablesInObject'](_0x29b4a2,_0x343e03[_0x4aeecc(0x514)][_0x4aeecc(0x22b)]),_0x343e03[_0x4aeecc(0x514)][_0x4aeecc(0x36f)]=_0x29b4a2[_0x4aeecc(0x1f9)],_0x343e03['chatLog'][_0x4aeecc(0x1e5)]=!0x0,_0x29b4a2;}[a0_0xe6bdb1(0x644)](_0x43bdb2,_0x38b926){const _0x11b9b3=a0_0xe6bdb1;return _0x43bdb2[_0x11b9b3(0x1e3)](/\{\{([^}]+)\}\}/g,(_0x575267,_0x10e072)=>_0x38b926[_0x10e072]||'');}[a0_0xe6bdb1(0x28c)](_0x43579c,_0x25dbfa){const _0x31b201=a0_0xe6bdb1;for(let _0xd022f5 in _0x43579c)typeof _0x43579c[_0xd022f5]==_0x31b201(0x4e8)?_0x43579c[_0xd022f5]=this[_0x31b201(0x644)](_0x43579c[_0xd022f5],_0x25dbfa):typeof _0x43579c[_0xd022f5]==_0x31b201(0x35f)&&this['replaceVariablesInObject'](_0x43579c[_0xd022f5],_0x25dbfa);}async[a0_0xe6bdb1(0x588)](_0x501d7d,_0x2848df){const _0xf1fa58=a0_0xe6bdb1;let _0x1f89eb=_0x2848df[_0xf1fa58(0x1f9)];if(_0x501d7d[_0xf1fa58(0x514)]&&_0x501d7d['chatLog']['blockLogs']){let _0x3d6d5a=_0x501d7d[_0xf1fa58(0x514)]['blockLogs'][_0xf1fa58(0x47d)](_0x58a115=>String(_0x58a115[_0xf1fa58(0x178)])===String(_0x1f89eb))['pop']();if(_0x3d6d5a&&_0x3d6d5a[_0xf1fa58(0x507)]&&_0x2848df[_0xf1fa58(0x550)])return _0x501d7d[_0xf1fa58(0x453)]='closed',await this[_0xf1fa58(0x33d)](_0x501d7d),null;}if(_0x2848df[_0xf1fa58(0x2be)]===_0xf1fa58(0x27e)&&_0x2848df[_0xf1fa58(0x27e)][_0xf1fa58(0x22f)]===_0xf1fa58(0x208)&&_0x501d7d[_0xf1fa58(0x50b)])return _0x501d7d[_0xf1fa58(0x514)][_0xf1fa58(0x36f)]=_0x1f89eb,await this[_0xf1fa58(0x33d)](_0x501d7d),null;let _0x216b86=await this[_0xf1fa58(0x31d)](_0x501d7d);if(_0x501d7d[_0xf1fa58(0x514)]&&_0x501d7d[_0xf1fa58(0x514)][_0xf1fa58(0x595)]){let _0x4b4e90=_0x501d7d[_0xf1fa58(0x514)][_0xf1fa58(0x595)][_0xf1fa58(0x47d)](_0x1a7cfb=>String(_0x1a7cfb['blockId'])===String(_0x1f89eb))[_0xf1fa58(0x5b9)];if(_0x2848df[_0xf1fa58(0x468)]!==void 0x0&&_0x4b4e90>=_0x2848df[_0xf1fa58(0x468)]){let _0x4c8238=Date[_0xf1fa58(0x33e)](),_0x1e1052=_0x2848df[_0xf1fa58(0x60b)]??0xa;isNaN(_0x1e1052)&&(_0x1e1052=0xa);let _0x44f53c=_0x4c8238+_0x1e1052*0x3c*0x3e8,_0x429ca2={'newStoppedUntil':_0x44f53c};return this[_0xf1fa58(0x1c1)](_0x501d7d,_0x44f53c),this[_0xf1fa58(0x563)](_0x501d7d,_0x2848df,_0x429ca2,!0x0),null;}}_0x216b86&&_0x216b86[_0xf1fa58(0x2be)]!=='save'&&await this[_0xf1fa58(0x1a8)](_0x501d7d,_0x216b86,_0x501d7d['remoteJid']),_0x216b86||await this[_0xf1fa58(0x33d)](_0x501d7d),_0x216b86&&_0x216b86[_0xf1fa58(0x2be)]===_0xf1fa58(0x4c5)&&(_0x501d7d[_0xf1fa58(0x514)][_0xf1fa58(0x36f)]=_0x1f89eb,await this['saveConversationToDatabase'](_0x501d7d));}async['processblock'](_0xb0a0dc,_0x595bb8,_0xb178d5){const _0x329878=a0_0xe6bdb1;try{let _0x21053a=_0x595bb8[_0x329878(0x2be)];this[_0x329878(0x40d)]['verbose'](this[_0x329878(0x2c4)]+'\x20('+this['instance'][_0x329878(0x660)]+'):\x20Going\x20to\x20'+_0x21053a);let _0x4556a6={'uazapi':()=>this['processUazapi'](_0xb0a0dc,_0x595bb8,_0xb178d5),'save':()=>this[_0x329878(0x663)](_0xb0a0dc,_0x595bb8),'stop':()=>this[_0x329878(0x4c8)](_0xb0a0dc,_0x595bb8),'condition':()=>this[_0x329878(0x4d6)](_0xb0a0dc,_0x595bb8),'varedit':()=>this['processvaredits'](_0xb0a0dc,_0x595bb8),'apirequest':()=>this[_0x329878(0x3c1)](_0xb0a0dc,_0x595bb8),'goToFlow':()=>this[_0x329878(0x4d7)](_0xb0a0dc,_0x595bb8)}[_0x21053a];_0x4556a6&&await _0x4556a6();}catch(_0x4b2a38){this[_0x329878(0x40d)]['error'](this[_0x329878(0x2c4)]+'\x20('+this[_0x329878(0x15d)][_0x329878(0x660)]+_0x329878(0x1b3)+JSON[_0x329878(0x533)](_0x4b2a38,null,0x2));}}async[a0_0xe6bdb1(0x4d7)](_0x499521,_0x4256b8){const _0x4cd59f=a0_0xe6bdb1;if(this['logger'][_0x4cd59f(0x641)](this[_0x4cd59f(0x2c4)]+'\x20('+this['instance'][_0x4cd59f(0x660)]+_0x4cd59f(0x397)),!_0x499521||!_0x4256b8)return this[_0x4cd59f(0x40d)]['error'](this['instanceName']+'\x20('+this[_0x4cd59f(0x15d)][_0x4cd59f(0x660)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this['updateConversation'](_0x499521,_0x4256b8,{},!0x0,!0x0),console[_0x4cd59f(0x6c7)](_0x4cd59f(0x325)),console['log'](_0x4256b8);let _0x34ef3e=_0x4256b8[_0x4cd59f(0x3cc)];console[_0x4cd59f(0x6c7)](_0x4cd59f(0x41c),_0x34ef3e),_0x499521=await this['createConversationforgoToFlow'](_0x34ef3e,_0x499521[_0x4cd59f(0x267)],_0x499521[_0x4cd59f(0x514)][_0x4cd59f(0x22b)]),this['logger'][_0x4cd59f(0x641)](this[_0x4cd59f(0x2c4)]+'\x20('+this[_0x4cd59f(0x15d)][_0x4cd59f(0x660)]+'):\x20Criada\x20conversa\x20nova\x20(gotoflow)');let _0x37f949=await this[_0x4cd59f(0x31d)](_0x499521);_0x37f949&&await this[_0x4cd59f(0x1a8)](_0x499521,_0x37f949,_0x499521['remoteJid']);}async[a0_0xe6bdb1(0x3a7)](_0x5164d5,_0x210f0a,_0x1e0db3){const _0xa3fbe5=a0_0xe6bdb1;this[_0xa3fbe5(0x40d)]['verbose'](this['instanceName']+'\x20('+this[_0xa3fbe5(0x15d)][_0xa3fbe5(0x660)]+_0xa3fbe5(0x49e));try{if(_0x5164d5=await I['findOne']({'owner':this[_0xa3fbe5(0x15d)][_0xa3fbe5(0x660)],'name':_0x5164d5}),!_0x5164d5)return this['logger'][_0xa3fbe5(0x507)](this['instanceName']+'\x20('+this[_0xa3fbe5(0x15d)][_0xa3fbe5(0x660)]+_0xa3fbe5(0x54e)),null;let _0x15ce92=require(_0xa3fbe5(0x592))['ObjectId'],_0xc53441=Date[_0xa3fbe5(0x33e)](),_0x5c9fa1=_0xa3fbe5(0x231),_0x13a1f4={},_0x49138a={},_0x5bf371={..._0x5164d5[_0xa3fbe5(0x342)],'chatLog':null},_0x869057={'lastReceivedMessage':_0x13a1f4,'lastSendMessage':_0x49138a,'lastBlockId':_0x5c9fa1,'lastCondition':!0x0,'realVariables':_0x1e0db3};_0x5bf371[_0xa3fbe5(0x514)]=_0x869057,_0x5bf371[_0xa3fbe5(0x514)]['realVariables']={..._0x1e0db3},delete _0x5bf371[_0xa3fbe5(0x1f9)],_0x5bf371[_0xa3fbe5(0x1f9)]=new _0x15ce92(),_0x5bf371[_0xa3fbe5(0x5a3)]=_0xc53441,_0x5bf371[_0xa3fbe5(0x453)]=_0xa3fbe5(0x42d),_0x5bf371[_0xa3fbe5(0x267)]=_0x210f0a;let _0x3c11ac=await j[_0xa3fbe5(0x2dd)](_0x5bf371);return this[_0xa3fbe5(0x40d)][_0xa3fbe5(0x641)](this['instanceName']+'\x20('+this[_0xa3fbe5(0x15d)]['wuid']+_0xa3fbe5(0x661)),_0x3c11ac?_0x5bf371:null;}catch(_0x2845c8){throw this['logger'][_0xa3fbe5(0x507)](this[_0xa3fbe5(0x2c4)]+'\x20('+this[_0xa3fbe5(0x15d)][_0xa3fbe5(0x660)]+_0xa3fbe5(0x26c)+JSON[_0xa3fbe5(0x533)](_0x2845c8,null,0x2)),new g(_0x2845c8[_0xa3fbe5(0x600)]);}}async[a0_0xe6bdb1(0x3c1)](_0x53dd14,_0x71ac5e){const _0x42f4d5=a0_0xe6bdb1;let _0x2bef91,_0x5e7d57;try{let _0x40b2b0=_0x71ac5e[_0x42f4d5(0x3e7)];if(!_0x40b2b0||!_0x40b2b0[_0x42f4d5(0x389)]||!_0x40b2b0[_0x42f4d5(0x1c5)])throw new Error(_0x42f4d5(0x327));let _0x9c22ec={'method':_0x40b2b0[_0x42f4d5(0x1c5)],'url':_0x40b2b0[_0x42f4d5(0x389)],'headers':_0x40b2b0[_0x42f4d5(0x5ae)]||{},'data':_0x40b2b0['body']||{}};_0x2bef91=(await(0x0,ce[_0x42f4d5(0x6cd)])(_0x9c22ec))['data'];let _0x477bbc=_0x53dd14[_0x42f4d5(0x514)]['realVariables'],_0x4a6bc2=this[_0x42f4d5(0x636)](_0x2bef91);return Object['assign'](_0x477bbc,_0x4a6bc2),_0x53dd14['chatLog'][_0x42f4d5(0x22b)]=_0x477bbc,_0x5e7d57={'error':!0x1,'apiResponse':_0x2bef91},this[_0x42f4d5(0x563)](_0x53dd14,_0x71ac5e,_0x5e7d57),_0x2bef91;}catch(_0x208dca){console[_0x42f4d5(0x507)]('Erro\x20ao\x20processar\x20a\x20chamada\x20API:',_0x208dca),_0x208dca['response']&&(_0x2bef91=_0x208dca['response'][_0x42f4d5(0x388)]);let _0x43a770=_0x53dd14[_0x42f4d5(0x514)][_0x42f4d5(0x22b)],_0x4cc8db=this[_0x42f4d5(0x636)](_0x2bef91);return Object[_0x42f4d5(0x15b)](_0x43a770,_0x4cc8db),_0x53dd14[_0x42f4d5(0x514)][_0x42f4d5(0x22b)]=_0x43a770,_0x5e7d57={'error':!0x0,'errorLog':_0x208dca[_0x42f4d5(0x604)](),'apiResponse':_0x2bef91},this[_0x42f4d5(0x563)](_0x53dd14,_0x71ac5e,_0x5e7d57),{'success':!0x1};}}['applyvaredit'](_0x459099,_0x3bbf35){const _0x4c270e=a0_0xe6bdb1;let _0x2ae370=_0x47b3e5=>{const _0x3912ed=a0_0x487d;let _0x7ba356=_0x47b3e5[_0x3912ed(0x1e3)](/[^0-9.,-]/g,'')[_0x3912ed(0x1e3)](',','.'),_0x2ae77a=parseFloat(_0x7ba356);return isNaN(_0x2ae77a)?null:_0x2ae77a;},_0x546803=_0x3bbf35['firstValue'],_0x411319=_0x3bbf35[_0x4c270e(0x261)];typeof _0x546803==_0x4c270e(0x4e8)&&(_0x546803=this['replaceVariables'](_0x546803,_0x459099[_0x4c270e(0x514)][_0x4c270e(0x22b)])??''),typeof _0x411319==_0x4c270e(0x4e8)&&(_0x411319=this[_0x4c270e(0x644)](_0x411319,_0x459099[_0x4c270e(0x514)][_0x4c270e(0x22b)])??'');let _0x3de2ad=null;if(!_0x3bbf35[_0x4c270e(0x1f7)])return null;switch(this[_0x4c270e(0x40d)][_0x4c270e(0x641)](this[_0x4c270e(0x2c4)]+'\x20('+this[_0x4c270e(0x15d)][_0x4c270e(0x660)]+_0x4c270e(0x3d4)+_0x546803),this[_0x4c270e(0x40d)][_0x4c270e(0x641)](this[_0x4c270e(0x2c4)]+'\x20('+this[_0x4c270e(0x15d)]['wuid']+_0x4c270e(0x518)+_0x411319),_0x3bbf35['editOperator']){case'+':case'-':case'*':case'/':let _0x5c2b75=_0x2ae370(_0x546803),_0x9291c3=_0x2ae370(_0x411319||'0');if(_0x5c2b75===null)return null;switch(_0x3bbf35['editOperator']){case'+':_0x3de2ad=_0x5c2b75+(_0x9291c3??0x0);break;case'-':_0x3de2ad=_0x5c2b75-(_0x9291c3??0x0);break;case'*':_0x3de2ad=_0x5c2b75*(_0x9291c3??0x1);break;case'/':_0x9291c3!==0x0&&(_0x3de2ad=_0x5c2b75/(_0x9291c3??0x1));break;}break;case'findAndReplace':case _0x4c270e(0x30d):let _0x5cdad3=_0x411319,_0xa15a0a=_0x3bbf35[_0x4c270e(0x5d4)];if(typeof _0xa15a0a==_0x4c270e(0x4e8)&&(_0xa15a0a=this[_0x4c270e(0x644)](_0xa15a0a,_0x459099[_0x4c270e(0x514)][_0x4c270e(0x22b)])??''),_0x5cdad3&&_0xa15a0a!==void 0x0){let _0x114608=_0x3bbf35['editOperator']===_0x4c270e(0x379)?new RegExp(_0x5cdad3[_0x4c270e(0x1e3)](/[-\/\\^$*+?.()|[\]{}]/g,_0x4c270e(0x260)),'g'):new RegExp(_0x5cdad3,'g');_0x3de2ad=_0x546803[_0x4c270e(0x1e3)](_0x114608,_0xa15a0a);}else console[_0x4c270e(0x682)](_0x4c270e(0x486));break;case _0x4c270e(0x35c):_0x3de2ad=_0x411319;break;case _0x4c270e(0x22e):let _0x67e35a=_0x546803['match'](new RegExp(_0x411319||''));_0x3de2ad=_0x67e35a?_0x67e35a[0x0]:'';break;case _0x4c270e(0x728):_0x3de2ad=_0x546803['slice'](0x0,parseInt(_0x411319||'0'));break;case'truncatedtoEnd':let _0x1b5592=parseInt(_0x411319||'0');_0x3de2ad=_0x546803[_0x4c270e(0x593)](_0x546803[_0x4c270e(0x5b9)]-_0x1b5592);break;case _0x4c270e(0x4c0):let _0x4a971e=_0x2ae370(_0x546803),_0x1c89f2=parseInt(_0x411319||'0');_0x1c89f2=Math['abs'](_0x1c89f2),_0x4a971e!==null?_0x3de2ad=_0x4a971e['toLocaleString'](_0x4c270e(0x4f3),{'minimumFractionDigits':_0x1c89f2,'maximumFractionDigits':_0x1c89f2}):(console[_0x4c270e(0x682)](_0x4c270e(0x6de)+_0x546803),_0x3de2ad=null);break;case'toBRL':let _0x48cd26=_0x2ae370(_0x546803);_0x48cd26!==null?_0x3de2ad=_0x48cd26[_0x4c270e(0x374)](_0x4c270e(0x4f3),{'style':_0x4c270e(0x184),'currency':'BRL'}):(console[_0x4c270e(0x682)](_0x4c270e(0x451)+_0x546803),_0x3de2ad=null);break;case _0x4c270e(0x450):_0x3de2ad=_0x546803[_0x4c270e(0x214)]();break;case _0x4c270e(0x175):_0x3de2ad=_0x546803['toLowerCase']();break;case _0x4c270e(0x49a):_0x3de2ad=_0x546803['split']('\x20')[_0x4c270e(0x538)](_0x55d31a=>_0x55d31a['charAt'](0x0)[_0x4c270e(0x214)]()+_0x55d31a['slice'](0x1)[_0x4c270e(0x3a1)]())[_0x4c270e(0x56c)]('\x20');break;case _0x4c270e(0x5ca):_0x3de2ad=_0x546803[_0x4c270e(0x5a1)]();break;default:_0x3de2ad=_0x546803;}return _0x3de2ad!==null?_0x3de2ad['toString']():null;}async[a0_0xe6bdb1(0x577)](_0x409be7,_0x3f1439){const _0xfaf9d1=a0_0xe6bdb1;try{let _0x5923e1=_0x409be7[_0xfaf9d1(0x269)]?.['filter'](_0x1898e9=>_0x1898e9[_0xfaf9d1(0x178)]===_0x3f1439[_0xfaf9d1(0x1f9)]?.[_0xfaf9d1(0x604)]())||[],_0x2ddbb2=_0x3f1439[_0xfaf9d1(0x4a5)],_0x4287e6=null,_0x1bc509=[],_0x3b396d=_0x409be7['chatLog'][_0xfaf9d1(0x22b)][_0x2ddbb2];_0x1bc509['push'](_0xfaf9d1(0x43b)+_0x3b396d+'\x22');for(let _0x1c99ab of _0x5923e1){_0x1c99ab[_0xfaf9d1(0x462)]=_0x3b396d,_0x4287e6=_0x1c99ab['firstValue'];let _0x4c92f8;try{_0x4c92f8=this[_0xfaf9d1(0x340)](_0x409be7,_0x1c99ab);}catch(_0x27a5bd){console[_0xfaf9d1(0x507)](_0xfaf9d1(0x685)+_0x27a5bd[_0xfaf9d1(0x600)]);continue;}if(_0x4c92f8!==null){let _0x1fc230=_0xfaf9d1(0x5de)+_0x1c99ab[_0xfaf9d1(0x1f7)]+'\x22',_0x48e868=['toBRL','upperCase',_0xfaf9d1(0x175),_0xfaf9d1(0x49a),'trimmed'];_0x1c99ab['editOperator']===_0xfaf9d1(0x379)||_0x1c99ab[_0xfaf9d1(0x1f7)]===_0xfaf9d1(0x30d)?_0x1fc230+=_0xfaf9d1(0x68b)+_0x1c99ab[_0xfaf9d1(0x261)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x1c99ab['replaceValue']+'\x22':!_0x48e868[_0xfaf9d1(0x30a)](_0x1c99ab[_0xfaf9d1(0x1f7)])&&_0x1c99ab[_0xfaf9d1(0x261)]!==null&&_0x1c99ab[_0xfaf9d1(0x261)]!==void 0x0&&(_0x1fc230+=',\x20valor\x20passado:\x20\x22'+_0x1c99ab[_0xfaf9d1(0x261)]+'\x22'),_0x1fc230+=',\x20resultado:\x20'+_0x4c92f8+'.',_0x1bc509[_0xfaf9d1(0x367)](_0x1fc230);}_0x4c92f8!==null&&(_0x3b396d=_0x4c92f8);}if(_0x409be7[_0xfaf9d1(0x514)][_0xfaf9d1(0x22b)]&&_0x3f1439[_0xfaf9d1(0x4a5)]){_0x409be7[_0xfaf9d1(0x514)]['realVariables'][_0x3f1439[_0xfaf9d1(0x4a5)]]=_0x3b396d;let _0x5ed4f8={'variable':_0x3f1439[_0xfaf9d1(0x4a5)],'oldValue':_0x4287e6,'newValue':_0x3b396d,'moreLogs':_0x1bc509};try{this[_0xfaf9d1(0x563)](_0x409be7,_0x3f1439,_0x5ed4f8);}catch(_0x55fdb4){console[_0xfaf9d1(0x507)](_0xfaf9d1(0x5e7)+_0x55fdb4['message']);}}return _0x2ddbb2;}catch(_0x12d1b4){return console[_0xfaf9d1(0x507)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x12d1b4['message']),null;}}async[a0_0xe6bdb1(0x4d6)](_0x14ec68,_0x112a26){const _0x2d57fd=a0_0xe6bdb1;try{let _0x198672=[],_0x1a79d6=_0x14ec68[_0x2d57fd(0x300)]['filter'](_0x335270=>_0x335270[_0x2d57fd(0x178)]===_0x112a26[_0x2d57fd(0x1f9)][_0x2d57fd(0x604)]()),_0x2d7e09=null,_0x53db54=!0x1;for(let _0xde8cce of _0x1a79d6){let _0x15e758=this['evaluateCondition'](_0x14ec68,_0xde8cce);_0x198672[_0x2d57fd(0x367)]('Primeiro\x20Valor:\x20'+_0xde8cce[_0x2d57fd(0x462)]+_0x2d57fd(0x6cc)+_0xde8cce['expression']+_0x2d57fd(0x629)+_0xde8cce[_0x2d57fd(0x261)]+_0x2d57fd(0x513)+_0x15e758),_0x2d7e09===null?_0x2d7e09=_0x15e758:_0xde8cce[_0x2d57fd(0x5a2)]==='and'?(_0x2d7e09=_0x2d7e09&&_0x15e758,_0x15e758||(_0x53db54=!0x0)):_0xde8cce[_0x2d57fd(0x5a2)]==='or'&&(_0x53db54||(_0x2d7e09=_0x2d7e09||_0x15e758));}_0x2d7e09===null&&(_0x2d7e09=!0x0);let _0x3fcb3a={'moreLogs':_0x198672};_0x14ec68[_0x2d57fd(0x514)][_0x2d57fd(0x1e5)]=_0x2d7e09,await this['updateConversation'](_0x14ec68,_0x112a26,_0x3fcb3a);}catch(_0xf637e3){this[_0x2d57fd(0x40d)][_0x2d57fd(0x507)](this[_0x2d57fd(0x2c4)]+'\x20('+this[_0x2d57fd(0x15d)][_0x2d57fd(0x660)]+_0x2d57fd(0x6c0)+JSON[_0x2d57fd(0x533)](_0xf637e3,null,0x2));}}['evaluateCondition'](_0x1ce5f9,_0x409a84){const _0x293a47=a0_0xe6bdb1;let _0x20e130=_0x409a84['firstValue'],_0x50bf0b=_0x409a84['secondValue'];typeof _0x20e130==_0x293a47(0x4e8)&&(_0x20e130=this['replaceVariables'](_0x20e130,_0x1ce5f9[_0x293a47(0x514)][_0x293a47(0x22b)])??''),typeof _0x50bf0b=='string'&&(_0x50bf0b=this[_0x293a47(0x644)](_0x50bf0b,_0x1ce5f9[_0x293a47(0x514)][_0x293a47(0x22b)])??'');try{switch(_0x409a84['expression']){case _0x293a47(0x313):return _0x20e130===_0x50bf0b;case _0x293a47(0x6f9):return _0x20e130!==_0x50bf0b;case _0x293a47(0x1c8):return _0x20e130[_0x293a47(0x30a)](_0x50bf0b);case'notContains':return!_0x20e130['includes'](_0x50bf0b);case _0x293a47(0x357):return parseFloat(_0x20e130)>parseFloat(_0x50bf0b);case _0x293a47(0x42c):return parseFloat(_0x20e130)<parseFloat(_0x50bf0b);case _0x293a47(0x19a):return _0x20e130!=='';case _0x293a47(0x359):return _0x20e130==='';case _0x293a47(0x45e):return new RegExp(_0x50bf0b)[_0x293a47(0x23b)](_0x20e130);case _0x293a47(0x432):return!new RegExp(_0x50bf0b)[_0x293a47(0x23b)](_0x20e130);default:return!0x1;}}catch(_0xf00563){return console[_0x293a47(0x507)](_0x293a47(0x52f)+_0xf00563),!0x1;}}[a0_0xe6bdb1(0x161)](_0x144850){const _0x33798f=a0_0xe6bdb1;let _0x4a285a=!0x0,_0x2ff05b=null;for(let _0x1fabd3 of _0x144850){let _0x4775cd=this[_0x33798f(0x34c)](_0x1fabd3);if(_0x2ff05b==='or'&&_0x4775cd){_0x4a285a=!0x0;break;}if(_0x2ff05b===_0x33798f(0x489)&&!_0x4775cd){_0x4a285a=!0x1;break;}_0x2ff05b=_0x1fabd3['OrAnd'];}return _0x4a285a;}[a0_0xe6bdb1(0x34c)](_0x487549){const _0x5e0bf4=a0_0xe6bdb1;let _0xe36a98=_0x487549[_0x5e0bf4(0x462)],_0x20612c=_0x487549[_0x5e0bf4(0x261)];try{switch(_0x487549['expression']){case _0x5e0bf4(0x313):return String(_0xe36a98)===String(_0x20612c);case'notEqual':return String(_0xe36a98)!==String(_0x20612c);case _0x5e0bf4(0x1c8):return String(_0xe36a98)[_0x5e0bf4(0x30a)](String(_0x20612c));case _0x5e0bf4(0x3c5):return!String(_0xe36a98)['includes'](String(_0x20612c));case _0x5e0bf4(0x357):return parseFloat(String(_0xe36a98))>parseFloat(String(_0x20612c));case _0x5e0bf4(0x42c):return parseFloat(String(_0xe36a98))<parseFloat(String(_0x20612c));case _0x5e0bf4(0x19a):return String(_0xe36a98)!=='';case'empty':return String(_0xe36a98)==='';case _0x5e0bf4(0x45e):return new RegExp(String(_0x20612c))[_0x5e0bf4(0x23b)](String(_0xe36a98));case _0x5e0bf4(0x432):return!new RegExp(String(_0x20612c))['test'](String(_0xe36a98));default:return!0x1;}}catch(_0x32982d){return console[_0x5e0bf4(0x507)](_0x5e0bf4(0x52f)+_0x32982d),!0x1;}}async[a0_0xe6bdb1(0x663)](_0x238ca9,_0x5c8b5d){const _0x1d1399=a0_0xe6bdb1;if(this[_0x1d1399(0x40d)][_0x1d1399(0x641)](this['instanceName']+'\x20('+this[_0x1d1399(0x15d)][_0x1d1399(0x660)]+_0x1d1399(0x66d)),!_0x238ca9||!_0x5c8b5d)return this[_0x1d1399(0x40d)][_0x1d1399(0x507)](this[_0x1d1399(0x2c4)]+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x1b1af3=_0x5c8b5d['saveVariable'],_0x413862=_0x238ca9[_0x1d1399(0x514)][_0x1d1399(0x47b)][_0x1d1399(0x151)]||_0x238ca9[_0x1d1399(0x514)][_0x1d1399(0x47b)][_0x1d1399(0x4be)]||_0x238ca9['chatLog'][_0x1d1399(0x47b)][_0x1d1399(0x5dd)];try{_0x238ca9[_0x1d1399(0x514)]['realVariables']||(_0x238ca9[_0x1d1399(0x514)]['realVariables']={});let _0x1eb5b6=_0x238ca9['chatLog'][_0x1d1399(0x22b)][_0x1b1af3];_0x238ca9['chatLog'][_0x1d1399(0x22b)][_0x1b1af3]=_0x413862;let _0x19dbdb={'variable':_0x1b1af3,'oldValue':_0x1eb5b6,'newValue':_0x413862};this[_0x1d1399(0x563)](_0x238ca9,_0x5c8b5d,_0x19dbdb),this['logger'][_0x1d1399(0x641)](this[_0x1d1399(0x2c4)]+'\x20('+this[_0x1d1399(0x15d)][_0x1d1399(0x660)]+_0x1d1399(0x6be));}catch(_0x1e8643){let _0x3764ab={'error':!0x0,'errorLog':_0x1e8643[_0x1d1399(0x604)]()};return this['updateConversation'](_0x238ca9,_0x5c8b5d,_0x3764ab),this[_0x1d1399(0x40d)]['error'](this['instanceName']+'\x20('+this['instance'][_0x1d1399(0x660)]+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+JSON[_0x1d1399(0x533)](_0x1e8643,null,0x2)),null;}}async['stopConversation'](_0xfa62e1,_0x4d39a0){const _0x5f019=a0_0xe6bdb1;if(this[_0x5f019(0x40d)][_0x5f019(0x641)](this[_0x5f019(0x2c4)]+'\x20('+this[_0x5f019(0x15d)][_0x5f019(0x660)]+_0x5f019(0x5b8)),!_0xfa62e1||!_0x4d39a0)return this['logger'][_0x5f019(0x507)](this[_0x5f019(0x2c4)]+'\x20('+this[_0x5f019(0x15d)][_0x5f019(0x660)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x397831=Date[_0x5f019(0x33e)](),_0x19893f=parseInt(_0x4d39a0[_0x5f019(0x50d)],0xa);if(isNaN(_0x19893f))return this[_0x5f019(0x40d)][_0x5f019(0x507)](this[_0x5f019(0x2c4)]+'\x20('+this[_0x5f019(0x15d)][_0x5f019(0x660)]+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x4eded3={'newStoppedUntil':_0x397831+_0x19893f*0x3c*0x3e8};return await this[_0x5f019(0x563)](_0xfa62e1,_0x4d39a0,_0x4eded3,!0x0),null;}async[a0_0xe6bdb1(0x408)](_0x50e943,_0x4d77d4,_0x49e983){const _0x4a6851=a0_0xe6bdb1;try{switch(_0x4d77d4[_0x4a6851(0x27e)][_0x4a6851(0x22f)]){case _0x4a6851(0x25e):await this['uazapiSendText'](_0x50e943,_0x4d77d4,_0x49e983);break;case'sendMedia':await this['uazapiSendMedia'](_0x50e943,_0x4d77d4,_0x49e983);break;case _0x4a6851(0x59b):await this[_0x4a6851(0x27b)](_0x50e943,_0x4d77d4,_0x49e983);break;case _0x4a6851(0x406):await this[_0x4a6851(0x61d)](_0x50e943,_0x4d77d4,_0x49e983);break;case _0x4a6851(0x64d):await this[_0x4a6851(0x381)](_0x50e943,_0x4d77d4,_0x49e983);break;case _0x4a6851(0x208):await this[_0x4a6851(0x5f3)](_0x50e943,_0x4d77d4,_0x49e983);break;case'deleteMessage':await this[_0x4a6851(0x16d)](_0x50e943,_0x4d77d4,_0x49e983);break;default:this[_0x4a6851(0x40d)][_0x4a6851(0x507)](this[_0x4a6851(0x2c4)]+'\x20('+this[_0x4a6851(0x15d)]['wuid']+_0x4a6851(0x469)+_0x4d77d4[_0x4a6851(0x27e)][_0x4a6851(0x22f)]);}}catch(_0x1b2eb2){this[_0x4a6851(0x40d)][_0x4a6851(0x507)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4a6851(0x1d9)+JSON[_0x4a6851(0x533)](_0x1b2eb2,null,0x2));}}async[a0_0xe6bdb1(0x563)](_0x494525,_0x586522,_0x13a29e,_0x4094bb=!0x1,_0x295980=!0x1){const _0x8b5f36=a0_0xe6bdb1;_0x494525[_0x8b5f36(0x514)]['blockLogs']||(_0x494525[_0x8b5f36(0x514)][_0x8b5f36(0x595)]=[]);let _0x8e0b49=(_0x494525[_0x8b5f36(0x514)][_0x8b5f36(0x595)]?.[_0x8b5f36(0x5b9)]??0x0)+0x1,_0x237a80=_0x494525[_0x8b5f36(0x514)][_0x8b5f36(0x595)][_0x8b5f36(0x47d)](_0x3d6e50=>String(_0x3d6e50[_0x8b5f36(0x178)])===String(_0x586522[_0x8b5f36(0x1f9)]))[_0x8b5f36(0x5b9)]+0x1,_0x403544=_0x13a29e?.[_0x8b5f36(0x5c8)]??Date['now'](),_0x312ecb=_0x13a29e?.['error']?_0x13a29e[_0x8b5f36(0x255)]??_0x13a29e['error'][_0x8b5f36(0x604)]():void 0x0,_0x336955={'onTime':_0x403544,'blockId':_0x586522['_id'],'order':_0x8e0b49,'activatedCount':_0x237a80,'error':_0x13a29e?.[_0x8b5f36(0x507)]??!0x1,'messageId':_0x13a29e?.['messageId'],'apiResponse':_0x13a29e?.['apiResponse'],'apiResponseString':_0x13a29e?.[_0x8b5f36(0x6ac)]?JSON['stringify'](_0x13a29e?.[_0x8b5f36(0x6ac)]):void 0x0,'variable':_0x13a29e?.[_0x8b5f36(0x1bc)],'oldValue':_0x13a29e?.[_0x8b5f36(0x15c)],'newValue':_0x13a29e?.[_0x8b5f36(0x5c3)],'newStoppedUntil':_0x13a29e?.[_0x8b5f36(0x4f7)],'moreLogs':_0x13a29e?.[_0x8b5f36(0x632)],'errorLog':_0x312ecb};if(_0x13a29e[_0x8b5f36(0x632)]&&_0x13a29e[_0x8b5f36(0x632)]['length']>0x0){let _0x3c40d6=_0x13a29e['moreLogs'][_0x8b5f36(0x538)](_0x3e5bd4=>this[_0x8b5f36(0x5ed)](_0x3e5bd4,_0x494525['chatLog'][_0x8b5f36(0x22b)]));_0x336955[_0x8b5f36(0x632)]=_0x3c40d6;}_0x494525[_0x8b5f36(0x514)][_0x8b5f36(0x22b)]||(_0x494525[_0x8b5f36(0x514)][_0x8b5f36(0x22b)]={}),_0x494525[_0x8b5f36(0x514)]['realVariables'][_0x8b5f36(0x725)]=String(_0x237a80),_0x494525[_0x8b5f36(0x514)][_0x8b5f36(0x22b)][_0x8b5f36(0x2c0)]=String(_0x13a29e[_0x8b5f36(0x507)]??!0x1),_0x494525[_0x8b5f36(0x514)][_0x8b5f36(0x595)][_0x8b5f36(0x367)](_0x336955),_0x494525[_0x8b5f36(0x514)][_0x8b5f36(0x36f)]=_0x586522['_id'][_0x8b5f36(0x604)](),_0x494525[_0x8b5f36(0x514)][_0x8b5f36(0x1b5)]&&(_0x494525[_0x8b5f36(0x514)]['lastSendMessage']=_0x494525[_0x8b5f36(0x514)][_0x8b5f36(0x1b5)]),_0x494525['chatLog'][_0x8b5f36(0x47b)]&&(_0x494525[_0x8b5f36(0x514)][_0x8b5f36(0x47b)]=_0x494525[_0x8b5f36(0x514)]['lastReceivedMessage']),_0x494525[_0x8b5f36(0x514)][_0x8b5f36(0x1e5)]&&(_0x494525['chatLog'][_0x8b5f36(0x1e5)]=_0x494525[_0x8b5f36(0x514)]['lastCondition']),_0x295980&&(_0x494525[_0x8b5f36(0x453)]=_0x8b5f36(0x413)),_0x4094bb?this[_0x8b5f36(0x33d)](_0x494525):this[_0x8b5f36(0x588)](_0x494525,_0x586522);}['replaceVariablesLogs'](_0x150a8e,_0x22088a){const _0x38bdcd=a0_0xe6bdb1;return _0x150a8e[_0x38bdcd(0x1e3)](/\{\{([^}]+)\}\}/g,(_0x3def29,_0x105da6)=>_0x22088a[_0x105da6]?'{{'+_0x105da6+'}}\x20->\x20\x22'+_0x22088a[_0x105da6]+'\x22':'{{'+_0x105da6+_0x38bdcd(0x3d9));}async[a0_0xe6bdb1(0x33d)](_0x2abbea){const _0x3e0f99=a0_0xe6bdb1;try{let _0x554aa7=Object[_0x3e0f99(0x1ba)](_0x2abbea[_0x3e0f99(0x514)][_0x3e0f99(0x22b)])[_0x3e0f99(0x538)](([_0x349018,_0x3316b4])=>({'name':_0x349018,'value':_0x3316b4})),_0x5907a2=await j[_0x3e0f99(0x67b)]({'_id':_0x2abbea[_0x3e0f99(0x1f9)]},{'$set':{'chatLog.lastBlockId':_0x2abbea[_0x3e0f99(0x514)][_0x3e0f99(0x36f)],'blocks':_0x2abbea['blocks'],'chatLog.lastSendMessage':_0x2abbea[_0x3e0f99(0x514)][_0x3e0f99(0x1b5)],'chatLog.lastReceivedMessage':_0x2abbea[_0x3e0f99(0x514)][_0x3e0f99(0x47b)],'chatLog.lastCondition':_0x2abbea['chatLog']['lastCondition'],'chatLog.chatVariables':_0x554aa7,'chatLog.realVariables':_0x2abbea[_0x3e0f99(0x514)]['realVariables'],'status':_0x2abbea[_0x3e0f99(0x453)],'chatLog.blockLogs':_0x2abbea[_0x3e0f99(0x514)]['blockLogs'],'waitingPoll_id':_0x2abbea['waitingPoll_id'],'waitingPoll_name':_0x2abbea[_0x3e0f99(0x50a)],'waitingPoll_replyOptions':_0x2abbea[_0x3e0f99(0x583)]}},{'new':!0x0});if(_0x5907a2){this['logger'][_0x3e0f99(0x641)](this[_0x3e0f99(0x2c4)]+'\x20('+this[_0x3e0f99(0x15d)][_0x3e0f99(0x660)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x5907a2['_id']);try{let _0x3a2cfe=[_0x3e0f99(0x662),_0x3e0f99(0x4fd),_0x3e0f99(0x4ed),'cpf',_0x3e0f99(0x453),_0x3e0f99(0x331),_0x3e0f99(0x52a),_0x3e0f99(0x189)];if(!this[_0x3e0f99(0x1c7)]&&(await this[_0x3e0f99(0x382)](),!this[_0x3e0f99(0x1c7)]))throw new Error(_0x3e0f99(0x5d1));let _0x1f2291=this['AutomateSystem']?.['customFields'][_0x3e0f99(0x538)](_0x141d32=>_0x141d32[_0x3e0f99(0x34d)]),_0x225020={};Object[_0x3e0f99(0x1ba)](_0x2abbea[_0x3e0f99(0x514)]['realVariables'])[_0x3e0f99(0x19f)](([_0x107c90,_0x48898d])=>{const _0x2155fb=_0x3e0f99;_0x3a2cfe[_0x2155fb(0x30a)](_0x107c90)&&(_0x107c90===_0x2155fb(0x189)&&typeof _0x48898d==_0x2155fb(0x4e8)?_0x225020[_0x107c90]=_0x48898d[_0x2155fb(0x204)](',')['map'](_0x18e1d8=>_0x18e1d8[_0x2155fb(0x5a1)]())[_0x2155fb(0x47d)](_0x49b114=>_0x49b114!==''):_0x225020[_0x107c90]=_0x48898d);});let _0x45e505=_0x2abbea['chatLog'][_0x3e0f99(0x595)][_0x2abbea['chatLog'][_0x3e0f99(0x595)]['length']-0x1];if(_0x45e505){let _0x1c196f=_0x45e505[_0x3e0f99(0x4f7)];_0x1c196f!==void 0x0&&(_0x225020[_0x3e0f99(0x64f)]=_0x1c196f[_0x3e0f99(0x604)]());}let _0x14c76d=_0x554aa7[_0x3e0f99(0x47d)](_0x5ed37c=>_0x1f2291[_0x3e0f99(0x30a)](_0x5ed37c[_0x3e0f99(0x34d)]));this[_0x3e0f99(0x40d)][_0x3e0f99(0x641)](this['instanceName']+'\x20('+this[_0x3e0f99(0x15d)][_0x3e0f99(0x660)]+'):\x20leadInfoVariables'),this[_0x3e0f99(0x40d)]['verbose'](_0x225020),this[_0x3e0f99(0x40d)][_0x3e0f99(0x641)](this[_0x3e0f99(0x2c4)]+'\x20('+this[_0x3e0f99(0x15d)][_0x3e0f99(0x660)]+'):\x20customFieldVariables'),this['logger'][_0x3e0f99(0x641)](_0x14c76d);let _0x570317=_0x14c76d['map'](_0x579472=>{const _0x55fa66=_0x3e0f99;let _0x12fe71=this['AutomateSystem']?.['customFields'][_0x55fa66(0x268)](_0x594bfe=>_0x594bfe[_0x55fa66(0x34d)]===_0x579472[_0x55fa66(0x34d)]);if(!_0x12fe71)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x579472[_0x55fa66(0x34d)]);return{'_id':_0x12fe71[_0x55fa66(0x1f9)],'value':_0x579472[_0x55fa66(0x344)]};});this[_0x3e0f99(0x40d)][_0x3e0f99(0x641)](this['instanceName']+'\x20('+this[_0x3e0f99(0x15d)][_0x3e0f99(0x660)]+_0x3e0f99(0x6e1)),this['logger']['verbose'](_0x570317),await this[_0x3e0f99(0x6a7)](_0x2abbea[_0x3e0f99(0x267)],_0x225020,_0x570317);}catch(_0x3c1475){this[_0x3e0f99(0x40d)]['error'](this[_0x3e0f99(0x2c4)]+'\x20('+this[_0x3e0f99(0x15d)][_0x3e0f99(0x660)]+_0x3e0f99(0x5cc)+JSON[_0x3e0f99(0x533)](_0x3c1475));}}else this[_0x3e0f99(0x40d)]['error'](this[_0x3e0f99(0x2c4)]+'\x20('+this[_0x3e0f99(0x15d)][_0x3e0f99(0x660)]+_0x3e0f99(0x14c));}catch(_0x3dbd92){this['logger'][_0x3e0f99(0x507)](this[_0x3e0f99(0x2c4)]+'\x20('+this['instance'][_0x3e0f99(0x660)]+_0x3e0f99(0x612)+JSON['stringify'](_0x3dbd92));}}async['saveChatVariables'](_0x4c1c31,_0x2f424e,_0x3e36d5){const _0x2d5c80=a0_0xe6bdb1;try{let _0x1faee6={'leadInfo.leadnome':_0x2f424e[_0x2d5c80(0x662)],'leadInfo.nomecompleto':_0x2f424e['nomecompleto'],'leadInfo.email':_0x2f424e[_0x2d5c80(0x4ed)],'leadInfo.cpf':_0x2f424e[_0x2d5c80(0x2ed)],'leadInfo.status':_0x2f424e[_0x2d5c80(0x453)],'leadInfo.notas':_0x2f424e['notas'],'leadInfo.responsavelid':_0x2f424e[_0x2d5c80(0x52a)],'leadInfo.tags':_0x2f424e[_0x2d5c80(0x189)],'leadInfo.customFields':_0x3e36d5};if('desativadoFluxoAte'in _0x2f424e){let _0x1231f7=_0x2f424e[_0x2d5c80(0x64f)];_0x1faee6[_0x2d5c80(0x478)]=_0x1231f7?Number(_0x1231f7):null;}let _0x1f97c9=await this[_0x2d5c80(0x217)][_0x2d5c80(0x497)][_0x2d5c80(0x235)]({'where':{'_id':_0x4c1c31,'owner':this[_0x2d5c80(0x15d)][_0x2d5c80(0x660)]}},_0x1faee6);_0x1f97c9?(this['logger'][_0x2d5c80(0x641)](this[_0x2d5c80(0x2c4)]+'\x20('+this[_0x2d5c80(0x15d)][_0x2d5c80(0x660)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x1f97c9[_0x2d5c80(0x1f9)]),B(this[_0x2d5c80(0x2c4)],'chats',{'chat':_0x1f97c9})):this[_0x2d5c80(0x40d)][_0x2d5c80(0x507)](this[_0x2d5c80(0x2c4)]+'\x20('+this[_0x2d5c80(0x15d)]['wuid']+_0x2d5c80(0x320));}catch(_0x362c1b){this[_0x2d5c80(0x40d)][_0x2d5c80(0x507)](this[_0x2d5c80(0x2c4)]+'\x20('+this[_0x2d5c80(0x15d)][_0x2d5c80(0x660)]+_0x2d5c80(0x355)+JSON[_0x2d5c80(0x533)](_0x362c1b,null,0x2));}}async[a0_0xe6bdb1(0x1c1)](_0x28fdc1,_0x4a2a0a){const _0x1ac1d0=a0_0xe6bdb1;this[_0x1ac1d0(0x40d)]['verbose'](this['instanceName']+'\x20('+this[_0x1ac1d0(0x15d)][_0x1ac1d0(0x660)]+_0x1ac1d0(0x220)+_0x4a2a0a);try{let _0x4b9568=await this[_0x1ac1d0(0x217)][_0x1ac1d0(0x497)]['updateOne']({'where':{'_id':_0x28fdc1[_0x1ac1d0(0x267)],'owner':_0x28fdc1[_0x1ac1d0(0x2f7)]}},{'leadInfo.desativadoFluxoAte':_0x4a2a0a});this[_0x1ac1d0(0x40d)][_0x1ac1d0(0x641)](this[_0x1ac1d0(0x2c4)]+'\x20('+this[_0x1ac1d0(0x15d)][_0x1ac1d0(0x660)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x28fdc1['_id']),this[_0x1ac1d0(0x40d)][_0x1ac1d0(0x641)](this[_0x1ac1d0(0x2c4)]+'\x20('+this[_0x1ac1d0(0x15d)][_0x1ac1d0(0x660)]+_0x1ac1d0(0x220)+JSON[_0x1ac1d0(0x533)](_0x4b9568,null,0x2)),_0x4b9568&&B(this[_0x1ac1d0(0x2c4)],'chats',{'chat':_0x4b9568});}catch(_0x46489b){this['logger'][_0x1ac1d0(0x507)](this[_0x1ac1d0(0x2c4)]+'\x20('+this[_0x1ac1d0(0x15d)][_0x1ac1d0(0x660)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+JSON[_0x1ac1d0(0x533)](_0x46489b));}}async[a0_0xe6bdb1(0x5af)](_0xc32044,_0x1b241f){const _0x3aa5e8=a0_0xe6bdb1;try{this[_0x3aa5e8(0x40d)][_0x3aa5e8(0x641)](this[_0x3aa5e8(0x2c4)]+'\x20('+this[_0x3aa5e8(0x15d)][_0x3aa5e8(0x660)]+_0x3aa5e8(0x328));let _0x49281d=_0x1b241f[_0x3aa5e8(0x1e3)](/\D/g,''),_0xea9afe=await I[_0x3aa5e8(0x5d7)]({'owner':_0xc32044,'testingWith':_0x49281d});return _0xea9afe||(this[_0x3aa5e8(0x40d)][_0x3aa5e8(0x641)](this['instanceName']+'\x20('+this['instance'][_0x3aa5e8(0x660)]+_0x3aa5e8(0x56d)),_0xea9afe=await I[_0x3aa5e8(0x5d7)]({'owner':_0xc32044,'default':!0x0})),_0xea9afe||(this['logger'][_0x3aa5e8(0x641)](this[_0x3aa5e8(0x2c4)]+'\x20('+this[_0x3aa5e8(0x15d)][_0x3aa5e8(0x660)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null);}catch(_0x59fc84){return this[_0x3aa5e8(0x40d)]['error'](this[_0x3aa5e8(0x2c4)]+'\x20('+this['instance'][_0x3aa5e8(0x660)]+_0x3aa5e8(0x558)+JSON[_0x3aa5e8(0x533)](_0x59fc84,null,0x2)),null;}}async[a0_0xe6bdb1(0x4cd)](_0x182c22,_0x3e2e63,_0x5901d9){const _0x465c8a=a0_0xe6bdb1;try{let _0x3cb1df=!!_0x5901d9[_0x465c8a(0x5dd)],_0x280c42=_0x5901d9[_0x465c8a(0x723)],_0x40988a=null;if(this[_0x465c8a(0x40d)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x465c8a(0x660)]+_0x465c8a(0x4a2)+_0x3cb1df+_0x465c8a(0x723)+_0x280c42),_0x3cb1df)return this[_0x465c8a(0x40d)][_0x465c8a(0x641)](this['instanceName']+'\x20('+this[_0x465c8a(0x15d)][_0x465c8a(0x660)]+_0x465c8a(0x3ce)),_0x40988a=await j[_0x465c8a(0x5d7)]({'owner':_0x182c22,'remoteJid':_0x3e2e63,'waitingPoll_id':_0x280c42}),_0x40988a?(_0x40988a[_0x465c8a(0x5a3)]=Date[_0x465c8a(0x33e)](),_0x40988a[_0x465c8a(0x514)][_0x465c8a(0x47b)]=_0x5901d9,_0x40988a):(this[_0x465c8a(0x40d)]['verbose'](this[_0x465c8a(0x2c4)]+'\x20('+this[_0x465c8a(0x15d)][_0x465c8a(0x660)]+_0x465c8a(0x57b)),null);{if(this[_0x465c8a(0x40d)][_0x465c8a(0x641)](this[_0x465c8a(0x2c4)]+'\x20('+this['instance'][_0x465c8a(0x660)]+_0x465c8a(0x5f9)+this[_0x465c8a(0x15d)]['wuid']+_0x465c8a(0x64a)),this[_0x465c8a(0x40d)][_0x465c8a(0x641)](this['instanceName']+'\x20('+this[_0x465c8a(0x15d)][_0x465c8a(0x660)]+_0x465c8a(0x247)),_0x40988a=await j[_0x465c8a(0x5d7)]({'owner':_0x182c22,'remoteJid':_0x3e2e63,'status':_0x465c8a(0x42d)}),!_0x40988a){let _0x24e676=await this[_0x465c8a(0x5af)](_0x182c22,_0x3e2e63);if(_0x24e676&&(_0x40988a=await this[_0x465c8a(0x386)](_0x24e676,_0x5901d9[_0x465c8a(0x423)],_0x5901d9)),!_0x40988a)return null;}let _0x8ac712=Date[_0x465c8a(0x33e)](),_0x5f550f=_0x40988a?.[_0x465c8a(0x2b0)]||0x0,_0x162823=_0x8ac712-_0x5f550f*0x3c*0x3e8;if(this[_0x465c8a(0x40d)]['verbose'](this[_0x465c8a(0x2c4)]+'\x20('+this[_0x465c8a(0x15d)]['wuid']+'):\x20Current\x20Time:\x20'+_0x8ac712+_0x465c8a(0x159)+_0x5f550f+_0x465c8a(0x1bf)+_0x162823),this[_0x465c8a(0x40d)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x465c8a(0x262)),this['logger']['verbose'](this[_0x465c8a(0x2c4)]+'\x20('+this[_0x465c8a(0x15d)][_0x465c8a(0x660)]+_0x465c8a(0x2dc)+_0x40988a[_0x465c8a(0x5a3)]),this[_0x465c8a(0x40d)]['verbose'](this[_0x465c8a(0x2c4)]+'\x20('+this[_0x465c8a(0x15d)][_0x465c8a(0x660)]+_0x465c8a(0x3d7)+_0x162823),_0x40988a[_0x465c8a(0x5a3)]<_0x162823){this['logger']['verbose'](this[_0x465c8a(0x2c4)]+'\x20('+this['instance'][_0x465c8a(0x660)]+_0x465c8a(0x20a));let _0x4de9b9=await this[_0x465c8a(0x5af)](_0x182c22,_0x3e2e63);if(_0x4de9b9===null)return null;_0x40988a&&await j[_0x465c8a(0x235)]({'_id':_0x40988a[_0x465c8a(0x1f9)]},{'status':_0x465c8a(0x413)}),_0x40988a=await this[_0x465c8a(0x386)](_0x4de9b9,_0x5901d9['key'],_0x5901d9);}return _0x40988a['lastInteraction']=_0x8ac712,_0x40988a[_0x465c8a(0x514)][_0x465c8a(0x47b)]=_0x5901d9,_0x40988a;}}catch(_0x49c4a5){return this[_0x465c8a(0x40d)][_0x465c8a(0x507)](this[_0x465c8a(0x2c4)]+'\x20('+this[_0x465c8a(0x15d)][_0x465c8a(0x660)]+_0x465c8a(0x539)+JSON[_0x465c8a(0x533)](_0x49c4a5,null,0x2)),null;}}async[a0_0xe6bdb1(0x386)](_0x30b17f,_0x10b807,_0x37a069){const _0x3a691e=a0_0xe6bdb1;this[_0x3a691e(0x40d)][_0x3a691e(0x641)](this[_0x3a691e(0x2c4)]+'\x20('+this[_0x3a691e(0x15d)][_0x3a691e(0x660)]+_0x3a691e(0x49e));try{let _0x194394=require(_0x3a691e(0x592))[_0x3a691e(0x532)],_0x53f58c=Date[_0x3a691e(0x33e)](),_0x4757db='start',_0x405ccf=_0x10b807['fromMe']?null:_0x37a069,_0x284437=_0x10b807[_0x3a691e(0x4cf)]?_0x37a069:null,_0x1e7d6f=_0x10b807['remoteJid'];await this['closeExistingConversations'](_0x1e7d6f);let _0x57a858={..._0x30b17f[_0x3a691e(0x342)],'chatLog':null},_0x24c240=await this['variablesToObject'](_0x57a858[_0x3a691e(0x171)]),_0x1504f7=await this['getVariablesChat'](_0x1e7d6f),_0x17c3f7={..._0x24c240,..._0x1504f7,'_remoteJid':_0x1e7d6f},_0xf80315={'lastReceivedMessage':_0x405ccf,'lastSendMessage':_0x284437,'lastBlockId':_0x4757db,'lastCondition':!0x0,'realVariables':_0x17c3f7};_0x57a858[_0x3a691e(0x514)]=_0xf80315,delete _0x57a858[_0x3a691e(0x1f9)],_0x57a858[_0x3a691e(0x1f9)]=new _0x194394(),_0x57a858['lastInteraction']=_0x53f58c,_0x57a858[_0x3a691e(0x453)]='open',_0x57a858['remoteJid']=_0x1e7d6f;let _0x575758=await j[_0x3a691e(0x2dd)](_0x57a858);return this[_0x3a691e(0x40d)]['verbose'](this[_0x3a691e(0x2c4)]+'\x20('+this[_0x3a691e(0x15d)][_0x3a691e(0x660)]+_0x3a691e(0x661)),_0x575758?_0x57a858:null;}catch(_0x53a73b){return this[_0x3a691e(0x40d)][_0x3a691e(0x507)](this[_0x3a691e(0x2c4)]+'\x20('+this[_0x3a691e(0x15d)][_0x3a691e(0x660)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+JSON['stringify'](_0x53a73b,null,0x2)),_0x53a73b;}}async[a0_0xe6bdb1(0x21b)](_0x5ca0f8,_0x1a7c1b,_0x26a5c0){const _0x173915=a0_0xe6bdb1;this[_0x173915(0x40d)]['verbose'](this[_0x173915(0x2c4)]+'\x20('+this['instance'][_0x173915(0x660)]+_0x173915(0x2d5));let _0x3af60e={'number':_0x26a5c0,'options':{'delay':_0x1a7c1b[_0x173915(0x27e)][_0x173915(0x53d)]},'textMessage':{'text':_0x1a7c1b[_0x173915(0x27e)][_0x173915(0x151)]}};try{let _0x1c0ae7=await this[_0x173915(0x61c)](_0x3af60e);if(_0x1c0ae7){let _0x54c357={'_id':_0x1c0ae7['key']['id'],'_fromMe':_0x1c0ae7[_0x173915(0x423)][_0x173915(0x4cf)],'_remoteJid':_0x1c0ae7[_0x173915(0x423)][_0x173915(0x267)]};_0x5ca0f8[_0x173915(0x514)][_0x173915(0x36f)]=_0x1a7c1b[_0x173915(0x1f9)][_0x173915(0x604)]();let {message_normalized:_0x18a12f}=this['normalizeMessage'](_0x1c0ae7[_0x173915(0x600)],_(_0x1c0ae7['message']),null);_0x5ca0f8['chatLog'][_0x173915(0x1b5)]=await _0x18a12f;let _0x3618bf={'messageId':_0x1c0ae7['key']['id']},_0x192eb5=_0x5ca0f8[_0x173915(0x514)]['realVariables'];Object['assign'](_0x192eb5,_0x54c357),_0x5ca0f8[_0x173915(0x514)][_0x173915(0x22b)]=_0x192eb5,this[_0x173915(0x563)](_0x5ca0f8,_0x1a7c1b,_0x3618bf);}else{let _0x553663={'error':!0x0};this[_0x173915(0x563)](_0x5ca0f8,_0x1a7c1b,_0x553663),this[_0x173915(0x40d)][_0x173915(0x507)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x47169f){let _0x2a30c0={'error':!0x0,'errorLog':_0x47169f[_0x173915(0x604)]()};this[_0x173915(0x563)](_0x5ca0f8,_0x1a7c1b,_0x2a30c0),this[_0x173915(0x40d)][_0x173915(0x507)](this[_0x173915(0x2c4)]+'\x20('+this['instance']['wuid']+_0x173915(0x65e)+JSON[_0x173915(0x533)](_0x47169f,null,0x2));}}async[a0_0xe6bdb1(0x24a)](_0x324132,_0x1ffb1e,_0x2bb40d){const _0x4d6d45=a0_0xe6bdb1;this['logger'][_0x4d6d45(0x641)](this[_0x4d6d45(0x2c4)]+'\x20('+this[_0x4d6d45(0x15d)]['wuid']+_0x4d6d45(0x4bd));let _0xefe208={'number':_0x2bb40d,'options':{'delay':_0x1ffb1e[_0x4d6d45(0x27e)]['delay']},'mediaMessage':{'mediatype':_0x1ffb1e[_0x4d6d45(0x27e)][_0x4d6d45(0x62e)],'caption':_0x1ffb1e[_0x4d6d45(0x27e)]['caption'],'media':_0x1ffb1e['uazapi'][_0x4d6d45(0x484)],'fileName':_0x1ffb1e[_0x4d6d45(0x27e)][_0x4d6d45(0x321)]}};try{let _0x550e2a=await this[_0x4d6d45(0x2a4)](_0xefe208);if(_0x550e2a){let _0x14daf5={'_id':_0x550e2a['key']['id'],'_fromMe':_0x550e2a[_0x4d6d45(0x423)][_0x4d6d45(0x4cf)],'_remoteJid':_0x550e2a[_0x4d6d45(0x423)]['remoteJid']};_0x324132[_0x4d6d45(0x514)]['lastBlockId']=_0x1ffb1e[_0x4d6d45(0x1f9)][_0x4d6d45(0x604)]();let {message_normalized:_0x37cf15}=this['normalizeMessage'](_0x550e2a[_0x4d6d45(0x600)],_(_0x550e2a['message']),null);_0x324132[_0x4d6d45(0x514)]['lastSendMessage']=await _0x37cf15;let _0x651c9={'messageId':_0x550e2a[_0x4d6d45(0x423)]['id']},_0xaa6b86=_0x324132['chatLog'][_0x4d6d45(0x22b)];Object[_0x4d6d45(0x15b)](_0xaa6b86,_0x14daf5),_0x324132[_0x4d6d45(0x514)][_0x4d6d45(0x22b)]=_0xaa6b86,this[_0x4d6d45(0x563)](_0x324132,_0x1ffb1e,_0x651c9);}else{let _0x10658a={'error':!0x0};this[_0x4d6d45(0x563)](_0x324132,_0x1ffb1e,_0x10658a),this[_0x4d6d45(0x40d)][_0x4d6d45(0x507)](this[_0x4d6d45(0x2c4)]+'\x20('+this['instance'][_0x4d6d45(0x660)]+_0x4d6d45(0x27a));}}catch(_0x55cca0){let _0x30220f={'error':!0x0,'errorLog':_0x55cca0['toString']()};this['updateConversation'](_0x324132,_0x1ffb1e,_0x30220f),this[_0x4d6d45(0x40d)]['error'](this[_0x4d6d45(0x2c4)]+'\x20('+this[_0x4d6d45(0x15d)][_0x4d6d45(0x660)]+_0x4d6d45(0x594)+JSON['stringify'](_0x55cca0,null,0x2));}}async['uazapiSendLocation'](_0x12487a,_0x45c48c,_0x170a36){const _0x5baa39=a0_0xe6bdb1;this['logger'][_0x5baa39(0x641)](this[_0x5baa39(0x2c4)]+'\x20('+this[_0x5baa39(0x15d)][_0x5baa39(0x660)]+'):\x20Enviando\x20localização');let _0x4ae152={'number':_0x170a36,'options':{'delay':_0x45c48c[_0x5baa39(0x27e)][_0x5baa39(0x53d)]},'locationMessage':{'name':_0x45c48c['uazapi'][_0x5baa39(0x34d)],'address':_0x45c48c['uazapi'][_0x5baa39(0x3e1)],'latitude':_0x45c48c[_0x5baa39(0x27e)][_0x5baa39(0x24d)],'longitude':_0x45c48c['uazapi'][_0x5baa39(0x2fb)]}};try{let _0x50bb35=await this['locationMessage'](_0x4ae152);if(_0x50bb35){let _0x57e5d0={'_id':_0x50bb35['key']['id'],'_fromMe':_0x50bb35[_0x5baa39(0x423)]['fromMe'],'_remoteJid':_0x50bb35[_0x5baa39(0x423)]['remoteJid']};_0x12487a[_0x5baa39(0x514)]['lastBlockId']=_0x45c48c[_0x5baa39(0x1f9)][_0x5baa39(0x604)]();let {message_normalized:_0x1c8e90}=this[_0x5baa39(0x199)](_0x50bb35[_0x5baa39(0x600)],_(_0x50bb35[_0x5baa39(0x600)]),null);_0x12487a[_0x5baa39(0x514)][_0x5baa39(0x1b5)]=await _0x1c8e90;let _0x24f88c={'messageId':_0x50bb35[_0x5baa39(0x423)]['id']},_0x2818ad=_0x12487a[_0x5baa39(0x514)][_0x5baa39(0x22b)];Object[_0x5baa39(0x15b)](_0x2818ad,_0x57e5d0),_0x12487a['chatLog']['realVariables']=_0x2818ad,this[_0x5baa39(0x563)](_0x12487a,_0x45c48c,_0x24f88c);}else{let _0x4b59c2={'error':!0x0};this[_0x5baa39(0x563)](_0x12487a,_0x45c48c,_0x4b59c2),this[_0x5baa39(0x40d)][_0x5baa39(0x507)](this['instanceName']+'\x20('+this[_0x5baa39(0x15d)][_0x5baa39(0x660)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0xdfa1b9){let _0x4345c4={'error':!0x0,'errorLog':_0xdfa1b9[_0x5baa39(0x604)]()};this[_0x5baa39(0x563)](_0x12487a,_0x45c48c,_0x4345c4),this[_0x5baa39(0x40d)][_0x5baa39(0x507)](this[_0x5baa39(0x2c4)]+'\x20('+this[_0x5baa39(0x15d)]['wuid']+_0x5baa39(0x2ea)+JSON[_0x5baa39(0x533)](_0xdfa1b9,null,0x2));}}async[a0_0xe6bdb1(0x61d)](_0x64b70a,_0x57fba6,_0x3d083c){const _0x319dfb=a0_0xe6bdb1;this[_0x319dfb(0x40d)][_0x319dfb(0x641)](this['instanceName']+'\x20('+this[_0x319dfb(0x15d)][_0x319dfb(0x660)]+_0x319dfb(0x1f6));let _0x213d1b={'number':_0x3d083c,'options':{'delay':_0x57fba6[_0x319dfb(0x27e)][_0x319dfb(0x53d)]},'audioMessage':{'audio':_0x57fba6[_0x319dfb(0x27e)][_0x319dfb(0x1f5)]}};try{let _0x5d1c99=await this[_0x319dfb(0x4b1)](_0x213d1b);if(_0x5d1c99){let _0x1bf104={'_id':_0x5d1c99['key']['id'],'_fromMe':_0x5d1c99[_0x319dfb(0x423)][_0x319dfb(0x4cf)],'_remoteJid':_0x5d1c99[_0x319dfb(0x423)]['remoteJid']};_0x64b70a['chatLog'][_0x319dfb(0x36f)]=_0x57fba6[_0x319dfb(0x1f9)][_0x319dfb(0x604)]();let {message_normalized:_0x4c8d95}=this[_0x319dfb(0x199)](_0x5d1c99[_0x319dfb(0x600)],_(_0x5d1c99[_0x319dfb(0x600)]),null);_0x64b70a[_0x319dfb(0x514)][_0x319dfb(0x1b5)]=await _0x4c8d95;let _0x2952a6={'messageId':_0x5d1c99[_0x319dfb(0x423)]['id']},_0x155021=_0x64b70a[_0x319dfb(0x514)][_0x319dfb(0x22b)];Object[_0x319dfb(0x15b)](_0x155021,_0x1bf104),_0x64b70a['chatLog'][_0x319dfb(0x22b)]=_0x155021,this[_0x319dfb(0x563)](_0x64b70a,_0x57fba6,_0x2952a6);}else{let _0x581f41={'error':!0x0};this[_0x319dfb(0x563)](_0x64b70a,_0x57fba6,_0x581f41),this['logger']['error'](this[_0x319dfb(0x2c4)]+'\x20('+this['instance'][_0x319dfb(0x660)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x2b8d7b){let _0x2c6849={'error':!0x0,'errorLog':_0x2b8d7b[_0x319dfb(0x604)]()};this[_0x319dfb(0x563)](_0x64b70a,_0x57fba6,_0x2c6849),this['logger']['error'](this[_0x319dfb(0x2c4)]+'\x20('+this['instance']['wuid']+_0x319dfb(0x42a)+JSON['stringify'](_0x2b8d7b,null,0x2));}}async[a0_0xe6bdb1(0x381)](_0x26214d,_0x40c375,_0x48fe47){const _0x504bdc=a0_0xe6bdb1;this['logger'][_0x504bdc(0x641)](this[_0x504bdc(0x2c4)]+'\x20('+this[_0x504bdc(0x15d)][_0x504bdc(0x660)]+_0x504bdc(0x341));let _0x1e220f={'number':_0x48fe47,'options':{'delay':_0x40c375['uazapi']['delay']},'contactMessage':[{'fullName':_0x40c375[_0x504bdc(0x27e)]['fullName'],'phoneNumber':_0x40c375[_0x504bdc(0x27e)][_0x504bdc(0x3fb)]}]};try{let _0x27f14d=await this[_0x504bdc(0x198)](_0x1e220f);if(_0x27f14d){let _0x18970e={'_id':_0x27f14d[_0x504bdc(0x423)]['id'],'_fromMe':_0x27f14d[_0x504bdc(0x423)][_0x504bdc(0x4cf)],'_remoteJid':_0x27f14d[_0x504bdc(0x423)][_0x504bdc(0x267)]};_0x26214d['chatLog'][_0x504bdc(0x36f)]=_0x40c375['_id']['toString']();let {message_normalized:_0x4a319b}=this[_0x504bdc(0x199)](_0x27f14d[_0x504bdc(0x600)],_(_0x27f14d[_0x504bdc(0x600)]),null);_0x26214d[_0x504bdc(0x514)][_0x504bdc(0x1b5)]=await _0x4a319b;let _0x53b4f8={'messageId':_0x27f14d[_0x504bdc(0x423)]['id']},_0x55a940=_0x26214d[_0x504bdc(0x514)]['realVariables'];Object[_0x504bdc(0x15b)](_0x55a940,_0x18970e),_0x26214d[_0x504bdc(0x514)][_0x504bdc(0x22b)]=_0x55a940,this[_0x504bdc(0x563)](_0x26214d,_0x40c375,_0x53b4f8);}else{let _0x5829d6={'error':!0x0};this[_0x504bdc(0x563)](_0x26214d,_0x40c375,_0x5829d6),this[_0x504bdc(0x40d)]['error'](this[_0x504bdc(0x2c4)]+'\x20('+this['instance']['wuid']+_0x504bdc(0x38a));}}catch(_0x40864f){let _0x4849bc={'error':!0x0,'errorLog':_0x40864f['toString']()};this['updateConversation'](_0x26214d,_0x40c375,_0x4849bc),this[_0x504bdc(0x40d)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x504bdc(0x5df)+JSON[_0x504bdc(0x533)](_0x40864f,null,0x2));}}[a0_0xe6bdb1(0x5ab)](_0x2038c7,_0x4f29e7){const _0x39ca91=a0_0xe6bdb1;for(let _0x520610 of _0x2038c7)_0x520610[_0x39ca91(0x471)]&&(_0x520610['option']=this[_0x39ca91(0x644)](_0x520610[_0x39ca91(0x471)],_0x4f29e7)),_0x520610[_0x39ca91(0x609)]&&(_0x520610[_0x39ca91(0x609)]=this[_0x39ca91(0x644)](_0x520610[_0x39ca91(0x609)],_0x4f29e7));}async[a0_0xe6bdb1(0x5f3)](_0x435ea4,_0xa08bb8,_0x14f22b){const _0x3c4786=a0_0xe6bdb1;this[_0x3c4786(0x40d)][_0x3c4786(0x641)](this[_0x3c4786(0x2c4)]+'\x20('+this[_0x3c4786(0x15d)][_0x3c4786(0x660)]+_0x3c4786(0x710));let _0x51dc0b=_0x435ea4[_0x3c4786(0x6ea)][_0x3c4786(0x47d)](_0x7bd5ca=>_0x7bd5ca[_0x3c4786(0x178)]===_0xa08bb8[_0x3c4786(0x1f9)]);this['replaceVariablesInReplyOptions'](_0x51dc0b,_0x435ea4[_0x3c4786(0x514)]['realVariables']);let _0x1cfb1d=_0x51dc0b[_0x3c4786(0x538)](_0x4db016=>_0x4db016[_0x3c4786(0x471)]),_0x54818f={'number':_0x14f22b,'options':{'delay':_0xa08bb8[_0x3c4786(0x27e)][_0x3c4786(0x53d)]},'pollMessage':{'name':_0xa08bb8[_0x3c4786(0x27e)][_0x3c4786(0x34d)],'selectableCount':0x1,'values':_0x1cfb1d}};try{let _0x4f2320=await this['pollMessage'](_0x54818f);if(_0x4f2320){let _0x2d1c03={'_id':_0x4f2320[_0x3c4786(0x423)]['id'],'_fromMe':_0x4f2320[_0x3c4786(0x423)][_0x3c4786(0x4cf)],'_remoteJid':_0x4f2320[_0x3c4786(0x423)]['remoteJid']};this[_0x3c4786(0x40d)][_0x3c4786(0x641)](this[_0x3c4786(0x2c4)]+'\x20('+this[_0x3c4786(0x15d)][_0x3c4786(0x660)]+'):\x20nextBlock.uazapi.name'+_0xa08bb8['uazapi'][_0x3c4786(0x34d)]),_0x435ea4[_0x3c4786(0x50b)]=_0x4f2320['key']['id'],_0x435ea4[_0x3c4786(0x50a)]=_0xa08bb8['uazapi'][_0x3c4786(0x34d)],_0x435ea4[_0x3c4786(0x583)]=_0x51dc0b,this[_0x3c4786(0x40d)][_0x3c4786(0x641)](this[_0x3c4786(0x2c4)]+'\x20('+this[_0x3c4786(0x15d)]['wuid']+'):\x20conversation.waitingPollname'+_0x435ea4[_0x3c4786(0x50a)]),_0x435ea4[_0x3c4786(0x514)][_0x3c4786(0x36f)]=_0xa08bb8[_0x3c4786(0x1f9)][_0x3c4786(0x604)]();let {message_normalized:_0x211bae}=this['normalizeMessage'](_0x4f2320['message'],_(_0x4f2320[_0x3c4786(0x600)]),null);_0x435ea4[_0x3c4786(0x514)]['lastSendMessage']=await _0x211bae;let _0xf985={'messageId':_0x4f2320[_0x3c4786(0x423)]['id']},_0x57bbe4=_0x435ea4['chatLog'][_0x3c4786(0x22b)];Object[_0x3c4786(0x15b)](_0x57bbe4,_0x2d1c03),_0x435ea4[_0x3c4786(0x514)][_0x3c4786(0x22b)]=_0x57bbe4,this['updateConversation'](_0x435ea4,_0xa08bb8,_0xf985);}else{let _0x40240e={'error':!0x0};this[_0x3c4786(0x563)](_0x435ea4,_0xa08bb8,_0x40240e),this[_0x3c4786(0x40d)][_0x3c4786(0x507)](this[_0x3c4786(0x2c4)]+'\x20('+this[_0x3c4786(0x15d)][_0x3c4786(0x660)]+_0x3c4786(0x2e1));}}catch(_0x1e6d63){let _0x56ee8d={'error':!0x0,'errorLog':JSON[_0x3c4786(0x533)](_0x1e6d63,null,0x2)};this[_0x3c4786(0x563)](_0x435ea4,_0xa08bb8,_0x56ee8d),this[_0x3c4786(0x40d)][_0x3c4786(0x507)](this[_0x3c4786(0x2c4)]+'\x20('+this[_0x3c4786(0x15d)][_0x3c4786(0x660)]+_0x3c4786(0x614)+JSON['stringify'](_0x1e6d63,null,0x2));}}async['uazapiDeleteMessage'](_0x1e6427,_0x2671dd,_0x4148a5){const _0x373998=a0_0xe6bdb1;this['logger'][_0x373998(0x641)](this[_0x373998(0x2c4)]+'\x20('+this[_0x373998(0x15d)][_0x373998(0x660)]+_0x373998(0x2ef));let _0x454e1=_0x1e6427[_0x373998(0x514)][_0x373998(0x595)][_0x373998(0x268)](_0x27027c=>_0x27027c[_0x373998(0x178)][_0x373998(0x604)]()===_0x2671dd[_0x373998(0x27e)][_0x373998(0x178)][_0x373998(0x604)]()),_0x565f44={'id':_0x454e1[_0x373998(0x345)],'remoteJid':_0x454e1[_0x373998(0x267)],'fromMe':_0x454e1[_0x373998(0x4cf)]};try{let _0x2f02b1=await this[_0x373998(0x659)](_0x565f44);if(_0x2f02b1){_0x1e6427['chatLog'][_0x373998(0x36f)]=_0x2671dd[_0x373998(0x1f9)]['toString']();let {message_normalized:_0x486db3}=this[_0x373998(0x199)](_0x2f02b1['message'],_(_0x2f02b1[_0x373998(0x600)]),null);_0x1e6427['chatLog'][_0x373998(0x1b5)]=await _0x486db3;let _0x17fe97={};this['updateConversation'](_0x1e6427,_0x2671dd,_0x17fe97);}else{let _0x4329e7={'error':!0x0};this['updateConversation'](_0x1e6427,_0x2671dd,_0x4329e7),this[_0x373998(0x40d)][_0x373998(0x507)](this[_0x373998(0x2c4)]+'\x20('+this[_0x373998(0x15d)]['wuid']+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x23d8f1){let _0x382ea2={'error':!0x0,'errorLog':JSON[_0x373998(0x533)](_0x23d8f1,null,0x2)};this['updateConversation'](_0x1e6427,_0x2671dd,_0x382ea2),this['logger'][_0x373998(0x507)](this['instanceName']+'\x20('+this['instance'][_0x373998(0x660)]+_0x373998(0x5b0)+JSON[_0x373998(0x533)](_0x23d8f1,null,0x2));}}async[a0_0xe6bdb1(0x55a)](_0x6f2a2f){const _0x34e90e=a0_0xe6bdb1;try{if(this[_0x34e90e(0x40d)]['verbose'](this[_0x34e90e(0x2c4)]+'\x20('+this[_0x34e90e(0x15d)]['wuid']+_0x34e90e(0x314)),await I[_0x34e90e(0x5d7)]({'owner':this[_0x34e90e(0x15d)]['wuid'],'name':_0x6f2a2f[_0x34e90e(0x34d)]}))return{'message':'Flow\x20already\x20exists'};_0x6f2a2f[_0x34e90e(0x6cd)]===!0x0&&await I['updateMany']({'owner':this[_0x34e90e(0x15d)][_0x34e90e(0x660)]},{'default':!0x1});let _0x53488c=new pe[(_0x34e90e(0x1a6))]['ObjectId'](),_0x1126d2={'_id':_0x53488c,'default':!0x0,'title':_0x34e90e(0x452),'x':0x0,'y':0x0},_0x27ee19={'_id':new pe[(_0x34e90e(0x1a6))][(_0x34e90e(0x532))](),'order':0x1,'groupId':_0x53488c['toString'](),'type':_0x34e90e(0x231)};return await I['create']({'owner':this['instance']['wuid'],'name':_0x6f2a2f[_0x34e90e(0x34d)],'groups':[_0x1126d2],'blocks':[_0x27ee19],..._0x6f2a2f});}catch(_0x3c98f2){throw this[_0x34e90e(0x40d)][_0x34e90e(0x507)](this[_0x34e90e(0x2c4)]+'\x20('+this[_0x34e90e(0x15d)]['wuid']+_0x34e90e(0x65f)+JSON[_0x34e90e(0x533)](_0x3c98f2,null,0x2)),new g(_0x34e90e(0x69c)+_0x3c98f2);}}async['deleteFlow'](_0x788e55){const _0x3643c4=a0_0xe6bdb1;try{return this[_0x3643c4(0x40d)]['verbose'](this[_0x3643c4(0x2c4)]+'\x20('+this[_0x3643c4(0x15d)][_0x3643c4(0x660)]+_0x3643c4(0x6eb)),await I[_0x3643c4(0x2e4)]({'owner':this[_0x3643c4(0x15d)]['wuid'],'name':_0x788e55});}catch(_0x26042f){return this[_0x3643c4(0x40d)][_0x3643c4(0x507)](this[_0x3643c4(0x2c4)]+'\x20('+this[_0x3643c4(0x15d)][_0x3643c4(0x660)]+_0x3643c4(0x5a7)+JSON['stringify'](_0x26042f,null,0x2)),{'message':_0x3643c4(0x72d)+_0x26042f};}}async[a0_0xe6bdb1(0x501)](_0x2167de){const _0x4ba1de=a0_0xe6bdb1;try{this[_0x4ba1de(0x40d)]['verbose'](this[_0x4ba1de(0x2c4)]+'\x20('+this['instance'][_0x4ba1de(0x660)]+'):\x20Buscando\x20flow...');let _0x330156=await I[_0x4ba1de(0x5d7)]({'owner':this['instance'][_0x4ba1de(0x660)],'name':_0x2167de});if(!_0x330156)throw new Error(_0x4ba1de(0x464));if(!this['AutomateSystem']&&(await this[_0x4ba1de(0x382)](),!this[_0x4ba1de(0x1c7)]))return null;let _0x390172=this[_0x4ba1de(0x1c7)]?.[_0x4ba1de(0x3ad)]['map'](_0x295a10=>_0x295a10[_0x4ba1de(0x34d)]),_0x59f7f0=['nome','nomecompleto',_0x4ba1de(0x4ed),'cpf','status',_0x4ba1de(0x331),_0x4ba1de(0x52a),_0x4ba1de(0x189)];return _0x330156[_0x4ba1de(0x171)]=_0x330156[_0x4ba1de(0x171)][_0x4ba1de(0x47d)](_0x470cfa=>!(_0x470cfa[_0x4ba1de(0x1d3)]===_0x4ba1de(0x3bd)||_0x470cfa[_0x4ba1de(0x3bd)])),_0x59f7f0[_0x4ba1de(0x19f)](_0x3fd9b3=>{const _0x5c12ed=_0x4ba1de;_0x330156[_0x5c12ed(0x171)][_0x5c12ed(0x367)]({'folder':'leadInfo','name':_0x3fd9b3,'value':'','doc':'','leadInfo':!0x0});}),_0x390172[_0x4ba1de(0x19f)](_0x581320=>{const _0x48fc5e=_0x4ba1de;let _0x257b4e=_0x330156[_0x48fc5e(0x171)][_0x48fc5e(0x714)](_0x406b60=>_0x406b60['name']===_0x581320);_0x257b4e===-0x1?_0x330156[_0x48fc5e(0x171)][_0x48fc5e(0x367)]({'folder':_0x48fc5e(0x3bd),'name':_0x581320,'value':'','doc':'','leadInfo':!0x0}):(_0x330156[_0x48fc5e(0x171)][_0x257b4e][_0x48fc5e(0x1d3)]=_0x48fc5e(0x3bd),_0x330156[_0x48fc5e(0x171)][_0x257b4e][_0x48fc5e(0x3bd)]=!0x0);}),_0x330156['blocks']&&_0x330156['blocks']['length']>0x0&&_0x330156[_0x4ba1de(0x187)][_0x4ba1de(0x19f)](_0xb873e9=>{const _0x1f013a=_0x4ba1de;_0xb873e9[_0x1f013a(0x656)]&&_0xb873e9['next_groupId']&&_0xb873e9[_0x1f013a(0x656)]===_0xb873e9['next_groupId']&&(_0xb873e9['next_groupId']=null);}),await _0x330156[_0x4ba1de(0x4c5)](),_0x330156;}catch(_0x1af9b6){throw this['logger'][_0x4ba1de(0x507)](this[_0x4ba1de(0x2c4)]+'\x20('+this[_0x4ba1de(0x15d)][_0x4ba1de(0x660)]+_0x4ba1de(0x529)+JSON[_0x4ba1de(0x533)](_0x1af9b6,null,0x2)),new g(_0x4ba1de(0x56a)+_0x1af9b6);}}async[a0_0xe6bdb1(0x6a0)](){const _0x8180a2=a0_0xe6bdb1;try{return this[_0x8180a2(0x40d)]['verbose'](this[_0x8180a2(0x2c4)]+'\x20('+this[_0x8180a2(0x15d)]['wuid']+_0x8180a2(0x5bf)),await I[_0x8180a2(0x268)]({'owner':this[_0x8180a2(0x15d)][_0x8180a2(0x660)]});}catch(_0x291682){return this[_0x8180a2(0x40d)][_0x8180a2(0x507)](this[_0x8180a2(0x2c4)]+'\x20('+this['instance'][_0x8180a2(0x660)]+_0x8180a2(0x1a0)+JSON['stringify'](_0x291682,null,0x2)),{'message':_0x8180a2(0x232)+_0x291682};}}async[a0_0xe6bdb1(0x667)](_0x3023e9){const _0x46e99a=a0_0xe6bdb1;try{this['logger'][_0x46e99a(0x641)](this[_0x46e99a(0x2c4)]+'\x20('+this['instance'][_0x46e99a(0x660)]+_0x46e99a(0x1ea));let _0x5318ca=await I[_0x46e99a(0x5d7)]({'owner':this[_0x46e99a(0x15d)][_0x46e99a(0x660)],'name':_0x3023e9['name']});if(!_0x5318ca)return{'message':'Fluxo\x20não\x20encontrado'};if(_0x3023e9['default']===!0x0&&await I[_0x46e99a(0x4a9)]({'owner':this[_0x46e99a(0x15d)]['wuid']},{'default':!0x1}),_0x3023e9['newName']){if(await I[_0x46e99a(0x5d7)]({'owner':this[_0x46e99a(0x15d)][_0x46e99a(0x660)],'name':_0x3023e9[_0x46e99a(0x2ab)]}))return{'message':'Já\x20existe\x20fluxo\x20com\x20esse\x20nome'};_0x3023e9['name']=_0x3023e9[_0x46e99a(0x2ab)],delete _0x3023e9['newName'];}return await I[_0x46e99a(0x6d8)](_0x5318ca[_0x46e99a(0x1f9)],{'$set':_0x3023e9},{'new':!0x0});}catch(_0x346952){throw this[_0x46e99a(0x40d)]['error'](this[_0x46e99a(0x2c4)]+'\x20('+this[_0x46e99a(0x15d)][_0x46e99a(0x660)]+_0x46e99a(0x68a)+JSON[_0x46e99a(0x533)](_0x346952,null,0x2)),new g(_0x46e99a(0x3a0)+JSON['stringify'](_0x346952,null,0x2));}}async[a0_0xe6bdb1(0x409)](_0x348c24){const _0xe4df90=a0_0xe6bdb1;try{this[_0xe4df90(0x40d)][_0xe4df90(0x641)](this[_0xe4df90(0x2c4)]+'\x20('+this[_0xe4df90(0x15d)]['wuid']+_0xe4df90(0x30f));let _0x41c59a={'owner':this['instance'][_0xe4df90(0x660)],'name':_0x348c24[_0xe4df90(0x34d)]},_0x1a4424=await I[_0xe4df90(0x5d7)](_0x41c59a);_0x1a4424||this['throwAndLogError'](_0xe4df90(0x464));let {block:_0x3a7439}=_0x348c24;return _0x3a7439?.[_0xe4df90(0x236)]?this[_0xe4df90(0x238)](_0x1a4424,_0x348c24):_0x3a7439?.[_0xe4df90(0x526)]?this[_0xe4df90(0x3ff)](_0x1a4424,_0x348c24):_0x3a7439[_0xe4df90(0x1f9)]?await this[_0xe4df90(0x503)](_0x1a4424,_0x348c24):this[_0xe4df90(0x50f)](_0x1a4424,_0x348c24),await _0x1a4424[_0xe4df90(0x4c5)](),_0x1a4424;}catch(_0x850056){this['throwAndLogError'](_0xe4df90(0x4ac)+_0x850056);}}async['copyBlock'](_0x5397dd,_0x90a6e3){const _0x3b9b0d=a0_0xe6bdb1;let _0xaaea2=_0x90a6e3[_0x3b9b0d(0x693)][_0x3b9b0d(0x1f9)],_0x3c6424=_0x5397dd['blocks'][_0x3b9b0d(0x268)](_0x1763cf=>_0x1763cf[_0x3b9b0d(0x1f9)][_0x3b9b0d(0x604)]()===_0xaaea2);if(!_0x3c6424){this[_0x3b9b0d(0x40d)]['error'](this[_0x3b9b0d(0x2c4)]+'\x20('+this[_0x3b9b0d(0x15d)][_0x3b9b0d(0x660)]+_0x3b9b0d(0x28b)+_0xaaea2+_0x3b9b0d(0x562));return;}this['logger'][_0x3b9b0d(0x641)](this['instanceName']+'\x20('+this[_0x3b9b0d(0x15d)]['wuid']+_0x3b9b0d(0x5d2)+JSON[_0x3b9b0d(0x533)](_0x3c6424));let _0x9f4934=JSON['parse'](JSON['stringify'](_0x3c6424));_0x9f4934[_0x3b9b0d(0x1f9)]=new pe[(_0x3b9b0d(0x6cd))][(_0x3b9b0d(0x1a6))][(_0x3b9b0d(0x532))](),this[_0x3b9b0d(0x40d)][_0x3b9b0d(0x641)](this['instanceName']+'\x20('+this['instance'][_0x3b9b0d(0x660)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x3b9b0d(0x533)](_0x9f4934)),_0x5397dd['blocks']['push'](_0x9f4934),this[_0x3b9b0d(0x2de)](_0x5397dd[_0x3b9b0d(0x187)],_0x9f4934[_0x3b9b0d(0x656)]);}[a0_0xe6bdb1(0x545)](_0x4e78f5){const _0x232037=a0_0xe6bdb1;throw this[_0x232037(0x40d)][_0x232037(0x507)](this[_0x232037(0x2c4)]+'\x20('+this[_0x232037(0x15d)][_0x232037(0x660)]+_0x232037(0x5f9)+_0x4e78f5),new g(_0x4e78f5);}[a0_0xe6bdb1(0x3ff)](_0x3f6f06,_0x1ce120){const _0x5b8f9e=a0_0xe6bdb1;let {block:_0x18564c}=_0x1ce120;if(_0x18564c[_0x5b8f9e(0x2be)]==='start'){this['throwAndLogError'](_0x5b8f9e(0x4bb));return;}if(!_0x18564c[_0x5b8f9e(0x1f9)]){this[_0x5b8f9e(0x545)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0x1a80a4=_0x3f6f06[_0x5b8f9e(0x187)][_0x5b8f9e(0x268)](_0x551aeb=>_0x551aeb[_0x5b8f9e(0x1f9)][_0x5b8f9e(0x604)]()===_0x1ce120[_0x5b8f9e(0x693)][_0x5b8f9e(0x1f9)][_0x5b8f9e(0x604)]());if(!_0x1a80a4){this[_0x5b8f9e(0x545)](_0x5b8f9e(0x5a5)+_0x18564c[_0x5b8f9e(0x1f9)]+_0x5b8f9e(0x522));return;}_0x3f6f06['blocks']=_0x3f6f06[_0x5b8f9e(0x187)][_0x5b8f9e(0x47d)](_0x376dbd=>_0x376dbd['_id'][_0x5b8f9e(0x604)]()!==_0x1ce120[_0x5b8f9e(0x693)]['_id']['toString']()),_0x3f6f06['conditions']=_0x3f6f06[_0x5b8f9e(0x300)]['filter'](_0x4067b1=>_0x4067b1['blockId']!==_0x18564c[_0x5b8f9e(0x1f9)][_0x5b8f9e(0x604)]()),_0x3f6f06[_0x5b8f9e(0x269)]=_0x3f6f06[_0x5b8f9e(0x269)][_0x5b8f9e(0x47d)](_0x637985=>_0x637985[_0x5b8f9e(0x178)]!==_0x18564c[_0x5b8f9e(0x1f9)][_0x5b8f9e(0x604)]()),_0x3f6f06['replyOptions']=_0x3f6f06[_0x5b8f9e(0x6ea)][_0x5b8f9e(0x47d)](_0x54f8bf=>_0x54f8bf[_0x5b8f9e(0x178)]!==_0x18564c[_0x5b8f9e(0x1f9)][_0x5b8f9e(0x604)]()),this[_0x5b8f9e(0x2de)](_0x3f6f06[_0x5b8f9e(0x187)],_0x1a80a4[_0x5b8f9e(0x656)]);}async[a0_0xe6bdb1(0x503)](_0x3c5a2e,_0x3f19d4){const _0x103414=a0_0xe6bdb1;let _0x21c945=_0x3c5a2e['blocks'][_0x103414(0x714)](_0x3253ff=>_0x3253ff[_0x103414(0x1f9)][_0x103414(0x604)]()===_0x3f19d4[_0x103414(0x693)]['_id'][_0x103414(0x604)]());if(this[_0x103414(0x40d)][_0x103414(0x641)](this[_0x103414(0x2c4)]+'\x20('+this[_0x103414(0x15d)][_0x103414(0x660)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x21c945),_0x21c945===-0x1){this['logger'][_0x103414(0x641)](_0x103414(0x5a5)+_0x3f19d4[_0x103414(0x693)][_0x103414(0x1f9)]+_0x103414(0x243));return;}if(_0x3c5a2e[_0x103414(0x187)][_0x21c945][_0x103414(0x2be)]===_0x103414(0x231)){let _0x4b3fcd=Object['keys'](_0x3f19d4['block']);if(_0x4b3fcd[_0x103414(0x5b9)]>0x2||_0x4b3fcd[_0x103414(0x5b9)]===0x2&&!_0x4b3fcd[_0x103414(0x30a)](_0x103414(0x694))){this[_0x103414(0x545)](_0x103414(0x40a));return;}}let _0x20721e=_0x3c5a2e[_0x103414(0x187)][_0x21c945][_0x103414(0x656)];for(let _0x143025 in _0x3f19d4['block'])_0x3f19d4[_0x103414(0x693)][_0x103414(0x45d)](_0x143025)&&(_0x3c5a2e[_0x103414(0x187)][_0x21c945][_0x143025]=_0x3f19d4[_0x103414(0x693)][_0x143025]);if(this[_0x103414(0x40d)][_0x103414(0x641)](this[_0x103414(0x2c4)]+'\x20('+this[_0x103414(0x15d)][_0x103414(0x660)]+_0x103414(0x479)+JSON[_0x103414(0x533)](_0x3c5a2e[_0x103414(0x187)][_0x21c945])),_0x3c5a2e['blocks'][_0x21c945]['apirequest']&&_0x103414(0x5ae)in _0x3c5a2e[_0x103414(0x187)][_0x21c945][_0x103414(0x3e7)]){this[_0x103414(0x40d)]['verbose'](this['instanceName']+'\x20('+this[_0x103414(0x15d)][_0x103414(0x660)]+_0x103414(0x6c6));let _0x24e6d8=JSON['stringify'](_0x3c5a2e[_0x103414(0x187)][_0x21c945][_0x103414(0x3e7)][_0x103414(0x5ae)],null,0x1);_0x24e6d8[_0x103414(0x5b9)]>0x2&&(_0x24e6d8=_0x24e6d8[_0x103414(0x2bc)](0x1,_0x24e6d8[_0x103414(0x5b9)]-0x1)[_0x103414(0x5a1)]()),_0x3c5a2e['blocks'][_0x21c945][_0x103414(0x3e7)][_0x103414(0x5bc)]=_0x24e6d8;}if(_0x3c5a2e[_0x103414(0x187)][_0x21c945][_0x103414(0x3e7)]&&_0x103414(0x37b)in _0x3c5a2e[_0x103414(0x187)][_0x21c945]['apirequest']){this[_0x103414(0x40d)][_0x103414(0x641)](this[_0x103414(0x2c4)]+'\x20('+this['instance'][_0x103414(0x660)]+_0x103414(0x463));let _0x273ef4=JSON[_0x103414(0x533)](_0x3c5a2e[_0x103414(0x187)][_0x21c945]['apirequest'][_0x103414(0x37b)],null,0x1);_0x273ef4[_0x103414(0x5b9)]>0x2&&(_0x273ef4=_0x273ef4[_0x103414(0x2bc)](0x1,_0x273ef4['length']-0x1)[_0x103414(0x5a1)]()),_0x3c5a2e[_0x103414(0x187)][_0x21c945]['apirequest']['bodyString']=_0x273ef4;}let _0x50e6e8=_0x3c5a2e[_0x103414(0x187)][_0x21c945][_0x103414(0x656)];_0x20721e!==_0x50e6e8?(this[_0x103414(0x2de)](_0x3c5a2e[_0x103414(0x187)],_0x20721e),this[_0x103414(0x2de)](_0x3c5a2e[_0x103414(0x187)],_0x50e6e8)):this[_0x103414(0x2de)](_0x3c5a2e[_0x103414(0x187)],_0x20721e);}[a0_0xe6bdb1(0x50f)](_0x5b0425,_0x3ce1b6){const _0x3ce5fc=a0_0xe6bdb1;if(_0x3ce1b6[_0x3ce5fc(0x693)][_0x3ce5fc(0x2be)]===_0x3ce5fc(0x231)){this['throwAndLogError'](_0x3ce5fc(0x53f));return;}if(_0x3ce1b6[_0x3ce5fc(0x693)][_0x3ce5fc(0x3e7)]&&_0x3ce5fc(0x5ae)in _0x3ce1b6[_0x3ce5fc(0x693)][_0x3ce5fc(0x3e7)]){this[_0x3ce5fc(0x40d)][_0x3ce5fc(0x641)](this[_0x3ce5fc(0x2c4)]+'\x20('+this['instance'][_0x3ce5fc(0x660)]+_0x3ce5fc(0x6c6));let _0x3d22c7=JSON[_0x3ce5fc(0x533)](_0x3ce1b6[_0x3ce5fc(0x693)][_0x3ce5fc(0x3e7)]['header'],null,0x1);_0x3d22c7[_0x3ce5fc(0x5b9)]>0x2&&(_0x3d22c7=_0x3d22c7['substring'](0x1,_0x3d22c7['length']-0x1)[_0x3ce5fc(0x5a1)]()),_0x3ce1b6[_0x3ce5fc(0x693)]['apirequest'][_0x3ce5fc(0x5bc)]=_0x3d22c7;}_0x3ce1b6['block']['apirequest']&&_0x3ce5fc(0x37b)in _0x3ce1b6[_0x3ce5fc(0x693)][_0x3ce5fc(0x3e7)]&&(this[_0x3ce5fc(0x40d)]['verbose'](this[_0x3ce5fc(0x2c4)]+'\x20('+this[_0x3ce5fc(0x15d)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x3ce1b6[_0x3ce5fc(0x693)][_0x3ce5fc(0x3e7)]['bodyString']=JSON[_0x3ce5fc(0x533)](_0x3ce1b6[_0x3ce5fc(0x693)][_0x3ce5fc(0x3e7)][_0x3ce5fc(0x37b)],null,0x1)[_0x3ce5fc(0x5a1)]()),_0x5b0425[_0x3ce5fc(0x187)]['push'](_0x3ce1b6['block']),this[_0x3ce5fc(0x2de)](_0x5b0425[_0x3ce5fc(0x187)],_0x3ce1b6[_0x3ce5fc(0x693)]['groupId']);}[a0_0xe6bdb1(0x2de)](_0x1fad9b,_0x383a23){const _0x30f83b=a0_0xe6bdb1;let _0x3ef929=_0x1fad9b[_0x30f83b(0x47d)](_0x290620=>_0x290620[_0x30f83b(0x656)]===_0x383a23);_0x3ef929[_0x30f83b(0x597)]((_0x4e6636,_0x33136f)=>_0x4e6636[_0x30f83b(0x2aa)]-_0x33136f[_0x30f83b(0x2aa)]),_0x3ef929[_0x30f83b(0x19f)]((_0x4539f5,_0x1f9994)=>_0x4539f5['order']=_0x1f9994+0x1);}async[a0_0xe6bdb1(0x454)](_0x561896){const _0x540b47=a0_0xe6bdb1;try{if(this[_0x540b47(0x40d)][_0x540b47(0x641)](this[_0x540b47(0x2c4)]+'\x20('+this[_0x540b47(0x15d)][_0x540b47(0x660)]+_0x540b47(0x6e9)),!_0x561896||!_0x561896[_0x540b47(0x3c7)]){this[_0x540b47(0x545)](_0x540b47(0x29c));return;}let _0x34d5f1={'owner':this[_0x540b47(0x15d)][_0x540b47(0x660)],'name':_0x561896[_0x540b47(0x34d)]},_0x34950f=await I[_0x540b47(0x5d7)](_0x34d5f1);_0x34950f||this['throwAndLogError'](_0x540b47(0x464));let {replyOption:_0x590747}=_0x561896;return _0x590747?.[_0x540b47(0x526)]?this[_0x540b47(0x43c)](_0x34950f,_0x561896):_0x590747[_0x540b47(0x1f9)]?await this[_0x540b47(0x2db)](_0x34950f,_0x561896):this[_0x540b47(0x467)](_0x34950f,_0x561896),await _0x34950f[_0x540b47(0x4c5)](),_0x34950f;}catch(_0x233af2){this[_0x540b47(0x545)](_0x540b47(0x1dd)+_0x233af2);}}[a0_0xe6bdb1(0x43c)](_0x131b66,_0x355e13){const _0x2e9fb7=a0_0xe6bdb1;let {replyOption:_0x75949d}=_0x355e13;if(!_0x75949d[_0x2e9fb7(0x1f9)]){this['throwAndLogError'](_0x2e9fb7(0x4c3));return;}if(!_0x131b66['replyOptions']['find'](_0x2957f8=>_0x2957f8[_0x2e9fb7(0x1f9)][_0x2e9fb7(0x604)]()===_0x355e13[_0x2e9fb7(0x3c7)][_0x2e9fb7(0x1f9)][_0x2e9fb7(0x604)]())){this[_0x2e9fb7(0x545)](_0x2e9fb7(0x2f5)+_0x75949d[_0x2e9fb7(0x1f9)]+_0x2e9fb7(0x522));return;}_0x131b66[_0x2e9fb7(0x6ea)]=_0x131b66[_0x2e9fb7(0x6ea)]['filter'](_0x45928f=>_0x45928f[_0x2e9fb7(0x1f9)][_0x2e9fb7(0x604)]()!==_0x355e13[_0x2e9fb7(0x3c7)][_0x2e9fb7(0x1f9)][_0x2e9fb7(0x604)]());}async[a0_0xe6bdb1(0x2db)](_0x40c8c5,_0x5606b1){const _0x3ca68d=a0_0xe6bdb1;let _0x1260fa=_0x40c8c5[_0x3ca68d(0x6ea)][_0x3ca68d(0x714)](_0x589c0a=>_0x589c0a[_0x3ca68d(0x1f9)][_0x3ca68d(0x604)]()===_0x5606b1[_0x3ca68d(0x3c7)][_0x3ca68d(0x1f9)][_0x3ca68d(0x604)]());if(_0x1260fa===-0x1){this[_0x3ca68d(0x545)](_0x3ca68d(0x2f5)+_0x5606b1[_0x3ca68d(0x3c7)][_0x3ca68d(0x1f9)]+_0x3ca68d(0x243));return;}for(let _0x2fcd9b in _0x5606b1[_0x3ca68d(0x3c7)])_0x5606b1['replyOption'][_0x3ca68d(0x45d)](_0x2fcd9b)&&(_0x40c8c5[_0x3ca68d(0x6ea)][_0x1260fa][_0x2fcd9b]=_0x5606b1[_0x3ca68d(0x3c7)][_0x2fcd9b]);}['addReplyOption'](_0x1cbacf,_0x3fddec){const _0x37e6e0=a0_0xe6bdb1;_0x1cbacf[_0x37e6e0(0x6ea)][_0x37e6e0(0x367)](_0x3fddec[_0x37e6e0(0x3c7)]);}async[a0_0xe6bdb1(0x4f2)](_0x21773a){const _0x2b04b6=a0_0xe6bdb1;this[_0x2b04b6(0x40d)][_0x2b04b6(0x641)](this[_0x2b04b6(0x2c4)]+'\x20('+this[_0x2b04b6(0x15d)][_0x2b04b6(0x660)]+_0x2b04b6(0x3b9)+_0x21773a);try{this[_0x2b04b6(0x40d)][_0x2b04b6(0x641)](this[_0x2b04b6(0x2c4)]+'\x20('+this[_0x2b04b6(0x15d)][_0x2b04b6(0x660)]+_0x2b04b6(0x568));let _0x20d994={'owner':this[_0x2b04b6(0x15d)][_0x2b04b6(0x660)],'name':_0x21773a['name']},_0x2e0dcb=await I[_0x2b04b6(0x5d7)](_0x20d994);if(!_0x2e0dcb)throw new Error('Flow\x20não\x20encontrado');if(_0x21773a[_0x2b04b6(0x312)]&&_0x21773a['group']?.[_0x2b04b6(0x526)]===!0x0){if(this['logger'][_0x2b04b6(0x641)](this[_0x2b04b6(0x2c4)]+'\x20('+this[_0x2b04b6(0x15d)][_0x2b04b6(0x660)]+_0x2b04b6(0x6fe)),_0x21773a[_0x2b04b6(0x312)][_0x2b04b6(0x6cd)]===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x2e0dcb[_0x2b04b6(0x187)][_0x2b04b6(0x2c2)](_0x175a43=>_0x175a43[_0x2b04b6(0x656)][_0x2b04b6(0x604)]()===_0x21773a[_0x2b04b6(0x312)][_0x2b04b6(0x1f9)]))return this[_0x2b04b6(0x40d)][_0x2b04b6(0x641)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2b04b6(0x647)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x2e0dcb[_0x2b04b6(0x1ae)]=_0x2e0dcb['groups'][_0x2b04b6(0x47d)](_0x372417=>_0x372417[_0x2b04b6(0x1f9)]['toString']()!==_0x21773a[_0x2b04b6(0x312)]['_id']);}else{if(_0x21773a[_0x2b04b6(0x312)]){if(_0x21773a[_0x2b04b6(0x312)]['default']===!0x0)return{'message':_0x2b04b6(0x218)};if(_0x21773a[_0x2b04b6(0x312)][_0x2b04b6(0x1f9)]){let _0x497c34=_0x2e0dcb[_0x2b04b6(0x1ae)][_0x2b04b6(0x268)](_0x4282b0=>_0x4282b0[_0x2b04b6(0x1f9)]['toString']()===_0x21773a['group']['_id']);_0x497c34&&(_0x21773a[_0x2b04b6(0x312)]['x']<0x0&&(_0x21773a[_0x2b04b6(0x312)]['x']=0x0),_0x21773a[_0x2b04b6(0x312)]['y']<0x0&&(_0x21773a['group']['y']=0x0),Object[_0x2b04b6(0x15b)](_0x497c34,_0x21773a['group']));}else _0x2e0dcb[_0x2b04b6(0x1ae)]['push'](_0x21773a[_0x2b04b6(0x312)]);}}return await _0x2e0dcb[_0x2b04b6(0x4c5)](),_0x2e0dcb;}catch(_0x3c6d38){throw this[_0x2b04b6(0x40d)][_0x2b04b6(0x507)](this[_0x2b04b6(0x2c4)]+'\x20('+this['instance'][_0x2b04b6(0x660)]+_0x2b04b6(0x481)+JSON[_0x2b04b6(0x533)](_0x3c6d38,null,0x2)),new g(_0x2b04b6(0x2a3)+JSON[_0x2b04b6(0x533)](_0x3c6d38,null,0x2));}}async['editFlowCondition'](_0x5e04ae){const _0x553766=a0_0xe6bdb1;try{this[_0x553766(0x40d)][_0x553766(0x641)](this[_0x553766(0x2c4)]+'\x20('+this['instance'][_0x553766(0x660)]+_0x553766(0x5d3));let _0x2305f1={'owner':this[_0x553766(0x15d)][_0x553766(0x660)],'name':_0x5e04ae[_0x553766(0x34d)]},_0x2a1901=await I['findOne'](_0x2305f1);if(!_0x2a1901)throw new Error(_0x553766(0x464));let _0x3e18f1=!0x1;if(_0x5e04ae['condition']?.[_0x553766(0x526)]===!0x0)_0x2a1901['conditions']=_0x2a1901[_0x553766(0x300)]['filter'](_0x55e5f6=>_0x55e5f6&&_0x5e04ae[_0x553766(0x5a9)]&&_0x55e5f6[_0x553766(0x1f9)]&&_0x5e04ae[_0x553766(0x5a9)]['_id']&&_0x55e5f6[_0x553766(0x1f9)][_0x553766(0x604)]()!==_0x5e04ae[_0x553766(0x5a9)][_0x553766(0x1f9)]['toString']()),_0x3e18f1=!0x0;else{let _0x16657e=_0x2a1901[_0x553766(0x300)][_0x553766(0x268)](_0x4afb33=>_0x4afb33&&_0x5e04ae['condition']&&_0x4afb33['_id']&&_0x5e04ae['condition'][_0x553766(0x1f9)]&&_0x4afb33[_0x553766(0x1f9)][_0x553766(0x604)]()===_0x5e04ae[_0x553766(0x5a9)][_0x553766(0x1f9)][_0x553766(0x604)]());_0x16657e?(_0x3e18f1=_0x16657e[_0x553766(0x2aa)]!==_0x5e04ae['condition']['order'],Object[_0x553766(0x15b)](_0x16657e,_0x5e04ae[_0x553766(0x5a9)])):(_0x2a1901['conditions'][_0x553766(0x367)](_0x5e04ae['condition']),_0x3e18f1=!0x0);}if(_0x3e18f1){_0x2a1901[_0x553766(0x300)][_0x553766(0x597)]((_0x58aaa2,_0x455787)=>_0x58aaa2[_0x553766(0x2aa)]>_0x455787[_0x553766(0x2aa)]?0x1:_0x455787[_0x553766(0x2aa)]>_0x58aaa2[_0x553766(0x2aa)]?-0x1:0x0);for(let _0x1faa73=0x0;_0x1faa73<_0x2a1901[_0x553766(0x300)][_0x553766(0x5b9)];_0x1faa73++)_0x2a1901[_0x553766(0x300)][_0x1faa73][_0x553766(0x2aa)]=_0x1faa73+0x1;_0x2a1901['conditions'][_0x553766(0x5b9)]>0x0&&(_0x2a1901[_0x553766(0x300)][0x0][_0x553766(0x5a2)]=_0x553766(0x489));}return await _0x2a1901[_0x553766(0x4c5)](),_0x2a1901;}catch(_0x325325){throw this[_0x553766(0x40d)][_0x553766(0x507)](this[_0x553766(0x2c4)]+'\x20('+this[_0x553766(0x15d)]['wuid']+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+JSON[_0x553766(0x533)](_0x325325,null,0x2)),new Error('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+_0x325325);}}async[a0_0xe6bdb1(0x206)](_0x306532){const _0xce8c2d=a0_0xe6bdb1;try{this['logger']['verbose'](this[_0xce8c2d(0x2c4)]+'\x20('+this[_0xce8c2d(0x15d)][_0xce8c2d(0x660)]+'):\x20Editando\x20edição\x20do\x20fluxo...');let _0x589115={'owner':this[_0xce8c2d(0x15d)][_0xce8c2d(0x660)],'name':_0x306532['name']},_0x222cf5=await I[_0xce8c2d(0x5d7)](_0x589115);if(!_0x222cf5)throw new Error(_0xce8c2d(0x464));let _0x3c63d8=!0x1;if(_0x306532['varedit']?.['delete']===!0x0)_0x222cf5[_0xce8c2d(0x269)]=_0x222cf5[_0xce8c2d(0x269)][_0xce8c2d(0x47d)](_0x1eddf9=>_0x1eddf9&&_0x306532[_0xce8c2d(0x286)]&&_0x1eddf9[_0xce8c2d(0x1f9)]&&_0x306532[_0xce8c2d(0x286)][_0xce8c2d(0x1f9)]&&_0x1eddf9[_0xce8c2d(0x1f9)][_0xce8c2d(0x604)]()!==_0x306532[_0xce8c2d(0x286)]['_id'][_0xce8c2d(0x604)]()),_0x3c63d8=!0x0;else{let _0x20aa4f=_0x222cf5[_0xce8c2d(0x269)]['find'](_0xd3b09=>_0xd3b09&&_0x306532[_0xce8c2d(0x286)]&&_0xd3b09[_0xce8c2d(0x1f9)]&&_0x306532[_0xce8c2d(0x286)][_0xce8c2d(0x1f9)]&&_0xd3b09[_0xce8c2d(0x1f9)]['toString']()===_0x306532[_0xce8c2d(0x286)]['_id'][_0xce8c2d(0x604)]());_0x20aa4f?(_0x3c63d8=_0x20aa4f[_0xce8c2d(0x2aa)]!==_0x306532[_0xce8c2d(0x286)][_0xce8c2d(0x2aa)],Object[_0xce8c2d(0x15b)](_0x20aa4f,_0x306532['varedit'])):(_0x222cf5[_0xce8c2d(0x269)][_0xce8c2d(0x367)](_0x306532['varedit']),_0x3c63d8=!0x0);}if(_0x3c63d8){_0x222cf5['varedits'][_0xce8c2d(0x597)]((_0x43c4de,_0x31be00)=>_0x43c4de[_0xce8c2d(0x2aa)]>_0x31be00['order']?0x1:_0x31be00['order']>_0x43c4de[_0xce8c2d(0x2aa)]?-0x1:0x0);for(let _0x353cfb=0x0;_0x353cfb<_0x222cf5['varedits'][_0xce8c2d(0x5b9)];_0x353cfb++)_0x222cf5['varedits'][_0x353cfb][_0xce8c2d(0x2aa)]=_0x353cfb+0x1;}return await _0x222cf5[_0xce8c2d(0x4c5)](),_0x222cf5;}catch(_0xa356d4){throw this[_0xce8c2d(0x40d)]['error'](this[_0xce8c2d(0x2c4)]+'\x20('+this[_0xce8c2d(0x15d)]['wuid']+_0xce8c2d(0x622)+JSON['stringify'](_0xa356d4,null,0x2)),new g(_0xce8c2d(0x5ec)+_0xa356d4);}}async['editFlowVariable'](_0x2f8dc4){const _0x52eda3=a0_0xe6bdb1;try{this[_0x52eda3(0x40d)][_0x52eda3(0x641)](this['instanceName']+'\x20('+this[_0x52eda3(0x15d)]['wuid']+_0x52eda3(0x4f5));let _0x5c594b={'owner':this['instance']['wuid'],'name':_0x2f8dc4[_0x52eda3(0x34d)]},_0x208cd2=await I[_0x52eda3(0x5d7)](_0x5c594b);if(!_0x208cd2)throw new Error('Flow\x20não\x20encontrado');_0x2f8dc4[_0x52eda3(0x1bc)]['name']=_0x2f8dc4['variable'][_0x52eda3(0x34d)][_0x52eda3(0x5a1)](),_0x2f8dc4[_0x52eda3(0x1bc)][_0x52eda3(0x34d)][_0x52eda3(0x6c5)]('_')&&(_0x2f8dc4[_0x52eda3(0x1bc)][_0x52eda3(0x34d)]=_0x2f8dc4[_0x52eda3(0x1bc)][_0x52eda3(0x34d)][_0x52eda3(0x2bc)](0x1)),_0x2f8dc4[_0x52eda3(0x1bc)]['name']=_0x2f8dc4[_0x52eda3(0x1bc)][_0x52eda3(0x34d)][_0x52eda3(0x5a1)]();let _0x2773bb=_0x208cd2[_0x52eda3(0x171)][_0x52eda3(0x268)](_0x4f579f=>_0x4f579f['name']===_0x2f8dc4[_0x52eda3(0x1bc)][_0x52eda3(0x34d)]);if(_0x2773bb?.[_0x52eda3(0x3bd)]===!0x0)throw new Error(_0x52eda3(0x3c8));if(_0x2f8dc4['variable']?.[_0x52eda3(0x526)]===!0x0){if(!_0x2773bb)return{'message':_0x52eda3(0x62b)};_0x208cd2[_0x52eda3(0x171)]=_0x208cd2[_0x52eda3(0x171)][_0x52eda3(0x47d)](_0x2e1393=>_0x2e1393[_0x52eda3(0x34d)]!==_0x2f8dc4[_0x52eda3(0x1bc)][_0x52eda3(0x34d)]);}else _0x2773bb?Object['assign'](_0x2773bb,_0x2f8dc4[_0x52eda3(0x1bc)]):_0x208cd2[_0x52eda3(0x171)]['push'](_0x2f8dc4[_0x52eda3(0x1bc)]);return await _0x208cd2[_0x52eda3(0x4c5)](),_0x208cd2;}catch(_0x5a3e54){throw this[_0x52eda3(0x40d)][_0x52eda3(0x507)](this[_0x52eda3(0x2c4)]+'\x20('+this[_0x52eda3(0x15d)]['wuid']+_0x52eda3(0x3b7)+JSON[_0x52eda3(0x533)](_0x5a3e54,null,0x2)),new g(_0x52eda3(0x38f)+JSON[_0x52eda3(0x533)](_0x5a3e54,null,0x2));}}async[a0_0xe6bdb1(0x58f)](_0x47fa25){const _0x41cdc2=a0_0xe6bdb1;let _0x1c77b1=null;try{if(!this[_0x41cdc2(0x1c7)]?.[_0x41cdc2(0x24f)][_0x41cdc2(0x645)])throw new g(_0x41cdc2(0x67c));this[_0x41cdc2(0x40d)]['verbose'](this[_0x41cdc2(0x2c4)]+'\x20('+this['instance']['wuid']+'):\x20Iniciando\x20bot...');let _0x4b82c4=(await this[_0x41cdc2(0x24b)]({'numbers':[_0x47fa25[_0x41cdc2(0x267)]]}))[0x0];if(!_0x4b82c4[_0x41cdc2(0x62f)]&&!(0x0,w[_0x41cdc2(0x549)])(_0x4b82c4[_0x41cdc2(0x585)])&&!_0x4b82c4['jid'][_0x41cdc2(0x30a)](_0x41cdc2(0x49b)))throw _0x1c77b1=JSON[_0x41cdc2(0x533)](_0x4b82c4,null,0x2),new g(_0x4b82c4);let _0x368158=await I[_0x41cdc2(0x5d7)]({'owner':this[_0x41cdc2(0x15d)][_0x41cdc2(0x660)],'name':_0x47fa25[_0x41cdc2(0x34d)]});if(!_0x368158)return this['logger'][_0x41cdc2(0x507)](this[_0x41cdc2(0x2c4)]+'\x20('+this[_0x41cdc2(0x15d)]['wuid']+_0x41cdc2(0x54e)),{'message':'Flow\x20não\x20encontrado'};let _0x1ba4ea=await this[_0x41cdc2(0x1c4)](_0x368158,_0x4b82c4[_0x41cdc2(0x585)],_0x47fa25[_0x41cdc2(0x3a5)]);if(_0x1ba4ea){this[_0x41cdc2(0x40d)][_0x41cdc2(0x641)](this[_0x41cdc2(0x2c4)]+'\x20('+this['instance'][_0x41cdc2(0x660)]+_0x41cdc2(0x5ac));let _0x205ee3=await this[_0x41cdc2(0x31d)](_0x1ba4ea);return _0x205ee3&&await this['processblock'](_0x1ba4ea,_0x205ee3,_0x1ba4ea['remoteJid']),{'message':_0x41cdc2(0x37d)+_0x47fa25[_0x41cdc2(0x267)]};}}catch(_0x40a6e7){if(this[_0x41cdc2(0x40d)][_0x41cdc2(0x507)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x41cdc2(0x366)+JSON[_0x41cdc2(0x533)](_0x40a6e7,null,0x2)),_0x1c77b1=JSON[_0x41cdc2(0x533)](_0x40a6e7,null,0x2),_0x1c77b1)throw new g('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x1c77b1);}}async[a0_0xe6bdb1(0x36a)](_0x1324c8){const _0x35049b=a0_0xe6bdb1;let _0x30b117=await j[_0x35049b(0x4a9)]({'owner':this[_0x35049b(0x15d)]['wuid'],'remoteJid':_0x1324c8,'status':'open'},{'$set':{'status':_0x35049b(0x413)}});return this[_0x35049b(0x40d)][_0x35049b(0x641)](this['instanceName']+'\x20('+this[_0x35049b(0x15d)][_0x35049b(0x660)]+_0x35049b(0x6bd)),_0x30b117;}async[a0_0xe6bdb1(0x1c4)](_0x45d890,_0x3d91d0,_0x2066d9){const _0x27b42c=a0_0xe6bdb1;this['logger']['verbose'](this[_0x27b42c(0x2c4)]+'\x20('+this[_0x27b42c(0x15d)][_0x27b42c(0x660)]+_0x27b42c(0x49e)),await this['closeExistingConversations'](_0x3d91d0);try{let _0x5403cd=require('mongodb')[_0x27b42c(0x532)],_0x48f10b=Date[_0x27b42c(0x33e)](),_0x269ff6=_0x27b42c(0x231),_0xa3f967={},_0x5dd95f={},_0x911fc2={..._0x45d890['_doc'],'chatLog':null},_0x4e13b5=await this['variablesToObject'](_0x911fc2['variables']),_0x229aa3=await this['getVariablesChat'](_0x3d91d0),_0x1190ca={..._0x4e13b5,..._0x229aa3,'_remoteJid':_0x3d91d0},_0x2bf293={'lastReceivedMessage':_0xa3f967,'lastSendMessage':_0x5dd95f,'lastBlockId':_0x269ff6,'lastCondition':!0x0,'realVariables':_0x1190ca};_0x911fc2[_0x27b42c(0x514)]=_0x2bf293,_0x911fc2[_0x27b42c(0x514)]['realVariables']={..._0x1190ca,..._0x2066d9},delete _0x911fc2[_0x27b42c(0x1f9)],_0x911fc2[_0x27b42c(0x1f9)]=new _0x5403cd(),_0x911fc2[_0x27b42c(0x5a3)]=_0x48f10b,_0x911fc2[_0x27b42c(0x453)]='open',_0x911fc2[_0x27b42c(0x267)]=_0x3d91d0;let _0x1244b3=await j['create'](_0x911fc2);return this[_0x27b42c(0x40d)][_0x27b42c(0x641)](this['instanceName']+'\x20('+this[_0x27b42c(0x15d)]['wuid']+_0x27b42c(0x661)),_0x1244b3?_0x911fc2:null;}catch(_0x4cb462){throw this[_0x27b42c(0x40d)][_0x27b42c(0x507)](this['instanceName']+'\x20('+this[_0x27b42c(0x15d)][_0x27b42c(0x660)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+JSON[_0x27b42c(0x533)](_0x4cb462,null,0x2)),new g(_0x4cb462['message']);}}async[a0_0xe6bdb1(0x349)](_0x4ee5a9){const _0x317800=a0_0xe6bdb1;try{return this[_0x317800(0x40d)][_0x317800(0x641)](this[_0x317800(0x2c4)]+'\x20('+this[_0x317800(0x15d)][_0x317800(0x660)]+_0x317800(0x480)),this[_0x317800(0x40d)][_0x317800(0x641)](this[_0x317800(0x2c4)]+'\x20('+this[_0x317800(0x15d)]['wuid']+_0x317800(0x6c1)+{'owner':this['instance'][_0x317800(0x660)],'_id':_0x4ee5a9}),await j[_0x317800(0x5d7)]({'owner':this[_0x317800(0x15d)][_0x317800(0x660)],'_id':_0x4ee5a9});}catch(_0x64155f){throw this[_0x317800(0x40d)][_0x317800(0x507)](this[_0x317800(0x2c4)]+'\x20('+this['instance'][_0x317800(0x660)]+_0x317800(0x1ad)+JSON['stringify'](_0x64155f,null,0x2)),new g(_0x317800(0x25b)+_0x64155f[_0x317800(0x600)]);}}async[a0_0xe6bdb1(0x651)](_0x48c7ac,_0x579cc6=0x64){const _0x19b8c6=a0_0xe6bdb1;try{this[_0x19b8c6(0x40d)][_0x19b8c6(0x641)](this[_0x19b8c6(0x2c4)]+'\x20('+this['instance'][_0x19b8c6(0x660)]+_0x19b8c6(0x377));let _0x36ae89={..._0x48c7ac,'owner':this[_0x19b8c6(0x15d)][_0x19b8c6(0x660)]};return this[_0x19b8c6(0x40d)][_0x19b8c6(0x641)](_0x36ae89),await j[_0x19b8c6(0x268)](_0x36ae89)['limit'](_0x579cc6)[_0x19b8c6(0x597)]({'lastInteraction':-0x1});}catch(_0x47ed86){throw this[_0x19b8c6(0x40d)]['error'](this[_0x19b8c6(0x2c4)]+'\x20('+this[_0x19b8c6(0x15d)][_0x19b8c6(0x660)]+'):\x20Erro\x20ao\x20buscar\x20conversas\x20'+JSON[_0x19b8c6(0x533)](_0x47ed86,null,0x2)),new g(_0x19b8c6(0x1aa)+_0x47ed86['message']);}}async[a0_0xe6bdb1(0x21c)](_0x47bdc9){const _0x4250c8=a0_0xe6bdb1;try{return this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x4250c8(0x660)]+_0x4250c8(0x63b)),this[_0x4250c8(0x40d)]['verbose'](this[_0x4250c8(0x2c4)]+'\x20('+this[_0x4250c8(0x15d)][_0x4250c8(0x660)]+'):\x20Query\x20params:'+{'owner':this[_0x4250c8(0x15d)][_0x4250c8(0x660)],'_id':_0x47bdc9}),(await j[_0x4250c8(0x2e4)]({'owner':this[_0x4250c8(0x15d)][_0x4250c8(0x660)],'_id':_0x47bdc9}))[_0x4250c8(0x183)]===0x0?{'message':_0x4250c8(0x153)}:{'message':_0x4250c8(0x52e)};}catch(_0x3e10c7){throw this['logger'][_0x4250c8(0x507)](this[_0x4250c8(0x2c4)]+'\x20('+this[_0x4250c8(0x15d)][_0x4250c8(0x660)]+_0x4250c8(0x572)+JSON[_0x4250c8(0x533)](_0x3e10c7,null,0x2)),new g(_0x4250c8(0x51e)+_0x3e10c7[_0x4250c8(0x600)]);}}async['editConversation'](_0x4ef016){const _0xd966dc=a0_0xe6bdb1;try{let {_id:_0x280955,chatLog:_0x2366f7,status:_0x4529f8}=_0x4ef016;if(!_0x280955)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0x192b18={};if(_0x4529f8!==void 0x0&&(_0x192b18['status']=_0x4529f8),Object[_0xd966dc(0x55c)](_0x192b18)[_0xd966dc(0x5b9)]===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x34990d=this['instance'][_0xd966dc(0x660)],_0x2db5f4=await j[_0xd966dc(0x67b)]({'_id':_0x280955,'owner':_0x34990d},{'$set':_0x192b18},{'new':!0x0});return _0x2db5f4||{'message':_0xd966dc(0x42e)};}catch(_0x5c05fe){throw this[_0xd966dc(0x40d)][_0xd966dc(0x507)](this['instanceName']+'\x20('+this['instance'][_0xd966dc(0x660)]+_0xd966dc(0x14d)+JSON[_0xd966dc(0x533)](_0x5c05fe,null,0x2)),new g(_0xd966dc(0x207)+_0x5c05fe[_0xd966dc(0x600)]);}}async[a0_0xe6bdb1(0x3e4)](_0x383390){const _0x457457=a0_0xe6bdb1;try{_0x383390[_0x457457(0x1f9)]=this['createJid'](_0x383390[_0x457457(0x1f9)]);let {_id:_0x12a49d,leadInfo:_0x436454}=_0x383390;if(!_0x12a49d)throw new Error(_0x457457(0x324));let _0x4c4ca8=(_0x195f4e,_0x4daf5b,_0x188854)=>{const _0x3d66c5=_0x457457;_0x188854[_0x3d66c5(0x19f)](_0x94697e=>{_0x195f4e[_0x94697e]!==void 0x0&&(_0x4daf5b['leadInfo.'+_0x94697e]=_0x195f4e[_0x94697e]);});},_0x3b48c8={};if(_0x4c4ca8(_0x436454,_0x3b48c8,[_0x457457(0x662),'nomecompleto',_0x457457(0x4ed),_0x457457(0x2ed),_0x457457(0x453),'notas',_0x457457(0x189),_0x457457(0x330),_0x457457(0x52a)]),Array[_0x457457(0x290)](_0x436454['customFields'])&&(_0x3b48c8['leadInfo.customFields']=_0x436454['customFields'][_0x457457(0x538)](_0x4dade4=>({'_id':_0x4dade4['_id'],'value':_0x4dade4[_0x457457(0x344)]}))),_0x383390[_0x457457(0x3bd)]['desativadoFluxoAte']!==void 0x0&&(_0x3b48c8[_0x457457(0x478)]=Number(_0x383390['leadInfo'][_0x457457(0x64f)])),_0x383390[_0x457457(0x3d0)]!==void 0x0&&(_0x3b48c8[_0x457457(0x3d0)]=Number(_0x383390['unreadcount'])),Object[_0x457457(0x55c)](_0x3b48c8)[_0x457457(0x5b9)]===0x0)throw new Error(_0x457457(0x307));let _0x4d08c2=this[_0x457457(0x15d)][_0x457457(0x660)];if(!_0x4d08c2)throw new Error(_0x457457(0x25d));if(!await this[_0x457457(0x217)][_0x457457(0x497)][_0x457457(0x5d7)]({'where':{'_id':_0x383390[_0x457457(0x1f9)],'owner':_0x4d08c2}})){let _0x193d50=(await this[_0x457457(0x24b)]({'numbers':[_0x383390[_0x457457(0x1f9)]]}))[0x0];if(!_0x193d50[_0x457457(0x62f)]&&!(0x0,w[_0x457457(0x549)])(_0x193d50['jid'])&&!_0x193d50[_0x457457(0x585)][_0x457457(0x30a)](_0x457457(0x49b)))throw new g(_0x193d50);_0x383390[_0x457457(0x1f9)]=_0x193d50[_0x457457(0x585)];}let _0x5ebbef=await this['repository'][_0x457457(0x497)][_0x457457(0x235)]({'where':{'_id':_0x383390[_0x457457(0x1f9)],'owner':_0x4d08c2}},_0x3b48c8);return _0x5ebbef&&B(this['instanceName'],_0x457457(0x21f),{'chat':_0x5ebbef}),_0x5ebbef?(this['logger'][_0x457457(0x641)](this[_0x457457(0x2c4)]+'\x20('+this[_0x457457(0x15d)][_0x457457(0x660)]+_0x457457(0x5f9)+_0x5ebbef),_0x5ebbef):{'message':_0x457457(0x509)};}catch(_0x323de4){throw this[_0x457457(0x40d)][_0x457457(0x507)](this[_0x457457(0x2c4)]+'\x20('+this[_0x457457(0x15d)][_0x457457(0x660)]+_0x457457(0x350)+JSON['stringify'](_0x323de4,null,0x2)),new g(_0x457457(0x6d0)+_0x323de4['message']);}}async[a0_0xe6bdb1(0x1db)](_0x5cb22b){const _0x1ed867=a0_0xe6bdb1;let _0x4d3786=this[_0x1ed867(0x15d)]['wuid'];try{let _0x5bcfcf=await ae[_0x1ed867(0x216)](_0x4d3786);_0x5bcfcf||(_0x5bcfcf=new ae({'_id':_0x4d3786}),await _0x5bcfcf[_0x1ed867(0x4c5)]());let _0x17120c=_0x5cb22b[_0x1ed867(0x1f9)]?_0x5bcfcf['agents'][_0x1ed867(0x714)](_0x2aadcd=>_0x2aadcd[_0x1ed867(0x1f9)]===_0x5cb22b['_id']):-0x1;if(_0x5cb22b[_0x1ed867(0x526)]&&_0x17120c>-0x1)_0x5bcfcf['agents'][_0x1ed867(0x607)](_0x17120c,0x1);else{if(_0x17120c>-0x1){let _0x1ec29f=_0x5bcfcf[_0x1ed867(0x4b7)][_0x17120c];_0x5cb22b[_0x1ed867(0x1b4)]&&(_0x1ec29f['fone']=_0x5cb22b[_0x1ed867(0x1b4)]),_0x5cb22b[_0x1ed867(0x34d)]&&(_0x1ec29f['name']=_0x5cb22b[_0x1ed867(0x34d)]),_0x5cb22b[_0x1ed867(0x4ed)]&&(_0x1ec29f[_0x1ed867(0x4ed)]=_0x5cb22b[_0x1ed867(0x4ed)]),_0x5cb22b[_0x1ed867(0x46b)]&&(_0x1ec29f[_0x1ed867(0x46b)]=_0x5cb22b['role']);}else _0x5bcfcf[_0x1ed867(0x4b7)][_0x1ed867(0x367)]({'_id':_0x5cb22b[_0x1ed867(0x1f9)]||new pe[(_0x1ed867(0x6cd))][(_0x1ed867(0x1a6))][(_0x1ed867(0x532))]()[_0x1ed867(0x604)](),'fone':_0x5cb22b['fone'],'name':_0x5cb22b['name'],'email':_0x5cb22b['email'],'role':_0x5cb22b[_0x1ed867(0x46b)]});}let _0x39d7cc=await _0x5bcfcf[_0x1ed867(0x4c5)]();return this[_0x1ed867(0x1c7)]=_0x39d7cc,this[_0x1ed867(0x40d)]['verbose'](this['instanceName']+'\x20('+this[_0x1ed867(0x15d)][_0x1ed867(0x660)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x1ed867(0x40d)][_0x1ed867(0x641)](this[_0x1ed867(0x2c4)]+'\x20('+this[_0x1ed867(0x15d)]['wuid']+_0x1ed867(0x5f9)+this[_0x1ed867(0x1c7)]),_0x39d7cc;}catch(_0x50f665){throw this[_0x1ed867(0x40d)][_0x1ed867(0x507)](this[_0x1ed867(0x2c4)]+'\x20('+this['instance'][_0x1ed867(0x660)]+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+JSON['stringify'](_0x50f665,null,0x2)),new g('Erro\x20ao\x20editar\x20agentes:\x20'+_0x50f665[_0x1ed867(0x600)]);}}async[a0_0xe6bdb1(0x6a4)](_0x3094ed){const _0x3e2f5d=a0_0xe6bdb1;let _0xc8255d=this[_0x3e2f5d(0x15d)][_0x3e2f5d(0x660)];try{let _0x19590f=await ae['findById'](_0xc8255d);_0x19590f||(_0x19590f=new ae({'_id':_0xc8255d}),await _0x19590f[_0x3e2f5d(0x4c5)]());let _0x5cc36d=_0x3094ed[_0x3e2f5d(0x1f9)]?_0x19590f[_0x3e2f5d(0x3ad)][_0x3e2f5d(0x714)](_0xd48ae8=>_0xd48ae8['_id']===_0x3094ed['_id']):-0x1,_0x392eac=!0x1,_0x957527=_0x19590f[_0x3e2f5d(0x3ad)][_0x3e2f5d(0x2c2)](_0xe65cac=>_0xe65cac[_0x3e2f5d(0x2aa)]===_0x3094ed[_0x3e2f5d(0x2aa)]);if(_0x3094ed[_0x3e2f5d(0x526)]&&_0x5cc36d>-0x1)_0x19590f[_0x3e2f5d(0x3ad)][_0x3e2f5d(0x607)](_0x5cc36d,0x1),_0x392eac=!0x0;else{if(_0x5cc36d>-0x1){if(_0x19590f['customFields'][_0x3e2f5d(0x2c2)](_0x419811=>_0x419811[_0x3e2f5d(0x34d)]===_0x3094ed[_0x3e2f5d(0x34d)]&&_0x419811['_id']!==_0x3094ed['_id']))throw new Error(_0x3e2f5d(0x510));let _0x400126=_0x19590f[_0x3e2f5d(0x3ad)][_0x5cc36d];_0x3094ed['order']&&(_0x957527||!Number[_0x3e2f5d(0x1f3)](_0x3094ed['order']))&&(_0x400126[_0x3e2f5d(0x2aa)]=_0x3094ed[_0x3e2f5d(0x2aa)],_0x392eac=!0x0),_0x3094ed[_0x3e2f5d(0x34d)]&&(_0x400126[_0x3e2f5d(0x34d)]=_0x3094ed[_0x3e2f5d(0x34d)]);}else{if(_0x19590f[_0x3e2f5d(0x3ad)][_0x3e2f5d(0x2c2)](_0xa7b301=>_0xa7b301[_0x3e2f5d(0x34d)]===_0x3094ed[_0x3e2f5d(0x34d)]&&_0xa7b301['_id']!==_0x3094ed[_0x3e2f5d(0x1f9)]))throw new Error(_0x3e2f5d(0x510));_0x19590f[_0x3e2f5d(0x3ad)][_0x3e2f5d(0x367)]({'_id':_0x3094ed[_0x3e2f5d(0x1f9)]||new pe[(_0x3e2f5d(0x6cd))]['Types'][(_0x3e2f5d(0x532))]()[_0x3e2f5d(0x604)](),'order':_0x3094ed[_0x3e2f5d(0x2aa)],'name':_0x3094ed[_0x3e2f5d(0x34d)]}),_0x392eac=!0x0;}}if(_0x392eac){_0x19590f['customFields']['sort']((_0x321d44,_0x25ab7d)=>_0x321d44[_0x3e2f5d(0x2aa)]>_0x25ab7d[_0x3e2f5d(0x2aa)]?0x1:_0x25ab7d[_0x3e2f5d(0x2aa)]>_0x321d44[_0x3e2f5d(0x2aa)]?-0x1:0x0);for(let _0x3e64a5=0x0;_0x3e64a5<_0x19590f['customFields']['length'];_0x3e64a5++)_0x19590f[_0x3e2f5d(0x3ad)][_0x3e64a5][_0x3e2f5d(0x2aa)]=_0x3e64a5+0x1;}let _0x5b5630=await _0x19590f[_0x3e2f5d(0x4c5)]();return this['AutomateSystem']=_0x5b5630,this[_0x3e2f5d(0x40d)][_0x3e2f5d(0x641)](this['instanceName']+'\x20('+this[_0x3e2f5d(0x15d)][_0x3e2f5d(0x660)]+_0x3e2f5d(0x252)),this[_0x3e2f5d(0x40d)]['verbose'](this[_0x3e2f5d(0x2c4)]+'\x20('+this[_0x3e2f5d(0x15d)]['wuid']+_0x3e2f5d(0x5f9)+this['AutomateSystem']),_0x5b5630;}catch(_0x5cb1fa){throw this[_0x3e2f5d(0x40d)][_0x3e2f5d(0x507)](this[_0x3e2f5d(0x2c4)]+'\x20('+this['instance'][_0x3e2f5d(0x660)]+'):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+JSON[_0x3e2f5d(0x533)](_0x5cb1fa,null,0x2)),new g(_0x3e2f5d(0x416)+_0x5cb1fa[_0x3e2f5d(0x600)]);}}async[a0_0xe6bdb1(0x5da)](_0x5953af){const _0x3cd325=a0_0xe6bdb1;let _0x65ee44=this[_0x3cd325(0x15d)]['wuid'];try{let _0x1f6f6e=await ae[_0x3cd325(0x216)](_0x65ee44);_0x1f6f6e||(_0x1f6f6e=new ae({'_id':_0x65ee44}),await _0x1f6f6e[_0x3cd325(0x4c5)]()),_0x1f6f6e[_0x3cd325(0x24f)][_0x3cd325(0x645)]=_0x5953af?.[_0x3cd325(0x645)]!==void 0x0?_0x5953af?.[_0x3cd325(0x645)]:_0x1f6f6e[_0x3cd325(0x24f)]['enabled'],_0x1f6f6e[_0x3cd325(0x24f)]['ignoreGroups']=_0x5953af?.[_0x3cd325(0x71a)]!==void 0x0?_0x5953af?.[_0x3cd325(0x71a)]:_0x1f6f6e[_0x3cd325(0x24f)][_0x3cd325(0x71a)],_0x1f6f6e['flowConfig'][_0x3cd325(0x4a4)]=_0x5953af?.[_0x3cd325(0x4a4)]??_0x1f6f6e['flowConfig'][_0x3cd325(0x4a4)],_0x1f6f6e[_0x3cd325(0x24f)][_0x3cd325(0x4c8)]=_0x5953af?.[_0x3cd325(0x4c8)]??_0x1f6f6e['flowConfig'][_0x3cd325(0x4c8)],_0x1f6f6e[_0x3cd325(0x24f)]['stopMinutes']=_0x5953af?.[_0x3cd325(0x50d)]??_0x1f6f6e[_0x3cd325(0x24f)][_0x3cd325(0x50d)];let _0x495670=await _0x1f6f6e[_0x3cd325(0x4c5)]();return this[_0x3cd325(0x1c7)]=_0x495670,this[_0x3cd325(0x40d)]['verbose'](this[_0x3cd325(0x2c4)]+'\x20('+this[_0x3cd325(0x15d)][_0x3cd325(0x660)]+_0x3cd325(0x705)),this[_0x3cd325(0x40d)][_0x3cd325(0x641)](this[_0x3cd325(0x2c4)]+'\x20('+this[_0x3cd325(0x15d)]['wuid']+_0x3cd325(0x5f9)+this[_0x3cd325(0x1c7)]),setTimeout(()=>this[_0x3cd325(0x5b7)](),0x7d0),_0x495670;}catch(_0x2165a4){throw this[_0x3cd325(0x40d)][_0x3cd325(0x507)](this[_0x3cd325(0x2c4)]+'\x20('+this[_0x3cd325(0x15d)]['wuid']+_0x3cd325(0x70f)+JSON[_0x3cd325(0x533)](_0x2165a4,null,0x2)),new g(_0x3cd325(0x1ff)+_0x2165a4['message']);}}async[a0_0xe6bdb1(0x382)](){const _0x4375a0=a0_0xe6bdb1;let _0x4fd9ce=this[_0x4375a0(0x15d)]['wuid'];try{let _0x301a5b=await ae[_0x4375a0(0x216)](_0x4fd9ce);return _0x301a5b||(_0x301a5b=new ae({'_id':_0x4fd9ce})),_0x301a5b[_0x4375a0(0x24f)]=_0x301a5b[_0x4375a0(0x24f)]||{},_0x301a5b[_0x4375a0(0x24f)][_0x4375a0(0x645)]===void 0x0&&(_0x301a5b[_0x4375a0(0x24f)][_0x4375a0(0x645)]=!0x1),_0x301a5b['flowConfig'][_0x4375a0(0x71a)]===void 0x0&&(_0x301a5b['flowConfig'][_0x4375a0(0x71a)]=!0x0),_0x301a5b['flowConfig'][_0x4375a0(0x4a4)]===void 0x0&&(_0x301a5b['flowConfig'][_0x4375a0(0x4a4)]='!'),_0x301a5b[_0x4375a0(0x24f)][_0x4375a0(0x4c8)]===void 0x0&&(_0x301a5b[_0x4375a0(0x24f)][_0x4375a0(0x4c8)]='!stop'),_0x301a5b['flowConfig'][_0x4375a0(0x50d)]===void 0x0&&(_0x301a5b['flowConfig'][_0x4375a0(0x50d)]=0x14),await _0x301a5b['save'](),this[_0x4375a0(0x1c7)]=_0x301a5b,this[_0x4375a0(0x40d)][_0x4375a0(0x641)](this[_0x4375a0(0x2c4)]+'\x20('+this[_0x4375a0(0x15d)][_0x4375a0(0x660)]+'):\x20Visualizando\x20AutomateSystem'),this[_0x4375a0(0x40d)]['verbose'](this[_0x4375a0(0x1c7)]),_0x301a5b;}catch(_0x107d9e){throw this[_0x4375a0(0x40d)][_0x4375a0(0x507)](this[_0x4375a0(0x2c4)]+'\x20('+this['instance'][_0x4375a0(0x660)]+_0x4375a0(0x2fa)+JSON[_0x4375a0(0x533)](_0x107d9e,null,0x2)),new g(_0x4375a0(0x5e6)+_0x107d9e['message']);}}async['setRestartTimer'](){const _0x24ae1f=a0_0xe6bdb1;this[_0x24ae1f(0x296)]&&clearTimeout(this['timerId']),this[_0x24ae1f(0x296)]=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0xe6bdb1(0x5d8)](){const _0x3712d4=a0_0xe6bdb1;Date['now']()-this[_0x3712d4(0x193)]>=0x1d4c0&&(this[_0x3712d4(0x40d)][_0x3712d4(0x641)](this['instanceName']+'\x20('+this[_0x3712d4(0x15d)]['wuid']+_0x3712d4(0x326)),this['processingScheduleMessageId']=null,this[_0x3712d4(0x193)]=0x0,this[_0x3712d4(0x689)]=0x0,await this['scheduleNextCheck']());}async['scheduleNextCheck'](){const _0x3e797e=a0_0xe6bdb1;let _0x158eca=()=>{const _0x385f73=a0_0x487d;this[_0x385f73(0x40d)][_0x385f73(0x641)](this[_0x385f73(0x2c4)]+'\x20('+this[_0x385f73(0x15d)][_0x385f73(0x660)]+_0x385f73(0x242)+this[_0x385f73(0x3e5)]+_0x385f73(0x4d0));},_0x6f2d32=async()=>{const _0x5849fa=a0_0x487d;this[_0x5849fa(0x40d)][_0x5849fa(0x641)](this[_0x5849fa(0x2c4)]+'\x20('+this[_0x5849fa(0x15d)][_0x5849fa(0x660)]+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x2a05f8=Date[_0x5849fa(0x33e)]()-0xc*0x3c*0x3c*0x3e8;return await U[_0x5849fa(0x268)]({'owner':this[_0x5849fa(0x15d)][_0x5849fa(0x660)],'status':{'$in':[_0x5849fa(0x727),_0x5849fa(0x162)]},'$or':[{'when':{'$lte':Date[_0x5849fa(0x33e)](),'$gte':_0x2a05f8}},{'when':0x0}]});},_0x24f86e=async _0x537ef9=>{const _0x5e113a=a0_0x487d;for(let _0xee016b of _0x537ef9){if(!await U['findOneAndUpdate']({'_id':_0xee016b[_0x5e113a(0x1f9)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-0x1770}}]},{'$set':{'startSend':Date[_0x5e113a(0x33e)]()}}))return;if(!this[_0x5e113a(0x49c)]){this[_0x5e113a(0x40d)][_0x5e113a(0x641)](this[_0x5e113a(0x2c4)]+'\x20('+this['instance']['wuid']+_0x5e113a(0x6ff));break;}if(_0xee016b['type']===_0x5e113a(0x551)&&!this['AutomateSystem']?.[_0x5e113a(0x24f)][_0x5e113a(0x645)]){this[_0x5e113a(0x40d)][_0x5e113a(0x507)](this[_0x5e113a(0x2c4)]+'\x20('+this[_0x5e113a(0x15d)][_0x5e113a(0x660)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');continue;}(!_0xee016b[_0x5e113a(0x448)]||_0xee016b[_0x5e113a(0x448)][_0x5e113a(0x5b9)]===0x0)&&(_0xee016b=await U[_0x5e113a(0x6d8)](_0xee016b[_0x5e113a(0x1f9)],{'$set':{'status':'sending','remoteJidsRemaining':[..._0xee016b[_0x5e113a(0x421)]]}},{'new':!0x0}));for(let _0x389b19 of _0xee016b[_0x5e113a(0x448)]){if(await this[_0x5e113a(0x625)](),this[_0x5e113a(0x193)]=Date[_0x5e113a(0x33e)](),_0xee016b['messagesSend'][_0x5e113a(0x2c2)](_0x3547bf=>_0x3547bf['remoteJid']===_0x389b19)){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x5e113a(0x15d)][_0x5e113a(0x660)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x389b19+_0x5e113a(0x240));continue;}if(!this['isConnected']){this[_0x5e113a(0x40d)][_0x5e113a(0x641)](this[_0x5e113a(0x2c4)]+'\x20('+this[_0x5e113a(0x15d)][_0x5e113a(0x660)]+_0x5e113a(0x4d9));break;}if(!this['processingScheduleMessageId']){this['logger'][_0x5e113a(0x641)](this[_0x5e113a(0x2c4)]+'\x20('+this['instance'][_0x5e113a(0x660)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0xee016b['_id']+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}if(_0xee016b['type']===_0x5e113a(0x551)&&!this[_0x5e113a(0x1c7)]?.[_0x5e113a(0x24f)][_0x5e113a(0x645)]){this['logger'][_0x5e113a(0x507)](this['instanceName']+'\x20('+this['instance'][_0x5e113a(0x660)]+_0x5e113a(0x270));break;}try{let _0x1aada3=await this['SendScheduleMessage'](_0x389b19,_0xee016b),_0x1d199c=_0x1aada3[_0x5e113a(0x507)]===!0x0,_0x2ffee0={'remoteJid':_0x389b19,'error':_0x1d199c,'id':_0x1d199c?null:_0x1aada3['id'],'error_log':_0x1d199c?_0x1aada3['detail']?_0x1aada3[_0x5e113a(0x500)][_0x5e113a(0x604)]():'':null,'log_timestamp':Date[_0x5e113a(0x33e)]()};if((await U[_0x5e113a(0x6d8)](_0xee016b['_id'],{'$push':{'messagesSend':_0x2ffee0},'$pull':{'remoteJidsRemaining':_0x389b19}},{'new':!0x0}))['status']===_0x5e113a(0x57c)){this[_0x5e113a(0x40d)]['verbose'](this[_0x5e113a(0x2c4)]+'\x20('+this[_0x5e113a(0x15d)]['wuid']+_0x5e113a(0x591)+_0xee016b[_0x5e113a(0x1f9)]+_0x5e113a(0x6bb));break;}if(_0x1d199c)continue;let _0x50bbf4=this[_0x5e113a(0x6d6)](_0xee016b[_0x5e113a(0x657)],_0xee016b['delaySecMax']);await this['sleep'](_0x50bbf4);}catch(_0x26ab93){this[_0x5e113a(0x40d)][_0x5e113a(0x507)](this[_0x5e113a(0x2c4)]+'\x20('+this[_0x5e113a(0x15d)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20'+_0x389b19+':\x20'+JSON[_0x5e113a(0x533)](_0x26ab93,null,0x2));let _0xc1cbdb={'remoteJid':_0x389b19,'error':!0x0,'id':null,'error_log':_0x26ab93[_0x5e113a(0x600)],'log_timestamp':Date['now']()};await U[_0x5e113a(0x6d8)](_0xee016b[_0x5e113a(0x1f9)],{'$push':{'messagesSend':_0xc1cbdb},'$pull':{'remoteJidsRemaining':_0x389b19}},{'new':!0x0});}}let _0x3b767f=await U[_0x5e113a(0x216)](_0xee016b['_id']);_0x3b767f['remoteJidsRemaining'][_0x5e113a(0x5b9)]===0x0&&_0x3b767f[_0x5e113a(0x453)]!=='stopped'&&await U[_0x5e113a(0x6d8)](_0xee016b[_0x5e113a(0x1f9)],{'$set':{'status':'done'}},{'new':!0x0}),await new Promise(_0x59749e=>setTimeout(_0x59749e,0x1388));}},_0x33a17=async()=>{const _0x5f4781=a0_0x487d;let _0x2312bd=await U[_0x5f4781(0x5d7)]({'owner':this[_0x5f4781(0x15d)][_0x5f4781(0x660)],'status':_0x5f4781(0x727),'when':{'$gt':Date[_0x5f4781(0x33e)]()}})[_0x5f4781(0x597)]({'when':0x1});_0x2312bd&&_0x2312bd[_0x5f4781(0x278)]-Date['now']()<=0x5265c00?this[_0x5f4781(0x689)]=_0x2312bd[_0x5f4781(0x278)]-Date[_0x5f4781(0x33e)]():this[_0x5f4781(0x689)]=(0x3c+Math[_0x5f4781(0x3a3)](Math[_0x5f4781(0x653)]()*0x3c))*0x3c*0x3e8,this[_0x5f4781(0x689)]=Math[_0x5f4781(0x59d)](this[_0x5f4781(0x689)],0x7d0);let _0x3dbe89=Math['round'](this[_0x5f4781(0x689)]/0xea60);if(_0x2312bd){let _0x5722e9=new Date(_0x2312bd[_0x5f4781(0x278)])['toLocaleString']();this[_0x5f4781(0x40d)][_0x5f4781(0x641)](this[_0x5f4781(0x2c4)]+'\x20('+this['instance'][_0x5f4781(0x660)]+_0x5f4781(0x210)+_0x5722e9+_0x5f4781(0x439)+_0x3dbe89+_0x5f4781(0x393));}else this[_0x5f4781(0x40d)][_0x5f4781(0x641)](this[_0x5f4781(0x2c4)]+'\x20('+this[_0x5f4781(0x15d)][_0x5f4781(0x660)]+_0x5f4781(0x27d)+_0x3dbe89+_0x5f4781(0x393));setTimeout(()=>this[_0x5f4781(0x5b7)](),this[_0x5f4781(0x689)]);};if(this[_0x3e797e(0x3e5)]){await this[_0x3e797e(0x625)](),_0x158eca();return;}if(!this[_0x3e797e(0x49c)]){this[_0x3e797e(0x40d)][_0x3e797e(0x641)](this[_0x3e797e(0x2c4)]+'\x20('+this[_0x3e797e(0x15d)]['wuid']+_0x3e797e(0x55e)),this['processingScheduleMessageId']=null,this[_0x3e797e(0x193)]=0x0,this[_0x3e797e(0x689)]=0x0;return;}try{let _0x496b71=await _0x6f2d32();_0x496b71[_0x3e797e(0x5b9)]===0x0?this['logger'][_0x3e797e(0x641)](this[_0x3e797e(0x2c4)]+'\x20('+this[_0x3e797e(0x15d)]['wuid']+_0x3e797e(0x1e6)):(this[_0x3e797e(0x3e5)]=_0x496b71[0x0]['_id'],await _0x24f86e(_0x496b71)),await _0x33a17(),this[_0x3e797e(0x3e5)]=null;}catch(_0x1f62bc){this[_0x3e797e(0x40d)]['error'](_0x3e797e(0x6b9)+JSON['stringify'](_0x1f62bc,null,0x2));}}[a0_0xe6bdb1(0x6d6)](_0x3ab7b7,_0xf5dcc0){const _0x4dc4dd=a0_0xe6bdb1;return _0x3ab7b7=Math[_0x4dc4dd(0x59d)](0.5,_0x3ab7b7),_0xf5dcc0=Math['max'](0x3,_0xf5dcc0),Math[_0x4dc4dd(0x3a3)](Math[_0x4dc4dd(0x653)]()*(_0xf5dcc0-_0x3ab7b7+0x1)+_0x3ab7b7)*0x3e8;}[a0_0xe6bdb1(0x155)](_0x1291fc){return new Promise(_0x408285=>setTimeout(_0x408285,_0x1291fc));}async['getVariablesChat'](_0x23543d){const _0x312438=a0_0xe6bdb1;if(!this['AutomateSystem']&&(await this[_0x312438(0x382)](),!this[_0x312438(0x1c7)]))return null;_0x23543d=this[_0x312438(0x512)](_0x23543d);let _0xd3d89a=await this[_0x312438(0x217)][_0x312438(0x497)][_0x312438(0x5d7)]({'where':{'_id':_0x23543d,'owner':this['instance'][_0x312438(0x660)]}}),_0x21aade={};if(_0xd3d89a&&_0xd3d89a['leadInfo']){let _0x401641=_0xd3d89a[_0x312438(0x3bd)];typeof _0x401641[_0x312438(0x662)]==_0x312438(0x4e8)&&(_0x21aade[_0x312438(0x662)]=_0x401641['nome']),typeof _0x401641[_0x312438(0x4fd)]==_0x312438(0x4e8)&&(_0x21aade[_0x312438(0x4fd)]=_0x401641[_0x312438(0x4fd)]),typeof _0x401641[_0x312438(0x4ed)]==_0x312438(0x4e8)&&(_0x21aade[_0x312438(0x4ed)]=_0x401641[_0x312438(0x4ed)]),typeof _0x401641['cpf']=='string'&&(_0x21aade[_0x312438(0x2ed)]=_0x401641[_0x312438(0x2ed)]),typeof _0x401641['status']==_0x312438(0x4e8)&&(_0x21aade[_0x312438(0x453)]=_0x401641[_0x312438(0x453)]),typeof _0x401641[_0x312438(0x331)]==_0x312438(0x4e8)&&(_0x21aade[_0x312438(0x331)]=_0x401641[_0x312438(0x331)]),typeof _0x401641['responsavelid']==_0x312438(0x4e8)&&(_0x21aade[_0x312438(0x52a)]=_0x401641['responsavelid']),Array[_0x312438(0x290)](_0x401641[_0x312438(0x189)])&&(_0x21aade['tags']=_0x401641[_0x312438(0x189)][_0x312438(0x56c)](',\x20'));}return _0xd3d89a&&_0xd3d89a[_0x312438(0x3bd)]&&_0xd3d89a[_0x312438(0x3bd)][_0x312438(0x3ad)]&&_0xd3d89a[_0x312438(0x3bd)][_0x312438(0x3ad)][_0x312438(0x19f)](_0x5498c9=>{const _0x4d45be=_0x312438;let _0x8102b4=this[_0x4d45be(0x1c7)]?.[_0x4d45be(0x3ad)][_0x4d45be(0x268)](_0x40865c=>_0x40865c['_id']===_0x5498c9[_0x4d45be(0x1f9)]);_0x8102b4&&(_0x21aade[_0x8102b4[_0x4d45be(0x34d)]]=_0x5498c9[_0x4d45be(0x344)]);}),_0x21aade;}async[a0_0xe6bdb1(0x339)](_0x3ca07a,_0xf959ab){const _0x52cc39=a0_0xe6bdb1;let _0x3145d1=await this['getVariablesChat'](_0xf959ab);return this[_0x52cc39(0x644)](_0x3ca07a,_0x3145d1);}async[a0_0xe6bdb1(0x6ca)](_0x2db727){const _0x5b7744=a0_0xe6bdb1;try{if(this[_0x5b7744(0x40d)][_0x5b7744(0x641)](this[_0x5b7744(0x2c4)]+'\x20('+this[_0x5b7744(0x15d)][_0x5b7744(0x660)]+_0x5b7744(0x411)),_0x2db727[_0x5b7744(0x526)]&&_0x2db727['_id']){if(this[_0x5b7744(0x3e5)]===_0x2db727[_0x5b7744(0x1f9)][_0x5b7744(0x604)]())throw new Error('Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar');let _0xd6efbe=await U[_0x5b7744(0x271)](_0x2db727[_0x5b7744(0x1f9)]);return setTimeout(()=>this[_0x5b7744(0x5b7)](),0x7d0),_0xd6efbe;}let _0x266f6b;if(_0x2db727[_0x5b7744(0x1f9)]&&(_0x266f6b=await U[_0x5b7744(0x5d7)]({'owner':this[_0x5b7744(0x15d)][_0x5b7744(0x660)],'_id':_0x2db727[_0x5b7744(0x1f9)]})),_0x266f6b){let _0x347cdb=_0x2db727;this[_0x5b7744(0x3e5)]===_0x266f6b[_0x5b7744(0x1f9)][_0x5b7744(0x604)]()&&(_0x347cdb={'status':_0x2db727[_0x5b7744(0x453)],'_id':_0x2db727[_0x5b7744(0x1f9)]});let _0x1c3505=await U[_0x5b7744(0x6d8)](_0x266f6b[_0x5b7744(0x1f9)],{'$set':_0x347cdb},{'new':!0x0});return setTimeout(()=>this[_0x5b7744(0x5b7)](),0x7d0),_0x1c3505;}else{_0x2db727[_0x5b7744(0x2f7)]=this[_0x5b7744(0x15d)][_0x5b7744(0x660)];let _0x4f2cdd=await new U(_0x2db727)['save']();return setTimeout(()=>this[_0x5b7744(0x5b7)](),0x7d0),_0x4f2cdd;}}catch(_0x4e1d17){throw this[_0x5b7744(0x40d)]['error'](this[_0x5b7744(0x2c4)]+'\x20('+this[_0x5b7744(0x15d)]['wuid']+_0x5b7744(0x621)+JSON[_0x5b7744(0x533)](_0x4e1d17,null,0x2)),new g(_0x5b7744(0x1df)+_0x4e1d17[_0x5b7744(0x600)]);}}async[a0_0xe6bdb1(0x256)](){const _0x51cb63=a0_0xe6bdb1;try{return await U[_0x51cb63(0x268)]({'owner':this['instance'][_0x51cb63(0x660)]})[_0x51cb63(0x597)]({'when':0x1});}catch(_0x220f6b){throw this[_0x51cb63(0x40d)][_0x51cb63(0x507)](this[_0x51cb63(0x2c4)]+'\x20('+this[_0x51cb63(0x15d)][_0x51cb63(0x660)]+_0x51cb63(0x376)+JSON[_0x51cb63(0x533)](_0x220f6b,null,0x2)),new g('Erro:'+_0x220f6b['message']);}}async[a0_0xe6bdb1(0x69f)](){const _0x2a91d6=a0_0xe6bdb1;try{return await U[_0x2a91d6(0x158)]({'owner':this['instance'][_0x2a91d6(0x660)],'status':_0x2a91d6(0x32a)}),this[_0x2a91d6(0x40d)][_0x2a91d6(0x641)](this['instanceName']+'\x20('+this[_0x2a91d6(0x15d)]['wuid']+_0x2a91d6(0x348)),this['getScheduleMessage']();}catch(_0xf88b8d){throw this[_0x2a91d6(0x40d)][_0x2a91d6(0x507)](this[_0x2a91d6(0x2c4)]+'\x20('+this[_0x2a91d6(0x15d)][_0x2a91d6(0x660)]+_0x2a91d6(0x2e8)+JSON['stringify'](_0xf88b8d,null,0x2)),new g(_0x2a91d6(0x1df)+_0xf88b8d['message']);}}async['SendScheduleMessage'](_0x503d65,_0x2abdad){const _0x18af39=a0_0xe6bdb1;try{if(_0x2abdad['type']===_0x18af39(0x551)&&!this['AutomateSystem']?.[_0x18af39(0x24f)][_0x18af39(0x645)])return this['logger'][_0x18af39(0x507)](this[_0x18af39(0x2c4)]+'\x20('+this[_0x18af39(0x15d)]['wuid']+_0x18af39(0x51d)),{'error':!0x0,'detail':_0x18af39(0x67c)};switch(_0x2abdad['type']){case _0x18af39(0x151):return await this[_0x18af39(0x517)](_0x2abdad,_0x503d65);case'media':return await this[_0x18af39(0x347)](_0x2abdad,_0x503d65);case _0x18af39(0x1f5):return await this[_0x18af39(0x380)](_0x2abdad,_0x503d65);case'flow':let _0x35c127=new Pe();return _0x35c127[_0x18af39(0x34d)]=_0x2abdad[_0x18af39(0x1eb)],_0x35c127[_0x18af39(0x267)]=_0x503d65,await this[_0x18af39(0x58f)](_0x35c127);break;default:return this['logger'][_0x18af39(0x507)](this[_0x18af39(0x2c4)]+'\x20('+this[_0x18af39(0x15d)][_0x18af39(0x660)]+_0x18af39(0x469)+_0x2abdad['type']),{'error':!0x0,'detail':_0x18af39(0x273)};}}catch(_0x3c149a){return this['logger'][_0x18af39(0x507)](this[_0x18af39(0x2c4)]+'\x20('+this[_0x18af39(0x15d)][_0x18af39(0x660)]+_0x18af39(0x3a2)+JSON[_0x18af39(0x533)](_0x3c149a,null,0x2)),{'error':!0x0,'detail':_0x3c149a['message']};}}[a0_0xe6bdb1(0x436)](_0x188e61){const _0x3b9d1d=a0_0xe6bdb1;let _0xd7d8e=_0x188e61[_0x3b9d1d(0x204)]('|'),_0x7b3d2e=Math[_0x3b9d1d(0x3a3)](Math[_0x3b9d1d(0x653)]()*_0xd7d8e[_0x3b9d1d(0x5b9)]);return _0xd7d8e[_0x7b3d2e][_0x3b9d1d(0x5a1)]();}async[a0_0xe6bdb1(0x517)](_0x2d1b74,_0x207136){const _0x2ab5b5=a0_0xe6bdb1;if(this['logger'][_0x2ab5b5(0x641)](this[_0x2ab5b5(0x2c4)]+'\x20('+this[_0x2ab5b5(0x15d)][_0x2ab5b5(0x660)]+_0x2ab5b5(0x2d5)),!_0x2d1b74[_0x2ab5b5(0x600)]['text']||_0x2d1b74[_0x2ab5b5(0x600)][_0x2ab5b5(0x151)][_0x2ab5b5(0x5b9)]===0x0)return{'error':!0x0,'detail':_0x2ab5b5(0x51c)};let _0x52a3bc=this[_0x2ab5b5(0x436)](_0x2d1b74['message'][_0x2ab5b5(0x151)]),_0x58a83b=await this[_0x2ab5b5(0x339)](_0x52a3bc,_0x207136),_0x22893d={'number':_0x207136,'options':{'delay':_0x2d1b74[_0x2ab5b5(0x600)][_0x2ab5b5(0x53d)]},'textMessage':{'text':_0x58a83b}},_0x2f6f70=null;try{let _0x456200=await this[_0x2ab5b5(0x61c)](_0x22893d);if(_0x456200&&_0x456200[_0x2ab5b5(0x453)])return{'error':!0x1,'id':_0x456200[_0x2ab5b5(0x423)]['id']};_0x2f6f70=JSON[_0x2ab5b5(0x533)](_0x456200),this[_0x2ab5b5(0x40d)][_0x2ab5b5(0x641)](this[_0x2ab5b5(0x2c4)]+'\x20('+this[_0x2ab5b5(0x15d)][_0x2ab5b5(0x660)]+_0x2ab5b5(0x5f9)+_0x2f6f70);}catch(_0x378fc4){this[_0x2ab5b5(0x40d)][_0x2ab5b5(0x507)](this[_0x2ab5b5(0x2c4)]+'\x20('+this[_0x2ab5b5(0x15d)][_0x2ab5b5(0x660)]+_0x2ab5b5(0x50e)+JSON[_0x2ab5b5(0x533)](_0x378fc4,null,0x2)),_0x2f6f70=_0x378fc4['message'];}if(_0x2f6f70)return{'error':!0x0,'detail':(typeof _0x2f6f70==_0x2ab5b5(0x35f)?JSON[_0x2ab5b5(0x533)](_0x2f6f70,null,0x2):_0x2f6f70)['replace'](/[\[\]{}\n]/g,'\x20')[_0x2ab5b5(0x1e3)](/  +/g,'\x20')};}async[a0_0xe6bdb1(0x347)](_0x3a17ca,_0x532d55){const _0xcda771=a0_0xe6bdb1;this[_0xcda771(0x40d)][_0xcda771(0x641)](this['instanceName']+'\x20('+this[_0xcda771(0x15d)][_0xcda771(0x660)]+_0xcda771(0x4bd));let _0x38c0c8;if(_0x3a17ca[_0xcda771(0x600)][_0xcda771(0x151)]&&_0x3a17ca['message']['text']['length']>0x0){let _0x4a8429=this['getRandomText'](_0x3a17ca[_0xcda771(0x600)]['text']);_0x38c0c8=await this[_0xcda771(0x339)](_0x4a8429,_0x532d55);}let _0x382745={'number':_0x532d55,'options':{'delay':_0x3a17ca[_0xcda771(0x600)][_0xcda771(0x53d)]},'mediaMessage':{'mediatype':_0x3a17ca['message'][_0xcda771(0x62e)],'caption':_0x38c0c8,'media':_0x3a17ca[_0xcda771(0x600)][_0xcda771(0x691)]}},_0x3f35cb=null;try{let _0x229ce7=await this[_0xcda771(0x2a4)](_0x382745);if(_0x229ce7&&_0x229ce7[_0xcda771(0x453)])return{'error':!0x1,'id':_0x229ce7['key']['id']};_0x3f35cb=JSON[_0xcda771(0x533)](_0x229ce7),this[_0xcda771(0x40d)][_0xcda771(0x641)](this[_0xcda771(0x2c4)]+'\x20('+this[_0xcda771(0x15d)][_0xcda771(0x660)]+'):\x20'+_0x3f35cb);}catch(_0x54584f){this[_0xcda771(0x40d)][_0xcda771(0x507)](this[_0xcda771(0x2c4)]+'\x20('+this[_0xcda771(0x15d)][_0xcda771(0x660)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+JSON['stringify'](_0x54584f,null,0x2)),_0x3f35cb=_0x54584f[_0xcda771(0x600)];}if(_0x3f35cb)return{'error':!0x0,'detail':(typeof _0x3f35cb==_0xcda771(0x35f)?JSON[_0xcda771(0x533)](_0x3f35cb,null,0x2):_0x3f35cb)[_0xcda771(0x1e3)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0xe6bdb1(0x380)](_0x39e5c0,_0x168cfa){const _0x2abb58=a0_0xe6bdb1;this[_0x2abb58(0x40d)][_0x2abb58(0x641)](this[_0x2abb58(0x2c4)]+'\x20('+this[_0x2abb58(0x15d)][_0x2abb58(0x660)]+_0x2abb58(0x1f6));let _0x468bfe={'number':_0x168cfa,'options':{'delay':_0x39e5c0[_0x2abb58(0x600)][_0x2abb58(0x53d)]},'audioMessage':{'audio':_0x39e5c0[_0x2abb58(0x600)][_0x2abb58(0x691)]}},_0x4c5653=null;try{let _0x4fda63=await this[_0x2abb58(0x4b1)](_0x468bfe);if(_0x4fda63&&_0x4fda63['status'])return{'error':!0x1,'id':_0x4fda63[_0x2abb58(0x423)]['id']};_0x4c5653=JSON[_0x2abb58(0x533)](_0x4fda63),this['logger'][_0x2abb58(0x641)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2abb58(0x5f9)+_0x4c5653);}catch(_0x595a19){this['logger'][_0x2abb58(0x507)](this['instanceName']+'\x20('+this[_0x2abb58(0x15d)][_0x2abb58(0x660)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20'+JSON[_0x2abb58(0x533)](_0x595a19,null,0x2)),_0x4c5653=_0x595a19[_0x2abb58(0x600)];}if(_0x4c5653)return{'error':!0x0,'detail':(typeof _0x4c5653==_0x2abb58(0x35f)?JSON[_0x2abb58(0x533)](_0x4c5653,null,0x2):_0x4c5653)[_0x2abb58(0x1e3)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},be=require(a0_0xe6bdb1(0x5f4)),_t=class c{constructor(_0x5008eb,_0x5bf42a,_0x1764d7){const _0x20c3fb=a0_0xe6bdb1;this['eventEmitter']=_0x5008eb,this['configService']=_0x5bf42a,this[_0x20c3fb(0x217)]=_0x1764d7,this['db']={},this['redis']={},this['logger']=new C(c[_0x20c3fb(0x34d)]),this[_0x20c3fb(0x400)]={},(this['removeInstance'](),this[_0x20c3fb(0x708)](),this[_0x20c3fb(0x48b)](),Object['assign'](this['db'],_0x5bf42a[_0x20c3fb(0x47c)](_0x20c3fb(0x225))),Object[_0x20c3fb(0x15b)](this[_0x20c3fb(0x6dd)],_0x5bf42a[_0x20c3fb(0x47c)](_0x20c3fb(0x186))),this['dbInstance']=this['db']['ENABLED']?this[_0x20c3fb(0x217)][_0x20c3fb(0x3d5)]?.['db'](this['db'][_0x20c3fb(0x3ec)]['DB_PREFIX_NAME']+_0x20c3fb(0x17f)):void 0x0,this['redisCache']=this[_0x20c3fb(0x6dd)][_0x20c3fb(0x33f)]?new ne(this[_0x20c3fb(0x6dd)]):void 0x0);}[a0_0xe6bdb1(0x4dc)](_0x6a1bf9){const _0x5dc332=a0_0xe6bdb1;let _0x330365=this[_0x5dc332(0x440)][_0x5dc332(0x47c)](_0x5dc332(0x456));typeof _0x330365==_0x5dc332(0x3d1)&&_0x330365>0x0&&setTimeout(()=>{const _0x3c9500=_0x5dc332;this[_0x3c9500(0x400)][_0x6a1bf9]?.[_0x3c9500(0x47a)]?.[_0x3c9500(0x2fd)]!==_0x3c9500(0x42d)&&delete this[_0x3c9500(0x400)][_0x6a1bf9];},0x3e8*0x3c*_0x330365);}async[a0_0xe6bdb1(0x627)](_0x593d89){const _0x49e09b=a0_0xe6bdb1;if(_0x593d89&&!this['waInstances'][_0x593d89])throw new $(_0x49e09b(0x1b7)+_0x593d89+_0x49e09b(0x22d));let _0x3d75cd=[];for await(let [_0x569b68,_0x527024]of Object['entries'](this[_0x49e09b(0x400)]))if(_0x527024&&_0x527024['connectionStatus'][_0x49e09b(0x2fd)]===_0x49e09b(0x42d)){let _0x3421cf=await this['repository'][_0x49e09b(0x54c)][_0x49e09b(0x268)](_0x569b68);_0x3d75cd[_0x49e09b(0x367)]({'instance':{'instanceName':_0x569b68,'apikey':_0x3421cf[_0x49e09b(0x309)],'owner':_0x527024[_0x49e09b(0x660)],'profileName':await _0x527024[_0x49e09b(0x3c6)]()||_0x49e09b(0x2bb),'profilePictureUrl':_0x527024['profilePictureUrl']}});}return _0x3d75cd[_0x49e09b(0x268)](_0x37802f=>_0x37802f[_0x49e09b(0x15d)][_0x49e09b(0x2c4)]===_0x593d89)??_0x3d75cd;}[a0_0xe6bdb1(0x48b)](){setInterval(async()=>{const _0x23b591=a0_0x487d;if(this['db'][_0x23b591(0x33f)])(await this['dbInstance'][_0x23b591(0x491)]())['forEach'](async _0x1b7080=>{const _0x237693=_0x23b591;let _0x40c0c6=_0x1b7080[_0x237693(0x5fb)][_0x237693(0x1e3)](/^[\w-]+./,'');await this['dbInstance'][_0x237693(0x39c)](_0x40c0c6)[_0x237693(0x158)]({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0x51792a=(0x0,te['opendirSync'])(J,{'encoding':_0x23b591(0x6ec)});for await(let _0x438fa2 of _0x51792a)_0x438fa2['isDirectory']()&&(0x0,te['readdirSync'])((0x0,be[_0x23b591(0x56c)])(J,_0x438fa2['name']),{'encoding':_0x23b591(0x6ec)})[_0x23b591(0x19f)](async _0x7d5360=>{const _0x3d6697=_0x23b591;(_0x7d5360['match'](/^app.state.*/)||_0x7d5360[_0x3d6697(0x287)](/^session-.*/))&&(0x0,te['rmSync'])((0x0,be[_0x3d6697(0x56c)])(J,_0x438fa2[_0x3d6697(0x34d)],_0x7d5360),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async[a0_0xe6bdb1(0x18d)](_0x4ecfb0){const _0x3b51db=a0_0xe6bdb1;this['db'][_0x3b51db(0x33f)]&&(await this['repository'][_0x3b51db(0x3d5)][_0x3b51db(0x195)](),(await this[_0x3b51db(0x4b6)][_0x3b51db(0x491)]())[_0x3b51db(0x5b9)]>0x0&&await this[_0x3b51db(0x4b6)][_0x3b51db(0x233)](_0x4ecfb0)),this[_0x3b51db(0x6dd)]['ENABLED']&&(this[_0x3b51db(0x244)][_0x3b51db(0x57a)]=_0x4ecfb0,await this['redisCache'][_0x3b51db(0x556)]()),!this['db'][_0x3b51db(0x33f)]&&!this[_0x3b51db(0x6dd)][_0x3b51db(0x33f)]&&(0x0,te[_0x3b51db(0x56b)])((0x0,be[_0x3b51db(0x56c)])(J,_0x4ecfb0),{'recursive':!0x0,'force':!0x0});}async[a0_0xe6bdb1(0x39b)](){const _0x3a0262=a0_0xe6bdb1;let _0x2c4725=async _0x169d6d=>{const _0x119975=a0_0x487d;let _0x30101c=new ye(this[_0x119975(0x440)],this[_0x119975(0x573)],this[_0x119975(0x217)]);_0x30101c['instanceName']=_0x169d6d,await _0x30101c[_0x119975(0x1d7)](),this[_0x119975(0x400)][_0x169d6d]=_0x30101c;};try{if(this[_0x3a0262(0x6dd)]['ENABLED']){let _0x2ef3f0=await this[_0x3a0262(0x244)][_0x3a0262(0x18b)]();_0x2ef3f0?.[_0x3a0262(0x5b9)]>0x0&&_0x2ef3f0['forEach'](async _0x339598=>await _0x2c4725(_0x339598[_0x3a0262(0x204)](':')[0x1]));}if(this['db'][_0x3a0262(0x33f)]){await this[_0x3a0262(0x217)][_0x3a0262(0x3d5)][_0x3a0262(0x195)]();let _0x814481=await this['dbInstance']['collections']();_0x814481[_0x3a0262(0x5b9)]>0x0&&_0x814481[_0x3a0262(0x19f)](async _0x1e3dfd=>await _0x2c4725(_0x1e3dfd[_0x3a0262(0x5fb)][_0x3a0262(0x1e3)](/^[\w-]+\./,'')));return;}let _0x86797d=(0x0,te[_0x3a0262(0x67e)])(J,{'encoding':_0x3a0262(0x6ec)});for await(let _0x43064d of _0x86797d)if(_0x43064d['isDirectory']()){if((0x0,te[_0x3a0262(0x5ba)])((0x0,be[_0x3a0262(0x56c)])(J,_0x43064d[_0x3a0262(0x34d)]),{'encoding':'utf-8'})[_0x3a0262(0x5b9)]===0x0){(0x0,te[_0x3a0262(0x56b)])((0x0,be[_0x3a0262(0x56c)])(J,_0x43064d[_0x3a0262(0x34d)]),{'recursive':!0x0,'force':!0x0});break;}await _0x2c4725(_0x43064d[_0x3a0262(0x34d)]);}}catch(_0x10a8b2){this[_0x3a0262(0x40d)]['error'](_0x10a8b2);}}['removeInstance'](){const _0x3cc62c=a0_0xe6bdb1;this[_0x3cc62c(0x573)]['on']('remove.instance',async _0x1f41eb=>{const _0x1f25a1=_0x3cc62c;try{this['waInstances'][_0x1f41eb]=void 0x0;}catch{}try{this[_0x1f25a1(0x18d)](_0x1f41eb);}finally{this[_0x1f25a1(0x40d)]['warn'](_0x1f25a1(0x1b7)+_0x1f41eb+_0x1f25a1(0x502));}});}[a0_0xe6bdb1(0x708)](){const _0x516c2b=a0_0xe6bdb1;this[_0x516c2b(0x573)]['on'](_0x516c2b(0x2cf),async _0x6d8f36=>{const _0x4c13da=_0x516c2b;try{this['waInstances'][_0x6d8f36]=void 0x0,this[_0x4c13da(0x18d)](_0x6d8f36);}catch(_0x54b359){this[_0x4c13da(0x40d)]['error']({'localError':_0x4c13da(0x708),'warn':_0x4c13da(0x248),'error':_0x54b359});}finally{this[_0x4c13da(0x40d)][_0x4c13da(0x682)](_0x4c13da(0x1b7)+_0x6d8f36+'\x22\x20-\x20NOT\x20CONNECTION');}});}},Pt=class extends W{constructor(_0x7af4f4){const _0x3127ef=a0_0xe6bdb1;super(_0x7af4f4),this[_0x3127ef(0x440)]=_0x7af4f4;}[a0_0xe6bdb1(0x4b9)](_0x34240d){return xs(_0x34240d);}async['insert'](_0x37c69d){const _0x2a8cd2=a0_0xe6bdb1;if(_0x37c69d[_0x2a8cd2(0x5b9)]!==0x0)try{return{'insertCount':(await this[_0x2a8cd2(0x4b9)](_0x37c69d[0x0][_0x2a8cd2(0x2f7)])[_0x2a8cd2(0x6f0)]([..._0x37c69d]))[_0x2a8cd2(0x5b9)]};}catch(_0x3366c5){return _0x3366c5;}}async[a0_0xe6bdb1(0x268)](_0x279a22){const _0x275627=a0_0xe6bdb1;try{return await this[_0x275627(0x4b9)](_0x279a22['where']['owner'])['find']({..._0x279a22[_0x275627(0x37c)]})[_0x275627(0x597)]({'lastmsg':-0x1})[_0x275627(0x6e5)](_0x279a22?.['limit']??0x0)['lean']();}catch{return[];}}async['delete'](_0x3cfaf4){const _0x9e49e=a0_0xe6bdb1;try{return{'deletedCount':(await this['getChatModelForOwner'](_0x3cfaf4[_0x9e49e(0x37c)][_0x9e49e(0x2f7)])[_0x9e49e(0x158)]({..._0x3cfaf4[_0x9e49e(0x37c)]}))[_0x9e49e(0x183)]};}catch(_0x2f20dd){return{'error':_0x2f20dd?.['toString']()};}}async[a0_0xe6bdb1(0x605)](_0x3d0f81){const _0x36c7ca=a0_0xe6bdb1;try{return await this[_0x36c7ca(0x4b9)](_0x3d0f81['where'][_0x36c7ca(0x2f7)])[_0x36c7ca(0x158)]({..._0x3d0f81[_0x36c7ca(0x37c)]}),[];}catch(_0x4f0bdd){return{'error':_0x4f0bdd?.[_0x36c7ca(0x604)]()};}}async[a0_0xe6bdb1(0x5d7)](_0x40716f){const _0x3b8217=a0_0xe6bdb1;try{return await this[_0x3b8217(0x4b9)](_0x40716f['where'][_0x3b8217(0x2f7)])[_0x3b8217(0x5d7)]({..._0x40716f['where']})[_0x3b8217(0x1fa)]();}catch{return null;}}async[a0_0xe6bdb1(0x235)](_0x4b9d98,_0x33913c,_0x3d8b8d){const _0x501e42=a0_0xe6bdb1;try{let _0x4693c7={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x3d8b8d};return await this[_0x501e42(0x4b9)](_0x4b9d98[_0x501e42(0x37c)][_0x501e42(0x2f7)])[_0x501e42(0x67b)]({..._0x4b9d98[_0x501e42(0x37c)]},{'$set':_0x33913c},_0x4693c7);}catch(_0x666009){return console[_0x501e42(0x507)](_0x666009),null;}}async[a0_0xe6bdb1(0x4a9)](_0x5493c4){const _0x328b55=a0_0xe6bdb1;try{let _0xf252b3=this[_0x328b55(0x4b9)](_0x5493c4[0x0][_0x328b55(0x58a)][_0x328b55(0x37c)][_0x328b55(0x2f7)]),_0x10c016=_0x5493c4[_0x328b55(0x538)](_0x2c6a01=>({'updateOne':{'filter':{..._0x2c6a01['query'][_0x328b55(0x37c)]},'update':{'$set':_0x2c6a01[_0x328b55(0x1ef)]}}}));return(await _0xf252b3['bulkWrite'](_0x10c016))['modifiedCount'];}catch(_0x22b097){return console[_0x328b55(0x507)](_0x22b097),0x0;}}},xt=class{constructor(_0x272f9){const _0x584604=a0_0xe6bdb1;this[_0x584604(0x25f)]=_0x272f9;}async[a0_0xe6bdb1(0x3e4)]({instanceName:_0x29815f},_0x10cd39){const _0x585e80=a0_0xe6bdb1;return await this['waMonitor'][_0x585e80(0x400)][_0x29815f][_0x585e80(0x3e4)](_0x10cd39);}async[a0_0xe6bdb1(0x24b)]({instanceName:_0x873c1a},_0x57bf92){const _0x2acbd7=a0_0xe6bdb1;return await this[_0x2acbd7(0x25f)][_0x2acbd7(0x400)][_0x873c1a]['whatsappNumber'](_0x57bf92);}async[a0_0xe6bdb1(0x687)]({instanceName:_0x1c71e4},_0xc425fe){const _0x3514ef=a0_0xe6bdb1;return await this[_0x3514ef(0x25f)][_0x3514ef(0x400)][_0x1c71e4][_0x3514ef(0x399)](_0xc425fe);}async[a0_0xe6bdb1(0x2f6)]({instanceName:_0x138238},_0x32cbf3){const _0x564c85=a0_0xe6bdb1;return await this[_0x564c85(0x25f)]['waInstances'][_0x138238][_0x564c85(0x2f6)](_0x32cbf3);}async[a0_0xe6bdb1(0x659)]({instanceName:_0x1ce317},_0x9d4dcc){const _0x16ec7f=a0_0xe6bdb1;return await this['waMonitor'][_0x16ec7f(0x400)][_0x1ce317][_0x16ec7f(0x659)](_0x9d4dcc);}async[a0_0xe6bdb1(0x599)]({instanceName:_0x205993},_0x36b602){const _0x21ddef=a0_0xe6bdb1;return await this[_0x21ddef(0x25f)][_0x21ddef(0x400)][_0x205993][_0x21ddef(0x455)](_0x36b602['number']);}async['fetchProfile']({instanceName:_0x3f06d8},_0x2f199f){const _0x536069=a0_0xe6bdb1;return await this[_0x536069(0x25f)]['waInstances'][_0x3f06d8][_0x536069(0x2c8)](_0x2f199f[_0x536069(0x3d1)]);}async[a0_0xe6bdb1(0x678)]({instanceName:_0x29133a},_0x147cae){const _0x51251e=a0_0xe6bdb1;return await this[_0x51251e(0x25f)][_0x51251e(0x400)][_0x29133a]['updatePresence'](_0x147cae);}async[a0_0xe6bdb1(0x2c3)]({instanceName:_0xb41d13},_0x6dedcd){const _0x43ba8e=a0_0xe6bdb1;return await this[_0x43ba8e(0x25f)][_0x43ba8e(0x400)][_0xb41d13][_0x43ba8e(0x2c3)](_0x6dedcd);}async['getBase64FromMediaMessage']({instanceName:_0x409cc4},_0x10405b){const _0x4b3492=a0_0xe6bdb1;return await this['waMonitor'][_0x4b3492(0x400)][_0x409cc4][_0x4b3492(0x3ca)](_0x10405b);}async[a0_0xe6bdb1(0x14f)]({instanceName:_0x34be1a},_0x2926fb){const _0x54c8ac=a0_0xe6bdb1;return await this[_0x54c8ac(0x25f)][_0x54c8ac(0x400)][_0x34be1a][_0x54c8ac(0x14f)](_0x2926fb);}async[a0_0xe6bdb1(0x541)]({instanceName:_0x27123c}){const _0xdf59f3=a0_0xe6bdb1;return await this[_0xdf59f3(0x25f)][_0xdf59f3(0x400)][_0x27123c][_0xdf59f3(0x541)]();}async['fetchPrivacySettings']({instanceName:_0x48140a}){const _0x49b36c=a0_0xe6bdb1;return await this[_0x49b36c(0x25f)][_0x49b36c(0x400)][_0x48140a][_0x49b36c(0x263)]();}async[a0_0xe6bdb1(0x70b)]({instanceName:_0x1d4e26},_0x68f5f1){const _0x59db60=a0_0xe6bdb1;return await this[_0x59db60(0x25f)][_0x59db60(0x400)][_0x1d4e26]['updatePrivacySettings'](_0x68f5f1);}async[a0_0xe6bdb1(0x5b1)]({instanceName:_0x210924},_0x803b68){const _0x4ca6db=a0_0xe6bdb1;return await this[_0x4ca6db(0x25f)][_0x4ca6db(0x400)][_0x210924][_0x4ca6db(0x5b1)](_0x803b68[_0x4ca6db(0x3d1)]);}async[a0_0xe6bdb1(0x570)]({instanceName:_0x579124},_0x50a559){const _0x797955=a0_0xe6bdb1;return await this['waMonitor'][_0x797955(0x400)][_0x579124][_0x797955(0x570)](_0x50a559['name']);}async['updateProfileStatus']({instanceName:_0x3595fc},_0x4ba508){const _0x228aca=a0_0xe6bdb1;return await this['waMonitor']['waInstances'][_0x3595fc][_0x228aca(0x1d8)](_0x4ba508[_0x228aca(0x453)]);}async[a0_0xe6bdb1(0x642)]({instanceName:_0x14a675},_0x52c924){const _0x7e7fcb=a0_0xe6bdb1;return await this[_0x7e7fcb(0x25f)][_0x7e7fcb(0x400)][_0x14a675]['updateProfilePicture'](_0x52c924[_0x7e7fcb(0x368)]);}async['removeProfilePicture']({instanceName:_0x4bc225},_0x2f3429){const _0x3bd9a2=a0_0xe6bdb1;return await this[_0x3bd9a2(0x25f)][_0x3bd9a2(0x400)][_0x4bc225][_0x3bd9a2(0x4e3)]();}},hs=require(a0_0xe6bdb1(0x44a)),$t=class c{constructor(_0x39ac1f,_0x4baa3e,_0x57edcc,_0x9f3236,_0x26a53e){const _0x54f3af=a0_0xe6bdb1;this[_0x54f3af(0x25f)]=_0x39ac1f,this[_0x54f3af(0x440)]=_0x4baa3e,this['repository']=_0x57edcc,this[_0x54f3af(0x573)]=_0x9f3236,this[_0x54f3af(0x203)]=_0x26a53e,this[_0x54f3af(0x40d)]=new C(c[_0x54f3af(0x34d)]);}async['createInstance']({instanceName:_0x3800a2,apikey:_0x314ffc}){const _0x5f56c6=a0_0xe6bdb1;let _0x35c5a2=new ye(this[_0x5f56c6(0x440)],this['eventEmitter'],this[_0x5f56c6(0x217)]);_0x35c5a2[_0x5f56c6(0x2c4)]=_0x3800a2,this[_0x5f56c6(0x25f)]['waInstances'][_0x35c5a2['instanceName']]=_0x35c5a2,this[_0x5f56c6(0x25f)][_0x5f56c6(0x4dc)](_0x35c5a2['instanceName']);let _0x2f2d37={};_0x314ffc?(await this[_0x5f56c6(0x217)][_0x5f56c6(0x54c)][_0x5f56c6(0x2dd)]({'apikey':_0x314ffc},_0x3800a2),_0x2f2d37[_0x5f56c6(0x309)]=_0x314ffc):_0x2f2d37=await this[_0x5f56c6(0x203)][_0x5f56c6(0x71c)]({'instanceName':_0x35c5a2[_0x5f56c6(0x2c4)]});let _0x34fc3f;return await _0x35c5a2[_0x5f56c6(0x1d7)](),await(0x0,hs['delay'])(0x7d0),_0x34fc3f=_0x35c5a2[_0x5f56c6(0x2ac)],{'instance':{'instanceName':_0x35c5a2['instanceName'],'status':_0x5f56c6(0x27f)},'hash':_0x2f2d37,'qrcode':_0x34fc3f};}async[a0_0xe6bdb1(0x1d7)]({instanceName:_0x4660c2}){const _0x2499e6=a0_0xe6bdb1;try{let _0x8d27cb=this['waMonitor']['waInstances'][_0x4660c2];switch(_0x8d27cb['connectionStatus']?.[_0x2499e6(0x2fd)]){case _0x2499e6(0x697):return await _0x8d27cb[_0x2499e6(0x1d7)](),await(0x0,hs['delay'])(0x7d0),_0x8d27cb['qrCode'];case _0x2499e6(0x492):return _0x8d27cb[_0x2499e6(0x2ac)];default:return await this[_0x2499e6(0x275)]({'instanceName':_0x4660c2});}}catch(_0x330608){this[_0x2499e6(0x40d)][_0x2499e6(0x6c7)](_0x330608);}}async['connectionState']({instanceName:_0x5a9970}){const _0x517ad9=a0_0xe6bdb1;let _0x48160c=this[_0x517ad9(0x25f)][_0x517ad9(0x400)][_0x5a9970][_0x517ad9(0x47a)],_0x23d27c=null;_0x48160c[_0x517ad9(0x2fd)]===_0x517ad9(0x42d)&&_0x5a9970&&(_0x23d27c=await this['waMonitor'][_0x517ad9(0x627)](_0x5a9970));let _0x10badb=null;return _0x48160c[_0x517ad9(0x2fd)]==='connecting'&&_0x5a9970&&(_0x10badb=this[_0x517ad9(0x25f)][_0x517ad9(0x400)][_0x5a9970][_0x517ad9(0x2ac)]),{'instance':_0x5a9970,'connectionStatus':_0x48160c,'instanceInfo':_0x23d27c,'qrcode':_0x10badb};}async[a0_0xe6bdb1(0x537)]({instanceName:_0x4b68ef}){const _0x2c0f72=a0_0xe6bdb1;try{return this[_0x2c0f72(0x25f)][_0x2c0f72(0x400)][_0x4b68ef]?.[_0x2c0f72(0x722)]?.['ws']?.['close'](),{'status':_0x2c0f72(0x37e),'error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0x2b606a){this[_0x2c0f72(0x40d)][_0x2c0f72(0x507)](_0x2b606a);}}async['fetchInstances']({instanceName:_0x502a76}){const _0x574b89=a0_0xe6bdb1;return _0x502a76?this[_0x574b89(0x25f)][_0x574b89(0x627)](_0x502a76):this[_0x574b89(0x25f)][_0x574b89(0x627)]();}async['logout']({instanceName:_0x42b92c}){const _0x288a68=a0_0xe6bdb1;try{return await this[_0x288a68(0x25f)]['waInstances'][_0x42b92c]?.['client']?.[_0x288a68(0x540)](_0x288a68(0x277)+_0x42b92c),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0xd10b60){throw new A(_0xd10b60[_0x288a68(0x604)]());}}async[a0_0xe6bdb1(0x3b8)]({instanceName:_0x132efe}){const _0x316328=a0_0xe6bdb1;if((await this[_0x316328(0x275)]({'instanceName':_0x132efe}))[_0x316328(0x47a)][_0x316328(0x2fd)]===_0x316328(0x42d))throw new g(['Deletion\x20failed',_0x316328(0x58b)]);try{return delete this[_0x316328(0x25f)][_0x316328(0x400)][_0x132efe],{'error':!0x1,'message':_0x316328(0x4ea)};}catch(_0x23d777){throw new g(_0x23d777[_0x316328(0x604)]());}}async[a0_0xe6bdb1(0x6a2)](_0x28ba9e,_0x26f7e9){const _0x1d6ee9=a0_0xe6bdb1;return await this['authService'][_0x1d6ee9(0x6a2)](_0x26f7e9);}},se=require(a0_0xe6bdb1(0x404)),kt=class{constructor(_0x11ba3e){const _0x80fd04=a0_0xe6bdb1;this[_0x80fd04(0x25f)]=_0x11ba3e;}async['sendText']({instanceName:_0x5bc76e},_0x56e729){const _0x51f999=a0_0xe6bdb1;return await this[_0x51f999(0x25f)][_0x51f999(0x400)][_0x5bc76e]['textMessage'](_0x56e729);}async[a0_0xe6bdb1(0x6b2)]({instanceName:_0x2f92e9},_0x9bb05a){const _0xbece33=a0_0xe6bdb1;if((0x0,se[_0xbece33(0x581)])(_0x9bb05a?.[_0xbece33(0x2a4)]?.[_0xbece33(0x484)])&&!_0x9bb05a?.['mediaMessage']?.[_0xbece33(0x321)])throw new g(_0xbece33(0x21e));if((0x0,se[_0xbece33(0x3b1)])(_0x9bb05a?.['mediaMessage']?.[_0xbece33(0x484)])||(0x0,se['isBase64'])(_0x9bb05a?.[_0xbece33(0x2a4)]?.[_0xbece33(0x484)]))return await this[_0xbece33(0x25f)][_0xbece33(0x400)][_0x2f92e9][_0xbece33(0x2a4)](_0x9bb05a);throw new g(_0xbece33(0x670));}async[a0_0xe6bdb1(0x46a)]({instanceName:_0x350804},_0x2c44d3){const _0x52a523=a0_0xe6bdb1;if((0x0,se[_0x52a523(0x3b1)])(_0x2c44d3[_0x52a523(0x3e0)]['image'])||(0x0,se[_0x52a523(0x581)])(_0x2c44d3[_0x52a523(0x3e0)][_0x52a523(0x39d)]))return await this[_0x52a523(0x25f)][_0x52a523(0x400)][_0x350804]['mediaSticker'](_0x2c44d3);throw new g(_0x52a523(0x670));}async[a0_0xe6bdb1(0x6f8)]({instanceName:_0x24238b},_0x3b0aef){const _0x5628f6=a0_0xe6bdb1;if((0x0,se[_0x5628f6(0x3b1)])(_0x3b0aef[_0x5628f6(0x3eb)][_0x5628f6(0x1f5)])||(0x0,se[_0x5628f6(0x581)])(_0x3b0aef['audioMessage']['audio']))return await this[_0x5628f6(0x25f)][_0x5628f6(0x400)][_0x24238b][_0x5628f6(0x4b1)](_0x3b0aef);throw new g('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0xe6bdb1(0x493)]({instanceName:_0x5d944c},_0x4a2d6a){const _0x521226=a0_0xe6bdb1;if((0x0,se[_0x521226(0x581)])(_0x4a2d6a[_0x521226(0x6da)][_0x521226(0x2a4)]?.[_0x521226(0x484)])&&!_0x4a2d6a[_0x521226(0x6da)]['mediaMessage']?.[_0x521226(0x321)])throw new g(_0x521226(0x21e));return await this[_0x521226(0x25f)][_0x521226(0x400)][_0x5d944c][_0x521226(0x6da)](_0x4a2d6a);}async[a0_0xe6bdb1(0x59b)]({instanceName:_0x2a36b4},_0xb4e0cf){const _0x20b063=a0_0xe6bdb1;return await this[_0x20b063(0x25f)]['waInstances'][_0x2a36b4][_0x20b063(0x640)](_0xb4e0cf);}async[a0_0xe6bdb1(0x208)]({instanceName:_0x49814d},_0x2179e1){const _0x2aa3a7=a0_0xe6bdb1;return await this[_0x2aa3a7(0x25f)][_0x2aa3a7(0x400)][_0x49814d]['pollMessage'](_0x2179e1);}async['sendList']({instanceName:_0x5355a7},_0x58a28c){const _0x483d8c=a0_0xe6bdb1;return await this[_0x483d8c(0x25f)][_0x483d8c(0x400)][_0x5355a7][_0x483d8c(0x154)](_0x58a28c);}async[a0_0xe6bdb1(0x64d)]({instanceName:_0x25f378},_0x4fe65e){const _0x44fb06=a0_0xe6bdb1;return await this[_0x44fb06(0x25f)][_0x44fb06(0x400)][_0x25f378][_0x44fb06(0x198)](_0x4fe65e);}async[a0_0xe6bdb1(0x25a)]({instanceName:_0x3226e1},_0x1374a3){const _0xf59e13=a0_0xe6bdb1;if(!_0x1374a3[_0xf59e13(0x64b)][_0xf59e13(0x482)][_0xf59e13(0x287)](/[^\(\)\w\sà-ú"-\+]+/))throw new g(_0xf59e13(0x415));return await this[_0xf59e13(0x25f)][_0xf59e13(0x400)][_0x3226e1]['reactionMessage'](_0x1374a3);}async[a0_0xe6bdb1(0x1fd)]({instanceName:_0x5796d4},_0x5c71cd){const _0x1c3638=a0_0xe6bdb1;return await this[_0x1c3638(0x25f)][_0x1c3638(0x400)][_0x5796d4][_0x1c3638(0x1af)](_0x5c71cd);}},Lt=class{constructor(_0x534b54){const _0x8107c1=a0_0xe6bdb1;this[_0x8107c1(0x25f)]=_0x534b54;}async['createGroup'](_0x5a08b1,_0x3d3d1f){const _0x4281e2=a0_0xe6bdb1;return await this[_0x4281e2(0x25f)][_0x4281e2(0x400)][_0x5a08b1['instanceName']][_0x4281e2(0x4db)](_0x3d3d1f);}async[a0_0xe6bdb1(0x385)](_0x2f0ca9,_0x21ea4b){const _0x3f6148=a0_0xe6bdb1;return await this['waMonitor'][_0x3f6148(0x400)][_0x2f0ca9[_0x3f6148(0x2c4)]][_0x3f6148(0x385)](_0x21ea4b);}async[a0_0xe6bdb1(0x5e3)](_0x27b04b,_0x3477a3){const _0x57f131=a0_0xe6bdb1;return await this[_0x57f131(0x25f)]['waInstances'][_0x27b04b[_0x57f131(0x2c4)]][_0x57f131(0x5e3)](_0x3477a3);}async[a0_0xe6bdb1(0x4f6)](_0x41a1b1,_0x1cc669){const _0x25e294=a0_0xe6bdb1;return await this[_0x25e294(0x25f)][_0x25e294(0x400)][_0x41a1b1[_0x25e294(0x2c4)]][_0x25e294(0x4f6)](_0x1cc669);}async['groupSetting'](_0x3961ee,_0x26fbaa){const _0x382d8e=a0_0xe6bdb1;return await this[_0x382d8e(0x25f)][_0x382d8e(0x400)][_0x3961ee['instanceName']][_0x382d8e(0x424)](_0x26fbaa);}async[a0_0xe6bdb1(0x4e4)](_0x5b6988,_0x50be1b){const _0x5e8e3e=a0_0xe6bdb1;return await this['waMonitor']['waInstances'][_0x5b6988['instanceName']][_0x5e8e3e(0x5f1)](_0x50be1b);}async[a0_0xe6bdb1(0x36b)](_0x92dd18){const _0x4a681a=a0_0xe6bdb1;return await this[_0x4a681a(0x25f)]['waInstances'][_0x92dd18[_0x4a681a(0x2c4)]]['findGroups']();}async[a0_0xe6bdb1(0x45c)](_0x917ade,_0x258c22){const _0x118a56=a0_0xe6bdb1;return await this[_0x118a56(0x25f)]['waInstances'][_0x917ade[_0x118a56(0x2c4)]]['inviteCode'](_0x258c22);}async[a0_0xe6bdb1(0x45b)](_0x5d0477,_0x5c40d){const _0x5bc429=a0_0xe6bdb1;return await this[_0x5bc429(0x25f)][_0x5bc429(0x400)][_0x5d0477['instanceName']][_0x5bc429(0x45b)](_0x5c40d);}async[a0_0xe6bdb1(0x449)](_0x23fd82,_0x4d4ab4){const _0xb584ee=a0_0xe6bdb1;return await this[_0xb584ee(0x25f)][_0xb584ee(0x400)][_0x23fd82[_0xb584ee(0x2c4)]][_0xb584ee(0x449)](_0x4d4ab4);}async[a0_0xe6bdb1(0x395)](_0x5db079,_0x29ba81){const _0x4002ed=a0_0xe6bdb1;return await this[_0x4002ed(0x25f)][_0x4002ed(0x400)][_0x5db079[_0x4002ed(0x2c4)]][_0x4002ed(0x395)](_0x29ba81);}async['updateGParticipate'](_0x25ea9d,_0x447397){const _0x4cf2b1=a0_0xe6bdb1;return await this[_0x4cf2b1(0x25f)][_0x4cf2b1(0x400)][_0x25ea9d[_0x4cf2b1(0x2c4)]]['updateGParticipant'](_0x447397);}async[a0_0xe6bdb1(0x30e)](_0x49b169,_0x555b2d){const _0x5cc855=a0_0xe6bdb1;return await this[_0x5cc855(0x25f)][_0x5cc855(0x400)][_0x49b169[_0x5cc855(0x2c4)]]['toggleEphemeral'](_0x555b2d);}async[a0_0xe6bdb1(0x53a)](_0x528580,_0x11ebc5){const _0x4ee1fd=a0_0xe6bdb1;return await this[_0x4ee1fd(0x25f)][_0x4ee1fd(0x400)][_0x528580[_0x4ee1fd(0x2c4)]][_0x4ee1fd(0x53a)](_0x11ebc5);}},Ut=class{constructor(_0x22533b,_0x6be560){const _0x477240=a0_0xe6bdb1;this['waMonit']=_0x22533b,this[_0x477240(0x440)]=_0x6be560;}async[a0_0xe6bdb1(0x519)](_0x3e928c,_0x28c4bd){const _0x4ac9be=a0_0xe6bdb1;try{let _0x3deb0e=_0x3e928c[_0x4ac9be(0x1fe)];if(this[_0x4ac9be(0x360)]['waInstances'][_0x3deb0e[_0x4ac9be(0x2c4)]]['connectionStatus']['state']===_0x4ac9be(0x42d))throw new g(_0x4ac9be(0x2da));let _0x1ce48e=this['configService'][_0x4ac9be(0x47c)]('AUTHENTICATION')[_0x4ac9be(0x50c)];return _0x28c4bd[_0x4ac9be(0x453)](0xc8)['render']('qrcode',{'type':_0x1ce48e,..._0x3deb0e});}catch(_0x406878){console[_0x4ac9be(0x6c7)]('ERROR:\x20',_0x406878);}}},Vt=class{constructor(_0x4e9e63){this['waMonitor']=_0x4e9e63;}[a0_0xe6bdb1(0x2dd)](_0x2a20e3,_0x3d686e){const _0x5e3b3f=a0_0xe6bdb1;return this[_0x5e3b3f(0x25f)][_0x5e3b3f(0x400)][_0x2a20e3[_0x5e3b3f(0x2c4)]][_0x5e3b3f(0x201)](_0x3d686e);}async[a0_0xe6bdb1(0x268)](_0x73b0d1){const _0xe92c2f=a0_0xe6bdb1;try{return await this[_0xe92c2f(0x25f)]['waInstances'][_0x73b0d1[_0xe92c2f(0x2c4)]][_0xe92c2f(0x574)]();}catch{return{'enabled':null,'url':''};}}},id=new C('FlowController'),Jt=class{constructor(_0x118eed){const _0x1febf5=a0_0xe6bdb1;this[_0x1febf5(0x25f)]=_0x118eed;}async[a0_0xe6bdb1(0x6ca)](_0x5a6baa,_0x57da9a){const _0x42aea0=a0_0xe6bdb1;return await this[_0x42aea0(0x25f)][_0x42aea0(0x400)][_0x5a6baa[_0x42aea0(0x2c4)]][_0x42aea0(0x6ca)](_0x57da9a);}async[a0_0xe6bdb1(0x256)](_0x285d0c){const _0x956f3=a0_0xe6bdb1;return await this[_0x956f3(0x25f)]['waInstances'][_0x285d0c[_0x956f3(0x2c4)]][_0x956f3(0x256)]();}async['deleteDoneMessages'](_0x1f185d){const _0x21896e=a0_0xe6bdb1;return await this[_0x21896e(0x25f)][_0x21896e(0x400)][_0x1f185d[_0x21896e(0x2c4)]]['deleteDoneMessages']();}async[a0_0xe6bdb1(0x382)](_0x711b46){const _0x74090e=a0_0xe6bdb1;return await this[_0x74090e(0x25f)][_0x74090e(0x400)][_0x711b46[_0x74090e(0x2c4)]]['getAutomateSystem']();}async[a0_0xe6bdb1(0x1db)](_0x56b686,_0xdb0d20){const _0xc414f3=a0_0xe6bdb1;return await this[_0xc414f3(0x25f)][_0xc414f3(0x400)][_0x56b686[_0xc414f3(0x2c4)]][_0xc414f3(0x1db)](_0xdb0d20);}async[a0_0xe6bdb1(0x6a4)](_0x33dd6e,_0x4d8a96){const _0x534e2b=a0_0xe6bdb1;return await this[_0x534e2b(0x25f)][_0x534e2b(0x400)][_0x33dd6e[_0x534e2b(0x2c4)]][_0x534e2b(0x6a4)](_0x4d8a96);}async['updateFlowConfig'](_0x5d6293,_0x5d9395){const _0x46badc=a0_0xe6bdb1;return await this[_0x46badc(0x25f)]['waInstances'][_0x5d6293[_0x46badc(0x2c4)]][_0x46badc(0x5da)](_0x5d9395);}async[a0_0xe6bdb1(0x58f)](_0x59dafc,_0x57e155){const _0x38c313=a0_0xe6bdb1;return await this[_0x38c313(0x25f)]['waInstances'][_0x59dafc[_0x38c313(0x2c4)]][_0x38c313(0x58f)](_0x57e155);}async[a0_0xe6bdb1(0x349)](_0x7c43e1,_0xf03525){const _0x3d9af3=a0_0xe6bdb1;return await this[_0x3d9af3(0x25f)]['waInstances'][_0x7c43e1[_0x3d9af3(0x2c4)]][_0x3d9af3(0x349)](_0xf03525);}async[a0_0xe6bdb1(0x651)](_0x681f44,_0x4dbae7){const _0x4a39fa=a0_0xe6bdb1;return await this[_0x4a39fa(0x25f)][_0x4a39fa(0x400)][_0x681f44[_0x4a39fa(0x2c4)]][_0x4a39fa(0x651)](_0x4dbae7);}async[a0_0xe6bdb1(0x274)](_0x393705,_0x5462c6){const _0x3bb9d6=a0_0xe6bdb1;return await this[_0x3bb9d6(0x25f)][_0x3bb9d6(0x400)][_0x393705[_0x3bb9d6(0x2c4)]][_0x3bb9d6(0x274)](_0x5462c6);}async['deleteConversation'](_0x2092c1,_0x332fa8){const _0x56b157=a0_0xe6bdb1;return await this['waMonitor'][_0x56b157(0x400)][_0x2092c1[_0x56b157(0x2c4)]][_0x56b157(0x21c)](_0x332fa8);}async[a0_0xe6bdb1(0x501)](_0x455c1a,_0x3f4104){const _0xe48346=a0_0xe6bdb1;return await this[_0xe48346(0x25f)][_0xe48346(0x400)][_0x455c1a[_0xe48346(0x2c4)]][_0xe48346(0x501)](_0x3f4104['name']);}async['createFlow'](_0x93db2e,_0x34cf42){const _0x21fb05=a0_0xe6bdb1;return await this['waMonitor'][_0x21fb05(0x400)][_0x93db2e[_0x21fb05(0x2c4)]][_0x21fb05(0x55a)](_0x34cf42);}async[a0_0xe6bdb1(0x667)](_0x37d1f3,_0x5ec1e1){const _0x51768d=a0_0xe6bdb1;return await this[_0x51768d(0x25f)][_0x51768d(0x400)][_0x37d1f3[_0x51768d(0x2c4)]][_0x51768d(0x667)](_0x5ec1e1);}async[a0_0xe6bdb1(0x409)](_0x425475,_0x4c9b63){const _0x5c680b=a0_0xe6bdb1;return await this[_0x5c680b(0x25f)][_0x5c680b(0x400)][_0x425475['instanceName']][_0x5c680b(0x409)](_0x4c9b63);}async[a0_0xe6bdb1(0x454)](_0x114317,_0xe6821){const _0x5a97bc=a0_0xe6bdb1;return await this[_0x5a97bc(0x25f)][_0x5a97bc(0x400)][_0x114317['instanceName']][_0x5a97bc(0x454)](_0xe6821);}async[a0_0xe6bdb1(0x4f2)](_0x148c18,_0x4f5da0){const _0x5e1056=a0_0xe6bdb1;return await this[_0x5e1056(0x25f)]['waInstances'][_0x148c18[_0x5e1056(0x2c4)]][_0x5e1056(0x4f2)](_0x4f5da0);}async[a0_0xe6bdb1(0x6b6)](_0x52be2c,_0x44dcd4){const _0x5b774a=a0_0xe6bdb1;return await this['waMonitor'][_0x5b774a(0x400)][_0x52be2c['instanceName']][_0x5b774a(0x6b6)](_0x44dcd4);}async['editFlowVaredit'](_0x5ebc98,_0x47f3ed){const _0x2d447c=a0_0xe6bdb1;return await this[_0x2d447c(0x25f)][_0x2d447c(0x400)][_0x5ebc98['instanceName']][_0x2d447c(0x206)](_0x47f3ed);}async['editFlowVariable'](_0x15b0e9,_0x213c8e){const _0x539a2d=a0_0xe6bdb1;return await this['waMonitor'][_0x539a2d(0x400)][_0x15b0e9['instanceName']][_0x539a2d(0x38b)](_0x213c8e);}async[a0_0xe6bdb1(0x44b)](_0x5dd98d,_0x30d496){const _0x297f0f=a0_0xe6bdb1;return await this[_0x297f0f(0x25f)][_0x297f0f(0x400)][_0x5dd98d[_0x297f0f(0x2c4)]][_0x297f0f(0x44b)](_0x30d496[_0x297f0f(0x34d)]);}async[a0_0xe6bdb1(0x6a0)](_0x54d17e){const _0x2d451b=a0_0xe6bdb1;return await this[_0x2d451b(0x25f)][_0x2d451b(0x400)][_0x54d17e[_0x2d451b(0x2c4)]]['allFlows']();}},jt=class{constructor(_0x203ac2){const _0x58b759=a0_0xe6bdb1;this[_0x58b759(0x1bd)]=_0x203ac2;}async[a0_0xe6bdb1(0x288)](_0xe3301a,_0x58dfa1){const _0x1e619b=a0_0xe6bdb1;return this['webhookService'][_0x1e619b(0x2dd)](_0xe3301a,_0x58dfa1);}async['findWebhook'](_0x2dc089){const _0x528cc9=a0_0xe6bdb1;return this[_0x528cc9(0x1bd)]['find'](_0x2dc089);}},Ft=class{constructor(_0x371108,_0x337a10,_0x12a712,_0x2d62c3,_0x470f92,_0xcbe5d3){const _0x58a0f9=a0_0xe6bdb1;this[_0x58a0f9(0x600)]=_0x371108,this[_0x58a0f9(0x497)]=_0x337a10,this[_0x58a0f9(0x69b)]=_0x12a712,this['webhook']=_0x2d62c3,this['auth']=_0x470f92,this['dbClient']=_0xcbe5d3;}get['dbServer'](){return this['dbClient'];}},fs=require(a0_0xe6bdb1(0x5f4)),ao=require('fs'),Bt=class extends W{constructor(_0x48ae15,_0x51a718){const _0xd5d1d8=a0_0xe6bdb1;super(_0x51a718),this['webhookModel']=_0x48ae15,this[_0xd5d1d8(0x440)]=_0x51a718;}async['create'](_0x5b8582,_0x40aec9){const _0x316022=a0_0xe6bdb1;try{return this[_0x316022(0x191)][_0x316022(0x33f)]?{'insertCount':(await this[_0x316022(0x6e3)][_0x316022(0x3e3)]({'_id':_0x40aec9},{..._0x5b8582},{'upsert':!0x0}))['modifiedCount']}:(this[_0x316022(0x44d)]({'path':(0x0,fs[_0x316022(0x56c)])(this[_0x316022(0x30b)],_0x316022(0x405)),'fileName':_0x40aec9,'data':_0x5b8582}),{'insertCount':0x1});}catch(_0x378212){return _0x378212;}}async[a0_0xe6bdb1(0x268)](_0x4fa6a4){const _0x80dc96=a0_0xe6bdb1;try{return this[_0x80dc96(0x191)]['ENABLED']?await this[_0x80dc96(0x6e3)][_0x80dc96(0x5d7)]({'_id':_0x4fa6a4}):JSON[_0x80dc96(0x2c9)]((0x0,ao['readFileSync'])((0x0,fs[_0x80dc96(0x56c)])(this['storePath'],'webhook',_0x4fa6a4+'.json'),{'encoding':_0x80dc96(0x6ec)}));}catch{return{};}}},ws=require('path'),oo=require('fs'),qt=class extends W{constructor(_0x24ed1b,_0xa2885a){const _0x4cde71=a0_0xe6bdb1;super(_0xa2885a),this['authModel']=_0x24ed1b,this['configService']=_0xa2885a,this[_0x4cde71(0x54c)]=_0xa2885a[_0x4cde71(0x47c)](_0x4cde71(0x67a));}async[a0_0xe6bdb1(0x2dd)](_0x53277c,_0x4f56fb){const _0x4ddfac=a0_0xe6bdb1;try{return this[_0x4ddfac(0x191)][_0x4ddfac(0x33f)]?{'insertCount':(await this[_0x4ddfac(0x3c4)]['replaceOne']({'_id':_0x4f56fb},{..._0x53277c},{'upsert':!0x0}))['modifiedCount']}:(this['writeStore']({'path':(0x0,ws['join'])(Gt,this['auth'][_0x4ddfac(0x50c)]),'fileName':_0x4f56fb,'data':_0x53277c}),{'insertCount':0x1});}catch(_0x2ed04a){return{'error':_0x2ed04a};}}async[a0_0xe6bdb1(0x268)](_0x506ade){const _0x508299=a0_0xe6bdb1;try{return this['dbSettings'][_0x508299(0x33f)]?await this[_0x508299(0x3c4)][_0x508299(0x5d7)]({'_id':_0x506ade}):JSON[_0x508299(0x2c9)]((0x0,oo[_0x508299(0x470)])((0x0,ws[_0x508299(0x56c)])(Gt,this[_0x508299(0x54c)][_0x508299(0x50c)],_0x506ade+_0x508299(0x633)),{'encoding':_0x508299(0x6ec)}));}catch{return{};}}},zo=new C(a0_0xe6bdb1(0x21d)),Qo=new $e(S),Yo=new Pt(S),Xo=new He(S),Zo=new Bt(Bs,S),ei=new qt(Js,S),le=new Ft(Qo,Yo,Xo,Zo,ei,M?.[a0_0xe6bdb1(0x668)]()),F=new _t(zt,S,le),ti=new rt(S,F,le),si=new Vt(F),us=new jt(si),R=new Jt(F),re=new $t(F,S,le,zt,ti),Ba=new Ut(F,S),K=new kt(F),D=new xt(F),V=new Lt(F);zo[a0_0xe6bdb1(0x6bf)]('Module\x20-\x20ON');var ep=require(a0_0xe6bdb1(0x6ce)),ys=require('fs'),io=T(require(a0_0xe6bdb1(0x66f))),ro=T(require(a0_0xe6bdb1(0x29d))),Re=class c{static #e;static set['app'](_0x3d44c3){this.#e=_0x3d44c3;}static get[a0_0xe6bdb1(0x66f)](){const _0x43a6d9=a0_0xe6bdb1;let {FULLCHAIN:_0x5ec036,PRIVKEY:_0x443514}=S[_0x43a6d9(0x47c)](_0x43a6d9(0x559));return io[_0x43a6d9(0x3f4)]({'cert':(0x0,ys[_0x43a6d9(0x470)])(_0x5ec036),'key':(0x0,ys[_0x43a6d9(0x470)])(_0x443514)},c.#e);}static get['http'](){const _0x35216f=a0_0xe6bdb1;return ro[_0x35216f(0x3f4)](c.#e);}},ge=T(require('fs')),go=T(require(a0_0xe6bdb1(0x6b0))),Me=T(require(a0_0xe6bdb1(0x72e))),Ie=T(require(a0_0xe6bdb1(0x5f4))),Oe=require('child_process');function ai(){const _0x2a7c9e=a0_0xe6bdb1;F[_0x2a7c9e(0x39b)]();let _0x1b4697=Ie[_0x2a7c9e(0x6cd)][_0x2a7c9e(0x56c)](__dirname,_0x2a7c9e(0x445));po(_0x1b4697);}var po=_0x2fd2ca=>{const _0x51540e=a0_0xe6bdb1;let _0x59ecca=ge[_0x51540e(0x6cd)][_0x51540e(0x5ba)](_0x2fd2ca),_0xf36e7a=0xc*0x3c*0x3c*0x3e8,_0x24e6aa=0x2*0x3c*0x3c*0x3e8,_0x15669f=new Date()[_0x51540e(0x62d)]();_0x59ecca['forEach'](_0x47cf49=>{const _0x139d3e=_0x51540e;let _0x33b301=Ie['default'][_0x139d3e(0x56c)](_0x2fd2ca,_0x47cf49),_0x250683=ge['default'][_0x139d3e(0x508)](_0x33b301)['birthtime'][_0x139d3e(0x62d)]();_0x15669f-_0x250683>_0xf36e7a&&(ge[_0x139d3e(0x6cd)][_0x139d3e(0x2c6)](_0x33b301),console['log'](_0x139d3e(0x709)+_0x47cf49));}),setTimeout(()=>po(_0x2fd2ca),_0x24e6aa);};function oi(){const _0x5200e3=a0_0xe6bdb1;let _0x53a711=new C(_0x5200e3(0x26b)),_0x286295=(0x0,me['default'])();_0x286295[_0x5200e3(0x674)]((0x0,uo['default'])({'origin'(_0x1823fe,_0x1874b3){const _0x3efefe=_0x5200e3;let {ORIGIN:_0x423436}=S[_0x3efefe(0x47c)]('CORS');return _0x1823fe||(_0x1823fe='*'),_0x423436['indexOf']('*')!==-0x1||_0x423436[_0x3efefe(0x6b8)](_0x1823fe)!==-0x1?_0x1874b3(null,!0x0):_0x1874b3(new Error(_0x3efefe(0x5bb)));},'methods':[...S[_0x5200e3(0x47c)](_0x5200e3(0x396))[_0x5200e3(0x4e6)]],'credentials':S[_0x5200e3(0x47c)](_0x5200e3(0x396))[_0x5200e3(0x69d)]}),(0x0,me['urlencoded'])({'extended':!0x0,'limit':_0x5200e3(0x1fc)}),(0x0,me[_0x5200e3(0x16a)])({'limit':'50mb'})),_0x286295['use']((_0x5333fd,_0x17ce25,_0x5bbe22)=>{const _0x3b00f1=_0x5200e3;_0x5333fd[_0x3b00f1(0x5f4)][_0x3b00f1(0x6c5)]('/events')?_0x5bbe22():(0x0,lo[_0x3b00f1(0x6cd)])()(_0x5333fd,_0x17ce25,_0x5bbe22);}),_0x286295['set']('view\x20engine',_0x5200e3(0x6a6)),_0x286295[_0x5200e3(0x3be)](_0x5200e3(0x221),(0x0,Ss[_0x5200e3(0x56c)])(Q,_0x5200e3(0x221))),_0x286295['use'](me[_0x5200e3(0x6cd)][_0x5200e3(0x176)]((0x0,Ss[_0x5200e3(0x56c)])(Q,_0x5200e3(0x3a9)))),_0x286295[_0x5200e3(0x674)]((_0x1aaf65,_0x451cb4,_0x442c5f)=>{const _0x3e4b47=_0x5200e3;let _0x217c04=_0x451cb4['send'];_0x451cb4[_0x3e4b47(0x726)]=function(_0x366955){const _0x2bb395=_0x3e4b47;if(_0x1aaf65[_0x2bb395(0x58a)]['convert']===_0x2bb395(0x5f6)||_0x1aaf65[_0x2bb395(0x59e)][_0x2bb395(0x27e)]==='true'){let _0x34f29e=JSON[_0x2bb395(0x2c9)](_0x366955);_0x366955=JSON[_0x2bb395(0x533)](_0x4f23fb(_0x34f29e));}return _0x217c04[_0x2bb395(0x1e7)](_0x451cb4,[_0x366955]);},_0x442c5f();}),_0x286295[_0x5200e3(0x674)]('/',Nt),_0x286295[_0x5200e3(0x674)]((_0x49e450,_0x4a0f92,_0x25f38d,_0xe027c8)=>{const _0x27364f=_0x5200e3;if(_0x49e450)return _0x25f38d[_0x27364f(0x453)](_0x49e450[_0x27364f(0x453)]||0x1f4)[_0x27364f(0x16a)](_0x49e450);},(_0x5170f2,_0x251842,_0x1ee3b4)=>{const _0x661b17=_0x5200e3;let {method:_0xd04ede,url:_0x1de8b6}=_0x5170f2;_0x251842['status'](0x194)[_0x661b17(0x16a)]({'status':0x194,'message':'Cannot\x20'+_0xd04ede['toUpperCase']()+'\x20'+_0x1de8b6,'error':_0x661b17(0x419)}),_0x1ee3b4();});let _0x4f23fb=(_0xa8fc3d,_0x50c2cb=_0x5200e3(0x546))=>{const _0x1e53b9=_0x5200e3;let _0x56a15e=(_0x906bcd,_0x50ace0=null,_0x4fbb0f=!0x1)=>{const _0x491ac9=a0_0x487d;let _0x5b3fbe={};return Object['keys'](_0x906bcd)[_0x491ac9(0x19f)](_0x1899cb=>{const _0x116a65=_0x491ac9;let _0x4689b1=_0x906bcd[_0x1899cb],_0x348c8f=''+_0x50c2cb+_0x1899cb;_0x50ace0&&!_0x4fbb0f&&(_0x348c8f=_0x50ace0+'.'+_0x1899cb),!_0x4689b1&&_0x4689b1!==0x0&&_0x4689b1!==!0x1||typeof _0x4689b1>'u'?_0x5b3fbe[_0x348c8f]=null:typeof _0x4689b1!='object'&&!Array[_0x116a65(0x290)](_0x4689b1)?_0x5b3fbe[_0x348c8f]=_0x4689b1:typeof _0x4689b1==_0x116a65(0x35f)&&!Array['isArray'](_0x4689b1)?_0x5b3fbe=Object[_0x116a65(0x15b)](_0x5b3fbe,_0x56a15e(_0x4689b1,_0x348c8f)):Array[_0x116a65(0x290)](_0x4689b1)&&(typeof _0x4689b1[0x0]==_0x116a65(0x35f)?(_0x5b3fbe[_0x348c8f]=[],_0x4689b1[_0x116a65(0x19f)](_0x1c15f0=>{_0x5b3fbe[_0x348c8f]['push'](_0x56a15e(_0x1c15f0,_0x348c8f,!0x0));})):_0x5b3fbe[_0x348c8f]=_0x4689b1);}),_0x5b3fbe;};return Array['isArray'](_0xa8fc3d)?_0xa8fc3d[_0x1e53b9(0x538)](_0x4d6242=>_0x56a15e(_0x4d6242)):typeof _0xa8fc3d==_0x1e53b9(0x35f)&&_0xa8fc3d!==null?_0x56a15e(_0xa8fc3d):{};},_0x339fac=S[_0x5200e3(0x47c)]('SERVER');Re[_0x5200e3(0x65c)]=_0x286295;let _0x4653c1=Re[_0x339fac[_0x5200e3(0x50c)]],_0x35decc=_0x5200e3(0x5f0);_0x4653c1[_0x5200e3(0x38c)](_0x339fac[_0x5200e3(0x5cd)],()=>{const _0x1ef2e5=_0x5200e3;_0x53a711['log'](_0x35decc),_0x53a711[_0x1ef2e5(0x6c7)](_0x339fac[_0x1ef2e5(0x50c)][_0x1ef2e5(0x214)]()+_0x1ef2e5(0x4aa)+_0x339fac['PORT']);}),ai(),_s();}var ii=a0_0xe6bdb1(0x157),ri=Ie[a0_0xe6bdb1(0x6cd)]['join'](__dirname,a0_0xe6bdb1(0x6a5)),Ae=null;function ni(){return new Promise((_0xde4544,_0x16840b)=>{const _0x178c04=a0_0x487d;ge[_0x178c04(0x6cd)][_0x178c04(0x61b)](ri,_0x178c04(0x6ec),(_0x308d65,_0x2b9b85)=>{const _0x38633e=_0x178c04;if(_0x308d65){Ae=_0x308d65,_0xde4544();return;}go['default'][_0x38633e(0x2c9)](_0x2b9b85)[_0x38633e(0x179)][_0x38633e(0x389)]===ii?(Ae=null,_0xde4544()):(Ae=new Error(_0x38633e(0x4bc)),_0xde4544());});});}async function ci(){const _0x25a055=a0_0xe6bdb1;try{await ni(),await Es();}catch(_0x3e7306){console[_0x25a055(0x507)](_0x25a055(0x23f)+_0x3e7306),process[_0x25a055(0x584)](0x1);}}ci();async function mo(){const _0x33d1eb=a0_0xe6bdb1;let _0x1de304;try{_0x1de304=(await Me[_0x33d1eb(0x6cd)][_0x33d1eb(0x47c)](_0x33d1eb(0x304)))[_0x33d1eb(0x388)]['ip'];}catch(_0x697f9c){console[_0x33d1eb(0x507)](_0x697f9c);try{_0x1de304=(await Me[_0x33d1eb(0x6cd)][_0x33d1eb(0x47c)](_0x33d1eb(0x5dc)))[_0x33d1eb(0x388)]['ip'];}catch(_0x10fae0){console[_0x33d1eb(0x507)](_0x10fae0);try{_0x1de304=(await Me['default'][_0x33d1eb(0x47c)]('http://checkip.dyndns.org'))[_0x33d1eb(0x388)]['match'](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x40c538){return console[_0x33d1eb(0x507)](_0x40c538),!0x1;}}}return _0x1de304;}var no=0x0;async function li(){const _0x667f8f=a0_0xe6bdb1;let _0x54f725=await new ne(S[_0x667f8f(0x47c)](_0x667f8f(0x186)))[_0x667f8f(0x18b)]();return console[_0x667f8f(0x6c7)]('instancias:\x20',_0x54f725[_0x667f8f(0x5b9)]),_0x54f725[_0x667f8f(0x5b9)];}async function ui(){const _0x4c59fe=a0_0xe6bdb1;let _0x454832=S[_0x4c59fe(0x47c)](_0x4c59fe(0x186)),_0x1ded3d=S[_0x4c59fe(0x47c)](_0x4c59fe(0x67a))['API_KEY'][_0x4c59fe(0x26f)],_0x1e56cd=S['get'](_0x4c59fe(0x559)),_0x5a1664=await mo(),_0xd3b60a=S[_0x4c59fe(0x47c)](_0x4c59fe(0x26b))[_0x4c59fe(0x5cd)];try{let _0xc1c043={'ip':_0x5a1664||null,'redis_enable':_0x454832?.[_0x4c59fe(0x33f)]||null,'apikey':_0x1ded3d||null,'ssl':_0x1e56cd?.[_0x4c59fe(0x4c2)]||null,'lastupdate':ho||null,'port':_0xd3b60a||null,'gitInstallError':Ae?.[_0x4c59fe(0x600)]||null};if(console['log'](_0x4c59fe(0x354),_0xc1c043['ip']),_0x454832&&_0x454832[_0x4c59fe(0x33f)]){let _0x193677=await li();_0xc1c043['instanceCount']=_0x193677||null;}for(let _0x37ea77 in _0xc1c043)_0xc1c043[_0x4c59fe(0x45d)](_0x37ea77)&&_0x37ea77!=='ip'&&(_0xc1c043[_0x37ea77]=JSON[_0x4c59fe(0x533)](_0xc1c043[_0x37ea77]));return(await Me[_0x4c59fe(0x6cd)][_0x4c59fe(0x205)](_0x4c59fe(0x494),_0xc1c043))[_0x4c59fe(0x388)];}catch(_0x5a17ba){return console[_0x4c59fe(0x507)](_0x5a17ba),!0x1;}}var bs=!0x1,ho=0x215,di=0x3,co=0x1b7740;async function Es(){const _0xde8917=a0_0xe6bdb1;if(!await mo())return console['error']('Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.'),_0xde8917(0x1ec);let _0x3db123=await ui();if(_0x3db123){if(_0x3db123[_0xde8917(0x58c)]['licenca']===!0x0){S['get'](_0xde8917(0x559))[_0xde8917(0x4c2)][_0xde8917(0x30a)](_0xde8917(0x222))&&_0x3db123[_0xde8917(0x58c)]['subdomain']&&(await mi(_0x3db123['response'][_0xde8917(0x4ca)],gi),await hi(_0xde8917(0x6d9),_0x3db123[_0xde8917(0x58c)][_0xde8917(0x4ca)]),console[_0xde8917(0x6c7)](_0xde8917(0x6b7)),setTimeout(()=>wi(),0x2710)),Ae===null&&_0x3db123[_0xde8917(0x58c)][_0xde8917(0x2ee)]-ho>0x0&&await pi(),bs||(bs=!0x0,oi());let _0x36c83f=0x24*0x3c*0x3c,_0x2f899d=_0x3db123['response'][_0xde8917(0x2a5)]>_0x36c83f?_0x36c83f:_0x3db123[_0xde8917(0x58c)][_0xde8917(0x2a5)],_0x53e6f0=Number(_0x2f899d);if(isNaN(_0x53e6f0)){console[_0xde8917(0x507)](_0xde8917(0x5a0));return;}let _0x1441cf=Math[_0xde8917(0x3a3)](_0x53e6f0/0xe10),_0x27341d=Math[_0xde8917(0x3a3)](_0x53e6f0%0xe10/0x3c),_0x54308e=new Date(Date[_0xde8917(0x33e)]()+_0x53e6f0*0x3e8);setTimeout(Es,_0x53e6f0*0x3e8);let _0xd24022=_0x345c48=>_0x345c48[_0xde8917(0x604)]()[_0xde8917(0x4a7)](0x2,'0'),_0x46aeda=_0xde8917(0x6ee)+_0xd24022(_0x1441cf)+_0xde8917(0x619)+_0xd24022(_0x27341d)+_0xde8917(0x552)+_0xd24022(_0x54308e[_0xde8917(0x28a)]())+':'+_0xd24022(_0x54308e[_0xde8917(0x6b5)]())+'.';console[_0xde8917(0x6c7)](_0x46aeda);}else return console['log'](_0xde8917(0x4ae)),bs&&(console[_0xde8917(0x6c7)](_0xde8917(0x2c5)),process[_0xde8917(0x584)]()),'LICENSE_INVALID';}else{if(no++,no<di)console[_0xde8917(0x6c7)](_0xde8917(0x2a7)+co/0xea60+_0xde8917(0x655)),setTimeout(Es,co);else return console[_0xde8917(0x507)](_0xde8917(0x59c)),_0xde8917(0x68f);}}async function pi(){const _0x2294da=a0_0xe6bdb1;console['log'](_0x2294da(0x35d));let _0x1e9d13=(0x0,Oe[_0x2294da(0x6fb)])(_0x2294da(0x666),{'shell':!0x0});_0x1e9d13[_0x2294da(0x27c)]['on'](_0x2294da(0x388),_0x3e9c1d=>{const _0x3fedc8=_0x2294da;console[_0x3fedc8(0x6c7)](_0x3fedc8(0x3b6)+_0x3e9c1d);}),_0x1e9d13[_0x2294da(0x4b0)]['on'](_0x2294da(0x388),_0x307433=>{const _0x38a926=_0x2294da;console[_0x38a926(0x507)]('Erro\x20de\x20atualização:\x20'+_0x307433);}),_0x1e9d13['on'](_0x2294da(0x584),_0x254760=>{const _0x2e9ffb=_0x2294da;_0x254760!==0x0?console[_0x2e9ffb(0x507)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x254760):console['log'](_0x2e9ffb(0x676)),console[_0x2e9ffb(0x6c7)](_0x2e9ffb(0x22c)),setTimeout(()=>process[_0x2e9ffb(0x584)](),0x2710);});}function a0_0x487d(_0x2fe37a,_0x22d91f){const _0x211a7c=a0_0x211a();return a0_0x487d=function(_0x487ddc,_0x15dfa9){_0x487ddc=_0x487ddc-0x14b;let _0x1b89aa=_0x211a7c[_0x487ddc];return _0x1b89aa;},a0_0x487d(_0x2fe37a,_0x22d91f);}var gi=Ie[a0_0xe6bdb1(0x6cd)][a0_0xe6bdb1(0x56c)](__dirname,a0_0xe6bdb1(0x272));async function mi(_0x46959f,_0x2e9070){const _0x451c42=a0_0xe6bdb1;let _0x547410=fi();_0x46959f=_0x46959f['replace'](_0x451c42(0x548),'');try{let _0x3a128c=ge[_0x451c42(0x6cd)]['readFileSync'](_0x2e9070,'utf8');_0x3a128c=_0x3a128c[_0x451c42(0x1e3)](/<apikey>/,_0x547410),_0x3a128c=_0x3a128c[_0x451c42(0x1e3)](/<subdomain>/g,_0x46959f),ge[_0x451c42(0x6cd)][_0x451c42(0x699)](_0x2e9070,_0x3a128c,_0x451c42(0x1f4)),console[_0x451c42(0x6c7)](_0x451c42(0x1b8));}catch(_0x3ee07e){console['error'](_0x451c42(0x57f),_0x3ee07e);}}function hi(_0x2d7c81,_0x2992bc){return new Promise((_0x1133c9,_0x3f1fc9)=>{const _0x1ccd10=a0_0x487d;let _0x292889=(0x0,Oe['spawn'])(_0x1ccd10(0x293),[_0x1ccd10(0x226),'--standalone','-m',_0x2d7c81,_0x1ccd10(0x163),'-d',_0x2992bc]);_0x292889[_0x1ccd10(0x27c)]['on'](_0x1ccd10(0x388),_0xdec7eb=>{const _0x5aa43e=_0x1ccd10;console['log'](_0x5aa43e(0x19e)+_0xdec7eb[_0x5aa43e(0x604)]());}),_0x292889[_0x1ccd10(0x4b0)]['on'](_0x1ccd10(0x388),_0x18bb44=>{console['error']('Erro\x20do\x20Certbot:\x20'+_0x18bb44['toString']());}),_0x292889['on'](_0x1ccd10(0x697),_0x21becb=>{const _0x231031=_0x1ccd10;_0x21becb!==0x0?(console['error']('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x21becb),_0x3f1fc9(_0x231031(0x587)+_0x21becb)):(console['log'](_0x231031(0x543)),_0x1133c9());});});}function fi(_0x40312d=0x32){const _0x3e7fe2=a0_0xe6bdb1;let _0x433727='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0xa3cdbf='';for(let _0x4d5f4d=0x0;_0x4d5f4d<_0x40312d;_0x4d5f4d++)_0xa3cdbf+=_0x433727[_0x3e7fe2(0x28e)](Math['floor'](Math[_0x3e7fe2(0x653)]()*_0x433727[_0x3e7fe2(0x5b9)]));return _0xa3cdbf;}function wi(){(0x0,Oe['exec'])('shutdown\x20-r\x20now',(_0x13feb1,_0xa1d6c7,_0x3f18a6)=>{const _0x38d87d=a0_0x487d;if(_0x13feb1){console[_0x38d87d(0x507)](_0x38d87d(0x60e)+_0x13feb1);return;}if(_0x3f18a6){console[_0x38d87d(0x507)](_0x38d87d(0x3e6)+_0x3f18a6);return;}console[_0x38d87d(0x6c7)](_0x38d87d(0x54d)+_0xa1d6c7);});}