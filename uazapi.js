function a0_0x5007(){const _0x36dc17=['lastSend','findChats','enumerable','stdout','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','createAndSave','Image\x20path:\x20','updateAll','notify','):\x20Flow\x20desativado','):\x20Entrou\x20na\x20função\x20saveReply','next_groupId','Revoke\x20error','Error\x20in\x20chatModify\x20for\x20number\x20','readreceipts','abs','\x22reaction\x22\x20must\x20be\x20an\x20emoji','desc','/message','enabled','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','\x1b[34m','Error\x20removing\x20profile\x20picture','app-state-sync-key','mongoose','chats.upsert','apikey','delayMessage','\x1b[1m','getMessageModelForOwner','port','fullName','Erro\x20de\x20reinicialização:\x20','#f64847','sendList','editFlowVaredit','leadInfo.customFields','collection','whatsappNumbers','buttonMessage','upperCase','):\x20nextBlock.uazapi.name','editFlowCondition','groupAcceptInvite','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','fetchProfilePicture','recording','\x20saindo\x20da\x20função','isInteger','312IsXuAA','PORT','sendAudio','editScheduleMessage','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','instanceKeys','displayName','group-participants.update','AUTHENTICATION_JWT_EXPIRIN_IN','order','application/json','sendMessage','Content-Type','61960idadzU','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','verbose','downloads','findContacts','--agree-tos','423GmflcW','saveCreds','axios','createInstance','/wa-presence','instance.','readMessages','Log\x20out\x20instance:\x20','Image\x20is\x20base64','DOCKER_ENV','addReplyOption','Contacts\x20not\x20found','REDIS_PREFIX_KEY','from','verify','notEmpty','deleteAll','messages.set','authModel','updateGroupPicture','limit','Erro\x20ao\x20adicionar\x20label\x20','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','username','g.us','updateMissingCustomFields','):\x20Procurando\x20mensagens\x20para\x20envio','50mb','Hash\x20to\x20audio\x20name:\x20','listMessage',',\x20Comparador:\x20','Erro\x20ao\x20buscar\x20conversa:\x20','editFlowBlock','add','Profile\x20not\x20found','node-mime-types','status','2417500KlLFxs','stateConnection','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','https://api.openai.com/v1/audio/speech','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','METHODS','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','Erro\x20ao\x20inserir\x20chats:','createNewConversation','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','/wa-groups','findOne','fetchBusinessProfile','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','presenceSubscribe','):\x20transformedCustomFieldVariables','.error','mimetype','lastSendMessage','\x20inseridas\x20no\x20banco\x20de\x20dados...','\x1b[30m','key','Erro\x20ao\x20remover\x20instâncias\x20antigas:','findMessages','.doc','participants','verifiedName','errors','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','title','announcement','deleteBlock','readdirSync','findWebhook','):\x20Criou\x20conversa\x20no\x20startFlow:','.ogg','Fetching\x20business\x20profile','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','):\x20Query\x20params:\x20',',\x20valor\x20a\x20encontrar:\x20\x22','waitingMenu_id','/wa-message','Selecione','/wa-contacts','lean','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','getContactModelForOwner','setRestartTimer','):\x20Error\x20processing\x20the\x20block:\x20','cpf','optionDescription','ReplyOptions\x20finais\x20após\x20reordenação:','copyDataToNewModel','__esModule','groupSetting','lastCondition','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','SERVER_ACK','../env.yml','MESSAGES_UPSERT','updateProfilePicturePrivacy','authState','match_last_seen','contacts.update','):\x20Editando\x20edição\x20do\x20fluxo...','eventHandler','pairingCode','\x20de\x20conectar\x20com\x20proxy.','toggleEphemeral','font','chats.delete','webhook','-whatsapp-api','connect','setContext','delete','ignoreGroups','Output\x20audio\x20path:\x20','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','URL\x20limpa:\x20','static','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','when','audio/ogg','timerId','GUARD','onWhatsApp','audioMessage','.\x20Pulando.','Esse\x20fluxo\x20expirou','copy','express','exec',',\x20fará\x20nova\x20verificação\x20em\x20','generateHash','updateGParticipate','unlinkSync','webhookMap','none','envProcess','sendMessageWithTyping','floor','dark','imageMessage','Fluxo\x20não\x20encontrado','stopMinutesMaxActives','AddChatLabel','stickerMessage','Close\x20connection','updateMediaMessage','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','organization','env.KEY\x20!==\x20key','redis://127.0.0.1:6379','getDelay','Erro\x20ao\x20importar\x20chats:','<subdomain>','wuid','labels.edit','isListOfNumbers','updateGroupsAddPrivacy','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','update','array','toBrazilianNumberFormat','#9568cf','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','readFile','reorderReplyOptions','request\x20received\x20in\x20updateCustomFields','findByIdAndUpdate','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','isRunning','Atualização:\x20','insertMany','Read\x20messages','utf-8','replaceVariablesLogs','varedit','sendSticker','privacySettings','remoteJids','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','replaceVariablesInObject','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','replaceOne','@broadcast','Business\x20profile\x20fetched','message','):\x20Criando\x20nova\x20conversa[createNewConversation]','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','getDevice','*Pergunta*:\x20\x0a','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','@s.whatsapp.net','configService','mentioned','g-t','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','assign','waitingMenu_replyOptions','Erro\x20ao\x20editar\x20o\x20bloco:\x20','equal','testProxy','writeFileSync','):\x20Conversa\x20inserida\x20com\x20sucesso.','less','linkPreview','caption','no.connection','startFlow','online','label_jid','waUploadToServer','\x20inseridos\x20no\x20banco\x20de\x20dados...','data:\x20','_ScheduleMessages','Mensagem\x20não\x20suportada','#9ab6c1','toUpperCase','leaveGroup','}}\x20->\x20\x22','):\x20Enviando\x20enquete','lastInteraction','includes','replaceVariablesInReplyOptions','CHATS_UPDATE','REDIS','Connection','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','item','):\x20teve\x20mudanças\x20chat.displayName:\x20','subject','variablesNotFound','subjectTime','/:instanceName','joinGroup','shift','Types','menuMessage','CONNECTION','Rótulo\x20inválido\x20ou\x20sem\x20ID.','isArray','Instance\x20deleted','):\x20lastBlockId:\x20','Telefone:\x20','WARN','editFlow','/wa-qrcode','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','URL','host','paused','detail','\x1b[40m','):\x20Query\x20params:','extractRegex','revokeInviteCode','https://','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','logout','viewOnceMessageV2Extension','deleteReplyOption','EMAIL','updateProfileStatus','documentWithCaptionMessage','\x20adicionado\x20ao\x20chat\x20','leadInfo.desativadoFluxoAte','scheduleSendAudio','request\x20received\x20in\x20getConversation','resetReconnectionVariables','/create','name','Authentication\x20error','repository','updateGParticipant','reconnectAttempts','uazapiSendContact','execSync','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','groupFetchAllParticipating','writeData','dayjs','groups.upsert','profile','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','fromMe','reorderBlocks','mediaSticker','closeExistingConversations','editflowgroup','Instância:\x20','lastmsg','Notifying\x20clients\x20for\x20chat:\x20','error\x20get\x20vote','participant','):\x20Fluxos\x20não\x20estão\x20ativados','getAutomateSystem','audio/aac','pre','deleteChat','available','segundos','):\x20customFieldVariables','\x1b[46m','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','https://api.openai.com/v1/images/generations','delayChatLabel','headerString','urlencoded','):\x20Buscando\x20conversa...','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','Variável\x20não\x20encontrada!','messages.update','Last\x20message\x20not\x20found\x20for\x20number:','STATUS_INSTANCE','profilePicture','_Flows','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','console','selectableCount','Flow\x20already\x20exists','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','READ','eventEmitter','2037805ncPSCy','):\x20conversation.status:\x20','qrcode-terminal','demote','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','SSL_CONF_PRIVKEY','contactsArrayMessage','\x1b[33m\x1b[1m','):\x20Bloco\x20copiado:\x20','unavailable','\x20segundos','#83e421','convertToWebP','ReplyOption\x20com\x20ID\x20','webhookService','dbSettings','findOneAndUpdate','flowActive','sleep','\x20não\x20encontrado\x20para\x20atualização.','WA\x20MODULE','SERVER_TYPE','groupValidate','where','):\x20atualização\x20chat:\x20','padStart','\x20contacts','flowStopMinutes','entries','Label\x20','website','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','class-validator','.pdf','uazapiSendText','):\x20Conversa\x20está\x20expirada\x20-\x20voto','isConnected','dataValidate','notEqual','node-cache','presence.update','default','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','jid','Temp\x20audio\x20created','prepareWAMessageMedia','buffer','localWebhook','contactname','):\x20Conversas\x20encontradas:','getBusinessProfile','menuType','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','role','base64','isJWT','):\x20Criando\x20fluxo...','info','request\x20received\x20in\x20createFlow','msgRetryCounterCache','close','updateCustomFields','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','requestPairingCode','shutdown\x20-r\x20now','Error\x20fetching\x20group','setHeader','JWT','lastMessage','copyBlock','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','saveVariable','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','groupJid','instanceCount','importChatsBatch','Error\x20updating\x20setting','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','Erro\x20inesperado\x20em\x20processvaredits:\x20','toString','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','pollOnReplyDelete','ChatRouter','put','owner','all','readMessageBot','InstancesAlterarTodas','Schema','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','statSync','Connection\x20closed\x20for\x20instance:\x20','URI','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','8080','fone','SEND_MESSAGE','logger','findParticipants','noConnection','split','textMessage','viewOnceMessageV2','updateConversation','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','chat','composing','option','options','sha256','DATABASE_ENABLED','\x20ao\x20chat\x20','sort','mediaMessage','cleanStore','\x22\x20cannot\x20be\x20empty','lowerCase','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','updateMissingEtiquetas','/wa-chats','API\x20Key\x20inválida.','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','):\x20Alterando\x20fluxo...','contains','request\x20received\x20in\x20deleteConversation','last_update','getConversation','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','urlOrBase64','realVariables','INFO','block','load','editOperator','):\x20Enviando\x20texto','uncaughtException','width','hSet',',\x20pairCode:\x20','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','rows','rowId','minutesToClose','pollErrorMessage','bodyString','):\x20Editando\x20bloco...','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','mentions','Comando\x20desconhecido','unreadcount','makeCacheableSignalKeyStore','getLabelModelForOwner','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','\x1b[33m',',\x20Minutes\x20to\x20Close:\x20','instances','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','headers','deleteOne','content','prepareMediaMessage','CHATS_SET','silent','js-yaml','/*.json','eventemitter2','@g.us','backgroundColor','6yccAdX','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','AUTHENTICATION','apply','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','Erro:','BufferJSON','editFlowReply','Type\x20not\x20found','groupDesc','PRESENCE_UPDATE','.webp','use','ephemeralExpiration','audio/mp4','scheduleNextCheck','#ff9484','router','ids','sendText','-instances','messageHandle','dropCollection','#b4ebff','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','connecting','266519ikphXd','https://api.ipify.org?format=json','File\x20written\x20to\x20path:\x20','authorization','SERVER_PORT','EXPIRIN_IN','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','groupMetadata','Sistema\x20atualizado\x20com\x20sucesso!','AUTHENTICATION_TYPE','.png','No\x20invite\x20code','params','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','prototype','no-cache','DisconnectReason','bulkWrite','Instance\x20\x22','agents','CHATS_UPSERT','capitalizedWords','#d3a91f','\x1b[36m','whatsappNumber','round','groups.update','DATABASE_CONNECTION_HOST','WebhookGlobal','DATABASE','request\x20received\x20in\x20editFlow','CONTACTS_UPSERT','/automate','contextInfo','contacts','Read\x20messages\x20fail','conversationTimestamp','trimmed','SECRET','existsSync','Error\x20updating\x20participants','auth','connectionClosed','#000000','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','\x20minutos\x20verificará\x20novas\x20mensagens','apirequest','isLong','importChats','isBase64','protocol','slice','getBase64FromMediaMessage','uazapiDeleteMessage','findAndReplace','Instance\x20restarted','Fluxos\x20não\x20estão\x20ativados','contact_blacklist','picture','documentMessage','defineAuthState','waInstances','isBusiness','createClient','error_log','folder','get','fileName','\x1b[37m','CLEANING_INTERVAL','sendPoll','sendPresenceUpdate','TEL','LOG_LEVEL','reference','deleteMessage','endSession','#ffae04','updateBlock','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','$pull','messagesSend','stanzaId','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','AUTHENTICATION_API_KEY','getAllData','post','delaySecMin','):\x20Dados\x20migrados\x20com\x20sucesso','https://api.elevenlabs.io/v1/text-to-speech/','@newsletter','):\x20','https://jsonip.com','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','$set','subjectOwner','getFlowModelForOwner','getMinutes','Instance\x20logged\x20out','readData','metadata','flowConversation','deleteMany','ex:\x20\x22groupJid=120362@g.us\x22','qrcode','applyvaredit','scheduleMessages','/config','group\x20ignored','\x20quoted:\x20','success','groupParticipantsUpdate','\x20com\x20sucesso.','convertedOptions','):\x20Enviando\x20mídia','\x22\x20-\x20REMOVED','fetchInstances','public','startsWith','saveMediaToFile','CORS_CREDENTIALS','API_KEY',',\x20Segundo\x20Valor:\x20','--standalone','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Início','removeOlderDisconnectedInstances','valid','errorLog','):\x20não\x20encontrou','/wa-connection-update','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','\x20não\x20encontrado\x20para\x20cópia','createFlow','pino','\x22\x20-\x20NOT\x20CONNECTION','#00a1f2','Erro\x20ao\x20deletar\x20chat:','instance','statusCode','initAuthCreds','PLAYED','/instance/connect','The\x20global\x20api\x20key\x20must\x20be\x20set','.txt','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','fetchConversation','video','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','editflow','Resposta\x20do\x20Teste\x20do\x20Proxy:','updateProfileName','not_announcement','env.yml','.X-ABLabel:Celular\x0a','query','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','unknown\x20operation\x20type\x20[','fileLength','DELETED','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','Error\x20updating\x20profile\x20name','FlowModel','getChatModelForOwner','fromObject','):\x20alterando\x20this.AutomateSystem','findOrCreate','.\x20Aguardando\x20antes\x20de\x20reconectar...','Including\x20timestamp\x20in\x20url:\x20','):\x20Edit\x20schedule\x20message...','All_Instances_Config','Certbot:\x20','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','imported','OrAnd','dbClient','#92ceac','desativadoFluxoAte','_Contacts','type','apiName','fetchMessages','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','No\x20join\x20group\x20invite\x20code\x20or\x20url','uuid','allflows','nome','oldToken','):\x20Entrou\x20na\x20função\x20goToFlow','pollCreationMessage','statusMessage','gifPlayback','some','):\x20Ler\x20mensagem','BRL','getLastMessage','DELIVERY_ACK',',\x20saindo.','content-type','sendStatus','flowPrefixCommand','getPrototypeOf','Unknown\x20message\x20type\x20or\x20empty\x20message','pollCreationMessageKey','):\x20isVote:\x20','max','Error\x20updating\x20profile\x20picture','request\x20received\x20in\x20starFlow','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','Host\x20de\x20proxy\x20em\x20\x27auth\x27\x20não\x20encontrado,\x20selecionando\x20um\x20proxy\x20aleatório.','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','):\x20Editando\x20condição\x20do\x20fluxo...','ip:\x20','@whiskeysockets/baileys','replyOption','Logger','size','sem\x20texto\x20na\x20mensagem','\x20not\x20found,\x20retrying\x20in\x20','waitingMenu_ExpiredMessage','Database\x20is\x20not\x20enabled','pollMessage','menuIgnoreNonVotes','\x20after\x20','deleteConversation','fetchLabels','):\x20Enviando\x20contato','CONNECTION_UPDATE','ListMessage','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','\x20-\x20ON:\x20','chatId','endsWith','DaysToDelete','Flow\x20não\x20encontrado','getMIMEType','contacts.upsert','updateOne','delaySecMax','numbers','poll','MessageModel','Error\x20creating\x20group','SUCCESS','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','Proxy\x20funcionando!','now','\x20foi\x20interrompido\x20pelo\x20usuário.','delAll','Temp\x20audio\x20deleted','.svg','augusto.fcs@gmail.com','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','lastReceivedMessage','modifiedCount','tags','newStoppedUntil','mongodb://','subdomain','getStatus','pushName','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','local_map','pollCreationMessageV2','flowname:\x20','scheduleSendText','findGroupInfos','findConversation','arraybuffer','mediaKey','updateProfilePicture','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','storePath','view\x20engine','Error\x20updating\x20profile\x20status','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','done','Chat\x20','Rótulo\x20deletado:','12TCnzZM','request\x20received\x20in\x20updateAgent',',\x20valor\x20passado:\x20\x22','createflow','Missing\x20global\x20api\x20key','map','flowConfig','pollCreationMessageV3','flow','writeFile','findById','deleteflow','Error\x20in\x20markMessageAsRead:','customFields','):\x20Comando\x20desconhecido:\x20','getTime','password','loadWebhook','#56ccb4','Last\x20message\x20not\x20found','findGroups','getOwnPropertyDescriptor','Rótulo\x20atualizado:','setNewValue','CORS','http://checkip.dyndns.org','express-async-errors','\x20horas\x20e\x20','AutomateFunctions',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','Router','LOG_COLOR','moreLogs','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','Primeiro\x20Valor:\x20','trim','warn','messages.upsert','groupName','hGetAll','/wa-message-update','toDataURL','chatHandle','getFlow','changeVariables','Type\x20defined\x20as\x20audio','#01d0e2','Não\x20respondeu\x20com\x20a\x20enquete.','insertCount','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','create','labels.association','forEach','presence','contact','SINGLE_SELECT','#fe9dfe','replyOptions','Erro\x20ao\x20testar\x20o\x20proxy','groupRevokeInvite','Nenhum\x20proxy\x20funcional\x20encontrado\x20ou\x20desabilitado.','CONTACTS_UPDATE','newValue','email','namespace','response','):(','reviver','Erro\x20ao\x20editar\x20a\x20conversa:\x20','phoneNumber','ConversationModel','\x1b[43m','delayChatLabel_MAX_RETRIES','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','checkAndRestartProcess','toBRL','deleted','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','VERBOSE','Bloco\x20com\x20ID\x20','connectToWhatsapp','groupId','findAll','data','Image\x20is\x20url','Group\x20not\x20found','conversation','qrCode','dbServer','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','.webm','NO_IP','isURL','uazapiSendAudio','leadInfo.','USER','quoted','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','request\x20received\x20in\x20editFlowgroup','isJidGroup','):\x20Editando\x20grupo\x20do\x20fluxo...','importChatsAntigo','empty','body','and','status.instance','Temp\x20audio\x20path:\x20','createSectionsFromValues','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','getRandomText','description','atendimentoAberto','/exit','):\x20Visualizando\x20AutomateSystem','connectedName','scheduleMessage','release','editChat','HH:mm:ss','footerText','connectionStatus','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','Conexão\x20estabelecida','status@broadcast','text/event-stream','sendMenu','updatePrivacySettings','Data\x20inválida\x20fornecida','audioWhatsapp','request\x20received\x20in\x20scheduleMessage','Certbot\x20executado\x20com\x20sucesso.','findLabels','processingScheduleMessageId','editFlowVariable','ini','audio','editedMessage','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','media','createJid','exists','\x1b[33m%s\x1b[0m','indexOf','utf8','ENABLED','sendButtons','updateAgent','sendMedia','maxActives','GROUP_PARTICIPANTS_UPDATE','Error\x20updating\x20privacy\x20settings','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','PROXY','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','Audio\x20is\x20url','state','last','normalizeMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','decryptPollVote','created','count','buttons','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','toLocaleString','creds.update','toNumber','sending','/instance/fetchInstances','reaction','Nenhum\x20chat\x20encontrado\x20para\x20editar.','\x22,\x20valor\x20a\x20substituir:\x20\x22','preview','long','):\x20debug\x20alterando\x20this.AutomateSystem','CORS_ORIGIN','Trying\x20to\x20get\x20business\x20profile','/chat','groups_ignore','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','):\x20Going\x20to\x20','@ffmpeg-installer/ffmpeg','document','model','connectionUpdate','/instance/delete','Subscribed\x20Events:','instanceInfo','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','\x20minutos','Module\x20-\x20ON','uazapiSendLocation','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','STORE_CONTACTS','pt-BR','*\x0a\x0a','):\x20Deletando\x20conversa...','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','rm\x20-rf\x20','inner','arrayUnique','?timestamp=','messageId','getScheduleMessageModelForOwner','hasOwnProperty','output','CHATS_DELETE','chats.update','cleaningUp','connectionState','updateMissingLabels','unreadCount','notMatchRegex','^\x5cd+[\x5c.@\x5cw-]+','groupLeave','getClient','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','removed','):\x20Erro\x20ao\x20criar\x20fluxo\x20','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','loadEnv','$addToSet','toFile','getflow','archive','getVariablesChat','padEnd','find',',\x20resultado:\x20','Db\x20Connection','fetchProfilePictureUrl','.TEL;waid=','set','getMessage','archived','qrcode.updated','deleteInstance','variable','expiration','EMAIL:','Not\x20Found','):\x20Enviando\x20áudio','groupadd','process','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','updateMessage','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','toArray','code','choices','chats.set','format','Error\x20update\x20group\x20picture','MESSAGES_SET','messageTimestamp','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','findByIdAndDelete','findGroup','TEXT','\x0aFN:','DATABASE_CONNECTION_USER','createServer','sticker','sharp','):\x20Limpando\x20delayMessage','number','createWebhook','stringify','\x1b[0m','processUazapi',',\x20Expiration\x20Time:\x20','markMessageAsRead','PRODUCT_LIST','STORE_CLEANING_TERMINAL','removeData','stderr','\x20}\x0a','editConversation','_Labels','GROUPS_UPSERT','Error\x20change\x20group\x20description','variables','updateReplyOption','binary','replace','sendLocation','SERVER_OFFLINE','groupHandler','\x1b[32m','onTime','generateWAMessageFromContent','url','getProfileName','API\x20Key\x20from\x20Request:','min','throwAndLogError','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','request\x20body:\x20','vcard','!stop','groups','/instance','mediatype','label','authService','.jwt','Audio\x20converted\x20to\x20mp4','):\x20Editando\x20variável\x20do\x20fluxo...','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','sign','leadInfo','collections','originalUrl','updatePresence','Converted\x20image\x20deleted','SERVER','Erro\x20ao\x20remover\x20label\x20','sendCommand','Message','STORE_MESSAGE','optionName','LOG','https://uazapi-plugin.bubbleapps.io/','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','processblock','context','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','.xls','):\x20newSecondValue\x20após\x20replaceVariables:','Erro\x20ao\x20deletar\x20mensagens:','\x1b[44m','editflowvaredit','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','Imagem\x20não\x20encontrada','PENDING','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','refused','oldValue','/media/','jwt','request\x20received\x20in\x20deleteDoneMessages','varedits','routerPath','error','remoteJid','\x20do\x20chat\x20',',\x20qrcodeCount:\x20','webhookModel','):\x20Ignoring\x20group\x20messages.','reconnectTimestamps','This\x20name\x20','editflowreply','Erro\x20de\x20atualização:\x20','encoding','unlocked','AutomateSystem','path','Getting\x20profile\x20info','dbInstance','protocolMessage','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','request\x20received\x20in\x20editConversation','NextBlock','redirect','updateMissingTags','DARK','chats','\x5c$&','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','groupUpdateSubject','loggedOut','updateOnlinePrivacy','Chat\x20com\x20ID\x20','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','proto','3109750kffecy','.pptx','\x1b[30m%s\x1b[0m','Processing\x20audio','push','PREFIX_KEY','Erro\x20ao\x20copiar\x20dados:','LICENSE_INVALID','mongodb','_activatedCount','firstValue','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','image','deleteMessageForEveryone','fetchProfile2','getScheduleMessage','RemoveChatLabel','keep-alive','SERVER_URL','waitingMenu_text','conditions','remoteJidsRemaining','ERROR','request\x20received\x20in\x20getAutomateSystem','color','):\x20Mensagem\x20já\x20enviada\x20para\x20','not\x20loaded','ChatModel','flattenObject','Conversa\x20deletada\x20com\x20sucesso.','parse','AppStateSyncKeyData','fetchChats','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','sendWhatsAppAudio','processPollUpdateMessage','birthtime','Parando\x20aplicação...','SSL_CONF','child_process','blocks','processgoToFlow','?authSource=admin&readPreference=primary&directConnection=true','DB_PREFIX_NAME','charAt','processApiRequest','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','processConditions','requestFile','CORS_METHODS','Deleted\x20','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','locationMessage','):\x20Error\x20processing\x20conditions:\x20','statusJidList','validate','height','checkAndUpdateChatStatus','ObjectId','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','etiquetas','src','@redis/client','removeProfilePicture','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','address','!cmd_','integer','editflowvariable','request\x20received\x20in\x20getFlow','announce','CONTACTS_SET','hDel','DEBUG','convertaudio','Erro\x20ao\x20atualizar\x20o\x20flow.','upsertChats','formatVCard','\x20-y','Button\x20texts\x20cannot\x20be\x20repeated','/media','):\x20teve\x20mudanças\x20chat.name:\x20','pollMessageOnDelete','Chrome','\x20chats\x20de\x20','stopWhenYouSendMsg','\x1b[34m%s\x1b[0m','buttonText','secondValue','sectionsToString','TYPE','exports','):\x20Current\x20Time:\x20','SendScheduleMessage','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','toLowerCase','repeat','Forbidden','flowName','_id','contactHandle','contentText','request\x20received\x20in\x20allFlows','\x20minutos.\x20Será\x20às\x20','cors','\x0a*Você\x20respondeu*:\x0a','Type\x20is\x20required','.ppt','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','closed','client','method','exit','KEY','store','stopConversation','stopped','readMessage','Flow\x20iniciado\x20com\x20','cache','editFlowGroup','reactionMessage','menuExpiredMessage','\x1b[31m','connection.update','fetchPrivacySettings','_error','Error\x20change\x20group\x20name','generate','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','length','restartInstance','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','QRCODE_UPDATED','send','listen','goToFlow','Output\x20path:\x20','true','pop','/group','isJidUser','scheduleSendMedia','hex','instanceName','createConversationforgoToFlow','formatBRNumber','END:VCARD','No\x20participants','/clients-info','debug','parseInt','readFileSync','):\x20Campos\x20a\x20serem\x20atualizados:','goNextblock','Instância\x20não\x20encontrada.','senderKeyDistributionMessage','608338RFAIGu','groupSettingUpdate','hGet','open',')\x20fromMe:\x20','greater','updateOneById','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','deleteDoneMessages','scheduled','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','stopIfLastReturnedError','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','\x1b[31m%s\x1b[0m','selectedOptions','MAX_RECONNECT_ATTEMPTS','header','responsavelid','Getting\x20profile\x20with\x20jid:\x20','match','blockLogs','certbot','\x1b[47m','.mp4','message_normalized','FlowRouter','contactMessage','updateStopChat','out','createConversationforStartFlow','notas','connectToWhatsappController','HttpsProxyAgent','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','lastBlockId','The\x20property\x20cannot\x20be\x20empty','object','Hash\x20to\x20image\x20name:\x20','uazapiSendMenu','apiResponse','http','getContentType','restart','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','removeInstance','Erro\x20ao\x20iniciar\x20fluxo:\x20','variablesToObject','updateFlowConfig','activatedCount','#6f7bcf','uazapi','saveChatVariables','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','):\x20leadInfoVariables','https://chat.whatsapp.com/','fetchProfile','):\x20Procurando\x20conversa','allContacts','Converting\x20image\x20to\x20WebP\x20to\x20sticker','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','Tentativa\x20','user','badSession','instanceName\x20not\x20provided.','MESSAGES_UPDATE','\x20não\x20encontrado','inviteCode','updateChatWithMessage','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','processvaredits','group','listType','blockId','listResponseMessage','findFlow','getConversationModelForOwner','imagechat','):\x20Flow\x20não\x20encontrado','loadproxy','evaluateCondition','sendReaction','log','random','value','\x1b[36m%s\x1b[0m','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','ERROR:\x20','groupToggleEphemeral','deletedCount','ephemeralMessage','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','mkdirSync','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','certonly','updateStatusPrivacy','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','authentication','AUTHENTICATION_JWT_SECRET','CONFIGURAÇÃO\x20GERAL:','prefixCommand','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','addBlock','https','/instance/create','editflowcondition','CONECTADO\x20À\x20UAZAPI','2VUEGBW','insert','archiveChat','\x20is\x20already\x20in\x20use.','condition','pollUpdateMessage','string','Error\x20in\x20scheduleNextCheck:\x20','nomecompleto','expression','buttonId','sendDataWebhook','request\x20received\x20in\x20updateFlowConfig','text','replacer','):\x20Buscando\x20todos\x20os\x20fluxos...','Tentando\x20reconectar...','DATABASE_CONNECTION_DB_PREFIX_NAME','\x20removido\x20do\x20chat\x20','automateSystem','/events/:instance','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','webp','start','groupUpdateDescription','GROUPS_UPDATE','redisEnv','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','drop','#9ba6ff','Erro\x20ao\x20atualizar\x20o\x20fluxo:','Invalid\x20format','env','Error\x20updating\x20message\x20status:','envYaml','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','action','spawn','keys','filter','allFlows','lastDisconnect','findIndex','chatLog','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','42712hRHIxC','remove','creds','has','sendContact','Configuração\x20do\x20ip:','saveConversationToDatabase','updateMany','}}\x20->\x20valor\x20não\x20encontrado','evaluateConditionTest','Image\x20created','delayChatLabel_RETRY_DELAY_MS','findAndReplaceRegex','replaceVariablesChat','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','setting','Variáveis\x20não\x20encontradas:','messaging-history.set','.mp3','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','replaceVariables','createGroup','getOwnPropertyNames','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','save','request\x20received\x20in\x20editFlowvariable','delay','deleteFlow','longitude','emit','test','fetchLatestBaileysVersion','creds.json','ListType','latitude','Unauthorized','Converting\x20audio\x20to\x20mp4','redis','.docx','://','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','#ffffff','values','profilePictureUrl','join','jsonwebtoken','addresss','E-mail:\x20','^\x5cd+','messageContextInfo','licenca','_p_','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','boolean','DATABASE_CONNECTION_URI','waMonitor','https://github.com/uazapi/uazapi.git','PRIVKEY','Internal\x20Server\x20Error','fetchContacts','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','sections','Cannot\x20','):\x20conversation.waitingMenu_name','temp-','json','remove.instance','Validate','FULLCHAIN','matchRegex','end','viewOnceMessage','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','Falta\x20informação\x20para\x20a\x20chamada\x20API','findGroupInfo','events','uazapiSendMedia','Erro\x20ao\x20aplicar\x20varedit:\x20','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','messages','Sending\x20audio\x20whatsapp',',\x20Resultado:\x20','stopMinutes','write','userDevicesCache','messageSecret','useMultiFileAuthState','vote','\x1b[41m','substring','splice','Bad\x20Request','del','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'];a0_0x5007=function(){return _0x36dc17;};return a0_0x5007();}const a0_0x22d3e1=a0_0x2c76;(function(_0x295070,_0x54003f){const _0x3534e3=a0_0x2c76,_0x2f0b65=_0x295070();while(!![]){try{const _0x5f635f=parseInt(_0x3534e3(0x4ce))/0x1*(-parseInt(_0x3534e3(0x539))/0x2)+-parseInt(_0x3534e3(0x2ba))/0x3*(parseInt(_0x3534e3(0x603))/0x4)+-parseInt(_0x3534e3(0xdd))/0x5*(-parseInt(_0x3534e3(0x187))/0x6)+parseInt(_0x3534e3(0x431))/0x7+-parseInt(_0x3534e3(0x566))/0x8*(parseInt(_0x3534e3(0x609))/0x9)+-parseInt(_0x3534e3(0x62e))/0xa+parseInt(_0x3534e3(0x1a1))/0xb*(parseInt(_0x3534e3(0x5f5))/0xc);if(_0x5f635f===_0x54003f)break;else _0x2f0b65['push'](_0x2f0b65['shift']());}catch(_0x956d46){_0x2f0b65['push'](_0x2f0b65['shift']());}}}(a0_0x5007,0x4dd40));var _o=Object['create'],Ie=Object['defineProperty'],Po=Object[a0_0x22d3e1(0x2cf)],$o=Object[a0_0x22d3e1(0x57c)],ko=Object[a0_0x22d3e1(0x26b)],Lo=Object[a0_0x22d3e1(0x1af)][a0_0x22d3e1(0x386)],jo=(_0x49b15d,_0x1d9419)=>{for(var _0x18d455 in _0x1d9419)Ie(_0x49b15d,_0x18d455,{'get':_0x1d9419[_0x18d455],'enumerable':!0x0});},xs=(_0x526a47,_0x5771d7,_0x599d26,_0x4aae50)=>{const _0x659f83=a0_0x22d3e1;if(_0x5771d7&&typeof _0x5771d7==_0x659f83(0x4f2)||typeof _0x5771d7=='function'){for(let _0x32744f of $o(_0x5771d7))!Lo['call'](_0x526a47,_0x32744f)&&_0x32744f!==_0x599d26&&Ie(_0x526a47,_0x32744f,{'get':()=>_0x5771d7[_0x32744f],'enumerable':!(_0x4aae50=Po(_0x5771d7,_0x32744f))||_0x4aae50[_0x659f83(0x5c6)]});}return _0x526a47;},R=(_0x3fe2b3,_0x4a59a8,_0x44ee58)=>(_0x44ee58=_0x3fe2b3!=null?_o(ko(_0x3fe2b3)):{},xs(_0x4a59a8||!_0x3fe2b3||!_0x3fe2b3[a0_0x22d3e1(0x665)]?Ie(_0x44ee58,'default',{'value':_0x3fe2b3,'enumerable':!0x0}):_0x44ee58,_0x3fe2b3)),Fo=_0xdbbde7=>xs(Ie({},a0_0x22d3e1(0x665),{'value':!0x0}),_0xdbbde7),zr={};jo(zr,{'subdomain':()=>vs}),module[a0_0x22d3e1(0x48c)]=Fo(zr);var To=R(require('compression')),_s=require('fs'),Ps=require(a0_0x22d3e1(0x182)),$s=require(a0_0x22d3e1(0x41e)),xe=require(a0_0x22d3e1(0x41e)),ae=process['cwd'](),ge=(0x0,xe[a0_0x22d3e1(0x592)])(ae,a0_0x22d3e1(0x17a)),Ds=(0x0,xe['join'])(ae,a0_0x22d3e1(0x46e)),Ui=(0x0,xe[a0_0x22d3e1(0x592)])(ae,a0_0x22d3e1(0x4a3),'auth'),Zt=class{constructor(){const _0x3cb5ba=a0_0x22d3e1;this[_0x3cb5ba(0x396)]();}[a0_0x22d3e1(0x1e3)](_0x2863a3){return this['env'][_0x2863a3];}[a0_0x22d3e1(0x396)](){const _0x5afc69=a0_0x22d3e1;this[_0x5afc69(0x559)]=process[_0x5afc69(0x559)]?.[_0x5afc69(0x612)]!==_0x5afc69(0x4bb)?this[_0x5afc69(0x55b)]():this[_0x5afc69(0x693)](),process[_0x5afc69(0x559)]?.['DOCKER_ENV']===_0x5afc69(0x4bb)&&(this['env']['SERVER']['TYPE']=_0x5afc69(0x4f6),this[_0x5afc69(0x559)]['SERVER'][_0x5afc69(0x5f6)]=Number[_0x5afc69(0x4c8)](process[_0x5afc69(0x559)]?.['SERVER_PORT']??_0x5afc69(0x13c)));}[a0_0x22d3e1(0x55b)](){const _0x257d93=a0_0x22d3e1;return(0x0,Ps[_0x257d93(0x162)])((0x0,_s[_0x257d93(0x4c9)])((0x0,$s[_0x257d93(0x592)])(Ds,_0x257d93(0x66a)),{'encoding':_0x257d93(0x6b8)}));}[a0_0x22d3e1(0x693)](){const _0x1e5ea7=a0_0x22d3e1;return{'SERVER':{'TYPE':process[_0x1e5ea7(0x559)][_0x1e5ea7(0xf2)],'PORT':Number[_0x1e5ea7(0x4c8)](process[_0x1e5ea7(0x559)][_0x1e5ea7(0x1a5)]),'URL':process[_0x1e5ea7(0x559)][_0x1e5ea7(0x443)]},'CORS':{'ORIGIN':process[_0x1e5ea7(0x559)][_0x1e5ea7(0x369)][_0x1e5ea7(0x142)](','),'METHODS':process[_0x1e5ea7(0x559)][_0x1e5ea7(0x462)][_0x1e5ea7(0x142)](','),'CREDENTIALS':process['env']?.[_0x1e5ea7(0x21a)]===_0x1e5ea7(0x4bb)},'SSL_CONF':{'PRIVKEY':process[_0x1e5ea7(0x559)]?.[_0x1e5ea7(0xe2)],'FULLCHAIN':process[_0x1e5ea7(0x559)]?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number[_0x1e5ea7(0x5f4)](process[_0x1e5ea7(0x559)]?.[_0x1e5ea7(0x3cb)])?Number[_0x1e5ea7(0x4c8)](process[_0x1e5ea7(0x559)]['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process[_0x1e5ea7(0x559)]?.[_0x1e5ea7(0x3f9)]===_0x1e5ea7(0x4bb),'CONTACTS':process[_0x1e5ea7(0x559)]?.[_0x1e5ea7(0x37b)]==='true','CHATS':process[_0x1e5ea7(0x559)]?.['STORE_CHATS']===_0x1e5ea7(0x4bb)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.['DATABASE_CONNECTION_HOST'],'PORT':Number[_0x1e5ea7(0x4c8)](process[_0x1e5ea7(0x559)]?.[_0x1e5ea7(0x1bc)]),'USER':process[_0x1e5ea7(0x559)][_0x1e5ea7(0x3be)],'PASSWORD':process[_0x1e5ea7(0x559)]['DATABASE_CONNECTION_PASSWORD'],'URI':process['env'][_0x1e5ea7(0x59c)],'DB_PREFIX_NAME':process[_0x1e5ea7(0x559)][_0x1e5ea7(0x54a)]},'ENABLED':process['env']?.[_0x1e5ea7(0x14c)]==='true'},'REDIS':{'ENABLED':process[_0x1e5ea7(0x559)]?.['REDIS_ENABLED']===_0x1e5ea7(0x4bb),'URI':process[_0x1e5ea7(0x559)]['REDIS_URI']||_0x1e5ea7(0x6a1),'PREFIX_KEY':process[_0x1e5ea7(0x559)][_0x1e5ea7(0x615)]||'uazapi'},'LOG':{'LEVEL':process[_0x1e5ea7(0x559)]?.[_0x1e5ea7(0x1ea)][_0x1e5ea7(0x142)](','),'COLOR':process[_0x1e5ea7(0x559)]?.[_0x1e5ea7(0x2d9)]===_0x1e5ea7(0x4bb)},'PROXY':process[_0x1e5ea7(0x559)]?.[_0x1e5ea7(0x352)]===_0x1e5ea7(0x4bb),'AUTHENTICATION':{'TYPE':process[_0x1e5ea7(0x559)][_0x1e5ea7(0x1aa)],'API_KEY':{'KEY':process[_0x1e5ea7(0x559)][_0x1e5ea7(0x1f6)]},'JWT':{'EXPIRIN_IN':Number[_0x1e5ea7(0x5f4)](process[_0x1e5ea7(0x559)]?.[_0x1e5ea7(0x5fe)])?Number[_0x1e5ea7(0x4c8)](process['env']['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process['env'][_0x1e5ea7(0x530)]}}};}},b=new Zt(),Ao=R(require(a0_0x22d3e1(0x499))),pe=R(require('express')),Os=require(a0_0x22d3e1(0x41e)),es=R(require(a0_0x22d3e1(0xb2))),ts=(_0x4002cd=>(_0x4002cd[a0_0x22d3e1(0x3fb)]=a0_0x22d3e1(0x3da),_0x4002cd[a0_0x22d3e1(0x160)]=a0_0x22d3e1(0x5d9),_0x4002cd[a0_0x22d3e1(0x8e)]=a0_0x22d3e1(0x178),_0x4002cd[a0_0x22d3e1(0x447)]=a0_0x22d3e1(0x4ac),_0x4002cd['DEBUG']=a0_0x22d3e1(0x1b8),_0x4002cd[a0_0x22d3e1(0x308)]=a0_0x22d3e1(0x1e5),_0x4002cd[a0_0x22d3e1(0x427)]=a0_0x22d3e1(0x643),_0x4002cd))(ts||{}),ks=(_0x2d7936=>(_0x2d7936['LOG']='\x1b[32m%s\x1b[0m',_0x2d7936['DARK']=a0_0x22d3e1(0x433),_0x2d7936[a0_0x22d3e1(0x160)]=a0_0x22d3e1(0x487),_0x2d7936['WARN']=a0_0x22d3e1(0x347),_0x2d7936[a0_0x22d3e1(0x447)]=a0_0x22d3e1(0x4db),_0x2d7936[a0_0x22d3e1(0x47a)]=a0_0x22d3e1(0x522),_0x2d7936[a0_0x22d3e1(0x308)]='\x1b[37m%s\x1b[0m',_0x2d7936))(ks||{}),Ls=(_0xa533a2=>(_0xa533a2['LOG']=a0_0x22d3e1(0x3fb),_0xa533a2['WARN']=a0_0x22d3e1(0x8e),_0xa533a2[a0_0x22d3e1(0x160)]=a0_0x22d3e1(0x160),_0xa533a2[a0_0x22d3e1(0x427)]=a0_0x22d3e1(0x427),_0xa533a2[a0_0x22d3e1(0x447)]=a0_0x22d3e1(0x447),_0xa533a2[a0_0x22d3e1(0x47a)]=a0_0x22d3e1(0x47a),_0xa533a2[a0_0x22d3e1(0x308)]=a0_0x22d3e1(0x308),_0xa533a2))(Ls||{}),js=(_0x3a4b1e=>(_0x3a4b1e[a0_0x22d3e1(0x3fb)]='\x1b[42m',_0x3a4b1e[a0_0x22d3e1(0x160)]=a0_0x22d3e1(0x404),_0x3a4b1e['WARN']=a0_0x22d3e1(0x301),_0x3a4b1e['DARK']=a0_0x22d3e1(0x96),_0x3a4b1e['ERROR']=a0_0x22d3e1(0x5be),_0x3a4b1e[a0_0x22d3e1(0x47a)]=a0_0x22d3e1(0xc8),_0x3a4b1e[a0_0x22d3e1(0x308)]=a0_0x22d3e1(0x4e4),_0x3a4b1e))(js||{}),v=class{constructor(_0x5c17bc=a0_0x22d3e1(0x27a)){const _0x22f9bd=a0_0x22d3e1;this['context']=_0x5c17bc,this[_0x22f9bd(0x6cb)]=b;}[a0_0x22d3e1(0x67a)](_0x5e0799){const _0x4e2b6c=a0_0x22d3e1;this[_0x4e2b6c(0x3ff)]=_0x5e0799;}[a0_0x22d3e1(0xd7)](_0x45515c,_0x36d1e3){const _0x1e99ac=a0_0x22d3e1;let _0x30ce9e=[];this['configService'][_0x1e99ac(0x1e3)](_0x1e99ac(0x3fb))['LEVEL'][_0x1e99ac(0x2ee)](_0x51fe65=>_0x30ce9e[_0x1e99ac(0x435)](Ls[_0x51fe65]));let _0x3b6b29=typeof _0x45515c;_0x30ce9e[_0x1e99ac(0x6e8)](_0x36d1e3)&&(b['get']('LOG')['COLOR']?(console[_0x1e99ac(0x51f)]('\x1b[1m'+ks[_0x36d1e3],'\x1b[1m\x1b[37m',(0x0,es[_0x1e99ac(0x106)])()[_0x1e99ac(0x3b5)]('DD/MM\x20HH:mm:ss'),_0x1e99ac(0x3c6),ts[_0x36d1e3]+js[_0x36d1e3]+_0x1e99ac(0x5e0),_0x36d1e3+'\x20\x1b[0m',_0x1e99ac(0xe4),this[_0x1e99ac(0x3ff)]+_0x1e99ac(0x3c6),ts[_0x36d1e3],_0x3b6b29!=='object'?_0x45515c:'',_0x1e99ac(0x3c6)),_0x3b6b29===_0x1e99ac(0x4f2)&&console[_0x1e99ac(0x51f)](_0x45515c,'\x0a')):console[_0x1e99ac(0x51f)]((0x0,es['default'])()['format'](_0x1e99ac(0x330)),_0x36d1e3+'\x20',''+this[_0x1e99ac(0x3ff)],_0x45515c));}[a0_0x22d3e1(0x51f)](_0x21b343){const _0x4b98fe=a0_0x22d3e1;this[_0x4b98fe(0xd7)](_0x21b343,'LOG');}[a0_0x22d3e1(0x116)](_0x2f6d4a){const _0x2dde1b=a0_0x22d3e1;this[_0x2dde1b(0xd7)](_0x2f6d4a,_0x2dde1b(0x160));}['warn'](_0x4f3259){const _0x10e52f=a0_0x22d3e1;this[_0x10e52f(0xd7)](_0x4f3259,_0x10e52f(0x8e));}[a0_0x22d3e1(0x411)](_0x3e9541){const _0x41b359=a0_0x22d3e1;this[_0x41b359(0xd7)](_0x3e9541,'ERROR');}[a0_0x22d3e1(0x605)](_0x5f0b8c){const _0x1bef2f=a0_0x22d3e1;this['console'](_0x5f0b8c,_0x1bef2f(0x308));}[a0_0x22d3e1(0x4c7)](_0x58ba0c){const _0x29b4f6=a0_0x22d3e1;this[_0x29b4f6(0xd7)](_0x58ba0c,_0x29b4f6(0x47a));}[a0_0x22d3e1(0x696)](_0x528bc1){const _0x3a0d4e=a0_0x22d3e1;this[_0x3a0d4e(0xd7)](_0x528bc1,_0x3a0d4e(0x427));}};function Fs(){const _0x349319=a0_0x22d3e1;process['on'](_0x349319(0x165),(_0x542703,_0x51d8e6)=>{const _0x868adc=_0x349319;new v(_0x868adc(0x165))[_0x868adc(0x411)]({'origin':_0x51d8e6,'stderr':process[_0x868adc(0x3cd)]['fd'],'error':_0x542703});}),process['on']('unhandledRejection',(_0x5baff5,_0xebab02)=>{const _0x3618dd=_0x349319;new v('unhandledRejection')[_0x3618dd(0x411)]({'origin':_0xebab02,'stderr':process[_0x3618dd(0x3cd)]['fd'],'error':_0x5baff5});});}var qs=R(require(a0_0x22d3e1(0x184))),ss=new qs['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),De=require(a0_0x22d3e1(0x5dc)),as=R(require(a0_0x22d3e1(0x5dc))),qo=new v(a0_0x22d3e1(0x39f)),V=b[a0_0x22d3e1(0x1e3)](a0_0x22d3e1(0x1be)),N=V['ENABLED']?V['CONNECTION'][a0_0x22d3e1(0x13a)]?as[a0_0x22d3e1(0x106)]['createConnection'](V['CONNECTION'][a0_0x22d3e1(0x13a)],{'dbName':V['CONNECTION'][a0_0x22d3e1(0x45c)]+'-whatsapp-api'}):as['default']['createConnection'](a0_0x22d3e1(0x2a4)+V[a0_0x22d3e1(0x88)]['HOST']+':'+V[a0_0x22d3e1(0x88)]['PORT']+a0_0x22d3e1(0x45b),{'user':V[a0_0x22d3e1(0x88)][a0_0x22d3e1(0x319)],'pass':V[a0_0x22d3e1(0x88)]['PASSWORD'],'dbName':V[a0_0x22d3e1(0x88)][a0_0x22d3e1(0x45c)]+a0_0x22d3e1(0x678)}):null;V[a0_0x22d3e1(0x34a)]&&qo['info']('ON\x20-\x20dbName:\x20'+N['$dbName']);function a0_0x2c76(_0x220c3f,_0x108a6f){const _0x5007de=a0_0x5007();return a0_0x2c76=function(_0x2c7621,_0x366adc){_0x2c7621=_0x2c7621-0x84;let _0x205892=_0x5007de[_0x2c7621];return _0x205892;},a0_0x2c76(_0x220c3f,_0x108a6f);}var Uo=new De[(a0_0x22d3e1(0x136))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Jo=new De[(a0_0x22d3e1(0x136))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Uo],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Vo=new De[(a0_0x22d3e1(0x136))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Jo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Us=_0x1459af=>{const _0x98a1d0=a0_0x22d3e1;let _0x541794='z_'+_0x1459af+'_Chats';return N?.[_0x98a1d0(0x371)](_0x98a1d0(0x44c),Vo,_0x541794);},Js=require('mongoose'),Bo=new Js['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Vs=_0x5638b8=>{const _0x28fbc6=a0_0x22d3e1;let _0x5cf6d='z_'+_0x5638b8+_0x28fbc6(0x254);return N?.[_0x28fbc6(0x371)]('ContactModel',Bo,_0x5cf6d);},Bs=require(a0_0x22d3e1(0x5dc)),Go=new Bs[(a0_0x22d3e1(0x136))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Gs=_0x468c99=>{const _0x45016c=a0_0x22d3e1;let _0x3c085c='z_'+_0x468c99+'_Messages';return N?.[_0x45016c(0x371)](_0x45016c(0x294),Go,_0x3c085c);},Ws=require(a0_0x22d3e1(0x5dc)),os=class{},Wo=new Ws[(a0_0x22d3e1(0x136))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),zs=N?.[a0_0x22d3e1(0x371)](os[a0_0x22d3e1(0xa8)],Wo,a0_0x22d3e1(0x52f)),Hs=require(a0_0x22d3e1(0x5dc)),rs=class{},Ks=new Hs[(a0_0x22d3e1(0x136))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ks[a0_0x22d3e1(0xc3)](a0_0x22d3e1(0x57e),function(_0x425f26){const _0x18e3d2=a0_0x22d3e1;delete this[_0x18e3d2(0xee)],delete this['flowIgnoreGroups'],delete this[_0x18e3d2(0x26a)],delete this['flowStopConversation'],delete this[_0x18e3d2(0xf8)],_0x425f26();});var Qs=N?.[a0_0x22d3e1(0x371)](rs['name'],Ks,a0_0x22d3e1(0x677)),_=require(a0_0x22d3e1(0x5dc)),_e=class{},Ys=new _[(a0_0x22d3e1(0x136))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),is=new _[(a0_0x22d3e1(0x136))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),zo=new _['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x22d3e1(0x659)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Xs=new _[(a0_0x22d3e1(0x136))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Ho=new _[(a0_0x22d3e1(0x136))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Ko=new _['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Zs=new _[(a0_0x22d3e1(0x136))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':zo},'apirequest':Ho,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ds=new _[(a0_0x22d3e1(0x136))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ea=new _[(a0_0x22d3e1(0x136))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ns=class{},ps=new _[(a0_0x22d3e1(0x136))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x321e73=a0_0x22d3e1;return _0x321e73(0x473)+Math['random']()[_0x321e73(0x12d)](0x24)[_0x321e73(0x1d4)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ds],'variablesNotFound':{'type':[String]},'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[is],'default':[]}});ps[a0_0x22d3e1(0xc3)](a0_0x22d3e1(0x57e),function(_0x4b52ae){const _0x53c95a=a0_0x22d3e1;let _0x227f6b=new Set(),_0x32a1c7=new Set(this[_0x53c95a(0x3d3)]?.[_0x53c95a(0x2bf)](_0x4065eb=>_0x4065eb[_0x53c95a(0xa8)])),_0xd3656e=JSON['stringify'](this),_0x3d1f81=/{{(?!_)([^}]*)}}/g,_0x5ab3d5;for(;(_0x5ab3d5=_0x3d1f81[_0x53c95a(0x68c)](_0xd3656e))!==null;)_0x32a1c7[_0x53c95a(0x569)](_0x5ab3d5[0x1])||_0x227f6b['add'](_0x5ab3d5[0x1]);_0x227f6b[_0x53c95a(0x27b)]>0x0?(console[_0x53c95a(0x2de)](_0x53c95a(0x576),Array[_0x53c95a(0x616)](_0x227f6b)),this['variablesNotFound']=Array[_0x53c95a(0x616)](_0x227f6b)):this[_0x53c95a(0x6f1)]=[],_0x4b52ae();});var ta=_0xca6790=>{const _0x52a8be=a0_0x22d3e1;let _0x5b4121='z_'+_0xca6790+_0x52a8be(0xd5);return N?.[_0x52a8be(0x371)](_0x52a8be(0x244),ps,_0x5b4121);},sa=N?.[a0_0x22d3e1(0x371)](ns[a0_0x22d3e1(0xa8)],ps,a0_0x22d3e1(0x2c2)),Qo=new _['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ds],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Ko]},{'_id':!0x1}),cs=class{},aa=new _[(a0_0x22d3e1(0x136))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ds],'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[is],'default':[]},'chatLog':Qo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x22d3e1(0x4d1)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x22d3e1(0x689)},'waitingMenu_replyOptions':{'type':[is],'default':[]}}),oa=_0x2fdad2=>{const _0x2197e2=a0_0x22d3e1;let _0x4a8228='z_'+_0x2fdad2+'_FlowHistorico';return N?.[_0x2197e2(0x371)](_0x2197e2(0x300),aa,_0x4a8228);},ra=N?.['model'](cs[a0_0x22d3e1(0xa8)],aa,a0_0x22d3e1(0x207)),ls=class{},Yo=new _[(a0_0x22d3e1(0x136))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Xo=new _[(a0_0x22d3e1(0x136))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ia=new _['Schema']({'owner':{'type':String},'status':{'type':String,'default':'scheduled'},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Xo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Yo],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),na=_0x3dbab6=>{const _0xb0f1f9=a0_0x22d3e1;let _0x3d9f16='z_'+_0x3dbab6+_0xb0f1f9(0x6e0);return N?.['model']('ScheduleMessageModel',ia,_0x3d9f16);},ca=N?.[a0_0x22d3e1(0x371)](ls['name'],ia,a0_0x22d3e1(0x20c)),us=class{},Zo=new _[(a0_0x22d3e1(0x136))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),er=new _[(a0_0x22d3e1(0x136))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x22d3e1(0x3e5)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),tr=new _[(a0_0x22d3e1(0x136))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),sr=new _[(a0_0x22d3e1(0x136))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[tr]},'customFields':{'type':[Zo]},'flowConfig':{'type':er,'default':{}}}),Pe=N?.['model'](us['name'],sr,a0_0x22d3e1(0x41d)),la=require(a0_0x22d3e1(0x5dc)),ar=new la['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ua=_0x3a762b=>{const _0x44175e=a0_0x22d3e1;let _0x4e4330='z_'+_0x3a762b+_0x44175e(0x3d0);return N?.[_0x44175e(0x371)]('LabelModel',ar,_0x4e4330);},I=class{constructor(_0x44459d){const _0x1e4141=a0_0x22d3e1;this[_0x1e4141(0xec)]=_0x44459d[_0x1e4141(0x1e3)]('DATABASE');}};function A(_0x5be0cb){const _0x1a35e7=a0_0x22d3e1;let _0x59e35f={};for(let [_0x1e55c1,_0x23a8f3]of Object[_0x1a35e7(0xf9)](_0x5be0cb))if(typeof _0x23a8f3==_0x1a35e7(0x4f2)&&!Array[_0x1a35e7(0x8a)](_0x23a8f3)){for(let [_0x20a96d,_0x2898e9]of Object['entries'](_0x23a8f3))_0x59e35f[_0x1e55c1+'.'+_0x20a96d]=_0x2898e9;}else _0x59e35f[_0x1e55c1]=_0x23a8f3;return _0x59e35f;}var $e=class{constructor(_0x285a3b,_0x2a0216,_0x578df3,_0x57828e,_0xe97fe8,_0x1ba5b0,_0x2a0990,_0x20c248,_0x427218,_0x5238f6,_0x2282ea){const _0x4fcfcf=a0_0x22d3e1;this['message']=_0x285a3b,this[_0x4fcfcf(0x147)]=_0x2a0216,this[_0x4fcfcf(0x2f0)]=_0x578df3,this['webhook']=_0x57828e,this[_0x4fcfcf(0x1ca)]=_0xe97fe8,this['flow']=_0x1ba5b0,this[_0x4fcfcf(0x207)]=_0x2a0990,this['label']=_0x20c248,this['scheduleMessage']=_0x427218,this[_0x4fcfcf(0x54c)]=_0x5238f6,this[_0x4fcfcf(0x251)]=_0x2282ea;}get[a0_0x22d3e1(0x312)](){const _0x15776f=a0_0x22d3e1;return this[_0x15776f(0x251)];}},ke=class{},Le=class extends I{[a0_0x22d3e1(0x5e1)](_0x452bd5){return Gs(_0x452bd5);}async[a0_0x22d3e1(0x53a)](_0x107cda,_0x26535f){const _0x9d3dd1=a0_0x22d3e1;if(_0x107cda[_0x9d3dd1(0x4b3)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x9d3dd1(0x5e1)](_0x26535f)[_0x9d3dd1(0x6b6)]([..._0x107cda]))[_0x9d3dd1(0x4b3)]};}catch(_0x5f0a7f){return _0x5f0a7f;}}async[a0_0x22d3e1(0x39d)](_0x840b5d,_0x324233){const _0x122153=a0_0x22d3e1;try{let _0x5413d3=this['getMessageModelForOwner'](_0x324233),_0xfb92f2=A(_0x840b5d[_0x122153(0xf4)]);return await _0x5413d3[_0x122153(0x39d)](_0xfb92f2)[_0x122153(0x14e)]({'messageTimestamp':-0x1})[_0x122153(0x61d)](_0x840b5d?.[_0x122153(0x61d)]??0x0)[_0x122153(0x65b)]();}catch{return[];}}async[a0_0x22d3e1(0x67b)](_0x5def5a,_0x24de4c){const _0x576892=a0_0x22d3e1;try{let _0x375154=this[_0x576892(0x5e1)](_0x24de4c),_0x4701bc=A(_0x5def5a[_0x576892(0xf4)]);await _0x375154['deleteMany'](_0x4701bc);}catch(_0x3b7696){console[_0x576892(0x411)](_0x3b7696);}}async[a0_0x22d3e1(0x6aa)](_0x20ff13,_0x2ae6a3,_0xe11321){const _0x9d7eb5=a0_0x22d3e1;try{let _0x43fb71=this[_0x9d7eb5(0x5e1)](_0xe11321),_0x1a2158=A(_0x20ff13['where']);return await _0x43fb71[_0x9d7eb5(0xed)](_0x1a2158,{'$set':_0x2ae6a3},{'new':!0x0});}catch(_0x3e5f44){throw console[_0x9d7eb5(0x411)](_0x3e5f44),_0x3e5f44;}}async['insertMany'](_0xee0380,_0x1f4c9b){const _0x2f7dc2=a0_0x22d3e1;if(_0xee0380['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x2f7dc2(0x5e1)](_0x1f4c9b)[_0x2f7dc2(0x6b6)]([..._0xee0380]))[_0x2f7dc2(0x4b3)]};}catch(_0x27e62a){return console['log'](_0x2f7dc2(0x524),_0x27e62a),_0x27e62a;}}async[a0_0x22d3e1(0x619)](_0x17135e){const _0x2c0132=a0_0x22d3e1;try{return await this[_0x2c0132(0x5e1)](_0x17135e)[_0x2c0132(0x5e9)][_0x2c0132(0x555)](),{'success':!0x0};}catch(_0x8c9a97){return console['error'](_0x8c9a97),{'success':!0x1,'error':_0x8c9a97};}}},wo=R(require(a0_0x22d3e1(0x36f))),y=R(require(a0_0x22d3e1(0x278))),ve=require('fs'),F=R(require('path')),se=R(require(a0_0x22d3e1(0x60b))),yo=require(a0_0x22d3e1(0x25a)),bo=R(require(a0_0x22d3e1(0x20a))),So=R(require(a0_0x22d3e1(0xdf))),da=[a0_0x22d3e1(0x697),a0_0x22d3e1(0x1dc),'audioMessage','videoMessage',a0_0x22d3e1(0x69b)],pa=['ephemeralMessage',a0_0x22d3e1(0xa1),a0_0x22d3e1(0x5ad),a0_0x22d3e1(0x144)],Ss=require('os'),Ot=R(require(a0_0x22d3e1(0x228))),_t=require(a0_0x22d3e1(0x458)),It=require(a0_0x22d3e1(0x62c)),ie=R(require(a0_0x22d3e1(0x5dc))),k=require(a0_0x22d3e1(0xfd)),me=class{constructor(_0x5086c9,_0x14af66,_0x5b51b7){const _0x4232f4=a0_0x22d3e1;this[_0x4232f4(0x108)]=_0x5086c9,this[_0x4232f4(0x346)]=_0x14af66,this[_0x4232f4(0xa8)]=_0x5b51b7;}},je=class{},Fe=class{},be=class{},qe=class{},Ue=class{},fe=class{},Je=class{},Ve=class{},Be=class{},Ge=class{},Mt=R(require(a0_0x22d3e1(0x68b))),ha=require('fs'),ga=require(a0_0x22d3e1(0x41e));async function We(_0x3d307d){const _0x3469b9=a0_0x22d3e1;let _0x287211=B[_0x3469b9(0x1de)][_0x3d307d];if(V['ENABLED']){let _0x14b275=N['getClient']()['db'](V[_0x3469b9(0x88)][_0x3469b9(0x45c)]+_0x3469b9(0x19b))['collection'](_0x3d307d);return _0x287211||(await _0x14b275[_0x3469b9(0x39d)]({})[_0x3469b9(0x3b1)]())[_0x3469b9(0x4b3)]>0x0;}return _0x287211||(0x0,ha[_0x3469b9(0x1c8)])((0x0,ga[_0x3469b9(0x592)])(ge,_0x3d307d));}async function ma(_0x555fa6,_0x235093,_0x3161e3){const _0x532c9d=a0_0x22d3e1;if(_0x555fa6[_0x532c9d(0x3f2)][_0x532c9d(0x6e8)]('/instance/create')||_0x555fa6[_0x532c9d(0x3f2)][_0x532c9d(0x6e8)](_0x532c9d(0x362))||_0x555fa6[_0x532c9d(0x3f2)]['includes'](_0x532c9d(0x32a))||_0x555fa6['originalUrl'][_0x532c9d(0x6e8)](_0x532c9d(0x20d))||_0x555fa6['originalUrl'][_0x532c9d(0x6e8)](_0x532c9d(0x230))||_0x555fa6[_0x532c9d(0x3f2)]['includes']('/instance/connectionState')||_0x555fa6[_0x532c9d(0x3f2)][_0x532c9d(0x6e8)](_0x532c9d(0x373)))return _0x3161e3();let _0x8b7f7c=_0x555fa6[_0x532c9d(0x1ad)];if(!_0x8b7f7c?.[_0x532c9d(0x4c1)])throw new m(_0x532c9d(0x50d));if(!await We(_0x8b7f7c['instanceName']))throw new j('The\x20'+_0x8b7f7c['instanceName']+'\x20instance\x20does\x20not\x20exist');_0x3161e3();}async function fa(_0x1cb5d8,_0x2ebe47,_0x53cbac){const _0x506f36=a0_0x22d3e1;if(_0x1cb5d8[_0x506f36(0x3f2)][_0x506f36(0x6e8)](_0x506f36(0x536))){let _0x5cbfdb=_0x1cb5d8[_0x506f36(0x321)];if(await We(_0x5cbfdb[_0x506f36(0x4c1)]))throw new K(_0x506f36(0x418)+_0x5cbfdb[_0x506f36(0x4c1)]+_0x506f36(0x53c));B[_0x506f36(0x1de)][_0x5cbfdb['instanceName']]&&delete B[_0x506f36(0x1de)][_0x5cbfdb[_0x506f36(0x4c1)]];}_0x53cbac();}var wa=require('class-validator'),ya=R(require('jsonwebtoken')),ze=a0_0x22d3e1(0x500),rr=new v(a0_0x22d3e1(0x685));async function ir(_0x4e178c,_0x489011,_0x15f12c){const _0x3ca534=a0_0x22d3e1;let _0x4b19d2=_0x4e178c['get'](_0x3ca534(0x5de));if(_0x4b19d2&&b['get'](_0x3ca534(0x189))['API_KEY'][_0x3ca534(0x4a2)]!==_0x4b19d2)throw new ee();if(b[_0x3ca534(0x1e3)](_0x3ca534(0x189))[_0x3ca534(0x21b)][_0x3ca534(0x4a2)]===_0x4b19d2)return _0x15f12c();if((_0x4e178c[_0x3ca534(0x3f2)][_0x3ca534(0x6e8)](_0x3ca534(0x536))||_0x4e178c[_0x3ca534(0x3f2)][_0x3ca534(0x6e8)](_0x3ca534(0x362)))&&!_0x4b19d2)throw new K(_0x3ca534(0x2be),_0x3ca534(0x231));let _0x56b959=b[_0x3ca534(0x1e3)](_0x3ca534(0x189))[_0x3ca534(0x120)];try{let [_0x3f7205,_0x215dbe]=_0x4e178c['get'](_0x3ca534(0x1a4))[_0x3ca534(0x142)]('\x20');if(_0x3f7205[_0x3ca534(0x490)]()!=='bearer')throw new ee();if(!(0x0,wa[_0x3ca534(0x114)])(_0x215dbe))throw new ee();let _0x2566e6=_0x4e178c['params'],_0x47175b=ya[_0x3ca534(0x106)][_0x3ca534(0x617)](_0x215dbe,_0x56b959[_0x3ca534(0x1c7)],{'ignoreExpiration':_0x56b959['EXPIRIN_IN']===0x0});if(_0x2566e6[_0x3ca534(0x4c1)]!==_0x47175b[_0x3ca534(0x4c1)]||ze!==_0x47175b[_0x3ca534(0x256)])throw new ee();return _0x15f12c();}catch(_0x19d270){throw rr[_0x3ca534(0x411)](_0x19d270),new ee();}}async function nr(_0x5d95b2,_0x54166f,_0x381b0b){const _0x173ca2=a0_0x22d3e1;let _0x1c1a7a=b['get'](_0x173ca2(0x189))['API_KEY'],_0x40e696=_0x5d95b2[_0x173ca2(0x1e3)](_0x173ca2(0x5de));if(_0x1c1a7a[_0x173ca2(0x4a2)]===_0x40e696)return _0x381b0b();if(_0x5d95b2['originalUrl'][_0x173ca2(0x6e8)](_0x173ca2(0x536))){let _0x30dd99=He,_0x2d90a6=_0x5d95b2['body'][_0x173ca2(0x4c1)];if(_0x30dd99&&_0x2d90a6['toLowerCase']()['startsWith'](_0x30dd99[_0x173ca2(0x490)]()))return _0x381b0b();if(!_0x40e696)throw new K(_0x173ca2(0x2be),'The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x5d95b2[_0x173ca2(0x3f2)][_0x173ca2(0x6e8)](_0x173ca2(0x362))&&!_0x40e696)throw new K('Missing\x20global\x20api\x20key',_0x173ca2(0x231));if(_0x5d95b2['originalUrl'][_0x173ca2(0x6e8)](_0x173ca2(0x32a))&&!_0x40e696)throw new K(_0x173ca2(0x2be),_0x173ca2(0x231));if(_0x5d95b2[_0x173ca2(0x3f2)][_0x173ca2(0x6e8)](_0x173ca2(0x20d))&&!_0x40e696)throw new K(_0x173ca2(0x2be),_0x173ca2(0x231));try{let _0x42fdcb=_0x5d95b2[_0x173ca2(0x1ad)];if((await ce[_0x173ca2(0x1ca)]['find'](_0x42fdcb['instanceName']))['apikey']===_0x40e696)return _0x381b0b();}catch{}throw new ee();}var ba={'jwt':ir,'apikey':nr},Za=require(a0_0x22d3e1(0x68b)),C=require(a0_0x22d3e1(0x25a)),S=(..._0x1c5fe0)=>{const _0x4e0b49=a0_0x22d3e1;let _0x19cdd7={};return _0x1c5fe0['forEach'](_0x51833f=>_0x19cdd7[_0x51833f]={'minLength':0x1,'description':'The\x20\x22'+_0x51833f+_0x4e0b49(0x151)}),{'if':{'propertyNames':{'enum':[..._0x1c5fe0]}},'then':{'properties':_0x19cdd7}};},M={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'instanceName':{'type':a0_0x22d3e1(0x53f)}},...S(a0_0x22d3e1(0x4c1))},Hn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x22d3e1(0x53f)}},'required':[a0_0x22d3e1(0x25d)],...S('oldToken')},Kn={'properties':{'key':{'type':a0_0x22d3e1(0x4f2),'properties':{'id':{'type':a0_0x22d3e1(0x53f)},'remoteJid':{'type':a0_0x22d3e1(0x53f)},'fromMe':{'type':a0_0x22d3e1(0x59b),'enum':[!0x0,!0x1]}},'required':['id',a0_0x22d3e1(0x412),a0_0x22d3e1(0xb6)],...S('id',a0_0x22d3e1(0x412))},'message':{'type':a0_0x22d3e1(0x4f2)}}},Q={'properties':{'delay':{'type':'integer','description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x22d3e1(0x53f),'enum':[a0_0x22d3e1(0xe6),a0_0x22d3e1(0xc5),a0_0x22d3e1(0x148),a0_0x22d3e1(0x5f2),a0_0x22d3e1(0x94)]}}},z={'type':a0_0x22d3e1(0x53f),'pattern':a0_0x22d3e1(0x38f),'description':a0_0x22d3e1(0x558)},Sa={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'number':{...z},'options':{...Q},'textMessage':{'type':'object','properties':{'text':{'type':'string'}},'required':['text'],...S(a0_0x22d3e1(0x546))}},'required':[a0_0x22d3e1(0x143),a0_0x22d3e1(0x3c3)]},Ea={'type':'string','pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x22d3e1(0x558)},Qn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Ea},'options':{...Q},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x22d3e1(0x53f)}},'required':['text'],...S(a0_0x22d3e1(0x546))}},'required':[a0_0x22d3e1(0x143),a0_0x22d3e1(0x3c3)]},Yn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Ea},'options':{...Q},'mediaMessage':{'type':a0_0x22d3e1(0x4f2),'properties':{'mediatype':{'type':a0_0x22d3e1(0x53f),'enum':[a0_0x22d3e1(0x43d),a0_0x22d3e1(0x370),a0_0x22d3e1(0x235),'audio']},'media':{'type':a0_0x22d3e1(0x53f)},'fileName':{'type':a0_0x22d3e1(0x53f)},'caption':{'type':a0_0x22d3e1(0x53f)}},'required':['mediatype','media'],...S(a0_0x22d3e1(0x1e4),'caption',a0_0x22d3e1(0x344))}},'required':[a0_0x22d3e1(0x14f),a0_0x22d3e1(0x3c3)]},Ca={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':'object','properties':{'image':{'type':a0_0x22d3e1(0x53f)}},'required':[a0_0x22d3e1(0x43d)],...S('image')}},'required':['stickerMessage',a0_0x22d3e1(0x3c3)]},Ma={'$id':(0x0,C['v4'])(),'type':'object','properties':{'statusMessage':{'type':a0_0x22d3e1(0x4f2),'properties':{'type':{'type':a0_0x22d3e1(0x53f),'enum':[a0_0x22d3e1(0x546),a0_0x22d3e1(0x43d),a0_0x22d3e1(0x341),'video']},'content':{'type':a0_0x22d3e1(0x53f)},'caption':{'type':a0_0x22d3e1(0x53f)},'backgroundColor':{'type':a0_0x22d3e1(0x53f)},'font':{'type':a0_0x22d3e1(0x474),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x22d3e1(0x6ab),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22d3e1(0x53f),'pattern':a0_0x22d3e1(0x596),'description':a0_0x22d3e1(0x422)}},'allContacts':{'type':a0_0x22d3e1(0x59b),'enum':[!0x0,!0x1]}},'required':[a0_0x22d3e1(0x255),a0_0x22d3e1(0x17e)],...S(a0_0x22d3e1(0x255),a0_0x22d3e1(0x17e))}},'required':[a0_0x22d3e1(0x260)]},va={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x22d3e1(0x53f),'enum':['image',a0_0x22d3e1(0x370),a0_0x22d3e1(0x235),a0_0x22d3e1(0x341)]},'media':{'type':a0_0x22d3e1(0x53f)},'fileName':{'type':'string'},'caption':{'type':a0_0x22d3e1(0x53f)}},'required':[a0_0x22d3e1(0x3e8),a0_0x22d3e1(0x344)],...S(a0_0x22d3e1(0x1e4),a0_0x22d3e1(0x6d8),a0_0x22d3e1(0x344))}},'required':[a0_0x22d3e1(0x14f),a0_0x22d3e1(0x3c3)]},Na={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0x22d3e1(0x4f2),'properties':{'audio':{'type':'string'}},'required':[a0_0x22d3e1(0x341)],...S(a0_0x22d3e1(0x341))}},'required':[a0_0x22d3e1(0x687),'number']},Ra={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'number':{...z},'pollMessage':{'type':a0_0x22d3e1(0x4f2),'properties':{'name':{'type':a0_0x22d3e1(0x53f)},'selectableCount':{'type':a0_0x22d3e1(0x3c3)},'values':{'type':a0_0x22d3e1(0x6ab),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x22d3e1(0xd8),a0_0x22d3e1(0x590)],...S('name',a0_0x22d3e1(0xd8),a0_0x22d3e1(0x590))}},'required':['number',a0_0x22d3e1(0x280)]},Ta={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'number':{...z},'menuMessage':{'type':'object','properties':{'text':{'type':a0_0x22d3e1(0x53f)},'choices':{'type':a0_0x22d3e1(0x6ab),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x22d3e1(0x546),a0_0x22d3e1(0x3b3)],...S(a0_0x22d3e1(0x546),a0_0x22d3e1(0x3b3))}},'required':['number','menuMessage']},Aa={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0x22d3e1(0x4f2),'properties':{'title':{'type':a0_0x22d3e1(0x53f)},'description':{'type':a0_0x22d3e1(0x53f)},'footerText':{'type':a0_0x22d3e1(0x53f)},'buttons':{'type':a0_0x22d3e1(0x6ab),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22d3e1(0x4f2),'properties':{'buttonText':{'type':a0_0x22d3e1(0x53f)},'buttonId':{'type':a0_0x22d3e1(0x53f)}},'required':['buttonText',a0_0x22d3e1(0x543)],...S(a0_0x22d3e1(0x488),'buttonId')}},'mediaMessage':{'type':a0_0x22d3e1(0x4f2),'properties':{'media':{'type':a0_0x22d3e1(0x53f)},'fileName':{'type':'string'},'mediatype':{'type':a0_0x22d3e1(0x53f),'enum':[a0_0x22d3e1(0x43d),a0_0x22d3e1(0x370),a0_0x22d3e1(0x235)]}},'required':[a0_0x22d3e1(0x344),a0_0x22d3e1(0x3e8)],...S(a0_0x22d3e1(0x344),'fileName')}},'required':['title',a0_0x22d3e1(0x35c)],...S(a0_0x22d3e1(0x64c),'description')}},'required':[a0_0x22d3e1(0x3c3),a0_0x22d3e1(0x5eb)]},Oa={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x22d3e1(0x4f2),'properties':{'latitude':{'type':a0_0x22d3e1(0x3c3)},'longitude':{'type':a0_0x22d3e1(0x3c3)},'name':{'type':a0_0x22d3e1(0x53f)},'address':{'type':a0_0x22d3e1(0x53f)}},'required':[a0_0x22d3e1(0x588),a0_0x22d3e1(0x582)],...S(a0_0x22d3e1(0xa8),a0_0x22d3e1(0x594))}},'required':[a0_0x22d3e1(0x3c3),'locationMessage']},Ia={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x22d3e1(0x53f)},'description':{'type':a0_0x22d3e1(0x53f)},'footerText':{'type':'string'},'buttonText':{'type':'string'},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22d3e1(0x4f2),'properties':{'title':{'type':a0_0x22d3e1(0x53f)},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':a0_0x22d3e1(0x53f)},'rowId':{'type':a0_0x22d3e1(0x53f)}},'required':[a0_0x22d3e1(0x64c),a0_0x22d3e1(0x16b)],...S(a0_0x22d3e1(0x64c),'rowId')}}},'required':[a0_0x22d3e1(0x64c),a0_0x22d3e1(0x16a)],...S(a0_0x22d3e1(0x64c))}}},'required':[a0_0x22d3e1(0x64c),a0_0x22d3e1(0x328),'buttonText',a0_0x22d3e1(0x5a3)],...S('title','description',a0_0x22d3e1(0x488),'footerText')}},'required':[a0_0x22d3e1(0x3c3),a0_0x22d3e1(0x626)]},xa={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0x22d3e1(0x6ab),'items':{'type':a0_0x22d3e1(0x4f2),'properties':{'fullName':{'type':a0_0x22d3e1(0x53f)},'phoneNumber':{'type':a0_0x22d3e1(0x53f),'minLength':0xa}},'required':[a0_0x22d3e1(0x5e3),'phoneNumber'],...S(a0_0x22d3e1(0x5e3))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x22d3e1(0x3c3),a0_0x22d3e1(0x4e8)]},Da={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'reactionMessage':{'type':a0_0x22d3e1(0x4f2),'properties':{'key':{'type':a0_0x22d3e1(0x4f2),'properties':{'id':{'type':a0_0x22d3e1(0x53f)},'remoteJid':{'type':a0_0x22d3e1(0x53f)},'fromMe':{'type':a0_0x22d3e1(0x59b),'enum':[!0x0,!0x1]}},'required':['id',a0_0x22d3e1(0x412),a0_0x22d3e1(0xb6)],...S('id',a0_0x22d3e1(0x412))},'reaction':{'type':a0_0x22d3e1(0x53f)}},'required':['key',a0_0x22d3e1(0x363)],...S('reaction')}},'required':[a0_0x22d3e1(0x4aa)]},_a={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22d3e1(0x53f),'pattern':a0_0x22d3e1(0x596),'description':a0_0x22d3e1(0x395)}}}},Pa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x22d3e1(0x6ab),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x22d3e1(0x53f)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x22d3e1(0x53f)}},'required':['id',a0_0x22d3e1(0xb6),'remoteJid'],...S('id',a0_0x22d3e1(0x412))}}},'required':[a0_0x22d3e1(0x60f)]},$a={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'privacySettings':{'type':a0_0x22d3e1(0x4f2),'properties':{'readreceipts':{'type':a0_0x22d3e1(0x53f),'enum':[a0_0x22d3e1(0x133),a0_0x22d3e1(0x692)]},'profile':{'type':'string','enum':['all',a0_0x22d3e1(0x1c3),a0_0x22d3e1(0x1da),a0_0x22d3e1(0x692)]},'status':{'type':'string','enum':[a0_0x22d3e1(0x133),'contacts',a0_0x22d3e1(0x1da),a0_0x22d3e1(0x692)]},'online':{'type':a0_0x22d3e1(0x53f),'enum':[a0_0x22d3e1(0x133),a0_0x22d3e1(0x66e)]},'last':{'type':a0_0x22d3e1(0x53f),'enum':[a0_0x22d3e1(0x133),'contacts',a0_0x22d3e1(0x1da),a0_0x22d3e1(0x692)]},'groupadd':{'type':'string','enum':[a0_0x22d3e1(0x133),'contacts',a0_0x22d3e1(0x1da),a0_0x22d3e1(0x692)]}},'required':[a0_0x22d3e1(0x5d2),a0_0x22d3e1(0xb4),a0_0x22d3e1(0x62d),a0_0x22d3e1(0x6db),a0_0x22d3e1(0x356),a0_0x22d3e1(0x3ac)],...S(a0_0x22d3e1(0x5d2),a0_0x22d3e1(0xb4),a0_0x22d3e1(0x62d),a0_0x22d3e1(0x6db),a0_0x22d3e1(0x356),a0_0x22d3e1(0x3ac))}},'required':[a0_0x22d3e1(0x6bc)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'lastMessage':{'type':a0_0x22d3e1(0x4f2),'properties':{'key':{'type':a0_0x22d3e1(0x4f2),'properties':{'id':{'type':a0_0x22d3e1(0x53f)},'remoteJid':{'type':a0_0x22d3e1(0x53f)},'fromMe':{'type':a0_0x22d3e1(0x59b),'enum':[!0x0,!0x1]}},'required':['id',a0_0x22d3e1(0xb6),'remoteJid'],...S('id',a0_0x22d3e1(0x412))},'messageTimestamp':{'type':a0_0x22d3e1(0x474),'minLength':0x1}},'required':[a0_0x22d3e1(0x644)],...S(a0_0x22d3e1(0x3b8))},'archive':{'type':a0_0x22d3e1(0x59b),'enum':[!0x0,!0x1]}},'required':[a0_0x22d3e1(0x121),a0_0x22d3e1(0x39a)]},La={'$id':(0x0,C['v4'])(),'type':'object','properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x22d3e1(0x59b),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0x22d3e1(0x53f)}},'required':['id',a0_0x22d3e1(0xb6),'remoteJid'],...S('id',a0_0x22d3e1(0x412),a0_0x22d3e1(0xbf))},ja={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':a0_0x22d3e1(0x53f),'minLength':0x1}},...S(a0_0x22d3e1(0x494),'id',a0_0x22d3e1(0x2a7))}}},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'name':{'type':'string'}},...S(a0_0x22d3e1(0xa8))},qa={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'status':{'type':'string'}},...S(a0_0x22d3e1(0x62d))},Se={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'number':{'type':a0_0x22d3e1(0x53f)},'picture':{'type':'string'}}},Ua={'type':a0_0x22d3e1(0x4f2),'properties':{'wuid':{'type':a0_0x22d3e1(0x53f)},'name':{'type':a0_0x22d3e1(0x53f)},'picture':{'type':a0_0x22d3e1(0x53f)},'status':{'type':'string'},'isBusiness':{'type':a0_0x22d3e1(0x59b)}}},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'where':{'type':a0_0x22d3e1(0x4f2),'properties':{'_id':{'type':a0_0x22d3e1(0x53f),'minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x22d3e1(0xb6),a0_0x22d3e1(0x412),'id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0x22d3e1(0x4f1)},'id':{'type':a0_0x22d3e1(0x53f),'minLength':0x1,'description':a0_0x22d3e1(0x4f1)},'fromMe':{'type':a0_0x22d3e1(0x59b),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x22d3e1(0x4f2)}},...S(a0_0x22d3e1(0x494))},'limit':{'type':a0_0x22d3e1(0x474)}}},Xn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':a0_0x22d3e1(0x4f2),'properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x22d3e1(0x53f)},'id':{'type':a0_0x22d3e1(0x53f)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0x22d3e1(0x53f)},'status':{'type':a0_0x22d3e1(0x53f),'enum':[a0_0x22d3e1(0x447),a0_0x22d3e1(0x408),a0_0x22d3e1(0x669),a0_0x22d3e1(0x266),a0_0x22d3e1(0xdb),a0_0x22d3e1(0x22f)]}},...S(a0_0x22d3e1(0x494),'remoteJid','id',a0_0x22d3e1(0x62d))},'limit':{'type':a0_0x22d3e1(0x474)}}},Va={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'number':{...z},'presence':{'type':a0_0x22d3e1(0x53f),'enum':[a0_0x22d3e1(0xe6),a0_0x22d3e1(0xc5),a0_0x22d3e1(0x148),'recording',a0_0x22d3e1(0x94)]}},'required':['presence',a0_0x22d3e1(0x3c3)]},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'subject':{'type':a0_0x22d3e1(0x53f)},'description':{'type':a0_0x22d3e1(0x53f)},'profilePicture':{'type':a0_0x22d3e1(0x53f)},'participants':{'type':a0_0x22d3e1(0x6ab),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22d3e1(0x53f),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x22d3e1(0x52d)}}},'required':[a0_0x22d3e1(0x6f0),a0_0x22d3e1(0x648)],...S(a0_0x22d3e1(0x6f0),a0_0x22d3e1(0x328),'profilePicture')},Ee={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'groupJid':{'type':a0_0x22d3e1(0x53f),'pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0x22d3e1(0x126)],...S(a0_0x22d3e1(0x126))},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x22d3e1(0x53f),'enum':['add','remove','promote',a0_0x22d3e1(0xe0)]},'participants':{'type':a0_0x22d3e1(0x6ab),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':'\x5cd+','description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x22d3e1(0x126),a0_0x22d3e1(0x55d),a0_0x22d3e1(0x648)],...S('groupJid','action')},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'groupJid':{'type':a0_0x22d3e1(0x53f)},'expiration':{'type':a0_0x22d3e1(0x3c3),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x22d3e1(0x126),'expiration'],...S(a0_0x22d3e1(0x126),a0_0x22d3e1(0x3a8))},za={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'groupJid':{'type':a0_0x22d3e1(0x53f)},'image':{'type':'string'}},'required':['groupJid',a0_0x22d3e1(0x43d)],...S(a0_0x22d3e1(0x126),a0_0x22d3e1(0x43d))},Ha={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x22d3e1(0x53f)},'description':{'type':a0_0x22d3e1(0x53f)}},'required':[a0_0x22d3e1(0x126),a0_0x22d3e1(0x328)],...S(a0_0x22d3e1(0x126),a0_0x22d3e1(0x328))},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'groupJid':{'type':a0_0x22d3e1(0x53f)},'name':{'type':a0_0x22d3e1(0x53f)}},'required':[a0_0x22d3e1(0x126),a0_0x22d3e1(0xa8)],...S('groupJid',a0_0x22d3e1(0xa8))},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'groupJid':{'type':a0_0x22d3e1(0x53f)},'setting':{'type':a0_0x22d3e1(0x53f),'enum':[a0_0x22d3e1(0x64d),a0_0x22d3e1(0x23a),a0_0x22d3e1(0x41c),'locked']}},'required':[a0_0x22d3e1(0x126),a0_0x22d3e1(0x575)],...S(a0_0x22d3e1(0x126),a0_0x22d3e1(0x575))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'inviteCode':{'type':a0_0x22d3e1(0x53f)}},'required':['inviteCode'],...S(a0_0x22d3e1(0x510))},Xa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'url':{'type':a0_0x22d3e1(0x53f)},'enabled':{'type':a0_0x22d3e1(0x59b),'enum':[!0x0,!0x1]}},'required':[a0_0x22d3e1(0x3dd),a0_0x22d3e1(0x5d7)]},Zn={'$id':(0x0,C['v4'])(),'type':a0_0x22d3e1(0x4f2),'properties':{'local_map':{'type':a0_0x22d3e1(0x59b),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x22d3e1(0x59b),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x22d3e1(0x59b),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x22d3e1(0x59b),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x22d3e1(0x59b),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x22d3e1(0x59b),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x22d3e1(0x59b),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x22d3e1(0x59b),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x22d3e1(0x59b),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x22d3e1(0x59b),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x22d3e1(0x59b),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x22d3e1(0x59b),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x22d3e1(0x59b),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x22d3e1(0x59b),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x22d3e1(0x59b),'enum':[!0x0,!0x1]}},'required':['local_map',a0_0x22d3e1(0xd3),'QRCODE_UPDATED','MESSAGES_SET',a0_0x22d3e1(0x50e),a0_0x22d3e1(0x66b),a0_0x22d3e1(0x13e),a0_0x22d3e1(0x478),'CONTACTS_UPSERT',a0_0x22d3e1(0x2f7),'PRESENCE_UPDATE','CHATS_SET',a0_0x22d3e1(0x1b5),'CHATS_UPDATE',a0_0x22d3e1(0x388),a0_0x22d3e1(0x286),a0_0x22d3e1(0x3d1),a0_0x22d3e1(0x552),a0_0x22d3e1(0x34f)],...S(a0_0x22d3e1(0x2a9),a0_0x22d3e1(0xd3),'QRCODE_UPDATED','MESSAGES_SET',a0_0x22d3e1(0x50e),a0_0x22d3e1(0x66b),a0_0x22d3e1(0x13e),a0_0x22d3e1(0x478),a0_0x22d3e1(0x1c0),'CONTACTS_UPDATE',a0_0x22d3e1(0x191),a0_0x22d3e1(0x180),a0_0x22d3e1(0x1b5),a0_0x22d3e1(0x6ea),a0_0x22d3e1(0x388),a0_0x22d3e1(0x286),a0_0x22d3e1(0x3d1),a0_0x22d3e1(0x552),a0_0x22d3e1(0x34f))},Ke=class{},Qe=class extends I{[a0_0x22d3e1(0x65e)](_0x391017){return Vs(_0x391017);}async['insert'](_0x2ce276){const _0x4f8dd7=a0_0x22d3e1;if(_0x2ce276[_0x4f8dd7(0x4b3)]!==0x0)try{return{'insertCount':(await this[_0x4f8dd7(0x65e)](_0x2ce276[0x0][_0x4f8dd7(0x132)])[_0x4f8dd7(0x6b6)]([..._0x2ce276]))['length']};}catch(_0x17c87c){return _0x17c87c;}}async['delete'](_0x9dc356,_0x102c31){const _0x2a9758=a0_0x22d3e1;try{return{'deletedCount':(await this[_0x2a9758(0x65e)](_0x102c31)[_0x2a9758(0x208)]({..._0x9dc356[_0x2a9758(0xf4)]}))['deletedCount']};}catch(_0xfa553){return{'error':_0xfa553?.[_0x2a9758(0x12d)]()};}}async[a0_0x22d3e1(0x6aa)](_0xad7a48,_0x47ab7d){const _0x31b67b=a0_0x22d3e1;try{if(_0xad7a48[_0x31b67b(0x4b3)]===0x0)return;let _0x44b57d=this[_0x31b67b(0x65e)](_0x47ab7d),_0x1ba56a=_0xad7a48[_0x31b67b(0x2bf)](_0x13339a=>({'updateOne':{'filter':{'_id':_0x13339a[_0x31b67b(0x494)],'owner':_0x47ab7d},'update':{..._0x13339a}}})),{modifiedCount:_0x4f0cc9}=await _0x44b57d[_0x31b67b(0x1b2)](_0x1ba56a);return{'insertCount':_0x4f0cc9};}catch{return;}}async[a0_0x22d3e1(0x39d)](_0x151fa5,_0x4e3f13){const _0x5b9fea=a0_0x22d3e1;try{let _0x3a1cac=this[_0x5b9fea(0x65e)](_0x4e3f13),_0x22221b=A(_0x151fa5['where']);return await _0x3a1cac[_0x5b9fea(0x39d)](_0x22221b)['limit'](_0x151fa5?.['limit']??0x0)[_0x5b9fea(0x65b)]();}catch{return[];}}async[a0_0x22d3e1(0x639)](_0x2b8fe1,_0x8289ad){const _0x5e7e88=a0_0x22d3e1;try{let _0x223de9=this[_0x5e7e88(0x65e)](_0x8289ad),_0x32d277=A(_0x2b8fe1[_0x5e7e88(0xf4)]);return await _0x223de9['findOne'](_0x32d277)[_0x5e7e88(0x65b)]();}catch{return null;}}async[a0_0x22d3e1(0x619)](_0x5823ab){const _0x2fbe22=a0_0x22d3e1;try{return await this[_0x2fbe22(0x65e)](_0x5823ab)[_0x2fbe22(0x5e9)][_0x2fbe22(0x555)](),{'success':!0x0};}catch(_0x2293a1){return console[_0x2fbe22(0x411)](_0x2293a1),{'success':!0x1,'error':_0x2293a1};}}},Ye=require('jsonschema'),cc=require(a0_0x22d3e1(0x2d4)),hs=new v(a0_0x22d3e1(0x5a9)),U=class{[a0_0x22d3e1(0x410)](_0x1c33db,_0x1723a5=!0x0){const _0x4e0306=a0_0x22d3e1;let _0x1698b8='/'+_0x1c33db;return _0x1723a5&&(_0x1698b8+=_0x4e0306(0x6f3)),_0x1698b8;}async['dataValidate'](_0x4b4cdb){const _0x3b70e8=a0_0x22d3e1;let {request:_0x51a29e,schema:_0x276a89,ClassRef:_0x8b9ab3,execute:_0x5180cb}=_0x4b4cdb,_0x427059=new _0x8b9ab3(),_0x242a31=_0x51a29e['body'],_0x535d29=_0x51a29e[_0x3b70e8(0x1ad)];_0x51a29e?.[_0x3b70e8(0x23d)]&&Object[_0x3b70e8(0x55f)](_0x51a29e['query'])[_0x3b70e8(0x4b3)]>0x0&&Object['assign'](_0x535d29,_0x51a29e[_0x3b70e8(0x23d)]),_0x51a29e[_0x3b70e8(0x3f2)][_0x3b70e8(0x6e8)](_0x3b70e8(0x536))&&Object[_0x3b70e8(0x6cf)](_0x535d29,_0x242a31),Object[_0x3b70e8(0x6cf)](_0x427059,_0x242a31);let _0x3ca140=_0x276a89?(0x0,Ye[_0x3b70e8(0x468)])(_0x427059,_0x276a89):{'valid':!0x0,'errors':[]};if(!_0x3ca140[_0x3b70e8(0x221)]){let _0x3706bc=_0x3ca140[_0x3b70e8(0x64a)][_0x3b70e8(0x2bf)](({property:_0x20aa75,stack:_0x5f1725,schema:_0x8ebafc})=>{const _0x41d14c=_0x3b70e8;let _0x2bc6a1;return _0x8ebafc[_0x41d14c(0x328)]?_0x2bc6a1=_0x8ebafc['description']:_0x2bc6a1=_0x5f1725['replace'](_0x41d14c(0x60e),''),{'property':_0x20aa75[_0x41d14c(0x3d6)](_0x41d14c(0x60e),''),'message':_0x2bc6a1};});throw hs[_0x3b70e8(0x411)]([..._0x3706bc]),new m(..._0x3706bc);}return await _0x5180cb(_0x535d29,_0x427059);}async['groupValidate'](_0x2537eb){const _0x508d4a=a0_0x22d3e1;let {request:_0x18eb03,ClassRef:_0x11d241,schema:_0x426a12,execute:_0x34eea8}=_0x2537eb,_0x110625=_0x18eb03[_0x508d4a(0x23d)];if(!_0x110625?.[_0x508d4a(0x126)])throw new m('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x508d4a(0x209));let _0x57551c=_0x18eb03[_0x508d4a(0x1ad)],_0x53a6c9=_0x18eb03[_0x508d4a(0x321)],_0x27ae06=new _0x11d241();Object[_0x508d4a(0x6cf)](_0x53a6c9,_0x110625),Object[_0x508d4a(0x6cf)](_0x27ae06,_0x53a6c9);let _0x280e23=(0x0,Ye[_0x508d4a(0x468)])(_0x27ae06,_0x426a12);if(!_0x280e23[_0x508d4a(0x221)]){let _0x51b0a2=_0x280e23[_0x508d4a(0x64a)]['map'](({property:_0x24e883,stack:_0x46ddbe,schema:_0x12d5f1})=>{const _0x2eedd8=_0x508d4a;let _0xcb70bc;return _0x12d5f1[_0x2eedd8(0x328)]?_0xcb70bc=_0x12d5f1[_0x2eedd8(0x328)]:_0xcb70bc=_0x46ddbe[_0x2eedd8(0x3d6)](_0x2eedd8(0x60e),''),{'property':_0x24e883[_0x2eedd8(0x3d6)](_0x2eedd8(0x60e),''),'message':_0xcb70bc};});throw hs[_0x508d4a(0x411)]([..._0x51b0a2]),new m(..._0x51b0a2);}return await _0x34eea8(_0x57551c,_0x27ae06);}async['joinGroupValidate'](_0x23116d){const _0x11811a=a0_0x22d3e1;let {request:_0x4d543b,ClassRef:_0x1253c5,schema:_0x4b4ed1,execute:_0x574c6e}=_0x23116d,_0x3cbb41=_0x4d543b[_0x11811a(0x321)];if(!_0x3cbb41?.[_0x11811a(0x510)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x11811a(0x406));let _0x1d3217=_0x4d543b[_0x11811a(0x1ad)],_0x275f28=_0x4d543b[_0x11811a(0x321)],_0x1a2041=new _0x1253c5();Object[_0x11811a(0x6cf)](_0x275f28,_0x3cbb41),Object['assign'](_0x1a2041,_0x275f28);let _0x5af4a8=(0x0,Ye[_0x11811a(0x468)])(_0x1a2041,_0x4b4ed1);if(!_0x5af4a8[_0x11811a(0x221)]){let _0xd38736=_0x5af4a8[_0x11811a(0x64a)][_0x11811a(0x2bf)](({property:_0xfe026f,stack:_0x248a46,schema:_0x25ed5a})=>{const _0x1d3f39=_0x11811a;let _0xe569b2;return _0x25ed5a[_0x1d3f39(0x328)]?_0xe569b2=_0x25ed5a[_0x1d3f39(0x328)]:_0xe569b2=_0x248a46[_0x1d3f39(0x3d6)](_0x1d3f39(0x60e),''),{'property':_0xfe026f[_0x1d3f39(0x3d6)]('instance.',''),'message':_0xe569b2};});throw hs['error']([..._0xd38736]),new m(..._0xd38736);}return await _0x574c6e(_0x1d3217,_0x1a2041);}},E=class{},Mc=new v(a0_0x22d3e1(0x130)),Xe=class extends U{constructor(..._0x5ada26){const _0x278e39=a0_0x22d3e1;super(),this[_0x278e39(0x198)]=(0x0,Za[_0x278e39(0x2d8)])(),this[_0x278e39(0x198)][_0x278e39(0x1f8)](this[_0x278e39(0x410)](_0x278e39(0x3f3)),..._0x5ada26,async(_0x3b01bc,_0x1b8023)=>{const _0x32fbe1=_0x278e39;let _0x497fdf=await this['dataValidate']({'request':_0x3b01bc,'schema':Va,'ClassRef':je,'execute':(_0x4d4119,_0x575c16)=>x[_0x32fbe1(0x3f3)](_0x4d4119,_0x575c16)});return _0x1b8023['status'](0xc9)['json'](_0x497fdf);})['post'](this[_0x278e39(0x410)](_0x278e39(0x5ea)),..._0x5ada26,async(_0x5bbe63,_0x2ab1e7)=>{const _0x51cb9d=_0x278e39;let _0x3393e8=await this[_0x51cb9d(0x102)]({'request':_0x5bbe63,'schema':_a,'ClassRef':Fe,'execute':(_0x1a9268,_0x17ae12)=>x['whatsappNumber'](_0x1a9268,_0x17ae12)});return _0x2ab1e7[_0x51cb9d(0x62d)](0xc9)[_0x51cb9d(0x5a7)](_0x3393e8);})[_0x278e39(0x1f8)](this[_0x278e39(0x410)]('editChat'),..._0x5ada26,async(_0x4ab196,_0x1b5e3b)=>{const _0x3a7881=_0x278e39;let _0x5b4a26=await this[_0x3a7881(0x102)]({'request':_0x4ab196,'schema':M,'ClassRef':E,'execute':(_0x42f535,_0x24e2f)=>x[_0x3a7881(0x32f)](_0x42f535,_0x24e2f)});return _0x1b5e3b['status'](0xc9)[_0x3a7881(0x5a7)](_0x5b4a26);})[_0x278e39(0x131)](this['routerPath'](_0x278e39(0x3c9)),..._0x5ada26,async(_0x590ab6,_0x3a0b21)=>{const _0x2f91c8=_0x278e39;let _0x12b541=await this[_0x2f91c8(0x102)]({'request':_0x590ab6,'schema':Pa,'ClassRef':Je,'execute':(_0x1f7d15,_0x4f7d6c)=>x[_0x2f91c8(0x4a6)](_0x1f7d15,_0x4f7d6c)});return _0x3a0b21[_0x2f91c8(0x62d)](0xc9)[_0x2f91c8(0x5a7)](_0x12b541);})['put'](this[_0x278e39(0x410)](_0x278e39(0x53b)),..._0x5ada26,async(_0x5ca51e,_0x14af27)=>{const _0x319d45=_0x278e39;let _0x585891=await this[_0x319d45(0x102)]({'request':_0x5ca51e,'schema':ka,'ClassRef':Ve,'execute':(_0x346f50,_0x2931f9)=>x[_0x319d45(0x53b)](_0x346f50,_0x2931f9)});return _0x14af27[_0x319d45(0x62d)](0xc9)[_0x319d45(0x5a7)](_0x585891);})[_0x278e39(0x67b)](this['routerPath'](_0x278e39(0x43e)),..._0x5ada26,async(_0x5968c5,_0x1ee591)=>{const _0x188465=_0x278e39;let _0x3cad50=await this[_0x188465(0x102)]({'request':_0x5968c5,'schema':La,'ClassRef':Ge,'execute':(_0x364d44,_0x3e17cf)=>x[_0x188465(0x1ec)](_0x364d44,_0x3e17cf)});return _0x1ee591[_0x188465(0x62d)](0xc9)[_0x188465(0x5a7)](_0x3cad50);})['post'](this[_0x278e39(0x410)](_0x278e39(0x3a0)),..._0x5ada26,async(_0x298836,_0xdb3320)=>{const _0x1ea3e1=_0x278e39;let _0x24b1c7=await this['dataValidate']({'request':_0x298836,'schema':Se,'ClassRef':be,'execute':(_0x222896,_0x332d8f)=>x[_0x1ea3e1(0x5f1)](_0x222896,_0x332d8f)});return _0xdb3320[_0x1ea3e1(0x62d)](0xc8)[_0x1ea3e1(0x5a7)](_0x24b1c7);})[_0x278e39(0x1f8)](this[_0x278e39(0x410)](_0x278e39(0x505)),..._0x5ada26,async(_0x5407d9,_0x51103e)=>{const _0x4cac29=_0x278e39;let _0x5dc617=await this['dataValidate']({'request':_0x5407d9,'schema':Ua,'ClassRef':be,'execute':(_0x27f193,_0x5e6e26)=>x[_0x4cac29(0x505)](_0x27f193,_0x5e6e26)});return _0x51103e[_0x4cac29(0x62d)](0xc8)[_0x4cac29(0x5a7)](_0x5dc617);})['post'](this[_0x278e39(0x410)](_0x278e39(0x607)),..._0x5ada26,async(_0x21787b,_0xf5bc61)=>{const _0x54dd60=_0x278e39;let _0x2715b9=await this['dataValidate']({'request':_0x21787b,'schema':ja,'ClassRef':Ke,'execute':(_0xd72efe,_0x4b32e8)=>x['fetchContacts'](_0xd72efe,_0x4b32e8)});return _0xf5bc61[_0x54dd60(0x62d)](0xc8)[_0x54dd60(0x5a7)](_0x2715b9);})[_0x278e39(0x1f8)](this[_0x278e39(0x410)](_0x278e39(0x1d5)),..._0x5ada26,async(_0x136a8b,_0x3a0e1d)=>{const _0x65e3f3=_0x278e39;let _0x4f771f=await this[_0x65e3f3(0x102)]({'request':_0x136a8b,'schema':null,'ClassRef':Object,'execute':(_0x291931,_0x2357ed)=>x[_0x65e3f3(0x1d5)](_0x291931,_0x2357ed)});return _0x3a0e1d['status'](0xc9)[_0x65e3f3(0x5a7)](_0x4f771f);})[_0x278e39(0x1f8)](this[_0x278e39(0x410)](_0x278e39(0x646)),..._0x5ada26,async(_0x2d715c,_0x10385a)=>{const _0x4e588c=_0x278e39;let _0x19f2de=await this[_0x4e588c(0x102)]({'request':_0x2d715c,'schema':Ja,'ClassRef':ke,'execute':(_0x24e093,_0x134a81)=>x[_0x4e588c(0x257)](_0x24e093,_0x134a81)});return _0x10385a[_0x4e588c(0x62d)](0xc8)[_0x4e588c(0x5a7)](_0x19f2de);})[_0x278e39(0x1e3)](this[_0x278e39(0x410)](_0x278e39(0x5c5)),..._0x5ada26,async(_0x5dd8e3,_0xc666d)=>{const _0x308a45=_0x278e39;let _0x354cf1=await this[_0x308a45(0x102)]({'request':_0x5dd8e3,'schema':null,'ClassRef':E,'execute':_0x4a87d7=>x[_0x308a45(0x451)](_0x4a87d7)});return _0xc666d[_0x308a45(0x62d)](0xc8)[_0x308a45(0x5a7)](_0x354cf1);})[_0x278e39(0x1e3)](this[_0x278e39(0x410)](_0x278e39(0x33d)),..._0x5ada26,async(_0x448fae,_0x289541)=>{const _0x338bdb=_0x278e39;let _0x31c58b=await this['dataValidate']({'request':_0x448fae,'schema':null,'ClassRef':E,'execute':_0x3b9381=>x[_0x338bdb(0x284)](_0x3b9381)});return _0x289541[_0x338bdb(0x62d)](0xc8)[_0x338bdb(0x5a7)](_0x31c58b);})[_0x278e39(0x131)](this[_0x278e39(0x410)](_0x278e39(0x1d1)),..._0x5ada26,async(_0x32d877,_0x1a0821)=>{const _0x55aef6=_0x278e39;let _0x316bbc=await this[_0x55aef6(0x102)]({'request':_0x32d877,'schema':null,'ClassRef':Array,'execute':(_0x2307b7,_0x4f958c)=>x[_0x55aef6(0x1d1)](_0x2307b7,_0x4f958c)});return _0x1a0821[_0x55aef6(0x62d)](0xc8)[_0x55aef6(0x5a7)](_0x316bbc);})[_0x278e39(0x1e3)](this[_0x278e39(0x410)](_0x278e39(0x4ae)),..._0x5ada26,async(_0x844882,_0xb5f7aa)=>{const _0xc505d6=_0x278e39;let _0x4d03c5=await this['dataValidate']({'request':_0x844882,'schema':null,'ClassRef':E,'execute':_0x19b2f8=>x['fetchPrivacySettings'](_0x19b2f8)});return _0xb5f7aa[_0xc505d6(0x62d)](0xc8)[_0xc505d6(0x5a7)](_0x4d03c5);})['put'](this[_0x278e39(0x410)](_0x278e39(0x338)),..._0x5ada26,async(_0x2558d7,_0x45c824)=>{const _0x177bf2=_0x278e39;let _0x381d2c=await this[_0x177bf2(0x102)]({'request':_0x2558d7,'schema':$a,'ClassRef':Be,'execute':(_0x35e9c0,_0x4416fb)=>x[_0x177bf2(0x338)](_0x35e9c0,_0x4416fb)});return _0x45c824[_0x177bf2(0x62d)](0xc9)[_0x177bf2(0x5a7)](_0x381d2c);})[_0x278e39(0x1f8)](this[_0x278e39(0x410)](_0x278e39(0x63a)),..._0x5ada26,async(_0xc21b3c,_0x5208ac)=>{const _0x388cea=_0x278e39;let _0x424a74=await this['dataValidate']({'request':_0xc21b3c,'schema':Se,'ClassRef':fe,'execute':(_0x5c0680,_0x31f538)=>x[_0x388cea(0x63a)](_0x5c0680,_0x31f538)});return _0x5208ac['status'](0xc8)[_0x388cea(0x5a7)](_0x424a74);})[_0x278e39(0x1f8)](this['routerPath']('updateProfileName'),..._0x5ada26,async(_0x239597,_0x51632b)=>{const _0x9435e4=_0x278e39;let _0xf884b3=await this['dataValidate']({'request':_0x239597,'schema':Fa,'ClassRef':qe,'execute':(_0x564c3d,_0x35fa59)=>x[_0x9435e4(0x239)](_0x564c3d,_0x35fa59)});return _0x51632b[_0x9435e4(0x62d)](0xc8)[_0x9435e4(0x5a7)](_0xf884b3);})[_0x278e39(0x1f8)](this[_0x278e39(0x410)](_0x278e39(0xa0)),..._0x5ada26,async(_0x1b172c,_0x2c6e69)=>{const _0x520f4d=_0x278e39;let _0x35e08a=await this[_0x520f4d(0x102)]({'request':_0x1b172c,'schema':qa,'ClassRef':Ue,'execute':(_0x36f5d9,_0x45291b)=>x['updateProfileStatus'](_0x36f5d9,_0x45291b)});return _0x2c6e69[_0x520f4d(0x62d)](0xc8)[_0x520f4d(0x5a7)](_0x35e08a);})[_0x278e39(0x131)](this[_0x278e39(0x410)]('updateProfilePicture'),..._0x5ada26,async(_0x543ca5,_0x25c9b3)=>{const _0x2da0ee=_0x278e39;let _0x447446=await this[_0x2da0ee(0x102)]({'request':_0x543ca5,'schema':Se,'ClassRef':fe,'execute':(_0x4ce060,_0xf34d1f)=>x[_0x2da0ee(0x2b1)](_0x4ce060,_0xf34d1f)});return _0x25c9b3['status'](0xc8)['json'](_0x447446);})[_0x278e39(0x67b)](this[_0x278e39(0x410)]('removeProfilePicture'),..._0x5ada26,async(_0x51fbe5,_0x3fbce3)=>{const _0x2d36b7=_0x278e39;let _0x8003d=await this[_0x2d36b7(0x102)]({'request':_0x51fbe5,'schema':Se,'ClassRef':fe,'execute':(_0x53fdf9,_0xaeffc7)=>x[_0x2d36b7(0x470)](_0x53fdf9,_0xaeffc7)});return _0x3fbce3['status'](0xc8)[_0x2d36b7(0x5a7)](_0x8003d);});}},eo=require('express'),Ze=class{},et=class{},tt=class{},st=class{},at=class{},Y=class{},ot=class{},rt=class extends Y{},it=class extends Y{},nt=class extends U{constructor(..._0x519055){const _0x436bbc=a0_0x22d3e1;super(),this[_0x436bbc(0x198)]=(0x0,eo[_0x436bbc(0x2d8)])(),this[_0x436bbc(0x198)][_0x436bbc(0x1f8)](this[_0x436bbc(0x410)](_0x436bbc(0x2ec)),..._0x519055,async(_0x2a945a,_0x9f1185)=>{const _0x4226a4=_0x436bbc;let _0x56ffea=await this[_0x4226a4(0x102)]({'request':_0x2a945a,'schema':Ba,'ClassRef':Ze,'execute':(_0xa7e074,_0x305da2)=>q[_0x4226a4(0x57b)](_0xa7e074,_0x305da2)});_0x9f1185[_0x4226a4(0x62d)](0xc9)[_0x4226a4(0x5a7)](_0x56ffea);})[_0x436bbc(0x131)](this[_0x436bbc(0x410)](_0x436bbc(0x61c)),..._0x519055,async(_0x36b11d,_0x283c19)=>{const _0x3f6d29=_0x436bbc;let _0x110530=await this[_0x3f6d29(0xf3)]({'request':_0x36b11d,'schema':za,'ClassRef':et,'execute':(_0x6b0688,_0x5c1d9f)=>q[_0x3f6d29(0x61c)](_0x6b0688,_0x5c1d9f)});_0x283c19['status'](0xc9)[_0x3f6d29(0x5a7)](_0x110530);})['put'](this['routerPath']('groupDesc'),..._0x519055,async(_0x32cf23,_0x16ec8c)=>{const _0x11ad57=_0x436bbc;let _0x1c7e03=await this[_0x11ad57(0xf3)]({'request':_0x32cf23,'schema':Ha,'ClassRef':tt,'execute':(_0x4cbad5,_0x398a86)=>q[_0x11ad57(0x190)](_0x4cbad5,_0x398a86)});_0x16ec8c[_0x11ad57(0x62d)](0xc9)['json'](_0x1c7e03);})['put'](this[_0x436bbc(0x410)](_0x436bbc(0x2e0)),..._0x519055,async(_0x2bf81f,_0x56c049)=>{const _0x2bc0af=_0x436bbc;let _0x401878=await this['groupValidate']({'request':_0x2bf81f,'schema':Ka,'ClassRef':st,'execute':(_0x3bd6f1,_0x20f86c)=>q[_0x2bc0af(0x2e0)](_0x3bd6f1,_0x20f86c)});_0x56c049[_0x2bc0af(0x62d)](0xc9)['json'](_0x401878);})[_0x436bbc(0x131)](this[_0x436bbc(0x410)]('groupSetting'),..._0x519055,async(_0x5b32bf,_0x358794)=>{const _0x5862a4=_0x436bbc;let _0x9cbb3f=await this[_0x5862a4(0xf3)]({'request':_0x5b32bf,'schema':Qa,'ClassRef':at,'execute':(_0x33afbe,_0x183b7e)=>q[_0x5862a4(0x666)](_0x33afbe,_0x183b7e)});_0x358794['status'](0xc9)['json'](_0x9cbb3f);})[_0x436bbc(0x131)](this[_0x436bbc(0x410)](_0x436bbc(0x674)),..._0x519055,async(_0x12ddc5,_0xd617cc)=>{const _0xb374d4=_0x436bbc;let _0x441a57=await this[_0xb374d4(0xf3)]({'request':_0x12ddc5,'schema':Wa,'ClassRef':it,'execute':(_0x217fbf,_0x7339ce)=>q[_0xb374d4(0x674)](_0x217fbf,_0x7339ce)});_0xd617cc[_0xb374d4(0x62d)](0xc9)[_0xb374d4(0x5a7)](_0x441a57);})[_0x436bbc(0x1e3)](this[_0x436bbc(0x410)](_0x436bbc(0x2ad)),..._0x519055,async(_0x3d30ef,_0xd1869e)=>{const _0x3da1e1=_0x436bbc;let _0x3449f8=await this[_0x3da1e1(0xf3)]({'request':_0x3d30ef,'schema':Ee,'ClassRef':Y,'execute':(_0x37f550,_0x5cadd3)=>q['findGroupInfo'](_0x37f550,_0x5cadd3)});_0xd1869e['status'](0xc8)[_0x3da1e1(0x5a7)](_0x3449f8);})[_0x436bbc(0x1e3)](this['routerPath']('findGroups'),..._0x519055,async(_0x23200c,_0x3e5444)=>{const _0xd0c6a2=_0x436bbc;let _0x6689c7=await this['dataValidate']({'request':_0x23200c,'schema':M,'ClassRef':E,'execute':_0x3242af=>q[_0xd0c6a2(0x2ce)](_0x3242af)});_0x3e5444[_0xd0c6a2(0x62d)](0xc8)['json'](_0x6689c7);})[_0x436bbc(0x1e3)](this[_0x436bbc(0x410)](_0x436bbc(0x648)),..._0x519055,async(_0x25bd7e,_0x4ddffe)=>{const _0x9b355=_0x436bbc;let _0x10f082=await this[_0x9b355(0xf3)]({'request':_0x25bd7e,'schema':Ee,'ClassRef':Y,'execute':(_0x56f31a,_0x353954)=>q[_0x9b355(0x140)](_0x56f31a,_0x353954)});_0x4ddffe[_0x9b355(0x62d)](0xc8)[_0x9b355(0x5a7)](_0x10f082);})['get'](this[_0x436bbc(0x410)](_0x436bbc(0x510)),..._0x519055,async(_0xa73302,_0x4eb86c)=>{const _0x3668cf=_0x436bbc;let _0x4eb764=await this[_0x3668cf(0xf3)]({'request':_0xa73302,'schema':Ee,'ClassRef':Y,'execute':(_0x2039ad,_0x4d2795)=>q[_0x3668cf(0x510)](_0x2039ad,_0x4d2795)});_0x4eb86c[_0x3668cf(0x62d)](0xc8)[_0x3668cf(0x5a7)](_0x4eb764);})[_0x436bbc(0x131)](this[_0x436bbc(0x410)](_0x436bbc(0x84)),..._0x519055,async(_0x340437,_0x141b80)=>{const _0x316320=_0x436bbc;let _0x2ed5c8=await this['joinGroupValidate']({'request':_0x340437,'schema':Ya,'ClassRef':ot,'execute':(_0x2130a0,_0x3ab3b6)=>q['joinGroup'](_0x2130a0,_0x3ab3b6)});_0x141b80[_0x316320(0x62d)](0xc9)[_0x316320(0x5a7)](_0x2ed5c8);})['put'](this[_0x436bbc(0x410)](_0x436bbc(0x99)),..._0x519055,async(_0x48e386,_0x125589)=>{const _0x399192=_0x436bbc;let _0x14ae27=await this[_0x399192(0xf3)]({'request':_0x48e386,'schema':Ee,'ClassRef':Y,'execute':(_0x114b89,_0xad9eaa)=>q[_0x399192(0x99)](_0x114b89,_0xad9eaa)});_0x125589['status'](0xc9)[_0x399192(0x5a7)](_0x14ae27);})[_0x436bbc(0x131)](this[_0x436bbc(0x410)]('updateParticipant'),..._0x519055,async(_0x2f6bb7,_0x341724)=>{const _0x46cbe8=_0x436bbc;let _0x376857=await this['groupValidate']({'request':_0x2f6bb7,'schema':Ga,'ClassRef':rt,'execute':(_0x2b3a36,_0x322dc8)=>q['updateGParticipate'](_0x2b3a36,_0x322dc8)});_0x341724[_0x46cbe8(0x62d)](0xc9)[_0x46cbe8(0x5a7)](_0x376857);})[_0x436bbc(0x67b)](this[_0x436bbc(0x410)]('leaveGroup'),..._0x519055,async(_0x2f677e,_0x24ec3c)=>{const _0x425c95=_0x436bbc;let _0x1af7ff=await this[_0x425c95(0xf3)]({'request':_0x2f677e,'schema':{},'ClassRef':Y,'execute':(_0xf0d23f,_0x15b553)=>q[_0x425c95(0x6e4)](_0xf0d23f,_0x15b553)});_0x24ec3c[_0x425c95(0x62d)](0xc8)[_0x425c95(0x5a7)](_0x1af7ff);});}},to=require(a0_0x22d3e1(0x68b)),ct=class extends U{constructor(_0x429bc3,..._0xa3c720){const _0x570aac=a0_0x22d3e1;super(),this['configService']=_0x429bc3,this[_0x570aac(0x198)]=(0x0,to['Router'])();let _0x15e148=_0x429bc3[_0x570aac(0x1e3)]('AUTHENTICATION');this[_0x570aac(0x198)][_0x570aac(0x1f8)](_0x570aac(0xa7),..._0xa3c720,async(_0x36794a,_0x2bd8bf)=>{const _0x218716=_0x570aac;let {instanceName:_0x344c91,apikey:_0xe5430b,number:_0x2d1bd1}=_0x36794a[_0x218716(0x321)],_0x1227b4=await le[_0x218716(0x60c)]({'instanceName':_0x344c91,'apikey':_0xe5430b,'number':_0x2d1bd1});return _0x2bd8bf['status'](0xc9)[_0x218716(0x5a7)](_0x1227b4);})[_0x570aac(0x131)](this[_0x570aac(0x410)](_0x570aac(0x4f8)),..._0xa3c720,async(_0xe73fed,_0x52ef5b)=>{const _0x3a8061=_0x570aac;let _0x2c5e6a=await this[_0x3a8061(0x102)]({'request':_0xe73fed,'schema':M,'ClassRef':E,'execute':_0x421214=>le['restartInstance'](_0x421214)});return _0x52ef5b[_0x3a8061(0x62d)](0xc8)[_0x3a8061(0x5a7)](_0x2c5e6a);})[_0x570aac(0x1e3)](this[_0x570aac(0x410)](_0x570aac(0x38b)),..._0xa3c720,async(_0x261811,_0x48594d)=>{const _0x17f81b=_0x570aac;let _0x31f315=await this['dataValidate']({'request':_0x261811,'schema':M,'ClassRef':E,'execute':_0x3d05c0=>le['connectionState'](_0x3d05c0)});return _0x48594d[_0x17f81b(0x62d)](0xc8)[_0x17f81b(0x5a7)](_0x31f315);})[_0x570aac(0x1e3)](this[_0x570aac(0x410)](_0x570aac(0x216),!0x1),..._0xa3c720,async(_0x4c9332,_0x5dfabc)=>{const _0x1c1320=_0x570aac;let _0xc5b264=await this[_0x1c1320(0x102)]({'request':_0x4c9332,'schema':null,'ClassRef':E,'execute':_0x45daab=>le['fetchInstances'](_0x45daab)});return _0x5dfabc['status'](0xc8)[_0x1c1320(0x5a7)](_0xc5b264);})[_0x570aac(0x67b)](this[_0x570aac(0x410)](_0x570aac(0x9c)),..._0xa3c720,async(_0x752eee,_0x5e50f6)=>{const _0x31829b=_0x570aac;let _0x37a3ab=await this[_0x31829b(0x102)]({'request':_0x752eee,'schema':M,'ClassRef':E,'execute':_0x23d2bf=>le['logout'](_0x23d2bf)});return _0x5e50f6[_0x31829b(0x62d)](0xc8)[_0x31829b(0x5a7)](_0x37a3ab);})[_0x570aac(0x67b)](this[_0x570aac(0x410)]('delete'),..._0xa3c720,async(_0x29241c,_0x1ee14a)=>{const _0x1c7cb3=_0x570aac;let _0xc61aef=await this[_0x1c7cb3(0x102)]({'request':_0x29241c,'schema':M,'ClassRef':E,'execute':_0x3ddb11=>le[_0x1c7cb3(0x3a6)](_0x3ddb11)});return _0x1ee14a['status'](0xc8)[_0x1c7cb3(0x5a7)](_0xc61aef);});}},so=require(a0_0x22d3e1(0x68b)),gs=class{},W=class extends gs{},lt=class extends W{},ut=class extends W{},dt=class extends W{},pt=class extends W{},Ce=class extends W{},ht=class extends W{},gt=class extends W{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class{},bt=class extends U{constructor(..._0x189bc0){const _0x2262da=a0_0x22d3e1;super(),this[_0x2262da(0x198)]=(0x0,so['Router'])(),this[_0x2262da(0x198)][_0x2262da(0x1f8)](this[_0x2262da(0x410)](_0x2262da(0x19a)),..._0x189bc0,async(_0x5c8c58,_0x79fc4e)=>{const _0x4f82d5=_0x2262da;let _0x1cdea6=await this[_0x4f82d5(0x102)]({'request':_0x5c8c58,'schema':Sa,'ClassRef':lt,'execute':(_0xb25ee1,_0x436868)=>G[_0x4f82d5(0x19a)](_0xb25ee1,_0x436868)});return _0x79fc4e[_0x4f82d5(0x62d)](0xc9)[_0x4f82d5(0x5a7)](_0x1cdea6);})['post'](this[_0x2262da(0x410)](_0x2262da(0x34d)),..._0x189bc0,async(_0x589dbc,_0x524c5d)=>{const _0x3c0508=_0x2262da;let _0x3a37bb=await this[_0x3c0508(0x102)]({'request':_0x589dbc,'schema':va,'ClassRef':Ce,'execute':(_0x21d008,_0x517956)=>G[_0x3c0508(0x34d)](_0x21d008,_0x517956)});return _0x524c5d['status'](0xc9)[_0x3c0508(0x5a7)](_0x3a37bb);})[_0x2262da(0x1f8)](this[_0x2262da(0x410)]('sendMenu'),..._0x189bc0,async(_0x1decf1,_0x4c498b)=>{const _0x303779=_0x2262da;let _0x3896fc=await this[_0x303779(0x102)]({'request':_0x1decf1,'schema':Ta,'ClassRef':pt,'execute':(_0x2be6c0,_0x514904)=>G['sendMenu'](_0x2be6c0,_0x514904)});return _0x4c498b['status'](0xc9)[_0x303779(0x5a7)](_0x3896fc);})['post'](this[_0x2262da(0x410)]('sendWhatsAppAudio'),..._0x189bc0,async(_0x314c92,_0xfb43a4)=>{const _0x3b47c2=_0x2262da;let _0x32ee4b=await this[_0x3b47c2(0x102)]({'request':_0x314c92,'schema':Na,'ClassRef':Ce,'execute':(_0x4b9c1f,_0x354230)=>G['sendWhatsAppAudio'](_0x4b9c1f,_0x354230)});return _0xfb43a4[_0x3b47c2(0x62d)](0xc9)[_0x3b47c2(0x5a7)](_0x32ee4b);})['post'](this['routerPath'](_0x2262da(0x34b)),..._0x189bc0,async(_0x404e39,_0xd48272)=>{const _0x7d650b=_0x2262da;let _0x4f04fc=await this[_0x7d650b(0x102)]({'request':_0x404e39,'schema':Aa,'ClassRef':gt,'execute':(_0x5f04cd,_0x4a04b6)=>G[_0x7d650b(0x34b)](_0x5f04cd,_0x4a04b6)});return _0xd48272[_0x7d650b(0x62d)](0xc9)[_0x7d650b(0x5a7)](_0x4f04fc);})[_0x2262da(0x1f8)](this[_0x2262da(0x410)](_0x2262da(0x3d7)),..._0x189bc0,async(_0x51953c,_0x54b911)=>{const _0x4b61be=_0x2262da;let _0x324427=await this[_0x4b61be(0x102)]({'request':_0x51953c,'schema':Oa,'ClassRef':mt,'execute':(_0x4ab9df,_0x5ab240)=>G[_0x4b61be(0x3d7)](_0x4ab9df,_0x5ab240)});return _0x54b911[_0x4b61be(0x62d)](0xc9)[_0x4b61be(0x5a7)](_0x324427);})[_0x2262da(0x1f8)](this['routerPath'](_0x2262da(0x5e6)),..._0x189bc0,async(_0x4b4776,_0x5e4d92)=>{const _0x266ad9=_0x2262da;let _0x2d47a5=await this[_0x266ad9(0x102)]({'request':_0x4b4776,'schema':Ia,'ClassRef':ft,'execute':(_0x22a2c8,_0x5a9b28)=>G[_0x266ad9(0x5e6)](_0x22a2c8,_0x5a9b28)});return _0x5e4d92[_0x266ad9(0x62d)](0xc9)[_0x266ad9(0x5a7)](_0x2d47a5);})[_0x2262da(0x1f8)](this[_0x2262da(0x410)](_0x2262da(0x56a)),..._0x189bc0,async(_0x40bfec,_0x388562)=>{const _0x6f4c94=_0x2262da;let _0x2455ce=await this[_0x6f4c94(0x102)]({'request':_0x40bfec,'schema':xa,'ClassRef':wt,'execute':(_0x4dcfdb,_0x2602b1)=>G[_0x6f4c94(0x56a)](_0x4dcfdb,_0x2602b1)});return _0x388562[_0x6f4c94(0x62d)](0xc9)[_0x6f4c94(0x5a7)](_0x2455ce);})['post'](this[_0x2262da(0x410)]('sendReaction'),..._0x189bc0,async(_0x9e50ec,_0x5b47be)=>{const _0x2bb7ef=_0x2262da;let _0x1238cc=await this[_0x2bb7ef(0x102)]({'request':_0x9e50ec,'schema':Da,'ClassRef':yt,'execute':(_0x5d304b,_0xb3d54a)=>G['sendReaction'](_0x5d304b,_0xb3d54a)});return _0x5b47be[_0x2bb7ef(0x62d)](0xc9)['json'](_0x1238cc);})[_0x2262da(0x1f8)](this[_0x2262da(0x410)](_0x2262da(0x1e7)),..._0x189bc0,async(_0x1377d1,_0x1af320)=>{const _0x33ca00=_0x2262da;let _0x1bc48c=await this[_0x33ca00(0x102)]({'request':_0x1377d1,'schema':Ra,'ClassRef':dt,'execute':(_0x2e22f3,_0x562bd6)=>G[_0x33ca00(0x1e7)](_0x2e22f3,_0x562bd6)});return _0x1af320[_0x33ca00(0x62d)](0xc9)[_0x33ca00(0x5a7)](_0x1bc48c);})[_0x2262da(0x1f8)](this[_0x2262da(0x410)](_0x2262da(0x269)),..._0x189bc0,async(_0x59ee15,_0x1cd89c)=>{const _0x3c2de3=_0x2262da;let _0x379295=await this[_0x3c2de3(0x102)]({'request':_0x59ee15,'schema':Ma,'ClassRef':ut,'execute':(_0x71d228,_0x230443)=>G[_0x3c2de3(0x269)](_0x71d228,_0x230443)});return _0x1cd89c[_0x3c2de3(0x62d)](0xc9)[_0x3c2de3(0x5a7)](_0x379295);})[_0x2262da(0x1f8)](this[_0x2262da(0x410)](_0x2262da(0x6bb)),..._0x189bc0,async(_0x150706,_0x559ffc)=>{const _0x17db3f=_0x2262da;let _0x5c1e9f=await this[_0x17db3f(0x102)]({'request':_0x150706,'schema':Ca,'ClassRef':ht,'execute':(_0x14568b,_0x40664f)=>G[_0x17db3f(0x6bb)](_0x14568b,_0x40664f)});return _0x559ffc[_0x17db3f(0x62d)](0xc9)[_0x17db3f(0x5a7)](_0x5c1e9f);});}},ao=require(a0_0x22d3e1(0x68b)),St=class{},Et=class extends U{constructor(..._0x4570fa){const _0x2bd003=a0_0x22d3e1;super(),this[_0x2bd003(0x198)]=(0x0,ao[_0x2bd003(0x2d8)])(),this['router'][_0x2bd003(0x1f8)](this['routerPath'](_0x2bd003(0x3a2)),..._0x4570fa,async(_0xdf13c7,_0x3d2dd2)=>{const _0x154afa=_0x2bd003;let _0x5ed0dc=await this[_0x154afa(0x102)]({'request':_0xdf13c7,'schema':Xa,'ClassRef':St,'execute':(_0x42d784,_0xefa810)=>ms[_0x154afa(0x3c4)](_0x42d784,_0xefa810)});_0x3d2dd2[_0x154afa(0x62d)](0xc9)[_0x154afa(0x5a7)](_0x5ed0dc);})[_0x2bd003(0x1e3)](this[_0x2bd003(0x410)](_0x2bd003(0x39d)),..._0x4570fa,async(_0x8f6734,_0x42d397)=>{const _0x562b9a=_0x2bd003;let _0x53b8f5=await this[_0x562b9a(0x102)]({'request':_0x8f6734,'schema':M,'ClassRef':E,'execute':_0x3791da=>ms[_0x562b9a(0x650)](_0x3791da)});_0x42d397['status'](0xc8)[_0x562b9a(0x5a7)](_0x53b8f5);});}},oo=require('express'),f=new v(a0_0x22d3e1(0x4e7)),Ct=class extends U{constructor(..._0x228cec){const _0x3db1ce=a0_0x22d3e1;super(),this[_0x3db1ce(0x198)]=(0x0,oo[_0x3db1ce(0x2d8)])(),this['router'][_0x3db1ce(0x1f8)](this[_0x3db1ce(0x410)](_0x3db1ce(0x32d)),..._0x228cec,async(_0x27d220,_0x57eab0)=>{const _0x358466=_0x3db1ce;let _0x1b828f=_0x27d220[_0x358466(0x321)];f[_0x358466(0x605)](_0x358466(0x33b)),f['verbose']('request\x20body:\x20'),f[_0x358466(0x605)](_0x27d220['body']);let _0xe7dda5=await this['dataValidate']({'request':_0x27d220,'schema':M,'ClassRef':E,'execute':_0x289fd8=>T[_0x358466(0x5f8)](_0x289fd8,_0x1b828f)});_0x57eab0[_0x358466(0x62d)](0xc8)[_0x358466(0x5a7)](_0xe7dda5);})[_0x3db1ce(0x1e3)](this[_0x3db1ce(0x410)](_0x3db1ce(0x32d)),..._0x228cec,async(_0x22cb92,_0x53fb09)=>{const _0x1b0e1f=_0x3db1ce;let _0x56a96d=await this[_0x1b0e1f(0x102)]({'request':_0x22cb92,'schema':M,'ClassRef':E,'execute':_0x24f778=>T[_0x1b0e1f(0x440)](_0x24f778)});_0x53fb09[_0x1b0e1f(0x62d)](0xc8)['json'](_0x56a96d);})['delete'](this['routerPath'](_0x3db1ce(0x4d6)),..._0x228cec,async(_0x247888,_0x2ce285)=>{const _0x11747c=_0x3db1ce;f[_0x11747c(0x605)](_0x11747c(0x40e));let _0x21fb36=await this[_0x11747c(0x102)]({'request':_0x247888,'schema':M,'ClassRef':E,'execute':_0x53cf5c=>T[_0x11747c(0x4d6)](_0x53cf5c)});_0x2ce285[_0x11747c(0x62d)](0xc8)[_0x11747c(0x5a7)](_0x21fb36);})['post'](this[_0x3db1ce(0x410)](_0x3db1ce(0x6da)),..._0x228cec,async(_0x28046a,_0x136586)=>{const _0x31233d=_0x3db1ce;let _0x48c48e=_0x28046a[_0x31233d(0x321)];f[_0x31233d(0x605)](_0x31233d(0x271)),f[_0x31233d(0x605)](_0x31233d(0x3e3)),f[_0x31233d(0x605)](_0x28046a[_0x31233d(0x321)]);let _0x3decff=await this[_0x31233d(0x102)]({'request':_0x28046a,'schema':M,'ClassRef':E,'execute':_0x158d69=>T[_0x31233d(0x6da)](_0x158d69,_0x48c48e)});_0x136586['status'](0xc8)[_0x31233d(0x5a7)](_0x3decff);})[_0x3db1ce(0x1e3)](this[_0x3db1ce(0x410)](_0x3db1ce(0xc1)),..._0x228cec,async(_0x31fa43,_0x327cb6)=>{const _0x3248b8=_0x3db1ce;f[_0x3248b8(0x605)](_0x3248b8(0x448));let _0xa0739d=await this[_0x3248b8(0x102)]({'request':_0x31fa43,'schema':M,'ClassRef':E,'execute':_0x3b2cb7=>T[_0x3248b8(0xc1)](_0x3b2cb7)});_0x327cb6[_0x3248b8(0x62d)](0xc8)[_0x3248b8(0x5a7)](_0xa0739d);})[_0x3db1ce(0x1e3)](this['routerPath']('getTicketSystem'),..._0x228cec,async(_0x1a699a,_0x5c879b)=>{const _0x2c9f80=_0x3db1ce;f['verbose']('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0xf13f8e=await this[_0x2c9f80(0x102)]({'request':_0x1a699a,'schema':M,'ClassRef':E,'execute':_0x289829=>T[_0x2c9f80(0xc1)](_0x289829)});_0x5c879b['status'](0xc8)[_0x2c9f80(0x5a7)](_0xf13f8e);})[_0x3db1ce(0x1f8)](this[_0x3db1ce(0x410)](_0x3db1ce(0x34c)),..._0x228cec,async(_0x1fab24,_0x2f8bbd)=>{const _0x28006c=_0x3db1ce;let _0x47d148=_0x1fab24[_0x28006c(0x321)];f['verbose'](_0x28006c(0x2bb)),f[_0x28006c(0x605)](_0x28006c(0x3e3)),f['verbose'](_0x1fab24['body']);let _0x22e500=await this[_0x28006c(0x102)]({'request':_0x1fab24,'schema':M,'ClassRef':E,'execute':_0x43de43=>T[_0x28006c(0x34c)](_0x43de43,_0x47d148)});_0x2f8bbd['status'](0xc8)[_0x28006c(0x5a7)](_0x22e500);})[_0x3db1ce(0x1f8)](this[_0x3db1ce(0x410)]('updateCustomFields'),..._0x228cec,async(_0x4ba552,_0x4911fe)=>{const _0x1d731b=_0x3db1ce;let _0x3515e4=_0x4ba552['body'];f['verbose'](_0x1d731b(0x6b1)),f[_0x1d731b(0x605)](_0x1d731b(0x3e3)),f['verbose'](_0x4ba552[_0x1d731b(0x321)]);let _0x129029=await this[_0x1d731b(0x102)]({'request':_0x4ba552,'schema':M,'ClassRef':E,'execute':_0x1646cd=>T[_0x1d731b(0x11a)](_0x1646cd,_0x3515e4)});_0x4911fe[_0x1d731b(0x62d)](0xc8)[_0x1d731b(0x5a7)](_0x129029);})['post'](this['routerPath'](_0x3db1ce(0x4fd)),..._0x228cec,async(_0x1cde92,_0x4f44a5)=>{const _0x4396b7=_0x3db1ce;let _0x539175=_0x1cde92[_0x4396b7(0x321)];f[_0x4396b7(0x605)](_0x4396b7(0x545)),f['verbose'](_0x4396b7(0x3e3)),f[_0x4396b7(0x605)](_0x1cde92[_0x4396b7(0x321)]);let _0x297652=await this[_0x4396b7(0x102)]({'request':_0x1cde92,'schema':M,'ClassRef':E,'execute':_0x4226fa=>T[_0x4396b7(0x4fd)](_0x4226fa,_0x539175)});_0x4f44a5['status'](0xc8)[_0x4396b7(0x5a7)](_0x297652);})['post'](this[_0x3db1ce(0x410)](_0x3db1ce(0x15c)),..._0x228cec,async(_0xecf0b4,_0x46e9c1)=>{const _0x1b0d1f=_0x3db1ce;let _0x532980=_0xecf0b4['body'];f[_0x1b0d1f(0x605)](_0x1b0d1f(0xa5)),f[_0x1b0d1f(0x605)]('request\x20body:\x20'),f[_0x1b0d1f(0x605)](_0xecf0b4['body']);let _0x1e8033=await this['dataValidate']({'request':_0xecf0b4,'schema':M,'ClassRef':E,'execute':_0x41337a=>T[_0x1b0d1f(0x15c)](_0x41337a,_0x532980)});_0x46e9c1[_0x1b0d1f(0x62d)](0xc8)[_0x1b0d1f(0x5a7)](_0x1e8033);})[_0x3db1ce(0x1f8)](this[_0x3db1ce(0x410)]('fetchConversation'),..._0x228cec,async(_0x465611,_0x31484b)=>{const _0x22b522=_0x3db1ce;let _0x5511f4=_0x465611[_0x22b522(0x321)];f[_0x22b522(0x605)]('request\x20received\x20in\x20fetchConversation'),f[_0x22b522(0x605)](_0x22b522(0x3e3)),f[_0x22b522(0x605)](_0x465611['body']);let _0x21baba=await this[_0x22b522(0x102)]({'request':_0x465611,'schema':M,'ClassRef':E,'execute':_0x47b7a9=>T[_0x22b522(0x234)](_0x47b7a9,_0x5511f4)});_0x31484b[_0x22b522(0x62d)](0xc8)[_0x22b522(0x5a7)](_0x21baba);})['post'](this[_0x3db1ce(0x410)]('editConversation'),..._0x228cec,async(_0xf43c67,_0x578e24)=>{const _0x1a5c83=_0x3db1ce;let _0x1b0884=_0xf43c67[_0x1a5c83(0x321)];f[_0x1a5c83(0x605)](_0x1a5c83(0x423)),f[_0x1a5c83(0x605)](_0x1a5c83(0x3e3)),f['verbose'](_0xf43c67[_0x1a5c83(0x321)]);let _0x44f714=await this['dataValidate']({'request':_0xf43c67,'schema':M,'ClassRef':E,'execute':_0x2daa20=>T[_0x1a5c83(0x3cf)](_0x2daa20,_0x1b0884)});_0x578e24[_0x1a5c83(0x62d)](0xc8)[_0x1a5c83(0x5a7)](_0x44f714);})[_0x3db1ce(0x67b)](this[_0x3db1ce(0x410)](_0x3db1ce(0x283)),..._0x228cec,async(_0x2e4d68,_0x5abf15)=>{const _0x537ac8=_0x3db1ce;let _0x162377=_0x2e4d68[_0x537ac8(0x321)];f['verbose'](_0x537ac8(0x15a)),f['verbose'](_0x537ac8(0x3e3)),f[_0x537ac8(0x605)](_0x2e4d68[_0x537ac8(0x321)]);let _0x3ed134=await this[_0x537ac8(0x102)]({'request':_0x2e4d68,'schema':M,'ClassRef':E,'execute':_0x248f06=>T[_0x537ac8(0x283)](_0x248f06,_0x162377)});_0x5abf15[_0x537ac8(0x62d)](0xc8)['json'](_0x3ed134);})['post'](this[_0x3db1ce(0x410)](_0x3db1ce(0x2bd)),..._0x228cec,async(_0x109f94,_0x4ee124)=>{const _0x257cdf=_0x3db1ce;let _0x445299=_0x109f94[_0x257cdf(0x321)];f[_0x257cdf(0x605)](_0x257cdf(0x117)),f[_0x257cdf(0x605)](_0x257cdf(0x3e3)),f['verbose'](_0x109f94[_0x257cdf(0x321)]);let _0x52ef95=await this['dataValidate']({'request':_0x109f94,'schema':M,'ClassRef':E,'execute':_0x1a8132=>T[_0x257cdf(0x227)](_0x1a8132,_0x445299)});_0x4ee124[_0x257cdf(0x62d)](0xc8)['json'](_0x52ef95);})[_0x3db1ce(0x1f8)](this[_0x3db1ce(0x410)](_0x3db1ce(0x237)),..._0x228cec,async(_0x5e5d45,_0x4beb0b)=>{const _0x5bfe9f=_0x3db1ce;let _0x29e283=_0x5e5d45[_0x5bfe9f(0x321)];f[_0x5bfe9f(0x605)](_0x5bfe9f(0x1bf)),f[_0x5bfe9f(0x605)]('request\x20body:\x20'),f['verbose'](_0x5e5d45[_0x5bfe9f(0x321)]),delete _0x29e283[_0x5bfe9f(0x459)],delete _0x29e283[_0x5bfe9f(0x3d3)],delete _0x29e283[_0x5bfe9f(0x3e6)],delete _0x29e283[_0x5bfe9f(0x445)];let _0x25c767=await this[_0x5bfe9f(0x102)]({'request':_0x5e5d45,'schema':M,'ClassRef':E,'execute':_0x43877b=>T[_0x5bfe9f(0x8f)](_0x43877b,_0x29e283)});_0x4beb0b[_0x5bfe9f(0x62d)](0xc8)[_0x5bfe9f(0x5a7)](_0x25c767);})[_0x3db1ce(0x1f8)](this[_0x3db1ce(0x410)]('editflowblock'),..._0x228cec,async(_0x5b0f86,_0x29d67c)=>{const _0x276b29=_0x3db1ce;let _0x1407d4=_0x5b0f86['body'];f['verbose'](_0x276b29(0x1bf)),f['verbose'](_0x276b29(0x3e3)),f[_0x276b29(0x605)](_0x5b0f86[_0x276b29(0x321)]);let _0x6d9485=await this[_0x276b29(0x102)]({'request':_0x5b0f86,'schema':M,'ClassRef':E,'execute':_0x2926f7=>T['editFlowBlock'](_0x2926f7,_0x1407d4)});_0x29d67c[_0x276b29(0x62d)](0xc8)['json'](_0x6d9485);})['post'](this[_0x3db1ce(0x410)](_0x3db1ce(0x419)),..._0x228cec,async(_0x391bcb,_0x400027)=>{const _0x554e7e=_0x3db1ce;let _0x5641e0=_0x391bcb[_0x554e7e(0x321)];f[_0x554e7e(0x605)](_0x554e7e(0x1bf)),f[_0x554e7e(0x605)](_0x554e7e(0x3e3)),f[_0x554e7e(0x605)](_0x391bcb['body']);let _0x338726=await this[_0x554e7e(0x102)]({'request':_0x391bcb,'schema':M,'ClassRef':E,'execute':_0x19d8be=>T[_0x554e7e(0x18e)](_0x19d8be,_0x5641e0)});_0x400027[_0x554e7e(0x62d)](0xc8)['json'](_0x338726);})[_0x3db1ce(0x1f8)](this[_0x3db1ce(0x410)](_0x3db1ce(0x405)),..._0x228cec,async(_0x241363,_0x17186e)=>{const _0x2c5dbb=_0x3db1ce;let _0x4caa44=_0x241363['body'];f['verbose']('request\x20received\x20in\x20editFlow'),f['verbose']('request\x20body:\x20'),f[_0x2c5dbb(0x605)](_0x241363[_0x2c5dbb(0x321)]);let _0x2bcfb8=await this[_0x2c5dbb(0x102)]({'request':_0x241363,'schema':M,'ClassRef':E,'execute':_0x37c2b6=>T['editFlowVaredit'](_0x37c2b6,_0x4caa44)});_0x17186e[_0x2c5dbb(0x62d)](0xc8)[_0x2c5dbb(0x5a7)](_0x2bcfb8);})[_0x3db1ce(0x1f8)](this[_0x3db1ce(0x410)](_0x3db1ce(0xba)),..._0x228cec,async(_0x285d02,_0x4bcd3c)=>{const _0xf8540b=_0x3db1ce;let _0x9ad8d1=_0x285d02[_0xf8540b(0x321)];f[_0xf8540b(0x605)](_0xf8540b(0x31c)),f[_0xf8540b(0x605)]('request\x20body:\x20'),f[_0xf8540b(0x605)](_0x285d02[_0xf8540b(0x321)]);let _0xad6a72=await this[_0xf8540b(0x102)]({'request':_0x285d02,'schema':M,'ClassRef':E,'execute':_0x2e25ed=>T[_0xf8540b(0x4a9)](_0x2e25ed,_0x9ad8d1)});_0x4bcd3c[_0xf8540b(0x62d)](0xc8)[_0xf8540b(0x5a7)](_0xad6a72);})[_0x3db1ce(0x1f8)](this[_0x3db1ce(0x410)](_0x3db1ce(0x537)),..._0x228cec,async(_0x110a57,_0x8e3a9c)=>{const _0x16be0e=_0x3db1ce;let _0x470dc4=_0x110a57[_0x16be0e(0x321)];f[_0x16be0e(0x605)]('request\x20received\x20in\x20editFlowcondition'),f['verbose'](_0x16be0e(0x3e3)),f[_0x16be0e(0x605)](_0x110a57[_0x16be0e(0x321)]);let _0x4de4ce=await this[_0x16be0e(0x102)]({'request':_0x110a57,'schema':M,'ClassRef':E,'execute':_0x8f7a80=>T['editFlowCondition'](_0x8f7a80,_0x470dc4)});_0x8e3a9c[_0x16be0e(0x62d)](0xc8)[_0x16be0e(0x5a7)](_0x4de4ce);})[_0x3db1ce(0x1f8)](this[_0x3db1ce(0x410)](_0x3db1ce(0x475)),..._0x228cec,async(_0x3a6ef4,_0x343295)=>{const _0x270709=_0x3db1ce;let _0x2eff50=_0x3a6ef4['body'];f[_0x270709(0x605)](_0x270709(0x57f)),f['verbose']('request\x20body:\x20'),f[_0x270709(0x605)](_0x3a6ef4[_0x270709(0x321)]);let _0x4f1539=await this[_0x270709(0x102)]({'request':_0x3a6ef4,'schema':M,'ClassRef':E,'execute':_0x15b4d2=>T[_0x270709(0x33f)](_0x15b4d2,_0x2eff50)});_0x343295[_0x270709(0x62d)](0xc8)[_0x270709(0x5a7)](_0x4f1539);})[_0x3db1ce(0x1f8)](this[_0x3db1ce(0x410)](_0x3db1ce(0x399)),..._0x228cec,async(_0x2ea2d5,_0x27dfd0)=>{const _0x29e8bc=_0x3db1ce;let _0x2239c3=_0x2ea2d5[_0x29e8bc(0x321)];f['verbose'](_0x29e8bc(0x476)),f['verbose'](_0x29e8bc(0x3e3)),f['verbose'](_0x2ea2d5['body']);let _0xfc8133=await this['dataValidate']({'request':_0x2ea2d5,'schema':M,'ClassRef':E,'execute':_0xb87023=>T['getFlow'](_0xb87023,_0x2239c3)});_0x27dfd0[_0x29e8bc(0x62d)](0xc8)[_0x29e8bc(0x5a7)](_0xfc8133);})['delete'](this[_0x3db1ce(0x410)](_0x3db1ce(0x2c5)),..._0x228cec,async(_0x27b743,_0x5a3651)=>{const _0x3a81a1=_0x3db1ce;let _0x1e2c63=_0x27b743[_0x3a81a1(0x321)];f[_0x3a81a1(0x605)]('request\x20received\x20in\x20deleteFlow'),f[_0x3a81a1(0x605)]('request\x20body:\x20'),f['verbose'](_0x27b743[_0x3a81a1(0x321)]);let _0x540fbe=await this[_0x3a81a1(0x102)]({'request':_0x27b743,'schema':M,'ClassRef':E,'execute':_0x2e9143=>T['deleteFlow'](_0x2e9143,_0x1e2c63)});_0x5a3651[_0x3a81a1(0x62d)](0xc8)[_0x3a81a1(0x5a7)](_0x540fbe);})[_0x3db1ce(0x1e3)](this[_0x3db1ce(0x410)](_0x3db1ce(0x25b)),..._0x228cec,async(_0x402615,_0x47f39b)=>{const _0x4d8210=_0x3db1ce;f['verbose'](_0x4d8210(0x497));let _0x5e2b40=await this[_0x4d8210(0x102)]({'request':_0x402615,'schema':M,'ClassRef':E,'execute':_0x32667a=>T[_0x4d8210(0x561)](_0x32667a)});_0x47f39b[_0x4d8210(0x62d)](0xc8)[_0x4d8210(0x5a7)](_0x5e2b40);});}},co=R(require(a0_0x22d3e1(0x41e))),X={};function ro(_0x3e4c70,_0x1fe04e,_0x3873d4,_0x5ce74e){X[_0x3e4c70]||(X[_0x3e4c70]={}),X[_0x3e4c70][_0x1fe04e]={'id':_0x1fe04e,'response':_0x3873d4,'events':_0x5ce74e};}function io(_0x368c48,_0x18b933){!X[_0x368c48]||!X[_0x368c48][_0x18b933]||delete X[_0x368c48][_0x18b933];}function J(_0x2435c8,_0x33c389,_0x6671f1){const _0x12217a=a0_0x22d3e1;if(!X[_0x2435c8])return;let _0x4a89ad=_0x12217a(0x6df)+JSON[_0x12217a(0x3c5)](_0x6671f1)+'\x0a\x0a';Object['values'](X[_0x2435c8])['forEach'](_0x2c6503=>{const _0x31a17d=_0x12217a;_0x2c6503[_0x31a17d(0x5b1)][_0x31a17d(0x6e8)](_0x33c389)&&_0x2c6503['response'][_0x31a17d(0x5b9)](_0x4a89ad);});}function no(){let _0x2d69f6={};for(let _0x46e287 in X)_0x2d69f6[_0x46e287]=Object['values'](X[_0x46e287])['map'](_0x29cdca=>({'id':_0x29cdca['id'],'events':_0x29cdca['events']}));return _0x2d69f6;}var lo=require(a0_0x22d3e1(0x25a)),ws=require(a0_0x22d3e1(0x5dc)),fs=class{},cr=new ws['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),lr=new ws[(a0_0x22d3e1(0x136))]({'_id':{'type':String,'default':'config'},'WebhookGlobal':{'type':cr},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),we=N?.[a0_0x22d3e1(0x371)](fs['name'],lr,a0_0x22d3e1(0x24c)),ur=co[a0_0x22d3e1(0x106)][a0_0x22d3e1(0x592)](__dirname,a0_0x22d3e1(0x606)),vt=(0x0,Mt[a0_0x22d3e1(0x2d8)])(),dr=b[a0_0x22d3e1(0x1e3)](a0_0x22d3e1(0x189))['TYPE'],te=[ma,fa,ba[dr]];vt[a0_0x22d3e1(0x193)](a0_0x22d3e1(0x481),Mt[a0_0x22d3e1(0x106)][a0_0x22d3e1(0x680)](ur))[a0_0x22d3e1(0x1e3)](a0_0x22d3e1(0x54d),async(_0x5b4fe4,_0x3e1cfb)=>{const _0x27ab28=a0_0x22d3e1;console[_0x27ab28(0x51f)]('bateu\x20events');let _0x22e56d=_0x5b4fe4[_0x27ab28(0x1ad)]['instance'],_0x40ede0=(_0x5b4fe4['query'][_0x27ab28(0x5b1)]||'')[_0x27ab28(0x142)](','),_0x1e4eb3=(0x0,lo['v4'])();console['log']('Instance\x20ID:',_0x22e56d),console[_0x27ab28(0x51f)](_0x27ab28(0x374),_0x40ede0);let _0x110d52=b[_0x27ab28(0x1e3)]('AUTHENTICATION')['API_KEY'],_0x10764a=_0x5b4fe4['query'][_0x27ab28(0x5de)];if(console[_0x27ab28(0x51f)](_0x27ab28(0x3df),_0x10764a),_0x110d52[_0x27ab28(0x4a2)]!==_0x10764a){console['log'](_0x27ab28(0x6a0));try{let _0x1d859d=await ce[_0x27ab28(0x1ca)][_0x27ab28(0x39d)](_0x22e56d);if(console[_0x27ab28(0x51f)]('Instance\x20Key\x20from\x20DB:',_0x1d859d),!_0x1d859d||_0x1d859d[_0x27ab28(0x5de)]!==_0x10764a)return console[_0x27ab28(0x51f)]('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x3e1cfb[_0x27ab28(0x62d)](0x191)['send'](_0x27ab28(0x156));}catch(_0x42ccbd){return console[_0x27ab28(0x411)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x42ccbd),_0x3e1cfb[_0x27ab28(0x62d)](0x191)[_0x27ab28(0x4b7)]('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await We(_0x22e56d))return _0x3e1cfb['status'](0x194)[_0x27ab28(0x4b7)](_0x27ab28(0x4cc));_0x3e1cfb[_0x27ab28(0x11f)](_0x27ab28(0x602),_0x27ab28(0x336)),_0x3e1cfb[_0x27ab28(0x11f)]('Cache-Control',_0x27ab28(0x1b0)),_0x3e1cfb['setHeader'](_0x27ab28(0x6ec),_0x27ab28(0x442)),_0x3e1cfb['flushHeaders']();let _0x54d814='data:\x20'+JSON['stringify']({'info':_0x27ab28(0x334)})+'\x0a\x0a';_0x3e1cfb[_0x27ab28(0x5b9)](_0x54d814),ro(_0x22e56d,_0x1e4eb3,_0x3e1cfb,_0x40ede0),_0x5b4fe4['on']('close',()=>{const _0x3b29dc=_0x27ab28;console[_0x3b29dc(0x51f)](_0x3b29dc(0x139)+_0x22e56d),io(_0x22e56d,_0x1e4eb3);});}),vt[a0_0x22d3e1(0x1e3)](a0_0x22d3e1(0x4c6),(_0x169aa2,_0x5f49d4)=>{const _0x2cc78c=a0_0x22d3e1;let _0x10ce01=no();_0x5f49d4[_0x2cc78c(0x5a7)](_0x10ce01);})[a0_0x22d3e1(0x1e3)]('/',(_0x3e054f,_0x56b0cf)=>{const _0x5d0d64=a0_0x22d3e1;let _0x1a24c3=b[_0x5d0d64(0x1e3)](_0x5d0d64(0x457)),_0x429996=_0x1a24c3&&_0x1a24c3['FULLCHAIN'][_0x5d0d64(0x142)]('/')[0x4];if(_0x429996){let _0x132796=encodeURIComponent(_0x5d0d64(0x9a)+_0x429996);_0x56b0cf[_0x5d0d64(0x425)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x132796);}else _0x56b0cf[_0x5d0d64(0x425)](_0x5d0d64(0x3fc));})[a0_0x22d3e1(0x131)]('/exit',...te,async(_0x321992,_0x474a6)=>{const _0x569110=a0_0x22d3e1;try{console[_0x569110(0x51f)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x474a6[_0x569110(0x62d)](0xc8)[_0x569110(0x5a7)]({'message':_0x569110(0x3ee)}),_0x474a6['on']('finish',()=>process['exit'](0x0));}catch(_0x550a40){console[_0x569110(0x411)](_0x569110(0x52a),_0x550a40),_0x474a6[_0x569110(0x62d)](0x1f4)[_0x569110(0x5a7)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x22d3e1(0x131)](a0_0x22d3e1(0x20d),...te,async(_0x47d041,_0x1bfb25)=>{const _0x2ff9aa=a0_0x22d3e1;try{let _0x52e664=_0x47d041[_0x2ff9aa(0x321)];await we[_0x2ff9aa(0x290)]({},{'$set':_0x52e664},{'upsert':!0x0});let _0x305713=await we['findOne']();_0x1bfb25['json'](_0x305713);}catch(_0x4aa398){_0x1bfb25[_0x2ff9aa(0x62d)](0x190)['send'](_0x4aa398[_0x2ff9aa(0x6c4)]);}})['get'](a0_0x22d3e1(0x20d),...te,async(_0x5092b0,_0x3e006c)=>{const _0x23ddff=a0_0x22d3e1;try{let _0x3ebbf8=await we['findOne']();if(!_0x3ebbf8)return _0x3e006c[_0x23ddff(0x5a7)]({});_0x3e006c['json'](_0x3ebbf8);}catch(_0x127427){_0x3e006c['status'](0x1f4)['send'](_0x127427['message']);}})[a0_0x22d3e1(0x193)](a0_0x22d3e1(0x3e7),new ct(b,...te)[a0_0x22d3e1(0x198)])[a0_0x22d3e1(0x193)](a0_0x22d3e1(0x5d6),new bt(...te)[a0_0x22d3e1(0x198)])[a0_0x22d3e1(0x193)](a0_0x22d3e1(0x36b),new Xe(...te)[a0_0x22d3e1(0x198)])[a0_0x22d3e1(0x193)](a0_0x22d3e1(0x4bd),new nt(...te)[a0_0x22d3e1(0x198)])['use']('/webhook',new Et(...te)[a0_0x22d3e1(0x198)])[a0_0x22d3e1(0x193)](a0_0x22d3e1(0x1c1),new Ct(...te)[a0_0x22d3e1(0x198)]);var m=class{constructor(..._0x4bb551){const _0x33b8b8=a0_0x22d3e1;throw{'status':0x190,'error':_0x33b8b8(0x5c1),'message':_0x4bb551[_0x33b8b8(0x4b3)]>0x0?_0x4bb551:void 0x0};}},ee=class{constructor(..._0xab0c50){const _0x2a2fda=a0_0x22d3e1;throw{'status':0x191,'error':_0x2a2fda(0x589),'message':_0xab0c50[_0x2a2fda(0x4b3)]>0x0?_0xab0c50:void 0x0};}},K=class{constructor(..._0x4c7ccc){const _0x29a7d8=a0_0x22d3e1;throw{'status':0x193,'error':_0x29a7d8(0x492),'message':_0x4c7ccc[_0x29a7d8(0x4b3)]>0x0?_0x4c7ccc:void 0x0};}},j=class{constructor(..._0x3c05d6){const _0x1b0d63=a0_0x22d3e1;throw{'status':0x194,'error':'Not\x20Found','message':_0x3c05d6[_0x1b0d63(0x4b3)]>0x0?_0x3c05d6:void 0x0};}},O=class{constructor(..._0x21afd8){const _0x1c1ac7=a0_0x22d3e1;throw{'status':0x1f4,'error':_0x1c1ac7(0x5a0),'message':_0x21afd8['length']>0x0?_0x21afd8:void 0x0};}},ue=require(a0_0x22d3e1(0x278));async function ys(_0x41f7c8){const _0x142555=a0_0x22d3e1;let _0x3c02dd=new v(ys['name']),_0x3eb014=N[_0x142555(0x391)](),_0x5a14eb=_0x3eb014['db'](b[_0x142555(0x1e3)]('DATABASE')[_0x142555(0x88)][_0x142555(0x45c)]+'-instances')[_0x142555(0x5e9)](_0x41f7c8),_0x5d1e73=async(_0x2d90ba,_0x37e7d2)=>{const _0x2c04f1=_0x142555;try{return await _0x3eb014['connect'](),await _0x5a14eb[_0x2c04f1(0x6c1)]({'_id':_0x37e7d2},JSON[_0x2c04f1(0x44f)](JSON[_0x2c04f1(0x3c5)](_0x2d90ba,ue[_0x2c04f1(0x18d)][_0x2c04f1(0x547)])),{'upsert':!0x0});}catch{}},_0x24c3bf=async _0x10cc99=>{const _0x47ebde=_0x142555;try{await _0x3eb014['connect']();let _0x159aac=await _0x5a14eb[_0x47ebde(0x639)]({'_id':_0x10cc99}),_0x56a0a5=JSON[_0x47ebde(0x3c5)](_0x159aac);return JSON[_0x47ebde(0x44f)](_0x56a0a5,ue[_0x47ebde(0x18d)]['reviver']);}catch{}},_0x527c14=async _0x52997b=>{const _0x1acf8c=_0x142555;try{return await _0x3eb014[_0x1acf8c(0x679)](),await _0x5a14eb[_0x1acf8c(0x17d)]({'_id':_0x52997b});}catch{}},_0x5cd2c2=await _0x24c3bf(_0x142555(0x568))||(0x0,ue[_0x142555(0x22e)])();return{'state':{'creds':_0x5cd2c2,'keys':{'get':async(_0x55465a,_0x3b31a1)=>{const _0x51bfec=_0x142555;let _0x1b669a={};return await Promise[_0x51bfec(0x133)](_0x3b31a1[_0x51bfec(0x2bf)](async _0x33a8ef=>{const _0x358a83=_0x51bfec;let _0x2c6c9d=await _0x24c3bf(_0x55465a+'-'+_0x33a8ef);_0x55465a==='app-state-sync-key'&&_0x2c6c9d&&(_0x2c6c9d=ue[_0x358a83(0x430)]['Message']['AppStateSyncKeyData'][_0x358a83(0x246)](_0x2c6c9d)),_0x1b669a[_0x33a8ef]=_0x2c6c9d;})),_0x1b669a;},'set':async _0x4a042b=>{const _0x8ae3bb=_0x142555;let _0x15d428=[];for(let _0x4b1e71 in _0x4a042b)for(let _0x5d749f in _0x4a042b[_0x4b1e71]){let _0x3f6102=_0x4a042b[_0x4b1e71][_0x5d749f],_0x58e2c3=_0x4b1e71+'-'+_0x5d749f;_0x15d428[_0x8ae3bb(0x435)](_0x3f6102?_0x5d1e73(_0x3f6102,_0x58e2c3):_0x527c14(_0x58e2c3));}await Promise[_0x8ae3bb(0x133)](_0x15d428);}}},'saveCreds':async()=>_0x5d1e73(_0x5cd2c2,_0x142555(0x568))};}var Es=R(require(a0_0x22d3e1(0x367))),Cs=R(require(a0_0x22d3e1(0x104))),Tt=require(a0_0x22d3e1(0x278)),uo=require(a0_0x22d3e1(0x46f)),Rt=require(a0_0x22d3e1(0x278)),Nt;function pr(_0x5a81e8){const _0x53ee01=a0_0x22d3e1;return Nt||(Nt=(0x0,uo[_0x53ee01(0x1e0)])({'url':_0x5a81e8['URI']}),Nt['connect']()),Nt;}var oe=class c{constructor(_0x2838bc,_0x4c4ba7){const _0x5b92f7=a0_0x22d3e1;this[_0x5b92f7(0x553)]=_0x2838bc,this['instanceName']=_0x4c4ba7,this[_0x5b92f7(0x13f)]=new v(c[_0x5b92f7(0xa8)]),this[_0x5b92f7(0x49f)]=pr(_0x2838bc);}set[a0_0x22d3e1(0x1eb)](_0x277b44){this['instanceName']=_0x277b44;}async['instanceKeys'](){const _0x1f755c=a0_0x22d3e1;try{return await this[_0x1f755c(0x49f)][_0x1f755c(0x3f7)]([_0x1f755c(0x55f),this[_0x1f755c(0x553)][_0x1f755c(0x436)]+':*']);}catch(_0xb9465c){this['logger'][_0x1f755c(0x411)](_0xb9465c);}}async[a0_0x22d3e1(0xb1)](_0x44b8b8,_0x3d23ac){const _0x10f993=a0_0x22d3e1;try{let _0x5c8b06=JSON[_0x10f993(0x3c5)](_0x3d23ac,Rt[_0x10f993(0x18d)][_0x10f993(0x547)]);return await this['client'][_0x10f993(0x167)](this[_0x10f993(0x553)]['PREFIX_KEY']+':'+this['instanceName'],_0x44b8b8,_0x5c8b06);}catch(_0x1711b5){this['logger'][_0x10f993(0x411)](_0x1711b5);}}async[a0_0x22d3e1(0x1f7)](){const _0x34b7fe=a0_0x22d3e1;try{let _0x21359b=await this[_0x34b7fe(0x49f)][_0x34b7fe(0x2e1)](this[_0x34b7fe(0x553)][_0x34b7fe(0x436)]+':'+this[_0x34b7fe(0x4c1)]);if(_0x21359b){for(let _0xc992e in _0x21359b)Object[_0x34b7fe(0x1af)]['hasOwnProperty']['call'](_0x21359b,_0xc992e)&&(_0x21359b[_0xc992e]=JSON[_0x34b7fe(0x44f)](_0x21359b[_0xc992e],Rt[_0x34b7fe(0x18d)][_0x34b7fe(0x2fd)]));return _0x21359b;}}catch(_0xb9b3ca){this[_0x34b7fe(0x13f)][_0x34b7fe(0x411)](_0xb9b3ca);}}async[a0_0x22d3e1(0x205)](_0xa2a278){const _0x53b03f=a0_0x22d3e1;try{let _0x5ac110=await this['client'][_0x53b03f(0x4d0)](this[_0x53b03f(0x553)][_0x53b03f(0x436)]+':'+this[_0x53b03f(0x4c1)],_0xa2a278);if(_0x5ac110)return JSON[_0x53b03f(0x44f)](_0x5ac110,Rt[_0x53b03f(0x18d)]['reviver']);}catch(_0x1d25d6){this['logger'][_0x53b03f(0x411)](_0x1d25d6);}}async[a0_0x22d3e1(0x3cc)](_0x2c5537){const _0x543dd6=a0_0x22d3e1;try{return await this['client'][_0x543dd6(0x479)](this[_0x543dd6(0x553)][_0x543dd6(0x436)]+':'+this[_0x543dd6(0x4c1)],_0x2c5537);}catch(_0x87eed6){this[_0x543dd6(0x13f)][_0x543dd6(0x411)](_0x87eed6);}}async['delAll'](_0x325057){const _0x352493=a0_0x22d3e1;try{return await this[_0x352493(0x49f)][_0x352493(0x5c2)](_0x325057||this[_0x352493(0x553)][_0x352493(0x436)]+':'+this[_0x352493(0x4c1)]);}catch(_0x21b468){this[_0x352493(0x13f)][_0x352493(0x411)](_0x21b468);}}};async function bs(_0x2e65e7,_0x17a883){const _0x52f52a=a0_0x22d3e1;let _0xc235f9=new v(bs[_0x52f52a(0xa8)]),_0xc3da16=new oe(_0x2e65e7,_0x17a883),_0x52ae07=async(_0x17ea6e,_0x3e9228)=>{const _0x3b405c=_0x52f52a;try{return await _0xc3da16[_0x3b405c(0xb1)](_0x3e9228,_0x17ea6e);}catch(_0x31c7a4){return _0xc235f9['error']({'localError':'writeData','error':_0x31c7a4});}},_0x4ef943=async _0x2380a3=>{const _0x4fe184=_0x52f52a;try{return await _0xc3da16['readData'](_0x2380a3);}catch(_0x64e106){_0xc235f9['error']({'readData':_0x4fe184(0xb1),'error':_0x64e106});return;}},_0x2eab33=async _0x2b23ae=>{const _0xf009c0=_0x52f52a;try{return await _0xc3da16[_0xf009c0(0x3cc)](_0x2b23ae);}catch(_0x456f90){_0xc235f9['error']({'readData':_0xf009c0(0x3cc),'error':_0x456f90});}},_0x12c13=await _0x4ef943('creds')||(0x0,Tt['initAuthCreds'])();return{'state':{'creds':_0x12c13,'keys':{'get':async(_0x2f756a,_0x803c00)=>{const _0x1ccc38=_0x52f52a;let _0xbe2f4b={};return await Promise[_0x1ccc38(0x133)](_0x803c00[_0x1ccc38(0x2bf)](async _0x739d6f=>{const _0x1a55af=_0x1ccc38;let _0x527b7c=await _0x4ef943(_0x2f756a+'-'+_0x739d6f);_0x2f756a===_0x1a55af(0x5db)&&_0x527b7c&&(_0x527b7c=Tt['proto']['Message'][_0x1a55af(0x450)][_0x1a55af(0x246)](_0x527b7c)),_0xbe2f4b[_0x739d6f]=_0x527b7c;})),_0xbe2f4b;},'set':async _0x25c88d=>{const _0x350436=_0x52f52a;let _0xf8f032=[];for(let _0x344e7e in _0x25c88d)for(let _0x373920 in _0x25c88d[_0x344e7e]){let _0x4f5d07=_0x25c88d[_0x344e7e][_0x373920],_0x4c34b8=_0x344e7e+'-'+_0x373920;_0xf8f032['push'](_0x4f5d07?await _0x52ae07(_0x4f5d07,_0x4c34b8):await _0x2eab33(_0x4c34b8));}await Promise[_0x350436(0x133)](_0xf8f032);}}},'saveCreds':async()=>await _0x52ae07(_0x12c13,'creds')};}var L=R(require('fs')),Me=require(a0_0x22d3e1(0x25a)),xt=R(require(a0_0x22d3e1(0x3c1))),Dt=require('https-proxy-agent'),hr=a0_0x22d3e1(0x4f9)[a0_0x22d3e1(0x2dd)](),At=hr['split']('\x0a')[a0_0x22d3e1(0x2bf)](_0x1859c2=>{const _0x3e2cae=a0_0x22d3e1;let _0x170eb1=_0x1859c2[_0x3e2cae(0x142)](':');return{'host':_0x170eb1[0x0],'port':_0x170eb1[0x1],'username':_0x170eb1[0x2],'password':_0x170eb1[0x3],'protocol':_0x3e2cae(0x4f6)};});function po(_0x2e8c10){const _0x2a9394=a0_0x22d3e1;let _0x40c55d=At['find'](_0x365aa5=>_0x365aa5[_0x2a9394(0x93)]===_0x2e8c10);return _0x40c55d||null;}function ho(){const _0x496c53=a0_0x22d3e1;if(At[_0x496c53(0x4b3)]===0x0)return null;let _0x142806=Math[_0x496c53(0x695)](Math[_0x496c53(0x520)]()*At[_0x496c53(0x4b3)]);return At[_0x142806];}function go(_0x103e12){const _0x1cdaa5=a0_0x22d3e1;let _0x435d1c=_0x4a499b=>typeof _0x4a499b=='string'&&_0x4a499b['length']>0x0,_0x32c369=_0x5b17f3=>{let _0x134963=parseInt(_0x5b17f3,0xa);return!isNaN(_0x134963)&&_0x134963>0x0&&_0x134963<=0xffff;},_0x165fbb=_0x3ced34=>typeof _0x3ced34=='string'&&_0x3ced34[_0x1cdaa5(0x4b3)]>0x0;return _0x103e12&&_0x435d1c(_0x103e12[_0x1cdaa5(0x93)])&&_0x32c369(_0x103e12[_0x1cdaa5(0x5e2)])&&_0x165fbb(_0x103e12[_0x1cdaa5(0x620)])&&_0x165fbb(_0x103e12['password'])&&(_0x103e12['protocol']===_0x1cdaa5(0x4f6)||_0x103e12[_0x1cdaa5(0x1d3)]===_0x1cdaa5(0x535));}var Eo=a0_0x22d3e1(0x484),Ms,re=null,mo=null,He=null,gr=0x3,mr=null;async function fr(){const _0x59c9fb=a0_0x22d3e1;let _0x495259=await we[_0x59c9fb(0x639)]();re=_0x495259?.[_0x59c9fb(0x1bd)]??null,mr=_0x495259?.[_0x59c9fb(0x28c)]??null,Eo=_0x495259?.['connectedClient']??_0x59c9fb(0x484),Ms=_0x495259?.[_0x59c9fb(0x32c)]??vs??_0x59c9fb(0x500),console[_0x59c9fb(0x51f)](_0x59c9fb(0x531)),console[_0x59c9fb(0x51f)](_0x495259);}async function wr(){await fr();}wr();function $(_0x2eca30){const _0x37d7ef=a0_0x22d3e1;if(_0x2eca30[_0x37d7ef(0x5ad)]||_0x2eca30['viewOnceMessageV2']){let _0x121cc1=_0x2eca30[_0x37d7ef(0x5ad)]?_0x2eca30[_0x37d7ef(0x5ad)][_0x37d7ef(0x6c4)]:_0x2eca30[_0x37d7ef(0x144)][_0x37d7ef(0x6c4)];if(_0x121cc1)return(0x0,y[_0x37d7ef(0x4f7)])(_0x121cc1);}return _0x2eca30['pollCreationMessageV3']?'pollCreationMessageV3':_0x2eca30[_0x37d7ef(0x2aa)]?_0x37d7ef(0x2aa):_0x2eca30['viewOnceMessageV2Extension']?'viewOnceMessageV2Extension':(0x0,y[_0x37d7ef(0x4f7)])(_0x2eca30);}var fo={},ye=class c{constructor(_0x3151cf,_0x4bd204,_0x45a614){const _0x58bbf8=a0_0x22d3e1;this[_0x58bbf8(0x6cb)]=_0x3151cf,this[_0x58bbf8(0xdc)]=_0x4bd204,this['repository']=_0x45a614,this[_0x58bbf8(0x41d)]=null,this[_0x58bbf8(0x13f)]=new v(c[_0x58bbf8(0xa8)]),this[_0x58bbf8(0x22c)]={},this['localWebhook']={},this['stateConnection']={'state':_0x58bbf8(0x119)},this['storePath']=(0x0,F[_0x58bbf8(0x592)])(ae,'downloads'),this['msgRetryCounterCache']=new Cs['default'](),this[_0x58bbf8(0x5ba)]=new Cs['default'](),this['endSession']=!0x1,this[_0x58bbf8(0x691)]={'status.instance':'/wa-connection-update','qrcode.updated':_0x58bbf8(0x90),'messages.upsert':_0x58bbf8(0x658),'messages.update':_0x58bbf8(0x2e2),'send.message':_0x58bbf8(0x658),'group.upsert':_0x58bbf8(0x638),'group.update':'/wa-groups','group-participants.update':_0x58bbf8(0x638),'connection.update':_0x58bbf8(0x224),'messages.set':_0x58bbf8(0x658),'contacts.set':_0x58bbf8(0x65a),'contacts.upsert':'/wa-contacts','contacts.update':_0x58bbf8(0x65a),'presence.update':_0x58bbf8(0x60d),'chats.set':_0x58bbf8(0x155),'chats.update':_0x58bbf8(0x155),'chats.upsert':_0x58bbf8(0x155),'chats.delete':'/wa-chats'},this[_0x58bbf8(0xac)]=0x0,this[_0x58bbf8(0x417)]=[],this['MAX_RECONNECT_ATTEMPTS']=0xa,this['RECONNECT_TIME_FRAME']=0xea60,this[_0x58bbf8(0x6b4)]=!0x1,this[_0x58bbf8(0x2e4)]={'chats.upsert':async(_0x5cabcb,_0x7e43ee)=>{const _0x331b58=_0x58bbf8;let _0x4c6e5e=[];for await(let _0x469360 of _0x5cabcb)_0x4c6e5e['push']({'_id':_0x469360['id'],'owner':this[_0x331b58(0x22c)]['wuid'],'group':_0x469360['id'][_0x331b58(0x28b)](_0x331b58(0x185)),'name':_0x469360[_0x331b58(0xa8)]||_0x469360['displayName']||null,'contactname':null,'lastmsg':_0x469360[_0x331b58(0x1c5)]&&_0x469360[_0x331b58(0x1c5)]['toString']()[_0x331b58(0x4b3)]<0xd?_0x469360[_0x331b58(0x1c5)]*0x3e8:_0x469360[_0x331b58(0x1c5)]||null,'archived':_0x469360[_0x331b58(0x3a4)]||!0x1,'unreadcount':_0x469360[_0x331b58(0x38d)]||0x0});this[_0x331b58(0x544)](_0x331b58(0x5dd),_0x4c6e5e);},'chats.update':async(_0x18479f,_0x4818fe)=>{const _0x8b291d=_0x58bbf8;for(let _0x54f8a3 of _0x18479f){let _0x239743={'_id':_0x54f8a3['id'],'owner':this['instance'][_0x8b291d(0x6a5)],'group':_0x54f8a3['id'][_0x8b291d(0x28b)](_0x8b291d(0x185)),'name':_0x54f8a3[_0x8b291d(0xa8)]||_0x54f8a3['displayName'],'archived':_0x54f8a3['archived'],'ephemeralExpiration':_0x54f8a3[_0x8b291d(0x194)]},_0x2766d2=!0x1,_0xbdf481={};_0x239743[_0x8b291d(0x3a4)]!=null&&(this[_0x8b291d(0x13f)]['verbose'](this['instanceName']+'\x20('+this[_0x8b291d(0x22c)][_0x8b291d(0x6a5)]+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x54f8a3[_0x8b291d(0x3a4)]),_0x2766d2=!0x0,_0xbdf481[_0x8b291d(0x3a4)]=_0x54f8a3[_0x8b291d(0x3a4)]),_0x54f8a3['name']!=null&&(this[_0x8b291d(0x13f)][_0x8b291d(0x605)](this[_0x8b291d(0x4c1)]+'\x20('+this[_0x8b291d(0x22c)]['wuid']+_0x8b291d(0x482)+_0x54f8a3[_0x8b291d(0xa8)]),_0x2766d2=!0x0,_0xbdf481['name']=_0x54f8a3[_0x8b291d(0xa8)]),_0x54f8a3[_0x8b291d(0x5fc)]!=null&&(this[_0x8b291d(0x13f)][_0x8b291d(0x605)](this[_0x8b291d(0x4c1)]+'\x20('+this[_0x8b291d(0x22c)]['wuid']+_0x8b291d(0x6ef)+_0x54f8a3[_0x8b291d(0x5fc)]),_0x2766d2=!0x0,_0xbdf481[_0x8b291d(0xa8)]=_0x54f8a3['displayName']);let _0x3b7276;_0x2766d2&&(_0x3b7276=await this[_0x8b291d(0xaa)][_0x8b291d(0x147)][_0x8b291d(0x290)]({'where':{'_id':_0x54f8a3['id']}},_0xbdf481,this['instance'][_0x8b291d(0x6a5)])),_0x3b7276&&J(this[_0x8b291d(0x4c1)],_0x8b291d(0x428),{'chat':_0x3b7276});}},'chats.delete':async _0x3907b3=>{const _0x924e9=_0x58bbf8;this[_0x924e9(0x544)](_0x924e9(0x676),[..._0x3907b3]);}},this[_0x58bbf8(0x495)]={'contacts.upsert':async(_0x24564d,_0x381d76)=>{const _0x2ea153=_0x58bbf8;let _0x58c2e2=await this[_0x2ea153(0xaa)][_0x2ea153(0x2f0)][_0x2ea153(0x39d)]({'where':{}},this[_0x2ea153(0x22c)][_0x2ea153(0x6a5)]),_0x5e1473=[];for await(let _0x3765f9 of _0x24564d)_0x58c2e2[_0x2ea153(0x39d)](_0x12d151=>_0x12d151[_0x2ea153(0x494)]===_0x3765f9['id'])||_0x5e1473[_0x2ea153(0x435)]({'_id':_0x3765f9['id'],'pushName':_0x3765f9?.[_0x2ea153(0xa8)]||_0x3765f9?.[_0x2ea153(0x649)],'owner':this[_0x2ea153(0x22c)][_0x2ea153(0x6a5)]});this[_0x2ea153(0x544)](_0x2ea153(0x28f),_0x5e1473),await this[_0x2ea153(0xaa)][_0x2ea153(0x2f0)][_0x2ea153(0x53a)](_0x5e1473);},'contacts.update':async(_0x10120d,_0x5547c4)=>{const _0x22d45e=_0x58bbf8;let _0xc04b4a=[];for await(let _0x562e90 of _0x10120d)_0xc04b4a['push']({'_id':_0x562e90['id'],'pushName':_0x562e90?.['name']??_0x562e90?.[_0x22d45e(0x649)],'owner':this[_0x22d45e(0x22c)][_0x22d45e(0x6a5)]});this[_0x22d45e(0x544)](_0x22d45e(0x66f),_0xc04b4a);}},this['messageHandle']={'messaging-history.set':async({messages:_0x15bd21,chats:_0x3138a0,isLatest:_0x51c2a2},_0x51f280)=>{const _0x2e7fe2=_0x58bbf8;if(_0x51c2a2){let _0x1f5dd8=await Promise[_0x2e7fe2(0x133)](_0x3138a0[_0x2e7fe2(0x2bf)](async _0x161617=>({'_id':_0x161617['id'],'owner':this[_0x2e7fe2(0x22c)][_0x2e7fe2(0x6a5)],'group':_0x161617['id'][_0x2e7fe2(0x28b)](_0x2e7fe2(0x185)),'name':_0x161617[_0x2e7fe2(0xa8)]||_0x161617[_0x2e7fe2(0x5fc)]||null,'contactname':null,'lastmsg':_0x161617[_0x2e7fe2(0x1c5)]&&_0x161617[_0x2e7fe2(0x1c5)]['toString']()[_0x2e7fe2(0x4b3)]<0xd?_0x161617[_0x2e7fe2(0x1c5)]*0x3e8:_0x161617[_0x2e7fe2(0x1c5)]||null,'archived':_0x161617['archived']||!0x1,'unreadcount':_0x161617['unreadCount']||0x0})));this[_0x2e7fe2(0x544)](_0x2e7fe2(0x3b4),_0x1f5dd8),await this[_0x2e7fe2(0x47d)](_0x1f5dd8,_0x51f280);}let _0x3dd152=[],_0x203be7=Date[_0x2e7fe2(0x299)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x405d33]of Object['entries'](_0x15bd21)){if(_0x405d33[_0x2e7fe2(0x6c4)]?.[_0x2e7fe2(0x421)]||_0x405d33['message']?.[_0x2e7fe2(0x4cd)]||!_0x405d33['message']||_0x405d33[_0x2e7fe2(0x644)][_0x2e7fe2(0x412)]===_0x2e7fe2(0x335)||(Es[_0x2e7fe2(0x106)][_0x2e7fe2(0x1d0)](_0x405d33?.[_0x2e7fe2(0x3b8)])&&(_0x405d33[_0x2e7fe2(0x3b8)]=_0x405d33[_0x2e7fe2(0x3b8)]?.[_0x2e7fe2(0x360)]()),_0x405d33[_0x2e7fe2(0x3b8)]&&_0x405d33[_0x2e7fe2(0x3b8)][_0x2e7fe2(0x12d)]()[_0x2e7fe2(0x4b3)]<0xd&&(_0x405d33[_0x2e7fe2(0x3b8)]=_0x405d33[_0x2e7fe2(0x3b8)]*0x3e8),_0x405d33[_0x2e7fe2(0x3b8)]<_0x203be7))continue;let {message_normalized:_0x1ecc68}=this['normalizeMessage'](_0x405d33[_0x2e7fe2(0x6c4)],$(_0x405d33[_0x2e7fe2(0x6c4)]),null);Object[_0x2e7fe2(0x55f)](_0x1ecc68)[_0x2e7fe2(0x4b3)]>0x0&&_0x3dd152[_0x2e7fe2(0x435)]({'_id':_0x405d33[_0x2e7fe2(0x644)]['id'],'key':_0x405d33[_0x2e7fe2(0x644)],'pushName':_0x405d33['pushName'],'participant':_0x405d33[_0x2e7fe2(0xbf)],'message':{..._0x405d33[_0x2e7fe2(0x6c4)]},'messageType':$(_0x405d33[_0x2e7fe2(0x6c4)]),'message_normalized':{'key':_0x405d33['key'],'pushName':_0x405d33[_0x2e7fe2(0x2a7)],'messageTimestamp':_0x405d33[_0x2e7fe2(0x3b8)],..._0x1ecc68},'messageTimestamp':_0x405d33[_0x2e7fe2(0x3b8)],'owner':this[_0x2e7fe2(0x22c)][_0x2e7fe2(0x6a5)]});}_0x51f280['ENABLED']&&_0x3dd152[_0x2e7fe2(0x4b3)]>0x0&&(this[_0x2e7fe2(0x13f)]['verbose'](this[_0x2e7fe2(0x4c1)]+'\x20('+this[_0x2e7fe2(0x22c)][_0x2e7fe2(0x6a5)]+_0x2e7fe2(0x1fd)+_0x3dd152[_0x2e7fe2(0x4b3)]+'\x20mensagens\x20de\x20'+this[_0x2e7fe2(0x22c)][_0x2e7fe2(0x6a5)]+_0x2e7fe2(0x642)),await this[_0x2e7fe2(0xaa)][_0x2e7fe2(0x6c4)][_0x2e7fe2(0x53a)]([..._0x3dd152],this[_0x2e7fe2(0x22c)][_0x2e7fe2(0x6a5)])),this['sendDataWebhook'](_0x2e7fe2(0x61a),[..._0x3dd152]),_0x15bd21=void 0x0;},'messages.upsert':async({messages:_0x55a11c,type:_0x28492e},_0x1c5c08)=>{const _0x15ef36=_0x58bbf8;let _0x2f3311=_0x55a11c[0x0];if(_0x28492e!==_0x15ef36(0x5cc)||!_0x2f3311?.[_0x15ef36(0x6c4)]||_0x2f3311[_0x15ef36(0x6c4)]?.[_0x15ef36(0x421)]||_0x2f3311['message'][_0x15ef36(0x4cd)]||_0x2f3311['key']['remoteJid']===_0x15ef36(0x335))return;let _0x222a69=null,_0x4c15b6=null;try{_0x222a69=await this['processPollUpdateMessage'](_0x2f3311),_0x4c15b6=_0x222a69?_0x222a69['join'](','):null;}catch(_0x4b5cdd){this[_0x15ef36(0x13f)][_0x15ef36(0x605)](this['instanceName']+'\x20('+this['instance'][_0x15ef36(0x6a5)]+_0x15ef36(0x1fd)+(_0x4b5cdd instanceof Error?_0x4b5cdd[_0x15ef36(0x6c4)]:JSON[_0x15ef36(0x3c5)](_0x4b5cdd,null,0x2))),_0x4c15b6=_0x15ef36(0xbe);}if(this['client'][_0x15ef36(0x1e8)](_0x15ef36(0xe6)),Es[_0x15ef36(0x106)][_0x15ef36(0x1d0)](_0x2f3311['messageTimestamp'])&&(_0x2f3311['messageTimestamp']=_0x2f3311[_0x15ef36(0x3b8)]?.[_0x15ef36(0x360)]()),this[_0x15ef36(0x10c)]?.['groups_ignore']&&_0x2f3311[_0x15ef36(0x644)][_0x15ef36(0x412)][_0x15ef36(0x6e8)]('@g.us')){this['logger'][_0x15ef36(0x605)](_0x15ef36(0x20e));return;}_0x2f3311['messageTimestamp']&&_0x2f3311['messageTimestamp']['toString']()['length']<0xd&&(_0x2f3311[_0x15ef36(0x3b8)]=_0x2f3311[_0x15ef36(0x3b8)]*0x3e8);let _0x446dcc=_0x2f3311[_0x15ef36(0x6c4)],{messageContent:_0x4aa0fe,message_normalized:_0x2ec6f0}=this[_0x15ef36(0x357)](_0x446dcc,$(_0x2f3311[_0x15ef36(0x6c4)]),_0x4c15b6),_0x3eb335={'_id':_0x2f3311[_0x15ef36(0x644)]['id'],'key':_0x2f3311[_0x15ef36(0x644)],'pushName':_0x2f3311[_0x15ef36(0x2a7)],'message':{..._0x2f3311[_0x15ef36(0x6c4)]},'messageType':$(_0x2f3311['message']),'message_normalized':{'key':_0x2f3311['key'],'pushName':_0x2f3311[_0x15ef36(0x2a7)],'messageTimestamp':_0x2f3311[_0x15ef36(0x3b8)],'source':(0x0,y[_0x15ef36(0x6c7)])(_0x2f3311[_0x15ef36(0x644)]['id']),..._0x2ec6f0},'messageTimestamp':_0x2f3311[_0x15ef36(0x3b8)],'owner':this[_0x15ef36(0x22c)][_0x15ef36(0x6a5)],'source':(0x0,y[_0x15ef36(0x6c7)])(_0x2f3311[_0x15ef36(0x644)]['id'])};_0x4aa0fe||(console[_0x15ef36(0x411)](_0x15ef36(0x6e1)),this['logger'][_0x15ef36(0x51f)](_0x3eb335)),this[_0x15ef36(0x13f)][_0x15ef36(0x51f)](this[_0x15ef36(0x4c1)]+'\x20('+this[_0x15ef36(0x22c)][_0x15ef36(0x6a5)]+_0x15ef36(0x2fc)+_0x3eb335['messageType']+_0x15ef36(0x4d2)+_0x3eb335[_0x15ef36(0x644)]?.['fromMe']+'\x20['+_0x3eb335[_0x15ef36(0x644)]?.['remoteJid']['replace'](_0x15ef36(0x6ca),'')+']:'),_0x3eb335[_0x15ef36(0x4e6)]?.[_0x15ef36(0x546)]&&this[_0x15ef36(0x13f)][_0x15ef36(0x51f)](_0x3eb335[_0x15ef36(0x4e6)]?.[_0x15ef36(0x546)]),await this[_0x15ef36(0xaa)][_0x15ef36(0x6c4)][_0x15ef36(0x53a)]([_0x3eb335],this[_0x15ef36(0x22c)][_0x15ef36(0x6a5)]),this['sendDataWebhook'](_0x15ef36(0x2df),_0x3eb335),J(this[_0x15ef36(0x4c1)],'messages',{'message':_0x3eb335}),_0x2f3311[_0x15ef36(0x644)][_0x15ef36(0x412)]!==_0x15ef36(0x335)&&await this[_0x15ef36(0x511)](_0x1c5c08,_0x3eb335,'MESSAGES_UPSERT');},'messages.update':async(_0x1aeeb4,_0x4ce26d)=>{const _0x491db5=_0x58bbf8;let _0x37322a={0x0:'ERROR',0x1:'PENDING',0x2:_0x491db5(0x669),0x3:_0x491db5(0x266),0x4:_0x491db5(0xdb),0x5:'PLAYED'};for await(let {key:_0x5b3fd5,update:_0x3b74e6}of _0x1aeeb4){if(this[_0x491db5(0x10c)]?.[_0x491db5(0x36c)]&&_0x5b3fd5['remoteJid'][_0x491db5(0x6e8)](_0x491db5(0x185))){this['logger'][_0x491db5(0x605)](_0x491db5(0x20e));return;}if(_0x5b3fd5[_0x491db5(0x412)]!==_0x491db5(0x335)){let _0x3dbf1e=Date[_0x491db5(0x299)](),_0x342ec4;_0x3b74e6[_0x491db5(0x6c4)]===null&&_0x3b74e6['status']===void 0x0?_0x342ec4=_0x491db5(0x241):_0x342ec4=_0x37322a[_0x3b74e6[_0x491db5(0x62d)]];let _0x3203aa=_0x5b3fd5[_0x491db5(0x412)][_0x491db5(0x3d6)](/:\d{1,2}@/g,'@'),_0x385010={..._0x5b3fd5,'remoteJid':_0x3203aa,'status':_0x342ec4,'datetime':_0x3dbf1e,'owner':this[_0x491db5(0x22c)][_0x491db5(0x6a5)]};this['sendDataWebhook']('messages.update',_0x385010),await this[_0x491db5(0x3af)](_0x5b3fd5,_0x385010);}}},'labels.association':async({type:_0x5e3e2a,association:_0x2e1ec9})=>{const _0x205db8=_0x58bbf8;if(_0x2e1ec9[_0x205db8(0x255)]===_0x205db8(0x6dc)){let _0xa908c2,_0x4531ae=0x0;for(;!_0xa908c2&&_0x4531ae<this[_0x205db8(0x302)];)_0xa908c2=await this[_0x205db8(0xaa)]['chat'][_0x205db8(0x639)]({'where':{'_id':_0x2e1ec9[_0x205db8(0x28a)]}},this['instance'][_0x205db8(0x6a5)]),_0xa908c2||(_0x4531ae++,console[_0x205db8(0x51f)](_0x205db8(0x2b8)+_0x2e1ec9[_0x205db8(0x28a)]+_0x205db8(0x27d)+this[_0x205db8(0x571)]+'ms\x20(Attempt\x20'+_0x4531ae+'/'+this[_0x205db8(0x302)]+')'),await this[_0x205db8(0xcb)](this[_0x205db8(0x571)]));if(!_0xa908c2){console[_0x205db8(0x411)]('Failed\x20to\x20find\x20chat\x20'+_0x2e1ec9['chatId']+_0x205db8(0x282)+this[_0x205db8(0x302)]+'\x20attempts.');return;}switch(_0x5e3e2a){case _0x205db8(0x62a):console[_0x205db8(0x51f)](_0x2e1ec9),await this[_0x205db8(0xaa)][_0x205db8(0x147)]['updateOne']({'where':{'_id':_0x2e1ec9[_0x205db8(0x28a)]}},{'leadInfo.etiquetas':_0x2e1ec9['labelId']},this[_0x205db8(0x22c)][_0x205db8(0x6a5)],void 0x0,_0x205db8(0x397));break;case _0x205db8(0x567):console[_0x205db8(0x51f)](_0x2e1ec9),await this['repository']['chat'][_0x205db8(0x290)]({'where':{'_id':_0x2e1ec9[_0x205db8(0x28a)]}},{'leadInfo.etiquetas':_0x2e1ec9['labelId']},this['instance'][_0x205db8(0x6a5)],void 0x0,_0x205db8(0x1f2));break;default:console['error'](_0x205db8(0x23f)+_0x5e3e2a+']');}}},'labels.edit':async _0xfb05b1=>{const _0x39db98=_0x58bbf8;if(!_0xfb05b1||!_0xfb05b1['id']){console[_0x39db98(0x411)](_0x39db98(0x89));return;}if(!_0xfb05b1[_0x39db98(0x306)]){let _0x3c1358=[_0x39db98(0x197),'#64c4ff','#fed428','#dfaef0',_0x39db98(0x6e2),_0x39db98(0x2cc),_0x39db98(0x2f2),_0x39db98(0x1b7),_0x39db98(0x4ff),'#d8e651',_0x39db98(0x2e8),'#ffc5c7',_0x39db98(0x252),_0x39db98(0x5e5),_0x39db98(0x22a),_0x39db98(0xe8),_0x39db98(0x1ee),_0x39db98(0x19e),_0x39db98(0x556),_0x39db98(0x6ad)],_0x5a5dff;typeof _0xfb05b1[_0x39db98(0x449)]==_0x39db98(0x3c3)&&_0xfb05b1[_0x39db98(0x449)]>=0x0&&_0xfb05b1[_0x39db98(0x449)]<_0x3c1358[_0x39db98(0x4b3)]?_0x5a5dff=_0x3c1358[_0xfb05b1['color']]:(console[_0x39db98(0x411)](_0x39db98(0x57d),_0xfb05b1['color']),_0x5a5dff='#000000');let _0x2e0899={'_id':_0xfb05b1['id'],'colorHex':_0x5a5dff,'color':_0xfb05b1?.[_0x39db98(0x449)],'name':_0xfb05b1?.['name'],'owner':this[_0x39db98(0x22c)][_0x39db98(0x6a5)]};await this['repository'][_0x39db98(0x3e9)]['updateOne']({'where':{'_id':_0xfb05b1['id']}},_0x2e0899,this[_0x39db98(0x22c)][_0x39db98(0x6a5)]),console['log'](_0x39db98(0x2d0),_0xfb05b1);}_0xfb05b1['deleted']&&(await this['repository']['label']['delete']({'where':{'_id':_0xfb05b1['id']}},this['instance'][_0x39db98(0x6a5)]),console[_0x39db98(0x51f)](_0x39db98(0x2b9),_0xfb05b1['id']));}},this[_0x58bbf8(0x3d9)]={'groups.upsert':_0x16d54a=>{const _0x198f35=_0x58bbf8;this['sendDataWebhook'](_0x198f35(0xb3),_0x16d54a);},'groups.update':_0x2f61df=>{const _0x1664a5=_0x58bbf8;this[_0x1664a5(0x544)]('groups.update',_0x2f61df);},'group-participants.update':_0x364dec=>{const _0x43824d=_0x58bbf8;this[_0x43824d(0x544)]('group-participants.update',_0x364dec);}},this[_0x58bbf8(0x302)]=0x5,this[_0x58bbf8(0x571)]=0x1388,this[_0x58bbf8(0x454)]=async _0xecf68a=>{const _0x2a3874=_0x58bbf8;if(_0xecf68a['message']?.['pollUpdateMessage']){let _0x3790fe=await this[_0x2a3874(0x3a3)](_0xecf68a[_0x2a3874(0x6c4)][_0x2a3874(0x53e)][_0x2a3874(0x26d)],!0x0);if(_0x3790fe){let _0x562278=_0x3790fe[_0x2a3874(0x644)][_0x2a3874(0xb6)]?this[_0x2a3874(0x22c)][_0x2a3874(0x6a5)]+_0x2a3874(0x6ca):_0x3790fe[_0x2a3874(0x644)][_0x2a3874(0xbf)]||_0x3790fe['key']['remoteJid'],_0x2eaa05=_0x3790fe[_0x2a3874(0x644)]['id'],_0x56d2ac=_0x3790fe[_0x2a3874(0x6c4)],_0x12ac4f=Buffer[_0x2a3874(0x616)](_0x56d2ac[_0x2a3874(0x597)][_0x2a3874(0x5bb)][_0x2a3874(0x12d)](_0x2a3874(0x4c0)),_0x2a3874(0x4c0)),_0x4c128a=(0x0,y[_0x2a3874(0x359)])(_0xecf68a[_0x2a3874(0x6c4)][_0x2a3874(0x53e)][_0x2a3874(0x5bd)],{'pollCreatorJid':_0x562278,'pollMsgId':_0x2eaa05,'pollEncKey':_0x12ac4f,'voterJid':_0xecf68a[_0x2a3874(0x644)][_0x2a3874(0xb6)]?this[_0x2a3874(0x22c)][_0x2a3874(0x6a5)]+'@s.whatsapp.net':_0xecf68a[_0x2a3874(0x644)]['remoteJid'][_0x2a3874(0x28b)](_0x2a3874(0x621))?_0xecf68a[_0x2a3874(0x644)][_0x2a3874(0xbf)]:_0xecf68a['key'][_0x2a3874(0x412)]}),_0x593411=[],_0x5d8877=_0x4c128a[_0x2a3874(0x4dc)][_0x2a3874(0x2bf)](_0x40d0bc=>Buffer[_0x2a3874(0x616)](_0x40d0bc)['toString'](_0x2a3874(0x4c0)));for(let {optionName:_0x1aecd3}of _0x56d2ac[_0x2a3874(0x25f)]?.['options']||_0x56d2ac[_0x2a3874(0x2c1)]?.[_0x2a3874(0x14a)]||_0x56d2ac[_0x2a3874(0x2aa)]?.[_0x2a3874(0x14a)])_0x5d8877[_0x2a3874(0x348)]((0x0,y[_0x2a3874(0x14b)])(Buffer[_0x2a3874(0x616)](_0x1aecd3))['toString']('hex'))>-0x1&&_0x593411[_0x2a3874(0x435)](_0x1aecd3);return _0x593411;}}return null;},this[_0x58bbf8(0x357)]=(_0x57e6ca,_0x47a872,_0x382333)=>{const _0x21db80=_0x58bbf8;try{let _0x314359=_0x47a872?_0x57e6ca[_0x47a872]:void 0x0,_0x14af53={},_0x26b56f=null,_0x3df798=null,_0x305f36=null;if(_0x57e6ca['viewOnceMessageV2']?(_0x47a872=$(_0x57e6ca[_0x21db80(0x144)]['message']),_0x314359=_0x57e6ca[_0x21db80(0x144)][_0x21db80(0x6c4)][_0x47a872]):_0x57e6ca[_0x21db80(0x9d)]?(_0x47a872=$(_0x57e6ca[_0x21db80(0x9d)][_0x21db80(0x6c4)]),_0x314359=_0x57e6ca[_0x21db80(0x9d)]['message'][_0x47a872]):_0x57e6ca['viewOnceMessage']?(_0x47a872=$(_0x57e6ca[_0x21db80(0x5ad)][_0x21db80(0x6c4)]),_0x314359=_0x57e6ca[_0x21db80(0x5ad)][_0x21db80(0x6c4)][_0x47a872]):_0x57e6ca[_0x21db80(0x527)]?(_0x47a872=$(_0x57e6ca['message'][_0x21db80(0x527)][_0x21db80(0x6c4)]),_0x314359=_0x57e6ca[_0x21db80(0x6c4)][_0x21db80(0x527)]['message'][_0x47a872]):_0x57e6ca[_0x21db80(0x342)]?.[_0x21db80(0x6c4)]?.[_0x21db80(0x421)]?.[_0x21db80(0x342)]?(_0x47a872=$(_0x57e6ca['editedMessage'][_0x21db80(0x6c4)][_0x21db80(0x421)]['editedMessage']),_0x26b56f=_0x57e6ca[_0x21db80(0x342)][_0x21db80(0x6c4)][_0x21db80(0x421)][_0x21db80(0x644)]['id'],_0x314359=_0x57e6ca[_0x21db80(0x342)][_0x21db80(0x6c4)]['protocolMessage'][_0x21db80(0x342)][_0x47a872]):_0x314359=_0x57e6ca[_0x47a872],!_0x47a872||!_0x314359)return console[_0x21db80(0x411)](_0x21db80(0x26c),_0x57e6ca),{'messageType':_0x47a872,'messageContent':_0x314359,'message_normalized':{}};_0x57e6ca[_0x47a872]?.[_0x21db80(0x1c2)]?.[_0x21db80(0x1f4)]&&_0x57e6ca[_0x47a872]?.[_0x21db80(0x1c2)]?.['quotedMessage']&&(_0x3df798=_0x57e6ca[_0x47a872][_0x21db80(0x1c2)][_0x21db80(0x1f4)]),_0x57e6ca[_0x21db80(0x4aa)]&&(_0x305f36=_0x57e6ca[_0x21db80(0x4aa)][_0x21db80(0x644)]['id']);let _0x22780e;if(_0x314359&&typeof _0x314359==_0x21db80(0x4f2)&&_0x21db80(0x26d)in _0x314359&&({pollCreationMessageKey:_0x22780e}=_0x314359),_0x47a872===_0x21db80(0xa1)){let _0x37f2a3=_0x314359?.[_0x21db80(0x6c4)]?.[_0x21db80(0x1dc)];_0x37f2a3&&(_0x314359=_0x37f2a3);}if(_0x47a872===_0x21db80(0x25f)||_0x47a872===_0x21db80(0x2aa)||_0x47a872===_0x21db80(0x2c1)){let _0x4ac357=_0x314359[_0x21db80(0x14a)][_0x21db80(0x2bf)](_0x217c43=>_0x217c43[_0x21db80(0x3fa)])[_0x21db80(0x592)]('|');_0x14af53['convertedOptions']=_0x4ac357;}let _0xcf7806=_0x314359['name']||_0x314359[_0x21db80(0x6d8)]||_0x314359['conversation']||_0x314359['displayName'];if(_0x47a872===_0x21db80(0x626)){_0xcf7806=(_0x314359[_0x21db80(0x64c)]||'')+'\x0a'+(_0x314359[_0x21db80(0x328)]||'')+'\x0a'+(_0x314359[_0x21db80(0x331)]||'');let _0x3c3afa=this[_0x21db80(0x48a)](_0x314359['sections']);_0x14af53[_0x21db80(0x213)]=_0x3c3afa;}if(_0x47a872===_0x21db80(0x517)&&(_0x382333=_0x314359[_0x21db80(0x64c)]),_0x314359[_0x21db80(0x3e4)]){let _0x36b11e=this[_0x21db80(0x47e)](JSON[_0x21db80(0x3c5)](_0x314359[_0x21db80(0x3e4)],null,0x2));_0xcf7806=_0xcf7806+'\x0a'+_0x36b11e;}if(_0x314359){let {sections:_0x48a79a,listType:_0x9657a3,displayName:_0x176e27,vcard:_0xdb1d56,contactVcard:_0x32aeeb,name:_0x56c9ba,caption:_0x582931,conversation:_0x4451f6,pollCreationMessageKey:_0x2683a4,footerText:_0x398d8d,contentText:_0x60d9b2,pageCount:_0xc7a5db,headerType:_0x1f2141,isAvatar:_0x5f61b0,isAnimated:_0x427535,fallbackLc:_0x2d0694,fallbackLg:_0x96ff1a,namespace:_0x2e747f,elementName:_0x14b5c2,localizableParams:_0x10018b,viewOnce:_0x503927,height:_0x520400,width:_0x2399a2,key:_0x4d97b4,firstScanLength:_0x53b273,firstScanSidecar:_0x23ad1c,gifPlayback:_0x1920af,gifAttribution:_0x243b66,midQualityFileSha256:_0x224bdd,scansSidecar:_0x3e7704,streamingSidecar:_0x32569a,thumbnailHeight:_0x4e77fa,thumbnailWidth:_0x2f4f84,thumbnailEncSha256:_0x5328ef,thumbnailDirectPath:_0x1d0489,canonicalUrl:_0x28b430,matchedText:_0x6bbdb8,previewType:_0x394840,thumbnailSha256:_0x4929f4,deviceListMetadataVersion:_0x434777,inviteLinkGroupTypeV2:_0x21e4f4,interactiveAnnotations:_0x79583,scanLengths:_0x3e632f,jpegThumbnail:_0x23bc4b,url:_0xc01b,mediaKeyTimestamp:_0x48790a,waveform:_0x1944c3,stickerSentTs:_0x5b35a8,firstFrameLength:_0x1fb075,fileEncSha256:_0x1ad100,contextInfo:_0x3e5638,firstFrameSidecar:_0x6829a2,directPath:_0x8c0b06,fileSha256:_0x3a0902,mediaKey:_0x34c519,senderTimestampMs:_0x4240a1,..._0x34368c}=_0x314359;(_0x47a872===_0x21db80(0x626)||_0x47a872===_0x21db80(0x517))&&(delete _0x34368c[_0x21db80(0x64c)],delete _0x34368c[_0x21db80(0x328)]),typeof _0x314359==_0x21db80(0x53f)?_0x14af53={'text':_0x314359,'type':_0x47a872||_0x21db80(0x310),..._0x26b56f&&{'edited':_0x26b56f},..._0x3df798&&{'quoted':_0x3df798},..._0x305f36&&{'reaction':_0x305f36}}:_0x14af53={'text':_0xcf7806,..._0x34368c,..._0x47a872===_0x21db80(0x53e)?{'poll_id':_0x314359[_0x21db80(0x26d)]['id'],'quoted':_0x314359['pollCreationMessageKey']['id'],'vote':_0x382333}:{},..._0x47a872===_0x21db80(0x517)?{'vote':_0x382333}:{},'type':_0x47a872,..._0x26b56f&&{'edited':_0x26b56f},..._0x3df798&&{'quoted':_0x3df798},..._0x305f36&&{'reaction':_0x305f36},...(_0x47a872===_0x21db80(0x25f)||_0x47a872===_0x21db80(0x2aa)||_0x47a872===_0x21db80(0x2c1)||_0x47a872===_0x21db80(0x626))&&{'convertedOptions':_0x14af53['convertedOptions']}};}return{'messageType':_0x47a872,'messageContent':_0x314359,'message_normalized':_0x14af53};}catch(_0x3b1735){return console[_0x21db80(0x411)]('Erro\x20ao\x20normalizar\x20a\x20mensagem:',_0x3b1735),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this['processingScheduleMessageId']=null,this[_0x58bbf8(0x5c4)]=0x0,this['timerId']=null,(this[_0x58bbf8(0x150)](),this['instance'][_0x58bbf8(0x20a)]={'count':0x0});}set[a0_0x22d3e1(0x4c1)](_0x46a18f){const _0x1379df=a0_0x22d3e1;if(!_0x46a18f){this[_0x1379df(0x22c)][_0x1379df(0xa8)]=(0x0,yo['v4'])();return;}this[_0x1379df(0x22c)][_0x1379df(0xa8)]=_0x46a18f,this[_0x1379df(0x544)](_0x1379df(0x323),{'instance':this['instance'][_0x1379df(0xa8)],'status':_0x1379df(0x35a)});}get[a0_0x22d3e1(0x4c1)](){const _0xb848bc=a0_0x22d3e1;return this['instance'][_0xb848bc(0xa8)];}get['wuid'](){return this['instance']['wuid'];}async[a0_0x22d3e1(0x3de)](){const _0x52bffa=a0_0x22d3e1;let _0x2f5762=this[_0x52bffa(0x49f)][_0x52bffa(0x50b)]?.['name']??this['client'][_0x52bffa(0x50b)]?.[_0x52bffa(0x649)];if(!_0x2f5762){if(this[_0x52bffa(0x6cb)][_0x52bffa(0x1e3)](_0x52bffa(0x1be))[_0x52bffa(0x34a)]){let _0x3288a9=await N[_0x52bffa(0x391)]()['db'](this[_0x52bffa(0x6cb)][_0x52bffa(0x1e3)](_0x52bffa(0x1be))[_0x52bffa(0x88)]['DB_PREFIX_NAME']+_0x52bffa(0x19b))[_0x52bffa(0x5e9)](this['instanceName'])[_0x52bffa(0x639)]({'_id':_0x52bffa(0x568)});if(_0x3288a9){let _0x376884=JSON[_0x52bffa(0x44f)](JSON['stringify'](_0x3288a9),y[_0x52bffa(0x18d)][_0x52bffa(0x2fd)]);_0x2f5762=_0x376884['me']?.['name']||_0x376884['me']?.[_0x52bffa(0x649)];}}else{if((0x0,ve[_0x52bffa(0x1c8)])((0x0,F[_0x52bffa(0x592)])(ge,this[_0x52bffa(0x4c1)],_0x52bffa(0x586)))){let _0x1323f3=JSON[_0x52bffa(0x44f)]((0x0,ve['readFileSync'])((0x0,F[_0x52bffa(0x592)])(ge,this[_0x52bffa(0x4c1)],'creds.json'),{'encoding':_0x52bffa(0x6b8)}));_0x2f5762=_0x1323f3['me']?.[_0x52bffa(0xa8)]||_0x1323f3['me']?.[_0x52bffa(0x649)];}}}return _0x2f5762;}get[a0_0x22d3e1(0x591)](){const _0x375adc=a0_0x22d3e1;return this['instance'][_0x375adc(0x591)];}get['qrCode'](){const _0x51a97d=a0_0x22d3e1;return{'pairingCode':this[_0x51a97d(0x22c)][_0x51a97d(0x20a)]?.['pairingCode'],'code':this[_0x51a97d(0x22c)]['qrcode']?.[_0x51a97d(0x3b2)],'base64':this[_0x51a97d(0x22c)][_0x51a97d(0x20a)]?.[_0x51a97d(0x113)]};}async[a0_0x22d3e1(0x2cb)](){const _0x216f50=a0_0x22d3e1;let _0x2dbe32=await this[_0x216f50(0xaa)][_0x216f50(0x677)][_0x216f50(0x39d)](this[_0x216f50(0x4c1)]);this[_0x216f50(0x10c)][_0x216f50(0x3dd)]=_0x2dbe32?.['url'],this[_0x216f50(0x10c)]['enabled']=_0x2dbe32?.[_0x216f50(0x5d7)],this[_0x216f50(0x10c)][_0x216f50(0x2a9)]=_0x2dbe32?.[_0x216f50(0x2a9)],this[_0x216f50(0x10c)][_0x216f50(0xd3)]=_0x2dbe32?.[_0x216f50(0xd3)],this[_0x216f50(0x10c)]['QRCODE_UPDATED']=_0x2dbe32?.[_0x216f50(0x4b6)],this[_0x216f50(0x10c)][_0x216f50(0x13e)]=_0x2dbe32?.[_0x216f50(0x13e)],this['localWebhook'][_0x216f50(0x66b)]=_0x2dbe32?.[_0x216f50(0x66b)],this[_0x216f50(0x10c)][_0x216f50(0x50e)]=_0x2dbe32?.[_0x216f50(0x50e)],this[_0x216f50(0x10c)][_0x216f50(0x3d1)]=_0x2dbe32?.['GROUPS_UPSERT'],this[_0x216f50(0x10c)]['GROUPS_UPDATE']=_0x2dbe32?.[_0x216f50(0x552)],this[_0x216f50(0x10c)][_0x216f50(0x34f)]=_0x2dbe32?.[_0x216f50(0x34f)],this['localWebhook'][_0x216f50(0x180)]=_0x2dbe32?.[_0x216f50(0x180)],this[_0x216f50(0x10c)][_0x216f50(0x1b5)]=_0x2dbe32?.[_0x216f50(0x1b5)],this[_0x216f50(0x10c)][_0x216f50(0x6ea)]=_0x2dbe32?.[_0x216f50(0x6ea)],this[_0x216f50(0x10c)][_0x216f50(0x388)]=_0x2dbe32?.[_0x216f50(0x388)],this[_0x216f50(0x10c)][_0x216f50(0x478)]=_0x2dbe32?.[_0x216f50(0x478)],this['localWebhook'][_0x216f50(0x1c0)]=_0x2dbe32?.[_0x216f50(0x1c0)],this[_0x216f50(0x10c)]['CONTACTS_UPDATE']=_0x2dbe32?.['CONTACTS_UPDATE'],this[_0x216f50(0x10c)][_0x216f50(0x191)]=_0x2dbe32?.['PRESENCE_UPDATE'],this[_0x216f50(0x10c)][_0x216f50(0x3b7)]=_0x2dbe32?.[_0x216f50(0x3b7)],this[_0x216f50(0x10c)][_0x216f50(0x286)]=_0x2dbe32?.['CONNECTION_UPDATE'],this[_0x216f50(0x10c)][_0x216f50(0x36c)]=_0x2dbe32?.[_0x216f50(0x36c)];}async['setWebhook'](_0x2bbbd8){const _0x25ea7f=a0_0x22d3e1;let _0x43a2c5=['_id','url',_0x25ea7f(0x5d7),_0x25ea7f(0x2a9),_0x25ea7f(0xd3),'QRCODE_UPDATED',_0x25ea7f(0x50e),_0x25ea7f(0x66b),_0x25ea7f(0x13e),'GROUPS_UPSERT','GROUPS_UPDATE',_0x25ea7f(0x34f),_0x25ea7f(0x180),_0x25ea7f(0x1b5),_0x25ea7f(0x6ea),_0x25ea7f(0x388),_0x25ea7f(0x478),_0x25ea7f(0x1c0),_0x25ea7f(0x2f7),_0x25ea7f(0x191),_0x25ea7f(0x3b7),'CONNECTION_UPDATE',_0x25ea7f(0x36c)],_0x19a8ac={};return _0x43a2c5[_0x25ea7f(0x2ee)](_0x1efe7b=>{_0x2bbbd8[_0x1efe7b]!==void 0x0&&(_0x19a8ac[_0x1efe7b]=_0x2bbbd8[_0x1efe7b]);}),await this[_0x25ea7f(0xaa)]['webhook'][_0x25ea7f(0x2ec)](_0x19a8ac,this[_0x25ea7f(0x4c1)]),Object['assign'](this['localWebhook'],_0x19a8ac),await this['repository'][_0x25ea7f(0x677)]['find'](this[_0x25ea7f(0x4c1)]);}async['findWebhook'](){const _0x565da6=a0_0x22d3e1;return await this[_0x565da6(0xaa)][_0x565da6(0x677)][_0x565da6(0x39d)](this[_0x565da6(0x4c1)]);}async['sendDataWebhook'](_0x2062f0,_0x4742c1){const _0x55c41e=a0_0x22d3e1;let _0x106b27=_0x2062f0['replace'](/[\.-]/gm,'_')[_0x55c41e(0x6e3)](),_0x1e8386=this[_0x55c41e(0x10c)][_0x55c41e(0x5d7)]&&(0x0,k[_0x55c41e(0x316)])(this['localWebhook']['url'])?this[_0x55c41e(0x10c)][_0x55c41e(0x3dd)]+(this[_0x55c41e(0x10c)][_0x55c41e(0x2a9)]?this[_0x55c41e(0x691)][_0x2062f0]:''):null,_0x6ad2a8=this[_0x55c41e(0x10c)][_0x106b27],_0xc4e03c=re&&re['enabled']&&(0x0,k[_0x55c41e(0x316)])(re[_0x55c41e(0x3dd)])?re[_0x55c41e(0x3dd)]+(re[_0x55c41e(0x2a9)]?this[_0x55c41e(0x691)][_0x2062f0]:''):null,_0xf684d5=re?re[_0x106b27]:null;if(_0x6ad2a8&&_0x1e8386)try{await se[_0x55c41e(0x106)][_0x55c41e(0x2ec)]({'baseURL':_0x1e8386})[_0x55c41e(0x1f8)]('',{'event':_0x2062f0,'instance':this['instance'][_0x55c41e(0xa8)],'data':_0x4742c1}),this[_0x55c41e(0x13f)][_0x55c41e(0x51f)](this[_0x55c41e(0x4c1)]+'\x20('+this[_0x55c41e(0x22c)][_0x55c41e(0x6a5)]+_0x55c41e(0x9b)+_0x2062f0+':\x20'+_0x1e8386);}catch{this['logger'][_0x55c41e(0x411)](this[_0x55c41e(0x4c1)]+'\x20('+this[_0x55c41e(0x22c)][_0x55c41e(0x6a5)]+_0x55c41e(0x29f)+_0x2062f0+':\x20'+_0x1e8386);}if(_0xf684d5&&_0xc4e03c)try{await se['default']['create']({'baseURL':_0xc4e03c})[_0x55c41e(0x1f8)]('',{'event':_0x2062f0,'instance':this[_0x55c41e(0x22c)]['name'],'data':_0x4742c1}),this[_0x55c41e(0x13f)]['log'](this[_0x55c41e(0x4c1)]+'\x20('+this[_0x55c41e(0x22c)][_0x55c41e(0x6a5)]+_0x55c41e(0x2b6)+_0x2062f0+':\x20'+_0xc4e03c);}catch{this[_0x55c41e(0x13f)][_0x55c41e(0x411)](this[_0x55c41e(0x4c1)]+'\x20('+this[_0x55c41e(0x22c)][_0x55c41e(0x6a5)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x2062f0+':\x20'+_0xc4e03c);}}async[a0_0x22d3e1(0x372)]({qr:_0x3e6894,connection:_0x446d2d,lastDisconnect:_0x3290a3}){const _0xe75782=a0_0x22d3e1;if(_0x3e6894){if(this[_0xe75782(0x22c)][_0xe75782(0x20a)][_0xe75782(0x35b)]===gr)return this[_0xe75782(0x544)](_0xe75782(0x3a5),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':y['DisconnectReason'][_0xe75782(0x50c)]}),this['stateConnection']={'state':_0xe75782(0x40a),'statusReason':y[_0xe75782(0x1b1)][_0xe75782(0x1cb)]},this[_0xe75782(0x544)]('connection.update',{'instance':this[_0xe75782(0x22c)][_0xe75782(0xa8)],...this[_0xe75782(0x62f)]}),this[_0xe75782(0x544)](_0xe75782(0x323),{'instance':this[_0xe75782(0x22c)][_0xe75782(0xa8)],'status':_0xe75782(0x393)}),this[_0xe75782(0xaa)][_0xe75782(0x1ca)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0xe75782(0x22c)][_0xe75782(0xa8)]),this[_0xe75782(0x1ed)]=!0x0,this[_0xe75782(0xdc)][_0xe75782(0x583)](_0xe75782(0x6d9),this[_0xe75782(0x22c)][_0xe75782(0xa8)]);this[_0xe75782(0x22c)]['qrcode'][_0xe75782(0x35b)]++;let _0x2dc4e0={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0xe75782(0x58f),'dark':_0xe75782(0x1cc)}};bo[_0xe75782(0x106)][_0xe75782(0x2e3)](_0x3e6894,_0x2dc4e0,(_0x3dd370,_0x1d1a55)=>{const _0x536068=_0xe75782;if(_0x3dd370){this[_0x536068(0x13f)][_0x536068(0x411)](this['instanceName']+'\x20('+this[_0x536068(0x22c)][_0x536068(0x6a5)]+_0x536068(0x1f0)+(_0x3dd370 instanceof Error?_0x3dd370[_0x536068(0x6c4)]:JSON[_0x536068(0x3c5)](_0x3dd370,null,0x2)));return;}this[_0x536068(0x22c)]['qrcode'][_0x536068(0x113)]=_0x1d1a55,this[_0x536068(0x22c)][_0x536068(0x20a)][_0x536068(0x3b2)]=_0x3e6894,this[_0x536068(0x544)](_0x536068(0x3a5),{'qrcode':{'instance':this['instance'][_0x536068(0xa8)],'pairingCode':this['instance']['qrcode']['pairingCode'],'code':_0x3e6894,'base64':_0x1d1a55}});}),this[_0xe75782(0x2ff)]?this[_0xe75782(0x22c)][_0xe75782(0x20a)][_0xe75782(0x672)]=await this[_0xe75782(0x49f)][_0xe75782(0x11c)](this[_0xe75782(0x2ff)]):this['instance'][_0xe75782(0x20a)][_0xe75782(0x672)]=null,So['default'][_0xe75782(0x4b1)](_0x3e6894,{'small':!0x0},_0x1fa212=>this['logger'][_0xe75782(0x51f)]('\x0a{\x20instance:\x20'+this[_0xe75782(0x22c)]['name']+_0xe75782(0x414)+this[_0xe75782(0x22c)]['qrcode']['count']+_0xe75782(0x168)+this[_0xe75782(0x22c)][_0xe75782(0x20a)][_0xe75782(0x672)]+_0xe75782(0x3ce)+_0x1fa212));}if(_0x446d2d&&(this['stateConnection']={'state':_0x446d2d,'statusReason':_0x3290a3?.['error']?.[_0xe75782(0x387)]?.[_0xe75782(0x22d)]??0xc8},this[_0xe75782(0x544)](_0xe75782(0x4ad),{'instance':this[_0xe75782(0x22c)][_0xe75782(0xa8)],...this[_0xe75782(0x62f)]})),_0x446d2d===_0xe75782(0x119)){if(this[_0xe75782(0xac)]++,this[_0xe75782(0x417)]['push'](Date[_0xe75782(0x299)]()),this[_0xe75782(0x417)]=this[_0xe75782(0x417)][_0xe75782(0x560)](_0x925ce5=>Date[_0xe75782(0x299)]()-_0x925ce5<this['RECONNECT_TIME_FRAME']),_0x3290a3[_0xe75782(0x411)]?.[_0xe75782(0x387)]?.['statusCode']!==y[_0xe75782(0x1b1)][_0xe75782(0x42c)]&&this['reconnectTimestamps'][_0xe75782(0x4b3)]<=this[_0xe75782(0x4dd)])console[_0xe75782(0x51f)](this[_0xe75782(0x4c1)]+'\x20Tentativa\x20de\x20reconexão\x20'+this[_0xe75782(0xac)]+'/'+this[_0xe75782(0x4dd)]+_0xe75782(0x249)),console[_0xe75782(0x51f)](_0xe75782(0x549)),await this[_0xe75782(0x30a)]();else{this[_0xe75782(0x544)](_0xe75782(0x323),{'instance':this[_0xe75782(0x22c)][_0xe75782(0xa8)],'status':_0xe75782(0x393)}),this[_0xe75782(0x101)]=!0x1,this['repository'][_0xe75782(0x677)][_0xe75782(0x67b)](this[_0xe75782(0x4c1)]),this[_0xe75782(0xaa)]['auth']['create']({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this['instance'][_0xe75782(0xa8)]);try{this['logger']['verbose'](this['instanceName']+'\x20('+this[_0xe75782(0x22c)]['wuid']+_0xe75782(0x37f));let _0x493c51=await this[_0xe75782(0xaa)][_0xe75782(0x6c4)][_0xe75782(0x619)](this[_0xe75782(0x22c)][_0xe75782(0x6a5)]);_0x493c51[_0xe75782(0x210)]?this[_0xe75782(0x13f)][_0xe75782(0x605)](this[_0xe75782(0x4c1)]+'\x20('+this[_0xe75782(0x22c)][_0xe75782(0x6a5)]+_0xe75782(0x6ae)):console[_0xe75782(0x411)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:',_0x493c51[_0xe75782(0x411)]);}catch(_0x337219){console[_0xe75782(0x411)](_0xe75782(0x574),_0x337219);}this[_0xe75782(0x5df)]!==null&&(this[_0xe75782(0x13f)]['verbose'](this[_0xe75782(0x4c1)]+'\x20('+this['instance']['wuid']+_0xe75782(0x3c2)),clearInterval(this['delayMessage']),this['delayMessage']=null),this[_0xe75782(0x13f)][_0xe75782(0x605)](this['instanceName']+'\x20('+this['instance'][_0xe75782(0x6a5)]+'):\x20Limpando\x20AutomateSystem'),this[_0xe75782(0x41d)]=null,this[_0xe75782(0xdc)][_0xe75782(0x583)]('remove.instance',this[_0xe75782(0x22c)][_0xe75782(0xa8)],_0xe75782(0x381)),this[_0xe75782(0x49f)]?.['ws']?.[_0xe75782(0x119)](),this[_0xe75782(0x49f)][_0xe75782(0x5ac)](new Error(_0xe75782(0x69c)));}}if(_0x446d2d==='open'){this['resetReconnectionVariables'],this[_0xe75782(0x22c)][_0xe75782(0x6a5)]=this[_0xe75782(0x49f)]['user']['id']['replace'](/:\d+/,'')[_0xe75782(0x3d6)](_0xe75782(0x6ca),''),this['instance']['profilePictureUrl']=(await this['profilePicture'](this[_0xe75782(0x22c)][_0xe75782(0x6a5)]+_0xe75782(0x6ca)))[_0xe75782(0x591)],this[_0xe75782(0xaa)][_0xe75782(0x1ca)][_0xe75782(0x2ec)]({'online':!0x0,'owner':this[_0xe75782(0x22c)][_0xe75782(0x6a5)],'lastDisconnect':null},this[_0xe75782(0x22c)]['name']);let _0xd24374='Número:\x20'+this[_0xe75782(0x22c)][_0xe75782(0x6a5)],_0x1d73f0=0x28,_0x1c30da=Math[_0xe75782(0x695)]((_0x1d73f0-_0xd24374[_0xe75782(0x4b3)])/0x2),_0x3bcde5='\x20'[_0xe75782(0x491)](_0x1c30da),_0x1dccdd=_0xe75782(0x538),_0x157193=_0xe75782(0xbb)+this[_0xe75782(0x22c)][_0xe75782(0xa8)],_0x4f19e4=(''+_0x3bcde5+_0xd24374+_0x3bcde5)['padEnd'](_0x1d73f0,'\x20'),_0x2d7753=(''+_0x3bcde5+_0x1dccdd+_0x3bcde5)[_0xe75782(0x39c)](_0x1d73f0,'\x20'),_0x5d708a=(''+_0x3bcde5+_0x157193+_0x3bcde5)[_0xe75782(0x39c)](_0x1d73f0,'\x20'),_0x2537ff=Math[_0xe75782(0x26f)](_0x4f19e4[_0xe75782(0x4b3)],_0x2d7753[_0xe75782(0x4b3)],_0x5d708a['length']),_0x554873=_0x4f19e4[_0xe75782(0x39c)](_0x2537ff,'\x20'),_0x5ee4d9=_0x2d7753[_0xe75782(0x39c)](_0x2537ff,'\x20'),_0x3659ad=_0x5d708a[_0xe75782(0x39c)](_0x2537ff,'\x20');this['logger'][_0xe75782(0x116)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'['repeat'](_0x2537ff)+_0xe75782(0x21e)+_0x5ee4d9+_0xe75782(0x528)+_0x3659ad+_0xe75782(0x528)+_0x554873+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'[_0xe75782(0x491)](_0x2537ff)+'┘')[_0xe75782(0x3d6)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0xe75782(0x101)]=!0x0;}}[a0_0x22d3e1(0xa6)](){const _0x205458=a0_0x22d3e1;this[_0x205458(0xac)]=0x0,this[_0x205458(0x417)]=[];}async['getMessage'](_0x419753,_0x590120=!0x1){const _0x5f0512=a0_0x22d3e1;try{let _0x5a0af7=await this[_0x5f0512(0xaa)]['message'][_0x5f0512(0x39d)]({'where':{'_id':_0x419753['id']}},this[_0x5f0512(0x22c)][_0x5f0512(0x6a5)]);return _0x590120?_0x5a0af7[0x0]:_0x5a0af7[0x0][_0x5f0512(0x6c4)];}catch{return{'conversation':''};}}['cleanStore'](){const _0x3cbd2f=a0_0x22d3e1;let _0x53ccaa=this['configService']['get']('STORE'),_0x1dd1d1=this[_0x3cbd2f(0x6cb)]['get'](_0x3cbd2f(0x1be));_0x53ccaa?.['CLEANING_INTERVAL']&&!_0x1dd1d1[_0x3cbd2f(0x34a)]&&setInterval(()=>{const _0x4aeb68=_0x3cbd2f;try{for(let [_0x1c14d4,_0x51aaf5]of Object['entries'](_0x53ccaa))_0x51aaf5===!0x0&&(0x0,_t[_0x4aeb68(0xae)])(_0x4aeb68(0x380)+(0x0,F[_0x4aeb68(0x592)])(this['storePath'],_0x1c14d4[_0x4aeb68(0x490)](),this[_0x4aeb68(0x22c)][_0x4aeb68(0x6a5)])+_0x4aeb68(0x183));}catch{}},(_0x53ccaa?.[_0x3cbd2f(0x1e6)]??0xe10)*0x3e8);}async[a0_0x22d3e1(0x1dd)](){const _0x446993=a0_0x22d3e1;let _0x4731ee=this[_0x446993(0x6cb)][_0x446993(0x1e3)](_0x446993(0x1be)),_0x21a2e4=this[_0x446993(0x6cb)]['get'](_0x446993(0x6eb));return _0x21a2e4?.[_0x446993(0x34a)]?await bs(_0x21a2e4,this[_0x446993(0x22c)][_0x446993(0xa8)]):_0x4731ee['ENABLED']?await ys(this[_0x446993(0x22c)][_0x446993(0xa8)]):await(0x0,y[_0x446993(0x5bc)])((0x0,F['join'])(ge,this[_0x446993(0x22c)][_0x446993(0xa8)]));}async[a0_0x22d3e1(0x2d6)](){const _0x142bd5=a0_0x22d3e1;let _0x592095=()=>Math['floor'](Math['random']()*0x2711)+0x7d0,_0x48ef72=async()=>{const _0x534518=a0_0x2c76;if(!this['isConnected']){this[_0x534518(0x13f)]['verbose']('Desconectado,\x20parando\x20execução.'),this[_0x534518(0x6b4)]=!0x1;return;}if(this['instance']['wuid']&&this['AutomateSystem']&&this[_0x534518(0x5df)]!==null&&this[_0x534518(0x5df)]!==void 0x0){let _0x4d190e=Math[_0x534518(0x1ba)](this[_0x534518(0x5df)]/0xea60);this['logger'][_0x534518(0x605)](this[_0x534518(0x4c1)]+'\x20('+this[_0x534518(0x22c)][_0x534518(0x6a5)]+_0x534518(0x19f)+_0x4d190e+_0x534518(0x1ce)),this[_0x534518(0x6b4)]=!0x1;return;}else this['instance'][_0x534518(0x6a5)]&&(this[_0x534518(0x13f)][_0x534518(0x605)](this[_0x534518(0x4c1)]+'\x20('+this[_0x534518(0x22c)][_0x534518(0x6a5)]+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x534518(0x13f)]['verbose'](this[_0x534518(0x4c1)]+'\x20('+this[_0x534518(0x22c)][_0x534518(0x6a5)]+_0x534518(0x1fa)),this[_0x534518(0x41d)]||await this[_0x534518(0xc1)](),(this[_0x534518(0x5df)]===null||this['delayMessage']===void 0x0)&&await this[_0x534518(0x196)]());if(this[_0x534518(0x6b4)]){let _0x519c98=_0x592095();this['logger'][_0x534518(0x605)](this[_0x534518(0x4c1)]+_0x534518(0x2d7)+_0x519c98/0x3e8+_0x534518(0xe7)),setTimeout(_0x48ef72,_0x519c98);}};if(this[_0x142bd5(0x6b4)])return;this['isRunning']=!0x0;let _0x22f6f5=_0x592095();setTimeout(_0x48ef72,_0x22f6f5);}async[a0_0x22d3e1(0x51c)](_0x3c3604=0x0){const _0x26f0c7=a0_0x22d3e1;if(!(this[_0x26f0c7(0x6cb)][_0x26f0c7(0x1e3)]('PROXY')||!0x1)||_0x3c3604>=0x3)return this[_0x26f0c7(0x13f)][_0x26f0c7(0x2de)](_0x26f0c7(0x2f6)),this[_0x26f0c7(0xaa)]['auth'][_0x26f0c7(0x2ec)]({'ip':null},this[_0x26f0c7(0x22c)][_0x26f0c7(0xa8)]),{};console[_0x26f0c7(0x51f)](_0x26f0c7(0x50a)+(_0x3c3604+0x1)+_0x26f0c7(0x673));let _0x13a25f=(await this['repository']['auth'][_0x26f0c7(0x39d)](this[_0x26f0c7(0x4c1)]))['ip'],_0x244c3d=po(_0x13a25f);if(_0x244c3d||(console[_0x26f0c7(0x51f)](_0x26f0c7(0x273)),_0x244c3d=ho()),console[_0x26f0c7(0x51f)](_0x26f0c7(0x56b),_0x244c3d),_0x244c3d&&go(_0x244c3d)){let _0x1ec3e6=_0x244c3d[_0x26f0c7(0x1d3)]+_0x26f0c7(0x58d)+_0x244c3d[_0x26f0c7(0x620)]+':'+_0x244c3d[_0x26f0c7(0x2ca)]+'@'+_0x244c3d[_0x26f0c7(0x93)]+':'+_0x244c3d[_0x26f0c7(0x5e2)];return console[_0x26f0c7(0x51f)]('-----------------proxyUri---------------------'),console[_0x26f0c7(0x51f)](_0x1ec3e6),await this[_0x26f0c7(0x6d3)](_0x1ec3e6)?(console[_0x26f0c7(0x51f)](_0x26f0c7(0x298)),this['repository'][_0x26f0c7(0x1ca)][_0x26f0c7(0x2ec)]({'ip':_0x244c3d[_0x26f0c7(0x93)]},this[_0x26f0c7(0x22c)][_0x26f0c7(0xa8)]),{'agent':new Dt['HttpsProxyAgent'](_0x1ec3e6),'fetchAgent':new Dt[(_0x26f0c7(0x4ee))](_0x1ec3e6)}):(console[_0x26f0c7(0x51f)]('Proxy\x20falhou.\x20Tentando\x20o\x20próximo...'),this[_0x26f0c7(0x51c)](_0x3c3604+0x1));}else return console['log']('Configuração\x20do\x20Proxy\x20inválida.\x20Tentando\x20o\x20próximo...'),this['loadproxy'](_0x3c3604+0x1);}async['testProxy'](_0xdc0769){const _0x235b60=a0_0x22d3e1;let _0x72281e=new Dt[(_0x235b60(0x4ee))](_0xdc0769);try{let _0x1e0d01=await se[_0x235b60(0x106)][_0x235b60(0x1e3)](_0x235b60(0x1a2),{'httpsAgent':_0x72281e});return console['log'](_0x235b60(0x238),_0x1e0d01['data']),!0x0;}catch{return console[_0x235b60(0x411)](_0x235b60(0x2f4)),!0x1;}}async[a0_0x22d3e1(0x30a)](_0x3cfbfb){const _0x34b70a=a0_0x22d3e1;try{let _0x3c3b15=await this[_0x34b70a(0x51c)]();this[_0x34b70a(0x2cb)](),this[_0x34b70a(0x22c)]['authState']=await this['defineAuthState']();let {version:_0xfbcf47}=await(0x0,y[_0x34b70a(0x585)])(),_0x4fcfaf=[Ms,Eo,(0x0,Ss[_0x34b70a(0x32e)])()],_0x370d3c={..._0x3c3b15,'auth':{'creds':this[_0x34b70a(0x22c)][_0x34b70a(0x66d)][_0x34b70a(0x355)]['creds'],'keys':(0x0,y[_0x34b70a(0x175)])(this['instance'][_0x34b70a(0x66d)][_0x34b70a(0x355)][_0x34b70a(0x55f)],(0x0,Ot['default'])({'level':_0x34b70a(0x411)}))},'logger':(0x0,Ot[_0x34b70a(0x106)])({'level':_0x34b70a(0x411)}),'printQRInTerminal':!0x1,'browser':_0x3cfbfb?['Chrome\x20(Linux)',Ms,(0x0,Ss[_0x34b70a(0x32e)])()]:_0x4fcfaf,'version':_0xfbcf47,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x3e9bd6=>{const _0x29bf32=_0x34b70a;let _0x32c8e2=_0x3e9bd6[_0x29bf32(0x28b)](_0x29bf32(0x1fc)),_0x1f6e5a=_0x3e9bd6['endsWith'](_0x29bf32(0x6c2));return _0x32c8e2||_0x1f6e5a;},'msgRetryCounterCache':this[_0x34b70a(0x118)],'getMessage':async _0x537b43=>await this[_0x34b70a(0x3a3)](_0x537b43),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x270b75=>(_0x270b75[_0x34b70a(0x626)]?.[_0x34b70a(0x515)]==y['proto'][_0x34b70a(0x3f8)][_0x34b70a(0x287)]['ListType'][_0x34b70a(0x3ca)]&&(_0x270b75=JSON[_0x34b70a(0x44f)](JSON[_0x34b70a(0x3c5)](_0x270b75)),_0x270b75[_0x34b70a(0x626)][_0x34b70a(0x515)]=y['proto'][_0x34b70a(0x3f8)][_0x34b70a(0x287)][_0x34b70a(0x587)][_0x34b70a(0x2f1)]),_0x270b75)};return this['endSession']=!0x1,this[_0x34b70a(0x49f)]=(0x0,y[_0x34b70a(0x106)])(_0x370d3c),this[_0x34b70a(0x671)](),this['phoneNumber']=_0x3cfbfb,this[_0x34b70a(0x49f)];}catch(_0x59744f){throw this[_0x34b70a(0x13f)][_0x34b70a(0x411)](this['instanceName']+'\x20('+this['instance'][_0x34b70a(0x6a5)]+'):\x20'+(_0x59744f instanceof Error?_0x59744f[_0x34b70a(0x6c4)]:JSON[_0x34b70a(0x3c5)](_0x59744f,null,0x2))),new O(_0x59744f?.['toString']());}}[a0_0x22d3e1(0x671)](){const _0x194bbf=a0_0x22d3e1;this[_0x194bbf(0x49f)]['ev'][_0x194bbf(0x3ad)](_0x764e9=>{const _0x46992a=_0x194bbf;if(!this[_0x46992a(0x1ed)]){let _0x201a18=this[_0x46992a(0x6cb)][_0x46992a(0x1e3)](_0x46992a(0x1be));if(_0x764e9[_0x46992a(0x6a6)]){let _0x3de3bd=_0x764e9[_0x46992a(0x6a6)];this[_0x46992a(0x19c)][_0x46992a(0x6a6)](_0x3de3bd);}if(_0x764e9[_0x46992a(0x2ed)]){let _0x3e33ee=_0x764e9[_0x46992a(0x2ed)];this['messageHandle']['labels.association'](_0x3e33ee);}if(_0x764e9[_0x46992a(0x4ad)]&&this[_0x46992a(0x372)](_0x764e9[_0x46992a(0x4ad)]),_0x764e9[_0x46992a(0x35f)]&&this[_0x46992a(0x22c)][_0x46992a(0x66d)][_0x46992a(0x60a)](),_0x764e9[_0x46992a(0x577)]){let _0x1078d7=_0x764e9[_0x46992a(0x577)];this[_0x46992a(0x19c)]['messaging-history.set'](_0x1078d7,_0x201a18);}if(_0x764e9[_0x46992a(0x2df)]){let _0x4d1911=_0x764e9[_0x46992a(0x2df)];this[_0x46992a(0x19c)][_0x46992a(0x2df)](_0x4d1911,_0x201a18);}if(_0x764e9[_0x46992a(0xd1)]){let _0x4525d6=_0x764e9[_0x46992a(0xd1)];_0x4525d6[_0x46992a(0x2ee)](_0x2417d5=>{const _0x4bb139=_0x46992a;if(fo[_0x2417d5[_0x4bb139(0x644)]['id']]){this[_0x4bb139(0x49f)]['ev'][_0x4bb139(0x583)](_0x4bb139(0x2df),{'messages':[_0x2417d5],'type':'notify'}),delete fo[_0x2417d5[_0x4bb139(0x644)]['id']];return;}}),this[_0x46992a(0x19c)][_0x46992a(0xd1)](_0x4525d6,_0x201a18);}if(_0x764e9[_0x46992a(0x105)]){let _0x49d8dd=_0x764e9[_0x46992a(0x105)];if(this[_0x46992a(0x10c)]?.[_0x46992a(0x36c)]&&_0x49d8dd['id'][_0x46992a(0x6e8)]('@g.us'))return;this[_0x46992a(0x544)](_0x46992a(0x105),_0x49d8dd);}if(!this['localWebhook']?.[_0x46992a(0x36c)]){if(_0x764e9[_0x46992a(0xb3)]){let _0x5d475=_0x764e9['groups.upsert'];this[_0x46992a(0x3d9)][_0x46992a(0xb3)](_0x5d475);}if(_0x764e9[_0x46992a(0x1bb)]){let _0xd1e5d8=_0x764e9[_0x46992a(0x1bb)];this['groupHandler'][_0x46992a(0x1bb)](_0xd1e5d8);}if(_0x764e9[_0x46992a(0x5fd)]){let _0x3bb189=_0x764e9[_0x46992a(0x5fd)];this[_0x46992a(0x3d9)]['group-participants.update'](_0x3bb189);}}if(_0x764e9[_0x46992a(0x5dd)]){let _0x438b71=_0x764e9[_0x46992a(0x5dd)];this[_0x46992a(0x2e4)][_0x46992a(0x5dd)](_0x438b71,_0x201a18);}if(_0x764e9[_0x46992a(0x389)]){let _0x11133f=_0x764e9[_0x46992a(0x389)];this[_0x46992a(0x2e4)][_0x46992a(0x389)](_0x11133f,_0x201a18);}if(_0x764e9[_0x46992a(0x676)]){let _0x132e34=_0x764e9[_0x46992a(0x676)];this[_0x46992a(0x2e4)][_0x46992a(0x676)](_0x132e34);}if(_0x764e9[_0x46992a(0x28f)]){let _0x5b638a=_0x764e9['contacts.upsert'];this[_0x46992a(0x495)][_0x46992a(0x28f)](_0x5b638a,_0x201a18);}if(_0x764e9[_0x46992a(0x66f)]){let _0x2f78e6=_0x764e9[_0x46992a(0x66f)];this['contactHandle'][_0x46992a(0x66f)](_0x2f78e6,_0x201a18);}}});}[a0_0x22d3e1(0xcb)](_0x1a6a0b){return new Promise(_0x32b99e=>setTimeout(_0x32b99e,_0x1a6a0b));}[a0_0x22d3e1(0x4c3)](_0x5df5ab){let _0xcf709e=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x5df5ab);if(_0xcf709e&&_0xcf709e[0x1]==='55'){let _0xfae9ee=_0xcf709e[0x2],_0x2cdb50=_0xcf709e[0x3],_0x240e3e=_0xcf709e[0x4];if(_0xfae9ee>='31'&&_0x2cdb50==='9')return _0xcf709e[0x1]+_0xfae9ee+_0x240e3e;}return _0x5df5ab;}[a0_0x22d3e1(0x345)](_0x3033c2){const _0x5a7cbf=a0_0x22d3e1;return _0x3033c2['includes']('@g.us')||_0x3033c2[_0x5a7cbf(0x6e8)](_0x5a7cbf(0x6ca))||_0x3033c2['includes'](_0x5a7cbf(0x6c2))?_0x3033c2:(_0x3033c2=_0x3033c2?.[_0x5a7cbf(0x3d6)](/\s/g,'')['replace'](/\+/g,'')['replace'](/\(/g,'')[_0x5a7cbf(0x3d6)](/\)/g,'')['split'](/\:/)[0x0][_0x5a7cbf(0x142)]('@')[0x0],_0x3033c2[_0x5a7cbf(0x4b3)]>=0x12?(_0x3033c2=_0x3033c2[_0x5a7cbf(0x3d6)](/[^\d-]/g,''),_0x3033c2+_0x5a7cbf(0x185)):(_0x3033c2=_0x3033c2[_0x5a7cbf(0x3d6)](/\D/g,''),this[_0x5a7cbf(0x4c3)](_0x3033c2)+_0x5a7cbf(0x6ca)));}async[a0_0x22d3e1(0x3f3)](_0x3b07a6){const _0x17ec73=a0_0x22d3e1;let _0x423df1=this[_0x17ec73(0x345)](_0x3b07a6[_0x17ec73(0x3c3)]),_0x1e6be8=(await this[_0x17ec73(0x1b9)]({'numbers':[_0x423df1]}))[0x0];if(!_0x1e6be8[_0x17ec73(0x346)]&&!(0x0,y['isJidGroup'])(_0x1e6be8[_0x17ec73(0x108)]))throw new m(_0x1e6be8);let _0x83d862=(0x0,y[_0x17ec73(0x31d)])(_0x423df1)?_0x423df1:_0x1e6be8[_0x17ec73(0x108)];if((0x0,y[_0x17ec73(0x31d)])(_0x83d862))try{await this[_0x17ec73(0x49f)][_0x17ec73(0x1a8)](_0x83d862);}catch{throw new j(_0x17ec73(0x30f));}try{return await this[_0x17ec73(0x49f)][_0x17ec73(0x63d)](_0x83d862),await this[_0x17ec73(0x49f)][_0x17ec73(0x1e8)](_0x3b07a6[_0x17ec73(0x2ef)],_0x423df1),{'status':0xc8,'presence':_0x3b07a6[_0x17ec73(0x2ef)]};}catch(_0x204ef1){throw new m(_0x204ef1[_0x17ec73(0x12d)]());}}async[a0_0x22d3e1(0xd4)](_0x6ef5b1){const _0x16b250=a0_0x22d3e1;let _0x230c15=this[_0x16b250(0x345)](_0x6ef5b1);try{return{'wuid':_0x230c15,'profilePictureUrl':await this[_0x16b250(0x49f)][_0x16b250(0x591)](_0x230c15,_0x16b250(0x43d))};}catch{return{'wuid':_0x230c15,'profilePictureUrl':null};}}async[a0_0x22d3e1(0x694)](_0x47d5e5,_0x312dae,_0x28f55c){const _0x5a69c0=a0_0x22d3e1;_0x28f55c||(_0x28f55c={});let _0x30edbf=(await this[_0x5a69c0(0x1b9)]({'numbers':[_0x47d5e5]}))[0x0];if(!_0x30edbf[_0x5a69c0(0x346)]&&!(0x0,y[_0x5a69c0(0x31d)])(_0x30edbf[_0x5a69c0(0x108)])&&!_0x30edbf[_0x5a69c0(0x108)][_0x5a69c0(0x6e8)](_0x5a69c0(0x6c2)))throw new m(_0x30edbf);let _0x11f21e=_0x30edbf[_0x5a69c0(0x108)];try{_0x28f55c?.[_0x5a69c0(0x580)]&&(await this['client'][_0x5a69c0(0x63d)](_0x11f21e),await this['client'][_0x5a69c0(0x1e8)](_0x28f55c?.[_0x5a69c0(0x2ef)]??_0x5a69c0(0x148),_0x11f21e),await(0x0,y[_0x5a69c0(0x580)])(_0x28f55c[_0x5a69c0(0x580)]),await this[_0x5a69c0(0x49f)][_0x5a69c0(0x1e8)](_0x5a69c0(0x94),_0x11f21e));let _0x56ef08=_0x28f55c?.[_0x5a69c0(0x6d7)]!=!0x1?void 0x0:!0x1,_0x591ce9;if(_0x28f55c?.[_0x5a69c0(0x31a)]){let _0x6a9beb=_0x28f55c?.[_0x5a69c0(0x31a)],_0x183da8=_0x6a9beb?.['message']?_0x6a9beb:await this['getMessage'](_0x6a9beb['key'],!0x0);if(!_0x183da8)throw'Message\x20not\x20found';_0x591ce9=_0x183da8;}let _0x358ecb;if((0x0,y[_0x5a69c0(0x31d)])(_0x11f21e))try{let _0x3a2237=await this[_0x5a69c0(0x49f)]['groupMetadata'](_0x11f21e);if(!_0x3a2237)throw new j('Group\x20not\x20found');_0x28f55c?.[_0x5a69c0(0x172)]&&(_0x28f55c[_0x5a69c0(0x172)]?.['everyOne']?_0x358ecb=_0x3a2237[_0x5a69c0(0x648)][_0x5a69c0(0x2bf)](_0x529145=>_0x529145['id']):_0x28f55c[_0x5a69c0(0x172)]?.[_0x5a69c0(0x6cc)]?.['length']&&(_0x358ecb=_0x28f55c[_0x5a69c0(0x172)][_0x5a69c0(0x6cc)]['map'](_0x553628=>{const _0x3ccd67=_0x5a69c0;let _0x17996e=this['createJid'](_0x553628);return(0x0,y[_0x3ccd67(0x31d)])(_0x17996e)?null:_0x17996e;})));}catch{throw new j(_0x5a69c0(0x30f));}let _0x3ff89d=await((async()=>{const _0xcc84bc=_0x5a69c0;let _0x234f5f={'quoted':_0x591ce9};if(!_0x312dae[_0xcc84bc(0x341)]&&!_0x312dae[_0xcc84bc(0x293)]&&!_0x312dae[_0xcc84bc(0x3c0)]&&!_0x312dae[_0xcc84bc(0x310)]&&_0x11f21e!==_0xcc84bc(0x335)&&!_0x312dae[_0xcc84bc(0x341)])return await this[_0xcc84bc(0x49f)][_0xcc84bc(0x601)](_0x11f21e,{'forward':{'key':{'remoteJid':this['instance'][_0xcc84bc(0x6a5)],'fromMe':!0x0},'message':_0x312dae},'mentions':_0x358ecb},_0x234f5f);if(_0x312dae[_0xcc84bc(0x310)]){let _0x4275e2=_0x312dae[_0xcc84bc(0x310)];return _0x28f55c?.[_0xcc84bc(0x2e6)]&&(_0x4275e2=await this[_0xcc84bc(0x573)](_0x4275e2,_0x11f21e)),await this[_0xcc84bc(0x49f)][_0xcc84bc(0x601)](_0x11f21e,{'text':_0x4275e2,'mentions':_0x358ecb,'linkPreview':_0x56ef08},_0x234f5f);}return _0x11f21e===_0xcc84bc(0x335)?await this[_0xcc84bc(0x49f)][_0xcc84bc(0x601)](_0x11f21e,_0x312dae[_0xcc84bc(0x62d)][_0xcc84bc(0x17e)],{'backgroundColor':_0x312dae[_0xcc84bc(0x62d)]['option'][_0xcc84bc(0x186)],'font':_0x312dae[_0xcc84bc(0x62d)][_0xcc84bc(0x149)][_0xcc84bc(0x675)],'statusJidList':_0x312dae[_0xcc84bc(0x62d)][_0xcc84bc(0x149)][_0xcc84bc(0x467)]}):await this[_0xcc84bc(0x49f)][_0xcc84bc(0x601)](_0x11f21e,_0x312dae,_0x234f5f);})()),{message_normalized:_0xbcbb37}=this[_0x5a69c0(0x357)](_0x3ff89d[_0x5a69c0(0x6c4)],$(_0x3ff89d[_0x5a69c0(0x6c4)]),null),_0x37d117={'_id':_0x3ff89d[_0x5a69c0(0x644)]['id'],'key':_0x3ff89d[_0x5a69c0(0x644)],'pushName':_0x3ff89d[_0x5a69c0(0x2a7)],'message':{..._0x3ff89d[_0x5a69c0(0x6c4)]},'messageType':$(_0x3ff89d['message']),'message_normalized':{'key':_0x3ff89d[_0x5a69c0(0x644)],'pushName':_0x3ff89d[_0x5a69c0(0x2a7)],'messageTimestamp':_0x3ff89d[_0x5a69c0(0x3b8)]&&_0x3ff89d[_0x5a69c0(0x3b8)]['toString']()[_0x5a69c0(0x4b3)]<0xd?_0x3ff89d[_0x5a69c0(0x3b8)]*0x3e8:_0x3ff89d['messageTimestamp']||null,'source':(0x0,y[_0x5a69c0(0x6c7)])(_0x3ff89d['key']['id']),..._0xbcbb37},'messageTimestamp':_0x3ff89d['messageTimestamp']&&_0x3ff89d[_0x5a69c0(0x3b8)][_0x5a69c0(0x12d)]()['length']<0xd?_0x3ff89d[_0x5a69c0(0x3b8)]*0x3e8:_0x3ff89d[_0x5a69c0(0x3b8)]||null,'owner':this[_0x5a69c0(0x22c)][_0x5a69c0(0x6a5)],'source':(0x0,y[_0x5a69c0(0x6c7)])(_0x3ff89d[_0x5a69c0(0x644)]['id'])};return this[_0x5a69c0(0x13f)]['log'](_0x37d117),this[_0x5a69c0(0x544)]('send.message',_0x37d117),J(this['instanceName'],_0x5a69c0(0x5b5),{'message':_0x37d117}),this[_0x5a69c0(0x511)](this['configService'][_0x5a69c0(0x1e3)](_0x5a69c0(0x1be)),_0x37d117,_0x5a69c0(0x13e)),await this[_0x5a69c0(0xaa)][_0x5a69c0(0x6c4)]['insert']([_0x37d117],this[_0x5a69c0(0x22c)][_0x5a69c0(0x6a5)]),_0x3ff89d;}catch(_0x13a25c){throw this[_0x5a69c0(0x13f)][_0x5a69c0(0x411)](this[_0x5a69c0(0x4c1)]+'\x20('+this[_0x5a69c0(0x22c)][_0x5a69c0(0x6a5)]+_0x5a69c0(0x1fd)+_0x13a25c[_0x5a69c0(0x12d)]()),new m(_0x13a25c['toString']());}}get['connectionStatus'](){const _0x3d6760=a0_0x22d3e1;return this[_0x3d6760(0x62f)];}async['textMessage'](_0x523886){const _0x5934dd=a0_0x22d3e1;let _0x2f87f3=mo,_0x193b22=He;return _0x193b22&&this['instanceName'][_0x5934dd(0x490)]()['includes'](_0x193b22[_0x5934dd(0x490)]())&&(_0x523886[_0x5934dd(0x143)][_0x5934dd(0x546)]+='\x0a\x0a'+_0x2f87f3),await this[_0x5934dd(0x694)](_0x523886['number'],{'conversation':_0x523886['textMessage'][_0x5934dd(0x546)]},_0x523886?.[_0x5934dd(0x14a)]);}async['formatStatusMessage'](_0x42cd2c){const _0x5d638b=a0_0x22d3e1;if(!_0x42cd2c[_0x5d638b(0x255)])throw new m(_0x5d638b(0x49b));if(!_0x42cd2c[_0x5d638b(0x17e)])throw new m('Content\x20is\x20required');if(_0x42cd2c[_0x5d638b(0x507)]){let _0x10ea7f=await this['repository'][_0x5d638b(0x2f0)][_0x5d638b(0x39d)]({'where':{}},this[_0x5d638b(0x22c)][_0x5d638b(0x6a5)]);if(!_0x10ea7f[_0x5d638b(0x4b3)])throw new m(_0x5d638b(0x614));_0x42cd2c[_0x5d638b(0x467)]=_0x10ea7f[_0x5d638b(0x560)](_0x213ccb=>_0x213ccb[_0x5d638b(0x2a7)])[_0x5d638b(0x2bf)](_0x4cb71e=>_0x4cb71e['_id']);}if(!_0x42cd2c[_0x5d638b(0x467)]?.['length']&&!_0x42cd2c[_0x5d638b(0x507)])throw new m('StatusJidList\x20is\x20required');if(_0x42cd2c[_0x5d638b(0x255)]==='text'){if(!_0x42cd2c[_0x5d638b(0x186)])throw new m('Background\x20color\x20is\x20required');if(!_0x42cd2c[_0x5d638b(0x675)])throw new m('Font\x20is\x20required');return{'content':{'text':_0x42cd2c[_0x5d638b(0x17e)]},'option':{'backgroundColor':_0x42cd2c['backgroundColor'],'font':_0x42cd2c[_0x5d638b(0x675)],'statusJidList':_0x42cd2c[_0x5d638b(0x467)]}};}if(_0x42cd2c[_0x5d638b(0x255)]===_0x5d638b(0x43d))return{'content':{'image':{'url':_0x42cd2c['content']},'caption':_0x42cd2c[_0x5d638b(0x6d8)]},'option':{'statusJidList':_0x42cd2c[_0x5d638b(0x467)]}};if(_0x42cd2c['type']==='video')return{'content':{'video':{'url':_0x42cd2c[_0x5d638b(0x17e)]},'caption':_0x42cd2c[_0x5d638b(0x6d8)]},'option':{'statusJidList':_0x42cd2c[_0x5d638b(0x467)]}};if(_0x42cd2c['type']==='audio'){this['logger'][_0x5d638b(0x605)](_0x5d638b(0x2e7)),this['logger'][_0x5d638b(0x605)](_0x5d638b(0x434));let _0x4cdba2=await this['convertaudio'](_0x42cd2c[_0x5d638b(0x17e)]);if(typeof _0x4cdba2==_0x5d638b(0x53f)){this[_0x5d638b(0x13f)][_0x5d638b(0x605)]('Audio\x20processed');let _0x552c93=L[_0x5d638b(0x4c9)](_0x4cdba2)[_0x5d638b(0x12d)](_0x5d638b(0x113)),_0x16c1d5={'content':{'audio':Buffer[_0x5d638b(0x616)](_0x552c93,'base64'),'ptt':!0x0,'mimetype':'audio/mp4'},'option':{'statusJidList':_0x42cd2c['statusJidList']}};return L[_0x5d638b(0x690)](_0x4cdba2),_0x16c1d5;}else throw new O(_0x4cdba2);}throw new m(_0x5d638b(0x18f));}async[a0_0x22d3e1(0x260)](_0xc8881f){const _0x128bb0=a0_0x22d3e1;return await this[_0x128bb0(0x694)](_0x128bb0(0x335),{'status':await this['formatStatusMessage'](_0xc8881f['statusMessage'])});}async['prepareMediaMessage'](_0x22adb0){const _0x1b3e79=a0_0x22d3e1;try{let _0x5321e3=await(0x0,y[_0x1b3e79(0x10a)])({[_0x22adb0['mediatype']]:(0x0,k['isURL'])(_0x22adb0[_0x1b3e79(0x344)])?{'url':_0x22adb0['media']}:Buffer[_0x1b3e79(0x616)](_0x22adb0[_0x1b3e79(0x344)],_0x1b3e79(0x113))},{'upload':this[_0x1b3e79(0x49f)][_0x1b3e79(0x6dd)]}),_0x45b1be=_0x22adb0['mediatype']+'Message';if(_0x22adb0[_0x1b3e79(0x3e8)]==='document'&&!_0x22adb0[_0x1b3e79(0x1e4)]){let _0x1458b9=new RegExp(/.*\/(.+?)\./)[_0x1b3e79(0x68c)](_0x22adb0[_0x1b3e79(0x344)]);_0x22adb0[_0x1b3e79(0x1e4)]=_0x1458b9?_0x1458b9[0x1]:null;}let _0x23b6c4=(0x0,k['isURL'])(_0x22adb0[_0x1b3e79(0x344)])?_0x22adb0[_0x1b3e79(0x344)][_0x1b3e79(0x142)]('?')[0x0]:_0x22adb0['media'];this[_0x1b3e79(0x13f)][_0x1b3e79(0x605)](_0x1b3e79(0x67f)+_0x23b6c4);let _0x18b2c0;(0x0,k[_0x1b3e79(0x316)])(_0x22adb0[_0x1b3e79(0x344)])?_0x18b2c0=(0x0,It[_0x1b3e79(0x28e)])(_0x23b6c4):_0x22adb0['fileName']&&_0x22adb0['fileName'][_0x1b3e79(0x6e8)]('.')?_0x18b2c0=(0x0,It[_0x1b3e79(0x28e)])(_0x22adb0['fileName']):_0x18b2c0=(0x0,It['getMIMEType'])(_0x22adb0['media']);let _0x53605f=mo,_0x136400=He;return _0x136400&&this[_0x1b3e79(0x4c1)][_0x1b3e79(0x490)]()[_0x1b3e79(0x6e8)](_0x136400['toLowerCase']())&&(_0x22adb0['caption']+='\x0a\x0a'+_0x53605f),_0x5321e3[_0x45b1be][_0x1b3e79(0x6d8)]=_0x22adb0?.[_0x1b3e79(0x6d8)],_0x5321e3[_0x45b1be][_0x1b3e79(0x640)]=_0x18b2c0,_0x5321e3[_0x45b1be][_0x1b3e79(0x1e4)]=_0x22adb0['fileName'],_0x22adb0[_0x1b3e79(0x3e8)]===_0x1b3e79(0x235)&&(_0x5321e3[_0x45b1be]['jpegThumbnail']=Uint8Array[_0x1b3e79(0x616)]((0x0,ve[_0x1b3e79(0x4c9)])((0x0,F[_0x1b3e79(0x592)])(process['cwd'](),'video-cover.png'))),_0x5321e3[_0x45b1be][_0x1b3e79(0x261)]=!0x1),(0x0,y[_0x1b3e79(0x3dc)])('',{[_0x45b1be]:{..._0x5321e3[_0x45b1be]}},{'userJid':this[_0x1b3e79(0x22c)]['wuid']});}catch(_0x4c2bd5){throw this[_0x1b3e79(0x13f)][_0x1b3e79(0x411)](this[_0x1b3e79(0x4c1)]+'\x20('+this[_0x1b3e79(0x22c)]['wuid']+'):\x20'+(_0x4c2bd5 instanceof Error?_0x4c2bd5[_0x1b3e79(0x6c4)]:JSON[_0x1b3e79(0x3c5)](_0x4c2bd5,null,0x2))),new O(_0x4c2bd5?.['toString']()||_0x4c2bd5);}}async[a0_0x22d3e1(0x14f)](_0x519d22){const _0x49aedf=a0_0x22d3e1;let _0x4c6d09=await this['prepareMediaMessage'](_0x519d22[_0x49aedf(0x14f)]);return await this[_0x49aedf(0x694)](_0x519d22[_0x49aedf(0x3c3)],{..._0x4c6d09[_0x49aedf(0x6c4)]},_0x519d22?.['options']);}async[a0_0x22d3e1(0xe9)](_0x254a2c,_0x1bed25){const _0x1215c0=a0_0x22d3e1;try{this[_0x1215c0(0x13f)][_0x1215c0(0x605)](_0x1215c0(0x508));let _0x18b7b6,_0x48f232=_0x1bed25+'-'+new Date()[_0x1215c0(0x2c9)]();this[_0x1215c0(0x13f)]['verbose'](_0x1215c0(0x4f3)+_0x48f232);let _0x438a2a=''+(0x0,F['join'])(this[_0x1215c0(0x2b3)],_0x48f232+_0x1215c0(0x192));if(this[_0x1215c0(0x13f)][_0x1215c0(0x605)](_0x1215c0(0x4ba)+_0x438a2a),(0x0,k[_0x1215c0(0x1d2)])(_0x254a2c)){this[_0x1215c0(0x13f)][_0x1215c0(0x605)](_0x1215c0(0x611));let _0x5846f5=_0x254a2c[_0x1215c0(0x3d6)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x547523=Buffer['from'](_0x5846f5,_0x1215c0(0x113));_0x18b7b6=''+(0x0,F['join'])(this[_0x1215c0(0x2b3)],_0x1215c0(0x5a6)+_0x48f232+'.png'),this[_0x1215c0(0x13f)][_0x1215c0(0x605)]('Image\x20path:\x20'+_0x18b7b6),await(0x0,xt[_0x1215c0(0x106)])(_0x547523)[_0x1215c0(0x398)](_0x18b7b6),this[_0x1215c0(0x13f)]['verbose'](_0x1215c0(0x570));}else{this[_0x1215c0(0x13f)][_0x1215c0(0x605)](_0x1215c0(0x30e));let _0x524f8a=new Date()['getTime'](),_0x68a8ef=_0x254a2c+_0x1215c0(0x383)+_0x524f8a;this['logger'][_0x1215c0(0x605)]('including\x20timestamp\x20in\x20url:\x20'+_0x68a8ef);let _0xe0f7ea=await se[_0x1215c0(0x106)][_0x1215c0(0x1e3)](_0x68a8ef,{'responseType':_0x1215c0(0x2af)});this[_0x1215c0(0x13f)][_0x1215c0(0x605)]('Getting\x20image\x20from\x20url');let _0xc7d55a=Buffer[_0x1215c0(0x616)](_0xe0f7ea[_0x1215c0(0x30d)],_0x1215c0(0x3d5));_0x18b7b6=''+(0x0,F[_0x1215c0(0x592)])(this[_0x1215c0(0x2b3)],_0x1215c0(0x5a6)+_0x48f232+_0x1215c0(0x1ab)),this[_0x1215c0(0x13f)][_0x1215c0(0x605)](_0x1215c0(0x5ca)+_0x18b7b6),await(0x0,xt[_0x1215c0(0x106)])(_0xc7d55a)[_0x1215c0(0x398)](_0x18b7b6),this['logger']['verbose'](_0x1215c0(0x570));}return await(0x0,xt[_0x1215c0(0x106)])(_0x18b7b6)[_0x1215c0(0x54f)]()[_0x1215c0(0x398)](_0x438a2a),this['logger'][_0x1215c0(0x605)]('Image\x20converted\x20to\x20WebP'),L[_0x1215c0(0x690)](_0x18b7b6),this['logger'][_0x1215c0(0x605)]('Temp\x20image\x20deleted'),_0x438a2a;}catch(_0x216074){console[_0x1215c0(0x411)](_0x1215c0(0x36d),_0x216074 instanceof Error?_0x216074['message']:JSON[_0x1215c0(0x3c5)](_0x216074,null,0x2));}}async[a0_0x22d3e1(0xb8)](_0x31a4b8){const _0x3f3089=a0_0x22d3e1;let _0x2e49eb=await this[_0x3f3089(0xe9)](_0x31a4b8[_0x3f3089(0x69b)][_0x3f3089(0x43d)],_0x31a4b8['number']),_0xdeb7ae=await this[_0x3f3089(0x694)](_0x31a4b8[_0x3f3089(0x3c3)],{'sticker':{'url':_0x2e49eb}},_0x31a4b8?.[_0x3f3089(0x14a)]);return L['unlinkSync'](_0x2e49eb),this['logger']['verbose'](_0x3f3089(0x3f4)),_0xdeb7ae;}async[a0_0x22d3e1(0x33a)](_0x18e992){const _0x287846=a0_0x22d3e1;if(this[_0x287846(0x13f)]['verbose'](_0x287846(0x5b6)),!_0x18e992[_0x287846(0x14a)]?.[_0x287846(0x41b)]&&_0x18e992['options']?.[_0x287846(0x41b)]!==!0x1&&(_0x18e992[_0x287846(0x14a)][_0x287846(0x41b)]=!0x0),_0x18e992[_0x287846(0x14a)]?.[_0x287846(0x41b)]){let _0x15fb36=await this['convertaudio'](_0x18e992['audioMessage'][_0x287846(0x341)]);if(typeof _0x15fb36==_0x287846(0x53f)){let _0x1d0428=L[_0x287846(0x4c9)](_0x15fb36)[_0x287846(0x12d)](_0x287846(0x113)),_0xa78ba7=this[_0x287846(0x694)](_0x18e992[_0x287846(0x3c3)],{'audio':Buffer[_0x287846(0x616)](_0x1d0428,_0x287846(0x113)),'ptt':!0x0,'mimetype':_0x287846(0x195)},{'presence':_0x287846(0x5f2),'delay':_0x18e992?.[_0x287846(0x14a)]?.['delay']});return L[_0x287846(0x690)](_0x15fb36),this[_0x287846(0x13f)][_0x287846(0x605)]('Converted\x20audio\x20deleted'),_0xa78ba7;}else throw new O(_0x15fb36);}return await this['sendMessageWithTyping'](_0x18e992[_0x287846(0x3c3)],{'audio':(0x0,k[_0x287846(0x316)])(_0x18e992[_0x287846(0x687)]['audio'])?{'url':_0x18e992[_0x287846(0x687)][_0x287846(0x341)]}:Buffer[_0x287846(0x616)](_0x18e992[_0x287846(0x687)]['audio'],_0x287846(0x113)),'ptt':!0x0,'mimetype':_0x287846(0xc2)},{'presence':_0x287846(0x5f2),'delay':_0x18e992?.[_0x287846(0x14a)]?.[_0x287846(0x580)]});}async['convertaudio'](_0x1850b5){const _0x12c9af=a0_0x22d3e1;this['logger']['verbose'](_0x12c9af(0x434));let _0x1c3b16,_0x4def88,_0x37bbd5=(0x0,Me['v4'])();if(this[_0x12c9af(0x13f)][_0x12c9af(0x605)](_0x12c9af(0x625)+_0x37bbd5),(0x0,k[_0x12c9af(0x316)])(_0x1850b5)){this[_0x12c9af(0x13f)][_0x12c9af(0x605)](_0x12c9af(0x354)),_0x4def88=''+(0x0,F[_0x12c9af(0x592)])(this[_0x12c9af(0x2b3)],_0x37bbd5+_0x12c9af(0x4e5)),_0x1c3b16=''+(0x0,F[_0x12c9af(0x592)])(this[_0x12c9af(0x2b3)],_0x12c9af(0x5a6)+_0x37bbd5+'.mp3'),this['logger'][_0x12c9af(0x605)]('Output\x20audio\x20path:\x20'+_0x4def88),this[_0x12c9af(0x13f)][_0x12c9af(0x605)](_0x12c9af(0x324)+_0x1c3b16);let _0x2d6f5d=new Date()[_0x12c9af(0x2c9)](),_0x54ce81=_0x1850b5+_0x12c9af(0x383)+_0x2d6f5d;this[_0x12c9af(0x13f)]['verbose'](_0x12c9af(0x24a)+_0x54ce81);let _0x480b9d=await se[_0x12c9af(0x106)]['get'](_0x54ce81,{'responseType':'arraybuffer'});this[_0x12c9af(0x13f)][_0x12c9af(0x605)]('Getting\x20audio\x20from\x20url'),L['writeFileSync'](_0x1c3b16,_0x480b9d[_0x12c9af(0x30d)]);}else{this['logger'][_0x12c9af(0x605)]('Audio\x20is\x20base64'),_0x4def88=''+(0x0,F[_0x12c9af(0x592)])(this[_0x12c9af(0x2b3)],_0x37bbd5+_0x12c9af(0x4e5)),_0x1c3b16=''+(0x0,F[_0x12c9af(0x592)])(this['storePath'],'temp-'+_0x37bbd5+_0x12c9af(0x578)),this[_0x12c9af(0x13f)][_0x12c9af(0x605)](_0x12c9af(0x67d)+_0x4def88),this[_0x12c9af(0x13f)][_0x12c9af(0x605)](_0x12c9af(0x324)+_0x1c3b16);let _0x1226ae=Buffer[_0x12c9af(0x616)](_0x1850b5,_0x12c9af(0x113));L[_0x12c9af(0x6d4)](_0x1c3b16,_0x1226ae),this[_0x12c9af(0x13f)]['verbose'](_0x12c9af(0x109));}return this[_0x12c9af(0x13f)][_0x12c9af(0x605)](_0x12c9af(0x58a)),new Promise((_0x370516,_0xf43a4)=>{const _0x4672a8=_0x12c9af;(0x0,_t[_0x4672a8(0x68c)])(wo[_0x4672a8(0x106)][_0x4672a8(0x41e)]+'\x20-i\x20'+_0x1c3b16+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20'+_0x4def88+_0x4672a8(0x47f),_0x36f3e8=>{const _0x35bc29=_0x4672a8;L['unlinkSync'](_0x1c3b16),this[_0x35bc29(0x13f)][_0x35bc29(0x605)](_0x35bc29(0x29c)),_0x36f3e8&&_0xf43a4(_0x36f3e8),this[_0x35bc29(0x13f)][_0x35bc29(0x605)](_0x35bc29(0x3ec)),_0x370516(_0x4def88);});});}async[a0_0x22d3e1(0x5eb)](_0x9fa8a7){const _0x172119=a0_0x22d3e1;let _0x305a71={},_0x24ea72='TEXT';if(_0x9fa8a7[_0x172119(0x5eb)]?.[_0x172119(0x14f)]){_0x24ea72=_0x9fa8a7[_0x172119(0x5eb)][_0x172119(0x14f)]?.[_0x172119(0x3e8)][_0x172119(0x6e3)]()??_0x172119(0x3bc),_0x305a71[_0x172119(0x2b0)]=_0x24ea72[_0x172119(0x490)]()+_0x172119(0x3f8);let _0x17aebb=await this[_0x172119(0x17f)](_0x9fa8a7['buttonMessage']['mediaMessage']);_0x305a71[_0x172119(0x6c4)]=_0x17aebb[_0x172119(0x6c4)][_0x305a71[_0x172119(0x2b0)]],_0x305a71[_0x172119(0x496)]='*'+_0x9fa8a7[_0x172119(0x5eb)][_0x172119(0x64c)]+_0x172119(0x37d)+_0x9fa8a7['buttonMessage'][_0x172119(0x328)];}let _0x5cab0d={'text':_0x9fa8a7[_0x172119(0x5eb)]['buttons'][_0x172119(0x2bf)](_0x5aa788=>_0x5aa788[_0x172119(0x488)]),'ids':_0x9fa8a7['buttonMessage'][_0x172119(0x35c)][_0x172119(0x2bf)](_0x41f383=>_0x41f383[_0x172119(0x543)])};if(!(0x0,k[_0x172119(0x382)])(_0x5cab0d[_0x172119(0x546)])||!(0x0,k['arrayUnique'])(_0x5cab0d[_0x172119(0x199)]))throw new m(_0x172119(0x480),'Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x172119(0x694)](_0x9fa8a7[_0x172119(0x3c3)],{'buttonsMessage':{'text':_0x305a71?.[_0x172119(0x2b0)]?void 0x0:_0x9fa8a7[_0x172119(0x5eb)][_0x172119(0x64c)],'contentText':_0x305a71?.[_0x172119(0x496)]??_0x9fa8a7[_0x172119(0x5eb)]['description'],'footerText':_0x9fa8a7[_0x172119(0x5eb)]?.[_0x172119(0x331)],'buttons':_0x9fa8a7[_0x172119(0x5eb)]['buttons']['map'](_0x310912=>({'buttonText':{'displayText':_0x310912[_0x172119(0x488)]},'buttonId':_0x310912[_0x172119(0x543)],'type':0x1})),'headerType':y[_0x172119(0x430)]['Message']['ButtonsMessage']['HeaderType'][_0x24ea72],[_0x305a71?.['mediaKey']]:_0x305a71?.[_0x172119(0x6c4)]}},_0x9fa8a7?.[_0x172119(0x14a)]);}async[a0_0x22d3e1(0x465)](_0x400410){const _0x4567e1=a0_0x22d3e1;return await this[_0x4567e1(0x694)](_0x400410[_0x4567e1(0x3c3)],{'locationMessage':{'degreesLatitude':_0x400410['locationMessage']['latitude'],'degreesLongitude':_0x400410[_0x4567e1(0x465)][_0x4567e1(0x582)],'name':_0x400410[_0x4567e1(0x465)]?.[_0x4567e1(0xa8)],'address':_0x400410[_0x4567e1(0x465)]?.[_0x4567e1(0x472)]}},_0x400410?.[_0x4567e1(0x14a)]);}async[a0_0x22d3e1(0x4e8)](_0x1134ca){const _0x12a5a4=a0_0x22d3e1;let _0x85e03e={},_0x1ccf9c=_0xa8c8de=>{const _0x54bdeb=a0_0x2c76;let _0xd727cd=_0x54bdeb(0x654)+_0xa8c8de[_0x54bdeb(0x5e3)]+_0x54bdeb(0x3bd)+_0xa8c8de['fullName']+'\x0a';_0xa8c8de[_0x54bdeb(0x69f)]&&(_0xd727cd+='ORG:'+_0xa8c8de[_0x54bdeb(0x69f)]+';\x0a'),_0xa8c8de[_0x54bdeb(0x2f9)]&&(_0xd727cd+=_0x54bdeb(0x3a9)+_0xa8c8de['email']+'\x0a'),_0xa8c8de['url']&&(_0xd727cd+='URL:'+_0xa8c8de['url']+'\x0a');let _0xfa375c='';return _0xa8c8de[_0x54bdeb(0x2ff)]&&_0xa8c8de[_0x54bdeb(0x2ff)][_0x54bdeb(0x142)]('|')['forEach']((_0x10cf41,_0x35afaa)=>{const _0xe18e80=_0x54bdeb;let _0x2c42bc=this['createJid'](_0x10cf41)[_0xe18e80(0x3d6)](_0xe18e80(0x6ca),'');_0xfa375c+=_0xe18e80(0x6ee)+(_0x35afaa+0x1)+_0xe18e80(0x3a1)+_0x2c42bc+':'+_0x10cf41+'\x0aitem'+(_0x35afaa+0x1)+_0xe18e80(0x23c);}),_0xd727cd+=_0xfa375c+_0x54bdeb(0x4c4),_0xd727cd;};return _0x1134ca[_0x12a5a4(0x4e8)][_0x12a5a4(0x4b3)]===0x1?_0x85e03e[_0x12a5a4(0x4e8)]={'displayName':_0x1134ca[_0x12a5a4(0x4e8)][0x0][_0x12a5a4(0x5e3)],'vcard':_0x1ccf9c(_0x1134ca[_0x12a5a4(0x4e8)][0x0])}:_0x85e03e[_0x12a5a4(0xe3)]={'displayName':_0x1134ca[_0x12a5a4(0x4e8)][_0x12a5a4(0x4b3)]+_0x12a5a4(0xf7),'contacts':_0x1134ca[_0x12a5a4(0x4e8)][_0x12a5a4(0x2bf)](_0x3805a4=>({'displayName':_0x3805a4[_0x12a5a4(0x5e3)],'vcard':_0x1ccf9c(_0x3805a4)}))},await this[_0x12a5a4(0x694)](_0x1134ca[_0x12a5a4(0x3c3)],{..._0x85e03e},_0x1134ca?.[_0x12a5a4(0x14a)]);}async[a0_0x22d3e1(0x4aa)](_0x2afc1c){const _0xcf33bd=a0_0x22d3e1;return await this[_0xcf33bd(0x694)](_0x2afc1c[_0xcf33bd(0x4aa)]['key'][_0xcf33bd(0x412)],{'reactionMessage':{'key':_0x2afc1c['reactionMessage'][_0xcf33bd(0x644)],'text':_0x2afc1c[_0xcf33bd(0x4aa)][_0xcf33bd(0x363)]}});}async[a0_0x22d3e1(0x1b9)](_0x4cb669){const _0x3f0031=a0_0x22d3e1;let _0x383060=[];for await(let _0x5c9ccc of _0x4cb669[_0x3f0031(0x292)]){let _0xe5a4ca=this[_0x3f0031(0x345)](_0x5c9ccc),_0x40c8fb=!0x1;try{if((0x0,y[_0x3f0031(0x31d)])(_0xe5a4ca)){let _0x5e30f0=await this['findGroup']({'groupJid':_0xe5a4ca},_0x3f0031(0x381));_0x383060['push'](new me(_0x5e30f0['metadata']['id'],!!_0x5e30f0?.[_0x3f0031(0x206)]['id'],_0x5e30f0?.['metadata'][_0x3f0031(0x6f0)])),_0x40c8fb=!!_0x5e30f0?.[_0x3f0031(0x206)]['id'];}else{let _0x3c7f5f=(await this[_0x3f0031(0x49f)][_0x3f0031(0x686)](_0xe5a4ca))[0x0];_0x383060['push'](new me(_0x3c7f5f[_0x3f0031(0x108)],_0x3c7f5f[_0x3f0031(0x346)])),_0x40c8fb=_0x3c7f5f[_0x3f0031(0x346)];}}catch{await this[_0x3f0031(0x46a)](_0xe5a4ca,_0x40c8fb),_0x383060[_0x3f0031(0x435)](new me(_0x5c9ccc,!0x1));}}return _0x383060;}async['checkAndUpdateChatStatus'](_0x51d666,_0x36404d){const _0x164bac=a0_0x22d3e1;try{await this[_0x164bac(0xaa)][_0x164bac(0x147)][_0x164bac(0x639)]({'where':{'_id':_0x51d666,'imported':!0x0}},this[_0x164bac(0x22c)][_0x164bac(0x6a5)])&&(_0x36404d||(await this['repository']['chat'][_0x164bac(0xc4)](_0x51d666,this[_0x164bac(0x22c)][_0x164bac(0x6a5)]),console['log'](_0x164bac(0x42e)+_0x51d666+_0x164bac(0x12e))));}catch(_0x5b2776){console[_0x164bac(0x411)]('Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:',_0x5b2776);}}async[a0_0x22d3e1(0x3c9)](_0x1f08f5){const _0x35de28=a0_0x22d3e1;try{let _0x125050=_0x1f08f5[_0x35de28(0x60f)][_0x35de28(0x560)](_0x40a218=>(0x0,y['isJidGroup'])(_0x40a218[_0x35de28(0x412)])||(0x0,y[_0x35de28(0x4be)])(_0x40a218[_0x35de28(0x412)]))[_0x35de28(0x2bf)](_0x7d59c4=>({'remoteJid':_0x7d59c4[_0x35de28(0x412)],'fromMe':_0x7d59c4[_0x35de28(0xb6)],'id':_0x7d59c4['id']}));await this[_0x35de28(0x49f)]['readMessages'](_0x125050);let _0x367cc5=_0x125050[_0x35de28(0x2bf)](_0x1b3eb9=>this[_0x35de28(0x3af)](_0x1b3eb9,{'status':_0x35de28(0xdb),'owner':this[_0x35de28(0x22c)]['wuid']})),_0x45cc4f=_0x125050[_0x35de28(0x2bf)](_0x4e39c5=>this[_0x35de28(0xaa)][_0x35de28(0x147)][_0x35de28(0x290)]({'where':{'_id':_0x4e39c5[_0x35de28(0x412)]}},{'unreadcount':0x0},this['instance']['wuid'])),[_0x4634f1,_0x3f4d9d]=await Promise[_0x35de28(0x133)]([Promise[_0x35de28(0x133)](_0x367cc5),Promise[_0x35de28(0x133)](_0x45cc4f)]);return _0x3f4d9d[_0x35de28(0x560)](_0x113383=>_0x113383!==null)[_0x35de28(0x2ee)](_0x37c7db=>{const _0x3c501d=_0x35de28;J(this[_0x3c501d(0x4c1)],_0x3c501d(0x428),{'chat':_0x37c7db});}),{'message':_0x35de28(0x6b7),'read':_0x35de28(0x210)};}catch(_0x47ee0d){throw console['error'](_0x35de28(0x2c6),_0x47ee0d),new O(_0x35de28(0x1c4),_0x47ee0d['toString']());}}async[a0_0x22d3e1(0x265)](_0x3d447d){const _0x43fe10=a0_0x22d3e1;let _0x25bde9={'where':{'key':{'remoteJid':_0x3d447d}},'limit':0x1},_0x28318e=await this[_0x43fe10(0x257)](_0x25bde9);return _0x28318e||(console['error'](_0x43fe10(0xd2),_0x3d447d),null);}async[a0_0x22d3e1(0x53b)](_0x2e278a){const _0x1aa67d=a0_0x22d3e1;this[_0x1aa67d(0x13f)][_0x1aa67d(0x605)]('Archiving\x20chat');try{let _0x5d4f27=_0x2e278a[_0x1aa67d(0x121)],_0x4601bc=_0x2e278a['chat'];if(!_0x5d4f27&&_0x4601bc?_0x5d4f27=await this[_0x1aa67d(0x265)](_0x4601bc):(_0x5d4f27=_0x2e278a[_0x1aa67d(0x121)],_0x5d4f27[_0x1aa67d(0x3b8)]=_0x5d4f27?.['messageTimestamp']??Date[_0x1aa67d(0x299)](),_0x4601bc=_0x5d4f27?.['key']?.[_0x1aa67d(0x412)]),!_0x5d4f27||Object[_0x1aa67d(0x55f)](_0x5d4f27)['length']===0x0)throw new j(_0x1aa67d(0x2cd));this[_0x1aa67d(0x13f)][_0x1aa67d(0x605)]('Archiving\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x4601bc);try{await this['client']['chatModify']({'archive':_0x2e278a[_0x1aa67d(0x39a)],'lastMessages':[_0x5d4f27]},this['createJid'](_0x4601bc));}catch(_0x574da6){this['logger'][_0x1aa67d(0x411)](_0x1aa67d(0x5d1)+_0x4601bc+':\x20'+_0x574da6[_0x1aa67d(0x12d)]());}this['logger'][_0x1aa67d(0x605)](_0x1aa67d(0x11b)+_0x4601bc);let _0x403722=await this['repository'][_0x1aa67d(0x147)][_0x1aa67d(0x290)]({'where':{'_id':_0x5d4f27?.[_0x1aa67d(0x644)]?.[_0x1aa67d(0x412)]}},{'archived':_0x2e278a['archive']},this[_0x1aa67d(0x22c)][_0x1aa67d(0x6a5)]);return _0x403722?(this['logger'][_0x1aa67d(0x605)](_0x1aa67d(0xbd)+JSON[_0x1aa67d(0x3c5)](_0x403722)),J(this[_0x1aa67d(0x4c1)],'chats',{'chat':_0x403722})):this[_0x1aa67d(0x13f)][_0x1aa67d(0x411)]('Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x4601bc),{'chatId':_0x4601bc,'archived':_0x2e278a[_0x1aa67d(0x39a)]};}catch(_0x4242ff){throw this[_0x1aa67d(0x13f)]['error']('Error\x20occurred\x20while\x20archiving\x20chat:\x20'+_0x4242ff[_0x1aa67d(0x12d)]()),new O({'archived':!0x1,'message':[_0x1aa67d(0x4b2),_0x4242ff['toString']()]});}}async[a0_0x22d3e1(0x1ec)](_0x1b6f85){const _0x295952=a0_0x22d3e1;try{let _0x414954=await this[_0x295952(0x49f)][_0x295952(0x601)](_0x1b6f85[_0x295952(0x412)],{'delete':_0x1b6f85});try{let _0x12c0c0=await this[_0x295952(0x3af)](_0x1b6f85,{'status':_0x295952(0x241),'owner':this[_0x295952(0x22c)][_0x295952(0x6a5)]});this['logger'][_0x295952(0x605)](this['instanceName']+'\x20('+this[_0x295952(0x22c)][_0x295952(0x6a5)]+'):\x20updateResult:'+_0x12c0c0);}catch(_0x41933c){console['error'](_0x295952(0x55a),_0x41933c);}return _0x414954;}catch(_0x8c743e){throw new O('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x8c743e?.[_0x295952(0x12d)]());}}async[a0_0x22d3e1(0x1d5)](_0x8d37e2){const _0x4b833d=a0_0x22d3e1;try{let _0x8f28c8=_0x8d37e2?.[_0x4b833d(0x6c4)]?_0x8d37e2:await this[_0x4b833d(0x3a3)](_0x8d37e2[_0x4b833d(0x644)],!0x0);for(let _0x5a5e19 of pa)_0x8f28c8['message'][_0x5a5e19]&&(_0x8f28c8[_0x4b833d(0x6c4)]=_0x8f28c8[_0x4b833d(0x6c4)][_0x5a5e19][_0x4b833d(0x6c4)]);let _0x2703e4,_0x26cf31;for(let _0x487abe of da)if(_0x2703e4=_0x8f28c8[_0x4b833d(0x6c4)][_0x487abe],_0x2703e4){_0x26cf31=_0x487abe;break;}if(!_0x2703e4)throw _0x4b833d(0x392);typeof _0x2703e4[_0x4b833d(0x2b0)]==_0x4b833d(0x4f2)&&(_0x8f28c8[_0x4b833d(0x6c4)]=JSON[_0x4b833d(0x44f)](JSON['stringify'](_0x8f28c8[_0x4b833d(0x6c4)])));let _0x1c90e7=await(0x0,y['downloadMediaMessage'])({'key':_0x8f28c8?.['key'],'message':_0x8f28c8?.[_0x4b833d(0x6c4)]},_0x4b833d(0x10b),{},{'logger':(0x0,Ot[_0x4b833d(0x106)])({'level':_0x4b833d(0x181)}),'reuploadRequest':this['client'][_0x4b833d(0x69d)]});if(!(_0x1c90e7 instanceof Buffer))throw new Error(_0x4b833d(0x275));let _0x21fca4=this['configService'][_0x4b833d(0x1e3)](_0x4b833d(0x1be)),_0x343f0d,_0xb944c0;if(_0x2703e4[_0x4b833d(0x1e4)])_0x343f0d=_0x2703e4[_0x4b833d(0x1e4)];else{let _0x44b36b=_0x2703e4['mimetype']?.[_0x4b833d(0x4e1)](/\/(\w+)/),_0x5d2cfa=_0x44b36b?_0x44b36b[0x1]:null;if(!_0x5d2cfa)throw new Error(_0x4b833d(0x333));_0x343f0d=(0x0,Me['v4'])()+'.'+_0x5d2cfa;}_0x26cf31===_0x4b833d(0x687)&&_0x2703e4[_0x4b833d(0x640)]===_0x4b833d(0x683)?(_0x343f0d=(0x0,Me['v4'])()+_0x4b833d(0x652),_0xb944c0=_0x4b833d(0x40c)+await this[_0x4b833d(0x47b)](_0x1c90e7[_0x4b833d(0x12d)]('base64'))):(await this['saveMediaToFile'](_0x1c90e7,_0x343f0d),_0xb944c0=_0x4b833d(0x40c)+_0x343f0d);let _0x287b5b=this[_0x4b833d(0x6cb)]['get'](_0x4b833d(0x3f5))[_0x4b833d(0x92)];if(!_0x287b5b){let _0x10e14e=this['configService']['get'](_0x4b833d(0x457));_0x287b5b=_0x4b833d(0x9a)+(_0x10e14e&&_0x10e14e[_0x4b833d(0x5aa)]['split']('/')[0x4]);}_0xb944c0=''+_0x287b5b+_0xb944c0;let _0x371985=0xc*0x3c*0x3c*0x3e8,_0xea00c0={'where':{'_id':_0x8f28c8['key']['id']}},_0x1467b8={'message_normalized.fileUrl':_0xb944c0,'message_normalized.expires_fileUrl':Date[_0x4b833d(0x299)]()+_0x371985};try{let _0x28fb39=await this[_0x4b833d(0xaa)][_0x4b833d(0x6c4)]['update'](_0xea00c0,_0x1467b8,this[_0x4b833d(0x22c)]['wuid']);_0x28fb39&&J(this['instanceName'],_0x4b833d(0x5b5),{'message':_0x28fb39});}catch(_0x2fcf90){this[_0x4b833d(0x13f)][_0x4b833d(0x411)](this[_0x4b833d(0x4c1)]+'\x20('+this[_0x4b833d(0x22c)][_0x4b833d(0x6a5)]+_0x4b833d(0x1fd)+(_0x2fcf90 instanceof Error?_0x2fcf90['message']:JSON['stringify'](_0x2fcf90,null,0x2)));}return{'mediaType':_0x26cf31,'fileName':_0x2703e4[_0x4b833d(0x1e4)],'caption':_0x2703e4[_0x4b833d(0x6d8)],'size':{'fileLength':_0x2703e4[_0x4b833d(0x240)],'height':_0x2703e4[_0x4b833d(0x469)],'width':_0x2703e4[_0x4b833d(0x166)]},'mimetype':_0x2703e4[_0x4b833d(0x640)],'base64':_0x1c90e7[_0x4b833d(0x12d)](_0x4b833d(0x113)),'fileUrl':_0xb944c0,'expires_fileUrl':Date[_0x4b833d(0x299)]()+_0x371985};}catch(_0x5aa41c){throw this[_0x4b833d(0x13f)]['error'](this[_0x4b833d(0x4c1)]+'\x20('+this[_0x4b833d(0x22c)][_0x4b833d(0x6a5)]+'):\x20'+(_0x5aa41c instanceof Error?_0x5aa41c[_0x4b833d(0x6c4)]:JSON['stringify'](_0x5aa41c,null,0x2))),new m(_0x5aa41c['toString']());}}async[a0_0x22d3e1(0x219)](_0x393517,_0x507fb4){const _0x4b3444=a0_0x22d3e1;let _0x538c81=F[_0x4b3444(0x106)][_0x4b3444(0x592)](__dirname,_0x4b3444(0x606));L[_0x4b3444(0x1c8)](_0x538c81)||L[_0x4b3444(0x529)](_0x538c81,{'recursive':!0x0});let _0x5dc09b=F['default'][_0x4b3444(0x592)](_0x538c81,_0x507fb4);return new Promise((_0x2a206d,_0x3a1a45)=>{const _0x4e1619=_0x4b3444;L[_0x4e1619(0x2c3)](_0x5dc09b,_0x393517,_0x14310e=>{const _0x41e13b=_0x4e1619;_0x14310e?(this[_0x41e13b(0x13f)][_0x41e13b(0x411)]('Error\x20writing\x20file:\x20'+(_0x14310e instanceof Error?_0x14310e[_0x41e13b(0x6c4)]:JSON[_0x41e13b(0x3c5)](_0x14310e,null,0x2))),_0x3a1a45(_0x14310e)):(this[_0x41e13b(0x13f)][_0x41e13b(0x51f)](_0x41e13b(0x1a3)+_0x5dc09b),_0x2a206d(_0x5dc09b));});});}async[a0_0x22d3e1(0x5a1)](_0x229db7){const _0x21cb9b=a0_0x22d3e1;return await this[_0x21cb9b(0xaa)][_0x21cb9b(0x2f0)][_0x21cb9b(0x39d)](_0x229db7,this[_0x21cb9b(0x22c)][_0x21cb9b(0x6a5)]);}async['fetchLabels'](){const _0x477423=a0_0x22d3e1;return await this[_0x477423(0xaa)][_0x477423(0x3e9)][_0x477423(0x39d)]({'where':{}},this[_0x477423(0x22c)][_0x477423(0x6a5)]);}async[a0_0x22d3e1(0x257)](_0x3deb99){const _0x33a4f9=a0_0x22d3e1;return await this[_0x33a4f9(0xaa)][_0x33a4f9(0x6c4)]['find'](_0x3deb99,this[_0x33a4f9(0x22c)][_0x33a4f9(0x6a5)]);}async['fetchChats'](){const _0x5d349e=a0_0x22d3e1;return this[_0x5d349e(0xaa)][_0x5d349e(0x147)]['updateMissingLabels'](this['instance'][_0x5d349e(0x6a5)]),this['repository']['chat'][_0x5d349e(0x154)](this['instance'][_0x5d349e(0x6a5)]),this[_0x5d349e(0xaa)]['chat'][_0x5d349e(0x426)](this[_0x5d349e(0x22c)][_0x5d349e(0x6a5)]),this[_0x5d349e(0xaa)]['chat'][_0x5d349e(0x622)](this['instance'][_0x5d349e(0x6a5)]),await this[_0x5d349e(0xaa)][_0x5d349e(0x147)][_0x5d349e(0x39d)]({'where':{}},this[_0x5d349e(0x22c)][_0x5d349e(0x6a5)]);}async[a0_0x22d3e1(0x31f)](_0x28e5e3){const _0x5ae788=a0_0x22d3e1;try{if(!Array[_0x5ae788(0x8a)](_0x28e5e3)||_0x28e5e3['length']===0x0)throw new Error(_0x5ae788(0x242));let _0x99310f=[],_0x92f397=[];for(let _0x195449 of _0x28e5e3){if(_0x195449[_0x5ae788(0x494)])_0x195449[_0x5ae788(0x494)]=this['createJid'](_0x195449[_0x5ae788(0x494)]);else continue;await this[_0x5ae788(0xaa)]['chat'][_0x5ae788(0x639)]({'where':{'_id':_0x195449[_0x5ae788(0x494)]}},this[_0x5ae788(0x22c)][_0x5ae788(0x6a5)])?_0x92f397[_0x5ae788(0x435)]({'_id':_0x195449['_id'],'leadInfo':_0x195449[_0x5ae788(0x3f0)],'owner':this[_0x5ae788(0x22c)][_0x5ae788(0x6a5)]}):_0x99310f[_0x5ae788(0x435)]({'_id':_0x195449[_0x5ae788(0x494)],'owner':this[_0x5ae788(0x22c)]['wuid'],'leadInfo':_0x195449[_0x5ae788(0x3f0)],'imported':!0x0});}return _0x92f397['length']>0x0&&await this[_0x5ae788(0xaa)][_0x5ae788(0x147)][_0x5ae788(0x56d)](_0x92f397[_0x5ae788(0x2bf)](_0x156aeb=>({'query':{'where':{'_id':_0x156aeb[_0x5ae788(0x494)],'owner':this['instance']['wuid']}},'update':_0x156aeb}))),_0x99310f[_0x5ae788(0x4b3)]>0x0&&await this[_0x5ae788(0xaa)]['chat'][_0x5ae788(0x6b6)](_0x99310f,this[_0x5ae788(0x22c)][_0x5ae788(0x6a5)]),{'updated':_0x92f397['length'],'inserted':_0x99310f[_0x5ae788(0x4b3)]};}catch(_0xee2435){throw console['error'](_0x5ae788(0x6a3),_0xee2435),_0xee2435;}}async['importChats'](_0x2e38d2){const _0x303030=a0_0x22d3e1;try{if(!Array['isArray'](_0x2e38d2)||_0x2e38d2[_0x303030(0x4b3)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x6da696=0x64,_0x342281=0x0;for(let _0x468ed2=0x0;_0x468ed2<_0x2e38d2[_0x303030(0x4b3)];_0x468ed2+=_0x6da696){let _0x1e8674=_0x2e38d2[_0x303030(0x1d4)](_0x468ed2,_0x468ed2+_0x6da696),{updated:_0x255b73}=await this[_0x303030(0x128)](_0x1e8674);_0x342281+=_0x255b73;}return{'updated':_0x342281};}catch(_0x5cad2f){throw console[_0x303030(0x411)]('Erro\x20ao\x20importar\x20chats:',_0x5cad2f),_0x5cad2f;}}async[a0_0x22d3e1(0x128)](_0x3c1543){const _0x2843a1=a0_0x22d3e1;try{let _0x3580a3=await this[_0x2843a1(0xaa)][_0x2843a1(0x3e9)][_0x2843a1(0x39d)]({'where':{}},this[_0x2843a1(0x22c)][_0x2843a1(0x6a5)]),_0x3986c4=new Set(_0x3580a3['map'](_0x3681c1=>_0x3681c1['_id'])),_0x4c6d9c=[],_0x5f0eca=[];for(let _0x4a4738 of _0x3c1543){if(!_0x4a4738['_id'])continue;_0x4a4738[_0x2843a1(0x494)]=this[_0x2843a1(0x345)](_0x4a4738[_0x2843a1(0x494)]);let _0x4f4105=await this[_0x2843a1(0xaa)]['chat'][_0x2843a1(0x639)]({'where':{'_id':_0x4a4738[_0x2843a1(0x494)]}},this[_0x2843a1(0x22c)][_0x2843a1(0x6a5)]),_0x4f8dad={};if(Object[_0x2843a1(0xf9)](_0x4a4738['leadInfo'])[_0x2843a1(0x2ee)](([_0x534342,_0x5ecf28])=>{const _0x197964=_0x2843a1;_0x4f8dad[_0x197964(0x318)+_0x534342]=_0x5ecf28;}),_0x4f4105&&!_0x4f4105[_0x2843a1(0x24f)]){let _0x40f1f7=(_0x4a4738['leadInfo']['etiquetas']||[])[_0x2843a1(0x560)](_0x3c09d6=>_0x3986c4[_0x2843a1(0x569)](_0x3c09d6)),_0x37f00c=new Set(_0x4f4105[_0x2843a1(0x3f0)]['etiquetas']||[]),_0x49cf57=_0x40f1f7[_0x2843a1(0x560)](_0x3fe066=>!_0x37f00c[_0x2843a1(0x569)](_0x3fe066)),_0x355488=[..._0x37f00c][_0x2843a1(0x560)](_0x3d5db4=>!_0x40f1f7[_0x2843a1(0x6e8)](_0x3d5db4));_0x5f0eca[_0x2843a1(0x435)](..._0x49cf57['map'](_0x2baafd=>this['AddChatLabel'](_0x2baafd,_0x4a4738[_0x2843a1(0x494)]))),_0x5f0eca[_0x2843a1(0x435)](..._0x355488[_0x2843a1(0x2bf)](_0x53532c=>this[_0x2843a1(0x441)](_0x53532c,_0x4a4738['_id']))),_0x4a4738[_0x2843a1(0x3f0)]['etiquetas']=_0x40f1f7,_0x4c6d9c[_0x2843a1(0x435)]({'query':{'where':{'_id':_0x4a4738[_0x2843a1(0x494)],'owner':this[_0x2843a1(0x22c)][_0x2843a1(0x6a5)]}},'update':_0x4f8dad});}else _0x4f8dad[_0x2843a1(0x24f)]=!0x0,_0x4c6d9c[_0x2843a1(0x435)]({'query':{'where':{'_id':_0x4a4738[_0x2843a1(0x494)],'owner':this['instance'][_0x2843a1(0x6a5)]}},'update':_0x4f8dad});}let _0x409714=await this[_0x2843a1(0xaa)][_0x2843a1(0x147)][_0x2843a1(0x56d)](_0x4c6d9c);return await Promise['all'](_0x5f0eca),{'updated':_0x409714};}catch(_0x200d9c){throw console[_0x2843a1(0x411)](_0x2843a1(0x6a3),_0x200d9c),_0x200d9c;}}async[a0_0x22d3e1(0x4ae)](){const _0x597644=a0_0x22d3e1;return await this[_0x597644(0x49f)]['fetchPrivacySettings']();}async['updatePrivacySettings'](_0x424db5){const _0x5dc984=a0_0x22d3e1;try{return await this['client']['updateReadReceiptsPrivacy'](_0x424db5['privacySettings']['readreceipts']),await this['client'][_0x5dc984(0x66c)](_0x424db5[_0x5dc984(0x6bc)][_0x5dc984(0xb4)]),await this[_0x5dc984(0x49f)][_0x5dc984(0x52c)](_0x424db5[_0x5dc984(0x6bc)]['status']),await this['client'][_0x5dc984(0x42d)](_0x424db5['privacySettings'][_0x5dc984(0x6db)]),await this[_0x5dc984(0x49f)]['updateLastSeenPrivacy'](_0x424db5[_0x5dc984(0x6bc)][_0x5dc984(0x356)]),await this[_0x5dc984(0x49f)][_0x5dc984(0x6a8)](_0x424db5[_0x5dc984(0x6bc)][_0x5dc984(0x3ac)]),this[_0x5dc984(0x49f)]?.['ws']?.[_0x5dc984(0x119)](),{'update':_0x5dc984(0x210),'data':{'readreceipts':_0x424db5['privacySettings']['readreceipts'],'profile':_0x424db5[_0x5dc984(0x6bc)][_0x5dc984(0xb4)],'status':_0x424db5[_0x5dc984(0x6bc)]['status'],'online':_0x424db5['privacySettings'][_0x5dc984(0x6db)],'last':_0x424db5[_0x5dc984(0x6bc)]['last'],'groupadd':_0x424db5[_0x5dc984(0x6bc)][_0x5dc984(0x3ac)]}};}catch(_0x25ac79){throw new O(_0x5dc984(0x350),_0x25ac79['toString']());}}async[a0_0x22d3e1(0x43f)](_0x10d24c){const _0x4b7a27=a0_0x22d3e1;let _0x26e886=_0x10d24c?this['createJid'](_0x10d24c):this['client']?.[_0x4b7a27(0x50b)]?.['id'];this[_0x4b7a27(0x13f)][_0x4b7a27(0x605)](_0x4b7a27(0x4e0)+_0x26e886);try{if(this['logger'][_0x4b7a27(0x605)](_0x4b7a27(0x41f)),_0x10d24c){let _0x79eaee=(await this['whatsappNumber']({'numbers':[_0x26e886]}))?.[_0x4b7a27(0x85)](),_0xf8fd69=await this[_0x4b7a27(0xd4)](_0x79eaee?.['jid']),_0x44aaaf=await this[_0x4b7a27(0x2a6)](_0x79eaee?.[_0x4b7a27(0x108)]),_0x46afa1=await this[_0x4b7a27(0x63a)](_0x79eaee?.[_0x4b7a27(0x108)]);return{'wuid':_0x79eaee?.[_0x4b7a27(0x108)]||_0x26e886,'name':_0x79eaee?.[_0x4b7a27(0xa8)],'numberExists':_0x79eaee?.['exists'],'picture':_0xf8fd69?.[_0x4b7a27(0x591)],'status':_0x44aaaf?.[_0x4b7a27(0x62d)],'isBusiness':_0x46afa1[_0x4b7a27(0x1df)],'email':_0x46afa1?.['email'],'description':_0x46afa1?.[_0x4b7a27(0x328)],'website':_0x46afa1?.[_0x4b7a27(0xfb)]?.['shift']()};}}catch{return this[_0x4b7a27(0x13f)][_0x4b7a27(0x605)](_0x4b7a27(0x62b)),{'wuid':_0x26e886,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x22d3e1(0x505)](_0x35bee9){const _0x579f51=a0_0x22d3e1;let _0x37e684=(_0x35bee9?this[_0x579f51(0x345)](_0x35bee9):this[_0x579f51(0x49f)]?.[_0x579f51(0x50b)]?.['id'])[_0x579f51(0x3d6)](/:\d{1,2}@/g,'@');this[_0x579f51(0x13f)][_0x579f51(0x605)](_0x579f51(0x4d5)+_0x37e684);let _0x2442e0=await this[_0x579f51(0xaa)][_0x579f51(0x2f0)]['findOne']({'where':{'_id':_0x37e684}},this['instance'][_0x579f51(0x6a5)]),_0x1d4d9c=_0x2442e0?_0x2442e0['pushName']:null;try{let _0xc587b0=(await this[_0x579f51(0x1b9)]({'numbers':[_0x37e684]}))?.[_0x579f51(0x85)](),_0xf92996=await this[_0x579f51(0xd4)](_0xc587b0?.[_0x579f51(0x108)]),_0x17d7e3=await this[_0x579f51(0x2a6)](_0xc587b0?.[_0x579f51(0x108)]),_0x410fc2=await this[_0x579f51(0x63a)](_0xc587b0?.['jid']),_0x56e37c=await this[_0x579f51(0xaa)][_0x579f51(0x147)][_0x579f51(0x639)]({'where':{'_id':_0x37e684}},this[_0x579f51(0x22c)]['wuid']),_0x7ebe30={'imagechat':_0xf92996?.['profilePictureUrl'],'contactname':_0x1d4d9c||null,'status':_0x17d7e3?.['status'],'isBusiness':_0x410fc2[_0x579f51(0x1df)],'email':_0x410fc2?.[_0x579f51(0x2f9)],'description':_0x410fc2?.['description'],'website':_0x410fc2?.['website']?.[_0x579f51(0x85)](),'lastcache':Date[_0x579f51(0x299)](),'imported':!_0x56e37c},_0x44ffbd=await this[_0x579f51(0xaa)][_0x579f51(0x147)][_0x579f51(0x290)]({'where':{'_id':_0x37e684}},_0x7ebe30,this['instance'][_0x579f51(0x6a5)]),_0x40008e={'owner':this['instance'][_0x579f51(0x6a5)],'_id':_0x37e684,'profilePictureUrl':_0xf92996?.[_0x579f51(0x591)],'status':_0x17d7e3?.[_0x579f51(0x62d)]};return this['repository'][_0x579f51(0x2f0)][_0x579f51(0x6aa)]([_0x40008e],this['instance'][_0x579f51(0x6a5)]),_0x44ffbd&&J(this[_0x579f51(0x4c1)],_0x579f51(0x428),{'chat':_0x44ffbd}),{'wuid':_0xc587b0?.[_0x579f51(0x108)]||_0x37e684,'name':_0xc587b0?.[_0x579f51(0xa8)],'numberExists':_0xc587b0?.[_0x579f51(0x346)],'picture':_0xf92996?.[_0x579f51(0x591)],'status':_0x17d7e3?.['status'],'isBusiness':_0x410fc2['isBusiness'],'email':_0x410fc2?.['email'],'description':_0x410fc2?.[_0x579f51(0x328)],'website':_0x410fc2?.[_0x579f51(0xfb)]?.[_0x579f51(0x85)]()};}catch(_0x5e730a){return this['logger']['error']('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0x5e730a instanceof Error?_0x5e730a['message']:JSON[_0x579f51(0x3c5)](_0x5e730a,null,0x2))),{};}}async['fetchBusinessProfile'](_0x1eb0f1){const _0x56ce43=a0_0x22d3e1;this['logger'][_0x56ce43(0x605)](_0x56ce43(0x653));try{let _0xfb1c46=_0x1eb0f1?this['createJid'](_0x1eb0f1):this[_0x56ce43(0x22c)][_0x56ce43(0x6a5)],_0x31590f=await this[_0x56ce43(0x49f)][_0x56ce43(0x10f)](_0xfb1c46);return this['logger'][_0x56ce43(0x605)](_0x56ce43(0x36a)),_0x31590f?(this['logger'][_0x56ce43(0x605)](_0x56ce43(0x6c3)),{'isBusiness':!0x0,..._0x31590f}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x56ce43(0x1b9)]({'numbers':[_0xfb1c46]}))?.[_0x56ce43(0x85)]()};}catch(_0x4dafae){throw new O(_0x56ce43(0x243),_0x4dafae[_0x56ce43(0x12d)]());}}async['getStatus'](_0x2b6816){const _0x5c294c=a0_0x22d3e1;let _0x3694d3=this[_0x5c294c(0x345)](_0x2b6816);try{return{'wuid':_0x3694d3,'status':(await this[_0x5c294c(0x49f)]['fetchStatus'](_0x3694d3))?.[_0x5c294c(0x62d)]};}catch{return{'wuid':_0x3694d3,'status':null};}}async[a0_0x22d3e1(0x239)](_0x399bf3){const _0x48cf69=a0_0x22d3e1;try{return await this[_0x48cf69(0x49f)][_0x48cf69(0x239)](_0x399bf3),{'update':'success'};}catch(_0x13439c){throw new O(_0x48cf69(0x243),_0x13439c[_0x48cf69(0x12d)]());}}async[a0_0x22d3e1(0xa0)](_0x3549f0){const _0x43a2ba=a0_0x22d3e1;try{return await this[_0x43a2ba(0x49f)][_0x43a2ba(0xa0)](_0x3549f0),{'update':'success'};}catch(_0x5cfc57){throw new O(_0x43a2ba(0x2b5),_0x5cfc57[_0x43a2ba(0x12d)]());}}async[a0_0x22d3e1(0x2b1)](_0x4beba0){const _0x168c63=a0_0x22d3e1;try{let _0x9cf920;if((0x0,k['isURL'])(_0x4beba0)){let _0x4d9d8f=new Date()[_0x168c63(0x2c9)](),_0x96e9c0=_0x4beba0+_0x168c63(0x383)+_0x4d9d8f;_0x9cf920=(await se[_0x168c63(0x106)][_0x168c63(0x1e3)](_0x96e9c0,{'responseType':_0x168c63(0x2af)}))[_0x168c63(0x30d)];}else{if((0x0,k[_0x168c63(0x1d2)])(_0x4beba0))_0x9cf920=Buffer['from'](_0x4beba0,_0x168c63(0x113));else throw new m(_0x168c63(0x49d));}return await this[_0x168c63(0x49f)][_0x168c63(0x2b1)](this[_0x168c63(0x22c)][_0x168c63(0x6a5)],_0x9cf920),{'update':_0x168c63(0x210)};}catch(_0x4c411d){throw new O(_0x168c63(0x270),_0x4c411d['toString']());}}async['removeProfilePicture'](){const _0x576e40=a0_0x22d3e1;try{return await this[_0x576e40(0x49f)][_0x576e40(0x470)](this['instance'][_0x576e40(0x6a5)]),{'update':_0x576e40(0x210)};}catch(_0x47cca5){throw new O(_0x576e40(0x5da),_0x47cca5['toString']());}}async[a0_0x22d3e1(0x57b)](_0x20d91c){const _0x2d10e3=a0_0x22d3e1;try{let _0x543ae0=_0x20d91c['participants'][_0x2d10e3(0x2bf)](_0x153833=>this[_0x2d10e3(0x345)](_0x153833)),{id:_0x3af473}=await this[_0x2d10e3(0x49f)]['groupCreate'](_0x20d91c[_0x2d10e3(0x6f0)],_0x543ae0);return _0x20d91c?.[_0x2d10e3(0x328)]&&await this[_0x2d10e3(0x49f)][_0x2d10e3(0x551)](_0x3af473,_0x20d91c['description']),{'metadata':await this[_0x2d10e3(0x49f)][_0x2d10e3(0x1a8)](_0x3af473)};}catch(_0x22901b){throw this[_0x2d10e3(0x13f)][_0x2d10e3(0x411)](this[_0x2d10e3(0x4c1)]+'\x20('+this[_0x2d10e3(0x22c)][_0x2d10e3(0x6a5)]+'):\x20'+(_0x22901b instanceof Error?_0x22901b['message']:JSON[_0x2d10e3(0x3c5)](_0x22901b,null,0x2))),new O(_0x2d10e3(0x295),_0x22901b[_0x2d10e3(0x12d)]());}}async[a0_0x22d3e1(0x61c)](_0x281ad0){const _0x598397=a0_0x22d3e1;try{let _0x5d41f0;if((0x0,k[_0x598397(0x316)])(_0x281ad0[_0x598397(0x43d)])){let _0x222fd8=new Date()[_0x598397(0x2c9)](),_0x19b365=_0x281ad0[_0x598397(0x43d)]+_0x598397(0x383)+_0x222fd8;_0x5d41f0=(await se['default'][_0x598397(0x1e3)](_0x19b365,{'responseType':_0x598397(0x2af)}))[_0x598397(0x30d)];}else{if((0x0,k[_0x598397(0x1d2)])(_0x281ad0[_0x598397(0x43d)]))_0x5d41f0=Buffer[_0x598397(0x616)](_0x281ad0['image'],'base64');else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x598397(0x49f)][_0x598397(0x2b1)](_0x281ad0[_0x598397(0x126)],_0x5d41f0),{'update':_0x598397(0x210)};}catch(_0x5ceca5){throw new O(_0x598397(0x3b6),_0x5ceca5['toString']());}}async[a0_0x22d3e1(0x3bb)](_0x2cfa51,_0x2e0e57=a0_0x22d3e1(0x4ea)){const _0x18008d=a0_0x22d3e1;try{let _0x55c086=await this[_0x18008d(0x49f)][_0x18008d(0x1a8)](_0x2cfa51[_0x18008d(0x126)]),_0x2e1396=null;try{_0x2e1396=(await this['profilePicture'](_0x2cfa51[_0x18008d(0x126)]))[_0x18008d(0x591)];}catch(_0x30d7d6){this[_0x18008d(0x13f)]['verbose'](this[_0x18008d(0x4c1)]+'\x20('+this['instance']['wuid']+_0x18008d(0x58e)+_0x2cfa51[_0x18008d(0x126)]+':\x20'+(_0x30d7d6 instanceof Error?_0x30d7d6[_0x18008d(0x6c4)]:JSON[_0x18008d(0x3c5)](_0x30d7d6,null,0x2)));}let _0x4abee8=await this[_0x18008d(0xaa)][_0x18008d(0x147)][_0x18008d(0x290)]({'where':{'_id':_0x2cfa51[_0x18008d(0x126)]}},{'imagechat':_0x2e1396,'name':_0x55c086[_0x18008d(0x6f0)],'group_size':_0x55c086[_0x18008d(0x27b)],'group_announce':_0x55c086[_0x18008d(0x477)],'lastcache':Date[_0x18008d(0x299)]()},this[_0x18008d(0x22c)][_0x18008d(0x6a5)]);return _0x4abee8&&J(this['instanceName'],_0x18008d(0x428),{'chat':_0x4abee8}),{'metadata':_0x55c086,'image':_0x2e1396};}catch(_0x58a59d){if(_0x2e0e57==='inner')return;throw new j('Error\x20fetching\x20group',_0x58a59d[_0x18008d(0x12d)]());}}async[a0_0x22d3e1(0x190)](_0x44e497){const _0x21a48c=a0_0x22d3e1;try{return await this[_0x21a48c(0x49f)][_0x21a48c(0x551)](_0x44e497[_0x21a48c(0x126)],_0x44e497[_0x21a48c(0x328)]),{'update':'success'};}catch(_0x6a4600){throw new O(_0x21a48c(0x3d2),_0x6a4600[_0x21a48c(0x12d)]());}}async['groupName'](_0x294190){const _0x2b37f7=a0_0x22d3e1;try{return await this[_0x2b37f7(0x49f)][_0x2b37f7(0x42b)](_0x294190[_0x2b37f7(0x126)],_0x294190[_0x2b37f7(0xa8)]),{'update':_0x2b37f7(0x210)};}catch(_0xd25355){throw new O(_0x2b37f7(0x4b0),_0xd25355[_0x2b37f7(0x12d)]());}}async[a0_0x22d3e1(0x666)](_0x4ba818){const _0x436c12=a0_0x22d3e1;try{return await this[_0x436c12(0x49f)][_0x436c12(0x4cf)](_0x4ba818[_0x436c12(0x126)],_0x4ba818['setting']),{'update':'success'};}catch(_0x1c66c6){throw new O('Error\x20change\x20group\x20setting',_0x1c66c6[_0x436c12(0x12d)]());}}async['findGroups'](){const _0x5eb893=a0_0x22d3e1;try{let _0x4b5f22=[],_0x453d01=await this[_0x5eb893(0x49f)][_0x5eb893(0xb0)](),_0x5ac117=Object[_0x5eb893(0x590)](_0x453d01),_0x1f5262=_0x5ac117[_0x5eb893(0x560)](_0x4dc53c=>(0x0,y[_0x5eb893(0x31d)])(_0x4dc53c?.['id']))['map'](async _0x217a5e=>{const _0x493659=_0x5eb893;try{return await this[_0x493659(0x49f)]['profilePictureUrl'](_0x217a5e['id'],_0x493659(0x366));}catch(_0x27a8a4){return this[_0x493659(0x13f)][_0x493659(0x605)](this[_0x493659(0x4c1)]+'\x20('+this['instance']['wuid']+_0x493659(0x58e)+_0x217a5e['id']+':\x20'+(_0x27a8a4 instanceof Error?_0x27a8a4[_0x493659(0x6c4)]:JSON[_0x493659(0x3c5)](_0x27a8a4,null,0x2))),null;}}),_0xfdf9a4=await Promise['all'](_0x1f5262);for(let _0x192cca=0x0;_0x192cca<_0x5ac117[_0x5eb893(0x4b3)];_0x192cca++){let _0x4cc8d3=_0x5ac117[_0x192cca];(0x0,y['isJidGroup'])(_0x4cc8d3?.['id'])&&_0x4b5f22[_0x5eb893(0x435)]({'groupJid':_0x4cc8d3?.['id'],'subject':_0x4cc8d3?.[_0x5eb893(0x6f0)],'subjectOwner':_0x4cc8d3?.[_0x5eb893(0x201)]?.[_0x5eb893(0x142)]('@')[0x0],'subjectTime':_0x4cc8d3?.[_0x5eb893(0x6f2)],'size':_0x4cc8d3?.[_0x5eb893(0x648)]?.[_0x5eb893(0x4b3)],'owner':_0x4cc8d3?.[_0x5eb893(0x132)]?.[_0x5eb893(0x142)]('@')[0x0],'creation':_0x4cc8d3?.['creation'],'desc':_0x4cc8d3?.[_0x5eb893(0x5d5)],'restrict':_0x4cc8d3?.['restrict'],'announce':_0x4cc8d3?.[_0x5eb893(0x477)],'image':_0xfdf9a4[_0x192cca]});}return _0x4b5f22;}catch(_0x1b8b7d){throw new j(_0x5eb893(0x11e),_0x1b8b7d['toString']());}}async[a0_0x22d3e1(0x510)](_0x40ecfa){const _0x5e5792=a0_0x22d3e1;try{let _0x4f138a=await this[_0x5e5792(0x49f)]['groupInviteCode'](_0x40ecfa[_0x5e5792(0x126)]);return{'inviteUrl':_0x5e5792(0x504)+_0x4f138a,'inviteCode':_0x4f138a};}catch(_0x653b7d){throw new j(_0x5e5792(0x1ac),_0x653b7d[_0x5e5792(0x12d)]());}}async[a0_0x22d3e1(0x99)](_0x47ab78){const _0x188060=a0_0x22d3e1;try{let _0x240f87=await this[_0x188060(0x49f)][_0x188060(0x2f5)](_0x47ab78[_0x188060(0x126)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x240f87,'inviteCode':_0x240f87};}catch(_0x5d59e5){throw new j(_0x188060(0x5d0),_0x5d59e5[_0x188060(0x12d)]());}}async[a0_0x22d3e1(0x84)](_0x5bcee1){const _0x129565=a0_0x22d3e1;try{if((0x0,k[_0x129565(0x316)])(_0x5bcee1[_0x129565(0x510)]))var _0x455be6=_0x5bcee1['inviteCode'][_0x129565(0x142)]('/')[0x3];else var _0x455be6=_0x5bcee1[_0x129565(0x510)];let _0x132fb6=await this[_0x129565(0x49f)][_0x129565(0x5ef)](_0x455be6);return this[_0x129565(0x13f)][_0x129565(0x605)](this[_0x129565(0x4c1)]+'\x20('+this[_0x129565(0x22c)][_0x129565(0x6a5)]+'):\x20'+_0x132fb6),{'join':!0x0,'inviteCode':_0x455be6,'groupJid':_0x132fb6};}catch(_0x3d3357){throw new j(_0x129565(0x259),_0x3d3357[_0x129565(0x12d)]());}}async[a0_0x22d3e1(0x140)](_0x3fdaf1){const _0x222be3=a0_0x22d3e1;try{return{'participants':(await this[_0x222be3(0x49f)][_0x222be3(0x1a8)](_0x3fdaf1[_0x222be3(0x126)]))[_0x222be3(0x648)]};}catch(_0xa80c40){throw new j(_0x222be3(0x4c5),_0xa80c40[_0x222be3(0x12d)]());}}async[a0_0x22d3e1(0xab)](_0x2a800){const _0x2bd0b9=a0_0x22d3e1;try{let _0x2a1448=_0x2a800[_0x2bd0b9(0x648)]['map'](_0x486cb0=>this[_0x2bd0b9(0x345)](_0x486cb0));return{'updateParticipants':await this[_0x2bd0b9(0x49f)][_0x2bd0b9(0x211)](_0x2a800[_0x2bd0b9(0x126)],_0x2a1448,_0x2a800[_0x2bd0b9(0x55d)])};}catch(_0x5dfe78){throw new m(_0x2bd0b9(0x1c9),_0x5dfe78[_0x2bd0b9(0x12d)]());}}async[a0_0x22d3e1(0x674)](_0x1e2032){const _0x2a15ab=a0_0x22d3e1;try{let _0xe026ff=await this[_0x2a15ab(0x49f)][_0x2a15ab(0x525)](_0x1e2032[_0x2a15ab(0x126)],_0x1e2032['expiration']);return{'success':!0x0};}catch(_0x1cdf3a){throw new m(_0x2a15ab(0x129),_0x1cdf3a[_0x2a15ab(0x12d)]());}}async['leaveGroup'](_0x4521d6){const _0x1e065b=a0_0x22d3e1;try{return await this[_0x1e065b(0x49f)][_0x1e065b(0x390)](_0x4521d6['groupJid']),{'groupJid':_0x4521d6[_0x1e065b(0x126)],'leave':!0x0};}catch(_0x180fac){throw new m('Unable\x20to\x20leave\x20the\x20group',_0x180fac[_0x1e065b(0x12d)]());}}async[a0_0x22d3e1(0x280)](_0x4589dc){const _0x52df46=a0_0x22d3e1;return await this[_0x52df46(0x694)](_0x4589dc['number'],{'poll':{'name':_0x4589dc[_0x52df46(0x280)]?.[_0x52df46(0xa8)],'selectableCount':_0x4589dc['pollMessage'][_0x52df46(0xd8)],'values':_0x4589dc[_0x52df46(0x280)][_0x52df46(0x590)]}},_0x4589dc?.[_0x52df46(0x14a)]);}async[a0_0x22d3e1(0x626)](_0x258f22){const _0x363ef8=a0_0x22d3e1;return await this['sendMessageWithTyping'](_0x258f22['number'],{'listMessage':{'title':_0x258f22[_0x363ef8(0x626)]['title'],'description':_0x258f22[_0x363ef8(0x626)]['description'],'buttonText':_0x258f22[_0x363ef8(0x626)]?.[_0x363ef8(0x488)],'footerText':_0x258f22[_0x363ef8(0x626)]?.[_0x363ef8(0x331)],'sections':_0x258f22[_0x363ef8(0x626)]['sections'],'listType':0x2}},_0x258f22?.[_0x363ef8(0x14a)]);}async[a0_0x22d3e1(0x87)](_0x10ad68){const _0x5e469d=a0_0x22d3e1;let _0x262180;if(_0x10ad68[_0x5e469d(0x87)]['type']==='list'){let _0x2f6abf=_0x10ad68['menuMessage'][_0x5e469d(0x546)]['indexOf']('\x0a'),_0x27efdc='',_0x3b74a3='';_0x2f6abf!==-0x1?(_0x27efdc=_0x10ad68[_0x5e469d(0x87)][_0x5e469d(0x546)][_0x5e469d(0x5bf)](0x0,_0x2f6abf)[_0x5e469d(0x2dd)](),_0x3b74a3=_0x10ad68[_0x5e469d(0x87)][_0x5e469d(0x546)][_0x5e469d(0x5bf)](_0x2f6abf+0x1)):_0x3b74a3=_0x10ad68[_0x5e469d(0x87)][_0x5e469d(0x546)];let _0xdd4fe5=this['createSectionsFromValues'](_0x10ad68['menuMessage'][_0x5e469d(0x3b3)]);_0x262180={'listMessage':{'title':_0x27efdc,'description':_0x3b74a3,'buttonText':_0x10ad68[_0x5e469d(0x87)][_0x5e469d(0x488)]||'Selecione','footerText':_0x10ad68['menuMessage']['footerText'],'sections':_0xdd4fe5,'listType':0x2}};}else{if(_0x10ad68[_0x5e469d(0x87)][_0x5e469d(0x255)]===_0x5e469d(0x293)){let _0x1d920f=_0x10ad68['menuMessage'][_0x5e469d(0x3b3)][_0x5e469d(0x560)](_0x177a13=>!(_0x177a13[_0x5e469d(0x218)]('[')&&_0x177a13['endsWith'](']')))['map'](_0x49dd3d=>_0x49dd3d[_0x5e469d(0x142)]('\x0a')[0x0]);_0x262180={'poll':{'name':_0x10ad68[_0x5e469d(0x87)]['text'],'selectableCount':_0x10ad68[_0x5e469d(0x87)]['selectableCount']||0x1,'values':_0x1d920f}};}}return await this['sendMessageWithTyping'](_0x10ad68[_0x5e469d(0x3c3)],_0x262180,_0x10ad68?.[_0x5e469d(0x14a)]);}[a0_0x22d3e1(0x325)](_0x514574){const _0x1088fc=a0_0x22d3e1;let _0xcf02c2=[],_0x12badc={'rows':[]};return _0x514574['forEach'](_0x26168e=>{const _0x4e6508=a0_0x2c76;if(_0x26168e[_0x4e6508(0x218)]('[')&&_0x26168e[_0x4e6508(0x28b)](']'))_0x12badc[_0x4e6508(0x16a)]['length']>0x0&&_0xcf02c2['push'](_0x12badc),_0x12badc={'title':_0x26168e[_0x4e6508(0x1d4)](0x1,-0x1),'rows':[]};else{let _0x9d6357=_0x26168e[_0x4e6508(0x142)]('\x0a')[_0x4e6508(0x2bf)](_0x2cd095=>_0x2cd095[_0x4e6508(0x2dd)]()),_0x1b244a=_0x9d6357[0x0],_0x2e9413=_0x9d6357[0x1]||null,_0x12b110=_0x9d6357[0x2]||_0x1b244a;_0x12badc[_0x4e6508(0x16a)][_0x4e6508(0x435)]({'title':_0x1b244a,'description':_0x2e9413,'rowId':_0x12b110});}}),_0x12badc['rows'][_0x1088fc(0x4b3)]>0x0&&_0xcf02c2['push'](_0x12badc),_0xcf02c2;}async['updateMessage'](_0x1f6409,_0x18a85d){const _0x5ddd2=a0_0x22d3e1;if(await this['getMessage'](_0x1f6409,!0x0)){let _0x442523={'where':{'_id':_0x1f6409['id']}},_0x3d7635={'status':[_0x18a85d['status']][0x0]};try{let _0x376754=await this[_0x5ddd2(0xaa)][_0x5ddd2(0x6c4)][_0x5ddd2(0x6aa)](_0x442523,_0x3d7635,this[_0x5ddd2(0x22c)]['wuid']);_0x376754&&J(this['instanceName'],'messages',{'message':_0x376754});}catch{}}}[a0_0x22d3e1(0x48a)](_0x347b58){const _0x4b05c6=a0_0x22d3e1;let _0x4ed578=[];return _0x347b58[_0x4b05c6(0x2ee)](_0x5acb73=>{const _0x1d9592=_0x4b05c6;_0x5acb73['title']&&_0x4ed578[_0x1d9592(0x435)]('['+_0x5acb73['title']+']'),_0x5acb73[_0x1d9592(0x16a)][_0x1d9592(0x2ee)](_0x3125a3=>{const _0x8f691f=_0x1d9592;_0x4ed578[_0x8f691f(0x435)](_0x3125a3[_0x8f691f(0x64c)]);});}),_0x4ed578['join']('|');}[a0_0x22d3e1(0x47e)](_0x1ed7a8){const _0x4473c8=a0_0x22d3e1;let _0x5dba1b=_0x1ed7a8[_0x4473c8(0x3d6)](/\\n/g,'\x0a')[_0x4473c8(0x142)]('\x0a')[_0x4473c8(0x560)](_0x7b3d70=>_0x7b3d70[_0x4473c8(0x6e8)](_0x4473c8(0x1e9))||_0x7b3d70[_0x4473c8(0x6e8)](_0x4473c8(0x9f))),_0x3e60e9='';return _0x5dba1b[_0x4473c8(0x2ee)](_0x1f0e5d=>{const _0x4238ac=_0x4473c8;let _0x151051=/TEL(?:.*):(.+)/,_0x344e52=/EMAIL(?:.*):(.+)/,_0x389fd3=_0x1f0e5d['match'](_0x151051),_0x4d0400=_0x1f0e5d[_0x4238ac(0x4e1)](_0x344e52);if(_0x389fd3){let _0x25561f=_0x389fd3[0x1][_0x4238ac(0x3d6)](/-| |\+|\(|\)/g,'')[_0x4238ac(0x2dd)]();_0x3e60e9+=_0x4238ac(0x8d)+_0x25561f+'\x0a';}else{if(_0x4d0400){let _0x592c93=_0x4d0400[0x1][_0x4238ac(0x2dd)]();_0x3e60e9+=_0x4238ac(0x595)+_0x592c93+'\x0a';}}}),_0x3e60e9[_0x4473c8(0x2dd)]();}async[a0_0x22d3e1(0x511)](_0x3cfa61,_0x3e557b,_0x3dcf49){const _0x1b445c=a0_0x22d3e1;if(!_0x3cfa61['ENABLED'])return;let _0x413254=_0x3e557b[_0x1b445c(0x644)][_0x1b445c(0x412)][_0x1b445c(0x3d6)](/:\d{1,2}@/g,'@'),_0x32979c=_0x3e557b[_0x1b445c(0x644)][_0x1b445c(0xb6)],_0x367a0d=_0x413254[_0x1b445c(0x28b)](_0x1b445c(0x185)),_0xfb167f=_0x3e557b[_0x1b445c(0x4e6)]?.[_0x1b445c(0x546)]||_0x3e557b[_0x1b445c(0x4e6)]?.[_0x1b445c(0x6d8)]||_0x3e557b[_0x1b445c(0x4e6)]?.[_0x1b445c(0x5bd)]||_0x3e557b[_0x1b445c(0x4e6)]?.['name'],_0x393350={'lastmsg':_0x3e557b[_0x1b445c(0x3b8)]||Date[_0x1b445c(0x299)](),'unreadcount':_0x32979c?0x0:0x1,..._0x32979c||_0x367a0d?{}:{'name':_0x3e557b[_0x1b445c(0x2a7)]},..._0x367a0d?{'group':_0x367a0d}:{}},_0x3a75a0=await this[_0x1b445c(0xaa)][_0x1b445c(0x147)][_0x1b445c(0x290)]({'where':{'_id':_0x413254}},_0x393350,this[_0x1b445c(0x22c)]['wuid'],{'new':!0x0,'upsert':!0x0});if(_0x3a75a0[_0x1b445c(0x24f)]){let _0x34a737=await this[_0x1b445c(0xaa)][_0x1b445c(0x3e9)][_0x1b445c(0x39d)]({'where':{}},this['instance'][_0x1b445c(0x6a5)]),_0x483644=new Set(_0x34a737[_0x1b445c(0x2bf)](_0x180caa=>_0x180caa[_0x1b445c(0x494)])),_0x40a9c4=(_0x3a75a0['leadInfo']?.[_0x1b445c(0x46d)]||[])[_0x1b445c(0x560)](_0x14f449=>_0x483644[_0x1b445c(0x569)](_0x14f449)),_0xd7b4ee={'leadInfo.etiquetas':_0x40a9c4,'imported':!0x1};_0x3a75a0=await this[_0x1b445c(0xaa)][_0x1b445c(0x147)][_0x1b445c(0x290)]({'where':{'_id':_0x413254}},_0xd7b4ee,this['instance']['wuid']);for(let _0xb251a3 of _0x40a9c4)await this['AddChatLabel'](_0xb251a3,_0x413254);}if(!_0x367a0d&&(!_0x3a75a0?.[_0x1b445c(0x3f0)]||!_0x3a75a0[_0x1b445c(0x3f0)][_0x1b445c(0x25c)])&&_0x3e557b['pushName']&&!_0x32979c&&(_0x3a75a0=await this[_0x1b445c(0xaa)][_0x1b445c(0x147)][_0x1b445c(0x290)]({'where':{'_id':_0x413254}},{'leadInfo.nome':_0x3e557b[_0x1b445c(0x2a7)]},this['instance'][_0x1b445c(0x6a5)],{'new':!0x0,'upsert':!0x0})),_0x3dcf49===_0x1b445c(0x66b)&&_0x32979c&&this[_0x1b445c(0x41d)]?.['flowConfig'][_0x1b445c(0x5d7)]&&!_0xfb167f[_0x1b445c(0x218)](this[_0x1b445c(0x41d)]?.[_0x1b445c(0x2c0)][_0x1b445c(0x532)])){let _0x2eb18d=(this[_0x1b445c(0x41d)]?.[_0x1b445c(0x2c0)][_0x1b445c(0x486)]||0x5)*0xea60,_0x5ada18=Date[_0x1b445c(0x299)]()+_0x2eb18d;_0x3a75a0?.[_0x1b445c(0x3f0)]?.[_0x1b445c(0x253)]===0x0||(await this[_0x1b445c(0xaa)][_0x1b445c(0x147)][_0x1b445c(0x290)]({'where':{'_id':_0x413254}},{'leadInfo.desativadoFluxoAte':_0x5ada18},this['instance'][_0x1b445c(0x6a5)],{'new':!0x0,'upsert':!0x1}),this['logger'][_0x1b445c(0x605)](this[_0x1b445c(0x4c1)]+'\x20('+this[_0x1b445c(0x22c)][_0x1b445c(0x6a5)]+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x5ada18+'.'));}if(_0x3a75a0)J(this['instanceName'],_0x1b445c(0x428),{'chat':_0x3a75a0});else{this['logger'][_0x1b445c(0x411)](this[_0x1b445c(0x4c1)]+'\x20('+this[_0x1b445c(0x22c)]['wuid']+_0x1b445c(0x46c));return;}if(!this[_0x1b445c(0x41d)]?.[_0x1b445c(0x2c0)][_0x1b445c(0x5d7)])return this[_0x1b445c(0x13f)][_0x1b445c(0x605)](this[_0x1b445c(0x4c1)]+'\x20('+this['instance'][_0x1b445c(0x6a5)]+_0x1b445c(0x5cd)),null;if(_0x3a75a0[_0x1b445c(0x494)][_0x1b445c(0x6e8)](_0x1b445c(0x185))&&this['AutomateSystem']?.[_0x1b445c(0x2c0)]['ignoreGroups']===!0x0)return this[_0x1b445c(0x13f)][_0x1b445c(0x605)](this['instanceName']+'\x20('+this[_0x1b445c(0x22c)]['wuid']+_0x1b445c(0x416)),null;if(_0x3a75a0[_0x1b445c(0x3f0)]){if(_0x3a75a0[_0x1b445c(0x3f0)][_0x1b445c(0x253)]===0x0||_0x3a75a0[_0x1b445c(0x3f0)][_0x1b445c(0x329)])return this[_0x1b445c(0x13f)]['verbose'](this[_0x1b445c(0x4c1)]+'\x20('+this[_0x1b445c(0x22c)][_0x1b445c(0x6a5)]+_0x1b445c(0x512)+_0x413254+',\x20saindo.'),null;if(_0x3a75a0[_0x1b445c(0x3f0)]['desativadoFluxoAte']>Date[_0x1b445c(0x299)]()&&!_0x3e557b['message_normalized']?.[_0x1b445c(0x5bd)])return this['logger'][_0x1b445c(0x605)](this[_0x1b445c(0x4c1)]+'\x20('+this[_0x1b445c(0x22c)][_0x1b445c(0x6a5)]+_0x1b445c(0x5a2)+new Date(_0x3a75a0[_0x1b445c(0x3f0)][_0x1b445c(0x253)])[_0x1b445c(0x35e)]()+_0x1b445c(0x267)),null;}this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x1b445c(0x22c)][_0x1b445c(0x6a5)]+_0x1b445c(0x17b)),this['StartBot'](_0x3dcf49,_0x3e557b);}async[a0_0x22d3e1(0x47d)](_0xb471ab,_0x4164e3){const _0x157df7=a0_0x22d3e1;if(_0x4164e3[_0x157df7(0x34a)]){let _0x1f2e20=_0xb471ab['map'](async _0x3f826a=>{const _0x13380c=_0x157df7;try{let _0x2f6532={'_id':_0x3f826a[_0x13380c(0x494)],'owner':_0x3f826a[_0x13380c(0x132)],'lastcache':0x0};if(_0x3f826a['group']!==null&&(_0x2f6532['group']=_0x3f826a['group']),_0x3f826a[_0x13380c(0xa8)]!==null&&(_0x2f6532['name']=_0x3f826a['name']),_0x3f826a[_0x13380c(0x10d)]!==null&&(_0x2f6532['contactname']=_0x3f826a[_0x13380c(0x10d)]),_0x3f826a[_0x13380c(0x51a)]!==null&&(_0x2f6532[_0x13380c(0x51a)]=_0x3f826a[_0x13380c(0x51a)]),_0x3f826a['imagechat']===null&&(_0x2f6532[_0x13380c(0x51a)]=_0x13380c(0x407)),_0x3f826a[_0x13380c(0xbc)]!==null&&(_0x2f6532[_0x13380c(0xbc)]=_0x3f826a[_0x13380c(0xbc)]),_0x3f826a['archived']!==null&&(_0x2f6532[_0x13380c(0x3a4)]=_0x3f826a[_0x13380c(0x3a4)]),_0x3f826a[_0x13380c(0x174)]!==null&&(_0x2f6532[_0x13380c(0x174)]=_0x3f826a[_0x13380c(0x174)]),Object[_0x13380c(0x55f)](_0x2f6532)[_0x13380c(0x4b3)]>0x0)return await this['repository'][_0x13380c(0x147)][_0x13380c(0x290)]({'where':{'_id':_0x3f826a['_id']}},_0x2f6532,this[_0x13380c(0x22c)]['wuid']);}catch(_0x1f950a){return console[_0x13380c(0x411)](_0x13380c(0x297)+_0x3f826a['_id']+':',_0x1f950a),null;}}),_0x5f2272=(await Promise['all'](_0x1f2e20))[_0x157df7(0x560)](_0x1263d9=>_0x1263d9!==null)['length'];this['logger'][_0x157df7(0x605)](this[_0x157df7(0x4c1)]+'\x20('+this[_0x157df7(0x22c)][_0x157df7(0x6a5)]+_0x157df7(0x1fd)+_0x5f2272+_0x157df7(0x485)+this[_0x157df7(0x22c)][_0x157df7(0x6a5)]+_0x157df7(0x6de));}}async[a0_0x22d3e1(0x134)](_0x4ae8d7){const _0x1e69f7=a0_0x22d3e1;this[_0x1e69f7(0x13f)]['verbose'](this[_0x1e69f7(0x4c1)]+'\x20('+this[_0x1e69f7(0x22c)]['wuid']+_0x1e69f7(0x263));let _0x4b784c={'readMessages':[{'remoteJid':_0x4ae8d7[_0x1e69f7(0x564)][_0x1e69f7(0x2a0)]['key']['remoteJid'],'fromMe':_0x4ae8d7[_0x1e69f7(0x564)]['lastReceivedMessage']['key'][_0x1e69f7(0xb6)],'id':_0x4ae8d7[_0x1e69f7(0x564)]['lastReceivedMessage'][_0x1e69f7(0x644)]['id']}]};await this[_0x1e69f7(0x3c9)](_0x4b784c);}async['StartBot'](_0x4e6148,_0x211957){const _0x8b8e0c=a0_0x22d3e1;try{let {key:_0x354d2d,message_normalized:_0x4f215f}=_0x211957,_0x50378d=_0x4f215f,_0x59833b=_0x4f215f[_0x8b8e0c(0x546)]||_0x4f215f[_0x8b8e0c(0x6d8)]||_0x4f215f[_0x8b8e0c(0x5bd)]||_0x4f215f[_0x8b8e0c(0xa8)],_0x5f097d=_0x354d2d[_0x8b8e0c(0x412)],_0x114054;if(_0x50378d[_0x8b8e0c(0x644)][_0x8b8e0c(0xb6)]&&_0x59833b[_0x8b8e0c(0x2dd)]()!==this[_0x8b8e0c(0x41d)]?.[_0x8b8e0c(0x2c0)][_0x8b8e0c(0x4a4)][_0x8b8e0c(0x2dd)]())return this[_0x8b8e0c(0x13f)][_0x8b8e0c(0x605)](this['instanceName']+'\x20('+this[_0x8b8e0c(0x22c)]['wuid']+_0x8b8e0c(0x1cd)),null;if(_0x50378d[_0x8b8e0c(0x644)][_0x8b8e0c(0xb6)]&&_0x59833b[_0x8b8e0c(0x2dd)]()===this['AutomateSystem']?.[_0x8b8e0c(0x2c0)]['stopConversation']['trim']()){this[_0x8b8e0c(0x13f)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x8b8e0c(0x6a5)]+_0x8b8e0c(0x18b));let _0x2c0c1a=await this[_0x8b8e0c(0xaa)][_0x8b8e0c(0x207)]['find']({'remoteJid':_0x5f097d,'status':_0x8b8e0c(0x4d1)},this[_0x8b8e0c(0x22c)][_0x8b8e0c(0x6a5)]);this[_0x8b8e0c(0x13f)][_0x8b8e0c(0x605)](this[_0x8b8e0c(0x4c1)]+'\x20('+this['instance'][_0x8b8e0c(0x6a5)]+_0x8b8e0c(0x10e)+_0x2c0c1a);let _0x454b35=Date[_0x8b8e0c(0x299)](),_0x181816;return this[_0x8b8e0c(0x41d)]?.[_0x8b8e0c(0x2c0)][_0x8b8e0c(0x5b8)]===0x0?_0x181816={'stoppedUntil':_0x454b35+0x7591f6200}:_0x181816={'stoppedUntil':_0x454b35+this[_0x8b8e0c(0x41d)]?.[_0x8b8e0c(0x2c0)][_0x8b8e0c(0x5b8)]*0x3c*0x3e8},this['logger'][_0x8b8e0c(0x605)](this[_0x8b8e0c(0x4c1)]+'\x20('+this[_0x8b8e0c(0x22c)][_0x8b8e0c(0x6a5)]+_0x8b8e0c(0x4ca)+_0x181816),this[_0x8b8e0c(0x4e9)](_0x114054,_0x181816['stoppedUntil']),null;}if(_0x59833b&&_0x59833b[_0x8b8e0c(0x218)](this[_0x8b8e0c(0x41d)]?.[_0x8b8e0c(0x2c0)]['prefixCommand'])&&_0x59833b[_0x8b8e0c(0x4b3)]>0x4){let _0x4d0906=await this['repository'][_0x8b8e0c(0x2c2)][_0x8b8e0c(0x639)]({'where':{'startCommandWord':_0x59833b}},this[_0x8b8e0c(0x22c)][_0x8b8e0c(0x6a5)]);if(this[_0x8b8e0c(0x13f)][_0x8b8e0c(0x605)](this['instanceName']+'\x20('+this[_0x8b8e0c(0x22c)]['wuid']+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x4d0906)_0x114054=await this['createNewConversation'](_0x4d0906,_0x50378d['key'],_0x50378d);else return this[_0x8b8e0c(0x13f)]['verbose'](this[_0x8b8e0c(0x4c1)]+'\x20('+this[_0x8b8e0c(0x22c)][_0x8b8e0c(0x6a5)]+_0x8b8e0c(0x225)),null;}else _0x114054=await this[_0x8b8e0c(0x2ae)](_0x5f097d,_0x50378d);if(_0x114054){this[_0x8b8e0c(0x13f)][_0x8b8e0c(0x605)](this[_0x8b8e0c(0x4c1)]+'\x20('+this[_0x8b8e0c(0x22c)][_0x8b8e0c(0x6a5)]+_0x8b8e0c(0x502)),!_0x354d2d[_0x8b8e0c(0xb6)]&&_0x114054[_0x8b8e0c(0x60f)]&&this['readMessageBot'](_0x114054);let _0x193bbc=await this['NextBlock'](_0x114054);_0x193bbc&&await this[_0x8b8e0c(0x3fe)](_0x114054,_0x193bbc);}}catch(_0x1201b5){this[_0x8b8e0c(0x13f)][_0x8b8e0c(0x411)](this[_0x8b8e0c(0x4c1)]+'\x20('+this['instance'][_0x8b8e0c(0x6a5)]+_0x8b8e0c(0x169)+(_0x1201b5 instanceof Error?_0x1201b5[_0x8b8e0c(0x6c4)]:JSON['stringify'](_0x1201b5,null,0x2)));}}[a0_0x22d3e1(0x44d)](_0x436b5f,_0x5f54df='',_0x30b76b={},_0x2bb127=!0x0){const _0x1e1d28=a0_0x22d3e1;for(let _0x41aa41 in _0x436b5f){let _0x46dd00=_0x2bb127?'_'+_0x41aa41:''+_0x5f54df+_0x41aa41;typeof _0x436b5f[_0x41aa41]==_0x1e1d28(0x4f2)&&_0x436b5f[_0x41aa41]!==null?this[_0x1e1d28(0x44d)](_0x436b5f[_0x41aa41],_0x46dd00+'.',_0x30b76b,!0x1):_0x30b76b[_0x46dd00]=String(_0x436b5f[_0x41aa41]);}return _0x30b76b;}['variablesToObject'](_0x51f474){const _0x530a48=a0_0x22d3e1;let _0x23612d={};for(let _0x4f4298 of _0x51f474)typeof _0x4f4298[_0x530a48(0xa8)]=='string'&&typeof _0x4f4298[_0x530a48(0x521)]==_0x530a48(0x53f)&&(_0x23612d[_0x4f4298[_0x530a48(0xa8)]]=_0x4f4298[_0x530a48(0x521)]);return _0x23612d;}async[a0_0x22d3e1(0x424)](_0x8f5ea0){const _0x236f43=a0_0x22d3e1;if(!this['AutomateSystem']?.['flowConfig'][_0x236f43(0x5d7)]||_0x8f5ea0[_0x236f43(0x62d)]!==_0x236f43(0x4d1)&&_0x8f5ea0[_0x236f43(0x657)]==='')return null;let _0x1108f8=_0x8f5ea0[_0x236f43(0x564)][_0x236f43(0x4f0)]||_0x236f43(0x550);typeof _0x8f5ea0['chatLog'][_0x236f43(0x667)]>'u'&&(_0x8f5ea0[_0x236f43(0x564)][_0x236f43(0x667)]=!0x0);let _0x133952=_0x8f5ea0[_0x236f43(0x564)][_0x236f43(0x667)];this[_0x236f43(0x13f)][_0x236f43(0x605)](this[_0x236f43(0x4c1)]+'\x20('+this['instance'][_0x236f43(0x6a5)]+_0x236f43(0x8c)+_0x1108f8+',\x20lastCondition:\x20'+_0x133952);let _0x2e0bcc=_0x1108f8===_0x236f43(0x550)?_0x8f5ea0[_0x236f43(0x459)][_0x236f43(0x39d)](_0x172b3c=>_0x172b3c[_0x236f43(0x255)]===_0x236f43(0x550)):_0x8f5ea0[_0x236f43(0x459)][_0x236f43(0x39d)](_0x2854a0=>_0x2854a0['_id']['toString']()===_0x1108f8['toString']());if(!_0x2e0bcc)return this['logger'][_0x236f43(0x411)](this[_0x236f43(0x4c1)]+'\x20('+this['instance'][_0x236f43(0x6a5)]+_0x236f43(0x258)+_0x1108f8),null;let _0x134022={'_pushName':_0x8f5ea0[_0x236f43(0x564)][_0x236f43(0x2a0)][_0x236f43(0x2a7)],..._0x8f5ea0[_0x236f43(0x564)]['realVariables']},_0x4926e2=null;if(_0x8f5ea0['waitingMenu_id']){let _0x21de74=_0x8f5ea0['chatLog'][_0x236f43(0x2a0)][_0x236f43(0x5bd)],_0x3ada92=_0x8f5ea0['waitingMenu_replyOptions']['find'](_0x7d9eed=>_0x7d9eed[_0x236f43(0x149)]===_0x21de74);if(_0x3ada92){let _0xeea58f=_0x3ada92[_0x236f43(0x5cf)];if(_0x4926e2=_0x8f5ea0['blocks']['find'](_0x143184=>_0x143184['groupId']===_0xeea58f&&_0x143184['order']===0x1),_0x2e0bcc[_0x236f43(0x500)][_0x236f43(0x12f)]){let _0x253bcf={'id':_0x8f5ea0[_0x236f43(0x657)],'remoteJid':_0x8f5ea0[_0x236f43(0x412)],'fromMe':!0x0};await this[_0x236f43(0x1ec)](_0x253bcf);}if(_0x2e0bcc[_0x236f43(0x500)][_0x236f43(0x12f)]&&_0x2e0bcc[_0x236f43(0x500)][_0x236f43(0x483)]&&_0x2e0bcc[_0x236f43(0x500)][_0x236f43(0x110)]===_0x236f43(0x293)){let _0x3243d4={'number':_0x8f5ea0['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x236f43(0x6c8)+_0x8f5ea0[_0x236f43(0x444)]+_0x236f43(0x49a)+_0x21de74}};await this[_0x236f43(0x143)](_0x3243d4);}_0x8f5ea0[_0x236f43(0x62d)]=_0x236f43(0x4d1),_0x8f5ea0[_0x236f43(0x657)]='',_0x8f5ea0[_0x236f43(0x444)]='',_0x8f5ea0[_0x236f43(0x6d0)]=[];}else{this[_0x236f43(0x13f)][_0x236f43(0x605)](this['instanceName']+'\x20('+this[_0x236f43(0x22c)]['wuid']+_0x236f43(0x376));let _0x150282={'activatedCount':_0x8f5ea0[_0x236f43(0x564)]['blockLogs']['filter'](_0x1b2630=>String(_0x1b2630[_0x236f43(0x516)])===String(_0x1108f8))[_0x236f43(0x4b3)],'moreLogs':[_0x236f43(0x2e9)]};if(_0x2e0bcc[_0x236f43(0x500)][_0x236f43(0x16d)]){let _0x21b66b={'number':_0x8f5ea0[_0x236f43(0x412)],'options':{'delay':0x0},'textMessage':{'text':_0x2e0bcc[_0x236f43(0x500)]['pollErrorMessage']}};await this[_0x236f43(0x143)](_0x21b66b);}if(_0x2e0bcc[_0x236f43(0x34e)]!==void 0x0&&_0x150282[_0x236f43(0x4fe)]>=_0x2e0bcc[_0x236f43(0x34e)]){let _0x211cfa=Date[_0x236f43(0x299)](),_0x24c3dd=_0x2e0bcc[_0x236f43(0x699)]??0xa;isNaN(_0x24c3dd)&&(_0x24c3dd=0xa);let _0x1fe9ce=_0x211cfa+_0x24c3dd*0x3c*0x3e8;_0x150282['newStoppedUntil']=_0x1fe9ce,_0x150282[_0x236f43(0x2da)][_0x236f43(0x435)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x236f43(0x4e9)](_0x8f5ea0,_0x1fe9ce),_0x8f5ea0['waitingMenu_id']='',_0x8f5ea0['waitingMenu_text']='',_0x8f5ea0[_0x236f43(0x6d0)]=[];}return this[_0x236f43(0x145)](_0x8f5ea0,_0x2e0bcc,_0x150282,!0x0),null;}}if(_0x133952&&_0x2e0bcc[_0x236f43(0x5cf)]&&!_0x8f5ea0[_0x236f43(0x657)]){let _0x5e51ac=_0x8f5ea0[_0x236f43(0x459)]['filter'](_0x54c845=>_0x54c845[_0x236f43(0x30b)][_0x236f43(0x12d)]()===_0x2e0bcc[_0x236f43(0x5cf)][_0x236f43(0x12d)]())[_0x236f43(0x14e)]((_0x59251a,_0x473a80)=>_0x59251a[_0x236f43(0x5ff)]-_0x473a80['order']);_0x5e51ac[_0x236f43(0x4b3)]>0x0&&(_0x4926e2=_0x5e51ac[0x0]);}if(!_0x4926e2){let _0x3ff4ff=_0x2e0bcc[_0x236f43(0x30b)],_0x344970=_0x8f5ea0[_0x236f43(0x459)][_0x236f43(0x560)](_0x1dedcb=>_0x1dedcb[_0x236f43(0x30b)]===_0x3ff4ff&&_0x1dedcb[_0x236f43(0x5ff)]>_0x2e0bcc[_0x236f43(0x5ff)])['sort']((_0x2f9376,_0x55265e)=>_0x2f9376[_0x236f43(0x5ff)]-_0x55265e[_0x236f43(0x5ff)]);_0x344970[_0x236f43(0x4b3)]>0x0&&(_0x4926e2=_0x344970[0x0]);}if(!_0x4926e2)return _0x8f5ea0[_0x236f43(0x62d)]=_0x236f43(0x49e),null;_0x8f5ea0[_0x236f43(0x564)][_0x236f43(0x15f)]=_0x134022;let _0x2de4b8=JSON[_0x236f43(0x44f)](JSON['stringify'](_0x4926e2));return this[_0x236f43(0x6bf)](_0x2de4b8,_0x8f5ea0[_0x236f43(0x564)][_0x236f43(0x15f)]),_0x8f5ea0['chatLog'][_0x236f43(0x4f0)]=_0x2de4b8[_0x236f43(0x494)],_0x8f5ea0[_0x236f43(0x564)][_0x236f43(0x667)]=!0x0,_0x2de4b8;}[a0_0x22d3e1(0x57a)](_0x3f84ff,_0x3bceac){return _0x3f84ff['replace'](/\{\{([^}]+)\}\}/g,(_0x4af089,_0xcdbded)=>_0x3bceac[_0xcdbded]||'');}[a0_0x22d3e1(0x6bf)](_0x110f9b,_0x46b853){const _0x2f154=a0_0x22d3e1;for(let _0x27b87c in _0x110f9b)typeof _0x110f9b[_0x27b87c]==_0x2f154(0x53f)?_0x110f9b[_0x27b87c]=this[_0x2f154(0x57a)](_0x110f9b[_0x27b87c],_0x46b853):typeof _0x110f9b[_0x27b87c]==_0x2f154(0x4f2)&&this[_0x2f154(0x6bf)](_0x110f9b[_0x27b87c],_0x46b853);}async[a0_0x22d3e1(0x4cb)](_0x512242,_0xf9a9d5){const _0x44dc82=a0_0x22d3e1;let _0x294d51=_0xf9a9d5[_0x44dc82(0x494)];if(_0x512242[_0x44dc82(0x564)]&&_0x512242[_0x44dc82(0x564)][_0x44dc82(0x4e2)]){let _0x28bde3=_0x512242[_0x44dc82(0x564)]['blockLogs'][_0x44dc82(0x560)](_0x19a512=>String(_0x19a512[_0x44dc82(0x516)])===String(_0x294d51))[_0x44dc82(0x4bc)]();if(_0x28bde3&&_0x28bde3['error']&&_0xf9a9d5[_0x44dc82(0x4d9)])return _0x512242[_0x44dc82(0x62d)]=_0x44dc82(0x49e),await this[_0x44dc82(0x56c)](_0x512242),null;}if(_0xf9a9d5[_0x44dc82(0x255)]==='uazapi'&&_0xf9a9d5['uazapi']['command']===_0x44dc82(0x1e7)&&_0x512242[_0x44dc82(0x657)])return _0x512242[_0x44dc82(0x564)][_0x44dc82(0x4f0)]=_0x294d51,await this[_0x44dc82(0x56c)](_0x512242),null;let _0x2b857b=await this['NextBlock'](_0x512242);if(_0x512242['chatLog']&&_0x512242[_0x44dc82(0x564)][_0x44dc82(0x4e2)]){let _0x3ab0c2=_0x512242[_0x44dc82(0x564)][_0x44dc82(0x4e2)][_0x44dc82(0x560)](_0xb2c0db=>String(_0xb2c0db[_0x44dc82(0x516)])===String(_0x294d51))[_0x44dc82(0x4b3)];if(_0xf9a9d5[_0x44dc82(0x34e)]!==void 0x0&&_0x3ab0c2>=_0xf9a9d5[_0x44dc82(0x34e)]){let _0x15344d=Date[_0x44dc82(0x299)](),_0x537177=_0xf9a9d5[_0x44dc82(0x699)]??0xa;isNaN(_0x537177)&&(_0x537177=0xa);let _0xf4d10a=_0x15344d+_0x537177*0x3c*0x3e8,_0x490918={'newStoppedUntil':_0xf4d10a};return this[_0x44dc82(0x4e9)](_0x512242,_0xf4d10a),this['updateConversation'](_0x512242,_0xf9a9d5,_0x490918,!0x0),null;}}_0x2b857b&&_0x2b857b[_0x44dc82(0x255)]!==_0x44dc82(0x57e)&&await this['processblock'](_0x512242,_0x2b857b),_0x2b857b||await this[_0x44dc82(0x56c)](_0x512242),_0x2b857b&&_0x2b857b[_0x44dc82(0x255)]===_0x44dc82(0x57e)&&(_0x512242['chatLog']['lastBlockId']=_0x294d51,await this[_0x44dc82(0x56c)](_0x512242));}async[a0_0x22d3e1(0x3fe)](_0x70150a,_0x1dc17d){const _0x14123b=a0_0x22d3e1;try{let _0xcd8da3=_0x1dc17d[_0x14123b(0x255)];this['logger'][_0x14123b(0x605)](this[_0x14123b(0x4c1)]+'\x20('+this['instance'][_0x14123b(0x6a5)]+_0x14123b(0x36e)+_0xcd8da3);let _0x42313b={'uazapi':()=>this['processUazapi'](_0x70150a,_0x1dc17d),'save':()=>this['saveTextReply'](_0x70150a,_0x1dc17d),'stop':()=>this[_0x14123b(0x4a4)](_0x70150a,_0x1dc17d),'condition':()=>this[_0x14123b(0x460)](_0x70150a,_0x1dc17d),'varedit':()=>this[_0x14123b(0x513)](_0x70150a,_0x1dc17d),'apirequest':()=>this[_0x14123b(0x45e)](_0x70150a,_0x1dc17d),'goToFlow':()=>this[_0x14123b(0x45a)](_0x70150a,_0x1dc17d)}[_0xcd8da3];_0x42313b&&await _0x42313b();}catch(_0x4b2c83){this[_0x14123b(0x13f)][_0x14123b(0x411)](this['instanceName']+'\x20('+this[_0x14123b(0x22c)][_0x14123b(0x6a5)]+_0x14123b(0x660)+(_0x4b2c83 instanceof Error?_0x4b2c83[_0x14123b(0x6c4)]:JSON[_0x14123b(0x3c5)](_0x4b2c83,null,0x2)));}}async[a0_0x22d3e1(0x45a)](_0x22211b,_0x205c4b){const _0x1f1a49=a0_0x22d3e1;if(this['logger'][_0x1f1a49(0x605)](this['instanceName']+'\x20('+this[_0x1f1a49(0x22c)][_0x1f1a49(0x6a5)]+_0x1f1a49(0x25e)),!_0x22211b||!_0x205c4b)return this[_0x1f1a49(0x13f)][_0x1f1a49(0x411)](this['instanceName']+'\x20('+this[_0x1f1a49(0x22c)][_0x1f1a49(0x6a5)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0x1f1a49(0x145)](_0x22211b,_0x205c4b,{},!0x0,!0x0),console['log']('nextBlock:'),console[_0x1f1a49(0x51f)](_0x205c4b);let _0x35236c=_0x205c4b[_0x1f1a49(0x4b9)];console[_0x1f1a49(0x51f)](_0x1f1a49(0x2ab),_0x35236c),_0x22211b=await this[_0x1f1a49(0x4c2)](_0x35236c,_0x22211b[_0x1f1a49(0x412)],_0x22211b['chatLog'][_0x1f1a49(0x15f)]),this[_0x1f1a49(0x13f)]['verbose'](this[_0x1f1a49(0x4c1)]+'\x20('+this['instance'][_0x1f1a49(0x6a5)]+_0x1f1a49(0x54e));let _0xf328b=await this[_0x1f1a49(0x424)](_0x22211b);_0xf328b&&await this[_0x1f1a49(0x3fe)](_0x22211b,_0xf328b);}async[a0_0x22d3e1(0x4c2)](_0x2f37f6,_0x3034b2,_0x299f6f){const _0x15cd5b=a0_0x22d3e1;this['logger'][_0x15cd5b(0x605)](this[_0x15cd5b(0x4c1)]+'\x20('+this[_0x15cd5b(0x22c)][_0x15cd5b(0x6a5)]+_0x15cd5b(0x45f));try{if(_0x2f37f6=await this[_0x15cd5b(0xaa)]['flow'][_0x15cd5b(0x639)]({'where':{'name':_0x2f37f6}},this[_0x15cd5b(0x22c)][_0x15cd5b(0x6a5)]),!_0x2f37f6)return this[_0x15cd5b(0x13f)][_0x15cd5b(0x411)](this[_0x15cd5b(0x4c1)]+'\x20('+this['instance'][_0x15cd5b(0x6a5)]+_0x15cd5b(0x51b)),null;let _0x324b59=require(_0x15cd5b(0x439))[_0x15cd5b(0x46b)],_0x50f2f2=Date['now'](),_0x42c0c5=_0x15cd5b(0x550),_0x335dc2={},_0x1f7a6f={},_0x120453={..._0x2f37f6,'chatLog':null},_0x28bc66={'lastReceivedMessage':_0x335dc2,'lastSendMessage':_0x1f7a6f,'lastBlockId':_0x42c0c5,'lastCondition':!0x0,'realVariables':_0x299f6f};_0x120453[_0x15cd5b(0x564)]=_0x28bc66,_0x120453[_0x15cd5b(0x564)][_0x15cd5b(0x15f)]={..._0x299f6f},delete _0x120453['_id'],_0x120453[_0x15cd5b(0x494)]=new _0x324b59(),_0x120453[_0x15cd5b(0x6e7)]=_0x50f2f2,_0x120453[_0x15cd5b(0x62d)]=_0x15cd5b(0x4d1),_0x120453[_0x15cd5b(0x412)]=_0x3034b2;let _0x250793=await this[_0x15cd5b(0xaa)][_0x15cd5b(0x207)][_0x15cd5b(0x290)](_0x120453[_0x15cd5b(0x494)],_0x120453,this[_0x15cd5b(0x22c)][_0x15cd5b(0x6a5)]);return this[_0x15cd5b(0x13f)][_0x15cd5b(0x605)](this['instanceName']+'\x20('+this[_0x15cd5b(0x22c)][_0x15cd5b(0x6a5)]+_0x15cd5b(0x6d5)),_0x250793?_0x120453:null;}catch(_0x1d5c6f){throw this[_0x15cd5b(0x13f)]['error'](this['instanceName']+'\x20('+this[_0x15cd5b(0x22c)]['wuid']+_0x15cd5b(0x35d)+(_0x1d5c6f instanceof Error?_0x1d5c6f[_0x15cd5b(0x6c4)]:JSON[_0x15cd5b(0x3c5)](_0x1d5c6f,null,0x2))),new m(_0x1d5c6f['message']);}}async['processApiRequest'](_0x3fbec4,_0x3fff3a){const _0x176248=a0_0x22d3e1;let _0x25b7f1,_0xa1c301;try{let _0x35b711=_0x3fff3a['apirequest'];if(!_0x35b711||!_0x35b711[_0x176248(0x3dd)]||!_0x35b711[_0x176248(0x4a0)])throw new Error(_0x176248(0x5af));let _0x1c461d;([_0x176248(0x631),_0x176248(0xca),_0x176248(0x1fb)]['some'](_0x212801=>_0x35b711[_0x176248(0x3dd)][_0x176248(0x6e8)](_0x212801))||_0x35b711[_0x176248(0x461)])&&(_0x1c461d=_0x176248(0x2af));let _0x3bcebf={'method':_0x35b711[_0x176248(0x4a0)],'url':_0x35b711[_0x176248(0x3dd)],'headers':_0x35b711[_0x176248(0x4de)]||{},'data':_0x35b711[_0x176248(0x321)]||{},..._0x1c461d&&{'responseType':_0x1c461d}},_0xdb7228=await(0x0,se[_0x176248(0x106)])(_0x3bcebf),_0x114e57=_0xdb7228['headers'][_0x176248(0x268)];if(_0x114e57&&_0x114e57[_0x176248(0x6e8)](_0x176248(0x600))){_0x25b7f1=_0xdb7228[_0x176248(0x30d)];let _0x44a3a3=_0x3fbec4[_0x176248(0x564)][_0x176248(0x15f)],_0x586139=this[_0x176248(0x44d)](_0x25b7f1);return Object['assign'](_0x44a3a3,_0x586139),_0x3fbec4['chatLog'][_0x176248(0x15f)]=_0x44a3a3,_0xa1c301={'error':!0x1,'apiResponse':_0x25b7f1},this[_0x176248(0x145)](_0x3fbec4,_0x3fff3a,_0xa1c301),_0x25b7f1;}if(_0x114e57&&(_0x114e57[_0x176248(0x6e8)]('application/octet-stream')||_0x114e57[_0x176248(0x6e8)]('image')||_0x114e57['includes'](_0x176248(0x341))||_0x114e57[_0x176248(0x6e8)](_0x176248(0x235)))){this[_0x176248(0x13f)][_0x176248(0x605)](this[_0x176248(0x4c1)]+'\x20('+this[_0x176248(0x22c)]['wuid']+_0x176248(0x533)+_0x114e57);let _0x2bdcc0=(0x0,Me['v4'])(),_0x172f27='',_0x494fe9={'image/jpeg':'.jpg','image/png':_0x176248(0x1ab),'image/gif':'.gif','image/webp':'.webp','image/svg+xml':_0x176248(0x29d),'audio/mpeg':_0x176248(0x578),'audio/ogg':_0x176248(0x652),'audio/wav':'.wav','video/mp4':_0x176248(0x4e5),'video/webm':_0x176248(0x314),'video/ogg':'.ogv','text/plain':_0x176248(0x232),'application/pdf':_0x176248(0xfe),'application/msword':_0x176248(0x647),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x176248(0x58c),'application/vnd.ms-excel':_0x176248(0x401),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':_0x176248(0x49c),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x176248(0x432)};_0x494fe9[_0x114e57]?(_0x172f27=_0x494fe9[_0x114e57],this[_0x176248(0x13f)][_0x176248(0x605)](this[_0x176248(0x4c1)]+'\x20('+this['instance'][_0x176248(0x6a5)]+_0x176248(0x3fd)+_0x172f27)):(_0x172f27=_0x176248(0x63f),this['logger'][_0x176248(0x605)](this[_0x176248(0x4c1)]+'\x20('+this[_0x176248(0x22c)][_0x176248(0x6a5)]+'):\x20Usando\x20extensão\x20padrão:\x20'+_0x172f27)),_0x2bdcc0+=_0x172f27,this[_0x176248(0x13f)][_0x176248(0x605)](this[_0x176248(0x4c1)]+'\x20('+this[_0x176248(0x22c)][_0x176248(0x6a5)]+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0x2bdcc0);let _0x4655e5=this[_0x176248(0x6cb)]['get']('SERVER')[_0x176248(0x92)];if(!_0x4655e5){let _0x12dbe0=this[_0x176248(0x6cb)][_0x176248(0x1e3)](_0x176248(0x457));_0x4655e5=_0x176248(0x9a)+(_0x12dbe0&&_0x12dbe0[_0x176248(0x5aa)][_0x176248(0x142)]('/')[0x4]);}let _0xef38ec=Buffer[_0x176248(0x616)](_0xdb7228[_0x176248(0x30d)]);await this['saveMediaToFile'](_0xef38ec,_0x2bdcc0);let _0x1e02a2=_0x176248(0x40c)+_0x2bdcc0;_0x1e02a2=''+_0x4655e5+_0x1e02a2,_0x25b7f1={'fileUrl':_0x1e02a2},_0x3fbec4[_0x176248(0x564)]['realVariables']['fileUrl']=_0x1e02a2;let _0x408882=_0x3fbec4['chatLog'][_0x176248(0x15f)],_0x4ffd33=this[_0x176248(0x44d)](_0x25b7f1);return Object[_0x176248(0x6cf)](_0x408882,_0x4ffd33),_0x3fbec4[_0x176248(0x564)][_0x176248(0x15f)]=_0x408882,_0xa1c301={'error':!0x1,'apiResponse':{'fileUrl':_0x1e02a2}},this['updateConversation'](_0x3fbec4,_0x3fff3a,_0xa1c301),_0x25b7f1;}}catch(_0xe329fc){console['error']('Erro\x20ao\x20processar\x20a\x20chamada\x20API:',_0xe329fc),_0xe329fc[_0x176248(0x2fb)]&&(_0x25b7f1=_0xe329fc[_0x176248(0x2fb)][_0x176248(0x30d)]);let _0x105b16=_0x3fbec4[_0x176248(0x564)][_0x176248(0x15f)],_0x36e057=this[_0x176248(0x44d)](_0x25b7f1);return Object['assign'](_0x105b16,_0x36e057),_0x3fbec4[_0x176248(0x564)][_0x176248(0x15f)]=_0x105b16,_0xa1c301={'error':!0x0,'errorLog':_0xe329fc[_0x176248(0x12d)](),'apiResponse':_0x25b7f1},this['updateConversation'](_0x3fbec4,_0x3fff3a,_0xa1c301),{'success':!0x1};}}['applyvaredit'](_0x2ee5f5,_0x565451){const _0xc4d1e8=a0_0x22d3e1;let _0x4df60c=_0x551f72=>{const _0x4893b7=a0_0x2c76;let _0x34a50c=_0x551f72[_0x4893b7(0x3d6)](/[^0-9.,-]/g,'')[_0x4893b7(0x3d6)](',','.'),_0x3b5dd1=parseFloat(_0x34a50c);return isNaN(_0x3b5dd1)?null:_0x3b5dd1;},_0x4db5f8=_0x565451[_0xc4d1e8(0x43b)],_0x58816a=_0x565451['secondValue'];typeof _0x4db5f8==_0xc4d1e8(0x53f)&&(_0x4db5f8=this['replaceVariables'](_0x4db5f8,_0x2ee5f5[_0xc4d1e8(0x564)][_0xc4d1e8(0x15f)])??''),typeof _0x58816a==_0xc4d1e8(0x53f)&&(_0x58816a=this[_0xc4d1e8(0x57a)](_0x58816a,_0x2ee5f5[_0xc4d1e8(0x564)][_0xc4d1e8(0x15f)])??'');let _0x236995=null;if(!_0x565451[_0xc4d1e8(0x163)])return null;switch(this[_0xc4d1e8(0x13f)]['verbose'](this[_0xc4d1e8(0x4c1)]+'\x20('+this[_0xc4d1e8(0x22c)][_0xc4d1e8(0x6a5)]+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x4db5f8),this['logger'][_0xc4d1e8(0x605)](this['instanceName']+'\x20('+this[_0xc4d1e8(0x22c)][_0xc4d1e8(0x6a5)]+_0xc4d1e8(0x402)+_0x58816a),_0x565451[_0xc4d1e8(0x163)]){case'+':case'-':case'*':case'/':let _0x53e141=_0x4df60c(_0x4db5f8||'0'),_0x5cd5ab=_0x4df60c(_0x58816a||'0');if(_0x53e141===null)return null;switch(_0x565451[_0xc4d1e8(0x163)]){case'+':_0x236995=_0x53e141+(_0x5cd5ab??0x0);break;case'-':_0x236995=_0x53e141-(_0x5cd5ab??0x0);break;case'*':_0x236995=_0x53e141*(_0x5cd5ab??0x1);break;case'/':_0x5cd5ab!==0x0&&(_0x236995=_0x53e141/(_0x5cd5ab??0x1));break;}break;case _0xc4d1e8(0x1d7):case _0xc4d1e8(0x572):let _0x1a3cc7=_0x58816a,_0x471105=_0x565451['replaceValue'];if(typeof _0x471105==_0xc4d1e8(0x53f)&&(_0x471105=this[_0xc4d1e8(0x57a)](_0x471105,_0x2ee5f5['chatLog'][_0xc4d1e8(0x15f)])??''),_0x1a3cc7&&_0x471105!==void 0x0){let _0x240962=_0x565451[_0xc4d1e8(0x163)]===_0xc4d1e8(0x1d7)?new RegExp(_0x1a3cc7[_0xc4d1e8(0x3d6)](/[-\/\\^$*+?.()|[\]{}]/g,_0xc4d1e8(0x429)),'g'):new RegExp(_0x1a3cc7,'g');_0x236995=_0x4db5f8['replace'](_0x240962,_0x471105);}else console[_0xc4d1e8(0x2de)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0xc4d1e8(0x2d1):_0x236995=_0x58816a;break;case _0xc4d1e8(0x98):let _0x102f9b=_0x4db5f8[_0xc4d1e8(0x4e1)](new RegExp(_0x58816a||''));_0x236995=_0x102f9b?_0x102f9b[0x0]:'';break;case'truncatedto':_0x236995=_0x4db5f8['slice'](0x0,parseInt(_0x58816a||'0'));break;case'truncatedtoEnd':let _0x1ef844=parseInt(_0x58816a||'0');_0x236995=_0x4db5f8['slice'](_0x4db5f8['length']-_0x1ef844);break;case _0xc4d1e8(0x6ac):let _0x55723f=_0x4df60c(_0x4db5f8),_0x59bf19=parseInt(_0x58816a||'0');_0x59bf19=Math[_0xc4d1e8(0x5d3)](_0x59bf19),_0x55723f!==null?_0x236995=_0x55723f[_0xc4d1e8(0x35e)](_0xc4d1e8(0x37c),{'minimumFractionDigits':_0x59bf19,'maximumFractionDigits':_0x59bf19}):(console['warn'](_0xc4d1e8(0x579)+_0x4db5f8),_0x236995=null);break;case _0xc4d1e8(0x305):let _0x37a12a=_0x4df60c(_0x4db5f8);_0x37a12a!==null?_0x236995=_0x37a12a['toLocaleString']('pt-BR',{'style':'currency','currency':_0xc4d1e8(0x264)}):(console['warn']('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x4db5f8),_0x236995=null);break;case _0xc4d1e8(0x5ec):_0x236995=_0x4db5f8['toUpperCase']();break;case _0xc4d1e8(0x152):_0x236995=_0x4db5f8['toLowerCase']();break;case'capitalizedWords':_0x236995=_0x4db5f8[_0xc4d1e8(0x142)]('\x20')[_0xc4d1e8(0x2bf)](_0x39463e=>_0x39463e[_0xc4d1e8(0x45d)](0x0)['toUpperCase']()+_0x39463e['slice'](0x1)[_0xc4d1e8(0x490)]())[_0xc4d1e8(0x592)]('\x20');break;case _0xc4d1e8(0x1c6):_0x236995=_0x4db5f8['trim']();break;default:_0x236995=_0x4db5f8;}return _0x236995!==null?_0x236995[_0xc4d1e8(0x12d)]():null;}async[a0_0x22d3e1(0x513)](_0x5d68c7,_0x3dcf83){const _0x2c4325=a0_0x22d3e1;try{let _0x1c3f3b=_0x5d68c7['varedits']?.['filter'](_0x1db6b2=>_0x1db6b2[_0x2c4325(0x516)]===_0x3dcf83[_0x2c4325(0x494)]?.['toString']())||[],_0x1f318c=_0x3dcf83[_0x2c4325(0x124)],_0x1f5433=null,_0x44b3f1=[],_0x1e2967=_0x5d68c7[_0x2c4325(0x564)][_0x2c4325(0x15f)][_0x1f318c];_0x44b3f1[_0x2c4325(0x435)]('Valor\x20inicial:\x20\x22'+_0x1e2967+'\x22');for(let _0x33eeb1 of _0x1c3f3b){_0x33eeb1[_0x2c4325(0x43b)]=_0x1e2967,_0x1f5433=_0x33eeb1[_0x2c4325(0x43b)];let _0x221927;try{_0x221927=this[_0x2c4325(0x20b)](_0x5d68c7,_0x33eeb1);}catch(_0x5c2844){console['error'](_0x2c4325(0x5b3)+_0x5c2844[_0x2c4325(0x6c4)]);continue;}if(_0x221927!==null){let _0x36fc9b='Operador:\x20\x22'+_0x33eeb1[_0x2c4325(0x163)]+'\x22',_0x33b8e1=[_0x2c4325(0x305),_0x2c4325(0x5ec),_0x2c4325(0x152),_0x2c4325(0x1b6),_0x2c4325(0x1c6)];_0x33eeb1[_0x2c4325(0x163)]==='findAndReplace'||_0x33eeb1[_0x2c4325(0x163)]==='findAndReplaceRegex'?_0x36fc9b+=_0x2c4325(0x656)+_0x33eeb1[_0x2c4325(0x489)]+_0x2c4325(0x365)+_0x33eeb1['replaceValue']+'\x22':!_0x33b8e1['includes'](_0x33eeb1[_0x2c4325(0x163)])&&_0x33eeb1[_0x2c4325(0x489)]!==null&&_0x33eeb1[_0x2c4325(0x489)]!==void 0x0&&(_0x36fc9b+=_0x2c4325(0x2bc)+_0x33eeb1['secondValue']+'\x22'),_0x36fc9b+=_0x2c4325(0x39e)+_0x221927+'.',_0x44b3f1[_0x2c4325(0x435)](_0x36fc9b);}_0x221927!==null&&(_0x1e2967=_0x221927);}if(_0x5d68c7[_0x2c4325(0x564)][_0x2c4325(0x15f)]&&_0x3dcf83[_0x2c4325(0x124)]){_0x5d68c7[_0x2c4325(0x564)][_0x2c4325(0x15f)][_0x3dcf83[_0x2c4325(0x124)]]=_0x1e2967;let _0x5530ba={'variable':_0x3dcf83[_0x2c4325(0x124)],'oldValue':_0x1f5433,'newValue':_0x1e2967,'moreLogs':_0x44b3f1};try{this[_0x2c4325(0x145)](_0x5d68c7,_0x3dcf83,_0x5530ba);}catch(_0x4b24f0){console['error']('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x4b24f0[_0x2c4325(0x6c4)]);}}return _0x1f318c;}catch(_0x4465b9){return console['error'](_0x2c4325(0x12c)+_0x4465b9[_0x2c4325(0x6c4)]),null;}}async[a0_0x22d3e1(0x460)](_0x2b1f6e,_0x43450e){const _0x362a3f=a0_0x22d3e1;try{let _0x4ca90a=[],_0x310210=_0x2b1f6e[_0x362a3f(0x445)][_0x362a3f(0x560)](_0x2cd8e9=>_0x2cd8e9[_0x362a3f(0x516)]===_0x43450e[_0x362a3f(0x494)][_0x362a3f(0x12d)]()),_0x2a7c6e=null,_0x478b22=!0x1;for(let _0x139501 of _0x310210){let _0x29f962=this[_0x362a3f(0x51d)](_0x2b1f6e,_0x139501);_0x4ca90a[_0x362a3f(0x435)](_0x362a3f(0x2dc)+_0x139501[_0x362a3f(0x43b)]+_0x362a3f(0x627)+_0x139501[_0x362a3f(0x542)]+_0x362a3f(0x21c)+_0x139501['secondValue']+_0x362a3f(0x5b7)+_0x29f962),_0x2a7c6e===null?_0x2a7c6e=_0x29f962:_0x139501[_0x362a3f(0x250)]===_0x362a3f(0x322)?(_0x2a7c6e=_0x2a7c6e&&_0x29f962,_0x29f962||(_0x478b22=!0x0)):_0x139501[_0x362a3f(0x250)]==='or'&&(_0x478b22||(_0x2a7c6e=_0x2a7c6e||_0x29f962));}_0x2a7c6e===null&&(_0x2a7c6e=!0x0);let _0x1e622c={'moreLogs':_0x4ca90a};_0x2b1f6e[_0x362a3f(0x564)][_0x362a3f(0x667)]=_0x2a7c6e,await this['updateConversation'](_0x2b1f6e,_0x43450e,_0x1e622c);}catch(_0x595cbe){this[_0x362a3f(0x13f)][_0x362a3f(0x411)](this[_0x362a3f(0x4c1)]+'\x20('+this['instance'][_0x362a3f(0x6a5)]+_0x362a3f(0x466)+(_0x595cbe instanceof Error?_0x595cbe['message']:JSON[_0x362a3f(0x3c5)](_0x595cbe,null,0x2)));}}[a0_0x22d3e1(0x51d)](_0x1d49cf,_0x17f90e){const _0x54b6ad=a0_0x22d3e1;let _0x1be52c=_0x17f90e[_0x54b6ad(0x43b)],_0x53ce6a=_0x17f90e[_0x54b6ad(0x489)];typeof _0x1be52c==_0x54b6ad(0x53f)&&(_0x1be52c=this[_0x54b6ad(0x57a)](_0x1be52c,_0x1d49cf[_0x54b6ad(0x564)][_0x54b6ad(0x15f)])??''),typeof _0x53ce6a=='string'&&(_0x53ce6a=this['replaceVariables'](_0x53ce6a,_0x1d49cf[_0x54b6ad(0x564)][_0x54b6ad(0x15f)])??'');try{switch(_0x17f90e[_0x54b6ad(0x542)]){case _0x54b6ad(0x6d2):return _0x1be52c===_0x53ce6a;case _0x54b6ad(0x103):return _0x1be52c!==_0x53ce6a;case _0x54b6ad(0x159):return this['contains'](_0x1be52c,_0x53ce6a);case'notContains':return!this['contains'](_0x1be52c,_0x53ce6a);case _0x54b6ad(0x4d3):return parseFloat(_0x1be52c)>parseFloat(_0x53ce6a);case _0x54b6ad(0x6d6):return parseFloat(_0x1be52c)<parseFloat(_0x53ce6a);case'notEmpty':return _0x1be52c!=='';case'empty':return _0x1be52c==='';case _0x54b6ad(0x5ab):return new RegExp(_0x53ce6a)[_0x54b6ad(0x584)](_0x1be52c);case _0x54b6ad(0x38e):return!new RegExp(_0x53ce6a)['test'](_0x1be52c);default:return!0x1;}}catch(_0x327282){return console[_0x54b6ad(0x411)](_0x54b6ad(0x177)+_0x327282),!0x1;}}[a0_0x22d3e1(0x159)](_0x57d550,_0x117ef8){const _0x2e5daf=a0_0x22d3e1;if(_0x57d550===_0x117ef8&&/^\d+$/[_0x2e5daf(0x584)](_0x57d550))return!0x0;if(this[_0x2e5daf(0x6a7)](_0x57d550)&&/^\d+$/[_0x2e5daf(0x584)](_0x117ef8)){let _0x270442=_0x57d550[_0x2e5daf(0x142)](',')[_0x2e5daf(0x2bf)](_0x2d5f0e=>parseInt(_0x2d5f0e[_0x2e5daf(0x2dd)]())),_0x32d0e7=parseInt(_0x117ef8);return _0x270442[_0x2e5daf(0x6e8)](_0x32d0e7);}return _0x57d550[_0x2e5daf(0x6e8)](_0x117ef8);}[a0_0x22d3e1(0x6a7)](_0x363762){const _0x12aa05=a0_0x22d3e1;return/^\d+(,\d+)*$/[_0x12aa05(0x584)](_0x363762);}['processConditionsTest'](_0x536b30){const _0x1c32ad=a0_0x22d3e1;let _0x4eaa02=!0x0,_0xb6d8da=null;for(let _0x49a306 of _0x536b30){let _0x2d46d0=this[_0x1c32ad(0x56f)](_0x49a306);if(_0xb6d8da==='or'&&_0x2d46d0){_0x4eaa02=!0x0;break;}if(_0xb6d8da===_0x1c32ad(0x322)&&!_0x2d46d0){_0x4eaa02=!0x1;break;}_0xb6d8da=_0x49a306['OrAnd'];}return _0x4eaa02;}[a0_0x22d3e1(0x56f)](_0x3732a9){const _0x529f91=a0_0x22d3e1;let _0x3633fc=_0x3732a9[_0x529f91(0x43b)],_0x4165e4=_0x3732a9['secondValue'];try{switch(_0x3732a9['expression']){case _0x529f91(0x6d2):return String(_0x3633fc)===String(_0x4165e4);case'notEqual':return String(_0x3633fc)!==String(_0x4165e4);case _0x529f91(0x159):return String(_0x3633fc)[_0x529f91(0x6e8)](String(_0x4165e4));case'notContains':return!String(_0x3633fc)[_0x529f91(0x6e8)](String(_0x4165e4));case _0x529f91(0x4d3):return parseFloat(String(_0x3633fc))>parseFloat(String(_0x4165e4));case'less':return parseFloat(String(_0x3633fc))<parseFloat(String(_0x4165e4));case _0x529f91(0x618):return String(_0x3633fc)!=='';case _0x529f91(0x320):return String(_0x3633fc)==='';case _0x529f91(0x5ab):return new RegExp(String(_0x4165e4))[_0x529f91(0x584)](String(_0x3633fc));case _0x529f91(0x38e):return!new RegExp(String(_0x4165e4))[_0x529f91(0x584)](String(_0x3633fc));default:return!0x1;}}catch(_0x2bc8b7){return console[_0x529f91(0x411)](_0x529f91(0x177)+_0x2bc8b7),!0x1;}}async['saveTextReply'](_0x4cee2e,_0x11d78d){const _0x3178c3=a0_0x22d3e1;if(this[_0x3178c3(0x13f)][_0x3178c3(0x605)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3178c3(0x5ce)),!_0x4cee2e||!_0x11d78d)return this[_0x3178c3(0x13f)][_0x3178c3(0x411)](this[_0x3178c3(0x4c1)]+'\x20('+this['instance'][_0x3178c3(0x6a5)]+_0x3178c3(0x351)),null;let _0x293af3=_0x11d78d[_0x3178c3(0x124)],_0x47d134=_0x4cee2e[_0x3178c3(0x564)]['lastReceivedMessage']['text']||_0x4cee2e[_0x3178c3(0x564)]['lastReceivedMessage']['caption']||_0x4cee2e[_0x3178c3(0x564)]['lastReceivedMessage']['vote'];try{_0x4cee2e[_0x3178c3(0x564)][_0x3178c3(0x15f)]||(_0x4cee2e[_0x3178c3(0x564)][_0x3178c3(0x15f)]={});let _0xb159bc=_0x4cee2e['chatLog'][_0x3178c3(0x15f)][_0x293af3];_0x4cee2e[_0x3178c3(0x564)]['realVariables'][_0x293af3]=_0x47d134;let _0x195b76={'variable':_0x293af3,'oldValue':_0xb159bc,'newValue':_0x47d134};this['updateConversation'](_0x4cee2e,_0x11d78d,_0x195b76),this[_0x3178c3(0x13f)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x3178c3(0x6a5)]+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x39f5e1){let _0x273d23={'error':!0x0,'errorLog':_0x39f5e1[_0x3178c3(0x12d)]()};return this[_0x3178c3(0x145)](_0x4cee2e,_0x11d78d,_0x273d23),this[_0x3178c3(0x13f)][_0x3178c3(0x411)](this['instanceName']+'\x20('+this[_0x3178c3(0x22c)][_0x3178c3(0x6a5)]+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+(_0x39f5e1 instanceof Error?_0x39f5e1[_0x3178c3(0x6c4)]:JSON[_0x3178c3(0x3c5)](_0x39f5e1,null,0x2))),null;}}async[a0_0x22d3e1(0x4a4)](_0x1a72ce,_0x32f0d5){const _0x45b086=a0_0x22d3e1;if(this['logger'][_0x45b086(0x605)](this[_0x45b086(0x4c1)]+'\x20('+this[_0x45b086(0x22c)][_0x45b086(0x6a5)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x1a72ce||!_0x32f0d5)return this[_0x45b086(0x13f)][_0x45b086(0x411)](this[_0x45b086(0x4c1)]+'\x20('+this[_0x45b086(0x22c)][_0x45b086(0x6a5)]+_0x45b086(0x351)),null;let _0x52ce1c=Date[_0x45b086(0x299)](),_0x53709a=parseInt(_0x32f0d5[_0x45b086(0x5b8)],0xa);if(isNaN(_0x53709a))return this['logger'][_0x45b086(0x411)](this['instanceName']+'\x20('+this[_0x45b086(0x22c)][_0x45b086(0x6a5)]+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x1a50af={'newStoppedUntil':_0x52ce1c+_0x53709a*0x3c*0x3e8};return await this[_0x45b086(0x145)](_0x1a72ce,_0x32f0d5,_0x1a50af,!0x0),null;}async[a0_0x22d3e1(0x3c7)](_0x91179d,_0x5dca17){const _0x1ffefa=a0_0x22d3e1;try{switch(_0x5dca17['uazapi']['command']){case _0x1ffefa(0x19a):await this['uazapiSendText'](_0x91179d,_0x5dca17);break;case _0x1ffefa(0x34d):await this[_0x1ffefa(0x5b2)](_0x91179d,_0x5dca17);break;case _0x1ffefa(0x3d7):await this[_0x1ffefa(0x379)](_0x91179d,_0x5dca17);break;case _0x1ffefa(0x5f7):await this[_0x1ffefa(0x317)](_0x91179d,_0x5dca17);break;case _0x1ffefa(0x56a):await this[_0x1ffefa(0xad)](_0x91179d,_0x5dca17);break;case _0x1ffefa(0x1e7):await this['uazapiSendMenu'](_0x91179d,_0x5dca17);break;case _0x1ffefa(0x337):await this[_0x1ffefa(0x4f4)](_0x91179d,_0x5dca17);break;case _0x1ffefa(0x1ec):await this[_0x1ffefa(0x1d6)](_0x91179d,_0x5dca17);break;default:this[_0x1ffefa(0x13f)][_0x1ffefa(0x411)](this[_0x1ffefa(0x4c1)]+'\x20('+this['instance'][_0x1ffefa(0x6a5)]+_0x1ffefa(0x2c8)+_0x5dca17[_0x1ffefa(0x500)]['command']);}}catch(_0x43202a){this[_0x1ffefa(0x13f)][_0x1ffefa(0x411)](this['instanceName']+'\x20('+this[_0x1ffefa(0x22c)][_0x1ffefa(0x6a5)]+_0x1ffefa(0x634)+(_0x43202a instanceof Error?_0x43202a[_0x1ffefa(0x6c4)]:JSON[_0x1ffefa(0x3c5)](_0x43202a,null,0x2)));}}async['updateConversation'](_0x36f54f,_0x46e0bb,_0x3269b5,_0x26f66e=!0x1,_0x29aaee=!0x1){const _0x18cad8=a0_0x22d3e1;_0x36f54f[_0x18cad8(0x564)][_0x18cad8(0x4e2)]||(_0x36f54f[_0x18cad8(0x564)][_0x18cad8(0x4e2)]=[]);let _0x1b1590=(_0x36f54f[_0x18cad8(0x564)][_0x18cad8(0x4e2)]?.['length']??0x0)+0x1,_0x30e605=_0x36f54f[_0x18cad8(0x564)][_0x18cad8(0x4e2)][_0x18cad8(0x560)](_0x4f9cd8=>String(_0x4f9cd8[_0x18cad8(0x516)])===String(_0x46e0bb[_0x18cad8(0x494)]))['length']+0x1,_0x16a52e=_0x3269b5?.[_0x18cad8(0x3db)]??Date[_0x18cad8(0x299)](),_0x2b670e=_0x3269b5?.[_0x18cad8(0x411)]?_0x3269b5[_0x18cad8(0x222)]??_0x3269b5['error'][_0x18cad8(0x12d)]():void 0x0,_0x4d9596={'onTime':_0x16a52e,'blockId':_0x46e0bb[_0x18cad8(0x494)],'order':_0x1b1590,'activatedCount':_0x30e605,'error':_0x3269b5?.['error']??!0x1,'messageId':_0x3269b5?.[_0x18cad8(0x384)],'apiResponse':_0x3269b5?.[_0x18cad8(0x4f5)],'apiResponseString':_0x3269b5?.[_0x18cad8(0x4f5)]?JSON[_0x18cad8(0x3c5)](_0x3269b5?.[_0x18cad8(0x4f5)]):void 0x0,'variable':_0x3269b5?.[_0x18cad8(0x3a7)],'oldValue':_0x3269b5?.[_0x18cad8(0x40b)],'newValue':_0x3269b5?.[_0x18cad8(0x2f8)],'newStoppedUntil':_0x3269b5?.[_0x18cad8(0x2a3)],'moreLogs':_0x3269b5?.[_0x18cad8(0x2da)],'errorLog':_0x2b670e};if(_0x3269b5[_0x18cad8(0x2da)]&&_0x3269b5[_0x18cad8(0x2da)][_0x18cad8(0x4b3)]>0x0){let _0x1c0ad5=_0x3269b5[_0x18cad8(0x2da)][_0x18cad8(0x2bf)](_0x25763a=>this[_0x18cad8(0x6b9)](_0x25763a,_0x36f54f[_0x18cad8(0x564)]['realVariables']));_0x4d9596[_0x18cad8(0x2da)]=_0x1c0ad5;}_0x36f54f['chatLog']['realVariables']||(_0x36f54f['chatLog'][_0x18cad8(0x15f)]={}),_0x36f54f[_0x18cad8(0x564)]['realVariables'][_0x18cad8(0x43a)]=String(_0x30e605),_0x36f54f[_0x18cad8(0x564)]['realVariables'][_0x18cad8(0x4af)]=String(_0x3269b5[_0x18cad8(0x411)]??!0x1),_0x36f54f['chatLog'][_0x18cad8(0x4e2)][_0x18cad8(0x435)](_0x4d9596),_0x36f54f[_0x18cad8(0x564)][_0x18cad8(0x4f0)]=_0x46e0bb[_0x18cad8(0x494)][_0x18cad8(0x12d)](),_0x36f54f['chatLog'][_0x18cad8(0x641)]&&(_0x36f54f['chatLog'][_0x18cad8(0x641)]=_0x36f54f['chatLog'][_0x18cad8(0x641)]),_0x36f54f[_0x18cad8(0x564)][_0x18cad8(0x2a0)]&&(_0x36f54f[_0x18cad8(0x564)]['lastReceivedMessage']=_0x36f54f[_0x18cad8(0x564)][_0x18cad8(0x2a0)]),_0x36f54f[_0x18cad8(0x564)][_0x18cad8(0x667)]&&(_0x36f54f[_0x18cad8(0x564)]['lastCondition']=_0x36f54f[_0x18cad8(0x564)]['lastCondition']),_0x29aaee&&(_0x36f54f[_0x18cad8(0x62d)]=_0x18cad8(0x49e)),_0x26f66e?this[_0x18cad8(0x56c)](_0x36f54f):this[_0x18cad8(0x4cb)](_0x36f54f,_0x46e0bb);}[a0_0x22d3e1(0x6b9)](_0x21dc1f,_0x636694){const _0x38ec83=a0_0x22d3e1;return _0x21dc1f[_0x38ec83(0x3d6)](/\{\{([^}]+)\}\}/g,(_0x157b69,_0xe6a225)=>_0x636694[_0xe6a225]?'{{'+_0xe6a225+_0x38ec83(0x6e5)+_0x636694[_0xe6a225]+'\x22':'{{'+_0xe6a225+_0x38ec83(0x56e));}async['saveConversationToDatabase'](_0x379b56){const _0x67fbbd=a0_0x22d3e1;try{let _0x120462=Object[_0x67fbbd(0xf9)](_0x379b56['chatLog'][_0x67fbbd(0x15f)])[_0x67fbbd(0x2bf)](([_0x178fad,_0x3a855d])=>({'name':_0x178fad,'value':_0x3a855d})),_0x4e440b={'status':_0x379b56[_0x67fbbd(0x62d)],'blocks':_0x379b56[_0x67fbbd(0x459)],'waitingMenu_id':_0x379b56['waitingMenu_id'],'waitingMenu_text':_0x379b56[_0x67fbbd(0x444)],'waitingMenu_replyOptions':_0x379b56['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x379b56[_0x67fbbd(0x564)][_0x67fbbd(0x4f0)],'lastSendMessage':_0x379b56[_0x67fbbd(0x564)][_0x67fbbd(0x641)],'lastReceivedMessage':_0x379b56['chatLog'][_0x67fbbd(0x2a0)],'lastCondition':_0x379b56[_0x67fbbd(0x564)][_0x67fbbd(0x667)],'chatVariables':_0x120462,'realVariables':_0x379b56['chatLog'][_0x67fbbd(0x15f)],'blockLogs':_0x379b56[_0x67fbbd(0x564)][_0x67fbbd(0x4e2)]}},_0xe6c963=await this['repository'][_0x67fbbd(0x207)][_0x67fbbd(0x290)](_0x379b56[_0x67fbbd(0x494)],_0x4e440b,this[_0x67fbbd(0x22c)]['wuid']);if(_0xe6c963){this[_0x67fbbd(0x13f)][_0x67fbbd(0x605)](this[_0x67fbbd(0x4c1)]+'\x20('+this['instance'][_0x67fbbd(0x6a5)]+_0x67fbbd(0x409)+_0xe6c963[_0x67fbbd(0x494)]);try{let _0x7f15f8=[_0x67fbbd(0x25c),_0x67fbbd(0x541),_0x67fbbd(0x2f9),_0x67fbbd(0x661),_0x67fbbd(0x62d),_0x67fbbd(0x4ec),_0x67fbbd(0x4df),'tags',_0x67fbbd(0x46d)];if(!this[_0x67fbbd(0x41d)]&&(await this[_0x67fbbd(0xc1)](),!this[_0x67fbbd(0x41d)]))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x7101b=this[_0x67fbbd(0x41d)]?.[_0x67fbbd(0x2c7)][_0x67fbbd(0x2bf)](_0x427966=>_0x427966[_0x67fbbd(0xa8)]),_0x238722={};Object[_0x67fbbd(0xf9)](_0x379b56['chatLog']['realVariables'])[_0x67fbbd(0x2ee)](([_0x110e2d,_0x579f34])=>{const _0x296dc8=_0x67fbbd;_0x7f15f8['includes'](_0x110e2d)&&(_0x110e2d===_0x296dc8(0x2a2)&&typeof _0x579f34==_0x296dc8(0x53f)?_0x238722[_0x110e2d]=_0x579f34[_0x296dc8(0x142)](',')[_0x296dc8(0x2bf)](_0x2c7f92=>_0x2c7f92['trim']())[_0x296dc8(0x560)](_0xa6bee6=>_0xa6bee6!==''):_0x110e2d===_0x296dc8(0x46d)&&typeof _0x579f34==_0x296dc8(0x53f)?_0x238722[_0x110e2d]=_0x579f34[_0x296dc8(0x142)](',')['map'](_0x5995b1=>_0x5995b1[_0x296dc8(0x2dd)]())[_0x296dc8(0x560)](_0x1c0e6e=>_0x1c0e6e!==''):_0x238722[_0x110e2d]=_0x579f34);});let _0x166726=_0x379b56[_0x67fbbd(0x564)][_0x67fbbd(0x4e2)][_0x379b56['chatLog']['blockLogs'][_0x67fbbd(0x4b3)]-0x1];if(_0x166726){let _0x163a81=_0x166726['newStoppedUntil'];_0x163a81!==void 0x0&&(_0x238722[_0x67fbbd(0x253)]=_0x163a81['toString']());}let _0x4d555a=_0x120462[_0x67fbbd(0x560)](_0x5b62cc=>_0x7101b[_0x67fbbd(0x6e8)](_0x5b62cc['name']));this[_0x67fbbd(0x13f)][_0x67fbbd(0x605)](this[_0x67fbbd(0x4c1)]+'\x20('+this['instance']['wuid']+_0x67fbbd(0x503)),this[_0x67fbbd(0x13f)]['verbose'](_0x238722),this[_0x67fbbd(0x13f)]['verbose'](this['instanceName']+'\x20('+this[_0x67fbbd(0x22c)][_0x67fbbd(0x6a5)]+_0x67fbbd(0xc7)),this[_0x67fbbd(0x13f)]['verbose'](_0x4d555a);let _0x30aea3=_0x4d555a[_0x67fbbd(0x2bf)](_0x4425ea=>{const _0x2d6fef=_0x67fbbd;let _0x44e084=this[_0x2d6fef(0x41d)]?.['customFields'][_0x2d6fef(0x39d)](_0x145c3d=>_0x145c3d[_0x2d6fef(0xa8)]===_0x4425ea[_0x2d6fef(0xa8)]);if(!_0x44e084)throw new Error(_0x2d6fef(0x63b)+_0x4425ea[_0x2d6fef(0xa8)]);return{'_id':_0x44e084[_0x2d6fef(0x494)],'value':_0x4425ea[_0x2d6fef(0x521)]};});this[_0x67fbbd(0x13f)][_0x67fbbd(0x605)](this[_0x67fbbd(0x4c1)]+'\x20('+this[_0x67fbbd(0x22c)][_0x67fbbd(0x6a5)]+_0x67fbbd(0x63e)),this[_0x67fbbd(0x13f)][_0x67fbbd(0x605)](_0x30aea3),await this[_0x67fbbd(0x501)](_0x379b56[_0x67fbbd(0x412)],_0x238722,_0x30aea3);}catch(_0x56dc47){this[_0x67fbbd(0x13f)][_0x67fbbd(0x411)](this[_0x67fbbd(0x4c1)]+'\x20('+this['instance'][_0x67fbbd(0x6a5)]+_0x67fbbd(0x5b4)+(_0x56dc47 instanceof Error?_0x56dc47[_0x67fbbd(0x6c4)]:JSON['stringify'](_0x56dc47,null,0x2)));}}else this[_0x67fbbd(0x13f)][_0x67fbbd(0x411)](this[_0x67fbbd(0x4c1)]+'\x20('+this[_0x67fbbd(0x22c)][_0x67fbbd(0x6a5)]+_0x67fbbd(0x111));}catch(_0x39297){this['logger']['error'](this[_0x67fbbd(0x4c1)]+'\x20('+this[_0x67fbbd(0x22c)][_0x67fbbd(0x6a5)]+_0x67fbbd(0x288)+(_0x39297 instanceof Error?_0x39297[_0x67fbbd(0x6c4)]:JSON[_0x67fbbd(0x3c5)](_0x39297,null,0x2)));}}async['saveChatVariables'](_0x44c4b7,_0x17584f,_0x3e3448){const _0x30b686=a0_0x22d3e1;try{let _0x172fae={'leadInfo.leadnome':_0x17584f[_0x30b686(0x25c)],'leadInfo.nomecompleto':_0x17584f[_0x30b686(0x541)],'leadInfo.email':_0x17584f['email'],'leadInfo.cpf':_0x17584f[_0x30b686(0x661)],'leadInfo.status':_0x17584f[_0x30b686(0x62d)],'leadInfo.notas':_0x17584f['notas'],'leadInfo.responsavelid':_0x17584f['responsavelid'],'leadInfo.tags':_0x17584f[_0x30b686(0x2a2)],'leadInfo.etiquetas':_0x17584f[_0x30b686(0x46d)],'leadInfo.customFields':_0x3e3448},_0x4c77d3=await this['repository'][_0x30b686(0x147)][_0x30b686(0x639)]({'where':{'_id':_0x44c4b7}},this[_0x30b686(0x22c)]['wuid']),_0x5a2333=new Set(_0x4c77d3[_0x30b686(0x3f0)][_0x30b686(0x46d)]||[]),_0x4c0d88=new Set(_0x17584f['etiquetas']||[]),_0x10e7c8=await this['repository'][_0x30b686(0x3e9)][_0x30b686(0x39d)]({'where':{}},this[_0x30b686(0x22c)][_0x30b686(0x6a5)]),_0x4afe0f=new Set(_0x10e7c8[_0x30b686(0x2bf)](_0x5814d6=>_0x5814d6['_id'])),_0x482189=[..._0x4c0d88][_0x30b686(0x560)](_0x379363=>!_0x5a2333[_0x30b686(0x569)](_0x379363)&&_0x4afe0f[_0x30b686(0x569)](_0x379363)),_0x481b1b=[..._0x5a2333][_0x30b686(0x560)](_0x390217=>!_0x4c0d88[_0x30b686(0x569)](_0x390217));for(let _0xa1abf7 of _0x482189)await this[_0x30b686(0x69a)](_0xa1abf7,_0x4c77d3[_0x30b686(0x494)]),_0x5a2333[_0x30b686(0x62a)](_0xa1abf7);for(let _0x38f160 of _0x481b1b)await this[_0x30b686(0x441)](_0x38f160,_0x4c77d3[_0x30b686(0x494)]),_0x5a2333[_0x30b686(0x67b)](_0x38f160);if(_0x30b686(0x253)in _0x17584f){let _0x2b1035=_0x17584f[_0x30b686(0x253)];_0x172fae[_0x30b686(0xa3)]=_0x2b1035?Number(_0x2b1035):null;}let _0x7a5d6a=await this['repository'][_0x30b686(0x147)][_0x30b686(0x290)]({'where':{'_id':_0x44c4b7}},_0x172fae,this[_0x30b686(0x22c)]['wuid']);_0x7a5d6a?(this['logger']['verbose'](this[_0x30b686(0x4c1)]+'\x20('+this[_0x30b686(0x22c)][_0x30b686(0x6a5)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x7a5d6a[_0x30b686(0x494)]),J(this[_0x30b686(0x4c1)],_0x30b686(0x428),{'chat':_0x7a5d6a})):this[_0x30b686(0x13f)]['error'](this['instanceName']+'\x20('+this[_0x30b686(0x22c)][_0x30b686(0x6a5)]+'):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD');}catch(_0x3d52dd){this['logger'][_0x30b686(0x411)](this[_0x30b686(0x4c1)]+'\x20('+this['instance'][_0x30b686(0x6a5)]+_0x30b686(0x6c9)+(_0x3d52dd instanceof Error?_0x3d52dd[_0x30b686(0x6c4)]:JSON[_0x30b686(0x3c5)](_0x3d52dd,null,0x2)));}}async['updateStopChat'](_0x5c3974,_0x5a072e){const _0x12a2f6=a0_0x22d3e1;this['logger'][_0x12a2f6(0x605)](this[_0x12a2f6(0x4c1)]+'\x20('+this[_0x12a2f6(0x22c)][_0x12a2f6(0x6a5)]+_0x12a2f6(0xf5)+_0x5a072e);try{let _0x3d9e82=await this['repository'][_0x12a2f6(0x147)]['updateOne']({'where':{'_id':_0x5c3974[_0x12a2f6(0x412)]}},{'leadInfo.desativadoFluxoAte':_0x5a072e},this[_0x12a2f6(0x22c)]['wuid']);this[_0x12a2f6(0x13f)]['verbose'](this[_0x12a2f6(0x4c1)]+'\x20('+this['instance']['wuid']+_0x12a2f6(0x632)+_0x5c3974[_0x12a2f6(0x494)]),this[_0x12a2f6(0x13f)][_0x12a2f6(0x605)](this['instanceName']+'\x20('+this[_0x12a2f6(0x22c)][_0x12a2f6(0x6a5)]+_0x12a2f6(0xf5)+JSON['stringify'](_0x3d9e82,null,0x2)),_0x3d9e82&&J(this[_0x12a2f6(0x4c1)],_0x12a2f6(0x428),{'chat':_0x3d9e82});}catch(_0x4fb374){this[_0x12a2f6(0x13f)][_0x12a2f6(0x411)](this[_0x12a2f6(0x4c1)]+'\x20('+this[_0x12a2f6(0x22c)]['wuid']+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x4fb374 instanceof Error?_0x4fb374['message']:JSON[_0x12a2f6(0x3c5)](_0x4fb374,null,0x2)));}}async['findFlow'](_0x6fc6b6){const _0x3458c9=a0_0x22d3e1;try{this[_0x3458c9(0x13f)][_0x3458c9(0x605)](this[_0x3458c9(0x4c1)]+'\x20('+this[_0x3458c9(0x22c)][_0x3458c9(0x6a5)]+'):\x20Buscando\x20flow...');let _0x605c8d=_0x6fc6b6[_0x3458c9(0x3d6)](/\D/g,''),_0x3949d0=await this['repository']['flow']['findOne']({'where':{'testingWith':_0x605c8d}},this[_0x3458c9(0x22c)]['wuid']);return _0x3949d0||(this[_0x3458c9(0x13f)][_0x3458c9(0x605)](this['instanceName']+'\x20('+this[_0x3458c9(0x22c)][_0x3458c9(0x6a5)]+_0x3458c9(0x452)),_0x3949d0=await this[_0x3458c9(0xaa)][_0x3458c9(0x2c2)][_0x3458c9(0x639)]({'where':{'default':!0x0}},this[_0x3458c9(0x22c)][_0x3458c9(0x6a5)])),_0x3949d0||(this[_0x3458c9(0x13f)]['verbose'](this[_0x3458c9(0x4c1)]+'\x20('+this['instance'][_0x3458c9(0x6a5)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null);}catch(_0x47a282){return this[_0x3458c9(0x13f)]['error'](this[_0x3458c9(0x4c1)]+'\x20('+this['instance'][_0x3458c9(0x6a5)]+_0x3458c9(0x6b3)+(_0x47a282 instanceof Error?_0x47a282[_0x3458c9(0x6c4)]:JSON[_0x3458c9(0x3c5)](_0x47a282,null,0x2))),null;}}async[a0_0x22d3e1(0x2ae)](_0x509304,_0x1048b7){const _0x4f0599=a0_0x22d3e1;try{let _0x94784a=!!_0x1048b7[_0x4f0599(0x5bd)],_0x180b14=_0x1048b7[_0x4f0599(0x31a)],_0x4f764d=null;if(this[_0x4f0599(0x13f)][_0x4f0599(0x605)](this[_0x4f0599(0x4c1)]+'\x20('+this[_0x4f0599(0x22c)][_0x4f0599(0x6a5)]+_0x4f0599(0x26e)+_0x94784a+_0x4f0599(0x20f)+_0x180b14),_0x94784a){this[_0x4f0599(0x13f)]['verbose'](this['instanceName']+'\x20('+this[_0x4f0599(0x22c)]['wuid']+_0x4f0599(0x4d8));let _0x44ebce={'where':{'remoteJid':_0x509304,'waitingMenu_id':_0x180b14}};if(_0x4f764d=await this[_0x4f0599(0xaa)][_0x4f0599(0x207)][_0x4f0599(0x639)](_0x44ebce,this['instance'][_0x4f0599(0x6a5)]),!_0x4f764d)return this[_0x4f0599(0x13f)][_0x4f0599(0x605)](this['instanceName']+'\x20('+this[_0x4f0599(0x22c)][_0x4f0599(0x6a5)]+_0x4f0599(0x223)),null;let _0x48131a=Date['now'](),_0x39bb83=_0x4f764d?.[_0x4f0599(0x16c)]||0x0,_0x5b3295=_0x48131a-_0x39bb83*0x3c*0x3e8;if(_0x4f764d[_0x4f0599(0x6e7)]<_0x5b3295){this['logger'][_0x4f0599(0x605)](this[_0x4f0599(0x4c1)]+'\x20('+this[_0x4f0599(0x22c)][_0x4f0599(0x6a5)]+_0x4f0599(0x100));let _0x164bda={'number':_0x4f764d[_0x4f0599(0x412)],'options':{'delay':0x0},'textMessage':{'text':_0x4f764d[_0x4f0599(0x27e)]}};await this['textMessage'](_0x164bda);let _0x31c294={'status':_0x4f0599(0x49e),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x4f0599(0xaa)][_0x4f0599(0x207)][_0x4f0599(0x290)](_0x4f764d[_0x4f0599(0x494)],_0x31c294,this[_0x4f0599(0x22c)][_0x4f0599(0x6a5)]),null;}return _0x4f764d['lastInteraction']=Date['now'](),_0x4f764d['chatLog'][_0x4f0599(0x2a0)]=_0x1048b7,_0x4f764d;}else{this[_0x4f0599(0x13f)][_0x4f0599(0x605)](this[_0x4f0599(0x4c1)]+'\x20('+this[_0x4f0599(0x22c)][_0x4f0599(0x6a5)]+_0x4f0599(0x1fd)+this['instance'][_0x4f0599(0x6a5)]+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this[_0x4f0599(0x13f)][_0x4f0599(0x605)](this['instanceName']+'\x20('+this['instance'][_0x4f0599(0x6a5)]+_0x4f0599(0x506));let _0x4853c3={'where':{'remoteJid':_0x509304,'status':_0x4f0599(0x4d1)}};if(_0x4f764d=await this[_0x4f0599(0xaa)]['flowConversation'][_0x4f0599(0x639)](_0x4853c3,this[_0x4f0599(0x22c)][_0x4f0599(0x6a5)]),!_0x4f764d){let _0x551dbc=await this[_0x4f0599(0x518)](_0x509304);if(_0x551dbc&&(_0x4f764d=await this[_0x4f0599(0x636)](_0x551dbc,_0x1048b7[_0x4f0599(0x644)],_0x1048b7)),!_0x4f764d)return null;}let _0x2c573b=Date[_0x4f0599(0x299)](),_0x39082d=_0x4f764d?.[_0x4f0599(0x16c)]||0x0,_0x14ad02=_0x2c573b-_0x39082d*0x3c*0x3e8;if(this[_0x4f0599(0x13f)]['verbose'](this['instanceName']+'\x20('+this[_0x4f0599(0x22c)][_0x4f0599(0x6a5)]+_0x4f0599(0x48d)+_0x2c573b+_0x4f0599(0x179)+_0x39082d+_0x4f0599(0x3c8)+_0x14ad02),this[_0x4f0599(0x13f)][_0x4f0599(0x605)](this[_0x4f0599(0x4c1)]+'\x20('+this[_0x4f0599(0x22c)][_0x4f0599(0x6a5)]+_0x4f0599(0xfc)),this['logger'][_0x4f0599(0x605)](this[_0x4f0599(0x4c1)]+'\x20('+this['instance'][_0x4f0599(0x6a5)]+'):\x20conversation.lastInteraction:\x20'+_0x4f764d[_0x4f0599(0x6e7)]),this['logger']['verbose'](this[_0x4f0599(0x4c1)]+'\x20('+this[_0x4f0599(0x22c)]['wuid']+'):\x20expirationTime:\x20'+_0x14ad02),_0x4f764d[_0x4f0599(0x6e7)]<_0x14ad02){this[_0x4f0599(0x13f)][_0x4f0599(0x605)](this[_0x4f0599(0x4c1)]+'\x20('+this[_0x4f0599(0x22c)]['wuid']+'):\x20Conversa\x20está\x20expirada');let _0x5d1d28=await this[_0x4f0599(0x518)](_0x509304);if(_0x5d1d28===null)return null;_0x4f764d&&await this[_0x4f0599(0xaa)][_0x4f0599(0x207)][_0x4f0599(0x290)](_0x4f764d[_0x4f0599(0x494)],{'status':_0x4f0599(0x49e)},this[_0x4f0599(0x22c)][_0x4f0599(0x6a5)]),_0x4f764d=await this['createNewConversation'](_0x5d1d28,_0x1048b7[_0x4f0599(0x644)],_0x1048b7);}return _0x4f764d[_0x4f0599(0x6e7)]=_0x2c573b,_0x4f764d[_0x4f0599(0x564)]['lastReceivedMessage']=_0x1048b7,_0x4f764d;}}catch(_0x347a77){return this[_0x4f0599(0x13f)]['error'](this[_0x4f0599(0x4c1)]+'\x20('+this[_0x4f0599(0x22c)][_0x4f0599(0x6a5)]+_0x4f0599(0x5fa)+(_0x347a77 instanceof Error?_0x347a77[_0x4f0599(0x6c4)]:JSON[_0x4f0599(0x3c5)](_0x347a77,null,0x2))),null;}}async[a0_0x22d3e1(0x636)](_0x45b813,_0x96bcc2,_0xcd484e){const _0x1c57fa=a0_0x22d3e1;this[_0x1c57fa(0x13f)][_0x1c57fa(0x605)](this[_0x1c57fa(0x4c1)]+'\x20('+this[_0x1c57fa(0x22c)][_0x1c57fa(0x6a5)]+_0x1c57fa(0x6c5));try{let _0x4d521c=require(_0x1c57fa(0x439))[_0x1c57fa(0x46b)],_0x2d80b4=Date[_0x1c57fa(0x299)](),_0xfdff59=_0x1c57fa(0x550),_0x17eac7=_0x96bcc2[_0x1c57fa(0xb6)]?null:_0xcd484e,_0x2c432b=_0x96bcc2[_0x1c57fa(0xb6)]?_0xcd484e:null,_0x3091a8=_0x96bcc2['remoteJid'];await this['closeExistingConversations'](_0x3091a8);let _0x12009b={..._0x45b813,'chatLog':null},_0x55d354=await this[_0x1c57fa(0x4fc)](_0x12009b[_0x1c57fa(0x3d3)]),_0x487fb7=await this[_0x1c57fa(0x39b)](_0x3091a8),_0x2703c7={..._0x55d354,..._0x487fb7,'_remoteJid':_0x3091a8},_0x50632f={'lastReceivedMessage':_0x17eac7,'lastSendMessage':_0x2c432b,'lastBlockId':_0xfdff59,'lastCondition':!0x0,'realVariables':_0x2703c7};_0x12009b[_0x1c57fa(0x564)]=_0x50632f,delete _0x12009b[_0x1c57fa(0x494)],_0x12009b[_0x1c57fa(0x494)]=new _0x4d521c(),_0x12009b[_0x1c57fa(0x6e7)]=_0x2d80b4,_0x12009b['status']=_0x1c57fa(0x4d1),_0x12009b['remoteJid']=_0x3091a8;let _0x447dc0=await this[_0x1c57fa(0xaa)][_0x1c57fa(0x207)][_0x1c57fa(0x290)](_0x12009b['_id'],_0x12009b,this[_0x1c57fa(0x22c)][_0x1c57fa(0x6a5)]);return this[_0x1c57fa(0x13f)][_0x1c57fa(0x605)](this[_0x1c57fa(0x4c1)]+'\x20('+this[_0x1c57fa(0x22c)][_0x1c57fa(0x6a5)]+_0x1c57fa(0x6d5)),_0x447dc0?_0x12009b:null;}catch(_0x341e7b){return this[_0x1c57fa(0x13f)][_0x1c57fa(0x411)](this[_0x1c57fa(0x4c1)]+'\x20('+this[_0x1c57fa(0x22c)][_0x1c57fa(0x6a5)]+_0x1c57fa(0x35d)+(_0x341e7b instanceof Error?_0x341e7b[_0x1c57fa(0x6c4)]:JSON[_0x1c57fa(0x3c5)](_0x341e7b,null,0x2))),_0x341e7b;}}async[a0_0x22d3e1(0xff)](_0x1e5824,_0x453aa5){const _0x17206a=a0_0x22d3e1;let _0x56d3f8=_0x1e5824[_0x17206a(0x412)];_0x453aa5[_0x17206a(0x500)]['remoteJid']&&_0x453aa5[_0x17206a(0x500)][_0x17206a(0x412)][_0x17206a(0x2dd)]()!==''&&(_0x56d3f8=_0x453aa5[_0x17206a(0x500)][_0x17206a(0x412)][_0x17206a(0x2dd)]()),this[_0x17206a(0x13f)][_0x17206a(0x605)](this[_0x17206a(0x4c1)]+'\x20('+this['instance']['wuid']+_0x17206a(0x164));let _0x3a932a={'number':_0x56d3f8,'options':{'delay':_0x453aa5[_0x17206a(0x500)][_0x17206a(0x580)]},'textMessage':{'text':_0x453aa5[_0x17206a(0x500)][_0x17206a(0x546)]}};try{let _0x10e768=await this['textMessage'](_0x3a932a);if(_0x10e768){let _0x3380f5={'_id':_0x10e768[_0x17206a(0x644)]['id'],'_fromMe':_0x10e768[_0x17206a(0x644)][_0x17206a(0xb6)],'_remoteJid':_0x10e768[_0x17206a(0x644)][_0x17206a(0x412)]};_0x1e5824[_0x17206a(0x564)][_0x17206a(0x4f0)]=_0x453aa5[_0x17206a(0x494)][_0x17206a(0x12d)]();let {message_normalized:_0x5049b9}=this[_0x17206a(0x357)](_0x10e768[_0x17206a(0x6c4)],$(_0x10e768[_0x17206a(0x6c4)]),null);_0x1e5824['chatLog'][_0x17206a(0x641)]=await _0x5049b9;let _0x205e54={'messageId':_0x10e768[_0x17206a(0x644)]['id']},_0x4b946a=_0x1e5824[_0x17206a(0x564)][_0x17206a(0x15f)];Object['assign'](_0x4b946a,_0x3380f5),_0x1e5824[_0x17206a(0x564)][_0x17206a(0x15f)]=_0x4b946a,this['updateConversation'](_0x1e5824,_0x453aa5,_0x205e54);}else{let _0x495bfc={'error':!0x0};this['updateConversation'](_0x1e5824,_0x453aa5,_0x495bfc),this[_0x17206a(0x13f)][_0x17206a(0x411)](this[_0x17206a(0x4c1)]+'\x20('+this[_0x17206a(0x22c)][_0x17206a(0x6a5)]+_0x17206a(0x137));}}catch(_0x39fa5c){let _0x5d88f7={'error':!0x0,'errorLog':_0x39fa5c[_0x17206a(0x12d)]()};this[_0x17206a(0x145)](_0x1e5824,_0x453aa5,_0x5d88f7),this['logger'][_0x17206a(0x411)](this[_0x17206a(0x4c1)]+'\x20('+this[_0x17206a(0x22c)][_0x17206a(0x6a5)]+_0x17206a(0x358)+(_0x39fa5c instanceof Error?_0x39fa5c[_0x17206a(0x6c4)]:JSON[_0x17206a(0x3c5)](_0x39fa5c,null,0x2)));}}async[a0_0x22d3e1(0x5b2)](_0x10e5d6,_0x2a871b){const _0x1cf6f1=a0_0x22d3e1;let _0x4f5186=_0x10e5d6[_0x1cf6f1(0x412)];_0x2a871b[_0x1cf6f1(0x500)][_0x1cf6f1(0x412)]&&_0x2a871b['uazapi'][_0x1cf6f1(0x412)][_0x1cf6f1(0x2dd)]()!==''&&(_0x4f5186=_0x2a871b[_0x1cf6f1(0x500)][_0x1cf6f1(0x412)][_0x1cf6f1(0x2dd)]()),this[_0x1cf6f1(0x13f)][_0x1cf6f1(0x605)](this[_0x1cf6f1(0x4c1)]+'\x20('+this[_0x1cf6f1(0x22c)]['wuid']+'):\x20Enviando\x20mídia');let _0x543fa8={'number':_0x4f5186,'options':{'delay':_0x2a871b['uazapi'][_0x1cf6f1(0x580)]},'mediaMessage':{'mediatype':_0x2a871b[_0x1cf6f1(0x500)]['mediatype'],'caption':_0x2a871b['uazapi'][_0x1cf6f1(0x6d8)],'media':_0x2a871b[_0x1cf6f1(0x500)][_0x1cf6f1(0x344)],'fileName':_0x2a871b['uazapi'][_0x1cf6f1(0x1e4)]}};try{let _0x430735=await this[_0x1cf6f1(0x14f)](_0x543fa8);if(_0x430735){let _0x531c1d={'_id':_0x430735[_0x1cf6f1(0x644)]['id'],'_fromMe':_0x430735[_0x1cf6f1(0x644)][_0x1cf6f1(0xb6)],'_remoteJid':_0x430735[_0x1cf6f1(0x644)][_0x1cf6f1(0x412)]};_0x10e5d6['chatLog'][_0x1cf6f1(0x4f0)]=_0x2a871b['_id'][_0x1cf6f1(0x12d)]();let {message_normalized:_0x3656f7}=this[_0x1cf6f1(0x357)](_0x430735[_0x1cf6f1(0x6c4)],$(_0x430735[_0x1cf6f1(0x6c4)]),null);_0x10e5d6[_0x1cf6f1(0x564)][_0x1cf6f1(0x641)]=await _0x3656f7;let _0x4eac29={'messageId':_0x430735[_0x1cf6f1(0x644)]['id']},_0x2cdd62=_0x10e5d6[_0x1cf6f1(0x564)][_0x1cf6f1(0x15f)];Object[_0x1cf6f1(0x6cf)](_0x2cdd62,_0x531c1d),_0x10e5d6['chatLog'][_0x1cf6f1(0x15f)]=_0x2cdd62,this[_0x1cf6f1(0x145)](_0x10e5d6,_0x2a871b,_0x4eac29);}else{let _0x3a9400={'error':!0x0};this[_0x1cf6f1(0x145)](_0x10e5d6,_0x2a871b,_0x3a9400),this[_0x1cf6f1(0x13f)]['error'](this[_0x1cf6f1(0x4c1)]+'\x20('+this[_0x1cf6f1(0x22c)][_0x1cf6f1(0x6a5)]+_0x1cf6f1(0x400));}}catch(_0x39cabd){let _0x165574={'error':!0x0,'errorLog':_0x39cabd[_0x1cf6f1(0x12d)]()};this[_0x1cf6f1(0x145)](_0x10e5d6,_0x2a871b,_0x165574),this[_0x1cf6f1(0x13f)][_0x1cf6f1(0x411)](this[_0x1cf6f1(0x4c1)]+'\x20('+this[_0x1cf6f1(0x22c)][_0x1cf6f1(0x6a5)]+_0x1cf6f1(0x31b)+(_0x39cabd instanceof Error?_0x39cabd['message']:JSON['stringify'](_0x39cabd,null,0x2)));}}async[a0_0x22d3e1(0x379)](_0x3be53e,_0x52a387){const _0x3ea46a=a0_0x22d3e1;let _0x3d18bf=_0x3be53e['remoteJid'];_0x52a387[_0x3ea46a(0x500)][_0x3ea46a(0x412)]&&_0x52a387['uazapi'][_0x3ea46a(0x412)][_0x3ea46a(0x2dd)]()!==''&&(_0x3d18bf=_0x52a387[_0x3ea46a(0x500)][_0x3ea46a(0x412)][_0x3ea46a(0x2dd)]()),this[_0x3ea46a(0x13f)][_0x3ea46a(0x605)](this[_0x3ea46a(0x4c1)]+'\x20('+this[_0x3ea46a(0x22c)][_0x3ea46a(0x6a5)]+'):\x20Enviando\x20localização');let _0x70735d={'number':_0x3d18bf,'options':{'delay':_0x52a387[_0x3ea46a(0x500)]['delay']},'locationMessage':{'name':_0x52a387[_0x3ea46a(0x500)][_0x3ea46a(0xa8)],'address':_0x52a387[_0x3ea46a(0x500)][_0x3ea46a(0x472)],'latitude':_0x52a387['uazapi'][_0x3ea46a(0x588)],'longitude':_0x52a387['uazapi']['longitude']}};try{let _0x501fa4=await this['locationMessage'](_0x70735d);if(_0x501fa4){let _0x45507c={'_id':_0x501fa4[_0x3ea46a(0x644)]['id'],'_fromMe':_0x501fa4[_0x3ea46a(0x644)]['fromMe'],'_remoteJid':_0x501fa4[_0x3ea46a(0x644)][_0x3ea46a(0x412)]};_0x3be53e[_0x3ea46a(0x564)][_0x3ea46a(0x4f0)]=_0x52a387[_0x3ea46a(0x494)][_0x3ea46a(0x12d)]();let {message_normalized:_0x39c14a}=this[_0x3ea46a(0x357)](_0x501fa4[_0x3ea46a(0x6c4)],$(_0x501fa4[_0x3ea46a(0x6c4)]),null);_0x3be53e[_0x3ea46a(0x564)][_0x3ea46a(0x641)]=await _0x39c14a;let _0x39cc29={'messageId':_0x501fa4['key']['id']},_0x49161e=_0x3be53e[_0x3ea46a(0x564)][_0x3ea46a(0x15f)];Object[_0x3ea46a(0x6cf)](_0x49161e,_0x45507c),_0x3be53e[_0x3ea46a(0x564)][_0x3ea46a(0x15f)]=_0x49161e,this['updateConversation'](_0x3be53e,_0x52a387,_0x39cc29);}else{let _0x3419c3={'error':!0x0};this[_0x3ea46a(0x145)](_0x3be53e,_0x52a387,_0x3419c3),this[_0x3ea46a(0x13f)][_0x3ea46a(0x411)](this[_0x3ea46a(0x4c1)]+'\x20('+this[_0x3ea46a(0x22c)][_0x3ea46a(0x6a5)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0x3269e5){let _0x3abc73={'error':!0x0,'errorLog':_0x3269e5[_0x3ea46a(0x12d)]()};this[_0x3ea46a(0x145)](_0x3be53e,_0x52a387,_0x3abc73),this[_0x3ea46a(0x13f)][_0x3ea46a(0x411)](this[_0x3ea46a(0x4c1)]+'\x20('+this[_0x3ea46a(0x22c)][_0x3ea46a(0x6a5)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x3269e5 instanceof Error?_0x3269e5[_0x3ea46a(0x6c4)]:JSON[_0x3ea46a(0x3c5)](_0x3269e5,null,0x2)));}}async['uazapiSendAudio'](_0xeb1700,_0x6c6aa4){const _0x51f5f9=a0_0x22d3e1;let _0x5ef31c=_0xeb1700[_0x51f5f9(0x412)];_0x6c6aa4[_0x51f5f9(0x500)]['remoteJid']&&_0x6c6aa4['uazapi'][_0x51f5f9(0x412)]['trim']()!==''&&(_0x5ef31c=_0x6c6aa4[_0x51f5f9(0x500)][_0x51f5f9(0x412)][_0x51f5f9(0x2dd)]()),this[_0x51f5f9(0x13f)][_0x51f5f9(0x605)](this[_0x51f5f9(0x4c1)]+'\x20('+this[_0x51f5f9(0x22c)][_0x51f5f9(0x6a5)]+_0x51f5f9(0x3ab));let _0x4712e5={'number':_0x5ef31c,'options':{'delay':_0x6c6aa4[_0x51f5f9(0x500)]['delay']},'audioMessage':{'audio':_0x6c6aa4[_0x51f5f9(0x500)][_0x51f5f9(0x341)]}};try{let _0x3691ce=await this['audioWhatsapp'](_0x4712e5);if(_0x3691ce){let _0x5c84fc={'_id':_0x3691ce['key']['id'],'_fromMe':_0x3691ce[_0x51f5f9(0x644)][_0x51f5f9(0xb6)],'_remoteJid':_0x3691ce[_0x51f5f9(0x644)][_0x51f5f9(0x412)]};_0xeb1700[_0x51f5f9(0x564)][_0x51f5f9(0x4f0)]=_0x6c6aa4['_id'][_0x51f5f9(0x12d)]();let {message_normalized:_0x1ab321}=this[_0x51f5f9(0x357)](_0x3691ce[_0x51f5f9(0x6c4)],$(_0x3691ce['message']),null);_0xeb1700[_0x51f5f9(0x564)]['lastSendMessage']=await _0x1ab321;let _0x1d6bf4={'messageId':_0x3691ce[_0x51f5f9(0x644)]['id']},_0x11bd5a=_0xeb1700[_0x51f5f9(0x564)][_0x51f5f9(0x15f)];Object['assign'](_0x11bd5a,_0x5c84fc),_0xeb1700[_0x51f5f9(0x564)][_0x51f5f9(0x15f)]=_0x11bd5a,this[_0x51f5f9(0x145)](_0xeb1700,_0x6c6aa4,_0x1d6bf4);}else{let _0x9bcecc={'error':!0x0};this[_0x51f5f9(0x145)](_0xeb1700,_0x6c6aa4,_0x9bcecc),this[_0x51f5f9(0x13f)]['error'](this[_0x51f5f9(0x4c1)]+'\x20('+this[_0x51f5f9(0x22c)]['wuid']+_0x51f5f9(0x59a));}}catch(_0x6e62f1){let _0x5443f8={'error':!0x0,'errorLog':_0x6e62f1[_0x51f5f9(0x12d)]()};this[_0x51f5f9(0x145)](_0xeb1700,_0x6c6aa4,_0x5443f8),this[_0x51f5f9(0x13f)][_0x51f5f9(0x411)](this[_0x51f5f9(0x4c1)]+'\x20('+this['instance'][_0x51f5f9(0x6a5)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0x6e62f1 instanceof Error?_0x6e62f1['message']:JSON['stringify'](_0x6e62f1,null,0x2)));}}async[a0_0x22d3e1(0xad)](_0x120a25,_0x4314d4){const _0x26dd94=a0_0x22d3e1;let _0x4cbc82=_0x120a25[_0x26dd94(0x412)];_0x4314d4[_0x26dd94(0x500)][_0x26dd94(0x412)]&&_0x4314d4[_0x26dd94(0x500)][_0x26dd94(0x412)]['trim']()!==''&&(_0x4cbc82=_0x4314d4[_0x26dd94(0x500)][_0x26dd94(0x412)][_0x26dd94(0x2dd)]()),this[_0x26dd94(0x13f)][_0x26dd94(0x605)](this[_0x26dd94(0x4c1)]+'\x20('+this[_0x26dd94(0x22c)]['wuid']+_0x26dd94(0x285));let _0x309fb9={'number':_0x4cbc82,'options':{'delay':_0x4314d4[_0x26dd94(0x500)]['delay']},'contactMessage':[{'fullName':_0x4314d4[_0x26dd94(0x500)][_0x26dd94(0x5e3)],'phoneNumber':_0x4314d4[_0x26dd94(0x500)][_0x26dd94(0x2ff)]}]};try{let _0x124bb2=await this['contactMessage'](_0x309fb9);if(_0x124bb2){let _0x177f03={'_id':_0x124bb2[_0x26dd94(0x644)]['id'],'_fromMe':_0x124bb2['key']['fromMe'],'_remoteJid':_0x124bb2[_0x26dd94(0x644)][_0x26dd94(0x412)]};_0x120a25['chatLog'][_0x26dd94(0x4f0)]=_0x4314d4[_0x26dd94(0x494)][_0x26dd94(0x12d)]();let {message_normalized:_0x164c1e}=this[_0x26dd94(0x357)](_0x124bb2[_0x26dd94(0x6c4)],$(_0x124bb2[_0x26dd94(0x6c4)]),null);_0x120a25[_0x26dd94(0x564)][_0x26dd94(0x641)]=await _0x164c1e;let _0x33a5fa={'messageId':_0x124bb2['key']['id']},_0x37292b=_0x120a25['chatLog'][_0x26dd94(0x15f)];Object[_0x26dd94(0x6cf)](_0x37292b,_0x177f03),_0x120a25[_0x26dd94(0x564)][_0x26dd94(0x15f)]=_0x37292b,this['updateConversation'](_0x120a25,_0x4314d4,_0x33a5fa);}else{let _0x405bc5={'error':!0x0};this['updateConversation'](_0x120a25,_0x4314d4,_0x405bc5),this[_0x26dd94(0x13f)]['error'](this[_0x26dd94(0x4c1)]+'\x20('+this[_0x26dd94(0x22c)]['wuid']+_0x26dd94(0x1f1));}}catch(_0x8d051d){let _0x2d9d31={'error':!0x0,'errorLog':_0x8d051d[_0x26dd94(0x12d)]()};this['updateConversation'](_0x120a25,_0x4314d4,_0x2d9d31),this[_0x26dd94(0x13f)][_0x26dd94(0x411)](this[_0x26dd94(0x4c1)]+'\x20('+this['instance']['wuid']+_0x26dd94(0x313)+(_0x8d051d instanceof Error?_0x8d051d[_0x26dd94(0x6c4)]:JSON['stringify'](_0x8d051d,null,0x2)));}}[a0_0x22d3e1(0x6e9)](_0x213131,_0x68272b){const _0x3be322=a0_0x22d3e1;for(let _0x59905c of _0x213131)_0x59905c[_0x3be322(0x149)]&&(_0x59905c[_0x3be322(0x149)]=this[_0x3be322(0x57a)](_0x59905c[_0x3be322(0x149)],_0x68272b)),_0x59905c['optionDescription']&&(_0x59905c[_0x3be322(0x662)]=this['replaceVariables'](_0x59905c[_0x3be322(0x662)],_0x68272b));}async[a0_0x22d3e1(0x4f4)](_0x42a7aa,_0x3dc182){const _0x1bb800=a0_0x22d3e1;let _0x5e9c0e=_0x42a7aa[_0x1bb800(0x412)];_0x3dc182[_0x1bb800(0x500)]['remoteJid']&&_0x3dc182[_0x1bb800(0x500)]['remoteJid'][_0x1bb800(0x2dd)]()!==''&&(_0x5e9c0e=_0x3dc182[_0x1bb800(0x500)]['remoteJid'][_0x1bb800(0x2dd)]()),this[_0x1bb800(0x13f)][_0x1bb800(0x605)](this[_0x1bb800(0x4c1)]+'\x20('+this['instance'][_0x1bb800(0x6a5)]+_0x1bb800(0x6e6));let _0x4fb8f9=_0x42a7aa['replyOptions'][_0x1bb800(0x560)](_0x7d46f2=>_0x7d46f2[_0x1bb800(0x516)]===_0x3dc182[_0x1bb800(0x494)])[_0x1bb800(0x14e)]((_0x444a76,_0x36bc83)=>_0x444a76[_0x1bb800(0x5ff)]-_0x36bc83[_0x1bb800(0x5ff)]);this[_0x1bb800(0x6e9)](_0x4fb8f9,_0x42a7aa[_0x1bb800(0x564)][_0x1bb800(0x15f)]);let _0x35fcc3=_0x4fb8f9[_0x1bb800(0x2bf)](_0x1a7cbe=>_0x1a7cbe[_0x1bb800(0x149)]),_0x50031e={'number':_0x5e9c0e,'menuMessage':{'type':_0x3dc182[_0x1bb800(0x500)]['menuType']||_0x1bb800(0x293),'text':_0x3dc182[_0x1bb800(0x500)][_0x1bb800(0x546)]||_0x3dc182[_0x1bb800(0x500)][_0x1bb800(0xa8)],'footerText':_0x3dc182[_0x1bb800(0x500)][_0x1bb800(0x331)],'buttonText':_0x3dc182[_0x1bb800(0x500)][_0x1bb800(0x488)],'selectableCount':0x1,'choices':_0x35fcc3},'options':{'delay':_0x3dc182['uazapi'][_0x1bb800(0x580)]}};try{let _0x38e30e=await this['menuMessage'](_0x50031e);if(_0x38e30e){let _0x238263={'_id':_0x38e30e[_0x1bb800(0x644)]['id'],'_fromMe':_0x38e30e[_0x1bb800(0x644)][_0x1bb800(0xb6)],'_remoteJid':_0x38e30e[_0x1bb800(0x644)]['remoteJid']};_0x3dc182[_0x1bb800(0x500)][_0x1bb800(0x281)]===!0x0&&(_0x42a7aa[_0x1bb800(0x62d)]='waitingForReplyMenu',this['logger'][_0x1bb800(0x605)](this['instanceName']+'\x20('+this[_0x1bb800(0x22c)][_0x1bb800(0x6a5)]+_0x1bb800(0xde)+_0x42a7aa[_0x1bb800(0x62d)])),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x1bb800(0x22c)][_0x1bb800(0x6a5)]+_0x1bb800(0x5ed)+(_0x3dc182[_0x1bb800(0x500)][_0x1bb800(0xa8)]||_0x3dc182['uazapi']['text'])),_0x42a7aa[_0x1bb800(0x657)]=_0x38e30e['key']['id'],_0x42a7aa['waitingMenu_text']=_0x3dc182[_0x1bb800(0x500)][_0x1bb800(0xa8)]||_0x3dc182[_0x1bb800(0x500)][_0x1bb800(0x546)],_0x42a7aa[_0x1bb800(0x6d0)]=_0x4fb8f9,_0x3dc182['uazapi'][_0x1bb800(0x4ab)]&&(_0x42a7aa[_0x1bb800(0x27e)]=_0x3dc182['uazapi'][_0x1bb800(0x4ab)]),this[_0x1bb800(0x13f)][_0x1bb800(0x605)](this[_0x1bb800(0x4c1)]+'\x20('+this[_0x1bb800(0x22c)][_0x1bb800(0x6a5)]+_0x1bb800(0x5a5)+_0x42a7aa[_0x1bb800(0x444)]),_0x42a7aa[_0x1bb800(0x564)][_0x1bb800(0x4f0)]=_0x3dc182['_id'][_0x1bb800(0x12d)]();let {message_normalized:_0x58455e}=this[_0x1bb800(0x357)](_0x38e30e[_0x1bb800(0x6c4)],$(_0x38e30e[_0x1bb800(0x6c4)]),null);_0x42a7aa[_0x1bb800(0x564)]['lastSendMessage']=await _0x58455e;let _0x25ccfb={'messageId':_0x38e30e[_0x1bb800(0x644)]['id']},_0x6bc4f3=_0x42a7aa['chatLog'][_0x1bb800(0x15f)];Object[_0x1bb800(0x6cf)](_0x6bc4f3,_0x238263),_0x42a7aa[_0x1bb800(0x564)]['realVariables']=_0x6bc4f3,this[_0x1bb800(0x145)](_0x42a7aa,_0x3dc182,_0x25ccfb);}else{let _0x34bfef={'error':!0x0};this[_0x1bb800(0x145)](_0x42a7aa,_0x3dc182,_0x34bfef),this[_0x1bb800(0x13f)]['error'](this[_0x1bb800(0x4c1)]+'\x20('+this[_0x1bb800(0x22c)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0xc55cad){let _0x4d99de={'error':!0x0,'errorLog':_0xc55cad instanceof Error?_0xc55cad[_0x1bb800(0x6c4)]:JSON['stringify'](_0xc55cad,null,0x2)};this[_0x1bb800(0x145)](_0x42a7aa,_0x3dc182,_0x4d99de),this['logger'][_0x1bb800(0x411)](this[_0x1bb800(0x4c1)]+'\x20('+this[_0x1bb800(0x22c)][_0x1bb800(0x6a5)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0xc55cad instanceof Error?_0xc55cad['message']:JSON['stringify'](_0xc55cad,null,0x2)));}}async['uazapiDeleteMessage'](_0x37b8b7,_0x275854){const _0x11950b=a0_0x22d3e1;this['logger'][_0x11950b(0x605)](this['instanceName']+'\x20('+this['instance'][_0x11950b(0x6a5)]+'):\x20Deletando\x20mensagem');let _0xed0e02=_0x37b8b7[_0x11950b(0x564)][_0x11950b(0x4e2)][_0x11950b(0x39d)](_0x2871de=>_0x2871de[_0x11950b(0x516)][_0x11950b(0x12d)]()===_0x275854[_0x11950b(0x500)][_0x11950b(0x516)][_0x11950b(0x12d)]()),_0x538e97={'id':_0xed0e02[_0x11950b(0x384)],'remoteJid':_0xed0e02[_0x11950b(0x412)],'fromMe':_0xed0e02[_0x11950b(0xb6)]};try{let _0x41b103=await this['deleteMessage'](_0x538e97);if(_0x41b103){_0x37b8b7[_0x11950b(0x564)][_0x11950b(0x4f0)]=_0x275854[_0x11950b(0x494)][_0x11950b(0x12d)]();let {message_normalized:_0x9be798}=this['normalizeMessage'](_0x41b103[_0x11950b(0x6c4)],$(_0x41b103[_0x11950b(0x6c4)]),null);_0x37b8b7[_0x11950b(0x564)][_0x11950b(0x641)]=await _0x9be798;let _0x155e3={};this['updateConversation'](_0x37b8b7,_0x275854,_0x155e3);}else{let _0x2c68c6={'error':!0x0};this['updateConversation'](_0x37b8b7,_0x275854,_0x2c68c6),this[_0x11950b(0x13f)][_0x11950b(0x411)](this['instanceName']+'\x20('+this[_0x11950b(0x22c)][_0x11950b(0x6a5)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x1a6b36){let _0x15aac={'error':!0x0,'errorLog':_0x1a6b36 instanceof Error?_0x1a6b36[_0x11950b(0x6c4)]:JSON[_0x11950b(0x3c5)](_0x1a6b36,null,0x2)};this['updateConversation'](_0x37b8b7,_0x275854,_0x15aac),this['logger']['error'](this[_0x11950b(0x4c1)]+'\x20('+this[_0x11950b(0x22c)][_0x11950b(0x6a5)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x1a6b36 instanceof Error?_0x1a6b36['message']:JSON[_0x11950b(0x3c5)](_0x1a6b36,null,0x2)));}}async[a0_0x22d3e1(0x227)](_0x5f14fd){const _0x49f986=a0_0x22d3e1;try{if(this[_0x49f986(0x13f)][_0x49f986(0x605)](this['instanceName']+'\x20('+this[_0x49f986(0x22c)][_0x49f986(0x6a5)]+_0x49f986(0x115)),await this[_0x49f986(0xaa)]['flow']['findOne']({'where':{'name':_0x5f14fd['name']}},this['instance'][_0x49f986(0x6a5)]))return{'message':_0x49f986(0xd9)};_0x5f14fd[_0x49f986(0x106)]===!0x0&&await this['repository'][_0x49f986(0x2c2)][_0x49f986(0x56d)]({},{'default':!0x1},this[_0x49f986(0x22c)]['wuid']);let _0x3800c8=new ie[(_0x49f986(0x86))][(_0x49f986(0x46b))](),_0xfd3de6={'_id':_0x3800c8,'default':!0x0,'title':_0x49f986(0x21f),'x':0x0,'y':0x0},_0x49ba9b={'_id':new ie[(_0x49f986(0x86))][(_0x49f986(0x46b))](),'order':0x1,'groupId':_0x3800c8['toString'](),'type':_0x49f986(0x550)},_0x41f421={'_id':new ie[(_0x49f986(0x86))]['ObjectId'](),'owner':this['instance'][_0x49f986(0x6a5)],'name':_0x5f14fd[_0x49f986(0xa8)],'groups':[_0xfd3de6],'blocks':[_0x49ba9b],..._0x5f14fd};return _0x41f421=await this['repository']['flow'][_0x49f986(0x5c9)](_0x41f421,this[_0x49f986(0x22c)][_0x49f986(0x6a5)]),_0x41f421;}catch(_0x35b73f){throw this['logger']['error'](this[_0x49f986(0x4c1)]+'\x20('+this[_0x49f986(0x22c)][_0x49f986(0x6a5)]+_0x49f986(0x394)+(_0x35b73f instanceof Error?_0x35b73f['message']:JSON[_0x49f986(0x3c5)](_0x35b73f,null,0x2))),new m(_0x49f986(0x6a9)+_0x35b73f);}}async[a0_0x22d3e1(0x581)](_0x45e829){const _0x477dd8=a0_0x22d3e1;try{return this[_0x477dd8(0x13f)]['verbose'](this['instanceName']+'\x20('+this[_0x477dd8(0x22c)][_0x477dd8(0x6a5)]+'):\x20Deletando\x20fluxo...'),await this[_0x477dd8(0xaa)][_0x477dd8(0x2c2)][_0x477dd8(0x17d)]({'where':{'name':_0x45e829}},this['instance'][_0x477dd8(0x6a5)]);}catch(_0x2edcd1){return this['logger'][_0x477dd8(0x411)](this[_0x477dd8(0x4c1)]+'\x20('+this[_0x477dd8(0x22c)][_0x477dd8(0x6a5)]+_0x477dd8(0xda)+(_0x2edcd1 instanceof Error?_0x2edcd1[_0x477dd8(0x6c4)]:JSON['stringify'](_0x2edcd1,null,0x2))),{'message':_0x477dd8(0x471)+_0x2edcd1};}}async[a0_0x22d3e1(0x2e5)](_0x1bf091){const _0x7c4f17=a0_0x22d3e1;try{this['logger'][_0x7c4f17(0x605)](this[_0x7c4f17(0x4c1)]+'\x20('+this[_0x7c4f17(0x22c)][_0x7c4f17(0x6a5)]+'):\x20Buscando\x20flow...');let _0x444dc2=await this['repository']['flow'][_0x7c4f17(0x639)]({'where':{'name':_0x1bf091}},this[_0x7c4f17(0x22c)]['wuid']);if(!_0x444dc2)throw new Error(_0x7c4f17(0x28d));if(!this[_0x7c4f17(0x41d)]&&(await this[_0x7c4f17(0xc1)](),!this[_0x7c4f17(0x41d)]))return null;let _0x21779e=this[_0x7c4f17(0x41d)]?.[_0x7c4f17(0x2c7)]['map'](_0x6b2ba9=>_0x6b2ba9['name']),_0x1cb929=[_0x7c4f17(0x25c),'nomecompleto',_0x7c4f17(0x2f9),_0x7c4f17(0x661),_0x7c4f17(0x62d),_0x7c4f17(0x4ec),_0x7c4f17(0x4df),_0x7c4f17(0x2a2),'etiquetas'];_0x444dc2['variables']=_0x444dc2[_0x7c4f17(0x3d3)][_0x7c4f17(0x560)](_0x2468bd=>!(_0x2468bd[_0x7c4f17(0x1e2)]==='leadInfo'||_0x2468bd['leadInfo'])),_0x1cb929[_0x7c4f17(0x2ee)](_0x32fe4e=>{const _0x24110f=_0x7c4f17;_0x444dc2[_0x24110f(0x3d3)][_0x24110f(0x435)]({'folder':_0x24110f(0x3f0),'name':_0x32fe4e,'value':'','doc':'','leadInfo':!0x0});}),_0x21779e[_0x7c4f17(0x2ee)](_0x436c5f=>{const _0x3c9613=_0x7c4f17;let _0x40f5fb=_0x444dc2[_0x3c9613(0x3d3)]['findIndex'](_0x1b0725=>_0x1b0725[_0x3c9613(0xa8)]===_0x436c5f);_0x40f5fb===-0x1?_0x444dc2[_0x3c9613(0x3d3)][_0x3c9613(0x435)]({'folder':'leadInfo','name':_0x436c5f,'value':'','doc':'','leadInfo':!0x0}):(_0x444dc2['variables'][_0x40f5fb]['folder']='leadInfo',_0x444dc2[_0x3c9613(0x3d3)][_0x40f5fb][_0x3c9613(0x3f0)]=!0x0);}),_0x444dc2[_0x7c4f17(0x459)]&&_0x444dc2[_0x7c4f17(0x459)]['length']>0x0&&_0x444dc2[_0x7c4f17(0x459)]['forEach'](_0x20bf88=>{const _0x16bd29=_0x7c4f17;_0x20bf88[_0x16bd29(0x30b)]&&_0x20bf88['next_groupId']&&_0x20bf88[_0x16bd29(0x30b)]===_0x20bf88[_0x16bd29(0x5cf)]&&(_0x20bf88[_0x16bd29(0x5cf)]=null);});let _0x14cd70=await this[_0x7c4f17(0xaa)][_0x7c4f17(0x2c2)][_0x7c4f17(0x290)](_0x444dc2['_id'],_0x444dc2,this['instance'][_0x7c4f17(0x6a5)]);if(!_0x14cd70)throw new Error(_0x7c4f17(0x47c));return _0x14cd70;}catch(_0x53d54c){throw this[_0x7c4f17(0x13f)][_0x7c4f17(0x411)](this['instanceName']+'\x20('+this[_0x7c4f17(0x22c)][_0x7c4f17(0x6a5)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20'+(_0x53d54c instanceof Error?_0x53d54c['message']:JSON[_0x7c4f17(0x3c5)](_0x53d54c,null,0x2))),new m(_0x7c4f17(0x464)+_0x53d54c);}}async['allFlows'](){const _0x4de69f=a0_0x22d3e1;try{return this[_0x4de69f(0x13f)][_0x4de69f(0x605)](this[_0x4de69f(0x4c1)]+'\x20('+this[_0x4de69f(0x22c)][_0x4de69f(0x6a5)]+_0x4de69f(0x548)),await this[_0x4de69f(0xaa)]['flow']['findAll']({'where':{}},this['instance'][_0x4de69f(0x6a5)]);}catch(_0x3cd5a1){return this[_0x4de69f(0x13f)]['error'](this[_0x4de69f(0x4c1)]+'\x20('+this[_0x4de69f(0x22c)][_0x4de69f(0x6a5)]+'):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20'+(_0x3cd5a1 instanceof Error?_0x3cd5a1[_0x4de69f(0x6c4)]:JSON[_0x4de69f(0x3c5)](_0x3cd5a1,null,0x2))),{'message':_0x4de69f(0x24e)+_0x3cd5a1};}}async['editFlow'](_0xd9a7fa){const _0x5c8e81=a0_0x22d3e1;try{this[_0x5c8e81(0x13f)][_0x5c8e81(0x605)](this[_0x5c8e81(0x4c1)]+'\x20('+this[_0x5c8e81(0x22c)]['wuid']+_0x5c8e81(0x158));let _0x550283=await this[_0x5c8e81(0xaa)]['flow']['findOne']({'where':{'name':_0xd9a7fa[_0x5c8e81(0xa8)]}},this[_0x5c8e81(0x22c)][_0x5c8e81(0x6a5)]);return _0x550283?(_0xd9a7fa[_0x5c8e81(0x106)]===!0x0&&await this[_0x5c8e81(0xaa)][_0x5c8e81(0x2c2)]['updateMany']({},{'default':!0x1},this['instance'][_0x5c8e81(0x6a5)]),await this[_0x5c8e81(0xaa)][_0x5c8e81(0x2c2)][_0x5c8e81(0x290)](_0x550283[_0x5c8e81(0x494)],_0xd9a7fa,this['instance'][_0x5c8e81(0x6a5)])):{'message':_0x5c8e81(0x698)};}catch(_0x32a7a9){throw this['logger'][_0x5c8e81(0x411)](this[_0x5c8e81(0x4c1)]+'\x20('+this['instance'][_0x5c8e81(0x6a5)]+_0x5c8e81(0x5ae)+(_0x32a7a9 instanceof Error?_0x32a7a9['message']:JSON[_0x5c8e81(0x3c5)](_0x32a7a9,null,0x2))),new m('Erro\x20ao\x20alterar\x20o\x20fluxo:\x20'+(_0x32a7a9 instanceof Error?_0x32a7a9[_0x5c8e81(0x6c4)]:JSON['stringify'](_0x32a7a9,null,0x2)));}}async[a0_0x22d3e1(0x629)](_0x23b68b){const _0x1860c6=a0_0x22d3e1;try{this[_0x1860c6(0x13f)][_0x1860c6(0x605)](this[_0x1860c6(0x4c1)]+'\x20('+this[_0x1860c6(0x22c)][_0x1860c6(0x6a5)]+_0x1860c6(0x16f));let _0x5f0fa0=await this[_0x1860c6(0xaa)]['flow'][_0x1860c6(0x639)]({'where':{'name':_0x23b68b[_0x1860c6(0xa8)]}},this[_0x1860c6(0x22c)][_0x1860c6(0x6a5)]);_0x5f0fa0||this['throwAndLogError'](_0x1860c6(0x28d));let {block:_0xb90358}=_0x23b68b;_0xb90358?.[_0x1860c6(0x68a)]?this[_0x1860c6(0x122)](_0x5f0fa0,_0x23b68b):_0xb90358?.[_0x1860c6(0x67b)]?this[_0x1860c6(0x64e)](_0x5f0fa0,_0x23b68b):_0xb90358[_0x1860c6(0x494)]?await this[_0x1860c6(0x1ef)](_0x5f0fa0,_0x23b68b):this[_0x1860c6(0x534)](_0x5f0fa0,_0x23b68b);let _0x4d7c66=await this[_0x1860c6(0xaa)]['flow'][_0x1860c6(0x290)](_0x5f0fa0[_0x1860c6(0x494)],_0x5f0fa0,this['instance'][_0x1860c6(0x6a5)]);if(!_0x4d7c66)throw new Error(_0x1860c6(0x47c));return _0x4d7c66;}catch(_0x311f8a){this[_0x1860c6(0x3e1)](_0x1860c6(0x6d1)+_0x311f8a);}}async[a0_0x22d3e1(0x122)](_0x4422ac,_0x4cfc7f){const _0x15387d=a0_0x22d3e1;let _0xad6347=_0x4cfc7f['block']['_id'],_0x577eaf=_0x4422ac[_0x15387d(0x459)][_0x15387d(0x39d)](_0x25d560=>_0x25d560['_id'][_0x15387d(0x12d)]()===_0xad6347);if(!_0x577eaf){this[_0x15387d(0x13f)][_0x15387d(0x411)](this[_0x15387d(0x4c1)]+'\x20('+this[_0x15387d(0x22c)][_0x15387d(0x6a5)]+'):\x20Bloco\x20com\x20ID\x20'+_0xad6347+_0x15387d(0x226));return;}this[_0x15387d(0x13f)][_0x15387d(0x605)](this[_0x15387d(0x4c1)]+'\x20('+this[_0x15387d(0x22c)][_0x15387d(0x6a5)]+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON[_0x15387d(0x3c5)](_0x577eaf));let _0x396568=JSON['parse'](JSON['stringify'](_0x577eaf));_0x396568[_0x15387d(0x494)]=new ie[(_0x15387d(0x106))][(_0x15387d(0x86))][(_0x15387d(0x46b))](),this[_0x15387d(0x13f)]['verbose'](this[_0x15387d(0x4c1)]+'\x20('+this[_0x15387d(0x22c)][_0x15387d(0x6a5)]+_0x15387d(0xe5)+JSON[_0x15387d(0x3c5)](_0x396568)),_0x4422ac[_0x15387d(0x459)]['push'](_0x396568),this[_0x15387d(0xb7)](_0x4422ac[_0x15387d(0x459)],_0x396568[_0x15387d(0x30b)]);}['throwAndLogError'](_0x582f31){const _0x3040f3=a0_0x22d3e1;throw this['logger'][_0x3040f3(0x411)](this['instanceName']+'\x20('+this['instance'][_0x3040f3(0x6a5)]+_0x3040f3(0x1fd)+_0x582f31),new m(_0x582f31);}[a0_0x22d3e1(0x64e)](_0x152d7a,_0x419695){const _0x34f038=a0_0x22d3e1;let {block:_0x35cbe6}=_0x419695;if(_0x35cbe6['type']===_0x34f038(0x550)){this[_0x34f038(0x3e1)](_0x34f038(0x6c0));return;}if(!_0x35cbe6[_0x34f038(0x494)]){this[_0x34f038(0x3e1)](_0x34f038(0x3e2));return;}let _0x5b0e62=_0x152d7a[_0x34f038(0x459)][_0x34f038(0x39d)](_0x2569da=>_0x2569da[_0x34f038(0x494)][_0x34f038(0x12d)]()===_0x419695[_0x34f038(0x161)][_0x34f038(0x494)][_0x34f038(0x12d)]());if(!_0x5b0e62){this[_0x34f038(0x3e1)](_0x34f038(0x309)+_0x35cbe6[_0x34f038(0x494)]+_0x34f038(0x50f));return;}_0x152d7a['blocks']=_0x152d7a[_0x34f038(0x459)][_0x34f038(0x560)](_0x456679=>_0x456679[_0x34f038(0x494)][_0x34f038(0x12d)]()!==_0x419695[_0x34f038(0x161)][_0x34f038(0x494)][_0x34f038(0x12d)]()),_0x152d7a['conditions']=_0x152d7a['conditions']['filter'](_0x5db5d5=>_0x5db5d5[_0x34f038(0x516)]!==_0x35cbe6['_id'][_0x34f038(0x12d)]()),_0x152d7a['varedits']=_0x152d7a['varedits']['filter'](_0x3000c0=>_0x3000c0[_0x34f038(0x516)]!==_0x35cbe6['_id'][_0x34f038(0x12d)]()),_0x152d7a[_0x34f038(0x2f3)]=_0x152d7a[_0x34f038(0x2f3)][_0x34f038(0x560)](_0x53e446=>_0x53e446[_0x34f038(0x516)]!==_0x35cbe6[_0x34f038(0x494)][_0x34f038(0x12d)]()),this[_0x34f038(0xb7)](_0x152d7a['blocks'],_0x5b0e62[_0x34f038(0x30b)]);}async[a0_0x22d3e1(0x1ef)](_0x42a2cd,_0xed609f){const _0x37be33=a0_0x22d3e1;let _0x24648d=_0x42a2cd[_0x37be33(0x459)]['findIndex'](_0x201ead=>_0x201ead[_0x37be33(0x494)][_0x37be33(0x12d)]()===_0xed609f['block']['_id'][_0x37be33(0x12d)]());if(this['logger'][_0x37be33(0x605)](this[_0x37be33(0x4c1)]+'\x20('+this[_0x37be33(0x22c)][_0x37be33(0x6a5)]+_0x37be33(0x63c)+_0x24648d),_0x24648d===-0x1){this[_0x37be33(0x13f)][_0x37be33(0x605)](_0x37be33(0x309)+_0xed609f[_0x37be33(0x161)]['_id']+_0x37be33(0xf0));return;}if(_0x42a2cd['blocks'][_0x24648d][_0x37be33(0x255)]===_0x37be33(0x550)){let _0x2c091e=Object[_0x37be33(0x55f)](_0xed609f[_0x37be33(0x161)]);if(_0x2c091e[_0x37be33(0x4b3)]>0x2||_0x2c091e['length']===0x2&&!_0x2c091e[_0x37be33(0x6e8)]('next_groupId')){this[_0x37be33(0x3e1)](_0x37be33(0x2eb));return;}}let _0x156f43=_0x42a2cd[_0x37be33(0x459)][_0x24648d][_0x37be33(0x30b)];for(let _0x1f2207 in _0xed609f[_0x37be33(0x161)])_0xed609f[_0x37be33(0x161)][_0x37be33(0x386)](_0x1f2207)&&(_0x42a2cd['blocks'][_0x24648d][_0x1f2207]=_0xed609f['block'][_0x1f2207]);if(this['logger']['verbose'](this[_0x37be33(0x4c1)]+'\x20('+this['instance'][_0x37be33(0x6a5)]+_0x37be33(0x3ae)+JSON[_0x37be33(0x3c5)](_0x42a2cd[_0x37be33(0x459)][_0x24648d])),_0x42a2cd[_0x37be33(0x459)][_0x24648d][_0x37be33(0x1cf)]&&_0x37be33(0x4de)in _0x42a2cd['blocks'][_0x24648d][_0x37be33(0x1cf)]){this[_0x37be33(0x13f)][_0x37be33(0x605)](this[_0x37be33(0x4c1)]+'\x20('+this[_0x37be33(0x22c)][_0x37be33(0x6a5)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x101232=JSON[_0x37be33(0x3c5)](_0x42a2cd[_0x37be33(0x459)][_0x24648d][_0x37be33(0x1cf)][_0x37be33(0x4de)],null,0x1);_0x101232['length']>0x2&&(_0x101232=_0x101232[_0x37be33(0x5bf)](0x1,_0x101232['length']-0x1)[_0x37be33(0x2dd)]()),_0x42a2cd[_0x37be33(0x459)][_0x24648d][_0x37be33(0x1cf)][_0x37be33(0xcc)]=_0x101232;}if(_0x42a2cd['blocks'][_0x24648d][_0x37be33(0x1cf)]&&_0x37be33(0x321)in _0x42a2cd[_0x37be33(0x459)][_0x24648d][_0x37be33(0x1cf)]){this[_0x37be33(0x13f)][_0x37be33(0x605)](this['instanceName']+'\x20('+this['instance'][_0x37be33(0x6a5)]+_0x37be33(0x188));let _0x1c6541=JSON[_0x37be33(0x3c5)](_0x42a2cd[_0x37be33(0x459)][_0x24648d][_0x37be33(0x1cf)]['body'],null,0x1);_0x1c6541[_0x37be33(0x4b3)]>0x2&&(_0x1c6541=_0x1c6541['substring'](0x1,_0x1c6541['length']-0x1)[_0x37be33(0x2dd)]()),_0x42a2cd[_0x37be33(0x459)][_0x24648d][_0x37be33(0x1cf)][_0x37be33(0x16e)]=_0x1c6541;}let _0x226d5d=_0x42a2cd['blocks'][_0x24648d][_0x37be33(0x30b)];_0x156f43!==_0x226d5d?(this[_0x37be33(0xb7)](_0x42a2cd[_0x37be33(0x459)],_0x156f43),this[_0x37be33(0xb7)](_0x42a2cd[_0x37be33(0x459)],_0x226d5d)):this[_0x37be33(0xb7)](_0x42a2cd['blocks'],_0x156f43);}[a0_0x22d3e1(0x534)](_0x1ecb11,_0x482ad1){const _0x157b75=a0_0x22d3e1;if(_0x482ad1[_0x157b75(0x161)][_0x157b75(0x255)]===_0x157b75(0x550)){this[_0x157b75(0x3e1)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x482ad1[_0x157b75(0x161)][_0x157b75(0x1cf)]&&_0x157b75(0x4de)in _0x482ad1[_0x157b75(0x161)]['apirequest']){this[_0x157b75(0x13f)][_0x157b75(0x605)](this[_0x157b75(0x4c1)]+'\x20('+this[_0x157b75(0x22c)][_0x157b75(0x6a5)]+_0x157b75(0x65d));let _0x7cadf=JSON[_0x157b75(0x3c5)](_0x482ad1[_0x157b75(0x161)][_0x157b75(0x1cf)][_0x157b75(0x4de)],null,0x1);_0x7cadf[_0x157b75(0x4b3)]>0x2&&(_0x7cadf=_0x7cadf['substring'](0x1,_0x7cadf['length']-0x1)[_0x157b75(0x2dd)]()),_0x482ad1[_0x157b75(0x161)][_0x157b75(0x1cf)]['headerString']=_0x7cadf;}_0x482ad1[_0x157b75(0x161)][_0x157b75(0x1cf)]&&'body'in _0x482ad1['block'][_0x157b75(0x1cf)]&&(this[_0x157b75(0x13f)][_0x157b75(0x605)](this[_0x157b75(0x4c1)]+'\x20('+this[_0x157b75(0x22c)][_0x157b75(0x6a5)]+_0x157b75(0x188)),_0x482ad1[_0x157b75(0x161)][_0x157b75(0x1cf)][_0x157b75(0x16e)]=JSON[_0x157b75(0x3c5)](_0x482ad1[_0x157b75(0x161)]['apirequest'][_0x157b75(0x321)],null,0x1)[_0x157b75(0x2dd)]()),_0x1ecb11['blocks'][_0x157b75(0x435)](_0x482ad1[_0x157b75(0x161)]),this[_0x157b75(0xb7)](_0x1ecb11['blocks'],_0x482ad1['block'][_0x157b75(0x30b)]);}['reorderBlocks'](_0x34e023,_0x31aaeb){const _0x54ec8c=a0_0x22d3e1;let _0x4b6188=_0x34e023[_0x54ec8c(0x560)](_0x24477b=>_0x24477b[_0x54ec8c(0x30b)]===_0x31aaeb);_0x4b6188[_0x54ec8c(0x14e)]((_0x300b18,_0x4ce00e)=>_0x300b18['order']-_0x4ce00e['order']),_0x4b6188['forEach']((_0x19d4cc,_0x130790)=>_0x19d4cc['order']=_0x130790+0x1);}async['editFlowReply'](_0x634a7e){const _0x17c509=a0_0x22d3e1;try{if(this[_0x17c509(0x13f)]['verbose'](this[_0x17c509(0x4c1)]+'\x20('+this[_0x17c509(0x22c)][_0x17c509(0x6a5)]+'):\x20Editando\x20replyOption...'),!_0x634a7e||!_0x634a7e[_0x17c509(0x279)]){this[_0x17c509(0x3e1)](_0x17c509(0x339));return;}let _0x16acd0=await this[_0x17c509(0xaa)][_0x17c509(0x2c2)]['findOne']({'where':{'name':_0x634a7e[_0x17c509(0xa8)]}},this['instance'][_0x17c509(0x6a5)]);_0x16acd0||this[_0x17c509(0x3e1)](_0x17c509(0x28d));let {replyOption:_0x40c2f7}=_0x634a7e;_0x40c2f7?.[_0x17c509(0x67b)]?(this[_0x17c509(0x9e)](_0x16acd0,_0x634a7e),this[_0x17c509(0x6b0)](_0x16acd0['replyOptions'],_0x634a7e[_0x17c509(0x279)][_0x17c509(0x516)])):_0x40c2f7[_0x17c509(0x494)]?(await this['updateReplyOption'](_0x16acd0,_0x634a7e),this[_0x17c509(0x6b0)](_0x16acd0[_0x17c509(0x2f3)],_0x634a7e[_0x17c509(0x279)][_0x17c509(0x516)])):(this[_0x17c509(0x613)](_0x16acd0,_0x634a7e),this[_0x17c509(0x6b0)](_0x16acd0['replyOptions'],_0x634a7e['replyOption'][_0x17c509(0x516)]));let _0x3abb60=await this[_0x17c509(0xaa)][_0x17c509(0x2c2)][_0x17c509(0x290)](_0x16acd0[_0x17c509(0x494)],_0x16acd0,this[_0x17c509(0x22c)]['wuid']);if(!_0x3abb60)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x3abb60;}catch(_0x388f50){this[_0x17c509(0x3e1)](_0x17c509(0x5f0)+_0x388f50);}}['reorderReplyOptions'](_0x19c796,_0x3d5205){const _0xe9c4f4=a0_0x22d3e1;console[_0xe9c4f4(0x51f)](_0xe9c4f4(0xd6),_0x3d5205),_0x19c796['forEach'](_0x1140f1=>{const _0x208a22=_0xe9c4f4;_0x1140f1['blockId']===_0x3d5205&&_0x1140f1[_0x208a22(0x5ff)]===void 0x0&&(_0x1140f1[_0x208a22(0x5ff)]=0x270f);});let _0x4ffa8b=_0x19c796[_0xe9c4f4(0x560)](_0x40d9bb=>_0x40d9bb['blockId']===_0x3d5205);_0x4ffa8b[_0xe9c4f4(0x14e)]((_0x2a5ee3,_0x2d13ec)=>_0x2a5ee3[_0xe9c4f4(0x5ff)]-_0x2d13ec[_0xe9c4f4(0x5ff)]),_0x4ffa8b[_0xe9c4f4(0x2ee)]((_0x1e54fe,_0x43c955)=>{const _0xac1ec4=_0xe9c4f4;_0x1e54fe[_0xac1ec4(0x5ff)]=_0x43c955+0x1;}),_0x19c796[_0xe9c4f4(0x2ee)](_0x5badd9=>{const _0x4903f6=_0xe9c4f4;if(_0x5badd9['blockId']===_0x3d5205){let _0x85014=_0x4ffa8b[_0x4903f6(0x39d)](_0x4b3070=>_0x4b3070[_0x4903f6(0x494)]&&_0x5badd9[_0x4903f6(0x494)]&&_0x4b3070[_0x4903f6(0x494)]['toString']()===_0x5badd9[_0x4903f6(0x494)]['toString']());_0x85014&&(_0x5badd9[_0x4903f6(0x5ff)]=_0x85014[_0x4903f6(0x5ff)]);}}),console['log'](_0xe9c4f4(0x663),_0x19c796);}[a0_0x22d3e1(0x9e)](_0x3963fa,_0xf322b1){const _0x3ea049=a0_0x22d3e1;let {replyOption:_0x5b6583}=_0xf322b1;if(!_0x5b6583[_0x3ea049(0x494)]){this[_0x3ea049(0x3e1)]('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x3963fa[_0x3ea049(0x2f3)][_0x3ea049(0x39d)](_0x43813b=>_0x43813b['_id'][_0x3ea049(0x12d)]()===_0xf322b1[_0x3ea049(0x279)][_0x3ea049(0x494)][_0x3ea049(0x12d)]())){this[_0x3ea049(0x3e1)]('ReplyOption\x20com\x20ID\x20'+_0x5b6583[_0x3ea049(0x494)]+_0x3ea049(0x50f));return;}_0x3963fa['replyOptions']=_0x3963fa[_0x3ea049(0x2f3)][_0x3ea049(0x560)](_0x340ed3=>_0x340ed3['_id'][_0x3ea049(0x12d)]()!==_0xf322b1[_0x3ea049(0x279)][_0x3ea049(0x494)][_0x3ea049(0x12d)]());}async[a0_0x22d3e1(0x3d4)](_0x41a1ac,_0x113a5e){const _0x16421d=a0_0x22d3e1;let _0x272e4c=_0x41a1ac[_0x16421d(0x2f3)][_0x16421d(0x563)](_0x2c4c27=>_0x2c4c27[_0x16421d(0x494)]['toString']()===_0x113a5e[_0x16421d(0x279)][_0x16421d(0x494)][_0x16421d(0x12d)]());if(_0x272e4c===-0x1){this[_0x16421d(0x3e1)](_0x16421d(0xea)+_0x113a5e[_0x16421d(0x279)]['_id']+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x1af01a in _0x113a5e[_0x16421d(0x279)])_0x113a5e[_0x16421d(0x279)][_0x16421d(0x386)](_0x1af01a)&&(_0x41a1ac['replyOptions'][_0x272e4c][_0x1af01a]=_0x113a5e[_0x16421d(0x279)][_0x1af01a]);}['addReplyOption'](_0x39e037,_0x5f3355){const _0x442281=a0_0x22d3e1;_0x39e037[_0x442281(0x2f3)][_0x442281(0x435)](_0x5f3355[_0x442281(0x279)]);}async[a0_0x22d3e1(0x4a9)](_0x1513fa){const _0x144c0f=a0_0x22d3e1;this[_0x144c0f(0x13f)][_0x144c0f(0x605)](this[_0x144c0f(0x4c1)]+'\x20('+this[_0x144c0f(0x22c)][_0x144c0f(0x6a5)]+_0x144c0f(0x630)+_0x1513fa);try{this[_0x144c0f(0x13f)][_0x144c0f(0x605)](this[_0x144c0f(0x4c1)]+'\x20('+this['instance']['wuid']+_0x144c0f(0x31e));let _0x218cd1=await this[_0x144c0f(0xaa)][_0x144c0f(0x2c2)][_0x144c0f(0x639)]({'where':{'name':_0x1513fa[_0x144c0f(0xa8)]}},this[_0x144c0f(0x22c)][_0x144c0f(0x6a5)]);if(!_0x218cd1)throw new Error(_0x144c0f(0x28d));if(_0x1513fa['group']&&_0x1513fa[_0x144c0f(0x514)]?.['delete']===!0x0){if(this[_0x144c0f(0x13f)][_0x144c0f(0x605)](this[_0x144c0f(0x4c1)]+'\x20('+this[_0x144c0f(0x22c)][_0x144c0f(0x6a5)]+'):\x20delete\x20=\x20true'),_0x1513fa[_0x144c0f(0x514)][_0x144c0f(0x106)]===!0x0)return{'message':_0x144c0f(0x65c)};if(_0x218cd1[_0x144c0f(0x459)][_0x144c0f(0x262)](_0x189b71=>_0x189b71[_0x144c0f(0x30b)][_0x144c0f(0x12d)]()===_0x1513fa['group'][_0x144c0f(0x494)]))return this[_0x144c0f(0x13f)][_0x144c0f(0x605)](this[_0x144c0f(0x4c1)]+'\x20('+this[_0x144c0f(0x22c)][_0x144c0f(0x6a5)]+'):\x20tem\x20blocks'),{'message':_0x144c0f(0x554)};_0x218cd1['groups']=_0x218cd1[_0x144c0f(0x3e6)][_0x144c0f(0x560)](_0x5241ea=>_0x5241ea[_0x144c0f(0x494)][_0x144c0f(0x12d)]()!==_0x1513fa[_0x144c0f(0x514)][_0x144c0f(0x494)]);}else{if(_0x1513fa['group']){if(_0x1513fa['group'][_0x144c0f(0x106)]===!0x0)return{'message':_0x144c0f(0x565)};if(_0x1513fa[_0x144c0f(0x514)][_0x144c0f(0x494)]){let _0x58c5f5=_0x218cd1[_0x144c0f(0x3e6)][_0x144c0f(0x39d)](_0x510e45=>_0x510e45[_0x144c0f(0x494)][_0x144c0f(0x12d)]()===_0x1513fa['group'][_0x144c0f(0x494)]);_0x58c5f5&&(_0x1513fa[_0x144c0f(0x514)]['x']<0x0&&(_0x1513fa['group']['x']=0x0),_0x1513fa[_0x144c0f(0x514)]['y']<0x0&&(_0x1513fa[_0x144c0f(0x514)]['y']=0x0),Object[_0x144c0f(0x6cf)](_0x58c5f5,_0x1513fa[_0x144c0f(0x514)]));}else _0x218cd1['groups'][_0x144c0f(0x435)](_0x1513fa[_0x144c0f(0x514)]);}}let _0x478dae=await this['repository'][_0x144c0f(0x2c2)][_0x144c0f(0x290)](_0x218cd1[_0x144c0f(0x494)],_0x218cd1,this[_0x144c0f(0x22c)][_0x144c0f(0x6a5)]);if(!_0x478dae)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x478dae;}catch(_0x279b77){throw this['logger']['error'](this[_0x144c0f(0x4c1)]+'\x20('+this['instance'][_0x144c0f(0x6a5)]+'):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+(_0x279b77 instanceof Error?_0x279b77[_0x144c0f(0x6c4)]:JSON['stringify'](_0x279b77,null,0x2))),new m(_0x144c0f(0x523)+(_0x279b77 instanceof Error?_0x279b77[_0x144c0f(0x6c4)]:JSON['stringify'](_0x279b77,null,0x2)));}}async[a0_0x22d3e1(0x5ee)](_0x3a5804){const _0x86b2d2=a0_0x22d3e1;try{this[_0x86b2d2(0x13f)][_0x86b2d2(0x605)](this['instanceName']+'\x20('+this[_0x86b2d2(0x22c)][_0x86b2d2(0x6a5)]+_0x86b2d2(0x276));let _0x2d3fed=await this[_0x86b2d2(0xaa)][_0x86b2d2(0x2c2)][_0x86b2d2(0x639)]({'where':{'name':_0x3a5804['name']}},this[_0x86b2d2(0x22c)][_0x86b2d2(0x6a5)]);if(!_0x2d3fed)throw new Error('Flow\x20não\x20encontrado');let _0xa86f2e=!0x1;if(_0x3a5804[_0x86b2d2(0x53d)]?.[_0x86b2d2(0x67b)]===!0x0)_0x2d3fed[_0x86b2d2(0x445)]=_0x2d3fed[_0x86b2d2(0x445)][_0x86b2d2(0x560)](_0x5393fa=>_0x5393fa&&_0x3a5804[_0x86b2d2(0x53d)]&&_0x5393fa[_0x86b2d2(0x494)]&&_0x3a5804[_0x86b2d2(0x53d)]['_id']&&_0x5393fa[_0x86b2d2(0x494)][_0x86b2d2(0x12d)]()!==_0x3a5804[_0x86b2d2(0x53d)][_0x86b2d2(0x494)][_0x86b2d2(0x12d)]()),_0xa86f2e=!0x0;else{let _0x2f9012=_0x2d3fed[_0x86b2d2(0x445)][_0x86b2d2(0x39d)](_0x298b01=>_0x298b01&&_0x3a5804['condition']&&_0x298b01['_id']&&_0x3a5804[_0x86b2d2(0x53d)][_0x86b2d2(0x494)]&&_0x298b01[_0x86b2d2(0x494)][_0x86b2d2(0x12d)]()===_0x3a5804[_0x86b2d2(0x53d)][_0x86b2d2(0x494)]['toString']());_0x2f9012?(_0xa86f2e=_0x2f9012[_0x86b2d2(0x5ff)]!==_0x3a5804[_0x86b2d2(0x53d)][_0x86b2d2(0x5ff)],Object['assign'](_0x2f9012,_0x3a5804[_0x86b2d2(0x53d)])):(_0x2d3fed[_0x86b2d2(0x445)][_0x86b2d2(0x435)](_0x3a5804['condition']),_0xa86f2e=!0x0);}if(_0xa86f2e){_0x2d3fed['conditions'][_0x86b2d2(0x14e)]((_0x5c73c4,_0x1e10ce)=>_0x5c73c4[_0x86b2d2(0x5ff)]>_0x1e10ce['order']?0x1:_0x1e10ce[_0x86b2d2(0x5ff)]>_0x5c73c4[_0x86b2d2(0x5ff)]?-0x1:0x0);for(let _0x1f1839=0x0;_0x1f1839<_0x2d3fed['conditions'][_0x86b2d2(0x4b3)];_0x1f1839++)_0x2d3fed[_0x86b2d2(0x445)][_0x1f1839]['order']=_0x1f1839+0x1;_0x2d3fed[_0x86b2d2(0x445)]['length']>0x0&&(_0x2d3fed[_0x86b2d2(0x445)][0x0][_0x86b2d2(0x250)]=_0x86b2d2(0x322));}let _0x1bc179=await this[_0x86b2d2(0xaa)][_0x86b2d2(0x2c2)][_0x86b2d2(0x290)](_0x2d3fed[_0x86b2d2(0x494)],_0x2d3fed,this[_0x86b2d2(0x22c)]['wuid']);if(!_0x1bc179)throw new Error(_0x86b2d2(0x47c));return _0x1bc179;}catch(_0x1ca8fe){throw this['logger']['error'](this[_0x86b2d2(0x4c1)]+'\x20('+this[_0x86b2d2(0x22c)][_0x86b2d2(0x6a5)]+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x1ca8fe instanceof Error?_0x1ca8fe['message']:JSON[_0x86b2d2(0x3c5)](_0x1ca8fe,null,0x2))),new Error(_0x86b2d2(0x4da)+(_0x1ca8fe instanceof Error?_0x1ca8fe[_0x86b2d2(0x6c4)]:JSON[_0x86b2d2(0x3c5)](_0x1ca8fe,null,0x2)));}}async['editFlowVaredit'](_0x31a3e1){const _0x36e68f=a0_0x22d3e1;try{this[_0x36e68f(0x13f)][_0x36e68f(0x605)](this['instanceName']+'\x20('+this[_0x36e68f(0x22c)][_0x36e68f(0x6a5)]+_0x36e68f(0x670));let _0xe9b617=await this['repository'][_0x36e68f(0x2c2)][_0x36e68f(0x639)]({'where':{'name':_0x31a3e1[_0x36e68f(0xa8)]}},this['instance'][_0x36e68f(0x6a5)]);if(!_0xe9b617)throw new Error(_0x36e68f(0x28d));let _0x7dc4b9=!0x1;if(_0x31a3e1[_0x36e68f(0x6ba)]?.[_0x36e68f(0x67b)]===!0x0)_0xe9b617['varedits']=_0xe9b617[_0x36e68f(0x40f)][_0x36e68f(0x560)](_0x29a614=>_0x29a614&&_0x31a3e1[_0x36e68f(0x6ba)]&&_0x29a614[_0x36e68f(0x494)]&&_0x31a3e1[_0x36e68f(0x6ba)][_0x36e68f(0x494)]&&_0x29a614[_0x36e68f(0x494)][_0x36e68f(0x12d)]()!==_0x31a3e1[_0x36e68f(0x6ba)][_0x36e68f(0x494)]['toString']()),_0x7dc4b9=!0x0;else{let _0x2e7c60=_0xe9b617['varedits'][_0x36e68f(0x39d)](_0x3912f7=>_0x3912f7&&_0x31a3e1[_0x36e68f(0x6ba)]&&_0x3912f7['_id']&&_0x31a3e1['varedit']['_id']&&_0x3912f7[_0x36e68f(0x494)][_0x36e68f(0x12d)]()===_0x31a3e1[_0x36e68f(0x6ba)][_0x36e68f(0x494)][_0x36e68f(0x12d)]());_0x2e7c60?(_0x7dc4b9=_0x2e7c60[_0x36e68f(0x5ff)]!==_0x31a3e1['varedit'][_0x36e68f(0x5ff)],Object[_0x36e68f(0x6cf)](_0x2e7c60,_0x31a3e1['varedit'])):(_0xe9b617[_0x36e68f(0x40f)][_0x36e68f(0x435)](_0x31a3e1[_0x36e68f(0x6ba)]),_0x7dc4b9=!0x0);}if(_0x7dc4b9){_0xe9b617['varedits'][_0x36e68f(0x14e)]((_0x2d88ca,_0x37107d)=>_0x2d88ca[_0x36e68f(0x5ff)]>_0x37107d[_0x36e68f(0x5ff)]?0x1:_0x37107d['order']>_0x2d88ca[_0x36e68f(0x5ff)]?-0x1:0x0);for(let _0x24158c=0x0;_0x24158c<_0xe9b617[_0x36e68f(0x40f)]['length'];_0x24158c++)_0xe9b617['varedits'][_0x24158c][_0x36e68f(0x5ff)]=_0x24158c+0x1;}let _0x1c01a1=await this[_0x36e68f(0xaa)][_0x36e68f(0x2c2)][_0x36e68f(0x290)](_0xe9b617[_0x36e68f(0x494)],_0xe9b617,this[_0x36e68f(0x22c)]['wuid']);if(!_0x1c01a1)throw new Error(_0x36e68f(0x47c));return _0x1c01a1;}catch(_0x1008ef){throw this[_0x36e68f(0x13f)][_0x36e68f(0x411)](this['instanceName']+'\x20('+this[_0x36e68f(0x22c)][_0x36e68f(0x6a5)]+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x1008ef instanceof Error?_0x1008ef['message']:JSON[_0x36e68f(0x3c5)](_0x1008ef,null,0x2))),new m(_0x36e68f(0x4da)+(_0x1008ef instanceof Error?_0x1008ef[_0x36e68f(0x6c4)]:JSON[_0x36e68f(0x3c5)](_0x1008ef,null,0x2)));}}async['editFlowVariable'](_0x3b1c96){const _0x68557d=a0_0x22d3e1;try{this['logger'][_0x68557d(0x605)](this['instanceName']+'\x20('+this[_0x68557d(0x22c)][_0x68557d(0x6a5)]+_0x68557d(0x3ed));let _0x3aa282=await this[_0x68557d(0xaa)][_0x68557d(0x2c2)][_0x68557d(0x639)]({'where':{'name':_0x3b1c96[_0x68557d(0xa8)]}},this[_0x68557d(0x22c)][_0x68557d(0x6a5)]);if(!_0x3aa282)throw new Error(_0x68557d(0x28d));_0x3b1c96[_0x68557d(0x3a7)][_0x68557d(0xa8)]=_0x3b1c96['variable'][_0x68557d(0xa8)][_0x68557d(0x2dd)](),_0x3b1c96[_0x68557d(0x3a7)][_0x68557d(0xa8)]['startsWith']('_')&&(_0x3b1c96[_0x68557d(0x3a7)][_0x68557d(0xa8)]=_0x3b1c96['variable'][_0x68557d(0xa8)][_0x68557d(0x5bf)](0x1)),_0x3b1c96['variable'][_0x68557d(0xa8)]=_0x3b1c96[_0x68557d(0x3a7)][_0x68557d(0xa8)][_0x68557d(0x2dd)]();let _0x166b8c=_0x3aa282[_0x68557d(0x3d3)][_0x68557d(0x39d)](_0x3305dd=>_0x3305dd[_0x68557d(0xa8)]===_0x3b1c96['variable']['name']);if(_0x166b8c?.['leadInfo']===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x3b1c96[_0x68557d(0x3a7)]?.[_0x68557d(0x67b)]===!0x0){if(!_0x166b8c)return{'message':_0x68557d(0xd0)};_0x3aa282[_0x68557d(0x3d3)]=_0x3aa282[_0x68557d(0x3d3)]['filter'](_0x2b1c78=>_0x2b1c78[_0x68557d(0xa8)]!==_0x3b1c96['variable']['name']);}else _0x166b8c?Object[_0x68557d(0x6cf)](_0x166b8c,_0x3b1c96['variable']):_0x3aa282[_0x68557d(0x3d3)][_0x68557d(0x435)](_0x3b1c96[_0x68557d(0x3a7)]);let _0x296afb=await this[_0x68557d(0xaa)]['flow']['updateOne'](_0x3aa282[_0x68557d(0x494)],_0x3aa282,this[_0x68557d(0x22c)]['wuid']);if(!_0x296afb)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x296afb;}catch(_0x57c7d6){throw this[_0x68557d(0x13f)]['error'](this['instanceName']+'\x20('+this[_0x68557d(0x22c)][_0x68557d(0x6a5)]+_0x68557d(0x4b5)+(_0x57c7d6 instanceof Error?_0x57c7d6['message']:JSON[_0x68557d(0x3c5)](_0x57c7d6,null,0x2))),new m(_0x68557d(0x6ed)+(_0x57c7d6 instanceof Error?_0x57c7d6[_0x68557d(0x6c4)]:JSON[_0x68557d(0x3c5)](_0x57c7d6,null,0x2)));}}async['startFlow'](_0x54d5f9){const _0x21b48b=a0_0x22d3e1;let _0x839c70=null;try{if(!this[_0x21b48b(0x41d)]?.[_0x21b48b(0x2c0)][_0x21b48b(0x5d7)])throw new m(_0x21b48b(0x1d9));this['logger'][_0x21b48b(0x605)](this[_0x21b48b(0x4c1)]+'\x20('+this[_0x21b48b(0x22c)]['wuid']+'):\x20Iniciando\x20bot...');let _0x2d7012=(await this[_0x21b48b(0x1b9)]({'numbers':[_0x54d5f9[_0x21b48b(0x412)]]}))[0x0];if(!_0x2d7012['exists']&&!(0x0,y['isJidGroup'])(_0x2d7012[_0x21b48b(0x108)])&&!_0x2d7012[_0x21b48b(0x108)][_0x21b48b(0x6e8)](_0x21b48b(0x6c2)))throw _0x839c70=JSON[_0x21b48b(0x3c5)](_0x2d7012,null,0x2),new m(_0x2d7012);let _0x4f5e5a=await this[_0x21b48b(0xaa)]['flow'][_0x21b48b(0x639)]({'where':{'name':_0x54d5f9[_0x21b48b(0xa8)]}},this[_0x21b48b(0x22c)][_0x21b48b(0x6a5)]);if(!_0x4f5e5a)return this['logger'][_0x21b48b(0x411)](this[_0x21b48b(0x4c1)]+'\x20('+this[_0x21b48b(0x22c)]['wuid']+_0x21b48b(0x51b)),{'message':_0x21b48b(0x28d)};let _0x1d4a1a=await this[_0x21b48b(0x4eb)](_0x4f5e5a,_0x2d7012[_0x21b48b(0x108)],_0x54d5f9[_0x21b48b(0x2e6)]);if(_0x1d4a1a){this[_0x21b48b(0x13f)][_0x21b48b(0x605)](this[_0x21b48b(0x4c1)]+'\x20('+this[_0x21b48b(0x22c)][_0x21b48b(0x6a5)]+_0x21b48b(0x651));let _0x1b658=await this[_0x21b48b(0x424)](_0x1d4a1a);return _0x1b658&&await this[_0x21b48b(0x3fe)](_0x1d4a1a,_0x1b658),{'message':_0x21b48b(0x4a7)+_0x54d5f9[_0x21b48b(0x412)]};}}catch(_0x64ec3){if(this[_0x21b48b(0x13f)][_0x21b48b(0x411)](this[_0x21b48b(0x4c1)]+'\x20('+this[_0x21b48b(0x22c)][_0x21b48b(0x6a5)]+_0x21b48b(0x303)+(_0x64ec3 instanceof Error?_0x64ec3[_0x21b48b(0x6c4)]:JSON[_0x21b48b(0x3c5)](_0x64ec3,null,0x2))),_0x839c70=_0x64ec3 instanceof Error?_0x64ec3[_0x21b48b(0x6c4)]:JSON[_0x21b48b(0x3c5)](_0x64ec3,null,0x2),_0x839c70)throw new m(_0x21b48b(0x4fb)+_0x839c70);}}async[a0_0x22d3e1(0xb9)](_0x4420aa){const _0x1a9066=a0_0x22d3e1;try{let _0x2c28fe={'remoteJid':_0x4420aa,'status':'open'},_0x3f7a89={'status':_0x1a9066(0x49e)},_0x38a1e4=await this['repository']['flowConversation'][_0x1a9066(0x56d)](_0x2c28fe,_0x3f7a89,this[_0x1a9066(0x22c)][_0x1a9066(0x6a5)]);return this['logger'][_0x1a9066(0x605)](this[_0x1a9066(0x4c1)]+'\x20('+this[_0x1a9066(0x22c)][_0x1a9066(0x6a5)]+_0x1a9066(0x4ef)),_0x38a1e4;}catch(_0x54f2a0){throw this[_0x1a9066(0x13f)]['error'](this[_0x1a9066(0x4c1)]+'\x20('+this[_0x1a9066(0x22c)]['wuid']+_0x1a9066(0x171)+_0x54f2a0[_0x1a9066(0x6c4)]),_0x54f2a0;}}async[a0_0x22d3e1(0x4eb)](_0x5a2168,_0x440732,_0x4db1d1){const _0x2bab84=a0_0x22d3e1;this[_0x2bab84(0x13f)][_0x2bab84(0x605)](this[_0x2bab84(0x4c1)]+'\x20('+this[_0x2bab84(0x22c)]['wuid']+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this[_0x2bab84(0xb9)](_0x440732);try{let _0xaae1ee=require('mongodb')[_0x2bab84(0x46b)],_0x3ae7c1=Date[_0x2bab84(0x299)](),_0x10650a=_0x2bab84(0x550),_0x4997d3={},_0x4c546c={},_0x382265={..._0x5a2168,'chatLog':null},_0x35e24c=await this[_0x2bab84(0x4fc)](_0x382265[_0x2bab84(0x3d3)]),_0x5bc3f6=await this[_0x2bab84(0x39b)](_0x440732),_0x268672={..._0x35e24c,..._0x5bc3f6,'_remoteJid':_0x440732},_0x279c0f={'lastReceivedMessage':_0x4997d3,'lastSendMessage':_0x4c546c,'lastBlockId':_0x10650a,'lastCondition':!0x0,'realVariables':_0x268672};_0x382265[_0x2bab84(0x564)]=_0x279c0f,_0x382265['chatLog'][_0x2bab84(0x15f)]={..._0x268672,..._0x4db1d1},delete _0x382265[_0x2bab84(0x494)],_0x382265[_0x2bab84(0x494)]=new _0xaae1ee(),_0x382265[_0x2bab84(0x6e7)]=_0x3ae7c1,_0x382265['status']=_0x2bab84(0x4d1),_0x382265['remoteJid']=_0x440732;let _0x18acf3=await this[_0x2bab84(0xaa)][_0x2bab84(0x207)]['updateOne'](_0x382265[_0x2bab84(0x494)],_0x382265,this[_0x2bab84(0x22c)][_0x2bab84(0x6a5)]);return this['logger'][_0x2bab84(0x605)](this[_0x2bab84(0x4c1)]+'\x20('+this[_0x2bab84(0x22c)]['wuid']+_0x2bab84(0x6d5)),_0x18acf3?_0x382265:null;}catch(_0x2dc404){throw this[_0x2bab84(0x13f)][_0x2bab84(0x411)](this[_0x2bab84(0x4c1)]+'\x20('+this[_0x2bab84(0x22c)][_0x2bab84(0x6a5)]+_0x2bab84(0x35d)+(_0x2dc404 instanceof Error?_0x2dc404[_0x2bab84(0x6c4)]:JSON['stringify'](_0x2dc404,null,0x2))),new m(_0x2dc404[_0x2bab84(0x6c4)]);}}async['getConversation'](_0x1c3010){const _0x3971a4=a0_0x22d3e1;try{this[_0x3971a4(0x13f)][_0x3971a4(0x605)](this['instanceName']+'\x20('+this[_0x3971a4(0x22c)][_0x3971a4(0x6a5)]+_0x3971a4(0xce)),this[_0x3971a4(0x13f)][_0x3971a4(0x605)](this[_0x3971a4(0x4c1)]+'\x20('+this['instance'][_0x3971a4(0x6a5)]+_0x3971a4(0x655)+_0x1c3010);let _0x5b83f3={'where':{'_id':_0x1c3010}};return await this['repository'][_0x3971a4(0x207)]['findOne'](_0x5b83f3,this[_0x3971a4(0x22c)]['wuid']);}catch(_0x468397){throw this[_0x3971a4(0x13f)][_0x3971a4(0x411)](this[_0x3971a4(0x4c1)]+'\x20('+this[_0x3971a4(0x22c)][_0x3971a4(0x6a5)]+'):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20'+(_0x468397 instanceof Error?_0x468397[_0x3971a4(0x6c4)]:JSON[_0x3971a4(0x3c5)](_0x468397,null,0x2))),new m(_0x3971a4(0x628)+_0x468397[_0x3971a4(0x6c4)]);}}async['fetchConversation'](_0x35779e){const _0x4f0096=a0_0x22d3e1;try{return this[_0x4f0096(0x13f)]['verbose'](this[_0x4f0096(0x4c1)]+'\x20('+this['instance']['wuid']+'):\x20Buscando\x20conversas...'),await this[_0x4f0096(0xaa)][_0x4f0096(0x207)][_0x4f0096(0x39d)](_0x35779e,this[_0x4f0096(0x22c)][_0x4f0096(0x6a5)]);}catch(_0x4ddc99){throw this[_0x4f0096(0x13f)][_0x4f0096(0x411)](this[_0x4f0096(0x4c1)]+'\x20('+this[_0x4f0096(0x22c)][_0x4f0096(0x6a5)]+'):\x20Erro\x20ao\x20buscar\x20conversas\x20'+(_0x4ddc99 instanceof Error?_0x4ddc99['message']:JSON[_0x4f0096(0x3c5)](_0x4ddc99,null,0x2))),new m('Erro\x20ao\x20buscar\x20conversas:\x20'+_0x4ddc99[_0x4f0096(0x6c4)]);}}async['deleteConversation'](_0x40a502){const _0x14b787=a0_0x22d3e1;try{return this['logger'][_0x14b787(0x605)](this[_0x14b787(0x4c1)]+'\x20('+this[_0x14b787(0x22c)]['wuid']+_0x14b787(0x37e)),this['logger'][_0x14b787(0x605)](this[_0x14b787(0x4c1)]+'\x20('+this[_0x14b787(0x22c)][_0x14b787(0x6a5)]+_0x14b787(0x97)+_0x40a502),(await this[_0x14b787(0xaa)][_0x14b787(0x207)][_0x14b787(0x17d)]({'where':{'_id':_0x40a502}},this[_0x14b787(0x22c)]['wuid']))['deletedCount']===0x0?{'message':_0x14b787(0x61f)}:{'message':_0x14b787(0x44e)};}catch(_0xba5925){throw this[_0x14b787(0x13f)][_0x14b787(0x411)](this['instanceName']+'\x20('+this['instance'][_0x14b787(0x6a5)]+_0x14b787(0x64b)+(_0xba5925 instanceof Error?_0xba5925[_0x14b787(0x6c4)]:JSON[_0x14b787(0x3c5)](_0xba5925,null,0x2))),new m(_0x14b787(0x343)+_0xba5925[_0x14b787(0x6c4)]);}}async[a0_0x22d3e1(0x3cf)](_0x359060){const _0xebc4a8=a0_0x22d3e1;try{let {_id:_0x55b0aa,chatLog:_0x1f2446,status:_0x83e45b}=_0x359060;if(!_0x55b0aa)return{'message':_0xebc4a8(0xe1)};let _0x514c07={};if(_0x83e45b!==void 0x0&&(_0x514c07[_0xebc4a8(0x62d)]=_0x83e45b),Object[_0xebc4a8(0x55f)](_0x514c07)[_0xebc4a8(0x4b3)]===0x0)return{'message':_0xebc4a8(0xcf)};let _0x2eba58=await this['repository'][_0xebc4a8(0x207)][_0xebc4a8(0x290)](_0x55b0aa,_0x514c07,this[_0xebc4a8(0x22c)]['wuid']);return _0x2eba58||{'message':_0xebc4a8(0x67e)};}catch(_0x1c41be){throw this['logger'][_0xebc4a8(0x411)](this[_0xebc4a8(0x4c1)]+'\x20('+this[_0xebc4a8(0x22c)][_0xebc4a8(0x6a5)]+_0xebc4a8(0x274)+(_0x1c41be instanceof Error?_0x1c41be[_0xebc4a8(0x6c4)]:JSON[_0xebc4a8(0x3c5)](_0x1c41be,null,0x2))),new m(_0xebc4a8(0x2fe)+_0x1c41be[_0xebc4a8(0x6c4)]);}}async['editChat'](_0x4ea989){const _0x39b943=a0_0x22d3e1;let _0x449fbf=await this[_0x39b943(0xaa)][_0x39b943(0x147)][_0x39b943(0x639)]({'where':{'_id':_0x4ea989[_0x39b943(0x494)]}},this['instance'][_0x39b943(0x6a5)]);if(!_0x449fbf)throw new m(_0x39b943(0x5f9));console[_0x39b943(0x51f)](_0x4ea989);try{_0x4ea989[_0x39b943(0x494)]=this[_0x39b943(0x345)](_0x4ea989[_0x39b943(0x494)]);let {_id:_0x4361a8,leadInfo:_0x2ff9f3}=_0x4ea989;if(!_0x4361a8)throw new Error(_0x39b943(0x2db));let _0x281657=(_0x26688c,_0x2ae2e9,_0x3c4082)=>{const _0x2ce37=_0x39b943;_0x26688c&&_0x3c4082[_0x2ce37(0x2ee)](_0x1bb3ba=>{const _0x5cf648=_0x2ce37;_0x26688c[_0x1bb3ba]!==void 0x0&&(_0x2ae2e9[_0x5cf648(0x318)+_0x1bb3ba]=_0x26688c[_0x1bb3ba]);});},_0x4fcf93={};if(_0x2ff9f3&&(_0x281657(_0x2ff9f3,_0x4fcf93,[_0x39b943(0x25c),'nomecompleto',_0x39b943(0x2f9),_0x39b943(0x661),_0x39b943(0x62d),_0x39b943(0x4ec),'tags',_0x39b943(0x329),_0x39b943(0x4df),_0x39b943(0x46d)]),Array[_0x39b943(0x8a)](_0x2ff9f3['customFields'])&&(_0x4fcf93[_0x39b943(0x5e8)]=_0x2ff9f3['customFields'][_0x39b943(0x2bf)](_0x4889e1=>({'_id':_0x4889e1[_0x39b943(0x494)],'value':_0x4889e1[_0x39b943(0x521)]}))),_0x4ea989[_0x39b943(0x3f0)][_0x39b943(0x46d)]!==void 0x0)){let _0x5284e1=await this['repository'][_0x39b943(0x3e9)][_0x39b943(0x39d)]({'where':{}},this['instance']['wuid']),_0x264db3=new Set(_0x4ea989[_0x39b943(0x3f0)][_0x39b943(0x46d)]||[]),_0x22d295=new Set(_0x4ea989[_0x39b943(0x3f0)][_0x39b943(0x46d)]),_0x32875a=new Set(_0x5284e1['map'](_0x29f116=>_0x29f116[_0x39b943(0x494)])),_0x208c64=[..._0x22d295][_0x39b943(0x560)](_0x5168de=>!_0x264db3[_0x39b943(0x569)](_0x5168de)&&_0x32875a[_0x39b943(0x569)](_0x5168de)),_0x38d689=[..._0x264db3][_0x39b943(0x560)](_0x38f306=>!_0x22d295[_0x39b943(0x569)](_0x38f306));if(_0x4fcf93['leadInfo.etiquetas']=[..._0x264db3],_0x449fbf&&!_0x449fbf['imported']){for(let _0x9efe9d of _0x208c64)await this[_0x39b943(0x69a)](_0x9efe9d,_0x4ea989[_0x39b943(0x494)]),_0x264db3[_0x39b943(0x62a)](_0x9efe9d);for(let _0xc6a91a of _0x38d689)await this['RemoveChatLabel'](_0xc6a91a,_0x4ea989['_id']),_0x264db3['delete'](_0xc6a91a);}}if(_0x4ea989['unreadcount']!==void 0x0&&(_0x4fcf93[_0x39b943(0x174)]=Number(_0x4ea989['unreadcount'])),Object['keys'](_0x4fcf93)[_0x39b943(0x4b3)]===0x0)throw new Error(_0x39b943(0xcf));let _0x191106=await this['repository']['chat'][_0x39b943(0x290)]({'where':{'_id':_0x4ea989[_0x39b943(0x494)]}},_0x4fcf93,this[_0x39b943(0x22c)]['wuid']);return _0x191106&&J(this[_0x39b943(0x4c1)],_0x39b943(0x428),{'chat':_0x191106}),_0x191106?(this[_0x39b943(0x13f)][_0x39b943(0x605)](this[_0x39b943(0x4c1)]+'\x20('+this['instance'][_0x39b943(0x6a5)]+_0x39b943(0x1fd)+JSON[_0x39b943(0x3c5)](_0x191106,null,0x2)),_0x191106):{'message':_0x39b943(0x364)};}catch(_0x33ca35){throw this['logger'][_0x39b943(0x411)](this[_0x39b943(0x4c1)]+'\x20('+this[_0x39b943(0x22c)][_0x39b943(0x6a5)]+_0x39b943(0x236)+(_0x33ca35 instanceof Error?_0x33ca35[_0x39b943(0x6c4)]:JSON[_0x39b943(0x3c5)](_0x33ca35,null,0x2))),new m('Erro\x20ao\x20editar\x20o\x20chat:\x20'+_0x33ca35[_0x39b943(0x6c4)]);}}async[a0_0x22d3e1(0x69a)](_0xa7fca6,_0x5e789b){const _0x109da6=a0_0x22d3e1;try{await this[_0x109da6(0x49f)]['addChatLabel'](_0x5e789b,_0xa7fca6),console['log'](_0x109da6(0xfa)+_0xa7fca6+_0x109da6(0xa2)+_0x5e789b+_0x109da6(0x212));}catch(_0x576179){console[_0x109da6(0x411)](_0x109da6(0x61e)+_0xa7fca6+_0x109da6(0x14d)+_0x5e789b+':',_0x576179);}}async[a0_0x22d3e1(0x441)](_0x32a170,_0x24a732){const _0x2aad1f=a0_0x22d3e1;try{await this[_0x2aad1f(0x49f)]['removeChatLabel'](_0x24a732,_0x32a170),console[_0x2aad1f(0x51f)](_0x2aad1f(0xfa)+_0x32a170+_0x2aad1f(0x54b)+_0x24a732+'\x20com\x20sucesso.');}catch(_0x15a1e4){console[_0x2aad1f(0x411)](_0x2aad1f(0x3f6)+_0x32a170+_0x2aad1f(0x413)+_0x24a732+':',_0x15a1e4);}}async[a0_0x22d3e1(0x34c)](_0x5bf378){const _0x2f98f4=a0_0x22d3e1;try{let _0x260b2a=await this[_0x2f98f4(0xaa)][_0x2f98f4(0x54c)]['findOrCreate'](this[_0x2f98f4(0x22c)][_0x2f98f4(0x6a5)]),_0x236843=_0x5bf378[_0x2f98f4(0x494)]?_0x260b2a[_0x2f98f4(0x1b4)][_0x2f98f4(0x563)](_0x5a195f=>_0x5a195f[_0x2f98f4(0x494)]===_0x5bf378[_0x2f98f4(0x494)]):-0x1;if(_0x5bf378[_0x2f98f4(0x67b)]&&_0x236843>-0x1)_0x260b2a[_0x2f98f4(0x1b4)][_0x2f98f4(0x5c0)](_0x236843,0x1);else{if(_0x236843>-0x1){let _0x210b6e=_0x260b2a[_0x2f98f4(0x1b4)][_0x236843];_0x5bf378['fone']&&(_0x210b6e[_0x2f98f4(0x13d)]=_0x5bf378[_0x2f98f4(0x13d)]),_0x5bf378[_0x2f98f4(0xa8)]&&(_0x210b6e[_0x2f98f4(0xa8)]=_0x5bf378[_0x2f98f4(0xa8)]),_0x5bf378[_0x2f98f4(0x2f9)]&&(_0x210b6e[_0x2f98f4(0x2f9)]=_0x5bf378['email']),_0x5bf378[_0x2f98f4(0x112)]&&(_0x210b6e['role']=_0x5bf378[_0x2f98f4(0x112)]);}else _0x260b2a[_0x2f98f4(0x1b4)][_0x2f98f4(0x435)]({'_id':_0x5bf378['_id']||new ie['default']['Types'][(_0x2f98f4(0x46b))]()[_0x2f98f4(0x12d)](),'fone':_0x5bf378[_0x2f98f4(0x13d)],'name':_0x5bf378[_0x2f98f4(0xa8)],'email':_0x5bf378['email'],'role':_0x5bf378[_0x2f98f4(0x112)]});}let _0x323d3c={'agents':_0x260b2a[_0x2f98f4(0x1b4)]},_0x24fa13=await this[_0x2f98f4(0xaa)][_0x2f98f4(0x54c)][_0x2f98f4(0x6aa)](_0x323d3c,this[_0x2f98f4(0x22c)][_0x2f98f4(0x6a5)]);return this[_0x2f98f4(0x41d)]=_0x24fa13,this[_0x2f98f4(0x13f)][_0x2f98f4(0x605)](this[_0x2f98f4(0x4c1)]+'\x20('+this[_0x2f98f4(0x22c)][_0x2f98f4(0x6a5)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x2f98f4(0x13f)]['verbose'](this[_0x2f98f4(0x4c1)]+'\x20('+this['instance'][_0x2f98f4(0x6a5)]+_0x2f98f4(0x1fd)+this['AutomateSystem']),_0x24fa13;}catch(_0x2e9752){throw this[_0x2f98f4(0x13f)][_0x2f98f4(0x411)](this[_0x2f98f4(0x4c1)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+(_0x2e9752 instanceof Error?_0x2e9752[_0x2f98f4(0x6c4)]:JSON[_0x2f98f4(0x3c5)](_0x2e9752,null,0x2))),new m('Erro\x20ao\x20editar\x20agentes:\x20'+_0x2e9752[_0x2f98f4(0x6c4)]);}}async[a0_0x22d3e1(0x11a)](_0x429cb5){const _0x4b863a=a0_0x22d3e1;try{let _0x4285b1=await this['repository']['automateSystem'][_0x4b863a(0x248)](this[_0x4b863a(0x22c)]['wuid']),_0x21151d=_0x429cb5[_0x4b863a(0x494)]?_0x4285b1[_0x4b863a(0x2c7)]['findIndex'](_0x22c74c=>_0x22c74c[_0x4b863a(0x494)]===_0x429cb5['_id']):-0x1,_0x73c6a3=!0x1,_0x5184f7=_0x4285b1[_0x4b863a(0x2c7)][_0x4b863a(0x262)](_0x3e6667=>_0x3e6667['order']===_0x429cb5['order']);if(_0x429cb5[_0x4b863a(0x67b)]&&_0x21151d>-0x1)_0x4285b1[_0x4b863a(0x2c7)][_0x4b863a(0x5c0)](_0x21151d,0x1),_0x73c6a3=!0x0;else{if(_0x21151d>-0x1){if(_0x4285b1[_0x4b863a(0x2c7)][_0x4b863a(0x262)](_0x548125=>_0x548125[_0x4b863a(0xa8)]===_0x429cb5[_0x4b863a(0xa8)]&&_0x548125['_id']!==_0x429cb5[_0x4b863a(0x494)]))throw new Error(_0x4b863a(0x272));let _0x22daf9=_0x4285b1[_0x4b863a(0x2c7)][_0x21151d];_0x429cb5[_0x4b863a(0x5ff)]&&(_0x5184f7||!Number[_0x4b863a(0x5f4)](_0x429cb5[_0x4b863a(0x5ff)]))&&(_0x22daf9[_0x4b863a(0x5ff)]=_0x429cb5[_0x4b863a(0x5ff)],_0x73c6a3=!0x0),_0x429cb5[_0x4b863a(0xa8)]&&(_0x22daf9[_0x4b863a(0xa8)]=_0x429cb5[_0x4b863a(0xa8)]);}else{if(_0x4285b1[_0x4b863a(0x2c7)][_0x4b863a(0x262)](_0x18ebf2=>_0x18ebf2[_0x4b863a(0xa8)]===_0x429cb5[_0x4b863a(0xa8)]&&_0x18ebf2['_id']!==_0x429cb5[_0x4b863a(0x494)]))throw new Error(_0x4b863a(0x272));_0x4285b1[_0x4b863a(0x2c7)]['push']({'_id':_0x429cb5[_0x4b863a(0x494)]||new ie[(_0x4b863a(0x106))][(_0x4b863a(0x86))][(_0x4b863a(0x46b))]()[_0x4b863a(0x12d)](),'order':_0x429cb5[_0x4b863a(0x5ff)],'name':_0x429cb5[_0x4b863a(0xa8)]}),_0x73c6a3=!0x0;}}if(_0x73c6a3){_0x4285b1[_0x4b863a(0x2c7)][_0x4b863a(0x14e)]((_0x3b6dd0,_0x19081f)=>_0x3b6dd0[_0x4b863a(0x5ff)]>_0x19081f[_0x4b863a(0x5ff)]?0x1:_0x19081f['order']>_0x3b6dd0['order']?-0x1:0x0);for(let _0xee42ba=0x0;_0xee42ba<_0x4285b1[_0x4b863a(0x2c7)][_0x4b863a(0x4b3)];_0xee42ba++)_0x4285b1['customFields'][_0xee42ba][_0x4b863a(0x5ff)]=_0xee42ba+0x1;}let _0x8c89c3=await this[_0x4b863a(0xaa)]['automateSystem'][_0x4b863a(0x6aa)](_0x4285b1,this[_0x4b863a(0x22c)][_0x4b863a(0x6a5)]);return this[_0x4b863a(0x41d)]=_0x8c89c3,this[_0x4b863a(0x13f)][_0x4b863a(0x605)](this['instanceName']+'\x20('+this[_0x4b863a(0x22c)][_0x4b863a(0x6a5)]+_0x4b863a(0x368)),this['logger'][_0x4b863a(0x605)](this[_0x4b863a(0x4c1)]+'\x20('+this[_0x4b863a(0x22c)][_0x4b863a(0x6a5)]+_0x4b863a(0x1fd)+this['AutomateSystem']),_0x8c89c3;}catch(_0x298b76){throw this[_0x4b863a(0x13f)][_0x4b863a(0x411)](this[_0x4b863a(0x4c1)]+'\x20('+this[_0x4b863a(0x22c)][_0x4b863a(0x6a5)]+_0x4b863a(0x326)+(_0x298b76 instanceof Error?_0x298b76[_0x4b863a(0x6c4)]:JSON[_0x4b863a(0x3c5)](_0x298b76,null,0x2))),new m('Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+_0x298b76['message']);}}async[a0_0x22d3e1(0x4fd)](_0x3ab69b){const _0x4d2788=a0_0x22d3e1;try{let _0x346870=await this[_0x4d2788(0xaa)][_0x4d2788(0x54c)][_0x4d2788(0x248)](this[_0x4d2788(0x22c)][_0x4d2788(0x6a5)]);if(!_0x346870)throw new Error(_0x4d2788(0x5c8));let _0x9378ce={'_id':_0x346870[_0x4d2788(0x494)],'flowConfig':{'enabled':_0x3ab69b[_0x4d2788(0x5d7)]??_0x346870['flowConfig'][_0x4d2788(0x5d7)],'ignoreGroups':_0x3ab69b[_0x4d2788(0x67c)]??_0x346870['flowConfig']['ignoreGroups'],'prefixCommand':_0x3ab69b[_0x4d2788(0x532)]??_0x346870[_0x4d2788(0x2c0)]['prefixCommand'],'stopConversation':_0x3ab69b[_0x4d2788(0x4a4)]??_0x346870[_0x4d2788(0x2c0)][_0x4d2788(0x4a4)],'stopMinutes':_0x3ab69b['stopMinutes']??_0x346870['flowConfig']['stopMinutes'],'stopWhenYouSendMsg':_0x3ab69b[_0x4d2788(0x486)]??_0x346870['flowConfig'][_0x4d2788(0x486)]}},_0x32f4f2=await this[_0x4d2788(0xaa)][_0x4d2788(0x54c)]['update'](_0x9378ce,this[_0x4d2788(0x22c)]['wuid']);return this['AutomateSystem']=_0x32f4f2,this[_0x4d2788(0x13f)][_0x4d2788(0x605)](this[_0x4d2788(0x4c1)]+'\x20('+this['instance'][_0x4d2788(0x6a5)]+_0x4d2788(0x247)),this[_0x4d2788(0x13f)][_0x4d2788(0x605)](this[_0x4d2788(0x4c1)]+'\x20('+this[_0x4d2788(0x22c)][_0x4d2788(0x6a5)]+_0x4d2788(0x1fd)+this['AutomateSystem']),setTimeout(()=>this[_0x4d2788(0x196)](),0x7d0),_0x32f4f2;}catch(_0x12b40c){throw this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x4d2788(0x6a5)]+_0x4d2788(0x23e)+(_0x12b40c instanceof Error?_0x12b40c['message']:JSON[_0x4d2788(0x3c5)](_0x12b40c,null,0x2))),new m('Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20'+_0x12b40c[_0x4d2788(0x6c4)]);}}async['getAutomateSystem'](){const _0x1cd891=a0_0x22d3e1;try{let _0x26012c=await this[_0x1cd891(0xaa)][_0x1cd891(0x54c)]['findOrCreate'](this['instance']['wuid']);return this['AutomateSystem']=_0x26012c,this[_0x1cd891(0x13f)][_0x1cd891(0x605)](this[_0x1cd891(0x4c1)]+'\x20('+this['instance'][_0x1cd891(0x6a5)]+_0x1cd891(0x32b)),this[_0x1cd891(0x13f)]['verbose'](this[_0x1cd891(0x41d)]),_0x26012c;}catch(_0x33f039){throw this[_0x1cd891(0x13f)]['error'](this[_0x1cd891(0x4c1)]+'\x20('+this[_0x1cd891(0x22c)][_0x1cd891(0x6a5)]+'):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+(_0x33f039 instanceof Error?_0x33f039[_0x1cd891(0x6c4)]:JSON[_0x1cd891(0x3c5)](_0x33f039,null,0x2))),new m(_0x1cd891(0x1ae)+_0x33f039[_0x1cd891(0x6c4)]);}}async[a0_0x22d3e1(0x65f)](){const _0x2b2a1d=a0_0x22d3e1;this['timerId']&&clearTimeout(this[_0x2b2a1d(0x684)]),this['timerId']=setTimeout(()=>{const _0x52244d=_0x2b2a1d;this[_0x52244d(0x304)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x22d3e1(0x304)](){const _0x5dc37b=a0_0x22d3e1;Date['now']()-this[_0x5dc37b(0x5c4)]>=0x1d4c0&&(this[_0x5dc37b(0x13f)][_0x5dc37b(0x605)](this[_0x5dc37b(0x4c1)]+'\x20('+this['instance'][_0x5dc37b(0x6a5)]+_0x5dc37b(0x15d)),this[_0x5dc37b(0x33e)]=null,this['lastSend']=0x0,this[_0x5dc37b(0x5df)]=0x0,await this[_0x5dc37b(0x196)]());}async[a0_0x22d3e1(0x196)](){const _0x329120=a0_0x22d3e1;let _0x3a547a=()=>{const _0x48748e=a0_0x2c76;this[_0x48748e(0x13f)][_0x48748e(0x605)](this[_0x48748e(0x4c1)]+'\x20('+this[_0x48748e(0x22c)][_0x48748e(0x6a5)]+'):\x20this.processingScheduleMessageId:\x20'+this[_0x48748e(0x33e)]+_0x48748e(0x5f3));},_0x421c5d=async()=>{const _0x19b8f3=a0_0x2c76;this['logger'][_0x19b8f3(0x605)](this[_0x19b8f3(0x4c1)]+'\x20('+this[_0x19b8f3(0x22c)][_0x19b8f3(0x6a5)]+_0x19b8f3(0x623));let _0x42ce31=Date[_0x19b8f3(0x299)]()-0xc*0x3c*0x3c*0x3e8,_0x56f678={'where':{'status':{'$in':[_0x19b8f3(0x4d7),_0x19b8f3(0x361)]},'$or':[{'when':{'$lte':Date[_0x19b8f3(0x299)](),'$gte':_0x42ce31}},{'when':0x0}]}};return await this[_0x19b8f3(0xaa)][_0x19b8f3(0x32d)][_0x19b8f3(0x39d)](_0x56f678,this['instance']['wuid']);},_0x1d0625=async _0x3ee038=>{const _0x540778=a0_0x2c76;for(let _0x4f70d0 of _0x3ee038){let _0x10aff0={'_id':_0x4f70d0['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x540778(0x299)]()-0x1770}}]},_0x1cf8ff={'startSend':Date[_0x540778(0x299)]()};if(!await this[_0x540778(0xaa)][_0x540778(0x32d)][_0x540778(0x290)](_0x10aff0,_0x1cf8ff,this[_0x540778(0x22c)]['wuid']))return;if(!this['isConnected']){this[_0x540778(0x13f)][_0x540778(0x605)](this[_0x540778(0x4c1)]+'\x20('+this[_0x540778(0x22c)]['wuid']+_0x540778(0x604));break;}if(_0x4f70d0[_0x540778(0x255)]===_0x540778(0x2c2)&&!this[_0x540778(0x41d)]?.[_0x540778(0x2c0)]['enabled']){this[_0x540778(0x13f)][_0x540778(0x411)](this[_0x540778(0x4c1)]+'\x20('+this[_0x540778(0x22c)][_0x540778(0x6a5)]+_0x540778(0x43c));continue;}(!_0x4f70d0[_0x540778(0x446)]||_0x4f70d0[_0x540778(0x446)]['length']===0x0)&&(_0x4f70d0=await this[_0x540778(0xaa)][_0x540778(0x32d)][_0x540778(0x4d4)](_0x4f70d0[_0x540778(0x494)],{'status':_0x540778(0x361),'remoteJidsRemaining':[..._0x4f70d0[_0x540778(0x6bd)]]},this[_0x540778(0x22c)][_0x540778(0x6a5)]));for(let _0x177b9b of _0x4f70d0[_0x540778(0x446)]){if(await this[_0x540778(0x65f)](),this[_0x540778(0x5c4)]=Date[_0x540778(0x299)](),_0x4f70d0[_0x540778(0x1f3)]['some'](_0x2dd73a=>_0x2dd73a[_0x540778(0x412)]===_0x177b9b)){this[_0x540778(0x13f)][_0x540778(0x605)](this[_0x540778(0x4c1)]+'\x20('+this[_0x540778(0x22c)][_0x540778(0x6a5)]+_0x540778(0x44a)+_0x177b9b+_0x540778(0x688));continue;}if(!this['isConnected']){this[_0x540778(0x13f)][_0x540778(0x605)](this['instanceName']+'\x20('+this[_0x540778(0x22c)][_0x540778(0x6a5)]+_0x540778(0x55c));break;}if(!this[_0x540778(0x33e)]){this['logger'][_0x540778(0x605)](this[_0x540778(0x4c1)]+'\x20('+this[_0x540778(0x22c)]['wuid']+_0x540778(0x5c3)+_0x4f70d0[_0x540778(0x494)]+_0x540778(0x29a));break;}if(_0x4f70d0[_0x540778(0x255)]===_0x540778(0x2c2)&&!this[_0x540778(0x41d)]?.[_0x540778(0x2c0)][_0x540778(0x5d7)]){this[_0x540778(0x13f)][_0x540778(0x411)](this[_0x540778(0x4c1)]+'\x20('+this[_0x540778(0x22c)]['wuid']+_0x540778(0x43c));break;}let _0x30f746={'remoteJid':_0x177b9b,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x540778(0x299)]()},_0x4ad520=null;try{let _0x87528a=await this[_0x540778(0x48e)](_0x177b9b,_0x4f70d0);_0x30f746[_0x540778(0x411)]=_0x87528a[_0x540778(0x411)],_0x30f746['id']=_0x87528a['error']?null:_0x87528a['id'],_0x30f746[_0x540778(0x1e1)]=_0x87528a[_0x540778(0x411)]?_0x87528a[_0x540778(0x95)]?_0x87528a[_0x540778(0x95)]['toString']():'':null;let _0x18af83={'$push':{'messagesSend':_0x30f746},'$pull':{'remoteJidsRemaining':_0x177b9b}},_0x190a12=_0x4f70d0[_0x540778(0x494)];if(_0x4ad520=await this[_0x540778(0xaa)][_0x540778(0x32d)][_0x540778(0x4d4)](_0x190a12,_0x18af83,this[_0x540778(0x22c)][_0x540778(0x6a5)]),_0x87528a[_0x540778(0x411)])continue;let _0x5bff06=this[_0x540778(0x6a2)](_0x4f70d0[_0x540778(0x1f9)],_0x4f70d0[_0x540778(0x291)]);await this[_0x540778(0xef)](_0x5bff06);}catch(_0x4cfb0f){this[_0x540778(0x13f)][_0x540778(0x411)](this[_0x540778(0x4c1)]+'\x20('+this['instance'][_0x540778(0x6a5)]+_0x540778(0x42a)+_0x177b9b+':\x20'+(_0x4cfb0f instanceof Error?_0x4cfb0f[_0x540778(0x6c4)]:JSON['stringify'](_0x4cfb0f,null,0x2))),_0x30f746['error']=!0x0,_0x30f746[_0x540778(0x1e1)]=_0x4cfb0f[_0x540778(0x6c4)];let _0xcc24fb={'$push':{'messagesSend':_0x30f746},'$pull':{'remoteJidsRemaining':_0x177b9b}},_0x560e84=_0x4f70d0['_id'];_0x4ad520=await this[_0x540778(0xaa)]['scheduleMessage']['updateOneById'](_0x560e84,_0xcc24fb,this[_0x540778(0x22c)][_0x540778(0x6a5)]);}finally{if(_0x4ad520&&_0x4ad520[_0x540778(0x62d)]===_0x540778(0x4a5)){this[_0x540778(0x13f)][_0x540778(0x605)](this['instanceName']+'\x20('+this['instance'][_0x540778(0x6a5)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x4f70d0['_id']+_0x540778(0x1ff));break;}}}let _0x28ec13=await this[_0x540778(0xaa)]['scheduleMessage']['findById'](_0x4f70d0[_0x540778(0x494)],this['instance'][_0x540778(0x6a5)]);if(_0x28ec13['remoteJidsRemaining'][_0x540778(0x4b3)]===0x0&&_0x28ec13[_0x540778(0x62d)]!==_0x540778(0x4a5)){let _0x37e18c={'$set':{'status':_0x540778(0x2b7)}},_0x7d3a5f=_0x28ec13['_id'];await this['repository'][_0x540778(0x32d)][_0x540778(0x4d4)](_0x7d3a5f,_0x37e18c,this[_0x540778(0x22c)]['wuid']);}await new Promise(_0x14a3b9=>setTimeout(_0x14a3b9,0x1388));}},_0x3051bd=async()=>{const _0x4b70cb=a0_0x2c76;let _0x521730={'where':{'status':'scheduled','when':{'$gt':Date['now']()}}},_0x40ffc9=await this[_0x4b70cb(0xaa)][_0x4b70cb(0x32d)]['findOne'](_0x521730,this['instance'][_0x4b70cb(0x6a5)]);_0x40ffc9&&_0x40ffc9[_0x4b70cb(0x682)]-Date[_0x4b70cb(0x299)]()<=0x5265c00?this[_0x4b70cb(0x5df)]=_0x40ffc9[_0x4b70cb(0x682)]-Date[_0x4b70cb(0x299)]():this['delayMessage']=(0x3c+Math[_0x4b70cb(0x695)](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x4b70cb(0x5df)]=Math[_0x4b70cb(0x26f)](this[_0x4b70cb(0x5df)],0x7d0);let _0x18244a=Math['round'](this[_0x4b70cb(0x5df)]/0xea60);if(_0x40ffc9){let _0x1022c0=new Date(_0x40ffc9['when'])[_0x4b70cb(0x35e)]();this[_0x4b70cb(0x13f)][_0x4b70cb(0x605)](this[_0x4b70cb(0x4c1)]+'\x20('+this[_0x4b70cb(0x22c)][_0x4b70cb(0x6a5)]+_0x4b70cb(0x91)+_0x1022c0+_0x4b70cb(0x68d)+_0x18244a+_0x4b70cb(0x377));}else this['logger']['verbose'](this[_0x4b70cb(0x4c1)]+'\x20('+this[_0x4b70cb(0x22c)][_0x4b70cb(0x6a5)]+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x18244a+'\x20minutos');setTimeout(()=>this[_0x4b70cb(0x196)](),this[_0x4b70cb(0x5df)]);};if(this[_0x329120(0x33e)]){await this[_0x329120(0x65f)](),_0x3a547a();return;}if(!this[_0x329120(0x101)]){this[_0x329120(0x13f)]['verbose'](this[_0x329120(0x4c1)]+'\x20('+this[_0x329120(0x22c)][_0x329120(0x6a5)]+_0x329120(0x1f5)),this['processingScheduleMessageId']=null,this[_0x329120(0x5c4)]=0x0,this[_0x329120(0x5df)]=0x0;return;}try{let _0x69d348=await _0x421c5d();_0x69d348['length']===0x0?this[_0x329120(0x13f)][_0x329120(0x605)](this[_0x329120(0x4c1)]+'\x20('+this[_0x329120(0x22c)][_0x329120(0x6a5)]+_0x329120(0x6c6)):(this[_0x329120(0x33e)]=_0x69d348[0x0]['_id'],await _0x1d0625(_0x69d348)),await _0x3051bd(),this['processingScheduleMessageId']=null;}catch(_0x5b7dbe){this[_0x329120(0x13f)][_0x329120(0x411)](_0x329120(0x540)+(_0x5b7dbe instanceof Error?_0x5b7dbe['message']:JSON[_0x329120(0x3c5)](_0x5b7dbe,null,0x2)));}}['getDelay'](_0x1da0ab,_0x28f95b){const _0x4738c5=a0_0x22d3e1;return _0x1da0ab=Math[_0x4738c5(0x26f)](0.5,_0x1da0ab),_0x28f95b=Math[_0x4738c5(0x3e0)](Math[_0x4738c5(0x26f)](0x3,_0x28f95b),0x78),Math[_0x4738c5(0x695)](Math['random']()*(_0x28f95b-_0x1da0ab+0x1)+_0x1da0ab)*0x3e8;}[a0_0x22d3e1(0xef)](_0x1da21d){return new Promise(_0xc550b8=>setTimeout(_0xc550b8,_0x1da21d));}async[a0_0x22d3e1(0x39b)](_0x3d16eb){const _0x2d21ad=a0_0x22d3e1;if(!this['AutomateSystem']&&(await this[_0x2d21ad(0xc1)](),!this[_0x2d21ad(0x41d)]))return null;_0x3d16eb=this[_0x2d21ad(0x345)](_0x3d16eb);let _0xa6af42=await this[_0x2d21ad(0xaa)]['chat'][_0x2d21ad(0x639)]({'where':{'_id':_0x3d16eb}},this['instance'][_0x2d21ad(0x6a5)]),_0x1d605b={};if(_0xa6af42&&_0xa6af42[_0x2d21ad(0x3f0)]){let _0x4492b8=_0xa6af42[_0x2d21ad(0x3f0)];typeof _0x4492b8[_0x2d21ad(0x25c)]==_0x2d21ad(0x53f)&&(_0x1d605b[_0x2d21ad(0x25c)]=_0x4492b8['nome']),typeof _0x4492b8[_0x2d21ad(0x541)]==_0x2d21ad(0x53f)&&(_0x1d605b[_0x2d21ad(0x541)]=_0x4492b8[_0x2d21ad(0x541)]),typeof _0x4492b8[_0x2d21ad(0x2f9)]=='string'&&(_0x1d605b[_0x2d21ad(0x2f9)]=_0x4492b8[_0x2d21ad(0x2f9)]),typeof _0x4492b8[_0x2d21ad(0x661)]=='string'&&(_0x1d605b[_0x2d21ad(0x661)]=_0x4492b8[_0x2d21ad(0x661)]),typeof _0x4492b8[_0x2d21ad(0x62d)]==_0x2d21ad(0x53f)&&(_0x1d605b[_0x2d21ad(0x62d)]=_0x4492b8['status']),typeof _0x4492b8[_0x2d21ad(0x4ec)]==_0x2d21ad(0x53f)&&(_0x1d605b[_0x2d21ad(0x4ec)]=_0x4492b8[_0x2d21ad(0x4ec)]),typeof _0x4492b8[_0x2d21ad(0x4df)]=='string'&&(_0x1d605b[_0x2d21ad(0x4df)]=_0x4492b8['responsavelid']),Array[_0x2d21ad(0x8a)](_0x4492b8['tags'])&&(_0x1d605b[_0x2d21ad(0x2a2)]=_0x4492b8[_0x2d21ad(0x2a2)][_0x2d21ad(0x592)](',\x20')),Array[_0x2d21ad(0x8a)](_0x4492b8[_0x2d21ad(0x46d)])&&(_0x1d605b[_0x2d21ad(0x46d)]=_0x4492b8[_0x2d21ad(0x46d)]['join'](',\x20'));}return _0xa6af42&&_0xa6af42['leadInfo']&&_0xa6af42[_0x2d21ad(0x3f0)][_0x2d21ad(0x2c7)]&&_0xa6af42[_0x2d21ad(0x3f0)]['customFields']['forEach'](_0x443f18=>{const _0x2bdf18=_0x2d21ad;let _0x578bf0=this[_0x2bdf18(0x41d)]?.[_0x2bdf18(0x2c7)][_0x2bdf18(0x39d)](_0x2e35ee=>_0x2e35ee[_0x2bdf18(0x494)]===_0x443f18['_id']);_0x578bf0&&(_0x1d605b[_0x578bf0[_0x2bdf18(0xa8)]]=_0x443f18[_0x2bdf18(0x521)]);}),_0x1d605b;}async[a0_0x22d3e1(0x573)](_0x8bdedc,_0x181fe4){const _0x361fef=a0_0x22d3e1;let _0x1cf4b2=await this[_0x361fef(0x39b)](_0x181fe4);return this[_0x361fef(0x57a)](_0x8bdedc,_0x1cf4b2);}async[a0_0x22d3e1(0x5f8)](_0x3e0d02){const _0x3fa4a3=a0_0x22d3e1;try{if(this['logger'][_0x3fa4a3(0x605)](this[_0x3fa4a3(0x4c1)]+'\x20('+this[_0x3fa4a3(0x22c)][_0x3fa4a3(0x6a5)]+_0x3fa4a3(0x24b)),_0x3e0d02[_0x3fa4a3(0x67b)]&&_0x3e0d02[_0x3fa4a3(0x494)]){if(this[_0x3fa4a3(0x33e)]===_0x3e0d02['_id'][_0x3fa4a3(0x12d)]())throw new Error(_0x3fa4a3(0x153));let _0x101dd7=await this[_0x3fa4a3(0xaa)][_0x3fa4a3(0x32d)][_0x3fa4a3(0x17d)](_0x3e0d02[_0x3fa4a3(0x494)],this[_0x3fa4a3(0x22c)][_0x3fa4a3(0x6a5)]);return setTimeout(()=>this[_0x3fa4a3(0x196)](),0x7d0),_0x101dd7;}let _0x58e03d;if(_0x3e0d02[_0x3fa4a3(0x494)]&&(_0x58e03d=await this[_0x3fa4a3(0xaa)][_0x3fa4a3(0x32d)][_0x3fa4a3(0x2c4)](_0x3e0d02[_0x3fa4a3(0x494)],this[_0x3fa4a3(0x22c)][_0x3fa4a3(0x6a5)])),_0x58e03d){let _0x3da8d5;if(this['processingScheduleMessageId']===_0x58e03d['_id']['toString']())_0x3da8d5={'$set':{'status':_0x3e0d02[_0x3fa4a3(0x62d)]}};else{let {_id:_0x492d67,..._0x1f6c22}=_0x3e0d02;_0x3da8d5={'$set':_0x1f6c22};}let _0x3e1f94=await this['repository']['scheduleMessage'][_0x3fa4a3(0x4d4)](_0x3e0d02[_0x3fa4a3(0x494)],_0x3da8d5,this['instance'][_0x3fa4a3(0x6a5)]);return setTimeout(()=>this[_0x3fa4a3(0x196)](),0x7d0),_0x3e1f94;}else{_0x3e0d02[_0x3fa4a3(0x132)]=this[_0x3fa4a3(0x22c)][_0x3fa4a3(0x6a5)];let _0x50227d=await this[_0x3fa4a3(0xaa)][_0x3fa4a3(0x32d)][_0x3fa4a3(0x5c9)](_0x3e0d02,this['instance'][_0x3fa4a3(0x6a5)]);return setTimeout(()=>this[_0x3fa4a3(0x196)](),0x7d0),_0x50227d;}}catch(_0x4f5dc8){throw this['logger'][_0x3fa4a3(0x411)](this[_0x3fa4a3(0x4c1)]+'\x20('+this[_0x3fa4a3(0x22c)][_0x3fa4a3(0x6a5)]+_0x3fa4a3(0x3b9)+(_0x4f5dc8 instanceof Error?_0x4f5dc8[_0x3fa4a3(0x6c4)]:JSON[_0x3fa4a3(0x3c5)](_0x4f5dc8,null,0x2))),new m(_0x3fa4a3(0x18c)+_0x4f5dc8['message']);}}async[a0_0x22d3e1(0x440)](){const _0x5517f0=a0_0x22d3e1;try{return await this['repository'][_0x5517f0(0x32d)][_0x5517f0(0x39d)]({'where':{}},this[_0x5517f0(0x22c)]['wuid']);}catch(_0x329ea3){throw this[_0x5517f0(0x13f)][_0x5517f0(0x411)](this[_0x5517f0(0x4c1)]+'\x20('+this[_0x5517f0(0x22c)][_0x5517f0(0x6a5)]+'):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:'+(_0x329ea3 instanceof Error?_0x329ea3['message']:JSON[_0x5517f0(0x3c5)](_0x329ea3,null,0x2))),new m(_0x5517f0(0x18c)+_0x329ea3[_0x5517f0(0x6c4)]);}}async['deleteDoneMessages'](){const _0x24e296=a0_0x22d3e1;try{let _0x25830a={'status':_0x24e296(0x2b7)},_0x155e68=await this['repository'][_0x24e296(0x32d)][_0x24e296(0x208)](_0x25830a,this[_0x24e296(0x22c)]['wuid']);if(!_0x155e68[_0x24e296(0x411)])this[_0x24e296(0x13f)]['verbose'](this[_0x24e296(0x4c1)]+'\x20('+this[_0x24e296(0x22c)][_0x24e296(0x6a5)]+_0x24e296(0x42f));else throw new Error(_0x155e68[_0x24e296(0x411)]['message']||_0x24e296(0x157));return this[_0x24e296(0x440)]();}catch(_0x4d1513){throw this[_0x24e296(0x13f)][_0x24e296(0x411)](this[_0x24e296(0x4c1)]+'\x20('+this[_0x24e296(0x22c)][_0x24e296(0x6a5)]+_0x24e296(0x353)+(_0x4d1513 instanceof Error?_0x4d1513[_0x24e296(0x6c4)]:JSON['stringify'](_0x4d1513,null,0x2))),new m(_0x24e296(0x18c)+_0x4d1513[_0x24e296(0x6c4)]);}}async['SendScheduleMessage'](_0x34351c,_0x5f45fd){const _0x5f4f5a=a0_0x22d3e1;try{if(_0x5f45fd[_0x5f4f5a(0x255)]===_0x5f4f5a(0x2c2)&&!this[_0x5f4f5a(0x41d)]?.[_0x5f4f5a(0x2c0)]['enabled'])return this[_0x5f4f5a(0x13f)][_0x5f4f5a(0x411)](this[_0x5f4f5a(0x4c1)]+'\x20('+this[_0x5f4f5a(0x22c)][_0x5f4f5a(0x6a5)]+_0x5f4f5a(0xc0)),{'error':!0x0,'detail':'Fluxos\x20não\x20estão\x20ativados'};switch(_0x5f45fd[_0x5f4f5a(0x255)]){case'text':return await this[_0x5f4f5a(0x2ac)](_0x5f45fd,_0x34351c);case _0x5f4f5a(0x344):return await this[_0x5f4f5a(0x4bf)](_0x5f45fd,_0x34351c);case _0x5f4f5a(0x341):return await this[_0x5f4f5a(0xa4)](_0x5f45fd,_0x34351c);case _0x5f4f5a(0x2c2):let _0x121ed6=new _e();return _0x121ed6[_0x5f4f5a(0xa8)]=_0x5f45fd[_0x5f4f5a(0x493)],_0x121ed6[_0x5f4f5a(0x412)]=_0x34351c,await this['startFlow'](_0x121ed6);break;default:return this[_0x5f4f5a(0x13f)][_0x5f4f5a(0x411)](this[_0x5f4f5a(0x4c1)]+'\x20('+this['instance'][_0x5f4f5a(0x6a5)]+_0x5f4f5a(0x2c8)+_0x5f45fd[_0x5f4f5a(0x255)]),{'error':!0x0,'detail':_0x5f4f5a(0x173)};}}catch(_0x4f80ec){return this['logger'][_0x5f4f5a(0x411)](this[_0x5f4f5a(0x4c1)]+'\x20('+this[_0x5f4f5a(0x22c)][_0x5f4f5a(0x6a5)]+_0x5f4f5a(0xc9)+(_0x4f80ec instanceof Error?_0x4f80ec['message']:JSON[_0x5f4f5a(0x3c5)](_0x4f80ec,null,0x2))),{'error':!0x0,'detail':_0x4f80ec[_0x5f4f5a(0x6c4)]};}}[a0_0x22d3e1(0x327)](_0x112014){const _0x28c51d=a0_0x22d3e1;let _0x10a97d=_0x112014[_0x28c51d(0x142)]('|'),_0x26dbbb=Math['floor'](Math[_0x28c51d(0x520)]()*_0x10a97d[_0x28c51d(0x4b3)]);return _0x10a97d[_0x26dbbb][_0x28c51d(0x2dd)]();}async['scheduleSendText'](_0x3aaf3d,_0x35c179){const _0x245328=a0_0x22d3e1;if(this[_0x245328(0x13f)]['verbose'](this[_0x245328(0x4c1)]+'\x20('+this['instance'][_0x245328(0x6a5)]+_0x245328(0x164)),!_0x3aaf3d[_0x245328(0x6c4)][_0x245328(0x546)]||_0x3aaf3d[_0x245328(0x6c4)]['text'][_0x245328(0x4b3)]===0x0)return{'error':!0x0,'detail':_0x245328(0x27c)};let _0xa168ee=this[_0x245328(0x327)](_0x3aaf3d[_0x245328(0x6c4)][_0x245328(0x546)]),_0x37ab6f=await this[_0x245328(0x573)](_0xa168ee,_0x35c179),_0x4f09ce={'number':_0x35c179,'options':{'delay':_0x3aaf3d['message'][_0x245328(0x580)]},'textMessage':{'text':_0x37ab6f}},_0x5b2bd7=null;try{let _0x4fa312=await this['textMessage'](_0x4f09ce);if(_0x4fa312&&_0x4fa312[_0x245328(0x62d)])return{'error':!0x1,'id':_0x4fa312[_0x245328(0x644)]['id']};_0x5b2bd7=JSON['stringify'](_0x4fa312),this[_0x245328(0x13f)][_0x245328(0x605)](this['instanceName']+'\x20('+this[_0x245328(0x22c)][_0x245328(0x6a5)]+_0x245328(0x1fd)+_0x5b2bd7);}catch(_0x1d4958){this[_0x245328(0x13f)][_0x245328(0x411)](this[_0x245328(0x4c1)]+'\x20('+this['instance'][_0x245328(0x6a5)]+_0x245328(0x107)+(_0x1d4958 instanceof Error?_0x1d4958[_0x245328(0x6c4)]:JSON[_0x245328(0x3c5)](_0x1d4958,null,0x2))),_0x5b2bd7=_0x1d4958[_0x245328(0x6c4)];}if(_0x5b2bd7)return{'error':!0x0,'detail':(typeof _0x5b2bd7==_0x245328(0x4f2)?JSON[_0x245328(0x3c5)](_0x5b2bd7,null,0x2):_0x5b2bd7)[_0x245328(0x3d6)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x22d3e1(0x4bf)](_0x44b4c6,_0xdd27b1){const _0x26ea31=a0_0x22d3e1;this[_0x26ea31(0x13f)][_0x26ea31(0x605)](this['instanceName']+'\x20('+this[_0x26ea31(0x22c)][_0x26ea31(0x6a5)]+_0x26ea31(0x214));let _0xb26384;if(_0x44b4c6['message'][_0x26ea31(0x546)]&&_0x44b4c6['message'][_0x26ea31(0x546)][_0x26ea31(0x4b3)]>0x0){let _0x96082d=this[_0x26ea31(0x327)](_0x44b4c6[_0x26ea31(0x6c4)][_0x26ea31(0x546)]);_0xb26384=await this['replaceVariablesChat'](_0x96082d,_0xdd27b1);}let _0x5a4122={'number':_0xdd27b1,'options':{'delay':_0x44b4c6['message']['delay']},'mediaMessage':{'mediatype':_0x44b4c6[_0x26ea31(0x6c4)][_0x26ea31(0x3e8)],'caption':_0xb26384,'media':_0x44b4c6[_0x26ea31(0x6c4)]['urlOrBase64']}},_0x3d205b=null;try{let _0x2c3c6e=await this[_0x26ea31(0x14f)](_0x5a4122);if(_0x2c3c6e&&_0x2c3c6e[_0x26ea31(0x62d)])return{'error':!0x1,'id':_0x2c3c6e[_0x26ea31(0x644)]['id']};_0x3d205b=JSON[_0x26ea31(0x3c5)](_0x2c3c6e),this[_0x26ea31(0x13f)][_0x26ea31(0x605)](this[_0x26ea31(0x4c1)]+'\x20('+this[_0x26ea31(0x22c)][_0x26ea31(0x6a5)]+_0x26ea31(0x1fd)+_0x3d205b);}catch(_0x115138){this['logger'][_0x26ea31(0x411)](this[_0x26ea31(0x4c1)]+'\x20('+this[_0x26ea31(0x22c)][_0x26ea31(0x6a5)]+_0x26ea31(0xaf)+(_0x115138 instanceof Error?_0x115138[_0x26ea31(0x6c4)]:JSON[_0x26ea31(0x3c5)](_0x115138,null,0x2))),_0x3d205b=_0x115138[_0x26ea31(0x6c4)];}if(_0x3d205b)return{'error':!0x0,'detail':(typeof _0x3d205b==_0x26ea31(0x4f2)?JSON['stringify'](_0x3d205b,null,0x2):_0x3d205b)[_0x26ea31(0x3d6)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x22d3e1(0xa4)](_0x295b1c,_0x281c75){const _0x45390b=a0_0x22d3e1;this[_0x45390b(0x13f)][_0x45390b(0x605)](this['instanceName']+'\x20('+this[_0x45390b(0x22c)]['wuid']+_0x45390b(0x3ab));let _0x2d2d97={'number':_0x281c75,'options':{'delay':_0x295b1c[_0x45390b(0x6c4)][_0x45390b(0x580)]},'audioMessage':{'audio':_0x295b1c['message'][_0x45390b(0x15e)]}},_0x1323fc=null;try{let _0x22acd7=await this['audioWhatsapp'](_0x2d2d97);if(_0x22acd7&&_0x22acd7['status'])return{'error':!0x1,'id':_0x22acd7[_0x45390b(0x644)]['id']};_0x1323fc=JSON[_0x45390b(0x3c5)](_0x22acd7),this['logger'][_0x45390b(0x605)](this[_0x45390b(0x4c1)]+'\x20('+this[_0x45390b(0x22c)][_0x45390b(0x6a5)]+'):\x20'+_0x1323fc);}catch(_0x5e0ba0){this[_0x45390b(0x13f)][_0x45390b(0x411)](this[_0x45390b(0x4c1)]+'\x20('+this[_0x45390b(0x22c)][_0x45390b(0x6a5)]+_0x45390b(0x637)+(_0x5e0ba0 instanceof Error?_0x5e0ba0[_0x45390b(0x6c4)]:JSON[_0x45390b(0x3c5)](_0x5e0ba0,null,0x2))),_0x1323fc=_0x5e0ba0[_0x45390b(0x6c4)];}if(_0x1323fc)return{'error':!0x0,'detail':(typeof _0x1323fc==_0x45390b(0x4f2)?JSON['stringify'](_0x1323fc,null,0x2):_0x1323fc)[_0x45390b(0x3d6)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},Pt=class c{constructor(_0x961dc,_0x176e80,_0x525c03){const _0x11bbc5=a0_0x22d3e1;this[_0x11bbc5(0xdc)]=_0x961dc,this[_0x11bbc5(0x6cb)]=_0x176e80,this['repository']=_0x525c03,this['db']={},this[_0x11bbc5(0x58b)]={},this[_0x11bbc5(0x13f)]=new v(c[_0x11bbc5(0xa8)]),this[_0x11bbc5(0x1de)]={},(this[_0x11bbc5(0x4fa)](),this[_0x11bbc5(0x141)](),Object[_0x11bbc5(0x6cf)](this['db'],_0x176e80[_0x11bbc5(0x1e3)](_0x11bbc5(0x1be))),Object['assign'](this[_0x11bbc5(0x58b)],_0x176e80[_0x11bbc5(0x1e3)]('REDIS')),this[_0x11bbc5(0x420)]=this['db'][_0x11bbc5(0x34a)]?this[_0x11bbc5(0xaa)][_0x11bbc5(0x312)]?.['db'](this['db'][_0x11bbc5(0x88)][_0x11bbc5(0x45c)]+'-instances'):void 0x0,this[_0x11bbc5(0x4a8)]=this[_0x11bbc5(0x58b)]['ENABLED']?new oe(this[_0x11bbc5(0x58b)]):void 0x0);}async['instanceInfo'](_0x313bd4){const _0x19e246=a0_0x22d3e1;if(_0x313bd4&&!this['waInstances'][_0x313bd4])throw new j(_0x19e246(0x1b3)+_0x313bd4+'\x22\x20not\x20found');let _0x16d351=[];for await(let [_0x44cd3d,_0x3d9fce]of Object[_0x19e246(0xf9)](this[_0x19e246(0x1de)]))if(_0x3d9fce&&_0x3d9fce[_0x19e246(0x332)]['state']===_0x19e246(0x4d1)){let _0xc2f4a9=await this[_0x19e246(0xaa)][_0x19e246(0x1ca)][_0x19e246(0x39d)](_0x44cd3d);_0x16d351[_0x19e246(0x435)]({'instance':{'instanceName':_0x44cd3d,'apikey':_0xc2f4a9['apikey'],'owner':_0x3d9fce[_0x19e246(0x6a5)],'profileName':await _0x3d9fce[_0x19e246(0x3de)]()||_0x19e246(0x44b),'profilePictureUrl':_0x3d9fce['profilePictureUrl']}});}return _0x16d351[_0x19e246(0x39d)](_0x633d24=>_0x633d24['instance']['instanceName']===_0x313bd4)??_0x16d351;}async[a0_0x22d3e1(0x38a)](_0x4dd956){const _0x54cc66=a0_0x22d3e1;if(this['db'][_0x54cc66(0x34a)]&&(await this[_0x54cc66(0xaa)]['dbServer'][_0x54cc66(0x679)](),(await this[_0x54cc66(0x420)][_0x54cc66(0x3f1)]())[_0x54cc66(0x4b3)]>0x0&&await this[_0x54cc66(0x420)][_0x54cc66(0x19d)](_0x4dd956)),this[_0x54cc66(0x58b)][_0x54cc66(0x34a)]){this[_0x54cc66(0x4a8)][_0x54cc66(0x1eb)]=_0x4dd956,await this[_0x54cc66(0x4a8)][_0x54cc66(0x29b)]();return;}}async['loadInstance'](){const _0x39a94b=a0_0x22d3e1;await this[_0x39a94b(0x135)]();let _0x173ded=async _0x5c2eec=>{const _0xab38f0=_0x39a94b;let _0xeed497=new ye(this[_0xab38f0(0x6cb)],this[_0xab38f0(0xdc)],this[_0xab38f0(0xaa)]);_0xeed497[_0xab38f0(0x4c1)]=_0x5c2eec,await _0xeed497[_0xab38f0(0x30a)](),this[_0xab38f0(0x1de)][_0x5c2eec]=_0xeed497;};try{if(this[_0x39a94b(0x58b)][_0x39a94b(0x34a)]){let _0xbdb1a1=await this[_0x39a94b(0x4a8)][_0x39a94b(0x5fb)]();_0xbdb1a1?.['length']>0x0&&_0xbdb1a1[_0x39a94b(0x2ee)](async _0x4fbf2c=>await _0x173ded(_0x4fbf2c['split'](':')[0x1]));return;}if(this['db'][_0x39a94b(0x34a)]){await this[_0x39a94b(0xaa)][_0x39a94b(0x312)][_0x39a94b(0x679)]();let _0x1e4052=await this['dbInstance'][_0x39a94b(0x3f1)]();_0x1e4052[_0x39a94b(0x4b3)]>0x0&&_0x1e4052[_0x39a94b(0x2ee)](async _0x2382ad=>await _0x173ded(_0x2382ad[_0x39a94b(0x2fa)]['replace'](/^[\w-]+\./,'')));return;}}catch(_0x37f221){this['logger']['error'](_0x37f221);}}async['InstancesAsDisconnectedX'](){const _0x488820=a0_0x22d3e1;let _0x4cb72c=await this['repository'][_0x488820(0x1ca)]['findAll'](),_0x224cc0=_0x4cb72c[_0x488820(0x560)](_0xcc330b=>!this[_0x488820(0x1de)][_0xcc330b[_0x488820(0x494)]]&&(_0xcc330b[_0x488820(0x6db)]||typeof _0xcc330b[_0x488820(0x6db)]>'u'));_0x224cc0[_0x488820(0x4b3)]>0x0&&await Promise[_0x488820(0x133)](_0x224cc0[_0x488820(0x2bf)](async _0x873df4=>{const _0x43111d=_0x488820;let _0x52fcb6={'online':!0x1,'lastDisconnect':Date[_0x43111d(0x299)]()};await this[_0x43111d(0xaa)][_0x43111d(0x1ca)][_0x43111d(0x2ec)](_0x52fcb6,_0x873df4['_id']);}));let _0x15ac9b=Date[_0x488820(0x299)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x41daae=_0x4cb72c[_0x488820(0x560)](_0x314108=>!this['waInstances'][_0x314108[_0x488820(0x494)]]&&typeof _0x314108[_0x488820(0x562)]<'u'&&_0x314108[_0x488820(0x562)]<_0x15ac9b);_0x41daae[_0x488820(0x4b3)]>0x0&&await Promise[_0x488820(0x133)](_0x41daae[_0x488820(0x2bf)](async _0x4d8417=>{}));}async['InstancesAlterarTodas'](){const _0x30b613=a0_0x22d3e1;try{let _0x58e0ec={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x3070e0={'online':!0x1,'lastDisconnect':Date[_0x30b613(0x299)]()},_0x586e3c=await this[_0x30b613(0xaa)]['auth'][_0x30b613(0x5cb)](_0x58e0ec,_0x3070e0);console['log'](_0x30b613(0x125)+_0x586e3c[_0x30b613(0x2ea)]),await this['removeOlderDisconnectedInstances']();}catch(_0x2c7811){console['error'](_0x30b613(0x1a7),_0x2c7811);}}async[a0_0x22d3e1(0x220)](){const _0x4658b3=a0_0x22d3e1;try{let _0x2ba0fe={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x651e56=await this['repository'][_0x4658b3(0x1ca)][_0x4658b3(0x208)](_0x2ba0fe);console[_0x4658b3(0x51f)]('Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20'+_0x651e56[_0x4658b3(0x2ea)]);}catch(_0xa5bc79){console[_0x4658b3(0x411)](_0x4658b3(0x645),_0xa5bc79);}}[a0_0x22d3e1(0x4fa)](){const _0x579876=a0_0x22d3e1;this[_0x579876(0xdc)]['on'](_0x579876(0x5a8),async _0xf1768c=>{const _0x1da35c=_0x579876;try{this['waInstances'][_0xf1768c]=void 0x0;}catch{}try{this[_0x1da35c(0x38a)](_0xf1768c);}finally{this['logger'][_0x1da35c(0x2de)](_0x1da35c(0x1b3)+_0xf1768c+_0x1da35c(0x215));}});}[a0_0x22d3e1(0x141)](){const _0x12b030=a0_0x22d3e1;this[_0x12b030(0xdc)]['on'](_0x12b030(0x6d9),async _0x37e2d5=>{const _0x42a401=_0x12b030;try{this[_0x42a401(0x1de)][_0x37e2d5]=void 0x0;}catch{}try{this[_0x42a401(0x38a)](_0x37e2d5);}finally{this[_0x42a401(0x13f)][_0x42a401(0x2de)](_0x42a401(0x1b3)+_0x37e2d5+_0x42a401(0x229));}});}},$t=class extends I{[a0_0x22d3e1(0x245)](_0x16546b){return Us(_0x16546b);}async['insert'](_0x4f49ce){const _0x4c2796=a0_0x22d3e1;if(_0x4f49ce[_0x4c2796(0x4b3)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x4f49ce[0x0][_0x4c2796(0x132)])[_0x4c2796(0x6b6)]([..._0x4f49ce]))[_0x4c2796(0x4b3)]};}catch(_0x4f9b2b){return _0x4f9b2b;}}async[a0_0x22d3e1(0x39d)](_0x5309aa,_0x2a1caf){const _0x3bde40=a0_0x22d3e1;try{let _0x55457a=this[_0x3bde40(0x245)](_0x2a1caf),_0x566fd8=A(_0x5309aa[_0x3bde40(0xf4)]);return await _0x55457a[_0x3bde40(0x39d)](_0x566fd8)[_0x3bde40(0x14e)]({'lastmsg':-0x1})[_0x3bde40(0x61d)](_0x5309aa?.[_0x3bde40(0x61d)]??0x0)['lean']();}catch{return[];}}async[a0_0x22d3e1(0x619)](_0x1a9a36,_0x7d7167){const _0x4e3763=a0_0x22d3e1;try{return await this[_0x4e3763(0x245)](_0x7d7167)[_0x4e3763(0x208)]({..._0x1a9a36[_0x4e3763(0xf4)]}),[];}catch(_0x32838a){return{'error':_0x32838a?.['toString']()};}}async['findOne'](_0x246d66,_0x593358){const _0x3d2df0=a0_0x22d3e1;try{let _0x318db7=this['getChatModelForOwner'](_0x593358),_0x34b09c=A(_0x246d66[_0x3d2df0(0xf4)]);return await _0x318db7[_0x3d2df0(0x639)](_0x34b09c)[_0x3d2df0(0x65b)]();}catch{return null;}}async[a0_0x22d3e1(0x290)](_0x14fe16,_0x297980,_0x2b034f,_0x237a33,_0x32fb52=a0_0x22d3e1(0x200)){const _0x9c7f65=a0_0x22d3e1;try{let _0x597e91={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x237a33},_0x19b7d2=this[_0x9c7f65(0x245)](_0x2b034f),_0x2690e1=A(_0x14fe16[_0x9c7f65(0xf4)]);Object['keys'](_0x297980)['forEach'](_0x291479=>{_0x297980[_0x291479]==null&&delete _0x297980[_0x291479];});let _0x17e972={};return _0x17e972[_0x32fb52]=_0x297980,await _0x19b7d2[_0x9c7f65(0xed)](_0x2690e1,_0x17e972,_0x597e91);}catch(_0x4a3603){return console['error'](_0x4a3603),null;}}async['updateMany'](_0x59b688){const _0x2aee1b=a0_0x22d3e1;try{let _0x5d658d=this['getChatModelForOwner'](_0x59b688[0x0]['query'][_0x2aee1b(0xf4)][_0x2aee1b(0x132)]),_0x44a167=_0x59b688[_0x2aee1b(0x2bf)](_0x5d93ed=>({'updateOne':{'filter':{..._0x5d93ed['query'][_0x2aee1b(0xf4)]},'update':{'$set':_0x5d93ed[_0x2aee1b(0x6aa)]},'upsert':!0x0}})),_0x28ac01=await _0x5d658d[_0x2aee1b(0x1b2)](_0x44a167);return _0x28ac01[_0x2aee1b(0x2a1)]+_0x28ac01['upsertedCount'];}catch(_0x3846c1){return console[_0x2aee1b(0x411)](_0x3846c1),0x0;}}async[a0_0x22d3e1(0x38c)](_0x2a54f5){const _0x5a8795=a0_0x22d3e1;try{let _0x418c70=this[_0x5a8795(0x245)](_0x2a54f5),_0x49e41c={'labels':{'$exists':!0x0}},_0x3b0847={'$unset':{'labels':''}};return(await _0x418c70[_0x5a8795(0x56d)](_0x49e41c,_0x3b0847))[_0x5a8795(0x2a1)];}catch(_0x33f4e0){return console[_0x5a8795(0x411)](_0x33f4e0),0x0;}}async['updateMissingEtiquetas'](_0x372f9d){const _0xfb256=a0_0x22d3e1;try{let _0x79d358=this[_0xfb256(0x245)](_0x372f9d),_0x4e3fe0={'leadInfo.etiquetas':{'$exists':!0x1}},_0x48d5c2={'$set':{'leadInfo.etiquetas':[]}};return(await _0x79d358[_0xfb256(0x56d)](_0x4e3fe0,_0x48d5c2))[_0xfb256(0x2a1)];}catch(_0x431d6e){return console[_0xfb256(0x411)](_0x431d6e),0x0;}}async[a0_0x22d3e1(0x426)](_0x380557){const _0x45ffde=a0_0x22d3e1;try{let _0x2a1ff1=this[_0x45ffde(0x245)](_0x380557),_0x5cf65c={'leadInfo.tags':{'$exists':!0x1}},_0xb27ffe={'$set':{'leadInfo.tags':[]}};return(await _0x2a1ff1[_0x45ffde(0x56d)](_0x5cf65c,_0xb27ffe))[_0x45ffde(0x2a1)];}catch(_0x4e5a05){return console[_0x45ffde(0x411)](_0x4e5a05),0x0;}}async[a0_0x22d3e1(0x622)](_0x4c579b){const _0x27e012=a0_0x22d3e1;try{let _0x2346de=this['getChatModelForOwner'](_0x4c579b),_0xa5300b={'leadInfo.customFields':{'$exists':!0x1}},_0x3bd7b1={'$set':{'leadInfo.customFields':[]}};return(await _0x2346de['updateMany'](_0xa5300b,_0x3bd7b1))[_0x27e012(0x2a1)];}catch(_0x40252f){return console[_0x27e012(0x411)](_0x40252f),0x0;}}async[a0_0x22d3e1(0x6b6)](_0x51cc68,_0x3681cc){const _0x263d8c=a0_0x22d3e1;if(!Array[_0x263d8c(0x8a)](_0x51cc68)||_0x51cc68[_0x263d8c(0x4b3)]===0x0)throw new Error(_0x263d8c(0x6be));try{return(await this[_0x263d8c(0x245)](_0x3681cc)['insertMany'](_0x51cc68))['length'];}catch(_0x14644a){throw console[_0x263d8c(0x411)](_0x263d8c(0x635),_0x14644a),_0x14644a;}}async[a0_0x22d3e1(0xc4)](_0x3ff332,_0x465e2e){const _0x35ed52=a0_0x22d3e1;try{await this[_0x35ed52(0x245)](_0x465e2e)[_0x35ed52(0x17d)]({'_id':_0x3ff332});}catch(_0x4479bd){throw console[_0x35ed52(0x411)](_0x35ed52(0x22b),_0x4479bd),_0x4479bd;}}},kt=class extends I{[a0_0x22d3e1(0x176)](_0x1ab82f){return ua(_0x1ab82f);}async[a0_0x22d3e1(0x290)](_0x33b675,_0x427c84,_0x40159e,_0x4b03bd){const _0x51e7ef=a0_0x22d3e1;try{let _0x3f179d={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x4b03bd},_0x23ed38=this['getLabelModelForOwner'](_0x40159e),_0x38342b=A(_0x33b675[_0x51e7ef(0xf4)]);return await _0x23ed38['findOneAndUpdate'](_0x38342b,{'$set':_0x427c84},_0x3f179d);}catch(_0x42de7e){return console['error'](_0x42de7e),null;}}async['find'](_0x5248e9,_0x50b4c6){const _0x1c3d30=a0_0x22d3e1;try{let _0xc08f58=this[_0x1c3d30(0x176)](_0x50b4c6),_0x5f3ccf=A(_0x5248e9[_0x1c3d30(0xf4)]);return await _0xc08f58[_0x1c3d30(0x39d)](_0x5f3ccf);}catch(_0x5a3b3c){console[_0x1c3d30(0x411)](_0x5a3b3c);}}async[a0_0x22d3e1(0x67b)](_0x244bbe,_0x552c4b){const _0x227d8a=a0_0x22d3e1;try{let _0x3f7a77=this['getLabelModelForOwner'](_0x552c4b),_0x65fee9=A(_0x244bbe[_0x227d8a(0xf4)]);await _0x3f7a77['deleteMany'](_0x65fee9);}catch(_0x3dd227){console[_0x227d8a(0x411)](_0x3dd227);}}async[a0_0x22d3e1(0x619)](_0x57cbe3){const _0x1d4ada=a0_0x22d3e1;try{return await this[_0x1d4ada(0x176)](_0x57cbe3)[_0x1d4ada(0x5e9)]['drop'](),{'success':!0x0};}catch(_0x49afa5){return console['error'](_0x49afa5),{'success':!0x1,'error':_0x49afa5};}}},Lt=class{constructor(_0x849d3c){const _0x1c135e=a0_0x22d3e1;this[_0x1c135e(0x59d)]=_0x849d3c;}async[a0_0x22d3e1(0x32f)]({instanceName:_0x562f4e},_0x1cd55e){const _0x2a9a32=a0_0x22d3e1;return await this[_0x2a9a32(0x59d)]['waInstances'][_0x562f4e][_0x2a9a32(0x32f)](_0x1cd55e);}async[a0_0x22d3e1(0x1b9)]({instanceName:_0x3c658e},_0x44cc40){const _0x38a97d=a0_0x22d3e1;return await this[_0x38a97d(0x59d)][_0x38a97d(0x1de)][_0x3c658e]['whatsappNumber'](_0x44cc40);}async[a0_0x22d3e1(0x1d1)]({instanceName:_0x3d58b7},_0x3d8646){const _0x27217a=a0_0x22d3e1;return await this[_0x27217a(0x59d)][_0x27217a(0x1de)][_0x3d58b7][_0x27217a(0x1d1)](_0x3d8646);}async[a0_0x22d3e1(0x4a6)]({instanceName:_0x55756f},_0x1f0c9b){const _0x9d3d3b=a0_0x22d3e1;return await this[_0x9d3d3b(0x59d)][_0x9d3d3b(0x1de)][_0x55756f][_0x9d3d3b(0x3c9)](_0x1f0c9b);}async['archiveChat']({instanceName:_0x267d81},_0x355292){const _0x5686bb=a0_0x22d3e1;return await this[_0x5686bb(0x59d)]['waInstances'][_0x267d81]['archiveChat'](_0x355292);}async[a0_0x22d3e1(0x1ec)]({instanceName:_0x2827ba},_0x41aa80){const _0x56088f=a0_0x22d3e1;return await this[_0x56088f(0x59d)][_0x56088f(0x1de)][_0x2827ba][_0x56088f(0x1ec)](_0x41aa80);}async['fetchProfilePicture']({instanceName:_0x2fb4f5},_0x48dca6){const _0x2c866f=a0_0x22d3e1;return await this[_0x2c866f(0x59d)][_0x2c866f(0x1de)][_0x2fb4f5][_0x2c866f(0xd4)](_0x48dca6['number']);}async[a0_0x22d3e1(0x505)]({instanceName:_0x3f97fd},_0x3eef26){const _0x1c8470=a0_0x22d3e1;return await this[_0x1c8470(0x59d)][_0x1c8470(0x1de)][_0x3f97fd][_0x1c8470(0x505)](_0x3eef26['number']);}async['updatePresence']({instanceName:_0x3f0971},_0x13650c){const _0x47c57e=a0_0x22d3e1;return await this[_0x47c57e(0x59d)]['waInstances'][_0x3f0971][_0x47c57e(0x3f3)](_0x13650c);}async[a0_0x22d3e1(0x5a1)]({instanceName:_0x177147},_0x5d98fb){const _0x10c179=a0_0x22d3e1;return await this[_0x10c179(0x59d)][_0x10c179(0x1de)][_0x177147][_0x10c179(0x5a1)](_0x5d98fb);}async[a0_0x22d3e1(0x1d5)]({instanceName:_0x45d649},_0xb96d9){const _0x50290e=a0_0x22d3e1;return await this[_0x50290e(0x59d)][_0x50290e(0x1de)][_0x45d649]['getBase64FromMediaMessage'](_0xb96d9);}async[a0_0x22d3e1(0x257)]({instanceName:_0x4ba7a4},_0x56eab8){const _0x3d2b9c=a0_0x22d3e1;return await this['waMonitor'][_0x3d2b9c(0x1de)][_0x4ba7a4][_0x3d2b9c(0x257)](_0x56eab8);}async[a0_0x22d3e1(0x284)]({instanceName:_0x3e4c89}){const _0x2f1fd5=a0_0x22d3e1;return await this['waMonitor'][_0x2f1fd5(0x1de)][_0x3e4c89][_0x2f1fd5(0x284)]();}async[a0_0x22d3e1(0x451)]({instanceName:_0x450cc1}){const _0x4c7362=a0_0x22d3e1;return await this[_0x4c7362(0x59d)][_0x4c7362(0x1de)][_0x450cc1][_0x4c7362(0x451)]();}async[a0_0x22d3e1(0x4ae)]({instanceName:_0x5a4c78}){const _0x224959=a0_0x22d3e1;return await this['waMonitor'][_0x224959(0x1de)][_0x5a4c78][_0x224959(0x4ae)]();}async[a0_0x22d3e1(0x338)]({instanceName:_0x58cba0},_0x197452){const _0x1bff86=a0_0x22d3e1;return await this['waMonitor'][_0x1bff86(0x1de)][_0x58cba0]['updatePrivacySettings'](_0x197452);}async['fetchBusinessProfile']({instanceName:_0x11f097},_0x448476){const _0x665f3f=a0_0x22d3e1;return await this[_0x665f3f(0x59d)][_0x665f3f(0x1de)][_0x11f097][_0x665f3f(0x63a)](_0x448476['number']);}async[a0_0x22d3e1(0x239)]({instanceName:_0x5547a5},_0x349e66){const _0x5393a5=a0_0x22d3e1;return await this[_0x5393a5(0x59d)][_0x5393a5(0x1de)][_0x5547a5][_0x5393a5(0x239)](_0x349e66[_0x5393a5(0xa8)]);}async[a0_0x22d3e1(0xa0)]({instanceName:_0x170992},_0x2f5a7a){const _0x51f011=a0_0x22d3e1;return await this[_0x51f011(0x59d)][_0x51f011(0x1de)][_0x170992][_0x51f011(0xa0)](_0x2f5a7a['status']);}async[a0_0x22d3e1(0x2b1)]({instanceName:_0x18121e},_0xd2a9e4){const _0x3cf15b=a0_0x22d3e1;return await this['waMonitor']['waInstances'][_0x18121e][_0x3cf15b(0x2b1)](_0xd2a9e4[_0x3cf15b(0x1db)]);}async['removeProfilePicture']({instanceName:_0x2c0f9f},_0x25154e){const _0x131fda=a0_0x22d3e1;return await this[_0x131fda(0x59d)]['waInstances'][_0x2c0f9f][_0x131fda(0x470)]();}},Ns=require(a0_0x22d3e1(0x278)),jt=class c{constructor(_0x5e4cb5,_0x2b1d0c,_0x1cdb47,_0x38502b,_0x4c52f0){const _0x81092b=a0_0x22d3e1;this[_0x81092b(0x59d)]=_0x5e4cb5,this[_0x81092b(0x6cb)]=_0x2b1d0c,this[_0x81092b(0xaa)]=_0x1cdb47,this[_0x81092b(0xdc)]=_0x38502b,this['authService']=_0x4c52f0,this[_0x81092b(0x13f)]=new v(c[_0x81092b(0xa8)]);}async[a0_0x22d3e1(0x60c)]({instanceName:_0x3f4806,apikey:_0x35f80b,number:_0x52e350,proxy:_0x2209f9=!0x0}){const _0x413a7a=a0_0x22d3e1;try{let _0x17f83f=new ye(this[_0x413a7a(0x6cb)],this['eventEmitter'],this['repository']);_0x17f83f[_0x413a7a(0x4c1)]=_0x3f4806,this[_0x413a7a(0x59d)][_0x413a7a(0x1de)][_0x17f83f[_0x413a7a(0x4c1)]]=_0x17f83f;let _0x4d6f6a={};_0x35f80b?(await this[_0x413a7a(0xaa)]['auth']['create']({'apikey':_0x35f80b},_0x3f4806),_0x4d6f6a[_0x413a7a(0x5de)]=_0x35f80b):_0x4d6f6a=await this[_0x413a7a(0x3ea)]['generateHash']({'instanceName':_0x17f83f[_0x413a7a(0x4c1)]});let _0x468693;return await _0x17f83f[_0x413a7a(0x30a)](_0x52e350,_0x2209f9),await(0x0,Ns[_0x413a7a(0x580)])(0x7d0),_0x468693=_0x17f83f[_0x413a7a(0x311)],{'instance':{'instanceName':_0x17f83f[_0x413a7a(0x4c1)],'status':_0x413a7a(0x35a)},'hash':_0x4d6f6a,'qrcode':_0x468693};}catch(_0x31a444){this[_0x413a7a(0x13f)][_0x413a7a(0x411)](_0x31a444);}}async[a0_0x22d3e1(0x4ed)]({instanceName:_0xdf7643,number:_0x33a067=null,proxy:_0x1149ac=!0x0}){const _0x133bd7=a0_0x22d3e1;try{let _0x16c6f2=this['waMonitor']['waInstances'][_0xdf7643];switch(_0x16c6f2?.[_0x133bd7(0x332)]?.[_0x133bd7(0x355)]){case'close':return await _0x16c6f2[_0x133bd7(0x30a)](_0x33a067,_0x1149ac),await(0x0,Ns[_0x133bd7(0x580)])(0x7d0),_0x16c6f2['qrCode'];case'connecting':return _0x16c6f2[_0x133bd7(0x311)];default:return await this[_0x133bd7(0x38b)]({'instanceName':_0xdf7643});}}catch(_0x27dd1e){this[_0x133bd7(0x13f)]['log'](_0x27dd1e);}}async[a0_0x22d3e1(0x38b)]({instanceName:_0x34491d}){const _0x3686b3=a0_0x22d3e1;let _0x439550=this[_0x3686b3(0x59d)][_0x3686b3(0x1de)][_0x34491d]['connectionStatus'],_0x554f96=null;_0x439550[_0x3686b3(0x355)]==='open'&&_0x34491d&&(_0x554f96=await this[_0x3686b3(0x59d)][_0x3686b3(0x375)](_0x34491d));let _0x11b73e=null;return _0x439550[_0x3686b3(0x355)]===_0x3686b3(0x1a0)&&_0x34491d&&(_0x11b73e=this[_0x3686b3(0x59d)][_0x3686b3(0x1de)][_0x34491d]['qrCode']),{'instance':_0x34491d,'connectionStatus':_0x439550,'instanceInfo':_0x554f96,'qrcode':_0x11b73e};}async[a0_0x22d3e1(0x4b4)]({instanceName:_0x333a80}){const _0x59c1a0=a0_0x22d3e1;try{return this[_0x59c1a0(0x59d)]['waInstances'][_0x333a80]?.[_0x59c1a0(0x49f)]?.['ws']?.[_0x59c1a0(0x119)](),{'status':_0x59c1a0(0x296),'error':!0x1,'response':{'message':_0x59c1a0(0x1d8)}};}catch(_0x731a2f){this['logger'][_0x59c1a0(0x411)](_0x731a2f);}}async[a0_0x22d3e1(0x216)]({instanceName:_0x5731a3}){const _0x2ba073=a0_0x22d3e1;return _0x5731a3?this[_0x2ba073(0x59d)][_0x2ba073(0x375)](_0x5731a3):this['waMonitor']['instanceInfo']();}async['logout']({instanceName:_0x5ca805}){const _0x508b91=a0_0x22d3e1;try{return await this['waMonitor'][_0x508b91(0x1de)][_0x5ca805]?.['client']?.[_0x508b91(0x9c)](_0x508b91(0x610)+_0x5ca805),{'error':!0x1,'message':_0x508b91(0x204)};}catch(_0x364890){throw new O(_0x364890[_0x508b91(0x12d)]());}}async[a0_0x22d3e1(0x3a6)]({instanceName:_0x22fae7}){const _0x4c526f=a0_0x22d3e1;if((await this[_0x4c526f(0x38b)]({'instanceName':_0x22fae7}))['connectionStatus'][_0x4c526f(0x355)]==='open')throw new m(['Deletion\x20failed','The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this[_0x4c526f(0x59d)][_0x4c526f(0x1de)][_0x22fae7],{'error':!0x1,'message':_0x4c526f(0x8b)};}catch(_0x144005){throw new m(_0x144005[_0x4c526f(0x12d)]());}}},Z=require(a0_0x22d3e1(0xfd)),Ft=class{constructor(_0x22afaf){this['waMonitor']=_0x22afaf;}async[a0_0x22d3e1(0x19a)]({instanceName:_0x44d435},_0x47c156){const _0x11f438=a0_0x22d3e1;return await this['waMonitor'][_0x11f438(0x1de)][_0x44d435][_0x11f438(0x143)](_0x47c156);}async[a0_0x22d3e1(0x337)]({instanceName:_0x561175},_0x148c90){const _0x42d76a=a0_0x22d3e1;return await this['waMonitor'][_0x42d76a(0x1de)][_0x561175][_0x42d76a(0x87)](_0x148c90);}async[a0_0x22d3e1(0x34d)]({instanceName:_0x23dd97},_0x12d7a7){const _0x302108=a0_0x22d3e1;if((0x0,Z[_0x302108(0x1d2)])(_0x12d7a7?.[_0x302108(0x14f)]?.[_0x302108(0x344)])&&!_0x12d7a7?.[_0x302108(0x14f)]?.[_0x302108(0x1e4)])throw new m(_0x302108(0x233));if((0x0,Z[_0x302108(0x316)])(_0x12d7a7?.[_0x302108(0x14f)]?.[_0x302108(0x344)])||(0x0,Z[_0x302108(0x1d2)])(_0x12d7a7?.['mediaMessage']?.[_0x302108(0x344)]))return await this['waMonitor'][_0x302108(0x1de)][_0x23dd97][_0x302108(0x14f)](_0x12d7a7);throw new m(_0x302108(0x2a8));}async[a0_0x22d3e1(0x6bb)]({instanceName:_0x3cb365},_0x496c3c){const _0x1c308c=a0_0x22d3e1;if((0x0,Z[_0x1c308c(0x316)])(_0x496c3c[_0x1c308c(0x69b)][_0x1c308c(0x43d)])||(0x0,Z[_0x1c308c(0x1d2)])(_0x496c3c[_0x1c308c(0x69b)][_0x1c308c(0x43d)]))return await this[_0x1c308c(0x59d)][_0x1c308c(0x1de)][_0x3cb365]['mediaSticker'](_0x496c3c);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x22d3e1(0x453)]({instanceName:_0x7ecbdd},_0x583131){const _0x4dddef=a0_0x22d3e1;if((0x0,Z['isURL'])(_0x583131[_0x4dddef(0x687)]['audio'])||(0x0,Z[_0x4dddef(0x1d2)])(_0x583131['audioMessage']['audio']))return await this['waMonitor']['waInstances'][_0x7ecbdd][_0x4dddef(0x33a)](_0x583131);throw new m(_0x4dddef(0x2a8));}async[a0_0x22d3e1(0x34b)]({instanceName:_0x53aadb},_0x8ef041){const _0x486d09=a0_0x22d3e1;if((0x0,Z[_0x486d09(0x1d2)])(_0x8ef041[_0x486d09(0x5eb)]['mediaMessage']?.[_0x486d09(0x344)])&&!_0x8ef041['buttonMessage']['mediaMessage']?.[_0x486d09(0x1e4)])throw new m(_0x486d09(0x233));return await this[_0x486d09(0x59d)][_0x486d09(0x1de)][_0x53aadb]['buttonMessage'](_0x8ef041);}async['sendLocation']({instanceName:_0x565a62},_0x2994b2){const _0x16d6e7=a0_0x22d3e1;return await this[_0x16d6e7(0x59d)][_0x16d6e7(0x1de)][_0x565a62][_0x16d6e7(0x465)](_0x2994b2);}async['sendPoll']({instanceName:_0x35f9b3},_0x10de54){const _0x16d764=a0_0x22d3e1;return await this['waMonitor'][_0x16d764(0x1de)][_0x35f9b3][_0x16d764(0x280)](_0x10de54);}async[a0_0x22d3e1(0x5e6)]({instanceName:_0x2b3de2},_0x43b755){const _0x3cb2e6=a0_0x22d3e1;return await this[_0x3cb2e6(0x59d)]['waInstances'][_0x2b3de2]['listMessage'](_0x43b755);}async[a0_0x22d3e1(0x56a)]({instanceName:_0x325008},_0x4ff7af){const _0x2a557b=a0_0x22d3e1;return await this['waMonitor'][_0x2a557b(0x1de)][_0x325008]['contactMessage'](_0x4ff7af);}async[a0_0x22d3e1(0x51e)]({instanceName:_0x3638de},_0x39e3c2){const _0x56d792=a0_0x22d3e1;if(!_0x39e3c2['reactionMessage']['reaction'][_0x56d792(0x4e1)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x56d792(0x5d4));return await this[_0x56d792(0x59d)][_0x56d792(0x1de)][_0x3638de][_0x56d792(0x4aa)](_0x39e3c2);}async['sendStatus']({instanceName:_0x5774b7},_0x2e8216){const _0x5e4c9f=a0_0x22d3e1;return await this['waMonitor'][_0x5e4c9f(0x1de)][_0x5774b7][_0x5e4c9f(0x260)](_0x2e8216);}},Co=require(a0_0x22d3e1(0x593)),Rs=require(a0_0x22d3e1(0x25a)),qt=class c{constructor(_0x28f88a,_0x5a878c,_0x550726){const _0x577f9b=a0_0x22d3e1;this['configService']=_0x28f88a,this['waMonitor']=_0x5a878c,this[_0x577f9b(0xaa)]=_0x550726,this['logger']=new v(c[_0x577f9b(0xa8)]);}async[a0_0x22d3e1(0x40d)](_0x55a869){const _0x1a0ad5=a0_0x22d3e1;let _0x3e31c0=this[_0x1a0ad5(0x6cb)][_0x1a0ad5(0x1e3)](_0x1a0ad5(0x189))[_0x1a0ad5(0x120)],_0x11e4aa=(0x0,Co[_0x1a0ad5(0x3ef)])({'instanceName':_0x55a869['instanceName'],'apiName':ze,'tokenId':(0x0,Rs['v4'])()},_0x3e31c0[_0x1a0ad5(0x1c7)],{'expiresIn':_0x3e31c0[_0x1a0ad5(0x1a6)],'encoding':_0x1a0ad5(0x349),'subject':_0x1a0ad5(0x6cd)}),_0x3d6c41=await this[_0x1a0ad5(0xaa)][_0x1a0ad5(0x1ca)][_0x1a0ad5(0x2ec)]({'jwt':_0x11e4aa},_0x55a869[_0x1a0ad5(0x4c1)]);if(_0x3d6c41['error'])throw this['logger'][_0x1a0ad5(0x411)]({'localError':c[_0x1a0ad5(0xa8)]+_0x1a0ad5(0x3eb),'error':_0x3d6c41[_0x1a0ad5(0x411)]}),new m(_0x1a0ad5(0xa9),_0x3d6c41[_0x1a0ad5(0x411)]?.[_0x1a0ad5(0x12d)]());return{'jwt':_0x11e4aa};}async['apikey'](_0x2ac7e0){const _0x58ac76=a0_0x22d3e1;let _0x1ca3fa=(0x0,Rs['v4'])()[_0x58ac76(0x6e3)](),_0x2d3778=await this[_0x58ac76(0xaa)][_0x58ac76(0x1ca)][_0x58ac76(0x2ec)]({'apikey':_0x1ca3fa},_0x2ac7e0['instanceName']);if(_0x2d3778['error'])throw this[_0x58ac76(0x13f)][_0x58ac76(0x411)]({'localError':c[_0x58ac76(0xa8)]+'.jwt','error':_0x2d3778[_0x58ac76(0x411)]}),new m(_0x58ac76(0xa9),_0x2d3778[_0x58ac76(0x411)]?.[_0x58ac76(0x12d)]());return{'apikey':_0x1ca3fa};}async[a0_0x22d3e1(0x68e)](_0x44ec93){const _0x3bbffd=a0_0x22d3e1;let _0x3741fe=this[_0x3bbffd(0x6cb)][_0x3bbffd(0x1e3)]('AUTHENTICATION');return await this[_0x3741fe[_0x3bbffd(0x48b)]](_0x44ec93);}},Ut=class{constructor(_0x11ef8a){this['waMonitor']=_0x11ef8a;}async[a0_0x22d3e1(0x57b)](_0x314447,_0x44f903){const _0x3c2839=a0_0x22d3e1;return await this[_0x3c2839(0x59d)]['waInstances'][_0x314447['instanceName']][_0x3c2839(0x57b)](_0x44f903);}async[a0_0x22d3e1(0x61c)](_0x4fccd1,_0x1c659b){const _0xa5d04=a0_0x22d3e1;return await this[_0xa5d04(0x59d)][_0xa5d04(0x1de)][_0x4fccd1[_0xa5d04(0x4c1)]][_0xa5d04(0x61c)](_0x1c659b);}async[a0_0x22d3e1(0x190)](_0x407b20,_0x3f5d07){const _0x13813d=a0_0x22d3e1;return await this[_0x13813d(0x59d)][_0x13813d(0x1de)][_0x407b20[_0x13813d(0x4c1)]][_0x13813d(0x190)](_0x3f5d07);}async['groupName'](_0x108db6,_0x12b7d6){const _0x104149=a0_0x22d3e1;return await this[_0x104149(0x59d)][_0x104149(0x1de)][_0x108db6[_0x104149(0x4c1)]][_0x104149(0x2e0)](_0x12b7d6);}async[a0_0x22d3e1(0x666)](_0x12262a,_0x3efd51){const _0x173159=a0_0x22d3e1;return await this[_0x173159(0x59d)]['waInstances'][_0x12262a[_0x173159(0x4c1)]][_0x173159(0x666)](_0x3efd51);}async[a0_0x22d3e1(0x5b0)](_0x29648c,_0x1847c9){const _0x478abf=a0_0x22d3e1;return await this[_0x478abf(0x59d)][_0x478abf(0x1de)][_0x29648c[_0x478abf(0x4c1)]][_0x478abf(0x3bb)](_0x1847c9);}async[a0_0x22d3e1(0x2ce)](_0x4a9899){const _0x4c0a2e=a0_0x22d3e1;return await this[_0x4c0a2e(0x59d)]['waInstances'][_0x4a9899[_0x4c0a2e(0x4c1)]][_0x4c0a2e(0x2ce)]();}async[a0_0x22d3e1(0x510)](_0x166d4a,_0x2daed7){const _0x9c2120=a0_0x22d3e1;return await this[_0x9c2120(0x59d)][_0x9c2120(0x1de)][_0x166d4a[_0x9c2120(0x4c1)]][_0x9c2120(0x510)](_0x2daed7);}async[a0_0x22d3e1(0x84)](_0x4f0ecb,_0x30b98f){const _0x26daa9=a0_0x22d3e1;return await this['waMonitor'][_0x26daa9(0x1de)][_0x4f0ecb[_0x26daa9(0x4c1)]][_0x26daa9(0x84)](_0x30b98f);}async[a0_0x22d3e1(0x99)](_0x4539c1,_0x272519){const _0x492160=a0_0x22d3e1;return await this[_0x492160(0x59d)][_0x492160(0x1de)][_0x4539c1[_0x492160(0x4c1)]][_0x492160(0x99)](_0x272519);}async[a0_0x22d3e1(0x140)](_0x4a5ac2,_0xd56c00){const _0x3e18e8=a0_0x22d3e1;return await this[_0x3e18e8(0x59d)][_0x3e18e8(0x1de)][_0x4a5ac2['instanceName']][_0x3e18e8(0x140)](_0xd56c00);}async[a0_0x22d3e1(0x68f)](_0x45aabf,_0x1e6fc2){const _0xacfe34=a0_0x22d3e1;return await this[_0xacfe34(0x59d)][_0xacfe34(0x1de)][_0x45aabf[_0xacfe34(0x4c1)]][_0xacfe34(0xab)](_0x1e6fc2);}async['toggleEphemeral'](_0x14da5c,_0xc48464){const _0x542a48=a0_0x22d3e1;return await this[_0x542a48(0x59d)][_0x542a48(0x1de)][_0x14da5c[_0x542a48(0x4c1)]][_0x542a48(0x674)](_0xc48464);}async[a0_0x22d3e1(0x6e4)](_0x56214f,_0x2b0f18){const _0x47e40a=a0_0x22d3e1;return await this[_0x47e40a(0x59d)][_0x47e40a(0x1de)][_0x56214f[_0x47e40a(0x4c1)]][_0x47e40a(0x6e4)](_0x2b0f18);}},Jt=class{constructor(_0x20e3c2){const _0x55a108=a0_0x22d3e1;this[_0x55a108(0x59d)]=_0x20e3c2;}[a0_0x22d3e1(0x2ec)](_0x3e0186,_0x409e28){const _0x6cbb9e=a0_0x22d3e1;return this[_0x6cbb9e(0x59d)][_0x6cbb9e(0x1de)][_0x3e0186[_0x6cbb9e(0x4c1)]]['setWebhook'](_0x409e28);}async[a0_0x22d3e1(0x39d)](_0x3bbfe5){const _0x29e646=a0_0x22d3e1;try{return await this[_0x29e646(0x59d)][_0x29e646(0x1de)][_0x3bbfe5[_0x29e646(0x4c1)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},Yd=new v('FlowController'),Vt=class{constructor(_0x41ea67){const _0x2d5800=a0_0x22d3e1;this[_0x2d5800(0x59d)]=_0x41ea67;}async['editScheduleMessage'](_0xd18219,_0x190395){const _0xdd3f5a=a0_0x22d3e1;return await this[_0xdd3f5a(0x59d)]['waInstances'][_0xd18219['instanceName']][_0xdd3f5a(0x5f8)](_0x190395);}async[a0_0x22d3e1(0x440)](_0x3f058e){const _0x314fe5=a0_0x22d3e1;return await this['waMonitor'][_0x314fe5(0x1de)][_0x3f058e[_0x314fe5(0x4c1)]][_0x314fe5(0x440)]();}async[a0_0x22d3e1(0x4d6)](_0x5f0e75){const _0x9b548d=a0_0x22d3e1;return await this[_0x9b548d(0x59d)][_0x9b548d(0x1de)][_0x5f0e75['instanceName']][_0x9b548d(0x4d6)]();}async[a0_0x22d3e1(0xc1)](_0x57d6d1){const _0x52dfea=a0_0x22d3e1;return await this[_0x52dfea(0x59d)][_0x52dfea(0x1de)][_0x57d6d1[_0x52dfea(0x4c1)]][_0x52dfea(0xc1)]();}async['updateAgent'](_0x1b9681,_0x235087){const _0x4a1109=a0_0x22d3e1;return await this[_0x4a1109(0x59d)][_0x4a1109(0x1de)][_0x1b9681[_0x4a1109(0x4c1)]][_0x4a1109(0x34c)](_0x235087);}async[a0_0x22d3e1(0x11a)](_0x153bdc,_0x37f07b){const _0x2a6137=a0_0x22d3e1;return await this[_0x2a6137(0x59d)][_0x2a6137(0x1de)][_0x153bdc[_0x2a6137(0x4c1)]][_0x2a6137(0x11a)](_0x37f07b);}async['updateFlowConfig'](_0x873fe5,_0x3b6684){const _0x4bfc28=a0_0x22d3e1;return await this['waMonitor'][_0x4bfc28(0x1de)][_0x873fe5[_0x4bfc28(0x4c1)]][_0x4bfc28(0x4fd)](_0x3b6684);}async[a0_0x22d3e1(0x6da)](_0x148f97,_0x358b47){const _0x1be73a=a0_0x22d3e1;return await this['waMonitor'][_0x1be73a(0x1de)][_0x148f97['instanceName']][_0x1be73a(0x6da)](_0x358b47);}async[a0_0x22d3e1(0x15c)](_0x426cc1,_0x52be29){const _0x20d1bb=a0_0x22d3e1;return await this['waMonitor'][_0x20d1bb(0x1de)][_0x426cc1[_0x20d1bb(0x4c1)]][_0x20d1bb(0x15c)](_0x52be29);}async[a0_0x22d3e1(0x234)](_0x599066,_0x3d2dde){const _0x526298=a0_0x22d3e1;return await this[_0x526298(0x59d)]['waInstances'][_0x599066[_0x526298(0x4c1)]]['fetchConversation'](_0x3d2dde);}async[a0_0x22d3e1(0x3cf)](_0x50fe3c,_0x1f3069){const _0x42f313=a0_0x22d3e1;return await this[_0x42f313(0x59d)][_0x42f313(0x1de)][_0x50fe3c[_0x42f313(0x4c1)]][_0x42f313(0x3cf)](_0x1f3069);}async[a0_0x22d3e1(0x283)](_0x3e58e8,_0x3c2cb3){const _0x34f3a8=a0_0x22d3e1;return await this['waMonitor'][_0x34f3a8(0x1de)][_0x3e58e8[_0x34f3a8(0x4c1)]]['deleteConversation'](_0x3c2cb3);}async[a0_0x22d3e1(0x2e5)](_0x5956b7,_0x155864){const _0x4b1347=a0_0x22d3e1;return await this['waMonitor'][_0x4b1347(0x1de)][_0x5956b7[_0x4b1347(0x4c1)]][_0x4b1347(0x2e5)](_0x155864['name']);}async[a0_0x22d3e1(0x227)](_0x2cd42c,_0x5e621a){const _0x4e0100=a0_0x22d3e1;return await this[_0x4e0100(0x59d)]['waInstances'][_0x2cd42c['instanceName']]['createFlow'](_0x5e621a);}async[a0_0x22d3e1(0x8f)](_0x14a6c6,_0x21722a){const _0x30a3bb=a0_0x22d3e1;return await this[_0x30a3bb(0x59d)][_0x30a3bb(0x1de)][_0x14a6c6[_0x30a3bb(0x4c1)]]['editFlow'](_0x21722a);}async[a0_0x22d3e1(0x629)](_0x412b6d,_0x24c40e){const _0x21a552=a0_0x22d3e1;return await this['waMonitor'][_0x21a552(0x1de)][_0x412b6d['instanceName']][_0x21a552(0x629)](_0x24c40e);}async['editFlowReply'](_0x1946c8,_0x9021cc){const _0x1bd7a0=a0_0x22d3e1;return await this['waMonitor'][_0x1bd7a0(0x1de)][_0x1946c8[_0x1bd7a0(0x4c1)]][_0x1bd7a0(0x18e)](_0x9021cc);}async['editFlowGroup'](_0x57563f,_0x4d6639){const _0x306c84=a0_0x22d3e1;return await this[_0x306c84(0x59d)][_0x306c84(0x1de)][_0x57563f[_0x306c84(0x4c1)]][_0x306c84(0x4a9)](_0x4d6639);}async[a0_0x22d3e1(0x5ee)](_0x4182a1,_0x2d1213){const _0x496e35=a0_0x22d3e1;return await this[_0x496e35(0x59d)][_0x496e35(0x1de)][_0x4182a1['instanceName']][_0x496e35(0x5ee)](_0x2d1213);}async[a0_0x22d3e1(0x5e7)](_0x1f6cf7,_0x41a072){const _0x2054aa=a0_0x22d3e1;return await this[_0x2054aa(0x59d)][_0x2054aa(0x1de)][_0x1f6cf7[_0x2054aa(0x4c1)]]['editFlowVaredit'](_0x41a072);}async[a0_0x22d3e1(0x33f)](_0x1d53bc,_0x1bb670){const _0x7da9b4=a0_0x22d3e1;return await this['waMonitor'][_0x7da9b4(0x1de)][_0x1d53bc['instanceName']]['editFlowVariable'](_0x1bb670);}async[a0_0x22d3e1(0x581)](_0x3791c9,_0x2e227e){const _0x3ddc71=a0_0x22d3e1;return await this[_0x3ddc71(0x59d)][_0x3ddc71(0x1de)][_0x3791c9[_0x3ddc71(0x4c1)]][_0x3ddc71(0x581)](_0x2e227e[_0x3ddc71(0xa8)]);}async['allFlows'](_0x56a967){const _0x5da3cc=a0_0x22d3e1;return await this[_0x5da3cc(0x59d)][_0x5da3cc(0x1de)][_0x56a967[_0x5da3cc(0x4c1)]][_0x5da3cc(0x561)]();}},Bt=class{constructor(_0x4cba2d){const _0x417fe1=a0_0x22d3e1;this[_0x417fe1(0xeb)]=_0x4cba2d;}async[a0_0x22d3e1(0x3c4)](_0x2b33af,_0xce38c6){const _0x46aeef=a0_0x22d3e1;return this[_0x46aeef(0xeb)][_0x46aeef(0x2ec)](_0x2b33af,_0xce38c6);}async[a0_0x22d3e1(0x650)](_0x385225){const _0x9bb74a=a0_0x22d3e1;return this['webhookService'][_0x9bb74a(0x39d)](_0x385225);}},Gt=class extends I{constructor(_0x4c65bd,_0x2735bc){const _0x1c80ec=a0_0x22d3e1;super(_0x2735bc),this[_0x1c80ec(0x415)]=_0x4c65bd,this[_0x1c80ec(0x6cb)]=_0x2735bc;}async[a0_0x22d3e1(0x2ec)](_0x1bb7d1,_0x15eb53){const _0x5f12f2=a0_0x22d3e1;try{return this['dbSettings'][_0x5f12f2(0x34a)]?{'insertCount':(await this['webhookModel']['replaceOne']({'_id':_0x15eb53},{..._0x1bb7d1},{'upsert':!0x0}))[_0x5f12f2(0x2a1)]}:{'insertCount':0x1};}catch(_0x381965){return _0x381965;}}async[a0_0x22d3e1(0x67b)](_0x2e19f6){const _0x4851a0=a0_0x22d3e1;try{if(this[_0x4851a0(0xec)][_0x4851a0(0x34a)]){await this['webhookModel']['deleteOne']({'_id':_0x2e19f6});return;}}catch(_0x48965a){return{'error':_0x48965a};}}async[a0_0x22d3e1(0x39d)](_0xe195c){const _0x302c43=a0_0x22d3e1;try{if(this['dbSettings'][_0x302c43(0x34a)])return await this['webhookModel'][_0x302c43(0x639)]({'_id':_0xe195c});}catch{return{};}}},Wt=class extends I{constructor(_0xcc353c,_0x264ea6){const _0x2d0a37=a0_0x22d3e1;super(_0x264ea6),this[_0x2d0a37(0x61b)]=_0xcc353c,this[_0x2d0a37(0x6cb)]=_0x264ea6,this[_0x2d0a37(0x1ca)]=_0x264ea6[_0x2d0a37(0x1e3)](_0x2d0a37(0x189));}async['create'](_0x3086c0,_0x39de3e){const _0x37581e=a0_0x22d3e1;try{if(this[_0x37581e(0xec)][_0x37581e(0x34a)])return{'insertCount':(await this[_0x37581e(0x61b)][_0x37581e(0x290)]({'_id':_0x39de3e},{'$set':{..._0x3086c0}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x92c07){return{'error':_0x92c07};}}async[a0_0x22d3e1(0x5cb)](_0x2ab977,_0x4eab73){const _0x1bc223=a0_0x22d3e1;try{if(this[_0x1bc223(0xec)]['ENABLED'])return{'insertCount':(await this[_0x1bc223(0x61b)][_0x1bc223(0x56d)](_0x2ab977,{'$set':_0x4eab73},{'upsert':!0x1}))[_0x1bc223(0x2a1)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0xf93a61){return{'error':_0xf93a61};}}async[a0_0x22d3e1(0x208)](_0x2f1582){const _0x5d755b=a0_0x22d3e1;try{if(this['dbSettings'][_0x5d755b(0x34a)])return{'insertCount':(await this['authModel'][_0x5d755b(0x208)](_0x2f1582))[_0x5d755b(0x526)]};throw new Error(_0x5d755b(0x27f));}catch(_0x4d6890){return{'error':_0x4d6890};}}async[a0_0x22d3e1(0x67b)](_0x1029a6){const _0x12b540=a0_0x22d3e1;try{if(this[_0x12b540(0xec)]['ENABLED']){await this[_0x12b540(0x61b)]['deleteOne']({'_id':_0x1029a6});return;}}catch(_0x31fe09){return{'error':_0x31fe09};}}async['find'](_0x59578a){const _0x99a02f=a0_0x22d3e1;try{if(this['dbSettings'][_0x99a02f(0x34a)])return await this['authModel']['findOne']({'_id':_0x59578a});}catch{return{};}}async[a0_0x22d3e1(0x30c)](){const _0xffe24=a0_0x22d3e1;try{if(this[_0xffe24(0xec)]['ENABLED'])return await this[_0xffe24(0x61b)][_0xffe24(0x39d)]();}catch{return[];}}},zt=class extends I{['getFlowModelForOwner'](_0x298db9){return ta(_0x298db9);}async[a0_0x22d3e1(0x664)](_0x232f6a){const _0x410639=a0_0x22d3e1;try{let _0x11f972=sa,_0x2e8fcf=this[_0x410639(0x202)](_0x232f6a),_0x373fab=await _0x11f972[_0x410639(0x39d)]({'owner':_0x232f6a})[_0x410639(0x65b)](),_0x5b1327=[],_0x57ae2b=[];for(let _0x2ac71c of _0x373fab)await _0x2e8fcf[_0x410639(0x2c4)](_0x2ac71c[_0x410639(0x494)])[_0x410639(0x65b)]()||(_0x5b1327['push'](_0x2ac71c),_0x57ae2b[_0x410639(0x435)](_0x2ac71c[_0x410639(0x494)]));return _0x5b1327[_0x410639(0x4b3)]>0x0&&await _0x2e8fcf[_0x410639(0x6b6)](_0x5b1327,{'ordered':!0x1}),{'success':!0x0};}catch(_0x95c149){return console[_0x410639(0x411)](_0x410639(0x437),_0x95c149),{'success':!0x1,'error':_0x95c149};}}async[a0_0x22d3e1(0x67b)](_0x65898d,_0x377021){const _0x396e48=a0_0x22d3e1;try{let _0x111ae1=this[_0x396e48(0x202)](_0x377021),_0x2109fb=A(_0x65898d[_0x396e48(0xf4)]);return{'deletedCount':(await _0x111ae1[_0x396e48(0x208)](_0x2109fb))[_0x396e48(0x526)]};}catch(_0x2762ce){return{'error':_0x2762ce?.[_0x396e48(0x12d)]()};}}async['deleteOne'](_0x14525a,_0x1b7372){const _0x32f6a0=a0_0x22d3e1;try{let _0x22639b=this[_0x32f6a0(0x202)](_0x1b7372),_0x5b0e00=A(_0x14525a[_0x32f6a0(0xf4)]);return{'deletedCount':(await _0x22639b[_0x32f6a0(0x17d)](_0x5b0e00))[_0x32f6a0(0x526)]};}catch(_0x368115){return{'error':_0x368115?.[_0x32f6a0(0x12d)]()};}}async[a0_0x22d3e1(0x290)](_0x258b75,_0x295cbc,_0x5438e0){const _0xbdd82f=a0_0x22d3e1;try{return await this[_0xbdd82f(0x202)](_0x5438e0)[_0xbdd82f(0x6b2)](_0x258b75,_0x295cbc,{'new':!0x0});}catch(_0x130c0d){return console[_0xbdd82f(0x411)](_0xbdd82f(0x557),_0x130c0d),null;}}async['createAndSave'](_0x38edee,_0x142ec1){const _0x3db782=a0_0x22d3e1;try{let _0x3b55bd=this[_0x3db782(0x202)](_0x142ec1);return await new _0x3b55bd(_0x38edee)[_0x3db782(0x57e)]();}catch(_0x108053){return console[_0x3db782(0x411)](_0x3db782(0x3b0),_0x108053),null;}}async['updateMany'](_0x42c380,_0x2e81f7,_0x20b609){const _0x266ee1=a0_0x22d3e1;try{return{'modifiedCount':(await this[_0x266ee1(0x202)](_0x20b609)['updateMany'](_0x42c380,{'$set':_0x2e81f7}))[_0x266ee1(0x2a1)]};}catch(_0x113379){return console[_0x266ee1(0x411)](_0x266ee1(0x123),_0x113379),{'error':_0x113379};}}async['findAll'](_0x2150b9,_0x515a80){const _0x2a8c77=a0_0x22d3e1;try{let _0x450744=this[_0x2a8c77(0x202)](_0x515a80),_0x5828b8=A(_0x2150b9[_0x2a8c77(0xf4)]);return await _0x450744[_0x2a8c77(0x39d)](_0x5828b8)[_0x2a8c77(0x61d)](_0x2150b9?.[_0x2a8c77(0x61d)]??0x0)[_0x2a8c77(0x65b)]();}catch{return[];}}async[a0_0x22d3e1(0x639)](_0x491db8,_0x3fae7c){const _0x202a05=a0_0x22d3e1;try{let _0x190b32=this[_0x202a05(0x202)](_0x3fae7c),_0x47ff2c=A(_0x491db8[_0x202a05(0xf4)]);return await _0x190b32[_0x202a05(0x639)](_0x47ff2c)['lean']();}catch{return null;}}async['deleteAll'](_0x3c7c11){const _0x5be6f7=a0_0x22d3e1;try{return await this['getFlowModelForOwner'](_0x3c7c11)[_0x5be6f7(0x5e9)][_0x5be6f7(0x555)](),{'success':!0x0};}catch(_0x4ec32c){return console[_0x5be6f7(0x411)](_0x4ec32c),{'success':!0x1,'error':_0x4ec32c};}}},Ht=class extends I{[a0_0x22d3e1(0x519)](_0x3158f4){return oa(_0x3158f4);}async['copyDataToNewModel'](_0x2984a4){const _0x1cdbd0=a0_0x22d3e1;try{let _0x62ad59=ra,_0x2188c4=this[_0x1cdbd0(0x519)](_0x2984a4),_0x46e59c=await _0x62ad59[_0x1cdbd0(0x39d)]({'owner':_0x2984a4})[_0x1cdbd0(0x65b)](),_0x2d5d7c=[],_0x1d9132=[];for(let _0x13f0d7 of _0x46e59c)await _0x2188c4[_0x1cdbd0(0x2c4)](_0x13f0d7[_0x1cdbd0(0x494)])[_0x1cdbd0(0x65b)]()||(_0x2d5d7c['push'](_0x13f0d7),_0x1d9132[_0x1cdbd0(0x435)](_0x13f0d7[_0x1cdbd0(0x494)]));return _0x2d5d7c['length']>0x0&&await _0x2188c4['insertMany'](_0x2d5d7c,{'ordered':!0x1}),{'success':!0x0};}catch(_0x210532){return console[_0x1cdbd0(0x411)](_0x1cdbd0(0x437),_0x210532),{'success':!0x1,'error':_0x210532};}}async[a0_0x22d3e1(0x53a)](_0x5a45d2){const _0x439775=a0_0x22d3e1;if(_0x5a45d2[_0x439775(0x4b3)]!==0x0)try{return{'insertCount':(await this[_0x439775(0x519)](_0x5a45d2[0x0]['owner'])[_0x439775(0x6b6)]([..._0x5a45d2]))[_0x439775(0x4b3)]};}catch(_0x56bb5d){return _0x56bb5d;}}async[a0_0x22d3e1(0x67b)](_0x47cc72,_0x49f80c){const _0x21429f=a0_0x22d3e1;try{let _0x59be33=this[_0x21429f(0x519)](_0x49f80c),_0x1146b3=A(_0x47cc72[_0x21429f(0xf4)]);return{'deletedCount':(await _0x59be33[_0x21429f(0x208)](_0x1146b3))['deletedCount']};}catch(_0x5d16c3){return{'error':_0x5d16c3?.['toString']()};}}async[a0_0x22d3e1(0x17d)](_0x4a1bb0,_0x33646a){const _0x29e09d=a0_0x22d3e1;try{let _0x231c5e=this['getConversationModelForOwner'](_0x33646a),_0xfe5c02=A(_0x4a1bb0['where']);return{'deletedCount':(await _0x231c5e['deleteOne'](_0xfe5c02))['deletedCount']};}catch(_0x563212){return{'error':_0x563212?.[_0x29e09d(0x12d)]()};}}async[a0_0x22d3e1(0x6aa)](_0x53b858,_0x4daec1){const _0x21460c=a0_0x22d3e1;try{if(_0x53b858[_0x21460c(0x4b3)]===0x0)return;let _0x2cbff8=this['getConversationModelForOwner'](_0x4daec1),_0xa70959=_0x53b858['map'](_0x1be3bd=>({'updateOne':{'filter':{'name':_0x1be3bd[_0x21460c(0xa8)],'owner':_0x4daec1},'update':{..._0x1be3bd}}})),{modifiedCount:_0x17c78c}=await _0x2cbff8[_0x21460c(0x1b2)](_0xa70959);return{'insertCount':_0x17c78c};}catch{return;}}async[a0_0x22d3e1(0x56d)](_0x15f0e0,_0x4b1d6f,_0x342fe1){const _0x1ab5f3=a0_0x22d3e1;try{return{'modifiedCount':(await this[_0x1ab5f3(0x519)](_0x342fe1)[_0x1ab5f3(0x56d)](_0x15f0e0,{'$set':_0x4b1d6f}))[_0x1ab5f3(0x2a1)]};}catch(_0x4e865e){return console[_0x1ab5f3(0x411)](_0x1ab5f3(0x12b),_0x4e865e),{'error':_0x4e865e};}}async[a0_0x22d3e1(0x290)](_0x319da7,_0x5744c5,_0x3e68e1){const _0x5a82dc=a0_0x22d3e1;try{return await this['getConversationModelForOwner'](_0x3e68e1)['findOneAndUpdate']({'_id':_0x319da7},{'$set':_0x5744c5},{'new':!0x0,'upsert':!0x0})[_0x5a82dc(0x65b)]();}catch(_0xa12912){return console[_0x5a82dc(0x411)](_0xa12912),null;}}async[a0_0x22d3e1(0x39d)](_0x813577,_0x2d468e){const _0x72efa6=a0_0x22d3e1;try{return await this[_0x72efa6(0x519)](_0x2d468e)[_0x72efa6(0x39d)](_0x813577)['sort']({'lastInteraction':-0x1})[_0x72efa6(0x65b)]();}catch{return[];}}async[a0_0x22d3e1(0x639)](_0x282d7f,_0x492c24){const _0x41a9e1=a0_0x22d3e1;try{return await this[_0x41a9e1(0x519)](_0x492c24)[_0x41a9e1(0x639)]({..._0x282d7f['where']})[_0x41a9e1(0x65b)]();}catch{return null;}}async[a0_0x22d3e1(0x619)](_0x38bc18){const _0xf6d216=a0_0x22d3e1;try{return await this[_0xf6d216(0x519)](_0x38bc18)[_0xf6d216(0x5e9)][_0xf6d216(0x555)](),{'success':!0x0};}catch(_0x174bb9){return console[_0xf6d216(0x411)](_0x174bb9),{'success':!0x1,'error':_0x174bb9};}}},Kt=class extends I{['getScheduleMessageModelForOwner'](_0x3714b0){return na(_0x3714b0);}async[a0_0x22d3e1(0x664)](_0x496632){const _0x2e9d9c=a0_0x22d3e1;try{let _0x4adf13=ca,_0x29041b=this[_0x2e9d9c(0x385)](_0x496632),_0x295b1e=await _0x4adf13[_0x2e9d9c(0x39d)]({'owner':_0x496632})[_0x2e9d9c(0x65b)](),_0x4d5c73=[],_0x231da5=[];for(let _0x1156df of _0x295b1e)await _0x29041b[_0x2e9d9c(0x2c4)](_0x1156df[_0x2e9d9c(0x494)])['lean']()||(_0x4d5c73[_0x2e9d9c(0x435)](_0x1156df),_0x231da5[_0x2e9d9c(0x435)](_0x1156df[_0x2e9d9c(0x494)]));return _0x4d5c73[_0x2e9d9c(0x4b3)]>0x0&&await _0x29041b['insertMany'](_0x4d5c73,{'ordered':!0x1}),{'success':!0x0};}catch(_0x1c0873){return console[_0x2e9d9c(0x411)](_0x2e9d9c(0x437),_0x1c0873),{'success':!0x1,'error':_0x1c0873};}}async['createAndSave'](_0x1fab99,_0x267d11){const _0x3304e0=a0_0x22d3e1;try{let _0x368b62=this[_0x3304e0(0x385)](_0x267d11);return await new _0x368b62(_0x1fab99)[_0x3304e0(0x57e)]();}catch(_0x5528f7){return console[_0x3304e0(0x411)](_0x3304e0(0x3b0),_0x5528f7),null;}}async[a0_0x22d3e1(0x17d)](_0x5ea312,_0x41e62d){const _0x19957b=a0_0x22d3e1;try{return await this['getScheduleMessageModelForOwner'](_0x41e62d)[_0x19957b(0x3ba)](_0x5ea312),{};}catch(_0x365672){return{'error':_0x365672?.[_0x19957b(0x12d)]()};}}async[a0_0x22d3e1(0x290)](_0x499539,_0x269ac5,_0x18c0ab){const _0x35bdd8=a0_0x22d3e1;try{return await this[_0x35bdd8(0x385)](_0x18c0ab)[_0x35bdd8(0xed)](_0x499539,{'$set':_0x269ac5},{'new':!0x0})[_0x35bdd8(0x65b)]();}catch(_0x5adb6e){return console['error'](_0x35bdd8(0x170),_0x5adb6e),null;}}async[a0_0x22d3e1(0x4d4)](_0x188748,_0x55cad4,_0x61c2b9){const _0x31a698=a0_0x22d3e1;try{return await this[_0x31a698(0x385)](_0x61c2b9)[_0x31a698(0x6b2)](_0x188748,_0x55cad4,{'new':!0x0})[_0x31a698(0x65b)]();}catch(_0xb1f22e){return console[_0x31a698(0x411)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0xb1f22e),null;}}async[a0_0x22d3e1(0x39d)](_0x113a5f,_0x649e01){const _0x30e237=a0_0x22d3e1;try{return await this[_0x30e237(0x385)](_0x649e01)[_0x30e237(0x39d)](_0x113a5f[_0x30e237(0xf4)])['limit'](_0x113a5f?.[_0x30e237(0x61d)]??0x0)['sort']({'when':0x1})[_0x30e237(0x65b)]();}catch{return[];}}async[a0_0x22d3e1(0x639)](_0x121806,_0x393189){const _0x148a49=a0_0x22d3e1;try{return await this[_0x148a49(0x385)](_0x393189)['findOne'](_0x121806[_0x148a49(0xf4)])['sort']({'when':0x1})[_0x148a49(0x65b)]();}catch{return null;}}async[a0_0x22d3e1(0x2c4)](_0x4a9b25,_0x145a0f){const _0x5b2710=a0_0x22d3e1;try{return await this[_0x5b2710(0x385)](_0x145a0f)[_0x5b2710(0x2c4)](_0x4a9b25)['lean']();}catch{return null;}}async[a0_0x22d3e1(0x208)](_0xa016d,_0x4dc73c){const _0x53b3d6=a0_0x22d3e1;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x4dc73c)[_0x53b3d6(0x208)](_0xa016d))[_0x53b3d6(0x526)]};}catch(_0x34f596){return console[_0x53b3d6(0x411)](_0x53b3d6(0x403),_0x34f596),{'error':_0x34f596};}}async['deleteAll'](_0x4fb798){const _0x1da3f0=a0_0x22d3e1;try{return await this[_0x1da3f0(0x385)](_0x4fb798)['collection'][_0x1da3f0(0x555)](),{'success':!0x0};}catch(_0x2eb34e){return console['error'](_0x2eb34e),{'success':!0x1,'error':_0x2eb34e};}}},Qt=class extends I{async[a0_0x22d3e1(0x6aa)](_0x1ecfee,_0x556c6b){const _0xe8bf4c=a0_0x22d3e1;try{if(this[_0xe8bf4c(0xec)]['ENABLED']){let _0x5ac927=await Pe[_0xe8bf4c(0xed)]({'_id':_0x556c6b},{'$set':_0x1ecfee},{'new':!0x0});return console['log']('Resultado\x20da\x20atualização:',_0x5ac927),_0x5ac927;}}catch(_0xd511e2){throw console[_0xe8bf4c(0x411)]('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0xd511e2),_0xd511e2;}}async['findOrCreate'](_0x23a2cf){const _0x34cea4=a0_0x22d3e1;try{let _0x33ccd5=await Pe['findById'](_0x23a2cf);return _0x33ccd5||(_0x33ccd5=new Pe({'_id':_0x23a2cf}),await _0x33ccd5['save']()),_0x33ccd5;}catch(_0x190daf){return console[_0x34cea4(0x411)](_0x34cea4(0x48f),_0x190daf),null;}}},yr=new v(a0_0x22d3e1(0xf1)),br=new Le(b),Sr=new $t(b),Er=new Qe(b),Cr=new Gt(Qs,b),Mr=new Wt(zs,b),vr=new zt(b),Nr=new kt(b),Rr=new Ht(b),Tr=new Kt(b),Ar=new Qt(b),ce=new $e(br,Sr,Er,Cr,Mr,vr,Rr,Nr,Tr,Ar,N?.[a0_0x22d3e1(0x391)]()),B=new Pt(ss,b,ce),Or=new qt(b,B,ce),Ir=new Jt(B),ms=new Bt(Ir),T=new Vt(B),le=new jt(B,b,ce,ss,Or),G=new Ft(B),x=new Lt(B),q=new Ut(B);yr[a0_0x22d3e1(0x116)](a0_0x22d3e1(0x378));var hh=require(a0_0x22d3e1(0x2d4)),Ts=require('fs'),Mo=R(require(a0_0x22d3e1(0x535))),vo=R(require('http')),Ne=class c{static #e;static set['app'](_0x19ab3e){this.#e=_0x19ab3e;}static get[a0_0x22d3e1(0x535)](){const _0x54cdc1=a0_0x22d3e1;let {FULLCHAIN:_0x34e4a4,PRIVKEY:_0x58bed4}=b['get'](_0x54cdc1(0x457));return Mo['createServer']({'cert':(0x0,Ts[_0x54cdc1(0x4c9)])(_0x34e4a4),'key':(0x0,Ts[_0x54cdc1(0x4c9)])(_0x58bed4)},c.#e);}static get[a0_0x22d3e1(0x4f6)](){const _0x4b65a6=a0_0x22d3e1;return vo[_0x4b65a6(0x3bf)](c.#e);}},de=R(require('fs')),Io=R(require(a0_0x22d3e1(0x340))),Re=R(require(a0_0x22d3e1(0x60b))),Ae=R(require(a0_0x22d3e1(0x41e))),Oe=require(a0_0x22d3e1(0x458));function xr(){const _0x2bb803=a0_0x22d3e1;B['loadInstance']();let _0x5a470b=Ae[_0x2bb803(0x106)][_0x2bb803(0x592)](__dirname,'downloads');Oo(_0x5a470b);}var Oo=_0xe85253=>{const _0x34af2a=a0_0x22d3e1;let _0x46ac03=de['default'][_0x34af2a(0x64f)](_0xe85253),_0x3f4255=0xc*0x3c*0x3c*0x3e8,_0x5e6452=0x2*0x3c*0x3c*0x3e8,_0x295fa5=new Date()[_0x34af2a(0x2c9)]();_0x46ac03[_0x34af2a(0x2ee)](_0x872a9=>{const _0x32e0fe=_0x34af2a;let _0x59c687=Ae[_0x32e0fe(0x106)][_0x32e0fe(0x592)](_0xe85253,_0x872a9),_0x400776=de['default'][_0x32e0fe(0x138)](_0x59c687)[_0x32e0fe(0x455)]['getTime']();_0x295fa5-_0x400776>_0x3f4255&&(de[_0x32e0fe(0x106)]['unlinkSync'](_0x59c687),console['log'](_0x32e0fe(0x463)+_0x872a9));}),setTimeout(()=>Oo(_0xe85253),_0x5e6452);};function Dr(){const _0x34ccab=a0_0x22d3e1;let _0x5585ed=new v(_0x34ccab(0x3f5)),_0x2ecc6c=(0x0,pe[_0x34ccab(0x106)])();_0x2ecc6c['use']((0x0,Ao['default'])({'origin'(_0x377ccb,_0x35ff5c){const _0x41d24f=_0x34ccab;let {ORIGIN:_0x2466a9}=b[_0x41d24f(0x1e3)](_0x41d24f(0x2d2));return _0x377ccb||(_0x377ccb='*'),_0x2466a9['indexOf']('*')!==-0x1||_0x2466a9[_0x41d24f(0x348)](_0x377ccb)!==-0x1?_0x35ff5c(null,!0x0):_0x35ff5c(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...b[_0x34ccab(0x1e3)](_0x34ccab(0x2d2))[_0x34ccab(0x633)]],'credentials':b[_0x34ccab(0x1e3)](_0x34ccab(0x2d2))['CREDENTIALS']}),(0x0,pe[_0x34ccab(0xcd)])({'extended':!0x0,'limit':'50mb'}),(0x0,pe[_0x34ccab(0x5a7)])({'limit':_0x34ccab(0x624)})),_0x2ecc6c[_0x34ccab(0x193)]((_0x22c95c,_0xf9449b,_0x2b2196)=>{const _0x4a0ba0=_0x34ccab;_0x22c95c[_0x4a0ba0(0x41e)]['startsWith']('/events')?_0x2b2196():(0x0,To['default'])()(_0x22c95c,_0xf9449b,_0x2b2196);}),_0x2ecc6c[_0x34ccab(0x3a2)](_0x34ccab(0x2b4),'hbs'),_0x2ecc6c['set']('views',(0x0,Os[_0x34ccab(0x592)])(ae,'views')),_0x2ecc6c[_0x34ccab(0x193)](pe[_0x34ccab(0x106)]['static']((0x0,Os[_0x34ccab(0x592)])(ae,_0x34ccab(0x217)))),_0x2ecc6c[_0x34ccab(0x193)]((_0x1e1a3d,_0x314e03,_0x5cd263)=>{const _0x419567=_0x34ccab;let _0x3998b7=_0x314e03['send'];_0x314e03[_0x419567(0x4b7)]=function(_0x59f09f){const _0x2eb370=_0x419567;if(_0x1e1a3d[_0x2eb370(0x23d)]['convert']===_0x2eb370(0x4bb)||_0x1e1a3d[_0x2eb370(0x17c)][_0x2eb370(0x500)]==='true'){let _0x3a2525=JSON[_0x2eb370(0x44f)](_0x59f09f);_0x59f09f=JSON[_0x2eb370(0x3c5)](_0x39d3dc(_0x3a2525));}return _0x3998b7[_0x2eb370(0x18a)](_0x314e03,[_0x59f09f]);},_0x5cd263();}),_0x2ecc6c[_0x34ccab(0x193)]('/',vt),_0x2ecc6c[_0x34ccab(0x193)]((_0x35122e,_0x893bfa,_0x5b4f9f,_0x50ab89)=>{const _0x4cd709=_0x34ccab;if(_0x35122e)return _0x5b4f9f[_0x4cd709(0x62d)](_0x35122e[_0x4cd709(0x62d)]||0x1f4)[_0x4cd709(0x5a7)](_0x35122e);},(_0x4221b1,_0x158501,_0x5d3132)=>{const _0x4e5a00=_0x34ccab;let {method:_0x4f3185,url:_0xcb610b}=_0x4221b1;_0x158501[_0x4e5a00(0x62d)](0x194)[_0x4e5a00(0x5a7)]({'status':0x194,'message':_0x4e5a00(0x5a4)+_0x4f3185[_0x4e5a00(0x6e3)]()+'\x20'+_0xcb610b,'error':_0x4e5a00(0x3aa)}),_0x5d3132();});let _0x39d3dc=(_0x4cd254,_0x5443fb=_0x34ccab(0x599))=>{const _0x47dbf3=_0x34ccab;let _0x456f6c=(_0xd4ea3c,_0x33f21b=null,_0x252f03=!0x1)=>{const _0x151ab6=a0_0x2c76;let _0x167a04={};return Object['keys'](_0xd4ea3c)[_0x151ab6(0x2ee)](_0x3697fe=>{const _0x1382c4=_0x151ab6;let _0x5bb291=_0xd4ea3c[_0x3697fe],_0x356da8=''+_0x5443fb+_0x3697fe;_0x33f21b&&!_0x252f03&&(_0x356da8=_0x33f21b+'.'+_0x3697fe),!_0x5bb291&&_0x5bb291!==0x0&&_0x5bb291!==!0x1||typeof _0x5bb291>'u'?_0x167a04[_0x356da8]=null:typeof _0x5bb291!=_0x1382c4(0x4f2)&&!Array[_0x1382c4(0x8a)](_0x5bb291)?_0x167a04[_0x356da8]=_0x5bb291:typeof _0x5bb291==_0x1382c4(0x4f2)&&!Array['isArray'](_0x5bb291)?_0x167a04=Object['assign'](_0x167a04,_0x456f6c(_0x5bb291,_0x356da8)):Array[_0x1382c4(0x8a)](_0x5bb291)&&(typeof _0x5bb291[0x0]==_0x1382c4(0x4f2)?(_0x167a04[_0x356da8]=[],_0x5bb291[_0x1382c4(0x2ee)](_0x101375=>{const _0x5891b6=_0x1382c4;_0x167a04[_0x356da8][_0x5891b6(0x435)](_0x456f6c(_0x101375,_0x356da8,!0x0));})):_0x167a04[_0x356da8]=_0x5bb291);}),_0x167a04;};return Array[_0x47dbf3(0x8a)](_0x4cd254)?_0x4cd254[_0x47dbf3(0x2bf)](_0x330a9c=>_0x456f6c(_0x330a9c)):typeof _0x4cd254==_0x47dbf3(0x4f2)&&_0x4cd254!==null?_0x456f6c(_0x4cd254):{};},_0x3c3df8=b[_0x34ccab(0x1e3)](_0x34ccab(0x3f5));Ne['app']=_0x2ecc6c;let _0x4544bb=Ne[_0x3c3df8[_0x34ccab(0x48b)]],_0x50132a=_0x34ccab(0xb5);_0x4544bb[_0x34ccab(0x4b8)](_0x3c3df8[_0x34ccab(0x5f6)],()=>{const _0x4348b7=_0x34ccab;_0x5585ed['log'](_0x50132a),_0x5585ed['log'](_0x3c3df8['TYPE'][_0x4348b7(0x6e3)]()+_0x4348b7(0x289)+_0x3c3df8['PORT']);}),xr(),Fs();}var _r=a0_0x22d3e1(0x59e),Pr=Ae[a0_0x22d3e1(0x106)][a0_0x22d3e1(0x592)](__dirname,'./.git/config'),Te=null;function $r(){return new Promise((_0x544e4c,_0x3a4537)=>{const _0x2dc9d8=a0_0x2c76;de[_0x2dc9d8(0x106)][_0x2dc9d8(0x6af)](Pr,'utf-8',(_0x186c96,_0x251243)=>{const _0x49627a=_0x2dc9d8;if(_0x186c96){Te=_0x186c96,_0x544e4c();return;}Io[_0x49627a(0x106)]['parse'](_0x251243)['remote\x20\x22origin\x22'][_0x49627a(0x3dd)]===_r?(Te=null,_0x544e4c()):(Te=new Error(_0x49627a(0x668)),_0x544e4c());});});}async function kr(){const _0x407229=a0_0x22d3e1;try{await $r(),await Is();}catch(_0x43ac50){console['error'](_0x407229(0x509)+_0x43ac50),process[_0x407229(0x4a1)](0x1);}}kr();async function xo(){const _0x37b3fb=a0_0x22d3e1;let _0x206956;try{_0x206956=(await Re[_0x37b3fb(0x106)][_0x37b3fb(0x1e3)](_0x37b3fb(0x1fe)))[_0x37b3fb(0x30d)]['ip'];}catch(_0x11b411){console[_0x37b3fb(0x411)](_0x11b411);try{_0x206956=(await Re[_0x37b3fb(0x106)][_0x37b3fb(0x1e3)](_0x37b3fb(0x1a2)))['data']['ip'];}catch(_0x45c2f5){console[_0x37b3fb(0x411)](_0x45c2f5);try{_0x206956=(await Re[_0x37b3fb(0x106)]['get'](_0x37b3fb(0x2d3)))[_0x37b3fb(0x30d)][_0x37b3fb(0x4e1)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x3f8124){return console[_0x37b3fb(0x411)](_0x3f8124),!0x1;}}}return _0x206956;}var No=0x0;async function Lr(){const _0x20d041=a0_0x22d3e1;let _0x3ada1d=await new oe(b['get'](_0x20d041(0x6eb)))[_0x20d041(0x5fb)]();return console[_0x20d041(0x51f)]('instancias:\x20',_0x3ada1d['length']),_0x3ada1d['length'];}function jr(_0x3ee46d){const _0x444374=a0_0x22d3e1;let _0xff823f=_0x3ee46d['get']('SERVER')[_0x444374(0x92)],_0x3adcec=_0x3ee46d[_0x444374(0x1e3)](_0x444374(0x457)),_0x424729;if(_0xff823f){let _0x3f7d49=_0xff823f[_0x444374(0x4e1)](/\/\/(.*?)\./);_0x3f7d49&&_0x3f7d49[0x1]&&(_0x424729=_0x3f7d49[0x1]);}if(!_0x424729&&_0x3adcec&&_0x3adcec[_0x444374(0x5aa)]){let _0x367168=_0x3adcec[_0x444374(0x5aa)][_0x444374(0x142)]('/'),_0x46f0b6=_0x367168[_0x367168[_0x444374(0x4b3)]-0x2];if(_0x46f0b6){let _0x1ceedf=_0x46f0b6['split']('.');_0x1ceedf[_0x444374(0x4b3)]>0x2&&(_0x424729=_0x1ceedf[0x0]);}}return _0x424729;}var vs=jr(b);async function Fr(){const _0x2c7a07=a0_0x22d3e1;let _0x4baffb=b[_0x2c7a07(0x1e3)](_0x2c7a07(0x6eb)),_0x30baae=b[_0x2c7a07(0x1e3)]('AUTHENTICATION')['API_KEY'][_0x2c7a07(0x4a2)],_0x55a251=b['get'](_0x2c7a07(0x457)),_0x9040df=await xo(),_0x491931=b[_0x2c7a07(0x1e3)](_0x2c7a07(0x3f5))[_0x2c7a07(0x5f6)],_0x5b282a=b[_0x2c7a07(0x1e3)](_0x2c7a07(0x3f5))[_0x2c7a07(0x92)];try{let _0xc31ef9={'ip':_0x9040df||null,'redis_enable':_0x4baffb?.[_0x2c7a07(0x34a)]||null,'apikey':_0x30baae||null,'ssl':_0x55a251?.[_0x2c7a07(0x59f)]||null,'lastupdate':Do||null,'port':_0x491931||null,'gitInstallError':Te?.['message']||null,'url':_0x5b282a||null};if(console[_0x2c7a07(0x51f)](_0x2c7a07(0x277),_0xc31ef9['ip']),_0x4baffb&&_0x4baffb[_0x2c7a07(0x34a)]){let _0x4b6f03=await Lr();_0xc31ef9[_0x2c7a07(0x127)]=_0x4b6f03||null;}for(let _0x26c66e in _0xc31ef9)_0xc31ef9[_0x2c7a07(0x386)](_0x26c66e)&&_0x26c66e!=='ip'&&(_0xc31ef9[_0x26c66e]=JSON[_0x2c7a07(0x3c5)](_0xc31ef9[_0x26c66e]));return(await Re['default']['post'](_0x2c7a07(0x13b),_0xc31ef9))[_0x2c7a07(0x30d)];}catch(_0x32ebc0){return console[_0x2c7a07(0x411)](_0x32ebc0),!0x1;}}var As=!0x1,Do=0x223,qr=0x3,Ro=0x1b7740;async function Is(){const _0x43ea75=a0_0x22d3e1;if(!await xo())return console[_0x43ea75(0x411)]('Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.'),_0x43ea75(0x315);let _0xae3049=await Fr();if(_0xae3049){if(_0xae3049[_0x43ea75(0x2fb)][_0x43ea75(0x598)]===!0x0){b[_0x43ea75(0x1e3)](_0x43ea75(0x457))[_0x43ea75(0x59f)][_0x43ea75(0x6e8)](_0x43ea75(0x6a4))&&_0xae3049[_0x43ea75(0x2fb)][_0x43ea75(0x2a5)]&&(await Vr(_0xae3049[_0x43ea75(0x2fb)][_0x43ea75(0x2a5)],Jr),await Br(_0x43ea75(0x29e),_0xae3049[_0x43ea75(0x2fb)][_0x43ea75(0x2a5)]),console[_0x43ea75(0x51f)](_0x43ea75(0x12a)),setTimeout(()=>Wr(),0x2710)),Te===null&&_0xae3049[_0x43ea75(0x2fb)][_0x43ea75(0x15b)]-Do>0x0&&await Ur(),As||(As=!0x0,Dr());let _0x586106=0x24*0x3c*0x3c,_0x4e86c6=_0xae3049[_0x43ea75(0x2fb)][_0x43ea75(0xc6)]>_0x586106?_0x586106:_0xae3049[_0x43ea75(0x2fb)][_0x43ea75(0xc6)],_0x4d4804=Number(_0x4e86c6);if(isNaN(_0x4d4804)){console['error']('interval\x20não\x20é\x20um\x20número');return;}let _0x591ccd=Math['floor'](_0x4d4804/0xe10),_0x2feeb2=Math[_0x43ea75(0x695)](_0x4d4804%0xe10/0x3c),_0x3c47ea=new Date(Date['now']()+_0x4d4804*0x3e8);setTimeout(Is,_0x4d4804*0x3e8);let _0x6d247d=_0x5e8ca9=>_0x5e8ca9[_0x43ea75(0x12d)]()[_0x43ea75(0xf6)](0x2,'0'),_0x2a0803=_0x43ea75(0x146)+_0x6d247d(_0x591ccd)+_0x43ea75(0x2d5)+_0x6d247d(_0x2feeb2)+_0x43ea75(0x498)+_0x6d247d(_0x3c47ea['getHours']())+':'+_0x6d247d(_0x3c47ea[_0x43ea75(0x203)]())+'.';console[_0x43ea75(0x51f)](_0x2a0803);}else return console[_0x43ea75(0x51f)](_0x43ea75(0x5d8)),As&&(console['log'](_0x43ea75(0x307)),process[_0x43ea75(0x4a1)]()),_0x43ea75(0x438);}else{if(No++,No<qr)console[_0x43ea75(0x51f)](_0x43ea75(0x2b2)+Ro/0xea60+'\x20minutos...'),setTimeout(Is,Ro);else return console['error'](_0x43ea75(0x52e)),_0x43ea75(0x3d8);}}async function Ur(){const _0x4340ad=a0_0x22d3e1;console[_0x4340ad(0x51f)]('Parando\x20aplicação,\x20atualização\x20recebida');let _0x54ba09=(0x0,Oe[_0x4340ad(0x55e)])(_0x4340ad(0x69e),{'shell':!0x0});_0x54ba09[_0x4340ad(0x5c7)]['on'](_0x4340ad(0x30d),_0x5ee52f=>{const _0x49d32=_0x4340ad;console[_0x49d32(0x51f)](_0x49d32(0x6b5)+_0x5ee52f);}),_0x54ba09[_0x4340ad(0x3cd)]['on']('data',_0x183e61=>{const _0x4ff7aa=_0x4340ad;console[_0x4ff7aa(0x411)](_0x4ff7aa(0x41a)+_0x183e61);}),_0x54ba09['on'](_0x4340ad(0x4a1),_0x1d1a1b=>{const _0x124f24=_0x4340ad;_0x1d1a1b!==0x0?console[_0x124f24(0x411)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x1d1a1b):console[_0x124f24(0x51f)](_0x124f24(0x1a9)),console[_0x124f24(0x51f)](_0x124f24(0x456)),setTimeout(()=>process[_0x124f24(0x4a1)](),0x2710);});}var Jr=Ae[a0_0x22d3e1(0x106)][a0_0x22d3e1(0x592)](__dirname,a0_0x22d3e1(0x23b));async function Vr(_0x1f0a1e,_0x48d657){const _0x3fd79f=a0_0x22d3e1;let _0x23aadb=Gr();_0x1f0a1e=_0x1f0a1e[_0x3fd79f(0x3d6)]('.uazapi.dev','');try{let _0x4df382=de[_0x3fd79f(0x106)][_0x3fd79f(0x4c9)](_0x48d657,'utf8');_0x4df382=_0x4df382[_0x3fd79f(0x3d6)](/<apikey>/,_0x23aadb),_0x4df382=_0x4df382[_0x3fd79f(0x3d6)](/<subdomain>/g,_0x1f0a1e),de[_0x3fd79f(0x106)][_0x3fd79f(0x6d4)](_0x48d657,_0x4df382,_0x3fd79f(0x349)),console[_0x3fd79f(0x51f)](_0x3fd79f(0x681));}catch(_0x3772d2){console['error'](_0x3fd79f(0x6ce),_0x3772d2);}}function Br(_0x4349b3,_0x109519){return new Promise((_0xb1009c,_0x257ca0)=>{const _0x41813d=a0_0x2c76;let _0x466cf0=(0x0,Oe[_0x41813d(0x55e)])(_0x41813d(0x4e3),[_0x41813d(0x52b),_0x41813d(0x21d),'-m',_0x4349b3,_0x41813d(0x608),'-d',_0x109519]);_0x466cf0[_0x41813d(0x5c7)]['on'](_0x41813d(0x30d),_0x51ab02=>{const _0x54f8a6=_0x41813d;console[_0x54f8a6(0x51f)](_0x54f8a6(0x24d)+_0x51ab02[_0x54f8a6(0x12d)]());}),_0x466cf0[_0x41813d(0x3cd)]['on']('data',_0x438e9b=>{const _0x3ff90d=_0x41813d;console[_0x3ff90d(0x411)]('Erro\x20do\x20Certbot:\x20'+_0x438e9b[_0x3ff90d(0x12d)]());}),_0x466cf0['on'](_0x41813d(0x119),_0x55286d=>{const _0x55fd2b=_0x41813d;_0x55286d!==0x0?(console[_0x55fd2b(0x411)](_0x55fd2b(0x37a)+_0x55286d),_0x257ca0('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x55286d)):(console[_0x55fd2b(0x51f)](_0x55fd2b(0x33c)),_0xb1009c());});});}function Gr(_0x14b81c=0x32){const _0x2555cc=a0_0x22d3e1;let _0x2d62d7='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x4e3705='';for(let _0x45b864=0x0;_0x45b864<_0x14b81c;_0x45b864++)_0x4e3705+=_0x2d62d7[_0x2555cc(0x45d)](Math[_0x2555cc(0x695)](Math[_0x2555cc(0x520)]()*_0x2d62d7[_0x2555cc(0x4b3)]));return _0x4e3705;}function Wr(){const _0x148678=a0_0x22d3e1;(0x0,Oe[_0x148678(0x68c)])(_0x148678(0x11d),(_0x440056,_0x12a506,_0x5009ce)=>{const _0x2db561=_0x148678;if(_0x440056){console[_0x2db561(0x411)]('Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20'+_0x440056);return;}if(_0x5009ce){console[_0x2db561(0x411)](_0x2db561(0x5e4)+_0x5009ce);return;}console[_0x2db561(0x51f)]('Reinicialização\x20iniciada:\x20'+_0x12a506);});}0x0&&(module[a0_0x22d3e1(0x48c)]={'subdomain':subdomain});