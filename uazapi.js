const a0_0x4c01ce=a0_0x4bf3;function a0_0xebd4(){const _0x309130=['SECRET','\x1b[31m','isBusinessInstance','Erro\x20ao\x20buscar\x20o\x20fluxo','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','editflowvaredit','recording','error','now','load','):\x20Comando\x20desconhecido:\x20','default','updateGParticipant','view\x20engine','/wa-groups','push','profile','createWebhook','/wa-connection-update','ERROR','no.connection','\x20do\x20chat\x20','method','\x20inseridos\x20no\x20banco\x20de\x20dados...','groupId','verbose','):\x20Error\x20processing\x20conditions:\x20','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','CORS','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','child_process','Flow\x20iniciado\x20com\x20','test','content','):\x20leadInfoVariables','groupSettingUpdate','loadEnv','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','moreLogs','removeInstance','util','created','phoneNumber','#dfaef0','picture','@whiskeysockets/baileys','):Image\x20is\x20url','connectionStatus','.TEL;waid=','toBRL','findContacts','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','list3','SERVER_PORT','realVariables','createSectionsFromValues','split','delete','getFullYear','Enter\x20a\x20value\x20in\x20milliseconds','279CuUEBO','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','displayName','secondValue','sim','messageId','\x22reaction\x22\x20must\x20be\x20an\x20emoji','findGroups','uazapi','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','proxy:\x20','[\x20SYSTEM\x20-\x20UAZAPI\x20]\x20-\x20Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la','Forbidden','base64','notEmpty','waitingMenu_replyOptions','Pausado\x20por\x20','/events/:instance','Safari','https://chat.whatsapp.com/','updateAgent','Last\x20message\x20not\x20found\x20for\x20number:\x20','0123456789ABCDEF','sticker','output','webhookService','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','views','vcard','startFlowWebhook','createNewConversation','beautifyWithPlaceholders','startCommand','DATABASE_CONNECTION_DB_PREFIX_NAME','desativadoFluxoAte','statusMessage','interactiveResponseMessage','):\x20\x27Enviando\x20mídia\x20para\x20\x27','SERVER_URL','keyPattern','getHours','app','random','create','contextInfo','Generated\x20IPv6:\x20','12387716UhHeUw','__esModule','lastBlockId','removed','deviceSentMessage','truncatedto','variablesToObject','_Messages','messages.update','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','fetchConversation','Rodapé\x20de\x20Teste','slice','conversation','/startFlow/:instance/:startID','toUpperCase','spawn','segundos','preview','notas','request\x20received\x20in\x20allFlows','):\x20Removendo\x20\x27','autoCompleteMessages.command_1',',\x20pairCode:\x20','\x22\x20-\x20NOT\x20CONNECTION','setContext','maxActives','\x1b[0m','./.git/config','creds','prototype','eventEmitter','API\x20Key\x20from\x20Request:','url','getAllData','uazapiDeleteMessage','):\x20Deletando\x20mensagem','):\x20Procurando\x20conversa','charAt','delayChatLabel_MAX_RETRIES','\x20minutos.\x20Será\x20às\x20','fromMe','randomMac','):\x20Flow\x20\x27','STORE','):\x20não\x20encontrou','\x22\x20-\x20REMOVED','#fed428','saveChatVariables','announcement','createInstance','chat','Internal\x20Server\x20Error','info','listMessage','equal','deleteFlow','labelId','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','The\x20property\x20cannot\x20be\x20empty','Erro\x20de\x20atualização:\x20','reconnectTimestamps','lowerCase','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','_remoteJid','shareOwners','reorderReplyOptions','defineProperty','wuid','CORS_ORIGIN','):\x20Current\x20Time:\x20','chats.set','video','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','READ','processReadyMessages','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','CORS_METHODS','Erro\x20ao\x20copiar\x20o\x20documento','width','pollCreationMessage','poll','end','hasOwnProperty','contacts','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','REDIS_PREFIX_KEY','\x22,\x20valor\x20a\x20substituir:\x20\x22','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','label','):Image\x20path:\x20','groupParticipantsUpdate','chatModify','request\x20received\x20in\x20deleteConversation','isLong','apiName','instanceInfo','Selecione','redirect','sendMessageWithTyping','Read\x20messages','scheduleSendText','memberAddMode','cwd','detectIPv6PrefixAndInterface','):\x20Conversa\x20está\x20expirada\x20-\x20voto','.fileUrl','createflow','flowStopMinutes','\x20ao\x20chat\x20','splice','HOST','Error\x20while\x20deleting\x20message\x20for\x20everyone','Erro\x20ao\x20editar\x20a\x20conversa','Valor\x20da\x20URL\x20recuperada:','Erro\x20ao\x20deletar\x20a\x20conversa','):\x20Alterando\x20fluxo...','Fluxo\x20\x27','convert','getClient','stickerMessage','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','unlocked','scheduleMessage','request\x20received\x20in\x20editFlowgroup','):\x20Buscando\x20todos\x20os\x20fluxos...','getUpdate',',\x20canSendMessage:\x20','height','reject','contains','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','CONTACTS_SET','selectedDisplayText','DELIVERY_ACK','padStart','compression','verifiedName','sign','waitingMenu_ExpiredMessage','Cache-Control','flow','.type','END:VCARD','Erro\x20ao\x20arquivar\x20chat','goToFlow','log','docker','AUTHENTICATION_JWT_SECRET','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','exit','Falha\x20ao\x20recriar\x20IPv6.','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','}}\x20->\x20\x22','hDel','stringify','createButtonSectionsFromValues','CHATS_SET','.txt','name','2896898AKPEQk','LOG_COLOR','ERROR:\x20','):\x20Enviando\x20mídia','MESSAGES_SET','dbSettings','synchronizeAndMapFlows','LICENSE_INVALID','PRODUCT_LIST','reconnectAttempts','all','call','):\x20Buscando\x20flow...','):\x20Enviando\x20áudio','axios','collection','status.instance','findById','getTime','testingWith','getBase64FromMediaMessage','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','\x22\x20cannot\x20be\x20empty','sendMessage','replacer','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','Número:\x20','):\x20Iniciando\x20processReadyMessages','processawaitSeconds','presenceSubscribe','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','pollErrorMessage','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','_month','leadInfo.customFields','array','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','generateHash','interactiveMessage','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','singleSelectReply','Fluxo\x20não\x20encontrado\x20na\x20memória.','importChatsBatch','licenca','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','instancias:\x20','repeat','optionName','body','#b4ebff','):\x20Editando\x20mensagens\x20no\x20grupo...','This\x20name\x20','\x1b[42m','3EB0','latitude','canSendMessage','AddChatLabel','editChat','selectedOptions','status@broadcast','updateMessage','isJidUser','request\x20received\x20in\x20updateCustomFields','Falha\x20ao\x20criar\x20IPv6.','):\x20whoCanUse\x20before\x20validation:\x20','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','Erro\x20ao\x20criar\x20fluxo','flowActive','mongodb','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','videoMessage','joinApprovalMode','):Converted\x20image\x20deleted','Bloco\x20com\x20ID\x20','REDIS_URI','editflowblock','getOwnPropertyDescriptor','writeFile','.webp','jsonschema','delayChatLabel_RETRY_DELAY_MS','groupHandler','Error\x20parsing\x20JSON:','superadmin','fetchContacts','messageLogsModel','p-queue','templateButtonReplyMessage','CHATS_UPSERT','whatsappNumber','ephemeralMessage','Falhou\x20ao\x20encontrar\x20chat\x20','groupBetterSetting','remove.instance','#f64847','paused','GROUPS_UPDATE','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','uazapiSendLocation','DisconnectReason','pairingCode','replyOption','https://uazapi-plugin.bubbleapps.io/?url=','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','groups.upsert','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','3KxGKOX','Filtered\x20network\x20interfaces:\x20','getVariablesChat','findGroup','blocks','PASSWORD','max','context','ScheduleMessageModel','groupToggleEphemeral','originalUrl','groupSetting','clear','/create','delay','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','groupUpdateSubject','_year','everyOne','updateGroupParticipantsWebhook','Failed\x20to\x20send\x20buttons\x20message','unreadCount','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','format','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','AutomateSystem','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','Stack\x20trace:','http','nome','STORE_CLEANING_TERMINAL','text','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','getAutomateSystem',',\x20resultado:\x20','quick_reply','No\x20suitable\x20network\x20interface\x20found','\x20\x1b[0m','request\x20received\x20in\x20editFlowcondition','msgRetryCounterCache','sendContact','createConversationforStartFlow','messageSecret','unknown\x20operation\x20type\x20[','Background\x20color\x20is\x20required','LEVEL','\x20-\x20ON:\x20','MessageModel','TYPE','deleteReplyOption','capitalizedWords','from','URL:','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','*Pergunta*:\x20\x0a','currency','findGroupInfo','ip\x20-6\x20addr\x20add\x20','fakeReceived','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','toLowerCase','variable','ENABLED','):Business\x20profile\x20fetched','out','DATABASE_CONNECTION_PASSWORD','inviteCode','readMessages','.ppt','importChatsAntigo','string','extractPhoneNumber','messageHandle','qrcode','getPrototypeOf','\x20não\x20encontrado\x20para\x20cópia','fetchBusinessProfile','flowConfig','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','parseInt','Erro\x20ao\x20aplicar\x20varedit:\x20','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','quotedMessage','events','lean','application/json','sendLocation','deleteBlock','getReadyToSendMessages','instance','floor','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','send','size','group-participants.update','min','exists','findOne','Fluxos\x20não\x20estão\x20ativados','reorderBlocks','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','CONTACTS_UPDATE','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','refused','mediaSticker','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','Authentication\x20error','\x20não\x20encontrado\x20para\x20atualização.','object','\x1b[34m','jid','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','Error\x20in\x20buttonsMessage\x20function:','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','Botão\x202','ip\x20-6\x20addr\x20show\x20dev\x20','Instance\x20Name:','/instance/fetchInstances','.mp3','https://ifconfig.me/ip','sendMedia','_Labels','VERBOSE','Deletion\x20failed','updatePresence','backgroundColor','instanceKeys',',\x20received\x20','):\x20Entrou\x20na\x20função\x20saveReply','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','):\x20Label\x20','LOG','\x1b[37m%s\x1b[0m','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','removeIPv6','match','):\x20Entrou\x20na\x20função\x20goToFlow','):\x20Conversa\x20inserida\x20com\x20sucesso.','Flow\x20\x27','client','50mb','message_normalized','_ScheduleMessages','Nenhum\x20chat\x20encontrado\x20para\x20editar.','protocolMessage','):\x20Entrou\x20na\x20função\x20processawaitSeconds','#d3a91f','execSync','instanceCount','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','LOG_LEVEL','authentication','uncaughtException','locationMessage','authorization','sendReaction','replaceVariablesLogs','leadInfo.','deleteChat','Rótulo\x20deletado:\x27,\x20','participants','parse','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','^\x5cd+','):\x20Grupo\x20','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','where','connectToWhatsappController','):\x20mediaMessageInfoId\x20:\x20','replaceVariablesChat','Erro\x20ao\x20adicionar\x20label\x20','@g.us','order','static','truncatedtoEnd','queue','findWebhook','Network\x20interfaces\x20detected:\x20','json','Not\x20allowed\x20by\x20CORS',',\x20isAdmin:\x20','Instância\x20não\x20encontrada.','fetchProfile','etiquetas','addReplyOption','STATUS_INSTANCE','\x20contacts','replaceOne','_lastVote','env.KEY\x20!==\x20key','dataValidate','whoCanUse','#9ab6c1','creation',',\x20Segundo\x20Valor:\x20','add','connectionState','Selecione\x20uma\x20opção','headerString','match_last_seen','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','https://','presence.update','Types','mentions','):\x20Editando\x20condição\x20do\x20fluxo...','stopMinutes','Subscribed\x20Events:','IPv6\x20addresses\x20detected:\x20','promote','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','ContactsAndGroups','ip6eui','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','.jwt','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','Erro\x20ao\x20iniciar\x20o\x20fluxo.','Not\x20Found','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','\x0aFN:','integer','\x20}\x0a','request\x20received\x20in\x20deleteFlow','Falha\x20ao\x20processar\x20fetchBusinessProfile','joinGroup','):\x20Flow\x20desativado','.doc','connecting','reference','):Temp\x20image\x20deleted','contactMessage','):\x20Entrou\x20na\x20função\x20scheduleFlow','updateMissingCustomFields','MESSAGES_UPDATE','INFO','g.us','envProcess','chats.delete','apikey','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','.png','conditions','generateWAMessageFromContent','pictureUrl','setUpdate','toFile','\x1b[30m%s\x1b[0m','sendStatus','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','generateRandomIPv6','fromObject','request\x20received\x20in\x20deleteDoneMessages','utf8','isBusiness','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','_Contacts','username','request_time','chatLog','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','RECONNECT_TIME_FRAME','-instances','):Audio\x20converted\x20and\x20stored\x20in\x20cache','flows','applyvaredit','optionDescription','updateGroupPicture','formatBRNumber','processingGroup','downloads','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','SendScheduleMessage','deleteOne','*Teste\x20de\x20Título*\x0a\x0aDescrição\x20de\x20Teste\x0a','deleteMessage','autoCompleteMessages','Esse\x20fluxo\x20expirou','):\x20Query\x20params:\x20','):\x20tem\x20blocks','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','ff:fe','editflowgroup','createOrUpdate','creds.json','jwt','USER','automateSystem','role','ms\x20(tentativa\x20','isCommunityAnnounce','?authSource=admin&readPreference=primary&directConnection=true','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','validate','):Image\x20converted\x20to\x20WebP','502260bnpbAp','Esse\x20fluxo\x20não\x20permite\x20importação.','\x27\x20não\x20encontrado','lastSend','CLEANING_INTERVAL','messageStubParameters','listResponseMessage','removeChatLabel','errors','reaction','ex:\x20\x22groupJid=120362@g.us\x22','https://jsonip.com','Error\x20fetching\x20group','SUCCESS','updateGroupWebhook','fora\x20do\x20git','value','groupMetadata','fetchProfilePicture','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','privacySettings','Nenhum\x20participante\x20válido\x20encontrado.','DATABASE','mongodb://','round','\x1b[36m','_FlowHistorico','find','DELETED','updatePrivacySettings','editScheduleMessage',',\x20saindo.','subject','SSL_CONF_PRIVKEY','webp','audio/ogg','waMonitor','):\x20whoCanEdit\x20after\x20validation:\x20','\x20and\x20data:','\x20mensagens\x20de\x20','Botão\x201','Close\x20connection','createClient','entries','sem\x20texto\x20na\x20mensagem','):\x20Editando\x20bloco...','Parando\x20aplicação...','collections','#00a1f2','delayChatLabel','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','downloadMediaMessage','formatStatusMessage','map','ignoreGroups','email','stderr','selectedRowId','RemoteJid:','Content-Type','pino','sendWhatsAppAudio',']\x20(','Configured\x20IPv6:\x20','Partes\x20do\x20domínio:','readdirSync','messageType','announce','PRESENCE_UPDATE','Erro\x20ao\x20encerrar\x20a\x20API','):\x20enviado\x20para\x20[','Missing\x20global\x20api\x20key','getScheduleMessage','bateu\x20events','convertedOptions','deleted','Valor\x20de\x20find\x20ou\x20replace\x20ausente','allFlows','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','when','sha256','processgoToFlow','single_select','):Desconectado,\x20parando\x20execução.','imported','bulkWrite','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','rowId','start','groupValidate','choices','findAndUpdateCacheContact','values','findAndReplaceRegex','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','messaging-history.set','):\x20Query\x20params:','fileName','hGet','menuIgnoreNonVotes','addMessagesToGroup','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','not_announcement','folder','):\x20conversation.waitingMenu_name','selectableCount','lastUpdate','editflowreply','repository','statusCode','):\x20nextBlock.uazapi.name','enviado\x20para','muteEndTime','birthtime','cacheContactModel','enabled','digest','.gif','\x1b[33m\x1b[1m','request\x20received\x20in\x20editConversation','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','pt-BR','contact','-whatsapp-api','scheduleSendMedia','contacts.update','noConnection','descId','Conversa\x20deletada\x20com\x20sucesso.','SERVER','responsavelid','saveCreds','button','exports','instances','CHATS_DELETE','deleteMany','cachedContact','request\x20received\x20in\x20fetchConversation','warn','pop','getContentType','isListOfNumbers','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','):Fetching\x20business\x20profile','):Error\x20in\x20converting\x20audio','bodyString','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','EMAIL:','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','getMonth','findIndex','):\x20delete\x20=\x20true','KEY','deletedCount','XX:XX:XX:XX:XX:XX','messages','@broadcast','METHODS','expiration','updateOne','Fluxo\x20agendado\x20pelo\x20fluxo\x20','Network\x20Interface\x20detected:\x20','updateGroupsAddPrivacy','cleanDisconnectedInstances','InstancesAlterarTodas','triedToSend','generate','data:\x20','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','reorderMessages','release','set','resetReconnectionVariables','owner','editFlowReply','updateReadReceiptsPrivacy','[all]','oldValue','createButtonsFromValues','instanceName\x20not\x20provided.','cacheInstanceModel','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','website','flowIgnoreGroups','content-type','):\x20Ler\x20mensagem','global','QRCODE_UPDATED','sending','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','temp-','endSession','useMultiFileAuthState','findFlow','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','):\x20Enviando\x20texto','telefone','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','API\x20Key\x20inválida.','sectionsToString','connectionClosed','\x20-y','toBrazilianNumberFormat','configService','CONNECTION','request\x20received\x20in\x20getFlow','long','):\x20\x27Enviando\x20audio\x20para\x20\x27','path','padEnd','Unauthorized','remove','menuType','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','action','leadInfo','10661ixAOrx','Grupo\x20não\x20encontrado','available','\x1b[1m\x1b[37m','.jpg','online','ReplyOption\x20com\x20ID\x20','GET','cachedContacts-whatsapp','groupDesc','unreadcount','IP\x20confirmed:\x20','replaceValue','logger','proto','archived','send.message','DARK','\x27\x20não\x20encontrado\x20na\x20memória','title','Error\x20updating\x20message\x20status:','readFileSync','):\x20Iniciando\x20bot...','MESSAGES_UPSERT','timeInMinutes','Tentando\x20reconectar...','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','@newsletter','updateCustomFields','application/octet-stream','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','request\x20received\x20in\x20getAutomateSystem','getLabelModelForOwner','normalizeMessageContent','removeIPv6ById','getMessage','router','):\x20Mensagens\x20PRONTAS\x20para\x20envio\x20encontradas:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','groupJid','lastRealGroupsFetch','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','userDevicesCache','Instance\x20deleted','uazapiSendContact','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','Error\x20finding\x20many\x20contacts:','waitingMenu_text','AUTHENTICATION_JWT_EXPIRIN_IN','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','variablesNotFound','buttonOrList_id','removeProfilePicture','leaveGroup','SSL_CONF','dbServer','del','URL\x20completa:','Error\x20updating\x20cache\x20contact:','):\x20updateResult:','finish','/instance/connectionState','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','js-yaml','Atualização:\x20','editFlowVaredit','request\x20received\x20in\x20starFlow','description','):\x20customFieldVariables','.\x20Aguardando\x20','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','existsSync','getOwnPropertyNames','closeExistingConversations','decryptPollVote','getDate','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','\x1b[34m%s\x1b[0m','updateReplyOption','hbs','video-cover.png','/wa-contacts','open','item','${Message\x20absent\x20from\x20node}','loggedOut','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','_activedCount','):\x20[messages.upsert]\x20group\x20ignored','\x20-i\x20','sendAudio','eventHandler','nomecompleto','groupJoinApprovalMode','updateChatWithMessage','process','.pdf','chats','$pull','/media/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','expression','flattenObject','AUTHENTICATION','Detalhes\x20do\x20erro:','interval\x20não\x20é\x20um\x20número','formatVCard','Erro\x20ao\x20atualizar\x20conversa:\x20','removeData','unavailable','Schema','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','instanceName','leadInfo.desativadoFluxoAte','localWebhook','store','toLocaleString','URI','connectToWhatsapp','image','):\x20Bloco\x20com\x20ID\x20','audio','):\x20atualização\x20chat:\x20','\x5c$&','):\x20Criando\x20fluxo\x20compartilhado...','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','Erro\x20ao\x20editar\x20agentes','all_member_add','updateOnlinePrivacy','initializeQueue','color','encoding','participant','jpegThumbnail','request\x20received\x20in\x20getConversation','imagechat','loadWebhook','requestPairingCode','error_log','processPollUpdateMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','true','--------------------------------------','readMessageBot','saveTextReply','\x1b[31m%s\x1b[0m','Logger','imgUrl','restrict','dark','sendPresenceUpdate','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','Not\x20is\x20business\x20profile','Instance\x20\x22','getLastMessage','number','request\x20received\x20in\x20updateAutoCompleteMessages','http://checkip.dyndns.org','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','9856632ykWyFI','Partes\x20do\x20caminho\x20FULLCHAIN:','Subdomínio\x20não\x20encontrado','updateConversation','fetchChats','saveVariable',',\x20qrcodeCount:\x20','verifyWhatsAppNumber','processclearVariables','\x20não\x20encontrado','sendCommand','groups.update','editFlow','deleteConversation','arraybuffer','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','$addToSet','boolean','Erro\x20ao\x20atualizar\x20agendamento\x20','defineAuthState','delaySecMax','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','getStatus','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','createConnection','#ffae04','SSL_CONF_FULLCHAIN','save','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','createGroup','utf-8','\x20adicionado\x20ao\x20chat\x20','cacheContact','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','notContains','last','express','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','cleanStore','Connection\x20closed\x20for\x20instance:\x20','sendDataWebhook','SEND_MESSAGE','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','Conexão\x20estabelecida','markMessageAsRead','\x20depois\x20','updateAll','oldToken','audioWhatsapp','\x27...','995OaaVhP','\x1b[43m','connectionUpdate','pendingMessages','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','@s.whatsapp.net','logout','silent','):\x20Não\x20achou\x20nenhum\x20flow','copy','updateParticipant','approve','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','.\x20Pulando.','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','audioMessage','readMessage','Erro\x20ao\x20deletar\x20chat:','dbClient','request\x20body:\x20','query','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','transformScheduledMessagesByType','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','):\x20\x27Deletando\x20fluxo,\x20id:\x20','drop','keep-alive','Error\x20removing\x20IPv6\x20address:\x20','response','/chat','reactionMessage','variables','stateConnection','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','groupUpdateDescription','buffer','getValidWhatsAppNumbers','pollCreationMessageV3','updateStopChat','src','post','state','connection.update','findByIdAndDelete','document','closed','empty','.mimetype','#9568cf','ListMessage','testIPv6','chats.update','^\x5cd+([-]\x5cd+)*@g.us$','getContactModelForOwner','messageTimestamp','_sender','Erro\x20inesperado\x20em\x20processvaredits:\x20','DEBUG','EXPIRIN_IN','groupAcceptInvite','The\x20global\x20api\x20key\x20must\x20be\x20set','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','https://api.openai.com/v1/audio/speech','SINGLE_SELECT','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','deleteAll','addChatLabel','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','ChatModel','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','updateLastSeenPrivacy','detail','fetchLatestBaileysVersion','redis','throwAndLogError','authModel','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','\x20instance\x20does\x20not\x20exist','https://api64.ipify.org?format=json','result','Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo','Error\x20testing\x20IP\x20with\x20','getChatModelForOwner','insertMany','buttonText','findParticipants','scheduleFlow','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','apiResponse','Erro\x20ao\x20deletar\x20mensagens:','text/event-stream','StatusJidList\x20is\x20required','editMessagesInGroup','assign','promisify','getflow','bodyStringErrorParse','findManyByIds','uazapiSendMenu','express-async-errors','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','updateOneById','editConversation','envYaml','linkPreview','readreceipts','connectedName','flowConversation','):\x20Encontrado\x20próxima\x20mensagem\x20para\x20','Garbage\x20collection\x20não\x20está\x20disponível.','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','Validate','onTime','vir','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','_second','\x20:\x20','configureIPv6','console','\x1b[37m','audio/ogg;\x20codecs=opus','cleaningUp','mediatype','STORE_MESSAGE','includes','mediaMessage','bearer','toNumber','this.reconnectAttempts:\x20','createIPv6','Fluxo\x20id\x20\x27','ip\x20-br\x20link\x20show','isURL','normalizeMessage','JWT','.ogg','media','ephemeralExpiration','revokeInviteCode','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','contacts.upsert','mimetype','convertaudio','Erro\x20ao\x20tentar\x20autoCompleteMessages','/64\x20dev\x20','):\x20Conversa\x20atualizada\x20em\x20memória','Operador:\x20\x22','TEL','config','Falha\x20ao\x20processar\x20a\x20solicitação','replyOptions','392iKbjaB','Invalid\x20format','filter','updateProfileName','varedits','Last\x20message\x20not\x20found','lastInteraction','options','cors','awaitingApproval','basename','rows','24zbkISM','activatedCount','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','updateStatusPrivacy','profilePicture','):\x20Procurando\x20PRONTAS\x20mensagens\x20para\x20envio','.svg','WARN','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','Failed\x20to\x20prepare\x20media\x20message','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','messages.set','#ffc5c7','contactsArrayMessage','getConversationModelForOwner','emit','\x20is\x20already\x20in\x20use.','instance.','isCommunity','request\x20received\x20in\x20updateAgent','https://ipv6.jsonip.com',',\x20Minutes\x20to\x20Close:\x20','IPv6\x20address\x20removed:\x20','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','next_groupId','Database\x20connection\x20closed.','importChats','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','delayMessage','convertToString','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','saveConversationToDatabase','substring','Novo\x20IP\x20criado:\x20','sendMenu','CONECTADO\x20À\x20UAZAPI','Erro\x20ao\x20inserir\x20chats:','Log\x20out\x20instance:\x20','matchRegex','fetchPrivacySettings','hSet','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','convertaudioMP3','updateMany','\x20horas\x20e\x20','API_KEY','waitingMenu_id','?timestamp=','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','footerText','replaceVariables','buttonMessage','):\x20isVote:\x20','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','createAndSave','findAll','processConditionsTest','then','textMessage','clearVariables','stanzaId','status','\x1b[33m','):Output\x20path:\x20','Erro\x20ao\x20atualizar\x20o\x20flow.','delaySecMin','findGroupsEspecial','readFile','routerPath','cpf','insert','notEqual','setting','ip:\x20','Retornando\x20grupos\x20COM\x20cache','request\x20received\x20in\x20updateFlowConfig','mentioned','):\x20alterando\x20this.AutomateSystem','):Trying\x20to\x20get\x20business\x20profile','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','https://github.com/uazapi/uazapi.git','Erro\x20ao\x20atualizar\x20cacheInstance:','/group','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','some','remoteJids','profileName','get','public','scheduleSendAudio','pollOnReplyDelete','DATABASE_CONNECTION_HOST','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','shift','done','eventemitter2','):\x20Usando\x20extensão\x20padrão:\x20','documentMessage','Erro\x20ao\x20editar\x20o\x20chat','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','allflows','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','REDIS','processblock','E-mail:\x20','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','fileUrl','updateAutoCompleteMessages','header','flowName','AUTHENTICATION_TYPE','Database\x20is\x20not\x20enabled','customFields','off','Erro\x20ao\x20normalizar\x20a\x20mensagem:','blockLogs','labels.association','Retornando\x20grupos\x20SEM\x20cache','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','Erro\x20ao\x20importar\x20chats','\x20segundos','NextBlock','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','_p_','beforeExit','ObjectId','pollUpdateMessage','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','timeout','mkdirSync','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','list','groupMemberAddMode','authState','/wa-message','StartBot','qrcode.updated','Configuração\x20SSL\x20recuperada:','[AUTH]\x20Database\x20is\x20not\x20enabled','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','chats.upsert','statSync','findGroupInfos','getTicketSystem','createConversationforgoToFlow','chatHandle','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','authService','stopMinutesMaxActives','isConnected','pollMessageOnDelete','#56ccb4','getFlow','font','getUniqueFlowName','RemoveChatLabel','globalShow','recebido\x20de','editOperator','notify','hex','groupLeave','Cache\x20instance\x20update\x20result:\x20','endsWith','.X-ABLabel:Celular\x0a','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','idSchedule','updateProfilePicturePrivacy','/wa-chats','none','Message','writeFileSync','BufferJSON','retrySendMessage','updateBlock','restartInstance','archiveChat','@redis/client','presence','DOCKER_ENV','evaluateCondition','onWhatsApp','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','Contacts\x20not\x20found','FlowController','menuMessage','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','sendButtons','findOrCreate','pre','):\x20Editando\x20grupo\x20do\x20fluxo...','upperCase','extractRegex','$dbName','deleteDoneMessages','\x27\x20removido\x20do\x20AutomateSystem.','uazapiSendText','DATABASE_CONNECTION_USER','composing','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','deleteImportedChat','scheduleNextCheck','):\x20Erro\x20durante\x20a\x20atualização:\x20','myAppStateKeyId','Erro\x20ao\x20buscar\x20Schedule\x20Messages','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','Data\x20inválida\x20fornecida','\x1b[32m','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','remote\x20\x22origin\x22','):\x20transformedCustomFieldVariables','block','https://api.ipify.org?format=json','flushHeaders','_Chats','isArray','_day','createJid','sections','getScheduleMessageModelForOwner','updateMissingTags','iniciando\x20fluxo\x20router','OrAnd','organization','inner','Erro\x20ao\x20alterar\x20fluxo','.mp4','Db\x20Connection','trim','):Audio\x20processed','!stop','vote','#000000','findMany','WebhookGlobal','groupdata','$set','}}\x20->\x20valor\x20não\x20encontrado','\x27\x20do\x20banco\x20de\x20dados...','/message','sleep','forEach','firstValue','request\x20received\x20in\x20editFlow','toArray','STORE_CHATS','\x20tentativas.','Error\x20writing\x20file:\x20','put','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','isRunning','8080','isBase64','Group\x20not\x20found','sendList','atendimentoAberto','startID','URL','\x20Tentativa\x20de\x20reconexão\x20','createServer','checkAndRestartProcess','redisEnv','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','\x20removido\x20do\x20chat\x20','pow','\x22\x20not\x20found','):\x20Fluxos\x20não\x20estão\x20ativados','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','IPv6\x20Prefix\x20detected:\x20','conversationTimestamp','/events','REDIS_ENABLED','dropCollection','varedit','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','MAX_SAFE_INTEGER','env','pushName','):\x20Bloco\x20copiado:\x20','labels.edit','SERVER_OFFLINE','lastFetchAwaitingApproval','\x20minutos','dbConnection','caption','):\x20','stopWhenYouSendMsg','/instance/delete','urlencoded','Adicionando\x20novo\x20participante:\x20','https','/config','Subdomínio\x20extraído\x20da\x20URL:','stack','params','Bad\x20Request','inviteCodeDetails','keys','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','):\x20newFirstValue\x20após\x20replaceVariables:','Erro\x20desconhecido\x20ao\x20tentar\x20enviar\x20mensagem\x20para\x20o\x20grupo','replaceVariablesInReplyOptions','upsertedCount','ephemeralDuration','editedMessage','replaceVariablesInObject','):\x20expirationTime:\x20','startsWith','messageLogs','pollCreationMessageKey','GROUP_PARTICIPANTS_UPDATE','exec','webhookMap','):\x20Ignoring\x20group\x20messages.','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','Erro\x20ao\x20iniciar\x20fluxo:\x20','leadInfo.etiquetas','saveMediaToFile','agents','whatsappNumbers','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','goNextblock','Erro\x20ao\x20atualizar\x20o\x20fluxo:','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','getDevice','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','Deleted\x20','subjectTime','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','delAll','group','flowStopConversation','valid','):\x20Buscando\x20conversa...','less','randomBytes','notMatchRegex',',\x20global:\x20','catch','getMinutes','modifiedCount','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','):Image\x20created','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','AUTHENTICATION_API_KEY','fetchMessages','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','ChatRouter','fullName','isJWT','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','#ff9484','\x1b[1m','):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','IP\x20mismatch:\x20configured\x20','unlinkSync','_minute','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','updateChatGroupData','\x20segundos\x20antes\x20de\x20reconectar...','PROXY','Content\x20is\x20required','Usando\x20IP\x20existente:\x20','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','updateMissingEtiquetas','unhandledRejection','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','trimmed','apirequest','/wa-message-update','shareFlow','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','groupCreate','updateProfilePicture','chatId','setRestartTimeout','):\x20Adicionando\x20\x27','):\x20error:\x20','command','CONNECTION_UPDATE','startFlow','connect','function','PLAYED','editFlowGroup','admin_add','ListType','GUARD','editFlowBlock','AutomateSystem\x20não\x20foi\x20inicializado','viewOnceMessage','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','lastCondition','address','cacheInstanceRepository','prepareMediaMessage','SERVER_ACK','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','updateGParticipate','sendText','urlOrBase64','uazapiSendMedia','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','badSession','length','option','listType','groupGetInviteInfo','getConversation','):\x20teve\x20mudanças\x20chat.archived:\x20','jsonwebtoken','):Archiving\x20chat','ON\x20-\x20dbName:\x20','extractMessageContent','limit','numbers','updateProfileStatus','Instance\x20restarted','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','):\x20debug\x20alterando\x20this.AutomateSystem','):\x20Going\x20to\x20','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','findOneAndUpdate','Erro\x20ao\x20buscar\x20conversas','DB_PREFIX_NAME','g-t','insertCount','StartID:','\x20minutos...','processvaredits','qrCode','listen','copyBlock','newStoppedUntil','groupName','COLOR','BRL','minutesToClose','code','use','lastReceivedMessage','cache','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','PRIVKEY','count','imageMessage','editFlowVariable','isJidGroup','yes','Imagem\x20não\x20encontrada','groups_ignore','):Processing\x20audio','initAuthCreds','AppStateSyncKeyData','model','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','webhookModel','ConversationModel',',\x20lastCondition:\x20','stdout','toggleEphemeral','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','headers','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','longitude','key','api','Router','):\x20Editando\x20replyOption...','Font\x20is\x20required','success','):including\x20timestamp\x20in\x20url:\x20','groups','createFlow','):Hash\x20to\x20image\x20name:\x20','request_method','Type\x20not\x20found','undefined','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','):\x20Fluxo\x20\x27','):\x20whoCanEdit\x20before\x20validation:\x20','setHeader','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','\x0a{\x20instance:\x20','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','qrcode-terminal','processConditions','\x5cd+','AutomateFunctions','getDelay','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','and','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','/instance/create','lastMessage','networkInterface','\x20minutos\x20verificará\x20novas\x20mensagens','statusJidList','join','processApiRequest','joinGroupValidate','_id','node-cache','\x1b[30m','scheduled','apply','processScheduleFlow','GROUPS_UPSERT','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','ContactModel','processUazapi','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','editFlowCondition','/media','dbInstance','update','awaitSeconds','Não\x20respondeu\x20com\x20a\x20enquete.','waInstances','makeCacheableSignalKeyStore','Instance\x20logged\x20out','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','loadInstance','CONTACTS_UPSERT','fetchLabels','):\x20Bloco\x20original\x20para\x20cópia:\x20','Erro\x20ao\x20executar\x20bulkWrite:','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','reviver','_error','sendSticker','type','toString','sendPoll','upsertChats','user','):\x20\x27Enviando\x20texto\x20para\x20\x27','locked','stopConversation','\x20chats\x20de\x20','contact_blacklist','messages.upsert','auth','\x0a*Você\x20respondeu*:\x0a','findConversation','cta_url','deleteInstance','PORT','node-mime-types','#9ba6ff','/exit','isValidAndUniqueIPv6','removeUnusedChatFields','Message\x20absent\x20from\x20node','isInteger','indexOf','request\x20received\x20in\x20scheduleMessage','message','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','Error\x20adding\x20IPv6\x20address:\x20','lastSendMessage','sort','pollCreationMessageV2','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','selectedId','URL\x20não\x20disponível','ip\x20-6\x20addr\x20del\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','profilePictureUrl','webhook','close','):Notifying\x20clients\x20for\x20chat:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','request\x20received\x20in\x20editFlowvariable','Comando\x20desconhecido','app-state-sync-key','tags','has','remoteJid','label_jid','reduce','storePath','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','PENDING','PREFIX_KEY','uuid','sendMessageAck','condition','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','replace','createHash','pollMessage','archive','isJidBroadcast','.webm','whoCanEdit','writeData','groupadd','):\x20[messages.update]\x20group\x20ignored','):\x20Enviando\x20localização','mongoose','sendMessageWithTypingButtons','fone','DATABASE_CONNECTION_URI','rm\x20-rf\x20','quoted','contactHandle','class-validator','ipv6Prefix',',\x20Resultado:\x20','Erro\x20ao\x20atualizar\x20AutomateSystem:','Error\x20in\x20chatModify\x20for\x20number\x20','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','updateFlowConfig','):\x20Procurando\x20mensagens\x20para\x20envio','admin','convertToWebP','ScheduleMessage','local_map','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','footer','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand',',\x20fará\x20nova\x20verificação\x20em\x20','Removidas\x20as\x20variáveis:\x20','data','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.',',\x20Comparador:\x20','Instâncias\x20removidas:\x20','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','verify','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','startCommandWord','661995pqrHfL','#d8e651','18940UiHBsQ','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','getMessageModelForOwner','write','blockId','addBlock','Mensagens\x20deletadas\x20com\x20sucesso.','fetchInstances','FULLCHAIN','WA\x20MODULE','_activatedCount','CHATS_UPDATE','isAdmin'];a0_0xebd4=function(){return _0x309130;};return a0_0xebd4();}(function(_0x4f9b18,_0x57c6ec){const _0x5453ea=a0_0x4bf3,_0x3be564=_0x4f9b18();while(!![]){try{const _0x3f7d6e=-parseInt(_0x5453ea(0x815))/0x1+parseInt(_0x5453ea(0x1b4))/0x2*(parseInt(_0x5453ea(0x21f))/0x3)+parseInt(_0x5453ea(0x817))/0x4*(parseInt(_0x5453ea(0x4f3))/0x5)+-parseInt(_0x5453ea(0x4c1))/0x6+-parseInt(_0x5453ea(0x422))/0x7*(-parseInt(_0x5453ea(0x58b))/0x8)+-parseInt(_0x5453ea(0x862))/0x9*(parseInt(_0x5453ea(0x346))/0xa)+-parseInt(_0x5453ea(0x890))/0xb*(-parseInt(_0x5453ea(0x597))/0xc);if(_0x3f7d6e===_0x57c6ec)break;else _0x3be564['push'](_0x3be564['shift']());}catch(_0x9e4ccf){_0x3be564['push'](_0x3be564['shift']());}}}(a0_0xebd4,0xd0f48));function a0_0x4bf3(_0x3d08d3,_0x4eabfa){const _0xebd403=a0_0xebd4();return a0_0x4bf3=function(_0x4bf33b,_0x5366a0){_0x4bf33b=_0x4bf33b-0x183;let _0x16857c=_0xebd403[_0x4bf33b];return _0x16857c;},a0_0x4bf3(_0x3d08d3,_0x4eabfa);}var Bi=Object['create'],qe=Object[a0_0x4c01ce(0x8d5)],Wi=Object[a0_0x4c01ce(0x201)],zi=Object[a0_0x4c01ce(0x46a)],Hi=Object[a0_0x4c01ce(0x269)],Ki=Object[a0_0x4c01ce(0x8ae)][a0_0x4c01ce(0x8e6)],Qi=(_0x294a5d,_0x53ca52)=>{for(var _0x362637 in _0x53ca52)qe(_0x294a5d,_0x362637,{'get':_0x53ca52[_0x362637],'enumerable':!0x0});},Bs=(_0x2100ee,_0x561fa4,_0x12a0e1,_0x414257)=>{const _0x3634a1=a0_0x4c01ce;if(_0x561fa4&&typeof _0x561fa4==_0x3634a1(0x28b)||typeof _0x561fa4==_0x3634a1(0x718)){for(let _0xe33dba of zi(_0x561fa4))!Ki[_0x3634a1(0x1bf)](_0x2100ee,_0xe33dba)&&_0xe33dba!==_0x12a0e1&&qe(_0x2100ee,_0xe33dba,{'get':()=>_0x561fa4[_0xe33dba],'enumerable':!(_0x414257=Wi(_0x561fa4,_0xe33dba))||_0x414257['enumerable']});}return _0x2100ee;},T=(_0x1c75a5,_0x2980c2,_0x19d35b)=>(_0x19d35b=_0x1c75a5!=null?Bi(Hi(_0x1c75a5)):{},Bs(_0x2980c2||!_0x1c75a5||!_0x1c75a5[a0_0x4c01ce(0x891)]?qe(_0x19d35b,a0_0x4c01ce(0x831),{'value':_0x1c75a5,'enumerable':!0x0}):_0x19d35b,_0x1c75a5)),Yi=_0x3a811f=>Bs(qe({},a0_0x4c01ce(0x891),{'value':!0x0}),_0x3a811f),hr={};Qi(hr,{'fullURL':()=>Gs,'subdomain':()=>B}),module[a0_0x4c01ce(0x3cc)]=Yi(hr);var Ui=T(require(a0_0x4c01ce(0x19c))),zs=require('fs'),Hs=require(a0_0x4c01ce(0x461)),Ks=require(a0_0x4c01ce(0x41a)),Ve=require(a0_0x4c01ce(0x41a)),le=process['cwd'](),Se=(0x0,Ve[a0_0x4c01ce(0x78e)])(le,a0_0x4c01ce(0x3cd)),Ws=(0x0,Ve[a0_0x4c01ce(0x78e)])(le,a0_0x4c01ce(0x51b)),gn=(0x0,Ve['join'])(le,a0_0x4c01ce(0x495),a0_0x4c01ce(0x7ba)),us=class{constructor(){this['loadEnv']();}[a0_0x4c01ce(0x5f0)](_0x4e90db){const _0x2cd117=a0_0x4c01ce;return this[_0x2cd117(0x6ae)][_0x4e90db];}[a0_0x4c01ce(0x84a)](){const _0x403a0f=a0_0x4c01ce;this[_0x403a0f(0x6ae)]=process['env']?.[_0x403a0f(0x64d)]!==_0x403a0f(0x4af)?this[_0x403a0f(0x55b)]():this[_0x403a0f(0x30c)](),process[_0x403a0f(0x6ae)]?.[_0x403a0f(0x64d)]==='true'&&(this['env'][_0x403a0f(0x3c8)]['TYPE']=_0x403a0f(0x23b),this[_0x403a0f(0x6ae)]['SERVER']['PORT']=Number[_0x403a0f(0x26e)](process['env']?.[_0x403a0f(0x85b)]??_0x403a0f(0x695)));}['envYaml'](){const _0x53c242=a0_0x4c01ce;return(0x0,Hs[_0x53c242(0x82f)])((0x0,zs[_0x53c242(0x437)])((0x0,Ks[_0x53c242(0x78e)])(Ws,'../env.yml'),{'encoding':'utf-8'}));}[a0_0x4c01ce(0x30c)](){const _0x2aa6c1=a0_0x4c01ce;return{'SERVER':{'TYPE':process[_0x2aa6c1(0x6ae)]['SERVER_TYPE'],'PORT':Number[_0x2aa6c1(0x26e)](process['env'][_0x2aa6c1(0x85b)]),'URL':process[_0x2aa6c1(0x6ae)][_0x2aa6c1(0x888)]},'CORS':{'ORIGIN':process[_0x2aa6c1(0x6ae)][_0x2aa6c1(0x8d7)]['split'](','),'METHODS':process['env'][_0x2aa6c1(0x8e0)][_0x2aa6c1(0x85e)](','),'CREDENTIALS':process['env']?.['CORS_CREDENTIALS']===_0x2aa6c1(0x4af)},'SSL_CONF':{'PRIVKEY':process[_0x2aa6c1(0x6ae)]?.[_0x2aa6c1(0x367)],'FULLCHAIN':process[_0x2aa6c1(0x6ae)]?.[_0x2aa6c1(0x4db)]},'STORE':{'CLEANING_INTERVAL':Number[_0x2aa6c1(0x7c6)](process[_0x2aa6c1(0x6ae)]?.[_0x2aa6c1(0x23d)])?Number[_0x2aa6c1(0x26e)](process[_0x2aa6c1(0x6ae)][_0x2aa6c1(0x23d)]):void 0x0,'MESSAGES':process[_0x2aa6c1(0x6ae)]?.[_0x2aa6c1(0x56f)]===_0x2aa6c1(0x4af),'CONTACTS':process[_0x2aa6c1(0x6ae)]?.['STORE_CONTACTS']===_0x2aa6c1(0x4af),'CHATS':process['env']?.[_0x2aa6c1(0x68f)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0x2aa6c1(0x6ae)]?.[_0x2aa6c1(0x5f4)],'PORT':Number[_0x2aa6c1(0x26e)](process['env']?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x2aa6c1(0x6ae)][_0x2aa6c1(0x65f)],'PASSWORD':process[_0x2aa6c1(0x6ae)][_0x2aa6c1(0x260)],'URI':process[_0x2aa6c1(0x6ae)][_0x2aa6c1(0x7f8)],'DB_PREFIX_NAME':process[_0x2aa6c1(0x6ae)][_0x2aa6c1(0x883)]},'ENABLED':process[_0x2aa6c1(0x6ae)]?.['DATABASE_ENABLED']===_0x2aa6c1(0x4af)},'REDIS':{'ENABLED':process[_0x2aa6c1(0x6ae)]?.[_0x2aa6c1(0x6a9)]===_0x2aa6c1(0x4af),'URI':process[_0x2aa6c1(0x6ae)][_0x2aa6c1(0x1ff)]||'redis://127.0.0.1:6379','PREFIX_KEY':process['env'][_0x2aa6c1(0x8e9)]||_0x2aa6c1(0x86a)},'LOG':{'LEVEL':process[_0x2aa6c1(0x6ae)]?.[_0x2aa6c1(0x2b6)]['split'](','),'COLOR':process[_0x2aa6c1(0x6ae)]?.[_0x2aa6c1(0x1b5)]===_0x2aa6c1(0x4af)},'PROXY':process[_0x2aa6c1(0x6ae)]?.[_0x2aa6c1(0x702)]===_0x2aa6c1(0x4af),'AUTHENTICATION':{'TYPE':process[_0x2aa6c1(0x6ae)][_0x2aa6c1(0x607)],'API_KEY':{'KEY':process['env'][_0x2aa6c1(0x6f2)]},'JWT':{'EXPIRIN_IN':Number[_0x2aa6c1(0x7c6)](process['env']?.[_0x2aa6c1(0x452)])?Number['parseInt'](process[_0x2aa6c1(0x6ae)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x2aa6c1(0x6ae)][_0x2aa6c1(0x1a8)]}}};}},S=new us(),ji=T(require(a0_0x4c01ce(0x593))),ye=T(require('express')),qs=require(a0_0x4c01ce(0x41a)),ds=T(require('dayjs')),ps=(_0x48fd77=>(_0x48fd77['LOG']=a0_0x4c01ce(0x669),_0x48fd77['INFO']=a0_0x4c01ce(0x28c),_0x48fd77[a0_0x4c01ce(0x59e)]=a0_0x4c01ce(0x5d7),_0x48fd77[a0_0x4c01ce(0x839)]=a0_0x4c01ce(0x826),_0x48fd77[a0_0x4c01ce(0x52d)]=a0_0x4c01ce(0x35f),_0x48fd77['VERBOSE']=a0_0x4c01ce(0x56b),_0x48fd77['DARK']=a0_0x4c01ce(0x793),_0x48fd77))(ps||{}),Qs=(_0x4af29e=>(_0x4af29e['LOG']='\x1b[32m%s\x1b[0m',_0x4af29e[a0_0x4c01ce(0x433)]=a0_0x4c01ce(0x316),_0x4af29e[a0_0x4c01ce(0x30a)]=a0_0x4c01ce(0x46f),_0x4af29e[a0_0x4c01ce(0x59e)]='\x1b[33m%s\x1b[0m',_0x4af29e[a0_0x4c01ce(0x839)]=a0_0x4c01ce(0x4b3),_0x4af29e['DEBUG']='\x1b[36m%s\x1b[0m',_0x4af29e['VERBOSE']=a0_0x4c01ce(0x2a3),_0x4af29e))(Qs||{}),Ys=(_0x59d876=>(_0x59d876[a0_0x4c01ce(0x2a2)]=a0_0x4c01ce(0x2a2),_0x59d876['WARN']=a0_0x4c01ce(0x59e),_0x59d876[a0_0x4c01ce(0x30a)]='INFO',_0x59d876[a0_0x4c01ce(0x433)]=a0_0x4c01ce(0x433),_0x59d876['ERROR']='ERROR',_0x59d876['DEBUG']=a0_0x4c01ce(0x52d),_0x59d876[a0_0x4c01ce(0x299)]=a0_0x4c01ce(0x299),_0x59d876))(Ys||{}),Xs=(_0x4ea5ed=>(_0x4ea5ed[a0_0x4c01ce(0x2a2)]=a0_0x4c01ce(0x1e9),_0x4ea5ed[a0_0x4c01ce(0x30a)]='\x1b[44m',_0x4ea5ed[a0_0x4c01ce(0x59e)]=a0_0x4c01ce(0x4f4),_0x4ea5ed['DARK']='\x1b[40m',_0x4ea5ed[a0_0x4c01ce(0x839)]='\x1b[41m',_0x4ea5ed[a0_0x4c01ce(0x52d)]='\x1b[46m',_0x4ea5ed[a0_0x4c01ce(0x299)]='\x1b[47m',_0x4ea5ed))(Xs||{}),$=class{constructor(_0x2df992=a0_0x4c01ce(0x4b4)){const _0x2c90a6=a0_0x4c01ce;this[_0x2c90a6(0x226)]=_0x2df992,this[_0x2c90a6(0x415)]=S;}[a0_0x4c01ce(0x8a9)](_0x45c523){const _0x49d5ad=a0_0x4c01ce;this[_0x49d5ad(0x226)]=_0x45c523;}[a0_0x4c01ce(0x56a)](_0x33d81c,_0x2b8dce){const _0x5857e0=a0_0x4c01ce;let _0x3bda60=[];this[_0x5857e0(0x415)]['get'](_0x5857e0(0x2a2))[_0x5857e0(0x24c)][_0x5857e0(0x68b)](_0x502e93=>_0x3bda60[_0x5857e0(0x835)](Ys[_0x502e93]));let _0x45439c=typeof _0x33d81c;_0x3bda60['includes'](_0x2b8dce)&&(S[_0x5857e0(0x5f0)]('LOG')[_0x5857e0(0x74e)]?(console[_0x5857e0(0x1a6)](_0x5857e0(0x6fa)+Qs[_0x2b8dce],_0x5857e0(0x425),(0x0,ds['default'])()[_0x5857e0(0x236)]('DD/MM\x20HH:mm:ss'),_0x5857e0(0x8ab),ps[_0x2b8dce]+Xs[_0x2b8dce]+_0x5857e0(0x6fa),_0x2b8dce+_0x5857e0(0x244),_0x5857e0(0x3bd),this[_0x5857e0(0x226)]+'\x1b[0m',ps[_0x2b8dce],_0x45439c!==_0x5857e0(0x28b)?_0x33d81c:'',_0x5857e0(0x8ab)),_0x45439c===_0x5857e0(0x28b)&&console[_0x5857e0(0x1a6)](_0x33d81c,'\x0a')):console[_0x5857e0(0x1a6)]((0x0,ds['default'])()[_0x5857e0(0x236)]('HH:mm:ss'),_0x2b8dce+'\x20',''+this[_0x5857e0(0x226)],_0x33d81c));}[a0_0x4c01ce(0x1a6)](_0x3e8902){const _0xfb4f80=a0_0x4c01ce;this[_0xfb4f80(0x56a)](_0x3e8902,'LOG');}[a0_0x4c01ce(0x8c5)](_0x38d307){const _0x27a23b=a0_0x4c01ce;this[_0x27a23b(0x56a)](_0x38d307,'INFO');}['warn'](_0x38d980){const _0xf0c9f4=a0_0x4c01ce;this[_0xf0c9f4(0x56a)](_0x38d980,_0xf0c9f4(0x59e));}[a0_0x4c01ce(0x82d)](_0x42a4a0){const _0xfb39c8=a0_0x4c01ce;this['console'](_0x42a4a0,_0xfb39c8(0x839));}[a0_0x4c01ce(0x83f)](_0x48d6bc){const _0x5a0613=a0_0x4c01ce;this[_0x5a0613(0x56a)](_0x48d6bc,'VERBOSE');}['debug'](_0x313b54){const _0x2531e1=a0_0x4c01ce;this[_0x2531e1(0x56a)](_0x313b54,_0x2531e1(0x52d));}[a0_0x4c01ce(0x4b7)](_0x19ca05){const _0x23c668=a0_0x4c01ce;this['console'](_0x19ca05,_0x23c668(0x433));}};function Zs(){const _0x22c618=a0_0x4c01ce;process['on'](_0x22c618(0x2b8),(_0x35a036,_0x5de0b3)=>{const _0x613145=_0x22c618;new $(_0x613145(0x2b8))[_0x613145(0x82d)]({'origin':_0x5de0b3,'stderr':process[_0x613145(0x37e)]['fd'],'error':_0x35a036});}),process['on'](_0x22c618(0x707),(_0x55d63c,_0x29af8a)=>{const _0x18b155=_0x22c618;new $(_0x18b155(0x707))[_0x18b155(0x82d)]({'origin':_0x29af8a,'stderr':process['stderr']['fd'],'error':_0x55d63c});});}var ea=T(require(a0_0x4c01ce(0x5f8))),hs=new ea[(a0_0x4c01ce(0x831))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Me=require('mongoose'),Ae=T(require(a0_0x4c01ce(0x7f5))),Ge=new $(a0_0x4c01ce(0x67d)),L=S[a0_0x4c01ce(0x5f0)](a0_0x4c01ce(0x35c)),I=L['ENABLED']?L[a0_0x4c01ce(0x416)][a0_0x4c01ce(0x497)]?Ae['default'][a0_0x4c01ce(0x4d9)](L[a0_0x4c01ce(0x416)][a0_0x4c01ce(0x497)],{'dbName':L[a0_0x4c01ce(0x416)][a0_0x4c01ce(0x743)]+'-whatsapp-api'}):Ae[a0_0x4c01ce(0x831)]['createConnection'](a0_0x4c01ce(0x35d)+L['CONNECTION'][a0_0x4c01ce(0x183)]+':'+L[a0_0x4c01ce(0x416)][a0_0x4c01ce(0x7bf)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':L[a0_0x4c01ce(0x416)][a0_0x4c01ce(0x33d)],'pass':L[a0_0x4c01ce(0x416)][a0_0x4c01ce(0x224)],'dbName':L[a0_0x4c01ce(0x416)][a0_0x4c01ce(0x743)]+a0_0x4c01ce(0x3c2)}):null;L[a0_0x4c01ce(0x25d)]&&Ge[a0_0x4c01ce(0x8c5)](a0_0x4c01ce(0x736)+I[a0_0x4c01ce(0x65b)]);var X=L[a0_0x4c01ce(0x25d)]?L['CONNECTION']['URI']?Ae[a0_0x4c01ce(0x831)][a0_0x4c01ce(0x4d9)](L[a0_0x4c01ce(0x416)]['URI'],{'dbName':'cachedData-whatsapp'}):Ae[a0_0x4c01ce(0x831)]['createConnection'](a0_0x4c01ce(0x35d)+L['CONNECTION']['HOST']+':'+L['CONNECTION'][a0_0x4c01ce(0x7bf)]+a0_0x4c01ce(0x342),{'user':L[a0_0x4c01ce(0x416)][a0_0x4c01ce(0x33d)],'pass':L['CONNECTION'][a0_0x4c01ce(0x224)],'dbName':a0_0x4c01ce(0x42a)}):null;X&&Ge[a0_0x4c01ce(0x8c5)](a0_0x4c01ce(0x736)+X[a0_0x4c01ce(0x65b)]),process['on'](a0_0x4c01ce(0x615),()=>{const _0x34939c=a0_0x4c01ce;I&&I[_0x34939c(0x7d7)](()=>{const _0x6a1350=_0x34939c;Ge[_0x6a1350(0x8c5)](_0x6a1350(0x5b1));}),X&&X['close'](()=>{Ge['info']('CacheContacts\x20database\x20connection\x20closed.');});});var Xi=new Me[(a0_0x4c01ce(0x490))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Zi=new Me[(a0_0x4c01ce(0x490))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),eo=new Me[(a0_0x4c01ce(0x490))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),to=new Me[(a0_0x4c01ce(0x490))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Xi],'default':[]}},{'_id':!0x1}),so=new Me[(a0_0x4c01ce(0x490))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':to,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Zi},'groupdata':{'type':eo,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ta=_0x1cc56d=>{const _0x237fef=a0_0x4c01ce;let _0x597d7f='z_'+_0x1cc56d+_0x237fef(0x670);return I?.['model'](_0x237fef(0x538),so,_0x597d7f);},sa=require(a0_0x4c01ce(0x7f5)),ao=new sa[(a0_0x4c01ce(0x490))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=_0x17179f=>{const _0x4d7e6b=a0_0x4c01ce;let _0x212cac='z_'+_0x17179f+_0x4d7e6b(0x31f);return I?.[_0x4d7e6b(0x761)](_0x4d7e6b(0x799),ao,_0x212cac);},ia=require(a0_0x4c01ce(0x7f5)),gs=class{},io=new ia[(a0_0x4c01ce(0x490))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),oa=X?.['model'](gs[a0_0x4c01ce(0x1b3)],io,a0_0x4c01ce(0x2f3)),ra=require(a0_0x4c01ce(0x7f5)),ms=class{},oo=new ra[(a0_0x4c01ce(0x490))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Be=X?.[a0_0x4c01ce(0x761)](ms[a0_0x4c01ce(0x1b3)],oo,a0_0x4c01ce(0x3cd)),ws=require(a0_0x4c01ce(0x7f5)),fs=class{},ro=new ws[(a0_0x4c01ce(0x490))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),no=new ws['Schema']({'_id':{'type':String},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),na=X?.[a0_0x4c01ce(0x761)](fs['name'],no,'messagesLogs'),ca=_0x276f87=>{const _0x302ab1=a0_0x4c01ce;let _0x3f47f1='z_'+_0x276f87+_0x302ab1(0x897);return I?.[_0x302ab1(0x761)](_0x302ab1(0x24e),ro,_0x3f47f1);},la=require('mongoose'),ys=class{},co=new la['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ua=I?.['model'](ys[a0_0x4c01ce(0x1b3)],co,a0_0x4c01ce(0x2b7)),da=require('mongoose'),bs=class{},pa=new da[(a0_0x4c01ce(0x490))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});pa[a0_0x4c01ce(0x657)]('save',function(_0x42958e){const _0x2c5100=a0_0x4c01ce;delete this[_0x2c5100(0x1f8)],delete this[_0x2c5100(0x400)],delete this['flowPrefixCommand'],delete this[_0x2c5100(0x6e5)],delete this[_0x2c5100(0x8ff)],_0x42958e();});var ha=I?.['model'](bs[a0_0x4c01ce(0x1b3)],pa,'webhook'),P=require('mongoose'),Ss=require(a0_0x4c01ce(0x7e6)),We=class{},Ms=class{},ma=new P[(a0_0x4c01ce(0x490))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Cs=new P[(a0_0x4c01ce(0x490))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),lo=new P[(a0_0x4c01ce(0x490))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x4c01ce(0x61d)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x4c01ce(0x8f4)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x4c01ce(0x334)},'pollErrorMessage':{'type':String,'default':a0_0x4c01ce(0x4d0)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),fa=new P[(a0_0x4c01ce(0x490))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),uo=new P['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),po=new P[(a0_0x4c01ce(0x490))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),vs=new P[(a0_0x4c01ce(0x490))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ho=new P[(a0_0x4c01ce(0x490))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),wa=new P[(a0_0x4c01ce(0x490))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':lo},'apirequest':uo,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':ho,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ya=new P['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ba=new P[(a0_0x4c01ce(0x490))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[vs],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x35bb46=a0_0x4c01ce;return'!cmd_'+Math[_0x35bb46(0x88c)]()[_0x35bb46(0x7b0)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':'false'},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});ba[a0_0x4c01ce(0x657)](a0_0x4c01ce(0x741),function(_0x5459ba){const _0x541915=a0_0x4c01ce;let _0x476b42=this[_0x541915(0x192)]();if(_0x476b42&&typeof _0x476b42=='object'&&'$set'in _0x476b42){let _0x360656=_0x476b42[_0x541915(0x686)];if(_0x360656){let _0x52e899=new Set(),_0x4614bd=new Set(_0x360656[_0x541915(0x513)]?.[_0x541915(0x37b)](_0x290042=>_0x290042['name'])),_0x5e057c=JSON[_0x541915(0x1af)](_0x360656),_0xc9675f=/{{(?!_)([^}]*)}}/g,_0x282cfa;for(;(_0x282cfa=_0xc9675f[_0x541915(0x6d1)](_0x5e057c))!==null;)_0x4614bd['has'](_0x282cfa[0x1])||_0x52e899[_0x541915(0x2e3)](_0x282cfa[0x1]);_0x52e899[_0x541915(0x27c)]>0x0?(console[_0x541915(0x3d2)]('Variáveis\x20não\x20encontradas:',Array['from'](_0x52e899)),_0x360656[_0x541915(0x454)]=Array[_0x541915(0x252)](_0x52e899)):_0x360656[_0x541915(0x454)]=[],this[_0x541915(0x314)]({'$set':_0x360656});}}_0x5459ba();});var Ce=I?.[a0_0x4c01ce(0x761)](Ms[a0_0x4c01ce(0x1b3)],ba,a0_0x4c01ce(0x393)),go=new P[(a0_0x4c01ce(0x490))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[vs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[po]},{'_id':!0x1}),mo=new P[(a0_0x4c01ce(0x490))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[vs],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'chatLog':go,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x4c01ce(0x474)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x4c01ce(0x334)},'waitingMenu_replyOptions':{'type':[Cs],'default':[]}}),Sa=_0x1f2d7e=>{const _0x59d2ad=a0_0x4c01ce;let _0x81cab7='z_'+_0x1f2d7e+_0x59d2ad(0x360);return I?.[_0x59d2ad(0x761)](_0x59d2ad(0x764),mo,_0x81cab7);},fo=new P['Schema']({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ga=new P['Schema']({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),wo=new P[(a0_0x4c01ce(0x490))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ga],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x4c01ce(0x794)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[fo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ga,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ma=_0x3ff137=>{const _0x2b104e=a0_0x4c01ce;let _0x16e103='z_'+_0x3ff137+_0x2b104e(0x2ad);return I?.['model'](_0x2b104e(0x227),wo,_0x16e103);},Es=class{},yo=new P[(a0_0x4c01ce(0x490))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),bo=new P[(a0_0x4c01ce(0x490))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),So=new P[(a0_0x4c01ce(0x490))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Mo=new P[(a0_0x4c01ce(0x490))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x4c01ce(0x680)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),Co=new P[(a0_0x4c01ce(0x490))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Eo=new P[(a0_0x4c01ce(0x490))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Co]},'customFields':{'type':[So]},'flowConfig':{'type':Mo,'default':{}},'flows':{'type':[bo],'default':[]},'autoCompleteMessages':{'type':[yo],'default':[]}}),Ie=I?.[a0_0x4c01ce(0x761)](Es[a0_0x4c01ce(0x1b3)],Eo,a0_0x4c01ce(0x238)),Ca=require(a0_0x4c01ce(0x7f5)),vo=new Ca[(a0_0x4c01ce(0x490))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ea=_0xd09b45=>{const _0x36a894=a0_0x4c01ce;let _0x64dee5='z_'+_0xd09b45+_0x36a894(0x298);return I?.[_0x36a894(0x761)]('LabelModel',vo,_0x64dee5);},_=class{constructor(_0x4b8e42){const _0x16ed41=a0_0x4c01ce;this['dbSettings']=_0x4b8e42[_0x16ed41(0x5f0)](_0x16ed41(0x35c));}};function A(_0x4d0ad4){const _0x35ff46=a0_0x4c01ce;let _0x102e0a={};for(let [_0x27b5e6,_0x50b9dd]of Object[_0x35ff46(0x371)](_0x4d0ad4))if(typeof _0x50b9dd==_0x35ff46(0x28b)&&!Array[_0x35ff46(0x671)](_0x50b9dd)){for(let [_0x57317b,_0x51ec88]of Object[_0x35ff46(0x371)](_0x50b9dd))_0x102e0a[_0x27b5e6+'.'+_0x57317b]=_0x51ec88;}else _0x102e0a[_0x27b5e6]=_0x50b9dd;return _0x102e0a;}var ze=class{constructor(_0x2409d8,_0x10058e,_0x3197b1,_0xc33076,_0x5a35e4,_0x1e41fc,_0x41ddaa,_0x31c32f,_0x1f12bc,_0x36cd2d,_0x231233,_0x2be1ed,_0x4e81f7,_0xbf3e41){const _0x8fd01b=a0_0x4c01ce;this[_0x8fd01b(0x7c9)]=_0x2409d8,this[_0x8fd01b(0x8c3)]=_0x10058e,this[_0x8fd01b(0x3c1)]=_0x3197b1,this[_0x8fd01b(0x4e1)]=_0xc33076,this['messageLogs']=_0x5a35e4,this[_0x8fd01b(0x7d6)]=_0x1e41fc,this[_0x8fd01b(0x7ba)]=_0x41ddaa,this[_0x8fd01b(0x278)]=_0x31c32f,this[_0x8fd01b(0x1a1)]=_0x1f12bc,this[_0x8fd01b(0x55f)]=_0x36cd2d,this[_0x8fd01b(0x8ec)]=_0x231233,this['scheduleMessage']=_0x2be1ed,this[_0x8fd01b(0x33e)]=_0x4e81f7,this[_0x8fd01b(0x506)]=_0xbf3e41;}get['dbServer'](){const _0x30aab9=a0_0x4c01ce;return this[_0x30aab9(0x506)];}},He=class{},Ke=class extends _{['getMessageModelForOwner'](_0xcb7fd3){return ca(_0xcb7fd3);}async[a0_0x4c01ce(0x5df)](_0xcf21e4,_0xb26155){const _0x3f2771=a0_0x4c01ce;if(_0xcf21e4[_0x3f2771(0x72e)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0xb26155)[_0x3f2771(0x547)]([..._0xcf21e4]))['length']};}catch(_0x212e73){return _0x212e73;}}async[a0_0x4c01ce(0x361)](_0x4f2c2d,_0x535604){const _0x36e2d2=a0_0x4c01ce;try{let _0x183199=this['getMessageModelForOwner'](_0x535604),_0x315253=A(_0x4f2c2d['where']);return await _0x183199[_0x36e2d2(0x361)](_0x315253)[_0x36e2d2(0x7cd)]({'messageTimestamp':-0x1})[_0x36e2d2(0x738)](_0x4f2c2d?.[_0x36e2d2(0x738)]??0x0)[_0x36e2d2(0x273)]();}catch{return[];}}async[a0_0x4c01ce(0x85f)](_0x1eec9d,_0x18014f){const _0x5cf0c2=a0_0x4c01ce;try{let _0x1f925e=this[_0x5cf0c2(0x81a)](_0x18014f),_0x46ec4d=A(_0x1eec9d[_0x5cf0c2(0x2c6)]);await _0x1f925e['deleteMany'](_0x46ec4d);}catch(_0x469382){console[_0x5cf0c2(0x82d)](_0x469382);}}async[a0_0x4c01ce(0x79f)](_0x5e9bf6,_0x367914,_0x35a45d){const _0x2ca116=a0_0x4c01ce;try{let _0x2085ad=this[_0x2ca116(0x81a)](_0x35a45d),_0x2af624=A(_0x5e9bf6['where']);return await _0x2085ad[_0x2ca116(0x741)](_0x2af624,{'$set':_0x367914},{'new':!0x0});}catch(_0x1cf76b){throw console[_0x2ca116(0x82d)](_0x1cf76b),_0x1cf76b;}}async[a0_0x4c01ce(0x547)](_0x51b40a,_0x16133d){const _0x192f1c=a0_0x4c01ce;if(_0x51b40a[_0x192f1c(0x72e)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x16133d)['insertMany']([..._0x51b40a]))[_0x192f1c(0x72e)]};}catch(_0xb51bbf){return console[_0x192f1c(0x1a6)](_0x192f1c(0x1b6),_0xb51bbf),_0xb51bbf;}}async['deleteAll'](_0x2930a3){const _0x4d6b37=a0_0x4c01ce;try{return await this[_0x4d6b37(0x81a)](_0x2930a3)[_0x4d6b37(0x1c3)][_0x4d6b37(0x50d)](),{'success':!0x0};}catch(_0x3d5550){return console[_0x4d6b37(0x82d)](_0x3d5550),{'success':!0x1,'error':_0x3d5550};}}},Ps=T(require('@ffmpeg-installer/ffmpeg')),w=T(require('@whiskeysockets/baileys')),Le=require('fs'),j=T(require(a0_0x4c01ce(0x41a))),Q=T(require('axios')),Ii=require(a0_0x4c01ce(0x7e6)),Ti=T(require(a0_0x4c01ce(0x268))),_i=T(require(a0_0x4c01ce(0x781))),va=[a0_0x4c01ce(0x758),a0_0x4c01ce(0x5fa),a0_0x4c01ce(0x503),a0_0x4c01ce(0x1fb),a0_0x4c01ce(0x18c)],Na=[a0_0x4c01ce(0x20f),'documentWithCaptionMessage',a0_0x4c01ce(0x720),'viewOnceMessageV2'],Ds=require('os'),Ft=T(require(a0_0x4c01ce(0x382))),Fe=require(a0_0x4c01ce(0x844)),Oi=require(a0_0x4c01ce(0x7c0)),ge=T(require(a0_0x4c01ce(0x7f5))),J=require('class-validator'),ue=class{constructor(_0x3b900b,_0x5267f0,_0xa63b38){const _0xa212e8=a0_0x4c01ce;this[_0xa212e8(0x28d)]=_0x3b900b,this['exists']=_0x5267f0,this[_0xa212e8(0x1b3)]=_0xa63b38;}},Qe=class{},Ye=class{},Te=class{},Xe=class{},Ze=class{},Ee=class{},et=class{},tt=class{},st=class{},at=class{},Ot=T(require('express')),$a=require('fs'),Ra=require(a0_0x4c01ce(0x41a));async function _e(_0x468644){const _0x31f123=a0_0x4c01ce;let _0x4dc594=G[_0x31f123(0x7a2)][_0x468644];if(L[_0x31f123(0x25d)]){let _0x3d4ad0=I[_0x31f123(0x18b)]()['db'](L[_0x31f123(0x416)]['DB_PREFIX_NAME']+'-instances')[_0x31f123(0x1c3)](_0x468644);return _0x4dc594||(await _0x3d4ad0[_0x31f123(0x361)]({})[_0x31f123(0x68e)]())[_0x31f123(0x72e)]>0x0;}return _0x4dc594||(0x0,$a[_0x31f123(0x469)])((0x0,Ra[_0x31f123(0x78e)])(Se,_0x468644));}async function Aa(_0x2abca7,_0x2b57c0,_0x140c93){const _0x54efd5=a0_0x4c01ce;if(_0x2abca7[_0x54efd5(0x229)][_0x54efd5(0x570)](_0x54efd5(0x789))||_0x2abca7[_0x54efd5(0x229)][_0x54efd5(0x570)](_0x54efd5(0x294))||_0x2abca7[_0x54efd5(0x229)][_0x54efd5(0x570)](_0x54efd5(0x7c2))||_0x2abca7[_0x54efd5(0x229)][_0x54efd5(0x570)](_0x54efd5(0x6bd))||_0x2abca7[_0x54efd5(0x229)][_0x54efd5(0x570)]('/instance/connect')||_0x2abca7[_0x54efd5(0x229)][_0x54efd5(0x570)](_0x54efd5(0x45f))||_0x2abca7[_0x54efd5(0x229)][_0x54efd5(0x570)](_0x54efd5(0x6b9)))return _0x140c93();let _0x5e3f13=_0x2abca7[_0x54efd5(0x6c0)];if(!_0x5e3f13?.[_0x54efd5(0x492)])throw new m(_0x54efd5(0x3fc));if(!await _e(_0x5e3f13[_0x54efd5(0x492)]))throw new U('The\x20'+_0x5e3f13['instanceName']+_0x54efd5(0x541));_0x140c93();}async function Ia(_0x4f2cbc,_0xe1a262,_0x589499){const _0x9de0ab=a0_0x4c01ce;if(_0x4f2cbc[_0x9de0ab(0x229)]['includes'](_0x9de0ab(0x789))){let _0x4a941c=_0x4f2cbc[_0x9de0ab(0x1e5)];if(await _e(_0x4a941c['instanceName']))throw new Z(_0x9de0ab(0x1e8)+_0x4a941c[_0x9de0ab(0x492)]+_0x9de0ab(0x5a8));G['waInstances'][_0x4a941c[_0x9de0ab(0x492)]]&&delete G['waInstances'][_0x4a941c[_0x9de0ab(0x492)]];}_0x589499();}var Ta=require(a0_0x4c01ce(0x7fc)),_a=T(require(a0_0x4c01ce(0x734))),it=a0_0x4c01ce(0x86a),$o=new $(a0_0x4c01ce(0x71d));async function Ro(_0x560991,_0x579475,_0x2155e0){const _0x205cb1=a0_0x4c01ce;let _0xe31525=_0x560991[_0x205cb1(0x5f0)](_0x205cb1(0x30e));if(_0xe31525&&S['get'](_0x205cb1(0x489))['API_KEY'][_0x205cb1(0x3e0)]!==_0xe31525)throw new ie();if(S[_0x205cb1(0x5f0)](_0x205cb1(0x489))[_0x205cb1(0x5c6)][_0x205cb1(0x3e0)]===_0xe31525)return _0x2155e0();if((_0x560991[_0x205cb1(0x229)][_0x205cb1(0x570)]('/instance/create')||_0x560991['originalUrl'][_0x205cb1(0x570)](_0x205cb1(0x294)))&&!_0xe31525)throw new Z(_0x205cb1(0x38d),_0x205cb1(0x530));let _0x4c9816=S[_0x205cb1(0x5f0)](_0x205cb1(0x489))[_0x205cb1(0x57a)];try{let [_0x2383eb,_0x5f5085]=_0x560991[_0x205cb1(0x5f0)](_0x205cb1(0x2ba))[_0x205cb1(0x85e)]('\x20');if(_0x2383eb[_0x205cb1(0x25b)]()!==_0x205cb1(0x572))throw new ie();if(!(0x0,Ta[_0x205cb1(0x6f7)])(_0x5f5085))throw new ie();let _0x55314d=_0x560991['params'],_0x4d245e=_a[_0x205cb1(0x831)][_0x205cb1(0x812)](_0x5f5085,_0x4c9816[_0x205cb1(0x825)],{'ignoreExpiration':_0x4c9816[_0x205cb1(0x52e)]===0x0});if(_0x55314d[_0x205cb1(0x492)]!==_0x4d245e[_0x205cb1(0x492)]||it!==_0x4d245e[_0x205cb1(0x8f2)])throw new ie();return _0x2155e0();}catch(_0x2bf358){throw $o[_0x205cb1(0x82d)](_0x2bf358),new ie();}}async function Ao(_0x44c91d,_0x109878,_0xfbe794){const _0x1d99d5=a0_0x4c01ce;let _0x82aa82=S[_0x1d99d5(0x5f0)]('AUTHENTICATION')['API_KEY'],_0x5352b4=_0x44c91d[_0x1d99d5(0x5f0)](_0x1d99d5(0x30e));if(_0x82aa82[_0x1d99d5(0x3e0)]===_0x5352b4)return _0xfbe794();if(_0x44c91d[_0x1d99d5(0x229)]['includes']('/instance/create')){let _0x4459ce=xa,_0x1de4f9=_0x44c91d[_0x1d99d5(0x1e5)][_0x1d99d5(0x492)];if(_0x4459ce&&_0x1de4f9[_0x1d99d5(0x25b)]()[_0x1d99d5(0x6cd)](_0x4459ce[_0x1d99d5(0x25b)]()))return _0xfbe794();if(!_0x5352b4)throw new Z(_0x1d99d5(0x38d),'The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x44c91d['originalUrl'][_0x1d99d5(0x570)](_0x1d99d5(0x294))&&!_0x5352b4)throw new Z(_0x1d99d5(0x38d),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x44c91d[_0x1d99d5(0x229)][_0x1d99d5(0x570)]('/exit')&&!_0x5352b4)throw new Z(_0x1d99d5(0x38d),_0x1d99d5(0x530));if(_0x44c91d[_0x1d99d5(0x229)][_0x1d99d5(0x570)]('/config')&&!_0x5352b4)throw new Z(_0x1d99d5(0x38d),_0x1d99d5(0x530));try{let _0x1f6a4a=_0x44c91d[_0x1d99d5(0x6c0)],_0x45d64c=await fe[_0x1d99d5(0x7ba)][_0x1d99d5(0x361)](_0x1f6a4a[_0x1d99d5(0x492)]);if(_0x45d64c&&_0x45d64c[_0x1d99d5(0x30e)]===_0x5352b4)return _0xfbe794();}catch{}throw new ie();}var Oa={'jwt':Ro,'apikey':Ao},pi=require(a0_0x4c01ce(0x4e5)),C=require(a0_0x4c01ce(0x7e6)),E=(..._0x2bb351)=>{const _0x25043e=a0_0x4c01ce;let _0x2c7271={};return _0x2bb351[_0x25043e(0x68b)](_0x43b135=>_0x2c7271[_0x43b135]={'minLength':0x1,'description':'The\x20\x22'+_0x43b135+_0x25043e(0x1ca)}),{'if':{'propertyNames':{'enum':[..._0x2bb351]}},'then':{'properties':_0x2c7271}};},N={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'instanceName':{'type':a0_0x4c01ce(0x265)}},...E(a0_0x4c01ce(0x492))},Rc={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'oldToken':{'type':a0_0x4c01ce(0x265)}},'required':[a0_0x4c01ce(0x4f0)],...E('oldToken')},Ac={'properties':{'key':{'type':a0_0x4c01ce(0x28b),'properties':{'id':{'type':a0_0x4c01ce(0x265)},'remoteJid':{'type':a0_0x4c01ce(0x265)},'fromMe':{'type':a0_0x4c01ce(0x4d2),'enum':[!0x0,!0x1]}},'required':['id',a0_0x4c01ce(0x7df),'fromMe'],...E('id','remoteJid')},'message':{'type':a0_0x4c01ce(0x28b)}}},oe={'properties':{'delay':{'type':'integer','description':a0_0x4c01ce(0x861)},'presence':{'type':'string','enum':[a0_0x4c01ce(0x48f),a0_0x4c01ce(0x424),a0_0x4c01ce(0x660),'recording',a0_0x4c01ce(0x214)]}}},ee={'type':'string','description':a0_0x4c01ce(0x58c)},Pa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...ee},'options':{...oe},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x4c01ce(0x265)}},'required':[a0_0x4c01ce(0x23e)],...E(a0_0x4c01ce(0x23e))}},'required':[a0_0x4c01ce(0x5d3),a0_0x4c01ce(0x4bd)]},Da={'type':'string','pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':'Invalid\x20format'},Ic={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'number':{...Da},'options':{...oe},'textMessage':{'type':'object','properties':{'text':{'type':'string'}},'required':[a0_0x4c01ce(0x23e)],...E(a0_0x4c01ce(0x23e))}},'required':[a0_0x4c01ce(0x5d3),a0_0x4c01ce(0x4bd)]},Tc={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Da},'options':{...oe},'mediaMessage':{'type':a0_0x4c01ce(0x28b),'properties':{'mediatype':{'type':a0_0x4c01ce(0x265),'enum':[a0_0x4c01ce(0x499),a0_0x4c01ce(0x520),'video',a0_0x4c01ce(0x49b)]},'media':{'type':a0_0x4c01ce(0x265)},'fileName':{'type':a0_0x4c01ce(0x265)},'caption':{'type':a0_0x4c01ce(0x265)}},'required':[a0_0x4c01ce(0x56e),a0_0x4c01ce(0x57c)],...E(a0_0x4c01ce(0x3a8),a0_0x4c01ce(0x6b6),a0_0x4c01ce(0x57c))}},'required':['mediaMessage','number']},ka={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'number':{...ee},'options':{...oe},'stickerMessage':{'type':a0_0x4c01ce(0x28b),'properties':{'image':{'type':a0_0x4c01ce(0x265)}},'required':[a0_0x4c01ce(0x499)],...E(a0_0x4c01ce(0x499))}},'required':[a0_0x4c01ce(0x18c),'number']},La={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'statusMessage':{'type':a0_0x4c01ce(0x28b),'properties':{'type':{'type':a0_0x4c01ce(0x265),'enum':[a0_0x4c01ce(0x23e),'image',a0_0x4c01ce(0x49b),a0_0x4c01ce(0x8da)]},'content':{'type':'string'},'caption':{'type':a0_0x4c01ce(0x265)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x4c01ce(0x2fc),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x4c01ce(0x1d7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4c01ce(0x265),'pattern':a0_0x4c01ce(0x2c3),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x4c01ce(0x4d2),'enum':[!0x0,!0x1]}},'required':[a0_0x4c01ce(0x7af),a0_0x4c01ce(0x847)],...E(a0_0x4c01ce(0x7af),a0_0x4c01ce(0x847))}},'required':[a0_0x4c01ce(0x885)]},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'number':{...ee},'options':{...oe},'mediaMessage':{'type':a0_0x4c01ce(0x28b),'properties':{'mediatype':{'type':a0_0x4c01ce(0x265),'enum':['image',a0_0x4c01ce(0x520),a0_0x4c01ce(0x8da),a0_0x4c01ce(0x49b)]},'media':{'type':a0_0x4c01ce(0x265)},'fileName':{'type':a0_0x4c01ce(0x265)},'caption':{'type':a0_0x4c01ce(0x265)}},'required':[a0_0x4c01ce(0x56e),a0_0x4c01ce(0x57c)],...E('fileName',a0_0x4c01ce(0x6b6),'media')}},'required':[a0_0x4c01ce(0x571),a0_0x4c01ce(0x4bd)]},Ua={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...ee},'options':{...oe},'audioMessage':{'type':a0_0x4c01ce(0x28b),'properties':{'audio':{'type':a0_0x4c01ce(0x265)}},'required':['audio'],...E(a0_0x4c01ce(0x49b))}},'required':['audioMessage',a0_0x4c01ce(0x4bd)]},ja={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...ee},'pollMessage':{'type':a0_0x4c01ce(0x28b),'properties':{'name':{'type':a0_0x4c01ce(0x265)},'selectableCount':{'type':a0_0x4c01ce(0x4bd)},'values':{'type':a0_0x4c01ce(0x1d7),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x4c01ce(0x1b3),a0_0x4c01ce(0x3b0),a0_0x4c01ce(0x3a3)],...E(a0_0x4c01ce(0x1b3),'selectableCount',a0_0x4c01ce(0x3a3))}},'required':[a0_0x4c01ce(0x4bd),'pollMessage']},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'number':{...ee},'menuMessage':{'type':a0_0x4c01ce(0x28b),'properties':{'text':{'type':a0_0x4c01ce(0x265)},'choices':{'type':a0_0x4c01ce(0x1d7),'uniqueItems':!0x0}},'required':[a0_0x4c01ce(0x23e),'choices'],...E(a0_0x4c01ce(0x23e),a0_0x4c01ce(0x3a1))}},'required':[a0_0x4c01ce(0x4bd),a0_0x4c01ce(0x653)]},qa={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'number':{...ee},'options':{...oe},'locationMessage':{'type':a0_0x4c01ce(0x28b),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x4c01ce(0x4bd)},'name':{'type':a0_0x4c01ce(0x265)},'address':{'type':a0_0x4c01ce(0x265)}},'required':[a0_0x4c01ce(0x1eb),a0_0x4c01ce(0x76b)],...E(a0_0x4c01ce(0x1b3),'addresss')}},'required':[a0_0x4c01ce(0x4bd),a0_0x4c01ce(0x2b9)]},Va={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...ee},'options':{...oe},'listMessage':{'type':a0_0x4c01ce(0x28b),'properties':{'title':{'type':'string'},'description':{'type':a0_0x4c01ce(0x265)},'footerText':{'type':a0_0x4c01ce(0x265)},'buttonText':{'type':a0_0x4c01ce(0x265)},'sections':{'type':a0_0x4c01ce(0x1d7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':'string'},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4c01ce(0x28b),'properties':{'title':{'type':a0_0x4c01ce(0x265)},'description':{'type':a0_0x4c01ce(0x265)},'rowId':{'type':'string'}},'required':[a0_0x4c01ce(0x435),a0_0x4c01ce(0x39e)],...E(a0_0x4c01ce(0x435),a0_0x4c01ce(0x39e))}}},'required':[a0_0x4c01ce(0x435),a0_0x4c01ce(0x596)],...E(a0_0x4c01ce(0x435))}}},'required':[a0_0x4c01ce(0x435),'description',a0_0x4c01ce(0x548),a0_0x4c01ce(0x674)],...E('title',a0_0x4c01ce(0x465),'buttonText',a0_0x4c01ce(0x5ca))}},'required':[a0_0x4c01ce(0x4bd),a0_0x4c01ce(0x8c6)]},Ga={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...ee},'options':{...oe},'contactMessage':{'type':a0_0x4c01ce(0x1d7),'items':{'type':a0_0x4c01ce(0x28b),'properties':{'fullName':{'type':a0_0x4c01ce(0x265)},'phoneNumber':{'type':a0_0x4c01ce(0x265),'minLength':0xa}},'required':[a0_0x4c01ce(0x6f6),'phoneNumber'],...E(a0_0x4c01ce(0x6f6))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x4c01ce(0x4bd),'contactMessage']},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'reactionMessage':{'type':a0_0x4c01ce(0x28b),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x4c01ce(0x265)},'remoteJid':{'type':a0_0x4c01ce(0x265)},'fromMe':{'type':a0_0x4c01ce(0x4d2),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x4c01ce(0x8b9)],...E('id',a0_0x4c01ce(0x7df))},'reaction':{'type':a0_0x4c01ce(0x265)}},'required':[a0_0x4c01ce(0x76c),a0_0x4c01ce(0x34f)],...E('reaction')}},'required':['reactionMessage']},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4c01ce(0x265),'pattern':a0_0x4c01ce(0x2c3),'description':a0_0x4c01ce(0x6f4)}}}},za={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'readMessages':{'type':a0_0x4c01ce(0x1d7),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x4c01ce(0x265)}},'required':['id',a0_0x4c01ce(0x8b9),a0_0x4c01ce(0x7df)],...E('id','remoteJid')}}},'required':['readMessages']},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'privacySettings':{'type':a0_0x4c01ce(0x28b),'properties':{'readreceipts':{'type':a0_0x4c01ce(0x265),'enum':[a0_0x4c01ce(0x1be),a0_0x4c01ce(0x643)]},'profile':{'type':a0_0x4c01ce(0x265),'enum':[a0_0x4c01ce(0x1be),'contacts',a0_0x4c01ce(0x7b8),a0_0x4c01ce(0x643)]},'status':{'type':a0_0x4c01ce(0x265),'enum':[a0_0x4c01ce(0x1be),a0_0x4c01ce(0x8e7),a0_0x4c01ce(0x7b8),'none']},'online':{'type':a0_0x4c01ce(0x265),'enum':[a0_0x4c01ce(0x1be),a0_0x4c01ce(0x2e7)]},'last':{'type':a0_0x4c01ce(0x265),'enum':[a0_0x4c01ce(0x1be),a0_0x4c01ce(0x8e7),a0_0x4c01ce(0x7b8),a0_0x4c01ce(0x643)]},'groupadd':{'type':a0_0x4c01ce(0x265),'enum':['all',a0_0x4c01ce(0x8e7),a0_0x4c01ce(0x7b8),a0_0x4c01ce(0x643)]}},'required':[a0_0x4c01ce(0x55d),a0_0x4c01ce(0x836),a0_0x4c01ce(0x5d6),a0_0x4c01ce(0x427),'last',a0_0x4c01ce(0x7f2)],...E(a0_0x4c01ce(0x55d),a0_0x4c01ce(0x836),a0_0x4c01ce(0x5d6),a0_0x4c01ce(0x427),'last',a0_0x4c01ce(0x7f2))}},'required':[a0_0x4c01ce(0x35a)]},Ka={'$id':(0x0,C['v4'])(),'type':'object','properties':{'lastMessage':{'type':a0_0x4c01ce(0x28b),'properties':{'key':{'type':a0_0x4c01ce(0x28b),'properties':{'id':{'type':a0_0x4c01ce(0x265)},'remoteJid':{'type':a0_0x4c01ce(0x265)},'fromMe':{'type':a0_0x4c01ce(0x4d2),'enum':[!0x0,!0x1]}},'required':['id',a0_0x4c01ce(0x8b9),a0_0x4c01ce(0x7df)],...E('id',a0_0x4c01ce(0x7df))},'messageTimestamp':{'type':a0_0x4c01ce(0x2fc),'minLength':0x1}},'required':[a0_0x4c01ce(0x76c)],...E('messageTimestamp')},'archive':{'type':a0_0x4c01ce(0x4d2),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x4c01ce(0x7ed)]},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'id':{'type':a0_0x4c01ce(0x265)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x4c01ce(0x265)},'participant':{'type':a0_0x4c01ce(0x265)}},'required':['id',a0_0x4c01ce(0x8b9),'remoteJid'],...E('id',a0_0x4c01ce(0x7df),a0_0x4c01ce(0x4a6))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x4c01ce(0x265),'minLength':0x1},'pushName':{'type':a0_0x4c01ce(0x265),'minLength':0x1},'id':{'type':a0_0x4c01ce(0x265),'minLength':0x1}},...E('_id','id',a0_0x4c01ce(0x6af))}}},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'name':{'type':a0_0x4c01ce(0x265)}},...E(a0_0x4c01ce(0x1b3))},Za={'$id':(0x0,C['v4'])(),'type':'object','properties':{'status':{'type':a0_0x4c01ce(0x265)}},...E(a0_0x4c01ce(0x5d6))},Oe={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'number':{'type':'string'},'picture':{'type':a0_0x4c01ce(0x265)}}},ei={'type':'object','properties':{'wuid':{'type':a0_0x4c01ce(0x265)},'name':{'type':a0_0x4c01ce(0x265)},'picture':{'type':a0_0x4c01ce(0x265)},'status':{'type':a0_0x4c01ce(0x265)},'isBusiness':{'type':a0_0x4c01ce(0x4d2)}}},ti={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':a0_0x4c01ce(0x28b),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x4c01ce(0x28b),'if':{'propertyNames':{'enum':[a0_0x4c01ce(0x8b9),a0_0x4c01ce(0x7df),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x4c01ce(0x265),'minLength':0x1,'description':a0_0x4c01ce(0x8cb)},'id':{'type':'string','minLength':0x1,'description':a0_0x4c01ce(0x8cb)},'fromMe':{'type':a0_0x4c01ce(0x4d2),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...E(a0_0x4c01ce(0x791))},'limit':{'type':a0_0x4c01ce(0x2fc)}}},_c={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x4c01ce(0x265)},'remoteJid':{'type':a0_0x4c01ce(0x265)},'id':{'type':a0_0x4c01ce(0x265)},'fromMe':{'type':a0_0x4c01ce(0x4d2),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x4c01ce(0x265)},'status':{'type':a0_0x4c01ce(0x265),'enum':[a0_0x4c01ce(0x839),'PENDING',a0_0x4c01ce(0x726),'DELIVERY_ACK',a0_0x4c01ce(0x8dc),a0_0x4c01ce(0x719)]}},...E(a0_0x4c01ce(0x791),a0_0x4c01ce(0x7df),'id',a0_0x4c01ce(0x5d6))},'limit':{'type':'integer'}}},si={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'number':{...ee},'presence':{'type':a0_0x4c01ce(0x265),'enum':[a0_0x4c01ce(0x48f),'available','composing','recording',a0_0x4c01ce(0x214)]}},'required':[a0_0x4c01ce(0x64c),a0_0x4c01ce(0x4bd)]},ai={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'subject':{'type':a0_0x4c01ce(0x265)},'description':{'type':a0_0x4c01ce(0x265)},'profilePicture':{'type':a0_0x4c01ce(0x265)},'participants':{'type':a0_0x4c01ce(0x1d7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x4c01ce(0x783),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x4c01ce(0x366),a0_0x4c01ce(0x2c0)],...E(a0_0x4c01ce(0x366),a0_0x4c01ce(0x465),'profilePicture')},xe={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4c01ce(0x265),'pattern':a0_0x4c01ce(0x528)}},'required':['groupJid'],...E(a0_0x4c01ce(0x449))},ii={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'groupJid':{'type':a0_0x4c01ce(0x265)},'action':{'type':'string','enum':['add','remove',a0_0x4c01ce(0x2f1),'demote','reject',a0_0x4c01ce(0x4ff)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x4c01ce(0x783),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x4c01ce(0x449),a0_0x4c01ce(0x420),a0_0x4c01ce(0x2c0)],...E('groupJid',a0_0x4c01ce(0x420))},oi={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'groupJid':{'type':a0_0x4c01ce(0x265)},'expiration':{'type':a0_0x4c01ce(0x4bd),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x4c01ce(0x449),a0_0x4c01ce(0x3e6)],...E('groupJid','expiration')},ri={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'groupJid':{'type':a0_0x4c01ce(0x265)},'image':{'type':a0_0x4c01ce(0x265)}},'required':[a0_0x4c01ce(0x449),'image'],...E(a0_0x4c01ce(0x449),'image')},ni={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4c01ce(0x265)},'description':{'type':a0_0x4c01ce(0x265)}},'required':[a0_0x4c01ce(0x449),'description'],...E(a0_0x4c01ce(0x449),a0_0x4c01ce(0x465))},ci={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'groupJid':{'type':a0_0x4c01ce(0x265)},'name':{'type':a0_0x4c01ce(0x265)}},'required':['groupJid','name'],...E(a0_0x4c01ce(0x449),a0_0x4c01ce(0x1b3))},li={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'groupJid':{'type':a0_0x4c01ce(0x265)},'setting':{'type':a0_0x4c01ce(0x265),'enum':[a0_0x4c01ce(0x8c1),a0_0x4c01ce(0x3ad),'unlocked','locked']}},'required':[a0_0x4c01ce(0x449),'setting'],...E(a0_0x4c01ce(0x449),a0_0x4c01ce(0x5e1))},ui={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'groupJid':{'type':a0_0x4c01ce(0x265)},'restrict':{'type':a0_0x4c01ce(0x4d2)},'announce':{'type':a0_0x4c01ce(0x4d2)},'memberAddMode':{'type':a0_0x4c01ce(0x4d2)},'joinApprovalMode':{'type':a0_0x4c01ce(0x4d2)},'expiration':{'type':a0_0x4c01ce(0x2fc),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x4c01ce(0x265)},'description':{'type':a0_0x4c01ce(0x265)},'image':{'type':a0_0x4c01ce(0x265)}}},Ns={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'inviteCode':{'type':a0_0x4c01ce(0x265)}},'required':[a0_0x4c01ce(0x261)],...E(a0_0x4c01ce(0x261))},di={'$id':(0x0,C['v4'])(),'type':a0_0x4c01ce(0x28b),'properties':{'url':{'type':a0_0x4c01ce(0x265)},'enabled':{'type':a0_0x4c01ce(0x4d2),'enum':[!0x0,!0x1]}},'required':['url',a0_0x4c01ce(0x3ba)]},Oc={'$id':(0x0,C['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x4c01ce(0x4d2),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x4c01ce(0x4d2),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x4c01ce(0x4d2),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x4c01ce(0x4d2),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x4c01ce(0x4d2),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x4c01ce(0x4d2),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x4c01ce(0x4d2),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x4c01ce(0x4d2),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x4c01ce(0x4d2),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x4c01ce(0x4d2),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x4c01ce(0x4d2),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x4c01ce(0x4d2),'enum':[!0x0,!0x1]}},'required':[a0_0x4c01ce(0x807),a0_0x4c01ce(0x2d9),'QRCODE_UPDATED',a0_0x4c01ce(0x1b8),a0_0x4c01ce(0x309),a0_0x4c01ce(0x439),'SEND_MESSAGE',a0_0x4c01ce(0x198),a0_0x4c01ce(0x7a7),'CONTACTS_UPDATE',a0_0x4c01ce(0x38a),a0_0x4c01ce(0x1b1),a0_0x4c01ce(0x20d),a0_0x4c01ce(0x823),'CHATS_DELETE',a0_0x4c01ce(0x715),a0_0x4c01ce(0x797),a0_0x4c01ce(0x215),a0_0x4c01ce(0x6d0)],...E(a0_0x4c01ce(0x807),a0_0x4c01ce(0x2d9),a0_0x4c01ce(0x404),a0_0x4c01ce(0x1b8),'MESSAGES_UPDATE',a0_0x4c01ce(0x439),'SEND_MESSAGE','CONTACTS_SET',a0_0x4c01ce(0x7a7),a0_0x4c01ce(0x284),a0_0x4c01ce(0x38a),a0_0x4c01ce(0x1b1),'CHATS_UPSERT',a0_0x4c01ce(0x823),a0_0x4c01ce(0x3ce),a0_0x4c01ce(0x715),'GROUPS_UPSERT','GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE')},ot=class{},rt=class extends _{[a0_0x4c01ce(0x529)](_0x4ac5fa){return aa(_0x4ac5fa);}async['insert'](_0x5b0950){const _0x1c1035=a0_0x4c01ce;if(_0x5b0950['length']!==0x0)try{return{'insertCount':(await this[_0x1c1035(0x529)](_0x5b0950[0x0][_0x1c1035(0x3f6)])[_0x1c1035(0x547)]([..._0x5b0950]))[_0x1c1035(0x72e)]};}catch(_0x518b6b){return _0x518b6b;}}async[a0_0x4c01ce(0x85f)](_0x1339b6,_0x9294f6){const _0x4b6bc3=a0_0x4c01ce;try{return{'deletedCount':(await this[_0x4b6bc3(0x529)](_0x9294f6)['deleteMany']({..._0x1339b6['where']}))[_0x4b6bc3(0x3e1)]};}catch(_0x1b3a40){return{'error':_0x1b3a40?.[_0x4b6bc3(0x7b0)]()};}}async[a0_0x4c01ce(0x79f)](_0x452d5d,_0xa80cce){const _0x2ea54c=a0_0x4c01ce;try{if(_0x452d5d[_0x2ea54c(0x72e)]===0x0)return;let _0x19801e=this[_0x2ea54c(0x529)](_0xa80cce),_0x4ffc9e=_0x452d5d[_0x2ea54c(0x37b)](_0x3050bd=>({'updateOne':{'filter':{'_id':_0x3050bd['_id'],'owner':_0xa80cce},'update':{..._0x3050bd}}})),{modifiedCount:_0x36912e}=await _0x19801e['bulkWrite'](_0x4ffc9e);return{'insertCount':_0x36912e};}catch{return;}}async[a0_0x4c01ce(0x361)](_0x8505f4,_0x237c82){const _0x210444=a0_0x4c01ce;try{let _0x1751c3=this['getContactModelForOwner'](_0x237c82),_0x554281=A(_0x8505f4[_0x210444(0x2c6)]);return await _0x1751c3[_0x210444(0x361)](_0x554281)[_0x210444(0x738)](_0x8505f4?.[_0x210444(0x738)]??0x0)[_0x210444(0x273)]();}catch{return[];}}async[a0_0x4c01ce(0x280)](_0x38627b,_0x36bc2b){const _0x3e9f64=a0_0x4c01ce;try{let _0x4cd580=this[_0x3e9f64(0x529)](_0x36bc2b),_0x34a8b9=A(_0x38627b[_0x3e9f64(0x2c6)]);return await _0x4cd580[_0x3e9f64(0x280)](_0x34a8b9)['lean']();}catch{return null;}}async[a0_0x4c01ce(0x535)](_0x3cb1a8){const _0x57b282=a0_0x4c01ce;try{return await this['getContactModelForOwner'](_0x3cb1a8)['collection'][_0x57b282(0x50d)](),{'success':!0x0};}catch(_0x598768){return console[_0x57b282(0x82d)](_0x598768),{'success':!0x1,'error':_0x598768};}}},nt=require(a0_0x4c01ce(0x204)),Jc=require(a0_0x4c01ce(0x557)),$s=new $(a0_0x4c01ce(0x563)),V=class{[a0_0x4c01ce(0x5dd)](_0xe85767,_0x554c3b=!0x0){let _0x3df689='/'+_0xe85767;return _0x554c3b&&(_0x3df689+='/:instanceName'),_0x3df689;}async[a0_0x4c01ce(0x2de)](_0x3bcb8c){const _0xddad4c=a0_0x4c01ce;let {request:_0x33aa1f,schema:_0xdda429,ClassRef:_0x2fc1b3,execute:_0x2126cf}=_0x3bcb8c,_0x2cb364=new _0x2fc1b3(),_0xc5be31=_0x33aa1f['body'],_0x44c59a=_0x33aa1f['params'];_0x33aa1f?.[_0xddad4c(0x508)]&&Object[_0xddad4c(0x6c3)](_0x33aa1f[_0xddad4c(0x508)])[_0xddad4c(0x72e)]>0x0&&Object[_0xddad4c(0x551)](_0x44c59a,_0x33aa1f[_0xddad4c(0x508)]),_0x33aa1f[_0xddad4c(0x229)][_0xddad4c(0x570)](_0xddad4c(0x789))&&Object[_0xddad4c(0x551)](_0x44c59a,_0xc5be31),Object[_0xddad4c(0x551)](_0x2cb364,_0xc5be31);let _0x280bb7=_0xdda429?(0x0,nt[_0xddad4c(0x344)])(_0x2cb364,_0xdda429):{'valid':!0x0,'errors':[]};if(!_0x280bb7[_0xddad4c(0x6e6)]){let _0x4779f0=_0x280bb7[_0xddad4c(0x34e)][_0xddad4c(0x37b)](({property:_0x2620c6,stack:_0x2c8411,schema:_0x4055ae})=>{const _0x4c960b=_0xddad4c;let _0x59c730;return _0x4055ae[_0x4c960b(0x465)]?_0x59c730=_0x4055ae['description']:_0x59c730=_0x2c8411[_0x4c960b(0x7ea)](_0x4c960b(0x5a9),''),{'property':_0x2620c6['replace'](_0x4c960b(0x5a9),''),'message':_0x59c730};});throw $s[_0xddad4c(0x82d)]([..._0x4779f0]),new m(..._0x4779f0);}return await _0x2126cf(_0x44c59a,_0x2cb364);}async[a0_0x4c01ce(0x3a0)](_0x3e41ef){const _0x292ca3=a0_0x4c01ce;let {request:_0x55b44f,ClassRef:_0x20fc5a,schema:_0xe8df97,execute:_0x352cd4}=_0x3e41ef,_0x5f4ba7=_0x55b44f[_0x292ca3(0x508)];if(!_0x5f4ba7?.[_0x292ca3(0x449)])throw new m(_0x292ca3(0x515),_0x292ca3(0x350));let _0x4e3d29=_0x55b44f[_0x292ca3(0x6c0)],_0x3d3e06=_0x55b44f['body'],_0x1ea415=new _0x20fc5a();Object[_0x292ca3(0x551)](_0x3d3e06,_0x5f4ba7),Object[_0x292ca3(0x551)](_0x1ea415,_0x3d3e06);let _0x4b950e=(0x0,nt[_0x292ca3(0x344)])(_0x1ea415,_0xe8df97);if(!_0x4b950e[_0x292ca3(0x6e6)]){let _0x1b3307=_0x4b950e[_0x292ca3(0x34e)][_0x292ca3(0x37b)](({property:_0x5e9d66,stack:_0x231f0a,schema:_0x4da6ee})=>{const _0x5db9cb=_0x292ca3;let _0x259146;return _0x4da6ee[_0x5db9cb(0x465)]?_0x259146=_0x4da6ee[_0x5db9cb(0x465)]:_0x259146=_0x231f0a[_0x5db9cb(0x7ea)](_0x5db9cb(0x5a9),''),{'property':_0x5e9d66['replace'](_0x5db9cb(0x5a9),''),'message':_0x259146};});throw $s[_0x292ca3(0x82d)]([..._0x1b3307]),new m(..._0x1b3307);}return await _0x352cd4(_0x4e3d29,_0x1ea415);}async[a0_0x4c01ce(0x790)](_0x52ef0c){const _0x1b066c=a0_0x4c01ce;let {request:_0x2f7137,ClassRef:_0x549f2e,schema:_0x441b5b,execute:_0x2fdcd5}=_0x52ef0c,_0x468264=_0x2f7137[_0x1b066c(0x1e5)];if(!_0x468264?.['inviteCode'])throw new m(_0x1b066c(0x3bf),_0x1b066c(0x558));let _0x2d1654=_0x2f7137[_0x1b066c(0x6c0)],_0x747a05=_0x2f7137[_0x1b066c(0x1e5)],_0x53bc83=new _0x549f2e();Object[_0x1b066c(0x551)](_0x747a05,_0x468264),Object[_0x1b066c(0x551)](_0x53bc83,_0x747a05);let _0x3a8bee=(0x0,nt['validate'])(_0x53bc83,_0x441b5b);if(!_0x3a8bee[_0x1b066c(0x6e6)]){let _0x4758b4=_0x3a8bee[_0x1b066c(0x34e)][_0x1b066c(0x37b)](({property:_0x19fd24,stack:_0x4474c8,schema:_0x22f59f})=>{const _0x1777ed=_0x1b066c;let _0x191f9f;return _0x22f59f['description']?_0x191f9f=_0x22f59f[_0x1777ed(0x465)]:_0x191f9f=_0x4474c8[_0x1777ed(0x7ea)]('instance.',''),{'property':_0x19fd24['replace'](_0x1777ed(0x5a9),''),'message':_0x191f9f};});throw $s[_0x1b066c(0x82d)]([..._0x4758b4]),new m(..._0x4758b4);}return await _0x2fdcd5(_0x2d1654,_0x53bc83);}},M=class{},sl=new $(a0_0x4c01ce(0x6f5)),ct=class extends V{constructor(..._0x189c0d){const _0x529f4b=a0_0x4c01ce;super(),this[_0x529f4b(0x446)]=(0x0,pi[_0x529f4b(0x76e)])(),this[_0x529f4b(0x446)][_0x529f4b(0x51c)](this[_0x529f4b(0x5dd)](_0x529f4b(0x29b)),..._0x189c0d,async(_0x3fbe71,_0x36c9f2)=>{const _0x8bb83a=_0x529f4b;let _0x58dbaa=await this[_0x8bb83a(0x2de)]({'request':_0x3fbe71,'schema':si,'ClassRef':Qe,'execute':(_0x195d29,_0x39ced5)=>D[_0x8bb83a(0x29b)](_0x195d29,_0x39ced5)});return _0x36c9f2[_0x8bb83a(0x5d6)](0xc9)[_0x8bb83a(0x2d2)](_0x58dbaa);})['post'](this[_0x529f4b(0x5dd)](_0x529f4b(0x6d9)),..._0x189c0d,async(_0x426d4e,_0x17d3f0)=>{const _0x4f3d14=_0x529f4b;let _0x2e04ae=await this[_0x4f3d14(0x2de)]({'request':_0x426d4e,'schema':Wa,'ClassRef':Ye,'execute':(_0x5658fc,_0x190cf6)=>D[_0x4f3d14(0x20e)](_0x5658fc,_0x190cf6)});return _0x17d3f0[_0x4f3d14(0x5d6)](0xc9)['json'](_0x2e04ae);})['post'](this[_0x529f4b(0x5dd)](_0x529f4b(0x1ee)),..._0x189c0d,async(_0x4d7907,_0x3e2b68)=>{const _0x42d295=_0x529f4b;let _0xa080d=await this[_0x42d295(0x2de)]({'request':_0x4d7907,'schema':N,'ClassRef':M,'execute':(_0xb87fa5,_0x38b87a)=>D[_0x42d295(0x1ee)](_0xb87fa5,_0x38b87a)});return _0x3e2b68[_0x42d295(0x5d6)](0xc9)[_0x42d295(0x2d2)](_0xa080d);})['put'](this['routerPath'](_0x529f4b(0x4ed)),..._0x189c0d,async(_0x1fc47d,_0xe7b9f8)=>{const _0x50e62f=_0x529f4b;let _0x1dc332=await this[_0x50e62f(0x2de)]({'request':_0x1fc47d,'schema':za,'ClassRef':et,'execute':(_0x2d6ec6,_0x3265e3)=>D[_0x50e62f(0x504)](_0x2d6ec6,_0x3265e3)});return _0xe7b9f8[_0x50e62f(0x5d6)](0xc9)[_0x50e62f(0x2d2)](_0x1dc332);})[_0x529f4b(0x692)](this[_0x529f4b(0x5dd)]('archiveChat'),..._0x189c0d,async(_0x42c209,_0xb53ec9)=>{const _0x2ab9bb=_0x529f4b;let _0x4ed396=await this[_0x2ab9bb(0x2de)]({'request':_0x42c209,'schema':Ka,'ClassRef':tt,'execute':(_0x464954,_0x28a8f9)=>D['archiveChat'](_0x464954,_0x28a8f9)});return _0xb53ec9[_0x2ab9bb(0x5d6)](0xc9)[_0x2ab9bb(0x2d2)](_0x4ed396);})[_0x529f4b(0x85f)](this[_0x529f4b(0x5dd)]('deleteMessageForEveryone'),..._0x189c0d,async(_0x3dffd4,_0x26b15e)=>{const _0xb90df2=_0x529f4b;let _0x57616b=await this[_0xb90df2(0x2de)]({'request':_0x3dffd4,'schema':Qa,'ClassRef':at,'execute':(_0x5aadd2,_0x5dea8a)=>D['deleteMessage'](_0x5aadd2,_0x5dea8a)});return _0x26b15e[_0xb90df2(0x5d6)](0xc9)[_0xb90df2(0x2d2)](_0x57616b);})['post'](this[_0x529f4b(0x5dd)]('fetchProfilePictureUrl'),..._0x189c0d,async(_0x3c2af1,_0x32984d)=>{const _0x36e3af=_0x529f4b;let _0x372693=await this[_0x36e3af(0x2de)]({'request':_0x3c2af1,'schema':Oe,'ClassRef':Te,'execute':(_0x286363,_0x420699)=>D[_0x36e3af(0x358)](_0x286363,_0x420699)});return _0x32984d[_0x36e3af(0x5d6)](0xc8)[_0x36e3af(0x2d2)](_0x372693);})[_0x529f4b(0x51c)](this[_0x529f4b(0x5dd)](_0x529f4b(0x2d6)),..._0x189c0d,async(_0x18d0e9,_0x58b12c)=>{const _0x51eee3=_0x529f4b;let _0x9c973a=await this[_0x51eee3(0x2de)]({'request':_0x18d0e9,'schema':ei,'ClassRef':Te,'execute':(_0x2c6e6a,_0x193b65)=>D[_0x51eee3(0x2d6)](_0x2c6e6a,_0x193b65)});return _0x58b12c[_0x51eee3(0x5d6)](0xc8)['json'](_0x9c973a);})[_0x529f4b(0x51c)](this['routerPath'](_0x529f4b(0x858)),..._0x189c0d,async(_0x4f87a9,_0x15e8f3)=>{const _0x223712=_0x529f4b;let _0x3b458c=await this['dataValidate']({'request':_0x4f87a9,'schema':Ya,'ClassRef':ot,'execute':(_0x7ca7bd,_0x7ee2d)=>D[_0x223712(0x209)](_0x7ca7bd,_0x7ee2d)});return _0x15e8f3['status'](0xc8)[_0x223712(0x2d2)](_0x3b458c);})['post'](this['routerPath'](_0x529f4b(0x1c8)),..._0x189c0d,async(_0x57c3ed,_0x555375)=>{const _0x462a04=_0x529f4b;let _0x376ede=await this['dataValidate']({'request':_0x57c3ed,'schema':null,'ClassRef':Object,'execute':(_0x31c3dc,_0x6eb1dc)=>D[_0x462a04(0x1c8)](_0x31c3dc,_0x6eb1dc)});return _0x555375[_0x462a04(0x5d6)](0xc9)[_0x462a04(0x2d2)](_0x376ede);})[_0x529f4b(0x51c)](this[_0x529f4b(0x5dd)]('findMessages'),..._0x189c0d,async(_0x1146f7,_0x20c3cd)=>{const _0x34b1c4=_0x529f4b;let _0x53683c=await this[_0x34b1c4(0x2de)]({'request':_0x1146f7,'schema':ti,'ClassRef':He,'execute':(_0x416d67,_0x3cd0e2)=>D['fetchMessages'](_0x416d67,_0x3cd0e2)});return _0x20c3cd[_0x34b1c4(0x5d6)](0xc8)['json'](_0x53683c);})['get'](this[_0x529f4b(0x5dd)]('findChats'),..._0x189c0d,async(_0x530794,_0x33f033)=>{const _0x3103d8=_0x529f4b;let _0x5e1cbc=await this[_0x3103d8(0x2de)]({'request':_0x530794,'schema':null,'ClassRef':M,'execute':_0x5eba12=>D['fetchChats'](_0x5eba12)});return _0x33f033[_0x3103d8(0x5d6)](0xc8)[_0x3103d8(0x2d2)](_0x5e1cbc);})['get'](this['routerPath']('findLabels'),..._0x189c0d,async(_0x460b10,_0x38764e)=>{const _0x41522d=_0x529f4b;let _0x65a617=await this[_0x41522d(0x2de)]({'request':_0x460b10,'schema':null,'ClassRef':M,'execute':_0x23a43b=>D['fetchLabels'](_0x23a43b)});return _0x38764e['status'](0xc8)[_0x41522d(0x2d2)](_0x65a617);})[_0x529f4b(0x692)](this[_0x529f4b(0x5dd)](_0x529f4b(0x5b2)),..._0x189c0d,async(_0x36be6c,_0xc1c8f2)=>{const _0x1022e5=_0x529f4b;let _0x2449f8=await this[_0x1022e5(0x2de)]({'request':_0x36be6c,'schema':null,'ClassRef':Array,'execute':(_0x43a038,_0x140b8f)=>D[_0x1022e5(0x5b2)](_0x43a038,_0x140b8f)});return _0xc1c8f2[_0x1022e5(0x5d6)](0xc8)[_0x1022e5(0x2d2)](_0x2449f8);})['get'](this[_0x529f4b(0x5dd)]('fetchPrivacySettings'),..._0x189c0d,async(_0x132d15,_0x51db1c)=>{const _0xb81442=_0x529f4b;let _0x5bbac6=await this['dataValidate']({'request':_0x132d15,'schema':null,'ClassRef':M,'execute':_0x5babde=>D['fetchPrivacySettings'](_0x5babde)});return _0x51db1c[_0xb81442(0x5d6)](0xc8)[_0xb81442(0x2d2)](_0x5bbac6);})[_0x529f4b(0x692)](this[_0x529f4b(0x5dd)](_0x529f4b(0x363)),..._0x189c0d,async(_0xc4d990,_0x5a7b5a)=>{const _0x5539f8=_0x529f4b;let _0xb53b0e=await this[_0x5539f8(0x2de)]({'request':_0xc4d990,'schema':Ha,'ClassRef':st,'execute':(_0x4dab40,_0xe12f57)=>D[_0x5539f8(0x363)](_0x4dab40,_0xe12f57)});return _0x5a7b5a[_0x5539f8(0x5d6)](0xc9)['json'](_0xb53b0e);})[_0x529f4b(0x51c)](this[_0x529f4b(0x5dd)]('fetchBusinessProfile'),..._0x189c0d,async(_0x257579,_0x598c34)=>{const _0x26b800=_0x529f4b;let _0x234882=await this[_0x26b800(0x2de)]({'request':_0x257579,'schema':Oe,'ClassRef':Ee,'execute':(_0x5642dd,_0x517737)=>D[_0x26b800(0x26b)](_0x5642dd,_0x517737)});return _0x598c34[_0x26b800(0x5d6)](0xc8)[_0x26b800(0x2d2)](_0x234882);})[_0x529f4b(0x51c)](this['routerPath'](_0x529f4b(0x58e)),..._0x189c0d,async(_0x350ed6,_0x4c819e)=>{const _0x59c933=_0x529f4b;let _0x2b4ad7=await this['dataValidate']({'request':_0x350ed6,'schema':Xa,'ClassRef':Xe,'execute':(_0xa2970a,_0x3cb1a0)=>D['updateProfileName'](_0xa2970a,_0x3cb1a0)});return _0x4c819e['status'](0xc8)[_0x59c933(0x2d2)](_0x2b4ad7);})[_0x529f4b(0x51c)](this['routerPath']('updateProfileStatus'),..._0x189c0d,async(_0x2c17ab,_0x262495)=>{const _0x3b3807=_0x529f4b;let _0x3462c5=await this[_0x3b3807(0x2de)]({'request':_0x2c17ab,'schema':Za,'ClassRef':Ze,'execute':(_0x1c3e9c,_0x1cceee)=>D[_0x3b3807(0x73a)](_0x1c3e9c,_0x1cceee)});return _0x262495[_0x3b3807(0x5d6)](0xc8)[_0x3b3807(0x2d2)](_0x3462c5);})[_0x529f4b(0x692)](this[_0x529f4b(0x5dd)]('updateProfilePicture'),..._0x189c0d,async(_0x34661b,_0x23c6ab)=>{const _0xd737a7=_0x529f4b;let _0x11a764=await this['dataValidate']({'request':_0x34661b,'schema':Oe,'ClassRef':Ee,'execute':(_0x2753be,_0x3cbdc1)=>D[_0xd737a7(0x70f)](_0x2753be,_0x3cbdc1)});return _0x23c6ab[_0xd737a7(0x5d6)](0xc8)[_0xd737a7(0x2d2)](_0x11a764);})['delete'](this[_0x529f4b(0x5dd)](_0x529f4b(0x456)),..._0x189c0d,async(_0xc41671,_0x4f614c)=>{const _0x110300=_0x529f4b;let _0x411cd4=await this[_0x110300(0x2de)]({'request':_0xc41671,'schema':Oe,'ClassRef':Ee,'execute':(_0x564ff0,_0x1ba2a5)=>D[_0x110300(0x456)](_0x564ff0,_0x1ba2a5)});return _0x4f614c[_0x110300(0x5d6)](0xc8)[_0x110300(0x2d2)](_0x411cd4);});}},hi=require(a0_0x4c01ce(0x4e5)),lt=class{},ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},te=class{},Pe=class{},mt=class extends te{},ft=class extends te{},wt=class extends V{constructor(..._0x170fda){const _0x10495a=a0_0x4c01ce;super(),this[_0x10495a(0x446)]=(0x0,hi['Router'])(),this[_0x10495a(0x446)][_0x10495a(0x51c)](this[_0x10495a(0x5dd)](_0x10495a(0x88d)),..._0x170fda,async(_0x499020,_0x1029d3)=>{const _0x286271=_0x10495a;let _0x44c667=await this[_0x286271(0x2de)]({'request':_0x499020,'schema':ai,'ClassRef':lt,'execute':(_0x37ddb3,_0x1cac34)=>q[_0x286271(0x4de)](_0x37ddb3,_0x1cac34)});_0x1029d3[_0x286271(0x5d6)](0xc9)[_0x286271(0x2d2)](_0x44c667);})[_0x10495a(0x692)](this[_0x10495a(0x5dd)](_0x10495a(0x32a)),..._0x170fda,async(_0x490e6a,_0x4c6f9d)=>{const _0x2af3a2=_0x10495a;let _0x13ecc8=await this[_0x2af3a2(0x3a0)]({'request':_0x490e6a,'schema':ri,'ClassRef':ut,'execute':(_0x40a297,_0x2eabd1)=>q[_0x2af3a2(0x32a)](_0x40a297,_0x2eabd1)});_0x4c6f9d['status'](0xc9)[_0x2af3a2(0x2d2)](_0x13ecc8);})[_0x10495a(0x692)](this['routerPath'](_0x10495a(0x42b)),..._0x170fda,async(_0x481a7e,_0x4f4d62)=>{const _0x3b26bd=_0x10495a;let _0x9f5e41=await this[_0x3b26bd(0x3a0)]({'request':_0x481a7e,'schema':ni,'ClassRef':dt,'execute':(_0x148973,_0x3ccbb2)=>q[_0x3b26bd(0x42b)](_0x148973,_0x3ccbb2)});_0x4f4d62[_0x3b26bd(0x5d6)](0xc9)[_0x3b26bd(0x2d2)](_0x9f5e41);})['put'](this[_0x10495a(0x5dd)]('groupName'),..._0x170fda,async(_0x161418,_0xf748c8)=>{const _0x1c692e=_0x10495a;let _0x2ea33c=await this[_0x1c692e(0x3a0)]({'request':_0x161418,'schema':ci,'ClassRef':pt,'execute':(_0x570221,_0x11a935)=>q[_0x1c692e(0x74d)](_0x570221,_0x11a935)});_0xf748c8[_0x1c692e(0x5d6)](0xc9)[_0x1c692e(0x2d2)](_0x2ea33c);})[_0x10495a(0x692)](this[_0x10495a(0x5dd)](_0x10495a(0x211)),..._0x170fda,async(_0x146d32,_0x5ef7ba)=>{const _0x1773fc=_0x10495a;let _0x1d28eb=await this['groupValidate']({'request':_0x146d32,'schema':ui,'ClassRef':gt,'execute':(_0x31b7f0,_0xf45db7)=>q['groupBetterSetting'](_0x31b7f0,_0xf45db7)});_0x5ef7ba[_0x1773fc(0x5d6)](0xc9)['json'](_0x1d28eb);})[_0x10495a(0x692)](this[_0x10495a(0x5dd)](_0x10495a(0x22a)),..._0x170fda,async(_0x498bd9,_0x36ccb8)=>{const _0x4a22f9=_0x10495a;let _0x2702ec=await this[_0x4a22f9(0x3a0)]({'request':_0x498bd9,'schema':li,'ClassRef':ht,'execute':(_0x2425b5,_0x2d38da)=>q[_0x4a22f9(0x22a)](_0x2425b5,_0x2d38da)});_0x36ccb8[_0x4a22f9(0x5d6)](0xc9)[_0x4a22f9(0x2d2)](_0x2702ec);})[_0x10495a(0x692)](this['routerPath'](_0x10495a(0x767)),..._0x170fda,async(_0x2d6148,_0x255f44)=>{const _0xcd9112=_0x10495a;let _0x2e5cc1=await this[_0xcd9112(0x3a0)]({'request':_0x2d6148,'schema':oi,'ClassRef':ft,'execute':(_0x34d807,_0xe9690f)=>q['toggleEphemeral'](_0x34d807,_0xe9690f)});_0x255f44['status'](0xc9)['json'](_0x2e5cc1);})[_0x10495a(0x5f0)](this['routerPath'](_0x10495a(0x628)),..._0x170fda,async(_0x16464e,_0x43fcec)=>{const _0x1a55d0=_0x10495a;let _0x89042f=await this[_0x1a55d0(0x3a0)]({'request':_0x16464e,'schema':xe,'ClassRef':te,'execute':(_0x113f87,_0x281e22)=>q[_0x1a55d0(0x257)](_0x113f87,_0x281e22)});_0x43fcec['status'](0xc8)['json'](_0x89042f);})[_0x10495a(0x5f0)](this['routerPath'](_0x10495a(0x869)),..._0x170fda,async(_0x1105a4,_0x4d8904)=>{const _0x88c640=_0x10495a;let _0x3229c7=await this['dataValidate']({'request':_0x1105a4,'schema':N,'ClassRef':M,'execute':_0x225b85=>q[_0x88c640(0x869)](_0x225b85)});_0x4d8904[_0x88c640(0x5d6)](0xc8)[_0x88c640(0x2d2)](_0x3229c7);})[_0x10495a(0x5f0)](this[_0x10495a(0x5dd)](_0x10495a(0x2c0)),..._0x170fda,async(_0x2a7de6,_0x161ef7)=>{const _0x3a77d7=_0x10495a;let _0x1905fd=await this[_0x3a77d7(0x3a0)]({'request':_0x2a7de6,'schema':xe,'ClassRef':te,'execute':(_0x2e3073,_0x2336af)=>q[_0x3a77d7(0x549)](_0x2e3073,_0x2336af)});_0x161ef7[_0x3a77d7(0x5d6)](0xc8)[_0x3a77d7(0x2d2)](_0x1905fd);})[_0x10495a(0x5f0)](this[_0x10495a(0x5dd)](_0x10495a(0x261)),..._0x170fda,async(_0x1febbf,_0x5c7fe0)=>{const _0x3c31d7=_0x10495a;let _0x594a13=await this[_0x3c31d7(0x3a0)]({'request':_0x1febbf,'schema':xe,'ClassRef':te,'execute':(_0x2e74a2,_0x521617)=>q[_0x3c31d7(0x261)](_0x2e74a2,_0x521617)});_0x5c7fe0[_0x3c31d7(0x5d6)](0xc8)[_0x3c31d7(0x2d2)](_0x594a13);})[_0x10495a(0x51c)](this[_0x10495a(0x5dd)](_0x10495a(0x6c2)),..._0x170fda,async(_0x13169f,_0x15acf3)=>{const _0x4119db=_0x10495a;let _0x3a0471=await this[_0x4119db(0x790)]({'request':_0x13169f,'schema':Ns,'ClassRef':Pe,'execute':(_0x58d0c7,_0x2a3ca9)=>q[_0x4119db(0x731)](_0x58d0c7,_0x2a3ca9)});_0x15acf3[_0x4119db(0x5d6)](0xc9)['json'](_0x3a0471);})[_0x10495a(0x692)](this[_0x10495a(0x5dd)](_0x10495a(0x300)),..._0x170fda,async(_0x298e59,_0x1a90ce)=>{const _0x451797=_0x10495a;let _0x228c6a=await this[_0x451797(0x790)]({'request':_0x298e59,'schema':Ns,'ClassRef':Pe,'execute':(_0x17c9b3,_0x4f8dd1)=>q['joinGroup'](_0x17c9b3,_0x4f8dd1)});_0x1a90ce[_0x451797(0x5d6)](0xc9)[_0x451797(0x2d2)](_0x228c6a);})[_0x10495a(0x692)](this[_0x10495a(0x5dd)](_0x10495a(0x57e)),..._0x170fda,async(_0x4dd4ca,_0x6eb5af)=>{const _0x488e82=_0x10495a;let _0x443440=await this['groupValidate']({'request':_0x4dd4ca,'schema':xe,'ClassRef':te,'execute':(_0x278dcf,_0x3826bc)=>q['revokeInviteCode'](_0x278dcf,_0x3826bc)});_0x6eb5af['status'](0xc9)[_0x488e82(0x2d2)](_0x443440);})[_0x10495a(0x692)](this[_0x10495a(0x5dd)](_0x10495a(0x4fe)),..._0x170fda,async(_0x118e5c,_0x313a0c)=>{const _0x23b73c=_0x10495a;let _0x4c21e9=await this[_0x23b73c(0x3a0)]({'request':_0x118e5c,'schema':ii,'ClassRef':mt,'execute':(_0x491579,_0x476ed0)=>q[_0x23b73c(0x728)](_0x491579,_0x476ed0)});_0x313a0c[_0x23b73c(0x5d6)](0xc9)[_0x23b73c(0x2d2)](_0x4c21e9);})[_0x10495a(0x85f)](this[_0x10495a(0x5dd)]('leaveGroup'),..._0x170fda,async(_0x271c79,_0x552a50)=>{const _0x37bbe6=_0x10495a;let _0x5dfdd8=await this[_0x37bbe6(0x3a0)]({'request':_0x271c79,'schema':{},'ClassRef':te,'execute':(_0x3d7154,_0xc83e85)=>q[_0x37bbe6(0x457)](_0x3d7154,_0xc83e85)});_0x552a50[_0x37bbe6(0x5d6)](0xc8)['json'](_0x5dfdd8);});}},gi=require(a0_0x4c01ce(0x4e5)),yt=class extends V{constructor(_0x712b97,..._0x1b4e36){const _0x5ada2d=a0_0x4c01ce;super(),this[_0x5ada2d(0x415)]=_0x712b97,this[_0x5ada2d(0x446)]=(0x0,gi[_0x5ada2d(0x76e)])();let _0xdf2d4=_0x712b97[_0x5ada2d(0x5f0)](_0x5ada2d(0x489));this[_0x5ada2d(0x446)][_0x5ada2d(0x51c)](_0x5ada2d(0x22c),..._0x1b4e36,async(_0x11e4ba,_0x100e47)=>{const _0x1da21c=_0x5ada2d;let {instanceName:_0x4e85fa,apikey:_0x2f5a73,number:_0x3ea69f}=_0x11e4ba[_0x1da21c(0x1e5)],_0x4975d0=await de['createInstance']({'instanceName':_0x4e85fa,'apikey':_0x2f5a73,'number':_0x3ea69f});return _0x100e47[_0x1da21c(0x5d6)](0xc9)[_0x1da21c(0x2d2)](_0x4975d0);})[_0x5ada2d(0x692)](this[_0x5ada2d(0x5dd)]('restart'),..._0x1b4e36,async(_0x55fedb,_0x162320)=>{const _0x632542=_0x5ada2d;let _0x1f5fc0=await this[_0x632542(0x2de)]({'request':_0x55fedb,'schema':N,'ClassRef':M,'execute':_0x2c1fee=>de[_0x632542(0x649)](_0x2c1fee)});return _0x162320['status'](0xc8)[_0x632542(0x2d2)](_0x1f5fc0);})[_0x5ada2d(0x5f0)](this['routerPath'](_0x5ada2d(0x717)),..._0x1b4e36,async(_0x3a8f94,_0x536ab8)=>{const _0x42a592=_0x5ada2d;let _0x161200=await this['dataValidate']({'request':_0x3a8f94,'schema':N,'ClassRef':M,'execute':_0x29ff22=>de[_0x42a592(0x2c7)](_0x29ff22)});return _0x536ab8[_0x42a592(0x5d6)](0xc8)[_0x42a592(0x2d2)](_0x161200);})[_0x5ada2d(0x5f0)](this[_0x5ada2d(0x5dd)](_0x5ada2d(0x2e4)),..._0x1b4e36,async(_0x1feb97,_0x5c5627)=>{const _0x48de88=_0x5ada2d;let _0xf5c1fd=await this[_0x48de88(0x2de)]({'request':_0x1feb97,'schema':N,'ClassRef':M,'execute':_0x42fd18=>de[_0x48de88(0x2e4)](_0x42fd18)});return _0x5c5627[_0x48de88(0x5d6)](0xc8)[_0x48de88(0x2d2)](_0xf5c1fd);})[_0x5ada2d(0x5f0)](this['routerPath'](_0x5ada2d(0x81f),!0x1),..._0x1b4e36,async(_0x1c97b1,_0x2d8d4d)=>{const _0x4cf2d6=_0x5ada2d;let _0x43f70d=await this[_0x4cf2d6(0x2de)]({'request':_0x1c97b1,'schema':null,'ClassRef':M,'execute':_0x3d3e14=>de[_0x4cf2d6(0x81f)](_0x3d3e14)});return _0x2d8d4d['status'](0xc8)[_0x4cf2d6(0x2d2)](_0x43f70d);})[_0x5ada2d(0x85f)](this['routerPath']('logout'),..._0x1b4e36,async(_0x2c38cd,_0x39480e)=>{const _0x2cb5cb=_0x5ada2d;let _0x24ace6=await this[_0x2cb5cb(0x2de)]({'request':_0x2c38cd,'schema':N,'ClassRef':M,'execute':_0xcbf22d=>de['logout'](_0xcbf22d)});return _0x39480e[_0x2cb5cb(0x5d6)](0xc8)[_0x2cb5cb(0x2d2)](_0x24ace6);})[_0x5ada2d(0x85f)](this[_0x5ada2d(0x5dd)](_0x5ada2d(0x85f)),..._0x1b4e36,async(_0x209a92,_0x402b82)=>{const _0x5a067d=_0x5ada2d;let _0x592976=await this[_0x5a067d(0x2de)]({'request':_0x209a92,'schema':N,'ClassRef':M,'execute':_0x1674ed=>de[_0x5a067d(0x7be)](_0x1674ed)});return _0x402b82['status'](0xc8)['json'](_0x592976);});}},mi=require('express'),Rs=class{},K=class extends Rs{},bt=class extends K{},St=class extends K{},Mt=class extends K{},Ct=class extends K{},De=class extends K{},Et=class extends K{},vt=class extends K{},Nt=class extends K{},$t=class extends K{},Rt=class{},At=class extends V{constructor(..._0x2da8fe){const _0x445c8d=a0_0x4c01ce;super(),this[_0x445c8d(0x446)]=(0x0,mi[_0x445c8d(0x76e)])(),this['router'][_0x445c8d(0x51c)](this[_0x445c8d(0x5dd)](_0x445c8d(0x729)),..._0x2da8fe,async(_0x453a69,_0x5aab6f)=>{const _0x404130=_0x445c8d;let _0x2d9f93=await this[_0x404130(0x2de)]({'request':_0x453a69,'schema':Pa,'ClassRef':bt,'execute':(_0x1cafb5,_0x578d59)=>W[_0x404130(0x729)](_0x1cafb5,_0x578d59)});return _0x5aab6f[_0x404130(0x5d6)](0xc9)[_0x404130(0x2d2)](_0x2d9f93);})['post'](this[_0x445c8d(0x5dd)](_0x445c8d(0x297)),..._0x2da8fe,async(_0x35e5b6,_0x3a0057)=>{const _0x34420c=_0x445c8d;let _0x20f56c=await this[_0x34420c(0x2de)]({'request':_0x35e5b6,'schema':Fa,'ClassRef':De,'execute':(_0xae71b7,_0x2023dd)=>W[_0x34420c(0x297)](_0xae71b7,_0x2023dd)});return _0x3a0057['status'](0xc9)[_0x34420c(0x2d2)](_0x20f56c);})[_0x445c8d(0x51c)](this[_0x445c8d(0x5dd)](_0x445c8d(0x5ba)),..._0x2da8fe,async(_0x1d1039,_0x37900b)=>{const _0x113058=_0x445c8d;let _0x4d00b3=await this[_0x113058(0x2de)]({'request':_0x1d1039,'schema':Ja,'ClassRef':Ct,'execute':(_0x22f540,_0x37ece4)=>W[_0x113058(0x5ba)](_0x22f540,_0x37ece4)});return _0x37900b['status'](0xc9)[_0x113058(0x2d2)](_0x4d00b3);})[_0x445c8d(0x51c)](this[_0x445c8d(0x5dd)](_0x445c8d(0x383)),..._0x2da8fe,async(_0x4f721d,_0x4370b1)=>{const _0x513ba=_0x445c8d;let _0x50e05c=await this[_0x513ba(0x2de)]({'request':_0x4f721d,'schema':Ua,'ClassRef':De,'execute':(_0x401352,_0x5ed560)=>W['sendWhatsAppAudio'](_0x401352,_0x5ed560)});return _0x4370b1[_0x513ba(0x5d6)](0xc9)[_0x513ba(0x2d2)](_0x50e05c);})[_0x445c8d(0x51c)](this[_0x445c8d(0x5dd)](_0x445c8d(0x275)),..._0x2da8fe,async(_0x27811c,_0x2af3fb)=>{const _0x4c62b3=_0x445c8d;let _0x148eaa=await this[_0x4c62b3(0x2de)]({'request':_0x27811c,'schema':qa,'ClassRef':vt,'execute':(_0x415a02,_0xf9eeaf)=>W[_0x4c62b3(0x275)](_0x415a02,_0xf9eeaf)});return _0x2af3fb['status'](0xc9)[_0x4c62b3(0x2d2)](_0x148eaa);})[_0x445c8d(0x51c)](this[_0x445c8d(0x5dd)](_0x445c8d(0x698)),..._0x2da8fe,async(_0x2eea47,_0x56bc7c)=>{const _0x598da9=_0x445c8d;let _0xe1a019=await this[_0x598da9(0x2de)]({'request':_0x2eea47,'schema':Va,'ClassRef':Nt,'execute':(_0x501df3,_0x30a0f8)=>W['sendList'](_0x501df3,_0x30a0f8)});return _0x56bc7c[_0x598da9(0x5d6)](0xc9)[_0x598da9(0x2d2)](_0xe1a019);})[_0x445c8d(0x51c)](this['routerPath'](_0x445c8d(0x247)),..._0x2da8fe,async(_0x27fe76,_0x44742d)=>{const _0x3a08af=_0x445c8d;let _0x24417e=await this['dataValidate']({'request':_0x27fe76,'schema':Ga,'ClassRef':$t,'execute':(_0x58ca2d,_0x19f444)=>W[_0x3a08af(0x247)](_0x58ca2d,_0x19f444)});return _0x44742d[_0x3a08af(0x5d6)](0xc9)[_0x3a08af(0x2d2)](_0x24417e);})[_0x445c8d(0x51c)](this[_0x445c8d(0x5dd)](_0x445c8d(0x2bb)),..._0x2da8fe,async(_0x13950f,_0x2b49d7)=>{const _0x103d47=_0x445c8d;let _0x24b6f7=await this[_0x103d47(0x2de)]({'request':_0x13950f,'schema':Ba,'ClassRef':Rt,'execute':(_0x43a178,_0x25df32)=>W[_0x103d47(0x2bb)](_0x43a178,_0x25df32)});return _0x2b49d7[_0x103d47(0x5d6)](0xc9)['json'](_0x24b6f7);})['post'](this[_0x445c8d(0x5dd)](_0x445c8d(0x7b1)),..._0x2da8fe,async(_0x8e49,_0x144290)=>{const _0x3b07f7=_0x445c8d;let _0x553137=await this[_0x3b07f7(0x2de)]({'request':_0x8e49,'schema':ja,'ClassRef':Mt,'execute':(_0x47801b,_0xecaa04)=>W[_0x3b07f7(0x7b1)](_0x47801b,_0xecaa04)});return _0x144290[_0x3b07f7(0x5d6)](0xc9)[_0x3b07f7(0x2d2)](_0x553137);})['post'](this['routerPath'](_0x445c8d(0x317)),..._0x2da8fe,async(_0x211c0c,_0x1dc96b)=>{const _0x3d28ed=_0x445c8d;let _0x411e9d=await this[_0x3d28ed(0x2de)]({'request':_0x211c0c,'schema':La,'ClassRef':St,'execute':(_0x496cb6,_0x2d2c28)=>W[_0x3d28ed(0x317)](_0x496cb6,_0x2d2c28)});return _0x1dc96b[_0x3d28ed(0x5d6)](0xc9)[_0x3d28ed(0x2d2)](_0x411e9d);})[_0x445c8d(0x51c)](this['routerPath'](_0x445c8d(0x7ae)),..._0x2da8fe,async(_0x23fdad,_0x27cb0a)=>{const _0x2721da=_0x445c8d;let _0x48a084=await this['dataValidate']({'request':_0x23fdad,'schema':ka,'ClassRef':Et,'execute':(_0x51e362,_0x31b6bb)=>W[_0x2721da(0x7ae)](_0x51e362,_0x31b6bb)});return _0x27cb0a['status'](0xc9)[_0x2721da(0x2d2)](_0x48a084);});}},fi=require(a0_0x4c01ce(0x4e5)),It=class{},Tt=class extends V{constructor(..._0x594579){const _0x10e47=a0_0x4c01ce;super(),this[_0x10e47(0x446)]=(0x0,fi['Router'])(),this[_0x10e47(0x446)]['post'](this[_0x10e47(0x5dd)]('set'),..._0x594579,async(_0x3e5bc3,_0x39d219)=>{const _0x2b5dba=_0x10e47;let _0x41b50f=await this[_0x2b5dba(0x2de)]({'request':_0x3e5bc3,'schema':di,'ClassRef':It,'execute':(_0x3b37a5,_0x4443c9)=>As[_0x2b5dba(0x837)](_0x3b37a5,_0x4443c9)});_0x39d219[_0x2b5dba(0x5d6)](0xc9)['json'](_0x41b50f);})[_0x10e47(0x5f0)](this[_0x10e47(0x5dd)](_0x10e47(0x361)),..._0x594579,async(_0x2f8eea,_0x236b27)=>{const _0x1bf0f2=_0x10e47;let _0x1d45f1=await this['dataValidate']({'request':_0x2f8eea,'schema':N,'ClassRef':M,'execute':_0x935f19=>As['findWebhook'](_0x935f19)});_0x236b27[_0x1bf0f2(0x5d6)](0xc8)[_0x1bf0f2(0x2d2)](_0x1d45f1);});}},wi=require('express'),y=new $('FlowRouter'),_t=class extends V{constructor(..._0x2283f3){const _0x3c8c5a=a0_0x4c01ce;super(),this[_0x3c8c5a(0x446)]=(0x0,wi['Router'])(),this['router']['post'](this[_0x3c8c5a(0x5dd)](_0x3c8c5a(0x18f)),..._0x2283f3,async(_0x91ebc5,_0x360a8e)=>{const _0x12133e=_0x3c8c5a;let _0x304297=_0x91ebc5[_0x12133e(0x1e5)];y[_0x12133e(0x83f)](_0x12133e(0x7c8)),y[_0x12133e(0x83f)](_0x12133e(0x507)),y[_0x12133e(0x83f)](_0x91ebc5[_0x12133e(0x1e5)]);let _0x34e829=await this[_0x12133e(0x2de)]({'request':_0x91ebc5,'schema':N,'ClassRef':M,'execute':_0x296ce9=>O['editScheduleMessage'](_0x296ce9,_0x304297)});_0x360a8e[_0x12133e(0x5d6)](0xc8)[_0x12133e(0x2d2)](_0x34e829);})[_0x3c8c5a(0x5f0)](this['routerPath'](_0x3c8c5a(0x18f)),..._0x2283f3,async(_0x158881,_0x12d023)=>{const _0x16f7d5=_0x3c8c5a;let _0x432bd1=await this[_0x16f7d5(0x2de)]({'request':_0x158881,'schema':N,'ClassRef':M,'execute':_0x1911db=>O['getScheduleMessage'](_0x1911db)});_0x12d023[_0x16f7d5(0x5d6)](0xc8)[_0x16f7d5(0x2d2)](_0x432bd1);})[_0x3c8c5a(0x85f)](this[_0x3c8c5a(0x5dd)](_0x3c8c5a(0x65c)),..._0x2283f3,async(_0x107360,_0x1c6195)=>{const _0x5eeced=_0x3c8c5a;y[_0x5eeced(0x83f)](_0x5eeced(0x31b));let _0x5ba22c=await this['dataValidate']({'request':_0x107360,'schema':N,'ClassRef':M,'execute':_0x8d96e6=>O['deleteDoneMessages'](_0x8d96e6)});_0x1c6195[_0x5eeced(0x5d6)](0xc8)[_0x5eeced(0x2d2)](_0x5ba22c);})[_0x3c8c5a(0x51c)](this['routerPath']('startFlow'),..._0x2283f3,async(_0x279511,_0x494224)=>{const _0x47007a=_0x3c8c5a;let _0x3785c7=_0x279511[_0x47007a(0x1e5)];y['verbose'](_0x47007a(0x464)),y[_0x47007a(0x83f)](_0x47007a(0x507)),y[_0x47007a(0x83f)](_0x279511['body']);let _0x175694=await this[_0x47007a(0x2de)]({'request':_0x279511,'schema':N,'ClassRef':M,'execute':_0x245872=>O[_0x47007a(0x716)](_0x245872,_0x3785c7)});_0x494224[_0x47007a(0x5d6)](0xc8)['json'](_0x175694);})[_0x3c8c5a(0x5f0)](this[_0x3c8c5a(0x5dd)](_0x3c8c5a(0x240)),..._0x2283f3,async(_0x2074e4,_0x15b5da)=>{const _0x5673ce=_0x3c8c5a;y[_0x5673ce(0x83f)](_0x5673ce(0x441));let _0x326bc4=await this[_0x5673ce(0x2de)]({'request':_0x2074e4,'schema':N,'ClassRef':M,'execute':_0xd0892b=>O['getAutomateSystem'](_0xd0892b)});_0x15b5da['status'](0xc8)[_0x5673ce(0x2d2)](_0x326bc4);})[_0x3c8c5a(0x5f0)](this[_0x3c8c5a(0x5dd)](_0x3c8c5a(0x629)),..._0x2283f3,async(_0x171727,_0x51684d)=>{const _0x1a66d0=_0x3c8c5a;y['verbose'](_0x1a66d0(0x84b));let _0x35930a=await this['dataValidate']({'request':_0x171727,'schema':N,'ClassRef':M,'execute':_0x367196=>O['getAutomateSystem'](_0x367196)});_0x51684d[_0x1a66d0(0x5d6)](0xc8)[_0x1a66d0(0x2d2)](_0x35930a);})[_0x3c8c5a(0x51c)](this[_0x3c8c5a(0x5dd)](_0x3c8c5a(0x876)),..._0x2283f3,async(_0x1125e1,_0x2c5e26)=>{const _0x49900f=_0x3c8c5a;let _0x3d86f8=_0x1125e1[_0x49900f(0x1e5)];y[_0x49900f(0x83f)](_0x49900f(0x5ab)),y[_0x49900f(0x83f)](_0x49900f(0x507)),y[_0x49900f(0x83f)](_0x1125e1[_0x49900f(0x1e5)]);let _0x1b3162=await this[_0x49900f(0x2de)]({'request':_0x1125e1,'schema':N,'ClassRef':M,'execute':_0x5b72cc=>O[_0x49900f(0x876)](_0x5b72cc,_0x3d86f8)});_0x2c5e26[_0x49900f(0x5d6)](0xc8)[_0x49900f(0x2d2)](_0x1b3162);})[_0x3c8c5a(0x51c)](this[_0x3c8c5a(0x5dd)](_0x3c8c5a(0x43e)),..._0x2283f3,async(_0x50c378,_0x7dcfa)=>{const _0x1bdeb6=_0x3c8c5a;let _0x26195c=_0x50c378['body'];y[_0x1bdeb6(0x83f)](_0x1bdeb6(0x1f3)),y[_0x1bdeb6(0x83f)](_0x1bdeb6(0x507)),y['verbose'](_0x50c378[_0x1bdeb6(0x1e5)]);let _0x3f8020=await this[_0x1bdeb6(0x2de)]({'request':_0x50c378,'schema':N,'ClassRef':M,'execute':_0x1b307f=>O[_0x1bdeb6(0x43e)](_0x1b307f,_0x26195c)});_0x7dcfa[_0x1bdeb6(0x5d6)](0xc8)[_0x1bdeb6(0x2d2)](_0x3f8020);})[_0x3c8c5a(0x51c)](this[_0x3c8c5a(0x5dd)](_0x3c8c5a(0x604)),..._0x2283f3,async(_0xd08d90,_0x9ede96)=>{const _0x277f08=_0x3c8c5a;let _0x41e610=_0xd08d90['body'];y['verbose'](_0x277f08(0x4be)),y[_0x277f08(0x83f)](_0x277f08(0x507)),y[_0x277f08(0x83f)](_0xd08d90[_0x277f08(0x1e5)]);let _0x25dd5e=await this[_0x277f08(0x2de)]({'request':_0xd08d90,'schema':N,'ClassRef':M,'execute':_0x102409=>O[_0x277f08(0x604)](_0x102409,_0x41e610)});_0x9ede96['status'](0xc8)[_0x277f08(0x2d2)](_0x25dd5e);})['post'](this[_0x3c8c5a(0x5dd)](_0x3c8c5a(0x802)),..._0x2283f3,async(_0x2e340a,_0x208093)=>{const _0x5e56de=_0x3c8c5a;let _0x397316=_0x2e340a[_0x5e56de(0x1e5)];y[_0x5e56de(0x83f)](_0x5e56de(0x5e4)),y[_0x5e56de(0x83f)](_0x5e56de(0x507)),y[_0x5e56de(0x83f)](_0x2e340a[_0x5e56de(0x1e5)]);let _0x5407d0=await this[_0x5e56de(0x2de)]({'request':_0x2e340a,'schema':N,'ClassRef':M,'execute':_0x5c2caf=>O['updateFlowConfig'](_0x5c2caf,_0x397316)});_0x208093['status'](0xc8)[_0x5e56de(0x2d2)](_0x5407d0);})['post'](this[_0x3c8c5a(0x5dd)](_0x3c8c5a(0x732)),..._0x2283f3,async(_0x26939e,_0x1ef706)=>{const _0x3fdf19=_0x3c8c5a;let _0x2ad799=_0x26939e[_0x3fdf19(0x1e5)];y[_0x3fdf19(0x83f)](_0x3fdf19(0x4a8)),y[_0x3fdf19(0x83f)](_0x3fdf19(0x507)),y[_0x3fdf19(0x83f)](_0x26939e[_0x3fdf19(0x1e5)]);let _0x39f42d=await this[_0x3fdf19(0x2de)]({'request':_0x26939e,'schema':N,'ClassRef':M,'execute':_0x5786cc=>O[_0x3fdf19(0x732)](_0x5786cc,_0x2ad799)});_0x1ef706[_0x3fdf19(0x5d6)](0xc8)[_0x3fdf19(0x2d2)](_0x39f42d);})[_0x3c8c5a(0x51c)](this[_0x3c8c5a(0x5dd)]('fetchConversation'),..._0x2283f3,async(_0x2b8aee,_0x4e5f74)=>{const _0xf82170=_0x3c8c5a;let _0x322d67=_0x2b8aee['body'];y[_0xf82170(0x83f)](_0xf82170(0x3d1)),y[_0xf82170(0x83f)](_0xf82170(0x507)),y[_0xf82170(0x83f)](_0x2b8aee[_0xf82170(0x1e5)]);let _0x84cf02=await this['dataValidate']({'request':_0x2b8aee,'schema':N,'ClassRef':M,'execute':_0x195ae6=>O['fetchConversation'](_0x195ae6,_0x322d67)});_0x4e5f74[_0xf82170(0x5d6)](0xc8)[_0xf82170(0x2d2)](_0x84cf02);})['post'](this[_0x3c8c5a(0x5dd)](_0x3c8c5a(0x55a)),..._0x2283f3,async(_0x545c5b,_0x362d41)=>{const _0x34485d=_0x3c8c5a;let _0xc0d6bb=_0x545c5b[_0x34485d(0x1e5)];y[_0x34485d(0x83f)](_0x34485d(0x3be)),y[_0x34485d(0x83f)]('request\x20body:\x20'),y[_0x34485d(0x83f)](_0x545c5b[_0x34485d(0x1e5)]);let _0x5a4257=await this[_0x34485d(0x2de)]({'request':_0x545c5b,'schema':N,'ClassRef':M,'execute':_0x29fefa=>O[_0x34485d(0x55a)](_0x29fefa,_0xc0d6bb)});_0x362d41[_0x34485d(0x5d6)](0xc8)[_0x34485d(0x2d2)](_0x5a4257);})[_0x3c8c5a(0x85f)](this[_0x3c8c5a(0x5dd)](_0x3c8c5a(0x4ce)),..._0x2283f3,async(_0x2aac35,_0x3ecd26)=>{const _0x132308=_0x3c8c5a;let _0x47011f=_0x2aac35[_0x132308(0x1e5)];y[_0x132308(0x83f)](_0x132308(0x8f0)),y[_0x132308(0x83f)](_0x132308(0x507)),y[_0x132308(0x83f)](_0x2aac35[_0x132308(0x1e5)]);let _0x4011a0=await this[_0x132308(0x2de)]({'request':_0x2aac35,'schema':N,'ClassRef':M,'execute':_0x598d3c=>O[_0x132308(0x4ce)](_0x598d3c,_0x47011f)});_0x3ecd26[_0x132308(0x5d6)](0xc8)[_0x132308(0x2d2)](_0x4011a0);})['post'](this[_0x3c8c5a(0x5dd)](_0x3c8c5a(0x8fe)),..._0x2283f3,async(_0x2b01e2,_0x141e47)=>{const _0xdce637=_0x3c8c5a;let _0x34eb04=_0x2b01e2[_0xdce637(0x1e5)],_0x246e52=_0x2b01e2[_0xdce637(0x769)][_0xdce637(0x30e)];y[_0xdce637(0x83f)]('request\x20received\x20in\x20createFlow'),y[_0xdce637(0x83f)](_0xdce637(0x507)),y[_0xdce637(0x83f)](_0x2b01e2['body']);let _0x4920dd=await this[_0xdce637(0x2de)]({'request':_0x2b01e2,'schema':N,'ClassRef':M,'execute':_0x5babea=>O['createFlow'](_0x5babea,_0x34eb04,_0x246e52)});_0x141e47['status'](0xc8)['json'](_0x4920dd);})[_0x3c8c5a(0x51c)](this[_0x3c8c5a(0x5dd)]('editflow'),..._0x2283f3,async(_0xd14a0d,_0x5ac857)=>{const _0x554d31=_0x3c8c5a;let _0x1be771=_0xd14a0d[_0x554d31(0x1e5)],_0x34b3d5=_0xd14a0d[_0x554d31(0x769)][_0x554d31(0x30e)];y['verbose'](_0x554d31(0x68d)),y[_0x554d31(0x83f)](_0x554d31(0x507)),y[_0x554d31(0x83f)](_0xd14a0d[_0x554d31(0x1e5)]),delete _0x1be771[_0x554d31(0x223)],delete _0x1be771[_0x554d31(0x513)],delete _0x1be771[_0x554d31(0x773)],delete _0x1be771['conditions'];let _0x493143=await this[_0x554d31(0x2de)]({'request':_0xd14a0d,'schema':N,'ClassRef':M,'execute':_0x19f141=>O[_0x554d31(0x4cd)](_0x19f141,_0x1be771,_0x34b3d5)});_0x5ac857[_0x554d31(0x5d6)](0xc8)[_0x554d31(0x2d2)](_0x493143);})[_0x3c8c5a(0x51c)](this[_0x3c8c5a(0x5dd)](_0x3c8c5a(0x200)),..._0x2283f3,async(_0x3eaa4b,_0x2326b6)=>{const _0x56c31e=_0x3c8c5a;let _0x5c0fcf=_0x3eaa4b[_0x56c31e(0x1e5)];y['verbose'](_0x56c31e(0x68d)),y[_0x56c31e(0x83f)](_0x56c31e(0x507)),y[_0x56c31e(0x83f)](_0x3eaa4b['body']);let _0x59dce8=await this[_0x56c31e(0x2de)]({'request':_0x3eaa4b,'schema':N,'ClassRef':M,'execute':_0x3ab7ee=>O[_0x56c31e(0x71e)](_0x3ab7ee,_0x5c0fcf)});_0x2326b6[_0x56c31e(0x5d6)](0xc8)[_0x56c31e(0x2d2)](_0x59dce8);})[_0x3c8c5a(0x51c)](this['routerPath'](_0x3c8c5a(0x3b2)),..._0x2283f3,async(_0x329a29,_0xc12cd8)=>{const _0x29a053=_0x3c8c5a;let _0x32e90=_0x329a29[_0x29a053(0x1e5)];y[_0x29a053(0x83f)](_0x29a053(0x68d)),y[_0x29a053(0x83f)]('request\x20body:\x20'),y[_0x29a053(0x83f)](_0x329a29[_0x29a053(0x1e5)]);let _0x386fc2=await this[_0x29a053(0x2de)]({'request':_0x329a29,'schema':N,'ClassRef':M,'execute':_0x333a5b=>O['editFlowReply'](_0x333a5b,_0x32e90)});_0xc12cd8[_0x29a053(0x5d6)](0xc8)[_0x29a053(0x2d2)](_0x386fc2);})[_0x3c8c5a(0x51c)](this['routerPath'](_0x3c8c5a(0x82b)),..._0x2283f3,async(_0x41c31a,_0x95c812)=>{const _0xa2452e=_0x3c8c5a;let _0x1d9de3=_0x41c31a['body'];y[_0xa2452e(0x83f)](_0xa2452e(0x68d)),y[_0xa2452e(0x83f)](_0xa2452e(0x507)),y[_0xa2452e(0x83f)](_0x41c31a[_0xa2452e(0x1e5)]);let _0x33462b=await this['dataValidate']({'request':_0x41c31a,'schema':N,'ClassRef':M,'execute':_0x22ed54=>O[_0xa2452e(0x463)](_0x22ed54,_0x1d9de3)});_0x95c812[_0xa2452e(0x5d6)](0xc8)[_0xa2452e(0x2d2)](_0x33462b);})[_0x3c8c5a(0x51c)](this[_0x3c8c5a(0x5dd)](_0x3c8c5a(0x339)),..._0x2283f3,async(_0x37473a,_0x297ec0)=>{const _0x5676fc=_0x3c8c5a;let _0x421db3=_0x37473a['body'];y[_0x5676fc(0x83f)](_0x5676fc(0x190)),y['verbose'](_0x5676fc(0x507)),y['verbose'](_0x37473a['body']);let _0x55402c=await this[_0x5676fc(0x2de)]({'request':_0x37473a,'schema':N,'ClassRef':M,'execute':_0x443b90=>O[_0x5676fc(0x71a)](_0x443b90,_0x421db3)});_0x297ec0[_0x5676fc(0x5d6)](0xc8)['json'](_0x55402c);})[_0x3c8c5a(0x51c)](this[_0x3c8c5a(0x5dd)]('editflowcondition'),..._0x2283f3,async(_0x4b2b87,_0x495744)=>{const _0x2097cb=_0x3c8c5a;let _0x2b9e5f=_0x4b2b87[_0x2097cb(0x1e5)];y['verbose'](_0x2097cb(0x245)),y[_0x2097cb(0x83f)]('request\x20body:\x20'),y['verbose'](_0x4b2b87[_0x2097cb(0x1e5)]);let _0x5cb5a6=await this['dataValidate']({'request':_0x4b2b87,'schema':N,'ClassRef':M,'execute':_0x3cf5c0=>O[_0x2097cb(0x79c)](_0x3cf5c0,_0x2b9e5f)});_0x495744[_0x2097cb(0x5d6)](0xc8)[_0x2097cb(0x2d2)](_0x5cb5a6);})['post'](this[_0x3c8c5a(0x5dd)]('editflowvariable'),..._0x2283f3,async(_0x3f58b5,_0x1037fd)=>{const _0x189ca8=_0x3c8c5a;let _0x573341=_0x3f58b5[_0x189ca8(0x1e5)];y[_0x189ca8(0x83f)](_0x189ca8(0x7da)),y[_0x189ca8(0x83f)](_0x189ca8(0x507)),y['verbose'](_0x3f58b5[_0x189ca8(0x1e5)]);let _0x5fe391=await this['dataValidate']({'request':_0x3f58b5,'schema':N,'ClassRef':M,'execute':_0x5c649c=>O['editFlowVariable'](_0x5c649c,_0x573341)});_0x1037fd[_0x189ca8(0x5d6)](0xc8)[_0x189ca8(0x2d2)](_0x5fe391);})[_0x3c8c5a(0x51c)](this['routerPath'](_0x3c8c5a(0x553)),..._0x2283f3,async(_0x5c289b,_0x18f862)=>{const _0x5a7656=_0x3c8c5a;let _0x26814c=_0x5c289b[_0x5a7656(0x1e5)];y[_0x5a7656(0x83f)](_0x5a7656(0x417)),y[_0x5a7656(0x83f)](_0x5a7656(0x507)),y[_0x5a7656(0x83f)](_0x5c289b[_0x5a7656(0x1e5)]);let _0x490970=await this[_0x5a7656(0x2de)]({'request':_0x5c289b,'schema':N,'ClassRef':M,'execute':_0x540dfb=>O[_0x5a7656(0x632)](_0x540dfb,_0x26814c)});_0x18f862[_0x5a7656(0x5d6)](0xc8)[_0x5a7656(0x2d2)](_0x490970);})[_0x3c8c5a(0x85f)](this[_0x3c8c5a(0x5dd)]('deleteflow'),..._0x2283f3,async(_0x28817e,_0xb1db1d)=>{const _0x3445e9=_0x3c8c5a;let _0x58ff0f=_0x28817e[_0x3445e9(0x1e5)];y[_0x3445e9(0x83f)](_0x3445e9(0x2fe)),y['verbose'](_0x3445e9(0x507)),y[_0x3445e9(0x83f)](_0x28817e[_0x3445e9(0x1e5)]);let _0x407da7=await this['dataValidate']({'request':_0x28817e,'schema':N,'ClassRef':M,'execute':_0x230051=>O[_0x3445e9(0x8c8)](_0x230051,_0x58ff0f)});_0xb1db1d[_0x3445e9(0x5d6)](0xc8)[_0x3445e9(0x2d2)](_0x407da7);})[_0x3c8c5a(0x5f0)](this[_0x3c8c5a(0x5dd)](_0x3c8c5a(0x5fd)),..._0x2283f3,async(_0x48325b,_0x2d55a5)=>{const _0x2e3413=_0x3c8c5a;y['verbose'](_0x2e3413(0x8a4));let _0x330c67=await this['dataValidate']({'request':_0x48325b,'schema':N,'ClassRef':M,'execute':_0x569443=>O[_0x2e3413(0x393)](_0x569443)});_0x2d55a5[_0x2e3413(0x5d6)](0xc8)[_0x2e3413(0x2d2)](_0x330c67);});}},Mi=T(require('path')),se={};function yi(_0x41f988,_0x571b59,_0x31ff0d,_0x388237){se[_0x41f988]||(se[_0x41f988]={}),se[_0x41f988][_0x571b59]={'id':_0x571b59,'response':_0x31ff0d,'events':_0x388237};}function bi(_0x4c488b,_0x5aecc5){!se[_0x4c488b]||!se[_0x4c488b][_0x5aecc5]||delete se[_0x4c488b][_0x5aecc5];}function F(_0x2eaeea,_0x2937de,_0xfd04de){const _0x5bf8e1=a0_0x4c01ce;if(!se[_0x2eaeea])return;let _0x38e8de='data:\x20'+JSON[_0x5bf8e1(0x1af)](_0xfd04de)+'\x0a\x0a';Object[_0x5bf8e1(0x3a3)](se[_0x2eaeea])[_0x5bf8e1(0x68b)](_0x1bd9e5=>{const _0xf795f4=_0x5bf8e1;_0x1bd9e5[_0xf795f4(0x272)][_0xf795f4(0x570)](_0x2937de)&&_0x1bd9e5['response'][_0xf795f4(0x81b)](_0x38e8de);});}function Si(){const _0x2c9b32=a0_0x4c01ce;let _0x1338b7={};for(let _0x1939ff in se)_0x1338b7[_0x1939ff]=Object['values'](se[_0x1939ff])[_0x2c9b32(0x37b)](_0x43ab32=>({'id':_0x43ab32['id'],'events':_0x43ab32[_0x2c9b32(0x272)]}));return _0x1338b7;}var Ci=require('uuid'),Ts=require('mongoose'),Is=class{},Io=new Ts['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),To=new Ts[(a0_0x4c01ce(0x490))]({'_id':{'type':String,'default':a0_0x4c01ce(0x588)},'WebhookGlobal':{'type':Io},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ve=I?.['model'](Is[a0_0x4c01ce(0x1b3)],To,'All_Instances_Config'),_o=Mi[a0_0x4c01ce(0x831)][a0_0x4c01ce(0x78e)](__dirname,a0_0x4c01ce(0x32d)),ke=(0x0,Ot['Router'])(),Oo=S['get']('AUTHENTICATION')[a0_0x4c01ce(0x24f)],re=[Aa,Ia,Oa[Oo]];ke['use'](a0_0x4c01ce(0x79d),Ot[a0_0x4c01ce(0x831)][a0_0x4c01ce(0x2cd)](_o))[a0_0x4c01ce(0x5f0)](a0_0x4c01ce(0x873),async(_0x11529d,_0xc8272d)=>{const _0x4d1ba6=a0_0x4c01ce;console[_0x4d1ba6(0x1a6)](_0x4d1ba6(0x38f));let _0x23d028=_0x11529d['params']['instance'],_0x285d28=(_0x11529d[_0x4d1ba6(0x508)][_0x4d1ba6(0x272)]||'')[_0x4d1ba6(0x85e)](','),_0x44ccdd=(0x0,Ci['v4'])();console[_0x4d1ba6(0x1a6)]('Instance\x20ID:',_0x23d028),console['log'](_0x4d1ba6(0x2ef),_0x285d28);let _0x11fb1d=S[_0x4d1ba6(0x5f0)](_0x4d1ba6(0x489))[_0x4d1ba6(0x5c6)],_0xeea552=_0x11529d[_0x4d1ba6(0x508)][_0x4d1ba6(0x30e)];if(console[_0x4d1ba6(0x1a6)](_0x4d1ba6(0x8b0),_0xeea552),_0x11fb1d[_0x4d1ba6(0x3e0)]!==_0xeea552){console[_0x4d1ba6(0x1a6)](_0x4d1ba6(0x2dd));try{let _0x24b14e=await fe[_0x4d1ba6(0x7ba)][_0x4d1ba6(0x361)](_0x23d028);if(console[_0x4d1ba6(0x1a6)]('Instance\x20Key\x20from\x20DB:',_0x24b14e),!_0x24b14e||_0x24b14e['apikey']!==_0xeea552)return console[_0x4d1ba6(0x1a6)](_0x4d1ba6(0x468)),_0xc8272d[_0x4d1ba6(0x5d6)](0x191)[_0x4d1ba6(0x27b)](_0x4d1ba6(0x410));}catch(_0x5e66dd){return console[_0x4d1ba6(0x82d)](_0x4d1ba6(0x60f),_0x5e66dd),_0xc8272d[_0x4d1ba6(0x5d6)](0x191)[_0x4d1ba6(0x27b)]('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await _e(_0x23d028))return _0xc8272d[_0x4d1ba6(0x5d6)](0x194)['send'](_0x4d1ba6(0x2d5));_0xc8272d[_0x4d1ba6(0x77d)](_0x4d1ba6(0x381),_0x4d1ba6(0x54e)),_0xc8272d[_0x4d1ba6(0x77d)](_0x4d1ba6(0x1a0),'no-cache'),_0xc8272d[_0x4d1ba6(0x77d)]('Connection',_0x4d1ba6(0x50e)),_0xc8272d[_0x4d1ba6(0x66f)]();let _0x1f00ba=_0x4d1ba6(0x3ef)+JSON[_0x4d1ba6(0x1af)]({'info':_0x4d1ba6(0x4ec)})+'\x0a\x0a';_0xc8272d['write'](_0x1f00ba),yi(_0x23d028,_0x44ccdd,_0xc8272d,_0x285d28),_0x11529d['on']('close',()=>{const _0x334671=_0x4d1ba6;console['log'](_0x334671(0x4e8)+_0x23d028),bi(_0x23d028,_0x44ccdd);});}),ke['post'](a0_0x4c01ce(0x89e),async(_0x3cba34,_0x5ee68c)=>{const _0x2a69cd=a0_0x4c01ce;console['log'](_0x2a69cd(0x677));let _0x381910=_0x3cba34['params'][_0x2a69cd(0x278)],_0x3572c3=_0x3cba34[_0x2a69cd(0x6c0)]['startID'],_0x28f31f=_0x3cba34[_0x2a69cd(0x508)][_0x2a69cd(0x7df)]||'',_0x4e003d=_0x3cba34[_0x2a69cd(0x1e5)];console[_0x2a69cd(0x1a6)](_0x2a69cd(0x293),_0x381910),console[_0x2a69cd(0x1a6)](_0x2a69cd(0x746),_0x3572c3),console[_0x2a69cd(0x1a6)](_0x2a69cd(0x380),_0x28f31f),console[_0x2a69cd(0x1a6)]('Request\x20Body:',_0x4e003d);try{if(!await _e(_0x381910))return _0x5ee68c[_0x2a69cd(0x5d6)](0x194)['send']('Instância\x20não\x20encontrada.');let _0x3a342b=await O[_0x2a69cd(0x87f)](_0x381910,_0x3572c3,_0x28f31f,_0x4e003d);_0x5ee68c[_0x2a69cd(0x27b)](_0x3a342b);}catch(_0x9aed72){console[_0x2a69cd(0x82d)](_0x9aed72),_0x5ee68c[_0x2a69cd(0x5d6)](0x1f4)[_0x2a69cd(0x27b)](_0x2a69cd(0x2f8));}}),ke[a0_0x4c01ce(0x5f0)]('/clients-info',(_0x437739,_0x2bafed)=>{const _0x1230b7=a0_0x4c01ce;let _0x2b583d=Si();_0x2bafed[_0x1230b7(0x2d2)](_0x2b583d);})['get']('/',(_0x50a954,_0x5a4d07)=>{const _0x33ad03=a0_0x4c01ce;let _0x4739a3=S[_0x33ad03(0x5f0)](_0x33ad03(0x3c8))[_0x33ad03(0x69b)];if(_0x4739a3){let _0x58d842=encodeURIComponent(''+_0x4739a3);_0x5a4d07[_0x33ad03(0x8f5)](_0x33ad03(0x21b)+_0x58d842);return;}let _0x367858=S['get'](_0x33ad03(0x458)),_0x46a922=_0x367858&&_0x367858[_0x33ad03(0x820)][_0x33ad03(0x85e)]('/')[0x4];if(_0x46a922){let _0x413bab=encodeURIComponent(_0x33ad03(0x2e9)+_0x46a922);_0x5a4d07['redirect']('https://uazapi-plugin.bubbleapps.io/?url='+_0x413bab);}else _0x5a4d07[_0x33ad03(0x8f5)]('https://uazapi-plugin.bubbleapps.io/');})['put']('/exit',...re,async(_0x1da3a2,_0x20123b)=>{const _0x2cdad8=a0_0x4c01ce;try{console[_0x2cdad8(0x1a6)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x20123b[_0x2cdad8(0x5d6)](0xc8)[_0x2cdad8(0x2d2)]({'message':_0x2cdad8(0x5ec)}),_0x20123b['on'](_0x2cdad8(0x45e),()=>process[_0x2cdad8(0x1aa)](0x0));}catch(_0x55dd75){console[_0x2cdad8(0x82d)](_0x2cdad8(0x2b5),_0x55dd75),_0x20123b[_0x2cdad8(0x5d6)](0x1f4)['json']({'message':_0x2cdad8(0x38b)});}})[a0_0x4c01ce(0x692)](a0_0x4c01ce(0x6bd),...re,async(_0x42bfea,_0x5d4e39)=>{const _0x44cea8=a0_0x4c01ce;try{let _0x1d9a6a=_0x42bfea[_0x44cea8(0x1e5)];await ve[_0x44cea8(0x3e7)]({},{'$set':_0x1d9a6a},{'upsert':!0x0});let _0x4c5e94=await ve[_0x44cea8(0x280)]();_0x5d4e39['json'](_0x4c5e94);}catch(_0x22513b){_0x5d4e39[_0x44cea8(0x5d6)](0x190)[_0x44cea8(0x27b)](_0x22513b[_0x44cea8(0x7c9)]);}})[a0_0x4c01ce(0x5f0)](a0_0x4c01ce(0x6bd),...re,async(_0x34a396,_0x393a60)=>{const _0x3e45da=a0_0x4c01ce;try{let _0x2c1396=await ve[_0x3e45da(0x280)]();if(!_0x2c1396)return _0x393a60[_0x3e45da(0x2d2)]({});_0x393a60['json'](_0x2c1396);}catch(_0x2a3742){_0x393a60[_0x3e45da(0x5d6)](0x1f4)[_0x3e45da(0x27b)](_0x2a3742[_0x3e45da(0x7c9)]);}})['use']('/instance',new yt(S,...re)[a0_0x4c01ce(0x446)])[a0_0x4c01ce(0x752)](a0_0x4c01ce(0x689),new At(...re)[a0_0x4c01ce(0x446)])[a0_0x4c01ce(0x752)](a0_0x4c01ce(0x511),new ct(...re)[a0_0x4c01ce(0x446)])[a0_0x4c01ce(0x752)](a0_0x4c01ce(0x5eb),new wt(...re)[a0_0x4c01ce(0x446)])['use']('/webhook',new Tt(...re)[a0_0x4c01ce(0x446)])[a0_0x4c01ce(0x752)]('/automate',new _t(...re)[a0_0x4c01ce(0x446)]);var m=class{constructor(..._0x456984){const _0x18a575=a0_0x4c01ce;throw{'status':0x190,'error':_0x18a575(0x6c1),'message':_0x456984['length']>0x0?_0x456984:void 0x0};}},ie=class{constructor(..._0x17c1a8){const _0x2165ce=a0_0x4c01ce;throw{'status':0x191,'error':_0x2165ce(0x41c),'message':_0x17c1a8[_0x2165ce(0x72e)]>0x0?_0x17c1a8:void 0x0};}},Z=class{constructor(..._0x3a0f43){const _0x17ed41=a0_0x4c01ce;throw{'status':0x193,'error':_0x17ed41(0x86e),'message':_0x3a0f43[_0x17ed41(0x72e)]>0x0?_0x3a0f43:void 0x0};}},U=class{constructor(..._0x73e7cb){const _0x2a45e6=a0_0x4c01ce;throw{'status':0x194,'error':_0x2a45e6(0x2f9),'message':_0x73e7cb[_0x2a45e6(0x72e)]>0x0?_0x73e7cb:void 0x0};}},x=class{constructor(..._0xc4aea9){const _0x20c10e=a0_0x4c01ce;throw{'status':0x1f4,'error':_0x20c10e(0x8c4),'message':_0xc4aea9[_0x20c10e(0x72e)]>0x0?_0xc4aea9:void 0x0};}},we=require(a0_0x4c01ce(0x853));async function _s(_0x273535){const _0xa3ac1f=a0_0x4c01ce;let _0x1b3210=new $(_s[_0xa3ac1f(0x1b3)]),_0x58427c=I[_0xa3ac1f(0x18b)](),_0x218280=_0x58427c['db'](S[_0xa3ac1f(0x5f0)](_0xa3ac1f(0x35c))[_0xa3ac1f(0x416)][_0xa3ac1f(0x743)]+_0xa3ac1f(0x325))[_0xa3ac1f(0x1c3)](_0x273535),_0xfaf772=async(_0x2e253e,_0x10d452)=>{const _0x69cbb1=_0xa3ac1f;try{return await _0x58427c['connect'](),await _0x218280[_0x69cbb1(0x2db)]({'_id':_0x10d452},JSON[_0x69cbb1(0x2c1)](JSON[_0x69cbb1(0x1af)](_0x2e253e,we['BufferJSON']['replacer'])),{'upsert':!0x0});}catch{}},_0x5cfeb9=async _0x11c382=>{const _0x453cc6=_0xa3ac1f;try{await _0x58427c['connect']();let _0x2fb970=await _0x218280[_0x453cc6(0x280)]({'_id':_0x11c382}),_0x3779c7=JSON[_0x453cc6(0x1af)](_0x2fb970);return JSON[_0x453cc6(0x2c1)](_0x3779c7,we[_0x453cc6(0x646)][_0x453cc6(0x7ac)]);}catch{}},_0x1bfa03=async _0x3913f1=>{const _0x5a5922=_0xa3ac1f;try{return await _0x58427c[_0x5a5922(0x717)](),await _0x218280[_0x5a5922(0x330)]({'_id':_0x3913f1});}catch{}},_0x189d90=await _0x5cfeb9(_0xa3ac1f(0x8ad))||(0x0,we[_0xa3ac1f(0x75f)])();return{'state':{'creds':_0x189d90,'keys':{'get':async(_0x203769,_0x4bd39f)=>{const _0x1429e1=_0xa3ac1f;let _0x272554={};return await Promise[_0x1429e1(0x1be)](_0x4bd39f[_0x1429e1(0x37b)](async _0x4c4db3=>{const _0x1b8c99=_0x1429e1;let _0x47dc24=await _0x5cfeb9(_0x203769+'-'+_0x4c4db3);_0x203769===_0x1b8c99(0x7dc)&&_0x47dc24&&(_0x47dc24=we[_0x1b8c99(0x430)][_0x1b8c99(0x644)][_0x1b8c99(0x760)][_0x1b8c99(0x31a)](_0x47dc24)),_0x272554[_0x4c4db3]=_0x47dc24;})),_0x272554;},'set':async _0x1d0e1b=>{const _0x4a4ac1=_0xa3ac1f;let _0x42fc1e=[];for(let _0x5bb806 in _0x1d0e1b)for(let _0x4a8944 in _0x1d0e1b[_0x5bb806]){let _0x169c03=_0x1d0e1b[_0x5bb806][_0x4a8944],_0x2c2f9a=_0x5bb806+'-'+_0x4a8944;_0x42fc1e[_0x4a4ac1(0x835)](_0x169c03?_0xfaf772(_0x169c03,_0x2c2f9a):_0x1bfa03(_0x2c2f9a));}await Promise[_0x4a4ac1(0x1be)](_0x42fc1e);}}},'saveCreds':async()=>_0xfaf772(_0x189d90,_0xa3ac1f(0x8ad))};}var ks=T(require(a0_0x4c01ce(0x418))),Ls=T(require(a0_0x4c01ce(0x792))),Dt=require(a0_0x4c01ce(0x853)),Ei=require(a0_0x4c01ce(0x64b)),Pt=require(a0_0x4c01ce(0x853)),xt;function xo(_0x597f77){const _0x111d0a=a0_0x4c01ce;return xt||(xt=(0x0,Ei[_0x111d0a(0x370)])({'url':_0x597f77[_0x111d0a(0x497)]}),xt[_0x111d0a(0x717)]()),xt;}var pe=class u{constructor(_0x5256e1,_0xc29804){const _0x394757=a0_0x4c01ce;this['redisEnv']=_0x5256e1,this[_0x394757(0x492)]=_0xc29804,this['logger']=new $(u['name']),this['client']=xo(_0x5256e1);}set['reference'](_0x346911){const _0x20c20c=a0_0x4c01ce;this[_0x20c20c(0x492)]=_0x346911;}async[a0_0x4c01ce(0x29d)](){const _0x173b6a=a0_0x4c01ce;try{return await this[_0x173b6a(0x2aa)][_0x173b6a(0x4cb)](['keys',this[_0x173b6a(0x69f)]['PREFIX_KEY']+':*']);}catch(_0x458d0d){this[_0x173b6a(0x42f)][_0x173b6a(0x82d)](_0x458d0d);}}async['writeData'](_0x346a91,_0xc095f){const _0x5561f5=a0_0x4c01ce;try{let _0x1a4fce=JSON[_0x5561f5(0x1af)](_0xc095f,Pt[_0x5561f5(0x646)][_0x5561f5(0x1cc)]);return await this[_0x5561f5(0x2aa)][_0x5561f5(0x5c0)](this['redisEnv'][_0x5561f5(0x7e5)]+':'+this['instanceName'],_0x346a91,_0x1a4fce);}catch(_0x5bf8b0){this[_0x5561f5(0x42f)][_0x5561f5(0x82d)](_0x5bf8b0);}}async[a0_0x4c01ce(0x8b2)](){const _0x55f854=a0_0x4c01ce;try{let _0x1dbc11=await this[_0x55f854(0x2aa)]['hGetAll'](this[_0x55f854(0x69f)][_0x55f854(0x7e5)]+':'+this[_0x55f854(0x492)]);if(_0x1dbc11){for(let _0x4f20d8 in _0x1dbc11)Object[_0x55f854(0x8ae)][_0x55f854(0x8e6)][_0x55f854(0x1bf)](_0x1dbc11,_0x4f20d8)&&(_0x1dbc11[_0x4f20d8]=JSON[_0x55f854(0x2c1)](_0x1dbc11[_0x4f20d8],Pt[_0x55f854(0x646)][_0x55f854(0x7ac)]));return _0x1dbc11;}}catch(_0x2bacb8){this[_0x55f854(0x42f)][_0x55f854(0x82d)](_0x2bacb8);}}async['readData'](_0x59a4cc){const _0x2ef2e9=a0_0x4c01ce;try{let _0x35c511=await this[_0x2ef2e9(0x2aa)][_0x2ef2e9(0x3a9)](this[_0x2ef2e9(0x69f)][_0x2ef2e9(0x7e5)]+':'+this[_0x2ef2e9(0x492)],_0x59a4cc);if(_0x35c511)return JSON[_0x2ef2e9(0x2c1)](_0x35c511,Pt[_0x2ef2e9(0x646)]['reviver']);}catch(_0x143196){this[_0x2ef2e9(0x42f)][_0x2ef2e9(0x82d)](_0x143196);}}async[a0_0x4c01ce(0x48e)](_0x2a6698){const _0x59812c=a0_0x4c01ce;try{return await this[_0x59812c(0x2aa)][_0x59812c(0x1ae)](this['redisEnv']['PREFIX_KEY']+':'+this[_0x59812c(0x492)],_0x2a6698);}catch(_0x464702){this[_0x59812c(0x42f)]['error'](_0x464702);}}async['delAll'](_0x480b19){const _0x2dfad4=a0_0x4c01ce;try{return await this[_0x2dfad4(0x2aa)][_0x2dfad4(0x45a)](_0x480b19||this[_0x2dfad4(0x69f)][_0x2dfad4(0x7e5)]+':'+this[_0x2dfad4(0x492)]);}catch(_0x3d840c){this[_0x2dfad4(0x42f)][_0x2dfad4(0x82d)](_0x3d840c);}}};async function Os(_0x2384a8,_0x43b986){const _0x108457=a0_0x4c01ce;let _0x1e5cf7=new $(Os[_0x108457(0x1b3)]),_0x540126=new pe(_0x2384a8,_0x43b986),_0x5d4636=async(_0x3d1b74,_0x6bd424)=>{const _0x5e85d6=_0x108457;try{return await _0x540126[_0x5e85d6(0x7f1)](_0x6bd424,_0x3d1b74);}catch(_0x59f066){return _0x1e5cf7['error']({'localError':_0x5e85d6(0x7f1),'error':_0x59f066});}},_0x2b7b00=async _0x4924fc=>{const _0xff9cf3=_0x108457;try{return await _0x540126['readData'](_0x4924fc);}catch(_0x169bb4){_0x1e5cf7[_0xff9cf3(0x82d)]({'readData':_0xff9cf3(0x7f1),'error':_0x169bb4});return;}},_0x1f0c74=async _0x3fcb27=>{const _0x68d8bb=_0x108457;try{return await _0x540126['removeData'](_0x3fcb27);}catch(_0x2584ae){_0x1e5cf7['error']({'readData':_0x68d8bb(0x48e),'error':_0x2584ae});}},_0x227049=await _0x2b7b00('creds')||(0x0,Dt[_0x108457(0x75f)])();return{'state':{'creds':_0x227049,'keys':{'get':async(_0xc17587,_0x58b796)=>{const _0x5e6dfe=_0x108457;let _0x8b1c3={};return await Promise[_0x5e6dfe(0x1be)](_0x58b796['map'](async _0x5e7156=>{const _0x51b5c8=_0x5e6dfe;let _0x10d324=await _0x2b7b00(_0xc17587+'-'+_0x5e7156);_0xc17587===_0x51b5c8(0x7dc)&&_0x10d324&&(_0x10d324=Dt[_0x51b5c8(0x430)][_0x51b5c8(0x644)][_0x51b5c8(0x760)][_0x51b5c8(0x31a)](_0x10d324)),_0x8b1c3[_0x5e7156]=_0x10d324;})),_0x8b1c3;},'set':async _0x349424=>{let _0xbe85=[];for(let _0xcdfc06 in _0x349424)for(let _0x288a2a in _0x349424[_0xcdfc06]){let _0x17b922=_0x349424[_0xcdfc06][_0x288a2a],_0x5b9fb7=_0xcdfc06+'-'+_0x288a2a;_0xbe85['push'](_0x17b922?await _0x5d4636(_0x17b922,_0x5b9fb7):await _0x1f0c74(_0x5b9fb7));}await Promise['all'](_0xbe85);}}},'saveCreds':async()=>await _0x5d4636(_0x227049,'creds')};}var k=T(require('fs')),Y=require('uuid'),Ut=T(require('sharp')),ne=require('crypto'),vi=require(a0_0x4c01ce(0x844)),Ni=require(a0_0x4c01ce(0x84e)),$i=T(require(a0_0x4c01ce(0x1c2))),Ne=class extends _{constructor(_0x79cb92,_0x235d6b,_0x57e43b){const _0x4d1ebe=a0_0x4c01ce;super(_0x235d6b),this[_0x4d1ebe(0x3fd)]=_0x79cb92,this[_0x4d1ebe(0x415)]=_0x235d6b,this[_0x4d1ebe(0x6b5)]=_0x57e43b;}async[a0_0x4c01ce(0x33a)](_0x1b3572,_0x7d6824){const _0x22f34b=a0_0x4c01ce;try{if(this[_0x22f34b(0x1b9)][_0x22f34b(0x25d)]){console[_0x22f34b(0x1a6)](_0x22f34b(0x7e3)+_0x7d6824+_0x22f34b(0x36c),_0x1b3572);let _0x2be9b8=await this[_0x22f34b(0x3fd)][_0x22f34b(0x741)]({'_id':_0x7d6824},{'$set':_0x1b3572},{'new':!0x0,'upsert':!0x0});return console[_0x22f34b(0x1a6)]('Database\x20update\x20result:',_0x2be9b8),_0x2be9b8;}}catch(_0x1f5498){throw console[_0x22f34b(0x82d)](_0x22f34b(0x5ea),_0x1f5498),_0x1f5498;}return null;}async[a0_0x4c01ce(0x330)](_0x517d72){const _0x2c2cc4=a0_0x4c01ce;try{let _0x3623ee=A(_0x517d72['where']);return{'deletedCount':(await this[_0x2c2cc4(0x3fd)][_0x2c2cc4(0x330)](_0x3623ee))[_0x2c2cc4(0x3e1)]};}catch(_0x2942f2){return{'error':_0x2942f2?.[_0x2c2cc4(0x7b0)]()};}}async[a0_0x4c01ce(0x280)](_0x3fe716){const _0x535ba8=a0_0x4c01ce;try{let _0x3dc26c=A(_0x3fe716[_0x535ba8(0x2c6)]);return await this['cacheInstanceModel'][_0x535ba8(0x280)](_0x3dc26c)['lean']();}catch{return null;}}},kt=(0x0,Ni[a0_0x4c01ce(0x552)])(vi[a0_0x4c01ce(0x6d1)]),Po=S[a0_0x4c01ce(0x5f0)](a0_0x4c01ce(0x702)),xs=class{constructor(){const _0x2a9099=a0_0x4c01ce;this[_0x2a9099(0x724)]=new Ne(Be,S),(!this['ipv6Prefix']||!this['networkInterface'])&&Po&&this[_0x2a9099(0x8fb)]()[_0x2a9099(0x5d2)](()=>{const _0x1f8ae7=_0x2a9099;console[_0x1f8ae7(0x1a6)](_0x1f8ae7(0x6a6)+this[_0x1f8ae7(0x7fd)]),console[_0x1f8ae7(0x1a6)](_0x1f8ae7(0x3e9)+this['networkInterface']);})[_0x2a9099(0x6ec)](_0xdfb03f=>{const _0x1883c3=_0x2a9099;console['error'](_0x1883c3(0x491)+_0xdfb03f[_0x1883c3(0x7c9)]);});}async[a0_0x4c01ce(0x8fb)](){const _0x5c8bab=a0_0x4c01ce;try{let {stdout:_0x3d7190}=await kt(_0x5c8bab(0x577));console[_0x5c8bab(0x1a6)](_0x5c8bab(0x2d1)+_0x3d7190);let _0x260b68=_0x3d7190[_0x5c8bab(0x85e)]('\x0a')[_0x5c8bab(0x37b)](_0x33274b=>_0x33274b['split']('\x20')[0x0])[_0x5c8bab(0x58d)](_0x44af59=>!_0x44af59[_0x5c8bab(0x570)]('lo')&&!_0x44af59[_0x5c8bab(0x570)](_0x5c8bab(0x1a7))&&!_0x44af59[_0x5c8bab(0x570)](_0x5c8bab(0x565))&&!_0x44af59[_0x5c8bab(0x570)]('wl')&&!_0x44af59[_0x5c8bab(0x570)]('@'));if(console[_0x5c8bab(0x1a6)](_0x5c8bab(0x220)+_0x260b68),_0x260b68[_0x5c8bab(0x72e)]===0x0)throw new Error(_0x5c8bab(0x243));this[_0x5c8bab(0x78b)]=_0x260b68[0x0];let {stdout:_0x284878}=await kt(_0x5c8bab(0x292)+this[_0x5c8bab(0x78b)]);console[_0x5c8bab(0x1a6)](_0x5c8bab(0x2f0)+_0x284878);let _0x4186e3=_0x284878['split']('\x0a')['find'](_0x39790d=>_0x39790d[_0x5c8bab(0x570)]('inet6')&&_0x39790d['includes'](_0x5c8bab(0x403)));if(!_0x4186e3)throw new Error(_0x5c8bab(0x843));let _0x30b529=_0x4186e3['match'](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x30b529)throw new Error('Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address');let [_0x1bfffe,_0x3b1b9c,_0x7963ce]=_0x30b529,_0x28aa32=Math[_0x5c8bab(0x279)](Number(_0x7963ce)/0x10),_0x2db58a=Number(_0x7963ce)%0x10,_0x44b00c=_0x3b1b9c['split'](':')['slice'](0x0,_0x28aa32)[_0x5c8bab(0x78e)](':');if(_0x2db58a>0x0){let _0x10b71d=_0x3b1b9c[_0x5c8bab(0x85e)](':')[_0x28aa32],_0x2e2bc8=0xffff<<0x10-_0x2db58a&0xffff,_0x673d5a=(parseInt(_0x10b71d,0x10)&_0x2e2bc8)[_0x5c8bab(0x7b0)](0x10)[_0x5c8bab(0x19b)](0x4,'0');_0x44b00c+=':'+_0x673d5a;}this[_0x5c8bab(0x7fd)]=_0x44b00c+':';}catch(_0x434b82){console[_0x5c8bab(0x82d)]('Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:',_0x434b82);}}async['configureIPv6'](_0x5e6d80){const _0x4df8e2=a0_0x4c01ce;let _0x130ad6=_0x4df8e2(0x258)+_0x5e6d80+'/64\x20dev\x20'+this[_0x4df8e2(0x78b)];try{await kt(_0x130ad6),console[_0x4df8e2(0x1a6)]('IPv6\x20address\x20configured:\x20'+_0x5e6d80);}catch(_0xadaafc){console[_0x4df8e2(0x82d)](_0x4df8e2(0x7cb)+_0xadaafc);}}async[a0_0x4c01ce(0x2a5)](_0x1b1fa1){const _0x515287=a0_0x4c01ce;let _0x31bbf5=_0x515287(0x7d3)+_0x1b1fa1+_0x515287(0x584)+this['networkInterface'];try{await kt(_0x31bbf5),console['log'](_0x515287(0x5ae)+_0x1b1fa1);}catch(_0xd30b79){console[_0x515287(0x82d)](_0x515287(0x50f)+_0xd30b79);}}[a0_0x4c01ce(0x8ba)](){const _0x5b04f9=a0_0x4c01ce;return _0x5b04f9(0x3e2)[_0x5b04f9(0x7ea)](/X/g,()=>_0x5b04f9(0x878)[_0x5b04f9(0x8b6)](Math[_0x5b04f9(0x279)](Math[_0x5b04f9(0x88c)]()*0x10)));}[a0_0x4c01ce(0x2f4)](_0x970d85,_0xda122c){const _0x1afc97=a0_0x4c01ce;let _0x8535c8=_0xda122c[_0x1afc97(0x85e)](':');return _0x8535c8[0x0]=(parseInt(_0x8535c8[0x0],0x10)^0x2)[_0x1afc97(0x7b0)](0x10)['padStart'](0x2,'0'),''+_0x970d85+_0x8535c8[0x0]+_0x8535c8[0x1]+':'+_0x8535c8[0x2]+_0x1afc97(0x338)+_0x8535c8[0x3]+':'+_0x8535c8[0x4]+_0x8535c8[0x5];}[a0_0x4c01ce(0x319)](){const _0x463c3e=a0_0x4c01ce;let _0x2eb748=this[_0x463c3e(0x7fd)];_0x2eb748[_0x463c3e(0x63d)](':')||(_0x2eb748+=':');let _0x4768e6=this['randomMac']();return this[_0x463c3e(0x2f4)](_0x2eb748,_0x4768e6);}['isValidIPv6Config'](_0x2c46c1){const _0x2de9f5=a0_0x4c01ce;return new RegExp('^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$')[_0x2de9f5(0x846)](_0x2c46c1);}async[a0_0x4c01ce(0x526)](_0xde2b79){const _0x4ebea8=a0_0x4c01ce;let _0x6f3a8f=[{'url':_0x4ebea8(0x5ac),'parse':_0x36fe6=>_0x36fe6['ip']},{'url':_0x4ebea8(0x542),'parse':_0x2b7515=>_0x2b7515['ip']},{'url':_0x4ebea8(0x296),'parse':_0x3fe435=>_0x3fe435[_0x4ebea8(0x67e)]()},{'url':'https://v6.ident.me','parse':_0x21d4e0=>_0x21d4e0[_0x4ebea8(0x67e)]()}],_0x3ee2a5=_0x6f3a8f[Math['floor'](Math[_0x4ebea8(0x88c)]()*_0x6f3a8f[_0x4ebea8(0x72e)])];try{let _0x1a1c4f=await $i[_0x4ebea8(0x831)][_0x4ebea8(0x5f0)](_0x3ee2a5['url'],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0xde2b79}}),_0x1ad7bd=_0x3ee2a5[_0x4ebea8(0x2c1)](_0x1a1c4f[_0x4ebea8(0x80d)]);return _0x1ad7bd['toLowerCase']()===_0xde2b79[_0x4ebea8(0x25b)]()?(console[_0x4ebea8(0x1a6)](_0x4ebea8(0x42d)+_0xde2b79),!0x0):(console['error'](_0x4ebea8(0x6fc)+_0xde2b79+_0x4ebea8(0x29e)+_0x1ad7bd),!0x1);}catch(_0x20b5a5){return console[_0x4ebea8(0x82d)](_0x4ebea8(0x545)+_0x3ee2a5[_0x4ebea8(0x8b1)]+':\x20'+_0x20b5a5['message']),!0x1;}}async[a0_0x4c01ce(0x575)](_0x4d09e3,_0x1bed00){const _0x3a5ca9=a0_0x4c01ce;if(!this['ipv6Prefix']||!this[_0x3a5ca9(0x78b)])return console['error'](_0x3a5ca9(0x79b)),null;let _0x4c86ca;do _0x4c86ca=this[_0x3a5ca9(0x319)](),console[_0x3a5ca9(0x1a6)](_0x3a5ca9(0x88f)+_0x4c86ca);while(!await this[_0x3a5ca9(0x7c3)](_0x4c86ca));await this[_0x3a5ca9(0x569)](_0x4c86ca),console[_0x3a5ca9(0x1a6)](_0x3a5ca9(0x385)+_0x4c86ca);let _0x5b33a5={'_id':_0x4d09e3+'-'+_0x1bed00,'ip':_0x4c86ca},_0x5d0c09=await this[_0x3a5ca9(0x724)][_0x3a5ca9(0x33a)](_0x5b33a5,_0x5b33a5['_id']);return console[_0x3a5ca9(0x1a6)](_0x3a5ca9(0x63c)+_0x5d0c09),_0x4c86ca;}async['isValidAndUniqueIPv6'](_0x1f21b1){const _0x186ccc=a0_0x4c01ce;return this['isValidIPv6Config'](_0x1f21b1)?!await this[_0x186ccc(0x724)][_0x186ccc(0x280)]({'where':{'ip':_0x1f21b1}}):!0x1;}async['removeIPv6ById'](_0x513004,_0x41601f){const _0x74c9b0=a0_0x4c01ce;let _0x3c4295=_0x513004+'-'+_0x41601f,_0x3d665d=await this['cacheInstanceRepository'][_0x74c9b0(0x280)]({'where':{'_id':_0x3c4295}});_0x3d665d&&_0x3d665d['ip']&&(await this['removeIPv6'](_0x3d665d['ip']),await this[_0x74c9b0(0x724)]['deleteOne']({'where':{'_id':_0x3c4295}}));}},Do=new xs(),ae=Do,Fs='Safari',xi,he=null,xa=null,ko=0x3,Lo=null,Ri=S[a0_0x4c01ce(0x5f0)]('AUTHENTICATION')[a0_0x4c01ce(0x5c6)]['KEY'],Ai=S[a0_0x4c01ce(0x5f0)](a0_0x4c01ce(0x702));async function Fo(){const _0x4e89d0=a0_0x4c01ce;let _0x4d7530=await ve['findOne']();he=_0x4d7530?.[_0x4e89d0(0x684)]??null,Lo=_0x4d7530?.['DaysToDelete']??null,Fs=_0x4d7530?.['connectedClient']??_0x4e89d0(0x874),xi=_0x4d7530?.[_0x4e89d0(0x55e)]??B??_0x4e89d0(0x86a);}async function Uo(){await Fo();}Uo();var Lt={},$e=class u{constructor(_0x3d9642,_0x81ae78,_0x4688f1){const _0xf2b211=a0_0x4c01ce;this['configService']=_0x3d9642,this[_0xf2b211(0x8af)]=_0x81ae78,this[_0xf2b211(0x3b3)]=_0x4688f1,this[_0xf2b211(0x238)]=null,this[_0xf2b211(0x42f)]=new $(u['name']),this[_0xf2b211(0x278)]={},this[_0xf2b211(0x494)]={},this[_0xf2b211(0x514)]={'state':_0xf2b211(0x7d7)},this[_0xf2b211(0x7e2)]=(0x0,j[_0xf2b211(0x78e)])(le,'downloads'),this[_0xf2b211(0x246)]=new Ls['default'](),this['userDevicesCache']=new Ls[(_0xf2b211(0x831))](),this[_0xf2b211(0x409)]=!0x1,this[_0xf2b211(0x6d2)]={'status.instance':_0xf2b211(0x838),'connection.update':'/wa-connection-update','qrcode.updated':'/wa-qrcode','messages.upsert':_0xf2b211(0x620),'send.message':_0xf2b211(0x620),'messages.update':_0xf2b211(0x70b),'group.upsert':_0xf2b211(0x834),'group.update':_0xf2b211(0x834),'group-participants.update':'/wa-groups','messages.set':'/wa-all-message','contacts.set':_0xf2b211(0x473),'contacts.upsert':'/wa-contacts','contacts.update':_0xf2b211(0x473),'presence.update':'/wa-presence','chats.set':_0xf2b211(0x642),'chats.update':_0xf2b211(0x642),'chats.upsert':_0xf2b211(0x642),'chats.delete':'/wa-chats'},this['reconnectAttempts']=0x0,this[_0xf2b211(0x8cd)]=[],this[_0xf2b211(0x324)]=0xea60,this[_0xf2b211(0x694)]=!0x1,this[_0xf2b211(0x62b)]={'chats.upsert':async(_0x19229f,_0x13df93)=>{const _0x3fb7fe=_0xf2b211;let _0x1ee6be=[];for await(let _0x2a9c1f of _0x19229f)_0x1ee6be[_0x3fb7fe(0x835)]({'_id':_0x2a9c1f['id'],'owner':this['instance']['wuid'],'group':_0x2a9c1f['id'][_0x3fb7fe(0x63d)](_0x3fb7fe(0x2cb)),'name':_0x2a9c1f[_0x3fb7fe(0x1b3)]||_0x2a9c1f[_0x3fb7fe(0x864)]||null,'contactname':null,'lastmsg':_0x2a9c1f[_0x3fb7fe(0x6a7)]&&_0x2a9c1f[_0x3fb7fe(0x6a7)][_0x3fb7fe(0x7b0)]()[_0x3fb7fe(0x72e)]<0xd?_0x2a9c1f[_0x3fb7fe(0x6a7)]*0x3e8:_0x2a9c1f[_0x3fb7fe(0x6a7)]||null,'archived':_0x2a9c1f[_0x3fb7fe(0x431)]||!0x1,'unreadcount':_0x2a9c1f[_0x3fb7fe(0x234)]||0x0,'ephemeralExpiration':_0x2a9c1f[_0x3fb7fe(0x57d)]||0x0});this[_0x3fb7fe(0x4e9)]('chats.upsert',_0x1ee6be);},'chats.update':async(_0x2f2d9a,_0xce0659)=>{const _0x362c99=_0xf2b211;for(let _0x485486 of _0x2f2d9a){let _0x3a2df1={'_id':_0x485486['id'],'owner':this[_0x362c99(0x278)]['wuid'],'archived':_0x485486[_0x362c99(0x431)],'muteEndTime':_0x485486['muteEndTime'],'ephemeralExpiration':_0x485486[_0x362c99(0x57d)]},_0x645034=!0x1,_0x406ea3={};_0x3a2df1[_0x362c99(0x431)]!=null&&(this[_0x362c99(0x42f)][_0x362c99(0x83f)](this[_0x362c99(0x492)]+'\x20('+this['instance']['wuid']+_0x362c99(0x733)+_0x485486['id']+_0x362c99(0x568)+_0x485486[_0x362c99(0x431)]),_0x645034=!0x0,_0x406ea3[_0x362c99(0x431)]=_0x485486['archived']),_0x362c99(0x3b7)in _0x485486&&(this[_0x362c99(0x42f)][_0x362c99(0x83f)](this[_0x362c99(0x492)]+'\x20('+this[_0x362c99(0x278)][_0x362c99(0x8d6)]+_0x362c99(0x1e1)+_0x485486['id']+_0x362c99(0x568)+(_0x485486[_0x362c99(0x3b7)]??'0')),_0x645034=!0x0,_0x406ea3[_0x362c99(0x3b7)]=_0x485486[_0x362c99(0x3b7)]??0x0),'ephemeralExpiration'in _0x485486&&(this[_0x362c99(0x42f)][_0x362c99(0x83f)](this['instanceName']+'\x20('+this[_0x362c99(0x278)][_0x362c99(0x8d6)]+_0x362c99(0x2f2)+_0x485486['id']+'\x20:\x20'+(_0x485486[_0x362c99(0x57d)]!==void 0x0?_0x485486[_0x362c99(0x57d)]:_0x362c99(0x778))),_0x406ea3[_0x362c99(0x57d)]=_0x485486['ephemeralExpiration']===null?0x0:_0x485486[_0x362c99(0x57d)],_0x645034=!0x0);let _0xcc14e0;_0x645034&&(_0xcc14e0=await this[_0x362c99(0x3b3)][_0x362c99(0x8c3)]['updateOne']({'where':{'_id':_0x485486['id']}},_0x406ea3,this[_0x362c99(0x278)][_0x362c99(0x8d6)])),_0xcc14e0&&F(this[_0x362c99(0x492)],_0x362c99(0x483),{'chat':_0xcc14e0});}},'chats.delete':async _0x3d8039=>{const _0x4d9e85=_0xf2b211;for(let _0x128984 of _0x3d8039)if(_0x128984['endsWith'](_0x4d9e85(0x2cb))){await this['repository'][_0x4d9e85(0x8c3)][_0x4d9e85(0x85f)]({'where':{'_id':_0x128984}},this[_0x4d9e85(0x278)][_0x4d9e85(0x8d6)]);let _0x2c265d={'where':{'key':{'remoteJid':_0x128984}}};await this[_0x4d9e85(0x3b3)][_0x4d9e85(0x7c9)][_0x4d9e85(0x85f)](_0x2c265d,this['instance'][_0x4d9e85(0x8d6)]);}else{await this['repository']['chat'][_0x4d9e85(0x3e7)]({'where':{'_id':_0x128984}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x4d9e85(0x8d6)]);let _0x283a50={'where':{'key':{'remoteJid':_0x128984}}};await this[_0x4d9e85(0x3b3)]['message'][_0x4d9e85(0x85f)](_0x283a50,this[_0x4d9e85(0x278)][_0x4d9e85(0x8d6)]);}this[_0x4d9e85(0x4e9)]('chats.delete',[..._0x3d8039]);}},this['contactHandle']={'contacts.upsert':async(_0x18e3d9,_0x32a177)=>{const _0x2bb9aa=_0xf2b211;let _0x18dbc9=await this[_0x2bb9aa(0x3b3)][_0x2bb9aa(0x3c1)][_0x2bb9aa(0x361)]({'where':{}},this[_0x2bb9aa(0x278)][_0x2bb9aa(0x8d6)]),_0x5420b1=[];for await(let _0xee266d of _0x18e3d9)_0x18dbc9[_0x2bb9aa(0x361)](_0x766c23=>_0x766c23['_id']===_0xee266d['id'])||_0x5420b1[_0x2bb9aa(0x835)]({'_id':_0xee266d['id'],'pushName':_0xee266d?.['name']||_0xee266d?.[_0x2bb9aa(0x19d)],'owner':this[_0x2bb9aa(0x278)][_0x2bb9aa(0x8d6)]});this[_0x2bb9aa(0x4e9)](_0x2bb9aa(0x580),_0x5420b1),await this[_0x2bb9aa(0x3b3)]['contact']['insert'](_0x5420b1);},'contacts.update':async(_0x2f007b,_0x272953)=>{const _0x269d3a=_0xf2b211;let _0x184367=[];for await(let _0xdea039 of _0x2f007b)_0x184367[_0x269d3a(0x835)]({'_id':_0xdea039['id'],'pushName':_0xdea039?.[_0x269d3a(0x1b3)]??_0xdea039?.[_0x269d3a(0x19d)],'owner':this[_0x269d3a(0x278)][_0x269d3a(0x8d6)]});this[_0x269d3a(0x4e9)](_0x269d3a(0x3c4),_0x184367);}},this[_0xf2b211(0x267)]={'messaging-history.set':async({messages:_0x377710,chats:_0x13a29e,isLatest:_0xcffaf4},_0x1ade61)=>{const _0x1977b5=_0xf2b211;if(_0xcffaf4){let _0x54bb10=await Promise[_0x1977b5(0x1be)](_0x13a29e[_0x1977b5(0x37b)](async _0x3799ed=>({'_id':_0x3799ed['id'],'owner':this[_0x1977b5(0x278)][_0x1977b5(0x8d6)],'group':_0x3799ed['id'][_0x1977b5(0x63d)](_0x1977b5(0x2cb)),'name':_0x3799ed['name']||_0x3799ed[_0x1977b5(0x864)]||_0x3799ed[_0x1977b5(0x320)]||null,'contactname':null,'lastmsg':_0x3799ed[_0x1977b5(0x6a7)]&&_0x3799ed['conversationTimestamp']['toString']()['length']<0xd?_0x3799ed[_0x1977b5(0x6a7)]*0x3e8:_0x3799ed[_0x1977b5(0x6a7)]||null,'archived':_0x3799ed[_0x1977b5(0x431)]||!0x1,'unreadcount':_0x3799ed[_0x1977b5(0x234)]||0x0,'ephemeralExpiration':_0x3799ed['ephemeralExpiration']||0x0,'muteEndTime':_0x3799ed[_0x1977b5(0x3b7)]||0x0})));this['sendDataWebhook'](_0x1977b5(0x8d9),_0x54bb10),await this[_0x1977b5(0x7b2)](_0x54bb10,_0x1ade61);}let _0x14aa4a=[],_0x1b69aa=Date[_0x1977b5(0x82e)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x39e1ee]of Object['entries'](_0x377710)){if(_0x39e1ee[_0x1977b5(0x7c9)]?.[_0x1977b5(0x2af)]||_0x39e1ee['message']?.['senderKeyDistributionMessage']||!_0x39e1ee[_0x1977b5(0x7c9)]||_0x39e1ee[_0x1977b5(0x76c)][_0x1977b5(0x7df)]==='status@broadcast'||(ks[_0x1977b5(0x831)][_0x1977b5(0x8f1)](_0x39e1ee?.[_0x1977b5(0x52a)])&&(_0x39e1ee[_0x1977b5(0x52a)]=_0x39e1ee[_0x1977b5(0x52a)]?.[_0x1977b5(0x573)]()),_0x39e1ee['messageTimestamp']&&_0x39e1ee[_0x1977b5(0x52a)]['toString']()[_0x1977b5(0x72e)]<0xd&&(_0x39e1ee[_0x1977b5(0x52a)]=_0x39e1ee[_0x1977b5(0x52a)]*0x3e8),_0x39e1ee['messageTimestamp']<_0x1b69aa))continue;let _0x47bfce=(0x0,w[_0x1977b5(0x443)])(_0x39e1ee['message']),_0x4df770=(0x0,w[_0x1977b5(0x3d4)])(_0x47bfce),{message_normalized:_0x260f38}=this['normalizeMessage'](_0x47bfce,_0x4df770,null);Object[_0x1977b5(0x6c3)](_0x260f38)[_0x1977b5(0x72e)]>0x0&&_0x14aa4a[_0x1977b5(0x835)]({'_id':_0x39e1ee[_0x1977b5(0x76c)]['id'],'key':_0x39e1ee[_0x1977b5(0x76c)],'pushName':_0x39e1ee[_0x1977b5(0x6af)],'participant':_0x39e1ee[_0x1977b5(0x4a6)],'message':_0x47bfce,'messageType':_0x4df770,'message_normalized':{'key':_0x39e1ee[_0x1977b5(0x76c)],'pushName':_0x39e1ee[_0x1977b5(0x6af)],'messageTimestamp':_0x39e1ee[_0x1977b5(0x52a)],..._0x260f38},'messageTimestamp':_0x39e1ee[_0x1977b5(0x52a)],'owner':this['instance'][_0x1977b5(0x8d6)]});}_0x1ade61[_0x1977b5(0x25d)]&&_0x14aa4a['length']>0x0&&(this[_0x1977b5(0x42f)][_0x1977b5(0x83f)](this[_0x1977b5(0x492)]+'\x20('+this[_0x1977b5(0x278)][_0x1977b5(0x8d6)]+_0x1977b5(0x6b7)+_0x14aa4a[_0x1977b5(0x72e)]+_0x1977b5(0x36d)+this[_0x1977b5(0x278)][_0x1977b5(0x8d6)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this['repository'][_0x1977b5(0x7c9)]['insert']([..._0x14aa4a],this['instance']['wuid'])),this['sendDataWebhook'](_0x1977b5(0x5a3),[..._0x14aa4a]),_0x377710=void 0x0;},'messages.upsert':async({messages:_0x5314dd,type:_0x312f6d},_0x5231ae)=>{const _0x655014=_0xf2b211;for(let _0x42d005 of _0x5314dd){if(this[_0x655014(0x494)]?.[_0x655014(0x75d)]&&_0x42d005['key'][_0x655014(0x7df)][_0x655014(0x570)](_0x655014(0x2cb))){this['logger'][_0x655014(0x83f)](this['instanceName']+'\x20('+this[_0x655014(0x278)][_0x655014(0x8d6)]+_0x655014(0x47a));return;}if(_0x42d005['key'][_0x655014(0x7df)][_0x655014(0x570)](_0x655014(0x43d))||_0x42d005[_0x655014(0x76c)][_0x655014(0x7df)]===_0x655014(0x1f0))return;if(_0x42d005[_0x655014(0x34b)]&&_0x42d005[_0x655014(0x34b)][0x0]===_0x655014(0x7c5)){console['error'](_0x655014(0x254)),await this[_0x655014(0x259)](_0x42d005),Lt[_0x42d005[_0x655014(0x76c)]['id']]=_0x42d005,this[_0x655014(0x647)](_0x42d005,0x0);return;}if(_0x312f6d!==_0x655014(0x639)||!_0x42d005?.[_0x655014(0x7c9)]||_0x42d005[_0x655014(0x7c9)]?.[_0x655014(0x2af)]||_0x42d005[_0x655014(0x7c9)]?.['senderKeyDistributionMessage'])return;let _0xfb6d81=null,_0x4921be=null;Lt[_0x42d005['key']['id']]&&(console[_0x655014(0x82d)](_0x655014(0x39d)),await this[_0x655014(0x3b3)]['messageLogs'][_0x655014(0x85f)]({'where':{'_id':_0x42d005['key']['id']}}),delete Lt[_0x42d005[_0x655014(0x76c)]['id']]);try{_0xfb6d81=await this[_0x655014(0x4ad)](_0x42d005),_0x4921be=_0xfb6d81?_0xfb6d81[_0x655014(0x78e)](','):null;}catch(_0x227dc0){this[_0x655014(0x42f)][_0x655014(0x83f)](this['instanceName']+'\x20('+this['instance'][_0x655014(0x8d6)]+_0x655014(0x6b7)+(_0x227dc0 instanceof Error?_0x227dc0[_0x655014(0x7c9)]:JSON[_0x655014(0x1af)](_0x227dc0,null,0x2))),_0x4921be='error\x20get\x20vote';}this['client']['sendPresenceUpdate'](_0x655014(0x48f)),ks['default']['isLong'](_0x42d005[_0x655014(0x52a)])&&(_0x42d005[_0x655014(0x52a)]=_0x42d005[_0x655014(0x52a)]?.['toNumber']()),_0x42d005['messageTimestamp']&&_0x42d005[_0x655014(0x52a)][_0x655014(0x7b0)]()[_0x655014(0x72e)]<0xd&&(_0x42d005[_0x655014(0x52a)]=_0x42d005[_0x655014(0x52a)]*0x3e8);let _0x24e2ec=_0x42d005[_0x655014(0x7c9)],_0x200c9c=(0x0,w[_0x655014(0x443)])(_0x24e2ec),_0x1e5a06=(0x0,w[_0x655014(0x3d4)])(_0x200c9c),{messageContent:_0x382486,message_normalized:_0x362036}=this[_0x655014(0x579)](_0x200c9c,_0x1e5a06,_0x4921be);if(_0x1e5a06===_0x655014(0x2af)&&_0x382486?.[_0x655014(0x6ca)]&&(_0x1e5a06=_0x655014(0x6ca)),_0x1e5a06===_0x655014(0x1da)&&_0x42d005[_0x655014(0x76c)][_0x655014(0x8b9)])return;let _0x210db7,_0x1c6dd0=_0x42d005[_0x655014(0x76c)][_0x655014(0x7df)][_0x655014(0x63d)](_0x655014(0x2cb));if(_0x42d005['key'][_0x655014(0x8b9)])_0x210db7=this['instance']['profilePictureUrl'];else{let _0x446edc=_0x1c6dd0?_0x42d005[_0x655014(0x76c)][_0x655014(0x4a6)]:_0x42d005[_0x655014(0x76c)][_0x655014(0x7df)];_0x210db7=(await this[_0x655014(0x3a2)](_0x446edc,_0x42d005[_0x655014(0x6af)],!0x1))['cachedContact'][_0x655014(0x313)];}let _0x394cab={'_id':_0x42d005[_0x655014(0x76c)]['id'],'key':_0x42d005[_0x655014(0x76c)],'isGroup':_0x1c6dd0,'profilePictureUrl':_0x210db7,'pushName':_0x42d005['pushName'],'message':_0x200c9c,'messageType':_0x1e5a06,'message_normalized':{'key':_0x42d005[_0x655014(0x76c)],'pushName':_0x42d005[_0x655014(0x6af)],'messageTimestamp':_0x42d005[_0x655014(0x52a)],'source':(0x0,w[_0x655014(0x6de)])(_0x42d005['key']['id']),..._0x362036},'messageTimestamp':_0x42d005[_0x655014(0x52a)],'owner':this[_0x655014(0x278)][_0x655014(0x8d6)],'source':(0x0,w[_0x655014(0x6de)])(_0x42d005[_0x655014(0x76c)]['id']),'expiration':_0x382486?.['contextInfo']?.[_0x655014(0x3e6)]||0x0};if(_0x382486||(this[_0x655014(0x42f)]['error']('Mensagem\x20não\x20suportada'),this[_0x655014(0x42f)]['error'](_0x394cab)),_0x362036[_0x655014(0x23e)]===_0x655014(0x476)){console[_0x655014(0x82d)]('[TESTE\x20RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação'),await this[_0x655014(0x259)](_0x42d005);return;}this[_0x655014(0x42f)][_0x655014(0x1a6)](this[_0x655014(0x492)]+'\x20('+this[_0x655014(0x278)][_0x655014(0x8d6)]+_0x655014(0x6b7)+(_0x394cab[_0x655014(0x76c)]?.[_0x655014(0x8b9)]?_0x655014(0x3b6):'recebido\x20de')+'\x20['+_0x394cab[_0x655014(0x76c)]?.[_0x655014(0x7df)][_0x655014(0x7ea)](_0x655014(0x4f9),'')+_0x655014(0x384)+_0x394cab['messageType']+')'),_0x394cab[_0x655014(0x2ac)]?.[_0x655014(0x23e)]&&this[_0x655014(0x42f)][_0x655014(0x1a6)](_0x42d005['key']['id']+':\x20'+_0x394cab[_0x655014(0x2ac)]?.['text']),await this['repository']['message'][_0x655014(0x5df)]([_0x394cab],this[_0x655014(0x278)][_0x655014(0x8d6)]),this[_0x655014(0x4e9)](_0x655014(0x7b9),_0x394cab),F(this[_0x655014(0x492)],'messages',{'message':_0x394cab}),_0x42d005[_0x655014(0x76c)][_0x655014(0x7df)]!==_0x655014(0x1f0)&&await this[_0x655014(0x480)](_0x5231ae,_0x394cab,'MESSAGES_UPSERT');}},'messages.update':async(_0x424233,_0x26c9e2)=>{const _0x41a0aa=_0xf2b211;let _0x102b11={0x0:'ERROR',0x1:_0x41a0aa(0x7e4),0x2:_0x41a0aa(0x726),0x3:_0x41a0aa(0x19a),0x4:'READ',0x5:_0x41a0aa(0x719)};for await(let {key:_0x33180f,update:_0x10a424}of _0x424233){if(this[_0x41a0aa(0x494)]?.[_0x41a0aa(0x75d)]&&_0x33180f[_0x41a0aa(0x7df)][_0x41a0aa(0x570)](_0x41a0aa(0x2cb))){this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x41a0aa(0x8d6)]+_0x41a0aa(0x7f3));return;}if(_0x33180f[_0x41a0aa(0x7df)]!==_0x41a0aa(0x1f0)){let _0x257f1b=Date['now'](),_0x4c7acf;_0x10a424[_0x41a0aa(0x7c9)]===null&&_0x10a424[_0x41a0aa(0x5d6)]===void 0x0?_0x4c7acf=_0x41a0aa(0x362):_0x4c7acf=_0x102b11[_0x10a424[_0x41a0aa(0x5d6)]];let _0x33d272=_0x33180f['remoteJid'][_0x41a0aa(0x7ea)](/:\d{1,2}@/g,'@'),_0x3b5883={..._0x33180f,'remoteJid':_0x33d272,'status':_0x4c7acf,'datetime':_0x257f1b,'owner':this[_0x41a0aa(0x278)][_0x41a0aa(0x8d6)]};this[_0x41a0aa(0x4e9)](_0x41a0aa(0x898),_0x3b5883),await this['updateMessage'](_0x33180f,_0x3b5883);}}},'labels.association':async({type:_0x194f80,association:_0x199805})=>{const _0x33a4ac=_0xf2b211;if(_0x199805[_0x33a4ac(0x7af)]===_0x33a4ac(0x7e0)){let _0xe23f11,_0x3d0b45=0x0;for(;!_0xe23f11&&_0x3d0b45<this[_0x33a4ac(0x8b7)];)_0xe23f11=await this[_0x33a4ac(0x3b3)]['chat'][_0x33a4ac(0x280)]({'where':{'_id':_0x199805[_0x33a4ac(0x710)]}},this[_0x33a4ac(0x278)][_0x33a4ac(0x8d6)]),_0xe23f11||(_0x3d0b45++,this[_0x33a4ac(0x42f)][_0x33a4ac(0x8c5)](this[_0x33a4ac(0x492)]+'\x20('+this[_0x33a4ac(0x278)][_0x33a4ac(0x8d6)]+'):\x20Chat\x20'+_0x199805[_0x33a4ac(0x710)]+_0x33a4ac(0x500)+this[_0x33a4ac(0x205)]+_0x33a4ac(0x340)+_0x3d0b45+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this['delayChatLabel'](this[_0x33a4ac(0x205)]));if(!_0xe23f11){this['logger']['error'](_0x33a4ac(0x210)+_0x199805[_0x33a4ac(0x710)]+_0x33a4ac(0x4ee)+this['delayChatLabel_MAX_RETRIES']+_0x33a4ac(0x690));return;}switch(_0x194f80){case _0x33a4ac(0x2e3):console[_0x33a4ac(0x1a6)](_0x199805),await this[_0x33a4ac(0x3b3)][_0x33a4ac(0x8c3)][_0x33a4ac(0x3e7)]({'where':{'_id':_0x199805[_0x33a4ac(0x710)]}},{'leadInfo.etiquetas':_0x199805[_0x33a4ac(0x8c9)]},this[_0x33a4ac(0x278)]['wuid'],void 0x0,_0x33a4ac(0x4d1));break;case _0x33a4ac(0x41d):console[_0x33a4ac(0x1a6)](_0x199805),await this[_0x33a4ac(0x3b3)][_0x33a4ac(0x8c3)]['updateOne']({'where':{'_id':_0x199805[_0x33a4ac(0x710)]}},{'leadInfo.etiquetas':_0x199805[_0x33a4ac(0x8c9)]},this['instance'][_0x33a4ac(0x8d6)],void 0x0,_0x33a4ac(0x484));break;default:this[_0x33a4ac(0x42f)]['error'](_0x33a4ac(0x24a)+_0x194f80+']');}}},'labels.edit':async _0x15f93c=>{const _0x361af6=_0xf2b211;if(!_0x15f93c||!_0x15f93c['id']){this[_0x361af6(0x42f)][_0x361af6(0x82d)]('Rótulo\x20inválido\x20ou\x20sem\x20ID.');return;}if(!_0x15f93c['deleted']){let _0xb08da7=[_0x361af6(0x6f9),'#64c4ff',_0x361af6(0x8bf),_0x361af6(0x851),_0x361af6(0x2e0),_0x361af6(0x631),'#fe9dfe',_0x361af6(0x2b1),'#6f7bcf',_0x361af6(0x816),'#01d0e2',_0x361af6(0x5a4),'#92ceac',_0x361af6(0x213),_0x361af6(0x376),'#83e421',_0x361af6(0x4da),_0x361af6(0x1e6),_0x361af6(0x7c1),_0x361af6(0x524)],_0x4f3466;typeof _0x15f93c[_0x361af6(0x4a4)]==_0x361af6(0x4bd)&&_0x15f93c[_0x361af6(0x4a4)]>=0x0&&_0x15f93c[_0x361af6(0x4a4)]<_0xb08da7['length']?_0x4f3466=_0xb08da7[_0x15f93c[_0x361af6(0x4a4)]]:(this['logger'][_0x361af6(0x82d)]('Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20'+_0x15f93c[_0x361af6(0x4a4)]),_0x4f3466=_0x361af6(0x682));let _0x335b7b={'_id':_0x15f93c['id'],'colorHex':_0x4f3466,'color':_0x15f93c?.[_0x361af6(0x4a4)],'name':_0x15f93c?.[_0x361af6(0x1b3)],'owner':this[_0x361af6(0x278)][_0x361af6(0x8d6)]};await this[_0x361af6(0x3b3)]['label']['updateOne']({'where':{'_id':_0x15f93c['id']}},_0x335b7b,this[_0x361af6(0x278)][_0x361af6(0x8d6)]),this[_0x361af6(0x42f)][_0x361af6(0x8c5)](this['instanceName']+'\x20('+this[_0x361af6(0x278)]['wuid']+'):\x20Rótulo\x20atualizado:\x20'+_0x15f93c);}_0x15f93c[_0x361af6(0x391)]&&(await this['repository'][_0x361af6(0x8ec)][_0x361af6(0x85f)]({'where':{'_id':_0x15f93c['id']}},this[_0x361af6(0x278)]['wuid']),this[_0x361af6(0x42f)][_0x361af6(0x8c5)](_0x361af6(0x2bf)+_0x15f93c['id']));}},this[_0xf2b211(0x206)]={'groups.upsert':async _0x19a754=>{const _0x4aa5de=_0xf2b211;this[_0x4aa5de(0x494)]?.['groups_ignore']||this[_0x4aa5de(0x4e9)](_0x4aa5de(0x21d),_0x19a754);for(let _0xb85b39 of _0x19a754)await this[_0x4aa5de(0x354)](_0xb85b39);},'groups.update':async _0x300810=>{const _0xd2fc0d=_0xf2b211;this[_0xd2fc0d(0x494)]?.['groups_ignore']||this[_0xd2fc0d(0x4e9)](_0xd2fc0d(0x4cc),_0x300810);for(let _0x1adef0 of _0x300810)await this['updateGroupWebhook'](_0x1adef0);},'group-participants.update':async _0x502596=>{const _0x23d0c6=_0xf2b211;this[_0x23d0c6(0x494)]?.['groups_ignore']||this[_0x23d0c6(0x4e9)](_0x23d0c6(0x27d),_0x502596),await this['updateGroupParticipantsWebhook'](_0x502596);}},this[_0xf2b211(0x8b7)]=0x5,this[_0xf2b211(0x205)]=0x1388,this[_0xf2b211(0x44a)]=0x0,this[_0xf2b211(0x4ad)]=async _0x5df43e=>{const _0x546e7b=_0xf2b211;if(_0x5df43e['message']?.[_0x546e7b(0x617)]){let _0xb64fcd=await this['getMessage'](_0x5df43e[_0x546e7b(0x7c9)]['pollUpdateMessage'][_0x546e7b(0x6cf)],!0x0);if(_0xb64fcd){let _0x489300=_0xb64fcd[_0x546e7b(0x76c)]['fromMe']?this['instance'][_0x546e7b(0x8d6)]+_0x546e7b(0x4f9):_0xb64fcd['key'][_0x546e7b(0x4a6)]||_0xb64fcd[_0x546e7b(0x76c)][_0x546e7b(0x7df)],_0x37ce74=_0xb64fcd[_0x546e7b(0x76c)]['id'],_0x39e79b=_0xb64fcd[_0x546e7b(0x7c9)],_0x2f7199=Buffer['from'](_0x39e79b['messageContextInfo'][_0x546e7b(0x249)][_0x546e7b(0x7b0)](_0x546e7b(0x63a)),_0x546e7b(0x63a)),_0x57399a=(0x0,w[_0x546e7b(0x46c)])(_0x5df43e[_0x546e7b(0x7c9)][_0x546e7b(0x617)][_0x546e7b(0x681)],{'pollCreatorJid':_0x489300,'pollMsgId':_0x37ce74,'pollEncKey':_0x2f7199,'voterJid':_0x5df43e[_0x546e7b(0x76c)][_0x546e7b(0x8b9)]?this['instance'][_0x546e7b(0x8d6)]+_0x546e7b(0x4f9):_0x5df43e[_0x546e7b(0x76c)]['remoteJid'][_0x546e7b(0x63d)](_0x546e7b(0x30b))?_0x5df43e['key'][_0x546e7b(0x4a6)]:_0x5df43e[_0x546e7b(0x76c)][_0x546e7b(0x7df)]}),_0x5773c5=[],_0x33e256=_0x57399a[_0x546e7b(0x1ef)][_0x546e7b(0x37b)](_0x31d1f1=>Buffer[_0x546e7b(0x252)](_0x31d1f1)[_0x546e7b(0x7b0)](_0x546e7b(0x63a)));for(let {optionName:_0x5baa32}of _0x39e79b['pollCreationMessage']?.[_0x546e7b(0x592)]||_0x39e79b['pollCreationMessageV3']?.[_0x546e7b(0x592)]||_0x39e79b['pollCreationMessageV2']?.[_0x546e7b(0x592)])_0x33e256[_0x546e7b(0x7c7)]((0x0,w['sha256'])(Buffer[_0x546e7b(0x252)](_0x5baa32))[_0x546e7b(0x7b0)](_0x546e7b(0x63a)))>-0x1&&_0x5773c5[_0x546e7b(0x835)](_0x5baa32);return _0x5773c5;}}return null;},this['normalizeMessage']=(_0x293f4c,_0x7e8e73,_0x45a641)=>{const _0x165c84=_0xf2b211;try{let _0x11bde5=_0x293f4c?(0x0,w[_0x165c84(0x737)])(_0x293f4c)[_0x7e8e73]:void 0x0,_0x268818={},_0x3d664a=null,_0x488b31=null,_0x4f9862=null,_0x19fd87=null;_0x7e8e73===_0x165c84(0x2af)&&_0x11bde5?.[_0x165c84(0x6ca)]&&(_0x7e8e73=(0x0,w[_0x165c84(0x3d4)])(_0x11bde5[_0x165c84(0x6ca)]),_0x3d664a=_0x293f4c[_0x165c84(0x2af)]['key']['id'],_0x11bde5=_0x293f4c['protocolMessage'][_0x165c84(0x6ca)][_0x7e8e73]),_0x293f4c[_0x7e8e73]?.[_0x165c84(0x88e)]?.[_0x165c84(0x5d5)]&&_0x293f4c[_0x7e8e73]?.[_0x165c84(0x88e)]?.[_0x165c84(0x271)]&&(_0x488b31=_0x293f4c[_0x7e8e73][_0x165c84(0x88e)][_0x165c84(0x5d5)]),_0x293f4c[_0x165c84(0x512)]&&(_0x4f9862=_0x293f4c['reactionMessage'][_0x165c84(0x76c)]['id']);let _0x2c515f;if(_0x11bde5&&typeof _0x11bde5==_0x165c84(0x28b)&&_0x165c84(0x6cf)in _0x11bde5&&({pollCreationMessageKey:_0x2c515f}=_0x11bde5),_0x7e8e73===_0x165c84(0x8e3)||_0x7e8e73===_0x165c84(0x7ce)||_0x7e8e73===_0x165c84(0x519)){let _0x365ccb=_0x11bde5[_0x165c84(0x592)]['map'](_0x323dcf=>_0x323dcf[_0x165c84(0x1e4)])[_0x165c84(0x78e)]('|');_0x268818['convertedOptions']=_0x365ccb;}if(_0x7e8e73==='interactiveMessage'){let _0x3388b9=_0x11bde5['nativeFlowMessage']['buttons'][_0x165c84(0x37b)](_0x199b02=>JSON[_0x165c84(0x2c1)](_0x199b02['buttonParamsJson'])['display_text'])[_0x165c84(0x78e)]('|');_0x268818[_0x165c84(0x390)]=_0x3388b9;}_0x7e8e73===_0x165c84(0x34c)&&(_0x268818[_0x165c84(0x455)]=_0x11bde5?.[_0x165c84(0x1dd)]?.['selectedRowId']);let _0x1a4d9b='';if(_0x11bde5&&(_0x1a4d9b+=_0x11bde5[_0x165c84(0x1b3)]?_0x11bde5['name']:'',_0x1a4d9b+=_0x11bde5[_0x165c84(0x6b6)]?'\x20'+_0x11bde5[_0x165c84(0x6b6)]:'',_0x1a4d9b+=_0x11bde5[_0x165c84(0x89d)]?'\x20'+_0x11bde5[_0x165c84(0x89d)]:'',_0x1a4d9b+=_0x11bde5[_0x165c84(0x864)]?'\x20'+_0x11bde5[_0x165c84(0x864)]:'',_0x7e8e73!=='interactiveResponseMessage'&&(_0x1a4d9b+=_0x11bde5[_0x165c84(0x1e5)]?.[_0x165c84(0x23e)]?'\x20'+_0x11bde5[_0x165c84(0x1e5)]['text']:''),_0x1a4d9b+=_0x11bde5?.[_0x165c84(0x809)]?.[_0x165c84(0x23e)]?'\x20'+_0x11bde5?.[_0x165c84(0x809)]?.[_0x165c84(0x23e)]:''),_0x7e8e73===_0x165c84(0x8c6)){_0x1a4d9b=(_0x11bde5['title']||'')+'\x0a'+(_0x11bde5[_0x165c84(0x465)]||'')+'\x0a'+(_0x11bde5[_0x165c84(0x5ca)]||'');let _0x2f77dd=this[_0x165c84(0x411)](_0x11bde5['sections']);_0x268818[_0x165c84(0x390)]=_0x2f77dd;}if(_0x7e8e73===_0x165c84(0x34c)&&(_0x45a641=_0x11bde5[_0x165c84(0x435)],_0x19fd87=_0x11bde5?.['singleSelectReply']?.[_0x165c84(0x37f)]),_0x7e8e73===_0x165c84(0x886)){let _0x2b2f91=_0x11bde5?.['nativeFlowResponseMessage'];_0x2b2f91&&_0x2b2f91[_0x165c84(0x1b3)]==='menu_options'&&(_0x19fd87=JSON['parse'](_0x2b2f91['paramsJson'])['id']),_0x45a641=_0x11bde5?.[_0x165c84(0x1e5)]?.[_0x165c84(0x23e)];}if(_0x7e8e73==='templateButtonReplyMessage'&&(_0x45a641=_0x11bde5?.[_0x165c84(0x199)],_0x19fd87=_0x11bde5?.[_0x165c84(0x7d1)]),_0x11bde5&&_0x11bde5[_0x165c84(0x87e)]){let _0x13a911=this[_0x165c84(0x48c)](JSON[_0x165c84(0x1af)](_0x11bde5[_0x165c84(0x87e)],null,0x2));_0x1a4d9b=_0x1a4d9b+'\x0a'+_0x13a911;}if(_0x11bde5){let {nativeFlowResponseMessage:_0x53b53c,selectedId:_0x295b05,selectedDisplayText:_0x46f741,selectedIndex:_0xea7503,body:_0x13353d,nativeFlowMessage:_0x1b9b0e,singleSelectReply:_0xe68753,sections:_0x4bad8e,listType:_0x525ce6,displayName:_0x33d243,vcard:_0x2abfc4,contactVcard:_0x1a4104,name:_0x3bf597,caption:_0x4be33d,conversation:_0x5b4ab6,pollCreationMessageKey:_0xdbd5b2,footerText:_0x1ee67a,contentText:_0x43a432,pageCount:_0x2eee52,headerType:_0x9fab98,isAvatar:_0x4b259f,isAnimated:_0x14d58f,fallbackLc:_0x25c587,fallbackLg:_0x4d28dd,namespace:_0x1f97b0,elementName:_0x5ba120,localizableParams:_0xe9730a,viewOnce:_0x27f4c5,height:_0x3865c6,width:_0x383e42,key:_0xa5970f,firstScanLength:_0x565167,firstScanSidecar:_0x13fc47,gifPlayback:_0x45703f,gifAttribution:_0x3d3efd,midQualityFileSha256:_0x395d6d,scansSidecar:_0x4705ae,streamingSidecar:_0x5969da,thumbnailHeight:_0x424203,thumbnailWidth:_0x402ae5,thumbnailEncSha256:_0x3b9280,thumbnailDirectPath:_0x2911da,canonicalUrl:_0x3ba83f,matchedText:_0xa54ffc,previewType:_0x5d9351,thumbnailSha256:_0x4c99af,deviceListMetadataVersion:_0x194c9f,inviteLinkGroupTypeV2:_0x587593,interactiveAnnotations:_0x334474,scanLengths:_0x185c81,jpegThumbnail:_0x359213,url:_0x58c574,mediaKeyTimestamp:_0x179f81,waveform:_0x297e26,stickerSentTs:_0x5a0ebe,firstFrameLength:_0x223d6b,fileEncSha256:_0x33e31a,contextInfo:_0x223e31,firstFrameSidecar:_0x9e5b34,directPath:_0xab45bb,fileSha256:_0x1b2902,mediaKey:_0x1be763,senderTimestampMs:_0x88fc5c,..._0x3b8536}=_0x11bde5;(_0x7e8e73==='listMessage'||_0x7e8e73===_0x165c84(0x34c))&&(delete _0x3b8536[_0x165c84(0x435)],delete _0x3b8536[_0x165c84(0x465)]),typeof _0x11bde5=='string'?_0x268818={'text':_0x11bde5,'type':_0x7e8e73||'conversation',..._0x3d664a&&{'edited':_0x3d664a},..._0x488b31&&{'quoted':_0x488b31},..._0x4f9862&&{'reaction':_0x4f9862}}:_0x268818={'text':_0x1a4d9b,..._0x3b8536,..._0x7e8e73===_0x165c84(0x617)?{'poll_id':_0x11bde5[_0x165c84(0x6cf)]['id'],'quoted':_0x11bde5[_0x165c84(0x6cf)]['id'],'vote':_0x45a641}:{},..._0x7e8e73===_0x165c84(0x34c)?{'buttonOrList_id':_0x19fd87,'vote':_0x45a641}:{},..._0x7e8e73===_0x165c84(0x886)?{'buttonOrList_id':_0x19fd87,'vote':_0x45a641}:{},..._0x7e8e73===_0x165c84(0x20c)?{'buttonOrList_id':_0x19fd87,'vote':_0x45a641}:{},'type':_0x7e8e73,..._0x3d664a&&{'edited':_0x3d664a},..._0x488b31&&{'quoted':_0x488b31},..._0x4f9862&&{'reaction':_0x4f9862},...(_0x7e8e73===_0x165c84(0x8e3)||_0x7e8e73===_0x165c84(0x7ce)||_0x7e8e73==='pollCreationMessageV3'||_0x7e8e73===_0x165c84(0x8c6)||_0x7e8e73===_0x165c84(0x1da))&&{'convertedOptions':_0x268818[_0x165c84(0x390)]}};}return{'messageType':_0x7e8e73,'messageContent':_0x11bde5,'message_normalized':_0x268818};}catch(_0x48105e){return this[_0x165c84(0x42f)][_0x165c84(0x82d)](_0x165c84(0x60b)+_0x48105e),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this['pendingMessages']=[],(this['cleanStore'](),this[_0xf2b211(0x4a3)](),this[_0xf2b211(0x278)][_0xf2b211(0x268)]={'count':0x0},this[_0xf2b211(0x278)][_0xf2b211(0x806)]={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}set[a0_0x4c01ce(0x492)](_0x3d08c0){const _0x4ec098=a0_0x4c01ce;if(!_0x3d08c0){this[_0x4ec098(0x278)][_0x4ec098(0x1b3)]=(0x0,Ii['v4'])();return;}this[_0x4ec098(0x278)][_0x4ec098(0x1b3)]=_0x3d08c0,this[_0x4ec098(0x4e9)]('status.instance',{'instance':this['instance']['name'],'status':_0x4ec098(0x84f)});}get[a0_0x4c01ce(0x492)](){const _0x518f4e=a0_0x4c01ce;return this['instance'][_0x518f4e(0x1b3)];}get['wuid'](){const _0x73a993=a0_0x4c01ce;return this['instance'][_0x73a993(0x8d6)];}async['getProfileName'](){const _0x4e1437=a0_0x4c01ce;let _0x1afe1e=this['client'][_0x4e1437(0x7b3)]?.[_0x4e1437(0x1b3)]??this[_0x4e1437(0x2aa)][_0x4e1437(0x7b3)]?.[_0x4e1437(0x19d)];if(!_0x1afe1e){if(this[_0x4e1437(0x415)][_0x4e1437(0x5f0)](_0x4e1437(0x35c))['ENABLED']){let _0x39a0dd=await I['getClient']()['db'](this[_0x4e1437(0x415)][_0x4e1437(0x5f0)](_0x4e1437(0x35c))['CONNECTION'][_0x4e1437(0x743)]+_0x4e1437(0x325))['collection'](this[_0x4e1437(0x492)])['findOne']({'_id':_0x4e1437(0x8ad)});if(_0x39a0dd){let _0x38df8c=JSON[_0x4e1437(0x2c1)](JSON[_0x4e1437(0x1af)](_0x39a0dd),w[_0x4e1437(0x646)][_0x4e1437(0x7ac)]);_0x1afe1e=_0x38df8c['me']?.['name']||_0x38df8c['me']?.[_0x4e1437(0x19d)];}}else{if((0x0,Le[_0x4e1437(0x469)])((0x0,j[_0x4e1437(0x78e)])(Se,this['instanceName'],_0x4e1437(0x33b)))){let _0x4e4703=JSON['parse']((0x0,Le[_0x4e1437(0x437)])((0x0,j[_0x4e1437(0x78e)])(Se,this['instanceName'],_0x4e1437(0x33b)),{'encoding':_0x4e1437(0x4df)}));_0x1afe1e=_0x4e4703['me']?.[_0x4e1437(0x1b3)]||_0x4e4703['me']?.[_0x4e1437(0x19d)];}}}return _0x1afe1e;}get[a0_0x4c01ce(0x7d5)](){const _0x4da92c=a0_0x4c01ce;return this[_0x4da92c(0x278)]['profilePictureUrl'];}async[a0_0x4c01ce(0x827)](){const _0x336683=a0_0x4c01ce;let _0x10e6ab=this[_0x336683(0x278)][_0x336683(0x8d6)]+_0x336683(0x4f9);try{await this['client']['getBusinessProfile'](_0x10e6ab)?this[_0x336683(0x278)][_0x336683(0x31d)]=!0x0:this['instance'][_0x336683(0x31d)]=!0x1;}catch{this[_0x336683(0x278)][_0x336683(0x31d)]=!0x1;}return this[_0x336683(0x42f)][_0x336683(0x8c5)](this[_0x336683(0x492)]+'\x20('+this[_0x336683(0x278)][_0x336683(0x8d6)]+'):\x20Instancia\x20isBusiness:\x20'+this[_0x336683(0x278)][_0x336683(0x31d)]),this['instance'][_0x336683(0x31d)];}get['qrCode'](){const _0x2dfece=a0_0x4c01ce;return this[_0x2dfece(0x278)][_0x2dfece(0x268)]?.[_0x2dfece(0x219)]?{'pairingCode':this[_0x2dfece(0x278)][_0x2dfece(0x268)]?.[_0x2dfece(0x219)]}:{'code':this[_0x2dfece(0x278)][_0x2dfece(0x268)]?.[_0x2dfece(0x751)],'base64':this[_0x2dfece(0x278)][_0x2dfece(0x268)]?.['base64']};}async['loadWebhook'](){const _0xe4e5b1=a0_0x4c01ce;let _0x1a9b52=await this[_0xe4e5b1(0x3b3)]['webhook']['find'](this[_0xe4e5b1(0x492)]);this[_0xe4e5b1(0x494)]['url']=_0x1a9b52?.[_0xe4e5b1(0x8b1)],this[_0xe4e5b1(0x494)][_0xe4e5b1(0x3ba)]=_0x1a9b52?.[_0xe4e5b1(0x3ba)],this['localWebhook'][_0xe4e5b1(0x807)]=_0x1a9b52?.[_0xe4e5b1(0x807)],this[_0xe4e5b1(0x494)][_0xe4e5b1(0x2d9)]=_0x1a9b52?.[_0xe4e5b1(0x2d9)],this[_0xe4e5b1(0x494)][_0xe4e5b1(0x404)]=_0x1a9b52?.[_0xe4e5b1(0x404)],this['localWebhook'][_0xe4e5b1(0x4ea)]=_0x1a9b52?.[_0xe4e5b1(0x4ea)],this[_0xe4e5b1(0x494)][_0xe4e5b1(0x439)]=_0x1a9b52?.['MESSAGES_UPSERT'],this['localWebhook'][_0xe4e5b1(0x309)]=_0x1a9b52?.['MESSAGES_UPDATE'],this['localWebhook'][_0xe4e5b1(0x797)]=_0x1a9b52?.[_0xe4e5b1(0x797)],this[_0xe4e5b1(0x494)]['GROUPS_UPDATE']=_0x1a9b52?.[_0xe4e5b1(0x215)],this[_0xe4e5b1(0x494)]['GROUP_PARTICIPANTS_UPDATE']=_0x1a9b52?.[_0xe4e5b1(0x6d0)],this[_0xe4e5b1(0x494)][_0xe4e5b1(0x1b1)]=_0x1a9b52?.['CHATS_SET'],this[_0xe4e5b1(0x494)]['CHATS_UPSERT']=_0x1a9b52?.[_0xe4e5b1(0x20d)],this['localWebhook'][_0xe4e5b1(0x823)]=_0x1a9b52?.[_0xe4e5b1(0x823)],this['localWebhook'][_0xe4e5b1(0x3ce)]=_0x1a9b52?.[_0xe4e5b1(0x3ce)],this[_0xe4e5b1(0x494)]['CONTACTS_SET']=_0x1a9b52?.[_0xe4e5b1(0x198)],this['localWebhook'][_0xe4e5b1(0x7a7)]=_0x1a9b52?.[_0xe4e5b1(0x7a7)],this[_0xe4e5b1(0x494)][_0xe4e5b1(0x284)]=_0x1a9b52?.[_0xe4e5b1(0x284)],this[_0xe4e5b1(0x494)][_0xe4e5b1(0x38a)]=_0x1a9b52?.[_0xe4e5b1(0x38a)],this['localWebhook'][_0xe4e5b1(0x1b8)]=_0x1a9b52?.[_0xe4e5b1(0x1b8)],this['localWebhook'][_0xe4e5b1(0x715)]=_0x1a9b52?.['CONNECTION_UPDATE'],this[_0xe4e5b1(0x494)][_0xe4e5b1(0x75d)]=_0x1a9b52?.[_0xe4e5b1(0x75d)];}async['setWebhook'](_0xd582d7){const _0x127195=a0_0x4c01ce;let _0x22ff21=[_0x127195(0x791),'url','enabled',_0x127195(0x807),_0x127195(0x2d9),_0x127195(0x404),'MESSAGES_UPDATE',_0x127195(0x439),'SEND_MESSAGE',_0x127195(0x797),_0x127195(0x215),'GROUP_PARTICIPANTS_UPDATE',_0x127195(0x1b1),_0x127195(0x20d),_0x127195(0x823),_0x127195(0x3ce),_0x127195(0x198),_0x127195(0x7a7),_0x127195(0x284),_0x127195(0x38a),_0x127195(0x1b8),_0x127195(0x715),_0x127195(0x75d)],_0x290f69={};return _0x22ff21[_0x127195(0x68b)](_0x4dee6b=>{_0xd582d7[_0x4dee6b]!==void 0x0&&(_0x290f69[_0x4dee6b]=_0xd582d7[_0x4dee6b]);}),_0x290f69[_0x127195(0x8b1)]&&(_0x290f69[_0x127195(0x8b1)]=_0x290f69[_0x127195(0x8b1)][_0x127195(0x67e)]()),await this[_0x127195(0x3b3)][_0x127195(0x7d6)][_0x127195(0x88d)](_0x290f69,this[_0x127195(0x492)]),Object[_0x127195(0x551)](this[_0x127195(0x494)],_0x290f69),await this[_0x127195(0x3b3)][_0x127195(0x7d6)][_0x127195(0x361)](this['instanceName']);}async['findWebhook'](){const _0x4e679b=a0_0x4c01ce;return await this[_0x4e679b(0x3b3)][_0x4e679b(0x7d6)][_0x4e679b(0x361)](this[_0x4e679b(0x492)]);}async[a0_0x4c01ce(0x4e9)](_0x42c7d2,_0xb27ffe){const _0x589beb=a0_0x4c01ce;let _0x57221d=_0x42c7d2[_0x589beb(0x7ea)](/[\.-]/gm,'_')['toUpperCase'](),_0x40c93d=this[_0x589beb(0x494)][_0x589beb(0x3ba)]&&(0x0,J[_0x589beb(0x578)])(this[_0x589beb(0x494)][_0x589beb(0x8b1)])?this[_0x589beb(0x494)][_0x589beb(0x8b1)]+(this['localWebhook'][_0x589beb(0x807)]?this[_0x589beb(0x6d2)][_0x42c7d2]:''):null,_0x7b69ab=this[_0x589beb(0x494)][_0x57221d],_0x373430=he&&he[_0x589beb(0x3ba)]&&(0x0,J[_0x589beb(0x578)])(he['url'])?he[_0x589beb(0x8b1)]+(he[_0x589beb(0x807)]?this[_0x589beb(0x6d2)][_0x42c7d2]:''):null,_0xd1a69b=he?he[_0x57221d]:null;if(_0x7b69ab&&_0x40c93d)try{await Q[_0x589beb(0x831)][_0x589beb(0x88d)]({'baseURL':_0x40c93d})[_0x589beb(0x51c)]('',{'event':_0x42c7d2,'instance':this[_0x589beb(0x278)][_0x589beb(0x1b3)],'apikey':this[_0x589beb(0x278)][_0x589beb(0x30e)],'data':_0xb27ffe}),this['logger'][_0x589beb(0x1a6)](this['instanceName']+'\x20('+this[_0x589beb(0x278)][_0x589beb(0x8d6)]+_0x589beb(0x6d4)+_0x42c7d2+':\x20'+_0x40c93d);}catch{this[_0x589beb(0x42f)][_0x589beb(0x82d)](this[_0x589beb(0x492)]+'\x20('+this['instance'][_0x589beb(0x8d6)]+_0x589beb(0x813)+_0x42c7d2+':\x20'+_0x40c93d);}if(_0xd1a69b&&_0x373430)try{await Q['default'][_0x589beb(0x88d)]({'baseURL':_0x373430})[_0x589beb(0x51c)]('',{'event':_0x42c7d2,'instance':this[_0x589beb(0x278)][_0x589beb(0x1b3)],'apikey':this[_0x589beb(0x278)]['apikey'],'data':_0xb27ffe}),this[_0x589beb(0x42f)][_0x589beb(0x1a6)](this[_0x589beb(0x492)]+'\x20('+this[_0x589beb(0x278)]['wuid']+_0x589beb(0x819)+_0x42c7d2+':\x20'+_0x373430);}catch{this[_0x589beb(0x42f)][_0x589beb(0x82d)](this[_0x589beb(0x492)]+'\x20('+this[_0x589beb(0x278)][_0x589beb(0x8d6)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x42c7d2+':\x20'+_0x373430);}}async[a0_0x4c01ce(0x4f5)]({qr:_0x283f02,connection:_0x5d333d,lastDisconnect:_0x1eef2d}){const _0x5d65f1=a0_0x4c01ce;if(_0x283f02){if(this[_0x5d65f1(0x278)]['qrcode']['count']===ko)return this['sendDataWebhook']('qrcode.updated',{'message':_0x5d65f1(0x5fc),'statusCode':w[_0x5d65f1(0x218)][_0x5d65f1(0x72d)]}),this[_0x5d65f1(0x514)]={'state':_0x5d65f1(0x286),'statusReason':w['DisconnectReason'][_0x5d65f1(0x412)]},this[_0x5d65f1(0x4e9)](_0x5d65f1(0x51e),{'instance':this[_0x5d65f1(0x278)][_0x5d65f1(0x1b3)],...this['stateConnection']}),this[_0x5d65f1(0x4e9)](_0x5d65f1(0x1c4),{'instance':this[_0x5d65f1(0x278)][_0x5d65f1(0x1b3)],'status':_0x5d65f1(0x893)}),this[_0x5d65f1(0x3b3)][_0x5d65f1(0x7ba)]['delete'](this[_0x5d65f1(0x278)][_0x5d65f1(0x1b3)]),this['endSession']=!0x0,ae[_0x5d65f1(0x444)](B,this['instance']['name']),this[_0x5d65f1(0x8af)]['emit'](_0x5d65f1(0x83a),this[_0x5d65f1(0x278)][_0x5d65f1(0x1b3)]);this[_0x5d65f1(0x278)][_0x5d65f1(0x268)][_0x5d65f1(0x757)]++;let _0x498f84={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':_0x5d65f1(0x682)}};Ti[_0x5d65f1(0x831)]['toDataURL'](_0x283f02,_0x498f84,(_0x356894,_0x385a1a)=>{const _0x5d5c5f=_0x5d65f1;if(_0x356894){this[_0x5d5c5f(0x42f)][_0x5d5c5f(0x82d)](this[_0x5d5c5f(0x492)]+'\x20('+this[_0x5d5c5f(0x278)][_0x5d5c5f(0x8d6)]+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x356894 instanceof Error?_0x356894[_0x5d5c5f(0x7c9)]:JSON[_0x5d5c5f(0x1af)](_0x356894,null,0x2)));return;}this[_0x5d5c5f(0x278)][_0x5d5c5f(0x268)][_0x5d5c5f(0x86f)]=_0x385a1a,this[_0x5d5c5f(0x278)][_0x5d5c5f(0x268)]['code']=_0x283f02,!this[_0x5d5c5f(0x850)]&&this['sendDataWebhook'](_0x5d5c5f(0x622),{'qrcode':{'instance':this[_0x5d5c5f(0x278)][_0x5d5c5f(0x1b3)],'pairingCode':this[_0x5d5c5f(0x278)]['qrcode'][_0x5d5c5f(0x219)],'code':_0x283f02,'base64':_0x385a1a}});}),this[_0x5d65f1(0x850)]?this['instance'][_0x5d65f1(0x268)]['pairingCode']||(await(0x0,w[_0x5d65f1(0x22d)])(0x7d0),this[_0x5d65f1(0x278)][_0x5d65f1(0x268)][_0x5d65f1(0x219)]=await this[_0x5d65f1(0x2aa)][_0x5d65f1(0x4ab)](this['phoneNumber'])):this[_0x5d65f1(0x278)][_0x5d65f1(0x268)][_0x5d65f1(0x219)]=null,_i[_0x5d65f1(0x831)][_0x5d65f1(0x3ee)](_0x283f02,{'small':!0x0},_0x50741d=>this[_0x5d65f1(0x42f)][_0x5d65f1(0x1a6)](_0x5d65f1(0x77f)+this[_0x5d65f1(0x278)][_0x5d65f1(0x1b3)]+_0x5d65f1(0x4c7)+this[_0x5d65f1(0x278)][_0x5d65f1(0x268)][_0x5d65f1(0x757)]+_0x5d65f1(0x8a7)+this[_0x5d65f1(0x278)][_0x5d65f1(0x268)]['pairingCode']+_0x5d65f1(0x2fd)+_0x50741d));}if(_0x5d333d&&(this[_0x5d65f1(0x514)]={'state':_0x5d333d,'statusReason':_0x1eef2d?.[_0x5d65f1(0x82d)]?.[_0x5d65f1(0x87a)]?.[_0x5d65f1(0x3b4)]??0xc8},this[_0x5d65f1(0x4e9)]('connection.update',{'instance':this['instance'][_0x5d65f1(0x1b3)],...this['stateConnection']})),_0x5d333d==='close'){if(this[_0x5d65f1(0x1bd)]++,this['reconnectTimestamps'][_0x5d65f1(0x835)](Date['now']()),this[_0x5d65f1(0x8cd)]=this['reconnectTimestamps'][_0x5d65f1(0x58d)](_0x1d3bd8=>Date[_0x5d65f1(0x82e)]()-_0x1d3bd8<this[_0x5d65f1(0x324)]),_0x1eef2d['error']?.[_0x5d65f1(0x87a)]?.[_0x5d65f1(0x3b4)]!==w[_0x5d65f1(0x218)][_0x5d65f1(0x477)]){let _0x50b34a=this[_0x5d65f1(0x1bd)]<=0x1?0x0:Math[_0x5d65f1(0x27e)](Math['pow'](0x2,this[_0x5d65f1(0x1bd)]-0x1)*0x3e8,0x493e0);console[_0x5d65f1(0x1a6)](this[_0x5d65f1(0x492)]+_0x5d65f1(0x69c)+this[_0x5d65f1(0x1bd)]+_0x5d65f1(0x467)+_0x50b34a/0x3e8+_0x5d65f1(0x701)),await new Promise(_0x25713d=>setTimeout(_0x25713d,_0x50b34a)),console[_0x5d65f1(0x1a6)](_0x5d65f1(0x43b)),await this[_0x5d65f1(0x498)]();}else{this['sendDataWebhook'](_0x5d65f1(0x1c4),{'instance':this[_0x5d65f1(0x278)][_0x5d65f1(0x1b3)],'status':_0x5d65f1(0x893)}),this['instance'][_0x5d65f1(0x806)][_0x5d65f1(0x62f)]=!0x1,this[_0x5d65f1(0x3b3)]['webhook'][_0x5d65f1(0x85f)](this[_0x5d65f1(0x492)]),this[_0x5d65f1(0x3b3)][_0x5d65f1(0x7ba)][_0x5d65f1(0x88d)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x5d65f1(0x82e)]()},this['instance'][_0x5d65f1(0x1b3)]),ae[_0x5d65f1(0x444)](B,this[_0x5d65f1(0x278)][_0x5d65f1(0x1b3)]);try{this[_0x5d65f1(0x42f)][_0x5d65f1(0x83f)](this[_0x5d65f1(0x492)]+'\x20('+this[_0x5d65f1(0x278)][_0x5d65f1(0x8d6)]+_0x5d65f1(0x2e8));let _0x19b738=await this[_0x5d65f1(0x3b3)][_0x5d65f1(0x7c9)][_0x5d65f1(0x535)](this['instance'][_0x5d65f1(0x8d6)]);_0x19b738['success']?this['logger'][_0x5d65f1(0x83f)](this[_0x5d65f1(0x492)]+'\x20('+this['instance'][_0x5d65f1(0x8d6)]+_0x5d65f1(0x3f0)):this['logger'][_0x5d65f1(0x82d)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20'+_0x19b738[_0x5d65f1(0x82d)]);}catch(_0x2ea5fd){this['logger'][_0x5d65f1(0x82d)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20'+_0x2ea5fd[_0x5d65f1(0x7c9)]);}this['instance'][_0x5d65f1(0x806)][_0x5d65f1(0x5b4)]!==null&&(this[_0x5d65f1(0x42f)][_0x5d65f1(0x83f)](this[_0x5d65f1(0x492)]+'\x20('+this['instance']['wuid']+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x5d65f1(0x278)][_0x5d65f1(0x806)][_0x5d65f1(0x5b4)]),this['instance'][_0x5d65f1(0x806)][_0x5d65f1(0x5b4)]=null),this[_0x5d65f1(0x42f)]['verbose'](this[_0x5d65f1(0x492)]+'\x20('+this[_0x5d65f1(0x278)]['wuid']+'):\x20Limpando\x20AutomateSystem'),this[_0x5d65f1(0x238)]=null,this[_0x5d65f1(0x8af)][_0x5d65f1(0x5a7)](_0x5d65f1(0x212),this[_0x5d65f1(0x278)]['name'],_0x5d65f1(0x67a)),this[_0x5d65f1(0x2aa)]?.['ws']?.['close'](),this['client'][_0x5d65f1(0x8e5)](new Error(_0x5d65f1(0x36f)));}}if(_0x5d333d==='open'){this[_0x5d65f1(0x42f)][_0x5d65f1(0x3d2)](this[_0x5d65f1(0x492)]+'\x20('+this[_0x5d65f1(0x278)][_0x5d65f1(0x8d6)]+_0x5d65f1(0x4f8)+this['client'][_0x5d65f1(0x61f)]['creds']?.['myAppStateKeyId']),this[_0x5d65f1(0x2aa)][_0x5d65f1(0x61f)][_0x5d65f1(0x8ad)]?.[_0x5d65f1(0x665)]||(this[_0x5d65f1(0x42f)][_0x5d65f1(0x3d2)](this[_0x5d65f1(0x492)]+'\x20('+this[_0x5d65f1(0x278)]['wuid']+'):\x20ev.flush\x20realizado'),this[_0x5d65f1(0x2aa)]['ev']['flush']()),this[_0x5d65f1(0x3f5)],this[_0x5d65f1(0x278)][_0x5d65f1(0x8d6)]=this[_0x5d65f1(0x2aa)][_0x5d65f1(0x7b3)]['id'][_0x5d65f1(0x7ea)](/:\d+/,'')[_0x5d65f1(0x7ea)](_0x5d65f1(0x4f9),''),this[_0x5d65f1(0x278)]['profilePictureUrl']=(await this[_0x5d65f1(0x59b)](this[_0x5d65f1(0x278)]['wuid']+_0x5d65f1(0x4f9)))['profilePictureUrl'],this[_0x5d65f1(0x3b3)][_0x5d65f1(0x7ba)][_0x5d65f1(0x88d)]({'online':!0x0,'owner':this['instance']['wuid'],'lastDisconnect':null},this[_0x5d65f1(0x278)][_0x5d65f1(0x1b3)]);let _0x206951=_0x5d65f1(0x1ce)+this[_0x5d65f1(0x278)]['wuid'],_0x23b979=0x28,_0x45447f=Math['floor']((_0x23b979-_0x206951[_0x5d65f1(0x72e)])/0x2),_0x19399d='\x20'[_0x5d65f1(0x1e3)](_0x45447f),_0x519a7b=_0x5d65f1(0x5bb),_0xd304b0='Instância:\x20'+this[_0x5d65f1(0x278)]['name'],_0x1968ad=(''+_0x19399d+_0x206951+_0x19399d)['padEnd'](_0x23b979,'\x20'),_0x4afcfc=(''+_0x19399d+_0x519a7b+_0x19399d)[_0x5d65f1(0x41b)](_0x23b979,'\x20'),_0xa02487=(''+_0x19399d+_0xd304b0+_0x19399d)[_0x5d65f1(0x41b)](_0x23b979,'\x20'),_0x65c643=Math[_0x5d65f1(0x225)](_0x1968ad[_0x5d65f1(0x72e)],_0x4afcfc['length'],_0xa02487['length']),_0x2020ac=_0x1968ad[_0x5d65f1(0x41b)](_0x65c643,'\x20'),_0x55329c=_0x4afcfc[_0x5d65f1(0x41b)](_0x65c643,'\x20'),_0x25a82c=_0xa02487[_0x5d65f1(0x41b)](_0x65c643,'\x20');this[_0x5d65f1(0x42f)]['info']((_0x5d65f1(0x486)+'─'[_0x5d65f1(0x1e3)](_0x65c643)+_0x5d65f1(0x343)+_0x55329c+_0x5d65f1(0x406)+_0x25a82c+_0x5d65f1(0x406)+_0x2020ac+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'['repeat'](_0x65c643)+'┘')[_0x5d65f1(0x7ea)](/^ +/gm,'\x20\x20')),this[_0x5d65f1(0x784)](),this[_0x5d65f1(0x278)]['ScheduleMessage'][_0x5d65f1(0x62f)]=!0x0;}}[a0_0x4c01ce(0x3f5)](){const _0x1e5ff2=a0_0x4c01ce;this[_0x1e5ff2(0x1bd)]=0x0,this[_0x1e5ff2(0x8cd)]=[];}async[a0_0x4c01ce(0x445)](_0x31b7e9,_0x33b332=!0x1){const _0x5f5736=a0_0x4c01ce;try{let _0x2c04fb=await this['repository'][_0x5f5736(0x7c9)][_0x5f5736(0x361)]({'where':{'_id':_0x31b7e9['id']}},this[_0x5f5736(0x278)][_0x5f5736(0x8d6)]);return _0x33b332?_0x2c04fb[0x0]:_0x2c04fb[0x0][_0x5f5736(0x7c9)];}catch{return{'conversation':''};}}[a0_0x4c01ce(0x4e7)](){const _0x56879b=a0_0x4c01ce;let _0x1c16c8=this[_0x56879b(0x415)][_0x56879b(0x5f0)](_0x56879b(0x8bc)),_0xcf01e9=this[_0x56879b(0x415)][_0x56879b(0x5f0)](_0x56879b(0x35c));_0x1c16c8?.[_0x56879b(0x34a)]&&!_0xcf01e9[_0x56879b(0x25d)]&&setInterval(()=>{const _0xe7d56c=_0x56879b;try{for(let [_0x348858,_0x3da2c0]of Object[_0xe7d56c(0x371)](_0x1c16c8))_0x3da2c0===!0x0&&(0x0,Fe[_0xe7d56c(0x2b2)])(_0xe7d56c(0x7f9)+(0x0,j['join'])(this[_0xe7d56c(0x7e2)],_0x348858[_0xe7d56c(0x25b)](),this[_0xe7d56c(0x278)][_0xe7d56c(0x8d6)])+'/*.json');}catch{}},(_0x1c16c8?.[_0x56879b(0x34a)]??0xe10)*0x3e8);}async[a0_0x4c01ce(0x4d4)](){const _0x93dfef=a0_0x4c01ce;let _0x1288ec=this['configService'][_0x93dfef(0x5f0)](_0x93dfef(0x35c)),_0x13149a=this[_0x93dfef(0x415)][_0x93dfef(0x5f0)](_0x93dfef(0x5ff));return _0x13149a?.[_0x93dfef(0x25d)]?await Os(_0x13149a,this[_0x93dfef(0x278)][_0x93dfef(0x1b3)]):_0x1288ec[_0x93dfef(0x25d)]?await _s(this['instance'][_0x93dfef(0x1b3)]):await(0x0,w[_0x93dfef(0x40a)])((0x0,j[_0x93dfef(0x78e)])(Se,this[_0x93dfef(0x278)]['name']));}async[a0_0x4c01ce(0x784)](){const _0x3a76ac=a0_0x4c01ce;let _0x17aa85=()=>Math[_0x3a76ac(0x279)](Math[_0x3a76ac(0x88c)]()*0x4e21)+0x7d0,_0x2007d9=async()=>{const _0x42c9f4=_0x3a76ac;if(!this['instance'][_0x42c9f4(0x806)][_0x42c9f4(0x62f)]){this['logger'][_0x42c9f4(0x83f)](this[_0x42c9f4(0x492)]+'\x20('+this[_0x42c9f4(0x278)][_0x42c9f4(0x8d6)]+_0x42c9f4(0x399)),this[_0x42c9f4(0x694)]=!0x1;return;}if(this[_0x42c9f4(0x278)][_0x42c9f4(0x8d6)]&&this[_0x42c9f4(0x238)]&&this[_0x42c9f4(0x278)][_0x42c9f4(0x806)]['delayMessage']!==null&&this['instance']['ScheduleMessage'][_0x42c9f4(0x5b4)]!==void 0x0){let _0x5eb76c=Math[_0x42c9f4(0x35e)](this[_0x42c9f4(0x278)]['ScheduleMessage'][_0x42c9f4(0x5b4)]/0xea60);this[_0x42c9f4(0x42f)][_0x42c9f4(0x83f)](this[_0x42c9f4(0x492)]+'\x20('+this[_0x42c9f4(0x278)]['wuid']+_0x42c9f4(0x86b)+_0x5eb76c+_0x42c9f4(0x78c)),this['isRunning']=!0x1;return;}else this[_0x42c9f4(0x278)]['wuid']&&(this[_0x42c9f4(0x42f)][_0x42c9f4(0x83f)](this[_0x42c9f4(0x492)]+'\x20('+this['instance'][_0x42c9f4(0x8d6)]+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x42c9f4(0x238)]||(await this['getAutomateSystem'](),this['findRealGroups'](),this['synchronizeAndMapFlows']()),(this[_0x42c9f4(0x278)][_0x42c9f4(0x806)][_0x42c9f4(0x5b4)]===null||this[_0x42c9f4(0x278)][_0x42c9f4(0x806)][_0x42c9f4(0x5b4)]===void 0x0)&&await this[_0x42c9f4(0x663)]());if(this[_0x42c9f4(0x694)]){let _0x851e3=_0x17aa85();this[_0x42c9f4(0x42f)][_0x42c9f4(0x83f)](this[_0x42c9f4(0x492)]+_0x42c9f4(0x8d0)+_0x851e3/0x3e8+'\x20segundos'),setTimeout(_0x2007d9,_0x851e3);}};if(this['isRunning'])return;this['isRunning']=!0x0;let _0x1ed7dd=_0x17aa85();setTimeout(_0x2007d9,_0x1ed7dd);}async['synchronizeAndMapFlows'](){const _0x129223=a0_0x4c01ce;let _0xcd9fc3=this[_0x129223(0x278)][_0x129223(0x8d6)];try{let _0x116afd=await this[_0x129223(0x3b3)][_0x129223(0x1a1)]['findAll']({'where':{'$or':[{'owner':_0xcd9fc3},{'whoCanUse':{'$in':[_0xcd9fc3]}},{'shareOwners':{'$in':[_0xcd9fc3]}}]}}),_0x3445ef=new Map(this[_0x129223(0x238)][_0x129223(0x327)][_0x129223(0x37b)](_0x553d51=>[_0x553d51['_id'],_0x553d51])),_0x552478=_0x116afd['map'](_0x190ec7=>{const _0x126a01=_0x129223;let _0x82d4ec=_0x3445ef[_0x126a01(0x5f0)](_0x190ec7[_0x126a01(0x791)]?.[_0x126a01(0x7b0)]());return{'_id':_0x190ec7[_0x126a01(0x791)]?.[_0x126a01(0x7b0)](),'name':_0x82d4ec?.[_0x126a01(0x1b3)]??_0x190ec7['name'],'default':_0x82d4ec?.[_0x126a01(0x831)]??_0x190ec7['default']??!0x1,'startCommand':_0x82d4ec?.[_0x126a01(0x882)]??_0x190ec7[_0x126a01(0x814)],'minutesToClose':_0x82d4ec?.[_0x126a01(0x750)]??_0x190ec7['minutesToClose']??0xa,'readMessages':_0x82d4ec?.['readMessages']??_0x190ec7[_0x126a01(0x262)]??!0x1,'testingWith':_0x82d4ec?.[_0x126a01(0x1c7)]??_0x190ec7[_0x126a01(0x1c7)],'canEdit':_0x190ec7[_0x126a01(0x3f6)]===_0xcd9fc3||(_0x190ec7[_0x126a01(0x7f0)]??[])[_0x126a01(0x570)](_0xcd9fc3),'usersCount':(_0x190ec7[_0x126a01(0x8d3)]??[])[_0x126a01(0x72e)]??0x0};}),_0x8a8d8=!0x1;_0x552478[_0x129223(0x68b)](_0x41bd1d=>{const _0x3f8508=_0x129223;_0x41bd1d[_0x3f8508(0x831)]&&(_0x8a8d8?_0x41bd1d[_0x3f8508(0x831)]=!0x1:_0x8a8d8=!0x0);}),this[_0x129223(0x238)][_0x129223(0x327)]=_0x552478;let _0x3795e4={'flows':_0x552478};return await this[_0x129223(0x3b3)]['automateSystem'][_0x129223(0x79f)](_0x3795e4,_0xcd9fc3),this[_0x129223(0x42f)][_0x129223(0x83f)](this[_0x129223(0x492)]+'\x20('+_0xcd9fc3+'):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.'),_0x552478[_0x129223(0x72e)];}catch(_0x2593b4){return this[_0x129223(0x42f)][_0x129223(0x82d)](this[_0x129223(0x492)]+'\x20('+_0xcd9fc3+'):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20'+(_0x2593b4 instanceof Error?_0x2593b4[_0x129223(0x7c9)]:JSON[_0x129223(0x1af)](_0x2593b4,null,0x2))),{'message':_0x129223(0x6ac)+(_0x2593b4 instanceof Error?_0x2593b4[_0x129223(0x7c9)]:JSON['stringify'](_0x2593b4,null,0x2))};}}async[a0_0x4c01ce(0x498)](_0x7f4350){const _0x541544=a0_0x4c01ce;try{let _0x102d4f=await this[_0x541544(0x3b3)][_0x541544(0x278)][_0x541544(0x280)]({'where':{'_id':B+'-'+this[_0x541544(0x492)]}}),_0x4acc57,_0x51b8c0=!ae[_0x541544(0x7fd)]||!ae[_0x541544(0x78b)];console['log']('--------------------------------------'),console[_0x541544(0x1a6)](_0x541544(0x86c),Ai),console['log'](_0x541544(0x574),this[_0x541544(0x1bd)]),console[_0x541544(0x1a6)](_0x541544(0x4b0)),Ai&&!_0x51b8c0&&(this[_0x541544(0x1bd)]<0x4||!this[_0x541544(0x1bd)]?_0x102d4f&&_0x102d4f['ip']?(_0x4acc57=_0x102d4f['ip'],console['log'](_0x541544(0x704)+_0x4acc57)):(_0x4acc57=await ae[_0x541544(0x575)](B,this[_0x541544(0x278)][_0x541544(0x1b3)]),_0x4acc57?(console[_0x541544(0x1a6)](_0x541544(0x5b9)+_0x4acc57),await(0x0,w['delay'])(0x7d0)):console[_0x541544(0x82d)](_0x541544(0x1f4))):this['reconnectAttempts']<0x6&&(await ae[_0x541544(0x444)](B,this[_0x541544(0x278)][_0x541544(0x1b3)]),console[_0x541544(0x1a6)]('IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.'),_0x4acc57=await ae[_0x541544(0x575)](B,this[_0x541544(0x278)][_0x541544(0x1b3)]),_0x4acc57?(console['log']('Novo\x20IP\x20criado:\x20'+_0x4acc57),await(0x0,w[_0x541544(0x22d)])(0x7d0)):console[_0x541544(0x82d)](_0x541544(0x1ab)))),this[_0x541544(0x4aa)](),this[_0x541544(0x278)][_0x541544(0x30e)]=(await this[_0x541544(0x3b3)]['auth']['find'](this['instance']['name']))['apikey'],this['instance'][_0x541544(0x61f)]=await this[_0x541544(0x4d4)]();let {version:_0x29cc1a}=await(0x0,w[_0x541544(0x53c)])(),_0x12b4bc=[xi,Fs,(0x0,Ds[_0x541544(0x3f3)])()],_0x2bc59d={'localAddress':_0x4acc57,'auth':{'creds':this[_0x541544(0x278)][_0x541544(0x61f)][_0x541544(0x51d)][_0x541544(0x8ad)],'keys':(0x0,w[_0x541544(0x7a3)])(this[_0x541544(0x278)][_0x541544(0x61f)]['state'][_0x541544(0x6c3)],(0x0,Ft[_0x541544(0x831)])({'level':_0x541544(0x82d)}))},'logger':(0x0,Ft[_0x541544(0x831)])({'level':_0x541544(0x82d)}),'printQRInTerminal':!0x1,'browser':_0x7f4350?['Mac\x20OS',Fs,(0x0,Ds[_0x541544(0x3f3)])()]:_0x12b4bc,'version':_0x29cc1a,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x24daca=>{const _0x2ecc4d=_0x541544;let _0x4190eb=this[_0x2ecc4d(0x494)]?.['groups_ignore']&&(0x0,w['isJidGroup'])(_0x24daca);return(0x0,w[_0x2ecc4d(0x7ee)])(_0x24daca)||_0x4190eb;},'msgRetryCounterCache':this[_0x541544(0x246)],'getMessage':async _0x130147=>await this['getMessage'](_0x130147),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x541544(0x44c)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x448483){const _0x1ae28e=_0x541544;return _0x448483[_0x1ae28e(0x894)]?.[_0x1ae28e(0x7c9)]?.['listMessage']?.[_0x1ae28e(0x730)]===w[_0x1ae28e(0x430)][_0x1ae28e(0x644)][_0x1ae28e(0x525)]['ListType']['PRODUCT_LIST']&&(_0x448483=JSON['parse'](JSON['stringify'](_0x448483)),_0x448483[_0x1ae28e(0x894)][_0x1ae28e(0x7c9)][_0x1ae28e(0x8c6)][_0x1ae28e(0x730)]=w['proto'][_0x1ae28e(0x644)][_0x1ae28e(0x525)][_0x1ae28e(0x71c)][_0x1ae28e(0x533)]),_0x448483[_0x1ae28e(0x8c6)]?.['listType']==w[_0x1ae28e(0x430)]['Message'][_0x1ae28e(0x525)][_0x1ae28e(0x71c)][_0x1ae28e(0x1bc)]&&(_0x448483=JSON['parse'](JSON[_0x1ae28e(0x1af)](_0x448483)),_0x448483[_0x1ae28e(0x8c6)][_0x1ae28e(0x730)]=w[_0x1ae28e(0x430)][_0x1ae28e(0x644)]['ListMessage']['ListType'][_0x1ae28e(0x533)]),_0x448483;}};return this[_0x541544(0x409)]=!0x1,this[_0x541544(0x2aa)]=(0x0,w[_0x541544(0x831)])(_0x2bc59d),this['eventHandler'](),this['phoneNumber']=_0x7f4350,this[_0x541544(0x2aa)];}catch(_0x2024c0){let _0x39a289=_0x541544(0x478),_0x38a44c=_0x2024c0 instanceof Error?_0x2024c0[_0x541544(0x7c9)]:typeof _0x2024c0==_0x541544(0x28b)?JSON[_0x541544(0x1af)](_0x2024c0):_0x2024c0,_0x3e79eb=_0x39a289+':\x20'+_0x38a44c;throw this[_0x541544(0x42f)][_0x541544(0x82d)](this[_0x541544(0x492)]+'\x20('+this[_0x541544(0x278)]['wuid']+_0x541544(0x6b7)+_0x3e79eb),console[_0x541544(0x82d)](_0x541544(0x48a),_0x2024c0),_0x2024c0 instanceof Error&&console['error'](_0x541544(0x23a),_0x2024c0[_0x541544(0x6bf)]),new x(_0x3e79eb);}}[a0_0x4c01ce(0x47d)](){const _0x2ab794=a0_0x4c01ce;this[_0x2ab794(0x2aa)]['ev'][_0x2ab794(0x481)](_0x17ff5d=>{const _0x369ca4=_0x2ab794;if(!this[_0x369ca4(0x409)]){let _0xf5b14f=this[_0x369ca4(0x415)][_0x369ca4(0x5f0)](_0x369ca4(0x35c));if(_0x17ff5d[_0x369ca4(0x6b1)]){let _0x3afe18=_0x17ff5d[_0x369ca4(0x6b1)];this['messageHandle']['labels.edit'](_0x3afe18);}if(_0x17ff5d[_0x369ca4(0x60d)]){let _0x362eb8=_0x17ff5d['labels.association'];this[_0x369ca4(0x267)][_0x369ca4(0x60d)](_0x362eb8);}if(_0x17ff5d[_0x369ca4(0x51e)]&&this[_0x369ca4(0x4f5)](_0x17ff5d[_0x369ca4(0x51e)]),_0x17ff5d['creds.update']&&this[_0x369ca4(0x278)][_0x369ca4(0x61f)][_0x369ca4(0x3ca)](),_0x17ff5d[_0x369ca4(0x3a6)]){let _0x54c6fb=_0x17ff5d[_0x369ca4(0x3a6)];this[_0x369ca4(0x267)]['messaging-history.set'](_0x54c6fb,_0xf5b14f);}if(_0x17ff5d[_0x369ca4(0x7b9)]){let _0x291d53=_0x17ff5d['messages.upsert'];this[_0x369ca4(0x267)][_0x369ca4(0x7b9)](_0x291d53,_0xf5b14f);}if(_0x17ff5d['messages.update']){let _0x238f4d=_0x17ff5d[_0x369ca4(0x898)];this[_0x369ca4(0x267)]['messages.update'](_0x238f4d,_0xf5b14f);}if(_0x17ff5d[_0x369ca4(0x2ea)]){let _0x17755c=_0x17ff5d[_0x369ca4(0x2ea)];if(this[_0x369ca4(0x494)]?.[_0x369ca4(0x75d)]&&_0x17755c['id'][_0x369ca4(0x570)](_0x369ca4(0x2cb)))return;this[_0x369ca4(0x4e9)]('presence.update',_0x17755c);}if(_0x17ff5d[_0x369ca4(0x21d)]){let _0x1e692e=_0x17ff5d[_0x369ca4(0x21d)];this[_0x369ca4(0x206)][_0x369ca4(0x21d)](_0x1e692e);}if(_0x17ff5d[_0x369ca4(0x4cc)]){let _0x34a185=_0x17ff5d[_0x369ca4(0x4cc)];this['groupHandler']['groups.update'](_0x34a185);}if(_0x17ff5d[_0x369ca4(0x27d)]){let _0x295851=_0x17ff5d[_0x369ca4(0x27d)];this['groupHandler'][_0x369ca4(0x27d)](_0x295851);}if(_0x17ff5d[_0x369ca4(0x626)]){let _0x509301=_0x17ff5d[_0x369ca4(0x626)];this['chatHandle'][_0x369ca4(0x626)](_0x509301,_0xf5b14f);}if(_0x17ff5d['chats.update']){let _0x24389c=_0x17ff5d[_0x369ca4(0x527)];this[_0x369ca4(0x62b)]['chats.update'](_0x24389c,_0xf5b14f);}if(_0x17ff5d[_0x369ca4(0x30d)]){let _0x311dd0=_0x17ff5d['chats.delete'];this['chatHandle'][_0x369ca4(0x30d)](_0x311dd0);}if(_0x17ff5d[_0x369ca4(0x580)]){let _0x565bf3=_0x17ff5d['contacts.upsert'];this[_0x369ca4(0x7fb)][_0x369ca4(0x580)](_0x565bf3,_0xf5b14f);}if(_0x17ff5d[_0x369ca4(0x3c4)]){let _0x147b56=_0x17ff5d[_0x369ca4(0x3c4)];this[_0x369ca4(0x7fb)][_0x369ca4(0x3c4)](_0x147b56,_0xf5b14f);}}});}async[a0_0x4c01ce(0x647)](_0x5f4f49,_0x82b1fa){const _0x2f3eee=a0_0x4c01ce;if(_0x82b1fa>=0xa){console[_0x2f3eee(0x82d)](this[_0x2f3eee(0x492)]+'\x20('+this[_0x2f3eee(0x278)][_0x2f3eee(0x8d6)]+_0x2f3eee(0x28e)),delete Lt[_0x5f4f49['key']['id']];return;}try{console[_0x2f3eee(0x82d)](this[_0x2f3eee(0x492)]+'\x20('+this[_0x2f3eee(0x278)][_0x2f3eee(0x8d6)]+_0x2f3eee(0x502)+(_0x82b1fa+0x1)),await this[_0x2f3eee(0x2aa)][_0x2f3eee(0x7e7)](JSON[_0x2f3eee(0x2c1)](_0x5f4f49[_0x2f3eee(0x34b)][0x1],w[_0x2f3eee(0x646)]['reviver'])),console[_0x2f3eee(0x82d)](_0x2f3eee(0x40f));}catch(_0x41e30f){console['error'](this[_0x2f3eee(0x492)]+'\x20('+this[_0x2f3eee(0x278)]['wuid']+_0x2f3eee(0x21e)+_0x41e30f),setTimeout(()=>this[_0x2f3eee(0x647)](_0x5f4f49,_0x82b1fa+0x1),Math[_0x2f3eee(0x6a2)](0x2,_0x82b1fa)*0x3e8);}}async['fakeReceived'](_0x1120f8){const _0x3a07e4=a0_0x4c01ce;let _0x53f59=_0x1120f8[_0x3a07e4(0x76c)][_0x3a07e4(0x7df)][_0x3a07e4(0x63d)](_0x3a07e4(0x2cb)),_0x212b14;if(_0x1120f8['key'][_0x3a07e4(0x8b9)])_0x212b14=this[_0x3a07e4(0x278)][_0x3a07e4(0x7d5)];else{let _0x58ec9f=_0x53f59?_0x1120f8[_0x3a07e4(0x76c)]['participant']:_0x1120f8[_0x3a07e4(0x76c)][_0x3a07e4(0x7df)];_0x212b14=(await this[_0x3a07e4(0x3a2)](_0x58ec9f,_0x1120f8[_0x3a07e4(0x6af)],!0x1))[_0x3a07e4(0x3d0)][_0x3a07e4(0x313)];}let _0x596533={'_id':_0x1120f8['key']['id'],'key':_0x1120f8[_0x3a07e4(0x76c)],'isGroup':_0x53f59,'profilePictureUrl':_0x212b14,'pushName':_0x1120f8[_0x3a07e4(0x6af)],'message':{'text':_0x3a07e4(0x86d)},'messageType':_0x3a07e4(0x82d),'message_normalized':{'key':_0x1120f8[_0x3a07e4(0x76c)],'pushName':_0x1120f8[_0x3a07e4(0x6af)],'messageTimestamp':_0x1120f8[_0x3a07e4(0x52a)],'source':(0x0,w[_0x3a07e4(0x6de)])(_0x1120f8[_0x3a07e4(0x76c)]['id']),'text':_0x3a07e4(0x86d)},'messageTimestamp':_0x1120f8['messageTimestamp'],'owner':this[_0x3a07e4(0x278)][_0x3a07e4(0x8d6)],'source':(0x0,w[_0x3a07e4(0x6de)])(_0x1120f8[_0x3a07e4(0x76c)]['id'])};this[_0x3a07e4(0x42f)][_0x3a07e4(0x82d)](this[_0x3a07e4(0x492)]+'\x20('+this[_0x3a07e4(0x278)][_0x3a07e4(0x8d6)]+_0x3a07e4(0x6b7)+(_0x596533[_0x3a07e4(0x76c)]?.[_0x3a07e4(0x8b9)]?'enviado\x20para':_0x3a07e4(0x637))+'\x20['+_0x596533[_0x3a07e4(0x76c)]?.[_0x3a07e4(0x7df)][_0x3a07e4(0x7ea)](_0x3a07e4(0x4f9),'')+']\x20('+_0x596533[_0x3a07e4(0x388)]+')'),_0x596533[_0x3a07e4(0x2ac)]?.[_0x3a07e4(0x23e)]&&this[_0x3a07e4(0x42f)][_0x3a07e4(0x82d)](_0x1120f8[_0x3a07e4(0x76c)]['id']+':\x20'+_0x596533[_0x3a07e4(0x2ac)]?.[_0x3a07e4(0x23e)]),await this['repository'][_0x3a07e4(0x7c9)]['insert']([_0x596533],this['instance'][_0x3a07e4(0x8d6)]),await this[_0x3a07e4(0x3b3)][_0x3a07e4(0x6ce)]['insert']([_0x596533]),this[_0x3a07e4(0x4e9)](_0x3a07e4(0x7b9),_0x596533),F(this[_0x3a07e4(0x492)],_0x3a07e4(0x3e3),{'message':_0x596533});}[a0_0x4c01ce(0x377)](_0x5c185d){return new Promise(_0x56bb6c=>setTimeout(_0x56bb6c,_0x5c185d));}[a0_0x4c01ce(0x32b)](_0x290c5f){const _0xea2f11=a0_0x4c01ce;_0x290c5f=_0x290c5f['replace'](/\D/g,'');let _0x23c92f=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0xea2f11(0x6d1)](_0x290c5f);if(_0x23c92f&&_0x23c92f[0x1]==='55'){let _0xc8f3f2=_0x23c92f[0x2],_0x1ebfc0=_0x23c92f[0x3],_0x11bc16=_0x23c92f[0x4];if(parseInt(_0xc8f3f2)>=0x1f&&_0x1ebfc0==='9')return _0x23c92f[0x1]+_0xc8f3f2+_0x11bc16;}return _0x290c5f;}['createJid'](_0x508c8f){const _0x4b6b52=a0_0x4c01ce;return _0x508c8f[_0x4b6b52(0x570)]('@g.us')||_0x508c8f['includes']('@s.whatsapp.net')||_0x508c8f[_0x4b6b52(0x570)](_0x4b6b52(0x3e4))?_0x508c8f:(_0x508c8f=_0x508c8f?.[_0x4b6b52(0x7ea)](/\s/g,'')[_0x4b6b52(0x7ea)](/\+/g,'')[_0x4b6b52(0x7ea)](/\(/g,'')[_0x4b6b52(0x7ea)](/\)/g,'')[_0x4b6b52(0x85e)](/\:/)[0x0][_0x4b6b52(0x85e)]('@')[0x0],_0x508c8f[_0x4b6b52(0x72e)]>=0x12?(_0x508c8f=_0x508c8f[_0x4b6b52(0x7ea)](/[^\d-]/g,''),_0x508c8f+_0x4b6b52(0x2cb)):(_0x508c8f=_0x508c8f[_0x4b6b52(0x7ea)](/\D/g,''),_0x508c8f+_0x4b6b52(0x4f9)));}async[a0_0x4c01ce(0x29b)](_0x2c6f3b){const _0x1a14d9=a0_0x4c01ce;let _0x1f0eb8=(await this['whatsappNumber']({'numbers':[_0x2c6f3b[_0x1a14d9(0x4bd)]]}))[0x0];if(!_0x1f0eb8[_0x1a14d9(0x27f)]&&!(0x0,w[_0x1a14d9(0x75a)])(_0x1f0eb8[_0x1a14d9(0x28d)])&&!_0x1f0eb8[_0x1a14d9(0x28d)][_0x1a14d9(0x570)](_0x1a14d9(0x3e4)))throw new m(_0x1f0eb8);let _0x21fe1a=_0x1f0eb8[_0x1a14d9(0x28d)];try{return await this[_0x1a14d9(0x2aa)][_0x1a14d9(0x1d1)](_0x21fe1a),await this[_0x1a14d9(0x2aa)][_0x1a14d9(0x4b8)](_0x2c6f3b[_0x1a14d9(0x64c)],_0x21fe1a),{'status':0xc8,'presence':_0x2c6f3b[_0x1a14d9(0x64c)]};}catch(_0x12aa94){let _0x516868=_0x1a14d9(0x290),_0xe34ba1=_0x12aa94 instanceof Error?_0x12aa94[_0x1a14d9(0x7c9)]:typeof _0x12aa94==_0x1a14d9(0x28b)?JSON[_0x1a14d9(0x1af)](_0x12aa94):_0x12aa94,_0x3e2b46=_0x516868+':\x20'+_0xe34ba1;throw this['logger'][_0x1a14d9(0x82d)](this[_0x1a14d9(0x492)]+'\x20('+this[_0x1a14d9(0x278)][_0x1a14d9(0x8d6)]+'):\x20'+_0x3e2b46),new m(_0x3e2b46);}}async[a0_0x4c01ce(0x3a2)](_0x2ddf8e,_0x4aa4fb,_0x4cb212,_0x271a9a=!0x0){const _0x39cd6d=a0_0x4c01ce;let _0x2681a9=await this['repository']['cacheContact'][_0x39cd6d(0x280)]({'where':{'_id':_0x2ddf8e}});if(!_0x2681a9&&!_0x271a9a)return;let _0x79ea58={'lastUpdate':Date[_0x39cd6d(0x82e)]()};if(_0x4cb212||!_0x2681a9?.[_0x39cd6d(0x3b1)]||Date[_0x39cd6d(0x82e)]()-_0x2681a9[_0x39cd6d(0x3b1)]>0x18*0x3c*0x3c*0x3e8)try{let _0x548ef0=(await this[_0x39cd6d(0x59b)](_0x2ddf8e))['profilePictureUrl'];_0x79ea58[_0x39cd6d(0x313)]=_0x548ef0;}catch(_0x565e3a){let _0x2cbcd1=_0x39cd6d(0x808),_0x47a89c=_0x565e3a instanceof Error?_0x565e3a[_0x39cd6d(0x7c9)]:typeof _0x565e3a=='object'?JSON[_0x39cd6d(0x1af)](_0x565e3a):_0x565e3a,_0x13c894=_0x2cbcd1+':\x20'+_0x47a89c;throw this[_0x39cd6d(0x42f)][_0x39cd6d(0x82d)](this[_0x39cd6d(0x492)]+'\x20('+this['instance'][_0x39cd6d(0x8d6)]+_0x39cd6d(0x6b7)+_0x13c894),new m(_0x13c894);}return _0x4aa4fb&&_0x2681a9?.[_0x39cd6d(0x1b3)]!==_0x4aa4fb&&(_0x79ea58[_0x39cd6d(0x1b3)]=_0x4aa4fb),Object[_0x39cd6d(0x6c3)](_0x79ea58)['length']>0x1&&(_0x2681a9?await this[_0x39cd6d(0x3b3)]['cacheContact'][_0x39cd6d(0x79f)]({'where':{'_id':_0x2ddf8e}},_0x79ea58):await this[_0x39cd6d(0x3b3)][_0x39cd6d(0x4e1)][_0x39cd6d(0x5df)]([{'_id':_0x2ddf8e,..._0x79ea58}]),_0x2681a9={..._0x2681a9,..._0x79ea58}),{'cachedContact':_0x2681a9};}async[a0_0x4c01ce(0x59b)](_0x158448){const _0x165526=a0_0x4c01ce;let _0x3323ff=this[_0x165526(0x673)](_0x158448);try{return{'wuid':_0x3323ff,'profilePictureUrl':await this[_0x165526(0x2aa)][_0x165526(0x7d5)](_0x3323ff,_0x165526(0x499))};}catch{return{'wuid':_0x3323ff,'profilePictureUrl':null};}}async[a0_0x4c01ce(0x8f6)](_0x282d01,_0x2d7def,_0x59b37e){const _0x50e8b8=a0_0x4c01ce;let _0x3a0d21;try{let _0x3271b6=(await this['whatsappNumber']({'numbers':[_0x282d01]}))?.['shift']();if(!_0x3271b6[_0x50e8b8(0x27f)]&&!(0x0,w[_0x50e8b8(0x75a)])(_0x3271b6[_0x50e8b8(0x28d)])&&!_0x3271b6[_0x50e8b8(0x28d)]['includes'](_0x50e8b8(0x3e4)))throw new m(_0x3271b6);_0x3a0d21=_0x3271b6['jid'];}catch(_0x1157d3){_0x3a0d21=_0x282d01,this[_0x50e8b8(0x42f)][_0x50e8b8(0x3d2)](this[_0x50e8b8(0x492)]+'\x20('+this['instance'][_0x50e8b8(0x8d6)]+_0x50e8b8(0x713)+_0x1157d3[_0x50e8b8(0x7c9)]),this['logger'][_0x50e8b8(0x3d2)](this[_0x50e8b8(0x492)]+'\x20('+this[_0x50e8b8(0x278)][_0x50e8b8(0x8d6)]+'):\x20sender\x20=\x20number:\x20'+_0x3a0d21);}try{if(_0x3a0d21||(_0x3a0d21=_0x282d01,this[_0x50e8b8(0x42f)]['warn'](this[_0x50e8b8(0x492)]+'\x20('+this['instance'][_0x50e8b8(0x8d6)]+_0x50e8b8(0x5ce)+_0x3a0d21)),_0x59b37e||(_0x59b37e={}),_0x59b37e?.[_0x50e8b8(0x22d)]){await this['client'][_0x50e8b8(0x1d1)](_0x3a0d21),await this['client'][_0x50e8b8(0x4b8)](_0x59b37e?.[_0x50e8b8(0x64c)]??_0x50e8b8(0x660),_0x3a0d21);let _0x324edf=Math[_0x50e8b8(0x27e)](_0x59b37e['delay'],0x2710);await(0x0,w[_0x50e8b8(0x22d)])(_0x324edf),await this[_0x50e8b8(0x2aa)][_0x50e8b8(0x4b8)]('paused',_0x3a0d21);}let _0x458fea=_0x59b37e?.[_0x50e8b8(0x55c)]!=!0x1?void 0x0:!0x1,_0xccff58;if(_0x59b37e?.[_0x50e8b8(0x7fa)]){let _0x2ab9f1=_0x59b37e?.['quoted'],_0x5304af=_0x2ab9f1?.['message']?_0x2ab9f1:await this[_0x50e8b8(0x445)](_0x2ab9f1[_0x50e8b8(0x76c)],!0x0);_0x5304af&&(_0xccff58=_0x5304af);}let _0x4e2024=await this['repository'][_0x50e8b8(0x8c3)][_0x50e8b8(0x280)]({'where':{'_id':_0x3a0d21}},this[_0x50e8b8(0x278)][_0x50e8b8(0x8d6)]),_0x4f7eda,_0x257743=null;if((0x0,w[_0x50e8b8(0x75a)])(_0x3a0d21))try{if(_0x257743=_0x4e2024[_0x50e8b8(0x685)],!_0x257743)throw new U(_0x50e8b8(0x423));if(!_0x257743[_0x50e8b8(0x1ec)])throw new m(_0x50e8b8(0x544));_0x59b37e?.[_0x50e8b8(0x2ec)]&&(_0x59b37e['mentions']?.[_0x50e8b8(0x231)]?_0x4f7eda=_0x257743[_0x50e8b8(0x2c0)][_0x50e8b8(0x37b)](_0x4a6818=>_0x4a6818['id']):_0x59b37e[_0x50e8b8(0x2ec)]?.[_0x50e8b8(0x5e5)]?.[_0x50e8b8(0x72e)]&&(_0x4f7eda=_0x59b37e[_0x50e8b8(0x2ec)][_0x50e8b8(0x5e5)]['map'](_0x337904=>{const _0x5aadf5=_0x50e8b8;let _0x3c761d=this[_0x5aadf5(0x673)](_0x337904);return(0x0,w[_0x5aadf5(0x75a)])(_0x3c761d)?null:_0x3c761d;})));}catch(_0xd531c1){throw _0xd531c1 instanceof U?new U(_0x50e8b8(0x423)):_0xd531c1 instanceof m?new m(_0x50e8b8(0x544)):new Error(_0x50e8b8(0x6c6));}let _0x3c73b6=await((async()=>{const _0x2ba590=_0x50e8b8;let _0x2501b0={'quoted':_0xccff58,'ephemeralExpiration':_0x4e2024?.[_0x2ba590(0x57d)]??0x0};if(!_0x2d7def['audio']&&!_0x2d7def[_0x2ba590(0x8e4)]&&!_0x2d7def[_0x2ba590(0x879)]&&!_0x2d7def[_0x2ba590(0x89d)]&&_0x3a0d21!==_0x2ba590(0x1f0)&&_0x2d7def[_0x2ba590(0x512)])return await this[_0x2ba590(0x2aa)][_0x2ba590(0x1cb)](_0x3a0d21,{'react':{'text':_0x2d7def[_0x2ba590(0x512)]['text'],'key':_0x2d7def[_0x2ba590(0x512)][_0x2ba590(0x76c)]}},_0x2501b0);if(_0x2d7def['conversation']){let _0x4f213a=_0x2d7def[_0x2ba590(0x89d)];return _0x59b37e?.['changeVariables']&&(_0x4f213a=await this[_0x2ba590(0x2c9)](_0x4f213a,_0x3a0d21)),await this[_0x2ba590(0x2aa)][_0x2ba590(0x1cb)](_0x3a0d21,{'text':_0x4f213a,'mentions':_0x4f7eda,'linkPreview':_0x458fea},_0x2501b0);}return!_0x2d7def['audio']&&!_0x2d7def[_0x2ba590(0x8e4)]&&_0x3a0d21!=_0x2ba590(0x1f0)?await this[_0x2ba590(0x2aa)][_0x2ba590(0x1cb)](_0x3a0d21,{'forward':{'key':{'remoteJid':this[_0x2ba590(0x278)][_0x2ba590(0x8d6)],'fromMe':!0x0},'message':_0x2d7def},'mentions':_0x4f7eda},_0x2501b0):_0x3a0d21===_0x2ba590(0x1f0)?await this[_0x2ba590(0x2aa)][_0x2ba590(0x1cb)](_0x3a0d21,_0x2d7def[_0x2ba590(0x5d6)][_0x2ba590(0x847)],{'backgroundColor':_0x2d7def[_0x2ba590(0x5d6)][_0x2ba590(0x72f)][_0x2ba590(0x29c)],'font':_0x2d7def[_0x2ba590(0x5d6)][_0x2ba590(0x72f)][_0x2ba590(0x633)],'statusJidList':_0x2d7def[_0x2ba590(0x5d6)][_0x2ba590(0x72f)]['statusJidList']}):await this[_0x2ba590(0x2aa)][_0x2ba590(0x1cb)](_0x3a0d21,_0x2d7def,_0x2501b0);})()),_0x38f4fb=(0x0,w['normalizeMessageContent'])(_0x3c73b6[_0x50e8b8(0x7c9)]),_0x4d1fcb=(0x0,w[_0x50e8b8(0x3d4)])(_0x38f4fb),{message_normalized:_0x3792bf}=this[_0x50e8b8(0x579)](_0x38f4fb,_0x4d1fcb,null),_0x41affb={'_id':_0x3c73b6['key']['id'],'key':_0x3c73b6[_0x50e8b8(0x76c)],'pushName':_0x3c73b6['pushName'],'isGroup':_0x3c73b6['key'][_0x50e8b8(0x7df)][_0x50e8b8(0x63d)]('@g.us'),'profilePictureUrl':this[_0x50e8b8(0x278)][_0x50e8b8(0x7d5)],'message':_0x38f4fb,'messageType':_0x4d1fcb,'message_normalized':{'key':_0x3c73b6[_0x50e8b8(0x76c)],'pushName':_0x3c73b6[_0x50e8b8(0x6af)],'messageTimestamp':_0x3c73b6[_0x50e8b8(0x52a)]&&_0x3c73b6[_0x50e8b8(0x52a)][_0x50e8b8(0x7b0)]()[_0x50e8b8(0x72e)]<0xd?_0x3c73b6['messageTimestamp']*0x3e8:_0x3c73b6[_0x50e8b8(0x52a)]||null,'source':(0x0,w[_0x50e8b8(0x6de)])(_0x3c73b6['key']['id']),..._0x3792bf},'messageTimestamp':_0x3c73b6[_0x50e8b8(0x52a)]&&_0x3c73b6[_0x50e8b8(0x52a)][_0x50e8b8(0x7b0)]()[_0x50e8b8(0x72e)]<0xd?_0x3c73b6[_0x50e8b8(0x52a)]*0x3e8:_0x3c73b6[_0x50e8b8(0x52a)]||null,'owner':this[_0x50e8b8(0x278)][_0x50e8b8(0x8d6)],'source':(0x0,w[_0x50e8b8(0x6de)])(_0x3c73b6[_0x50e8b8(0x76c)]['id'])};return this[_0x50e8b8(0x42f)]['warn'](this[_0x50e8b8(0x492)]+'\x20('+this[_0x50e8b8(0x278)]['wuid']+_0x50e8b8(0x38c)+_0x41affb['key']?.[_0x50e8b8(0x7df)]['replace'](_0x50e8b8(0x4f9),'')+_0x50e8b8(0x384)+_0x41affb[_0x50e8b8(0x388)]+')'),_0x41affb['message_normalized']?.['text']&&this[_0x50e8b8(0x42f)][_0x50e8b8(0x3d2)](_0x41affb['message_normalized']?.[_0x50e8b8(0x23e)]),this[_0x50e8b8(0x4e9)](_0x50e8b8(0x432),_0x41affb),F(this[_0x50e8b8(0x492)],_0x50e8b8(0x3e3),{'message':_0x41affb}),this[_0x50e8b8(0x480)](this[_0x50e8b8(0x415)][_0x50e8b8(0x5f0)](_0x50e8b8(0x35c)),_0x41affb,_0x50e8b8(0x4ea),_0x4e2024),await this[_0x50e8b8(0x3b3)][_0x50e8b8(0x7c9)]['insert']([_0x41affb],this['instance']['wuid']),_0x3c73b6;}catch(_0x5c95a2){let _0x17f396=_0x50e8b8(0x6ff)+_0x3a0d21,_0x1903a5=_0x5c95a2 instanceof Error?_0x5c95a2[_0x50e8b8(0x7c9)]:typeof _0x5c95a2==_0x50e8b8(0x28b)?JSON[_0x50e8b8(0x1af)](_0x5c95a2):_0x5c95a2,_0x2d64ea=_0x17f396+':\x20'+_0x1903a5;throw this[_0x50e8b8(0x42f)][_0x50e8b8(0x82d)](this[_0x50e8b8(0x492)]+'\x20('+this[_0x50e8b8(0x278)][_0x50e8b8(0x8d6)]+_0x50e8b8(0x6b7)+_0x2d64ea),new m(_0x2d64ea);}}async[a0_0x4c01ce(0x7f6)](_0x520092,_0xe5fbe5,_0x99da71){const _0x4f53cd=a0_0x4c01ce;let _0x4171e3=this[_0x4f53cd(0x673)](_0x520092),_0x51109b=(await this['whatsappNumber']({'numbers':[_0x4171e3]}))[0x0];if(!_0x51109b[_0x4f53cd(0x27f)]&&!(0x0,w[_0x4f53cd(0x75a)])(_0x51109b[_0x4f53cd(0x28d)]))throw new m(_0x51109b);let _0x970d69=(0x0,w[_0x4f53cd(0x75a)])(_0x4171e3)?_0x4171e3:_0x51109b[_0x4f53cd(0x28d)];if((0x0,w[_0x4f53cd(0x75a)])(_0x970d69))try{await this[_0x4f53cd(0x2aa)][_0x4f53cd(0x357)](_0x970d69);}catch{throw new m(_0x4f53cd(0x697));}try{_0x99da71?.[_0x4f53cd(0x22d)]&&(await this['client'][_0x4f53cd(0x1d1)](_0x970d69),await this[_0x4f53cd(0x2aa)]['sendPresenceUpdate'](_0x99da71?.[_0x4f53cd(0x64c)]??'composing',_0x4171e3),await(0x0,w[_0x4f53cd(0x22d)])(_0x99da71['delay']),await this[_0x4f53cd(0x2aa)][_0x4f53cd(0x4b8)](_0x4f53cd(0x214),_0x970d69));let _0x2e36ff=await((async()=>{const _0x2928bb=_0x4f53cd;let _0x3a7457,_0x1f78ba='3EB0'+(0x0,ne[_0x2928bb(0x6e9)])(0x12)['toString'](_0x2928bb(0x63a))[_0x2928bb(0x89f)](),_0x266937=(0x0,w['generateWAMessageFromContent'])(_0x970d69,_0xe5fbe5,{'timestamp':new Date(),'userJid':this[_0x2928bb(0x278)][_0x2928bb(0x8d6)],'messageId':_0x1f78ba,'quoted':_0x3a7457}),_0x2c13e1=await this[_0x2928bb(0x2aa)]['relayMessage'](_0x970d69,_0x266937['message'],{'messageId':_0x1f78ba});_0x266937[_0x2928bb(0x76c)]={'id':_0x2c13e1,'remoteJid':_0x4171e3,'participant':(0x0,w[_0x2928bb(0x1f2)])(_0x4171e3)?void 0x0:_0x4171e3,'fromMe':!0x0};for(let [_0x42ff28,_0x5873df]of Object[_0x2928bb(0x371)](_0x266937))(!_0x5873df||Array[_0x2928bb(0x671)](_0x5873df)&&_0x5873df[_0x2928bb(0x72e)]===0x0)&&delete _0x266937[_0x42ff28];return this['client']['ev']['emit'](_0x2928bb(0x7b9),{'messages':[_0x266937],'type':'notify'}),_0x266937;})()),_0x5c6341=await this['repository'][_0x4f53cd(0x8c3)][_0x4f53cd(0x280)]({'where':{'_id':_0x970d69}},this[_0x4f53cd(0x278)][_0x4f53cd(0x8d6)]),_0x533f81=(0x0,w[_0x4f53cd(0x443)])(_0x2e36ff['message']),_0x32e927=(0x0,w[_0x4f53cd(0x3d4)])(_0x533f81),{message_normalized:_0x130eb8}=this['normalizeMessage'](_0x533f81,_0x32e927,null),_0x1dbfac={'_id':_0x2e36ff[_0x4f53cd(0x76c)]['id'],'key':_0x2e36ff[_0x4f53cd(0x76c)],'pushName':_0x2e36ff[_0x4f53cd(0x6af)],'isGroup':_0x2e36ff[_0x4f53cd(0x76c)][_0x4f53cd(0x7df)][_0x4f53cd(0x63d)](_0x4f53cd(0x2cb)),'profilePictureUrl':this[_0x4f53cd(0x278)]['profilePictureUrl'],'message':_0x533f81,'messageType':_0x32e927,'message_normalized':{'key':_0x2e36ff[_0x4f53cd(0x76c)],'pushName':_0x2e36ff[_0x4f53cd(0x6af)],'messageTimestamp':_0x2e36ff[_0x4f53cd(0x52a)]&&_0x2e36ff[_0x4f53cd(0x52a)][_0x4f53cd(0x7b0)]()[_0x4f53cd(0x72e)]<0xd?_0x2e36ff['messageTimestamp']*0x3e8:_0x2e36ff[_0x4f53cd(0x52a)]||null,'source':(0x0,w['getDevice'])(_0x2e36ff[_0x4f53cd(0x76c)]['id']),..._0x130eb8},'messageTimestamp':_0x2e36ff[_0x4f53cd(0x52a)]&&_0x2e36ff[_0x4f53cd(0x52a)][_0x4f53cd(0x7b0)]()['length']<0xd?_0x2e36ff[_0x4f53cd(0x52a)]*0x3e8:_0x2e36ff[_0x4f53cd(0x52a)]||null,'owner':this[_0x4f53cd(0x278)][_0x4f53cd(0x8d6)],'source':(0x0,w[_0x4f53cd(0x6de)])(_0x2e36ff[_0x4f53cd(0x76c)]['id'])};return this[_0x4f53cd(0x42f)]['warn'](this['instanceName']+'\x20('+this['instance'][_0x4f53cd(0x8d6)]+_0x4f53cd(0x38c)+_0x1dbfac[_0x4f53cd(0x76c)]?.[_0x4f53cd(0x7df)][_0x4f53cd(0x7ea)](_0x4f53cd(0x4f9),'')+']\x20('+_0x1dbfac[_0x4f53cd(0x388)]+')'),_0x1dbfac[_0x4f53cd(0x2ac)]?.['text']&&this['logger'][_0x4f53cd(0x3d2)](_0x1dbfac[_0x4f53cd(0x2ac)]?.['text']),this['sendDataWebhook'](_0x4f53cd(0x432),_0x1dbfac),F(this[_0x4f53cd(0x492)],_0x4f53cd(0x3e3),{'message':_0x1dbfac}),this[_0x4f53cd(0x480)](this[_0x4f53cd(0x415)][_0x4f53cd(0x5f0)]('DATABASE'),_0x1dbfac,_0x4f53cd(0x4ea),_0x5c6341),await this['repository'][_0x4f53cd(0x7c9)][_0x4f53cd(0x5df)]([_0x1dbfac],this[_0x4f53cd(0x278)]['wuid']),_0x2e36ff;}catch(_0x3913d0){throw this[_0x4f53cd(0x42f)][_0x4f53cd(0x82d)](_0x3913d0),new m(_0x3913d0[_0x4f53cd(0x7b0)]());}}get[a0_0x4c01ce(0x855)](){const _0x1d5b8a=a0_0x4c01ce;return this[_0x1d5b8a(0x514)];}async[a0_0x4c01ce(0x5d3)](_0x5f0b98){const _0xb4b1f1=a0_0x4c01ce;return await this[_0xb4b1f1(0x8f6)](_0x5f0b98['number'],{'conversation':_0x5f0b98[_0xb4b1f1(0x5d3)][_0xb4b1f1(0x23e)]},_0x5f0b98?.[_0xb4b1f1(0x592)]);}async[a0_0x4c01ce(0x37a)](_0x47d164){const _0x2eda7c=a0_0x4c01ce;if(!_0x47d164[_0x2eda7c(0x7af)])throw new m('Type\x20is\x20required');if(!_0x47d164[_0x2eda7c(0x847)])throw new m(_0x2eda7c(0x703));if(_0x47d164['allContacts']){let _0x14ae2c=await this[_0x2eda7c(0x3b3)][_0x2eda7c(0x3c1)][_0x2eda7c(0x361)]({'where':{}},this[_0x2eda7c(0x278)]['wuid']);if(!_0x14ae2c[_0x2eda7c(0x72e)])throw new m(_0x2eda7c(0x651));_0x47d164[_0x2eda7c(0x78d)]=_0x14ae2c[_0x2eda7c(0x58d)](_0x4e5793=>_0x4e5793[_0x2eda7c(0x6af)])[_0x2eda7c(0x37b)](_0x6176a2=>_0x6176a2[_0x2eda7c(0x791)]);}if(!_0x47d164[_0x2eda7c(0x78d)]?.[_0x2eda7c(0x72e)]&&!_0x47d164['allContacts'])throw new m(_0x2eda7c(0x54f));if(_0x47d164[_0x2eda7c(0x7af)]===_0x2eda7c(0x23e)){if(!_0x47d164[_0x2eda7c(0x29c)])throw new m(_0x2eda7c(0x24b));if(!_0x47d164[_0x2eda7c(0x633)])throw new m(_0x2eda7c(0x770));return{'content':{'text':_0x47d164[_0x2eda7c(0x847)]},'option':{'backgroundColor':_0x47d164['backgroundColor'],'font':_0x47d164[_0x2eda7c(0x633)],'statusJidList':_0x47d164[_0x2eda7c(0x78d)]}};}if(_0x47d164[_0x2eda7c(0x7af)]===_0x2eda7c(0x499))return{'content':{'image':{'url':_0x47d164[_0x2eda7c(0x847)]},'caption':_0x47d164[_0x2eda7c(0x6b6)]},'option':{'statusJidList':_0x47d164[_0x2eda7c(0x78d)]}};if(_0x47d164[_0x2eda7c(0x7af)]===_0x2eda7c(0x8da))return{'content':{'video':{'url':_0x47d164[_0x2eda7c(0x847)]},'caption':_0x47d164[_0x2eda7c(0x6b6)]},'option':{'statusJidList':_0x47d164[_0x2eda7c(0x78d)]}};if(_0x47d164[_0x2eda7c(0x7af)]==='audio'){this[_0x2eda7c(0x42f)][_0x2eda7c(0x83f)](this[_0x2eda7c(0x492)]+'\x20('+this[_0x2eda7c(0x278)][_0x2eda7c(0x8d6)]+'):Type\x20defined\x20as\x20audio'),this[_0x2eda7c(0x42f)][_0x2eda7c(0x83f)](this[_0x2eda7c(0x492)]+'\x20('+this[_0x2eda7c(0x278)]['wuid']+_0x2eda7c(0x75e));let _0xc10d1=await this[_0x2eda7c(0x582)](_0x47d164[_0x2eda7c(0x847)]);if(typeof _0xc10d1==_0x2eda7c(0x265)){this[_0x2eda7c(0x42f)][_0x2eda7c(0x83f)](this[_0x2eda7c(0x492)]+'\x20('+this[_0x2eda7c(0x278)]['wuid']+_0x2eda7c(0x67f));let _0x3821d0=k[_0x2eda7c(0x437)](_0xc10d1)[_0x2eda7c(0x7b0)]('base64');return{'content':{'audio':Buffer[_0x2eda7c(0x252)](_0x3821d0,'base64'),'ptt':!0x0,'mimetype':_0x2eda7c(0x369)},'option':{'statusJidList':_0x47d164[_0x2eda7c(0x78d)]}};}else throw new x(_0xc10d1);}throw new m(_0x2eda7c(0x777));}async['statusMessage'](_0x1afb52){const _0x37234d=a0_0x4c01ce;return await this[_0x37234d(0x8f6)]('status@broadcast',{'status':await this[_0x37234d(0x37a)](_0x1afb52[_0x37234d(0x885)])});}async[a0_0x4c01ce(0x725)](_0x1cab12){const _0x27faa2=a0_0x4c01ce;try{let _0xe541a4=await(0x0,w['prepareWAMessageMedia'])({[_0x1cab12[_0x27faa2(0x56e)]]:(0x0,J[_0x27faa2(0x578)])(_0x1cab12[_0x27faa2(0x57c)])?{'url':_0x1cab12['media']}:Buffer['from'](_0x1cab12['media'],_0x27faa2(0x86f))},{'upload':this[_0x27faa2(0x2aa)]['waUploadToServer']}),_0x5827ab=_0x1cab12['mediatype']+_0x27faa2(0x644);if(_0x1cab12[_0x27faa2(0x56e)]==='document'&&!_0x1cab12[_0x27faa2(0x3a8)]){let _0x2788e5=new RegExp(/.*\/(.+?)\./)[_0x27faa2(0x6d1)](_0x1cab12[_0x27faa2(0x57c)]);_0x1cab12[_0x27faa2(0x3a8)]=_0x2788e5?_0x2788e5[0x1]:null;}let _0x529533;return(0x0,J[_0x27faa2(0x578)])(_0x1cab12[_0x27faa2(0x57c)])?_0x529533=(await Q[_0x27faa2(0x831)][_0x27faa2(0x5f0)](_0x1cab12[_0x27faa2(0x57c)],{'responseType':_0x27faa2(0x4cf)}))['headers'][_0x27faa2(0x401)]:_0x529533=(0x0,Oi['getMIMEType'])(_0x1cab12[_0x27faa2(0x3a8)]),_0xe541a4[_0x5827ab]['caption']=_0x1cab12?.['caption'],_0xe541a4[_0x5827ab][_0x27faa2(0x581)]=_0x529533,_0xe541a4[_0x5827ab][_0x27faa2(0x3a8)]=_0x1cab12[_0x27faa2(0x3a8)],_0x1cab12[_0x27faa2(0x56e)]==='video'&&(_0xe541a4[_0x5827ab][_0x27faa2(0x4a7)]=Uint8Array['from']((0x0,Le[_0x27faa2(0x437)])((0x0,j[_0x27faa2(0x78e)])(process[_0x27faa2(0x8fa)](),_0x27faa2(0x472)))),_0xe541a4[_0x5827ab]['gifPlayback']=!0x1),(0x0,w[_0x27faa2(0x312)])('',{[_0x5827ab]:{..._0xe541a4[_0x5827ab]}},{'userJid':this[_0x27faa2(0x278)][_0x27faa2(0x8d6)]});}catch(_0x2f96f6){let _0x411629=_0x27faa2(0x2fa),_0x189a08=_0x2f96f6 instanceof Error?_0x2f96f6[_0x27faa2(0x7c9)]:typeof _0x2f96f6==_0x27faa2(0x28b)?JSON[_0x27faa2(0x1af)](_0x2f96f6):_0x2f96f6,_0x253c16=_0x411629+':\x20'+_0x189a08;throw this['logger'][_0x27faa2(0x82d)](this[_0x27faa2(0x492)]+'\x20('+this[_0x27faa2(0x278)][_0x27faa2(0x8d6)]+_0x27faa2(0x6b7)+_0x253c16),new x(_0x253c16);}}async['mediaMessage'](_0x13c53f){const _0x17afbd=a0_0x4c01ce;let _0xf6f46d=await this[_0x17afbd(0x725)](_0x13c53f[_0x17afbd(0x571)]);return await this[_0x17afbd(0x8f6)](_0x13c53f[_0x17afbd(0x4bd)],{..._0xf6f46d['message']},_0x13c53f?.[_0x17afbd(0x592)]);}async[a0_0x4c01ce(0x805)](_0x3d7a30,_0x31bdf6){const _0x46fd52=a0_0x4c01ce;try{this[_0x46fd52(0x42f)][_0x46fd52(0x83f)](this[_0x46fd52(0x492)]+'\x20('+this[_0x46fd52(0x278)][_0x46fd52(0x8d6)]+'):Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x302ba8,_0x16a541=_0x31bdf6+'-'+new Date()[_0x46fd52(0x1c6)]();this['logger'][_0x46fd52(0x83f)](this[_0x46fd52(0x492)]+'\x20('+this[_0x46fd52(0x278)][_0x46fd52(0x8d6)]+_0x46fd52(0x775)+_0x16a541);let _0x468292=''+(0x0,j['join'])(this[_0x46fd52(0x7e2)],_0x16a541+_0x46fd52(0x203));if(this[_0x46fd52(0x42f)]['verbose'](this[_0x46fd52(0x492)]+'\x20('+this[_0x46fd52(0x278)]['wuid']+_0x46fd52(0x5d8)+_0x468292),(0x0,J[_0x46fd52(0x696)])(_0x3d7a30)){this[_0x46fd52(0x42f)][_0x46fd52(0x83f)](this[_0x46fd52(0x492)]+'\x20('+this[_0x46fd52(0x278)][_0x46fd52(0x8d6)]+'):Image\x20is\x20base64');let _0x4354ae=_0x3d7a30[_0x46fd52(0x7ea)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x39f319=Buffer[_0x46fd52(0x252)](_0x4354ae,_0x46fd52(0x86f));_0x302ba8=''+(0x0,j['join'])(this[_0x46fd52(0x7e2)],_0x46fd52(0x408)+_0x16a541+_0x46fd52(0x310)),this[_0x46fd52(0x42f)][_0x46fd52(0x83f)](this[_0x46fd52(0x492)]+'\x20('+this[_0x46fd52(0x278)][_0x46fd52(0x8d6)]+_0x46fd52(0x8ed)+_0x302ba8),await(0x0,Ut['default'])(_0x39f319)[_0x46fd52(0x315)](_0x302ba8),this[_0x46fd52(0x42f)][_0x46fd52(0x83f)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x46fd52(0x6f0));}else{this['logger'][_0x46fd52(0x83f)](this[_0x46fd52(0x492)]+'\x20('+this[_0x46fd52(0x278)][_0x46fd52(0x8d6)]+_0x46fd52(0x854));let _0x37c9e9=new Date()[_0x46fd52(0x1c6)](),_0x4e6236=_0x3d7a30+_0x46fd52(0x5c8)+_0x37c9e9;this[_0x46fd52(0x42f)]['verbose'](this[_0x46fd52(0x492)]+'\x20('+this[_0x46fd52(0x278)][_0x46fd52(0x8d6)]+_0x46fd52(0x772)+_0x4e6236);let _0x209dfb=await Q[_0x46fd52(0x831)][_0x46fd52(0x5f0)](_0x4e6236,{'responseType':_0x46fd52(0x4cf)});this[_0x46fd52(0x42f)][_0x46fd52(0x83f)](this[_0x46fd52(0x492)]+'\x20('+this[_0x46fd52(0x278)][_0x46fd52(0x8d6)]+'):Getting\x20image\x20from\x20url');let _0x246b9d=Buffer[_0x46fd52(0x252)](_0x209dfb[_0x46fd52(0x80d)],'binary');_0x302ba8=''+(0x0,j[_0x46fd52(0x78e)])(this['storePath'],_0x46fd52(0x408)+_0x16a541+_0x46fd52(0x310)),this[_0x46fd52(0x42f)]['verbose'](this[_0x46fd52(0x492)]+'\x20('+this[_0x46fd52(0x278)][_0x46fd52(0x8d6)]+_0x46fd52(0x8ed)+_0x302ba8),await(0x0,Ut[_0x46fd52(0x831)])(_0x246b9d)[_0x46fd52(0x315)](_0x302ba8),this[_0x46fd52(0x42f)][_0x46fd52(0x83f)](this[_0x46fd52(0x492)]+'\x20('+this[_0x46fd52(0x278)][_0x46fd52(0x8d6)]+_0x46fd52(0x6f0));}return await(0x0,Ut[_0x46fd52(0x831)])(_0x302ba8)[_0x46fd52(0x368)]()[_0x46fd52(0x315)](_0x468292),this[_0x46fd52(0x42f)][_0x46fd52(0x83f)](this['instanceName']+'\x20('+this[_0x46fd52(0x278)][_0x46fd52(0x8d6)]+_0x46fd52(0x345)),k['unlinkSync'](_0x302ba8),this[_0x46fd52(0x42f)][_0x46fd52(0x83f)](this[_0x46fd52(0x492)]+'\x20('+this[_0x46fd52(0x278)][_0x46fd52(0x8d6)]+_0x46fd52(0x305)),_0x468292;}catch(_0x5256c4){let _0x1c1f9c=_0x46fd52(0x7ab),_0x3f5f4e=_0x5256c4 instanceof Error?_0x5256c4[_0x46fd52(0x7c9)]:typeof _0x5256c4==_0x46fd52(0x28b)?JSON[_0x46fd52(0x1af)](_0x5256c4):_0x5256c4,_0x7b84ef=_0x1c1f9c+':\x20'+_0x3f5f4e;this[_0x46fd52(0x42f)]['error'](this[_0x46fd52(0x492)]+'\x20('+this[_0x46fd52(0x278)][_0x46fd52(0x8d6)]+_0x46fd52(0x6b7)+_0x7b84ef);}}async[a0_0x4c01ce(0x287)](_0x462ccd){const _0xd98724=a0_0x4c01ce;let _0x1b273e=await this[_0xd98724(0x805)](_0x462ccd['stickerMessage']['image'],_0x462ccd[_0xd98724(0x4bd)]),_0x57e4f7=await this[_0xd98724(0x8f6)](_0x462ccd['number'],{'sticker':{'url':_0x1b273e}},_0x462ccd?.[_0xd98724(0x592)]);return k[_0xd98724(0x6fd)](_0x1b273e),this[_0xd98724(0x42f)]['verbose'](this['instanceName']+'\x20('+this[_0xd98724(0x278)][_0xd98724(0x8d6)]+_0xd98724(0x1fd)),_0x57e4f7;}async[a0_0x4c01ce(0x4f1)](_0x24667e){const _0x3d19bf=a0_0x4c01ce;if(this[_0x3d19bf(0x42f)][_0x3d19bf(0x83f)](this[_0x3d19bf(0x492)]+'\x20('+this[_0x3d19bf(0x278)][_0x3d19bf(0x8d6)]+'):Sending\x20audio\x20whatsapp'),!_0x24667e[_0x3d19bf(0x592)]?.[_0x3d19bf(0x4a5)]&&_0x24667e['options']?.[_0x3d19bf(0x4a5)]!==!0x1&&(_0x24667e[_0x3d19bf(0x592)]['encoding']=!0x0),_0x24667e[_0x3d19bf(0x592)]?.[_0x3d19bf(0x4a5)]){let _0x198439=await this[_0x3d19bf(0x582)](_0x24667e[_0x3d19bf(0x503)][_0x3d19bf(0x49b)]);if(typeof _0x198439=='string'){let _0x1b5fcc=k[_0x3d19bf(0x437)](_0x198439)[_0x3d19bf(0x7b0)](_0x3d19bf(0x86f));return this[_0x3d19bf(0x8f6)](_0x24667e[_0x3d19bf(0x4bd)],{'audio':Buffer[_0x3d19bf(0x252)](_0x1b5fcc,_0x3d19bf(0x86f)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':'recording','delay':_0x24667e?.[_0x3d19bf(0x592)]?.[_0x3d19bf(0x22d)]});}else throw new x(_0x198439);}return await this[_0x3d19bf(0x8f6)](_0x24667e[_0x3d19bf(0x4bd)],{'audio':(0x0,J[_0x3d19bf(0x578)])(_0x24667e['audioMessage'][_0x3d19bf(0x49b)])?{'url':_0x24667e['audioMessage'][_0x3d19bf(0x49b)]}:Buffer[_0x3d19bf(0x252)](_0x24667e['audioMessage'][_0x3d19bf(0x49b)],'base64'),'ptt':!0x0,'mimetype':_0x3d19bf(0x56c)},{'presence':_0x3d19bf(0x82c),'delay':_0x24667e?.[_0x3d19bf(0x592)]?.[_0x3d19bf(0x22d)]});}async[a0_0x4c01ce(0x582)](_0x11f7b4){const _0x206664=a0_0x4c01ce;this['logger']['verbose'](this[_0x206664(0x492)]+'\x20('+this['instance'][_0x206664(0x8d6)]+_0x206664(0x75e));let _0x8b0329=(0x0,J[_0x206664(0x578)])(_0x11f7b4)?(0x0,ne[_0x206664(0x7eb)])('sha256')[_0x206664(0x79f)](_0x11f7b4)['digest'](_0x206664(0x63a)):(0x0,ne[_0x206664(0x7eb)])(_0x206664(0x396))[_0x206664(0x79f)](_0x11f7b4)[_0x206664(0x3bb)](_0x206664(0x63a)),_0xf0803a=''+(0x0,j[_0x206664(0x78e)])(this[_0x206664(0x7e2)],_0x8b0329+_0x206664(0x57b));if(k['existsSync'](_0xf0803a))return this[_0x206664(0x42f)][_0x206664(0x83f)](this[_0x206664(0x492)]+'\x20('+this[_0x206664(0x278)][_0x206664(0x8d6)]+_0x206664(0x8d1)),_0xf0803a;let _0x468421=''+(0x0,j['join'])(this[_0x206664(0x7e2)],'temp-'+(0x0,Y['v4'])()+'.mp3');if((0x0,J[_0x206664(0x578)])(_0x11f7b4)){let _0x2d3767=new Date()['getTime'](),_0x5407b3=_0x11f7b4+_0x206664(0x5c8)+_0x2d3767,_0x2a19de=await Q['default'][_0x206664(0x5f0)](_0x5407b3,{'responseType':_0x206664(0x4cf)});k[_0x206664(0x645)](_0x468421,_0x2a19de[_0x206664(0x80d)]);}else{let _0x5289f6=Buffer['from'](_0x11f7b4,'base64');k[_0x206664(0x645)](_0x468421,_0x5289f6);}return new Promise((_0x74932b,_0x463fbe)=>{const _0x52f324=_0x206664;(0x0,Fe[_0x52f324(0x6d1)])(Ps[_0x52f324(0x831)][_0x52f324(0x41a)]+_0x52f324(0x47b)+_0x468421+_0x52f324(0x625)+_0xf0803a+_0x52f324(0x413),_0x5d293d=>{const _0x4193ae=_0x52f324;if(k[_0x4193ae(0x6fd)](_0x468421),_0x5d293d){this['logger'][_0x4193ae(0x83f)](this[_0x4193ae(0x492)]+'\x20('+this['instance']['wuid']+_0x4193ae(0x3d8)),_0x463fbe(_0x5d293d);return;}this['logger'][_0x4193ae(0x83f)](this[_0x4193ae(0x492)]+'\x20('+this[_0x4193ae(0x278)]['wuid']+'):Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x74932b(_0xf0803a);});});}async['convertaudioMP3'](_0x1f2f82){const _0x1ca122=a0_0x4c01ce;this[_0x1ca122(0x42f)]['verbose'](this[_0x1ca122(0x492)]+'\x20('+this[_0x1ca122(0x278)][_0x1ca122(0x8d6)]+'):Processing\x20audio');let _0x3a5fcc=(0x0,ne[_0x1ca122(0x7eb)])(_0x1ca122(0x396))[_0x1ca122(0x79f)](_0x1f2f82)[_0x1ca122(0x3bb)](_0x1ca122(0x63a)),_0x277a56=''+(0x0,j[_0x1ca122(0x78e)])(this[_0x1ca122(0x7e2)],_0x3a5fcc+'.mp3');if(k['existsSync'](_0x277a56))return this[_0x1ca122(0x42f)][_0x1ca122(0x83f)](this[_0x1ca122(0x492)]+'\x20('+this['instance']['wuid']+_0x1ca122(0x8d1)),j[_0x1ca122(0x831)]['basename'](_0x277a56);let _0x1eb853=''+(0x0,j[_0x1ca122(0x78e)])(this[_0x1ca122(0x7e2)],_0x1ca122(0x408)+_0x3a5fcc+_0x1ca122(0x57b));if((0x0,J[_0x1ca122(0x578)])(_0x1f2f82)){let _0x1b42e4=new Date()['getTime'](),_0x98c287=_0x1f2f82+'?timestamp='+_0x1b42e4,_0x1090da=await Q[_0x1ca122(0x831)][_0x1ca122(0x5f0)](_0x98c287,{'responseType':_0x1ca122(0x4cf)});k[_0x1ca122(0x645)](_0x1eb853,_0x1090da[_0x1ca122(0x80d)]);}else{let _0x1c9358=Buffer[_0x1ca122(0x252)](_0x1f2f82,_0x1ca122(0x86f));k[_0x1ca122(0x645)](_0x1eb853,_0x1c9358);}return new Promise((_0x5dd2cc,_0x3c7d92)=>{const _0x48518d=_0x1ca122;(0x0,Fe['exec'])(Ps[_0x48518d(0x831)][_0x48518d(0x41a)]+_0x48518d(0x47b)+_0x1eb853+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20'+_0x277a56+_0x48518d(0x413),_0x3418e7=>{const _0xa2ee6=_0x48518d;if(k['unlinkSync'](_0x1eb853),_0x3418e7){this['logger'][_0xa2ee6(0x83f)](this[_0xa2ee6(0x492)]+'\x20('+this[_0xa2ee6(0x278)]['wuid']+_0xa2ee6(0x3d8)),_0x3c7d92(_0x3418e7);return;}this[_0xa2ee6(0x42f)][_0xa2ee6(0x83f)](this[_0xa2ee6(0x492)]+'\x20('+this[_0xa2ee6(0x278)][_0xa2ee6(0x8d6)]+_0xa2ee6(0x326)),_0x5dd2cc(j[_0xa2ee6(0x831)][_0xa2ee6(0x595)](_0x277a56));});});}async[a0_0x4c01ce(0x5cc)](_0x294624){const _0x308cfc=a0_0x4c01ce;console['log']('[service]\x20request\x20received\x20in\x20sendButtons',_0x294624);let _0x88b141;try{_0x294624[_0x308cfc(0x5cc)]?.['thumbnailUrl']&&(_0x88b141=await this['prepareMediaMessage']({'mediatype':_0x308cfc(0x499),'media':_0x294624['buttonMessage']['thumbnailUrl']}));}catch(_0x1ce3ad){throw console[_0x308cfc(0x82d)]('Error\x20in\x20prepareMediaMessage:',_0x1ce3ad),new Error(_0x308cfc(0x5a0));}try{let _0x557616={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x308cfc(0x331)},'footer':{'text':_0x308cfc(0x89b)},'header':((()=>{const _0xcebf4c=_0x308cfc;if(_0x88b141?.[_0xcebf4c(0x7c9)]?.[_0xcebf4c(0x758)])return{'hasMediaAttachment':!!_0x88b141['message'][_0xcebf4c(0x758)],'imageMessage':_0x88b141[_0xcebf4c(0x7c9)]['imageMessage']};})()),'nativeFlowMessage':{'buttons':[{'name':_0x308cfc(0x242),'buttonParamsJson':JSON['stringify']({'display_text':_0x308cfc(0x36e),'id':'1'})},{'name':'quick_reply','buttonParamsJson':JSON[_0x308cfc(0x1af)]({'display_text':_0x308cfc(0x291),'id':'2'})}],'messageParamsJson':JSON[_0x308cfc(0x1af)]({'from':_0x308cfc(0x76d),'templateId':'3EB0'+(0x0,ne[_0x308cfc(0x6e9)])(0x12)['toString'](_0x308cfc(0x63a))['toUpperCase']()})}}}}};return await this[_0x308cfc(0x7f6)](_0x294624[_0x308cfc(0x4bd)],_0x557616,_0x294624?.[_0x308cfc(0x592)]);}catch(_0x2a2171){throw console[_0x308cfc(0x82d)](_0x308cfc(0x28f),_0x2a2171),new Error(_0x308cfc(0x233));}}async['locationMessage'](_0xa86e36){const _0x30b659=a0_0x4c01ce;return await this[_0x30b659(0x8f6)](_0xa86e36[_0x30b659(0x4bd)],{'locationMessage':{'degreesLatitude':_0xa86e36[_0x30b659(0x2b9)]['latitude'],'degreesLongitude':_0xa86e36[_0x30b659(0x2b9)][_0x30b659(0x76b)],'name':_0xa86e36[_0x30b659(0x2b9)]?.[_0x30b659(0x1b3)],'address':_0xa86e36[_0x30b659(0x2b9)]?.[_0x30b659(0x723)]}},_0xa86e36?.[_0x30b659(0x592)]);}async['contactMessage'](_0x1c639c){const _0x1a1d8e=a0_0x4c01ce;let _0x2e8b67={},_0x3b8d4d=async _0x4ec678=>{const _0x4fc8df=a0_0x4bf3;let _0x43ef06=_0x4fc8df(0x30f)+_0x4ec678[_0x4fc8df(0x6f6)]+_0x4fc8df(0x2fb)+_0x4ec678[_0x4fc8df(0x6f6)]+'\x0a';_0x4ec678[_0x4fc8df(0x679)]&&(_0x43ef06+='ORG:'+_0x4ec678[_0x4fc8df(0x679)]+';\x0a'),_0x4ec678[_0x4fc8df(0x37d)]&&(_0x43ef06+=_0x4fc8df(0x3db)+_0x4ec678[_0x4fc8df(0x37d)]+'\x0a'),_0x4ec678[_0x4fc8df(0x8b1)]&&(_0x43ef06+=_0x4fc8df(0x253)+_0x4ec678[_0x4fc8df(0x8b1)]+'\x0a');let _0x3414f6='',_0x3b59f0=0x1;if(_0x4ec678[_0x4fc8df(0x850)]){let _0x5b4364=_0x4ec678[_0x4fc8df(0x850)][_0x4fc8df(0x85e)]('|');for(let _0x2a0368 of _0x5b4364){let _0x2cc3f0=await this[_0x4fc8df(0x20e)]({'numbers':[_0x2a0368]}),_0x5e816a=(_0x2cc3f0['length']>0x0?_0x2cc3f0[0x0][_0x4fc8df(0x28d)]:this[_0x4fc8df(0x673)](_0x2a0368))['replace'](_0x4fc8df(0x4f9),'');_0x3414f6+=_0x4fc8df(0x475)+_0x3b59f0+_0x4fc8df(0x856)+_0x5e816a+':'+_0x2a0368+'\x0aitem'+_0x3b59f0+_0x4fc8df(0x63e),_0x3b59f0++;}}return _0x43ef06+=_0x3414f6+_0x4fc8df(0x1a3),_0x43ef06;};return _0x1c639c[_0x1a1d8e(0x306)][_0x1a1d8e(0x72e)]===0x1?_0x2e8b67['contactMessage']={'displayName':_0x1c639c[_0x1a1d8e(0x306)][0x0][_0x1a1d8e(0x6f6)],'vcard':await _0x3b8d4d(_0x1c639c[_0x1a1d8e(0x306)][0x0])}:_0x2e8b67[_0x1a1d8e(0x5a5)]={'displayName':_0x1c639c['contactMessage'][_0x1a1d8e(0x72e)]+_0x1a1d8e(0x2da),'contacts':await Promise['all'](_0x1c639c[_0x1a1d8e(0x306)]['map'](async _0x206454=>({'displayName':_0x206454[_0x1a1d8e(0x6f6)],'vcard':await _0x3b8d4d(_0x206454)})))},await this[_0x1a1d8e(0x8f6)](_0x1c639c[_0x1a1d8e(0x4bd)],{..._0x2e8b67},_0x1c639c?.[_0x1a1d8e(0x592)]);}async[a0_0x4c01ce(0x512)](_0x38f663){const _0x42affe=a0_0x4c01ce;return await this['sendMessageWithTyping'](_0x38f663[_0x42affe(0x512)]['key']['remoteJid'],{'reactionMessage':{'key':_0x38f663['reactionMessage']['key'],'text':_0x38f663['reactionMessage'][_0x42affe(0x34f)]}});}async[a0_0x4c01ce(0x20e)](_0x429898){const _0x523c8a=a0_0x4c01ce;let _0x2dc7c8=[];for await(let _0x2e372c of _0x429898[_0x523c8a(0x739)]){let _0x4e1b0f=this[_0x523c8a(0x673)](_0x2e372c),_0x5e2d5f=!0x1;try{if((0x0,w['isJidGroup'])(_0x4e1b0f)){let _0x332cd2=(await this[_0x523c8a(0x3b3)]['chat'][_0x523c8a(0x280)]({'where':{'_id':_0x4e1b0f}},this[_0x523c8a(0x278)]['wuid']))[_0x523c8a(0x685)];_0x332cd2?(_0x5e2d5f=!0x0,_0x2dc7c8[_0x523c8a(0x835)](new ue(_0x332cd2['id'],_0x5e2d5f,_0x332cd2?.['subject']))):(_0x332cd2=await this[_0x523c8a(0x222)]({'groupJid':_0x4e1b0f},_0x523c8a(0x67a)),_0x2dc7c8['push'](new ue(_0x332cd2['id'],!!_0x332cd2?.['id'],_0x332cd2?.[_0x523c8a(0x366)])));}else{if(_0x4e1b0f[_0x523c8a(0x570)](_0x523c8a(0x3e4)))_0x2dc7c8[_0x523c8a(0x835)](new ue(_0x4e1b0f,!0x0));else{let _0x1ba921=(await this['client'][_0x523c8a(0x64f)](_0x4e1b0f))[0x0];_0x2dc7c8[_0x523c8a(0x835)](new ue(_0x1ba921[_0x523c8a(0x28d)],_0x1ba921[_0x523c8a(0x27f)]));}}}catch{(0x0,w[_0x523c8a(0x75a)])(_0x4e1b0f)||await this['deleteImportedChat'](_0x4e1b0f),_0x2dc7c8[_0x523c8a(0x835)](new ue(_0x2e372c,!0x1));}}return _0x2dc7c8;}async[a0_0x4c01ce(0x662)](_0x5e2072){const _0x5a63da=a0_0x4c01ce;try{await this[_0x5a63da(0x3b3)]['chat'][_0x5a63da(0x280)]({'where':{'_id':_0x5e2072,'imported':!0x0}},this['instance'][_0x5a63da(0x8d6)])&&(await this[_0x5a63da(0x3b3)]['chat'][_0x5a63da(0x2be)](_0x5e2072,this[_0x5a63da(0x278)]['wuid']),this[_0x5a63da(0x42f)][_0x5a63da(0x8c5)]('Chat\x20com\x20ID\x20'+_0x5e2072+_0x5a63da(0x618)));}catch(_0x3400cd){let _0x23f3d0=_0x5a63da(0x3f1),_0x10d67e=_0x3400cd instanceof Error?_0x3400cd[_0x5a63da(0x7c9)]:typeof _0x3400cd==_0x5a63da(0x28b)?JSON[_0x5a63da(0x1af)](_0x3400cd):_0x3400cd,_0xec5062=_0x23f3d0+':\x20'+_0x10d67e;this[_0x5a63da(0x42f)][_0x5a63da(0x82d)](this['instanceName']+'\x20('+this[_0x5a63da(0x278)][_0x5a63da(0x8d6)]+'):\x20'+_0xec5062);}}async['markMessageAsRead'](_0x50157a){const _0x1d64e2=a0_0x4c01ce;try{let _0xe9db14=_0x50157a[_0x1d64e2(0x262)][_0x1d64e2(0x58d)](_0x358198=>(0x0,w['isJidGroup'])(_0x358198['remoteJid'])||(0x0,w[_0x1d64e2(0x1f2)])(_0x358198['remoteJid']))[_0x1d64e2(0x37b)](_0x18423b=>({'remoteJid':_0x18423b['remoteJid'],'fromMe':_0x18423b[_0x1d64e2(0x8b9)],'id':_0x18423b['id']}));await this[_0x1d64e2(0x2aa)][_0x1d64e2(0x262)](_0xe9db14);let _0x231fd8=_0xe9db14[_0x1d64e2(0x37b)](_0x36e564=>this[_0x1d64e2(0x1f1)](_0x36e564,{'status':'READ','owner':this['instance']['wuid']})),_0x3b1871=_0xe9db14[_0x1d64e2(0x37b)](_0x8b5162=>this[_0x1d64e2(0x3b3)][_0x1d64e2(0x8c3)][_0x1d64e2(0x3e7)]({'where':{'_id':_0x8b5162[_0x1d64e2(0x7df)]}},{'unreadcount':0x0},this['instance'][_0x1d64e2(0x8d6)])),[_0x143a14,_0x1aa8c0]=await Promise['all']([Promise[_0x1d64e2(0x1be)](_0x231fd8),Promise[_0x1d64e2(0x1be)](_0x3b1871)]);return _0x1aa8c0[_0x1d64e2(0x58d)](_0x4dd33b=>_0x4dd33b!==null)[_0x1d64e2(0x68b)](_0x3f7b19=>{const _0x6128bd=_0x1d64e2;F(this[_0x6128bd(0x492)],_0x6128bd(0x483),{'chat':_0x3f7b19});}),{'message':_0x1d64e2(0x8f7),'read':_0x1d64e2(0x771)};}catch(_0xe267eb){let _0x5358b0=_0x1d64e2(0x5b6),_0x1c7b04=_0xe267eb instanceof Error?_0xe267eb[_0x1d64e2(0x7c9)]:typeof _0xe267eb==_0x1d64e2(0x28b)?JSON[_0x1d64e2(0x1af)](_0xe267eb):_0xe267eb,_0x1e8ea4=_0x5358b0+':\x20'+_0x1c7b04;throw this[_0x1d64e2(0x42f)]['error'](this[_0x1d64e2(0x492)]+'\x20('+this['instance'][_0x1d64e2(0x8d6)]+_0x1d64e2(0x6b7)+_0x1e8ea4),new x(_0x1e8ea4);}}async[a0_0x4c01ce(0x4bc)](_0x54b441){const _0x114e3c=a0_0x4c01ce;let _0x5168de={'where':{'key':{'remoteJid':_0x54b441}},'limit':0x1},_0x15ed4e=await this[_0x114e3c(0x6f3)](_0x5168de);return _0x15ed4e||(this[_0x114e3c(0x42f)][_0x114e3c(0x82d)](_0x114e3c(0x877)+_0x54b441),null);}async[a0_0x4c01ce(0x64a)](_0x27779f){const _0xd16ba0=a0_0x4c01ce;this[_0xd16ba0(0x42f)]['verbose'](this[_0xd16ba0(0x492)]+'\x20('+this[_0xd16ba0(0x278)][_0xd16ba0(0x8d6)]+_0xd16ba0(0x735));try{let _0x4a6cc5=_0x27779f[_0xd16ba0(0x78a)],_0xc0391=_0x27779f['chat'];if(!_0x4a6cc5&&_0xc0391?_0x4a6cc5=await this[_0xd16ba0(0x4bc)](_0xc0391):(_0x4a6cc5=_0x27779f[_0xd16ba0(0x78a)],_0x4a6cc5[_0xd16ba0(0x52a)]=_0x4a6cc5?.[_0xd16ba0(0x52a)]??Date['now'](),_0xc0391=_0x4a6cc5?.[_0xd16ba0(0x76c)]?.['remoteJid']),!_0x4a6cc5||Object[_0xd16ba0(0x6c3)](_0x4a6cc5)[_0xd16ba0(0x72e)]===0x0)throw new U('Last\x20message\x20not\x20found');this[_0xd16ba0(0x42f)][_0xd16ba0(0x83f)](this[_0xd16ba0(0x492)]+'\x20('+this[_0xd16ba0(0x278)]['wuid']+_0xd16ba0(0x6da)+_0xc0391);try{await this[_0xd16ba0(0x2aa)][_0xd16ba0(0x8ef)]({'archive':_0x27779f[_0xd16ba0(0x7ed)],'lastMessages':[_0x4a6cc5]},this[_0xd16ba0(0x673)](_0xc0391));}catch(_0x4392e6){let _0x55606e=_0xd16ba0(0x800)+_0xc0391,_0x2eea9b=_0x4392e6 instanceof Error?_0x4392e6['message']:typeof _0x4392e6==_0xd16ba0(0x28b)?JSON[_0xd16ba0(0x1af)](_0x4392e6):_0x4392e6,_0x5b32b1=_0x55606e+':\x20'+_0x2eea9b;this[_0xd16ba0(0x42f)][_0xd16ba0(0x82d)](this[_0xd16ba0(0x492)]+'\x20('+this[_0xd16ba0(0x278)]['wuid']+_0xd16ba0(0x6b7)+_0x5b32b1);}this['logger']['verbose'](this[_0xd16ba0(0x492)]+'\x20('+this[_0xd16ba0(0x278)]['wuid']+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0xc0391);let _0xfdfcef=await this['repository']['chat']['updateOne']({'where':{'_id':_0x4a6cc5?.[_0xd16ba0(0x76c)]?.[_0xd16ba0(0x7df)]}},{'archived':_0x27779f[_0xd16ba0(0x7ed)]},this[_0xd16ba0(0x278)][_0xd16ba0(0x8d6)]);return _0xfdfcef?(this[_0xd16ba0(0x42f)][_0xd16ba0(0x83f)](this[_0xd16ba0(0x492)]+'\x20('+this[_0xd16ba0(0x278)][_0xd16ba0(0x8d6)]+_0xd16ba0(0x7d8)+JSON[_0xd16ba0(0x1af)](_0xfdfcef)),F(this[_0xd16ba0(0x492)],_0xd16ba0(0x483),{'chat':_0xfdfcef})):this[_0xd16ba0(0x42f)][_0xd16ba0(0x82d)](this[_0xd16ba0(0x492)]+'\x20('+this['instance']['wuid']+'):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0xc0391),{'chatId':_0xc0391,'archived':_0x27779f[_0xd16ba0(0x7ed)]};}catch(_0x4885ba){let _0x4b581a=_0xd16ba0(0x1a4),_0x3063f5=_0x4885ba instanceof Error?_0x4885ba['message']:typeof _0x4885ba==_0xd16ba0(0x28b)?JSON[_0xd16ba0(0x1af)](_0x4885ba):_0x4885ba,_0x2cf937=_0x4b581a+':\x20'+_0x3063f5;throw this['logger'][_0xd16ba0(0x82d)](this[_0xd16ba0(0x492)]+'\x20('+this[_0xd16ba0(0x278)]['wuid']+_0xd16ba0(0x6b7)+_0x2cf937),new x(_0x2cf937);}}async[a0_0x4c01ce(0x2be)](_0x16c1f2){const _0x2656b5=a0_0x4c01ce;this[_0x2656b5(0x42f)]['verbose'](this[_0x2656b5(0x492)]+'\x20('+this[_0x2656b5(0x278)]['wuid']+'):Delete\x20chat');try{let _0x3132aa=await this[_0x2656b5(0x4bc)](_0x16c1f2);if(!_0x3132aa||Object[_0x2656b5(0x6c3)](_0x3132aa)[_0x2656b5(0x72e)]===0x0)throw new U(_0x2656b5(0x590));let _0x243551=_0x3132aa[0x0];this['logger'][_0x2656b5(0x83f)](this[_0x2656b5(0x492)]+'\x20('+this[_0x2656b5(0x278)][_0x2656b5(0x8d6)]+_0x2656b5(0x667)+_0x16c1f2);try{await this[_0x2656b5(0x2aa)][_0x2656b5(0x8ef)]({'delete':!0x0,'lastMessages':[{'key':_0x243551[_0x2656b5(0x76c)],'messageTimestamp':_0x243551[_0x2656b5(0x52a)]}]},this[_0x2656b5(0x673)](_0x16c1f2));}catch(_0x196ac5){this[_0x2656b5(0x42f)]['error']('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x16c1f2+':\x20'+_0x196ac5[_0x2656b5(0x7b0)]());}this[_0x2656b5(0x42f)][_0x2656b5(0x83f)](this['instanceName']+'\x20('+this[_0x2656b5(0x278)][_0x2656b5(0x8d6)]+_0x2656b5(0x534)+_0x16c1f2);return;}catch(_0x520e86){throw this['logger'][_0x2656b5(0x82d)](this[_0x2656b5(0x492)]+'\x20('+this[_0x2656b5(0x278)][_0x2656b5(0x8d6)]+_0x2656b5(0x285)+_0x520e86[_0x2656b5(0x7b0)]()),new x({'archived':!0x1,'message':[_0x2656b5(0x3dc),_0x520e86[_0x2656b5(0x7b0)]()]});}}async[a0_0x4c01ce(0x332)](_0x49a1af){const _0x157ae9=a0_0x4c01ce;try{let _0x238498=await this['client']['sendMessage'](_0x49a1af[_0x157ae9(0x7df)],{'delete':_0x49a1af});try{let _0x4b457d=await this['updateMessage'](_0x49a1af,{'status':'DELETED','owner':this[_0x157ae9(0x278)][_0x157ae9(0x8d6)]});this[_0x157ae9(0x42f)]['verbose'](this[_0x157ae9(0x492)]+'\x20('+this[_0x157ae9(0x278)]['wuid']+_0x157ae9(0x45d)+_0x4b457d);}catch(_0x466cfa){this[_0x157ae9(0x42f)][_0x157ae9(0x82d)](_0x157ae9(0x436)+_0x466cfa);}return _0x238498;}catch(_0x31ccff){throw new x(_0x157ae9(0x184),_0x31ccff?.[_0x157ae9(0x7b0)]());}}async[a0_0x4c01ce(0x1c8)](_0x4acf98){const _0x190dcf=a0_0x4c01ce;try{let _0x3abc1d=_0x4acf98?.[_0x190dcf(0x7c9)]?_0x4acf98:await this[_0x190dcf(0x445)](_0x4acf98[_0x190dcf(0x76c)],!0x0);for(let _0x323abe of Na)_0x3abc1d[_0x190dcf(0x7c9)][_0x323abe]&&(_0x3abc1d[_0x190dcf(0x7c9)]=_0x3abc1d[_0x190dcf(0x7c9)][_0x323abe][_0x190dcf(0x7c9)]);let _0x203de4,_0x1b464c;for(let _0x3aa29f of va)if(_0x203de4=_0x3abc1d['message'][_0x3aa29f],_0x203de4){_0x1b464c=_0x3aa29f;break;}if(!_0x203de4)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x203de4['mediaKey']=='object'&&(_0x3abc1d[_0x190dcf(0x7c9)]=JSON[_0x190dcf(0x2c1)](JSON[_0x190dcf(0x1af)](_0x3abc1d[_0x190dcf(0x7c9)])));let _0x547b91=await(0x0,w[_0x190dcf(0x379)])({'key':_0x3abc1d?.[_0x190dcf(0x76c)],'message':_0x3abc1d?.['message']},_0x190dcf(0x517),{},{'logger':(0x0,Ft[_0x190dcf(0x831)])({'level':_0x190dcf(0x4fb)}),'reuploadRequest':this[_0x190dcf(0x2aa)]['updateMediaMessage']});if(!(_0x547b91 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x239f90=this[_0x190dcf(0x415)][_0x190dcf(0x5f0)]('DATABASE'),_0x1647a6,_0x319276;if(_0x203de4[_0x190dcf(0x3a8)])_0x1647a6=_0x203de4[_0x190dcf(0x3a8)];else{let _0x3e6b36=_0x203de4[_0x190dcf(0x581)]?.[_0x190dcf(0x2a6)](/\/(\w+)/),_0x1a532a=_0x3e6b36?_0x3e6b36[0x1]:null;if(!_0x1a532a)throw new Error(_0x190dcf(0x72c));_0x1647a6=(0x0,Y['v4'])()+'.'+_0x1a532a;}_0x1b464c===_0x190dcf(0x503)?_0x319276=_0x190dcf(0x485)+await this[_0x190dcf(0x5c3)](_0x547b91[_0x190dcf(0x7b0)](_0x190dcf(0x86f))):(await this[_0x190dcf(0x6d7)](_0x547b91,_0x1647a6),_0x319276=_0x190dcf(0x485)+_0x1647a6);let _0x1b03f3=this[_0x190dcf(0x415)][_0x190dcf(0x5f0)]('SERVER')[_0x190dcf(0x69b)];if(!_0x1b03f3){let _0x4e1306=this['configService']['get'](_0x190dcf(0x458));_0x1b03f3=_0x190dcf(0x2e9)+(_0x4e1306&&_0x4e1306['FULLCHAIN']['split']('/')[0x4]);}_0x319276=''+_0x1b03f3+_0x319276;let _0xf03f43=0xc*0x3c*0x3c*0x3e8,_0x14d430={'where':{'_id':_0x3abc1d[_0x190dcf(0x76c)]['id']}},_0x3fe64f={'message_normalized.fileUrl':_0x319276,'message_normalized.expires_fileUrl':Date[_0x190dcf(0x82e)]()+_0xf03f43};try{let _0x3d0291=await this[_0x190dcf(0x3b3)][_0x190dcf(0x7c9)]['update'](_0x14d430,_0x3fe64f,this[_0x190dcf(0x278)][_0x190dcf(0x8d6)]);_0x3d0291&&F(this[_0x190dcf(0x492)],_0x190dcf(0x3e3),{'message':_0x3d0291});}catch(_0x58d334){let _0x5af88a='Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage',_0x4abb1e=_0x58d334 instanceof Error?_0x58d334[_0x190dcf(0x7c9)]:typeof _0x58d334=='object'?JSON[_0x190dcf(0x1af)](_0x58d334):_0x58d334,_0x4cb5a4=_0x5af88a+':\x20'+_0x4abb1e;this[_0x190dcf(0x42f)][_0x190dcf(0x82d)](this['instanceName']+'\x20('+this['instance'][_0x190dcf(0x8d6)]+'):\x20'+_0x4cb5a4);}return{'mediaType':_0x1b464c,'fileName':_0x203de4[_0x190dcf(0x3a8)],'caption':_0x203de4[_0x190dcf(0x6b6)],'size':{'fileLength':_0x203de4['fileLength'],'height':_0x203de4[_0x190dcf(0x194)],'width':_0x203de4[_0x190dcf(0x8e2)]},'mimetype':_0x203de4[_0x190dcf(0x581)],'base64':_0x547b91[_0x190dcf(0x7b0)](_0x190dcf(0x86f)),'fileUrl':_0x319276,'expires_fileUrl':Date[_0x190dcf(0x82e)]()+_0xf03f43};}catch(_0x539167){let _0x4fe687=_0x190dcf(0x589),_0x256c6a=_0x539167 instanceof Error?_0x539167[_0x190dcf(0x7c9)]:typeof _0x539167==_0x190dcf(0x28b)?JSON['stringify'](_0x539167):_0x539167,_0x36e307=_0x4fe687+':\x20'+_0x256c6a;throw this['logger'][_0x190dcf(0x82d)](this[_0x190dcf(0x492)]+'\x20('+this['instance']['wuid']+_0x190dcf(0x6b7)+_0x36e307),new m(_0x36e307);}}async[a0_0x4c01ce(0x6d7)](_0x3a58be,_0x1cff82){const _0xf99430=a0_0x4c01ce;let _0x32216f=j['default'][_0xf99430(0x78e)](__dirname,_0xf99430(0x32d));k[_0xf99430(0x469)](_0x32216f)||k[_0xf99430(0x61b)](_0x32216f,{'recursive':!0x0});let _0x2fb0a1=j[_0xf99430(0x831)][_0xf99430(0x78e)](_0x32216f,_0x1cff82);return new Promise((_0xc9d4e,_0x4bf846)=>{const _0x2052e5=_0xf99430;k[_0x2052e5(0x202)](_0x2fb0a1,_0x3a58be,_0x2d723b=>{const _0x525cee=_0x2052e5;_0x2d723b?(this[_0x525cee(0x42f)][_0x525cee(0x82d)](_0x525cee(0x691)+(_0x2d723b instanceof Error?_0x2d723b[_0x525cee(0x7c9)]:JSON[_0x525cee(0x1af)](_0x2d723b,null,0x2))),_0x4bf846(_0x2d723b)):(this[_0x525cee(0x42f)]['log']('File\x20written\x20to\x20path:\x20'+_0x2fb0a1),_0xc9d4e(_0x2fb0a1));});});}async['fetchContacts'](_0x8ccdbf){const _0x467115=a0_0x4c01ce;return await this[_0x467115(0x3b3)][_0x467115(0x3c1)][_0x467115(0x361)](_0x8ccdbf,this['instance'][_0x467115(0x8d6)]);}async[a0_0x4c01ce(0x7a8)](){const _0x1272d1=a0_0x4c01ce;return await this[_0x1272d1(0x3b3)]['label'][_0x1272d1(0x361)]({'where':{}},this[_0x1272d1(0x278)][_0x1272d1(0x8d6)]);}async[a0_0x4c01ce(0x6f3)](_0x80511e){const _0x3537ce=a0_0x4c01ce;return await this['repository'][_0x3537ce(0x7c9)][_0x3537ce(0x361)](_0x80511e,this[_0x3537ce(0x278)][_0x3537ce(0x8d6)]);}async['fetchChats'](){const _0x468117=a0_0x4c01ce;return this['repository']['chat']['removeUnusedChatFields'](this[_0x468117(0x278)]['wuid']),this[_0x468117(0x3b3)]['chat']['updateMissingEtiquetas'](this[_0x468117(0x278)][_0x468117(0x8d6)]),this[_0x468117(0x3b3)][_0x468117(0x8c3)][_0x468117(0x676)](this[_0x468117(0x278)][_0x468117(0x8d6)]),this[_0x468117(0x3b3)][_0x468117(0x8c3)][_0x468117(0x308)](this[_0x468117(0x278)][_0x468117(0x8d6)]),await this[_0x468117(0x3b3)]['chat'][_0x468117(0x361)]({'where':{}},this[_0x468117(0x278)]['wuid']);}async[a0_0x4c01ce(0x264)](_0x4e4b63){const _0x497ce3=a0_0x4c01ce;try{if(!Array[_0x497ce3(0x671)](_0x4e4b63)||_0x4e4b63[_0x497ce3(0x72e)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x429deb=[],_0x4ddd3a=[];for(let _0x4dac63 of _0x4e4b63){if(_0x4dac63[_0x497ce3(0x791)])_0x4dac63[_0x497ce3(0x791)]=this[_0x497ce3(0x673)](_0x4dac63[_0x497ce3(0x791)]);else continue;await this[_0x497ce3(0x3b3)][_0x497ce3(0x8c3)]['findOne']({'where':{'_id':_0x4dac63[_0x497ce3(0x791)]}},this['instance']['wuid'])?_0x4ddd3a[_0x497ce3(0x835)]({'_id':_0x4dac63[_0x497ce3(0x791)],'leadInfo':_0x4dac63['leadInfo'],'owner':this[_0x497ce3(0x278)]['wuid']}):_0x429deb[_0x497ce3(0x835)]({'_id':_0x4dac63[_0x497ce3(0x791)],'owner':this[_0x497ce3(0x278)]['wuid'],'leadInfo':_0x4dac63[_0x497ce3(0x421)],'imported':!0x0});}return _0x4ddd3a['length']>0x0&&await this[_0x497ce3(0x3b3)][_0x497ce3(0x8c3)][_0x497ce3(0x5c4)](_0x4ddd3a[_0x497ce3(0x37b)](_0x548186=>({'query':{'where':{'_id':_0x548186['_id'],'owner':this[_0x497ce3(0x278)]['wuid']}},'update':_0x548186}))),_0x429deb[_0x497ce3(0x72e)]>0x0&&await this[_0x497ce3(0x3b3)][_0x497ce3(0x8c3)][_0x497ce3(0x547)](_0x429deb,this[_0x497ce3(0x278)][_0x497ce3(0x8d6)]),{'updated':_0x4ddd3a[_0x497ce3(0x72e)],'inserted':_0x429deb[_0x497ce3(0x72e)]};}catch(_0x1ba210){let _0x18ff17='Erro\x20ao\x20importar\x20chats',_0x39c2f2=_0x1ba210 instanceof Error?_0x1ba210[_0x497ce3(0x7c9)]:typeof _0x1ba210==_0x497ce3(0x28b)?JSON[_0x497ce3(0x1af)](_0x1ba210):_0x1ba210,_0x170310=_0x18ff17+':\x20'+_0x39c2f2;throw this['logger'][_0x497ce3(0x82d)](this[_0x497ce3(0x492)]+'\x20('+this[_0x497ce3(0x278)][_0x497ce3(0x8d6)]+'):\x20'+_0x170310),new m(_0x170310);}}async['importChats'](_0x2843e9){const _0x428302=a0_0x4c01ce;try{if(!Array[_0x428302(0x671)](_0x2843e9)||_0x2843e9[_0x428302(0x72e)]===0x0)throw new Error(_0x428302(0x829));let _0x4ec103=0x64,_0x2ebf3e=0x0;for(let _0x434003=0x0;_0x434003<_0x2843e9[_0x428302(0x72e)];_0x434003+=_0x4ec103){let _0x56ee58=_0x2843e9[_0x428302(0x89c)](_0x434003,_0x434003+_0x4ec103),{updated:_0x26ef6a}=await this[_0x428302(0x1df)](_0x56ee58);_0x2ebf3e+=_0x26ef6a;}return{'updated':_0x2ebf3e};}catch(_0x42d80d){let _0x491c4e=_0x428302(0x610),_0x2bd1c6=_0x42d80d instanceof Error?_0x42d80d['message']:typeof _0x42d80d==_0x428302(0x28b)?JSON['stringify'](_0x42d80d):_0x42d80d,_0x2cf42b=_0x491c4e+':\x20'+_0x2bd1c6;throw this['logger']['error'](this[_0x428302(0x492)]+'\x20('+this[_0x428302(0x278)]['wuid']+_0x428302(0x6b7)+_0x2cf42b),new m(_0x2cf42b);}}async['importChatsBatch'](_0x2c9572){const _0x57f3c0=a0_0x4c01ce;try{let _0x565067=await this[_0x57f3c0(0x3b3)][_0x57f3c0(0x8ec)][_0x57f3c0(0x361)]({'where':{}},this['instance'][_0x57f3c0(0x8d6)]),_0x5ce5e5=new Set(_0x565067[_0x57f3c0(0x37b)](_0x46cfc7=>_0x46cfc7[_0x57f3c0(0x791)])),_0x2b71c0=[],_0x3f092b=[];for(let _0x1491ec of _0x2c9572){if(!_0x1491ec[_0x57f3c0(0x791)])continue;_0x1491ec[_0x57f3c0(0x791)]=this[_0x57f3c0(0x673)](_0x1491ec[_0x57f3c0(0x791)]);let _0x15edce=await this[_0x57f3c0(0x3b3)]['chat'][_0x57f3c0(0x280)]({'where':{'_id':_0x1491ec[_0x57f3c0(0x791)]}},this[_0x57f3c0(0x278)][_0x57f3c0(0x8d6)]),_0xff67cc={};if(Object['entries'](_0x1491ec['leadInfo'])[_0x57f3c0(0x68b)](([_0x46c08b,_0x113dec])=>{const _0x175753=_0x57f3c0;_0xff67cc[_0x175753(0x2bd)+_0x46c08b]=_0x113dec;}),_0x15edce&&!_0x15edce['imported']){let _0x4c0847=(_0x1491ec[_0x57f3c0(0x421)]['etiquetas']||[])[_0x57f3c0(0x58d)](_0x346bd5=>_0x5ce5e5[_0x57f3c0(0x7de)](_0x346bd5)),_0x21b2a1=new Set(_0x15edce['leadInfo'][_0x57f3c0(0x2d7)]||[]),_0x4c517d=_0x4c0847[_0x57f3c0(0x58d)](_0x49025e=>!_0x21b2a1[_0x57f3c0(0x7de)](_0x49025e)),_0x4c357d=[..._0x21b2a1][_0x57f3c0(0x58d)](_0x105043=>!_0x4c0847['includes'](_0x105043));_0x3f092b[_0x57f3c0(0x835)](..._0x4c517d[_0x57f3c0(0x37b)](_0x434d8f=>this[_0x57f3c0(0x1ed)](_0x434d8f,_0x1491ec[_0x57f3c0(0x791)]))),_0x3f092b[_0x57f3c0(0x835)](..._0x4c357d[_0x57f3c0(0x37b)](_0x38ad2a=>this[_0x57f3c0(0x635)](_0x38ad2a,_0x1491ec[_0x57f3c0(0x791)]))),_0x1491ec[_0x57f3c0(0x421)][_0x57f3c0(0x2d7)]=_0x4c0847,_0x2b71c0[_0x57f3c0(0x835)]({'query':{'where':{'_id':_0x1491ec[_0x57f3c0(0x791)],'owner':this['instance']['wuid']}},'update':_0xff67cc});}else _0xff67cc[_0x57f3c0(0x39a)]=!0x0,_0x2b71c0[_0x57f3c0(0x835)]({'query':{'where':{'_id':_0x1491ec[_0x57f3c0(0x791)],'owner':this['instance'][_0x57f3c0(0x8d6)]}},'update':_0xff67cc});}let _0x48dc86=await this[_0x57f3c0(0x3b3)]['chat'][_0x57f3c0(0x5c4)](_0x2b71c0);return await Promise[_0x57f3c0(0x1be)](_0x3f092b),{'updated':_0x48dc86};}catch(_0x5ba888){let _0x4f5ad2=_0x57f3c0(0x610),_0x18df06=_0x5ba888 instanceof Error?_0x5ba888[_0x57f3c0(0x7c9)]:typeof _0x5ba888=='object'?JSON[_0x57f3c0(0x1af)](_0x5ba888):_0x5ba888,_0x289442=_0x4f5ad2+':\x20'+_0x18df06;throw this[_0x57f3c0(0x42f)]['error'](this['instanceName']+'\x20('+this['instance'][_0x57f3c0(0x8d6)]+_0x57f3c0(0x6b7)+_0x289442),new m(_0x289442);}}async[a0_0x4c01ce(0x5bf)](){const _0x41468f=a0_0x4c01ce;return await this[_0x41468f(0x2aa)][_0x41468f(0x5bf)]();}async[a0_0x4c01ce(0x363)](_0x3b5d89){const _0xfec699=a0_0x4c01ce;try{return await this[_0xfec699(0x2aa)][_0xfec699(0x3f8)](_0x3b5d89[_0xfec699(0x35a)][_0xfec699(0x55d)]),await this[_0xfec699(0x2aa)][_0xfec699(0x641)](_0x3b5d89['privacySettings'][_0xfec699(0x836)]),await this[_0xfec699(0x2aa)][_0xfec699(0x59a)](_0x3b5d89[_0xfec699(0x35a)]['status']),await this['client'][_0xfec699(0x4a2)](_0x3b5d89[_0xfec699(0x35a)][_0xfec699(0x427)]),await this[_0xfec699(0x2aa)][_0xfec699(0x53a)](_0x3b5d89[_0xfec699(0x35a)][_0xfec699(0x4e4)]),await this[_0xfec699(0x2aa)][_0xfec699(0x3ea)](_0x3b5d89['privacySettings']['groupadd']),this[_0xfec699(0x2aa)]?.['ws']?.[_0xfec699(0x7d7)](),{'update':_0xfec699(0x771),'data':{'readreceipts':_0x3b5d89[_0xfec699(0x35a)][_0xfec699(0x55d)],'profile':_0x3b5d89['privacySettings'][_0xfec699(0x836)],'status':_0x3b5d89[_0xfec699(0x35a)][_0xfec699(0x5d6)],'online':_0x3b5d89['privacySettings'][_0xfec699(0x427)],'last':_0x3b5d89[_0xfec699(0x35a)][_0xfec699(0x4e4)],'groupadd':_0x3b5d89[_0xfec699(0x35a)][_0xfec699(0x7f2)]}};}catch(_0x1e75b8){let _0x308003='Erro\x20ao\x20alterar\x20privacidade',_0x4eca26=_0x1e75b8 instanceof Error?_0x1e75b8['message']:typeof _0x1e75b8==_0xfec699(0x28b)?JSON[_0xfec699(0x1af)](_0x1e75b8):_0x1e75b8,_0x44625d=_0x308003+':\x20'+_0x4eca26;throw this[_0xfec699(0x42f)]['error'](this[_0xfec699(0x492)]+'\x20('+this[_0xfec699(0x278)][_0xfec699(0x8d6)]+_0xfec699(0x6b7)+_0x44625d),new m(_0x44625d);}}async[a0_0x4c01ce(0x2d6)](_0x366c20){const _0x3d759e=a0_0x4c01ce;let _0x1b32d7=(_0x366c20?this[_0x3d759e(0x673)](_0x366c20):this[_0x3d759e(0x2aa)]?.[_0x3d759e(0x7b3)]?.['id'])[_0x3d759e(0x7ea)](/:\d{1,2}@/g,'@');this['logger'][_0x3d759e(0x83f)](this['instanceName']+'\x20('+this[_0x3d759e(0x278)]['wuid']+_0x3d759e(0x73f)+_0x1b32d7);let _0x36ab03=await this['repository'][_0x3d759e(0x3c1)]['findOne']({'where':{'_id':_0x1b32d7}},this[_0x3d759e(0x278)][_0x3d759e(0x8d6)]),_0x3a1d8f=_0x36ab03?_0x36ab03[_0x3d759e(0x6af)]:null;try{let _0x140f0b=(await this[_0x3d759e(0x20e)]({'numbers':[_0x1b32d7]}))?.[_0x3d759e(0x5f6)](),_0x252bde=(await this['findAndUpdateCacheContact'](_0x1b32d7,null,!0x1))[_0x3d759e(0x3d0)][_0x3d759e(0x313)],_0x21009b=await this[_0x3d759e(0x4d7)](_0x140f0b?.[_0x3d759e(0x28d)]),_0x493522=await this[_0x3d759e(0x26b)](_0x140f0b?.[_0x3d759e(0x28d)]),_0x8710b0=(await this[_0x3d759e(0x3a2)](_0x1b32d7,null,!0x1))[_0x3d759e(0x3d0)][_0x3d759e(0x1b3)],_0x5e0871=await this[_0x3d759e(0x3b3)]['chat'][_0x3d759e(0x280)]({'where':{'_id':_0x1b32d7}},this[_0x3d759e(0x278)][_0x3d759e(0x8d6)]),_0x25e9de={'imagechat':_0x252bde,'contactname':_0x3a1d8f||null,'pushName':_0x8710b0,'status':_0x21009b?.[_0x3d759e(0x5d6)],'isBusiness':_0x493522[_0x3d759e(0x31d)],'email':_0x493522?.[_0x3d759e(0x37d)],'description':_0x493522?.[_0x3d759e(0x465)],'website':_0x493522?.[_0x3d759e(0x3ff)]?.[_0x3d759e(0x5f6)](),'lastcache':Date[_0x3d759e(0x82e)](),'imported':!_0x5e0871},_0x3e8b23=await this[_0x3d759e(0x3b3)][_0x3d759e(0x8c3)]['updateOne']({'where':{'_id':_0x1b32d7}},_0x25e9de,this[_0x3d759e(0x278)][_0x3d759e(0x8d6)]),_0xc69b97={'owner':this[_0x3d759e(0x278)][_0x3d759e(0x8d6)],'_id':_0x1b32d7,'profilePictureUrl':_0x252bde,'status':_0x21009b?.[_0x3d759e(0x5d6)]};return this[_0x3d759e(0x3b3)][_0x3d759e(0x3c1)][_0x3d759e(0x79f)]([_0xc69b97],this['instance']['wuid']),_0x3e8b23&&F(this[_0x3d759e(0x492)],_0x3d759e(0x483),{'chat':_0x3e8b23}),{'wuid':_0x140f0b?.[_0x3d759e(0x28d)]||_0x1b32d7,'name':_0x140f0b?.[_0x3d759e(0x1b3)],'pushName':_0x8710b0,'numberExists':_0x140f0b?.[_0x3d759e(0x27f)],'picture':_0x252bde,'status':_0x21009b?.[_0x3d759e(0x5d6)],'isBusiness':_0x493522[_0x3d759e(0x31d)],'email':_0x493522?.[_0x3d759e(0x37d)],'description':_0x493522?.['description'],'website':_0x493522?.[_0x3d759e(0x3ff)]?.[_0x3d759e(0x5f6)]()};}catch(_0x2dcbe3){return this[_0x3d759e(0x42f)][_0x3d759e(0x82d)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0x2dcbe3 instanceof Error?_0x2dcbe3[_0x3d759e(0x7c9)]:JSON[_0x3d759e(0x1af)](_0x2dcbe3,null,0x2))),{};}}async['fetchBusinessProfile'](_0x1bf061){const _0x3d6916=a0_0x4c01ce;this[_0x3d6916(0x42f)]['verbose'](this[_0x3d6916(0x492)]+'\x20('+this[_0x3d6916(0x278)][_0x3d6916(0x8d6)]+_0x3d6916(0x3d7));try{let _0x22089c=_0x1bf061?this[_0x3d6916(0x673)](_0x1bf061):this[_0x3d6916(0x278)][_0x3d6916(0x8d6)],_0x37181b=await this[_0x3d6916(0x2aa)]['getBusinessProfile'](_0x22089c);return this['logger'][_0x3d6916(0x83f)](this[_0x3d6916(0x492)]+'\x20('+this['instance'][_0x3d6916(0x8d6)]+_0x3d6916(0x5e7)),_0x37181b?(this[_0x3d6916(0x42f)][_0x3d6916(0x83f)](this[_0x3d6916(0x492)]+'\x20('+this[_0x3d6916(0x278)][_0x3d6916(0x8d6)]+_0x3d6916(0x25e)),{'isBusiness':!0x0,..._0x37181b}):{'isBusiness':!0x1,'message':_0x3d6916(0x4ba),...(await this[_0x3d6916(0x20e)]({'numbers':[_0x22089c]}))?.[_0x3d6916(0x5f6)]()};}catch(_0x19252b){let _0x1ab89d=_0x3d6916(0x2ff),_0xebfc2=_0x19252b instanceof Error?_0x19252b['message']:typeof _0x19252b==_0x3d6916(0x28b)?JSON[_0x3d6916(0x1af)](_0x19252b):_0x19252b,_0x37091a=_0x1ab89d+':\x20'+_0xebfc2;throw this[_0x3d6916(0x42f)][_0x3d6916(0x82d)](this[_0x3d6916(0x492)]+'\x20('+this[_0x3d6916(0x278)][_0x3d6916(0x8d6)]+'):\x20'+_0x37091a),new x(_0x37091a);}}async['getStatus'](_0x30f703){const _0x11723c=a0_0x4c01ce;let _0x2fac55=this[_0x11723c(0x673)](_0x30f703);try{return{'wuid':_0x2fac55,'status':(await this[_0x11723c(0x2aa)]['fetchStatus'](_0x2fac55))[0x0]?.['status']};}catch{return{'wuid':_0x2fac55,'status':null};}}async[a0_0x4c01ce(0x58e)](_0x175d6a){const _0x126449=a0_0x4c01ce;try{return await this['client'][_0x126449(0x58e)](_0x175d6a),{'update':_0x126449(0x771)};}catch(_0x56ab26){let _0x2d87e7=_0x126449(0x4ae),_0x2c4b34=_0x56ab26 instanceof Error?_0x56ab26[_0x126449(0x7c9)]:typeof _0x56ab26==_0x126449(0x28b)?JSON[_0x126449(0x1af)](_0x56ab26):_0x56ab26,_0x2541ce=_0x2d87e7+':\x20'+_0x2c4b34;throw this['logger'][_0x126449(0x82d)](this[_0x126449(0x492)]+'\x20('+this['instance']['wuid']+_0x126449(0x6b7)+_0x2541ce),new x(_0x2541ce);}}async[a0_0x4c01ce(0x73a)](_0x4a1b21){const _0x46f06d=a0_0x4c01ce;try{return await this[_0x46f06d(0x2aa)][_0x46f06d(0x73a)](_0x4a1b21),{'update':_0x46f06d(0x771)};}catch(_0x5d5728){let _0x453fb3=_0x46f06d(0x460),_0x1947b3=_0x5d5728 instanceof Error?_0x5d5728[_0x46f06d(0x7c9)]:typeof _0x5d5728==_0x46f06d(0x28b)?JSON[_0x46f06d(0x1af)](_0x5d5728):_0x5d5728,_0x25d464=_0x453fb3+':\x20'+_0x1947b3;throw this[_0x46f06d(0x42f)][_0x46f06d(0x82d)](this[_0x46f06d(0x492)]+'\x20('+this[_0x46f06d(0x278)][_0x46f06d(0x8d6)]+'):\x20'+_0x25d464),new x(_0x25d464);}}async[a0_0x4c01ce(0x70f)](_0x578899){const _0x4245cb=a0_0x4c01ce;try{let _0x44b9d1;if((0x0,J[_0x4245cb(0x578)])(_0x578899)){let _0x25df50=new Date()[_0x4245cb(0x1c6)](),_0x28b699=_0x578899+_0x4245cb(0x5c8)+_0x25df50;_0x44b9d1=(await Q[_0x4245cb(0x831)][_0x4245cb(0x5f0)](_0x28b699,{'responseType':'arraybuffer'}))[_0x4245cb(0x80d)];}else{if((0x0,J[_0x4245cb(0x696)])(_0x578899))_0x44b9d1=Buffer[_0x4245cb(0x252)](_0x578899,_0x4245cb(0x86f));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x4245cb(0x2aa)][_0x4245cb(0x70f)](this['instance']['wuid'],_0x44b9d1),{'update':_0x4245cb(0x771)};}catch(_0x36b491){let _0x8de61c=_0x4245cb(0x3da),_0x264d08=_0x36b491 instanceof Error?_0x36b491[_0x4245cb(0x7c9)]:typeof _0x36b491=='object'?JSON[_0x4245cb(0x1af)](_0x36b491):_0x36b491,_0x64e0c1=_0x8de61c+':\x20'+_0x264d08;throw this[_0x4245cb(0x42f)][_0x4245cb(0x82d)](this[_0x4245cb(0x492)]+'\x20('+this[_0x4245cb(0x278)]['wuid']+_0x4245cb(0x6b7)+_0x64e0c1),new x(_0x64e0c1);}}async[a0_0x4c01ce(0x456)](){const _0x104dc8=a0_0x4c01ce;try{return await this[_0x104dc8(0x2aa)][_0x104dc8(0x456)](this[_0x104dc8(0x278)][_0x104dc8(0x8d6)]),{'update':_0x104dc8(0x771)};}catch(_0x4b2e0e){let _0x3b50f9=_0x104dc8(0x235),_0xdcb27f=_0x4b2e0e instanceof Error?_0x4b2e0e[_0x104dc8(0x7c9)]:typeof _0x4b2e0e==_0x104dc8(0x28b)?JSON[_0x104dc8(0x1af)](_0x4b2e0e):_0x4b2e0e,_0x21793a=_0x3b50f9+':\x20'+_0xdcb27f;throw this[_0x104dc8(0x42f)][_0x104dc8(0x82d)](this[_0x104dc8(0x492)]+'\x20('+this[_0x104dc8(0x278)][_0x104dc8(0x8d6)]+_0x104dc8(0x6b7)+_0x21793a),new x(_0x21793a);}}async[a0_0x4c01ce(0x4de)](_0x1d2590){const _0x2c5341=a0_0x4c01ce;try{let _0x4018e=(await this[_0x2c5341(0x20e)]({'numbers':_0x1d2590['participants']}))[_0x2c5341(0x58d)](_0x47c075=>_0x47c075[_0x2c5341(0x27f)])[_0x2c5341(0x37b)](_0xb448d8=>_0xb448d8[_0x2c5341(0x28d)]),{id:_0x607c20}=await this['client'][_0x2c5341(0x70e)](_0x1d2590['subject'],_0x4018e);_0x1d2590?.['description']&&await this[_0x2c5341(0x2aa)][_0x2c5341(0x516)](_0x607c20,_0x1d2590[_0x2c5341(0x465)]);let _0x308b81=await this[_0x2c5341(0x2aa)][_0x2c5341(0x357)](_0x607c20);return _0x308b81[_0x2c5341(0x594)]=[],await this[_0x2c5341(0x700)](_0x308b81),{'metadata':_0x308b81};}catch(_0x97ac95){let _0x17fa5f=_0x2c5341(0x6a5),_0xfb5f0=_0x97ac95 instanceof Error?_0x97ac95['message']:typeof _0x97ac95==_0x2c5341(0x28b)?JSON['stringify'](_0x97ac95):_0x97ac95,_0x4a6de6=_0x17fa5f+':\x20'+_0xfb5f0;throw this['logger'][_0x2c5341(0x82d)](this[_0x2c5341(0x492)]+'\x20('+this[_0x2c5341(0x278)][_0x2c5341(0x8d6)]+_0x2c5341(0x6b7)+_0x4a6de6),new x(_0x4a6de6);}}async[a0_0x4c01ce(0x211)](_0x111a35){const _0x49b886=a0_0x4c01ce;try{if(_0x111a35[_0x49b886(0x4b6)]===!0x0&&await this[_0x49b886(0x2aa)]['groupSettingUpdate'](_0x111a35['groupJid'],_0x49b886(0x7b5)),_0x111a35[_0x49b886(0x4b6)]===!0x1&&await this[_0x49b886(0x2aa)][_0x49b886(0x849)](_0x111a35[_0x49b886(0x449)],_0x49b886(0x18e)),_0x111a35[_0x49b886(0x389)]===!0x0&&await this[_0x49b886(0x2aa)][_0x49b886(0x849)](_0x111a35[_0x49b886(0x449)],_0x49b886(0x8c1)),_0x111a35[_0x49b886(0x389)]===!0x1&&await this[_0x49b886(0x2aa)][_0x49b886(0x849)](_0x111a35[_0x49b886(0x449)],_0x49b886(0x3ad)),_0x111a35['memberAddMode']===!0x0&&await this[_0x49b886(0x2aa)][_0x49b886(0x61e)](_0x111a35[_0x49b886(0x449)],_0x49b886(0x4a1)),_0x111a35[_0x49b886(0x8f9)]===!0x1&&await this[_0x49b886(0x2aa)][_0x49b886(0x61e)](_0x111a35[_0x49b886(0x449)],_0x49b886(0x71b)),_0x111a35[_0x49b886(0x1fc)]===!0x0&&await this[_0x49b886(0x2aa)][_0x49b886(0x47f)](_0x111a35[_0x49b886(0x449)],'on'),_0x111a35[_0x49b886(0x1fc)]===!0x1&&await this[_0x49b886(0x2aa)]['groupJoinApprovalMode'](_0x111a35[_0x49b886(0x449)],_0x49b886(0x60a)),typeof _0x111a35[_0x49b886(0x3e6)]<'u'&&_0x111a35['expiration']!==null&&await this[_0x49b886(0x2aa)][_0x49b886(0x228)](_0x111a35[_0x49b886(0x449)],_0x111a35['expiration']),_0x111a35[_0x49b886(0x1b3)]&&await this[_0x49b886(0x2aa)][_0x49b886(0x22f)](_0x111a35['groupJid'],_0x111a35[_0x49b886(0x1b3)]),_0x111a35[_0x49b886(0x465)]&&await this[_0x49b886(0x2aa)][_0x49b886(0x516)](_0x111a35['groupJid'],_0x111a35[_0x49b886(0x465)]),_0x111a35[_0x49b886(0x499)]){let _0x153904;if((0x0,J[_0x49b886(0x578)])(_0x111a35['image'])){let _0x827af5=new Date()[_0x49b886(0x1c6)](),_0x6dbb23=_0x111a35['image']+_0x49b886(0x5c8)+_0x827af5;_0x153904=(await Q[_0x49b886(0x831)][_0x49b886(0x5f0)](_0x6dbb23,{'responseType':'arraybuffer'}))[_0x49b886(0x80d)];}else{if((0x0,J[_0x49b886(0x696)])(_0x111a35[_0x49b886(0x499)]))_0x153904=Buffer['from'](_0x111a35[_0x49b886(0x499)],_0x49b886(0x86f));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}await this[_0x49b886(0x2aa)][_0x49b886(0x70f)](_0x111a35[_0x49b886(0x449)],_0x153904);}return await this[_0x49b886(0x222)]({'groupJid':_0x111a35[_0x49b886(0x449)]});}catch(_0x43ee51){let _0x484b21='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting',_0x5ae1c0=_0x43ee51 instanceof Error?_0x43ee51[_0x49b886(0x7c9)]:typeof _0x43ee51==_0x49b886(0x28b)?JSON['stringify'](_0x43ee51):_0x43ee51,_0x32257f=_0x484b21+':\x20'+_0x5ae1c0;throw this['logger'][_0x49b886(0x82d)](this[_0x49b886(0x492)]+'\x20('+this[_0x49b886(0x278)][_0x49b886(0x8d6)]+_0x49b886(0x6b7)+_0x32257f),new x(_0x32257f);}}async[a0_0x4c01ce(0x832)](_0x596c80){const _0x14a631=a0_0x4c01ce;try{let _0x18d34f=_0x596c80[_0x14a631(0x2c0)][_0x14a631(0x37b)](_0x1ceac4=>this[_0x14a631(0x673)](_0x1ceac4));if(_0x596c80[_0x14a631(0x420)]===_0x14a631(0x4ff)||_0x596c80[_0x14a631(0x420)]===_0x14a631(0x195))await this[_0x14a631(0x2aa)]['groupRequestParticipantsUpdate'](_0x596c80['groupJid'],_0x18d34f,_0x596c80[_0x14a631(0x420)]);else{if(_0x596c80['action']===_0x14a631(0x2e3)){let _0x40971d=(await this['whatsappNumber']({'numbers':_0x596c80[_0x14a631(0x2c0)]}))[_0x14a631(0x58d)](_0x71fab7=>_0x71fab7[_0x14a631(0x27f)])[_0x14a631(0x37b)](_0x3f540a=>this[_0x14a631(0x673)](_0x3f540a[_0x14a631(0x28d)]));if(_0x40971d[_0x14a631(0x72e)]===0x0)throw new m(_0x14a631(0x35b));await this[_0x14a631(0x2aa)][_0x14a631(0x8ee)](_0x596c80[_0x14a631(0x449)],_0x40971d,_0x14a631(0x2e3));}else await this[_0x14a631(0x2aa)][_0x14a631(0x8ee)](_0x596c80['groupJid'],_0x18d34f,_0x596c80[_0x14a631(0x420)]);}return await this[_0x14a631(0x222)]({'groupJid':_0x596c80[_0x14a631(0x449)]});}catch(_0x1822e2){let _0x16c036=_0x14a631(0x566),_0x93146f=_0x1822e2 instanceof Error?_0x1822e2[_0x14a631(0x7c9)]:typeof _0x1822e2=='object'?JSON[_0x14a631(0x1af)](_0x1822e2):_0x1822e2,_0x12ebff=_0x16c036+':\x20'+_0x93146f;throw this[_0x14a631(0x42f)][_0x14a631(0x82d)](this[_0x14a631(0x492)]+'\x20('+this['instance'][_0x14a631(0x8d6)]+_0x14a631(0x6b7)+_0x12ebff),new m(_0x12ebff);}}async[a0_0x4c01ce(0x731)](_0x1e3b1c){const _0x11ef65=a0_0x4c01ce;try{return await this[_0x11ef65(0x2aa)][_0x11ef65(0x731)](_0x1e3b1c[_0x11ef65(0x261)]);}catch(_0x4c5420){let _0x5f595b=_0x11ef65(0x1dc),_0x1c0c9a=_0x4c5420 instanceof Error?_0x4c5420[_0x11ef65(0x7c9)]:typeof _0x4c5420==_0x11ef65(0x28b)?JSON[_0x11ef65(0x1af)](_0x4c5420):_0x4c5420,_0x405f66=_0x5f595b+':\x20'+_0x1c0c9a;throw this[_0x11ef65(0x42f)][_0x11ef65(0x82d)](this[_0x11ef65(0x492)]+'\x20('+this[_0x11ef65(0x278)]['wuid']+_0x11ef65(0x6b7)+_0x405f66),new m(_0x405f66);}}async[a0_0x4c01ce(0x222)](_0x1cb658,_0x1d866a=a0_0x4c01ce(0x25f)){const _0x5be984=a0_0x4c01ce;try{let _0x11f6d2=await this['repository'][_0x5be984(0x8c3)][_0x5be984(0x280)]({'where':{'_id':_0x1cb658[_0x5be984(0x449)]}},this[_0x5be984(0x278)][_0x5be984(0x8d6)]),_0x5a2659=_0x11f6d2?_0x11f6d2[_0x5be984(0x685)]:null,_0x463e91=0x18*0x3c*0x3c*0x3e8;if(!_0x5a2659||_0x5a2659['lastUpdate']&&Date[_0x5be984(0x82e)]()-_0x5a2659['lastUpdate']>_0x463e91){let _0x440713=await this[_0x5be984(0x2aa)][_0x5be984(0x357)](_0x1cb658['groupJid']);if(_0x440713[_0x5be984(0x6e1)]=_0x440713?.[_0x5be984(0x6e1)]&&_0x440713['subjectTime'][_0x5be984(0x7b0)]()[_0x5be984(0x72e)]<0xd?_0x440713?.[_0x5be984(0x6e1)]*0x3e8:_0x440713?.[_0x5be984(0x6e1)]||null,_0x440713['creation']=_0x440713?.[_0x5be984(0x2e1)]&&_0x440713[_0x5be984(0x2e1)][_0x5be984(0x7b0)]()[_0x5be984(0x72e)]<0xd?_0x440713?.[_0x5be984(0x2e1)]*0x3e8:_0x440713?.['creation']||null,_0x5a2659={..._0x440713,'lastUpdate':Date[_0x5be984(0x82e)]()},!_0x440713)return;}let _0x1be4b0=_0x5a2659[_0x5be984(0x2c0)]?.[_0x5be984(0x5ed)](_0x58098c=>_0x58098c['id']===this[_0x5be984(0x278)][_0x5be984(0x8d6)]+'@s.whatsapp.net'&&_0x58098c['admin']!=null)||!0x1;!_0x5a2659[_0x5be984(0x261)]&&_0x1be4b0&&(_0x5a2659[_0x5be984(0x261)]=(await this[_0x5be984(0x261)](_0x1cb658,!0x1))['inviteUrl']);let _0x1520f8=(!_0x5a2659['announce']||_0x1be4b0)&&(!_0x5a2659[_0x5be984(0x5aa)]||_0x5a2659[_0x5be984(0x5aa)]&&_0x5a2659[_0x5be984(0x341)]&&_0x1be4b0);_0x5a2659[_0x5be984(0x824)]=_0x1be4b0,_0x5a2659[_0x5be984(0x1ec)]=_0x1520f8;let _0x239b01=[];if(_0x1be4b0&&_0x5a2659[_0x5be984(0x1fc)])try{_0x239b01=await this[_0x5be984(0x2aa)]['groupRequestParticipantsList'](_0x1cb658[_0x5be984(0x449)]),_0x5a2659[_0x5be984(0x6b3)]=Date['now']();}catch(_0x180435){this[_0x5be984(0x42f)][_0x5be984(0x83f)](this[_0x5be984(0x492)]+'\x20('+this[_0x5be984(0x278)][_0x5be984(0x8d6)]+_0x5be984(0x61c)+_0x1cb658[_0x5be984(0x449)]+':\x20'+(_0x180435 instanceof Error?_0x180435[_0x5be984(0x7c9)]:JSON[_0x5be984(0x1af)](_0x180435,null,0x2)));}try{_0x5a2659[_0x5be984(0x499)]=(await this[_0x5be984(0x3a2)](_0x1cb658['groupJid'],null,!0x0))[_0x5be984(0x3d0)][_0x5be984(0x313)];}catch(_0x40452f){this[_0x5be984(0x42f)][_0x5be984(0x83f)](this[_0x5be984(0x492)]+'\x20('+this['instance']['wuid']+_0x5be984(0x8de)+_0x1cb658[_0x5be984(0x449)]+':\x20'+(_0x40452f instanceof Error?_0x40452f[_0x5be984(0x7c9)]:JSON[_0x5be984(0x1af)](_0x40452f,null,0x2)));}let _0x7c8f67=_0x5a2659[_0x5be984(0x2c0)][_0x5be984(0x37b)](_0x2822e3=>_0x2822e3['id']),_0x4972df=_0x239b01['map'](_0x150cef=>_0x150cef[_0x5be984(0x28d)]),_0x1b52ce=await this['repository']['cacheContact'][_0x5be984(0x555)]([..._0x7c8f67,..._0x4972df]);_0x5a2659[_0x5be984(0x2c0)]=_0x5a2659[_0x5be984(0x2c0)]['map'](_0x448f1b=>{const _0x4038f8=_0x5be984;let _0x5c6176=_0x1b52ce['find'](_0x181f85=>_0x181f85[_0x4038f8(0x791)]===_0x448f1b['id']);return{'id':_0x448f1b['id'],'isAdmin':[_0x4038f8(0x804),'superadmin']['includes'](_0x448f1b[_0x4038f8(0x804)]),'admin':_0x448f1b[_0x4038f8(0x804)],'pushName':_0x5c6176?.[_0x4038f8(0x1b3)],'profilePictureUrl':_0x5c6176?.['pictureUrl']};}),_0x5a2659[_0x5be984(0x594)]=_0x239b01[_0x5be984(0x37b)](_0x1d3e37=>{const _0x3935a9=_0x5be984;let _0xfc5939=_0x1b52ce[_0x3935a9(0x361)](_0x48bf1a=>_0x48bf1a[_0x3935a9(0x791)]===_0x1d3e37[_0x3935a9(0x28d)]);return{'id':_0x1d3e37[_0x3935a9(0x28d)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0xfc5939?.[_0x3935a9(0x1b3)],'profilePictureUrl':_0xfc5939?.[_0x3935a9(0x313)],'request_method':_0x1d3e37[_0x3935a9(0x776)],'request_time':_0x1d3e37[_0x3935a9(0x321)]};});let _0x127ce8=await this[_0x5be984(0x3b3)][_0x5be984(0x8c3)]['updateOne']({'where':{'_id':_0x1cb658[_0x5be984(0x449)]}},{'imagechat':_0x5a2659[_0x5be984(0x499)],'name':_0x5a2659['subject'],'lastcache':Date[_0x5be984(0x82e)](),'groupdata':_0x5a2659},this[_0x5be984(0x278)][_0x5be984(0x8d6)]);return F(this['instanceName'],_0x5be984(0x483),{'chat':_0x127ce8}),{'metadata':_0x5a2659};}catch(_0x254ee2){if(_0x1d866a==='inner')return;throw new U(_0x5be984(0x352),_0x254ee2[_0x5be984(0x7c9)][_0x5be984(0x7b0)]());}}async['findGroups'](){const _0x333ce8=a0_0x4c01ce;try{this['logger'][_0x333ce8(0x8c5)](_0x333ce8(0x5e3));let _0x1f4f8f=Date[_0x333ce8(0x82e)](),_0x10ffff=0x3*0x3c*0x3c*0x3e8;return _0x1f4f8f-this[_0x333ce8(0x44a)]>_0x10ffff&&(this['findRealGroups'](),this[_0x333ce8(0x44a)]=_0x1f4f8f),(await this['repository'][_0x333ce8(0x8c3)][_0x333ce8(0x5db)]({'where':{'group':!0x0}},this[_0x333ce8(0x278)][_0x333ce8(0x8d6)]))[_0x333ce8(0x37b)](_0x175052=>({..._0x175052['groupdata'],'groupJid':_0x175052?.['_id'],'participants':_0x175052?.[_0x333ce8(0x685)]?.['participants']||[],'awaitingApproval':_0x175052?.[_0x333ce8(0x685)]?.[_0x333ce8(0x594)]||[],'image':_0x175052?.[_0x333ce8(0x4a9)]}));}catch(_0x327dc2){let _0x39af0a=_0x333ce8(0x540),_0xfc4cd4=_0x327dc2 instanceof Error?_0x327dc2['message']:typeof _0x327dc2==_0x333ce8(0x28b)?JSON[_0x333ce8(0x1af)](_0x327dc2):_0x327dc2,_0x189abe=_0x39af0a+':\x20'+_0xfc4cd4;throw this[_0x333ce8(0x42f)][_0x333ce8(0x82d)](this[_0x333ce8(0x492)]+'\x20('+this[_0x333ce8(0x278)]['wuid']+_0x333ce8(0x6b7)+_0x189abe),new U(_0x189abe);}}async['findRealGroups'](){const _0x431eca=a0_0x4c01ce;try{this['logger'][_0x431eca(0x8c5)](_0x431eca(0x60e));let _0x14691d=[],_0x15eda9=await this[_0x431eca(0x2aa)]['groupFetchAllParticipating'](),_0x4e9c4f=Object['values'](_0x15eda9),_0x3c3c32=_0x4e9c4f[_0x431eca(0x58d)](_0x1534e1=>(0x0,w[_0x431eca(0x75a)])(_0x1534e1?.['id']))['map'](async _0x401027=>{const _0x4d9596=_0x431eca;try{return await this['client'][_0x4d9596(0x7d5)](_0x401027['id'],_0x4d9596(0x8a2));}catch(_0x11df7f){return this[_0x4d9596(0x42f)]['verbose'](this[_0x4d9596(0x492)]+'\x20('+this['instance'][_0x4d9596(0x8d6)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x401027['id']+':\x20'+(_0x11df7f instanceof Error?_0x11df7f[_0x4d9596(0x7c9)]:JSON[_0x4d9596(0x1af)](_0x11df7f,null,0x2))),null;}}),_0x377e99=await Promise[_0x431eca(0x1be)](_0x3c3c32);for(let _0x2c37b5=0x0;_0x2c37b5<_0x4e9c4f['length'];_0x2c37b5++){let _0x4242cb=_0x4e9c4f[_0x2c37b5];(0x0,w[_0x431eca(0x75a)])(_0x4242cb?.['id'])&&(_0x14691d[_0x431eca(0x835)]({'groupJid':_0x4242cb?.['id'],'subject':_0x4242cb?.[_0x431eca(0x366)],'subjectOwner':_0x4242cb?.['subjectOwner']?.[_0x431eca(0x85e)]('@')[0x0],'subjectTime':_0x4242cb?.['subjectTime'],'creation':_0x4242cb?.['creation'],'size':_0x4242cb?.[_0x431eca(0x2c0)]?.[_0x431eca(0x72e)],'owner':_0x4242cb?.[_0x431eca(0x3f6)]?.[_0x431eca(0x85e)]('@')[0x0],'desc':_0x4242cb?.['desc'],'restrict':_0x4242cb?.[_0x431eca(0x4b6)],'announce':_0x4242cb?.['announce'],'image':_0x377e99[_0x2c37b5],'isCommunity':_0x4242cb?.[_0x431eca(0x5aa)],'joinApprovalMode':_0x4242cb?.['joinApprovalMode'],'memberCanAddParticipant':_0x4242cb?.[_0x431eca(0x8f9)],'participants':_0x4242cb?.['participants'],'descOwner':_0x4242cb?.['descOwner'],'descId':_0x4242cb?.[_0x431eca(0x3c6)],'memberAddMode':_0x4242cb?.[_0x431eca(0x8f9)],'isCommunityAnnounce':_0x4242cb?.[_0x431eca(0x341)],'ephemeralDuration':_0x4242cb?.[_0x431eca(0x6c9)]||0x0,'author':_0x4242cb?.['author']}),this[_0x431eca(0x700)](_0x4e9c4f[_0x2c37b5]));}return _0x14691d;}catch(_0x32b75c){let _0x552304=_0x431eca(0x6dd),_0x509a20=_0x32b75c instanceof Error?_0x32b75c[_0x431eca(0x7c9)]:typeof _0x32b75c=='object'?JSON[_0x431eca(0x1af)](_0x32b75c):_0x32b75c,_0x366ea3=_0x552304+':\x20'+_0x509a20;throw this[_0x431eca(0x42f)][_0x431eca(0x82d)](this[_0x431eca(0x492)]+'\x20('+this[_0x431eca(0x278)][_0x431eca(0x8d6)]+'):\x20'+_0x366ea3),new U(_0x366ea3);}}async['updateChatGroupData'](_0x25a8e6){const _0x9d1b7e=a0_0x4c01ce;let _0x4faf44=await this[_0x9d1b7e(0x3b3)][_0x9d1b7e(0x8c3)][_0x9d1b7e(0x280)]({'where':{'_id':_0x25a8e6['id']}},this['instance'][_0x9d1b7e(0x8d6)]);_0x25a8e6[_0x9d1b7e(0x6e1)]=_0x25a8e6?.[_0x9d1b7e(0x6e1)]&&_0x25a8e6[_0x9d1b7e(0x6e1)]['toString']()[_0x9d1b7e(0x72e)]<0xd?_0x25a8e6?.[_0x9d1b7e(0x6e1)]*0x3e8:_0x25a8e6?.[_0x9d1b7e(0x6e1)]||null,_0x25a8e6[_0x9d1b7e(0x2e1)]=_0x25a8e6?.[_0x9d1b7e(0x2e1)]&&_0x25a8e6[_0x9d1b7e(0x2e1)][_0x9d1b7e(0x7b0)]()[_0x9d1b7e(0x72e)]<0xd?_0x25a8e6?.['creation']*0x3e8:_0x25a8e6?.[_0x9d1b7e(0x2e1)]||null;let _0x3c44d5=_0x4faf44?.[_0x9d1b7e(0x685)]?.[_0x9d1b7e(0x594)]||[],_0x1292f6=_0x4faf44?.[_0x9d1b7e(0x685)]?.[_0x9d1b7e(0x6b3)],_0x31e190=_0x25a8e6[_0x9d1b7e(0x2c0)]['map'](_0x2c8626=>{const _0x306123=_0x9d1b7e;let _0x29e822=_0x4faf44?.[_0x306123(0x685)]?.[_0x306123(0x2c0)][_0x306123(0x361)](_0x595488=>_0x595488['id']===_0x2c8626['id']);return{..._0x2c8626,'isAdmin':['admin',_0x306123(0x208)][_0x306123(0x570)](_0x2c8626['admin']),'admin':_0x2c8626['admin'],'name':_0x29e822?.[_0x306123(0x1b3)]||_0x2c8626['name'],'imgUrl':_0x29e822?.[_0x306123(0x4b5)]||_0x2c8626[_0x306123(0x4b5)]};}),_0x2fe838=_0x31e190['some'](_0x4be1e7=>_0x4be1e7['id']===this[_0x9d1b7e(0x278)][_0x9d1b7e(0x8d6)]+_0x9d1b7e(0x4f9)&&_0x4be1e7[_0x9d1b7e(0x804)]!=null)||!0x1,_0x1d92b8=(!_0x25a8e6[_0x9d1b7e(0x389)]||_0x2fe838)&&(!_0x25a8e6[_0x9d1b7e(0x5aa)]||_0x25a8e6[_0x9d1b7e(0x5aa)]&&_0x25a8e6['isCommunityAnnounce']&&_0x2fe838),_0x219f1d={..._0x25a8e6,'participants':_0x31e190,'awaitingApproval':_0x3c44d5,'lastFetchAwaitingApproval':_0x1292f6,'isAdmin':_0x2fe838,'canSendMessage':_0x1d92b8,'lastUpdate':Date[_0x9d1b7e(0x82e)]()};await this['repository']['chat'][_0x9d1b7e(0x3e7)]({'where':{'_id':_0x25a8e6['id']}},{'name':_0x25a8e6['subject'],'group':!0x0,'groupdata':_0x219f1d,'lastcache':Date[_0x9d1b7e(0x82e)]()},this[_0x9d1b7e(0x278)][_0x9d1b7e(0x8d6)]),F(this['instanceName'],'chats',{'chat':_0x25a8e6});}async['updateGroupWebhook'](_0x5abb81){const _0x60f4ba=a0_0x4c01ce;let _0xcd35e8=await this['repository'][_0x60f4ba(0x8c3)][_0x60f4ba(0x280)]({'where':{'_id':_0x5abb81['id']}},this['instance']['wuid']);_0x5abb81[_0x60f4ba(0x6e1)]=_0x5abb81?.['subjectTime']&&_0x5abb81[_0x60f4ba(0x6e1)][_0x60f4ba(0x7b0)]()['length']<0xd?_0x5abb81?.[_0x60f4ba(0x6e1)]*0x3e8:_0x5abb81?.[_0x60f4ba(0x6e1)]||null,_0x5abb81[_0x60f4ba(0x2e1)]=_0x5abb81?.[_0x60f4ba(0x2e1)]&&_0x5abb81[_0x60f4ba(0x2e1)][_0x60f4ba(0x7b0)]()[_0x60f4ba(0x72e)]<0xd?_0x5abb81?.[_0x60f4ba(0x2e1)]*0x3e8:_0x5abb81?.[_0x60f4ba(0x2e1)]||null,_0x5abb81[_0x60f4ba(0x261)]&&(_0x5abb81[_0x60f4ba(0x261)]='https://chat.whatsapp.com/'+_0x5abb81['inviteCode']);let _0x1e913e=_0xcd35e8?.[_0x60f4ba(0x685)]?{..._0xcd35e8[_0x60f4ba(0x685)]}:{};Object[_0x60f4ba(0x6c3)](_0x5abb81)[_0x60f4ba(0x68b)](_0x4f48a7=>{_0x4f48a7!=='id'&&(_0x1e913e[_0x4f48a7]=_0x5abb81[_0x4f48a7]);});let _0x6eaf4e=_0x1e913e[_0x60f4ba(0x2c0)]?.[_0x60f4ba(0x5ed)](_0x433aa5=>_0x433aa5['id']===this[_0x60f4ba(0x278)][_0x60f4ba(0x8d6)]+_0x60f4ba(0x4f9)&&_0x433aa5['admin']!=null)||!0x1;_0x1e913e['isAdmin']=_0x6eaf4e;let _0x4d8e34=(!_0x1e913e['announce']||_0x6eaf4e)&&(!_0x1e913e[_0x60f4ba(0x5aa)]||_0x1e913e[_0x60f4ba(0x5aa)]&&_0x1e913e[_0x60f4ba(0x341)]&&_0x6eaf4e);_0x1e913e[_0x60f4ba(0x1ec)]=_0x4d8e34;let _0xfe641d={'group':!0x0,'groupdata':_0x1e913e};_0x5abb81['subject']&&(_0xfe641d[_0x60f4ba(0x1b3)]=_0x5abb81[_0x60f4ba(0x366)]),await this[_0x60f4ba(0x3b3)]['chat'][_0x60f4ba(0x3e7)]({'where':{'_id':_0x5abb81['id']}},_0xfe641d,this[_0x60f4ba(0x278)][_0x60f4ba(0x8d6)],{'upsert':!0x0}),F(this[_0x60f4ba(0x492)],_0x60f4ba(0x483),{'chat':_0xfe641d});}async[a0_0x4c01ce(0x232)](_0x442625){const _0x59ec88=a0_0x4c01ce;let _0xf0f2c7=await this[_0x59ec88(0x3b3)][_0x59ec88(0x8c3)][_0x59ec88(0x280)]({'where':{'_id':_0x442625['id']}},this['instance']['wuid']);if(!_0xf0f2c7||!_0xf0f2c7[_0x59ec88(0x685)]){this[_0x59ec88(0x42f)][_0x59ec88(0x8c5)](this[_0x59ec88(0x492)]+'\x20('+this[_0x59ec88(0x278)][_0x59ec88(0x8d6)]+'):\x20Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x20'+_0x442625['id']);return;}let _0x10d28d=await this[_0x59ec88(0x3b3)][_0x59ec88(0x4e1)][_0x59ec88(0x555)](_0x442625[_0x59ec88(0x2c0)]),_0x4452ab=[..._0xf0f2c7['groupdata']?.[_0x59ec88(0x2c0)]];switch(_0x442625[_0x59ec88(0x420)]){case _0x59ec88(0x2e3):_0x10d28d[_0x59ec88(0x37b)](_0x4837bd=>({'id':_0x4837bd[_0x59ec88(0x791)],'isAdmin':!0x1,'name':_0x4837bd[_0x59ec88(0x1b3)],'imgUrl':_0x4837bd[_0x59ec88(0x313)]}))[_0x59ec88(0x68b)](_0x21ad24=>{const _0x45aef9=_0x59ec88;_0x4452ab[_0x45aef9(0x5ed)](_0x3bb3b9=>_0x3bb3b9['id']===_0x21ad24['id'])||(_0x4452ab[_0x45aef9(0x835)](_0x21ad24),this[_0x45aef9(0x42f)][_0x45aef9(0x8c5)](_0x45aef9(0x6bb)+JSON[_0x45aef9(0x1af)](_0x21ad24)));});break;case _0x59ec88(0x41d):_0x4452ab=_0x4452ab['filter'](_0x267c9c=>!_0x442625[_0x59ec88(0x2c0)][_0x59ec88(0x570)](_0x267c9c['id']));break;case _0x59ec88(0x2f1):_0x4452ab=_0x4452ab['map'](_0x17b072=>_0x442625[_0x59ec88(0x2c0)][_0x59ec88(0x570)](_0x17b072['id'])?{..._0x17b072,'isAdmin':!0x0,'admin':_0x59ec88(0x804)}:_0x17b072);break;case'demote':_0x4452ab=_0x4452ab['map'](_0x274f25=>_0x442625[_0x59ec88(0x2c0)][_0x59ec88(0x570)](_0x274f25['id'])?{..._0x274f25,'isAdmin':!0x1,'admin':null}:_0x274f25);break;}let _0x557367=_0x4452ab['length'],_0x302889=_0x4452ab[_0x59ec88(0x5ed)](_0x5372b8=>_0x5372b8['id']===this[_0x59ec88(0x278)][_0x59ec88(0x8d6)]+_0x59ec88(0x4f9)),_0x4afe0d=_0x302889&&_0x4452ab[_0x59ec88(0x5ed)](_0x34ce44=>_0x34ce44['id']===this[_0x59ec88(0x278)][_0x59ec88(0x8d6)]+'@s.whatsapp.net'&&_0x34ce44[_0x59ec88(0x804)]!=null)||!0x1,_0x53e863=_0x302889&&(!_0xf0f2c7[_0x59ec88(0x685)]['announce']||_0x4afe0d)&&(!_0xf0f2c7[_0x59ec88(0x685)]['isCommunity']||_0xf0f2c7[_0x59ec88(0x685)][_0x59ec88(0x5aa)]&&_0x4afe0d);await this['repository'][_0x59ec88(0x8c3)][_0x59ec88(0x3e7)]({'where':{'_id':_0x442625['id']}},{'groupdata':{..._0xf0f2c7[_0x59ec88(0x685)],'participants':_0x4452ab,'size':_0x557367,'isAdmin':_0x4afe0d,'canSendMessage':_0x53e863}},this[_0x59ec88(0x278)][_0x59ec88(0x8d6)]),this['logger']['info'](this[_0x59ec88(0x492)]+'\x20('+this[_0x59ec88(0x278)][_0x59ec88(0x8d6)]+_0x59ec88(0x2c4)+_0x442625['id']+_0x59ec88(0x509)+_0x442625[_0x59ec88(0x420)]+',\x20Novo\x20tamanho:\x20'+_0x557367+_0x59ec88(0x2d4)+_0x4afe0d+_0x59ec88(0x193)+_0x53e863);}async['inviteCode'](_0x606559,_0x2690c9=!0x0){const _0x10d753=a0_0x4c01ce;try{let _0x17dcf3=await this[_0x10d753(0x2aa)]['groupInviteCode'](_0x606559[_0x10d753(0x449)]),_0x2ff70a={'groupdata.inviteCode':'https://chat.whatsapp.com/'+_0x17dcf3};if(_0x2690c9){let _0x57049a=await this[_0x10d753(0x3b3)][_0x10d753(0x8c3)][_0x10d753(0x3e7)]({'where':{'_id':_0x606559[_0x10d753(0x449)]}},_0x2ff70a,this[_0x10d753(0x278)][_0x10d753(0x8d6)]);}return{'inviteUrl':_0x10d753(0x875)+_0x17dcf3,'inviteCode':_0x17dcf3};}catch(_0x250bd5){let _0x156902=_0x10d753(0x3d6),_0x38383f=_0x250bd5 instanceof Error?_0x250bd5['message']:typeof _0x250bd5==_0x10d753(0x28b)?JSON[_0x10d753(0x1af)](_0x250bd5):_0x250bd5,_0x4dd620=_0x156902+':\x20'+_0x38383f;throw this[_0x10d753(0x42f)]['error'](this[_0x10d753(0x492)]+'\x20('+this['instance'][_0x10d753(0x8d6)]+'):\x20'+_0x4dd620),new U(_0x4dd620);}}async['revokeInviteCode'](_0x6c6dfa){const _0x2a2278=a0_0x4c01ce;try{let _0xe78bd7=await this[_0x2a2278(0x2aa)]['groupRevokeInvite'](_0x6c6dfa[_0x2a2278(0x449)]);return{'revoked':!0x0,'inviteUrl':_0x2a2278(0x875)+_0xe78bd7,'inviteCode':_0xe78bd7};}catch(_0x1b3af6){let _0x2e3b1f='Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode',_0x203a41=_0x1b3af6 instanceof Error?_0x1b3af6['message']:typeof _0x1b3af6==_0x2a2278(0x28b)?JSON['stringify'](_0x1b3af6):_0x1b3af6,_0x4ff46d=_0x2e3b1f+':\x20'+_0x203a41;throw this[_0x2a2278(0x42f)]['error'](this['instanceName']+'\x20('+this[_0x2a2278(0x278)][_0x2a2278(0x8d6)]+_0x2a2278(0x6b7)+_0x4ff46d),new U(_0x4ff46d);}}async[a0_0x4c01ce(0x300)](_0xa6637d){const _0x107888=a0_0x4c01ce;try{if((0x0,J[_0x107888(0x578)])(_0xa6637d[_0x107888(0x261)]))var _0x395871=_0xa6637d['inviteCode'][_0x107888(0x85e)]('/')[0x3];else var _0x395871=_0xa6637d[_0x107888(0x261)];let _0x342f55=await this[_0x107888(0x2aa)][_0x107888(0x52f)](_0x395871);return this['logger'][_0x107888(0x83f)](this[_0x107888(0x492)]+'\x20('+this[_0x107888(0x278)][_0x107888(0x8d6)]+_0x107888(0x6b7)+_0x342f55),{'join':!0x0,'inviteCode':_0x395871,'groupJid':_0x342f55};}catch(_0x1edd03){let _0x252e25=_0x107888(0x440),_0x692812=_0x1edd03 instanceof Error?_0x1edd03[_0x107888(0x7c9)]:typeof _0x1edd03==_0x107888(0x28b)?JSON['stringify'](_0x1edd03):_0x1edd03,_0x11a477=_0x252e25+':\x20'+_0x692812;throw this[_0x107888(0x42f)]['error'](this[_0x107888(0x492)]+'\x20('+this[_0x107888(0x278)][_0x107888(0x8d6)]+'):\x20'+_0x11a477),new U(_0x11a477);}}async[a0_0x4c01ce(0x549)](_0x4126a7){const _0x33f5b1=a0_0x4c01ce;try{return{'participants':(await this[_0x33f5b1(0x3b3)][_0x33f5b1(0x8c3)][_0x33f5b1(0x280)]({'where':{'_id':_0x4126a7['groupJid']}},this[_0x33f5b1(0x278)][_0x33f5b1(0x8d6)]))[_0x33f5b1(0x685)][_0x33f5b1(0x2c0)]};}catch(_0x555fbb){let _0x5df26c=_0x33f5b1(0x537),_0x466d61=_0x555fbb instanceof Error?_0x555fbb[_0x33f5b1(0x7c9)]:typeof _0x555fbb=='object'?JSON[_0x33f5b1(0x1af)](_0x555fbb):_0x555fbb,_0x5d4a96=_0x5df26c+':\x20'+_0x466d61;throw this[_0x33f5b1(0x42f)][_0x33f5b1(0x82d)](this['instanceName']+'\x20('+this['instance'][_0x33f5b1(0x8d6)]+_0x33f5b1(0x6b7)+_0x5d4a96),new U(_0x5d4a96);}}async[a0_0x4c01ce(0x457)](_0x20b3c8){const _0x26f00c=a0_0x4c01ce;try{return await this[_0x26f00c(0x2aa)][_0x26f00c(0x63b)](_0x20b3c8[_0x26f00c(0x449)]),{'groupJid':_0x20b3c8[_0x26f00c(0x449)],'leave':!0x0};}catch(_0x53529e){let _0x6d171d=_0x26f00c(0x407),_0x207889=_0x53529e instanceof Error?_0x53529e[_0x26f00c(0x7c9)]:typeof _0x53529e==_0x26f00c(0x28b)?JSON[_0x26f00c(0x1af)](_0x53529e):_0x53529e,_0x5604fe=_0x6d171d+':\x20'+_0x207889;throw this[_0x26f00c(0x42f)]['error'](this[_0x26f00c(0x492)]+'\x20('+this[_0x26f00c(0x278)][_0x26f00c(0x8d6)]+_0x26f00c(0x6b7)+_0x5604fe),new m(_0x5604fe);}}async[a0_0x4c01ce(0x7ec)](_0x533bc6){const _0xfe65ba=a0_0x4c01ce;return await this[_0xfe65ba(0x8f6)](_0x533bc6[_0xfe65ba(0x4bd)],{'poll':{'name':_0x533bc6[_0xfe65ba(0x7ec)]?.[_0xfe65ba(0x1b3)],'selectableCount':_0x533bc6[_0xfe65ba(0x7ec)][_0xfe65ba(0x3b0)],'values':_0x533bc6[_0xfe65ba(0x7ec)]['values']}},_0x533bc6?.[_0xfe65ba(0x592)]);}async['listMessage'](_0x150a0e){const _0x46ff8e=a0_0x4c01ce;return await this[_0x46ff8e(0x8f6)](_0x150a0e['number'],{'listMessage':{'title':_0x150a0e[_0x46ff8e(0x8c6)]['title'],'description':_0x150a0e[_0x46ff8e(0x8c6)][_0x46ff8e(0x465)],'buttonText':_0x150a0e['listMessage']?.[_0x46ff8e(0x548)],'footerText':_0x150a0e[_0x46ff8e(0x8c6)]?.['footerText'],'sections':_0x150a0e['listMessage'][_0x46ff8e(0x674)],'listType':0x2}},_0x150a0e?.[_0x46ff8e(0x592)]);}async[a0_0x4c01ce(0x653)](_0x1c2e5d){const _0x2851c5=a0_0x4c01ce;this[_0x2851c5(0x278)][_0x2851c5(0x31d)]===void 0x0&&await this[_0x2851c5(0x827)]();let _0x45ee74;if(_0x1c2e5d[_0x2851c5(0x653)][_0x2851c5(0x7af)]==='list'||_0x1c2e5d[_0x2851c5(0x653)]['type']==='list2'){let _0x2b5182=_0x1c2e5d[_0x2851c5(0x653)]['text'][_0x2851c5(0x7c7)]('\x0a'),_0x4fe038='',_0x1c51c0='';_0x2b5182!==-0x1?(_0x4fe038=_0x1c2e5d[_0x2851c5(0x653)][_0x2851c5(0x23e)]['substring'](0x0,_0x2b5182)[_0x2851c5(0x67e)](),_0x1c51c0=_0x1c2e5d[_0x2851c5(0x653)][_0x2851c5(0x23e)][_0x2851c5(0x5b8)](_0x2b5182+0x1)):_0x1c51c0=_0x1c2e5d[_0x2851c5(0x653)][_0x2851c5(0x23e)];let _0x20e312=_0x1c2e5d['menuMessage'][_0x2851c5(0x3a1)][_0x2851c5(0x58d)](_0x21bb82=>_0x21bb82[_0x2851c5(0x67e)]()!==''),_0x22a3d8=this[_0x2851c5(0x85d)](_0x20e312);_0x45ee74={'listMessage':{'title':_0x4fe038,'description':_0x1c51c0,'buttonText':_0x1c2e5d['menuMessage']['buttonText']||_0x2851c5(0x8f4),'footerText':_0x1c2e5d[_0x2851c5(0x653)]['footerText'],'sections':_0x22a3d8,'listType':0x2}};}else{if(_0x1c2e5d[_0x2851c5(0x653)][_0x2851c5(0x7af)]===_0x2851c5(0x8e4)){let _0x55006a=_0x1c2e5d['menuMessage']['choices']['filter'](_0x422eda=>!(_0x422eda[_0x2851c5(0x6cd)]('[')&&_0x422eda[_0x2851c5(0x63d)](']'))&&_0x422eda['trim']()!=='')['map'](_0x38b8dd=>_0x38b8dd[_0x2851c5(0x85e)]('\x0a')[0x0]);for(;_0x55006a[_0x2851c5(0x72e)]<0x2;)_0x55006a['push']('Opção\x20Falsa\x20'+(_0x55006a['length']+0x1));_0x45ee74={'poll':{'name':_0x1c2e5d[_0x2851c5(0x653)]['text'],'selectableCount':_0x1c2e5d[_0x2851c5(0x653)]['selectableCount']||0x1,'values':_0x55006a}};}else{if(_0x1c2e5d[_0x2851c5(0x653)][_0x2851c5(0x7af)]===_0x2851c5(0x3cb)){let _0x2fbe2b=this['createButtonsFromValues'](_0x1c2e5d[_0x2851c5(0x653)]['choices'][_0x2851c5(0x58d)](_0x595e32=>!(_0x595e32['startsWith']('[')&&_0x595e32[_0x2851c5(0x63d)](']'))));return _0x45ee74={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x1c2e5d[_0x2851c5(0x653)]['text']},'footer':_0x1c2e5d[_0x2851c5(0x653)][_0x2851c5(0x5ca)]?{'text':_0x1c2e5d['menuMessage']['footerText']}:void 0x0,'nativeFlowMessage':{'buttons':_0x2fbe2b,'messageParamsJson':JSON[_0x2851c5(0x1af)]({'from':_0x2851c5(0x76d),'templateId':_0x2851c5(0x1ea)+(0x0,ne[_0x2851c5(0x6e9)])(0x12)[_0x2851c5(0x7b0)](_0x2851c5(0x63a))[_0x2851c5(0x89f)]()})}}}}},await this[_0x2851c5(0x7f6)](_0x1c2e5d['number'],_0x45ee74,_0x1c2e5d?.['options']);}else{if(_0x1c2e5d[_0x2851c5(0x653)][_0x2851c5(0x7af)]===_0x2851c5(0x85a)){let _0x3acf8b=this[_0x2851c5(0x1b0)](_0x1c2e5d[_0x2851c5(0x653)][_0x2851c5(0x3a1)]);return _0x45ee74={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x1c2e5d[_0x2851c5(0x653)][_0x2851c5(0x23e)]},'footer':_0x1c2e5d['menuMessage']['footerText']?{'text':_0x1c2e5d[_0x2851c5(0x653)]['footerText']}:void 0x0,'nativeFlowMessage':{'buttons':_0x3acf8b,'messageParamsJson':JSON['stringify']({'from':_0x2851c5(0x76d),'templateId':'3EB0'+(0x0,ne[_0x2851c5(0x6e9)])(0x12)[_0x2851c5(0x7b0)](_0x2851c5(0x63a))['toUpperCase']()})}}}}},await this[_0x2851c5(0x7f6)](_0x1c2e5d[_0x2851c5(0x4bd)],_0x45ee74,_0x1c2e5d?.['options']);}}}}return await this[_0x2851c5(0x8f6)](_0x1c2e5d['number'],_0x45ee74,_0x1c2e5d?.[_0x2851c5(0x592)]);}[a0_0x4c01ce(0x3fb)](_0x50ba97){const _0x588fac=a0_0x4c01ce;return _0x50ba97[_0x588fac(0x37b)](_0x2927c6=>{const _0x36aaa3=_0x588fac;let _0x2ebc98=_0x2927c6[_0x36aaa3(0x85e)]('\x0a')['map'](_0x4b100b=>_0x4b100b['trim']()),_0x4ed8df=_0x2ebc98[0x0],_0x161f0e=_0x2ebc98[0x1]||_0x4ed8df,_0x24d8a1=_0x161f0e['startsWith'](_0x36aaa3(0x23b))?_0x36aaa3(0x7bd):_0x36aaa3(0x242);return{'name':_0x24d8a1,'buttonParamsJson':JSON['stringify']({'display_text':_0x4ed8df,'id':_0x24d8a1===_0x36aaa3(0x242)?_0x161f0e:void 0x0,'url':_0x24d8a1===_0x36aaa3(0x7bd)?_0x161f0e:void 0x0})};});}['createButtonSectionsFromValues'](_0x300f50){const _0x494c94=a0_0x4c01ce;let _0x313a67=[],_0x554f55={'title':'','rows':[]};return _0x300f50[_0x494c94(0x68b)](_0x4ac7f1=>{const _0x10e09d=_0x494c94;if(_0x4ac7f1[_0x10e09d(0x6cd)]('[')&&_0x4ac7f1[_0x10e09d(0x63d)](']'))_0x554f55[_0x10e09d(0x596)][_0x10e09d(0x72e)]>0x0&&_0x313a67[_0x10e09d(0x835)](_0x554f55),_0x554f55={'title':_0x4ac7f1[_0x10e09d(0x89c)](0x1,-0x1),'rows':[]};else{let _0x6671eb=_0x4ac7f1[_0x10e09d(0x85e)]('\x0a')[_0x10e09d(0x37b)](_0xa00714=>_0xa00714['trim']()),_0xc3d416=_0x6671eb[0x0],_0x3c971b=_0x6671eb[0x1]?_0x6671eb[0x1]:void 0x0,_0x21e691=_0x6671eb[0x2]||_0xc3d416;_0x554f55[_0x10e09d(0x596)][_0x10e09d(0x835)]({'title':_0xc3d416,'description':_0x3c971b,'id':_0x21e691});}}),_0x554f55[_0x494c94(0x596)]['length']>0x0&&_0x313a67['push'](_0x554f55),[{'name':_0x494c94(0x398),'buttonParamsJson':JSON[_0x494c94(0x1af)]({'title':_0x494c94(0x2e5),'sections':_0x313a67})}];}[a0_0x4c01ce(0x85d)](_0x3101e8){const _0x532ebd=a0_0x4c01ce;let _0xed4ce7=[],_0x59d8a4={'rows':[]};return _0x3101e8[_0x532ebd(0x68b)](_0x4d2f72=>{const _0x464625=_0x532ebd;if(_0x4d2f72['startsWith']('[')&&_0x4d2f72['endsWith'](']'))_0x59d8a4[_0x464625(0x596)][_0x464625(0x72e)]>0x0&&_0xed4ce7['push'](_0x59d8a4),_0x59d8a4={'title':_0x4d2f72[_0x464625(0x89c)](0x1,-0x1),'rows':[]};else{let _0xa99c3=_0x4d2f72['split']('\x0a')[_0x464625(0x37b)](_0x921d58=>_0x921d58[_0x464625(0x67e)]()),_0x4848be=_0xa99c3[0x0],_0x36bc07=_0xa99c3[0x1]||null,_0x2739bd=_0xa99c3[0x2]||_0x4848be;_0x59d8a4['rows'][_0x464625(0x835)]({'title':_0x4848be,'description':_0x36bc07,'rowId':_0x2739bd});}}),_0x59d8a4[_0x532ebd(0x596)][_0x532ebd(0x72e)]>0x0&&_0xed4ce7[_0x532ebd(0x835)](_0x59d8a4),_0xed4ce7;}async[a0_0x4c01ce(0x1f1)](_0xd1856d,_0x4c9812){const _0xfca23a=a0_0x4c01ce;if(await this[_0xfca23a(0x445)](_0xd1856d,!0x0)){let _0x2b3d56={'where':{'_id':_0xd1856d['id']}},_0x1123dd={'status':[_0x4c9812['status']][0x0]};try{let _0x48f825=await this[_0xfca23a(0x3b3)][_0xfca23a(0x7c9)]['update'](_0x2b3d56,_0x1123dd,this[_0xfca23a(0x278)]['wuid']);_0x48f825&&F(this[_0xfca23a(0x492)],_0xfca23a(0x3e3),{'message':_0x48f825});}catch{}}}[a0_0x4c01ce(0x411)](_0x542a3e){const _0x5d06e0=a0_0x4c01ce;let _0x34f99e=[];return _0x542a3e['forEach'](_0x803644=>{const _0x28ef76=a0_0x4bf3;_0x803644[_0x28ef76(0x435)]&&_0x34f99e['push']('['+_0x803644[_0x28ef76(0x435)]+']'),_0x803644[_0x28ef76(0x596)][_0x28ef76(0x68b)](_0xf364a8=>{const _0x3d9b07=_0x28ef76;_0x34f99e[_0x3d9b07(0x835)](_0xf364a8[_0x3d9b07(0x435)]);});}),_0x34f99e[_0x5d06e0(0x78e)]('|');}[a0_0x4c01ce(0x48c)](_0xc96b46){const _0x285167=a0_0x4c01ce;let _0x24eeba=_0xc96b46[_0x285167(0x7ea)](/\\n/g,'\x0a')[_0x285167(0x85e)]('\x0a')[_0x285167(0x58d)](_0x5f1222=>_0x5f1222[_0x285167(0x570)](_0x285167(0x587))||_0x5f1222['includes']('EMAIL')),_0x9956ca='';return _0x24eeba['forEach'](_0x1a0d55=>{const _0x2c3e48=_0x285167;let _0x4ab70a=/TEL(?:.*):(.+)/,_0xb55a31=/EMAIL(?:.*):(.+)/,_0x19eb51=_0x1a0d55['match'](_0x4ab70a),_0x4061a2=_0x1a0d55[_0x2c3e48(0x2a6)](_0xb55a31);if(_0x19eb51){let _0x53ecf5=_0x19eb51[0x1][_0x2c3e48(0x7ea)](/-| |\+|\(|\)/g,'')[_0x2c3e48(0x67e)]();_0x9956ca+='Telefone:\x20'+_0x53ecf5+'\x0a';}else{if(_0x4061a2){let _0x5151c7=_0x4061a2[0x1][_0x2c3e48(0x67e)]();_0x9956ca+=_0x2c3e48(0x601)+_0x5151c7+'\x0a';}}}),_0x9956ca[_0x285167(0x67e)]();}async['updateChatWithMessage'](_0x6bfe6e,_0x5c27fb,_0x1cb3af,_0x1d1506=null){const _0x9c9db5=a0_0x4c01ce;if(_0x6bfe6e['ENABLED'])try{let _0x325763=_0x5c27fb[_0x9c9db5(0x76c)]['remoteJid'][_0x9c9db5(0x7ea)](/:\d{1,2}@/g,'@'),_0x12618c=_0x5c27fb['key'][_0x9c9db5(0x8b9)],_0x34618c=_0x325763[_0x9c9db5(0x63d)](_0x9c9db5(0x2cb)),_0x2b0e4b=_0x5c27fb[_0x9c9db5(0x4a6)]?.[_0x9c9db5(0x7ea)](/:\d{1,2}@/g,'@')||'',_0x2ed6ed=_0x5c27fb[_0x9c9db5(0x2ac)]?.[_0x9c9db5(0x23e)]||_0x5c27fb[_0x9c9db5(0x2ac)]?.['caption']||_0x5c27fb[_0x9c9db5(0x2ac)]?.[_0x9c9db5(0x681)]||_0x5c27fb[_0x9c9db5(0x2ac)]?.[_0x9c9db5(0x1b3)]||'',_0x635055={'_id':_0x5c27fb[_0x9c9db5(0x791)],'remoteJid':_0x12618c?this[_0x9c9db5(0x278)][_0x9c9db5(0x8d6)]:_0x34618c?_0x2b0e4b:_0x325763,'pushName':_0x12618c?this[_0x9c9db5(0x278)][_0x9c9db5(0x5ef)]||'Eu':_0x5c27fb['pushName'],'text':_0x2ed6ed,'type':_0x5c27fb[_0x9c9db5(0x388)],'when':_0x5c27fb[_0x9c9db5(0x52a)]||Date[_0x9c9db5(0x82e)]()};_0x1d1506||(_0x1d1506=await this[_0x9c9db5(0x3b3)][_0x9c9db5(0x8c3)]['findOne']({'where':{'_id':_0x325763}},this[_0x9c9db5(0x278)]['wuid']));let _0x44e6cf=_0x12618c?0x0:_0x1d1506?(_0x1d1506[_0x9c9db5(0x42c)]||0x0)+0x1:0x1,_0x57dad0={'lastmsg':_0x5c27fb[_0x9c9db5(0x52a)]||Date[_0x9c9db5(0x82e)](),'ephemeralExpiration':_0x5c27fb[_0x9c9db5(0x3e6)],'lastMessage':_0x635055,'unreadcount':_0x44e6cf,..._0x12618c||_0x34618c?{}:{'name':_0x5c27fb['pushName']},..._0x34618c?{'group':_0x34618c}:{},...!_0x12618c&&!_0x34618c&&_0x5c27fb[_0x9c9db5(0x7d5)]?{'imagechat':_0x5c27fb[_0x9c9db5(0x7d5)]}:{}};if(!_0x34618c&&(!_0x1d1506?.[_0x9c9db5(0x421)]||!_0x1d1506[_0x9c9db5(0x421)][_0x9c9db5(0x23c)])&&_0x5c27fb[_0x9c9db5(0x6af)]&&!_0x12618c&&(_0x57dad0={..._0x57dad0,'leadInfo.nome':_0x5c27fb[_0x9c9db5(0x6af)]}),_0x1d1506?.['leadInfo']['etiquetas']||(_0x57dad0={..._0x57dad0,'leadInfo.etiquetas':[]}),_0x1d1506?.[_0x9c9db5(0x421)]['customFields']||(_0x57dad0={..._0x57dad0,'leadInfo.customFields':[]}),_0x1d1506?.[_0x9c9db5(0x421)][_0x9c9db5(0x7dd)]||(_0x57dad0={..._0x57dad0,'leadInfo.tags':[]}),_0x1d1506&&_0x1d1506?.[_0x9c9db5(0x39a)]){let _0x62a7ba=await this[_0x9c9db5(0x3b3)][_0x9c9db5(0x8ec)]['find']({'where':{}},this[_0x9c9db5(0x278)][_0x9c9db5(0x8d6)]),_0x2d78d4=new Set(_0x62a7ba[_0x9c9db5(0x37b)](_0x5bc96a=>_0x5bc96a['_id'])),_0x5d90c4=(_0x1d1506[_0x9c9db5(0x421)]?.[_0x9c9db5(0x2d7)]||[])[_0x9c9db5(0x58d)](_0x3436a2=>_0x2d78d4[_0x9c9db5(0x7de)](_0x3436a2));_0x57dad0={..._0x57dad0,'imported':!0x1,'leadInfo.etiquetas':_0x5d90c4};for(let _0xd5f021 of _0x5d90c4)await this[_0x9c9db5(0x1ed)](_0xd5f021,_0x325763);}if(!this['AutomateSystem']['flows'][_0x9c9db5(0x361)](_0x3f691e=>_0x3f691e[_0x9c9db5(0x882)]&&_0x2ed6ed[_0x9c9db5(0x570)](_0x3f691e[_0x9c9db5(0x882)]))&&_0x1cb3af==='MESSAGES_UPSERT'&&_0x12618c&&this[_0x9c9db5(0x238)]?.[_0x9c9db5(0x26c)][_0x9c9db5(0x3ba)]&&_0x2ed6ed[_0x9c9db5(0x67e)]()!==this['AutomateSystem']?.[_0x9c9db5(0x26c)][_0x9c9db5(0x7b6)][_0x9c9db5(0x67e)]()){let _0x4ce083=(this['AutomateSystem']?.[_0x9c9db5(0x26c)]['stopWhenYouSendMsg']||0x0)*0xea60,_0x5d2cbf=Date[_0x9c9db5(0x82e)]()+_0x4ce083;_0x1d1506?.[_0x9c9db5(0x421)]?.[_0x9c9db5(0x884)]===0x0||(_0x57dad0={..._0x57dad0,'leadInfo.desativadoFluxoAte':_0x5d2cbf},this[_0x9c9db5(0x42f)]['verbose'](this[_0x9c9db5(0x492)]+'\x20('+this['instance'][_0x9c9db5(0x8d6)]+_0x9c9db5(0x5f5)+_0x5d2cbf+'.'));}if(_0x2ed6ed[_0x9c9db5(0x67e)]()===this[_0x9c9db5(0x238)]?.[_0x9c9db5(0x26c)][_0x9c9db5(0x7b6)]['trim']()){this[_0x9c9db5(0x42f)][_0x9c9db5(0x83f)](this['instanceName']+'\x20('+this[_0x9c9db5(0x278)][_0x9c9db5(0x8d6)]+'):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20'+_0x2ed6ed);let _0xde8bc9=Date[_0x9c9db5(0x82e)]();this[_0x9c9db5(0x238)]?.[_0x9c9db5(0x26c)][_0x9c9db5(0x2ee)]===0x0?_0x57dad0={..._0x57dad0,'leadInfo.desativadoFluxoAte':_0xde8bc9+0x7591f6200}:_0x57dad0={..._0x57dad0,'leadInfo.desativadoFluxoAte':_0xde8bc9+this['AutomateSystem']?.[_0x9c9db5(0x26c)][_0x9c9db5(0x2ee)]*0x3c*0x3e8};}if(_0x1d1506=await this['repository']['chat'][_0x9c9db5(0x3e7)]({'where':{'_id':_0x325763}},_0x57dad0,this[_0x9c9db5(0x278)]['wuid'],{'new':!0x0,'upsert':!0x0}),_0x1d1506)F(this['instanceName'],_0x9c9db5(0x483),{'chat':_0x1d1506});else{this[_0x9c9db5(0x42f)][_0x9c9db5(0x82d)](this[_0x9c9db5(0x492)]+'\x20('+this[_0x9c9db5(0x278)][_0x9c9db5(0x8d6)]+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(_0x12618c)return this['logger'][_0x9c9db5(0x83f)](this['instanceName']+'\x20('+this[_0x9c9db5(0x278)]['wuid']+_0x9c9db5(0x8cf)),null;if(!this['AutomateSystem']?.[_0x9c9db5(0x26c)][_0x9c9db5(0x3ba)])return this[_0x9c9db5(0x42f)]['verbose'](this[_0x9c9db5(0x492)]+'\x20('+this[_0x9c9db5(0x278)][_0x9c9db5(0x8d6)]+_0x9c9db5(0x301)),null;if(_0x1d1506['_id'][_0x9c9db5(0x570)](_0x9c9db5(0x2cb))&&this[_0x9c9db5(0x238)]?.[_0x9c9db5(0x26c)][_0x9c9db5(0x37c)]===!0x0)return this[_0x9c9db5(0x42f)][_0x9c9db5(0x83f)](this[_0x9c9db5(0x492)]+'\x20('+this[_0x9c9db5(0x278)][_0x9c9db5(0x8d6)]+_0x9c9db5(0x6d3)),null;if(_0x1d1506[_0x9c9db5(0x421)]){if(_0x1d1506[_0x9c9db5(0x421)][_0x9c9db5(0x884)]===0x0||_0x1d1506[_0x9c9db5(0x421)][_0x9c9db5(0x699)])return this[_0x9c9db5(0x42f)]['verbose'](this[_0x9c9db5(0x492)]+'\x20('+this['instance']['wuid']+_0x9c9db5(0x2c5)+_0x325763+_0x9c9db5(0x365)),null;if(_0x1d1506[_0x9c9db5(0x421)]['desativadoFluxoAte']>Date[_0x9c9db5(0x82e)]()&&!_0x5c27fb['message_normalized']?.['vote'])return this[_0x9c9db5(0x42f)][_0x9c9db5(0x83f)](this['instanceName']+'\x20('+this[_0x9c9db5(0x278)]['wuid']+_0x9c9db5(0x650)+new Date(_0x1d1506[_0x9c9db5(0x421)][_0x9c9db5(0x884)])[_0x9c9db5(0x496)]()+_0x9c9db5(0x365)),null;}this[_0x9c9db5(0x42f)]['verbose'](this[_0x9c9db5(0x492)]+'\x20('+this['instance'][_0x9c9db5(0x8d6)]+_0x9c9db5(0x31e)),this[_0x9c9db5(0x621)](_0x5c27fb,_0x1cb3af);}catch(_0x51c379){let _0x6659fc='Erro\x20na\x20função\x20updateChatWithMessage:\x20',_0x381127=_0x51c379 instanceof Error?_0x51c379[_0x9c9db5(0x7c9)]:typeof _0x51c379==_0x9c9db5(0x28b)?JSON[_0x9c9db5(0x1af)](_0x51c379):_0x51c379,_0x17a323=_0x6659fc+':\x20'+_0x381127;return this[_0x9c9db5(0x42f)][_0x9c9db5(0x82d)](this[_0x9c9db5(0x492)]+'\x20('+this['instance'][_0x9c9db5(0x8d6)]+_0x9c9db5(0x6b7)+_0x17a323),null;}}async[a0_0x4c01ce(0x7b2)](_0xdbaf15,_0x9c1639){const _0x1ccab7=a0_0x4c01ce;if(_0x9c1639[_0x1ccab7(0x25d)]){let _0x50050f=_0xdbaf15[_0x1ccab7(0x37b)](async _0x5bc4b8=>{const _0x3661fd=_0x1ccab7;try{let _0x34db31={'_id':_0x5bc4b8[_0x3661fd(0x791)],'owner':_0x5bc4b8[_0x3661fd(0x3f6)],'lastcache':0x0};if(Object[_0x3661fd(0x6c3)](_0x5bc4b8)[_0x3661fd(0x68b)](_0x1b9aea=>{_0x5bc4b8[_0x1b9aea]!==null&&(_0x34db31[_0x1b9aea]=_0x5bc4b8[_0x1b9aea]);}),_0x34db31[_0x3661fd(0x4a9)]===null&&(_0x34db31[_0x3661fd(0x4a9)]=_0x3661fd(0x75c)),Object[_0x3661fd(0x6c3)](_0x34db31)[_0x3661fd(0x72e)]>0x0)return await this[_0x3661fd(0x3b3)][_0x3661fd(0x8c3)][_0x3661fd(0x3e7)]({'where':{'_id':_0x5bc4b8[_0x3661fd(0x791)]}},_0x34db31,this['instance']['wuid']);}catch(_0x4ad696){let _0x17b5df='Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x5bc4b8[_0x3661fd(0x791)],_0xd5b346=_0x4ad696 instanceof Error?_0x4ad696['message']:typeof _0x4ad696==_0x3661fd(0x28b)?JSON[_0x3661fd(0x1af)](_0x4ad696):_0x4ad696,_0x1caa9f=_0x17b5df+':\x20'+_0xd5b346;return this['logger'][_0x3661fd(0x82d)](this[_0x3661fd(0x492)]+'\x20('+this['instance'][_0x3661fd(0x8d6)]+_0x3661fd(0x6b7)+_0x1caa9f),null;}}),_0x13e9c0=(await Promise[_0x1ccab7(0x1be)](_0x50050f))[_0x1ccab7(0x58d)](_0x2cf425=>_0x2cf425!==null)[_0x1ccab7(0x72e)];this[_0x1ccab7(0x42f)][_0x1ccab7(0x83f)](this[_0x1ccab7(0x492)]+'\x20('+this[_0x1ccab7(0x278)][_0x1ccab7(0x8d6)]+_0x1ccab7(0x6b7)+_0x13e9c0+_0x1ccab7(0x7b7)+this['instance'][_0x1ccab7(0x8d6)]+_0x1ccab7(0x83d));}}async[a0_0x4c01ce(0x4b1)](_0x2268a2){const _0x3c57a3=a0_0x4c01ce;this[_0x3c57a3(0x42f)][_0x3c57a3(0x83f)](this['instanceName']+'\x20('+this[_0x3c57a3(0x278)][_0x3c57a3(0x8d6)]+_0x3c57a3(0x402));let _0x17128a={'readMessages':[{'remoteJid':_0x2268a2[_0x3c57a3(0x322)]['lastReceivedMessage'][_0x3c57a3(0x76c)][_0x3c57a3(0x7df)],'fromMe':_0x2268a2[_0x3c57a3(0x322)][_0x3c57a3(0x753)][_0x3c57a3(0x76c)]['fromMe'],'id':_0x2268a2[_0x3c57a3(0x322)][_0x3c57a3(0x753)][_0x3c57a3(0x76c)]['id']}]};await this[_0x3c57a3(0x4ed)](_0x17128a);}async['StartBot'](_0x5cdd6f,_0x525e6f){const _0x2fcf7d=a0_0x4c01ce;try{let {key:_0x1a0bef,message_normalized:_0xb36354}=_0x5cdd6f,_0x412c2b=_0xb36354,_0x51eadc=_0xb36354['text']||_0xb36354['caption']||_0xb36354[_0x2fcf7d(0x681)]||_0xb36354['name']||'',_0x435bae=_0x1a0bef[_0x2fcf7d(0x7df)],_0x3f0463=null,_0x1355f0=this['AutomateSystem'][_0x2fcf7d(0x327)][_0x2fcf7d(0x361)](_0x6a6a36=>_0x6a6a36[_0x2fcf7d(0x882)]&&_0x51eadc[_0x2fcf7d(0x570)](_0x6a6a36[_0x2fcf7d(0x882)]));if(_0x1355f0&&_0x525e6f===_0x2fcf7d(0x439)){let _0xda0e88=await this[_0x2fcf7d(0x3b3)][_0x2fcf7d(0x1a1)]['findOne']({'where':{'_id':_0x1355f0[_0x2fcf7d(0x791)]}});if(this['logger'][_0x2fcf7d(0x83f)](this[_0x2fcf7d(0x492)]+'\x20('+this['instance']['wuid']+_0x2fcf7d(0x40c)),_0xda0e88&&_0xda0e88['whoCanUse']?.[_0x2fcf7d(0x570)](this['instance'][_0x2fcf7d(0x8d6)]))_0x3f0463=await this[_0x2fcf7d(0x880)](_0xda0e88,_0x1a0bef,_0x412c2b);else return this[_0x2fcf7d(0x42f)][_0x2fcf7d(0x83f)](this['instanceName']+'\x20('+this[_0x2fcf7d(0x278)][_0x2fcf7d(0x8d6)]+_0x2fcf7d(0x41f)),null;}else this[_0x2fcf7d(0x42f)][_0x2fcf7d(0x83f)](this[_0x2fcf7d(0x492)]+'\x20('+this[_0x2fcf7d(0x278)][_0x2fcf7d(0x8d6)]+_0x2fcf7d(0x80a));if(_0x3f0463=await this[_0x2fcf7d(0x7bc)](_0x435bae,_0x412c2b),_0x3f0463){this[_0x2fcf7d(0x42f)][_0x2fcf7d(0x83f)](this[_0x2fcf7d(0x492)]+'\x20('+this[_0x2fcf7d(0x278)]['wuid']+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x1a0bef[_0x2fcf7d(0x8b9)]&&_0x3f0463[_0x2fcf7d(0x262)]&&this['readMessageBot'](_0x3f0463);let _0x5bcc20=await this[_0x2fcf7d(0x612)](_0x3f0463);_0x5bcc20&&await this['processblock'](_0x3f0463,_0x5bcc20);}}catch(_0x47077c){this[_0x2fcf7d(0x42f)]['error'](this['instanceName']+'\x20('+this[_0x2fcf7d(0x278)][_0x2fcf7d(0x8d6)]+_0x2fcf7d(0x1d8)+(_0x47077c instanceof Error?_0x47077c[_0x2fcf7d(0x7c9)]:JSON[_0x2fcf7d(0x1af)](_0x47077c,null,0x2)));}}[a0_0x4c01ce(0x488)](_0x3fd326,_0x410724='',_0x419362={}){const _0x5792c0=a0_0x4c01ce;return typeof _0x3fd326!=_0x5792c0(0x28b)||_0x3fd326===null?(_0x410724&&(_0x419362[_0x410724]=_0x3fd326),_0x419362):(Object[_0x5792c0(0x371)](_0x3fd326)[_0x5792c0(0x68b)](([_0x396f9b,_0x1d52ad])=>{const _0x140501=_0x5792c0;let _0x3e45c4=_0x410724?_0x410724+'.'+_0x396f9b:'_'+_0x396f9b;Array[_0x140501(0x671)](_0x1d52ad)?_0x1d52ad[_0x140501(0x68b)]((_0x1fee68,_0x5a9373)=>{this['flattenObject'](_0x1fee68,_0x3e45c4+'['+_0x5a9373+']',_0x419362);}):typeof _0x1d52ad==_0x140501(0x28b)&&_0x1d52ad!==null?this[_0x140501(0x488)](_0x1d52ad,_0x3e45c4,_0x419362):_0x419362[_0x3e45c4]=String(_0x1d52ad);}),_0x419362);}[a0_0x4c01ce(0x896)](_0x12eaaa){const _0x12cde7=a0_0x4c01ce;let _0x4b9612={};for(let _0xba63f7 of _0x12eaaa)typeof _0xba63f7[_0x12cde7(0x1b3)]==_0x12cde7(0x265)&&typeof _0xba63f7['value']=='string'&&(_0x4b9612[_0xba63f7['name']]=_0xba63f7[_0x12cde7(0x356)]);return _0x4b9612;}async[a0_0x4c01ce(0x612)](_0x115f7b){const _0x3e0814=a0_0x4c01ce;if(!this[_0x3e0814(0x238)]?.[_0x3e0814(0x26c)][_0x3e0814(0x3ba)]||_0x115f7b['status']!=='open'&&_0x115f7b[_0x3e0814(0x5c7)]==='')return null;let _0x10ab75=_0x115f7b[_0x3e0814(0x322)][_0x3e0814(0x892)]||_0x3e0814(0x39f);typeof _0x115f7b[_0x3e0814(0x322)]['lastCondition']>'u'&&(_0x115f7b[_0x3e0814(0x322)][_0x3e0814(0x722)]=!0x0);let _0x8ae534=_0x115f7b[_0x3e0814(0x322)][_0x3e0814(0x722)];this[_0x3e0814(0x42f)][_0x3e0814(0x83f)](this[_0x3e0814(0x492)]+'\x20('+this[_0x3e0814(0x278)][_0x3e0814(0x8d6)]+'):\x20lastBlockId:\x20'+_0x10ab75+_0x3e0814(0x765)+_0x8ae534);let _0x128bde=_0x10ab75===_0x3e0814(0x39f)?_0x115f7b[_0x3e0814(0x223)][_0x3e0814(0x361)](_0x59e87f=>_0x59e87f[_0x3e0814(0x7af)]===_0x3e0814(0x39f)):_0x115f7b[_0x3e0814(0x223)][_0x3e0814(0x361)](_0x37fd95=>_0x37fd95[_0x3e0814(0x791)][_0x3e0814(0x7b0)]()===_0x10ab75[_0x3e0814(0x7b0)]());if(!_0x128bde)return this['logger'][_0x3e0814(0x82d)](this['instanceName']+'\x20('+this[_0x3e0814(0x278)][_0x3e0814(0x8d6)]+_0x3e0814(0x5af)+_0x10ab75),null;let _0x3b1a78={'_pushName':_0x115f7b?.[_0x3e0814(0x322)]?.[_0x3e0814(0x753)]?.[_0x3e0814(0x6af)]||'','_sender':this[_0x3e0814(0x278)][_0x3e0814(0x8d6)]||'',..._0x115f7b[_0x3e0814(0x322)][_0x3e0814(0x85c)]},_0x4744dc=new Date();_0x3b1a78[_0x3e0814(0x672)]=_0x4744dc[_0x3e0814(0x46d)](),_0x3b1a78[_0x3e0814(0x1d5)]=_0x4744dc[_0x3e0814(0x3dd)]()+0x1,_0x3b1a78[_0x3e0814(0x230)]=_0x4744dc[_0x3e0814(0x860)](),_0x3b1a78['_hour']=_0x4744dc[_0x3e0814(0x88a)](),_0x3b1a78[_0x3e0814(0x6fe)]=_0x4744dc[_0x3e0814(0x6ed)](),_0x3b1a78[_0x3e0814(0x567)]=_0x4744dc['getSeconds']();let _0x5aeba1=null;if(_0x115f7b[_0x3e0814(0x5c7)]){let _0x178786=_0x115f7b[_0x3e0814(0x322)][_0x3e0814(0x753)][_0x3e0814(0x681)],_0x26a7a8=_0x115f7b[_0x3e0814(0x871)][_0x3e0814(0x361)](_0x3a708c=>_0x3a708c['option']===_0x178786);if(_0x26a7a8){let _0xa92ac1=_0x26a7a8[_0x3e0814(0x5b0)];if(_0x5aeba1=_0x115f7b[_0x3e0814(0x223)][_0x3e0814(0x361)](_0x220ad1=>_0x220ad1['groupId']===_0xa92ac1&&_0x220ad1['order']===0x1),_0x128bde['uazapi']['pollOnReplyDelete']){let _0x457a25={'id':_0x115f7b[_0x3e0814(0x5c7)],'remoteJid':_0x115f7b[_0x3e0814(0x7df)],'fromMe':!0x0};await this[_0x3e0814(0x332)](_0x457a25);}if(_0x128bde[_0x3e0814(0x86a)][_0x3e0814(0x5f3)]&&_0x128bde[_0x3e0814(0x86a)][_0x3e0814(0x630)]&&_0x128bde[_0x3e0814(0x86a)]['menuType']==='poll'){let _0x63ea3b={'number':_0x115f7b[_0x3e0814(0x7df)],'options':{'delay':0x0},'textMessage':{'text':_0x3e0814(0x255)+_0x115f7b[_0x3e0814(0x451)]+_0x3e0814(0x7bb)+_0x178786}};await this[_0x3e0814(0x5d3)](_0x63ea3b);}_0x3b1a78[_0x3e0814(0x2dc)]=_0x178786,_0x115f7b[_0x3e0814(0x5d6)]=_0x3e0814(0x474),_0x115f7b[_0x3e0814(0x5c7)]='',_0x115f7b[_0x3e0814(0x451)]='',_0x115f7b[_0x3e0814(0x871)]=[];}else{this['logger'][_0x3e0814(0x83f)](this[_0x3e0814(0x492)]+'\x20('+this[_0x3e0814(0x278)][_0x3e0814(0x8d6)]+_0x3e0814(0x619));let _0x3403e3={'activatedCount':_0x115f7b['chatLog'][_0x3e0814(0x60c)]['filter'](_0x18b85e=>String(_0x18b85e[_0x3e0814(0x81c)])===String(_0x10ab75))[_0x3e0814(0x72e)],'moreLogs':[_0x3e0814(0x7a1)]};if(_0x128bde[_0x3e0814(0x86a)][_0x3e0814(0x1d3)]){let _0x2691c6={'number':_0x115f7b[_0x3e0814(0x7df)],'options':{'delay':0x0},'textMessage':{'text':_0x128bde[_0x3e0814(0x86a)][_0x3e0814(0x1d3)]}};await this[_0x3e0814(0x5d3)](_0x2691c6);}if(_0x128bde[_0x3e0814(0x8aa)]!==void 0x0&&_0x3403e3[_0x3e0814(0x598)]>=_0x128bde[_0x3e0814(0x8aa)]){let _0x221bdc=Date[_0x3e0814(0x82e)](),_0x226f0b=_0x128bde[_0x3e0814(0x62e)]??0xa;isNaN(_0x226f0b)&&(_0x226f0b=0xa);let _0x35cfda=_0x221bdc+_0x226f0b*0x3c*0x3e8;_0x3403e3[_0x3e0814(0x74c)]=_0x35cfda,_0x3403e3[_0x3e0814(0x84c)][_0x3e0814(0x835)](_0x3e0814(0x8df)),this[_0x3e0814(0x51a)](_0x115f7b,_0x35cfda),_0x115f7b['waitingMenu_id']='',_0x115f7b['waitingMenu_text']='',_0x115f7b[_0x3e0814(0x871)]=[];}return this['updateConversation'](_0x115f7b,_0x128bde,_0x3403e3,!0x0),null;}}if(_0x8ae534&&_0x128bde[_0x3e0814(0x5b0)]&&!_0x115f7b['waitingMenu_id']){let _0x537e26=_0x115f7b['blocks'][_0x3e0814(0x58d)](_0x3b8d3c=>_0x3b8d3c[_0x3e0814(0x83e)][_0x3e0814(0x7b0)]()===_0x128bde[_0x3e0814(0x5b0)]['toString']())[_0x3e0814(0x7cd)]((_0x27b027,_0x73a143)=>_0x27b027['order']-_0x73a143[_0x3e0814(0x2cc)]);_0x537e26['length']>0x0&&(_0x5aeba1=_0x537e26[0x0]);}if(!_0x5aeba1){let _0x2ad4f5=_0x128bde['groupId'],_0x26d70a=_0x115f7b['blocks'][_0x3e0814(0x58d)](_0xdbdd99=>_0xdbdd99[_0x3e0814(0x83e)]===_0x2ad4f5&&_0xdbdd99[_0x3e0814(0x2cc)]>_0x128bde['order'])[_0x3e0814(0x7cd)]((_0x29bb75,_0x511947)=>_0x29bb75[_0x3e0814(0x2cc)]-_0x511947[_0x3e0814(0x2cc)]);_0x26d70a[_0x3e0814(0x72e)]>0x0&&(_0x5aeba1=_0x26d70a[0x0]);}if(!_0x5aeba1)return _0x115f7b['status']='closed',null;_0x115f7b[_0x3e0814(0x322)]['realVariables']=_0x3b1a78;let _0x2330bc=JSON['parse'](JSON[_0x3e0814(0x1af)](_0x5aeba1));return this[_0x3e0814(0x6cb)](_0x2330bc,_0x115f7b['chatLog']['realVariables']),_0x115f7b[_0x3e0814(0x322)][_0x3e0814(0x892)]=_0x2330bc[_0x3e0814(0x791)],_0x115f7b['chatLog'][_0x3e0814(0x722)]=!0x0,_0x2330bc;}[a0_0x4c01ce(0x5cb)](_0xa9c014,_0x15b005){const _0x275b1f=a0_0x4c01ce;return _0xa9c014[_0x275b1f(0x7ea)](/\{\{([^}]+)\}\}/g,(_0x4c2bd1,_0x3a1433)=>_0x15b005[_0x3a1433]||'');}[a0_0x4c01ce(0x6cb)](_0x2675ff,_0x3a53c3){const _0x568466=a0_0x4c01ce;for(let _0x46ded9 in _0x2675ff)typeof _0x2675ff[_0x46ded9]==_0x568466(0x265)?_0x2675ff[_0x46ded9]=this[_0x568466(0x5cb)](_0x2675ff[_0x46ded9],_0x3a53c3):typeof _0x2675ff[_0x46ded9]=='object'&&this[_0x568466(0x6cb)](_0x2675ff[_0x46ded9],_0x3a53c3);}async['goNextblock'](_0x37c12b,_0x23b5e5){const _0x42106c=a0_0x4c01ce;let _0x535782=_0x23b5e5[_0x42106c(0x791)];if(_0x37c12b[_0x42106c(0x322)]&&_0x37c12b[_0x42106c(0x322)]['blockLogs']){let _0x49af28=_0x37c12b['chatLog'][_0x42106c(0x60c)][_0x42106c(0x58d)](_0x156c78=>String(_0x156c78[_0x42106c(0x81c)])===String(_0x535782))[_0x42106c(0x3d3)]();if(_0x49af28&&_0x49af28[_0x42106c(0x82d)]&&_0x23b5e5['stopIfLastReturnedError'])return _0x37c12b[_0x42106c(0x5d6)]='closed',await this[_0x42106c(0x5b7)](_0x37c12b),null;}if(_0x23b5e5[_0x42106c(0x7af)]===_0x42106c(0x86a)&&_0x23b5e5[_0x42106c(0x86a)][_0x42106c(0x714)]===_0x42106c(0x7b1)&&_0x37c12b[_0x42106c(0x5c7)])return _0x37c12b[_0x42106c(0x322)]['lastBlockId']=_0x535782,await this[_0x42106c(0x5b7)](_0x37c12b),null;let _0x1be4d3=await this[_0x42106c(0x612)](_0x37c12b);if(_0x37c12b[_0x42106c(0x322)]&&_0x37c12b[_0x42106c(0x322)]['blockLogs']){let _0x1d09fa=_0x37c12b['chatLog'][_0x42106c(0x60c)][_0x42106c(0x58d)](_0x3e44b9=>String(_0x3e44b9[_0x42106c(0x81c)])===String(_0x535782))[_0x42106c(0x72e)];if(_0x23b5e5['maxActives']!==void 0x0&&_0x1d09fa>=_0x23b5e5[_0x42106c(0x8aa)]){let _0xebf32b=Date[_0x42106c(0x82e)](),_0x26bad0=_0x23b5e5['stopMinutesMaxActives']??0xa;isNaN(_0x26bad0)&&(_0x26bad0=0xa);let _0x50b325=_0xebf32b+_0x26bad0*0x3c*0x3e8,_0x5ce5f9={'newStoppedUntil':_0x50b325};return this[_0x42106c(0x51a)](_0x37c12b,_0x50b325),this['updateConversation'](_0x37c12b,_0x23b5e5,_0x5ce5f9,!0x0),null;}}_0x1be4d3&&_0x1be4d3[_0x42106c(0x7af)]!=='save'&&await this[_0x42106c(0x600)](_0x37c12b,_0x1be4d3),_0x1be4d3||await this[_0x42106c(0x5b7)](_0x37c12b),_0x1be4d3&&_0x1be4d3[_0x42106c(0x7af)]===_0x42106c(0x4dc)&&(_0x37c12b[_0x42106c(0x322)][_0x42106c(0x892)]=_0x535782,await this[_0x42106c(0x5b7)](_0x37c12b));}async[a0_0x4c01ce(0x600)](_0x41bc63,_0x3a6a13){const _0x12f3f5=a0_0x4c01ce;try{let _0x15ec58=_0x3a6a13['type'];this['logger']['verbose'](this[_0x12f3f5(0x492)]+'\x20('+this[_0x12f3f5(0x278)]['wuid']+_0x12f3f5(0x73e)+_0x15ec58);let _0x1861d6={'uazapi':()=>this[_0x12f3f5(0x79a)](_0x41bc63,_0x3a6a13),'save':()=>this[_0x12f3f5(0x4b2)](_0x41bc63,_0x3a6a13),'stop':()=>this[_0x12f3f5(0x7b6)](_0x41bc63,_0x3a6a13),'condition':()=>this['processConditions'](_0x41bc63,_0x3a6a13),'varedit':()=>this[_0x12f3f5(0x748)](_0x41bc63,_0x3a6a13),'apirequest':()=>this[_0x12f3f5(0x78f)](_0x41bc63,_0x3a6a13),'goToFlow':()=>this[_0x12f3f5(0x397)](_0x41bc63,_0x3a6a13),'scheduleFlow':()=>this[_0x12f3f5(0x796)](_0x41bc63,_0x3a6a13),'awaitSeconds':()=>this[_0x12f3f5(0x1d0)](_0x41bc63,_0x3a6a13),'clearVariables':()=>this[_0x12f3f5(0x4c9)](_0x41bc63,_0x3a6a13)}[_0x15ec58];_0x1861d6&&await _0x1861d6();}catch(_0x4de1d1){this[_0x12f3f5(0x42f)][_0x12f3f5(0x82d)](this[_0x12f3f5(0x492)]+'\x20('+this['instance'][_0x12f3f5(0x8d6)]+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x4de1d1 instanceof Error?_0x4de1d1[_0x12f3f5(0x7c9)]:JSON[_0x12f3f5(0x1af)](_0x4de1d1,null,0x2)));}}async['processawaitSeconds'](_0xdf3cb3,_0x11a0dd){const _0x32d40f=a0_0x4c01ce;if(this[_0x32d40f(0x42f)][_0x32d40f(0x83f)](this[_0x32d40f(0x492)]+'\x20('+this[_0x32d40f(0x278)]['wuid']+_0x32d40f(0x2b0)),!_0xdf3cb3||!_0x11a0dd)return this[_0x32d40f(0x42f)][_0x32d40f(0x82d)](this[_0x32d40f(0x492)]+'\x20('+this[_0x32d40f(0x278)][_0x32d40f(0x8d6)]+_0x32d40f(0x39c)),null;let _0x3f664e=+_0x11a0dd[_0x32d40f(0x7a0)];isNaN(_0x3f664e)&&(_0x3f664e=0x0),_0x3f664e=Math[_0x32d40f(0x27e)](_0x3f664e,0x3c),await(0x0,w[_0x32d40f(0x22d)])(_0x3f664e*0x3e8);let _0x4cce04={'moreLogs':[_0x32d40f(0x872)+_0x3f664e+_0x32d40f(0x611)]};return await this[_0x32d40f(0x4c4)](_0xdf3cb3,_0x11a0dd,_0x4cce04),_0x3f664e;}async[a0_0x4c01ce(0x4c9)](_0x354b47,_0x3c0551){const _0x1b15dd=a0_0x4c01ce;if(this[_0x1b15dd(0x42f)][_0x1b15dd(0x83f)](this[_0x1b15dd(0x492)]+'\x20('+this['instance'][_0x1b15dd(0x8d6)]+'):\x20Entrou\x20na\x20função\x20clearVariables'),!_0x354b47||!_0x3c0551)return this[_0x1b15dd(0x42f)][_0x1b15dd(0x82d)](this[_0x1b15dd(0x492)]+'\x20('+this[_0x1b15dd(0x278)][_0x1b15dd(0x8d6)]+_0x1b15dd(0x39c)),null;let _0x4b01b9=[];if(_0x3c0551[_0x1b15dd(0x5d4)][_0x1b15dd(0x67e)]()===_0x1b15dd(0x3f9)){let _0x10f665=[_0x1b15dd(0x52b),'_pushName',_0x1b15dd(0x7ad),_0x1b15dd(0x479),_0x1b15dd(0x8d2),_0x1b15dd(0x791),'_fromMe'];_0x4b01b9=Object[_0x1b15dd(0x6c3)](_0x354b47[_0x1b15dd(0x322)][_0x1b15dd(0x85c)])[_0x1b15dd(0x58d)](_0x121a4c=>_0x121a4c['startsWith']('_')&&!_0x10f665[_0x1b15dd(0x570)](_0x121a4c));}else _0x4b01b9=_0x3c0551[_0x1b15dd(0x5d4)]['split']('|')[_0x1b15dd(0x37b)](_0x23169b=>(_0x23169b=_0x23169b['replace'](/[{}]/g,'')[_0x1b15dd(0x67e)](),_0x23169b[_0x1b15dd(0x6cd)]('_')?_0x23169b:'_'+_0x23169b));let _0x306eb8=[];_0x4b01b9[_0x1b15dd(0x68b)](_0x337994=>{const _0x2ef26a=_0x1b15dd;_0x337994 in _0x354b47[_0x2ef26a(0x322)][_0x2ef26a(0x85c)]&&(delete _0x354b47[_0x2ef26a(0x322)][_0x2ef26a(0x85c)][_0x337994],_0x306eb8[_0x2ef26a(0x835)](_0x337994));}),_0x306eb8['length']>0x0?this['logger']['verbose'](this[_0x1b15dd(0x492)]+'\x20('+this[_0x1b15dd(0x278)][_0x1b15dd(0x8d6)]+'):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20'+_0x306eb8[_0x1b15dd(0x78e)](',\x20')):this['logger']['verbose'](this[_0x1b15dd(0x492)]+'\x20('+this['instance'][_0x1b15dd(0x8d6)]+'):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção');let _0x44e591={'moreLogs':[_0x1b15dd(0x80c)+_0x306eb8[_0x1b15dd(0x78e)](',\x20')]};return await this['updateConversation'](_0x354b47,_0x3c0551,_0x44e591),null;}async['processScheduleFlow'](_0xa883fe,_0x37ff3d){const _0x43ac25=a0_0x4c01ce;if(this['logger'][_0x43ac25(0x83f)](this[_0x43ac25(0x492)]+'\x20('+this[_0x43ac25(0x278)][_0x43ac25(0x8d6)]+_0x43ac25(0x307)),!_0xa883fe||!_0x37ff3d)return this[_0x43ac25(0x42f)]['error'](this['instanceName']+'\x20('+this['instance'][_0x43ac25(0x8d6)]+_0x43ac25(0x39c)),null;let _0x12ddff=_0xa883fe['remoteJid'];_0x37ff3d[_0x43ac25(0x54a)][_0x43ac25(0x7df)]&&_0x37ff3d[_0x43ac25(0x54a)][_0x43ac25(0x7df)][_0x43ac25(0x67e)]()!==''&&(_0x12ddff=_0x37ff3d[_0x43ac25(0x86a)][_0x43ac25(0x7df)][_0x43ac25(0x67e)]());let _0x4436f=_0x37ff3d['scheduleFlow'][_0x43ac25(0x43a)]*0xea60,_0x27b8f1=Date[_0x43ac25(0x82e)]()+_0x4436f,_0x57a329={'status':_0x43ac25(0x794),'info':_0x43ac25(0x3e8)+_0xa883fe[_0x43ac25(0x1b3)],'remoteJids':[_0x12ddff],'when':_0x27b8f1,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x43ac25(0x1a1),'flowName':_0x37ff3d[_0x43ac25(0x54a)]['flowName']};this[_0x43ac25(0x364)](_0x57a329);let _0x513ecb=await this[_0x43ac25(0x612)](_0xa883fe);_0x513ecb&&await this[_0x43ac25(0x600)](_0xa883fe,_0x513ecb);}async[a0_0x4c01ce(0x397)](_0x4932b8,_0x1e8e61){const _0x1970e4=a0_0x4c01ce;if(this['logger'][_0x1970e4(0x83f)](this[_0x1970e4(0x492)]+'\x20('+this['instance'][_0x1970e4(0x8d6)]+_0x1970e4(0x2a7)),!_0x4932b8||!_0x1e8e61)return this[_0x1970e4(0x42f)][_0x1970e4(0x82d)](this[_0x1970e4(0x492)]+'\x20('+this['instance']['wuid']+_0x1970e4(0x39c)),null;await this[_0x1970e4(0x4c4)](_0x4932b8,_0x1e8e61,{},!0x0,!0x0);let _0x526a10=_0x1e8e61[_0x1970e4(0x1a5)];_0x4932b8=await this['createConversationforgoToFlow'](_0x526a10,_0x4932b8['remoteJid'],_0x4932b8[_0x1970e4(0x322)][_0x1970e4(0x85c)]);let _0x1d2f9d=await this[_0x1970e4(0x612)](_0x4932b8);_0x1d2f9d&&await this['processblock'](_0x4932b8,_0x1d2f9d);}async[a0_0x4c01ce(0x62a)](_0x14593f,_0x31a05e,_0x40828e){const _0x2b5cc0=a0_0x4c01ce;this[_0x2b5cc0(0x42f)][_0x2b5cc0(0x83f)](this[_0x2b5cc0(0x492)]+'\x20('+this[_0x2b5cc0(0x278)][_0x2b5cc0(0x8d6)]+_0x2b5cc0(0x721));try{let _0x45045c=this[_0x2b5cc0(0x238)][_0x2b5cc0(0x327)]['find'](_0x302372=>_0x302372[_0x2b5cc0(0x791)]===_0x14593f);_0x45045c||this[_0x2b5cc0(0x42f)][_0x2b5cc0(0x82d)](this[_0x2b5cc0(0x492)]+'\x20('+this[_0x2b5cc0(0x278)][_0x2b5cc0(0x8d6)]+'):\x20Flow\x20\x27'+_0x14593f+_0x2b5cc0(0x434));let _0x1984f9=await this[_0x2b5cc0(0x3b3)][_0x2b5cc0(0x1a1)][_0x2b5cc0(0x280)]({'where':{'_id':_0x45045c['_id']}});if(!_0x1984f9||!_0x1984f9['whoCanUse']?.[_0x2b5cc0(0x570)](this[_0x2b5cc0(0x278)][_0x2b5cc0(0x8d6)]))throw this[_0x2b5cc0(0x42f)][_0x2b5cc0(0x82d)](this[_0x2b5cc0(0x492)]+'\x20('+this[_0x2b5cc0(0x278)][_0x2b5cc0(0x8d6)]+_0x2b5cc0(0x8bb)+_0x14593f+_0x2b5cc0(0x453)),new m('Flow\x20\x27'+_0x14593f+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0xd1e897=require(_0x2b5cc0(0x1f9))[_0x2b5cc0(0x616)],_0x897db5=Date[_0x2b5cc0(0x82e)](),_0x4206c1=_0x2b5cc0(0x39f),_0x30c71a={},_0x2ef893={},_0xcca4a9=this[_0x2b5cc0(0x238)][_0x2b5cc0(0x327)][_0x2b5cc0(0x361)](_0x3debfe=>_0x3debfe[_0x2b5cc0(0x791)]===_0x1984f9[_0x2b5cc0(0x791)]?.[_0x2b5cc0(0x7b0)]()),_0x1ca0f5=_0xcca4a9?.[_0x2b5cc0(0x750)]??_0x1984f9['minutesToClose']??0x0,_0x1c9a69=_0xcca4a9?.[_0x2b5cc0(0x262)]??_0x1984f9['readMessages']??!0x1,_0x4113c0={'flowId':_0x45045c[_0x2b5cc0(0x791)],'readMessages':_0x45045c[_0x2b5cc0(0x262)],..._0x1984f9,'chatLog':null},_0x317bda={'lastReceivedMessage':_0x30c71a,'lastSendMessage':_0x2ef893,'lastBlockId':_0x4206c1,'lastCondition':!0x0,'realVariables':_0x40828e};_0x4113c0[_0x2b5cc0(0x322)]=_0x317bda,_0x4113c0[_0x2b5cc0(0x322)][_0x2b5cc0(0x85c)]={..._0x40828e},delete _0x4113c0[_0x2b5cc0(0x791)],_0x4113c0[_0x2b5cc0(0x791)]=new _0xd1e897(),_0x4113c0[_0x2b5cc0(0x591)]=_0x897db5,_0x4113c0[_0x2b5cc0(0x5d6)]='open',_0x4113c0[_0x2b5cc0(0x7df)]=_0x31a05e,_0x4113c0[_0x2b5cc0(0x750)]=_0x1ca0f5,_0x4113c0[_0x2b5cc0(0x262)]=_0x1c9a69;let _0x1d5c28=await this[_0x2b5cc0(0x3b3)][_0x2b5cc0(0x55f)][_0x2b5cc0(0x3e7)](_0x4113c0['_id'],_0x4113c0,this['instance'][_0x2b5cc0(0x8d6)]);return this[_0x2b5cc0(0x42f)][_0x2b5cc0(0x83f)](this[_0x2b5cc0(0x492)]+'\x20('+this[_0x2b5cc0(0x278)][_0x2b5cc0(0x8d6)]+_0x2b5cc0(0x2a8)),_0x1d5c28?_0x4113c0:null;}catch(_0x149c06){let _0x9b4d5e=_0x2b5cc0(0x8e1),_0xfefafe=_0x149c06 instanceof Error?_0x149c06[_0x2b5cc0(0x7c9)]:typeof _0x149c06==_0x2b5cc0(0x28b)?JSON[_0x2b5cc0(0x1af)](_0x149c06):_0x149c06,_0x59da44=_0x9b4d5e+':\x20'+_0xfefafe;throw this['logger'][_0x2b5cc0(0x82d)](this['instanceName']+'\x20('+this[_0x2b5cc0(0x278)]['wuid']+'):\x20'+_0x59da44),new m(_0x59da44);}}async[a0_0x4c01ce(0x78f)](_0x545589,_0x69d796){const _0x8bae88=a0_0x4c01ce;let _0x53068b,_0x67302c;try{let _0x476a90=_0x69d796[_0x8bae88(0x70a)];if(!_0x476a90||!_0x476a90[_0x8bae88(0x8b1)]||!_0x476a90[_0x8bae88(0x83c)])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x58ba38;([_0x8bae88(0x532),'https://api.openai.com/v1/images/generations','https://api.elevenlabs.io/v1/text-to-speech/'][_0x8bae88(0x5ed)](_0x29b78e=>_0x476a90['url'][_0x8bae88(0x570)](_0x29b78e))||_0x476a90['requestFile'])&&(_0x58ba38=_0x8bae88(0x4cf));let _0x2e2dfc='\u205f',_0x3bb6ac;try{_0x3bb6ac=JSON[_0x8bae88(0x2c1)](_0x476a90[_0x8bae88(0x3d9)][_0x8bae88(0x7ea)](new RegExp(_0x2e2dfc,'g'),''));}catch(_0x54b93a){throw _0x54b93a;}let _0x122cce={'method':_0x476a90['method'],'url':_0x476a90[_0x8bae88(0x8b1)],'headers':_0x476a90['header']||{},..._0x476a90[_0x8bae88(0x83c)][_0x8bae88(0x89f)]()!==_0x8bae88(0x429)&&_0x476a90[_0x8bae88(0x3d9)]?{'data':JSON[_0x8bae88(0x2c1)](_0x476a90['bodyString'][_0x8bae88(0x7ea)](new RegExp(_0x2e2dfc,'g'),''))}:{},..._0x58ba38&&{'responseType':_0x58ba38}},_0x4ff683=await(0x0,Q[_0x8bae88(0x831)])(_0x122cce),_0x2d4469=_0x4ff683[_0x8bae88(0x769)][_0x8bae88(0x401)];if(_0x2d4469&&_0x2d4469[_0x8bae88(0x570)](_0x8bae88(0x274))||typeof _0x4ff683[_0x8bae88(0x80d)]=='string'){if(typeof _0x4ff683[_0x8bae88(0x80d)]==_0x8bae88(0x265)){let _0x1da222=_0x4ff683['data'][_0x8bae88(0x7ea)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')['trim']();try{_0x53068b=JSON['parse'](_0x1da222);}catch(_0x802b27){this[_0x8bae88(0x42f)][_0x8bae88(0x82d)]('Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20'+_0x802b27[_0x8bae88(0x7c9)]),_0x53068b={'_apiResponse':_0x4ff683['data']};}}else _0x53068b=_0x4ff683[_0x8bae88(0x80d)];let _0xaee7b7=_0x545589[_0x8bae88(0x322)][_0x8bae88(0x85c)],_0x31b66a=this[_0x8bae88(0x488)](_0x53068b);return Object['assign'](_0xaee7b7,_0x31b66a),_0x545589[_0x8bae88(0x322)][_0x8bae88(0x85c)]=_0xaee7b7,_0x67302c={'error':!0x1,'apiResponse':_0x53068b},this['updateConversation'](_0x545589,_0x69d796,_0x67302c),_0x53068b;}if(_0x2d4469&&(_0x2d4469[_0x8bae88(0x570)](_0x8bae88(0x43f))||_0x2d4469[_0x8bae88(0x570)](_0x8bae88(0x499))||_0x2d4469[_0x8bae88(0x570)](_0x8bae88(0x49b))||_0x2d4469['includes'](_0x8bae88(0x8da)))){this[_0x8bae88(0x42f)][_0x8bae88(0x83f)](this[_0x8bae88(0x492)]+'\x20('+this['instance'][_0x8bae88(0x8d6)]+_0x8bae88(0x21c)+_0x2d4469);let _0x409b42=(0x0,Y['v4'])(),_0x37ef56='',_0x2565e9={'image/jpeg':_0x8bae88(0x426),'image/png':'.png','image/gif':_0x8bae88(0x3bc),'image/webp':_0x8bae88(0x203),'image/svg+xml':_0x8bae88(0x59d),'audio/mpeg':_0x8bae88(0x295),'audio/ogg':_0x8bae88(0x57b),'audio/wav':'.wav','video/mp4':_0x8bae88(0x67c),'video/webm':_0x8bae88(0x7ef),'video/ogg':'.ogv','text/plain':_0x8bae88(0x1b2),'application/pdf':_0x8bae88(0x482),'application/msword':_0x8bae88(0x302),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':_0x8bae88(0x263),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x2565e9[_0x2d4469]?(_0x37ef56=_0x2565e9[_0x2d4469],this['logger']['verbose'](this[_0x8bae88(0x492)]+'\x20('+this[_0x8bae88(0x278)][_0x8bae88(0x8d6)]+_0x8bae88(0x899)+_0x37ef56)):(_0x37ef56='.error',this['logger'][_0x8bae88(0x83f)](this[_0x8bae88(0x492)]+'\x20('+this[_0x8bae88(0x278)][_0x8bae88(0x8d6)]+_0x8bae88(0x5f9)+_0x37ef56)),_0x409b42+=_0x37ef56,this[_0x8bae88(0x42f)][_0x8bae88(0x83f)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x8bae88(0x25a)+_0x409b42);let _0x153fb7=this[_0x8bae88(0x415)]['get'](_0x8bae88(0x3c8))[_0x8bae88(0x69b)];if(!_0x153fb7){let _0x2f926b=this[_0x8bae88(0x415)][_0x8bae88(0x5f0)](_0x8bae88(0x458));_0x153fb7='https://'+(_0x2f926b&&_0x2f926b[_0x8bae88(0x820)]['split']('/')[0x4]);}let _0x34f9ce=Buffer[_0x8bae88(0x252)](_0x4ff683[_0x8bae88(0x80d)]);await this[_0x8bae88(0x6d7)](_0x34f9ce,_0x409b42);let _0x45feac=_0x8bae88(0x485)+_0x409b42;_0x45feac=''+_0x153fb7+_0x45feac,_0x53068b={'fileUrl':_0x45feac},_0x545589[_0x8bae88(0x322)]['realVariables'][_0x8bae88(0x603)]=_0x45feac;let _0x18bf21=_0x545589[_0x8bae88(0x322)][_0x8bae88(0x85c)],_0x33287e=this[_0x8bae88(0x488)](_0x53068b);return Object['assign'](_0x18bf21,_0x33287e),_0x545589[_0x8bae88(0x322)][_0x8bae88(0x85c)]=_0x18bf21,_0x67302c={'error':!0x1,'apiResponse':{'fileUrl':_0x45feac}},this[_0x8bae88(0x4c4)](_0x545589,_0x69d796,_0x67302c),_0x53068b;}}catch(_0x395745){this[_0x8bae88(0x42f)][_0x8bae88(0x82d)](_0x8bae88(0x237)+_0x395745['message']),_0x395745['response']&&(_0x53068b=_0x395745['response']['data']);let _0x43bd1b=_0x545589['chatLog']['realVariables'],_0x3275b6=this[_0x8bae88(0x488)](_0x53068b);return Object[_0x8bae88(0x551)](_0x43bd1b,_0x3275b6),_0x545589[_0x8bae88(0x322)][_0x8bae88(0x85c)]=_0x43bd1b,_0x67302c={'error':!0x0,'errorLog':_0x395745['toString'](),'apiResponse':_0x53068b},this[_0x8bae88(0x4c4)](_0x545589,_0x69d796,_0x67302c),{'success':!0x1};}}['applyvaredit'](_0x5a326d,_0x4481e7){const _0x10b280=a0_0x4c01ce;let _0x498f34=_0x14a44e=>{const _0x2734c9=a0_0x4bf3;let _0x20d776=_0x14a44e[_0x2734c9(0x7ea)](/[^0-9.,-]/g,'')[_0x2734c9(0x7ea)](',','.'),_0x16e3bf=parseFloat(_0x20d776);return isNaN(_0x16e3bf)?null:_0x16e3bf;},_0x4fad49=_0x4481e7[_0x10b280(0x68c)],_0x43af71=_0x4481e7[_0x10b280(0x865)];typeof _0x4fad49==_0x10b280(0x265)&&(_0x4fad49=this[_0x10b280(0x5cb)](_0x4fad49,_0x5a326d['chatLog'][_0x10b280(0x85c)])??''),typeof _0x43af71==_0x10b280(0x265)&&(_0x43af71=this['replaceVariables'](_0x43af71,_0x5a326d[_0x10b280(0x322)][_0x10b280(0x85c)])??'');let _0x220092=null;if(!_0x4481e7['editOperator'])return null;switch(this[_0x10b280(0x42f)][_0x10b280(0x83f)](this[_0x10b280(0x492)]+'\x20('+this['instance']['wuid']+_0x10b280(0x6c5)+_0x4fad49),this[_0x10b280(0x42f)][_0x10b280(0x83f)](this[_0x10b280(0x492)]+'\x20('+this['instance'][_0x10b280(0x8d6)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x43af71),_0x4481e7[_0x10b280(0x638)]){case'+':case'-':case'*':case'/':let _0x297e7b=_0x498f34(_0x4fad49||'0'),_0x2c1be3=_0x498f34(_0x43af71||'0');if(_0x297e7b===null)return null;switch(_0x4481e7[_0x10b280(0x638)]){case'+':_0x220092=_0x297e7b+(_0x2c1be3??0x0);break;case'-':_0x220092=_0x297e7b-(_0x2c1be3??0x0);break;case'*':_0x220092=_0x297e7b*(_0x2c1be3??0x1);break;case'/':_0x2c1be3!==0x0&&(_0x220092=_0x297e7b/(_0x2c1be3??0x1));break;}break;case'findAndReplace':case _0x10b280(0x3a4):let _0x23f2b2=_0x43af71,_0x427fa1=_0x4481e7[_0x10b280(0x42e)];if(typeof _0x427fa1==_0x10b280(0x265)&&(_0x427fa1=this[_0x10b280(0x5cb)](_0x427fa1,_0x5a326d[_0x10b280(0x322)][_0x10b280(0x85c)])??''),_0x23f2b2&&_0x427fa1!==void 0x0){let _0x507ba4=_0x4481e7[_0x10b280(0x638)]==='findAndReplace'?new RegExp(_0x23f2b2['replace'](/[-\/\\^$*+?.()|[\]{}]/g,_0x10b280(0x49d)),'g'):new RegExp(_0x23f2b2,'g');_0x220092=_0x4fad49[_0x10b280(0x7ea)](_0x507ba4,_0x427fa1);}else console[_0x10b280(0x3d2)](_0x10b280(0x392));break;case'setNewValue':_0x220092=_0x43af71;break;case _0x10b280(0x65a):let _0x545f76=_0x4fad49['match'](new RegExp(_0x43af71||''));_0x220092=_0x545f76?_0x545f76[0x0]:'';break;case _0x10b280(0x895):_0x220092=_0x4fad49['slice'](0x0,parseInt(_0x43af71||'0'));break;case _0x10b280(0x2ce):let _0x53392a=parseInt(_0x43af71||'0');_0x220092=_0x4fad49['slice'](_0x4fad49['length']-_0x53392a);break;case _0x10b280(0x414):let _0x333704=_0x498f34(_0x4fad49),_0x3b0a1d=parseInt(_0x43af71||'0');_0x3b0a1d=Math['abs'](_0x3b0a1d),_0x333704!==null?_0x220092=_0x333704['toLocaleString'](_0x10b280(0x3c0),{'minimumFractionDigits':_0x3b0a1d,'maximumFractionDigits':_0x3b0a1d}):(console[_0x10b280(0x3d2)](_0x10b280(0x18d)+_0x4fad49),_0x220092=null);break;case _0x10b280(0x857):let _0x525587=_0x498f34(_0x4fad49);_0x525587!==null?_0x220092=_0x525587[_0x10b280(0x496)](_0x10b280(0x3c0),{'style':_0x10b280(0x256),'currency':_0x10b280(0x74f)}):(console['warn'](_0x10b280(0x63f)+_0x4fad49),_0x220092=null);break;case'upperCase':_0x220092=_0x4fad49[_0x10b280(0x89f)]();break;case _0x10b280(0x8ce):_0x220092=_0x4fad49[_0x10b280(0x25b)]();break;case _0x10b280(0x251):_0x220092=_0x4fad49['split']('\x20')[_0x10b280(0x37b)](_0x1b04a5=>_0x1b04a5[_0x10b280(0x8b6)](0x0)[_0x10b280(0x89f)]()+_0x1b04a5['slice'](0x1)[_0x10b280(0x25b)]())[_0x10b280(0x78e)]('\x20');break;case _0x10b280(0x5b5):_0x220092=JSON[_0x10b280(0x1af)](_0x4fad49);break;case _0x10b280(0x709):_0x220092=_0x4fad49['trim']();break;default:_0x220092=_0x4fad49;}return _0x220092!==null?_0x220092[_0x10b280(0x7b0)]():null;}async[a0_0x4c01ce(0x748)](_0x5aca62,_0x112bb8){const _0x20d032=a0_0x4c01ce;try{let _0x102ab7=_0x5aca62[_0x20d032(0x58f)]?.[_0x20d032(0x58d)](_0xe0a5e5=>_0xe0a5e5[_0x20d032(0x81c)]===_0x112bb8[_0x20d032(0x791)]?.[_0x20d032(0x7b0)]())||[],_0x1938a9=_0x112bb8[_0x20d032(0x4c6)],_0x11db4e=null,_0x36adce=[],_0x213c62=_0x5aca62[_0x20d032(0x322)][_0x20d032(0x85c)][_0x1938a9];_0x36adce[_0x20d032(0x835)]('Valor\x20inicial:\x20\x22'+_0x213c62+'\x22');for(let _0x5c78ac of _0x102ab7){_0x5c78ac['firstValue']=_0x213c62,_0x11db4e=_0x5c78ac[_0x20d032(0x68c)];let _0x5b7e00;try{_0x5b7e00=this[_0x20d032(0x328)](_0x5aca62,_0x5c78ac);}catch(_0x49d684){this[_0x20d032(0x42f)][_0x20d032(0x82d)](_0x20d032(0x26f)+_0x49d684[_0x20d032(0x7c9)]);continue;}if(_0x5b7e00!==null){let _0x1e39a9=_0x20d032(0x586)+_0x5c78ac[_0x20d032(0x638)]+'\x22',_0x1b1203=[_0x20d032(0x857),_0x20d032(0x659),_0x20d032(0x8ce),_0x20d032(0x251),_0x20d032(0x709)];_0x5c78ac[_0x20d032(0x638)]==='findAndReplace'||_0x5c78ac[_0x20d032(0x638)]===_0x20d032(0x3a4)?_0x1e39a9+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x5c78ac['secondValue']+_0x20d032(0x8ea)+_0x5c78ac['replaceValue']+'\x22':!_0x1b1203['includes'](_0x5c78ac[_0x20d032(0x638)])&&_0x5c78ac[_0x20d032(0x865)]!==null&&_0x5c78ac[_0x20d032(0x865)]!==void 0x0&&(_0x1e39a9+=',\x20valor\x20passado:\x20\x22'+_0x5c78ac[_0x20d032(0x865)]+'\x22'),_0x1e39a9+=_0x20d032(0x241)+_0x5b7e00+'.',_0x36adce['push'](_0x1e39a9);}_0x5b7e00!==null&&(_0x213c62=_0x5b7e00);}if(_0x5aca62['chatLog'][_0x20d032(0x85c)]&&_0x112bb8[_0x20d032(0x4c6)]){_0x5aca62[_0x20d032(0x322)][_0x20d032(0x85c)][_0x112bb8[_0x20d032(0x4c6)]]=_0x213c62;let _0x1152ca={'variable':_0x112bb8[_0x20d032(0x4c6)],'oldValue':_0x11db4e,'newValue':_0x213c62,'moreLogs':_0x36adce};try{this[_0x20d032(0x4c4)](_0x5aca62,_0x112bb8,_0x1152ca);}catch(_0x301017){this[_0x20d032(0x42f)][_0x20d032(0x82d)](_0x20d032(0x48d)+_0x301017[_0x20d032(0x7c9)]);}}return _0x1938a9;}catch(_0x21991e){return this[_0x20d032(0x42f)]['error'](_0x20d032(0x52c)+_0x21991e[_0x20d032(0x7c9)]),null;}}async[a0_0x4c01ce(0x782)](_0x3fff09,_0x46369f){const _0x151fff=a0_0x4c01ce;try{let _0x238c99=[],_0x2c640b=_0x3fff09[_0x151fff(0x311)][_0x151fff(0x58d)](_0x1fde98=>_0x1fde98[_0x151fff(0x81c)]===_0x46369f[_0x151fff(0x791)][_0x151fff(0x7b0)]()),_0x456f8a=null,_0x5130cb=!0x1;for(let _0x4fbbbc of _0x2c640b){let _0x617dd=this['evaluateCondition'](_0x3fff09,_0x4fbbbc);_0x238c99['push']('Primeiro\x20Valor:\x20'+_0x4fbbbc['firstValue']+_0x151fff(0x80f)+_0x4fbbbc[_0x151fff(0x487)]+_0x151fff(0x2e2)+_0x4fbbbc[_0x151fff(0x865)]+_0x151fff(0x7fe)+_0x617dd),_0x456f8a===null?_0x456f8a=_0x617dd:_0x4fbbbc[_0x151fff(0x678)]===_0x151fff(0x787)?(_0x456f8a=_0x456f8a&&_0x617dd,_0x617dd||(_0x5130cb=!0x0)):_0x4fbbbc[_0x151fff(0x678)]==='or'&&(_0x5130cb||(_0x456f8a=_0x456f8a||_0x617dd));}_0x456f8a===null&&(_0x456f8a=!0x0);let _0x565dd2={'moreLogs':_0x238c99};_0x3fff09['chatLog'][_0x151fff(0x722)]=_0x456f8a,await this[_0x151fff(0x4c4)](_0x3fff09,_0x46369f,_0x565dd2);}catch(_0x2e670d){this[_0x151fff(0x42f)]['error'](this[_0x151fff(0x492)]+'\x20('+this[_0x151fff(0x278)][_0x151fff(0x8d6)]+_0x151fff(0x840)+(_0x2e670d instanceof Error?_0x2e670d['message']:JSON['stringify'](_0x2e670d,null,0x2)));}}[a0_0x4c01ce(0x64e)](_0x470fbc,_0xe85734){const _0x85e0af=a0_0x4c01ce;let _0x12050e=_0xe85734[_0x85e0af(0x68c)],_0xcc178a=_0xe85734[_0x85e0af(0x865)];typeof _0x12050e==_0x85e0af(0x265)&&(_0x12050e=this[_0x85e0af(0x5cb)](_0x12050e,_0x470fbc[_0x85e0af(0x322)]['realVariables'])??''),typeof _0xcc178a==_0x85e0af(0x265)&&(_0xcc178a=this[_0x85e0af(0x5cb)](_0xcc178a,_0x470fbc['chatLog']['realVariables'])??'');try{switch(_0xe85734['expression']){case _0x85e0af(0x8c7):return _0x12050e===_0xcc178a;case _0x85e0af(0x5e0):return _0x12050e!==_0xcc178a;case'contains':return this[_0x85e0af(0x196)](_0x12050e,_0xcc178a);case'notContains':return!this[_0x85e0af(0x196)](_0x12050e,_0xcc178a);case'greater':return parseFloat(_0x12050e)>parseFloat(_0xcc178a);case _0x85e0af(0x6e8):return parseFloat(_0x12050e)<parseFloat(_0xcc178a);case'notEmpty':return _0x12050e!=='';case _0x85e0af(0x522):return _0x12050e==='';case _0x85e0af(0x5be):return new RegExp(_0xcc178a)[_0x85e0af(0x846)](_0x12050e);case _0x85e0af(0x6ea):return!new RegExp(_0xcc178a)['test'](_0x12050e);default:return!0x1;}}catch(_0x2563e6){return this[_0x85e0af(0x42f)][_0x85e0af(0x82d)](_0x85e0af(0x6c4)+_0x2563e6),!0x1;}}[a0_0x4c01ce(0x196)](_0x3283fc,_0x4f6b5f){const _0x182f65=a0_0x4c01ce;if(_0x3283fc===_0x4f6b5f&&/^\d+$/[_0x182f65(0x846)](_0x3283fc))return!0x0;if(this[_0x182f65(0x3d5)](_0x3283fc)&&/^\d+$/[_0x182f65(0x846)](_0x4f6b5f)){let _0x8b4f22=_0x3283fc[_0x182f65(0x85e)](',')[_0x182f65(0x37b)](_0x51300b=>parseInt(_0x51300b['trim']())),_0x253881=parseInt(_0x4f6b5f);return _0x8b4f22[_0x182f65(0x570)](_0x253881);}return _0x3283fc[_0x182f65(0x570)](_0x4f6b5f);}['isListOfNumbers'](_0x5b1681){return/^\d+(,\d+)*$/['test'](_0x5b1681);}[a0_0x4c01ce(0x5d1)](_0x165179){const _0x277d67=a0_0x4c01ce;let _0x12ba29=!0x0,_0x28e9bd=null;for(let _0xeab023 of _0x165179){let _0x1dd2c5=this['evaluateConditionTest'](_0xeab023);if(_0x28e9bd==='or'&&_0x1dd2c5){_0x12ba29=!0x0;break;}if(_0x28e9bd===_0x277d67(0x787)&&!_0x1dd2c5){_0x12ba29=!0x1;break;}_0x28e9bd=_0xeab023[_0x277d67(0x678)];}return _0x12ba29;}['evaluateConditionTest'](_0x45716e){const _0x5efa5b=a0_0x4c01ce;let _0x3d20db=_0x45716e[_0x5efa5b(0x68c)],_0x2acdd4=_0x45716e[_0x5efa5b(0x865)];try{switch(_0x45716e[_0x5efa5b(0x487)]){case _0x5efa5b(0x8c7):return String(_0x3d20db)===String(_0x2acdd4);case _0x5efa5b(0x5e0):return String(_0x3d20db)!==String(_0x2acdd4);case _0x5efa5b(0x196):return String(_0x3d20db)[_0x5efa5b(0x570)](String(_0x2acdd4));case _0x5efa5b(0x4e3):return!String(_0x3d20db)[_0x5efa5b(0x570)](String(_0x2acdd4));case'greater':return parseFloat(String(_0x3d20db))>parseFloat(String(_0x2acdd4));case'less':return parseFloat(String(_0x3d20db))<parseFloat(String(_0x2acdd4));case _0x5efa5b(0x870):return String(_0x3d20db)!=='';case _0x5efa5b(0x522):return String(_0x3d20db)==='';case _0x5efa5b(0x5be):return new RegExp(String(_0x2acdd4))[_0x5efa5b(0x846)](String(_0x3d20db));case'notMatchRegex':return!new RegExp(String(_0x2acdd4))[_0x5efa5b(0x846)](String(_0x3d20db));default:return!0x1;}}catch(_0x275275){return this['logger'][_0x5efa5b(0x82d)](_0x5efa5b(0x6c4)+_0x275275),!0x1;}}async[a0_0x4c01ce(0x4b2)](_0x2743a2,_0x274034){const _0x5973e8=a0_0x4c01ce;if(this[_0x5973e8(0x42f)][_0x5973e8(0x83f)](this[_0x5973e8(0x492)]+'\x20('+this[_0x5973e8(0x278)][_0x5973e8(0x8d6)]+_0x5973e8(0x29f)),!_0x2743a2||!_0x274034)return this[_0x5973e8(0x42f)][_0x5973e8(0x82d)](this['instanceName']+'\x20('+this[_0x5973e8(0x278)]['wuid']+_0x5973e8(0x39c)),null;let _0x36241a=_0x2743a2[_0x5973e8(0x322)][_0x5973e8(0x753)][_0x5973e8(0x76c)]['id'];this['logger']['verbose'](this[_0x5973e8(0x492)]+'\x20('+this[_0x5973e8(0x278)][_0x5973e8(0x8d6)]+_0x5973e8(0x2c8)+_0x36241a);let _0x4c4eb8={'key':{'id':_0x36241a}},_0x2d310c=_0x274034['saveVariable'];_0x2743a2[_0x5973e8(0x322)][_0x5973e8(0x85c)]['_'+_0x2d310c+_0x5973e8(0x8fd)]=null,_0x2743a2[_0x5973e8(0x322)][_0x5973e8(0x85c)]['_'+_0x2d310c+'.mimetype']=null,_0x2743a2[_0x5973e8(0x322)][_0x5973e8(0x85c)]['_'+_0x2d310c+'.extension']=null,_0x2743a2[_0x5973e8(0x322)][_0x5973e8(0x85c)]['_'+_0x2d310c+_0x5973e8(0x1a2)]=_0x2743a2[_0x5973e8(0x322)]['lastReceivedMessage'][_0x5973e8(0x7af)];try{let _0x32c064=await this[_0x5973e8(0x1c8)](_0x4c4eb8);this[_0x5973e8(0x42f)][_0x5973e8(0x83f)](this[_0x5973e8(0x492)]+'\x20('+this['instance'][_0x5973e8(0x8d6)]+_0x5973e8(0x602)),_0x2743a2[_0x5973e8(0x322)][_0x5973e8(0x85c)]['_'+_0x2d310c+'.url']=_0x32c064[_0x5973e8(0x603)],_0x2743a2[_0x5973e8(0x322)][_0x5973e8(0x85c)]['_'+_0x2d310c+_0x5973e8(0x523)]=_0x32c064[_0x5973e8(0x581)];let _0x2d7a40=_0x32c064[_0x5973e8(0x581)][_0x5973e8(0x2a6)](/\/(\w+)$/),_0x51c02d=_0x2d7a40?_0x2d7a40[0x1]:null;_0x2743a2[_0x5973e8(0x322)][_0x5973e8(0x85c)]['_'+_0x2d310c+'.extension']=_0x51c02d,this[_0x5973e8(0x42f)][_0x5973e8(0x83f)](this['instanceName']+'\x20('+this['instance'][_0x5973e8(0x8d6)]+'):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27'+_0x2d310c+'\x27.');}catch(_0x46cff7){this[_0x5973e8(0x42f)]['error'](this[_0x5973e8(0x492)]+'\x20('+this[_0x5973e8(0x278)]['wuid']+_0x5973e8(0x5e8)+_0x46cff7[_0x5973e8(0x7c9)]);}let _0xb24aef=_0x2743a2[_0x5973e8(0x322)]['lastReceivedMessage'][_0x5973e8(0x23e)]||_0x2743a2[_0x5973e8(0x322)]['lastReceivedMessage'][_0x5973e8(0x6b6)]||_0x2743a2[_0x5973e8(0x322)]['lastReceivedMessage'][_0x5973e8(0x681)];try{_0x2743a2[_0x5973e8(0x322)]['realVariables']||(_0x2743a2[_0x5973e8(0x322)][_0x5973e8(0x85c)]={});let _0x573f8a=_0x2743a2[_0x5973e8(0x322)][_0x5973e8(0x85c)][_0x2d310c];_0x2743a2[_0x5973e8(0x322)][_0x5973e8(0x85c)][_0x2d310c]=_0xb24aef;let _0x402cf5={'variable':_0x2d310c,'oldValue':_0x573f8a,'newValue':_0xb24aef};this[_0x5973e8(0x4c4)](_0x2743a2,_0x274034,_0x402cf5),this[_0x5973e8(0x42f)][_0x5973e8(0x83f)](this[_0x5973e8(0x492)]+'\x20('+this[_0x5973e8(0x278)][_0x5973e8(0x8d6)]+_0x5973e8(0x585));}catch(_0x167242){let _0xa08683={'error':!0x0,'errorLog':_0x167242['toString']()};return this['updateConversation'](_0x2743a2,_0x274034,_0xa08683),this[_0x5973e8(0x42f)][_0x5973e8(0x82d)](this[_0x5973e8(0x492)]+'\x20('+this[_0x5973e8(0x278)][_0x5973e8(0x8d6)]+_0x5973e8(0x664)+(_0x167242 instanceof Error?_0x167242[_0x5973e8(0x7c9)]:JSON[_0x5973e8(0x1af)](_0x167242,null,0x2))),null;}}async[a0_0x4c01ce(0x7b6)](_0x4a76db,_0x1c51e7){const _0x47f0a1=a0_0x4c01ce;if(this[_0x47f0a1(0x42f)]['verbose'](this['instanceName']+'\x20('+this[_0x47f0a1(0x278)][_0x47f0a1(0x8d6)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x4a76db||!_0x1c51e7)return this[_0x47f0a1(0x42f)][_0x47f0a1(0x82d)](this['instanceName']+'\x20('+this[_0x47f0a1(0x278)]['wuid']+_0x47f0a1(0x39c)),null;let _0x5cbb61=Date[_0x47f0a1(0x82e)](),_0x562b44=parseInt(_0x1c51e7[_0x47f0a1(0x2ee)],0xa);if(isNaN(_0x562b44))return this[_0x47f0a1(0x42f)][_0x47f0a1(0x82d)](this[_0x47f0a1(0x492)]+'\x20('+this['instance'][_0x47f0a1(0x8d6)]+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x23c653={'newStoppedUntil':_0x5cbb61+_0x562b44*0x3c*0x3e8};return await this[_0x47f0a1(0x4c4)](_0x4a76db,_0x1c51e7,_0x23c653,!0x0),null;}async[a0_0x4c01ce(0x79a)](_0x43d0f2,_0x407ce6){const _0x468e68=a0_0x4c01ce;try{switch(_0x407ce6[_0x468e68(0x86a)][_0x468e68(0x714)]){case _0x468e68(0x729):await this['uazapiSendText'](_0x43d0f2,_0x407ce6);break;case _0x468e68(0x297):await this[_0x468e68(0x72b)](_0x43d0f2,_0x407ce6);break;case _0x468e68(0x275):await this[_0x468e68(0x217)](_0x43d0f2,_0x407ce6);break;case _0x468e68(0x47c):await this['uazapiSendAudio'](_0x43d0f2,_0x407ce6);break;case _0x468e68(0x247):await this[_0x468e68(0x44e)](_0x43d0f2,_0x407ce6);break;case _0x468e68(0x7b1):await this[_0x468e68(0x556)](_0x43d0f2,_0x407ce6);break;case _0x468e68(0x5ba):await this[_0x468e68(0x556)](_0x43d0f2,_0x407ce6);break;case _0x468e68(0x332):await this[_0x468e68(0x8b3)](_0x43d0f2,_0x407ce6);break;default:this['logger'][_0x468e68(0x82d)](this[_0x468e68(0x492)]+'\x20('+this[_0x468e68(0x278)][_0x468e68(0x8d6)]+_0x468e68(0x830)+_0x407ce6[_0x468e68(0x86a)]['command']);}}catch(_0x3794b5){this[_0x468e68(0x42f)][_0x468e68(0x82d)](this['instanceName']+'\x20('+this[_0x468e68(0x278)]['wuid']+_0x468e68(0x1ac)+(_0x3794b5 instanceof Error?_0x3794b5[_0x468e68(0x7c9)]:JSON['stringify'](_0x3794b5,null,0x2)));}}async[a0_0x4c01ce(0x4c4)](_0x2e2588,_0x2a8d14,_0x1b185f,_0x5f5419=!0x1,_0x23d04f=!0x1){const _0x21ee50=a0_0x4c01ce;_0x2e2588[_0x21ee50(0x322)][_0x21ee50(0x60c)]||(_0x2e2588[_0x21ee50(0x322)][_0x21ee50(0x60c)]=[]);let _0x514024=(_0x2e2588[_0x21ee50(0x322)][_0x21ee50(0x60c)]?.[_0x21ee50(0x72e)]??0x0)+0x1,_0xe5bfb8=_0x2e2588[_0x21ee50(0x322)][_0x21ee50(0x60c)]['filter'](_0x32c9ad=>String(_0x32c9ad[_0x21ee50(0x81c)])===String(_0x2a8d14['_id']))['length']+0x1,_0x880397=_0x1b185f?.[_0x21ee50(0x564)]??Date[_0x21ee50(0x82e)](),_0x3feae8=_0x1b185f?.['error']?_0x1b185f['errorLog']??_0x1b185f['error']['toString']():void 0x0,_0x5a5696={'onTime':_0x880397,'blockId':_0x2a8d14[_0x21ee50(0x791)],'order':_0x514024,'activatedCount':_0xe5bfb8,'error':_0x1b185f?.[_0x21ee50(0x82d)]??!0x1,'messageId':_0x1b185f?.[_0x21ee50(0x867)],'apiResponse':_0x1b185f?.[_0x21ee50(0x54c)],'apiResponseString':_0x1b185f?.[_0x21ee50(0x54c)]?JSON[_0x21ee50(0x1af)](_0x1b185f?.[_0x21ee50(0x54c)]):void 0x0,'variable':_0x1b185f?.[_0x21ee50(0x25c)],'oldValue':_0x1b185f?.[_0x21ee50(0x3fa)],'newValue':_0x1b185f?.['newValue'],'newStoppedUntil':_0x1b185f?.[_0x21ee50(0x74c)],'moreLogs':_0x1b185f?.[_0x21ee50(0x84c)],'errorLog':_0x3feae8};if(_0x1b185f[_0x21ee50(0x84c)]&&_0x1b185f['moreLogs'][_0x21ee50(0x72e)]>0x0){let _0x3428fc=_0x1b185f['moreLogs'][_0x21ee50(0x37b)](_0x5394c8=>this[_0x21ee50(0x2bc)](_0x5394c8,_0x2e2588[_0x21ee50(0x322)][_0x21ee50(0x85c)]));_0x5a5696[_0x21ee50(0x84c)]=_0x3428fc;}if(_0x2e2588[_0x21ee50(0x322)][_0x21ee50(0x85c)]||(_0x2e2588[_0x21ee50(0x322)][_0x21ee50(0x85c)]={}),_0x2e2588['chatLog']['realVariables'][_0x21ee50(0x822)]=String(_0xe5bfb8),_0x2e2588[_0x21ee50(0x322)]['realVariables'][_0x21ee50(0x7ad)]=String(_0x1b185f[_0x21ee50(0x82d)]??!0x1),_0x2e2588[_0x21ee50(0x322)][_0x21ee50(0x60c)][_0x21ee50(0x835)](_0x5a5696),_0x2e2588[_0x21ee50(0x322)][_0x21ee50(0x85c)][_0x21ee50(0x40e)]&&_0x2e2588[_0x21ee50(0x322)][_0x21ee50(0x85c)][_0x21ee50(0x40e)]!==_0x2e2588[_0x21ee50(0x7df)]){let _0x44c1a4=(await this[_0x21ee50(0x20e)]({'numbers':[_0x2e2588[_0x21ee50(0x322)][_0x21ee50(0x85c)][_0x21ee50(0x40e)]]}))[0x0]['jid'];_0x2e2588[_0x21ee50(0x322)][_0x21ee50(0x85c)][_0x21ee50(0x40e)]=_0x44c1a4,_0x2e2588[_0x21ee50(0x7df)]=_0x44c1a4;try{let _0x8caa19={'_id':{'$ne':_0x2e2588['_id']},'remoteJid':_0x44c1a4,'status':'open'},_0x47606d={'status':_0x21ee50(0x521)};await this[_0x21ee50(0x3b3)][_0x21ee50(0x55f)]['updateMany'](_0x8caa19,_0x47606d,this['instance'][_0x21ee50(0x8d6)]),this[_0x21ee50(0x42f)]['verbose'](this[_0x21ee50(0x492)]+'\x20('+this[_0x21ee50(0x278)]['wuid']+_0x21ee50(0x54b));}catch(_0x122396){this[_0x21ee50(0x42f)]['error'](this['instanceName']+'\x20('+this[_0x21ee50(0x278)][_0x21ee50(0x8d6)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x122396[_0x21ee50(0x7c9)]);}try{let _0x17428a=_0x2e2588[_0x21ee50(0x322)][_0x21ee50(0x85c)],_0x19c0cd=await this['getVariablesChat'](_0x44c1a4),_0x461fe5={..._0x17428a,..._0x19c0cd,'_remoteJid':_0x44c1a4};_0x2e2588[_0x21ee50(0x322)][_0x21ee50(0x85c)]=_0x461fe5;}catch(_0x3cbb77){this[_0x21ee50(0x42f)]['error'](this[_0x21ee50(0x492)]+'\x20('+this['instance'][_0x21ee50(0x8d6)]+_0x21ee50(0x7e9)+_0x3cbb77['message']);}}_0x2e2588[_0x21ee50(0x322)]['lastBlockId']=_0x2a8d14[_0x21ee50(0x791)]['toString'](),_0x2e2588[_0x21ee50(0x322)][_0x21ee50(0x7cc)]&&(_0x2e2588[_0x21ee50(0x322)][_0x21ee50(0x7cc)]=_0x2e2588[_0x21ee50(0x322)]['lastSendMessage']),_0x2e2588[_0x21ee50(0x322)][_0x21ee50(0x753)]&&(_0x2e2588[_0x21ee50(0x322)][_0x21ee50(0x753)]=_0x2e2588['chatLog']['lastReceivedMessage']),_0x2e2588[_0x21ee50(0x322)][_0x21ee50(0x722)]&&(_0x2e2588[_0x21ee50(0x322)][_0x21ee50(0x722)]=_0x2e2588[_0x21ee50(0x322)]['lastCondition']),_0x23d04f&&(_0x2e2588[_0x21ee50(0x5d6)]=_0x21ee50(0x521)),_0x5f5419?this[_0x21ee50(0x5b7)](_0x2e2588):this[_0x21ee50(0x6db)](_0x2e2588,_0x2a8d14);}[a0_0x4c01ce(0x2bc)](_0x2b60e1,_0x366438){const _0x3cbe61=a0_0x4c01ce;return _0x2b60e1['replace'](/\{\{([^}]+)\}\}/g,(_0x44c0dd,_0x1fcfd7)=>_0x366438[_0x1fcfd7]?'{{'+_0x1fcfd7+_0x3cbe61(0x1ad)+_0x366438[_0x1fcfd7]+'\x22':'{{'+_0x1fcfd7+_0x3cbe61(0x687));}async[a0_0x4c01ce(0x5b7)](_0x525c1f){const _0x124209=a0_0x4c01ce;try{let _0x42992d=Object[_0x124209(0x371)](_0x525c1f[_0x124209(0x322)][_0x124209(0x85c)])['map'](([_0x2c7fc6,_0x5c372f])=>({'name':_0x2c7fc6,'value':_0x5c372f})),_0x1707fe={'status':_0x525c1f[_0x124209(0x5d6)],'remoteJid':_0x525c1f[_0x124209(0x7df)],'blocks':_0x525c1f[_0x124209(0x223)],'waitingMenu_id':_0x525c1f[_0x124209(0x5c7)],'waitingMenu_text':_0x525c1f[_0x124209(0x451)],'waitingMenu_replyOptions':_0x525c1f[_0x124209(0x871)],'chatLog':{'lastBlockId':_0x525c1f[_0x124209(0x322)][_0x124209(0x892)],'lastSendMessage':_0x525c1f[_0x124209(0x322)][_0x124209(0x7cc)],'lastReceivedMessage':_0x525c1f[_0x124209(0x322)][_0x124209(0x753)],'lastCondition':_0x525c1f[_0x124209(0x322)]['lastCondition'],'chatVariables':_0x42992d,'realVariables':_0x525c1f[_0x124209(0x322)][_0x124209(0x85c)],'blockLogs':_0x525c1f[_0x124209(0x322)][_0x124209(0x60c)]}},_0x6c5ba3=await this[_0x124209(0x3b3)][_0x124209(0x55f)]['updateOne'](_0x525c1f[_0x124209(0x791)],_0x1707fe,this['instance']['wuid']);if(_0x6c5ba3){this[_0x124209(0x42f)]['verbose'](this[_0x124209(0x492)]+'\x20('+this[_0x124209(0x278)][_0x124209(0x8d6)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x6c5ba3[_0x124209(0x791)]);try{let _0x44ffde=[_0x124209(0x23c),_0x124209(0x47e),_0x124209(0x37d),_0x124209(0x5de),'status',_0x124209(0x8a3),_0x124209(0x3c9),_0x124209(0x7dd),_0x124209(0x2d7),_0x124209(0x699)];if(!this[_0x124209(0x238)]&&(await this[_0x124209(0x240)](),!this[_0x124209(0x238)]))throw new Error(_0x124209(0x71f));let _0x3a7e23=this[_0x124209(0x238)]?.['customFields'][_0x124209(0x37b)](_0x5a0028=>_0x5a0028[_0x124209(0x1b3)]),_0x9e1410={};Object[_0x124209(0x371)](_0x525c1f['chatLog'][_0x124209(0x85c)])[_0x124209(0x68b)](([_0x149351,_0x16669e])=>{const _0x1f8e43=_0x124209;_0x44ffde[_0x1f8e43(0x570)](_0x149351)&&(_0x149351===_0x1f8e43(0x7dd)&&typeof _0x16669e==_0x1f8e43(0x265)?_0x9e1410[_0x149351]=_0x16669e[_0x1f8e43(0x85e)](',')[_0x1f8e43(0x37b)](_0xbbf745=>_0xbbf745[_0x1f8e43(0x67e)]())['filter'](_0x473f54=>_0x473f54!==''):_0x149351==='etiquetas'&&typeof _0x16669e==_0x1f8e43(0x265)?_0x9e1410[_0x149351]=_0x16669e['split'](',')['map'](_0x29ba29=>_0x29ba29['trim']())[_0x1f8e43(0x58d)](_0x326096=>_0x326096!==''):_0x9e1410[_0x149351]=_0x16669e);});let _0x4393bb=_0x525c1f['chatLog']['blockLogs'][_0x525c1f[_0x124209(0x322)][_0x124209(0x60c)][_0x124209(0x72e)]-0x1];if(_0x4393bb){let _0x539368=_0x4393bb[_0x124209(0x74c)];_0x539368!==void 0x0&&(_0x9e1410[_0x124209(0x884)]=_0x539368[_0x124209(0x7b0)]());}let _0x5b2ad2=_0x42992d[_0x124209(0x58d)](_0x46230b=>_0x3a7e23[_0x124209(0x570)](_0x46230b[_0x124209(0x1b3)]));this[_0x124209(0x42f)][_0x124209(0x83f)](this[_0x124209(0x492)]+'\x20('+this[_0x124209(0x278)]['wuid']+_0x124209(0x848)),this[_0x124209(0x42f)]['verbose'](_0x9e1410),this[_0x124209(0x42f)][_0x124209(0x83f)](this[_0x124209(0x492)]+'\x20('+this['instance'][_0x124209(0x8d6)]+_0x124209(0x466)),this[_0x124209(0x42f)][_0x124209(0x83f)](_0x5b2ad2);let _0x53d555=_0x5b2ad2[_0x124209(0x37b)](_0x1eba6c=>{const _0x5f106c=_0x124209;let _0x2e0737=this[_0x5f106c(0x238)]?.[_0x5f106c(0x609)][_0x5f106c(0x361)](_0x194290=>_0x194290['name']===_0x1eba6c[_0x5f106c(0x1b3)]);if(!_0x2e0737)throw new Error(_0x5f106c(0x661)+_0x1eba6c[_0x5f106c(0x1b3)]);return{'_id':_0x2e0737[_0x5f106c(0x791)],'value':_0x1eba6c[_0x5f106c(0x356)]};});this[_0x124209(0x42f)]['verbose'](this[_0x124209(0x492)]+'\x20('+this['instance']['wuid']+_0x124209(0x66c)),this[_0x124209(0x42f)][_0x124209(0x83f)](_0x53d555),await this[_0x124209(0x8c0)](_0x525c1f[_0x124209(0x7df)],_0x9e1410,_0x53d555);}catch(_0x2fda67){this[_0x124209(0x42f)]['error'](this[_0x124209(0x492)]+'\x20('+this[_0x124209(0x278)][_0x124209(0x8d6)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0x2fda67 instanceof Error?_0x2fda67[_0x124209(0x7c9)]:JSON['stringify'](_0x2fda67,null,0x2)));}}else this[_0x124209(0x42f)][_0x124209(0x82d)](this[_0x124209(0x492)]+'\x20('+this[_0x124209(0x278)][_0x124209(0x8d6)]+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x2ffaaf){this[_0x124209(0x42f)]['error'](this['instanceName']+'\x20('+this[_0x124209(0x278)][_0x124209(0x8d6)]+_0x124209(0x727)+(_0x2ffaaf instanceof Error?_0x2ffaaf[_0x124209(0x7c9)]:JSON[_0x124209(0x1af)](_0x2ffaaf,null,0x2)));}}async['saveChatVariables'](_0x1e3404,_0x15ed61,_0x4e90cd){const _0x5c4dba=a0_0x4c01ce;try{let _0x365fbc={'leadInfo.leadnome':_0x15ed61[_0x5c4dba(0x23c)],'leadInfo.nomecompleto':_0x15ed61[_0x5c4dba(0x47e)],'leadInfo.email':_0x15ed61['email'],'leadInfo.cpf':_0x15ed61[_0x5c4dba(0x5de)],'leadInfo.status':_0x15ed61['status'],'leadInfo.notas':_0x15ed61[_0x5c4dba(0x8a3)],'leadInfo.responsavelid':_0x15ed61[_0x5c4dba(0x3c9)],'leadInfo.tags':_0x15ed61[_0x5c4dba(0x7dd)],'leadInfo.etiquetas':_0x15ed61['etiquetas'],'leadInfo.customFields':_0x4e90cd,'leadInfo.atendimentoAberto':_0x15ed61[_0x5c4dba(0x699)]},_0x19bafd=await this[_0x5c4dba(0x3b3)][_0x5c4dba(0x8c3)][_0x5c4dba(0x280)]({'where':{'_id':_0x1e3404}},this[_0x5c4dba(0x278)][_0x5c4dba(0x8d6)]);if(!_0x19bafd)return'chat\x20não\x20encontrado';let _0x4bdd9a=new Set(_0x19bafd['leadInfo'][_0x5c4dba(0x2d7)]||[]),_0x6d410f=new Set(_0x15ed61['etiquetas']||[]),_0x53727d=await this[_0x5c4dba(0x3b3)]['label'][_0x5c4dba(0x361)]({'where':{}},this['instance'][_0x5c4dba(0x8d6)]),_0x36121c=new Set(_0x53727d[_0x5c4dba(0x37b)](_0x202c68=>_0x202c68[_0x5c4dba(0x791)])),_0x2cec64=[..._0x6d410f][_0x5c4dba(0x58d)](_0x59f3f6=>!_0x4bdd9a[_0x5c4dba(0x7de)](_0x59f3f6)&&_0x36121c[_0x5c4dba(0x7de)](_0x59f3f6)),_0x2a9b78=[..._0x4bdd9a][_0x5c4dba(0x58d)](_0x2a510e=>!_0x6d410f[_0x5c4dba(0x7de)](_0x2a510e));for(let _0x2d88d9 of _0x2cec64)await this['AddChatLabel'](_0x2d88d9,_0x19bafd['_id']),_0x4bdd9a[_0x5c4dba(0x2e3)](_0x2d88d9);for(let _0x5a5cd8 of _0x2a9b78)await this['RemoveChatLabel'](_0x5a5cd8,_0x19bafd[_0x5c4dba(0x791)]),_0x4bdd9a[_0x5c4dba(0x85f)](_0x5a5cd8);if('desativadoFluxoAte'in _0x15ed61){let _0x332cbc=_0x15ed61[_0x5c4dba(0x884)];_0x365fbc[_0x5c4dba(0x493)]=_0x332cbc?Number(_0x332cbc):null;}if(_0x5c4dba(0x699)in _0x15ed61){let _0x32da67=_0x15ed61['atendimentoAberto'][_0x5c4dba(0x25b)]();_0x365fbc['leadInfo.atendimentoAberto']=_0x32da67==='true'||_0x32da67==='1'||_0x32da67===_0x5c4dba(0x75b)||_0x32da67===_0x5c4dba(0x866);}let _0x5f14ab=await this[_0x5c4dba(0x3b3)]['chat'][_0x5c4dba(0x3e7)]({'where':{'_id':_0x1e3404}},_0x365fbc,this[_0x5c4dba(0x278)][_0x5c4dba(0x8d6)]);_0x5f14ab?(this[_0x5c4dba(0x42f)][_0x5c4dba(0x83f)](this[_0x5c4dba(0x492)]+'\x20('+this[_0x5c4dba(0x278)][_0x5c4dba(0x8d6)]+_0x5c4dba(0x755)+_0x5f14ab[_0x5c4dba(0x791)]),F(this[_0x5c4dba(0x492)],_0x5c4dba(0x483),{'chat':_0x5f14ab})):this[_0x5c4dba(0x42f)][_0x5c4dba(0x82d)](this[_0x5c4dba(0x492)]+'\x20('+this[_0x5c4dba(0x278)][_0x5c4dba(0x8d6)]+_0x5c4dba(0x801));}catch(_0x1cba85){this[_0x5c4dba(0x42f)]['error'](this[_0x5c4dba(0x492)]+'\x20('+this[_0x5c4dba(0x278)][_0x5c4dba(0x8d6)]+_0x5c4dba(0x270)+(_0x1cba85 instanceof Error?_0x1cba85[_0x5c4dba(0x7c9)]:JSON['stringify'](_0x1cba85,null,0x2)));}}async[a0_0x4c01ce(0x51a)](_0x1595df,_0x2f8b8e){const _0x255b9d=a0_0x4c01ce;this['logger'][_0x255b9d(0x83f)](this['instanceName']+'\x20('+this[_0x255b9d(0x278)][_0x255b9d(0x8d6)]+_0x255b9d(0x49c)+_0x2f8b8e);try{let _0x313182=await this[_0x255b9d(0x3b3)]['chat']['updateOne']({'where':{'_id':_0x1595df[_0x255b9d(0x7df)]}},{'leadInfo.desativadoFluxoAte':_0x2f8b8e},this['instance'][_0x255b9d(0x8d6)]);this[_0x255b9d(0x42f)]['verbose'](this[_0x255b9d(0x492)]+'\x20('+this[_0x255b9d(0x278)]['wuid']+_0x255b9d(0x4e2)+_0x1595df[_0x255b9d(0x791)]),this[_0x255b9d(0x42f)][_0x255b9d(0x83f)](this[_0x255b9d(0x492)]+'\x20('+this[_0x255b9d(0x278)][_0x255b9d(0x8d6)]+_0x255b9d(0x49c)+JSON[_0x255b9d(0x1af)](_0x313182,null,0x2)),_0x313182&&F(this[_0x255b9d(0x492)],_0x255b9d(0x483),{'chat':_0x313182});}catch(_0x26ac57){this['logger'][_0x255b9d(0x82d)](this[_0x255b9d(0x492)]+'\x20('+this['instance']['wuid']+_0x255b9d(0x788)+(_0x26ac57 instanceof Error?_0x26ac57[_0x255b9d(0x7c9)]:JSON[_0x255b9d(0x1af)](_0x26ac57,null,0x2)));}}async[a0_0x4c01ce(0x40b)](_0x95c17){const _0x376e6c=a0_0x4c01ce;try{this[_0x376e6c(0x42f)]['verbose'](this['instanceName']+'\x20('+this[_0x376e6c(0x278)][_0x376e6c(0x8d6)]+_0x376e6c(0x1c0));let _0x12500d=_0x95c17[_0x376e6c(0x7ea)](/\D/g,''),_0x4d0a3b=this[_0x376e6c(0x238)][_0x376e6c(0x327)][_0x376e6c(0x361)](_0x12ca7f=>_0x12ca7f[_0x376e6c(0x1c7)]===_0x12500d);if(_0x4d0a3b||(this['logger'][_0x376e6c(0x83f)](this[_0x376e6c(0x492)]+'\x20('+this[_0x376e6c(0x278)][_0x376e6c(0x8d6)]+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x4d0a3b=this[_0x376e6c(0x238)]['flows']['find'](_0x21a330=>_0x21a330[_0x376e6c(0x831)]===!0x0)),!_0x4d0a3b)return this['logger'][_0x376e6c(0x83f)](this[_0x376e6c(0x492)]+'\x20('+this[_0x376e6c(0x278)][_0x376e6c(0x8d6)]+_0x376e6c(0x4fc)),null;let _0x2a936c=await this[_0x376e6c(0x3b3)]['flow'][_0x376e6c(0x280)]({'where':{'_id':_0x4d0a3b['_id']}});if(!_0x2a936c||!_0x2a936c[_0x376e6c(0x2df)]?.['includes'](this['instance'][_0x376e6c(0x8d6)]))throw this[_0x376e6c(0x42f)][_0x376e6c(0x82d)](this[_0x376e6c(0x492)]+'\x20('+this['instance'][_0x376e6c(0x8d6)]+_0x376e6c(0x8bb)+_0x2a936c[_0x376e6c(0x791)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x376e6c(0x2a9)+_0x2a936c[_0x376e6c(0x791)]+_0x376e6c(0x453));return _0x2a936c;}catch(_0x12bc54){return this[_0x376e6c(0x42f)][_0x376e6c(0x82d)](this['instanceName']+'\x20('+this[_0x376e6c(0x278)]['wuid']+_0x376e6c(0x811)+(_0x12bc54 instanceof Error?_0x12bc54[_0x376e6c(0x7c9)]:JSON['stringify'](_0x12bc54,null,0x2))),null;}}async[a0_0x4c01ce(0x7bc)](_0x7ab792,_0x5765da){const _0x52b8c1=a0_0x4c01ce;try{let _0x16cb9e=!!_0x5765da['vote'],_0xfdc3f3=_0x5765da[_0x52b8c1(0x7fa)],_0x3b0529=null;if(this[_0x52b8c1(0x42f)][_0x52b8c1(0x83f)](this['instanceName']+'\x20('+this[_0x52b8c1(0x278)][_0x52b8c1(0x8d6)]+_0x52b8c1(0x5cd)+_0x16cb9e+'\x20quoted:\x20'+_0xfdc3f3),_0x16cb9e){this['logger'][_0x52b8c1(0x83f)](this[_0x52b8c1(0x492)]+'\x20('+this[_0x52b8c1(0x278)][_0x52b8c1(0x8d6)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x59bd7c={'where':{'remoteJid':_0x7ab792,'waitingMenu_id':_0xfdc3f3}};if(_0x3b0529=await this['repository'][_0x52b8c1(0x55f)][_0x52b8c1(0x280)](_0x59bd7c,this[_0x52b8c1(0x278)][_0x52b8c1(0x8d6)]),!_0x3b0529)return this[_0x52b8c1(0x42f)][_0x52b8c1(0x83f)](this[_0x52b8c1(0x492)]+'\x20('+this[_0x52b8c1(0x278)][_0x52b8c1(0x8d6)]+_0x52b8c1(0x8bd)),null;let _0x11ebcd=Date[_0x52b8c1(0x82e)](),_0xc5ead3=_0x3b0529?.[_0x52b8c1(0x750)]||0x0,_0x467b21=_0x11ebcd-_0xc5ead3*0x3c*0x3e8;if(_0x3b0529['lastInteraction']<_0x467b21){this[_0x52b8c1(0x42f)][_0x52b8c1(0x83f)](this[_0x52b8c1(0x492)]+'\x20('+this[_0x52b8c1(0x278)][_0x52b8c1(0x8d6)]+_0x52b8c1(0x8fc));let _0x4399ca={'number':_0x3b0529[_0x52b8c1(0x7df)],'options':{'delay':0x0},'textMessage':{'text':_0x3b0529['waitingMenu_ExpiredMessage']}};await this[_0x52b8c1(0x5d3)](_0x4399ca);let _0x2f6106={'status':_0x52b8c1(0x521),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x52b8c1(0x3b3)][_0x52b8c1(0x55f)][_0x52b8c1(0x3e7)](_0x3b0529[_0x52b8c1(0x791)],_0x2f6106,this[_0x52b8c1(0x278)][_0x52b8c1(0x8d6)]),null;}return _0x3b0529[_0x52b8c1(0x591)]=Date['now'](),_0x3b0529[_0x52b8c1(0x322)][_0x52b8c1(0x753)]=_0x5765da,_0x3b0529;}else{this[_0x52b8c1(0x42f)][_0x52b8c1(0x83f)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+this[_0x52b8c1(0x278)]['wuid']+_0x52b8c1(0x77e)),this[_0x52b8c1(0x42f)]['verbose'](this[_0x52b8c1(0x492)]+'\x20('+this[_0x52b8c1(0x278)][_0x52b8c1(0x8d6)]+_0x52b8c1(0x8b5));let _0x219250={'where':{'remoteJid':_0x7ab792,'status':'open'}};if(_0x3b0529=await this['repository'][_0x52b8c1(0x55f)][_0x52b8c1(0x280)](_0x219250,this[_0x52b8c1(0x278)][_0x52b8c1(0x8d6)]),!_0x3b0529){let _0x48eeca=await this[_0x52b8c1(0x40b)](_0x7ab792);if(_0x48eeca&&(_0x3b0529=await this[_0x52b8c1(0x880)](_0x48eeca,_0x5765da[_0x52b8c1(0x76c)],_0x5765da)),!_0x3b0529)return null;}let _0x29dcbd=Date['now'](),_0x208f50=_0x3b0529?.[_0x52b8c1(0x750)]||0x0,_0x25bbe4=_0x29dcbd-_0x208f50*0x3c*0x3e8;if(this[_0x52b8c1(0x42f)][_0x52b8c1(0x83f)](this[_0x52b8c1(0x492)]+'\x20('+this[_0x52b8c1(0x278)][_0x52b8c1(0x8d6)]+_0x52b8c1(0x8d8)+_0x29dcbd+_0x52b8c1(0x5ad)+_0x208f50+',\x20Expiration\x20Time:\x20'+_0x25bbe4),this['logger'][_0x52b8c1(0x83f)](this[_0x52b8c1(0x492)]+'\x20('+this[_0x52b8c1(0x278)]['wuid']+_0x52b8c1(0x6a0)),this[_0x52b8c1(0x42f)][_0x52b8c1(0x83f)](this[_0x52b8c1(0x492)]+'\x20('+this[_0x52b8c1(0x278)][_0x52b8c1(0x8d6)]+'):\x20conversation.lastInteraction:\x20'+_0x3b0529[_0x52b8c1(0x591)]),this[_0x52b8c1(0x42f)][_0x52b8c1(0x83f)](this[_0x52b8c1(0x492)]+'\x20('+this[_0x52b8c1(0x278)][_0x52b8c1(0x8d6)]+_0x52b8c1(0x6cc)+_0x25bbe4),_0x3b0529[_0x52b8c1(0x591)]<_0x25bbe4){this[_0x52b8c1(0x42f)][_0x52b8c1(0x83f)](this[_0x52b8c1(0x492)]+'\x20('+this[_0x52b8c1(0x278)][_0x52b8c1(0x8d6)]+'):\x20Conversa\x20está\x20expirada');let _0x3e1615=await this[_0x52b8c1(0x40b)](_0x7ab792);if(_0x3e1615===null)return null;_0x3b0529&&await this[_0x52b8c1(0x3b3)][_0x52b8c1(0x55f)][_0x52b8c1(0x3e7)](_0x3b0529[_0x52b8c1(0x791)],{'status':_0x52b8c1(0x521)},this[_0x52b8c1(0x278)][_0x52b8c1(0x8d6)]),_0x3b0529=await this[_0x52b8c1(0x880)](_0x3e1615,_0x5765da[_0x52b8c1(0x76c)],_0x5765da);}return _0x3b0529[_0x52b8c1(0x591)]=_0x29dcbd,_0x3b0529[_0x52b8c1(0x322)][_0x52b8c1(0x753)]=_0x5765da,_0x3b0529;}}catch(_0x17f2ac){return this[_0x52b8c1(0x42f)][_0x52b8c1(0x82d)](this['instanceName']+'\x20('+this[_0x52b8c1(0x278)][_0x52b8c1(0x8d6)]+_0x52b8c1(0x5c2)+(_0x17f2ac instanceof Error?_0x17f2ac[_0x52b8c1(0x7c9)]:JSON[_0x52b8c1(0x1af)](_0x17f2ac,null,0x2))),null;}}async[a0_0x4c01ce(0x880)](_0x124ec2,_0x2ce630,_0x44eb12){const _0x4019ee=a0_0x4c01ce;this[_0x4019ee(0x42f)][_0x4019ee(0x83f)](this[_0x4019ee(0x492)]+'\x20('+this[_0x4019ee(0x278)][_0x4019ee(0x8d6)]+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x151529=require('mongodb')[_0x4019ee(0x616)],_0x400ddf=Date['now'](),_0x11c3ec=_0x4019ee(0x39f),_0x27cd2b=_0x2ce630[_0x4019ee(0x8b9)]?null:_0x44eb12,_0xba071a=_0x2ce630[_0x4019ee(0x8b9)]?_0x44eb12:null,_0x32d111=_0x2ce630['remoteJid'],_0x106b6b=this[_0x4019ee(0x238)][_0x4019ee(0x327)][_0x4019ee(0x361)](_0x5d56b5=>_0x5d56b5[_0x4019ee(0x791)]===_0x124ec2[_0x4019ee(0x791)]?.['toString']()),_0x833b6b=_0x106b6b?.[_0x4019ee(0x750)]??_0x124ec2[_0x4019ee(0x750)]??0x0,_0x3ecbfb=_0x106b6b?.[_0x4019ee(0x262)]??_0x124ec2[_0x4019ee(0x262)]??!0x1;await this[_0x4019ee(0x46b)](_0x32d111);let _0x2804df={'flowId':_0x124ec2[_0x4019ee(0x791)],..._0x124ec2,'chatLog':null},_0x3aa44e=await this[_0x4019ee(0x896)](_0x2804df[_0x4019ee(0x513)]),_0x4a82af=await this[_0x4019ee(0x221)](_0x32d111),_0x3a601e={..._0x3aa44e,..._0x4a82af,'_remoteJid':_0x32d111},_0x4b650e={'lastReceivedMessage':_0x27cd2b,'lastSendMessage':_0xba071a,'lastBlockId':_0x11c3ec,'lastCondition':!0x0,'realVariables':_0x3a601e};_0x2804df[_0x4019ee(0x322)]=_0x4b650e,delete _0x2804df['_id'],_0x2804df[_0x4019ee(0x791)]=new _0x151529(),_0x2804df[_0x4019ee(0x591)]=_0x400ddf,_0x2804df[_0x4019ee(0x5d6)]=_0x4019ee(0x474),_0x2804df[_0x4019ee(0x7df)]=_0x32d111,_0x2804df[_0x4019ee(0x750)]=_0x833b6b,_0x2804df[_0x4019ee(0x262)]=_0x3ecbfb;let _0x4472f6=await this[_0x4019ee(0x3b3)][_0x4019ee(0x55f)][_0x4019ee(0x3e7)](_0x2804df[_0x4019ee(0x791)],_0x2804df,this[_0x4019ee(0x278)][_0x4019ee(0x8d6)]);return this['logger'][_0x4019ee(0x83f)](this[_0x4019ee(0x492)]+'\x20('+this[_0x4019ee(0x278)][_0x4019ee(0x8d6)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x4472f6?_0x2804df:null;}catch(_0x10f99c){return this['logger']['error'](this[_0x4019ee(0x492)]+'\x20('+this['instance'][_0x4019ee(0x8d6)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x10f99c instanceof Error?_0x10f99c[_0x4019ee(0x7c9)]:JSON['stringify'](_0x10f99c,null,0x2))),_0x10f99c;}}async[a0_0x4c01ce(0x65e)](_0xf9f2ce,_0x8657fb){const _0x5981e7=a0_0x4c01ce;let _0x1c4bea=_0xf9f2ce[_0x5981e7(0x7df)];_0x8657fb[_0x5981e7(0x86a)][_0x5981e7(0x7df)]&&_0x8657fb[_0x5981e7(0x86a)][_0x5981e7(0x7df)][_0x5981e7(0x67e)]()!==''&&(_0x1c4bea=_0x8657fb['uazapi'][_0x5981e7(0x7df)][_0x5981e7(0x67e)]()),this['logger'][_0x5981e7(0x83f)](this['instanceName']+'\x20('+this[_0x5981e7(0x278)]['wuid']+_0x5981e7(0x40d));let _0xd3a5c={'number':_0x1c4bea,'options':{'delay':_0x8657fb['uazapi'][_0x5981e7(0x22d)],'linkPreview':_0x8657fb[_0x5981e7(0x86a)][_0x5981e7(0x55c)]},'textMessage':{'text':_0x8657fb[_0x5981e7(0x86a)]['text']}};try{let _0x167b03=await this[_0x5981e7(0x5d3)](_0xd3a5c);if(_0x167b03){let _0xdc3540={'_id':_0x167b03[_0x5981e7(0x76c)]['id'],'_fromMe':_0x167b03[_0x5981e7(0x76c)]['fromMe'],'_remoteJid':_0x167b03[_0x5981e7(0x76c)]['remoteJid']},_0x1b6e83=(0x0,w[_0x5981e7(0x443)])(_0x167b03[_0x5981e7(0x7c9)]),_0x5ebf19=(0x0,w[_0x5981e7(0x3d4)])(_0x1b6e83);_0xf9f2ce['chatLog']['lastBlockId']=_0x8657fb[_0x5981e7(0x791)][_0x5981e7(0x7b0)]();let {message_normalized:_0x16bf22}=this[_0x5981e7(0x579)](_0x1b6e83,_0x5ebf19,null);_0xf9f2ce[_0x5981e7(0x322)][_0x5981e7(0x7cc)]=await _0x16bf22;let _0x4b9722={'messageId':_0x167b03[_0x5981e7(0x76c)]['id']},_0x528f87=_0xf9f2ce['chatLog'][_0x5981e7(0x85c)];Object['assign'](_0x528f87,_0xdc3540),_0xf9f2ce[_0x5981e7(0x322)]['realVariables']=_0x528f87,this[_0x5981e7(0x4c4)](_0xf9f2ce,_0x8657fb,_0x4b9722);}else{let _0x5dec25={'error':!0x0};this[_0x5981e7(0x4c4)](_0xf9f2ce,_0x8657fb,_0x5dec25),this['logger'][_0x5981e7(0x82d)](this['instanceName']+'\x20('+this[_0x5981e7(0x278)][_0x5981e7(0x8d6)]+_0x5981e7(0x448));}}catch(_0x5daeda){let _0x2f3948={'error':!0x0,'errorLog':_0x5daeda['toString']()};this[_0x5981e7(0x4c4)](_0xf9f2ce,_0x8657fb,_0x2f3948),this[_0x5981e7(0x42f)][_0x5981e7(0x82d)](this[_0x5981e7(0x492)]+'\x20('+this[_0x5981e7(0x278)][_0x5981e7(0x8d6)]+_0x5981e7(0x859)+(_0x5daeda instanceof Error?_0x5daeda['message']:JSON[_0x5981e7(0x1af)](_0x5daeda,null,0x2)));}}async[a0_0x4c01ce(0x72b)](_0xdc19d3,_0x135a2d){const _0x125e38=a0_0x4c01ce;let _0x4e439f=_0xdc19d3[_0x125e38(0x7df)];_0x135a2d[_0x125e38(0x86a)][_0x125e38(0x7df)]&&_0x135a2d[_0x125e38(0x86a)][_0x125e38(0x7df)][_0x125e38(0x67e)]()!==''&&(_0x4e439f=_0x135a2d[_0x125e38(0x86a)]['remoteJid'][_0x125e38(0x67e)]()),this['logger'][_0x125e38(0x83f)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x125e38(0x1b7));let _0x333313={'number':_0x4e439f,'options':{'delay':_0x135a2d['uazapi'][_0x125e38(0x22d)],'linkPreview':_0x135a2d[_0x125e38(0x86a)][_0x125e38(0x55c)]},'mediaMessage':{'mediatype':_0x135a2d['uazapi'][_0x125e38(0x56e)],'caption':_0x135a2d[_0x125e38(0x86a)][_0x125e38(0x6b6)],'media':_0x135a2d[_0x125e38(0x86a)][_0x125e38(0x57c)],'fileName':_0x135a2d[_0x125e38(0x86a)][_0x125e38(0x3a8)]}};try{let _0x42daef=await this[_0x125e38(0x571)](_0x333313);if(_0x42daef){let _0x47a36d={'_id':_0x42daef[_0x125e38(0x76c)]['id'],'_fromMe':_0x42daef[_0x125e38(0x76c)]['fromMe'],'_remoteJid':_0x42daef[_0x125e38(0x76c)]['remoteJid']},_0x46b679=(0x0,w[_0x125e38(0x443)])(_0x42daef[_0x125e38(0x7c9)]),_0xb95c89=(0x0,w[_0x125e38(0x3d4)])(_0x46b679);_0xdc19d3['chatLog'][_0x125e38(0x892)]=_0x135a2d[_0x125e38(0x791)]['toString']();let {message_normalized:_0xef724f}=this[_0x125e38(0x579)](_0x46b679,_0xb95c89,null);_0xdc19d3[_0x125e38(0x322)]['lastSendMessage']=await _0xef724f;let _0x65ee4b={'messageId':_0x42daef[_0x125e38(0x76c)]['id']},_0x1ded08=_0xdc19d3[_0x125e38(0x322)][_0x125e38(0x85c)];Object[_0x125e38(0x551)](_0x1ded08,_0x47a36d),_0xdc19d3[_0x125e38(0x322)][_0x125e38(0x85c)]=_0x1ded08,this['updateConversation'](_0xdc19d3,_0x135a2d,_0x65ee4b);}else{let _0x1bb4d7={'error':!0x0};this[_0x125e38(0x4c4)](_0xdc19d3,_0x135a2d,_0x1bb4d7),this['logger'][_0x125e38(0x82d)](this[_0x125e38(0x492)]+'\x20('+this['instance'][_0x125e38(0x8d6)]+_0x125e38(0x378));}}catch(_0x5116c1){let _0x5cf220={'error':!0x0,'errorLog':_0x5116c1[_0x125e38(0x7b0)]()};this['updateConversation'](_0xdc19d3,_0x135a2d,_0x5cf220),this[_0x125e38(0x42f)][_0x125e38(0x82d)](this[_0x125e38(0x492)]+'\x20('+this[_0x125e38(0x278)][_0x125e38(0x8d6)]+_0x125e38(0x779)+(_0x5116c1 instanceof Error?_0x5116c1[_0x125e38(0x7c9)]:JSON[_0x125e38(0x1af)](_0x5116c1,null,0x2)));}}async[a0_0x4c01ce(0x217)](_0x2685b5,_0x2108bd){const _0x3cdf2f=a0_0x4c01ce;let _0x1772bc=_0x2685b5[_0x3cdf2f(0x7df)];_0x2108bd['uazapi'][_0x3cdf2f(0x7df)]&&_0x2108bd[_0x3cdf2f(0x86a)]['remoteJid'][_0x3cdf2f(0x67e)]()!==''&&(_0x1772bc=_0x2108bd[_0x3cdf2f(0x86a)][_0x3cdf2f(0x7df)]['trim']()),this[_0x3cdf2f(0x42f)][_0x3cdf2f(0x83f)](this[_0x3cdf2f(0x492)]+'\x20('+this[_0x3cdf2f(0x278)][_0x3cdf2f(0x8d6)]+_0x3cdf2f(0x7f4));let _0x323eaf={'number':_0x1772bc,'options':{'delay':_0x2108bd[_0x3cdf2f(0x86a)]['delay']},'locationMessage':{'name':_0x2108bd[_0x3cdf2f(0x86a)]['name'],'address':_0x2108bd[_0x3cdf2f(0x86a)]['address'],'latitude':_0x2108bd[_0x3cdf2f(0x86a)]['latitude'],'longitude':_0x2108bd[_0x3cdf2f(0x86a)][_0x3cdf2f(0x76b)]}};try{let _0x15b653=await this[_0x3cdf2f(0x2b9)](_0x323eaf);if(_0x15b653){let _0x1981d0={'_id':_0x15b653[_0x3cdf2f(0x76c)]['id'],'_fromMe':_0x15b653['key'][_0x3cdf2f(0x8b9)],'_remoteJid':_0x15b653[_0x3cdf2f(0x76c)][_0x3cdf2f(0x7df)]},_0x424e4e=(0x0,w[_0x3cdf2f(0x443)])(_0x15b653[_0x3cdf2f(0x7c9)]),_0x4315a=(0x0,w[_0x3cdf2f(0x3d4)])(_0x424e4e);_0x2685b5['chatLog'][_0x3cdf2f(0x892)]=_0x2108bd[_0x3cdf2f(0x791)][_0x3cdf2f(0x7b0)]();let {message_normalized:_0x495df8}=this['normalizeMessage'](_0x424e4e,_0x4315a,null);_0x2685b5[_0x3cdf2f(0x322)]['lastSendMessage']=await _0x495df8;let _0x5c10cc={'messageId':_0x15b653['key']['id']},_0x33e5a5=_0x2685b5[_0x3cdf2f(0x322)]['realVariables'];Object[_0x3cdf2f(0x551)](_0x33e5a5,_0x1981d0),_0x2685b5[_0x3cdf2f(0x322)]['realVariables']=_0x33e5a5,this[_0x3cdf2f(0x4c4)](_0x2685b5,_0x2108bd,_0x5c10cc);}else{let _0x455cef={'error':!0x0};this[_0x3cdf2f(0x4c4)](_0x2685b5,_0x2108bd,_0x455cef),this[_0x3cdf2f(0x42f)][_0x3cdf2f(0x82d)](this['instanceName']+'\x20('+this['instance'][_0x3cdf2f(0x8d6)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0x1b0a26){let _0x66df89={'error':!0x0,'errorLog':_0x1b0a26[_0x3cdf2f(0x7b0)]()};this[_0x3cdf2f(0x4c4)](_0x2685b5,_0x2108bd,_0x66df89),this[_0x3cdf2f(0x42f)][_0x3cdf2f(0x82d)](this[_0x3cdf2f(0x492)]+'\x20('+this['instance'][_0x3cdf2f(0x8d6)]+_0x3cdf2f(0x7cf)+(_0x1b0a26 instanceof Error?_0x1b0a26[_0x3cdf2f(0x7c9)]:JSON[_0x3cdf2f(0x1af)](_0x1b0a26,null,0x2)));}}async['uazapiSendAudio'](_0x489106,_0x4c3097){const _0x45d657=a0_0x4c01ce;let _0x2c7514=_0x489106[_0x45d657(0x7df)];_0x4c3097[_0x45d657(0x86a)]['remoteJid']&&_0x4c3097[_0x45d657(0x86a)]['remoteJid'][_0x45d657(0x67e)]()!==''&&(_0x2c7514=_0x4c3097['uazapi']['remoteJid'][_0x45d657(0x67e)]()),this['logger'][_0x45d657(0x83f)](this[_0x45d657(0x492)]+'\x20('+this[_0x45d657(0x278)][_0x45d657(0x8d6)]+_0x45d657(0x1c1));let _0x18c8e9={'number':_0x2c7514,'options':{'delay':_0x4c3097[_0x45d657(0x86a)][_0x45d657(0x22d)]},'audioMessage':{'audio':_0x4c3097['uazapi'][_0x45d657(0x49b)]}};try{let _0x51eb34=await this[_0x45d657(0x4f1)](_0x18c8e9);if(_0x51eb34){let _0x52bce9={'_id':_0x51eb34['key']['id'],'_fromMe':_0x51eb34[_0x45d657(0x76c)][_0x45d657(0x8b9)],'_remoteJid':_0x51eb34[_0x45d657(0x76c)][_0x45d657(0x7df)]},_0x3aaeb7=(0x0,w[_0x45d657(0x443)])(_0x51eb34[_0x45d657(0x7c9)]),_0x4b09a3=(0x0,w['getContentType'])(_0x3aaeb7);_0x489106['chatLog'][_0x45d657(0x892)]=_0x4c3097[_0x45d657(0x791)]['toString']();let {message_normalized:_0x4194ae}=this[_0x45d657(0x579)](_0x3aaeb7,_0x4b09a3,null);_0x489106[_0x45d657(0x322)][_0x45d657(0x7cc)]=await _0x4194ae;let _0x5d2ab1={'messageId':_0x51eb34[_0x45d657(0x76c)]['id']},_0x492f6e=_0x489106['chatLog'][_0x45d657(0x85c)];Object[_0x45d657(0x551)](_0x492f6e,_0x52bce9),_0x489106[_0x45d657(0x322)]['realVariables']=_0x492f6e,this[_0x45d657(0x4c4)](_0x489106,_0x4c3097,_0x5d2ab1);}else{let _0xed6f8={'error':!0x0};this[_0x45d657(0x4c4)](_0x489106,_0x4c3097,_0xed6f8),this['logger']['error'](this[_0x45d657(0x492)]+'\x20('+this['instance'][_0x45d657(0x8d6)]+_0x45d657(0x32e));}}catch(_0x13df88){let _0xe2e3e9={'error':!0x0,'errorLog':_0x13df88[_0x45d657(0x7b0)]()};this[_0x45d657(0x4c4)](_0x489106,_0x4c3097,_0xe2e3e9),this[_0x45d657(0x42f)][_0x45d657(0x82d)](this[_0x45d657(0x492)]+'\x20('+this['instance'][_0x45d657(0x8d6)]+_0x45d657(0x6f8)+(_0x13df88 instanceof Error?_0x13df88[_0x45d657(0x7c9)]:JSON[_0x45d657(0x1af)](_0x13df88,null,0x2)));}}async[a0_0x4c01ce(0x44e)](_0x3c1277,_0x37eb7d){const _0x409774=a0_0x4c01ce;let _0x2740ab=_0x3c1277['remoteJid'];_0x37eb7d['uazapi'][_0x409774(0x7df)]&&_0x37eb7d[_0x409774(0x86a)][_0x409774(0x7df)][_0x409774(0x67e)]()!==''&&(_0x2740ab=_0x37eb7d[_0x409774(0x86a)]['remoteJid'][_0x409774(0x67e)]()),this['logger'][_0x409774(0x83f)](this[_0x409774(0x492)]+'\x20('+this[_0x409774(0x278)]['wuid']+'):\x20Enviando\x20contato');let _0x500a08={'number':_0x2740ab,'options':{'delay':_0x37eb7d[_0x409774(0x86a)]['delay']},'contactMessage':[{'fullName':_0x37eb7d[_0x409774(0x86a)][_0x409774(0x6f6)],'phoneNumber':_0x37eb7d[_0x409774(0x86a)][_0x409774(0x850)]}]};try{let _0x18b1b7=await this[_0x409774(0x306)](_0x500a08);if(_0x18b1b7){let _0x453983={'_id':_0x18b1b7[_0x409774(0x76c)]['id'],'_fromMe':_0x18b1b7['key'][_0x409774(0x8b9)],'_remoteJid':_0x18b1b7[_0x409774(0x76c)][_0x409774(0x7df)]},_0x26dcd0=(0x0,w[_0x409774(0x443)])(_0x18b1b7['message']),_0x5ac11f=(0x0,w[_0x409774(0x3d4)])(_0x26dcd0);_0x3c1277[_0x409774(0x322)]['lastBlockId']=_0x37eb7d[_0x409774(0x791)]['toString']();let {message_normalized:_0x15955a}=this[_0x409774(0x579)](_0x26dcd0,_0x5ac11f,null);_0x3c1277[_0x409774(0x322)]['lastSendMessage']=await _0x15955a;let _0x762e90={'messageId':_0x18b1b7[_0x409774(0x76c)]['id']},_0x44a639=_0x3c1277[_0x409774(0x322)][_0x409774(0x85c)];Object[_0x409774(0x551)](_0x44a639,_0x453983),_0x3c1277[_0x409774(0x322)][_0x409774(0x85c)]=_0x44a639,this[_0x409774(0x4c4)](_0x3c1277,_0x37eb7d,_0x762e90);}else{let _0x24ba50={'error':!0x0};this['updateConversation'](_0x3c1277,_0x37eb7d,_0x24ba50),this['logger'][_0x409774(0x82d)](this[_0x409774(0x492)]+'\x20('+this['instance'][_0x409774(0x8d6)]+_0x409774(0x768));}}catch(_0x2f42c2){let _0xfee19a={'error':!0x0,'errorLog':_0x2f42c2[_0x409774(0x7b0)]()};this[_0x409774(0x4c4)](_0x3c1277,_0x37eb7d,_0xfee19a),this[_0x409774(0x42f)][_0x409774(0x82d)](this[_0x409774(0x492)]+'\x20('+this[_0x409774(0x278)][_0x409774(0x8d6)]+_0x409774(0x6e2)+(_0x2f42c2 instanceof Error?_0x2f42c2['message']:JSON[_0x409774(0x1af)](_0x2f42c2,null,0x2)));}}[a0_0x4c01ce(0x6c7)](_0xeba53c,_0xaf2b02){const _0x47402b=a0_0x4c01ce;for(let _0x4647cc of _0xeba53c)_0x4647cc[_0x47402b(0x72f)]&&(_0x4647cc['option']=this['replaceVariables'](_0x4647cc[_0x47402b(0x72f)],_0xaf2b02)),_0x4647cc[_0x47402b(0x329)]&&(_0x4647cc[_0x47402b(0x329)]=this[_0x47402b(0x5cb)](_0x4647cc[_0x47402b(0x329)],_0xaf2b02));}async[a0_0x4c01ce(0x556)](_0x4d447f,_0x4057ee){const _0x35d0e7=a0_0x4c01ce;let _0x343614=_0x4d447f[_0x35d0e7(0x7df)];_0x4057ee['uazapi'][_0x35d0e7(0x7df)]&&_0x4057ee[_0x35d0e7(0x86a)][_0x35d0e7(0x7df)][_0x35d0e7(0x67e)]()!==''&&(_0x343614=_0x4057ee[_0x35d0e7(0x86a)][_0x35d0e7(0x7df)]['trim']()),this[_0x35d0e7(0x42f)][_0x35d0e7(0x83f)](this[_0x35d0e7(0x492)]+'\x20('+this['instance'][_0x35d0e7(0x8d6)]+'):\x20Enviando\x20enquete');let _0x1f7ce2=_0x4d447f[_0x35d0e7(0x58a)][_0x35d0e7(0x58d)](_0x345255=>_0x345255[_0x35d0e7(0x81c)]===_0x4057ee[_0x35d0e7(0x791)])[_0x35d0e7(0x7cd)]((_0x5de274,_0x2f43f3)=>_0x5de274['order']-_0x2f43f3[_0x35d0e7(0x2cc)]);this[_0x35d0e7(0x6c7)](_0x1f7ce2,_0x4d447f[_0x35d0e7(0x322)]['realVariables']);let _0xf74102=_0x1f7ce2[_0x35d0e7(0x37b)](_0x552981=>_0x552981[_0x35d0e7(0x72f)]),_0x74a42e={'number':_0x343614,'menuMessage':{'type':_0x4057ee[_0x35d0e7(0x86a)][_0x35d0e7(0x41e)]||'poll','text':_0x4057ee['uazapi'][_0x35d0e7(0x23e)]||_0x4057ee[_0x35d0e7(0x86a)][_0x35d0e7(0x1b3)],'footerText':_0x4057ee[_0x35d0e7(0x86a)][_0x35d0e7(0x5ca)],'buttonText':_0x4057ee[_0x35d0e7(0x86a)][_0x35d0e7(0x548)],'selectableCount':0x1,'choices':_0xf74102},'options':{'delay':_0x4057ee['uazapi'][_0x35d0e7(0x22d)]}};try{let _0x238699=await this[_0x35d0e7(0x653)](_0x74a42e);if(_0x238699){let _0x2daf33={'_id':_0x238699[_0x35d0e7(0x76c)]['id'],'_fromMe':_0x238699[_0x35d0e7(0x76c)][_0x35d0e7(0x8b9)],'_remoteJid':_0x238699[_0x35d0e7(0x76c)]['remoteJid']};_0x4057ee[_0x35d0e7(0x86a)][_0x35d0e7(0x3aa)]===!0x0&&(_0x4d447f[_0x35d0e7(0x5d6)]='waitingForReplyMenu',this[_0x35d0e7(0x42f)]['verbose'](this[_0x35d0e7(0x492)]+'\x20('+this[_0x35d0e7(0x278)][_0x35d0e7(0x8d6)]+'):\x20conversation.status:\x20'+_0x4d447f[_0x35d0e7(0x5d6)])),this[_0x35d0e7(0x42f)][_0x35d0e7(0x83f)](this[_0x35d0e7(0x492)]+'\x20('+this[_0x35d0e7(0x278)][_0x35d0e7(0x8d6)]+_0x35d0e7(0x3b5)+(_0x4057ee['uazapi'][_0x35d0e7(0x1b3)]||_0x4057ee[_0x35d0e7(0x86a)][_0x35d0e7(0x23e)])),_0x4d447f['waitingMenu_id']=_0x238699[_0x35d0e7(0x76c)]['id'],_0x4d447f[_0x35d0e7(0x451)]=_0x4057ee['uazapi'][_0x35d0e7(0x1b3)]||_0x4057ee[_0x35d0e7(0x86a)][_0x35d0e7(0x23e)],_0x4d447f[_0x35d0e7(0x871)]=_0x1f7ce2,_0x4057ee['uazapi']['menuExpiredMessage']&&(_0x4d447f[_0x35d0e7(0x19f)]=_0x4057ee['uazapi']['menuExpiredMessage']),this[_0x35d0e7(0x42f)][_0x35d0e7(0x83f)](this[_0x35d0e7(0x492)]+'\x20('+this[_0x35d0e7(0x278)][_0x35d0e7(0x8d6)]+_0x35d0e7(0x3af)+_0x4d447f[_0x35d0e7(0x451)]);let _0x25af54=(0x0,w[_0x35d0e7(0x443)])(_0x238699[_0x35d0e7(0x7c9)]),_0x45f28e=(0x0,w[_0x35d0e7(0x3d4)])(_0x25af54);_0x4d447f[_0x35d0e7(0x322)][_0x35d0e7(0x892)]=_0x4057ee[_0x35d0e7(0x791)][_0x35d0e7(0x7b0)]();let {message_normalized:_0x3563eb}=this[_0x35d0e7(0x579)](_0x25af54,_0x45f28e,null);_0x4d447f['chatLog'][_0x35d0e7(0x7cc)]=await _0x3563eb;let _0x5c3439={'messageId':_0x238699[_0x35d0e7(0x76c)]['id']},_0xef98d0=_0x4d447f[_0x35d0e7(0x322)][_0x35d0e7(0x85c)];Object[_0x35d0e7(0x551)](_0xef98d0,_0x2daf33),_0x4d447f[_0x35d0e7(0x322)][_0x35d0e7(0x85c)]=_0xef98d0,this['updateConversation'](_0x4d447f,_0x4057ee,_0x5c3439);}else{let _0x493265={'error':!0x0};this[_0x35d0e7(0x4c4)](_0x4d447f,_0x4057ee,_0x493265),this[_0x35d0e7(0x42f)][_0x35d0e7(0x82d)](this[_0x35d0e7(0x492)]+'\x20('+this[_0x35d0e7(0x278)][_0x35d0e7(0x8d6)]+_0x35d0e7(0x693));}}catch(_0x36d6b8){let _0x478d0f={'error':!0x0,'errorLog':_0x36d6b8 instanceof Error?_0x36d6b8[_0x35d0e7(0x7c9)]:JSON['stringify'](_0x36d6b8,null,0x2)};this[_0x35d0e7(0x4c4)](_0x4d447f,_0x4057ee,_0x478d0f),this[_0x35d0e7(0x42f)]['error'](this[_0x35d0e7(0x492)]+'\x20('+this[_0x35d0e7(0x278)][_0x35d0e7(0x8d6)]+_0x35d0e7(0x4d6)+(_0x36d6b8 instanceof Error?_0x36d6b8[_0x35d0e7(0x7c9)]:JSON[_0x35d0e7(0x1af)](_0x36d6b8,null,0x2)));}}async[a0_0x4c01ce(0x8b3)](_0x8c5532,_0xef09a){const _0x2362ad=a0_0x4c01ce;this['logger'][_0x2362ad(0x83f)](this['instanceName']+'\x20('+this[_0x2362ad(0x278)]['wuid']+_0x2362ad(0x8b4));let _0x5256c7=_0x8c5532['chatLog'][_0x2362ad(0x60c)][_0x2362ad(0x361)](_0x26e76a=>_0x26e76a[_0x2362ad(0x81c)][_0x2362ad(0x7b0)]()===_0xef09a['uazapi'][_0x2362ad(0x81c)][_0x2362ad(0x7b0)]()),_0x216f42={'id':_0x5256c7['messageId'],'remoteJid':_0x5256c7[_0x2362ad(0x7df)],'fromMe':_0x5256c7[_0x2362ad(0x8b9)]};try{let _0x3f457a=await this[_0x2362ad(0x332)](_0x216f42);if(_0x3f457a){let _0x5bc140=(0x0,w[_0x2362ad(0x443)])(_0x3f457a['message']),_0x37a370=(0x0,w['getContentType'])(_0x5bc140);_0x8c5532['chatLog'][_0x2362ad(0x892)]=_0xef09a[_0x2362ad(0x791)][_0x2362ad(0x7b0)]();let {message_normalized:_0x3f3d7f}=this[_0x2362ad(0x579)](_0x5bc140,_0x37a370,null);_0x8c5532[_0x2362ad(0x322)][_0x2362ad(0x7cc)]=await _0x3f3d7f;let _0x34652a={};this[_0x2362ad(0x4c4)](_0x8c5532,_0xef09a,_0x34652a);}else{let _0x3f8da1={'error':!0x0};this['updateConversation'](_0x8c5532,_0xef09a,_0x3f8da1),this[_0x2362ad(0x42f)][_0x2362ad(0x82d)](this[_0x2362ad(0x492)]+'\x20('+this[_0x2362ad(0x278)]['wuid']+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x413cd6){let _0x54a7bf={'error':!0x0,'errorLog':_0x413cd6 instanceof Error?_0x413cd6[_0x2362ad(0x7c9)]:JSON[_0x2362ad(0x1af)](_0x413cd6,null,0x2)};this[_0x2362ad(0x4c4)](_0x8c5532,_0xef09a,_0x54a7bf),this[_0x2362ad(0x42f)][_0x2362ad(0x82d)](this[_0x2362ad(0x492)]+'\x20('+this[_0x2362ad(0x278)]['wuid']+_0x2362ad(0x82a)+(_0x413cd6 instanceof Error?_0x413cd6['message']:JSON['stringify'](_0x413cd6,null,0x2)));}}async[a0_0x4c01ce(0x774)](_0x217494,_0x26c22c){const _0x1095b2=a0_0x4c01ce;if(_0x217494[_0x1095b2(0x1b3)]||(_0x217494['name']=(0x0,Y['v4'])()),_0x26c22c!==Ri&&_0x217494?.[_0x1095b2(0x636)])throw new m(_0x1095b2(0x3a5));if(_0x1095b2(0x791)in _0x217494&&_0x1095b2(0x3f6)in _0x217494)return this['AddUserFlow'](_0x217494[_0x1095b2(0x3f6)],_0x217494[_0x1095b2(0x791)]);this[_0x1095b2(0x42f)][_0x1095b2(0x83f)](this[_0x1095b2(0x492)]+'\x20('+this[_0x1095b2(0x278)][_0x1095b2(0x8d6)]+'):\x20Criando\x20fluxo...');let _0x5bf563=this[_0x1095b2(0x634)](_0x217494['name']),_0x4ac3a4=new ge[(_0x1095b2(0x2eb))][(_0x1095b2(0x616))](),_0x59e8b4={'_id':_0x4ac3a4,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x263d70={'_id':new ge['Types'][(_0x1095b2(0x616))](),'order':0x1,'groupId':_0x4ac3a4['toString'](),'type':_0x1095b2(0x39f)},_0x3138b2=this['instance'][_0x1095b2(0x8d6)],_0x1cd3ef={'_id':(0x0,Y['v4'])(),'owner':_0x3138b2,'name':_0x5bf563,'whoCanEdit':[_0x3138b2],'whoCanUse':[_0x3138b2],'groups':[_0x59e8b4],'blocks':[_0x263d70],..._0x217494};try{let _0x56a1af=await this[_0x1095b2(0x3b3)]['flow'][_0x1095b2(0x5cf)](_0x1cd3ef);return await this[_0x1095b2(0x1ba)](),_0x56a1af;}catch(_0x2af388){let _0x53818d=_0x1095b2(0x1f7),_0x5cb2ff=_0x2af388 instanceof Error?_0x2af388['message']:typeof _0x2af388==_0x1095b2(0x28b)?JSON['stringify'](_0x2af388):_0x2af388,_0x32c3dc=_0x53818d+':\x20'+_0x5cb2ff;throw this[_0x1095b2(0x42f)][_0x1095b2(0x82d)](this[_0x1095b2(0x492)]+'\x20('+this[_0x1095b2(0x278)]['wuid']+_0x1095b2(0x6b7)+_0x32c3dc),new m(_0x32c3dc);}}async['AddUserFlow'](_0x2159b3,_0x5e4d9a){const _0x26bfb=a0_0x4c01ce;try{this['logger'][_0x26bfb(0x83f)](this[_0x26bfb(0x492)]+'\x20('+this[_0x26bfb(0x278)][_0x26bfb(0x8d6)]+_0x26bfb(0x49e));let _0x448bb0=await this[_0x26bfb(0x3b3)]['flow'][_0x26bfb(0x280)]({'where':{'_id':_0x5e4d9a,'owner':_0x2159b3}});if(!_0x448bb0)throw new m('Nenhum\x20fluxo\x20correspondente\x20encontrado.');if(_0x448bb0[_0x26bfb(0x70c)]===!0x1&&!_0x448bb0['globalShow'])throw new m(_0x26bfb(0x347));let _0xd7c55d=new Set(_0x448bb0[_0x26bfb(0x2df)]??[]);_0xd7c55d[_0x26bfb(0x2e3)](this[_0x26bfb(0x278)][_0x26bfb(0x8d6)]);let _0x55418a=await this[_0x26bfb(0x3b3)][_0x26bfb(0x1a1)]['updateOne'](_0x5e4d9a,{..._0x448bb0,'whoCanUse':Array[_0x26bfb(0x252)](_0xd7c55d)});return await this['synchronizeAndMapFlows'](),_0x55418a;}catch(_0x346aca){let _0x52d4cf='Erro\x20ao\x20criar\x20fluxo\x20compartilhado',_0x1242cf=_0x346aca instanceof Error?_0x346aca['message']:typeof _0x346aca==_0x26bfb(0x28b)?JSON[_0x26bfb(0x1af)](_0x346aca):_0x346aca,_0x229e8a=_0x52d4cf+':\x20'+_0x1242cf;throw this[_0x26bfb(0x42f)][_0x26bfb(0x82d)](this[_0x26bfb(0x492)]+'\x20('+this['instance'][_0x26bfb(0x8d6)]+_0x26bfb(0x6b7)+_0x229e8a),new m(_0x229e8a);}}['getUniqueFlowName'](_0x53550c){const _0x4adb38=a0_0x4c01ce;let _0x48877d=_0x53550c,_0x5f5586=0x1;for(;this[_0x4adb38(0x238)]['flows'][_0x4adb38(0x5ed)](_0xd49375=>_0xd49375[_0x4adb38(0x1b3)]===_0x48877d);)_0x5f5586++,_0x48877d=_0x53550c+'\x20('+_0x5f5586+')';return _0x48877d;}async['deleteFlow'](_0xee34fa){const _0x52c34f=a0_0x4c01ce;try{if(this['logger'][_0x52c34f(0x83f)](this[_0x52c34f(0x492)]+'\x20('+this[_0x52c34f(0x278)][_0x52c34f(0x8d6)]+_0x52c34f(0x50c)+_0xee34fa[_0x52c34f(0x791)]+_0x52c34f(0x6eb)+_0xee34fa['global']),!this[_0x52c34f(0x238)][_0x52c34f(0x327)][_0x52c34f(0x361)](_0x3a8d55=>_0x3a8d55['_id']===_0xee34fa['_id']))throw this['logger'][_0x52c34f(0x83f)](this[_0x52c34f(0x492)]+'\x20('+this[_0x52c34f(0x278)][_0x52c34f(0x8d6)]+'):\x20Fluxo\x20\x27'+_0xee34fa[_0x52c34f(0x791)]+'\x27\x20não\x20encontrado'),new m(_0x52c34f(0x1de));let _0xad25fe=await this[_0x52c34f(0x3b3)][_0x52c34f(0x1a1)][_0x52c34f(0x280)]({'where':{'_id':_0xee34fa[_0x52c34f(0x791)]}});if(!_0xad25fe)throw new m('Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.');if(this[_0x52c34f(0x278)][_0x52c34f(0x8d6)]===_0xad25fe[_0x52c34f(0x3f6)]){this[_0x52c34f(0x42f)][_0x52c34f(0x83f)](this['instanceName']+'\x20('+this[_0x52c34f(0x278)][_0x52c34f(0x8d6)]+_0x52c34f(0x66a)+_0xee34fa[_0x52c34f(0x791)]+_0x52c34f(0x688));let _0x4784eb=await this[_0x52c34f(0x3b3)][_0x52c34f(0x1a1)][_0x52c34f(0x330)]({'where':{'_id':_0xee34fa[_0x52c34f(0x791)]}});return await this[_0x52c34f(0x1ba)](),_0x4784eb;}return this['logger'][_0x52c34f(0x83f)](this[_0x52c34f(0x492)]+'\x20('+this[_0x52c34f(0x278)][_0x52c34f(0x8d6)]+_0x52c34f(0x8a5)+this['instance'][_0x52c34f(0x8d6)]+_0x52c34f(0x4e6)+_0xee34fa['_id']+'\x27...'),_0xad25fe[_0x52c34f(0x2df)]=(_0xad25fe['whoCanUse']??[])[_0x52c34f(0x58d)](_0x2f0ade=>_0x2f0ade!==this[_0x52c34f(0x278)][_0x52c34f(0x8d6)]),_0xad25fe[_0x52c34f(0x7f0)]=(_0xad25fe[_0x52c34f(0x7f0)]??[])['filter'](_0x246228=>_0x246228!==this[_0x52c34f(0x278)][_0x52c34f(0x8d6)]),_0xad25fe[_0x52c34f(0x7f0)][_0x52c34f(0x72e)]===0x0&&_0xad25fe[_0x52c34f(0x2df)][_0x52c34f(0x72e)]>0x0&&(_0xad25fe[_0x52c34f(0x7f0)][_0x52c34f(0x835)](_0xad25fe[_0x52c34f(0x2df)][0x0]),this[_0x52c34f(0x42f)][_0x52c34f(0x83f)](this[_0x52c34f(0x492)]+'\x20('+this['instance'][_0x52c34f(0x8d6)]+_0x52c34f(0x712)+_0xad25fe[_0x52c34f(0x2df)][0x0]+_0x52c34f(0x6ef)+_0xee34fa[_0x52c34f(0x791)]+_0x52c34f(0x4f2))),await this[_0x52c34f(0x3b3)][_0x52c34f(0x1a1)][_0x52c34f(0x3e7)](_0xad25fe[_0x52c34f(0x791)],_0xad25fe),await this[_0x52c34f(0x1ba)](),{'message':_0x52c34f(0x189)+_0xee34fa[_0x52c34f(0x1b3)]+_0x52c34f(0x65d)};}catch(_0x27ae13){return this[_0x52c34f(0x42f)][_0x52c34f(0x82d)](this[_0x52c34f(0x492)]+'\x20('+this[_0x52c34f(0x278)][_0x52c34f(0x8d6)]+_0x52c34f(0x5fe)+(_0x27ae13 instanceof Error?_0x27ae13[_0x52c34f(0x7c9)]:JSON[_0x52c34f(0x1af)](_0x27ae13,null,0x2))),{'message':_0x52c34f(0x46e)+(_0x27ae13 instanceof Error?_0x27ae13[_0x52c34f(0x7c9)]:JSON['stringify'](_0x27ae13,null,0x2))};}}async[a0_0x4c01ce(0x632)](_0x49fe5f){const _0x5901ba=a0_0x4c01ce;try{if(this[_0x5901ba(0x42f)]['info'](this[_0x5901ba(0x492)]+'\x20('+this['instance']['wuid']+'):\x20Buscando\x20flow,\x20id:\x20'+_0x49fe5f),!this['AutomateSystem']&&(await this[_0x5901ba(0x240)](),!this['AutomateSystem']))return null;let _0xf0606b=await this[_0x5901ba(0x3b3)]['flow'][_0x5901ba(0x280)]({'where':{'_id':_0x49fe5f}});if(!_0xf0606b)throw new m(_0x5901ba(0x576)+_0x49fe5f+_0x5901ba(0x77a));if(!(_0xf0606b[_0x5901ba(0x636)]||_0xf0606b['whoCanUse']?.['includes'](this[_0x5901ba(0x278)][_0x5901ba(0x8d6)])))throw new m(_0x5901ba(0x394)+name+'\x27');_0xf0606b[_0x5901ba(0x636)]&&!_0xf0606b[_0x5901ba(0x2df)]?.[_0x5901ba(0x570)](this[_0x5901ba(0x278)][_0x5901ba(0x8d6)])&&(_0xf0606b[_0x5901ba(0x2df)]=[..._0xf0606b['whoCanUse']??[],this[_0x5901ba(0x278)][_0x5901ba(0x8d6)]],await this[_0x5901ba(0x3b3)][_0x5901ba(0x1a1)][_0x5901ba(0x3e7)](_0xf0606b['_id'],_0xf0606b),this[_0x5901ba(0x1ba)]());let _0x4940dd=this['AutomateSystem']?.[_0x5901ba(0x609)][_0x5901ba(0x37b)](_0x552058=>_0x552058[_0x5901ba(0x1b3)]),_0x1045ad=[_0x5901ba(0x23c),'nomecompleto',_0x5901ba(0x37d),_0x5901ba(0x5de),'status',_0x5901ba(0x8a3),_0x5901ba(0x3c9),'tags','etiquetas',_0x5901ba(0x40e),_0x5901ba(0x699)];_0xf0606b[_0x5901ba(0x513)]=_0xf0606b['variables'][_0x5901ba(0x58d)](_0x5541f4=>!(_0x5541f4[_0x5901ba(0x3ae)]===_0x5901ba(0x421)||_0x5541f4[_0x5901ba(0x421)])),_0x1045ad[_0x5901ba(0x68b)](_0x387623=>{const _0x44863f=_0x5901ba;_0xf0606b[_0x44863f(0x513)][_0x44863f(0x835)]({'folder':_0x44863f(0x421),'name':_0x387623,'value':'','doc':'','leadInfo':!0x0});}),_0x4940dd['forEach'](_0x33c8f1=>{const _0xedf722=_0x5901ba;let _0x46199a=_0xf0606b[_0xedf722(0x513)][_0xedf722(0x3de)](_0x34565c=>_0x34565c[_0xedf722(0x1b3)]===_0x33c8f1);_0x46199a===-0x1?_0xf0606b['variables'][_0xedf722(0x835)]({'folder':_0xedf722(0x421),'name':_0x33c8f1,'value':'','doc':'','leadInfo':!0x0}):(_0xf0606b[_0xedf722(0x513)][_0x46199a]['folder']=_0xedf722(0x421),_0xf0606b[_0xedf722(0x513)][_0x46199a][_0xedf722(0x421)]=!0x0);}),_0xf0606b[_0x5901ba(0x223)]&&_0xf0606b['blocks'][_0x5901ba(0x72e)]>0x0&&_0xf0606b['blocks'][_0x5901ba(0x68b)](_0x3d4e1a=>{const _0x35484b=_0x5901ba;_0x3d4e1a['groupId']&&_0x3d4e1a[_0x35484b(0x5b0)]&&_0x3d4e1a[_0x35484b(0x83e)]===_0x3d4e1a['next_groupId']&&(_0x3d4e1a[_0x35484b(0x5b0)]=null);});let _0x26308e=await this[_0x5901ba(0x3b3)][_0x5901ba(0x1a1)][_0x5901ba(0x3e7)](_0xf0606b[_0x5901ba(0x791)],_0xf0606b);if(!_0x26308e)throw new Error(_0x5901ba(0x5d9));return _0x26308e;}catch(_0x24ec2d){let _0x5ecebe=_0x5901ba(0x828),_0xe7dc18=_0x24ec2d instanceof Error?_0x24ec2d['message']:typeof _0x24ec2d=='object'?JSON['stringify'](_0x24ec2d):_0x24ec2d,_0x3931b6=_0x5ecebe+':\x20'+_0xe7dc18;throw this[_0x5901ba(0x42f)]['error'](this[_0x5901ba(0x492)]+'\x20('+this[_0x5901ba(0x278)][_0x5901ba(0x8d6)]+_0x5901ba(0x6b7)+_0x3931b6),new m(_0x3931b6);}}async[a0_0x4c01ce(0x393)](){const _0x2d27ae=a0_0x4c01ce;try{this[_0x2d27ae(0x42f)]['verbose'](this[_0x2d27ae(0x492)]+'\x20('+this[_0x2d27ae(0x278)][_0x2d27ae(0x8d6)]+_0x2d27ae(0x191)),await this[_0x2d27ae(0x1ba)]();let _0x4472e5=await this[_0x2d27ae(0x3b3)][_0x2d27ae(0x1a1)][_0x2d27ae(0x5d0)]({'where':{'globalShow':!0x0}});return[...this[_0x2d27ae(0x238)][_0x2d27ae(0x327)],..._0x4472e5];}catch(_0x2f6c88){return this[_0x2d27ae(0x42f)][_0x2d27ae(0x82d)](this[_0x2d27ae(0x492)]+'\x20('+this[_0x2d27ae(0x278)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20'+(_0x2f6c88 instanceof Error?_0x2f6c88[_0x2d27ae(0x7c9)]:JSON[_0x2d27ae(0x1af)](_0x2f6c88,null,0x2))),{'message':_0x2d27ae(0x7a5)+(_0x2f6c88 instanceof Error?_0x2f6c88[_0x2d27ae(0x7c9)]:String(_0x2f6c88))};}}async[a0_0x4c01ce(0x4cd)](_0x42db7f,_0x25e176){const _0x1f19a0=a0_0x4c01ce;try{this[_0x1f19a0(0x42f)][_0x1f19a0(0x83f)](this['instanceName']+'\x20('+this[_0x1f19a0(0x278)]['wuid']+_0x1f19a0(0x188));let _0x85036a=this[_0x1f19a0(0x238)]['flows']['find'](_0x1b8868=>_0x1b8868[_0x1f19a0(0x791)]===_0x42db7f['_id']);if(!_0x85036a)throw this[_0x1f19a0(0x42f)][_0x1f19a0(0x83f)](this[_0x1f19a0(0x492)]+'\x20('+this[_0x1f19a0(0x278)][_0x1f19a0(0x8d6)]+_0x1f19a0(0x77b)+_0x42db7f[_0x1f19a0(0x791)]+_0x1f19a0(0x348)),new m(_0x1f19a0(0x1de));let _0x53aa56=await this[_0x1f19a0(0x3b3)]['flow']['findOne']({'where':{'_id':_0x42db7f[_0x1f19a0(0x791)]}});if(!_0x53aa56||!_0x53aa56['whoCanUse']?.[_0x1f19a0(0x570)](this['instance']['wuid']))throw this[_0x1f19a0(0x42f)][_0x1f19a0(0x82d)](this[_0x1f19a0(0x492)]+'\x20('+this[_0x1f19a0(0x278)][_0x1f19a0(0x8d6)]+_0x1f19a0(0x8bb)+_0x42db7f['_id']+_0x1f19a0(0x453)),new m(_0x1f19a0(0x2a9)+_0x42db7f['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x596921=this['AutomateSystem'][_0x1f19a0(0x327)][_0x1f19a0(0x3de)](_0x33ee1a=>_0x33ee1a[_0x1f19a0(0x791)]===_0x85036a['_id']);if(_0x596921!==-0x1){let _0x3eb238=this['AutomateSystem'][_0x1f19a0(0x327)][_0x596921];if(_0x3eb238['name']=_0x42db7f[_0x1f19a0(0x1b3)]??_0x3eb238[_0x1f19a0(0x1b3)],_0x3eb238[_0x1f19a0(0x831)]=_0x42db7f[_0x1f19a0(0x831)]??_0x3eb238[_0x1f19a0(0x831)],_0x3eb238[_0x1f19a0(0x1c7)]=_0x42db7f[_0x1f19a0(0x1c7)]??_0x3eb238[_0x1f19a0(0x1c7)],_0x3eb238[_0x1f19a0(0x882)]=_0x42db7f[_0x1f19a0(0x814)]??_0x3eb238['startCommand'],_0x3eb238[_0x1f19a0(0x750)]=_0x42db7f[_0x1f19a0(0x750)]??_0x3eb238['minutesToClose'],_0x3eb238[_0x1f19a0(0x262)]=_0x42db7f['readMessages']??_0x3eb238[_0x1f19a0(0x262)],_0x42db7f['default']&&this[_0x1f19a0(0x238)][_0x1f19a0(0x327)]['forEach']((_0x520186,_0x5dbab2)=>{const _0x3bd0f8=_0x1f19a0;_0x5dbab2!==_0x596921&&(_0x520186[_0x3bd0f8(0x831)]=!0x1);}),this[_0x1f19a0(0x238)]['flows'][_0x596921]=_0x3eb238,!await this[_0x1f19a0(0x3b3)][_0x1f19a0(0x33e)][_0x1f19a0(0x79f)]({'flows':this[_0x1f19a0(0x238)][_0x1f19a0(0x327)]},this['instance'][_0x1f19a0(0x8d6)]))throw new m(_0x1f19a0(0x22e));}let _0xf0bf20=[_0x1f19a0(0x403),_0x1f19a0(0x69a),'sharePass',_0x1f19a0(0x8d3)];for(let _0x2d88b3 of _0xf0bf20)delete _0x42db7f[_0x2d88b3];if(_0x53aa56[_0x1f19a0(0x7f0)]?.[_0x1f19a0(0x570)](this['instance'][_0x1f19a0(0x8d6)])||(_0x42db7f={'_id':_0x42db7f[_0x1f19a0(0x791)]}),_0x25e176!==Ri&&_0x42db7f?.[_0x1f19a0(0x636)]&&!_0x53aa56?.[_0x1f19a0(0x636)])throw new m('Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.');let _0x125486=new Set(_0x42db7f[_0x1f19a0(0x7f0)]??_0x53aa56[_0x1f19a0(0x7f0)]);_0x125486[_0x1f19a0(0x2e3)](_0x53aa56[_0x1f19a0(0x3f6)]);let _0x4b214b=new Set(_0x42db7f['whoCanUse']??_0x53aa56['whoCanUse']??[]);_0x125486[_0x1f19a0(0x68b)](_0x2d6c53=>_0x4b214b[_0x1f19a0(0x2e3)](_0x2d6c53)),_0x4b214b['add'](_0x53aa56['owner']),this[_0x1f19a0(0x42f)]['verbose'](this[_0x1f19a0(0x492)]+'\x20('+this['instance']['wuid']+_0x1f19a0(0x77c)+Array[_0x1f19a0(0x252)](_0x125486)),this[_0x1f19a0(0x42f)][_0x1f19a0(0x83f)](this['instanceName']+'\x20('+this['instance'][_0x1f19a0(0x8d6)]+_0x1f19a0(0x1f5)+Array[_0x1f19a0(0x252)](_0x4b214b));let _0x5a0743=await this[_0x1f19a0(0x518)](Array['from'](_0x4b214b)),_0x29d939=Array[_0x1f19a0(0x252)](_0x125486)['filter'](_0x3733c3=>_0x5a0743[_0x1f19a0(0x570)](_0x3733c3)),_0x3f0597=Array[_0x1f19a0(0x252)](_0x4b214b)[_0x1f19a0(0x58d)](_0x12da10=>_0x5a0743[_0x1f19a0(0x570)](_0x12da10));this[_0x1f19a0(0x42f)][_0x1f19a0(0x83f)](this[_0x1f19a0(0x492)]+'\x20('+this[_0x1f19a0(0x278)][_0x1f19a0(0x8d6)]+_0x1f19a0(0x36b)+_0x29d939),this[_0x1f19a0(0x42f)][_0x1f19a0(0x83f)](this[_0x1f19a0(0x492)]+'\x20('+this[_0x1f19a0(0x278)][_0x1f19a0(0x8d6)]+'):\x20whoCanUse\x20after\x20validation:\x20'+_0x3f0597);let _0x547dca={..._0x53aa56,..._0x42db7f,'whoCanEdit':_0x29d939,'whoCanUse':_0x3f0597},_0x40dcff=await this[_0x1f19a0(0x3b3)][_0x1f19a0(0x1a1)][_0x1f19a0(0x3e7)](_0x53aa56['_id'],_0x547dca);return await this[_0x1f19a0(0x1ba)](),_0x40dcff;}catch(_0x28b6d5){let _0x1cef68=_0x1f19a0(0x67b),_0x5ce754=_0x28b6d5 instanceof Error?_0x28b6d5['message']:typeof _0x28b6d5==_0x1f19a0(0x28b)?JSON['stringify'](_0x28b6d5):_0x28b6d5,_0x272a46=_0x1cef68+':\x20'+_0x5ce754;throw this['logger'][_0x1f19a0(0x82d)](this['instanceName']+'\x20('+this[_0x1f19a0(0x278)]['wuid']+_0x1f19a0(0x6b7)+_0x272a46),new m(_0x272a46);}}async[a0_0x4c01ce(0x518)](_0xd48f5f){const _0x5a6451=a0_0x4c01ce;let _0x9f41cf={'numbers':_0xd48f5f};return(await this[_0x5a6451(0x20e)](_0x9f41cf))[_0x5a6451(0x58d)](_0x1c389a=>_0x1c389a['exists'])[_0x5a6451(0x37b)](_0x5a8cd6=>_0x5a8cd6['jid'])[_0x5a6451(0x37b)](_0xcd1043=>this[_0x5a6451(0x266)](_0xcd1043));}[a0_0x4c01ce(0x266)](_0x246224){const _0x543126=a0_0x4c01ce;let _0x3a3028=_0x246224[_0x543126(0x2a6)](/\d+/);return _0x3a3028?_0x3a3028[0x0]:'';}async[a0_0x4c01ce(0x71e)](_0x181ca7){const _0x8ab61b=a0_0x4c01ce;try{if(this[_0x8ab61b(0x42f)]['verbose'](this[_0x8ab61b(0x492)]+'\x20('+this[_0x8ab61b(0x278)][_0x8ab61b(0x8d6)]+_0x8ab61b(0x373)),!this[_0x8ab61b(0x238)][_0x8ab61b(0x327)][_0x8ab61b(0x361)](_0xd8f00e=>_0xd8f00e[_0x8ab61b(0x791)]===_0x181ca7[_0x8ab61b(0x791)]))throw this[_0x8ab61b(0x42f)][_0x8ab61b(0x83f)](this[_0x8ab61b(0x492)]+'\x20('+this['instance'][_0x8ab61b(0x8d6)]+'):\x20Fluxo\x20\x27'+_0x181ca7['_id']+_0x8ab61b(0x348)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x1add5e=await this[_0x8ab61b(0x3b3)][_0x8ab61b(0x1a1)][_0x8ab61b(0x280)]({'where':{'_id':_0x181ca7['_id']}});if(!_0x1add5e||!_0x1add5e[_0x8ab61b(0x2df)]?.['includes'](this[_0x8ab61b(0x278)]['wuid']))throw this[_0x8ab61b(0x42f)]['error'](this['instanceName']+'\x20('+this[_0x8ab61b(0x278)][_0x8ab61b(0x8d6)]+_0x8ab61b(0x8bb)+_0x181ca7[_0x8ab61b(0x791)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x181ca7[_0x8ab61b(0x791)]+_0x8ab61b(0x453));if(!_0x1add5e[_0x8ab61b(0x7f0)]?.[_0x8ab61b(0x570)](this[_0x8ab61b(0x278)][_0x8ab61b(0x8d6)]))throw new m(_0x8ab61b(0x3fe));let {block:_0x5ec57f}=_0x181ca7;_0x5ec57f?.[_0x8ab61b(0x4fd)]?this[_0x8ab61b(0x74b)](_0x1add5e,_0x181ca7):_0x5ec57f?.[_0x8ab61b(0x85f)]?this[_0x8ab61b(0x276)](_0x1add5e,_0x181ca7):_0x5ec57f[_0x8ab61b(0x791)]?await this[_0x8ab61b(0x648)](_0x1add5e,_0x181ca7):this[_0x8ab61b(0x81d)](_0x1add5e,_0x181ca7);let _0x8516e6=await this[_0x8ab61b(0x3b3)][_0x8ab61b(0x1a1)][_0x8ab61b(0x3e7)](_0x1add5e[_0x8ab61b(0x791)],_0x1add5e);if(!_0x8516e6)throw new Error(_0x8ab61b(0x5d9));return _0x8516e6;}catch(_0x4c35de){this[_0x8ab61b(0x53e)]('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x4c35de[_0x8ab61b(0x7c9)]);}}async[a0_0x4c01ce(0x74b)](_0x2b57c4,_0x667c9b){const _0x1168cc=a0_0x4c01ce;let _0xd237ba=_0x667c9b[_0x1168cc(0x66d)]['_id'],_0x1efbb7=_0x2b57c4['blocks'][_0x1168cc(0x361)](_0x544090=>_0x544090[_0x1168cc(0x791)][_0x1168cc(0x7b0)]()===_0xd237ba);if(!_0x1efbb7){this[_0x1168cc(0x42f)]['error'](this[_0x1168cc(0x492)]+'\x20('+this[_0x1168cc(0x278)][_0x1168cc(0x8d6)]+_0x1168cc(0x49a)+_0xd237ba+_0x1168cc(0x26a));return;}this[_0x1168cc(0x42f)][_0x1168cc(0x83f)](this['instanceName']+'\x20('+this[_0x1168cc(0x278)][_0x1168cc(0x8d6)]+_0x1168cc(0x7a9)+JSON[_0x1168cc(0x1af)](_0x1efbb7));let _0x370093=JSON[_0x1168cc(0x2c1)](JSON[_0x1168cc(0x1af)](_0x1efbb7));_0x370093[_0x1168cc(0x791)]=new ge['default'][(_0x1168cc(0x2eb))]['ObjectId'](),this[_0x1168cc(0x42f)]['verbose'](this[_0x1168cc(0x492)]+'\x20('+this['instance'][_0x1168cc(0x8d6)]+_0x1168cc(0x6b0)+JSON[_0x1168cc(0x1af)](_0x370093)),_0x2b57c4[_0x1168cc(0x223)][_0x1168cc(0x835)](_0x370093),this[_0x1168cc(0x282)](_0x2b57c4['blocks'],_0x370093[_0x1168cc(0x83e)]);}['throwAndLogError'](_0x4f48a0){const _0x4eb7b5=a0_0x4c01ce;throw this[_0x4eb7b5(0x42f)][_0x4eb7b5(0x82d)](this[_0x4eb7b5(0x492)]+'\x20('+this[_0x4eb7b5(0x278)][_0x4eb7b5(0x8d6)]+_0x4eb7b5(0x6b7)+_0x4f48a0),new m(_0x4f48a0);}[a0_0x4c01ce(0x276)](_0x148072,_0x5d074a){const _0x403bc9=a0_0x4c01ce;let {block:_0x3da606}=_0x5d074a;if(_0x3da606['type']===_0x403bc9(0x39f)){this['throwAndLogError'](_0x403bc9(0x5c9));return;}if(!_0x3da606[_0x403bc9(0x791)]){this[_0x403bc9(0x53e)](_0x403bc9(0x780));return;}let _0x225ac8=_0x148072[_0x403bc9(0x223)]['find'](_0x358dee=>_0x358dee[_0x403bc9(0x791)][_0x403bc9(0x7b0)]()===_0x5d074a['block'][_0x403bc9(0x791)][_0x403bc9(0x7b0)]());if(!_0x225ac8){this[_0x403bc9(0x53e)](_0x403bc9(0x1fe)+_0x3da606[_0x403bc9(0x791)]+_0x403bc9(0x4ca));return;}_0x148072[_0x403bc9(0x223)]=_0x148072['blocks'][_0x403bc9(0x58d)](_0x1163f1=>_0x1163f1[_0x403bc9(0x791)][_0x403bc9(0x7b0)]()!==_0x5d074a[_0x403bc9(0x66d)]['_id'][_0x403bc9(0x7b0)]()),_0x148072[_0x403bc9(0x311)]=_0x148072[_0x403bc9(0x311)][_0x403bc9(0x58d)](_0x12d902=>_0x12d902[_0x403bc9(0x81c)]!==_0x3da606[_0x403bc9(0x791)]['toString']()),_0x148072['varedits']=_0x148072[_0x403bc9(0x58f)]['filter'](_0x285810=>_0x285810['blockId']!==_0x3da606['_id'][_0x403bc9(0x7b0)]()),_0x148072['replyOptions']=_0x148072[_0x403bc9(0x58a)]['filter'](_0xd16bae=>_0xd16bae[_0x403bc9(0x81c)]!==_0x3da606['_id'][_0x403bc9(0x7b0)]()),this[_0x403bc9(0x282)](_0x148072[_0x403bc9(0x223)],_0x225ac8[_0x403bc9(0x83e)]);}async[a0_0x4c01ce(0x648)](_0x34f179,_0x114bfe){const _0x26c0ee=a0_0x4c01ce;let _0x586ee5=_0x34f179[_0x26c0ee(0x223)]['findIndex'](_0x4de9b9=>_0x4de9b9[_0x26c0ee(0x791)][_0x26c0ee(0x7b0)]()===_0x114bfe[_0x26c0ee(0x66d)]['_id'][_0x26c0ee(0x7b0)]());if(this[_0x26c0ee(0x42f)][_0x26c0ee(0x83f)](this[_0x26c0ee(0x492)]+'\x20('+this[_0x26c0ee(0x278)][_0x26c0ee(0x8d6)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x586ee5),_0x586ee5===-0x1){this['logger']['verbose'](_0x26c0ee(0x1fe)+_0x114bfe[_0x26c0ee(0x66d)]['_id']+_0x26c0ee(0x28a));return;}if(_0x34f179[_0x26c0ee(0x223)][_0x586ee5][_0x26c0ee(0x7af)]===_0x26c0ee(0x39f)){let _0x14a4d1=Object['keys'](_0x114bfe[_0x26c0ee(0x66d)]);if(_0x14a4d1[_0x26c0ee(0x72e)]>0x2||_0x14a4d1[_0x26c0ee(0x72e)]===0x2&&!_0x14a4d1[_0x26c0ee(0x570)](_0x26c0ee(0x5b0))){this['throwAndLogError']('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x505449=_0x34f179[_0x26c0ee(0x223)][_0x586ee5][_0x26c0ee(0x83e)];for(let _0x26f5ca in _0x114bfe[_0x26c0ee(0x66d)])_0x114bfe[_0x26c0ee(0x66d)][_0x26c0ee(0x8e6)](_0x26f5ca)&&(_0x34f179['blocks'][_0x586ee5][_0x26f5ca]=_0x114bfe[_0x26c0ee(0x66d)][_0x26f5ca]);if(this[_0x26c0ee(0x42f)][_0x26c0ee(0x83f)](this['instanceName']+'\x20('+this[_0x26c0ee(0x278)][_0x26c0ee(0x8d6)]+_0x26c0ee(0x5a2)+JSON[_0x26c0ee(0x1af)](_0x34f179[_0x26c0ee(0x223)][_0x586ee5])),_0x34f179[_0x26c0ee(0x223)][_0x586ee5][_0x26c0ee(0x70a)]&&'header'in _0x34f179[_0x26c0ee(0x223)][_0x586ee5][_0x26c0ee(0x70a)]){this[_0x26c0ee(0x42f)][_0x26c0ee(0x83f)](this['instanceName']+'\x20('+this[_0x26c0ee(0x278)]['wuid']+_0x26c0ee(0x27a));let _0x133c5a=JSON[_0x26c0ee(0x1af)](_0x34f179['blocks'][_0x586ee5][_0x26c0ee(0x70a)][_0x26c0ee(0x605)],null,0x1);_0x133c5a[_0x26c0ee(0x72e)]>0x2&&(_0x133c5a=_0x133c5a['substring'](0x1,_0x133c5a['length']-0x1)[_0x26c0ee(0x67e)]()),_0x34f179[_0x26c0ee(0x223)][_0x586ee5][_0x26c0ee(0x70a)][_0x26c0ee(0x2e6)]=_0x133c5a;}if(_0x34f179[_0x26c0ee(0x223)][_0x586ee5][_0x26c0ee(0x70a)]&&_0x26c0ee(0x1e5)in _0x34f179[_0x26c0ee(0x223)][_0x586ee5][_0x26c0ee(0x70a)]&&!('bodyString'in _0x34f179['blocks'][_0x586ee5][_0x26c0ee(0x70a)])){this[_0x26c0ee(0x42f)][_0x26c0ee(0x83f)](this['instanceName']+'\x20('+this[_0x26c0ee(0x278)][_0x26c0ee(0x8d6)]+_0x26c0ee(0x613)),_0x34f179['blocks'][_0x586ee5][_0x26c0ee(0x70a)][_0x26c0ee(0x554)]=!0x1;let _0x346761=JSON[_0x26c0ee(0x1af)](_0x34f179[_0x26c0ee(0x223)][_0x586ee5]['apirequest'][_0x26c0ee(0x1e5)],null,0x2);_0x34f179[_0x26c0ee(0x223)][_0x586ee5]['apirequest'][_0x26c0ee(0x3d9)]=_0x346761;}if(_0x34f179[_0x26c0ee(0x223)][_0x586ee5][_0x26c0ee(0x70a)]&&_0x26c0ee(0x3d9)in _0x34f179[_0x26c0ee(0x223)][_0x586ee5]['apirequest']){_0x34f179[_0x26c0ee(0x223)][_0x586ee5][_0x26c0ee(0x70a)][_0x26c0ee(0x554)]=!0x1;let _0x786e60=_0x34f179[_0x26c0ee(0x223)][_0x586ee5][_0x26c0ee(0x70a)][_0x26c0ee(0x3d9)],_0x14b26=this['beautifyWithPlaceholders'](_0x786e60);_0x34f179[_0x26c0ee(0x223)][_0x586ee5]['apirequest'][_0x26c0ee(0x3d9)]=_0x14b26[_0x26c0ee(0x543)],_0x34f179[_0x26c0ee(0x223)][_0x586ee5]['apirequest'][_0x26c0ee(0x554)]=_0x14b26[_0x26c0ee(0x82d)];}let _0x4ee79b=_0x34f179[_0x26c0ee(0x223)][_0x586ee5][_0x26c0ee(0x83e)];_0x505449!==_0x4ee79b?(this[_0x26c0ee(0x282)](_0x34f179[_0x26c0ee(0x223)],_0x505449),this[_0x26c0ee(0x282)](_0x34f179['blocks'],_0x4ee79b)):this[_0x26c0ee(0x282)](_0x34f179[_0x26c0ee(0x223)],_0x505449);}[a0_0x4c01ce(0x881)](_0x401dcf){const _0x4e260f=a0_0x4c01ce;let _0x39d67a='\u205f',_0x2910ea=!0x1,_0x525901='';for(let _0x36170c=0x0;_0x36170c<_0x401dcf[_0x4e260f(0x72e)];_0x36170c++){let _0x125fcf=_0x401dcf[_0x36170c];_0x125fcf==='\x22'&&(_0x36170c===0x0||_0x401dcf[_0x36170c-0x1]!=='\x5c')&&(_0x2910ea=!_0x2910ea),!(!_0x2910ea&&(_0x125fcf==='\x0a'||_0x125fcf==='\x20'||_0x125fcf===_0x39d67a))&&(_0x525901+=_0x125fcf);}let _0x1c71e2={},_0x330fb1=9876543210.1234,_0x39228a=_0x525901[_0x4e260f(0x7ea)](/\{\{([^}]+)\}\}/g,_0x1c83e9=>{let _0x51d38a=_0x1c83e9,_0x2ea2a2=''+_0x330fb1;return _0x1c71e2[_0x2ea2a2]=_0x51d38a,_0x330fb1+=0.0001,_0x2ea2a2;}),_0x433e55='',_0x4e2d13=!0x1;try{let _0x37c3be=JSON[_0x4e260f(0x2c1)](_0x39228a);_0x433e55=JSON[_0x4e260f(0x1af)](_0x37c3be,null,0x2),_0x433e55=_0x433e55[_0x4e260f(0x7ea)](/\n( +)/g,(_0x22486a,_0x1f6f64)=>{const _0x1b3851=_0x4e260f;let _0x30f957=_0x1f6f64[_0x1b3851(0x72e)];return'\x0a'+_0x39d67a[_0x1b3851(0x1e3)](_0x30f957*0x2);}),_0x433e55=_0x433e55[_0x4e260f(0x7ea)](/(\d{10,}\.\d+)/g,_0x483af5=>_0x1c71e2[_0x483af5]||_0x483af5);}catch(_0x1904da){this['logger'][_0x4e260f(0x82d)](_0x4e260f(0x207)+_0x1904da),_0x433e55=_0x401dcf,_0x4e2d13=!0x0;}return{'result':_0x433e55,'error':_0x4e2d13};}['addBlock'](_0x4044bf,_0xc0699a){const _0x37e9cd=a0_0x4c01ce;if(_0xc0699a[_0x37e9cd(0x66d)][_0x37e9cd(0x7af)]===_0x37e9cd(0x39f)){this[_0x37e9cd(0x53e)](_0x37e9cd(0x762));return;}if(_0xc0699a[_0x37e9cd(0x66d)][_0x37e9cd(0x70a)]&&'header'in _0xc0699a[_0x37e9cd(0x66d)]['apirequest']){this[_0x37e9cd(0x42f)]['verbose'](this['instanceName']+'\x20('+this[_0x37e9cd(0x278)][_0x37e9cd(0x8d6)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x4405c0=JSON[_0x37e9cd(0x1af)](_0xc0699a[_0x37e9cd(0x66d)]['apirequest']['header'],null,0x1);_0x4405c0['length']>0x2&&(_0x4405c0=_0x4405c0[_0x37e9cd(0x5b8)](0x1,_0x4405c0[_0x37e9cd(0x72e)]-0x1)['trim']()),_0xc0699a[_0x37e9cd(0x66d)][_0x37e9cd(0x70a)][_0x37e9cd(0x2e6)]=_0x4405c0;}_0xc0699a[_0x37e9cd(0x66d)][_0x37e9cd(0x70a)]&&_0x37e9cd(0x1e5)in _0xc0699a[_0x37e9cd(0x66d)]['apirequest']&&(this['logger'][_0x37e9cd(0x83f)](this[_0x37e9cd(0x492)]+'\x20('+this['instance'][_0x37e9cd(0x8d6)]+_0x37e9cd(0x613)),_0xc0699a[_0x37e9cd(0x66d)][_0x37e9cd(0x70a)]['bodyString']=JSON['stringify'](_0xc0699a[_0x37e9cd(0x66d)][_0x37e9cd(0x70a)][_0x37e9cd(0x1e5)],null,0x1)[_0x37e9cd(0x67e)]()),_0x4044bf[_0x37e9cd(0x223)]['push'](_0xc0699a['block']),this[_0x37e9cd(0x282)](_0x4044bf[_0x37e9cd(0x223)],_0xc0699a[_0x37e9cd(0x66d)][_0x37e9cd(0x83e)]);}[a0_0x4c01ce(0x282)](_0x4b81d7,_0x46d76f){const _0x34e9a5=a0_0x4c01ce;let _0x46a3c0=_0x4b81d7[_0x34e9a5(0x58d)](_0x4a2167=>_0x4a2167[_0x34e9a5(0x83e)]===_0x46d76f);_0x46a3c0[_0x34e9a5(0x7cd)]((_0x4a2b5f,_0x4ce73d)=>_0x4a2b5f[_0x34e9a5(0x2cc)]-_0x4ce73d[_0x34e9a5(0x2cc)]),_0x46a3c0[_0x34e9a5(0x68b)]((_0x1157a6,_0x349620)=>_0x1157a6['order']=_0x349620+0x1);}async[a0_0x4c01ce(0x3f7)](_0x5c1670){const _0x2aa7f1=a0_0x4c01ce;try{if(this['logger'][_0x2aa7f1(0x83f)](this[_0x2aa7f1(0x492)]+'\x20('+this[_0x2aa7f1(0x278)][_0x2aa7f1(0x8d6)]+_0x2aa7f1(0x76f)),!_0x5c1670||!_0x5c1670['replyOption']){this[_0x2aa7f1(0x53e)](_0x2aa7f1(0x668));return;}if(!this[_0x2aa7f1(0x238)]['flows'][_0x2aa7f1(0x361)](_0x5b405a=>_0x5b405a[_0x2aa7f1(0x791)]===_0x5c1670[_0x2aa7f1(0x791)]))throw this['logger'][_0x2aa7f1(0x83f)](this[_0x2aa7f1(0x492)]+'\x20('+this['instance'][_0x2aa7f1(0x8d6)]+'):\x20Fluxo\x20\x27'+_0x5c1670[_0x2aa7f1(0x791)]+_0x2aa7f1(0x348)),new m(_0x2aa7f1(0x1de));let _0x96b7b4=await this[_0x2aa7f1(0x3b3)]['flow'][_0x2aa7f1(0x280)]({'where':{'_id':_0x5c1670[_0x2aa7f1(0x791)]}});if(!_0x96b7b4||!_0x96b7b4['whoCanUse']?.['includes'](this[_0x2aa7f1(0x278)][_0x2aa7f1(0x8d6)]))throw this['logger'][_0x2aa7f1(0x82d)](this[_0x2aa7f1(0x492)]+'\x20('+this[_0x2aa7f1(0x278)][_0x2aa7f1(0x8d6)]+_0x2aa7f1(0x8bb)+_0x5c1670[_0x2aa7f1(0x791)]+_0x2aa7f1(0x453)),new m(_0x2aa7f1(0x2a9)+_0x5c1670[_0x2aa7f1(0x791)]+_0x2aa7f1(0x453));if(!_0x96b7b4[_0x2aa7f1(0x7f0)]?.[_0x2aa7f1(0x570)](this[_0x2aa7f1(0x278)][_0x2aa7f1(0x8d6)]))throw new m(_0x2aa7f1(0x3fe));let {replyOption:_0x3f6073}=_0x5c1670;_0x3f6073?.[_0x2aa7f1(0x85f)]?(this[_0x2aa7f1(0x250)](_0x96b7b4,_0x5c1670),this[_0x2aa7f1(0x8d4)](_0x96b7b4[_0x2aa7f1(0x58a)],_0x5c1670[_0x2aa7f1(0x21a)][_0x2aa7f1(0x81c)])):_0x3f6073[_0x2aa7f1(0x791)]?(await this[_0x2aa7f1(0x470)](_0x96b7b4,_0x5c1670),this[_0x2aa7f1(0x8d4)](_0x96b7b4[_0x2aa7f1(0x58a)],_0x5c1670[_0x2aa7f1(0x21a)][_0x2aa7f1(0x81c)])):(this[_0x2aa7f1(0x2d8)](_0x96b7b4,_0x5c1670),this['reorderReplyOptions'](_0x96b7b4[_0x2aa7f1(0x58a)],_0x5c1670[_0x2aa7f1(0x21a)][_0x2aa7f1(0x81c)]));let _0x5d6123=await this[_0x2aa7f1(0x3b3)][_0x2aa7f1(0x1a1)]['updateOne'](_0x96b7b4[_0x2aa7f1(0x791)],_0x96b7b4);if(!_0x5d6123)throw new Error(_0x2aa7f1(0x5d9));return _0x5d6123;}catch(_0x2f1917){this[_0x2aa7f1(0x53e)](_0x2aa7f1(0x6df)+_0x2f1917);}}[a0_0x4c01ce(0x8d4)](_0x21adc0,_0x486e0f){const _0xa77b4b=a0_0x4c01ce;_0x21adc0[_0xa77b4b(0x68b)](_0x4e4afe=>{const _0x2602d3=_0xa77b4b;_0x4e4afe[_0x2602d3(0x81c)]===_0x486e0f&&_0x4e4afe[_0x2602d3(0x2cc)]===void 0x0&&(_0x4e4afe['order']=0x270f);});let _0x1ca262=_0x21adc0[_0xa77b4b(0x58d)](_0x530590=>_0x530590['blockId']===_0x486e0f);_0x1ca262[_0xa77b4b(0x7cd)]((_0xb243a2,_0x26443b)=>_0xb243a2[_0xa77b4b(0x2cc)]-_0x26443b[_0xa77b4b(0x2cc)]),_0x1ca262[_0xa77b4b(0x68b)]((_0x5e306d,_0x2c3a10)=>{const _0x4661d6=_0xa77b4b;_0x5e306d[_0x4661d6(0x2cc)]=_0x2c3a10+0x1;}),_0x21adc0['forEach'](_0x59fd70=>{const _0x1c71b6=_0xa77b4b;if(_0x59fd70[_0x1c71b6(0x81c)]===_0x486e0f){let _0x551425=_0x1ca262['find'](_0x1427ce=>_0x1427ce[_0x1c71b6(0x791)]&&_0x59fd70[_0x1c71b6(0x791)]&&_0x1427ce[_0x1c71b6(0x791)]['toString']()===_0x59fd70[_0x1c71b6(0x791)]['toString']());_0x551425&&(_0x59fd70['order']=_0x551425[_0x1c71b6(0x2cc)]);}});}[a0_0x4c01ce(0x250)](_0x7b68d0,_0x143784){const _0x3d706e=a0_0x4c01ce;let {replyOption:_0x3adbde}=_0x143784;if(!_0x3adbde[_0x3d706e(0x791)]){this[_0x3d706e(0x53e)](_0x3d706e(0x2c2));return;}if(!_0x7b68d0['replyOptions'][_0x3d706e(0x361)](_0x4ee65a=>_0x4ee65a[_0x3d706e(0x791)][_0x3d706e(0x7b0)]()===_0x143784['replyOption']['_id']['toString']())){this[_0x3d706e(0x53e)](_0x3d706e(0x428)+_0x3adbde['_id']+_0x3d706e(0x4ca));return;}_0x7b68d0[_0x3d706e(0x58a)]=_0x7b68d0[_0x3d706e(0x58a)][_0x3d706e(0x58d)](_0xeedaa7=>_0xeedaa7[_0x3d706e(0x791)][_0x3d706e(0x7b0)]()!==_0x143784[_0x3d706e(0x21a)]['_id'][_0x3d706e(0x7b0)]());}async[a0_0x4c01ce(0x470)](_0x10a1d2,_0x3f1758){const _0xd14f0c=a0_0x4c01ce;let _0x22c207=_0x10a1d2[_0xd14f0c(0x58a)]['findIndex'](_0x33bb4d=>_0x33bb4d['_id'][_0xd14f0c(0x7b0)]()===_0x3f1758['replyOption']['_id'][_0xd14f0c(0x7b0)]());if(_0x22c207===-0x1){this[_0xd14f0c(0x53e)](_0xd14f0c(0x428)+_0x3f1758[_0xd14f0c(0x21a)][_0xd14f0c(0x791)]+_0xd14f0c(0x28a));return;}for(let _0x2025ff in _0x3f1758[_0xd14f0c(0x21a)])_0x3f1758['replyOption'][_0xd14f0c(0x8e6)](_0x2025ff)&&(_0x10a1d2['replyOptions'][_0x22c207][_0x2025ff]=_0x3f1758[_0xd14f0c(0x21a)][_0x2025ff]);}[a0_0x4c01ce(0x2d8)](_0x4c508d,_0x1efbfa){const _0x6f245f=a0_0x4c01ce;_0x4c508d['replyOptions'][_0x6f245f(0x835)](_0x1efbfa['replyOption']);}async['editFlowGroup'](_0x2feea0){const _0x13ffbc=a0_0x4c01ce;this[_0x13ffbc(0x42f)][_0x13ffbc(0x83f)](this[_0x13ffbc(0x492)]+'\x20('+this[_0x13ffbc(0x278)]['wuid']+_0x13ffbc(0x318)+JSON[_0x13ffbc(0x1af)](_0x2feea0,null,0x2));try{if(this[_0x13ffbc(0x42f)][_0x13ffbc(0x83f)](this[_0x13ffbc(0x492)]+'\x20('+this[_0x13ffbc(0x278)][_0x13ffbc(0x8d6)]+_0x13ffbc(0x658)),!this[_0x13ffbc(0x238)][_0x13ffbc(0x327)][_0x13ffbc(0x361)](_0x4cd388=>_0x4cd388[_0x13ffbc(0x791)]===_0x2feea0[_0x13ffbc(0x791)]))throw this['logger'][_0x13ffbc(0x83f)](this[_0x13ffbc(0x492)]+'\x20('+this['instance'][_0x13ffbc(0x8d6)]+_0x13ffbc(0x77b)+_0x2feea0[_0x13ffbc(0x791)]+_0x13ffbc(0x348)),new m(_0x13ffbc(0x1de));let _0x7ac940=await this[_0x13ffbc(0x3b3)][_0x13ffbc(0x1a1)][_0x13ffbc(0x280)]({'where':{'_id':_0x2feea0[_0x13ffbc(0x791)]}});if(!_0x7ac940||!_0x7ac940[_0x13ffbc(0x2df)]?.['includes'](this[_0x13ffbc(0x278)][_0x13ffbc(0x8d6)]))throw this[_0x13ffbc(0x42f)][_0x13ffbc(0x82d)](this[_0x13ffbc(0x492)]+'\x20('+this[_0x13ffbc(0x278)][_0x13ffbc(0x8d6)]+_0x13ffbc(0x8bb)+_0x2feea0[_0x13ffbc(0x791)]+_0x13ffbc(0x453)),new m('Flow\x20\x27'+_0x2feea0[_0x13ffbc(0x791)]+_0x13ffbc(0x453));if(!_0x7ac940[_0x13ffbc(0x7f0)]?.[_0x13ffbc(0x570)](this[_0x13ffbc(0x278)]['wuid']))throw new m(_0x13ffbc(0x3fe));if(_0x2feea0[_0x13ffbc(0x6e4)]&&_0x2feea0[_0x13ffbc(0x6e4)]?.[_0x13ffbc(0x85f)]===!0x0){if(this[_0x13ffbc(0x42f)][_0x13ffbc(0x83f)](this[_0x13ffbc(0x492)]+'\x20('+this[_0x13ffbc(0x278)][_0x13ffbc(0x8d6)]+_0x13ffbc(0x3df)),_0x2feea0[_0x13ffbc(0x6e4)][_0x13ffbc(0x831)]===!0x0)return{'message':_0x13ffbc(0x5a1)};if(_0x7ac940['blocks'][_0x13ffbc(0x5ed)](_0x212a21=>_0x212a21[_0x13ffbc(0x83e)][_0x13ffbc(0x7b0)]()===_0x2feea0[_0x13ffbc(0x6e4)][_0x13ffbc(0x791)]))return this[_0x13ffbc(0x42f)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x13ffbc(0x8d6)]+_0x13ffbc(0x336)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x7ac940[_0x13ffbc(0x773)]=_0x7ac940[_0x13ffbc(0x773)][_0x13ffbc(0x58d)](_0x37dcb2=>_0x37dcb2[_0x13ffbc(0x791)]['toString']()!==_0x2feea0[_0x13ffbc(0x6e4)]['_id']);}else{if(_0x2feea0['group']){if(_0x2feea0['group'][_0x13ffbc(0x831)]===!0x0)return{'message':_0x13ffbc(0x8ca)};if(_0x2feea0[_0x13ffbc(0x6e4)][_0x13ffbc(0x791)]){let _0x270cc6=_0x7ac940[_0x13ffbc(0x773)]['find'](_0x5838db=>_0x5838db[_0x13ffbc(0x791)][_0x13ffbc(0x7b0)]()===_0x2feea0[_0x13ffbc(0x6e4)][_0x13ffbc(0x791)]);_0x270cc6&&(_0x2feea0[_0x13ffbc(0x6e4)]['x']<0x0&&(_0x2feea0[_0x13ffbc(0x6e4)]['x']=0x0),_0x2feea0[_0x13ffbc(0x6e4)]['y']<0x0&&(_0x2feea0[_0x13ffbc(0x6e4)]['y']=0x0),Object[_0x13ffbc(0x551)](_0x270cc6,_0x2feea0[_0x13ffbc(0x6e4)]));}else _0x7ac940[_0x13ffbc(0x773)][_0x13ffbc(0x835)](_0x2feea0['group']);}}let _0x52c6c8=await this[_0x13ffbc(0x3b3)][_0x13ffbc(0x1a1)]['updateOne'](_0x7ac940[_0x13ffbc(0x791)],_0x7ac940);if(!_0x52c6c8)throw new Error(_0x13ffbc(0x5d9));return _0x52c6c8;}catch(_0x3c7aac){let _0xf9816d=_0x13ffbc(0x599),_0xb65339=_0x3c7aac instanceof Error?_0x3c7aac['message']:typeof _0x3c7aac=='object'?JSON[_0x13ffbc(0x1af)](_0x3c7aac):_0x3c7aac,_0x52392f=_0xf9816d+':\x20'+_0xb65339;throw this[_0x13ffbc(0x42f)][_0x13ffbc(0x82d)](this['instanceName']+'\x20('+this[_0x13ffbc(0x278)][_0x13ffbc(0x8d6)]+_0x13ffbc(0x6b7)+_0x52392f),new m(_0x52392f);}}async[a0_0x4c01ce(0x79c)](_0x8af252){const _0x3695ee=a0_0x4c01ce;try{if(this[_0x3695ee(0x42f)][_0x3695ee(0x83f)](this[_0x3695ee(0x492)]+'\x20('+this[_0x3695ee(0x278)][_0x3695ee(0x8d6)]+_0x3695ee(0x2ed)),!this[_0x3695ee(0x238)][_0x3695ee(0x327)][_0x3695ee(0x361)](_0x463fb7=>_0x463fb7[_0x3695ee(0x791)]===_0x8af252[_0x3695ee(0x791)]))throw this['logger'][_0x3695ee(0x83f)](this['instanceName']+'\x20('+this[_0x3695ee(0x278)][_0x3695ee(0x8d6)]+_0x3695ee(0x77b)+_0x8af252[_0x3695ee(0x791)]+_0x3695ee(0x348)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x5c1747=await this[_0x3695ee(0x3b3)][_0x3695ee(0x1a1)]['findOne']({'where':{'_id':_0x8af252['_id']}});if(!_0x5c1747||!_0x5c1747[_0x3695ee(0x2df)]?.[_0x3695ee(0x570)](this['instance'][_0x3695ee(0x8d6)]))throw this[_0x3695ee(0x42f)]['error'](this[_0x3695ee(0x492)]+'\x20('+this[_0x3695ee(0x278)][_0x3695ee(0x8d6)]+_0x3695ee(0x8bb)+_0x8af252['_id']+_0x3695ee(0x453)),new m(_0x3695ee(0x2a9)+_0x8af252['_id']+_0x3695ee(0x453));if(!_0x5c1747[_0x3695ee(0x7f0)]?.['includes'](this['instance'][_0x3695ee(0x8d6)]))throw new m(_0x3695ee(0x3fe));let _0x11d344=!0x1;if(_0x8af252[_0x3695ee(0x7e8)]?.['delete']===!0x0)_0x5c1747[_0x3695ee(0x311)]=_0x5c1747[_0x3695ee(0x311)][_0x3695ee(0x58d)](_0x22a37a=>_0x22a37a&&_0x8af252[_0x3695ee(0x7e8)]&&_0x22a37a[_0x3695ee(0x791)]&&_0x8af252[_0x3695ee(0x7e8)][_0x3695ee(0x791)]&&_0x22a37a['_id'][_0x3695ee(0x7b0)]()!==_0x8af252[_0x3695ee(0x7e8)][_0x3695ee(0x791)][_0x3695ee(0x7b0)]()),_0x11d344=!0x0;else{let _0x31a75f=_0x5c1747[_0x3695ee(0x311)][_0x3695ee(0x361)](_0x4a501e=>_0x4a501e&&_0x8af252[_0x3695ee(0x7e8)]&&_0x4a501e[_0x3695ee(0x791)]&&_0x8af252[_0x3695ee(0x7e8)][_0x3695ee(0x791)]&&_0x4a501e[_0x3695ee(0x791)]['toString']()===_0x8af252['condition'][_0x3695ee(0x791)][_0x3695ee(0x7b0)]());_0x31a75f?(_0x11d344=_0x31a75f[_0x3695ee(0x2cc)]!==_0x8af252[_0x3695ee(0x7e8)][_0x3695ee(0x2cc)],Object[_0x3695ee(0x551)](_0x31a75f,_0x8af252[_0x3695ee(0x7e8)])):(_0x5c1747[_0x3695ee(0x311)][_0x3695ee(0x835)](_0x8af252['condition']),_0x11d344=!0x0);}if(_0x11d344){_0x5c1747['conditions']['sort']((_0x15b8eb,_0x31d852)=>_0x15b8eb[_0x3695ee(0x2cc)]>_0x31d852[_0x3695ee(0x2cc)]?0x1:_0x31d852[_0x3695ee(0x2cc)]>_0x15b8eb[_0x3695ee(0x2cc)]?-0x1:0x0);for(let _0x25bd1d=0x0;_0x25bd1d<_0x5c1747[_0x3695ee(0x311)]['length'];_0x25bd1d++)_0x5c1747[_0x3695ee(0x311)][_0x25bd1d][_0x3695ee(0x2cc)]=_0x25bd1d+0x1;_0x5c1747[_0x3695ee(0x311)][_0x3695ee(0x72e)]>0x0&&(_0x5c1747[_0x3695ee(0x311)][0x0][_0x3695ee(0x678)]=_0x3695ee(0x787));}let _0x327447=await this[_0x3695ee(0x3b3)][_0x3695ee(0x1a1)][_0x3695ee(0x3e7)](_0x5c1747[_0x3695ee(0x791)],_0x5c1747);if(!_0x327447)throw new Error(_0x3695ee(0x5d9));return _0x327447;}catch(_0x3b0a45){let _0xfa35e2=_0x3695ee(0x76a),_0x83f6ed=_0x3b0a45 instanceof Error?_0x3b0a45[_0x3695ee(0x7c9)]:typeof _0x3b0a45==_0x3695ee(0x28b)?JSON[_0x3695ee(0x1af)](_0x3b0a45):_0x3b0a45,_0x117a03=_0xfa35e2+':\x20'+_0x83f6ed;throw this[_0x3695ee(0x42f)][_0x3695ee(0x82d)](this[_0x3695ee(0x492)]+'\x20('+this['instance'][_0x3695ee(0x8d6)]+_0x3695ee(0x6b7)+_0x117a03),new m(_0x117a03);}}async[a0_0x4c01ce(0x463)](_0x4837a4){const _0x446256=a0_0x4c01ce;try{if(this[_0x446256(0x42f)]['verbose'](this[_0x446256(0x492)]+'\x20('+this[_0x446256(0x278)]['wuid']+'):\x20Editando\x20edição\x20do\x20fluxo...'),!this[_0x446256(0x238)]['flows'][_0x446256(0x361)](_0x3dfa6a=>_0x3dfa6a[_0x446256(0x791)]===_0x4837a4[_0x446256(0x791)]))throw this['logger'][_0x446256(0x83f)](this['instanceName']+'\x20('+this[_0x446256(0x278)][_0x446256(0x8d6)]+'):\x20Fluxo\x20\x27'+_0x4837a4['_id']+_0x446256(0x348)),new m(_0x446256(0x1de));let _0x16150c=await this[_0x446256(0x3b3)][_0x446256(0x1a1)][_0x446256(0x280)]({'where':{'_id':_0x4837a4['_id']}});if(!_0x16150c||!_0x16150c[_0x446256(0x2df)]?.[_0x446256(0x570)](this[_0x446256(0x278)]['wuid']))throw this[_0x446256(0x42f)][_0x446256(0x82d)](this[_0x446256(0x492)]+'\x20('+this[_0x446256(0x278)][_0x446256(0x8d6)]+_0x446256(0x8bb)+_0x4837a4['_id']+_0x446256(0x453)),new m(_0x446256(0x2a9)+_0x4837a4['_id']+_0x446256(0x453));if(!_0x16150c[_0x446256(0x7f0)]?.[_0x446256(0x570)](this['instance'][_0x446256(0x8d6)]))throw new m(_0x446256(0x3fe));let _0x451d53=!0x1;if(_0x4837a4[_0x446256(0x6ab)]?.[_0x446256(0x85f)]===!0x0)_0x16150c['varedits']=_0x16150c[_0x446256(0x58f)][_0x446256(0x58d)](_0x30507b=>_0x30507b&&_0x4837a4[_0x446256(0x6ab)]&&_0x30507b[_0x446256(0x791)]&&_0x4837a4[_0x446256(0x6ab)]['_id']&&_0x30507b[_0x446256(0x791)]['toString']()!==_0x4837a4[_0x446256(0x6ab)][_0x446256(0x791)]['toString']()),_0x451d53=!0x0;else{let _0x26e8d4=_0x16150c[_0x446256(0x58f)][_0x446256(0x361)](_0x4496aa=>_0x4496aa&&_0x4837a4['varedit']&&_0x4496aa[_0x446256(0x791)]&&_0x4837a4[_0x446256(0x6ab)][_0x446256(0x791)]&&_0x4496aa[_0x446256(0x791)][_0x446256(0x7b0)]()===_0x4837a4[_0x446256(0x6ab)][_0x446256(0x791)][_0x446256(0x7b0)]());_0x26e8d4?(_0x451d53=_0x26e8d4[_0x446256(0x2cc)]!==_0x4837a4[_0x446256(0x6ab)][_0x446256(0x2cc)],Object[_0x446256(0x551)](_0x26e8d4,_0x4837a4[_0x446256(0x6ab)])):(_0x16150c[_0x446256(0x58f)][_0x446256(0x835)](_0x4837a4['varedit']),_0x451d53=!0x0);}if(_0x451d53){_0x16150c[_0x446256(0x58f)][_0x446256(0x7cd)]((_0x12d0e2,_0x4fe56b)=>_0x12d0e2[_0x446256(0x2cc)]>_0x4fe56b['order']?0x1:_0x4fe56b[_0x446256(0x2cc)]>_0x12d0e2['order']?-0x1:0x0);for(let _0x26cab9=0x0;_0x26cab9<_0x16150c[_0x446256(0x58f)][_0x446256(0x72e)];_0x26cab9++)_0x16150c[_0x446256(0x58f)][_0x26cab9][_0x446256(0x2cc)]=_0x26cab9+0x1;}let _0x1d2fce=await this['repository'][_0x446256(0x1a1)][_0x446256(0x3e7)](_0x16150c[_0x446256(0x791)],_0x16150c);if(!_0x1d2fce)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x1d2fce;}catch(_0x43d2a9){let _0x341566=_0x446256(0x76a),_0x1fd4f8=_0x43d2a9 instanceof Error?_0x43d2a9[_0x446256(0x7c9)]:typeof _0x43d2a9==_0x446256(0x28b)?JSON['stringify'](_0x43d2a9):_0x43d2a9,_0x4c7d22=_0x341566+':\x20'+_0x1fd4f8;throw this[_0x446256(0x42f)][_0x446256(0x82d)](this['instanceName']+'\x20('+this[_0x446256(0x278)][_0x446256(0x8d6)]+_0x446256(0x6b7)+_0x4c7d22),new m(_0x4c7d22);}}async[a0_0x4c01ce(0x759)](_0x24996f){const _0x106cbb=a0_0x4c01ce;try{if(this[_0x106cbb(0x42f)][_0x106cbb(0x83f)](this[_0x106cbb(0x492)]+'\x20('+this[_0x106cbb(0x278)][_0x106cbb(0x8d6)]+'):\x20Editando\x20variável\x20do\x20fluxo...'),!this[_0x106cbb(0x238)]['flows']['find'](_0x36a28d=>_0x36a28d[_0x106cbb(0x791)]===_0x24996f[_0x106cbb(0x791)]))throw this['logger'][_0x106cbb(0x83f)](this[_0x106cbb(0x492)]+'\x20('+this[_0x106cbb(0x278)]['wuid']+_0x106cbb(0x77b)+_0x24996f[_0x106cbb(0x791)]+_0x106cbb(0x348)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x2f724e=await this[_0x106cbb(0x3b3)]['flow']['findOne']({'where':{'_id':_0x24996f['_id']}});if(!_0x2f724e||!_0x2f724e[_0x106cbb(0x2df)]?.[_0x106cbb(0x570)](this[_0x106cbb(0x278)][_0x106cbb(0x8d6)]))throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x106cbb(0x278)][_0x106cbb(0x8d6)]+_0x106cbb(0x8bb)+_0x24996f[_0x106cbb(0x791)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x106cbb(0x2a9)+_0x24996f[_0x106cbb(0x791)]+_0x106cbb(0x453));if(!_0x2f724e['whoCanEdit']?.[_0x106cbb(0x570)](this[_0x106cbb(0x278)][_0x106cbb(0x8d6)]))throw new m(_0x106cbb(0x3fe));_0x24996f[_0x106cbb(0x25c)][_0x106cbb(0x1b3)]=_0x24996f[_0x106cbb(0x25c)][_0x106cbb(0x1b3)]['trim'](),_0x24996f[_0x106cbb(0x25c)][_0x106cbb(0x1b3)][_0x106cbb(0x6cd)]('_')&&(_0x24996f[_0x106cbb(0x25c)][_0x106cbb(0x1b3)]=_0x24996f[_0x106cbb(0x25c)]['name'][_0x106cbb(0x5b8)](0x1)),_0x24996f[_0x106cbb(0x25c)][_0x106cbb(0x1b3)]=_0x24996f['variable'][_0x106cbb(0x1b3)]['trim']();let _0x21de55=_0x2f724e[_0x106cbb(0x513)]['find'](_0x59e4a3=>_0x59e4a3['name']===_0x24996f['variable'][_0x106cbb(0x1b3)]);if(_0x21de55?.[_0x106cbb(0x421)]===!0x0)throw new Error(_0x106cbb(0x23f));if(_0x24996f['variable']?.[_0x106cbb(0x85f)]===!0x0){if(!_0x21de55)return{'message':'Variável\x20não\x20encontrada!'};_0x2f724e['variables']=_0x2f724e[_0x106cbb(0x513)][_0x106cbb(0x58d)](_0x25eb92=>_0x25eb92[_0x106cbb(0x1b3)]!==_0x24996f[_0x106cbb(0x25c)][_0x106cbb(0x1b3)]);}else _0x21de55?Object['assign'](_0x21de55,_0x24996f['variable']):_0x2f724e[_0x106cbb(0x513)][_0x106cbb(0x835)](_0x24996f[_0x106cbb(0x25c)]);let _0x3befd4=await this[_0x106cbb(0x3b3)][_0x106cbb(0x1a1)][_0x106cbb(0x3e7)](_0x2f724e['_id'],_0x2f724e);if(!_0x3befd4)throw new Error(_0x106cbb(0x5d9));return _0x3befd4;}catch(_0x4d2c59){let _0x16835a=_0x106cbb(0x4b9),_0x1266e2=_0x4d2c59 instanceof Error?_0x4d2c59[_0x106cbb(0x7c9)]:typeof _0x4d2c59==_0x106cbb(0x28b)?JSON[_0x106cbb(0x1af)](_0x4d2c59):_0x4d2c59,_0x15568a=_0x16835a+':\x20'+_0x1266e2;throw this[_0x106cbb(0x42f)][_0x106cbb(0x82d)](this[_0x106cbb(0x492)]+'\x20('+this[_0x106cbb(0x278)][_0x106cbb(0x8d6)]+_0x106cbb(0x6b7)+_0x15568a),new m(_0x15568a);}}async[a0_0x4c01ce(0x716)](_0x4a1787){const _0x52ab82=a0_0x4c01ce;let _0x5b8e47=null;try{if(!this[_0x52ab82(0x238)]?.[_0x52ab82(0x26c)][_0x52ab82(0x3ba)])throw new m(_0x52ab82(0x281));this['logger'][_0x52ab82(0x83f)](this[_0x52ab82(0x492)]+'\x20('+this[_0x52ab82(0x278)][_0x52ab82(0x8d6)]+_0x52ab82(0x438));let _0x1fd725=(await this[_0x52ab82(0x20e)]({'numbers':[_0x4a1787[_0x52ab82(0x7df)]]}))[0x0];if(!_0x1fd725['exists']&&!(0x0,w[_0x52ab82(0x75a)])(_0x1fd725[_0x52ab82(0x28d)])&&!_0x1fd725[_0x52ab82(0x28d)][_0x52ab82(0x570)](_0x52ab82(0x3e4)))throw _0x5b8e47=JSON['stringify'](_0x1fd725,null,0x2),new m(_0x1fd725);let _0x212241;if(_0x4a1787[_0x52ab82(0x1b3)][_0x52ab82(0x72e)]===0x24&&/^[0-9a-fA-F-]{36}$/[_0x52ab82(0x846)](_0x4a1787[_0x52ab82(0x1b3)])?_0x212241=this[_0x52ab82(0x238)][_0x52ab82(0x327)][_0x52ab82(0x361)](_0xc9100=>_0xc9100[_0x52ab82(0x791)]===_0x4a1787['name']):_0x212241=this[_0x52ab82(0x238)]['flows'][_0x52ab82(0x361)](_0x56fe0=>_0x56fe0[_0x52ab82(0x1b3)]===_0x4a1787[_0x52ab82(0x1b3)]),!_0x212241)throw this[_0x52ab82(0x42f)][_0x52ab82(0x83f)](this[_0x52ab82(0x492)]+'\x20('+this[_0x52ab82(0x278)]['wuid']+'):\x20Fluxo\x20\x27'+_0x4a1787[_0x52ab82(0x1b3)]+_0x52ab82(0x348)),new m(_0x52ab82(0x1de));let _0x3620cb=await this[_0x52ab82(0x3b3)][_0x52ab82(0x1a1)][_0x52ab82(0x280)]({'where':{'_id':_0x212241[_0x52ab82(0x791)]}});if(!_0x3620cb||!_0x3620cb[_0x52ab82(0x2df)]?.[_0x52ab82(0x570)](this[_0x52ab82(0x278)][_0x52ab82(0x8d6)]))throw this['logger'][_0x52ab82(0x82d)](this[_0x52ab82(0x492)]+'\x20('+this[_0x52ab82(0x278)][_0x52ab82(0x8d6)]+_0x52ab82(0x8bb)+_0x212241[_0x52ab82(0x791)]+_0x52ab82(0x453)),_0x5b8e47=_0x52ab82(0x2a9)+_0x212241[_0x52ab82(0x791)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo',new m(_0x5b8e47);let _0x28c07f=await this[_0x52ab82(0x248)](_0x3620cb,_0x1fd725[_0x52ab82(0x28d)],_0x4a1787['changeVariables']);if(_0x28c07f){this[_0x52ab82(0x42f)][_0x52ab82(0x83f)](this[_0x52ab82(0x492)]+'\x20('+this[_0x52ab82(0x278)][_0x52ab82(0x8d6)]+'):\x20Criou\x20conversa\x20no\x20startFlow');let _0x5e82b5=await this['NextBlock'](_0x28c07f);return _0x5e82b5&&await this[_0x52ab82(0x600)](_0x28c07f,_0x5e82b5),{'message':_0x52ab82(0x845)+_0x4a1787[_0x52ab82(0x7df)]};}}catch(_0x3226c1){if(this[_0x52ab82(0x42f)][_0x52ab82(0x82d)](this[_0x52ab82(0x492)]+'\x20('+this[_0x52ab82(0x278)][_0x52ab82(0x8d6)]+_0x52ab82(0x1d2)+(_0x3226c1 instanceof Error?_0x3226c1['message']:JSON['stringify'](_0x3226c1,null,0x2))),_0x5b8e47=_0x3226c1 instanceof Error?_0x3226c1['message']:JSON[_0x52ab82(0x1af)](_0x3226c1,null,0x2),_0x5b8e47)throw new m(_0x52ab82(0x6d5)+_0x5b8e47);}}async[a0_0x4c01ce(0x87f)](_0x36d3c1,_0x101e12,_0x13d12f){const _0x19651e=a0_0x4c01ce;let _0x4918e2=null;try{if(!this[_0x19651e(0x238)]?.[_0x19651e(0x26c)][_0x19651e(0x3ba)])throw new m(_0x19651e(0x281));if(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x19651e(0x278)][_0x19651e(0x8d6)]+_0x19651e(0x438)),_0x101e12){let _0x1687d2=(await this[_0x19651e(0x20e)]({'numbers':[_0x101e12]}))[0x0];if(!_0x1687d2[_0x19651e(0x27f)]&&!(0x0,w[_0x19651e(0x75a)])(_0x1687d2[_0x19651e(0x28d)])&&!_0x1687d2['jid']['includes'](_0x19651e(0x3e4)))throw _0x4918e2=JSON[_0x19651e(0x1af)](_0x1687d2,null,0x2),new m(_0x1687d2);_0x101e12=_0x1687d2[_0x19651e(0x28d)];}else _0x101e12||(_0x101e12=(0x0,Y['v4'])());let _0x214e31=await this[_0x19651e(0x3b3)][_0x19651e(0x1a1)][_0x19651e(0x280)]({'where':{'_id':_0x36d3c1}});if(!_0x214e31||!_0x214e31[_0x19651e(0x2df)]?.[_0x19651e(0x570)](this[_0x19651e(0x278)][_0x19651e(0x8d6)]))throw this['logger'][_0x19651e(0x82d)](this[_0x19651e(0x492)]+'\x20('+this[_0x19651e(0x278)][_0x19651e(0x8d6)]+_0x19651e(0x8bb)+_0x36d3c1+_0x19651e(0x453)),new m(_0x19651e(0x2a9)+_0x36d3c1+_0x19651e(0x453));let _0x2bd05e=await this[_0x19651e(0x248)](_0x214e31,_0x101e12,null);if(_0x2bd05e){this[_0x19651e(0x42f)][_0x19651e(0x83f)](this[_0x19651e(0x492)]+'\x20('+this['instance']['wuid']+'):\x20Criou\x20conversa\x20no\x20startFlowWebhook');let _0x584015;if(_0x13d12f){let _0x206952=_0x2bd05e['chatLog']['realVariables'],_0x1a64af=this['flattenObject'](_0x13d12f);Object[_0x19651e(0x551)](_0x206952,_0x1a64af),_0x2bd05e['chatLog'][_0x19651e(0x85c)]=_0x206952,_0x584015={'error':!0x1,'apiResponse':_0x13d12f};}let _0x489649=await this[_0x19651e(0x612)](_0x2bd05e);return _0x489649&&await this[_0x19651e(0x600)](_0x2bd05e,_0x489649),{'message':'Flow\x20iniciado'};}}catch(_0x192f02){if(this[_0x19651e(0x42f)][_0x19651e(0x82d)](this['instanceName']+'\x20('+this[_0x19651e(0x278)]['wuid']+_0x19651e(0x1d2)+(_0x192f02 instanceof Error?_0x192f02['message']:JSON['stringify'](_0x192f02,null,0x2))),_0x4918e2=_0x192f02 instanceof Error?_0x192f02[_0x19651e(0x7c9)]:JSON['stringify'](_0x192f02,null,0x2),_0x4918e2)throw new m(_0x19651e(0x6d5)+_0x4918e2);}}async[a0_0x4c01ce(0x46b)](_0x367485){const _0x34ea69=a0_0x4c01ce;try{let _0x4d7612={'remoteJid':_0x367485,'status':_0x34ea69(0x474)},_0x187cc5={'status':'closed'},_0x3bf820=await this[_0x34ea69(0x3b3)][_0x34ea69(0x55f)][_0x34ea69(0x5c4)](_0x4d7612,_0x187cc5,this['instance'][_0x34ea69(0x8d6)]);return this[_0x34ea69(0x42f)][_0x34ea69(0x83f)](this[_0x34ea69(0x492)]+'\x20('+this[_0x34ea69(0x278)][_0x34ea69(0x8d6)]+_0x34ea69(0x54b)),_0x3bf820;}catch(_0x3c5c49){throw this[_0x34ea69(0x42f)][_0x34ea69(0x82d)](this[_0x34ea69(0x492)]+'\x20('+this[_0x34ea69(0x278)][_0x34ea69(0x8d6)]+_0x34ea69(0x44b)+_0x3c5c49['message']),_0x3c5c49;}}async[a0_0x4c01ce(0x248)](_0x944ab,_0x6534e0,_0x5169eb){const _0x44721a=a0_0x4c01ce;this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x44721a(0x8d6)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this[_0x44721a(0x46b)](_0x6534e0);try{let _0x38e953=require('mongodb')[_0x44721a(0x616)],_0x314f23=Date[_0x44721a(0x82e)](),_0x38c96f=_0x44721a(0x39f),_0x1bf101={},_0xd44603={},_0x4e7f0a=this[_0x44721a(0x238)]['flows'][_0x44721a(0x361)](_0x91f075=>_0x91f075[_0x44721a(0x791)]===_0x944ab[_0x44721a(0x791)]?.['toString']()),_0x78b808=_0x4e7f0a?.[_0x44721a(0x750)]??_0x944ab[_0x44721a(0x750)]??0x0,_0x34cc71=_0x4e7f0a?.[_0x44721a(0x262)]??_0x944ab[_0x44721a(0x262)]??!0x1,_0x3a47a7={'flowId':_0x944ab['_id'],..._0x944ab,'chatLog':null},_0x5be7d0=await this[_0x44721a(0x896)](_0x3a47a7['variables']),_0x23af4a=await this[_0x44721a(0x221)](_0x6534e0),_0x41870f={..._0x5be7d0,..._0x23af4a,'_remoteJid':_0x6534e0},_0x134ee2={'lastReceivedMessage':_0x1bf101,'lastSendMessage':_0xd44603,'lastBlockId':_0x38c96f,'lastCondition':!0x0,'realVariables':_0x41870f};_0x3a47a7[_0x44721a(0x322)]=_0x134ee2,_0x3a47a7[_0x44721a(0x322)][_0x44721a(0x85c)]={..._0x41870f,..._0x5169eb},delete _0x3a47a7[_0x44721a(0x791)],_0x3a47a7[_0x44721a(0x791)]=new _0x38e953(),_0x3a47a7['lastInteraction']=_0x314f23,_0x3a47a7[_0x44721a(0x5d6)]=_0x44721a(0x474),_0x3a47a7[_0x44721a(0x7df)]=_0x6534e0,_0x3a47a7['minutesToClose']=_0x78b808,_0x3a47a7['readMessages']=_0x34cc71,_0x3a47a7['_id']=_0x944ab['_id'];let _0x311a21=await this['repository']['flowConversation'][_0x44721a(0x3e7)](_0x3a47a7['_id'],_0x3a47a7,this['instance'][_0x44721a(0x8d6)]);return this[_0x44721a(0x42f)]['verbose'](this[_0x44721a(0x492)]+'\x20('+this[_0x44721a(0x278)][_0x44721a(0x8d6)]+_0x44721a(0x2a8)),_0x311a21?_0x3a47a7:null;}catch(_0x183144){let _0x3e3eae=_0x44721a(0x8e1),_0x54bb39=_0x183144 instanceof Error?_0x183144[_0x44721a(0x7c9)]:typeof _0x183144==_0x44721a(0x28b)?JSON[_0x44721a(0x1af)](_0x183144):_0x183144,_0x51d863=_0x3e3eae+':\x20'+_0x54bb39;throw this['logger'][_0x44721a(0x82d)](this[_0x44721a(0x492)]+'\x20('+this[_0x44721a(0x278)][_0x44721a(0x8d6)]+_0x44721a(0x6b7)+_0x51d863),new m(_0x51d863);}}async[a0_0x4c01ce(0x732)](_0x47bf83){const _0x10b15c=a0_0x4c01ce;try{this[_0x10b15c(0x42f)][_0x10b15c(0x83f)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x10b15c(0x6e7)),this[_0x10b15c(0x42f)][_0x10b15c(0x83f)](this[_0x10b15c(0x492)]+'\x20('+this['instance'][_0x10b15c(0x8d6)]+_0x10b15c(0x335)+_0x47bf83);let _0x323485={'where':{'_id':_0x47bf83}};return await this[_0x10b15c(0x3b3)]['flowConversation']['findOne'](_0x323485,this[_0x10b15c(0x278)][_0x10b15c(0x8d6)]);}catch(_0x2ece46){let _0x475fe1='Erro\x20ao\x20buscar\x20a\x20conversa',_0x33f404=_0x2ece46 instanceof Error?_0x2ece46['message']:typeof _0x2ece46=='object'?JSON[_0x10b15c(0x1af)](_0x2ece46):_0x2ece46,_0x394e04=_0x475fe1+':\x20'+_0x33f404;throw this[_0x10b15c(0x42f)]['error'](this[_0x10b15c(0x492)]+'\x20('+this[_0x10b15c(0x278)]['wuid']+_0x10b15c(0x6b7)+_0x394e04),new m(_0x394e04);}}async[a0_0x4c01ce(0x89a)](_0x1288ed){const _0x305f02=a0_0x4c01ce;try{return this[_0x305f02(0x42f)][_0x305f02(0x83f)](this[_0x305f02(0x492)]+'\x20('+this['instance'][_0x305f02(0x8d6)]+'):\x20Buscando\x20conversas...'),await this[_0x305f02(0x3b3)]['flowConversation'][_0x305f02(0x361)](_0x1288ed,this[_0x305f02(0x278)][_0x305f02(0x8d6)]);}catch(_0x56ab6b){let _0x267c0c=_0x305f02(0x742),_0x273149=_0x56ab6b instanceof Error?_0x56ab6b[_0x305f02(0x7c9)]:typeof _0x56ab6b==_0x305f02(0x28b)?JSON['stringify'](_0x56ab6b):_0x56ab6b,_0x12f396=_0x267c0c+':\x20'+_0x273149;throw this['logger'][_0x305f02(0x82d)](this[_0x305f02(0x492)]+'\x20('+this[_0x305f02(0x278)]['wuid']+_0x305f02(0x6b7)+_0x12f396),new m(_0x12f396);}}async[a0_0x4c01ce(0x4ce)](_0x4b7f92){const _0x4d8d13=a0_0x4c01ce;try{return this[_0x4d8d13(0x42f)][_0x4d8d13(0x83f)](this[_0x4d8d13(0x492)]+'\x20('+this[_0x4d8d13(0x278)][_0x4d8d13(0x8d6)]+'):\x20Deletando\x20conversa...'),this[_0x4d8d13(0x42f)][_0x4d8d13(0x83f)](this[_0x4d8d13(0x492)]+'\x20('+this['instance'][_0x4d8d13(0x8d6)]+_0x4d8d13(0x3a7)+_0x4b7f92),(await this['repository'][_0x4d8d13(0x55f)][_0x4d8d13(0x330)]({'where':{'_id':_0x4b7f92[_0x4d8d13(0x791)]}},this[_0x4d8d13(0x278)][_0x4d8d13(0x8d6)]))['deletedCount']===0x0?{'message':_0x4d8d13(0x1c9)}:{'message':_0x4d8d13(0x3c7)};}catch(_0x1cb4b1){let _0x2cd0c4=_0x4d8d13(0x187),_0x2b0fe3=_0x1cb4b1 instanceof Error?_0x1cb4b1[_0x4d8d13(0x7c9)]:typeof _0x1cb4b1=='object'?JSON[_0x4d8d13(0x1af)](_0x1cb4b1):_0x1cb4b1,_0x45cb15=_0x2cd0c4+':\x20'+_0x2b0fe3;throw this['logger']['error'](this[_0x4d8d13(0x492)]+'\x20('+this['instance']['wuid']+_0x4d8d13(0x6b7)+_0x45cb15),new m(_0x45cb15);}}async['editConversation'](_0x311e25){const _0x3aeb96=a0_0x4c01ce;try{let {_id:_0x265768,chatLog:_0xa2851f,status:_0x4a784e}=_0x311e25;if(!_0x265768)return{'message':_0x3aeb96(0x818)};let _0x570a9a={};if(_0x4a784e!==void 0x0&&(_0x570a9a[_0x3aeb96(0x5d6)]=_0x4a784e),Object[_0x3aeb96(0x6c3)](_0x570a9a)[_0x3aeb96(0x72e)]===0x0)return{'message':_0x3aeb96(0x1f6)};let _0x2ac6c7=await this[_0x3aeb96(0x3b3)][_0x3aeb96(0x55f)]['updateOne'](_0x265768,_0x570a9a,this[_0x3aeb96(0x278)]['wuid']);return _0x2ac6c7||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x270167){let _0x1f0973=_0x3aeb96(0x185),_0x7b3557=_0x270167 instanceof Error?_0x270167['message']:typeof _0x270167==_0x3aeb96(0x28b)?JSON[_0x3aeb96(0x1af)](_0x270167):_0x270167,_0x32bf6c=_0x1f0973+':\x20'+_0x7b3557;throw this[_0x3aeb96(0x42f)][_0x3aeb96(0x82d)](this[_0x3aeb96(0x492)]+'\x20('+this['instance'][_0x3aeb96(0x8d6)]+_0x3aeb96(0x6b7)+_0x32bf6c),new m(_0x32bf6c);}}async[a0_0x4c01ce(0x1ee)](_0xc64fca){const _0x5bceca=a0_0x4c01ce;try{_0xc64fca[_0x5bceca(0x791)]=this['createJid'](_0xc64fca[_0x5bceca(0x791)]);let _0x183ab1=await this[_0x5bceca(0x3b3)][_0x5bceca(0x8c3)]['findOne']({'where':{'_id':_0xc64fca[_0x5bceca(0x791)]}},this['instance'][_0x5bceca(0x8d6)]);if(!_0x183ab1)throw new m('Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo');let {_id:_0x413155,leadInfo:_0x5ccbb6}=_0xc64fca;if(!_0x413155)throw new Error(_0x5bceca(0x2b4));if(_0xc64fca[_0x5bceca(0x85f)]===_0x5bceca(0x1be))return await this[_0x5bceca(0x2be)](_0xc64fca[_0x5bceca(0x791)]),await this[_0x5bceca(0x3b3)][_0x5bceca(0x8c3)][_0x5bceca(0x85f)]({'where':{'_id':_0xc64fca['_id']}},this[_0x5bceca(0x278)][_0x5bceca(0x8d6)]),await this[_0x5bceca(0x3b3)][_0x5bceca(0x7c9)]['delete']({'where':{'key':{'remoteJid':_0xc64fca[_0x5bceca(0x791)]}}},this['instance'][_0x5bceca(0x8d6)]),_0xc64fca=await this['repository'][_0x5bceca(0x8c3)]['updateOne']({'where':{'_id':_0xc64fca['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x5bceca(0x278)]['wuid']),F(this['instanceName'],_0x5bceca(0x483),{'chat':_0xc64fca}),{'message':_0x5bceca(0x80e)};if(_0xc64fca['delete']===_0x5bceca(0x3e3))return await this[_0x5bceca(0x3b3)]['message'][_0x5bceca(0x85f)]({'where':{'key':{'remoteJid':_0xc64fca[_0x5bceca(0x791)]}}},this[_0x5bceca(0x278)][_0x5bceca(0x8d6)]),_0xc64fca=await this[_0x5bceca(0x3b3)][_0x5bceca(0x8c3)]['updateOne']({'where':{'_id':_0xc64fca[_0x5bceca(0x791)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance']['wuid']),F(this['instanceName'],'chats',{'chat':_0xc64fca}),{'message':_0x5bceca(0x81e)};let _0x5d6bdd=(_0x4c65d1,_0x430a1b,_0x2198d0)=>{_0x4c65d1&&_0x2198d0['forEach'](_0x4a88c3=>{_0x4c65d1[_0x4a88c3]!==void 0x0&&(_0x430a1b['leadInfo.'+_0x4a88c3]=_0x4c65d1[_0x4a88c3]);});},_0x9538ca={};if(_0x5bceca(0x3b7)in _0xc64fca&&(this[_0x5bceca(0x42f)][_0x5bceca(0x83f)](this[_0x5bceca(0x492)]+'\x20('+this[_0x5bceca(0x278)][_0x5bceca(0x8d6)]+_0x5bceca(0x4eb)+_0xc64fca['_id']),_0xc64fca[_0x5bceca(0x3b7)]=_0xc64fca['muteEndTime']===0x0?null:-0x1,await this[_0x5bceca(0x2aa)][_0x5bceca(0x8ef)]({'mute':_0xc64fca['muteEndTime']},_0xc64fca[_0x5bceca(0x791)]),_0x9538ca[_0x5bceca(0x3b7)]=Number(_0xc64fca[_0x5bceca(0x3b7)])),_0x5ccbb6&&(_0x5d6bdd(_0x5ccbb6,_0x9538ca,[_0x5bceca(0x23c),_0x5bceca(0x47e),_0x5bceca(0x37d),'cpf',_0x5bceca(0x5d6),'notas',_0x5bceca(0x7dd),_0x5bceca(0x699),_0x5bceca(0x3c9),'etiquetas',_0x5bceca(0x884)]),Array[_0x5bceca(0x671)](_0x5ccbb6[_0x5bceca(0x609)])&&(_0x9538ca[_0x5bceca(0x1d6)]=_0x5ccbb6['customFields'][_0x5bceca(0x37b)](_0x262263=>({'_id':_0x262263[_0x5bceca(0x791)],'value':_0x262263[_0x5bceca(0x356)]}))),_0xc64fca[_0x5bceca(0x421)][_0x5bceca(0x2d7)]!==void 0x0)){let _0x403a8a=await this['repository'][_0x5bceca(0x8ec)][_0x5bceca(0x361)]({'where':{}},this[_0x5bceca(0x278)][_0x5bceca(0x8d6)]),_0x5ae321=new Set(_0xc64fca[_0x5bceca(0x421)][_0x5bceca(0x2d7)]||[]),_0x52af8e=new Set(_0xc64fca['leadInfo'][_0x5bceca(0x2d7)]),_0x4c7664=new Set(_0x403a8a['map'](_0x4d76e7=>_0x4d76e7['_id'])),_0x20e897=[..._0x52af8e]['filter'](_0x1b0b9e=>!_0x5ae321[_0x5bceca(0x7de)](_0x1b0b9e)&&_0x4c7664[_0x5bceca(0x7de)](_0x1b0b9e)),_0x50f329=[..._0x5ae321][_0x5bceca(0x58d)](_0x4b653b=>!_0x52af8e[_0x5bceca(0x7de)](_0x4b653b));if(_0x9538ca[_0x5bceca(0x6d6)]=[..._0x5ae321],_0x183ab1&&!_0x183ab1[_0x5bceca(0x39a)]){for(let _0x60b614 of _0x20e897)await this['AddChatLabel'](_0x60b614,_0xc64fca[_0x5bceca(0x791)]),_0x5ae321[_0x5bceca(0x2e3)](_0x60b614);for(let _0x2b9f2b of _0x50f329)await this['RemoveChatLabel'](_0x2b9f2b,_0xc64fca[_0x5bceca(0x791)]),_0x5ae321['delete'](_0x2b9f2b);}}if(_0xc64fca[_0x5bceca(0x42c)]!==void 0x0&&(_0x9538ca[_0x5bceca(0x42c)]=Number(_0xc64fca[_0x5bceca(0x42c)])),Object[_0x5bceca(0x6c3)](_0x9538ca)['length']===0x0)throw new Error(_0x5bceca(0x1f6));let _0x1170cf=await this[_0x5bceca(0x3b3)][_0x5bceca(0x8c3)][_0x5bceca(0x3e7)]({'where':{'_id':_0xc64fca[_0x5bceca(0x791)]}},_0x9538ca,this[_0x5bceca(0x278)][_0x5bceca(0x8d6)]);return _0x1170cf&&F(this[_0x5bceca(0x492)],_0x5bceca(0x483),{'chat':_0x1170cf}),_0x1170cf?(this[_0x5bceca(0x42f)][_0x5bceca(0x83f)](this[_0x5bceca(0x492)]+'\x20('+this[_0x5bceca(0x278)][_0x5bceca(0x8d6)]+_0x5bceca(0x6b7)+JSON[_0x5bceca(0x1af)](_0x1170cf,null,0x2)),_0x1170cf):{'message':_0x5bceca(0x2ae)};}catch(_0x1980c2){let _0x2d3ad5=_0x5bceca(0x5fb),_0x5388d1=_0x1980c2 instanceof Error?_0x1980c2['message']:typeof _0x1980c2=='object'?JSON[_0x5bceca(0x1af)](_0x1980c2):_0x1980c2,_0x1aaef3=_0x2d3ad5+':\x20'+_0x5388d1;throw this['logger'][_0x5bceca(0x82d)](this[_0x5bceca(0x492)]+'\x20('+this[_0x5bceca(0x278)]['wuid']+_0x5bceca(0x6b7)+_0x1aaef3),new m(_0x1aaef3);}}async[a0_0x4c01ce(0x1ed)](_0x57cc97,_0x195afc){const _0x45ddd8=a0_0x4c01ce;try{await this['client'][_0x45ddd8(0x536)](_0x195afc,_0x57cc97),this['logger'][_0x45ddd8(0x8c5)](this[_0x45ddd8(0x492)]+'\x20('+this[_0x45ddd8(0x278)]['wuid']+_0x45ddd8(0x2a1)+_0x57cc97+_0x45ddd8(0x4e0)+_0x195afc+'\x20com\x20sucesso.');}catch(_0x43cd06){this[_0x45ddd8(0x42f)]['error'](_0x45ddd8(0x2ca)+_0x57cc97+_0x45ddd8(0x900)+_0x195afc+':\x20'+_0x43cd06);}}async[a0_0x4c01ce(0x635)](_0x470e7f,_0xc0ff28){const _0x276347=a0_0x4c01ce;try{await this[_0x276347(0x2aa)][_0x276347(0x34d)](_0xc0ff28,_0x470e7f),this['logger'][_0x276347(0x8c5)](this['instanceName']+'\x20('+this[_0x276347(0x278)][_0x276347(0x8d6)]+_0x276347(0x2a1)+_0x470e7f+_0x276347(0x6a1)+_0xc0ff28+'\x20com\x20sucesso.');}catch(_0xa7f0cd){this['logger'][_0x276347(0x82d)]('Erro\x20ao\x20remover\x20label\x20'+_0x470e7f+_0x276347(0x83b)+_0xc0ff28+':\x20'+_0xa7f0cd);}}async[a0_0x4c01ce(0x876)](_0x38a788){const _0x1f08b8=a0_0x4c01ce;try{let _0x1f34ad=await this[_0x1f08b8(0x3b3)][_0x1f08b8(0x33e)][_0x1f08b8(0x656)](this['instance'][_0x1f08b8(0x8d6)]),_0x133335=_0x38a788[_0x1f08b8(0x791)]?_0x1f34ad[_0x1f08b8(0x6d8)][_0x1f08b8(0x3de)](_0x93eee6=>_0x93eee6['_id']===_0x38a788['_id']):-0x1;if(_0x38a788[_0x1f08b8(0x85f)]&&_0x133335>-0x1)_0x1f34ad[_0x1f08b8(0x6d8)]['splice'](_0x133335,0x1);else{if(_0x133335>-0x1){let _0x1ae628=_0x1f34ad[_0x1f08b8(0x6d8)][_0x133335];_0x38a788['fone']&&(_0x1ae628[_0x1f08b8(0x7f7)]=_0x38a788[_0x1f08b8(0x7f7)]),_0x38a788[_0x1f08b8(0x1b3)]&&(_0x1ae628[_0x1f08b8(0x1b3)]=_0x38a788[_0x1f08b8(0x1b3)]),_0x38a788['email']&&(_0x1ae628['email']=_0x38a788['email']),_0x38a788['role']&&(_0x1ae628[_0x1f08b8(0x33f)]=_0x38a788[_0x1f08b8(0x33f)]);}else _0x1f34ad[_0x1f08b8(0x6d8)][_0x1f08b8(0x835)]({'_id':_0x38a788['_id']||new ge[(_0x1f08b8(0x831))]['Types'][(_0x1f08b8(0x616))]()['toString'](),'fone':_0x38a788[_0x1f08b8(0x7f7)],'name':_0x38a788[_0x1f08b8(0x1b3)],'email':_0x38a788[_0x1f08b8(0x37d)],'role':_0x38a788[_0x1f08b8(0x33f)]});}let _0x5bf311={'agents':_0x1f34ad[_0x1f08b8(0x6d8)]},_0x27a618=await this[_0x1f08b8(0x3b3)]['automateSystem'][_0x1f08b8(0x79f)](_0x5bf311,this[_0x1f08b8(0x278)][_0x1f08b8(0x8d6)]);return this['AutomateSystem']=_0x27a618,this['logger'][_0x1f08b8(0x83f)](this[_0x1f08b8(0x492)]+'\x20('+this[_0x1f08b8(0x278)]['wuid']+_0x1f08b8(0x5e6)),this[_0x1f08b8(0x42f)][_0x1f08b8(0x83f)](this[_0x1f08b8(0x492)]+'\x20('+this[_0x1f08b8(0x278)]['wuid']+_0x1f08b8(0x6b7)+this['AutomateSystem']),_0x27a618;}catch(_0x205404){let _0x23c0a0=_0x1f08b8(0x4a0),_0x4bd8e7=_0x205404 instanceof Error?_0x205404[_0x1f08b8(0x7c9)]:typeof _0x205404==_0x1f08b8(0x28b)?JSON['stringify'](_0x205404):_0x205404,_0x10bcf4=_0x23c0a0+':\x20'+_0x4bd8e7;throw this[_0x1f08b8(0x42f)][_0x1f08b8(0x82d)](this[_0x1f08b8(0x492)]+'\x20('+this[_0x1f08b8(0x278)][_0x1f08b8(0x8d6)]+_0x1f08b8(0x6b7)+_0x10bcf4),new m(_0x10bcf4);}}async[a0_0x4c01ce(0x43e)](_0x1a375d){const _0xdd1e7c=a0_0x4c01ce;try{let _0x48631b=await this[_0xdd1e7c(0x3b3)]['automateSystem']['findOrCreate'](this[_0xdd1e7c(0x278)]['wuid']),_0x2e72a5=_0x1a375d[_0xdd1e7c(0x791)]?_0x48631b[_0xdd1e7c(0x609)][_0xdd1e7c(0x3de)](_0x32c944=>_0x32c944[_0xdd1e7c(0x791)]===_0x1a375d['_id']):-0x1,_0x37282e=!0x1,_0x4d45f2=_0x48631b[_0xdd1e7c(0x609)]['some'](_0x4f1490=>_0x4f1490[_0xdd1e7c(0x2cc)]===_0x1a375d['order']);if(_0x1a375d[_0xdd1e7c(0x85f)]&&_0x2e72a5>-0x1)_0x48631b[_0xdd1e7c(0x609)]['splice'](_0x2e72a5,0x1),_0x37282e=!0x0;else{if(_0x2e72a5>-0x1){if(_0x48631b[_0xdd1e7c(0x609)][_0xdd1e7c(0x5ed)](_0x34b4d1=>_0x34b4d1['name']===_0x1a375d[_0xdd1e7c(0x1b3)]&&_0x34b4d1[_0xdd1e7c(0x791)]!==_0x1a375d[_0xdd1e7c(0x791)]))throw new Error(_0xdd1e7c(0x708));let _0x24dfd3=_0x48631b[_0xdd1e7c(0x609)][_0x2e72a5];_0x1a375d['order']&&(_0x4d45f2||!Number[_0xdd1e7c(0x7c6)](_0x1a375d[_0xdd1e7c(0x2cc)]))&&(_0x24dfd3['order']=_0x1a375d[_0xdd1e7c(0x2cc)],_0x37282e=!0x0),_0x1a375d[_0xdd1e7c(0x1b3)]&&(_0x24dfd3['name']=_0x1a375d[_0xdd1e7c(0x1b3)]);}else{if(_0x48631b[_0xdd1e7c(0x609)]['some'](_0x51a577=>_0x51a577[_0xdd1e7c(0x1b3)]===_0x1a375d[_0xdd1e7c(0x1b3)]&&_0x51a577[_0xdd1e7c(0x791)]!==_0x1a375d[_0xdd1e7c(0x791)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x48631b[_0xdd1e7c(0x609)]['push']({'_id':_0x1a375d[_0xdd1e7c(0x791)]||new ge[(_0xdd1e7c(0x831))][(_0xdd1e7c(0x2eb))][(_0xdd1e7c(0x616))]()[_0xdd1e7c(0x7b0)](),'order':_0x1a375d['order'],'name':_0x1a375d[_0xdd1e7c(0x1b3)]}),_0x37282e=!0x0;}}if(_0x37282e){_0x48631b[_0xdd1e7c(0x609)]['sort']((_0x20b1ac,_0x5e31c8)=>_0x20b1ac[_0xdd1e7c(0x2cc)]>_0x5e31c8[_0xdd1e7c(0x2cc)]?0x1:_0x5e31c8[_0xdd1e7c(0x2cc)]>_0x20b1ac['order']?-0x1:0x0);for(let _0x2c5067=0x0;_0x2c5067<_0x48631b[_0xdd1e7c(0x609)][_0xdd1e7c(0x72e)];_0x2c5067++)_0x48631b[_0xdd1e7c(0x609)][_0x2c5067]['order']=_0x2c5067+0x1;}let _0x3f87cb=await this[_0xdd1e7c(0x3b3)][_0xdd1e7c(0x33e)][_0xdd1e7c(0x79f)](_0x48631b,this[_0xdd1e7c(0x278)][_0xdd1e7c(0x8d6)]);return this['AutomateSystem']=_0x3f87cb,this['logger']['verbose'](this['instanceName']+'\x20('+this[_0xdd1e7c(0x278)][_0xdd1e7c(0x8d6)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0xdd1e7c(0x42f)][_0xdd1e7c(0x83f)](this[_0xdd1e7c(0x492)]+'\x20('+this[_0xdd1e7c(0x278)][_0xdd1e7c(0x8d6)]+_0xdd1e7c(0x6b7)+this[_0xdd1e7c(0x238)]),_0x3f87cb;}catch(_0x5f3b3b){let _0x41f999='Erro\x20ao\x20tentar\x20updateCustomFields',_0x183998=_0x5f3b3b instanceof Error?_0x5f3b3b['message']:typeof _0x5f3b3b==_0xdd1e7c(0x28b)?JSON[_0xdd1e7c(0x1af)](_0x5f3b3b):_0x5f3b3b,_0x295f2c=_0x41f999+':\x20'+_0x183998;throw this[_0xdd1e7c(0x42f)]['error'](this['instanceName']+'\x20('+this[_0xdd1e7c(0x278)][_0xdd1e7c(0x8d6)]+'):\x20'+_0x295f2c),new m(_0x295f2c);}}async[a0_0x4c01ce(0x604)](_0x1968ac){const _0x2dc1c0=a0_0x4c01ce;try{let _0x44a346=await this[_0x2dc1c0(0x3b3)][_0x2dc1c0(0x33e)][_0x2dc1c0(0x656)](this[_0x2dc1c0(0x278)][_0x2dc1c0(0x8d6)]),_0x111cfe=_0x44a346?.['autoCompleteMessages']?.[_0x2dc1c0(0x3de)](_0x33a307=>_0x33a307[_0x2dc1c0(0x791)]===_0x1968ac?.['_id']);if(_0x1968ac?.[_0x2dc1c0(0x85f)])_0x111cfe>-0x1&&_0x44a346?.[_0x2dc1c0(0x333)]?.[_0x2dc1c0(0x901)](_0x111cfe,0x1);else{if(_0x111cfe>-0x1){let _0x5749f2=_0x44a346[_0x2dc1c0(0x333)][_0x111cfe];_0x5749f2[_0x2dc1c0(0x2cc)]=_0x1968ac?.[_0x2dc1c0(0x2cc)]||_0x5749f2['order'],_0x5749f2[_0x2dc1c0(0x714)]=_0x1968ac?.['command']||_0x5749f2[_0x2dc1c0(0x714)],_0x5749f2['message']=_0x1968ac?.[_0x2dc1c0(0x7c9)]||_0x5749f2['message'];}else{let _0x462baf={'_id':_0x1968ac?.[_0x2dc1c0(0x791)]||new ge['default']['Types']['ObjectId']()[_0x2dc1c0(0x7b0)](),'order':_0x1968ac?.[_0x2dc1c0(0x2cc)],'command':_0x1968ac?.['command'],'message':_0x1968ac?.[_0x2dc1c0(0x7c9)]};_0x44a346?.[_0x2dc1c0(0x333)]?.[_0x2dc1c0(0x835)](_0x462baf);}}_0x44a346?.['autoCompleteMessages']?.[_0x2dc1c0(0x7cd)]((_0x3c609b,_0x4693a6)=>_0x3c609b['order']-_0x4693a6['order']);let _0x1ab8e4=await this[_0x2dc1c0(0x3b3)][_0x2dc1c0(0x33e)][_0x2dc1c0(0x79f)](_0x44a346,this[_0x2dc1c0(0x278)][_0x2dc1c0(0x8d6)]);return this[_0x2dc1c0(0x238)]=_0x1ab8e4,this['logger'][_0x2dc1c0(0x83f)](this[_0x2dc1c0(0x492)]+'\x20('+this[_0x2dc1c0(0x278)][_0x2dc1c0(0x8d6)]+_0x2dc1c0(0x73d)),_0x1ab8e4;}catch(_0x91be38){let _0x46b3a8=_0x2dc1c0(0x583),_0x10474=_0x91be38 instanceof Error?_0x91be38[_0x2dc1c0(0x7c9)]:typeof _0x91be38==_0x2dc1c0(0x28b)?JSON[_0x2dc1c0(0x1af)](_0x91be38):_0x91be38,_0x2a295a=_0x46b3a8+':\x20'+_0x10474;throw this['logger'][_0x2dc1c0(0x82d)](this[_0x2dc1c0(0x492)]+'\x20('+this[_0x2dc1c0(0x278)][_0x2dc1c0(0x8d6)]+'):\x20'+_0x2a295a),new m(_0x2a295a);}}async[a0_0x4c01ce(0x802)](_0x5e1ba1){const _0x4ac27d=a0_0x4c01ce;try{let _0x4609fd=await this[_0x4ac27d(0x3b3)]['automateSystem'][_0x4ac27d(0x656)](this[_0x4ac27d(0x278)][_0x4ac27d(0x8d6)]);if(!_0x4609fd)throw new Error(_0x4ac27d(0x57f));let _0xf9c290={'_id':_0x4609fd['_id'],'flowConfig':{'enabled':_0x5e1ba1['enabled']??_0x4609fd['flowConfig'][_0x4ac27d(0x3ba)],'ignoreGroups':_0x5e1ba1[_0x4ac27d(0x37c)]??_0x4609fd[_0x4ac27d(0x26c)][_0x4ac27d(0x37c)],'stopConversation':_0x5e1ba1['stopConversation'][_0x4ac27d(0x67e)]()??_0x4609fd[_0x4ac27d(0x26c)][_0x4ac27d(0x7b6)]['trim'](),'stopMinutes':_0x5e1ba1[_0x4ac27d(0x2ee)]??_0x4609fd[_0x4ac27d(0x26c)]['stopMinutes'],'stopWhenYouSendMsg':_0x5e1ba1[_0x4ac27d(0x6b8)]??_0x4609fd[_0x4ac27d(0x26c)]['stopWhenYouSendMsg']}},_0xb80f01=await this[_0x4ac27d(0x3b3)]['automateSystem']['update'](_0xf9c290,this[_0x4ac27d(0x278)]['wuid']);return this[_0x4ac27d(0x238)]=_0xb80f01,this[_0x4ac27d(0x42f)][_0x4ac27d(0x83f)](this[_0x4ac27d(0x492)]+'\x20('+this[_0x4ac27d(0x278)][_0x4ac27d(0x8d6)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x4ac27d(0x42f)]['verbose'](this[_0x4ac27d(0x492)]+'\x20('+this['instance']['wuid']+_0x4ac27d(0x6b7)+this[_0x4ac27d(0x238)]),setTimeout(()=>this[_0x4ac27d(0x663)](),0x7d0),_0xb80f01;}catch(_0x38587c){let _0x7d8db0=_0x4ac27d(0x70d),_0x5b2c29=_0x38587c instanceof Error?_0x38587c[_0x4ac27d(0x7c9)]:typeof _0x38587c==_0x4ac27d(0x28b)?JSON[_0x4ac27d(0x1af)](_0x38587c):_0x38587c,_0x13ad9d=_0x7d8db0+':\x20'+_0x5b2c29;throw this[_0x4ac27d(0x42f)][_0x4ac27d(0x82d)](this[_0x4ac27d(0x492)]+'\x20('+this[_0x4ac27d(0x278)][_0x4ac27d(0x8d6)]+'):\x20'+_0x13ad9d),new m(_0x13ad9d);}}async[a0_0x4c01ce(0x240)](){const _0x329a9c=a0_0x4c01ce;try{let _0xb078fc=await this[_0x329a9c(0x3b3)][_0x329a9c(0x33e)]['findOrCreate'](this[_0x329a9c(0x278)][_0x329a9c(0x8d6)]);return this[_0x329a9c(0x238)]=_0xb078fc,_0xb078fc;}catch(_0x5905c8){let _0x2b9f64='Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem',_0x3bcd46=_0x5905c8 instanceof Error?_0x5905c8[_0x329a9c(0x7c9)]:typeof _0x5905c8==_0x329a9c(0x28b)?JSON[_0x329a9c(0x1af)](_0x5905c8):_0x5905c8,_0xf60070=_0x2b9f64+':\x20'+_0x3bcd46;throw this[_0x329a9c(0x42f)]['error'](this['instanceName']+'\x20('+this[_0x329a9c(0x278)][_0x329a9c(0x8d6)]+_0x329a9c(0x6b7)+_0xf60070),new m(_0xf60070);}}async[a0_0x4c01ce(0x4a3)](){const _0x36c812=a0_0x4c01ce;let _0x38c3ce=(await import(_0x36c812(0x20b)))[_0x36c812(0x831)];this['queue']=new _0x38c3ce({'concurrency':0x1});}async['setRestartTimeout'](){const _0x4cca1b=a0_0x4c01ce;this[_0x4cca1b(0x278)][_0x4cca1b(0x806)][_0x4cca1b(0x61a)]&&clearTimeout(this[_0x4cca1b(0x278)][_0x4cca1b(0x806)][_0x4cca1b(0x61a)]),this[_0x4cca1b(0x278)][_0x4cca1b(0x806)][_0x4cca1b(0x61a)]=setTimeout(()=>{const _0xa8e450=_0x4cca1b;this[_0xa8e450(0x69e)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x4ec70=a0_0x4c01ce;let _0x548ca4=this['instance'][_0x4ec70(0x806)][_0x4ec70(0x349)];(_0x548ca4===0x0||_0x548ca4===null||Date[_0x4ec70(0x82e)]()-_0x548ca4>=0x1d4c0)&&(this[_0x4ec70(0x42f)][_0x4ec70(0x83f)](this[_0x4ec70(0x492)]+'\x20('+this[_0x4ec70(0x278)][_0x4ec70(0x8d6)]+_0x4ec70(0x62c)),this[_0x4ec70(0x278)][_0x4ec70(0x806)][_0x4ec70(0x32c)]=null,this[_0x4ec70(0x278)][_0x4ec70(0x806)][_0x4ec70(0x349)]=0x0,this[_0x4ec70(0x278)][_0x4ec70(0x806)][_0x4ec70(0x5b4)]=0x0,await this[_0x4ec70(0x663)]());}async[a0_0x4c01ce(0x663)](){const _0x2a614d=a0_0x4c01ce;this[_0x2a614d(0x42f)][_0x2a614d(0x3d2)](this['instanceName']+'\x20('+this[_0x2a614d(0x278)][_0x2a614d(0x8d6)]+_0x2a614d(0x803)),await this[_0x2a614d(0x50a)]();let _0x52bf73=await this['getReadyToSendMessages']();_0x52bf73[_0x2a614d(0x72e)]>0x0&&(setTimeout(()=>this['checkAndRestartProcess'](),0x14*0x3e8),this['logger'][_0x2a614d(0x3d2)](this['instanceName']+'\x20('+this[_0x2a614d(0x278)]['wuid']+'):\x20Há\x20mensagens\x20prontas,\x20limpando\x20e\x20adicionando\x20à\x20fila'),this['queue'][_0x2a614d(0x22b)](),this[_0x2a614d(0x2cf)][_0x2a614d(0x2e3)](()=>this[_0x2a614d(0x8dd)](_0x52bf73)));let _0x3085df={'where':{'status':'scheduled','when':{'$gt':Date['now']()}}},_0x4d55ae=await this[_0x2a614d(0x3b3)][_0x2a614d(0x18f)][_0x2a614d(0x280)](_0x3085df,this[_0x2a614d(0x278)]['wuid']);_0x4d55ae&&_0x4d55ae[_0x2a614d(0x395)]-Date[_0x2a614d(0x82e)]()<=0x6ddd00?this[_0x2a614d(0x278)][_0x2a614d(0x806)]['delayMessage']=_0x4d55ae[_0x2a614d(0x395)]-Date[_0x2a614d(0x82e)]():this[_0x2a614d(0x278)]['ScheduleMessage']['delayMessage']=(0x3c+Math[_0x2a614d(0x279)](Math[_0x2a614d(0x88c)]()*0x3c))*0x3c*0x3e8,this[_0x2a614d(0x278)][_0x2a614d(0x806)][_0x2a614d(0x5b4)]=Math[_0x2a614d(0x225)](this[_0x2a614d(0x278)][_0x2a614d(0x806)][_0x2a614d(0x5b4)],0x1*0x2*0x3e8);let _0x3143ef=Math[_0x2a614d(0x35e)](this[_0x2a614d(0x278)]['ScheduleMessage'][_0x2a614d(0x5b4)]/0xea60);if(_0x4d55ae){let _0x3ad614=new Date(_0x4d55ae[_0x2a614d(0x395)])[_0x2a614d(0x496)]();this[_0x2a614d(0x42f)][_0x2a614d(0x3d2)](this[_0x2a614d(0x492)]+'\x20('+this[_0x2a614d(0x278)]['wuid']+_0x2a614d(0x560)+_0x3ad614+_0x2a614d(0x80b)+_0x3143ef+_0x2a614d(0x6b4));}else this['logger'][_0x2a614d(0x3d2)](this[_0x2a614d(0x492)]+'\x20('+this[_0x2a614d(0x278)][_0x2a614d(0x8d6)]+_0x2a614d(0x6fb)+_0x3143ef+_0x2a614d(0x6b4));setTimeout(()=>{const _0x2f3ce1=_0x2a614d;this[_0x2f3ce1(0x663)]();},this[_0x2a614d(0x278)][_0x2a614d(0x806)]['delayMessage']);}async[a0_0x4c01ce(0x277)](){const _0x49d421=a0_0x4c01ce;this['logger'][_0x49d421(0x3d2)](this['instanceName']+'\x20('+this['instance'][_0x49d421(0x8d6)]+_0x49d421(0x59c));let _0x8764a2=Date[_0x49d421(0x82e)]()-0xc*0x3c*0x3c*0x3e8,_0x3e2832={'where':{'status':{'$in':[_0x49d421(0x794),_0x49d421(0x405)]},'$or':[{'when':{'$lte':Date[_0x49d421(0x82e)](),'$gte':_0x8764a2}},{'when':0x0}]}},_0x4b5e43=await this['repository'][_0x49d421(0x18f)]['find'](_0x3e2832,this[_0x49d421(0x278)][_0x49d421(0x8d6)]);return this[_0x49d421(0x42f)][_0x49d421(0x3d2)](this[_0x49d421(0x492)]+'\x20('+this[_0x49d421(0x278)][_0x49d421(0x8d6)]+_0x49d421(0x447)+_0x4b5e43[_0x49d421(0x72e)]),_0x4b5e43;}async[a0_0x4c01ce(0x8dd)](_0x131a3d){const _0x148238=a0_0x4c01ce;this[_0x148238(0x42f)][_0x148238(0x3d2)](this[_0x148238(0x492)]+'\x20('+this['instance']['wuid']+_0x148238(0x1cf));let _0x55d437=0x3*0x3e8,_0xc04f03=0x8*0x3e8,_0x4e4964=Math['floor'](Math['random']()*(_0xc04f03-_0x55d437+0x1))+_0x55d437,_0x595f08=()=>this['pendingMessages'][_0x148238(0x72e)]===0x0?null:this[_0x148238(0x4f6)][_0x148238(0x7e1)]((_0x6b801a,_0x403d80)=>(_0x6b801a[_0x148238(0x2cc)]??Number[_0x148238(0x6ad)])<(_0x403d80[_0x148238(0x2cc)]??Number[_0x148238(0x6ad)])?_0x6b801a:_0x403d80,this[_0x148238(0x4f6)][0x0]);_0x131a3d=await this[_0x148238(0x277)]();for(let _0x1f5419 of _0x131a3d){await this[_0x148238(0x711)]();let _0x21f4a9=0x3*0x3e8,_0x509c77={'_id':_0x1f5419[_0x148238(0x791)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x148238(0x82e)]()-_0x21f4a9}}]},_0x3c9437={'startSend':Date[_0x148238(0x82e)](),'status':'sending'},_0x141a2e=await this['repository'][_0x148238(0x18f)][_0x148238(0x3e7)](_0x509c77,_0x3c9437,this['instance']['wuid']);if(this[_0x148238(0x4f6)]=_0x141a2e[_0x148238(0x3e3)][_0x148238(0x58d)](_0x195f74=>!_0x195f74['triedToSend']),!_0x141a2e){setTimeout(()=>this[_0x148238(0x69e)](),0xa*0x3e8);continue;}if(this[_0x148238(0x278)]['ScheduleMessage']['processingGroup']=_0x141a2e,!this[_0x148238(0x278)]['ScheduleMessage'][_0x148238(0x62f)]){this['logger'][_0x148238(0x3d2)](this[_0x148238(0x492)]+'\x20('+this['instance'][_0x148238(0x8d6)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}for(;this[_0x148238(0x4f6)]['length']>0x0;){await this['setRestartTimeout']();let _0x6cebcc=_0x595f08();if(!_0x6cebcc)break;let _0x44b258=_0x1f5419[_0x148238(0x3e3)][_0x148238(0x361)](_0x44ff37=>_0x44ff37[_0x148238(0x791)]===_0x6cebcc[_0x148238(0x791)]);if(!_0x44b258)break;if(this[_0x148238(0x278)][_0x148238(0x806)]['lastSend']=Date[_0x148238(0x82e)](),_0x44b258[_0x148238(0x3ed)]){this[_0x148238(0x42f)]['warn'](this['instanceName']+'\x20('+this[_0x148238(0x278)][_0x148238(0x8d6)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x44b258['remoteJid']+_0x148238(0x501)),this['pendingMessages']=this[_0x148238(0x4f6)][_0x148238(0x58d)](_0x191056=>_0x191056[_0x148238(0x791)]!==_0x44b258['_id']);continue;}if(!this[_0x148238(0x278)][_0x148238(0x806)][_0x148238(0x62f)]){this['logger'][_0x148238(0x3d2)](this[_0x148238(0x492)]+'\x20('+this[_0x148238(0x278)][_0x148238(0x8d6)]+_0x148238(0x1cd));break;}if(!this[_0x148238(0x278)][_0x148238(0x806)]['processingGroup']){this[_0x148238(0x42f)][_0x148238(0x3d2)](this[_0x148238(0x492)]+'\x20('+this[_0x148238(0x278)]['wuid']+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x1f5419['_id']+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}let _0x4d7db9={'idControl':_0x44b258[_0x148238(0x791)],'remoteJid':_0x44b258['remoteJid'],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x148238(0x82e)]()},_0x9eba48=null;try{this[_0x148238(0x42f)][_0x148238(0x3d2)](this[_0x148238(0x492)]+'\x20('+this['instance'][_0x148238(0x8d6)]+'):\x20Enviando\x20mensagem\x20para\x20'+_0x44b258[_0x148238(0x7df)]);let _0x195747=await this[_0x148238(0x32f)](_0x44b258['remoteJid'],_0x44b258);_0x4d7db9[_0x148238(0x82d)]=_0x195747[_0x148238(0x82d)],_0x4d7db9['id']=_0x195747[_0x148238(0x82d)]?null:_0x195747['id'],_0x4d7db9[_0x148238(0x4ac)]=_0x195747[_0x148238(0x82d)]?_0x195747[_0x148238(0x53b)]?_0x195747[_0x148238(0x53b)][_0x148238(0x7b0)]():'':null;let _0xfd6a2e=_0x1f5419['messages']['findIndex'](_0x3b0e1d=>_0x3b0e1d['_id']===_0x44b258[_0x148238(0x791)]);_0xfd6a2e!==-0x1&&(_0x1f5419['messages'][_0xfd6a2e][_0x148238(0x3ed)]=!0x0);let _0x3ceab6={'$push':{'messagesSend':_0x4d7db9},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x6a6244=[{'elem._id':_0x44b258[_0x148238(0x791)]}];if(this[_0x148238(0x42f)][_0x148238(0x3d2)](this[_0x148238(0x492)]+'\x20('+this[_0x148238(0x278)][_0x148238(0x8d6)]+'):\x20Atualizando\x20status\x20da\x20mensagem\x20'+_0x44b258[_0x148238(0x791)]),_0x9eba48=await this[_0x148238(0x3b3)][_0x148238(0x18f)]['updateOne']({'_id':_0x1f5419[_0x148238(0x791)]},_0x3ceab6,this[_0x148238(0x278)][_0x148238(0x8d6)],{'arrayFilters':_0x6a6244}),_0x195747[_0x148238(0x82d)]){this['logger'][_0x148238(0x82d)](this[_0x148238(0x492)]+'\x20('+this[_0x148238(0x278)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem:\x20'+_0x195747[_0x148238(0x53b)]);continue;}let _0x11822a=this[_0x148238(0x785)](_0x1f5419[_0x148238(0x5da)],_0x1f5419[_0x148238(0x4d5)]);await this[_0x148238(0x68a)](_0x11822a);}catch(_0x3c1aeb){this[_0x148238(0x42f)][_0x148238(0x82d)](this[_0x148238(0x492)]+'\x20('+this[_0x148238(0x278)][_0x148238(0x8d6)]+_0x148238(0x59f)+_0x44b258[_0x148238(0x7df)]+':\x20'+(_0x3c1aeb instanceof Error?_0x3c1aeb[_0x148238(0x7c9)]:JSON[_0x148238(0x1af)](_0x3c1aeb,null,0x2))),_0x4d7db9[_0x148238(0x82d)]=!0x0,_0x4d7db9[_0x148238(0x4ac)]=_0x3c1aeb[_0x148238(0x7c9)];let _0x533ea3=_0x1f5419[_0x148238(0x3e3)][_0x148238(0x3de)](_0x200c95=>_0x200c95['_id']===_0x44b258[_0x148238(0x791)]);_0x533ea3!==-0x1&&(_0x1f5419[_0x148238(0x3e3)][_0x533ea3][_0x148238(0x3ed)]=!0x0);let _0x21f0ed={'$push':{'messagesSend':_0x4d7db9},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x436ad3=[{'elem._id':_0x44b258[_0x148238(0x791)]}];this[_0x148238(0x42f)]['warn'](this[_0x148238(0x492)]+'\x20('+this[_0x148238(0x278)][_0x148238(0x8d6)]+_0x148238(0x49f)+_0x44b258[_0x148238(0x791)]),_0x9eba48=await this[_0x148238(0x3b3)][_0x148238(0x18f)][_0x148238(0x3e7)]({'_id':_0x1f5419['_id']},_0x21f0ed,this[_0x148238(0x278)]['wuid'],{'arrayFilters':_0x436ad3});}finally{if(_0x9eba48&&_0x9eba48[_0x148238(0x5d6)]==='stopped'){this[_0x148238(0x42f)][_0x148238(0x3d2)](this[_0x148238(0x492)]+'\x20('+this[_0x148238(0x278)][_0x148238(0x8d6)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x44b258[_0x148238(0x791)]+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}let _0x1b56aa=_0x9eba48[_0x148238(0x3e3)][_0x148238(0x361)](_0x57d35b=>_0x57d35b[_0x148238(0x791)]===_0x44b258['_id']);if(_0x1b56aa&&!_0x1b56aa[_0x148238(0x3ed)]){let _0x5d8082={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x33547d=[{'elem._id':_0x44b258[_0x148238(0x791)]}];await this[_0x148238(0x3b3)][_0x148238(0x18f)]['updateOne']({'_id':_0x9eba48['_id']},_0x5d8082,this[_0x148238(0x278)][_0x148238(0x8d6)],{'arrayFilters':_0x33547d});}if(this[_0x148238(0x4f6)]=_0x9eba48[_0x148238(0x3e3)][_0x148238(0x58d)](_0x4996f6=>!_0x4996f6[_0x148238(0x3ed)]),!this[_0x148238(0x278)][_0x148238(0x806)][_0x148238(0x32c)]){await this[_0x148238(0x711)](),this[_0x148238(0x42f)][_0x148238(0x3d2)](this[_0x148238(0x492)]+'\x20('+this[_0x148238(0x278)]['wuid']+_0x148238(0x1a9)+_0x1f5419[_0x148238(0x791)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}}}this[_0x148238(0x4f6)]=[];let _0x3ac83c=await this[_0x148238(0x3b3)]['scheduleMessage'][_0x148238(0x1c5)](_0x1f5419[_0x148238(0x791)],this['instance'][_0x148238(0x8d6)]);if(_0x3ac83c[_0x148238(0x3e3)]['every'](_0x5c432b=>_0x5c432b[_0x148238(0x3ed)])&&_0x3ac83c[_0x148238(0x5d6)]!=='stopped'){let _0x4659b3={'$set':{'status':_0x148238(0x5f7)}};await this[_0x148238(0x3b3)]['scheduleMessage'][_0x148238(0x559)](_0x3ac83c[_0x148238(0x791)],_0x4659b3,this[_0x148238(0x278)][_0x148238(0x8d6)]);}await new Promise(_0x35e5c4=>setTimeout(_0x35e5c4,_0x4e4964)),global['gc']?global['gc']():console[_0x148238(0x3d2)](_0x148238(0x561));}}['getDelay'](_0x346c7c,_0x5403e0){const _0x3079c6=a0_0x4c01ce;return _0x346c7c=Math[_0x3079c6(0x225)](0.5,_0x346c7c),_0x5403e0=Math[_0x3079c6(0x27e)](Math['max'](0x3,_0x5403e0),0x78),Math['floor'](Math['random']()*(_0x5403e0-_0x346c7c+0x1)+_0x346c7c)*0x3e8;}[a0_0x4c01ce(0x68a)](_0x47aa2b){return new Promise(_0x5baf68=>setTimeout(_0x5baf68,_0x47aa2b));}async[a0_0x4c01ce(0x221)](_0x333754){const _0x5f36fc=a0_0x4c01ce;if(!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this[_0x5f36fc(0x238)]))return null;_0x333754=this['createJid'](_0x333754);let _0x29e422=await this[_0x5f36fc(0x3b3)][_0x5f36fc(0x8c3)]['findOne']({'where':{'_id':_0x333754}},this[_0x5f36fc(0x278)][_0x5f36fc(0x8d6)]),_0x248a2d={};if(_0x29e422&&_0x29e422[_0x5f36fc(0x421)]){let _0x2f458a=_0x29e422[_0x5f36fc(0x421)];typeof _0x2f458a['nome']==_0x5f36fc(0x265)&&(_0x248a2d[_0x5f36fc(0x23c)]=_0x2f458a[_0x5f36fc(0x23c)]),typeof _0x2f458a[_0x5f36fc(0x47e)]==_0x5f36fc(0x265)&&(_0x248a2d[_0x5f36fc(0x47e)]=_0x2f458a[_0x5f36fc(0x47e)]),typeof _0x2f458a[_0x5f36fc(0x37d)]=='string'&&(_0x248a2d[_0x5f36fc(0x37d)]=_0x2f458a['email']),typeof _0x2f458a[_0x5f36fc(0x5de)]=='string'&&(_0x248a2d['cpf']=_0x2f458a[_0x5f36fc(0x5de)]),typeof _0x2f458a[_0x5f36fc(0x5d6)]=='string'&&(_0x248a2d[_0x5f36fc(0x5d6)]=_0x2f458a[_0x5f36fc(0x5d6)]),typeof _0x2f458a[_0x5f36fc(0x8a3)]==_0x5f36fc(0x265)&&(_0x248a2d[_0x5f36fc(0x8a3)]=_0x2f458a[_0x5f36fc(0x8a3)]),typeof _0x2f458a[_0x5f36fc(0x3c9)]==_0x5f36fc(0x265)&&(_0x248a2d[_0x5f36fc(0x3c9)]=_0x2f458a[_0x5f36fc(0x3c9)]),Array[_0x5f36fc(0x671)](_0x2f458a[_0x5f36fc(0x7dd)])&&(_0x248a2d[_0x5f36fc(0x7dd)]=_0x2f458a[_0x5f36fc(0x7dd)][_0x5f36fc(0x78e)](',\x20')),Array['isArray'](_0x2f458a[_0x5f36fc(0x2d7)])&&(_0x248a2d[_0x5f36fc(0x2d7)]=_0x2f458a[_0x5f36fc(0x2d7)]['join'](',\x20'));}return _0x29e422&&_0x29e422[_0x5f36fc(0x421)]&&_0x29e422['leadInfo'][_0x5f36fc(0x609)]&&_0x29e422[_0x5f36fc(0x421)][_0x5f36fc(0x609)][_0x5f36fc(0x68b)](_0x2dfa78=>{const _0x1656e3=_0x5f36fc;let _0x58a789=this[_0x1656e3(0x238)]?.[_0x1656e3(0x609)][_0x1656e3(0x361)](_0x456a22=>_0x456a22[_0x1656e3(0x791)]===_0x2dfa78['_id']);_0x58a789&&(_0x248a2d[_0x58a789[_0x1656e3(0x1b3)]]=_0x2dfa78['value']);}),_0x248a2d;}async[a0_0x4c01ce(0x2c9)](_0x465a6e,_0xb7123d){const _0x4534cd=a0_0x4c01ce;try{let _0x477ffd=await this[_0x4534cd(0x221)](_0xb7123d);return this[_0x4534cd(0x5cb)](_0x465a6e,_0x477ffd);}catch(_0x5b2c19){return this[_0x4534cd(0x42f)]['error'](_0x4534cd(0x654)+_0xb7123d+':\x20'+_0x5b2c19),_0x465a6e;}}async[a0_0x4c01ce(0x50a)](){const _0x398442=a0_0x4c01ce;let _0x3b1c5d=async(_0x6c7cc2,_0x309c1e)=>{const _0x42515a=a0_0x4bf3;let _0x20633d=(await this[_0x42515a(0x3b3)][_0x42515a(0x18f)]['find']({'where':{'type':_0x6c7cc2}},this['instance'][_0x42515a(0x8d6)]))[_0x42515a(0x37b)](async _0x459600=>{const _0x5c2778=_0x42515a;let _0x3bb126=_0x309c1e(_0x459600),_0x188cac=_0x1dd61e=>/^\d+$/[_0x5c2778(0x846)](_0x1dd61e),_0xeb827=_0x459600[_0x5c2778(0x5ee)][_0x5c2778(0x58d)](_0x3797da=>_0x3797da[_0x5c2778(0x63d)](_0x5c2778(0x4f9))?_0x3797da['length']>0x19:_0x3797da[_0x5c2778(0x63d)](_0x5c2778(0x2cb))?_0x3797da[_0x5c2778(0x72e)]>0xf:_0x188cac(_0x3797da)?_0x3797da['length']>=0xb:!0x1)[_0x5c2778(0x37b)](_0x24723e=>({'_id':(0x0,Y['v4'])(),'idSchedule':_0x459600[_0x5c2778(0x791)],'type':_0x3bb126,'remoteJid':_0x24723e,'flow':_0x459600[_0x5c2778(0x606)],'text':_0x459600['message']?.[_0x5c2778(0x23e)],'delay':_0x459600[_0x5c2778(0x7c9)]?.[_0x5c2778(0x22d)],'urlOrBase64':_0x459600[_0x5c2778(0x7c9)]?.[_0x5c2778(0x72a)],'linkPreview':_0x459600[_0x5c2778(0x7c9)]?.[_0x5c2778(0x55c)],'fileName':_0x459600[_0x5c2778(0x7c9)]?.[_0x5c2778(0x3a8)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x5c2778(0x3b3)]['scheduleMessage']['updateOneById'](_0x459600[_0x5c2778(0x791)],{'$set':{'messages':_0xeb827},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x5c2778(0x278)]['wuid']);}catch(_0x131bc3){console[_0x5c2778(0x82d)](_0x5c2778(0x4d3)+_0x459600['_id']+':',_0x131bc3);}});await Promise[_0x42515a(0x1be)](_0x20633d);};await _0x3b1c5d('text',_0x55549b=>_0x398442(0x23e)),await _0x3b1c5d('media',_0x4fac81=>_0x4fac81[_0x398442(0x7c9)]?.[_0x398442(0x56e)]||_0x398442(0x57c)),await _0x3b1c5d(_0x398442(0x49b),_0x5899bd=>_0x398442(0x49b)),await _0x3b1c5d(_0x398442(0x1a1),_0x3d35c4=>'flow'),await _0x3b1c5d(_0x398442(0x499),_0x196c20=>_0x398442(0x499)),await _0x3b1c5d('video',_0x23df67=>_0x398442(0x8da)),await _0x3b1c5d(_0x398442(0x520),_0x4a8d43=>_0x398442(0x520)),this[_0x398442(0x42f)][_0x398442(0x3d2)](this[_0x398442(0x492)]+'\x20('+this[_0x398442(0x278)][_0x398442(0x8d6)]+'):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!');}async[a0_0x4c01ce(0x364)](_0x448abd){const _0x18181c=a0_0x4c01ce;try{if(this['logger']['warn'](this[_0x18181c(0x492)]+'\x20('+this[_0x18181c(0x278)][_0x18181c(0x8d6)]+_0x18181c(0x786)),_0x448abd[_0x18181c(0x791)]||(_0x448abd['_id']=(0x0,Y['v4'])()),this[_0x18181c(0x278)][_0x18181c(0x806)]['processingGroup']?.[_0x18181c(0x791)]===_0x448abd['_id']?.[_0x18181c(0x7b0)]()){if(_0x448abd['status']==='stopped')this['instance'][_0x18181c(0x806)]['processingGroup']=null;else throw new Error(_0x18181c(0x197));}if(_0x448abd['delete']&&_0x448abd['_id']){let _0x343788=await this[_0x18181c(0x3b3)][_0x18181c(0x18f)][_0x18181c(0x330)](_0x448abd[_0x18181c(0x791)],this['instance'][_0x18181c(0x8d6)]);return setTimeout(()=>this[_0x18181c(0x663)](),0x7d0),_0x343788;}let _0x5732ec=null;if(_0x448abd[_0x18181c(0x791)]&&(_0x5732ec=await this['repository']['scheduleMessage'][_0x18181c(0x1c5)](_0x448abd['_id'],this['instance'][_0x18181c(0x8d6)])),_0x5732ec){let {_id:_0x2ffedd,owner:_0x128fbe,messages:_0x35054d,..._0x500c44}=_0x448abd;if(_0x35054d){let _0x1df72c=_0x35054d[_0x18181c(0x58d)](_0x1bd116=>!_0x1bd116[_0x18181c(0x791)]),_0x2cec0d=_0x35054d[_0x18181c(0x58d)](_0x1dae6e=>_0x1dae6e[_0x18181c(0x791)]&&!_0x1dae6e['delete']),_0x322ac7=_0x35054d[_0x18181c(0x58d)](_0x272cf5=>_0x272cf5[_0x18181c(0x791)]&&_0x272cf5[_0x18181c(0x85f)]);if(_0x1df72c[_0x18181c(0x72e)]>0x0&&await this['addMessagesToGroup'](_0x448abd[_0x18181c(0x791)],_0x1df72c),_0x2cec0d[_0x18181c(0x72e)]>0x0&&await this['editMessagesInGroup']({'_id':_0x448abd[_0x18181c(0x791)],'messages':_0x2cec0d}),_0x322ac7[_0x18181c(0x72e)]>0x0){let _0x30a38d=_0x322ac7[_0x18181c(0x37b)](_0xa06738=>({'updateOne':{'filter':{'_id':_0x448abd['_id']},'update':{'$pull':{'messages':{'_id':_0xa06738['_id']}}}}}));await this[_0x18181c(0x3b3)][_0x18181c(0x18f)]['bulkWrite'](_0x30a38d,this[_0x18181c(0x278)][_0x18181c(0x8d6)]);}}let _0x8d00ce={'$set':{..._0x500c44,'status':_0x448abd[_0x18181c(0x5d6)]||_0x5732ec[_0x18181c(0x5d6)]}},_0xdca22d=await this[_0x18181c(0x3b3)][_0x18181c(0x18f)]['updateOneById'](_0x448abd[_0x18181c(0x791)],_0x8d00ce,this[_0x18181c(0x278)][_0x18181c(0x8d6)]);return _0xdca22d&&(this[_0x18181c(0x3f2)](_0xdca22d[_0x18181c(0x3e3)]),await this[_0x18181c(0x3b3)][_0x18181c(0x18f)][_0x18181c(0x559)](_0xdca22d[_0x18181c(0x791)],{'$set':{'messages':_0xdca22d[_0x18181c(0x3e3)]}},this['instance'][_0x18181c(0x8d6)])),setTimeout(()=>this[_0x18181c(0x663)](),0x7d0),await this[_0x18181c(0x50a)](),_0xdca22d;}else{_0x448abd[_0x18181c(0x3f6)]=this['instance'][_0x18181c(0x8d6)],_0x448abd['messages']&&_0x448abd[_0x18181c(0x3e3)][_0x18181c(0x68b)](_0x211f79=>{const _0x2dc43e=_0x18181c;_0x211f79['_id']||(_0x211f79[_0x2dc43e(0x791)]=(0x0,Y['v4'])()),_0x211f79[_0x2dc43e(0x640)]||(_0x211f79['idSchedule']=_0x448abd[_0x2dc43e(0x791)]),delete _0x211f79[_0x2dc43e(0x3ed)];});let _0x12949c=await this['repository'][_0x18181c(0x18f)]['createAndSave'](_0x448abd,this[_0x18181c(0x278)]['wuid']);return _0x12949c&&(this[_0x18181c(0x3f2)](_0x12949c[_0x18181c(0x3e3)]),await this[_0x18181c(0x3b3)][_0x18181c(0x18f)]['updateOneById'](_0x12949c[_0x18181c(0x791)],{'$set':{'messages':_0x12949c['messages']}},this['instance'][_0x18181c(0x8d6)])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x12949c;}}catch(_0x570e6d){let _0x5bfc9b=_0x18181c(0x73c),_0x2107b6=_0x570e6d instanceof Error?_0x570e6d[_0x18181c(0x7c9)]:typeof _0x570e6d==_0x18181c(0x28b)?JSON[_0x18181c(0x1af)](_0x570e6d):_0x570e6d,_0xb5bf6b=_0x5bfc9b+':\x20'+_0x2107b6;throw this['logger'][_0x18181c(0x82d)](this[_0x18181c(0x492)]+'\x20('+this[_0x18181c(0x278)][_0x18181c(0x8d6)]+_0x18181c(0x6b7)+_0xb5bf6b),new m(_0xb5bf6b);}}async[a0_0x4c01ce(0x3ab)](_0x1f353d,_0x29188d){const _0x3a8013=a0_0x4c01ce;try{this[_0x3a8013(0x42f)][_0x3a8013(0x83f)](this[_0x3a8013(0x492)]+'\x20('+this[_0x3a8013(0x278)][_0x3a8013(0x8d6)]+_0x3a8013(0x7d0)),_0x29188d[_0x3a8013(0x68b)](_0x2ba754=>{const _0x5bb4bf=_0x3a8013;_0x2ba754[_0x5bb4bf(0x791)]||(_0x2ba754[_0x5bb4bf(0x791)]=(0x0,Y['v4'])()),_0x2ba754[_0x5bb4bf(0x640)]||(_0x2ba754['idSchedule']=_0x1f353d),delete _0x2ba754[_0x5bb4bf(0x3ed)];});let _0x1f5349={'$push':{'messages':{'$each':_0x29188d}}},_0xe7a154=await this[_0x3a8013(0x3b3)][_0x3a8013(0x18f)][_0x3a8013(0x559)](_0x1f353d,_0x1f5349,this[_0x3a8013(0x278)][_0x3a8013(0x8d6)]);return _0xe7a154&&(this[_0x3a8013(0x3f2)](_0xe7a154[_0x3a8013(0x3e3)]),await this['repository'][_0x3a8013(0x18f)]['updateOneById'](_0xe7a154['_id'],{'$set':{'messages':_0xe7a154[_0x3a8013(0x3e3)]}},this[_0x3a8013(0x278)][_0x3a8013(0x8d6)])),_0xe7a154;}catch(_0x19e450){let _0x57cad5='Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo',_0x5c7a83=_0x19e450 instanceof Error?_0x19e450[_0x3a8013(0x7c9)]:typeof _0x19e450==_0x3a8013(0x28b)?JSON[_0x3a8013(0x1af)](_0x19e450):_0x19e450,_0x2ec1e6=_0x57cad5+':\x20'+_0x5c7a83;throw this[_0x3a8013(0x42f)][_0x3a8013(0x82d)](this[_0x3a8013(0x492)]+'\x20('+this[_0x3a8013(0x278)][_0x3a8013(0x8d6)]+_0x3a8013(0x6b7)+_0x2ec1e6),new m(_0x2ec1e6);}}async[a0_0x4c01ce(0x550)](_0x12297b){const _0x4f2ef9=a0_0x4c01ce;try{if(this[_0x4f2ef9(0x42f)][_0x4f2ef9(0x83f)](this['instanceName']+'\x20('+this[_0x4f2ef9(0x278)][_0x4f2ef9(0x8d6)]+_0x4f2ef9(0x1e7)),!_0x12297b[_0x4f2ef9(0x791)]||!_0x12297b[_0x4f2ef9(0x3e3)])throw new Error(_0x4f2ef9(0x863));let _0x4d1c29=_0x12297b[_0x4f2ef9(0x791)],_0x4b8fcb=_0x12297b[_0x4f2ef9(0x3e3)],_0x4e821d=_0x4b8fcb[_0x4f2ef9(0x58d)](_0x11efce=>!_0x11efce[_0x4f2ef9(0x85f)])[_0x4f2ef9(0x37b)](_0x4847f1=>{const _0x203219=_0x4f2ef9;let _0x82f4f1=_0x4847f1[_0x203219(0x791)];if(!_0x82f4f1)throw new Error(_0x203219(0x4d8));return _0x4847f1[_0x203219(0x640)]||(_0x4847f1[_0x203219(0x640)]=_0x4d1c29),delete _0x4847f1[_0x203219(0x3ed)],{'updateOne':{'filter':{'_id':_0x4d1c29,'messages._id':_0x82f4f1},'update':{'$set':{'messages.$[elem]':_0x4847f1}},'arrayFilters':[{'elem._id':_0x82f4f1}]}};}),_0x132ba4=_0x4b8fcb[_0x4f2ef9(0x58d)](_0x51bf1a=>_0x51bf1a['delete'])[_0x4f2ef9(0x37b)](_0x5477de=>{const _0x1f3344=_0x4f2ef9;let _0x43c32b=_0x5477de[_0x1f3344(0x791)];if(!_0x43c32b)throw new Error(_0x1f3344(0x5c1));return{'updateOne':{'filter':{'_id':_0x4d1c29},'update':{'$pull':{'messages':{'_id':_0x43c32b}}}}};}),_0x54dc39=[..._0x4e821d,..._0x132ba4],_0x4eb792=await this['repository']['scheduleMessage'][_0x4f2ef9(0x39b)](_0x54dc39,this[_0x4f2ef9(0x278)][_0x4f2ef9(0x8d6)]),_0x1aba09=await this[_0x4f2ef9(0x3b3)][_0x4f2ef9(0x18f)][_0x4f2ef9(0x1c5)](_0x4d1c29,this['instance'][_0x4f2ef9(0x8d6)]);return _0x1aba09&&(this[_0x4f2ef9(0x3f2)](_0x1aba09[_0x4f2ef9(0x3e3)]),await this['repository'][_0x4f2ef9(0x18f)][_0x4f2ef9(0x559)](_0x1aba09[_0x4f2ef9(0x791)],{'$set':{'messages':_0x1aba09[_0x4f2ef9(0x3e3)]}},this[_0x4f2ef9(0x278)][_0x4f2ef9(0x8d6)])),_0x1aba09;}catch(_0x2376a7){let _0x1d1a5b=_0x4f2ef9(0x3ac),_0x3117aa=_0x2376a7 instanceof Error?_0x2376a7['message']:typeof _0x2376a7==_0x4f2ef9(0x28b)?JSON[_0x4f2ef9(0x1af)](_0x2376a7):_0x2376a7,_0x1a65d7=_0x1d1a5b+':\x20'+_0x3117aa;throw this[_0x4f2ef9(0x42f)][_0x4f2ef9(0x82d)](this[_0x4f2ef9(0x492)]+'\x20('+this[_0x4f2ef9(0x278)][_0x4f2ef9(0x8d6)]+_0x4f2ef9(0x6b7)+_0x1a65d7),new m(_0x1a65d7);}}async['deleteDoneMessages'](){const _0x5c55cf=a0_0x4c01ce;try{let _0x1ec561={'status':_0x5c55cf(0x5f7)},_0x51ded8=await this[_0x5c55cf(0x3b3)]['scheduleMessage'][_0x5c55cf(0x3cf)](_0x1ec561,this[_0x5c55cf(0x278)][_0x5c55cf(0x8d6)]);if(!_0x51ded8[_0x5c55cf(0x82d)])this['logger'][_0x5c55cf(0x83f)](this[_0x5c55cf(0x492)]+'\x20('+this['instance'][_0x5c55cf(0x8d6)]+_0x5c55cf(0x4f7));else throw new Error(_0x51ded8[_0x5c55cf(0x82d)][_0x5c55cf(0x7c9)]||_0x5c55cf(0x43c));return this['getScheduleMessage']();}catch(_0x5b171e){let _0x514d6f=_0x5c55cf(0x44f),_0x6dd59d=_0x5b171e instanceof Error?_0x5b171e[_0x5c55cf(0x7c9)]:typeof _0x5b171e==_0x5c55cf(0x28b)?JSON['stringify'](_0x5b171e):_0x5b171e,_0x431d2c=_0x514d6f+':\x20'+_0x6dd59d;throw this[_0x5c55cf(0x42f)][_0x5c55cf(0x82d)](this[_0x5c55cf(0x492)]+'\x20('+this[_0x5c55cf(0x278)]['wuid']+_0x5c55cf(0x6b7)+_0x431d2c),new m(_0x431d2c);}}async[a0_0x4c01ce(0x38e)](){const _0x3e20aa=a0_0x4c01ce;try{return await this[_0x3e20aa(0x3b3)][_0x3e20aa(0x18f)][_0x3e20aa(0x361)]({'where':{}},this[_0x3e20aa(0x278)][_0x3e20aa(0x8d6)]);}catch(_0x496af1){let _0x4df74f=_0x3e20aa(0x666),_0xcfb9c9=_0x496af1 instanceof Error?_0x496af1['message']:typeof _0x496af1=='object'?JSON[_0x3e20aa(0x1af)](_0x496af1):_0x496af1,_0x4fc97f=_0x4df74f+':\x20'+_0xcfb9c9;throw this['logger'][_0x3e20aa(0x82d)](this['instanceName']+'\x20('+this['instance'][_0x3e20aa(0x8d6)]+_0x3e20aa(0x6b7)+_0x4fc97f),new m(_0x4fc97f);}}[a0_0x4c01ce(0x3f2)](_0x5e8576){const _0x84a969=a0_0x4c01ce;_0x5e8576[_0x84a969(0x7cd)]((_0x59babd,_0x1427cb)=>_0x59babd[_0x84a969(0x2cc)]-_0x1427cb['order']),_0x5e8576['forEach']((_0x24919d,_0x4116fa)=>{const _0x394075=_0x84a969;_0x24919d[_0x394075(0x2cc)]=_0x4116fa+0x1;});}async['SendScheduleMessage'](_0x5794c4,_0x368cbf){const _0x33d4f4=a0_0x4c01ce;try{if(!_0x368cbf)return this[_0x33d4f4(0x42f)][_0x33d4f4(0x82d)](this['instanceName']+'\x20('+this[_0x33d4f4(0x278)][_0x33d4f4(0x8d6)]+_0x33d4f4(0x798)),{'error':!0x0,'detail':_0x33d4f4(0x337)};if(_0x368cbf[_0x33d4f4(0x7af)]===_0x33d4f4(0x1a1)&&!this[_0x33d4f4(0x238)]?.[_0x33d4f4(0x26c)][_0x33d4f4(0x3ba)])return this[_0x33d4f4(0x42f)]['error'](this['instanceName']+'\x20('+this[_0x33d4f4(0x278)][_0x33d4f4(0x8d6)]+_0x33d4f4(0x6a4)),{'error':!0x0,'detail':_0x33d4f4(0x281)};switch(_0x368cbf[_0x33d4f4(0x7af)]){case _0x33d4f4(0x23e):return await this[_0x33d4f4(0x8f8)](_0x368cbf,_0x5794c4);case _0x33d4f4(0x8da):case'image':case _0x33d4f4(0x520):return await this[_0x33d4f4(0x3c3)](_0x368cbf,_0x5794c4);case'audio':return await this[_0x33d4f4(0x5f2)](_0x368cbf,_0x5794c4);case _0x33d4f4(0x1a1):let _0x3c7e99=new We();return _0x3c7e99[_0x33d4f4(0x1b3)]=_0x368cbf[_0x33d4f4(0x1a1)],_0x3c7e99[_0x33d4f4(0x7df)]=_0x5794c4,await this['startFlow'](_0x3c7e99);default:return this['logger'][_0x33d4f4(0x82d)](this[_0x33d4f4(0x492)]+'\x20('+this['instance']['wuid']+_0x33d4f4(0x830)+_0x368cbf[_0x33d4f4(0x7af)]),{'error':!0x0,'detail':_0x33d4f4(0x7db)};}}catch(_0x2fcb1c){return this[_0x33d4f4(0x42f)][_0x33d4f4(0x82d)](this['instanceName']+'\x20('+this[_0x33d4f4(0x278)][_0x33d4f4(0x8d6)]+_0x33d4f4(0x283)+(_0x2fcb1c instanceof Error?_0x2fcb1c['message']:JSON[_0x33d4f4(0x1af)](_0x2fcb1c,null,0x2))),{'error':!0x0,'detail':_0x2fcb1c[_0x33d4f4(0x7c9)]};}}async[a0_0x4c01ce(0x8f8)](_0x1f69bc,_0x2790f3){const _0x447a93=a0_0x4c01ce;if(this[_0x447a93(0x42f)]['verbose'](this[_0x447a93(0x492)]+'\x20('+this[_0x447a93(0x278)]['wuid']+_0x447a93(0x7b4)+_0x2790f3+'\x27'),!_0x1f69bc[_0x447a93(0x23e)]||_0x1f69bc['text'][_0x447a93(0x72e)]===0x0)return{'error':!0x0,'detail':_0x447a93(0x372)};let _0x170479=await this['replaceVariablesChat'](_0x1f69bc[_0x447a93(0x23e)],_0x2790f3),_0x1697bc={'number':_0x2790f3,'options':{'delay':_0x1f69bc[_0x447a93(0x22d)],'linkPreview':_0x1f69bc['linkPreview']},'textMessage':{'text':_0x170479}},_0x486578=null;try{let _0x37da54=await this[_0x447a93(0x5d3)](_0x1697bc);if(_0x37da54&&_0x37da54[_0x447a93(0x5d6)])return{'error':!0x1,'id':_0x37da54[_0x447a93(0x76c)]['id']};_0x486578=JSON[_0x447a93(0x1af)](_0x37da54),this[_0x447a93(0x42f)][_0x447a93(0x83f)](this[_0x447a93(0x492)]+'\x20('+this[_0x447a93(0x278)][_0x447a93(0x8d6)]+_0x447a93(0x6b7)+_0x486578);}catch(_0x465cf8){this['logger'][_0x447a93(0x82d)](this['instanceName']+'\x20('+this[_0x447a93(0x278)][_0x447a93(0x8d6)]+_0x447a93(0x7d9)+(_0x465cf8 instanceof Error?_0x465cf8[_0x447a93(0x7c9)]:JSON[_0x447a93(0x1af)](_0x465cf8,null,0x2))),_0x486578=_0x465cf8[_0x447a93(0x7c9)];}if(_0x486578)return{'error':!0x0,'detail':(typeof _0x486578==_0x447a93(0x28b)?JSON['stringify'](_0x486578,null,0x2):_0x486578)[_0x447a93(0x7ea)](/[\[\]{}\n]/g,'\x20')[_0x447a93(0x7ea)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x5a5c64,_0xd16304){const _0xc80322=a0_0x4c01ce;this[_0xc80322(0x42f)][_0xc80322(0x83f)](this[_0xc80322(0x492)]+'\x20('+this[_0xc80322(0x278)][_0xc80322(0x8d6)]+_0xc80322(0x887)+_0xd16304+'\x27');let _0x93e9b0;_0x5a5c64[_0xc80322(0x23e)]&&_0x5a5c64[_0xc80322(0x23e)][_0xc80322(0x72e)]>0x0&&(_0x93e9b0=await this[_0xc80322(0x2c9)](_0x5a5c64[_0xc80322(0x23e)],_0xd16304));let _0x54cafa={'number':_0xd16304,'options':{'delay':_0x5a5c64[_0xc80322(0x22d)],'linkPreview':_0x5a5c64['linkPreview']},'mediaMessage':{'mediatype':_0x5a5c64[_0xc80322(0x7af)],'caption':_0x93e9b0,'media':_0x5a5c64[_0xc80322(0x72a)]}},_0x687a5a=null;try{let _0x483458=await this[_0xc80322(0x571)](_0x54cafa);if(_0x483458&&_0x483458['status'])return{'error':!0x1,'id':_0x483458[_0xc80322(0x76c)]['id']};_0x687a5a=JSON[_0xc80322(0x1af)](_0x483458),this[_0xc80322(0x42f)][_0xc80322(0x83f)](this[_0xc80322(0x492)]+'\x20('+this[_0xc80322(0x278)][_0xc80322(0x8d6)]+_0xc80322(0x6b7)+_0x687a5a);}catch(_0x49c2e9){this[_0xc80322(0x42f)][_0xc80322(0x82d)](this[_0xc80322(0x492)]+'\x20('+this['instance'][_0xc80322(0x8d6)]+_0xc80322(0x7d4)+(_0x49c2e9 instanceof Error?_0x49c2e9[_0xc80322(0x7c9)]:JSON['stringify'](_0x49c2e9,null,0x2))),_0x687a5a=_0x49c2e9[_0xc80322(0x7c9)];}if(_0x687a5a)return{'error':!0x0,'detail':(typeof _0x687a5a==_0xc80322(0x28b)?JSON[_0xc80322(0x1af)](_0x687a5a,null,0x2):_0x687a5a)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x577bf8,_0x15972a){const _0x169388=a0_0x4c01ce;this['logger'][_0x169388(0x83f)](this[_0x169388(0x492)]+'\x20('+this[_0x169388(0x278)][_0x169388(0x8d6)]+_0x169388(0x419)+_0x15972a+'\x27');let _0x58feea={'number':_0x15972a,'options':{'delay':_0x577bf8[_0x169388(0x22d)]},'audioMessage':{'audio':_0x577bf8[_0x169388(0x72a)]}},_0x877702=null;try{let _0x35854a=await this[_0x169388(0x4f1)](_0x58feea);if(_0x35854a&&_0x35854a[_0x169388(0x5d6)])return{'error':!0x1,'id':_0x35854a[_0x169388(0x76c)]['id']};_0x877702=JSON[_0x169388(0x1af)](_0x35854a),this[_0x169388(0x42f)][_0x169388(0x83f)](this[_0x169388(0x492)]+'\x20('+this['instance']['wuid']+_0x169388(0x6b7)+_0x877702);}catch(_0x547c40){this[_0x169388(0x42f)]['error'](this['instanceName']+'\x20('+this['instance'][_0x169388(0x8d6)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20'+(_0x547c40 instanceof Error?_0x547c40[_0x169388(0x7c9)]:JSON['stringify'](_0x547c40,null,0x2))),_0x877702=_0x547c40['message'];}if(_0x877702)return{'error':!0x0,'detail':(typeof _0x877702==_0x169388(0x28b)?JSON['stringify'](_0x877702,null,0x2):_0x877702)[_0x169388(0x7ea)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x4c01ce(0x42b)](_0x311e10){const _0x5d3108=a0_0x4c01ce;try{return await this[_0x5d3108(0x2aa)][_0x5d3108(0x516)](_0x311e10['groupJid'],_0x311e10[_0x5d3108(0x465)]),{'update':_0x5d3108(0x771)};}catch(_0x7d437e){let _0x39a0b0=_0x5d3108(0x4c0),_0x456cc3=_0x7d437e instanceof Error?_0x7d437e['message']:typeof _0x7d437e==_0x5d3108(0x28b)?JSON[_0x5d3108(0x1af)](_0x7d437e):_0x7d437e,_0x372284=_0x39a0b0+':\x20'+_0x456cc3;throw this['logger'][_0x5d3108(0x82d)](this[_0x5d3108(0x492)]+'\x20('+this[_0x5d3108(0x278)][_0x5d3108(0x8d6)]+'):\x20'+_0x372284),new x(_0x372284);}}async['groupName'](_0x2d5655){const _0x2fce44=a0_0x4c01ce;try{return await this['client'][_0x2fce44(0x22f)](_0x2d5655['groupJid'],_0x2d5655[_0x2fce44(0x1b3)]),{'update':_0x2fce44(0x771)};}catch(_0x46ef37){let _0x576271=_0x2fce44(0x539),_0x24b173=_0x46ef37 instanceof Error?_0x46ef37['message']:typeof _0x46ef37==_0x2fce44(0x28b)?JSON[_0x2fce44(0x1af)](_0x46ef37):_0x46ef37,_0x2cc9b9=_0x576271+':\x20'+_0x24b173;throw this['logger']['error'](this[_0x2fce44(0x492)]+'\x20('+this[_0x2fce44(0x278)]['wuid']+_0x2fce44(0x6b7)+_0x2cc9b9),new x(_0x2cc9b9);}}async['toggleEphemeral'](_0x8fc2c8){const _0x34316a=a0_0x4c01ce;try{let _0x5c70ce=await this[_0x34316a(0x2aa)]['groupToggleEphemeral'](_0x8fc2c8[_0x34316a(0x449)],_0x8fc2c8[_0x34316a(0x3e6)]);return{'success':!0x0};}catch(_0x938c73){let _0x4aecc0=_0x34316a(0x1fa),_0x2221c0=_0x938c73 instanceof Error?_0x938c73[_0x34316a(0x7c9)]:typeof _0x938c73==_0x34316a(0x28b)?JSON[_0x34316a(0x1af)](_0x938c73):_0x938c73,_0x530f7d=_0x4aecc0+':\x20'+_0x2221c0;throw this['logger']['error'](this[_0x34316a(0x492)]+'\x20('+this[_0x34316a(0x278)][_0x34316a(0x8d6)]+'):\x20'+_0x530f7d),new x(_0x530f7d);}}async[a0_0x4c01ce(0x22a)](_0x4e5c33){const _0x1cd55f=a0_0x4c01ce;try{return await this[_0x1cd55f(0x2aa)][_0x1cd55f(0x849)](_0x4e5c33[_0x1cd55f(0x449)],_0x4e5c33[_0x1cd55f(0x5e1)]),{'update':'success'};}catch(_0x18957b){let _0x113892='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting',_0x20545c=_0x18957b instanceof Error?_0x18957b[_0x1cd55f(0x7c9)]:typeof _0x18957b==_0x1cd55f(0x28b)?JSON[_0x1cd55f(0x1af)](_0x18957b):_0x18957b,_0x155a8e=_0x113892+':\x20'+_0x20545c;throw this[_0x1cd55f(0x42f)][_0x1cd55f(0x82d)](this[_0x1cd55f(0x492)]+'\x20('+this[_0x1cd55f(0x278)][_0x1cd55f(0x8d6)]+_0x1cd55f(0x6b7)+_0x155a8e),new x(_0x155a8e);}}async[a0_0x4c01ce(0x32a)](_0xb656f){const _0x3d2dde=a0_0x4c01ce;try{let _0xe24966;if((0x0,J[_0x3d2dde(0x578)])(_0xb656f[_0x3d2dde(0x499)])){let _0x469321=new Date()[_0x3d2dde(0x1c6)](),_0x121e47=_0xb656f[_0x3d2dde(0x499)]+_0x3d2dde(0x5c8)+_0x469321;_0xe24966=(await Q[_0x3d2dde(0x831)][_0x3d2dde(0x5f0)](_0x121e47,{'responseType':_0x3d2dde(0x4cf)}))[_0x3d2dde(0x80d)];}else{if((0x0,J[_0x3d2dde(0x696)])(_0xb656f['image']))_0xe24966=Buffer['from'](_0xb656f['image'],_0x3d2dde(0x86f));else throw new m(_0x3d2dde(0x1d4));}return await this[_0x3d2dde(0x2aa)][_0x3d2dde(0x70f)](_0xb656f[_0x3d2dde(0x449)],_0xe24966),{'update':'success'};}catch(_0x45a03e){let _0x3918e2='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture',_0x104a38=_0x45a03e instanceof Error?_0x45a03e[_0x3d2dde(0x7c9)]:typeof _0x45a03e==_0x3d2dde(0x28b)?JSON[_0x3d2dde(0x1af)](_0x45a03e):_0x45a03e,_0x391d6a=_0x3918e2+':\x20'+_0x104a38;throw this['logger'][_0x3d2dde(0x82d)](this[_0x3d2dde(0x492)]+'\x20('+this['instance'][_0x3d2dde(0x8d6)]+'):\x20'+_0x391d6a),new x(_0x391d6a);}}},jt=class u{constructor(_0x146e7c,_0x971f74,_0xff7355){const _0x5d8867=a0_0x4c01ce;this[_0x5d8867(0x8af)]=_0x146e7c,this[_0x5d8867(0x415)]=_0x971f74,this[_0x5d8867(0x3b3)]=_0xff7355,this['db']={},this[_0x5d8867(0x53d)]={},this[_0x5d8867(0x42f)]=new $(u['name']),this[_0x5d8867(0x7a2)]={},(this[_0x5d8867(0x84d)](),this['noConnection'](),Object[_0x5d8867(0x551)](this['db'],_0x971f74[_0x5d8867(0x5f0)]('DATABASE')),Object['assign'](this[_0x5d8867(0x53d)],_0x971f74[_0x5d8867(0x5f0)]('REDIS')),this['dbInstance']=this['db'][_0x5d8867(0x25d)]?this[_0x5d8867(0x3b3)][_0x5d8867(0x459)]?.['db'](this['db'][_0x5d8867(0x416)][_0x5d8867(0x743)]+_0x5d8867(0x325)):void 0x0,this['cache']=this['redis'][_0x5d8867(0x25d)]?new pe(this['redis']):void 0x0);}async[a0_0x4c01ce(0x8f3)](_0x14ffe2){const _0x5ef5d1=a0_0x4c01ce;if(_0x14ffe2&&!this[_0x5ef5d1(0x7a2)][_0x14ffe2])throw new U(_0x5ef5d1(0x4bb)+_0x14ffe2+_0x5ef5d1(0x6a3));let _0x4ea88c=[];for await(let [_0xa18f2b,_0x5659cc]of Object['entries'](this['waInstances']))if(_0x5659cc&&_0x5659cc[_0x5ef5d1(0x855)][_0x5ef5d1(0x51d)]===_0x5ef5d1(0x474)){let _0x54d2bf=await this['repository'][_0x5ef5d1(0x7ba)][_0x5ef5d1(0x361)](_0xa18f2b);_0x4ea88c[_0x5ef5d1(0x835)]({'instance':{'instanceName':_0xa18f2b,'apikey':_0x54d2bf[_0x5ef5d1(0x30e)],'owner':_0x5659cc['wuid'],'profileName':await _0x5659cc['getProfileName']()||'not\x20loaded','profilePictureUrl':_0x5659cc['profilePictureUrl']}});}return _0x4ea88c[_0x5ef5d1(0x361)](_0x5c8523=>_0x5c8523[_0x5ef5d1(0x278)][_0x5ef5d1(0x492)]===_0x14ffe2)??_0x4ea88c;}async['cleaningUp'](_0x3d362c){const _0x358752=a0_0x4c01ce;if(this['db'][_0x358752(0x25d)]&&(await this['repository'][_0x358752(0x459)][_0x358752(0x717)](),(await this[_0x358752(0x79e)][_0x358752(0x375)]())[_0x358752(0x72e)]>0x0&&await this[_0x358752(0x79e)][_0x358752(0x6aa)](_0x3d362c)),this[_0x358752(0x53d)][_0x358752(0x25d)]){this['cache'][_0x358752(0x304)]=_0x3d362c,await this[_0x358752(0x754)][_0x358752(0x6e3)]();return;}}async[a0_0x4c01ce(0x7a6)](){const _0x17a082=a0_0x4c01ce;await this[_0x17a082(0x3ec)]();let _0x22864b=async _0x209370=>{const _0x4b29d9=_0x17a082;let _0x3aca2b=new $e(this['configService'],this[_0x4b29d9(0x8af)],this['repository']);_0x3aca2b[_0x4b29d9(0x492)]=_0x209370,await _0x3aca2b[_0x4b29d9(0x498)](),this['waInstances'][_0x209370]=_0x3aca2b;};try{if(this[_0x17a082(0x53d)][_0x17a082(0x25d)]){let _0x34b59c=await this[_0x17a082(0x754)][_0x17a082(0x29d)]();_0x34b59c?.['length']>0x0&&_0x34b59c[_0x17a082(0x68b)](async _0x50db23=>await _0x22864b(_0x50db23[_0x17a082(0x85e)](':')[0x1]));return;}if(this['db'][_0x17a082(0x25d)]){await this['repository'][_0x17a082(0x459)][_0x17a082(0x717)]();let _0x20ed1d=await this[_0x17a082(0x79e)]['collections']();_0x20ed1d[_0x17a082(0x72e)]>0x0&&_0x20ed1d[_0x17a082(0x68b)](async _0x21db0e=>await _0x22864b(_0x21db0e['namespace'][_0x17a082(0x7ea)](/^[\w-]+\./,'')));return;}}catch(_0x514bdf){this[_0x17a082(0x42f)][_0x17a082(0x82d)](_0x514bdf);}}async[a0_0x4c01ce(0x3eb)](){const _0x123e5b=a0_0x4c01ce;try{let _0x5c988a=await this[_0x123e5b(0x3b3)][_0x123e5b(0x7ba)]['findMany']({'online':!0x1});for(let _0x422ead of _0x5c988a){let _0x23e78e=_0x422ead[_0x123e5b(0x791)];await ae['removeIPv6ById'](B,_0x23e78e);}console['log'](_0x123e5b(0x50b)+_0x5c988a[_0x123e5b(0x72e)]);let _0x56aff8={'online':!0x1},_0x77babd=await this[_0x123e5b(0x3b3)]['auth']['deleteMany'](_0x56aff8);console[_0x123e5b(0x1a6)](_0x123e5b(0x810)+_0x77babd[_0x123e5b(0x745)]);}catch(_0x2c0141){console[_0x123e5b(0x82d)](_0x123e5b(0x7ca),_0x2c0141);}}async[a0_0x4c01ce(0x3ec)](){const _0x59256e=a0_0x4c01ce;try{let _0x30c3b5={'online':!0x1},_0x1df845={'online':!0x1,'lastDisconnect':Date[_0x59256e(0x82e)]()},_0xd8366=await this[_0x59256e(0x3b3)]['auth'][_0x59256e(0x4ef)](_0x30c3b5,_0x1df845);await this[_0x59256e(0x3eb)]();}catch(_0x1af6b7){console[_0x59256e(0x82d)](_0x59256e(0x1db),_0x1af6b7);}}['removeInstance'](){const _0x3e676d=a0_0x4c01ce;this[_0x3e676d(0x8af)]['on']('remove.instance',async _0x241ec1=>{const _0x29a1f9=_0x3e676d;try{this[_0x29a1f9(0x7a2)][_0x241ec1]=void 0x0;}catch{}try{this[_0x29a1f9(0x56d)](_0x241ec1);}finally{this['logger'][_0x29a1f9(0x3d2)]('Instance\x20\x22'+_0x241ec1+_0x29a1f9(0x8be));}});}[a0_0x4c01ce(0x3c5)](){const _0x3bdd60=a0_0x4c01ce;this[_0x3bdd60(0x8af)]['on'](_0x3bdd60(0x83a),async _0x4fc037=>{const _0x353e7b=_0x3bdd60;try{this[_0x353e7b(0x7a2)][_0x4fc037]=void 0x0;}catch{}try{this['cleaningUp'](_0x4fc037);}finally{this['logger']['warn']('Instance\x20\x22'+_0x4fc037+_0x353e7b(0x8a8));}});}},Jt=class extends _{[a0_0x4c01ce(0x546)](_0x3ae6b7){return ta(_0x3ae6b7);}async['insert'](_0x2f7651){const _0x29d87d=a0_0x4c01ce;if(_0x2f7651[_0x29d87d(0x72e)]!==0x0)try{return{'insertCount':(await this[_0x29d87d(0x546)](_0x2f7651[0x0][_0x29d87d(0x3f6)])['insertMany']([..._0x2f7651]))[_0x29d87d(0x72e)]};}catch(_0x46f7ee){return _0x46f7ee;}}async['find'](_0x189e8a,_0x3562ab){const _0x2fdfff=a0_0x4c01ce;try{let _0xa885f3=this['getChatModelForOwner'](_0x3562ab),_0x3c3bb6=A(_0x189e8a[_0x2fdfff(0x2c6)]);return await _0xa885f3[_0x2fdfff(0x361)](_0x3c3bb6)[_0x2fdfff(0x7cd)]({'lastmsg':-0x1})[_0x2fdfff(0x738)](_0x189e8a?.[_0x2fdfff(0x738)]??0x0)['lean']();}catch{return[];}}async['findGroupsEspecial'](_0x54427d,_0x78d8d7){const _0x2b7cdc=a0_0x4c01ce;try{let _0x3f39de=this['getChatModelForOwner'](_0x78d8d7),_0x26ec37=A(_0x54427d['where']);return _0x26ec37['groupdata.participants']={'$ne':[]},await _0x3f39de[_0x2b7cdc(0x361)](_0x26ec37)[_0x2b7cdc(0x7cd)]({'lastmsg':-0x1})[_0x2b7cdc(0x738)](_0x54427d?.[_0x2b7cdc(0x738)]??0x0)[_0x2b7cdc(0x273)]();}catch{return[];}}async[a0_0x4c01ce(0x85f)](_0x1cd2ca,_0x2f4541){const _0x17d211=a0_0x4c01ce;try{return{'deletedCount':(await this[_0x17d211(0x546)](_0x2f4541)[_0x17d211(0x3cf)]({..._0x1cd2ca[_0x17d211(0x2c6)]}))['deletedCount']};}catch(_0x500fe2){return{'error':_0x500fe2?.[_0x17d211(0x7b0)]()};}}async[a0_0x4c01ce(0x535)](_0x590041,_0x5e0594){const _0x197a64=a0_0x4c01ce;try{return await this[_0x197a64(0x546)](_0x5e0594)[_0x197a64(0x3cf)]({..._0x590041['where']}),[];}catch(_0x35b5e2){return{'error':_0x35b5e2?.[_0x197a64(0x7b0)]()};}}async[a0_0x4c01ce(0x280)](_0x2f8883,_0x1b1d14){const _0x3579fd=a0_0x4c01ce;try{let _0x59d554=this[_0x3579fd(0x546)](_0x1b1d14),_0x280f7c=A(_0x2f8883['where']);return await _0x59d554['findOne'](_0x280f7c)[_0x3579fd(0x273)]();}catch{return null;}}async[a0_0x4c01ce(0x3e7)](_0x1ea4f8,_0x451e5e,_0x558925,_0x3acc50,_0x5b7891=a0_0x4c01ce(0x686)){const _0x4953de=a0_0x4c01ce;try{let _0x3654ef={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x3acc50},_0x44dd38=this['getChatModelForOwner'](_0x558925),_0x58f846=A(_0x1ea4f8[_0x4953de(0x2c6)]);Object[_0x4953de(0x6c3)](_0x451e5e)['forEach'](_0xabf424=>{_0x451e5e[_0xabf424]==null&&delete _0x451e5e[_0xabf424];});let _0x53fee1={};return _0x53fee1[_0x5b7891]=_0x451e5e,await _0x44dd38[_0x4953de(0x741)](_0x58f846,_0x53fee1,_0x3654ef);}catch(_0x20a7bc){return console[_0x4953de(0x82d)](_0x20a7bc),null;}}async['updateMany'](_0x590d0d){const _0x53837e=a0_0x4c01ce;try{let _0xb946cf=this[_0x53837e(0x546)](_0x590d0d[0x0][_0x53837e(0x508)]['where'][_0x53837e(0x3f6)]),_0x5b08b9=_0x590d0d[_0x53837e(0x37b)](_0x2ee537=>({'updateOne':{'filter':{..._0x2ee537[_0x53837e(0x508)][_0x53837e(0x2c6)]},'update':{'$set':_0x2ee537[_0x53837e(0x79f)]},'upsert':!0x0}})),_0x213044=await _0xb946cf[_0x53837e(0x39b)](_0x5b08b9);return _0x213044[_0x53837e(0x6ee)]+_0x213044[_0x53837e(0x6c8)];}catch(_0x372a20){return console['error'](_0x372a20),0x0;}}async[a0_0x4c01ce(0x7c4)](_0xca709d){const _0x1ad6f9=a0_0x4c01ce;try{let _0x1eb1ea={'group_isCommunity':'','group_announce':'','group_size':''},_0x442ac2={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x230fe7={'$unset':_0x1eb1ea};return(await this[_0x1ad6f9(0x546)](_0xca709d)[_0x1ad6f9(0x5c4)](_0x442ac2,_0x230fe7))[_0x1ad6f9(0x6ee)];}catch(_0x413207){return console[_0x1ad6f9(0x82d)]('Error\x20removing\x20unused\x20chat\x20fields:',_0x413207),0x0;}}async[a0_0x4c01ce(0x706)](_0x7b4f0a){const _0x51150b=a0_0x4c01ce;try{let _0x57b68b=this[_0x51150b(0x546)](_0x7b4f0a),_0xeabf06={'leadInfo.etiquetas':{'$exists':!0x1}},_0x5c8573={'$set':{'leadInfo.etiquetas':[]}};return(await _0x57b68b[_0x51150b(0x5c4)](_0xeabf06,_0x5c8573))['modifiedCount'];}catch(_0x5b1d8f){return console[_0x51150b(0x82d)](_0x5b1d8f),0x0;}}async[a0_0x4c01ce(0x676)](_0x18648a){const _0x21d370=a0_0x4c01ce;try{let _0x546e21=this[_0x21d370(0x546)](_0x18648a),_0x259d67={'leadInfo.tags':{'$exists':!0x1}},_0x51500a={'$set':{'leadInfo.tags':[]}};return(await _0x546e21[_0x21d370(0x5c4)](_0x259d67,_0x51500a))[_0x21d370(0x6ee)];}catch(_0x20c4a1){return console[_0x21d370(0x82d)](_0x20c4a1),0x0;}}async[a0_0x4c01ce(0x308)](_0x5b9946){const _0x3b9d34=a0_0x4c01ce;try{let _0x21e81e=this[_0x3b9d34(0x546)](_0x5b9946),_0x147193={'leadInfo.customFields':{'$exists':!0x1}},_0x1f9e0d={'$set':{'leadInfo.customFields':[]}};return(await _0x21e81e[_0x3b9d34(0x5c4)](_0x147193,_0x1f9e0d))[_0x3b9d34(0x6ee)];}catch(_0x14f2b6){return console[_0x3b9d34(0x82d)](_0x14f2b6),0x0;}}async['insertMany'](_0x6d1a90,_0x3f7175){const _0x20a58e=a0_0x4c01ce;if(!Array[_0x20a58e(0x671)](_0x6d1a90)||_0x6d1a90[_0x20a58e(0x72e)]===0x0)throw new Error(_0x20a58e(0x216));try{return(await this[_0x20a58e(0x546)](_0x3f7175)[_0x20a58e(0x547)](_0x6d1a90))[_0x20a58e(0x72e)];}catch(_0x3af229){throw console['error'](_0x20a58e(0x5bc),_0x3af229),_0x3af229;}}async[a0_0x4c01ce(0x2be)](_0x2f3224,_0x311ce6){const _0x74acfb=a0_0x4c01ce;try{await this[_0x74acfb(0x546)](_0x311ce6)[_0x74acfb(0x330)]({'_id':_0x2f3224});}catch(_0x346f3a){throw console[_0x74acfb(0x82d)](_0x74acfb(0x505),_0x346f3a),_0x346f3a;}}},qt=class extends _{constructor(_0x38931b,_0x55de93,_0x20baa){const _0x49615e=a0_0x4c01ce;super(_0x55de93),this[_0x49615e(0x3b9)]=_0x38931b,this['configService']=_0x55de93,this[_0x49615e(0x6b5)]=_0x20baa;}async[a0_0x4c01ce(0x5df)](_0x17a88a){const _0x4be400=a0_0x4c01ce;if(_0x17a88a[_0x4be400(0x72e)]!==0x0)try{return{'insertCount':(await this[_0x4be400(0x3b9)][_0x4be400(0x547)]([..._0x17a88a]))[_0x4be400(0x72e)]};}catch(_0x27e7dc){return _0x27e7dc;}}async['update'](_0x215150,_0x16079e){const _0x2303c9=a0_0x4c01ce;try{let _0x417664=A(_0x215150['where']);return{'updatedCount':(await this[_0x2303c9(0x3b9)][_0x2303c9(0x5c4)](_0x417664,{'$set':_0x16079e}))[_0x2303c9(0x6ee)]};}catch(_0x5777f4){return console[_0x2303c9(0x82d)]('Error\x20updating\x20cache\x20contact:',_0x5777f4),{'error':_0x5777f4[_0x2303c9(0x7b0)]()};}}async[a0_0x4c01ce(0x555)](_0xc99841){const _0x4e0ec7=a0_0x4c01ce;try{let _0xa4f89e={'_id':{'$in':_0xc99841}};return await this[_0x4e0ec7(0x3b9)][_0x4e0ec7(0x361)](_0xa4f89e)['lean']();}catch(_0x5e5398){return console[_0x4e0ec7(0x82d)](_0x4e0ec7(0x450),_0x5e5398),[];}}async['delete'](_0x2fd664){const _0x45667a=a0_0x4c01ce;try{return{'deletedCount':(await this[_0x45667a(0x3b9)][_0x45667a(0x3cf)]({..._0x2fd664[_0x45667a(0x2c6)]}))[_0x45667a(0x3e1)]};}catch(_0x1c1485){return{'error':_0x1c1485?.[_0x45667a(0x7b0)]()};}}async[a0_0x4c01ce(0x361)](_0x22ceaa){const _0x3bd620=a0_0x4c01ce;try{let _0x518030=A(_0x22ceaa[_0x3bd620(0x2c6)]);return await this[_0x3bd620(0x3b9)][_0x3bd620(0x361)](_0x518030)[_0x3bd620(0x738)](_0x22ceaa?.[_0x3bd620(0x738)]??0x0)['lean']();}catch{return[];}}async['findOne'](_0x140e97){const _0x3304e5=a0_0x4c01ce;try{let _0x5bb9b4=A(_0x140e97[_0x3304e5(0x2c6)]);return await this[_0x3304e5(0x3b9)][_0x3304e5(0x280)](_0x5bb9b4)[_0x3304e5(0x273)]();}catch{return null;}}},Vt=class extends _{constructor(_0xfd1b2d,_0x549af3,_0xd8ae99){const _0x697702=a0_0x4c01ce;super(_0x549af3),this[_0x697702(0x20a)]=_0xfd1b2d,this[_0x697702(0x415)]=_0x549af3,this[_0x697702(0x6b5)]=_0xd8ae99;}async['insert'](_0x7fb741){const _0x5eadd9=a0_0x4c01ce;if(_0x7fb741[_0x5eadd9(0x72e)]!==0x0)try{return{'insertCount':(await this[_0x5eadd9(0x20a)][_0x5eadd9(0x547)]([..._0x7fb741]))[_0x5eadd9(0x72e)]};}catch(_0x368c10){return _0x368c10;}}async[a0_0x4c01ce(0x79f)](_0x6d1ccc,_0x3ce3b4){const _0x5de404=a0_0x4c01ce;try{let _0x43a368=A(_0x6d1ccc[_0x5de404(0x2c6)]);return{'updatedCount':(await this[_0x5de404(0x20a)]['updateMany'](_0x43a368,{'$set':_0x3ce3b4}))['modifiedCount']};}catch(_0x2d064){return console['error'](_0x5de404(0x45c),_0x2d064),{'error':_0x2d064[_0x5de404(0x7b0)]()};}}async[a0_0x4c01ce(0x85f)](_0x1e6d7c){const _0x1a0935=a0_0x4c01ce;try{return{'deletedCount':(await this[_0x1a0935(0x20a)]['deleteMany']({..._0x1e6d7c['where']}))['deletedCount']};}catch(_0x15aca9){return{'error':_0x15aca9?.['toString']()};}}async[a0_0x4c01ce(0x280)](_0x4c9059){const _0x40d360=a0_0x4c01ce;try{let _0x195bbe=A(_0x4c9059[_0x40d360(0x2c6)]);return await this[_0x40d360(0x20a)][_0x40d360(0x280)](_0x195bbe)[_0x40d360(0x273)]();}catch{return null;}}},Gt=class extends _{['getLabelModelForOwner'](_0x1d18e6){return Ea(_0x1d18e6);}async[a0_0x4c01ce(0x3e7)](_0x1f8cb1,_0x1c7b8b,_0x56cb59,_0x3042a6){const _0x4a8437=a0_0x4c01ce;try{let _0x23ce76={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x3042a6},_0xf3d61d=this[_0x4a8437(0x442)](_0x56cb59),_0xe1f1b7=A(_0x1f8cb1[_0x4a8437(0x2c6)]);return await _0xf3d61d[_0x4a8437(0x741)](_0xe1f1b7,{'$set':_0x1c7b8b},_0x23ce76);}catch(_0x2ea8e9){return console['error'](_0x2ea8e9),null;}}async[a0_0x4c01ce(0x361)](_0x191b50,_0x3775b0){const _0x85306a=a0_0x4c01ce;try{let _0x15b006=this[_0x85306a(0x442)](_0x3775b0),_0x43f0de=A(_0x191b50[_0x85306a(0x2c6)]);return await _0x15b006[_0x85306a(0x361)](_0x43f0de);}catch(_0x31946a){console[_0x85306a(0x82d)](_0x31946a);}}async[a0_0x4c01ce(0x85f)](_0x3f3a8e,_0x2055a3){const _0x507408=a0_0x4c01ce;try{let _0x23f67e=this[_0x507408(0x442)](_0x2055a3),_0x3982f9=A(_0x3f3a8e[_0x507408(0x2c6)]);await _0x23f67e[_0x507408(0x3cf)](_0x3982f9);}catch(_0xc5cee3){console['error'](_0xc5cee3);}}async[a0_0x4c01ce(0x535)](_0x4532a9){const _0x1b3042=a0_0x4c01ce;try{return await this[_0x1b3042(0x442)](_0x4532a9)['collection'][_0x1b3042(0x50d)](),{'success':!0x0};}catch(_0x455afa){return console[_0x1b3042(0x82d)](_0x455afa),{'success':!0x1,'error':_0x455afa};}}},Bt=class{constructor(_0x7f6138){const _0x7118ca=a0_0x4c01ce;this[_0x7118ca(0x36a)]=_0x7f6138;}async[a0_0x4c01ce(0x1ee)]({instanceName:_0x2bea8a},_0x25c910){const _0x3a066c=a0_0x4c01ce;return await this[_0x3a066c(0x36a)][_0x3a066c(0x7a2)][_0x2bea8a][_0x3a066c(0x1ee)](_0x25c910);}async[a0_0x4c01ce(0x20e)]({instanceName:_0x31c91a},_0x41c4ff){const _0x282fab=a0_0x4c01ce;return await this[_0x282fab(0x36a)][_0x282fab(0x7a2)][_0x31c91a][_0x282fab(0x20e)](_0x41c4ff);}async['importChats']({instanceName:_0x4d664f},_0xd5915a){const _0xc79648=a0_0x4c01ce;return await this[_0xc79648(0x36a)][_0xc79648(0x7a2)][_0x4d664f][_0xc79648(0x5b2)](_0xd5915a);}async[a0_0x4c01ce(0x504)]({instanceName:_0x1765cb},_0x47d1de){const _0x589934=a0_0x4c01ce;return await this[_0x589934(0x36a)][_0x589934(0x7a2)][_0x1765cb]['markMessageAsRead'](_0x47d1de);}async['archiveChat']({instanceName:_0x54e7ae},_0xe78276){const _0x14246a=a0_0x4c01ce;return await this['waMonitor'][_0x14246a(0x7a2)][_0x54e7ae][_0x14246a(0x64a)](_0xe78276);}async[a0_0x4c01ce(0x332)]({instanceName:_0x3ad4f3},_0x222887){const _0x3a0a24=a0_0x4c01ce;return await this[_0x3a0a24(0x36a)][_0x3a0a24(0x7a2)][_0x3ad4f3][_0x3a0a24(0x332)](_0x222887);}async[a0_0x4c01ce(0x358)]({instanceName:_0x3e5ed1},_0x1154de){const _0xe26b8f=a0_0x4c01ce;return await this[_0xe26b8f(0x36a)][_0xe26b8f(0x7a2)][_0x3e5ed1][_0xe26b8f(0x59b)](_0x1154de['number']);}async['fetchProfile']({instanceName:_0x57c302},_0x13cd16){const _0x1835b0=a0_0x4c01ce;return await this[_0x1835b0(0x36a)][_0x1835b0(0x7a2)][_0x57c302][_0x1835b0(0x2d6)](_0x13cd16[_0x1835b0(0x4bd)]);}async[a0_0x4c01ce(0x29b)]({instanceName:_0x109564},_0xe2eb25){const _0x15395d=a0_0x4c01ce;return await this[_0x15395d(0x36a)][_0x15395d(0x7a2)][_0x109564][_0x15395d(0x29b)](_0xe2eb25);}async[a0_0x4c01ce(0x209)]({instanceName:_0x2bd160},_0x5b2335){const _0x2ccbd0=a0_0x4c01ce;return await this[_0x2ccbd0(0x36a)][_0x2ccbd0(0x7a2)][_0x2bd160]['fetchContacts'](_0x5b2335);}async['getBase64FromMediaMessage']({instanceName:_0x33f5ba},_0x1aa83b){const _0x5ba711=a0_0x4c01ce;return await this[_0x5ba711(0x36a)][_0x5ba711(0x7a2)][_0x33f5ba][_0x5ba711(0x1c8)](_0x1aa83b);}async[a0_0x4c01ce(0x6f3)]({instanceName:_0x24a97c},_0x2e209e){const _0x6ce41f=a0_0x4c01ce;return await this[_0x6ce41f(0x36a)][_0x6ce41f(0x7a2)][_0x24a97c][_0x6ce41f(0x6f3)](_0x2e209e);}async[a0_0x4c01ce(0x7a8)]({instanceName:_0x291d66}){const _0x2b48f6=a0_0x4c01ce;return await this['waMonitor'][_0x2b48f6(0x7a2)][_0x291d66][_0x2b48f6(0x7a8)]();}async['fetchChats']({instanceName:_0x923bdf}){const _0x167772=a0_0x4c01ce;return await this['waMonitor'][_0x167772(0x7a2)][_0x923bdf][_0x167772(0x4c5)]();}async['fetchPrivacySettings']({instanceName:_0x950315}){const _0x3e64b8=a0_0x4c01ce;return await this[_0x3e64b8(0x36a)][_0x3e64b8(0x7a2)][_0x950315]['fetchPrivacySettings']();}async['updatePrivacySettings']({instanceName:_0x4b44b6},_0x5e4536){const _0x28aa46=a0_0x4c01ce;return await this[_0x28aa46(0x36a)]['waInstances'][_0x4b44b6]['updatePrivacySettings'](_0x5e4536);}async['fetchBusinessProfile']({instanceName:_0x101a25},_0x4381ec){const _0x54a7d9=a0_0x4c01ce;return await this[_0x54a7d9(0x36a)]['waInstances'][_0x101a25][_0x54a7d9(0x26b)](_0x4381ec[_0x54a7d9(0x4bd)]);}async[a0_0x4c01ce(0x58e)]({instanceName:_0x5309c4},_0x4b5d6e){const _0x13570c=a0_0x4c01ce;return await this[_0x13570c(0x36a)][_0x13570c(0x7a2)][_0x5309c4][_0x13570c(0x58e)](_0x4b5d6e['name']);}async[a0_0x4c01ce(0x73a)]({instanceName:_0x524efc},_0x26fdf3){const _0x278f98=a0_0x4c01ce;return await this[_0x278f98(0x36a)][_0x278f98(0x7a2)][_0x524efc][_0x278f98(0x73a)](_0x26fdf3[_0x278f98(0x5d6)]);}async[a0_0x4c01ce(0x70f)]({instanceName:_0x386da6},_0x4f273a){const _0x552cd9=a0_0x4c01ce;return await this[_0x552cd9(0x36a)][_0x552cd9(0x7a2)][_0x386da6][_0x552cd9(0x70f)](_0x4f273a[_0x552cd9(0x852)]);}async['removeProfilePicture']({instanceName:_0x38bbb8},_0x332ce7){const _0x5d14e7=a0_0x4c01ce;return await this['waMonitor'][_0x5d14e7(0x7a2)][_0x38bbb8][_0x5d14e7(0x456)]();}},Wt=require(a0_0x4c01ce(0x853)),zt=class u{constructor(_0x3ada3c,_0x23a88e,_0x5a997d,_0xf68e53,_0x420e89){const _0x364e2d=a0_0x4c01ce;this[_0x364e2d(0x36a)]=_0x3ada3c,this['configService']=_0x23a88e,this[_0x364e2d(0x3b3)]=_0x5a997d,this[_0x364e2d(0x8af)]=_0xf68e53,this['authService']=_0x420e89,this[_0x364e2d(0x42f)]=new $(u[_0x364e2d(0x1b3)]);}async[a0_0x4c01ce(0x8c2)]({instanceName:_0x2ef0ef,apikey:_0x55a21f,number:_0x366325,proxy:_0x1c1adc=!0x0}){const _0x58a3f0=a0_0x4c01ce;try{let _0x2db2a6=new $e(this[_0x58a3f0(0x415)],this['eventEmitter'],this[_0x58a3f0(0x3b3)]);_0x2db2a6[_0x58a3f0(0x492)]=_0x2ef0ef,this['waMonitor'][_0x58a3f0(0x7a2)][_0x2db2a6[_0x58a3f0(0x492)]]=_0x2db2a6;let _0x181d3a={};_0x55a21f?(await this['repository']['auth'][_0x58a3f0(0x88d)]({'apikey':_0x55a21f},_0x2ef0ef),_0x181d3a[_0x58a3f0(0x30e)]=_0x55a21f):_0x181d3a=await this[_0x58a3f0(0x62d)][_0x58a3f0(0x1d9)]({'instanceName':_0x2db2a6['instanceName']});let _0x1f639d;if(_0x366325){if(_0x1f639d=await this[_0x58a3f0(0x4c8)](_0x366325),_0x1f639d[_0x58a3f0(0x82d)])throw new x(_0x1f639d['error'][_0x58a3f0(0x7b0)]());_0x366325=_0x1f639d[_0x58a3f0(0x4bd)];}let _0x302afe;return await _0x2db2a6[_0x58a3f0(0x498)](_0x366325),await(0x0,Wt[_0x58a3f0(0x22d)])(0xfa0),_0x366325&&await(0x0,Wt[_0x58a3f0(0x22d)])(0xbb8),_0x302afe=_0x2db2a6[_0x58a3f0(0x749)],{'instance':{'instanceName':_0x2db2a6[_0x58a3f0(0x492)],'status':_0x58a3f0(0x84f)},'hash':_0x181d3a,'qrcode':_0x302afe};}catch(_0x4a7dc7){throw this['logger']['error'](_0x4a7dc7),_0x4a7dc7;}}async[a0_0x4c01ce(0x2c7)]({instanceName:_0x8d1293,number:_0x3def2a=null}){const _0x1d8206=a0_0x4c01ce;try{let _0x2bd1ae=this['waMonitor'][_0x1d8206(0x7a2)][_0x8d1293];switch(_0x2bd1ae?.['connectionStatus']?.[_0x1d8206(0x51d)]){case _0x1d8206(0x7d7):return await _0x2bd1ae['connectToWhatsapp'](_0x3def2a),await(0x0,Wt['delay'])(0x7d0),_0x2bd1ae[_0x1d8206(0x749)];case _0x1d8206(0x303):return _0x2bd1ae[_0x1d8206(0x749)];default:return await this[_0x1d8206(0x2e4)]({'instanceName':_0x8d1293});}}catch(_0x155711){this[_0x1d8206(0x42f)]['log'](_0x155711);}}async['connectionState']({instanceName:_0x17c186}){const _0x5e958d=a0_0x4c01ce;let _0x57627b=this['waMonitor'][_0x5e958d(0x7a2)][_0x17c186][_0x5e958d(0x855)],_0x4bbd66=null;_0x57627b[_0x5e958d(0x51d)]===_0x5e958d(0x474)&&_0x17c186&&(_0x4bbd66=await this[_0x5e958d(0x36a)][_0x5e958d(0x8f3)](_0x17c186));let _0x569390=null;return _0x57627b[_0x5e958d(0x51d)]===_0x5e958d(0x303)&&_0x17c186&&(_0x569390=this['waMonitor'][_0x5e958d(0x7a2)][_0x17c186]['qrCode']),{'instance':_0x17c186,'connectionStatus':_0x57627b,'instanceInfo':_0x4bbd66,'qrcode':_0x569390};}async[a0_0x4c01ce(0x4c8)](_0x130ac2){const _0x518faf=a0_0x4c01ce;_0x130ac2=_0x130ac2[_0x518faf(0x7ea)](/\D/g,'');let _0x38656f=Object[_0x518faf(0x6c3)](this[_0x518faf(0x36a)][_0x518faf(0x7a2)])['filter'](_0x498c70=>{const _0x471424=_0x518faf;let _0x3da227=this[_0x471424(0x36a)][_0x471424(0x7a2)][_0x498c70];return _0x3da227&&_0x3da227['connectionStatus']&&_0x3da227[_0x471424(0x855)][_0x471424(0x51d)]===_0x471424(0x474);});if(_0x38656f[_0x518faf(0x72e)]===0x0)return{'number':this['formatBRNumber'](_0x130ac2)};let _0x5b431f=Math[_0x518faf(0x279)](Math[_0x518faf(0x88c)]()*_0x38656f[_0x518faf(0x72e)]),_0x1a5a34=_0x38656f[_0x5b431f];try{let _0x1e599e=(await this[_0x518faf(0x36a)][_0x518faf(0x7a2)][_0x1a5a34][_0x518faf(0x20e)]({'numbers':[_0x130ac2]}))[_0x518faf(0x5f6)]();return _0x1e599e['exists']?{'number':_0x1e599e[_0x518faf(0x28d)][_0x518faf(0x7ea)](_0x518faf(0x4f9),'')}:{'number':_0x130ac2,'error':'Número\x20não\x20possui\x20WhatsApp.'};}catch(_0x4fba2c){return this[_0x518faf(0x42f)][_0x518faf(0x82d)]('Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:'+_0x4fba2c),{'number':_0x130ac2,'error':'Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.'};}}['formatBRNumber'](_0x2406f9){const _0x4d31e9=a0_0x4c01ce;let _0xe2ade1=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x4d31e9(0x6d1)](_0x2406f9);if(_0xe2ade1&&_0xe2ade1[0x1]==='55'){let _0x229776=_0xe2ade1[0x2],_0x32ebcc=_0xe2ade1[0x3],_0xb3a745=_0xe2ade1[0x4];if(parseInt(_0x229776)>=0x1f&&_0x32ebcc==='9')return _0xe2ade1[0x1]+_0x229776+_0xb3a745;}return _0x2406f9;}async[a0_0x4c01ce(0x649)]({instanceName:_0x7f7867}){const _0x1ad016=a0_0x4c01ce;try{return this['waMonitor'][_0x1ad016(0x7a2)][_0x7f7867]?.['client']?.['ws']?.[_0x1ad016(0x7d7)](),{'status':_0x1ad016(0x353),'error':!0x1,'response':{'message':_0x1ad016(0x73b)}};}catch(_0x3d59f6){this[_0x1ad016(0x42f)][_0x1ad016(0x82d)](_0x3d59f6);}}async['fetchInstances']({instanceName:_0x40b129}){const _0x2eb51d=a0_0x4c01ce;return _0x40b129?this[_0x2eb51d(0x36a)][_0x2eb51d(0x8f3)](_0x40b129):this['waMonitor'][_0x2eb51d(0x8f3)]();}async['logout']({instanceName:_0x3d310d}){const _0x17975e=a0_0x4c01ce;try{return await this['waMonitor'][_0x17975e(0x7a2)][_0x3d310d]?.[_0x17975e(0x2aa)]?.[_0x17975e(0x4fa)](_0x17975e(0x5bd)+_0x3d310d),{'error':!0x1,'message':_0x17975e(0x7a4)};}catch(_0x58a17c){throw new x(_0x58a17c['toString']());}}async[a0_0x4c01ce(0x7be)]({instanceName:_0x558317}){const _0x1ea847=a0_0x4c01ce;if((await this[_0x1ea847(0x2e4)]({'instanceName':_0x558317}))[_0x1ea847(0x855)][_0x1ea847(0x51d)]===_0x1ea847(0x474))throw new m([_0x1ea847(0x29a),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this[_0x1ea847(0x36a)][_0x1ea847(0x7a2)][_0x558317],{'error':!0x1,'message':_0x1ea847(0x44d)};}catch(_0x13194c){throw new m(_0x13194c[_0x1ea847(0x7b0)]());}}},ce=require('class-validator'),Ht=class{constructor(_0x5eefb7){const _0x1971a1=a0_0x4c01ce;this[_0x1971a1(0x36a)]=_0x5eefb7;}async['sendText']({instanceName:_0x15f215},_0xa44f2c){const _0x55f24b=a0_0x4c01ce;return await this['waMonitor']['waInstances'][_0x15f215][_0x55f24b(0x5d3)](_0xa44f2c);}async[a0_0x4c01ce(0x5ba)]({instanceName:_0x4661eb},_0x2c6c9f){const _0x51a75f=a0_0x4c01ce;return await this[_0x51a75f(0x36a)]['waInstances'][_0x4661eb][_0x51a75f(0x653)](_0x2c6c9f);}async[a0_0x4c01ce(0x297)]({instanceName:_0x3f7c4e},_0x542a23){const _0x9dd9d0=a0_0x4c01ce;if((0x0,ce[_0x9dd9d0(0x696)])(_0x542a23?.['mediaMessage']?.[_0x9dd9d0(0x57c)])&&!_0x542a23?.['mediaMessage']?.[_0x9dd9d0(0x3a8)])throw new m(_0x9dd9d0(0x2f7));if((0x0,ce[_0x9dd9d0(0x578)])(_0x542a23?.[_0x9dd9d0(0x571)]?.[_0x9dd9d0(0x57c)])||(0x0,ce[_0x9dd9d0(0x696)])(_0x542a23?.['mediaMessage']?.['media']))return await this[_0x9dd9d0(0x36a)][_0x9dd9d0(0x7a2)][_0x3f7c4e][_0x9dd9d0(0x571)](_0x542a23);throw new m(_0x9dd9d0(0x6f1));}async[a0_0x4c01ce(0x7ae)]({instanceName:_0x47bf8c},_0x3a1be0){const _0x5c5a88=a0_0x4c01ce;if((0x0,ce[_0x5c5a88(0x578)])(_0x3a1be0['stickerMessage'][_0x5c5a88(0x499)])||(0x0,ce['isBase64'])(_0x3a1be0[_0x5c5a88(0x18c)]['image']))return await this[_0x5c5a88(0x36a)]['waInstances'][_0x47bf8c][_0x5c5a88(0x287)](_0x3a1be0);throw new m(_0x5c5a88(0x6f1));}async['sendWhatsAppAudio']({instanceName:_0x47c508},_0x530e55){const _0x8d4ee5=a0_0x4c01ce;if((0x0,ce[_0x8d4ee5(0x578)])(_0x530e55[_0x8d4ee5(0x503)][_0x8d4ee5(0x49b)])||(0x0,ce['isBase64'])(_0x530e55[_0x8d4ee5(0x503)][_0x8d4ee5(0x49b)]))return await this[_0x8d4ee5(0x36a)][_0x8d4ee5(0x7a2)][_0x47c508][_0x8d4ee5(0x4f1)](_0x530e55);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x4c01ce(0x655)]({instanceName:_0xedbc32},_0x35cfe4){const _0x2b9111=a0_0x4c01ce;return await this[_0x2b9111(0x36a)]['waInstances'][_0xedbc32][_0x2b9111(0x5cc)](_0x35cfe4);}async[a0_0x4c01ce(0x275)]({instanceName:_0x1d8c5b},_0x5661e4){const _0x20f06d=a0_0x4c01ce;return await this[_0x20f06d(0x36a)][_0x20f06d(0x7a2)][_0x1d8c5b][_0x20f06d(0x2b9)](_0x5661e4);}async['sendPoll']({instanceName:_0x277827},_0x42fa4f){const _0x176088=a0_0x4c01ce;return await this['waMonitor'][_0x176088(0x7a2)][_0x277827]['pollMessage'](_0x42fa4f);}async[a0_0x4c01ce(0x698)]({instanceName:_0x1862da},_0x4efc44){const _0xa95d8d=a0_0x4c01ce;return await this[_0xa95d8d(0x36a)]['waInstances'][_0x1862da][_0xa95d8d(0x8c6)](_0x4efc44);}async[a0_0x4c01ce(0x247)]({instanceName:_0x390170},_0x3393ef){const _0x1e3ec2=a0_0x4c01ce;return await this[_0x1e3ec2(0x36a)][_0x1e3ec2(0x7a2)][_0x390170][_0x1e3ec2(0x306)](_0x3393ef);}async[a0_0x4c01ce(0x2bb)]({instanceName:_0x4f89ed},_0x4872f7){const _0x15c28d=a0_0x4c01ce;if(!_0x4872f7[_0x15c28d(0x512)][_0x15c28d(0x34f)]['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x15c28d(0x868));return await this[_0x15c28d(0x36a)]['waInstances'][_0x4f89ed][_0x15c28d(0x512)](_0x4872f7);}async[a0_0x4c01ce(0x317)]({instanceName:_0x169f3f},_0x35a1fb){const _0x3689f3=a0_0x4c01ce;return await this[_0x3689f3(0x36a)]['waInstances'][_0x169f3f]['statusMessage'](_0x35a1fb);}},Pi=require(a0_0x4c01ce(0x734)),Us=require(a0_0x4c01ce(0x7e6)),Kt=class u{constructor(_0x478b23,_0x3a67dd,_0x2903e9){const _0x25f0ed=a0_0x4c01ce;this[_0x25f0ed(0x415)]=_0x478b23,this[_0x25f0ed(0x36a)]=_0x3a67dd,this['repository']=_0x2903e9,this[_0x25f0ed(0x42f)]=new $(u[_0x25f0ed(0x1b3)]);}async[a0_0x4c01ce(0x33c)](_0x2e0323){const _0x2472f7=a0_0x4c01ce;let _0x27bf7d=this[_0x2472f7(0x415)][_0x2472f7(0x5f0)]('AUTHENTICATION')['JWT'],_0x1d2055=(0x0,Pi[_0x2472f7(0x19e)])({'instanceName':_0x2e0323[_0x2472f7(0x492)],'apiName':it,'tokenId':(0x0,Us['v4'])()},_0x27bf7d[_0x2472f7(0x825)],{'expiresIn':_0x27bf7d[_0x2472f7(0x52e)],'encoding':_0x2472f7(0x31c),'subject':_0x2472f7(0x744)}),_0x351ac=await this[_0x2472f7(0x3b3)][_0x2472f7(0x7ba)][_0x2472f7(0x88d)]({'jwt':_0x1d2055},_0x2e0323[_0x2472f7(0x492)]);if(_0x351ac[_0x2472f7(0x82d)])throw this[_0x2472f7(0x42f)][_0x2472f7(0x82d)]({'localError':u[_0x2472f7(0x1b3)]+'.jwt','error':_0x351ac[_0x2472f7(0x82d)]}),new m(_0x2472f7(0x289),_0x351ac['error']?.[_0x2472f7(0x7b0)]());return{'jwt':_0x1d2055};}async[a0_0x4c01ce(0x30e)](_0x4fd4ce){const _0x3cecba=a0_0x4c01ce;let _0x10b94b=(0x0,Us['v4'])()[_0x3cecba(0x89f)](),_0x4c69ae=await this['repository'][_0x3cecba(0x7ba)][_0x3cecba(0x88d)]({'apikey':_0x10b94b},_0x4fd4ce[_0x3cecba(0x492)]);if(_0x4c69ae['error'])throw this[_0x3cecba(0x42f)][_0x3cecba(0x82d)]({'localError':u[_0x3cecba(0x1b3)]+_0x3cecba(0x2f6),'error':_0x4c69ae[_0x3cecba(0x82d)]}),new m('Authentication\x20error',_0x4c69ae['error']?.[_0x3cecba(0x7b0)]());return{'apikey':_0x10b94b};}async['generateHash'](_0x405b7f){const _0x727253=a0_0x4c01ce;let _0x28b070=this[_0x727253(0x415)][_0x727253(0x5f0)]('AUTHENTICATION');return await this[_0x28b070[_0x727253(0x24f)]](_0x405b7f);}},Qt=class{constructor(_0x4c5162){this['waMonitor']=_0x4c5162;}async[a0_0x4c01ce(0x4de)](_0x5d5360,_0xab583){const _0x11b2f0=a0_0x4c01ce;return await this['waMonitor'][_0x11b2f0(0x7a2)][_0x5d5360[_0x11b2f0(0x492)]][_0x11b2f0(0x4de)](_0xab583);}async[a0_0x4c01ce(0x32a)](_0x6bb627,_0x153cd2){const _0xaefa50=a0_0x4c01ce;return await this[_0xaefa50(0x36a)][_0xaefa50(0x7a2)][_0x6bb627['instanceName']][_0xaefa50(0x32a)](_0x153cd2);}async[a0_0x4c01ce(0x42b)](_0x17f812,_0xe34d75){const _0x3a89b9=a0_0x4c01ce;return await this[_0x3a89b9(0x36a)][_0x3a89b9(0x7a2)][_0x17f812[_0x3a89b9(0x492)]][_0x3a89b9(0x42b)](_0xe34d75);}async[a0_0x4c01ce(0x74d)](_0x11efef,_0x369396){const _0x387e35=a0_0x4c01ce;return await this[_0x387e35(0x36a)][_0x387e35(0x7a2)][_0x11efef[_0x387e35(0x492)]][_0x387e35(0x74d)](_0x369396);}async[a0_0x4c01ce(0x211)](_0x5ca7,_0x45da13){const _0x96f620=a0_0x4c01ce;return await this['waMonitor']['waInstances'][_0x5ca7[_0x96f620(0x492)]][_0x96f620(0x211)](_0x45da13);}async[a0_0x4c01ce(0x22a)](_0x14eb31,_0x3afe34){const _0x20a6ab=a0_0x4c01ce;return await this['waMonitor'][_0x20a6ab(0x7a2)][_0x14eb31[_0x20a6ab(0x492)]]['groupSetting'](_0x3afe34);}async[a0_0x4c01ce(0x257)](_0x263721,_0x5a9543){const _0x5dc6e9=a0_0x4c01ce;return await this[_0x5dc6e9(0x36a)][_0x5dc6e9(0x7a2)][_0x263721[_0x5dc6e9(0x492)]][_0x5dc6e9(0x222)](_0x5a9543);}async['findGroups'](_0x1430a6){const _0x4c9e4a=a0_0x4c01ce;return await this[_0x4c9e4a(0x36a)]['waInstances'][_0x1430a6['instanceName']][_0x4c9e4a(0x869)]();}async[a0_0x4c01ce(0x261)](_0x376bc8,_0x1b5e73){const _0x3a5fcb=a0_0x4c01ce;return await this[_0x3a5fcb(0x36a)][_0x3a5fcb(0x7a2)][_0x376bc8[_0x3a5fcb(0x492)]][_0x3a5fcb(0x261)](_0x1b5e73);}async['joinGroup'](_0x3e84dd,_0x2404c4){const _0x285c45=a0_0x4c01ce;return await this[_0x285c45(0x36a)][_0x285c45(0x7a2)][_0x3e84dd[_0x285c45(0x492)]][_0x285c45(0x300)](_0x2404c4);}async['groupGetInviteInfo'](_0x3cb0bf,_0x4ddcbf){const _0x1d311e=a0_0x4c01ce;return await this[_0x1d311e(0x36a)]['waInstances'][_0x3cb0bf[_0x1d311e(0x492)]]['groupGetInviteInfo'](_0x4ddcbf);}async['revokeInviteCode'](_0x469cc0,_0x5d3858){const _0x5c2367=a0_0x4c01ce;return await this['waMonitor'][_0x5c2367(0x7a2)][_0x469cc0[_0x5c2367(0x492)]][_0x5c2367(0x57e)](_0x5d3858);}async[a0_0x4c01ce(0x549)](_0x5add71,_0x50b543){const _0x4a743f=a0_0x4c01ce;return await this[_0x4a743f(0x36a)][_0x4a743f(0x7a2)][_0x5add71['instanceName']][_0x4a743f(0x549)](_0x50b543);}async[a0_0x4c01ce(0x728)](_0x181fd1,_0x3ea302){const _0x533423=a0_0x4c01ce;return await this[_0x533423(0x36a)][_0x533423(0x7a2)][_0x181fd1[_0x533423(0x492)]][_0x533423(0x832)](_0x3ea302);}async[a0_0x4c01ce(0x767)](_0xc486fc,_0x348bf7){const _0x2a6cab=a0_0x4c01ce;return await this[_0x2a6cab(0x36a)][_0x2a6cab(0x7a2)][_0xc486fc[_0x2a6cab(0x492)]]['toggleEphemeral'](_0x348bf7);}async['leaveGroup'](_0x250886,_0x5ee3ed){const _0x21d2a2=a0_0x4c01ce;return await this[_0x21d2a2(0x36a)][_0x21d2a2(0x7a2)][_0x250886['instanceName']][_0x21d2a2(0x457)](_0x5ee3ed);}},Yt=class{constructor(_0x31ecb7){this['waMonitor']=_0x31ecb7;}[a0_0x4c01ce(0x88d)](_0x116a8d,_0x57ce05){const _0x2ceda1=a0_0x4c01ce;return this[_0x2ceda1(0x36a)][_0x2ceda1(0x7a2)][_0x116a8d[_0x2ceda1(0x492)]]['setWebhook'](_0x57ce05);}async[a0_0x4c01ce(0x361)](_0xd0959f){const _0x92e90=a0_0x4c01ce;try{return await this['waMonitor']['waInstances'][_0xd0959f[_0x92e90(0x492)]][_0x92e90(0x2d0)]();}catch{return{'enabled':null,'url':''};}}},nh=new $(a0_0x4c01ce(0x652)),Xt=class{constructor(_0x348bf2){const _0x140786=a0_0x4c01ce;this[_0x140786(0x36a)]=_0x348bf2;}async['editScheduleMessage'](_0x191f09,_0x5a1d02){const _0x25ccfe=a0_0x4c01ce;return await this[_0x25ccfe(0x36a)][_0x25ccfe(0x7a2)][_0x191f09[_0x25ccfe(0x492)]][_0x25ccfe(0x364)](_0x5a1d02);}async[a0_0x4c01ce(0x38e)](_0x153086){const _0x1d84bf=a0_0x4c01ce;return await this[_0x1d84bf(0x36a)][_0x1d84bf(0x7a2)][_0x153086[_0x1d84bf(0x492)]][_0x1d84bf(0x38e)]();}async[a0_0x4c01ce(0x65c)](_0x281e37){const _0x2ea75d=a0_0x4c01ce;return await this[_0x2ea75d(0x36a)][_0x2ea75d(0x7a2)][_0x281e37['instanceName']]['deleteDoneMessages']();}async[a0_0x4c01ce(0x240)](_0x526aef){const _0x3cbbc0=a0_0x4c01ce;return await this[_0x3cbbc0(0x36a)]['waInstances'][_0x526aef['instanceName']][_0x3cbbc0(0x240)]();}async['updateAgent'](_0x490f8b,_0x5db2a5){const _0x38a528=a0_0x4c01ce;return await this[_0x38a528(0x36a)][_0x38a528(0x7a2)][_0x490f8b['instanceName']][_0x38a528(0x876)](_0x5db2a5);}async[a0_0x4c01ce(0x43e)](_0x3dd0b0,_0x1542c6){const _0x31af5f=a0_0x4c01ce;return await this[_0x31af5f(0x36a)][_0x31af5f(0x7a2)][_0x3dd0b0[_0x31af5f(0x492)]]['updateCustomFields'](_0x1542c6);}async[a0_0x4c01ce(0x604)](_0x1ca618,_0x1fb088){const _0x41200a=a0_0x4c01ce;return await this[_0x41200a(0x36a)][_0x41200a(0x7a2)][_0x1ca618[_0x41200a(0x492)]][_0x41200a(0x604)](_0x1fb088);}async['updateFlowConfig'](_0x3beb92,_0x16e463){return await this['waMonitor']['waInstances'][_0x3beb92['instanceName']]['updateFlowConfig'](_0x16e463);}async[a0_0x4c01ce(0x716)](_0x29f939,_0x181ea3){const _0x3279a3=a0_0x4c01ce;return await this[_0x3279a3(0x36a)][_0x3279a3(0x7a2)][_0x29f939['instanceName']][_0x3279a3(0x716)](_0x181ea3);}async['startFlowWebhook'](_0x125543,_0x36f0a8,_0x44b90f,_0x363ecf){const _0x3e5ad7=a0_0x4c01ce;return await this[_0x3e5ad7(0x36a)]['waInstances'][_0x125543][_0x3e5ad7(0x87f)](_0x36f0a8,_0x44b90f,_0x363ecf);}async[a0_0x4c01ce(0x732)](_0x17d03b,_0x1a7eae){const _0xa76359=a0_0x4c01ce;return await this[_0xa76359(0x36a)][_0xa76359(0x7a2)][_0x17d03b[_0xa76359(0x492)]][_0xa76359(0x732)](_0x1a7eae);}async[a0_0x4c01ce(0x89a)](_0x58ba64,_0x3ec3e7){const _0x544a46=a0_0x4c01ce;return await this[_0x544a46(0x36a)][_0x544a46(0x7a2)][_0x58ba64[_0x544a46(0x492)]][_0x544a46(0x89a)](_0x3ec3e7);}async[a0_0x4c01ce(0x55a)](_0x46ae8f,_0x27b37d){const _0x4bcee0=a0_0x4c01ce;return await this[_0x4bcee0(0x36a)]['waInstances'][_0x46ae8f[_0x4bcee0(0x492)]][_0x4bcee0(0x55a)](_0x27b37d);}async[a0_0x4c01ce(0x4ce)](_0x30d6ef,_0x3fd909){const _0x23488e=a0_0x4c01ce;return await this[_0x23488e(0x36a)][_0x23488e(0x7a2)][_0x30d6ef[_0x23488e(0x492)]][_0x23488e(0x4ce)](_0x3fd909);}async['getFlow'](_0x513849,_0x269a13){const _0xa0ee38=a0_0x4c01ce;return await this[_0xa0ee38(0x36a)]['waInstances'][_0x513849['instanceName']]['getFlow'](_0x269a13[_0xa0ee38(0x791)]);}async[a0_0x4c01ce(0x774)](_0x31825b,_0x36e9ae,_0x507df4){const _0x3aa3fc=a0_0x4c01ce;return await this[_0x3aa3fc(0x36a)]['waInstances'][_0x31825b[_0x3aa3fc(0x492)]][_0x3aa3fc(0x774)](_0x36e9ae,_0x507df4);}async[a0_0x4c01ce(0x4cd)](_0x26c23b,_0x346e35,_0xbb0c2b){const _0x1bb961=a0_0x4c01ce;return await this[_0x1bb961(0x36a)][_0x1bb961(0x7a2)][_0x26c23b[_0x1bb961(0x492)]][_0x1bb961(0x4cd)](_0x346e35,_0xbb0c2b);}async[a0_0x4c01ce(0x71e)](_0x430ed6,_0x18b111){const _0xda34f9=a0_0x4c01ce;return await this[_0xda34f9(0x36a)][_0xda34f9(0x7a2)][_0x430ed6[_0xda34f9(0x492)]][_0xda34f9(0x71e)](_0x18b111);}async[a0_0x4c01ce(0x3f7)](_0x18e584,_0x166a4b){const _0x320e63=a0_0x4c01ce;return await this['waMonitor']['waInstances'][_0x18e584[_0x320e63(0x492)]][_0x320e63(0x3f7)](_0x166a4b);}async['editFlowGroup'](_0x8ef87e,_0x3f3410){return await this['waMonitor']['waInstances'][_0x8ef87e['instanceName']]['editFlowGroup'](_0x3f3410);}async[a0_0x4c01ce(0x79c)](_0x165b67,_0x447ad5){const _0x5e344d=a0_0x4c01ce;return await this[_0x5e344d(0x36a)][_0x5e344d(0x7a2)][_0x165b67['instanceName']][_0x5e344d(0x79c)](_0x447ad5);}async[a0_0x4c01ce(0x463)](_0x22d92d,_0x548cba){const _0x200dc8=a0_0x4c01ce;return await this['waMonitor'][_0x200dc8(0x7a2)][_0x22d92d[_0x200dc8(0x492)]][_0x200dc8(0x463)](_0x548cba);}async[a0_0x4c01ce(0x759)](_0x4c1609,_0x84a019){const _0x1e8e41=a0_0x4c01ce;return await this['waMonitor'][_0x1e8e41(0x7a2)][_0x4c1609[_0x1e8e41(0x492)]]['editFlowVariable'](_0x84a019);}async[a0_0x4c01ce(0x8c8)](_0x302d75,_0x2aac05){const _0x50bae9=a0_0x4c01ce;return await this[_0x50bae9(0x36a)][_0x50bae9(0x7a2)][_0x302d75[_0x50bae9(0x492)]]['deleteFlow'](_0x2aac05);}async['allFlows'](_0x5b10df){const _0xb7fead=a0_0x4c01ce;return await this['waMonitor'][_0xb7fead(0x7a2)][_0x5b10df['instanceName']][_0xb7fead(0x393)]();}},Zt=class{constructor(_0x41ca71){const _0xda8cdc=a0_0x4c01ce;this[_0xda8cdc(0x87b)]=_0x41ca71;}async[a0_0x4c01ce(0x837)](_0x264e4f,_0x5e3459){const _0x2ac777=a0_0x4c01ce;return this[_0x2ac777(0x87b)][_0x2ac777(0x88d)](_0x264e4f,_0x5e3459);}async[a0_0x4c01ce(0x2d0)](_0x2891d1){const _0x316e30=a0_0x4c01ce;return this[_0x316e30(0x87b)][_0x316e30(0x361)](_0x2891d1);}},es=class extends _{constructor(_0x7c07bf,_0x340d75){const _0x25a8a8=a0_0x4c01ce;super(_0x340d75),this[_0x25a8a8(0x763)]=_0x7c07bf,this['configService']=_0x340d75;}async[a0_0x4c01ce(0x88d)](_0x43ecb6,_0x3faa40){const _0x1536b3=a0_0x4c01ce;try{return this[_0x1536b3(0x1b9)][_0x1536b3(0x25d)]?{'insertCount':(await this['webhookModel'][_0x1536b3(0x2db)]({'_id':_0x3faa40},{..._0x43ecb6},{'upsert':!0x0}))[_0x1536b3(0x6ee)]}:{'insertCount':0x1};}catch(_0x2231bd){return _0x2231bd;}}async[a0_0x4c01ce(0x85f)](_0x47d12b){const _0x237504=a0_0x4c01ce;try{if(this[_0x237504(0x1b9)][_0x237504(0x25d)]){await this[_0x237504(0x763)][_0x237504(0x330)]({'_id':_0x47d12b});return;}}catch(_0x5f4694){return{'error':_0x5f4694};}}async[a0_0x4c01ce(0x361)](_0x29aa86){const _0x2ab2b4=a0_0x4c01ce;try{if(this[_0x2ab2b4(0x1b9)][_0x2ab2b4(0x25d)])return await this['webhookModel'][_0x2ab2b4(0x280)]({'_id':_0x29aa86});}catch{return{};}}},ts=class extends _{constructor(_0xeaacff,_0x11b018){const _0x5edf3c=a0_0x4c01ce;super(_0x11b018),this[_0x5edf3c(0x53f)]=_0xeaacff,this[_0x5edf3c(0x415)]=_0x11b018,this[_0x5edf3c(0x7ba)]=_0x11b018[_0x5edf3c(0x5f0)](_0x5edf3c(0x489));}async[a0_0x4c01ce(0x88d)](_0x5cd235,_0x454894){const _0x16b331=a0_0x4c01ce;try{if(this[_0x16b331(0x1b9)]['ENABLED'])return{'insertCount':(await this[_0x16b331(0x53f)]['updateOne']({'_id':_0x454894},{'$set':{..._0x5cd235}},{'upsert':!0x0}))[_0x16b331(0x6ee)]};}catch(_0x5d062f){return{'error':_0x5d062f};}}async[a0_0x4c01ce(0x4ef)](_0x5d41ef,_0x15d4b4){const _0x59a0a5=a0_0x4c01ce;try{if(this[_0x59a0a5(0x1b9)][_0x59a0a5(0x25d)])return{'insertCount':(await this[_0x59a0a5(0x53f)][_0x59a0a5(0x5c4)](_0x5d41ef,{'$set':_0x15d4b4},{'upsert':!0x1}))[_0x59a0a5(0x6ee)]};throw new Error(_0x59a0a5(0x608));}catch(_0x16f441){return{'error':_0x16f441};}}async[a0_0x4c01ce(0x3cf)](_0x4f478b){const _0x3e47e9=a0_0x4c01ce;try{if(this[_0x3e47e9(0x1b9)]['ENABLED'])return{'insertCount':(await this['authModel'][_0x3e47e9(0x3cf)](_0x4f478b))[_0x3e47e9(0x3e1)]};throw new Error(_0x3e47e9(0x624));}catch(_0x21e1b4){return{'error':_0x21e1b4};}}async[a0_0x4c01ce(0x85f)](_0x5d7d78){const _0xea9b48=a0_0x4c01ce;try{if(this[_0xea9b48(0x1b9)][_0xea9b48(0x25d)]){await this[_0xea9b48(0x53f)][_0xea9b48(0x330)]({'_id':_0x5d7d78});return;}}catch(_0x9807c6){return{'error':_0x9807c6};}}async[a0_0x4c01ce(0x361)](_0x323a0d){const _0x3565da=a0_0x4c01ce;try{if(this['dbSettings']['ENABLED'])return await this[_0x3565da(0x53f)]['findOne']({'_id':_0x323a0d});}catch{return{};}}async[a0_0x4c01ce(0x5d0)](){const _0x43571e=a0_0x4c01ce;try{if(this['dbSettings']['ENABLED'])return await this[_0x43571e(0x53f)][_0x43571e(0x361)]();}catch{return[];}}async[a0_0x4c01ce(0x683)](_0x37677b){const _0x2734d7=a0_0x4c01ce;try{if(this['dbSettings'][_0x2734d7(0x25d)])return await this[_0x2734d7(0x53f)]['find'](_0x37677b);}catch{return[];}}},ss=class extends _{async[a0_0x4c01ce(0x330)](_0x2bfd8e){const _0x99a8f2=a0_0x4c01ce;try{let _0x3934c9=A(_0x2bfd8e[_0x99a8f2(0x2c6)]);return{'deletedCount':(await Ce['deleteOne'](_0x3934c9))[_0x99a8f2(0x3e1)]};}catch(_0x311446){return{'error':_0x311446?.[_0x99a8f2(0x7b0)]()};}}async['updateOne'](_0x255cc5,_0x5ef325){const _0x39ccac=a0_0x4c01ce;try{let _0x758733=await Ce[_0x39ccac(0x1c5)](_0x255cc5);return _0x758733?(Object['assign'](_0x758733,_0x5ef325),await _0x758733[_0x39ccac(0x4dc)]()):(console[_0x39ccac(0x82d)](_0x39ccac(0x239),_0x255cc5),null);}catch(_0x6ac510){return console['error'](_0x39ccac(0x6dc),_0x6ac510),null;}}async['createAndSave'](_0x24cbec){const _0x4f6038=a0_0x4c01ce;try{return await new Ce(_0x24cbec)['save']();}catch(_0x46491b){return console[_0x4f6038(0x82d)](_0x4f6038(0x841),_0x46491b),null;}}async[a0_0x4c01ce(0x5d0)](_0x21f1db){const _0x5b4ea0=a0_0x4c01ce;try{let _0x48d882=_0x21f1db['where']??{};return await Ce['find'](_0x48d882)['limit'](_0x21f1db[_0x5b4ea0(0x738)]??0x0)[_0x5b4ea0(0x273)]();}catch(_0x44e494){return console[_0x5b4ea0(0x82d)]('Erro\x20ao\x20buscar\x20fluxos:',_0x44e494),[];}}async['findOne'](_0x471b26){const _0x1c98c8=a0_0x4c01ce;try{let _0x1a1a79=A(_0x471b26[_0x1c98c8(0x2c6)]);return await Ce[_0x1c98c8(0x280)](_0x1a1a79)['lean']();}catch{return null;}}},as=class extends _{[a0_0x4c01ce(0x5a6)](_0x2c4737){return Sa(_0x2c4737);}async[a0_0x4c01ce(0x5df)](_0x5ef1de){const _0x44c5b4=a0_0x4c01ce;if(_0x5ef1de['length']!==0x0)try{return{'insertCount':(await this[_0x44c5b4(0x5a6)](_0x5ef1de[0x0]['owner'])[_0x44c5b4(0x547)]([..._0x5ef1de]))[_0x44c5b4(0x72e)]};}catch(_0x5430c1){return _0x5430c1;}}async[a0_0x4c01ce(0x85f)](_0x5cdc04,_0x11d145){const _0x40485e=a0_0x4c01ce;try{let _0x30fe71=this[_0x40485e(0x5a6)](_0x11d145),_0x773572=A(_0x5cdc04[_0x40485e(0x2c6)]);return{'deletedCount':(await _0x30fe71[_0x40485e(0x3cf)](_0x773572))[_0x40485e(0x3e1)]};}catch(_0x542169){return{'error':_0x542169?.[_0x40485e(0x7b0)]()};}}async['deleteOne'](_0x53172a,_0x3dd73e){const _0x4af853=a0_0x4c01ce;try{let _0x5002bb=this[_0x4af853(0x5a6)](_0x3dd73e),_0x21247a=A(_0x53172a[_0x4af853(0x2c6)]);return{'deletedCount':(await _0x5002bb['deleteOne'](_0x21247a))[_0x4af853(0x3e1)]};}catch(_0x3b9aea){return{'error':_0x3b9aea?.[_0x4af853(0x7b0)]()};}}async[a0_0x4c01ce(0x79f)](_0x2967cf,_0x131802){const _0x357b1d=a0_0x4c01ce;try{if(_0x2967cf[_0x357b1d(0x72e)]===0x0)return;let _0xb187f6=this[_0x357b1d(0x5a6)](_0x131802),_0x54025f=_0x2967cf[_0x357b1d(0x37b)](_0x4e6b07=>({'updateOne':{'filter':{'name':_0x4e6b07[_0x357b1d(0x1b3)],'owner':_0x131802},'update':{..._0x4e6b07}}})),{modifiedCount:_0x1fab98}=await _0xb187f6[_0x357b1d(0x39b)](_0x54025f);return{'insertCount':_0x1fab98};}catch{return;}}async['updateMany'](_0x514151,_0x17be7f,_0x300573){const _0xafc83=a0_0x4c01ce;try{return{'modifiedCount':(await this[_0xafc83(0x5a6)](_0x300573)[_0xafc83(0x5c4)](_0x514151,{'$set':_0x17be7f})[_0xafc83(0x6d1)]())[_0xafc83(0x6ee)]};}catch(_0x37f43b){return console[_0xafc83(0x82d)]('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0x37f43b),{'error':_0x37f43b};}}async[a0_0x4c01ce(0x3e7)](_0x3155ea,_0x543ac2,_0x3ff813){const _0x36fc7c=a0_0x4c01ce;try{return await this[_0x36fc7c(0x5a6)](_0x3ff813)['findOneAndUpdate']({'_id':_0x3155ea},{'$set':_0x543ac2},{'new':!0x0,'upsert':!0x0})[_0x36fc7c(0x273)]();}catch(_0x4ba6a4){return console[_0x36fc7c(0x82d)](_0x4ba6a4),null;}}async[a0_0x4c01ce(0x361)](_0xa41d81,_0x47916e){const _0x22825a=a0_0x4c01ce;try{return await this[_0x22825a(0x5a6)](_0x47916e)['find'](_0xa41d81)[_0x22825a(0x7cd)]({'lastInteraction':-0x1})['lean']();}catch{return[];}}async[a0_0x4c01ce(0x280)](_0x4ceb50,_0x2ab30c){const _0x3aca3e=a0_0x4c01ce;try{return await this[_0x3aca3e(0x5a6)](_0x2ab30c)[_0x3aca3e(0x280)]({..._0x4ceb50[_0x3aca3e(0x2c6)]})[_0x3aca3e(0x273)]();}catch{return null;}}async[a0_0x4c01ce(0x535)](_0x317c16){const _0x4b47ad=a0_0x4c01ce;try{return await this[_0x4b47ad(0x5a6)](_0x317c16)['collection']['drop'](),{'success':!0x0};}catch(_0x46c697){return console[_0x4b47ad(0x82d)](_0x46c697),{'success':!0x1,'error':_0x46c697};}}},is=class extends _{[a0_0x4c01ce(0x675)](_0x423fde){return Ma(_0x423fde);}async[a0_0x4c01ce(0x39b)](_0x58a8b2,_0x180409){const _0x215628=a0_0x4c01ce;try{return await this['getScheduleMessageModelForOwner'](_0x180409)['bulkWrite'](_0x58a8b2);}catch(_0x2615d7){return console[_0x215628(0x82d)](_0x215628(0x7aa),_0x2615d7),null;}}async[a0_0x4c01ce(0x5cf)](_0x115d74,_0x587216){const _0x45487b=a0_0x4c01ce;try{let _0x21772a=this['getScheduleMessageModelForOwner'](_0x587216);return await new _0x21772a(_0x115d74)[_0x45487b(0x4dc)]();}catch(_0x5583dd){return console[_0x45487b(0x82d)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x5583dd),null;}}async[a0_0x4c01ce(0x330)](_0x19e85a,_0x2dd141){const _0x244c9c=a0_0x4c01ce;try{return await this['getScheduleMessageModelForOwner'](_0x2dd141)[_0x244c9c(0x51f)](_0x19e85a),{};}catch(_0xb05db0){return{'error':_0xb05db0?.[_0x244c9c(0x7b0)]()};}}async[a0_0x4c01ce(0x3e7)](_0x589ff3,_0x21c3f5,_0x1ce64e,_0x4536a0={}){const _0x29fec1=a0_0x4c01ce;try{return await this['getScheduleMessageModelForOwner'](_0x1ce64e)[_0x29fec1(0x741)](_0x589ff3,_0x21c3f5,{..._0x4536a0,'new':!0x0})['lean']();}catch(_0x5e98f9){return console[_0x29fec1(0x82d)](_0x29fec1(0x562),_0x5e98f9),null;}}async['updateOneById'](_0x13af58,_0x5a6a65,_0x3b70ff){const _0x5e95b7=a0_0x4c01ce;try{return await this['getScheduleMessageModelForOwner'](_0x3b70ff)['findByIdAndUpdate'](_0x13af58,_0x5a6a65,{'new':!0x0})['lean']();}catch(_0x342b96){return console[_0x5e95b7(0x82d)](_0x5e95b7(0x562),_0x342b96),null;}}async[a0_0x4c01ce(0x361)](_0x57130a,_0x2e5cd1){const _0x2831a6=a0_0x4c01ce;try{return await this[_0x2831a6(0x675)](_0x2e5cd1)['find'](_0x57130a[_0x2831a6(0x2c6)])[_0x2831a6(0x738)](_0x57130a?.[_0x2831a6(0x738)]??0x0)[_0x2831a6(0x7cd)]({'when':0x1})[_0x2831a6(0x273)]();}catch{return[];}}async[a0_0x4c01ce(0x280)](_0x152d92,_0x378908){const _0x27703a=a0_0x4c01ce;try{return await this[_0x27703a(0x675)](_0x378908)['findOne'](_0x152d92[_0x27703a(0x2c6)])[_0x27703a(0x7cd)]({'when':0x1})[_0x27703a(0x273)]();}catch{return null;}}async['findById'](_0x8e93e2,_0x121817){const _0x549672=a0_0x4c01ce;try{return await this[_0x549672(0x675)](_0x121817)[_0x549672(0x1c5)](_0x8e93e2)[_0x549672(0x273)]();}catch{return null;}}async[a0_0x4c01ce(0x3cf)](_0x400361,_0x140065){const _0x3be19e=a0_0x4c01ce;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x140065)[_0x3be19e(0x3cf)](_0x400361))[_0x3be19e(0x3e1)]};}catch(_0x2d6cd5){return console[_0x3be19e(0x82d)](_0x3be19e(0x54d),_0x2d6cd5),{'error':_0x2d6cd5};}}async['deleteAll'](_0x3fc2e3){const _0x1412f4=a0_0x4c01ce;try{return await this[_0x1412f4(0x675)](_0x3fc2e3)[_0x1412f4(0x1c3)][_0x1412f4(0x50d)](),{'success':!0x0};}catch(_0x3aa02d){return console['error'](_0x3aa02d),{'success':!0x1,'error':_0x3aa02d};}}},os=class extends _{async['update'](_0x57f1aa,_0x286139){const _0x1cce9b=a0_0x4c01ce;try{if(this[_0x1cce9b(0x1b9)]['ENABLED'])return await Ie[_0x1cce9b(0x741)]({'_id':_0x286139},{'$set':_0x57f1aa},{'new':!0x0});}catch(_0x472814){throw console['error'](_0x1cce9b(0x7ff),_0x472814),_0x472814;}}async['findOrCreate'](_0x198921){const _0x4270eb=a0_0x4c01ce;try{let _0x55b06e=await Ie[_0x4270eb(0x1c5)](_0x198921);return _0x55b06e?_0x55b06e[_0x4270eb(0x333)]||(_0x55b06e[_0x4270eb(0x333)]=[],await _0x55b06e['save']()):(_0x55b06e=new Ie({'_id':_0x198921,'autoCompleteMessages':[]}),await _0x55b06e[_0x4270eb(0x4dc)]()),_0x55b06e;}catch(_0x43e338){return _0x43e338[_0x4270eb(0x751)]===0x2af8&&_0x43e338[_0x4270eb(0x889)]&&_0x43e338[_0x4270eb(0x889)]['autoCompleteMessages.command']?(console[_0x4270eb(0x82d)](_0x4270eb(0x8eb)),await Ie['collection']['dropIndex'](_0x4270eb(0x8a6)),null):(console[_0x4270eb(0x82d)](_0x4270eb(0x2a0),_0x43e338),null);}}},jo=new $(a0_0x4c01ce(0x821)),Jo=new Ke(S),qo=new Jt(S),Vo=new rt(S),Go=new qt(oa,S),Bo=new Vt(na,S),Wo=new es(ha,S),zo=new ts(ua,S),Ho=new Ne(Be,S),Ko=new ss(S),Qo=new Gt(S),Yo=new as(S),Xo=new is(S),Zo=new os(S),fe=new ze(Jo,qo,Vo,Go,Bo,Wo,zo,Ho,Ko,Yo,Qo,Xo,Zo,I?.['getClient']()),G=new jt(hs,S,fe),er=new Kt(S,G,fe),tr=new Yt(G),As=new Zt(tr),O=new Xt(G),de=new zt(G,S,fe,hs,er),W=new Ht(G),D=new Bt(G),q=new Qt(G);jo['info']('Module\x20-\x20ON');var Ng=require(a0_0x4c01ce(0x557)),js=require('fs'),Di=T(require('https')),ki=T(require(a0_0x4c01ce(0x23b))),Ue=class u{static #e;static set[a0_0x4c01ce(0x88b)](_0x1dee98){this.#e=_0x1dee98;}static get[a0_0x4c01ce(0x6bc)](){const _0x2aa81e=a0_0x4c01ce;let {FULLCHAIN:_0x4f04f7,PRIVKEY:_0x1d9864}=S['get'](_0x2aa81e(0x458));return Di['createServer']({'cert':(0x0,js['readFileSync'])(_0x4f04f7),'key':(0x0,js[_0x2aa81e(0x437)])(_0x1d9864)},u.#e);}static get[a0_0x4c01ce(0x23b)](){const _0x100e3c=a0_0x4c01ce;return ki[_0x100e3c(0x69d)](u.#e);}},je=T(require('fs')),qi=T(require('ini')),Je=T(require(a0_0x4c01ce(0x1c2))),ns=T(require('path')),rs=require(a0_0x4c01ce(0x844));function sr(){const _0x2d6122=a0_0x4c01ce;G[_0x2d6122(0x7a6)]();let _0xbb49a8=ns[_0x2d6122(0x831)][_0x2d6122(0x78e)](__dirname,'downloads');Ji(_0xbb49a8);}var Ji=_0x368d6f=>{const _0x4be9c2=a0_0x4c01ce;let _0x22ea50=je[_0x4be9c2(0x831)][_0x4be9c2(0x387)](_0x368d6f),_0x10f71b=0xc*0x3c*0x3c*0x3e8,_0x3d1027=0x2*0x3c*0x3c*0x3e8,_0x295e4b=new Date()[_0x4be9c2(0x1c6)]();_0x22ea50[_0x4be9c2(0x68b)](_0x1e662f=>{const _0x4d2b79=_0x4be9c2;let _0x55f77e=ns['default'][_0x4d2b79(0x78e)](_0x368d6f,_0x1e662f),_0x98ee24=je[_0x4d2b79(0x831)][_0x4d2b79(0x627)](_0x55f77e)[_0x4d2b79(0x3b8)][_0x4d2b79(0x1c6)]();_0x295e4b-_0x98ee24>_0x10f71b&&(je[_0x4d2b79(0x831)]['unlinkSync'](_0x55f77e),console['log'](_0x4d2b79(0x6e0)+_0x1e662f));}),setTimeout(()=>Ji(_0x368d6f),_0x3d1027);};function ar(){const _0x31465c=a0_0x4c01ce;let _0x241130=new $(_0x31465c(0x3c8)),_0x25bec5=(0x0,ye[_0x31465c(0x831)])();_0x25bec5[_0x31465c(0x752)]((0x0,ji['default'])({'origin'(_0x109f9d,_0x31eb45){const _0x2d502d=_0x31465c;let {ORIGIN:_0x4c55b8}=S['get'](_0x2d502d(0x842));return _0x109f9d||(_0x109f9d='*'),_0x4c55b8['indexOf']('*')!==-0x1||_0x4c55b8[_0x2d502d(0x7c7)](_0x109f9d)!==-0x1?_0x31eb45(null,!0x0):_0x31eb45(new Error(_0x2d502d(0x2d3)));},'methods':[...S[_0x31465c(0x5f0)](_0x31465c(0x842))[_0x31465c(0x3e5)]],'credentials':S[_0x31465c(0x5f0)](_0x31465c(0x842))['CREDENTIALS']}),(0x0,ye[_0x31465c(0x6ba)])({'extended':!0x0,'limit':_0x31465c(0x2ab)}),(0x0,ye['json'])({'limit':_0x31465c(0x2ab)})),_0x25bec5[_0x31465c(0x752)]((_0xe0f0d2,_0xa6d501,_0x2b6ef5)=>{const _0x325119=_0x31465c;_0xe0f0d2['path']['startsWith'](_0x325119(0x6a8))?_0x2b6ef5():(0x0,Ui['default'])()(_0xe0f0d2,_0xa6d501,_0x2b6ef5);}),_0x25bec5[_0x31465c(0x3f4)](_0x31465c(0x833),_0x31465c(0x471)),_0x25bec5[_0x31465c(0x3f4)]('views',(0x0,qs[_0x31465c(0x78e)])(le,_0x31465c(0x87d))),_0x25bec5[_0x31465c(0x752)](ye[_0x31465c(0x831)][_0x31465c(0x2cd)]((0x0,qs[_0x31465c(0x78e)])(le,_0x31465c(0x5f1)))),_0x25bec5[_0x31465c(0x752)]((_0x5a51fd,_0x2628ef,_0xa478d4)=>{const _0x330d50=_0x31465c;let _0x1630cf=_0x2628ef[_0x330d50(0x27b)];_0x2628ef[_0x330d50(0x27b)]=function(_0x2a0c8d){const _0x28c282=_0x330d50;if(_0x5a51fd[_0x28c282(0x508)][_0x28c282(0x18a)]===_0x28c282(0x4af)||_0x5a51fd[_0x28c282(0x769)][_0x28c282(0x86a)]===_0x28c282(0x4af)){let _0x573ebc=JSON['parse'](_0x2a0c8d);_0x2a0c8d=JSON[_0x28c282(0x1af)](_0x20c745(_0x573ebc));}return _0x1630cf[_0x28c282(0x795)](_0x2628ef,[_0x2a0c8d]);},_0xa478d4();}),_0x25bec5[_0x31465c(0x752)]('/',ke),_0x25bec5['use']((_0x27d910,_0x4fd3ab,_0x5dbf08,_0x182db7)=>{const _0x49f859=_0x31465c;if(_0x27d910)return _0x5dbf08['status'](_0x27d910[_0x49f859(0x5d6)]||0x1f4)['json'](_0x27d910);},(_0x337fce,_0x2f9ee4,_0x1c02f8)=>{const _0x3febab=_0x31465c;let {method:_0x4e3a02,url:_0x509afe}=_0x337fce;_0x2f9ee4[_0x3febab(0x5d6)](0x194)[_0x3febab(0x2d2)]({'status':0x194,'message':'Cannot\x20'+_0x4e3a02[_0x3febab(0x89f)]()+'\x20'+_0x509afe,'error':'Not\x20Found'}),_0x1c02f8();});let _0x20c745=(_0x305cf1,_0x1b1c1a=_0x31465c(0x614))=>{const _0x33e5b1=_0x31465c;let _0x2c7484=(_0x18b61c,_0x42b9b0=null,_0x42f96f=!0x1)=>{const _0x47dbf6=a0_0x4bf3;let _0xf6f5fd={};return Object['keys'](_0x18b61c)[_0x47dbf6(0x68b)](_0x1d364d=>{const _0x55852d=_0x47dbf6;let _0x7440b2=_0x18b61c[_0x1d364d],_0x3d8eb9=''+_0x1b1c1a+_0x1d364d;_0x42b9b0&&!_0x42f96f&&(_0x3d8eb9=_0x42b9b0+'.'+_0x1d364d),!_0x7440b2&&_0x7440b2!==0x0&&_0x7440b2!==!0x1||typeof _0x7440b2>'u'?_0xf6f5fd[_0x3d8eb9]=null:typeof _0x7440b2!=_0x55852d(0x28b)&&!Array[_0x55852d(0x671)](_0x7440b2)?_0xf6f5fd[_0x3d8eb9]=_0x7440b2:typeof _0x7440b2==_0x55852d(0x28b)&&!Array[_0x55852d(0x671)](_0x7440b2)?_0xf6f5fd=Object[_0x55852d(0x551)](_0xf6f5fd,_0x2c7484(_0x7440b2,_0x3d8eb9)):Array[_0x55852d(0x671)](_0x7440b2)&&(typeof _0x7440b2[0x0]==_0x55852d(0x28b)?(_0xf6f5fd[_0x3d8eb9]=[],_0x7440b2['forEach'](_0x43a531=>{const _0x5f2db9=_0x55852d;_0xf6f5fd[_0x3d8eb9][_0x5f2db9(0x835)](_0x2c7484(_0x43a531,_0x3d8eb9,!0x0));})):_0xf6f5fd[_0x3d8eb9]=_0x7440b2);}),_0xf6f5fd;};return Array[_0x33e5b1(0x671)](_0x305cf1)?_0x305cf1[_0x33e5b1(0x37b)](_0x1ca411=>_0x2c7484(_0x1ca411)):typeof _0x305cf1==_0x33e5b1(0x28b)&&_0x305cf1!==null?_0x2c7484(_0x305cf1):{};},_0x43d018=S[_0x31465c(0x5f0)](_0x31465c(0x3c8));Ue['app']=_0x25bec5;let _0x17b378=Ue[_0x43d018[_0x31465c(0x24f)]],_0x215a8a='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x17b378[_0x31465c(0x74a)](_0x43d018[_0x31465c(0x7bf)],()=>{const _0x1525c5=_0x31465c;_0x241130[_0x1525c5(0x1a6)](_0x215a8a),_0x241130[_0x1525c5(0x1a6)](_0x43d018[_0x1525c5(0x24f)][_0x1525c5(0x89f)]()+_0x1525c5(0x24d)+_0x43d018[_0x1525c5(0x7bf)]);}),sr(),Zs();}var ir=a0_0x4c01ce(0x5e9),or=ns[a0_0x4c01ce(0x831)][a0_0x4c01ce(0x78e)](__dirname,a0_0x4c01ce(0x8ac)),Re=null;function rr(){return new Promise((_0x1df056,_0x46e441)=>{const _0x2cffe2=a0_0x4bf3;je[_0x2cffe2(0x831)][_0x2cffe2(0x5dc)](or,'utf-8',(_0x6eb561,_0x295f86)=>{const _0x25798d=_0x2cffe2;if(_0x6eb561){Re=_0x6eb561,_0x1df056();return;}qi[_0x25798d(0x831)][_0x25798d(0x2c1)](_0x295f86)[_0x25798d(0x66b)][_0x25798d(0x8b1)]===ir?(Re=null,_0x1df056()):(Re=new Error(_0x25798d(0x2f5)),_0x1df056());});});}async function nr(){const _0x4b5d7b=a0_0x4c01ce;try{await rr(),await Vs();}catch(_0x1ce878){console[_0x4b5d7b(0x82d)](_0x4b5d7b(0x288)+_0x1ce878),process[_0x4b5d7b(0x1aa)](0x1);}}nr();async function Vi(){const _0x4f8449=a0_0x4c01ce;let _0x5c2483;try{_0x5c2483=(await Je[_0x4f8449(0x831)][_0x4f8449(0x5f0)](_0x4f8449(0x351)))['data']['ip'];}catch(_0x18eac5){console[_0x4f8449(0x82d)](_0x18eac5);try{_0x5c2483=(await Je['default'][_0x4f8449(0x5f0)](_0x4f8449(0x66e)))['data']['ip'];}catch(_0x30af86){console['error'](_0x30af86);try{_0x5c2483=(await Je[_0x4f8449(0x831)][_0x4f8449(0x5f0)](_0x4f8449(0x4bf)))[_0x4f8449(0x80d)][_0x4f8449(0x2a6)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x4bcc85){return console[_0x4f8449(0x82d)](_0x4bcc85),!0x1;}}}return _0x5c2483;}var Li=0x0;async function cr(){const _0x2464c5=a0_0x4c01ce;let _0x51bc78=await new pe(S['get'](_0x2464c5(0x5ff)))[_0x2464c5(0x29d)]();return console[_0x2464c5(0x1a6)](_0x2464c5(0x1e2),_0x51bc78['length']),_0x51bc78[_0x2464c5(0x72e)];}function lr(_0xa0af87){const _0x29e965=a0_0x4c01ce;let _0x5e2f47=_0xa0af87[_0x29e965(0x5f0)]('SERVER')['URL'],_0x5f25ce=_0xa0af87[_0x29e965(0x5f0)](_0x29e965(0x458));console[_0x29e965(0x1a6)](_0x29e965(0x186),_0x5e2f47),console['log'](_0x29e965(0x623),_0x5f25ce);let _0x533973='',_0x3c7974=_0x5e2f47||'';if(_0x5e2f47){let _0x429797=_0x5e2f47[_0x29e965(0x2a6)](/\/\/(.*?)\./);console['log']('Resultado\x20da\x20correspondência\x20de\x20URL:',_0x429797),_0x429797&&_0x429797[0x1]&&(_0x533973=_0x429797[0x1],console[_0x29e965(0x1a6)](_0x29e965(0x6be),_0x533973));}if(!_0x533973&&_0x5f25ce&&_0x5f25ce[_0x29e965(0x820)]){let _0x318252=_0x5f25ce[_0x29e965(0x820)][_0x29e965(0x85e)]('/');console['log'](_0x29e965(0x4c2),_0x318252);let _0x591f80=_0x318252[_0x318252['length']-0x2];if(console[_0x29e965(0x1a6)]('Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:',_0x591f80),_0x591f80){let _0x3ccd1f=_0x591f80[_0x29e965(0x85e)]('.');console[_0x29e965(0x1a6)](_0x29e965(0x386),_0x3ccd1f),_0x3ccd1f[_0x29e965(0x72e)]>0x2&&(_0x533973=_0x3ccd1f[0x0],console[_0x29e965(0x1a6)](_0x29e965(0x8db),_0x533973),_0x3c7974=''+_0x591f80);}}return{'subdomain':_0x533973||_0x29e965(0x4c3),'fullURL':_0x3c7974||_0x29e965(0x7d2)};}var {subdomain:B,fullURL:Gs}=lr(S);console[a0_0x4c01ce(0x1a6)]('Subdomínio\x20final:',B),console[a0_0x4c01ce(0x1a6)](a0_0x4c01ce(0x45b),Gs);async function ur(){const _0x3f4b59=a0_0x4c01ce;let _0x2bc9da=S['get'](_0x3f4b59(0x5ff)),_0x3ed4c5=S['get'](_0x3f4b59(0x489))[_0x3f4b59(0x5c6)]['KEY'],_0x5ccb5e=S[_0x3f4b59(0x5f0)]('SSL_CONF'),_0x3b461c=await Vi(),_0x2011b4=S[_0x3f4b59(0x5f0)](_0x3f4b59(0x3c8))['PORT'],_0x10e61f=Gs;try{let _0x439f39={'ip':_0x3b461c||null,'redis_enable':_0x2bc9da?.[_0x3f4b59(0x25d)]||null,'apikey':_0x3ed4c5||null,'ssl':_0x5ccb5e?.[_0x3f4b59(0x756)]||null,'lastupdate':Gi||null,'port':_0x2011b4||null,'gitInstallError':Re?.[_0x3f4b59(0x7c9)]||null,'url':_0x10e61f||null,'subdomain':B};if(console[_0x3f4b59(0x1a6)](_0x3f4b59(0x5e2),_0x439f39['ip']),_0x2bc9da&&_0x2bc9da[_0x3f4b59(0x25d)]){let _0x1e8a3c=await cr();_0x439f39[_0x3f4b59(0x2b3)]=_0x1e8a3c||null;}for(let _0x5244df in _0x439f39)_0x439f39['hasOwnProperty'](_0x5244df)&&_0x5244df!=='ip'&&(_0x439f39[_0x5244df]=JSON[_0x3f4b59(0x1af)](_0x439f39[_0x5244df]));return(await Je['default'][_0x3f4b59(0x51c)](_0x3f4b59(0x4dd),_0x439f39))[_0x3f4b59(0x80d)];}catch(_0x278fb0){return console['error'](_0x278fb0),!0x1;}}var Js=!0x1,Gi=0x270,dr=0x3,Fi=0x1b7740;async function Vs(){const _0x772585=a0_0x4c01ce;let _0x2f5db2=_0x772585(0x355);Re===null&&(_0x2f5db2=await Vi());let _0x3a9191=await ur();if(_0x3a9191){if(_0x3a9191[_0x772585(0x510)][_0x772585(0x1e0)]===!0x0){Re===null&&_0x3a9191[_0x772585(0x510)]['last_update']-Gi>0x0&&await pr(),Js||(Js=!0x0,ar());let _0x1cbb1f=0x24*0x3c*0x3c,_0x2f8fcb=_0x3a9191[_0x772585(0x510)][_0x772585(0x8a1)]>_0x1cbb1f?_0x1cbb1f:_0x3a9191['response'][_0x772585(0x8a1)],_0xa50500=Number(_0x2f8fcb);if(isNaN(_0xa50500)){console['error'](_0x772585(0x48b));return;}let _0x3eebe2=Math[_0x772585(0x279)](_0xa50500/0xe10),_0x529bc3=Math[_0x772585(0x279)](_0xa50500%0xe10/0x3c),_0x3fbd70=new Date(Date['now']()+_0xa50500*0x3e8);setTimeout(Vs,_0xa50500*0x3e8);let _0x3598cd=_0x34cebc=>_0x34cebc[_0x772585(0x7b0)]()['padStart'](0x2,'0'),_0x30d465=_0x772585(0x705)+_0x3598cd(_0x3eebe2)+_0x772585(0x5c5)+_0x3598cd(_0x529bc3)+_0x772585(0x8b8)+_0x3598cd(_0x3fbd70[_0x772585(0x88a)]())+':'+_0x3598cd(_0x3fbd70['getMinutes']())+'.';console['log'](_0x30d465);}else return console[_0x772585(0x1a6)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),Js&&(console['log'](_0x772585(0x323)),process[_0x772585(0x1aa)]()),_0x772585(0x1bb);}else{if(Li++,Li<dr)console[_0x772585(0x1a6)](_0x772585(0x531)+Fi/0xea60+_0x772585(0x747)),setTimeout(Vs,Fi);else return console[_0x772585(0x82d)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),_0x772585(0x6b2);}}async function pr(){const _0x251def=a0_0x4c01ce;console['log']('Parando\x20aplicação,\x20atualização\x20recebida'),console[_0x251def(0x1a6)]('Limpando\x20logs\x20do\x20PM2...'),(0x0,rs[_0x251def(0x8a0)])('pm2\x20flush',{'shell':!0x0})['on']('close',_0x19cb23=>{const _0x1c041f=_0x251def;_0x19cb23!==0x0?console[_0x1c041f(0x82d)](_0x1c041f(0x26d)):(console['log'](_0x1c041f(0x2a4)),console[_0x1c041f(0x1a6)](_0x1c041f(0x359)),(0x0,rs[_0x1c041f(0x8a0)])('rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys',{'shell':!0x0})['on'](_0x1c041f(0x7d7),_0x178bb7=>{const _0x3f8e3e=_0x1c041f;if(_0x178bb7!==0x0)console[_0x3f8e3e(0x82d)](_0x3f8e3e(0x740));else{console[_0x3f8e3e(0x1a6)](_0x3f8e3e(0x5b3));let _0x111ac3=(0x0,rs[_0x3f8e3e(0x8a0)])(_0x3f8e3e(0x8e8),{'shell':!0x0});_0x111ac3[_0x3f8e3e(0x766)]['on'](_0x3f8e3e(0x80d),_0x9d5626=>{const _0x39f9aa=_0x3f8e3e;console[_0x39f9aa(0x1a6)](_0x39f9aa(0x462)+_0x9d5626);}),_0x111ac3[_0x3f8e3e(0x37e)]['on'](_0x3f8e3e(0x80d),_0x48c38b=>{const _0x345af0=_0x3f8e3e;console[_0x345af0(0x82d)](_0x345af0(0x8cc)+_0x48c38b);}),_0x111ac3['on'](_0x3f8e3e(0x1aa),_0x5d4bd4=>{const _0x386e29=_0x3f8e3e;_0x5d4bd4!==0x0?console[_0x386e29(0x82d)](_0x386e29(0x87c)+_0x5d4bd4):console[_0x386e29(0x1a6)]('Sistema\x20atualizado\x20com\x20sucesso!'),console['log'](_0x386e29(0x374)),setTimeout(()=>process[_0x386e29(0x1aa)](),0x2710);});}}));});}0x0&&(module[a0_0x4c01ce(0x3cc)]={'fullURL':fullURL,'subdomain':subdomain});