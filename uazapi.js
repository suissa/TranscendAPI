const a0_0x5ae34c=a0_0x475a;(function(_0x182a76,_0x1dcbb1){const _0x58424a=a0_0x475a,_0x2d10c5=_0x182a76();while(!![]){try{const _0x5aac0a=-parseInt(_0x58424a(0x350))/0x1*(parseInt(_0x58424a(0x6e4))/0x2)+parseInt(_0x58424a(0x47b))/0x3+-parseInt(_0x58424a(0x482))/0x4*(-parseInt(_0x58424a(0x1f9))/0x5)+parseInt(_0x58424a(0x22f))/0x6*(-parseInt(_0x58424a(0x2db))/0x7)+-parseInt(_0x58424a(0x631))/0x8*(parseInt(_0x58424a(0x136))/0x9)+parseInt(_0x58424a(0x4b1))/0xa*(-parseInt(_0x58424a(0x177))/0xb)+parseInt(_0x58424a(0x506))/0xc;if(_0x5aac0a===_0x1dcbb1)break;else _0x2d10c5['push'](_0x2d10c5['shift']());}catch(_0x348a1a){_0x2d10c5['push'](_0x2d10c5['shift']());}}}(a0_0x336c,0x5fb18));var Wi=Object[a0_0x5ae34c(0x591)],Ve=Object[a0_0x5ae34c(0x52c)],zi=Object['getOwnPropertyDescriptor'],Hi=Object[a0_0x5ae34c(0x41c)],Ki=Object[a0_0x5ae34c(0x7bc)],Qi=Object['prototype'][a0_0x5ae34c(0x5f0)],Yi=(_0x53b15b,_0x880675)=>{for(var _0x103a29 in _0x880675)Ve(_0x53b15b,_0x103a29,{'get':_0x880675[_0x103a29],'enumerable':!0x0});},Bs=(_0x98d8bc,_0x427498,_0x377255,_0x3e8a07)=>{const _0x3ee9f3=a0_0x5ae34c;if(_0x427498&&typeof _0x427498==_0x3ee9f3(0x79d)||typeof _0x427498==_0x3ee9f3(0x6d5)){for(let _0x4cb586 of Hi(_0x427498))!Qi[_0x3ee9f3(0x48a)](_0x98d8bc,_0x4cb586)&&_0x4cb586!==_0x377255&&Ve(_0x98d8bc,_0x4cb586,{'get':()=>_0x427498[_0x4cb586],'enumerable':!(_0x3e8a07=zi(_0x427498,_0x4cb586))||_0x3e8a07[_0x3ee9f3(0x219)]});}return _0x98d8bc;},I=(_0xa94858,_0x58f724,_0x2331c)=>(_0x2331c=_0xa94858!=null?Wi(Ki(_0xa94858)):{},Bs(_0x58f724||!_0xa94858||!_0xa94858[a0_0x5ae34c(0x1c3)]?Ve(_0x2331c,'default',{'value':_0xa94858,'enumerable':!0x0}):_0x2331c,_0xa94858)),Xi=_0xe0f96e=>Bs(Ve({},'__esModule',{'value':!0x0}),_0xe0f96e),gr={};Yi(gr,{'fullURL':()=>Gs,'subdomain':()=>he}),module[a0_0x5ae34c(0x277)]=Xi(gr);var Ui=I(require('compression')),zs=require('fs'),Hs=require(a0_0x5ae34c(0x2b7)),Ks=require(a0_0x5ae34c(0x69e)),Ge=require('path'),ne=process[a0_0x5ae34c(0x13b)](),be=(0x0,Ge[a0_0x5ae34c(0x88d)])(ne,a0_0x5ae34c(0x793)),Ws=(0x0,Ge[a0_0x5ae34c(0x88d)])(ne,a0_0x5ae34c(0x4b2)),fn=(0x0,Ge['join'])(ne,'store',a0_0x5ae34c(0x3cb)),us=class{constructor(){this['loadEnv']();}['get'](_0x51e30c){const _0x4f3e72=a0_0x5ae34c;return this[_0x4f3e72(0x276)][_0x51e30c];}['loadEnv'](){const _0x3ee94b=a0_0x5ae34c;this[_0x3ee94b(0x276)]=process[_0x3ee94b(0x276)]?.[_0x3ee94b(0x526)]!=='true'?this['envYaml']():this[_0x3ee94b(0x676)](),process[_0x3ee94b(0x276)]?.[_0x3ee94b(0x526)]===_0x3ee94b(0x245)&&(this[_0x3ee94b(0x276)][_0x3ee94b(0x61a)][_0x3ee94b(0x2ec)]='http',this['env'][_0x3ee94b(0x61a)][_0x3ee94b(0x3d7)]=Number[_0x3ee94b(0x5b1)](process[_0x3ee94b(0x276)]?.[_0x3ee94b(0x695)]??_0x3ee94b(0x326)));}['envYaml'](){const _0x1546f5=a0_0x5ae34c;return(0x0,Hs[_0x1546f5(0x691)])((0x0,zs[_0x1546f5(0x229)])((0x0,Ks[_0x1546f5(0x88d)])(Ws,_0x1546f5(0x12a)),{'encoding':'utf-8'}));}[a0_0x5ae34c(0x676)](){const _0x226668=a0_0x5ae34c;return{'SERVER':{'TYPE':process['env'][_0x226668(0x5af)],'PORT':Number[_0x226668(0x5b1)](process[_0x226668(0x276)][_0x226668(0x695)]),'URL':process['env']['SERVER_URL']},'CORS':{'ORIGIN':process[_0x226668(0x276)]['CORS_ORIGIN']['split'](','),'METHODS':process['env']['CORS_METHODS'][_0x226668(0x1a3)](','),'CREDENTIALS':process['env']?.[_0x226668(0x2b6)]===_0x226668(0x245)},'SSL_CONF':{'PRIVKEY':process['env']?.[_0x226668(0x377)],'FULLCHAIN':process[_0x226668(0x276)]?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number[_0x226668(0x760)](process[_0x226668(0x276)]?.[_0x226668(0x15d)])?Number['parseInt'](process['env'][_0x226668(0x15d)]):void 0x0,'MESSAGES':process['env']?.[_0x226668(0x769)]==='true','CONTACTS':process[_0x226668(0x276)]?.['STORE_CONTACTS']===_0x226668(0x245),'CHATS':process[_0x226668(0x276)]?.['STORE_CHATS']===_0x226668(0x245)},'DATABASE':{'CONNECTION':{'HOST':process[_0x226668(0x276)]?.['DATABASE_CONNECTION_HOST'],'PORT':Number[_0x226668(0x5b1)](process['env']?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x226668(0x276)][_0x226668(0x3c2)],'PASSWORD':process[_0x226668(0x276)][_0x226668(0x7bd)],'URI':process[_0x226668(0x276)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process[_0x226668(0x276)][_0x226668(0x244)]},'ENABLED':process[_0x226668(0x276)]?.[_0x226668(0x89c)]===_0x226668(0x245)},'REDIS':{'ENABLED':process[_0x226668(0x276)]?.[_0x226668(0x3bd)]===_0x226668(0x245),'URI':process['env'][_0x226668(0x17f)]||'redis://127.0.0.1:6379','PREFIX_KEY':process[_0x226668(0x276)][_0x226668(0x152)]||_0x226668(0x332)},'LOG':{'LEVEL':process[_0x226668(0x276)]?.['LOG_LEVEL']['split'](','),'COLOR':process[_0x226668(0x276)]?.[_0x226668(0x30a)]==='true'},'PROXY':process[_0x226668(0x276)]?.[_0x226668(0x2d0)]===_0x226668(0x245),'AUTHENTICATION':{'TYPE':process[_0x226668(0x276)][_0x226668(0x3b7)],'API_KEY':{'KEY':process[_0x226668(0x276)][_0x226668(0x295)]},'JWT':{'EXPIRIN_IN':Number[_0x226668(0x760)](process[_0x226668(0x276)]?.[_0x226668(0x71b)])?Number[_0x226668(0x5b1)](process['env'][_0x226668(0x71b)]):0xe10,'SECRET':process[_0x226668(0x276)]['AUTHENTICATION_JWT_SECRET']}}};}},S=new us(),ji=I(require('cors')),we=I(require(a0_0x5ae34c(0x2c6))),Vs=require(a0_0x5ae34c(0x69e)),ds=I(require(a0_0x5ae34c(0x424))),ps=(_0x239cfa=>(_0x239cfa['LOG']=a0_0x5ae34c(0x40a),_0x239cfa[a0_0x5ae34c(0x6c8)]=a0_0x5ae34c(0x240),_0x239cfa[a0_0x5ae34c(0x7a2)]=a0_0x5ae34c(0x77f),_0x239cfa[a0_0x5ae34c(0x4ac)]=a0_0x5ae34c(0x63a),_0x239cfa[a0_0x5ae34c(0x187)]=a0_0x5ae34c(0x722),_0x239cfa[a0_0x5ae34c(0x595)]=a0_0x5ae34c(0x140),_0x239cfa['DARK']=a0_0x5ae34c(0x4dc),_0x239cfa))(ps||{}),Qs=(_0x317f46=>(_0x317f46[a0_0x5ae34c(0x3be)]=a0_0x5ae34c(0x246),_0x317f46[a0_0x5ae34c(0x31e)]=a0_0x5ae34c(0x1e8),_0x317f46[a0_0x5ae34c(0x6c8)]=a0_0x5ae34c(0x65d),_0x317f46[a0_0x5ae34c(0x7a2)]=a0_0x5ae34c(0x3b6),_0x317f46[a0_0x5ae34c(0x4ac)]=a0_0x5ae34c(0x466),_0x317f46[a0_0x5ae34c(0x187)]='\x1b[36m%s\x1b[0m',_0x317f46[a0_0x5ae34c(0x595)]=a0_0x5ae34c(0x7d4),_0x317f46))(Qs||{}),Ys=(_0xb7f42=>(_0xb7f42[a0_0x5ae34c(0x3be)]=a0_0x5ae34c(0x3be),_0xb7f42['WARN']=a0_0x5ae34c(0x7a2),_0xb7f42['INFO']='INFO',_0xb7f42['DARK']=a0_0x5ae34c(0x31e),_0xb7f42[a0_0x5ae34c(0x4ac)]=a0_0x5ae34c(0x4ac),_0xb7f42[a0_0x5ae34c(0x187)]='DEBUG',_0xb7f42['VERBOSE']=a0_0x5ae34c(0x595),_0xb7f42))(Ys||{}),Xs=(_0x1273a9=>(_0x1273a9[a0_0x5ae34c(0x3be)]=a0_0x5ae34c(0x3a6),_0x1273a9['INFO']=a0_0x5ae34c(0x360),_0x1273a9[a0_0x5ae34c(0x7a2)]=a0_0x5ae34c(0x61b),_0x1273a9['DARK']=a0_0x5ae34c(0x397),_0x1273a9[a0_0x5ae34c(0x4ac)]='\x1b[41m',_0x1273a9['DEBUG']=a0_0x5ae34c(0x79b),_0x1273a9['VERBOSE']=a0_0x5ae34c(0x818),_0x1273a9))(Xs||{}),$=class{constructor(_0xb94e86=a0_0x5ae34c(0x606)){const _0x4f5f95=a0_0x5ae34c;this[_0x4f5f95(0x264)]=_0xb94e86,this[_0x4f5f95(0x89b)]=S;}[a0_0x5ae34c(0x7b6)](_0x546e19){const _0x804e41=a0_0x5ae34c;this[_0x804e41(0x264)]=_0x546e19;}[a0_0x5ae34c(0x46b)](_0x1ffe56,_0x411b0d){const _0x5e17a8=a0_0x5ae34c;let _0x2fe80f=[];this['configService'][_0x5e17a8(0x52d)]('LOG')[_0x5e17a8(0x3a0)]['forEach'](_0x1b1b6c=>_0x2fe80f[_0x5e17a8(0x6dd)](Ys[_0x1b1b6c]));let _0x36bacf=typeof _0x1ffe56;_0x2fe80f['includes'](_0x411b0d)&&(S[_0x5e17a8(0x52d)]('LOG')[_0x5e17a8(0x864)]?(console[_0x5e17a8(0x4c0)](_0x5e17a8(0x1e5)+Qs[_0x411b0d],_0x5e17a8(0x7f4),(0x0,ds[_0x5e17a8(0x509)])()[_0x5e17a8(0x517)](_0x5e17a8(0x786)),_0x5e17a8(0x753),ps[_0x411b0d]+Xs[_0x411b0d]+_0x5e17a8(0x1e5),_0x411b0d+_0x5e17a8(0x1cc),_0x5e17a8(0x582),this[_0x5e17a8(0x264)]+_0x5e17a8(0x753),ps[_0x411b0d],_0x36bacf!==_0x5e17a8(0x79d)?_0x1ffe56:'',_0x5e17a8(0x753)),_0x36bacf===_0x5e17a8(0x79d)&&console['log'](_0x1ffe56,'\x0a')):console['log']((0x0,ds[_0x5e17a8(0x509)])()[_0x5e17a8(0x517)](_0x5e17a8(0x778)),_0x411b0d+'\x20',''+this['context'],_0x1ffe56));}[a0_0x5ae34c(0x4c0)](_0x77235){const _0x5f2aeb=a0_0x5ae34c;this[_0x5f2aeb(0x46b)](_0x77235,_0x5f2aeb(0x3be));}[a0_0x5ae34c(0x31c)](_0x56e2d0){this['console'](_0x56e2d0,'INFO');}[a0_0x5ae34c(0x4cf)](_0x2bda2a){const _0x1381be=a0_0x5ae34c;this[_0x1381be(0x46b)](_0x2bda2a,_0x1381be(0x7a2));}[a0_0x5ae34c(0x6f3)](_0x602ca4){const _0x139636=a0_0x5ae34c;this[_0x139636(0x46b)](_0x602ca4,'ERROR');}[a0_0x5ae34c(0x7df)](_0x7255e9){const _0x566d96=a0_0x5ae34c;this[_0x566d96(0x46b)](_0x7255e9,_0x566d96(0x595));}[a0_0x5ae34c(0x28c)](_0x23ad19){const _0x4c59aa=a0_0x5ae34c;this[_0x4c59aa(0x46b)](_0x23ad19,_0x4c59aa(0x187));}[a0_0x5ae34c(0x8ae)](_0xf6624){const _0x3e333f=a0_0x5ae34c;this[_0x3e333f(0x46b)](_0xf6624,_0x3e333f(0x31e));}};function a0_0x475a(_0x4fa54a,_0x559064){const _0x336cbf=a0_0x336c();return a0_0x475a=function(_0x475ab6,_0x4c160a){_0x475ab6=_0x475ab6-0x101;let _0x1b0980=_0x336cbf[_0x475ab6];return _0x1b0980;},a0_0x475a(_0x4fa54a,_0x559064);}function Zs(){process['on']('uncaughtException',(_0x13e90d,_0x2d378b)=>{const _0x41a200=a0_0x475a;new $(_0x41a200(0x2a5))[_0x41a200(0x6f3)]({'origin':_0x2d378b,'stderr':process[_0x41a200(0x497)]['fd'],'error':_0x13e90d});}),process['on']('unhandledRejection',(_0x474ac7,_0x3cc489)=>{const _0x2ed213=a0_0x475a;new $(_0x2ed213(0x4bb))[_0x2ed213(0x6f3)]({'origin':_0x3cc489,'stderr':process[_0x2ed213(0x497)]['fd'],'error':_0x474ac7});});}var ea=I(require(a0_0x5ae34c(0x5c6))),hs=new ea['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Se=require('mongoose'),Ae=I(require('mongoose')),Be=new $('Db\x20Connection'),L=S[a0_0x5ae34c(0x52d)]('DATABASE'),T=L[a0_0x5ae34c(0x3d3)]?L['CONNECTION'][a0_0x5ae34c(0x7e0)]?Ae[a0_0x5ae34c(0x509)]['createConnection'](L[a0_0x5ae34c(0x73b)][a0_0x5ae34c(0x7e0)],{'dbName':L['CONNECTION'][a0_0x5ae34c(0x11c)]+a0_0x5ae34c(0x3f1)}):Ae[a0_0x5ae34c(0x509)][a0_0x5ae34c(0x6e8)](a0_0x5ae34c(0x667)+L['CONNECTION'][a0_0x5ae34c(0x7c7)]+':'+L[a0_0x5ae34c(0x73b)][a0_0x5ae34c(0x3d7)]+a0_0x5ae34c(0x5a1),{'user':L[a0_0x5ae34c(0x73b)]['USER'],'pass':L[a0_0x5ae34c(0x73b)][a0_0x5ae34c(0x6be)],'dbName':L['CONNECTION']['DB_PREFIX_NAME']+'-whatsapp-api'}):null;L[a0_0x5ae34c(0x3d3)]&&Be[a0_0x5ae34c(0x31c)]('ON\x20-\x20dbName:\x20'+T[a0_0x5ae34c(0x49e)]);var Y=L[a0_0x5ae34c(0x3d3)]?L[a0_0x5ae34c(0x73b)]['URI']?Ae['default'][a0_0x5ae34c(0x6e8)](L[a0_0x5ae34c(0x73b)][a0_0x5ae34c(0x7e0)],{'dbName':a0_0x5ae34c(0x340)}):Ae[a0_0x5ae34c(0x509)][a0_0x5ae34c(0x6e8)](a0_0x5ae34c(0x667)+L['CONNECTION'][a0_0x5ae34c(0x7c7)]+':'+L[a0_0x5ae34c(0x73b)][a0_0x5ae34c(0x3d7)]+a0_0x5ae34c(0x5a1),{'user':L[a0_0x5ae34c(0x73b)][a0_0x5ae34c(0x520)],'pass':L[a0_0x5ae34c(0x73b)][a0_0x5ae34c(0x6be)],'dbName':a0_0x5ae34c(0x34e)}):null;function a0_0x336c(){const _0x359c41=['next_groupId','headers','\x1b[46m','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','object','.txt','requestPairingCode','subjectOwner','webhookModel','WARN','.\x20Tentando\x20novamente\x20em\x20','app-state-sync-key','CREDENTIALS','/wa-groups','):\x20enviado\x20para\x20[','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','CORS','emit','groups_ignore','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','messageId','groupCreate','newValue','option','Configured\x20new\x20IPv6:\x20','deviceSentMessage','errorLog','order','count','setContext','sendMessage','AppStateSyncKeyData','Rótulo\x20inválido\x20ou\x20sem\x20ID.','updateMissingCustomFields','updateAutoCompleteMessages','getPrototypeOf','DATABASE_CONNECTION_PASSWORD','timeoutPromise','\x20chats\x20de\x20','Total\x20IPv6\x20addresses\x20detected:\x20','findGroupInfo','getflow','Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo','Font\x20is\x20required','/config','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','HOST','integer','Selecione\x20uma\x20opção','authState','\x20:\x20','child_process','boolean','ephemeralExpiration','recording','ip\x20-br\x20link\x20show','updateMediaMessage','linkPreview','upsertedCount','\x1b[37m%s\x1b[0m','copy','Error\x20updating\x20cache\x20contact:','address','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','scheduleSendAudio','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','autoCompleteMessages.command','flows','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','isValidIPv6Config','verbose','URI','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','\x20and\x20data:','Subdomínio\x20extraído\x20da\x20URL:','entries','application/octet-stream','formatVCard','Erro\x20ao\x20tentar\x20autoCompleteMessages','title','remoteJids','createClient','urlencoded','/instance/create','No\x20excess\x20IPv6\x20addresses\x20to\x20remove.','processUazapi','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','floor','rowId','folder','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','\x1b[1m\x1b[37m','Erro\x20ao\x20atualizar\x20agendamento\x20','data:\x20','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','/instance/fetchInstances','):\x20[messages.upsert]\x20mensagem\x20duplicada\x20ignorada','chatId','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','imagechat','sharePass','markMessageAsRead','getFullYear','deleteMessageForEveryone','query','redirect','updatePresence','CHATS_SET','inviteCode','Mensagens\x20deletadas\x20com\x20sucesso.','?timestamp=','shareOwners','findGroup','message','match','tags','proto','isJidGroup','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','CONECTADO\x20À\x20UAZAPI','#f64847','Erro\x20ao\x20buscar\x20fluxos:','sim','processawaitSeconds','greater','groupdata','audio','\x1b[47m','segundos','_lastVote','g.us','includes','selectableCount','waUploadToServer','Erro\x20ao\x20deletar\x20chat:','menuExpiredMessage','):\x20transformedCustomFieldVariables','The\x20global\x20api\x20key\x20must\x20be\x20set','):\x20Current\x20Time:\x20','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','$addToSet','getVariablesChat','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','chat\x20não\x20encontrado','fakeReceived','DaysToDelete','Types','sendMessageWithRetry','userDevicesCache','responsavelid',',\x20canSendMessage:\x20','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','testingWith','webhook','_minute','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','SINGLE_SELECT','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','unknown\x20operation\x20type\x20[','):\x20whoCanUse\x20before\x20validation:\x20','https://api64.ipify.org?format=json','open','):\x20conversation.status:\x20','validate','/wa-connection-update','synchronizeAndMapFlows','):\x20Iniciando\x20bot...','archiveChat','processingGroup','Mac\x20OS','cleanDisconnectedInstances','#01d0e2','):\x20Criou\x20conversa\x20no\x20startFlow','Forbidden','Esse\x20fluxo\x20não\x20permite\x20importação.','fetchBusinessProfile','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','rm\x20-rf\x20','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','connectionStatus','body','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','conditions','groups.upsert','redis','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','.url','newStoppedUntil','Contacts\x20not\x20found','KEY','WebhookGlobal','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','Schema','Falta\x20informação\x20para\x20a\x20chamada\x20API','\x20segundos...','_activatedCount','insertMany','):Output\x20path:\x20','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','text/event-stream','instance.','COLOR','.mp4','):\x20Going\x20to\x20','Background\x20color\x20is\x20required','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','Subscribed\x20Events:','BRL','updateBlock','Cannot\x20','groupUpdateDescription','utf8','image','saveTextReply','findById','round','toLowerCase','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','findOne','Fluxo\x20agendado\x20pelo\x20fluxo\x20','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','participants','sendReaction','node-mime-types','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','):\x20Editando\x20mensagens\x20no\x20grupo...','Missing\x20global\x20api\x20key','instanceName','retrySendMessage','sign','Error\x20finding\x20many\x20contacts:','deleteBlock','insert','#d3a91f','fetchProfile','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','startCommand','group-participants.update','ms\x20(tentativa\x20','getBase64FromMediaMessage','uazapiSendAudio','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','join','dbConnection','):\x20Aguardando\x205\x20segundos\x20para\x20garantir\x20interrupção\x20completa...','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','replaceValue','ListType','\x20adicionado\x20ao\x20chat\x20','urlOrBase64','findFlow','\x20Tentativa\x20de\x20reconexão\x20','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','configService','DATABASE_ENABLED','profilePictureUrl','map','Botão\x201','state','mediaMessage','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','groupDesc','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','messageStubParameters','Falha\x20ao\x20recriar\x20IPv6.','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','Last\x20message\x20not\x20found\x20for\x20number:\x20','base64','prepareWAMessageMedia','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','editConversation','beforeExit','dark','StatusJidList\x20is\x20required','\x0a{\x20instance:\x20','approve','HistoryProcessed','):\x20Usando\x20extensão\x20padrão:\x20','getMinutes','groupRequestParticipantsUpdate','createInstance','.extension','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','CLEANING_INTERVAL','getLastMessage','):\x20Enviando\x20localização','Total\x20de\x20endereços\x20IPv6\x20globais:\x20','varedit','removeInstance','\x20-\x20ON:\x20','request\x20received\x20in\x20updateAutoCompleteMessages','#000000','delayChatLabel_RETRY_DELAY_MS','labelId','webp','writeFileSync','command','mentioned','Subdomínio\x20não\x20encontrado','pendingMessages',',\x20Minutes\x20to\x20Close:\x20','groupUpdateSubject','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','DB_PREFIX_NAME','choices','messageHandle','All_Instances_Config','createFlow','util','editFlowVariable','loadInstance','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20',',\x20saindo.','.mimetype','deleteFlow','fetchChats','isURL','../env.yml','ip\x20-6\x20addr\x20show\x20scope\x20global\x20|\x20grep\x20-c\x20inet6','connectToWhatsappController','Erro\x20ao\x20atualizar\x20o\x20flow.','isMessageProcessed','Subdomínio\x20final:','/chat','request\x20received\x20in\x20updateFlowConfig','\x20com\x20sucesso.','width','Selecione','send','909vophTW','set','leadInfo','conversationTimestamp','none','cwd','privacySettings','Detalhes\x20do\x20erro:','documentMessage','group','\x1b[37m','/media/','.ogg','from','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','READ','throwAndLogError','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','contactsArrayMessage','):Fetching\x20business\x20profile','data','readData','Retornando\x20grupos\x20SEM\x20cache','Novo\x20IP\x20criado:\x20','oldToken','sendButtons','menuMessage','listen','REDIS_PREFIX_KEY','transformScheduledMessagesByType','last_update','charAt','Atualização:\x20','pollCreationMessageKey','Safari','authorization','update','authService','Instance\x20Key\x20from\x20DB:','STORE_CLEANING_TERMINAL','instanceKeys','messageType','):\x20expirationTime:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','unlocked','desc','pictureUrl','save','toArray','):\x20Flow\x20\x27','connectedClient','updateGParticipate','updateMissingEtiquetas','getTime','created','digest','Validate','):\x20Não\x20achou\x20nenhum\x20flow','delaySecMin','Instance\x20deleted','chatLog','Mensagem\x20não\x20suportada','every','cacheInstanceModel','startCommandWord','704GXIhsk','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','leadInfo.desativadoFluxoAte','connecting','#56ccb4','exists','request\x20received\x20in\x20updateAgent','getStatus','REDIS_URI','setting','https://github.com/uazapi/uazapi.git','https://api.elevenlabs.io/v1/text-to-speech/','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','refused','/wa-contacts','/wa-all-message','DEBUG','redisEnv','blockLogs','#9568cf','#64c4ff','thumbnailUrl','canSendMessage','Last\x20message\x20not\x20found','message_normalized','race','processConditionsTest','pollCreationMessage','app','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','values','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','):\x20Procurando\x20mensagens\x20para\x20envio','startFlow','menu_options','exit','connectionState','\x20do\x20chat\x20','result','groupRequestParticipantsList','):\x20Mensagens\x20PRONTAS\x20para\x20envio\x20encontradas:\x20','saveConversationToDatabase','Erro\x20inesperado\x20em\x20processvaredits:\x20','generate','split','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','joinApprovalMode','):Image\x20is\x20url','atendimentoAberto','reviver','https://jsonip.com','announcement','lastReceivedMessage','off','templateButtonReplyMessage','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','Erro\x20ao\x20copiar\x20o\x20documento','}}\x20->\x20valor\x20não\x20encontrado','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','apiResponse','docker','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','Fluxo\x20não\x20encontrado\x20na\x20memória.','trim','URL\x20não\x20disponível','prototype','CHATS_DELETE','createConversationforStartFlow','RemoteJid:','\x20minutos...','lastBlockId','Deleted\x20','vote','XX:XX:XX:XX:XX:XX','processPollUpdateMessage','Not\x20is\x20business\x20profile','__esModule','!stop','\x27\x20não\x20encontrado','\x22,\x20valor\x20a\x20substituir:\x20\x22','document','ORG:','cache','all','cleanStore','\x20\x1b[0m','setWebhook','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','composing','):\x20Criando\x20fluxo...','scheduled','sendContact','stdout','extractPhoneNumber','):\x20Query\x20params:','flowConversation','birthtime','editFlowVaredit','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','owner','Valor\x20da\x20URL\x20recuperada:','Grupo\x20não\x20encontrado','Erro\x20ao\x20remover\x20label\x20','):Image\x20converted\x20to\x20WebP','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','isJidUser','https','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','key','announce','\x1b[1m','updateChatWithMessage','dataValidate','\x1b[30m%s\x1b[0m','_error','addresss','):\x20Conversa\x20está\x20expirada','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','_ScheduleMessages','--------------------------------------','contact_blacklist','clear','verifiedName','collections','Type\x20is\x20required','deleteConversation','FULLCHAIN','):\x20Deletando\x20mensagem','jsonwebtoken','lastRealGroupsFetch','9610mUQXUM','Bloco\x20com\x20ID\x20','groupHandler','groupSettingUpdate','):\x20Label\x20','action','flowActive','allFlows','request\x20body:\x20','reject','updateParticipant','messages','/webhook','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','blocks','https://','upsertChats','repository','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','fileUrl','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','findOrCreate','fromMe','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','Sistema\x20atualizado\x20com\x20sucesso!','):\x20whoCanEdit\x20before\x20validation:\x20','https://chat.whatsapp.com/','variables','desativadoFluxoAte','.error','checkAndRestartProcess','enumerable','pt-BR','[service]\x20request\x20received\x20in\x20sendButtons','optionName','truncatedto','reorderBlocks','exec','creds','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','):\x20delete\x20=\x20true','updateProfilePicturePrivacy','updateChatGroupData','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','hGetAll','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','readMessage','readFileSync','editFlowCondition','messageTimestamp',',\x20Segundo\x20Valor:\x20',',\x20Comparador:\x20','messages.update','10122FzMGxw','DATABASE','):\x20Criando\x20fluxo\x20compartilhado...','fone','lastFetchAwaitingApproval','buttonsResponseMessage','ChatRouter','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','NextBlock','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','.\x20Aguardando\x20','evaluateCondition','chatModify','#dfaef0','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','findMessages','cleaningUp','\x1b[34m','fetchStatus','./.git/config','ipv6Prefix','DATABASE_CONNECTION_DB_PREFIX_NAME','true','\x1b[32m%s\x1b[0m','splice','ReplyOption\x20com\x20ID\x20','catch','varedits','):\x20\x27Deletando\x20fluxo,\x20id:\x20','email','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','text','):\x20Buscando\x20conversa...','SSL_CONF','gifPlayback','filter','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','groupName','post','\x20ao\x20chat\x20','Connection\x20Closed','createOrUpdate','getUpdate','inet6','jid','secondValue','toUpperCase','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','addToProcessedMessages','connection.update','flush','events','context','ConversationModel','storePath','endsWith','statSync','getHours','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','createSectionsFromValues','less','):\x20Enviando\x20áudio','.type','unreadCount','replaceOne','stopMinutes','updateProfileStatus','CHATS_UPSERT','Erro\x20ao\x20adicionar\x20label\x20','No\x20suitable\x20network\x20interface\x20found','env','exports','getAutomateSystem','type','creds.json','onWhatsApp','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','#92ceac','toNumber','request\x20received\x20in\x20scheduleMessage','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','send.message','Database\x20is\x20not\x20enabled','normalizeMessageContent','importChats','StartBot','response','ip\x20-6\x20addr\x20show\x20dev\x20','saveVariable','Not\x20allowed\x20by\x20CORS','status@broadcast','Error\x20fetching\x20group','debug','GROUPS_UPDATE','updateFlowConfig','convertaudio','unavailable','processScheduleFlow','OrAnd','error_log','https://uazapi-plugin.bubbleapps.io/','AUTHENTICATION_API_KEY','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','no.connection','\x20foi\x20interrompido\x20pelo\x20usuário.','goNextblock','shift','\x20minutos.\x20Será\x20às\x20','firstValue','Instance\x20restarted','slice','uazapiSendMedia','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','instance','add','quotedMessage','CHATS_UPDATE','uncaughtException','audioWhatsapp','pollErrorMessage','Erro\x20ao\x20iniciar\x20o\x20fluxo.','closed','Garbage\x20collection\x20não\x20está\x20disponível.','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','getDelay','archived','scheduleSendText','replace','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','variable','findGroupsEspecial','groupLeave','getConversation','saveCreds','CORS_CREDENTIALS','js-yaml','arraybuffer','Valor\x20de\x20find\x20ou\x20replace\x20ausente','Network\x20interfaces\x20detected:\x20','valid','replacer','leaveGroup','ip:\x20','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','locationMessage','substring','ini','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','deleteReplyOption','expiration','express','getChatModelForOwner','allContacts','Connection\x20closed\x20for\x20instance:\x20','applyvaredit','online','3EB0','\x20-y','):\x20Procurando\x20conversa','deleteMany','PROXY','awaitSeconds','flushHeaders','remote\x20\x22origin\x22','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','messageContextInfo','fetchContacts','waitingMenu_text','ip\x20-6\x20addr\x20add\x20','removeData','GROUPS_UPSERT','2569PewYeN','when','fullName','messageLogsModel','Total\x20de\x20endereços\x20IPv6\x20após\x20a\x20limpeza:\x20','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','buttonMessage','static','mimetype','Fluxo\x20id\x20\x27','Flow\x20\x27','crypto','ChatModel','/wa-chats','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','\x20mensagens\x20de\x20','TYPE','convertedOptions','_sender','findAll','MAX_SAFE_INTEGER','messaging-history.set','Erro\x20ao\x20tentar\x20updateCustomFields','request\x20received\x20in\x20createFlow','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','\x22\x20cannot\x20be\x20empty','pollUpdateMessage','originalUrl','LICENSE_INVALID','fora\x20do\x20git','dbSettings','\x0a*Você\x20respondeu*:\x0a','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','sectionsToString','Operador:\x20\x22','Tentativa\x20',',\x20valor\x20a\x20encontrar:\x20\x22','color','random','AddUserFlow','sendWhatsAppAudio','padEnd','messageLogs','$set','):\x20Enviando\x20mídia','):\x20Removendo\x20\x27','LOG_COLOR','Erro\x20ao\x20atualizar\x20AutomateSystem:','whatsappNumber','endSession',',\x20received\x20','mkdirSync','blockId','chats.upsert','stanzaId','_remoteJid','request\x20received\x20in\x20getFlow','groups','eventEmitter','/automate','normalizeMessage','):\x20Buscando\x20conversas...','mediaKey','header','info','buttons','DARK','params','max','padStart','.TEL;waid=','deleted','videoMessage','groupFetchAllParticipating','8080','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','Close\x20connection','_Chats','whoCanUse','pm2\x20flush','\x20não\x20encontrado\x20para\x20atualização.','flowName','basename','Authentication\x20error','Cache\x20instance\x20update\x20result:\x20','equal','uazapi','closeExistingConversations','):\x20newSecondValue\x20após\x20replaceVariables:','getBusinessProfile','bodyStringErrorParse','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):Converted\x20image\x20deleted','Error\x20in\x20chatModify\x20for\x20number\x20','deleteDoneMessages','\x20-i\x20','request\x20received\x20in\x20fetchConversation','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','fetchLabels','ERROR:\x20','cachedData-whatsapp','authModel','startFlowWebhook','repeat','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','vir',',\x20isAdmin:\x20','pre','\x27\x20do\x20banco\x20de\x20dados...','code','customFields','editScheduleMessage','ContactModel','cachedContacts-whatsapp','stopIfLastReturnedError','219BDVUXU','oldValue','sem\x20texto\x20na\x20mensagem','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','https://api.openai.com/v1/images/generations','scheduleSendMedia','descOwner','Flow\x20iniciado\x20com\x20','${Message\x20absent\x20from\x20node}','updateGroupWebhook','importChatsAntigo','parse','_fromMe','pollMessageOnDelete','writeFile','.gif','\x1b[44m','):\x20[messaging-history.set]\x20mensagem\x20duplicada\x20ignorada\x20(ID:\x20','groupMetadata','displayName','env.KEY\x20!==\x20key','updateOnlinePrivacy','):\x20Atualizando\x20status\x20da\x20mensagem\x20','reconnectAttempts','):\x20Deletando\x20conversa...','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','requestFile','lastCondition','existsSync','createServer','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','):\x20Enviando\x20contato','ignoreGroups','delay','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','):\x20Ignoring\x20group\x20messages.','Deletion\x20failed','):Desconectado,\x20parando\x20execução.','label_jid','SSL_CONF_PRIVKEY','request\x20received\x20in\x20deleteAllMessages','readMessages','CONTACTS_UPDATE','):Trying\x20to\x20get\x20business\x20profile','Error\x20in\x20prepareMediaMessage:','.ppt','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','getScheduleMessageModelForOwner','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','findGroups','IP\x20confirmed:\x20','\x20não\x20encontrado\x20para\x20cópia',',\x20qrcodeCount:\x20','config','labels.edit','findByIdAndDelete','noConnection','timeout','MESSAGES_SET','ephemeralMessage','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','connectionUpdate','process','empty','connectedName','EXPIRIN_IN','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','\x1b[40m','pop','#b4ebff','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','etiquetas','_activedCount','reduce','bearer','website','LEVEL','BufferJSON','):Archiving\x20chat','.jwt','fetchMessages','setRestartTimeout','\x1b[42m','MESSAGES_UPSERT','SECRET','notMatchRegex','RECONNECT_TIME_FRAME','):\x20Conversa\x20atualizada\x20em\x20memória','buttonText','picture','unlinkSync','apirequest','updateProfilePicture','):\x20atualização\x20chat:\x20','close','length','cpf','ObjectId','\x1b[33m%s\x1b[0m','AUTHENTICATION_TYPE','readMessageBot','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','string','Tentando\x20reconectar...','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','REDIS_ENABLED','LOG','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','utf-8','pino','DATABASE_CONNECTION_USER','editflowblock','mongodb','inviteCodeDetails','yes','groupMemberAddMode','JWT','Error\x20removing\x20unused\x20chat\x20fields:','):\x20Buscando\x20flow...','auth','drop','createGroup','optionDescription','instancias:\x20','chats.update','promisify','readFile','ENABLED','modifiedCount','view\x20engine','convertaudioMP3','PORT','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','https://ipv6.jsonip.com','globalShow','sharp','sort','END:VCARD','AddChatLabel','This\x20name\x20','SEND_MESSAGE','Removed\x20','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','formatBRNumber','presence.update','memberAddMode','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','messages.set','leadInfo.atendimentoAberto','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','out','.svg','PREFIX_KEY','/wa-presence','):\x20Buscando\x20flow,\x20id:\x20','Fluxos\x20não\x20estão\x20ativados','*Pergunta*:\x20\x0a','-whatsapp-api','getMIMEType','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','_Messages','pollMessage','preview','SERVER_OFFLINE','DELIVERY_ACK','ListMessage','font','scheduleFlow','del','contextInfo','^\x5cd+','\x20contacts','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','/:instanceName','uazapiSendLocation','):Business\x20profile\x20fetched','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','conversation','):Image\x20created','undefined','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','\x1b[32m','editflowreply','*Teste\x20de\x20Título*\x0a\x0aDescrição\x20de\x20Teste\x0a','profile','isArray','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','createIPv6','updateProfileName','request_method','#9ab6c1','item','delaySecMax','flowStopMinutes','getLabelModelForOwner','Erro\x20ao\x20iniciar\x20fluxo:\x20','loadWebhook','updateOne','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','getOwnPropertyNames','processblock','status','assign','contact','Erro\x20ao\x20normalizar\x20a\x20mensagem:','replaceVariablesInObject','paused','dayjs','getConversationModelForOwner','getTicketSystem','caption','waInstances','findGroupInfos','isCommunity','PRODUCT_LIST','find','countIPv6Addresses','[TESTE\x20RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','delete','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','cacheInstanceRepository','IP\x20mismatch:\x20configured\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','sendText','editFlow','toBRL','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','\x20segundos\x20antes\x20de\x20reconectar...','unreadcount','@g.us','getContentType','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','collection','protocolMessage','request\x20received\x20in\x20allFlows','getDevice','clearVariables','webhookMap','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','uazapiSendMenu','nativeFlowResponseMessage','.png','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','createButtonsFromValues','DisconnectReason','groupValidate','chatHandle','cacheContact','dbInstance','sendMenu','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','API_KEY','):\x20Editando\x20edição\x20do\x20fluxo...','Reusing\x20existing\x20IPv6:\x20','createConversationforgoToFlow','client','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','SendScheduleMessage','hbs','authentication','ScheduleMessage','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','deleteOne','findConversation','/clients-info','getSeconds','Conversa\x20deletada\x20com\x20sucesso.','joinGroupValidate','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','dbServer','):\x20Error\x20processing\x20the\x20block:\x20','request\x20received\x20in\x20deleteConversation','\x1b[31m%s\x1b[0m','button','):\x20Procurando\x20PRONTAS\x20mensagens\x20para\x20envio','creation','DELETED','console','removeUnusedChatFields','):\x20Entrou\x20na\x20função\x20goToFlow','iniciando\x20fluxo\x20router','detectIPv6PrefixAndInterface','waitingMenu_id','apikey','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','statusJidList','Error\x20adding\x20IPv6\x20address:\x20','trimmed','cta_url','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','forEach','\x20inseridas\x20no\x20banco\x20de\x20dados...','extractRegex','189426eZUcgM','longitude','request\x20received\x20in\x20deleteFlow','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','\x22\x20-\x20NOT\x20CONNECTION','Limpando\x20logs\x20do\x20PM2...','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','1468SJOCHA','backgroundColor','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','where','#ffae04','Failed\x20to\x20send\x20buttons\x20message','generateHash','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','call','name','author','The\x20\x22','uuid','imageMessage','video',',\x20pairCode:\x20','listIPv6Addresses','groupadd','):\x20Ler\x20mensagem','#ffc5c7','groupInviteCode','stderr','myAppStateKeyId','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','SUCCESS','archive','moreLogs','Erro\x20ao\x20editar\x20a\x20conversa','$dbName','imported','apiName','randomBytes','scheduleMessage','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','uazapiSendText','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','#6f7bcf','ERROR','updateMany','editFlowReply','replaceVariablesLogs','interactiveResponseMessage','11540NcJGjM','src','value','findManyByIds','ip6eui','hSet','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','findIndex','Erro\x20ao\x20alterar\x20fluxo',']\x20(','unhandledRejection','Falha\x20ao\x20criar\x20IPv6.','removeProfilePicture','dropIndex','pollCreationMessageV2','log','Invalid\x20format','qrcode.updated','Rótulo\x20deletado:\x27,\x20','\x20excess\x20IPv6\x20addresses.','prepareMediaMessage','\x22reaction\x22\x20must\x20be\x20an\x20emoji','restart','fileLength','.X-ABLabel:Celular\x0a','CONTACTS_UPSERT','inner','class-validator','Message','pow','warn','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','The\x20property\x20cannot\x20be\x20empty','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','createJid','\x20minutos\x20verificará\x20novas\x20mensagens','Erro\x20ao\x20buscar\x20o\x20fluxo','reaction','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','processgoToFlow','test','allflows','statusCode','\x1b[30m','.\x20Pulando.','buttonParamsJson','):\x20Mensagem\x20já\x20enviada\x20para\x20','flow','E-mail:\x20','\x20não\x20encontrado','RemoveChatLabel','fileName','lean','\x20removido\x20do\x20chat\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','configureIPv6','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','\x27\x20não\x20encontrado\x20na\x20memória','deleteMessage','GET','connectToWhatsapp','bulkWrite','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','inviteUrl','sendStatus','Stack\x20trace:','Instância:\x20','AUTHENTICATION','router','verifyWhatsAppNumber','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','nome','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','/5\x20de\x20preparar\x20mídia\x20falhou:\x20','notEmpty','editFlowBlock','and','restartInstance','Erro\x20ao\x20buscar\x20a\x20conversa','findAndReplace','jpegThumbnail','/events','enviado\x20para','isJidBroadcast','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','14566524VjHWpr','findWebhook','sendMedia','default','Usando\x20IP\x20existente:\x20','):\x20Erro\x20durante\x20a\x20atualização:\x20','paramsJson','removeChatLabel','editOperator','size','editChat','selectedDisplayText','URL:','):\x20não\x20encontrou','vcard','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','isLong','format','):\x20Grupo\x20','https://v6.ident.me','/wa-message-update','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','use','isJWT','single_select','GROUP_PARTICIPANTS_UPDATE','USER','):\x20[messages.update]\x20group\x20ignored','pushName','StartID:','height','findParticipants','DOCKER_ENV','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','getContactModelForOwner','$pull','groupParticipantsUpdate','connect','defineProperty','get','findAndUpdateCacheContact','):\x20Iniciando\x20processReadyMessages','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','leadInfo.','changeVariables','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','convertToString','CONNECTION_UPDATE','minutesToClose','sleep','Erro\x20ao\x20inserir\x20chats:','getMonth','Error\x20updating\x20message\x20status:','replyOption','editedMessage','poll','InstancesAlterarTodas','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','/media','AutomateSystem','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','createNewConversation','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','replaceVariablesInReplyOptions','toggleEphemeral','_Contacts','leadInfo.customFields','promote','/startFlow/:instance/:startID','initAuthCreds','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','revokeInviteCode','addChatLabel','):Audio\x20converted\x20and\x20stored\x20in\x20cache','Imagem\x20não\x20encontrada','deleteChat','_year','hDel','Filtered\x20network\x20interfaces:\x20','):\x20lastBlockId:\x20','editflowvaredit','presenceSubscribe','Falha\x20ao\x20processar\x20a\x20solicitação','Pausado\x20por\x20','contactHandle','deletedCount','/5\x20falhou:\x20','description','addMessagesToGroup','joinGroup','request\x20received\x20in\x20editFlow','reference','end','updateStatusPrivacy','uazapiSendContact','updateAll','mentions','has','Group\x20not\x20found','processReadyMessages','audioMessage','autoCompleteMessages','):\x20Entrou\x20na\x20função\x20stop','namespace','Removidas\x20as\x20variáveis:\x20','notEqual','automateSystem','AutomateSystem\x20não\x20foi\x20inicializado','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','lowerCase','finish','PENDING','jsonschema','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','headerString','_id','restrict','keys','encoding','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','copyBlock','api','start','Database\x20update\x20result:','\x1b[33m\x1b[1m','_day','contains','groupdata.participants','Telefone:\x20','):\x20Conversa\x20está\x20expirada\x20-\x20voto','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','labels.association','):\x20ev.flush\x20realizado','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','#ff9484','write','\x20segundos','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','create','URL','LabelModel','execSync','VERBOSE','presence','stopMinutesMaxActives','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','waitingMenu_ExpiredMessage','):\x20isVote:\x20','views','toDataURL','idSchedule','):\x20Bloco\x20copiado:\x20','long','errors','?authSource=admin&readPreference=primary&directConnection=true','updateMessage','Rodapé\x20de\x20Teste','IPv6\x20address\x20configured:\x20','rows','insertCount','^\x5cd+([-]\x5cd+)*@g.us$','pollCreationMessageV3','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','options','resetReconnectionVariables','Nenhum\x20participante\x20válido\x20encontrado.','keyPattern','interval\x20não\x20é\x20um\x20número','SERVER_TYPE','contacts','parseInt','pollOnReplyDelete','remove','abs','\x27\x20removido\x20do\x20AutomateSystem.','):\x20Editando\x20replyOption...','getMessageModelForOwner','lastMessage','upperCase','defineAuthState','output','stopped','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','replaceVariablesChat','.doc','contacts.update','editflowgroup','API\x20Key\x20inválida.','):\x20Enviando\x20mensagem\x20para\x20','cachedContact','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','eventemitter2','logger','/message','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','MESSAGES_UPDATE','qrCode','toLocaleString','@broadcast','truncatedtoEnd','express-async-errors','chats.set','#00a1f2','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','application/json','limit','locked','eventHandler','detail','connectionClosed','importChatsBatch','findContacts','@s.whatsapp.net','generateRandomIPv6','chats','groupToggleEphemeral','The\x20','):\x20updateResult:','method','agents','EMAIL','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','isAdmin','getValidWhatsAppNumbers','Conexão\x20estabelecida','#fe9dfe','capitalizedWords','dbClient','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','Error\x20in\x20buttonsMessage\x20function:','stopConversation','Router','indexOf','hasOwnProperty','.xls','https://uazapi-plugin.bubbleapps.io/?url=','removeIPv6','getAllData','mongoose','success','bodyString','list2','sendLocation','waMonitor','Erro\x20de\x20atualização:\x20','done','logout','lastInteraction','FlowController','lastSend','/64\x20dev\x20','messagesLogs','stateConnection','):\x20Reconectando\x20serviço\x20de\x20mensagens\x20após\x20limpeza.','cacheContactModel','Logger','status.instance','instanceInfo','Erro\x20ao\x20buscar\x20Schedule\x20Messages','messages.upsert','Erro\x20ao\x20atualizar\x20conversa:\x20','File\x20written\x20to\x20path:\x20','min','):\x20Todos\x20os\x20grupos\x20de\x20mensagens\x20foram\x20deletados\x20com\x20sucesso.','50mb','processConditions','model','decryptPollVote','participant','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','telefone','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','variablesToObject','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','SERVER','\x1b[43m','fetchConversation','STATUS_INSTANCE','editMessagesInGroup','scheduleNextCheck','statusMessage','sticker','Número\x20não\x20possui\x20WhatsApp.','routerPath','updateCustomFields','media','stickerMessage','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','sendList','fetchInstances','mediaSticker','sendPresenceUpdate','not\x20loaded','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','latitude','fetchProfilePicture','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','41752TfeBkT',',\x20lastCondition:\x20','selectedRowId','waitingMenu_replyOptions','realVariables','getScheduleMessage','findAndReplaceRegex','fromObject','Fluxo\x20\x27','\x1b[31m','number','updateAgent','cleanupExcessiveIPs','findMany','demote','not_announcement','groupId','leadInfo.etiquetas','groupJoinApprovalMode','Not\x20Found','apply','binary','remove.instance','msgRetryCounterCache','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','Erro\x20ao\x20importar\x20chats','phoneNumber','Erro\x20na\x20função\x20updateChatWithMessage:\x20','loggedOut','getMessage','isListOfNumbers','lastSendMessage','https://api.ipify.org?format=json','senderKeyDistributionMessage','Flow\x20iniciado','):\x20tem\x20blocks','addReplyOption','groupSetting','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','replaceVariables','/create','groupJid','\x20}\x0a','\x1b[34m%s\x1b[0m','):\x20debug\x20alterando\x20this.AutomateSystem','temp-','updateGroupParticipantsWebhook','maxActives','variablesNotFound','toString','groups.update','content','createWebhook','mongodb://','remoteJid','deleteImportedChat','deleteAllMessages','menuIgnoreNonVotes','processclearVariables','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','notify','Module\x20-\x20ON','flowConfig','pairingCode','ScheduleMessageModel','/exit','):\x20Criando\x20nova\x20conversa[createNewConversation]','Partes\x20do\x20domínio:','envProcess','global','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','#83e421','):including\x20timestamp\x20in\x20url:\x20','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','):\x20Buscando\x20todos\x20os\x20fluxos...','initializeQueue','user','networkInterface','\x5cd+','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','superadmin','Partes\x20do\x20caminho\x20FULLCHAIN:','):\x20Bloco\x20com\x20ID\x20','audio/ogg;\x20codecs=opus','queue','then','listType','Comando\x20desconhecido','contactMessage','#9ba6ff','toFile','updateStopChat','\x20depois\x20','writeData','onTime','load','createButtonSectionsFromValues','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','SERVER_PORT','reactionMessage','):\x20Editando\x20condição\x20do\x20fluxo...',',\x20Novo\x20tamanho:\x20','):Temp\x20image\x20deleted','processedMessagesCache','condition','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','getClient','path','request\x20received\x20in\x20editFlowgroup','):\x20Bloco\x20original\x20para\x20cópia:\x20','isConnected','PLAYED','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','groupBetterSetting','expression','Erro\x20ao\x20atualizar\x20o\x20fluxo:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','webhookService','):Getting\x20image\x20from\x20url','footerText','descId','createAndSave','replyOptions','sendMessageWithTyping','enabled','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','):Notifying\x20clients\x20for\x20chat:\x20','some','Botão\x202','whoCanEdit','reorderMessages','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','IPv6\x20addresses\x20detected:\x20','Esse\x20fluxo\x20expirou','addBlock','HistoryProcessed\x20definido\x20como\x20true\x20após\x202\x20minutos.','listResponseMessage','readreceipts','PASSWORD','saveChatVariables','bateu\x20events','wuid','proxy:\x20','textMessage','processApiRequest','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','put','quoted','INFO','subject','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','everyOne','isRunning','error\x20get\x20vote','notas','):\x20Limpando\x20delayMessage','fetchPrivacySettings','findRealGroups','findOneAndUpdate','updateConversation','setNewValue','function','block','triedToSend','downloads','.webp','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','selectedOptions','saveMediaToFile','push','_hour','!cmd_','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','uazapiDeleteMessage','ContactsAndGroups','last','3382zCexLb','json','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','request\x20received\x20in\x20getConversation','createConnection','Parando\x20aplicação,\x20atualização\x20recebida','):\x20Entrou\x20na\x20função\x20clearVariables','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','):\x20Adicionando\x20\x27','startsWith','):\x20Editando\x20grupo\x20do\x20fluxo...','createHash','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','isBusiness','findByIdAndUpdate','error','getReadyToSendMessages','updateReplyOption','Timeout\x20exceeded','request\x20received\x20in\x20deleteDoneMessages','quick_reply','profileName','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','randomMac','delAll','METHODS','organization','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','ff:fe','localWebhook','sendDataWebhook','release','updateGParticipant','request\x20received\x20in\x20editFlowcondition','getFlow','singleSelectReply','delayMessage','QRCODE_UPDATED','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','creds.update','messageSecret','@whiskeysockets/baileys','chats.delete','listMessage','matchRegex','buffer','available','request\x20received\x20in\x20editFlowvariable','hex',',\x20global:\x20','):\x20Conversa\x20inserida\x20com\x20sucesso.','deleteInstance','-instances','Unauthorized','AUTHENTICATION_JWT_EXPIRIN_IN','):\x20sender\x20=\x20number:\x20','/wa-message','CONTACTS_SET','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','https://api.openai.com/v1/audio/speech','goToFlow','\x1b[36m','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','axios','):\x20Fluxo\x20\x27','.mp3','label','lastUpdate','shareFlow','Não\x20respondeu\x20com\x20a\x20enquete.','Failed\x20to\x20prepare\x20media\x20message','Error\x20writing\x20file:\x20','deleteAll','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','interactiveMessage','delayChatLabel_MAX_RETRIES','\x22\x20not\x20found','updateGroupsAddPrivacy','waitingForReplyMenu','):\x20\x27Enviando\x20mídia\x20para\x20\x27','jwt','editFlowGroup','stopWhenYouSendMsg','):Processing\x20audio','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','relayMessage','CONNECTION','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','http','_pushName','groupGetInviteInfo','Connection','flowPrefixCommand','updateMissingTags','setUpdate','\x20minutos','mediatype','REDIS','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','The\x20instance\x20needs\x20to\x20be\x20disconnected','subjectTime','request\x20received\x20in\x20editConversation','ip\x20-6\x20addr\x20show\x20scope\x20global','Instância\x20não\x20encontrada.','isBase64','list','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','):\x20Há\x20mensagens\x20prontas,\x20limpando\x20e\x20adicionando\x20à\x20fila','stringify','}}\x20->\x20\x22','\x1b[0m','):\x20teve\x20mudanças\x20chat.archived:\x20','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','removed','flattenObject','isBusinessInstance','sendPoll','Instance\x20\x22','Generated\x20IPv6:\x20','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','node-cache','createflow','evaluateConditionTest','isInteger','startID','PRESENCE_UPDATE','Variáveis\x20não\x20encontradas:','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','nomecompleto','content-type','):\x20Comando\x20desconhecido:\x20','formatStatusMessage','STORE_MESSAGE','sendSticker','awaitingApproval','local_map','ON\x20-\x20dbName:\x20','generateWAMessageFromContent','MessageModel','delayChatLabel','sha256','Erro\x20ao\x20criar\x20fluxo','FlowRouter','.pptx','reorderReplyOptions','now','role','HH:mm:ss','ephemeralDuration','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','sendMessageWithTypingButtons','):\x20','PRIVKEY','reconnectTimestamps','\x1b[33m','TEL','instanceCount',',\x20Resultado:\x20','profilePicture','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','updateGroupPicture','DD/MM\x20HH:mm:ss','url','Início','chat','beautifyWithPlaceholders','Error\x20testing\x20IP\x20with\x20','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','updatePrivacySettings','setHeader','updateOneById','notContains','Error\x20removing\x20IPv6\x20address:\x20','qrcode','instances','admin','editflowvariable','Erro\x20ao\x20editar\x20o\x20bloco:\x20','muteEndTime','array'];a0_0x336c=function(){return _0x359c41;};return a0_0x336c();}Y&&Be[a0_0x5ae34c(0x31c)](a0_0x5ae34c(0x76d)+Y['$dbName']),process['on'](a0_0x5ae34c(0x8ad),()=>{const _0x4b553d=a0_0x5ae34c;T&&T[_0x4b553d(0x3b2)](()=>{const _0x2c7fdd=_0x4b553d;Be[_0x2c7fdd(0x31c)]('Database\x20connection\x20closed.');}),Y&&Y['close'](()=>{const _0x2644f0=_0x4b553d;Be[_0x2644f0(0x31c)]('CacheContacts\x20database\x20connection\x20closed.');});});var Zi=new Se[(a0_0x5ae34c(0x85a))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),eo=new Se['Schema']({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),to=new Se[(a0_0x5ae34c(0x85a))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),so=new Se['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Zi],'default':[]}},{'_id':!0x1}),ao=new Se[(a0_0x5ae34c(0x85a))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':so,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':eo},'groupdata':{'type':to,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ta=_0x263077=>{const _0x423565=a0_0x5ae34c;let _0x314075='z_'+_0x263077+_0x423565(0x329);return T?.[_0x423565(0x611)](_0x423565(0x2e8),ao,_0x314075);},sa=require(a0_0x5ae34c(0x5f5)),io=new sa[(a0_0x5ae34c(0x85a))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=_0x1b3226=>{const _0xa1defd=a0_0x5ae34c;let _0x2138bf='z_'+_0x1b3226+_0xa1defd(0x547);return T?.[_0xa1defd(0x611)](_0xa1defd(0x34d),io,_0x2138bf);},ia=require('mongoose'),gs=class{},oo=new ia['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),oa=Y?.['model'](gs[a0_0x5ae34c(0x48b)],oo,a0_0x5ae34c(0x6e2)),ra=require(a0_0x5ae34c(0x5f5)),ms=class{},ro=new ra[(a0_0x5ae34c(0x85a))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),We=Y?.[a0_0x5ae34c(0x611)](ms[a0_0x5ae34c(0x48b)],ro,'instances'),ws=require(a0_0x5ae34c(0x5f5)),fs=class{},no=new ws[(a0_0x5ae34c(0x85a))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),co=new ws['Schema']({'_id':{'type':String},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),na=Y?.[a0_0x5ae34c(0x611)](fs[a0_0x5ae34c(0x48b)],co,a0_0x5ae34c(0x602)),ca=_0x2e5301=>{const _0x558ee4=a0_0x5ae34c;let _0x1f7f9d='z_'+_0x2e5301+_0x558ee4(0x3f4);return T?.[_0x558ee4(0x611)](_0x558ee4(0x76f),no,_0x1f7f9d);},la=require(a0_0x5ae34c(0x5f5)),ys=class{},lo=new la[(a0_0x5ae34c(0x85a))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ua=T?.[a0_0x5ae34c(0x611)](ys[a0_0x5ae34c(0x48b)],lo,a0_0x5ae34c(0x458)),da=require(a0_0x5ae34c(0x5f5)),bs=class{},pa=new da['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});pa[a0_0x5ae34c(0x348)]('save',function(_0xc2ab72){const _0x4fbb95=a0_0x5ae34c;delete this[_0x4fbb95(0x1ff)],delete this['flowIgnoreGroups'],delete this[_0x4fbb95(0x741)],delete this['flowStopConversation'],delete this[_0x4fbb95(0x416)],_0xc2ab72();});var ha=T?.[a0_0x5ae34c(0x611)](bs['name'],pa,a0_0x5ae34c(0x832)),P=require(a0_0x5ae34c(0x5f5)),Ss=require(a0_0x5ae34c(0x48e)),ze=class{},Ms=class{},ma=new P[(a0_0x5ae34c(0x85a))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Cs=new P['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),uo=new P[(a0_0x5ae34c(0x85a))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x5ae34c(0x74e)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x5ae34c(0x134)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':a0_0x5ae34c(0x40f)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),fa=new P[(a0_0x5ae34c(0x85a))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),po=new P[(a0_0x5ae34c(0x85a))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),ho=new P[(a0_0x5ae34c(0x85a))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Es=new P[(a0_0x5ae34c(0x85a))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),go=new P[(a0_0x5ae34c(0x85a))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),wa=new P[(a0_0x5ae34c(0x85a))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':uo},'apirequest':po,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':go,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ya=new P[(a0_0x5ae34c(0x85a))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ba=new P[(a0_0x5ae34c(0x85a))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Es],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x1d00e7=a0_0x5ae34c;return _0x1d00e7(0x6df)+Math[_0x1d00e7(0x302)]()[_0x1d00e7(0x663)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':'false'},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});ba[a0_0x5ae34c(0x348)]('findOneAndUpdate',function(_0x4f44ef){const _0x4f9818=a0_0x5ae34c;let _0x1f7445=this[_0x4f9818(0x25a)]();if(_0x1f7445&&typeof _0x1f7445=='object'&&_0x4f9818(0x307)in _0x1f7445){let _0x35a85d=_0x1f7445[_0x4f9818(0x307)];if(_0x35a85d){let _0x47b941=new Set(),_0x150893=new Set(_0x35a85d[_0x4f9818(0x215)]?.[_0x4f9818(0x89e)](_0x4296dd=>_0x4296dd[_0x4f9818(0x48b)])),_0x100d5a=JSON[_0x4f9818(0x751)](_0x35a85d),_0x54f0dd=/{{(?!_)([^}]*)}}/g,_0x3b275a;for(;(_0x3b275a=_0x54f0dd[_0x4f9818(0x21f)](_0x100d5a))!==null;)_0x150893[_0x4f9818(0x567)](_0x3b275a[0x1])||_0x47b941[_0x4f9818(0x2a2)](_0x3b275a[0x1]);_0x47b941[_0x4f9818(0x50f)]>0x0?(console[_0x4f9818(0x4cf)](_0x4f9818(0x763),Array[_0x4f9818(0x143)](_0x47b941)),_0x35a85d[_0x4f9818(0x662)]=Array[_0x4f9818(0x143)](_0x47b941)):_0x35a85d[_0x4f9818(0x662)]=[],this[_0x4f9818(0x743)]({'$set':_0x35a85d});}}_0x4f44ef();});var Me=T?.[a0_0x5ae34c(0x611)](Ms[a0_0x5ae34c(0x48b)],ba,a0_0x5ae34c(0x200)),mo=new P[(a0_0x5ae34c(0x85a))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Es],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[ho]},{'_id':!0x1}),fo=new P[(a0_0x5ae34c(0x85a))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Es],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'chatLog':mo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x5ae34c(0x83a)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x5ae34c(0x6b9)},'waitingMenu_replyOptions':{'type':[Cs],'default':[]}}),Sa=_0x45ed57=>{const _0x75781c=a0_0x5ae34c;let _0x46eb4f='z_'+_0x45ed57+'_FlowHistorico';return T?.[_0x75781c(0x611)](_0x75781c(0x265),fo,_0x46eb4f);},wo=new P[(a0_0x5ae34c(0x85a))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ga=new P[(a0_0x5ae34c(0x85a))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),yo=new P[(a0_0x5ae34c(0x85a))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ga],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x5ae34c(0x1d1)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[wo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ga,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ma=_0x17b797=>{const _0xcdff23=a0_0x5ae34c;let _0x41229b='z_'+_0x17b797+_0xcdff23(0x1ed);return T?.[_0xcdff23(0x611)](_0xcdff23(0x672),yo,_0x41229b);},vs=class{},bo=new P[(a0_0x5ae34c(0x85a))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),So=new P[(a0_0x5ae34c(0x85a))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),Mo=new P[(a0_0x5ae34c(0x85a))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Co=new P['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x5ae34c(0x1c4)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),vo=new P[(a0_0x5ae34c(0x85a))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Eo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[vo]},'customFields':{'type':[Mo]},'flowConfig':{'type':Co,'default':{}},'flows':{'type':[So],'default':[]},'autoCompleteMessages':{'type':[bo],'default':[]}}),Te=T?.['model'](vs[a0_0x5ae34c(0x48b)],Eo,a0_0x5ae34c(0x541)),Ca=require(a0_0x5ae34c(0x5f5)),No=new Ca[(a0_0x5ae34c(0x85a))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),va=_0x7eb770=>{const _0x5aaa95=a0_0x5ae34c;let _0x5b90f9='z_'+_0x7eb770+'_Labels';return T?.['model'](_0x5aaa95(0x593),No,_0x5b90f9);},O=class{constructor(_0x1aaeac){const _0x42f5ab=a0_0x5ae34c;this['dbSettings']=_0x1aaeac[_0x42f5ab(0x52d)](_0x42f5ab(0x230));}};function A(_0x538999){const _0x58e500=a0_0x5ae34c;let _0x24231d={};for(let [_0x5ec44e,_0x543125]of Object['entries'](_0x538999))if(typeof _0x543125==_0x58e500(0x79d)&&!Array[_0x58e500(0x40e)](_0x543125)){for(let [_0x38cfa3,_0x5ac898]of Object[_0x58e500(0x7e4)](_0x543125))_0x24231d[_0x5ec44e+'.'+_0x38cfa3]=_0x5ac898;}else _0x24231d[_0x5ec44e]=_0x543125;return _0x24231d;}var He=class{constructor(_0x241447,_0x240cdf,_0x2d6436,_0x1fca3f,_0x381b9e,_0x1989cc,_0x39e077,_0x1d8c48,_0x7c6117,_0x30e4b1,_0x180f60,_0x39298d,_0x55255b,_0x2ae482){const _0x56b005=a0_0x5ae34c;this[_0x56b005(0x80a)]=_0x241447,this['chat']=_0x240cdf,this[_0x56b005(0x420)]=_0x2d6436,this[_0x56b005(0x44c)]=_0x1fca3f,this[_0x56b005(0x306)]=_0x381b9e,this[_0x56b005(0x832)]=_0x1989cc,this[_0x56b005(0x3cb)]=_0x39e077,this[_0x56b005(0x2a1)]=_0x1d8c48,this[_0x56b005(0x4e0)]=_0x7c6117,this[_0x56b005(0x1d6)]=_0x30e4b1,this[_0x56b005(0x727)]=_0x180f60,this['scheduleMessage']=_0x39298d,this[_0x56b005(0x570)]=_0x55255b,this[_0x56b005(0x5ea)]=_0x2ae482;}get[a0_0x5ae34c(0x463)](){const _0x561902=a0_0x5ae34c;return this[_0x561902(0x5ea)];}},Ke=class{},Qe=class extends O{[a0_0x5ae34c(0x5b7)](_0x5ae7f4){return ca(_0x5ae7f4);}async['insert'](_0x48ad80,_0xf9c92d){const _0x1d4c2=a0_0x5ae34c;if(_0x48ad80[_0x1d4c2(0x3b3)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0xf9c92d)[_0x1d4c2(0x85e)]([..._0x48ad80]))[_0x1d4c2(0x3b3)]};}catch(_0xbd36c5){return _0xbd36c5;}}async[a0_0x5ae34c(0x42c)](_0x4a709,_0x319ac0){const _0x42078b=a0_0x5ae34c;try{let _0x2d97e8=this['getMessageModelForOwner'](_0x319ac0),_0x189f53=A(_0x4a709[_0x42078b(0x485)]);return await _0x2d97e8[_0x42078b(0x42c)](_0x189f53)[_0x42078b(0x3dc)]({'messageTimestamp':-0x1})[_0x42078b(0x5d4)](_0x4a709?.['limit']??0x0)[_0x42078b(0x4e5)]();}catch{return[];}}async[a0_0x5ae34c(0x42f)](_0x58d010,_0x1cb630){const _0x31ba3a=a0_0x5ae34c;try{let _0x4a6c19=this[_0x31ba3a(0x5b7)](_0x1cb630),_0x32b37a=A(_0x58d010[_0x31ba3a(0x485)]);await _0x4a6c19[_0x31ba3a(0x2cf)](_0x32b37a);}catch(_0x3a82f1){console['error'](_0x3a82f1);}}async[a0_0x5ae34c(0x15a)](_0x38b98e,_0x9c3dd0,_0x98c8f9){const _0x537888=a0_0x5ae34c;try{let _0xda6e40=this[_0x537888(0x5b7)](_0x98c8f9),_0x33e15a=A(_0x38b98e['where']);return await _0xda6e40[_0x537888(0x6d2)](_0x33e15a,{'$set':_0x9c3dd0},{'new':!0x0});}catch(_0x115e3c){throw console['error'](_0x115e3c),_0x115e3c;}}async['insertMany'](_0x57687f,_0x849ce5){const _0xab697=a0_0x5ae34c;if(_0x57687f[_0xab697(0x3b3)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0xab697(0x5b7)](_0x849ce5)['insertMany']([..._0x57687f]))['length']};}catch(_0x2ed291){return console['log'](_0xab697(0x33f),_0x2ed291),_0x2ed291;}}async[a0_0x5ae34c(0x72d)](_0x4fa38e){const _0x3b8f51=a0_0x5ae34c;try{return await this[_0x3b8f51(0x5b7)](_0x4fa38e)[_0x3b8f51(0x43d)][_0x3b8f51(0x3cc)](),{'success':!0x0};}catch(_0x2a2400){return console[_0x3b8f51(0x6f3)](_0x2a2400),{'success':!0x1,'error':_0x2a2400};}}},Ds=I(require('@ffmpeg-installer/ffmpeg')),w=I(require(a0_0x5ae34c(0x70e))),Fe=require('fs'),j=I(require(a0_0x5ae34c(0x69e))),K=I(require(a0_0x5ae34c(0x724))),Ti=require(a0_0x5ae34c(0x48e)),Ii=I(require(a0_0x5ae34c(0x792))),_i=I(require('qrcode-terminal')),Ea=[a0_0x5ae34c(0x48f),a0_0x5ae34c(0x13e),'audioMessage',a0_0x5ae34c(0x324),a0_0x5ae34c(0x626)],Na=[a0_0x5ae34c(0x38d),'documentWithCaptionMessage','viewOnceMessage','viewOnceMessageV2'],ks=require('os'),Ft=I(require(a0_0x5ae34c(0x3c1))),Ue=require(a0_0x5ae34c(0x7cc)),Oi=require(a0_0x5ae34c(0x87a)),pe=I(require('mongoose')),J=require('class-validator'),ce=class{constructor(_0x36d48a,_0x21218d,_0x2a9968){const _0x375e10=a0_0x5ae34c;this['jid']=_0x36d48a,this[_0x375e10(0x17c)]=_0x21218d,this[_0x375e10(0x48b)]=_0x2a9968;}},Ye=class{},Xe=class{},Ie=class{},Ze=class{},et=class{},Ce=class{},tt=class{},st=class{},at=class{},it=class{},xt=I(require(a0_0x5ae34c(0x2c6))),$a=require('fs'),Ra=require(a0_0x5ae34c(0x69e));async function _e(_0x15556b){const _0x57c71b=a0_0x5ae34c;let _0x23cc20=G[_0x57c71b(0x428)][_0x15556b];if(L['ENABLED']){let _0x3b84c4=T['getClient']()['db'](L[_0x57c71b(0x73b)][_0x57c71b(0x11c)]+_0x57c71b(0x719))['collection'](_0x15556b);return _0x23cc20||(await _0x3b84c4[_0x57c71b(0x42c)]({})[_0x57c71b(0x166)]())['length']>0x0;}return _0x23cc20||(0x0,$a[_0x57c71b(0x36c)])((0x0,Ra[_0x57c71b(0x88d)])(be,_0x15556b));}async function Aa(_0x2c0b4c,_0x13f504,_0xa3af43){const _0x4e2f70=a0_0x5ae34c;if(_0x2c0b4c[_0x4e2f70(0x2f7)]['includes'](_0x4e2f70(0x7ec))||_0x2c0b4c[_0x4e2f70(0x2f7)][_0x4e2f70(0x81c)](_0x4e2f70(0x7f8))||_0x2c0b4c['originalUrl'][_0x4e2f70(0x81c)]('/exit')||_0x2c0b4c['originalUrl'][_0x4e2f70(0x81c)](_0x4e2f70(0x7c5))||_0x2c0b4c[_0x4e2f70(0x2f7)][_0x4e2f70(0x81c)]('/instance/connect')||_0x2c0b4c[_0x4e2f70(0x2f7)][_0x4e2f70(0x81c)]('/instance/connectionState')||_0x2c0b4c[_0x4e2f70(0x2f7)]['includes']('/instance/delete'))return _0xa3af43();let _0x5bb8ca=_0x2c0b4c[_0x4e2f70(0x31f)];if(!_0x5bb8ca?.['instanceName'])throw new m('instanceName\x20not\x20provided.');if(!await _e(_0x5bb8ca['instanceName']))throw new U(_0x4e2f70(0x5df)+_0x5bb8ca[_0x4e2f70(0x87e)]+'\x20instance\x20does\x20not\x20exist');_0xa3af43();}async function Ta(_0x396720,_0x2af437,_0x4424c1){const _0x5432ea=a0_0x5ae34c;if(_0x396720[_0x5432ea(0x2f7)][_0x5432ea(0x81c)](_0x5432ea(0x7ec))){let _0x27d649=_0x396720[_0x5432ea(0x84d)];if(await _e(_0x27d649[_0x5432ea(0x87e)]))throw new X(_0x5432ea(0x3df)+_0x27d649[_0x5432ea(0x87e)]+'\x20is\x20already\x20in\x20use.');G[_0x5432ea(0x428)][_0x27d649[_0x5432ea(0x87e)]]&&delete G[_0x5432ea(0x428)][_0x27d649[_0x5432ea(0x87e)]];}_0x4424c1();}var Ia=require('class-validator'),_a=I(require(a0_0x5ae34c(0x1f7))),ot=a0_0x5ae34c(0x332),Ro=new $('GUARD');async function Ao(_0xb7359c,_0x3b0bc3,_0x139de6){const _0x5bbbb0=a0_0x5ae34c;let _0x58bab3=_0xb7359c[_0x5bbbb0(0x52d)](_0x5bbbb0(0x471));if(_0x58bab3&&S[_0x5bbbb0(0x52d)]('AUTHENTICATION')[_0x5bbbb0(0x450)]['KEY']!==_0x58bab3)throw new se();if(S['get'](_0x5bbbb0(0x4f4))['API_KEY']['KEY']===_0x58bab3)return _0x139de6();if((_0xb7359c[_0x5bbbb0(0x2f7)][_0x5bbbb0(0x81c)](_0x5bbbb0(0x7ec))||_0xb7359c[_0x5bbbb0(0x2f7)][_0x5bbbb0(0x81c)](_0x5bbbb0(0x7f8)))&&!_0x58bab3)throw new X(_0x5bbbb0(0x87d),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x1cc751=S['get'](_0x5bbbb0(0x4f4))[_0x5bbbb0(0x3c8)];try{let [_0xbbcf67,_0x30f6de]=_0xb7359c['get'](_0x5bbbb0(0x159))['split']('\x20');if(_0xbbcf67['toLowerCase']()!==_0x5bbbb0(0x39e))throw new se();if(!(0x0,Ia[_0x5bbbb0(0x51d)])(_0x30f6de))throw new se();let _0x5f2aa6=_0xb7359c[_0x5bbbb0(0x31f)],_0x2069e9=_a[_0x5bbbb0(0x509)]['verify'](_0x30f6de,_0x1cc751[_0x5bbbb0(0x3a8)],{'ignoreExpiration':_0x1cc751[_0x5bbbb0(0x395)]===0x0});if(_0x5f2aa6[_0x5bbbb0(0x87e)]!==_0x2069e9['instanceName']||ot!==_0x2069e9[_0x5bbbb0(0x4a0)])throw new se();return _0x139de6();}catch(_0xbe12e6){throw Ro['error'](_0xbe12e6),new se();}}async function To(_0x263c73,_0x4b9732,_0x1650d8){const _0x19b689=a0_0x5ae34c;let _0x4f31bb=S[_0x19b689(0x52d)](_0x19b689(0x4f4))[_0x19b689(0x450)],_0x484d74=_0x263c73[_0x19b689(0x52d)](_0x19b689(0x471));if(_0x4f31bb['KEY']===_0x484d74)return _0x1650d8();if(_0x263c73[_0x19b689(0x2f7)][_0x19b689(0x81c)](_0x19b689(0x7ec))){let _0x22fce5=xa,_0x59ba8f=_0x263c73[_0x19b689(0x84d)][_0x19b689(0x87e)];if(_0x22fce5&&_0x59ba8f[_0x19b689(0x873)]()[_0x19b689(0x6ed)](_0x22fce5['toLowerCase']()))return _0x1650d8();if(!_0x484d74)throw new X(_0x19b689(0x87d),'The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x263c73['originalUrl'][_0x19b689(0x81c)](_0x19b689(0x7f8))&&!_0x484d74)throw new X('Missing\x20global\x20api\x20key',_0x19b689(0x822));if(_0x263c73[_0x19b689(0x2f7)][_0x19b689(0x81c)](_0x19b689(0x673))&&!_0x484d74)throw new X(_0x19b689(0x87d),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x263c73[_0x19b689(0x2f7)][_0x19b689(0x81c)](_0x19b689(0x7c5))&&!_0x484d74)throw new X(_0x19b689(0x87d),_0x19b689(0x822));try{let _0xb934c2=_0x263c73[_0x19b689(0x31f)],_0x50d91a=await me['auth'][_0x19b689(0x42c)](_0xb934c2['instanceName']);if(_0x50d91a&&_0x50d91a[_0x19b689(0x471)]===_0x484d74)return _0x1650d8();}catch{}throw new se();}var Oa={'jwt':Ao,'apikey':To},pi=require('express'),C=require(a0_0x5ae34c(0x48e)),v=(..._0x54c72e)=>{const _0x18a524=a0_0x5ae34c;let _0x501907={};return _0x54c72e[_0x18a524(0x478)](_0x23a6d2=>_0x501907[_0x23a6d2]={'minLength':0x1,'description':_0x18a524(0x48d)+_0x23a6d2+_0x18a524(0x2f5)}),{'if':{'propertyNames':{'enum':[..._0x54c72e]}},'then':{'properties':_0x501907}};},E={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'instanceName':{'type':a0_0x5ae34c(0x3ba)}},...v(a0_0x5ae34c(0x87e))},Tc={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'oldToken':{'type':a0_0x5ae34c(0x3ba)}},'required':[a0_0x5ae34c(0x14e)],...v(a0_0x5ae34c(0x14e))},Ic={'properties':{'key':{'type':a0_0x5ae34c(0x79d),'properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x5ae34c(0x7cd),'enum':[!0x0,!0x1]}},'required':['id',a0_0x5ae34c(0x668),a0_0x5ae34c(0x210)],...v('id',a0_0x5ae34c(0x668))},'message':{'type':a0_0x5ae34c(0x79d)}}},ae={'properties':{'delay':{'type':a0_0x5ae34c(0x7c8),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x5ae34c(0x3ba),'enum':[a0_0x5ae34c(0x290),a0_0x5ae34c(0x713),a0_0x5ae34c(0x1cf),a0_0x5ae34c(0x7cf),a0_0x5ae34c(0x423)]}}},Z={'type':a0_0x5ae34c(0x3ba),'description':a0_0x5ae34c(0x4c1)},Pa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'textMessage':{'type':a0_0x5ae34c(0x79d),'properties':{'text':{'type':'string'}},'required':[a0_0x5ae34c(0x24e)],...v('text')}},'required':['textMessage','number']},Da={'type':a0_0x5ae34c(0x3ba),'pattern':a0_0x5ae34c(0x344),'description':'Invalid\x20format'},_c={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'number':{...Da},'options':{...ae},'textMessage':{'type':a0_0x5ae34c(0x79d),'properties':{'text':{'type':a0_0x5ae34c(0x3ba)}},'required':[a0_0x5ae34c(0x24e)],...v(a0_0x5ae34c(0x24e))}},'required':[a0_0x5ae34c(0x6c3),a0_0x5ae34c(0x63b)]},Oc={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'number':{...Da},'options':{...ae},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x5ae34c(0x3ba),'enum':[a0_0x5ae34c(0x86f),a0_0x5ae34c(0x1c7),'video',a0_0x5ae34c(0x817)]},'media':{'type':a0_0x5ae34c(0x3ba)},'fileName':{'type':'string'},'caption':{'type':a0_0x5ae34c(0x3ba)}},'required':['mediatype',a0_0x5ae34c(0x625)],...v(a0_0x5ae34c(0x4e4),a0_0x5ae34c(0x427),'media')}},'required':['mediaMessage',a0_0x5ae34c(0x63b)]},ka={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'stickerMessage':{'type':'object','properties':{'image':{'type':a0_0x5ae34c(0x3ba)}},'required':['image'],...v(a0_0x5ae34c(0x86f))}},'required':['stickerMessage','number']},La={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'statusMessage':{'type':a0_0x5ae34c(0x79d),'properties':{'type':{'type':a0_0x5ae34c(0x3ba),'enum':[a0_0x5ae34c(0x24e),a0_0x5ae34c(0x86f),'audio','video']},'content':{'type':a0_0x5ae34c(0x3ba)},'caption':{'type':'string'},'backgroundColor':{'type':'string'},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x5ae34c(0x798),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x5ae34c(0x3fe),'description':a0_0x5ae34c(0x183)}},'allContacts':{'type':a0_0x5ae34c(0x7cd),'enum':[!0x0,!0x1]}},'required':[a0_0x5ae34c(0x279),a0_0x5ae34c(0x665)],...v('type',a0_0x5ae34c(0x665))}},'required':[a0_0x5ae34c(0x620)]},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'number':{...Z},'options':{...ae},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x5ae34c(0x3ba),'enum':[a0_0x5ae34c(0x86f),a0_0x5ae34c(0x1c7),a0_0x5ae34c(0x490),a0_0x5ae34c(0x817)]},'media':{'type':a0_0x5ae34c(0x3ba)},'fileName':{'type':'string'},'caption':{'type':a0_0x5ae34c(0x3ba)}},'required':['mediatype',a0_0x5ae34c(0x625)],...v(a0_0x5ae34c(0x4e4),a0_0x5ae34c(0x427),a0_0x5ae34c(0x625))}},'required':[a0_0x5ae34c(0x8a1),a0_0x5ae34c(0x63b)]},Ua={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0x5ae34c(0x3ba)}},'required':[a0_0x5ae34c(0x817)],...v(a0_0x5ae34c(0x817))}},'required':[a0_0x5ae34c(0x56a),'number']},ja={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'number':{...Z},'pollMessage':{'type':a0_0x5ae34c(0x79d),'properties':{'name':{'type':a0_0x5ae34c(0x3ba)},'selectableCount':{'type':a0_0x5ae34c(0x63b)},'values':{'type':a0_0x5ae34c(0x798),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x5ae34c(0x48b),a0_0x5ae34c(0x81d),a0_0x5ae34c(0x195)],...v(a0_0x5ae34c(0x48b),a0_0x5ae34c(0x81d),a0_0x5ae34c(0x195))}},'required':[a0_0x5ae34c(0x63b),'pollMessage']},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'number':{...Z},'menuMessage':{'type':a0_0x5ae34c(0x79d),'properties':{'text':{'type':a0_0x5ae34c(0x3ba)},'choices':{'type':a0_0x5ae34c(0x798),'uniqueItems':!0x0}},'required':['text',a0_0x5ae34c(0x11d)],...v(a0_0x5ae34c(0x24e),a0_0x5ae34c(0x11d))}},'required':[a0_0x5ae34c(0x63b),'menuMessage']},qa={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'number':{...Z},'options':{...ae},'locationMessage':{'type':a0_0x5ae34c(0x79d),'properties':{'latitude':{'type':'number'},'longitude':{'type':'number'},'name':{'type':'string'},'address':{'type':'string'}},'required':[a0_0x5ae34c(0x62e),a0_0x5ae34c(0x47c)],...v(a0_0x5ae34c(0x48b),a0_0x5ae34c(0x1ea))}},'required':[a0_0x5ae34c(0x63b),'locationMessage']},Va={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'number':{...Z},'options':{...ae},'listMessage':{'type':a0_0x5ae34c(0x79d),'properties':{'title':{'type':a0_0x5ae34c(0x3ba)},'description':{'type':a0_0x5ae34c(0x3ba)},'footerText':{'type':'string'},'buttonText':{'type':'string'},'sections':{'type':a0_0x5ae34c(0x798),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5ae34c(0x79d),'properties':{'title':{'type':a0_0x5ae34c(0x3ba)},'rows':{'type':a0_0x5ae34c(0x798),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x5ae34c(0x3ba)},'description':{'type':a0_0x5ae34c(0x3ba)},'rowId':{'type':'string'}},'required':['title',a0_0x5ae34c(0x7f1)],...v('title','rowId')}}},'required':[a0_0x5ae34c(0x7e8),a0_0x5ae34c(0x5a5)],...v(a0_0x5ae34c(0x7e8))}}},'required':[a0_0x5ae34c(0x7e8),a0_0x5ae34c(0x55d),a0_0x5ae34c(0x3ac),'sections'],...v(a0_0x5ae34c(0x7e8),a0_0x5ae34c(0x55d),a0_0x5ae34c(0x3ac),a0_0x5ae34c(0x6aa))}},'required':[a0_0x5ae34c(0x63b),'listMessage']},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'number':{...Z},'options':{...ae},'contactMessage':{'type':a0_0x5ae34c(0x798),'items':{'type':'object','properties':{'fullName':{'type':a0_0x5ae34c(0x3ba)},'phoneNumber':{'type':a0_0x5ae34c(0x3ba),'minLength':0xa}},'required':[a0_0x5ae34c(0x2dd),a0_0x5ae34c(0x64c)],...v(a0_0x5ae34c(0x2dd))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x5ae34c(0x63b),a0_0x5ae34c(0x68a)]},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'reactionMessage':{'type':a0_0x5ae34c(0x79d),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x5ae34c(0x3ba)},'remoteJid':{'type':a0_0x5ae34c(0x3ba)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x5ae34c(0x668),a0_0x5ae34c(0x210)],...v('id',a0_0x5ae34c(0x668))},'reaction':{'type':a0_0x5ae34c(0x3ba)}},'required':['key',a0_0x5ae34c(0x4d6)],...v('reaction')}},'required':[a0_0x5ae34c(0x696)]},Wa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'numbers':{'type':a0_0x5ae34c(0x798),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5ae34c(0x3ba),'pattern':'^\x5cd+','description':a0_0x5ae34c(0x37e)}}}},za={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'readMessages':{'type':a0_0x5ae34c(0x798),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x5ae34c(0x3ba)},'fromMe':{'type':a0_0x5ae34c(0x7cd),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x5ae34c(0x3ba)}},'required':['id',a0_0x5ae34c(0x210),a0_0x5ae34c(0x668)],...v('id',a0_0x5ae34c(0x668))}}},'required':['readMessages']},Ha={'$id':(0x0,C['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x5ae34c(0x79d),'properties':{'readreceipts':{'type':a0_0x5ae34c(0x3ba),'enum':['all',a0_0x5ae34c(0x13a)]},'profile':{'type':'string','enum':['all',a0_0x5ae34c(0x5b0),a0_0x5ae34c(0x1ef),a0_0x5ae34c(0x13a)]},'status':{'type':'string','enum':[a0_0x5ae34c(0x1ca),'contacts',a0_0x5ae34c(0x1ef),a0_0x5ae34c(0x13a)]},'online':{'type':a0_0x5ae34c(0x3ba),'enum':['all','match_last_seen']},'last':{'type':a0_0x5ae34c(0x3ba),'enum':['all',a0_0x5ae34c(0x5b0),a0_0x5ae34c(0x1ef),a0_0x5ae34c(0x13a)]},'groupadd':{'type':a0_0x5ae34c(0x3ba),'enum':[a0_0x5ae34c(0x1ca),'contacts','contact_blacklist',a0_0x5ae34c(0x13a)]}},'required':[a0_0x5ae34c(0x6bd),a0_0x5ae34c(0x40d),a0_0x5ae34c(0x41e),'online',a0_0x5ae34c(0x6e3),a0_0x5ae34c(0x493)],...v('readreceipts','profile','status','online',a0_0x5ae34c(0x6e3),a0_0x5ae34c(0x493))}},'required':[a0_0x5ae34c(0x13c)]},Ka={'$id':(0x0,C['v4'])(),'type':'object','properties':{'lastMessage':{'type':a0_0x5ae34c(0x79d),'properties':{'key':{'type':a0_0x5ae34c(0x79d),'properties':{'id':{'type':a0_0x5ae34c(0x3ba)},'remoteJid':{'type':a0_0x5ae34c(0x3ba)},'fromMe':{'type':a0_0x5ae34c(0x7cd),'enum':[!0x0,!0x1]}},'required':['id',a0_0x5ae34c(0x210),a0_0x5ae34c(0x668)],...v('id','remoteJid')},'messageTimestamp':{'type':a0_0x5ae34c(0x7c8),'minLength':0x1}},'required':['key'],...v(a0_0x5ae34c(0x22b))},'archive':{'type':a0_0x5ae34c(0x7cd),'enum':[!0x0,!0x1]}},'required':[a0_0x5ae34c(0x5b8),a0_0x5ae34c(0x49b)]},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'id':{'type':a0_0x5ae34c(0x3ba)},'fromMe':{'type':a0_0x5ae34c(0x7cd),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x5ae34c(0x3ba)},'participant':{'type':'string'}},'required':['id','fromMe',a0_0x5ae34c(0x668)],...v('id',a0_0x5ae34c(0x668),a0_0x5ae34c(0x613))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'where':{'type':a0_0x5ae34c(0x79d),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':a0_0x5ae34c(0x3ba),'minLength':0x1}},...v(a0_0x5ae34c(0x579),'id',a0_0x5ae34c(0x522))}}},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'name':{'type':a0_0x5ae34c(0x3ba)}},...v(a0_0x5ae34c(0x48b))},Za={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'status':{'type':a0_0x5ae34c(0x3ba)}},...v(a0_0x5ae34c(0x41e))},Oe={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{'type':a0_0x5ae34c(0x3ba)},'picture':{'type':'string'}}},ei={'type':a0_0x5ae34c(0x79d),'properties':{'wuid':{'type':a0_0x5ae34c(0x3ba)},'name':{'type':a0_0x5ae34c(0x3ba)},'picture':{'type':a0_0x5ae34c(0x3ba)},'status':{'type':a0_0x5ae34c(0x3ba)},'isBusiness':{'type':'boolean'}}},ti={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'where':{'type':a0_0x5ae34c(0x79d),'properties':{'_id':{'type':a0_0x5ae34c(0x3ba),'minLength':0x1},'key':{'type':a0_0x5ae34c(0x79d),'if':{'propertyNames':{'enum':[a0_0x5ae34c(0x210),a0_0x5ae34c(0x668),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x5ae34c(0x3ba),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x5ae34c(0x3ba),'minLength':0x1,'description':a0_0x5ae34c(0x4d1)},'fromMe':{'type':a0_0x5ae34c(0x7cd),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x5ae34c(0x79d)}},...v(a0_0x5ae34c(0x579))},'limit':{'type':a0_0x5ae34c(0x7c8)}}},xc={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'where':{'type':a0_0x5ae34c(0x79d),'properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x5ae34c(0x3ba)},'id':{'type':a0_0x5ae34c(0x3ba)},'fromMe':{'type':a0_0x5ae34c(0x7cd),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x5ae34c(0x3ba)},'status':{'type':a0_0x5ae34c(0x3ba),'enum':['ERROR',a0_0x5ae34c(0x575),'SERVER_ACK','DELIVERY_ACK',a0_0x5ae34c(0x145),a0_0x5ae34c(0x6a2)]}},...v(a0_0x5ae34c(0x579),a0_0x5ae34c(0x668),'id',a0_0x5ae34c(0x41e))},'limit':{'type':'integer'}}},si={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'number':{...Z},'presence':{'type':a0_0x5ae34c(0x3ba),'enum':['unavailable',a0_0x5ae34c(0x713),a0_0x5ae34c(0x1cf),a0_0x5ae34c(0x7cf),a0_0x5ae34c(0x423)]}},'required':['presence',a0_0x5ae34c(0x63b)]},ai={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'subject':{'type':a0_0x5ae34c(0x3ba)},'description':{'type':a0_0x5ae34c(0x3ba)},'profilePicture':{'type':a0_0x5ae34c(0x3ba)},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5ae34c(0x3ba),'minLength':0xa,'pattern':a0_0x5ae34c(0x680),'description':a0_0x5ae34c(0x5a9)}}},'required':[a0_0x5ae34c(0x6c9),a0_0x5ae34c(0x878)],...v(a0_0x5ae34c(0x6c9),a0_0x5ae34c(0x55d),a0_0x5ae34c(0x783))},xe={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'groupJid':{'type':a0_0x5ae34c(0x3ba),'pattern':a0_0x5ae34c(0x5a7)}},'required':[a0_0x5ae34c(0x65b)],...v(a0_0x5ae34c(0x65b))},ii={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x5ae34c(0x3ba),'enum':[a0_0x5ae34c(0x2a2),a0_0x5ae34c(0x5b3),a0_0x5ae34c(0x549),a0_0x5ae34c(0x63f),a0_0x5ae34c(0x202),a0_0x5ae34c(0x8b1)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5ae34c(0x3ba),'minLength':0xa,'pattern':a0_0x5ae34c(0x680),'description':a0_0x5ae34c(0x5a9)}}},'required':['groupJid',a0_0x5ae34c(0x1fe),a0_0x5ae34c(0x878)],...v('groupJid',a0_0x5ae34c(0x1fe))},oi={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'groupJid':{'type':a0_0x5ae34c(0x3ba)},'expiration':{'type':a0_0x5ae34c(0x63b),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x5ae34c(0x65b),a0_0x5ae34c(0x2c5)],...v('groupJid',a0_0x5ae34c(0x2c5))},ri={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'groupJid':{'type':a0_0x5ae34c(0x3ba)},'image':{'type':'string'}},'required':[a0_0x5ae34c(0x65b),a0_0x5ae34c(0x86f)],...v('groupJid','image')},ni={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'groupJid':{'type':a0_0x5ae34c(0x3ba)},'description':{'type':a0_0x5ae34c(0x3ba)}},'required':['groupJid','description'],...v(a0_0x5ae34c(0x65b),a0_0x5ae34c(0x55d))},ci={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x5ae34c(0x3ba)}},'required':[a0_0x5ae34c(0x65b),a0_0x5ae34c(0x48b)],...v(a0_0x5ae34c(0x65b),'name')},li={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'groupJid':{'type':'string'},'setting':{'type':'string','enum':['announcement',a0_0x5ae34c(0x640),a0_0x5ae34c(0x162),a0_0x5ae34c(0x5d5)]}},'required':[a0_0x5ae34c(0x65b),a0_0x5ae34c(0x180)],...v(a0_0x5ae34c(0x65b),a0_0x5ae34c(0x180))},ui={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'groupJid':{'type':a0_0x5ae34c(0x3ba)},'restrict':{'type':'boolean'},'announce':{'type':'boolean'},'memberAddMode':{'type':'boolean'},'joinApprovalMode':{'type':a0_0x5ae34c(0x7cd)},'expiration':{'type':'integer','enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':'string'},'description':{'type':a0_0x5ae34c(0x3ba)},'image':{'type':a0_0x5ae34c(0x3ba)}}},Ns={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'inviteCode':{'type':a0_0x5ae34c(0x3ba)}},'required':['inviteCode'],...v(a0_0x5ae34c(0x805))},di={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'url':{'type':'string'},'enabled':{'type':a0_0x5ae34c(0x7cd),'enum':[!0x0,!0x1]}},'required':[a0_0x5ae34c(0x787),a0_0x5ae34c(0x6af)]},Pc={'$id':(0x0,C['v4'])(),'type':a0_0x5ae34c(0x79d),'properties':{'local_map':{'type':a0_0x5ae34c(0x7cd),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x5ae34c(0x7cd),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x5ae34c(0x7cd),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x5ae34c(0x7cd),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x5ae34c(0x7cd),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x5ae34c(0x7cd),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x5ae34c(0x7cd),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x5ae34c(0x7cd),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x5ae34c(0x7cd),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x5ae34c(0x7cd),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x5ae34c(0x7cd),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x5ae34c(0x7cd),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x5ae34c(0x7cd),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x5ae34c(0x7cd),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x5ae34c(0x7cd),'enum':[!0x0,!0x1]}},'required':[a0_0x5ae34c(0x76c),a0_0x5ae34c(0x61d),a0_0x5ae34c(0x70a),'MESSAGES_SET',a0_0x5ae34c(0x5ca),'MESSAGES_UPSERT',a0_0x5ae34c(0x3e0),a0_0x5ae34c(0x71e),a0_0x5ae34c(0x4ca),'CONTACTS_UPDATE',a0_0x5ae34c(0x762),'CHATS_SET',a0_0x5ae34c(0x273),'CHATS_UPDATE',a0_0x5ae34c(0x1b9),a0_0x5ae34c(0x535),a0_0x5ae34c(0x2da),a0_0x5ae34c(0x28d),a0_0x5ae34c(0x51f)],...v('local_map',a0_0x5ae34c(0x61d),'QRCODE_UPDATED','MESSAGES_SET',a0_0x5ae34c(0x5ca),a0_0x5ae34c(0x3a7),a0_0x5ae34c(0x3e0),a0_0x5ae34c(0x71e),a0_0x5ae34c(0x4ca),a0_0x5ae34c(0x37a),a0_0x5ae34c(0x762),a0_0x5ae34c(0x804),a0_0x5ae34c(0x273),a0_0x5ae34c(0x2a4),a0_0x5ae34c(0x1b9),'CONNECTION_UPDATE','GROUPS_UPSERT','GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE')},rt=class{},nt=class extends O{[a0_0x5ae34c(0x528)](_0x5e78f2){return aa(_0x5e78f2);}async[a0_0x5ae34c(0x883)](_0x564930){const _0x4a43b2=a0_0x5ae34c;if(_0x564930[_0x4a43b2(0x3b3)]!==0x0)try{return{'insertCount':(await this[_0x4a43b2(0x528)](_0x564930[0x0][_0x4a43b2(0x1da)])[_0x4a43b2(0x85e)]([..._0x564930]))['length']};}catch(_0x53b7e6){return _0x53b7e6;}}async[a0_0x5ae34c(0x42f)](_0x196956,_0x46863a){const _0x555f0d=a0_0x5ae34c;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x46863a)['deleteMany']({..._0x196956[_0x555f0d(0x485)]}))[_0x555f0d(0x55b)]};}catch(_0xed4308){return{'error':_0xed4308?.[_0x555f0d(0x663)]()};}}async[a0_0x5ae34c(0x15a)](_0x355108,_0x35968){const _0x4f669d=a0_0x5ae34c;try{if(_0x355108[_0x4f669d(0x3b3)]===0x0)return;let _0x377bf2=this[_0x4f669d(0x528)](_0x35968),_0x2adfc8=_0x355108[_0x4f669d(0x89e)](_0x2f6f82=>({'updateOne':{'filter':{'_id':_0x2f6f82[_0x4f669d(0x579)],'owner':_0x35968},'update':{..._0x2f6f82}}})),{modifiedCount:_0xbc7a55}=await _0x377bf2[_0x4f669d(0x4ee)](_0x2adfc8);return{'insertCount':_0xbc7a55};}catch{return;}}async[a0_0x5ae34c(0x42c)](_0x43c598,_0x2d78a7){const _0x5b446e=a0_0x5ae34c;try{let _0x43be31=this[_0x5b446e(0x528)](_0x2d78a7),_0x1e5177=A(_0x43c598['where']);return await _0x43be31[_0x5b446e(0x42c)](_0x1e5177)[_0x5b446e(0x5d4)](_0x43c598?.['limit']??0x0)[_0x5b446e(0x4e5)]();}catch{return[];}}async['findOne'](_0x5867d2,_0x449eda){const _0x5305a3=a0_0x5ae34c;try{let _0xdee1b0=this[_0x5305a3(0x528)](_0x449eda),_0x34e5c0=A(_0x5867d2[_0x5305a3(0x485)]);return await _0xdee1b0[_0x5305a3(0x875)](_0x34e5c0)['lean']();}catch{return null;}}async[a0_0x5ae34c(0x72d)](_0x175650){const _0x1f0496=a0_0x5ae34c;try{return await this['getContactModelForOwner'](_0x175650)[_0x1f0496(0x43d)]['drop'](),{'success':!0x0};}catch(_0x19807b){return console[_0x1f0496(0x6f3)](_0x19807b),{'success':!0x1,'error':_0x19807b};}}},ct=require(a0_0x5ae34c(0x576)),Vc=require(a0_0x5ae34c(0x5cf)),$s=new $(a0_0x5ae34c(0x16e)),V=class{[a0_0x5ae34c(0x623)](_0x42166d,_0x47cb6a=!0x0){const _0x390d07=a0_0x5ae34c;let _0x20d2e4='/'+_0x42166d;return _0x47cb6a&&(_0x20d2e4+=_0x390d07(0x401)),_0x20d2e4;}async['dataValidate'](_0x1d7cbb){const _0x4844b4=a0_0x5ae34c;let {request:_0x5efed8,schema:_0x486d00,ClassRef:_0x3eb3de,execute:_0x400aa8}=_0x1d7cbb,_0x2ef763=new _0x3eb3de(),_0x100dd8=_0x5efed8[_0x4844b4(0x84d)],_0x773ef7=_0x5efed8['params'];_0x5efed8?.['query']&&Object[_0x4844b4(0x57b)](_0x5efed8['query'])[_0x4844b4(0x3b3)]>0x0&&Object[_0x4844b4(0x41f)](_0x773ef7,_0x5efed8[_0x4844b4(0x801)]),_0x5efed8[_0x4844b4(0x2f7)][_0x4844b4(0x81c)](_0x4844b4(0x7ec))&&Object[_0x4844b4(0x41f)](_0x773ef7,_0x100dd8),Object[_0x4844b4(0x41f)](_0x2ef763,_0x100dd8);let _0x539ba6=_0x486d00?(0x0,ct['validate'])(_0x2ef763,_0x486d00):{'valid':!0x0,'errors':[]};if(!_0x539ba6[_0x4844b4(0x2bb)]){let _0x5054b9=_0x539ba6[_0x4844b4(0x5a0)][_0x4844b4(0x89e)](({property:_0xe29bb0,stack:_0x279c0a,schema:_0x449aaf})=>{const _0x487044=_0x4844b4;let _0xfd3e27;return _0x449aaf['description']?_0xfd3e27=_0x449aaf[_0x487044(0x55d)]:_0xfd3e27=_0x279c0a[_0x487044(0x2af)](_0x487044(0x863),''),{'property':_0xe29bb0['replace'](_0x487044(0x863),''),'message':_0xfd3e27};});throw $s['error']([..._0x5054b9]),new m(..._0x5054b9);}return await _0x400aa8(_0x773ef7,_0x2ef763);}async['groupValidate'](_0x446c2d){const _0x221b84=a0_0x5ae34c;let {request:_0x445690,ClassRef:_0x3ed74a,schema:_0x509e69,execute:_0x43fba2}=_0x446c2d,_0x33004c=_0x445690['query'];if(!_0x33004c?.[_0x221b84(0x65b)])throw new m(_0x221b84(0x590),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x105252=_0x445690['params'],_0x3372c8=_0x445690['body'],_0xcb18b6=new _0x3ed74a();Object[_0x221b84(0x41f)](_0x3372c8,_0x33004c),Object['assign'](_0xcb18b6,_0x3372c8);let _0x1f9c77=(0x0,ct[_0x221b84(0x83c)])(_0xcb18b6,_0x509e69);if(!_0x1f9c77[_0x221b84(0x2bb)]){let _0xe94787=_0x1f9c77[_0x221b84(0x5a0)][_0x221b84(0x89e)](({property:_0x3ec0d0,stack:_0xee35f6,schema:_0x387b37})=>{const _0x290863=_0x221b84;let _0x280fec;return _0x387b37['description']?_0x280fec=_0x387b37[_0x290863(0x55d)]:_0x280fec=_0xee35f6['replace'](_0x290863(0x863),''),{'property':_0x3ec0d0[_0x290863(0x2af)](_0x290863(0x863),''),'message':_0x280fec};});throw $s[_0x221b84(0x6f3)]([..._0xe94787]),new m(..._0xe94787);}return await _0x43fba2(_0x105252,_0xcb18b6);}async[a0_0x5ae34c(0x461)](_0x124006){const _0x2eb798=a0_0x5ae34c;let {request:_0x299975,ClassRef:_0x272772,schema:_0x2b4a4d,execute:_0x34192e}=_0x124006,_0xdd1fb6=_0x299975[_0x2eb798(0x84d)];if(!_0xdd1fb6?.[_0x2eb798(0x805)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x2eb798(0x178));let _0x190b67=_0x299975[_0x2eb798(0x31f)],_0xfc5871=_0x299975[_0x2eb798(0x84d)],_0x4bd498=new _0x272772();Object[_0x2eb798(0x41f)](_0xfc5871,_0xdd1fb6),Object[_0x2eb798(0x41f)](_0x4bd498,_0xfc5871);let _0x1eb24e=(0x0,ct[_0x2eb798(0x83c)])(_0x4bd498,_0x2b4a4d);if(!_0x1eb24e[_0x2eb798(0x2bb)]){let _0x444015=_0x1eb24e[_0x2eb798(0x5a0)][_0x2eb798(0x89e)](({property:_0x5c2e37,stack:_0x2aad02,schema:_0x1daa79})=>{const _0x473716=_0x2eb798;let _0x58e5f1;return _0x1daa79['description']?_0x58e5f1=_0x1daa79['description']:_0x58e5f1=_0x2aad02['replace'](_0x473716(0x863),''),{'property':_0x5c2e37[_0x473716(0x2af)](_0x473716(0x863),''),'message':_0x58e5f1};});throw $s[_0x2eb798(0x6f3)]([..._0x444015]),new m(..._0x444015);}return await _0x34192e(_0x190b67,_0x4bd498);}},M=class{},il=new $(a0_0x5ae34c(0x235)),lt=class extends V{constructor(..._0x588554){const _0x41af32=a0_0x5ae34c;super(),this[_0x41af32(0x4f5)]=(0x0,pi[_0x41af32(0x5ee)])(),this[_0x41af32(0x4f5)][_0x41af32(0x256)](this[_0x41af32(0x623)](_0x41af32(0x803)),..._0x588554,async(_0x50aa74,_0x275164)=>{const _0x4b4114=_0x41af32;let _0x596236=await this[_0x4b4114(0x1e7)]({'request':_0x50aa74,'schema':si,'ClassRef':Ye,'execute':(_0x148e67,_0x310702)=>D[_0x4b4114(0x803)](_0x148e67,_0x310702)});return _0x275164[_0x4b4114(0x41e)](0xc9)[_0x4b4114(0x6e5)](_0x596236);})[_0x41af32(0x256)](this['routerPath']('whatsappNumbers'),..._0x588554,async(_0x5bfe06,_0x40b2c9)=>{const _0x214181=_0x41af32;let _0x3fc79e=await this[_0x214181(0x1e7)]({'request':_0x5bfe06,'schema':Wa,'ClassRef':Xe,'execute':(_0x5d5799,_0x111a11)=>D[_0x214181(0x30c)](_0x5d5799,_0x111a11)});return _0x40b2c9['status'](0xc9)[_0x214181(0x6e5)](_0x3fc79e);})[_0x41af32(0x256)](this[_0x41af32(0x623)](_0x41af32(0x510)),..._0x588554,async(_0x567b5e,_0x11527f)=>{const _0x2a90f0=_0x41af32;let _0x88801f=await this[_0x2a90f0(0x1e7)]({'request':_0x567b5e,'schema':E,'ClassRef':M,'execute':(_0x418f52,_0x337c72)=>D[_0x2a90f0(0x510)](_0x418f52,_0x337c72)});return _0x11527f[_0x2a90f0(0x41e)](0xc9)[_0x2a90f0(0x6e5)](_0x88801f);})[_0x41af32(0x6c6)](this[_0x41af32(0x623)](_0x41af32(0x7fe)),..._0x588554,async(_0x500aa4,_0x2da70d)=>{const _0x392866=_0x41af32;let _0x17a864=await this[_0x392866(0x1e7)]({'request':_0x500aa4,'schema':za,'ClassRef':tt,'execute':(_0x389a22,_0x20d623)=>D[_0x392866(0x228)](_0x389a22,_0x20d623)});return _0x2da70d['status'](0xc9)[_0x392866(0x6e5)](_0x17a864);})[_0x41af32(0x6c6)](this['routerPath'](_0x41af32(0x840)),..._0x588554,async(_0x1a99cd,_0x247332)=>{const _0x5b8d82=_0x41af32;let _0x546d87=await this[_0x5b8d82(0x1e7)]({'request':_0x1a99cd,'schema':Ka,'ClassRef':st,'execute':(_0x5d3383,_0x5b509c)=>D[_0x5b8d82(0x840)](_0x5d3383,_0x5b509c)});return _0x247332['status'](0xc9)[_0x5b8d82(0x6e5)](_0x546d87);})['delete'](this[_0x41af32(0x623)](_0x41af32(0x800)),..._0x588554,async(_0x32c32c,_0x133c40)=>{const _0xfd229a=_0x41af32;let _0x14ad0a=await this[_0xfd229a(0x1e7)]({'request':_0x32c32c,'schema':Qa,'ClassRef':it,'execute':(_0x3f465d,_0x439859)=>D[_0xfd229a(0x4eb)](_0x3f465d,_0x439859)});return _0x133c40[_0xfd229a(0x41e)](0xc9)['json'](_0x14ad0a);})[_0x41af32(0x256)](this[_0x41af32(0x623)]('fetchProfilePictureUrl'),..._0x588554,async(_0x495fc0,_0x427fdf)=>{const _0x4ed8d6=_0x41af32;let _0x1aa839=await this['dataValidate']({'request':_0x495fc0,'schema':Oe,'ClassRef':Ie,'execute':(_0x784c1b,_0x275e39)=>D[_0x4ed8d6(0x62f)](_0x784c1b,_0x275e39)});return _0x427fdf[_0x4ed8d6(0x41e)](0xc8)['json'](_0x1aa839);})[_0x41af32(0x256)](this[_0x41af32(0x623)]('fetchProfile'),..._0x588554,async(_0x2c6f2d,_0x247c94)=>{const _0x3b6ddd=_0x41af32;let _0x31dd5f=await this[_0x3b6ddd(0x1e7)]({'request':_0x2c6f2d,'schema':ei,'ClassRef':Ie,'execute':(_0x5eb5d5,_0x3382b5)=>D[_0x3b6ddd(0x885)](_0x5eb5d5,_0x3382b5)});return _0x247c94['status'](0xc8)[_0x3b6ddd(0x6e5)](_0x31dd5f);})[_0x41af32(0x256)](this[_0x41af32(0x623)](_0x41af32(0x5da)),..._0x588554,async(_0x505ae1,_0x44cb1a)=>{const _0x3af847=_0x41af32;let _0x14b88d=await this[_0x3af847(0x1e7)]({'request':_0x505ae1,'schema':Ya,'ClassRef':rt,'execute':(_0x3b1cac,_0x5990b5)=>D[_0x3af847(0x2d6)](_0x3b1cac,_0x5990b5)});return _0x44cb1a[_0x3af847(0x41e)](0xc8)[_0x3af847(0x6e5)](_0x14b88d);})[_0x41af32(0x256)](this['routerPath']('getBase64FromMediaMessage'),..._0x588554,async(_0xbbcbde,_0x3cbad0)=>{const _0x93a542=_0x41af32;let _0x4a51f1=await this[_0x93a542(0x1e7)]({'request':_0xbbcbde,'schema':null,'ClassRef':Object,'execute':(_0x546783,_0xe1497f)=>D['getBase64FromMediaMessage'](_0x546783,_0xe1497f)});return _0x3cbad0['status'](0xc9)[_0x93a542(0x6e5)](_0x4a51f1);})[_0x41af32(0x256)](this[_0x41af32(0x623)](_0x41af32(0x23e)),..._0x588554,async(_0xe95021,_0x1474a1)=>{const _0x48bd16=_0x41af32;let _0x489fa=await this[_0x48bd16(0x1e7)]({'request':_0xe95021,'schema':ti,'ClassRef':Ke,'execute':(_0x207e58,_0xffe580)=>D[_0x48bd16(0x3a4)](_0x207e58,_0xffe580)});return _0x1474a1['status'](0xc8)[_0x48bd16(0x6e5)](_0x489fa);})[_0x41af32(0x52d)](this[_0x41af32(0x623)]('findChats'),..._0x588554,async(_0x56907c,_0x4134d7)=>{const _0x1ab14a=_0x41af32;let _0x296abc=await this[_0x1ab14a(0x1e7)]({'request':_0x56907c,'schema':null,'ClassRef':M,'execute':_0x148ac4=>D['fetchChats'](_0x148ac4)});return _0x4134d7['status'](0xc8)[_0x1ab14a(0x6e5)](_0x296abc);})[_0x41af32(0x52d)](this[_0x41af32(0x623)]('findLabels'),..._0x588554,async(_0x3e0d3a,_0x13d3d1)=>{const _0xb9ad87=_0x41af32;let _0x1d3aab=await this[_0xb9ad87(0x1e7)]({'request':_0x3e0d3a,'schema':null,'ClassRef':M,'execute':_0x11cafa=>D['fetchLabels'](_0x11cafa)});return _0x13d3d1[_0xb9ad87(0x41e)](0xc8)[_0xb9ad87(0x6e5)](_0x1d3aab);})[_0x41af32(0x6c6)](this[_0x41af32(0x623)](_0x41af32(0x284)),..._0x588554,async(_0x4487b6,_0x4e7648)=>{const _0xbba57e=_0x41af32;let _0x4eea32=await this[_0xbba57e(0x1e7)]({'request':_0x4487b6,'schema':null,'ClassRef':Array,'execute':(_0x41cd65,_0x1feec0)=>D[_0xbba57e(0x284)](_0x41cd65,_0x1feec0)});return _0x4e7648[_0xbba57e(0x41e)](0xc8)['json'](_0x4eea32);})['get'](this['routerPath']('fetchPrivacySettings'),..._0x588554,async(_0x1db68f,_0x195ade)=>{const _0x4481cb=_0x41af32;let _0x435ebe=await this[_0x4481cb(0x1e7)]({'request':_0x1db68f,'schema':null,'ClassRef':M,'execute':_0x5bccea=>D['fetchPrivacySettings'](_0x5bccea)});return _0x195ade[_0x4481cb(0x41e)](0xc8)[_0x4481cb(0x6e5)](_0x435ebe);})[_0x41af32(0x6c6)](this['routerPath'](_0x41af32(0x78d)),..._0x588554,async(_0x4f57a4,_0x2daf45)=>{const _0x294124=_0x41af32;let _0x2b63cf=await this[_0x294124(0x1e7)]({'request':_0x4f57a4,'schema':Ha,'ClassRef':at,'execute':(_0x2bb920,_0x20d027)=>D['updatePrivacySettings'](_0x2bb920,_0x20d027)});return _0x2daf45[_0x294124(0x41e)](0xc9)[_0x294124(0x6e5)](_0x2b63cf);})[_0x41af32(0x256)](this['routerPath'](_0x41af32(0x848)),..._0x588554,async(_0xa28456,_0x6f2a88)=>{const _0x4c4676=_0x41af32;let _0x1d0616=await this[_0x4c4676(0x1e7)]({'request':_0xa28456,'schema':Oe,'ClassRef':Ce,'execute':(_0x4ea5f0,_0x1b554a)=>D[_0x4c4676(0x848)](_0x4ea5f0,_0x1b554a)});return _0x6f2a88['status'](0xc8)[_0x4c4676(0x6e5)](_0x1d0616);})['post'](this[_0x41af32(0x623)](_0x41af32(0x411)),..._0x588554,async(_0x5bbe36,_0x23c409)=>{const _0xbb0002=_0x41af32;let _0x1dbbf7=await this[_0xbb0002(0x1e7)]({'request':_0x5bbe36,'schema':Xa,'ClassRef':Ze,'execute':(_0x3373fc,_0x3f9376)=>D[_0xbb0002(0x411)](_0x3373fc,_0x3f9376)});return _0x23c409[_0xbb0002(0x41e)](0xc8)[_0xbb0002(0x6e5)](_0x1dbbf7);})[_0x41af32(0x256)](this[_0x41af32(0x623)]('updateProfileStatus'),..._0x588554,async(_0x436ebc,_0xe16891)=>{const _0x3cfe16=_0x41af32;let _0x558b80=await this['dataValidate']({'request':_0x436ebc,'schema':Za,'ClassRef':et,'execute':(_0x40e0ea,_0x3fa914)=>D[_0x3cfe16(0x272)](_0x40e0ea,_0x3fa914)});return _0xe16891[_0x3cfe16(0x41e)](0xc8)['json'](_0x558b80);})[_0x41af32(0x6c6)](this['routerPath'](_0x41af32(0x3b0)),..._0x588554,async(_0x53a439,_0x358bb9)=>{const _0x431b70=_0x41af32;let _0x5d2d7c=await this[_0x431b70(0x1e7)]({'request':_0x53a439,'schema':Oe,'ClassRef':Ce,'execute':(_0x45db57,_0x3d82a7)=>D[_0x431b70(0x3b0)](_0x45db57,_0x3d82a7)});return _0x358bb9[_0x431b70(0x41e)](0xc8)[_0x431b70(0x6e5)](_0x5d2d7c);})[_0x41af32(0x42f)](this[_0x41af32(0x623)](_0x41af32(0x4bd)),..._0x588554,async(_0x4f6b20,_0x412312)=>{const _0x1a0f96=_0x41af32;let _0x11d3e3=await this[_0x1a0f96(0x1e7)]({'request':_0x4f6b20,'schema':Oe,'ClassRef':Ce,'execute':(_0xb85210,_0x23ef1f)=>D[_0x1a0f96(0x4bd)](_0xb85210,_0x23ef1f)});return _0x412312[_0x1a0f96(0x41e)](0xc8)['json'](_0x11d3e3);});}},hi=require(a0_0x5ae34c(0x2c6)),ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},mt=class{},ee=class{},Pe=class{},ft=class extends ee{},wt=class extends ee{},yt=class extends V{constructor(..._0x572d0b){const _0x198598=a0_0x5ae34c;super(),this['router']=(0x0,hi[_0x198598(0x5ee)])(),this[_0x198598(0x4f5)]['post'](this[_0x198598(0x623)](_0x198598(0x591)),..._0x572d0b,async(_0x8dfca6,_0x4a9eda)=>{const _0x43e298=_0x198598;let _0x33fb78=await this['dataValidate']({'request':_0x8dfca6,'schema':ai,'ClassRef':ut,'execute':(_0x2fd680,_0xa51fa7)=>q[_0x43e298(0x3cd)](_0x2fd680,_0xa51fa7)});_0x4a9eda['status'](0xc9)[_0x43e298(0x6e5)](_0x33fb78);})['put'](this[_0x198598(0x623)](_0x198598(0x785)),..._0x572d0b,async(_0x14809f,_0x4024a2)=>{const _0x4b2b05=_0x198598;let _0x589003=await this[_0x4b2b05(0x44a)]({'request':_0x14809f,'schema':ri,'ClassRef':dt,'execute':(_0x6f9a5,_0x24c0fe)=>q[_0x4b2b05(0x785)](_0x6f9a5,_0x24c0fe)});_0x4024a2[_0x4b2b05(0x41e)](0xc9)['json'](_0x589003);})[_0x198598(0x6c6)](this[_0x198598(0x623)](_0x198598(0x8a3)),..._0x572d0b,async(_0x2dc5df,_0x40a3f4)=>{const _0x14cb76=_0x198598;let _0x18ebd2=await this[_0x14cb76(0x44a)]({'request':_0x2dc5df,'schema':ni,'ClassRef':pt,'execute':(_0x4ad759,_0x4c24e9)=>q[_0x14cb76(0x8a3)](_0x4ad759,_0x4c24e9)});_0x40a3f4['status'](0xc9)[_0x14cb76(0x6e5)](_0x18ebd2);})[_0x198598(0x6c6)](this['routerPath'](_0x198598(0x255)),..._0x572d0b,async(_0x587b01,_0x3a5f7d)=>{const _0xc4b562=_0x198598;let _0x3436f4=await this['groupValidate']({'request':_0x587b01,'schema':ci,'ClassRef':ht,'execute':(_0x46eaf4,_0x48c7e0)=>q[_0xc4b562(0x255)](_0x46eaf4,_0x48c7e0)});_0x3a5f7d[_0xc4b562(0x41e)](0xc9)[_0xc4b562(0x6e5)](_0x3436f4);})[_0x198598(0x6c6)](this['routerPath']('groupBetterSetting'),..._0x572d0b,async(_0x49e54b,_0x176380)=>{const _0x26e8c0=_0x198598;let _0x2d8b6a=await this[_0x26e8c0(0x44a)]({'request':_0x49e54b,'schema':ui,'ClassRef':mt,'execute':(_0x418839,_0x526dc8)=>q[_0x26e8c0(0x6a4)](_0x418839,_0x526dc8)});_0x176380[_0x26e8c0(0x41e)](0xc9)['json'](_0x2d8b6a);})[_0x198598(0x6c6)](this['routerPath'](_0x198598(0x657)),..._0x572d0b,async(_0x5d32d4,_0xa46cab)=>{const _0x41c259=_0x198598;let _0x1f437f=await this[_0x41c259(0x44a)]({'request':_0x5d32d4,'schema':li,'ClassRef':gt,'execute':(_0x223bd7,_0x1e8516)=>q['groupSetting'](_0x223bd7,_0x1e8516)});_0xa46cab['status'](0xc9)[_0x41c259(0x6e5)](_0x1f437f);})[_0x198598(0x6c6)](this['routerPath'](_0x198598(0x546)),..._0x572d0b,async(_0x474018,_0x51a554)=>{const _0x1563bf=_0x198598;let _0x526df0=await this[_0x1563bf(0x44a)]({'request':_0x474018,'schema':oi,'ClassRef':wt,'execute':(_0x5aa3e3,_0x5c4425)=>q[_0x1563bf(0x546)](_0x5aa3e3,_0x5c4425)});_0x51a554[_0x1563bf(0x41e)](0xc9)[_0x1563bf(0x6e5)](_0x526df0);})[_0x198598(0x52d)](this['routerPath'](_0x198598(0x429)),..._0x572d0b,async(_0x2c180c,_0x1ee500)=>{const _0x5d693c=_0x198598;let _0x19f223=await this[_0x5d693c(0x44a)]({'request':_0x2c180c,'schema':xe,'ClassRef':ee,'execute':(_0x4f1cc7,_0x556dee)=>q['findGroupInfo'](_0x4f1cc7,_0x556dee)});_0x1ee500[_0x5d693c(0x41e)](0xc8)[_0x5d693c(0x6e5)](_0x19f223);})[_0x198598(0x52d)](this[_0x198598(0x623)]('findGroups'),..._0x572d0b,async(_0x251e22,_0x1f0eca)=>{const _0x3b8965=_0x198598;let _0xa32e57=await this[_0x3b8965(0x1e7)]({'request':_0x251e22,'schema':E,'ClassRef':M,'execute':_0x42b78c=>q['findGroups'](_0x42b78c)});_0x1f0eca[_0x3b8965(0x41e)](0xc8)['json'](_0xa32e57);})[_0x198598(0x52d)](this[_0x198598(0x623)](_0x198598(0x878)),..._0x572d0b,async(_0x2ea767,_0x551a16)=>{const _0x14eace=_0x198598;let _0x46cd14=await this[_0x14eace(0x44a)]({'request':_0x2ea767,'schema':xe,'ClassRef':ee,'execute':(_0x546627,_0x5ee374)=>q[_0x14eace(0x525)](_0x546627,_0x5ee374)});_0x551a16['status'](0xc8)[_0x14eace(0x6e5)](_0x46cd14);})[_0x198598(0x52d)](this[_0x198598(0x623)](_0x198598(0x805)),..._0x572d0b,async(_0x2fe810,_0x305ba6)=>{const _0x335a27=_0x198598;let _0x2c3a3e=await this[_0x335a27(0x44a)]({'request':_0x2fe810,'schema':xe,'ClassRef':ee,'execute':(_0xa054ca,_0x5337d2)=>q['inviteCode'](_0xa054ca,_0x5337d2)});_0x305ba6['status'](0xc8)[_0x335a27(0x6e5)](_0x2c3a3e);})['post'](this[_0x198598(0x623)](_0x198598(0x3c5)),..._0x572d0b,async(_0x4f76fb,_0x911770)=>{const _0xb52308=_0x198598;let _0x222ca0=await this[_0xb52308(0x461)]({'request':_0x4f76fb,'schema':Ns,'ClassRef':Pe,'execute':(_0x3face8,_0x13ac1c)=>q['groupGetInviteInfo'](_0x3face8,_0x13ac1c)});_0x911770['status'](0xc9)[_0xb52308(0x6e5)](_0x222ca0);})[_0x198598(0x6c6)](this[_0x198598(0x623)](_0x198598(0x55f)),..._0x572d0b,async(_0x35a34d,_0x50f364)=>{const _0x15df0c=_0x198598;let _0x1feef0=await this[_0x15df0c(0x461)]({'request':_0x35a34d,'schema':Ns,'ClassRef':Pe,'execute':(_0x568d74,_0xc067c)=>q[_0x15df0c(0x55f)](_0x568d74,_0xc067c)});_0x50f364['status'](0xc9)[_0x15df0c(0x6e5)](_0x1feef0);})[_0x198598(0x6c6)](this['routerPath'](_0x198598(0x54d)),..._0x572d0b,async(_0x38da7b,_0x2ec332)=>{const _0x17a30b=_0x198598;let _0x5b151c=await this[_0x17a30b(0x44a)]({'request':_0x38da7b,'schema':xe,'ClassRef':ee,'execute':(_0xd2d13e,_0xfb981f)=>q['revokeInviteCode'](_0xd2d13e,_0xfb981f)});_0x2ec332[_0x17a30b(0x41e)](0xc9)[_0x17a30b(0x6e5)](_0x5b151c);})[_0x198598(0x6c6)](this[_0x198598(0x623)](_0x198598(0x203)),..._0x572d0b,async(_0x3256b5,_0x2d8499)=>{const _0xf1a4ad=_0x198598;let _0x5c9402=await this[_0xf1a4ad(0x44a)]({'request':_0x3256b5,'schema':ii,'ClassRef':ft,'execute':(_0x500468,_0x29810d)=>q[_0xf1a4ad(0x169)](_0x500468,_0x29810d)});_0x2d8499[_0xf1a4ad(0x41e)](0xc9)['json'](_0x5c9402);})[_0x198598(0x42f)](this[_0x198598(0x623)](_0x198598(0x2bd)),..._0x572d0b,async(_0x288489,_0x15c42e)=>{const _0x1c2f85=_0x198598;let _0x32a02a=await this['groupValidate']({'request':_0x288489,'schema':{},'ClassRef':ee,'execute':(_0x1e0031,_0x103f7a)=>q[_0x1c2f85(0x2bd)](_0x1e0031,_0x103f7a)});_0x15c42e[_0x1c2f85(0x41e)](0xc8)[_0x1c2f85(0x6e5)](_0x32a02a);});}},gi=require('express'),bt=class extends V{constructor(_0x2d0a4c,..._0x205f00){const _0x5d691f=a0_0x5ae34c;super(),this['configService']=_0x2d0a4c,this[_0x5d691f(0x4f5)]=(0x0,gi[_0x5d691f(0x5ee)])();let _0x42095a=_0x2d0a4c[_0x5d691f(0x52d)](_0x5d691f(0x4f4));this[_0x5d691f(0x4f5)]['post'](_0x5d691f(0x65a),..._0x205f00,async(_0x5d4d43,_0x1613be)=>{const _0x343e69=_0x5d691f;let {instanceName:_0x542fb2,apikey:_0x2c7662,number:_0x4bdff2}=_0x5d4d43[_0x343e69(0x84d)],_0x59e6dd=await le[_0x343e69(0x104)]({'instanceName':_0x542fb2,'apikey':_0x2c7662,'number':_0x4bdff2});return _0x1613be['status'](0xc9)[_0x343e69(0x6e5)](_0x59e6dd);})[_0x5d691f(0x6c6)](this['routerPath'](_0x5d691f(0x4c7)),..._0x205f00,async(_0x3cad91,_0x5763c6)=>{const _0x4145d4=_0x5d691f;let _0x8eb75c=await this[_0x4145d4(0x1e7)]({'request':_0x3cad91,'schema':E,'ClassRef':M,'execute':_0x42fb49=>le[_0x4145d4(0x4fe)](_0x42fb49)});return _0x5763c6['status'](0xc8)['json'](_0x8eb75c);})[_0x5d691f(0x52d)](this[_0x5d691f(0x623)]('connect'),..._0x205f00,async(_0x3a4bfd,_0x5978fb)=>{const _0x5044a8=_0x5d691f;let _0x5508b6=await this['dataValidate']({'request':_0x3a4bfd,'schema':E,'ClassRef':M,'execute':_0x5858e0=>le[_0x5044a8(0x12c)](_0x5858e0)});return _0x5978fb[_0x5044a8(0x41e)](0xc8)[_0x5044a8(0x6e5)](_0x5508b6);})[_0x5d691f(0x52d)](this[_0x5d691f(0x623)](_0x5d691f(0x19b)),..._0x205f00,async(_0x9d5d10,_0x704005)=>{const _0x241568=_0x5d691f;let _0x11012b=await this['dataValidate']({'request':_0x9d5d10,'schema':E,'ClassRef':M,'execute':_0x3fa844=>le['connectionState'](_0x3fa844)});return _0x704005[_0x241568(0x41e)](0xc8)[_0x241568(0x6e5)](_0x11012b);})['get'](this['routerPath'](_0x5d691f(0x629),!0x1),..._0x205f00,async(_0x360b71,_0x3f16cb)=>{const _0x3ac2fd=_0x5d691f;let _0xfcd105=await this[_0x3ac2fd(0x1e7)]({'request':_0x360b71,'schema':null,'ClassRef':M,'execute':_0xa72212=>le[_0x3ac2fd(0x629)](_0xa72212)});return _0x3f16cb[_0x3ac2fd(0x41e)](0xc8)[_0x3ac2fd(0x6e5)](_0xfcd105);})[_0x5d691f(0x42f)](this['routerPath'](_0x5d691f(0x5fd)),..._0x205f00,async(_0x179b46,_0x25f6bf)=>{const _0x4f5251=_0x5d691f;let _0x25f1d1=await this[_0x4f5251(0x1e7)]({'request':_0x179b46,'schema':E,'ClassRef':M,'execute':_0x3e50b7=>le['logout'](_0x3e50b7)});return _0x25f6bf[_0x4f5251(0x41e)](0xc8)[_0x4f5251(0x6e5)](_0x25f1d1);})[_0x5d691f(0x42f)](this['routerPath']('delete'),..._0x205f00,async(_0x4a3129,_0x1eb93a)=>{const _0x314756=_0x5d691f;let _0x5bf425=await this['dataValidate']({'request':_0x4a3129,'schema':E,'ClassRef':M,'execute':_0x24a434=>le[_0x314756(0x718)](_0x24a434)});return _0x1eb93a['status'](0xc8)[_0x314756(0x6e5)](_0x5bf425);});}},mi=require(a0_0x5ae34c(0x2c6)),Rs=class{},H=class extends Rs{},St=class extends H{},Mt=class extends H{},Ct=class extends H{},vt=class extends H{},De=class extends H{},Et=class extends H{},Nt=class extends H{},$t=class extends H{},Rt=class extends H{},At=class{},Tt=class extends V{constructor(..._0x18fba5){const _0x5ab73b=a0_0x5ae34c;super(),this['router']=(0x0,mi[_0x5ab73b(0x5ee)])(),this[_0x5ab73b(0x4f5)][_0x5ab73b(0x256)](this['routerPath']('sendText'),..._0x18fba5,async(_0x157b07,_0x143228)=>{const _0x542ff8=_0x5ab73b;let _0x10062c=await this[_0x542ff8(0x1e7)]({'request':_0x157b07,'schema':Pa,'ClassRef':St,'execute':(_0x45e3cc,_0x28b23a)=>B['sendText'](_0x45e3cc,_0x28b23a)});return _0x143228[_0x542ff8(0x41e)](0xc9)[_0x542ff8(0x6e5)](_0x10062c);})[_0x5ab73b(0x256)](this[_0x5ab73b(0x623)](_0x5ab73b(0x508)),..._0x18fba5,async(_0x370447,_0x191a67)=>{const _0x4d703a=_0x5ab73b;let _0x5745e3=await this[_0x4d703a(0x1e7)]({'request':_0x370447,'schema':Fa,'ClassRef':De,'execute':(_0x5bea6d,_0x26b520)=>B['sendMedia'](_0x5bea6d,_0x26b520)});return _0x191a67[_0x4d703a(0x41e)](0xc9)[_0x4d703a(0x6e5)](_0x5745e3);})[_0x5ab73b(0x256)](this[_0x5ab73b(0x623)]('sendMenu'),..._0x18fba5,async(_0x4798cb,_0x37fb58)=>{const _0x132a08=_0x5ab73b;let _0x15e249=await this['dataValidate']({'request':_0x4798cb,'schema':Ja,'ClassRef':vt,'execute':(_0x519997,_0x4548d1)=>B[_0x132a08(0x44e)](_0x519997,_0x4548d1)});return _0x37fb58[_0x132a08(0x41e)](0xc9)[_0x132a08(0x6e5)](_0x15e249);})['post'](this[_0x5ab73b(0x623)](_0x5ab73b(0x304)),..._0x18fba5,async(_0x4ae4c6,_0x3195e1)=>{const _0x295a17=_0x5ab73b;let _0x5852f8=await this['dataValidate']({'request':_0x4ae4c6,'schema':Ua,'ClassRef':De,'execute':(_0x365bf5,_0x93bb3c)=>B[_0x295a17(0x304)](_0x365bf5,_0x93bb3c)});return _0x3195e1[_0x295a17(0x41e)](0xc9)[_0x295a17(0x6e5)](_0x5852f8);})[_0x5ab73b(0x256)](this[_0x5ab73b(0x623)]('sendLocation'),..._0x18fba5,async(_0x530148,_0xc456ec)=>{const _0x24c571=_0x5ab73b;let _0x3a25ed=await this[_0x24c571(0x1e7)]({'request':_0x530148,'schema':qa,'ClassRef':Nt,'execute':(_0x46731c,_0x1131bc)=>B[_0x24c571(0x5f9)](_0x46731c,_0x1131bc)});return _0xc456ec[_0x24c571(0x41e)](0xc9)['json'](_0x3a25ed);})[_0x5ab73b(0x256)](this['routerPath'](_0x5ab73b(0x628)),..._0x18fba5,async(_0x3e9c4f,_0x4a23f7)=>{const _0x5570d4=_0x5ab73b;let _0x1ccd2a=await this[_0x5570d4(0x1e7)]({'request':_0x3e9c4f,'schema':Va,'ClassRef':$t,'execute':(_0x2e3b9f,_0x57a78b)=>B[_0x5570d4(0x628)](_0x2e3b9f,_0x57a78b)});return _0x4a23f7[_0x5570d4(0x41e)](0xc9)[_0x5570d4(0x6e5)](_0x1ccd2a);})['post'](this[_0x5ab73b(0x623)]('sendContact'),..._0x18fba5,async(_0x1d389d,_0x387bf0)=>{const _0x38cc55=_0x5ab73b;let _0x37d608=await this[_0x38cc55(0x1e7)]({'request':_0x1d389d,'schema':Ga,'ClassRef':Rt,'execute':(_0xd24ff,_0x2ce696)=>B[_0x38cc55(0x1d2)](_0xd24ff,_0x2ce696)});return _0x387bf0['status'](0xc9)[_0x38cc55(0x6e5)](_0x37d608);})[_0x5ab73b(0x256)](this[_0x5ab73b(0x623)](_0x5ab73b(0x879)),..._0x18fba5,async(_0x1f5599,_0x2bfdd7)=>{const _0x38bf9a=_0x5ab73b;let _0xf33a6e=await this[_0x38bf9a(0x1e7)]({'request':_0x1f5599,'schema':Ba,'ClassRef':At,'execute':(_0x36a9d9,_0x2cfcec)=>B['sendReaction'](_0x36a9d9,_0x2cfcec)});return _0x2bfdd7[_0x38bf9a(0x41e)](0xc9)['json'](_0xf33a6e);})[_0x5ab73b(0x256)](this['routerPath']('sendPoll'),..._0x18fba5,async(_0x390e20,_0x4b3ccc)=>{const _0x3b5a3a=_0x5ab73b;let _0x3b7e58=await this[_0x3b5a3a(0x1e7)]({'request':_0x390e20,'schema':ja,'ClassRef':Ct,'execute':(_0x4273d2,_0x36aba7)=>B[_0x3b5a3a(0x759)](_0x4273d2,_0x36aba7)});return _0x4b3ccc[_0x3b5a3a(0x41e)](0xc9)[_0x3b5a3a(0x6e5)](_0x3b7e58);})[_0x5ab73b(0x256)](this[_0x5ab73b(0x623)](_0x5ab73b(0x4f1)),..._0x18fba5,async(_0xdc9895,_0x2f22f5)=>{const _0x3a07ab=_0x5ab73b;let _0x2cc78c=await this[_0x3a07ab(0x1e7)]({'request':_0xdc9895,'schema':La,'ClassRef':Mt,'execute':(_0x985726,_0x479b30)=>B['sendStatus'](_0x985726,_0x479b30)});return _0x2f22f5['status'](0xc9)[_0x3a07ab(0x6e5)](_0x2cc78c);})[_0x5ab73b(0x256)](this['routerPath'](_0x5ab73b(0x76a)),..._0x18fba5,async(_0x49d446,_0x372122)=>{const _0x208f9c=_0x5ab73b;let _0x325a8a=await this['dataValidate']({'request':_0x49d446,'schema':ka,'ClassRef':Et,'execute':(_0x1fcd92,_0x56759d)=>B[_0x208f9c(0x76a)](_0x1fcd92,_0x56759d)});return _0x372122['status'](0xc9)['json'](_0x325a8a);});}},fi=require(a0_0x5ae34c(0x2c6)),It=class{},_t=class extends V{constructor(..._0x2f4c5a){const _0x1d9512=a0_0x5ae34c;super(),this['router']=(0x0,fi['Router'])(),this[_0x1d9512(0x4f5)][_0x1d9512(0x256)](this[_0x1d9512(0x623)](_0x1d9512(0x137)),..._0x2f4c5a,async(_0xf11eba,_0xac8c58)=>{const _0x349fca=_0x1d9512;let _0x203fe1=await this[_0x349fca(0x1e7)]({'request':_0xf11eba,'schema':di,'ClassRef':It,'execute':(_0x4ab1e1,_0x1c09e9)=>As[_0x349fca(0x666)](_0x4ab1e1,_0x1c09e9)});_0xac8c58['status'](0xc9)[_0x349fca(0x6e5)](_0x203fe1);})[_0x1d9512(0x52d)](this[_0x1d9512(0x623)](_0x1d9512(0x42c)),..._0x2f4c5a,async(_0x3d1839,_0x2c48c0)=>{const _0x45633c=_0x1d9512;let _0x3d5b43=await this[_0x45633c(0x1e7)]({'request':_0x3d1839,'schema':E,'ClassRef':M,'execute':_0x22a6f7=>As[_0x45633c(0x507)](_0x22a6f7)});_0x2c48c0[_0x45633c(0x41e)](0xc8)['json'](_0x3d5b43);});}},wi=require('express'),y=new $(a0_0x5ae34c(0x773)),Ot=class extends V{constructor(..._0x1afed3){const _0x207a42=a0_0x5ae34c;super(),this[_0x207a42(0x4f5)]=(0x0,wi[_0x207a42(0x5ee)])(),this[_0x207a42(0x4f5)][_0x207a42(0x256)](this[_0x207a42(0x623)](_0x207a42(0x4a2)),..._0x1afed3,async(_0x4376fa,_0x524f1c)=>{const _0x1f4da6=_0x207a42;let _0x82821e=_0x4376fa['body'];y[_0x1f4da6(0x7df)](_0x1f4da6(0x27f)),y[_0x1f4da6(0x7df)](_0x1f4da6(0x201)),y['verbose'](_0x4376fa[_0x1f4da6(0x84d)]);let _0x32e25d=await this[_0x1f4da6(0x1e7)]({'request':_0x4376fa,'schema':E,'ClassRef':M,'execute':_0x29b92b=>_[_0x1f4da6(0x34c)](_0x29b92b,_0x82821e)});_0x524f1c[_0x1f4da6(0x41e)](0xc8)['json'](_0x32e25d);})[_0x207a42(0x52d)](this[_0x207a42(0x623)](_0x207a42(0x4a2)),..._0x1afed3,async(_0x25930b,_0x18d4b5)=>{const _0x17f43f=_0x207a42;let _0x140456=await this[_0x17f43f(0x1e7)]({'request':_0x25930b,'schema':E,'ClassRef':M,'execute':_0x31978e=>_[_0x17f43f(0x636)](_0x31978e)});_0x18d4b5[_0x17f43f(0x41e)](0xc8)[_0x17f43f(0x6e5)](_0x140456);})[_0x207a42(0x42f)](this['routerPath'](_0x207a42(0x33a)),..._0x1afed3,async(_0x537175,_0x5888eb)=>{const _0xb9e77=_0x207a42;y[_0xb9e77(0x7df)](_0xb9e77(0x6f7));let _0x148094=await this['dataValidate']({'request':_0x537175,'schema':E,'ClassRef':M,'execute':_0x4e9ff4=>_[_0xb9e77(0x33a)](_0x4e9ff4)});_0x5888eb[_0xb9e77(0x41e)](0xc8)['json'](_0x148094);})[_0x207a42(0x42f)](this[_0x207a42(0x623)](_0x207a42(0x66a)),..._0x1afed3,async(_0x417675,_0x140a12)=>{const _0x3ffd43=_0x207a42;y[_0x3ffd43(0x7df)](_0x3ffd43(0x378));let _0xff3ee4=await this[_0x3ffd43(0x1e7)]({'request':_0x417675,'schema':E,'ClassRef':M,'execute':_0x3d9a4e=>_[_0x3ffd43(0x66a)](_0x3d9a4e)});_0x140a12['status'](0xc8)[_0x3ffd43(0x6e5)](_0xff3ee4);})[_0x207a42(0x256)](this[_0x207a42(0x623)](_0x207a42(0x198)),..._0x1afed3,async(_0x2dd047,_0x20759f)=>{const _0x98826f=_0x207a42;let _0xddadae=_0x2dd047['body'];y[_0x98826f(0x7df)]('request\x20received\x20in\x20starFlow'),y['verbose']('request\x20body:\x20'),y[_0x98826f(0x7df)](_0x2dd047[_0x98826f(0x84d)]);let _0x4e65f8=await this[_0x98826f(0x1e7)]({'request':_0x2dd047,'schema':E,'ClassRef':M,'execute':_0x217cc9=>_[_0x98826f(0x198)](_0x217cc9,_0xddadae)});_0x20759f[_0x98826f(0x41e)](0xc8)[_0x98826f(0x6e5)](_0x4e65f8);})[_0x207a42(0x52d)](this[_0x207a42(0x623)](_0x207a42(0x278)),..._0x1afed3,async(_0x5c44df,_0x5b38ef)=>{const _0x399ba2=_0x207a42;y[_0x399ba2(0x7df)]('request\x20received\x20in\x20getAutomateSystem');let _0x4f6a5d=await this[_0x399ba2(0x1e7)]({'request':_0x5c44df,'schema':E,'ClassRef':M,'execute':_0x3be91b=>_[_0x399ba2(0x278)](_0x3be91b)});_0x5b38ef[_0x399ba2(0x41e)](0xc8)[_0x399ba2(0x6e5)](_0x4f6a5d);})[_0x207a42(0x52d)](this[_0x207a42(0x623)](_0x207a42(0x426)),..._0x1afed3,async(_0x3b863e,_0x2f5b37)=>{const _0x3255b7=_0x207a42;y[_0x3255b7(0x7df)](_0x3255b7(0x6ca));let _0x359672=await this[_0x3255b7(0x1e7)]({'request':_0x3b863e,'schema':E,'ClassRef':M,'execute':_0x368c00=>_[_0x3255b7(0x278)](_0x368c00)});_0x2f5b37[_0x3255b7(0x41e)](0xc8)[_0x3255b7(0x6e5)](_0x359672);})[_0x207a42(0x256)](this[_0x207a42(0x623)]('updateAgent'),..._0x1afed3,async(_0xf9d86e,_0x2f8bcb)=>{const _0x4b8c73=_0x207a42;let _0x56bad8=_0xf9d86e[_0x4b8c73(0x84d)];y['verbose'](_0x4b8c73(0x17d)),y[_0x4b8c73(0x7df)](_0x4b8c73(0x201)),y[_0x4b8c73(0x7df)](_0xf9d86e[_0x4b8c73(0x84d)]);let _0x5265c7=await this['dataValidate']({'request':_0xf9d86e,'schema':E,'ClassRef':M,'execute':_0xe41e75=>_[_0x4b8c73(0x63c)](_0xe41e75,_0x56bad8)});_0x2f8bcb['status'](0xc8)['json'](_0x5265c7);})[_0x207a42(0x256)](this[_0x207a42(0x623)](_0x207a42(0x624)),..._0x1afed3,async(_0x19780a,_0x5c38bb)=>{const _0x5eea6b=_0x207a42;let _0x120dc2=_0x19780a['body'];y['verbose']('request\x20received\x20in\x20updateCustomFields'),y[_0x5eea6b(0x7df)](_0x5eea6b(0x201)),y['verbose'](_0x19780a['body']);let _0x4071af=await this['dataValidate']({'request':_0x19780a,'schema':E,'ClassRef':M,'execute':_0x195bf7=>_['updateCustomFields'](_0x195bf7,_0x120dc2)});_0x5c38bb[_0x5eea6b(0x41e)](0xc8)[_0x5eea6b(0x6e5)](_0x4071af);})[_0x207a42(0x256)](this[_0x207a42(0x623)](_0x207a42(0x7bb)),..._0x1afed3,async(_0x32ec74,_0x5eae6d)=>{const _0xfbc592=_0x207a42;let _0x5a5fdb=_0x32ec74[_0xfbc592(0x84d)];y['verbose'](_0xfbc592(0x10e)),y[_0xfbc592(0x7df)](_0xfbc592(0x201)),y['verbose'](_0x32ec74[_0xfbc592(0x84d)]);let _0x40058b=await this['dataValidate']({'request':_0x32ec74,'schema':E,'ClassRef':M,'execute':_0x4ceb29=>_[_0xfbc592(0x7bb)](_0x4ceb29,_0x5a5fdb)});_0x5eae6d[_0xfbc592(0x41e)](0xc8)[_0xfbc592(0x6e5)](_0x40058b);})['post'](this[_0x207a42(0x623)](_0x207a42(0x28e)),..._0x1afed3,async(_0x5730e8,_0x4af790)=>{const _0x55f89b=_0x207a42;let _0x1562f1=_0x5730e8[_0x55f89b(0x84d)];y[_0x55f89b(0x7df)](_0x55f89b(0x131)),y[_0x55f89b(0x7df)](_0x55f89b(0x201)),y[_0x55f89b(0x7df)](_0x5730e8[_0x55f89b(0x84d)]);let _0x28a331=await this[_0x55f89b(0x1e7)]({'request':_0x5730e8,'schema':E,'ClassRef':M,'execute':_0x5975ca=>_[_0x55f89b(0x28e)](_0x5975ca,_0x1562f1)});_0x4af790[_0x55f89b(0x41e)](0xc8)[_0x55f89b(0x6e5)](_0x28a331);})[_0x207a42(0x256)](this[_0x207a42(0x623)](_0x207a42(0x2b4)),..._0x1afed3,async(_0x2c4f12,_0x4c656c)=>{const _0x58725c=_0x207a42;let _0x5a8637=_0x2c4f12['body'];y[_0x58725c(0x7df)](_0x58725c(0x6e7)),y[_0x58725c(0x7df)](_0x58725c(0x201)),y[_0x58725c(0x7df)](_0x2c4f12[_0x58725c(0x84d)]);let _0x551e8b=await this[_0x58725c(0x1e7)]({'request':_0x2c4f12,'schema':E,'ClassRef':M,'execute':_0x2f12e1=>_[_0x58725c(0x2b4)](_0x2f12e1,_0x5a8637)});_0x4c656c[_0x58725c(0x41e)](0xc8)[_0x58725c(0x6e5)](_0x551e8b);})['post'](this[_0x207a42(0x623)](_0x207a42(0x61c)),..._0x1afed3,async(_0x411ef7,_0x25ab77)=>{const _0x4542d9=_0x207a42;let _0x1dab6c=_0x411ef7[_0x4542d9(0x84d)];y['verbose'](_0x4542d9(0x33c)),y[_0x4542d9(0x7df)](_0x4542d9(0x201)),y[_0x4542d9(0x7df)](_0x411ef7[_0x4542d9(0x84d)]);let _0x22fdf1=await this['dataValidate']({'request':_0x411ef7,'schema':E,'ClassRef':M,'execute':_0x48519a=>_[_0x4542d9(0x61c)](_0x48519a,_0x1dab6c)});_0x25ab77[_0x4542d9(0x41e)](0xc8)[_0x4542d9(0x6e5)](_0x22fdf1);})[_0x207a42(0x256)](this[_0x207a42(0x623)](_0x207a42(0x8ac)),..._0x1afed3,async(_0xa38411,_0xde79b5)=>{const _0x59d2b0=_0x207a42;let _0x1b28d0=_0xa38411[_0x59d2b0(0x84d)];y[_0x59d2b0(0x7df)](_0x59d2b0(0x74a)),y[_0x59d2b0(0x7df)](_0x59d2b0(0x201)),y[_0x59d2b0(0x7df)](_0xa38411[_0x59d2b0(0x84d)]);let _0x3388c9=await this['dataValidate']({'request':_0xa38411,'schema':E,'ClassRef':M,'execute':_0x5369f1=>_['editConversation'](_0x5369f1,_0x1b28d0)});_0xde79b5[_0x59d2b0(0x41e)](0xc8)[_0x59d2b0(0x6e5)](_0x3388c9);})[_0x207a42(0x42f)](this[_0x207a42(0x623)](_0x207a42(0x1f4)),..._0x1afed3,async(_0x52077b,_0x2595fd)=>{const _0x3ddf8f=_0x207a42;let _0x454ab6=_0x52077b[_0x3ddf8f(0x84d)];y[_0x3ddf8f(0x7df)](_0x3ddf8f(0x465)),y[_0x3ddf8f(0x7df)](_0x3ddf8f(0x201)),y[_0x3ddf8f(0x7df)](_0x52077b[_0x3ddf8f(0x84d)]);let _0x52319a=await this[_0x3ddf8f(0x1e7)]({'request':_0x52077b,'schema':E,'ClassRef':M,'execute':_0xf6c925=>_[_0x3ddf8f(0x1f4)](_0xf6c925,_0x454ab6)});_0x2595fd[_0x3ddf8f(0x41e)](0xc8)[_0x3ddf8f(0x6e5)](_0x52319a);})[_0x207a42(0x256)](this[_0x207a42(0x623)](_0x207a42(0x75e)),..._0x1afed3,async(_0x23df10,_0x2f84f5)=>{const _0x1f259c=_0x207a42;let _0x2e1bc9=_0x23df10['body'],_0x3409ec=_0x23df10[_0x1f259c(0x79a)][_0x1f259c(0x471)];y[_0x1f259c(0x7df)](_0x1f259c(0x2f3)),y[_0x1f259c(0x7df)](_0x1f259c(0x201)),y[_0x1f259c(0x7df)](_0x23df10['body']);let _0xd88e6b=await this[_0x1f259c(0x1e7)]({'request':_0x23df10,'schema':E,'ClassRef':M,'execute':_0x13d70d=>_[_0x1f259c(0x120)](_0x13d70d,_0x2e1bc9,_0x3409ec)});_0x2f84f5[_0x1f259c(0x41e)](0xc8)[_0x1f259c(0x6e5)](_0xd88e6b);})['post'](this[_0x207a42(0x623)]('editflow'),..._0x1afed3,async(_0x59ac7c,_0x57d872)=>{const _0x4e39e4=_0x207a42;let _0x27028e=_0x59ac7c['body'],_0x5ad58e=_0x59ac7c['headers'][_0x4e39e4(0x471)];y[_0x4e39e4(0x7df)](_0x4e39e4(0x560)),y[_0x4e39e4(0x7df)](_0x4e39e4(0x201)),y[_0x4e39e4(0x7df)](_0x59ac7c['body']),delete _0x27028e[_0x4e39e4(0x208)],delete _0x27028e[_0x4e39e4(0x215)],delete _0x27028e['groups'],delete _0x27028e[_0x4e39e4(0x850)];let _0x89593=await this[_0x4e39e4(0x1e7)]({'request':_0x59ac7c,'schema':E,'ClassRef':M,'execute':_0x45965f=>_['editFlow'](_0x45965f,_0x27028e,_0x5ad58e)});_0x57d872[_0x4e39e4(0x41e)](0xc8)[_0x4e39e4(0x6e5)](_0x89593);})['post'](this[_0x207a42(0x623)](_0x207a42(0x3c3)),..._0x1afed3,async(_0x2db6c3,_0x30a88c)=>{const _0x3f3153=_0x207a42;let _0x58d6c0=_0x2db6c3[_0x3f3153(0x84d)];y[_0x3f3153(0x7df)](_0x3f3153(0x560)),y[_0x3f3153(0x7df)](_0x3f3153(0x201)),y[_0x3f3153(0x7df)](_0x2db6c3[_0x3f3153(0x84d)]);let _0x5e22ac=await this[_0x3f3153(0x1e7)]({'request':_0x2db6c3,'schema':E,'ClassRef':M,'execute':_0x178962=>_['editFlowBlock'](_0x178962,_0x58d6c0)});_0x30a88c['status'](0xc8)[_0x3f3153(0x6e5)](_0x5e22ac);})[_0x207a42(0x256)](this[_0x207a42(0x623)](_0x207a42(0x40b)),..._0x1afed3,async(_0x2b92ac,_0x2e1edd)=>{const _0x2f9504=_0x207a42;let _0x249445=_0x2b92ac[_0x2f9504(0x84d)];y[_0x2f9504(0x7df)](_0x2f9504(0x560)),y[_0x2f9504(0x7df)]('request\x20body:\x20'),y[_0x2f9504(0x7df)](_0x2b92ac[_0x2f9504(0x84d)]);let _0x98e141=await this[_0x2f9504(0x1e7)]({'request':_0x2b92ac,'schema':E,'ClassRef':M,'execute':_0x4db07e=>_[_0x2f9504(0x4ae)](_0x4db07e,_0x249445)});_0x2e1edd['status'](0xc8)[_0x2f9504(0x6e5)](_0x98e141);})[_0x207a42(0x256)](this[_0x207a42(0x623)](_0x207a42(0x556)),..._0x1afed3,async(_0x45a8a8,_0x16e687)=>{const _0x47b53b=_0x207a42;let _0x45c1a1=_0x45a8a8[_0x47b53b(0x84d)];y['verbose'](_0x47b53b(0x560)),y[_0x47b53b(0x7df)]('request\x20body:\x20'),y[_0x47b53b(0x7df)](_0x45a8a8['body']);let _0x5a6d8e=await this['dataValidate']({'request':_0x45a8a8,'schema':E,'ClassRef':M,'execute':_0x3d7d52=>_[_0x47b53b(0x1d8)](_0x3d7d52,_0x45c1a1)});_0x16e687[_0x47b53b(0x41e)](0xc8)[_0x47b53b(0x6e5)](_0x5a6d8e);})[_0x207a42(0x256)](this[_0x207a42(0x623)](_0x207a42(0x5c1)),..._0x1afed3,async(_0x527746,_0xd1f261)=>{const _0x47b94b=_0x207a42;let _0x5cc012=_0x527746[_0x47b94b(0x84d)];y[_0x47b94b(0x7df)](_0x47b94b(0x69f)),y[_0x47b94b(0x7df)](_0x47b94b(0x201)),y[_0x47b94b(0x7df)](_0x527746['body']);let _0x7f3230=await this['dataValidate']({'request':_0x527746,'schema':E,'ClassRef':M,'execute':_0x8fd3d7=>_[_0x47b94b(0x736)](_0x8fd3d7,_0x5cc012)});_0xd1f261[_0x47b94b(0x41e)](0xc8)[_0x47b94b(0x6e5)](_0x7f3230);})[_0x207a42(0x256)](this[_0x207a42(0x623)]('editflowcondition'),..._0x1afed3,async(_0x32de4c,_0x5bf271)=>{const _0x352052=_0x207a42;let _0x3f1a5a=_0x32de4c[_0x352052(0x84d)];y[_0x352052(0x7df)](_0x352052(0x706)),y[_0x352052(0x7df)](_0x352052(0x201)),y['verbose'](_0x32de4c[_0x352052(0x84d)]);let _0x1edd84=await this[_0x352052(0x1e7)]({'request':_0x32de4c,'schema':E,'ClassRef':M,'execute':_0x196df5=>_['editFlowCondition'](_0x196df5,_0x3f1a5a)});_0x5bf271[_0x352052(0x41e)](0xc8)['json'](_0x1edd84);})['post'](this[_0x207a42(0x623)](_0x207a42(0x795)),..._0x1afed3,async(_0x3c399c,_0x11bbcc)=>{const _0x5170ab=_0x207a42;let _0x2cd519=_0x3c399c[_0x5170ab(0x84d)];y['verbose'](_0x5170ab(0x714)),y[_0x5170ab(0x7df)](_0x5170ab(0x201)),y[_0x5170ab(0x7df)](_0x3c399c[_0x5170ab(0x84d)]);let _0x49f059=await this['dataValidate']({'request':_0x3c399c,'schema':E,'ClassRef':M,'execute':_0x251b6a=>_['editFlowVariable'](_0x251b6a,_0x2cd519)});_0x11bbcc['status'](0xc8)['json'](_0x49f059);})[_0x207a42(0x256)](this[_0x207a42(0x623)](_0x207a42(0x7c2)),..._0x1afed3,async(_0x41f7bd,_0x21a6bd)=>{const _0x481475=_0x207a42;let _0x5b566e=_0x41f7bd[_0x481475(0x84d)];y[_0x481475(0x7df)](_0x481475(0x314)),y[_0x481475(0x7df)](_0x481475(0x201)),y[_0x481475(0x7df)](_0x41f7bd['body']);let _0x13755d=await this['dataValidate']({'request':_0x41f7bd,'schema':E,'ClassRef':M,'execute':_0xc65117=>_[_0x481475(0x707)](_0xc65117,_0x5b566e)});_0x21a6bd['status'](0xc8)[_0x481475(0x6e5)](_0x13755d);})[_0x207a42(0x42f)](this['routerPath']('deleteflow'),..._0x1afed3,async(_0x3a8e3d,_0x5dba2d)=>{const _0x4380d4=_0x207a42;let _0x1e3a56=_0x3a8e3d['body'];y[_0x4380d4(0x7df)](_0x4380d4(0x47d)),y[_0x4380d4(0x7df)]('request\x20body:\x20'),y[_0x4380d4(0x7df)](_0x3a8e3d['body']);let _0x1f0016=await this[_0x4380d4(0x1e7)]({'request':_0x3a8e3d,'schema':E,'ClassRef':M,'execute':_0x279616=>_['deleteFlow'](_0x279616,_0x1e3a56)});_0x5dba2d[_0x4380d4(0x41e)](0xc8)['json'](_0x1f0016);})[_0x207a42(0x52d)](this[_0x207a42(0x623)](_0x207a42(0x4da)),..._0x1afed3,async(_0x526e2a,_0x566d0c)=>{const _0x48d32e=_0x207a42;y[_0x48d32e(0x7df)](_0x48d32e(0x43f));let _0x41118b=await this[_0x48d32e(0x1e7)]({'request':_0x526e2a,'schema':E,'ClassRef':M,'execute':_0x29dbd8=>_[_0x48d32e(0x200)](_0x29dbd8)});_0x566d0c[_0x48d32e(0x41e)](0xc8)[_0x48d32e(0x6e5)](_0x41118b);});}},Mi=I(require(a0_0x5ae34c(0x69e))),te={};function yi(_0x47350d,_0x24c6e7,_0x57a49f,_0x1c39bd){te[_0x47350d]||(te[_0x47350d]={}),te[_0x47350d][_0x24c6e7]={'id':_0x24c6e7,'response':_0x57a49f,'events':_0x1c39bd};}function bi(_0x5dd738,_0xc00f28){!te[_0x5dd738]||!te[_0x5dd738][_0xc00f28]||delete te[_0x5dd738][_0xc00f28];}function F(_0x31fbda,_0x446949,_0x895260){const _0x5c555c=a0_0x5ae34c;if(!te[_0x31fbda])return;let _0x32d3f7=_0x5c555c(0x7f6)+JSON['stringify'](_0x895260)+'\x0a\x0a';Object[_0x5c555c(0x195)](te[_0x31fbda])['forEach'](_0xc35f11=>{const _0x3e722c=_0x5c555c;_0xc35f11['events']['includes'](_0x446949)&&_0xc35f11[_0x3e722c(0x286)][_0x3e722c(0x58e)](_0x32d3f7);});}function Si(){const _0x42f1f0=a0_0x5ae34c;let _0x9d987={};for(let _0x234de9 in te)_0x9d987[_0x234de9]=Object[_0x42f1f0(0x195)](te[_0x234de9])['map'](_0x1f1eb4=>({'id':_0x1f1eb4['id'],'events':_0x1f1eb4[_0x42f1f0(0x263)]}));return _0x9d987;}var Ci=require(a0_0x5ae34c(0x48e)),Is=require('mongoose'),Ts=class{},Io=new Is[(a0_0x5ae34c(0x85a))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),_o=new Is[(a0_0x5ae34c(0x85a))]({'_id':{'type':String,'default':a0_0x5ae34c(0x387)},'WebhookGlobal':{'type':Io},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ve=T?.[a0_0x5ae34c(0x611)](Ts['name'],_o,a0_0x5ae34c(0x11f)),Oo=Mi[a0_0x5ae34c(0x509)]['join'](__dirname,a0_0x5ae34c(0x6d8)),ke=(0x0,xt[a0_0x5ae34c(0x5ee)])(),xo=S[a0_0x5ae34c(0x52d)]('AUTHENTICATION')[a0_0x5ae34c(0x2ec)],ie=[Aa,Ta,Oa[xo]];ke[a0_0x5ae34c(0x51c)](a0_0x5ae34c(0x540),xt[a0_0x5ae34c(0x509)]['static'](Oo))[a0_0x5ae34c(0x52d)]('/events/:instance',async(_0x54a41,_0x9c2006)=>{const _0x11e40f=a0_0x5ae34c;console[_0x11e40f(0x4c0)](_0x11e40f(0x6c0));let _0x23fb1f=_0x54a41[_0x11e40f(0x31f)][_0x11e40f(0x2a1)],_0x3a4c84=(_0x54a41[_0x11e40f(0x801)][_0x11e40f(0x263)]||'')[_0x11e40f(0x1a3)](','),_0xf9dc4d=(0x0,Ci['v4'])();console['log']('Instance\x20ID:',_0x23fb1f),console['log'](_0x11e40f(0x869),_0x3a4c84);let _0x2ad158=S[_0x11e40f(0x52d)](_0x11e40f(0x4f4))[_0x11e40f(0x450)],_0x292d7e=_0x54a41[_0x11e40f(0x801)][_0x11e40f(0x471)];if(console[_0x11e40f(0x4c0)]('API\x20Key\x20from\x20Request:',_0x292d7e),_0x2ad158[_0x11e40f(0x857)]!==_0x292d7e){console[_0x11e40f(0x4c0)](_0x11e40f(0x364));try{let _0x5e1b8a=await me[_0x11e40f(0x3cb)]['find'](_0x23fb1f);if(console[_0x11e40f(0x4c0)](_0x11e40f(0x15c),_0x5e1b8a),!_0x5e1b8a||_0x5e1b8a[_0x11e40f(0x471)]!==_0x292d7e)return console[_0x11e40f(0x4c0)](_0x11e40f(0x2f4)),_0x9c2006['status'](0x191)[_0x11e40f(0x135)](_0x11e40f(0x5c2));}catch(_0x391039){return console[_0x11e40f(0x6f3)](_0x11e40f(0x254),_0x391039),_0x9c2006[_0x11e40f(0x41e)](0x191)['send'](_0x11e40f(0x4ef));}}if(!await _e(_0x23fb1f))return _0x9c2006[_0x11e40f(0x41e)](0x194)[_0x11e40f(0x135)](_0x11e40f(0x74c));_0x9c2006[_0x11e40f(0x78e)]('Content-Type',_0x11e40f(0x862)),_0x9c2006[_0x11e40f(0x78e)]('Cache-Control','no-cache'),_0x9c2006[_0x11e40f(0x78e)](_0x11e40f(0x740),'keep-alive'),_0x9c2006[_0x11e40f(0x2d2)]();let _0x4f6d0e=_0x11e40f(0x7f6)+JSON['stringify']({'info':_0x11e40f(0x5e7)})+'\x0a\x0a';_0x9c2006[_0x11e40f(0x58e)](_0x4f6d0e),yi(_0x23fb1f,_0xf9dc4d,_0x9c2006,_0x3a4c84),_0x54a41['on'](_0x11e40f(0x3b2),()=>{const _0x77b11=_0x11e40f;console[_0x77b11(0x4c0)](_0x77b11(0x2c9)+_0x23fb1f),bi(_0x23fb1f,_0xf9dc4d);});}),ke[a0_0x5ae34c(0x256)](a0_0x5ae34c(0x54a),async(_0x17fa65,_0x197c24)=>{const _0x3e37a4=a0_0x5ae34c;console[_0x3e37a4(0x4c0)](_0x3e37a4(0x46e));let _0x561fb0=_0x17fa65[_0x3e37a4(0x31f)]['instance'],_0x5c94da=_0x17fa65[_0x3e37a4(0x31f)][_0x3e37a4(0x761)],_0x422e24=_0x17fa65[_0x3e37a4(0x801)][_0x3e37a4(0x668)]||'',_0x7d5552=_0x17fa65[_0x3e37a4(0x84d)];console['log']('Instance\x20Name:',_0x561fb0),console[_0x3e37a4(0x4c0)](_0x3e37a4(0x523),_0x5c94da),console[_0x3e37a4(0x4c0)](_0x3e37a4(0x1bb),_0x422e24),console[_0x3e37a4(0x4c0)]('Request\x20Body:',_0x7d5552);try{if(!await _e(_0x561fb0))return _0x197c24[_0x3e37a4(0x41e)](0x194)['send']('Instância\x20não\x20encontrada.');let _0x105fa2=await _[_0x3e37a4(0x342)](_0x561fb0,_0x5c94da,_0x422e24,_0x7d5552);_0x197c24[_0x3e37a4(0x135)](_0x105fa2);}catch(_0x54d208){console['error'](_0x54d208),_0x197c24[_0x3e37a4(0x41e)](0x1f4)[_0x3e37a4(0x135)](_0x3e37a4(0x2a8));}}),ke[a0_0x5ae34c(0x52d)](a0_0x5ae34c(0x45e),(_0x3bfea7,_0xeaafa0)=>{const _0x14fb4f=a0_0x5ae34c;let _0x327113=Si();_0xeaafa0[_0x14fb4f(0x6e5)](_0x327113);})[a0_0x5ae34c(0x52d)]('/',(_0x4b05fb,_0x293dbe)=>{const _0x5d1b65=a0_0x5ae34c;let _0x12bbc6=S[_0x5d1b65(0x52d)](_0x5d1b65(0x61a))[_0x5d1b65(0x592)];if(_0x12bbc6){let _0x4e312f=encodeURIComponent(''+_0x12bbc6);_0x293dbe[_0x5d1b65(0x802)](_0x5d1b65(0x5f2)+_0x4e312f);return;}let _0xe11d48=S[_0x5d1b65(0x52d)](_0x5d1b65(0x250)),_0x5d93f6=_0xe11d48&&_0xe11d48[_0x5d1b65(0x1f5)][_0x5d1b65(0x1a3)]('/')[0x4];if(_0x5d93f6){let _0x435e87=encodeURIComponent(_0x5d1b65(0x209)+_0x5d93f6);_0x293dbe['redirect'](_0x5d1b65(0x5f2)+_0x435e87);}else _0x293dbe['redirect'](_0x5d1b65(0x294));})[a0_0x5ae34c(0x6c6)](a0_0x5ae34c(0x673),...ie,async(_0x26960d,_0x1fac1c)=>{const _0xd5844c=a0_0x5ae34c;try{console[_0xd5844c(0x4c0)](_0xd5844c(0x649)),_0x1fac1c[_0xd5844c(0x41e)](0xc8)['json']({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x1fac1c['on'](_0xd5844c(0x574),()=>process['exit'](0x0));}catch(_0x4dcca7){console[_0xd5844c(0x6f3)]('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x4dcca7),_0x1fac1c[_0xd5844c(0x41e)](0x1f4)['json']({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x5ae34c(0x6c6)](a0_0x5ae34c(0x7c5),...ie,async(_0x49efad,_0x37b9cd)=>{const _0x37f131=a0_0x5ae34c;try{let _0x2e2efd=_0x49efad[_0x37f131(0x84d)];await ve[_0x37f131(0x41a)]({},{'$set':_0x2e2efd},{'upsert':!0x0});let _0x48b59b=await ve[_0x37f131(0x875)]();_0x37b9cd['json'](_0x48b59b);}catch(_0x237c65){_0x37b9cd[_0x37f131(0x41e)](0x190)[_0x37f131(0x135)](_0x237c65[_0x37f131(0x80a)]);}})[a0_0x5ae34c(0x52d)]('/config',...ie,async(_0x5bb005,_0x2b8151)=>{const _0xd9782a=a0_0x5ae34c;try{let _0x23a229=await ve[_0xd9782a(0x875)]();if(!_0x23a229)return _0x2b8151[_0xd9782a(0x6e5)]({});_0x2b8151[_0xd9782a(0x6e5)](_0x23a229);}catch(_0x106f6a){_0x2b8151[_0xd9782a(0x41e)](0x1f4)[_0xd9782a(0x135)](_0x106f6a[_0xd9782a(0x80a)]);}})['use']('/instance',new bt(S,...ie)[a0_0x5ae34c(0x4f5)])[a0_0x5ae34c(0x51c)](a0_0x5ae34c(0x5c8),new Tt(...ie)[a0_0x5ae34c(0x4f5)])[a0_0x5ae34c(0x51c)](a0_0x5ae34c(0x130),new lt(...ie)[a0_0x5ae34c(0x4f5)])[a0_0x5ae34c(0x51c)]('/group',new yt(...ie)['router'])[a0_0x5ae34c(0x51c)](a0_0x5ae34c(0x205),new _t(...ie)['router'])[a0_0x5ae34c(0x51c)](a0_0x5ae34c(0x317),new Ot(...ie)['router']);var m=class{constructor(..._0x391eb1){const _0xc2f9f8=a0_0x5ae34c;throw{'status':0x190,'error':'Bad\x20Request','message':_0x391eb1[_0xc2f9f8(0x3b3)]>0x0?_0x391eb1:void 0x0};}},se=class{constructor(..._0x4011e5){const _0x35c5d1=a0_0x5ae34c;throw{'status':0x191,'error':_0x35c5d1(0x71a),'message':_0x4011e5[_0x35c5d1(0x3b3)]>0x0?_0x4011e5:void 0x0};}},X=class{constructor(..._0xa60d1c){const _0x3210c5=a0_0x5ae34c;throw{'status':0x193,'error':_0x3210c5(0x846),'message':_0xa60d1c[_0x3210c5(0x3b3)]>0x0?_0xa60d1c:void 0x0};}},U=class{constructor(..._0x20460d){const _0x4db9da=a0_0x5ae34c;throw{'status':0x194,'error':'Not\x20Found','message':_0x20460d[_0x4db9da(0x3b3)]>0x0?_0x20460d:void 0x0};}},x=class{constructor(..._0x9a4a92){const _0x2dc2c1=a0_0x5ae34c;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x9a4a92[_0x2dc2c1(0x3b3)]>0x0?_0x9a4a92:void 0x0};}},fe=require(a0_0x5ae34c(0x70e));async function _s(_0x2cd548){const _0x157281=a0_0x5ae34c;let _0x333496=new $(_s[_0x157281(0x48b)]),_0x38bb39=T[_0x157281(0x69d)](),_0x3f97f2=_0x38bb39['db'](S[_0x157281(0x52d)](_0x157281(0x230))[_0x157281(0x73b)][_0x157281(0x11c)]+_0x157281(0x719))[_0x157281(0x43d)](_0x2cd548),_0x40293c=async(_0x25fe34,_0x271042)=>{const _0x1aba79=_0x157281;try{return await _0x38bb39['connect'](),await _0x3f97f2[_0x1aba79(0x270)]({'_id':_0x271042},JSON[_0x1aba79(0x35b)](JSON['stringify'](_0x25fe34,fe[_0x1aba79(0x3a1)][_0x1aba79(0x2bc)])),{'upsert':!0x0});}catch{}},_0xf2b902=async _0x1fa152=>{const _0x11031a=_0x157281;try{await _0x38bb39['connect']();let _0x2426ce=await _0x3f97f2[_0x11031a(0x875)]({'_id':_0x1fa152}),_0x368788=JSON[_0x11031a(0x751)](_0x2426ce);return JSON[_0x11031a(0x35b)](_0x368788,fe[_0x11031a(0x3a1)][_0x11031a(0x1a8)]);}catch{}},_0x4aed7b=async _0x4cee74=>{const _0x4a550b=_0x157281;try{return await _0x38bb39[_0x4a550b(0x52b)](),await _0x3f97f2[_0x4a550b(0x45c)]({'_id':_0x4cee74});}catch{}},_0x874c77=await _0xf2b902(_0x157281(0x220))||(0x0,fe[_0x157281(0x54b)])();return{'state':{'creds':_0x874c77,'keys':{'get':async(_0x1631a5,_0x3edbe6)=>{const _0x4def7e=_0x157281;let _0x312fd6={};return await Promise[_0x4def7e(0x1ca)](_0x3edbe6['map'](async _0x31bb79=>{const _0x4207d4=_0x4def7e;let _0x3bd05c=await _0xf2b902(_0x1631a5+'-'+_0x31bb79);_0x1631a5==='app-state-sync-key'&&_0x3bd05c&&(_0x3bd05c=fe['proto'][_0x4207d4(0x4cd)][_0x4207d4(0x7b8)][_0x4207d4(0x638)](_0x3bd05c)),_0x312fd6[_0x31bb79]=_0x3bd05c;})),_0x312fd6;},'set':async _0x1e0fbd=>{const _0x22a19c=_0x157281;let _0x2f6dc6=[];for(let _0x14de43 in _0x1e0fbd)for(let _0x287fe0 in _0x1e0fbd[_0x14de43]){let _0x7eaa7c=_0x1e0fbd[_0x14de43][_0x287fe0],_0xfa7239=_0x14de43+'-'+_0x287fe0;_0x2f6dc6[_0x22a19c(0x6dd)](_0x7eaa7c?_0x40293c(_0x7eaa7c,_0xfa7239):_0x4aed7b(_0xfa7239));}await Promise[_0x22a19c(0x1ca)](_0x2f6dc6);}}},'saveCreds':async()=>_0x40293c(_0x874c77,_0x157281(0x220))};}var Ls=I(require(a0_0x5ae34c(0x59f))),Fs=I(require(a0_0x5ae34c(0x75d))),kt=require('@whiskeysockets/baileys'),vi=require('@redis/client'),Dt=require(a0_0x5ae34c(0x70e)),Pt;function Po(_0x4d6789){const _0x411093=a0_0x5ae34c;return Pt||(Pt=(0x0,vi[_0x411093(0x7ea)])({'url':_0x4d6789[_0x411093(0x7e0)]}),Pt[_0x411093(0x52b)]()),Pt;}var ue=class u{constructor(_0x4860bc,_0x50166a){const _0x52cfbb=a0_0x5ae34c;this['redisEnv']=_0x4860bc,this[_0x52cfbb(0x87e)]=_0x50166a,this[_0x52cfbb(0x5c7)]=new $(u['name']),this[_0x52cfbb(0x454)]=Po(_0x4860bc);}set['reference'](_0x535201){const _0x3e03aa=a0_0x5ae34c;this[_0x3e03aa(0x87e)]=_0x535201;}async['instanceKeys'](){const _0x5c2013=a0_0x5ae34c;try{return await this[_0x5c2013(0x454)]['sendCommand'](['keys',this[_0x5c2013(0x188)][_0x5c2013(0x3ec)]+':*']);}catch(_0xf62a5c){this['logger'][_0x5c2013(0x6f3)](_0xf62a5c);}}async[a0_0x5ae34c(0x68f)](_0x3fe7f8,_0x2ba727){const _0x964c1e=a0_0x5ae34c;try{let _0x414c76=JSON['stringify'](_0x2ba727,Dt[_0x964c1e(0x3a1)][_0x964c1e(0x2bc)]);return await this['client'][_0x964c1e(0x4b6)](this[_0x964c1e(0x188)][_0x964c1e(0x3ec)]+':'+this[_0x964c1e(0x87e)],_0x3fe7f8,_0x414c76);}catch(_0x16d7e6){this[_0x964c1e(0x5c7)][_0x964c1e(0x6f3)](_0x16d7e6);}}async[a0_0x5ae34c(0x5f4)](){const _0x5637a7=a0_0x5ae34c;try{let _0x5a0133=await this[_0x5637a7(0x454)][_0x5637a7(0x226)](this[_0x5637a7(0x188)]['PREFIX_KEY']+':'+this[_0x5637a7(0x87e)]);if(_0x5a0133){for(let _0x4dd5c8 in _0x5a0133)Object[_0x5637a7(0x1b8)][_0x5637a7(0x5f0)]['call'](_0x5a0133,_0x4dd5c8)&&(_0x5a0133[_0x4dd5c8]=JSON[_0x5637a7(0x35b)](_0x5a0133[_0x4dd5c8],Dt[_0x5637a7(0x3a1)]['reviver']));return _0x5a0133;}}catch(_0x510017){this[_0x5637a7(0x5c7)][_0x5637a7(0x6f3)](_0x510017);}}async[a0_0x5ae34c(0x14b)](_0x1fe08f){const _0x4adacc=a0_0x5ae34c;try{let _0xc205b8=await this['client']['hGet'](this[_0x4adacc(0x188)][_0x4adacc(0x3ec)]+':'+this['instanceName'],_0x1fe08f);if(_0xc205b8)return JSON[_0x4adacc(0x35b)](_0xc205b8,Dt[_0x4adacc(0x3a1)][_0x4adacc(0x1a8)]);}catch(_0x2d9ab3){this[_0x4adacc(0x5c7)][_0x4adacc(0x6f3)](_0x2d9ab3);}}async[a0_0x5ae34c(0x2d9)](_0x3f51fc){const _0x3284c6=a0_0x5ae34c;try{return await this[_0x3284c6(0x454)][_0x3284c6(0x553)](this[_0x3284c6(0x188)][_0x3284c6(0x3ec)]+':'+this[_0x3284c6(0x87e)],_0x3f51fc);}catch(_0x2c8851){this[_0x3284c6(0x5c7)][_0x3284c6(0x6f3)](_0x2c8851);}}async[a0_0x5ae34c(0x6fc)](_0x47d21e){const _0x20c439=a0_0x5ae34c;try{return await this[_0x20c439(0x454)][_0x20c439(0x3fc)](_0x47d21e||this[_0x20c439(0x188)][_0x20c439(0x3ec)]+':'+this['instanceName']);}catch(_0x3e5048){this['logger']['error'](_0x3e5048);}}};async function Os(_0x5295ea,_0x15c2db){const _0x5e0d0d=a0_0x5ae34c;let _0x50f1a7=new $(Os[_0x5e0d0d(0x48b)]),_0x6d5661=new ue(_0x5295ea,_0x15c2db),_0x4a7b2a=async(_0xbaa7fb,_0x157de0)=>{const _0x1b0faa=_0x5e0d0d;try{return await _0x6d5661[_0x1b0faa(0x68f)](_0x157de0,_0xbaa7fb);}catch(_0x526156){return _0x50f1a7[_0x1b0faa(0x6f3)]({'localError':_0x1b0faa(0x68f),'error':_0x526156});}},_0x5cfaad=async _0x6f842=>{const _0x3ff0bd=_0x5e0d0d;try{return await _0x6d5661[_0x3ff0bd(0x14b)](_0x6f842);}catch(_0x40e91c){_0x50f1a7[_0x3ff0bd(0x6f3)]({'readData':_0x3ff0bd(0x68f),'error':_0x40e91c});return;}},_0x7c55ff=async _0x230708=>{const _0x59362b=_0x5e0d0d;try{return await _0x6d5661[_0x59362b(0x2d9)](_0x230708);}catch(_0x2e477c){_0x50f1a7['error']({'readData':_0x59362b(0x2d9),'error':_0x2e477c});}},_0x1e19d2=await _0x5cfaad(_0x5e0d0d(0x220))||(0x0,kt[_0x5e0d0d(0x54b)])();return{'state':{'creds':_0x1e19d2,'keys':{'get':async(_0x47377,_0x1ef7fe)=>{const _0x350c80=_0x5e0d0d;let _0x5617ed={};return await Promise[_0x350c80(0x1ca)](_0x1ef7fe[_0x350c80(0x89e)](async _0x439c0e=>{const _0x27ecf6=_0x350c80;let _0x563732=await _0x5cfaad(_0x47377+'-'+_0x439c0e);_0x47377===_0x27ecf6(0x7a4)&&_0x563732&&(_0x563732=kt[_0x27ecf6(0x80d)]['Message'][_0x27ecf6(0x7b8)][_0x27ecf6(0x638)](_0x563732)),_0x5617ed[_0x439c0e]=_0x563732;})),_0x5617ed;},'set':async _0x48abad=>{const _0xe1a682=_0x5e0d0d;let _0x4cae7c=[];for(let _0x2249f0 in _0x48abad)for(let _0x42df53 in _0x48abad[_0x2249f0]){let _0x4226b1=_0x48abad[_0x2249f0][_0x42df53],_0x14071c=_0x2249f0+'-'+_0x42df53;_0x4cae7c[_0xe1a682(0x6dd)](_0x4226b1?await _0x4a7b2a(_0x4226b1,_0x14071c):await _0x7c55ff(_0x14071c));}await Promise[_0xe1a682(0x1ca)](_0x4cae7c);}}},'saveCreds':async()=>await _0x4a7b2a(_0x1e19d2,_0x5e0d0d(0x220))};}var k=I(require('fs')),Q=require(a0_0x5ae34c(0x48e)),Ut=I(require(a0_0x5ae34c(0x3db))),oe=require(a0_0x5ae34c(0x2e7)),Ei=require(a0_0x5ae34c(0x7cc)),Ni=require(a0_0x5ae34c(0x121)),$i=I(require('axios')),Ee=class extends O{constructor(_0x4ee9fe,_0x3879c1,_0x347545){const _0x45f1f5=a0_0x5ae34c;super(_0x3879c1),this['cacheInstanceModel']=_0x4ee9fe,this[_0x45f1f5(0x89b)]=_0x3879c1,this[_0x45f1f5(0x88e)]=_0x347545;}async['createOrUpdate'](_0x40227d,_0x5b23ee){const _0x4c668b=a0_0x5ae34c;try{if(this[_0x4c668b(0x2fa)][_0x4c668b(0x3d3)]){console[_0x4c668b(0x4c0)](_0x4c668b(0x678)+_0x5b23ee+_0x4c668b(0x7e2),_0x40227d);let _0x420441=await this[_0x4c668b(0x175)][_0x4c668b(0x6d2)]({'_id':_0x5b23ee},{'$set':_0x40227d},{'new':!0x0,'upsert':!0x0});return console[_0x4c668b(0x4c0)](_0x4c668b(0x581),_0x420441),_0x420441;}}catch(_0x588e8b){throw console[_0x4c668b(0x6f3)]('Erro\x20ao\x20atualizar\x20cacheInstance:',_0x588e8b),_0x588e8b;}return null;}async['deleteOne'](_0x20fbc4){const _0x2fa451=a0_0x5ae34c;try{let _0x192ac4=A(_0x20fbc4[_0x2fa451(0x485)]);return{'deletedCount':(await this[_0x2fa451(0x175)][_0x2fa451(0x45c)](_0x192ac4))[_0x2fa451(0x55b)]};}catch(_0xc7ee94){return{'error':_0xc7ee94?.[_0x2fa451(0x663)]()};}}async[a0_0x5ae34c(0x875)](_0x3e170e){const _0x33fa13=a0_0x5ae34c;try{let _0x21a498=A(_0x3e170e['where']);return await this[_0x33fa13(0x175)][_0x33fa13(0x875)](_0x21a498)['lean']();}catch{return null;}}},Ne=(0x0,Ni[a0_0x5ae34c(0x3d1)])(Ei[a0_0x5ae34c(0x21f)]),xs=0x1f4,Do=S[a0_0x5ae34c(0x52d)](a0_0x5ae34c(0x2d0)),Ps=class{constructor(){const _0x46ecbb=a0_0x5ae34c;this[_0x46ecbb(0x431)]=new Ee(We,S),(!this[_0x46ecbb(0x243)]||!this[_0x46ecbb(0x67f)])&&Do&&this[_0x46ecbb(0x46f)]()[_0x46ecbb(0x687)](async()=>{const _0x1fa55f=_0x46ecbb;console[_0x1fa55f(0x4c0)]('IPv6\x20Prefix\x20detected:\x20'+this[_0x1fa55f(0x243)]),console['log']('Network\x20Interface\x20detected:\x20'+this[_0x1fa55f(0x67f)]),await this[_0x1fa55f(0x63d)]();let _0x194f67=await this[_0x1fa55f(0x42d)]();console[_0x1fa55f(0x4c0)](_0x1fa55f(0x2df)+_0x194f67);})[_0x46ecbb(0x249)](_0x2755cf=>{const _0x16a548=_0x46ecbb;console[_0x16a548(0x6f3)](_0x16a548(0x472)+_0x2755cf['message']);});}async[a0_0x5ae34c(0x63d)](){const _0xfc3b6a=a0_0x5ae34c;let _0x12d59f=await this[_0xfc3b6a(0x492)]();if(console[_0xfc3b6a(0x4c0)](_0xfc3b6a(0x7c0)+_0x12d59f['length']),_0x12d59f[_0xfc3b6a(0x3b3)]>xs){let _0x2856e1=_0x12d59f[_0xfc3b6a(0x29e)](xs);for(let _0x1b7ce3 of _0x2856e1)console['log']('Removing\x20excess\x20IPv6\x20address:\x20'+_0x1b7ce3),await this[_0xfc3b6a(0x5f3)](_0x1b7ce3);console['log'](_0xfc3b6a(0x3e1)+_0x2856e1[_0xfc3b6a(0x3b3)]+_0xfc3b6a(0x4c4));}else console[_0xfc3b6a(0x4c0)](_0xfc3b6a(0x7ed));}async[a0_0x5ae34c(0x492)](){const _0x5e7dee=a0_0x5ae34c;try{let {stdout:_0x2c6d04}=await Ne(_0x5e7dee(0x74b));return _0x2c6d04[_0x5e7dee(0x1a3)]('\x0a')[_0x5e7dee(0x252)](_0x2591cc=>_0x2591cc['includes'](_0x5e7dee(0x25b))&&_0x2591cc[_0x5e7dee(0x81c)](_0x5e7dee(0x677)))[_0x5e7dee(0x89e)](_0x391175=>_0x391175[_0x5e7dee(0x80b)](/inet6\s+([a-fA-F0-9:]+)\//)?.[0x1])[_0x5e7dee(0x252)](Boolean);}catch(_0x4bdaca){return console['error']('Error\x20fetching\x20IPv6\x20addresses:\x20'+_0x4bdaca[_0x5e7dee(0x80a)]),[];}}async[a0_0x5ae34c(0x42d)](){const _0x44a136=a0_0x5ae34c;try{let {stdout:_0x5c12bb}=await Ne(_0x44a136(0x12b)),_0x3514e4=parseInt(_0x5c12bb[_0x44a136(0x1b6)](),0xa);return console['log'](_0x44a136(0x10a)+_0x3514e4),_0x3514e4;}catch(_0x188b59){return console[_0x44a136(0x6f3)]('Error\x20fetching\x20IPv6\x20count:\x20'+_0x188b59['message']),0x0;}}async[a0_0x5ae34c(0x5f3)](_0x22881c){const _0xf81796=a0_0x5ae34c;try{await Ne('ip\x20-6\x20addr\x20del\x20'+_0x22881c+_0xf81796(0x601)+this[_0xf81796(0x67f)]),console['log']('IPv6\x20address\x20removed:\x20'+_0x22881c);}catch(_0x90e53e){console[_0xf81796(0x6f3)](_0xf81796(0x791)+_0x90e53e[_0xf81796(0x80a)]);}}async[a0_0x5ae34c(0x46f)](){const _0x24ac11=a0_0x5ae34c;try{let {stdout:_0x30f185}=await Ne(_0x24ac11(0x7d0));console[_0x24ac11(0x4c0)](_0x24ac11(0x2ba)+_0x30f185);let _0x34ce82=_0x30f185[_0x24ac11(0x1a3)]('\x0a')[_0x24ac11(0x89e)](_0x4d2974=>_0x4d2974['split']('\x20')[0x0])['filter'](_0x29c94e=>!_0x29c94e[_0x24ac11(0x81c)]('lo')&&!_0x29c94e[_0x24ac11(0x81c)](_0x24ac11(0x1b3))&&!_0x29c94e[_0x24ac11(0x81c)](_0x24ac11(0x346))&&!_0x29c94e[_0x24ac11(0x81c)]('wl')&&!_0x29c94e[_0x24ac11(0x81c)]('@'));if(console[_0x24ac11(0x4c0)](_0x24ac11(0x554)+_0x34ce82),_0x34ce82[_0x24ac11(0x3b3)]===0x0)throw new Error(_0x24ac11(0x275));this[_0x24ac11(0x67f)]=_0x34ce82[0x0];let {stdout:_0x1d899b}=await Ne(_0x24ac11(0x287)+this[_0x24ac11(0x67f)]);console['log'](_0x24ac11(0x6b8)+_0x1d899b);let _0x5b4242=_0x1d899b[_0x24ac11(0x1a3)]('\x0a')[_0x24ac11(0x42c)](_0x5ecb98=>_0x5ecb98[_0x24ac11(0x81c)]('inet6')&&_0x5ecb98[_0x24ac11(0x81c)](_0x24ac11(0x677)));if(!_0x5b4242)throw new Error(_0x24ac11(0x4a9));let _0x313b72=_0x5b4242['match'](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x313b72)throw new Error('Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address');let [_0x13988b,_0x1bf82c,_0x12c589]=_0x313b72,_0x35c489=Math[_0x24ac11(0x7f0)](Number(_0x12c589)/0x10),_0x3d0ce8=Number(_0x12c589)%0x10,_0x195167=_0x1bf82c[_0x24ac11(0x1a3)](':')[_0x24ac11(0x29e)](0x0,_0x35c489)[_0x24ac11(0x88d)](':');if(_0x3d0ce8>0x0){let _0x20ebeb=_0x1bf82c['split'](':')[_0x35c489],_0x12befa=0xffff<<0x10-_0x3d0ce8&0xffff,_0x2cae3d=(parseInt(_0x20ebeb,0x10)&_0x12befa)['toString'](0x10)[_0x24ac11(0x321)](0x4,'0');_0x195167+=':'+_0x2cae3d;}this[_0x24ac11(0x243)]=_0x195167+':';}catch(_0x242136){console[_0x24ac11(0x6f3)](_0x24ac11(0x404),_0x242136);}}async['configureIPv6'](_0x377e22){const _0x365fa7=a0_0x5ae34c;let _0x424b3c=_0x365fa7(0x2d8)+_0x377e22+_0x365fa7(0x601)+this['networkInterface'];try{await Ne(_0x424b3c),console[_0x365fa7(0x4c0)](_0x365fa7(0x5a4)+_0x377e22);}catch(_0x1718ae){console[_0x365fa7(0x6f3)](_0x365fa7(0x474)+_0x1718ae);}}['randomMac'](){const _0x3cde30=a0_0x5ae34c;return _0x3cde30(0x1c0)['replace'](/X/g,()=>'0123456789ABCDEF'[_0x3cde30(0x155)](Math[_0x3cde30(0x7f0)](Math[_0x3cde30(0x302)]()*0x10)));}[a0_0x5ae34c(0x4b5)](_0x27b9c0,_0x1a31c6){const _0x53219d=a0_0x5ae34c;let _0x38b763=_0x1a31c6[_0x53219d(0x1a3)](':');return _0x38b763[0x0]=(parseInt(_0x38b763[0x0],0x10)^0x2)[_0x53219d(0x663)](0x10)[_0x53219d(0x321)](0x2,'0'),''+_0x27b9c0+_0x38b763[0x0]+_0x38b763[0x1]+':'+_0x38b763[0x2]+_0x53219d(0x701)+_0x38b763[0x3]+':'+_0x38b763[0x4]+_0x38b763[0x5];}[a0_0x5ae34c(0x5dc)](){const _0x3e4d3c=a0_0x5ae34c;let _0xb841a1=this[_0x3e4d3c(0x243)];_0xb841a1[_0x3e4d3c(0x267)](':')||(_0xb841a1+=':');let _0x3c6f71=this[_0x3e4d3c(0x6fb)]();return this['ip6eui'](_0xb841a1,_0x3c6f71);}[a0_0x5ae34c(0x7de)](_0x16802a){const _0x58ddf7=a0_0x5ae34c;return new RegExp(_0x58ddf7(0x859))[_0x58ddf7(0x4d9)](_0x16802a);}async['testIPv6'](_0x108ab4){const _0x4d1a44=a0_0x5ae34c;let _0x5c0b72=[{'url':_0x4d1a44(0x3d9),'parse':_0x56163c=>_0x56163c['ip']},{'url':_0x4d1a44(0x839),'parse':_0xa7ec11=>_0xa7ec11['ip']},{'url':'https://ifconfig.me/ip','parse':_0x1b1c5d=>_0x1b1c5d[_0x4d1a44(0x1b6)]()},{'url':_0x4d1a44(0x519),'parse':_0x299c4f=>_0x299c4f['trim']()}],_0x2bebb9=_0x5c0b72[Math[_0x4d1a44(0x7f0)](Math['random']()*_0x5c0b72[_0x4d1a44(0x3b3)])];try{let _0x276b07=await $i[_0x4d1a44(0x509)][_0x4d1a44(0x52d)](_0x2bebb9[_0x4d1a44(0x787)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x108ab4}}),_0x5217cb=_0x2bebb9[_0x4d1a44(0x35b)](_0x276b07[_0x4d1a44(0x14a)]);return _0x5217cb['toLowerCase']()===_0x108ab4['toLowerCase']()?(console['log'](_0x4d1a44(0x384)+_0x108ab4),!0x0):(console[_0x4d1a44(0x6f3)](_0x4d1a44(0x432)+_0x108ab4+_0x4d1a44(0x30e)+_0x5217cb),!0x1);}catch(_0x5f3dc2){return console['error'](_0x4d1a44(0x78b)+_0x2bebb9['url']+':\x20'+_0x5f3dc2[_0x4d1a44(0x80a)]),!0x1;}}async[a0_0x5ae34c(0x410)](_0x4c0f5f,_0xce2f34){const _0xd9a672=a0_0x5ae34c;if(!this['ipv6Prefix']||!this['networkInterface'])return console[_0xd9a672(0x6f3)](_0xd9a672(0x225)),null;let _0x18742a=await this['listIPv6Addresses']();if(_0x18742a['length']>=xs){let _0x5e4713=_0x18742a[Math['floor'](Math[_0xd9a672(0x302)]()*_0x18742a['length'])];return console[_0xd9a672(0x4c0)](_0xd9a672(0x452)+_0x5e4713),_0x5e4713;}let _0x31cec5;do _0x31cec5=this['generateRandomIPv6'](),console['log'](_0xd9a672(0x75b)+_0x31cec5);while(!this['isValidIPv6Config'](_0x31cec5));await this[_0xd9a672(0x4e8)](_0x31cec5),console[_0xd9a672(0x4c0)](_0xd9a672(0x7b1)+_0x31cec5);let _0x5571e7={'_id':_0x4c0f5f+'-'+_0xce2f34,'ip':_0x31cec5},_0x263e1d=await this[_0xd9a672(0x431)][_0xd9a672(0x259)](_0x5571e7,_0x5571e7['_id']);return console[_0xd9a672(0x4c0)](_0xd9a672(0x330)+_0x263e1d),_0x31cec5;}},ko=new Ps(),Le=ko,Us=a0_0x5ae34c(0x158),xi,de=null,xa=null,Lo=0x3,Fo=null,Ri=S['get']('AUTHENTICATION')[a0_0x5ae34c(0x450)][a0_0x5ae34c(0x857)],Ai=S[a0_0x5ae34c(0x52d)]('PROXY');async function Uo(){const _0x20c159=a0_0x5ae34c;let _0x113fe8=await ve['findOne']();de=_0x113fe8?.[_0x20c159(0x858)]??null,Fo=_0x113fe8?.[_0x20c159(0x82a)]??null,Us=_0x113fe8?.[_0x20c159(0x168)]??'Safari',xi=_0x113fe8?.[_0x20c159(0x394)]??he??_0x20c159(0x332);}async function jo(){await Uo();}jo();var Lt={},$e=class u{constructor(_0x3ff427,_0xbe3517,_0x56420e){const _0x3a441f=a0_0x5ae34c;this['configService']=_0x3ff427,this[_0x3a441f(0x316)]=_0xbe3517,this[_0x3a441f(0x20b)]=_0x56420e,this[_0x3a441f(0x69a)]={},this[_0x3a441f(0x541)]=null,this[_0x3a441f(0x5c7)]=new $(u['name']),this['instance']={},this[_0x3a441f(0x702)]={},this[_0x3a441f(0x603)]={'state':'close'},this[_0x3a441f(0x266)]=(0x0,j[_0x3a441f(0x88d)])(ne,_0x3a441f(0x6d8)),this[_0x3a441f(0x648)]=new Fs['default'](),this[_0x3a441f(0x82d)]=new Fs[(_0x3a441f(0x509))](),this[_0x3a441f(0x30d)]=!0x1,this['webhookMap']={'status.instance':_0x3a441f(0x83d),'connection.update':'/wa-connection-update','qrcode.updated':'/wa-qrcode','messages.upsert':_0x3a441f(0x71d),'send.message':_0x3a441f(0x71d),'messages.update':_0x3a441f(0x51a),'group.upsert':_0x3a441f(0x7a6),'group.update':_0x3a441f(0x7a6),'group-participants.update':_0x3a441f(0x7a6),'messages.set':_0x3a441f(0x186),'contacts.set':_0x3a441f(0x185),'contacts.upsert':_0x3a441f(0x185),'contacts.update':_0x3a441f(0x185),'presence.update':_0x3a441f(0x3ed),'chats.set':_0x3a441f(0x2e9),'chats.update':'/wa-chats','chats.upsert':_0x3a441f(0x2e9),'chats.delete':_0x3a441f(0x2e9)},this['reconnectAttempts']=0x0,this[_0x3a441f(0x77e)]=[],this[_0x3a441f(0x3aa)]=0xea60,this[_0x3a441f(0x6cc)]=!0x1,this[_0x3a441f(0x44b)]={'chats.upsert':async(_0x1fb8c5,_0x5b1224)=>{const _0x396f2d=_0x3a441f;let _0x997ba2=[];for await(let _0x1c8afe of _0x1fb8c5)_0x997ba2['push']({'_id':_0x1c8afe['id'],'owner':this[_0x396f2d(0x2a1)][_0x396f2d(0x6c1)],'group':_0x1c8afe['id'][_0x396f2d(0x267)]('@g.us'),'name':_0x1c8afe[_0x396f2d(0x48b)]||_0x1c8afe[_0x396f2d(0x363)]||null,'contactname':null,'lastmsg':_0x1c8afe[_0x396f2d(0x139)]&&_0x1c8afe[_0x396f2d(0x139)][_0x396f2d(0x663)]()[_0x396f2d(0x3b3)]<0xd?_0x1c8afe['conversationTimestamp']*0x3e8:_0x1c8afe[_0x396f2d(0x139)]||null,'archived':_0x1c8afe['archived']||!0x1,'unreadcount':_0x1c8afe['unreadCount']||0x0,'ephemeralExpiration':_0x1c8afe['ephemeralExpiration']||0x0});this[_0x396f2d(0x703)](_0x396f2d(0x311),_0x997ba2);},'chats.update':async(_0x24e8d4,_0x45a58c)=>{const _0x5df03d=_0x3a441f;for(let _0x3341e2 of _0x24e8d4){let _0x57205d={'_id':_0x3341e2['id'],'owner':this['instance'][_0x5df03d(0x6c1)],'archived':_0x3341e2['archived'],'muteEndTime':_0x3341e2[_0x5df03d(0x797)],'ephemeralExpiration':_0x3341e2[_0x5df03d(0x7ce)]},_0x47b724=!0x1,_0x4a1051={};_0x57205d[_0x5df03d(0x2ad)]!=null&&(this[_0x5df03d(0x5c7)][_0x5df03d(0x7df)](this['instanceName']+'\x20('+this[_0x5df03d(0x2a1)][_0x5df03d(0x6c1)]+_0x5df03d(0x754)+_0x3341e2['id']+_0x5df03d(0x7cb)+_0x3341e2['archived']),_0x47b724=!0x0,_0x4a1051['archived']=_0x3341e2[_0x5df03d(0x2ad)]),_0x5df03d(0x797)in _0x3341e2&&(this[_0x5df03d(0x5c7)]['verbose'](this[_0x5df03d(0x87e)]+'\x20('+this['instance'][_0x5df03d(0x6c1)]+_0x5df03d(0x481)+_0x3341e2['id']+_0x5df03d(0x7cb)+(_0x3341e2['muteEndTime']??'0')),_0x47b724=!0x0,_0x4a1051[_0x5df03d(0x797)]=_0x3341e2[_0x5df03d(0x797)]??0x0),'ephemeralExpiration'in _0x3341e2&&(this['logger'][_0x5df03d(0x7df)](this[_0x5df03d(0x87e)]+'\x20('+this[_0x5df03d(0x2a1)][_0x5df03d(0x6c1)]+_0x5df03d(0x236)+_0x3341e2['id']+_0x5df03d(0x7cb)+(_0x3341e2[_0x5df03d(0x7ce)]!==void 0x0?_0x3341e2['ephemeralExpiration']:_0x5df03d(0x408))),_0x4a1051[_0x5df03d(0x7ce)]=_0x3341e2[_0x5df03d(0x7ce)]===null?0x0:_0x3341e2['ephemeralExpiration'],_0x47b724=!0x0);let _0x48fa17;_0x47b724&&(_0x48fa17=await this[_0x5df03d(0x20b)]['chat'][_0x5df03d(0x41a)]({'where':{'_id':_0x3341e2['id']}},_0x4a1051,this['instance'][_0x5df03d(0x6c1)])),_0x48fa17&&F(this['instanceName'],_0x5df03d(0x5dd),{'chat':_0x48fa17});}},'chats.delete':async _0x11e6da=>{const _0x4843f7=_0x3a441f;for(let _0x1c0aff of _0x11e6da)if(_0x1c0aff[_0x4843f7(0x267)]('@g.us')){await this[_0x4843f7(0x20b)][_0x4843f7(0x789)][_0x4843f7(0x42f)]({'where':{'_id':_0x1c0aff}},this[_0x4843f7(0x2a1)][_0x4843f7(0x6c1)]);let _0x14f2af={'where':{'key':{'remoteJid':_0x1c0aff}}};await this[_0x4843f7(0x20b)][_0x4843f7(0x80a)][_0x4843f7(0x42f)](_0x14f2af,this[_0x4843f7(0x2a1)][_0x4843f7(0x6c1)]);}else{await this[_0x4843f7(0x20b)][_0x4843f7(0x789)][_0x4843f7(0x41a)]({'where':{'_id':_0x1c0aff}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x4843f7(0x6c1)]);let _0x335712={'where':{'key':{'remoteJid':_0x1c0aff}}};await this[_0x4843f7(0x20b)]['message'][_0x4843f7(0x42f)](_0x335712,this[_0x4843f7(0x2a1)][_0x4843f7(0x6c1)]);}this[_0x4843f7(0x703)](_0x4843f7(0x70f),[..._0x11e6da]);}},this[_0x3a441f(0x55a)]={'contacts.upsert':async(_0x2aa230,_0x2c481d)=>{const _0x3a38c3=_0x3a441f;let _0x2ff120=await this['repository'][_0x3a38c3(0x420)][_0x3a38c3(0x42c)]({'where':{}},this[_0x3a38c3(0x2a1)][_0x3a38c3(0x6c1)]),_0xf4529e=[];for await(let _0x46fc65 of _0x2aa230)_0x2ff120[_0x3a38c3(0x42c)](_0x44b893=>_0x44b893[_0x3a38c3(0x579)]===_0x46fc65['id'])||_0xf4529e['push']({'_id':_0x46fc65['id'],'pushName':_0x46fc65?.[_0x3a38c3(0x48b)]||_0x46fc65?.[_0x3a38c3(0x1f1)],'owner':this[_0x3a38c3(0x2a1)]['wuid']});this[_0x3a38c3(0x703)]('contacts.upsert',_0xf4529e),await this[_0x3a38c3(0x20b)][_0x3a38c3(0x420)][_0x3a38c3(0x883)](_0xf4529e);},'contacts.update':async(_0x321918,_0x5e130e)=>{const _0x47547f=_0x3a441f;let _0xb5c308=[];for await(let _0x14f8f of _0x321918)_0xb5c308[_0x47547f(0x6dd)]({'_id':_0x14f8f['id'],'pushName':_0x14f8f?.['name']??_0x14f8f?.[_0x47547f(0x1f1)],'owner':this[_0x47547f(0x2a1)]['wuid']});this[_0x47547f(0x703)](_0x47547f(0x5c0),_0xb5c308);}},this[_0x3a441f(0x11e)]={'messaging-history.set':async({messages:_0x2a8cc3,chats:_0x37d128,isLatest:_0x46e188},_0x1bf330)=>{const _0x1e8704=_0x3a441f;if(_0x46e188){setTimeout(()=>{const _0x256684=a0_0x475a;this[_0x256684(0x2a1)][_0x256684(0x8b2)]=!0x0,console[_0x256684(0x4c0)](_0x256684(0x6bb));},0x1d4c0);let _0x3b214e=await Promise['all'](_0x37d128[_0x1e8704(0x89e)](async _0x18a957=>({'_id':_0x18a957['id'],'owner':this[_0x1e8704(0x2a1)][_0x1e8704(0x6c1)],'group':_0x18a957['id'][_0x1e8704(0x267)](_0x1e8704(0x43a)),'name':_0x18a957['name']||_0x18a957[_0x1e8704(0x363)]||_0x18a957['username']||null,'contactname':null,'lastmsg':_0x18a957[_0x1e8704(0x139)]&&_0x18a957[_0x1e8704(0x139)][_0x1e8704(0x663)]()[_0x1e8704(0x3b3)]<0xd?_0x18a957[_0x1e8704(0x139)]*0x3e8:_0x18a957[_0x1e8704(0x139)]||null,'archived':_0x18a957[_0x1e8704(0x2ad)]||!0x1,'unreadcount':_0x18a957[_0x1e8704(0x26f)]||0x0,'ephemeralExpiration':_0x18a957['ephemeralExpiration']||0x0,'muteEndTime':_0x18a957[_0x1e8704(0x797)]||0x0})));this['sendDataWebhook'](_0x1e8704(0x5d0),_0x3b214e),await this[_0x1e8704(0x20a)](_0x3b214e,_0x1bf330);}let _0x46324a=[],_0x3b870f=Date[_0x1e8704(0x776)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0xe419ef]of Object[_0x1e8704(0x7e4)](_0x2a8cc3)){if(_0xe419ef['message']?.[_0x1e8704(0x43e)]||_0xe419ef['message']?.[_0x1e8704(0x653)]||!_0xe419ef[_0x1e8704(0x80a)]||_0xe419ef['key'][_0x1e8704(0x668)]===_0x1e8704(0x28a)||(Ls[_0x1e8704(0x509)][_0x1e8704(0x516)](_0xe419ef?.[_0x1e8704(0x22b)])&&(_0xe419ef[_0x1e8704(0x22b)]=_0xe419ef[_0x1e8704(0x22b)]?.[_0x1e8704(0x27e)]()),_0xe419ef[_0x1e8704(0x22b)]&&_0xe419ef['messageTimestamp'][_0x1e8704(0x663)]()[_0x1e8704(0x3b3)]<0xd&&(_0xe419ef[_0x1e8704(0x22b)]=_0xe419ef[_0x1e8704(0x22b)]*0x3e8),_0xe419ef['messageTimestamp']<_0x3b870f))continue;let _0xd099eb=(0x0,w[_0x1e8704(0x283)])(_0xe419ef[_0x1e8704(0x80a)]),_0x463361=(0x0,w[_0x1e8704(0x43b)])(_0xd099eb),{message_normalized:_0x45f0c6}=this[_0x1e8704(0x318)](_0xd099eb,_0x463361,null);Object[_0x1e8704(0x57b)](_0x45f0c6)['length']>0x0&&_0x46324a[_0x1e8704(0x6dd)]({'_id':_0xe419ef[_0x1e8704(0x1e3)]['id'],'key':_0xe419ef['key'],'pushName':_0xe419ef[_0x1e8704(0x522)],'participant':_0xe419ef['participant'],'message':_0xd099eb,'messageType':_0x463361,'message_normalized':{'key':_0xe419ef['key'],'pushName':_0xe419ef['pushName'],'messageTimestamp':_0xe419ef[_0x1e8704(0x22b)],..._0x45f0c6},'messageTimestamp':_0xe419ef[_0x1e8704(0x22b)],'owner':this[_0x1e8704(0x2a1)]['wuid']});}_0x1bf330[_0x1e8704(0x3d3)]&&_0x46324a[_0x1e8704(0x3b3)]>0x0&&(this[_0x1e8704(0x5c7)][_0x1e8704(0x7df)](this[_0x1e8704(0x87e)]+'\x20('+this[_0x1e8704(0x2a1)][_0x1e8704(0x6c1)]+_0x1e8704(0x77c)+_0x46324a[_0x1e8704(0x3b3)]+_0x1e8704(0x2eb)+this[_0x1e8704(0x2a1)][_0x1e8704(0x6c1)]+_0x1e8704(0x479)),await this['repository'][_0x1e8704(0x80a)][_0x1e8704(0x883)]([..._0x46324a],this['instance'][_0x1e8704(0x6c1)]));let _0x136154=Date[_0x1e8704(0x776)]()-0xa*0x3c*0x3e8;for(let _0x4a103b of _0x46324a)if(this[_0x1e8704(0x2a1)]['HistoryProcessed']&&_0x4a103b[_0x1e8704(0x22b)]>=_0x136154){if(this['isMessageProcessed'](this[_0x1e8704(0x2a1)][_0x1e8704(0x6c1)],_0x4a103b[_0x1e8704(0x579)])){this[_0x1e8704(0x5c7)][_0x1e8704(0x7df)](this[_0x1e8704(0x87e)]+'\x20('+this[_0x1e8704(0x2a1)]['wuid']+_0x1e8704(0x361)+_0x4a103b['_id']+')');continue;}this['addToProcessedMessages'](this['instance'][_0x1e8704(0x6c1)],_0x4a103b[_0x1e8704(0x579)]),this[_0x1e8704(0x703)](_0x1e8704(0x60a),_0x4a103b);}else this[_0x1e8704(0x703)](_0x1e8704(0x3e7),_0x4a103b);_0x2a8cc3=void 0x0;},'messages.upsert':async({messages:_0x130f37,type:_0x29ed43},_0x1fd955)=>{const _0x2b5a53=_0x3a441f;for(let _0x5efae3 of _0x130f37){if(this[_0x2b5a53(0x702)]?.['groups_ignore']&&_0x5efae3[_0x2b5a53(0x1e3)][_0x2b5a53(0x668)]['includes']('@g.us')){this[_0x2b5a53(0x5c7)][_0x2b5a53(0x7df)](this[_0x2b5a53(0x87e)]+'\x20('+this[_0x2b5a53(0x2a1)][_0x2b5a53(0x6c1)]+'):\x20[messages.upsert]\x20group\x20ignored');continue;}if(_0x5efae3[_0x2b5a53(0x1e3)][_0x2b5a53(0x668)][_0x2b5a53(0x81c)]('@newsletter')||_0x5efae3[_0x2b5a53(0x1e3)]['remoteJid']===_0x2b5a53(0x28a))continue;if(_0x5efae3['messageStubParameters']&&_0x5efae3[_0x2b5a53(0x8a5)][0x0]==='Message\x20absent\x20from\x20node'){console[_0x2b5a53(0x6f3)](_0x2b5a53(0x23d)),await this[_0x2b5a53(0x829)](_0x5efae3),Lt[_0x5efae3[_0x2b5a53(0x1e3)]['id']]=_0x5efae3,this[_0x2b5a53(0x87f)](_0x5efae3,0x0);continue;}if(_0x29ed43!=='notify'||!_0x5efae3?.[_0x2b5a53(0x80a)]||_0x5efae3[_0x2b5a53(0x80a)]?.['protocolMessage']||_0x5efae3[_0x2b5a53(0x80a)]?.[_0x2b5a53(0x653)])continue;let _0x3efc54=null,_0x496842=null;if(Lt[_0x5efae3[_0x2b5a53(0x1e3)]['id']]&&(console[_0x2b5a53(0x6f3)](_0x2b5a53(0x577)),await this[_0x2b5a53(0x20b)][_0x2b5a53(0x306)][_0x2b5a53(0x42f)]({'where':{'_id':_0x5efae3[_0x2b5a53(0x1e3)]['id']}}),delete Lt[_0x5efae3[_0x2b5a53(0x1e3)]['id']]),this[_0x2b5a53(0x12e)](this[_0x2b5a53(0x2a1)][_0x2b5a53(0x6c1)],_0x5efae3[_0x2b5a53(0x1e3)]['id'])){this[_0x2b5a53(0x5c7)]['verbose'](this[_0x2b5a53(0x87e)]+'\x20('+this['instance']['wuid']+_0x2b5a53(0x7f9));continue;}this['addToProcessedMessages'](this[_0x2b5a53(0x2a1)]['wuid'],_0x5efae3[_0x2b5a53(0x1e3)]['id']);try{_0x3efc54=await this['processPollUpdateMessage'](_0x5efae3),_0x496842=_0x3efc54?_0x3efc54[_0x2b5a53(0x88d)](','):null;}catch(_0x141b33){this[_0x2b5a53(0x5c7)][_0x2b5a53(0x7df)](this[_0x2b5a53(0x87e)]+'\x20('+this['instance'][_0x2b5a53(0x6c1)]+_0x2b5a53(0x77c)+(_0x141b33 instanceof Error?_0x141b33[_0x2b5a53(0x80a)]:JSON[_0x2b5a53(0x751)](_0x141b33,null,0x2))),_0x496842=_0x2b5a53(0x6cd);}this[_0x2b5a53(0x454)][_0x2b5a53(0x62b)](_0x2b5a53(0x290)),Ls[_0x2b5a53(0x509)][_0x2b5a53(0x516)](_0x5efae3[_0x2b5a53(0x22b)])&&(_0x5efae3[_0x2b5a53(0x22b)]=_0x5efae3['messageTimestamp']?.[_0x2b5a53(0x27e)]()),_0x5efae3['messageTimestamp']&&_0x5efae3[_0x2b5a53(0x22b)][_0x2b5a53(0x663)]()[_0x2b5a53(0x3b3)]<0xd&&(_0x5efae3[_0x2b5a53(0x22b)]=_0x5efae3[_0x2b5a53(0x22b)]*0x3e8);let _0x3787b6=_0x5efae3[_0x2b5a53(0x80a)],_0xf795c1=(0x0,w[_0x2b5a53(0x283)])(_0x3787b6),_0x5b3014=(0x0,w[_0x2b5a53(0x43b)])(_0xf795c1),{messageContent:_0x5276bb,message_normalized:_0x1cd323}=this[_0x2b5a53(0x318)](_0xf795c1,_0x5b3014,_0x496842);if(_0x5b3014==='protocolMessage'&&_0x5276bb?.[_0x2b5a53(0x53c)]&&(_0x5b3014=_0x2b5a53(0x53c)),_0x5b3014===_0x2b5a53(0x72f)&&_0x5efae3[_0x2b5a53(0x1e3)][_0x2b5a53(0x210)])continue;let _0x19e729,_0x939c82=_0x5efae3['key']['remoteJid'][_0x2b5a53(0x267)](_0x2b5a53(0x43a));if(_0x5efae3['key'][_0x2b5a53(0x210)])_0x19e729=this[_0x2b5a53(0x2a1)]['profilePictureUrl'];else{let _0x2b501d=_0x939c82?_0x5efae3[_0x2b5a53(0x1e3)][_0x2b5a53(0x613)]:_0x5efae3['key'][_0x2b5a53(0x668)];_0x19e729=(await this['findAndUpdateCacheContact'](_0x2b501d,_0x5efae3[_0x2b5a53(0x522)],!0x1))[_0x2b5a53(0x5c4)][_0x2b5a53(0x164)];}let _0x59f6ab={'_id':_0x5efae3[_0x2b5a53(0x1e3)]['id'],'key':_0x5efae3[_0x2b5a53(0x1e3)],'isGroup':_0x939c82,'profilePictureUrl':_0x19e729,'pushName':_0x5efae3[_0x2b5a53(0x522)],'message':_0xf795c1,'messageType':_0x5b3014,'message_normalized':{'key':_0x5efae3[_0x2b5a53(0x1e3)],'pushName':_0x5efae3[_0x2b5a53(0x522)],'messageTimestamp':_0x5efae3['messageTimestamp'],'source':(0x0,w[_0x2b5a53(0x440)])(_0x5efae3[_0x2b5a53(0x1e3)]['id']),..._0x1cd323},'messageTimestamp':_0x5efae3[_0x2b5a53(0x22b)],'owner':this[_0x2b5a53(0x2a1)][_0x2b5a53(0x6c1)],'source':(0x0,w[_0x2b5a53(0x440)])(_0x5efae3['key']['id']),'expiration':_0x5276bb?.['contextInfo']?.['expiration']||0x0};if(_0x5276bb||(this['logger'][_0x2b5a53(0x6f3)](_0x2b5a53(0x173)),this[_0x2b5a53(0x5c7)][_0x2b5a53(0x6f3)](_0x59f6ab)),_0x1cd323[_0x2b5a53(0x24e)]===_0x2b5a53(0x358)){console['error'](_0x2b5a53(0x42e)),await this[_0x2b5a53(0x829)](_0x5efae3);continue;}this['logger'][_0x2b5a53(0x4c0)](this[_0x2b5a53(0x87e)]+'\x20('+this[_0x2b5a53(0x2a1)][_0x2b5a53(0x6c1)]+_0x2b5a53(0x77c)+(_0x59f6ab[_0x2b5a53(0x1e3)]?.[_0x2b5a53(0x210)]?_0x2b5a53(0x503):'recebido\x20de')+'\x20['+_0x59f6ab[_0x2b5a53(0x1e3)]?.[_0x2b5a53(0x668)]['replace']('@s.whatsapp.net','')+']\x20('+_0x59f6ab[_0x2b5a53(0x15f)]+')'),_0x59f6ab['message_normalized']?.['text']&&this[_0x2b5a53(0x5c7)]['log'](_0x5efae3[_0x2b5a53(0x1e3)]['id']+':\x20'+_0x59f6ab[_0x2b5a53(0x18f)]?.[_0x2b5a53(0x24e)]),await this[_0x2b5a53(0x20b)][_0x2b5a53(0x80a)][_0x2b5a53(0x883)]([_0x59f6ab],this['instance'][_0x2b5a53(0x6c1)]),this[_0x2b5a53(0x703)](_0x2b5a53(0x60a),_0x59f6ab),F(this['instanceName'],_0x2b5a53(0x204),{'message':_0x59f6ab}),_0x5efae3[_0x2b5a53(0x1e3)][_0x2b5a53(0x668)]!==_0x2b5a53(0x28a)&&await this[_0x2b5a53(0x1e6)](_0x1fd955,_0x59f6ab,'MESSAGES_UPSERT');}},'messages.update':async(_0x23a997,_0x5a5c18)=>{const _0x266c15=_0x3a441f;let _0x410388={0x0:_0x266c15(0x4ac),0x1:'PENDING',0x2:'SERVER_ACK',0x3:_0x266c15(0x3f8),0x4:_0x266c15(0x145),0x5:'PLAYED'};for await(let {key:_0x2337f9,update:_0xf582a2}of _0x23a997){if(this[_0x266c15(0x702)]?.[_0x266c15(0x7ab)]&&_0x2337f9[_0x266c15(0x668)][_0x266c15(0x81c)](_0x266c15(0x43a))){this[_0x266c15(0x5c7)][_0x266c15(0x7df)](this[_0x266c15(0x87e)]+'\x20('+this[_0x266c15(0x2a1)]['wuid']+_0x266c15(0x521));return;}if(_0x2337f9['remoteJid']!==_0x266c15(0x28a)){let _0xee9a22=Date[_0x266c15(0x776)](),_0x4388d2;_0xf582a2['message']===null&&_0xf582a2[_0x266c15(0x41e)]===void 0x0?_0x4388d2=_0x266c15(0x46a):_0x4388d2=_0x410388[_0xf582a2[_0x266c15(0x41e)]];let _0x3479bd=_0x2337f9[_0x266c15(0x668)][_0x266c15(0x2af)](/:\d{1,2}@/g,'@'),_0x528ee0={..._0x2337f9,'remoteJid':_0x3479bd,'status':_0x4388d2,'datetime':_0xee9a22,'owner':this[_0x266c15(0x2a1)][_0x266c15(0x6c1)]};this[_0x266c15(0x703)](_0x266c15(0x22e),_0x528ee0),await this['updateMessage'](_0x2337f9,_0x528ee0);}}},'labels.association':async({type:_0x301b0f,association:_0xfb5b6c})=>{const _0xc9de55=_0x3a441f;if(_0xfb5b6c[_0xc9de55(0x279)]===_0xc9de55(0x376)){let _0x24e601,_0x19adc5=0x0;for(;!_0x24e601&&_0x19adc5<this[_0xc9de55(0x730)];)_0x24e601=await this[_0xc9de55(0x20b)][_0xc9de55(0x789)][_0xc9de55(0x875)]({'where':{'_id':_0xfb5b6c[_0xc9de55(0x7fa)]}},this[_0xc9de55(0x2a1)][_0xc9de55(0x6c1)]),_0x24e601||(_0x19adc5++,this[_0xc9de55(0x5c7)]['info'](this[_0xc9de55(0x87e)]+'\x20('+this[_0xc9de55(0x2a1)][_0xc9de55(0x6c1)]+'):\x20Chat\x20'+_0xfb5b6c['chatId']+_0xc9de55(0x5bd)+this[_0xc9de55(0x110)]+_0xc9de55(0x889)+_0x19adc5+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this[_0xc9de55(0x770)](this[_0xc9de55(0x110)]));if(!_0x24e601){this['logger'][_0xc9de55(0x6f3)]('Falhou\x20ao\x20encontrar\x20chat\x20'+_0xfb5b6c[_0xc9de55(0x7fa)]+_0xc9de55(0x68e)+this[_0xc9de55(0x730)]+'\x20tentativas.');return;}switch(_0x301b0f){case _0xc9de55(0x2a2):console[_0xc9de55(0x4c0)](_0xfb5b6c),await this[_0xc9de55(0x20b)][_0xc9de55(0x789)][_0xc9de55(0x41a)]({'where':{'_id':_0xfb5b6c[_0xc9de55(0x7fa)]}},{'leadInfo.etiquetas':_0xfb5b6c[_0xc9de55(0x111)]},this[_0xc9de55(0x2a1)][_0xc9de55(0x6c1)],void 0x0,_0xc9de55(0x825));break;case _0xc9de55(0x5b3):console[_0xc9de55(0x4c0)](_0xfb5b6c),await this[_0xc9de55(0x20b)]['chat']['updateOne']({'where':{'_id':_0xfb5b6c[_0xc9de55(0x7fa)]}},{'leadInfo.etiquetas':_0xfb5b6c[_0xc9de55(0x111)]},this[_0xc9de55(0x2a1)]['wuid'],void 0x0,_0xc9de55(0x529));break;default:this['logger']['error'](_0xc9de55(0x837)+_0x301b0f+']');}}},'labels.edit':async _0x4a883a=>{const _0x38f01d=_0x3a441f;if(!_0x4a883a||!_0x4a883a['id']){this['logger'][_0x38f01d(0x6f3)](_0x38f01d(0x7b9));return;}if(!_0x4a883a['deleted']){let _0x1462cf=[_0x38f01d(0x58d),_0x38f01d(0x18b),'#fed428',_0x38f01d(0x23c),_0x38f01d(0x413),_0x38f01d(0x17b),_0x38f01d(0x5e8),_0x38f01d(0x884),_0x38f01d(0x4ab),'#d8e651',_0x38f01d(0x844),_0x38f01d(0x495),_0x38f01d(0x27d),_0x38f01d(0x811),_0x38f01d(0x5d1),_0x38f01d(0x679),_0x38f01d(0x486),_0x38f01d(0x399),_0x38f01d(0x68b),_0x38f01d(0x18a)],_0x4a686c;typeof _0x4a883a[_0x38f01d(0x301)]==_0x38f01d(0x63b)&&_0x4a883a['color']>=0x0&&_0x4a883a[_0x38f01d(0x301)]<_0x1462cf[_0x38f01d(0x3b3)]?_0x4a686c=_0x1462cf[_0x4a883a['color']]:(this[_0x38f01d(0x5c7)][_0x38f01d(0x6f3)](_0x38f01d(0x681)+_0x4a883a[_0x38f01d(0x301)]),_0x4a686c=_0x38f01d(0x10f));let _0x55ed8a={'_id':_0x4a883a['id'],'colorHex':_0x4a686c,'color':_0x4a883a?.[_0x38f01d(0x301)],'name':_0x4a883a?.[_0x38f01d(0x48b)],'owner':this[_0x38f01d(0x2a1)][_0x38f01d(0x6c1)]};await this['repository'][_0x38f01d(0x727)][_0x38f01d(0x41a)]({'where':{'_id':_0x4a883a['id']}},_0x55ed8a,this[_0x38f01d(0x2a1)][_0x38f01d(0x6c1)]),this[_0x38f01d(0x5c7)][_0x38f01d(0x31c)](this['instanceName']+'\x20('+this[_0x38f01d(0x2a1)][_0x38f01d(0x6c1)]+'):\x20Rótulo\x20atualizado:\x20'+_0x4a883a);}_0x4a883a[_0x38f01d(0x323)]&&(await this[_0x38f01d(0x20b)][_0x38f01d(0x727)][_0x38f01d(0x42f)]({'where':{'_id':_0x4a883a['id']}},this[_0x38f01d(0x2a1)]['wuid']),this[_0x38f01d(0x5c7)][_0x38f01d(0x31c)](_0x38f01d(0x4c3)+_0x4a883a['id']));}},this[_0x3a441f(0x1fb)]={'groups.upsert':async _0x4abaff=>{const _0x430ca3=_0x3a441f;this[_0x430ca3(0x702)]?.[_0x430ca3(0x7ab)]||this['sendDataWebhook'](_0x430ca3(0x851),_0x4abaff);for(let _0x250d1d of _0x4abaff)await this[_0x430ca3(0x359)](_0x250d1d);},'groups.update':async _0x33d56a=>{const _0x51d0a6=_0x3a441f;this[_0x51d0a6(0x702)]?.[_0x51d0a6(0x7ab)]||this[_0x51d0a6(0x703)](_0x51d0a6(0x664),_0x33d56a);for(let _0x2101fa of _0x33d56a)await this[_0x51d0a6(0x359)](_0x2101fa);},'group-participants.update':async _0x547921=>{const _0x389002=_0x3a441f;this[_0x389002(0x702)]?.[_0x389002(0x7ab)]||this[_0x389002(0x703)](_0x389002(0x888),_0x547921),await this[_0x389002(0x660)](_0x547921);}},this['delayChatLabel_MAX_RETRIES']=0x5,this[_0x3a441f(0x110)]=0x1388,this[_0x3a441f(0x1f8)]=0x0,this[_0x3a441f(0x1c1)]=async _0x15176a=>{const _0x52bf78=_0x3a441f;if(_0x15176a[_0x52bf78(0x80a)]?.[_0x52bf78(0x2f6)]){let _0x369e16=await this[_0x52bf78(0x64f)](_0x15176a[_0x52bf78(0x80a)][_0x52bf78(0x2f6)][_0x52bf78(0x157)],!0x0);if(_0x369e16){let _0x481bfa=_0x369e16[_0x52bf78(0x1e3)][_0x52bf78(0x210)]?this[_0x52bf78(0x2a1)][_0x52bf78(0x6c1)]+_0x52bf78(0x5db):_0x369e16[_0x52bf78(0x1e3)][_0x52bf78(0x613)]||_0x369e16[_0x52bf78(0x1e3)][_0x52bf78(0x668)],_0x4b219c=_0x369e16[_0x52bf78(0x1e3)]['id'],_0x2d9641=_0x369e16['message'],_0x15bd5a=Buffer['from'](_0x2d9641[_0x52bf78(0x2d5)][_0x52bf78(0x70d)][_0x52bf78(0x663)](_0x52bf78(0x715)),_0x52bf78(0x715)),_0x5f59a6=(0x0,w[_0x52bf78(0x612)])(_0x15176a[_0x52bf78(0x80a)][_0x52bf78(0x2f6)]['vote'],{'pollCreatorJid':_0x481bfa,'pollMsgId':_0x4b219c,'pollEncKey':_0x15bd5a,'voterJid':_0x15176a['key'][_0x52bf78(0x210)]?this['instance']['wuid']+_0x52bf78(0x5db):_0x15176a[_0x52bf78(0x1e3)][_0x52bf78(0x668)][_0x52bf78(0x267)](_0x52bf78(0x81b))?_0x15176a[_0x52bf78(0x1e3)]['participant']:_0x15176a[_0x52bf78(0x1e3)][_0x52bf78(0x668)]}),_0x224c6c=[],_0x535928=_0x5f59a6[_0x52bf78(0x6db)]['map'](_0x3dfa1e=>Buffer[_0x52bf78(0x143)](_0x3dfa1e)[_0x52bf78(0x663)](_0x52bf78(0x715)));for(let {optionName:_0x17745d}of _0x2d9641[_0x52bf78(0x192)]?.[_0x52bf78(0x5aa)]||_0x2d9641[_0x52bf78(0x5a8)]?.[_0x52bf78(0x5aa)]||_0x2d9641[_0x52bf78(0x4bf)]?.[_0x52bf78(0x5aa)])_0x535928[_0x52bf78(0x5ef)]((0x0,w[_0x52bf78(0x771)])(Buffer[_0x52bf78(0x143)](_0x17745d))[_0x52bf78(0x663)](_0x52bf78(0x715)))>-0x1&&_0x224c6c[_0x52bf78(0x6dd)](_0x17745d);return _0x224c6c;}}return null;},this[_0x3a441f(0x318)]=(_0x5c8626,_0x18d2ea,_0x43603c)=>{const _0x2c57a0=_0x3a441f;try{let _0x5db7c7=_0x5c8626?(0x0,w['extractMessageContent'])(_0x5c8626)[_0x18d2ea]:void 0x0,_0x3538fb={},_0x58fd57=null,_0x870605=null,_0xfaabda=null,_0xe64425=null;_0x18d2ea===_0x2c57a0(0x43e)&&_0x5db7c7?.[_0x2c57a0(0x53c)]&&(_0x18d2ea=(0x0,w[_0x2c57a0(0x43b)])(_0x5db7c7[_0x2c57a0(0x53c)]),_0x58fd57=_0x5c8626[_0x2c57a0(0x43e)][_0x2c57a0(0x1e3)]['id'],_0x5db7c7=_0x5c8626[_0x2c57a0(0x43e)]['editedMessage'][_0x18d2ea]),_0x5c8626[_0x18d2ea]?.['contextInfo']?.[_0x2c57a0(0x312)]&&_0x5c8626[_0x18d2ea]?.[_0x2c57a0(0x3fd)]?.[_0x2c57a0(0x2a3)]&&(_0x870605=_0x5c8626[_0x18d2ea][_0x2c57a0(0x3fd)][_0x2c57a0(0x312)]),_0x5c8626[_0x2c57a0(0x696)]&&(_0xfaabda=_0x5c8626['reactionMessage'][_0x2c57a0(0x1e3)]['id']);let _0x2f0440;if(_0x5db7c7&&typeof _0x5db7c7==_0x2c57a0(0x79d)&&'pollCreationMessageKey'in _0x5db7c7&&({pollCreationMessageKey:_0x2f0440}=_0x5db7c7),_0x18d2ea===_0x2c57a0(0x192)||_0x18d2ea===_0x2c57a0(0x4bf)||_0x18d2ea===_0x2c57a0(0x5a8)){let _0x2d762d=_0x5db7c7[_0x2c57a0(0x5aa)][_0x2c57a0(0x89e)](_0x4e984d=>_0x4e984d[_0x2c57a0(0x21c)])[_0x2c57a0(0x88d)]('|');_0x3538fb[_0x2c57a0(0x2ed)]=_0x2d762d;}if(_0x18d2ea===_0x2c57a0(0x72f)){let _0x4c76f4=_0x5db7c7['nativeFlowMessage'][_0x2c57a0(0x31d)][_0x2c57a0(0x89e)](_0x315b5f=>JSON['parse'](_0x315b5f[_0x2c57a0(0x4de)])['display_text'])[_0x2c57a0(0x88d)]('|');_0x3538fb[_0x2c57a0(0x2ed)]=_0x4c76f4;}_0x18d2ea===_0x2c57a0(0x6bc)&&(_0x3538fb['buttonOrList_id']=_0x5db7c7?.[_0x2c57a0(0x708)]?.[_0x2c57a0(0x633)]);let _0x5216f1='';if(_0x5db7c7&&(_0x5216f1+=_0x5db7c7[_0x2c57a0(0x48b)]?_0x5db7c7['name']:'',_0x5216f1+=_0x5db7c7[_0x2c57a0(0x427)]?'\x20'+_0x5db7c7[_0x2c57a0(0x427)]:'',_0x5216f1+=_0x5db7c7[_0x2c57a0(0x406)]?'\x20'+_0x5db7c7['conversation']:'',_0x5216f1+=_0x5db7c7[_0x2c57a0(0x363)]?'\x20'+_0x5db7c7[_0x2c57a0(0x363)]:'',_0x18d2ea!==_0x2c57a0(0x4b0)&&(_0x5216f1+=_0x5db7c7[_0x2c57a0(0x84d)]?.[_0x2c57a0(0x24e)]?'\x20'+_0x5db7c7[_0x2c57a0(0x84d)][_0x2c57a0(0x24e)]:''),_0x5216f1+=_0x5db7c7?.['footer']?.['text']?'\x20'+_0x5db7c7?.['footer']?.[_0x2c57a0(0x24e)]:''),_0x18d2ea===_0x2c57a0(0x710)){_0x5216f1=(_0x5db7c7['title']||'')+'\x0a'+(_0x5db7c7[_0x2c57a0(0x55d)]||'')+'\x0a'+(_0x5db7c7['footerText']||'');let _0x3f9588=this[_0x2c57a0(0x2fd)](_0x5db7c7['sections']);_0x3538fb[_0x2c57a0(0x2ed)]=_0x3f9588;}if(_0x18d2ea===_0x2c57a0(0x6bc)&&(_0x43603c=_0x5db7c7[_0x2c57a0(0x7e8)],_0xe64425=_0x5db7c7?.[_0x2c57a0(0x708)]?.['selectedRowId']),_0x18d2ea===_0x2c57a0(0x4b0)){let _0x53af37=_0x5db7c7?.[_0x2c57a0(0x445)];_0x53af37&&_0x53af37[_0x2c57a0(0x48b)]===_0x2c57a0(0x199)&&(_0xe64425=JSON[_0x2c57a0(0x35b)](_0x53af37[_0x2c57a0(0x50c)])['id']),_0x43603c=_0x5db7c7?.[_0x2c57a0(0x84d)]?.['text'];}if(_0x18d2ea===_0x2c57a0(0x1ad)&&(_0x43603c=_0x5db7c7?.[_0x2c57a0(0x511)],_0xe64425=_0x5db7c7?.['selectedId']),_0x18d2ea===_0x2c57a0(0x234)&&(_0x43603c=_0x5db7c7?.[_0x2c57a0(0x511)],_0xe64425=_0x5db7c7?.['selectedButtonId']),_0x5db7c7&&_0x5db7c7[_0x2c57a0(0x514)]){let _0x99a751=this[_0x2c57a0(0x7e6)](JSON[_0x2c57a0(0x751)](_0x5db7c7[_0x2c57a0(0x514)],null,0x2));_0x5216f1=_0x5216f1+'\x0a'+_0x99a751;}if(_0x5db7c7){let {selectedButtonId:_0x214d14,nativeFlowResponseMessage:_0x2bc9da,selectedId:_0x43d1fd,selectedDisplayText:_0x4fe2c0,selectedIndex:_0x2641fc,body:_0x404f62,nativeFlowMessage:_0x86c42d,singleSelectReply:_0x45fdf5,sections:_0xce8319,listType:_0x1c2c6e,displayName:_0x1f0994,vcard:_0x3136f0,contactVcard:_0x590985,name:_0x3fd059,caption:_0x470261,conversation:_0x147b1c,pollCreationMessageKey:_0xdf5cf,footerText:_0x3580de,contentText:_0x170399,pageCount:_0x354c74,headerType:_0x34c77a,isAvatar:_0x45c4ef,isAnimated:_0x2a0583,fallbackLc:_0x1ca629,fallbackLg:_0x436e0a,namespace:_0x5b280b,elementName:_0x336452,localizableParams:_0x411039,viewOnce:_0x1ddab8,height:_0x2d8d7e,width:_0x1ddb8b,key:_0x5a8025,firstScanLength:_0x40a933,firstScanSidecar:_0x420ed6,gifPlayback:_0x3ad284,gifAttribution:_0x40f2c7,midQualityFileSha256:_0x4a195b,scansSidecar:_0x4a1b29,streamingSidecar:_0x25a9c0,thumbnailHeight:_0x3b6ef9,thumbnailWidth:_0xa893d9,thumbnailEncSha256:_0x186b03,thumbnailDirectPath:_0x40cd45,canonicalUrl:_0x29f9a6,matchedText:_0x9df926,previewType:_0x21e32b,thumbnailSha256:_0x425f77,deviceListMetadataVersion:_0x387dd9,inviteLinkGroupTypeV2:_0x90101a,interactiveAnnotations:_0xfb2f7c,scanLengths:_0x261d19,jpegThumbnail:_0x2dde67,url:_0x380194,mediaKeyTimestamp:_0x2ea7e9,waveform:_0x1de8e6,stickerSentTs:_0x3d2755,firstFrameLength:_0x376e2b,fileEncSha256:_0x183cc4,contextInfo:_0x4992d1,firstFrameSidecar:_0x43d64e,directPath:_0x4874e5,fileSha256:_0x380945,mediaKey:_0x5bd26c,senderTimestampMs:_0xac0ea4,..._0x250897}=_0x5db7c7;(_0x18d2ea==='listMessage'||_0x18d2ea===_0x2c57a0(0x6bc))&&(delete _0x250897[_0x2c57a0(0x7e8)],delete _0x250897[_0x2c57a0(0x55d)]),typeof _0x5db7c7=='string'?_0x3538fb={'text':_0x5db7c7,'type':_0x18d2ea||_0x2c57a0(0x406),..._0x58fd57&&{'edited':_0x58fd57},..._0x870605&&{'quoted':_0x870605},..._0xfaabda&&{'reaction':_0xfaabda}}:_0x3538fb={'text':_0x5216f1,..._0x250897,..._0x18d2ea===_0x2c57a0(0x2f6)?{'poll_id':_0x5db7c7[_0x2c57a0(0x157)]['id'],'quoted':_0x5db7c7[_0x2c57a0(0x157)]['id'],'vote':_0x43603c}:{},..._0x18d2ea===_0x2c57a0(0x6bc)?{'buttonOrList_id':_0xe64425,'vote':_0x43603c}:{},..._0x18d2ea===_0x2c57a0(0x4b0)?{'buttonOrList_id':_0xe64425,'vote':_0x43603c}:{},..._0x18d2ea==='templateButtonReplyMessage'?{'buttonOrList_id':_0xe64425,'vote':_0x43603c}:{},..._0x18d2ea===_0x2c57a0(0x234)?{'buttonOrList_id':_0xe64425,'vote':_0x43603c}:{},'type':_0x18d2ea,..._0x58fd57&&{'edited':_0x58fd57},..._0x870605&&{'quoted':_0x870605},..._0xfaabda&&{'reaction':_0xfaabda},...(_0x18d2ea===_0x2c57a0(0x192)||_0x18d2ea===_0x2c57a0(0x4bf)||_0x18d2ea===_0x2c57a0(0x5a8)||_0x18d2ea===_0x2c57a0(0x710)||_0x18d2ea===_0x2c57a0(0x72f))&&{'convertedOptions':_0x3538fb[_0x2c57a0(0x2ed)]}};}return{'messageType':_0x18d2ea,'messageContent':_0x5db7c7,'message_normalized':_0x3538fb};}catch(_0x15cf41){return this[_0x2c57a0(0x5c7)][_0x2c57a0(0x6f3)](_0x2c57a0(0x421)+_0x15cf41),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x3a441f(0x117)]=[],(this[_0x3a441f(0x1cb)](),this[_0x3a441f(0x67d)](),this['instance'][_0x3a441f(0x8b2)]=!0x0,this[_0x3a441f(0x2a1)][_0x3a441f(0x792)]={'count':0x0},this['instance'][_0x3a441f(0x459)]={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}[a0_0x5ae34c(0x260)](_0x427861,_0x2014d7){const _0x27e789=a0_0x5ae34c;this[_0x27e789(0x69a)][_0x427861]||(this[_0x27e789(0x69a)][_0x427861]=new Set()),this[_0x27e789(0x69a)][_0x427861][_0x27e789(0x2a2)](_0x2014d7),setTimeout(()=>this[_0x27e789(0x69a)][_0x427861][_0x27e789(0x42f)](_0x2014d7),0x2710);}[a0_0x5ae34c(0x12e)](_0x4c4f7d,_0x234fac){const _0x38fef1=a0_0x5ae34c;return this[_0x38fef1(0x69a)][_0x4c4f7d]?.['has'](_0x234fac)??!0x1;}set[a0_0x5ae34c(0x87e)](_0x22daf3){const _0x4cb339=a0_0x5ae34c;if(!_0x22daf3){this[_0x4cb339(0x2a1)][_0x4cb339(0x48b)]=(0x0,Ti['v4'])();return;}this[_0x4cb339(0x2a1)][_0x4cb339(0x48b)]=_0x22daf3,this['sendDataWebhook']('status.instance',{'instance':this[_0x4cb339(0x2a1)][_0x4cb339(0x48b)],'status':_0x4cb339(0x16c)});}get[a0_0x5ae34c(0x87e)](){const _0x44fa34=a0_0x5ae34c;return this[_0x44fa34(0x2a1)]['name'];}get['wuid'](){const _0x51dddb=a0_0x5ae34c;return this[_0x51dddb(0x2a1)][_0x51dddb(0x6c1)];}async['getProfileName'](){const _0x4871ea=a0_0x5ae34c;let _0x31e33e=this[_0x4871ea(0x454)][_0x4871ea(0x67e)]?.[_0x4871ea(0x48b)]??this[_0x4871ea(0x454)][_0x4871ea(0x67e)]?.[_0x4871ea(0x1f1)];if(!_0x31e33e){if(this[_0x4871ea(0x89b)][_0x4871ea(0x52d)](_0x4871ea(0x230))[_0x4871ea(0x3d3)]){let _0x49c716=await T[_0x4871ea(0x69d)]()['db'](this[_0x4871ea(0x89b)][_0x4871ea(0x52d)](_0x4871ea(0x230))[_0x4871ea(0x73b)]['DB_PREFIX_NAME']+'-instances')[_0x4871ea(0x43d)](this[_0x4871ea(0x87e)])[_0x4871ea(0x875)]({'_id':_0x4871ea(0x220)});if(_0x49c716){let _0x36cc4f=JSON['parse'](JSON[_0x4871ea(0x751)](_0x49c716),w['BufferJSON']['reviver']);_0x31e33e=_0x36cc4f['me']?.[_0x4871ea(0x48b)]||_0x36cc4f['me']?.['verifiedName'];}}else{if((0x0,Fe[_0x4871ea(0x36c)])((0x0,j[_0x4871ea(0x88d)])(be,this[_0x4871ea(0x87e)],_0x4871ea(0x27a)))){let _0x4c0962=JSON[_0x4871ea(0x35b)]((0x0,Fe[_0x4871ea(0x229)])((0x0,j[_0x4871ea(0x88d)])(be,this[_0x4871ea(0x87e)],'creds.json'),{'encoding':_0x4871ea(0x3c0)}));_0x31e33e=_0x4c0962['me']?.[_0x4871ea(0x48b)]||_0x4c0962['me']?.['verifiedName'];}}}return _0x31e33e;}get[a0_0x5ae34c(0x89d)](){const _0x1f2f87=a0_0x5ae34c;return this['instance'][_0x1f2f87(0x89d)];}async[a0_0x5ae34c(0x758)](){const _0x4e6d40=a0_0x5ae34c;let _0x52e949=this[_0x4e6d40(0x2a1)][_0x4e6d40(0x6c1)]+_0x4e6d40(0x5db);try{await this[_0x4e6d40(0x454)][_0x4e6d40(0x335)](_0x52e949)?this['instance'][_0x4e6d40(0x6f1)]=!0x0:this['instance'][_0x4e6d40(0x6f1)]=!0x1;}catch{this['instance'][_0x4e6d40(0x6f1)]=!0x1;}return this['logger'][_0x4e6d40(0x31c)](this[_0x4e6d40(0x87e)]+'\x20('+this[_0x4e6d40(0x2a1)]['wuid']+'):\x20Instancia\x20isBusiness:\x20'+this[_0x4e6d40(0x2a1)][_0x4e6d40(0x6f1)]),this[_0x4e6d40(0x2a1)][_0x4e6d40(0x6f1)];}get[a0_0x5ae34c(0x5cb)](){const _0x17e901=a0_0x5ae34c;return this['instance'][_0x17e901(0x8b2)]=!0x1,this[_0x17e901(0x2a1)][_0x17e901(0x792)]?.[_0x17e901(0x671)]?{'pairingCode':this['instance'][_0x17e901(0x792)]?.[_0x17e901(0x671)]}:{'code':this[_0x17e901(0x2a1)]['qrcode']?.[_0x17e901(0x34a)],'base64':this[_0x17e901(0x2a1)][_0x17e901(0x792)]?.[_0x17e901(0x8a9)]};}async[a0_0x5ae34c(0x419)](){const _0x206fa5=a0_0x5ae34c;let _0xdfaa19=await this[_0x206fa5(0x20b)][_0x206fa5(0x832)][_0x206fa5(0x42c)](this[_0x206fa5(0x87e)]);this[_0x206fa5(0x702)][_0x206fa5(0x787)]=_0xdfaa19?.[_0x206fa5(0x787)],this[_0x206fa5(0x702)][_0x206fa5(0x6af)]=_0xdfaa19?.['enabled'],this['localWebhook'][_0x206fa5(0x76c)]=_0xdfaa19?.[_0x206fa5(0x76c)],this[_0x206fa5(0x702)][_0x206fa5(0x61d)]=_0xdfaa19?.['STATUS_INSTANCE'],this[_0x206fa5(0x702)]['QRCODE_UPDATED']=_0xdfaa19?.[_0x206fa5(0x70a)],this[_0x206fa5(0x702)]['SEND_MESSAGE']=_0xdfaa19?.[_0x206fa5(0x3e0)],this['localWebhook']['MESSAGES_UPSERT']=_0xdfaa19?.['MESSAGES_UPSERT'],this['localWebhook'][_0x206fa5(0x5ca)]=_0xdfaa19?.[_0x206fa5(0x5ca)],this[_0x206fa5(0x702)]['GROUPS_UPSERT']=_0xdfaa19?.[_0x206fa5(0x2da)],this['localWebhook']['GROUPS_UPDATE']=_0xdfaa19?.[_0x206fa5(0x28d)],this['localWebhook'][_0x206fa5(0x51f)]=_0xdfaa19?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x206fa5(0x702)][_0x206fa5(0x804)]=_0xdfaa19?.[_0x206fa5(0x804)],this['localWebhook'][_0x206fa5(0x273)]=_0xdfaa19?.[_0x206fa5(0x273)],this[_0x206fa5(0x702)][_0x206fa5(0x2a4)]=_0xdfaa19?.[_0x206fa5(0x2a4)],this[_0x206fa5(0x702)][_0x206fa5(0x1b9)]=_0xdfaa19?.[_0x206fa5(0x1b9)],this[_0x206fa5(0x702)]['CONTACTS_SET']=_0xdfaa19?.[_0x206fa5(0x71e)],this['localWebhook'][_0x206fa5(0x4ca)]=_0xdfaa19?.[_0x206fa5(0x4ca)],this[_0x206fa5(0x702)][_0x206fa5(0x37a)]=_0xdfaa19?.['CONTACTS_UPDATE'],this[_0x206fa5(0x702)][_0x206fa5(0x762)]=_0xdfaa19?.[_0x206fa5(0x762)],this[_0x206fa5(0x702)]['MESSAGES_SET']=_0xdfaa19?.['MESSAGES_SET'],this['localWebhook']['CONNECTION_UPDATE']=_0xdfaa19?.[_0x206fa5(0x535)],this['localWebhook']['groups_ignore']=_0xdfaa19?.[_0x206fa5(0x7ab)];}async[a0_0x5ae34c(0x1cd)](_0x4ccc44){const _0x505f03=a0_0x5ae34c;let _0x451525=[_0x505f03(0x579),'url',_0x505f03(0x6af),_0x505f03(0x76c),'STATUS_INSTANCE',_0x505f03(0x70a),'MESSAGES_UPDATE','MESSAGES_UPSERT',_0x505f03(0x3e0),'GROUPS_UPSERT',_0x505f03(0x28d),_0x505f03(0x51f),_0x505f03(0x804),'CHATS_UPSERT',_0x505f03(0x2a4),_0x505f03(0x1b9),_0x505f03(0x71e),'CONTACTS_UPSERT',_0x505f03(0x37a),_0x505f03(0x762),_0x505f03(0x38c),_0x505f03(0x535),_0x505f03(0x7ab)],_0x3447b6={};return _0x451525[_0x505f03(0x478)](_0x1602ea=>{_0x4ccc44[_0x1602ea]!==void 0x0&&(_0x3447b6[_0x1602ea]=_0x4ccc44[_0x1602ea]);}),_0x3447b6[_0x505f03(0x787)]&&(_0x3447b6[_0x505f03(0x787)]=_0x3447b6['url'][_0x505f03(0x1b6)]()),await this['repository'][_0x505f03(0x832)][_0x505f03(0x591)](_0x3447b6,this[_0x505f03(0x87e)]),Object[_0x505f03(0x41f)](this['localWebhook'],_0x3447b6),await this[_0x505f03(0x20b)]['webhook'][_0x505f03(0x42c)](this[_0x505f03(0x87e)]);}async[a0_0x5ae34c(0x507)](){const _0xfd405c=a0_0x5ae34c;return await this[_0xfd405c(0x20b)][_0xfd405c(0x832)][_0xfd405c(0x42c)](this[_0xfd405c(0x87e)]);}async[a0_0x5ae34c(0x703)](_0x1591aa,_0x13e162){const _0x56a7bc=a0_0x5ae34c;let _0x47034a=_0x1591aa['replace'](/[\.-]/gm,'_')[_0x56a7bc(0x25e)](),_0x569f9d=this['localWebhook'][_0x56a7bc(0x6af)]&&(0x0,J[_0x56a7bc(0x129)])(this['localWebhook'][_0x56a7bc(0x787)])?this['localWebhook']['url']+(this[_0x56a7bc(0x702)]['local_map']?this[_0x56a7bc(0x442)][_0x1591aa]:''):null,_0x15df9a=this[_0x56a7bc(0x702)][_0x47034a],_0x4cf6d4=de&&de['enabled']&&(0x0,J[_0x56a7bc(0x129)])(de[_0x56a7bc(0x787)])?de[_0x56a7bc(0x787)]+(de[_0x56a7bc(0x76c)]?this[_0x56a7bc(0x442)][_0x1591aa]:''):null,_0x71b82=de?de[_0x47034a]:null;if(_0x15df9a&&_0x569f9d)try{await K[_0x56a7bc(0x509)][_0x56a7bc(0x591)]({'baseURL':_0x569f9d})[_0x56a7bc(0x256)]('',{'event':_0x1591aa,'instance':this[_0x56a7bc(0x2a1)][_0x56a7bc(0x48b)],'apikey':this[_0x56a7bc(0x2a1)]['apikey'],'data':_0x13e162}),this['logger'][_0x56a7bc(0x4c0)](this[_0x56a7bc(0x87e)]+'\x20('+this['instance'][_0x56a7bc(0x6c1)]+'):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x1591aa+':\x20'+_0x569f9d);}catch{this['logger'][_0x56a7bc(0x6f3)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x56a7bc(0x89a)+_0x1591aa+':\x20'+_0x569f9d);}if(_0x71b82&&_0x4cf6d4)try{await K[_0x56a7bc(0x509)][_0x56a7bc(0x591)]({'baseURL':_0x4cf6d4})[_0x56a7bc(0x256)]('',{'event':_0x1591aa,'instance':this['instance']['name'],'apikey':this[_0x56a7bc(0x2a1)][_0x56a7bc(0x471)],'data':_0x13e162}),this['logger'][_0x56a7bc(0x4c0)](this['instanceName']+'\x20('+this[_0x56a7bc(0x2a1)][_0x56a7bc(0x6c1)]+_0x56a7bc(0x3d8)+_0x1591aa+':\x20'+_0x4cf6d4);}catch{this['logger'][_0x56a7bc(0x6f3)](this['instanceName']+'\x20('+this[_0x56a7bc(0x2a1)]['wuid']+_0x56a7bc(0x337)+_0x1591aa+':\x20'+_0x4cf6d4);}}async['connectionUpdate']({qr:_0x2a7b0f,connection:_0x5a2913,lastDisconnect:_0x47ebee}){const _0x325641=a0_0x5ae34c;if(_0x2a7b0f){if(this[_0x325641(0x2a1)][_0x325641(0x792)][_0x325641(0x7b5)]===Lo)return this[_0x325641(0x703)](_0x325641(0x4c2),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':w[_0x325641(0x449)]['badSession']}),this[_0x325641(0x603)]={'state':_0x325641(0x184),'statusReason':w[_0x325641(0x449)][_0x325641(0x5d8)]},this[_0x325641(0x703)](_0x325641(0x261),{'instance':this[_0x325641(0x2a1)][_0x325641(0x48b)],...this[_0x325641(0x603)]}),this[_0x325641(0x703)](_0x325641(0x607),{'instance':this['instance']['name'],'status':_0x325641(0x756)}),this['repository'][_0x325641(0x3cb)][_0x325641(0x42f)](this['instance'][_0x325641(0x48b)]),this['endSession']=!0x0,this[_0x325641(0x316)][_0x325641(0x7aa)](_0x325641(0x297),this[_0x325641(0x2a1)][_0x325641(0x48b)]);this['instance'][_0x325641(0x792)][_0x325641(0x7b5)]++;let _0x2e7851={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':_0x325641(0x10f)}};Ii[_0x325641(0x509)][_0x325641(0x59c)](_0x2a7b0f,_0x2e7851,(_0x32d1f1,_0x4f7c2e)=>{const _0x1b5f80=_0x325641;if(_0x32d1f1){this[_0x1b5f80(0x5c7)][_0x1b5f80(0x6f3)](this[_0x1b5f80(0x87e)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x32d1f1 instanceof Error?_0x32d1f1[_0x1b5f80(0x80a)]:JSON[_0x1b5f80(0x751)](_0x32d1f1,null,0x2)));return;}this['instance']['qrcode'][_0x1b5f80(0x8a9)]=_0x4f7c2e,this[_0x1b5f80(0x2a1)][_0x1b5f80(0x792)][_0x1b5f80(0x34a)]=_0x2a7b0f,!this[_0x1b5f80(0x64c)]&&this[_0x1b5f80(0x703)](_0x1b5f80(0x4c2),{'qrcode':{'instance':this[_0x1b5f80(0x2a1)]['name'],'pairingCode':this['instance']['qrcode']['pairingCode'],'code':_0x2a7b0f,'base64':_0x4f7c2e}});}),this[_0x325641(0x64c)]?this[_0x325641(0x2a1)][_0x325641(0x792)][_0x325641(0x671)]||(await(0x0,w[_0x325641(0x371)])(0x7d0),this[_0x325641(0x2a1)][_0x325641(0x792)]['pairingCode']=await this[_0x325641(0x454)][_0x325641(0x79f)](this['phoneNumber'])):this['instance']['qrcode']['pairingCode']=null,_i[_0x325641(0x509)][_0x325641(0x1a2)](_0x2a7b0f,{'small':!0x0},_0x38efd3=>this['logger'][_0x325641(0x4c0)](_0x325641(0x8b0)+this['instance']['name']+_0x325641(0x386)+this['instance'][_0x325641(0x792)]['count']+_0x325641(0x491)+this[_0x325641(0x2a1)][_0x325641(0x792)][_0x325641(0x671)]+_0x325641(0x65c)+_0x38efd3));}if(_0x5a2913&&(this[_0x325641(0x603)]={'state':_0x5a2913,'statusReason':_0x47ebee?.['error']?.[_0x325641(0x5bb)]?.[_0x325641(0x4db)]??0xc8},this[_0x325641(0x703)]('connection.update',{'instance':this[_0x325641(0x2a1)]['name'],...this[_0x325641(0x603)]})),_0x5a2913===_0x325641(0x3b2)){if(_0x47ebee[_0x325641(0x6f3)]?.[_0x325641(0x5bb)]?.['statusCode']!==w['DisconnectReason'][_0x325641(0x64e)]&&(this['reconnectAttempts']<0x21||this[_0x325641(0x2a1)][_0x325641(0x459)][_0x325641(0x6a1)])){this['reconnectAttempts']++,this['reconnectTimestamps'][_0x325641(0x6dd)](Date['now']()),this[_0x325641(0x77e)]=this[_0x325641(0x77e)][_0x325641(0x252)](_0x59471c=>Date[_0x325641(0x776)]()-_0x59471c<this[_0x325641(0x3aa)]);let _0x15e322=this[_0x325641(0x367)]<=0x1?0x0:Math[_0x325641(0x60d)](Math[_0x325641(0x4ce)](0x2,this[_0x325641(0x367)]-0x1)*0x3e8,0x493e0);console[_0x325641(0x4c0)](this[_0x325641(0x87e)]+_0x325641(0x899)+this[_0x325641(0x367)]+_0x325641(0x239)+_0x15e322/0x3e8+_0x325641(0x438)),await new Promise(_0x4197d3=>setTimeout(_0x4197d3,_0x15e322)),console['log'](_0x325641(0x3bb)),await this[_0x325641(0x4ed)]();}else{this[_0x325641(0x703)](_0x325641(0x607),{'instance':this['instance'][_0x325641(0x48b)],'status':_0x325641(0x756)}),this[_0x325641(0x2a1)][_0x325641(0x459)][_0x325641(0x6a1)]=!0x1,this[_0x325641(0x20b)]['webhook'][_0x325641(0x42f)](this[_0x325641(0x87e)]),this[_0x325641(0x20b)][_0x325641(0x3cb)][_0x325641(0x591)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x325641(0x776)]()},this[_0x325641(0x2a1)][_0x325641(0x48b)]);try{this[_0x325641(0x5c7)][_0x325641(0x7df)](this[_0x325641(0x87e)]+'\x20('+this[_0x325641(0x2a1)][_0x325641(0x6c1)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x417584=await this[_0x325641(0x20b)][_0x325641(0x80a)][_0x325641(0x72d)](this[_0x325641(0x2a1)][_0x325641(0x6c1)]);_0x417584['success']?this[_0x325641(0x5c7)][_0x325641(0x7df)](this[_0x325641(0x87e)]+'\x20('+this[_0x325641(0x2a1)][_0x325641(0x6c1)]+_0x325641(0x53f)):this['logger'][_0x325641(0x6f3)](_0x325641(0x747)+_0x417584[_0x325641(0x6f3)]);}catch(_0x4cec5b){this['logger'][_0x325641(0x6f3)](_0x325641(0x544)+_0x4cec5b[_0x325641(0x80a)]);}this[_0x325641(0x2a1)][_0x325641(0x459)]['delayMessage']!==null&&(this[_0x325641(0x5c7)][_0x325641(0x7df)](this['instanceName']+'\x20('+this[_0x325641(0x2a1)][_0x325641(0x6c1)]+_0x325641(0x6cf)),clearInterval(this['instance'][_0x325641(0x459)][_0x325641(0x709)]),this[_0x325641(0x2a1)][_0x325641(0x459)][_0x325641(0x709)]=null),this[_0x325641(0x5c7)][_0x325641(0x7df)](this['instanceName']+'\x20('+this[_0x325641(0x2a1)]['wuid']+'):\x20Limpando\x20AutomateSystem'),this[_0x325641(0x541)]=null,this[_0x325641(0x316)][_0x325641(0x7aa)](_0x325641(0x647),this[_0x325641(0x2a1)][_0x325641(0x48b)],'inner'),this[_0x325641(0x454)]?.['ws']?.[_0x325641(0x3b2)](),this[_0x325641(0x454)][_0x325641(0x562)](new Error(_0x325641(0x328)));}}if(_0x5a2913===_0x325641(0x83a)){this[_0x325641(0x5c7)][_0x325641(0x4cf)](this[_0x325641(0x87e)]+'\x20('+this[_0x325641(0x2a1)]['wuid']+_0x325641(0x3bf)+this[_0x325641(0x454)]['authState'][_0x325641(0x220)]?.[_0x325641(0x498)]),this[_0x325641(0x454)][_0x325641(0x7ca)][_0x325641(0x220)]?.[_0x325641(0x498)]||(this[_0x325641(0x5c7)][_0x325641(0x4cf)](this[_0x325641(0x87e)]+'\x20('+this[_0x325641(0x2a1)]['wuid']+_0x325641(0x58b)),this[_0x325641(0x454)]['ev'][_0x325641(0x262)]()),this['resetReconnectionVariables'],this[_0x325641(0x2a1)][_0x325641(0x6c1)]=this[_0x325641(0x454)][_0x325641(0x67e)]['id']['replace'](/:\d+/,'')[_0x325641(0x2af)](_0x325641(0x5db),''),this['instance'][_0x325641(0x89d)]=(await this[_0x325641(0x783)](this[_0x325641(0x2a1)][_0x325641(0x6c1)]+_0x325641(0x5db)))['profilePictureUrl'],this[_0x325641(0x20b)]['auth'][_0x325641(0x591)]({'online':!0x0,'owner':this[_0x325641(0x2a1)]['wuid'],'lastDisconnect':null},this[_0x325641(0x2a1)][_0x325641(0x48b)]);let _0x55057f='Número:\x20'+this['instance'][_0x325641(0x6c1)],_0x567e11=0x28,_0x272bc1=Math[_0x325641(0x7f0)]((_0x567e11-_0x55057f[_0x325641(0x3b3)])/0x2),_0xa7da8d='\x20'[_0x325641(0x343)](_0x272bc1),_0x5757b9=_0x325641(0x810),_0x326063=_0x325641(0x4f3)+this[_0x325641(0x2a1)][_0x325641(0x48b)],_0x1f8cc5=(''+_0xa7da8d+_0x55057f+_0xa7da8d)[_0x325641(0x305)](_0x567e11,'\x20'),_0x3722f2=(''+_0xa7da8d+_0x5757b9+_0xa7da8d)['padEnd'](_0x567e11,'\x20'),_0x72f36f=(''+_0xa7da8d+_0x326063+_0xa7da8d)['padEnd'](_0x567e11,'\x20'),_0x4f9c8c=Math[_0x325641(0x320)](_0x1f8cc5[_0x325641(0x3b3)],_0x3722f2[_0x325641(0x3b3)],_0x72f36f[_0x325641(0x3b3)]),_0x48d0e1=_0x1f8cc5[_0x325641(0x305)](_0x4f9c8c,'\x20'),_0x5516b9=_0x3722f2[_0x325641(0x305)](_0x4f9c8c,'\x20'),_0x47538f=_0x72f36f[_0x325641(0x305)](_0x4f9c8c,'\x20');this[_0x325641(0x5c7)][_0x325641(0x31c)]((_0x325641(0x88c)+'─'[_0x325641(0x343)](_0x4f9c8c)+_0x325641(0x396)+_0x5516b9+_0x325641(0x72e)+_0x47538f+_0x325641(0x72e)+_0x48d0e1+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'[_0x325641(0x343)](_0x4f9c8c)+'┘')[_0x325641(0x2af)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x325641(0x2a1)][_0x325641(0x459)]['isConnected']=!0x0;}}[a0_0x5ae34c(0x5ab)](){const _0x42d074=a0_0x5ae34c;this[_0x42d074(0x367)]=0x0,this[_0x42d074(0x77e)]=[];}async['getMessage'](_0x1fc9fb,_0x69ea81=!0x1){const _0x4b4995=a0_0x5ae34c;try{let _0xf0befb=await this['repository'][_0x4b4995(0x80a)][_0x4b4995(0x42c)]({'where':{'_id':_0x1fc9fb['id']}},this[_0x4b4995(0x2a1)][_0x4b4995(0x6c1)]);return _0x69ea81?_0xf0befb[0x0]:_0xf0befb[0x0][_0x4b4995(0x80a)];}catch{return{'conversation':''};}}[a0_0x5ae34c(0x1cb)](){const _0x1aa114=a0_0x5ae34c;let _0x5ad3eb=this[_0x1aa114(0x89b)][_0x1aa114(0x52d)]('STORE'),_0x2280ed=this[_0x1aa114(0x89b)]['get']('DATABASE');_0x5ad3eb?.[_0x1aa114(0x107)]&&!_0x2280ed[_0x1aa114(0x3d3)]&&setInterval(()=>{const _0x11fbb3=_0x1aa114;try{for(let [_0x3f2fe4,_0xd43f15]of Object[_0x11fbb3(0x7e4)](_0x5ad3eb))_0xd43f15===!0x0&&(0x0,Ue[_0x11fbb3(0x594)])(_0x11fbb3(0x84a)+(0x0,j[_0x11fbb3(0x88d)])(this[_0x11fbb3(0x266)],_0x3f2fe4[_0x11fbb3(0x873)](),this['instance'][_0x11fbb3(0x6c1)])+'/*.json');}catch{}},(_0x5ad3eb?.[_0x1aa114(0x107)]??0xe10)*0x3e8);}async[a0_0x5ae34c(0x5ba)](){const _0x5497cd=a0_0x5ae34c;let _0x3dedbe=this[_0x5497cd(0x89b)][_0x5497cd(0x52d)](_0x5497cd(0x230)),_0x14c087=this['configService'][_0x5497cd(0x52d)](_0x5497cd(0x746));return _0x14c087?.[_0x5497cd(0x3d3)]?await Os(_0x14c087,this['instance']['name']):_0x3dedbe['ENABLED']?await _s(this[_0x5497cd(0x2a1)][_0x5497cd(0x48b)]):await(0x0,w['useMultiFileAuthState'])((0x0,j[_0x5497cd(0x88d)])(be,this[_0x5497cd(0x2a1)]['name']));}async['AutomateFunctions'](){const _0x423c4c=a0_0x5ae34c;let _0x55e120=()=>Math[_0x423c4c(0x7f0)](Math[_0x423c4c(0x302)]()*0x4e21)+0x7d0,_0x1a68ca=async()=>{const _0x6ca653=_0x423c4c;if(!this[_0x6ca653(0x2a1)][_0x6ca653(0x459)][_0x6ca653(0x6a1)]){this[_0x6ca653(0x5c7)][_0x6ca653(0x7df)](this[_0x6ca653(0x87e)]+'\x20('+this['instance'][_0x6ca653(0x6c1)]+_0x6ca653(0x375)),this['isRunning']=!0x1;return;}if(this['instance'][_0x6ca653(0x6c1)]&&this['AutomateSystem']&&this[_0x6ca653(0x2a1)]['ScheduleMessage']['delayMessage']!==null&&this['instance']['ScheduleMessage'][_0x6ca653(0x709)]!==void 0x0){let _0x25cae4=Math['round'](this[_0x6ca653(0x2a1)][_0x6ca653(0x459)][_0x6ca653(0x709)]/0xea60);this['logger']['verbose'](this[_0x6ca653(0x87e)]+'\x20('+this[_0x6ca653(0x2a1)]['wuid']+_0x6ca653(0x6eb)+_0x25cae4+_0x6ca653(0x4d4)),this[_0x6ca653(0x6cc)]=!0x1;return;}else this['instance'][_0x6ca653(0x6c1)]&&(this[_0x6ca653(0x5c7)]['verbose'](this[_0x6ca653(0x87e)]+'\x20('+this[_0x6ca653(0x2a1)][_0x6ca653(0x6c1)]+_0x6ca653(0x5c9)),this['AutomateSystem']||(await this[_0x6ca653(0x278)](),this[_0x6ca653(0x6d1)](),this[_0x6ca653(0x83e)]()),(this['instance']['ScheduleMessage'][_0x6ca653(0x709)]===null||this[_0x6ca653(0x2a1)][_0x6ca653(0x459)][_0x6ca653(0x709)]===void 0x0)&&await this[_0x6ca653(0x61f)]());if(this[_0x6ca653(0x6cc)]){let _0x378546=_0x55e120();this[_0x6ca653(0x5c7)][_0x6ca653(0x7df)](this[_0x6ca653(0x87e)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x378546/0x3e8+_0x6ca653(0x58f)),setTimeout(_0x1a68ca,_0x378546);}};if(this[_0x423c4c(0x6cc)])return;this[_0x423c4c(0x6cc)]=!0x0;let _0x461287=_0x55e120();setTimeout(_0x1a68ca,_0x461287);}async['synchronizeAndMapFlows'](){const _0x192b94=a0_0x5ae34c;let _0x399f6b=this[_0x192b94(0x2a1)]['wuid'];try{let _0x2eedf7=await this[_0x192b94(0x20b)]['flow'][_0x192b94(0x2ef)]({'where':{'$or':[{'owner':_0x399f6b},{'whoCanUse':{'$in':[_0x399f6b]}},{'shareOwners':{'$in':[_0x399f6b]}}]}}),_0x4136a2=new Map(this[_0x192b94(0x541)][_0x192b94(0x7dc)][_0x192b94(0x89e)](_0x16e878=>[_0x16e878[_0x192b94(0x579)],_0x16e878])),_0x69d19d=_0x2eedf7['map'](_0x1d7839=>{const _0x3ac945=_0x192b94;let _0x51025b=_0x4136a2[_0x3ac945(0x52d)](_0x1d7839[_0x3ac945(0x579)]?.[_0x3ac945(0x663)]());return{'_id':_0x1d7839['_id']?.[_0x3ac945(0x663)](),'name':_0x51025b?.[_0x3ac945(0x48b)]??_0x1d7839['name'],'default':_0x51025b?.['default']??_0x1d7839[_0x3ac945(0x509)]??!0x1,'startCommand':_0x51025b?.[_0x3ac945(0x887)]??_0x1d7839[_0x3ac945(0x176)],'minutesToClose':_0x51025b?.['minutesToClose']??_0x1d7839['minutesToClose']??0xa,'readMessages':_0x51025b?.[_0x3ac945(0x379)]??_0x1d7839[_0x3ac945(0x379)]??!0x1,'testingWith':_0x51025b?.[_0x3ac945(0x831)]??_0x1d7839['testingWith'],'canEdit':_0x1d7839[_0x3ac945(0x1da)]===_0x399f6b||(_0x1d7839[_0x3ac945(0x6b4)]??[])[_0x3ac945(0x81c)](_0x399f6b),'usersCount':(_0x1d7839[_0x3ac945(0x808)]??[])[_0x3ac945(0x3b3)]??0x0};}),_0x1ff982=!0x1;_0x69d19d[_0x192b94(0x478)](_0x26cf3a=>{_0x26cf3a['default']&&(_0x1ff982?_0x26cf3a['default']=!0x1:_0x1ff982=!0x0);}),this[_0x192b94(0x541)][_0x192b94(0x7dc)]=_0x69d19d;let _0x51dac1={'flows':_0x69d19d};return await this[_0x192b94(0x20b)][_0x192b94(0x570)][_0x192b94(0x15a)](_0x51dac1,_0x399f6b),this[_0x192b94(0x5c7)][_0x192b94(0x7df)](this['instanceName']+'\x20('+_0x399f6b+_0x192b94(0x405)),_0x69d19d[_0x192b94(0x3b3)];}catch(_0x24596b){return this['logger'][_0x192b94(0x6f3)](this['instanceName']+'\x20('+_0x399f6b+_0x192b94(0x4a4)+(_0x24596b instanceof Error?_0x24596b[_0x192b94(0x80a)]:JSON['stringify'](_0x24596b,null,0x2))),{'message':_0x192b94(0x4d7)+(_0x24596b instanceof Error?_0x24596b[_0x192b94(0x80a)]:JSON[_0x192b94(0x751)](_0x24596b,null,0x2))};}}async[a0_0x5ae34c(0x4ed)](_0x4ebacc){const _0x4aac04=a0_0x5ae34c;try{let _0x1c6198=await this[_0x4aac04(0x20b)][_0x4aac04(0x2a1)][_0x4aac04(0x875)]({'where':{'_id':he+'-'+this[_0x4aac04(0x87e)]}}),_0x277aed,_0x5884e3=!Le[_0x4aac04(0x243)]||!Le[_0x4aac04(0x67f)];console[_0x4aac04(0x4c0)](_0x4aac04(0x1ee)),console[_0x4aac04(0x4c0)](_0x4aac04(0x6c2),Ai),console[_0x4aac04(0x4c0)]('this.reconnectAttempts:\x20',this[_0x4aac04(0x367)]),console[_0x4aac04(0x4c0)]('--------------------------------------'),Ai&&!_0x5884e3&&(this[_0x4aac04(0x367)]<0x4||!this[_0x4aac04(0x367)]?_0x1c6198&&_0x1c6198['ip']?(_0x277aed=_0x1c6198['ip'],console[_0x4aac04(0x4c0)](_0x4aac04(0x50a)+_0x277aed)):(_0x277aed=await Le[_0x4aac04(0x410)](he,this[_0x4aac04(0x2a1)][_0x4aac04(0x48b)]),_0x277aed?(console[_0x4aac04(0x4c0)](_0x4aac04(0x14d)+_0x277aed),await(0x0,w[_0x4aac04(0x371)])(0x7d0)):console['error'](_0x4aac04(0x4bc))):this[_0x4aac04(0x367)]<0x6&&(console[_0x4aac04(0x4c0)](_0x4aac04(0x7f7)),_0x277aed=await Le[_0x4aac04(0x410)](he,this['instance'][_0x4aac04(0x48b)]),_0x277aed?(console['log']('Novo\x20IP\x20criado:\x20'+_0x277aed),await(0x0,w[_0x4aac04(0x371)])(0x7d0)):console['error'](_0x4aac04(0x8a6)))),this['loadWebhook'](),this[_0x4aac04(0x2a1)][_0x4aac04(0x471)]=(await this[_0x4aac04(0x20b)][_0x4aac04(0x3cb)][_0x4aac04(0x42c)](this[_0x4aac04(0x2a1)][_0x4aac04(0x48b)]))[_0x4aac04(0x471)],this[_0x4aac04(0x2a1)][_0x4aac04(0x7ca)]=await this[_0x4aac04(0x5ba)]();let _0x459ddc=[xi,Us,(0x0,ks[_0x4aac04(0x704)])()],_0x155489={'localAddress':_0x277aed,'auth':{'creds':this[_0x4aac04(0x2a1)][_0x4aac04(0x7ca)][_0x4aac04(0x8a0)][_0x4aac04(0x220)],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this[_0x4aac04(0x2a1)][_0x4aac04(0x7ca)][_0x4aac04(0x8a0)]['keys'],(0x0,Ft[_0x4aac04(0x509)])({'level':_0x4aac04(0x6f3)}))},'logger':(0x0,Ft[_0x4aac04(0x509)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x4ebacc?[_0x4aac04(0x842),Us,(0x0,ks[_0x4aac04(0x704)])()]:_0x459ddc,'version':[0x2,0xbb8,0x3c8d6c7b],'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x14d7ea=>{const _0x34fb5e=_0x4aac04;let _0x26daaf=this['localWebhook']?.[_0x34fb5e(0x7ab)]&&(0x0,w['isJidGroup'])(_0x14d7ea);return(0x0,w[_0x34fb5e(0x504)])(_0x14d7ea)||_0x26daaf;},'msgRetryCounterCache':this[_0x4aac04(0x648)],'getMessage':async _0x2f0b8d=>await this[_0x4aac04(0x64f)](_0x2f0b8d),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x4aac04(0x82d)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x1f08af){const _0x3fa8e1=_0x4aac04;return _0x1f08af[_0x3fa8e1(0x7b2)]?.[_0x3fa8e1(0x80a)]?.[_0x3fa8e1(0x710)]?.['listType']===w['proto'][_0x3fa8e1(0x4cd)]['ListMessage']['ListType'][_0x3fa8e1(0x42b)]&&(_0x1f08af=JSON['parse'](JSON['stringify'](_0x1f08af)),_0x1f08af[_0x3fa8e1(0x7b2)]['message'][_0x3fa8e1(0x710)]['listType']=w[_0x3fa8e1(0x80d)][_0x3fa8e1(0x4cd)]['ListMessage'][_0x3fa8e1(0x895)][_0x3fa8e1(0x835)]),_0x1f08af[_0x3fa8e1(0x710)]?.[_0x3fa8e1(0x688)]==w[_0x3fa8e1(0x80d)][_0x3fa8e1(0x4cd)][_0x3fa8e1(0x3f9)][_0x3fa8e1(0x895)][_0x3fa8e1(0x42b)]&&(_0x1f08af=JSON[_0x3fa8e1(0x35b)](JSON[_0x3fa8e1(0x751)](_0x1f08af)),_0x1f08af[_0x3fa8e1(0x710)]['listType']=w[_0x3fa8e1(0x80d)]['Message'][_0x3fa8e1(0x3f9)][_0x3fa8e1(0x895)][_0x3fa8e1(0x835)]),_0x1f08af;}};return this[_0x4aac04(0x30d)]=!0x1,this[_0x4aac04(0x454)]=(0x0,w['default'])(_0x155489),this[_0x4aac04(0x5d6)](),this[_0x4aac04(0x64c)]=_0x4ebacc,this[_0x4aac04(0x454)];}catch(_0x8a1695){let _0x1773b0=_0x4aac04(0x6b7),_0x314565=_0x8a1695 instanceof Error?_0x8a1695[_0x4aac04(0x80a)]:typeof _0x8a1695=='object'?JSON[_0x4aac04(0x751)](_0x8a1695):_0x8a1695,_0x50d326=_0x1773b0+':\x20'+_0x314565;throw this[_0x4aac04(0x5c7)][_0x4aac04(0x6f3)](this[_0x4aac04(0x87e)]+'\x20('+this['instance']['wuid']+_0x4aac04(0x77c)+_0x50d326),console[_0x4aac04(0x6f3)](_0x4aac04(0x13d),_0x8a1695),_0x8a1695 instanceof Error&&console[_0x4aac04(0x6f3)](_0x4aac04(0x4f2),_0x8a1695['stack']),new x(_0x50d326);}}['eventHandler'](){const _0x2a9dca=a0_0x5ae34c;this[_0x2a9dca(0x454)]['ev'][_0x2a9dca(0x392)](_0x50348f=>{const _0x361529=_0x2a9dca;if(!this[_0x361529(0x30d)]){let _0x3c321a=this[_0x361529(0x89b)][_0x361529(0x52d)](_0x361529(0x230));if(_0x50348f[_0x361529(0x388)]){let _0x37ca5a=_0x50348f[_0x361529(0x388)];this[_0x361529(0x11e)][_0x361529(0x388)](_0x37ca5a);}if(_0x50348f[_0x361529(0x58a)]){let _0x42899d=_0x50348f[_0x361529(0x58a)];this[_0x361529(0x11e)]['labels.association'](_0x42899d);}if(_0x50348f[_0x361529(0x261)]&&this[_0x361529(0x391)](_0x50348f[_0x361529(0x261)]),_0x50348f[_0x361529(0x70c)]&&this[_0x361529(0x2a1)]['authState'][_0x361529(0x2b5)](),_0x50348f[_0x361529(0x2f1)]){let _0x1d21e9=_0x50348f[_0x361529(0x2f1)];this[_0x361529(0x11e)][_0x361529(0x2f1)](_0x1d21e9,_0x3c321a);}if(_0x50348f['messages.upsert']){let _0x30b00e=_0x50348f[_0x361529(0x60a)];this['messageHandle'][_0x361529(0x60a)](_0x30b00e,_0x3c321a);}if(_0x50348f[_0x361529(0x22e)]){let _0x1c455c=_0x50348f[_0x361529(0x22e)];this['messageHandle'][_0x361529(0x22e)](_0x1c455c,_0x3c321a);}if(_0x50348f[_0x361529(0x3e4)]){let _0x1326e1=_0x50348f['presence.update'];if(this[_0x361529(0x702)]?.[_0x361529(0x7ab)]&&_0x1326e1['id'][_0x361529(0x81c)](_0x361529(0x43a)))return;this[_0x361529(0x703)](_0x361529(0x3e4),_0x1326e1);}if(_0x50348f[_0x361529(0x851)]){let _0x16ff7d=_0x50348f['groups.upsert'];this[_0x361529(0x1fb)][_0x361529(0x851)](_0x16ff7d);}if(_0x50348f[_0x361529(0x664)]){let _0x28696b=_0x50348f[_0x361529(0x664)];this[_0x361529(0x1fb)][_0x361529(0x664)](_0x28696b);}if(_0x50348f[_0x361529(0x888)]){let _0x4797b3=_0x50348f['group-participants.update'];this['groupHandler'][_0x361529(0x888)](_0x4797b3);}if(_0x50348f[_0x361529(0x311)]){let _0x103f9e=_0x50348f[_0x361529(0x311)];this['chatHandle']['chats.upsert'](_0x103f9e,_0x3c321a);}if(_0x50348f[_0x361529(0x3d0)]){let _0x24325d=_0x50348f[_0x361529(0x3d0)];this['chatHandle'][_0x361529(0x3d0)](_0x24325d,_0x3c321a);}if(_0x50348f['chats.delete']){let _0x213ee0=_0x50348f['chats.delete'];this[_0x361529(0x44b)][_0x361529(0x70f)](_0x213ee0);}if(_0x50348f['contacts.upsert']){let _0x15f707=_0x50348f['contacts.upsert'];this[_0x361529(0x55a)]['contacts.upsert'](_0x15f707,_0x3c321a);}if(_0x50348f[_0x361529(0x5c0)]){let _0xed050d=_0x50348f[_0x361529(0x5c0)];this[_0x361529(0x55a)][_0x361529(0x5c0)](_0xed050d,_0x3c321a);}}});}async[a0_0x5ae34c(0x87f)](_0x32a3bd,_0x673763){const _0x55e41b=a0_0x5ae34c;if(_0x673763>=0xa){console['error'](this[_0x55e41b(0x87e)]+'\x20('+this[_0x55e41b(0x2a1)]['wuid']+_0x55e41b(0x443)),delete Lt[_0x32a3bd[_0x55e41b(0x1e3)]['id']];return;}try{console[_0x55e41b(0x6f3)](this[_0x55e41b(0x87e)]+'\x20('+this[_0x55e41b(0x2a1)][_0x55e41b(0x6c1)]+_0x55e41b(0x4d0)+(_0x673763+0x1)),await this[_0x55e41b(0x454)]['sendMessageAck'](JSON[_0x55e41b(0x35b)](_0x32a3bd[_0x55e41b(0x8a5)][0x1],w['BufferJSON'][_0x55e41b(0x1a8)])),console[_0x55e41b(0x6f3)](_0x55e41b(0x147));}catch(_0x18739f){console[_0x55e41b(0x6f3)](this['instanceName']+'\x20('+this[_0x55e41b(0x2a1)]['wuid']+_0x55e41b(0x84b)+_0x18739f),setTimeout(()=>this[_0x55e41b(0x87f)](_0x32a3bd,_0x673763+0x1),Math['pow'](0x2,_0x673763)*0x3e8);}}async[a0_0x5ae34c(0x829)](_0x56ce6f){const _0x37ea2a=a0_0x5ae34c;let _0x3ffac2=_0x56ce6f[_0x37ea2a(0x1e3)][_0x37ea2a(0x668)][_0x37ea2a(0x267)](_0x37ea2a(0x43a)),_0xbe64fc;if(_0x56ce6f[_0x37ea2a(0x1e3)][_0x37ea2a(0x210)])_0xbe64fc=this['instance'][_0x37ea2a(0x89d)];else{let _0x2623ec=_0x3ffac2?_0x56ce6f[_0x37ea2a(0x1e3)][_0x37ea2a(0x613)]:_0x56ce6f[_0x37ea2a(0x1e3)][_0x37ea2a(0x668)];_0xbe64fc=(await this['findAndUpdateCacheContact'](_0x2623ec,_0x56ce6f['pushName'],!0x1))[_0x37ea2a(0x5c4)][_0x37ea2a(0x164)];}_0x56ce6f[_0x37ea2a(0x22b)]&&_0x56ce6f[_0x37ea2a(0x22b)][_0x37ea2a(0x663)]()[_0x37ea2a(0x3b3)]<0xd&&(_0x56ce6f[_0x37ea2a(0x22b)]=_0x56ce6f[_0x37ea2a(0x22b)]*0x3e8);let _0x57a7d9={'_id':_0x56ce6f[_0x37ea2a(0x1e3)]['id'],'key':_0x56ce6f[_0x37ea2a(0x1e3)],'isGroup':_0x3ffac2,'profilePictureUrl':_0xbe64fc,'pushName':_0x56ce6f['pushName'],'message':{'text':'Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la'},'messageType':_0x37ea2a(0x6f3),'message_normalized':{'key':_0x56ce6f[_0x37ea2a(0x1e3)],'pushName':_0x56ce6f[_0x37ea2a(0x522)],'messageTimestamp':_0x56ce6f[_0x37ea2a(0x22b)],'source':(0x0,w[_0x37ea2a(0x440)])(_0x56ce6f['key']['id']),'text':'Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la'},'messageTimestamp':_0x56ce6f[_0x37ea2a(0x22b)],'owner':this[_0x37ea2a(0x2a1)]['wuid'],'source':(0x0,w[_0x37ea2a(0x440)])(_0x56ce6f['key']['id'])};this['logger']['error'](this[_0x37ea2a(0x87e)]+'\x20('+this['instance'][_0x37ea2a(0x6c1)]+'):\x20'+(_0x57a7d9[_0x37ea2a(0x1e3)]?.[_0x37ea2a(0x210)]?_0x37ea2a(0x503):'recebido\x20de')+'\x20['+_0x57a7d9[_0x37ea2a(0x1e3)]?.[_0x37ea2a(0x668)][_0x37ea2a(0x2af)](_0x37ea2a(0x5db),'')+_0x37ea2a(0x4ba)+_0x57a7d9[_0x37ea2a(0x15f)]+')'),_0x57a7d9[_0x37ea2a(0x18f)]?.[_0x37ea2a(0x24e)]&&this[_0x37ea2a(0x5c7)][_0x37ea2a(0x6f3)](_0x56ce6f['key']['id']+':\x20'+_0x57a7d9[_0x37ea2a(0x18f)]?.[_0x37ea2a(0x24e)]),await this['repository'][_0x37ea2a(0x80a)][_0x37ea2a(0x883)]([_0x57a7d9],this['instance'][_0x37ea2a(0x6c1)]),await this[_0x37ea2a(0x20b)][_0x37ea2a(0x306)][_0x37ea2a(0x883)]([_0x57a7d9]),this[_0x37ea2a(0x703)](_0x37ea2a(0x60a),_0x57a7d9),F(this[_0x37ea2a(0x87e)],_0x37ea2a(0x204),{'message':_0x57a7d9});}[a0_0x5ae34c(0x770)](_0x50fd6c){return new Promise(_0x4015cd=>setTimeout(_0x4015cd,_0x50fd6c));}[a0_0x5ae34c(0x3e3)](_0x56afc2){const _0x5ab701=a0_0x5ae34c;_0x56afc2=_0x56afc2[_0x5ab701(0x2af)](/\D/g,'');let _0x37ce89=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x5ab701(0x21f)](_0x56afc2);if(_0x37ce89&&_0x37ce89[0x1]==='55'){let _0x1d560c=_0x37ce89[0x2],_0x954634=_0x37ce89[0x3],_0x508b17=_0x37ce89[0x4];if(parseInt(_0x1d560c)>=0x1f&&_0x954634==='9')return _0x37ce89[0x1]+_0x1d560c+_0x508b17;}return _0x56afc2;}[a0_0x5ae34c(0x4d3)](_0x44c429){const _0x527c69=a0_0x5ae34c;return _0x44c429[_0x527c69(0x81c)](_0x527c69(0x43a))||_0x44c429[_0x527c69(0x81c)](_0x527c69(0x5db))||_0x44c429[_0x527c69(0x81c)](_0x527c69(0x5cd))?_0x44c429:(_0x44c429=_0x44c429?.[_0x527c69(0x2af)](/\s/g,'')[_0x527c69(0x2af)](/\+/g,'')[_0x527c69(0x2af)](/\(/g,'')['replace'](/\)/g,'')[_0x527c69(0x1a3)](/\:/)[0x0][_0x527c69(0x1a3)]('@')[0x0],_0x44c429[_0x527c69(0x3b3)]>=0x12?(_0x44c429=_0x44c429['replace'](/[^\d-]/g,''),_0x44c429+_0x527c69(0x43a)):(_0x44c429=_0x44c429[_0x527c69(0x2af)](/\D/g,''),_0x44c429+_0x527c69(0x5db)));}async[a0_0x5ae34c(0x803)](_0x5f6a7d){const _0x731a7e=a0_0x5ae34c;let _0x5bcc09=(await this[_0x731a7e(0x30c)]({'numbers':[_0x5f6a7d[_0x731a7e(0x63b)]]}))[0x0];if(!_0x5bcc09[_0x731a7e(0x17c)]&&!(0x0,w[_0x731a7e(0x80e)])(_0x5bcc09[_0x731a7e(0x25c)])&&!_0x5bcc09[_0x731a7e(0x25c)][_0x731a7e(0x81c)]('@broadcast'))throw new m(_0x5bcc09);let _0x37d8ef=_0x5bcc09[_0x731a7e(0x25c)];try{return await this[_0x731a7e(0x454)][_0x731a7e(0x557)](_0x37d8ef),await this[_0x731a7e(0x454)]['sendPresenceUpdate'](_0x5f6a7d['presence'],_0x37d8ef),{'status':0xc8,'presence':_0x5f6a7d[_0x731a7e(0x596)]};}catch(_0x57eff8){let _0x31c294='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence',_0x2b3001=_0x57eff8 instanceof Error?_0x57eff8[_0x731a7e(0x80a)]:typeof _0x57eff8==_0x731a7e(0x79d)?JSON[_0x731a7e(0x751)](_0x57eff8):_0x57eff8,_0x5c9427=_0x31c294+':\x20'+_0x2b3001;throw this['logger']['error'](this[_0x731a7e(0x87e)]+'\x20('+this[_0x731a7e(0x2a1)][_0x731a7e(0x6c1)]+'):\x20'+_0x5c9427),new m(_0x5c9427);}}async[a0_0x5ae34c(0x52e)](_0x345cd7,_0x4c3529,_0x3f280,_0x17eb9d=!0x0){const _0x10f332=a0_0x5ae34c;let _0x31b367=await this['repository'][_0x10f332(0x44c)]['findOne']({'where':{'_id':_0x345cd7}});if(!_0x31b367&&!_0x17eb9d)return;let _0x426aaf={'lastUpdate':Date[_0x10f332(0x776)]()};if(_0x3f280||!_0x31b367?.['lastUpdate']||Date[_0x10f332(0x776)]()-_0x31b367['lastUpdate']>0x18*0x3c*0x3c*0x3e8)try{let _0x15ec7d=(await this[_0x10f332(0x783)](_0x345cd7))[_0x10f332(0x89d)];_0x426aaf['pictureUrl']=_0x15ec7d;}catch(_0x476c2f){let _0x1427fb=_0x10f332(0x588),_0x7767d0=_0x476c2f instanceof Error?_0x476c2f[_0x10f332(0x80a)]:typeof _0x476c2f==_0x10f332(0x79d)?JSON[_0x10f332(0x751)](_0x476c2f):_0x476c2f,_0x3ea874=_0x1427fb+':\x20'+_0x7767d0;throw this[_0x10f332(0x5c7)][_0x10f332(0x6f3)](this[_0x10f332(0x87e)]+'\x20('+this[_0x10f332(0x2a1)][_0x10f332(0x6c1)]+_0x10f332(0x77c)+_0x3ea874),new m(_0x3ea874);}return _0x4c3529&&_0x31b367?.['name']!==_0x4c3529&&(_0x426aaf[_0x10f332(0x48b)]=_0x4c3529),Object[_0x10f332(0x57b)](_0x426aaf)['length']>0x1&&(_0x31b367?await this['repository'][_0x10f332(0x44c)][_0x10f332(0x15a)]({'where':{'_id':_0x345cd7}},_0x426aaf):await this[_0x10f332(0x20b)][_0x10f332(0x44c)][_0x10f332(0x883)]([{'_id':_0x345cd7,..._0x426aaf}]),_0x31b367={..._0x31b367,..._0x426aaf}),{'cachedContact':_0x31b367};}async[a0_0x5ae34c(0x783)](_0x5231f7){const _0x548d3a=a0_0x5ae34c;let _0x11325a=this[_0x548d3a(0x4d3)](_0x5231f7);try{return{'wuid':_0x11325a,'profilePictureUrl':await this[_0x548d3a(0x454)][_0x548d3a(0x89d)](_0x11325a,_0x548d3a(0x86f))};}catch{return{'wuid':_0x11325a,'profilePictureUrl':null};}}async[a0_0x5ae34c(0x82c)](_0x15e6a4,_0x302be4,_0x112ffb){const _0x4c5ee7=a0_0x5ae34c;let _0x2e22be=0x0;for(;_0x2e22be<0x5;)try{return await this[_0x4c5ee7(0x6ae)](_0x15e6a4,_0x302be4,_0x112ffb);}catch(_0x16f0f9){if(_0x2e22be++,_0x16f0f9 instanceof Error&&_0x16f0f9[_0x4c5ee7(0x80a)]===_0x4c5ee7(0x258)){if(_0x2e22be>=0x5)throw new m('Falha\x20após\x205\x20tentativas:\x20'+_0x16f0f9[_0x4c5ee7(0x80a)]);this[_0x4c5ee7(0x5c7)][_0x4c5ee7(0x4cf)](_0x4c5ee7(0x2ff)+_0x2e22be+_0x4c5ee7(0x55c)+_0x16f0f9[_0x4c5ee7(0x80a)]+_0x4c5ee7(0x7a3)+0x1388/0x3e8+'\x20segundos...'),await new Promise(_0x54eab5=>setTimeout(_0x54eab5,0x1388));}else throw new m(_0x16f0f9[_0x4c5ee7(0x80a)]);}}async[a0_0x5ae34c(0x6ae)](_0x46e75d,_0x4302ff,_0x2f9023){const _0xeaf086=a0_0x5ae34c;let _0x796f9a;try{let _0x4d06a4=(await this[_0xeaf086(0x30c)]({'numbers':[_0x46e75d]}))?.[_0xeaf086(0x29a)]();if(!_0x4d06a4[_0xeaf086(0x17c)]&&!(0x0,w[_0xeaf086(0x80e)])(_0x4d06a4[_0xeaf086(0x25c)])&&!_0x4d06a4[_0xeaf086(0x25c)][_0xeaf086(0x81c)]('@broadcast'))throw new m(_0x4d06a4);_0x796f9a=_0x4d06a4[_0xeaf086(0x25c)];}catch(_0x5ca636){_0x796f9a=_0x46e75d,this[_0xeaf086(0x5c7)][_0xeaf086(0x4cf)](this['instanceName']+'\x20('+this[_0xeaf086(0x2a1)][_0xeaf086(0x6c1)]+'):\x20error:\x20'+_0x5ca636['message']),this['logger']['warn'](this[_0xeaf086(0x87e)]+'\x20('+this[_0xeaf086(0x2a1)][_0xeaf086(0x6c1)]+_0xeaf086(0x71c)+_0x796f9a);}try{if(_0x796f9a||(_0x796f9a=_0x46e75d,this['logger'][_0xeaf086(0x4cf)](this[_0xeaf086(0x87e)]+'\x20('+this[_0xeaf086(0x2a1)][_0xeaf086(0x6c1)]+'):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20'+_0x796f9a)),_0x2f9023||(_0x2f9023={}),_0x2f9023?.[_0xeaf086(0x371)]){await this['client'][_0xeaf086(0x557)](_0x796f9a),await this[_0xeaf086(0x454)][_0xeaf086(0x62b)](_0x2f9023?.[_0xeaf086(0x596)]??_0xeaf086(0x1cf),_0x796f9a);let _0x14e956=Math[_0xeaf086(0x60d)](_0x2f9023[_0xeaf086(0x371)],0x2710);await(0x0,w[_0xeaf086(0x371)])(_0x14e956),await this[_0xeaf086(0x454)]['sendPresenceUpdate']('paused',_0x796f9a);}let _0x23aac1=_0x2f9023?.[_0xeaf086(0x7d2)]!=!0x1?void 0x0:!0x1,_0x4f9414;if(_0x2f9023?.[_0xeaf086(0x6c7)]){let _0x44f968=_0x2f9023?.[_0xeaf086(0x6c7)],_0x556df4=_0x44f968?.[_0xeaf086(0x80a)]?_0x44f968:await this[_0xeaf086(0x64f)](_0x44f968[_0xeaf086(0x1e3)],!0x0);_0x556df4&&(_0x4f9414=_0x556df4);}let _0x5bf99a=await this[_0xeaf086(0x20b)][_0xeaf086(0x789)][_0xeaf086(0x875)]({'where':{'_id':_0x796f9a}},this['instance'][_0xeaf086(0x6c1)]),_0x5a208e,_0x496a44=null;if((0x0,w[_0xeaf086(0x80e)])(_0x796f9a))try{if(_0x496a44=_0x5bf99a[_0xeaf086(0x816)],!_0x496a44)throw new U(_0xeaf086(0x1dc));if(!_0x496a44['canSendMessage'])throw new m(_0xeaf086(0x7c3));_0x2f9023?.[_0xeaf086(0x566)]&&(_0x2f9023[_0xeaf086(0x566)]?.[_0xeaf086(0x6cb)]?_0x5a208e=_0x496a44[_0xeaf086(0x878)]['map'](_0x4102ca=>_0x4102ca['id']):_0x2f9023[_0xeaf086(0x566)]?.[_0xeaf086(0x115)]?.[_0xeaf086(0x3b3)]&&(_0x5a208e=_0x2f9023[_0xeaf086(0x566)][_0xeaf086(0x115)][_0xeaf086(0x89e)](_0x5790e7=>{const _0x3a141c=_0xeaf086;let _0x232d4d=this[_0x3a141c(0x4d3)](_0x5790e7);return(0x0,w[_0x3a141c(0x80e)])(_0x232d4d)?null:_0x232d4d;})));}catch(_0x1a2b4c){throw _0x1a2b4c instanceof U?new U(_0xeaf086(0x1dc)):_0x1a2b4c instanceof m?new m('Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo'):new Error('Erro\x20desconhecido\x20ao\x20tentar\x20enviar\x20mensagem\x20para\x20o\x20grupo');}let _0x125c58=await((async()=>{const _0x3cc704=_0xeaf086;let _0x297edf={'quoted':_0x4f9414,'ephemeralExpiration':_0x5bf99a?.[_0x3cc704(0x7ce)]??0x0};if(!_0x4302ff[_0x3cc704(0x817)]&&!_0x4302ff[_0x3cc704(0x53d)]&&!_0x4302ff[_0x3cc704(0x621)]&&!_0x4302ff['conversation']&&_0x796f9a!==_0x3cc704(0x28a)&&_0x4302ff['reactionMessage'])return await this[_0x3cc704(0x454)][_0x3cc704(0x7b7)](_0x796f9a,{'react':{'text':_0x4302ff[_0x3cc704(0x696)][_0x3cc704(0x24e)],'key':_0x4302ff[_0x3cc704(0x696)]['key']}},_0x297edf);if(_0x4302ff['conversation']){let _0x19b923=_0x4302ff[_0x3cc704(0x406)];return _0x2f9023?.['changeVariables']&&(_0x19b923=await this[_0x3cc704(0x5be)](_0x19b923,_0x796f9a)),await this[_0x3cc704(0x454)][_0x3cc704(0x7b7)](_0x796f9a,{'text':_0x19b923,'mentions':_0x5a208e,'linkPreview':_0x23aac1},_0x297edf);}return!_0x4302ff[_0x3cc704(0x817)]&&!_0x4302ff[_0x3cc704(0x53d)]&&_0x796f9a!=_0x3cc704(0x28a)?await this['client']['sendMessage'](_0x796f9a,{'forward':{'key':{'remoteJid':this['instance']['wuid'],'fromMe':!0x0},'message':_0x4302ff},'mentions':_0x5a208e},_0x297edf):_0x796f9a===_0x3cc704(0x28a)?await this['client'][_0x3cc704(0x7b7)](_0x796f9a,_0x4302ff[_0x3cc704(0x41e)][_0x3cc704(0x665)],{'backgroundColor':_0x4302ff[_0x3cc704(0x41e)][_0x3cc704(0x7b0)][_0x3cc704(0x483)],'font':_0x4302ff['status'][_0x3cc704(0x7b0)]['font'],'statusJidList':_0x4302ff[_0x3cc704(0x41e)]['option']['statusJidList']}):await this['client'][_0x3cc704(0x7b7)](_0x796f9a,_0x4302ff,_0x297edf);})()),_0x2bf1e3=(0x0,w[_0xeaf086(0x283)])(_0x125c58[_0xeaf086(0x80a)]),_0x433717=(0x0,w[_0xeaf086(0x43b)])(_0x2bf1e3),{message_normalized:_0x267f2f}=this['normalizeMessage'](_0x2bf1e3,_0x433717,null),_0x44f46d={'_id':_0x125c58[_0xeaf086(0x1e3)]['id'],'key':_0x125c58['key'],'pushName':_0x125c58[_0xeaf086(0x522)],'isGroup':_0x125c58[_0xeaf086(0x1e3)][_0xeaf086(0x668)]['endsWith'](_0xeaf086(0x43a)),'profilePictureUrl':this['instance'][_0xeaf086(0x89d)],'message':_0x2bf1e3,'messageType':_0x433717,'message_normalized':{'key':_0x125c58['key'],'pushName':_0x125c58[_0xeaf086(0x522)],'messageTimestamp':_0x125c58[_0xeaf086(0x22b)]&&_0x125c58[_0xeaf086(0x22b)][_0xeaf086(0x663)]()[_0xeaf086(0x3b3)]<0xd?_0x125c58['messageTimestamp']*0x3e8:_0x125c58[_0xeaf086(0x22b)]||null,'source':(0x0,w[_0xeaf086(0x440)])(_0x125c58[_0xeaf086(0x1e3)]['id']),..._0x267f2f},'messageTimestamp':_0x125c58['messageTimestamp']&&_0x125c58[_0xeaf086(0x22b)][_0xeaf086(0x663)]()[_0xeaf086(0x3b3)]<0xd?_0x125c58['messageTimestamp']*0x3e8:_0x125c58[_0xeaf086(0x22b)]||null,'owner':this[_0xeaf086(0x2a1)]['wuid'],'source':(0x0,w[_0xeaf086(0x440)])(_0x125c58[_0xeaf086(0x1e3)]['id'])};return this[_0xeaf086(0x5c7)][_0xeaf086(0x4cf)](this[_0xeaf086(0x87e)]+'\x20('+this['instance'][_0xeaf086(0x6c1)]+'):\x20enviado\x20para\x20['+_0x44f46d[_0xeaf086(0x1e3)]?.['remoteJid'][_0xeaf086(0x2af)](_0xeaf086(0x5db),'')+']\x20('+_0x44f46d[_0xeaf086(0x15f)]+')'),_0x44f46d['message_normalized']?.['text']&&this[_0xeaf086(0x5c7)][_0xeaf086(0x4cf)](_0x44f46d[_0xeaf086(0x18f)]?.[_0xeaf086(0x24e)]),this['sendDataWebhook'](_0xeaf086(0x281),_0x44f46d),F(this[_0xeaf086(0x87e)],_0xeaf086(0x204),{'message':_0x44f46d}),this[_0xeaf086(0x1e6)](this[_0xeaf086(0x89b)][_0xeaf086(0x52d)](_0xeaf086(0x230)),_0x44f46d,_0xeaf086(0x3e0),_0x5bf99a),await this[_0xeaf086(0x20b)][_0xeaf086(0x80a)]['insert']([_0x44f46d],this[_0xeaf086(0x2a1)][_0xeaf086(0x6c1)]),_0x125c58;}catch(_0xad9208){let _0x3a7bb9=_0xeaf086(0x79c)+_0x796f9a,_0x2dff8e=_0xad9208 instanceof Error?_0xad9208[_0xeaf086(0x80a)]:typeof _0xad9208==_0xeaf086(0x79d)?JSON[_0xeaf086(0x751)](_0xad9208):_0xad9208,_0x49864f=_0x3a7bb9+':\x20'+_0x2dff8e;throw this[_0xeaf086(0x5c7)][_0xeaf086(0x6f3)](this[_0xeaf086(0x87e)]+'\x20('+this[_0xeaf086(0x2a1)][_0xeaf086(0x6c1)]+_0xeaf086(0x77c)+_0x49864f),new m(_0x49864f);}}async[a0_0x5ae34c(0x77b)](_0x4cd13e,_0x3fe0a1,_0x315f8c){const _0x2cd2b3=a0_0x5ae34c;let _0xc277db=this[_0x2cd2b3(0x4d3)](_0x4cd13e),_0xd07632=(await this['whatsappNumber']({'numbers':[_0xc277db]}))[0x0];if(!_0xd07632[_0x2cd2b3(0x17c)]&&!(0x0,w['isJidGroup'])(_0xd07632[_0x2cd2b3(0x25c)]))throw new m(_0xd07632);let _0x1f45f5=(0x0,w[_0x2cd2b3(0x80e)])(_0xc277db)?_0xc277db:_0xd07632[_0x2cd2b3(0x25c)];if((0x0,w[_0x2cd2b3(0x80e)])(_0x1f45f5))try{await this['client'][_0x2cd2b3(0x362)](_0x1f45f5);}catch{throw new m(_0x2cd2b3(0x568));}try{_0x315f8c?.[_0x2cd2b3(0x371)]&&(await this['client'][_0x2cd2b3(0x557)](_0x1f45f5),await this[_0x2cd2b3(0x454)]['sendPresenceUpdate'](_0x315f8c?.['presence']??_0x2cd2b3(0x1cf),_0xc277db),await(0x0,w[_0x2cd2b3(0x371)])(_0x315f8c[_0x2cd2b3(0x371)]),await this['client']['sendPresenceUpdate'](_0x2cd2b3(0x423),_0x1f45f5));let _0x326e11=await((async()=>{const _0x25c4d7=_0x2cd2b3;let _0x4ef2a8,_0x272f52=_0x25c4d7(0x2cc)+(0x0,oe[_0x25c4d7(0x4a1)])(0x12)[_0x25c4d7(0x663)](_0x25c4d7(0x715))['toUpperCase'](),_0x312579=(0x0,w['generateWAMessageFromContent'])(_0x1f45f5,_0x3fe0a1,{'timestamp':new Date(),'userJid':this[_0x25c4d7(0x2a1)][_0x25c4d7(0x6c1)],'messageId':_0x272f52,'quoted':_0x4ef2a8}),_0x3217d2=await this[_0x25c4d7(0x454)][_0x25c4d7(0x73a)](_0x1f45f5,_0x312579[_0x25c4d7(0x80a)],{'messageId':_0x272f52});_0x312579[_0x25c4d7(0x1e3)]={'id':_0x3217d2,'remoteJid':_0xc277db,'participant':(0x0,w['isJidUser'])(_0xc277db)?void 0x0:_0xc277db,'fromMe':!0x0};for(let [_0x307485,_0x4d483b]of Object['entries'](_0x312579))(!_0x4d483b||Array[_0x25c4d7(0x40e)](_0x4d483b)&&_0x4d483b[_0x25c4d7(0x3b3)]===0x0)&&delete _0x312579[_0x307485];return this['client']['ev'][_0x25c4d7(0x7aa)](_0x25c4d7(0x60a),{'messages':[_0x312579],'type':_0x25c4d7(0x66e)}),_0x312579;})()),_0x4cd76b=await this[_0x2cd2b3(0x20b)]['chat'][_0x2cd2b3(0x875)]({'where':{'_id':_0x1f45f5}},this[_0x2cd2b3(0x2a1)][_0x2cd2b3(0x6c1)]),_0x2d6162=(0x0,w[_0x2cd2b3(0x283)])(_0x326e11[_0x2cd2b3(0x80a)]),_0x246d45=(0x0,w[_0x2cd2b3(0x43b)])(_0x2d6162),{message_normalized:_0xf6f152}=this[_0x2cd2b3(0x318)](_0x2d6162,_0x246d45,null),_0x5b5fbe={'_id':_0x326e11[_0x2cd2b3(0x1e3)]['id'],'key':_0x326e11[_0x2cd2b3(0x1e3)],'pushName':_0x326e11[_0x2cd2b3(0x522)],'isGroup':_0x326e11[_0x2cd2b3(0x1e3)][_0x2cd2b3(0x668)][_0x2cd2b3(0x267)](_0x2cd2b3(0x43a)),'profilePictureUrl':this['instance'][_0x2cd2b3(0x89d)],'message':_0x2d6162,'messageType':_0x246d45,'message_normalized':{'key':_0x326e11[_0x2cd2b3(0x1e3)],'pushName':_0x326e11[_0x2cd2b3(0x522)],'messageTimestamp':_0x326e11[_0x2cd2b3(0x22b)]&&_0x326e11[_0x2cd2b3(0x22b)]['toString']()[_0x2cd2b3(0x3b3)]<0xd?_0x326e11['messageTimestamp']*0x3e8:_0x326e11[_0x2cd2b3(0x22b)]||null,'source':(0x0,w['getDevice'])(_0x326e11[_0x2cd2b3(0x1e3)]['id']),..._0xf6f152},'messageTimestamp':_0x326e11[_0x2cd2b3(0x22b)]&&_0x326e11[_0x2cd2b3(0x22b)]['toString']()[_0x2cd2b3(0x3b3)]<0xd?_0x326e11[_0x2cd2b3(0x22b)]*0x3e8:_0x326e11['messageTimestamp']||null,'owner':this[_0x2cd2b3(0x2a1)][_0x2cd2b3(0x6c1)],'source':(0x0,w['getDevice'])(_0x326e11[_0x2cd2b3(0x1e3)]['id'])};return this['logger'][_0x2cd2b3(0x4cf)](this[_0x2cd2b3(0x87e)]+'\x20('+this[_0x2cd2b3(0x2a1)][_0x2cd2b3(0x6c1)]+_0x2cd2b3(0x7a7)+_0x5b5fbe[_0x2cd2b3(0x1e3)]?.[_0x2cd2b3(0x668)][_0x2cd2b3(0x2af)](_0x2cd2b3(0x5db),'')+_0x2cd2b3(0x4ba)+_0x5b5fbe[_0x2cd2b3(0x15f)]+')'),_0x5b5fbe[_0x2cd2b3(0x18f)]?.['text']&&this[_0x2cd2b3(0x5c7)][_0x2cd2b3(0x4cf)](_0x5b5fbe[_0x2cd2b3(0x18f)]?.[_0x2cd2b3(0x24e)]),this['sendDataWebhook'](_0x2cd2b3(0x281),_0x5b5fbe),F(this[_0x2cd2b3(0x87e)],_0x2cd2b3(0x204),{'message':_0x5b5fbe}),this['updateChatWithMessage'](this[_0x2cd2b3(0x89b)]['get']('DATABASE'),_0x5b5fbe,_0x2cd2b3(0x3e0),_0x4cd76b),await this[_0x2cd2b3(0x20b)]['message']['insert']([_0x5b5fbe],this[_0x2cd2b3(0x2a1)][_0x2cd2b3(0x6c1)]),_0x326e11;}catch(_0x219b48){throw this[_0x2cd2b3(0x5c7)][_0x2cd2b3(0x6f3)](_0x219b48),new m(_0x219b48[_0x2cd2b3(0x663)]());}}get['connectionStatus'](){const _0x28b026=a0_0x5ae34c;return this[_0x28b026(0x603)];}async[a0_0x5ae34c(0x6c3)](_0x3eed93){const _0x11f6e6=a0_0x5ae34c;return await this[_0x11f6e6(0x82c)](_0x3eed93[_0x11f6e6(0x63b)],{'conversation':_0x3eed93[_0x11f6e6(0x6c3)]['text']},_0x3eed93?.['options']);}async[a0_0x5ae34c(0x768)](_0x60d528){const _0x2861f4=a0_0x5ae34c;if(!_0x60d528[_0x2861f4(0x279)])throw new m(_0x2861f4(0x1f3));if(!_0x60d528[_0x2861f4(0x665)])throw new m('Content\x20is\x20required');if(_0x60d528['allContacts']){let _0x544973=await this[_0x2861f4(0x20b)]['contact']['find']({'where':{}},this[_0x2861f4(0x2a1)][_0x2861f4(0x6c1)]);if(!_0x544973[_0x2861f4(0x3b3)])throw new m(_0x2861f4(0x856));_0x60d528[_0x2861f4(0x473)]=_0x544973['filter'](_0x14b9f9=>_0x14b9f9[_0x2861f4(0x522)])[_0x2861f4(0x89e)](_0x2b01e3=>_0x2b01e3['_id']);}if(!_0x60d528['statusJidList']?.['length']&&!_0x60d528[_0x2861f4(0x2c8)])throw new m(_0x2861f4(0x8af));if(_0x60d528[_0x2861f4(0x279)]===_0x2861f4(0x24e)){if(!_0x60d528[_0x2861f4(0x483)])throw new m(_0x2861f4(0x867));if(!_0x60d528[_0x2861f4(0x3fa)])throw new m(_0x2861f4(0x7c4));return{'content':{'text':_0x60d528[_0x2861f4(0x665)]},'option':{'backgroundColor':_0x60d528[_0x2861f4(0x483)],'font':_0x60d528[_0x2861f4(0x3fa)],'statusJidList':_0x60d528[_0x2861f4(0x473)]}};}if(_0x60d528[_0x2861f4(0x279)]==='image')return{'content':{'image':{'url':_0x60d528[_0x2861f4(0x665)]},'caption':_0x60d528[_0x2861f4(0x427)]},'option':{'statusJidList':_0x60d528[_0x2861f4(0x473)]}};if(_0x60d528[_0x2861f4(0x279)]==='video')return{'content':{'video':{'url':_0x60d528['content']},'caption':_0x60d528[_0x2861f4(0x427)]},'option':{'statusJidList':_0x60d528[_0x2861f4(0x473)]}};if(_0x60d528[_0x2861f4(0x279)]===_0x2861f4(0x817)){this[_0x2861f4(0x5c7)][_0x2861f4(0x7df)](this[_0x2861f4(0x87e)]+'\x20('+this[_0x2861f4(0x2a1)][_0x2861f4(0x6c1)]+'):Type\x20defined\x20as\x20audio'),this['logger'][_0x2861f4(0x7df)](this[_0x2861f4(0x87e)]+'\x20('+this[_0x2861f4(0x2a1)][_0x2861f4(0x6c1)]+_0x2861f4(0x738));let _0x4d12a3=await this[_0x2861f4(0x28f)](_0x60d528[_0x2861f4(0x665)]);if(typeof _0x4d12a3=='string'){this[_0x2861f4(0x5c7)]['verbose'](this[_0x2861f4(0x87e)]+'\x20('+this[_0x2861f4(0x2a1)]['wuid']+'):Audio\x20processed');let _0x25ab85=k[_0x2861f4(0x229)](_0x4d12a3)['toString'](_0x2861f4(0x8a9));return{'content':{'audio':Buffer[_0x2861f4(0x143)](_0x25ab85,_0x2861f4(0x8a9)),'ptt':!0x0,'mimetype':'audio/ogg'},'option':{'statusJidList':_0x60d528[_0x2861f4(0x473)]}};}else throw new x(_0x4d12a3);}throw new m('Type\x20not\x20found');}async[a0_0x5ae34c(0x620)](_0x317ca2){const _0x46f49f=a0_0x5ae34c;return await this[_0x46f49f(0x82c)]('status@broadcast',{'status':await this[_0x46f49f(0x768)](_0x317ca2[_0x46f49f(0x620)])});}async[a0_0x5ae34c(0x4c5)](_0x5c6634){const _0x2214fc=a0_0x5ae34c;try{let _0x3008e0=await(0x0,w[_0x2214fc(0x8aa)])({[_0x5c6634[_0x2214fc(0x745)]]:(0x0,J[_0x2214fc(0x129)])(_0x5c6634[_0x2214fc(0x625)])?{'url':_0x5c6634[_0x2214fc(0x625)]}:Buffer[_0x2214fc(0x143)](_0x5c6634['media'],'base64')},{'upload':this[_0x2214fc(0x454)][_0x2214fc(0x81e)]}),_0x1308bd=_0x5c6634[_0x2214fc(0x745)]+_0x2214fc(0x4cd);if(_0x5c6634[_0x2214fc(0x745)]===_0x2214fc(0x1c7)&&!_0x5c6634[_0x2214fc(0x4e4)]){let _0x2ec0ed=new RegExp(/.*\/(.+?)\./)[_0x2214fc(0x21f)](_0x5c6634[_0x2214fc(0x625)]);_0x5c6634[_0x2214fc(0x4e4)]=_0x2ec0ed?_0x2ec0ed[0x1]:null;}let _0x278cad;return(0x0,J[_0x2214fc(0x129)])(_0x5c6634[_0x2214fc(0x625)])?_0x278cad=(await K[_0x2214fc(0x509)][_0x2214fc(0x52d)](_0x5c6634[_0x2214fc(0x625)],{'responseType':_0x2214fc(0x2b8)}))[_0x2214fc(0x79a)]['content-type']:_0x278cad=(0x0,Oi[_0x2214fc(0x3f2)])(_0x5c6634[_0x2214fc(0x4e4)]),_0x3008e0[_0x1308bd][_0x2214fc(0x427)]=_0x5c6634?.[_0x2214fc(0x427)],_0x3008e0[_0x1308bd][_0x2214fc(0x2e4)]=_0x278cad,_0x3008e0[_0x1308bd]['fileName']=_0x5c6634[_0x2214fc(0x4e4)],_0x5c6634['mediatype']==='video'&&(_0x3008e0[_0x1308bd][_0x2214fc(0x501)]=Uint8Array[_0x2214fc(0x143)]((0x0,Fe[_0x2214fc(0x229)])((0x0,j[_0x2214fc(0x88d)])(process['cwd'](),'video-cover.png'))),_0x3008e0[_0x1308bd][_0x2214fc(0x251)]=!0x1),(0x0,w[_0x2214fc(0x76e)])('',{[_0x1308bd]:{..._0x3008e0[_0x1308bd]}},{'userJid':this[_0x2214fc(0x2a1)][_0x2214fc(0x6c1)]});}catch(_0x1d54a7){let _0x1df8ea=_0x2214fc(0x11b),_0x63ec4=_0x1d54a7 instanceof Error?_0x1d54a7['message']:typeof _0x1d54a7==_0x2214fc(0x79d)?JSON[_0x2214fc(0x751)](_0x1d54a7):_0x1d54a7,_0x4d2593=_0x1df8ea+':\x20'+_0x63ec4;throw this[_0x2214fc(0x5c7)][_0x2214fc(0x6f3)](this[_0x2214fc(0x87e)]+'\x20('+this[_0x2214fc(0x2a1)][_0x2214fc(0x6c1)]+_0x2214fc(0x77c)+_0x4d2593),new x(_0x4d2593);}}async[a0_0x5ae34c(0x8a1)](_0x5f529c){const _0x120a54=a0_0x5ae34c;let _0x213c9a=0x0;for(;_0x213c9a<0x5;)try{let _0x5bfbba=await this[_0x120a54(0x4c5)](_0x5f529c[_0x120a54(0x8a1)]);return await this[_0x120a54(0x82c)](_0x5f529c[_0x120a54(0x63b)],{..._0x5bfbba[_0x120a54(0x80a)]},_0x5f529c?.['options']);}catch(_0xba287e){if(_0x213c9a++,_0xba287e instanceof Error&&_0xba287e[_0x120a54(0x80a)]===_0x120a54(0x258)){if(_0x213c9a>=0x5)throw new m('Falha\x20ao\x20preparar\x20a\x20mensagem\x20de\x20mídia\x20após\x205\x20tentativas:\x20'+_0xba287e[_0x120a54(0x80a)]);this[_0x120a54(0x5c7)][_0x120a54(0x4cf)](_0x120a54(0x2ff)+_0x213c9a+_0x120a54(0x4fa)+_0xba287e['message']+_0x120a54(0x7a3)+0x1388/0x3e8+_0x120a54(0x85c)),await new Promise(_0x12f6f2=>setTimeout(_0x12f6f2,0x1388));}else throw new m(_0xba287e[_0x120a54(0x80a)]);}}async['convertToWebP'](_0xcd236,_0x109bd8){const _0x1a4d54=a0_0x5ae34c;try{this['logger'][_0x1a4d54(0x7df)](this[_0x1a4d54(0x87e)]+'\x20('+this[_0x1a4d54(0x2a1)][_0x1a4d54(0x6c1)]+_0x1a4d54(0x598));let _0x10be63,_0x45d6ec=_0x109bd8+'-'+new Date()[_0x1a4d54(0x16b)]();this[_0x1a4d54(0x5c7)][_0x1a4d54(0x7df)](this[_0x1a4d54(0x87e)]+'\x20('+this[_0x1a4d54(0x2a1)][_0x1a4d54(0x6c1)]+'):Hash\x20to\x20image\x20name:\x20'+_0x45d6ec);let _0x52d7ba=''+(0x0,j[_0x1a4d54(0x88d)])(this[_0x1a4d54(0x266)],_0x45d6ec+_0x1a4d54(0x6d9));if(this[_0x1a4d54(0x5c7)][_0x1a4d54(0x7df)](this[_0x1a4d54(0x87e)]+'\x20('+this['instance']['wuid']+_0x1a4d54(0x85f)+_0x52d7ba),(0x0,J[_0x1a4d54(0x74d)])(_0xcd236)){this[_0x1a4d54(0x5c7)][_0x1a4d54(0x7df)](this[_0x1a4d54(0x87e)]+'\x20('+this['instance'][_0x1a4d54(0x6c1)]+'):Image\x20is\x20base64');let _0x129dab=_0xcd236['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x3f093e=Buffer['from'](_0x129dab,'base64');_0x10be63=''+(0x0,j['join'])(this['storePath'],'temp-'+_0x45d6ec+_0x1a4d54(0x446)),this['logger'][_0x1a4d54(0x7df)](this[_0x1a4d54(0x87e)]+'\x20('+this[_0x1a4d54(0x2a1)][_0x1a4d54(0x6c1)]+'):Image\x20path:\x20'+_0x10be63),await(0x0,Ut[_0x1a4d54(0x509)])(_0x3f093e)[_0x1a4d54(0x68c)](_0x10be63),this[_0x1a4d54(0x5c7)][_0x1a4d54(0x7df)](this['instanceName']+'\x20('+this[_0x1a4d54(0x2a1)][_0x1a4d54(0x6c1)]+_0x1a4d54(0x407));}else{this['logger'][_0x1a4d54(0x7df)](this[_0x1a4d54(0x87e)]+'\x20('+this['instance'][_0x1a4d54(0x6c1)]+_0x1a4d54(0x1a6));let _0x545e39=new Date()[_0x1a4d54(0x16b)](),_0x389423=_0xcd236+_0x1a4d54(0x807)+_0x545e39;this[_0x1a4d54(0x5c7)][_0x1a4d54(0x7df)](this[_0x1a4d54(0x87e)]+'\x20('+this['instance'][_0x1a4d54(0x6c1)]+_0x1a4d54(0x67a)+_0x389423);let _0x380e27=await K[_0x1a4d54(0x509)]['get'](_0x389423,{'responseType':'arraybuffer'});this[_0x1a4d54(0x5c7)]['verbose'](this[_0x1a4d54(0x87e)]+'\x20('+this[_0x1a4d54(0x2a1)]['wuid']+_0x1a4d54(0x6a9));let _0x468ae0=Buffer[_0x1a4d54(0x143)](_0x380e27['data'],_0x1a4d54(0x646));_0x10be63=''+(0x0,j[_0x1a4d54(0x88d)])(this[_0x1a4d54(0x266)],_0x1a4d54(0x65f)+_0x45d6ec+_0x1a4d54(0x446)),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x1a4d54(0x2a1)][_0x1a4d54(0x6c1)]+'):Image\x20path:\x20'+_0x10be63),await(0x0,Ut[_0x1a4d54(0x509)])(_0x468ae0)[_0x1a4d54(0x68c)](_0x10be63),this['logger'][_0x1a4d54(0x7df)](this[_0x1a4d54(0x87e)]+'\x20('+this['instance']['wuid']+'):Image\x20created');}return await(0x0,Ut[_0x1a4d54(0x509)])(_0x10be63)[_0x1a4d54(0x112)]()[_0x1a4d54(0x68c)](_0x52d7ba),this[_0x1a4d54(0x5c7)][_0x1a4d54(0x7df)](this[_0x1a4d54(0x87e)]+'\x20('+this['instance'][_0x1a4d54(0x6c1)]+_0x1a4d54(0x1de)),k[_0x1a4d54(0x3ae)](_0x10be63),this[_0x1a4d54(0x5c7)][_0x1a4d54(0x7df)](this[_0x1a4d54(0x87e)]+'\x20('+this[_0x1a4d54(0x2a1)][_0x1a4d54(0x6c1)]+_0x1a4d54(0x699)),_0x52d7ba;}catch(_0x3b3328){let _0x3dddf3=_0x1a4d54(0x280),_0x3e4f4a=_0x3b3328 instanceof Error?_0x3b3328[_0x1a4d54(0x80a)]:typeof _0x3b3328=='object'?JSON['stringify'](_0x3b3328):_0x3b3328,_0x45219d=_0x3dddf3+':\x20'+_0x3e4f4a;this[_0x1a4d54(0x5c7)][_0x1a4d54(0x6f3)](this[_0x1a4d54(0x87e)]+'\x20('+this[_0x1a4d54(0x2a1)][_0x1a4d54(0x6c1)]+_0x1a4d54(0x77c)+_0x45219d);}}async[a0_0x5ae34c(0x62a)](_0x3528d9){const _0x382c9e=a0_0x5ae34c;let _0x3671ca=await this['convertToWebP'](_0x3528d9['stickerMessage']['image'],_0x3528d9[_0x382c9e(0x63b)]),_0xd32566=await this['sendMessageWithRetry'](_0x3528d9[_0x382c9e(0x63b)],{'sticker':{'url':_0x3671ca}},_0x3528d9?.[_0x382c9e(0x5aa)]);return k['unlinkSync'](_0x3671ca),this[_0x382c9e(0x5c7)][_0x382c9e(0x7df)](this[_0x382c9e(0x87e)]+'\x20('+this[_0x382c9e(0x2a1)]['wuid']+_0x382c9e(0x338)),_0xd32566;}async['audioWhatsapp'](_0x306501){const _0x20ebfe=a0_0x5ae34c;if(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x20ebfe(0x2a1)]['wuid']+'):Sending\x20audio\x20whatsapp'),!_0x306501['options']?.[_0x20ebfe(0x57c)]&&_0x306501['options']?.[_0x20ebfe(0x57c)]!==!0x1&&(_0x306501['options']['encoding']=!0x0),_0x306501[_0x20ebfe(0x5aa)]?.[_0x20ebfe(0x57c)]){let _0xdcfa4c=await this['convertaudio'](_0x306501[_0x20ebfe(0x56a)]['audio']);if(typeof _0xdcfa4c==_0x20ebfe(0x3ba)){let _0x1ce87a=k[_0x20ebfe(0x229)](_0xdcfa4c)['toString']('base64');return this['sendMessageWithRetry'](_0x306501[_0x20ebfe(0x63b)],{'audio':Buffer['from'](_0x1ce87a,_0x20ebfe(0x8a9)),'ptt':!0x0,'mimetype':_0x20ebfe(0x685)},{'presence':_0x20ebfe(0x7cf),'delay':_0x306501?.[_0x20ebfe(0x5aa)]?.[_0x20ebfe(0x371)]});}else throw new x(_0xdcfa4c);}return await this[_0x20ebfe(0x82c)](_0x306501[_0x20ebfe(0x63b)],{'audio':(0x0,J[_0x20ebfe(0x129)])(_0x306501[_0x20ebfe(0x56a)]['audio'])?{'url':_0x306501[_0x20ebfe(0x56a)][_0x20ebfe(0x817)]}:Buffer['from'](_0x306501[_0x20ebfe(0x56a)]['audio'],_0x20ebfe(0x8a9)),'ptt':!0x0,'mimetype':_0x20ebfe(0x685)},{'presence':_0x20ebfe(0x7cf),'delay':_0x306501?.[_0x20ebfe(0x5aa)]?.[_0x20ebfe(0x371)]});}async[a0_0x5ae34c(0x28f)](_0x40333f){const _0x161115=a0_0x5ae34c;this[_0x161115(0x5c7)][_0x161115(0x7df)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x161115(0x738));let _0x46a46d=(0x0,J[_0x161115(0x129)])(_0x40333f)?(0x0,oe['createHash'])(_0x161115(0x771))['update'](_0x40333f)[_0x161115(0x16d)](_0x161115(0x715)):(0x0,oe['createHash'])('sha256')[_0x161115(0x15a)](_0x40333f)['digest'](_0x161115(0x715)),_0x279af9=''+(0x0,j['join'])(this[_0x161115(0x266)],_0x46a46d+_0x161115(0x142));if(k[_0x161115(0x36c)](_0x279af9))return this[_0x161115(0x5c7)][_0x161115(0x7df)](this[_0x161115(0x87e)]+'\x20('+this['instance'][_0x161115(0x6c1)]+_0x161115(0x144)),_0x279af9;let _0x139c3b=''+(0x0,j[_0x161115(0x88d)])(this[_0x161115(0x266)],'temp-'+(0x0,Q['v4'])()+_0x161115(0x726));if((0x0,J[_0x161115(0x129)])(_0x40333f)){let _0x1410e0=new Date()[_0x161115(0x16b)](),_0x1689e7=_0x40333f+_0x161115(0x807)+_0x1410e0,_0x447310=await K[_0x161115(0x509)][_0x161115(0x52d)](_0x1689e7,{'responseType':_0x161115(0x2b8)});k[_0x161115(0x113)](_0x139c3b,_0x447310[_0x161115(0x14a)]);}else{let _0x33de5e=Buffer['from'](_0x40333f,_0x161115(0x8a9));k[_0x161115(0x113)](_0x139c3b,_0x33de5e);}return new Promise((_0x1c111c,_0x5ca310)=>{const _0x5c72a8=_0x161115;(0x0,Ue[_0x5c72a8(0x21f)])(Ds[_0x5c72a8(0x509)]['path']+_0x5c72a8(0x33b)+_0x139c3b+_0x5c72a8(0x627)+_0x279af9+'\x20-y',_0x1231bd=>{const _0x4f162a=_0x5c72a8;if(k[_0x4f162a(0x3ae)](_0x139c3b),_0x1231bd){this[_0x4f162a(0x5c7)][_0x4f162a(0x7df)](this[_0x4f162a(0x87e)]+'\x20('+this[_0x4f162a(0x2a1)][_0x4f162a(0x6c1)]+'):Error\x20in\x20converting\x20audio'),_0x5ca310(_0x1231bd);return;}this[_0x4f162a(0x5c7)][_0x4f162a(0x7df)](this['instanceName']+'\x20('+this[_0x4f162a(0x2a1)][_0x4f162a(0x6c1)]+'):Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x1c111c(_0x279af9);});});}async[a0_0x5ae34c(0x3d6)](_0x16757e){const _0xdda485=a0_0x5ae34c;this[_0xdda485(0x5c7)][_0xdda485(0x7df)](this[_0xdda485(0x87e)]+'\x20('+this[_0xdda485(0x2a1)][_0xdda485(0x6c1)]+_0xdda485(0x738));let _0x2a10c9=(0x0,oe[_0xdda485(0x6ef)])(_0xdda485(0x771))['update'](_0x16757e)[_0xdda485(0x16d)](_0xdda485(0x715)),_0x13b755=''+(0x0,j['join'])(this[_0xdda485(0x266)],_0x2a10c9+_0xdda485(0x726));if(k[_0xdda485(0x36c)](_0x13b755))return this[_0xdda485(0x5c7)][_0xdda485(0x7df)](this[_0xdda485(0x87e)]+'\x20('+this[_0xdda485(0x2a1)][_0xdda485(0x6c1)]+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),j[_0xdda485(0x509)][_0xdda485(0x32e)](_0x13b755);let _0x1e3ea6=''+(0x0,j['join'])(this[_0xdda485(0x266)],_0xdda485(0x65f)+_0x2a10c9+_0xdda485(0x142));if((0x0,J[_0xdda485(0x129)])(_0x16757e)){let _0xab6f80=new Date()[_0xdda485(0x16b)](),_0x2d3904=_0x16757e+_0xdda485(0x807)+_0xab6f80,_0x531a1a=await K[_0xdda485(0x509)]['get'](_0x2d3904,{'responseType':_0xdda485(0x2b8)});k[_0xdda485(0x113)](_0x1e3ea6,_0x531a1a['data']);}else{let _0x16bce5=Buffer[_0xdda485(0x143)](_0x16757e,_0xdda485(0x8a9));k[_0xdda485(0x113)](_0x1e3ea6,_0x16bce5);}return new Promise((_0x4f0707,_0x597375)=>{const _0x18e4e3=_0xdda485;(0x0,Ue['exec'])(Ds[_0x18e4e3(0x509)][_0x18e4e3(0x69e)]+'\x20-i\x20'+_0x1e3ea6+_0x18e4e3(0x75c)+_0x13b755+_0x18e4e3(0x2cd),_0x1e24eb=>{const _0x3cc890=_0x18e4e3;if(k[_0x3cc890(0x3ae)](_0x1e3ea6),_0x1e24eb){this['logger']['verbose'](this[_0x3cc890(0x87e)]+'\x20('+this[_0x3cc890(0x2a1)][_0x3cc890(0x6c1)]+'):Error\x20in\x20converting\x20audio'),_0x597375(_0x1e24eb);return;}this['logger'][_0x3cc890(0x7df)](this[_0x3cc890(0x87e)]+'\x20('+this['instance'][_0x3cc890(0x6c1)]+_0x3cc890(0x54f)),_0x4f0707(j[_0x3cc890(0x509)]['basename'](_0x13b755));});});}async[a0_0x5ae34c(0x2e2)](_0x202b30){const _0x415358=a0_0x5ae34c;console[_0x415358(0x4c0)](_0x415358(0x21b),_0x202b30);let _0x4fc2b5;try{_0x202b30[_0x415358(0x2e2)]?.[_0x415358(0x18c)]&&(_0x4fc2b5=await this[_0x415358(0x4c5)]({'mediatype':'image','media':_0x202b30[_0x415358(0x2e2)][_0x415358(0x18c)]}));}catch(_0x7f925e){throw console[_0x415358(0x6f3)](_0x415358(0x37c),_0x7f925e),new Error(_0x415358(0x72b));}try{let _0x37c5ea={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x415358(0x40c)},'footer':{'text':_0x415358(0x5a3)},'header':((()=>{const _0x4ecbda=_0x415358;if(_0x4fc2b5?.[_0x4ecbda(0x80a)]?.['imageMessage'])return{'hasMediaAttachment':!!_0x4fc2b5[_0x4ecbda(0x80a)][_0x4ecbda(0x48f)],'imageMessage':_0x4fc2b5['message'][_0x4ecbda(0x48f)]};})()),'nativeFlowMessage':{'buttons':[{'name':_0x415358(0x6f8),'buttonParamsJson':JSON['stringify']({'display_text':_0x415358(0x89f),'id':'1'})},{'name':_0x415358(0x6f8),'buttonParamsJson':JSON[_0x415358(0x751)]({'display_text':_0x415358(0x6b3),'id':'2'})}],'messageParamsJson':JSON[_0x415358(0x751)]({'from':_0x415358(0x57f),'templateId':_0x415358(0x2cc)+(0x0,oe['randomBytes'])(0x12)[_0x415358(0x663)]('hex')['toUpperCase']()})}}}}};return await this[_0x415358(0x77b)](_0x202b30[_0x415358(0x63b)],_0x37c5ea,_0x202b30?.[_0x415358(0x5aa)]);}catch(_0x564d37){throw console[_0x415358(0x6f3)](_0x415358(0x5ec),_0x564d37),new Error(_0x415358(0x487));}}async[a0_0x5ae34c(0x2c0)](_0x40efb5){const _0x9a0d82=a0_0x5ae34c;return await this[_0x9a0d82(0x82c)](_0x40efb5[_0x9a0d82(0x63b)],{'locationMessage':{'degreesLatitude':_0x40efb5[_0x9a0d82(0x2c0)]['latitude'],'degreesLongitude':_0x40efb5[_0x9a0d82(0x2c0)]['longitude'],'name':_0x40efb5['locationMessage']?.[_0x9a0d82(0x48b)],'address':_0x40efb5[_0x9a0d82(0x2c0)]?.[_0x9a0d82(0x7d7)]}},_0x40efb5?.['options']);}async[a0_0x5ae34c(0x68a)](_0x45b5ab){const _0x4d486a=a0_0x5ae34c;let _0x2b518a={},_0x321a11=async _0x2df15c=>{const _0x30d0a6=a0_0x475a;let _0xd82f30=_0x30d0a6(0x6f0)+_0x2df15c[_0x30d0a6(0x2dd)]+'\x0aFN:'+_0x2df15c[_0x30d0a6(0x2dd)]+'\x0a';_0x2df15c['organization']&&(_0xd82f30+=_0x30d0a6(0x1c8)+_0x2df15c[_0x30d0a6(0x6fe)]+';\x0a'),_0x2df15c[_0x30d0a6(0x24c)]&&(_0xd82f30+='EMAIL:'+_0x2df15c['email']+'\x0a'),_0x2df15c[_0x30d0a6(0x787)]&&(_0xd82f30+=_0x30d0a6(0x512)+_0x2df15c['url']+'\x0a');let _0x3da5e6='',_0x43f1fb=0x1;if(_0x2df15c['phoneNumber']){let _0x4d062b=_0x2df15c[_0x30d0a6(0x64c)][_0x30d0a6(0x1a3)]('|');for(let _0x29f88b of _0x4d062b){let _0x3530f3=await this['whatsappNumber']({'numbers':[_0x29f88b]}),_0x56c772=(_0x3530f3['length']>0x0?_0x3530f3[0x0]['jid']:this[_0x30d0a6(0x4d3)](_0x29f88b))[_0x30d0a6(0x2af)](_0x30d0a6(0x5db),'');_0x3da5e6+=_0x30d0a6(0x414)+_0x43f1fb+_0x30d0a6(0x322)+_0x56c772+':'+_0x29f88b+'\x0aitem'+_0x43f1fb+_0x30d0a6(0x4c9),_0x43f1fb++;}}return _0xd82f30+=_0x3da5e6+_0x30d0a6(0x3dd),_0xd82f30;};return _0x45b5ab['contactMessage'][_0x4d486a(0x3b3)]===0x1?_0x2b518a['contactMessage']={'displayName':_0x45b5ab[_0x4d486a(0x68a)][0x0][_0x4d486a(0x2dd)],'vcard':await _0x321a11(_0x45b5ab[_0x4d486a(0x68a)][0x0])}:_0x2b518a[_0x4d486a(0x148)]={'displayName':_0x45b5ab[_0x4d486a(0x68a)][_0x4d486a(0x3b3)]+_0x4d486a(0x3ff),'contacts':await Promise['all'](_0x45b5ab['contactMessage'][_0x4d486a(0x89e)](async _0x40ed56=>({'displayName':_0x40ed56[_0x4d486a(0x2dd)],'vcard':await _0x321a11(_0x40ed56)})))},await this['sendMessageWithRetry'](_0x45b5ab[_0x4d486a(0x63b)],{..._0x2b518a},_0x45b5ab?.[_0x4d486a(0x5aa)]);}async['reactionMessage'](_0x44f190){const _0x2f76e0=a0_0x5ae34c;return await this['sendMessageWithRetry'](_0x44f190[_0x2f76e0(0x696)][_0x2f76e0(0x1e3)][_0x2f76e0(0x668)],{'reactionMessage':{'key':_0x44f190[_0x2f76e0(0x696)][_0x2f76e0(0x1e3)],'text':_0x44f190[_0x2f76e0(0x696)]['reaction']}});}async[a0_0x5ae34c(0x30c)](_0x5efb6f){const _0x562962=a0_0x5ae34c;let _0x3ec556=[];for await(let _0x365899 of _0x5efb6f['numbers']){let _0x210834=this[_0x562962(0x4d3)](_0x365899),_0x5b7a1a=!0x1;try{if((0x0,w[_0x562962(0x80e)])(_0x210834)){let _0x2525b0=(await this[_0x562962(0x20b)]['chat'][_0x562962(0x875)]({'where':{'_id':_0x210834}},this[_0x562962(0x2a1)]['wuid']))[_0x562962(0x816)];_0x2525b0?(_0x5b7a1a=!0x0,_0x3ec556[_0x562962(0x6dd)](new ce(_0x2525b0['id'],_0x5b7a1a,_0x2525b0?.[_0x562962(0x6c9)]))):(_0x2525b0=await this[_0x562962(0x809)]({'groupJid':_0x210834},'inner'),_0x3ec556[_0x562962(0x6dd)](new ce(_0x2525b0['id'],!!_0x2525b0?.['id'],_0x2525b0?.[_0x562962(0x6c9)])));}else{if(_0x210834['includes'](_0x562962(0x5cd)))_0x3ec556['push'](new ce(_0x210834,!0x0));else{let _0x174d59=(await this[_0x562962(0x454)][_0x562962(0x27b)](_0x210834))[0x0];_0x3ec556['push'](new ce(_0x174d59[_0x562962(0x25c)],_0x174d59[_0x562962(0x17c)]));}}}catch{(0x0,w['isJidGroup'])(_0x210834)||await this['deleteImportedChat'](_0x210834),_0x3ec556[_0x562962(0x6dd)](new ce(_0x365899,!0x1));}}return _0x3ec556;}async[a0_0x5ae34c(0x669)](_0xe33b06){const _0xdb1e19=a0_0x5ae34c;try{await this[_0xdb1e19(0x20b)]['chat'][_0xdb1e19(0x875)]({'where':{'_id':_0xe33b06,'imported':!0x0}},this[_0xdb1e19(0x2a1)][_0xdb1e19(0x6c1)])&&(await this[_0xdb1e19(0x20b)][_0xdb1e19(0x789)][_0xdb1e19(0x551)](_0xe33b06,this[_0xdb1e19(0x2a1)]['wuid']),this[_0xdb1e19(0x5c7)][_0xdb1e19(0x31c)]('Chat\x20com\x20ID\x20'+_0xe33b06+_0xdb1e19(0x67b)));}catch(_0x33c6b7){let _0x273590=_0xdb1e19(0x194),_0x56a9c1=_0x33c6b7 instanceof Error?_0x33c6b7['message']:typeof _0x33c6b7==_0xdb1e19(0x79d)?JSON[_0xdb1e19(0x751)](_0x33c6b7):_0x33c6b7,_0x26a66c=_0x273590+':\x20'+_0x56a9c1;this[_0xdb1e19(0x5c7)][_0xdb1e19(0x6f3)](this[_0xdb1e19(0x87e)]+'\x20('+this['instance'][_0xdb1e19(0x6c1)]+_0xdb1e19(0x77c)+_0x26a66c);}}async[a0_0x5ae34c(0x7fe)](_0x14ae8d){const _0xb99ac8=a0_0x5ae34c;try{let _0x112e97=_0x14ae8d[_0xb99ac8(0x379)][_0xb99ac8(0x252)](_0x3e30f8=>(0x0,w[_0xb99ac8(0x80e)])(_0x3e30f8['remoteJid'])||(0x0,w[_0xb99ac8(0x1e0)])(_0x3e30f8[_0xb99ac8(0x668)]))[_0xb99ac8(0x89e)](_0x3f2bf8=>({'remoteJid':_0x3f2bf8[_0xb99ac8(0x668)],'fromMe':_0x3f2bf8['fromMe'],'id':_0x3f2bf8['id']}));await this[_0xb99ac8(0x454)]['readMessages'](_0x112e97);let _0x1ef70c=_0x112e97[_0xb99ac8(0x89e)](_0x354e4f=>this[_0xb99ac8(0x5a2)](_0x354e4f,{'status':_0xb99ac8(0x145),'owner':this[_0xb99ac8(0x2a1)][_0xb99ac8(0x6c1)]})),_0x549e4c=_0x112e97[_0xb99ac8(0x89e)](_0xd3ece2=>this[_0xb99ac8(0x20b)][_0xb99ac8(0x789)]['updateOne']({'where':{'_id':_0xd3ece2['remoteJid']}},{'unreadcount':0x0},this[_0xb99ac8(0x2a1)]['wuid'])),[_0xc6abe9,_0x453da3]=await Promise[_0xb99ac8(0x1ca)]([Promise['all'](_0x1ef70c),Promise['all'](_0x549e4c)]);return _0x453da3[_0xb99ac8(0x252)](_0x18154a=>_0x18154a!==null)[_0xb99ac8(0x478)](_0x6429d9=>{F(this['instanceName'],'chats',{'chat':_0x6429d9});}),{'message':'Read\x20messages','read':_0xb99ac8(0x5f6)};}catch(_0x3c8e4d){let _0x9b8d6a=_0xb99ac8(0x1b4),_0x284293=_0x3c8e4d instanceof Error?_0x3c8e4d[_0xb99ac8(0x80a)]:typeof _0x3c8e4d==_0xb99ac8(0x79d)?JSON[_0xb99ac8(0x751)](_0x3c8e4d):_0x3c8e4d,_0x1b1731=_0x9b8d6a+':\x20'+_0x284293;throw this[_0xb99ac8(0x5c7)]['error'](this[_0xb99ac8(0x87e)]+'\x20('+this[_0xb99ac8(0x2a1)][_0xb99ac8(0x6c1)]+_0xb99ac8(0x77c)+_0x1b1731),new x(_0x1b1731);}}async[a0_0x5ae34c(0x108)](_0x232f43){const _0xbd89be=a0_0x5ae34c;let _0x5c4913={'where':{'key':{'remoteJid':_0x232f43}},'limit':0x1},_0xa2fabe=await this['fetchMessages'](_0x5c4913);return _0xa2fabe||(this[_0xbd89be(0x5c7)][_0xbd89be(0x6f3)](_0xbd89be(0x8a8)+_0x232f43),null);}async[a0_0x5ae34c(0x840)](_0x1dc23a){const _0x599130=a0_0x5ae34c;this['logger'][_0x599130(0x7df)](this['instanceName']+'\x20('+this[_0x599130(0x2a1)][_0x599130(0x6c1)]+_0x599130(0x3a2));try{let _0xec9e29=_0x1dc23a[_0x599130(0x5b8)],_0x6f67c3=_0x1dc23a[_0x599130(0x789)];if(!_0xec9e29&&_0x6f67c3?_0xec9e29=await this['getLastMessage'](_0x6f67c3):(_0xec9e29=_0x1dc23a[_0x599130(0x5b8)],_0xec9e29[_0x599130(0x22b)]=_0xec9e29?.[_0x599130(0x22b)]??Date[_0x599130(0x776)](),_0x6f67c3=_0xec9e29?.[_0x599130(0x1e3)]?.[_0x599130(0x668)]),!_0xec9e29||Object[_0x599130(0x57b)](_0xec9e29)[_0x599130(0x3b3)]===0x0)throw new U(_0x599130(0x18e));this[_0x599130(0x5c7)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x599130(0x6c1)]+'):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x6f67c3);try{await this[_0x599130(0x454)][_0x599130(0x23b)]({'archive':_0x1dc23a['archive'],'lastMessages':[_0xec9e29]},this['createJid'](_0x6f67c3));}catch(_0x4d26d9){let _0x4207b5=_0x599130(0x339)+_0x6f67c3,_0x589981=_0x4d26d9 instanceof Error?_0x4d26d9[_0x599130(0x80a)]:typeof _0x4d26d9==_0x599130(0x79d)?JSON[_0x599130(0x751)](_0x4d26d9):_0x4d26d9,_0x5ad466=_0x4207b5+':\x20'+_0x589981;this[_0x599130(0x5c7)][_0x599130(0x6f3)](this[_0x599130(0x87e)]+'\x20('+this[_0x599130(0x2a1)]['wuid']+_0x599130(0x77c)+_0x5ad466);}this[_0x599130(0x5c7)]['verbose'](this[_0x599130(0x87e)]+'\x20('+this['instance']['wuid']+_0x599130(0x57d)+_0x6f67c3);let _0x1ff04a=await this[_0x599130(0x20b)]['chat'][_0x599130(0x41a)]({'where':{'_id':_0xec9e29?.['key']?.[_0x599130(0x668)]}},{'archived':_0x1dc23a[_0x599130(0x49b)]},this[_0x599130(0x2a1)][_0x599130(0x6c1)]);return _0x1ff04a?(this['logger']['verbose'](this[_0x599130(0x87e)]+'\x20('+this['instance'][_0x599130(0x6c1)]+_0x599130(0x6b1)+JSON['stringify'](_0x1ff04a)),F(this[_0x599130(0x87e)],_0x599130(0x5dd),{'chat':_0x1ff04a})):this[_0x599130(0x5c7)][_0x599130(0x6f3)](this[_0x599130(0x87e)]+'\x20('+this['instance'][_0x599130(0x6c1)]+_0x599130(0x5e4)+_0x6f67c3),{'chatId':_0x6f67c3,'archived':_0x1dc23a[_0x599130(0x49b)]};}catch(_0x317cdc){let _0x12cbee='Erro\x20ao\x20arquivar\x20chat',_0x5234c5=_0x317cdc instanceof Error?_0x317cdc[_0x599130(0x80a)]:typeof _0x317cdc==_0x599130(0x79d)?JSON['stringify'](_0x317cdc):_0x317cdc,_0x426bf0=_0x12cbee+':\x20'+_0x5234c5;throw this[_0x599130(0x5c7)]['error'](this[_0x599130(0x87e)]+'\x20('+this[_0x599130(0x2a1)][_0x599130(0x6c1)]+_0x599130(0x77c)+_0x426bf0),new x(_0x426bf0);}}async[a0_0x5ae34c(0x551)](_0x2b4bbf){const _0x2f6dd8=a0_0x5ae34c;this[_0x2f6dd8(0x5c7)][_0x2f6dd8(0x7df)](this[_0x2f6dd8(0x87e)]+'\x20('+this['instance'][_0x2f6dd8(0x6c1)]+'):Delete\x20chat');try{let _0x1bdf31=await this[_0x2f6dd8(0x108)](_0x2b4bbf);if(!_0x1bdf31||Object[_0x2f6dd8(0x57b)](_0x1bdf31)[_0x2f6dd8(0x3b3)]===0x0)throw new U(_0x2f6dd8(0x18e));let _0x38df22=_0x1bdf31[0x0];this[_0x2f6dd8(0x5c7)]['verbose'](this[_0x2f6dd8(0x87e)]+'\x20('+this[_0x2f6dd8(0x2a1)][_0x2f6dd8(0x6c1)]+_0x2f6dd8(0x7dd)+_0x2b4bbf);try{await this[_0x2f6dd8(0x454)][_0x2f6dd8(0x23b)]({'delete':!0x0,'lastMessages':[{'key':_0x38df22[_0x2f6dd8(0x1e3)],'messageTimestamp':_0x38df22['messageTimestamp']}]},this[_0x2f6dd8(0x4d3)](_0x2b4bbf));}catch(_0x28ebbe){this[_0x2f6dd8(0x5c7)][_0x2f6dd8(0x6f3)](_0x2f6dd8(0x339)+_0x2b4bbf+':\x20'+_0x28ebbe['toString']());}this[_0x2f6dd8(0x5c7)][_0x2f6dd8(0x7df)](this[_0x2f6dd8(0x87e)]+'\x20('+this['instance'][_0x2f6dd8(0x6c1)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x2b4bbf);return;}catch(_0x25c1d4){throw this[_0x2f6dd8(0x5c7)][_0x2f6dd8(0x6f3)](this['instanceName']+'\x20('+this[_0x2f6dd8(0x2a1)][_0x2f6dd8(0x6c1)]+_0x2f6dd8(0x484)+_0x25c1d4['toString']()),new x({'archived':!0x1,'message':[_0x2f6dd8(0x2b0),_0x25c1d4[_0x2f6dd8(0x663)]()]});}}async['deleteMessage'](_0x1d874c){const _0x2aa021=a0_0x5ae34c;try{let _0x33f7b4=await this[_0x2aa021(0x454)][_0x2aa021(0x7b7)](_0x1d874c[_0x2aa021(0x668)],{'delete':_0x1d874c});try{let _0x468bcd=await this[_0x2aa021(0x5a2)](_0x1d874c,{'status':_0x2aa021(0x46a),'owner':this[_0x2aa021(0x2a1)]['wuid']});this['logger'][_0x2aa021(0x7df)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2aa021(0x5e0)+_0x468bcd);}catch(_0x37cedc){this[_0x2aa021(0x5c7)]['error'](_0x2aa021(0x53a)+_0x37cedc);}return _0x33f7b4;}catch(_0x490c0d){throw new x('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x490c0d?.[_0x2aa021(0x663)]());}}async[a0_0x5ae34c(0x88a)](_0x43af1f){const _0x54cb14=a0_0x5ae34c;try{let _0x6285c4=_0x43af1f?.[_0x54cb14(0x80a)]?_0x43af1f:await this[_0x54cb14(0x64f)](_0x43af1f[_0x54cb14(0x1e3)],!0x0);for(let _0x3acba7 of Na)_0x6285c4['message'][_0x3acba7]&&(_0x6285c4[_0x54cb14(0x80a)]=_0x6285c4[_0x54cb14(0x80a)][_0x3acba7][_0x54cb14(0x80a)]);let _0x3c7c70,_0x3166dd;for(let _0x4e8df4 of Ea)if(_0x3c7c70=_0x6285c4[_0x54cb14(0x80a)][_0x4e8df4],_0x3c7c70){_0x3166dd=_0x4e8df4;break;}if(!_0x3c7c70)throw _0x54cb14(0x4d2);typeof _0x3c7c70[_0x54cb14(0x31a)]==_0x54cb14(0x79d)&&(_0x6285c4[_0x54cb14(0x80a)]=JSON['parse'](JSON[_0x54cb14(0x751)](_0x6285c4['message'])));let _0x259fdb=await(0x0,w['downloadMediaMessage'])({'key':_0x6285c4?.[_0x54cb14(0x1e3)],'message':_0x6285c4?.[_0x54cb14(0x80a)]},_0x54cb14(0x712),{},{'logger':(0x0,Ft[_0x54cb14(0x509)])({'level':'silent'}),'reuploadRequest':this[_0x54cb14(0x454)][_0x54cb14(0x7d1)]});if(!(_0x259fdb instanceof Buffer))throw new Error(_0x54cb14(0x7fb));let _0x1cfbed=this[_0x54cb14(0x89b)]['get'](_0x54cb14(0x230)),_0x3a6f76,_0x2e6185;if(_0x3c7c70[_0x54cb14(0x4e4)])_0x3a6f76=_0x3c7c70[_0x54cb14(0x4e4)];else{let _0x2b5d1f=_0x3c7c70['mimetype']?.[_0x54cb14(0x80b)](/\/(\w+)/),_0xb5add2=_0x2b5d1f?_0x2b5d1f[0x1]:null;if(!_0xb5add2)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0x3a6f76=(0x0,Q['v4'])()+'.'+_0xb5add2;}_0x3166dd===_0x54cb14(0x56a)?_0x2e6185=_0x54cb14(0x141)+await this[_0x54cb14(0x3d6)](_0x259fdb[_0x54cb14(0x663)](_0x54cb14(0x8a9))):(await this[_0x54cb14(0x6dc)](_0x259fdb,_0x3a6f76),_0x2e6185='/media/'+_0x3a6f76);let _0x456028=this[_0x54cb14(0x89b)][_0x54cb14(0x52d)](_0x54cb14(0x61a))[_0x54cb14(0x592)];if(!_0x456028){let _0x211dab=this[_0x54cb14(0x89b)][_0x54cb14(0x52d)](_0x54cb14(0x250));_0x456028=_0x54cb14(0x209)+(_0x211dab&&_0x211dab[_0x54cb14(0x1f5)][_0x54cb14(0x1a3)]('/')[0x4]);}_0x2e6185=''+_0x456028+_0x2e6185;let _0x37b6f1=0xc*0x3c*0x3c*0x3e8,_0x312aee={'where':{'_id':_0x6285c4['key']['id']}},_0xa9499d={'message_normalized.fileUrl':_0x2e6185,'message_normalized.expires_fileUrl':Date[_0x54cb14(0x776)]()+_0x37b6f1};try{let _0x51fae8=await this[_0x54cb14(0x20b)][_0x54cb14(0x80a)][_0x54cb14(0x15a)](_0x312aee,_0xa9499d,this[_0x54cb14(0x2a1)][_0x54cb14(0x6c1)]);_0x51fae8&&F(this[_0x54cb14(0x87e)],'messages',{'message':_0x51fae8});}catch(_0x201ffc){let _0x4d547b=_0x54cb14(0x84e),_0x4eeddf=_0x201ffc instanceof Error?_0x201ffc[_0x54cb14(0x80a)]:typeof _0x201ffc==_0x54cb14(0x79d)?JSON[_0x54cb14(0x751)](_0x201ffc):_0x201ffc,_0x58d450=_0x4d547b+':\x20'+_0x4eeddf;this[_0x54cb14(0x5c7)][_0x54cb14(0x6f3)](this[_0x54cb14(0x87e)]+'\x20('+this[_0x54cb14(0x2a1)][_0x54cb14(0x6c1)]+_0x54cb14(0x77c)+_0x58d450);}return{'mediaType':_0x3166dd,'fileName':_0x3c7c70[_0x54cb14(0x4e4)],'caption':_0x3c7c70[_0x54cb14(0x427)],'size':{'fileLength':_0x3c7c70[_0x54cb14(0x4c8)],'height':_0x3c7c70[_0x54cb14(0x524)],'width':_0x3c7c70[_0x54cb14(0x133)]},'mimetype':_0x3c7c70[_0x54cb14(0x2e4)],'base64':_0x259fdb[_0x54cb14(0x663)](_0x54cb14(0x8a9)),'fileUrl':_0x2e6185,'expires_fileUrl':Date['now']()+_0x37b6f1};}catch(_0x15e088){let _0x40cd63=_0x54cb14(0x558),_0x11841e=_0x15e088 instanceof Error?_0x15e088[_0x54cb14(0x80a)]:typeof _0x15e088==_0x54cb14(0x79d)?JSON[_0x54cb14(0x751)](_0x15e088):_0x15e088,_0x407a5d=_0x40cd63+':\x20'+_0x11841e;throw this[_0x54cb14(0x5c7)][_0x54cb14(0x6f3)](this[_0x54cb14(0x87e)]+'\x20('+this[_0x54cb14(0x2a1)]['wuid']+_0x54cb14(0x77c)+_0x407a5d),new m(_0x407a5d);}}async[a0_0x5ae34c(0x6dc)](_0x1c7637,_0x42a7b1){const _0x2c6bee=a0_0x5ae34c;let _0xea6525=j['default'][_0x2c6bee(0x88d)](__dirname,_0x2c6bee(0x6d8));k[_0x2c6bee(0x36c)](_0xea6525)||k[_0x2c6bee(0x30f)](_0xea6525,{'recursive':!0x0});let _0x88caf3=j[_0x2c6bee(0x509)][_0x2c6bee(0x88d)](_0xea6525,_0x42a7b1);return new Promise((_0xfc1ec6,_0x5ceed0)=>{const _0x17029a=_0x2c6bee;k[_0x17029a(0x35e)](_0x88caf3,_0x1c7637,_0x435dd1=>{const _0x16e1a3=_0x17029a;_0x435dd1?(this[_0x16e1a3(0x5c7)][_0x16e1a3(0x6f3)](_0x16e1a3(0x72c)+(_0x435dd1 instanceof Error?_0x435dd1['message']:JSON['stringify'](_0x435dd1,null,0x2))),_0x5ceed0(_0x435dd1)):(this[_0x16e1a3(0x5c7)]['log'](_0x16e1a3(0x60c)+_0x88caf3),_0xfc1ec6(_0x88caf3));});});}async[a0_0x5ae34c(0x2d6)](_0x3759e0){const _0x372661=a0_0x5ae34c;return await this[_0x372661(0x20b)][_0x372661(0x420)][_0x372661(0x42c)](_0x3759e0,this[_0x372661(0x2a1)][_0x372661(0x6c1)]);}async[a0_0x5ae34c(0x33e)](){const _0x56eb58=a0_0x5ae34c;return await this[_0x56eb58(0x20b)][_0x56eb58(0x727)][_0x56eb58(0x42c)]({'where':{}},this['instance'][_0x56eb58(0x6c1)]);}async[a0_0x5ae34c(0x3a4)](_0x2ec61e){const _0x56985a=a0_0x5ae34c;return await this[_0x56985a(0x20b)]['message'][_0x56985a(0x42c)](_0x2ec61e,this[_0x56985a(0x2a1)][_0x56985a(0x6c1)]);}async['fetchChats'](){const _0x215850=a0_0x5ae34c;return this['repository'][_0x215850(0x789)][_0x215850(0x46c)](this[_0x215850(0x2a1)][_0x215850(0x6c1)]),this[_0x215850(0x20b)][_0x215850(0x789)][_0x215850(0x16a)](this['instance'][_0x215850(0x6c1)]),this[_0x215850(0x20b)][_0x215850(0x789)]['updateMissingTags'](this[_0x215850(0x2a1)][_0x215850(0x6c1)]),this[_0x215850(0x20b)][_0x215850(0x789)][_0x215850(0x7ba)](this[_0x215850(0x2a1)][_0x215850(0x6c1)]),await this[_0x215850(0x20b)][_0x215850(0x789)][_0x215850(0x42c)]({'where':{}},this['instance'][_0x215850(0x6c1)]);}async[a0_0x5ae34c(0x35a)](_0x279551){const _0x32ef3d=a0_0x5ae34c;try{if(!Array[_0x32ef3d(0x40e)](_0x279551)||_0x279551[_0x32ef3d(0x3b3)]===0x0)throw new Error(_0x32ef3d(0x58c));let _0xe896b=[],_0x577d20=[];for(let _0x594468 of _0x279551){if(_0x594468[_0x32ef3d(0x579)])_0x594468['_id']=this[_0x32ef3d(0x4d3)](_0x594468[_0x32ef3d(0x579)]);else continue;await this[_0x32ef3d(0x20b)][_0x32ef3d(0x789)][_0x32ef3d(0x875)]({'where':{'_id':_0x594468[_0x32ef3d(0x579)]}},this[_0x32ef3d(0x2a1)]['wuid'])?_0x577d20[_0x32ef3d(0x6dd)]({'_id':_0x594468[_0x32ef3d(0x579)],'leadInfo':_0x594468[_0x32ef3d(0x138)],'owner':this[_0x32ef3d(0x2a1)][_0x32ef3d(0x6c1)]}):_0xe896b[_0x32ef3d(0x6dd)]({'_id':_0x594468[_0x32ef3d(0x579)],'owner':this['instance'][_0x32ef3d(0x6c1)],'leadInfo':_0x594468[_0x32ef3d(0x138)],'imported':!0x0});}return _0x577d20[_0x32ef3d(0x3b3)]>0x0&&await this[_0x32ef3d(0x20b)][_0x32ef3d(0x789)][_0x32ef3d(0x4ad)](_0x577d20[_0x32ef3d(0x89e)](_0x4b5afc=>({'query':{'where':{'_id':_0x4b5afc[_0x32ef3d(0x579)],'owner':this[_0x32ef3d(0x2a1)][_0x32ef3d(0x6c1)]}},'update':_0x4b5afc}))),_0xe896b[_0x32ef3d(0x3b3)]>0x0&&await this[_0x32ef3d(0x20b)][_0x32ef3d(0x789)][_0x32ef3d(0x85e)](_0xe896b,this[_0x32ef3d(0x2a1)][_0x32ef3d(0x6c1)]),{'updated':_0x577d20[_0x32ef3d(0x3b3)],'inserted':_0xe896b[_0x32ef3d(0x3b3)]};}catch(_0x25cc21){let _0x460243=_0x32ef3d(0x64b),_0x4dd859=_0x25cc21 instanceof Error?_0x25cc21[_0x32ef3d(0x80a)]:typeof _0x25cc21==_0x32ef3d(0x79d)?JSON[_0x32ef3d(0x751)](_0x25cc21):_0x25cc21,_0x16a501=_0x460243+':\x20'+_0x4dd859;throw this[_0x32ef3d(0x5c7)]['error'](this[_0x32ef3d(0x87e)]+'\x20('+this['instance'][_0x32ef3d(0x6c1)]+'):\x20'+_0x16a501),new m(_0x16a501);}}async[a0_0x5ae34c(0x284)](_0xcc2d){const _0x2726a5=a0_0x5ae34c;try{if(!Array[_0x2726a5(0x40e)](_0xcc2d)||_0xcc2d[_0x2726a5(0x3b3)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x48afb3=0x64,_0x5499e6=0x0;for(let _0x5134f3=0x0;_0x5134f3<_0xcc2d[_0x2726a5(0x3b3)];_0x5134f3+=_0x48afb3){let _0x44036a=_0xcc2d['slice'](_0x5134f3,_0x5134f3+_0x48afb3),{updated:_0x459947}=await this[_0x2726a5(0x5d9)](_0x44036a);_0x5499e6+=_0x459947;}return{'updated':_0x5499e6};}catch(_0x396aeb){let _0x5876e1=_0x2726a5(0x64b),_0x10846d=_0x396aeb instanceof Error?_0x396aeb[_0x2726a5(0x80a)]:typeof _0x396aeb=='object'?JSON[_0x2726a5(0x751)](_0x396aeb):_0x396aeb,_0x2bb759=_0x5876e1+':\x20'+_0x10846d;throw this[_0x2726a5(0x5c7)]['error'](this[_0x2726a5(0x87e)]+'\x20('+this[_0x2726a5(0x2a1)][_0x2726a5(0x6c1)]+'):\x20'+_0x2bb759),new m(_0x2bb759);}}async[a0_0x5ae34c(0x5d9)](_0x2592fb){const _0x2c1290=a0_0x5ae34c;try{let _0x515ae9=await this[_0x2c1290(0x20b)]['label'][_0x2c1290(0x42c)]({'where':{}},this[_0x2c1290(0x2a1)][_0x2c1290(0x6c1)]),_0x3e4bae=new Set(_0x515ae9['map'](_0x46748d=>_0x46748d[_0x2c1290(0x579)])),_0x291cd0=[],_0x3d63df=[];for(let _0x3e534a of _0x2592fb){if(!_0x3e534a[_0x2c1290(0x579)])continue;_0x3e534a[_0x2c1290(0x579)]=this[_0x2c1290(0x4d3)](_0x3e534a[_0x2c1290(0x579)]);let _0xa37644=await this[_0x2c1290(0x20b)]['chat'][_0x2c1290(0x875)]({'where':{'_id':_0x3e534a[_0x2c1290(0x579)]}},this[_0x2c1290(0x2a1)][_0x2c1290(0x6c1)]),_0xaf1fcd={};if(Object[_0x2c1290(0x7e4)](_0x3e534a[_0x2c1290(0x138)])[_0x2c1290(0x478)](([_0x556e0d,_0x2cbba2])=>{_0xaf1fcd['leadInfo.'+_0x556e0d]=_0x2cbba2;}),_0xa37644&&!_0xa37644[_0x2c1290(0x49f)]){let _0x3ad004=(_0x3e534a['leadInfo'][_0x2c1290(0x39b)]||[])['filter'](_0x2666f4=>_0x3e4bae[_0x2c1290(0x567)](_0x2666f4)),_0x860980=new Set(_0xa37644[_0x2c1290(0x138)][_0x2c1290(0x39b)]||[]),_0x4352de=_0x3ad004[_0x2c1290(0x252)](_0x33cc39=>!_0x860980[_0x2c1290(0x567)](_0x33cc39)),_0x563a01=[..._0x860980][_0x2c1290(0x252)](_0x34f5b5=>!_0x3ad004[_0x2c1290(0x81c)](_0x34f5b5));_0x3d63df[_0x2c1290(0x6dd)](..._0x4352de[_0x2c1290(0x89e)](_0x2aec9d=>this[_0x2c1290(0x3de)](_0x2aec9d,_0x3e534a[_0x2c1290(0x579)]))),_0x3d63df[_0x2c1290(0x6dd)](..._0x563a01[_0x2c1290(0x89e)](_0x1fe283=>this[_0x2c1290(0x4e3)](_0x1fe283,_0x3e534a[_0x2c1290(0x579)]))),_0x3e534a['leadInfo']['etiquetas']=_0x3ad004,_0x291cd0[_0x2c1290(0x6dd)]({'query':{'where':{'_id':_0x3e534a[_0x2c1290(0x579)],'owner':this['instance'][_0x2c1290(0x6c1)]}},'update':_0xaf1fcd});}else _0xaf1fcd[_0x2c1290(0x49f)]=!0x0,_0x291cd0[_0x2c1290(0x6dd)]({'query':{'where':{'_id':_0x3e534a[_0x2c1290(0x579)],'owner':this[_0x2c1290(0x2a1)][_0x2c1290(0x6c1)]}},'update':_0xaf1fcd});}let _0x2c39ca=await this[_0x2c1290(0x20b)][_0x2c1290(0x789)][_0x2c1290(0x4ad)](_0x291cd0);return await Promise['all'](_0x3d63df),{'updated':_0x2c39ca};}catch(_0x2740aa){let _0x3adcc='Erro\x20ao\x20importar\x20chats',_0x3defb2=_0x2740aa instanceof Error?_0x2740aa[_0x2c1290(0x80a)]:typeof _0x2740aa=='object'?JSON[_0x2c1290(0x751)](_0x2740aa):_0x2740aa,_0x1acc16=_0x3adcc+':\x20'+_0x3defb2;throw this[_0x2c1290(0x5c7)][_0x2c1290(0x6f3)](this['instanceName']+'\x20('+this[_0x2c1290(0x2a1)][_0x2c1290(0x6c1)]+_0x2c1290(0x77c)+_0x1acc16),new m(_0x1acc16);}}async[a0_0x5ae34c(0x6d0)](){const _0x12101a=a0_0x5ae34c;return await this['client'][_0x12101a(0x6d0)]();}async[a0_0x5ae34c(0x78d)](_0x29fd25){const _0x222b39=a0_0x5ae34c;try{return await this[_0x222b39(0x454)]['updateReadReceiptsPrivacy'](_0x29fd25[_0x222b39(0x13c)][_0x222b39(0x6bd)]),await this[_0x222b39(0x454)][_0x222b39(0x223)](_0x29fd25[_0x222b39(0x13c)]['profile']),await this[_0x222b39(0x454)][_0x222b39(0x563)](_0x29fd25['privacySettings'][_0x222b39(0x41e)]),await this[_0x222b39(0x454)][_0x222b39(0x365)](_0x29fd25[_0x222b39(0x13c)][_0x222b39(0x2cb)]),await this['client']['updateLastSeenPrivacy'](_0x29fd25['privacySettings']['last']),await this['client'][_0x222b39(0x732)](_0x29fd25['privacySettings'][_0x222b39(0x493)]),this[_0x222b39(0x454)]?.['ws']?.['close'](),{'update':'success','data':{'readreceipts':_0x29fd25[_0x222b39(0x13c)][_0x222b39(0x6bd)],'profile':_0x29fd25['privacySettings'][_0x222b39(0x40d)],'status':_0x29fd25[_0x222b39(0x13c)]['status'],'online':_0x29fd25[_0x222b39(0x13c)][_0x222b39(0x2cb)],'last':_0x29fd25[_0x222b39(0x13c)][_0x222b39(0x6e3)],'groupadd':_0x29fd25[_0x222b39(0x13c)][_0x222b39(0x493)]}};}catch(_0x5c9dd0){let _0x2eff66='Erro\x20ao\x20alterar\x20privacidade',_0x47a170=_0x5c9dd0 instanceof Error?_0x5c9dd0[_0x222b39(0x80a)]:typeof _0x5c9dd0==_0x222b39(0x79d)?JSON[_0x222b39(0x751)](_0x5c9dd0):_0x5c9dd0,_0x4a7e3f=_0x2eff66+':\x20'+_0x47a170;throw this['logger']['error'](this[_0x222b39(0x87e)]+'\x20('+this['instance'][_0x222b39(0x6c1)]+_0x222b39(0x77c)+_0x4a7e3f),new m(_0x4a7e3f);}}async[a0_0x5ae34c(0x885)](_0x379b3b){const _0x5cd259=a0_0x5ae34c;let _0x16437c=(_0x379b3b?this['createJid'](_0x379b3b):this[_0x5cd259(0x454)]?.[_0x5cd259(0x67e)]?.['id'])[_0x5cd259(0x2af)](/:\d{1,2}@/g,'@');this[_0x5cd259(0x5c7)][_0x5cd259(0x7df)](this[_0x5cd259(0x87e)]+'\x20('+this['instance'][_0x5cd259(0x6c1)]+'):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x16437c);let _0x1386f4=await this[_0x5cd259(0x20b)][_0x5cd259(0x420)]['findOne']({'where':{'_id':_0x16437c}},this[_0x5cd259(0x2a1)][_0x5cd259(0x6c1)]),_0x4a2180=_0x1386f4?_0x1386f4[_0x5cd259(0x522)]:null;try{let _0x36307e=(await this[_0x5cd259(0x30c)]({'numbers':[_0x16437c]}))?.['shift'](),_0x18c865=(await this['findAndUpdateCacheContact'](_0x16437c,null,!0x1))[_0x5cd259(0x5c4)]['pictureUrl'],_0x100a01=await this[_0x5cd259(0x17e)](_0x36307e?.[_0x5cd259(0x25c)]),_0x3affda=await this[_0x5cd259(0x848)](_0x36307e?.[_0x5cd259(0x25c)]),_0x576ffd=(await this[_0x5cd259(0x52e)](_0x16437c,null,!0x1))[_0x5cd259(0x5c4)]['name'],_0x3e7664=await this['repository'][_0x5cd259(0x789)]['findOne']({'where':{'_id':_0x16437c}},this[_0x5cd259(0x2a1)]['wuid']),_0x11b7ae={'imagechat':_0x18c865,'contactname':_0x4a2180||null,'pushName':_0x576ffd,'status':_0x100a01?.[_0x5cd259(0x41e)],'isBusiness':_0x3affda[_0x5cd259(0x6f1)],'email':_0x3affda?.[_0x5cd259(0x24c)],'description':_0x3affda?.[_0x5cd259(0x55d)],'website':_0x3affda?.[_0x5cd259(0x39f)]?.['shift'](),'lastcache':Date[_0x5cd259(0x776)](),'imported':!_0x3e7664},_0x47f7ac=await this[_0x5cd259(0x20b)][_0x5cd259(0x789)][_0x5cd259(0x41a)]({'where':{'_id':_0x16437c}},_0x11b7ae,this[_0x5cd259(0x2a1)]['wuid']),_0x2ff9ce={'owner':this[_0x5cd259(0x2a1)][_0x5cd259(0x6c1)],'_id':_0x16437c,'profilePictureUrl':_0x18c865,'status':_0x100a01?.[_0x5cd259(0x41e)]};return this['repository'][_0x5cd259(0x420)][_0x5cd259(0x15a)]([_0x2ff9ce],this[_0x5cd259(0x2a1)][_0x5cd259(0x6c1)]),_0x47f7ac&&F(this[_0x5cd259(0x87e)],_0x5cd259(0x5dd),{'chat':_0x47f7ac}),{'wuid':_0x36307e?.['jid']||_0x16437c,'name':_0x36307e?.['name'],'pushName':_0x576ffd,'numberExists':_0x36307e?.[_0x5cd259(0x17c)],'picture':_0x18c865,'status':_0x100a01?.[_0x5cd259(0x41e)],'isBusiness':_0x3affda[_0x5cd259(0x6f1)],'email':_0x3affda?.[_0x5cd259(0x24c)],'description':_0x3affda?.[_0x5cd259(0x55d)],'website':_0x3affda?.['website']?.[_0x5cd259(0x29a)]()};}catch(_0x3403e4){return this[_0x5cd259(0x5c7)][_0x5cd259(0x6f3)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0x3403e4 instanceof Error?_0x3403e4[_0x5cd259(0x80a)]:JSON['stringify'](_0x3403e4,null,0x2))),{};}}async[a0_0x5ae34c(0x848)](_0x285810){const _0x29e547=a0_0x5ae34c;this['logger'][_0x29e547(0x7df)](this[_0x29e547(0x87e)]+'\x20('+this[_0x29e547(0x2a1)][_0x29e547(0x6c1)]+_0x29e547(0x149));try{let _0x3010e0=_0x285810?this['createJid'](_0x285810):this[_0x29e547(0x2a1)][_0x29e547(0x6c1)],_0x5a85f5=await this[_0x29e547(0x454)][_0x29e547(0x335)](_0x3010e0);return this[_0x29e547(0x5c7)][_0x29e547(0x7df)](this[_0x29e547(0x87e)]+'\x20('+this[_0x29e547(0x2a1)]['wuid']+_0x29e547(0x37b)),_0x5a85f5?(this[_0x29e547(0x5c7)][_0x29e547(0x7df)](this[_0x29e547(0x87e)]+'\x20('+this['instance'][_0x29e547(0x6c1)]+_0x29e547(0x403)),{'isBusiness':!0x0,..._0x5a85f5}):{'isBusiness':!0x1,'message':_0x29e547(0x1c2),...(await this[_0x29e547(0x30c)]({'numbers':[_0x3010e0]}))?.['shift']()};}catch(_0xf6db85){let _0x228757='Falha\x20ao\x20processar\x20fetchBusinessProfile',_0x6eee81=_0xf6db85 instanceof Error?_0xf6db85[_0x29e547(0x80a)]:typeof _0xf6db85==_0x29e547(0x79d)?JSON[_0x29e547(0x751)](_0xf6db85):_0xf6db85,_0x215a10=_0x228757+':\x20'+_0x6eee81;throw this[_0x29e547(0x5c7)][_0x29e547(0x6f3)](this[_0x29e547(0x87e)]+'\x20('+this[_0x29e547(0x2a1)][_0x29e547(0x6c1)]+_0x29e547(0x77c)+_0x215a10),new x(_0x215a10);}}async['getStatus'](_0x5b350a){const _0x301bcd=a0_0x5ae34c;let _0x1e304b=this[_0x301bcd(0x4d3)](_0x5b350a);try{return{'wuid':_0x1e304b,'status':(await this['client'][_0x301bcd(0x241)](_0x1e304b))[0x0]?.['status']};}catch{return{'wuid':_0x1e304b,'status':null};}}async[a0_0x5ae34c(0x411)](_0x536538){const _0x17c8ad=a0_0x5ae34c;try{return await this[_0x17c8ad(0x454)]['updateProfileName'](_0x536538),{'update':_0x17c8ad(0x5f6)};}catch(_0x19f4f5){let _0xec3387=_0x17c8ad(0x1df),_0x4101e1=_0x19f4f5 instanceof Error?_0x19f4f5[_0x17c8ad(0x80a)]:typeof _0x19f4f5==_0x17c8ad(0x79d)?JSON[_0x17c8ad(0x751)](_0x19f4f5):_0x19f4f5,_0xd2fbe3=_0xec3387+':\x20'+_0x4101e1;throw this[_0x17c8ad(0x5c7)][_0x17c8ad(0x6f3)](this[_0x17c8ad(0x87e)]+'\x20('+this['instance'][_0x17c8ad(0x6c1)]+'):\x20'+_0xd2fbe3),new x(_0xd2fbe3);}}async[a0_0x5ae34c(0x272)](_0x4f0749){const _0x295de9=a0_0x5ae34c;try{return await this[_0x295de9(0x454)][_0x295de9(0x272)](_0x4f0749),{'update':_0x295de9(0x5f6)};}catch(_0x3d3bcd){let _0x4c79d9='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus',_0x3c4b59=_0x3d3bcd instanceof Error?_0x3d3bcd[_0x295de9(0x80a)]:typeof _0x3d3bcd==_0x295de9(0x79d)?JSON[_0x295de9(0x751)](_0x3d3bcd):_0x3d3bcd,_0x2cadc3=_0x4c79d9+':\x20'+_0x3c4b59;throw this[_0x295de9(0x5c7)][_0x295de9(0x6f3)](this[_0x295de9(0x87e)]+'\x20('+this[_0x295de9(0x2a1)]['wuid']+_0x295de9(0x77c)+_0x2cadc3),new x(_0x2cadc3);}}async[a0_0x5ae34c(0x3b0)](_0x3813a2){const _0x3b4419=a0_0x5ae34c;try{let _0x3b992d;if((0x0,J[_0x3b4419(0x129)])(_0x3813a2)){let _0x16db9a=new Date()['getTime'](),_0x31bdeb=_0x3813a2+'?timestamp='+_0x16db9a;_0x3b992d=(await K[_0x3b4419(0x509)]['get'](_0x31bdeb,{'responseType':_0x3b4419(0x2b8)}))[_0x3b4419(0x14a)];}else{if((0x0,J[_0x3b4419(0x74d)])(_0x3813a2))_0x3b992d=Buffer[_0x3b4419(0x143)](_0x3813a2,_0x3b4419(0x8a9));else throw new m(_0x3b4419(0x877));}return await this[_0x3b4419(0x454)][_0x3b4419(0x3b0)](this['instance'][_0x3b4419(0x6c1)],_0x3b992d),{'update':_0x3b4419(0x5f6)};}catch(_0x3ad0ca){let _0xf47643='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture',_0x2ae300=_0x3ad0ca instanceof Error?_0x3ad0ca[_0x3b4419(0x80a)]:typeof _0x3ad0ca==_0x3b4419(0x79d)?JSON[_0x3b4419(0x751)](_0x3ad0ca):_0x3ad0ca,_0x1d4c0e=_0xf47643+':\x20'+_0x2ae300;throw this[_0x3b4419(0x5c7)][_0x3b4419(0x6f3)](this[_0x3b4419(0x87e)]+'\x20('+this[_0x3b4419(0x2a1)][_0x3b4419(0x6c1)]+_0x3b4419(0x77c)+_0x1d4c0e),new x(_0x1d4c0e);}}async['removeProfilePicture'](){const _0x31d31b=a0_0x5ae34c;try{return await this['client'][_0x31d31b(0x4bd)](this[_0x31d31b(0x2a1)][_0x31d31b(0x6c1)]),{'update':_0x31d31b(0x5f6)};}catch(_0x24817d){let _0x1190e8=_0x31d31b(0x723),_0x469380=_0x24817d instanceof Error?_0x24817d[_0x31d31b(0x80a)]:typeof _0x24817d=='object'?JSON[_0x31d31b(0x751)](_0x24817d):_0x24817d,_0x45c98b=_0x1190e8+':\x20'+_0x469380;throw this[_0x31d31b(0x5c7)][_0x31d31b(0x6f3)](this[_0x31d31b(0x87e)]+'\x20('+this[_0x31d31b(0x2a1)][_0x31d31b(0x6c1)]+_0x31d31b(0x77c)+_0x45c98b),new x(_0x45c98b);}}async['createGroup'](_0x3ef705){const _0x25d19e=a0_0x5ae34c;try{let _0x4e66bd=(await this['whatsappNumber']({'numbers':_0x3ef705[_0x25d19e(0x878)]}))[_0x25d19e(0x252)](_0x548b23=>_0x548b23[_0x25d19e(0x17c)])['map'](_0x40e293=>_0x40e293[_0x25d19e(0x25c)]),{id:_0x30df50}=await this[_0x25d19e(0x454)][_0x25d19e(0x7ae)](_0x3ef705[_0x25d19e(0x6c9)],_0x4e66bd);_0x3ef705?.[_0x25d19e(0x55d)]&&await this[_0x25d19e(0x454)][_0x25d19e(0x86d)](_0x30df50,_0x3ef705['description']);let _0x289a1c=await this[_0x25d19e(0x454)][_0x25d19e(0x362)](_0x30df50);return _0x289a1c['awaitingApproval']=[],await this[_0x25d19e(0x224)](_0x289a1c),{'metadata':_0x289a1c};}catch(_0x20dc45){let _0x31829a=_0x25d19e(0x2e1),_0x365e59=_0x20dc45 instanceof Error?_0x20dc45[_0x25d19e(0x80a)]:typeof _0x20dc45==_0x25d19e(0x79d)?JSON[_0x25d19e(0x751)](_0x20dc45):_0x20dc45,_0x2e55a6=_0x31829a+':\x20'+_0x365e59;throw this[_0x25d19e(0x5c7)][_0x25d19e(0x6f3)](this[_0x25d19e(0x87e)]+'\x20('+this[_0x25d19e(0x2a1)][_0x25d19e(0x6c1)]+'):\x20'+_0x2e55a6),new x(_0x2e55a6);}}async[a0_0x5ae34c(0x6a4)](_0x141ac4){const _0x5e2ecc=a0_0x5ae34c;try{if(_0x141ac4['restrict']===!0x0&&await this[_0x5e2ecc(0x454)]['groupSettingUpdate'](_0x141ac4[_0x5e2ecc(0x65b)],'locked'),_0x141ac4[_0x5e2ecc(0x57a)]===!0x1&&await this['client']['groupSettingUpdate'](_0x141ac4[_0x5e2ecc(0x65b)],_0x5e2ecc(0x162)),_0x141ac4[_0x5e2ecc(0x1e4)]===!0x0&&await this[_0x5e2ecc(0x454)][_0x5e2ecc(0x1fc)](_0x141ac4[_0x5e2ecc(0x65b)],_0x5e2ecc(0x1aa)),_0x141ac4[_0x5e2ecc(0x1e4)]===!0x1&&await this[_0x5e2ecc(0x454)][_0x5e2ecc(0x1fc)](_0x141ac4[_0x5e2ecc(0x65b)],'not_announcement'),_0x141ac4[_0x5e2ecc(0x3e5)]===!0x0&&await this['client']['groupMemberAddMode'](_0x141ac4[_0x5e2ecc(0x65b)],'all_member_add'),_0x141ac4['memberAddMode']===!0x1&&await this[_0x5e2ecc(0x454)][_0x5e2ecc(0x3c7)](_0x141ac4[_0x5e2ecc(0x65b)],'admin_add'),_0x141ac4[_0x5e2ecc(0x1a5)]===!0x0&&await this['client'][_0x5e2ecc(0x643)](_0x141ac4['groupJid'],'on'),_0x141ac4[_0x5e2ecc(0x1a5)]===!0x1&&await this[_0x5e2ecc(0x454)][_0x5e2ecc(0x643)](_0x141ac4['groupJid'],_0x5e2ecc(0x1ac)),typeof _0x141ac4['expiration']<'u'&&_0x141ac4[_0x5e2ecc(0x2c5)]!==null&&await this['client'][_0x5e2ecc(0x5de)](_0x141ac4[_0x5e2ecc(0x65b)],_0x141ac4[_0x5e2ecc(0x2c5)]),_0x141ac4[_0x5e2ecc(0x48b)]&&await this['client'][_0x5e2ecc(0x119)](_0x141ac4[_0x5e2ecc(0x65b)],_0x141ac4['name']),_0x141ac4['description']&&await this[_0x5e2ecc(0x454)][_0x5e2ecc(0x86d)](_0x141ac4[_0x5e2ecc(0x65b)],_0x141ac4['description']),_0x141ac4[_0x5e2ecc(0x86f)]){let _0x193501;if((0x0,J[_0x5e2ecc(0x129)])(_0x141ac4[_0x5e2ecc(0x86f)])){let _0x3221c9=new Date()[_0x5e2ecc(0x16b)](),_0x2f2db5=_0x141ac4['image']+'?timestamp='+_0x3221c9;_0x193501=(await K['default'][_0x5e2ecc(0x52d)](_0x2f2db5,{'responseType':_0x5e2ecc(0x2b8)}))[_0x5e2ecc(0x14a)];}else{if((0x0,J[_0x5e2ecc(0x74d)])(_0x141ac4[_0x5e2ecc(0x86f)]))_0x193501=Buffer[_0x5e2ecc(0x143)](_0x141ac4['image'],'base64');else throw new m(_0x5e2ecc(0x877));}await this[_0x5e2ecc(0x454)]['updateProfilePicture'](_0x141ac4['groupJid'],_0x193501);}return await this['findGroup']({'groupJid':_0x141ac4[_0x5e2ecc(0x65b)]});}catch(_0x410da3){let _0x566a4c=_0x5e2ecc(0x3b9),_0x3b393e=_0x410da3 instanceof Error?_0x410da3[_0x5e2ecc(0x80a)]:typeof _0x410da3==_0x5e2ecc(0x79d)?JSON[_0x5e2ecc(0x751)](_0x410da3):_0x410da3,_0x4a00d6=_0x566a4c+':\x20'+_0x3b393e;throw this[_0x5e2ecc(0x5c7)][_0x5e2ecc(0x6f3)](this[_0x5e2ecc(0x87e)]+'\x20('+this['instance'][_0x5e2ecc(0x6c1)]+_0x5e2ecc(0x77c)+_0x4a00d6),new x(_0x4a00d6);}}async[a0_0x5ae34c(0x705)](_0x3bf876){const _0x30b3a5=a0_0x5ae34c;try{let _0x58ca39=_0x3bf876[_0x30b3a5(0x878)][_0x30b3a5(0x89e)](_0x1dd1c1=>this[_0x30b3a5(0x4d3)](_0x1dd1c1));if(_0x3bf876[_0x30b3a5(0x1fe)]===_0x30b3a5(0x8b1)||_0x3bf876[_0x30b3a5(0x1fe)]===_0x30b3a5(0x202))await this[_0x30b3a5(0x454)][_0x30b3a5(0x103)](_0x3bf876[_0x30b3a5(0x65b)],_0x58ca39,_0x3bf876[_0x30b3a5(0x1fe)]);else{if(_0x3bf876[_0x30b3a5(0x1fe)]===_0x30b3a5(0x2a2)){let _0x5a60bd=(await this['whatsappNumber']({'numbers':_0x3bf876[_0x30b3a5(0x878)]}))[_0x30b3a5(0x252)](_0x504115=>_0x504115[_0x30b3a5(0x17c)])[_0x30b3a5(0x89e)](_0x4fac7b=>this[_0x30b3a5(0x4d3)](_0x4fac7b[_0x30b3a5(0x25c)]));if(_0x5a60bd[_0x30b3a5(0x3b3)]===0x0)throw new m(_0x30b3a5(0x5ac));await this[_0x30b3a5(0x454)][_0x30b3a5(0x52a)](_0x3bf876[_0x30b3a5(0x65b)],_0x5a60bd,_0x30b3a5(0x2a2));}else await this['client'][_0x30b3a5(0x52a)](_0x3bf876['groupJid'],_0x58ca39,_0x3bf876[_0x30b3a5(0x1fe)]);}return await this[_0x30b3a5(0x809)]({'groupJid':_0x3bf876[_0x30b3a5(0x65b)]});}catch(_0xb8de54){let _0x196656=_0x30b3a5(0x477),_0x45f177=_0xb8de54 instanceof Error?_0xb8de54[_0x30b3a5(0x80a)]:typeof _0xb8de54=='object'?JSON[_0x30b3a5(0x751)](_0xb8de54):_0xb8de54,_0x4b25a5=_0x196656+':\x20'+_0x45f177;throw this[_0x30b3a5(0x5c7)][_0x30b3a5(0x6f3)](this[_0x30b3a5(0x87e)]+'\x20('+this[_0x30b3a5(0x2a1)][_0x30b3a5(0x6c1)]+_0x30b3a5(0x77c)+_0x4b25a5),new m(_0x4b25a5);}}async[a0_0x5ae34c(0x73f)](_0x1a03bd){const _0x4e9d8f=a0_0x5ae34c;try{return await this[_0x4e9d8f(0x454)][_0x4e9d8f(0x73f)](_0x1a03bd[_0x4e9d8f(0x805)]);}catch(_0x151004){let _0x1690ef=_0x4e9d8f(0x196),_0x469648=_0x151004 instanceof Error?_0x151004[_0x4e9d8f(0x80a)]:typeof _0x151004==_0x4e9d8f(0x79d)?JSON[_0x4e9d8f(0x751)](_0x151004):_0x151004,_0x24ece3=_0x1690ef+':\x20'+_0x469648;throw this[_0x4e9d8f(0x5c7)]['error'](this[_0x4e9d8f(0x87e)]+'\x20('+this[_0x4e9d8f(0x2a1)]['wuid']+_0x4e9d8f(0x77c)+_0x24ece3),new m(_0x24ece3);}}async[a0_0x5ae34c(0x809)](_0x5df3f5,_0x29c46c=a0_0x5ae34c(0x3ea)){const _0x1e7fb1=a0_0x5ae34c;try{let _0x43e025=await this['repository'][_0x1e7fb1(0x789)]['findOne']({'where':{'_id':_0x5df3f5[_0x1e7fb1(0x65b)]}},this[_0x1e7fb1(0x2a1)][_0x1e7fb1(0x6c1)]),_0x59554d=_0x43e025?_0x43e025[_0x1e7fb1(0x816)]:null,_0x7895b5=0x18*0x3c*0x3c*0x3e8;if(!_0x59554d||_0x59554d[_0x1e7fb1(0x728)]&&Date[_0x1e7fb1(0x776)]()-_0x59554d[_0x1e7fb1(0x728)]>_0x7895b5){let _0x331649=await this['client'][_0x1e7fb1(0x362)](_0x5df3f5[_0x1e7fb1(0x65b)]);if(_0x331649[_0x1e7fb1(0x749)]=_0x331649?.[_0x1e7fb1(0x749)]&&_0x331649[_0x1e7fb1(0x749)][_0x1e7fb1(0x663)]()[_0x1e7fb1(0x3b3)]<0xd?_0x331649?.['subjectTime']*0x3e8:_0x331649?.[_0x1e7fb1(0x749)]||null,_0x331649['creation']=_0x331649?.[_0x1e7fb1(0x469)]&&_0x331649[_0x1e7fb1(0x469)][_0x1e7fb1(0x663)]()['length']<0xd?_0x331649?.[_0x1e7fb1(0x469)]*0x3e8:_0x331649?.[_0x1e7fb1(0x469)]||null,_0x59554d={..._0x331649,'lastUpdate':Date['now']()},!_0x331649)return;}let _0x16f4b8=_0x59554d[_0x1e7fb1(0x878)]?.[_0x1e7fb1(0x6b2)](_0x46298e=>_0x46298e['id']===this[_0x1e7fb1(0x2a1)][_0x1e7fb1(0x6c1)]+_0x1e7fb1(0x5db)&&_0x46298e[_0x1e7fb1(0x794)]!=null)||!0x1;!_0x59554d[_0x1e7fb1(0x805)]&&_0x16f4b8&&(_0x59554d[_0x1e7fb1(0x805)]=(await this['inviteCode'](_0x5df3f5,!0x1))[_0x1e7fb1(0x4f0)]);let _0x3a40b8=(!_0x59554d[_0x1e7fb1(0x1e4)]||_0x16f4b8)&&(!_0x59554d[_0x1e7fb1(0x42a)]||_0x16f4b8);_0x59554d['isAdmin']=_0x16f4b8,_0x59554d[_0x1e7fb1(0x18d)]=_0x3a40b8;let _0x496797=[];if(_0x16f4b8&&_0x59554d[_0x1e7fb1(0x1a5)])try{_0x496797=await this[_0x1e7fb1(0x454)][_0x1e7fb1(0x19e)](_0x5df3f5['groupJid']),_0x59554d[_0x1e7fb1(0x233)]=Date[_0x1e7fb1(0x776)]();}catch(_0x498f36){this[_0x1e7fb1(0x5c7)][_0x1e7fb1(0x7df)](this[_0x1e7fb1(0x87e)]+'\x20('+this[_0x1e7fb1(0x2a1)][_0x1e7fb1(0x6c1)]+_0x1e7fb1(0x206)+_0x5df3f5['groupJid']+':\x20'+(_0x498f36 instanceof Error?_0x498f36[_0x1e7fb1(0x80a)]:JSON['stringify'](_0x498f36,null,0x2)));}try{_0x59554d['image']=(await this['findAndUpdateCacheContact'](_0x5df3f5['groupJid'],null,!0x0))['cachedContact'][_0x1e7fb1(0x164)];}catch(_0x311ac5){this[_0x1e7fb1(0x5c7)][_0x1e7fb1(0x7df)](this['instanceName']+'\x20('+this['instance'][_0x1e7fb1(0x6c1)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x5df3f5[_0x1e7fb1(0x65b)]+':\x20'+(_0x311ac5 instanceof Error?_0x311ac5[_0x1e7fb1(0x80a)]:JSON[_0x1e7fb1(0x751)](_0x311ac5,null,0x2)));}let _0x5d1d26=_0x59554d['participants']['map'](_0x5575ed=>_0x5575ed['id']),_0x392df2=_0x496797[_0x1e7fb1(0x89e)](_0x3230f5=>_0x3230f5[_0x1e7fb1(0x25c)]),_0xffaaa5=await this[_0x1e7fb1(0x20b)][_0x1e7fb1(0x44c)][_0x1e7fb1(0x4b4)]([..._0x5d1d26,..._0x392df2]);_0x59554d[_0x1e7fb1(0x878)]=_0x59554d[_0x1e7fb1(0x878)][_0x1e7fb1(0x89e)](_0x31d240=>{const _0x4107a0=_0x1e7fb1;let _0x1b0a17=_0xffaaa5[_0x4107a0(0x42c)](_0x313d1b=>_0x313d1b[_0x4107a0(0x579)]===_0x31d240['id']);return{'id':_0x31d240['id'],'isAdmin':[_0x4107a0(0x794),_0x4107a0(0x682)][_0x4107a0(0x81c)](_0x31d240['admin']),'admin':_0x31d240['admin'],'pushName':_0x1b0a17?.[_0x4107a0(0x48b)],'profilePictureUrl':_0x1b0a17?.['pictureUrl']};}),_0x59554d[_0x1e7fb1(0x76b)]=_0x496797[_0x1e7fb1(0x89e)](_0x31a44e=>{const _0x202513=_0x1e7fb1;let _0x2a8fd8=_0xffaaa5[_0x202513(0x42c)](_0x334a75=>_0x334a75[_0x202513(0x579)]===_0x31a44e['jid']);return{'id':_0x31a44e[_0x202513(0x25c)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x2a8fd8?.[_0x202513(0x48b)],'profilePictureUrl':_0x2a8fd8?.[_0x202513(0x164)],'request_method':_0x31a44e[_0x202513(0x412)],'request_time':_0x31a44e['request_time']};});let _0x16bd26=await this[_0x1e7fb1(0x20b)]['chat']['updateOne']({'where':{'_id':_0x5df3f5[_0x1e7fb1(0x65b)]}},{'imagechat':_0x59554d['image'],'name':_0x59554d[_0x1e7fb1(0x6c9)],'lastcache':Date['now'](),'groupdata':_0x59554d},this['instance'][_0x1e7fb1(0x6c1)]);return F(this[_0x1e7fb1(0x87e)],_0x1e7fb1(0x5dd),{'chat':_0x16bd26}),{'metadata':_0x59554d};}catch(_0x4bd07f){if(_0x29c46c===_0x1e7fb1(0x4cb))return;throw new U(_0x1e7fb1(0x28b),_0x4bd07f[_0x1e7fb1(0x80a)][_0x1e7fb1(0x663)]());}}async['findGroups'](){const _0x49bd16=a0_0x5ae34c;try{this[_0x49bd16(0x5c7)][_0x49bd16(0x31c)]('Retornando\x20grupos\x20COM\x20cache');let _0x2c1d49=Date[_0x49bd16(0x776)](),_0x3b9d41=0x3*0x3c*0x3c*0x3e8;return _0x2c1d49-this[_0x49bd16(0x1f8)]>_0x3b9d41&&(this['findRealGroups'](),this[_0x49bd16(0x1f8)]=_0x2c1d49),(await this['repository'][_0x49bd16(0x789)][_0x49bd16(0x2b2)]({'where':{'group':!0x0}},this[_0x49bd16(0x2a1)][_0x49bd16(0x6c1)]))['map'](_0x4635b1=>({..._0x4635b1[_0x49bd16(0x816)],'groupJid':_0x4635b1?.[_0x49bd16(0x579)],'participants':_0x4635b1?.['groupdata']?.[_0x49bd16(0x878)]||[],'awaitingApproval':_0x4635b1?.[_0x49bd16(0x816)]?.['awaitingApproval']||[],'image':_0x4635b1?.['imagechat']}));}catch(_0x5dde99){let _0x320ad7=_0x49bd16(0x27c),_0x160121=_0x5dde99 instanceof Error?_0x5dde99[_0x49bd16(0x80a)]:typeof _0x5dde99==_0x49bd16(0x79d)?JSON[_0x49bd16(0x751)](_0x5dde99):_0x5dde99,_0x2e4d15=_0x320ad7+':\x20'+_0x160121;throw this[_0x49bd16(0x5c7)][_0x49bd16(0x6f3)](this[_0x49bd16(0x87e)]+'\x20('+this[_0x49bd16(0x2a1)][_0x49bd16(0x6c1)]+'):\x20'+_0x2e4d15),new U(_0x2e4d15);}}async['findRealGroups'](){const _0x2867c1=a0_0x5ae34c;try{this[_0x2867c1(0x5c7)][_0x2867c1(0x31c)](_0x2867c1(0x14c));let _0x515ad0=[],_0x3b0d23=await this[_0x2867c1(0x454)][_0x2867c1(0x325)](),_0x4e34e7=Object[_0x2867c1(0x195)](_0x3b0d23);for(let _0x2f041e=0x0;_0x2f041e<_0x4e34e7[_0x2867c1(0x3b3)];_0x2f041e++){let _0x1435b6=_0x4e34e7[_0x2f041e];(0x0,w['isJidGroup'])(_0x1435b6?.['id'])&&(_0x515ad0['push']({'groupJid':_0x1435b6?.['id'],'subject':_0x1435b6?.['subject'],'subjectOwner':_0x1435b6?.[_0x2867c1(0x7a0)]?.[_0x2867c1(0x1a3)]('@')[0x0],'subjectTime':_0x1435b6?.[_0x2867c1(0x749)],'creation':_0x1435b6?.['creation'],'size':_0x1435b6?.[_0x2867c1(0x878)]?.['length'],'owner':_0x1435b6?.[_0x2867c1(0x1da)]?.[_0x2867c1(0x1a3)]('@')[0x0],'desc':_0x1435b6?.[_0x2867c1(0x163)],'restrict':_0x1435b6?.[_0x2867c1(0x57a)],'announce':_0x1435b6?.[_0x2867c1(0x1e4)],'image':null,'isCommunity':_0x1435b6?.['isCommunity'],'joinApprovalMode':_0x1435b6?.['joinApprovalMode'],'memberCanAddParticipant':_0x1435b6?.[_0x2867c1(0x3e5)],'participants':_0x1435b6?.[_0x2867c1(0x878)],'descOwner':_0x1435b6?.[_0x2867c1(0x356)],'descId':_0x1435b6?.[_0x2867c1(0x6ab)],'memberAddMode':_0x1435b6?.['memberAddMode'],'isCommunityAnnounce':_0x1435b6?.['isCommunityAnnounce'],'ephemeralDuration':_0x1435b6?.[_0x2867c1(0x779)]||0x0,'author':_0x1435b6?.[_0x2867c1(0x48c)]}),this[_0x2867c1(0x224)](_0x4e34e7[_0x2f041e]));}return _0x515ad0;}catch(_0x44fd9d){let _0x1592ab=_0x2867c1(0x505),_0x157aa0=_0x44fd9d instanceof Error?_0x44fd9d[_0x2867c1(0x80a)]:typeof _0x44fd9d==_0x2867c1(0x79d)?JSON[_0x2867c1(0x751)](_0x44fd9d):_0x44fd9d,_0x31e126=_0x1592ab+':\x20'+_0x157aa0;throw this[_0x2867c1(0x5c7)][_0x2867c1(0x6f3)](this[_0x2867c1(0x87e)]+'\x20('+this[_0x2867c1(0x2a1)]['wuid']+_0x2867c1(0x77c)+_0x31e126),new U(_0x31e126);}}async['updateChatGroupData'](_0x19ae91){const _0x23121f=a0_0x5ae34c;let _0x10009b=await this['repository'][_0x23121f(0x789)][_0x23121f(0x875)]({'where':{'_id':_0x19ae91['id']}},this[_0x23121f(0x2a1)][_0x23121f(0x6c1)]);if(_0x19ae91['subjectTime']=_0x19ae91?.['subjectTime']&&_0x19ae91[_0x23121f(0x749)][_0x23121f(0x663)]()[_0x23121f(0x3b3)]<0xd?_0x19ae91?.['subjectTime']*0x3e8:_0x19ae91?.[_0x23121f(0x749)]||null,_0x19ae91[_0x23121f(0x469)]=_0x19ae91?.[_0x23121f(0x469)]&&_0x19ae91[_0x23121f(0x469)]['toString']()[_0x23121f(0x3b3)]<0xd?_0x19ae91?.[_0x23121f(0x469)]*0x3e8:_0x19ae91?.[_0x23121f(0x469)]||null,!_0x19ae91[_0x23121f(0x86f)])try{_0x19ae91[_0x23121f(0x86f)]=await this[_0x23121f(0x454)][_0x23121f(0x89d)](_0x19ae91['id'],_0x23121f(0x3f6));}catch(_0x4a95b0){this[_0x23121f(0x5c7)][_0x23121f(0x7df)](this['instanceName']+'\x20('+this[_0x23121f(0x2a1)][_0x23121f(0x6c1)]+_0x23121f(0x830)+_0x19ae91['id']+':\x20'+(_0x4a95b0 instanceof Error?_0x4a95b0[_0x23121f(0x80a)]:JSON[_0x23121f(0x751)](_0x4a95b0,null,0x2)));}let _0x1aec08=_0x19ae91[_0x23121f(0x878)]['map'](_0x19435d=>{const _0x3cdfde=_0x23121f;let _0x57dc16=_0x10009b?.[_0x3cdfde(0x816)]?.[_0x3cdfde(0x878)][_0x3cdfde(0x42c)](_0xed2b05=>_0xed2b05['id']===_0x19435d['id']);return{..._0x19435d,'isAdmin':['admin',_0x3cdfde(0x682)]['includes'](_0x19435d['admin']),'admin':_0x19435d[_0x3cdfde(0x794)],'name':_0x57dc16?.[_0x3cdfde(0x48b)]||_0x19435d[_0x3cdfde(0x48b)],'imgUrl':_0x57dc16?.['imgUrl']||_0x19435d['imgUrl']};}),_0x3d64fd=_0x1aec08[_0x23121f(0x6b2)](_0x15a684=>_0x15a684['id']===this[_0x23121f(0x2a1)][_0x23121f(0x6c1)]+_0x23121f(0x5db)&&_0x15a684[_0x23121f(0x794)]!=null)||!0x1,_0xd49881=(!_0x19ae91[_0x23121f(0x1e4)]||_0x3d64fd)&&(!_0x19ae91[_0x23121f(0x42a)]||_0x3d64fd),_0x297133={..._0x19ae91,'participants':_0x1aec08,'awaitingApproval':_0x10009b?.[_0x23121f(0x816)]?.[_0x23121f(0x76b)]||[],'lastFetchAwaitingApproval':_0x10009b?.[_0x23121f(0x816)]?.['lastFetchAwaitingApproval'],'isAdmin':_0x3d64fd,'canSendMessage':_0xd49881,'lastUpdate':Date[_0x23121f(0x776)]()};await this[_0x23121f(0x20b)][_0x23121f(0x789)][_0x23121f(0x41a)]({'where':{'_id':_0x19ae91['id']}},{'imagechat':_0x19ae91[_0x23121f(0x86f)],'name':_0x19ae91[_0x23121f(0x6c9)],'group':!0x0,'groupdata':_0x297133,'lastcache':Date[_0x23121f(0x776)]()},this['instance']['wuid']),F(this[_0x23121f(0x87e)],_0x23121f(0x5dd),{'chat':_0x19ae91});}async[a0_0x5ae34c(0x359)](_0x5945b6){const _0x2758b7=a0_0x5ae34c;let _0xadc7de=await this[_0x2758b7(0x20b)][_0x2758b7(0x789)]['findOne']({'where':{'_id':_0x5945b6['id']}},this[_0x2758b7(0x2a1)]['wuid']);_0x5945b6[_0x2758b7(0x749)]=_0x5945b6?.[_0x2758b7(0x749)]&&_0x5945b6[_0x2758b7(0x749)][_0x2758b7(0x663)]()[_0x2758b7(0x3b3)]<0xd?_0x5945b6?.[_0x2758b7(0x749)]*0x3e8:_0x5945b6?.[_0x2758b7(0x749)]||null,_0x5945b6['creation']=_0x5945b6?.['creation']&&_0x5945b6[_0x2758b7(0x469)][_0x2758b7(0x663)]()[_0x2758b7(0x3b3)]<0xd?_0x5945b6?.[_0x2758b7(0x469)]*0x3e8:_0x5945b6?.['creation']||null,_0x5945b6[_0x2758b7(0x805)]&&(_0x5945b6[_0x2758b7(0x805)]=_0x2758b7(0x214)+_0x5945b6[_0x2758b7(0x805)]);let _0x2e374c=_0xadc7de?.[_0x2758b7(0x816)]?{..._0xadc7de[_0x2758b7(0x816)]}:{};Object[_0x2758b7(0x57b)](_0x5945b6)['forEach'](_0x11c3f7=>{_0x11c3f7!=='id'&&(_0x2e374c[_0x11c3f7]=_0x5945b6[_0x11c3f7]);});let _0x38c260=_0x2e374c[_0x2758b7(0x878)]?.['some'](_0x1668a7=>_0x1668a7['id']===this[_0x2758b7(0x2a1)][_0x2758b7(0x6c1)]+'@s.whatsapp.net'&&_0x1668a7[_0x2758b7(0x794)]!=null)||!0x1;_0x2e374c[_0x2758b7(0x5e5)]=_0x38c260;let _0x915bdb=(!_0x2e374c[_0x2758b7(0x1e4)]||_0x38c260)&&(!_0x2e374c[_0x2758b7(0x42a)]||_0x38c260);_0x2e374c[_0x2758b7(0x18d)]=_0x915bdb;let _0x3fed76={'group':!0x0,'groupdata':_0x2e374c};_0x5945b6['subject']&&(_0x3fed76[_0x2758b7(0x48b)]=_0x5945b6['subject']),await this[_0x2758b7(0x20b)]['chat'][_0x2758b7(0x41a)]({'where':{'_id':_0x5945b6['id']}},_0x3fed76,this[_0x2758b7(0x2a1)][_0x2758b7(0x6c1)],{'upsert':!0x0}),F(this[_0x2758b7(0x87e)],_0x2758b7(0x5dd),{'chat':_0x3fed76});}async[a0_0x5ae34c(0x660)](_0x3d67fd){const _0x37ab4c=a0_0x5ae34c;let _0x572af7=await this[_0x37ab4c(0x20b)]['chat'][_0x37ab4c(0x875)]({'where':{'_id':_0x3d67fd['id']}},this['instance'][_0x37ab4c(0x6c1)]);if(!_0x572af7||!_0x572af7[_0x37ab4c(0x816)]){this['logger'][_0x37ab4c(0x31c)](this[_0x37ab4c(0x87e)]+'\x20('+this[_0x37ab4c(0x2a1)][_0x37ab4c(0x6c1)]+'):\x20Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x20'+_0x3d67fd['id']);return;}let _0x4b05b6=await this[_0x37ab4c(0x20b)][_0x37ab4c(0x44c)][_0x37ab4c(0x4b4)](_0x3d67fd[_0x37ab4c(0x878)]),_0x46fc4a=[..._0x572af7[_0x37ab4c(0x816)]?.['participants']];switch(_0x3d67fd[_0x37ab4c(0x1fe)]){case'add':_0x4b05b6[_0x37ab4c(0x89e)](_0xe5abda=>({'id':_0xe5abda[_0x37ab4c(0x579)],'isAdmin':!0x1,'name':_0xe5abda[_0x37ab4c(0x48b)],'imgUrl':_0xe5abda[_0x37ab4c(0x164)]}))[_0x37ab4c(0x478)](_0x536613=>{const _0x391dda=_0x37ab4c;_0x46fc4a[_0x391dda(0x6b2)](_0x477a78=>_0x477a78['id']===_0x536613['id'])||(_0x46fc4a['push'](_0x536613),this[_0x391dda(0x5c7)][_0x391dda(0x31c)]('Adicionando\x20novo\x20participante:\x20'+JSON[_0x391dda(0x751)](_0x536613)));});break;case'remove':_0x46fc4a=_0x46fc4a[_0x37ab4c(0x252)](_0x563421=>!_0x3d67fd[_0x37ab4c(0x878)][_0x37ab4c(0x81c)](_0x563421['id']));break;case _0x37ab4c(0x549):_0x46fc4a=_0x46fc4a[_0x37ab4c(0x89e)](_0x2d47e3=>_0x3d67fd[_0x37ab4c(0x878)][_0x37ab4c(0x81c)](_0x2d47e3['id'])?{..._0x2d47e3,'isAdmin':!0x0,'admin':_0x37ab4c(0x794)}:_0x2d47e3);break;case _0x37ab4c(0x63f):_0x46fc4a=_0x46fc4a[_0x37ab4c(0x89e)](_0x30de08=>_0x3d67fd[_0x37ab4c(0x878)][_0x37ab4c(0x81c)](_0x30de08['id'])?{..._0x30de08,'isAdmin':!0x1,'admin':null}:_0x30de08);break;}let _0x15bbb4=_0x46fc4a[_0x37ab4c(0x3b3)],_0x2e99e0=_0x46fc4a['some'](_0x13e64d=>_0x13e64d['id']===this[_0x37ab4c(0x2a1)][_0x37ab4c(0x6c1)]+_0x37ab4c(0x5db)),_0x288732=_0x2e99e0&&_0x46fc4a[_0x37ab4c(0x6b2)](_0x2e178f=>_0x2e178f['id']===this[_0x37ab4c(0x2a1)][_0x37ab4c(0x6c1)]+'@s.whatsapp.net'&&_0x2e178f[_0x37ab4c(0x794)]!=null)||!0x1,_0x28ba96=_0x2e99e0&&(!_0x572af7[_0x37ab4c(0x816)][_0x37ab4c(0x1e4)]||_0x288732)&&(!_0x572af7[_0x37ab4c(0x816)]['isCommunity']||_0x288732);await this[_0x37ab4c(0x20b)]['chat'][_0x37ab4c(0x41a)]({'where':{'_id':_0x3d67fd['id']}},{'groupdata':{..._0x572af7['groupdata'],'participants':_0x46fc4a,'size':_0x15bbb4,'isAdmin':_0x288732,'canSendMessage':_0x28ba96}},this[_0x37ab4c(0x2a1)]['wuid']),this[_0x37ab4c(0x5c7)]['info'](this[_0x37ab4c(0x87e)]+'\x20('+this[_0x37ab4c(0x2a1)][_0x37ab4c(0x6c1)]+_0x37ab4c(0x518)+_0x3d67fd['id']+_0x37ab4c(0x353)+_0x3d67fd[_0x37ab4c(0x1fe)]+_0x37ab4c(0x698)+_0x15bbb4+_0x37ab4c(0x347)+_0x288732+_0x37ab4c(0x82f)+_0x28ba96);}async[a0_0x5ae34c(0x805)](_0x503cd6,_0x52de2e=!0x0){const _0x193996=a0_0x5ae34c;try{let _0xdf5670=await this[_0x193996(0x454)][_0x193996(0x496)](_0x503cd6[_0x193996(0x65b)]),_0x4ade1a={'groupdata.inviteCode':_0x193996(0x214)+_0xdf5670};if(_0x52de2e){let _0x377d10=await this[_0x193996(0x20b)][_0x193996(0x789)][_0x193996(0x41a)]({'where':{'_id':_0x503cd6['groupJid']}},_0x4ade1a,this[_0x193996(0x2a1)][_0x193996(0x6c1)]);}return{'inviteUrl':_0x193996(0x214)+_0xdf5670,'inviteCode':_0xdf5670};}catch(_0x359ead){let _0x1f3053=_0x193996(0x7e1),_0x3d1159=_0x359ead instanceof Error?_0x359ead[_0x193996(0x80a)]:typeof _0x359ead==_0x193996(0x79d)?JSON['stringify'](_0x359ead):_0x359ead,_0x4c1a4f=_0x1f3053+':\x20'+_0x3d1159;throw this[_0x193996(0x5c7)]['error'](this[_0x193996(0x87e)]+'\x20('+this[_0x193996(0x2a1)]['wuid']+_0x193996(0x77c)+_0x4c1a4f),new U(_0x4c1a4f);}}async[a0_0x5ae34c(0x54d)](_0x4a0565){const _0x4da27=a0_0x5ae34c;try{let _0x3bf955=await this[_0x4da27(0x454)]['groupRevokeInvite'](_0x4a0565[_0x4da27(0x65b)]);return{'revoked':!0x0,'inviteUrl':_0x4da27(0x214)+_0x3bf955,'inviteCode':_0x3bf955};}catch(_0x3a5a4a){let _0x3910d2=_0x4da27(0x7a8),_0x41e6be=_0x3a5a4a instanceof Error?_0x3a5a4a[_0x4da27(0x80a)]:typeof _0x3a5a4a==_0x4da27(0x79d)?JSON[_0x4da27(0x751)](_0x3a5a4a):_0x3a5a4a,_0x54be08=_0x3910d2+':\x20'+_0x41e6be;throw this[_0x4da27(0x5c7)][_0x4da27(0x6f3)](this[_0x4da27(0x87e)]+'\x20('+this[_0x4da27(0x2a1)][_0x4da27(0x6c1)]+_0x4da27(0x77c)+_0x54be08),new U(_0x54be08);}}async[a0_0x5ae34c(0x55f)](_0x10c993){const _0x5c36fa=a0_0x5ae34c;try{if((0x0,J[_0x5c36fa(0x129)])(_0x10c993[_0x5c36fa(0x805)]))var _0x747ec9=_0x10c993[_0x5c36fa(0x805)][_0x5c36fa(0x1a3)]('/')[0x3];else var _0x747ec9=_0x10c993[_0x5c36fa(0x805)];let _0x15de4a=await this[_0x5c36fa(0x454)]['groupAcceptInvite'](_0x747ec9);return this[_0x5c36fa(0x5c7)]['verbose'](this[_0x5c36fa(0x87e)]+'\x20('+this[_0x5c36fa(0x2a1)][_0x5c36fa(0x6c1)]+_0x5c36fa(0x77c)+_0x15de4a),{'join':!0x0,'inviteCode':_0x747ec9,'groupJid':_0x15de4a};}catch(_0x163e94){let _0x58231e=_0x5c36fa(0x45b),_0x47f709=_0x163e94 instanceof Error?_0x163e94[_0x5c36fa(0x80a)]:typeof _0x163e94=='object'?JSON[_0x5c36fa(0x751)](_0x163e94):_0x163e94,_0x35035d=_0x58231e+':\x20'+_0x47f709;throw this[_0x5c36fa(0x5c7)][_0x5c36fa(0x6f3)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+_0x35035d),new U(_0x35035d);}}async[a0_0x5ae34c(0x525)](_0x47d9c6){const _0xec346d=a0_0x5ae34c;try{return{'participants':(await this[_0xec346d(0x20b)][_0xec346d(0x789)]['findOne']({'where':{'_id':_0x47d9c6[_0xec346d(0x65b)]}},this[_0xec346d(0x2a1)][_0xec346d(0x6c1)]))[_0xec346d(0x816)][_0xec346d(0x878)]};}catch(_0x4f5761){let _0xeb03ca=_0xec346d(0x700),_0x421880=_0x4f5761 instanceof Error?_0x4f5761[_0xec346d(0x80a)]:typeof _0x4f5761==_0xec346d(0x79d)?JSON[_0xec346d(0x751)](_0x4f5761):_0x4f5761,_0x289809=_0xeb03ca+':\x20'+_0x421880;throw this[_0xec346d(0x5c7)][_0xec346d(0x6f3)](this[_0xec346d(0x87e)]+'\x20('+this[_0xec346d(0x2a1)][_0xec346d(0x6c1)]+_0xec346d(0x77c)+_0x289809),new U(_0x289809);}}async[a0_0x5ae34c(0x2bd)](_0x48b8b9){const _0x563c44=a0_0x5ae34c;try{return await this[_0x563c44(0x454)][_0x563c44(0x2b3)](_0x48b8b9[_0x563c44(0x65b)]),{'groupJid':_0x48b8b9['groupJid'],'leave':!0x0};}catch(_0x5e90ab){let _0x1264de=_0x563c44(0x3e6),_0x55063a=_0x5e90ab instanceof Error?_0x5e90ab[_0x563c44(0x80a)]:typeof _0x5e90ab==_0x563c44(0x79d)?JSON['stringify'](_0x5e90ab):_0x5e90ab,_0x5e27cf=_0x1264de+':\x20'+_0x55063a;throw this[_0x563c44(0x5c7)]['error'](this['instanceName']+'\x20('+this['instance'][_0x563c44(0x6c1)]+_0x563c44(0x77c)+_0x5e27cf),new m(_0x5e27cf);}}async[a0_0x5ae34c(0x3f5)](_0x2d172d){const _0x46204a=a0_0x5ae34c;return await this['sendMessageWithTyping'](_0x2d172d['number'],{'poll':{'name':_0x2d172d[_0x46204a(0x3f5)]?.[_0x46204a(0x48b)],'selectableCount':_0x2d172d[_0x46204a(0x3f5)]['selectableCount'],'values':_0x2d172d[_0x46204a(0x3f5)][_0x46204a(0x195)]}},_0x2d172d?.[_0x46204a(0x5aa)]);}async[a0_0x5ae34c(0x710)](_0x37a7ad){const _0x15c5d8=a0_0x5ae34c;return await this[_0x15c5d8(0x6ae)](_0x37a7ad[_0x15c5d8(0x63b)],{'listMessage':{'title':_0x37a7ad[_0x15c5d8(0x710)][_0x15c5d8(0x7e8)],'description':_0x37a7ad[_0x15c5d8(0x710)][_0x15c5d8(0x55d)],'buttonText':_0x37a7ad[_0x15c5d8(0x710)]?.[_0x15c5d8(0x3ac)],'footerText':_0x37a7ad[_0x15c5d8(0x710)]?.[_0x15c5d8(0x6aa)],'sections':_0x37a7ad[_0x15c5d8(0x710)]['sections'],'listType':0x2}},_0x37a7ad?.['options']);}async['menuMessage'](_0x54c225){const _0x2444d0=a0_0x5ae34c;this['instance'][_0x2444d0(0x6f1)]===void 0x0&&await this[_0x2444d0(0x758)]();let _0x1f2f20;if(_0x54c225[_0x2444d0(0x150)][_0x2444d0(0x279)]==='list'||_0x54c225['menuMessage'][_0x2444d0(0x279)]===_0x2444d0(0x5f8)){let _0x49b160=_0x54c225[_0x2444d0(0x150)][_0x2444d0(0x24e)][_0x2444d0(0x5ef)]('\x0a'),_0x28479a='',_0x35c1a1='';_0x49b160!==-0x1?(_0x28479a=_0x54c225[_0x2444d0(0x150)][_0x2444d0(0x24e)]['substring'](0x0,_0x49b160)['trim'](),_0x35c1a1=_0x54c225['menuMessage']['text']['substring'](_0x49b160+0x1)):_0x35c1a1=_0x54c225[_0x2444d0(0x150)][_0x2444d0(0x24e)];let _0x4febf2=_0x54c225[_0x2444d0(0x150)][_0x2444d0(0x11d)][_0x2444d0(0x252)](_0x25cf8b=>_0x25cf8b[_0x2444d0(0x1b6)]()!==''),_0x5dcf38=this[_0x2444d0(0x26b)](_0x4febf2);_0x1f2f20={'listMessage':{'title':_0x28479a,'description':_0x35c1a1,'buttonText':_0x54c225[_0x2444d0(0x150)][_0x2444d0(0x3ac)]||_0x2444d0(0x134),'footerText':_0x54c225[_0x2444d0(0x150)]['footerText'],'sections':_0x5dcf38,'listType':0x2}};}else{if(_0x54c225[_0x2444d0(0x150)][_0x2444d0(0x279)]===_0x2444d0(0x53d)){let _0x562fec=_0x54c225[_0x2444d0(0x150)]['choices']['filter'](_0x3afbb2=>!(_0x3afbb2[_0x2444d0(0x6ed)]('[')&&_0x3afbb2[_0x2444d0(0x267)](']'))&&_0x3afbb2[_0x2444d0(0x1b6)]()!=='')[_0x2444d0(0x89e)](_0x1b7b47=>_0x1b7b47[_0x2444d0(0x1a3)]('\x0a')[0x0]);for(;_0x562fec['length']<0x2;)_0x562fec[_0x2444d0(0x6dd)]('Opção\x20Falsa\x20'+(_0x562fec['length']+0x1));_0x1f2f20={'poll':{'name':_0x54c225[_0x2444d0(0x150)][_0x2444d0(0x24e)],'selectableCount':_0x54c225[_0x2444d0(0x150)][_0x2444d0(0x81d)]||0x1,'values':_0x562fec}};}else{if(_0x54c225['menuMessage'][_0x2444d0(0x279)]===_0x2444d0(0x467)){let _0x5501a6=this[_0x2444d0(0x448)](_0x54c225[_0x2444d0(0x150)][_0x2444d0(0x11d)][_0x2444d0(0x252)](_0x3a9ce1=>!(_0x3a9ce1['startsWith']('[')&&_0x3a9ce1[_0x2444d0(0x267)](']'))));return _0x1f2f20={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x54c225[_0x2444d0(0x150)]['text']},'footer':_0x54c225[_0x2444d0(0x150)][_0x2444d0(0x6aa)]?{'text':_0x54c225[_0x2444d0(0x150)][_0x2444d0(0x6aa)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x5501a6,'messageParamsJson':JSON[_0x2444d0(0x751)]({'from':_0x2444d0(0x57f),'templateId':_0x2444d0(0x2cc)+(0x0,oe[_0x2444d0(0x4a1)])(0x12)[_0x2444d0(0x663)](_0x2444d0(0x715))[_0x2444d0(0x25e)]()})}}}}},await this['sendMessageWithTypingButtons'](_0x54c225[_0x2444d0(0x63b)],_0x1f2f20,_0x54c225?.['options']);}else{if(_0x54c225[_0x2444d0(0x150)][_0x2444d0(0x279)]==='list3'){let _0x513daf=this[_0x2444d0(0x692)](_0x54c225[_0x2444d0(0x150)][_0x2444d0(0x11d)]);return _0x1f2f20={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x54c225[_0x2444d0(0x150)]['text']},'footer':_0x54c225[_0x2444d0(0x150)][_0x2444d0(0x6aa)]?{'text':_0x54c225[_0x2444d0(0x150)]['footerText']}:void 0x0,'nativeFlowMessage':{'buttons':_0x513daf,'messageParamsJson':JSON[_0x2444d0(0x751)]({'from':_0x2444d0(0x57f),'templateId':'3EB0'+(0x0,oe[_0x2444d0(0x4a1)])(0x12)[_0x2444d0(0x663)]('hex')[_0x2444d0(0x25e)]()})}}}}},await this[_0x2444d0(0x77b)](_0x54c225[_0x2444d0(0x63b)],_0x1f2f20,_0x54c225?.['options']);}}}}return await this[_0x2444d0(0x6ae)](_0x54c225[_0x2444d0(0x63b)],_0x1f2f20,_0x54c225?.[_0x2444d0(0x5aa)]);}[a0_0x5ae34c(0x448)](_0xb3c93f){const _0x2bb584=a0_0x5ae34c;return _0xb3c93f[_0x2bb584(0x89e)](_0x344339=>{const _0x36a65f=_0x2bb584;let _0x2269fa=_0x344339['split']('\x0a')[_0x36a65f(0x89e)](_0x3f5254=>_0x3f5254[_0x36a65f(0x1b6)]()),_0x414db4=_0x2269fa[0x0],_0x7afd8e=_0x2269fa[0x1]||_0x414db4,_0x15a21e=_0x7afd8e['startsWith'](_0x36a65f(0x73d))?_0x36a65f(0x476):_0x36a65f(0x6f8);return{'name':_0x15a21e,'buttonParamsJson':JSON[_0x36a65f(0x751)]({'display_text':_0x414db4,'id':_0x15a21e===_0x36a65f(0x6f8)?_0x7afd8e:void 0x0,'url':_0x15a21e===_0x36a65f(0x476)?_0x7afd8e:void 0x0})};});}['createButtonSectionsFromValues'](_0x513cdd){const _0x592bfa=a0_0x5ae34c;let _0x169c12=[],_0x1cd51a={'title':'','rows':[]};return _0x513cdd[_0x592bfa(0x478)](_0x283836=>{const _0x598a63=_0x592bfa;if(_0x283836[_0x598a63(0x6ed)]('[')&&_0x283836[_0x598a63(0x267)](']'))_0x1cd51a[_0x598a63(0x5a5)]['length']>0x0&&_0x169c12[_0x598a63(0x6dd)](_0x1cd51a),_0x1cd51a={'title':_0x283836[_0x598a63(0x29e)](0x1,-0x1),'rows':[]};else{let _0x442ce2=_0x283836[_0x598a63(0x1a3)]('\x0a')[_0x598a63(0x89e)](_0x1dc47b=>_0x1dc47b[_0x598a63(0x1b6)]()),_0x42ec47=_0x442ce2[0x0],_0x2dfb59=_0x442ce2[0x1]?_0x442ce2[0x1]:void 0x0,_0x5d8c98=_0x442ce2[0x2]||_0x42ec47;_0x1cd51a[_0x598a63(0x5a5)][_0x598a63(0x6dd)]({'title':_0x42ec47,'description':_0x2dfb59,'id':_0x5d8c98});}}),_0x1cd51a['rows']['length']>0x0&&_0x169c12['push'](_0x1cd51a),[{'name':_0x592bfa(0x51e),'buttonParamsJson':JSON['stringify']({'title':_0x592bfa(0x7c9),'sections':_0x169c12})}];}[a0_0x5ae34c(0x26b)](_0x1a32bc){const _0x4b853a=a0_0x5ae34c;let _0x48d2e5=[],_0x5baa0e={'rows':[]};return _0x1a32bc[_0x4b853a(0x478)](_0x15159a=>{const _0x5bcce2=_0x4b853a;if(_0x15159a[_0x5bcce2(0x6ed)]('[')&&_0x15159a[_0x5bcce2(0x267)](']'))_0x5baa0e[_0x5bcce2(0x5a5)]['length']>0x0&&_0x48d2e5[_0x5bcce2(0x6dd)](_0x5baa0e),_0x5baa0e={'title':_0x15159a[_0x5bcce2(0x29e)](0x1,-0x1),'rows':[]};else{let _0x430ea1=_0x15159a[_0x5bcce2(0x1a3)]('\x0a')[_0x5bcce2(0x89e)](_0x281500=>_0x281500['trim']()),_0xf2ec9f=_0x430ea1[0x0],_0xaaa811=_0x430ea1[0x1]||null,_0xeca52f=_0x430ea1[0x2]||_0xf2ec9f;_0x5baa0e[_0x5bcce2(0x5a5)][_0x5bcce2(0x6dd)]({'title':_0xf2ec9f,'description':_0xaaa811,'rowId':_0xeca52f});}}),_0x5baa0e[_0x4b853a(0x5a5)]['length']>0x0&&_0x48d2e5[_0x4b853a(0x6dd)](_0x5baa0e),_0x48d2e5;}async['updateMessage'](_0x5d390e,_0x1433a7){const _0x1d36f0=a0_0x5ae34c;if(await this['getMessage'](_0x5d390e,!0x0)){let _0x53c18c={'where':{'_id':_0x5d390e['id']}},_0x4ecd13={'status':[_0x1433a7[_0x1d36f0(0x41e)]][0x0]};try{let _0x598676=await this[_0x1d36f0(0x20b)][_0x1d36f0(0x80a)]['update'](_0x53c18c,_0x4ecd13,this[_0x1d36f0(0x2a1)][_0x1d36f0(0x6c1)]);_0x598676&&F(this['instanceName'],'messages',{'message':_0x598676});}catch{}}}['sectionsToString'](_0x1068e2){const _0x1bcfc8=a0_0x5ae34c;let _0x193c90=[];return _0x1068e2[_0x1bcfc8(0x478)](_0xedf38e=>{const _0x1e75df=_0x1bcfc8;_0xedf38e[_0x1e75df(0x7e8)]&&_0x193c90[_0x1e75df(0x6dd)]('['+_0xedf38e['title']+']'),_0xedf38e[_0x1e75df(0x5a5)][_0x1e75df(0x478)](_0x23ffe5=>{const _0x1b5534=_0x1e75df;_0x193c90[_0x1b5534(0x6dd)](_0x23ffe5[_0x1b5534(0x7e8)]);});}),_0x193c90[_0x1bcfc8(0x88d)]('|');}[a0_0x5ae34c(0x7e6)](_0x197d53){const _0x5cde22=a0_0x5ae34c;let _0x2676bc=_0x197d53[_0x5cde22(0x2af)](/\\n/g,'\x0a')[_0x5cde22(0x1a3)]('\x0a')[_0x5cde22(0x252)](_0x3be9a6=>_0x3be9a6[_0x5cde22(0x81c)](_0x5cde22(0x780))||_0x3be9a6[_0x5cde22(0x81c)](_0x5cde22(0x5e3))),_0x13586f='';return _0x2676bc[_0x5cde22(0x478)](_0x32c0c3=>{const _0x87204=_0x5cde22;let _0x53dfaa=/TEL(?:.*):(.+)/,_0x56d15e=/EMAIL(?:.*):(.+)/,_0x362f25=_0x32c0c3[_0x87204(0x80b)](_0x53dfaa),_0x1b4582=_0x32c0c3[_0x87204(0x80b)](_0x56d15e);if(_0x362f25){let _0x5d1e23=_0x362f25[0x1][_0x87204(0x2af)](/-| |\+|\(|\)/g,'')[_0x87204(0x1b6)]();_0x13586f+=_0x87204(0x586)+_0x5d1e23+'\x0a';}else{if(_0x1b4582){let _0x1aa054=_0x1b4582[0x1][_0x87204(0x1b6)]();_0x13586f+=_0x87204(0x4e1)+_0x1aa054+'\x0a';}}}),_0x13586f[_0x5cde22(0x1b6)]();}async[a0_0x5ae34c(0x1e6)](_0x412d79,_0x2cf64,_0x440246,_0x353401=null){const _0x4c56c9=a0_0x5ae34c;if(_0x412d79[_0x4c56c9(0x3d3)])try{let _0x4da8a3=_0x2cf64[_0x4c56c9(0x1e3)]['remoteJid'][_0x4c56c9(0x2af)](/:\d{1,2}@/g,'@'),_0x1a4d5b=_0x2cf64[_0x4c56c9(0x1e3)][_0x4c56c9(0x210)],_0x22f9c6=_0x4da8a3[_0x4c56c9(0x267)](_0x4c56c9(0x43a)),_0x1dfe15=_0x2cf64[_0x4c56c9(0x613)]?.['replace'](/:\d{1,2}@/g,'@')||'',_0x12019d=_0x2cf64[_0x4c56c9(0x18f)]?.[_0x4c56c9(0x24e)]||_0x2cf64[_0x4c56c9(0x18f)]?.[_0x4c56c9(0x427)]||_0x2cf64[_0x4c56c9(0x18f)]?.['vote']||_0x2cf64[_0x4c56c9(0x18f)]?.[_0x4c56c9(0x48b)]||'',_0x54a00c={'_id':_0x2cf64[_0x4c56c9(0x579)],'remoteJid':_0x1a4d5b?this[_0x4c56c9(0x2a1)][_0x4c56c9(0x6c1)]:_0x22f9c6?_0x1dfe15:_0x4da8a3,'pushName':_0x1a4d5b?this[_0x4c56c9(0x2a1)][_0x4c56c9(0x6f9)]||'Eu':_0x2cf64[_0x4c56c9(0x522)],'text':_0x12019d,'type':_0x2cf64['messageType'],'when':_0x2cf64[_0x4c56c9(0x22b)]||Date[_0x4c56c9(0x776)]()};_0x353401||(_0x353401=await this[_0x4c56c9(0x20b)][_0x4c56c9(0x789)][_0x4c56c9(0x875)]({'where':{'_id':_0x4da8a3}},this['instance'][_0x4c56c9(0x6c1)]));let _0x2875a4=_0x1a4d5b?0x0:_0x353401?(_0x353401[_0x4c56c9(0x439)]||0x0)+0x1:0x1,_0x30a838={'lastmsg':_0x2cf64[_0x4c56c9(0x22b)]||Date['now'](),'ephemeralExpiration':_0x2cf64['expiration'],'lastMessage':_0x54a00c,'unreadcount':_0x2875a4,..._0x1a4d5b||_0x22f9c6?{}:{'name':_0x2cf64['pushName']},..._0x22f9c6?{'group':_0x22f9c6}:{},...!_0x1a4d5b&&!_0x22f9c6&&_0x2cf64[_0x4c56c9(0x89d)]?{'imagechat':_0x2cf64['profilePictureUrl']}:{}};if(!_0x22f9c6&&(!_0x353401?.[_0x4c56c9(0x138)]||!_0x353401['leadInfo']['nome'])&&_0x2cf64[_0x4c56c9(0x522)]&&!_0x1a4d5b&&(_0x30a838={..._0x30a838,'leadInfo.nome':_0x2cf64[_0x4c56c9(0x522)]}),_0x353401?.[_0x4c56c9(0x138)]['etiquetas']||(_0x30a838={..._0x30a838,'leadInfo.etiquetas':[]}),_0x353401?.[_0x4c56c9(0x138)][_0x4c56c9(0x34b)]||(_0x30a838={..._0x30a838,'leadInfo.customFields':[]}),_0x353401?.[_0x4c56c9(0x138)][_0x4c56c9(0x80c)]||(_0x30a838={..._0x30a838,'leadInfo.tags':[]}),_0x353401&&_0x353401?.['imported']){let _0x2d4acc=await this['repository'][_0x4c56c9(0x727)][_0x4c56c9(0x42c)]({'where':{}},this[_0x4c56c9(0x2a1)][_0x4c56c9(0x6c1)]),_0x489cac=new Set(_0x2d4acc[_0x4c56c9(0x89e)](_0x1ddab9=>_0x1ddab9['_id'])),_0x2928a2=(_0x353401[_0x4c56c9(0x138)]?.[_0x4c56c9(0x39b)]||[])[_0x4c56c9(0x252)](_0x276768=>_0x489cac[_0x4c56c9(0x567)](_0x276768));_0x30a838={..._0x30a838,'imported':!0x1,'leadInfo.etiquetas':_0x2928a2};for(let _0x425e0f of _0x2928a2)await this[_0x4c56c9(0x3de)](_0x425e0f,_0x4da8a3);}if(!this[_0x4c56c9(0x541)][_0x4c56c9(0x7dc)][_0x4c56c9(0x42c)](_0x5282c9=>_0x5282c9[_0x4c56c9(0x887)]&&_0x12019d[_0x4c56c9(0x81c)](_0x5282c9[_0x4c56c9(0x887)]))&&_0x440246===_0x4c56c9(0x3a7)&&_0x1a4d5b&&this[_0x4c56c9(0x541)]?.[_0x4c56c9(0x670)][_0x4c56c9(0x6af)]&&_0x12019d['trim']()!==this['AutomateSystem']?.[_0x4c56c9(0x670)]['stopConversation'][_0x4c56c9(0x1b6)]()){let _0x5820f4=(this[_0x4c56c9(0x541)]?.[_0x4c56c9(0x670)][_0x4c56c9(0x737)]||0x0)*0xea60,_0x287981=Date[_0x4c56c9(0x776)]()+_0x5820f4;_0x353401?.[_0x4c56c9(0x138)]?.[_0x4c56c9(0x216)]===0x0||(_0x30a838={..._0x30a838,'leadInfo.desativadoFluxoAte':_0x287981},this[_0x4c56c9(0x5c7)]['verbose'](this[_0x4c56c9(0x87e)]+'\x20('+this['instance']['wuid']+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x287981+'.'));}if(_0x12019d[_0x4c56c9(0x1b6)]()===this[_0x4c56c9(0x541)]?.['flowConfig'][_0x4c56c9(0x5ed)][_0x4c56c9(0x1b6)]()){this[_0x4c56c9(0x5c7)][_0x4c56c9(0x7df)](this[_0x4c56c9(0x87e)]+'\x20('+this[_0x4c56c9(0x2a1)][_0x4c56c9(0x6c1)]+_0x4c56c9(0x755)+_0x12019d);let _0x10537b=Date[_0x4c56c9(0x776)]();this[_0x4c56c9(0x541)]?.[_0x4c56c9(0x670)]['stopMinutes']===0x0?_0x30a838={..._0x30a838,'leadInfo.desativadoFluxoAte':_0x10537b+0x7591f6200}:_0x30a838={..._0x30a838,'leadInfo.desativadoFluxoAte':_0x10537b+this[_0x4c56c9(0x541)]?.[_0x4c56c9(0x670)][_0x4c56c9(0x271)]*0x3c*0x3e8};}if(_0x353401=await this['repository'][_0x4c56c9(0x789)][_0x4c56c9(0x41a)]({'where':{'_id':_0x4da8a3}},_0x30a838,this['instance'][_0x4c56c9(0x6c1)],{'new':!0x0,'upsert':!0x0}),_0x353401)F(this[_0x4c56c9(0x87e)],_0x4c56c9(0x5dd),{'chat':_0x353401});else{this['logger'][_0x4c56c9(0x6f3)](this[_0x4c56c9(0x87e)]+'\x20('+this[_0x4c56c9(0x2a1)]['wuid']+_0x4c56c9(0x6da));return;}if(_0x1a4d5b)return this[_0x4c56c9(0x5c7)][_0x4c56c9(0x7df)](this['instanceName']+'\x20('+this[_0x4c56c9(0x2a1)][_0x4c56c9(0x6c1)]+'):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...'),null;if(!this[_0x4c56c9(0x541)]?.[_0x4c56c9(0x670)][_0x4c56c9(0x6af)])return this[_0x4c56c9(0x5c7)][_0x4c56c9(0x7df)](this[_0x4c56c9(0x87e)]+'\x20('+this[_0x4c56c9(0x2a1)][_0x4c56c9(0x6c1)]+'):\x20Flow\x20desativado'),null;if(_0x353401[_0x4c56c9(0x579)][_0x4c56c9(0x81c)](_0x4c56c9(0x43a))&&this['AutomateSystem']?.['flowConfig'][_0x4c56c9(0x370)]===!0x0)return this[_0x4c56c9(0x5c7)][_0x4c56c9(0x7df)](this[_0x4c56c9(0x87e)]+'\x20('+this[_0x4c56c9(0x2a1)][_0x4c56c9(0x6c1)]+_0x4c56c9(0x373)),null;if(_0x353401[_0x4c56c9(0x138)]){if(_0x353401[_0x4c56c9(0x138)][_0x4c56c9(0x216)]===0x0||_0x353401[_0x4c56c9(0x138)]['atendimentoAberto'])return this[_0x4c56c9(0x5c7)]['verbose'](this[_0x4c56c9(0x87e)]+'\x20('+this[_0x4c56c9(0x2a1)][_0x4c56c9(0x6c1)]+_0x4c56c9(0x54c)+_0x4da8a3+_0x4c56c9(0x125)),null;if(_0x353401[_0x4c56c9(0x138)][_0x4c56c9(0x216)]>Date[_0x4c56c9(0x776)]()&&!_0x2cf64[_0x4c56c9(0x18f)]?.[_0x4c56c9(0x1bf)])return this[_0x4c56c9(0x5c7)]['verbose'](this['instanceName']+'\x20('+this[_0x4c56c9(0x2a1)]['wuid']+_0x4c56c9(0x62d)+new Date(_0x353401['leadInfo'][_0x4c56c9(0x216)])[_0x4c56c9(0x5cc)]()+_0x4c56c9(0x125)),null;}this[_0x4c56c9(0x5c7)]['verbose'](this['instanceName']+'\x20('+this[_0x4c56c9(0x2a1)][_0x4c56c9(0x6c1)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x4c56c9(0x285)](_0x2cf64,_0x440246);}catch(_0x287b73){let _0x4bb0c5=_0x4c56c9(0x64d),_0x15a4d9=_0x287b73 instanceof Error?_0x287b73[_0x4c56c9(0x80a)]:typeof _0x287b73==_0x4c56c9(0x79d)?JSON[_0x4c56c9(0x751)](_0x287b73):_0x287b73,_0x4b28a9=_0x4bb0c5+':\x20'+_0x15a4d9;return this[_0x4c56c9(0x5c7)]['error'](this['instanceName']+'\x20('+this[_0x4c56c9(0x2a1)][_0x4c56c9(0x6c1)]+_0x4c56c9(0x77c)+_0x4b28a9),null;}}async[a0_0x5ae34c(0x20a)](_0x2038cd,_0x19630c){const _0x384b24=a0_0x5ae34c;if(_0x19630c['ENABLED']){let _0x9ee50e=_0x2038cd['map'](async _0x441829=>{const _0x18736e=a0_0x475a;try{let _0x11e32c={'_id':_0x441829['_id'],'owner':_0x441829[_0x18736e(0x1da)],'lastcache':0x0};if(Object[_0x18736e(0x57b)](_0x441829)[_0x18736e(0x478)](_0x1942d4=>{_0x441829[_0x1942d4]!==null&&(_0x11e32c[_0x1942d4]=_0x441829[_0x1942d4]);}),_0x11e32c[_0x18736e(0x7fc)]===null&&(_0x11e32c[_0x18736e(0x7fc)]=_0x18736e(0x550)),Object['keys'](_0x11e32c)['length']>0x0)return await this['repository'][_0x18736e(0x789)][_0x18736e(0x41a)]({'where':{'_id':_0x441829[_0x18736e(0x579)]}},_0x11e32c,this[_0x18736e(0x2a1)][_0x18736e(0x6c1)]);}catch(_0x148ea1){let _0x1688c7=_0x18736e(0x462)+_0x441829[_0x18736e(0x579)],_0x28fcf6=_0x148ea1 instanceof Error?_0x148ea1[_0x18736e(0x80a)]:typeof _0x148ea1==_0x18736e(0x79d)?JSON['stringify'](_0x148ea1):_0x148ea1,_0xf902c4=_0x1688c7+':\x20'+_0x28fcf6;return this['logger'][_0x18736e(0x6f3)](this[_0x18736e(0x87e)]+'\x20('+this['instance'][_0x18736e(0x6c1)]+_0x18736e(0x77c)+_0xf902c4),null;}}),_0x119a8a=(await Promise[_0x384b24(0x1ca)](_0x9ee50e))[_0x384b24(0x252)](_0x557776=>_0x557776!==null)[_0x384b24(0x3b3)];this[_0x384b24(0x5c7)]['verbose'](this['instanceName']+'\x20('+this[_0x384b24(0x2a1)][_0x384b24(0x6c1)]+_0x384b24(0x77c)+_0x119a8a+_0x384b24(0x7bf)+this[_0x384b24(0x2a1)][_0x384b24(0x6c1)]+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async[a0_0x5ae34c(0x3b8)](_0xa96210){const _0x836831=a0_0x5ae34c;this[_0x836831(0x5c7)][_0x836831(0x7df)](this['instanceName']+'\x20('+this[_0x836831(0x2a1)][_0x836831(0x6c1)]+_0x836831(0x494));let _0x25cda4={'readMessages':[{'remoteJid':_0xa96210[_0x836831(0x172)]['lastReceivedMessage'][_0x836831(0x1e3)][_0x836831(0x668)],'fromMe':_0xa96210[_0x836831(0x172)][_0x836831(0x1ab)][_0x836831(0x1e3)]['fromMe'],'id':_0xa96210['chatLog']['lastReceivedMessage']['key']['id']}]};await this[_0x836831(0x7fe)](_0x25cda4);}async[a0_0x5ae34c(0x285)](_0x58539c,_0x43e642){const _0x5e73bb=a0_0x5ae34c;try{let {key:_0x24a558,message_normalized:_0x3216ad}=_0x58539c,_0x4ca681=_0x3216ad,_0x5f47cc=_0x3216ad['text']||_0x3216ad[_0x5e73bb(0x427)]||_0x3216ad['vote']||_0x3216ad[_0x5e73bb(0x48b)]||'',_0x4e48a8=_0x24a558[_0x5e73bb(0x668)],_0x35c863=null,_0x4025aa=this['AutomateSystem'][_0x5e73bb(0x7dc)][_0x5e73bb(0x42c)](_0x2e7cd1=>_0x2e7cd1[_0x5e73bb(0x887)]&&_0x5f47cc[_0x5e73bb(0x81c)](_0x2e7cd1[_0x5e73bb(0x887)]));if(_0x4025aa&&_0x43e642===_0x5e73bb(0x3a7)){let _0x2c8797=await this[_0x5e73bb(0x20b)][_0x5e73bb(0x4e0)]['findOne']({'where':{'_id':_0x4025aa[_0x5e73bb(0x579)]}});if(this[_0x5e73bb(0x5c7)][_0x5e73bb(0x7df)](this[_0x5e73bb(0x87e)]+'\x20('+this['instance'][_0x5e73bb(0x6c1)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x2c8797&&_0x2c8797[_0x5e73bb(0x32a)]?.[_0x5e73bb(0x81c)](this['instance'][_0x5e73bb(0x6c1)]))_0x35c863=await this[_0x5e73bb(0x543)](_0x2c8797,_0x24a558,_0x4ca681);else return this[_0x5e73bb(0x5c7)]['verbose'](this['instanceName']+'\x20('+this[_0x5e73bb(0x2a1)]['wuid']+_0x5e73bb(0x1a4)),null;}else this[_0x5e73bb(0x5c7)]['verbose'](this[_0x5e73bb(0x87e)]+'\x20('+this['instance'][_0x5e73bb(0x6c1)]+_0x5e73bb(0x78c));if(_0x35c863=await this[_0x5e73bb(0x45d)](_0x4e48a8,_0x4ca681),_0x35c863){this['logger']['verbose'](this[_0x5e73bb(0x87e)]+'\x20('+this[_0x5e73bb(0x2a1)]['wuid']+_0x5e73bb(0x380)),!_0x24a558[_0x5e73bb(0x210)]&&_0x35c863['readMessages']&&this[_0x5e73bb(0x3b8)](_0x35c863);let _0x19be32=await this['NextBlock'](_0x35c863);_0x19be32&&await this[_0x5e73bb(0x41d)](_0x35c863,_0x19be32);}}catch(_0x1d1c3b){this[_0x5e73bb(0x5c7)][_0x5e73bb(0x6f3)](this[_0x5e73bb(0x87e)]+'\x20('+this[_0x5e73bb(0x2a1)][_0x5e73bb(0x6c1)]+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x1d1c3b instanceof Error?_0x1d1c3b[_0x5e73bb(0x80a)]:JSON[_0x5e73bb(0x751)](_0x1d1c3b,null,0x2)));}}[a0_0x5ae34c(0x757)](_0x33b2df,_0x5d572e='',_0x491052={}){const _0x53ecb6=a0_0x5ae34c;return typeof _0x33b2df!=_0x53ecb6(0x79d)||_0x33b2df===null?(_0x5d572e&&(_0x491052[_0x5d572e]=_0x33b2df),_0x491052):(Object['entries'](_0x33b2df)[_0x53ecb6(0x478)](([_0x9351c1,_0x23297e])=>{const _0x3cd036=_0x53ecb6;let _0x56e9fb=_0x5d572e?_0x5d572e+'.'+_0x9351c1:'_'+_0x9351c1;Array['isArray'](_0x23297e)?_0x23297e[_0x3cd036(0x478)]((_0x499cca,_0x2cbcf9)=>{this['flattenObject'](_0x499cca,_0x56e9fb+'['+_0x2cbcf9+']',_0x491052);}):typeof _0x23297e==_0x3cd036(0x79d)&&_0x23297e!==null?this[_0x3cd036(0x757)](_0x23297e,_0x56e9fb,_0x491052):_0x491052[_0x56e9fb]=String(_0x23297e);}),_0x491052);}['variablesToObject'](_0x4abe4a){const _0x545184=a0_0x5ae34c;let _0x577a5a={};for(let _0x5e3b6a of _0x4abe4a)typeof _0x5e3b6a[_0x545184(0x48b)]==_0x545184(0x3ba)&&typeof _0x5e3b6a[_0x545184(0x4b3)]==_0x545184(0x3ba)&&(_0x577a5a[_0x5e3b6a[_0x545184(0x48b)]]=_0x5e3b6a[_0x545184(0x4b3)]);return _0x577a5a;}async[a0_0x5ae34c(0x237)](_0x539b4d){const _0x38ce68=a0_0x5ae34c;if(!this['AutomateSystem']?.[_0x38ce68(0x670)][_0x38ce68(0x6af)]||_0x539b4d['status']!==_0x38ce68(0x83a)&&_0x539b4d[_0x38ce68(0x470)]==='')return null;let _0x3ffea2=_0x539b4d[_0x38ce68(0x172)][_0x38ce68(0x1bd)]||_0x38ce68(0x580);typeof _0x539b4d[_0x38ce68(0x172)][_0x38ce68(0x36b)]>'u'&&(_0x539b4d[_0x38ce68(0x172)][_0x38ce68(0x36b)]=!0x0);let _0xbfdd22=_0x539b4d['chatLog'][_0x38ce68(0x36b)];this['logger'][_0x38ce68(0x7df)](this[_0x38ce68(0x87e)]+'\x20('+this[_0x38ce68(0x2a1)][_0x38ce68(0x6c1)]+_0x38ce68(0x555)+_0x3ffea2+_0x38ce68(0x632)+_0xbfdd22);let _0x2ce834=_0x3ffea2===_0x38ce68(0x580)?_0x539b4d[_0x38ce68(0x208)]['find'](_0x410978=>_0x410978[_0x38ce68(0x279)]===_0x38ce68(0x580)):_0x539b4d[_0x38ce68(0x208)][_0x38ce68(0x42c)](_0x307dc0=>_0x307dc0[_0x38ce68(0x579)][_0x38ce68(0x663)]()===_0x3ffea2[_0x38ce68(0x663)]());if(!_0x2ce834)return this[_0x38ce68(0x5c7)][_0x38ce68(0x6f3)](this['instanceName']+'\x20('+this[_0x38ce68(0x2a1)][_0x38ce68(0x6c1)]+_0x38ce68(0x447)+_0x3ffea2),null;let _0x1bebe0={'_pushName':_0x539b4d?.['chatLog']?.[_0x38ce68(0x1ab)]?.['pushName']||'','_sender':this['instance'][_0x38ce68(0x6c1)]||'',..._0x539b4d[_0x38ce68(0x172)][_0x38ce68(0x635)]},_0x2bf1d5=new Date();_0x1bebe0[_0x38ce68(0x583)]=_0x2bf1d5['getDate'](),_0x1bebe0['_month']=_0x2bf1d5[_0x38ce68(0x539)]()+0x1,_0x1bebe0[_0x38ce68(0x552)]=_0x2bf1d5[_0x38ce68(0x7ff)](),_0x1bebe0[_0x38ce68(0x6de)]=_0x2bf1d5[_0x38ce68(0x269)](),_0x1bebe0[_0x38ce68(0x833)]=_0x2bf1d5[_0x38ce68(0x102)](),_0x1bebe0['_second']=_0x2bf1d5[_0x38ce68(0x45f)]();let _0x2f1385=null;if(_0x539b4d['waitingMenu_id']){let _0x576c7b=_0x539b4d[_0x38ce68(0x172)][_0x38ce68(0x1ab)][_0x38ce68(0x1bf)],_0x440d90=_0x539b4d[_0x38ce68(0x634)][_0x38ce68(0x42c)](_0x2a1093=>_0x2a1093[_0x38ce68(0x7b0)]===_0x576c7b);if(_0x440d90){let _0x381c88=_0x440d90['next_groupId'];if(_0x2f1385=_0x539b4d[_0x38ce68(0x208)][_0x38ce68(0x42c)](_0x4e9c30=>_0x4e9c30[_0x38ce68(0x641)]===_0x381c88&&_0x4e9c30[_0x38ce68(0x7b4)]===0x1),_0x2ce834[_0x38ce68(0x332)]['pollOnReplyDelete']){let _0x5b8e68={'id':_0x539b4d[_0x38ce68(0x470)],'remoteJid':_0x539b4d[_0x38ce68(0x668)],'fromMe':!0x0};await this[_0x38ce68(0x4eb)](_0x5b8e68);}if(_0x2ce834[_0x38ce68(0x332)][_0x38ce68(0x5b2)]&&_0x2ce834[_0x38ce68(0x332)][_0x38ce68(0x35d)]&&_0x2ce834['uazapi']['menuType']==='poll'){let _0x1200c7={'number':_0x539b4d[_0x38ce68(0x668)],'options':{'delay':0x0},'textMessage':{'text':_0x38ce68(0x3f0)+_0x539b4d[_0x38ce68(0x2d7)]+_0x38ce68(0x2fb)+_0x576c7b}};await this['textMessage'](_0x1200c7);}_0x1bebe0[_0x38ce68(0x81a)]=_0x576c7b,_0x539b4d[_0x38ce68(0x41e)]=_0x38ce68(0x83a),_0x539b4d[_0x38ce68(0x470)]='',_0x539b4d[_0x38ce68(0x2d7)]='',_0x539b4d['waitingMenu_replyOptions']=[];}else{this[_0x38ce68(0x5c7)]['verbose'](this['instanceName']+'\x20('+this[_0x38ce68(0x2a1)][_0x38ce68(0x6c1)]+_0x38ce68(0x3bc));let _0x3fb105={'activatedCount':_0x539b4d['chatLog'][_0x38ce68(0x189)][_0x38ce68(0x252)](_0x2c701a=>String(_0x2c701a[_0x38ce68(0x310)])===String(_0x3ffea2))[_0x38ce68(0x3b3)],'moreLogs':[_0x38ce68(0x72a)]};if(_0x2ce834[_0x38ce68(0x332)][_0x38ce68(0x2a7)]){let _0x39c7fb={'number':_0x539b4d[_0x38ce68(0x668)],'options':{'delay':0x0},'textMessage':{'text':_0x2ce834[_0x38ce68(0x332)][_0x38ce68(0x2a7)]}};await this['textMessage'](_0x39c7fb);}if(_0x2ce834[_0x38ce68(0x661)]!==void 0x0&&_0x3fb105['activatedCount']>=_0x2ce834[_0x38ce68(0x661)]){let _0x20ef1a=Date[_0x38ce68(0x776)](),_0x6c00a0=_0x2ce834[_0x38ce68(0x597)]??0xa;isNaN(_0x6c00a0)&&(_0x6c00a0=0xa);let _0xe7649c=_0x20ef1a+_0x6c00a0*0x3c*0x3e8;_0x3fb105[_0x38ce68(0x855)]=_0xe7649c,_0x3fb105[_0x38ce68(0x49c)][_0x38ce68(0x6dd)](_0x38ce68(0x853)),this[_0x38ce68(0x68d)](_0x539b4d,_0xe7649c),_0x539b4d['waitingMenu_id']='',_0x539b4d[_0x38ce68(0x2d7)]='',_0x539b4d[_0x38ce68(0x634)]=[];}return this[_0x38ce68(0x6d3)](_0x539b4d,_0x2ce834,_0x3fb105,!0x0),null;}}if(_0xbfdd22&&_0x2ce834[_0x38ce68(0x799)]&&!_0x539b4d[_0x38ce68(0x470)]){let _0x1928c2=_0x539b4d[_0x38ce68(0x208)][_0x38ce68(0x252)](_0x2220db=>_0x2220db[_0x38ce68(0x641)][_0x38ce68(0x663)]()===_0x2ce834[_0x38ce68(0x799)][_0x38ce68(0x663)]())[_0x38ce68(0x3dc)]((_0x395880,_0x558a72)=>_0x395880[_0x38ce68(0x7b4)]-_0x558a72[_0x38ce68(0x7b4)]);_0x1928c2['length']>0x0&&(_0x2f1385=_0x1928c2[0x0]);}if(!_0x2f1385){let _0x425c93=_0x2ce834[_0x38ce68(0x641)],_0x2f0c9e=_0x539b4d['blocks']['filter'](_0x548607=>_0x548607[_0x38ce68(0x641)]===_0x425c93&&_0x548607[_0x38ce68(0x7b4)]>_0x2ce834[_0x38ce68(0x7b4)])[_0x38ce68(0x3dc)]((_0x1550f6,_0x11027e)=>_0x1550f6['order']-_0x11027e[_0x38ce68(0x7b4)]);_0x2f0c9e[_0x38ce68(0x3b3)]>0x0&&(_0x2f1385=_0x2f0c9e[0x0]);}if(!_0x2f1385)return _0x539b4d['status']=_0x38ce68(0x2a9),null;_0x539b4d[_0x38ce68(0x172)][_0x38ce68(0x635)]=_0x1bebe0;let _0xf503ed=JSON[_0x38ce68(0x35b)](JSON[_0x38ce68(0x751)](_0x2f1385));return this[_0x38ce68(0x422)](_0xf503ed,_0x539b4d[_0x38ce68(0x172)][_0x38ce68(0x635)]),_0x539b4d[_0x38ce68(0x172)][_0x38ce68(0x1bd)]=_0xf503ed[_0x38ce68(0x579)],_0x539b4d[_0x38ce68(0x172)]['lastCondition']=!0x0,_0xf503ed;}[a0_0x5ae34c(0x659)](_0x4a0d95,_0x568501){const _0x5d2553=a0_0x5ae34c;return _0x4a0d95[_0x5d2553(0x2af)](/\{\{([^}]+)\}\}/g,(_0x1db8a4,_0x412253)=>_0x568501[_0x412253]||'');}[a0_0x5ae34c(0x422)](_0x875e62,_0x4ede1e){const _0x2b8a79=a0_0x5ae34c;for(let _0x29c36a in _0x875e62)typeof _0x875e62[_0x29c36a]==_0x2b8a79(0x3ba)?_0x875e62[_0x29c36a]=this[_0x2b8a79(0x659)](_0x875e62[_0x29c36a],_0x4ede1e):typeof _0x875e62[_0x29c36a]==_0x2b8a79(0x79d)&&this[_0x2b8a79(0x422)](_0x875e62[_0x29c36a],_0x4ede1e);}async['goNextblock'](_0x33c5a4,_0x1c87d2){const _0x2b49e8=a0_0x5ae34c;let _0x3321b6=_0x1c87d2['_id'];if(_0x33c5a4[_0x2b49e8(0x172)]&&_0x33c5a4[_0x2b49e8(0x172)][_0x2b49e8(0x189)]){let _0x429691=_0x33c5a4[_0x2b49e8(0x172)][_0x2b49e8(0x189)][_0x2b49e8(0x252)](_0x57bad6=>String(_0x57bad6[_0x2b49e8(0x310)])===String(_0x3321b6))[_0x2b49e8(0x398)]();if(_0x429691&&_0x429691[_0x2b49e8(0x6f3)]&&_0x1c87d2[_0x2b49e8(0x34f)])return _0x33c5a4['status']='closed',await this['saveConversationToDatabase'](_0x33c5a4),null;}if(_0x1c87d2[_0x2b49e8(0x279)]===_0x2b49e8(0x332)&&_0x1c87d2[_0x2b49e8(0x332)][_0x2b49e8(0x114)]==='sendPoll'&&_0x33c5a4['waitingMenu_id'])return _0x33c5a4[_0x2b49e8(0x172)]['lastBlockId']=_0x3321b6,await this['saveConversationToDatabase'](_0x33c5a4),null;let _0x5b0fdc=await this[_0x2b49e8(0x237)](_0x33c5a4);if(_0x33c5a4[_0x2b49e8(0x172)]&&_0x33c5a4[_0x2b49e8(0x172)]['blockLogs']){let _0x2d631=_0x33c5a4[_0x2b49e8(0x172)][_0x2b49e8(0x189)]['filter'](_0x40997f=>String(_0x40997f[_0x2b49e8(0x310)])===String(_0x3321b6))[_0x2b49e8(0x3b3)];if(_0x1c87d2[_0x2b49e8(0x661)]!==void 0x0&&_0x2d631>=_0x1c87d2['maxActives']){let _0x2b0771=Date['now'](),_0x429611=_0x1c87d2[_0x2b49e8(0x597)]??0xa;isNaN(_0x429611)&&(_0x429611=0xa);let _0x1b583b=_0x2b0771+_0x429611*0x3c*0x3e8,_0x2bfaa8={'newStoppedUntil':_0x1b583b};return this[_0x2b49e8(0x68d)](_0x33c5a4,_0x1b583b),this['updateConversation'](_0x33c5a4,_0x1c87d2,_0x2bfaa8,!0x0),null;}}_0x5b0fdc&&_0x5b0fdc['type']!==_0x2b49e8(0x165)&&await this[_0x2b49e8(0x41d)](_0x33c5a4,_0x5b0fdc),_0x5b0fdc||await this[_0x2b49e8(0x1a0)](_0x33c5a4),_0x5b0fdc&&_0x5b0fdc[_0x2b49e8(0x279)]===_0x2b49e8(0x165)&&(_0x33c5a4[_0x2b49e8(0x172)][_0x2b49e8(0x1bd)]=_0x3321b6,await this['saveConversationToDatabase'](_0x33c5a4));}async[a0_0x5ae34c(0x41d)](_0xd33d5c,_0x3dd48b){const _0x4e8125=a0_0x5ae34c;try{let _0x2d1d47=_0x3dd48b[_0x4e8125(0x279)];this[_0x4e8125(0x5c7)]['verbose'](this[_0x4e8125(0x87e)]+'\x20('+this[_0x4e8125(0x2a1)][_0x4e8125(0x6c1)]+_0x4e8125(0x866)+_0x2d1d47);let _0x35c15b={'uazapi':()=>this['processUazapi'](_0xd33d5c,_0x3dd48b),'save':()=>this[_0x4e8125(0x870)](_0xd33d5c,_0x3dd48b),'stop':()=>this[_0x4e8125(0x5ed)](_0xd33d5c,_0x3dd48b),'condition':()=>this[_0x4e8125(0x610)](_0xd33d5c,_0x3dd48b),'varedit':()=>this['processvaredits'](_0xd33d5c,_0x3dd48b),'apirequest':()=>this[_0x4e8125(0x6c4)](_0xd33d5c,_0x3dd48b),'goToFlow':()=>this[_0x4e8125(0x4d8)](_0xd33d5c,_0x3dd48b),'scheduleFlow':()=>this[_0x4e8125(0x291)](_0xd33d5c,_0x3dd48b),'awaitSeconds':()=>this[_0x4e8125(0x814)](_0xd33d5c,_0x3dd48b),'clearVariables':()=>this[_0x4e8125(0x66c)](_0xd33d5c,_0x3dd48b)}[_0x2d1d47];_0x35c15b&&await _0x35c15b();}catch(_0x3517c5){this['logger'][_0x4e8125(0x6f3)](this[_0x4e8125(0x87e)]+'\x20('+this[_0x4e8125(0x2a1)][_0x4e8125(0x6c1)]+_0x4e8125(0x464)+(_0x3517c5 instanceof Error?_0x3517c5[_0x4e8125(0x80a)]:JSON[_0x4e8125(0x751)](_0x3517c5,null,0x2)));}}async[a0_0x5ae34c(0x814)](_0x1bed7c,_0x44cbb1){const _0x453585=a0_0x5ae34c;if(this['logger'][_0x453585(0x7df)](this[_0x453585(0x87e)]+'\x20('+this[_0x453585(0x2a1)][_0x453585(0x6c1)]+'):\x20Entrou\x20na\x20função\x20processawaitSeconds'),!_0x1bed7c||!_0x44cbb1)return this[_0x453585(0x5c7)][_0x453585(0x6f3)](this[_0x453585(0x87e)]+'\x20('+this[_0x453585(0x2a1)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x274e61=+_0x44cbb1[_0x453585(0x2d1)];isNaN(_0x274e61)&&(_0x274e61=0x0),_0x274e61=Math[_0x453585(0x60d)](_0x274e61,0x3c),await(0x0,w[_0x453585(0x371)])(_0x274e61*0x3e8);let _0x22b66f={'moreLogs':[_0x453585(0x559)+_0x274e61+_0x453585(0x58f)]};return await this[_0x453585(0x6d3)](_0x1bed7c,_0x44cbb1,_0x22b66f),_0x274e61;}async['processclearVariables'](_0x1903aa,_0x29c35a){const _0x26cac2=a0_0x5ae34c;if(this[_0x26cac2(0x5c7)][_0x26cac2(0x7df)](this['instanceName']+'\x20('+this[_0x26cac2(0x2a1)][_0x26cac2(0x6c1)]+_0x26cac2(0x6ea)),!_0x1903aa||!_0x29c35a)return this['logger'][_0x26cac2(0x6f3)](this['instanceName']+'\x20('+this[_0x26cac2(0x2a1)][_0x26cac2(0x6c1)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x9c5174=[];if(_0x29c35a[_0x26cac2(0x441)][_0x26cac2(0x1b6)]()==='[all]'){let _0x8963de=[_0x26cac2(0x2ee),_0x26cac2(0x73e),_0x26cac2(0x1e9),_0x26cac2(0x39c),_0x26cac2(0x313),_0x26cac2(0x579),_0x26cac2(0x35c)];_0x9c5174=Object[_0x26cac2(0x57b)](_0x1903aa[_0x26cac2(0x172)][_0x26cac2(0x635)])[_0x26cac2(0x252)](_0x58df36=>_0x58df36[_0x26cac2(0x6ed)]('_')&&!_0x8963de['includes'](_0x58df36));}else _0x9c5174=_0x29c35a[_0x26cac2(0x441)]['split']('|')[_0x26cac2(0x89e)](_0x57af2c=>(_0x57af2c=_0x57af2c[_0x26cac2(0x2af)](/[{}]/g,'')[_0x26cac2(0x1b6)](),_0x57af2c['startsWith']('_')?_0x57af2c:'_'+_0x57af2c));let _0x459b31=[];_0x9c5174['forEach'](_0x2cba53=>{const _0x4e4a4b=_0x26cac2;_0x2cba53 in _0x1903aa[_0x4e4a4b(0x172)]['realVariables']&&(delete _0x1903aa['chatLog'][_0x4e4a4b(0x635)][_0x2cba53],_0x459b31[_0x4e4a4b(0x6dd)](_0x2cba53));}),_0x459b31[_0x26cac2(0x3b3)]>0x0?this[_0x26cac2(0x5c7)][_0x26cac2(0x7df)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x26cac2(0x369)+_0x459b31[_0x26cac2(0x88d)](',\x20')):this[_0x26cac2(0x5c7)][_0x26cac2(0x7df)](this['instanceName']+'\x20('+this[_0x26cac2(0x2a1)][_0x26cac2(0x6c1)]+_0x26cac2(0x221));let _0x51f4ec={'moreLogs':[_0x26cac2(0x56e)+_0x459b31['join'](',\x20')]};return await this[_0x26cac2(0x6d3)](_0x1903aa,_0x29c35a,_0x51f4ec),null;}async[a0_0x5ae34c(0x291)](_0x5db276,_0x10c486){const _0x4dbf18=a0_0x5ae34c;if(this['logger']['verbose'](this[_0x4dbf18(0x87e)]+'\x20('+this[_0x4dbf18(0x2a1)]['wuid']+'):\x20Entrou\x20na\x20função\x20scheduleFlow'),!_0x5db276||!_0x10c486)return this['logger'][_0x4dbf18(0x6f3)](this[_0x4dbf18(0x87e)]+'\x20('+this[_0x4dbf18(0x2a1)][_0x4dbf18(0x6c1)]+_0x4dbf18(0x489)),null;let _0x305b0=_0x5db276['remoteJid'];_0x10c486[_0x4dbf18(0x3fb)][_0x4dbf18(0x668)]&&_0x10c486['scheduleFlow'][_0x4dbf18(0x668)][_0x4dbf18(0x1b6)]()!==''&&(_0x305b0=_0x10c486['uazapi']['remoteJid'][_0x4dbf18(0x1b6)]());let _0x154d0c=_0x10c486[_0x4dbf18(0x3fb)]['timeInMinutes']*0xea60,_0x143f01=Date[_0x4dbf18(0x776)]()+_0x154d0c,_0xd36abe={'status':_0x4dbf18(0x1d1),'info':_0x4dbf18(0x876)+_0x5db276[_0x4dbf18(0x48b)],'remoteJids':[_0x305b0],'when':_0x143f01,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x4dbf18(0x4e0),'flowName':_0x10c486['scheduleFlow']['flowName']};this[_0x4dbf18(0x34c)](_0xd36abe);let _0xe79b41=await this[_0x4dbf18(0x237)](_0x5db276);_0xe79b41&&await this['processblock'](_0x5db276,_0xe79b41);}async[a0_0x5ae34c(0x4d8)](_0x5bd921,_0x319928){const _0x18cf16=a0_0x5ae34c;if(this[_0x18cf16(0x5c7)]['verbose'](this[_0x18cf16(0x87e)]+'\x20('+this[_0x18cf16(0x2a1)][_0x18cf16(0x6c1)]+_0x18cf16(0x46d)),!_0x5bd921||!_0x319928)return this[_0x18cf16(0x5c7)][_0x18cf16(0x6f3)](this[_0x18cf16(0x87e)]+'\x20('+this[_0x18cf16(0x2a1)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this['updateConversation'](_0x5bd921,_0x319928,{},!0x0,!0x0);let _0x1358a8=_0x319928[_0x18cf16(0x721)];_0x5bd921=await this[_0x18cf16(0x453)](_0x1358a8,_0x5bd921[_0x18cf16(0x668)],_0x5bd921[_0x18cf16(0x172)]['realVariables']);let _0x17e189=await this[_0x18cf16(0x237)](_0x5bd921);_0x17e189&&await this[_0x18cf16(0x41d)](_0x5bd921,_0x17e189);}async[a0_0x5ae34c(0x453)](_0x1b1da8,_0x391285,_0x4beb47){const _0x1955b9=a0_0x5ae34c;this[_0x1955b9(0x5c7)]['verbose'](this['instanceName']+'\x20('+this[_0x1955b9(0x2a1)]['wuid']+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{let _0x3b7e86=this[_0x1955b9(0x541)]['flows'][_0x1955b9(0x42c)](_0x110e06=>_0x110e06[_0x1955b9(0x579)]===_0x1b1da8);_0x3b7e86||this[_0x1955b9(0x5c7)][_0x1955b9(0x6f3)](this[_0x1955b9(0x87e)]+'\x20('+this[_0x1955b9(0x2a1)][_0x1955b9(0x6c1)]+_0x1955b9(0x167)+_0x1b1da8+_0x1955b9(0x4ea));let _0x3c3997=await this[_0x1955b9(0x20b)][_0x1955b9(0x4e0)]['findOne']({'where':{'_id':_0x3b7e86[_0x1955b9(0x579)]}});if(!_0x3c3997||!_0x3c3997[_0x1955b9(0x32a)]?.[_0x1955b9(0x81c)](this[_0x1955b9(0x2a1)][_0x1955b9(0x6c1)]))throw this[_0x1955b9(0x5c7)][_0x1955b9(0x6f3)](this[_0x1955b9(0x87e)]+'\x20('+this[_0x1955b9(0x2a1)][_0x1955b9(0x6c1)]+_0x1955b9(0x167)+_0x1b1da8+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x1b1da8+_0x1955b9(0x499));let _0x249882=require(_0x1955b9(0x3c4))[_0x1955b9(0x3b5)],_0x56f851=Date[_0x1955b9(0x776)](),_0x37582c=_0x1955b9(0x580),_0x13ea46={},_0x24c80a={},_0x25c36a=this[_0x1955b9(0x541)][_0x1955b9(0x7dc)]['find'](_0x431655=>_0x431655[_0x1955b9(0x579)]===_0x3c3997[_0x1955b9(0x579)]?.['toString']()),_0x11e1ee=_0x25c36a?.[_0x1955b9(0x536)]??_0x3c3997['minutesToClose']??0x0,_0x2ffbb0=_0x25c36a?.[_0x1955b9(0x379)]??_0x3c3997['readMessages']??!0x1,_0x30e6a2={'flowId':_0x3b7e86['_id'],'readMessages':_0x3b7e86[_0x1955b9(0x379)],..._0x3c3997,'chatLog':null},_0x288bf3={'lastReceivedMessage':_0x13ea46,'lastSendMessage':_0x24c80a,'lastBlockId':_0x37582c,'lastCondition':!0x0,'realVariables':_0x4beb47};_0x30e6a2[_0x1955b9(0x172)]=_0x288bf3,_0x30e6a2[_0x1955b9(0x172)][_0x1955b9(0x635)]={..._0x4beb47},delete _0x30e6a2[_0x1955b9(0x579)],_0x30e6a2[_0x1955b9(0x579)]=new _0x249882(),_0x30e6a2[_0x1955b9(0x5fe)]=_0x56f851,_0x30e6a2[_0x1955b9(0x41e)]=_0x1955b9(0x83a),_0x30e6a2['remoteJid']=_0x391285,_0x30e6a2['minutesToClose']=_0x11e1ee,_0x30e6a2[_0x1955b9(0x379)]=_0x2ffbb0;let _0x36a8a3=await this[_0x1955b9(0x20b)][_0x1955b9(0x1d6)]['updateOne'](_0x30e6a2[_0x1955b9(0x579)],_0x30e6a2,this[_0x1955b9(0x2a1)][_0x1955b9(0x6c1)]);return this[_0x1955b9(0x5c7)]['verbose'](this['instanceName']+'\x20('+this[_0x1955b9(0x2a1)]['wuid']+_0x1955b9(0x717)),_0x36a8a3?_0x30e6a2:null;}catch(_0x1eb01f){let _0x786a82=_0x1955b9(0x1af),_0x581888=_0x1eb01f instanceof Error?_0x1eb01f[_0x1955b9(0x80a)]:typeof _0x1eb01f==_0x1955b9(0x79d)?JSON[_0x1955b9(0x751)](_0x1eb01f):_0x1eb01f,_0x4b5c22=_0x786a82+':\x20'+_0x581888;throw this[_0x1955b9(0x5c7)][_0x1955b9(0x6f3)](this['instanceName']+'\x20('+this[_0x1955b9(0x2a1)][_0x1955b9(0x6c1)]+_0x1955b9(0x77c)+_0x4b5c22),new m(_0x4b5c22);}}async[a0_0x5ae34c(0x6c4)](_0x5df773,_0x1afe4e){const _0x184057=a0_0x5ae34c;let _0xf546c0,_0x19cf6a;try{let _0x54ed9b=_0x1afe4e['apirequest'];if(!_0x54ed9b||!_0x54ed9b[_0x184057(0x787)]||!_0x54ed9b[_0x184057(0x5e1)])throw new Error(_0x184057(0x85b));let _0x4dedd9;([_0x184057(0x720),_0x184057(0x354),_0x184057(0x182)][_0x184057(0x6b2)](_0x5d1d50=>_0x54ed9b[_0x184057(0x787)][_0x184057(0x81c)](_0x5d1d50))||_0x54ed9b[_0x184057(0x36a)])&&(_0x4dedd9=_0x184057(0x2b8));let _0x10822a='\u205f',_0x210a29;try{_0x210a29=JSON['parse'](_0x54ed9b[_0x184057(0x5f7)][_0x184057(0x2af)](new RegExp(_0x10822a,'g'),''));}catch(_0x55c7da){throw _0x55c7da;}let _0x5ed247={'method':_0x54ed9b[_0x184057(0x5e1)],'url':_0x54ed9b[_0x184057(0x787)],'headers':_0x54ed9b[_0x184057(0x31b)]||{},..._0x54ed9b['method'][_0x184057(0x25e)]()!==_0x184057(0x4ec)&&_0x54ed9b[_0x184057(0x5f7)]?{'data':JSON[_0x184057(0x35b)](_0x54ed9b[_0x184057(0x5f7)][_0x184057(0x2af)](new RegExp(_0x10822a,'g'),''))}:{},..._0x4dedd9&&{'responseType':_0x4dedd9}},_0x404c73=await(0x0,K[_0x184057(0x509)])(_0x5ed247),_0x1789f2=_0x404c73[_0x184057(0x79a)][_0x184057(0x766)];if(_0x1789f2&&_0x1789f2[_0x184057(0x81c)](_0x184057(0x5d3))||typeof _0x404c73[_0x184057(0x14a)]==_0x184057(0x3ba)){if(typeof _0x404c73[_0x184057(0x14a)]=='string'){let _0x43d648=_0x404c73['data'][_0x184057(0x2af)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')['trim']();try{_0xf546c0=JSON[_0x184057(0x35b)](_0x43d648);}catch(_0x143b1a){this[_0x184057(0x5c7)][_0x184057(0x6f3)]('Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20'+_0x143b1a[_0x184057(0x80a)]),_0xf546c0={'_apiResponse':_0x404c73[_0x184057(0x14a)]};}}else _0xf546c0=_0x404c73[_0x184057(0x14a)];let _0x1ebc23=_0x5df773[_0x184057(0x172)]['realVariables'],_0x460ae7=this['flattenObject'](_0xf546c0);return Object[_0x184057(0x41f)](_0x1ebc23,_0x460ae7),_0x5df773[_0x184057(0x172)][_0x184057(0x635)]=_0x1ebc23,_0x19cf6a={'error':!0x1,'apiResponse':_0xf546c0},this['updateConversation'](_0x5df773,_0x1afe4e,_0x19cf6a),_0xf546c0;}if(_0x1789f2&&(_0x1789f2[_0x184057(0x81c)](_0x184057(0x7e5))||_0x1789f2[_0x184057(0x81c)]('image')||_0x1789f2[_0x184057(0x81c)]('audio')||_0x1789f2[_0x184057(0x81c)]('video'))){this['logger'][_0x184057(0x7df)](this[_0x184057(0x87e)]+'\x20('+this[_0x184057(0x2a1)][_0x184057(0x6c1)]+_0x184057(0x3f3)+_0x1789f2);let _0x459eaa=(0x0,Q['v4'])(),_0x59e5c2='',_0x341159={'image/jpeg':'.jpg','image/png':_0x184057(0x446),'image/gif':_0x184057(0x35f),'image/webp':_0x184057(0x6d9),'image/svg+xml':_0x184057(0x3eb),'audio/mpeg':_0x184057(0x726),'audio/ogg':_0x184057(0x142),'audio/wav':'.wav','video/mp4':_0x184057(0x865),'video/webm':'.webm','video/ogg':'.ogv','text/plain':_0x184057(0x79e),'application/pdf':'.pdf','application/msword':_0x184057(0x5bf),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':_0x184057(0x5f1),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':_0x184057(0x37d),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x184057(0x774)};_0x341159[_0x1789f2]?(_0x59e5c2=_0x341159[_0x1789f2],this[_0x184057(0x5c7)][_0x184057(0x7df)](this[_0x184057(0x87e)]+'\x20('+this['instance'][_0x184057(0x6c1)]+_0x184057(0x2ab)+_0x59e5c2)):(_0x59e5c2=_0x184057(0x217),this[_0x184057(0x5c7)][_0x184057(0x7df)](this['instanceName']+'\x20('+this[_0x184057(0x2a1)][_0x184057(0x6c1)]+_0x184057(0x101)+_0x59e5c2)),_0x459eaa+=_0x59e5c2,this['logger'][_0x184057(0x7df)](this['instanceName']+'\x20('+this['instance'][_0x184057(0x6c1)]+_0x184057(0x617)+_0x459eaa);let _0x22b091=this[_0x184057(0x89b)][_0x184057(0x52d)](_0x184057(0x61a))[_0x184057(0x592)];if(!_0x22b091){let _0x545f41=this[_0x184057(0x89b)]['get']('SSL_CONF');_0x22b091='https://'+(_0x545f41&&_0x545f41[_0x184057(0x1f5)]['split']('/')[0x4]);}let _0x2b1e37=Buffer[_0x184057(0x143)](_0x404c73[_0x184057(0x14a)]);await this[_0x184057(0x6dc)](_0x2b1e37,_0x459eaa);let _0x2d48ec='/media/'+_0x459eaa;_0x2d48ec=''+_0x22b091+_0x2d48ec,_0xf546c0={'fileUrl':_0x2d48ec},_0x5df773[_0x184057(0x172)][_0x184057(0x635)]['fileUrl']=_0x2d48ec;let _0x3ba598=_0x5df773['chatLog']['realVariables'],_0x399456=this[_0x184057(0x757)](_0xf546c0);return Object['assign'](_0x3ba598,_0x399456),_0x5df773['chatLog']['realVariables']=_0x3ba598,_0x19cf6a={'error':!0x1,'apiResponse':{'fileUrl':_0x2d48ec}},this[_0x184057(0x6d3)](_0x5df773,_0x1afe4e,_0x19cf6a),_0xf546c0;}}catch(_0x11f29d){this['logger'][_0x184057(0x6f3)](_0x184057(0x515)+_0x11f29d['message']),_0x11f29d[_0x184057(0x286)]&&(_0xf546c0=_0x11f29d[_0x184057(0x286)][_0x184057(0x14a)]);let _0x3328b7=_0x5df773['chatLog'][_0x184057(0x635)],_0x283ceb=this[_0x184057(0x757)](_0xf546c0);return Object[_0x184057(0x41f)](_0x3328b7,_0x283ceb),_0x5df773[_0x184057(0x172)][_0x184057(0x635)]=_0x3328b7,_0x19cf6a={'error':!0x0,'errorLog':_0x11f29d[_0x184057(0x663)](),'apiResponse':_0xf546c0},this['updateConversation'](_0x5df773,_0x1afe4e,_0x19cf6a),{'success':!0x1};}}[a0_0x5ae34c(0x2ca)](_0x1e06de,_0x421f13){const _0xc713ad=a0_0x5ae34c;let _0x571e36=_0x15044e=>{const _0x12b8d1=a0_0x475a;let _0x1a884e=_0x15044e[_0x12b8d1(0x2af)](/[^0-9.,-]/g,'')[_0x12b8d1(0x2af)](',','.'),_0x4e3aa6=parseFloat(_0x1a884e);return isNaN(_0x4e3aa6)?null:_0x4e3aa6;},_0xbc5d1a=_0x421f13['firstValue'],_0x167f14=_0x421f13[_0xc713ad(0x25d)];typeof _0xbc5d1a==_0xc713ad(0x3ba)&&(_0xbc5d1a=this[_0xc713ad(0x659)](_0xbc5d1a,_0x1e06de['chatLog'][_0xc713ad(0x635)])??''),typeof _0x167f14==_0xc713ad(0x3ba)&&(_0x167f14=this[_0xc713ad(0x659)](_0x167f14,_0x1e06de['chatLog'][_0xc713ad(0x635)])??'');let _0x35f6de=null;if(!_0x421f13[_0xc713ad(0x50e)])return null;switch(this['logger'][_0xc713ad(0x7df)](this[_0xc713ad(0x87e)]+'\x20('+this['instance'][_0xc713ad(0x6c1)]+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0xbc5d1a),this[_0xc713ad(0x5c7)][_0xc713ad(0x7df)](this['instanceName']+'\x20('+this[_0xc713ad(0x2a1)][_0xc713ad(0x6c1)]+_0xc713ad(0x334)+_0x167f14),_0x421f13[_0xc713ad(0x50e)]){case'+':case'-':case'*':case'/':let _0x21ed8c=_0x571e36(_0xbc5d1a||'0'),_0x5155e5=_0x571e36(_0x167f14||'0');if(_0x21ed8c===null)return null;switch(_0x421f13[_0xc713ad(0x50e)]){case'+':_0x35f6de=_0x21ed8c+(_0x5155e5??0x0);break;case'-':_0x35f6de=_0x21ed8c-(_0x5155e5??0x0);break;case'*':_0x35f6de=_0x21ed8c*(_0x5155e5??0x1);break;case'/':_0x5155e5!==0x0&&(_0x35f6de=_0x21ed8c/(_0x5155e5??0x1));break;}break;case _0xc713ad(0x500):case _0xc713ad(0x637):let _0x56bc9c=_0x167f14,_0x5ac54b=_0x421f13[_0xc713ad(0x894)];if(typeof _0x5ac54b=='string'&&(_0x5ac54b=this['replaceVariables'](_0x5ac54b,_0x1e06de[_0xc713ad(0x172)]['realVariables'])??''),_0x56bc9c&&_0x5ac54b!==void 0x0){let _0x5aded6=_0x421f13[_0xc713ad(0x50e)]===_0xc713ad(0x500)?new RegExp(_0x56bc9c[_0xc713ad(0x2af)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x56bc9c,'g');_0x35f6de=_0xbc5d1a[_0xc713ad(0x2af)](_0x5aded6,_0x5ac54b);}else console['warn'](_0xc713ad(0x2b9));break;case _0xc713ad(0x6d4):_0x35f6de=_0x167f14;break;case _0xc713ad(0x47a):let _0x38b1f8=_0xbc5d1a[_0xc713ad(0x80b)](new RegExp(_0x167f14||''));_0x35f6de=_0x38b1f8?_0x38b1f8[0x0]:'';break;case _0xc713ad(0x21d):_0x35f6de=_0xbc5d1a['slice'](0x0,parseInt(_0x167f14||'0'));break;case _0xc713ad(0x5ce):let _0x3591cd=parseInt(_0x167f14||'0');_0x35f6de=_0xbc5d1a[_0xc713ad(0x29e)](_0xbc5d1a['length']-_0x3591cd);break;case'toBrazilianNumberFormat':let _0x5712ef=_0x571e36(_0xbc5d1a),_0x253951=parseInt(_0x167f14||'0');_0x253951=Math[_0xc713ad(0x5b4)](_0x253951),_0x5712ef!==null?_0x35f6de=_0x5712ef[_0xc713ad(0x5cc)](_0xc713ad(0x21a),{'minimumFractionDigits':_0x253951,'maximumFractionDigits':_0x253951}):(console[_0xc713ad(0x4cf)]('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0xbc5d1a),_0x35f6de=null);break;case'toBRL':let _0x2d6960=_0x571e36(_0xbc5d1a);_0x2d6960!==null?_0x35f6de=_0x2d6960['toLocaleString'](_0xc713ad(0x21a),{'style':'currency','currency':_0xc713ad(0x86a)}):(console['warn']('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0xbc5d1a),_0x35f6de=null);break;case _0xc713ad(0x5b9):_0x35f6de=_0xbc5d1a[_0xc713ad(0x25e)]();break;case _0xc713ad(0x573):_0x35f6de=_0xbc5d1a[_0xc713ad(0x873)]();break;case _0xc713ad(0x5e9):_0x35f6de=_0xbc5d1a[_0xc713ad(0x1a3)]('\x20')[_0xc713ad(0x89e)](_0x40e147=>_0x40e147[_0xc713ad(0x155)](0x0)[_0xc713ad(0x25e)]()+_0x40e147['slice'](0x1)[_0xc713ad(0x873)]())['join']('\x20');break;case _0xc713ad(0x534):_0x35f6de=JSON[_0xc713ad(0x751)](_0xbc5d1a);break;case _0xc713ad(0x475):_0x35f6de=_0xbc5d1a[_0xc713ad(0x1b6)]();break;default:_0x35f6de=_0xbc5d1a;}return _0x35f6de!==null?_0x35f6de[_0xc713ad(0x663)]():null;}async['processvaredits'](_0x9fd357,_0x445801){const _0x1a1ca8=a0_0x5ae34c;try{let _0xa822a1=_0x9fd357[_0x1a1ca8(0x24a)]?.[_0x1a1ca8(0x252)](_0x44ad76=>_0x44ad76[_0x1a1ca8(0x310)]===_0x445801['_id']?.[_0x1a1ca8(0x663)]())||[],_0x4a0603=_0x445801['saveVariable'],_0x5a447a=null,_0x2e3113=[],_0x3d3dbd=_0x9fd357[_0x1a1ca8(0x172)][_0x1a1ca8(0x635)][_0x4a0603];_0x2e3113[_0x1a1ca8(0x6dd)]('Valor\x20inicial:\x20\x22'+_0x3d3dbd+'\x22');for(let _0x5a3c45 of _0xa822a1){_0x5a3c45[_0x1a1ca8(0x29c)]=_0x3d3dbd,_0x5a447a=_0x5a3c45['firstValue'];let _0x215e89;try{_0x215e89=this['applyvaredit'](_0x9fd357,_0x5a3c45);}catch(_0x3a0b6c){this[_0x1a1ca8(0x5c7)]['error']('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x3a0b6c[_0x1a1ca8(0x80a)]);continue;}if(_0x215e89!==null){let _0x20e5ba=_0x1a1ca8(0x2fe)+_0x5a3c45[_0x1a1ca8(0x50e)]+'\x22',_0xcc6af3=[_0x1a1ca8(0x436),_0x1a1ca8(0x5b9),_0x1a1ca8(0x573),'capitalizedWords',_0x1a1ca8(0x475)];_0x5a3c45[_0x1a1ca8(0x50e)]==='findAndReplace'||_0x5a3c45[_0x1a1ca8(0x50e)]===_0x1a1ca8(0x637)?_0x20e5ba+=_0x1a1ca8(0x300)+_0x5a3c45['secondValue']+_0x1a1ca8(0x1c6)+_0x5a3c45[_0x1a1ca8(0x894)]+'\x22':!_0xcc6af3['includes'](_0x5a3c45[_0x1a1ca8(0x50e)])&&_0x5a3c45['secondValue']!==null&&_0x5a3c45[_0x1a1ca8(0x25d)]!==void 0x0&&(_0x20e5ba+=',\x20valor\x20passado:\x20\x22'+_0x5a3c45[_0x1a1ca8(0x25d)]+'\x22'),_0x20e5ba+=',\x20resultado:\x20'+_0x215e89+'.',_0x2e3113[_0x1a1ca8(0x6dd)](_0x20e5ba);}_0x215e89!==null&&(_0x3d3dbd=_0x215e89);}if(_0x9fd357[_0x1a1ca8(0x172)][_0x1a1ca8(0x635)]&&_0x445801[_0x1a1ca8(0x288)]){_0x9fd357[_0x1a1ca8(0x172)]['realVariables'][_0x445801[_0x1a1ca8(0x288)]]=_0x3d3dbd;let _0x17d258={'variable':_0x445801[_0x1a1ca8(0x288)],'oldValue':_0x5a447a,'newValue':_0x3d3dbd,'moreLogs':_0x2e3113};try{this[_0x1a1ca8(0x6d3)](_0x9fd357,_0x445801,_0x17d258);}catch(_0x23dadd){this['logger']['error'](_0x1a1ca8(0x60b)+_0x23dadd[_0x1a1ca8(0x80a)]);}}return _0x4a0603;}catch(_0x52c30e){return this[_0x1a1ca8(0x5c7)]['error'](_0x1a1ca8(0x1a1)+_0x52c30e[_0x1a1ca8(0x80a)]),null;}}async[a0_0x5ae34c(0x610)](_0xbe0bf,_0x857981){const _0x3eff37=a0_0x5ae34c;try{let _0x1d3522=[],_0x519066=_0xbe0bf['conditions']['filter'](_0x2b091b=>_0x2b091b[_0x3eff37(0x310)]===_0x857981[_0x3eff37(0x579)][_0x3eff37(0x663)]()),_0x52d755=null,_0x5baf0b=!0x1;for(let _0x3c1cde of _0x519066){let _0x3d55bd=this[_0x3eff37(0x23a)](_0xbe0bf,_0x3c1cde);_0x1d3522['push']('Primeiro\x20Valor:\x20'+_0x3c1cde['firstValue']+_0x3eff37(0x22d)+_0x3c1cde[_0x3eff37(0x6a5)]+_0x3eff37(0x22c)+_0x3c1cde[_0x3eff37(0x25d)]+_0x3eff37(0x782)+_0x3d55bd),_0x52d755===null?_0x52d755=_0x3d55bd:_0x3c1cde['OrAnd']===_0x3eff37(0x4fd)?(_0x52d755=_0x52d755&&_0x3d55bd,_0x3d55bd||(_0x5baf0b=!0x0)):_0x3c1cde[_0x3eff37(0x292)]==='or'&&(_0x5baf0b||(_0x52d755=_0x52d755||_0x3d55bd));}_0x52d755===null&&(_0x52d755=!0x0);let _0x354678={'moreLogs':_0x1d3522};_0xbe0bf['chatLog'][_0x3eff37(0x36b)]=_0x52d755,await this[_0x3eff37(0x6d3)](_0xbe0bf,_0x857981,_0x354678);}catch(_0x244408){this[_0x3eff37(0x5c7)][_0x3eff37(0x6f3)](this[_0x3eff37(0x87e)]+'\x20('+this[_0x3eff37(0x2a1)][_0x3eff37(0x6c1)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x244408 instanceof Error?_0x244408[_0x3eff37(0x80a)]:JSON[_0x3eff37(0x751)](_0x244408,null,0x2)));}}[a0_0x5ae34c(0x23a)](_0x1900c2,_0x21af59){const _0x30ca65=a0_0x5ae34c;let _0x511fdd=_0x21af59[_0x30ca65(0x29c)],_0x347ac3=_0x21af59[_0x30ca65(0x25d)];typeof _0x511fdd==_0x30ca65(0x3ba)&&(_0x511fdd=this['replaceVariables'](_0x511fdd,_0x1900c2[_0x30ca65(0x172)]['realVariables'])??''),typeof _0x347ac3==_0x30ca65(0x3ba)&&(_0x347ac3=this[_0x30ca65(0x659)](_0x347ac3,_0x1900c2[_0x30ca65(0x172)][_0x30ca65(0x635)])??'');try{switch(_0x21af59['expression']){case _0x30ca65(0x331):return _0x511fdd===_0x347ac3;case'notEqual':return _0x511fdd!==_0x347ac3;case _0x30ca65(0x584):return this['contains'](_0x511fdd,_0x347ac3);case _0x30ca65(0x790):return!this[_0x30ca65(0x584)](_0x511fdd,_0x347ac3);case _0x30ca65(0x815):return parseFloat(_0x511fdd)>parseFloat(_0x347ac3);case _0x30ca65(0x26c):return parseFloat(_0x511fdd)<parseFloat(_0x347ac3);case _0x30ca65(0x4fb):return _0x511fdd!=='';case _0x30ca65(0x393):return _0x511fdd==='';case _0x30ca65(0x711):return new RegExp(_0x347ac3)[_0x30ca65(0x4d9)](_0x511fdd);case _0x30ca65(0x3a9):return!new RegExp(_0x347ac3)[_0x30ca65(0x4d9)](_0x511fdd);default:return!0x1;}}catch(_0x61524){return this[_0x30ca65(0x5c7)][_0x30ca65(0x6f3)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x61524),!0x1;}}['contains'](_0x1986c5,_0x22014e){const _0x57e020=a0_0x5ae34c;if(_0x1986c5===_0x22014e&&/^\d+$/[_0x57e020(0x4d9)](_0x1986c5))return!0x0;if(this['isListOfNumbers'](_0x1986c5)&&/^\d+$/[_0x57e020(0x4d9)](_0x22014e)){let _0x9f68d7=_0x1986c5[_0x57e020(0x1a3)](',')[_0x57e020(0x89e)](_0x2348ad=>parseInt(_0x2348ad['trim']())),_0x3ccbd1=parseInt(_0x22014e);return _0x9f68d7[_0x57e020(0x81c)](_0x3ccbd1);}return _0x1986c5[_0x57e020(0x81c)](_0x22014e);}[a0_0x5ae34c(0x650)](_0x42e1a1){const _0x690f28=a0_0x5ae34c;return/^\d+(,\d+)*$/[_0x690f28(0x4d9)](_0x42e1a1);}[a0_0x5ae34c(0x191)](_0x4b58e5){const _0x3e0dd6=a0_0x5ae34c;let _0x362b78=!0x0,_0x176d20=null;for(let _0x4c2fb4 of _0x4b58e5){let _0x1178b8=this[_0x3e0dd6(0x75f)](_0x4c2fb4);if(_0x176d20==='or'&&_0x1178b8){_0x362b78=!0x0;break;}if(_0x176d20==='and'&&!_0x1178b8){_0x362b78=!0x1;break;}_0x176d20=_0x4c2fb4[_0x3e0dd6(0x292)];}return _0x362b78;}[a0_0x5ae34c(0x75f)](_0x5886fa){const _0x4cbeb1=a0_0x5ae34c;let _0x4bb62f=_0x5886fa['firstValue'],_0x460456=_0x5886fa['secondValue'];try{switch(_0x5886fa[_0x4cbeb1(0x6a5)]){case _0x4cbeb1(0x331):return String(_0x4bb62f)===String(_0x460456);case _0x4cbeb1(0x56f):return String(_0x4bb62f)!==String(_0x460456);case _0x4cbeb1(0x584):return String(_0x4bb62f)[_0x4cbeb1(0x81c)](String(_0x460456));case'notContains':return!String(_0x4bb62f)[_0x4cbeb1(0x81c)](String(_0x460456));case _0x4cbeb1(0x815):return parseFloat(String(_0x4bb62f))>parseFloat(String(_0x460456));case _0x4cbeb1(0x26c):return parseFloat(String(_0x4bb62f))<parseFloat(String(_0x460456));case _0x4cbeb1(0x4fb):return String(_0x4bb62f)!=='';case _0x4cbeb1(0x393):return String(_0x4bb62f)==='';case _0x4cbeb1(0x711):return new RegExp(String(_0x460456))[_0x4cbeb1(0x4d9)](String(_0x4bb62f));case _0x4cbeb1(0x3a9):return!new RegExp(String(_0x460456))[_0x4cbeb1(0x4d9)](String(_0x4bb62f));default:return!0x1;}}catch(_0x1683f1){return this['logger'][_0x4cbeb1(0x6f3)](_0x4cbeb1(0x70b)+_0x1683f1),!0x1;}}async[a0_0x5ae34c(0x870)](_0x4c5254,_0x22b8ce){const _0x2ee059=a0_0x5ae34c;if(this[_0x2ee059(0x5c7)][_0x2ee059(0x7df)](this[_0x2ee059(0x87e)]+'\x20('+this['instance'][_0x2ee059(0x6c1)]+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x4c5254||!_0x22b8ce)return this['logger'][_0x2ee059(0x6f3)](this[_0x2ee059(0x87e)]+'\x20('+this[_0x2ee059(0x2a1)][_0x2ee059(0x6c1)]+_0x2ee059(0x489)),null;let _0x1a1128=_0x4c5254[_0x2ee059(0x172)][_0x2ee059(0x1ab)][_0x2ee059(0x1e3)]['id'];this[_0x2ee059(0x5c7)]['verbose'](this[_0x2ee059(0x87e)]+'\x20('+this[_0x2ee059(0x2a1)][_0x2ee059(0x6c1)]+'):\x20mediaMessageInfoId\x20:\x20'+_0x1a1128);let _0x24bdca={'key':{'id':_0x1a1128}},_0x6e0a4d=_0x22b8ce['saveVariable'];_0x4c5254['chatLog'][_0x2ee059(0x635)]['_'+_0x6e0a4d+'.fileUrl']=null,_0x4c5254[_0x2ee059(0x172)][_0x2ee059(0x635)]['_'+_0x6e0a4d+'.mimetype']=null,_0x4c5254[_0x2ee059(0x172)]['realVariables']['_'+_0x6e0a4d+_0x2ee059(0x105)]=null,_0x4c5254['chatLog'][_0x2ee059(0x635)]['_'+_0x6e0a4d+_0x2ee059(0x26e)]=_0x4c5254['chatLog'][_0x2ee059(0x1ab)]['type'];try{let _0x1fad66=await this[_0x2ee059(0x88a)](_0x24bdca);this['logger'][_0x2ee059(0x7df)](this[_0x2ee059(0x87e)]+'\x20('+this[_0x2ee059(0x2a1)][_0x2ee059(0x6c1)]+_0x2ee059(0x6b6)),_0x4c5254[_0x2ee059(0x172)]['realVariables']['_'+_0x6e0a4d+_0x2ee059(0x854)]=_0x1fad66[_0x2ee059(0x20d)],_0x4c5254[_0x2ee059(0x172)][_0x2ee059(0x635)]['_'+_0x6e0a4d+_0x2ee059(0x126)]=_0x1fad66['mimetype'];let _0x28386b=_0x1fad66[_0x2ee059(0x2e4)][_0x2ee059(0x80b)](/\/(\w+)$/),_0x598219=_0x28386b?_0x28386b[0x1]:null;_0x4c5254[_0x2ee059(0x172)][_0x2ee059(0x635)]['_'+_0x6e0a4d+_0x2ee059(0x105)]=_0x598219,this[_0x2ee059(0x5c7)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2ee059(0x3e9)+_0x6e0a4d+'\x27.');}catch(_0x4b1723){this['logger'][_0x2ee059(0x6f3)](this['instanceName']+'\x20('+this[_0x2ee059(0x2a1)][_0x2ee059(0x6c1)]+_0x2ee059(0x20c)+_0x4b1723[_0x2ee059(0x80a)]);}let _0x467782=_0x4c5254[_0x2ee059(0x172)][_0x2ee059(0x1ab)][_0x2ee059(0x24e)]||_0x4c5254[_0x2ee059(0x172)]['lastReceivedMessage']['caption']||_0x4c5254['chatLog']['lastReceivedMessage']['vote'];try{_0x4c5254[_0x2ee059(0x172)][_0x2ee059(0x635)]||(_0x4c5254[_0x2ee059(0x172)][_0x2ee059(0x635)]={});let _0x43a016=_0x4c5254[_0x2ee059(0x172)]['realVariables'][_0x6e0a4d];_0x4c5254['chatLog'][_0x2ee059(0x635)][_0x6e0a4d]=_0x467782;let _0x345f03={'variable':_0x6e0a4d,'oldValue':_0x43a016,'newValue':_0x467782};this['updateConversation'](_0x4c5254,_0x22b8ce,_0x345f03),this[_0x2ee059(0x5c7)][_0x2ee059(0x7df)](this['instanceName']+'\x20('+this[_0x2ee059(0x2a1)]['wuid']+_0x2ee059(0x3ab));}catch(_0x4acf70){let _0x2ebe92={'error':!0x0,'errorLog':_0x4acf70[_0x2ee059(0x663)]()};return this['updateConversation'](_0x4c5254,_0x22b8ce,_0x2ebe92),this[_0x2ee059(0x5c7)]['error'](this[_0x2ee059(0x87e)]+'\x20('+this[_0x2ee059(0x2a1)][_0x2ee059(0x6c1)]+_0x2ee059(0x50b)+(_0x4acf70 instanceof Error?_0x4acf70[_0x2ee059(0x80a)]:JSON[_0x2ee059(0x751)](_0x4acf70,null,0x2))),null;}}async[a0_0x5ae34c(0x5ed)](_0x58743b,_0x115b08){const _0x2230a2=a0_0x5ae34c;if(this[_0x2230a2(0x5c7)]['verbose'](this[_0x2230a2(0x87e)]+'\x20('+this[_0x2230a2(0x2a1)]['wuid']+_0x2230a2(0x56c)),!_0x58743b||!_0x115b08)return this[_0x2230a2(0x5c7)][_0x2230a2(0x6f3)](this[_0x2230a2(0x87e)]+'\x20('+this['instance'][_0x2230a2(0x6c1)]+_0x2230a2(0x489)),null;let _0x442ca7=Date[_0x2230a2(0x776)](),_0x14ac5a=parseInt(_0x115b08[_0x2230a2(0x271)],0xa);if(isNaN(_0x14ac5a))return this[_0x2230a2(0x5c7)][_0x2230a2(0x6f3)](this['instanceName']+'\x20('+this['instance'][_0x2230a2(0x6c1)]+_0x2230a2(0x3e2)),null;let _0x309fb7={'newStoppedUntil':_0x442ca7+_0x14ac5a*0x3c*0x3e8};return await this[_0x2230a2(0x6d3)](_0x58743b,_0x115b08,_0x309fb7,!0x0),null;}async[a0_0x5ae34c(0x7ee)](_0x1597f0,_0x3789b2){const _0x180ab0=a0_0x5ae34c;try{switch(_0x3789b2[_0x180ab0(0x332)]['command']){case _0x180ab0(0x434):await this[_0x180ab0(0x4a5)](_0x1597f0,_0x3789b2);break;case _0x180ab0(0x508):await this[_0x180ab0(0x29f)](_0x1597f0,_0x3789b2);break;case _0x180ab0(0x5f9):await this[_0x180ab0(0x402)](_0x1597f0,_0x3789b2);break;case'sendAudio':await this[_0x180ab0(0x88b)](_0x1597f0,_0x3789b2);break;case _0x180ab0(0x1d2):await this[_0x180ab0(0x564)](_0x1597f0,_0x3789b2);break;case _0x180ab0(0x759):await this['uazapiSendMenu'](_0x1597f0,_0x3789b2);break;case _0x180ab0(0x44e):await this[_0x180ab0(0x444)](_0x1597f0,_0x3789b2);break;case _0x180ab0(0x4eb):await this[_0x180ab0(0x6e1)](_0x1597f0,_0x3789b2);break;default:this[_0x180ab0(0x5c7)][_0x180ab0(0x6f3)](this[_0x180ab0(0x87e)]+'\x20('+this[_0x180ab0(0x2a1)]['wuid']+_0x180ab0(0x767)+_0x3789b2['uazapi'][_0x180ab0(0x114)]);}}catch(_0x45bd3c){this[_0x180ab0(0x5c7)][_0x180ab0(0x6f3)](this[_0x180ab0(0x87e)]+'\x20('+this[_0x180ab0(0x2a1)][_0x180ab0(0x6c1)]+_0x180ab0(0x784)+(_0x45bd3c instanceof Error?_0x45bd3c[_0x180ab0(0x80a)]:JSON[_0x180ab0(0x751)](_0x45bd3c,null,0x2)));}}async[a0_0x5ae34c(0x6d3)](_0x4cddea,_0x1cb4ee,_0x15ffb4,_0x295ce2=!0x1,_0x16ba49=!0x1){const _0x58d018=a0_0x5ae34c;_0x4cddea[_0x58d018(0x172)]['blockLogs']||(_0x4cddea[_0x58d018(0x172)][_0x58d018(0x189)]=[]);let _0x2fc580=(_0x4cddea[_0x58d018(0x172)][_0x58d018(0x189)]?.[_0x58d018(0x3b3)]??0x0)+0x1,_0x3a5d08=_0x4cddea[_0x58d018(0x172)][_0x58d018(0x189)]['filter'](_0xe1cc6a=>String(_0xe1cc6a[_0x58d018(0x310)])===String(_0x1cb4ee['_id']))[_0x58d018(0x3b3)]+0x1,_0x7bc93d=_0x15ffb4?.[_0x58d018(0x690)]??Date[_0x58d018(0x776)](),_0x260b15=_0x15ffb4?.[_0x58d018(0x6f3)]?_0x15ffb4[_0x58d018(0x7b3)]??_0x15ffb4['error'][_0x58d018(0x663)]():void 0x0,_0x2837d3={'onTime':_0x7bc93d,'blockId':_0x1cb4ee[_0x58d018(0x579)],'order':_0x2fc580,'activatedCount':_0x3a5d08,'error':_0x15ffb4?.[_0x58d018(0x6f3)]??!0x1,'messageId':_0x15ffb4?.[_0x58d018(0x7ad)],'apiResponse':_0x15ffb4?.[_0x58d018(0x1b2)],'apiResponseString':_0x15ffb4?.[_0x58d018(0x1b2)]?JSON['stringify'](_0x15ffb4?.[_0x58d018(0x1b2)]):void 0x0,'variable':_0x15ffb4?.[_0x58d018(0x2b1)],'oldValue':_0x15ffb4?.[_0x58d018(0x351)],'newValue':_0x15ffb4?.[_0x58d018(0x7af)],'newStoppedUntil':_0x15ffb4?.[_0x58d018(0x855)],'moreLogs':_0x15ffb4?.['moreLogs'],'errorLog':_0x260b15};if(_0x15ffb4[_0x58d018(0x49c)]&&_0x15ffb4[_0x58d018(0x49c)][_0x58d018(0x3b3)]>0x0){let _0xd8f6f0=_0x15ffb4[_0x58d018(0x49c)][_0x58d018(0x89e)](_0x16e4e7=>this[_0x58d018(0x4af)](_0x16e4e7,_0x4cddea[_0x58d018(0x172)][_0x58d018(0x635)]));_0x2837d3['moreLogs']=_0xd8f6f0;}if(_0x4cddea[_0x58d018(0x172)][_0x58d018(0x635)]||(_0x4cddea[_0x58d018(0x172)][_0x58d018(0x635)]={}),_0x4cddea[_0x58d018(0x172)]['realVariables'][_0x58d018(0x85d)]=String(_0x3a5d08),_0x4cddea['chatLog'][_0x58d018(0x635)]['_error']=String(_0x15ffb4['error']??!0x1),_0x4cddea['chatLog'][_0x58d018(0x189)][_0x58d018(0x6dd)](_0x2837d3),_0x4cddea[_0x58d018(0x172)]['realVariables'][_0x58d018(0x615)]&&_0x4cddea[_0x58d018(0x172)]['realVariables']['telefone']!==_0x4cddea[_0x58d018(0x668)]){let _0x1838c2=(await this[_0x58d018(0x30c)]({'numbers':[_0x4cddea['chatLog'][_0x58d018(0x635)][_0x58d018(0x615)]]}))[0x0]['jid'];_0x4cddea['chatLog'][_0x58d018(0x635)][_0x58d018(0x615)]=_0x1838c2,_0x4cddea[_0x58d018(0x668)]=_0x1838c2;try{let _0x2f054e={'_id':{'$ne':_0x4cddea[_0x58d018(0x579)]},'remoteJid':_0x1838c2,'status':_0x58d018(0x83a)},_0x1bd49a={'status':_0x58d018(0x2a9)};await this[_0x58d018(0x20b)]['flowConversation'][_0x58d018(0x4ad)](_0x2f054e,_0x1bd49a,this[_0x58d018(0x2a1)][_0x58d018(0x6c1)]),this[_0x58d018(0x5c7)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x58d018(0x6c1)]+_0x58d018(0x2d4));}catch(_0x4828ed){this[_0x58d018(0x5c7)][_0x58d018(0x6f3)](this[_0x58d018(0x87e)]+'\x20('+this[_0x58d018(0x2a1)][_0x58d018(0x6c1)]+_0x58d018(0x51b)+_0x4828ed[_0x58d018(0x80a)]);}try{let _0x27ec21=_0x4cddea['chatLog'][_0x58d018(0x635)],_0x5b8f0c=await this[_0x58d018(0x826)](_0x1838c2),_0xc71645={..._0x27ec21,..._0x5b8f0c,'_remoteJid':_0x1838c2};_0x4cddea[_0x58d018(0x172)][_0x58d018(0x635)]=_0xc71645;}catch(_0x302d88){this[_0x58d018(0x5c7)]['error'](this[_0x58d018(0x87e)]+'\x20('+this[_0x58d018(0x2a1)]['wuid']+_0x58d018(0x4a7)+_0x302d88[_0x58d018(0x80a)]);}}_0x4cddea[_0x58d018(0x172)][_0x58d018(0x1bd)]=_0x1cb4ee[_0x58d018(0x579)][_0x58d018(0x663)](),_0x4cddea[_0x58d018(0x172)][_0x58d018(0x651)]&&(_0x4cddea[_0x58d018(0x172)]['lastSendMessage']=_0x4cddea[_0x58d018(0x172)][_0x58d018(0x651)]),_0x4cddea[_0x58d018(0x172)]['lastReceivedMessage']&&(_0x4cddea['chatLog'][_0x58d018(0x1ab)]=_0x4cddea[_0x58d018(0x172)][_0x58d018(0x1ab)]),_0x4cddea['chatLog'][_0x58d018(0x36b)]&&(_0x4cddea['chatLog'][_0x58d018(0x36b)]=_0x4cddea[_0x58d018(0x172)][_0x58d018(0x36b)]),_0x16ba49&&(_0x4cddea['status']=_0x58d018(0x2a9)),_0x295ce2?this[_0x58d018(0x1a0)](_0x4cddea):this[_0x58d018(0x299)](_0x4cddea,_0x1cb4ee);}[a0_0x5ae34c(0x4af)](_0x539ac8,_0x27152e){const _0x69b34d=a0_0x5ae34c;return _0x539ac8[_0x69b34d(0x2af)](/\{\{([^}]+)\}\}/g,(_0x1dd759,_0x4e4d37)=>_0x27152e[_0x4e4d37]?'{{'+_0x4e4d37+_0x69b34d(0x752)+_0x27152e[_0x4e4d37]+'\x22':'{{'+_0x4e4d37+_0x69b34d(0x1b0));}async['saveConversationToDatabase'](_0x565012){const _0x17aaf6=a0_0x5ae34c;try{let _0x6f987a=Object[_0x17aaf6(0x7e4)](_0x565012[_0x17aaf6(0x172)][_0x17aaf6(0x635)])[_0x17aaf6(0x89e)](([_0x2e6354,_0xbba56])=>({'name':_0x2e6354,'value':_0xbba56})),_0xe7cec5={'status':_0x565012[_0x17aaf6(0x41e)],'remoteJid':_0x565012['remoteJid'],'blocks':_0x565012[_0x17aaf6(0x208)],'waitingMenu_id':_0x565012[_0x17aaf6(0x470)],'waitingMenu_text':_0x565012['waitingMenu_text'],'waitingMenu_replyOptions':_0x565012[_0x17aaf6(0x634)],'chatLog':{'lastBlockId':_0x565012[_0x17aaf6(0x172)][_0x17aaf6(0x1bd)],'lastSendMessage':_0x565012['chatLog'][_0x17aaf6(0x651)],'lastReceivedMessage':_0x565012[_0x17aaf6(0x172)][_0x17aaf6(0x1ab)],'lastCondition':_0x565012[_0x17aaf6(0x172)][_0x17aaf6(0x36b)],'chatVariables':_0x6f987a,'realVariables':_0x565012[_0x17aaf6(0x172)][_0x17aaf6(0x635)],'blockLogs':_0x565012['chatLog'][_0x17aaf6(0x189)]}},_0x25c42d=await this[_0x17aaf6(0x20b)]['flowConversation']['updateOne'](_0x565012[_0x17aaf6(0x579)],_0xe7cec5,this[_0x17aaf6(0x2a1)][_0x17aaf6(0x6c1)]);if(_0x25c42d){this[_0x17aaf6(0x5c7)][_0x17aaf6(0x7df)](this['instanceName']+'\x20('+this[_0x17aaf6(0x2a1)]['wuid']+_0x17aaf6(0x345)+_0x25c42d[_0x17aaf6(0x579)]);try{let _0x426aab=['nome',_0x17aaf6(0x765),_0x17aaf6(0x24c),'cpf',_0x17aaf6(0x41e),_0x17aaf6(0x6ce),'responsavelid',_0x17aaf6(0x80c),_0x17aaf6(0x39b),_0x17aaf6(0x1a7)];if(!this[_0x17aaf6(0x541)]&&(await this[_0x17aaf6(0x278)](),!this['AutomateSystem']))throw new Error(_0x17aaf6(0x571));let _0x5ce7ae=this[_0x17aaf6(0x541)]?.[_0x17aaf6(0x34b)][_0x17aaf6(0x89e)](_0x5d8eaa=>_0x5d8eaa['name']),_0x144c37={};Object[_0x17aaf6(0x7e4)](_0x565012['chatLog'][_0x17aaf6(0x635)])[_0x17aaf6(0x478)](([_0x4451dd,_0x4fc6ce])=>{const _0xd198b3=_0x17aaf6;_0x426aab[_0xd198b3(0x81c)](_0x4451dd)&&(_0x4451dd===_0xd198b3(0x80c)&&typeof _0x4fc6ce==_0xd198b3(0x3ba)?_0x144c37[_0x4451dd]=_0x4fc6ce[_0xd198b3(0x1a3)](',')[_0xd198b3(0x89e)](_0x2db48a=>_0x2db48a['trim']())[_0xd198b3(0x252)](_0xbc5088=>_0xbc5088!==''):_0x4451dd===_0xd198b3(0x39b)&&typeof _0x4fc6ce==_0xd198b3(0x3ba)?_0x144c37[_0x4451dd]=_0x4fc6ce['split'](',')[_0xd198b3(0x89e)](_0x2b5675=>_0x2b5675['trim']())['filter'](_0x5588ae=>_0x5588ae!==''):_0x144c37[_0x4451dd]=_0x4fc6ce);});let _0x2105a9=_0x565012[_0x17aaf6(0x172)][_0x17aaf6(0x189)][_0x565012['chatLog']['blockLogs']['length']-0x1];if(_0x2105a9){let _0x19838b=_0x2105a9[_0x17aaf6(0x855)];_0x19838b!==void 0x0&&(_0x144c37[_0x17aaf6(0x216)]=_0x19838b[_0x17aaf6(0x663)]());}let _0x5987e2=_0x6f987a[_0x17aaf6(0x252)](_0x400432=>_0x5ce7ae[_0x17aaf6(0x81c)](_0x400432['name']));this['logger']['verbose'](this[_0x17aaf6(0x87e)]+'\x20('+this['instance']['wuid']+'):\x20leadInfoVariables'),this[_0x17aaf6(0x5c7)][_0x17aaf6(0x7df)](_0x144c37),this[_0x17aaf6(0x5c7)][_0x17aaf6(0x7df)](this[_0x17aaf6(0x87e)]+'\x20('+this[_0x17aaf6(0x2a1)]['wuid']+'):\x20customFieldVariables'),this['logger'][_0x17aaf6(0x7df)](_0x5987e2);let _0x1aa928=_0x5987e2[_0x17aaf6(0x89e)](_0xe8d87=>{const _0x224e9c=_0x17aaf6;let _0x5dd623=this[_0x224e9c(0x541)]?.[_0x224e9c(0x34b)][_0x224e9c(0x42c)](_0x47115c=>_0x47115c[_0x224e9c(0x48b)]===_0xe8d87[_0x224e9c(0x48b)]);if(!_0x5dd623)throw new Error(_0x224e9c(0x527)+_0xe8d87[_0x224e9c(0x48b)]);return{'_id':_0x5dd623['_id'],'value':_0xe8d87[_0x224e9c(0x4b3)]};});this[_0x17aaf6(0x5c7)][_0x17aaf6(0x7df)](this[_0x17aaf6(0x87e)]+'\x20('+this[_0x17aaf6(0x2a1)][_0x17aaf6(0x6c1)]+_0x17aaf6(0x821)),this[_0x17aaf6(0x5c7)][_0x17aaf6(0x7df)](_0x1aa928),await this[_0x17aaf6(0x6bf)](_0x565012[_0x17aaf6(0x668)],_0x144c37,_0x1aa928);}catch(_0x495049){this[_0x17aaf6(0x5c7)][_0x17aaf6(0x6f3)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x17aaf6(0x20e)+(_0x495049 instanceof Error?_0x495049[_0x17aaf6(0x80a)]:JSON['stringify'](_0x495049,null,0x2)));}}else this[_0x17aaf6(0x5c7)]['error'](this[_0x17aaf6(0x87e)]+'\x20('+this[_0x17aaf6(0x2a1)][_0x17aaf6(0x6c1)]+_0x17aaf6(0x4a3));}catch(_0x5af752){this[_0x17aaf6(0x5c7)][_0x17aaf6(0x6f3)](this[_0x17aaf6(0x87e)]+'\x20('+this[_0x17aaf6(0x2a1)][_0x17aaf6(0x6c1)]+_0x17aaf6(0x2ea)+(_0x5af752 instanceof Error?_0x5af752[_0x17aaf6(0x80a)]:JSON['stringify'](_0x5af752,null,0x2)));}}async[a0_0x5ae34c(0x6bf)](_0x8a151a,_0x2e99ca,_0x227fcb){const _0x1a7ee5=a0_0x5ae34c;try{let _0x1d9d9c={'leadInfo.leadnome':_0x2e99ca[_0x1a7ee5(0x4f8)],'leadInfo.nomecompleto':_0x2e99ca['nomecompleto'],'leadInfo.email':_0x2e99ca[_0x1a7ee5(0x24c)],'leadInfo.cpf':_0x2e99ca[_0x1a7ee5(0x3b4)],'leadInfo.status':_0x2e99ca[_0x1a7ee5(0x41e)],'leadInfo.notas':_0x2e99ca['notas'],'leadInfo.responsavelid':_0x2e99ca[_0x1a7ee5(0x82e)],'leadInfo.tags':_0x2e99ca[_0x1a7ee5(0x80c)],'leadInfo.etiquetas':_0x2e99ca[_0x1a7ee5(0x39b)],'leadInfo.customFields':_0x227fcb,'leadInfo.atendimentoAberto':_0x2e99ca[_0x1a7ee5(0x1a7)]},_0xd8fb67=await this[_0x1a7ee5(0x20b)][_0x1a7ee5(0x789)][_0x1a7ee5(0x875)]({'where':{'_id':_0x8a151a}},this[_0x1a7ee5(0x2a1)][_0x1a7ee5(0x6c1)]);if(!_0xd8fb67)return _0x1a7ee5(0x828);let _0x4852ee=new Set(_0xd8fb67[_0x1a7ee5(0x138)][_0x1a7ee5(0x39b)]||[]),_0x3bd9db=new Set(_0x2e99ca[_0x1a7ee5(0x39b)]||[]),_0x505708=await this[_0x1a7ee5(0x20b)][_0x1a7ee5(0x727)][_0x1a7ee5(0x42c)]({'where':{}},this[_0x1a7ee5(0x2a1)][_0x1a7ee5(0x6c1)]),_0x2629fe=new Set(_0x505708[_0x1a7ee5(0x89e)](_0x1432dd=>_0x1432dd['_id'])),_0x5f2ead=[..._0x3bd9db][_0x1a7ee5(0x252)](_0x59955c=>!_0x4852ee['has'](_0x59955c)&&_0x2629fe[_0x1a7ee5(0x567)](_0x59955c)),_0x5b3c13=[..._0x4852ee]['filter'](_0x1b7fe1=>!_0x3bd9db[_0x1a7ee5(0x567)](_0x1b7fe1));for(let _0x11d8a7 of _0x5f2ead)await this[_0x1a7ee5(0x3de)](_0x11d8a7,_0xd8fb67[_0x1a7ee5(0x579)]),_0x4852ee[_0x1a7ee5(0x2a2)](_0x11d8a7);for(let _0x5b55f8 of _0x5b3c13)await this['RemoveChatLabel'](_0x5b55f8,_0xd8fb67[_0x1a7ee5(0x579)]),_0x4852ee[_0x1a7ee5(0x42f)](_0x5b55f8);if(_0x1a7ee5(0x216)in _0x2e99ca){let _0x446253=_0x2e99ca[_0x1a7ee5(0x216)];_0x1d9d9c[_0x1a7ee5(0x179)]=_0x446253?Number(_0x446253):null;}if(_0x1a7ee5(0x1a7)in _0x2e99ca){let _0x27d74c=_0x2e99ca['atendimentoAberto']['toLowerCase']();_0x1d9d9c[_0x1a7ee5(0x3e8)]=_0x27d74c==='true'||_0x27d74c==='1'||_0x27d74c===_0x1a7ee5(0x3c6)||_0x27d74c===_0x1a7ee5(0x813);}let _0x2d0119=await this[_0x1a7ee5(0x20b)][_0x1a7ee5(0x789)][_0x1a7ee5(0x41a)]({'where':{'_id':_0x8a151a}},_0x1d9d9c,this[_0x1a7ee5(0x2a1)]['wuid']);_0x2d0119?(this[_0x1a7ee5(0x5c7)][_0x1a7ee5(0x7df)](this[_0x1a7ee5(0x87e)]+'\x20('+this['instance'][_0x1a7ee5(0x6c1)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x2d0119[_0x1a7ee5(0x579)]),F(this['instanceName'],_0x1a7ee5(0x5dd),{'chat':_0x2d0119})):this[_0x1a7ee5(0x5c7)][_0x1a7ee5(0x6f3)](this['instanceName']+'\x20('+this[_0x1a7ee5(0x2a1)][_0x1a7ee5(0x6c1)]+_0x1a7ee5(0x874));}catch(_0x30c9a2){this[_0x1a7ee5(0x5c7)][_0x1a7ee5(0x6f3)](this[_0x1a7ee5(0x87e)]+'\x20('+this['instance']['wuid']+_0x1a7ee5(0x892)+(_0x30c9a2 instanceof Error?_0x30c9a2['message']:JSON['stringify'](_0x30c9a2,null,0x2)));}}async['updateStopChat'](_0x2622f9,_0x25d2e3){const _0x15b50e=a0_0x5ae34c;this['logger'][_0x15b50e(0x7df)](this[_0x15b50e(0x87e)]+'\x20('+this[_0x15b50e(0x2a1)][_0x15b50e(0x6c1)]+_0x15b50e(0x3b1)+_0x25d2e3);try{let _0x81b3=await this[_0x15b50e(0x20b)][_0x15b50e(0x789)][_0x15b50e(0x41a)]({'where':{'_id':_0x2622f9[_0x15b50e(0x668)]}},{'leadInfo.desativadoFluxoAte':_0x25d2e3},this['instance']['wuid']);this[_0x15b50e(0x5c7)]['verbose'](this['instanceName']+'\x20('+this[_0x15b50e(0x2a1)][_0x15b50e(0x6c1)]+_0x15b50e(0x124)+_0x2622f9[_0x15b50e(0x579)]),this['logger'][_0x15b50e(0x7df)](this[_0x15b50e(0x87e)]+'\x20('+this[_0x15b50e(0x2a1)][_0x15b50e(0x6c1)]+'):\x20atualização\x20chat:\x20'+JSON[_0x15b50e(0x751)](_0x81b3,null,0x2)),_0x81b3&&F(this[_0x15b50e(0x87e)],'chats',{'chat':_0x81b3});}catch(_0x438c9f){this[_0x15b50e(0x5c7)]['error'](this[_0x15b50e(0x87e)]+'\x20('+this[_0x15b50e(0x2a1)][_0x15b50e(0x6c1)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x438c9f instanceof Error?_0x438c9f[_0x15b50e(0x80a)]:JSON[_0x15b50e(0x751)](_0x438c9f,null,0x2)));}}async[a0_0x5ae34c(0x898)](_0x3db47f){const _0x36aef7=a0_0x5ae34c;try{this[_0x36aef7(0x5c7)][_0x36aef7(0x7df)](this['instanceName']+'\x20('+this['instance'][_0x36aef7(0x6c1)]+_0x36aef7(0x3ca));let _0x20c07f=_0x3db47f['replace'](/\D/g,''),_0x265caf=this['AutomateSystem']['flows']['find'](_0x58361a=>_0x58361a[_0x36aef7(0x831)]===_0x20c07f);if(_0x265caf||(this[_0x36aef7(0x5c7)][_0x36aef7(0x7df)](this[_0x36aef7(0x87e)]+'\x20('+this['instance'][_0x36aef7(0x6c1)]+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x265caf=this['AutomateSystem'][_0x36aef7(0x7dc)][_0x36aef7(0x42c)](_0x6dc4e1=>_0x6dc4e1['default']===!0x0)),!_0x265caf)return this['logger']['verbose'](this[_0x36aef7(0x87e)]+'\x20('+this[_0x36aef7(0x2a1)][_0x36aef7(0x6c1)]+_0x36aef7(0x16f)),null;let _0x2457d2=await this[_0x36aef7(0x20b)][_0x36aef7(0x4e0)]['findOne']({'where':{'_id':_0x265caf[_0x36aef7(0x579)]}});if(!_0x2457d2||!_0x2457d2['whoCanUse']?.[_0x36aef7(0x81c)](this[_0x36aef7(0x2a1)][_0x36aef7(0x6c1)]))throw this[_0x36aef7(0x5c7)][_0x36aef7(0x6f3)](this[_0x36aef7(0x87e)]+'\x20('+this['instance'][_0x36aef7(0x6c1)]+'):\x20Flow\x20\x27'+_0x2457d2[_0x36aef7(0x579)]+_0x36aef7(0x499)),new m(_0x36aef7(0x2e6)+_0x2457d2[_0x36aef7(0x579)]+_0x36aef7(0x499));return _0x2457d2;}catch(_0xa3762b){return this[_0x36aef7(0x5c7)][_0x36aef7(0x6f3)](this[_0x36aef7(0x87e)]+'\x20('+this[_0x36aef7(0x2a1)]['wuid']+_0x36aef7(0x39a)+(_0xa3762b instanceof Error?_0xa3762b['message']:JSON[_0x36aef7(0x751)](_0xa3762b,null,0x2))),null;}}async[a0_0x5ae34c(0x45d)](_0x412c0b,_0x2aeb1f){const _0x2d445e=a0_0x5ae34c;try{let _0x539a75=!!_0x2aeb1f[_0x2d445e(0x1bf)],_0x178208=_0x2aeb1f['quoted'],_0x42c690=null;if(this[_0x2d445e(0x5c7)][_0x2d445e(0x7df)](this['instanceName']+'\x20('+this[_0x2d445e(0x2a1)][_0x2d445e(0x6c1)]+_0x2d445e(0x59a)+_0x539a75+'\x20quoted:\x20'+_0x178208),_0x539a75){this[_0x2d445e(0x5c7)][_0x2d445e(0x7df)](this['instanceName']+'\x20('+this[_0x2d445e(0x2a1)]['wuid']+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x29bd3b={'where':{'remoteJid':_0x412c0b,'waitingMenu_id':_0x178208}};if(_0x42c690=await this['repository'][_0x2d445e(0x1d6)][_0x2d445e(0x875)](_0x29bd3b,this[_0x2d445e(0x2a1)]['wuid']),!_0x42c690)return this[_0x2d445e(0x5c7)]['verbose'](this[_0x2d445e(0x87e)]+'\x20('+this[_0x2d445e(0x2a1)][_0x2d445e(0x6c1)]+_0x2d445e(0x513)),null;let _0x393007=Date[_0x2d445e(0x776)](),_0x2d3ec2=_0x42c690?.[_0x2d445e(0x536)]||0x0,_0x4abb68=_0x393007-_0x2d3ec2*0x3c*0x3e8;if(_0x42c690[_0x2d445e(0x5fe)]<_0x4abb68){this[_0x2d445e(0x5c7)][_0x2d445e(0x7df)](this[_0x2d445e(0x87e)]+'\x20('+this[_0x2d445e(0x2a1)][_0x2d445e(0x6c1)]+_0x2d445e(0x587));let _0x549f5d={'number':_0x42c690[_0x2d445e(0x668)],'options':{'delay':0x0},'textMessage':{'text':_0x42c690['waitingMenu_ExpiredMessage']}};await this[_0x2d445e(0x6c3)](_0x549f5d);let _0x59e5e1={'status':_0x2d445e(0x2a9),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x2d445e(0x20b)][_0x2d445e(0x1d6)]['updateOne'](_0x42c690[_0x2d445e(0x579)],_0x59e5e1,this[_0x2d445e(0x2a1)][_0x2d445e(0x6c1)]),null;}return _0x42c690[_0x2d445e(0x5fe)]=Date[_0x2d445e(0x776)](),_0x42c690[_0x2d445e(0x172)][_0x2d445e(0x1ab)]=_0x2aeb1f,_0x42c690;}else{this[_0x2d445e(0x5c7)][_0x2d445e(0x7df)](this['instanceName']+'\x20('+this['instance'][_0x2d445e(0x6c1)]+'):\x20'+this['instance'][_0x2d445e(0x6c1)]+_0x2d445e(0x211)),this[_0x2d445e(0x5c7)][_0x2d445e(0x7df)](this[_0x2d445e(0x87e)]+'\x20('+this['instance']['wuid']+_0x2d445e(0x2ce));let _0x1da6ec={'where':{'remoteJid':_0x412c0b,'status':_0x2d445e(0x83a)}};if(_0x42c690=await this[_0x2d445e(0x20b)][_0x2d445e(0x1d6)][_0x2d445e(0x875)](_0x1da6ec,this[_0x2d445e(0x2a1)][_0x2d445e(0x6c1)]),!_0x42c690){let _0x58402e=await this['findFlow'](_0x412c0b);if(_0x58402e&&(_0x42c690=await this[_0x2d445e(0x543)](_0x58402e,_0x2aeb1f[_0x2d445e(0x1e3)],_0x2aeb1f)),!_0x42c690)return null;}let _0x4d98c8=Date[_0x2d445e(0x776)](),_0x924cdf=_0x42c690?.[_0x2d445e(0x536)]||0x0,_0x3acba1=_0x4d98c8-_0x924cdf*0x3c*0x3e8;if(this[_0x2d445e(0x5c7)][_0x2d445e(0x7df)](this['instanceName']+'\x20('+this['instance'][_0x2d445e(0x6c1)]+_0x2d445e(0x823)+_0x4d98c8+_0x2d445e(0x118)+_0x924cdf+',\x20Expiration\x20Time:\x20'+_0x3acba1),this[_0x2d445e(0x5c7)][_0x2d445e(0x7df)](this[_0x2d445e(0x87e)]+'\x20('+this['instance']['wuid']+_0x2d445e(0x7d8)),this[_0x2d445e(0x5c7)]['verbose'](this[_0x2d445e(0x87e)]+'\x20('+this[_0x2d445e(0x2a1)][_0x2d445e(0x6c1)]+'):\x20conversation.lastInteraction:\x20'+_0x42c690[_0x2d445e(0x5fe)]),this[_0x2d445e(0x5c7)][_0x2d445e(0x7df)](this[_0x2d445e(0x87e)]+'\x20('+this[_0x2d445e(0x2a1)][_0x2d445e(0x6c1)]+_0x2d445e(0x160)+_0x3acba1),_0x42c690[_0x2d445e(0x5fe)]<_0x3acba1){this['logger'][_0x2d445e(0x7df)](this[_0x2d445e(0x87e)]+'\x20('+this['instance'][_0x2d445e(0x6c1)]+_0x2d445e(0x1eb));let _0xe75e73=await this['findFlow'](_0x412c0b);if(_0xe75e73===null)return null;_0x42c690&&await this[_0x2d445e(0x20b)][_0x2d445e(0x1d6)][_0x2d445e(0x41a)](_0x42c690[_0x2d445e(0x579)],{'status':_0x2d445e(0x2a9)},this['instance'][_0x2d445e(0x6c1)]),_0x42c690=await this[_0x2d445e(0x543)](_0xe75e73,_0x2aeb1f[_0x2d445e(0x1e3)],_0x2aeb1f);}return _0x42c690[_0x2d445e(0x5fe)]=_0x4d98c8,_0x42c690[_0x2d445e(0x172)][_0x2d445e(0x1ab)]=_0x2aeb1f,_0x42c690;}}catch(_0x12d4b3){return this[_0x2d445e(0x5c7)]['error'](this['instanceName']+'\x20('+this[_0x2d445e(0x2a1)][_0x2d445e(0x6c1)]+_0x2d445e(0x6e0)+(_0x12d4b3 instanceof Error?_0x12d4b3['message']:JSON[_0x2d445e(0x751)](_0x12d4b3,null,0x2))),null;}}async[a0_0x5ae34c(0x543)](_0xf3dd16,_0x589deb,_0x145aa0){const _0x40be1b=a0_0x5ae34c;this[_0x40be1b(0x5c7)][_0x40be1b(0x7df)](this[_0x40be1b(0x87e)]+'\x20('+this[_0x40be1b(0x2a1)][_0x40be1b(0x6c1)]+_0x40be1b(0x674));try{let _0x138439=require(_0x40be1b(0x3c4))['ObjectId'],_0x4dcae9=Date['now'](),_0x12bcd1=_0x40be1b(0x580),_0x3f6d7d=_0x589deb['fromMe']?null:_0x145aa0,_0x6c6cd3=_0x589deb[_0x40be1b(0x210)]?_0x145aa0:null,_0x29f43c=_0x589deb[_0x40be1b(0x668)],_0x2ceb69=this[_0x40be1b(0x541)]['flows'][_0x40be1b(0x42c)](_0x17a57f=>_0x17a57f[_0x40be1b(0x579)]===_0xf3dd16['_id']?.[_0x40be1b(0x663)]()),_0x364ad8=_0x2ceb69?.[_0x40be1b(0x536)]??_0xf3dd16['minutesToClose']??0x0,_0x190e14=_0x2ceb69?.[_0x40be1b(0x379)]??_0xf3dd16[_0x40be1b(0x379)]??!0x1;await this[_0x40be1b(0x333)](_0x29f43c);let _0x4275a7={'flowId':_0xf3dd16[_0x40be1b(0x579)],..._0xf3dd16,'chatLog':null},_0x319cf4=await this[_0x40be1b(0x618)](_0x4275a7[_0x40be1b(0x215)]),_0x485598=await this[_0x40be1b(0x826)](_0x29f43c),_0x4d41df={..._0x319cf4,..._0x485598,'_remoteJid':_0x29f43c},_0xf146e3={'lastReceivedMessage':_0x3f6d7d,'lastSendMessage':_0x6c6cd3,'lastBlockId':_0x12bcd1,'lastCondition':!0x0,'realVariables':_0x4d41df};_0x4275a7[_0x40be1b(0x172)]=_0xf146e3,delete _0x4275a7['_id'],_0x4275a7[_0x40be1b(0x579)]=new _0x138439(),_0x4275a7['lastInteraction']=_0x4dcae9,_0x4275a7['status']=_0x40be1b(0x83a),_0x4275a7[_0x40be1b(0x668)]=_0x29f43c,_0x4275a7[_0x40be1b(0x536)]=_0x364ad8,_0x4275a7[_0x40be1b(0x379)]=_0x190e14;let _0x4e19db=await this['repository'][_0x40be1b(0x1d6)][_0x40be1b(0x41a)](_0x4275a7[_0x40be1b(0x579)],_0x4275a7,this['instance'][_0x40be1b(0x6c1)]);return this[_0x40be1b(0x5c7)][_0x40be1b(0x7df)](this['instanceName']+'\x20('+this[_0x40be1b(0x2a1)]['wuid']+_0x40be1b(0x717)),_0x4e19db?_0x4275a7:null;}catch(_0x2d259b){return this[_0x40be1b(0x5c7)][_0x40be1b(0x6f3)](this[_0x40be1b(0x87e)]+'\x20('+this[_0x40be1b(0x2a1)][_0x40be1b(0x6c1)]+_0x40be1b(0x6c5)+(_0x2d259b instanceof Error?_0x2d259b[_0x40be1b(0x80a)]:JSON[_0x40be1b(0x751)](_0x2d259b,null,0x2))),_0x2d259b;}}async['uazapiSendText'](_0x55cd7d,_0x1b584f){const _0x430bd8=a0_0x5ae34c;let _0x2b6189=_0x55cd7d[_0x430bd8(0x668)];_0x1b584f['uazapi'][_0x430bd8(0x668)]&&_0x1b584f[_0x430bd8(0x332)][_0x430bd8(0x668)][_0x430bd8(0x1b6)]()!==''&&(_0x2b6189=_0x1b584f['uazapi']['remoteJid'][_0x430bd8(0x1b6)]()),this[_0x430bd8(0x5c7)][_0x430bd8(0x7df)](this[_0x430bd8(0x87e)]+'\x20('+this[_0x430bd8(0x2a1)][_0x430bd8(0x6c1)]+'):\x20Enviando\x20texto');let _0x1cc79e={'number':_0x2b6189,'options':{'delay':_0x1b584f['uazapi'][_0x430bd8(0x371)],'linkPreview':_0x1b584f['uazapi'][_0x430bd8(0x7d2)]},'textMessage':{'text':_0x1b584f['uazapi'][_0x430bd8(0x24e)]}};try{let _0x2d6de2=await this[_0x430bd8(0x6c3)](_0x1cc79e);if(_0x2d6de2){let _0xfb1555={'_id':_0x2d6de2['key']['id'],'_fromMe':_0x2d6de2['key'][_0x430bd8(0x210)],'_remoteJid':_0x2d6de2[_0x430bd8(0x1e3)][_0x430bd8(0x668)]},_0x30c554=(0x0,w[_0x430bd8(0x283)])(_0x2d6de2[_0x430bd8(0x80a)]),_0x1435b0=(0x0,w[_0x430bd8(0x43b)])(_0x30c554);_0x55cd7d[_0x430bd8(0x172)]['lastBlockId']=_0x1b584f['_id']['toString']();let {message_normalized:_0x3047db}=this['normalizeMessage'](_0x30c554,_0x1435b0,null);_0x55cd7d['chatLog'][_0x430bd8(0x651)]=await _0x3047db;let _0x3f9c1f={'messageId':_0x2d6de2[_0x430bd8(0x1e3)]['id']},_0x3bca3f=_0x55cd7d[_0x430bd8(0x172)]['realVariables'];Object[_0x430bd8(0x41f)](_0x3bca3f,_0xfb1555),_0x55cd7d[_0x430bd8(0x172)][_0x430bd8(0x635)]=_0x3bca3f,this['updateConversation'](_0x55cd7d,_0x1b584f,_0x3f9c1f);}else{let _0x31df48={'error':!0x0};this[_0x430bd8(0x6d3)](_0x55cd7d,_0x1b584f,_0x31df48),this[_0x430bd8(0x5c7)][_0x430bd8(0x6f3)](this[_0x430bd8(0x87e)]+'\x20('+this['instance'][_0x430bd8(0x6c1)]+_0x430bd8(0x41b));}}catch(_0x50823d){let _0x12da81={'error':!0x0,'errorLog':_0x50823d[_0x430bd8(0x663)]()};this['updateConversation'](_0x55cd7d,_0x1b584f,_0x12da81),this['logger']['error'](this['instanceName']+'\x20('+this[_0x430bd8(0x2a1)][_0x430bd8(0x6c1)]+_0x430bd8(0x80f)+(_0x50823d instanceof Error?_0x50823d[_0x430bd8(0x80a)]:JSON[_0x430bd8(0x751)](_0x50823d,null,0x2)));}}async[a0_0x5ae34c(0x29f)](_0x256b36,_0x983847){const _0x512f20=a0_0x5ae34c;let _0x4267e3=_0x256b36[_0x512f20(0x668)];_0x983847[_0x512f20(0x332)][_0x512f20(0x668)]&&_0x983847[_0x512f20(0x332)][_0x512f20(0x668)][_0x512f20(0x1b6)]()!==''&&(_0x4267e3=_0x983847[_0x512f20(0x332)][_0x512f20(0x668)][_0x512f20(0x1b6)]()),this[_0x512f20(0x5c7)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x512f20(0x308));let _0x35e946={'number':_0x4267e3,'options':{'delay':_0x983847['uazapi'][_0x512f20(0x371)],'linkPreview':_0x983847[_0x512f20(0x332)][_0x512f20(0x7d2)]},'mediaMessage':{'mediatype':_0x983847[_0x512f20(0x332)][_0x512f20(0x745)],'caption':_0x983847[_0x512f20(0x332)][_0x512f20(0x427)],'media':_0x983847[_0x512f20(0x332)][_0x512f20(0x625)],'fileName':_0x983847[_0x512f20(0x332)][_0x512f20(0x4e4)]}};try{let _0x524b25=await this['mediaMessage'](_0x35e946);if(_0x524b25){let _0x39d1ab={'_id':_0x524b25[_0x512f20(0x1e3)]['id'],'_fromMe':_0x524b25[_0x512f20(0x1e3)][_0x512f20(0x210)],'_remoteJid':_0x524b25[_0x512f20(0x1e3)][_0x512f20(0x668)]},_0x2620c0=(0x0,w[_0x512f20(0x283)])(_0x524b25[_0x512f20(0x80a)]),_0x67a9c2=(0x0,w[_0x512f20(0x43b)])(_0x2620c0);_0x256b36[_0x512f20(0x172)]['lastBlockId']=_0x983847['_id']['toString']();let {message_normalized:_0xccce7e}=this[_0x512f20(0x318)](_0x2620c0,_0x67a9c2,null);_0x256b36[_0x512f20(0x172)][_0x512f20(0x651)]=await _0xccce7e;let _0x2b072a={'messageId':_0x524b25['key']['id']},_0x23d5d7=_0x256b36['chatLog'][_0x512f20(0x635)];Object[_0x512f20(0x41f)](_0x23d5d7,_0x39d1ab),_0x256b36[_0x512f20(0x172)][_0x512f20(0x635)]=_0x23d5d7,this[_0x512f20(0x6d3)](_0x256b36,_0x983847,_0x2b072a);}else{let _0x3c4631={'error':!0x0};this[_0x512f20(0x6d3)](_0x256b36,_0x983847,_0x3c4631),this[_0x512f20(0x5c7)][_0x512f20(0x6f3)](this[_0x512f20(0x87e)]+'\x20('+this['instance'][_0x512f20(0x6c1)]+_0x512f20(0x382));}}catch(_0x14fef1){let _0xfc5789={'error':!0x0,'errorLog':_0x14fef1[_0x512f20(0x663)]()};this[_0x512f20(0x6d3)](_0x256b36,_0x983847,_0xfc5789),this[_0x512f20(0x5c7)][_0x512f20(0x6f3)](this[_0x512f20(0x87e)]+'\x20('+this[_0x512f20(0x2a1)]['wuid']+_0x512f20(0x1ec)+(_0x14fef1 instanceof Error?_0x14fef1[_0x512f20(0x80a)]:JSON[_0x512f20(0x751)](_0x14fef1,null,0x2)));}}async[a0_0x5ae34c(0x402)](_0x3624b0,_0x411dbe){const _0xdb5098=a0_0x5ae34c;let _0x2fc327=_0x3624b0[_0xdb5098(0x668)];_0x411dbe['uazapi'][_0xdb5098(0x668)]&&_0x411dbe['uazapi'][_0xdb5098(0x668)]['trim']()!==''&&(_0x2fc327=_0x411dbe[_0xdb5098(0x332)][_0xdb5098(0x668)]['trim']()),this[_0xdb5098(0x5c7)][_0xdb5098(0x7df)](this[_0xdb5098(0x87e)]+'\x20('+this[_0xdb5098(0x2a1)]['wuid']+_0xdb5098(0x109));let _0x2197b3={'number':_0x2fc327,'options':{'delay':_0x411dbe[_0xdb5098(0x332)][_0xdb5098(0x371)]},'locationMessage':{'name':_0x411dbe[_0xdb5098(0x332)][_0xdb5098(0x48b)],'address':_0x411dbe['uazapi']['address'],'latitude':_0x411dbe[_0xdb5098(0x332)]['latitude'],'longitude':_0x411dbe['uazapi'][_0xdb5098(0x47c)]}};try{let _0x28b07a=await this[_0xdb5098(0x2c0)](_0x2197b3);if(_0x28b07a){let _0x30202d={'_id':_0x28b07a[_0xdb5098(0x1e3)]['id'],'_fromMe':_0x28b07a[_0xdb5098(0x1e3)][_0xdb5098(0x210)],'_remoteJid':_0x28b07a[_0xdb5098(0x1e3)][_0xdb5098(0x668)]},_0x2523a=(0x0,w['normalizeMessageContent'])(_0x28b07a['message']),_0x50b289=(0x0,w[_0xdb5098(0x43b)])(_0x2523a);_0x3624b0['chatLog'][_0xdb5098(0x1bd)]=_0x411dbe[_0xdb5098(0x579)][_0xdb5098(0x663)]();let {message_normalized:_0x15028a}=this[_0xdb5098(0x318)](_0x2523a,_0x50b289,null);_0x3624b0[_0xdb5098(0x172)][_0xdb5098(0x651)]=await _0x15028a;let _0x189589={'messageId':_0x28b07a[_0xdb5098(0x1e3)]['id']},_0xccd5e6=_0x3624b0['chatLog'][_0xdb5098(0x635)];Object[_0xdb5098(0x41f)](_0xccd5e6,_0x30202d),_0x3624b0[_0xdb5098(0x172)]['realVariables']=_0xccd5e6,this[_0xdb5098(0x6d3)](_0x3624b0,_0x411dbe,_0x189589);}else{let _0x4cbf8a={'error':!0x0};this[_0xdb5098(0x6d3)](_0x3624b0,_0x411dbe,_0x4cbf8a),this[_0xdb5098(0x5c7)][_0xdb5098(0x6f3)](this[_0xdb5098(0x87e)]+'\x20('+this['instance'][_0xdb5098(0x6c1)]+_0xdb5098(0x37f));}}catch(_0x397b1e){let _0x1b97d8={'error':!0x0,'errorLog':_0x397b1e['toString']()};this['updateConversation'](_0x3624b0,_0x411dbe,_0x1b97d8),this[_0xdb5098(0x5c7)][_0xdb5098(0x6f3)](this['instanceName']+'\x20('+this[_0xdb5098(0x2a1)][_0xdb5098(0x6c1)]+_0xdb5098(0x433)+(_0x397b1e instanceof Error?_0x397b1e['message']:JSON[_0xdb5098(0x751)](_0x397b1e,null,0x2)));}}async['uazapiSendAudio'](_0x1d4097,_0x342492){const _0x232441=a0_0x5ae34c;let _0x463d89=_0x1d4097['remoteJid'];_0x342492[_0x232441(0x332)]['remoteJid']&&_0x342492[_0x232441(0x332)][_0x232441(0x668)][_0x232441(0x1b6)]()!==''&&(_0x463d89=_0x342492[_0x232441(0x332)][_0x232441(0x668)]['trim']()),this[_0x232441(0x5c7)][_0x232441(0x7df)](this['instanceName']+'\x20('+this['instance'][_0x232441(0x6c1)]+_0x232441(0x26d));let _0x5125bd={'number':_0x463d89,'options':{'delay':_0x342492[_0x232441(0x332)][_0x232441(0x371)]},'audioMessage':{'audio':_0x342492[_0x232441(0x332)][_0x232441(0x817)]}};try{let _0x1cbe04=await this['audioWhatsapp'](_0x5125bd);if(_0x1cbe04){let _0x4c6c2b={'_id':_0x1cbe04[_0x232441(0x1e3)]['id'],'_fromMe':_0x1cbe04[_0x232441(0x1e3)]['fromMe'],'_remoteJid':_0x1cbe04[_0x232441(0x1e3)][_0x232441(0x668)]},_0x32d9a8=(0x0,w[_0x232441(0x283)])(_0x1cbe04['message']),_0x18179b=(0x0,w[_0x232441(0x43b)])(_0x32d9a8);_0x1d4097['chatLog'][_0x232441(0x1bd)]=_0x342492[_0x232441(0x579)][_0x232441(0x663)]();let {message_normalized:_0x5534d4}=this[_0x232441(0x318)](_0x32d9a8,_0x18179b,null);_0x1d4097[_0x232441(0x172)][_0x232441(0x651)]=await _0x5534d4;let _0x47cdd6={'messageId':_0x1cbe04['key']['id']},_0x3c5496=_0x1d4097[_0x232441(0x172)][_0x232441(0x635)];Object['assign'](_0x3c5496,_0x4c6c2b),_0x1d4097['chatLog'][_0x232441(0x635)]=_0x3c5496,this[_0x232441(0x6d3)](_0x1d4097,_0x342492,_0x47cdd6);}else{let _0x295a69={'error':!0x0};this[_0x232441(0x6d3)](_0x1d4097,_0x342492,_0x295a69),this[_0x232441(0x5c7)]['error'](this[_0x232441(0x87e)]+'\x20('+this[_0x232441(0x2a1)][_0x232441(0x6c1)]+_0x232441(0x861));}}catch(_0x30d65c){let _0x29cf60={'error':!0x0,'errorLog':_0x30d65c[_0x232441(0x663)]()};this[_0x232441(0x6d3)](_0x1d4097,_0x342492,_0x29cf60),this[_0x232441(0x5c7)][_0x232441(0x6f3)](this['instanceName']+'\x20('+this[_0x232441(0x2a1)][_0x232441(0x6c1)]+_0x232441(0x77a)+(_0x30d65c instanceof Error?_0x30d65c[_0x232441(0x80a)]:JSON[_0x232441(0x751)](_0x30d65c,null,0x2)));}}async[a0_0x5ae34c(0x564)](_0x3cb864,_0x13709a){const _0x5cdc9a=a0_0x5ae34c;let _0x299916=_0x3cb864['remoteJid'];_0x13709a[_0x5cdc9a(0x332)][_0x5cdc9a(0x668)]&&_0x13709a[_0x5cdc9a(0x332)]['remoteJid'][_0x5cdc9a(0x1b6)]()!==''&&(_0x299916=_0x13709a[_0x5cdc9a(0x332)][_0x5cdc9a(0x668)][_0x5cdc9a(0x1b6)]()),this['logger'][_0x5cdc9a(0x7df)](this['instanceName']+'\x20('+this[_0x5cdc9a(0x2a1)][_0x5cdc9a(0x6c1)]+_0x5cdc9a(0x36f));let _0x5636ba={'number':_0x299916,'options':{'delay':_0x13709a[_0x5cdc9a(0x332)][_0x5cdc9a(0x371)]},'contactMessage':[{'fullName':_0x13709a[_0x5cdc9a(0x332)][_0x5cdc9a(0x2dd)],'phoneNumber':_0x13709a[_0x5cdc9a(0x332)][_0x5cdc9a(0x64c)]}]};try{let _0x6afae6=await this['contactMessage'](_0x5636ba);if(_0x6afae6){let _0x295ec9={'_id':_0x6afae6['key']['id'],'_fromMe':_0x6afae6[_0x5cdc9a(0x1e3)][_0x5cdc9a(0x210)],'_remoteJid':_0x6afae6[_0x5cdc9a(0x1e3)][_0x5cdc9a(0x668)]},_0x2d9010=(0x0,w[_0x5cdc9a(0x283)])(_0x6afae6[_0x5cdc9a(0x80a)]),_0x1f0252=(0x0,w[_0x5cdc9a(0x43b)])(_0x2d9010);_0x3cb864[_0x5cdc9a(0x172)][_0x5cdc9a(0x1bd)]=_0x13709a[_0x5cdc9a(0x579)][_0x5cdc9a(0x663)]();let {message_normalized:_0x310841}=this[_0x5cdc9a(0x318)](_0x2d9010,_0x1f0252,null);_0x3cb864['chatLog'][_0x5cdc9a(0x651)]=await _0x310841;let _0x439038={'messageId':_0x6afae6['key']['id']},_0x3a554d=_0x3cb864[_0x5cdc9a(0x172)][_0x5cdc9a(0x635)];Object[_0x5cdc9a(0x41f)](_0x3a554d,_0x295ec9),_0x3cb864['chatLog'][_0x5cdc9a(0x635)]=_0x3a554d,this[_0x5cdc9a(0x6d3)](_0x3cb864,_0x13709a,_0x439038);}else{let _0x28b6cd={'error':!0x0};this[_0x5cdc9a(0x6d3)](_0x3cb864,_0x13709a,_0x28b6cd),this[_0x5cdc9a(0x5c7)]['error'](this[_0x5cdc9a(0x87e)]+'\x20('+this[_0x5cdc9a(0x2a1)][_0x5cdc9a(0x6c1)]+_0x5cdc9a(0x6a7));}}catch(_0x4e6bf4){let _0x3286d6={'error':!0x0,'errorLog':_0x4e6bf4[_0x5cdc9a(0x663)]()};this[_0x5cdc9a(0x6d3)](_0x3cb864,_0x13709a,_0x3286d6),this[_0x5cdc9a(0x5c7)][_0x5cdc9a(0x6f3)](this[_0x5cdc9a(0x87e)]+'\x20('+this[_0x5cdc9a(0x2a1)][_0x5cdc9a(0x6c1)]+_0x5cdc9a(0x372)+(_0x4e6bf4 instanceof Error?_0x4e6bf4[_0x5cdc9a(0x80a)]:JSON[_0x5cdc9a(0x751)](_0x4e6bf4,null,0x2)));}}[a0_0x5ae34c(0x545)](_0x30ada3,_0x838a22){const _0x3b1db7=a0_0x5ae34c;for(let _0x28037a of _0x30ada3)_0x28037a['option']&&(_0x28037a[_0x3b1db7(0x7b0)]=this['replaceVariables'](_0x28037a['option'],_0x838a22)),_0x28037a['optionDescription']&&(_0x28037a['optionDescription']=this['replaceVariables'](_0x28037a[_0x3b1db7(0x3ce)],_0x838a22));}async['uazapiSendMenu'](_0x448ecd,_0x42791f){const _0x3867ca=a0_0x5ae34c;let _0x2dcbe1=_0x448ecd[_0x3867ca(0x668)];_0x42791f[_0x3867ca(0x332)][_0x3867ca(0x668)]&&_0x42791f[_0x3867ca(0x332)][_0x3867ca(0x668)][_0x3867ca(0x1b6)]()!==''&&(_0x2dcbe1=_0x42791f[_0x3867ca(0x332)][_0x3867ca(0x668)][_0x3867ca(0x1b6)]()),this[_0x3867ca(0x5c7)]['verbose'](this[_0x3867ca(0x87e)]+'\x20('+this[_0x3867ca(0x2a1)][_0x3867ca(0x6c1)]+'):\x20Enviando\x20enquete');let _0x172ce2=_0x448ecd[_0x3867ca(0x6ad)][_0x3867ca(0x252)](_0x158b05=>_0x158b05['blockId']===_0x42791f['_id'])[_0x3867ca(0x3dc)]((_0xe4f4f3,_0x470787)=>_0xe4f4f3[_0x3867ca(0x7b4)]-_0x470787['order']);this[_0x3867ca(0x545)](_0x172ce2,_0x448ecd[_0x3867ca(0x172)][_0x3867ca(0x635)]);let _0x1ad9bf=_0x172ce2[_0x3867ca(0x89e)](_0x2f1a09=>_0x2f1a09[_0x3867ca(0x7b0)]),_0x3d975b={'number':_0x2dcbe1,'menuMessage':{'type':_0x42791f[_0x3867ca(0x332)]['menuType']||_0x3867ca(0x53d),'text':_0x42791f[_0x3867ca(0x332)][_0x3867ca(0x24e)]||_0x42791f[_0x3867ca(0x332)][_0x3867ca(0x48b)],'footerText':_0x42791f['uazapi'][_0x3867ca(0x6aa)],'buttonText':_0x42791f[_0x3867ca(0x332)][_0x3867ca(0x3ac)],'selectableCount':0x1,'choices':_0x1ad9bf},'options':{'delay':_0x42791f[_0x3867ca(0x332)][_0x3867ca(0x371)]}};try{let _0x2d4471=await this[_0x3867ca(0x150)](_0x3d975b);if(_0x2d4471){let _0x2c66cd={'_id':_0x2d4471[_0x3867ca(0x1e3)]['id'],'_fromMe':_0x2d4471[_0x3867ca(0x1e3)][_0x3867ca(0x210)],'_remoteJid':_0x2d4471['key'][_0x3867ca(0x668)]};_0x42791f[_0x3867ca(0x332)][_0x3867ca(0x66b)]===!0x0&&(_0x448ecd[_0x3867ca(0x41e)]=_0x3867ca(0x733),this[_0x3867ca(0x5c7)][_0x3867ca(0x7df)](this[_0x3867ca(0x87e)]+'\x20('+this[_0x3867ca(0x2a1)][_0x3867ca(0x6c1)]+_0x3867ca(0x83b)+_0x448ecd[_0x3867ca(0x41e)])),this[_0x3867ca(0x5c7)][_0x3867ca(0x7df)](this[_0x3867ca(0x87e)]+'\x20('+this[_0x3867ca(0x2a1)][_0x3867ca(0x6c1)]+'):\x20nextBlock.uazapi.name'+(_0x42791f['uazapi'][_0x3867ca(0x48b)]||_0x42791f[_0x3867ca(0x332)][_0x3867ca(0x24e)])),_0x448ecd[_0x3867ca(0x470)]=_0x2d4471['key']['id'],_0x448ecd[_0x3867ca(0x2d7)]=_0x42791f[_0x3867ca(0x332)][_0x3867ca(0x48b)]||_0x42791f[_0x3867ca(0x332)][_0x3867ca(0x24e)],_0x448ecd[_0x3867ca(0x634)]=_0x172ce2,_0x42791f[_0x3867ca(0x332)][_0x3867ca(0x820)]&&(_0x448ecd[_0x3867ca(0x599)]=_0x42791f['uazapi'][_0x3867ca(0x820)]),this[_0x3867ca(0x5c7)][_0x3867ca(0x7df)](this[_0x3867ca(0x87e)]+'\x20('+this[_0x3867ca(0x2a1)][_0x3867ca(0x6c1)]+'):\x20conversation.waitingMenu_name'+_0x448ecd[_0x3867ca(0x2d7)]);let _0x5e5179=(0x0,w[_0x3867ca(0x283)])(_0x2d4471[_0x3867ca(0x80a)]),_0x422301=(0x0,w[_0x3867ca(0x43b)])(_0x5e5179);_0x448ecd[_0x3867ca(0x172)][_0x3867ca(0x1bd)]=_0x42791f['_id'][_0x3867ca(0x663)]();let {message_normalized:_0x520144}=this[_0x3867ca(0x318)](_0x5e5179,_0x422301,null);_0x448ecd[_0x3867ca(0x172)][_0x3867ca(0x651)]=await _0x520144;let _0x263729={'messageId':_0x2d4471[_0x3867ca(0x1e3)]['id']},_0x5ca007=_0x448ecd['chatLog'][_0x3867ca(0x635)];Object[_0x3867ca(0x41f)](_0x5ca007,_0x2c66cd),_0x448ecd['chatLog'][_0x3867ca(0x635)]=_0x5ca007,this[_0x3867ca(0x6d3)](_0x448ecd,_0x42791f,_0x263729);}else{let _0x245464={'error':!0x0};this[_0x3867ca(0x6d3)](_0x448ecd,_0x42791f,_0x245464),this['logger'][_0x3867ca(0x6f3)](this[_0x3867ca(0x87e)]+'\x20('+this[_0x3867ca(0x2a1)][_0x3867ca(0x6c1)]+_0x3867ca(0x74f));}}catch(_0x2c813e){let _0x5e355e={'error':!0x0,'errorLog':_0x2c813e instanceof Error?_0x2c813e[_0x3867ca(0x80a)]:JSON[_0x3867ca(0x751)](_0x2c813e,null,0x2)};this[_0x3867ca(0x6d3)](_0x448ecd,_0x42791f,_0x5e355e),this[_0x3867ca(0x5c7)][_0x3867ca(0x6f3)](this['instanceName']+'\x20('+this[_0x3867ca(0x2a1)][_0x3867ca(0x6c1)]+_0x3867ca(0x7da)+(_0x2c813e instanceof Error?_0x2c813e['message']:JSON[_0x3867ca(0x751)](_0x2c813e,null,0x2)));}}async[a0_0x5ae34c(0x6e1)](_0x2c63d2,_0xd8a399){const _0x494230=a0_0x5ae34c;this[_0x494230(0x5c7)][_0x494230(0x7df)](this[_0x494230(0x87e)]+'\x20('+this[_0x494230(0x2a1)]['wuid']+_0x494230(0x1f6));let _0x11416a=_0x2c63d2[_0x494230(0x172)][_0x494230(0x189)][_0x494230(0x42c)](_0x5dfe85=>_0x5dfe85[_0x494230(0x310)][_0x494230(0x663)]()===_0xd8a399['uazapi'][_0x494230(0x310)][_0x494230(0x663)]()),_0x4df088={'id':_0x11416a[_0x494230(0x7ad)],'remoteJid':_0x11416a[_0x494230(0x668)],'fromMe':_0x11416a[_0x494230(0x210)]};try{let _0x40da04=await this['deleteMessage'](_0x4df088);if(_0x40da04){let _0x26e8bb=(0x0,w[_0x494230(0x283)])(_0x40da04[_0x494230(0x80a)]),_0x94787d=(0x0,w['getContentType'])(_0x26e8bb);_0x2c63d2[_0x494230(0x172)][_0x494230(0x1bd)]=_0xd8a399[_0x494230(0x579)][_0x494230(0x663)]();let {message_normalized:_0xe6a5b0}=this[_0x494230(0x318)](_0x26e8bb,_0x94787d,null);_0x2c63d2[_0x494230(0x172)][_0x494230(0x651)]=await _0xe6a5b0;let _0x417a6a={};this[_0x494230(0x6d3)](_0x2c63d2,_0xd8a399,_0x417a6a);}else{let _0x468b29={'error':!0x0};this[_0x494230(0x6d3)](_0x2c63d2,_0xd8a399,_0x468b29),this[_0x494230(0x5c7)][_0x494230(0x6f3)](this[_0x494230(0x87e)]+'\x20('+this[_0x494230(0x2a1)][_0x494230(0x6c1)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x34ec98){let _0x1df645={'error':!0x0,'errorLog':_0x34ec98 instanceof Error?_0x34ec98[_0x494230(0x80a)]:JSON['stringify'](_0x34ec98,null,0x2)};this[_0x494230(0x6d3)](_0x2c63d2,_0xd8a399,_0x1df645),this['logger'][_0x494230(0x6f3)](this[_0x494230(0x87e)]+'\x20('+this[_0x494230(0x2a1)][_0x494230(0x6c1)]+_0x494230(0x253)+(_0x34ec98 instanceof Error?_0x34ec98[_0x494230(0x80a)]:JSON[_0x494230(0x751)](_0x34ec98,null,0x2)));}}async[a0_0x5ae34c(0x120)](_0x2ac75b,_0xda4596){const _0x3cba1b=a0_0x5ae34c;if(_0x2ac75b['name']||(_0x2ac75b[_0x3cba1b(0x48b)]=(0x0,Q['v4'])()),_0xda4596!==Ri&&_0x2ac75b?.[_0x3cba1b(0x3da)])throw new m(_0x3cba1b(0x2fc));if(_0x3cba1b(0x579)in _0x2ac75b&&'owner'in _0x2ac75b)return this[_0x3cba1b(0x303)](_0x2ac75b['owner'],_0x2ac75b['_id']);this['logger'][_0x3cba1b(0x7df)](this[_0x3cba1b(0x87e)]+'\x20('+this['instance']['wuid']+_0x3cba1b(0x1d0));let _0x288a1b=this['getUniqueFlowName'](_0x2ac75b[_0x3cba1b(0x48b)]),_0xd9f39c=new pe[(_0x3cba1b(0x82b))]['ObjectId'](),_0x190869={'_id':_0xd9f39c,'default':!0x0,'title':_0x3cba1b(0x788),'x':0x0,'y':0x0},_0xd6903e={'_id':new pe[(_0x3cba1b(0x82b))][(_0x3cba1b(0x3b5))](),'order':0x1,'groupId':_0xd9f39c['toString'](),'type':_0x3cba1b(0x580)},_0x2c50fd=this[_0x3cba1b(0x2a1)]['wuid'],_0x1ed14f={'_id':(0x0,Q['v4'])(),'owner':_0x2c50fd,'name':_0x288a1b,'whoCanEdit':[_0x2c50fd],'whoCanUse':[_0x2c50fd],'groups':[_0x190869],'blocks':[_0xd6903e],..._0x2ac75b};try{let _0x2395ad=await this['repository'][_0x3cba1b(0x4e0)][_0x3cba1b(0x6ac)](_0x1ed14f);return await this[_0x3cba1b(0x83e)](),_0x2395ad;}catch(_0x1fb752){let _0x1ab30f=_0x3cba1b(0x772),_0x30dc8b=_0x1fb752 instanceof Error?_0x1fb752[_0x3cba1b(0x80a)]:typeof _0x1fb752==_0x3cba1b(0x79d)?JSON['stringify'](_0x1fb752):_0x1fb752,_0x552f35=_0x1ab30f+':\x20'+_0x30dc8b;throw this['logger'][_0x3cba1b(0x6f3)](this[_0x3cba1b(0x87e)]+'\x20('+this['instance'][_0x3cba1b(0x6c1)]+_0x3cba1b(0x77c)+_0x552f35),new m(_0x552f35);}}async[a0_0x5ae34c(0x303)](_0x43b154,_0xca6d8b){const _0x1dbbed=a0_0x5ae34c;try{this[_0x1dbbed(0x5c7)][_0x1dbbed(0x7df)](this['instanceName']+'\x20('+this[_0x1dbbed(0x2a1)][_0x1dbbed(0x6c1)]+_0x1dbbed(0x231));let _0x108e84=await this[_0x1dbbed(0x20b)][_0x1dbbed(0x4e0)][_0x1dbbed(0x875)]({'where':{'_id':_0xca6d8b,'owner':_0x43b154}});if(!_0x108e84)throw new m('Nenhum\x20fluxo\x20correspondente\x20encontrado.');if(_0x108e84[_0x1dbbed(0x729)]===!0x1&&!_0x108e84[_0x1dbbed(0x3da)])throw new m(_0x1dbbed(0x847));let _0x3954d6=new Set(_0x108e84['whoCanUse']??[]);_0x3954d6[_0x1dbbed(0x2a2)](this['instance'][_0x1dbbed(0x6c1)]);let _0x3e31b5=await this[_0x1dbbed(0x20b)][_0x1dbbed(0x4e0)][_0x1dbbed(0x41a)](_0xca6d8b,{..._0x108e84,'whoCanUse':Array[_0x1dbbed(0x143)](_0x3954d6)});return await this[_0x1dbbed(0x83e)](),_0x3e31b5;}catch(_0x2a635b){let _0x4c4f40=_0x1dbbed(0x8a7),_0x496417=_0x2a635b instanceof Error?_0x2a635b[_0x1dbbed(0x80a)]:typeof _0x2a635b==_0x1dbbed(0x79d)?JSON['stringify'](_0x2a635b):_0x2a635b,_0x2b3e20=_0x4c4f40+':\x20'+_0x496417;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x1dbbed(0x2a1)][_0x1dbbed(0x6c1)]+'):\x20'+_0x2b3e20),new m(_0x2b3e20);}}['getUniqueFlowName'](_0x39ff1c){const _0xcb7258=a0_0x5ae34c;let _0x23a144=_0x39ff1c,_0x4bd15d=0x1;for(;this['AutomateSystem'][_0xcb7258(0x7dc)]['some'](_0xece02e=>_0xece02e['name']===_0x23a144);)_0x4bd15d++,_0x23a144=_0x39ff1c+'\x20('+_0x4bd15d+')';return _0x23a144;}async[a0_0x5ae34c(0x127)](_0x4ed8a5){const _0x35aea0=a0_0x5ae34c;try{if(this[_0x35aea0(0x5c7)][_0x35aea0(0x7df)](this['instanceName']+'\x20('+this[_0x35aea0(0x2a1)][_0x35aea0(0x6c1)]+_0x35aea0(0x24b)+_0x4ed8a5[_0x35aea0(0x579)]+_0x35aea0(0x716)+_0x4ed8a5[_0x35aea0(0x677)]),!this['AutomateSystem'][_0x35aea0(0x7dc)]['find'](_0x28ea3b=>_0x28ea3b[_0x35aea0(0x579)]===_0x4ed8a5['_id']))throw this[_0x35aea0(0x5c7)][_0x35aea0(0x7df)](this[_0x35aea0(0x87e)]+'\x20('+this[_0x35aea0(0x2a1)]['wuid']+_0x35aea0(0x725)+_0x4ed8a5['_id']+'\x27\x20não\x20encontrado'),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x5bede8=await this[_0x35aea0(0x20b)]['flow'][_0x35aea0(0x875)]({'where':{'_id':_0x4ed8a5['_id']}});if(!_0x5bede8)throw new m(_0x35aea0(0x8a4));if(this['instance'][_0x35aea0(0x6c1)]===_0x5bede8[_0x35aea0(0x1da)]){this[_0x35aea0(0x5c7)]['verbose'](this[_0x35aea0(0x87e)]+'\x20('+this[_0x35aea0(0x2a1)]['wuid']+_0x35aea0(0x890)+_0x4ed8a5[_0x35aea0(0x579)]+_0x35aea0(0x349));let _0x1f7874=await this[_0x35aea0(0x20b)][_0x35aea0(0x4e0)][_0x35aea0(0x45c)]({'where':{'_id':_0x4ed8a5[_0x35aea0(0x579)]}});return await this[_0x35aea0(0x83e)](),_0x1f7874;}return this[_0x35aea0(0x5c7)][_0x35aea0(0x7df)](this['instanceName']+'\x20('+this['instance'][_0x35aea0(0x6c1)]+_0x35aea0(0x309)+this['instance']['wuid']+_0x35aea0(0x693)+_0x4ed8a5[_0x35aea0(0x579)]+'\x27...'),_0x5bede8[_0x35aea0(0x32a)]=(_0x5bede8[_0x35aea0(0x32a)]??[])[_0x35aea0(0x252)](_0x153b41=>_0x153b41!==this[_0x35aea0(0x2a1)][_0x35aea0(0x6c1)]),_0x5bede8[_0x35aea0(0x6b4)]=(_0x5bede8[_0x35aea0(0x6b4)]??[])[_0x35aea0(0x252)](_0x3c64f3=>_0x3c64f3!==this['instance']['wuid']),_0x5bede8[_0x35aea0(0x6b4)]['length']===0x0&&_0x5bede8[_0x35aea0(0x32a)][_0x35aea0(0x3b3)]>0x0&&(_0x5bede8[_0x35aea0(0x6b4)]['push'](_0x5bede8[_0x35aea0(0x32a)][0x0]),this['logger'][_0x35aea0(0x7df)](this[_0x35aea0(0x87e)]+'\x20('+this[_0x35aea0(0x2a1)][_0x35aea0(0x6c1)]+_0x35aea0(0x6ec)+_0x5bede8[_0x35aea0(0x32a)][0x0]+_0x35aea0(0x893)+_0x4ed8a5['_id']+'\x27...')),await this[_0x35aea0(0x20b)][_0x35aea0(0x4e0)][_0x35aea0(0x41a)](_0x5bede8['_id'],_0x5bede8),await this[_0x35aea0(0x83e)](),{'message':_0x35aea0(0x639)+_0x4ed8a5[_0x35aea0(0x48b)]+_0x35aea0(0x5b5)};}catch(_0xeda572){return this[_0x35aea0(0x5c7)][_0x35aea0(0x6f3)](this[_0x35aea0(0x87e)]+'\x20('+this['instance']['wuid']+_0x35aea0(0x1d9)+(_0xeda572 instanceof Error?_0xeda572[_0x35aea0(0x80a)]:JSON[_0x35aea0(0x751)](_0xeda572,null,0x2))),{'message':_0x35aea0(0x38f)+(_0xeda572 instanceof Error?_0xeda572['message']:JSON['stringify'](_0xeda572,null,0x2))};}}async['getFlow'](_0xac8479){const _0x58b213=a0_0x5ae34c;try{if(this[_0x58b213(0x5c7)][_0x58b213(0x31c)](this[_0x58b213(0x87e)]+'\x20('+this[_0x58b213(0x2a1)][_0x58b213(0x6c1)]+_0x58b213(0x3ee)+_0xac8479),!this['AutomateSystem']&&(await this[_0x58b213(0x278)](),!this[_0x58b213(0x541)]))return null;let _0x54435c=await this['repository'][_0x58b213(0x4e0)][_0x58b213(0x875)]({'where':{'_id':_0xac8479}});if(!_0x54435c)throw new m(_0x58b213(0x2e5)+_0xac8479+_0x58b213(0x238));if(!(_0x54435c['globalShow']||_0x54435c[_0x58b213(0x32a)]?.[_0x58b213(0x81c)](this[_0x58b213(0x2a1)][_0x58b213(0x6c1)])))throw new m(_0x58b213(0x5c5)+name+'\x27');_0x54435c['globalShow']&&!_0x54435c[_0x58b213(0x32a)]?.[_0x58b213(0x81c)](this[_0x58b213(0x2a1)][_0x58b213(0x6c1)])&&(_0x54435c[_0x58b213(0x32a)]=[..._0x54435c[_0x58b213(0x32a)]??[],this[_0x58b213(0x2a1)][_0x58b213(0x6c1)]],await this[_0x58b213(0x20b)]['flow'][_0x58b213(0x41a)](_0x54435c[_0x58b213(0x579)],_0x54435c),this[_0x58b213(0x83e)]());let _0x1b716e=this['AutomateSystem']?.[_0x58b213(0x34b)][_0x58b213(0x89e)](_0x22233d=>_0x22233d[_0x58b213(0x48b)]),_0x98f415=[_0x58b213(0x4f8),_0x58b213(0x765),'email','cpf',_0x58b213(0x41e),_0x58b213(0x6ce),_0x58b213(0x82e),_0x58b213(0x80c),_0x58b213(0x39b),_0x58b213(0x615),'atendimentoAberto'];_0x54435c[_0x58b213(0x215)]=_0x54435c[_0x58b213(0x215)][_0x58b213(0x252)](_0x28bfac=>!(_0x28bfac[_0x58b213(0x7f2)]===_0x58b213(0x138)||_0x28bfac[_0x58b213(0x138)])),_0x98f415[_0x58b213(0x478)](_0x584622=>{const _0x372d31=_0x58b213;_0x54435c[_0x372d31(0x215)][_0x372d31(0x6dd)]({'folder':'leadInfo','name':_0x584622,'value':'','doc':'','leadInfo':!0x0});}),_0x1b716e[_0x58b213(0x478)](_0x163992=>{const _0x99468e=_0x58b213;let _0x49b8c9=_0x54435c[_0x99468e(0x215)]['findIndex'](_0x4f40f2=>_0x4f40f2[_0x99468e(0x48b)]===_0x163992);_0x49b8c9===-0x1?_0x54435c[_0x99468e(0x215)]['push']({'folder':_0x99468e(0x138),'name':_0x163992,'value':'','doc':'','leadInfo':!0x0}):(_0x54435c[_0x99468e(0x215)][_0x49b8c9][_0x99468e(0x7f2)]=_0x99468e(0x138),_0x54435c['variables'][_0x49b8c9][_0x99468e(0x138)]=!0x0);}),_0x54435c[_0x58b213(0x208)]&&_0x54435c[_0x58b213(0x208)][_0x58b213(0x3b3)]>0x0&&_0x54435c[_0x58b213(0x208)]['forEach'](_0x4888ed=>{const _0x44386e=_0x58b213;_0x4888ed['groupId']&&_0x4888ed['next_groupId']&&_0x4888ed['groupId']===_0x4888ed[_0x44386e(0x799)]&&(_0x4888ed['next_groupId']=null);});let _0x49a742=await this['repository'][_0x58b213(0x4e0)][_0x58b213(0x41a)](_0x54435c[_0x58b213(0x579)],_0x54435c);if(!_0x49a742)throw new Error(_0x58b213(0x12d));return _0x49a742;}catch(_0x3e2822){let _0x2cda60=_0x58b213(0x4d5),_0xd3d62e=_0x3e2822 instanceof Error?_0x3e2822['message']:typeof _0x3e2822==_0x58b213(0x79d)?JSON['stringify'](_0x3e2822):_0x3e2822,_0x138c2b=_0x2cda60+':\x20'+_0xd3d62e;throw this['logger'][_0x58b213(0x6f3)](this[_0x58b213(0x87e)]+'\x20('+this[_0x58b213(0x2a1)][_0x58b213(0x6c1)]+'):\x20'+_0x138c2b),new m(_0x138c2b);}}async[a0_0x5ae34c(0x200)](){const _0x384a4d=a0_0x5ae34c;try{this['logger'][_0x384a4d(0x7df)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x384a4d(0x67c)),await this[_0x384a4d(0x83e)]();let _0x2a11f7=await this[_0x384a4d(0x20b)]['flow'][_0x384a4d(0x2ef)]({'where':{'globalShow':!0x0}});return[...this['AutomateSystem'][_0x384a4d(0x7dc)],..._0x2a11f7];}catch(_0x13ed06){return this['logger']['error'](this[_0x384a4d(0x87e)]+'\x20('+this[_0x384a4d(0x2a1)]['wuid']+_0x384a4d(0x44f)+(_0x13ed06 instanceof Error?_0x13ed06['message']:JSON[_0x384a4d(0x751)](_0x13ed06,null,0x2))),{'message':_0x384a4d(0x658)+(_0x13ed06 instanceof Error?_0x13ed06[_0x384a4d(0x80a)]:String(_0x13ed06))};}}async['editFlow'](_0x289618,_0x4e4e19){const _0x3768af=a0_0x5ae34c;try{this[_0x3768af(0x5c7)][_0x3768af(0x7df)](this[_0x3768af(0x87e)]+'\x20('+this['instance'][_0x3768af(0x6c1)]+'):\x20Alterando\x20fluxo...');let _0x46a650=this[_0x3768af(0x541)][_0x3768af(0x7dc)][_0x3768af(0x42c)](_0x4e4c9e=>_0x4e4c9e[_0x3768af(0x579)]===_0x289618[_0x3768af(0x579)]);if(!_0x46a650)throw this[_0x3768af(0x5c7)][_0x3768af(0x7df)](this[_0x3768af(0x87e)]+'\x20('+this['instance'][_0x3768af(0x6c1)]+_0x3768af(0x725)+_0x289618[_0x3768af(0x579)]+_0x3768af(0x1c5)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x3ffc6a=await this[_0x3768af(0x20b)][_0x3768af(0x4e0)][_0x3768af(0x875)]({'where':{'_id':_0x289618[_0x3768af(0x579)]}});if(!_0x3ffc6a||!_0x3ffc6a[_0x3768af(0x32a)]?.[_0x3768af(0x81c)](this[_0x3768af(0x2a1)][_0x3768af(0x6c1)]))throw this[_0x3768af(0x5c7)]['error'](this[_0x3768af(0x87e)]+'\x20('+this['instance']['wuid']+'):\x20Flow\x20\x27'+_0x289618[_0x3768af(0x579)]+_0x3768af(0x499)),new m('Flow\x20\x27'+_0x289618[_0x3768af(0x579)]+_0x3768af(0x499));let _0x51a65e=this['AutomateSystem'][_0x3768af(0x7dc)][_0x3768af(0x4b8)](_0xc74ec7=>_0xc74ec7[_0x3768af(0x579)]===_0x46a650['_id']);if(_0x51a65e!==-0x1){let _0x479609=this[_0x3768af(0x541)][_0x3768af(0x7dc)][_0x51a65e];if(_0x479609['name']=_0x289618[_0x3768af(0x48b)]??_0x479609['name'],_0x479609[_0x3768af(0x509)]=_0x289618['default']??_0x479609[_0x3768af(0x509)],_0x479609[_0x3768af(0x831)]=_0x289618[_0x3768af(0x831)]??_0x479609[_0x3768af(0x831)],_0x479609[_0x3768af(0x887)]=_0x289618[_0x3768af(0x176)]??_0x479609[_0x3768af(0x887)],_0x479609[_0x3768af(0x536)]=_0x289618['minutesToClose']??_0x479609[_0x3768af(0x536)],_0x479609[_0x3768af(0x379)]=_0x289618[_0x3768af(0x379)]??_0x479609['readMessages'],_0x289618['default']&&this[_0x3768af(0x541)][_0x3768af(0x7dc)][_0x3768af(0x478)]((_0x494842,_0x1b0abd)=>{const _0x547fb4=_0x3768af;_0x1b0abd!==_0x51a65e&&(_0x494842[_0x547fb4(0x509)]=!0x1);}),this[_0x3768af(0x541)]['flows'][_0x51a65e]=_0x479609,!await this['repository'][_0x3768af(0x570)]['update']({'flows':this['AutomateSystem']['flows']},this[_0x3768af(0x2a1)]['wuid']))throw new m(_0x3768af(0x7ac));}let _0x94294c=[_0x3768af(0x677),_0x3768af(0x761),_0x3768af(0x7fd),_0x3768af(0x808)];for(let _0x1851fd of _0x94294c)delete _0x289618[_0x1851fd];if(_0x3ffc6a[_0x3768af(0x6b4)]?.['includes'](this[_0x3768af(0x2a1)]['wuid'])||(_0x289618={'_id':_0x289618[_0x3768af(0x579)]}),_0x4e4e19!==Ri&&_0x289618?.['globalShow']&&!_0x3ffc6a?.[_0x3768af(0x3da)])throw new m(_0x3768af(0x8a2));let _0x1f24fe=new Set(_0x289618[_0x3768af(0x6b4)]??_0x3ffc6a['whoCanEdit']);_0x1f24fe['add'](_0x3ffc6a[_0x3768af(0x1da)]);let _0x2eadb2=new Set(_0x289618['whoCanUse']??_0x3ffc6a[_0x3768af(0x32a)]??[]);_0x1f24fe[_0x3768af(0x478)](_0x46337c=>_0x2eadb2[_0x3768af(0x2a2)](_0x46337c)),_0x2eadb2['add'](_0x3ffc6a[_0x3768af(0x1da)]),this[_0x3768af(0x5c7)]['verbose'](this[_0x3768af(0x87e)]+'\x20('+this[_0x3768af(0x2a1)][_0x3768af(0x6c1)]+_0x3768af(0x213)+Array['from'](_0x1f24fe)),this['logger'][_0x3768af(0x7df)](this[_0x3768af(0x87e)]+'\x20('+this[_0x3768af(0x2a1)][_0x3768af(0x6c1)]+_0x3768af(0x838)+Array[_0x3768af(0x143)](_0x2eadb2));let _0x421d6f=await this[_0x3768af(0x5e6)](Array[_0x3768af(0x143)](_0x2eadb2)),_0x20f777=Array[_0x3768af(0x143)](_0x1f24fe)[_0x3768af(0x252)](_0x1e6c71=>_0x421d6f[_0x3768af(0x81c)](_0x1e6c71)),_0x881f37=Array[_0x3768af(0x143)](_0x2eadb2)[_0x3768af(0x252)](_0x1f9326=>_0x421d6f['includes'](_0x1f9326));this[_0x3768af(0x5c7)]['verbose'](this['instanceName']+'\x20('+this[_0x3768af(0x2a1)][_0x3768af(0x6c1)]+'):\x20whoCanEdit\x20after\x20validation:\x20'+_0x20f777),this[_0x3768af(0x5c7)][_0x3768af(0x7df)](this[_0x3768af(0x87e)]+'\x20('+this['instance'][_0x3768af(0x6c1)]+'):\x20whoCanUse\x20after\x20validation:\x20'+_0x881f37);let _0x4c06af={..._0x3ffc6a,..._0x289618,'whoCanEdit':_0x20f777,'whoCanUse':_0x881f37},_0xde9be=await this[_0x3768af(0x20b)][_0x3768af(0x4e0)][_0x3768af(0x41a)](_0x3ffc6a[_0x3768af(0x579)],_0x4c06af);return await this[_0x3768af(0x83e)](),_0xde9be;}catch(_0x4d3c26){let _0xfcb266=_0x3768af(0x4b9),_0x40fbdd=_0x4d3c26 instanceof Error?_0x4d3c26[_0x3768af(0x80a)]:typeof _0x4d3c26==_0x3768af(0x79d)?JSON[_0x3768af(0x751)](_0x4d3c26):_0x4d3c26,_0x11965a=_0xfcb266+':\x20'+_0x40fbdd;throw this[_0x3768af(0x5c7)]['error'](this[_0x3768af(0x87e)]+'\x20('+this[_0x3768af(0x2a1)][_0x3768af(0x6c1)]+_0x3768af(0x77c)+_0x11965a),new m(_0x11965a);}}async[a0_0x5ae34c(0x5e6)](_0x5eae99){const _0x5f1e74=a0_0x5ae34c;let _0x2f34c2={'numbers':_0x5eae99};return(await this[_0x5f1e74(0x30c)](_0x2f34c2))[_0x5f1e74(0x252)](_0x43ee7a=>_0x43ee7a['exists'])[_0x5f1e74(0x89e)](_0x272133=>_0x272133[_0x5f1e74(0x25c)])[_0x5f1e74(0x89e)](_0x5c0289=>this[_0x5f1e74(0x1d4)](_0x5c0289));}['extractPhoneNumber'](_0x51c6ff){const _0x1250b2=a0_0x5ae34c;let _0x405f6c=_0x51c6ff[_0x1250b2(0x80b)](/\d+/);return _0x405f6c?_0x405f6c[0x0]:'';}async[a0_0x5ae34c(0x4fc)](_0x127696){const _0x2be707=a0_0x5ae34c;try{if(this['logger'][_0x2be707(0x7df)](this[_0x2be707(0x87e)]+'\x20('+this[_0x2be707(0x2a1)]['wuid']+'):\x20Editando\x20bloco...'),!this[_0x2be707(0x541)]['flows'][_0x2be707(0x42c)](_0x13a7f9=>_0x13a7f9[_0x2be707(0x579)]===_0x127696[_0x2be707(0x579)]))throw this[_0x2be707(0x5c7)][_0x2be707(0x7df)](this['instanceName']+'\x20('+this['instance'][_0x2be707(0x6c1)]+_0x2be707(0x725)+_0x127696['_id']+_0x2be707(0x1c5)),new m(_0x2be707(0x1b5));let _0x256001=await this['repository'][_0x2be707(0x4e0)][_0x2be707(0x875)]({'where':{'_id':_0x127696['_id']}});if(!_0x256001||!_0x256001[_0x2be707(0x32a)]?.[_0x2be707(0x81c)](this[_0x2be707(0x2a1)]['wuid']))throw this[_0x2be707(0x5c7)]['error'](this[_0x2be707(0x87e)]+'\x20('+this[_0x2be707(0x2a1)][_0x2be707(0x6c1)]+'):\x20Flow\x20\x27'+_0x127696[_0x2be707(0x579)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x127696[_0x2be707(0x579)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x256001[_0x2be707(0x6b4)]?.[_0x2be707(0x81c)](this[_0x2be707(0x2a1)]['wuid']))throw new m(_0x2be707(0x36e));let {block:_0x5cf76a}=_0x127696;_0x5cf76a?.[_0x2be707(0x7d5)]?this['copyBlock'](_0x256001,_0x127696):_0x5cf76a?.[_0x2be707(0x42f)]?this[_0x2be707(0x882)](_0x256001,_0x127696):_0x5cf76a[_0x2be707(0x579)]?await this[_0x2be707(0x86b)](_0x256001,_0x127696):this[_0x2be707(0x6ba)](_0x256001,_0x127696);let _0x3aa3f6=await this['repository'][_0x2be707(0x4e0)][_0x2be707(0x41a)](_0x256001[_0x2be707(0x579)],_0x256001);if(!_0x3aa3f6)throw new Error(_0x2be707(0x12d));return _0x3aa3f6;}catch(_0x286a83){this[_0x2be707(0x146)](_0x2be707(0x796)+_0x286a83[_0x2be707(0x80a)]);}}async[a0_0x5ae34c(0x57e)](_0x198877,_0x26b2b8){const _0x258a34=a0_0x5ae34c;let _0x30188a=_0x26b2b8[_0x258a34(0x6d6)]['_id'],_0xe13798=_0x198877['blocks']['find'](_0x5f3cfe=>_0x5f3cfe[_0x258a34(0x579)][_0x258a34(0x663)]()===_0x30188a);if(!_0xe13798){this[_0x258a34(0x5c7)][_0x258a34(0x6f3)](this[_0x258a34(0x87e)]+'\x20('+this[_0x258a34(0x2a1)][_0x258a34(0x6c1)]+_0x258a34(0x684)+_0x30188a+_0x258a34(0x385));return;}this[_0x258a34(0x5c7)]['verbose'](this['instanceName']+'\x20('+this[_0x258a34(0x2a1)]['wuid']+_0x258a34(0x6a0)+JSON[_0x258a34(0x751)](_0xe13798));let _0x272075=JSON[_0x258a34(0x35b)](JSON[_0x258a34(0x751)](_0xe13798));_0x272075[_0x258a34(0x579)]=new pe[(_0x258a34(0x509))][(_0x258a34(0x82b))]['ObjectId'](),this['logger'][_0x258a34(0x7df)](this[_0x258a34(0x87e)]+'\x20('+this['instance']['wuid']+_0x258a34(0x59e)+JSON[_0x258a34(0x751)](_0x272075)),_0x198877[_0x258a34(0x208)][_0x258a34(0x6dd)](_0x272075),this[_0x258a34(0x21e)](_0x198877[_0x258a34(0x208)],_0x272075['groupId']);}[a0_0x5ae34c(0x146)](_0x5073d6){const _0x1662a9=a0_0x5ae34c;throw this[_0x1662a9(0x5c7)][_0x1662a9(0x6f3)](this[_0x1662a9(0x87e)]+'\x20('+this[_0x1662a9(0x2a1)][_0x1662a9(0x6c1)]+'):\x20'+_0x5073d6),new m(_0x5073d6);}['deleteBlock'](_0x2d19c8,_0x4f4680){const _0x20b89e=a0_0x5ae34c;let {block:_0x5cb76b}=_0x4f4680;if(_0x5cb76b['type']===_0x20b89e(0x580)){this[_0x20b89e(0x146)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x5cb76b[_0x20b89e(0x579)]){this['throwAndLogError'](_0x20b89e(0x25f));return;}let _0x423923=_0x2d19c8[_0x20b89e(0x208)][_0x20b89e(0x42c)](_0x22e08e=>_0x22e08e[_0x20b89e(0x579)][_0x20b89e(0x663)]()===_0x4f4680[_0x20b89e(0x6d6)]['_id'][_0x20b89e(0x663)]());if(!_0x423923){this[_0x20b89e(0x146)](_0x20b89e(0x1fa)+_0x5cb76b[_0x20b89e(0x579)]+_0x20b89e(0x4e2));return;}_0x2d19c8[_0x20b89e(0x208)]=_0x2d19c8[_0x20b89e(0x208)][_0x20b89e(0x252)](_0x13f2ad=>_0x13f2ad[_0x20b89e(0x579)][_0x20b89e(0x663)]()!==_0x4f4680[_0x20b89e(0x6d6)][_0x20b89e(0x579)]['toString']()),_0x2d19c8[_0x20b89e(0x850)]=_0x2d19c8['conditions'][_0x20b89e(0x252)](_0x223260=>_0x223260['blockId']!==_0x5cb76b['_id'][_0x20b89e(0x663)]()),_0x2d19c8[_0x20b89e(0x24a)]=_0x2d19c8[_0x20b89e(0x24a)][_0x20b89e(0x252)](_0xa88f96=>_0xa88f96[_0x20b89e(0x310)]!==_0x5cb76b['_id'][_0x20b89e(0x663)]()),_0x2d19c8[_0x20b89e(0x6ad)]=_0x2d19c8[_0x20b89e(0x6ad)][_0x20b89e(0x252)](_0x2b43e8=>_0x2b43e8[_0x20b89e(0x310)]!==_0x5cb76b[_0x20b89e(0x579)]['toString']()),this[_0x20b89e(0x21e)](_0x2d19c8[_0x20b89e(0x208)],_0x423923[_0x20b89e(0x641)]);}async[a0_0x5ae34c(0x86b)](_0x243fea,_0x2c8d76){const _0x102b40=a0_0x5ae34c;let _0x29164d=_0x243fea[_0x102b40(0x208)][_0x102b40(0x4b8)](_0x58d1f1=>_0x58d1f1[_0x102b40(0x579)][_0x102b40(0x663)]()===_0x2c8d76['block'][_0x102b40(0x579)][_0x102b40(0x663)]());if(this['logger'][_0x102b40(0x7df)](this[_0x102b40(0x87e)]+'\x20('+this[_0x102b40(0x2a1)][_0x102b40(0x6c1)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x29164d),_0x29164d===-0x1){this[_0x102b40(0x5c7)][_0x102b40(0x7df)]('Bloco\x20com\x20ID\x20'+_0x2c8d76[_0x102b40(0x6d6)][_0x102b40(0x579)]+_0x102b40(0x32c));return;}if(_0x243fea['blocks'][_0x29164d][_0x102b40(0x279)]===_0x102b40(0x580)){let _0x10d2aa=Object[_0x102b40(0x57b)](_0x2c8d76[_0x102b40(0x6d6)]);if(_0x10d2aa[_0x102b40(0x3b3)]>0x2||_0x10d2aa[_0x102b40(0x3b3)]===0x2&&!_0x10d2aa[_0x102b40(0x81c)](_0x102b40(0x799))){this[_0x102b40(0x146)](_0x102b40(0x7c6));return;}}let _0x2d6d80=_0x243fea[_0x102b40(0x208)][_0x29164d][_0x102b40(0x641)];for(let _0x57334b in _0x2c8d76[_0x102b40(0x6d6)])_0x2c8d76[_0x102b40(0x6d6)][_0x102b40(0x5f0)](_0x57334b)&&(_0x243fea['blocks'][_0x29164d][_0x57334b]=_0x2c8d76[_0x102b40(0x6d6)][_0x57334b]);if(this[_0x102b40(0x5c7)][_0x102b40(0x7df)](this['instanceName']+'\x20('+this[_0x102b40(0x2a1)][_0x102b40(0x6c1)]+_0x102b40(0x1b1)+JSON['stringify'](_0x243fea[_0x102b40(0x208)][_0x29164d])),_0x243fea[_0x102b40(0x208)][_0x29164d]['apirequest']&&'header'in _0x243fea[_0x102b40(0x208)][_0x29164d][_0x102b40(0x3af)]){this[_0x102b40(0x5c7)][_0x102b40(0x7df)](this[_0x102b40(0x87e)]+'\x20('+this[_0x102b40(0x2a1)][_0x102b40(0x6c1)]+_0x102b40(0x834));let _0x18323e=JSON[_0x102b40(0x751)](_0x243fea['blocks'][_0x29164d][_0x102b40(0x3af)][_0x102b40(0x31b)],null,0x1);_0x18323e[_0x102b40(0x3b3)]>0x2&&(_0x18323e=_0x18323e['substring'](0x1,_0x18323e[_0x102b40(0x3b3)]-0x1)[_0x102b40(0x1b6)]()),_0x243fea[_0x102b40(0x208)][_0x29164d][_0x102b40(0x3af)]['headerString']=_0x18323e;}if(_0x243fea[_0x102b40(0x208)][_0x29164d][_0x102b40(0x3af)]&&_0x102b40(0x84d)in _0x243fea[_0x102b40(0x208)][_0x29164d][_0x102b40(0x3af)]&&!(_0x102b40(0x5f7)in _0x243fea[_0x102b40(0x208)][_0x29164d]['apirequest'])){this[_0x102b40(0x5c7)][_0x102b40(0x7df)](this['instanceName']+'\x20('+this[_0x102b40(0x2a1)][_0x102b40(0x6c1)]+_0x102b40(0x7ef)),_0x243fea[_0x102b40(0x208)][_0x29164d][_0x102b40(0x3af)][_0x102b40(0x336)]=!0x1;let _0x1b030b=JSON[_0x102b40(0x751)](_0x243fea['blocks'][_0x29164d][_0x102b40(0x3af)][_0x102b40(0x84d)],null,0x2);_0x243fea['blocks'][_0x29164d]['apirequest'][_0x102b40(0x5f7)]=_0x1b030b;}if(_0x243fea['blocks'][_0x29164d][_0x102b40(0x3af)]&&'bodyString'in _0x243fea[_0x102b40(0x208)][_0x29164d][_0x102b40(0x3af)]){_0x243fea['blocks'][_0x29164d][_0x102b40(0x3af)][_0x102b40(0x336)]=!0x1;let _0x256329=_0x243fea[_0x102b40(0x208)][_0x29164d][_0x102b40(0x3af)]['bodyString'],_0x30770f=this[_0x102b40(0x78a)](_0x256329);_0x243fea[_0x102b40(0x208)][_0x29164d][_0x102b40(0x3af)][_0x102b40(0x5f7)]=_0x30770f[_0x102b40(0x19d)],_0x243fea['blocks'][_0x29164d][_0x102b40(0x3af)][_0x102b40(0x336)]=_0x30770f[_0x102b40(0x6f3)];}let _0xe009d4=_0x243fea[_0x102b40(0x208)][_0x29164d][_0x102b40(0x641)];_0x2d6d80!==_0xe009d4?(this[_0x102b40(0x21e)](_0x243fea[_0x102b40(0x208)],_0x2d6d80),this[_0x102b40(0x21e)](_0x243fea[_0x102b40(0x208)],_0xe009d4)):this[_0x102b40(0x21e)](_0x243fea[_0x102b40(0x208)],_0x2d6d80);}[a0_0x5ae34c(0x78a)](_0x358e79){const _0x608939=a0_0x5ae34c;let _0x3568c7='\u205f',_0x2cd0ce=!0x1,_0x211d05='';for(let _0x227bbf=0x0;_0x227bbf<_0x358e79[_0x608939(0x3b3)];_0x227bbf++){let _0x3d6cf3=_0x358e79[_0x227bbf];_0x3d6cf3==='\x22'&&(_0x227bbf===0x0||_0x358e79[_0x227bbf-0x1]!=='\x5c')&&(_0x2cd0ce=!_0x2cd0ce),!(!_0x2cd0ce&&(_0x3d6cf3==='\x0a'||_0x3d6cf3==='\x20'||_0x3d6cf3===_0x3568c7))&&(_0x211d05+=_0x3d6cf3);}let _0x1ed340={},_0x2999d1=9876543210.1234,_0x320d4f=_0x211d05['replace'](/\{\{([^}]+)\}\}/g,_0x54198f=>{let _0x5a9a9b=_0x54198f,_0x5c4c00=''+_0x2999d1;return _0x1ed340[_0x5c4c00]=_0x5a9a9b,_0x2999d1+=0.0001,_0x5c4c00;}),_0x3ce980='',_0x518468=!0x1;try{let _0x2d88e1=JSON[_0x608939(0x35b)](_0x320d4f);_0x3ce980=JSON['stringify'](_0x2d88e1,null,0x2),_0x3ce980=_0x3ce980[_0x608939(0x2af)](/\n( +)/g,(_0xfdb188,_0x1cadfc)=>{const _0x5ee028=_0x608939;let _0x30d27e=_0x1cadfc[_0x5ee028(0x3b3)];return'\x0a'+_0x3568c7[_0x5ee028(0x343)](_0x30d27e*0x2);}),_0x3ce980=_0x3ce980['replace'](/(\d{10,}\.\d+)/g,_0x1a4673=>_0x1ed340[_0x1a4673]||_0x1a4673);}catch(_0x1d78dc){this[_0x608939(0x5c7)]['error']('Error\x20parsing\x20JSON:'+_0x1d78dc),_0x3ce980=_0x358e79,_0x518468=!0x0;}return{'result':_0x3ce980,'error':_0x518468};}[a0_0x5ae34c(0x6ba)](_0x23b186,_0x5fcd97){const _0x31f9cf=a0_0x5ae34c;if(_0x5fcd97[_0x31f9cf(0x6d6)][_0x31f9cf(0x279)]==='start'){this[_0x31f9cf(0x146)](_0x31f9cf(0x4f9));return;}if(_0x5fcd97[_0x31f9cf(0x6d6)][_0x31f9cf(0x3af)]&&'header'in _0x5fcd97[_0x31f9cf(0x6d6)][_0x31f9cf(0x3af)]){this['logger'][_0x31f9cf(0x7df)](this[_0x31f9cf(0x87e)]+'\x20('+this[_0x31f9cf(0x2a1)][_0x31f9cf(0x6c1)]+_0x31f9cf(0x834));let _0x21ed9d=JSON[_0x31f9cf(0x751)](_0x5fcd97[_0x31f9cf(0x6d6)][_0x31f9cf(0x3af)][_0x31f9cf(0x31b)],null,0x1);_0x21ed9d['length']>0x2&&(_0x21ed9d=_0x21ed9d[_0x31f9cf(0x2c1)](0x1,_0x21ed9d[_0x31f9cf(0x3b3)]-0x1)[_0x31f9cf(0x1b6)]()),_0x5fcd97[_0x31f9cf(0x6d6)][_0x31f9cf(0x3af)][_0x31f9cf(0x578)]=_0x21ed9d;}_0x5fcd97[_0x31f9cf(0x6d6)][_0x31f9cf(0x3af)]&&_0x31f9cf(0x84d)in _0x5fcd97[_0x31f9cf(0x6d6)][_0x31f9cf(0x3af)]&&(this[_0x31f9cf(0x5c7)][_0x31f9cf(0x7df)](this[_0x31f9cf(0x87e)]+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x5fcd97[_0x31f9cf(0x6d6)][_0x31f9cf(0x3af)]['bodyString']=JSON[_0x31f9cf(0x751)](_0x5fcd97[_0x31f9cf(0x6d6)]['apirequest'][_0x31f9cf(0x84d)],null,0x1)[_0x31f9cf(0x1b6)]()),_0x23b186[_0x31f9cf(0x208)][_0x31f9cf(0x6dd)](_0x5fcd97[_0x31f9cf(0x6d6)]),this['reorderBlocks'](_0x23b186[_0x31f9cf(0x208)],_0x5fcd97[_0x31f9cf(0x6d6)]['groupId']);}[a0_0x5ae34c(0x21e)](_0x524803,_0x27d959){const _0x3e46f8=a0_0x5ae34c;let _0x151ba5=_0x524803[_0x3e46f8(0x252)](_0x4accbc=>_0x4accbc[_0x3e46f8(0x641)]===_0x27d959);_0x151ba5[_0x3e46f8(0x3dc)]((_0x48f548,_0x57adf7)=>_0x48f548['order']-_0x57adf7['order']),_0x151ba5['forEach']((_0x505ce0,_0x56692a)=>_0x505ce0[_0x3e46f8(0x7b4)]=_0x56692a+0x1);}async['editFlowReply'](_0x1f3789){const _0x3cc126=a0_0x5ae34c;try{if(this[_0x3cc126(0x5c7)][_0x3cc126(0x7df)](this[_0x3cc126(0x87e)]+'\x20('+this[_0x3cc126(0x2a1)][_0x3cc126(0x6c1)]+_0x3cc126(0x5b6)),!_0x1f3789||!_0x1f3789[_0x3cc126(0x53b)]){this['throwAndLogError']('Data\x20inválida\x20fornecida');return;}if(!this[_0x3cc126(0x541)][_0x3cc126(0x7dc)]['find'](_0x40ac0c=>_0x40ac0c[_0x3cc126(0x579)]===_0x1f3789[_0x3cc126(0x579)]))throw this[_0x3cc126(0x5c7)][_0x3cc126(0x7df)](this[_0x3cc126(0x87e)]+'\x20('+this['instance'][_0x3cc126(0x6c1)]+_0x3cc126(0x725)+_0x1f3789['_id']+_0x3cc126(0x1c5)),new m(_0x3cc126(0x1b5));let _0xa504fb=await this[_0x3cc126(0x20b)][_0x3cc126(0x4e0)][_0x3cc126(0x875)]({'where':{'_id':_0x1f3789['_id']}});if(!_0xa504fb||!_0xa504fb[_0x3cc126(0x32a)]?.[_0x3cc126(0x81c)](this[_0x3cc126(0x2a1)][_0x3cc126(0x6c1)]))throw this['logger'][_0x3cc126(0x6f3)](this[_0x3cc126(0x87e)]+'\x20('+this[_0x3cc126(0x2a1)][_0x3cc126(0x6c1)]+_0x3cc126(0x167)+_0x1f3789[_0x3cc126(0x579)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x3cc126(0x2e6)+_0x1f3789[_0x3cc126(0x579)]+_0x3cc126(0x499));if(!_0xa504fb[_0x3cc126(0x6b4)]?.[_0x3cc126(0x81c)](this['instance'][_0x3cc126(0x6c1)]))throw new m(_0x3cc126(0x36e));let {replyOption:_0x3b30a7}=_0x1f3789;_0x3b30a7?.[_0x3cc126(0x42f)]?(this[_0x3cc126(0x2c4)](_0xa504fb,_0x1f3789),this[_0x3cc126(0x775)](_0xa504fb[_0x3cc126(0x6ad)],_0x1f3789[_0x3cc126(0x53b)]['blockId'])):_0x3b30a7[_0x3cc126(0x579)]?(await this['updateReplyOption'](_0xa504fb,_0x1f3789),this[_0x3cc126(0x775)](_0xa504fb[_0x3cc126(0x6ad)],_0x1f3789['replyOption']['blockId'])):(this['addReplyOption'](_0xa504fb,_0x1f3789),this['reorderReplyOptions'](_0xa504fb[_0x3cc126(0x6ad)],_0x1f3789[_0x3cc126(0x53b)][_0x3cc126(0x310)]));let _0x3fab45=await this[_0x3cc126(0x20b)]['flow']['updateOne'](_0xa504fb[_0x3cc126(0x579)],_0xa504fb);if(!_0x3fab45)throw new Error(_0x3cc126(0x12d));return _0x3fab45;}catch(_0x3d832c){this[_0x3cc126(0x146)](_0x3cc126(0x836)+_0x3d832c);}}[a0_0x5ae34c(0x775)](_0x526281,_0x33bd0b){const _0x16c71c=a0_0x5ae34c;_0x526281['forEach'](_0x48fa72=>{const _0x5af023=a0_0x475a;_0x48fa72[_0x5af023(0x310)]===_0x33bd0b&&_0x48fa72[_0x5af023(0x7b4)]===void 0x0&&(_0x48fa72[_0x5af023(0x7b4)]=0x270f);});let _0x5f4d85=_0x526281[_0x16c71c(0x252)](_0x5238be=>_0x5238be[_0x16c71c(0x310)]===_0x33bd0b);_0x5f4d85[_0x16c71c(0x3dc)]((_0x4f5f6f,_0x46edf4)=>_0x4f5f6f[_0x16c71c(0x7b4)]-_0x46edf4[_0x16c71c(0x7b4)]),_0x5f4d85[_0x16c71c(0x478)]((_0x28fcae,_0x13dc4d)=>{_0x28fcae['order']=_0x13dc4d+0x1;}),_0x526281['forEach'](_0x56c9e7=>{const _0x15abce=_0x16c71c;if(_0x56c9e7[_0x15abce(0x310)]===_0x33bd0b){let _0x323b01=_0x5f4d85[_0x15abce(0x42c)](_0x3149d9=>_0x3149d9[_0x15abce(0x579)]&&_0x56c9e7[_0x15abce(0x579)]&&_0x3149d9[_0x15abce(0x579)]['toString']()===_0x56c9e7[_0x15abce(0x579)][_0x15abce(0x663)]());_0x323b01&&(_0x56c9e7[_0x15abce(0x7b4)]=_0x323b01[_0x15abce(0x7b4)]);}});}[a0_0x5ae34c(0x2c4)](_0x5b639f,_0x581b76){const _0x4b7401=a0_0x5ae34c;let {replyOption:_0x579602}=_0x581b76;if(!_0x579602['_id']){this[_0x4b7401(0x146)]('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x5b639f[_0x4b7401(0x6ad)][_0x4b7401(0x42c)](_0x4f5147=>_0x4f5147['_id'][_0x4b7401(0x663)]()===_0x581b76['replyOption'][_0x4b7401(0x579)][_0x4b7401(0x663)]())){this[_0x4b7401(0x146)](_0x4b7401(0x248)+_0x579602[_0x4b7401(0x579)]+_0x4b7401(0x4e2));return;}_0x5b639f['replyOptions']=_0x5b639f['replyOptions'][_0x4b7401(0x252)](_0x58e880=>_0x58e880[_0x4b7401(0x579)][_0x4b7401(0x663)]()!==_0x581b76[_0x4b7401(0x53b)][_0x4b7401(0x579)][_0x4b7401(0x663)]());}async[a0_0x5ae34c(0x6f5)](_0x14ee54,_0x1850be){const _0x1bdbf1=a0_0x5ae34c;let _0x1253ac=_0x14ee54['replyOptions']['findIndex'](_0x236935=>_0x236935[_0x1bdbf1(0x579)][_0x1bdbf1(0x663)]()===_0x1850be[_0x1bdbf1(0x53b)][_0x1bdbf1(0x579)][_0x1bdbf1(0x663)]());if(_0x1253ac===-0x1){this[_0x1bdbf1(0x146)](_0x1bdbf1(0x248)+_0x1850be['replyOption'][_0x1bdbf1(0x579)]+_0x1bdbf1(0x32c));return;}for(let _0x38a8dd in _0x1850be[_0x1bdbf1(0x53b)])_0x1850be[_0x1bdbf1(0x53b)][_0x1bdbf1(0x5f0)](_0x38a8dd)&&(_0x14ee54[_0x1bdbf1(0x6ad)][_0x1253ac][_0x38a8dd]=_0x1850be[_0x1bdbf1(0x53b)][_0x38a8dd]);}[a0_0x5ae34c(0x656)](_0x32d9cc,_0x1a0dae){const _0x53f5b5=a0_0x5ae34c;_0x32d9cc[_0x53f5b5(0x6ad)][_0x53f5b5(0x6dd)](_0x1a0dae[_0x53f5b5(0x53b)]);}async[a0_0x5ae34c(0x736)](_0x273ffc){const _0xcb0b2e=a0_0x5ae34c;this['logger']['verbose'](this['instanceName']+'\x20('+this[_0xcb0b2e(0x2a1)][_0xcb0b2e(0x6c1)]+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20'+JSON[_0xcb0b2e(0x751)](_0x273ffc,null,0x2));try{if(this[_0xcb0b2e(0x5c7)][_0xcb0b2e(0x7df)](this[_0xcb0b2e(0x87e)]+'\x20('+this[_0xcb0b2e(0x2a1)][_0xcb0b2e(0x6c1)]+_0xcb0b2e(0x6ee)),!this[_0xcb0b2e(0x541)][_0xcb0b2e(0x7dc)][_0xcb0b2e(0x42c)](_0x327698=>_0x327698[_0xcb0b2e(0x579)]===_0x273ffc[_0xcb0b2e(0x579)]))throw this[_0xcb0b2e(0x5c7)]['verbose'](this[_0xcb0b2e(0x87e)]+'\x20('+this[_0xcb0b2e(0x2a1)]['wuid']+_0xcb0b2e(0x725)+_0x273ffc[_0xcb0b2e(0x579)]+_0xcb0b2e(0x1c5)),new m(_0xcb0b2e(0x1b5));let _0x1f4969=await this[_0xcb0b2e(0x20b)]['flow'][_0xcb0b2e(0x875)]({'where':{'_id':_0x273ffc[_0xcb0b2e(0x579)]}});if(!_0x1f4969||!_0x1f4969['whoCanUse']?.[_0xcb0b2e(0x81c)](this[_0xcb0b2e(0x2a1)][_0xcb0b2e(0x6c1)]))throw this[_0xcb0b2e(0x5c7)][_0xcb0b2e(0x6f3)](this['instanceName']+'\x20('+this[_0xcb0b2e(0x2a1)][_0xcb0b2e(0x6c1)]+_0xcb0b2e(0x167)+_0x273ffc[_0xcb0b2e(0x579)]+_0xcb0b2e(0x499)),new m(_0xcb0b2e(0x2e6)+_0x273ffc['_id']+_0xcb0b2e(0x499));if(!_0x1f4969[_0xcb0b2e(0x6b4)]?.[_0xcb0b2e(0x81c)](this[_0xcb0b2e(0x2a1)]['wuid']))throw new m(_0xcb0b2e(0x36e));if(_0x273ffc[_0xcb0b2e(0x13f)]&&_0x273ffc['group']?.['delete']===!0x0){if(this[_0xcb0b2e(0x5c7)]['verbose'](this[_0xcb0b2e(0x87e)]+'\x20('+this[_0xcb0b2e(0x2a1)][_0xcb0b2e(0x6c1)]+_0xcb0b2e(0x222)),_0x273ffc[_0xcb0b2e(0x13f)]['default']===!0x0)return{'message':_0xcb0b2e(0x614)};if(_0x1f4969[_0xcb0b2e(0x208)][_0xcb0b2e(0x6b2)](_0x550274=>_0x550274[_0xcb0b2e(0x641)][_0xcb0b2e(0x663)]()===_0x273ffc[_0xcb0b2e(0x13f)][_0xcb0b2e(0x579)]))return this['logger'][_0xcb0b2e(0x7df)](this[_0xcb0b2e(0x87e)]+'\x20('+this[_0xcb0b2e(0x2a1)]['wuid']+_0xcb0b2e(0x655)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x1f4969['groups']=_0x1f4969[_0xcb0b2e(0x315)][_0xcb0b2e(0x252)](_0x8be646=>_0x8be646['_id'][_0xcb0b2e(0x663)]()!==_0x273ffc[_0xcb0b2e(0x13f)][_0xcb0b2e(0x579)]);}else{if(_0x273ffc['group']){if(_0x273ffc[_0xcb0b2e(0x13f)][_0xcb0b2e(0x509)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x273ffc[_0xcb0b2e(0x13f)][_0xcb0b2e(0x579)]){let _0x3dd971=_0x1f4969[_0xcb0b2e(0x315)]['find'](_0x3da711=>_0x3da711[_0xcb0b2e(0x579)][_0xcb0b2e(0x663)]()===_0x273ffc[_0xcb0b2e(0x13f)][_0xcb0b2e(0x579)]);_0x3dd971&&(_0x273ffc['group']['x']<0x0&&(_0x273ffc['group']['x']=0x0),_0x273ffc['group']['y']<0x0&&(_0x273ffc['group']['y']=0x0),Object[_0xcb0b2e(0x41f)](_0x3dd971,_0x273ffc[_0xcb0b2e(0x13f)]));}else _0x1f4969[_0xcb0b2e(0x315)]['push'](_0x273ffc[_0xcb0b2e(0x13f)]);}}let _0x10ba8d=await this[_0xcb0b2e(0x20b)][_0xcb0b2e(0x4e0)][_0xcb0b2e(0x41a)](_0x1f4969[_0xcb0b2e(0x579)],_0x1f4969);if(!_0x10ba8d)throw new Error(_0xcb0b2e(0x12d));return _0x10ba8d;}catch(_0x328a94){let _0x1cb844=_0xcb0b2e(0x4b7),_0x335060=_0x328a94 instanceof Error?_0x328a94[_0xcb0b2e(0x80a)]:typeof _0x328a94=='object'?JSON[_0xcb0b2e(0x751)](_0x328a94):_0x328a94,_0xc9d34b=_0x1cb844+':\x20'+_0x335060;throw this[_0xcb0b2e(0x5c7)][_0xcb0b2e(0x6f3)](this[_0xcb0b2e(0x87e)]+'\x20('+this[_0xcb0b2e(0x2a1)][_0xcb0b2e(0x6c1)]+'):\x20'+_0xc9d34b),new m(_0xc9d34b);}}async[a0_0x5ae34c(0x22a)](_0x5399de){const _0x5189ec=a0_0x5ae34c;try{if(this[_0x5189ec(0x5c7)][_0x5189ec(0x7df)](this[_0x5189ec(0x87e)]+'\x20('+this[_0x5189ec(0x2a1)][_0x5189ec(0x6c1)]+_0x5189ec(0x697)),!this[_0x5189ec(0x541)][_0x5189ec(0x7dc)][_0x5189ec(0x42c)](_0x16caf0=>_0x16caf0['_id']===_0x5399de[_0x5189ec(0x579)]))throw this[_0x5189ec(0x5c7)][_0x5189ec(0x7df)](this[_0x5189ec(0x87e)]+'\x20('+this['instance'][_0x5189ec(0x6c1)]+'):\x20Fluxo\x20\x27'+_0x5399de[_0x5189ec(0x579)]+_0x5189ec(0x1c5)),new m(_0x5189ec(0x1b5));let _0x1635e7=await this[_0x5189ec(0x20b)][_0x5189ec(0x4e0)][_0x5189ec(0x875)]({'where':{'_id':_0x5399de[_0x5189ec(0x579)]}});if(!_0x1635e7||!_0x1635e7[_0x5189ec(0x32a)]?.['includes'](this[_0x5189ec(0x2a1)][_0x5189ec(0x6c1)]))throw this[_0x5189ec(0x5c7)][_0x5189ec(0x6f3)](this['instanceName']+'\x20('+this[_0x5189ec(0x2a1)][_0x5189ec(0x6c1)]+_0x5189ec(0x167)+_0x5399de[_0x5189ec(0x579)]+_0x5189ec(0x499)),new m(_0x5189ec(0x2e6)+_0x5399de[_0x5189ec(0x579)]+_0x5189ec(0x499));if(!_0x1635e7[_0x5189ec(0x6b4)]?.[_0x5189ec(0x81c)](this[_0x5189ec(0x2a1)][_0x5189ec(0x6c1)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let _0x37f7f7=!0x1;if(_0x5399de['condition']?.[_0x5189ec(0x42f)]===!0x0)_0x1635e7[_0x5189ec(0x850)]=_0x1635e7['conditions'][_0x5189ec(0x252)](_0x51dc58=>_0x51dc58&&_0x5399de['condition']&&_0x51dc58['_id']&&_0x5399de[_0x5189ec(0x69b)][_0x5189ec(0x579)]&&_0x51dc58[_0x5189ec(0x579)][_0x5189ec(0x663)]()!==_0x5399de[_0x5189ec(0x69b)]['_id'][_0x5189ec(0x663)]()),_0x37f7f7=!0x0;else{let _0x46bfc5=_0x1635e7[_0x5189ec(0x850)][_0x5189ec(0x42c)](_0xc376af=>_0xc376af&&_0x5399de[_0x5189ec(0x69b)]&&_0xc376af['_id']&&_0x5399de[_0x5189ec(0x69b)]['_id']&&_0xc376af['_id']['toString']()===_0x5399de['condition'][_0x5189ec(0x579)][_0x5189ec(0x663)]());_0x46bfc5?(_0x37f7f7=_0x46bfc5[_0x5189ec(0x7b4)]!==_0x5399de[_0x5189ec(0x69b)][_0x5189ec(0x7b4)],Object[_0x5189ec(0x41f)](_0x46bfc5,_0x5399de['condition'])):(_0x1635e7['conditions'][_0x5189ec(0x6dd)](_0x5399de[_0x5189ec(0x69b)]),_0x37f7f7=!0x0);}if(_0x37f7f7){_0x1635e7['conditions']['sort']((_0x4e763d,_0x28f8c9)=>_0x4e763d['order']>_0x28f8c9[_0x5189ec(0x7b4)]?0x1:_0x28f8c9[_0x5189ec(0x7b4)]>_0x4e763d[_0x5189ec(0x7b4)]?-0x1:0x0);for(let _0x250ea8=0x0;_0x250ea8<_0x1635e7['conditions']['length'];_0x250ea8++)_0x1635e7[_0x5189ec(0x850)][_0x250ea8][_0x5189ec(0x7b4)]=_0x250ea8+0x1;_0x1635e7[_0x5189ec(0x850)][_0x5189ec(0x3b3)]>0x0&&(_0x1635e7['conditions'][0x0][_0x5189ec(0x292)]=_0x5189ec(0x4fd));}let _0x3ba5c5=await this[_0x5189ec(0x20b)]['flow']['updateOne'](_0x1635e7[_0x5189ec(0x579)],_0x1635e7);if(!_0x3ba5c5)throw new Error(_0x5189ec(0x12d));return _0x3ba5c5;}catch(_0x11429d){let _0x5d4ee4=_0x5189ec(0x530),_0x3651a5=_0x11429d instanceof Error?_0x11429d['message']:typeof _0x11429d==_0x5189ec(0x79d)?JSON[_0x5189ec(0x751)](_0x11429d):_0x11429d,_0x4a8644=_0x5d4ee4+':\x20'+_0x3651a5;throw this['logger'][_0x5189ec(0x6f3)](this[_0x5189ec(0x87e)]+'\x20('+this[_0x5189ec(0x2a1)]['wuid']+_0x5189ec(0x77c)+_0x4a8644),new m(_0x4a8644);}}async['editFlowVaredit'](_0x5d76e2){const _0x32f533=a0_0x5ae34c;try{if(this[_0x32f533(0x5c7)][_0x32f533(0x7df)](this['instanceName']+'\x20('+this[_0x32f533(0x2a1)][_0x32f533(0x6c1)]+_0x32f533(0x451)),!this[_0x32f533(0x541)]['flows'][_0x32f533(0x42c)](_0x2c55b4=>_0x2c55b4[_0x32f533(0x579)]===_0x5d76e2['_id']))throw this[_0x32f533(0x5c7)][_0x32f533(0x7df)](this[_0x32f533(0x87e)]+'\x20('+this[_0x32f533(0x2a1)]['wuid']+_0x32f533(0x725)+_0x5d76e2['_id']+'\x27\x20não\x20encontrado'),new m(_0x32f533(0x1b5));let _0x5c14e1=await this[_0x32f533(0x20b)][_0x32f533(0x4e0)][_0x32f533(0x875)]({'where':{'_id':_0x5d76e2[_0x32f533(0x579)]}});if(!_0x5c14e1||!_0x5c14e1['whoCanUse']?.[_0x32f533(0x81c)](this[_0x32f533(0x2a1)][_0x32f533(0x6c1)]))throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x32f533(0x2a1)][_0x32f533(0x6c1)]+_0x32f533(0x167)+_0x5d76e2[_0x32f533(0x579)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x5d76e2[_0x32f533(0x579)]+_0x32f533(0x499));if(!_0x5c14e1[_0x32f533(0x6b4)]?.['includes'](this[_0x32f533(0x2a1)][_0x32f533(0x6c1)]))throw new m(_0x32f533(0x36e));let _0x37b01d=!0x1;if(_0x5d76e2[_0x32f533(0x10b)]?.['delete']===!0x0)_0x5c14e1['varedits']=_0x5c14e1[_0x32f533(0x24a)][_0x32f533(0x252)](_0x2671ed=>_0x2671ed&&_0x5d76e2[_0x32f533(0x10b)]&&_0x2671ed['_id']&&_0x5d76e2[_0x32f533(0x10b)][_0x32f533(0x579)]&&_0x2671ed[_0x32f533(0x579)][_0x32f533(0x663)]()!==_0x5d76e2['varedit'][_0x32f533(0x579)][_0x32f533(0x663)]()),_0x37b01d=!0x0;else{let _0x7d90d8=_0x5c14e1[_0x32f533(0x24a)][_0x32f533(0x42c)](_0x1fb218=>_0x1fb218&&_0x5d76e2[_0x32f533(0x10b)]&&_0x1fb218[_0x32f533(0x579)]&&_0x5d76e2[_0x32f533(0x10b)][_0x32f533(0x579)]&&_0x1fb218[_0x32f533(0x579)]['toString']()===_0x5d76e2[_0x32f533(0x10b)][_0x32f533(0x579)][_0x32f533(0x663)]());_0x7d90d8?(_0x37b01d=_0x7d90d8['order']!==_0x5d76e2['varedit'][_0x32f533(0x7b4)],Object['assign'](_0x7d90d8,_0x5d76e2['varedit'])):(_0x5c14e1[_0x32f533(0x24a)]['push'](_0x5d76e2[_0x32f533(0x10b)]),_0x37b01d=!0x0);}if(_0x37b01d){_0x5c14e1[_0x32f533(0x24a)]['sort']((_0x4b9d89,_0x31e3e5)=>_0x4b9d89['order']>_0x31e3e5[_0x32f533(0x7b4)]?0x1:_0x31e3e5[_0x32f533(0x7b4)]>_0x4b9d89[_0x32f533(0x7b4)]?-0x1:0x0);for(let _0x3b3968=0x0;_0x3b3968<_0x5c14e1[_0x32f533(0x24a)][_0x32f533(0x3b3)];_0x3b3968++)_0x5c14e1['varedits'][_0x3b3968]['order']=_0x3b3968+0x1;}let _0x54ff6b=await this[_0x32f533(0x20b)][_0x32f533(0x4e0)][_0x32f533(0x41a)](_0x5c14e1['_id'],_0x5c14e1);if(!_0x54ff6b)throw new Error(_0x32f533(0x12d));return _0x54ff6b;}catch(_0x339368){let _0x178fa4=_0x32f533(0x530),_0x529123=_0x339368 instanceof Error?_0x339368[_0x32f533(0x80a)]:typeof _0x339368=='object'?JSON[_0x32f533(0x751)](_0x339368):_0x339368,_0x48aceb=_0x178fa4+':\x20'+_0x529123;throw this[_0x32f533(0x5c7)]['error'](this[_0x32f533(0x87e)]+'\x20('+this[_0x32f533(0x2a1)][_0x32f533(0x6c1)]+'):\x20'+_0x48aceb),new m(_0x48aceb);}}async[a0_0x5ae34c(0x122)](_0x232b72){const _0x5087c9=a0_0x5ae34c;try{if(this['logger'][_0x5087c9(0x7df)](this[_0x5087c9(0x87e)]+'\x20('+this[_0x5087c9(0x2a1)][_0x5087c9(0x6c1)]+'):\x20Editando\x20variável\x20do\x20fluxo...'),!this[_0x5087c9(0x541)][_0x5087c9(0x7dc)][_0x5087c9(0x42c)](_0x292bcc=>_0x292bcc[_0x5087c9(0x579)]===_0x232b72[_0x5087c9(0x579)]))throw this['logger'][_0x5087c9(0x7df)](this[_0x5087c9(0x87e)]+'\x20('+this[_0x5087c9(0x2a1)]['wuid']+_0x5087c9(0x725)+_0x232b72[_0x5087c9(0x579)]+'\x27\x20não\x20encontrado'),new m(_0x5087c9(0x1b5));let _0x1a5174=await this[_0x5087c9(0x20b)][_0x5087c9(0x4e0)]['findOne']({'where':{'_id':_0x232b72[_0x5087c9(0x579)]}});if(!_0x1a5174||!_0x1a5174[_0x5087c9(0x32a)]?.[_0x5087c9(0x81c)](this['instance'][_0x5087c9(0x6c1)]))throw this[_0x5087c9(0x5c7)]['error'](this[_0x5087c9(0x87e)]+'\x20('+this[_0x5087c9(0x2a1)][_0x5087c9(0x6c1)]+'):\x20Flow\x20\x27'+_0x232b72[_0x5087c9(0x579)]+_0x5087c9(0x499)),new m(_0x5087c9(0x2e6)+_0x232b72[_0x5087c9(0x579)]+_0x5087c9(0x499));if(!_0x1a5174[_0x5087c9(0x6b4)]?.[_0x5087c9(0x81c)](this[_0x5087c9(0x2a1)][_0x5087c9(0x6c1)]))throw new m(_0x5087c9(0x36e));_0x232b72['variable'][_0x5087c9(0x48b)]=_0x232b72[_0x5087c9(0x2b1)]['name'][_0x5087c9(0x1b6)](),_0x232b72[_0x5087c9(0x2b1)]['name']['startsWith']('_')&&(_0x232b72['variable']['name']=_0x232b72[_0x5087c9(0x2b1)]['name'][_0x5087c9(0x2c1)](0x1)),_0x232b72['variable'][_0x5087c9(0x48b)]=_0x232b72['variable'][_0x5087c9(0x48b)]['trim']();let _0x3a1ea5=_0x1a5174[_0x5087c9(0x215)][_0x5087c9(0x42c)](_0x3a7872=>_0x3a7872[_0x5087c9(0x48b)]===_0x232b72[_0x5087c9(0x2b1)]['name']);if(_0x3a1ea5?.['leadInfo']===!0x0)throw new Error(_0x5087c9(0x1ae));if(_0x232b72[_0x5087c9(0x2b1)]?.['delete']===!0x0){if(!_0x3a1ea5)return{'message':'Variável\x20não\x20encontrada!'};_0x1a5174[_0x5087c9(0x215)]=_0x1a5174[_0x5087c9(0x215)]['filter'](_0x537f66=>_0x537f66['name']!==_0x232b72['variable'][_0x5087c9(0x48b)]);}else _0x3a1ea5?Object['assign'](_0x3a1ea5,_0x232b72[_0x5087c9(0x2b1)]):_0x1a5174[_0x5087c9(0x215)]['push'](_0x232b72['variable']);let _0x112a0f=await this[_0x5087c9(0x20b)][_0x5087c9(0x4e0)]['updateOne'](_0x1a5174['_id'],_0x1a5174);if(!_0x112a0f)throw new Error(_0x5087c9(0x12d));return _0x112a0f;}catch(_0x40735e){let _0xf6ac07=_0x5087c9(0x84f),_0x463d4d=_0x40735e instanceof Error?_0x40735e[_0x5087c9(0x80a)]:typeof _0x40735e==_0x5087c9(0x79d)?JSON['stringify'](_0x40735e):_0x40735e,_0x5b13c1=_0xf6ac07+':\x20'+_0x463d4d;throw this[_0x5087c9(0x5c7)]['error'](this[_0x5087c9(0x87e)]+'\x20('+this['instance'][_0x5087c9(0x6c1)]+_0x5087c9(0x77c)+_0x5b13c1),new m(_0x5b13c1);}}async[a0_0x5ae34c(0x198)](_0x21c740){const _0x5ecac5=a0_0x5ae34c;let _0x905762=null;try{if(!this[_0x5ecac5(0x541)]?.['flowConfig'][_0x5ecac5(0x6af)])throw new m(_0x5ecac5(0x3ef));this[_0x5ecac5(0x5c7)][_0x5ecac5(0x7df)](this[_0x5ecac5(0x87e)]+'\x20('+this[_0x5ecac5(0x2a1)][_0x5ecac5(0x6c1)]+_0x5ecac5(0x83f));let _0x2d1b83=(await this[_0x5ecac5(0x30c)]({'numbers':[_0x21c740[_0x5ecac5(0x668)]]}))[0x0];if(!_0x2d1b83[_0x5ecac5(0x17c)]&&!(0x0,w[_0x5ecac5(0x80e)])(_0x2d1b83['jid'])&&!_0x2d1b83[_0x5ecac5(0x25c)]['includes'](_0x5ecac5(0x5cd)))throw _0x905762=JSON['stringify'](_0x2d1b83,null,0x2),new m(_0x2d1b83);let _0x34d8ec;if(_0x21c740[_0x5ecac5(0x48b)][_0x5ecac5(0x3b3)]===0x24&&/^[0-9a-fA-F-]{36}$/[_0x5ecac5(0x4d9)](_0x21c740[_0x5ecac5(0x48b)])?_0x34d8ec=this['AutomateSystem'][_0x5ecac5(0x7dc)][_0x5ecac5(0x42c)](_0x4bfdce=>_0x4bfdce[_0x5ecac5(0x579)]===_0x21c740[_0x5ecac5(0x48b)]):_0x34d8ec=this[_0x5ecac5(0x541)][_0x5ecac5(0x7dc)]['find'](_0x5a8d39=>_0x5a8d39['name']===_0x21c740['name']),!_0x34d8ec)throw this[_0x5ecac5(0x5c7)][_0x5ecac5(0x7df)](this[_0x5ecac5(0x87e)]+'\x20('+this['instance'][_0x5ecac5(0x6c1)]+'):\x20Fluxo\x20\x27'+_0x21c740[_0x5ecac5(0x48b)]+'\x27\x20não\x20encontrado'),new m(_0x5ecac5(0x1b5));let _0x182799=await this[_0x5ecac5(0x20b)][_0x5ecac5(0x4e0)]['findOne']({'where':{'_id':_0x34d8ec[_0x5ecac5(0x579)]}});if(!_0x182799||!_0x182799[_0x5ecac5(0x32a)]?.[_0x5ecac5(0x81c)](this[_0x5ecac5(0x2a1)][_0x5ecac5(0x6c1)]))throw this[_0x5ecac5(0x5c7)]['error'](this[_0x5ecac5(0x87e)]+'\x20('+this[_0x5ecac5(0x2a1)][_0x5ecac5(0x6c1)]+_0x5ecac5(0x167)+_0x34d8ec[_0x5ecac5(0x579)]+_0x5ecac5(0x499)),_0x905762=_0x5ecac5(0x2e6)+_0x34d8ec['_id']+_0x5ecac5(0x499),new m(_0x905762);let _0x5529b3=await this['createConversationforStartFlow'](_0x182799,_0x2d1b83[_0x5ecac5(0x25c)],_0x21c740[_0x5ecac5(0x532)]);if(_0x5529b3){this[_0x5ecac5(0x5c7)][_0x5ecac5(0x7df)](this[_0x5ecac5(0x87e)]+'\x20('+this['instance'][_0x5ecac5(0x6c1)]+_0x5ecac5(0x845));let _0xd02ade=await this[_0x5ecac5(0x237)](_0x5529b3);return _0xd02ade&&await this[_0x5ecac5(0x41d)](_0x5529b3,_0xd02ade),{'message':_0x5ecac5(0x357)+_0x21c740['remoteJid']};}}catch(_0xc5e02a){if(this[_0x5ecac5(0x5c7)][_0x5ecac5(0x6f3)](this['instanceName']+'\x20('+this['instance'][_0x5ecac5(0x6c1)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0xc5e02a instanceof Error?_0xc5e02a[_0x5ecac5(0x80a)]:JSON[_0x5ecac5(0x751)](_0xc5e02a,null,0x2))),_0x905762=_0xc5e02a instanceof Error?_0xc5e02a['message']:JSON['stringify'](_0xc5e02a,null,0x2),_0x905762)throw new m(_0x5ecac5(0x418)+_0x905762);}}async[a0_0x5ae34c(0x342)](_0x28549f,_0x477fd8,_0x201dfe){const _0x53a417=a0_0x5ae34c;let _0x11dae4=null;try{if(!this[_0x53a417(0x541)]?.[_0x53a417(0x670)][_0x53a417(0x6af)])throw new m('Fluxos\x20não\x20estão\x20ativados');if(this[_0x53a417(0x5c7)][_0x53a417(0x7df)](this[_0x53a417(0x87e)]+'\x20('+this[_0x53a417(0x2a1)][_0x53a417(0x6c1)]+_0x53a417(0x83f)),_0x477fd8){let _0xf58056=(await this[_0x53a417(0x30c)]({'numbers':[_0x477fd8]}))[0x0];if(!_0xf58056[_0x53a417(0x17c)]&&!(0x0,w[_0x53a417(0x80e)])(_0xf58056['jid'])&&!_0xf58056[_0x53a417(0x25c)][_0x53a417(0x81c)](_0x53a417(0x5cd)))throw _0x11dae4=JSON[_0x53a417(0x751)](_0xf58056,null,0x2),new m(_0xf58056);_0x477fd8=_0xf58056['jid'];}else _0x477fd8||(_0x477fd8=(0x0,Q['v4'])());let _0x2e2f57=await this[_0x53a417(0x20b)][_0x53a417(0x4e0)][_0x53a417(0x875)]({'where':{'_id':_0x28549f}});if(!_0x2e2f57||!_0x2e2f57[_0x53a417(0x32a)]?.[_0x53a417(0x81c)](this[_0x53a417(0x2a1)]['wuid']))throw this['logger'][_0x53a417(0x6f3)](this[_0x53a417(0x87e)]+'\x20('+this['instance'][_0x53a417(0x6c1)]+'):\x20Flow\x20\x27'+_0x28549f+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x28549f+_0x53a417(0x499));let _0x56ab64=await this[_0x53a417(0x1ba)](_0x2e2f57,_0x477fd8,null);if(_0x56ab64){this[_0x53a417(0x5c7)]['verbose'](this[_0x53a417(0x87e)]+'\x20('+this['instance'][_0x53a417(0x6c1)]+'):\x20Criou\x20conversa\x20no\x20startFlowWebhook');let _0x1c214e;if(_0x201dfe){let _0x42cda1=_0x56ab64['chatLog']['realVariables'],_0xeb4bb4=this[_0x53a417(0x757)](_0x201dfe);Object[_0x53a417(0x41f)](_0x42cda1,_0xeb4bb4),_0x56ab64[_0x53a417(0x172)][_0x53a417(0x635)]=_0x42cda1,_0x1c214e={'error':!0x1,'apiResponse':_0x201dfe};}let _0x5c0568=await this[_0x53a417(0x237)](_0x56ab64);return _0x5c0568&&await this[_0x53a417(0x41d)](_0x56ab64,_0x5c0568),{'message':_0x53a417(0x654)};}}catch(_0x5d22eb){if(this[_0x53a417(0x5c7)][_0x53a417(0x6f3)](this[_0x53a417(0x87e)]+'\x20('+this[_0x53a417(0x2a1)]['wuid']+_0x53a417(0x572)+(_0x5d22eb instanceof Error?_0x5d22eb[_0x53a417(0x80a)]:JSON['stringify'](_0x5d22eb,null,0x2))),_0x11dae4=_0x5d22eb instanceof Error?_0x5d22eb[_0x53a417(0x80a)]:JSON[_0x53a417(0x751)](_0x5d22eb,null,0x2),_0x11dae4)throw new m(_0x53a417(0x418)+_0x11dae4);}}async[a0_0x5ae34c(0x333)](_0x325339){const _0x1c4d9b=a0_0x5ae34c;try{let _0x18f382={'remoteJid':_0x325339,'status':_0x1c4d9b(0x83a)},_0xbc838c={'status':_0x1c4d9b(0x2a9)},_0x4e6fb5=await this[_0x1c4d9b(0x20b)][_0x1c4d9b(0x1d6)]['updateMany'](_0x18f382,_0xbc838c,this[_0x1c4d9b(0x2a1)]['wuid']);return this[_0x1c4d9b(0x5c7)][_0x1c4d9b(0x7df)](this[_0x1c4d9b(0x87e)]+'\x20('+this['instance'][_0x1c4d9b(0x6c1)]+_0x1c4d9b(0x2d4)),_0x4e6fb5;}catch(_0x1536ba){throw this[_0x1c4d9b(0x5c7)][_0x1c4d9b(0x6f3)](this[_0x1c4d9b(0x87e)]+'\x20('+this[_0x1c4d9b(0x2a1)][_0x1c4d9b(0x6c1)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x1536ba[_0x1c4d9b(0x80a)]),_0x1536ba;}}async['createConversationforStartFlow'](_0x44205e,_0x49961f,_0x42893a){const _0x5bc0f7=a0_0x5ae34c;this[_0x5bc0f7(0x5c7)][_0x5bc0f7(0x7df)](this[_0x5bc0f7(0x87e)]+'\x20('+this[_0x5bc0f7(0x2a1)][_0x5bc0f7(0x6c1)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this['closeExistingConversations'](_0x49961f);try{let _0x2f2ac6=require(_0x5bc0f7(0x3c4))[_0x5bc0f7(0x3b5)],_0x5369fc=Date[_0x5bc0f7(0x776)](),_0x530fb2=_0x5bc0f7(0x580),_0x3c85bf={},_0x9440ba={},_0x222e3c=this[_0x5bc0f7(0x541)]['flows'][_0x5bc0f7(0x42c)](_0x5822e9=>_0x5822e9['_id']===_0x44205e[_0x5bc0f7(0x579)]?.[_0x5bc0f7(0x663)]()),_0x4d58d2=_0x222e3c?.[_0x5bc0f7(0x536)]??_0x44205e[_0x5bc0f7(0x536)]??0x0,_0x2235f2=_0x222e3c?.[_0x5bc0f7(0x379)]??_0x44205e['readMessages']??!0x1,_0x50d3a2={'flowId':_0x44205e[_0x5bc0f7(0x579)],..._0x44205e,'chatLog':null},_0x57c1bc=await this[_0x5bc0f7(0x618)](_0x50d3a2['variables']),_0x34f978=await this[_0x5bc0f7(0x826)](_0x49961f),_0xea31c1={..._0x57c1bc,..._0x34f978,'_remoteJid':_0x49961f},_0x4ac088={'lastReceivedMessage':_0x3c85bf,'lastSendMessage':_0x9440ba,'lastBlockId':_0x530fb2,'lastCondition':!0x0,'realVariables':_0xea31c1};_0x50d3a2[_0x5bc0f7(0x172)]=_0x4ac088,_0x50d3a2['chatLog']['realVariables']={..._0xea31c1,..._0x42893a},delete _0x50d3a2[_0x5bc0f7(0x579)],_0x50d3a2[_0x5bc0f7(0x579)]=new _0x2f2ac6(),_0x50d3a2[_0x5bc0f7(0x5fe)]=_0x5369fc,_0x50d3a2[_0x5bc0f7(0x41e)]=_0x5bc0f7(0x83a),_0x50d3a2[_0x5bc0f7(0x668)]=_0x49961f,_0x50d3a2['minutesToClose']=_0x4d58d2,_0x50d3a2[_0x5bc0f7(0x379)]=_0x2235f2,_0x50d3a2['_id']=_0x44205e[_0x5bc0f7(0x579)];let _0x18578c=await this[_0x5bc0f7(0x20b)]['flowConversation'][_0x5bc0f7(0x41a)](_0x50d3a2['_id'],_0x50d3a2,this['instance'][_0x5bc0f7(0x6c1)]);return this[_0x5bc0f7(0x5c7)][_0x5bc0f7(0x7df)](this[_0x5bc0f7(0x87e)]+'\x20('+this[_0x5bc0f7(0x2a1)][_0x5bc0f7(0x6c1)]+_0x5bc0f7(0x717)),_0x18578c?_0x50d3a2:null;}catch(_0x1eeed0){let _0x595570=_0x5bc0f7(0x1af),_0x51de5e=_0x1eeed0 instanceof Error?_0x1eeed0['message']:typeof _0x1eeed0==_0x5bc0f7(0x79d)?JSON[_0x5bc0f7(0x751)](_0x1eeed0):_0x1eeed0,_0x16d55a=_0x595570+':\x20'+_0x51de5e;throw this['logger'][_0x5bc0f7(0x6f3)](this[_0x5bc0f7(0x87e)]+'\x20('+this[_0x5bc0f7(0x2a1)][_0x5bc0f7(0x6c1)]+_0x5bc0f7(0x77c)+_0x16d55a),new m(_0x16d55a);}}async[a0_0x5ae34c(0x2b4)](_0x4b3166){const _0x13ee39=a0_0x5ae34c;try{this[_0x13ee39(0x5c7)]['verbose'](this[_0x13ee39(0x87e)]+'\x20('+this[_0x13ee39(0x2a1)][_0x13ee39(0x6c1)]+_0x13ee39(0x24f)),this[_0x13ee39(0x5c7)]['verbose'](this[_0x13ee39(0x87e)]+'\x20('+this[_0x13ee39(0x2a1)][_0x13ee39(0x6c1)]+'):\x20Query\x20params:\x20'+_0x4b3166);let _0x4bc249={'where':{'_id':_0x4b3166}};return await this[_0x13ee39(0x20b)][_0x13ee39(0x1d6)][_0x13ee39(0x875)](_0x4bc249,this[_0x13ee39(0x2a1)]['wuid']);}catch(_0x2e31e5){let _0x2755df=_0x13ee39(0x4ff),_0x53e547=_0x2e31e5 instanceof Error?_0x2e31e5[_0x13ee39(0x80a)]:typeof _0x2e31e5==_0x13ee39(0x79d)?JSON['stringify'](_0x2e31e5):_0x2e31e5,_0x539c2f=_0x2755df+':\x20'+_0x53e547;throw this[_0x13ee39(0x5c7)]['error'](this[_0x13ee39(0x87e)]+'\x20('+this[_0x13ee39(0x2a1)][_0x13ee39(0x6c1)]+_0x13ee39(0x77c)+_0x539c2f),new m(_0x539c2f);}}async[a0_0x5ae34c(0x61c)](_0x11f960){const _0xeb2b76=a0_0x5ae34c;try{return this[_0xeb2b76(0x5c7)][_0xeb2b76(0x7df)](this[_0xeb2b76(0x87e)]+'\x20('+this[_0xeb2b76(0x2a1)][_0xeb2b76(0x6c1)]+_0xeb2b76(0x319)),await this[_0xeb2b76(0x20b)][_0xeb2b76(0x1d6)][_0xeb2b76(0x42c)](_0x11f960,this['instance'][_0xeb2b76(0x6c1)]);}catch(_0x2005ad){let _0x3390a2='Erro\x20ao\x20buscar\x20conversas',_0x4d9380=_0x2005ad instanceof Error?_0x2005ad[_0xeb2b76(0x80a)]:typeof _0x2005ad==_0xeb2b76(0x79d)?JSON[_0xeb2b76(0x751)](_0x2005ad):_0x2005ad,_0x2bef42=_0x3390a2+':\x20'+_0x4d9380;throw this[_0xeb2b76(0x5c7)][_0xeb2b76(0x6f3)](this[_0xeb2b76(0x87e)]+'\x20('+this[_0xeb2b76(0x2a1)][_0xeb2b76(0x6c1)]+_0xeb2b76(0x77c)+_0x2bef42),new m(_0x2bef42);}}async[a0_0x5ae34c(0x1f4)](_0x55ed7c){const _0x97a70c=a0_0x5ae34c;try{return this[_0x97a70c(0x5c7)]['verbose'](this[_0x97a70c(0x87e)]+'\x20('+this['instance']['wuid']+_0x97a70c(0x368)),this[_0x97a70c(0x5c7)][_0x97a70c(0x7df)](this[_0x97a70c(0x87e)]+'\x20('+this[_0x97a70c(0x2a1)]['wuid']+_0x97a70c(0x1d5)+_0x55ed7c),(await this[_0x97a70c(0x20b)][_0x97a70c(0x1d6)][_0x97a70c(0x45c)]({'where':{'_id':_0x55ed7c['_id']}},this['instance'][_0x97a70c(0x6c1)]))[_0x97a70c(0x55b)]===0x0?{'message':_0x97a70c(0x437)}:{'message':_0x97a70c(0x460)};}catch(_0x3e09d9){let _0x22fabe='Erro\x20ao\x20deletar\x20a\x20conversa',_0x2e80bc=_0x3e09d9 instanceof Error?_0x3e09d9[_0x97a70c(0x80a)]:typeof _0x3e09d9==_0x97a70c(0x79d)?JSON[_0x97a70c(0x751)](_0x3e09d9):_0x3e09d9,_0x434742=_0x22fabe+':\x20'+_0x2e80bc;throw this[_0x97a70c(0x5c7)][_0x97a70c(0x6f3)](this['instanceName']+'\x20('+this['instance'][_0x97a70c(0x6c1)]+_0x97a70c(0x77c)+_0x434742),new m(_0x434742);}}async['editConversation'](_0x501173){const _0x2006d8=a0_0x5ae34c;try{let {_id:_0x520d35,chatLog:_0x47a6fd,status:_0xf198a2}=_0x501173;if(!_0x520d35)return{'message':_0x2006d8(0x2bf)};let _0x62d641={};if(_0xf198a2!==void 0x0&&(_0x62d641[_0x2006d8(0x41e)]=_0xf198a2),Object[_0x2006d8(0x57b)](_0x62d641)[_0x2006d8(0x3b3)]===0x0)return{'message':_0x2006d8(0x11a)};let _0x4053c7=await this[_0x2006d8(0x20b)][_0x2006d8(0x1d6)][_0x2006d8(0x41a)](_0x520d35,_0x62d641,this[_0x2006d8(0x2a1)]['wuid']);return _0x4053c7||{'message':_0x2006d8(0x542)};}catch(_0x1a20ab){let _0x5ae2d7=_0x2006d8(0x49d),_0x50ef30=_0x1a20ab instanceof Error?_0x1a20ab[_0x2006d8(0x80a)]:typeof _0x1a20ab=='object'?JSON['stringify'](_0x1a20ab):_0x1a20ab,_0x260531=_0x5ae2d7+':\x20'+_0x50ef30;throw this[_0x2006d8(0x5c7)][_0x2006d8(0x6f3)](this['instanceName']+'\x20('+this['instance'][_0x2006d8(0x6c1)]+'):\x20'+_0x260531),new m(_0x260531);}}async[a0_0x5ae34c(0x510)](_0x19f1f0){const _0x13f267=a0_0x5ae34c;try{_0x19f1f0[_0x13f267(0x579)]=this[_0x13f267(0x4d3)](_0x19f1f0[_0x13f267(0x579)]);let _0x3b466d=await this['repository'][_0x13f267(0x789)]['findOne']({'where':{'_id':_0x19f1f0['_id']}},this[_0x13f267(0x2a1)][_0x13f267(0x6c1)]);if(!_0x3b466d)throw new m(_0x13f267(0x43c));let {_id:_0x4f5b3b,leadInfo:_0x417a68}=_0x19f1f0;if(!_0x4f5b3b)throw new Error(_0x13f267(0x2c3));if(_0x19f1f0['delete']==='all')return await this['deleteChat'](_0x19f1f0[_0x13f267(0x579)]),await this[_0x13f267(0x20b)][_0x13f267(0x789)][_0x13f267(0x42f)]({'where':{'_id':_0x19f1f0[_0x13f267(0x579)]}},this[_0x13f267(0x2a1)][_0x13f267(0x6c1)]),await this[_0x13f267(0x20b)][_0x13f267(0x80a)]['delete']({'where':{'key':{'remoteJid':_0x19f1f0[_0x13f267(0x579)]}}},this[_0x13f267(0x2a1)]['wuid']),_0x19f1f0=await this[_0x13f267(0x20b)]['chat'][_0x13f267(0x41a)]({'where':{'_id':_0x19f1f0['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x13f267(0x2a1)][_0x13f267(0x6c1)]),F(this[_0x13f267(0x87e)],'chats',{'chat':_0x19f1f0}),{'message':_0x13f267(0x619)};if(_0x19f1f0['delete']===_0x13f267(0x204))return await this[_0x13f267(0x20b)][_0x13f267(0x80a)][_0x13f267(0x42f)]({'where':{'key':{'remoteJid':_0x19f1f0[_0x13f267(0x579)]}}},this[_0x13f267(0x2a1)][_0x13f267(0x6c1)]),_0x19f1f0=await this['repository'][_0x13f267(0x789)][_0x13f267(0x41a)]({'where':{'_id':_0x19f1f0[_0x13f267(0x579)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x13f267(0x2a1)][_0x13f267(0x6c1)]),F(this[_0x13f267(0x87e)],'chats',{'chat':_0x19f1f0}),{'message':_0x13f267(0x806)};let _0xe2dff1=(_0x240242,_0x537963,_0x5eb289)=>{const _0x5d34e7=_0x13f267;_0x240242&&_0x5eb289[_0x5d34e7(0x478)](_0x38ba2b=>{const _0x502342=_0x5d34e7;_0x240242[_0x38ba2b]!==void 0x0&&(_0x537963[_0x502342(0x531)+_0x38ba2b]=_0x240242[_0x38ba2b]);});},_0x1872a5={};if(_0x13f267(0x797)in _0x19f1f0&&(this[_0x13f267(0x5c7)]['verbose'](this[_0x13f267(0x87e)]+'\x20('+this[_0x13f267(0x2a1)][_0x13f267(0x6c1)]+_0x13f267(0x400)+_0x19f1f0[_0x13f267(0x579)]),_0x19f1f0['muteEndTime']=_0x19f1f0[_0x13f267(0x797)]===0x0?null:-0x1,await this[_0x13f267(0x454)][_0x13f267(0x23b)]({'mute':_0x19f1f0[_0x13f267(0x797)]},_0x19f1f0[_0x13f267(0x579)]),_0x1872a5[_0x13f267(0x797)]=Number(_0x19f1f0[_0x13f267(0x797)])),_0x417a68&&(_0xe2dff1(_0x417a68,_0x1872a5,[_0x13f267(0x4f8),_0x13f267(0x765),_0x13f267(0x24c),_0x13f267(0x3b4),_0x13f267(0x41e),'notas',_0x13f267(0x80c),_0x13f267(0x1a7),_0x13f267(0x82e),'etiquetas',_0x13f267(0x216)]),Array[_0x13f267(0x40e)](_0x417a68[_0x13f267(0x34b)])&&(_0x1872a5[_0x13f267(0x548)]=_0x417a68['customFields'][_0x13f267(0x89e)](_0x58a475=>({'_id':_0x58a475[_0x13f267(0x579)],'value':_0x58a475[_0x13f267(0x4b3)]}))),_0x19f1f0[_0x13f267(0x138)][_0x13f267(0x39b)]!==void 0x0)){let _0x3d9165=await this['repository']['label']['find']({'where':{}},this[_0x13f267(0x2a1)][_0x13f267(0x6c1)]),_0x59374e=new Set(_0x19f1f0[_0x13f267(0x138)][_0x13f267(0x39b)]||[]),_0x19bed6=new Set(_0x19f1f0[_0x13f267(0x138)][_0x13f267(0x39b)]),_0x111c1d=new Set(_0x3d9165[_0x13f267(0x89e)](_0x3827e2=>_0x3827e2[_0x13f267(0x579)])),_0x6deb8e=[..._0x19bed6][_0x13f267(0x252)](_0x4a79a4=>!_0x59374e[_0x13f267(0x567)](_0x4a79a4)&&_0x111c1d[_0x13f267(0x567)](_0x4a79a4)),_0x29d9fc=[..._0x59374e][_0x13f267(0x252)](_0x13bea3=>!_0x19bed6[_0x13f267(0x567)](_0x13bea3));if(_0x1872a5[_0x13f267(0x642)]=[..._0x59374e],_0x3b466d&&!_0x3b466d['imported']){for(let _0x5ca3b9 of _0x6deb8e)await this[_0x13f267(0x3de)](_0x5ca3b9,_0x19f1f0[_0x13f267(0x579)]),_0x59374e[_0x13f267(0x2a2)](_0x5ca3b9);for(let _0x48a589 of _0x29d9fc)await this[_0x13f267(0x4e3)](_0x48a589,_0x19f1f0['_id']),_0x59374e[_0x13f267(0x42f)](_0x48a589);}}if(_0x19f1f0[_0x13f267(0x439)]!==void 0x0&&(_0x1872a5[_0x13f267(0x439)]=Number(_0x19f1f0[_0x13f267(0x439)])),Object[_0x13f267(0x57b)](_0x1872a5)[_0x13f267(0x3b3)]===0x0)throw new Error(_0x13f267(0x11a));let _0x41718b=await this[_0x13f267(0x20b)][_0x13f267(0x789)][_0x13f267(0x41a)]({'where':{'_id':_0x19f1f0['_id']}},_0x1872a5,this[_0x13f267(0x2a1)][_0x13f267(0x6c1)]);return _0x41718b&&F(this[_0x13f267(0x87e)],_0x13f267(0x5dd),{'chat':_0x41718b}),_0x41718b?(this[_0x13f267(0x5c7)][_0x13f267(0x7df)](this[_0x13f267(0x87e)]+'\x20('+this['instance']['wuid']+'):\x20'+JSON['stringify'](_0x41718b,null,0x2)),_0x41718b):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x447e6a){let _0x4ca1f2='Erro\x20ao\x20editar\x20o\x20chat',_0xbd93a5=_0x447e6a instanceof Error?_0x447e6a['message']:typeof _0x447e6a==_0x13f267(0x79d)?JSON[_0x13f267(0x751)](_0x447e6a):_0x447e6a,_0x42bbe7=_0x4ca1f2+':\x20'+_0xbd93a5;throw this['logger'][_0x13f267(0x6f3)](this[_0x13f267(0x87e)]+'\x20('+this[_0x13f267(0x2a1)][_0x13f267(0x6c1)]+'):\x20'+_0x42bbe7),new m(_0x42bbe7);}}async[a0_0x5ae34c(0x3de)](_0x2a3bc4,_0x461282){const _0x17d886=a0_0x5ae34c;try{await this[_0x17d886(0x454)][_0x17d886(0x54e)](_0x461282,_0x2a3bc4),this[_0x17d886(0x5c7)][_0x17d886(0x31c)](this[_0x17d886(0x87e)]+'\x20('+this[_0x17d886(0x2a1)][_0x17d886(0x6c1)]+_0x17d886(0x1fd)+_0x2a3bc4+_0x17d886(0x896)+_0x461282+_0x17d886(0x132));}catch(_0x326efb){this[_0x17d886(0x5c7)][_0x17d886(0x6f3)](_0x17d886(0x274)+_0x2a3bc4+_0x17d886(0x257)+_0x461282+':\x20'+_0x326efb);}}async[a0_0x5ae34c(0x4e3)](_0x5ae202,_0x18491b){const _0x442c95=a0_0x5ae34c;try{await this['client'][_0x442c95(0x50d)](_0x18491b,_0x5ae202),this['logger'][_0x442c95(0x31c)](this[_0x442c95(0x87e)]+'\x20('+this['instance'][_0x442c95(0x6c1)]+_0x442c95(0x1fd)+_0x5ae202+_0x442c95(0x4e6)+_0x18491b+_0x442c95(0x132));}catch(_0x48ce8b){this[_0x442c95(0x5c7)][_0x442c95(0x6f3)](_0x442c95(0x1dd)+_0x5ae202+_0x442c95(0x19c)+_0x18491b+':\x20'+_0x48ce8b);}}async['updateAgent'](_0xda2d03){const _0x160a37=a0_0x5ae34c;try{let _0x40f5dd=await this[_0x160a37(0x20b)][_0x160a37(0x570)][_0x160a37(0x20f)](this['instance']['wuid']),_0x15599b=_0xda2d03[_0x160a37(0x579)]?_0x40f5dd[_0x160a37(0x5e2)]['findIndex'](_0x374580=>_0x374580[_0x160a37(0x579)]===_0xda2d03['_id']):-0x1;if(_0xda2d03['delete']&&_0x15599b>-0x1)_0x40f5dd[_0x160a37(0x5e2)]['splice'](_0x15599b,0x1);else{if(_0x15599b>-0x1){let _0x1ff6f1=_0x40f5dd['agents'][_0x15599b];_0xda2d03['fone']&&(_0x1ff6f1[_0x160a37(0x232)]=_0xda2d03[_0x160a37(0x232)]),_0xda2d03[_0x160a37(0x48b)]&&(_0x1ff6f1[_0x160a37(0x48b)]=_0xda2d03[_0x160a37(0x48b)]),_0xda2d03[_0x160a37(0x24c)]&&(_0x1ff6f1['email']=_0xda2d03['email']),_0xda2d03[_0x160a37(0x777)]&&(_0x1ff6f1[_0x160a37(0x777)]=_0xda2d03[_0x160a37(0x777)]);}else _0x40f5dd[_0x160a37(0x5e2)][_0x160a37(0x6dd)]({'_id':_0xda2d03['_id']||new pe[(_0x160a37(0x509))][(_0x160a37(0x82b))]['ObjectId']()[_0x160a37(0x663)](),'fone':_0xda2d03[_0x160a37(0x232)],'name':_0xda2d03[_0x160a37(0x48b)],'email':_0xda2d03[_0x160a37(0x24c)],'role':_0xda2d03[_0x160a37(0x777)]});}let _0x850b12={'agents':_0x40f5dd[_0x160a37(0x5e2)]},_0x257ce9=await this['repository']['automateSystem'][_0x160a37(0x15a)](_0x850b12,this[_0x160a37(0x2a1)]['wuid']);return this['AutomateSystem']=_0x257ce9,this['logger'][_0x160a37(0x7df)](this[_0x160a37(0x87e)]+'\x20('+this['instance']['wuid']+'):\x20alterando\x20this.AutomateSystem'),this[_0x160a37(0x5c7)][_0x160a37(0x7df)](this[_0x160a37(0x87e)]+'\x20('+this[_0x160a37(0x2a1)][_0x160a37(0x6c1)]+'):\x20'+this[_0x160a37(0x541)]),_0x257ce9;}catch(_0x457961){let _0x931551='Erro\x20ao\x20editar\x20agentes',_0x11562a=_0x457961 instanceof Error?_0x457961[_0x160a37(0x80a)]:typeof _0x457961==_0x160a37(0x79d)?JSON[_0x160a37(0x751)](_0x457961):_0x457961,_0x5047e3=_0x931551+':\x20'+_0x11562a;throw this[_0x160a37(0x5c7)][_0x160a37(0x6f3)](this[_0x160a37(0x87e)]+'\x20('+this[_0x160a37(0x2a1)][_0x160a37(0x6c1)]+'):\x20'+_0x5047e3),new m(_0x5047e3);}}async[a0_0x5ae34c(0x624)](_0x3765f3){const _0x442eaa=a0_0x5ae34c;try{let _0x21bf6e=await this[_0x442eaa(0x20b)][_0x442eaa(0x570)][_0x442eaa(0x20f)](this[_0x442eaa(0x2a1)][_0x442eaa(0x6c1)]),_0x3625cd=_0x3765f3['_id']?_0x21bf6e[_0x442eaa(0x34b)][_0x442eaa(0x4b8)](_0x3ce792=>_0x3ce792[_0x442eaa(0x579)]===_0x3765f3[_0x442eaa(0x579)]):-0x1,_0x17fd1b=!0x1,_0x1c2316=_0x21bf6e[_0x442eaa(0x34b)][_0x442eaa(0x6b2)](_0x581e48=>_0x581e48['order']===_0x3765f3['order']);if(_0x3765f3[_0x442eaa(0x42f)]&&_0x3625cd>-0x1)_0x21bf6e[_0x442eaa(0x34b)][_0x442eaa(0x247)](_0x3625cd,0x1),_0x17fd1b=!0x0;else{if(_0x3625cd>-0x1){if(_0x21bf6e['customFields'][_0x442eaa(0x6b2)](_0x232459=>_0x232459[_0x442eaa(0x48b)]===_0x3765f3['name']&&_0x232459['_id']!==_0x3765f3[_0x442eaa(0x579)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x40d9e0=_0x21bf6e[_0x442eaa(0x34b)][_0x3625cd];_0x3765f3[_0x442eaa(0x7b4)]&&(_0x1c2316||!Number[_0x442eaa(0x760)](_0x3765f3[_0x442eaa(0x7b4)]))&&(_0x40d9e0[_0x442eaa(0x7b4)]=_0x3765f3[_0x442eaa(0x7b4)],_0x17fd1b=!0x0),_0x3765f3[_0x442eaa(0x48b)]&&(_0x40d9e0['name']=_0x3765f3[_0x442eaa(0x48b)]);}else{if(_0x21bf6e[_0x442eaa(0x34b)][_0x442eaa(0x6b2)](_0x27e895=>_0x27e895['name']===_0x3765f3['name']&&_0x27e895[_0x442eaa(0x579)]!==_0x3765f3['_id']))throw new Error(_0x442eaa(0x327));_0x21bf6e[_0x442eaa(0x34b)][_0x442eaa(0x6dd)]({'_id':_0x3765f3['_id']||new pe[(_0x442eaa(0x509))]['Types'][(_0x442eaa(0x3b5))]()[_0x442eaa(0x663)](),'order':_0x3765f3['order'],'name':_0x3765f3[_0x442eaa(0x48b)]}),_0x17fd1b=!0x0;}}if(_0x17fd1b){_0x21bf6e[_0x442eaa(0x34b)][_0x442eaa(0x3dc)]((_0x505d3a,_0x29738f)=>_0x505d3a['order']>_0x29738f[_0x442eaa(0x7b4)]?0x1:_0x29738f[_0x442eaa(0x7b4)]>_0x505d3a[_0x442eaa(0x7b4)]?-0x1:0x0);for(let _0x416125=0x0;_0x416125<_0x21bf6e[_0x442eaa(0x34b)]['length'];_0x416125++)_0x21bf6e[_0x442eaa(0x34b)][_0x416125]['order']=_0x416125+0x1;}let _0x4d0455=await this[_0x442eaa(0x20b)]['automateSystem'][_0x442eaa(0x15a)](_0x21bf6e,this[_0x442eaa(0x2a1)]['wuid']);return this[_0x442eaa(0x541)]=_0x4d0455,this['logger'][_0x442eaa(0x7df)](this[_0x442eaa(0x87e)]+'\x20('+this[_0x442eaa(0x2a1)][_0x442eaa(0x6c1)]+_0x442eaa(0x65e)),this[_0x442eaa(0x5c7)]['verbose'](this[_0x442eaa(0x87e)]+'\x20('+this['instance'][_0x442eaa(0x6c1)]+_0x442eaa(0x77c)+this[_0x442eaa(0x541)]),_0x4d0455;}catch(_0x4b6461){let _0x2f0de2=_0x442eaa(0x2f2),_0x25484a=_0x4b6461 instanceof Error?_0x4b6461[_0x442eaa(0x80a)]:typeof _0x4b6461==_0x442eaa(0x79d)?JSON[_0x442eaa(0x751)](_0x4b6461):_0x4b6461,_0x32ccbd=_0x2f0de2+':\x20'+_0x25484a;throw this[_0x442eaa(0x5c7)][_0x442eaa(0x6f3)](this['instanceName']+'\x20('+this[_0x442eaa(0x2a1)]['wuid']+_0x442eaa(0x77c)+_0x32ccbd),new m(_0x32ccbd);}}async['updateAutoCompleteMessages'](_0x4194d1){const _0x4440cb=a0_0x5ae34c;try{let _0x16976b=await this[_0x4440cb(0x20b)][_0x4440cb(0x570)]['findOrCreate'](this['instance'][_0x4440cb(0x6c1)]),_0x552c59=_0x16976b?.[_0x4440cb(0x56b)]?.[_0x4440cb(0x4b8)](_0xe3e90e=>_0xe3e90e[_0x4440cb(0x579)]===_0x4194d1?.[_0x4440cb(0x579)]);if(_0x4194d1?.[_0x4440cb(0x42f)])_0x552c59>-0x1&&_0x16976b?.[_0x4440cb(0x56b)]?.['splice'](_0x552c59,0x1);else{if(_0x552c59>-0x1){let _0xfb1eb2=_0x16976b['autoCompleteMessages'][_0x552c59];_0xfb1eb2[_0x4440cb(0x7b4)]=_0x4194d1?.['order']||_0xfb1eb2['order'],_0xfb1eb2[_0x4440cb(0x114)]=_0x4194d1?.[_0x4440cb(0x114)]||_0xfb1eb2['command'],_0xfb1eb2[_0x4440cb(0x80a)]=_0x4194d1?.[_0x4440cb(0x80a)]||_0xfb1eb2[_0x4440cb(0x80a)];}else{let _0x5c109d={'_id':_0x4194d1?.[_0x4440cb(0x579)]||new pe[(_0x4440cb(0x509))]['Types'][(_0x4440cb(0x3b5))]()['toString'](),'order':_0x4194d1?.['order'],'command':_0x4194d1?.[_0x4440cb(0x114)],'message':_0x4194d1?.['message']};_0x16976b?.[_0x4440cb(0x56b)]?.[_0x4440cb(0x6dd)](_0x5c109d);}}_0x16976b?.[_0x4440cb(0x56b)]?.[_0x4440cb(0x3dc)]((_0x5af3e3,_0x21eb4b)=>_0x5af3e3[_0x4440cb(0x7b4)]-_0x21eb4b['order']);let _0x6c42e8=await this[_0x4440cb(0x20b)][_0x4440cb(0x570)][_0x4440cb(0x15a)](_0x16976b,this[_0x4440cb(0x2a1)][_0x4440cb(0x6c1)]);return this[_0x4440cb(0x541)]=_0x6c42e8,this[_0x4440cb(0x5c7)][_0x4440cb(0x7df)](this[_0x4440cb(0x87e)]+'\x20('+this['instance'][_0x4440cb(0x6c1)]+_0x4440cb(0x65e)),_0x6c42e8;}catch(_0x35fa14){let _0x1effca=_0x4440cb(0x7e7),_0x610465=_0x35fa14 instanceof Error?_0x35fa14['message']:typeof _0x35fa14==_0x4440cb(0x79d)?JSON[_0x4440cb(0x751)](_0x35fa14):_0x35fa14,_0x49f064=_0x1effca+':\x20'+_0x610465;throw this[_0x4440cb(0x5c7)][_0x4440cb(0x6f3)](this['instanceName']+'\x20('+this[_0x4440cb(0x2a1)][_0x4440cb(0x6c1)]+_0x4440cb(0x77c)+_0x49f064),new m(_0x49f064);}}async[a0_0x5ae34c(0x28e)](_0x93aea2){const _0x5f1841=a0_0x5ae34c;try{let _0x54a96f=await this[_0x5f1841(0x20b)][_0x5f1841(0x570)][_0x5f1841(0x20f)](this[_0x5f1841(0x2a1)][_0x5f1841(0x6c1)]);if(!_0x54a96f)throw new Error(_0x5f1841(0x430));let _0x4f0739={'_id':_0x54a96f['_id'],'flowConfig':{'enabled':_0x93aea2['enabled']??_0x54a96f['flowConfig']['enabled'],'ignoreGroups':_0x93aea2['ignoreGroups']??_0x54a96f[_0x5f1841(0x670)][_0x5f1841(0x370)],'stopConversation':_0x93aea2['stopConversation']['trim']()??_0x54a96f[_0x5f1841(0x670)][_0x5f1841(0x5ed)][_0x5f1841(0x1b6)](),'stopMinutes':_0x93aea2[_0x5f1841(0x271)]??_0x54a96f[_0x5f1841(0x670)][_0x5f1841(0x271)],'stopWhenYouSendMsg':_0x93aea2[_0x5f1841(0x737)]??_0x54a96f[_0x5f1841(0x670)][_0x5f1841(0x737)]}},_0x522933=await this['repository'][_0x5f1841(0x570)]['update'](_0x4f0739,this[_0x5f1841(0x2a1)][_0x5f1841(0x6c1)]);return this[_0x5f1841(0x541)]=_0x522933,this[_0x5f1841(0x5c7)][_0x5f1841(0x7df)](this[_0x5f1841(0x87e)]+'\x20('+this[_0x5f1841(0x2a1)][_0x5f1841(0x6c1)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x5f1841(0x5c7)][_0x5f1841(0x7df)](this[_0x5f1841(0x87e)]+'\x20('+this[_0x5f1841(0x2a1)][_0x5f1841(0x6c1)]+_0x5f1841(0x77c)+this[_0x5f1841(0x541)]),setTimeout(()=>this[_0x5f1841(0x61f)](),0x7d0),_0x522933;}catch(_0x4bf440){let _0x38039f=_0x5f1841(0x739),_0x30de03=_0x4bf440 instanceof Error?_0x4bf440[_0x5f1841(0x80a)]:typeof _0x4bf440==_0x5f1841(0x79d)?JSON[_0x5f1841(0x751)](_0x4bf440):_0x4bf440,_0x50c5d6=_0x38039f+':\x20'+_0x30de03;throw this[_0x5f1841(0x5c7)][_0x5f1841(0x6f3)](this['instanceName']+'\x20('+this[_0x5f1841(0x2a1)]['wuid']+'):\x20'+_0x50c5d6),new m(_0x50c5d6);}}async[a0_0x5ae34c(0x278)](){const _0x3353fc=a0_0x5ae34c;try{let _0x53f5dc=await this['repository'][_0x3353fc(0x570)][_0x3353fc(0x20f)](this['instance'][_0x3353fc(0x6c1)]);return this[_0x3353fc(0x541)]=_0x53f5dc,_0x53f5dc;}catch(_0x4adef1){let _0x59fc60=_0x3353fc(0x45a),_0xc38b2f=_0x4adef1 instanceof Error?_0x4adef1[_0x3353fc(0x80a)]:typeof _0x4adef1=='object'?JSON[_0x3353fc(0x751)](_0x4adef1):_0x4adef1,_0x45ee3a=_0x59fc60+':\x20'+_0xc38b2f;throw this['logger'][_0x3353fc(0x6f3)](this[_0x3353fc(0x87e)]+'\x20('+this['instance'][_0x3353fc(0x6c1)]+'):\x20'+_0x45ee3a),new m(_0x45ee3a);}}async[a0_0x5ae34c(0x67d)](){const _0x4652ad=a0_0x5ae34c;let _0x3aaa43=(await import('p-queue'))[_0x4652ad(0x509)];this[_0x4652ad(0x686)]=new _0x3aaa43({'concurrency':0x1});}async[a0_0x5ae34c(0x3a5)](){const _0x5ee0d5=a0_0x5ae34c;this[_0x5ee0d5(0x2a1)]['ScheduleMessage'][_0x5ee0d5(0x38b)]&&clearTimeout(this[_0x5ee0d5(0x2a1)][_0x5ee0d5(0x459)][_0x5ee0d5(0x38b)]),this['instance'][_0x5ee0d5(0x459)][_0x5ee0d5(0x38b)]=setTimeout(()=>{const _0x2eee62=_0x5ee0d5;this[_0x2eee62(0x218)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x5ae34c(0x218)](){const _0x21bdab=a0_0x5ae34c;let _0x98cc26=this[_0x21bdab(0x2a1)][_0x21bdab(0x459)]['lastSend'];(_0x98cc26===0x0||_0x98cc26===null||Date['now']()-_0x98cc26>=0x1d4c0)&&(this[_0x21bdab(0x5c7)][_0x21bdab(0x7df)](this['instanceName']+'\x20('+this[_0x21bdab(0x2a1)][_0x21bdab(0x6c1)]+_0x21bdab(0x69c)),this[_0x21bdab(0x2a1)][_0x21bdab(0x459)][_0x21bdab(0x841)]=null,this['instance'][_0x21bdab(0x459)][_0x21bdab(0x600)]=0x0,this[_0x21bdab(0x2a1)]['ScheduleMessage']['delayMessage']=0x0,await this[_0x21bdab(0x61f)]());}async[a0_0x5ae34c(0x61f)](){const _0x3919d4=a0_0x5ae34c;this[_0x3919d4(0x5c7)][_0x3919d4(0x4cf)](this[_0x3919d4(0x87e)]+'\x20('+this[_0x3919d4(0x2a1)][_0x3919d4(0x6c1)]+_0x3919d4(0x197)),await this[_0x3919d4(0x153)]();let _0xcbae81=await this['getReadyToSendMessages']();_0xcbae81[_0x3919d4(0x3b3)]>0x0&&(setTimeout(()=>this['checkAndRestartProcess'](),0x14*0x3e8),this[_0x3919d4(0x5c7)][_0x3919d4(0x4cf)](this['instanceName']+'\x20('+this[_0x3919d4(0x2a1)][_0x3919d4(0x6c1)]+_0x3919d4(0x750)),this[_0x3919d4(0x686)][_0x3919d4(0x1f0)](),this[_0x3919d4(0x686)][_0x3919d4(0x2a2)](()=>this[_0x3919d4(0x569)](_0xcbae81)));let _0x232575={'where':{'status':_0x3919d4(0x1d1),'when':{'$gt':Date[_0x3919d4(0x776)]()}}},_0x44809c=await this[_0x3919d4(0x20b)]['scheduleMessage'][_0x3919d4(0x875)](_0x232575,this['instance'][_0x3919d4(0x6c1)]);_0x44809c&&_0x44809c['when']-Date['now']()<=0x6ddd00?this[_0x3919d4(0x2a1)]['ScheduleMessage'][_0x3919d4(0x709)]=_0x44809c[_0x3919d4(0x2dc)]-Date[_0x3919d4(0x776)]():this['instance']['ScheduleMessage'][_0x3919d4(0x709)]=(0x3c+Math[_0x3919d4(0x7f0)](Math[_0x3919d4(0x302)]()*0x3c))*0x3c*0x3e8,this[_0x3919d4(0x2a1)][_0x3919d4(0x459)][_0x3919d4(0x709)]=Math['max'](this[_0x3919d4(0x2a1)][_0x3919d4(0x459)][_0x3919d4(0x709)],0x1*0x2*0x3e8);let _0x45e74b=Math[_0x3919d4(0x872)](this[_0x3919d4(0x2a1)][_0x3919d4(0x459)][_0x3919d4(0x709)]/0xea60);if(_0x44809c){let _0x32b1e8=new Date(_0x44809c[_0x3919d4(0x2dc)])[_0x3919d4(0x5cc)]();this['logger'][_0x3919d4(0x4cf)](this[_0x3919d4(0x87e)]+'\x20('+this[_0x3919d4(0x2a1)]['wuid']+'):\x20Encontrado\x20próxima\x20mensagem\x20para\x20'+_0x32b1e8+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x45e74b+_0x3919d4(0x744));}else this[_0x3919d4(0x5c7)][_0x3919d4(0x4cf)](this['instanceName']+'\x20('+this[_0x3919d4(0x2a1)][_0x3919d4(0x6c1)]+'):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x45e74b+_0x3919d4(0x744));setTimeout(()=>{const _0x5a38cc=_0x3919d4;this[_0x5a38cc(0x61f)]();},this[_0x3919d4(0x2a1)][_0x3919d4(0x459)]['delayMessage']);}async[a0_0x5ae34c(0x6f4)](){const _0x59fed6=a0_0x5ae34c;this[_0x59fed6(0x5c7)][_0x59fed6(0x4cf)](this['instanceName']+'\x20('+this[_0x59fed6(0x2a1)][_0x59fed6(0x6c1)]+_0x59fed6(0x468));let _0x1f0a10=Date[_0x59fed6(0x776)]()-0xc*0x3c*0x3c*0x3e8,_0x23135c={'where':{'status':{'$in':[_0x59fed6(0x1d1),'sending']},'$or':[{'when':{'$lte':Date[_0x59fed6(0x776)](),'$gte':_0x1f0a10}},{'when':0x0}]}},_0x302451=await this[_0x59fed6(0x20b)]['scheduleMessage'][_0x59fed6(0x42c)](_0x23135c,this['instance'][_0x59fed6(0x6c1)]);return this[_0x59fed6(0x5c7)][_0x59fed6(0x4cf)](this[_0x59fed6(0x87e)]+'\x20('+this[_0x59fed6(0x2a1)]['wuid']+_0x59fed6(0x19f)+_0x302451[_0x59fed6(0x3b3)]),_0x302451;}async[a0_0x5ae34c(0x569)](_0x48aff4){const _0x3800ab=a0_0x5ae34c;this['logger']['warn'](this[_0x3800ab(0x87e)]+'\x20('+this['instance']['wuid']+_0x3800ab(0x52f));let _0x57e3c6=0x3*0x3e8,_0x46b238=0x8*0x3e8,_0x21a89b=Math[_0x3800ab(0x7f0)](Math[_0x3800ab(0x302)]()*(_0x46b238-_0x57e3c6+0x1))+_0x57e3c6,_0x58ee2f=()=>this['pendingMessages']['length']===0x0?null:this[_0x3800ab(0x117)][_0x3800ab(0x39d)]((_0x5a7911,_0x3707cb)=>(_0x5a7911[_0x3800ab(0x7b4)]??Number[_0x3800ab(0x2f0)])<(_0x3707cb['order']??Number[_0x3800ab(0x2f0)])?_0x5a7911:_0x3707cb,this['pendingMessages'][0x0]);_0x48aff4=await this[_0x3800ab(0x6f4)]();for(let _0x52b765 of _0x48aff4){await this[_0x3800ab(0x3a5)]();let _0x68a641=0x3*0x3e8,_0x1447bc={'_id':_0x52b765['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-_0x68a641}}]},_0x5f100e={'startSend':Date[_0x3800ab(0x776)](),'status':'sending'},_0x1996ba=await this[_0x3800ab(0x20b)][_0x3800ab(0x4a2)][_0x3800ab(0x41a)](_0x1447bc,_0x5f100e,this[_0x3800ab(0x2a1)]['wuid']);if(this[_0x3800ab(0x117)]=_0x1996ba['messages'][_0x3800ab(0x252)](_0x37254a=>!_0x37254a[_0x3800ab(0x6d7)]),!_0x1996ba){setTimeout(()=>this[_0x3800ab(0x218)](),0xa*0x3e8);continue;}if(this[_0x3800ab(0x2a1)]['ScheduleMessage'][_0x3800ab(0x841)]=_0x1996ba,!this[_0x3800ab(0x2a1)][_0x3800ab(0x459)]['isConnected']){this[_0x3800ab(0x5c7)][_0x3800ab(0x4cf)](this[_0x3800ab(0x87e)]+'\x20('+this[_0x3800ab(0x2a1)][_0x3800ab(0x6c1)]+_0x3800ab(0x2a0));break;}for(;this[_0x3800ab(0x117)][_0x3800ab(0x3b3)]>0x0;){await this['setRestartTimeout']();let _0x5dc942=_0x58ee2f();if(!_0x5dc942)break;let _0x16f700=_0x52b765[_0x3800ab(0x204)][_0x3800ab(0x42c)](_0x572d67=>_0x572d67[_0x3800ab(0x579)]===_0x5dc942[_0x3800ab(0x579)]);if(!_0x16f700)break;if(this[_0x3800ab(0x2a1)][_0x3800ab(0x459)][_0x3800ab(0x600)]=Date['now'](),_0x16f700[_0x3800ab(0x6d7)]){this[_0x3800ab(0x5c7)]['warn'](this[_0x3800ab(0x87e)]+'\x20('+this[_0x3800ab(0x2a1)][_0x3800ab(0x6c1)]+_0x3800ab(0x4df)+_0x16f700[_0x3800ab(0x668)]+_0x3800ab(0x4dd)),this[_0x3800ab(0x117)]=this[_0x3800ab(0x117)]['filter'](_0x1bc494=>_0x1bc494['_id']!==_0x16f700['_id']);continue;}if(!this[_0x3800ab(0x2a1)]['ScheduleMessage'][_0x3800ab(0x6a1)]){this[_0x3800ab(0x5c7)]['warn'](this[_0x3800ab(0x87e)]+'\x20('+this[_0x3800ab(0x2a1)][_0x3800ab(0x6c1)]+_0x3800ab(0x5eb));break;}if(!this[_0x3800ab(0x2a1)][_0x3800ab(0x459)]['processingGroup']){this[_0x3800ab(0x5c7)][_0x3800ab(0x4cf)](this[_0x3800ab(0x87e)]+'\x20('+this[_0x3800ab(0x2a1)]['wuid']+_0x3800ab(0x6b0)+_0x52b765[_0x3800ab(0x579)]+_0x3800ab(0x298));break;}let _0x4d5d11={'idControl':_0x16f700[_0x3800ab(0x579)],'remoteJid':_0x16f700[_0x3800ab(0x668)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x3800ab(0x776)]()},_0x49c46e=null;try{this['logger'][_0x3800ab(0x4cf)](this['instanceName']+'\x20('+this[_0x3800ab(0x2a1)]['wuid']+_0x3800ab(0x5c3)+_0x16f700['remoteJid']);let _0x8f4e05=await Promise[_0x3800ab(0x190)]([this[_0x3800ab(0x456)](_0x16f700[_0x3800ab(0x668)],_0x16f700),this[_0x3800ab(0x7be)](0x78*0x3e8)]);_0x4d5d11[_0x3800ab(0x6f3)]=_0x8f4e05[_0x3800ab(0x6f3)],_0x4d5d11['id']=_0x8f4e05['error']?null:_0x8f4e05['id'],_0x4d5d11[_0x3800ab(0x293)]=_0x8f4e05[_0x3800ab(0x6f3)]?_0x8f4e05[_0x3800ab(0x5d7)]?_0x8f4e05[_0x3800ab(0x5d7)][_0x3800ab(0x663)]():'':null;let _0x2f7f91=_0x52b765[_0x3800ab(0x204)][_0x3800ab(0x4b8)](_0x4c8cf6=>_0x4c8cf6[_0x3800ab(0x579)]===_0x16f700[_0x3800ab(0x579)]);_0x2f7f91!==-0x1&&(_0x52b765[_0x3800ab(0x204)][_0x2f7f91][_0x3800ab(0x6d7)]=!0x0);let _0x58bfbe={'$push':{'messagesSend':_0x4d5d11},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x5bc819=[{'elem._id':_0x16f700[_0x3800ab(0x579)]}];if(this[_0x3800ab(0x5c7)]['warn'](this['instanceName']+'\x20('+this[_0x3800ab(0x2a1)][_0x3800ab(0x6c1)]+_0x3800ab(0x366)+_0x16f700[_0x3800ab(0x579)]),_0x49c46e=await this[_0x3800ab(0x20b)][_0x3800ab(0x4a2)][_0x3800ab(0x41a)]({'_id':_0x52b765[_0x3800ab(0x579)]},_0x58bfbe,this['instance']['wuid'],{'arrayFilters':_0x5bc819}),_0x8f4e05['error']){this['logger'][_0x3800ab(0x6f3)](this['instanceName']+'\x20('+this[_0x3800ab(0x2a1)][_0x3800ab(0x6c1)]+_0x3800ab(0x227)+_0x8f4e05['detail']);continue;}let _0x59f99b=this['getDelay'](_0x52b765[_0x3800ab(0x170)],_0x52b765[_0x3800ab(0x415)]);await this[_0x3800ab(0x537)](_0x59f99b);}catch(_0x57740a){this['logger'][_0x3800ab(0x6f3)](this[_0x3800ab(0x87e)]+'\x20('+this[_0x3800ab(0x2a1)][_0x3800ab(0x6c1)]+_0x3800ab(0x764)+_0x16f700['remoteJid']+':\x20'+(_0x57740a instanceof Error?_0x57740a[_0x3800ab(0x80a)]:JSON[_0x3800ab(0x751)](_0x57740a,null,0x2))),_0x4d5d11[_0x3800ab(0x6f3)]=!0x0,_0x4d5d11['error_log']=_0x57740a['message'];let _0x2f5df6=_0x52b765[_0x3800ab(0x204)][_0x3800ab(0x4b8)](_0x2bf96a=>_0x2bf96a[_0x3800ab(0x579)]===_0x16f700['_id']);_0x2f5df6!==-0x1&&(_0x52b765[_0x3800ab(0x204)][_0x2f5df6]['triedToSend']=!0x0);let _0x4910e7={'$push':{'messagesSend':_0x4d5d11},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x2f597f=[{'elem._id':_0x16f700[_0x3800ab(0x579)]}];this[_0x3800ab(0x5c7)]['warn'](this[_0x3800ab(0x87e)]+'\x20('+this[_0x3800ab(0x2a1)][_0x3800ab(0x6c1)]+_0x3800ab(0x207)+_0x16f700[_0x3800ab(0x579)]),_0x49c46e=await this[_0x3800ab(0x20b)][_0x3800ab(0x4a2)][_0x3800ab(0x41a)]({'_id':_0x52b765[_0x3800ab(0x579)]},_0x4910e7,this[_0x3800ab(0x2a1)][_0x3800ab(0x6c1)],{'arrayFilters':_0x2f597f});}finally{if(_0x49c46e&&_0x49c46e['status']===_0x3800ab(0x5bc)){this[_0x3800ab(0x5c7)][_0x3800ab(0x4cf)](this[_0x3800ab(0x87e)]+'\x20('+this[_0x3800ab(0x2a1)][_0x3800ab(0x6c1)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x16f700[_0x3800ab(0x579)]+_0x3800ab(0x7f3));break;}let _0x54e638=_0x49c46e[_0x3800ab(0x204)]['find'](_0x51c57a=>_0x51c57a['_id']===_0x16f700[_0x3800ab(0x579)]);if(_0x54e638&&!_0x54e638[_0x3800ab(0x6d7)]){let _0x2930a9={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x5677f4=[{'elem._id':_0x16f700[_0x3800ab(0x579)]}];await this[_0x3800ab(0x20b)]['scheduleMessage']['updateOne']({'_id':_0x49c46e[_0x3800ab(0x579)]},_0x2930a9,this[_0x3800ab(0x2a1)]['wuid'],{'arrayFilters':_0x5677f4});}if(this['pendingMessages']=_0x49c46e[_0x3800ab(0x204)][_0x3800ab(0x252)](_0x357e86=>!_0x357e86['triedToSend']),!this[_0x3800ab(0x2a1)]['ScheduleMessage'][_0x3800ab(0x841)]){await this[_0x3800ab(0x3a5)](),this[_0x3800ab(0x5c7)][_0x3800ab(0x4cf)](this[_0x3800ab(0x87e)]+'\x20('+this['instance'][_0x3800ab(0x6c1)]+_0x3800ab(0x6b0)+_0x52b765[_0x3800ab(0x579)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}}}this[_0x3800ab(0x117)]=[];let _0x2089de=await this['repository'][_0x3800ab(0x4a2)][_0x3800ab(0x871)](_0x52b765[_0x3800ab(0x579)],this[_0x3800ab(0x2a1)][_0x3800ab(0x6c1)]);if(_0x2089de[_0x3800ab(0x204)][_0x3800ab(0x174)](_0xc50d96=>_0xc50d96['triedToSend'])&&_0x2089de[_0x3800ab(0x41e)]!=='stopped'){let _0x135a65={'$set':{'status':_0x3800ab(0x5fc)}};await this[_0x3800ab(0x20b)][_0x3800ab(0x4a2)][_0x3800ab(0x78f)](_0x2089de[_0x3800ab(0x579)],_0x135a65,this['instance'][_0x3800ab(0x6c1)]);}await new Promise(_0x294861=>setTimeout(_0x294861,_0x21a89b)),global['gc']?global['gc']():console[_0x3800ab(0x4cf)](_0x3800ab(0x2aa));}}[a0_0x5ae34c(0x7be)](_0x21f454){const _0x13dcbd=a0_0x5ae34c;return new Promise((_0x234dcc,_0x39e453)=>setTimeout(()=>_0x39e453(new Error(_0x13dcbd(0x6f6))),_0x21f454));}[a0_0x5ae34c(0x2ac)](_0x38348e,_0x3f5394){const _0x74b9d6=a0_0x5ae34c;return _0x38348e=Math[_0x74b9d6(0x320)](0.5,_0x38348e),_0x3f5394=Math[_0x74b9d6(0x60d)](Math[_0x74b9d6(0x320)](0x3,_0x3f5394),0x78),Math[_0x74b9d6(0x7f0)](Math[_0x74b9d6(0x302)]()*(_0x3f5394-_0x38348e+0x1)+_0x38348e)*0x3e8;}[a0_0x5ae34c(0x537)](_0x4100df){return new Promise(_0x1bdf50=>setTimeout(_0x1bdf50,_0x4100df));}async[a0_0x5ae34c(0x826)](_0x2a230f){const _0xf7c655=a0_0x5ae34c;if(!this[_0xf7c655(0x541)]&&(await this[_0xf7c655(0x278)](),!this[_0xf7c655(0x541)]))return null;_0x2a230f=this[_0xf7c655(0x4d3)](_0x2a230f);let _0x33324e=await this['repository'][_0xf7c655(0x789)]['findOne']({'where':{'_id':_0x2a230f}},this['instance'][_0xf7c655(0x6c1)]),_0x35eedf={};if(_0x33324e&&_0x33324e['leadInfo']){let _0x1f0675=_0x33324e[_0xf7c655(0x138)];typeof _0x1f0675['nome']==_0xf7c655(0x3ba)&&(_0x35eedf[_0xf7c655(0x4f8)]=_0x1f0675[_0xf7c655(0x4f8)]),typeof _0x1f0675['nomecompleto']==_0xf7c655(0x3ba)&&(_0x35eedf[_0xf7c655(0x765)]=_0x1f0675[_0xf7c655(0x765)]),typeof _0x1f0675['email']=='string'&&(_0x35eedf[_0xf7c655(0x24c)]=_0x1f0675[_0xf7c655(0x24c)]),typeof _0x1f0675[_0xf7c655(0x3b4)]=='string'&&(_0x35eedf[_0xf7c655(0x3b4)]=_0x1f0675[_0xf7c655(0x3b4)]),typeof _0x1f0675['status']=='string'&&(_0x35eedf['status']=_0x1f0675[_0xf7c655(0x41e)]),typeof _0x1f0675[_0xf7c655(0x6ce)]==_0xf7c655(0x3ba)&&(_0x35eedf[_0xf7c655(0x6ce)]=_0x1f0675[_0xf7c655(0x6ce)]),typeof _0x1f0675['responsavelid']==_0xf7c655(0x3ba)&&(_0x35eedf[_0xf7c655(0x82e)]=_0x1f0675[_0xf7c655(0x82e)]),Array[_0xf7c655(0x40e)](_0x1f0675[_0xf7c655(0x80c)])&&(_0x35eedf[_0xf7c655(0x80c)]=_0x1f0675[_0xf7c655(0x80c)][_0xf7c655(0x88d)](',\x20')),Array['isArray'](_0x1f0675['etiquetas'])&&(_0x35eedf[_0xf7c655(0x39b)]=_0x1f0675[_0xf7c655(0x39b)][_0xf7c655(0x88d)](',\x20'));}return _0x33324e&&_0x33324e[_0xf7c655(0x138)]&&_0x33324e[_0xf7c655(0x138)][_0xf7c655(0x34b)]&&_0x33324e[_0xf7c655(0x138)][_0xf7c655(0x34b)][_0xf7c655(0x478)](_0x28c38a=>{const _0x3f13c1=_0xf7c655;let _0x20b2d7=this[_0x3f13c1(0x541)]?.[_0x3f13c1(0x34b)][_0x3f13c1(0x42c)](_0x103501=>_0x103501[_0x3f13c1(0x579)]===_0x28c38a[_0x3f13c1(0x579)]);_0x20b2d7&&(_0x35eedf[_0x20b2d7[_0x3f13c1(0x48b)]]=_0x28c38a[_0x3f13c1(0x4b3)]);}),_0x35eedf;}async['replaceVariablesChat'](_0x4b8946,_0x355214){const _0x5d56ba=a0_0x5ae34c;try{let _0x252ce0=await this[_0x5d56ba(0x826)](_0x355214);return this[_0x5d56ba(0x659)](_0x4b8946,_0x252ce0);}catch(_0x37a943){return this[_0x5d56ba(0x5c7)][_0x5d56ba(0x6f3)](_0x5d56ba(0x533)+_0x355214+':\x20'+_0x37a943),_0x4b8946;}}async['transformScheduledMessagesByType'](){const _0x184618=a0_0x5ae34c;let _0xb20476=async(_0x658fd0,_0x42326c)=>{const _0x24e4f6=a0_0x475a;let _0x31287d=(await this[_0x24e4f6(0x20b)][_0x24e4f6(0x4a2)][_0x24e4f6(0x42c)]({'where':{'type':_0x658fd0}},this['instance']['wuid']))['map'](async _0x275d68=>{const _0x2cbec0=_0x24e4f6;let _0x2c4496=_0x42326c(_0x275d68),_0x1d4c83=_0x386b05=>/^\d+$/[_0x2cbec0(0x4d9)](_0x386b05),_0x1ab0dd=_0x275d68[_0x2cbec0(0x7e9)][_0x2cbec0(0x252)](_0x3941a8=>_0x3941a8['endsWith'](_0x2cbec0(0x5db))?_0x3941a8[_0x2cbec0(0x3b3)]>0x19:_0x3941a8[_0x2cbec0(0x267)](_0x2cbec0(0x43a))?_0x3941a8[_0x2cbec0(0x3b3)]>0xf:_0x1d4c83(_0x3941a8)?_0x3941a8[_0x2cbec0(0x3b3)]>=0xb:!0x1)[_0x2cbec0(0x89e)](_0x13b1d6=>({'_id':(0x0,Q['v4'])(),'idSchedule':_0x275d68[_0x2cbec0(0x579)],'type':_0x2c4496,'remoteJid':_0x13b1d6,'flow':_0x275d68[_0x2cbec0(0x32d)],'text':_0x275d68['message']?.[_0x2cbec0(0x24e)],'delay':_0x275d68[_0x2cbec0(0x80a)]?.[_0x2cbec0(0x371)],'urlOrBase64':_0x275d68[_0x2cbec0(0x80a)]?.['urlOrBase64'],'linkPreview':_0x275d68[_0x2cbec0(0x80a)]?.[_0x2cbec0(0x7d2)],'fileName':_0x275d68[_0x2cbec0(0x80a)]?.[_0x2cbec0(0x4e4)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x2cbec0(0x20b)][_0x2cbec0(0x4a2)][_0x2cbec0(0x78f)](_0x275d68[_0x2cbec0(0x579)],{'$set':{'messages':_0x1ab0dd},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x2cbec0(0x2a1)][_0x2cbec0(0x6c1)]);}catch(_0x158952){console[_0x2cbec0(0x6f3)](_0x2cbec0(0x7f5)+_0x275d68['_id']+':',_0x158952);}});await Promise['all'](_0x31287d);};await _0xb20476(_0x184618(0x24e),_0x8f4334=>_0x184618(0x24e)),await _0xb20476(_0x184618(0x625),_0x2e1a49=>_0x2e1a49[_0x184618(0x80a)]?.['mediatype']||_0x184618(0x625)),await _0xb20476(_0x184618(0x817),_0x411282=>_0x184618(0x817)),await _0xb20476(_0x184618(0x4e0),_0x506b01=>_0x184618(0x4e0)),await _0xb20476(_0x184618(0x86f),_0x486c91=>_0x184618(0x86f)),await _0xb20476('video',_0x47b1c3=>_0x184618(0x490)),await _0xb20476('document',_0x19176f=>_0x184618(0x1c7)),this[_0x184618(0x5c7)]['warn'](this[_0x184618(0x87e)]+'\x20('+this['instance'][_0x184618(0x6c1)]+_0x184618(0x71f));}async[a0_0x5ae34c(0x34c)](_0xdc3c44){const _0x189f3b=a0_0x5ae34c;try{if(this[_0x189f3b(0x5c7)]['warn'](this[_0x189f3b(0x87e)]+'\x20('+this['instance']['wuid']+_0x189f3b(0x47e)),_0xdc3c44[_0x189f3b(0x579)]||(_0xdc3c44['_id']=(0x0,Q['v4'])()),this[_0x189f3b(0x2a1)][_0x189f3b(0x459)][_0x189f3b(0x841)]?.[_0x189f3b(0x579)]===_0xdc3c44[_0x189f3b(0x579)]?.[_0x189f3b(0x663)]()){if(_0xdc3c44[_0x189f3b(0x41e)]==='stopped')this[_0x189f3b(0x2a1)]['ScheduleMessage'][_0x189f3b(0x841)]=null;else throw new Error(_0x189f3b(0x2e0));}if(_0xdc3c44[_0x189f3b(0x42f)]&&_0xdc3c44[_0x189f3b(0x579)]){let _0x20fd3a=await this['repository'][_0x189f3b(0x4a2)]['deleteOne'](_0xdc3c44[_0x189f3b(0x579)],this[_0x189f3b(0x2a1)]['wuid']);return setTimeout(()=>this[_0x189f3b(0x61f)](),0x7d0),_0x20fd3a;}let _0x1390aa=null;if(_0xdc3c44[_0x189f3b(0x579)]&&(_0x1390aa=await this[_0x189f3b(0x20b)][_0x189f3b(0x4a2)][_0x189f3b(0x871)](_0xdc3c44[_0x189f3b(0x579)],this[_0x189f3b(0x2a1)][_0x189f3b(0x6c1)])),_0x1390aa){let {_id:_0x292c33,owner:_0x171891,messages:_0x3bdc82,..._0xaa22da}=_0xdc3c44;if(_0x3bdc82){let _0x4274f8=_0x3bdc82[_0x189f3b(0x252)](_0x3c5acf=>!_0x3c5acf[_0x189f3b(0x579)]),_0x45f810=_0x3bdc82[_0x189f3b(0x252)](_0x52a298=>_0x52a298[_0x189f3b(0x579)]&&!_0x52a298['delete']),_0xd05b17=_0x3bdc82[_0x189f3b(0x252)](_0x4f2219=>_0x4f2219[_0x189f3b(0x579)]&&_0x4f2219[_0x189f3b(0x42f)]);if(_0x4274f8[_0x189f3b(0x3b3)]>0x0&&await this[_0x189f3b(0x55e)](_0xdc3c44['_id'],_0x4274f8),_0x45f810[_0x189f3b(0x3b3)]>0x0&&await this[_0x189f3b(0x61e)]({'_id':_0xdc3c44['_id'],'messages':_0x45f810}),_0xd05b17['length']>0x0){let _0x43dd2e=_0xd05b17['map'](_0x670881=>({'updateOne':{'filter':{'_id':_0xdc3c44['_id']},'update':{'$pull':{'messages':{'_id':_0x670881[_0x189f3b(0x579)]}}}}}));await this[_0x189f3b(0x20b)][_0x189f3b(0x4a2)][_0x189f3b(0x4ee)](_0x43dd2e,this[_0x189f3b(0x2a1)]['wuid']);}}let _0x50684c={'$set':{..._0xaa22da,'status':_0xdc3c44[_0x189f3b(0x41e)]||_0x1390aa['status']}},_0x4e7325=await this[_0x189f3b(0x20b)][_0x189f3b(0x4a2)][_0x189f3b(0x78f)](_0xdc3c44[_0x189f3b(0x579)],_0x50684c,this[_0x189f3b(0x2a1)][_0x189f3b(0x6c1)]);return _0x4e7325&&(this['reorderMessages'](_0x4e7325[_0x189f3b(0x204)]),await this['repository'][_0x189f3b(0x4a2)][_0x189f3b(0x78f)](_0x4e7325[_0x189f3b(0x579)],{'$set':{'messages':_0x4e7325['messages']}},this[_0x189f3b(0x2a1)][_0x189f3b(0x6c1)])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),await this[_0x189f3b(0x153)](),_0x4e7325;}else{_0xdc3c44[_0x189f3b(0x1da)]=this['instance'][_0x189f3b(0x6c1)],_0xdc3c44[_0x189f3b(0x204)]&&_0xdc3c44['messages'][_0x189f3b(0x478)](_0x315f26=>{const _0x18d47d=_0x189f3b;_0x315f26[_0x18d47d(0x579)]||(_0x315f26['_id']=(0x0,Q['v4'])()),_0x315f26[_0x18d47d(0x59d)]||(_0x315f26[_0x18d47d(0x59d)]=_0xdc3c44[_0x18d47d(0x579)]),delete _0x315f26[_0x18d47d(0x6d7)];});let _0x353de2=await this[_0x189f3b(0x20b)][_0x189f3b(0x4a2)][_0x189f3b(0x6ac)](_0xdc3c44,this[_0x189f3b(0x2a1)][_0x189f3b(0x6c1)]);return _0x353de2&&(this[_0x189f3b(0x6b5)](_0x353de2[_0x189f3b(0x204)]),await this[_0x189f3b(0x20b)][_0x189f3b(0x4a2)][_0x189f3b(0x78f)](_0x353de2[_0x189f3b(0x579)],{'$set':{'messages':_0x353de2[_0x189f3b(0x204)]}},this['instance'][_0x189f3b(0x6c1)])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x353de2;}}catch(_0x1c858b){let _0x569b33=_0x189f3b(0x886),_0x18a040=_0x1c858b instanceof Error?_0x1c858b[_0x189f3b(0x80a)]:typeof _0x1c858b==_0x189f3b(0x79d)?JSON[_0x189f3b(0x751)](_0x1c858b):_0x1c858b,_0x54d47c=_0x569b33+':\x20'+_0x18a040;throw this[_0x189f3b(0x5c7)]['error'](this[_0x189f3b(0x87e)]+'\x20('+this[_0x189f3b(0x2a1)][_0x189f3b(0x6c1)]+_0x189f3b(0x77c)+_0x54d47c),new m(_0x54d47c);}}async[a0_0x5ae34c(0x55e)](_0x2e116a,_0x472fc4){const _0x2473de=a0_0x5ae34c;try{this['logger'][_0x2473de(0x7df)](this[_0x2473de(0x87e)]+'\x20('+this['instance'][_0x2473de(0x6c1)]+_0x2473de(0x73c)),_0x472fc4[_0x2473de(0x478)](_0x2453a7=>{const _0x298ef7=_0x2473de;_0x2453a7[_0x298ef7(0x579)]||(_0x2453a7[_0x298ef7(0x579)]=(0x0,Q['v4'])()),_0x2453a7[_0x298ef7(0x59d)]||(_0x2453a7[_0x298ef7(0x59d)]=_0x2e116a),delete _0x2453a7[_0x298ef7(0x6d7)];});let _0x76d7a5={'$push':{'messages':{'$each':_0x472fc4}}},_0x3f10df=await this[_0x2473de(0x20b)][_0x2473de(0x4a2)]['updateOneById'](_0x2e116a,_0x76d7a5,this[_0x2473de(0x2a1)]['wuid']);return _0x3f10df&&(this[_0x2473de(0x6b5)](_0x3f10df[_0x2473de(0x204)]),await this[_0x2473de(0x20b)][_0x2473de(0x4a2)][_0x2473de(0x78f)](_0x3f10df[_0x2473de(0x579)],{'$set':{'messages':_0x3f10df[_0x2473de(0x204)]}},this[_0x2473de(0x2a1)]['wuid'])),_0x3f10df;}catch(_0x57ec58){let _0x222242=_0x2473de(0x891),_0x3a52bb=_0x57ec58 instanceof Error?_0x57ec58['message']:typeof _0x57ec58==_0x2473de(0x79d)?JSON['stringify'](_0x57ec58):_0x57ec58,_0x73ed3=_0x222242+':\x20'+_0x3a52bb;throw this[_0x2473de(0x5c7)][_0x2473de(0x6f3)](this['instanceName']+'\x20('+this[_0x2473de(0x2a1)][_0x2473de(0x6c1)]+_0x2473de(0x77c)+_0x73ed3),new m(_0x73ed3);}}async[a0_0x5ae34c(0x61e)](_0x375019){const _0x1560b6=a0_0x5ae34c;try{if(this[_0x1560b6(0x5c7)][_0x1560b6(0x7df)](this[_0x1560b6(0x87e)]+'\x20('+this['instance'][_0x1560b6(0x6c1)]+_0x1560b6(0x87c)),!_0x375019[_0x1560b6(0x579)]||!_0x375019[_0x1560b6(0x204)])throw new Error('Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.');let _0x4774bb=_0x375019[_0x1560b6(0x579)],_0x43130d=_0x375019[_0x1560b6(0x204)],_0x43a777=_0x43130d['filter'](_0x5c85b2=>!_0x5c85b2['delete'])[_0x1560b6(0x89e)](_0x11e69d=>{const _0x25990f=_0x1560b6;let _0x4b6e79=_0x11e69d['_id'];if(!_0x4b6e79)throw new Error(_0x25990f(0x5d2));return _0x11e69d['idSchedule']||(_0x11e69d['idSchedule']=_0x4774bb),delete _0x11e69d[_0x25990f(0x6d7)],{'updateOne':{'filter':{'_id':_0x4774bb,'messages._id':_0x4b6e79},'update':{'$set':{'messages.$[elem]':_0x11e69d}},'arrayFilters':[{'elem._id':_0x4b6e79}]}};}),_0x4af6a1=_0x43130d[_0x1560b6(0x252)](_0xa50a3b=>_0xa50a3b[_0x1560b6(0x42f)])[_0x1560b6(0x89e)](_0x53f814=>{const _0x29a570=_0x1560b6;let _0x5865a6=_0x53f814[_0x29a570(0x579)];if(!_0x5865a6)throw new Error(_0x29a570(0x6e6));return{'updateOne':{'filter':{'_id':_0x4774bb},'update':{'$pull':{'messages':{'_id':_0x5865a6}}}}};}),_0x21b24a=[..._0x43a777,..._0x4af6a1],_0x5370c4=await this[_0x1560b6(0x20b)][_0x1560b6(0x4a2)][_0x1560b6(0x4ee)](_0x21b24a,this[_0x1560b6(0x2a1)][_0x1560b6(0x6c1)]),_0x519b2c=await this['repository'][_0x1560b6(0x4a2)]['findById'](_0x4774bb,this[_0x1560b6(0x2a1)][_0x1560b6(0x6c1)]);return _0x519b2c&&(this[_0x1560b6(0x6b5)](_0x519b2c[_0x1560b6(0x204)]),await this[_0x1560b6(0x20b)][_0x1560b6(0x4a2)][_0x1560b6(0x78f)](_0x519b2c[_0x1560b6(0x579)],{'$set':{'messages':_0x519b2c[_0x1560b6(0x204)]}},this[_0x1560b6(0x2a1)][_0x1560b6(0x6c1)])),_0x519b2c;}catch(_0x28f253){let _0x505ed1=_0x1560b6(0x106),_0x5586e6=_0x28f253 instanceof Error?_0x28f253[_0x1560b6(0x80a)]:typeof _0x28f253==_0x1560b6(0x79d)?JSON[_0x1560b6(0x751)](_0x28f253):_0x28f253,_0x2e6705=_0x505ed1+':\x20'+_0x5586e6;throw this[_0x1560b6(0x5c7)][_0x1560b6(0x6f3)](this[_0x1560b6(0x87e)]+'\x20('+this[_0x1560b6(0x2a1)][_0x1560b6(0x6c1)]+'):\x20'+_0x2e6705),new m(_0x2e6705);}}async['deleteDoneMessages'](){const _0x1068cf=a0_0x5ae34c;try{let _0x49f5cc={'status':_0x1068cf(0x5fc)},_0x2c9a64=await this['repository'][_0x1068cf(0x4a2)][_0x1068cf(0x2cf)](_0x49f5cc,this[_0x1068cf(0x2a1)]['wuid']);if(!_0x2c9a64[_0x1068cf(0x6f3)])this['logger'][_0x1068cf(0x7df)](this['instanceName']+'\x20('+this['instance'][_0x1068cf(0x6c1)]+_0x1068cf(0x4a6));else throw new Error(_0x2c9a64[_0x1068cf(0x6f3)][_0x1068cf(0x80a)]||_0x1068cf(0x38e));return this[_0x1068cf(0x636)]();}catch(_0xa1aecd){let _0x1fe9ae='Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped',_0x432288=_0xa1aecd instanceof Error?_0xa1aecd[_0x1068cf(0x80a)]:typeof _0xa1aecd==_0x1068cf(0x79d)?JSON[_0x1068cf(0x751)](_0xa1aecd):_0xa1aecd,_0x30ee69=_0x1fe9ae+':\x20'+_0x432288;throw this[_0x1068cf(0x5c7)]['error'](this[_0x1068cf(0x87e)]+'\x20('+this['instance']['wuid']+_0x1068cf(0x77c)+_0x30ee69),new m(_0x30ee69);}}async[a0_0x5ae34c(0x66a)](){const _0xf7b441=a0_0x5ae34c;try{this[_0xf7b441(0x2a1)][_0xf7b441(0x459)]['isConnected']=!0x1,this['instance'][_0xf7b441(0x459)][_0xf7b441(0x841)]=null,this[_0xf7b441(0x686)]&&this[_0xf7b441(0x686)][_0xf7b441(0x1f0)](),this[_0xf7b441(0x5c7)][_0xf7b441(0x7df)](this['instanceName']+'\x20('+this['instance'][_0xf7b441(0x6c1)]+_0xf7b441(0x88f)),await new Promise(_0x2267a0=>setTimeout(_0x2267a0,0x1388)),this['logger'][_0xf7b441(0x7df)](this['instanceName']+'\x20('+this[_0xf7b441(0x2a1)][_0xf7b441(0x6c1)]+'):\x20Iniciando\x20processo\x20de\x20deleção...');let _0x1ef322=await this[_0xf7b441(0x20b)][_0xf7b441(0x4a2)][_0xf7b441(0x2cf)]({},this['instance'][_0xf7b441(0x6c1)]);if(!_0x1ef322[_0xf7b441(0x6f3)])this[_0xf7b441(0x5c7)][_0xf7b441(0x7df)](this[_0xf7b441(0x87e)]+'\x20('+this[_0xf7b441(0x2a1)][_0xf7b441(0x6c1)]+_0xf7b441(0x60e)),this[_0xf7b441(0x5c7)][_0xf7b441(0x7df)](this[_0xf7b441(0x87e)]+'\x20('+this[_0xf7b441(0x2a1)][_0xf7b441(0x6c1)]+'):\x20Aguardando\x205\x20segundos\x20antes\x20de\x20reconectar...'),await new Promise(_0x3dfb80=>setTimeout(_0x3dfb80,0x1388)),this['instance'][_0xf7b441(0x459)][_0xf7b441(0x6a1)]=!0x0,this['logger'][_0xf7b441(0x7df)](this[_0xf7b441(0x87e)]+'\x20('+this[_0xf7b441(0x2a1)]['wuid']+_0xf7b441(0x604)),this[_0xf7b441(0x61f)]();else throw new Error(_0x1ef322['error']['message']||_0xf7b441(0x38e));return this[_0xf7b441(0x636)]();}catch(_0x1378b6){let _0x539d03='Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens',_0x13a7bf=_0x1378b6 instanceof Error?_0x1378b6['message']:typeof _0x1378b6==_0xf7b441(0x79d)?JSON[_0xf7b441(0x751)](_0x1378b6):_0x1378b6,_0x3bc8c4=_0x539d03+':\x20'+_0x13a7bf;throw this[_0xf7b441(0x5c7)][_0xf7b441(0x6f3)](this[_0xf7b441(0x87e)]+'\x20('+this[_0xf7b441(0x2a1)][_0xf7b441(0x6c1)]+'):\x20'+_0x3bc8c4),new m(_0x3bc8c4);}}async[a0_0x5ae34c(0x636)](){const _0x2680b=a0_0x5ae34c;try{return await this[_0x2680b(0x20b)][_0x2680b(0x4a2)][_0x2680b(0x42c)]({'where':{}},this[_0x2680b(0x2a1)][_0x2680b(0x6c1)]);}catch(_0x226985){let _0x1363cc=_0x2680b(0x609),_0x5eebb2=_0x226985 instanceof Error?_0x226985[_0x2680b(0x80a)]:typeof _0x226985==_0x2680b(0x79d)?JSON[_0x2680b(0x751)](_0x226985):_0x226985,_0x1a63d5=_0x1363cc+':\x20'+_0x5eebb2;throw this['logger']['error'](this[_0x2680b(0x87e)]+'\x20('+this[_0x2680b(0x2a1)][_0x2680b(0x6c1)]+'):\x20'+_0x1a63d5),new m(_0x1a63d5);}}[a0_0x5ae34c(0x6b5)](_0x15f9dd){const _0x476751=a0_0x5ae34c;_0x15f9dd[_0x476751(0x3dc)]((_0x33668c,_0x4fcb6d)=>_0x33668c[_0x476751(0x7b4)]-_0x4fcb6d[_0x476751(0x7b4)]),_0x15f9dd[_0x476751(0x478)]((_0x2f6ba2,_0x26e739)=>{const _0x1c08ee=_0x476751;_0x2f6ba2[_0x1c08ee(0x7b4)]=_0x26e739+0x1;});}async[a0_0x5ae34c(0x456)](_0x5da041,_0x866a13){const _0x2b2b15=a0_0x5ae34c;try{if(!_0x866a13)return this[_0x2b2b15(0x5c7)][_0x2b2b15(0x6f3)](this['instanceName']+'\x20('+this[_0x2b2b15(0x2a1)][_0x2b2b15(0x6c1)]+_0x2b2b15(0x296)),{'error':!0x0,'detail':_0x2b2b15(0x66d)};if(_0x866a13[_0x2b2b15(0x279)]===_0x2b2b15(0x4e0)&&!this['AutomateSystem']?.[_0x2b2b15(0x670)][_0x2b2b15(0x6af)])return this[_0x2b2b15(0x5c7)][_0x2b2b15(0x6f3)](this['instanceName']+'\x20('+this[_0x2b2b15(0x2a1)][_0x2b2b15(0x6c1)]+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':_0x2b2b15(0x3ef)};switch(_0x866a13['type']){case _0x2b2b15(0x24e):return await this['scheduleSendText'](_0x866a13,_0x5da041);case _0x2b2b15(0x490):case'image':case'document':return await this[_0x2b2b15(0x355)](_0x866a13,_0x5da041);case _0x2b2b15(0x817):return await this[_0x2b2b15(0x7d9)](_0x866a13,_0x5da041);case _0x2b2b15(0x4e0):let _0x1cc7fa=new ze();return _0x1cc7fa[_0x2b2b15(0x48b)]=_0x866a13[_0x2b2b15(0x4e0)],_0x1cc7fa['remoteJid']=_0x5da041,await this[_0x2b2b15(0x198)](_0x1cc7fa);default:return this[_0x2b2b15(0x5c7)][_0x2b2b15(0x6f3)](this[_0x2b2b15(0x87e)]+'\x20('+this[_0x2b2b15(0x2a1)][_0x2b2b15(0x6c1)]+_0x2b2b15(0x767)+_0x866a13[_0x2b2b15(0x279)]),{'error':!0x0,'detail':_0x2b2b15(0x689)};}}catch(_0xafec10){return this[_0x2b2b15(0x5c7)][_0x2b2b15(0x6f3)](this[_0x2b2b15(0x87e)]+'\x20('+this[_0x2b2b15(0x2a1)][_0x2b2b15(0x6c1)]+_0x2b2b15(0x630)+(_0xafec10 instanceof Error?_0xafec10[_0x2b2b15(0x80a)]:JSON[_0x2b2b15(0x751)](_0xafec10,null,0x2))),{'error':!0x0,'detail':_0xafec10['message']};}}async[a0_0x5ae34c(0x2ae)](_0x21bcdb,_0x3c59ee){const _0x2a0e85=a0_0x5ae34c;if(this[_0x2a0e85(0x5c7)]['verbose'](this[_0x2a0e85(0x87e)]+'\x20('+this['instance'][_0x2a0e85(0x6c1)]+'):\x20\x27Enviando\x20texto\x20para\x20\x27'+_0x3c59ee+'\x27'),!_0x21bcdb[_0x2a0e85(0x24e)]||_0x21bcdb[_0x2a0e85(0x24e)][_0x2a0e85(0x3b3)]===0x0)return{'error':!0x0,'detail':_0x2a0e85(0x352)};let _0x130670=await this[_0x2a0e85(0x5be)](_0x21bcdb[_0x2a0e85(0x24e)],_0x3c59ee),_0x43a9be={'number':_0x3c59ee,'options':{'delay':_0x21bcdb['delay'],'linkPreview':_0x21bcdb[_0x2a0e85(0x7d2)]},'textMessage':{'text':_0x130670}},_0x45eaf5=null;try{let _0x3da6ce=await this[_0x2a0e85(0x6c3)](_0x43a9be);if(_0x3da6ce&&_0x3da6ce[_0x2a0e85(0x41e)])return{'error':!0x1,'id':_0x3da6ce['key']['id']};_0x45eaf5=JSON['stringify'](_0x3da6ce),this[_0x2a0e85(0x5c7)][_0x2a0e85(0x7df)](this[_0x2a0e85(0x87e)]+'\x20('+this[_0x2a0e85(0x2a1)][_0x2a0e85(0x6c1)]+'):\x20'+_0x45eaf5);}catch(_0x283aab){this[_0x2a0e85(0x5c7)][_0x2a0e85(0x6f3)](this[_0x2a0e85(0x87e)]+'\x20('+this[_0x2a0e85(0x2a1)][_0x2a0e85(0x6c1)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x283aab instanceof Error?_0x283aab[_0x2a0e85(0x80a)]:JSON[_0x2a0e85(0x751)](_0x283aab,null,0x2))),_0x45eaf5=_0x283aab['message'];}if(_0x45eaf5)return{'error':!0x0,'detail':(typeof _0x45eaf5==_0x2a0e85(0x79d)?JSON[_0x2a0e85(0x751)](_0x45eaf5,null,0x2):_0x45eaf5)['replace'](/[\[\]{}\n]/g,'\x20')[_0x2a0e85(0x2af)](/  +/g,'\x20')};}async[a0_0x5ae34c(0x355)](_0x5a7b64,_0x117302){const _0x51b6f2=a0_0x5ae34c;this[_0x51b6f2(0x5c7)][_0x51b6f2(0x7df)](this['instanceName']+'\x20('+this[_0x51b6f2(0x2a1)][_0x51b6f2(0x6c1)]+_0x51b6f2(0x734)+_0x117302+'\x27');let _0x16f101;_0x5a7b64['text']&&_0x5a7b64[_0x51b6f2(0x24e)][_0x51b6f2(0x3b3)]>0x0&&(_0x16f101=await this[_0x51b6f2(0x5be)](_0x5a7b64[_0x51b6f2(0x24e)],_0x117302));let _0xf1bbfc={'number':_0x117302,'options':{'delay':_0x5a7b64[_0x51b6f2(0x371)],'linkPreview':_0x5a7b64[_0x51b6f2(0x7d2)]},'mediaMessage':{'mediatype':_0x5a7b64[_0x51b6f2(0x279)],'caption':_0x16f101,'media':_0x5a7b64[_0x51b6f2(0x897)]}},_0x50455c=null;try{let _0x4d216c=await this[_0x51b6f2(0x8a1)](_0xf1bbfc);if(_0x4d216c&&_0x4d216c['status'])return{'error':!0x1,'id':_0x4d216c[_0x51b6f2(0x1e3)]['id']};_0x50455c=JSON[_0x51b6f2(0x751)](_0x4d216c),this[_0x51b6f2(0x5c7)][_0x51b6f2(0x7df)](this[_0x51b6f2(0x87e)]+'\x20('+this['instance']['wuid']+_0x51b6f2(0x77c)+_0x50455c);}catch(_0x34e15f){this[_0x51b6f2(0x5c7)][_0x51b6f2(0x6f3)](this[_0x51b6f2(0x87e)]+'\x20('+this[_0x51b6f2(0x2a1)][_0x51b6f2(0x6c1)]+_0x51b6f2(0x455)+(_0x34e15f instanceof Error?_0x34e15f[_0x51b6f2(0x80a)]:JSON['stringify'](_0x34e15f,null,0x2))),_0x50455c=_0x34e15f[_0x51b6f2(0x80a)];}if(_0x50455c)return{'error':!0x0,'detail':(typeof _0x50455c==_0x51b6f2(0x79d)?JSON[_0x51b6f2(0x751)](_0x50455c,null,0x2):_0x50455c)[_0x51b6f2(0x2af)](/[\[\]{}\n]/g,'\x20')[_0x51b6f2(0x2af)](/  +/g,'\x20')};}async[a0_0x5ae34c(0x7d9)](_0x48bb43,_0x40053d){const _0xca4206=a0_0x5ae34c;this[_0xca4206(0x5c7)][_0xca4206(0x7df)](this[_0xca4206(0x87e)]+'\x20('+this['instance'][_0xca4206(0x6c1)]+'):\x20\x27Enviando\x20audio\x20para\x20\x27'+_0x40053d+'\x27');let _0x1f75e5={'number':_0x40053d,'options':{'delay':_0x48bb43[_0xca4206(0x371)]},'audioMessage':{'audio':_0x48bb43['urlOrBase64']}},_0x4cfc22=null;try{let _0x1edcc3=await this[_0xca4206(0x2a6)](_0x1f75e5);if(_0x1edcc3&&_0x1edcc3[_0xca4206(0x41e)])return{'error':!0x1,'id':_0x1edcc3[_0xca4206(0x1e3)]['id']};_0x4cfc22=JSON[_0xca4206(0x751)](_0x1edcc3),this[_0xca4206(0x5c7)][_0xca4206(0x7df)](this[_0xca4206(0x87e)]+'\x20('+this[_0xca4206(0x2a1)][_0xca4206(0x6c1)]+_0xca4206(0x77c)+_0x4cfc22);}catch(_0x393eed){this['logger'][_0xca4206(0x6f3)](this['instanceName']+'\x20('+this[_0xca4206(0x2a1)][_0xca4206(0x6c1)]+_0xca4206(0x161)+(_0x393eed instanceof Error?_0x393eed['message']:JSON[_0xca4206(0x751)](_0x393eed,null,0x2))),_0x4cfc22=_0x393eed[_0xca4206(0x80a)];}if(_0x4cfc22)return{'error':!0x0,'detail':(typeof _0x4cfc22=='object'?JSON[_0xca4206(0x751)](_0x4cfc22,null,0x2):_0x4cfc22)[_0xca4206(0x2af)](/[\[\]{}\n]/g,'\x20')[_0xca4206(0x2af)](/  +/g,'\x20')};}async[a0_0x5ae34c(0x8a3)](_0x41fcc5){const _0x46084a=a0_0x5ae34c;try{return await this['client']['groupUpdateDescription'](_0x41fcc5[_0x46084a(0x65b)],_0x41fcc5['description']),{'update':_0x46084a(0x5f6)};}catch(_0x2afe63){let _0x1bd109=_0x46084a(0x4f7),_0x376fd2=_0x2afe63 instanceof Error?_0x2afe63['message']:typeof _0x2afe63=='object'?JSON[_0x46084a(0x751)](_0x2afe63):_0x2afe63,_0x3d7233=_0x1bd109+':\x20'+_0x376fd2;throw this[_0x46084a(0x5c7)][_0x46084a(0x6f3)](this[_0x46084a(0x87e)]+'\x20('+this[_0x46084a(0x2a1)][_0x46084a(0x6c1)]+_0x46084a(0x77c)+_0x3d7233),new x(_0x3d7233);}}async['groupName'](_0x4bd76e){const _0x473040=a0_0x5ae34c;try{return await this[_0x473040(0x454)]['groupUpdateSubject'](_0x4bd76e[_0x473040(0x65b)],_0x4bd76e[_0x473040(0x48b)]),{'update':'success'};}catch(_0x578e1f){let _0x471d28=_0x473040(0x24d),_0x1c9f32=_0x578e1f instanceof Error?_0x578e1f[_0x473040(0x80a)]:typeof _0x578e1f==_0x473040(0x79d)?JSON[_0x473040(0x751)](_0x578e1f):_0x578e1f,_0x4914a1=_0x471d28+':\x20'+_0x1c9f32;throw this[_0x473040(0x5c7)][_0x473040(0x6f3)](this[_0x473040(0x87e)]+'\x20('+this[_0x473040(0x2a1)]['wuid']+_0x473040(0x77c)+_0x4914a1),new x(_0x4914a1);}}async[a0_0x5ae34c(0x546)](_0xcf099e){const _0x2d49c5=a0_0x5ae34c;try{let _0x277bc2=await this[_0x2d49c5(0x454)][_0x2d49c5(0x5de)](_0xcf099e['groupJid'],_0xcf099e[_0x2d49c5(0x2c5)]);return{'success':!0x0};}catch(_0x141370){let _0x317542='Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral',_0x2b537f=_0x141370 instanceof Error?_0x141370['message']:typeof _0x141370=='object'?JSON[_0x2d49c5(0x751)](_0x141370):_0x141370,_0x148214=_0x317542+':\x20'+_0x2b537f;throw this['logger'][_0x2d49c5(0x6f3)](this[_0x2d49c5(0x87e)]+'\x20('+this[_0x2d49c5(0x2a1)]['wuid']+_0x2d49c5(0x77c)+_0x148214),new x(_0x148214);}}async[a0_0x5ae34c(0x657)](_0x1043f2){const _0x2aa823=a0_0x5ae34c;try{return await this['client'][_0x2aa823(0x1fc)](_0x1043f2[_0x2aa823(0x65b)],_0x1043f2[_0x2aa823(0x180)]),{'update':_0x2aa823(0x5f6)};}catch(_0x115f7b){let _0x144177=_0x2aa823(0x4e7),_0x1d8a11=_0x115f7b instanceof Error?_0x115f7b[_0x2aa823(0x80a)]:typeof _0x115f7b=='object'?JSON[_0x2aa823(0x751)](_0x115f7b):_0x115f7b,_0x3eaab4=_0x144177+':\x20'+_0x1d8a11;throw this[_0x2aa823(0x5c7)]['error'](this[_0x2aa823(0x87e)]+'\x20('+this[_0x2aa823(0x2a1)]['wuid']+_0x2aa823(0x77c)+_0x3eaab4),new x(_0x3eaab4);}}async['updateGroupPicture'](_0x2a2bb2){const _0x3555d9=a0_0x5ae34c;try{let _0x4c3bcc;if((0x0,J[_0x3555d9(0x129)])(_0x2a2bb2[_0x3555d9(0x86f)])){let _0x1d49bd=new Date()[_0x3555d9(0x16b)](),_0x4a7f41=_0x2a2bb2['image']+_0x3555d9(0x807)+_0x1d49bd;_0x4c3bcc=(await K['default'][_0x3555d9(0x52d)](_0x4a7f41,{'responseType':'arraybuffer'}))[_0x3555d9(0x14a)];}else{if((0x0,J[_0x3555d9(0x74d)])(_0x2a2bb2['image']))_0x4c3bcc=Buffer['from'](_0x2a2bb2[_0x3555d9(0x86f)],_0x3555d9(0x8a9));else throw new m(_0x3555d9(0x877));}return await this[_0x3555d9(0x454)][_0x3555d9(0x3b0)](_0x2a2bb2[_0x3555d9(0x65b)],_0x4c3bcc),{'update':_0x3555d9(0x5f6)};}catch(_0x5ec2d9){let _0x16d605=_0x3555d9(0x390),_0x2aa055=_0x5ec2d9 instanceof Error?_0x5ec2d9[_0x3555d9(0x80a)]:typeof _0x5ec2d9==_0x3555d9(0x79d)?JSON[_0x3555d9(0x751)](_0x5ec2d9):_0x5ec2d9,_0x3ce1e1=_0x16d605+':\x20'+_0x2aa055;throw this[_0x3555d9(0x5c7)][_0x3555d9(0x6f3)](this[_0x3555d9(0x87e)]+'\x20('+this[_0x3555d9(0x2a1)][_0x3555d9(0x6c1)]+_0x3555d9(0x77c)+_0x3ce1e1),new x(_0x3ce1e1);}}},jt=class u{constructor(_0x1177df,_0x3491df,_0x353ba3){const _0x2cde34=a0_0x5ae34c;this[_0x2cde34(0x316)]=_0x1177df,this[_0x2cde34(0x89b)]=_0x3491df,this['repository']=_0x353ba3,this['db']={},this[_0x2cde34(0x852)]={},this[_0x2cde34(0x5c7)]=new $(u['name']),this['waInstances']={},(this[_0x2cde34(0x10c)](),this[_0x2cde34(0x38a)](),Object['assign'](this['db'],_0x3491df['get'](_0x2cde34(0x230))),Object[_0x2cde34(0x41f)](this[_0x2cde34(0x852)],_0x3491df[_0x2cde34(0x52d)]('REDIS')),this[_0x2cde34(0x44d)]=this['db']['ENABLED']?this['repository'][_0x2cde34(0x463)]?.['db'](this['db'][_0x2cde34(0x73b)]['DB_PREFIX_NAME']+'-instances'):void 0x0,this['cache']=this[_0x2cde34(0x852)]['ENABLED']?new ue(this[_0x2cde34(0x852)]):void 0x0);}async['instanceInfo'](_0x4c133c){const _0x362476=a0_0x5ae34c;if(_0x4c133c&&!this[_0x362476(0x428)][_0x4c133c])throw new U(_0x362476(0x75a)+_0x4c133c+_0x362476(0x731));let _0x8220d1=[];for await(let [_0x4f87a3,_0x557063]of Object[_0x362476(0x7e4)](this['waInstances']))if(_0x557063&&_0x557063[_0x362476(0x84c)]['state']==='open'){let _0x2b3427=await this[_0x362476(0x20b)]['auth']['find'](_0x4f87a3);_0x8220d1[_0x362476(0x6dd)]({'instance':{'instanceName':_0x4f87a3,'apikey':_0x2b3427['apikey'],'owner':_0x557063[_0x362476(0x6c1)],'profileName':await _0x557063['getProfileName']()||_0x362476(0x62c),'profilePictureUrl':_0x557063[_0x362476(0x89d)]}});}return _0x8220d1[_0x362476(0x42c)](_0x2781b9=>_0x2781b9['instance'][_0x362476(0x87e)]===_0x4c133c)??_0x8220d1;}async[a0_0x5ae34c(0x23f)](_0x2339d6){const _0x48644c=a0_0x5ae34c;if(this['db'][_0x48644c(0x3d3)]&&(await this[_0x48644c(0x20b)][_0x48644c(0x463)][_0x48644c(0x52b)](),(await this[_0x48644c(0x44d)]['collections']())[_0x48644c(0x3b3)]>0x0&&await this[_0x48644c(0x44d)]['dropCollection'](_0x2339d6)),this[_0x48644c(0x852)][_0x48644c(0x3d3)]){this[_0x48644c(0x1c9)][_0x48644c(0x561)]=_0x2339d6,await this[_0x48644c(0x1c9)][_0x48644c(0x6fc)]();return;}}async[a0_0x5ae34c(0x123)](){const _0x3e48f2=a0_0x5ae34c;await this['InstancesAlterarTodas']();let _0x35212d=async _0x93b648=>{const _0x599087=a0_0x475a;let _0x4759db=new $e(this['configService'],this[_0x599087(0x316)],this['repository']);_0x4759db[_0x599087(0x87e)]=_0x93b648,await _0x4759db[_0x599087(0x4ed)](),this[_0x599087(0x428)][_0x93b648]=_0x4759db;};try{if(this['redis'][_0x3e48f2(0x3d3)]){let _0x53fadb=await this[_0x3e48f2(0x1c9)]['instanceKeys']();_0x53fadb?.[_0x3e48f2(0x3b3)]>0x0&&_0x53fadb[_0x3e48f2(0x478)](async _0x481016=>await _0x35212d(_0x481016['split'](':')[0x1]));return;}if(this['db']['ENABLED']){await this[_0x3e48f2(0x20b)][_0x3e48f2(0x463)][_0x3e48f2(0x52b)]();let _0x3666af=await this[_0x3e48f2(0x44d)][_0x3e48f2(0x1f2)]();_0x3666af['length']>0x0&&_0x3666af['forEach'](async _0x414d5f=>await _0x35212d(_0x414d5f[_0x3e48f2(0x56d)][_0x3e48f2(0x2af)](/^[\w-]+\./,'')));return;}}catch(_0x357e18){this[_0x3e48f2(0x5c7)]['error'](_0x357e18);}}async['cleanDisconnectedInstances'](){const _0x224eca=a0_0x5ae34c;try{let _0x3d5d07=await this[_0x224eca(0x20b)][_0x224eca(0x3cb)][_0x224eca(0x63e)]({'online':!0x1});console[_0x224eca(0x4c0)](_0x224eca(0x1e2)+_0x3d5d07[_0x224eca(0x3b3)]);let _0x5b5e61={'online':!0x1},_0x445656=await this[_0x224eca(0x20b)][_0x224eca(0x3cb)][_0x224eca(0x2cf)](_0x5b5e61);console[_0x224eca(0x4c0)]('Instâncias\x20removidas:\x20'+_0x445656[_0x224eca(0x5a6)]);}catch(_0x59dd78){console[_0x224eca(0x6f3)](_0x224eca(0x8ab),_0x59dd78);}}async[a0_0x5ae34c(0x53e)](){const _0x54c5ba=a0_0x5ae34c;try{let _0x1623c2={'online':!0x1},_0x4bbdbe={'online':!0x1,'lastDisconnect':Date[_0x54c5ba(0x776)]()},_0x1cfe16=await this['repository']['auth'][_0x54c5ba(0x565)](_0x1623c2,_0x4bbdbe);await this[_0x54c5ba(0x843)]();}catch(_0x13c7ad){console[_0x54c5ba(0x6f3)]('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x13c7ad);}}[a0_0x5ae34c(0x10c)](){const _0x28027d=a0_0x5ae34c;this[_0x28027d(0x316)]['on'](_0x28027d(0x647),async _0x4bf81a=>{const _0x2546c8=_0x28027d;try{this['waInstances'][_0x4bf81a]=void 0x0;}catch{}try{this[_0x2546c8(0x23f)](_0x4bf81a);}finally{this[_0x2546c8(0x5c7)][_0x2546c8(0x4cf)](_0x2546c8(0x75a)+_0x4bf81a+'\x22\x20-\x20REMOVED');}});}['noConnection'](){const _0x547226=a0_0x5ae34c;this[_0x547226(0x316)]['on'](_0x547226(0x297),async _0x1fd75b=>{const _0x3660e9=_0x547226;try{this['waInstances'][_0x1fd75b]=void 0x0;}catch{}try{this['cleaningUp'](_0x1fd75b);}finally{this[_0x3660e9(0x5c7)][_0x3660e9(0x4cf)]('Instance\x20\x22'+_0x1fd75b+_0x3660e9(0x47f));}});}},Jt=class extends O{[a0_0x5ae34c(0x2c7)](_0x552eca){return ta(_0x552eca);}async[a0_0x5ae34c(0x883)](_0x4b1939){const _0xfe57c9=a0_0x5ae34c;if(_0x4b1939[_0xfe57c9(0x3b3)]!==0x0)try{return{'insertCount':(await this[_0xfe57c9(0x2c7)](_0x4b1939[0x0]['owner'])[_0xfe57c9(0x85e)]([..._0x4b1939]))[_0xfe57c9(0x3b3)]};}catch(_0x1563ea){return _0x1563ea;}}async['find'](_0x547dfc,_0x5d4558){const _0x44192c=a0_0x5ae34c;try{let _0x14c124=this[_0x44192c(0x2c7)](_0x5d4558),_0x58f5b9=A(_0x547dfc[_0x44192c(0x485)]);return await _0x14c124[_0x44192c(0x42c)](_0x58f5b9)[_0x44192c(0x3dc)]({'lastmsg':-0x1})[_0x44192c(0x5d4)](_0x547dfc?.[_0x44192c(0x5d4)]??0x0)[_0x44192c(0x4e5)]();}catch{return[];}}async['findGroupsEspecial'](_0x3bd2ae,_0x5d1a69){const _0x4b4c9d=a0_0x5ae34c;try{let _0x2cecf7=this[_0x4b4c9d(0x2c7)](_0x5d1a69),_0x1c7732=A(_0x3bd2ae[_0x4b4c9d(0x485)]);return _0x1c7732[_0x4b4c9d(0x585)]={'$ne':[]},await _0x2cecf7[_0x4b4c9d(0x42c)](_0x1c7732)['sort']({'lastmsg':-0x1})[_0x4b4c9d(0x5d4)](_0x3bd2ae?.[_0x4b4c9d(0x5d4)]??0x0)['lean']();}catch{return[];}}async[a0_0x5ae34c(0x42f)](_0x1b1c88,_0x59b49d){const _0x1d2774=a0_0x5ae34c;try{return{'deletedCount':(await this[_0x1d2774(0x2c7)](_0x59b49d)['deleteMany']({..._0x1b1c88['where']}))['deletedCount']};}catch(_0x4330c5){return{'error':_0x4330c5?.['toString']()};}}async[a0_0x5ae34c(0x72d)](_0xb01cc6,_0x57c83a){const _0x4b303b=a0_0x5ae34c;try{return await this[_0x4b303b(0x2c7)](_0x57c83a)[_0x4b303b(0x2cf)]({..._0xb01cc6[_0x4b303b(0x485)]}),[];}catch(_0x245af6){return{'error':_0x245af6?.['toString']()};}}async[a0_0x5ae34c(0x875)](_0x9fcd7d,_0x4449b3){const _0xac6e6d=a0_0x5ae34c;try{let _0x1c40ea=this[_0xac6e6d(0x2c7)](_0x4449b3),_0x10fd07=A(_0x9fcd7d[_0xac6e6d(0x485)]);return await _0x1c40ea[_0xac6e6d(0x875)](_0x10fd07)[_0xac6e6d(0x4e5)]();}catch{return null;}}async[a0_0x5ae34c(0x41a)](_0x26a310,_0x5698c2,_0xcdac26,_0x49fa6e,_0x5f3d56=a0_0x5ae34c(0x307)){const _0xdf4b4d=a0_0x5ae34c;try{let _0x179cee={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x49fa6e},_0x427140=this[_0xdf4b4d(0x2c7)](_0xcdac26),_0x1cc766=A(_0x26a310[_0xdf4b4d(0x485)]);Object[_0xdf4b4d(0x57b)](_0x5698c2)[_0xdf4b4d(0x478)](_0x31c767=>{_0x5698c2[_0x31c767]==null&&delete _0x5698c2[_0x31c767];});let _0x7fe5e9={};return _0x7fe5e9[_0x5f3d56]=_0x5698c2,await _0x427140['findOneAndUpdate'](_0x1cc766,_0x7fe5e9,_0x179cee);}catch(_0x15eb95){return console['error'](_0x15eb95),null;}}async[a0_0x5ae34c(0x4ad)](_0x56a3ef){const _0xf4f460=a0_0x5ae34c;try{let _0x4db8fb=this[_0xf4f460(0x2c7)](_0x56a3ef[0x0][_0xf4f460(0x801)][_0xf4f460(0x485)][_0xf4f460(0x1da)]),_0x349bc7=_0x56a3ef[_0xf4f460(0x89e)](_0x25e058=>({'updateOne':{'filter':{..._0x25e058[_0xf4f460(0x801)][_0xf4f460(0x485)]},'update':{'$set':_0x25e058[_0xf4f460(0x15a)]},'upsert':!0x0}})),_0x1a12e6=await _0x4db8fb[_0xf4f460(0x4ee)](_0x349bc7);return _0x1a12e6['modifiedCount']+_0x1a12e6[_0xf4f460(0x7d3)];}catch(_0x5af521){return console[_0xf4f460(0x6f3)](_0x5af521),0x0;}}async['removeUnusedChatFields'](_0x458adc){const _0x341287=a0_0x5ae34c;try{let _0x2a7cf3={'group_isCommunity':'','group_announce':'','group_size':''},_0x25fa14={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x335a0b={'$unset':_0x2a7cf3};return(await this[_0x341287(0x2c7)](_0x458adc)['updateMany'](_0x25fa14,_0x335a0b))['modifiedCount'];}catch(_0x3c1778){return console[_0x341287(0x6f3)](_0x341287(0x3c9),_0x3c1778),0x0;}}async[a0_0x5ae34c(0x16a)](_0x48a05d){const _0x4c5e23=a0_0x5ae34c;try{let _0x22408a=this[_0x4c5e23(0x2c7)](_0x48a05d),_0x4f0f95={'leadInfo.etiquetas':{'$exists':!0x1}},_0x24ac42={'$set':{'leadInfo.etiquetas':[]}};return(await _0x22408a[_0x4c5e23(0x4ad)](_0x4f0f95,_0x24ac42))[_0x4c5e23(0x3d4)];}catch(_0x4ab1a5){return console[_0x4c5e23(0x6f3)](_0x4ab1a5),0x0;}}async[a0_0x5ae34c(0x742)](_0x379a00){const _0xd916a6=a0_0x5ae34c;try{let _0x5aecc5=this[_0xd916a6(0x2c7)](_0x379a00),_0x486e8f={'leadInfo.tags':{'$exists':!0x1}},_0x43adc3={'$set':{'leadInfo.tags':[]}};return(await _0x5aecc5[_0xd916a6(0x4ad)](_0x486e8f,_0x43adc3))[_0xd916a6(0x3d4)];}catch(_0x3f8563){return console['error'](_0x3f8563),0x0;}}async[a0_0x5ae34c(0x7ba)](_0x58696e){const _0x13754d=a0_0x5ae34c;try{let _0x67d48=this[_0x13754d(0x2c7)](_0x58696e),_0x2267ad={'leadInfo.customFields':{'$exists':!0x1}},_0xb9e4fa={'$set':{'leadInfo.customFields':[]}};return(await _0x67d48['updateMany'](_0x2267ad,_0xb9e4fa))[_0x13754d(0x3d4)];}catch(_0x9f2c2c){return console[_0x13754d(0x6f3)](_0x9f2c2c),0x0;}}async[a0_0x5ae34c(0x85e)](_0x45d73b,_0x21c6dc){const _0x474e65=a0_0x5ae34c;if(!Array[_0x474e65(0x40e)](_0x45d73b)||_0x45d73b[_0x474e65(0x3b3)]===0x0)throw new Error(_0x474e65(0x6ff));try{return(await this['getChatModelForOwner'](_0x21c6dc)[_0x474e65(0x85e)](_0x45d73b))[_0x474e65(0x3b3)];}catch(_0x34b008){throw console[_0x474e65(0x6f3)](_0x474e65(0x538),_0x34b008),_0x34b008;}}async[a0_0x5ae34c(0x551)](_0x23d485,_0x1033d2){const _0x3c588c=a0_0x5ae34c;try{await this['getChatModelForOwner'](_0x1033d2)[_0x3c588c(0x45c)]({'_id':_0x23d485});}catch(_0x908402){throw console[_0x3c588c(0x6f3)](_0x3c588c(0x81f),_0x908402),_0x908402;}}},qt=class extends O{constructor(_0xc0d51,_0x499593,_0x296dcc){const _0x2050cf=a0_0x5ae34c;super(_0x499593),this[_0x2050cf(0x605)]=_0xc0d51,this[_0x2050cf(0x89b)]=_0x499593,this[_0x2050cf(0x88e)]=_0x296dcc;}async[a0_0x5ae34c(0x883)](_0x5818b9){const _0xc5e76a=a0_0x5ae34c;if(_0x5818b9[_0xc5e76a(0x3b3)]!==0x0)try{return{'insertCount':(await this[_0xc5e76a(0x605)]['insertMany']([..._0x5818b9]))[_0xc5e76a(0x3b3)]};}catch(_0x4f95cb){return _0x4f95cb;}}async[a0_0x5ae34c(0x15a)](_0x4a077a,_0x3a421a){const _0x36bb6c=a0_0x5ae34c;try{let _0x5471c1=A(_0x4a077a[_0x36bb6c(0x485)]);return{'updatedCount':(await this[_0x36bb6c(0x605)][_0x36bb6c(0x4ad)](_0x5471c1,{'$set':_0x3a421a}))[_0x36bb6c(0x3d4)]};}catch(_0x3c1973){return console['error'](_0x36bb6c(0x7d6),_0x3c1973),{'error':_0x3c1973[_0x36bb6c(0x663)]()};}}async[a0_0x5ae34c(0x4b4)](_0x4f25b9){const _0x4c4879=a0_0x5ae34c;try{let _0x2a2f70={'_id':{'$in':_0x4f25b9}};return await this[_0x4c4879(0x605)][_0x4c4879(0x42c)](_0x2a2f70)['lean']();}catch(_0x238fc8){return console[_0x4c4879(0x6f3)](_0x4c4879(0x881),_0x238fc8),[];}}async[a0_0x5ae34c(0x42f)](_0x55a9c1){const _0x2d9c8e=a0_0x5ae34c;try{return{'deletedCount':(await this['cacheContactModel'][_0x2d9c8e(0x2cf)]({..._0x55a9c1[_0x2d9c8e(0x485)]}))[_0x2d9c8e(0x55b)]};}catch(_0x1fe59a){return{'error':_0x1fe59a?.[_0x2d9c8e(0x663)]()};}}async[a0_0x5ae34c(0x42c)](_0x1e3625){const _0x532837=a0_0x5ae34c;try{let _0x24f84c=A(_0x1e3625[_0x532837(0x485)]);return await this[_0x532837(0x605)][_0x532837(0x42c)](_0x24f84c)[_0x532837(0x5d4)](_0x1e3625?.[_0x532837(0x5d4)]??0x0)[_0x532837(0x4e5)]();}catch{return[];}}async[a0_0x5ae34c(0x875)](_0x5a3238){const _0x2adee6=a0_0x5ae34c;try{let _0x52223e=A(_0x5a3238[_0x2adee6(0x485)]);return await this[_0x2adee6(0x605)]['findOne'](_0x52223e)[_0x2adee6(0x4e5)]();}catch{return null;}}},Vt=class extends O{constructor(_0x435e7d,_0x20c730,_0x5dbdc1){const _0x4c7972=a0_0x5ae34c;super(_0x20c730),this['messageLogsModel']=_0x435e7d,this[_0x4c7972(0x89b)]=_0x20c730,this['dbConnection']=_0x5dbdc1;}async['insert'](_0x2253f8){const _0x50cde5=a0_0x5ae34c;if(_0x2253f8[_0x50cde5(0x3b3)]!==0x0)try{return{'insertCount':(await this[_0x50cde5(0x2de)][_0x50cde5(0x85e)]([..._0x2253f8]))['length']};}catch(_0x417e27){return _0x417e27;}}async['update'](_0x44c959,_0x3c183c){const _0x4ec641=a0_0x5ae34c;try{let _0x54bc90=A(_0x44c959[_0x4ec641(0x485)]);return{'updatedCount':(await this['messageLogsModel']['updateMany'](_0x54bc90,{'$set':_0x3c183c}))[_0x4ec641(0x3d4)]};}catch(_0x4a82af){return console[_0x4ec641(0x6f3)](_0x4ec641(0x7d6),_0x4a82af),{'error':_0x4a82af[_0x4ec641(0x663)]()};}}async[a0_0x5ae34c(0x42f)](_0x130275){const _0xf3a261=a0_0x5ae34c;try{return{'deletedCount':(await this[_0xf3a261(0x2de)]['deleteMany']({..._0x130275['where']}))[_0xf3a261(0x55b)]};}catch(_0x317085){return{'error':_0x317085?.[_0xf3a261(0x663)]()};}}async[a0_0x5ae34c(0x875)](_0xed796a){const _0x950e9f=a0_0x5ae34c;try{let _0x5d74a7=A(_0xed796a['where']);return await this[_0x950e9f(0x2de)][_0x950e9f(0x875)](_0x5d74a7)[_0x950e9f(0x4e5)]();}catch{return null;}}},Gt=class extends O{[a0_0x5ae34c(0x417)](_0x2a4f8e){return va(_0x2a4f8e);}async[a0_0x5ae34c(0x41a)](_0x54ea59,_0x41f759,_0x372e50,_0x37dcd8){const _0x5d84be=a0_0x5ae34c;try{let _0x86512f={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x37dcd8},_0x571df0=this[_0x5d84be(0x417)](_0x372e50),_0x20b09f=A(_0x54ea59['where']);return await _0x571df0['findOneAndUpdate'](_0x20b09f,{'$set':_0x41f759},_0x86512f);}catch(_0x227146){return console['error'](_0x227146),null;}}async[a0_0x5ae34c(0x42c)](_0x7946fb,_0x4810eb){const _0x41b613=a0_0x5ae34c;try{let _0x456c7b=this['getLabelModelForOwner'](_0x4810eb),_0x32f5ac=A(_0x7946fb[_0x41b613(0x485)]);return await _0x456c7b[_0x41b613(0x42c)](_0x32f5ac);}catch(_0xd8c18c){console['error'](_0xd8c18c);}}async[a0_0x5ae34c(0x42f)](_0x1d29a3,_0x170a7f){const _0x223aab=a0_0x5ae34c;try{let _0x55f401=this[_0x223aab(0x417)](_0x170a7f),_0x8c09b2=A(_0x1d29a3['where']);await _0x55f401['deleteMany'](_0x8c09b2);}catch(_0x516f05){console['error'](_0x516f05);}}async[a0_0x5ae34c(0x72d)](_0x44ac64){const _0x4d4b85=a0_0x5ae34c;try{return await this[_0x4d4b85(0x417)](_0x44ac64)[_0x4d4b85(0x43d)][_0x4d4b85(0x3cc)](),{'success':!0x0};}catch(_0x1333ca){return console[_0x4d4b85(0x6f3)](_0x1333ca),{'success':!0x1,'error':_0x1333ca};}}},Bt=class{constructor(_0x41b633){const _0x312360=a0_0x5ae34c;this[_0x312360(0x5fa)]=_0x41b633;}async['editChat']({instanceName:_0x1db5c0},_0x389681){const _0x2cf2e5=a0_0x5ae34c;return await this[_0x2cf2e5(0x5fa)][_0x2cf2e5(0x428)][_0x1db5c0][_0x2cf2e5(0x510)](_0x389681);}async[a0_0x5ae34c(0x30c)]({instanceName:_0x2d1364},_0x3c0f93){const _0x789f1c=a0_0x5ae34c;return await this[_0x789f1c(0x5fa)][_0x789f1c(0x428)][_0x2d1364][_0x789f1c(0x30c)](_0x3c0f93);}async[a0_0x5ae34c(0x284)]({instanceName:_0x161995},_0x1e796f){const _0x169b3f=a0_0x5ae34c;return await this['waMonitor'][_0x169b3f(0x428)][_0x161995]['importChats'](_0x1e796f);}async[a0_0x5ae34c(0x228)]({instanceName:_0x4edc46},_0x53e133){const _0xeccf62=a0_0x5ae34c;return await this[_0xeccf62(0x5fa)][_0xeccf62(0x428)][_0x4edc46][_0xeccf62(0x7fe)](_0x53e133);}async[a0_0x5ae34c(0x840)]({instanceName:_0x12e55e},_0x4d443d){const _0xee95=a0_0x5ae34c;return await this[_0xee95(0x5fa)]['waInstances'][_0x12e55e][_0xee95(0x840)](_0x4d443d);}async[a0_0x5ae34c(0x4eb)]({instanceName:_0x3e2406},_0x4d3256){const _0x28db4d=a0_0x5ae34c;return await this[_0x28db4d(0x5fa)][_0x28db4d(0x428)][_0x3e2406][_0x28db4d(0x4eb)](_0x4d3256);}async[a0_0x5ae34c(0x62f)]({instanceName:_0x368cdf},_0x13c87d){const _0x18e692=a0_0x5ae34c;return await this[_0x18e692(0x5fa)][_0x18e692(0x428)][_0x368cdf][_0x18e692(0x783)](_0x13c87d['number']);}async[a0_0x5ae34c(0x885)]({instanceName:_0x1826e8},_0x5354f3){const _0x5e7682=a0_0x5ae34c;return await this[_0x5e7682(0x5fa)][_0x5e7682(0x428)][_0x1826e8][_0x5e7682(0x885)](_0x5354f3[_0x5e7682(0x63b)]);}async['updatePresence']({instanceName:_0x3080c3},_0xc71ab3){const _0x3304c6=a0_0x5ae34c;return await this[_0x3304c6(0x5fa)][_0x3304c6(0x428)][_0x3080c3][_0x3304c6(0x803)](_0xc71ab3);}async[a0_0x5ae34c(0x2d6)]({instanceName:_0x2823d0},_0x356ad4){const _0x3650a8=a0_0x5ae34c;return await this['waMonitor']['waInstances'][_0x2823d0][_0x3650a8(0x2d6)](_0x356ad4);}async[a0_0x5ae34c(0x88a)]({instanceName:_0x2fcd77},_0x1d0725){const _0x5799b7=a0_0x5ae34c;return await this[_0x5799b7(0x5fa)]['waInstances'][_0x2fcd77]['getBase64FromMediaMessage'](_0x1d0725);}async[a0_0x5ae34c(0x3a4)]({instanceName:_0x3f3524},_0x3206ae){const _0x1eeb7e=a0_0x5ae34c;return await this[_0x1eeb7e(0x5fa)][_0x1eeb7e(0x428)][_0x3f3524][_0x1eeb7e(0x3a4)](_0x3206ae);}async[a0_0x5ae34c(0x33e)]({instanceName:_0x2bb07b}){const _0x22d93f=a0_0x5ae34c;return await this[_0x22d93f(0x5fa)]['waInstances'][_0x2bb07b]['fetchLabels']();}async[a0_0x5ae34c(0x128)]({instanceName:_0x5a4b4b}){const _0x5313d7=a0_0x5ae34c;return await this[_0x5313d7(0x5fa)]['waInstances'][_0x5a4b4b][_0x5313d7(0x128)]();}async[a0_0x5ae34c(0x6d0)]({instanceName:_0x42d216}){const _0x51dbd0=a0_0x5ae34c;return await this[_0x51dbd0(0x5fa)][_0x51dbd0(0x428)][_0x42d216][_0x51dbd0(0x6d0)]();}async[a0_0x5ae34c(0x78d)]({instanceName:_0x3b9927},_0x41654d){const _0x3537f6=a0_0x5ae34c;return await this[_0x3537f6(0x5fa)][_0x3537f6(0x428)][_0x3b9927]['updatePrivacySettings'](_0x41654d);}async[a0_0x5ae34c(0x848)]({instanceName:_0x545ae0},_0x21e66c){const _0x286a27=a0_0x5ae34c;return await this[_0x286a27(0x5fa)][_0x286a27(0x428)][_0x545ae0][_0x286a27(0x848)](_0x21e66c[_0x286a27(0x63b)]);}async[a0_0x5ae34c(0x411)]({instanceName:_0x18b274},_0x3b2e45){const _0x846b18=a0_0x5ae34c;return await this['waMonitor'][_0x846b18(0x428)][_0x18b274][_0x846b18(0x411)](_0x3b2e45['name']);}async['updateProfileStatus']({instanceName:_0x58b391},_0x1c1a1e){const _0x2fc83b=a0_0x5ae34c;return await this[_0x2fc83b(0x5fa)][_0x2fc83b(0x428)][_0x58b391][_0x2fc83b(0x272)](_0x1c1a1e[_0x2fc83b(0x41e)]);}async[a0_0x5ae34c(0x3b0)]({instanceName:_0x1089e3},_0x71714a){const _0x59bd05=a0_0x5ae34c;return await this[_0x59bd05(0x5fa)][_0x59bd05(0x428)][_0x1089e3]['updateProfilePicture'](_0x71714a[_0x59bd05(0x3ad)]);}async[a0_0x5ae34c(0x4bd)]({instanceName:_0xbb39ea},_0x234d38){const _0x1c3980=a0_0x5ae34c;return await this['waMonitor'][_0x1c3980(0x428)][_0xbb39ea][_0x1c3980(0x4bd)]();}},Wt=require('@whiskeysockets/baileys'),zt=class u{constructor(_0x1d186a,_0x42ea42,_0x442ec9,_0x2c4ece,_0x5967e8){const _0x11a53b=a0_0x5ae34c;this[_0x11a53b(0x5fa)]=_0x1d186a,this[_0x11a53b(0x89b)]=_0x42ea42,this[_0x11a53b(0x20b)]=_0x442ec9,this['eventEmitter']=_0x2c4ece,this['authService']=_0x5967e8,this[_0x11a53b(0x5c7)]=new $(u[_0x11a53b(0x48b)]);}async[a0_0x5ae34c(0x104)]({instanceName:_0x2a71fa,apikey:_0x5e1a29,number:_0x5a3661,proxy:_0x5574ac=!0x0}){const _0x4815f8=a0_0x5ae34c;try{let _0x4a3bcd=new $e(this[_0x4815f8(0x89b)],this['eventEmitter'],this[_0x4815f8(0x20b)]);_0x4a3bcd[_0x4815f8(0x87e)]=_0x2a71fa,this[_0x4815f8(0x5fa)][_0x4815f8(0x428)][_0x4a3bcd[_0x4815f8(0x87e)]]=_0x4a3bcd;let _0x254063={};_0x5e1a29?(await this[_0x4815f8(0x20b)][_0x4815f8(0x3cb)][_0x4815f8(0x591)]({'apikey':_0x5e1a29},_0x2a71fa),_0x254063[_0x4815f8(0x471)]=_0x5e1a29):_0x254063=await this[_0x4815f8(0x15b)][_0x4815f8(0x488)]({'instanceName':_0x4a3bcd['instanceName']});let _0x520301;if(_0x5a3661){if(_0x520301=await this[_0x4815f8(0x4f6)](_0x5a3661),_0x520301['error'])throw new x(_0x520301[_0x4815f8(0x6f3)][_0x4815f8(0x663)]());_0x5a3661=_0x520301[_0x4815f8(0x63b)];}let _0x458f03;return await _0x4a3bcd[_0x4815f8(0x4ed)](_0x5a3661),await(0x0,Wt[_0x4815f8(0x371)])(0xfa0),_0x5a3661&&await(0x0,Wt['delay'])(0xbb8),_0x458f03=_0x4a3bcd[_0x4815f8(0x5cb)],{'instance':{'instanceName':_0x4a3bcd[_0x4815f8(0x87e)],'status':'created'},'hash':_0x254063,'qrcode':_0x458f03};}catch(_0x13ce31){throw this[_0x4815f8(0x5c7)][_0x4815f8(0x6f3)](_0x13ce31),_0x13ce31;}}async['connectToWhatsappController']({instanceName:_0x26b2a7,number:_0x20900a=null}){const _0x2e883a=a0_0x5ae34c;try{let _0x1b958a=this[_0x2e883a(0x5fa)][_0x2e883a(0x428)][_0x26b2a7];switch(_0x1b958a?.['connectionStatus']?.[_0x2e883a(0x8a0)]){case _0x2e883a(0x3b2):return await _0x1b958a[_0x2e883a(0x4ed)](_0x20900a),await(0x0,Wt[_0x2e883a(0x371)])(0x7d0),_0x1b958a[_0x2e883a(0x5cb)];case _0x2e883a(0x17a):return _0x1b958a[_0x2e883a(0x5cb)];default:return await this['connectionState']({'instanceName':_0x26b2a7});}}catch(_0x430f73){this[_0x2e883a(0x5c7)][_0x2e883a(0x4c0)](_0x430f73);}}async[a0_0x5ae34c(0x19b)]({instanceName:_0x1a7522}){const _0x50ce59=a0_0x5ae34c;let _0x4353b6=this[_0x50ce59(0x5fa)][_0x50ce59(0x428)][_0x1a7522][_0x50ce59(0x84c)],_0x55ae4a=null;_0x4353b6[_0x50ce59(0x8a0)]===_0x50ce59(0x83a)&&_0x1a7522&&(_0x55ae4a=await this[_0x50ce59(0x5fa)][_0x50ce59(0x608)](_0x1a7522));let _0x18981f=null;return _0x4353b6[_0x50ce59(0x8a0)]===_0x50ce59(0x17a)&&_0x1a7522&&(_0x18981f=this['waMonitor']['waInstances'][_0x1a7522][_0x50ce59(0x5cb)]),{'instance':_0x1a7522,'connectionStatus':_0x4353b6,'instanceInfo':_0x55ae4a,'qrcode':_0x18981f};}async[a0_0x5ae34c(0x4f6)](_0x405b61){const _0x295b4e=a0_0x5ae34c;_0x405b61=_0x405b61[_0x295b4e(0x2af)](/\D/g,'');let _0x596d95=Object[_0x295b4e(0x57b)](this[_0x295b4e(0x5fa)][_0x295b4e(0x428)])[_0x295b4e(0x252)](_0x556d04=>{const _0xbb16ea=_0x295b4e;let _0x1e385f=this[_0xbb16ea(0x5fa)]['waInstances'][_0x556d04];return _0x1e385f&&_0x1e385f[_0xbb16ea(0x84c)]&&_0x1e385f['connectionStatus'][_0xbb16ea(0x8a0)]===_0xbb16ea(0x83a);});if(_0x596d95['length']===0x0)return{'number':this[_0x295b4e(0x3e3)](_0x405b61)};let _0xb5a3c5=Math[_0x295b4e(0x7f0)](Math[_0x295b4e(0x302)]()*_0x596d95[_0x295b4e(0x3b3)]),_0x19b25c=_0x596d95[_0xb5a3c5];try{let _0x37965b=(await this[_0x295b4e(0x5fa)][_0x295b4e(0x428)][_0x19b25c][_0x295b4e(0x30c)]({'numbers':[_0x405b61]}))[_0x295b4e(0x29a)]();return _0x37965b[_0x295b4e(0x17c)]?{'number':_0x37965b[_0x295b4e(0x25c)][_0x295b4e(0x2af)]('@s.whatsapp.net','')}:{'number':_0x405b61,'error':_0x295b4e(0x622)};}catch(_0x59a460){return this[_0x295b4e(0x5c7)][_0x295b4e(0x6f3)](_0x295b4e(0x4a8)+_0x59a460),{'number':_0x405b61,'error':_0x295b4e(0x6a3)};}}[a0_0x5ae34c(0x3e3)](_0x396408){const _0x395bbd=a0_0x5ae34c;let _0x45fe1a=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x395bbd(0x21f)](_0x396408);if(_0x45fe1a&&_0x45fe1a[0x1]==='55'){let _0x5c398f=_0x45fe1a[0x2],_0xe728be=_0x45fe1a[0x3],_0x221e51=_0x45fe1a[0x4];if(parseInt(_0x5c398f)>=0x1f&&_0xe728be==='9')return _0x45fe1a[0x1]+_0x5c398f+_0x221e51;}return _0x396408;}async[a0_0x5ae34c(0x4fe)]({instanceName:_0x398a01}){const _0x19e57f=a0_0x5ae34c;try{return this['waMonitor'][_0x19e57f(0x428)][_0x398a01]?.[_0x19e57f(0x454)]?.['ws']?.['close'](),{'status':_0x19e57f(0x49a),'error':!0x1,'response':{'message':_0x19e57f(0x29d)}};}catch(_0x1c4683){this[_0x19e57f(0x5c7)][_0x19e57f(0x6f3)](_0x1c4683);}}async[a0_0x5ae34c(0x629)]({instanceName:_0x5412a5}){const _0x264bcc=a0_0x5ae34c;return _0x5412a5?this['waMonitor']['instanceInfo'](_0x5412a5):this[_0x264bcc(0x5fa)][_0x264bcc(0x608)]();}async[a0_0x5ae34c(0x5fd)]({instanceName:_0x5f3428}){const _0x49019d=a0_0x5ae34c;try{return await this[_0x49019d(0x5fa)][_0x49019d(0x428)][_0x5f3428]?.['client']?.['logout']('Log\x20out\x20instance:\x20'+_0x5f3428),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x127cfb){throw new x(_0x127cfb[_0x49019d(0x663)]());}}async[a0_0x5ae34c(0x718)]({instanceName:_0x3c4020}){const _0x21721b=a0_0x5ae34c;if((await this[_0x21721b(0x19b)]({'instanceName':_0x3c4020}))[_0x21721b(0x84c)]['state']===_0x21721b(0x83a))throw new m([_0x21721b(0x374),_0x21721b(0x748)]);try{return delete this[_0x21721b(0x5fa)]['waInstances'][_0x3c4020],{'error':!0x1,'message':_0x21721b(0x171)};}catch(_0x44c48e){throw new m(_0x44c48e[_0x21721b(0x663)]());}}},re=require(a0_0x5ae34c(0x4cc)),Ht=class{constructor(_0x5032dd){const _0x5d4430=a0_0x5ae34c;this[_0x5d4430(0x5fa)]=_0x5032dd;}async[a0_0x5ae34c(0x434)]({instanceName:_0x1c078b},_0x26414d){const _0x3eb5a0=a0_0x5ae34c;return await this['waMonitor']['waInstances'][_0x1c078b][_0x3eb5a0(0x6c3)](_0x26414d);}async[a0_0x5ae34c(0x44e)]({instanceName:_0x7e3998},_0x9571ed){const _0x433741=a0_0x5ae34c;return await this[_0x433741(0x5fa)][_0x433741(0x428)][_0x7e3998][_0x433741(0x150)](_0x9571ed);}async[a0_0x5ae34c(0x508)]({instanceName:_0x316b98},_0x15b7b2){const _0x1247a6=a0_0x5ae34c;if((0x0,re[_0x1247a6(0x74d)])(_0x15b7b2?.[_0x1247a6(0x8a1)]?.[_0x1247a6(0x625)])&&!_0x15b7b2?.[_0x1247a6(0x8a1)]?.['fileName'])throw new m(_0x1247a6(0x4e9));if((0x0,re['isURL'])(_0x15b7b2?.[_0x1247a6(0x8a1)]?.[_0x1247a6(0x625)])||(0x0,re[_0x1247a6(0x74d)])(_0x15b7b2?.[_0x1247a6(0x8a1)]?.['media']))return await this[_0x1247a6(0x5fa)][_0x1247a6(0x428)][_0x316b98]['mediaMessage'](_0x15b7b2);throw new m(_0x1247a6(0x827));}async[a0_0x5ae34c(0x76a)]({instanceName:_0x458920},_0x5d2678){const _0x219612=a0_0x5ae34c;if((0x0,re[_0x219612(0x129)])(_0x5d2678[_0x219612(0x626)][_0x219612(0x86f)])||(0x0,re['isBase64'])(_0x5d2678['stickerMessage'][_0x219612(0x86f)]))return await this[_0x219612(0x5fa)][_0x219612(0x428)][_0x458920][_0x219612(0x62a)](_0x5d2678);throw new m(_0x219612(0x827));}async[a0_0x5ae34c(0x304)]({instanceName:_0x177b0a},_0x53c288){const _0x41fc89=a0_0x5ae34c;if((0x0,re['isURL'])(_0x53c288[_0x41fc89(0x56a)]['audio'])||(0x0,re[_0x41fc89(0x74d)])(_0x53c288['audioMessage']['audio']))return await this[_0x41fc89(0x5fa)]['waInstances'][_0x177b0a]['audioWhatsapp'](_0x53c288);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x5ae34c(0x14f)]({instanceName:_0x244f66},_0xb939af){const _0x2b1fc1=a0_0x5ae34c;return await this[_0x2b1fc1(0x5fa)][_0x2b1fc1(0x428)][_0x244f66][_0x2b1fc1(0x2e2)](_0xb939af);}async['sendLocation']({instanceName:_0x11e0be},_0x3b3574){const _0x5858e6=a0_0x5ae34c;return await this[_0x5858e6(0x5fa)][_0x5858e6(0x428)][_0x11e0be][_0x5858e6(0x2c0)](_0x3b3574);}async[a0_0x5ae34c(0x759)]({instanceName:_0x22ff59},_0x407779){const _0x56b5c6=a0_0x5ae34c;return await this[_0x56b5c6(0x5fa)][_0x56b5c6(0x428)][_0x22ff59][_0x56b5c6(0x3f5)](_0x407779);}async[a0_0x5ae34c(0x628)]({instanceName:_0x3aa02e},_0x4817a8){const _0x1acfc5=a0_0x5ae34c;return await this[_0x1acfc5(0x5fa)]['waInstances'][_0x3aa02e]['listMessage'](_0x4817a8);}async[a0_0x5ae34c(0x1d2)]({instanceName:_0x3b6d5c},_0x298cfa){const _0x41c781=a0_0x5ae34c;return await this['waMonitor'][_0x41c781(0x428)][_0x3b6d5c]['contactMessage'](_0x298cfa);}async[a0_0x5ae34c(0x879)]({instanceName:_0x5270c6},_0x424be3){const _0x2f1d64=a0_0x5ae34c;if(!_0x424be3[_0x2f1d64(0x696)][_0x2f1d64(0x4d6)][_0x2f1d64(0x80b)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x2f1d64(0x4c6));return await this['waMonitor'][_0x2f1d64(0x428)][_0x5270c6][_0x2f1d64(0x696)](_0x424be3);}async[a0_0x5ae34c(0x4f1)]({instanceName:_0xde4e49},_0x1b60b2){const _0x4ca5ae=a0_0x5ae34c;return await this[_0x4ca5ae(0x5fa)][_0x4ca5ae(0x428)][_0xde4e49]['statusMessage'](_0x1b60b2);}},Pi=require(a0_0x5ae34c(0x1f7)),js=require(a0_0x5ae34c(0x48e)),Kt=class u{constructor(_0xd01811,_0x4e9448,_0x1e2af9){const _0xdd9e16=a0_0x5ae34c;this[_0xdd9e16(0x89b)]=_0xd01811,this['waMonitor']=_0x4e9448,this[_0xdd9e16(0x20b)]=_0x1e2af9,this[_0xdd9e16(0x5c7)]=new $(u[_0xdd9e16(0x48b)]);}async[a0_0x5ae34c(0x735)](_0x5ec748){const _0x5d3eb5=a0_0x5ae34c;let _0x1f50a5=this[_0x5d3eb5(0x89b)]['get'](_0x5d3eb5(0x4f4))[_0x5d3eb5(0x3c8)],_0x5b24a5=(0x0,Pi[_0x5d3eb5(0x880)])({'instanceName':_0x5ec748[_0x5d3eb5(0x87e)],'apiName':ot,'tokenId':(0x0,js['v4'])()},_0x1f50a5[_0x5d3eb5(0x3a8)],{'expiresIn':_0x1f50a5[_0x5d3eb5(0x395)],'encoding':_0x5d3eb5(0x86e),'subject':'g-t'}),_0xe8943b=await this[_0x5d3eb5(0x20b)][_0x5d3eb5(0x3cb)][_0x5d3eb5(0x591)]({'jwt':_0x5b24a5},_0x5ec748[_0x5d3eb5(0x87e)]);if(_0xe8943b['error'])throw this[_0x5d3eb5(0x5c7)][_0x5d3eb5(0x6f3)]({'localError':u[_0x5d3eb5(0x48b)]+_0x5d3eb5(0x3a3),'error':_0xe8943b[_0x5d3eb5(0x6f3)]}),new m('Authentication\x20error',_0xe8943b['error']?.['toString']());return{'jwt':_0x5b24a5};}async[a0_0x5ae34c(0x471)](_0x1ae489){const _0x2aa8ff=a0_0x5ae34c;let _0x1134a8=(0x0,js['v4'])()[_0x2aa8ff(0x25e)](),_0x191329=await this['repository']['auth'][_0x2aa8ff(0x591)]({'apikey':_0x1134a8},_0x1ae489[_0x2aa8ff(0x87e)]);if(_0x191329[_0x2aa8ff(0x6f3)])throw this[_0x2aa8ff(0x5c7)][_0x2aa8ff(0x6f3)]({'localError':u['name']+_0x2aa8ff(0x3a3),'error':_0x191329['error']}),new m(_0x2aa8ff(0x32f),_0x191329['error']?.[_0x2aa8ff(0x663)]());return{'apikey':_0x1134a8};}async[a0_0x5ae34c(0x488)](_0x5d5edc){const _0x228d7a=a0_0x5ae34c;let _0x576a32=this['configService']['get'](_0x228d7a(0x4f4));return await this[_0x576a32[_0x228d7a(0x2ec)]](_0x5d5edc);}},Qt=class{constructor(_0x131d67){const _0x838f9e=a0_0x5ae34c;this[_0x838f9e(0x5fa)]=_0x131d67;}async[a0_0x5ae34c(0x3cd)](_0x1d7500,_0x3ebd3a){const _0x593850=a0_0x5ae34c;return await this[_0x593850(0x5fa)]['waInstances'][_0x1d7500[_0x593850(0x87e)]][_0x593850(0x3cd)](_0x3ebd3a);}async[a0_0x5ae34c(0x785)](_0x315b18,_0x439dee){const _0xa48695=a0_0x5ae34c;return await this[_0xa48695(0x5fa)][_0xa48695(0x428)][_0x315b18[_0xa48695(0x87e)]]['updateGroupPicture'](_0x439dee);}async['groupDesc'](_0x4f1672,_0x561cca){const _0x1efe86=a0_0x5ae34c;return await this[_0x1efe86(0x5fa)][_0x1efe86(0x428)][_0x4f1672[_0x1efe86(0x87e)]][_0x1efe86(0x8a3)](_0x561cca);}async[a0_0x5ae34c(0x255)](_0x4ebbec,_0x46762e){const _0x321b93=a0_0x5ae34c;return await this[_0x321b93(0x5fa)][_0x321b93(0x428)][_0x4ebbec['instanceName']][_0x321b93(0x255)](_0x46762e);}async[a0_0x5ae34c(0x6a4)](_0xfdb0c9,_0x45c61d){const _0x545394=a0_0x5ae34c;return await this[_0x545394(0x5fa)][_0x545394(0x428)][_0xfdb0c9['instanceName']][_0x545394(0x6a4)](_0x45c61d);}async[a0_0x5ae34c(0x657)](_0x3e2cee,_0x259e9a){const _0x147548=a0_0x5ae34c;return await this[_0x147548(0x5fa)][_0x147548(0x428)][_0x3e2cee[_0x147548(0x87e)]]['groupSetting'](_0x259e9a);}async[a0_0x5ae34c(0x7c1)](_0x324e2d,_0x3b7424){const _0x233e3f=a0_0x5ae34c;return await this[_0x233e3f(0x5fa)][_0x233e3f(0x428)][_0x324e2d['instanceName']][_0x233e3f(0x809)](_0x3b7424);}async[a0_0x5ae34c(0x383)](_0x2bc4ea){const _0x5453a6=a0_0x5ae34c;return await this[_0x5453a6(0x5fa)][_0x5453a6(0x428)][_0x2bc4ea['instanceName']][_0x5453a6(0x383)]();}async[a0_0x5ae34c(0x805)](_0x49417c,_0x25a5bb){const _0x2cd4f4=a0_0x5ae34c;return await this['waMonitor']['waInstances'][_0x49417c[_0x2cd4f4(0x87e)]][_0x2cd4f4(0x805)](_0x25a5bb);}async[a0_0x5ae34c(0x55f)](_0x4e7d27,_0x4e8157){const _0x8067b=a0_0x5ae34c;return await this[_0x8067b(0x5fa)][_0x8067b(0x428)][_0x4e7d27['instanceName']]['joinGroup'](_0x4e8157);}async[a0_0x5ae34c(0x73f)](_0x2f9d0b,_0x2aa878){const _0x442d91=a0_0x5ae34c;return await this[_0x442d91(0x5fa)][_0x442d91(0x428)][_0x2f9d0b['instanceName']]['groupGetInviteInfo'](_0x2aa878);}async['revokeInviteCode'](_0x2fe72b,_0x1cff55){const _0x548283=a0_0x5ae34c;return await this[_0x548283(0x5fa)][_0x548283(0x428)][_0x2fe72b[_0x548283(0x87e)]]['revokeInviteCode'](_0x1cff55);}async['findParticipants'](_0x24d3a8,_0x3e59d4){const _0x446451=a0_0x5ae34c;return await this[_0x446451(0x5fa)][_0x446451(0x428)][_0x24d3a8[_0x446451(0x87e)]][_0x446451(0x525)](_0x3e59d4);}async[a0_0x5ae34c(0x169)](_0x5b01ed,_0x4a2bdb){const _0x53b46a=a0_0x5ae34c;return await this['waMonitor'][_0x53b46a(0x428)][_0x5b01ed[_0x53b46a(0x87e)]]['updateGParticipant'](_0x4a2bdb);}async[a0_0x5ae34c(0x546)](_0x54a10d,_0x5dfe3){const _0x330d3c=a0_0x5ae34c;return await this['waMonitor'][_0x330d3c(0x428)][_0x54a10d[_0x330d3c(0x87e)]][_0x330d3c(0x546)](_0x5dfe3);}async[a0_0x5ae34c(0x2bd)](_0x80231d,_0x319cdb){const _0x2bb00a=a0_0x5ae34c;return await this['waMonitor'][_0x2bb00a(0x428)][_0x80231d[_0x2bb00a(0x87e)]][_0x2bb00a(0x2bd)](_0x319cdb);}},Yt=class{constructor(_0x217ab2){this['waMonitor']=_0x217ab2;}[a0_0x5ae34c(0x591)](_0xe9da6b,_0x1ee6a4){const _0x376001=a0_0x5ae34c;return this[_0x376001(0x5fa)][_0x376001(0x428)][_0xe9da6b[_0x376001(0x87e)]][_0x376001(0x1cd)](_0x1ee6a4);}async['find'](_0x222150){const _0x180892=a0_0x5ae34c;try{return await this[_0x180892(0x5fa)][_0x180892(0x428)][_0x222150[_0x180892(0x87e)]][_0x180892(0x507)]();}catch{return{'enabled':null,'url':''};}}},ch=new $(a0_0x5ae34c(0x5ff)),Xt=class{constructor(_0x25d819){this['waMonitor']=_0x25d819;}async[a0_0x5ae34c(0x34c)](_0x25507e,_0x52a828){const _0x17b0d0=a0_0x5ae34c;return await this[_0x17b0d0(0x5fa)][_0x17b0d0(0x428)][_0x25507e['instanceName']]['editScheduleMessage'](_0x52a828);}async[a0_0x5ae34c(0x636)](_0x1893ee){const _0x268f72=a0_0x5ae34c;return await this['waMonitor'][_0x268f72(0x428)][_0x1893ee[_0x268f72(0x87e)]][_0x268f72(0x636)]();}async[a0_0x5ae34c(0x33a)](_0x1985de){const _0x3b5215=a0_0x5ae34c;return await this[_0x3b5215(0x5fa)][_0x3b5215(0x428)][_0x1985de[_0x3b5215(0x87e)]][_0x3b5215(0x33a)]();}async[a0_0x5ae34c(0x66a)](_0x248017){const _0x4a90d9=a0_0x5ae34c;return await this[_0x4a90d9(0x5fa)][_0x4a90d9(0x428)][_0x248017[_0x4a90d9(0x87e)]][_0x4a90d9(0x66a)]();}async[a0_0x5ae34c(0x278)](_0x533d7a){const _0x30093d=a0_0x5ae34c;return await this[_0x30093d(0x5fa)][_0x30093d(0x428)][_0x533d7a[_0x30093d(0x87e)]][_0x30093d(0x278)]();}async['updateAgent'](_0x588c3a,_0x16c888){const _0x29c0e7=a0_0x5ae34c;return await this[_0x29c0e7(0x5fa)][_0x29c0e7(0x428)][_0x588c3a[_0x29c0e7(0x87e)]][_0x29c0e7(0x63c)](_0x16c888);}async[a0_0x5ae34c(0x624)](_0x24070e,_0x2d0739){const _0x452f49=a0_0x5ae34c;return await this[_0x452f49(0x5fa)][_0x452f49(0x428)][_0x24070e[_0x452f49(0x87e)]]['updateCustomFields'](_0x2d0739);}async[a0_0x5ae34c(0x7bb)](_0x29c335,_0x5b5821){const _0x2de948=a0_0x5ae34c;return await this[_0x2de948(0x5fa)][_0x2de948(0x428)][_0x29c335[_0x2de948(0x87e)]]['updateAutoCompleteMessages'](_0x5b5821);}async[a0_0x5ae34c(0x28e)](_0x3c657a,_0x5efd90){const _0x3d96e8=a0_0x5ae34c;return await this[_0x3d96e8(0x5fa)]['waInstances'][_0x3c657a[_0x3d96e8(0x87e)]]['updateFlowConfig'](_0x5efd90);}async[a0_0x5ae34c(0x198)](_0x27c385,_0x2bcd70){const _0xe4f62c=a0_0x5ae34c;return await this[_0xe4f62c(0x5fa)]['waInstances'][_0x27c385[_0xe4f62c(0x87e)]][_0xe4f62c(0x198)](_0x2bcd70);}async[a0_0x5ae34c(0x342)](_0x315cb5,_0x210bd,_0x167447,_0x421892){const _0x478592=a0_0x5ae34c;return await this[_0x478592(0x5fa)][_0x478592(0x428)][_0x315cb5][_0x478592(0x342)](_0x210bd,_0x167447,_0x421892);}async[a0_0x5ae34c(0x2b4)](_0x7f9f06,_0x43e7fa){const _0x11e412=a0_0x5ae34c;return await this['waMonitor'][_0x11e412(0x428)][_0x7f9f06['instanceName']]['getConversation'](_0x43e7fa);}async['fetchConversation'](_0xab586e,_0x127452){const _0x103a32=a0_0x5ae34c;return await this[_0x103a32(0x5fa)][_0x103a32(0x428)][_0xab586e['instanceName']][_0x103a32(0x61c)](_0x127452);}async['editConversation'](_0x2e494e,_0x5b1d6e){const _0x2ea780=a0_0x5ae34c;return await this[_0x2ea780(0x5fa)]['waInstances'][_0x2e494e['instanceName']]['editConversation'](_0x5b1d6e);}async[a0_0x5ae34c(0x1f4)](_0x5aca40,_0x2d56b8){const _0xede9c6=a0_0x5ae34c;return await this[_0xede9c6(0x5fa)][_0xede9c6(0x428)][_0x5aca40[_0xede9c6(0x87e)]][_0xede9c6(0x1f4)](_0x2d56b8);}async[a0_0x5ae34c(0x707)](_0x2abce6,_0xaecf60){const _0x3d8dc0=a0_0x5ae34c;return await this[_0x3d8dc0(0x5fa)][_0x3d8dc0(0x428)][_0x2abce6[_0x3d8dc0(0x87e)]][_0x3d8dc0(0x707)](_0xaecf60['_id']);}async[a0_0x5ae34c(0x120)](_0x27beec,_0x1a53a2,_0xb5671e){const _0x308c13=a0_0x5ae34c;return await this[_0x308c13(0x5fa)][_0x308c13(0x428)][_0x27beec[_0x308c13(0x87e)]][_0x308c13(0x120)](_0x1a53a2,_0xb5671e);}async['editFlow'](_0x160371,_0x376d2c,_0x1c4936){const _0x3ade44=a0_0x5ae34c;return await this[_0x3ade44(0x5fa)][_0x3ade44(0x428)][_0x160371[_0x3ade44(0x87e)]][_0x3ade44(0x435)](_0x376d2c,_0x1c4936);}async['editFlowBlock'](_0x3b1f4f,_0x5524a6){const _0x3eb592=a0_0x5ae34c;return await this[_0x3eb592(0x5fa)]['waInstances'][_0x3b1f4f[_0x3eb592(0x87e)]]['editFlowBlock'](_0x5524a6);}async['editFlowReply'](_0xa9e327,_0x255ba9){const _0x330192=a0_0x5ae34c;return await this[_0x330192(0x5fa)][_0x330192(0x428)][_0xa9e327[_0x330192(0x87e)]][_0x330192(0x4ae)](_0x255ba9);}async[a0_0x5ae34c(0x736)](_0x470bdb,_0x3285e4){const _0x42b91c=a0_0x5ae34c;return await this[_0x42b91c(0x5fa)]['waInstances'][_0x470bdb[_0x42b91c(0x87e)]][_0x42b91c(0x736)](_0x3285e4);}async['editFlowCondition'](_0x27a369,_0x34e7a3){const _0x507532=a0_0x5ae34c;return await this['waMonitor'][_0x507532(0x428)][_0x27a369[_0x507532(0x87e)]][_0x507532(0x22a)](_0x34e7a3);}async[a0_0x5ae34c(0x1d8)](_0x400426,_0x276d2e){const _0x5c53f9=a0_0x5ae34c;return await this[_0x5c53f9(0x5fa)][_0x5c53f9(0x428)][_0x400426['instanceName']][_0x5c53f9(0x1d8)](_0x276d2e);}async[a0_0x5ae34c(0x122)](_0x5c784d,_0x53eba8){const _0x4f527d=a0_0x5ae34c;return await this['waMonitor'][_0x4f527d(0x428)][_0x5c784d[_0x4f527d(0x87e)]][_0x4f527d(0x122)](_0x53eba8);}async['deleteFlow'](_0x4fe677,_0x2d6113){const _0x291bf1=a0_0x5ae34c;return await this[_0x291bf1(0x5fa)][_0x291bf1(0x428)][_0x4fe677['instanceName']][_0x291bf1(0x127)](_0x2d6113);}async[a0_0x5ae34c(0x200)](_0x56e246){const _0x576f8a=a0_0x5ae34c;return await this[_0x576f8a(0x5fa)][_0x576f8a(0x428)][_0x56e246[_0x576f8a(0x87e)]][_0x576f8a(0x200)]();}},Zt=class{constructor(_0x29725a){const _0x5007bf=a0_0x5ae34c;this[_0x5007bf(0x6a8)]=_0x29725a;}async[a0_0x5ae34c(0x666)](_0x1ebd7d,_0x52e83a){const _0x29d999=a0_0x5ae34c;return this[_0x29d999(0x6a8)]['create'](_0x1ebd7d,_0x52e83a);}async[a0_0x5ae34c(0x507)](_0x141588){const _0x1d7ac0=a0_0x5ae34c;return this[_0x1d7ac0(0x6a8)][_0x1d7ac0(0x42c)](_0x141588);}},es=class extends O{constructor(_0x479c3e,_0x24d495){const _0x341bec=a0_0x5ae34c;super(_0x24d495),this[_0x341bec(0x7a1)]=_0x479c3e,this[_0x341bec(0x89b)]=_0x24d495;}async[a0_0x5ae34c(0x591)](_0x3b6a17,_0x468762){const _0x59ba6e=a0_0x5ae34c;try{return this[_0x59ba6e(0x2fa)][_0x59ba6e(0x3d3)]?{'insertCount':(await this[_0x59ba6e(0x7a1)][_0x59ba6e(0x270)]({'_id':_0x468762},{..._0x3b6a17},{'upsert':!0x0}))[_0x59ba6e(0x3d4)]}:{'insertCount':0x1};}catch(_0x1a681a){return _0x1a681a;}}async['delete'](_0x3765e4){const _0x38afb4=a0_0x5ae34c;try{if(this[_0x38afb4(0x2fa)][_0x38afb4(0x3d3)]){await this['webhookModel'][_0x38afb4(0x45c)]({'_id':_0x3765e4});return;}}catch(_0xe9f254){return{'error':_0xe9f254};}}async['find'](_0x3c32fc){const _0xecdfc1=a0_0x5ae34c;try{if(this['dbSettings']['ENABLED'])return await this[_0xecdfc1(0x7a1)][_0xecdfc1(0x875)]({'_id':_0x3c32fc});}catch{return{};}}},ts=class extends O{constructor(_0x4f67ad,_0x380e08){const _0x1124cc=a0_0x5ae34c;super(_0x380e08),this['authModel']=_0x4f67ad,this[_0x1124cc(0x89b)]=_0x380e08,this['auth']=_0x380e08[_0x1124cc(0x52d)]('AUTHENTICATION');}async[a0_0x5ae34c(0x591)](_0x3ff968,_0x34e18b){const _0x3c8b98=a0_0x5ae34c;try{if(this['dbSettings']['ENABLED'])return{'insertCount':(await this['authModel'][_0x3c8b98(0x41a)]({'_id':_0x34e18b},{'$set':{..._0x3ff968}},{'upsert':!0x0}))[_0x3c8b98(0x3d4)]};}catch(_0x4c7182){return{'error':_0x4c7182};}}async[a0_0x5ae34c(0x565)](_0x3d94b7,_0x3dd2f8){const _0x10fb33=a0_0x5ae34c;try{if(this[_0x10fb33(0x2fa)][_0x10fb33(0x3d3)])return{'insertCount':(await this[_0x10fb33(0x341)][_0x10fb33(0x4ad)](_0x3d94b7,{'$set':_0x3dd2f8},{'upsert':!0x1}))[_0x10fb33(0x3d4)]};throw new Error(_0x10fb33(0x282));}catch(_0x4cfc31){return{'error':_0x4cfc31};}}async[a0_0x5ae34c(0x2cf)](_0x5d9455){const _0x3bd899=a0_0x5ae34c;try{if(this['dbSettings'][_0x3bd899(0x3d3)])return{'insertCount':(await this[_0x3bd899(0x341)][_0x3bd899(0x2cf)](_0x5d9455))['deletedCount']};throw new Error('[AUTH]\x20Database\x20is\x20not\x20enabled');}catch(_0x35f8a3){return{'error':_0x35f8a3};}}async[a0_0x5ae34c(0x42f)](_0x568c58){const _0x2b8411=a0_0x5ae34c;try{if(this[_0x2b8411(0x2fa)][_0x2b8411(0x3d3)]){await this[_0x2b8411(0x341)][_0x2b8411(0x45c)]({'_id':_0x568c58});return;}}catch(_0x5533d9){return{'error':_0x5533d9};}}async[a0_0x5ae34c(0x42c)](_0x45f1e8){const _0x430ec0=a0_0x5ae34c;try{if(this['dbSettings'][_0x430ec0(0x3d3)])return await this[_0x430ec0(0x341)][_0x430ec0(0x875)]({'_id':_0x45f1e8});}catch{return{};}}async[a0_0x5ae34c(0x2ef)](){const _0x2c10c2=a0_0x5ae34c;try{if(this[_0x2c10c2(0x2fa)][_0x2c10c2(0x3d3)])return await this['authModel'][_0x2c10c2(0x42c)]();}catch{return[];}}async['findMany'](_0x3b3db3){const _0x198e0a=a0_0x5ae34c;try{if(this[_0x198e0a(0x2fa)]['ENABLED'])return await this[_0x198e0a(0x341)][_0x198e0a(0x42c)](_0x3b3db3);}catch{return[];}}},ss=class extends O{async[a0_0x5ae34c(0x45c)](_0x1afda5){const _0x340d46=a0_0x5ae34c;try{let _0x300235=A(_0x1afda5[_0x340d46(0x485)]);return{'deletedCount':(await Me[_0x340d46(0x45c)](_0x300235))['deletedCount']};}catch(_0x1f1210){return{'error':_0x1f1210?.[_0x340d46(0x663)]()};}}async[a0_0x5ae34c(0x41a)](_0x3bc257,_0xddaf1f){const _0xb76585=a0_0x5ae34c;try{let _0x187155=await Me[_0xb76585(0x871)](_0x3bc257);return _0x187155?(Object[_0xb76585(0x41f)](_0x187155,_0xddaf1f),await _0x187155[_0xb76585(0x165)]()):(console[_0xb76585(0x6f3)]('Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:',_0x3bc257),null);}catch(_0x2841d8){return console[_0xb76585(0x6f3)](_0xb76585(0x6a6),_0x2841d8),null;}}async['createAndSave'](_0x3eef5f){const _0x1af200=a0_0x5ae34c;try{return await new Me(_0x3eef5f)['save']();}catch(_0x2190f8){return console[_0x1af200(0x6f3)]('Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:',_0x2190f8),null;}}async['findAll'](_0x4afb1d){const _0xb334bc=a0_0x5ae34c;try{let _0x296587=_0x4afb1d[_0xb334bc(0x485)]??{};return await Me[_0xb334bc(0x42c)](_0x296587)[_0xb334bc(0x5d4)](_0x4afb1d[_0xb334bc(0x5d4)]??0x0)[_0xb334bc(0x4e5)]();}catch(_0x29630a){return console['error'](_0xb334bc(0x812),_0x29630a),[];}}async[a0_0x5ae34c(0x875)](_0x24b30f){const _0xa1dd18=a0_0x5ae34c;try{let _0x2c0875=A(_0x24b30f[_0xa1dd18(0x485)]);return await Me[_0xa1dd18(0x875)](_0x2c0875)[_0xa1dd18(0x4e5)]();}catch{return null;}}},as=class extends O{[a0_0x5ae34c(0x425)](_0x845d5c){return Sa(_0x845d5c);}async[a0_0x5ae34c(0x883)](_0x1e7afa){const _0x18a9a4=a0_0x5ae34c;if(_0x1e7afa[_0x18a9a4(0x3b3)]!==0x0)try{return{'insertCount':(await this[_0x18a9a4(0x425)](_0x1e7afa[0x0][_0x18a9a4(0x1da)])[_0x18a9a4(0x85e)]([..._0x1e7afa]))[_0x18a9a4(0x3b3)]};}catch(_0x2d0919){return _0x2d0919;}}async[a0_0x5ae34c(0x42f)](_0xe18eef,_0x98a2c0){const _0x2c3694=a0_0x5ae34c;try{let _0x252cc2=this[_0x2c3694(0x425)](_0x98a2c0),_0xda3737=A(_0xe18eef[_0x2c3694(0x485)]);return{'deletedCount':(await _0x252cc2[_0x2c3694(0x2cf)](_0xda3737))[_0x2c3694(0x55b)]};}catch(_0x5175c5){return{'error':_0x5175c5?.[_0x2c3694(0x663)]()};}}async[a0_0x5ae34c(0x45c)](_0x2858f,_0xb94eae){const _0x12a41e=a0_0x5ae34c;try{let _0x5ade95=this[_0x12a41e(0x425)](_0xb94eae),_0x575ec2=A(_0x2858f[_0x12a41e(0x485)]);return{'deletedCount':(await _0x5ade95[_0x12a41e(0x45c)](_0x575ec2))[_0x12a41e(0x55b)]};}catch(_0x3f2da4){return{'error':_0x3f2da4?.['toString']()};}}async['update'](_0x3dd90a,_0x50a4c1){const _0x372d3a=a0_0x5ae34c;try{if(_0x3dd90a[_0x372d3a(0x3b3)]===0x0)return;let _0xb7d042=this[_0x372d3a(0x425)](_0x50a4c1),_0x38a274=_0x3dd90a[_0x372d3a(0x89e)](_0x3ea294=>({'updateOne':{'filter':{'name':_0x3ea294[_0x372d3a(0x48b)],'owner':_0x50a4c1},'update':{..._0x3ea294}}})),{modifiedCount:_0x1c4d9c}=await _0xb7d042['bulkWrite'](_0x38a274);return{'insertCount':_0x1c4d9c};}catch{return;}}async[a0_0x5ae34c(0x4ad)](_0x584e7a,_0x2e87e0,_0x2fc9c5){const _0x3d1dc5=a0_0x5ae34c;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x2fc9c5)[_0x3d1dc5(0x4ad)](_0x584e7a,{'$set':_0x2e87e0})[_0x3d1dc5(0x21f)]())[_0x3d1dc5(0x3d4)]};}catch(_0x2f2fed){return console[_0x3d1dc5(0x6f3)]('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0x2f2fed),{'error':_0x2f2fed};}}async['updateOne'](_0x392d3f,_0x3c1a6a,_0x14f2eb){const _0x43a8c3=a0_0x5ae34c;try{return await this[_0x43a8c3(0x425)](_0x14f2eb)[_0x43a8c3(0x6d2)]({'_id':_0x392d3f},{'$set':_0x3c1a6a},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x164f23){return console[_0x43a8c3(0x6f3)](_0x164f23),null;}}async['find'](_0x5bc702,_0xe1afd1){const _0x1a0d63=a0_0x5ae34c;try{return await this[_0x1a0d63(0x425)](_0xe1afd1)[_0x1a0d63(0x42c)](_0x5bc702)['sort']({'lastInteraction':-0x1})['lean']();}catch{return[];}}async[a0_0x5ae34c(0x875)](_0x27da98,_0x279e19){const _0x479821=a0_0x5ae34c;try{return await this[_0x479821(0x425)](_0x279e19)[_0x479821(0x875)]({..._0x27da98[_0x479821(0x485)]})[_0x479821(0x4e5)]();}catch{return null;}}async[a0_0x5ae34c(0x72d)](_0x371bfd){const _0x3993da=a0_0x5ae34c;try{return await this[_0x3993da(0x425)](_0x371bfd)[_0x3993da(0x43d)][_0x3993da(0x3cc)](),{'success':!0x0};}catch(_0xdd9d9f){return console[_0x3993da(0x6f3)](_0xdd9d9f),{'success':!0x1,'error':_0xdd9d9f};}}},is=class extends O{['getScheduleMessageModelForOwner'](_0x69875b){return Ma(_0x69875b);}async[a0_0x5ae34c(0x4ee)](_0x3a660e,_0x477b53){const _0x198376=a0_0x5ae34c;try{return await this['getScheduleMessageModelForOwner'](_0x477b53)[_0x198376(0x4ee)](_0x3a660e);}catch(_0x110097){return console[_0x198376(0x6f3)]('Erro\x20ao\x20executar\x20bulkWrite:',_0x110097),null;}}async['createAndSave'](_0x2bcb9e,_0x5a0ed2){const _0x301123=a0_0x5ae34c;try{let _0x13a18e=this[_0x301123(0x381)](_0x5a0ed2);return await new _0x13a18e(_0x2bcb9e)['save']();}catch(_0xebad6c){return console[_0x301123(0x6f3)](_0x301123(0x6fa),_0xebad6c),null;}}async[a0_0x5ae34c(0x45c)](_0x47a38c,_0x5afaa1){const _0x55a419=a0_0x5ae34c;try{return await this['getScheduleMessageModelForOwner'](_0x5afaa1)[_0x55a419(0x389)](_0x47a38c),{};}catch(_0xf7e8c2){return{'error':_0xf7e8c2?.[_0x55a419(0x663)]()};}}async[a0_0x5ae34c(0x41a)](_0xf699f3,_0x3592d8,_0x4c82ae,_0x310ed5={}){const _0x413a9a=a0_0x5ae34c;try{return await this[_0x413a9a(0x381)](_0x4c82ae)['findOneAndUpdate'](_0xf699f3,_0x3592d8,{..._0x310ed5,'new':!0x0})[_0x413a9a(0x4e5)]();}catch(_0x591bde){return console[_0x413a9a(0x6f3)](_0x413a9a(0x849),_0x591bde),null;}}async[a0_0x5ae34c(0x78f)](_0xd71380,_0x2c624b,_0x20e9bd){const _0x352029=a0_0x5ae34c;try{return await this['getScheduleMessageModelForOwner'](_0x20e9bd)[_0x352029(0x6f2)](_0xd71380,_0x2c624b,{'new':!0x0})[_0x352029(0x4e5)]();}catch(_0x43c69e){return console['error']('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x43c69e),null;}}async['find'](_0x28df0b,_0x3a20fa){const _0x12376a=a0_0x5ae34c;try{return await this[_0x12376a(0x381)](_0x3a20fa)['find'](_0x28df0b['where'])['limit'](_0x28df0b?.['limit']??0x0)['sort']({'when':0x1})[_0x12376a(0x4e5)]();}catch{return[];}}async['findOne'](_0x1d09d2,_0x451578){const _0x1404bb=a0_0x5ae34c;try{return await this['getScheduleMessageModelForOwner'](_0x451578)[_0x1404bb(0x875)](_0x1d09d2['where'])[_0x1404bb(0x3dc)]({'when':0x1})[_0x1404bb(0x4e5)]();}catch{return null;}}async[a0_0x5ae34c(0x871)](_0x408a23,_0x389978){const _0x3dae5d=a0_0x5ae34c;try{return await this[_0x3dae5d(0x381)](_0x389978)[_0x3dae5d(0x871)](_0x408a23)['lean']();}catch{return null;}}async[a0_0x5ae34c(0x2cf)](_0x162bd1,_0x525f74){const _0x1ab43c=a0_0x5ae34c;try{return{'deletedCount':(await this[_0x1ab43c(0x381)](_0x525f74)[_0x1ab43c(0x2cf)](_0x162bd1))['deletedCount']};}catch(_0x93153b){return console[_0x1ab43c(0x6f3)]('Erro\x20ao\x20deletar\x20mensagens:',_0x93153b),{'error':_0x93153b};}}async[a0_0x5ae34c(0x72d)](_0x1d2307){const _0x3e8c0c=a0_0x5ae34c;try{return await this['getScheduleMessageModelForOwner'](_0x1d2307)[_0x3e8c0c(0x43d)][_0x3e8c0c(0x3cc)](),{'success':!0x0};}catch(_0x500ae4){return console[_0x3e8c0c(0x6f3)](_0x500ae4),{'success':!0x1,'error':_0x500ae4};}}},os=class extends O{async['update'](_0xb077b9,_0x1b26ba){const _0x2a320b=a0_0x5ae34c;try{if(this[_0x2a320b(0x2fa)][_0x2a320b(0x3d3)])return await Te[_0x2a320b(0x6d2)]({'_id':_0x1b26ba},{'$set':_0xb077b9},{'new':!0x0});}catch(_0x4be987){throw console['error'](_0x2a320b(0x30b),_0x4be987),_0x4be987;}}async[a0_0x5ae34c(0x20f)](_0x25eb08){const _0xdd288c=a0_0x5ae34c;try{let _0x3f73dc=await Te[_0xdd288c(0x871)](_0x25eb08);return _0x3f73dc?_0x3f73dc[_0xdd288c(0x56b)]||(_0x3f73dc[_0xdd288c(0x56b)]=[],await _0x3f73dc[_0xdd288c(0x165)]()):(_0x3f73dc=new Te({'_id':_0x25eb08,'autoCompleteMessages':[]}),await _0x3f73dc[_0xdd288c(0x165)]()),_0x3f73dc;}catch(_0x1e44e2){return _0x1e44e2[_0xdd288c(0x34a)]===0x2af8&&_0x1e44e2[_0xdd288c(0x5ad)]&&_0x1e44e2['keyPattern'][_0xdd288c(0x7db)]?(console[_0xdd288c(0x6f3)]('Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...'),await Te[_0xdd288c(0x43d)][_0xdd288c(0x4be)]('autoCompleteMessages.command_1'),null):(console[_0xdd288c(0x6f3)](_0xdd288c(0x87b),_0x1e44e2),null);}}},Jo=new $('WA\x20MODULE'),qo=new Qe(S),Vo=new Jt(S),Go=new nt(S),Bo=new qt(oa,S),Wo=new Vt(na,S),zo=new es(ha,S),Ho=new ts(ua,S),Ko=new Ee(We,S),Qo=new ss(S),Yo=new Gt(S),Xo=new as(S),Zo=new is(S),er=new os(S),me=new He(qo,Vo,Go,Bo,Wo,zo,Ho,Ko,Qo,Xo,Yo,Zo,er,T?.[a0_0x5ae34c(0x69d)]()),G=new jt(hs,S,me),tr=new Kt(S,G,me),sr=new Yt(G),As=new Zt(sr),_=new Xt(G),le=new zt(G,S,me,hs,tr),B=new Ht(G),D=new Bt(G),q=new Qt(G);Jo[a0_0x5ae34c(0x31c)](a0_0x5ae34c(0x66f));var $g=require('express-async-errors'),Js=require('fs'),Di=I(require('https')),ki=I(require(a0_0x5ae34c(0x73d))),je=class u{static #e;static set[a0_0x5ae34c(0x193)](_0x5732fc){this.#e=_0x5732fc;}static get[a0_0x5ae34c(0x1e1)](){const _0x1b2ec7=a0_0x5ae34c;let {FULLCHAIN:_0x5df3ae,PRIVKEY:_0x4235bd}=S[_0x1b2ec7(0x52d)](_0x1b2ec7(0x250));return Di[_0x1b2ec7(0x36d)]({'cert':(0x0,Js[_0x1b2ec7(0x229)])(_0x5df3ae),'key':(0x0,Js['readFileSync'])(_0x4235bd)},u.#e);}static get[a0_0x5ae34c(0x73d)](){const _0x1870c0=a0_0x5ae34c;return ki[_0x1870c0(0x36d)](u.#e);}},Je=I(require('fs')),qi=I(require(a0_0x5ae34c(0x2c2))),qe=I(require('axios')),ns=I(require(a0_0x5ae34c(0x69e))),rs=require(a0_0x5ae34c(0x7cc));function ar(){const _0x3596ea=a0_0x5ae34c;G[_0x3596ea(0x123)]();let _0x3a6712=ns[_0x3596ea(0x509)][_0x3596ea(0x88d)](__dirname,_0x3596ea(0x6d8));Ji(_0x3a6712);}var Ji=_0x2a1800=>{const _0x1dedad=a0_0x5ae34c;let _0x55af00=Je[_0x1dedad(0x509)]['readdirSync'](_0x2a1800),_0x4d5714=0xc*0x3c*0x3c*0x3e8,_0x45e062=0x2*0x3c*0x3c*0x3e8,_0x1bf2b3=new Date()['getTime']();_0x55af00['forEach'](_0x35c832=>{const _0x2ebce8=_0x1dedad;let _0x9f2b1c=ns[_0x2ebce8(0x509)][_0x2ebce8(0x88d)](_0x2a1800,_0x35c832),_0x12cf02=Je[_0x2ebce8(0x509)][_0x2ebce8(0x268)](_0x9f2b1c)[_0x2ebce8(0x1d7)][_0x2ebce8(0x16b)]();_0x1bf2b3-_0x12cf02>_0x4d5714&&(Je['default']['unlinkSync'](_0x9f2b1c),console[_0x2ebce8(0x4c0)](_0x2ebce8(0x1be)+_0x35c832));}),setTimeout(()=>Ji(_0x2a1800),_0x45e062);};function ir(){const _0x2f23f2=a0_0x5ae34c;let _0x4287d7=new $(_0x2f23f2(0x61a)),_0x2e8047=(0x0,we[_0x2f23f2(0x509)])();_0x2e8047[_0x2f23f2(0x51c)]((0x0,ji[_0x2f23f2(0x509)])({'origin'(_0x3759a6,_0x5218ef){const _0x382f49=_0x2f23f2;let {ORIGIN:_0x1b724b}=S['get'](_0x382f49(0x7a9));return _0x3759a6||(_0x3759a6='*'),_0x1b724b[_0x382f49(0x5ef)]('*')!==-0x1||_0x1b724b[_0x382f49(0x5ef)](_0x3759a6)!==-0x1?_0x5218ef(null,!0x0):_0x5218ef(new Error(_0x382f49(0x289)));},'methods':[...S['get'](_0x2f23f2(0x7a9))[_0x2f23f2(0x6fd)]],'credentials':S[_0x2f23f2(0x52d)](_0x2f23f2(0x7a9))[_0x2f23f2(0x7a5)]}),(0x0,we[_0x2f23f2(0x7eb)])({'extended':!0x0,'limit':_0x2f23f2(0x60f)}),(0x0,we[_0x2f23f2(0x6e5)])({'limit':_0x2f23f2(0x60f)})),_0x2e8047['use']((_0x3de9e4,_0x5cddfa,_0x28660c)=>{const _0x1e9a40=_0x2f23f2;_0x3de9e4[_0x1e9a40(0x69e)][_0x1e9a40(0x6ed)](_0x1e9a40(0x502))?_0x28660c():(0x0,Ui[_0x1e9a40(0x509)])()(_0x3de9e4,_0x5cddfa,_0x28660c);}),_0x2e8047[_0x2f23f2(0x137)](_0x2f23f2(0x3d5),_0x2f23f2(0x457)),_0x2e8047[_0x2f23f2(0x137)](_0x2f23f2(0x59b),(0x0,Vs['join'])(ne,'views')),_0x2e8047[_0x2f23f2(0x51c)](we[_0x2f23f2(0x509)][_0x2f23f2(0x2e3)]((0x0,Vs[_0x2f23f2(0x88d)])(ne,'public'))),_0x2e8047[_0x2f23f2(0x51c)]((_0x3cfc65,_0x3467c9,_0xac4b4f)=>{const _0x4926de=_0x2f23f2;let _0x548a26=_0x3467c9[_0x4926de(0x135)];_0x3467c9['send']=function(_0x9f8c0f){const _0x471a8c=_0x4926de;if(_0x3cfc65[_0x471a8c(0x801)]['convert']===_0x471a8c(0x245)||_0x3cfc65['headers'][_0x471a8c(0x332)]===_0x471a8c(0x245)){let _0x5d00a5=JSON[_0x471a8c(0x35b)](_0x9f8c0f);_0x9f8c0f=JSON[_0x471a8c(0x751)](_0x4ab144(_0x5d00a5));}return _0x548a26[_0x471a8c(0x645)](_0x3467c9,[_0x9f8c0f]);},_0xac4b4f();}),_0x2e8047[_0x2f23f2(0x51c)]('/',ke),_0x2e8047[_0x2f23f2(0x51c)]((_0x45a279,_0x27a561,_0x68b673,_0x5b25db)=>{const _0x3d4d46=_0x2f23f2;if(_0x45a279)return _0x68b673[_0x3d4d46(0x41e)](_0x45a279[_0x3d4d46(0x41e)]||0x1f4)[_0x3d4d46(0x6e5)](_0x45a279);},(_0x14aebf,_0x459235,_0x522d74)=>{const _0x43bea3=_0x2f23f2;let {method:_0x4c1d9d,url:_0x5a7a10}=_0x14aebf;_0x459235['status'](0x194)[_0x43bea3(0x6e5)]({'status':0x194,'message':_0x43bea3(0x86c)+_0x4c1d9d['toUpperCase']()+'\x20'+_0x5a7a10,'error':_0x43bea3(0x644)}),_0x522d74();});let _0x4ab144=(_0x27d6d2,_0x14df77='_p_')=>{const _0x34b242=_0x2f23f2;let _0x621a8c=(_0x3637b5,_0x388157=null,_0x474b4e=!0x1)=>{const _0x36ec8f=a0_0x475a;let _0x3fd414={};return Object['keys'](_0x3637b5)[_0x36ec8f(0x478)](_0x17f93a=>{const _0x560a67=_0x36ec8f;let _0x4fa4ef=_0x3637b5[_0x17f93a],_0x32db30=''+_0x14df77+_0x17f93a;_0x388157&&!_0x474b4e&&(_0x32db30=_0x388157+'.'+_0x17f93a),!_0x4fa4ef&&_0x4fa4ef!==0x0&&_0x4fa4ef!==!0x1||typeof _0x4fa4ef>'u'?_0x3fd414[_0x32db30]=null:typeof _0x4fa4ef!=_0x560a67(0x79d)&&!Array['isArray'](_0x4fa4ef)?_0x3fd414[_0x32db30]=_0x4fa4ef:typeof _0x4fa4ef==_0x560a67(0x79d)&&!Array[_0x560a67(0x40e)](_0x4fa4ef)?_0x3fd414=Object[_0x560a67(0x41f)](_0x3fd414,_0x621a8c(_0x4fa4ef,_0x32db30)):Array[_0x560a67(0x40e)](_0x4fa4ef)&&(typeof _0x4fa4ef[0x0]==_0x560a67(0x79d)?(_0x3fd414[_0x32db30]=[],_0x4fa4ef['forEach'](_0x18ecf2=>{const _0x38d014=_0x560a67;_0x3fd414[_0x32db30][_0x38d014(0x6dd)](_0x621a8c(_0x18ecf2,_0x32db30,!0x0));})):_0x3fd414[_0x32db30]=_0x4fa4ef);}),_0x3fd414;};return Array[_0x34b242(0x40e)](_0x27d6d2)?_0x27d6d2[_0x34b242(0x89e)](_0xc8ee96=>_0x621a8c(_0xc8ee96)):typeof _0x27d6d2==_0x34b242(0x79d)&&_0x27d6d2!==null?_0x621a8c(_0x27d6d2):{};},_0x4fb04e=S['get'](_0x2f23f2(0x61a));je[_0x2f23f2(0x193)]=_0x2e8047;let _0x54c229=je[_0x4fb04e[_0x2f23f2(0x2ec)]],_0xeb9f33='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x54c229[_0x2f23f2(0x151)](_0x4fb04e[_0x2f23f2(0x3d7)],()=>{const _0x1c3bec=_0x2f23f2;_0x4287d7[_0x1c3bec(0x4c0)](_0xeb9f33),_0x4287d7[_0x1c3bec(0x4c0)](_0x4fb04e[_0x1c3bec(0x2ec)][_0x1c3bec(0x25e)]()+_0x1c3bec(0x10d)+_0x4fb04e['PORT']);}),ar(),Zs();}var or=a0_0x5ae34c(0x181),rr=ns[a0_0x5ae34c(0x509)][a0_0x5ae34c(0x88d)](__dirname,a0_0x5ae34c(0x242)),Re=null;function nr(){return new Promise((_0x1af528,_0x398412)=>{const _0x3c836d=a0_0x475a;Je[_0x3c836d(0x509)][_0x3c836d(0x3d2)](rr,'utf-8',(_0x4fb80e,_0x21e96a)=>{const _0x35b269=_0x3c836d;if(_0x4fb80e){Re=_0x4fb80e,_0x1af528();return;}qi['default'][_0x35b269(0x35b)](_0x21e96a)[_0x35b269(0x2d3)][_0x35b269(0x787)]===or?(Re=null,_0x1af528()):(Re=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x1af528());});});}async function cr(){const _0x14815b=a0_0x5ae34c;try{await nr(),await Bi();}catch(_0xdf164d){console[_0x14815b(0x6f3)](_0x14815b(0x64a)+_0xdf164d),process[_0x14815b(0x19a)](0x1);}}cr();async function Vi(){const _0x59b248=a0_0x5ae34c;let _0x3bb968;try{_0x3bb968=(await qe[_0x59b248(0x509)][_0x59b248(0x52d)](_0x59b248(0x1a9)))[_0x59b248(0x14a)]['ip'];}catch(_0x36bbb0){console[_0x59b248(0x6f3)](_0x36bbb0);try{_0x3bb968=(await qe[_0x59b248(0x509)]['get'](_0x59b248(0x652)))[_0x59b248(0x14a)]['ip'];}catch(_0x134f8d){console[_0x59b248(0x6f3)](_0x134f8d);try{_0x3bb968=(await qe[_0x59b248(0x509)][_0x59b248(0x52d)]('http://checkip.dyndns.org'))[_0x59b248(0x14a)]['match'](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x458f19){return console[_0x59b248(0x6f3)](_0x458f19),!0x1;}}}return _0x3bb968;}var Li=0x0;async function lr(){const _0x9a06be=a0_0x5ae34c;let _0x4ed1df=await new ue(S[_0x9a06be(0x52d)](_0x9a06be(0x746)))[_0x9a06be(0x15e)]();return console[_0x9a06be(0x4c0)](_0x9a06be(0x3cf),_0x4ed1df[_0x9a06be(0x3b3)]),_0x4ed1df[_0x9a06be(0x3b3)];}function ur(_0x560d4c){const _0x4eff11=a0_0x5ae34c;let _0x250d81=_0x560d4c[_0x4eff11(0x52d)](_0x4eff11(0x61a))['URL'],_0x4f6870=_0x560d4c[_0x4eff11(0x52d)](_0x4eff11(0x250));console[_0x4eff11(0x4c0)](_0x4eff11(0x1db),_0x250d81),console[_0x4eff11(0x4c0)]('Configuração\x20SSL\x20recuperada:',_0x4f6870);let _0x93d966='',_0x3c4436=_0x250d81||'';if(_0x250d81){let _0xd2abac=_0x250d81['match'](/\/\/(.*?)\./);console['log']('Resultado\x20da\x20correspondência\x20de\x20URL:',_0xd2abac),_0xd2abac&&_0xd2abac[0x1]&&(_0x93d966=_0xd2abac[0x1],console[_0x4eff11(0x4c0)](_0x4eff11(0x7e3),_0x93d966));}if(!_0x93d966&&_0x4f6870&&_0x4f6870[_0x4eff11(0x1f5)]){let _0x2e75a6=_0x4f6870[_0x4eff11(0x1f5)]['split']('/');console[_0x4eff11(0x4c0)](_0x4eff11(0x683),_0x2e75a6);let _0x4fd50f=_0x2e75a6[_0x2e75a6[_0x4eff11(0x3b3)]-0x2];if(console[_0x4eff11(0x4c0)](_0x4eff11(0x33d),_0x4fd50f),_0x4fd50f){let _0x550013=_0x4fd50f['split']('.');console['log'](_0x4eff11(0x675),_0x550013),_0x550013[_0x4eff11(0x3b3)]>0x2&&(_0x93d966=_0x550013[0x0],console['log'](_0x4eff11(0x589),_0x93d966),_0x3c4436=''+_0x4fd50f);}}return{'subdomain':_0x93d966||_0x4eff11(0x116),'fullURL':_0x3c4436||_0x4eff11(0x1b7)};}var {subdomain:he,fullURL:Gs}=ur(S);console[a0_0x5ae34c(0x4c0)](a0_0x5ae34c(0x12f),he),console[a0_0x5ae34c(0x4c0)]('URL\x20completa:',Gs);async function dr(){const _0x507b46=a0_0x5ae34c;let _0x572557=S['get'](_0x507b46(0x746)),_0x68d815=S[_0x507b46(0x52d)](_0x507b46(0x4f4))[_0x507b46(0x450)][_0x507b46(0x857)],_0x484c40=S[_0x507b46(0x52d)](_0x507b46(0x250)),_0x36b885=await Vi(),_0x3f45f6=S[_0x507b46(0x52d)](_0x507b46(0x61a))[_0x507b46(0x3d7)],_0x7f9a64=Gs;try{let _0x27851a={'ip':_0x36b885||null,'redis_enable':_0x572557?.['ENABLED']||null,'apikey':_0x68d815||null,'ssl':_0x484c40?.[_0x507b46(0x77d)]||null,'lastupdate':Gi||null,'port':_0x3f45f6||null,'gitInstallError':Re?.[_0x507b46(0x80a)]||null,'url':_0x7f9a64||null,'subdomain':he};if(console[_0x507b46(0x4c0)](_0x507b46(0x2be),_0x27851a['ip']),_0x572557&&_0x572557[_0x507b46(0x3d3)]){let _0x384deb=await lr();_0x27851a[_0x507b46(0x781)]=_0x384deb||null;}for(let _0x587442 in _0x27851a)_0x27851a[_0x507b46(0x5f0)](_0x587442)&&_0x587442!=='ip'&&(_0x27851a[_0x587442]=JSON[_0x507b46(0x751)](_0x27851a[_0x587442]));return(await qe[_0x507b46(0x509)][_0x507b46(0x256)](_0x507b46(0x26a),_0x27851a))[_0x507b46(0x14a)];}catch(_0x58b103){return console[_0x507b46(0x6f3)](_0x58b103),!0x1;}}var qs=!0x1,Gi=0x280,pr=0x3,Fi=0x1b7740;async function Bi(){const _0x5df3ce=a0_0x5ae34c;let _0x250c64=_0x5df3ce(0x2f9);Re===null&&(_0x250c64=await Vi());let _0x55b733=await dr();if(_0x55b733){if(_0x55b733[_0x5df3ce(0x286)]['licenca']===!0x0){Re===null&&_0x55b733[_0x5df3ce(0x286)][_0x5df3ce(0x154)]-Gi>0x0&&await hr(),qs||(qs=!0x0,ir());let _0x5ca005=0x24*0x3c*0x3c,_0x225942=_0x55b733[_0x5df3ce(0x286)]['segundos']>_0x5ca005?_0x5ca005:_0x55b733[_0x5df3ce(0x286)][_0x5df3ce(0x819)],_0x4cc740=Number(_0x225942);if(isNaN(_0x4cc740)){console[_0x5df3ce(0x6f3)](_0x5df3ce(0x5ae));return;}let _0x7c7bcb=Math['floor'](_0x4cc740/0xe10),_0x4ea1ac=Math['floor'](_0x4cc740%0xe10/0x3c),_0x1e2e0f=new Date(Date[_0x5df3ce(0x776)]()+_0x4cc740*0x3e8);setTimeout(()=>{console['log']('Reiniciando\x20a\x20aplicação...'),process['exit'](0x0);},_0x4cc740*0x3e8);let _0x1c400e=_0x132118=>_0x132118['toString']()['padStart'](0x2,'0'),_0x947ada='Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20'+_0x1c400e(_0x7c7bcb)+'\x20horas\x20e\x20'+_0x1c400e(_0x4ea1ac)+_0x5df3ce(0x29b)+_0x1c400e(_0x1e2e0f[_0x5df3ce(0x269)]())+':'+_0x1c400e(_0x1e2e0f['getMinutes']())+'.';console[_0x5df3ce(0x4c0)](_0x947ada);}else return console['log'](_0x5df3ce(0x4aa)),qs&&(console[_0x5df3ce(0x4c0)](_0x5df3ce(0x616)),process[_0x5df3ce(0x19a)]()),_0x5df3ce(0x2f8);}else{if(Li++,Li<pr)console[_0x5df3ce(0x4c0)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+Fi/0xea60+_0x5df3ce(0x1bc)),setTimeout(Bi,Fi);else return console[_0x5df3ce(0x6f3)](_0x5df3ce(0x824)),_0x5df3ce(0x3f7);}}async function hr(){const _0x5cbc7f=a0_0x5ae34c;console[_0x5cbc7f(0x4c0)](_0x5cbc7f(0x6e9)),console[_0x5cbc7f(0x4c0)](_0x5cbc7f(0x480)),(0x0,rs['spawn'])(_0x5cbc7f(0x32b),{'shell':!0x0})['on'](_0x5cbc7f(0x3b2),_0x3bd576=>{const _0x1c9e76=_0x5cbc7f;_0x3bd576!==0x0?console['error'](_0x1c9e76(0x694)):(console[_0x1c9e76(0x4c0)](_0x1c9e76(0x868)),console[_0x1c9e76(0x4c0)](_0x1c9e76(0x1ce)),(0x0,rs['spawn'])('rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys',{'shell':!0x0})['on']('close',_0x26842c=>{const _0x316b48=_0x1c9e76;if(_0x26842c!==0x0)console['error'](_0x316b48(0x409));else{console[_0x316b48(0x4c0)]('Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.');let _0x117fc5=(0x0,rs['spawn'])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x117fc5[_0x316b48(0x1d3)]['on'](_0x316b48(0x14a),_0x3d3bff=>{const _0x170dad=_0x316b48;console[_0x170dad(0x4c0)](_0x170dad(0x156)+_0x3d3bff);}),_0x117fc5['stderr']['on'](_0x316b48(0x14a),_0x369746=>{const _0x40a164=_0x316b48;console[_0x40a164(0x6f3)](_0x40a164(0x5fb)+_0x369746);}),_0x117fc5['on'](_0x316b48(0x19a),_0x592fee=>{const _0x31228f=_0x316b48;_0x592fee!==0x0?console[_0x31228f(0x6f3)](_0x31228f(0x860)+_0x592fee):console[_0x31228f(0x4c0)](_0x31228f(0x212)),console[_0x31228f(0x4c0)]('Parando\x20aplicação...'),setTimeout(()=>process[_0x31228f(0x19a)](),0x2710);});}}));});}0x0&&(module['exports']={'fullURL':fullURL,'subdomain':subdomain});