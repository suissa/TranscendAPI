const a0_0x1bb7e5=a0_0x5772;(function(_0x44ff14,_0x269de2){const _0x4988e3=a0_0x5772,_0x28163e=_0x44ff14();while(!![]){try{const _0x5bf1cf=parseInt(_0x4988e3(0x1db))/0x1+parseInt(_0x4988e3(0x2b6))/0x2*(-parseInt(_0x4988e3(0x57d))/0x3)+parseInt(_0x4988e3(0x47c))/0x4*(-parseInt(_0x4988e3(0x3a5))/0x5)+-parseInt(_0x4988e3(0x8a7))/0x6+parseInt(_0x4988e3(0x57f))/0x7*(parseInt(_0x4988e3(0x2a8))/0x8)+parseInt(_0x4988e3(0x646))/0x9*(parseInt(_0x4988e3(0x1e4))/0xa)+parseInt(_0x4988e3(0x50d))/0xb*(-parseInt(_0x4988e3(0x30a))/0xc);if(_0x5bf1cf===_0x269de2)break;else _0x28163e['push'](_0x28163e['shift']());}catch(_0x1f07d){_0x28163e['push'](_0x28163e['shift']());}}}(a0_0x30bb,0x2d274));var Bi=Object[a0_0x1bb7e5(0x3e3)],qe=Object['defineProperty'],Wi=Object['getOwnPropertyDescriptor'],zi=Object[a0_0x1bb7e5(0x850)],Hi=Object[a0_0x1bb7e5(0x2cd)],Ki=Object[a0_0x1bb7e5(0x388)][a0_0x1bb7e5(0x4f1)],Qi=(_0x3916d5,_0x14fbdc)=>{for(var _0x58ec2c in _0x14fbdc)qe(_0x3916d5,_0x58ec2c,{'get':_0x14fbdc[_0x58ec2c],'enumerable':!0x0});},Bs=(_0x5161b4,_0x2a1008,_0x3bf5c7,_0x5cef80)=>{const _0x319b7e=a0_0x1bb7e5;if(_0x2a1008&&typeof _0x2a1008=='object'||typeof _0x2a1008==_0x319b7e(0x4c5)){for(let _0x5db45c of zi(_0x2a1008))!Ki[_0x319b7e(0x24a)](_0x5161b4,_0x5db45c)&&_0x5db45c!==_0x3bf5c7&&qe(_0x5161b4,_0x5db45c,{'get':()=>_0x2a1008[_0x5db45c],'enumerable':!(_0x5cef80=Wi(_0x2a1008,_0x5db45c))||_0x5cef80[_0x319b7e(0x2e7)]});}return _0x5161b4;},T=(_0x4fb07b,_0x5be654,_0x55f9f8)=>(_0x55f9f8=_0x4fb07b!=null?Bi(Hi(_0x4fb07b)):{},Bs(_0x5be654||!_0x4fb07b||!_0x4fb07b[a0_0x1bb7e5(0x4d9)]?qe(_0x55f9f8,a0_0x1bb7e5(0x4b7),{'value':_0x4fb07b,'enumerable':!0x0}):_0x55f9f8,_0x4fb07b)),Yi=_0x44c437=>Bs(qe({},a0_0x1bb7e5(0x4d9),{'value':!0x0}),_0x44c437),hr={};Qi(hr,{'fullURL':()=>Gs,'subdomain':()=>B}),module[a0_0x1bb7e5(0x6a5)]=Yi(hr);var Ui=T(require(a0_0x1bb7e5(0x1ec))),zs=require('fs'),Hs=require(a0_0x1bb7e5(0x49e)),Ks=require(a0_0x1bb7e5(0x255)),Ve=require(a0_0x1bb7e5(0x255)),le=process['cwd'](),Se=(0x0,Ve[a0_0x1bb7e5(0x518)])(le,a0_0x1bb7e5(0x56b)),Ws=(0x0,Ve[a0_0x1bb7e5(0x518)])(le,a0_0x1bb7e5(0x8df)),mn=(0x0,Ve['join'])(le,a0_0x1bb7e5(0x1d4),a0_0x1bb7e5(0x4a4)),us=class{constructor(){const _0x54d3a8=a0_0x1bb7e5;this[_0x54d3a8(0x1a2)]();}[a0_0x1bb7e5(0x8a5)](_0x3398d3){return this['env'][_0x3398d3];}[a0_0x1bb7e5(0x1a2)](){const _0x34ef27=a0_0x1bb7e5;this['env']=process[_0x34ef27(0x620)]?.[_0x34ef27(0x836)]!==_0x34ef27(0x8c7)?this['envYaml']():this['envProcess'](),process[_0x34ef27(0x620)]?.[_0x34ef27(0x836)]===_0x34ef27(0x8c7)&&(this[_0x34ef27(0x620)]['SERVER'][_0x34ef27(0x572)]=_0x34ef27(0x6f1),this[_0x34ef27(0x620)]['SERVER']['PORT']=Number[_0x34ef27(0x4b8)](process[_0x34ef27(0x620)]?.[_0x34ef27(0x300)]??_0x34ef27(0x8ed)));}['envYaml'](){const _0x49f555=a0_0x1bb7e5;return(0x0,Hs[_0x49f555(0x73c)])((0x0,zs[_0x49f555(0x869)])((0x0,Ks['join'])(Ws,_0x49f555(0x87d)),{'encoding':'utf-8'}));}['envProcess'](){const _0x769aa8=a0_0x1bb7e5;return{'SERVER':{'TYPE':process[_0x769aa8(0x620)][_0x769aa8(0x22b)],'PORT':Number['parseInt'](process['env'][_0x769aa8(0x300)]),'URL':process[_0x769aa8(0x620)]['SERVER_URL']},'CORS':{'ORIGIN':process[_0x769aa8(0x620)][_0x769aa8(0x3dc)][_0x769aa8(0x53e)](','),'METHODS':process[_0x769aa8(0x620)][_0x769aa8(0x709)]['split'](','),'CREDENTIALS':process['env']?.['CORS_CREDENTIALS']===_0x769aa8(0x8c7)},'SSL_CONF':{'PRIVKEY':process[_0x769aa8(0x620)]?.[_0x769aa8(0x422)],'FULLCHAIN':process['env']?.[_0x769aa8(0x532)]},'STORE':{'CLEANING_INTERVAL':Number[_0x769aa8(0x44e)](process[_0x769aa8(0x620)]?.[_0x769aa8(0x878)])?Number[_0x769aa8(0x4b8)](process[_0x769aa8(0x620)][_0x769aa8(0x878)]):void 0x0,'MESSAGES':process[_0x769aa8(0x620)]?.[_0x769aa8(0x238)]==='true','CONTACTS':process[_0x769aa8(0x620)]?.[_0x769aa8(0x815)]===_0x769aa8(0x8c7),'CHATS':process[_0x769aa8(0x620)]?.['STORE_CHATS']==='true'},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x769aa8(0x63a)],'PORT':Number[_0x769aa8(0x4b8)](process[_0x769aa8(0x620)]?.[_0x769aa8(0x63a)]),'USER':process[_0x769aa8(0x620)][_0x769aa8(0x77c)],'PASSWORD':process['env']['DATABASE_CONNECTION_PASSWORD'],'URI':process[_0x769aa8(0x620)][_0x769aa8(0x562)],'DB_PREFIX_NAME':process[_0x769aa8(0x620)][_0x769aa8(0x5ac)]},'ENABLED':process['env']?.[_0x769aa8(0x58c)]===_0x769aa8(0x8c7)},'REDIS':{'ENABLED':process[_0x769aa8(0x620)]?.['REDIS_ENABLED']===_0x769aa8(0x8c7),'URI':process[_0x769aa8(0x620)][_0x769aa8(0x4b1)]||_0x769aa8(0x332),'PREFIX_KEY':process['env'][_0x769aa8(0x3a6)]||_0x769aa8(0x433)},'LOG':{'LEVEL':process[_0x769aa8(0x620)]?.[_0x769aa8(0x8de)]['split'](','),'COLOR':process[_0x769aa8(0x620)]?.[_0x769aa8(0x43b)]===_0x769aa8(0x8c7)},'PROXY':process[_0x769aa8(0x620)]?.[_0x769aa8(0x35c)]===_0x769aa8(0x8c7),'AUTHENTICATION':{'TYPE':process[_0x769aa8(0x620)][_0x769aa8(0x629)],'API_KEY':{'KEY':process[_0x769aa8(0x620)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x769aa8(0x44e)](process[_0x769aa8(0x620)]?.[_0x769aa8(0x4b0)])?Number[_0x769aa8(0x4b8)](process[_0x769aa8(0x620)][_0x769aa8(0x4b0)]):0xe10,'SECRET':process[_0x769aa8(0x620)][_0x769aa8(0x461)]}}};}},S=new us(),ji=T(require(a0_0x1bb7e5(0x3f8))),ye=T(require('express')),qs=require(a0_0x1bb7e5(0x255)),ds=T(require(a0_0x1bb7e5(0x449))),ps=(_0x494b06=>(_0x494b06[a0_0x1bb7e5(0x881)]=a0_0x1bb7e5(0x59b),_0x494b06['INFO']=a0_0x1bb7e5(0x637),_0x494b06['WARN']='\x1b[33m',_0x494b06[a0_0x1bb7e5(0x281)]=a0_0x1bb7e5(0x2e6),_0x494b06[a0_0x1bb7e5(0x549)]='\x1b[36m',_0x494b06[a0_0x1bb7e5(0x326)]=a0_0x1bb7e5(0x4ad),_0x494b06[a0_0x1bb7e5(0x50a)]=a0_0x1bb7e5(0x331),_0x494b06))(ps||{}),Qs=(_0x4336aa=>(_0x4336aa['LOG']=a0_0x1bb7e5(0x551),_0x4336aa[a0_0x1bb7e5(0x50a)]='\x1b[30m%s\x1b[0m',_0x4336aa['INFO']=a0_0x1bb7e5(0x907),_0x4336aa[a0_0x1bb7e5(0x6c4)]=a0_0x1bb7e5(0x1ff),_0x4336aa[a0_0x1bb7e5(0x281)]=a0_0x1bb7e5(0x40c),_0x4336aa[a0_0x1bb7e5(0x549)]=a0_0x1bb7e5(0x7ed),_0x4336aa[a0_0x1bb7e5(0x326)]=a0_0x1bb7e5(0x6d6),_0x4336aa))(Qs||{}),Ys=(_0x3c4a0e=>(_0x3c4a0e[a0_0x1bb7e5(0x881)]='LOG',_0x3c4a0e[a0_0x1bb7e5(0x6c4)]='WARN',_0x3c4a0e[a0_0x1bb7e5(0x1e9)]='INFO',_0x3c4a0e['DARK']=a0_0x1bb7e5(0x50a),_0x3c4a0e[a0_0x1bb7e5(0x281)]=a0_0x1bb7e5(0x281),_0x3c4a0e[a0_0x1bb7e5(0x549)]=a0_0x1bb7e5(0x549),_0x3c4a0e['VERBOSE']=a0_0x1bb7e5(0x326),_0x3c4a0e))(Ys||{}),Xs=(_0x20370f=>(_0x20370f[a0_0x1bb7e5(0x881)]=a0_0x1bb7e5(0x47d),_0x20370f[a0_0x1bb7e5(0x1e9)]='\x1b[44m',_0x20370f['WARN']=a0_0x1bb7e5(0x3e2),_0x20370f['DARK']=a0_0x1bb7e5(0x811),_0x20370f['ERROR']=a0_0x1bb7e5(0x51b),_0x20370f[a0_0x1bb7e5(0x549)]=a0_0x1bb7e5(0x20f),_0x20370f[a0_0x1bb7e5(0x326)]=a0_0x1bb7e5(0x78b),_0x20370f))(Xs||{}),$=class{constructor(_0x2f5d52='Logger'){const _0x2f0edb=a0_0x1bb7e5;this[_0x2f0edb(0x28b)]=_0x2f5d52,this[_0x2f0edb(0x3bc)]=S;}[a0_0x1bb7e5(0x61e)](_0x57418c){this['context']=_0x57418c;}[a0_0x1bb7e5(0x1ab)](_0x2a30ea,_0x2ebe95){const _0x2d38ff=a0_0x1bb7e5;let _0x396029=[];this[_0x2d38ff(0x3bc)][_0x2d38ff(0x8a5)](_0x2d38ff(0x881))[_0x2d38ff(0x457)][_0x2d38ff(0x70b)](_0xb2e411=>_0x396029[_0x2d38ff(0x62c)](Ys[_0xb2e411]));let _0x172a2c=typeof _0x2a30ea;_0x396029[_0x2d38ff(0x460)](_0x2ebe95)&&(S[_0x2d38ff(0x8a5)]('LOG')[_0x2d38ff(0x4be)]?(console[_0x2d38ff(0x493)](_0x2d38ff(0x911)+Qs[_0x2ebe95],'\x1b[1m\x1b[37m',(0x0,ds[_0x2d38ff(0x4b7)])()['format'](_0x2d38ff(0x913)),_0x2d38ff(0x3a2),ps[_0x2ebe95]+Xs[_0x2ebe95]+_0x2d38ff(0x911),_0x2ebe95+_0x2d38ff(0x430),_0x2d38ff(0x2e4),this[_0x2d38ff(0x28b)]+_0x2d38ff(0x3a2),ps[_0x2ebe95],_0x172a2c!==_0x2d38ff(0x8d4)?_0x2a30ea:'',_0x2d38ff(0x3a2)),_0x172a2c===_0x2d38ff(0x8d4)&&console['log'](_0x2a30ea,'\x0a')):console[_0x2d38ff(0x493)]((0x0,ds[_0x2d38ff(0x4b7)])()[_0x2d38ff(0x2ce)](_0x2d38ff(0x1cc)),_0x2ebe95+'\x20',''+this['context'],_0x2a30ea));}[a0_0x1bb7e5(0x493)](_0x918a1){const _0x12618a=a0_0x1bb7e5;this[_0x12618a(0x1ab)](_0x918a1,_0x12618a(0x881));}['info'](_0x1cbf8e){const _0x39a0f3=a0_0x1bb7e5;this[_0x39a0f3(0x1ab)](_0x1cbf8e,'INFO');}[a0_0x1bb7e5(0x1be)](_0x288994){const _0x5c693b=a0_0x1bb7e5;this[_0x5c693b(0x1ab)](_0x288994,'WARN');}[a0_0x1bb7e5(0x834)](_0x483d98){const _0x199da5=a0_0x1bb7e5;this[_0x199da5(0x1ab)](_0x483d98,'ERROR');}['verbose'](_0x4feeb5){const _0x234a52=a0_0x1bb7e5;this['console'](_0x4feeb5,_0x234a52(0x326));}[a0_0x1bb7e5(0x7e2)](_0x5946e3){const _0x4401d2=a0_0x1bb7e5;this['console'](_0x5946e3,_0x4401d2(0x549));}[a0_0x1bb7e5(0x5fb)](_0x22702a){const _0x5f19b4=a0_0x1bb7e5;this[_0x5f19b4(0x1ab)](_0x22702a,_0x5f19b4(0x50a));}};function Zs(){const _0x53ac03=a0_0x1bb7e5;process['on'](_0x53ac03(0x27c),(_0x24a248,_0x32c615)=>{const _0xd81413=_0x53ac03;new $('uncaughtException')[_0xd81413(0x834)]({'origin':_0x32c615,'stderr':process[_0xd81413(0x237)]['fd'],'error':_0x24a248});}),process['on']('unhandledRejection',(_0x138710,_0x79adac)=>{const _0x2f40c6=_0x53ac03;new $('unhandledRejection')[_0x2f40c6(0x834)]({'origin':_0x79adac,'stderr':process[_0x2f40c6(0x237)]['fd'],'error':_0x138710});});}var ea=T(require(a0_0x1bb7e5(0x26a))),hs=new ea['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Me=require(a0_0x1bb7e5(0x2f3)),Ae=T(require(a0_0x1bb7e5(0x2f3))),Ge=new $(a0_0x1bb7e5(0x1ed)),L=S['get']('DATABASE'),I=L[a0_0x1bb7e5(0x2ab)]?L[a0_0x1bb7e5(0x6bc)]['URI']?Ae[a0_0x1bb7e5(0x4b7)][a0_0x1bb7e5(0x7fb)](L['CONNECTION']['URI'],{'dbName':L[a0_0x1bb7e5(0x6bc)][a0_0x1bb7e5(0x2fc)]+a0_0x1bb7e5(0x857)}):Ae['default'][a0_0x1bb7e5(0x7fb)](a0_0x1bb7e5(0x7b6)+L[a0_0x1bb7e5(0x6bc)]['HOST']+':'+L[a0_0x1bb7e5(0x6bc)][a0_0x1bb7e5(0x261)]+a0_0x1bb7e5(0x284),{'user':L[a0_0x1bb7e5(0x6bc)]['USER'],'pass':L[a0_0x1bb7e5(0x6bc)][a0_0x1bb7e5(0x6d8)],'dbName':L['CONNECTION'][a0_0x1bb7e5(0x2fc)]+a0_0x1bb7e5(0x857)}):null;L['ENABLED']&&Ge[a0_0x1bb7e5(0x6b1)]('ON\x20-\x20dbName:\x20'+I['$dbName']);var X=L[a0_0x1bb7e5(0x2ab)]?L[a0_0x1bb7e5(0x6bc)][a0_0x1bb7e5(0x7e9)]?Ae[a0_0x1bb7e5(0x4b7)]['createConnection'](L['CONNECTION'][a0_0x1bb7e5(0x7e9)],{'dbName':a0_0x1bb7e5(0x303)}):Ae[a0_0x1bb7e5(0x4b7)]['createConnection'](a0_0x1bb7e5(0x7b6)+L['CONNECTION'][a0_0x1bb7e5(0x80d)]+':'+L[a0_0x1bb7e5(0x6bc)][a0_0x1bb7e5(0x261)]+a0_0x1bb7e5(0x284),{'user':L[a0_0x1bb7e5(0x6bc)][a0_0x1bb7e5(0x3d3)],'pass':L[a0_0x1bb7e5(0x6bc)][a0_0x1bb7e5(0x6d8)],'dbName':'cachedContacts-whatsapp'}):null;X&&Ge[a0_0x1bb7e5(0x6b1)](a0_0x1bb7e5(0x434)+X[a0_0x1bb7e5(0x5e2)]),process['on'](a0_0x1bb7e5(0x361),()=>{const _0x520045=a0_0x1bb7e5;I&&I[_0x520045(0x66a)](()=>{const _0x3ed0af=_0x520045;Ge[_0x3ed0af(0x6b1)](_0x3ed0af(0x30c));}),X&&X[_0x520045(0x66a)](()=>{const _0x29f6d5=_0x520045;Ge[_0x29f6d5(0x6b1)](_0x29f6d5(0x24f));});});var Xi=new Me[(a0_0x1bb7e5(0x8bc))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Zi=new Me[(a0_0x1bb7e5(0x8bc))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),eo=new Me[(a0_0x1bb7e5(0x8bc))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),to=new Me[(a0_0x1bb7e5(0x8bc))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Xi],'default':[]}},{'_id':!0x1}),so=new Me[(a0_0x1bb7e5(0x8bc))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':to,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Zi},'groupdata':{'type':eo,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ta=_0x348bb3=>{const _0x2cf417=a0_0x1bb7e5;let _0x513f05='z_'+_0x348bb3+_0x2cf417(0x771);return I?.[_0x2cf417(0x618)](_0x2cf417(0x2ad),so,_0x513f05);},sa=require(a0_0x1bb7e5(0x2f3)),ao=new sa[(a0_0x1bb7e5(0x8bc))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=_0x3dd00f=>{const _0x1e81dc=a0_0x1bb7e5;let _0x3cfb63='z_'+_0x3dd00f+_0x1e81dc(0x61d);return I?.[_0x1e81dc(0x618)](_0x1e81dc(0x73f),ao,_0x3cfb63);},ia=require(a0_0x1bb7e5(0x2f3)),gs=class{},io=new ia['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),oa=X?.[a0_0x1bb7e5(0x618)](gs[a0_0x1bb7e5(0x8f0)],io,a0_0x1bb7e5(0x5f6)),ra=require(a0_0x1bb7e5(0x2f3)),ms=class{},oo=new ra[(a0_0x1bb7e5(0x8bc))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Be=X?.[a0_0x1bb7e5(0x618)](ms[a0_0x1bb7e5(0x8f0)],oo,a0_0x1bb7e5(0x56b)),ws=require(a0_0x1bb7e5(0x2f3)),fs=class{},ro=new ws[(a0_0x1bb7e5(0x8bc))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),no=new ws['Schema']({'_id':{'type':String},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),na=X?.['model'](fs[a0_0x1bb7e5(0x8f0)],no,'messagesLogs'),ca=_0x108096=>{const _0x4c4ea6=a0_0x1bb7e5;let _0x413180='z_'+_0x108096+'_Messages';return I?.[_0x4c4ea6(0x618)](_0x4c4ea6(0x5f9),ro,_0x413180);},la=require(a0_0x1bb7e5(0x2f3)),ys=class{},co=new la[(a0_0x1bb7e5(0x8bc))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ua=I?.[a0_0x1bb7e5(0x618)](ys[a0_0x1bb7e5(0x8f0)],co,a0_0x1bb7e5(0x203)),da=require(a0_0x1bb7e5(0x2f3)),bs=class{},pa=new da[(a0_0x1bb7e5(0x8bc))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});pa['pre'](a0_0x1bb7e5(0x499),function(_0xd8176d){const _0x52b8b2=a0_0x1bb7e5;delete this[_0x52b8b2(0x88a)],delete this[_0x52b8b2(0x41d)],delete this[_0x52b8b2(0x4b6)],delete this[_0x52b8b2(0x49d)],delete this['flowStopMinutes'],_0xd8176d();});var ha=I?.[a0_0x1bb7e5(0x618)](bs[a0_0x1bb7e5(0x8f0)],pa,'webhook'),P=require(a0_0x1bb7e5(0x2f3)),Ss=require('uuid'),We=class{},Ms=class{},ma=new P['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Cs=new P[(a0_0x1bb7e5(0x8bc))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),lo=new P['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x1bb7e5(0x18f)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x1bb7e5(0x1ca)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x1bb7e5(0x372)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),fa=new P['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),uo=new P['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),po=new P[(a0_0x1bb7e5(0x8bc))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),vs=new P[(a0_0x1bb7e5(0x8bc))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ho=new P[(a0_0x1bb7e5(0x8bc))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),wa=new P[(a0_0x1bb7e5(0x8bc))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':lo},'apirequest':uo,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':ho,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ya=new P[(a0_0x1bb7e5(0x8bc))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ba=new P[(a0_0x1bb7e5(0x8bc))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[vs],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x3aea70=a0_0x1bb7e5;return _0x3aea70(0x89e)+Math['random']()[_0x3aea70(0x684)](0x24)[_0x3aea70(0x2bb)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x1bb7e5(0x718)},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});ba[a0_0x1bb7e5(0x36c)](a0_0x1bb7e5(0x575),function(_0x4e3fb1){const _0x458222=a0_0x1bb7e5;let _0x3b0ddd=this[_0x458222(0x29c)]();if(_0x3b0ddd&&typeof _0x3b0ddd==_0x458222(0x8d4)&&_0x458222(0x660)in _0x3b0ddd){let _0x23761f=_0x3b0ddd[_0x458222(0x660)];if(_0x23761f){let _0x287d70=new Set(),_0x4fedc6=new Set(_0x23761f[_0x458222(0x639)]?.[_0x458222(0x7b7)](_0x125324=>_0x125324[_0x458222(0x8f0)])),_0xb0403d=JSON[_0x458222(0x84a)](_0x23761f),_0x56d946=/{{(?!_)([^}]*)}}/g,_0x362139;for(;(_0x362139=_0x56d946[_0x458222(0x868)](_0xb0403d))!==null;)_0x4fedc6[_0x458222(0x4f9)](_0x362139[0x1])||_0x287d70['add'](_0x362139[0x1]);_0x287d70[_0x458222(0x87e)]>0x0?(console[_0x458222(0x1be)]('Variáveis\x20não\x20encontradas:',Array[_0x458222(0x71c)](_0x287d70)),_0x23761f['variablesNotFound']=Array[_0x458222(0x71c)](_0x287d70)):_0x23761f['variablesNotFound']=[],this[_0x458222(0x2fb)]({'$set':_0x23761f});}}_0x4e3fb1();});var Ce=I?.['model'](Ms['name'],ba,a0_0x1bb7e5(0x33d)),go=new P[(a0_0x1bb7e5(0x8bc))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[vs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[po]},{'_id':!0x1}),mo=new P[(a0_0x1bb7e5(0x8bc))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[vs],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'chatLog':go,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x1bb7e5(0x4c2)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x1bb7e5(0x372)},'waitingMenu_replyOptions':{'type':[Cs],'default':[]}}),Sa=_0x86ef0a=>{const _0x1ac934=a0_0x1bb7e5;let _0x55d451='z_'+_0x86ef0a+_0x1ac934(0x722);return I?.[_0x1ac934(0x618)](_0x1ac934(0x2da),mo,_0x55d451);},fo=new P[(a0_0x1bb7e5(0x8bc))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ga=new P[(a0_0x1bb7e5(0x8bc))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),wo=new P[(a0_0x1bb7e5(0x8bc))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ga],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x1bb7e5(0x648)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[fo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ga,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ma=_0x3f5e97=>{const _0x389e3a=a0_0x1bb7e5;let _0x4a637f='z_'+_0x3f5e97+_0x389e3a(0x252);return I?.['model']('ScheduleMessageModel',wo,_0x4a637f);},Es=class{},yo=new P[(a0_0x1bb7e5(0x8bc))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),bo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),So=new P[(a0_0x1bb7e5(0x8bc))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Mo=new P[(a0_0x1bb7e5(0x8bc))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x1bb7e5(0x320)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),Co=new P[(a0_0x1bb7e5(0x8bc))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Eo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Co]},'customFields':{'type':[So]},'flowConfig':{'type':Mo,'default':{}},'flows':{'type':[bo],'default':[]},'autoCompleteMessages':{'type':[yo],'default':[]}}),Ie=I?.[a0_0x1bb7e5(0x618)](Es[a0_0x1bb7e5(0x8f0)],Eo,a0_0x1bb7e5(0x399)),Ca=require('mongoose'),vo=new Ca[(a0_0x1bb7e5(0x8bc))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ea=_0x5f28f4=>{const _0x403cc5=a0_0x1bb7e5;let _0x31d3e8='z_'+_0x5f28f4+_0x403cc5(0x3fa);return I?.[_0x403cc5(0x618)]('LabelModel',vo,_0x31d3e8);},_=class{constructor(_0x171770){const _0x47d407=a0_0x1bb7e5;this[_0x47d407(0x64b)]=_0x171770[_0x47d407(0x8a5)](_0x47d407(0x7da));}};function A(_0x1808f6){const _0x499510=a0_0x1bb7e5;let _0x29e3ba={};for(let [_0x215353,_0x3cceac]of Object[_0x499510(0x6d7)](_0x1808f6))if(typeof _0x3cceac==_0x499510(0x8d4)&&!Array[_0x499510(0x3ec)](_0x3cceac)){for(let [_0x2613aa,_0x23b790]of Object['entries'](_0x3cceac))_0x29e3ba[_0x215353+'.'+_0x2613aa]=_0x23b790;}else _0x29e3ba[_0x215353]=_0x3cceac;return _0x29e3ba;}var ze=class{constructor(_0x778b47,_0x43a6e2,_0x5a5afb,_0x3b523b,_0x175ca4,_0x44c2f4,_0xdec036,_0x26f439,_0x444c36,_0x3e8f76,_0x44d0ba,_0x1c4903,_0x27757d,_0x5b3938){const _0x4d9a11=a0_0x1bb7e5;this[_0x4d9a11(0x865)]=_0x778b47,this[_0x4d9a11(0x4cc)]=_0x43a6e2,this[_0x4d9a11(0x802)]=_0x5a5afb,this[_0x4d9a11(0x879)]=_0x3b523b,this[_0x4d9a11(0x530)]=_0x175ca4,this['webhook']=_0x44c2f4,this[_0x4d9a11(0x4a4)]=_0xdec036,this[_0x4d9a11(0x3fc)]=_0x26f439,this['flow']=_0x444c36,this[_0x4d9a11(0x489)]=_0x3e8f76,this[_0x4d9a11(0x21a)]=_0x44d0ba,this[_0x4d9a11(0x3e4)]=_0x1c4903,this['automateSystem']=_0x27757d,this[_0x4d9a11(0x625)]=_0x5b3938;}get[a0_0x1bb7e5(0x2ee)](){const _0x4f4654=a0_0x1bb7e5;return this[_0x4f4654(0x625)];}},He=class{},Ke=class extends _{[a0_0x1bb7e5(0x3e0)](_0x17b2ca){return ca(_0x17b2ca);}async['insert'](_0x393ad6,_0x477bf0){const _0xa5bc17=a0_0x1bb7e5;if(_0x393ad6['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x477bf0)[_0xa5bc17(0x7f9)]([..._0x393ad6]))[_0xa5bc17(0x1e1)]};}catch(_0xedd210){return _0xedd210;}}async['find'](_0x3d1ddd,_0x33a022){const _0x501dff=a0_0x1bb7e5;try{let _0x32414b=this[_0x501dff(0x3e0)](_0x33a022),_0x1b1fef=A(_0x3d1ddd[_0x501dff(0x46a)]);return await _0x32414b[_0x501dff(0x42f)](_0x1b1fef)[_0x501dff(0x394)]({'messageTimestamp':-0x1})[_0x501dff(0x540)](_0x3d1ddd?.[_0x501dff(0x540)]??0x0)[_0x501dff(0x5e5)]();}catch{return[];}}async[a0_0x1bb7e5(0x5f4)](_0x5cc4b7,_0x11b013){const _0x408604=a0_0x1bb7e5;try{let _0x95516d=this['getMessageModelForOwner'](_0x11b013),_0x7ab525=A(_0x5cc4b7[_0x408604(0x46a)]);await _0x95516d['deleteMany'](_0x7ab525);}catch(_0x2aaf4a){console[_0x408604(0x834)](_0x2aaf4a);}}async[a0_0x1bb7e5(0x726)](_0x15bd26,_0x1d17f8,_0x329fc8){const _0x1caa32=a0_0x1bb7e5;try{let _0x1917c1=this['getMessageModelForOwner'](_0x329fc8),_0x5269f7=A(_0x15bd26[_0x1caa32(0x46a)]);return await _0x1917c1[_0x1caa32(0x575)](_0x5269f7,{'$set':_0x1d17f8},{'new':!0x0});}catch(_0x145e5b){throw console[_0x1caa32(0x834)](_0x145e5b),_0x145e5b;}}async[a0_0x1bb7e5(0x7f9)](_0x205704,_0x4b6956){const _0x19dc1d=a0_0x1bb7e5;if(_0x205704[_0x19dc1d(0x1e1)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x19dc1d(0x3e0)](_0x4b6956)['insertMany']([..._0x205704]))[_0x19dc1d(0x1e1)]};}catch(_0x1d83df){return console[_0x19dc1d(0x493)]('ERROR:\x20',_0x1d83df),_0x1d83df;}}async[a0_0x1bb7e5(0x66e)](_0x2850da){const _0xf0e8a4=a0_0x1bb7e5;try{return await this[_0xf0e8a4(0x3e0)](_0x2850da)[_0xf0e8a4(0x686)][_0xf0e8a4(0x3df)](),{'success':!0x0};}catch(_0x4ddeb2){return console[_0xf0e8a4(0x834)](_0x4ddeb2),{'success':!0x1,'error':_0x4ddeb2};}}},Ps=T(require(a0_0x1bb7e5(0x2f1))),w=T(require(a0_0x1bb7e5(0x41a))),Le=require('fs'),j=T(require(a0_0x1bb7e5(0x255))),Q=T(require(a0_0x1bb7e5(0x711))),Ii=require('uuid'),Ti=T(require('qrcode')),_i=T(require(a0_0x1bb7e5(0x2b8))),va=[a0_0x1bb7e5(0x669),a0_0x1bb7e5(0x82d),a0_0x1bb7e5(0x70d),a0_0x1bb7e5(0x750),'stickerMessage'],Na=[a0_0x1bb7e5(0x42e),a0_0x1bb7e5(0x70f),a0_0x1bb7e5(0x6cf),a0_0x1bb7e5(0x1a7)],Ds=require('os'),Ft=T(require(a0_0x1bb7e5(0x54f))),Fe=require('child_process'),Oi=require(a0_0x1bb7e5(0x77f)),ge=T(require(a0_0x1bb7e5(0x2f3))),J=require(a0_0x1bb7e5(0x78a)),ue=class{constructor(_0x16e4d9,_0xae3e51,_0x3fc0d8){const _0x4e686e=a0_0x1bb7e5;this[_0x4e686e(0x6c0)]=_0x16e4d9,this[_0x4e686e(0x49c)]=_0xae3e51,this[_0x4e686e(0x8f0)]=_0x3fc0d8;}},Qe=class{},Ye=class{},Te=class{},Xe=class{},Ze=class{},Ee=class{},et=class{},tt=class{},st=class{},at=class{},Ot=T(require('express')),$a=require('fs'),Ra=require(a0_0x1bb7e5(0x255));async function _e(_0x11590b){const _0x477d77=a0_0x1bb7e5;let _0x4d7982=G[_0x477d77(0x5de)][_0x11590b];if(L[_0x477d77(0x2ab)]){let _0x123eaf=I['getClient']()['db'](L[_0x477d77(0x6bc)][_0x477d77(0x2fc)]+_0x477d77(0x24e))[_0x477d77(0x686)](_0x11590b);return _0x4d7982||(await _0x123eaf[_0x477d77(0x42f)]({})[_0x477d77(0x65e)]())[_0x477d77(0x1e1)]>0x0;}return _0x4d7982||(0x0,$a[_0x477d77(0x4d4)])((0x0,Ra[_0x477d77(0x518)])(Se,_0x11590b));}async function Aa(_0x18c256,_0x4f8bcf,_0x21c740){const _0x50a3a6=a0_0x1bb7e5;if(_0x18c256[_0x50a3a6(0x1f9)][_0x50a3a6(0x460)]('/instance/create')||_0x18c256[_0x50a3a6(0x1f9)][_0x50a3a6(0x460)](_0x50a3a6(0x429))||_0x18c256['originalUrl']['includes']('/exit')||_0x18c256['originalUrl']['includes']('/config')||_0x18c256[_0x50a3a6(0x1f9)][_0x50a3a6(0x460)](_0x50a3a6(0x37b))||_0x18c256[_0x50a3a6(0x1f9)]['includes'](_0x50a3a6(0x45d))||_0x18c256[_0x50a3a6(0x1f9)][_0x50a3a6(0x460)](_0x50a3a6(0x751)))return _0x21c740();let _0x2a64c1=_0x18c256['params'];if(!_0x2a64c1?.[_0x50a3a6(0x7fe)])throw new m(_0x50a3a6(0x2ac));if(!await _e(_0x2a64c1['instanceName']))throw new U(_0x50a3a6(0x406)+_0x2a64c1[_0x50a3a6(0x7fe)]+'\x20instance\x20does\x20not\x20exist');_0x21c740();}async function Ia(_0x58a19d,_0x34251c,_0xcdb932){const _0x8eef65=a0_0x1bb7e5;if(_0x58a19d[_0x8eef65(0x1f9)][_0x8eef65(0x460)](_0x8eef65(0x27f))){let _0x585453=_0x58a19d[_0x8eef65(0x76e)];if(await _e(_0x585453[_0x8eef65(0x7fe)]))throw new Z(_0x8eef65(0x607)+_0x585453['instanceName']+_0x8eef65(0x695));G[_0x8eef65(0x5de)][_0x585453[_0x8eef65(0x7fe)]]&&delete G[_0x8eef65(0x5de)][_0x585453[_0x8eef65(0x7fe)]];}_0xcdb932();}var Ta=require(a0_0x1bb7e5(0x78a)),_a=T(require('jsonwebtoken')),it='uazapi',$o=new $(a0_0x1bb7e5(0x3a1));async function Ro(_0x4d8ce6,_0x1b6bcd,_0x3346e8){const _0x4131e9=a0_0x1bb7e5;let _0x1b0fb8=_0x4d8ce6[_0x4131e9(0x8a5)](_0x4131e9(0x198));if(_0x1b0fb8&&S[_0x4131e9(0x8a5)](_0x4131e9(0x8f5))[_0x4131e9(0x2e2)][_0x4131e9(0x38b)]!==_0x1b0fb8)throw new ie();if(S[_0x4131e9(0x8a5)](_0x4131e9(0x8f5))[_0x4131e9(0x2e2)][_0x4131e9(0x38b)]===_0x1b0fb8)return _0x3346e8();if((_0x4d8ce6[_0x4131e9(0x1f9)][_0x4131e9(0x460)](_0x4131e9(0x27f))||_0x4d8ce6[_0x4131e9(0x1f9)][_0x4131e9(0x460)](_0x4131e9(0x429)))&&!_0x1b0fb8)throw new Z(_0x4131e9(0x885),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x4e1840=S['get'](_0x4131e9(0x8f5))[_0x4131e9(0x350)];try{let [_0x23bdd1,_0x4a2f35]=_0x4d8ce6['get'](_0x4131e9(0x4c8))[_0x4131e9(0x53e)]('\x20');if(_0x23bdd1[_0x4131e9(0x519)]()!==_0x4131e9(0x594))throw new ie();if(!(0x0,Ta['isJWT'])(_0x4a2f35))throw new ie();let _0x1675e1=_0x4d8ce6[_0x4131e9(0x910)],_0x29c1db=_a[_0x4131e9(0x4b7)]['verify'](_0x4a2f35,_0x4e1840[_0x4131e9(0x419)],{'ignoreExpiration':_0x4e1840[_0x4131e9(0x2eb)]===0x0});if(_0x1675e1[_0x4131e9(0x7fe)]!==_0x29c1db[_0x4131e9(0x7fe)]||it!==_0x29c1db[_0x4131e9(0x20d)])throw new ie();return _0x3346e8();}catch(_0x2ed0e4){throw $o[_0x4131e9(0x834)](_0x2ed0e4),new ie();}}async function Ao(_0xdec27f,_0x4d1ebf,_0x41b7f8){const _0x19b3f9=a0_0x1bb7e5;let _0x27bbc3=S['get'](_0x19b3f9(0x8f5))['API_KEY'],_0x18b7f2=_0xdec27f[_0x19b3f9(0x8a5)](_0x19b3f9(0x198));if(_0x27bbc3[_0x19b3f9(0x38b)]===_0x18b7f2)return _0x41b7f8();if(_0xdec27f[_0x19b3f9(0x1f9)][_0x19b3f9(0x460)](_0x19b3f9(0x27f))){let _0x181a5b=xa,_0x47bc63=_0xdec27f[_0x19b3f9(0x76e)][_0x19b3f9(0x7fe)];if(_0x181a5b&&_0x47bc63[_0x19b3f9(0x519)]()[_0x19b3f9(0x703)](_0x181a5b[_0x19b3f9(0x519)]()))return _0x41b7f8();if(!_0x18b7f2)throw new Z(_0x19b3f9(0x885),_0x19b3f9(0x71a));}if(_0xdec27f[_0x19b3f9(0x1f9)][_0x19b3f9(0x460)]('/instance/fetchInstances')&&!_0x18b7f2)throw new Z(_0x19b3f9(0x885),_0x19b3f9(0x71a));if(_0xdec27f['originalUrl'][_0x19b3f9(0x460)]('/exit')&&!_0x18b7f2)throw new Z(_0x19b3f9(0x885),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0xdec27f[_0x19b3f9(0x1f9)][_0x19b3f9(0x460)](_0x19b3f9(0x727))&&!_0x18b7f2)throw new Z(_0x19b3f9(0x885),_0x19b3f9(0x71a));try{let _0x2b4692=_0xdec27f[_0x19b3f9(0x910)],_0x367121=await fe['auth'][_0x19b3f9(0x42f)](_0x2b4692[_0x19b3f9(0x7fe)]);if(_0x367121&&_0x367121[_0x19b3f9(0x198)]===_0x18b7f2)return _0x41b7f8();}catch{}throw new ie();}var Oa={'jwt':Ro,'apikey':Ao},pi=require(a0_0x1bb7e5(0x3e6)),C=require('uuid'),E=(..._0x4ca67b)=>{const _0x370958=a0_0x1bb7e5;let _0x5b4186={};return _0x4ca67b[_0x370958(0x70b)](_0xbdada1=>_0x5b4186[_0xbdada1]={'minLength':0x1,'description':_0x370958(0x291)+_0xbdada1+_0x370958(0x40e)}),{'if':{'propertyNames':{'enum':[..._0x4ca67b]}},'then':{'properties':_0x5b4186}};},N={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'instanceName':{'type':a0_0x1bb7e5(0x89c)}},...E('instanceName')},Ac={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'oldToken':{'type':'string'}},'required':[a0_0x1bb7e5(0x8db)],...E(a0_0x1bb7e5(0x8db))},Ic={'properties':{'key':{'type':a0_0x1bb7e5(0x8d4),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x1bb7e5(0x89c)},'fromMe':{'type':a0_0x1bb7e5(0x729),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x1bb7e5(0x1ef)],...E('id','remoteJid')},'message':{'type':a0_0x1bb7e5(0x8d4)}}},oe={'properties':{'delay':{'type':a0_0x1bb7e5(0x44a),'description':a0_0x1bb7e5(0x254)},'presence':{'type':'string','enum':[a0_0x1bb7e5(0x5b5),'available',a0_0x1bb7e5(0x8ac),a0_0x1bb7e5(0x797),a0_0x1bb7e5(0x7c4)]}}},ee={'type':'string','description':'Invalid\x20format'},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'number':{...ee},'options':{...oe},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x1bb7e5(0x89c)}},'required':['text'],...E(a0_0x1bb7e5(0x56d))}},'required':[a0_0x1bb7e5(0x617),a0_0x1bb7e5(0x90d)]},Da={'type':a0_0x1bb7e5(0x89c),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x1bb7e5(0x6e9)},Tc={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Da},'options':{...oe},'textMessage':{'type':a0_0x1bb7e5(0x8d4),'properties':{'text':{'type':a0_0x1bb7e5(0x89c)}},'required':[a0_0x1bb7e5(0x56d)],...E('text')}},'required':[a0_0x1bb7e5(0x617),a0_0x1bb7e5(0x90d)]},_c={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Da},'options':{...oe},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x1bb7e5(0x89c),'enum':['image',a0_0x1bb7e5(0x901),'video',a0_0x1bb7e5(0x582)]},'media':{'type':a0_0x1bb7e5(0x89c)},'fileName':{'type':a0_0x1bb7e5(0x89c)},'caption':{'type':a0_0x1bb7e5(0x89c)}},'required':['mediatype',a0_0x1bb7e5(0x8d7)],...E('fileName',a0_0x1bb7e5(0x6fa),a0_0x1bb7e5(0x8d7))}},'required':[a0_0x1bb7e5(0x897),a0_0x1bb7e5(0x90d)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'number':{...ee},'options':{...oe},'stickerMessage':{'type':a0_0x1bb7e5(0x8d4),'properties':{'image':{'type':a0_0x1bb7e5(0x89c)}},'required':[a0_0x1bb7e5(0x4f5)],...E(a0_0x1bb7e5(0x4f5))}},'required':[a0_0x1bb7e5(0x2c1),a0_0x1bb7e5(0x90d)]},La={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'statusMessage':{'type':a0_0x1bb7e5(0x8d4),'properties':{'type':{'type':'string','enum':[a0_0x1bb7e5(0x56d),a0_0x1bb7e5(0x4f5),a0_0x1bb7e5(0x582),'video']},'content':{'type':a0_0x1bb7e5(0x89c)},'caption':{'type':a0_0x1bb7e5(0x89c)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x1bb7e5(0x44a),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x1bb7e5(0x7fc),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x1bb7e5(0x851),'description':a0_0x1bb7e5(0x6e5)}},'allContacts':{'type':a0_0x1bb7e5(0x729),'enum':[!0x0,!0x1]}},'required':[a0_0x1bb7e5(0x358),a0_0x1bb7e5(0x66d)],...E('type',a0_0x1bb7e5(0x66d))}},'required':['statusMessage']},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'number':{...ee},'options':{...oe},'mediaMessage':{'type':a0_0x1bb7e5(0x8d4),'properties':{'mediatype':{'type':a0_0x1bb7e5(0x89c),'enum':[a0_0x1bb7e5(0x4f5),a0_0x1bb7e5(0x901),'video','audio']},'media':{'type':a0_0x1bb7e5(0x89c)},'fileName':{'type':a0_0x1bb7e5(0x89c)},'caption':{'type':'string'}},'required':[a0_0x1bb7e5(0x893),a0_0x1bb7e5(0x8d7)],...E(a0_0x1bb7e5(0x5a6),'caption','media')}},'required':[a0_0x1bb7e5(0x897),a0_0x1bb7e5(0x90d)]},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'number':{...ee},'options':{...oe},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0x1bb7e5(0x89c)}},'required':['audio'],...E(a0_0x1bb7e5(0x582))}},'required':['audioMessage',a0_0x1bb7e5(0x90d)]},ja={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...ee},'pollMessage':{'type':a0_0x1bb7e5(0x8d4),'properties':{'name':{'type':a0_0x1bb7e5(0x89c)},'selectableCount':{'type':a0_0x1bb7e5(0x90d)},'values':{'type':a0_0x1bb7e5(0x7fc),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x1bb7e5(0x1c6),a0_0x1bb7e5(0x32a)],...E(a0_0x1bb7e5(0x8f0),a0_0x1bb7e5(0x1c6),a0_0x1bb7e5(0x32a))}},'required':[a0_0x1bb7e5(0x90d),'pollMessage']},Ja={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...ee},'menuMessage':{'type':'object','properties':{'text':{'type':a0_0x1bb7e5(0x89c)},'choices':{'type':a0_0x1bb7e5(0x7fc),'uniqueItems':!0x0}},'required':[a0_0x1bb7e5(0x56d),'choices'],...E(a0_0x1bb7e5(0x56d),'choices')}},'required':[a0_0x1bb7e5(0x90d),a0_0x1bb7e5(0x1d0)]},qa={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'number':{...ee},'options':{...oe},'locationMessage':{'type':a0_0x1bb7e5(0x8d4),'properties':{'latitude':{'type':'number'},'longitude':{'type':'number'},'name':{'type':a0_0x1bb7e5(0x89c)},'address':{'type':a0_0x1bb7e5(0x89c)}},'required':[a0_0x1bb7e5(0x7dd),a0_0x1bb7e5(0x1c8)],...E('name','addresss')}},'required':[a0_0x1bb7e5(0x90d),a0_0x1bb7e5(0x694)]},Va={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'number':{...ee},'options':{...oe},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x1bb7e5(0x89c)},'description':{'type':a0_0x1bb7e5(0x89c)},'footerText':{'type':a0_0x1bb7e5(0x89c)},'buttonText':{'type':'string'},'sections':{'type':a0_0x1bb7e5(0x7fc),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x1bb7e5(0x89c)},'rows':{'type':a0_0x1bb7e5(0x7fc),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1bb7e5(0x8d4),'properties':{'title':{'type':a0_0x1bb7e5(0x89c)},'description':{'type':a0_0x1bb7e5(0x89c)},'rowId':{'type':a0_0x1bb7e5(0x89c)}},'required':[a0_0x1bb7e5(0x3fd),a0_0x1bb7e5(0x2ea)],...E(a0_0x1bb7e5(0x3fd),a0_0x1bb7e5(0x2ea))}}},'required':[a0_0x1bb7e5(0x3fd),'rows'],...E(a0_0x1bb7e5(0x3fd))}}},'required':[a0_0x1bb7e5(0x3fd),'description',a0_0x1bb7e5(0x8a8),a0_0x1bb7e5(0x3c2)],...E(a0_0x1bb7e5(0x3fd),a0_0x1bb7e5(0x2de),a0_0x1bb7e5(0x8a8),a0_0x1bb7e5(0x6f8))}},'required':[a0_0x1bb7e5(0x90d),a0_0x1bb7e5(0x627)]},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'number':{...ee},'options':{...oe},'contactMessage':{'type':'array','items':{'type':a0_0x1bb7e5(0x8d4),'properties':{'fullName':{'type':a0_0x1bb7e5(0x89c)},'phoneNumber':{'type':a0_0x1bb7e5(0x89c),'minLength':0xa}},'required':['fullName',a0_0x1bb7e5(0x3ce)],...E(a0_0x1bb7e5(0x343))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x1bb7e5(0x90d),'contactMessage']},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'reactionMessage':{'type':a0_0x1bb7e5(0x8d4),'properties':{'key':{'type':a0_0x1bb7e5(0x8d4),'properties':{'id':{'type':a0_0x1bb7e5(0x89c)},'remoteJid':{'type':a0_0x1bb7e5(0x89c)},'fromMe':{'type':a0_0x1bb7e5(0x729),'enum':[!0x0,!0x1]}},'required':['id',a0_0x1bb7e5(0x6d1),'fromMe'],...E('id','remoteJid')},'reaction':{'type':a0_0x1bb7e5(0x89c)}},'required':[a0_0x1bb7e5(0x5bc),a0_0x1bb7e5(0x8a9)],...E(a0_0x1bb7e5(0x8a9))}},'required':[a0_0x1bb7e5(0x1fe)]},Wa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'numbers':{'type':a0_0x1bb7e5(0x7fc),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':'^\x5cd+','description':a0_0x1bb7e5(0x368)}}}},za={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'readMessages':{'type':a0_0x1bb7e5(0x7fc),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x1bb7e5(0x729),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id',a0_0x1bb7e5(0x1ef),a0_0x1bb7e5(0x6d1)],...E('id','remoteJid')}}},'required':[a0_0x1bb7e5(0x395)]},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'privacySettings':{'type':a0_0x1bb7e5(0x8d4),'properties':{'readreceipts':{'type':a0_0x1bb7e5(0x89c),'enum':[a0_0x1bb7e5(0x21b),'none']},'profile':{'type':a0_0x1bb7e5(0x89c),'enum':['all','contacts',a0_0x1bb7e5(0x75d),a0_0x1bb7e5(0x28a)]},'status':{'type':a0_0x1bb7e5(0x89c),'enum':[a0_0x1bb7e5(0x21b),'contacts','contact_blacklist',a0_0x1bb7e5(0x28a)]},'online':{'type':a0_0x1bb7e5(0x89c),'enum':[a0_0x1bb7e5(0x21b),a0_0x1bb7e5(0x3b4)]},'last':{'type':a0_0x1bb7e5(0x89c),'enum':[a0_0x1bb7e5(0x21b),'contacts','contact_blacklist',a0_0x1bb7e5(0x28a)]},'groupadd':{'type':a0_0x1bb7e5(0x89c),'enum':[a0_0x1bb7e5(0x21b),a0_0x1bb7e5(0x6c3),a0_0x1bb7e5(0x75d),a0_0x1bb7e5(0x28a)]}},'required':[a0_0x1bb7e5(0x8f9),a0_0x1bb7e5(0x275),a0_0x1bb7e5(0x362),a0_0x1bb7e5(0x49f),a0_0x1bb7e5(0x75a),a0_0x1bb7e5(0x918)],...E(a0_0x1bb7e5(0x8f9),a0_0x1bb7e5(0x275),a0_0x1bb7e5(0x362),a0_0x1bb7e5(0x49f),a0_0x1bb7e5(0x75a),a0_0x1bb7e5(0x918))}},'required':[a0_0x1bb7e5(0x201)]},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'lastMessage':{'type':a0_0x1bb7e5(0x8d4),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x1bb7e5(0x89c)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x1bb7e5(0x729),'enum':[!0x0,!0x1]}},'required':['id',a0_0x1bb7e5(0x1ef),a0_0x1bb7e5(0x6d1)],...E('id',a0_0x1bb7e5(0x6d1))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':['key'],...E('messageTimestamp')},'archive':{'type':a0_0x1bb7e5(0x729),'enum':[!0x0,!0x1]}},'required':[a0_0x1bb7e5(0x296),a0_0x1bb7e5(0x70c)]},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'id':{'type':a0_0x1bb7e5(0x89c)},'fromMe':{'type':a0_0x1bb7e5(0x729),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x1bb7e5(0x89c)},'participant':{'type':a0_0x1bb7e5(0x89c)}},'required':['id',a0_0x1bb7e5(0x1ef),a0_0x1bb7e5(0x6d1)],...E('id',a0_0x1bb7e5(0x6d1),a0_0x1bb7e5(0x220))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x1bb7e5(0x89c),'minLength':0x1},'pushName':{'type':a0_0x1bb7e5(0x89c),'minLength':0x1},'id':{'type':a0_0x1bb7e5(0x89c),'minLength':0x1}},...E(a0_0x1bb7e5(0x2c4),'id',a0_0x1bb7e5(0x347))}}},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'name':{'type':a0_0x1bb7e5(0x89c)}},...E('name')},Za={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'status':{'type':'string'}},...E('status')},Oe={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'number':{'type':'string'},'picture':{'type':a0_0x1bb7e5(0x89c)}}},ei={'type':'object','properties':{'wuid':{'type':a0_0x1bb7e5(0x89c)},'name':{'type':a0_0x1bb7e5(0x89c)},'picture':{'type':'string'},'status':{'type':a0_0x1bb7e5(0x89c)},'isBusiness':{'type':a0_0x1bb7e5(0x729)}}},ti={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x1bb7e5(0x89c),'minLength':0x1},'key':{'type':a0_0x1bb7e5(0x8d4),'if':{'propertyNames':{'enum':['fromMe',a0_0x1bb7e5(0x6d1),'id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0x1bb7e5(0x3c5)},'id':{'type':a0_0x1bb7e5(0x89c),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':a0_0x1bb7e5(0x729),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...E(a0_0x1bb7e5(0x2c4))},'limit':{'type':a0_0x1bb7e5(0x44a)}}},Oc={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x1bb7e5(0x89c)},'remoteJid':{'type':a0_0x1bb7e5(0x89c)},'id':{'type':a0_0x1bb7e5(0x89c)},'fromMe':{'type':a0_0x1bb7e5(0x729),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x1bb7e5(0x89c)},'status':{'type':a0_0x1bb7e5(0x89c),'enum':[a0_0x1bb7e5(0x281),a0_0x1bb7e5(0x68c),'SERVER_ACK',a0_0x1bb7e5(0x389),'READ','PLAYED']}},...E(a0_0x1bb7e5(0x2c4),'remoteJid','id',a0_0x1bb7e5(0x362))},'limit':{'type':'integer'}}},si={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'number':{...ee},'presence':{'type':a0_0x1bb7e5(0x89c),'enum':[a0_0x1bb7e5(0x5b5),a0_0x1bb7e5(0x3db),a0_0x1bb7e5(0x8ac),'recording',a0_0x1bb7e5(0x7c4)]}},'required':[a0_0x1bb7e5(0x1cb),a0_0x1bb7e5(0x90d)]},ai={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'subject':{'type':a0_0x1bb7e5(0x89c)},'description':{'type':'string'},'profilePicture':{'type':'string'},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1bb7e5(0x89c),'minLength':0xa,'pattern':a0_0x1bb7e5(0x436),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':['subject','participants'],...E(a0_0x1bb7e5(0x645),a0_0x1bb7e5(0x2de),a0_0x1bb7e5(0x8d2))},xe={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'groupJid':{'type':a0_0x1bb7e5(0x89c),'pattern':a0_0x1bb7e5(0x8d6)}},'required':['groupJid'],...E(a0_0x1bb7e5(0x7a3))},ii={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x1bb7e5(0x89c)},'action':{'type':a0_0x1bb7e5(0x89c),'enum':[a0_0x1bb7e5(0x4d2),a0_0x1bb7e5(0x404),a0_0x1bb7e5(0x505),a0_0x1bb7e5(0x467),a0_0x1bb7e5(0x226),a0_0x1bb7e5(0x588)]},'participants':{'type':a0_0x1bb7e5(0x7fc),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1bb7e5(0x89c),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x1bb7e5(0x506)}}},'required':[a0_0x1bb7e5(0x7a3),'action',a0_0x1bb7e5(0x463)],...E(a0_0x1bb7e5(0x7a3),a0_0x1bb7e5(0x517))},oi={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'groupJid':{'type':a0_0x1bb7e5(0x89c)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x1bb7e5(0x7a3),a0_0x1bb7e5(0x354)],...E(a0_0x1bb7e5(0x7a3),a0_0x1bb7e5(0x354))},ri={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x1bb7e5(0x89c)},'image':{'type':'string'}},'required':[a0_0x1bb7e5(0x7a3),'image'],...E(a0_0x1bb7e5(0x7a3),a0_0x1bb7e5(0x4f5))},ni={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x1bb7e5(0x89c)},'description':{'type':'string'}},'required':[a0_0x1bb7e5(0x7a3),'description'],...E(a0_0x1bb7e5(0x7a3),a0_0x1bb7e5(0x2de))},ci={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'groupJid':{'type':a0_0x1bb7e5(0x89c)},'name':{'type':'string'}},'required':[a0_0x1bb7e5(0x7a3),a0_0x1bb7e5(0x8f0)],...E(a0_0x1bb7e5(0x7a3),a0_0x1bb7e5(0x8f0))},li={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'groupJid':{'type':a0_0x1bb7e5(0x89c)},'setting':{'type':a0_0x1bb7e5(0x89c),'enum':['announcement','not_announcement','unlocked','locked']}},'required':[a0_0x1bb7e5(0x7a3),a0_0x1bb7e5(0x89d)],...E(a0_0x1bb7e5(0x7a3),a0_0x1bb7e5(0x89d))},ui={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'groupJid':{'type':'string'},'restrict':{'type':a0_0x1bb7e5(0x729)},'announce':{'type':'boolean'},'memberAddMode':{'type':a0_0x1bb7e5(0x729)},'joinApprovalMode':{'type':a0_0x1bb7e5(0x729)},'expiration':{'type':'integer','enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':'string'},'description':{'type':a0_0x1bb7e5(0x89c)},'image':{'type':'string'}}},Ns={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'inviteCode':{'type':'string'}},'required':[a0_0x1bb7e5(0x58d)],...E(a0_0x1bb7e5(0x58d))},di={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'url':{'type':a0_0x1bb7e5(0x89c)},'enabled':{'type':a0_0x1bb7e5(0x729),'enum':[!0x0,!0x1]}},'required':[a0_0x1bb7e5(0x8dc),'enabled']},xc={'$id':(0x0,C['v4'])(),'type':a0_0x1bb7e5(0x8d4),'properties':{'local_map':{'type':a0_0x1bb7e5(0x729),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x1bb7e5(0x729),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x1bb7e5(0x729),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x1bb7e5(0x729),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x1bb7e5(0x729),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x1bb7e5(0x729),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x1bb7e5(0x729),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x1bb7e5(0x729),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x1bb7e5(0x729),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x1bb7e5(0x729),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x1bb7e5(0x729),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x1bb7e5(0x729),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x1bb7e5(0x729),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x1bb7e5(0x77d),a0_0x1bb7e5(0x52b),a0_0x1bb7e5(0x2ae),a0_0x1bb7e5(0x26d),a0_0x1bb7e5(0x442),a0_0x1bb7e5(0x799),'SEND_MESSAGE',a0_0x1bb7e5(0x874),'CONTACTS_UPSERT','CONTACTS_UPDATE',a0_0x1bb7e5(0x748),a0_0x1bb7e5(0x408),a0_0x1bb7e5(0x674),a0_0x1bb7e5(0x4ea),a0_0x1bb7e5(0x5f0),'CONNECTION_UPDATE',a0_0x1bb7e5(0x681),a0_0x1bb7e5(0x883),a0_0x1bb7e5(0x4ca)],...E(a0_0x1bb7e5(0x77d),'STATUS_INSTANCE','QRCODE_UPDATED',a0_0x1bb7e5(0x26d),'MESSAGES_UPDATE',a0_0x1bb7e5(0x799),a0_0x1bb7e5(0x719),a0_0x1bb7e5(0x874),a0_0x1bb7e5(0x623),'CONTACTS_UPDATE',a0_0x1bb7e5(0x748),a0_0x1bb7e5(0x408),'CHATS_UPSERT','CHATS_UPDATE',a0_0x1bb7e5(0x5f0),a0_0x1bb7e5(0x48a),a0_0x1bb7e5(0x681),'GROUPS_UPDATE',a0_0x1bb7e5(0x4ca))},ot=class{},rt=class extends _{[a0_0x1bb7e5(0x453)](_0x118426){return aa(_0x118426);}async['insert'](_0x5beff6){const _0x267f03=a0_0x1bb7e5;if(_0x5beff6[_0x267f03(0x1e1)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x5beff6[0x0][_0x267f03(0x435)])['insertMany']([..._0x5beff6]))[_0x267f03(0x1e1)]};}catch(_0xb193d1){return _0xb193d1;}}async[a0_0x1bb7e5(0x5f4)](_0x5c5b25,_0x19e126){const _0x13f492=a0_0x1bb7e5;try{return{'deletedCount':(await this[_0x13f492(0x453)](_0x19e126)[_0x13f492(0x4af)]({..._0x5c5b25[_0x13f492(0x46a)]}))['deletedCount']};}catch(_0x1133cb){return{'error':_0x1133cb?.[_0x13f492(0x684)]()};}}async['update'](_0x2e4ee1,_0x39c75d){const _0x4985ab=a0_0x1bb7e5;try{if(_0x2e4ee1['length']===0x0)return;let _0x56e98a=this[_0x4985ab(0x453)](_0x39c75d),_0x4e57de=_0x2e4ee1[_0x4985ab(0x7b7)](_0x4263c4=>({'updateOne':{'filter':{'_id':_0x4263c4['_id'],'owner':_0x39c75d},'update':{..._0x4263c4}}})),{modifiedCount:_0xe8bfa1}=await _0x56e98a[_0x4985ab(0x1d3)](_0x4e57de);return{'insertCount':_0xe8bfa1};}catch{return;}}async['find'](_0x280378,_0x5ae959){const _0x3f7d8e=a0_0x1bb7e5;try{let _0x33ee66=this[_0x3f7d8e(0x453)](_0x5ae959),_0xc67d0a=A(_0x280378['where']);return await _0x33ee66[_0x3f7d8e(0x42f)](_0xc67d0a)['limit'](_0x280378?.[_0x3f7d8e(0x540)]??0x0)[_0x3f7d8e(0x5e5)]();}catch{return[];}}async[a0_0x1bb7e5(0x1fa)](_0x58bc74,_0x1efce6){const _0x29bbf2=a0_0x1bb7e5;try{let _0x359d9a=this[_0x29bbf2(0x453)](_0x1efce6),_0x26cd19=A(_0x58bc74[_0x29bbf2(0x46a)]);return await _0x359d9a[_0x29bbf2(0x1fa)](_0x26cd19)[_0x29bbf2(0x5e5)]();}catch{return null;}}async[a0_0x1bb7e5(0x66e)](_0x4a3284){const _0x5e100e=a0_0x1bb7e5;try{return await this[_0x5e100e(0x453)](_0x4a3284)[_0x5e100e(0x686)][_0x5e100e(0x3df)](),{'success':!0x0};}catch(_0x34563c){return console[_0x5e100e(0x834)](_0x34563c),{'success':!0x1,'error':_0x34563c};}}},nt=require(a0_0x1bb7e5(0x23a)),qc=require('express-async-errors'),$s=new $(a0_0x1bb7e5(0x72f)),V=class{[a0_0x1bb7e5(0x2d7)](_0x1c62df,_0x380a1d=!0x0){const _0x5c78ae=a0_0x1bb7e5;let _0x4ad94a='/'+_0x1c62df;return _0x380a1d&&(_0x4ad94a+=_0x5c78ae(0x6e0)),_0x4ad94a;}async[a0_0x1bb7e5(0x8af)](_0x545d35){const _0x2d0165=a0_0x1bb7e5;let {request:_0x7c6cdc,schema:_0x5bf82d,ClassRef:_0x56d6a9,execute:_0x2db641}=_0x545d35,_0x327690=new _0x56d6a9(),_0x59aa9f=_0x7c6cdc[_0x2d0165(0x76e)],_0x8416f6=_0x7c6cdc['params'];_0x7c6cdc?.[_0x2d0165(0x91a)]&&Object[_0x2d0165(0x312)](_0x7c6cdc[_0x2d0165(0x91a)])['length']>0x0&&Object[_0x2d0165(0x2f6)](_0x8416f6,_0x7c6cdc[_0x2d0165(0x91a)]),_0x7c6cdc['originalUrl'][_0x2d0165(0x460)]('/instance/create')&&Object[_0x2d0165(0x2f6)](_0x8416f6,_0x59aa9f),Object[_0x2d0165(0x2f6)](_0x327690,_0x59aa9f);let _0x25b4c8=_0x5bf82d?(0x0,nt[_0x2d0165(0x469)])(_0x327690,_0x5bf82d):{'valid':!0x0,'errors':[]};if(!_0x25b4c8['valid']){let _0x3f57d8=_0x25b4c8[_0x2d0165(0x5a9)][_0x2d0165(0x7b7)](({property:_0x2bdde5,stack:_0xee7b6,schema:_0xe4bba2})=>{const _0x3d5fd2=_0x2d0165;let _0x58b00c;return _0xe4bba2['description']?_0x58b00c=_0xe4bba2[_0x3d5fd2(0x2de)]:_0x58b00c=_0xee7b6[_0x3d5fd2(0x40f)](_0x3d5fd2(0x697),''),{'property':_0x2bdde5['replace'](_0x3d5fd2(0x697),''),'message':_0x58b00c};});throw $s['error']([..._0x3f57d8]),new m(..._0x3f57d8);}return await _0x2db641(_0x8416f6,_0x327690);}async['groupValidate'](_0x51c6f7){const _0x265f28=a0_0x1bb7e5;let {request:_0x50efb2,ClassRef:_0x4d1e5d,schema:_0x36424e,execute:_0x44b89e}=_0x51c6f7,_0x293ef2=_0x50efb2[_0x265f28(0x91a)];if(!_0x293ef2?.[_0x265f28(0x7a3)])throw new m(_0x265f28(0x4d7),_0x265f28(0x2cb));let _0x515bbc=_0x50efb2['params'],_0x393c89=_0x50efb2['body'],_0x3ab695=new _0x4d1e5d();Object[_0x265f28(0x2f6)](_0x393c89,_0x293ef2),Object[_0x265f28(0x2f6)](_0x3ab695,_0x393c89);let _0x2b9865=(0x0,nt[_0x265f28(0x469)])(_0x3ab695,_0x36424e);if(!_0x2b9865['valid']){let _0x49bed1=_0x2b9865[_0x265f28(0x5a9)][_0x265f28(0x7b7)](({property:_0x53d2ab,stack:_0x27dd7b,schema:_0x2cb92f})=>{const _0x150529=_0x265f28;let _0x3081e6;return _0x2cb92f[_0x150529(0x2de)]?_0x3081e6=_0x2cb92f['description']:_0x3081e6=_0x27dd7b[_0x150529(0x40f)](_0x150529(0x697),''),{'property':_0x53d2ab[_0x150529(0x40f)]('instance.',''),'message':_0x3081e6};});throw $s[_0x265f28(0x834)]([..._0x49bed1]),new m(..._0x49bed1);}return await _0x44b89e(_0x515bbc,_0x3ab695);}async[a0_0x1bb7e5(0x86f)](_0x3804c2){const _0x248704=a0_0x1bb7e5;let {request:_0x4de292,ClassRef:_0x23b068,schema:_0x57cd79,execute:_0x7dabcb}=_0x3804c2,_0x751dad=_0x4de292[_0x248704(0x76e)];if(!_0x751dad?.[_0x248704(0x58d)])throw new m(_0x248704(0x4fa),_0x248704(0x7ec));let _0x19fb11=_0x4de292[_0x248704(0x910)],_0x2e3453=_0x4de292[_0x248704(0x76e)],_0x17d6bb=new _0x23b068();Object['assign'](_0x2e3453,_0x751dad),Object[_0x248704(0x2f6)](_0x17d6bb,_0x2e3453);let _0x268f8f=(0x0,nt[_0x248704(0x469)])(_0x17d6bb,_0x57cd79);if(!_0x268f8f['valid']){let _0x18c676=_0x268f8f[_0x248704(0x5a9)][_0x248704(0x7b7)](({property:_0x3297f6,stack:_0x1914ba,schema:_0x68a830})=>{const _0x3d8081=_0x248704;let _0x2b0cd9;return _0x68a830[_0x3d8081(0x2de)]?_0x2b0cd9=_0x68a830[_0x3d8081(0x2de)]:_0x2b0cd9=_0x1914ba[_0x3d8081(0x40f)](_0x3d8081(0x697),''),{'property':_0x3297f6[_0x3d8081(0x40f)](_0x3d8081(0x697),''),'message':_0x2b0cd9};});throw $s['error']([..._0x18c676]),new m(..._0x18c676);}return await _0x7dabcb(_0x19fb11,_0x17d6bb);}},M=class{},al=new $(a0_0x1bb7e5(0x6a0)),ct=class extends V{constructor(..._0x53acb9){const _0x4565d2=a0_0x1bb7e5;super(),this[_0x4565d2(0x5fe)]=(0x0,pi[_0x4565d2(0x318)])(),this[_0x4565d2(0x5fe)][_0x4565d2(0x38a)](this[_0x4565d2(0x2d7)]('updatePresence'),..._0x53acb9,async(_0x93be91,_0x118a8c)=>{const _0x472f43=_0x4565d2;let _0x2c0aa3=await this[_0x472f43(0x8af)]({'request':_0x93be91,'schema':si,'ClassRef':Qe,'execute':(_0x43458b,_0x1f5179)=>D[_0x472f43(0x875)](_0x43458b,_0x1f5179)});return _0x118a8c[_0x472f43(0x362)](0xc9)[_0x472f43(0x54e)](_0x2c0aa3);})[_0x4565d2(0x38a)](this['routerPath'](_0x4565d2(0x230)),..._0x53acb9,async(_0x487e05,_0x521ee5)=>{const _0x46b225=_0x4565d2;let _0x3d0505=await this[_0x46b225(0x8af)]({'request':_0x487e05,'schema':Wa,'ClassRef':Ye,'execute':(_0x30cf41,_0x2c1e84)=>D['whatsappNumber'](_0x30cf41,_0x2c1e84)});return _0x521ee5[_0x46b225(0x362)](0xc9)[_0x46b225(0x54e)](_0x3d0505);})['post'](this[_0x4565d2(0x2d7)](_0x4565d2(0x6d3)),..._0x53acb9,async(_0x4162c1,_0x151796)=>{const _0x581640=_0x4565d2;let _0x35d197=await this[_0x581640(0x8af)]({'request':_0x4162c1,'schema':N,'ClassRef':M,'execute':(_0x2f227a,_0x3a09dd)=>D['editChat'](_0x2f227a,_0x3a09dd)});return _0x151796[_0x581640(0x362)](0xc9)[_0x581640(0x54e)](_0x35d197);})[_0x4565d2(0x8d0)](this[_0x4565d2(0x2d7)](_0x4565d2(0x82b)),..._0x53acb9,async(_0x42741c,_0xbe4740)=>{const _0x47e97e=_0x4565d2;let _0x2a28ca=await this[_0x47e97e(0x8af)]({'request':_0x42741c,'schema':za,'ClassRef':et,'execute':(_0x4a5e62,_0x1b0e7e)=>D[_0x47e97e(0x192)](_0x4a5e62,_0x1b0e7e)});return _0xbe4740[_0x47e97e(0x362)](0xc9)[_0x47e97e(0x54e)](_0x2a28ca);})['put'](this[_0x4565d2(0x2d7)]('archiveChat'),..._0x53acb9,async(_0x40ad90,_0xc9e408)=>{const _0x218609=_0x4565d2;let _0x21a436=await this[_0x218609(0x8af)]({'request':_0x40ad90,'schema':Ka,'ClassRef':tt,'execute':(_0x19fb1f,_0x1fba2d)=>D['archiveChat'](_0x19fb1f,_0x1fba2d)});return _0xc9e408[_0x218609(0x362)](0xc9)[_0x218609(0x54e)](_0x21a436);})[_0x4565d2(0x5f4)](this['routerPath'](_0x4565d2(0x6de)),..._0x53acb9,async(_0x356d77,_0x12b3a6)=>{const _0x44d55a=_0x4565d2;let _0x124454=await this[_0x44d55a(0x8af)]({'request':_0x356d77,'schema':Qa,'ClassRef':at,'execute':(_0x2f7850,_0x51c301)=>D[_0x44d55a(0x3e9)](_0x2f7850,_0x51c301)});return _0x12b3a6[_0x44d55a(0x362)](0xc9)[_0x44d55a(0x54e)](_0x124454);})['post'](this['routerPath']('fetchProfilePictureUrl'),..._0x53acb9,async(_0x4b3bbd,_0x29b8ce)=>{const _0x2502cc=_0x4565d2;let _0xba20f=await this['dataValidate']({'request':_0x4b3bbd,'schema':Oe,'ClassRef':Te,'execute':(_0x2af3b2,_0x5b9416)=>D[_0x2502cc(0x798)](_0x2af3b2,_0x5b9416)});return _0x29b8ce[_0x2502cc(0x362)](0xc8)[_0x2502cc(0x54e)](_0xba20f);})[_0x4565d2(0x38a)](this[_0x4565d2(0x2d7)]('fetchProfile'),..._0x53acb9,async(_0x782809,_0x3ab7bd)=>{const _0x45663c=_0x4565d2;let _0x53ba6b=await this['dataValidate']({'request':_0x782809,'schema':ei,'ClassRef':Te,'execute':(_0x3af9dc,_0x5b7569)=>D[_0x45663c(0x266)](_0x3af9dc,_0x5b7569)});return _0x3ab7bd[_0x45663c(0x362)](0xc8)[_0x45663c(0x54e)](_0x53ba6b);})[_0x4565d2(0x38a)](this[_0x4565d2(0x2d7)](_0x4565d2(0x1a9)),..._0x53acb9,async(_0x584351,_0x5ec51f)=>{const _0x4cd5fb=_0x4565d2;let _0x338e4a=await this[_0x4cd5fb(0x8af)]({'request':_0x584351,'schema':Ya,'ClassRef':ot,'execute':(_0x3e74d4,_0x2d3492)=>D[_0x4cd5fb(0x3e7)](_0x3e74d4,_0x2d3492)});return _0x5ec51f[_0x4cd5fb(0x362)](0xc8)[_0x4cd5fb(0x54e)](_0x338e4a);})[_0x4565d2(0x38a)](this[_0x4565d2(0x2d7)]('getBase64FromMediaMessage'),..._0x53acb9,async(_0x39f9da,_0x546144)=>{const _0x283dbb=_0x4565d2;let _0x3618f2=await this['dataValidate']({'request':_0x39f9da,'schema':null,'ClassRef':Object,'execute':(_0x1c8084,_0x5056c1)=>D[_0x283dbb(0x720)](_0x1c8084,_0x5056c1)});return _0x546144[_0x283dbb(0x362)](0xc9)[_0x283dbb(0x54e)](_0x3618f2);})[_0x4565d2(0x38a)](this[_0x4565d2(0x2d7)](_0x4565d2(0x8c4)),..._0x53acb9,async(_0x3056bf,_0x1ee652)=>{const _0x56cc9a=_0x4565d2;let _0x54451b=await this['dataValidate']({'request':_0x3056bf,'schema':ti,'ClassRef':He,'execute':(_0x4380e0,_0x14fc22)=>D[_0x56cc9a(0x57e)](_0x4380e0,_0x14fc22)});return _0x1ee652[_0x56cc9a(0x362)](0xc8)[_0x56cc9a(0x54e)](_0x54451b);})[_0x4565d2(0x8a5)](this[_0x4565d2(0x2d7)](_0x4565d2(0x6eb)),..._0x53acb9,async(_0x3cca59,_0x4c711f)=>{const _0x67aa03=_0x4565d2;let _0x5a2b0c=await this['dataValidate']({'request':_0x3cca59,'schema':null,'ClassRef':M,'execute':_0x39da54=>D[_0x67aa03(0x43c)](_0x39da54)});return _0x4c711f[_0x67aa03(0x362)](0xc8)[_0x67aa03(0x54e)](_0x5a2b0c);})[_0x4565d2(0x8a5)](this[_0x4565d2(0x2d7)](_0x4565d2(0x256)),..._0x53acb9,async(_0x5eff08,_0x2a3995)=>{const _0x459c77=_0x4565d2;let _0x2e537d=await this[_0x459c77(0x8af)]({'request':_0x5eff08,'schema':null,'ClassRef':M,'execute':_0x55296c=>D[_0x459c77(0x728)](_0x55296c)});return _0x2a3995[_0x459c77(0x362)](0xc8)['json'](_0x2e537d);})[_0x4565d2(0x8d0)](this[_0x4565d2(0x2d7)](_0x4565d2(0x793)),..._0x53acb9,async(_0x4f8848,_0x282ea2)=>{const _0x32d383=_0x4565d2;let _0x33d73e=await this[_0x32d383(0x8af)]({'request':_0x4f8848,'schema':null,'ClassRef':Array,'execute':(_0x221a54,_0x1dab65)=>D[_0x32d383(0x793)](_0x221a54,_0x1dab65)});return _0x282ea2[_0x32d383(0x362)](0xc8)['json'](_0x33d73e);})[_0x4565d2(0x8a5)](this[_0x4565d2(0x2d7)](_0x4565d2(0x2d9)),..._0x53acb9,async(_0x370b69,_0x11953c)=>{const _0x53cb5b=_0x4565d2;let _0x1c0fa9=await this['dataValidate']({'request':_0x370b69,'schema':null,'ClassRef':M,'execute':_0x52bfcd=>D[_0x53cb5b(0x2d9)](_0x52bfcd)});return _0x11953c[_0x53cb5b(0x362)](0xc8)[_0x53cb5b(0x54e)](_0x1c0fa9);})[_0x4565d2(0x8d0)](this[_0x4565d2(0x2d7)](_0x4565d2(0x842)),..._0x53acb9,async(_0x2c226a,_0x398e84)=>{const _0x13488d=_0x4565d2;let _0x40c940=await this[_0x13488d(0x8af)]({'request':_0x2c226a,'schema':Ha,'ClassRef':st,'execute':(_0x384747,_0x424e3c)=>D['updatePrivacySettings'](_0x384747,_0x424e3c)});return _0x398e84['status'](0xc9)[_0x13488d(0x54e)](_0x40c940);})['post'](this[_0x4565d2(0x2d7)]('fetchBusinessProfile'),..._0x53acb9,async(_0xa3a71,_0x593df9)=>{const _0x5670b1=_0x4565d2;let _0x4bbb51=await this[_0x5670b1(0x8af)]({'request':_0xa3a71,'schema':Oe,'ClassRef':Ee,'execute':(_0x48c2f7,_0x375c5c)=>D[_0x5670b1(0x59e)](_0x48c2f7,_0x375c5c)});return _0x593df9[_0x5670b1(0x362)](0xc8)['json'](_0x4bbb51);})[_0x4565d2(0x38a)](this[_0x4565d2(0x2d7)](_0x4565d2(0x4b9)),..._0x53acb9,async(_0x12a83b,_0x28a90a)=>{const _0xa707a3=_0x4565d2;let _0x1f7ff8=await this[_0xa707a3(0x8af)]({'request':_0x12a83b,'schema':Xa,'ClassRef':Xe,'execute':(_0x18432c,_0x13b0b0)=>D[_0xa707a3(0x4b9)](_0x18432c,_0x13b0b0)});return _0x28a90a[_0xa707a3(0x362)](0xc8)['json'](_0x1f7ff8);})[_0x4565d2(0x38a)](this[_0x4565d2(0x2d7)](_0x4565d2(0x5b0)),..._0x53acb9,async(_0x352f71,_0x1526f2)=>{const _0x1590e3=_0x4565d2;let _0x456427=await this[_0x1590e3(0x8af)]({'request':_0x352f71,'schema':Za,'ClassRef':Ze,'execute':(_0x5ad78e,_0x4103ba)=>D['updateProfileStatus'](_0x5ad78e,_0x4103ba)});return _0x1526f2[_0x1590e3(0x362)](0xc8)['json'](_0x456427);})[_0x4565d2(0x8d0)](this[_0x4565d2(0x2d7)](_0x4565d2(0x8a2)),..._0x53acb9,async(_0x3c90b8,_0x4349f3)=>{const _0x580b03=_0x4565d2;let _0x2738c8=await this[_0x580b03(0x8af)]({'request':_0x3c90b8,'schema':Oe,'ClassRef':Ee,'execute':(_0x12dfba,_0x11a70c)=>D[_0x580b03(0x8a2)](_0x12dfba,_0x11a70c)});return _0x4349f3['status'](0xc8)[_0x580b03(0x54e)](_0x2738c8);})[_0x4565d2(0x5f4)](this[_0x4565d2(0x2d7)](_0x4565d2(0x5dc)),..._0x53acb9,async(_0x4a88fc,_0x296b8e)=>{const _0x118b22=_0x4565d2;let _0x503f9f=await this['dataValidate']({'request':_0x4a88fc,'schema':Oe,'ClassRef':Ee,'execute':(_0x1fadf4,_0x2851d1)=>D[_0x118b22(0x5dc)](_0x1fadf4,_0x2851d1)});return _0x296b8e[_0x118b22(0x362)](0xc8)[_0x118b22(0x54e)](_0x503f9f);});}},hi=require(a0_0x1bb7e5(0x3e6)),lt=class{},ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},te=class{},Pe=class{},mt=class extends te{},ft=class extends te{},wt=class extends V{constructor(..._0x19528d){const _0x8b2e02=a0_0x1bb7e5;super(),this['router']=(0x0,hi['Router'])(),this[_0x8b2e02(0x5fe)]['post'](this[_0x8b2e02(0x2d7)](_0x8b2e02(0x3e3)),..._0x19528d,async(_0x1b155b,_0x3a4168)=>{const _0x10163b=_0x8b2e02;let _0xb77b20=await this[_0x10163b(0x8af)]({'request':_0x1b155b,'schema':ai,'ClassRef':lt,'execute':(_0x47274a,_0x25d736)=>q['createGroup'](_0x47274a,_0x25d736)});_0x3a4168[_0x10163b(0x362)](0xc9)[_0x10163b(0x54e)](_0xb77b20);})[_0x8b2e02(0x8d0)](this[_0x8b2e02(0x2d7)](_0x8b2e02(0x1f7)),..._0x19528d,async(_0x51631b,_0x4073c7)=>{const _0x7b86a4=_0x8b2e02;let _0x5156dd=await this[_0x7b86a4(0x5c6)]({'request':_0x51631b,'schema':ri,'ClassRef':ut,'execute':(_0x4469df,_0x5b3a1b)=>q[_0x7b86a4(0x1f7)](_0x4469df,_0x5b3a1b)});_0x4073c7[_0x7b86a4(0x362)](0xc9)[_0x7b86a4(0x54e)](_0x5156dd);})['put'](this[_0x8b2e02(0x2d7)]('groupDesc'),..._0x19528d,async(_0x41a03a,_0x194653)=>{const _0x40c48c=_0x8b2e02;let _0x4c20b3=await this[_0x40c48c(0x5c6)]({'request':_0x41a03a,'schema':ni,'ClassRef':dt,'execute':(_0x8805f5,_0x3b36e7)=>q[_0x40c48c(0x26f)](_0x8805f5,_0x3b36e7)});_0x194653['status'](0xc9)[_0x40c48c(0x54e)](_0x4c20b3);})['put'](this['routerPath'](_0x8b2e02(0x330)),..._0x19528d,async(_0x2e972c,_0x3004d1)=>{const _0x3227c1=_0x8b2e02;let _0x11e11e=await this[_0x3227c1(0x5c6)]({'request':_0x2e972c,'schema':ci,'ClassRef':pt,'execute':(_0x39052c,_0x2ef155)=>q['groupName'](_0x39052c,_0x2ef155)});_0x3004d1[_0x3227c1(0x362)](0xc9)[_0x3227c1(0x54e)](_0x11e11e);})[_0x8b2e02(0x8d0)](this[_0x8b2e02(0x2d7)]('groupBetterSetting'),..._0x19528d,async(_0x43f235,_0x1680bb)=>{const _0x20d156=_0x8b2e02;let _0x198814=await this[_0x20d156(0x5c6)]({'request':_0x43f235,'schema':ui,'ClassRef':gt,'execute':(_0xfb6b8a,_0x198b75)=>q['groupBetterSetting'](_0xfb6b8a,_0x198b75)});_0x1680bb[_0x20d156(0x362)](0xc9)[_0x20d156(0x54e)](_0x198814);})[_0x8b2e02(0x8d0)](this[_0x8b2e02(0x2d7)](_0x8b2e02(0x5c2)),..._0x19528d,async(_0x5d95a7,_0x2d3e77)=>{const _0x2c7dc0=_0x8b2e02;let _0x3db6d6=await this[_0x2c7dc0(0x5c6)]({'request':_0x5d95a7,'schema':li,'ClassRef':ht,'execute':(_0x2bf730,_0x5beadf)=>q['groupSetting'](_0x2bf730,_0x5beadf)});_0x2d3e77[_0x2c7dc0(0x362)](0xc9)[_0x2c7dc0(0x54e)](_0x3db6d6);})[_0x8b2e02(0x8d0)](this[_0x8b2e02(0x2d7)](_0x8b2e02(0x85f)),..._0x19528d,async(_0x4da730,_0x25f3d7)=>{const _0x229d2c=_0x8b2e02;let _0x2cde81=await this['groupValidate']({'request':_0x4da730,'schema':oi,'ClassRef':ft,'execute':(_0x361285,_0x7b051a)=>q[_0x229d2c(0x85f)](_0x361285,_0x7b051a)});_0x25f3d7['status'](0xc9)['json'](_0x2cde81);})[_0x8b2e02(0x8a5)](this['routerPath'](_0x8b2e02(0x5c8)),..._0x19528d,async(_0x369b54,_0xedb238)=>{const _0x205df7=_0x8b2e02;let _0x3500e7=await this['groupValidate']({'request':_0x369b54,'schema':xe,'ClassRef':te,'execute':(_0x3cd563,_0x5e4b8a)=>q[_0x205df7(0x229)](_0x3cd563,_0x5e4b8a)});_0xedb238[_0x205df7(0x362)](0xc8)[_0x205df7(0x54e)](_0x3500e7);})[_0x8b2e02(0x8a5)](this[_0x8b2e02(0x2d7)]('findGroups'),..._0x19528d,async(_0x260000,_0x1c6768)=>{const _0x2c7651=_0x8b2e02;let _0x282e9d=await this[_0x2c7651(0x8af)]({'request':_0x260000,'schema':N,'ClassRef':M,'execute':_0xcb2b79=>q[_0x2c7651(0x19b)](_0xcb2b79)});_0x1c6768[_0x2c7651(0x362)](0xc8)[_0x2c7651(0x54e)](_0x282e9d);})[_0x8b2e02(0x8a5)](this['routerPath'](_0x8b2e02(0x463)),..._0x19528d,async(_0x5db1e0,_0x249f06)=>{const _0x30c15c=_0x8b2e02;let _0x1d0723=await this[_0x30c15c(0x5c6)]({'request':_0x5db1e0,'schema':xe,'ClassRef':te,'execute':(_0x3879e9,_0x33fc14)=>q['findParticipants'](_0x3879e9,_0x33fc14)});_0x249f06[_0x30c15c(0x362)](0xc8)[_0x30c15c(0x54e)](_0x1d0723);})[_0x8b2e02(0x8a5)](this[_0x8b2e02(0x2d7)]('inviteCode'),..._0x19528d,async(_0x2e74d4,_0x492a8c)=>{const _0x1232c8=_0x8b2e02;let _0x3bb4e3=await this[_0x1232c8(0x5c6)]({'request':_0x2e74d4,'schema':xe,'ClassRef':te,'execute':(_0x566fb2,_0x4791b4)=>q[_0x1232c8(0x58d)](_0x566fb2,_0x4791b4)});_0x492a8c[_0x1232c8(0x362)](0xc8)['json'](_0x3bb4e3);})[_0x8b2e02(0x38a)](this[_0x8b2e02(0x2d7)](_0x8b2e02(0x378)),..._0x19528d,async(_0x41d906,_0x2a10be)=>{const _0x9a42df=_0x8b2e02;let _0x1bc8b6=await this[_0x9a42df(0x86f)]({'request':_0x41d906,'schema':Ns,'ClassRef':Pe,'execute':(_0xe7a2c1,_0xe3025a)=>q[_0x9a42df(0x1c9)](_0xe7a2c1,_0xe3025a)});_0x2a10be[_0x9a42df(0x362)](0xc9)[_0x9a42df(0x54e)](_0x1bc8b6);})[_0x8b2e02(0x8d0)](this[_0x8b2e02(0x2d7)](_0x8b2e02(0x864)),..._0x19528d,async(_0x56a932,_0x343886)=>{const _0x19618a=_0x8b2e02;let _0xcd22c5=await this[_0x19618a(0x86f)]({'request':_0x56a932,'schema':Ns,'ClassRef':Pe,'execute':(_0x4f9482,_0x3fbe34)=>q[_0x19618a(0x864)](_0x4f9482,_0x3fbe34)});_0x343886[_0x19618a(0x362)](0xc9)['json'](_0xcd22c5);})['put'](this['routerPath'](_0x8b2e02(0x257)),..._0x19528d,async(_0xa12450,_0x5462f7)=>{const _0x91b284=_0x8b2e02;let _0x304b63=await this[_0x91b284(0x5c6)]({'request':_0xa12450,'schema':xe,'ClassRef':te,'execute':(_0x444cba,_0x52218a)=>q[_0x91b284(0x257)](_0x444cba,_0x52218a)});_0x5462f7[_0x91b284(0x362)](0xc9)['json'](_0x304b63);})[_0x8b2e02(0x8d0)](this[_0x8b2e02(0x2d7)](_0x8b2e02(0x6c5)),..._0x19528d,async(_0x119c9f,_0x5c70fa)=>{const _0x1d950f=_0x8b2e02;let _0x4f690f=await this[_0x1d950f(0x5c6)]({'request':_0x119c9f,'schema':ii,'ClassRef':mt,'execute':(_0xe1f34e,_0x7cc7b8)=>q[_0x1d950f(0x586)](_0xe1f34e,_0x7cc7b8)});_0x5c70fa[_0x1d950f(0x362)](0xc9)[_0x1d950f(0x54e)](_0x4f690f);})[_0x8b2e02(0x5f4)](this[_0x8b2e02(0x2d7)](_0x8b2e02(0x73e)),..._0x19528d,async(_0x33ddc4,_0x5edc8c)=>{const _0x5a896d=_0x8b2e02;let _0x282913=await this[_0x5a896d(0x5c6)]({'request':_0x33ddc4,'schema':{},'ClassRef':te,'execute':(_0x21e61c,_0x59346f)=>q['leaveGroup'](_0x21e61c,_0x59346f)});_0x5edc8c['status'](0xc8)[_0x5a896d(0x54e)](_0x282913);});}},gi=require(a0_0x1bb7e5(0x3e6)),yt=class extends V{constructor(_0x179a41,..._0x19c079){const _0x517668=a0_0x1bb7e5;super(),this[_0x517668(0x3bc)]=_0x179a41,this[_0x517668(0x5fe)]=(0x0,gi['Router'])();let _0x2d1414=_0x179a41[_0x517668(0x8a5)](_0x517668(0x8f5));this[_0x517668(0x5fe)]['post'](_0x517668(0x4ec),..._0x19c079,async(_0x4a5016,_0x33877e)=>{const _0x41cf2b=_0x517668;let {instanceName:_0xae4302,apikey:_0x5eb696,number:_0x1eb830}=_0x4a5016[_0x41cf2b(0x76e)],_0x2382db=await de[_0x41cf2b(0x789)]({'instanceName':_0xae4302,'apikey':_0x5eb696,'number':_0x1eb830});return _0x33877e[_0x41cf2b(0x362)](0xc9)[_0x41cf2b(0x54e)](_0x2382db);})['put'](this['routerPath'](_0x517668(0x73d)),..._0x19c079,async(_0xe523bf,_0x559845)=>{const _0xece2b8=_0x517668;let _0x143b64=await this['dataValidate']({'request':_0xe523bf,'schema':N,'ClassRef':M,'execute':_0x5e1617=>de[_0xece2b8(0x847)](_0x5e1617)});return _0x559845['status'](0xc8)[_0xece2b8(0x54e)](_0x143b64);})[_0x517668(0x8a5)](this['routerPath']('connect'),..._0x19c079,async(_0x51bb8c,_0x5bcefa)=>{const _0x4de8e0=_0x517668;let _0x4f51cf=await this[_0x4de8e0(0x8af)]({'request':_0x51bb8c,'schema':N,'ClassRef':M,'execute':_0x1ed33d=>de['connectToWhatsappController'](_0x1ed33d)});return _0x5bcefa[_0x4de8e0(0x362)](0xc8)['json'](_0x4f51cf);})[_0x517668(0x8a5)](this[_0x517668(0x2d7)]('connectionState'),..._0x19c079,async(_0x175bba,_0x33c121)=>{const _0x1e7f6b=_0x517668;let _0x55f96e=await this[_0x1e7f6b(0x8af)]({'request':_0x175bba,'schema':N,'ClassRef':M,'execute':_0x577c66=>de[_0x1e7f6b(0x279)](_0x577c66)});return _0x33c121[_0x1e7f6b(0x362)](0xc8)[_0x1e7f6b(0x54e)](_0x55f96e);})['get'](this[_0x517668(0x2d7)](_0x517668(0x2a6),!0x1),..._0x19c079,async(_0x34e206,_0x32423c)=>{const _0x22d7ef=_0x517668;let _0x4df112=await this[_0x22d7ef(0x8af)]({'request':_0x34e206,'schema':null,'ClassRef':M,'execute':_0x4a4979=>de['fetchInstances'](_0x4a4979)});return _0x32423c[_0x22d7ef(0x362)](0xc8)[_0x22d7ef(0x54e)](_0x4df112);})['delete'](this['routerPath'](_0x517668(0x889)),..._0x19c079,async(_0x26940e,_0x437c05)=>{const _0x3ababd=_0x517668;let _0x4a452d=await this[_0x3ababd(0x8af)]({'request':_0x26940e,'schema':N,'ClassRef':M,'execute':_0x359b70=>de['logout'](_0x359b70)});return _0x437c05[_0x3ababd(0x362)](0xc8)[_0x3ababd(0x54e)](_0x4a452d);})[_0x517668(0x5f4)](this[_0x517668(0x2d7)](_0x517668(0x5f4)),..._0x19c079,async(_0x559f58,_0x204bc9)=>{const _0x34d47f=_0x517668;let _0x24cbcf=await this[_0x34d47f(0x8af)]({'request':_0x559f58,'schema':N,'ClassRef':M,'execute':_0x14d4ce=>de[_0x34d47f(0x81f)](_0x14d4ce)});return _0x204bc9[_0x34d47f(0x362)](0xc8)[_0x34d47f(0x54e)](_0x24cbcf);});}},mi=require(a0_0x1bb7e5(0x3e6)),Rs=class{},K=class extends Rs{},bt=class extends K{},St=class extends K{},Mt=class extends K{},Ct=class extends K{},De=class extends K{},Et=class extends K{},vt=class extends K{},Nt=class extends K{},$t=class extends K{},Rt=class{},At=class extends V{constructor(..._0x53abdf){const _0x453ab7=a0_0x1bb7e5;super(),this[_0x453ab7(0x5fe)]=(0x0,mi[_0x453ab7(0x318)])(),this[_0x453ab7(0x5fe)][_0x453ab7(0x38a)](this['routerPath'](_0x453ab7(0x79b)),..._0x53abdf,async(_0x1fa460,_0x2338db)=>{const _0x21c6db=_0x453ab7;let _0x192f60=await this[_0x21c6db(0x8af)]({'request':_0x1fa460,'schema':Pa,'ClassRef':bt,'execute':(_0x2df0f4,_0x4be426)=>W['sendText'](_0x2df0f4,_0x4be426)});return _0x2338db['status'](0xc9)[_0x21c6db(0x54e)](_0x192f60);})[_0x453ab7(0x38a)](this[_0x453ab7(0x2d7)](_0x453ab7(0x739)),..._0x53abdf,async(_0x2ed9d5,_0x37606a)=>{const _0x4e3db8=_0x453ab7;let _0x3c627c=await this[_0x4e3db8(0x8af)]({'request':_0x2ed9d5,'schema':Fa,'ClassRef':De,'execute':(_0x4b9d02,_0x2d2d67)=>W[_0x4e3db8(0x739)](_0x4b9d02,_0x2d2d67)});return _0x37606a[_0x4e3db8(0x362)](0xc9)[_0x4e3db8(0x54e)](_0x3c627c);})[_0x453ab7(0x38a)](this['routerPath'](_0x453ab7(0x699)),..._0x53abdf,async(_0x1db7d2,_0x30f6c2)=>{const _0x4117f6=_0x453ab7;let _0x4bfc1b=await this['dataValidate']({'request':_0x1db7d2,'schema':Ja,'ClassRef':Ct,'execute':(_0x29a634,_0x19d068)=>W[_0x4117f6(0x699)](_0x29a634,_0x19d068)});return _0x30f6c2[_0x4117f6(0x362)](0xc9)['json'](_0x4bfc1b);})[_0x453ab7(0x38a)](this['routerPath'](_0x453ab7(0x515)),..._0x53abdf,async(_0x3e4cde,_0x86ad16)=>{const _0x2d3b44=_0x453ab7;let _0x5c29b6=await this[_0x2d3b44(0x8af)]({'request':_0x3e4cde,'schema':Ua,'ClassRef':De,'execute':(_0x4d7fef,_0x591ef3)=>W[_0x2d3b44(0x515)](_0x4d7fef,_0x591ef3)});return _0x86ad16[_0x2d3b44(0x362)](0xc9)[_0x2d3b44(0x54e)](_0x5c29b6);})[_0x453ab7(0x38a)](this[_0x453ab7(0x2d7)]('sendLocation'),..._0x53abdf,async(_0x50aace,_0x3a3275)=>{const _0x2e0c2f=_0x453ab7;let _0x5e7972=await this[_0x2e0c2f(0x8af)]({'request':_0x50aace,'schema':qa,'ClassRef':vt,'execute':(_0x382f49,_0x3ca3f3)=>W[_0x2e0c2f(0x488)](_0x382f49,_0x3ca3f3)});return _0x3a3275['status'](0xc9)[_0x2e0c2f(0x54e)](_0x5e7972);})[_0x453ab7(0x38a)](this[_0x453ab7(0x2d7)]('sendList'),..._0x53abdf,async(_0x51248a,_0x233014)=>{const _0x42f756=_0x453ab7;let _0x165464=await this[_0x42f756(0x8af)]({'request':_0x51248a,'schema':Va,'ClassRef':Nt,'execute':(_0x582d3d,_0x39a9f3)=>W[_0x42f756(0x53a)](_0x582d3d,_0x39a9f3)});return _0x233014[_0x42f756(0x362)](0xc9)['json'](_0x165464);})[_0x453ab7(0x38a)](this[_0x453ab7(0x2d7)]('sendContact'),..._0x53abdf,async(_0x12fd2f,_0x48d737)=>{const _0x15d7f9=_0x453ab7;let _0x5cfb62=await this['dataValidate']({'request':_0x12fd2f,'schema':Ga,'ClassRef':$t,'execute':(_0x42bc49,_0x2f0d9b)=>W[_0x15d7f9(0x475)](_0x42bc49,_0x2f0d9b)});return _0x48d737[_0x15d7f9(0x362)](0xc9)[_0x15d7f9(0x54e)](_0x5cfb62);})[_0x453ab7(0x38a)](this[_0x453ab7(0x2d7)](_0x453ab7(0x195)),..._0x53abdf,async(_0x142bd1,_0x51d2d5)=>{const _0x58766b=_0x453ab7;let _0x5d57fd=await this['dataValidate']({'request':_0x142bd1,'schema':Ba,'ClassRef':Rt,'execute':(_0x423182,_0x53b34e)=>W[_0x58766b(0x195)](_0x423182,_0x53b34e)});return _0x51d2d5['status'](0xc9)[_0x58766b(0x54e)](_0x5d57fd);})[_0x453ab7(0x38a)](this['routerPath'](_0x453ab7(0x8e8)),..._0x53abdf,async(_0x5744e0,_0x463e7e)=>{const _0xac032d=_0x453ab7;let _0x47af56=await this[_0xac032d(0x8af)]({'request':_0x5744e0,'schema':ja,'ClassRef':Mt,'execute':(_0x5ee919,_0x4479ed)=>W['sendPoll'](_0x5ee919,_0x4479ed)});return _0x463e7e[_0xac032d(0x362)](0xc9)[_0xac032d(0x54e)](_0x47af56);})[_0x453ab7(0x38a)](this['routerPath'](_0x453ab7(0x211)),..._0x53abdf,async(_0x2fa7b7,_0x423a0f)=>{const _0x5c79ad=_0x453ab7;let _0x4d9cb5=await this['dataValidate']({'request':_0x2fa7b7,'schema':La,'ClassRef':St,'execute':(_0x1c9aba,_0xcb3074)=>W[_0x5c79ad(0x211)](_0x1c9aba,_0xcb3074)});return _0x423a0f['status'](0xc9)['json'](_0x4d9cb5);})[_0x453ab7(0x38a)](this[_0x453ab7(0x2d7)](_0x453ab7(0x7c8)),..._0x53abdf,async(_0x2a7bf3,_0x1f453b)=>{const _0x5119cb=_0x453ab7;let _0x22b2a9=await this['dataValidate']({'request':_0x2a7bf3,'schema':ka,'ClassRef':Et,'execute':(_0x15dfd9,_0x4a42c1)=>W['sendSticker'](_0x15dfd9,_0x4a42c1)});return _0x1f453b[_0x5119cb(0x362)](0xc9)['json'](_0x22b2a9);});}},fi=require(a0_0x1bb7e5(0x3e6)),It=class{},Tt=class extends V{constructor(..._0x4545f4){const _0x26ae90=a0_0x1bb7e5;super(),this['router']=(0x0,fi[_0x26ae90(0x318)])(),this['router'][_0x26ae90(0x38a)](this[_0x26ae90(0x2d7)]('set'),..._0x4545f4,async(_0x20b394,_0x426f44)=>{const _0x3f2c1d=_0x26ae90;let _0x30d72c=await this[_0x3f2c1d(0x8af)]({'request':_0x20b394,'schema':di,'ClassRef':It,'execute':(_0x13be74,_0x11218a)=>As[_0x3f2c1d(0x7c6)](_0x13be74,_0x11218a)});_0x426f44[_0x3f2c1d(0x362)](0xc9)['json'](_0x30d72c);})[_0x26ae90(0x8a5)](this[_0x26ae90(0x2d7)](_0x26ae90(0x42f)),..._0x4545f4,async(_0x52f26f,_0x540b39)=>{const _0x25fe04=_0x26ae90;let _0x124d07=await this['dataValidate']({'request':_0x52f26f,'schema':N,'ClassRef':M,'execute':_0x6cf565=>As[_0x25fe04(0x3a7)](_0x6cf565)});_0x540b39['status'](0xc8)['json'](_0x124d07);});}},wi=require(a0_0x1bb7e5(0x3e6)),y=new $(a0_0x1bb7e5(0x37c)),_t=class extends V{constructor(..._0x1f4138){const _0x3c5da4=a0_0x1bb7e5;super(),this['router']=(0x0,wi['Router'])(),this[_0x3c5da4(0x5fe)][_0x3c5da4(0x38a)](this['routerPath']('scheduleMessage'),..._0x1f4138,async(_0x570a20,_0x3886ea)=>{const _0x3a3967=_0x3c5da4;let _0x432eb1=_0x570a20[_0x3a3967(0x76e)];y[_0x3a3967(0x1d7)](_0x3a3967(0x232)),y[_0x3a3967(0x1d7)](_0x3a3967(0x1bb)),y[_0x3a3967(0x1d7)](_0x570a20[_0x3a3967(0x76e)]);let _0x41377e=await this[_0x3a3967(0x8af)]({'request':_0x570a20,'schema':N,'ClassRef':M,'execute':_0x324681=>O[_0x3a3967(0x4a8)](_0x324681,_0x432eb1)});_0x3886ea[_0x3a3967(0x362)](0xc8)['json'](_0x41377e);})['get'](this[_0x3c5da4(0x2d7)](_0x3c5da4(0x3e4)),..._0x1f4138,async(_0x1ce286,_0x2f762e)=>{const _0x1b6ec0=_0x3c5da4;let _0x35e9a2=await this[_0x1b6ec0(0x8af)]({'request':_0x1ce286,'schema':N,'ClassRef':M,'execute':_0x35fd32=>O['getScheduleMessage'](_0x35fd32)});_0x2f762e[_0x1b6ec0(0x362)](0xc8)[_0x1b6ec0(0x54e)](_0x35e9a2);})[_0x3c5da4(0x5f4)](this[_0x3c5da4(0x2d7)]('deleteDoneMessages'),..._0x1f4138,async(_0x8d4a0,_0x427708)=>{const _0x64e515=_0x3c5da4;y['verbose'](_0x64e515(0x339));let _0x383223=await this[_0x64e515(0x8af)]({'request':_0x8d4a0,'schema':N,'ClassRef':M,'execute':_0x4e1b53=>O[_0x64e515(0x5bb)](_0x4e1b53)});_0x427708[_0x64e515(0x362)](0xc8)[_0x64e515(0x54e)](_0x383223);})[_0x3c5da4(0x38a)](this[_0x3c5da4(0x2d7)](_0x3c5da4(0x7a8)),..._0x1f4138,async(_0x2db07b,_0xbf1593)=>{const _0x3b604b=_0x3c5da4;let _0x594975=_0x2db07b['body'];y[_0x3b604b(0x1d7)](_0x3b604b(0x474)),y[_0x3b604b(0x1d7)](_0x3b604b(0x1bb)),y[_0x3b604b(0x1d7)](_0x2db07b['body']);let _0x5edb6e=await this[_0x3b604b(0x8af)]({'request':_0x2db07b,'schema':N,'ClassRef':M,'execute':_0x32139d=>O['startFlow'](_0x32139d,_0x594975)});_0xbf1593['status'](0xc8)[_0x3b604b(0x54e)](_0x5edb6e);})[_0x3c5da4(0x8a5)](this[_0x3c5da4(0x2d7)](_0x3c5da4(0x5ae)),..._0x1f4138,async(_0x4a858c,_0x3ca358)=>{const _0x5a1670=_0x3c5da4;y[_0x5a1670(0x1d7)](_0x5a1670(0x5e4));let _0x553c31=await this[_0x5a1670(0x8af)]({'request':_0x4a858c,'schema':N,'ClassRef':M,'execute':_0x104478=>O[_0x5a1670(0x5ae)](_0x104478)});_0x3ca358[_0x5a1670(0x362)](0xc8)['json'](_0x553c31);})[_0x3c5da4(0x8a5)](this[_0x3c5da4(0x2d7)](_0x3c5da4(0x240)),..._0x1f4138,async(_0x5b9697,_0xdbba9c)=>{const _0x1b1928=_0x3c5da4;y[_0x1b1928(0x1d7)]('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x2e9227=await this['dataValidate']({'request':_0x5b9697,'schema':N,'ClassRef':M,'execute':_0x111492=>O['getAutomateSystem'](_0x111492)});_0xdbba9c[_0x1b1928(0x362)](0xc8)['json'](_0x2e9227);})[_0x3c5da4(0x38a)](this[_0x3c5da4(0x2d7)](_0x3c5da4(0x85a)),..._0x1f4138,async(_0x1658bf,_0xc4e4e3)=>{const _0xcc664d=_0x3c5da4;let _0x52a391=_0x1658bf[_0xcc664d(0x76e)];y['verbose']('request\x20received\x20in\x20updateAgent'),y[_0xcc664d(0x1d7)](_0xcc664d(0x1bb)),y['verbose'](_0x1658bf[_0xcc664d(0x76e)]);let _0x1d529a=await this[_0xcc664d(0x8af)]({'request':_0x1658bf,'schema':N,'ClassRef':M,'execute':_0x432be7=>O['updateAgent'](_0x432be7,_0x52a391)});_0xc4e4e3['status'](0xc8)[_0xcc664d(0x54e)](_0x1d529a);})[_0x3c5da4(0x38a)](this['routerPath'](_0x3c5da4(0x3b2)),..._0x1f4138,async(_0x1a1cfa,_0x596494)=>{const _0x27de63=_0x3c5da4;let _0x4f66e8=_0x1a1cfa[_0x27de63(0x76e)];y[_0x27de63(0x1d7)](_0x27de63(0x523)),y['verbose'](_0x27de63(0x1bb)),y['verbose'](_0x1a1cfa['body']);let _0x220f2c=await this['dataValidate']({'request':_0x1a1cfa,'schema':N,'ClassRef':M,'execute':_0x521b23=>O[_0x27de63(0x3b2)](_0x521b23,_0x4f66e8)});_0x596494['status'](0xc8)[_0x27de63(0x54e)](_0x220f2c);})[_0x3c5da4(0x38a)](this[_0x3c5da4(0x2d7)]('updateAutoCompleteMessages'),..._0x1f4138,async(_0x238188,_0x5b6a93)=>{const _0x4d45c7=_0x3c5da4;let _0x37383d=_0x238188['body'];y[_0x4d45c7(0x1d7)](_0x4d45c7(0x410)),y[_0x4d45c7(0x1d7)](_0x4d45c7(0x1bb)),y['verbose'](_0x238188[_0x4d45c7(0x76e)]);let _0xe2e6e9=await this[_0x4d45c7(0x8af)]({'request':_0x238188,'schema':N,'ClassRef':M,'execute':_0x58c7bc=>O[_0x4d45c7(0x2e9)](_0x58c7bc,_0x37383d)});_0x5b6a93[_0x4d45c7(0x362)](0xc8)[_0x4d45c7(0x54e)](_0xe2e6e9);})['post'](this[_0x3c5da4(0x2d7)](_0x3c5da4(0x35d)),..._0x1f4138,async(_0xa66081,_0x1a0bc6)=>{const _0x1a4ac6=_0x3c5da4;let _0x1a547f=_0xa66081['body'];y[_0x1a4ac6(0x1d7)](_0x1a4ac6(0x5da)),y['verbose']('request\x20body:\x20'),y[_0x1a4ac6(0x1d7)](_0xa66081[_0x1a4ac6(0x76e)]);let _0x42a348=await this[_0x1a4ac6(0x8af)]({'request':_0xa66081,'schema':N,'ClassRef':M,'execute':_0x38635d=>O[_0x1a4ac6(0x35d)](_0x38635d,_0x1a547f)});_0x1a0bc6['status'](0xc8)[_0x1a4ac6(0x54e)](_0x42a348);})[_0x3c5da4(0x38a)](this[_0x3c5da4(0x2d7)]('getConversation'),..._0x1f4138,async(_0x45247e,_0x29a50d)=>{const _0x1e4a39=_0x3c5da4;let _0x520075=_0x45247e[_0x1e4a39(0x76e)];y[_0x1e4a39(0x1d7)](_0x1e4a39(0x6b4)),y['verbose'](_0x1e4a39(0x1bb)),y[_0x1e4a39(0x1d7)](_0x45247e[_0x1e4a39(0x76e)]);let _0x3e8fb9=await this[_0x1e4a39(0x8af)]({'request':_0x45247e,'schema':N,'ClassRef':M,'execute':_0x326134=>O['getConversation'](_0x326134,_0x520075)});_0x29a50d[_0x1e4a39(0x362)](0xc8)['json'](_0x3e8fb9);})[_0x3c5da4(0x38a)](this['routerPath']('fetchConversation'),..._0x1f4138,async(_0x5b6ad5,_0x2afc49)=>{const _0x48d6ee=_0x3c5da4;let _0x341633=_0x5b6ad5[_0x48d6ee(0x76e)];y['verbose'](_0x48d6ee(0x243)),y['verbose'](_0x48d6ee(0x1bb)),y[_0x48d6ee(0x1d7)](_0x5b6ad5[_0x48d6ee(0x76e)]);let _0x3a2dc6=await this[_0x48d6ee(0x8af)]({'request':_0x5b6ad5,'schema':N,'ClassRef':M,'execute':_0x4c18f6=>O[_0x48d6ee(0x3c6)](_0x4c18f6,_0x341633)});_0x2afc49[_0x48d6ee(0x362)](0xc8)[_0x48d6ee(0x54e)](_0x3a2dc6);})[_0x3c5da4(0x38a)](this[_0x3c5da4(0x2d7)]('editConversation'),..._0x1f4138,async(_0x122919,_0x26816c)=>{const _0x10e2b2=_0x3c5da4;let _0x2d6b17=_0x122919[_0x10e2b2(0x76e)];y[_0x10e2b2(0x1d7)](_0x10e2b2(0x693)),y[_0x10e2b2(0x1d7)]('request\x20body:\x20'),y[_0x10e2b2(0x1d7)](_0x122919[_0x10e2b2(0x76e)]);let _0x1e84d6=await this[_0x10e2b2(0x8af)]({'request':_0x122919,'schema':N,'ClassRef':M,'execute':_0x27d5c4=>O[_0x10e2b2(0x1aa)](_0x27d5c4,_0x2d6b17)});_0x26816c['status'](0xc8)['json'](_0x1e84d6);})[_0x3c5da4(0x5f4)](this[_0x3c5da4(0x2d7)](_0x3c5da4(0x41c)),..._0x1f4138,async(_0x23bc15,_0x4c9208)=>{const _0x401fd9=_0x3c5da4;let _0x340d5d=_0x23bc15[_0x401fd9(0x76e)];y[_0x401fd9(0x1d7)]('request\x20received\x20in\x20deleteConversation'),y[_0x401fd9(0x1d7)]('request\x20body:\x20'),y[_0x401fd9(0x1d7)](_0x23bc15[_0x401fd9(0x76e)]);let _0x56f3f2=await this[_0x401fd9(0x8af)]({'request':_0x23bc15,'schema':N,'ClassRef':M,'execute':_0x2c2fce=>O['deleteConversation'](_0x2c2fce,_0x340d5d)});_0x4c9208[_0x401fd9(0x362)](0xc8)['json'](_0x56f3f2);})[_0x3c5da4(0x38a)](this['routerPath']('createflow'),..._0x1f4138,async(_0x5e94f1,_0x226e02)=>{const _0xbb0865=_0x3c5da4;let _0x3a4ae5=_0x5e94f1['body'],_0x506758=_0x5e94f1[_0xbb0865(0x83e)][_0xbb0865(0x198)];y['verbose'](_0xbb0865(0x49b)),y[_0xbb0865(0x1d7)](_0xbb0865(0x1bb)),y[_0xbb0865(0x1d7)](_0x5e94f1[_0xbb0865(0x76e)]);let _0x572538=await this[_0xbb0865(0x8af)]({'request':_0x5e94f1,'schema':N,'ClassRef':M,'execute':_0x3c9918=>O[_0xbb0865(0x3de)](_0x3c9918,_0x3a4ae5,_0x506758)});_0x226e02[_0xbb0865(0x362)](0xc8)[_0xbb0865(0x54e)](_0x572538);})[_0x3c5da4(0x38a)](this[_0x3c5da4(0x2d7)](_0x3c5da4(0x501)),..._0x1f4138,async(_0x560248,_0x1ea8fe)=>{const _0x6447e8=_0x3c5da4;let _0x512d45=_0x560248[_0x6447e8(0x76e)],_0x5d6d1e=_0x560248[_0x6447e8(0x83e)][_0x6447e8(0x198)];y['verbose'](_0x6447e8(0x181)),y['verbose'](_0x6447e8(0x1bb)),y['verbose'](_0x560248[_0x6447e8(0x76e)]),delete _0x512d45[_0x6447e8(0x638)],delete _0x512d45[_0x6447e8(0x639)],delete _0x512d45[_0x6447e8(0x205)],delete _0x512d45[_0x6447e8(0x438)];let _0x5744b3=await this[_0x6447e8(0x8af)]({'request':_0x560248,'schema':N,'ClassRef':M,'execute':_0x5240f1=>O['editFlow'](_0x5240f1,_0x512d45,_0x5d6d1e)});_0x1ea8fe[_0x6447e8(0x362)](0xc8)['json'](_0x5744b3);})[_0x3c5da4(0x38a)](this[_0x3c5da4(0x2d7)](_0x3c5da4(0x315)),..._0x1f4138,async(_0x1a2653,_0x3972b2)=>{const _0x859777=_0x3c5da4;let _0x1e08c5=_0x1a2653[_0x859777(0x76e)];y[_0x859777(0x1d7)](_0x859777(0x181)),y[_0x859777(0x1d7)]('request\x20body:\x20'),y[_0x859777(0x1d7)](_0x1a2653[_0x859777(0x76e)]);let _0x718437=await this['dataValidate']({'request':_0x1a2653,'schema':N,'ClassRef':M,'execute':_0x27175a=>O[_0x859777(0x50f)](_0x27175a,_0x1e08c5)});_0x3972b2[_0x859777(0x362)](0xc8)['json'](_0x718437);})[_0x3c5da4(0x38a)](this['routerPath'](_0x3c5da4(0x3b8)),..._0x1f4138,async(_0x4b6195,_0x354981)=>{const _0x272765=_0x3c5da4;let _0x116da3=_0x4b6195[_0x272765(0x76e)];y[_0x272765(0x1d7)](_0x272765(0x181)),y[_0x272765(0x1d7)](_0x272765(0x1bb)),y[_0x272765(0x1d7)](_0x4b6195[_0x272765(0x76e)]);let _0x244188=await this[_0x272765(0x8af)]({'request':_0x4b6195,'schema':N,'ClassRef':M,'execute':_0x8af971=>O[_0x272765(0x65a)](_0x8af971,_0x116da3)});_0x354981[_0x272765(0x362)](0xc8)[_0x272765(0x54e)](_0x244188);})[_0x3c5da4(0x38a)](this[_0x3c5da4(0x2d7)](_0x3c5da4(0x60b)),..._0x1f4138,async(_0x4b2326,_0x299f83)=>{const _0x5bd266=_0x3c5da4;let _0x3dede5=_0x4b2326['body'];y[_0x5bd266(0x1d7)](_0x5bd266(0x181)),y[_0x5bd266(0x1d7)]('request\x20body:\x20'),y[_0x5bd266(0x1d7)](_0x4b2326[_0x5bd266(0x76e)]);let _0x31aae8=await this[_0x5bd266(0x8af)]({'request':_0x4b2326,'schema':N,'ClassRef':M,'execute':_0x2790c2=>O[_0x5bd266(0x827)](_0x2790c2,_0x3dede5)});_0x299f83[_0x5bd266(0x362)](0xc8)[_0x5bd266(0x54e)](_0x31aae8);})[_0x3c5da4(0x38a)](this[_0x3c5da4(0x2d7)]('editflowgroup'),..._0x1f4138,async(_0x3a7745,_0x21bd50)=>{const _0x322812=_0x3c5da4;let _0x4a011d=_0x3a7745[_0x322812(0x76e)];y[_0x322812(0x1d7)]('request\x20received\x20in\x20editFlowgroup'),y[_0x322812(0x1d7)]('request\x20body:\x20'),y[_0x322812(0x1d7)](_0x3a7745[_0x322812(0x76e)]);let _0x573089=await this['dataValidate']({'request':_0x3a7745,'schema':N,'ClassRef':M,'execute':_0x39adaf=>O[_0x322812(0x7bb)](_0x39adaf,_0x4a011d)});_0x21bd50[_0x322812(0x362)](0xc8)[_0x322812(0x54e)](_0x573089);})[_0x3c5da4(0x38a)](this[_0x3c5da4(0x2d7)]('editflowcondition'),..._0x1f4138,async(_0x8dabea,_0x1c0f5c)=>{const _0x537374=_0x3c5da4;let _0x10db4f=_0x8dabea[_0x537374(0x76e)];y[_0x537374(0x1d7)](_0x537374(0x390)),y[_0x537374(0x1d7)](_0x537374(0x1bb)),y[_0x537374(0x1d7)](_0x8dabea[_0x537374(0x76e)]);let _0x2d3e14=await this['dataValidate']({'request':_0x8dabea,'schema':N,'ClassRef':M,'execute':_0x245493=>O[_0x537374(0x487)](_0x245493,_0x10db4f)});_0x1c0f5c[_0x537374(0x362)](0xc8)[_0x537374(0x54e)](_0x2d3e14);})[_0x3c5da4(0x38a)](this[_0x3c5da4(0x2d7)](_0x3c5da4(0x278)),..._0x1f4138,async(_0x186e4a,_0x4574b5)=>{const _0x26836b=_0x3c5da4;let _0x44ad6d=_0x186e4a['body'];y['verbose'](_0x26836b(0x1d5)),y[_0x26836b(0x1d7)](_0x26836b(0x1bb)),y[_0x26836b(0x1d7)](_0x186e4a[_0x26836b(0x76e)]);let _0x548f42=await this['dataValidate']({'request':_0x186e4a,'schema':N,'ClassRef':M,'execute':_0x59b0a9=>O[_0x26836b(0x3c9)](_0x59b0a9,_0x44ad6d)});_0x4574b5[_0x26836b(0x362)](0xc8)[_0x26836b(0x54e)](_0x548f42);})[_0x3c5da4(0x38a)](this[_0x3c5da4(0x2d7)](_0x3c5da4(0x35e)),..._0x1f4138,async(_0x2dbfcf,_0x599fe4)=>{const _0x323369=_0x3c5da4;let _0x23a5a2=_0x2dbfcf[_0x323369(0x76e)];y[_0x323369(0x1d7)](_0x323369(0x587)),y[_0x323369(0x1d7)]('request\x20body:\x20'),y[_0x323369(0x1d7)](_0x2dbfcf[_0x323369(0x76e)]);let _0x5cd99d=await this['dataValidate']({'request':_0x2dbfcf,'schema':N,'ClassRef':M,'execute':_0x4c5283=>O['getFlow'](_0x4c5283,_0x23a5a2)});_0x599fe4['status'](0xc8)['json'](_0x5cd99d);})['delete'](this[_0x3c5da4(0x2d7)]('deleteflow'),..._0x1f4138,async(_0x3dd1bc,_0x5b925b)=>{const _0x27cc8b=_0x3c5da4;let _0x4e10c2=_0x3dd1bc['body'];y[_0x27cc8b(0x1d7)](_0x27cc8b(0x405)),y[_0x27cc8b(0x1d7)]('request\x20body:\x20'),y[_0x27cc8b(0x1d7)](_0x3dd1bc[_0x27cc8b(0x76e)]);let _0x152d98=await this[_0x27cc8b(0x8af)]({'request':_0x3dd1bc,'schema':N,'ClassRef':M,'execute':_0x113573=>O[_0x27cc8b(0x7f2)](_0x113573,_0x4e10c2)});_0x5b925b[_0x27cc8b(0x362)](0xc8)[_0x27cc8b(0x54e)](_0x152d98);})[_0x3c5da4(0x8a5)](this[_0x3c5da4(0x2d7)](_0x3c5da4(0x912)),..._0x1f4138,async(_0x57e578,_0x4719ed)=>{const _0x45cf58=_0x3c5da4;y[_0x45cf58(0x1d7)](_0x45cf58(0x294));let _0x312d7d=await this[_0x45cf58(0x8af)]({'request':_0x57e578,'schema':N,'ClassRef':M,'execute':_0x1d5fbd=>O['allFlows'](_0x1d5fbd)});_0x4719ed[_0x45cf58(0x362)](0xc8)[_0x45cf58(0x54e)](_0x312d7d);});}},Mi=T(require('path')),se={};function yi(_0x1481a0,_0x4c1230,_0x417ea5,_0x45f0ef){se[_0x1481a0]||(se[_0x1481a0]={}),se[_0x1481a0][_0x4c1230]={'id':_0x4c1230,'response':_0x417ea5,'events':_0x45f0ef};}function a0_0x5772(_0x3533fe,_0x4d682c){const _0x30bbed=a0_0x30bb();return a0_0x5772=function(_0x5772d2,_0x5c1916){_0x5772d2=_0x5772d2-0x181;let _0x45ae88=_0x30bbed[_0x5772d2];return _0x45ae88;},a0_0x5772(_0x3533fe,_0x4d682c);}function bi(_0x12ec0c,_0x54623e){!se[_0x12ec0c]||!se[_0x12ec0c][_0x54623e]||delete se[_0x12ec0c][_0x54623e];}function F(_0x54bab0,_0x32ed83,_0x30a79c){const _0x16da5a=a0_0x1bb7e5;if(!se[_0x54bab0])return;let _0x2268ec=_0x16da5a(0x437)+JSON[_0x16da5a(0x84a)](_0x30a79c)+'\x0a\x0a';Object[_0x16da5a(0x32a)](se[_0x54bab0])[_0x16da5a(0x70b)](_0x5683ef=>{const _0xe221b9=_0x16da5a;_0x5683ef['events'][_0xe221b9(0x460)](_0x32ed83)&&_0x5683ef['response'][_0xe221b9(0x3aa)](_0x2268ec);});}function Si(){const _0x2bd682=a0_0x1bb7e5;let _0x46af20={};for(let _0x24a351 in se)_0x46af20[_0x24a351]=Object[_0x2bd682(0x32a)](se[_0x24a351])['map'](_0x4d91e4=>({'id':_0x4d91e4['id'],'events':_0x4d91e4[_0x2bd682(0x431)]}));return _0x46af20;}var Ci=require('uuid'),Ts=require(a0_0x1bb7e5(0x2f3)),Is=class{},Io=new Ts['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),To=new Ts[(a0_0x1bb7e5(0x8bc))]({'_id':{'type':String,'default':'config'},'WebhookGlobal':{'type':Io},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ve=I?.[a0_0x1bb7e5(0x618)](Is[a0_0x1bb7e5(0x8f0)],To,a0_0x1bb7e5(0x615)),_o=Mi[a0_0x1bb7e5(0x4b7)][a0_0x1bb7e5(0x518)](__dirname,'downloads'),ke=(0x0,Ot[a0_0x1bb7e5(0x318)])(),Oo=S[a0_0x1bb7e5(0x8a5)]('AUTHENTICATION')[a0_0x1bb7e5(0x572)],re=[Aa,Ia,Oa[Oo]];ke['use']('/media',Ot[a0_0x1bb7e5(0x4b7)][a0_0x1bb7e5(0x4b2)](_o))[a0_0x1bb7e5(0x8a5)](a0_0x1bb7e5(0x51f),async(_0x3e43c4,_0xd7caa6)=>{const _0x5bbaba=a0_0x1bb7e5;console[_0x5bbaba(0x493)](_0x5bbaba(0x6ef));let _0x1eb4bf=_0x3e43c4[_0x5bbaba(0x910)]['instance'],_0xbea44d=(_0x3e43c4[_0x5bbaba(0x91a)][_0x5bbaba(0x431)]||'')[_0x5bbaba(0x53e)](','),_0x311265=(0x0,Ci['v4'])();console['log'](_0x5bbaba(0x7a6),_0x1eb4bf),console['log'](_0x5bbaba(0x656),_0xbea44d);let _0x3be509=S[_0x5bbaba(0x8a5)](_0x5bbaba(0x8f5))[_0x5bbaba(0x2e2)],_0x4d92ff=_0x3e43c4[_0x5bbaba(0x91a)]['apikey'];if(console['log'](_0x5bbaba(0x589),_0x4d92ff),_0x3be509[_0x5bbaba(0x38b)]!==_0x4d92ff){console[_0x5bbaba(0x493)]('env.KEY\x20!==\x20key');try{let _0x372bca=await fe[_0x5bbaba(0x4a4)]['find'](_0x1eb4bf);if(console[_0x5bbaba(0x493)](_0x5bbaba(0x251),_0x372bca),!_0x372bca||_0x372bca[_0x5bbaba(0x198)]!==_0x4d92ff)return console[_0x5bbaba(0x493)]('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0xd7caa6['status'](0x191)['send'](_0x5bbaba(0x5f5));}catch(_0x2bd33c){return console['error'](_0x5bbaba(0x219),_0x2bd33c),_0xd7caa6[_0x5bbaba(0x362)](0x191)[_0x5bbaba(0x302)](_0x5bbaba(0x5cf));}}if(!await _e(_0x1eb4bf))return _0xd7caa6[_0x5bbaba(0x362)](0x194)[_0x5bbaba(0x302)](_0x5bbaba(0x1b3));_0xd7caa6[_0x5bbaba(0x6bb)](_0x5bbaba(0x6c7),_0x5bbaba(0x784)),_0xd7caa6['setHeader'](_0x5bbaba(0x2e1),_0x5bbaba(0x62e)),_0xd7caa6['setHeader'](_0x5bbaba(0x88e),_0x5bbaba(0x314)),_0xd7caa6[_0x5bbaba(0x35b)]();let _0x2bcfd2=_0x5bbaba(0x437)+JSON[_0x5bbaba(0x84a)]({'info':_0x5bbaba(0x43a)})+'\x0a\x0a';_0xd7caa6[_0x5bbaba(0x3aa)](_0x2bcfd2),yi(_0x1eb4bf,_0x311265,_0xd7caa6,_0xbea44d),_0x3e43c4['on'](_0x5bbaba(0x66a),()=>{const _0x409058=_0x5bbaba;console['log'](_0x409058(0x8b4)+_0x1eb4bf),bi(_0x1eb4bf,_0x311265);});}),ke[a0_0x1bb7e5(0x38a)](a0_0x1bb7e5(0x352),async(_0x4d7f4b,_0x1bde18)=>{const _0x2725e4=a0_0x1bb7e5;console[_0x2725e4(0x493)](_0x2725e4(0x6a4));let _0x11e176=_0x4d7f4b['params'][_0x2725e4(0x3fc)],_0xa762c2=_0x4d7f4b[_0x2725e4(0x910)][_0x2725e4(0x5f2)],_0x4257ee=_0x4d7f4b[_0x2725e4(0x91a)]['remoteJid']||'',_0x54a510=_0x4d7f4b[_0x2725e4(0x76e)];console[_0x2725e4(0x493)]('Instance\x20Name:',_0x11e176),console[_0x2725e4(0x493)](_0x2725e4(0x2b2),_0xa762c2),console[_0x2725e4(0x493)]('RemoteJid:',_0x4257ee),console['log'](_0x2725e4(0x6b0),_0x54a510);try{if(!await _e(_0x11e176))return _0x1bde18[_0x2725e4(0x362)](0x194)[_0x2725e4(0x302)](_0x2725e4(0x1b3));let _0x309b4f=await O[_0x2725e4(0x1b5)](_0x11e176,_0xa762c2,_0x4257ee,_0x54a510);_0x1bde18[_0x2725e4(0x302)](_0x309b4f);}catch(_0x2070c9){console[_0x2725e4(0x834)](_0x2070c9),_0x1bde18[_0x2725e4(0x362)](0x1f4)[_0x2725e4(0x302)]('Erro\x20ao\x20iniciar\x20o\x20fluxo.');}}),ke[a0_0x1bb7e5(0x8a5)](a0_0x1bb7e5(0x7e4),(_0x38c04c,_0x3830e7)=>{const _0x5efbde=a0_0x1bb7e5;let _0x34faad=Si();_0x3830e7[_0x5efbde(0x54e)](_0x34faad);})['get']('/',(_0x36198f,_0x2cb318)=>{const _0x3d1302=a0_0x1bb7e5;let _0x1a6759=S['get'](_0x3d1302(0x687))[_0x3d1302(0x859)];if(_0x1a6759){let _0x525882=encodeURIComponent(''+_0x1a6759);_0x2cb318[_0x3d1302(0x290)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x525882);return;}let _0x3b718b=S[_0x3d1302(0x8a5)](_0x3d1302(0x427)),_0x325e63=_0x3b718b&&_0x3b718b[_0x3d1302(0x319)][_0x3d1302(0x53e)]('/')[0x4];if(_0x325e63){let _0x12b81c=encodeURIComponent(_0x3d1302(0x7d2)+_0x325e63);_0x2cb318[_0x3d1302(0x290)](_0x3d1302(0x3f3)+_0x12b81c);}else _0x2cb318['redirect'](_0x3d1302(0x8d3));})[a0_0x1bb7e5(0x8d0)](a0_0x1bb7e5(0x7ce),...re,async(_0x3735f2,_0x540a8c)=>{const _0x188a26=a0_0x1bb7e5;try{console['log'](_0x188a26(0x1b2)),_0x540a8c['status'](0xc8)[_0x188a26(0x54e)]({'message':_0x188a26(0x1e8)}),_0x540a8c['on'](_0x188a26(0x7b4),()=>process['exit'](0x0));}catch(_0x185f15){console['error']('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x185f15),_0x540a8c[_0x188a26(0x362)](0x1f4)[_0x188a26(0x54e)]({'message':_0x188a26(0x3af)});}})[a0_0x1bb7e5(0x8d0)](a0_0x1bb7e5(0x727),...re,async(_0x385c10,_0x176d69)=>{const _0x2d869e=a0_0x1bb7e5;try{let _0x35381e=_0x385c10[_0x2d869e(0x76e)];await ve[_0x2d869e(0x3dd)]({},{'$set':_0x35381e},{'upsert':!0x0});let _0x3c1a90=await ve['findOne']();_0x176d69[_0x2d869e(0x54e)](_0x3c1a90);}catch(_0x13c183){_0x176d69[_0x2d869e(0x362)](0x190)[_0x2d869e(0x302)](_0x13c183[_0x2d869e(0x865)]);}})['get'](a0_0x1bb7e5(0x727),...re,async(_0x5e5e62,_0x47b213)=>{const _0x3a146e=a0_0x1bb7e5;try{let _0x23c990=await ve[_0x3a146e(0x1fa)]();if(!_0x23c990)return _0x47b213[_0x3a146e(0x54e)]({});_0x47b213[_0x3a146e(0x54e)](_0x23c990);}catch(_0x352f0f){_0x47b213[_0x3a146e(0x362)](0x1f4)['send'](_0x352f0f[_0x3a146e(0x865)]);}})[a0_0x1bb7e5(0x19d)](a0_0x1bb7e5(0x6fb),new yt(S,...re)['router'])[a0_0x1bb7e5(0x19d)](a0_0x1bb7e5(0x440),new At(...re)[a0_0x1bb7e5(0x5fe)])[a0_0x1bb7e5(0x19d)]('/chat',new ct(...re)[a0_0x1bb7e5(0x5fe)])[a0_0x1bb7e5(0x19d)](a0_0x1bb7e5(0x511),new wt(...re)[a0_0x1bb7e5(0x5fe)])[a0_0x1bb7e5(0x19d)](a0_0x1bb7e5(0x87a),new Tt(...re)['router'])[a0_0x1bb7e5(0x19d)](a0_0x1bb7e5(0x635),new _t(...re)['router']);var m=class{constructor(..._0x3ab7b4){const _0x205bde=a0_0x1bb7e5;throw{'status':0x190,'error':_0x205bde(0x1c7),'message':_0x3ab7b4[_0x205bde(0x1e1)]>0x0?_0x3ab7b4:void 0x0};}},ie=class{constructor(..._0x573e12){const _0x5b440d=a0_0x1bb7e5;throw{'status':0x191,'error':'Unauthorized','message':_0x573e12[_0x5b440d(0x1e1)]>0x0?_0x573e12:void 0x0};}},Z=class{constructor(..._0x489f5f){const _0x1a2a8d=a0_0x1bb7e5;throw{'status':0x193,'error':'Forbidden','message':_0x489f5f[_0x1a2a8d(0x1e1)]>0x0?_0x489f5f:void 0x0};}},U=class{constructor(..._0x27664c){const _0x5a080b=a0_0x1bb7e5;throw{'status':0x194,'error':'Not\x20Found','message':_0x27664c[_0x5a080b(0x1e1)]>0x0?_0x27664c:void 0x0};}},x=class{constructor(..._0x3d113b){const _0x15ea3c=a0_0x1bb7e5;throw{'status':0x1f4,'error':_0x15ea3c(0x734),'message':_0x3d113b[_0x15ea3c(0x1e1)]>0x0?_0x3d113b:void 0x0};}},we=require('@whiskeysockets/baileys');async function _s(_0x190817){const _0x5aa31f=a0_0x1bb7e5;let _0xabdd92=new $(_s[_0x5aa31f(0x8f0)]),_0x56c433=I[_0x5aa31f(0x713)](),_0x35ad24=_0x56c433['db'](S[_0x5aa31f(0x8a5)](_0x5aa31f(0x7da))[_0x5aa31f(0x6bc)][_0x5aa31f(0x2fc)]+_0x5aa31f(0x24e))[_0x5aa31f(0x686)](_0x190817),_0x209a57=async(_0x2880e9,_0x4514ce)=>{const _0x40e09b=_0x5aa31f;try{return await _0x56c433[_0x40e09b(0x8fb)](),await _0x35ad24[_0x40e09b(0x3cd)]({'_id':_0x4514ce},JSON['parse'](JSON[_0x40e09b(0x84a)](_0x2880e9,we[_0x40e09b(0x642)][_0x40e09b(0x73b)])),{'upsert':!0x0});}catch{}},_0x161d77=async _0xf60235=>{const _0x4ab843=_0x5aa31f;try{await _0x56c433['connect']();let _0x3a076e=await _0x35ad24[_0x4ab843(0x1fa)]({'_id':_0xf60235}),_0x9ab865=JSON[_0x4ab843(0x84a)](_0x3a076e);return JSON[_0x4ab843(0x841)](_0x9ab865,we[_0x4ab843(0x642)][_0x4ab843(0x7aa)]);}catch{}},_0x36d6aa=async _0x4ed334=>{const _0x1d99bf=_0x5aa31f;try{return await _0x56c433[_0x1d99bf(0x8fb)](),await _0x35ad24['deleteOne']({'_id':_0x4ed334});}catch{}},_0x551086=await _0x161d77(_0x5aa31f(0x62d))||(0x0,we[_0x5aa31f(0x6a2)])();return{'state':{'creds':_0x551086,'keys':{'get':async(_0x3be22e,_0x3b7167)=>{const _0x6560c0=_0x5aa31f;let _0x116a64={};return await Promise[_0x6560c0(0x21b)](_0x3b7167[_0x6560c0(0x7b7)](async _0x28ba4a=>{const _0x167554=_0x6560c0;let _0xe103f0=await _0x161d77(_0x3be22e+'-'+_0x28ba4a);_0x3be22e==='app-state-sync-key'&&_0xe103f0&&(_0xe103f0=we['proto'][_0x167554(0x6af)][_0x167554(0x383)][_0x167554(0x225)](_0xe103f0)),_0x116a64[_0x28ba4a]=_0xe103f0;})),_0x116a64;},'set':async _0x1d688a=>{const _0x28b550=_0x5aa31f;let _0x6740b7=[];for(let _0x26c525 in _0x1d688a)for(let _0x1e27e9 in _0x1d688a[_0x26c525]){let _0x53bb4d=_0x1d688a[_0x26c525][_0x1e27e9],_0x1afede=_0x26c525+'-'+_0x1e27e9;_0x6740b7[_0x28b550(0x62c)](_0x53bb4d?_0x209a57(_0x53bb4d,_0x1afede):_0x36d6aa(_0x1afede));}await Promise['all'](_0x6740b7);}}},'saveCreds':async()=>_0x209a57(_0x551086,_0x5aa31f(0x62d))};}var ks=T(require(a0_0x1bb7e5(0x44b))),Ls=T(require('node-cache')),Dt=require('@whiskeysockets/baileys'),Ei=require(a0_0x1bb7e5(0x658)),Pt=require('@whiskeysockets/baileys'),xt;function xo(_0x4edd14){const _0x3433cc=a0_0x1bb7e5;return xt||(xt=(0x0,Ei[_0x3433cc(0x2c3)])({'url':_0x4edd14['URI']}),xt['connect']()),xt;}var pe=class u{constructor(_0x358cfa,_0x3c1893){const _0x3f1e65=a0_0x1bb7e5;this[_0x3f1e65(0x30e)]=_0x358cfa,this[_0x3f1e65(0x7fe)]=_0x3c1893,this['logger']=new $(u[_0x3f1e65(0x8f0)]),this[_0x3f1e65(0x680)]=xo(_0x358cfa);}set[a0_0x1bb7e5(0x565)](_0x4b0f53){const _0x219ce9=a0_0x1bb7e5;this[_0x219ce9(0x7fe)]=_0x4b0f53;}async[a0_0x1bb7e5(0x6a3)](){const _0x4a255e=a0_0x1bb7e5;try{return await this[_0x4a255e(0x680)][_0x4a255e(0x3bb)](['keys',this[_0x4a255e(0x30e)][_0x4a255e(0x86c)]+':*']);}catch(_0x4688e9){this['logger'][_0x4a255e(0x834)](_0x4688e9);}}async['writeData'](_0x43a98a,_0xf0ea14){const _0x2a6d3f=a0_0x1bb7e5;try{let _0x46b1ec=JSON[_0x2a6d3f(0x84a)](_0xf0ea14,Pt[_0x2a6d3f(0x642)][_0x2a6d3f(0x73b)]);return await this[_0x2a6d3f(0x680)][_0x2a6d3f(0x79a)](this[_0x2a6d3f(0x30e)][_0x2a6d3f(0x86c)]+':'+this[_0x2a6d3f(0x7fe)],_0x43a98a,_0x46b1ec);}catch(_0x8f47be){this['logger']['error'](_0x8f47be);}}async[a0_0x1bb7e5(0x5b8)](){const _0x43ba90=a0_0x1bb7e5;try{let _0x470f66=await this[_0x43ba90(0x680)]['hGetAll'](this[_0x43ba90(0x30e)]['PREFIX_KEY']+':'+this['instanceName']);if(_0x470f66){for(let _0x3c128d in _0x470f66)Object[_0x43ba90(0x388)]['hasOwnProperty'][_0x43ba90(0x24a)](_0x470f66,_0x3c128d)&&(_0x470f66[_0x3c128d]=JSON[_0x43ba90(0x841)](_0x470f66[_0x3c128d],Pt[_0x43ba90(0x642)][_0x43ba90(0x7aa)]));return _0x470f66;}}catch(_0x698945){this[_0x43ba90(0x39f)][_0x43ba90(0x834)](_0x698945);}}async[a0_0x1bb7e5(0x919)](_0x71a342){const _0x187ea3=a0_0x1bb7e5;try{let _0x5efac9=await this[_0x187ea3(0x680)][_0x187ea3(0x3c1)](this['redisEnv'][_0x187ea3(0x86c)]+':'+this[_0x187ea3(0x7fe)],_0x71a342);if(_0x5efac9)return JSON['parse'](_0x5efac9,Pt[_0x187ea3(0x642)]['reviver']);}catch(_0x3d20f6){this[_0x187ea3(0x39f)][_0x187ea3(0x834)](_0x3d20f6);}}async[a0_0x1bb7e5(0x1f3)](_0x55c743){const _0x228f69=a0_0x1bb7e5;try{return await this[_0x228f69(0x680)]['hDel'](this[_0x228f69(0x30e)]['PREFIX_KEY']+':'+this[_0x228f69(0x7fe)],_0x55c743);}catch(_0x409f60){this[_0x228f69(0x39f)][_0x228f69(0x834)](_0x409f60);}}async['delAll'](_0x365344){const _0x4c23f4=a0_0x1bb7e5;try{return await this[_0x4c23f4(0x680)][_0x4c23f4(0x7a4)](_0x365344||this[_0x4c23f4(0x30e)][_0x4c23f4(0x86c)]+':'+this[_0x4c23f4(0x7fe)]);}catch(_0x5a3845){this[_0x4c23f4(0x39f)][_0x4c23f4(0x834)](_0x5a3845);}}};async function Os(_0x1ebd07,_0x409a8e){const _0x166a88=a0_0x1bb7e5;let _0x1c93df=new $(Os[_0x166a88(0x8f0)]),_0x303ca4=new pe(_0x1ebd07,_0x409a8e),_0x27bc8b=async(_0xc79e77,_0x3c684a)=>{const _0x311efc=_0x166a88;try{return await _0x303ca4[_0x311efc(0x71d)](_0x3c684a,_0xc79e77);}catch(_0x4f5f09){return _0x1c93df['error']({'localError':'writeData','error':_0x4f5f09});}},_0x1a5b91=async _0x3f5389=>{const _0x225b5d=_0x166a88;try{return await _0x303ca4[_0x225b5d(0x919)](_0x3f5389);}catch(_0x1f03da){_0x1c93df[_0x225b5d(0x834)]({'readData':'writeData','error':_0x1f03da});return;}},_0x1577bf=async _0x6c391a=>{const _0x38d24e=_0x166a88;try{return await _0x303ca4['removeData'](_0x6c391a);}catch(_0x5299e9){_0x1c93df[_0x38d24e(0x834)]({'readData':_0x38d24e(0x1f3),'error':_0x5299e9});}},_0x5bbd89=await _0x1a5b91('creds')||(0x0,Dt['initAuthCreds'])();return{'state':{'creds':_0x5bbd89,'keys':{'get':async(_0x21f3e2,_0x1e32e5)=>{const _0x30d1da=_0x166a88;let _0x228ae2={};return await Promise[_0x30d1da(0x21b)](_0x1e32e5['map'](async _0x584ff2=>{const _0x2187b5=_0x30d1da;let _0x47949d=await _0x1a5b91(_0x21f3e2+'-'+_0x584ff2);_0x21f3e2==='app-state-sync-key'&&_0x47949d&&(_0x47949d=Dt[_0x2187b5(0x509)][_0x2187b5(0x6af)][_0x2187b5(0x383)][_0x2187b5(0x225)](_0x47949d)),_0x228ae2[_0x584ff2]=_0x47949d;})),_0x228ae2;},'set':async _0x274094=>{const _0x5834d6=_0x166a88;let _0xd23137=[];for(let _0x3d52cd in _0x274094)for(let _0x591ae0 in _0x274094[_0x3d52cd]){let _0x298d88=_0x274094[_0x3d52cd][_0x591ae0],_0xbeae9a=_0x3d52cd+'-'+_0x591ae0;_0xd23137[_0x5834d6(0x62c)](_0x298d88?await _0x27bc8b(_0x298d88,_0xbeae9a):await _0x1577bf(_0xbeae9a));}await Promise[_0x5834d6(0x21b)](_0xd23137);}}},'saveCreds':async()=>await _0x27bc8b(_0x5bbd89,_0x166a88(0x62d))};}var k=T(require('fs')),Y=require(a0_0x1bb7e5(0x5e8)),Ut=T(require('sharp')),ne=require(a0_0x1bb7e5(0x7a2)),vi=require('child_process'),Ni=require(a0_0x1bb7e5(0x876)),$i=T(require(a0_0x1bb7e5(0x711))),Ne=class extends _{constructor(_0x3c86e0,_0x3d95ba,_0x1cf4fb){const _0x18fa00=a0_0x1bb7e5;super(_0x3d95ba),this[_0x18fa00(0x398)]=_0x3c86e0,this[_0x18fa00(0x3bc)]=_0x3d95ba,this[_0x18fa00(0x193)]=_0x1cf4fb;}async[a0_0x1bb7e5(0x628)](_0x5a619e,_0x23d7a2){const _0x30c31a=a0_0x1bb7e5;try{if(this[_0x30c31a(0x64b)][_0x30c31a(0x2ab)]){console[_0x30c31a(0x493)](_0x30c31a(0x704)+_0x23d7a2+'\x20and\x20data:',_0x5a619e);let _0x17fb85=await this[_0x30c31a(0x398)][_0x30c31a(0x575)]({'_id':_0x23d7a2},{'$set':_0x5a619e},{'new':!0x0,'upsert':!0x0});return console[_0x30c31a(0x493)](_0x30c31a(0x79e),_0x17fb85),_0x17fb85;}}catch(_0x5dcacb){throw console[_0x30c31a(0x834)](_0x30c31a(0x810),_0x5dcacb),_0x5dcacb;}return null;}async[a0_0x1bb7e5(0x4fd)](_0x346324){const _0x4b9562=a0_0x1bb7e5;try{let _0x3b663c=A(_0x346324[_0x4b9562(0x46a)]);return{'deletedCount':(await this['cacheInstanceModel'][_0x4b9562(0x4fd)](_0x3b663c))[_0x4b9562(0x746)]};}catch(_0x17e745){return{'error':_0x17e745?.[_0x4b9562(0x684)]()};}}async[a0_0x1bb7e5(0x1fa)](_0x290d7d){const _0x19fbdc=a0_0x1bb7e5;try{let _0x585a7b=A(_0x290d7d[_0x19fbdc(0x46a)]);return await this['cacheInstanceModel'][_0x19fbdc(0x1fa)](_0x585a7b)['lean']();}catch{return null;}}},kt=(0x0,Ni[a0_0x1bb7e5(0x65f)])(vi[a0_0x1bb7e5(0x868)]),Po=S[a0_0x1bb7e5(0x8a5)](a0_0x1bb7e5(0x35c)),xs=class{constructor(){const _0x7acb6f=a0_0x1bb7e5;this['cacheInstanceRepository']=new Ne(Be,S),(!this[_0x7acb6f(0x486)]||!this['networkInterface'])&&Po&&this['detectIPv6PrefixAndInterface']()[_0x7acb6f(0x83a)](()=>{const _0x22f6f2=_0x7acb6f;console[_0x22f6f2(0x493)]('IPv6\x20Prefix\x20detected:\x20'+this[_0x22f6f2(0x486)]),console[_0x22f6f2(0x493)](_0x22f6f2(0x5d7)+this[_0x22f6f2(0x5a7)]);})[_0x7acb6f(0x334)](_0x23178c=>{const _0x31ede1=_0x7acb6f;console['error'](_0x31ede1(0x80b)+_0x23178c[_0x31ede1(0x865)]);});}async['detectIPv6PrefixAndInterface'](){const _0x3b1282=a0_0x1bb7e5;try{let {stdout:_0x5855cb}=await kt('ip\x20-br\x20link\x20show');console['log']('Network\x20interfaces\x20detected:\x20'+_0x5855cb);let _0x46cdbf=_0x5855cb[_0x3b1282(0x53e)]('\x0a')[_0x3b1282(0x7b7)](_0x3310b1=>_0x3310b1[_0x3b1282(0x53e)]('\x20')[0x0])[_0x3b1282(0x67b)](_0x4ac0d7=>!_0x4ac0d7[_0x3b1282(0x460)]('lo')&&!_0x4ac0d7['includes'](_0x3b1282(0x1ba))&&!_0x4ac0d7['includes']('vir')&&!_0x4ac0d7['includes']('wl')&&!_0x4ac0d7[_0x3b1282(0x460)]('@'));if(console[_0x3b1282(0x493)](_0x3b1282(0x18a)+_0x46cdbf),_0x46cdbf[_0x3b1282(0x1e1)]===0x0)throw new Error(_0x3b1282(0x835));this['networkInterface']=_0x46cdbf[0x0];let {stdout:_0x2e6d54}=await kt('ip\x20-6\x20addr\x20show\x20dev\x20'+this['networkInterface']);console[_0x3b1282(0x493)](_0x3b1282(0x3a3)+_0x2e6d54);let _0xc3e542=_0x2e6d54[_0x3b1282(0x53e)]('\x0a')[_0x3b1282(0x42f)](_0x608e5e=>_0x608e5e['includes'](_0x3b1282(0x513))&&_0x608e5e['includes'](_0x3b1282(0x481)));if(!_0xc3e542)throw new Error(_0x3b1282(0x407));let _0x213ceb=_0xc3e542[_0x3b1282(0x5ca)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x213ceb)throw new Error(_0x3b1282(0x293));let [_0x476447,_0x23075b,_0x4af537]=_0x213ceb,_0x56eb63=Math[_0x3b1282(0x385)](Number(_0x4af537)/0x10),_0x1aad05=Number(_0x4af537)%0x10,_0x4a1099=_0x23075b[_0x3b1282(0x53e)](':')[_0x3b1282(0x2bb)](0x0,_0x56eb63)[_0x3b1282(0x518)](':');if(_0x1aad05>0x0){let _0x294477=_0x23075b[_0x3b1282(0x53e)](':')[_0x56eb63],_0x2eb1bb=0xffff<<0x10-_0x1aad05&0xffff,_0x5569e1=(parseInt(_0x294477,0x10)&_0x2eb1bb)[_0x3b1282(0x684)](0x10)[_0x3b1282(0x5b4)](0x4,'0');_0x4a1099+=':'+_0x5569e1;}this[_0x3b1282(0x486)]=_0x4a1099+':';}catch(_0x220a34){console['error']('Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:',_0x220a34);}}async[a0_0x1bb7e5(0x569)](_0xc383b1){const _0x37499=a0_0x1bb7e5;let _0x3a689d=_0x37499(0x3be)+_0xc383b1+_0x37499(0x4cd)+this[_0x37499(0x5a7)];try{await kt(_0x3a689d),console[_0x37499(0x493)](_0x37499(0x64a)+_0xc383b1);}catch(_0x45273b){console['error']('Error\x20adding\x20IPv6\x20address:\x20'+_0x45273b);}}async[a0_0x1bb7e5(0x68f)](_0x1806c9){const _0x3670c7=a0_0x1bb7e5;let _0x5b21c8=_0x3670c7(0x534)+_0x1806c9+'/64\x20dev\x20'+this[_0x3670c7(0x5a7)];try{await kt(_0x5b21c8),console['log'](_0x3670c7(0x338)+_0x1806c9);}catch(_0x217f7a){console[_0x3670c7(0x834)](_0x3670c7(0x6ad)+_0x217f7a);}}[a0_0x1bb7e5(0x85e)](){const _0x4466e5=a0_0x1bb7e5;return _0x4466e5(0x4ee)[_0x4466e5(0x40f)](/X/g,()=>_0x4466e5(0x563)[_0x4466e5(0x4d0)](Math[_0x4466e5(0x385)](Math[_0x4466e5(0x3b6)]()*0x10)));}[a0_0x1bb7e5(0x491)](_0x1745ee,_0x3daa9b){const _0x437a7f=a0_0x1bb7e5;let _0x2e7588=_0x3daa9b[_0x437a7f(0x53e)](':');return _0x2e7588[0x0]=(parseInt(_0x2e7588[0x0],0x10)^0x2)[_0x437a7f(0x684)](0x10)['padStart'](0x2,'0'),''+_0x1745ee+_0x2e7588[0x0]+_0x2e7588[0x1]+':'+_0x2e7588[0x2]+_0x437a7f(0x1cf)+_0x2e7588[0x3]+':'+_0x2e7588[0x4]+_0x2e7588[0x5];}[a0_0x1bb7e5(0x7d6)](){const _0x35dfbd=a0_0x1bb7e5;let _0x16d210=this[_0x35dfbd(0x486)];_0x16d210[_0x35dfbd(0x53b)](':')||(_0x16d210+=':');let _0x4b4495=this[_0x35dfbd(0x85e)]();return this['ip6eui'](_0x16d210,_0x4b4495);}[a0_0x1bb7e5(0x28e)](_0xd9053c){const _0x5b21b1=a0_0x1bb7e5;return new RegExp(_0x5b21b1(0x691))[_0x5b21b1(0x6b9)](_0xd9053c);}async[a0_0x1bb7e5(0x37a)](_0x6c54a9){const _0x41a4fc=a0_0x1bb7e5;let _0x2a8efd=[{'url':_0x41a4fc(0x400),'parse':_0x33343f=>_0x33343f['ip']},{'url':_0x41a4fc(0x6b3),'parse':_0x215904=>_0x215904['ip']},{'url':_0x41a4fc(0x245),'parse':_0x1be71d=>_0x1be71d[_0x41a4fc(0x8ad)]()},{'url':'https://v6.ident.me','parse':_0x104e78=>_0x104e78['trim']()}],_0x460786=_0x2a8efd[Math[_0x41a4fc(0x385)](Math[_0x41a4fc(0x3b6)]()*_0x2a8efd[_0x41a4fc(0x1e1)])];try{let _0x32dc58=await $i[_0x41a4fc(0x4b7)][_0x41a4fc(0x8a5)](_0x460786[_0x41a4fc(0x8dc)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x6c54a9}}),_0x12a03b=_0x460786[_0x41a4fc(0x841)](_0x32dc58[_0x41a4fc(0x2b3)]);return _0x12a03b[_0x41a4fc(0x519)]()===_0x6c54a9['toLowerCase']()?(console[_0x41a4fc(0x493)](_0x41a4fc(0x45e)+_0x6c54a9),!0x0):(console['error'](_0x41a4fc(0x478)+_0x6c54a9+',\x20received\x20'+_0x12a03b),!0x1);}catch(_0x3df978){return console['error'](_0x41a4fc(0x613)+_0x460786[_0x41a4fc(0x8dc)]+':\x20'+_0x3df978[_0x41a4fc(0x865)]),!0x1;}}async[a0_0x1bb7e5(0x41b)](_0x31e7e5,_0x286cd5){const _0x2f7a1e=a0_0x1bb7e5;if(!this[_0x2f7a1e(0x486)]||!this[_0x2f7a1e(0x5a7)])return console['error'](_0x2f7a1e(0x262)),null;let _0x3eed49;do _0x3eed49=this[_0x2f7a1e(0x7d6)](),console[_0x2f7a1e(0x493)](_0x2f7a1e(0x682)+_0x3eed49);while(!await this['isValidAndUniqueIPv6'](_0x3eed49));await this[_0x2f7a1e(0x569)](_0x3eed49),console['log'](_0x2f7a1e(0x757)+_0x3eed49);let _0x39fae8={'_id':_0x31e7e5+'-'+_0x286cd5,'ip':_0x3eed49},_0x54d0cb=await this['cacheInstanceRepository']['createOrUpdate'](_0x39fae8,_0x39fae8[_0x2f7a1e(0x2c4)]);return console[_0x2f7a1e(0x493)]('Cache\x20instance\x20update\x20result:\x20'+_0x54d0cb),_0x3eed49;}async[a0_0x1bb7e5(0x1e2)](_0x4b4200){const _0xf0f91c=a0_0x1bb7e5;return this[_0xf0f91c(0x28e)](_0x4b4200)?!await this[_0xf0f91c(0x1fd)][_0xf0f91c(0x1fa)]({'where':{'ip':_0x4b4200}}):!0x1;}async[a0_0x1bb7e5(0x4d3)](_0x51b9cd,_0x467dc6){const _0x6d6df4=a0_0x1bb7e5;let _0x4ab7cb=_0x51b9cd+'-'+_0x467dc6,_0x593b9f=await this[_0x6d6df4(0x1fd)][_0x6d6df4(0x1fa)]({'where':{'_id':_0x4ab7cb}});_0x593b9f&&_0x593b9f['ip']&&(await this[_0x6d6df4(0x68f)](_0x593b9f['ip']),await this[_0x6d6df4(0x1fd)][_0x6d6df4(0x4fd)]({'where':{'_id':_0x4ab7cb}}));}},Do=new xs(),ae=Do,Fs=a0_0x1bb7e5(0x6d2),xi,he=null,xa=null,ko=0x3,Lo=null,Ri=S[a0_0x1bb7e5(0x8a5)](a0_0x1bb7e5(0x8f5))[a0_0x1bb7e5(0x2e2)]['KEY'],Ai=S['get'](a0_0x1bb7e5(0x35c));async function Fo(){const _0xe1623e=a0_0x1bb7e5;let _0x3c315d=await ve[_0xe1623e(0x1fa)]();he=_0x3c315d?.['WebhookGlobal']??null,Lo=_0x3c315d?.['DaysToDelete']??null,Fs=_0x3c315d?.[_0xe1623e(0x556)]??_0xe1623e(0x6d2),xi=_0x3c315d?.[_0xe1623e(0x914)]??B??_0xe1623e(0x433);}async function Uo(){await Fo();}Uo();var Lt={},$e=class u{constructor(_0x11e586,_0x576dcc,_0x23dde6){const _0x1ca975=a0_0x1bb7e5;this[_0x1ca975(0x3bc)]=_0x11e586,this[_0x1ca975(0x81c)]=_0x576dcc,this['repository']=_0x23dde6,this[_0x1ca975(0x676)]={},this['AutomateSystem']=null,this['logger']=new $(u['name']),this['instance']={},this[_0x1ca975(0x824)]={},this[_0x1ca975(0x595)]={'state':_0x1ca975(0x66a)},this[_0x1ca975(0x2c5)]=(0x0,j['join'])(le,_0x1ca975(0x1e6)),this[_0x1ca975(0x4a1)]=new Ls['default'](),this[_0x1ca975(0x62f)]=new Ls[(_0x1ca975(0x4b7))](),this['endSession']=!0x1,this[_0x1ca975(0x2f7)]={'status.instance':_0x1ca975(0x6e8),'connection.update':_0x1ca975(0x6e8),'qrcode.updated':_0x1ca975(0x723),'messages.upsert':_0x1ca975(0x183),'send.message':'/wa-message','messages.update':_0x1ca975(0x2dc),'group.upsert':_0x1ca975(0x1dc),'group.update':_0x1ca975(0x1dc),'group-participants.update':_0x1ca975(0x1dc),'messages.set':'/wa-all-message','contacts.set':'/wa-contacts','contacts.upsert':_0x1ca975(0x341),'contacts.update':_0x1ca975(0x341),'presence.update':_0x1ca975(0x1de),'chats.set':_0x1ca975(0x208),'chats.update':_0x1ca975(0x208),'chats.upsert':_0x1ca975(0x208),'chats.delete':_0x1ca975(0x208)},this[_0x1ca975(0x22a)]=0x0,this[_0x1ca975(0x447)]=[],this[_0x1ca975(0x57b)]=0xea60,this['isRunning']=!0x1,this[_0x1ca975(0x5f3)]={'chats.upsert':async(_0x1c7b4f,_0x215422)=>{const _0x446317=_0x1ca975;let _0xc8589a=[];for await(let _0x1506dd of _0x1c7b4f)_0xc8589a[_0x446317(0x62c)]({'_id':_0x1506dd['id'],'owner':this[_0x446317(0x3fc)][_0x446317(0x860)],'group':_0x1506dd['id']['endsWith'](_0x446317(0x84b)),'name':_0x1506dd[_0x446317(0x8f0)]||_0x1506dd[_0x446317(0x452)]||null,'contactname':null,'lastmsg':_0x1506dd[_0x446317(0x8b0)]&&_0x1506dd[_0x446317(0x8b0)][_0x446317(0x684)]()[_0x446317(0x1e1)]<0xd?_0x1506dd['conversationTimestamp']*0x3e8:_0x1506dd[_0x446317(0x8b0)]||null,'archived':_0x1506dd[_0x446317(0x8b6)]||!0x1,'unreadcount':_0x1506dd[_0x446317(0x4fc)]||0x0,'ephemeralExpiration':_0x1506dd[_0x446317(0x233)]||0x0});this[_0x446317(0x446)](_0x446317(0x50c),_0xc8589a);},'chats.update':async(_0x2f8de4,_0x2f7ed7)=>{const _0x57dc7f=_0x1ca975;for(let _0x11e9d5 of _0x2f8de4){let _0x2202dd={'_id':_0x11e9d5['id'],'owner':this[_0x57dc7f(0x3fc)][_0x57dc7f(0x860)],'archived':_0x11e9d5[_0x57dc7f(0x8b6)],'muteEndTime':_0x11e9d5[_0x57dc7f(0x3fb)],'ephemeralExpiration':_0x11e9d5[_0x57dc7f(0x233)]},_0x55e3e4=!0x1,_0x4183df={};_0x2202dd[_0x57dc7f(0x8b6)]!=null&&(this[_0x57dc7f(0x39f)][_0x57dc7f(0x1d7)](this['instanceName']+'\x20('+this['instance'][_0x57dc7f(0x860)]+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x11e9d5['id']+'\x20:\x20'+_0x11e9d5[_0x57dc7f(0x8b6)]),_0x55e3e4=!0x0,_0x4183df['archived']=_0x11e9d5[_0x57dc7f(0x8b6)]),_0x57dc7f(0x3fb)in _0x11e9d5&&(this['logger'][_0x57dc7f(0x1d7)](this[_0x57dc7f(0x7fe)]+'\x20('+this[_0x57dc7f(0x3fc)][_0x57dc7f(0x860)]+'):\x20teve\x20mudanças\x20chat.muteEndTime:\x20'+_0x11e9d5['id']+'\x20:\x20'+(_0x11e9d5[_0x57dc7f(0x3fb)]??'0')),_0x55e3e4=!0x0,_0x4183df[_0x57dc7f(0x3fb)]=_0x11e9d5[_0x57dc7f(0x3fb)]??0x0),_0x57dc7f(0x233)in _0x11e9d5&&(this[_0x57dc7f(0x39f)][_0x57dc7f(0x1d7)](this['instanceName']+'\x20('+this[_0x57dc7f(0x3fc)][_0x57dc7f(0x860)]+_0x57dc7f(0x6b6)+_0x11e9d5['id']+_0x57dc7f(0x353)+(_0x11e9d5[_0x57dc7f(0x233)]!==void 0x0?_0x11e9d5['ephemeralExpiration']:_0x57dc7f(0x2f0))),_0x4183df['ephemeralExpiration']=_0x11e9d5[_0x57dc7f(0x233)]===null?0x0:_0x11e9d5[_0x57dc7f(0x233)],_0x55e3e4=!0x0);let _0x343106;_0x55e3e4&&(_0x343106=await this[_0x57dc7f(0x1da)][_0x57dc7f(0x4cc)][_0x57dc7f(0x3dd)]({'where':{'_id':_0x11e9d5['id']}},_0x4183df,this[_0x57dc7f(0x3fc)][_0x57dc7f(0x860)])),_0x343106&&F(this[_0x57dc7f(0x7fe)],'chats',{'chat':_0x343106});}},'chats.delete':async _0x4583d4=>{const _0x3d4f26=_0x1ca975;for(let _0xf26f6f of _0x4583d4)if(_0xf26f6f[_0x3d4f26(0x53b)](_0x3d4f26(0x84b))){await this[_0x3d4f26(0x1da)][_0x3d4f26(0x4cc)][_0x3d4f26(0x5f4)]({'where':{'_id':_0xf26f6f}},this[_0x3d4f26(0x3fc)][_0x3d4f26(0x860)]);let _0x4ac767={'where':{'key':{'remoteJid':_0xf26f6f}}};await this[_0x3d4f26(0x1da)][_0x3d4f26(0x865)]['delete'](_0x4ac767,this['instance'][_0x3d4f26(0x860)]);}else{await this[_0x3d4f26(0x1da)][_0x3d4f26(0x4cc)][_0x3d4f26(0x3dd)]({'where':{'_id':_0xf26f6f}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x3d4f26(0x3fc)][_0x3d4f26(0x860)]);let _0x4da80c={'where':{'key':{'remoteJid':_0xf26f6f}}};await this[_0x3d4f26(0x1da)][_0x3d4f26(0x865)][_0x3d4f26(0x5f4)](_0x4da80c,this[_0x3d4f26(0x3fc)][_0x3d4f26(0x860)]);}this[_0x3d4f26(0x446)]('chats.delete',[..._0x4583d4]);}},this[_0x1ca975(0x367)]={'contacts.upsert':async(_0x1c6cda,_0x467476)=>{const _0x3633e2=_0x1ca975;let _0x652941=await this[_0x3633e2(0x1da)][_0x3633e2(0x802)][_0x3633e2(0x42f)]({'where':{}},this[_0x3633e2(0x3fc)]['wuid']),_0x4bbc0e=[];for await(let _0xd11736 of _0x1c6cda)_0x652941[_0x3633e2(0x42f)](_0x470736=>_0x470736[_0x3633e2(0x2c4)]===_0xd11736['id'])||_0x4bbc0e[_0x3633e2(0x62c)]({'_id':_0xd11736['id'],'pushName':_0xd11736?.[_0x3633e2(0x8f0)]||_0xd11736?.[_0x3633e2(0x710)],'owner':this[_0x3633e2(0x3fc)][_0x3633e2(0x860)]});this['sendDataWebhook'](_0x3633e2(0x65b),_0x4bbc0e),await this[_0x3633e2(0x1da)]['contact'][_0x3633e2(0x6ac)](_0x4bbc0e);},'contacts.update':async(_0xabe043,_0x404249)=>{const _0x3ba7ac=_0x1ca975;let _0xfa194b=[];for await(let _0x30734c of _0xabe043)_0xfa194b[_0x3ba7ac(0x62c)]({'_id':_0x30734c['id'],'pushName':_0x30734c?.[_0x3ba7ac(0x8f0)]??_0x30734c?.[_0x3ba7ac(0x710)],'owner':this[_0x3ba7ac(0x3fc)][_0x3ba7ac(0x860)]});this['sendDataWebhook'](_0x3ba7ac(0x357),_0xfa194b);}},this['messageHandle']={'messaging-history.set':async({messages:_0x4a2798,chats:_0x17856b,isLatest:_0xf5676},_0x25237a)=>{const _0xa7f76=_0x1ca975;if(_0xf5676){let _0x24bfdf=await Promise[_0xa7f76(0x21b)](_0x17856b[_0xa7f76(0x7b7)](async _0x3724c5=>({'_id':_0x3724c5['id'],'owner':this[_0xa7f76(0x3fc)][_0xa7f76(0x860)],'group':_0x3724c5['id'][_0xa7f76(0x53b)](_0xa7f76(0x84b)),'name':_0x3724c5[_0xa7f76(0x8f0)]||_0x3724c5[_0xa7f76(0x452)]||_0x3724c5['username']||null,'contactname':null,'lastmsg':_0x3724c5['conversationTimestamp']&&_0x3724c5[_0xa7f76(0x8b0)][_0xa7f76(0x684)]()[_0xa7f76(0x1e1)]<0xd?_0x3724c5[_0xa7f76(0x8b0)]*0x3e8:_0x3724c5[_0xa7f76(0x8b0)]||null,'archived':_0x3724c5[_0xa7f76(0x8b6)]||!0x1,'unreadcount':_0x3724c5['unreadCount']||0x0,'ephemeralExpiration':_0x3724c5[_0xa7f76(0x233)]||0x0,'muteEndTime':_0x3724c5[_0xa7f76(0x3fb)]||0x0})));this[_0xa7f76(0x446)]('chats.set',_0x24bfdf),await this[_0xa7f76(0x497)](_0x24bfdf,_0x25237a);}let _0xefea2e=[],_0x334d35=Date[_0xa7f76(0x559)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x5e0185]of Object['entries'](_0x4a2798)){if(_0x5e0185['message']?.[_0xa7f76(0x46d)]||_0x5e0185[_0xa7f76(0x865)]?.[_0xa7f76(0x8b7)]||!_0x5e0185[_0xa7f76(0x865)]||_0x5e0185[_0xa7f76(0x5bc)]['remoteJid']===_0xa7f76(0x492)||(ks[_0xa7f76(0x4b7)]['isLong'](_0x5e0185?.[_0xa7f76(0x78f)])&&(_0x5e0185[_0xa7f76(0x78f)]=_0x5e0185[_0xa7f76(0x78f)]?.[_0xa7f76(0x525)]()),_0x5e0185['messageTimestamp']&&_0x5e0185[_0xa7f76(0x78f)][_0xa7f76(0x684)]()[_0xa7f76(0x1e1)]<0xd&&(_0x5e0185[_0xa7f76(0x78f)]=_0x5e0185[_0xa7f76(0x78f)]*0x3e8),_0x5e0185[_0xa7f76(0x78f)]<_0x334d35))continue;let _0x1943a8=(0x0,w[_0xa7f76(0x6cb)])(_0x5e0185[_0xa7f76(0x865)]),_0x45f2c9=(0x0,w[_0xa7f76(0x672)])(_0x1943a8),{message_normalized:_0x4fe06e}=this[_0xa7f76(0x561)](_0x1943a8,_0x45f2c9,null);Object[_0xa7f76(0x312)](_0x4fe06e)[_0xa7f76(0x1e1)]>0x0&&_0xefea2e[_0xa7f76(0x62c)]({'_id':_0x5e0185[_0xa7f76(0x5bc)]['id'],'key':_0x5e0185['key'],'pushName':_0x5e0185['pushName'],'participant':_0x5e0185['participant'],'message':_0x1943a8,'messageType':_0x45f2c9,'message_normalized':{'key':_0x5e0185['key'],'pushName':_0x5e0185[_0xa7f76(0x347)],'messageTimestamp':_0x5e0185[_0xa7f76(0x78f)],..._0x4fe06e},'messageTimestamp':_0x5e0185[_0xa7f76(0x78f)],'owner':this[_0xa7f76(0x3fc)][_0xa7f76(0x860)]});}_0x25237a[_0xa7f76(0x2ab)]&&_0xefea2e['length']>0x0&&(this[_0xa7f76(0x39f)][_0xa7f76(0x1d7)](this[_0xa7f76(0x7fe)]+'\x20('+this[_0xa7f76(0x3fc)]['wuid']+_0xa7f76(0x69d)+_0xefea2e[_0xa7f76(0x1e1)]+_0xa7f76(0x887)+this['instance']['wuid']+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0xa7f76(0x1da)]['message'][_0xa7f76(0x6ac)]([..._0xefea2e],this[_0xa7f76(0x3fc)][_0xa7f76(0x860)])),this['sendDataWebhook']('messages.set',[..._0xefea2e]),_0x4a2798=void 0x0;},'messages.upsert':async({messages:_0x1ca990,type:_0x4c7ead},_0x50c978)=>{const _0x234f2e=_0x1ca975;for(let _0x21ca5e of _0x1ca990){if(this[_0x234f2e(0x824)]?.['groups_ignore']&&_0x21ca5e[_0x234f2e(0x5bc)][_0x234f2e(0x6d1)][_0x234f2e(0x460)](_0x234f2e(0x84b))){this['logger'][_0x234f2e(0x1d7)](this['instanceName']+'\x20('+this['instance'][_0x234f2e(0x860)]+_0x234f2e(0x3a4));continue;}if(_0x21ca5e[_0x234f2e(0x5bc)][_0x234f2e(0x6d1)][_0x234f2e(0x460)]('@newsletter')||_0x21ca5e[_0x234f2e(0x5bc)][_0x234f2e(0x6d1)]===_0x234f2e(0x492))continue;if(_0x21ca5e['messageStubParameters']&&_0x21ca5e[_0x234f2e(0x8bb)][0x0]==='Message\x20absent\x20from\x20node'){console[_0x234f2e(0x834)](_0x234f2e(0x5d8)),await this[_0x234f2e(0x7ae)](_0x21ca5e),Lt[_0x21ca5e[_0x234f2e(0x5bc)]['id']]=_0x21ca5e,this[_0x234f2e(0x32d)](_0x21ca5e,0x0);continue;}if(_0x4c7ead!==_0x234f2e(0x84c)||!_0x21ca5e?.[_0x234f2e(0x865)]||_0x21ca5e['message']?.[_0x234f2e(0x46d)]||_0x21ca5e[_0x234f2e(0x865)]?.[_0x234f2e(0x8b7)])continue;let _0x3fa458=null,_0x2e7cb6=null;if(Lt[_0x21ca5e[_0x234f2e(0x5bc)]['id']]&&(console['error'](_0x234f2e(0x688)),await this[_0x234f2e(0x1da)][_0x234f2e(0x530)]['delete']({'where':{'_id':_0x21ca5e[_0x234f2e(0x5bc)]['id']}}),delete Lt[_0x21ca5e['key']['id']]),this['isMessageProcessed'](this[_0x234f2e(0x3fc)][_0x234f2e(0x860)],_0x21ca5e[_0x234f2e(0x5bc)]['id'])){this['logger'][_0x234f2e(0x1d7)](this['instanceName']+'\x20('+this[_0x234f2e(0x3fc)][_0x234f2e(0x860)]+_0x234f2e(0x479));continue;}this[_0x234f2e(0x25c)](this[_0x234f2e(0x3fc)][_0x234f2e(0x860)],_0x21ca5e[_0x234f2e(0x5bc)]['id']);try{_0x3fa458=await this[_0x234f2e(0x854)](_0x21ca5e),_0x2e7cb6=_0x3fa458?_0x3fa458['join'](','):null;}catch(_0x3a345a){this[_0x234f2e(0x39f)][_0x234f2e(0x1d7)](this[_0x234f2e(0x7fe)]+'\x20('+this[_0x234f2e(0x3fc)]['wuid']+_0x234f2e(0x69d)+(_0x3a345a instanceof Error?_0x3a345a[_0x234f2e(0x865)]:JSON['stringify'](_0x3a345a,null,0x2))),_0x2e7cb6=_0x234f2e(0x8e4);}this[_0x234f2e(0x680)]['sendPresenceUpdate'](_0x234f2e(0x5b5)),ks[_0x234f2e(0x4b7)][_0x234f2e(0x634)](_0x21ca5e[_0x234f2e(0x78f)])&&(_0x21ca5e[_0x234f2e(0x78f)]=_0x21ca5e[_0x234f2e(0x78f)]?.[_0x234f2e(0x525)]()),_0x21ca5e[_0x234f2e(0x78f)]&&_0x21ca5e[_0x234f2e(0x78f)][_0x234f2e(0x684)]()['length']<0xd&&(_0x21ca5e[_0x234f2e(0x78f)]=_0x21ca5e[_0x234f2e(0x78f)]*0x3e8);let _0x525195=_0x21ca5e[_0x234f2e(0x865)],_0x41ab34=(0x0,w['normalizeMessageContent'])(_0x525195),_0x1b62c4=(0x0,w[_0x234f2e(0x672)])(_0x41ab34),{messageContent:_0x145b1b,message_normalized:_0x263763}=this[_0x234f2e(0x561)](_0x41ab34,_0x1b62c4,_0x2e7cb6);if(_0x1b62c4===_0x234f2e(0x46d)&&_0x145b1b?.[_0x234f2e(0x2be)]&&(_0x1b62c4='editedMessage'),_0x1b62c4===_0x234f2e(0x4f2)&&_0x21ca5e[_0x234f2e(0x5bc)][_0x234f2e(0x1ef)])continue;let _0x59cda8,_0x337d6d=_0x21ca5e[_0x234f2e(0x5bc)]['remoteJid']['endsWith'](_0x234f2e(0x84b));if(_0x21ca5e[_0x234f2e(0x5bc)][_0x234f2e(0x1ef)])_0x59cda8=this['instance']['profilePictureUrl'];else{let _0x296099=_0x337d6d?_0x21ca5e['key'][_0x234f2e(0x220)]:_0x21ca5e[_0x234f2e(0x5bc)][_0x234f2e(0x6d1)];_0x59cda8=(await this[_0x234f2e(0x804)](_0x296099,_0x21ca5e[_0x234f2e(0x347)],!0x1))[_0x234f2e(0x873)][_0x234f2e(0x791)];}let _0x23d9ec={'_id':_0x21ca5e['key']['id'],'key':_0x21ca5e[_0x234f2e(0x5bc)],'isGroup':_0x337d6d,'profilePictureUrl':_0x59cda8,'pushName':_0x21ca5e[_0x234f2e(0x347)],'message':_0x41ab34,'messageType':_0x1b62c4,'message_normalized':{'key':_0x21ca5e[_0x234f2e(0x5bc)],'pushName':_0x21ca5e[_0x234f2e(0x347)],'messageTimestamp':_0x21ca5e[_0x234f2e(0x78f)],'source':(0x0,w[_0x234f2e(0x609)])(_0x21ca5e[_0x234f2e(0x5bc)]['id']),..._0x263763},'messageTimestamp':_0x21ca5e[_0x234f2e(0x78f)],'owner':this[_0x234f2e(0x3fc)]['wuid'],'source':(0x0,w[_0x234f2e(0x609)])(_0x21ca5e[_0x234f2e(0x5bc)]['id']),'expiration':_0x145b1b?.['contextInfo']?.[_0x234f2e(0x354)]||0x0};if(_0x145b1b||(this[_0x234f2e(0x39f)][_0x234f2e(0x834)](_0x234f2e(0x892)),this[_0x234f2e(0x39f)][_0x234f2e(0x834)](_0x23d9ec)),_0x263763[_0x234f2e(0x56d)]===_0x234f2e(0x756)){console['error'](_0x234f2e(0x6f6)),await this[_0x234f2e(0x7ae)](_0x21ca5e);continue;}this[_0x234f2e(0x39f)]['log'](this[_0x234f2e(0x7fe)]+'\x20('+this[_0x234f2e(0x3fc)]['wuid']+_0x234f2e(0x69d)+(_0x23d9ec[_0x234f2e(0x5bc)]?.[_0x234f2e(0x1ef)]?_0x234f2e(0x213):_0x234f2e(0x597))+'\x20['+_0x23d9ec[_0x234f2e(0x5bc)]?.[_0x234f2e(0x6d1)][_0x234f2e(0x40f)](_0x234f2e(0x650),'')+_0x234f2e(0x6e7)+_0x23d9ec[_0x234f2e(0x3ae)]+')'),_0x23d9ec[_0x234f2e(0x366)]?.['text']&&this[_0x234f2e(0x39f)]['log'](_0x21ca5e['key']['id']+':\x20'+_0x23d9ec[_0x234f2e(0x366)]?.[_0x234f2e(0x56d)]),await this[_0x234f2e(0x1da)][_0x234f2e(0x865)][_0x234f2e(0x6ac)]([_0x23d9ec],this['instance'][_0x234f2e(0x860)]),this[_0x234f2e(0x446)]('messages.upsert',_0x23d9ec),F(this[_0x234f2e(0x7fe)],'messages',{'message':_0x23d9ec}),_0x21ca5e[_0x234f2e(0x5bc)][_0x234f2e(0x6d1)]!==_0x234f2e(0x492)&&await this[_0x234f2e(0x3cb)](_0x50c978,_0x23d9ec,_0x234f2e(0x799));}},'messages.update':async(_0x25e4d2,_0x43b73f)=>{const _0x23c33e=_0x1ca975;let _0x2b6b41={0x0:_0x23c33e(0x281),0x1:_0x23c33e(0x68c),0x2:_0x23c33e(0x7c9),0x3:'DELIVERY_ACK',0x4:'READ',0x5:_0x23c33e(0x6dc)};for await(let {key:_0x341f2f,update:_0x3e29a9}of _0x25e4d2){if(this[_0x23c33e(0x824)]?.[_0x23c33e(0x63f)]&&_0x341f2f[_0x23c33e(0x6d1)][_0x23c33e(0x460)](_0x23c33e(0x84b))){this[_0x23c33e(0x39f)][_0x23c33e(0x1d7)](this[_0x23c33e(0x7fe)]+'\x20('+this['instance'][_0x23c33e(0x860)]+'):\x20[messages.update]\x20group\x20ignored');return;}if(_0x341f2f[_0x23c33e(0x6d1)]!==_0x23c33e(0x492)){let _0x1b649a=Date[_0x23c33e(0x559)](),_0x574ef7;_0x3e29a9[_0x23c33e(0x865)]===null&&_0x3e29a9[_0x23c33e(0x362)]===void 0x0?_0x574ef7=_0x23c33e(0x665):_0x574ef7=_0x2b6b41[_0x3e29a9['status']];let _0x11a366=_0x341f2f[_0x23c33e(0x6d1)]['replace'](/:\d{1,2}@/g,'@'),_0x304c71={..._0x341f2f,'remoteJid':_0x11a366,'status':_0x574ef7,'datetime':_0x1b649a,'owner':this[_0x23c33e(0x3fc)]['wuid']};this[_0x23c33e(0x446)](_0x23c33e(0x321),_0x304c71),await this[_0x23c33e(0x608)](_0x341f2f,_0x304c71);}}},'labels.association':async({type:_0x5d53fa,association:_0xa74c69})=>{const _0x5aafbd=_0x1ca975;if(_0xa74c69['type']===_0x5aafbd(0x77a)){let _0x515e53,_0x389926=0x0;for(;!_0x515e53&&_0x389926<this[_0x5aafbd(0x853)];)_0x515e53=await this[_0x5aafbd(0x1da)][_0x5aafbd(0x4cc)][_0x5aafbd(0x1fa)]({'where':{'_id':_0xa74c69[_0x5aafbd(0x47b)]}},this[_0x5aafbd(0x3fc)][_0x5aafbd(0x860)]),_0x515e53||(_0x389926++,this[_0x5aafbd(0x39f)][_0x5aafbd(0x6b1)](this[_0x5aafbd(0x7fe)]+'\x20('+this[_0x5aafbd(0x3fc)][_0x5aafbd(0x860)]+'):\x20Chat\x20'+_0xa74c69[_0x5aafbd(0x47b)]+_0x5aafbd(0x340)+this[_0x5aafbd(0x39d)]+_0x5aafbd(0x344)+_0x389926+'/'+this[_0x5aafbd(0x853)]+')'),await this[_0x5aafbd(0x342)](this['delayChatLabel_RETRY_DELAY_MS']));if(!_0x515e53){this[_0x5aafbd(0x39f)][_0x5aafbd(0x834)](_0x5aafbd(0x542)+_0xa74c69[_0x5aafbd(0x47b)]+'\x20depois\x20'+this['delayChatLabel_MAX_RETRIES']+_0x5aafbd(0x716));return;}switch(_0x5d53fa){case'add':console[_0x5aafbd(0x493)](_0xa74c69),await this[_0x5aafbd(0x1da)][_0x5aafbd(0x4cc)][_0x5aafbd(0x3dd)]({'where':{'_id':_0xa74c69['chatId']}},{'leadInfo.etiquetas':_0xa74c69[_0x5aafbd(0x2ec)]},this[_0x5aafbd(0x3fc)][_0x5aafbd(0x860)],void 0x0,_0x5aafbd(0x26e));break;case _0x5aafbd(0x404):console[_0x5aafbd(0x493)](_0xa74c69),await this[_0x5aafbd(0x1da)][_0x5aafbd(0x4cc)][_0x5aafbd(0x3dd)]({'where':{'_id':_0xa74c69[_0x5aafbd(0x47b)]}},{'leadInfo.etiquetas':_0xa74c69[_0x5aafbd(0x2ec)]},this[_0x5aafbd(0x3fc)][_0x5aafbd(0x860)],void 0x0,'$pull');break;default:this[_0x5aafbd(0x39f)][_0x5aafbd(0x834)](_0x5aafbd(0x701)+_0x5d53fa+']');}}},'labels.edit':async _0x40c413=>{const _0x3650e3=_0x1ca975;if(!_0x40c413||!_0x40c413['id']){this[_0x3650e3(0x39f)][_0x3650e3(0x834)]('Rótulo\x20inválido\x20ou\x20sem\x20ID.');return;}if(!_0x40c413[_0x3650e3(0x70a)]){let _0x1435c7=[_0x3650e3(0x1ce),_0x3650e3(0x867),_0x3650e3(0x4c1),'#dfaef0','#9ab6c1',_0x3650e3(0x5a0),_0x3650e3(0x288),_0x3650e3(0x6be),_0x3650e3(0x5cb),'#d8e651',_0x3650e3(0x4e6),_0x3650e3(0x2f5),_0x3650e3(0x328),_0x3650e3(0x908),_0x3650e3(0x7ba),_0x3650e3(0x348),_0x3650e3(0x78c),_0x3650e3(0x601),_0x3650e3(0x2c0),_0x3650e3(0x4c0)],_0x50b8d6;typeof _0x40c413[_0x3650e3(0x274)]==_0x3650e3(0x90d)&&_0x40c413[_0x3650e3(0x274)]>=0x0&&_0x40c413[_0x3650e3(0x274)]<_0x1435c7[_0x3650e3(0x1e1)]?_0x50b8d6=_0x1435c7[_0x40c413['color']]:(this[_0x3650e3(0x39f)][_0x3650e3(0x834)]('Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20'+_0x40c413[_0x3650e3(0x274)]),_0x50b8d6=_0x3650e3(0x644));let _0x8a9cd4={'_id':_0x40c413['id'],'colorHex':_0x50b8d6,'color':_0x40c413?.[_0x3650e3(0x274)],'name':_0x40c413?.[_0x3650e3(0x8f0)],'owner':this['instance']['wuid']};await this[_0x3650e3(0x1da)]['label']['updateOne']({'where':{'_id':_0x40c413['id']}},_0x8a9cd4,this[_0x3650e3(0x3fc)][_0x3650e3(0x860)]),this[_0x3650e3(0x39f)][_0x3650e3(0x6b1)](this['instanceName']+'\x20('+this[_0x3650e3(0x3fc)][_0x3650e3(0x860)]+_0x3650e3(0x502)+_0x40c413);}_0x40c413['deleted']&&(await this['repository'][_0x3650e3(0x21a)][_0x3650e3(0x5f4)]({'where':{'_id':_0x40c413['id']}},this['instance'][_0x3650e3(0x860)]),this[_0x3650e3(0x39f)][_0x3650e3(0x6b1)](_0x3650e3(0x6ea)+_0x40c413['id']));}},this[_0x1ca975(0x3c4)]={'groups.upsert':async _0xcbb58e=>{const _0x457fc1=_0x1ca975;this['localWebhook']?.[_0x457fc1(0x63f)]||this[_0x457fc1(0x446)]('groups.upsert',_0xcbb58e);for(let _0x1f0cc6 of _0xcbb58e)await this[_0x457fc1(0x289)](_0x1f0cc6);},'groups.update':async _0x332f4c=>{const _0x1a816e=_0x1ca975;this['localWebhook']?.[_0x1a816e(0x63f)]||this[_0x1a816e(0x446)]('groups.update',_0x332f4c);for(let _0x55a71e of _0x332f4c)await this[_0x1a816e(0x289)](_0x55a71e);},'group-participants.update':async _0x3699a3=>{const _0x570fb3=_0x1ca975;this[_0x570fb3(0x824)]?.[_0x570fb3(0x63f)]||this['sendDataWebhook'](_0x570fb3(0x1d8),_0x3699a3),await this[_0x570fb3(0x1bc)](_0x3699a3);}},this[_0x1ca975(0x853)]=0x5,this[_0x1ca975(0x39d)]=0x1388,this[_0x1ca975(0x471)]=0x0,this[_0x1ca975(0x854)]=async _0x407e65=>{const _0x3ea27b=_0x1ca975;if(_0x407e65[_0x3ea27b(0x865)]?.['pollUpdateMessage']){let _0x158ad6=await this[_0x3ea27b(0x64c)](_0x407e65[_0x3ea27b(0x865)][_0x3ea27b(0x409)][_0x3ea27b(0x776)],!0x0);if(_0x158ad6){let _0x88a6e4=_0x158ad6[_0x3ea27b(0x5bc)]['fromMe']?this['instance'][_0x3ea27b(0x860)]+'@s.whatsapp.net':_0x158ad6['key'][_0x3ea27b(0x220)]||_0x158ad6[_0x3ea27b(0x5bc)][_0x3ea27b(0x6d1)],_0x54f869=_0x158ad6[_0x3ea27b(0x5bc)]['id'],_0x138114=_0x158ad6[_0x3ea27b(0x865)],_0xbedfe9=Buffer['from'](_0x138114[_0x3ea27b(0x8e7)][_0x3ea27b(0x3ee)][_0x3ea27b(0x684)](_0x3ea27b(0x6e1)),_0x3ea27b(0x6e1)),_0x9ce1b4=(0x0,w[_0x3ea27b(0x8fd)])(_0x407e65[_0x3ea27b(0x865)][_0x3ea27b(0x409)]['vote'],{'pollCreatorJid':_0x88a6e4,'pollMsgId':_0x54f869,'pollEncKey':_0xbedfe9,'voterJid':_0x407e65['key'][_0x3ea27b(0x1ef)]?this[_0x3ea27b(0x3fc)]['wuid']+_0x3ea27b(0x650):_0x407e65[_0x3ea27b(0x5bc)]['remoteJid'][_0x3ea27b(0x53b)](_0x3ea27b(0x6ae))?_0x407e65['key'][_0x3ea27b(0x220)]:_0x407e65[_0x3ea27b(0x5bc)][_0x3ea27b(0x6d1)]}),_0x499e7d=[],_0x5cfbec=_0x9ce1b4[_0x3ea27b(0x31c)]['map'](_0x213a15=>Buffer[_0x3ea27b(0x71c)](_0x213a15)['toString']('hex'));for(let {optionName:_0x4bcb7e}of _0x138114[_0x3ea27b(0x36d)]?.[_0x3ea27b(0x725)]||_0x138114['pollCreationMessageV3']?.[_0x3ea27b(0x725)]||_0x138114[_0x3ea27b(0x2bd)]?.[_0x3ea27b(0x725)])_0x5cfbec['indexOf']((0x0,w[_0x3ea27b(0x276)])(Buffer[_0x3ea27b(0x71c)](_0x4bcb7e))[_0x3ea27b(0x684)](_0x3ea27b(0x6e1)))>-0x1&&_0x499e7d[_0x3ea27b(0x62c)](_0x4bcb7e);return _0x499e7d;}}return null;},this[_0x1ca975(0x561)]=(_0x1a1d01,_0x503f5e,_0x36d87c)=>{const _0x42394f=_0x1ca975;try{let _0xf3dbb8=_0x1a1d01?(0x0,w['extractMessageContent'])(_0x1a1d01)[_0x503f5e]:void 0x0,_0x5903c2={},_0x1019d3=null,_0x13b9f9=null,_0x31019e=null,_0x1546b4=null;_0x503f5e===_0x42394f(0x46d)&&_0xf3dbb8?.[_0x42394f(0x2be)]&&(_0x503f5e=(0x0,w[_0x42394f(0x672)])(_0xf3dbb8[_0x42394f(0x2be)]),_0x1019d3=_0x1a1d01['protocolMessage']['key']['id'],_0xf3dbb8=_0x1a1d01[_0x42394f(0x46d)][_0x42394f(0x2be)][_0x503f5e]),_0x1a1d01[_0x503f5e]?.[_0x42394f(0x7a0)]?.[_0x42394f(0x8e0)]&&_0x1a1d01[_0x503f5e]?.[_0x42394f(0x7a0)]?.[_0x42394f(0x75c)]&&(_0x13b9f9=_0x1a1d01[_0x503f5e][_0x42394f(0x7a0)]['stanzaId']),_0x1a1d01['reactionMessage']&&(_0x31019e=_0x1a1d01['reactionMessage'][_0x42394f(0x5bc)]['id']);let _0x292d6f;if(_0xf3dbb8&&typeof _0xf3dbb8=='object'&&_0x42394f(0x776)in _0xf3dbb8&&({pollCreationMessageKey:_0x292d6f}=_0xf3dbb8),_0x503f5e==='pollCreationMessage'||_0x503f5e===_0x42394f(0x2bd)||_0x503f5e===_0x42394f(0x3eb)){let _0x4ee9d0=_0xf3dbb8[_0x42394f(0x725)]['map'](_0x2bb422=>_0x2bb422['optionName'])[_0x42394f(0x518)]('|');_0x5903c2[_0x42394f(0x72e)]=_0x4ee9d0;}if(_0x503f5e==='interactiveMessage'){let _0x409bf9=_0xf3dbb8[_0x42394f(0x6f0)][_0x42394f(0x7f5)][_0x42394f(0x7b7)](_0xa79b6c=>JSON[_0x42394f(0x841)](_0xa79b6c[_0x42394f(0x8f7)])[_0x42394f(0x68d)])[_0x42394f(0x518)]('|');_0x5903c2[_0x42394f(0x72e)]=_0x409bf9;}_0x503f5e===_0x42394f(0x1cd)&&(_0x5903c2[_0x42394f(0x356)]=_0xf3dbb8?.[_0x42394f(0x71e)]?.[_0x42394f(0x767)]);let _0x46e6f6='';if(_0xf3dbb8&&(_0x46e6f6+=_0xf3dbb8[_0x42394f(0x8f0)]?_0xf3dbb8['name']:'',_0x46e6f6+=_0xf3dbb8['caption']?'\x20'+_0xf3dbb8[_0x42394f(0x6fa)]:'',_0x46e6f6+=_0xf3dbb8[_0x42394f(0x374)]?'\x20'+_0xf3dbb8[_0x42394f(0x374)]:'',_0x46e6f6+=_0xf3dbb8[_0x42394f(0x452)]?'\x20'+_0xf3dbb8[_0x42394f(0x452)]:'',_0x503f5e!=='interactiveResponseMessage'&&(_0x46e6f6+=_0xf3dbb8[_0x42394f(0x76e)]?.['text']?'\x20'+_0xf3dbb8[_0x42394f(0x76e)][_0x42394f(0x56d)]:''),_0x46e6f6+=_0xf3dbb8?.[_0x42394f(0x215)]?.[_0x42394f(0x56d)]?'\x20'+_0xf3dbb8?.[_0x42394f(0x215)]?.[_0x42394f(0x56d)]:''),_0x503f5e==='listMessage'){_0x46e6f6=(_0xf3dbb8[_0x42394f(0x3fd)]||'')+'\x0a'+(_0xf3dbb8[_0x42394f(0x2de)]||'')+'\x0a'+(_0xf3dbb8[_0x42394f(0x6f8)]||'');let _0x5e2928=this[_0x42394f(0x590)](_0xf3dbb8[_0x42394f(0x3c2)]);_0x5903c2[_0x42394f(0x72e)]=_0x5e2928;}if(_0x503f5e===_0x42394f(0x1cd)&&(_0x36d87c=_0xf3dbb8[_0x42394f(0x3fd)],_0x1546b4=_0xf3dbb8?.['singleSelectReply']?.[_0x42394f(0x767)]),_0x503f5e===_0x42394f(0x401)){let _0x225c21=_0xf3dbb8?.[_0x42394f(0x75f)];_0x225c21&&_0x225c21[_0x42394f(0x8f0)]===_0x42394f(0x4f4)&&(_0x1546b4=JSON[_0x42394f(0x841)](_0x225c21['paramsJson'])['id']),_0x36d87c=_0xf3dbb8?.[_0x42394f(0x76e)]?.['text'];}if(_0x503f5e==='templateButtonReplyMessage'&&(_0x36d87c=_0xf3dbb8?.[_0x42394f(0x425)],_0x1546b4=_0xf3dbb8?.[_0x42394f(0x7ea)]),_0x503f5e===_0x42394f(0x4ab)&&(_0x36d87c=_0xf3dbb8?.[_0x42394f(0x425)],_0x1546b4=_0xf3dbb8?.[_0x42394f(0x39e)]),_0xf3dbb8&&_0xf3dbb8[_0x42394f(0x2c8)]){let _0x49cee7=this[_0x42394f(0x7cc)](JSON['stringify'](_0xf3dbb8['vcard'],null,0x2));_0x46e6f6=_0x46e6f6+'\x0a'+_0x49cee7;}if(_0xf3dbb8){let {selectedButtonId:_0x37b5d2,nativeFlowResponseMessage:_0x1cee8d,selectedId:_0x254c5a,selectedDisplayText:_0x26f4b8,selectedIndex:_0x276b2c,body:_0x14908f,nativeFlowMessage:_0x45896a,singleSelectReply:_0x35c3ca,sections:_0x10f78e,listType:_0x54fed4,displayName:_0x2d29b6,vcard:_0x1c11e5,contactVcard:_0x58dd8f,name:_0x5eca5b,caption:_0x941bc0,conversation:_0x5867d9,pollCreationMessageKey:_0x53b4e7,footerText:_0xf27335,contentText:_0x342f4a,pageCount:_0x5ca70f,headerType:_0x131d1d,isAvatar:_0x37e131,isAnimated:_0x47fd,fallbackLc:_0xe5d6c4,fallbackLg:_0x211344,namespace:_0x47655c,elementName:_0x271176,localizableParams:_0x1fe772,viewOnce:_0x30d2a5,height:_0x3c6e6f,width:_0x45b909,key:_0x22b9ff,firstScanLength:_0x3579d8,firstScanSidecar:_0x5da0a1,gifPlayback:_0x81171d,gifAttribution:_0x407a5a,midQualityFileSha256:_0x47d478,scansSidecar:_0x7fff43,streamingSidecar:_0x1d25c,thumbnailHeight:_0x18473e,thumbnailWidth:_0x3f619f,thumbnailEncSha256:_0x465d11,thumbnailDirectPath:_0x4c88a9,canonicalUrl:_0x8486b5,matchedText:_0x5e6be9,previewType:_0x2b631b,thumbnailSha256:_0x48821d,deviceListMetadataVersion:_0x481ca3,inviteLinkGroupTypeV2:_0x1a3630,interactiveAnnotations:_0x4efd21,scanLengths:_0x4d1a30,jpegThumbnail:_0x5e1381,url:_0x50ec8c,mediaKeyTimestamp:_0x141737,waveform:_0x3f598e,stickerSentTs:_0x2e5eae,firstFrameLength:_0x178f7e,fileEncSha256:_0x5d361e,contextInfo:_0x314681,firstFrameSidecar:_0x3ff77f,directPath:_0x4decb5,fileSha256:_0x131d48,mediaKey:_0x154178,senderTimestampMs:_0x471db2,..._0x8a71b0}=_0xf3dbb8;(_0x503f5e===_0x42394f(0x627)||_0x503f5e===_0x42394f(0x1cd))&&(delete _0x8a71b0[_0x42394f(0x3fd)],delete _0x8a71b0[_0x42394f(0x2de)]),typeof _0xf3dbb8==_0x42394f(0x89c)?_0x5903c2={'text':_0xf3dbb8,'type':_0x503f5e||'conversation',..._0x1019d3&&{'edited':_0x1019d3},..._0x13b9f9&&{'quoted':_0x13b9f9},..._0x31019e&&{'reaction':_0x31019e}}:_0x5903c2={'text':_0x46e6f6,..._0x8a71b0,..._0x503f5e===_0x42394f(0x409)?{'poll_id':_0xf3dbb8[_0x42394f(0x776)]['id'],'quoted':_0xf3dbb8[_0x42394f(0x776)]['id'],'vote':_0x36d87c}:{},..._0x503f5e===_0x42394f(0x1cd)?{'buttonOrList_id':_0x1546b4,'vote':_0x36d87c}:{},..._0x503f5e===_0x42394f(0x401)?{'buttonOrList_id':_0x1546b4,'vote':_0x36d87c}:{},..._0x503f5e===_0x42394f(0x683)?{'buttonOrList_id':_0x1546b4,'vote':_0x36d87c}:{},..._0x503f5e===_0x42394f(0x4ab)?{'buttonOrList_id':_0x1546b4,'vote':_0x36d87c}:{},'type':_0x503f5e,..._0x1019d3&&{'edited':_0x1019d3},..._0x13b9f9&&{'quoted':_0x13b9f9},..._0x31019e&&{'reaction':_0x31019e},...(_0x503f5e===_0x42394f(0x36d)||_0x503f5e===_0x42394f(0x2bd)||_0x503f5e===_0x42394f(0x3eb)||_0x503f5e===_0x42394f(0x627)||_0x503f5e==='interactiveMessage')&&{'convertedOptions':_0x5903c2['convertedOptions']}};}return{'messageType':_0x503f5e,'messageContent':_0xf3dbb8,'message_normalized':_0x5903c2};}catch(_0x3a94fe){return this[_0x42394f(0x39f)][_0x42394f(0x834)](_0x42394f(0x84e)+_0x3a94fe),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x1ca975(0x86d)]=[],(this[_0x1ca975(0x4f7)](),this[_0x1ca975(0x75b)](),this[_0x1ca975(0x3fc)][_0x1ca975(0x61f)]={'count':0x0},this[_0x1ca975(0x3fc)][_0x1ca975(0x512)]={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}[a0_0x1bb7e5(0x25c)](_0x677a75,_0x5b6078){const _0x1e62ca=a0_0x1bb7e5;this[_0x1e62ca(0x676)][_0x677a75]||(this[_0x1e62ca(0x676)][_0x677a75]=new Set()),this[_0x1e62ca(0x676)][_0x677a75][_0x1e62ca(0x4d2)](_0x5b6078),setTimeout(()=>this['processedMessagesCache'][_0x677a75][_0x1e62ca(0x5f4)](_0x5b6078),0x2710);}[a0_0x1bb7e5(0x510)](_0x7f2d2c,_0x55658c){const _0x4d12b0=a0_0x1bb7e5;return this[_0x4d12b0(0x676)][_0x7f2d2c]?.[_0x4d12b0(0x4f9)](_0x55658c)??!0x1;}set[a0_0x1bb7e5(0x7fe)](_0x40e698){const _0xf73644=a0_0x1bb7e5;if(!_0x40e698){this['instance']['name']=(0x0,Ii['v4'])();return;}this[_0xf73644(0x3fc)]['name']=_0x40e698,this['sendDataWebhook'](_0xf73644(0x7ac),{'instance':this[_0xf73644(0x3fc)][_0xf73644(0x8f0)],'status':_0xf73644(0x5d0)});}get[a0_0x1bb7e5(0x7fe)](){const _0xbd3be4=a0_0x1bb7e5;return this[_0xbd3be4(0x3fc)][_0xbd3be4(0x8f0)];}get['wuid'](){const _0x146394=a0_0x1bb7e5;return this['instance'][_0x146394(0x860)];}async[a0_0x1bb7e5(0x6a1)](){const _0x36ecc0=a0_0x1bb7e5;let _0xbacbc1=this[_0x36ecc0(0x680)]['user']?.[_0x36ecc0(0x8f0)]??this[_0x36ecc0(0x680)]['user']?.[_0x36ecc0(0x710)];if(!_0xbacbc1){if(this[_0x36ecc0(0x3bc)][_0x36ecc0(0x8a5)](_0x36ecc0(0x7da))['ENABLED']){let _0x437127=await I[_0x36ecc0(0x713)]()['db'](this['configService'][_0x36ecc0(0x8a5)]('DATABASE')[_0x36ecc0(0x6bc)][_0x36ecc0(0x2fc)]+'-instances')['collection'](this['instanceName'])['findOne']({'_id':'creds'});if(_0x437127){let _0x6a6478=JSON[_0x36ecc0(0x841)](JSON['stringify'](_0x437127),w['BufferJSON'][_0x36ecc0(0x7aa)]);_0xbacbc1=_0x6a6478['me']?.[_0x36ecc0(0x8f0)]||_0x6a6478['me']?.[_0x36ecc0(0x710)];}}else{if((0x0,Le['existsSync'])((0x0,j['join'])(Se,this[_0x36ecc0(0x7fe)],_0x36ecc0(0x7b0)))){let _0x30d68a=JSON[_0x36ecc0(0x841)]((0x0,Le[_0x36ecc0(0x869)])((0x0,j[_0x36ecc0(0x518)])(Se,this[_0x36ecc0(0x7fe)],_0x36ecc0(0x7b0)),{'encoding':_0x36ecc0(0x6db)}));_0xbacbc1=_0x30d68a['me']?.['name']||_0x30d68a['me']?.[_0x36ecc0(0x710)];}}}return _0xbacbc1;}get[a0_0x1bb7e5(0x38f)](){const _0x33010b=a0_0x1bb7e5;return this[_0x33010b(0x3fc)][_0x33010b(0x38f)];}async[a0_0x1bb7e5(0x795)](){const _0x136857=a0_0x1bb7e5;let _0x399a9f=this['instance']['wuid']+_0x136857(0x650);try{await this[_0x136857(0x680)][_0x136857(0x5fa)](_0x399a9f)?this[_0x136857(0x3fc)]['isBusiness']=!0x0:this['instance'][_0x136857(0x313)]=!0x1;}catch{this[_0x136857(0x3fc)][_0x136857(0x313)]=!0x1;}return this[_0x136857(0x39f)][_0x136857(0x6b1)](this['instanceName']+'\x20('+this[_0x136857(0x3fc)][_0x136857(0x860)]+_0x136857(0x7eb)+this[_0x136857(0x3fc)][_0x136857(0x313)]),this[_0x136857(0x3fc)][_0x136857(0x313)];}get[a0_0x1bb7e5(0x455)](){const _0x34100d=a0_0x1bb7e5;return this[_0x34100d(0x3fc)][_0x34100d(0x61f)]?.[_0x34100d(0x818)]?{'pairingCode':this['instance'][_0x34100d(0x61f)]?.[_0x34100d(0x818)]}:{'code':this['instance'][_0x34100d(0x61f)]?.[_0x34100d(0x3c8)],'base64':this['instance'][_0x34100d(0x61f)]?.['base64']};}async[a0_0x1bb7e5(0x8aa)](){const _0x269008=a0_0x1bb7e5;let _0x281d34=await this['repository'][_0x269008(0x520)][_0x269008(0x42f)](this[_0x269008(0x7fe)]);this[_0x269008(0x824)][_0x269008(0x8dc)]=_0x281d34?.[_0x269008(0x8dc)],this[_0x269008(0x824)]['enabled']=_0x281d34?.[_0x269008(0x250)],this['localWebhook'][_0x269008(0x77d)]=_0x281d34?.[_0x269008(0x77d)],this[_0x269008(0x824)][_0x269008(0x52b)]=_0x281d34?.[_0x269008(0x52b)],this[_0x269008(0x824)]['QRCODE_UPDATED']=_0x281d34?.['QRCODE_UPDATED'],this[_0x269008(0x824)][_0x269008(0x719)]=_0x281d34?.[_0x269008(0x719)],this[_0x269008(0x824)]['MESSAGES_UPSERT']=_0x281d34?.['MESSAGES_UPSERT'],this[_0x269008(0x824)]['MESSAGES_UPDATE']=_0x281d34?.[_0x269008(0x442)],this['localWebhook']['GROUPS_UPSERT']=_0x281d34?.[_0x269008(0x681)],this[_0x269008(0x824)][_0x269008(0x883)]=_0x281d34?.[_0x269008(0x883)],this[_0x269008(0x824)][_0x269008(0x4ca)]=_0x281d34?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x269008(0x824)]['CHATS_SET']=_0x281d34?.['CHATS_SET'],this['localWebhook'][_0x269008(0x674)]=_0x281d34?.[_0x269008(0x674)],this[_0x269008(0x824)][_0x269008(0x4ea)]=_0x281d34?.['CHATS_UPDATE'],this[_0x269008(0x824)][_0x269008(0x5f0)]=_0x281d34?.[_0x269008(0x5f0)],this[_0x269008(0x824)][_0x269008(0x874)]=_0x281d34?.[_0x269008(0x874)],this[_0x269008(0x824)][_0x269008(0x623)]=_0x281d34?.['CONTACTS_UPSERT'],this[_0x269008(0x824)]['CONTACTS_UPDATE']=_0x281d34?.[_0x269008(0x8cc)],this['localWebhook'][_0x269008(0x748)]=_0x281d34?.['PRESENCE_UPDATE'],this['localWebhook'][_0x269008(0x26d)]=_0x281d34?.[_0x269008(0x26d)],this['localWebhook']['CONNECTION_UPDATE']=_0x281d34?.[_0x269008(0x48a)],this['localWebhook']['groups_ignore']=_0x281d34?.[_0x269008(0x63f)];}async[a0_0x1bb7e5(0x5e1)](_0x21e7da){const _0x28a73d=a0_0x1bb7e5;let _0x162d53=['_id','url',_0x28a73d(0x250),_0x28a73d(0x77d),_0x28a73d(0x52b),'QRCODE_UPDATED',_0x28a73d(0x442),_0x28a73d(0x799),'SEND_MESSAGE',_0x28a73d(0x681),'GROUPS_UPDATE',_0x28a73d(0x4ca),_0x28a73d(0x408),_0x28a73d(0x674),'CHATS_UPDATE','CHATS_DELETE',_0x28a73d(0x874),_0x28a73d(0x623),_0x28a73d(0x8cc),'PRESENCE_UPDATE',_0x28a73d(0x26d),_0x28a73d(0x48a),_0x28a73d(0x63f)],_0x21aa77={};return _0x162d53[_0x28a73d(0x70b)](_0x334c12=>{_0x21e7da[_0x334c12]!==void 0x0&&(_0x21aa77[_0x334c12]=_0x21e7da[_0x334c12]);}),_0x21aa77[_0x28a73d(0x8dc)]&&(_0x21aa77[_0x28a73d(0x8dc)]=_0x21aa77[_0x28a73d(0x8dc)]['trim']()),await this[_0x28a73d(0x1da)][_0x28a73d(0x520)][_0x28a73d(0x3e3)](_0x21aa77,this[_0x28a73d(0x7fe)]),Object[_0x28a73d(0x2f6)](this['localWebhook'],_0x21aa77),await this['repository'][_0x28a73d(0x520)]['find'](this['instanceName']);}async[a0_0x1bb7e5(0x3a7)](){const _0x2e7105=a0_0x1bb7e5;return await this['repository']['webhook']['find'](this[_0x2e7105(0x7fe)]);}async[a0_0x1bb7e5(0x446)](_0xbc838c,_0x11b917){const _0x2009f3=a0_0x1bb7e5;let _0x37b0c8=_0xbc838c[_0x2009f3(0x40f)](/[\.-]/gm,'_')['toUpperCase'](),_0x2bcac0=this[_0x2009f3(0x824)][_0x2009f3(0x250)]&&(0x0,J[_0x2009f3(0x73a)])(this[_0x2009f3(0x824)]['url'])?this[_0x2009f3(0x824)]['url']+(this[_0x2009f3(0x824)][_0x2009f3(0x77d)]?this['webhookMap'][_0xbc838c]:''):null,_0x22e649=this[_0x2009f3(0x824)][_0x37b0c8],_0xf21fe5=he&&he[_0x2009f3(0x250)]&&(0x0,J['isURL'])(he[_0x2009f3(0x8dc)])?he[_0x2009f3(0x8dc)]+(he[_0x2009f3(0x77d)]?this[_0x2009f3(0x2f7)][_0xbc838c]:''):null,_0x3ea73e=he?he[_0x37b0c8]:null;if(_0x22e649&&_0x2bcac0)try{await Q[_0x2009f3(0x4b7)]['create']({'baseURL':_0x2bcac0})[_0x2009f3(0x38a)]('',{'event':_0xbc838c,'instance':this[_0x2009f3(0x3fc)]['name'],'apikey':this[_0x2009f3(0x3fc)][_0x2009f3(0x198)],'data':_0x11b917}),this[_0x2009f3(0x39f)]['log'](this[_0x2009f3(0x7fe)]+'\x20('+this[_0x2009f3(0x3fc)][_0x2009f3(0x860)]+_0x2009f3(0x759)+_0xbc838c+':\x20'+_0x2bcac0);}catch{this[_0x2009f3(0x39f)]['error'](this[_0x2009f3(0x7fe)]+'\x20('+this[_0x2009f3(0x3fc)][_0x2009f3(0x860)]+_0x2009f3(0x1b8)+_0xbc838c+':\x20'+_0x2bcac0);}if(_0x3ea73e&&_0xf21fe5)try{await Q[_0x2009f3(0x4b7)]['create']({'baseURL':_0xf21fe5})[_0x2009f3(0x38a)]('',{'event':_0xbc838c,'instance':this[_0x2009f3(0x3fc)][_0x2009f3(0x8f0)],'apikey':this['instance'][_0x2009f3(0x198)],'data':_0x11b917}),this[_0x2009f3(0x39f)][_0x2009f3(0x493)](this[_0x2009f3(0x7fe)]+'\x20('+this[_0x2009f3(0x3fc)][_0x2009f3(0x860)]+_0x2009f3(0x708)+_0xbc838c+':\x20'+_0xf21fe5);}catch{this[_0x2009f3(0x39f)]['error'](this[_0x2009f3(0x7fe)]+'\x20('+this[_0x2009f3(0x3fc)][_0x2009f3(0x860)]+_0x2009f3(0x496)+_0xbc838c+':\x20'+_0xf21fe5);}}async[a0_0x1bb7e5(0x5d1)]({qr:_0x3a4d0d,connection:_0x24beb2,lastDisconnect:_0x78b173}){const _0x38f666=a0_0x1bb7e5;if(_0x3a4d0d){if(this[_0x38f666(0x3fc)][_0x38f666(0x61f)][_0x38f666(0x1df)]===ko)return this[_0x38f666(0x446)](_0x38f666(0x761),{'message':_0x38f666(0x6bd),'statusCode':w['DisconnectReason'][_0x38f666(0x619)]}),this[_0x38f666(0x595)]={'state':_0x38f666(0x4da),'statusReason':w[_0x38f666(0x4eb)]['connectionClosed']},this[_0x38f666(0x446)](_0x38f666(0x4fb),{'instance':this[_0x38f666(0x3fc)][_0x38f666(0x8f0)],...this['stateConnection']}),this['sendDataWebhook']('status.instance',{'instance':this['instance']['name'],'status':_0x38f666(0x7ca)}),this[_0x38f666(0x1da)]['auth'][_0x38f666(0x5f4)](this['instance'][_0x38f666(0x8f0)]),this['endSession']=!0x0,ae[_0x38f666(0x4d3)](B,this[_0x38f666(0x3fc)][_0x38f666(0x8f0)]),this[_0x38f666(0x81c)]['emit'](_0x38f666(0x413),this[_0x38f666(0x3fc)][_0x38f666(0x8f0)]);this[_0x38f666(0x3fc)][_0x38f666(0x61f)][_0x38f666(0x1df)]++;let _0x4cc594={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x38f666(0x845),'dark':_0x38f666(0x644)}};Ti[_0x38f666(0x4b7)]['toDataURL'](_0x3a4d0d,_0x4cc594,(_0x608779,_0xb19d01)=>{const _0x392b80=_0x38f666;if(_0x608779){this[_0x392b80(0x39f)][_0x392b80(0x834)](this[_0x392b80(0x7fe)]+'\x20('+this[_0x392b80(0x3fc)][_0x392b80(0x860)]+_0x392b80(0x444)+(_0x608779 instanceof Error?_0x608779[_0x392b80(0x865)]:JSON['stringify'](_0x608779,null,0x2)));return;}this[_0x392b80(0x3fc)][_0x392b80(0x61f)][_0x392b80(0x47a)]=_0xb19d01,this[_0x392b80(0x3fc)]['qrcode']['code']=_0x3a4d0d,!this[_0x392b80(0x3ce)]&&this['sendDataWebhook'](_0x392b80(0x761),{'qrcode':{'instance':this[_0x392b80(0x3fc)][_0x392b80(0x8f0)],'pairingCode':this[_0x392b80(0x3fc)]['qrcode'][_0x392b80(0x818)],'code':_0x3a4d0d,'base64':_0xb19d01}});}),this[_0x38f666(0x3ce)]?this[_0x38f666(0x3fc)]['qrcode'][_0x38f666(0x818)]||(await(0x0,w[_0x38f666(0x6e3)])(0x7d0),this[_0x38f666(0x3fc)][_0x38f666(0x61f)]['pairingCode']=await this[_0x38f666(0x680)][_0x38f666(0x482)](this[_0x38f666(0x3ce)])):this['instance'][_0x38f666(0x61f)][_0x38f666(0x818)]=null,_i[_0x38f666(0x4b7)][_0x38f666(0x7dc)](_0x3a4d0d,{'small':!0x0},_0x53282c=>this[_0x38f666(0x39f)][_0x38f666(0x493)](_0x38f666(0x7c5)+this[_0x38f666(0x3fc)]['name']+_0x38f666(0x632)+this[_0x38f666(0x3fc)][_0x38f666(0x61f)]['count']+',\x20pairCode:\x20'+this['instance'][_0x38f666(0x61f)]['pairingCode']+_0x38f666(0x32b)+_0x53282c));}if(_0x24beb2&&(this[_0x38f666(0x595)]={'state':_0x24beb2,'statusReason':_0x78b173?.['error']?.['output']?.['statusCode']??0xc8},this[_0x38f666(0x446)](_0x38f666(0x4fb),{'instance':this[_0x38f666(0x3fc)][_0x38f666(0x8f0)],...this[_0x38f666(0x595)]})),_0x24beb2===_0x38f666(0x66a)){if(this[_0x38f666(0x22a)]++,this[_0x38f666(0x447)]['push'](Date['now']()),this[_0x38f666(0x447)]=this[_0x38f666(0x447)][_0x38f666(0x67b)](_0x452781=>Date[_0x38f666(0x559)]()-_0x452781<this[_0x38f666(0x57b)]),_0x78b173[_0x38f666(0x834)]?.[_0x38f666(0x51d)]?.[_0x38f666(0x832)]!==w[_0x38f666(0x4eb)][_0x38f666(0x6d9)]){let _0x7421bd=this[_0x38f666(0x22a)]<=0x1?0x0:Math[_0x38f666(0x574)](Math['pow'](0x2,this[_0x38f666(0x22a)]-0x1)*0x3e8,0x493e0);console[_0x38f666(0x493)](this['instanceName']+_0x38f666(0x59c)+this[_0x38f666(0x22a)]+'.\x20Aguardando\x20'+_0x7421bd/0x3e8+_0x38f666(0x522)),await new Promise(_0x38c988=>setTimeout(_0x38c988,_0x7421bd)),console[_0x38f666(0x493)](_0x38f666(0x6fc)),await this[_0x38f666(0x26c)]();}else{this[_0x38f666(0x446)](_0x38f666(0x7ac),{'instance':this['instance'][_0x38f666(0x8f0)],'status':'removed'}),this[_0x38f666(0x3fc)][_0x38f666(0x512)][_0x38f666(0x611)]=!0x1,this[_0x38f666(0x1da)]['webhook'][_0x38f666(0x5f4)](this[_0x38f666(0x7fe)]),this[_0x38f666(0x1da)]['auth'][_0x38f666(0x3e3)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x38f666(0x559)]()},this[_0x38f666(0x3fc)][_0x38f666(0x8f0)]),ae['removeIPv6ById'](B,this[_0x38f666(0x3fc)][_0x38f666(0x8f0)]);try{this['logger'][_0x38f666(0x1d7)](this[_0x38f666(0x7fe)]+'\x20('+this[_0x38f666(0x3fc)]['wuid']+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0xe3d7bd=await this['repository'][_0x38f666(0x865)]['deleteAll'](this[_0x38f666(0x3fc)][_0x38f666(0x860)]);_0xe3d7bd[_0x38f666(0x4cb)]?this['logger']['verbose'](this[_0x38f666(0x7fe)]+'\x20('+this[_0x38f666(0x3fc)]['wuid']+_0x38f666(0x521)):this[_0x38f666(0x39f)][_0x38f666(0x834)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20'+_0xe3d7bd[_0x38f666(0x834)]);}catch(_0x172594){this[_0x38f666(0x39f)][_0x38f666(0x834)](_0x38f666(0x895)+_0x172594['message']);}this['instance'][_0x38f666(0x512)][_0x38f666(0x8ab)]!==null&&(this[_0x38f666(0x39f)][_0x38f666(0x1d7)](this['instanceName']+'\x20('+this[_0x38f666(0x3fc)][_0x38f666(0x860)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x38f666(0x3fc)]['ScheduleMessage']['delayMessage']),this[_0x38f666(0x3fc)][_0x38f666(0x512)][_0x38f666(0x8ab)]=null),this[_0x38f666(0x39f)][_0x38f666(0x1d7)](this[_0x38f666(0x7fe)]+'\x20('+this[_0x38f666(0x3fc)]['wuid']+_0x38f666(0x67a)),this[_0x38f666(0x399)]=null,this[_0x38f666(0x81c)][_0x38f666(0x5be)](_0x38f666(0x247),this[_0x38f666(0x3fc)]['name'],_0x38f666(0x3d6)),this[_0x38f666(0x680)]?.['ws']?.['close'](),this[_0x38f666(0x680)][_0x38f666(0x558)](new Error(_0x38f666(0x5e0)));}}if(_0x24beb2===_0x38f666(0x4c2)){this[_0x38f666(0x39f)][_0x38f666(0x1be)](this['instanceName']+'\x20('+this[_0x38f666(0x3fc)][_0x38f666(0x860)]+_0x38f666(0x7b1)+this[_0x38f666(0x680)][_0x38f666(0x886)]['creds']?.['myAppStateKeyId']),this[_0x38f666(0x680)]['authState'][_0x38f666(0x62d)]?.[_0x38f666(0x69f)]||(this[_0x38f666(0x39f)][_0x38f666(0x1be)](this[_0x38f666(0x7fe)]+'\x20('+this[_0x38f666(0x3fc)][_0x38f666(0x860)]+'):\x20ev.flush\x20realizado'),this[_0x38f666(0x680)]['ev'][_0x38f666(0x606)]()),this[_0x38f666(0x4e1)],this['instance'][_0x38f666(0x860)]=this[_0x38f666(0x680)]['user']['id'][_0x38f666(0x40f)](/:\d+/,'')[_0x38f666(0x40f)](_0x38f666(0x650),''),this[_0x38f666(0x3fc)][_0x38f666(0x38f)]=(await this[_0x38f666(0x8d2)](this[_0x38f666(0x3fc)][_0x38f666(0x860)]+'@s.whatsapp.net'))[_0x38f666(0x38f)],this['repository'][_0x38f666(0x4a4)][_0x38f666(0x3e3)]({'online':!0x0,'owner':this[_0x38f666(0x3fc)][_0x38f666(0x860)],'lastDisconnect':null},this[_0x38f666(0x3fc)]['name']);let _0x575b6d=_0x38f666(0x6b8)+this[_0x38f666(0x3fc)]['wuid'],_0x75a7ff=0x28,_0x5175dd=Math[_0x38f666(0x385)]((_0x75a7ff-_0x575b6d[_0x38f666(0x1e1)])/0x2),_0x22f6c4='\x20'[_0x38f666(0x7ef)](_0x5175dd),_0x50582='CONECTADO\x20À\x20UAZAPI',_0x53b76c='Instância:\x20'+this[_0x38f666(0x3fc)][_0x38f666(0x8f0)],_0x51bc28=(''+_0x22f6c4+_0x575b6d+_0x22f6c4)[_0x38f666(0x675)](_0x75a7ff,'\x20'),_0x3df1f9=(''+_0x22f6c4+_0x50582+_0x22f6c4)[_0x38f666(0x675)](_0x75a7ff,'\x20'),_0x2376df=(''+_0x22f6c4+_0x53b76c+_0x22f6c4)['padEnd'](_0x75a7ff,'\x20'),_0x47dbfe=Math[_0x38f666(0x448)](_0x51bc28['length'],_0x3df1f9[_0x38f666(0x1e1)],_0x2376df[_0x38f666(0x1e1)]),_0x3c21c6=_0x51bc28[_0x38f666(0x675)](_0x47dbfe,'\x20'),_0x30c7a9=_0x3df1f9[_0x38f666(0x675)](_0x47dbfe,'\x20'),_0x59d12c=_0x2376df['padEnd'](_0x47dbfe,'\x20');this['logger']['info']((_0x38f666(0x2ba)+'─'[_0x38f666(0x7ef)](_0x47dbfe)+_0x38f666(0x900)+_0x30c7a9+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x59d12c+_0x38f666(0x224)+_0x3c21c6+_0x38f666(0x21c)+'─'[_0x38f666(0x7ef)](_0x47dbfe)+'┘')[_0x38f666(0x40f)](/^ +/gm,'\x20\x20')),this[_0x38f666(0x377)](),this[_0x38f666(0x3fc)][_0x38f666(0x512)][_0x38f666(0x611)]=!0x0;}}[a0_0x1bb7e5(0x4e1)](){const _0x27f2be=a0_0x1bb7e5;this['reconnectAttempts']=0x0,this[_0x27f2be(0x447)]=[];}async[a0_0x1bb7e5(0x64c)](_0x236f10,_0x4b5905=!0x1){const _0x3ea9e3=a0_0x1bb7e5;try{let _0x1054cb=await this[_0x3ea9e3(0x1da)][_0x3ea9e3(0x865)][_0x3ea9e3(0x42f)]({'where':{'_id':_0x236f10['id']}},this[_0x3ea9e3(0x3fc)][_0x3ea9e3(0x860)]);return _0x4b5905?_0x1054cb[0x0]:_0x1054cb[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x1bb7e5(0x4f7)](){const _0xfa4bb7=a0_0x1bb7e5;let _0x3d88ee=this['configService']['get'](_0xfa4bb7(0x24d)),_0x5d2ceb=this[_0xfa4bb7(0x3bc)][_0xfa4bb7(0x8a5)](_0xfa4bb7(0x7da));_0x3d88ee?.[_0xfa4bb7(0x2cf)]&&!_0x5d2ceb[_0xfa4bb7(0x2ab)]&&setInterval(()=>{const _0x54b859=_0xfa4bb7;try{for(let [_0xa77da8,_0x2252bd]of Object[_0x54b859(0x6d7)](_0x3d88ee))_0x2252bd===!0x0&&(0x0,Fe[_0x54b859(0x191)])(_0x54b859(0x72a)+(0x0,j[_0x54b859(0x518)])(this[_0x54b859(0x2c5)],_0xa77da8[_0x54b859(0x519)](),this[_0x54b859(0x3fc)][_0x54b859(0x860)])+'/*.json');}catch{}},(_0x3d88ee?.[_0xfa4bb7(0x2cf)]??0xe10)*0x3e8);}async[a0_0x1bb7e5(0x90b)](){const _0x35e909=a0_0x1bb7e5;let _0x41d172=this[_0x35e909(0x3bc)]['get'](_0x35e909(0x7da)),_0x11ad39=this[_0x35e909(0x3bc)][_0x35e909(0x8a5)](_0x35e909(0x670));return _0x11ad39?.[_0x35e909(0x2ab)]?await Os(_0x11ad39,this[_0x35e909(0x3fc)]['name']):_0x41d172[_0x35e909(0x2ab)]?await _s(this[_0x35e909(0x3fc)]['name']):await(0x0,w[_0x35e909(0x664)])((0x0,j[_0x35e909(0x518)])(Se,this[_0x35e909(0x3fc)][_0x35e909(0x8f0)]));}async[a0_0x1bb7e5(0x377)](){const _0x160bf3=a0_0x1bb7e5;let _0x1ed249=()=>Math[_0x160bf3(0x385)](Math[_0x160bf3(0x3b6)]()*0x4e21)+0x7d0,_0x3c706f=async()=>{const _0x114025=_0x160bf3;if(!this[_0x114025(0x3fc)]['ScheduleMessage'][_0x114025(0x611)]){this[_0x114025(0x39f)][_0x114025(0x1d7)](this[_0x114025(0x7fe)]+'\x20('+this[_0x114025(0x3fc)][_0x114025(0x860)]+_0x114025(0x916)),this[_0x114025(0x1a3)]=!0x1;return;}if(this[_0x114025(0x3fc)]['wuid']&&this[_0x114025(0x399)]&&this[_0x114025(0x3fc)][_0x114025(0x512)][_0x114025(0x8ab)]!==null&&this[_0x114025(0x3fc)][_0x114025(0x512)][_0x114025(0x8ab)]!==void 0x0){let _0x1123b3=Math['round'](this['instance']['ScheduleMessage']['delayMessage']/0xea60);this[_0x114025(0x39f)][_0x114025(0x1d7)](this[_0x114025(0x7fe)]+'\x20('+this[_0x114025(0x3fc)][_0x114025(0x860)]+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x1123b3+_0x114025(0x749)),this[_0x114025(0x1a3)]=!0x1;return;}else this[_0x114025(0x3fc)]['wuid']&&(this[_0x114025(0x39f)][_0x114025(0x1d7)](this[_0x114025(0x7fe)]+'\x20('+this[_0x114025(0x3fc)][_0x114025(0x860)]+_0x114025(0x54c)),this[_0x114025(0x399)]||(await this[_0x114025(0x5ae)](),this['findRealGroups'](),this[_0x114025(0x803)]()),(this['instance'][_0x114025(0x512)][_0x114025(0x8ab)]===null||this[_0x114025(0x3fc)]['ScheduleMessage'][_0x114025(0x8ab)]===void 0x0)&&await this[_0x114025(0x862)]());if(this[_0x114025(0x1a3)]){let _0x3cde6c=_0x1ed249();this[_0x114025(0x39f)][_0x114025(0x1d7)](this[_0x114025(0x7fe)]+_0x114025(0x3ed)+_0x3cde6c/0x3e8+_0x114025(0x23e)),setTimeout(_0x3c706f,_0x3cde6c);}};if(this[_0x160bf3(0x1a3)])return;this[_0x160bf3(0x1a3)]=!0x0;let _0xdbd2c=_0x1ed249();setTimeout(_0x3c706f,_0xdbd2c);}async[a0_0x1bb7e5(0x803)](){const _0x11c5de=a0_0x1bb7e5;let _0x16c335=this['instance']['wuid'];try{let _0x496a78=await this[_0x11c5de(0x1da)][_0x11c5de(0x21f)]['findAll']({'where':{'$or':[{'owner':_0x16c335},{'whoCanUse':{'$in':[_0x16c335]}},{'shareOwners':{'$in':[_0x16c335]}}]}}),_0x5be003=new Map(this[_0x11c5de(0x399)][_0x11c5de(0x5a2)][_0x11c5de(0x7b7)](_0x134046=>[_0x134046[_0x11c5de(0x2c4)],_0x134046])),_0x279602=_0x496a78[_0x11c5de(0x7b7)](_0x5e149e=>{const _0x3892f5=_0x11c5de;let _0x3d6b1b=_0x5be003[_0x3892f5(0x8a5)](_0x5e149e['_id']?.[_0x3892f5(0x684)]());return{'_id':_0x5e149e['_id']?.[_0x3892f5(0x684)](),'name':_0x3d6b1b?.[_0x3892f5(0x8f0)]??_0x5e149e[_0x3892f5(0x8f0)],'default':_0x3d6b1b?.['default']??_0x5e149e[_0x3892f5(0x4b7)]??!0x1,'startCommand':_0x3d6b1b?.[_0x3892f5(0x31f)]??_0x5e149e[_0x3892f5(0x571)],'minutesToClose':_0x3d6b1b?.[_0x3892f5(0x335)]??_0x5e149e[_0x3892f5(0x335)]??0xa,'readMessages':_0x3d6b1b?.[_0x3892f5(0x395)]??_0x5e149e[_0x3892f5(0x395)]??!0x1,'testingWith':_0x3d6b1b?.['testingWith']??_0x5e149e[_0x3892f5(0x7f1)],'canEdit':_0x5e149e[_0x3892f5(0x435)]===_0x16c335||(_0x5e149e[_0x3892f5(0x40b)]??[])[_0x3892f5(0x460)](_0x16c335),'usersCount':(_0x5e149e[_0x3892f5(0x28d)]??[])[_0x3892f5(0x1e1)]??0x0};}),_0x4639e7=!0x1;_0x279602['forEach'](_0x2201ed=>{const _0x58e439=_0x11c5de;_0x2201ed[_0x58e439(0x4b7)]&&(_0x4639e7?_0x2201ed['default']=!0x1:_0x4639e7=!0x0);}),this[_0x11c5de(0x399)][_0x11c5de(0x5a2)]=_0x279602;let _0xff8cf7={'flows':_0x279602};return await this['repository'][_0x11c5de(0x23b)]['update'](_0xff8cf7,_0x16c335),this[_0x11c5de(0x39f)][_0x11c5de(0x1d7)](this[_0x11c5de(0x7fe)]+'\x20('+_0x16c335+'):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.'),_0x279602[_0x11c5de(0x1e1)];}catch(_0xd87a0c){return this[_0x11c5de(0x39f)][_0x11c5de(0x834)](this[_0x11c5de(0x7fe)]+'\x20('+_0x16c335+_0x11c5de(0x6b7)+(_0xd87a0c instanceof Error?_0xd87a0c[_0x11c5de(0x865)]:JSON[_0x11c5de(0x84a)](_0xd87a0c,null,0x2))),{'message':_0x11c5de(0x324)+(_0xd87a0c instanceof Error?_0xd87a0c[_0x11c5de(0x865)]:JSON['stringify'](_0xd87a0c,null,0x2))};}}async['connectToWhatsapp'](_0x263b10){const _0x4c99ee=a0_0x1bb7e5;try{let _0x5cd090=await this[_0x4c99ee(0x1da)][_0x4c99ee(0x3fc)][_0x4c99ee(0x1fa)]({'where':{'_id':B+'-'+this[_0x4c99ee(0x7fe)]}}),_0x387924,_0x448fb0=!ae[_0x4c99ee(0x486)]||!ae[_0x4c99ee(0x5a7)];console[_0x4c99ee(0x493)](_0x4c99ee(0x6dd)),console[_0x4c99ee(0x493)](_0x4c99ee(0x1b4),Ai),console[_0x4c99ee(0x493)](_0x4c99ee(0x2af),this[_0x4c99ee(0x22a)]),console[_0x4c99ee(0x493)](_0x4c99ee(0x6dd)),Ai&&!_0x448fb0&&(this[_0x4c99ee(0x22a)]<0x4||!this['reconnectAttempts']?_0x5cd090&&_0x5cd090['ip']?(_0x387924=_0x5cd090['ip'],console[_0x4c99ee(0x493)]('Usando\x20IP\x20existente:\x20'+_0x387924)):(_0x387924=await ae[_0x4c99ee(0x41b)](B,this['instance']['name']),_0x387924?(console[_0x4c99ee(0x493)](_0x4c99ee(0x34b)+_0x387924),await(0x0,w[_0x4c99ee(0x6e3)])(0x7d0)):console[_0x4c99ee(0x834)]('Falha\x20ao\x20criar\x20IPv6.')):this['reconnectAttempts']<0x6&&(await ae[_0x4c99ee(0x4d3)](B,this[_0x4c99ee(0x3fc)][_0x4c99ee(0x8f0)]),console[_0x4c99ee(0x493)](_0x4c99ee(0x53f)),_0x387924=await ae['createIPv6'](B,this[_0x4c99ee(0x3fc)][_0x4c99ee(0x8f0)]),_0x387924?(console[_0x4c99ee(0x493)](_0x4c99ee(0x34b)+_0x387924),await(0x0,w[_0x4c99ee(0x6e3)])(0x7d0)):console[_0x4c99ee(0x834)](_0x4c99ee(0x25d)))),this[_0x4c99ee(0x8aa)](),this['instance'][_0x4c99ee(0x198)]=(await this[_0x4c99ee(0x1da)][_0x4c99ee(0x4a4)][_0x4c99ee(0x42f)](this[_0x4c99ee(0x3fc)][_0x4c99ee(0x8f0)]))[_0x4c99ee(0x198)],this['instance'][_0x4c99ee(0x886)]=await this[_0x4c99ee(0x90b)]();let _0x1b9ca5=[xi,Fs,(0x0,Ds['release'])()],_0x59c319={'localAddress':_0x387924,'auth':{'creds':this[_0x4c99ee(0x3fc)][_0x4c99ee(0x886)][_0x4c99ee(0x844)][_0x4c99ee(0x62d)],'keys':(0x0,w[_0x4c99ee(0x3d5)])(this[_0x4c99ee(0x3fc)]['authState'][_0x4c99ee(0x844)][_0x4c99ee(0x312)],(0x0,Ft[_0x4c99ee(0x4b7)])({'level':_0x4c99ee(0x834)}))},'logger':(0x0,Ft[_0x4c99ee(0x4b7)])({'level':_0x4c99ee(0x834)}),'printQRInTerminal':!0x1,'browser':_0x263b10?[_0x4c99ee(0x2fd),Fs,(0x0,Ds[_0x4c99ee(0x6ee)])()]:_0x1b9ca5,'version':[0x2,0xbb8,0x3c8d6c7b],'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0xc7c069=>{const _0x4be391=_0x4c99ee;let _0x53deb9=this['localWebhook']?.[_0x4be391(0x63f)]&&(0x0,w['isJidGroup'])(_0xc7c069);return(0x0,w[_0x4be391(0x5fc)])(_0xc7c069)||_0x53deb9;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x1d64c4=>await this[_0x4c99ee(0x64c)](_0x1d64c4),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x2e1bee){const _0x2fdc6a=_0x4c99ee;return _0x2e1bee['deviceSentMessage']?.[_0x2fdc6a(0x865)]?.[_0x2fdc6a(0x627)]?.['listType']===w['proto']['Message']['ListMessage'][_0x2fdc6a(0x59d)][_0x2fdc6a(0x458)]&&(_0x2e1bee=JSON[_0x2fdc6a(0x841)](JSON[_0x2fdc6a(0x84a)](_0x2e1bee)),_0x2e1bee[_0x2fdc6a(0x48d)][_0x2fdc6a(0x865)][_0x2fdc6a(0x627)][_0x2fdc6a(0x68a)]=w[_0x2fdc6a(0x509)][_0x2fdc6a(0x6af)][_0x2fdc6a(0x4dc)]['ListType'][_0x2fdc6a(0x33a)]),_0x2e1bee['listMessage']?.['listType']==w['proto'][_0x2fdc6a(0x6af)][_0x2fdc6a(0x4dc)]['ListType']['PRODUCT_LIST']&&(_0x2e1bee=JSON['parse'](JSON[_0x2fdc6a(0x84a)](_0x2e1bee)),_0x2e1bee[_0x2fdc6a(0x627)]['listType']=w[_0x2fdc6a(0x509)][_0x2fdc6a(0x6af)][_0x2fdc6a(0x4dc)]['ListType'][_0x2fdc6a(0x33a)]),_0x2e1bee;}};return this[_0x4c99ee(0x872)]=!0x1,this[_0x4c99ee(0x680)]=(0x0,w[_0x4c99ee(0x4b7)])(_0x59c319),this['eventHandler'](),this['phoneNumber']=_0x263b10,this[_0x4c99ee(0x680)];}catch(_0x4292a5){let _0x457909=_0x4c99ee(0x304),_0x50e833=_0x4292a5 instanceof Error?_0x4292a5['message']:typeof _0x4292a5==_0x4c99ee(0x8d4)?JSON[_0x4c99ee(0x84a)](_0x4292a5):_0x4292a5,_0x1cac67=_0x457909+':\x20'+_0x50e833;throw this[_0x4c99ee(0x39f)][_0x4c99ee(0x834)](this['instanceName']+'\x20('+this[_0x4c99ee(0x3fc)][_0x4c99ee(0x860)]+_0x4c99ee(0x69d)+_0x1cac67),console[_0x4c99ee(0x834)](_0x4c99ee(0x5c3),_0x4292a5),_0x4292a5 instanceof Error&&console[_0x4c99ee(0x834)](_0x4c99ee(0x18c),_0x4292a5[_0x4c99ee(0x539)]),new x(_0x1cac67);}}['eventHandler'](){const _0x1a3b6e=a0_0x1bb7e5;this['client']['ev'][_0x1a3b6e(0x2df)](_0x37d542=>{const _0x326b98=_0x1a3b6e;if(!this[_0x326b98(0x872)]){let _0x309187=this[_0x326b98(0x3bc)][_0x326b98(0x8a5)]('DATABASE');if(_0x37d542[_0x326b98(0x794)]){let _0x96d7d7=_0x37d542[_0x326b98(0x794)];this[_0x326b98(0x60f)][_0x326b98(0x794)](_0x96d7d7);}if(_0x37d542[_0x326b98(0x387)]){let _0x486a89=_0x37d542[_0x326b98(0x387)];this[_0x326b98(0x60f)][_0x326b98(0x387)](_0x486a89);}if(_0x37d542[_0x326b98(0x4fb)]&&this[_0x326b98(0x5d1)](_0x37d542[_0x326b98(0x4fb)]),_0x37d542[_0x326b98(0x41e)]&&this['instance']['authState'][_0x326b98(0x823)](),_0x37d542['messaging-history.set']){let _0x18b016=_0x37d542['messaging-history.set'];this[_0x326b98(0x60f)][_0x326b98(0x263)](_0x18b016,_0x309187);}if(_0x37d542[_0x326b98(0x555)]){let _0x243378=_0x37d542[_0x326b98(0x555)];this[_0x326b98(0x60f)][_0x326b98(0x555)](_0x243378,_0x309187);}if(_0x37d542[_0x326b98(0x321)]){let _0x36860c=_0x37d542[_0x326b98(0x321)];this[_0x326b98(0x60f)][_0x326b98(0x321)](_0x36860c,_0x309187);}if(_0x37d542['presence.update']){let _0x51cfdc=_0x37d542[_0x326b98(0x202)];if(this[_0x326b98(0x824)]?.['groups_ignore']&&_0x51cfdc['id'][_0x326b98(0x460)]('@g.us'))return;this[_0x326b98(0x446)](_0x326b98(0x202),_0x51cfdc);}if(_0x37d542['groups.upsert']){let _0x289e7d=_0x37d542['groups.upsert'];this[_0x326b98(0x3c4)][_0x326b98(0x3b7)](_0x289e7d);}if(_0x37d542['groups.update']){let _0x3c80b8=_0x37d542[_0x326b98(0x187)];this['groupHandler'][_0x326b98(0x187)](_0x3c80b8);}if(_0x37d542['group-participants.update']){let _0x5dd8c9=_0x37d542[_0x326b98(0x1d8)];this[_0x326b98(0x3c4)][_0x326b98(0x1d8)](_0x5dd8c9);}if(_0x37d542[_0x326b98(0x50c)]){let _0x204d68=_0x37d542[_0x326b98(0x50c)];this[_0x326b98(0x5f3)][_0x326b98(0x50c)](_0x204d68,_0x309187);}if(_0x37d542[_0x326b98(0x838)]){let _0x294c12=_0x37d542[_0x326b98(0x838)];this[_0x326b98(0x5f3)][_0x326b98(0x838)](_0x294c12,_0x309187);}if(_0x37d542['chats.delete']){let _0x5e0791=_0x37d542[_0x326b98(0x707)];this[_0x326b98(0x5f3)][_0x326b98(0x707)](_0x5e0791);}if(_0x37d542[_0x326b98(0x65b)]){let _0x617c76=_0x37d542[_0x326b98(0x65b)];this['contactHandle'][_0x326b98(0x65b)](_0x617c76,_0x309187);}if(_0x37d542[_0x326b98(0x357)]){let _0x51ca7e=_0x37d542[_0x326b98(0x357)];this[_0x326b98(0x367)][_0x326b98(0x357)](_0x51ca7e,_0x309187);}}});}async[a0_0x1bb7e5(0x32d)](_0x50fa98,_0xe04e24){const _0x27e719=a0_0x1bb7e5;if(_0xe04e24>=0xa){console['error'](this[_0x27e719(0x7fe)]+'\x20('+this[_0x27e719(0x3fc)]['wuid']+'):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar'),delete Lt[_0x50fa98[_0x27e719(0x5bc)]['id']];return;}try{console[_0x27e719(0x834)](this[_0x27e719(0x7fe)]+'\x20('+this[_0x27e719(0x3fc)]['wuid']+_0x27e719(0x8a6)+(_0xe04e24+0x1)),await this[_0x27e719(0x680)][_0x27e719(0x661)](JSON[_0x27e719(0x841)](_0x50fa98[_0x27e719(0x8bb)][0x1],w[_0x27e719(0x642)][_0x27e719(0x7aa)])),console[_0x27e719(0x834)](_0x27e719(0x42a));}catch(_0x172258){console[_0x27e719(0x834)](this[_0x27e719(0x7fe)]+'\x20('+this[_0x27e719(0x3fc)][_0x27e719(0x860)]+_0x27e719(0x8d5)+_0x172258),setTimeout(()=>this[_0x27e719(0x32d)](_0x50fa98,_0xe04e24+0x1),Math[_0x27e719(0x8d9)](0x2,_0xe04e24)*0x3e8);}}async[a0_0x1bb7e5(0x7ae)](_0x2826c0){const _0x2e2053=a0_0x1bb7e5;let _0x172fec=_0x2826c0['key'][_0x2e2053(0x6d1)][_0x2e2053(0x53b)](_0x2e2053(0x84b)),_0x39042b;if(_0x2826c0[_0x2e2053(0x5bc)]['fromMe'])_0x39042b=this[_0x2e2053(0x3fc)]['profilePictureUrl'];else{let _0x438e2d=_0x172fec?_0x2826c0[_0x2e2053(0x5bc)][_0x2e2053(0x220)]:_0x2826c0[_0x2e2053(0x5bc)][_0x2e2053(0x6d1)];_0x39042b=(await this[_0x2e2053(0x804)](_0x438e2d,_0x2826c0['pushName'],!0x1))['cachedContact'][_0x2e2053(0x791)];}_0x2826c0[_0x2e2053(0x78f)]&&_0x2826c0[_0x2e2053(0x78f)][_0x2e2053(0x684)]()[_0x2e2053(0x1e1)]<0xd&&(_0x2826c0[_0x2e2053(0x78f)]=_0x2826c0[_0x2e2053(0x78f)]*0x3e8);let _0x545375={'_id':_0x2826c0['key']['id'],'key':_0x2826c0[_0x2e2053(0x5bc)],'isGroup':_0x172fec,'profilePictureUrl':_0x39042b,'pushName':_0x2826c0[_0x2e2053(0x347)],'message':{'text':'[\x20SYSTEM\x20-\x20UAZAPI\x20]\x20-\x20Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la'},'messageType':_0x2e2053(0x834),'message_normalized':{'key':_0x2826c0[_0x2e2053(0x5bc)],'pushName':_0x2826c0[_0x2e2053(0x347)],'messageTimestamp':_0x2826c0[_0x2e2053(0x78f)],'source':(0x0,w[_0x2e2053(0x609)])(_0x2826c0[_0x2e2053(0x5bc)]['id']),'text':_0x2e2053(0x32f)},'messageTimestamp':_0x2826c0[_0x2e2053(0x78f)],'owner':this[_0x2e2053(0x3fc)][_0x2e2053(0x860)],'source':(0x0,w['getDevice'])(_0x2826c0[_0x2e2053(0x5bc)]['id'])};this[_0x2e2053(0x39f)][_0x2e2053(0x834)](this[_0x2e2053(0x7fe)]+'\x20('+this['instance'][_0x2e2053(0x860)]+_0x2e2053(0x69d)+(_0x545375['key']?.['fromMe']?_0x2e2053(0x213):'recebido\x20de')+'\x20['+_0x545375[_0x2e2053(0x5bc)]?.['remoteJid'][_0x2e2053(0x40f)](_0x2e2053(0x650),'')+_0x2e2053(0x6e7)+_0x545375[_0x2e2053(0x3ae)]+')'),_0x545375[_0x2e2053(0x366)]?.[_0x2e2053(0x56d)]&&this[_0x2e2053(0x39f)][_0x2e2053(0x834)](_0x2826c0[_0x2e2053(0x5bc)]['id']+':\x20'+_0x545375[_0x2e2053(0x366)]?.[_0x2e2053(0x56d)]),await this['repository']['message']['insert']([_0x545375],this[_0x2e2053(0x3fc)][_0x2e2053(0x860)]),await this[_0x2e2053(0x1da)][_0x2e2053(0x530)][_0x2e2053(0x6ac)]([_0x545375]),this[_0x2e2053(0x446)](_0x2e2053(0x555),_0x545375),F(this[_0x2e2053(0x7fe)],_0x2e2053(0x50e),{'message':_0x545375});}[a0_0x1bb7e5(0x342)](_0x3f6586){return new Promise(_0x38dcf1=>setTimeout(_0x38dcf1,_0x3f6586));}[a0_0x1bb7e5(0x1f0)](_0x4a0c0a){const _0x4075d7=a0_0x1bb7e5;_0x4a0c0a=_0x4a0c0a[_0x4075d7(0x40f)](/\D/g,'');let _0x549550=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x4075d7(0x868)](_0x4a0c0a);if(_0x549550&&_0x549550[0x1]==='55'){let _0x5895da=_0x549550[0x2],_0x3ca106=_0x549550[0x3],_0x4f9804=_0x549550[0x4];if(parseInt(_0x5895da)>=0x1f&&_0x3ca106==='9')return _0x549550[0x1]+_0x5895da+_0x4f9804;}return _0x4a0c0a;}['createJid'](_0x1936c7){const _0x264426=a0_0x1bb7e5;return _0x1936c7['includes']('@g.us')||_0x1936c7[_0x264426(0x460)](_0x264426(0x650))||_0x1936c7[_0x264426(0x460)]('@broadcast')?_0x1936c7:(_0x1936c7=_0x1936c7?.[_0x264426(0x40f)](/\s/g,'')[_0x264426(0x40f)](/\+/g,'')[_0x264426(0x40f)](/\(/g,'')[_0x264426(0x40f)](/\)/g,'')[_0x264426(0x53e)](/\:/)[0x0][_0x264426(0x53e)]('@')[0x0],_0x1936c7[_0x264426(0x1e1)]>=0x12?(_0x1936c7=_0x1936c7[_0x264426(0x40f)](/[^\d-]/g,''),_0x1936c7+_0x264426(0x84b)):(_0x1936c7=_0x1936c7[_0x264426(0x40f)](/\D/g,''),_0x1936c7+_0x264426(0x650)));}async[a0_0x1bb7e5(0x875)](_0x9cd0e1){const _0x449ab1=a0_0x1bb7e5;let _0x5aa413=(await this[_0x449ab1(0x596)]({'numbers':[_0x9cd0e1[_0x449ab1(0x90d)]]}))[0x0];if(!_0x5aa413['exists']&&!(0x0,w[_0x449ab1(0x29b)])(_0x5aa413['jid'])&&!_0x5aa413[_0x449ab1(0x6c0)][_0x449ab1(0x460)](_0x449ab1(0x52d)))throw new m(_0x5aa413);let _0x22cb44=_0x5aa413['jid'];try{return await this[_0x449ab1(0x680)][_0x449ab1(0x8c2)](_0x22cb44),await this['client'][_0x449ab1(0x7df)](_0x9cd0e1['presence'],_0x22cb44),{'status':0xc8,'presence':_0x9cd0e1[_0x449ab1(0x1cb)]};}catch(_0x2a9392){let _0x3f7b74=_0x449ab1(0x72b),_0x493add=_0x2a9392 instanceof Error?_0x2a9392[_0x449ab1(0x865)]:typeof _0x2a9392=='object'?JSON[_0x449ab1(0x84a)](_0x2a9392):_0x2a9392,_0x376e33=_0x3f7b74+':\x20'+_0x493add;throw this['logger'][_0x449ab1(0x834)](this[_0x449ab1(0x7fe)]+'\x20('+this[_0x449ab1(0x3fc)][_0x449ab1(0x860)]+_0x449ab1(0x69d)+_0x376e33),new m(_0x376e33);}}async[a0_0x1bb7e5(0x804)](_0x2d368f,_0x49d3b3,_0x5d11e3,_0x3f9d3d=!0x0){const _0x5359f1=a0_0x1bb7e5;let _0x4ae0b1=await this[_0x5359f1(0x1da)][_0x5359f1(0x879)][_0x5359f1(0x1fa)]({'where':{'_id':_0x2d368f}});if(!_0x4ae0b1&&!_0x3f9d3d)return;let _0x154532={'lastUpdate':Date[_0x5359f1(0x559)]()};if(_0x5d11e3||!_0x4ae0b1?.[_0x5359f1(0x33f)]||Date['now']()-_0x4ae0b1[_0x5359f1(0x33f)]>0x18*0x3c*0x3c*0x3e8)try{let _0x1accea=(await this[_0x5359f1(0x8d2)](_0x2d368f))[_0x5359f1(0x38f)];_0x154532['pictureUrl']=_0x1accea;}catch(_0x1cf9a2){let _0x4a4c96=_0x5359f1(0x535),_0x343759=_0x1cf9a2 instanceof Error?_0x1cf9a2[_0x5359f1(0x865)]:typeof _0x1cf9a2=='object'?JSON[_0x5359f1(0x84a)](_0x1cf9a2):_0x1cf9a2,_0x55f9cf=_0x4a4c96+':\x20'+_0x343759;throw this['logger'][_0x5359f1(0x834)](this['instanceName']+'\x20('+this[_0x5359f1(0x3fc)][_0x5359f1(0x860)]+_0x5359f1(0x69d)+_0x55f9cf),new m(_0x55f9cf);}return _0x49d3b3&&_0x4ae0b1?.[_0x5359f1(0x8f0)]!==_0x49d3b3&&(_0x154532['name']=_0x49d3b3),Object[_0x5359f1(0x312)](_0x154532)[_0x5359f1(0x1e1)]>0x1&&(_0x4ae0b1?await this[_0x5359f1(0x1da)][_0x5359f1(0x879)][_0x5359f1(0x726)]({'where':{'_id':_0x2d368f}},_0x154532):await this[_0x5359f1(0x1da)][_0x5359f1(0x879)][_0x5359f1(0x6ac)]([{'_id':_0x2d368f,..._0x154532}]),_0x4ae0b1={..._0x4ae0b1,..._0x154532}),{'cachedContact':_0x4ae0b1};}async[a0_0x1bb7e5(0x8d2)](_0x49ab21){const _0x2eb9a8=a0_0x1bb7e5;let _0x417a9d=this[_0x2eb9a8(0x545)](_0x49ab21);try{return{'wuid':_0x417a9d,'profilePictureUrl':await this[_0x2eb9a8(0x680)][_0x2eb9a8(0x38f)](_0x417a9d,_0x2eb9a8(0x4f5))};}catch{return{'wuid':_0x417a9d,'profilePictureUrl':null};}}async[a0_0x1bb7e5(0x1d9)](_0x756a23,_0x26d0e2,_0x1b7da9){const _0x1b4d15=a0_0x1bb7e5;let _0x26d98e=0x0;for(;_0x26d98e<0x5;)try{return await this[_0x1b4d15(0x90e)](_0x756a23,_0x26d0e2,_0x1b7da9);}catch(_0x2631a1){if(_0x26d98e++,_0x2631a1 instanceof Error&&_0x2631a1[_0x1b4d15(0x865)]===_0x1b4d15(0x62b)){if(_0x26d98e>=0x5)throw new m('Falha\x20após\x205\x20tentativas:\x20'+_0x2631a1[_0x1b4d15(0x865)]);this['logger']['warn']('Tentativa\x20'+_0x26d98e+'/5\x20falhou:\x20'+_0x2631a1[_0x1b4d15(0x865)]+'.\x20Tentando\x20novamente\x20em\x20'+0x1388/0x3e8+_0x1b4d15(0x4c9)),await new Promise(_0x478339=>setTimeout(_0x478339,0x1388));}else throw new m(_0x2631a1[_0x1b4d15(0x865)]);}}async['sendMessageWithTyping'](_0x231206,_0xca616,_0x2d3305){const _0x38e016=a0_0x1bb7e5;let _0x29e0ef;try{let _0x556684=(await this['whatsappNumber']({'numbers':[_0x231206]}))?.[_0x38e016(0x239)]();if(!_0x556684['exists']&&!(0x0,w[_0x38e016(0x29b)])(_0x556684[_0x38e016(0x6c0)])&&!_0x556684[_0x38e016(0x6c0)]['includes'](_0x38e016(0x52d)))throw new m(_0x556684);_0x29e0ef=_0x556684[_0x38e016(0x6c0)];}catch(_0x1d7d13){_0x29e0ef=_0x231206,this['logger'][_0x38e016(0x1be)](this[_0x38e016(0x7fe)]+'\x20('+this[_0x38e016(0x3fc)][_0x38e016(0x860)]+_0x38e016(0x5b6)+_0x1d7d13[_0x38e016(0x865)]),this[_0x38e016(0x39f)][_0x38e016(0x1be)](this['instanceName']+'\x20('+this[_0x38e016(0x3fc)][_0x38e016(0x860)]+_0x38e016(0x84f)+_0x29e0ef);}try{if(_0x29e0ef||(_0x29e0ef=_0x231206,this['logger'][_0x38e016(0x1be)](this[_0x38e016(0x7fe)]+'\x20('+this['instance']['wuid']+_0x38e016(0x4f3)+_0x29e0ef)),_0x2d3305||(_0x2d3305={}),_0x2d3305?.[_0x38e016(0x6e3)]){await this[_0x38e016(0x680)]['presenceSubscribe'](_0x29e0ef),await this[_0x38e016(0x680)][_0x38e016(0x7df)](_0x2d3305?.[_0x38e016(0x1cb)]??_0x38e016(0x8ac),_0x29e0ef);let _0x447b57=Math[_0x38e016(0x574)](_0x2d3305['delay'],0x2710);await(0x0,w['delay'])(_0x447b57),await this[_0x38e016(0x680)][_0x38e016(0x7df)](_0x38e016(0x7c4),_0x29e0ef);}let _0x109dec=_0x2d3305?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x2a24be;if(_0x2d3305?.[_0x38e016(0x48e)]){let _0x48ea6d=_0x2d3305?.[_0x38e016(0x48e)],_0x31d5cd=_0x48ea6d?.[_0x38e016(0x865)]?_0x48ea6d:await this[_0x38e016(0x64c)](_0x48ea6d['key'],!0x0);_0x31d5cd&&(_0x2a24be=_0x31d5cd);}let _0x32a870=await this[_0x38e016(0x1da)][_0x38e016(0x4cc)][_0x38e016(0x1fa)]({'where':{'_id':_0x29e0ef}},this[_0x38e016(0x3fc)][_0x38e016(0x860)]),_0x413afe,_0x9fecd6=null;if((0x0,w[_0x38e016(0x29b)])(_0x29e0ef))try{if(_0x9fecd6=_0x32a870[_0x38e016(0x2c2)],!_0x9fecd6)throw new U(_0x38e016(0x6d0));if(!_0x9fecd6[_0x38e016(0x72c)])throw new m(_0x38e016(0x70e));_0x2d3305?.['mentions']&&(_0x2d3305[_0x38e016(0x381)]?.['everyOne']?_0x413afe=_0x9fecd6[_0x38e016(0x463)]['map'](_0x31dea2=>_0x31dea2['id']):_0x2d3305[_0x38e016(0x381)]?.[_0x38e016(0x29f)]?.[_0x38e016(0x1e1)]&&(_0x413afe=_0x2d3305[_0x38e016(0x381)][_0x38e016(0x29f)][_0x38e016(0x7b7)](_0x531e7b=>{const _0x57a311=_0x38e016;let _0xc079d4=this['createJid'](_0x531e7b);return(0x0,w[_0x57a311(0x29b)])(_0xc079d4)?null:_0xc079d4;})));}catch(_0x73922f){throw _0x73922f instanceof U?new U(_0x38e016(0x6d0)):_0x73922f instanceof m?new m(_0x38e016(0x70e)):new Error('Erro\x20desconhecido\x20ao\x20tentar\x20enviar\x20mensagem\x20para\x20o\x20grupo');}let _0xc7bdd8=await((async()=>{const _0x22567f=_0x38e016;let _0x32163d={'quoted':_0x2a24be,'ephemeralExpiration':_0x32a870?.[_0x22567f(0x233)]??0x0};if(!_0xca616[_0x22567f(0x582)]&&!_0xca616[_0x22567f(0x546)]&&!_0xca616[_0x22567f(0x5d2)]&&!_0xca616[_0x22567f(0x374)]&&_0x29e0ef!==_0x22567f(0x492)&&_0xca616['reactionMessage'])return await this[_0x22567f(0x680)]['sendMessage'](_0x29e0ef,{'react':{'text':_0xca616[_0x22567f(0x1fe)][_0x22567f(0x56d)],'key':_0xca616[_0x22567f(0x1fe)][_0x22567f(0x5bc)]}},_0x32163d);if(_0xca616[_0x22567f(0x374)]){let _0x3930ac=_0xca616['conversation'];return _0x2d3305?.[_0x22567f(0x423)]&&(_0x3930ac=await this[_0x22567f(0x8ef)](_0x3930ac,_0x29e0ef)),await this[_0x22567f(0x680)][_0x22567f(0x3c7)](_0x29e0ef,{'text':_0x3930ac,'mentions':_0x413afe,'linkPreview':_0x109dec},_0x32163d);}return!_0xca616[_0x22567f(0x582)]&&!_0xca616[_0x22567f(0x546)]&&_0x29e0ef!=_0x22567f(0x492)?await this[_0x22567f(0x680)]['sendMessage'](_0x29e0ef,{'forward':{'key':{'remoteJid':this['instance']['wuid'],'fromMe':!0x0},'message':_0xca616},'mentions':_0x413afe},_0x32163d):_0x29e0ef===_0x22567f(0x492)?await this[_0x22567f(0x680)]['sendMessage'](_0x29e0ef,_0xca616[_0x22567f(0x362)][_0x22567f(0x66d)],{'backgroundColor':_0xca616[_0x22567f(0x362)][_0x22567f(0x753)]['backgroundColor'],'font':_0xca616[_0x22567f(0x362)][_0x22567f(0x753)][_0x22567f(0x733)],'statusJidList':_0xca616[_0x22567f(0x362)][_0x22567f(0x753)]['statusJidList']}):await this[_0x22567f(0x680)][_0x22567f(0x3c7)](_0x29e0ef,_0xca616,_0x32163d);})()),_0x5c887e=(0x0,w[_0x38e016(0x6cb)])(_0xc7bdd8['message']),_0x2ae27d=(0x0,w[_0x38e016(0x672)])(_0x5c887e),{message_normalized:_0x136a2c}=this[_0x38e016(0x561)](_0x5c887e,_0x2ae27d,null),_0x42c20c={'_id':_0xc7bdd8[_0x38e016(0x5bc)]['id'],'key':_0xc7bdd8[_0x38e016(0x5bc)],'pushName':_0xc7bdd8[_0x38e016(0x347)],'isGroup':_0xc7bdd8[_0x38e016(0x5bc)]['remoteJid'][_0x38e016(0x53b)](_0x38e016(0x84b)),'profilePictureUrl':this[_0x38e016(0x3fc)][_0x38e016(0x38f)],'message':_0x5c887e,'messageType':_0x2ae27d,'message_normalized':{'key':_0xc7bdd8['key'],'pushName':_0xc7bdd8['pushName'],'messageTimestamp':_0xc7bdd8[_0x38e016(0x78f)]&&_0xc7bdd8[_0x38e016(0x78f)][_0x38e016(0x684)]()[_0x38e016(0x1e1)]<0xd?_0xc7bdd8[_0x38e016(0x78f)]*0x3e8:_0xc7bdd8[_0x38e016(0x78f)]||null,'source':(0x0,w[_0x38e016(0x609)])(_0xc7bdd8['key']['id']),..._0x136a2c},'messageTimestamp':_0xc7bdd8[_0x38e016(0x78f)]&&_0xc7bdd8[_0x38e016(0x78f)][_0x38e016(0x684)]()[_0x38e016(0x1e1)]<0xd?_0xc7bdd8[_0x38e016(0x78f)]*0x3e8:_0xc7bdd8[_0x38e016(0x78f)]||null,'owner':this[_0x38e016(0x3fc)][_0x38e016(0x860)],'source':(0x0,w['getDevice'])(_0xc7bdd8['key']['id'])};return this[_0x38e016(0x39f)]['warn'](this[_0x38e016(0x7fe)]+'\x20('+this[_0x38e016(0x3fc)][_0x38e016(0x860)]+_0x38e016(0x6f5)+_0x42c20c[_0x38e016(0x5bc)]?.[_0x38e016(0x6d1)][_0x38e016(0x40f)](_0x38e016(0x650),'')+_0x38e016(0x6e7)+_0x42c20c[_0x38e016(0x3ae)]+')'),_0x42c20c[_0x38e016(0x366)]?.['text']&&this['logger'][_0x38e016(0x1be)](_0x42c20c[_0x38e016(0x366)]?.[_0x38e016(0x56d)]),this[_0x38e016(0x446)](_0x38e016(0x657),_0x42c20c),F(this[_0x38e016(0x7fe)],'messages',{'message':_0x42c20c}),this[_0x38e016(0x3cb)](this[_0x38e016(0x3bc)][_0x38e016(0x8a5)]('DATABASE'),_0x42c20c,_0x38e016(0x719),_0x32a870),await this[_0x38e016(0x1da)][_0x38e016(0x865)][_0x38e016(0x6ac)]([_0x42c20c],this[_0x38e016(0x3fc)][_0x38e016(0x860)]),_0xc7bdd8;}catch(_0x4f8b64){let _0xeaafc=_0x38e016(0x363)+_0x29e0ef,_0x5bbf1f=_0x4f8b64 instanceof Error?_0x4f8b64['message']:typeof _0x4f8b64==_0x38e016(0x8d4)?JSON[_0x38e016(0x84a)](_0x4f8b64):_0x4f8b64,_0x388711=_0xeaafc+':\x20'+_0x5bbf1f;throw this[_0x38e016(0x39f)]['error'](this[_0x38e016(0x7fe)]+'\x20('+this[_0x38e016(0x3fc)][_0x38e016(0x860)]+_0x38e016(0x69d)+_0x388711),new m(_0x388711);}}async[a0_0x1bb7e5(0x1f5)](_0x3ab4dd,_0x91bbce,_0x4b2b7d){const _0x119e4f=a0_0x1bb7e5;let _0x73c3c1=this[_0x119e4f(0x545)](_0x3ab4dd),_0x2a019e=(await this[_0x119e4f(0x596)]({'numbers':[_0x73c3c1]}))[0x0];if(!_0x2a019e[_0x119e4f(0x49c)]&&!(0x0,w[_0x119e4f(0x29b)])(_0x2a019e[_0x119e4f(0x6c0)]))throw new m(_0x2a019e);let _0xc567f3=(0x0,w[_0x119e4f(0x29b)])(_0x73c3c1)?_0x73c3c1:_0x2a019e[_0x119e4f(0x6c0)];if((0x0,w[_0x119e4f(0x29b)])(_0xc567f3))try{await this['client'][_0x119e4f(0x8fe)](_0xc567f3);}catch{throw new m(_0x119e4f(0x3ef));}try{_0x4b2b7d?.[_0x119e4f(0x6e3)]&&(await this[_0x119e4f(0x680)][_0x119e4f(0x8c2)](_0xc567f3),await this[_0x119e4f(0x680)]['sendPresenceUpdate'](_0x4b2b7d?.['presence']??_0x119e4f(0x8ac),_0x73c3c1),await(0x0,w[_0x119e4f(0x6e3)])(_0x4b2b7d[_0x119e4f(0x6e3)]),await this[_0x119e4f(0x680)][_0x119e4f(0x7df)](_0x119e4f(0x7c4),_0xc567f3));let _0xa9d8d2=await((async()=>{const _0x3a9bc5=_0x119e4f;let _0x1b8e5b,_0x40baea='3EB0'+(0x0,ne[_0x3a9bc5(0x4de)])(0x12)[_0x3a9bc5(0x684)](_0x3a9bc5(0x6e1))[_0x3a9bc5(0x204)](),_0x2bcb96=(0x0,w[_0x3a9bc5(0x37f)])(_0xc567f3,_0x91bbce,{'timestamp':new Date(),'userJid':this[_0x3a9bc5(0x3fc)][_0x3a9bc5(0x860)],'messageId':_0x40baea,'quoted':_0x1b8e5b}),_0x4ac721=await this[_0x3a9bc5(0x680)]['relayMessage'](_0xc567f3,_0x2bcb96[_0x3a9bc5(0x865)],{'messageId':_0x40baea});_0x2bcb96[_0x3a9bc5(0x5bc)]={'id':_0x4ac721,'remoteJid':_0x73c3c1,'participant':(0x0,w[_0x3a9bc5(0x246)])(_0x73c3c1)?void 0x0:_0x73c3c1,'fromMe':!0x0};for(let [_0x4ff786,_0x4c785b]of Object[_0x3a9bc5(0x6d7)](_0x2bcb96))(!_0x4c785b||Array[_0x3a9bc5(0x3ec)](_0x4c785b)&&_0x4c785b[_0x3a9bc5(0x1e1)]===0x0)&&delete _0x2bcb96[_0x4ff786];return this[_0x3a9bc5(0x680)]['ev'][_0x3a9bc5(0x5be)]('messages.upsert',{'messages':[_0x2bcb96],'type':_0x3a9bc5(0x84c)}),_0x2bcb96;})()),_0x20b15a=await this[_0x119e4f(0x1da)][_0x119e4f(0x4cc)][_0x119e4f(0x1fa)]({'where':{'_id':_0xc567f3}},this[_0x119e4f(0x3fc)][_0x119e4f(0x860)]),_0x232c25=(0x0,w[_0x119e4f(0x6cb)])(_0xa9d8d2[_0x119e4f(0x865)]),_0xb3a3b4=(0x0,w[_0x119e4f(0x672)])(_0x232c25),{message_normalized:_0xbe18}=this['normalizeMessage'](_0x232c25,_0xb3a3b4,null),_0x38daed={'_id':_0xa9d8d2[_0x119e4f(0x5bc)]['id'],'key':_0xa9d8d2[_0x119e4f(0x5bc)],'pushName':_0xa9d8d2[_0x119e4f(0x347)],'isGroup':_0xa9d8d2['key'][_0x119e4f(0x6d1)]['endsWith'](_0x119e4f(0x84b)),'profilePictureUrl':this[_0x119e4f(0x3fc)][_0x119e4f(0x38f)],'message':_0x232c25,'messageType':_0xb3a3b4,'message_normalized':{'key':_0xa9d8d2[_0x119e4f(0x5bc)],'pushName':_0xa9d8d2[_0x119e4f(0x347)],'messageTimestamp':_0xa9d8d2['messageTimestamp']&&_0xa9d8d2[_0x119e4f(0x78f)]['toString']()[_0x119e4f(0x1e1)]<0xd?_0xa9d8d2[_0x119e4f(0x78f)]*0x3e8:_0xa9d8d2[_0x119e4f(0x78f)]||null,'source':(0x0,w[_0x119e4f(0x609)])(_0xa9d8d2[_0x119e4f(0x5bc)]['id']),..._0xbe18},'messageTimestamp':_0xa9d8d2[_0x119e4f(0x78f)]&&_0xa9d8d2[_0x119e4f(0x78f)][_0x119e4f(0x684)]()[_0x119e4f(0x1e1)]<0xd?_0xa9d8d2['messageTimestamp']*0x3e8:_0xa9d8d2[_0x119e4f(0x78f)]||null,'owner':this[_0x119e4f(0x3fc)][_0x119e4f(0x860)],'source':(0x0,w[_0x119e4f(0x609)])(_0xa9d8d2[_0x119e4f(0x5bc)]['id'])};return this[_0x119e4f(0x39f)][_0x119e4f(0x1be)](this[_0x119e4f(0x7fe)]+'\x20('+this['instance']['wuid']+'):\x20enviado\x20para\x20['+_0x38daed[_0x119e4f(0x5bc)]?.[_0x119e4f(0x6d1)]['replace']('@s.whatsapp.net','')+_0x119e4f(0x6e7)+_0x38daed[_0x119e4f(0x3ae)]+')'),_0x38daed[_0x119e4f(0x366)]?.[_0x119e4f(0x56d)]&&this[_0x119e4f(0x39f)][_0x119e4f(0x1be)](_0x38daed['message_normalized']?.[_0x119e4f(0x56d)]),this[_0x119e4f(0x446)](_0x119e4f(0x657),_0x38daed),F(this[_0x119e4f(0x7fe)],'messages',{'message':_0x38daed}),this[_0x119e4f(0x3cb)](this['configService'][_0x119e4f(0x8a5)](_0x119e4f(0x7da)),_0x38daed,_0x119e4f(0x719),_0x20b15a),await this[_0x119e4f(0x1da)][_0x119e4f(0x865)][_0x119e4f(0x6ac)]([_0x38daed],this[_0x119e4f(0x3fc)][_0x119e4f(0x860)]),_0xa9d8d2;}catch(_0xad3de4){throw this[_0x119e4f(0x39f)]['error'](_0xad3de4),new m(_0xad3de4[_0x119e4f(0x684)]());}}get[a0_0x1bb7e5(0x417)](){const _0x54148f=a0_0x1bb7e5;return this[_0x54148f(0x595)];}async[a0_0x1bb7e5(0x617)](_0x57938b){const _0x3b8d87=a0_0x1bb7e5;return await this[_0x3b8d87(0x1d9)](_0x57938b[_0x3b8d87(0x90d)],{'conversation':_0x57938b[_0x3b8d87(0x617)][_0x3b8d87(0x56d)]},_0x57938b?.['options']);}async[a0_0x1bb7e5(0x441)](_0x1f6018){const _0x29dfb0=a0_0x1bb7e5;if(!_0x1f6018[_0x29dfb0(0x358)])throw new m(_0x29dfb0(0x82e));if(!_0x1f6018[_0x29dfb0(0x66d)])throw new m(_0x29dfb0(0x4e3));if(_0x1f6018[_0x29dfb0(0x52c)]){let _0x270deb=await this[_0x29dfb0(0x1da)][_0x29dfb0(0x802)]['find']({'where':{}},this['instance'][_0x29dfb0(0x860)]);if(!_0x270deb['length'])throw new m(_0x29dfb0(0x483));_0x1f6018[_0x29dfb0(0x735)]=_0x270deb[_0x29dfb0(0x67b)](_0x49087b=>_0x49087b['pushName'])[_0x29dfb0(0x7b7)](_0x5d8f92=>_0x5d8f92[_0x29dfb0(0x2c4)]);}if(!_0x1f6018[_0x29dfb0(0x735)]?.[_0x29dfb0(0x1e1)]&&!_0x1f6018['allContacts'])throw new m(_0x29dfb0(0x403));if(_0x1f6018['type']===_0x29dfb0(0x56d)){if(!_0x1f6018[_0x29dfb0(0x68b)])throw new m(_0x29dfb0(0x359));if(!_0x1f6018[_0x29dfb0(0x733)])throw new m(_0x29dfb0(0x849));return{'content':{'text':_0x1f6018[_0x29dfb0(0x66d)]},'option':{'backgroundColor':_0x1f6018['backgroundColor'],'font':_0x1f6018['font'],'statusJidList':_0x1f6018['statusJidList']}};}if(_0x1f6018[_0x29dfb0(0x358)]===_0x29dfb0(0x4f5))return{'content':{'image':{'url':_0x1f6018['content']},'caption':_0x1f6018['caption']},'option':{'statusJidList':_0x1f6018[_0x29dfb0(0x735)]}};if(_0x1f6018['type']===_0x29dfb0(0x477))return{'content':{'video':{'url':_0x1f6018[_0x29dfb0(0x66d)]},'caption':_0x1f6018[_0x29dfb0(0x6fa)]},'option':{'statusJidList':_0x1f6018[_0x29dfb0(0x735)]}};if(_0x1f6018[_0x29dfb0(0x358)]===_0x29dfb0(0x582)){this[_0x29dfb0(0x39f)][_0x29dfb0(0x1d7)](this['instanceName']+'\x20('+this[_0x29dfb0(0x3fc)][_0x29dfb0(0x860)]+'):Type\x20defined\x20as\x20audio'),this[_0x29dfb0(0x39f)][_0x29dfb0(0x1d7)](this[_0x29dfb0(0x7fe)]+'\x20('+this[_0x29dfb0(0x3fc)][_0x29dfb0(0x860)]+_0x29dfb0(0x88b));let _0x474553=await this[_0x29dfb0(0x4a5)](_0x1f6018[_0x29dfb0(0x66d)]);if(typeof _0x474553==_0x29dfb0(0x89c)){this[_0x29dfb0(0x39f)][_0x29dfb0(0x1d7)](this[_0x29dfb0(0x7fe)]+'\x20('+this['instance'][_0x29dfb0(0x860)]+_0x29dfb0(0x56a));let _0xe42801=k[_0x29dfb0(0x869)](_0x474553)[_0x29dfb0(0x684)](_0x29dfb0(0x47a));return{'content':{'audio':Buffer[_0x29dfb0(0x71c)](_0xe42801,_0x29dfb0(0x47a)),'ptt':!0x0,'mimetype':_0x29dfb0(0x4cf)},'option':{'statusJidList':_0x1f6018[_0x29dfb0(0x735)]}};}else throw new x(_0x474553);}throw new m(_0x29dfb0(0x85c));}async[a0_0x1bb7e5(0x310)](_0x116afb){const _0x2a263c=a0_0x1bb7e5;return await this['sendMessageWithRetry'](_0x2a263c(0x492),{'status':await this[_0x2a263c(0x441)](_0x116afb['statusMessage'])});}async[a0_0x1bb7e5(0x5c4)](_0x4a8fc1){const _0x4a1402=a0_0x1bb7e5;try{let _0x4a5cc8=await(0x0,w[_0x4a1402(0x614)])({[_0x4a8fc1[_0x4a1402(0x893)]]:(0x0,J[_0x4a1402(0x73a)])(_0x4a8fc1[_0x4a1402(0x8d7)])?{'url':_0x4a8fc1[_0x4a1402(0x8d7)]}:Buffer[_0x4a1402(0x71c)](_0x4a8fc1['media'],_0x4a1402(0x47a))},{'upload':this['client'][_0x4a1402(0x8da)]}),_0xc6a563=_0x4a8fc1[_0x4a1402(0x893)]+_0x4a1402(0x6af);if(_0x4a8fc1[_0x4a1402(0x893)]===_0x4a1402(0x901)&&!_0x4a8fc1[_0x4a1402(0x5a6)]){let _0x5782cd=new RegExp(/.*\/(.+?)\./)['exec'](_0x4a8fc1[_0x4a1402(0x8d7)]);_0x4a8fc1[_0x4a1402(0x5a6)]=_0x5782cd?_0x5782cd[0x1]:null;}let _0x465c08;return(0x0,J['isURL'])(_0x4a8fc1['media'])?_0x465c08=(await Q['default'][_0x4a1402(0x8a5)](_0x4a8fc1[_0x4a1402(0x8d7)],{'responseType':_0x4a1402(0x1a4)}))[_0x4a1402(0x83e)]['content-type']:_0x465c08=(0x0,Oi['getMIMEType'])(_0x4a8fc1[_0x4a1402(0x5a6)]),_0x4a5cc8[_0xc6a563][_0x4a1402(0x6fa)]=_0x4a8fc1?.['caption'],_0x4a5cc8[_0xc6a563][_0x4a1402(0x8c6)]=_0x465c08,_0x4a5cc8[_0xc6a563]['fileName']=_0x4a8fc1[_0x4a1402(0x5a6)],_0x4a8fc1['mediatype']===_0x4a1402(0x477)&&(_0x4a5cc8[_0xc6a563][_0x4a1402(0x6ba)]=Uint8Array[_0x4a1402(0x71c)]((0x0,Le[_0x4a1402(0x869)])((0x0,j['join'])(process[_0x4a1402(0x428)](),_0x4a1402(0x90f)))),_0x4a5cc8[_0xc6a563]['gifPlayback']=!0x1),(0x0,w[_0x4a1402(0x37f)])('',{[_0xc6a563]:{..._0x4a5cc8[_0xc6a563]}},{'userJid':this[_0x4a1402(0x3fc)]['wuid']});}catch(_0x15b8a9){let _0x5e70e4=_0x4a1402(0x752),_0xd94519=_0x15b8a9 instanceof Error?_0x15b8a9[_0x4a1402(0x865)]:typeof _0x15b8a9==_0x4a1402(0x8d4)?JSON[_0x4a1402(0x84a)](_0x15b8a9):_0x15b8a9,_0xefac3b=_0x5e70e4+':\x20'+_0xd94519;throw this['logger'][_0x4a1402(0x834)](this[_0x4a1402(0x7fe)]+'\x20('+this[_0x4a1402(0x3fc)]['wuid']+'):\x20'+_0xefac3b),new x(_0xefac3b);}}async['mediaMessage'](_0x12e1fe){const _0xa36e27=a0_0x1bb7e5;let _0x86e4ca=await this['prepareMediaMessage'](_0x12e1fe[_0xa36e27(0x897)]);return await this[_0xa36e27(0x1d9)](_0x12e1fe['number'],{..._0x86e4ca[_0xa36e27(0x865)]},_0x12e1fe?.[_0xa36e27(0x725)]);}async[a0_0x1bb7e5(0x8f4)](_0x56289b,_0x1bd2d2){const _0xff7e62=a0_0x1bb7e5;try{this[_0xff7e62(0x39f)][_0xff7e62(0x1d7)](this['instanceName']+'\x20('+this[_0xff7e62(0x3fc)][_0xff7e62(0x860)]+_0xff7e62(0x744));let _0x4ecdf3,_0xd92b6b=_0x1bd2d2+'-'+new Date()[_0xff7e62(0x391)]();this[_0xff7e62(0x39f)]['verbose'](this[_0xff7e62(0x7fe)]+'\x20('+this[_0xff7e62(0x3fc)][_0xff7e62(0x860)]+_0xff7e62(0x7a9)+_0xd92b6b);let _0x335a8f=''+(0x0,j[_0xff7e62(0x518)])(this[_0xff7e62(0x2c5)],_0xd92b6b+_0xff7e62(0x2ed));if(this[_0xff7e62(0x39f)][_0xff7e62(0x1d7)](this[_0xff7e62(0x7fe)]+'\x20('+this[_0xff7e62(0x3fc)]['wuid']+'):Output\x20path:\x20'+_0x335a8f),(0x0,J[_0xff7e62(0x44f)])(_0x56289b)){this[_0xff7e62(0x39f)]['verbose'](this[_0xff7e62(0x7fe)]+'\x20('+this[_0xff7e62(0x3fc)]['wuid']+_0xff7e62(0x8a0));let _0x1610e2=_0x56289b[_0xff7e62(0x40f)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x35550b=Buffer[_0xff7e62(0x71c)](_0x1610e2,'base64');_0x4ecdf3=''+(0x0,j[_0xff7e62(0x518)])(this[_0xff7e62(0x2c5)],'temp-'+_0xd92b6b+_0xff7e62(0x894)),this['logger'][_0xff7e62(0x1d7)](this[_0xff7e62(0x7fe)]+'\x20('+this[_0xff7e62(0x3fc)]['wuid']+'):Image\x20path:\x20'+_0x4ecdf3),await(0x0,Ut[_0xff7e62(0x4b7)])(_0x35550b)[_0xff7e62(0x554)](_0x4ecdf3),this['logger'][_0xff7e62(0x1d7)](this['instanceName']+'\x20('+this[_0xff7e62(0x3fc)][_0xff7e62(0x860)]+_0xff7e62(0x5f8));}else{this[_0xff7e62(0x39f)][_0xff7e62(0x1d7)](this[_0xff7e62(0x7fe)]+'\x20('+this[_0xff7e62(0x3fc)][_0xff7e62(0x860)]+_0xff7e62(0x631));let _0x465b39=new Date()[_0xff7e62(0x391)](),_0x22c745=_0x56289b+_0xff7e62(0x3cf)+_0x465b39;this['logger'][_0xff7e62(0x1d7)](this[_0xff7e62(0x7fe)]+'\x20('+this[_0xff7e62(0x3fc)][_0xff7e62(0x860)]+_0xff7e62(0x1ea)+_0x22c745);let _0xed222b=await Q['default'][_0xff7e62(0x8a5)](_0x22c745,{'responseType':_0xff7e62(0x1a4)});this[_0xff7e62(0x39f)]['verbose'](this[_0xff7e62(0x7fe)]+'\x20('+this[_0xff7e62(0x3fc)][_0xff7e62(0x860)]+'):Getting\x20image\x20from\x20url');let _0x25ed9a=Buffer[_0xff7e62(0x71c)](_0xed222b[_0xff7e62(0x2b3)],_0xff7e62(0x36b));_0x4ecdf3=''+(0x0,j[_0xff7e62(0x518)])(this[_0xff7e62(0x2c5)],_0xff7e62(0x72d)+_0xd92b6b+_0xff7e62(0x894)),this[_0xff7e62(0x39f)][_0xff7e62(0x1d7)](this['instanceName']+'\x20('+this[_0xff7e62(0x3fc)][_0xff7e62(0x860)]+_0xff7e62(0x248)+_0x4ecdf3),await(0x0,Ut[_0xff7e62(0x4b7)])(_0x25ed9a)[_0xff7e62(0x554)](_0x4ecdf3),this[_0xff7e62(0x39f)][_0xff7e62(0x1d7)](this[_0xff7e62(0x7fe)]+'\x20('+this[_0xff7e62(0x3fc)][_0xff7e62(0x860)]+_0xff7e62(0x5f8));}return await(0x0,Ut[_0xff7e62(0x4b7)])(_0x4ecdf3)[_0xff7e62(0x52a)]()[_0xff7e62(0x554)](_0x335a8f),this[_0xff7e62(0x39f)][_0xff7e62(0x1d7)](this[_0xff7e62(0x7fe)]+'\x20('+this[_0xff7e62(0x3fc)][_0xff7e62(0x860)]+_0xff7e62(0x633)),k[_0xff7e62(0x721)](_0x4ecdf3),this[_0xff7e62(0x39f)][_0xff7e62(0x1d7)](this[_0xff7e62(0x7fe)]+'\x20('+this['instance']['wuid']+_0xff7e62(0x54d)),_0x335a8f;}catch(_0x5521e8){let _0x5989f3=_0xff7e62(0x5ff),_0x356ab8=_0x5521e8 instanceof Error?_0x5521e8[_0xff7e62(0x865)]:typeof _0x5521e8=='object'?JSON['stringify'](_0x5521e8):_0x5521e8,_0x4d5b2d=_0x5989f3+':\x20'+_0x356ab8;this[_0xff7e62(0x39f)]['error'](this['instanceName']+'\x20('+this[_0xff7e62(0x3fc)][_0xff7e62(0x860)]+_0xff7e62(0x69d)+_0x4d5b2d);}}async[a0_0x1bb7e5(0x65d)](_0x24298f){const _0x2d4c5d=a0_0x1bb7e5;let _0x40ce0c=await this['convertToWebP'](_0x24298f['stickerMessage'][_0x2d4c5d(0x4f5)],_0x24298f[_0x2d4c5d(0x90d)]),_0x16bcaa=await this['sendMessageWithRetry'](_0x24298f['number'],{'sticker':{'url':_0x40ce0c}},_0x24298f?.[_0x2d4c5d(0x725)]);return k['unlinkSync'](_0x40ce0c),this[_0x2d4c5d(0x39f)][_0x2d4c5d(0x1d7)](this[_0x2d4c5d(0x7fe)]+'\x20('+this[_0x2d4c5d(0x3fc)][_0x2d4c5d(0x860)]+'):Converted\x20image\x20deleted'),_0x16bcaa;}async[a0_0x1bb7e5(0x443)](_0x28dd76){const _0x28406b=a0_0x1bb7e5;if(this[_0x28406b(0x39f)]['verbose'](this[_0x28406b(0x7fe)]+'\x20('+this[_0x28406b(0x3fc)][_0x28406b(0x860)]+_0x28406b(0x25e)),!_0x28dd76[_0x28406b(0x725)]?.['encoding']&&_0x28dd76[_0x28406b(0x725)]?.[_0x28406b(0x8e3)]!==!0x1&&(_0x28dd76[_0x28406b(0x725)]['encoding']=!0x0),_0x28dd76['options']?.[_0x28406b(0x8e3)]){let _0xefe5b5=await this[_0x28406b(0x4a5)](_0x28dd76[_0x28406b(0x70d)][_0x28406b(0x582)]);if(typeof _0xefe5b5==_0x28406b(0x89c)){let _0x3e917e=k['readFileSync'](_0xefe5b5)[_0x28406b(0x684)](_0x28406b(0x47a));return this[_0x28406b(0x1d9)](_0x28dd76[_0x28406b(0x90d)],{'audio':Buffer['from'](_0x3e917e,_0x28406b(0x47a)),'ptt':!0x0,'mimetype':_0x28406b(0x4e9)},{'presence':'recording','delay':_0x28dd76?.[_0x28406b(0x725)]?.[_0x28406b(0x6e3)]});}else throw new x(_0xefe5b5);}return await this[_0x28406b(0x1d9)](_0x28dd76[_0x28406b(0x90d)],{'audio':(0x0,J['isURL'])(_0x28dd76['audioMessage'][_0x28406b(0x582)])?{'url':_0x28dd76['audioMessage'][_0x28406b(0x582)]}:Buffer[_0x28406b(0x71c)](_0x28dd76[_0x28406b(0x70d)]['audio'],'base64'),'ptt':!0x0,'mimetype':_0x28406b(0x4e9)},{'presence':_0x28406b(0x797),'delay':_0x28dd76?.['options']?.[_0x28406b(0x6e3)]});}async[a0_0x1bb7e5(0x4a5)](_0x223727){const _0x887d5d=a0_0x1bb7e5;this['logger'][_0x887d5d(0x1d7)](this[_0x887d5d(0x7fe)]+'\x20('+this[_0x887d5d(0x3fc)][_0x887d5d(0x860)]+'):Processing\x20audio');let _0x1d4983=(0x0,J['isURL'])(_0x223727)?(0x0,ne[_0x887d5d(0x5db)])(_0x887d5d(0x276))[_0x887d5d(0x726)](_0x223727)['digest']('hex'):(0x0,ne[_0x887d5d(0x5db)])('sha256')[_0x887d5d(0x726)](_0x223727)[_0x887d5d(0x6a7)](_0x887d5d(0x6e1)),_0x300a69=''+(0x0,j[_0x887d5d(0x518)])(this[_0x887d5d(0x2c5)],_0x1d4983+'.ogg');if(k['existsSync'](_0x300a69))return this[_0x887d5d(0x39f)][_0x887d5d(0x1d7)](this[_0x887d5d(0x7fe)]+'\x20('+this[_0x887d5d(0x3fc)][_0x887d5d(0x860)]+_0x887d5d(0x272)),_0x300a69;let _0x55f27f=''+(0x0,j[_0x887d5d(0x518)])(this[_0x887d5d(0x2c5)],'temp-'+(0x0,Y['v4'])()+'.mp3');if((0x0,J[_0x887d5d(0x73a)])(_0x223727)){let _0xa10ec7=new Date()['getTime'](),_0xe0fc0c=_0x223727+_0x887d5d(0x3cf)+_0xa10ec7,_0x5aede0=await Q[_0x887d5d(0x4b7)]['get'](_0xe0fc0c,{'responseType':'arraybuffer'});k[_0x887d5d(0x8cf)](_0x55f27f,_0x5aede0[_0x887d5d(0x2b3)]);}else{let _0x59989a=Buffer['from'](_0x223727,_0x887d5d(0x47a));k[_0x887d5d(0x8cf)](_0x55f27f,_0x59989a);}return new Promise((_0x91a615,_0x45a839)=>{const _0x2fec18=_0x887d5d;(0x0,Fe[_0x2fec18(0x868)])(Ps[_0x2fec18(0x4b7)][_0x2fec18(0x255)]+_0x2fec18(0x4a3)+_0x55f27f+_0x2fec18(0x8c8)+_0x300a69+'\x20-y',_0x3aa54f=>{const _0x3cb33d=_0x2fec18;if(k[_0x3cb33d(0x721)](_0x55f27f),_0x3aa54f){this[_0x3cb33d(0x39f)][_0x3cb33d(0x1d7)](this[_0x3cb33d(0x7fe)]+'\x20('+this[_0x3cb33d(0x3fc)][_0x3cb33d(0x860)]+_0x3cb33d(0x6ec)),_0x45a839(_0x3aa54f);return;}this[_0x3cb33d(0x39f)][_0x3cb33d(0x1d7)](this[_0x3cb33d(0x7fe)]+'\x20('+this[_0x3cb33d(0x3fc)]['wuid']+_0x3cb33d(0x8ee)),_0x91a615(_0x300a69);});});}async['convertaudioMP3'](_0x4724ae){const _0x19284f=a0_0x1bb7e5;this['logger']['verbose'](this[_0x19284f(0x7fe)]+'\x20('+this[_0x19284f(0x3fc)][_0x19284f(0x860)]+_0x19284f(0x88b));let _0x3a5a8b=(0x0,ne[_0x19284f(0x5db)])('sha256')[_0x19284f(0x726)](_0x4724ae)[_0x19284f(0x6a7)](_0x19284f(0x6e1)),_0x44770e=''+(0x0,j[_0x19284f(0x518)])(this[_0x19284f(0x2c5)],_0x3a5a8b+_0x19284f(0x7f8));if(k[_0x19284f(0x4d4)](_0x44770e))return this[_0x19284f(0x39f)][_0x19284f(0x1d7)](this[_0x19284f(0x7fe)]+'\x20('+this[_0x19284f(0x3fc)][_0x19284f(0x860)]+_0x19284f(0x272)),j['default']['basename'](_0x44770e);let _0x3a61f2=''+(0x0,j['join'])(this[_0x19284f(0x2c5)],_0x19284f(0x72d)+_0x3a5a8b+_0x19284f(0x81e));if((0x0,J['isURL'])(_0x4724ae)){let _0x40b014=new Date()[_0x19284f(0x391)](),_0x19906f=_0x4724ae+_0x19284f(0x3cf)+_0x40b014,_0x3288cb=await Q[_0x19284f(0x4b7)][_0x19284f(0x8a5)](_0x19906f,{'responseType':_0x19284f(0x1a4)});k[_0x19284f(0x8cf)](_0x3a61f2,_0x3288cb[_0x19284f(0x2b3)]);}else{let _0x158b71=Buffer['from'](_0x4724ae,'base64');k[_0x19284f(0x8cf)](_0x3a61f2,_0x158b71);}return new Promise((_0x1526ee,_0x3b6ec5)=>{const _0x2043a8=_0x19284f;(0x0,Fe[_0x2043a8(0x868)])(Ps[_0x2043a8(0x4b7)][_0x2043a8(0x255)]+_0x2043a8(0x4a3)+_0x3a61f2+_0x2043a8(0x46f)+_0x44770e+_0x2043a8(0x567),_0x56817f=>{const _0x7f2b6f=_0x2043a8;if(k[_0x7f2b6f(0x721)](_0x3a61f2),_0x56817f){this[_0x7f2b6f(0x39f)]['verbose'](this[_0x7f2b6f(0x7fe)]+'\x20('+this[_0x7f2b6f(0x3fc)]['wuid']+_0x7f2b6f(0x6ec)),_0x3b6ec5(_0x56817f);return;}this[_0x7f2b6f(0x39f)][_0x7f2b6f(0x1d7)](this[_0x7f2b6f(0x7fe)]+'\x20('+this[_0x7f2b6f(0x3fc)][_0x7f2b6f(0x860)]+_0x7f2b6f(0x8ee)),_0x1526ee(j[_0x7f2b6f(0x4b7)][_0x7f2b6f(0x649)](_0x44770e));});});}async['buttonMessage'](_0x26c5d4){const _0x522086=a0_0x1bb7e5;console[_0x522086(0x493)](_0x522086(0x548),_0x26c5d4);let _0xfdf7a8;try{_0x26c5d4[_0x522086(0x4a7)]?.[_0x522086(0x3bf)]&&(_0xfdf7a8=await this['prepareMediaMessage']({'mediatype':'image','media':_0x26c5d4[_0x522086(0x4a7)][_0x522086(0x3bf)]}));}catch(_0x4a4bda){throw console[_0x522086(0x834)]('Error\x20in\x20prepareMediaMessage:',_0x4a4bda),new Error('Failed\x20to\x20prepare\x20media\x20message');}try{let _0x3a521e={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x522086(0x23f)},'footer':{'text':_0x522086(0x64f)},'header':((()=>{const _0x180489=_0x522086;if(_0xfdf7a8?.[_0x180489(0x865)]?.['imageMessage'])return{'hasMediaAttachment':!!_0xfdf7a8['message'][_0x180489(0x669)],'imageMessage':_0xfdf7a8['message'][_0x180489(0x669)]};})()),'nativeFlowMessage':{'buttons':[{'name':_0x522086(0x236),'buttonParamsJson':JSON[_0x522086(0x84a)]({'display_text':'Botão\x201','id':'1'})},{'name':_0x522086(0x236),'buttonParamsJson':JSON['stringify']({'display_text':_0x522086(0x2c9),'id':'2'})}],'messageParamsJson':JSON[_0x522086(0x84a)]({'from':'api','templateId':_0x522086(0x309)+(0x0,ne['randomBytes'])(0x12)[_0x522086(0x684)](_0x522086(0x6e1))[_0x522086(0x204)]()})}}}}};return await this['sendMessageWithTypingButtons'](_0x26c5d4[_0x522086(0x90d)],_0x3a521e,_0x26c5d4?.[_0x522086(0x725)]);}catch(_0x541752){throw console[_0x522086(0x834)]('Error\x20in\x20buttonsMessage\x20function:',_0x541752),new Error(_0x522086(0x6e4));}}async['locationMessage'](_0x52820d){const _0x1ffd3d=a0_0x1bb7e5;return await this['sendMessageWithRetry'](_0x52820d[_0x1ffd3d(0x90d)],{'locationMessage':{'degreesLatitude':_0x52820d['locationMessage'][_0x1ffd3d(0x7dd)],'degreesLongitude':_0x52820d[_0x1ffd3d(0x694)]['longitude'],'name':_0x52820d[_0x1ffd3d(0x694)]?.[_0x1ffd3d(0x8f0)],'address':_0x52820d[_0x1ffd3d(0x694)]?.[_0x1ffd3d(0x38c)]}},_0x52820d?.[_0x1ffd3d(0x725)]);}async[a0_0x1bb7e5(0x18b)](_0x495b47){const _0x2928d5=a0_0x1bb7e5;let _0x17a2fc={},_0x433d45=async _0x1a82cb=>{const _0x207284=a0_0x5772;let _0x409288='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x1a82cb['fullName']+_0x207284(0x3a0)+_0x1a82cb['fullName']+'\x0a';_0x1a82cb[_0x207284(0x8cb)]&&(_0x409288+=_0x207284(0x5a5)+_0x1a82cb['organization']+';\x0a'),_0x1a82cb[_0x207284(0x4e0)]&&(_0x409288+=_0x207284(0x4c7)+_0x1a82cb[_0x207284(0x4e0)]+'\x0a'),_0x1a82cb[_0x207284(0x8dc)]&&(_0x409288+=_0x207284(0x258)+_0x1a82cb[_0x207284(0x8dc)]+'\x0a');let _0x4a12ac='',_0x3fc256=0x1;if(_0x1a82cb['phoneNumber']){let _0x1f356f=_0x1a82cb[_0x207284(0x3ce)][_0x207284(0x53e)]('|');for(let _0x6ccdad of _0x1f356f){let _0x920eff=await this[_0x207284(0x596)]({'numbers':[_0x6ccdad]}),_0x327162=(_0x920eff[_0x207284(0x1e1)]>0x0?_0x920eff[0x0]['jid']:this['createJid'](_0x6ccdad))[_0x207284(0x40f)]('@s.whatsapp.net','');_0x4a12ac+=_0x207284(0x462)+_0x3fc256+_0x207284(0x29d)+_0x327162+':'+_0x6ccdad+'\x0aitem'+_0x3fc256+_0x207284(0x7d8),_0x3fc256++;}}return _0x409288+=_0x4a12ac+'END:VCARD',_0x409288;};return _0x495b47[_0x2928d5(0x18b)][_0x2928d5(0x1e1)]===0x1?_0x17a2fc[_0x2928d5(0x18b)]={'displayName':_0x495b47['contactMessage'][0x0][_0x2928d5(0x343)],'vcard':await _0x433d45(_0x495b47['contactMessage'][0x0])}:_0x17a2fc[_0x2928d5(0x7d4)]={'displayName':_0x495b47[_0x2928d5(0x18b)][_0x2928d5(0x1e1)]+_0x2928d5(0x5cd),'contacts':await Promise['all'](_0x495b47[_0x2928d5(0x18b)][_0x2928d5(0x7b7)](async _0xf25eb5=>({'displayName':_0xf25eb5[_0x2928d5(0x343)],'vcard':await _0x433d45(_0xf25eb5)})))},await this['sendMessageWithRetry'](_0x495b47['number'],{..._0x17a2fc},_0x495b47?.[_0x2928d5(0x725)]);}async[a0_0x1bb7e5(0x1fe)](_0x3feba3){const _0x3c1ffc=a0_0x1bb7e5;return await this[_0x3c1ffc(0x1d9)](_0x3feba3[_0x3c1ffc(0x1fe)][_0x3c1ffc(0x5bc)]['remoteJid'],{'reactionMessage':{'key':_0x3feba3[_0x3c1ffc(0x1fe)]['key'],'text':_0x3feba3[_0x3c1ffc(0x1fe)][_0x3c1ffc(0x8a9)]}});}async[a0_0x1bb7e5(0x596)](_0x3b72f8){const _0x2a4c2c=a0_0x1bb7e5;let _0x172783=[];for await(let _0x1e6f88 of _0x3b72f8[_0x2a4c2c(0x643)]){let _0x546a42=this[_0x2a4c2c(0x545)](_0x1e6f88),_0x41eeeb=!0x1;try{if((0x0,w['isJidGroup'])(_0x546a42)){let _0x400067=(await this['repository'][_0x2a4c2c(0x4cc)][_0x2a4c2c(0x1fa)]({'where':{'_id':_0x546a42}},this[_0x2a4c2c(0x3fc)][_0x2a4c2c(0x860)]))[_0x2a4c2c(0x2c2)];_0x400067?(_0x41eeeb=!0x0,_0x172783[_0x2a4c2c(0x62c)](new ue(_0x400067['id'],_0x41eeeb,_0x400067?.[_0x2a4c2c(0x645)]))):(_0x400067=await this[_0x2a4c2c(0x364)]({'groupJid':_0x546a42},_0x2a4c2c(0x3d6)),_0x172783['push'](new ue(_0x400067['id'],!!_0x400067?.['id'],_0x400067?.[_0x2a4c2c(0x645)])));}else{if(_0x546a42[_0x2a4c2c(0x460)](_0x2a4c2c(0x52d)))_0x172783[_0x2a4c2c(0x62c)](new ue(_0x546a42,!0x0));else{let _0x57c367=(await this[_0x2a4c2c(0x680)][_0x2a4c2c(0x61c)](_0x546a42))[0x0];_0x172783[_0x2a4c2c(0x62c)](new ue(_0x57c367[_0x2a4c2c(0x6c0)],_0x57c367[_0x2a4c2c(0x49c)]));}}}catch{(0x0,w[_0x2a4c2c(0x29b)])(_0x546a42)||await this['deleteImportedChat'](_0x546a42),_0x172783[_0x2a4c2c(0x62c)](new ue(_0x1e6f88,!0x1));}}return _0x172783;}async[a0_0x1bb7e5(0x592)](_0x47fbcd){const _0x4d110b=a0_0x1bb7e5;try{await this['repository'][_0x4d110b(0x4cc)][_0x4d110b(0x1fa)]({'where':{'_id':_0x47fbcd,'imported':!0x0}},this['instance'][_0x4d110b(0x860)])&&(await this[_0x4d110b(0x1da)][_0x4d110b(0x4cc)]['deleteChat'](_0x47fbcd,this[_0x4d110b(0x3fc)][_0x4d110b(0x860)]),this[_0x4d110b(0x39f)][_0x4d110b(0x6b1)](_0x4d110b(0x18e)+_0x47fbcd+_0x4d110b(0x801)));}catch(_0x3e6b6c){let _0x481dde=_0x4d110b(0x77e),_0x5182c4=_0x3e6b6c instanceof Error?_0x3e6b6c[_0x4d110b(0x865)]:typeof _0x3e6b6c==_0x4d110b(0x8d4)?JSON[_0x4d110b(0x84a)](_0x3e6b6c):_0x3e6b6c,_0x579b92=_0x481dde+':\x20'+_0x5182c4;this['logger'][_0x4d110b(0x834)](this[_0x4d110b(0x7fe)]+'\x20('+this[_0x4d110b(0x3fc)][_0x4d110b(0x860)]+'):\x20'+_0x579b92);}}async[a0_0x1bb7e5(0x82b)](_0x2d8ce0){const _0x23010d=a0_0x1bb7e5;try{let _0x2d28fc=_0x2d8ce0['readMessages'][_0x23010d(0x67b)](_0x4d29dc=>(0x0,w[_0x23010d(0x29b)])(_0x4d29dc[_0x23010d(0x6d1)])||(0x0,w['isJidUser'])(_0x4d29dc[_0x23010d(0x6d1)]))[_0x23010d(0x7b7)](_0x5800e0=>({'remoteJid':_0x5800e0['remoteJid'],'fromMe':_0x5800e0[_0x23010d(0x1ef)],'id':_0x5800e0['id']}));await this['client'][_0x23010d(0x395)](_0x2d28fc);let _0x2054cf=_0x2d28fc[_0x23010d(0x7b7)](_0x199e58=>this['updateMessage'](_0x199e58,{'status':_0x23010d(0x2d3),'owner':this['instance'][_0x23010d(0x860)]})),_0x1e31a0=_0x2d28fc[_0x23010d(0x7b7)](_0x5950e3=>this[_0x23010d(0x1da)][_0x23010d(0x4cc)][_0x23010d(0x3dd)]({'where':{'_id':_0x5950e3[_0x23010d(0x6d1)]}},{'unreadcount':0x0},this[_0x23010d(0x3fc)][_0x23010d(0x860)])),[_0xbb1d10,_0x2b48d1]=await Promise[_0x23010d(0x21b)]([Promise[_0x23010d(0x21b)](_0x2054cf),Promise['all'](_0x1e31a0)]);return _0x2b48d1[_0x23010d(0x67b)](_0x5654e2=>_0x5654e2!==null)[_0x23010d(0x70b)](_0x4159d1=>{const _0x4f3838=_0x23010d;F(this[_0x4f3838(0x7fe)],_0x4f3838(0x25b),{'chat':_0x4159d1});}),{'message':_0x23010d(0x1fb),'read':_0x23010d(0x4cb)};}catch(_0xaef001){let _0x3d07e9=_0x23010d(0x604),_0x1cff15=_0xaef001 instanceof Error?_0xaef001[_0x23010d(0x865)]:typeof _0xaef001=='object'?JSON[_0x23010d(0x84a)](_0xaef001):_0xaef001,_0x3092da=_0x3d07e9+':\x20'+_0x1cff15;throw this[_0x23010d(0x39f)]['error'](this[_0x23010d(0x7fe)]+'\x20('+this[_0x23010d(0x3fc)][_0x23010d(0x860)]+_0x23010d(0x69d)+_0x3092da),new x(_0x3092da);}}async[a0_0x1bb7e5(0x76b)](_0x4c77c8){const _0x5b6e70=a0_0x1bb7e5;let _0x506897={'where':{'key':{'remoteJid':_0x4c77c8}},'limit':0x1},_0x13f09b=await this[_0x5b6e70(0x57e)](_0x506897);return _0x13f09b||(this[_0x5b6e70(0x39f)][_0x5b6e70(0x834)]('Last\x20message\x20not\x20found\x20for\x20number:\x20'+_0x4c77c8),null);}async['archiveChat'](_0x5efefa){const _0x59bec7=a0_0x1bb7e5;this[_0x59bec7(0x39f)][_0x59bec7(0x1d7)](this['instanceName']+'\x20('+this[_0x59bec7(0x3fc)][_0x59bec7(0x860)]+_0x59bec7(0x7a1));try{let _0x496c28=_0x5efefa['lastMessage'],_0x44b193=_0x5efefa[_0x59bec7(0x4cc)];if(!_0x496c28&&_0x44b193?_0x496c28=await this[_0x59bec7(0x76b)](_0x44b193):(_0x496c28=_0x5efefa[_0x59bec7(0x296)],_0x496c28['messageTimestamp']=_0x496c28?.['messageTimestamp']??Date[_0x59bec7(0x559)](),_0x44b193=_0x496c28?.[_0x59bec7(0x5bc)]?.[_0x59bec7(0x6d1)]),!_0x496c28||Object['keys'](_0x496c28)[_0x59bec7(0x1e1)]===0x0)throw new U('Last\x20message\x20not\x20found');this[_0x59bec7(0x39f)][_0x59bec7(0x1d7)](this[_0x59bec7(0x7fe)]+'\x20('+this['instance']['wuid']+_0x59bec7(0x5bd)+_0x44b193);try{await this[_0x59bec7(0x680)][_0x59bec7(0x861)]({'archive':_0x5efefa[_0x59bec7(0x70c)],'lastMessages':[_0x496c28]},this[_0x59bec7(0x545)](_0x44b193));}catch(_0x19c988){let _0x3eea48='Error\x20in\x20chatModify\x20for\x20number\x20'+_0x44b193,_0x529a42=_0x19c988 instanceof Error?_0x19c988[_0x59bec7(0x865)]:typeof _0x19c988=='object'?JSON['stringify'](_0x19c988):_0x19c988,_0x42d8a9=_0x3eea48+':\x20'+_0x529a42;this[_0x59bec7(0x39f)][_0x59bec7(0x834)](this[_0x59bec7(0x7fe)]+'\x20('+this['instance'][_0x59bec7(0x860)]+_0x59bec7(0x69d)+_0x42d8a9);}this[_0x59bec7(0x39f)]['verbose'](this[_0x59bec7(0x7fe)]+'\x20('+this[_0x59bec7(0x3fc)][_0x59bec7(0x860)]+_0x59bec7(0x8e2)+_0x44b193);let _0x58407b=await this[_0x59bec7(0x1da)][_0x59bec7(0x4cc)][_0x59bec7(0x3dd)]({'where':{'_id':_0x496c28?.[_0x59bec7(0x5bc)]?.[_0x59bec7(0x6d1)]}},{'archived':_0x5efefa['archive']},this[_0x59bec7(0x3fc)][_0x59bec7(0x860)]);return _0x58407b?(this[_0x59bec7(0x39f)][_0x59bec7(0x1d7)](this[_0x59bec7(0x7fe)]+'\x20('+this[_0x59bec7(0x3fc)]['wuid']+_0x59bec7(0x527)+JSON[_0x59bec7(0x84a)](_0x58407b)),F(this[_0x59bec7(0x7fe)],_0x59bec7(0x25b),{'chat':_0x58407b})):this[_0x59bec7(0x39f)][_0x59bec7(0x834)](this['instanceName']+'\x20('+this[_0x59bec7(0x3fc)]['wuid']+_0x59bec7(0x3d7)+_0x44b193),{'chatId':_0x44b193,'archived':_0x5efefa[_0x59bec7(0x70c)]};}catch(_0x460469){let _0x1db743='Erro\x20ao\x20arquivar\x20chat',_0x348526=_0x460469 instanceof Error?_0x460469[_0x59bec7(0x865)]:typeof _0x460469==_0x59bec7(0x8d4)?JSON[_0x59bec7(0x84a)](_0x460469):_0x460469,_0x642b13=_0x1db743+':\x20'+_0x348526;throw this[_0x59bec7(0x39f)]['error'](this['instanceName']+'\x20('+this[_0x59bec7(0x3fc)][_0x59bec7(0x860)]+'):\x20'+_0x642b13),new x(_0x642b13);}}async['deleteChat'](_0x3efa45){const _0x7f6563=a0_0x1bb7e5;this[_0x7f6563(0x39f)][_0x7f6563(0x1d7)](this[_0x7f6563(0x7fe)]+'\x20('+this['instance']['wuid']+_0x7f6563(0x44d));try{let _0x54dd80=await this[_0x7f6563(0x76b)](_0x3efa45);if(!_0x54dd80||Object['keys'](_0x54dd80)[_0x7f6563(0x1e1)]===0x0)throw new U(_0x7f6563(0x184));let _0x20d9b8=_0x54dd80[0x0];this[_0x7f6563(0x39f)][_0x7f6563(0x1d7)](this[_0x7f6563(0x7fe)]+'\x20('+this[_0x7f6563(0x3fc)]['wuid']+_0x7f6563(0x630)+_0x3efa45);try{await this[_0x7f6563(0x680)]['chatModify']({'delete':!0x0,'lastMessages':[{'key':_0x20d9b8[_0x7f6563(0x5bc)],'messageTimestamp':_0x20d9b8['messageTimestamp']}]},this[_0x7f6563(0x545)](_0x3efa45));}catch(_0x93b4c2){this['logger']['error'](_0x7f6563(0x1ac)+_0x3efa45+':\x20'+_0x93b4c2['toString']());}this[_0x7f6563(0x39f)][_0x7f6563(0x1d7)](this[_0x7f6563(0x7fe)]+'\x20('+this[_0x7f6563(0x3fc)]['wuid']+_0x7f6563(0x8e2)+_0x3efa45);return;}catch(_0xef9751){throw this[_0x7f6563(0x39f)][_0x7f6563(0x834)](this[_0x7f6563(0x7fe)]+'\x20('+this[_0x7f6563(0x3fc)][_0x7f6563(0x860)]+_0x7f6563(0x27d)+_0xef9751[_0x7f6563(0x684)]()),new x({'archived':!0x1,'message':[_0x7f6563(0x5ea),_0xef9751[_0x7f6563(0x684)]()]});}}async[a0_0x1bb7e5(0x3e9)](_0x24b837){const _0x4f139d=a0_0x1bb7e5;try{let _0xd240fa=await this['client']['sendMessage'](_0x24b837[_0x4f139d(0x6d1)],{'delete':_0x24b837});try{let _0x51f7f3=await this[_0x4f139d(0x608)](_0x24b837,{'status':_0x4f139d(0x665),'owner':this[_0x4f139d(0x3fc)][_0x4f139d(0x860)]});this[_0x4f139d(0x39f)][_0x4f139d(0x1d7)](this['instanceName']+'\x20('+this[_0x4f139d(0x3fc)]['wuid']+_0x4f139d(0x81b)+_0x51f7f3);}catch(_0x4b342f){this[_0x4f139d(0x39f)]['error'](_0x4f139d(0x46e)+_0x4b342f);}return _0xd240fa;}catch(_0x480b47){throw new x('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x480b47?.[_0x4f139d(0x684)]());}}async[a0_0x1bb7e5(0x720)](_0x416553){const _0x9d9907=a0_0x1bb7e5;try{let _0x320b30=_0x416553?.['message']?_0x416553:await this[_0x9d9907(0x64c)](_0x416553[_0x9d9907(0x5bc)],!0x0);for(let _0x195352 of Na)_0x320b30[_0x9d9907(0x865)][_0x195352]&&(_0x320b30[_0x9d9907(0x865)]=_0x320b30[_0x9d9907(0x865)][_0x195352][_0x9d9907(0x865)]);let _0x3c42d0,_0x381dcb;for(let _0x1f8f9b of va)if(_0x3c42d0=_0x320b30[_0x9d9907(0x865)][_0x1f8f9b],_0x3c42d0){_0x381dcb=_0x1f8f9b;break;}if(!_0x3c42d0)throw _0x9d9907(0x5a3);typeof _0x3c42d0['mediaKey']=='object'&&(_0x320b30[_0x9d9907(0x865)]=JSON['parse'](JSON[_0x9d9907(0x84a)](_0x320b30[_0x9d9907(0x865)])));let _0x4b8304=await(0x0,w[_0x9d9907(0x573)])({'key':_0x320b30?.[_0x9d9907(0x5bc)],'message':_0x320b30?.['message']},_0x9d9907(0x2d0),{},{'logger':(0x0,Ft[_0x9d9907(0x4b7)])({'level':_0x9d9907(0x4ed)}),'reuploadRequest':this['client'][_0x9d9907(0x30f)]});if(!(_0x4b8304 instanceof Buffer))throw new Error(_0x9d9907(0x1a8));let _0x29b02f=this[_0x9d9907(0x3bc)][_0x9d9907(0x8a5)](_0x9d9907(0x7da)),_0x31e93f,_0x40d53d;if(_0x3c42d0['fileName'])_0x31e93f=_0x3c42d0[_0x9d9907(0x5a6)];else{let _0x437ba0=_0x3c42d0[_0x9d9907(0x8c6)]?.[_0x9d9907(0x5ca)](/\/(\w+)/),_0x46150c=_0x437ba0?_0x437ba0[0x1]:null;if(!_0x46150c)throw new Error(_0x9d9907(0x299));_0x31e93f=(0x0,Y['v4'])()+'.'+_0x46150c;}_0x381dcb===_0x9d9907(0x70d)?_0x40d53d=_0x9d9907(0x890)+await this[_0x9d9907(0x39a)](_0x4b8304['toString'](_0x9d9907(0x47a))):(await this['saveMediaToFile'](_0x4b8304,_0x31e93f),_0x40d53d='/media/'+_0x31e93f);let _0x10b6b5=this[_0x9d9907(0x3bc)]['get'](_0x9d9907(0x687))[_0x9d9907(0x859)];if(!_0x10b6b5){let _0xd996e2=this[_0x9d9907(0x3bc)]['get'](_0x9d9907(0x427));_0x10b6b5='https://'+(_0xd996e2&&_0xd996e2['FULLCHAIN'][_0x9d9907(0x53e)]('/')[0x4]);}_0x40d53d=''+_0x10b6b5+_0x40d53d;let _0x11e790=0xc*0x3c*0x3c*0x3e8,_0x411cb4={'where':{'_id':_0x320b30[_0x9d9907(0x5bc)]['id']}},_0x5976f3={'message_normalized.fileUrl':_0x40d53d,'message_normalized.expires_fileUrl':Date[_0x9d9907(0x559)]()+_0x11e790};try{let _0x320804=await this[_0x9d9907(0x1da)][_0x9d9907(0x865)][_0x9d9907(0x726)](_0x411cb4,_0x5976f3,this[_0x9d9907(0x3fc)][_0x9d9907(0x860)]);_0x320804&&F(this[_0x9d9907(0x7fe)],_0x9d9907(0x50e),{'message':_0x320804});}catch(_0x214675){let _0x5654ba=_0x9d9907(0x459),_0x545768=_0x214675 instanceof Error?_0x214675['message']:typeof _0x214675==_0x9d9907(0x8d4)?JSON[_0x9d9907(0x84a)](_0x214675):_0x214675,_0x2167e7=_0x5654ba+':\x20'+_0x545768;this[_0x9d9907(0x39f)]['error'](this[_0x9d9907(0x7fe)]+'\x20('+this[_0x9d9907(0x3fc)][_0x9d9907(0x860)]+_0x9d9907(0x69d)+_0x2167e7);}return{'mediaType':_0x381dcb,'fileName':_0x3c42d0[_0x9d9907(0x5a6)],'caption':_0x3c42d0[_0x9d9907(0x6fa)],'size':{'fileLength':_0x3c42d0['fileLength'],'height':_0x3c42d0[_0x9d9907(0x5ab)],'width':_0x3c42d0['width']},'mimetype':_0x3c42d0['mimetype'],'base64':_0x4b8304[_0x9d9907(0x684)](_0x9d9907(0x47a)),'fileUrl':_0x40d53d,'expires_fileUrl':Date[_0x9d9907(0x559)]()+_0x11e790};}catch(_0x2df27d){let _0x623e35=_0x9d9907(0x557),_0x45debf=_0x2df27d instanceof Error?_0x2df27d['message']:typeof _0x2df27d==_0x9d9907(0x8d4)?JSON[_0x9d9907(0x84a)](_0x2df27d):_0x2df27d,_0x11a96a=_0x623e35+':\x20'+_0x45debf;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x9d9907(0x3fc)]['wuid']+_0x9d9907(0x69d)+_0x11a96a),new m(_0x11a96a);}}async[a0_0x1bb7e5(0x3a9)](_0x2895d5,_0x5ec49c){const _0x89578e=a0_0x1bb7e5;let _0x14ec75=j[_0x89578e(0x4b7)][_0x89578e(0x518)](__dirname,'downloads');k['existsSync'](_0x14ec75)||k[_0x89578e(0x831)](_0x14ec75,{'recursive':!0x0});let _0x30d594=j['default'][_0x89578e(0x518)](_0x14ec75,_0x5ec49c);return new Promise((_0x2a98b4,_0x5a35ec)=>{const _0x795bb5=_0x89578e;k[_0x795bb5(0x765)](_0x30d594,_0x2895d5,_0x3ddfaa=>{const _0x2b88b8=_0x795bb5;_0x3ddfaa?(this[_0x2b88b8(0x39f)][_0x2b88b8(0x834)]('Error\x20writing\x20file:\x20'+(_0x3ddfaa instanceof Error?_0x3ddfaa[_0x2b88b8(0x865)]:JSON[_0x2b88b8(0x84a)](_0x3ddfaa,null,0x2))),_0x5a35ec(_0x3ddfaa)):(this['logger'][_0x2b88b8(0x493)](_0x2b88b8(0x647)+_0x30d594),_0x2a98b4(_0x30d594));});});}async[a0_0x1bb7e5(0x3e7)](_0x63fae9){const _0x13f483=a0_0x1bb7e5;return await this[_0x13f483(0x1da)]['contact']['find'](_0x63fae9,this[_0x13f483(0x3fc)][_0x13f483(0x860)]);}async[a0_0x1bb7e5(0x728)](){const _0x44df7f=a0_0x1bb7e5;return await this[_0x44df7f(0x1da)][_0x44df7f(0x21a)][_0x44df7f(0x42f)]({'where':{}},this[_0x44df7f(0x3fc)]['wuid']);}async[a0_0x1bb7e5(0x57e)](_0x3ff5c7){const _0x16e5ab=a0_0x1bb7e5;return await this[_0x16e5ab(0x1da)][_0x16e5ab(0x865)][_0x16e5ab(0x42f)](_0x3ff5c7,this[_0x16e5ab(0x3fc)][_0x16e5ab(0x860)]);}async[a0_0x1bb7e5(0x43c)](){const _0x404bf2=a0_0x1bb7e5;return this[_0x404bf2(0x1da)][_0x404bf2(0x4cc)][_0x404bf2(0x2f4)](this['instance']['wuid']),this['repository'][_0x404bf2(0x4cc)]['updateMissingEtiquetas'](this[_0x404bf2(0x3fc)][_0x404bf2(0x860)]),this[_0x404bf2(0x1da)][_0x404bf2(0x4cc)][_0x404bf2(0x5b2)](this['instance'][_0x404bf2(0x860)]),this[_0x404bf2(0x1da)][_0x404bf2(0x4cc)][_0x404bf2(0x877)](this[_0x404bf2(0x3fc)]['wuid']),await this[_0x404bf2(0x1da)][_0x404bf2(0x4cc)][_0x404bf2(0x42f)]({'where':{}},this[_0x404bf2(0x3fc)][_0x404bf2(0x860)]);}async[a0_0x1bb7e5(0x805)](_0x5b48d3){const _0x34e6fd=a0_0x1bb7e5;try{if(!Array[_0x34e6fd(0x3ec)](_0x5b48d3)||_0x5b48d3[_0x34e6fd(0x1e1)]===0x0)throw new Error(_0x34e6fd(0x4c6));let _0x2a2066=[],_0x51f785=[];for(let _0x3988f5 of _0x5b48d3){if(_0x3988f5['_id'])_0x3988f5['_id']=this['createJid'](_0x3988f5[_0x34e6fd(0x2c4)]);else continue;await this[_0x34e6fd(0x1da)][_0x34e6fd(0x4cc)]['findOne']({'where':{'_id':_0x3988f5['_id']}},this[_0x34e6fd(0x3fc)][_0x34e6fd(0x860)])?_0x51f785['push']({'_id':_0x3988f5['_id'],'leadInfo':_0x3988f5[_0x34e6fd(0x866)],'owner':this[_0x34e6fd(0x3fc)][_0x34e6fd(0x860)]}):_0x2a2066[_0x34e6fd(0x62c)]({'_id':_0x3988f5[_0x34e6fd(0x2c4)],'owner':this['instance']['wuid'],'leadInfo':_0x3988f5[_0x34e6fd(0x866)],'imported':!0x0});}return _0x51f785[_0x34e6fd(0x1e1)]>0x0&&await this['repository'][_0x34e6fd(0x4cc)][_0x34e6fd(0x8bd)](_0x51f785[_0x34e6fd(0x7b7)](_0x3ee03b=>({'query':{'where':{'_id':_0x3ee03b[_0x34e6fd(0x2c4)],'owner':this['instance']['wuid']}},'update':_0x3ee03b}))),_0x2a2066[_0x34e6fd(0x1e1)]>0x0&&await this[_0x34e6fd(0x1da)][_0x34e6fd(0x4cc)][_0x34e6fd(0x7f9)](_0x2a2066,this[_0x34e6fd(0x3fc)][_0x34e6fd(0x860)]),{'updated':_0x51f785['length'],'inserted':_0x2a2066[_0x34e6fd(0x1e1)]};}catch(_0x5d5eb1){let _0x3938a1='Erro\x20ao\x20importar\x20chats',_0x3eafca=_0x5d5eb1 instanceof Error?_0x5d5eb1[_0x34e6fd(0x865)]:typeof _0x5d5eb1=='object'?JSON[_0x34e6fd(0x84a)](_0x5d5eb1):_0x5d5eb1,_0x2873ad=_0x3938a1+':\x20'+_0x3eafca;throw this[_0x34e6fd(0x39f)][_0x34e6fd(0x834)](this[_0x34e6fd(0x7fe)]+'\x20('+this[_0x34e6fd(0x3fc)]['wuid']+_0x34e6fd(0x69d)+_0x2873ad),new m(_0x2873ad);}}async['importChats'](_0x5aac49){const _0x467f60=a0_0x1bb7e5;try{if(!Array[_0x467f60(0x3ec)](_0x5aac49)||_0x5aac49['length']===0x0)throw new Error(_0x467f60(0x4c6));let _0x3d9fd2=0x64,_0x5158e9=0x0;for(let _0xafe343=0x0;_0xafe343<_0x5aac49[_0x467f60(0x1e1)];_0xafe343+=_0x3d9fd2){let _0xeb28f2=_0x5aac49[_0x467f60(0x2bb)](_0xafe343,_0xafe343+_0x3d9fd2),{updated:_0x50d080}=await this[_0x467f60(0x8f8)](_0xeb28f2);_0x5158e9+=_0x50d080;}return{'updated':_0x5158e9};}catch(_0x55fbb6){let _0x15cbbf=_0x467f60(0x4c3),_0x5d0801=_0x55fbb6 instanceof Error?_0x55fbb6[_0x467f60(0x865)]:typeof _0x55fbb6==_0x467f60(0x8d4)?JSON['stringify'](_0x55fbb6):_0x55fbb6,_0x55efdb=_0x15cbbf+':\x20'+_0x5d0801;throw this[_0x467f60(0x39f)]['error'](this[_0x467f60(0x7fe)]+'\x20('+this[_0x467f60(0x3fc)][_0x467f60(0x860)]+_0x467f60(0x69d)+_0x55efdb),new m(_0x55efdb);}}async['importChatsBatch'](_0x3958a5){const _0x210ea3=a0_0x1bb7e5;try{let _0x3219f1=await this[_0x210ea3(0x1da)]['label'][_0x210ea3(0x42f)]({'where':{}},this['instance']['wuid']),_0x40012d=new Set(_0x3219f1[_0x210ea3(0x7b7)](_0xc3b272=>_0xc3b272[_0x210ea3(0x2c4)])),_0x27d9d0=[],_0x433856=[];for(let _0x499c79 of _0x3958a5){if(!_0x499c79['_id'])continue;_0x499c79[_0x210ea3(0x2c4)]=this[_0x210ea3(0x545)](_0x499c79[_0x210ea3(0x2c4)]);let _0x25d3bc=await this[_0x210ea3(0x1da)]['chat']['findOne']({'where':{'_id':_0x499c79[_0x210ea3(0x2c4)]}},this['instance'][_0x210ea3(0x860)]),_0x52e427={};if(Object[_0x210ea3(0x6d7)](_0x499c79[_0x210ea3(0x866)])[_0x210ea3(0x70b)](([_0x31951c,_0x216b0a])=>{const _0x307531=_0x210ea3;_0x52e427[_0x307531(0x7ab)+_0x31951c]=_0x216b0a;}),_0x25d3bc&&!_0x25d3bc[_0x210ea3(0x796)]){let _0x179903=(_0x499c79['leadInfo'][_0x210ea3(0x5e3)]||[])['filter'](_0x52bd72=>_0x40012d[_0x210ea3(0x4f9)](_0x52bd72)),_0x3d161f=new Set(_0x25d3bc[_0x210ea3(0x866)][_0x210ea3(0x5e3)]||[]),_0x2ac63e=_0x179903[_0x210ea3(0x67b)](_0x71dae5=>!_0x3d161f[_0x210ea3(0x4f9)](_0x71dae5)),_0x26effd=[..._0x3d161f][_0x210ea3(0x67b)](_0x5b0dab=>!_0x179903[_0x210ea3(0x460)](_0x5b0dab));_0x433856[_0x210ea3(0x62c)](..._0x2ac63e[_0x210ea3(0x7b7)](_0x2dc40e=>this['AddChatLabel'](_0x2dc40e,_0x499c79[_0x210ea3(0x2c4)]))),_0x433856[_0x210ea3(0x62c)](..._0x26effd['map'](_0x59f589=>this[_0x210ea3(0x1eb)](_0x59f589,_0x499c79[_0x210ea3(0x2c4)]))),_0x499c79[_0x210ea3(0x866)][_0x210ea3(0x5e3)]=_0x179903,_0x27d9d0[_0x210ea3(0x62c)]({'query':{'where':{'_id':_0x499c79[_0x210ea3(0x2c4)],'owner':this[_0x210ea3(0x3fc)][_0x210ea3(0x860)]}},'update':_0x52e427});}else _0x52e427['imported']=!0x0,_0x27d9d0['push']({'query':{'where':{'_id':_0x499c79[_0x210ea3(0x2c4)],'owner':this[_0x210ea3(0x3fc)][_0x210ea3(0x860)]}},'update':_0x52e427});}let _0x4e8100=await this[_0x210ea3(0x1da)][_0x210ea3(0x4cc)][_0x210ea3(0x8bd)](_0x27d9d0);return await Promise[_0x210ea3(0x21b)](_0x433856),{'updated':_0x4e8100};}catch(_0x42ac4a){let _0x28b201='Erro\x20ao\x20importar\x20chats',_0x34d225=_0x42ac4a instanceof Error?_0x42ac4a[_0x210ea3(0x865)]:typeof _0x42ac4a==_0x210ea3(0x8d4)?JSON[_0x210ea3(0x84a)](_0x42ac4a):_0x42ac4a,_0x456d70=_0x28b201+':\x20'+_0x34d225;throw this['logger'][_0x210ea3(0x834)](this[_0x210ea3(0x7fe)]+'\x20('+this[_0x210ea3(0x3fc)][_0x210ea3(0x860)]+_0x210ea3(0x69d)+_0x456d70),new m(_0x456d70);}}async[a0_0x1bb7e5(0x2d9)](){const _0x4a2940=a0_0x1bb7e5;return await this[_0x4a2940(0x680)][_0x4a2940(0x2d9)]();}async[a0_0x1bb7e5(0x842)](_0x41e312){const _0x2c31c3=a0_0x1bb7e5;try{return await this['client'][_0x2c31c3(0x7c3)](_0x41e312['privacySettings'][_0x2c31c3(0x8f9)]),await this[_0x2c31c3(0x680)][_0x2c31c3(0x7d7)](_0x41e312[_0x2c31c3(0x201)][_0x2c31c3(0x275)]),await this[_0x2c31c3(0x680)][_0x2c31c3(0x7de)](_0x41e312['privacySettings'][_0x2c31c3(0x362)]),await this['client']['updateOnlinePrivacy'](_0x41e312['privacySettings'][_0x2c31c3(0x49f)]),await this['client']['updateLastSeenPrivacy'](_0x41e312[_0x2c31c3(0x201)][_0x2c31c3(0x75a)]),await this[_0x2c31c3(0x680)][_0x2c31c3(0x1f8)](_0x41e312[_0x2c31c3(0x201)][_0x2c31c3(0x918)]),this['client']?.['ws']?.[_0x2c31c3(0x66a)](),{'update':_0x2c31c3(0x4cb),'data':{'readreceipts':_0x41e312[_0x2c31c3(0x201)][_0x2c31c3(0x8f9)],'profile':_0x41e312[_0x2c31c3(0x201)][_0x2c31c3(0x275)],'status':_0x41e312[_0x2c31c3(0x201)][_0x2c31c3(0x362)],'online':_0x41e312[_0x2c31c3(0x201)][_0x2c31c3(0x49f)],'last':_0x41e312[_0x2c31c3(0x201)]['last'],'groupadd':_0x41e312['privacySettings'][_0x2c31c3(0x918)]}};}catch(_0xf29ac5){let _0x92814e=_0x2c31c3(0x5ed),_0x24618f=_0xf29ac5 instanceof Error?_0xf29ac5[_0x2c31c3(0x865)]:typeof _0xf29ac5==_0x2c31c3(0x8d4)?JSON[_0x2c31c3(0x84a)](_0xf29ac5):_0xf29ac5,_0x555272=_0x92814e+':\x20'+_0x24618f;throw this[_0x2c31c3(0x39f)][_0x2c31c3(0x834)](this[_0x2c31c3(0x7fe)]+'\x20('+this['instance']['wuid']+_0x2c31c3(0x69d)+_0x555272),new m(_0x555272);}}async[a0_0x1bb7e5(0x266)](_0xabfd26){const _0x45f1e5=a0_0x1bb7e5;let _0x583dea=(_0xabfd26?this[_0x45f1e5(0x545)](_0xabfd26):this[_0x45f1e5(0x680)]?.['user']?.['id'])['replace'](/:\d{1,2}@/g,'@');this['logger']['verbose'](this[_0x45f1e5(0x7fe)]+'\x20('+this[_0x45f1e5(0x3fc)][_0x45f1e5(0x860)]+_0x45f1e5(0x19f)+_0x583dea);let _0x24e5e4=await this[_0x45f1e5(0x1da)][_0x45f1e5(0x802)]['findOne']({'where':{'_id':_0x583dea}},this['instance'][_0x45f1e5(0x860)]),_0x2a7612=_0x24e5e4?_0x24e5e4[_0x45f1e5(0x347)]:null;try{let _0xad44b7=(await this[_0x45f1e5(0x596)]({'numbers':[_0x583dea]}))?.[_0x45f1e5(0x239)](),_0xedc42=(await this[_0x45f1e5(0x804)](_0x583dea,null,!0x1))[_0x45f1e5(0x873)][_0x45f1e5(0x791)],_0x47d940=await this[_0x45f1e5(0x846)](_0xad44b7?.['jid']),_0xf55595=await this[_0x45f1e5(0x59e)](_0xad44b7?.[_0x45f1e5(0x6c0)]),_0x2cbfc4=(await this[_0x45f1e5(0x804)](_0x583dea,null,!0x1))[_0x45f1e5(0x873)][_0x45f1e5(0x8f0)],_0x3e052a=await this[_0x45f1e5(0x1da)][_0x45f1e5(0x4cc)][_0x45f1e5(0x1fa)]({'where':{'_id':_0x583dea}},this[_0x45f1e5(0x3fc)][_0x45f1e5(0x860)]),_0x4dcd9c={'imagechat':_0xedc42,'contactname':_0x2a7612||null,'pushName':_0x2cbfc4,'status':_0x47d940?.[_0x45f1e5(0x362)],'isBusiness':_0xf55595[_0x45f1e5(0x313)],'email':_0xf55595?.['email'],'description':_0xf55595?.[_0x45f1e5(0x2de)],'website':_0xf55595?.[_0x45f1e5(0x5d4)]?.[_0x45f1e5(0x239)](),'lastcache':Date[_0x45f1e5(0x559)](),'imported':!_0x3e052a},_0x20ff04=await this['repository'][_0x45f1e5(0x4cc)][_0x45f1e5(0x3dd)]({'where':{'_id':_0x583dea}},_0x4dcd9c,this[_0x45f1e5(0x3fc)][_0x45f1e5(0x860)]),_0x3b944e={'owner':this[_0x45f1e5(0x3fc)]['wuid'],'_id':_0x583dea,'profilePictureUrl':_0xedc42,'status':_0x47d940?.['status']};return this[_0x45f1e5(0x1da)]['contact'][_0x45f1e5(0x726)]([_0x3b944e],this['instance'][_0x45f1e5(0x860)]),_0x20ff04&&F(this[_0x45f1e5(0x7fe)],_0x45f1e5(0x25b),{'chat':_0x20ff04}),{'wuid':_0xad44b7?.[_0x45f1e5(0x6c0)]||_0x583dea,'name':_0xad44b7?.['name'],'pushName':_0x2cbfc4,'numberExists':_0xad44b7?.[_0x45f1e5(0x49c)],'picture':_0xedc42,'status':_0x47d940?.['status'],'isBusiness':_0xf55595['isBusiness'],'email':_0xf55595?.[_0x45f1e5(0x4e0)],'description':_0xf55595?.['description'],'website':_0xf55595?.[_0x45f1e5(0x5d4)]?.[_0x45f1e5(0x239)]()};}catch(_0x1319b4){return this[_0x45f1e5(0x39f)]['error'](_0x45f1e5(0x1ad)+(_0x1319b4 instanceof Error?_0x1319b4[_0x45f1e5(0x865)]:JSON[_0x45f1e5(0x84a)](_0x1319b4,null,0x2))),{};}}async[a0_0x1bb7e5(0x59e)](_0x141948){const _0x3a471a=a0_0x1bb7e5;this[_0x3a471a(0x39f)]['verbose'](this[_0x3a471a(0x7fe)]+'\x20('+this[_0x3a471a(0x3fc)][_0x3a471a(0x860)]+_0x3a471a(0x736));try{let _0x1bec68=_0x141948?this[_0x3a471a(0x545)](_0x141948):this[_0x3a471a(0x3fc)][_0x3a471a(0x860)],_0x3a9458=await this['client']['getBusinessProfile'](_0x1bec68);return this[_0x3a471a(0x39f)][_0x3a471a(0x1d7)](this[_0x3a471a(0x7fe)]+'\x20('+this[_0x3a471a(0x3fc)]['wuid']+_0x3a471a(0x899)),_0x3a9458?(this[_0x3a471a(0x39f)][_0x3a471a(0x1d7)](this['instanceName']+'\x20('+this[_0x3a471a(0x3fc)]['wuid']+_0x3a471a(0x27a)),{'isBusiness':!0x0,..._0x3a9458}):{'isBusiness':!0x1,'message':_0x3a471a(0x450),...(await this['whatsappNumber']({'numbers':[_0x1bec68]}))?.[_0x3a471a(0x239)]()};}catch(_0xf994cf){let _0x447de5=_0x3a471a(0x3ba),_0x425de6=_0xf994cf instanceof Error?_0xf994cf[_0x3a471a(0x865)]:typeof _0xf994cf==_0x3a471a(0x8d4)?JSON[_0x3a471a(0x84a)](_0xf994cf):_0xf994cf,_0x3c2c42=_0x447de5+':\x20'+_0x425de6;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x3a471a(0x3fc)][_0x3a471a(0x860)]+'):\x20'+_0x3c2c42),new x(_0x3c2c42);}}async['getStatus'](_0xa8e5b6){const _0x841d40=a0_0x1bb7e5;let _0x257f8b=this[_0x841d40(0x545)](_0xa8e5b6);try{return{'wuid':_0x257f8b,'status':(await this[_0x841d40(0x680)][_0x841d40(0x740)](_0x257f8b))[0x0]?.['status']};}catch{return{'wuid':_0x257f8b,'status':null};}}async[a0_0x1bb7e5(0x4b9)](_0x571ea2){const _0x4bc790=a0_0x1bb7e5;try{return await this[_0x4bc790(0x680)][_0x4bc790(0x4b9)](_0x571ea2),{'update':_0x4bc790(0x4cb)};}catch(_0x51bbb0){let _0x31a997='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName',_0x4dfa6f=_0x51bbb0 instanceof Error?_0x51bbb0['message']:typeof _0x51bbb0==_0x4bc790(0x8d4)?JSON[_0x4bc790(0x84a)](_0x51bbb0):_0x51bbb0,_0x9d881a=_0x31a997+':\x20'+_0x4dfa6f;throw this[_0x4bc790(0x39f)][_0x4bc790(0x834)](this[_0x4bc790(0x7fe)]+'\x20('+this[_0x4bc790(0x3fc)][_0x4bc790(0x860)]+_0x4bc790(0x69d)+_0x9d881a),new x(_0x9d881a);}}async[a0_0x1bb7e5(0x5b0)](_0xb44645){const _0x286526=a0_0x1bb7e5;try{return await this[_0x286526(0x680)][_0x286526(0x5b0)](_0xb44645),{'update':_0x286526(0x4cb)};}catch(_0x267af6){let _0x1c9cba=_0x286526(0x7e5),_0x2da129=_0x267af6 instanceof Error?_0x267af6[_0x286526(0x865)]:typeof _0x267af6==_0x286526(0x8d4)?JSON[_0x286526(0x84a)](_0x267af6):_0x267af6,_0x3d1583=_0x1c9cba+':\x20'+_0x2da129;throw this[_0x286526(0x39f)][_0x286526(0x834)](this[_0x286526(0x7fe)]+'\x20('+this[_0x286526(0x3fc)]['wuid']+'):\x20'+_0x3d1583),new x(_0x3d1583);}}async[a0_0x1bb7e5(0x8a2)](_0xfa9df2){const _0x4f3988=a0_0x1bb7e5;try{let _0x493f8f;if((0x0,J[_0x4f3988(0x73a)])(_0xfa9df2)){let _0x1a3271=new Date()[_0x4f3988(0x391)](),_0x53a50a=_0xfa9df2+_0x4f3988(0x3cf)+_0x1a3271;_0x493f8f=(await Q[_0x4f3988(0x4b7)][_0x4f3988(0x8a5)](_0x53a50a,{'responseType':'arraybuffer'}))[_0x4f3988(0x2b3)];}else{if((0x0,J[_0x4f3988(0x44f)])(_0xfa9df2))_0x493f8f=Buffer['from'](_0xfa9df2,_0x4f3988(0x47a));else throw new m(_0x4f3988(0x566));}return await this['client']['updateProfilePicture'](this[_0x4f3988(0x3fc)][_0x4f3988(0x860)],_0x493f8f),{'update':'success'};}catch(_0x3e1561){let _0x549352='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture',_0x1cc12d=_0x3e1561 instanceof Error?_0x3e1561[_0x4f3988(0x865)]:typeof _0x3e1561==_0x4f3988(0x8d4)?JSON['stringify'](_0x3e1561):_0x3e1561,_0x28f6ae=_0x549352+':\x20'+_0x1cc12d;throw this[_0x4f3988(0x39f)][_0x4f3988(0x834)](this[_0x4f3988(0x7fe)]+'\x20('+this[_0x4f3988(0x3fc)][_0x4f3988(0x860)]+_0x4f3988(0x69d)+_0x28f6ae),new x(_0x28f6ae);}}async['removeProfilePicture'](){const _0x21d73a=a0_0x1bb7e5;try{return await this[_0x21d73a(0x680)][_0x21d73a(0x5dc)](this[_0x21d73a(0x3fc)]['wuid']),{'update':_0x21d73a(0x4cb)};}catch(_0x156da0){let _0x3c28f0=_0x21d73a(0x2b7),_0x947be3=_0x156da0 instanceof Error?_0x156da0[_0x21d73a(0x865)]:typeof _0x156da0=='object'?JSON[_0x21d73a(0x84a)](_0x156da0):_0x156da0,_0x3f679a=_0x3c28f0+':\x20'+_0x947be3;throw this['logger'][_0x21d73a(0x834)](this[_0x21d73a(0x7fe)]+'\x20('+this['instance'][_0x21d73a(0x860)]+_0x21d73a(0x69d)+_0x3f679a),new x(_0x3f679a);}}async[a0_0x1bb7e5(0x67d)](_0x5e2a60){const _0x17ead4=a0_0x1bb7e5;try{let _0x431cb7=(await this[_0x17ead4(0x596)]({'numbers':_0x5e2a60['participants']}))[_0x17ead4(0x67b)](_0x57cf11=>_0x57cf11[_0x17ead4(0x49c)])['map'](_0x4c07a7=>_0x4c07a7[_0x17ead4(0x6c0)]),{id:_0x15cb29}=await this['client'][_0x17ead4(0x2cc)](_0x5e2a60[_0x17ead4(0x645)],_0x431cb7);_0x5e2a60?.[_0x17ead4(0x2de)]&&await this[_0x17ead4(0x680)][_0x17ead4(0x80a)](_0x15cb29,_0x5e2a60[_0x17ead4(0x2de)]);let _0x22cc84=await this[_0x17ead4(0x680)][_0x17ead4(0x8fe)](_0x15cb29);return _0x22cc84['awaitingApproval']=[],await this[_0x17ead4(0x1d1)](_0x22cc84),{'metadata':_0x22cc84};}catch(_0x157d2a){let _0x2e9f74=_0x17ead4(0x544),_0x4e0d33=_0x157d2a instanceof Error?_0x157d2a[_0x17ead4(0x865)]:typeof _0x157d2a=='object'?JSON['stringify'](_0x157d2a):_0x157d2a,_0x3663d3=_0x2e9f74+':\x20'+_0x4e0d33;throw this[_0x17ead4(0x39f)][_0x17ead4(0x834)](this['instanceName']+'\x20('+this['instance'][_0x17ead4(0x860)]+_0x17ead4(0x69d)+_0x3663d3),new x(_0x3663d3);}}async[a0_0x1bb7e5(0x5a1)](_0x44cfdc){const _0xbb12cd=a0_0x1bb7e5;try{if(_0x44cfdc[_0xbb12cd(0x269)]===!0x0&&await this[_0xbb12cd(0x680)][_0xbb12cd(0x79c)](_0x44cfdc[_0xbb12cd(0x7a3)],_0xbb12cd(0x2c6)),_0x44cfdc['restrict']===!0x1&&await this[_0xbb12cd(0x680)][_0xbb12cd(0x79c)](_0x44cfdc[_0xbb12cd(0x7a3)],_0xbb12cd(0x553)),_0x44cfdc[_0xbb12cd(0x8a4)]===!0x0&&await this[_0xbb12cd(0x680)][_0xbb12cd(0x79c)](_0x44cfdc[_0xbb12cd(0x7a3)],'announcement'),_0x44cfdc[_0xbb12cd(0x8a4)]===!0x1&&await this[_0xbb12cd(0x680)][_0xbb12cd(0x79c)](_0x44cfdc['groupJid'],_0xbb12cd(0x58e)),_0x44cfdc[_0xbb12cd(0x24b)]===!0x0&&await this[_0xbb12cd(0x680)][_0xbb12cd(0x74c)](_0x44cfdc['groupJid'],_0xbb12cd(0x7b5)),_0x44cfdc['memberAddMode']===!0x1&&await this[_0xbb12cd(0x680)][_0xbb12cd(0x74c)](_0x44cfdc[_0xbb12cd(0x7a3)],_0xbb12cd(0x18d)),_0x44cfdc['joinApprovalMode']===!0x0&&await this[_0xbb12cd(0x680)][_0xbb12cd(0x843)](_0x44cfdc[_0xbb12cd(0x7a3)],'on'),_0x44cfdc[_0xbb12cd(0x87c)]===!0x1&&await this[_0xbb12cd(0x680)]['groupJoinApprovalMode'](_0x44cfdc[_0xbb12cd(0x7a3)],_0xbb12cd(0x6e2)),typeof _0x44cfdc[_0xbb12cd(0x354)]<'u'&&_0x44cfdc[_0xbb12cd(0x354)]!==null&&await this[_0xbb12cd(0x680)][_0xbb12cd(0x772)](_0x44cfdc[_0xbb12cd(0x7a3)],_0x44cfdc[_0xbb12cd(0x354)]),_0x44cfdc[_0xbb12cd(0x8f0)]&&await this[_0xbb12cd(0x680)][_0xbb12cd(0x6fd)](_0x44cfdc[_0xbb12cd(0x7a3)],_0x44cfdc[_0xbb12cd(0x8f0)]),_0x44cfdc[_0xbb12cd(0x2de)]&&await this[_0xbb12cd(0x680)]['groupUpdateDescription'](_0x44cfdc[_0xbb12cd(0x7a3)],_0x44cfdc[_0xbb12cd(0x2de)]),_0x44cfdc[_0xbb12cd(0x4f5)]){let _0x10504b;if((0x0,J['isURL'])(_0x44cfdc[_0xbb12cd(0x4f5)])){let _0x4ea549=new Date()[_0xbb12cd(0x391)](),_0x59ad9e=_0x44cfdc[_0xbb12cd(0x4f5)]+_0xbb12cd(0x3cf)+_0x4ea549;_0x10504b=(await Q[_0xbb12cd(0x4b7)][_0xbb12cd(0x8a5)](_0x59ad9e,{'responseType':_0xbb12cd(0x1a4)}))[_0xbb12cd(0x2b3)];}else{if((0x0,J[_0xbb12cd(0x44f)])(_0x44cfdc[_0xbb12cd(0x4f5)]))_0x10504b=Buffer[_0xbb12cd(0x71c)](_0x44cfdc[_0xbb12cd(0x4f5)],_0xbb12cd(0x47a));else throw new m(_0xbb12cd(0x566));}await this[_0xbb12cd(0x680)][_0xbb12cd(0x8a2)](_0x44cfdc[_0xbb12cd(0x7a3)],_0x10504b);}return await this[_0xbb12cd(0x364)]({'groupJid':_0x44cfdc[_0xbb12cd(0x7a3)]});}catch(_0x3a4434){let _0x1df258=_0xbb12cd(0x3b5),_0x5be92c=_0x3a4434 instanceof Error?_0x3a4434[_0xbb12cd(0x865)]:typeof _0x3a4434=='object'?JSON['stringify'](_0x3a4434):_0x3a4434,_0x17f68f=_0x1df258+':\x20'+_0x5be92c;throw this['logger'][_0xbb12cd(0x834)](this[_0xbb12cd(0x7fe)]+'\x20('+this[_0xbb12cd(0x3fc)]['wuid']+_0xbb12cd(0x69d)+_0x17f68f),new x(_0x17f68f);}}async[a0_0x1bb7e5(0x83b)](_0x1e34e4){const _0x11b7d4=a0_0x1bb7e5;try{let _0x3d3bf8=_0x1e34e4[_0x11b7d4(0x463)]['map'](_0x2eee71=>this['createJid'](_0x2eee71));if(_0x1e34e4[_0x11b7d4(0x517)]===_0x11b7d4(0x588)||_0x1e34e4[_0x11b7d4(0x517)]==='reject')await this['client'][_0x11b7d4(0x89a)](_0x1e34e4[_0x11b7d4(0x7a3)],_0x3d3bf8,_0x1e34e4[_0x11b7d4(0x517)]);else{if(_0x1e34e4[_0x11b7d4(0x517)]===_0x11b7d4(0x4d2)){let _0x1fb92f=(await this['whatsappNumber']({'numbers':_0x1e34e4[_0x11b7d4(0x463)]}))[_0x11b7d4(0x67b)](_0x106e3d=>_0x106e3d[_0x11b7d4(0x49c)])['map'](_0x468843=>this[_0x11b7d4(0x545)](_0x468843[_0x11b7d4(0x6c0)]));if(_0x1fb92f[_0x11b7d4(0x1e1)]===0x0)throw new m(_0x11b7d4(0x2a5));await this[_0x11b7d4(0x680)]['groupParticipantsUpdate'](_0x1e34e4[_0x11b7d4(0x7a3)],_0x1fb92f,'add');}else await this[_0x11b7d4(0x680)]['groupParticipantsUpdate'](_0x1e34e4[_0x11b7d4(0x7a3)],_0x3d3bf8,_0x1e34e4[_0x11b7d4(0x517)]);}return await this[_0x11b7d4(0x364)]({'groupJid':_0x1e34e4[_0x11b7d4(0x7a3)]});}catch(_0x299aab){let _0x42e243=_0x11b7d4(0x63b),_0x5ffd21=_0x299aab instanceof Error?_0x299aab[_0x11b7d4(0x865)]:typeof _0x299aab=='object'?JSON[_0x11b7d4(0x84a)](_0x299aab):_0x299aab,_0x1f993a=_0x42e243+':\x20'+_0x5ffd21;throw this[_0x11b7d4(0x39f)][_0x11b7d4(0x834)](this[_0x11b7d4(0x7fe)]+'\x20('+this[_0x11b7d4(0x3fc)][_0x11b7d4(0x860)]+_0x11b7d4(0x69d)+_0x1f993a),new m(_0x1f993a);}}async[a0_0x1bb7e5(0x1c9)](_0x1f06e0){const _0x23a6c0=a0_0x1bb7e5;try{return await this[_0x23a6c0(0x680)][_0x23a6c0(0x1c9)](_0x1f06e0[_0x23a6c0(0x58d)]);}catch(_0x1f5f9c){let _0x49031b='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo',_0x58b35e=_0x1f5f9c instanceof Error?_0x1f5f9c[_0x23a6c0(0x865)]:typeof _0x1f5f9c=='object'?JSON[_0x23a6c0(0x84a)](_0x1f5f9c):_0x1f5f9c,_0x3c973f=_0x49031b+':\x20'+_0x58b35e;throw this[_0x23a6c0(0x39f)][_0x23a6c0(0x834)](this[_0x23a6c0(0x7fe)]+'\x20('+this['instance']['wuid']+_0x23a6c0(0x69d)+_0x3c973f),new m(_0x3c973f);}}async[a0_0x1bb7e5(0x364)](_0x2c85f6,_0x11ef99=a0_0x1bb7e5(0x1f6)){const _0xfbf02c=a0_0x1bb7e5;try{let _0x30c262=await this[_0xfbf02c(0x1da)]['chat']['findOne']({'where':{'_id':_0x2c85f6[_0xfbf02c(0x7a3)]}},this[_0xfbf02c(0x3fc)]['wuid']),_0x7af6eb=_0x30c262?_0x30c262[_0xfbf02c(0x2c2)]:null,_0x4e3867=0x18*0x3c*0x3c*0x3e8;if(!_0x7af6eb||_0x7af6eb[_0xfbf02c(0x33f)]&&Date['now']()-_0x7af6eb[_0xfbf02c(0x33f)]>_0x4e3867){let _0x5cad08=await this[_0xfbf02c(0x680)][_0xfbf02c(0x8fe)](_0x2c85f6['groupJid']);if(_0x5cad08[_0xfbf02c(0x5dd)]=_0x5cad08?.[_0xfbf02c(0x5dd)]&&_0x5cad08[_0xfbf02c(0x5dd)][_0xfbf02c(0x684)]()[_0xfbf02c(0x1e1)]<0xd?_0x5cad08?.[_0xfbf02c(0x5dd)]*0x3e8:_0x5cad08?.[_0xfbf02c(0x5dd)]||null,_0x5cad08[_0xfbf02c(0x24c)]=_0x5cad08?.['creation']&&_0x5cad08['creation'][_0xfbf02c(0x684)]()[_0xfbf02c(0x1e1)]<0xd?_0x5cad08?.[_0xfbf02c(0x24c)]*0x3e8:_0x5cad08?.['creation']||null,_0x7af6eb={..._0x5cad08,'lastUpdate':Date['now']()},!_0x5cad08)return;}let _0x3a0ced=_0x7af6eb[_0xfbf02c(0x463)]?.[_0xfbf02c(0x8c3)](_0x21b681=>_0x21b681['id']===this[_0xfbf02c(0x3fc)][_0xfbf02c(0x860)]+_0xfbf02c(0x650)&&_0x21b681[_0xfbf02c(0x5c5)]!=null)||!0x1;!_0x7af6eb[_0xfbf02c(0x58d)]&&_0x3a0ced&&(_0x7af6eb[_0xfbf02c(0x58d)]=(await this['inviteCode'](_0x2c85f6,!0x1))[_0xfbf02c(0x36a)]);let _0x49d98b=(!_0x7af6eb['announce']||_0x3a0ced)&&(!_0x7af6eb[_0xfbf02c(0x227)]||_0x3a0ced);_0x7af6eb[_0xfbf02c(0x7d5)]=_0x3a0ced,_0x7af6eb['canSendMessage']=_0x49d98b;let _0x39dde9=[];if(_0x3a0ced&&_0x7af6eb['joinApprovalMode'])try{_0x39dde9=await this[_0xfbf02c(0x680)][_0xfbf02c(0x6c8)](_0x2c85f6[_0xfbf02c(0x7a3)]),_0x7af6eb[_0xfbf02c(0x265)]=Date[_0xfbf02c(0x559)]();}catch(_0x19141f){this[_0xfbf02c(0x39f)][_0xfbf02c(0x1d7)](this['instanceName']+'\x20('+this[_0xfbf02c(0x3fc)]['wuid']+_0xfbf02c(0x616)+_0x2c85f6[_0xfbf02c(0x7a3)]+':\x20'+(_0x19141f instanceof Error?_0x19141f[_0xfbf02c(0x865)]:JSON[_0xfbf02c(0x84a)](_0x19141f,null,0x2)));}try{_0x7af6eb[_0xfbf02c(0x4f5)]=(await this['findAndUpdateCacheContact'](_0x2c85f6[_0xfbf02c(0x7a3)],null,!0x0))[_0xfbf02c(0x873)][_0xfbf02c(0x791)];}catch(_0x34198c){this['logger'][_0xfbf02c(0x1d7)](this['instanceName']+'\x20('+this[_0xfbf02c(0x3fc)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x2c85f6[_0xfbf02c(0x7a3)]+':\x20'+(_0x34198c instanceof Error?_0x34198c[_0xfbf02c(0x865)]:JSON['stringify'](_0x34198c,null,0x2)));}let _0x15b450=_0x7af6eb[_0xfbf02c(0x463)]['map'](_0x4a5022=>_0x4a5022['id']),_0x26d83d=_0x39dde9[_0xfbf02c(0x7b7)](_0x276553=>_0x276553[_0xfbf02c(0x6c0)]),_0xf0c51e=await this['repository'][_0xfbf02c(0x879)][_0xfbf02c(0x2d5)]([..._0x15b450,..._0x26d83d]);_0x7af6eb[_0xfbf02c(0x463)]=_0x7af6eb[_0xfbf02c(0x463)][_0xfbf02c(0x7b7)](_0x2e5def=>{const _0x3f9a99=_0xfbf02c;let _0x19eb1a=_0xf0c51e['find'](_0x4efb8a=>_0x4efb8a[_0x3f9a99(0x2c4)]===_0x2e5def['id']);return{'id':_0x2e5def['id'],'isAdmin':[_0x3f9a99(0x5c5),_0x3f9a99(0x738)][_0x3f9a99(0x460)](_0x2e5def['admin']),'admin':_0x2e5def[_0x3f9a99(0x5c5)],'pushName':_0x19eb1a?.[_0x3f9a99(0x8f0)],'profilePictureUrl':_0x19eb1a?.['pictureUrl']};}),_0x7af6eb[_0xfbf02c(0x7bd)]=_0x39dde9[_0xfbf02c(0x7b7)](_0x24ae6d=>{const _0x394256=_0xfbf02c;let _0x3a83a3=_0xf0c51e[_0x394256(0x42f)](_0x21ae92=>_0x21ae92[_0x394256(0x2c4)]===_0x24ae6d['jid']);return{'id':_0x24ae6d[_0x394256(0x6c0)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x3a83a3?.[_0x394256(0x8f0)],'profilePictureUrl':_0x3a83a3?.['pictureUrl'],'request_method':_0x24ae6d[_0x394256(0x83f)],'request_time':_0x24ae6d[_0x394256(0x411)]};});let _0x1a30da=await this[_0xfbf02c(0x1da)][_0xfbf02c(0x4cc)]['updateOne']({'where':{'_id':_0x2c85f6['groupJid']}},{'imagechat':_0x7af6eb[_0xfbf02c(0x4f5)],'name':_0x7af6eb['subject'],'lastcache':Date[_0xfbf02c(0x559)](),'groupdata':_0x7af6eb},this[_0xfbf02c(0x3fc)]['wuid']);return F(this[_0xfbf02c(0x7fe)],_0xfbf02c(0x25b),{'chat':_0x1a30da}),{'metadata':_0x7af6eb};}catch(_0x24a8e6){if(_0x11ef99===_0xfbf02c(0x3d6))return;throw new U('Error\x20fetching\x20group',_0x24a8e6['message'][_0xfbf02c(0x684)]());}}async['findGroups'](){const _0x47ca4a=a0_0x1bb7e5;try{this['logger'][_0x47ca4a(0x6b1)](_0x47ca4a(0x58b));let _0x21960a=Date[_0x47ca4a(0x559)](),_0x936a6=0x3*0x3c*0x3c*0x3e8;return _0x21960a-this[_0x47ca4a(0x471)]>_0x936a6&&(this[_0x47ca4a(0x1bf)](),this[_0x47ca4a(0x471)]=_0x21960a),(await this[_0x47ca4a(0x1da)][_0x47ca4a(0x4cc)]['findGroupsEspecial']({'where':{'group':!0x0}},this[_0x47ca4a(0x3fc)][_0x47ca4a(0x860)]))[_0x47ca4a(0x7b7)](_0x5865df=>({..._0x5865df[_0x47ca4a(0x2c2)],'groupJid':_0x5865df?.[_0x47ca4a(0x2c4)],'participants':_0x5865df?.[_0x47ca4a(0x2c2)]?.[_0x47ca4a(0x463)]||[],'awaitingApproval':_0x5865df?.['groupdata']?.['awaitingApproval']||[],'image':_0x5865df?.[_0x47ca4a(0x5c9)]}));}catch(_0x45a9ff){let _0x54023e=_0x47ca4a(0x31e),_0x25bef6=_0x45a9ff instanceof Error?_0x45a9ff[_0x47ca4a(0x865)]:typeof _0x45a9ff==_0x47ca4a(0x8d4)?JSON['stringify'](_0x45a9ff):_0x45a9ff,_0x50a3d2=_0x54023e+':\x20'+_0x25bef6;throw this[_0x47ca4a(0x39f)][_0x47ca4a(0x834)](this['instanceName']+'\x20('+this[_0x47ca4a(0x3fc)]['wuid']+_0x47ca4a(0x69d)+_0x50a3d2),new U(_0x50a3d2);}}async[a0_0x1bb7e5(0x1bf)](){const _0x19a88d=a0_0x1bb7e5;try{this[_0x19a88d(0x39f)][_0x19a88d(0x6b1)](_0x19a88d(0x737));let _0x30aa41=[],_0x65aa2e=await this[_0x19a88d(0x680)][_0x19a88d(0x231)](),_0x31da3a=Object['values'](_0x65aa2e);for(let _0xbb5801=0x0;_0xbb5801<_0x31da3a[_0x19a88d(0x1e1)];_0xbb5801++){let _0x1d3e2c=_0x31da3a[_0xbb5801];(0x0,w[_0x19a88d(0x29b)])(_0x1d3e2c?.['id'])&&(_0x30aa41[_0x19a88d(0x62c)]({'groupJid':_0x1d3e2c?.['id'],'subject':_0x1d3e2c?.[_0x19a88d(0x645)],'subjectOwner':_0x1d3e2c?.[_0x19a88d(0x822)]?.['split']('@')[0x0],'subjectTime':_0x1d3e2c?.['subjectTime'],'creation':_0x1d3e2c?.['creation'],'size':_0x1d3e2c?.[_0x19a88d(0x463)]?.[_0x19a88d(0x1e1)],'owner':_0x1d3e2c?.[_0x19a88d(0x435)]?.[_0x19a88d(0x53e)]('@')[0x0],'desc':_0x1d3e2c?.[_0x19a88d(0x652)],'restrict':_0x1d3e2c?.['restrict'],'announce':_0x1d3e2c?.[_0x19a88d(0x8a4)],'image':null,'isCommunity':_0x1d3e2c?.[_0x19a88d(0x227)],'joinApprovalMode':_0x1d3e2c?.[_0x19a88d(0x87c)],'memberCanAddParticipant':_0x1d3e2c?.[_0x19a88d(0x24b)],'participants':_0x1d3e2c?.[_0x19a88d(0x463)],'descOwner':_0x1d3e2c?.[_0x19a88d(0x8e1)],'descId':_0x1d3e2c?.[_0x19a88d(0x7a5)],'memberAddMode':_0x1d3e2c?.[_0x19a88d(0x24b)],'isCommunityAnnounce':_0x1d3e2c?.['isCommunityAnnounce'],'ephemeralDuration':_0x1d3e2c?.[_0x19a88d(0x384)]||0x0,'author':_0x1d3e2c?.['author']}),this['updateChatGroupData'](_0x31da3a[_0xbb5801]));}return _0x30aa41;}catch(_0x531acd){let _0x1cfa26=_0x19a88d(0x57a),_0x39852c=_0x531acd instanceof Error?_0x531acd[_0x19a88d(0x865)]:typeof _0x531acd==_0x19a88d(0x8d4)?JSON[_0x19a88d(0x84a)](_0x531acd):_0x531acd,_0x5f461a=_0x1cfa26+':\x20'+_0x39852c;throw this['logger'][_0x19a88d(0x834)](this[_0x19a88d(0x7fe)]+'\x20('+this[_0x19a88d(0x3fc)][_0x19a88d(0x860)]+'):\x20'+_0x5f461a),new U(_0x5f461a);}}async[a0_0x1bb7e5(0x1d1)](_0x34cc18){const _0x33ac2f=a0_0x1bb7e5;let _0x417b30=await this[_0x33ac2f(0x1da)][_0x33ac2f(0x4cc)]['findOne']({'where':{'_id':_0x34cc18['id']}},this[_0x33ac2f(0x3fc)][_0x33ac2f(0x860)]);if(_0x34cc18['subjectTime']=_0x34cc18?.[_0x33ac2f(0x5dd)]&&_0x34cc18[_0x33ac2f(0x5dd)][_0x33ac2f(0x684)]()[_0x33ac2f(0x1e1)]<0xd?_0x34cc18?.[_0x33ac2f(0x5dd)]*0x3e8:_0x34cc18?.[_0x33ac2f(0x5dd)]||null,_0x34cc18['creation']=_0x34cc18?.[_0x33ac2f(0x24c)]&&_0x34cc18['creation']['toString']()[_0x33ac2f(0x1e1)]<0xd?_0x34cc18?.['creation']*0x3e8:_0x34cc18?.[_0x33ac2f(0x24c)]||null,!_0x34cc18[_0x33ac2f(0x4f5)])try{_0x34cc18[_0x33ac2f(0x4f5)]=await this[_0x33ac2f(0x680)]['profilePictureUrl'](_0x34cc18['id'],_0x33ac2f(0x8ae));}catch(_0x19f218){this['logger']['verbose'](this[_0x33ac2f(0x7fe)]+'\x20('+this['instance'][_0x33ac2f(0x860)]+_0x33ac2f(0x8fc)+_0x34cc18['id']+':\x20'+(_0x19f218 instanceof Error?_0x19f218[_0x33ac2f(0x865)]:JSON['stringify'](_0x19f218,null,0x2)));}let _0x4c1d52=_0x34cc18[_0x33ac2f(0x463)]['map'](_0x46c561=>{const _0x576f75=_0x33ac2f;let _0xa81829=_0x417b30?.[_0x576f75(0x2c2)]?.[_0x576f75(0x463)]['find'](_0x2f672f=>_0x2f672f['id']===_0x46c561['id']);return{..._0x46c561,'isAdmin':[_0x576f75(0x5c5),_0x576f75(0x738)][_0x576f75(0x460)](_0x46c561['admin']),'admin':_0x46c561['admin'],'name':_0xa81829?.['name']||_0x46c561[_0x576f75(0x8f0)],'imgUrl':_0xa81829?.[_0x576f75(0x1e5)]||_0x46c561['imgUrl']};}),_0x4dd90e=_0x4c1d52['some'](_0x3e68ad=>_0x3e68ad['id']===this[_0x33ac2f(0x3fc)][_0x33ac2f(0x860)]+_0x33ac2f(0x650)&&_0x3e68ad[_0x33ac2f(0x5c5)]!=null)||!0x1,_0x233a83=(!_0x34cc18['announce']||_0x4dd90e)&&(!_0x34cc18[_0x33ac2f(0x227)]||_0x4dd90e),_0x127e15={..._0x34cc18,'participants':_0x4c1d52,'awaitingApproval':_0x417b30?.[_0x33ac2f(0x2c2)]?.[_0x33ac2f(0x7bd)]||[],'lastFetchAwaitingApproval':_0x417b30?.[_0x33ac2f(0x2c2)]?.[_0x33ac2f(0x265)],'isAdmin':_0x4dd90e,'canSendMessage':_0x233a83,'lastUpdate':Date[_0x33ac2f(0x559)]()};await this['repository'][_0x33ac2f(0x4cc)][_0x33ac2f(0x3dd)]({'where':{'_id':_0x34cc18['id']}},{'imagechat':_0x34cc18[_0x33ac2f(0x4f5)],'name':_0x34cc18[_0x33ac2f(0x645)],'group':!0x0,'groupdata':_0x127e15,'lastcache':Date['now']()},this['instance'][_0x33ac2f(0x860)]),F(this[_0x33ac2f(0x7fe)],'chats',{'chat':_0x34cc18});}async[a0_0x1bb7e5(0x289)](_0x428cd3){const _0x2418a3=a0_0x1bb7e5;let _0x26d8a6=await this[_0x2418a3(0x1da)][_0x2418a3(0x4cc)]['findOne']({'where':{'_id':_0x428cd3['id']}},this[_0x2418a3(0x3fc)][_0x2418a3(0x860)]);_0x428cd3[_0x2418a3(0x5dd)]=_0x428cd3?.['subjectTime']&&_0x428cd3[_0x2418a3(0x5dd)]['toString']()[_0x2418a3(0x1e1)]<0xd?_0x428cd3?.[_0x2418a3(0x5dd)]*0x3e8:_0x428cd3?.['subjectTime']||null,_0x428cd3[_0x2418a3(0x24c)]=_0x428cd3?.[_0x2418a3(0x24c)]&&_0x428cd3[_0x2418a3(0x24c)]['toString']()['length']<0xd?_0x428cd3?.[_0x2418a3(0x24c)]*0x3e8:_0x428cd3?.[_0x2418a3(0x24c)]||null,_0x428cd3[_0x2418a3(0x58d)]&&(_0x428cd3['inviteCode']=_0x2418a3(0x305)+_0x428cd3[_0x2418a3(0x58d)]);let _0x4dc1d9=_0x26d8a6?.[_0x2418a3(0x2c2)]?{..._0x26d8a6['groupdata']}:{};Object[_0x2418a3(0x312)](_0x428cd3)['forEach'](_0x5e4cee=>{_0x5e4cee!=='id'&&(_0x4dc1d9[_0x5e4cee]=_0x428cd3[_0x5e4cee]);});let _0x515887=_0x4dc1d9['participants']?.[_0x2418a3(0x8c3)](_0x4d4ca4=>_0x4d4ca4['id']===this[_0x2418a3(0x3fc)][_0x2418a3(0x860)]+_0x2418a3(0x650)&&_0x4d4ca4[_0x2418a3(0x5c5)]!=null)||!0x1;_0x4dc1d9[_0x2418a3(0x7d5)]=_0x515887;let _0x5a083=(!_0x4dc1d9[_0x2418a3(0x8a4)]||_0x515887)&&(!_0x4dc1d9['isCommunity']||_0x515887);_0x4dc1d9[_0x2418a3(0x72c)]=_0x5a083;let _0x323f81={'group':!0x0,'groupdata':_0x4dc1d9};_0x428cd3[_0x2418a3(0x645)]&&(_0x323f81[_0x2418a3(0x8f0)]=_0x428cd3[_0x2418a3(0x645)]),await this[_0x2418a3(0x1da)]['chat'][_0x2418a3(0x3dd)]({'where':{'_id':_0x428cd3['id']}},_0x323f81,this[_0x2418a3(0x3fc)][_0x2418a3(0x860)],{'upsert':!0x0}),F(this[_0x2418a3(0x7fe)],_0x2418a3(0x25b),{'chat':_0x323f81});}async[a0_0x1bb7e5(0x1bc)](_0x8e0c0b){const _0x1b10f8=a0_0x1bb7e5;let _0x57c349=await this[_0x1b10f8(0x1da)][_0x1b10f8(0x4cc)][_0x1b10f8(0x1fa)]({'where':{'_id':_0x8e0c0b['id']}},this[_0x1b10f8(0x3fc)]['wuid']);if(!_0x57c349||!_0x57c349[_0x1b10f8(0x2c2)]){this[_0x1b10f8(0x39f)][_0x1b10f8(0x6b1)](this[_0x1b10f8(0x7fe)]+'\x20('+this[_0x1b10f8(0x3fc)][_0x1b10f8(0x860)]+_0x1b10f8(0x598)+_0x8e0c0b['id']);return;}let _0x5e52ce=await this[_0x1b10f8(0x1da)][_0x1b10f8(0x879)][_0x1b10f8(0x2d5)](_0x8e0c0b['participants']),_0x5a6091=[..._0x57c349['groupdata']?.[_0x1b10f8(0x463)]];switch(_0x8e0c0b[_0x1b10f8(0x517)]){case _0x1b10f8(0x4d2):_0x5e52ce[_0x1b10f8(0x7b7)](_0x53005d=>({'id':_0x53005d[_0x1b10f8(0x2c4)],'isAdmin':!0x1,'name':_0x53005d[_0x1b10f8(0x8f0)],'imgUrl':_0x53005d[_0x1b10f8(0x791)]}))[_0x1b10f8(0x70b)](_0x32d495=>{const _0x587fd1=_0x1b10f8;_0x5a6091[_0x587fd1(0x8c3)](_0x4ffe7d=>_0x4ffe7d['id']===_0x32d495['id'])||(_0x5a6091[_0x587fd1(0x62c)](_0x32d495),this[_0x587fd1(0x39f)]['info']('Adicionando\x20novo\x20participante:\x20'+JSON[_0x587fd1(0x84a)](_0x32d495)));});break;case _0x1b10f8(0x404):_0x5a6091=_0x5a6091[_0x1b10f8(0x67b)](_0xfc7f50=>!_0x8e0c0b[_0x1b10f8(0x463)][_0x1b10f8(0x460)](_0xfc7f50['id']));break;case _0x1b10f8(0x505):_0x5a6091=_0x5a6091[_0x1b10f8(0x7b7)](_0x5ae91f=>_0x8e0c0b[_0x1b10f8(0x463)][_0x1b10f8(0x460)](_0x5ae91f['id'])?{..._0x5ae91f,'isAdmin':!0x0,'admin':_0x1b10f8(0x5c5)}:_0x5ae91f);break;case _0x1b10f8(0x467):_0x5a6091=_0x5a6091['map'](_0x2eb90d=>_0x8e0c0b[_0x1b10f8(0x463)][_0x1b10f8(0x460)](_0x2eb90d['id'])?{..._0x2eb90d,'isAdmin':!0x1,'admin':null}:_0x2eb90d);break;}let _0x28c31c=_0x5a6091[_0x1b10f8(0x1e1)],_0x204e77=_0x5a6091['some'](_0x2979e5=>_0x2979e5['id']===this['instance'][_0x1b10f8(0x860)]+_0x1b10f8(0x650)),_0x517b42=_0x204e77&&_0x5a6091[_0x1b10f8(0x8c3)](_0x37f709=>_0x37f709['id']===this[_0x1b10f8(0x3fc)]['wuid']+_0x1b10f8(0x650)&&_0x37f709[_0x1b10f8(0x5c5)]!=null)||!0x1,_0x2262ac=_0x204e77&&(!_0x57c349[_0x1b10f8(0x2c2)]['announce']||_0x517b42)&&(!_0x57c349[_0x1b10f8(0x2c2)]['isCommunity']||_0x517b42);await this[_0x1b10f8(0x1da)][_0x1b10f8(0x4cc)][_0x1b10f8(0x3dd)]({'where':{'_id':_0x8e0c0b['id']}},{'groupdata':{..._0x57c349[_0x1b10f8(0x2c2)],'participants':_0x5a6091,'size':_0x28c31c,'isAdmin':_0x517b42,'canSendMessage':_0x2262ac}},this[_0x1b10f8(0x3fc)][_0x1b10f8(0x860)]),this['logger'][_0x1b10f8(0x6b1)](this[_0x1b10f8(0x7fe)]+'\x20('+this['instance'][_0x1b10f8(0x860)]+_0x1b10f8(0x779)+_0x8e0c0b['id']+'\x20atualizado\x20com\x20sucesso.\x20Ação:\x20'+_0x8e0c0b[_0x1b10f8(0x517)]+',\x20Novo\x20tamanho:\x20'+_0x28c31c+_0x1b10f8(0x86b)+_0x517b42+_0x1b10f8(0x742)+_0x2262ac);}async[a0_0x1bb7e5(0x58d)](_0x8a196c,_0x237a4d=!0x0){const _0x42c651=a0_0x1bb7e5;try{let _0x4262c1=await this[_0x42c651(0x680)][_0x42c651(0x754)](_0x8a196c[_0x42c651(0x7a3)]),_0x2a1bc7={'groupdata.inviteCode':'https://chat.whatsapp.com/'+_0x4262c1};if(_0x237a4d){let _0x4feaf2=await this[_0x42c651(0x1da)][_0x42c651(0x4cc)][_0x42c651(0x3dd)]({'where':{'_id':_0x8a196c[_0x42c651(0x7a3)]}},_0x2a1bc7,this[_0x42c651(0x3fc)]['wuid']);}return{'inviteUrl':_0x42c651(0x305)+_0x4262c1,'inviteCode':_0x4262c1};}catch(_0x5c27de){let _0x212160='Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode',_0x3fe3a2=_0x5c27de instanceof Error?_0x5c27de[_0x42c651(0x865)]:typeof _0x5c27de==_0x42c651(0x8d4)?JSON[_0x42c651(0x84a)](_0x5c27de):_0x5c27de,_0x5c79e0=_0x212160+':\x20'+_0x3fe3a2;throw this[_0x42c651(0x39f)][_0x42c651(0x834)](this['instanceName']+'\x20('+this[_0x42c651(0x3fc)][_0x42c651(0x860)]+'):\x20'+_0x5c79e0),new U(_0x5c79e0);}}async[a0_0x1bb7e5(0x257)](_0x144661){const _0x20eed2=a0_0x1bb7e5;try{let _0x98764a=await this[_0x20eed2(0x680)][_0x20eed2(0x5ba)](_0x144661['groupJid']);return{'revoked':!0x0,'inviteUrl':_0x20eed2(0x305)+_0x98764a,'inviteCode':_0x98764a};}catch(_0x4a16c7){let _0x4cd7af=_0x20eed2(0x2a3),_0xc63b94=_0x4a16c7 instanceof Error?_0x4a16c7['message']:typeof _0x4a16c7=='object'?JSON['stringify'](_0x4a16c7):_0x4a16c7,_0x35e577=_0x4cd7af+':\x20'+_0xc63b94;throw this['logger']['error'](this[_0x20eed2(0x7fe)]+'\x20('+this[_0x20eed2(0x3fc)][_0x20eed2(0x860)]+_0x20eed2(0x69d)+_0x35e577),new U(_0x35e577);}}async[a0_0x1bb7e5(0x864)](_0x53a413){const _0x186828=a0_0x1bb7e5;try{if((0x0,J[_0x186828(0x73a)])(_0x53a413['inviteCode']))var _0x37ffc0=_0x53a413[_0x186828(0x58d)][_0x186828(0x53e)]('/')[0x3];else var _0x37ffc0=_0x53a413[_0x186828(0x58d)];let _0x2bd407=await this[_0x186828(0x680)]['groupAcceptInvite'](_0x37ffc0);return this[_0x186828(0x39f)][_0x186828(0x1d7)](this[_0x186828(0x7fe)]+'\x20('+this[_0x186828(0x3fc)][_0x186828(0x860)]+_0x186828(0x69d)+_0x2bd407),{'join':!0x0,'inviteCode':_0x37ffc0,'groupJid':_0x2bd407};}catch(_0x18bc5d){let _0x75bdcf=_0x186828(0x3b3),_0x510432=_0x18bc5d instanceof Error?_0x18bc5d['message']:typeof _0x18bc5d=='object'?JSON[_0x186828(0x84a)](_0x18bc5d):_0x18bc5d,_0x4de06f=_0x75bdcf+':\x20'+_0x510432;throw this[_0x186828(0x39f)][_0x186828(0x834)](this[_0x186828(0x7fe)]+'\x20('+this[_0x186828(0x3fc)][_0x186828(0x860)]+'):\x20'+_0x4de06f),new U(_0x4de06f);}}async['findParticipants'](_0x2f8ca8){const _0x4ff11d=a0_0x1bb7e5;try{return{'participants':(await this[_0x4ff11d(0x1da)][_0x4ff11d(0x4cc)][_0x4ff11d(0x1fa)]({'where':{'_id':_0x2f8ca8['groupJid']}},this[_0x4ff11d(0x3fc)]['wuid']))[_0x4ff11d(0x2c2)][_0x4ff11d(0x463)]};}catch(_0x49919d){let _0x1275f5=_0x4ff11d(0x376),_0x59c4ed=_0x49919d instanceof Error?_0x49919d[_0x4ff11d(0x865)]:typeof _0x49919d==_0x4ff11d(0x8d4)?JSON[_0x4ff11d(0x84a)](_0x49919d):_0x49919d,_0x71052f=_0x1275f5+':\x20'+_0x59c4ed;throw this['logger']['error'](this[_0x4ff11d(0x7fe)]+'\x20('+this['instance']['wuid']+_0x4ff11d(0x69d)+_0x71052f),new U(_0x71052f);}}async[a0_0x1bb7e5(0x73e)](_0x482e4e){const _0x16c73d=a0_0x1bb7e5;try{return await this[_0x16c73d(0x680)][_0x16c73d(0x412)](_0x482e4e['groupJid']),{'groupJid':_0x482e4e[_0x16c73d(0x7a3)],'leave':!0x0};}catch(_0x33b092){let _0x3ecac0=_0x16c73d(0x31d),_0x1c0529=_0x33b092 instanceof Error?_0x33b092[_0x16c73d(0x865)]:typeof _0x33b092==_0x16c73d(0x8d4)?JSON['stringify'](_0x33b092):_0x33b092,_0x292051=_0x3ecac0+':\x20'+_0x1c0529;throw this[_0x16c73d(0x39f)][_0x16c73d(0x834)](this[_0x16c73d(0x7fe)]+'\x20('+this[_0x16c73d(0x3fc)][_0x16c73d(0x860)]+_0x16c73d(0x69d)+_0x292051),new m(_0x292051);}}async[a0_0x1bb7e5(0x43e)](_0x487e25){const _0x538dd3=a0_0x1bb7e5;return await this[_0x538dd3(0x90e)](_0x487e25['number'],{'poll':{'name':_0x487e25['pollMessage']?.[_0x538dd3(0x8f0)],'selectableCount':_0x487e25[_0x538dd3(0x43e)][_0x538dd3(0x1c6)],'values':_0x487e25[_0x538dd3(0x43e)][_0x538dd3(0x32a)]}},_0x487e25?.['options']);}async['listMessage'](_0x1d9c8d){const _0x1b3189=a0_0x1bb7e5;return await this[_0x1b3189(0x90e)](_0x1d9c8d[_0x1b3189(0x90d)],{'listMessage':{'title':_0x1d9c8d[_0x1b3189(0x627)][_0x1b3189(0x3fd)],'description':_0x1d9c8d['listMessage']['description'],'buttonText':_0x1d9c8d[_0x1b3189(0x627)]?.['buttonText'],'footerText':_0x1d9c8d['listMessage']?.[_0x1b3189(0x6f8)],'sections':_0x1d9c8d[_0x1b3189(0x627)][_0x1b3189(0x3c2)],'listType':0x2}},_0x1d9c8d?.[_0x1b3189(0x725)]);}async[a0_0x1bb7e5(0x1d0)](_0x411a0b){const _0x4bf8e7=a0_0x1bb7e5;this[_0x4bf8e7(0x3fc)][_0x4bf8e7(0x313)]===void 0x0&&await this[_0x4bf8e7(0x795)]();let _0x39673d;if(_0x411a0b[_0x4bf8e7(0x1d0)][_0x4bf8e7(0x358)]===_0x4bf8e7(0x18f)||_0x411a0b[_0x4bf8e7(0x1d0)]['type']===_0x4bf8e7(0x90a)){let _0x221a40=_0x411a0b[_0x4bf8e7(0x1d0)]['text'][_0x4bf8e7(0x267)]('\x0a'),_0x15a8de='',_0x11bce3='';_0x221a40!==-0x1?(_0x15a8de=_0x411a0b[_0x4bf8e7(0x1d0)][_0x4bf8e7(0x56d)]['substring'](0x0,_0x221a40)[_0x4bf8e7(0x8ad)](),_0x11bce3=_0x411a0b[_0x4bf8e7(0x1d0)][_0x4bf8e7(0x56d)][_0x4bf8e7(0x308)](_0x221a40+0x1)):_0x11bce3=_0x411a0b[_0x4bf8e7(0x1d0)][_0x4bf8e7(0x56d)];let _0x16ec78=_0x411a0b[_0x4bf8e7(0x1d0)][_0x4bf8e7(0x74b)][_0x4bf8e7(0x67b)](_0x22f565=>_0x22f565[_0x4bf8e7(0x8ad)]()!==''),_0x2bc1a0=this[_0x4bf8e7(0x717)](_0x16ec78);_0x39673d={'listMessage':{'title':_0x15a8de,'description':_0x11bce3,'buttonText':_0x411a0b[_0x4bf8e7(0x1d0)]['buttonText']||'Selecione','footerText':_0x411a0b[_0x4bf8e7(0x1d0)][_0x4bf8e7(0x6f8)],'sections':_0x2bc1a0,'listType':0x2}};}else{if(_0x411a0b[_0x4bf8e7(0x1d0)][_0x4bf8e7(0x358)]===_0x4bf8e7(0x546)){let _0x271e3b=_0x411a0b[_0x4bf8e7(0x1d0)][_0x4bf8e7(0x74b)][_0x4bf8e7(0x67b)](_0x683503=>!(_0x683503['startsWith']('[')&&_0x683503[_0x4bf8e7(0x53b)](']'))&&_0x683503[_0x4bf8e7(0x8ad)]()!=='')[_0x4bf8e7(0x7b7)](_0x483269=>_0x483269[_0x4bf8e7(0x53e)]('\x0a')[0x0]);for(;_0x271e3b[_0x4bf8e7(0x1e1)]<0x2;)_0x271e3b[_0x4bf8e7(0x62c)](_0x4bf8e7(0x568)+(_0x271e3b['length']+0x1));_0x39673d={'poll':{'name':_0x411a0b[_0x4bf8e7(0x1d0)]['text'],'selectableCount':_0x411a0b['menuMessage'][_0x4bf8e7(0x1c6)]||0x1,'values':_0x271e3b}};}else{if(_0x411a0b[_0x4bf8e7(0x1d0)][_0x4bf8e7(0x358)]===_0x4bf8e7(0x8be)){let _0x89eb48=this[_0x4bf8e7(0x622)](_0x411a0b['menuMessage'][_0x4bf8e7(0x74b)]['filter'](_0x2332fa=>!(_0x2332fa[_0x4bf8e7(0x703)]('[')&&_0x2332fa[_0x4bf8e7(0x53b)](']'))));return _0x39673d={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x411a0b['menuMessage']['text']},'footer':_0x411a0b[_0x4bf8e7(0x1d0)]['footerText']?{'text':_0x411a0b[_0x4bf8e7(0x1d0)]['footerText']}:void 0x0,'nativeFlowMessage':{'buttons':_0x89eb48,'messageParamsJson':JSON['stringify']({'from':'api','templateId':'3EB0'+(0x0,ne[_0x4bf8e7(0x4de)])(0x12)[_0x4bf8e7(0x684)]('hex')[_0x4bf8e7(0x204)]()})}}}}},await this[_0x4bf8e7(0x1f5)](_0x411a0b['number'],_0x39673d,_0x411a0b?.[_0x4bf8e7(0x725)]);}else{if(_0x411a0b[_0x4bf8e7(0x1d0)][_0x4bf8e7(0x358)]===_0x4bf8e7(0x898)){let _0x216dae=this[_0x4bf8e7(0x61a)](_0x411a0b[_0x4bf8e7(0x1d0)][_0x4bf8e7(0x74b)]);return _0x39673d={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x411a0b[_0x4bf8e7(0x1d0)]['text']},'footer':_0x411a0b['menuMessage'][_0x4bf8e7(0x6f8)]?{'text':_0x411a0b[_0x4bf8e7(0x1d0)][_0x4bf8e7(0x6f8)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x216dae,'messageParamsJson':JSON[_0x4bf8e7(0x84a)]({'from':_0x4bf8e7(0x82c),'templateId':_0x4bf8e7(0x309)+(0x0,ne[_0x4bf8e7(0x4de)])(0x12)[_0x4bf8e7(0x684)](_0x4bf8e7(0x6e1))[_0x4bf8e7(0x204)]()})}}}}},await this['sendMessageWithTypingButtons'](_0x411a0b[_0x4bf8e7(0x90d)],_0x39673d,_0x411a0b?.[_0x4bf8e7(0x725)]);}}}}return await this[_0x4bf8e7(0x90e)](_0x411a0b[_0x4bf8e7(0x90d)],_0x39673d,_0x411a0b?.[_0x4bf8e7(0x725)]);}[a0_0x1bb7e5(0x622)](_0x35c626){const _0x171172=a0_0x1bb7e5;return _0x35c626[_0x171172(0x7b7)](_0x3c9f66=>{const _0x3332c9=_0x171172;let _0x34bcdf=_0x3c9f66['split']('\x0a')[_0x3332c9(0x7b7)](_0x3e7d38=>_0x3e7d38['trim']()),_0x15fa1a=_0x34bcdf[0x0],_0x2ca106=_0x34bcdf[0x1]||_0x15fa1a,_0x460a1d=_0x2ca106['startsWith'](_0x3332c9(0x6f1))?_0x3332c9(0x1c1):_0x3332c9(0x236);return{'name':_0x460a1d,'buttonParamsJson':JSON['stringify']({'display_text':_0x15fa1a,'id':_0x460a1d===_0x3332c9(0x236)?_0x2ca106:void 0x0,'url':_0x460a1d===_0x3332c9(0x1c1)?_0x2ca106:void 0x0})};});}['createButtonSectionsFromValues'](_0x482c29){const _0x5acab5=a0_0x1bb7e5;let _0x3c3208=[],_0x35db8e={'title':'','rows':[]};return _0x482c29[_0x5acab5(0x70b)](_0x807d63=>{const _0x57892b=_0x5acab5;if(_0x807d63[_0x57892b(0x703)]('[')&&_0x807d63[_0x57892b(0x53b)](']'))_0x35db8e[_0x57892b(0x8b3)][_0x57892b(0x1e1)]>0x0&&_0x3c3208[_0x57892b(0x62c)](_0x35db8e),_0x35db8e={'title':_0x807d63[_0x57892b(0x2bb)](0x1,-0x1),'rows':[]};else{let _0x20823f=_0x807d63[_0x57892b(0x53e)]('\x0a')[_0x57892b(0x7b7)](_0x24841c=>_0x24841c[_0x57892b(0x8ad)]()),_0x4348ad=_0x20823f[0x0],_0x42909f=_0x20823f[0x1]?_0x20823f[0x1]:void 0x0,_0x1b7412=_0x20823f[0x2]||_0x4348ad;_0x35db8e[_0x57892b(0x8b3)][_0x57892b(0x62c)]({'title':_0x4348ad,'description':_0x42909f,'id':_0x1b7412});}}),_0x35db8e[_0x5acab5(0x8b3)][_0x5acab5(0x1e1)]>0x0&&_0x3c3208['push'](_0x35db8e),[{'name':'single_select','buttonParamsJson':JSON[_0x5acab5(0x84a)]({'title':_0x5acab5(0x63e),'sections':_0x3c3208})}];}[a0_0x1bb7e5(0x717)](_0x3bf12d){const _0x5b6479=a0_0x1bb7e5;let _0x3b736a=[],_0x1ede90={'rows':[]};return _0x3bf12d['forEach'](_0x59c947=>{const _0x3937ce=a0_0x5772;if(_0x59c947[_0x3937ce(0x703)]('[')&&_0x59c947['endsWith'](']'))_0x1ede90[_0x3937ce(0x8b3)][_0x3937ce(0x1e1)]>0x0&&_0x3b736a[_0x3937ce(0x62c)](_0x1ede90),_0x1ede90={'title':_0x59c947[_0x3937ce(0x2bb)](0x1,-0x1),'rows':[]};else{let _0x42d9c4=_0x59c947['split']('\x0a')[_0x3937ce(0x7b7)](_0x4880d8=>_0x4880d8[_0x3937ce(0x8ad)]()),_0x48e751=_0x42d9c4[0x0],_0x144416=_0x42d9c4[0x1]||null,_0x3dc632=_0x42d9c4[0x2]||_0x48e751;_0x1ede90[_0x3937ce(0x8b3)][_0x3937ce(0x62c)]({'title':_0x48e751,'description':_0x144416,'rowId':_0x3dc632});}}),_0x1ede90['rows']['length']>0x0&&_0x3b736a[_0x5b6479(0x62c)](_0x1ede90),_0x3b736a;}async[a0_0x1bb7e5(0x608)](_0x10fb7b,_0x1bc743){const _0x3ccbd7=a0_0x1bb7e5;if(await this[_0x3ccbd7(0x64c)](_0x10fb7b,!0x0)){let _0x2bcc25={'where':{'_id':_0x10fb7b['id']}},_0x37ac4c={'status':[_0x1bc743[_0x3ccbd7(0x362)]][0x0]};try{let _0x17452c=await this[_0x3ccbd7(0x1da)][_0x3ccbd7(0x865)]['update'](_0x2bcc25,_0x37ac4c,this['instance'][_0x3ccbd7(0x860)]);_0x17452c&&F(this[_0x3ccbd7(0x7fe)],_0x3ccbd7(0x50e),{'message':_0x17452c});}catch{}}}['sectionsToString'](_0x5eb11c){const _0x2c4059=a0_0x1bb7e5;let _0x4e1f87=[];return _0x5eb11c[_0x2c4059(0x70b)](_0x28e2a7=>{const _0x8fcecb=_0x2c4059;_0x28e2a7[_0x8fcecb(0x3fd)]&&_0x4e1f87[_0x8fcecb(0x62c)]('['+_0x28e2a7[_0x8fcecb(0x3fd)]+']'),_0x28e2a7[_0x8fcecb(0x8b3)][_0x8fcecb(0x70b)](_0x542f5b=>{const _0x9177bc=_0x8fcecb;_0x4e1f87[_0x9177bc(0x62c)](_0x542f5b[_0x9177bc(0x3fd)]);});}),_0x4e1f87[_0x2c4059(0x518)]('|');}[a0_0x1bb7e5(0x7cc)](_0x41d33d){const _0x2f6f74=a0_0x1bb7e5;let _0x2f8e05=_0x41d33d[_0x2f6f74(0x40f)](/\\n/g,'\x0a')[_0x2f6f74(0x53e)]('\x0a')[_0x2f6f74(0x67b)](_0x467714=>_0x467714[_0x2f6f74(0x460)]('TEL')||_0x467714[_0x2f6f74(0x460)](_0x2f6f74(0x7ad))),_0x19f079='';return _0x2f8e05[_0x2f6f74(0x70b)](_0x326ad0=>{const _0xd9533d=_0x2f6f74;let _0x1333b5=/TEL(?:.*):(.+)/,_0x2874d5=/EMAIL(?:.*):(.+)/,_0x23ea61=_0x326ad0['match'](_0x1333b5),_0x5517d9=_0x326ad0['match'](_0x2874d5);if(_0x23ea61){let _0xada1f2=_0x23ea61[0x1][_0xd9533d(0x40f)](/-| |\+|\(|\)/g,'')[_0xd9533d(0x8ad)]();_0x19f079+=_0xd9533d(0x1c3)+_0xada1f2+'\x0a';}else{if(_0x5517d9){let _0x3b4449=_0x5517d9[0x1]['trim']();_0x19f079+=_0xd9533d(0x715)+_0x3b4449+'\x0a';}}}),_0x19f079['trim']();}async[a0_0x1bb7e5(0x3cb)](_0xaad225,_0x1d608a,_0x11ed3e,_0x29916c=null){const _0x39638d=a0_0x1bb7e5;if(_0xaad225[_0x39638d(0x2ab)])try{let _0x5e0dcd=_0x1d608a[_0x39638d(0x5bc)][_0x39638d(0x6d1)][_0x39638d(0x40f)](/:\d{1,2}@/g,'@'),_0x22e1a2=_0x1d608a[_0x39638d(0x5bc)]['fromMe'],_0x333919=_0x5e0dcd[_0x39638d(0x53b)]('@g.us'),_0x207c55=_0x1d608a[_0x39638d(0x220)]?.[_0x39638d(0x40f)](/:\d{1,2}@/g,'@')||'',_0x1830fb=_0x1d608a[_0x39638d(0x366)]?.[_0x39638d(0x56d)]||_0x1d608a[_0x39638d(0x366)]?.[_0x39638d(0x6fa)]||_0x1d608a['message_normalized']?.['vote']||_0x1d608a[_0x39638d(0x366)]?.[_0x39638d(0x8f0)]||'',_0x29dd71={'_id':_0x1d608a[_0x39638d(0x2c4)],'remoteJid':_0x22e1a2?this[_0x39638d(0x3fc)][_0x39638d(0x860)]:_0x333919?_0x207c55:_0x5e0dcd,'pushName':_0x22e1a2?this[_0x39638d(0x3fc)]['profileName']||'Eu':_0x1d608a[_0x39638d(0x347)],'text':_0x1830fb,'type':_0x1d608a[_0x39638d(0x3ae)],'when':_0x1d608a[_0x39638d(0x78f)]||Date[_0x39638d(0x559)]()};_0x29916c||(_0x29916c=await this[_0x39638d(0x1da)]['chat'][_0x39638d(0x1fa)]({'where':{'_id':_0x5e0dcd}},this[_0x39638d(0x3fc)][_0x39638d(0x860)]));let _0x59941b=_0x22e1a2?0x0:_0x29916c?(_0x29916c[_0x39638d(0x365)]||0x0)+0x1:0x1,_0x278fa6={'lastmsg':_0x1d608a['messageTimestamp']||Date[_0x39638d(0x559)](),'ephemeralExpiration':_0x1d608a[_0x39638d(0x354)],'lastMessage':_0x29dd71,'unreadcount':_0x59941b,..._0x22e1a2||_0x333919?{}:{'name':_0x1d608a[_0x39638d(0x347)]},..._0x333919?{'group':_0x333919}:{},...!_0x22e1a2&&!_0x333919&&_0x1d608a[_0x39638d(0x38f)]?{'imagechat':_0x1d608a[_0x39638d(0x38f)]}:{}};if(!_0x333919&&(!_0x29916c?.[_0x39638d(0x866)]||!_0x29916c[_0x39638d(0x866)][_0x39638d(0x7db)])&&_0x1d608a[_0x39638d(0x347)]&&!_0x22e1a2&&(_0x278fa6={..._0x278fa6,'leadInfo.nome':_0x1d608a['pushName']}),_0x29916c?.[_0x39638d(0x866)]['etiquetas']||(_0x278fa6={..._0x278fa6,'leadInfo.etiquetas':[]}),_0x29916c?.[_0x39638d(0x866)][_0x39638d(0x653)]||(_0x278fa6={..._0x278fa6,'leadInfo.customFields':[]}),_0x29916c?.['leadInfo'][_0x39638d(0x480)]||(_0x278fa6={..._0x278fa6,'leadInfo.tags':[]}),_0x29916c&&_0x29916c?.[_0x39638d(0x796)]){let _0x4a4e8a=await this[_0x39638d(0x1da)]['label']['find']({'where':{}},this[_0x39638d(0x3fc)][_0x39638d(0x860)]),_0x47b0e1=new Set(_0x4a4e8a[_0x39638d(0x7b7)](_0x5a83a4=>_0x5a83a4[_0x39638d(0x2c4)])),_0x1712be=(_0x29916c['leadInfo']?.[_0x39638d(0x5e3)]||[])[_0x39638d(0x67b)](_0xc8036e=>_0x47b0e1[_0x39638d(0x4f9)](_0xc8036e));_0x278fa6={..._0x278fa6,'imported':!0x1,'leadInfo.etiquetas':_0x1712be};for(let _0x3bcbb8 of _0x1712be)await this[_0x39638d(0x526)](_0x3bcbb8,_0x5e0dcd);}if(!this[_0x39638d(0x399)][_0x39638d(0x5a2)][_0x39638d(0x42f)](_0x8552fb=>_0x8552fb[_0x39638d(0x31f)]&&_0x1830fb['includes'](_0x8552fb[_0x39638d(0x31f)]))&&_0x11ed3e==='MESSAGES_UPSERT'&&_0x22e1a2&&this[_0x39638d(0x399)]?.[_0x39638d(0x3fe)][_0x39638d(0x250)]&&_0x1830fb[_0x39638d(0x8ad)]()!==this['AutomateSystem']?.[_0x39638d(0x3fe)][_0x39638d(0x34a)][_0x39638d(0x8ad)]()){let _0xcf78d1=(this[_0x39638d(0x399)]?.[_0x39638d(0x3fe)][_0x39638d(0x626)]||0x0)*0xea60,_0x5baef6=Date[_0x39638d(0x559)]()+_0xcf78d1;_0x29916c?.['leadInfo']?.[_0x39638d(0x577)]===0x0||(_0x278fa6={..._0x278fa6,'leadInfo.desativadoFluxoAte':_0x5baef6},this['logger'][_0x39638d(0x1d7)](this[_0x39638d(0x7fe)]+'\x20('+this[_0x39638d(0x3fc)]['wuid']+_0x39638d(0x560)+_0x5baef6+'.'));}if(_0x1830fb[_0x39638d(0x8ad)]()===this[_0x39638d(0x399)]?.[_0x39638d(0x3fe)][_0x39638d(0x34a)][_0x39638d(0x8ad)]()){this['logger'][_0x39638d(0x1d7)](this['instanceName']+'\x20('+this[_0x39638d(0x3fc)][_0x39638d(0x860)]+_0x39638d(0x603)+_0x1830fb);let _0x1ae011=Date[_0x39638d(0x559)]();this[_0x39638d(0x399)]?.[_0x39638d(0x3fe)][_0x39638d(0x22d)]===0x0?_0x278fa6={..._0x278fa6,'leadInfo.desativadoFluxoAte':_0x1ae011+0x7591f6200}:_0x278fa6={..._0x278fa6,'leadInfo.desativadoFluxoAte':_0x1ae011+this[_0x39638d(0x399)]?.[_0x39638d(0x3fe)][_0x39638d(0x22d)]*0x3c*0x3e8};}if(_0x29916c=await this[_0x39638d(0x1da)][_0x39638d(0x4cc)][_0x39638d(0x3dd)]({'where':{'_id':_0x5e0dcd}},_0x278fa6,this['instance'][_0x39638d(0x860)],{'new':!0x0,'upsert':!0x0}),_0x29916c)F(this[_0x39638d(0x7fe)],_0x39638d(0x25b),{'chat':_0x29916c});else{this[_0x39638d(0x39f)]['error'](this['instanceName']+'\x20('+this[_0x39638d(0x3fc)][_0x39638d(0x860)]+_0x39638d(0x32e));return;}if(_0x22e1a2)return this['logger'][_0x39638d(0x1d7)](this[_0x39638d(0x7fe)]+'\x20('+this['instance']['wuid']+_0x39638d(0x829)),null;if(!this[_0x39638d(0x399)]?.[_0x39638d(0x3fe)]['enabled'])return this['logger'][_0x39638d(0x1d7)](this[_0x39638d(0x7fe)]+'\x20('+this['instance'][_0x39638d(0x860)]+'):\x20Flow\x20desativado'),null;if(_0x29916c[_0x39638d(0x2c4)]['includes']('@g.us')&&this['AutomateSystem']?.[_0x39638d(0x3fe)][_0x39638d(0x610)]===!0x0)return this[_0x39638d(0x39f)]['verbose'](this[_0x39638d(0x7fe)]+'\x20('+this['instance'][_0x39638d(0x860)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x29916c[_0x39638d(0x866)]){if(_0x29916c['leadInfo'][_0x39638d(0x577)]===0x0||_0x29916c[_0x39638d(0x866)][_0x39638d(0x7e1)])return this[_0x39638d(0x39f)][_0x39638d(0x1d7)](this[_0x39638d(0x7fe)]+'\x20('+this['instance']['wuid']+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x5e0dcd+_0x39638d(0x468)),null;if(_0x29916c[_0x39638d(0x866)][_0x39638d(0x577)]>Date['now']()&&!_0x1d608a[_0x39638d(0x366)]?.['vote'])return this[_0x39638d(0x39f)][_0x39638d(0x1d7)](this[_0x39638d(0x7fe)]+'\x20('+this[_0x39638d(0x3fc)][_0x39638d(0x860)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x29916c[_0x39638d(0x866)][_0x39638d(0x577)])[_0x39638d(0x33b)]()+_0x39638d(0x468)),null;}this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x39638d(0x860)]+_0x39638d(0x905)),this[_0x39638d(0x755)](_0x1d608a,_0x11ed3e);}catch(_0x8371d){let _0x357cc6=_0x39638d(0x39c),_0x3e6a8e=_0x8371d instanceof Error?_0x8371d[_0x39638d(0x865)]:typeof _0x8371d==_0x39638d(0x8d4)?JSON[_0x39638d(0x84a)](_0x8371d):_0x8371d,_0x235684=_0x357cc6+':\x20'+_0x3e6a8e;return this[_0x39638d(0x39f)]['error'](this['instanceName']+'\x20('+this['instance'][_0x39638d(0x860)]+_0x39638d(0x69d)+_0x235684),null;}}async[a0_0x1bb7e5(0x497)](_0x16aac3,_0x5bc326){const _0x417b2a=a0_0x1bb7e5;if(_0x5bc326[_0x417b2a(0x2ab)]){let _0x4bdddd=_0x16aac3[_0x417b2a(0x7b7)](async _0x3377cb=>{const _0x563f62=_0x417b2a;try{let _0x5b4f79={'_id':_0x3377cb['_id'],'owner':_0x3377cb[_0x563f62(0x435)],'lastcache':0x0};if(Object[_0x563f62(0x312)](_0x3377cb)[_0x563f62(0x70b)](_0x2a0f56=>{_0x3377cb[_0x2a0f56]!==null&&(_0x5b4f79[_0x2a0f56]=_0x3377cb[_0x2a0f56]);}),_0x5b4f79[_0x563f62(0x5c9)]===null&&(_0x5b4f79[_0x563f62(0x5c9)]=_0x563f62(0x778)),Object['keys'](_0x5b4f79)[_0x563f62(0x1e1)]>0x0)return await this[_0x563f62(0x1da)][_0x563f62(0x4cc)]['updateOne']({'where':{'_id':_0x3377cb[_0x563f62(0x2c4)]}},_0x5b4f79,this[_0x563f62(0x3fc)][_0x563f62(0x860)]);}catch(_0x27bf63){let _0xda91b5='Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x3377cb[_0x563f62(0x2c4)],_0x2d9d04=_0x27bf63 instanceof Error?_0x27bf63['message']:typeof _0x27bf63==_0x563f62(0x8d4)?JSON[_0x563f62(0x84a)](_0x27bf63):_0x27bf63,_0x4b93ea=_0xda91b5+':\x20'+_0x2d9d04;return this['logger'][_0x563f62(0x834)](this[_0x563f62(0x7fe)]+'\x20('+this[_0x563f62(0x3fc)]['wuid']+'):\x20'+_0x4b93ea),null;}}),_0x45fa9b=(await Promise[_0x417b2a(0x21b)](_0x4bdddd))[_0x417b2a(0x67b)](_0x142a6f=>_0x142a6f!==null)[_0x417b2a(0x1e1)];this['logger']['verbose'](this[_0x417b2a(0x7fe)]+'\x20('+this['instance']['wuid']+_0x417b2a(0x69d)+_0x45fa9b+'\x20chats\x20de\x20'+this[_0x417b2a(0x3fc)][_0x417b2a(0x860)]+_0x417b2a(0x21e));}}async['readMessageBot'](_0x40eebd){const _0x3a12b7=a0_0x1bb7e5;this[_0x3a12b7(0x39f)][_0x3a12b7(0x1d7)](this[_0x3a12b7(0x7fe)]+'\x20('+this[_0x3a12b7(0x3fc)][_0x3a12b7(0x860)]+_0x3a12b7(0x724));let _0x4a4fb1={'readMessages':[{'remoteJid':_0x40eebd[_0x3a12b7(0x260)]['lastReceivedMessage']['key']['remoteJid'],'fromMe':_0x40eebd[_0x3a12b7(0x260)]['lastReceivedMessage'][_0x3a12b7(0x5bc)][_0x3a12b7(0x1ef)],'id':_0x40eebd[_0x3a12b7(0x260)][_0x3a12b7(0x3f5)]['key']['id']}]};await this[_0x3a12b7(0x82b)](_0x4a4fb1);}async[a0_0x1bb7e5(0x755)](_0xe5591a,_0x2a5034){const _0x10bc11=a0_0x1bb7e5;try{let {key:_0x598a28,message_normalized:_0x15ede7}=_0xe5591a,_0x1f8ca7=_0x15ede7,_0xa0749e=_0x15ede7[_0x10bc11(0x56d)]||_0x15ede7['caption']||_0x15ede7[_0x10bc11(0x22f)]||_0x15ede7[_0x10bc11(0x8f0)]||'',_0x5eee93=_0x598a28[_0x10bc11(0x6d1)],_0x20b470=null,_0x3a1111=this['AutomateSystem']['flows'][_0x10bc11(0x42f)](_0x50f70c=>_0x50f70c[_0x10bc11(0x31f)]&&_0xa0749e['includes'](_0x50f70c[_0x10bc11(0x31f)]));if(_0x3a1111&&_0x2a5034===_0x10bc11(0x799)){let _0x458b31=await this['repository'][_0x10bc11(0x21f)]['findOne']({'where':{'_id':_0x3a1111[_0x10bc11(0x2c4)]}});if(this[_0x10bc11(0x39f)][_0x10bc11(0x1d7)](this[_0x10bc11(0x7fe)]+'\x20('+this[_0x10bc11(0x3fc)]['wuid']+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x458b31&&_0x458b31[_0x10bc11(0x2dd)]?.[_0x10bc11(0x460)](this[_0x10bc11(0x3fc)][_0x10bc11(0x860)]))_0x20b470=await this[_0x10bc11(0x54a)](_0x458b31,_0x598a28,_0x1f8ca7);else return this[_0x10bc11(0x39f)][_0x10bc11(0x1d7)](this['instanceName']+'\x20('+this[_0x10bc11(0x3fc)][_0x10bc11(0x860)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo'),null;}else this[_0x10bc11(0x39f)][_0x10bc11(0x1d7)](this[_0x10bc11(0x7fe)]+'\x20('+this[_0x10bc11(0x3fc)][_0x10bc11(0x860)]+_0x10bc11(0x1af));if(_0x20b470=await this[_0x10bc11(0x531)](_0x5eee93,_0x1f8ca7),_0x20b470){this[_0x10bc11(0x39f)][_0x10bc11(0x1d7)](this[_0x10bc11(0x7fe)]+'\x20('+this['instance'][_0x10bc11(0x860)]+_0x10bc11(0x50b)),!_0x598a28['fromMe']&&_0x20b470[_0x10bc11(0x395)]&&this[_0x10bc11(0x1a6)](_0x20b470);let _0x2575c2=await this[_0x10bc11(0x679)](_0x20b470);_0x2575c2&&await this[_0x10bc11(0x26b)](_0x20b470,_0x2575c2);}}catch(_0x225610){this['logger']['error'](this[_0x10bc11(0x7fe)]+'\x20('+this[_0x10bc11(0x3fc)][_0x10bc11(0x860)]+_0x10bc11(0x3f6)+(_0x225610 instanceof Error?_0x225610[_0x10bc11(0x865)]:JSON[_0x10bc11(0x84a)](_0x225610,null,0x2)));}}[a0_0x1bb7e5(0x855)](_0xa1a393,_0x3afe5a='',_0x217bf={}){const _0x3b8bbd=a0_0x1bb7e5;return typeof _0xa1a393!=_0x3b8bbd(0x8d4)||_0xa1a393===null?(_0x3afe5a&&(_0x217bf[_0x3afe5a]=_0xa1a393),_0x217bf):(Object[_0x3b8bbd(0x6d7)](_0xa1a393)[_0x3b8bbd(0x70b)](([_0xe733ea,_0x2a67c2])=>{const _0x19c8e7=_0x3b8bbd;let _0x3b3e1b=_0x3afe5a?_0x3afe5a+'.'+_0xe733ea:'_'+_0xe733ea;Array[_0x19c8e7(0x3ec)](_0x2a67c2)?_0x2a67c2['forEach']((_0x27db92,_0x2d3fb4)=>{const _0x3a727f=_0x19c8e7;this[_0x3a727f(0x855)](_0x27db92,_0x3b3e1b+'['+_0x2d3fb4+']',_0x217bf);}):typeof _0x2a67c2=='object'&&_0x2a67c2!==null?this[_0x19c8e7(0x855)](_0x2a67c2,_0x3b3e1b,_0x217bf):_0x217bf[_0x3b3e1b]=String(_0x2a67c2);}),_0x217bf);}['variablesToObject'](_0x3e9dc6){const _0x2b5d6e=a0_0x1bb7e5;let _0x392e60={};for(let _0x55d69f of _0x3e9dc6)typeof _0x55d69f[_0x2b5d6e(0x8f0)]==_0x2b5d6e(0x89c)&&typeof _0x55d69f[_0x2b5d6e(0x5af)]==_0x2b5d6e(0x89c)&&(_0x392e60[_0x55d69f[_0x2b5d6e(0x8f0)]]=_0x55d69f[_0x2b5d6e(0x5af)]);return _0x392e60;}async['NextBlock'](_0x4aecd9){const _0x514230=a0_0x1bb7e5;if(!this[_0x514230(0x399)]?.[_0x514230(0x3fe)][_0x514230(0x250)]||_0x4aecd9[_0x514230(0x362)]!==_0x514230(0x4c2)&&_0x4aecd9[_0x514230(0x333)]==='')return null;let _0xd1c7e6=_0x4aecd9[_0x514230(0x260)][_0x514230(0x712)]||'start';typeof _0x4aecd9[_0x514230(0x260)]['lastCondition']>'u'&&(_0x4aecd9[_0x514230(0x260)][_0x514230(0x69c)]=!0x0);let _0x36155c=_0x4aecd9[_0x514230(0x260)]['lastCondition'];this['logger']['verbose'](this[_0x514230(0x7fe)]+'\x20('+this[_0x514230(0x3fc)]['wuid']+'):\x20lastBlockId:\x20'+_0xd1c7e6+_0x514230(0x5e7)+_0x36155c);let _0x2ab2a1=_0xd1c7e6===_0x514230(0x19a)?_0x4aecd9[_0x514230(0x638)]['find'](_0x3217d7=>_0x3217d7[_0x514230(0x358)]===_0x514230(0x19a)):_0x4aecd9[_0x514230(0x638)][_0x514230(0x42f)](_0x13e6d0=>_0x13e6d0[_0x514230(0x2c4)][_0x514230(0x684)]()===_0xd1c7e6[_0x514230(0x684)]());if(!_0x2ab2a1)return this[_0x514230(0x39f)][_0x514230(0x834)](this[_0x514230(0x7fe)]+'\x20('+this[_0x514230(0x3fc)][_0x514230(0x860)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0xd1c7e6),null;let _0x5f2e38={'_pushName':_0x4aecd9?.[_0x514230(0x260)]?.[_0x514230(0x3f5)]?.[_0x514230(0x347)]||'','_sender':this[_0x514230(0x3fc)][_0x514230(0x860)]||'',..._0x4aecd9['chatLog'][_0x514230(0x473)]},_0x3fce9d=new Date();_0x5f2e38[_0x514230(0x4bd)]=_0x3fce9d[_0x514230(0x904)](),_0x5f2e38[_0x514230(0x745)]=_0x3fce9d[_0x514230(0x828)]()+0x1,_0x5f2e38[_0x514230(0x8f3)]=_0x3fce9d['getFullYear'](),_0x5f2e38[_0x514230(0x917)]=_0x3fce9d[_0x514230(0x80c)](),_0x5f2e38[_0x514230(0x3ab)]=_0x3fce9d[_0x514230(0x3ea)](),_0x5f2e38[_0x514230(0x8a3)]=_0x3fce9d[_0x514230(0x2b9)]();let _0x1a7c87=null;if(_0x4aecd9[_0x514230(0x333)]){let _0x1d0f1b=_0x4aecd9[_0x514230(0x260)]['lastReceivedMessage'][_0x514230(0x22f)],_0x2e6c1c=_0x4aecd9[_0x514230(0x4dd)][_0x514230(0x42f)](_0x139f0e=>_0x139f0e[_0x514230(0x753)]===_0x1d0f1b);if(_0x2e6c1c){let _0x2a6c8b=_0x2e6c1c[_0x514230(0x185)];if(_0x1a7c87=_0x4aecd9[_0x514230(0x638)][_0x514230(0x42f)](_0x3ee2bb=>_0x3ee2bb[_0x514230(0x785)]===_0x2a6c8b&&_0x3ee2bb[_0x514230(0x6cc)]===0x1),_0x2ab2a1[_0x514230(0x433)][_0x514230(0x351)]){let _0x134b2f={'id':_0x4aecd9['waitingMenu_id'],'remoteJid':_0x4aecd9[_0x514230(0x6d1)],'fromMe':!0x0};await this[_0x514230(0x3e9)](_0x134b2f);}if(_0x2ab2a1[_0x514230(0x433)]['pollOnReplyDelete']&&_0x2ab2a1['uazapi']['pollMessageOnDelete']&&_0x2ab2a1[_0x514230(0x433)][_0x514230(0x4fe)]===_0x514230(0x546)){let _0x596d03={'number':_0x4aecd9['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x514230(0x781)+_0x4aecd9[_0x514230(0x504)]+_0x514230(0x465)+_0x1d0f1b}};await this[_0x514230(0x617)](_0x596d03);}_0x5f2e38[_0x514230(0x4ac)]=_0x1d0f1b,_0x4aecd9['status']='open',_0x4aecd9[_0x514230(0x333)]='',_0x4aecd9[_0x514230(0x504)]='',_0x4aecd9[_0x514230(0x4dd)]=[];}else{this['logger'][_0x514230(0x1d7)](this[_0x514230(0x7fe)]+'\x20('+this[_0x514230(0x3fc)][_0x514230(0x860)]+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x167088={'activatedCount':_0x4aecd9[_0x514230(0x260)][_0x514230(0x295)][_0x514230(0x67b)](_0x626aa9=>String(_0x626aa9[_0x514230(0x456)])===String(_0xd1c7e6))[_0x514230(0x1e1)],'moreLogs':[_0x514230(0x880)]};if(_0x2ab2a1[_0x514230(0x433)][_0x514230(0x6c6)]){let _0x544e55={'number':_0x4aecd9[_0x514230(0x6d1)],'options':{'delay':0x0},'textMessage':{'text':_0x2ab2a1[_0x514230(0x433)][_0x514230(0x6c6)]}};await this[_0x514230(0x617)](_0x544e55);}if(_0x2ab2a1['maxActives']!==void 0x0&&_0x167088[_0x514230(0x1c4)]>=_0x2ab2a1['maxActives']){let _0xdc8bcf=Date[_0x514230(0x559)](),_0x511ec3=_0x2ab2a1['stopMinutesMaxActives']??0xa;isNaN(_0x511ec3)&&(_0x511ec3=0xa);let _0x2a1be4=_0xdc8bcf+_0x511ec3*0x3c*0x3e8;_0x167088[_0x514230(0x4d8)]=_0x2a1be4,_0x167088['moreLogs'][_0x514230(0x62c)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x514230(0x306)](_0x4aecd9,_0x2a1be4),_0x4aecd9[_0x514230(0x333)]='',_0x4aecd9[_0x514230(0x504)]='',_0x4aecd9['waitingMenu_replyOptions']=[];}return this[_0x514230(0x4bc)](_0x4aecd9,_0x2ab2a1,_0x167088,!0x0),null;}}if(_0x36155c&&_0x2ab2a1[_0x514230(0x185)]&&!_0x4aecd9[_0x514230(0x333)]){let _0x455f5f=_0x4aecd9[_0x514230(0x638)]['filter'](_0x21e29c=>_0x21e29c[_0x514230(0x785)][_0x514230(0x684)]()===_0x2ab2a1['next_groupId'][_0x514230(0x684)]())[_0x514230(0x394)]((_0xbd4a8f,_0x58f426)=>_0xbd4a8f[_0x514230(0x6cc)]-_0x58f426['order']);_0x455f5f[_0x514230(0x1e1)]>0x0&&(_0x1a7c87=_0x455f5f[0x0]);}if(!_0x1a7c87){let _0x5b7fe1=_0x2ab2a1[_0x514230(0x785)],_0xb4feaf=_0x4aecd9[_0x514230(0x638)][_0x514230(0x67b)](_0xf607c6=>_0xf607c6['groupId']===_0x5b7fe1&&_0xf607c6[_0x514230(0x6cc)]>_0x2ab2a1[_0x514230(0x6cc)])['sort']((_0x93c70b,_0x8a3e3e)=>_0x93c70b['order']-_0x8a3e3e[_0x514230(0x6cc)]);_0xb4feaf[_0x514230(0x1e1)]>0x0&&(_0x1a7c87=_0xb4feaf[0x0]);}if(!_0x1a7c87)return _0x4aecd9[_0x514230(0x362)]=_0x514230(0x814),null;_0x4aecd9[_0x514230(0x260)][_0x514230(0x473)]=_0x5f2e38;let _0x53f173=JSON[_0x514230(0x841)](JSON['stringify'](_0x1a7c87));return this['replaceVariablesInObject'](_0x53f173,_0x4aecd9[_0x514230(0x260)]['realVariables']),_0x4aecd9[_0x514230(0x260)][_0x514230(0x712)]=_0x53f173[_0x514230(0x2c4)],_0x4aecd9[_0x514230(0x260)][_0x514230(0x69c)]=!0x0,_0x53f173;}[a0_0x1bb7e5(0x583)](_0x29d324,_0x581e78){const _0x2f77d3=a0_0x1bb7e5;return _0x29d324[_0x2f77d3(0x40f)](/\{\{([^}]+)\}\}/g,(_0x301c28,_0x2e7fd6)=>_0x581e78[_0x2e7fd6]||'');}[a0_0x1bb7e5(0x1d2)](_0x32703e,_0x44c5a9){const _0x1025f8=a0_0x1bb7e5;for(let _0x230abf in _0x32703e)typeof _0x32703e[_0x230abf]=='string'?_0x32703e[_0x230abf]=this['replaceVariables'](_0x32703e[_0x230abf],_0x44c5a9):typeof _0x32703e[_0x230abf]=='object'&&this[_0x1025f8(0x1d2)](_0x32703e[_0x230abf],_0x44c5a9);}async[a0_0x1bb7e5(0x48c)](_0x1a7aef,_0x3de7d1){const _0x445509=a0_0x1bb7e5;let _0x486503=_0x3de7d1[_0x445509(0x2c4)];if(_0x1a7aef[_0x445509(0x260)]&&_0x1a7aef['chatLog'][_0x445509(0x295)]){let _0xb56052=_0x1a7aef[_0x445509(0x260)]['blockLogs']['filter'](_0xc8046e=>String(_0xc8046e[_0x445509(0x456)])===String(_0x486503))['pop']();if(_0xb56052&&_0xb56052[_0x445509(0x834)]&&_0x3de7d1[_0x445509(0x7ee)])return _0x1a7aef[_0x445509(0x362)]='closed',await this[_0x445509(0x7cd)](_0x1a7aef),null;}if(_0x3de7d1[_0x445509(0x358)]==='uazapi'&&_0x3de7d1[_0x445509(0x433)][_0x445509(0x43f)]===_0x445509(0x8e8)&&_0x1a7aef[_0x445509(0x333)])return _0x1a7aef[_0x445509(0x260)][_0x445509(0x712)]=_0x486503,await this['saveConversationToDatabase'](_0x1a7aef),null;let _0x165f0e=await this[_0x445509(0x679)](_0x1a7aef);if(_0x1a7aef[_0x445509(0x260)]&&_0x1a7aef['chatLog'][_0x445509(0x295)]){let _0x5bb389=_0x1a7aef[_0x445509(0x260)][_0x445509(0x295)][_0x445509(0x67b)](_0x2533ca=>String(_0x2533ca[_0x445509(0x456)])===String(_0x486503))[_0x445509(0x1e1)];if(_0x3de7d1[_0x445509(0x576)]!==void 0x0&&_0x5bb389>=_0x3de7d1[_0x445509(0x576)]){let _0x5bd0e8=Date[_0x445509(0x559)](),_0x1e9dcb=_0x3de7d1[_0x445509(0x5fd)]??0xa;isNaN(_0x1e9dcb)&&(_0x1e9dcb=0xa);let _0x268c62=_0x5bd0e8+_0x1e9dcb*0x3c*0x3e8,_0x368571={'newStoppedUntil':_0x268c62};return this[_0x445509(0x306)](_0x1a7aef,_0x268c62),this[_0x445509(0x4bc)](_0x1a7aef,_0x3de7d1,_0x368571,!0x0),null;}}_0x165f0e&&_0x165f0e['type']!==_0x445509(0x499)&&await this[_0x445509(0x26b)](_0x1a7aef,_0x165f0e),_0x165f0e||await this['saveConversationToDatabase'](_0x1a7aef),_0x165f0e&&_0x165f0e[_0x445509(0x358)]===_0x445509(0x499)&&(_0x1a7aef[_0x445509(0x260)]['lastBlockId']=_0x486503,await this[_0x445509(0x7cd)](_0x1a7aef));}async[a0_0x1bb7e5(0x26b)](_0x2b8d36,_0x46a08f){const _0x1533cb=a0_0x1bb7e5;try{let _0x3aa467=_0x46a08f[_0x1533cb(0x358)];this[_0x1533cb(0x39f)]['verbose'](this['instanceName']+'\x20('+this[_0x1533cb(0x3fc)]['wuid']+_0x1533cb(0x3e8)+_0x3aa467);let _0xbadbaa={'uazapi':()=>this[_0x1533cb(0x593)](_0x2b8d36,_0x46a08f),'save':()=>this[_0x1533cb(0x58f)](_0x2b8d36,_0x46a08f),'stop':()=>this['stopConversation'](_0x2b8d36,_0x46a08f),'condition':()=>this[_0x1533cb(0x4a0)](_0x2b8d36,_0x46a08f),'varedit':()=>this[_0x1533cb(0x21d)](_0x2b8d36,_0x46a08f),'apirequest':()=>this[_0x1533cb(0x386)](_0x2b8d36,_0x46a08f),'goToFlow':()=>this['processgoToFlow'](_0x2b8d36,_0x46a08f),'scheduleFlow':()=>this[_0x1533cb(0x605)](_0x2b8d36,_0x46a08f),'awaitSeconds':()=>this[_0x1533cb(0x6da)](_0x2b8d36,_0x46a08f),'clearVariables':()=>this[_0x1533cb(0x1b0)](_0x2b8d36,_0x46a08f)}[_0x3aa467];_0xbadbaa&&await _0xbadbaa();}catch(_0xb71d9b){this[_0x1533cb(0x39f)][_0x1533cb(0x834)](this[_0x1533cb(0x7fe)]+'\x20('+this[_0x1533cb(0x3fc)][_0x1533cb(0x860)]+_0x1533cb(0x2e8)+(_0xb71d9b instanceof Error?_0xb71d9b['message']:JSON[_0x1533cb(0x84a)](_0xb71d9b,null,0x2)));}}async[a0_0x1bb7e5(0x6da)](_0x42cad5,_0x46b0b3){const _0xc3f985=a0_0x1bb7e5;if(this[_0xc3f985(0x39f)]['verbose'](this[_0xc3f985(0x7fe)]+'\x20('+this[_0xc3f985(0x3fc)][_0xc3f985(0x860)]+_0xc3f985(0x4f0)),!_0x42cad5||!_0x46b0b3)return this[_0xc3f985(0x39f)][_0xc3f985(0x834)](this[_0xc3f985(0x7fe)]+'\x20('+this[_0xc3f985(0x3fc)][_0xc3f985(0x860)]+_0xc3f985(0x82f)),null;let _0x11dbd1=+_0x46b0b3[_0xc3f985(0x5f7)];isNaN(_0x11dbd1)&&(_0x11dbd1=0x0),_0x11dbd1=Math[_0xc3f985(0x574)](_0x11dbd1,0x3c),await(0x0,w[_0xc3f985(0x6e3)])(_0x11dbd1*0x3e8);let _0x5e99bb={'moreLogs':[_0xc3f985(0x23c)+_0x11dbd1+'\x20segundos']};return await this[_0xc3f985(0x4bc)](_0x42cad5,_0x46b0b3,_0x5e99bb),_0x11dbd1;}async[a0_0x1bb7e5(0x1b0)](_0x305750,_0x2f0d9c){const _0x452a36=a0_0x1bb7e5;if(this[_0x452a36(0x39f)]['verbose'](this['instanceName']+'\x20('+this[_0x452a36(0x3fc)][_0x452a36(0x860)]+_0x452a36(0x2f9)),!_0x305750||!_0x2f0d9c)return this[_0x452a36(0x39f)][_0x452a36(0x834)](this[_0x452a36(0x7fe)]+'\x20('+this[_0x452a36(0x3fc)]['wuid']+_0x452a36(0x82f)),null;let _0xb40f93=[];if(_0x2f0d9c['clearVariables'][_0x452a36(0x8ad)]()==='[all]'){let _0x3ba359=[_0x452a36(0x322),'_pushName',_0x452a36(0x8c5),_0x452a36(0x4bf),_0x452a36(0x45b),'_id',_0x452a36(0x2b4)];_0xb40f93=Object[_0x452a36(0x312)](_0x305750[_0x452a36(0x260)][_0x452a36(0x473)])['filter'](_0x2d95f4=>_0x2d95f4['startsWith']('_')&&!_0x3ba359['includes'](_0x2d95f4));}else _0xb40f93=_0x2f0d9c['clearVariables'][_0x452a36(0x53e)]('|')['map'](_0x1ecfbc=>(_0x1ecfbc=_0x1ecfbc[_0x452a36(0x40f)](/[{}]/g,'')[_0x452a36(0x8ad)](),_0x1ecfbc[_0x452a36(0x703)]('_')?_0x1ecfbc:'_'+_0x1ecfbc));let _0x38c813=[];_0xb40f93[_0x452a36(0x70b)](_0xbba41b=>{const _0x3bd23e=_0x452a36;_0xbba41b in _0x305750[_0x3bd23e(0x260)][_0x3bd23e(0x473)]&&(delete _0x305750[_0x3bd23e(0x260)][_0x3bd23e(0x473)][_0xbba41b],_0x38c813[_0x3bd23e(0x62c)](_0xbba41b));}),_0x38c813[_0x452a36(0x1e1)]>0x0?this[_0x452a36(0x39f)][_0x452a36(0x1d7)](this['instanceName']+'\x20('+this['instance'][_0x452a36(0x860)]+'):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20'+_0x38c813[_0x452a36(0x518)](',\x20')):this[_0x452a36(0x39f)]['verbose'](this[_0x452a36(0x7fe)]+'\x20('+this[_0x452a36(0x3fc)]['wuid']+_0x452a36(0x8c0));let _0x2c0432={'moreLogs':[_0x452a36(0x421)+_0x38c813[_0x452a36(0x518)](',\x20')]};return await this[_0x452a36(0x4bc)](_0x305750,_0x2f0d9c,_0x2c0432),null;}async['processScheduleFlow'](_0xc3af57,_0x2f5700){const _0x5ce401=a0_0x1bb7e5;if(this[_0x5ce401(0x39f)][_0x5ce401(0x1d7)](this[_0x5ce401(0x7fe)]+'\x20('+this[_0x5ce401(0x3fc)]['wuid']+_0x5ce401(0x6ff)),!_0xc3af57||!_0x2f5700)return this[_0x5ce401(0x39f)][_0x5ce401(0x834)](this['instanceName']+'\x20('+this['instance'][_0x5ce401(0x860)]+_0x5ce401(0x82f)),null;let _0x49233a=_0xc3af57['remoteJid'];_0x2f5700['scheduleFlow'][_0x5ce401(0x6d1)]&&_0x2f5700[_0x5ce401(0x8ff)][_0x5ce401(0x6d1)][_0x5ce401(0x8ad)]()!==''&&(_0x49233a=_0x2f5700[_0x5ce401(0x433)][_0x5ce401(0x6d1)][_0x5ce401(0x8ad)]());let _0x53d963=_0x2f5700[_0x5ce401(0x8ff)][_0x5ce401(0x839)]*0xea60,_0x3e5bb=Date[_0x5ce401(0x559)]()+_0x53d963,_0xdc6480={'status':_0x5ce401(0x648),'info':_0x5ce401(0x8c9)+_0xc3af57[_0x5ce401(0x8f0)],'remoteJids':[_0x49233a],'when':_0x3e5bb,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x5ce401(0x21f),'flowName':_0x2f5700[_0x5ce401(0x8ff)][_0x5ce401(0x189)]};this[_0x5ce401(0x4a8)](_0xdc6480);let _0x5d2efd=await this['NextBlock'](_0xc3af57);_0x5d2efd&&await this[_0x5ce401(0x26b)](_0xc3af57,_0x5d2efd);}async[a0_0x1bb7e5(0x3f4)](_0x529e56,_0x273309){const _0x225674=a0_0x1bb7e5;if(this[_0x225674(0x39f)][_0x225674(0x1d7)](this[_0x225674(0x7fe)]+'\x20('+this['instance'][_0x225674(0x860)]+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x529e56||!_0x273309)return this[_0x225674(0x39f)][_0x225674(0x834)](this['instanceName']+'\x20('+this[_0x225674(0x3fc)][_0x225674(0x860)]+_0x225674(0x82f)),null;await this[_0x225674(0x4bc)](_0x529e56,_0x273309,{},!0x0,!0x0);let _0x2bb60e=_0x273309['goToFlow'];_0x529e56=await this['createConversationforgoToFlow'](_0x2bb60e,_0x529e56[_0x225674(0x6d1)],_0x529e56[_0x225674(0x260)][_0x225674(0x473)]);let _0x538e31=await this['NextBlock'](_0x529e56);_0x538e31&&await this[_0x225674(0x26b)](_0x529e56,_0x538e31);}async['createConversationforgoToFlow'](_0x114152,_0x31f6eb,_0x3137af){const _0x3112ec=a0_0x1bb7e5;this['logger'][_0x3112ec(0x1d7)](this['instanceName']+'\x20('+this[_0x3112ec(0x3fc)]['wuid']+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{let _0x4ecdc8=this['AutomateSystem']['flows'][_0x3112ec(0x42f)](_0x53682e=>_0x53682e['_id']===_0x114152);_0x4ecdc8||this['logger'][_0x3112ec(0x834)](this[_0x3112ec(0x7fe)]+'\x20('+this[_0x3112ec(0x3fc)][_0x3112ec(0x860)]+'):\x20Flow\x20\x27'+_0x114152+_0x3112ec(0x833));let _0x270547=await this[_0x3112ec(0x1da)][_0x3112ec(0x21f)][_0x3112ec(0x1fa)]({'where':{'_id':_0x4ecdc8[_0x3112ec(0x2c4)]}});if(!_0x270547||!_0x270547['whoCanUse']?.[_0x3112ec(0x460)](this[_0x3112ec(0x3fc)]['wuid']))throw this[_0x3112ec(0x39f)][_0x3112ec(0x834)](this[_0x3112ec(0x7fe)]+'\x20('+this['instance'][_0x3112ec(0x860)]+_0x3112ec(0x763)+_0x114152+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x3112ec(0x194)+_0x114152+_0x3112ec(0x825));let _0x267f30=require(_0x3112ec(0x20a))[_0x3112ec(0x2f8)],_0x49060b=Date['now'](),_0x2fd264=_0x3112ec(0x19a),_0x588057={},_0x35a4ec={},_0x40b143=this[_0x3112ec(0x399)]['flows'][_0x3112ec(0x42f)](_0x3fe30f=>_0x3fe30f[_0x3112ec(0x2c4)]===_0x270547[_0x3112ec(0x2c4)]?.[_0x3112ec(0x684)]()),_0x4fb628=_0x40b143?.[_0x3112ec(0x335)]??_0x270547[_0x3112ec(0x335)]??0x0,_0x831fb0=_0x40b143?.[_0x3112ec(0x395)]??_0x270547[_0x3112ec(0x395)]??!0x1,_0x45d696={'flowId':_0x4ecdc8[_0x3112ec(0x2c4)],'readMessages':_0x4ecdc8['readMessages'],..._0x270547,'chatLog':null},_0x59885f={'lastReceivedMessage':_0x588057,'lastSendMessage':_0x35a4ec,'lastBlockId':_0x2fd264,'lastCondition':!0x0,'realVariables':_0x3137af};_0x45d696[_0x3112ec(0x260)]=_0x59885f,_0x45d696[_0x3112ec(0x260)][_0x3112ec(0x473)]={..._0x3137af},delete _0x45d696['_id'],_0x45d696[_0x3112ec(0x2c4)]=new _0x267f30(),_0x45d696[_0x3112ec(0x439)]=_0x49060b,_0x45d696[_0x3112ec(0x362)]=_0x3112ec(0x4c2),_0x45d696[_0x3112ec(0x6d1)]=_0x31f6eb,_0x45d696['minutesToClose']=_0x4fb628,_0x45d696[_0x3112ec(0x395)]=_0x831fb0;let _0x431c5a=await this[_0x3112ec(0x1da)][_0x3112ec(0x489)][_0x3112ec(0x3dd)](_0x45d696[_0x3112ec(0x2c4)],_0x45d696,this['instance'][_0x3112ec(0x860)]);return this[_0x3112ec(0x39f)][_0x3112ec(0x1d7)](this[_0x3112ec(0x7fe)]+'\x20('+this['instance'][_0x3112ec(0x860)]+_0x3112ec(0x336)),_0x431c5a?_0x45d696:null;}catch(_0x3b6fa3){let _0x318e2=_0x3112ec(0x700),_0x141770=_0x3b6fa3 instanceof Error?_0x3b6fa3[_0x3112ec(0x865)]:typeof _0x3b6fa3==_0x3112ec(0x8d4)?JSON[_0x3112ec(0x84a)](_0x3b6fa3):_0x3b6fa3,_0x529c67=_0x318e2+':\x20'+_0x141770;throw this[_0x3112ec(0x39f)][_0x3112ec(0x834)](this[_0x3112ec(0x7fe)]+'\x20('+this[_0x3112ec(0x3fc)]['wuid']+_0x3112ec(0x69d)+_0x529c67),new m(_0x529c67);}}async['processApiRequest'](_0x147942,_0x12944e){const _0x227f81=a0_0x1bb7e5;let _0x5ee34b,_0x31474d;try{let _0x34e677=_0x12944e[_0x227f81(0x673)];if(!_0x34e677||!_0x34e677['url']||!_0x34e677['method'])throw new Error(_0x227f81(0x33e));let _0xa15875;(['https://api.openai.com/v1/audio/speech',_0x227f81(0x7f7),_0x227f81(0x307)][_0x227f81(0x8c3)](_0x50f147=>_0x34e677[_0x227f81(0x8dc)][_0x227f81(0x460)](_0x50f147))||_0x34e677['requestFile'])&&(_0xa15875=_0x227f81(0x1a4));let _0x5658ef='\u205f',_0x5d330e;try{_0x5d330e=JSON[_0x227f81(0x841)](_0x34e677[_0x227f81(0x6c2)][_0x227f81(0x40f)](new RegExp(_0x5658ef,'g'),''));}catch(_0xaaf030){throw _0xaaf030;}let _0x42df91={'method':_0x34e677['method'],'url':_0x34e677[_0x227f81(0x8dc)],'headers':_0x34e677[_0x227f81(0x186)]||{},..._0x34e677['method'][_0x227f81(0x204)]()!==_0x227f81(0x5cc)&&_0x34e677[_0x227f81(0x6c2)]?{'data':JSON[_0x227f81(0x841)](_0x34e677[_0x227f81(0x6c2)][_0x227f81(0x40f)](new RegExp(_0x5658ef,'g'),''))}:{},..._0xa15875&&{'responseType':_0xa15875}},_0x4a035e=await(0x0,Q[_0x227f81(0x4b7)])(_0x42df91),_0x1b942a=_0x4a035e[_0x227f81(0x83e)][_0x227f81(0x848)];if(_0x1b942a&&_0x1b942a[_0x227f81(0x460)](_0x227f81(0x4e5))||typeof _0x4a035e[_0x227f81(0x2b3)]=='string'){if(typeof _0x4a035e[_0x227f81(0x2b3)]==_0x227f81(0x89c)){let _0x1deb34=_0x4a035e[_0x227f81(0x2b3)]['replace'](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x227f81(0x8ad)]();try{_0x5ee34b=JSON['parse'](_0x1deb34);}catch(_0xfbe1c){this['logger']['error'](_0x227f81(0x909)+_0xfbe1c['message']),_0x5ee34b={'_apiResponse':_0x4a035e[_0x227f81(0x2b3)]};}}else _0x5ee34b=_0x4a035e[_0x227f81(0x2b3)];let _0x28a045=_0x147942[_0x227f81(0x260)][_0x227f81(0x473)],_0x3dbd91=this[_0x227f81(0x855)](_0x5ee34b);return Object['assign'](_0x28a045,_0x3dbd91),_0x147942[_0x227f81(0x260)]['realVariables']=_0x28a045,_0x31474d={'error':!0x1,'apiResponse':_0x5ee34b},this[_0x227f81(0x4bc)](_0x147942,_0x12944e,_0x31474d),_0x5ee34b;}if(_0x1b942a&&(_0x1b942a[_0x227f81(0x460)]('application/octet-stream')||_0x1b942a[_0x227f81(0x460)](_0x227f81(0x4f5))||_0x1b942a[_0x227f81(0x460)]('audio')||_0x1b942a['includes'](_0x227f81(0x477)))){this[_0x227f81(0x39f)][_0x227f81(0x1d7)](this[_0x227f81(0x7fe)]+'\x20('+this[_0x227f81(0x3fc)][_0x227f81(0x860)]+_0x227f81(0x640)+_0x1b942a);let _0x257cdd=(0x0,Y['v4'])(),_0x452c47='',_0x21fcfa={'image/jpeg':_0x227f81(0x4a9),'image/png':'.png','image/gif':_0x227f81(0x714),'image/webp':'.webp','image/svg+xml':_0x227f81(0x52e),'audio/mpeg':'.mp3','audio/ogg':_0x227f81(0x81e),'audio/wav':'.wav','video/mp4':'.mp4','video/webm':_0x227f81(0x78d),'video/ogg':_0x227f81(0x30b),'text/plain':_0x227f81(0x760),'application/pdf':_0x227f81(0x5ef),'application/msword':_0x227f81(0x514),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x227f81(0x636),'application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x227f81(0x570)};_0x21fcfa[_0x1b942a]?(_0x452c47=_0x21fcfa[_0x1b942a],this[_0x227f81(0x39f)][_0x227f81(0x1d7)](this[_0x227f81(0x7fe)]+'\x20('+this[_0x227f81(0x3fc)][_0x227f81(0x860)]+_0x227f81(0x2e5)+_0x452c47)):(_0x452c47=_0x227f81(0x19e),this[_0x227f81(0x39f)][_0x227f81(0x1d7)](this[_0x227f81(0x7fe)]+'\x20('+this[_0x227f81(0x3fc)]['wuid']+_0x227f81(0x43d)+_0x452c47)),_0x257cdd+=_0x452c47,this['logger'][_0x227f81(0x1d7)](this[_0x227f81(0x7fe)]+'\x20('+this['instance'][_0x227f81(0x860)]+_0x227f81(0x223)+_0x257cdd);let _0x2ecac5=this['configService'][_0x227f81(0x8a5)]('SERVER')[_0x227f81(0x859)];if(!_0x2ecac5){let _0x50686f=this[_0x227f81(0x3bc)][_0x227f81(0x8a5)](_0x227f81(0x427));_0x2ecac5='https://'+(_0x50686f&&_0x50686f[_0x227f81(0x319)][_0x227f81(0x53e)]('/')[0x4]);}let _0x3b7ccc=Buffer['from'](_0x4a035e[_0x227f81(0x2b3)]);await this[_0x227f81(0x3a9)](_0x3b7ccc,_0x257cdd);let _0x635b59=_0x227f81(0x890)+_0x257cdd;_0x635b59=''+_0x2ecac5+_0x635b59,_0x5ee34b={'fileUrl':_0x635b59},_0x147942[_0x227f81(0x260)][_0x227f81(0x473)]['fileUrl']=_0x635b59;let _0xea2b9d=_0x147942[_0x227f81(0x260)][_0x227f81(0x473)],_0x5d9502=this[_0x227f81(0x855)](_0x5ee34b);return Object[_0x227f81(0x2f6)](_0xea2b9d,_0x5d9502),_0x147942[_0x227f81(0x260)]['realVariables']=_0xea2b9d,_0x31474d={'error':!0x1,'apiResponse':{'fileUrl':_0x635b59}},this['updateConversation'](_0x147942,_0x12944e,_0x31474d),_0x5ee34b;}}catch(_0x25e37d){this[_0x227f81(0x39f)][_0x227f81(0x834)](_0x227f81(0x2bc)+_0x25e37d[_0x227f81(0x865)]),_0x25e37d['response']&&(_0x5ee34b=_0x25e37d[_0x227f81(0x301)]['data']);let _0x5d0acc=_0x147942[_0x227f81(0x260)]['realVariables'],_0x508466=this[_0x227f81(0x855)](_0x5ee34b);return Object[_0x227f81(0x2f6)](_0x5d0acc,_0x508466),_0x147942[_0x227f81(0x260)][_0x227f81(0x473)]=_0x5d0acc,_0x31474d={'error':!0x0,'errorLog':_0x25e37d[_0x227f81(0x684)](),'apiResponse':_0x5ee34b},this[_0x227f81(0x4bc)](_0x147942,_0x12944e,_0x31474d),{'success':!0x1};}}[a0_0x1bb7e5(0x34e)](_0x59a3fe,_0x8e7677){const _0x585091=a0_0x1bb7e5;let _0x5b783d=_0x2f165c=>{const _0x1ea469=a0_0x5772;let _0x35a46f=_0x2f165c[_0x1ea469(0x40f)](/[^0-9.,-]/g,'')[_0x1ea469(0x40f)](',','.'),_0x2e3c64=parseFloat(_0x35a46f);return isNaN(_0x2e3c64)?null:_0x2e3c64;},_0x1fc0e2=_0x8e7677[_0x585091(0x896)],_0x3dfee0=_0x8e7677['secondValue'];typeof _0x1fc0e2==_0x585091(0x89c)&&(_0x1fc0e2=this[_0x585091(0x583)](_0x1fc0e2,_0x59a3fe[_0x585091(0x260)][_0x585091(0x473)])??''),typeof _0x3dfee0==_0x585091(0x89c)&&(_0x3dfee0=this['replaceVariables'](_0x3dfee0,_0x59a3fe[_0x585091(0x260)][_0x585091(0x473)])??'');let _0x2e8ac7=null;if(!_0x8e7677[_0x585091(0x807)])return null;switch(this['logger'][_0x585091(0x1d7)](this[_0x585091(0x7fe)]+'\x20('+this['instance'][_0x585091(0x860)]+_0x585091(0x8b9)+_0x1fc0e2),this[_0x585091(0x39f)][_0x585091(0x1d7)](this[_0x585091(0x7fe)]+'\x20('+this['instance'][_0x585091(0x860)]+_0x585091(0x37d)+_0x3dfee0),_0x8e7677[_0x585091(0x807)]){case'+':case'-':case'*':case'/':let _0x2eabeb=_0x5b783d(_0x1fc0e2||'0'),_0x3a366a=_0x5b783d(_0x3dfee0||'0');if(_0x2eabeb===null)return null;switch(_0x8e7677[_0x585091(0x807)]){case'+':_0x2e8ac7=_0x2eabeb+(_0x3a366a??0x0);break;case'-':_0x2e8ac7=_0x2eabeb-(_0x3a366a??0x0);break;case'*':_0x2e8ac7=_0x2eabeb*(_0x3a366a??0x1);break;case'/':_0x3a366a!==0x0&&(_0x2e8ac7=_0x2eabeb/(_0x3a366a??0x1));break;}break;case'findAndReplace':case _0x585091(0x382):let _0x308ea9=_0x3dfee0,_0x14dcb7=_0x8e7677[_0x585091(0x2ca)];if(typeof _0x14dcb7=='string'&&(_0x14dcb7=this['replaceVariables'](_0x14dcb7,_0x59a3fe[_0x585091(0x260)][_0x585091(0x473)])??''),_0x308ea9&&_0x14dcb7!==void 0x0){let _0x377328=_0x8e7677[_0x585091(0x807)]===_0x585091(0x285)?new RegExp(_0x308ea9[_0x585091(0x40f)](/[-\/\\^$*+?.()|[\]{}]/g,_0x585091(0x5d3)),'g'):new RegExp(_0x308ea9,'g');_0x2e8ac7=_0x1fc0e2['replace'](_0x377328,_0x14dcb7);}else console['warn']('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0x585091(0x5d6):_0x2e8ac7=_0x3dfee0;break;case _0x585091(0x762):let _0x255ad1=_0x1fc0e2[_0x585091(0x5ca)](new RegExp(_0x3dfee0||''));_0x2e8ac7=_0x255ad1?_0x255ad1[0x0]:'';break;case _0x585091(0x66c):_0x2e8ac7=_0x1fc0e2[_0x585091(0x2bb)](0x0,parseInt(_0x3dfee0||'0'));break;case'truncatedtoEnd':let _0x17f02a=parseInt(_0x3dfee0||'0');_0x2e8ac7=_0x1fc0e2[_0x585091(0x2bb)](_0x1fc0e2[_0x585091(0x1e1)]-_0x17f02a);break;case _0x585091(0x516):let _0x3a1204=_0x5b783d(_0x1fc0e2),_0xc3fc63=parseInt(_0x3dfee0||'0');_0xc3fc63=Math[_0x585091(0x451)](_0xc3fc63),_0x3a1204!==null?_0x2e8ac7=_0x3a1204[_0x585091(0x33b)]('pt-BR',{'minimumFractionDigits':_0xc3fc63,'maximumFractionDigits':_0xc3fc63}):(console[_0x585091(0x1be)](_0x585091(0x702)+_0x1fc0e2),_0x2e8ac7=null);break;case _0x585091(0x59a):let _0x3093dd=_0x5b783d(_0x1fc0e2);_0x3093dd!==null?_0x2e8ac7=_0x3093dd['toLocaleString'](_0x585091(0x42b),{'style':'currency','currency':'BRL'}):(console['warn']('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x1fc0e2),_0x2e8ac7=null);break;case _0x585091(0x346):_0x2e8ac7=_0x1fc0e2['toUpperCase']();break;case _0x585091(0x547):_0x2e8ac7=_0x1fc0e2[_0x585091(0x519)]();break;case'capitalizedWords':_0x2e8ac7=_0x1fc0e2[_0x585091(0x53e)]('\x20')[_0x585091(0x7b7)](_0x3afbea=>_0x3afbea['charAt'](0x0)[_0x585091(0x204)]()+_0x3afbea['slice'](0x1)[_0x585091(0x519)]())['join']('\x20');break;case _0x585091(0x5ce):_0x2e8ac7=JSON[_0x585091(0x84a)](_0x1fc0e2);break;case _0x585091(0x8ec):_0x2e8ac7=_0x1fc0e2[_0x585091(0x8ad)]();break;default:_0x2e8ac7=_0x1fc0e2;}return _0x2e8ac7!==null?_0x2e8ac7[_0x585091(0x684)]():null;}async[a0_0x1bb7e5(0x21d)](_0x57e0a3,_0x52c2ba){const _0x594985=a0_0x1bb7e5;try{let _0x54f1fc=_0x57e0a3[_0x594985(0x5ad)]?.[_0x594985(0x67b)](_0x3b09cf=>_0x3b09cf['blockId']===_0x52c2ba[_0x594985(0x2c4)]?.[_0x594985(0x684)]())||[],_0x7c04ae=_0x52c2ba[_0x594985(0x56f)],_0x465123=null,_0x55d05e=[],_0x5cfc97=_0x57e0a3[_0x594985(0x260)][_0x594985(0x473)][_0x7c04ae];_0x55d05e[_0x594985(0x62c)](_0x594985(0x197)+_0x5cfc97+'\x22');for(let _0x4e068f of _0x54f1fc){_0x4e068f[_0x594985(0x896)]=_0x5cfc97,_0x465123=_0x4e068f['firstValue'];let _0x1a7887;try{_0x1a7887=this[_0x594985(0x34e)](_0x57e0a3,_0x4e068f);}catch(_0x4cd47a){this[_0x594985(0x39f)][_0x594985(0x834)]('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x4cd47a[_0x594985(0x865)]);continue;}if(_0x1a7887!==null){let _0x28d83d=_0x594985(0x524)+_0x4e068f[_0x594985(0x807)]+'\x22',_0x19c0af=[_0x594985(0x59a),_0x594985(0x346),_0x594985(0x547),_0x594985(0x35f),_0x594985(0x8ec)];_0x4e068f[_0x594985(0x807)]===_0x594985(0x285)||_0x4e068f[_0x594985(0x807)]===_0x594985(0x382)?_0x28d83d+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x4e068f[_0x594985(0x282)]+_0x594985(0x585)+_0x4e068f[_0x594985(0x2ca)]+'\x22':!_0x19c0af[_0x594985(0x460)](_0x4e068f[_0x594985(0x807)])&&_0x4e068f[_0x594985(0x282)]!==null&&_0x4e068f[_0x594985(0x282)]!==void 0x0&&(_0x28d83d+=_0x594985(0x67c)+_0x4e068f[_0x594985(0x282)]+'\x22'),_0x28d83d+=',\x20resultado:\x20'+_0x1a7887+'.',_0x55d05e[_0x594985(0x62c)](_0x28d83d);}_0x1a7887!==null&&(_0x5cfc97=_0x1a7887);}if(_0x57e0a3['chatLog'][_0x594985(0x473)]&&_0x52c2ba['saveVariable']){_0x57e0a3[_0x594985(0x260)][_0x594985(0x473)][_0x52c2ba[_0x594985(0x56f)]]=_0x5cfc97;let _0x1dd5f9={'variable':_0x52c2ba['saveVariable'],'oldValue':_0x465123,'newValue':_0x5cfc97,'moreLogs':_0x55d05e};try{this[_0x594985(0x4bc)](_0x57e0a3,_0x52c2ba,_0x1dd5f9);}catch(_0x2afad2){this['logger']['error'](_0x594985(0x424)+_0x2afad2[_0x594985(0x865)]);}}return _0x7c04ae;}catch(_0x109e99){return this['logger'][_0x594985(0x834)](_0x594985(0x3d9)+_0x109e99['message']),null;}}async[a0_0x1bb7e5(0x4a0)](_0x586317,_0x3bf43c){const _0x596b82=a0_0x1bb7e5;try{let _0x25c869=[],_0x59207f=_0x586317[_0x596b82(0x438)][_0x596b82(0x67b)](_0xd43e12=>_0xd43e12['blockId']===_0x3bf43c[_0x596b82(0x2c4)][_0x596b82(0x684)]()),_0x37de83=null,_0x5f78b1=!0x1;for(let _0x258509 of _0x59207f){let _0xd13a7a=this[_0x596b82(0x8e5)](_0x586317,_0x258509);_0x25c869[_0x596b82(0x62c)](_0x596b82(0x1bd)+_0x258509['firstValue']+',\x20Comparador:\x20'+_0x258509['expression']+_0x596b82(0x45a)+_0x258509['secondValue']+_0x596b82(0x6ab)+_0xd13a7a),_0x37de83===null?_0x37de83=_0xd13a7a:_0x258509[_0x596b82(0x3f1)]===_0x596b82(0x5e6)?(_0x37de83=_0x37de83&&_0xd13a7a,_0xd13a7a||(_0x5f78b1=!0x0)):_0x258509[_0x596b82(0x3f1)]==='or'&&(_0x5f78b1||(_0x37de83=_0x37de83||_0xd13a7a));}_0x37de83===null&&(_0x37de83=!0x0);let _0x5134b7={'moreLogs':_0x25c869};_0x586317[_0x596b82(0x260)][_0x596b82(0x69c)]=_0x37de83,await this[_0x596b82(0x4bc)](_0x586317,_0x3bf43c,_0x5134b7);}catch(_0x1b4045){this['logger']['error'](this[_0x596b82(0x7fe)]+'\x20('+this[_0x596b82(0x3fc)][_0x596b82(0x860)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x1b4045 instanceof Error?_0x1b4045['message']:JSON[_0x596b82(0x84a)](_0x1b4045,null,0x2)));}}['evaluateCondition'](_0x476ff4,_0xa7b931){const _0x1bbe55=a0_0x1bb7e5;let _0x141b11=_0xa7b931['firstValue'],_0x2731c8=_0xa7b931[_0x1bbe55(0x282)];typeof _0x141b11==_0x1bbe55(0x89c)&&(_0x141b11=this[_0x1bbe55(0x583)](_0x141b11,_0x476ff4[_0x1bbe55(0x260)][_0x1bbe55(0x473)])??''),typeof _0x2731c8=='string'&&(_0x2731c8=this[_0x1bbe55(0x583)](_0x2731c8,_0x476ff4[_0x1bbe55(0x260)][_0x1bbe55(0x473)])??'');try{switch(_0xa7b931[_0x1bbe55(0x732)]){case _0x1bbe55(0x7c7):return _0x141b11===_0x2731c8;case _0x1bbe55(0x2b0):return _0x141b11!==_0x2731c8;case _0x1bbe55(0x5df):return this[_0x1bbe55(0x5df)](_0x141b11,_0x2731c8);case'notContains':return!this[_0x1bbe55(0x5df)](_0x141b11,_0x2731c8);case _0x1bbe55(0x7e8):return parseFloat(_0x141b11)>parseFloat(_0x2731c8);case _0x1bbe55(0x7d1):return parseFloat(_0x141b11)<parseFloat(_0x2731c8);case _0x1bbe55(0x31b):return _0x141b11!=='';case _0x1bbe55(0x37e):return _0x141b11==='';case _0x1bbe55(0x1fc):return new RegExp(_0x2731c8)[_0x1bbe55(0x6b9)](_0x141b11);case _0x1bbe55(0x2d4):return!new RegExp(_0x2731c8)[_0x1bbe55(0x6b9)](_0x141b11);default:return!0x1;}}catch(_0x1db388){return this[_0x1bbe55(0x39f)][_0x1bbe55(0x834)](_0x1bbe55(0x1ae)+_0x1db388),!0x1;}}['contains'](_0x3c7a8b,_0x3b2a05){const _0x2fbe9d=a0_0x1bb7e5;if(_0x3c7a8b===_0x3b2a05&&/^\d+$/[_0x2fbe9d(0x6b9)](_0x3c7a8b))return!0x0;if(this[_0x2fbe9d(0x2d8)](_0x3c7a8b)&&/^\d+$/[_0x2fbe9d(0x6b9)](_0x3b2a05)){let _0x6a3ceb=_0x3c7a8b['split'](',')[_0x2fbe9d(0x7b7)](_0x335e5f=>parseInt(_0x335e5f['trim']())),_0x1e1f05=parseInt(_0x3b2a05);return _0x6a3ceb['includes'](_0x1e1f05);}return _0x3c7a8b[_0x2fbe9d(0x460)](_0x3b2a05);}[a0_0x1bb7e5(0x2d8)](_0x231b91){const _0x2f52bd=a0_0x1bb7e5;return/^\d+(,\d+)*$/[_0x2f52bd(0x6b9)](_0x231b91);}[a0_0x1bb7e5(0x91c)](_0x179803){const _0x3d9b9f=a0_0x1bb7e5;let _0x216c0b=!0x0,_0x3083d4=null;for(let _0x1f589c of _0x179803){let _0x30b057=this[_0x3d9b9f(0x4e8)](_0x1f589c);if(_0x3083d4==='or'&&_0x30b057){_0x216c0b=!0x0;break;}if(_0x3083d4===_0x3d9b9f(0x5e6)&&!_0x30b057){_0x216c0b=!0x1;break;}_0x3083d4=_0x1f589c[_0x3d9b9f(0x3f1)];}return _0x216c0b;}[a0_0x1bb7e5(0x4e8)](_0x24f665){const _0x268c56=a0_0x1bb7e5;let _0xbeac2e=_0x24f665[_0x268c56(0x896)],_0x16ea5e=_0x24f665[_0x268c56(0x282)];try{switch(_0x24f665[_0x268c56(0x732)]){case'equal':return String(_0xbeac2e)===String(_0x16ea5e);case _0x268c56(0x2b0):return String(_0xbeac2e)!==String(_0x16ea5e);case _0x268c56(0x5df):return String(_0xbeac2e)[_0x268c56(0x460)](String(_0x16ea5e));case'notContains':return!String(_0xbeac2e)[_0x268c56(0x460)](String(_0x16ea5e));case _0x268c56(0x7e8):return parseFloat(String(_0xbeac2e))>parseFloat(String(_0x16ea5e));case _0x268c56(0x7d1):return parseFloat(String(_0xbeac2e))<parseFloat(String(_0x16ea5e));case _0x268c56(0x31b):return String(_0xbeac2e)!=='';case _0x268c56(0x37e):return String(_0xbeac2e)==='';case _0x268c56(0x1fc):return new RegExp(String(_0x16ea5e))['test'](String(_0xbeac2e));case'notMatchRegex':return!new RegExp(String(_0x16ea5e))[_0x268c56(0x6b9)](String(_0xbeac2e));default:return!0x1;}}catch(_0x3e976c){return this[_0x268c56(0x39f)][_0x268c56(0x834)](_0x268c56(0x1ae)+_0x3e976c),!0x1;}}async[a0_0x1bb7e5(0x58f)](_0x5c92c5,_0xf41b33){const _0x382b22=a0_0x1bb7e5;if(this['logger'][_0x382b22(0x1d7)](this['instanceName']+'\x20('+this[_0x382b22(0x3fc)][_0x382b22(0x860)]+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x5c92c5||!_0xf41b33)return this[_0x382b22(0x39f)]['error'](this[_0x382b22(0x7fe)]+'\x20('+this['instance'][_0x382b22(0x860)]+_0x382b22(0x82f)),null;let _0x5464ea=_0x5c92c5[_0x382b22(0x260)][_0x382b22(0x3f5)][_0x382b22(0x5bc)]['id'];this[_0x382b22(0x39f)][_0x382b22(0x1d7)](this[_0x382b22(0x7fe)]+'\x20('+this[_0x382b22(0x3fc)]['wuid']+_0x382b22(0x210)+_0x5464ea);let _0x4960ea={'key':{'id':_0x5464ea}},_0x1268d5=_0xf41b33[_0x382b22(0x56f)];_0x5c92c5[_0x382b22(0x260)]['realVariables']['_'+_0x1268d5+'.fileUrl']=null,_0x5c92c5[_0x382b22(0x260)]['realVariables']['_'+_0x1268d5+_0x382b22(0x528)]=null,_0x5c92c5[_0x382b22(0x260)][_0x382b22(0x473)]['_'+_0x1268d5+'.extension']=null,_0x5c92c5[_0x382b22(0x260)][_0x382b22(0x473)]['_'+_0x1268d5+_0x382b22(0x4a2)]=_0x5c92c5[_0x382b22(0x260)][_0x382b22(0x3f5)][_0x382b22(0x358)];try{let _0x2861d4=await this[_0x382b22(0x720)](_0x4960ea);this[_0x382b22(0x39f)][_0x382b22(0x1d7)](this[_0x382b22(0x7fe)]+'\x20('+this[_0x382b22(0x3fc)][_0x382b22(0x860)]+_0x382b22(0x7f0)),_0x5c92c5['chatLog'][_0x382b22(0x473)]['_'+_0x1268d5+'.url']=_0x2861d4['fileUrl'],_0x5c92c5[_0x382b22(0x260)][_0x382b22(0x473)]['_'+_0x1268d5+'.mimetype']=_0x2861d4[_0x382b22(0x8c6)];let _0x428644=_0x2861d4[_0x382b22(0x8c6)][_0x382b22(0x5ca)](/\/(\w+)$/),_0x194627=_0x428644?_0x428644[0x1]:null;_0x5c92c5[_0x382b22(0x260)][_0x382b22(0x473)]['_'+_0x1268d5+_0x382b22(0x59f)]=_0x194627,this[_0x382b22(0x39f)]['verbose'](this[_0x382b22(0x7fe)]+'\x20('+this[_0x382b22(0x3fc)][_0x382b22(0x860)]+_0x382b22(0x809)+_0x1268d5+'\x27.');}catch(_0x3b380e){this[_0x382b22(0x39f)][_0x382b22(0x834)](this['instanceName']+'\x20('+this[_0x382b22(0x3fc)][_0x382b22(0x860)]+_0x382b22(0x89b)+_0x3b380e[_0x382b22(0x865)]);}let _0x186f0d=_0x5c92c5[_0x382b22(0x260)]['lastReceivedMessage'][_0x382b22(0x56d)]||_0x5c92c5[_0x382b22(0x260)][_0x382b22(0x3f5)][_0x382b22(0x6fa)]||_0x5c92c5['chatLog'][_0x382b22(0x3f5)]['vote'];try{_0x5c92c5[_0x382b22(0x260)]['realVariables']||(_0x5c92c5[_0x382b22(0x260)][_0x382b22(0x473)]={});let _0x2c6da1=_0x5c92c5['chatLog'][_0x382b22(0x473)][_0x1268d5];_0x5c92c5['chatLog'][_0x382b22(0x473)][_0x1268d5]=_0x186f0d;let _0xfe9d32={'variable':_0x1268d5,'oldValue':_0x2c6da1,'newValue':_0x186f0d};this[_0x382b22(0x4bc)](_0x5c92c5,_0xf41b33,_0xfe9d32),this[_0x382b22(0x39f)][_0x382b22(0x1d7)](this[_0x382b22(0x7fe)]+'\x20('+this[_0x382b22(0x3fc)][_0x382b22(0x860)]+_0x382b22(0x770));}catch(_0x273403){let _0x1eb9e6={'error':!0x0,'errorLog':_0x273403['toString']()};return this[_0x382b22(0x4bc)](_0x5c92c5,_0xf41b33,_0x1eb9e6),this['logger']['error'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+(_0x273403 instanceof Error?_0x273403[_0x382b22(0x865)]:JSON[_0x382b22(0x84a)](_0x273403,null,0x2))),null;}}async[a0_0x1bb7e5(0x34a)](_0x491c1f,_0x101904){const _0x1c4cb7=a0_0x1bb7e5;if(this[_0x1c4cb7(0x39f)][_0x1c4cb7(0x1d7)](this[_0x1c4cb7(0x7fe)]+'\x20('+this['instance'][_0x1c4cb7(0x860)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x491c1f||!_0x101904)return this[_0x1c4cb7(0x39f)][_0x1c4cb7(0x834)](this['instanceName']+'\x20('+this[_0x1c4cb7(0x3fc)][_0x1c4cb7(0x860)]+_0x1c4cb7(0x82f)),null;let _0x4e6ec5=Date[_0x1c4cb7(0x559)](),_0x2e98e0=parseInt(_0x101904['stopMinutes'],0xa);if(isNaN(_0x2e98e0))return this[_0x1c4cb7(0x39f)]['error'](this[_0x1c4cb7(0x7fe)]+'\x20('+this[_0x1c4cb7(0x3fc)][_0x1c4cb7(0x860)]+_0x1c4cb7(0x2a1)),null;let _0x34c722={'newStoppedUntil':_0x4e6ec5+_0x2e98e0*0x3c*0x3e8};return await this[_0x1c4cb7(0x4bc)](_0x491c1f,_0x101904,_0x34c722,!0x0),null;}async['processUazapi'](_0x31d557,_0x20393e){const _0x3f99d3=a0_0x1bb7e5;try{switch(_0x20393e[_0x3f99d3(0x433)]['command']){case _0x3f99d3(0x79b):await this[_0x3f99d3(0x692)](_0x31d557,_0x20393e);break;case _0x3f99d3(0x739):await this[_0x3f99d3(0x6aa)](_0x31d557,_0x20393e);break;case _0x3f99d3(0x488):await this['uazapiSendLocation'](_0x31d557,_0x20393e);break;case _0x3f99d3(0x4ce):await this[_0x3f99d3(0x6cd)](_0x31d557,_0x20393e);break;case'sendContact':await this[_0x3f99d3(0x91b)](_0x31d557,_0x20393e);break;case _0x3f99d3(0x8e8):await this[_0x3f99d3(0x600)](_0x31d557,_0x20393e);break;case _0x3f99d3(0x699):await this[_0x3f99d3(0x600)](_0x31d557,_0x20393e);break;case _0x3f99d3(0x3e9):await this[_0x3f99d3(0x7f3)](_0x31d557,_0x20393e);break;default:this[_0x3f99d3(0x39f)][_0x3f99d3(0x834)](this['instanceName']+'\x20('+this['instance'][_0x3f99d3(0x860)]+_0x3f99d3(0x696)+_0x20393e[_0x3f99d3(0x433)][_0x3f99d3(0x43f)]);}}catch(_0x4be298){this[_0x3f99d3(0x39f)]['error'](this[_0x3f99d3(0x7fe)]+'\x20('+this['instance'][_0x3f99d3(0x860)]+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+(_0x4be298 instanceof Error?_0x4be298[_0x3f99d3(0x865)]:JSON[_0x3f99d3(0x84a)](_0x4be298,null,0x2)));}}async[a0_0x1bb7e5(0x4bc)](_0x2be8cf,_0x4d7781,_0x26f77a,_0x1e636d=!0x1,_0x4c84bb=!0x1){const _0x49fc44=a0_0x1bb7e5;_0x2be8cf['chatLog']['blockLogs']||(_0x2be8cf['chatLog'][_0x49fc44(0x295)]=[]);let _0x4a2821=(_0x2be8cf[_0x49fc44(0x260)]['blockLogs']?.[_0x49fc44(0x1e1)]??0x0)+0x1,_0x31984d=_0x2be8cf['chatLog'][_0x49fc44(0x295)]['filter'](_0x562dec=>String(_0x562dec[_0x49fc44(0x456)])===String(_0x4d7781[_0x49fc44(0x2c4)]))[_0x49fc44(0x1e1)]+0x1,_0x39699b=_0x26f77a?.['onTime']??Date['now'](),_0x394b09=_0x26f77a?.[_0x49fc44(0x834)]?_0x26f77a[_0x49fc44(0x821)]??_0x26f77a[_0x49fc44(0x834)][_0x49fc44(0x684)]():void 0x0,_0x821775={'onTime':_0x39699b,'blockId':_0x4d7781[_0x49fc44(0x2c4)],'order':_0x4a2821,'activatedCount':_0x31984d,'error':_0x26f77a?.[_0x49fc44(0x834)]??!0x1,'messageId':_0x26f77a?.[_0x49fc44(0x337)],'apiResponse':_0x26f77a?.[_0x49fc44(0x8ca)],'apiResponseString':_0x26f77a?.['apiResponse']?JSON[_0x49fc44(0x84a)](_0x26f77a?.[_0x49fc44(0x8ca)]):void 0x0,'variable':_0x26f77a?.[_0x49fc44(0x244)],'oldValue':_0x26f77a?.[_0x49fc44(0x902)],'newValue':_0x26f77a?.['newValue'],'newStoppedUntil':_0x26f77a?.[_0x49fc44(0x4d8)],'moreLogs':_0x26f77a?.['moreLogs'],'errorLog':_0x394b09};if(_0x26f77a['moreLogs']&&_0x26f77a[_0x49fc44(0x76c)][_0x49fc44(0x1e1)]>0x0){let _0x34e522=_0x26f77a[_0x49fc44(0x76c)][_0x49fc44(0x7b7)](_0x219695=>this[_0x49fc44(0x49a)](_0x219695,_0x2be8cf['chatLog']['realVariables']));_0x821775[_0x49fc44(0x76c)]=_0x34e522;}if(_0x2be8cf['chatLog'][_0x49fc44(0x473)]||(_0x2be8cf[_0x49fc44(0x260)][_0x49fc44(0x473)]={}),_0x2be8cf[_0x49fc44(0x260)][_0x49fc44(0x473)][_0x49fc44(0x7b9)]=String(_0x31984d),_0x2be8cf[_0x49fc44(0x260)][_0x49fc44(0x473)][_0x49fc44(0x8c5)]=String(_0x26f77a['error']??!0x1),_0x2be8cf[_0x49fc44(0x260)][_0x49fc44(0x295)][_0x49fc44(0x62c)](_0x821775),_0x2be8cf[_0x49fc44(0x260)][_0x49fc44(0x473)][_0x49fc44(0x89f)]&&_0x2be8cf[_0x49fc44(0x260)]['realVariables'][_0x49fc44(0x89f)]!==_0x2be8cf[_0x49fc44(0x6d1)]){let _0x4fccf1=(await this[_0x49fc44(0x596)]({'numbers':[_0x2be8cf[_0x49fc44(0x260)][_0x49fc44(0x473)]['telefone']]}))[0x0][_0x49fc44(0x6c0)];_0x2be8cf[_0x49fc44(0x260)][_0x49fc44(0x473)][_0x49fc44(0x89f)]=_0x4fccf1,_0x2be8cf[_0x49fc44(0x6d1)]=_0x4fccf1;try{let _0x3ea710={'_id':{'$ne':_0x2be8cf[_0x49fc44(0x2c4)]},'remoteJid':_0x4fccf1,'status':_0x49fc44(0x4c2)},_0x333043={'status':_0x49fc44(0x814)};await this[_0x49fc44(0x1da)]['flowConversation'][_0x49fc44(0x8bd)](_0x3ea710,_0x333043,this[_0x49fc44(0x3fc)][_0x49fc44(0x860)]),this[_0x49fc44(0x39f)][_0x49fc44(0x1d7)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.');}catch(_0x4433aa){this[_0x49fc44(0x39f)][_0x49fc44(0x834)](this[_0x49fc44(0x7fe)]+'\x20('+this[_0x49fc44(0x3fc)][_0x49fc44(0x860)]+_0x49fc44(0x28f)+_0x4433aa['message']);}try{let _0x585a89=_0x2be8cf[_0x49fc44(0x260)]['realVariables'],_0x279371=await this[_0x49fc44(0x76d)](_0x4fccf1),_0x3d67cc={..._0x585a89,..._0x279371,'_remoteJid':_0x4fccf1};_0x2be8cf[_0x49fc44(0x260)][_0x49fc44(0x473)]=_0x3d67cc;}catch(_0x56a436){this[_0x49fc44(0x39f)]['error'](this[_0x49fc44(0x7fe)]+'\x20('+this[_0x49fc44(0x3fc)]['wuid']+'):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20'+_0x56a436['message']);}}_0x2be8cf[_0x49fc44(0x260)]['lastBlockId']=_0x4d7781['_id']['toString'](),_0x2be8cf[_0x49fc44(0x260)][_0x49fc44(0x5bf)]&&(_0x2be8cf['chatLog'][_0x49fc44(0x5bf)]=_0x2be8cf[_0x49fc44(0x260)][_0x49fc44(0x5bf)]),_0x2be8cf['chatLog']['lastReceivedMessage']&&(_0x2be8cf[_0x49fc44(0x260)]['lastReceivedMessage']=_0x2be8cf[_0x49fc44(0x260)][_0x49fc44(0x3f5)]),_0x2be8cf['chatLog']['lastCondition']&&(_0x2be8cf['chatLog'][_0x49fc44(0x69c)]=_0x2be8cf['chatLog'][_0x49fc44(0x69c)]),_0x4c84bb&&(_0x2be8cf[_0x49fc44(0x362)]=_0x49fc44(0x814)),_0x1e636d?this[_0x49fc44(0x7cd)](_0x2be8cf):this[_0x49fc44(0x48c)](_0x2be8cf,_0x4d7781);}['replaceVariablesLogs'](_0x1e8ca7,_0x154078){const _0x5a956e=a0_0x1bb7e5;return _0x1e8ca7[_0x5a956e(0x40f)](/\{\{([^}]+)\}\}/g,(_0x4040a3,_0x2b117b)=>_0x154078[_0x2b117b]?'{{'+_0x2b117b+_0x5a956e(0x830)+_0x154078[_0x2b117b]+'\x22':'{{'+_0x2b117b+_0x5a956e(0x3f7));}async['saveConversationToDatabase'](_0x1cca17){const _0x58439d=a0_0x1bb7e5;try{let _0x3c8458=Object[_0x58439d(0x6d7)](_0x1cca17[_0x58439d(0x260)][_0x58439d(0x473)])[_0x58439d(0x7b7)](([_0x19bd86,_0x3cc0a0])=>({'name':_0x19bd86,'value':_0x3cc0a0})),_0x59e959={'status':_0x1cca17[_0x58439d(0x362)],'remoteJid':_0x1cca17[_0x58439d(0x6d1)],'blocks':_0x1cca17[_0x58439d(0x638)],'waitingMenu_id':_0x1cca17[_0x58439d(0x333)],'waitingMenu_text':_0x1cca17[_0x58439d(0x504)],'waitingMenu_replyOptions':_0x1cca17[_0x58439d(0x4dd)],'chatLog':{'lastBlockId':_0x1cca17['chatLog'][_0x58439d(0x712)],'lastSendMessage':_0x1cca17[_0x58439d(0x260)][_0x58439d(0x5bf)],'lastReceivedMessage':_0x1cca17[_0x58439d(0x260)][_0x58439d(0x3f5)],'lastCondition':_0x1cca17['chatLog'][_0x58439d(0x69c)],'chatVariables':_0x3c8458,'realVariables':_0x1cca17[_0x58439d(0x260)]['realVariables'],'blockLogs':_0x1cca17[_0x58439d(0x260)]['blockLogs']}},_0x48039b=await this[_0x58439d(0x1da)][_0x58439d(0x489)][_0x58439d(0x3dd)](_0x1cca17[_0x58439d(0x2c4)],_0x59e959,this[_0x58439d(0x3fc)][_0x58439d(0x860)]);if(_0x48039b){this[_0x58439d(0x39f)][_0x58439d(0x1d7)](this['instanceName']+'\x20('+this[_0x58439d(0x3fc)][_0x58439d(0x860)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x48039b[_0x58439d(0x2c4)]);try{let _0x17b323=[_0x58439d(0x7db),_0x58439d(0x349),_0x58439d(0x4e0),_0x58439d(0x234),_0x58439d(0x362),_0x58439d(0x8ba),_0x58439d(0x4ff),'tags',_0x58439d(0x5e3),_0x58439d(0x7e1)];if(!this[_0x58439d(0x399)]&&(await this[_0x58439d(0x5ae)](),!this[_0x58439d(0x399)]))throw new Error(_0x58439d(0x188));let _0x3f161f=this[_0x58439d(0x399)]?.['customFields'][_0x58439d(0x7b7)](_0xbe5e9c=>_0xbe5e9c['name']),_0x950fe={};Object[_0x58439d(0x6d7)](_0x1cca17[_0x58439d(0x260)][_0x58439d(0x473)])[_0x58439d(0x70b)](([_0xe701cc,_0x20a861])=>{const _0x39a05b=_0x58439d;_0x17b323['includes'](_0xe701cc)&&(_0xe701cc===_0x39a05b(0x480)&&typeof _0x20a861=='string'?_0x950fe[_0xe701cc]=_0x20a861[_0x39a05b(0x53e)](',')[_0x39a05b(0x7b7)](_0x47f269=>_0x47f269[_0x39a05b(0x8ad)]())[_0x39a05b(0x67b)](_0x5a00bc=>_0x5a00bc!==''):_0xe701cc===_0x39a05b(0x5e3)&&typeof _0x20a861==_0x39a05b(0x89c)?_0x950fe[_0xe701cc]=_0x20a861['split'](',')[_0x39a05b(0x7b7)](_0x266e7f=>_0x266e7f[_0x39a05b(0x8ad)]())['filter'](_0x2a7cdb=>_0x2a7cdb!==''):_0x950fe[_0xe701cc]=_0x20a861);});let _0x39ecf6=_0x1cca17[_0x58439d(0x260)][_0x58439d(0x295)][_0x1cca17['chatLog'][_0x58439d(0x295)][_0x58439d(0x1e1)]-0x1];if(_0x39ecf6){let _0x3658c9=_0x39ecf6[_0x58439d(0x4d8)];_0x3658c9!==void 0x0&&(_0x950fe[_0x58439d(0x577)]=_0x3658c9[_0x58439d(0x684)]());}let _0x4ac458=_0x3c8458[_0x58439d(0x67b)](_0x4a4d69=>_0x3f161f['includes'](_0x4a4d69[_0x58439d(0x8f0)]));this['logger'][_0x58439d(0x1d7)](this['instanceName']+'\x20('+this[_0x58439d(0x3fc)][_0x58439d(0x860)]+_0x58439d(0x3e5)),this['logger']['verbose'](_0x950fe),this[_0x58439d(0x39f)][_0x58439d(0x1d7)](this[_0x58439d(0x7fe)]+'\x20('+this[_0x58439d(0x3fc)][_0x58439d(0x860)]+_0x58439d(0x816)),this[_0x58439d(0x39f)][_0x58439d(0x1d7)](_0x4ac458);let _0x1da1a8=_0x4ac458[_0x58439d(0x7b7)](_0x49dc2f=>{const _0x28d104=_0x58439d;let _0x23ada2=this[_0x28d104(0x399)]?.[_0x28d104(0x653)][_0x28d104(0x42f)](_0x40b017=>_0x40b017[_0x28d104(0x8f0)]===_0x49dc2f[_0x28d104(0x8f0)]);if(!_0x23ada2)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x49dc2f['name']);return{'_id':_0x23ada2[_0x28d104(0x2c4)],'value':_0x49dc2f[_0x28d104(0x5af)]};});this[_0x58439d(0x39f)]['verbose'](this[_0x58439d(0x7fe)]+'\x20('+this['instance']['wuid']+_0x58439d(0x20e)),this[_0x58439d(0x39f)][_0x58439d(0x1d7)](_0x1da1a8),await this[_0x58439d(0x533)](_0x1cca17['remoteJid'],_0x950fe,_0x1da1a8);}catch(_0x5eaf2f){this['logger'][_0x58439d(0x834)](this[_0x58439d(0x7fe)]+'\x20('+this[_0x58439d(0x3fc)][_0x58439d(0x860)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0x5eaf2f instanceof Error?_0x5eaf2f['message']:JSON['stringify'](_0x5eaf2f,null,0x2)));}}else this[_0x58439d(0x39f)]['error'](this[_0x58439d(0x7fe)]+'\x20('+this[_0x58439d(0x3fc)][_0x58439d(0x860)]+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x36a482){this['logger'][_0x58439d(0x834)](this[_0x58439d(0x7fe)]+'\x20('+this[_0x58439d(0x3fc)][_0x58439d(0x860)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0x36a482 instanceof Error?_0x36a482['message']:JSON[_0x58439d(0x84a)](_0x36a482,null,0x2)));}}async[a0_0x1bb7e5(0x533)](_0x316d77,_0x371a4e,_0x170467){const _0x1e516e=a0_0x1bb7e5;try{let _0x5c9efe={'leadInfo.leadnome':_0x371a4e[_0x1e516e(0x7db)],'leadInfo.nomecompleto':_0x371a4e[_0x1e516e(0x349)],'leadInfo.email':_0x371a4e[_0x1e516e(0x4e0)],'leadInfo.cpf':_0x371a4e[_0x1e516e(0x234)],'leadInfo.status':_0x371a4e[_0x1e516e(0x362)],'leadInfo.notas':_0x371a4e[_0x1e516e(0x8ba)],'leadInfo.responsavelid':_0x371a4e[_0x1e516e(0x4ff)],'leadInfo.tags':_0x371a4e[_0x1e516e(0x480)],'leadInfo.etiquetas':_0x371a4e[_0x1e516e(0x5e3)],'leadInfo.customFields':_0x170467,'leadInfo.atendimentoAberto':_0x371a4e[_0x1e516e(0x7e1)]},_0x512241=await this[_0x1e516e(0x1da)][_0x1e516e(0x4cc)][_0x1e516e(0x1fa)]({'where':{'_id':_0x316d77}},this['instance']['wuid']);if(!_0x512241)return _0x1e516e(0x63c);let _0x41ae42=new Set(_0x512241['leadInfo'][_0x1e516e(0x5e3)]||[]),_0x56417e=new Set(_0x371a4e[_0x1e516e(0x5e3)]||[]),_0x6e3706=await this[_0x1e516e(0x1da)][_0x1e516e(0x21a)][_0x1e516e(0x42f)]({'where':{}},this[_0x1e516e(0x3fc)]['wuid']),_0x5b04c1=new Set(_0x6e3706[_0x1e516e(0x7b7)](_0x2bf13d=>_0x2bf13d[_0x1e516e(0x2c4)])),_0x542ef7=[..._0x56417e][_0x1e516e(0x67b)](_0x44ceb1=>!_0x41ae42[_0x1e516e(0x4f9)](_0x44ceb1)&&_0x5b04c1[_0x1e516e(0x4f9)](_0x44ceb1)),_0x24d0fa=[..._0x41ae42][_0x1e516e(0x67b)](_0x53067d=>!_0x56417e[_0x1e516e(0x4f9)](_0x53067d));for(let _0x233e8d of _0x542ef7)await this[_0x1e516e(0x526)](_0x233e8d,_0x512241[_0x1e516e(0x2c4)]),_0x41ae42['add'](_0x233e8d);for(let _0xe13699 of _0x24d0fa)await this[_0x1e516e(0x1eb)](_0xe13699,_0x512241[_0x1e516e(0x2c4)]),_0x41ae42[_0x1e516e(0x5f4)](_0xe13699);if(_0x1e516e(0x577)in _0x371a4e){let _0x483ea8=_0x371a4e['desativadoFluxoAte'];_0x5c9efe[_0x1e516e(0x190)]=_0x483ea8?Number(_0x483ea8):null;}if(_0x1e516e(0x7e1)in _0x371a4e){let _0xdb2b23=_0x371a4e['atendimentoAberto'][_0x1e516e(0x519)]();_0x5c9efe[_0x1e516e(0x273)]=_0xdb2b23==='true'||_0xdb2b23==='1'||_0xdb2b23===_0x1e516e(0x28c)||_0xdb2b23===_0x1e516e(0x2ef);}let _0x356a7e=await this[_0x1e516e(0x1da)][_0x1e516e(0x4cc)][_0x1e516e(0x3dd)]({'where':{'_id':_0x316d77}},_0x5c9efe,this[_0x1e516e(0x3fc)][_0x1e516e(0x860)]);_0x356a7e?(this[_0x1e516e(0x39f)]['verbose'](this[_0x1e516e(0x7fe)]+'\x20('+this[_0x1e516e(0x3fc)][_0x1e516e(0x860)]+_0x1e516e(0x39b)+_0x356a7e['_id']),F(this[_0x1e516e(0x7fe)],'chats',{'chat':_0x356a7e})):this[_0x1e516e(0x39f)]['error'](this[_0x1e516e(0x7fe)]+'\x20('+this[_0x1e516e(0x3fc)][_0x1e516e(0x860)]+_0x1e516e(0x286));}catch(_0x547439){this[_0x1e516e(0x39f)]['error'](this[_0x1e516e(0x7fe)]+'\x20('+this[_0x1e516e(0x3fc)][_0x1e516e(0x860)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x547439 instanceof Error?_0x547439[_0x1e516e(0x865)]:JSON[_0x1e516e(0x84a)](_0x547439,null,0x2)));}}async[a0_0x1bb7e5(0x306)](_0x583a08,_0x5613a2){const _0x17fa4e=a0_0x1bb7e5;this['logger'][_0x17fa4e(0x1d7)](this[_0x17fa4e(0x7fe)]+'\x20('+this['instance'][_0x17fa4e(0x860)]+'):\x20atualização\x20chat:\x20'+_0x5613a2);try{let _0x561e7a=await this[_0x17fa4e(0x1da)][_0x17fa4e(0x4cc)][_0x17fa4e(0x3dd)]({'where':{'_id':_0x583a08[_0x17fa4e(0x6d1)]}},{'leadInfo.desativadoFluxoAte':_0x5613a2},this[_0x17fa4e(0x3fc)][_0x17fa4e(0x860)]);this[_0x17fa4e(0x39f)]['verbose'](this[_0x17fa4e(0x7fe)]+'\x20('+this['instance'][_0x17fa4e(0x860)]+_0x17fa4e(0x5eb)+_0x583a08[_0x17fa4e(0x2c4)]),this[_0x17fa4e(0x39f)]['verbose'](this[_0x17fa4e(0x7fe)]+'\x20('+this[_0x17fa4e(0x3fc)]['wuid']+_0x17fa4e(0x3f2)+JSON[_0x17fa4e(0x84a)](_0x561e7a,null,0x2)),_0x561e7a&&F(this['instanceName'],'chats',{'chat':_0x561e7a});}catch(_0x34616f){this[_0x17fa4e(0x39f)]['error'](this['instanceName']+'\x20('+this[_0x17fa4e(0x3fc)][_0x17fa4e(0x860)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x34616f instanceof Error?_0x34616f[_0x17fa4e(0x865)]:JSON[_0x17fa4e(0x84a)](_0x34616f,null,0x2)));}}async[a0_0x1bb7e5(0x769)](_0x4483d5){const _0xf5a867=a0_0x1bb7e5;try{this[_0xf5a867(0x39f)][_0xf5a867(0x1d7)](this[_0xf5a867(0x7fe)]+'\x20('+this[_0xf5a867(0x3fc)][_0xf5a867(0x860)]+_0xf5a867(0x74e));let _0x949c4a=_0x4483d5[_0xf5a867(0x40f)](/\D/g,''),_0x3e4f4c=this[_0xf5a867(0x399)]['flows'][_0xf5a867(0x42f)](_0x537936=>_0x537936[_0xf5a867(0x7f1)]===_0x949c4a);if(_0x3e4f4c||(this[_0xf5a867(0x39f)][_0xf5a867(0x1d7)](this[_0xf5a867(0x7fe)]+'\x20('+this['instance']['wuid']+_0xf5a867(0x7ff)),_0x3e4f4c=this[_0xf5a867(0x399)][_0xf5a867(0x5a2)][_0xf5a867(0x42f)](_0x4e4ae9=>_0x4e4ae9['default']===!0x0)),!_0x3e4f4c)return this[_0xf5a867(0x39f)][_0xf5a867(0x1d7)](this['instanceName']+'\x20('+this[_0xf5a867(0x3fc)]['wuid']+_0xf5a867(0x69b)),null;let _0x29fc1c=await this[_0xf5a867(0x1da)][_0xf5a867(0x21f)][_0xf5a867(0x1fa)]({'where':{'_id':_0x3e4f4c['_id']}});if(!_0x29fc1c||!_0x29fc1c['whoCanUse']?.[_0xf5a867(0x460)](this[_0xf5a867(0x3fc)]['wuid']))throw this[_0xf5a867(0x39f)][_0xf5a867(0x834)](this[_0xf5a867(0x7fe)]+'\x20('+this[_0xf5a867(0x3fc)][_0xf5a867(0x860)]+'):\x20Flow\x20\x27'+_0x29fc1c[_0xf5a867(0x2c4)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0xf5a867(0x194)+_0x29fc1c[_0xf5a867(0x2c4)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');return _0x29fc1c;}catch(_0x1a091c){return this['logger'][_0xf5a867(0x834)](this[_0xf5a867(0x7fe)]+'\x20('+this[_0xf5a867(0x3fc)][_0xf5a867(0x860)]+_0xf5a867(0x6a6)+(_0x1a091c instanceof Error?_0x1a091c[_0xf5a867(0x865)]:JSON['stringify'](_0x1a091c,null,0x2))),null;}}async[a0_0x1bb7e5(0x531)](_0x3937e,_0x19805b){const _0x3b5447=a0_0x1bb7e5;try{let _0x419a37=!!_0x19805b[_0x3b5447(0x22f)],_0x554834=_0x19805b[_0x3b5447(0x48e)],_0x1bf6e7=null;if(this[_0x3b5447(0x39f)][_0x3b5447(0x1d7)](this['instanceName']+'\x20('+this[_0x3b5447(0x3fc)][_0x3b5447(0x860)]+_0x3b5447(0x46b)+_0x419a37+_0x3b5447(0x5c7)+_0x554834),_0x419a37){this['logger']['verbose'](this[_0x3b5447(0x7fe)]+'\x20('+this[_0x3b5447(0x3fc)][_0x3b5447(0x860)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x23e3d8={'where':{'remoteJid':_0x3937e,'waitingMenu_id':_0x554834}};if(_0x1bf6e7=await this[_0x3b5447(0x1da)]['flowConversation']['findOne'](_0x23e3d8,this[_0x3b5447(0x3fc)][_0x3b5447(0x860)]),!_0x1bf6e7)return this[_0x3b5447(0x39f)]['verbose'](this[_0x3b5447(0x7fe)]+'\x20('+this[_0x3b5447(0x3fc)][_0x3b5447(0x860)]+_0x3b5447(0x1e0)),null;let _0x41f237=Date[_0x3b5447(0x559)](),_0x411a14=_0x1bf6e7?.[_0x3b5447(0x335)]||0x0,_0x2b8aec=_0x41f237-_0x411a14*0x3c*0x3e8;if(_0x1bf6e7['lastInteraction']<_0x2b8aec){this[_0x3b5447(0x39f)][_0x3b5447(0x1d7)](this['instanceName']+'\x20('+this[_0x3b5447(0x3fc)][_0x3b5447(0x860)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x40f473={'number':_0x1bf6e7['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x1bf6e7[_0x3b5447(0x253)]}};await this['textMessage'](_0x40f473);let _0x170c0c={'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x3b5447(0x1da)][_0x3b5447(0x489)]['updateOne'](_0x1bf6e7[_0x3b5447(0x2c4)],_0x170c0c,this[_0x3b5447(0x3fc)][_0x3b5447(0x860)]),null;}return _0x1bf6e7[_0x3b5447(0x439)]=Date[_0x3b5447(0x559)](),_0x1bf6e7[_0x3b5447(0x260)][_0x3b5447(0x3f5)]=_0x19805b,_0x1bf6e7;}else{this[_0x3b5447(0x39f)][_0x3b5447(0x1d7)](this[_0x3b5447(0x7fe)]+'\x20('+this[_0x3b5447(0x3fc)]['wuid']+_0x3b5447(0x69d)+this['instance'][_0x3b5447(0x860)]+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this[_0x3b5447(0x39f)][_0x3b5447(0x1d7)](this[_0x3b5447(0x7fe)]+'\x20('+this[_0x3b5447(0x3fc)][_0x3b5447(0x860)]+_0x3b5447(0x76f));let _0xa90553={'where':{'remoteJid':_0x3937e,'status':_0x3b5447(0x4c2)}};if(_0x1bf6e7=await this[_0x3b5447(0x1da)][_0x3b5447(0x489)][_0x3b5447(0x1fa)](_0xa90553,this[_0x3b5447(0x3fc)][_0x3b5447(0x860)]),!_0x1bf6e7){let _0xa22fa4=await this[_0x3b5447(0x769)](_0x3937e);if(_0xa22fa4&&(_0x1bf6e7=await this['createNewConversation'](_0xa22fa4,_0x19805b['key'],_0x19805b)),!_0x1bf6e7)return null;}let _0x51897c=Date[_0x3b5447(0x559)](),_0x9b4ca3=_0x1bf6e7?.[_0x3b5447(0x335)]||0x0,_0x3282a8=_0x51897c-_0x9b4ca3*0x3c*0x3e8;if(this['logger'][_0x3b5447(0x1d7)](this[_0x3b5447(0x7fe)]+'\x20('+this[_0x3b5447(0x3fc)]['wuid']+_0x3b5447(0x40a)+_0x51897c+_0x3b5447(0x2aa)+_0x9b4ca3+_0x3b5447(0x584)+_0x3282a8),this[_0x3b5447(0x39f)][_0x3b5447(0x1d7)](this[_0x3b5447(0x7fe)]+'\x20('+this[_0x3b5447(0x3fc)][_0x3b5447(0x860)]+_0x3b5447(0x820)),this['logger'][_0x3b5447(0x1d7)](this[_0x3b5447(0x7fe)]+'\x20('+this[_0x3b5447(0x3fc)][_0x3b5447(0x860)]+_0x3b5447(0x55b)+_0x1bf6e7[_0x3b5447(0x439)]),this[_0x3b5447(0x39f)]['verbose'](this[_0x3b5447(0x7fe)]+'\x20('+this[_0x3b5447(0x3fc)]['wuid']+_0x3b5447(0x47e)+_0x3282a8),_0x1bf6e7[_0x3b5447(0x439)]<_0x3282a8){this['logger'][_0x3b5447(0x1d7)](this[_0x3b5447(0x7fe)]+'\x20('+this[_0x3b5447(0x3fc)][_0x3b5447(0x860)]+'):\x20Conversa\x20está\x20expirada');let _0x58c9a3=await this[_0x3b5447(0x769)](_0x3937e);if(_0x58c9a3===null)return null;_0x1bf6e7&&await this[_0x3b5447(0x1da)]['flowConversation'][_0x3b5447(0x3dd)](_0x1bf6e7[_0x3b5447(0x2c4)],{'status':_0x3b5447(0x814)},this[_0x3b5447(0x3fc)][_0x3b5447(0x860)]),_0x1bf6e7=await this['createNewConversation'](_0x58c9a3,_0x19805b[_0x3b5447(0x5bc)],_0x19805b);}return _0x1bf6e7[_0x3b5447(0x439)]=_0x51897c,_0x1bf6e7[_0x3b5447(0x260)][_0x3b5447(0x3f5)]=_0x19805b,_0x1bf6e7;}}catch(_0x10b8e7){return this[_0x3b5447(0x39f)][_0x3b5447(0x834)](this[_0x3b5447(0x7fe)]+'\x20('+this[_0x3b5447(0x3fc)][_0x3b5447(0x860)]+_0x3b5447(0x86a)+(_0x10b8e7 instanceof Error?_0x10b8e7['message']:JSON['stringify'](_0x10b8e7,null,0x2))),null;}}async[a0_0x1bb7e5(0x54a)](_0xd4bbfc,_0x214341,_0xf0ec75){const _0x39e95a=a0_0x1bb7e5;this[_0x39e95a(0x39f)][_0x39e95a(0x1d7)](this[_0x39e95a(0x7fe)]+'\x20('+this[_0x39e95a(0x3fc)]['wuid']+_0x39e95a(0x81a));try{let _0x26dc8=require('mongodb')['ObjectId'],_0x1d55f3=Date['now'](),_0x122a29=_0x39e95a(0x19a),_0x5b85f0=_0x214341[_0x39e95a(0x1ef)]?null:_0xf0ec75,_0x4369aa=_0x214341['fromMe']?_0xf0ec75:null,_0x3eabc4=_0x214341[_0x39e95a(0x6d1)],_0x3a390b=this[_0x39e95a(0x399)][_0x39e95a(0x5a2)][_0x39e95a(0x42f)](_0x46745c=>_0x46745c[_0x39e95a(0x2c4)]===_0xd4bbfc['_id']?.[_0x39e95a(0x684)]()),_0x3e4c09=_0x3a390b?.['minutesToClose']??_0xd4bbfc[_0x39e95a(0x335)]??0x0,_0x1bd91f=_0x3a390b?.[_0x39e95a(0x395)]??_0xd4bbfc[_0x39e95a(0x395)]??!0x1;await this[_0x39e95a(0x51e)](_0x3eabc4);let _0x19f9dd={'flowId':_0xd4bbfc['_id'],..._0xd4bbfc,'chatLog':null},_0x353506=await this[_0x39e95a(0x8f2)](_0x19f9dd['variables']),_0x4b1c68=await this[_0x39e95a(0x76d)](_0x3eabc4),_0xf9a92a={..._0x353506,..._0x4b1c68,'_remoteJid':_0x3eabc4},_0x4f8505={'lastReceivedMessage':_0x5b85f0,'lastSendMessage':_0x4369aa,'lastBlockId':_0x122a29,'lastCondition':!0x0,'realVariables':_0xf9a92a};_0x19f9dd[_0x39e95a(0x260)]=_0x4f8505,delete _0x19f9dd[_0x39e95a(0x2c4)],_0x19f9dd['_id']=new _0x26dc8(),_0x19f9dd['lastInteraction']=_0x1d55f3,_0x19f9dd[_0x39e95a(0x362)]=_0x39e95a(0x4c2),_0x19f9dd['remoteJid']=_0x3eabc4,_0x19f9dd[_0x39e95a(0x335)]=_0x3e4c09,_0x19f9dd['readMessages']=_0x1bd91f;let _0x225d59=await this[_0x39e95a(0x1da)][_0x39e95a(0x489)][_0x39e95a(0x3dd)](_0x19f9dd[_0x39e95a(0x2c4)],_0x19f9dd,this['instance'][_0x39e95a(0x860)]);return this['logger']['verbose'](this[_0x39e95a(0x7fe)]+'\x20('+this['instance'][_0x39e95a(0x860)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x225d59?_0x19f9dd:null;}catch(_0x43c17e){return this[_0x39e95a(0x39f)][_0x39e95a(0x834)](this[_0x39e95a(0x7fe)]+'\x20('+this[_0x39e95a(0x3fc)][_0x39e95a(0x860)]+_0x39e95a(0x345)+(_0x43c17e instanceof Error?_0x43c17e[_0x39e95a(0x865)]:JSON['stringify'](_0x43c17e,null,0x2))),_0x43c17e;}}async[a0_0x1bb7e5(0x692)](_0x37e769,_0x3e483a){const _0x5bed23=a0_0x1bb7e5;let _0x10b3cd=_0x37e769[_0x5bed23(0x6d1)];_0x3e483a[_0x5bed23(0x433)][_0x5bed23(0x6d1)]&&_0x3e483a[_0x5bed23(0x433)][_0x5bed23(0x6d1)][_0x5bed23(0x8ad)]()!==''&&(_0x10b3cd=_0x3e483a[_0x5bed23(0x433)]['remoteJid'][_0x5bed23(0x8ad)]()),this[_0x5bed23(0x39f)][_0x5bed23(0x1d7)](this['instanceName']+'\x20('+this[_0x5bed23(0x3fc)][_0x5bed23(0x860)]+'):\x20Enviando\x20texto');let _0x564452={'number':_0x10b3cd,'options':{'delay':_0x3e483a[_0x5bed23(0x433)][_0x5bed23(0x6e3)],'linkPreview':_0x3e483a[_0x5bed23(0x433)][_0x5bed23(0x783)]},'textMessage':{'text':_0x3e483a['uazapi'][_0x5bed23(0x56d)]}};try{let _0xd3f1f3=await this[_0x5bed23(0x617)](_0x564452);if(_0xd3f1f3){let _0x59f0b9={'_id':_0xd3f1f3['key']['id'],'_fromMe':_0xd3f1f3['key'][_0x5bed23(0x1ef)],'_remoteJid':_0xd3f1f3[_0x5bed23(0x5bc)][_0x5bed23(0x6d1)]},_0x1c604e=(0x0,w[_0x5bed23(0x6cb)])(_0xd3f1f3[_0x5bed23(0x865)]),_0x55b6c4=(0x0,w[_0x5bed23(0x672)])(_0x1c604e);_0x37e769[_0x5bed23(0x260)][_0x5bed23(0x712)]=_0x3e483a['_id'][_0x5bed23(0x684)]();let {message_normalized:_0x5b870d}=this[_0x5bed23(0x561)](_0x1c604e,_0x55b6c4,null);_0x37e769['chatLog'][_0x5bed23(0x5bf)]=await _0x5b870d;let _0x29d3cc={'messageId':_0xd3f1f3[_0x5bed23(0x5bc)]['id']},_0x594ca8=_0x37e769[_0x5bed23(0x260)][_0x5bed23(0x473)];Object['assign'](_0x594ca8,_0x59f0b9),_0x37e769[_0x5bed23(0x260)][_0x5bed23(0x473)]=_0x594ca8,this[_0x5bed23(0x4bc)](_0x37e769,_0x3e483a,_0x29d3cc);}else{let _0x2295f1={'error':!0x0};this[_0x5bed23(0x4bc)](_0x37e769,_0x3e483a,_0x2295f1),this[_0x5bed23(0x39f)]['error'](this[_0x5bed23(0x7fe)]+'\x20('+this[_0x5bed23(0x3fc)][_0x5bed23(0x860)]+_0x5bed23(0x64d));}}catch(_0x5b4919){let _0x5b8169={'error':!0x0,'errorLog':_0x5b4919['toString']()};this[_0x5bed23(0x4bc)](_0x37e769,_0x3e483a,_0x5b8169),this[_0x5bed23(0x39f)]['error'](this[_0x5bed23(0x7fe)]+'\x20('+this[_0x5bed23(0x3fc)][_0x5bed23(0x860)]+_0x5bed23(0x6f4)+(_0x5b4919 instanceof Error?_0x5b4919[_0x5bed23(0x865)]:JSON[_0x5bed23(0x84a)](_0x5b4919,null,0x2)));}}async[a0_0x1bb7e5(0x6aa)](_0x3883eb,_0x3ef04a){const _0x1621ab=a0_0x1bb7e5;let _0x1c8d90=_0x3883eb[_0x1621ab(0x6d1)];_0x3ef04a[_0x1621ab(0x433)][_0x1621ab(0x6d1)]&&_0x3ef04a[_0x1621ab(0x433)]['remoteJid']['trim']()!==''&&(_0x1c8d90=_0x3ef04a[_0x1621ab(0x433)][_0x1621ab(0x6d1)][_0x1621ab(0x8ad)]()),this['logger'][_0x1621ab(0x1d7)](this[_0x1621ab(0x7fe)]+'\x20('+this['instance'][_0x1621ab(0x860)]+'):\x20Enviando\x20mídia');let _0x302146={'number':_0x1c8d90,'options':{'delay':_0x3ef04a[_0x1621ab(0x433)][_0x1621ab(0x6e3)],'linkPreview':_0x3ef04a[_0x1621ab(0x433)]['linkPreview']},'mediaMessage':{'mediatype':_0x3ef04a[_0x1621ab(0x433)][_0x1621ab(0x893)],'caption':_0x3ef04a['uazapi'][_0x1621ab(0x6fa)],'media':_0x3ef04a['uazapi'][_0x1621ab(0x8d7)],'fileName':_0x3ef04a[_0x1621ab(0x433)]['fileName']}};try{let _0x5720d4=await this[_0x1621ab(0x897)](_0x302146);if(_0x5720d4){let _0x3f83a6={'_id':_0x5720d4[_0x1621ab(0x5bc)]['id'],'_fromMe':_0x5720d4[_0x1621ab(0x5bc)][_0x1621ab(0x1ef)],'_remoteJid':_0x5720d4[_0x1621ab(0x5bc)][_0x1621ab(0x6d1)]},_0x13d357=(0x0,w[_0x1621ab(0x6cb)])(_0x5720d4[_0x1621ab(0x865)]),_0x41078f=(0x0,w[_0x1621ab(0x672)])(_0x13d357);_0x3883eb[_0x1621ab(0x260)][_0x1621ab(0x712)]=_0x3ef04a['_id']['toString']();let {message_normalized:_0x3e7421}=this[_0x1621ab(0x561)](_0x13d357,_0x41078f,null);_0x3883eb['chatLog'][_0x1621ab(0x5bf)]=await _0x3e7421;let _0x429177={'messageId':_0x5720d4[_0x1621ab(0x5bc)]['id']},_0x2f3d0f=_0x3883eb[_0x1621ab(0x260)][_0x1621ab(0x473)];Object['assign'](_0x2f3d0f,_0x3f83a6),_0x3883eb['chatLog'][_0x1621ab(0x473)]=_0x2f3d0f,this[_0x1621ab(0x4bc)](_0x3883eb,_0x3ef04a,_0x429177);}else{let _0x4ef7bb={'error':!0x0};this[_0x1621ab(0x4bc)](_0x3883eb,_0x3ef04a,_0x4ef7bb),this[_0x1621ab(0x39f)]['error'](this['instanceName']+'\x20('+this[_0x1621ab(0x3fc)]['wuid']+_0x1621ab(0x671));}}catch(_0x231f3a){let _0x315b1a={'error':!0x0,'errorLog':_0x231f3a['toString']()};this[_0x1621ab(0x4bc)](_0x3883eb,_0x3ef04a,_0x315b1a),this['logger'][_0x1621ab(0x834)](this['instanceName']+'\x20('+this[_0x1621ab(0x3fc)][_0x1621ab(0x860)]+_0x1621ab(0x51a)+(_0x231f3a instanceof Error?_0x231f3a['message']:JSON[_0x1621ab(0x84a)](_0x231f3a,null,0x2)));}}async[a0_0x1bb7e5(0x34c)](_0x36e284,_0x3960f3){const _0x34ed58=a0_0x1bb7e5;let _0x3fd712=_0x36e284[_0x34ed58(0x6d1)];_0x3960f3[_0x34ed58(0x433)][_0x34ed58(0x6d1)]&&_0x3960f3[_0x34ed58(0x433)][_0x34ed58(0x6d1)][_0x34ed58(0x8ad)]()!==''&&(_0x3fd712=_0x3960f3[_0x34ed58(0x433)]['remoteJid'][_0x34ed58(0x8ad)]()),this['logger']['verbose'](this[_0x34ed58(0x7fe)]+'\x20('+this[_0x34ed58(0x3fc)]['wuid']+_0x34ed58(0x217));let _0x39f8b1={'number':_0x3fd712,'options':{'delay':_0x3960f3[_0x34ed58(0x433)][_0x34ed58(0x6e3)]},'locationMessage':{'name':_0x3960f3[_0x34ed58(0x433)]['name'],'address':_0x3960f3[_0x34ed58(0x433)][_0x34ed58(0x38c)],'latitude':_0x3960f3['uazapi']['latitude'],'longitude':_0x3960f3[_0x34ed58(0x433)]['longitude']}};try{let _0x3e7fdc=await this[_0x34ed58(0x694)](_0x39f8b1);if(_0x3e7fdc){let _0x3a6ffe={'_id':_0x3e7fdc['key']['id'],'_fromMe':_0x3e7fdc[_0x34ed58(0x5bc)][_0x34ed58(0x1ef)],'_remoteJid':_0x3e7fdc['key'][_0x34ed58(0x6d1)]},_0x3fe63c=(0x0,w[_0x34ed58(0x6cb)])(_0x3e7fdc[_0x34ed58(0x865)]),_0x3c2f6e=(0x0,w[_0x34ed58(0x672)])(_0x3fe63c);_0x36e284['chatLog']['lastBlockId']=_0x3960f3[_0x34ed58(0x2c4)][_0x34ed58(0x684)]();let {message_normalized:_0x48aeaf}=this[_0x34ed58(0x561)](_0x3fe63c,_0x3c2f6e,null);_0x36e284['chatLog']['lastSendMessage']=await _0x48aeaf;let _0x2e4f17={'messageId':_0x3e7fdc[_0x34ed58(0x5bc)]['id']},_0x3cbb12=_0x36e284[_0x34ed58(0x260)][_0x34ed58(0x473)];Object[_0x34ed58(0x2f6)](_0x3cbb12,_0x3a6ffe),_0x36e284[_0x34ed58(0x260)][_0x34ed58(0x473)]=_0x3cbb12,this[_0x34ed58(0x4bc)](_0x36e284,_0x3960f3,_0x2e4f17);}else{let _0x5686f0={'error':!0x0};this['updateConversation'](_0x36e284,_0x3960f3,_0x5686f0),this[_0x34ed58(0x39f)][_0x34ed58(0x834)](this[_0x34ed58(0x7fe)]+'\x20('+this['instance'][_0x34ed58(0x860)]+_0x34ed58(0x287));}}catch(_0x1786f1){let _0x25fa23={'error':!0x0,'errorLog':_0x1786f1[_0x34ed58(0x684)]()};this[_0x34ed58(0x4bc)](_0x36e284,_0x3960f3,_0x25fa23),this['logger'][_0x34ed58(0x834)](this[_0x34ed58(0x7fe)]+'\x20('+this[_0x34ed58(0x3fc)][_0x34ed58(0x860)]+_0x34ed58(0x651)+(_0x1786f1 instanceof Error?_0x1786f1[_0x34ed58(0x865)]:JSON['stringify'](_0x1786f1,null,0x2)));}}async['uazapiSendAudio'](_0x4fa7fd,_0xc7ebca){const _0x4eb5f2=a0_0x1bb7e5;let _0x229d21=_0x4fa7fd['remoteJid'];_0xc7ebca[_0x4eb5f2(0x433)][_0x4eb5f2(0x6d1)]&&_0xc7ebca[_0x4eb5f2(0x433)][_0x4eb5f2(0x6d1)][_0x4eb5f2(0x8ad)]()!==''&&(_0x229d21=_0xc7ebca[_0x4eb5f2(0x433)][_0x4eb5f2(0x6d1)][_0x4eb5f2(0x8ad)]()),this[_0x4eb5f2(0x39f)][_0x4eb5f2(0x1d7)](this[_0x4eb5f2(0x7fe)]+'\x20('+this[_0x4eb5f2(0x3fc)][_0x4eb5f2(0x860)]+_0x4eb5f2(0x8bf));let _0x4d7d46={'number':_0x229d21,'options':{'delay':_0xc7ebca[_0x4eb5f2(0x433)]['delay']},'audioMessage':{'audio':_0xc7ebca[_0x4eb5f2(0x433)][_0x4eb5f2(0x582)]}};try{let _0x590c43=await this[_0x4eb5f2(0x443)](_0x4d7d46);if(_0x590c43){let _0x32132c={'_id':_0x590c43[_0x4eb5f2(0x5bc)]['id'],'_fromMe':_0x590c43['key'][_0x4eb5f2(0x1ef)],'_remoteJid':_0x590c43[_0x4eb5f2(0x5bc)][_0x4eb5f2(0x6d1)]},_0x89a133=(0x0,w[_0x4eb5f2(0x6cb)])(_0x590c43[_0x4eb5f2(0x865)]),_0x2ab62f=(0x0,w['getContentType'])(_0x89a133);_0x4fa7fd[_0x4eb5f2(0x260)][_0x4eb5f2(0x712)]=_0xc7ebca['_id'][_0x4eb5f2(0x684)]();let {message_normalized:_0x533518}=this[_0x4eb5f2(0x561)](_0x89a133,_0x2ab62f,null);_0x4fa7fd[_0x4eb5f2(0x260)]['lastSendMessage']=await _0x533518;let _0x42f89d={'messageId':_0x590c43[_0x4eb5f2(0x5bc)]['id']},_0x314cf3=_0x4fa7fd['chatLog']['realVariables'];Object['assign'](_0x314cf3,_0x32132c),_0x4fa7fd[_0x4eb5f2(0x260)][_0x4eb5f2(0x473)]=_0x314cf3,this['updateConversation'](_0x4fa7fd,_0xc7ebca,_0x42f89d);}else{let _0x267cad={'error':!0x0};this[_0x4eb5f2(0x4bc)](_0x4fa7fd,_0xc7ebca,_0x267cad),this[_0x4eb5f2(0x39f)][_0x4eb5f2(0x834)](this[_0x4eb5f2(0x7fe)]+'\x20('+this[_0x4eb5f2(0x3fc)]['wuid']+_0x4eb5f2(0x581));}}catch(_0x4df82e){let _0x183255={'error':!0x0,'errorLog':_0x4df82e[_0x4eb5f2(0x684)]()};this['updateConversation'](_0x4fa7fd,_0xc7ebca,_0x183255),this[_0x4eb5f2(0x39f)][_0x4eb5f2(0x834)](this['instanceName']+'\x20('+this[_0x4eb5f2(0x3fc)]['wuid']+_0x4eb5f2(0x3bd)+(_0x4df82e instanceof Error?_0x4df82e['message']:JSON[_0x4eb5f2(0x84a)](_0x4df82e,null,0x2)));}}async['uazapiSendContact'](_0x4ea233,_0x3f79fe){const _0x1fe642=a0_0x1bb7e5;let _0x5584e7=_0x4ea233[_0x1fe642(0x6d1)];_0x3f79fe[_0x1fe642(0x433)]['remoteJid']&&_0x3f79fe[_0x1fe642(0x433)][_0x1fe642(0x6d1)][_0x1fe642(0x8ad)]()!==''&&(_0x5584e7=_0x3f79fe[_0x1fe642(0x433)][_0x1fe642(0x6d1)][_0x1fe642(0x8ad)]()),this[_0x1fe642(0x39f)][_0x1fe642(0x1d7)](this['instanceName']+'\x20('+this[_0x1fe642(0x3fc)][_0x1fe642(0x860)]+_0x1fe642(0x819));let _0x45cd0d={'number':_0x5584e7,'options':{'delay':_0x3f79fe[_0x1fe642(0x433)][_0x1fe642(0x6e3)]},'contactMessage':[{'fullName':_0x3f79fe[_0x1fe642(0x433)][_0x1fe642(0x343)],'phoneNumber':_0x3f79fe['uazapi'][_0x1fe642(0x3ce)]}]};try{let _0xd4fceb=await this[_0x1fe642(0x18b)](_0x45cd0d);if(_0xd4fceb){let _0x2f289d={'_id':_0xd4fceb[_0x1fe642(0x5bc)]['id'],'_fromMe':_0xd4fceb[_0x1fe642(0x5bc)]['fromMe'],'_remoteJid':_0xd4fceb[_0x1fe642(0x5bc)][_0x1fe642(0x6d1)]},_0x5d11be=(0x0,w[_0x1fe642(0x6cb)])(_0xd4fceb[_0x1fe642(0x865)]),_0x650e5a=(0x0,w[_0x1fe642(0x672)])(_0x5d11be);_0x4ea233[_0x1fe642(0x260)][_0x1fe642(0x712)]=_0x3f79fe['_id']['toString']();let {message_normalized:_0xadee0c}=this[_0x1fe642(0x561)](_0x5d11be,_0x650e5a,null);_0x4ea233[_0x1fe642(0x260)][_0x1fe642(0x5bf)]=await _0xadee0c;let _0x4dbbe8={'messageId':_0xd4fceb['key']['id']},_0x1da798=_0x4ea233[_0x1fe642(0x260)]['realVariables'];Object[_0x1fe642(0x2f6)](_0x1da798,_0x2f289d),_0x4ea233[_0x1fe642(0x260)]['realVariables']=_0x1da798,this['updateConversation'](_0x4ea233,_0x3f79fe,_0x4dbbe8);}else{let _0x1e56bc={'error':!0x0};this[_0x1fe642(0x4bc)](_0x4ea233,_0x3f79fe,_0x1e56bc),this[_0x1fe642(0x39f)][_0x1fe642(0x834)](this[_0x1fe642(0x7fe)]+'\x20('+this['instance'][_0x1fe642(0x860)]+_0x1fe642(0x7c0));}}catch(_0x9eb5ee){let _0x4e69b4={'error':!0x0,'errorLog':_0x9eb5ee[_0x1fe642(0x684)]()};this['updateConversation'](_0x4ea233,_0x3f79fe,_0x4e69b4),this[_0x1fe642(0x39f)][_0x1fe642(0x834)](this['instanceName']+'\x20('+this[_0x1fe642(0x3fc)][_0x1fe642(0x860)]+_0x1fe642(0x74f)+(_0x9eb5ee instanceof Error?_0x9eb5ee['message']:JSON[_0x1fe642(0x84a)](_0x9eb5ee,null,0x2)));}}[a0_0x1bb7e5(0x852)](_0x121dfe,_0x1bfb4c){const _0x3ae282=a0_0x1bb7e5;for(let _0x547b16 of _0x121dfe)_0x547b16[_0x3ae282(0x753)]&&(_0x547b16[_0x3ae282(0x753)]=this[_0x3ae282(0x583)](_0x547b16['option'],_0x1bfb4c)),_0x547b16[_0x3ae282(0x25a)]&&(_0x547b16[_0x3ae282(0x25a)]=this[_0x3ae282(0x583)](_0x547b16[_0x3ae282(0x25a)],_0x1bfb4c));}async[a0_0x1bb7e5(0x600)](_0x16f225,_0x1a7ca9){const _0xe8c96=a0_0x1bb7e5;let _0x25ce40=_0x16f225[_0xe8c96(0x6d1)];_0x1a7ca9[_0xe8c96(0x433)][_0xe8c96(0x6d1)]&&_0x1a7ca9[_0xe8c96(0x433)][_0xe8c96(0x6d1)]['trim']()!==''&&(_0x25ce40=_0x1a7ca9[_0xe8c96(0x433)][_0xe8c96(0x6d1)][_0xe8c96(0x8ad)]()),this[_0xe8c96(0x39f)][_0xe8c96(0x1d7)](this[_0xe8c96(0x7fe)]+'\x20('+this[_0xe8c96(0x3fc)][_0xe8c96(0x860)]+_0xe8c96(0x8e9));let _0xef1f63=_0x16f225[_0xe8c96(0x355)][_0xe8c96(0x67b)](_0x420cc8=>_0x420cc8[_0xe8c96(0x456)]===_0x1a7ca9[_0xe8c96(0x2c4)])[_0xe8c96(0x394)]((_0x3a834a,_0x5b00da)=>_0x3a834a[_0xe8c96(0x6cc)]-_0x5b00da[_0xe8c96(0x6cc)]);this[_0xe8c96(0x852)](_0xef1f63,_0x16f225['chatLog'][_0xe8c96(0x473)]);let _0x380691=_0xef1f63[_0xe8c96(0x7b7)](_0x4ba2b4=>_0x4ba2b4[_0xe8c96(0x753)]),_0x56f5fc={'number':_0x25ce40,'menuMessage':{'type':_0x1a7ca9[_0xe8c96(0x433)][_0xe8c96(0x4fe)]||_0xe8c96(0x546),'text':_0x1a7ca9['uazapi'][_0xe8c96(0x56d)]||_0x1a7ca9[_0xe8c96(0x433)]['name'],'footerText':_0x1a7ca9[_0xe8c96(0x433)][_0xe8c96(0x6f8)],'buttonText':_0x1a7ca9[_0xe8c96(0x433)][_0xe8c96(0x8a8)],'selectableCount':0x1,'choices':_0x380691},'options':{'delay':_0x1a7ca9['uazapi']['delay']}};try{let _0x4e2e34=await this[_0xe8c96(0x1d0)](_0x56f5fc);if(_0x4e2e34){let _0x17491a={'_id':_0x4e2e34['key']['id'],'_fromMe':_0x4e2e34[_0xe8c96(0x5bc)]['fromMe'],'_remoteJid':_0x4e2e34[_0xe8c96(0x5bc)]['remoteJid']};_0x1a7ca9['uazapi']['menuIgnoreNonVotes']===!0x0&&(_0x16f225['status']=_0xe8c96(0x56e),this[_0xe8c96(0x39f)][_0xe8c96(0x1d7)](this[_0xe8c96(0x7fe)]+'\x20('+this['instance'][_0xe8c96(0x860)]+_0xe8c96(0x55a)+_0x16f225[_0xe8c96(0x362)])),this[_0xe8c96(0x39f)][_0xe8c96(0x1d7)](this[_0xe8c96(0x7fe)]+'\x20('+this[_0xe8c96(0x3fc)][_0xe8c96(0x860)]+_0xe8c96(0x2f2)+(_0x1a7ca9[_0xe8c96(0x433)][_0xe8c96(0x8f0)]||_0x1a7ca9[_0xe8c96(0x433)][_0xe8c96(0x56d)])),_0x16f225[_0xe8c96(0x333)]=_0x4e2e34[_0xe8c96(0x5bc)]['id'],_0x16f225[_0xe8c96(0x504)]=_0x1a7ca9[_0xe8c96(0x433)][_0xe8c96(0x8f0)]||_0x1a7ca9[_0xe8c96(0x433)][_0xe8c96(0x56d)],_0x16f225[_0xe8c96(0x4dd)]=_0xef1f63,_0x1a7ca9[_0xe8c96(0x433)]['menuExpiredMessage']&&(_0x16f225[_0xe8c96(0x253)]=_0x1a7ca9[_0xe8c96(0x433)]['menuExpiredMessage']),this[_0xe8c96(0x39f)][_0xe8c96(0x1d7)](this[_0xe8c96(0x7fe)]+'\x20('+this[_0xe8c96(0x3fc)][_0xe8c96(0x860)]+_0xe8c96(0x6ca)+_0x16f225[_0xe8c96(0x504)]);let _0x138734=(0x0,w['normalizeMessageContent'])(_0x4e2e34[_0xe8c96(0x865)]),_0x307ebc=(0x0,w['getContentType'])(_0x138734);_0x16f225[_0xe8c96(0x260)]['lastBlockId']=_0x1a7ca9[_0xe8c96(0x2c4)][_0xe8c96(0x684)]();let {message_normalized:_0x8d64b3}=this['normalizeMessage'](_0x138734,_0x307ebc,null);_0x16f225[_0xe8c96(0x260)][_0xe8c96(0x5bf)]=await _0x8d64b3;let _0x28fb2e={'messageId':_0x4e2e34[_0xe8c96(0x5bc)]['id']},_0x170703=_0x16f225[_0xe8c96(0x260)][_0xe8c96(0x473)];Object[_0xe8c96(0x2f6)](_0x170703,_0x17491a),_0x16f225[_0xe8c96(0x260)][_0xe8c96(0x473)]=_0x170703,this['updateConversation'](_0x16f225,_0x1a7ca9,_0x28fb2e);}else{let _0x37c28e={'error':!0x0};this[_0xe8c96(0x4bc)](_0x16f225,_0x1a7ca9,_0x37c28e),this[_0xe8c96(0x39f)]['error'](this['instanceName']+'\x20('+this[_0xe8c96(0x3fc)][_0xe8c96(0x860)]+_0xe8c96(0x484));}}catch(_0x519148){let _0x41983e={'error':!0x0,'errorLog':_0x519148 instanceof Error?_0x519148[_0xe8c96(0x865)]:JSON[_0xe8c96(0x84a)](_0x519148,null,0x2)};this[_0xe8c96(0x4bc)](_0x16f225,_0x1a7ca9,_0x41983e),this[_0xe8c96(0x39f)][_0xe8c96(0x834)](this[_0xe8c96(0x7fe)]+'\x20('+this['instance']['wuid']+_0xe8c96(0x7af)+(_0x519148 instanceof Error?_0x519148[_0xe8c96(0x865)]:JSON['stringify'](_0x519148,null,0x2)));}}async[a0_0x1bb7e5(0x7f3)](_0x10511e,_0x220251){const _0x1c372a=a0_0x1bb7e5;this['logger'][_0x1c372a(0x1d7)](this[_0x1c372a(0x7fe)]+'\x20('+this['instance'][_0x1c372a(0x860)]+_0x1c372a(0x3d1));let _0x1db8c=_0x10511e[_0x1c372a(0x260)][_0x1c372a(0x295)][_0x1c372a(0x42f)](_0x9c66f3=>_0x9c66f3[_0x1c372a(0x456)][_0x1c372a(0x684)]()===_0x220251[_0x1c372a(0x433)][_0x1c372a(0x456)][_0x1c372a(0x684)]()),_0x35526d={'id':_0x1db8c['messageId'],'remoteJid':_0x1db8c['remoteJid'],'fromMe':_0x1db8c[_0x1c372a(0x1ef)]};try{let _0x54e323=await this['deleteMessage'](_0x35526d);if(_0x54e323){let _0x2f5a14=(0x0,w[_0x1c372a(0x6cb)])(_0x54e323[_0x1c372a(0x865)]),_0x35d01c=(0x0,w[_0x1c372a(0x672)])(_0x2f5a14);_0x10511e[_0x1c372a(0x260)][_0x1c372a(0x712)]=_0x220251['_id'][_0x1c372a(0x684)]();let {message_normalized:_0x3fb3dd}=this[_0x1c372a(0x561)](_0x2f5a14,_0x35d01c,null);_0x10511e[_0x1c372a(0x260)]['lastSendMessage']=await _0x3fb3dd;let _0x1afc8e={};this[_0x1c372a(0x4bc)](_0x10511e,_0x220251,_0x1afc8e);}else{let _0x2aea21={'error':!0x0};this[_0x1c372a(0x4bc)](_0x10511e,_0x220251,_0x2aea21),this[_0x1c372a(0x39f)][_0x1c372a(0x834)](this[_0x1c372a(0x7fe)]+'\x20('+this[_0x1c372a(0x3fc)][_0x1c372a(0x860)]+_0x1c372a(0x418));}}catch(_0x4e82b1){let _0x297daf={'error':!0x0,'errorLog':_0x4e82b1 instanceof Error?_0x4e82b1[_0x1c372a(0x865)]:JSON[_0x1c372a(0x84a)](_0x4e82b1,null,0x2)};this['updateConversation'](_0x10511e,_0x220251,_0x297daf),this['logger'][_0x1c372a(0x834)](this[_0x1c372a(0x7fe)]+'\x20('+this[_0x1c372a(0x3fc)]['wuid']+_0x1c372a(0x472)+(_0x4e82b1 instanceof Error?_0x4e82b1['message']:JSON['stringify'](_0x4e82b1,null,0x2)));}}async[a0_0x1bb7e5(0x3de)](_0x37e133,_0x1523bd){const _0x55ee5d=a0_0x1bb7e5;if(_0x37e133[_0x55ee5d(0x8f0)]||(_0x37e133[_0x55ee5d(0x8f0)]=(0x0,Y['v4'])()),_0x1523bd!==Ri&&_0x37e133?.[_0x55ee5d(0x7e7)])throw new m(_0x55ee5d(0x792));if(_0x55ee5d(0x2c4)in _0x37e133&&_0x55ee5d(0x435)in _0x37e133)return this[_0x55ee5d(0x5b3)](_0x37e133[_0x55ee5d(0x435)],_0x37e133[_0x55ee5d(0x2c4)]);this[_0x55ee5d(0x39f)][_0x55ee5d(0x1d7)](this[_0x55ee5d(0x7fe)]+'\x20('+this[_0x55ee5d(0x3fc)][_0x55ee5d(0x860)]+_0x55ee5d(0x4df));let _0x58d291=this[_0x55ee5d(0x915)](_0x37e133[_0x55ee5d(0x8f0)]),_0x4814d9=new ge['Types']['ObjectId'](),_0x1ea4bb={'_id':_0x4814d9,'default':!0x0,'title':_0x55ee5d(0x2fe),'x':0x0,'y':0x0},_0x28a4d9={'_id':new ge[(_0x55ee5d(0x1a0))]['ObjectId'](),'order':0x1,'groupId':_0x4814d9[_0x55ee5d(0x684)](),'type':_0x55ee5d(0x19a)},_0x5b09d8=this['instance'][_0x55ee5d(0x860)],_0x1c27b2={'_id':(0x0,Y['v4'])(),'owner':_0x5b09d8,'name':_0x58d291,'whoCanEdit':[_0x5b09d8],'whoCanUse':[_0x5b09d8],'groups':[_0x1ea4bb],'blocks':[_0x28a4d9],..._0x37e133};try{let _0x3a51fe=await this['repository'][_0x55ee5d(0x21f)][_0x55ee5d(0x3b9)](_0x1c27b2);return await this[_0x55ee5d(0x803)](),_0x3a51fe;}catch(_0x22654f){let _0x479e96=_0x55ee5d(0x454),_0x49bfad=_0x22654f instanceof Error?_0x22654f['message']:typeof _0x22654f==_0x55ee5d(0x8d4)?JSON[_0x55ee5d(0x84a)](_0x22654f):_0x22654f,_0x3d29ff=_0x479e96+':\x20'+_0x49bfad;throw this[_0x55ee5d(0x39f)][_0x55ee5d(0x834)](this[_0x55ee5d(0x7fe)]+'\x20('+this[_0x55ee5d(0x3fc)][_0x55ee5d(0x860)]+_0x55ee5d(0x69d)+_0x3d29ff),new m(_0x3d29ff);}}async['AddUserFlow'](_0x326e13,_0x195e42){const _0x360c08=a0_0x1bb7e5;try{this[_0x360c08(0x39f)][_0x360c08(0x1d7)](this[_0x360c08(0x7fe)]+'\x20('+this['instance'][_0x360c08(0x860)]+_0x360c08(0x870));let _0x20bea1=await this[_0x360c08(0x1da)][_0x360c08(0x21f)]['findOne']({'where':{'_id':_0x195e42,'owner':_0x326e13}});if(!_0x20bea1)throw new m(_0x360c08(0x655));if(_0x20bea1[_0x360c08(0x20b)]===!0x1&&!_0x20bea1[_0x360c08(0x7e7)])throw new m(_0x360c08(0x86e));let _0x1d30dc=new Set(_0x20bea1[_0x360c08(0x2dd)]??[]);_0x1d30dc[_0x360c08(0x4d2)](this['instance'][_0x360c08(0x860)]);let _0x902887=await this[_0x360c08(0x1da)][_0x360c08(0x21f)][_0x360c08(0x3dd)](_0x195e42,{..._0x20bea1,'whoCanUse':Array[_0x360c08(0x71c)](_0x1d30dc)});return await this[_0x360c08(0x803)](),_0x902887;}catch(_0x49135d){let _0x5295db=_0x360c08(0x83d),_0x321c92=_0x49135d instanceof Error?_0x49135d['message']:typeof _0x49135d==_0x360c08(0x8d4)?JSON[_0x360c08(0x84a)](_0x49135d):_0x49135d,_0xe0b2c9=_0x5295db+':\x20'+_0x321c92;throw this[_0x360c08(0x39f)][_0x360c08(0x834)](this[_0x360c08(0x7fe)]+'\x20('+this['instance'][_0x360c08(0x860)]+_0x360c08(0x69d)+_0xe0b2c9),new m(_0xe0b2c9);}}[a0_0x1bb7e5(0x915)](_0x29e070){const _0x1064c5=a0_0x1bb7e5;let _0x3e4db4=_0x29e070,_0xa84aba=0x1;for(;this[_0x1064c5(0x399)][_0x1064c5(0x5a2)]['some'](_0xf30a82=>_0xf30a82[_0x1064c5(0x8f0)]===_0x3e4db4);)_0xa84aba++,_0x3e4db4=_0x29e070+'\x20('+_0xa84aba+')';return _0x3e4db4;}async[a0_0x1bb7e5(0x7f2)](_0x3543cf){const _0xe59271=a0_0x1bb7e5;try{if(this['logger']['verbose'](this[_0xe59271(0x7fe)]+'\x20('+this[_0xe59271(0x3fc)][_0xe59271(0x860)]+_0xe59271(0x6f9)+_0x3543cf[_0xe59271(0x2c4)]+_0xe59271(0x1a5)+_0x3543cf[_0xe59271(0x481)]),!this[_0xe59271(0x399)][_0xe59271(0x5a2)]['find'](_0x554432=>_0x554432[_0xe59271(0x2c4)]===_0x3543cf[_0xe59271(0x2c4)]))throw this[_0xe59271(0x39f)][_0xe59271(0x1d7)](this[_0xe59271(0x7fe)]+'\x20('+this['instance'][_0xe59271(0x860)]+_0xe59271(0x7fd)+_0x3543cf[_0xe59271(0x2c4)]+_0xe59271(0x259)),new m(_0xe59271(0x470));let _0x2f1f2f=await this[_0xe59271(0x1da)][_0xe59271(0x21f)][_0xe59271(0x1fa)]({'where':{'_id':_0x3543cf['_id']}});if(!_0x2f1f2f)throw new m(_0xe59271(0x218));if(this['instance'][_0xe59271(0x860)]===_0x2f1f2f[_0xe59271(0x435)]){this[_0xe59271(0x39f)][_0xe59271(0x1d7)](this[_0xe59271(0x7fe)]+'\x20('+this[_0xe59271(0x3fc)][_0xe59271(0x860)]+_0xe59271(0x74a)+_0x3543cf[_0xe59271(0x2c4)]+'\x27\x20do\x20banco\x20de\x20dados...');let _0xc5bdd7=await this['repository']['flow']['deleteOne']({'where':{'_id':_0x3543cf['_id']}});return await this[_0xe59271(0x803)](),_0xc5bdd7;}return this['logger'][_0xe59271(0x1d7)](this[_0xe59271(0x7fe)]+'\x20('+this[_0xe59271(0x3fc)][_0xe59271(0x860)]+_0xe59271(0x7bc)+this[_0xe59271(0x3fc)][_0xe59271(0x860)]+_0xe59271(0x490)+_0x3543cf[_0xe59271(0x2c4)]+'\x27...'),_0x2f1f2f[_0xe59271(0x2dd)]=(_0x2f1f2f['whoCanUse']??[])[_0xe59271(0x67b)](_0x6040a0=>_0x6040a0!==this[_0xe59271(0x3fc)][_0xe59271(0x860)]),_0x2f1f2f[_0xe59271(0x40b)]=(_0x2f1f2f[_0xe59271(0x40b)]??[])['filter'](_0x3cd682=>_0x3cd682!==this[_0xe59271(0x3fc)][_0xe59271(0x860)]),_0x2f1f2f[_0xe59271(0x40b)]['length']===0x0&&_0x2f1f2f[_0xe59271(0x2dd)][_0xe59271(0x1e1)]>0x0&&(_0x2f1f2f[_0xe59271(0x40b)]['push'](_0x2f1f2f[_0xe59271(0x2dd)][0x0]),this[_0xe59271(0x39f)]['verbose'](this[_0xe59271(0x7fe)]+'\x20('+this[_0xe59271(0x3fc)]['wuid']+'):\x20Adicionando\x20\x27'+_0x2f1f2f[_0xe59271(0x2dd)][0x0]+_0xe59271(0x840)+_0x3543cf[_0xe59271(0x2c4)]+_0xe59271(0x8d8))),await this[_0xe59271(0x1da)][_0xe59271(0x21f)]['updateOne'](_0x2f1f2f[_0xe59271(0x2c4)],_0x2f1f2f),await this[_0xe59271(0x803)](),{'message':_0xe59271(0x46c)+_0x3543cf[_0xe59271(0x8f0)]+'\x27\x20removido\x20do\x20AutomateSystem.'};}catch(_0x175a0e){return this[_0xe59271(0x39f)]['error'](this[_0xe59271(0x7fe)]+'\x20('+this[_0xe59271(0x3fc)][_0xe59271(0x860)]+_0xe59271(0x564)+(_0x175a0e instanceof Error?_0x175a0e[_0xe59271(0x865)]:JSON[_0xe59271(0x84a)](_0x175a0e,null,0x2))),{'message':_0xe59271(0x8ce)+(_0x175a0e instanceof Error?_0x175a0e['message']:JSON['stringify'](_0x175a0e,null,0x2))};}}async[a0_0x1bb7e5(0x1e7)](_0x90b215){const _0xb590a7=a0_0x1bb7e5;try{if(this['logger']['info'](this['instanceName']+'\x20('+this[_0xb590a7(0x3fc)][_0xb590a7(0x860)]+_0xb590a7(0x3a8)+_0x90b215),!this[_0xb590a7(0x399)]&&(await this[_0xb590a7(0x5ae)](),!this[_0xb590a7(0x399)]))return null;let _0x3ebb01=await this[_0xb590a7(0x1da)]['flow']['findOne']({'where':{'_id':_0x90b215}});if(!_0x3ebb01)throw new m(_0xb590a7(0x1f4)+_0x90b215+_0xb590a7(0x76a));if(!(_0x3ebb01[_0xb590a7(0x7e7)]||_0x3ebb01[_0xb590a7(0x2dd)]?.[_0xb590a7(0x460)](this[_0xb590a7(0x3fc)][_0xb590a7(0x860)])))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27'+name+'\x27');_0x3ebb01[_0xb590a7(0x7e7)]&&!_0x3ebb01[_0xb590a7(0x2dd)]?.[_0xb590a7(0x460)](this[_0xb590a7(0x3fc)][_0xb590a7(0x860)])&&(_0x3ebb01['whoCanUse']=[..._0x3ebb01[_0xb590a7(0x2dd)]??[],this[_0xb590a7(0x3fc)]['wuid']],await this[_0xb590a7(0x1da)][_0xb590a7(0x21f)][_0xb590a7(0x3dd)](_0x3ebb01['_id'],_0x3ebb01),this[_0xb590a7(0x803)]());let _0x163d8c=this[_0xb590a7(0x399)]?.['customFields'][_0xb590a7(0x7b7)](_0x2f874a=>_0x2f874a['name']),_0x488798=[_0xb590a7(0x7db),'nomecompleto',_0xb590a7(0x4e0),_0xb590a7(0x234),'status',_0xb590a7(0x8ba),'responsavelid',_0xb590a7(0x480),_0xb590a7(0x5e3),_0xb590a7(0x89f),_0xb590a7(0x7e1)];_0x3ebb01['variables']=_0x3ebb01[_0xb590a7(0x639)][_0xb590a7(0x67b)](_0x48a5d4=>!(_0x48a5d4[_0xb590a7(0x591)]===_0xb590a7(0x866)||_0x48a5d4[_0xb590a7(0x866)])),_0x488798['forEach'](_0x1bf968=>{const _0x2ee55a=_0xb590a7;_0x3ebb01[_0x2ee55a(0x639)][_0x2ee55a(0x62c)]({'folder':_0x2ee55a(0x866),'name':_0x1bf968,'value':'','doc':'','leadInfo':!0x0});}),_0x163d8c[_0xb590a7(0x70b)](_0x2ef749=>{const _0x293086=_0xb590a7;let _0xac8a46=_0x3ebb01[_0x293086(0x639)][_0x293086(0x2bf)](_0x164a8a=>_0x164a8a[_0x293086(0x8f0)]===_0x2ef749);_0xac8a46===-0x1?_0x3ebb01[_0x293086(0x639)][_0x293086(0x62c)]({'folder':'leadInfo','name':_0x2ef749,'value':'','doc':'','leadInfo':!0x0}):(_0x3ebb01[_0x293086(0x639)][_0xac8a46][_0x293086(0x591)]=_0x293086(0x866),_0x3ebb01[_0x293086(0x639)][_0xac8a46][_0x293086(0x866)]=!0x0);}),_0x3ebb01[_0xb590a7(0x638)]&&_0x3ebb01[_0xb590a7(0x638)][_0xb590a7(0x1e1)]>0x0&&_0x3ebb01[_0xb590a7(0x638)][_0xb590a7(0x70b)](_0x3395ca=>{const _0x505ef5=_0xb590a7;_0x3395ca[_0x505ef5(0x785)]&&_0x3395ca[_0x505ef5(0x185)]&&_0x3395ca[_0x505ef5(0x785)]===_0x3395ca[_0x505ef5(0x185)]&&(_0x3395ca[_0x505ef5(0x185)]=null);});let _0x5c87a9=await this['repository'][_0xb590a7(0x21f)][_0xb590a7(0x3dd)](_0x3ebb01[_0xb590a7(0x2c4)],_0x3ebb01);if(!_0x5c87a9)throw new Error(_0xb590a7(0x3d0));return _0x5c87a9;}catch(_0x15a373){let _0x3bacab=_0xb590a7(0x7b3),_0x4299c0=_0x15a373 instanceof Error?_0x15a373[_0xb590a7(0x865)]:typeof _0x15a373==_0xb590a7(0x8d4)?JSON[_0xb590a7(0x84a)](_0x15a373):_0x15a373,_0x29758d=_0x3bacab+':\x20'+_0x4299c0;throw this[_0xb590a7(0x39f)][_0xb590a7(0x834)](this[_0xb590a7(0x7fe)]+'\x20('+this[_0xb590a7(0x3fc)][_0xb590a7(0x860)]+_0xb590a7(0x69d)+_0x29758d),new m(_0x29758d);}}async[a0_0x1bb7e5(0x33d)](){const _0x410c8b=a0_0x1bb7e5;try{this['logger'][_0x410c8b(0x1d7)](this['instanceName']+'\x20('+this[_0x410c8b(0x3fc)][_0x410c8b(0x860)]+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this[_0x410c8b(0x803)]();let _0x567c42=await this[_0x410c8b(0x1da)][_0x410c8b(0x21f)][_0x410c8b(0x4db)]({'where':{'globalShow':!0x0}});return[...this[_0x410c8b(0x399)][_0x410c8b(0x5a2)],..._0x567c42];}catch(_0x523499){return this[_0x410c8b(0x39f)]['error'](this[_0x410c8b(0x7fe)]+'\x20('+this['instance'][_0x410c8b(0x860)]+_0x410c8b(0x393)+(_0x523499 instanceof Error?_0x523499[_0x410c8b(0x865)]:JSON['stringify'](_0x523499,null,0x2))),{'message':_0x410c8b(0x689)+(_0x523499 instanceof Error?_0x523499[_0x410c8b(0x865)]:String(_0x523499))};}}async[a0_0x1bb7e5(0x392)](_0x268c0c,_0x434fb7){const _0x189df8=a0_0x1bb7e5;try{this['logger'][_0x189df8(0x1d7)](this['instanceName']+'\x20('+this['instance'][_0x189df8(0x860)]+'):\x20Alterando\x20fluxo...');let _0x333076=this[_0x189df8(0x399)][_0x189df8(0x5a2)]['find'](_0x384cbb=>_0x384cbb['_id']===_0x268c0c[_0x189df8(0x2c4)]);if(!_0x333076)throw this[_0x189df8(0x39f)][_0x189df8(0x1d7)](this[_0x189df8(0x7fe)]+'\x20('+this[_0x189df8(0x3fc)][_0x189df8(0x860)]+_0x189df8(0x7fd)+_0x268c0c[_0x189df8(0x2c4)]+_0x189df8(0x259)),new m(_0x189df8(0x470));let _0x1a6006=await this[_0x189df8(0x1da)][_0x189df8(0x21f)]['findOne']({'where':{'_id':_0x268c0c[_0x189df8(0x2c4)]}});if(!_0x1a6006||!_0x1a6006[_0x189df8(0x2dd)]?.[_0x189df8(0x460)](this[_0x189df8(0x3fc)]['wuid']))throw this[_0x189df8(0x39f)][_0x189df8(0x834)](this[_0x189df8(0x7fe)]+'\x20('+this[_0x189df8(0x3fc)][_0x189df8(0x860)]+_0x189df8(0x763)+_0x268c0c[_0x189df8(0x2c4)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x189df8(0x194)+_0x268c0c['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x16ef62=this[_0x189df8(0x399)][_0x189df8(0x5a2)][_0x189df8(0x2bf)](_0x34f624=>_0x34f624['_id']===_0x333076[_0x189df8(0x2c4)]);if(_0x16ef62!==-0x1){let _0x3a3ce5=this[_0x189df8(0x399)]['flows'][_0x16ef62];if(_0x3a3ce5['name']=_0x268c0c[_0x189df8(0x8f0)]??_0x3a3ce5[_0x189df8(0x8f0)],_0x3a3ce5[_0x189df8(0x4b7)]=_0x268c0c[_0x189df8(0x4b7)]??_0x3a3ce5[_0x189df8(0x4b7)],_0x3a3ce5[_0x189df8(0x7f1)]=_0x268c0c['testingWith']??_0x3a3ce5[_0x189df8(0x7f1)],_0x3a3ce5[_0x189df8(0x31f)]=_0x268c0c[_0x189df8(0x571)]??_0x3a3ce5['startCommand'],_0x3a3ce5[_0x189df8(0x335)]=_0x268c0c[_0x189df8(0x335)]??_0x3a3ce5['minutesToClose'],_0x3a3ce5['readMessages']=_0x268c0c['readMessages']??_0x3a3ce5[_0x189df8(0x395)],_0x268c0c['default']&&this[_0x189df8(0x399)][_0x189df8(0x5a2)][_0x189df8(0x70b)]((_0x1a3f6d,_0x503b92)=>{const _0x291c35=_0x189df8;_0x503b92!==_0x16ef62&&(_0x1a3f6d[_0x291c35(0x4b7)]=!0x1);}),this[_0x189df8(0x399)][_0x189df8(0x5a2)][_0x16ef62]=_0x3a3ce5,!await this['repository'][_0x189df8(0x23b)][_0x189df8(0x726)]({'flows':this[_0x189df8(0x399)][_0x189df8(0x5a2)]},this[_0x189df8(0x3fc)][_0x189df8(0x860)]))throw new m('Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.');}let _0x4baaf6=[_0x189df8(0x481),_0x189df8(0x5f2),_0x189df8(0x52f),_0x189df8(0x28d)];for(let _0x3703c5 of _0x4baaf6)delete _0x268c0c[_0x3703c5];if(_0x1a6006['whoCanEdit']?.[_0x189df8(0x460)](this[_0x189df8(0x3fc)][_0x189df8(0x860)])||(_0x268c0c={'_id':_0x268c0c[_0x189df8(0x2c4)]}),_0x434fb7!==Ri&&_0x268c0c?.['globalShow']&&!_0x1a6006?.[_0x189df8(0x7e7)])throw new m(_0x189df8(0x3ff));let _0x41b670=new Set(_0x268c0c[_0x189df8(0x40b)]??_0x1a6006['whoCanEdit']);_0x41b670[_0x189df8(0x4d2)](_0x1a6006[_0x189df8(0x435)]);let _0x4aad13=new Set(_0x268c0c[_0x189df8(0x2dd)]??_0x1a6006[_0x189df8(0x2dd)]??[]);_0x41b670[_0x189df8(0x70b)](_0x5cb567=>_0x4aad13[_0x189df8(0x4d2)](_0x5cb567)),_0x4aad13[_0x189df8(0x4d2)](_0x1a6006[_0x189df8(0x435)]),this['logger'][_0x189df8(0x1d7)](this[_0x189df8(0x7fe)]+'\x20('+this[_0x189df8(0x3fc)]['wuid']+'):\x20whoCanEdit\x20before\x20validation:\x20'+Array[_0x189df8(0x71c)](_0x41b670)),this['logger'][_0x189df8(0x1d7)](this[_0x189df8(0x7fe)]+'\x20('+this[_0x189df8(0x3fc)][_0x189df8(0x860)]+_0x189df8(0x64e)+Array[_0x189df8(0x71c)](_0x4aad13));let _0x49db99=await this[_0x189df8(0x8f6)](Array['from'](_0x4aad13)),_0x3d5560=Array['from'](_0x41b670)[_0x189df8(0x67b)](_0x461640=>_0x49db99[_0x189df8(0x460)](_0x461640)),_0x3f57e0=Array[_0x189df8(0x71c)](_0x4aad13)['filter'](_0x9fad97=>_0x49db99[_0x189df8(0x460)](_0x9fad97));this[_0x189df8(0x39f)][_0x189df8(0x1d7)](this['instanceName']+'\x20('+this[_0x189df8(0x3fc)][_0x189df8(0x860)]+_0x189df8(0x3ac)+_0x3d5560),this['logger'][_0x189df8(0x1d7)](this[_0x189df8(0x7fe)]+'\x20('+this[_0x189df8(0x3fc)][_0x189df8(0x860)]+_0x189df8(0x27e)+_0x3f57e0);let _0x42852e={..._0x1a6006,..._0x268c0c,'whoCanEdit':_0x3d5560,'whoCanUse':_0x3f57e0},_0x299304=await this['repository'][_0x189df8(0x21f)][_0x189df8(0x3dd)](_0x1a6006['_id'],_0x42852e);return await this[_0x189df8(0x803)](),_0x299304;}catch(_0x21a628){let _0x172c83=_0x189df8(0x8a1),_0x4a2e9c=_0x21a628 instanceof Error?_0x21a628[_0x189df8(0x865)]:typeof _0x21a628==_0x189df8(0x8d4)?JSON['stringify'](_0x21a628):_0x21a628,_0x1263cf=_0x172c83+':\x20'+_0x4a2e9c;throw this[_0x189df8(0x39f)][_0x189df8(0x834)](this[_0x189df8(0x7fe)]+'\x20('+this[_0x189df8(0x3fc)][_0x189df8(0x860)]+_0x189df8(0x69d)+_0x1263cf),new m(_0x1263cf);}}async['getValidWhatsAppNumbers'](_0x27fc75){const _0x3d6f91=a0_0x1bb7e5;let _0x12ed83={'numbers':_0x27fc75};return(await this[_0x3d6f91(0x596)](_0x12ed83))['filter'](_0x1e6761=>_0x1e6761['exists'])[_0x3d6f91(0x7b7)](_0x3925f8=>_0x3925f8[_0x3d6f91(0x6c0)])[_0x3d6f91(0x7b7)](_0x55d753=>this[_0x3d6f91(0x599)](_0x55d753));}[a0_0x1bb7e5(0x599)](_0x3eb9b0){let _0x4a3671=_0x3eb9b0['match'](/\d+/);return _0x4a3671?_0x4a3671[0x0]:'';}async[a0_0x1bb7e5(0x50f)](_0x1ae0e8){const _0x298214=a0_0x1bb7e5;try{if(this[_0x298214(0x39f)][_0x298214(0x1d7)](this[_0x298214(0x7fe)]+'\x20('+this[_0x298214(0x3fc)]['wuid']+_0x298214(0x8b5)),!this[_0x298214(0x399)][_0x298214(0x5a2)][_0x298214(0x42f)](_0x5a2638=>_0x5a2638[_0x298214(0x2c4)]===_0x1ae0e8[_0x298214(0x2c4)]))throw this[_0x298214(0x39f)][_0x298214(0x1d7)](this[_0x298214(0x7fe)]+'\x20('+this['instance'][_0x298214(0x860)]+_0x298214(0x7fd)+_0x1ae0e8[_0x298214(0x2c4)]+'\x27\x20não\x20encontrado'),new m(_0x298214(0x470));let _0x1d39b8=await this[_0x298214(0x1da)][_0x298214(0x21f)]['findOne']({'where':{'_id':_0x1ae0e8[_0x298214(0x2c4)]}});if(!_0x1d39b8||!_0x1d39b8[_0x298214(0x2dd)]?.['includes'](this[_0x298214(0x3fc)][_0x298214(0x860)]))throw this[_0x298214(0x39f)][_0x298214(0x834)](this[_0x298214(0x7fe)]+'\x20('+this[_0x298214(0x3fc)][_0x298214(0x860)]+_0x298214(0x763)+_0x1ae0e8[_0x298214(0x2c4)]+_0x298214(0x825)),new m('Flow\x20\x27'+_0x1ae0e8[_0x298214(0x2c4)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x1d39b8[_0x298214(0x40b)]?.[_0x298214(0x460)](this[_0x298214(0x3fc)][_0x298214(0x860)]))throw new m(_0x298214(0x209));let {block:_0x18bad7}=_0x1ae0e8;_0x18bad7?.[_0x298214(0x5a8)]?this['copyBlock'](_0x1d39b8,_0x1ae0e8):_0x18bad7?.['delete']?this['deleteBlock'](_0x1d39b8,_0x1ae0e8):_0x18bad7[_0x298214(0x2c4)]?await this['updateBlock'](_0x1d39b8,_0x1ae0e8):this[_0x298214(0x747)](_0x1d39b8,_0x1ae0e8);let _0x55e184=await this['repository']['flow'][_0x298214(0x3dd)](_0x1d39b8[_0x298214(0x2c4)],_0x1d39b8);if(!_0x55e184)throw new Error(_0x298214(0x3d0));return _0x55e184;}catch(_0x4a967c){this[_0x298214(0x774)](_0x298214(0x743)+_0x4a967c[_0x298214(0x865)]);}}async['copyBlock'](_0x5523e4,_0x5cbb93){const _0x2a8798=a0_0x1bb7e5;let _0x25829b=_0x5cbb93['block']['_id'],_0x4c1c6b=_0x5523e4[_0x2a8798(0x638)][_0x2a8798(0x42f)](_0x3ad03c=>_0x3ad03c['_id'][_0x2a8798(0x684)]()===_0x25829b);if(!_0x4c1c6b){this[_0x2a8798(0x39f)][_0x2a8798(0x834)](this[_0x2a8798(0x7fe)]+'\x20('+this[_0x2a8798(0x3fc)][_0x2a8798(0x860)]+'):\x20Bloco\x20com\x20ID\x20'+_0x25829b+'\x20não\x20encontrado\x20para\x20cópia');return;}this[_0x2a8798(0x39f)][_0x2a8798(0x1d7)](this[_0x2a8798(0x7fe)]+'\x20('+this['instance'][_0x2a8798(0x860)]+_0x2a8798(0x88c)+JSON[_0x2a8798(0x84a)](_0x4c1c6b));let _0x1c97c3=JSON[_0x2a8798(0x841)](JSON[_0x2a8798(0x84a)](_0x4c1c6b));_0x1c97c3[_0x2a8798(0x2c4)]=new ge[(_0x2a8798(0x4b7))][(_0x2a8798(0x1a0))][(_0x2a8798(0x2f8))](),this[_0x2a8798(0x39f)][_0x2a8798(0x1d7)](this[_0x2a8798(0x7fe)]+'\x20('+this[_0x2a8798(0x3fc)][_0x2a8798(0x860)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x2a8798(0x84a)](_0x1c97c3)),_0x5523e4[_0x2a8798(0x638)][_0x2a8798(0x62c)](_0x1c97c3),this[_0x2a8798(0x22c)](_0x5523e4['blocks'],_0x1c97c3[_0x2a8798(0x785)]);}[a0_0x1bb7e5(0x774)](_0x2ca173){const _0x56ce93=a0_0x1bb7e5;throw this[_0x56ce93(0x39f)][_0x56ce93(0x834)](this[_0x56ce93(0x7fe)]+'\x20('+this['instance'][_0x56ce93(0x860)]+'):\x20'+_0x2ca173),new m(_0x2ca173);}[a0_0x1bb7e5(0x249)](_0x292d18,_0x35e579){const _0x5f0ff1=a0_0x1bb7e5;let {block:_0x295f14}=_0x35e579;if(_0x295f14['type']===_0x5f0ff1(0x19a)){this[_0x5f0ff1(0x774)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x295f14[_0x5f0ff1(0x2c4)]){this[_0x5f0ff1(0x774)](_0x5f0ff1(0x7e3));return;}let _0x34cc52=_0x292d18[_0x5f0ff1(0x638)][_0x5f0ff1(0x42f)](_0xbc5d1c=>_0xbc5d1c[_0x5f0ff1(0x2c4)][_0x5f0ff1(0x684)]()===_0x35e579[_0x5f0ff1(0x414)][_0x5f0ff1(0x2c4)][_0x5f0ff1(0x684)]());if(!_0x34cc52){this['throwAndLogError'](_0x5f0ff1(0x317)+_0x295f14[_0x5f0ff1(0x2c4)]+_0x5f0ff1(0x903));return;}_0x292d18[_0x5f0ff1(0x638)]=_0x292d18[_0x5f0ff1(0x638)][_0x5f0ff1(0x67b)](_0x51512a=>_0x51512a[_0x5f0ff1(0x2c4)][_0x5f0ff1(0x684)]()!==_0x35e579[_0x5f0ff1(0x414)][_0x5f0ff1(0x2c4)][_0x5f0ff1(0x684)]()),_0x292d18[_0x5f0ff1(0x438)]=_0x292d18[_0x5f0ff1(0x438)][_0x5f0ff1(0x67b)](_0x27367a=>_0x27367a[_0x5f0ff1(0x456)]!==_0x295f14[_0x5f0ff1(0x2c4)][_0x5f0ff1(0x684)]()),_0x292d18[_0x5f0ff1(0x5ad)]=_0x292d18['varedits'][_0x5f0ff1(0x67b)](_0x2c5056=>_0x2c5056[_0x5f0ff1(0x456)]!==_0x295f14[_0x5f0ff1(0x2c4)][_0x5f0ff1(0x684)]()),_0x292d18[_0x5f0ff1(0x355)]=_0x292d18[_0x5f0ff1(0x355)][_0x5f0ff1(0x67b)](_0x228c78=>_0x228c78[_0x5f0ff1(0x456)]!==_0x295f14[_0x5f0ff1(0x2c4)][_0x5f0ff1(0x684)]()),this[_0x5f0ff1(0x22c)](_0x292d18[_0x5f0ff1(0x638)],_0x34cc52[_0x5f0ff1(0x785)]);}async[a0_0x1bb7e5(0x464)](_0x54fbaf,_0x3a2082){const _0xebfe17=a0_0x1bb7e5;let _0x17736b=_0x54fbaf[_0xebfe17(0x638)][_0xebfe17(0x2bf)](_0x2da311=>_0x2da311[_0xebfe17(0x2c4)]['toString']()===_0x3a2082[_0xebfe17(0x414)]['_id'][_0xebfe17(0x684)]());if(this['logger'][_0xebfe17(0x1d7)](this[_0xebfe17(0x7fe)]+'\x20('+this['instance'][_0xebfe17(0x860)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x17736b),_0x17736b===-0x1){this[_0xebfe17(0x39f)][_0xebfe17(0x1d7)](_0xebfe17(0x317)+_0x3a2082[_0xebfe17(0x414)][_0xebfe17(0x2c4)]+_0xebfe17(0x856));return;}if(_0x54fbaf[_0xebfe17(0x638)][_0x17736b][_0xebfe17(0x358)]===_0xebfe17(0x19a)){let _0x36f8ae=Object[_0xebfe17(0x312)](_0x3a2082[_0xebfe17(0x414)]);if(_0x36f8ae['length']>0x2||_0x36f8ae[_0xebfe17(0x1e1)]===0x2&&!_0x36f8ae[_0xebfe17(0x460)](_0xebfe17(0x185))){this['throwAndLogError'](_0xebfe17(0x426));return;}}let _0xe91953=_0x54fbaf[_0xebfe17(0x638)][_0x17736b]['groupId'];for(let _0x2653be in _0x3a2082[_0xebfe17(0x414)])_0x3a2082[_0xebfe17(0x414)][_0xebfe17(0x4f1)](_0x2653be)&&(_0x54fbaf[_0xebfe17(0x638)][_0x17736b][_0x2653be]=_0x3a2082[_0xebfe17(0x414)][_0x2653be]);if(this[_0xebfe17(0x39f)]['verbose'](this[_0xebfe17(0x7fe)]+'\x20('+this[_0xebfe17(0x3fc)][_0xebfe17(0x860)]+_0xebfe17(0x77b)+JSON[_0xebfe17(0x84a)](_0x54fbaf[_0xebfe17(0x638)][_0x17736b])),_0x54fbaf[_0xebfe17(0x638)][_0x17736b][_0xebfe17(0x673)]&&_0xebfe17(0x186)in _0x54fbaf[_0xebfe17(0x638)][_0x17736b][_0xebfe17(0x673)]){this[_0xebfe17(0x39f)][_0xebfe17(0x1d7)](this[_0xebfe17(0x7fe)]+'\x20('+this['instance'][_0xebfe17(0x860)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x3e9e5d=JSON[_0xebfe17(0x84a)](_0x54fbaf['blocks'][_0x17736b]['apirequest']['header'],null,0x1);_0x3e9e5d[_0xebfe17(0x1e1)]>0x2&&(_0x3e9e5d=_0x3e9e5d['substring'](0x1,_0x3e9e5d[_0xebfe17(0x1e1)]-0x1)[_0xebfe17(0x8ad)]()),_0x54fbaf[_0xebfe17(0x638)][_0x17736b][_0xebfe17(0x673)]['headerString']=_0x3e9e5d;}if(_0x54fbaf[_0xebfe17(0x638)][_0x17736b][_0xebfe17(0x673)]&&'body'in _0x54fbaf[_0xebfe17(0x638)][_0x17736b]['apirequest']&&!(_0xebfe17(0x6c2)in _0x54fbaf[_0xebfe17(0x638)][_0x17736b][_0xebfe17(0x673)])){this[_0xebfe17(0x39f)][_0xebfe17(0x1d7)](this[_0xebfe17(0x7fe)]+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x54fbaf[_0xebfe17(0x638)][_0x17736b][_0xebfe17(0x673)][_0xebfe17(0x397)]=!0x1;let _0x3c1cb3=JSON['stringify'](_0x54fbaf['blocks'][_0x17736b][_0xebfe17(0x673)][_0xebfe17(0x76e)],null,0x2);_0x54fbaf[_0xebfe17(0x638)][_0x17736b]['apirequest'][_0xebfe17(0x6c2)]=_0x3c1cb3;}if(_0x54fbaf[_0xebfe17(0x638)][_0x17736b][_0xebfe17(0x673)]&&_0xebfe17(0x6c2)in _0x54fbaf[_0xebfe17(0x638)][_0x17736b][_0xebfe17(0x673)]){_0x54fbaf['blocks'][_0x17736b][_0xebfe17(0x673)][_0xebfe17(0x397)]=!0x1;let _0x1d1980=_0x54fbaf[_0xebfe17(0x638)][_0x17736b][_0xebfe17(0x673)][_0xebfe17(0x6c2)],_0x3cc540=this[_0xebfe17(0x888)](_0x1d1980);_0x54fbaf[_0xebfe17(0x638)][_0x17736b][_0xebfe17(0x673)][_0xebfe17(0x6c2)]=_0x3cc540[_0xebfe17(0x84d)],_0x54fbaf[_0xebfe17(0x638)][_0x17736b][_0xebfe17(0x673)][_0xebfe17(0x397)]=_0x3cc540[_0xebfe17(0x834)];}let _0x50b923=_0x54fbaf[_0xebfe17(0x638)][_0x17736b][_0xebfe17(0x785)];_0xe91953!==_0x50b923?(this['reorderBlocks'](_0x54fbaf[_0xebfe17(0x638)],_0xe91953),this[_0xebfe17(0x22c)](_0x54fbaf[_0xebfe17(0x638)],_0x50b923)):this[_0xebfe17(0x22c)](_0x54fbaf[_0xebfe17(0x638)],_0xe91953);}['beautifyWithPlaceholders'](_0x3ba4b9){const _0x279f97=a0_0x1bb7e5;let _0x821f71='\u205f',_0x288d34=!0x1,_0x1f4796='';for(let _0x39cb3c=0x0;_0x39cb3c<_0x3ba4b9[_0x279f97(0x1e1)];_0x39cb3c++){let _0x1d63e5=_0x3ba4b9[_0x39cb3c];_0x1d63e5==='\x22'&&(_0x39cb3c===0x0||_0x3ba4b9[_0x39cb3c-0x1]!=='\x5c')&&(_0x288d34=!_0x288d34),!(!_0x288d34&&(_0x1d63e5==='\x0a'||_0x1d63e5==='\x20'||_0x1d63e5===_0x821f71))&&(_0x1f4796+=_0x1d63e5);}let _0x493af6={},_0x11ffbd=9876543210.1234,_0x578796=_0x1f4796[_0x279f97(0x40f)](/\{\{([^}]+)\}\}/g,_0x3c6eca=>{let _0x3072a9=_0x3c6eca,_0x254214=''+_0x11ffbd;return _0x493af6[_0x254214]=_0x3072a9,_0x11ffbd+=0.0001,_0x254214;}),_0x28326b='',_0x386ee5=!0x1;try{let _0x113c93=JSON['parse'](_0x578796);_0x28326b=JSON[_0x279f97(0x84a)](_0x113c93,null,0x2),_0x28326b=_0x28326b[_0x279f97(0x40f)](/\n( +)/g,(_0x2f026c,_0x24c8c7)=>{const _0x5864d1=_0x279f97;let _0x43a79e=_0x24c8c7[_0x5864d1(0x1e1)];return'\x0a'+_0x821f71[_0x5864d1(0x7ef)](_0x43a79e*0x2);}),_0x28326b=_0x28326b['replace'](/(\d{10,}\.\d+)/g,_0x43feaa=>_0x493af6[_0x43feaa]||_0x43feaa);}catch(_0x490d87){this[_0x279f97(0x39f)]['error'](_0x279f97(0x782)+_0x490d87),_0x28326b=_0x3ba4b9,_0x386ee5=!0x0;}return{'result':_0x28326b,'error':_0x386ee5};}[a0_0x1bb7e5(0x747)](_0x374a0f,_0x4ed7b8){const _0x40d642=a0_0x1bb7e5;if(_0x4ed7b8[_0x40d642(0x414)][_0x40d642(0x358)]==='start'){this[_0x40d642(0x774)](_0x40d642(0x766));return;}if(_0x4ed7b8[_0x40d642(0x414)][_0x40d642(0x673)]&&_0x40d642(0x186)in _0x4ed7b8[_0x40d642(0x414)][_0x40d642(0x673)]){this['logger'][_0x40d642(0x1d7)](this[_0x40d642(0x7fe)]+'\x20('+this[_0x40d642(0x3fc)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x2cdc59=JSON['stringify'](_0x4ed7b8[_0x40d642(0x414)][_0x40d642(0x673)][_0x40d642(0x186)],null,0x1);_0x2cdc59['length']>0x2&&(_0x2cdc59=_0x2cdc59['substring'](0x1,_0x2cdc59[_0x40d642(0x1e1)]-0x1)[_0x40d642(0x8ad)]()),_0x4ed7b8[_0x40d642(0x414)][_0x40d642(0x673)][_0x40d642(0x7c2)]=_0x2cdc59;}_0x4ed7b8['block'][_0x40d642(0x673)]&&'body'in _0x4ed7b8['block'][_0x40d642(0x673)]&&(this[_0x40d642(0x39f)][_0x40d642(0x1d7)](this[_0x40d642(0x7fe)]+'\x20('+this[_0x40d642(0x3fc)][_0x40d642(0x860)]+_0x40d642(0x415)),_0x4ed7b8[_0x40d642(0x414)][_0x40d642(0x673)][_0x40d642(0x6c2)]=JSON[_0x40d642(0x84a)](_0x4ed7b8['block'][_0x40d642(0x673)][_0x40d642(0x76e)],null,0x1)[_0x40d642(0x8ad)]()),_0x374a0f['blocks'][_0x40d642(0x62c)](_0x4ed7b8[_0x40d642(0x414)]),this[_0x40d642(0x22c)](_0x374a0f[_0x40d642(0x638)],_0x4ed7b8[_0x40d642(0x414)][_0x40d642(0x785)]);}[a0_0x1bb7e5(0x22c)](_0x27d0dc,_0x41f482){const _0xb630c0=a0_0x1bb7e5;let _0x8da995=_0x27d0dc[_0xb630c0(0x67b)](_0x1a09d9=>_0x1a09d9[_0xb630c0(0x785)]===_0x41f482);_0x8da995[_0xb630c0(0x394)]((_0x22c7e8,_0x3dd353)=>_0x22c7e8[_0xb630c0(0x6cc)]-_0x3dd353[_0xb630c0(0x6cc)]),_0x8da995[_0xb630c0(0x70b)]((_0x15ce35,_0x1b92db)=>_0x15ce35[_0xb630c0(0x6cc)]=_0x1b92db+0x1);}async[a0_0x1bb7e5(0x65a)](_0x51f7fe){const _0x4a4b24=a0_0x1bb7e5;try{if(this['logger'][_0x4a4b24(0x1d7)](this[_0x4a4b24(0x7fe)]+'\x20('+this[_0x4a4b24(0x3fc)][_0x4a4b24(0x860)]+_0x4a4b24(0x2a2)),!_0x51f7fe||!_0x51f7fe[_0x4a4b24(0x1dd)]){this['throwAndLogError'](_0x4a4b24(0x2b5));return;}if(!this[_0x4a4b24(0x399)]['flows'][_0x4a4b24(0x42f)](_0x556fcb=>_0x556fcb['_id']===_0x51f7fe['_id']))throw this[_0x4a4b24(0x39f)]['verbose'](this[_0x4a4b24(0x7fe)]+'\x20('+this['instance'][_0x4a4b24(0x860)]+'):\x20Fluxo\x20\x27'+_0x51f7fe['_id']+_0x4a4b24(0x259)),new m(_0x4a4b24(0x470));let _0xf7f432=await this[_0x4a4b24(0x1da)][_0x4a4b24(0x21f)][_0x4a4b24(0x1fa)]({'where':{'_id':_0x51f7fe[_0x4a4b24(0x2c4)]}});if(!_0xf7f432||!_0xf7f432[_0x4a4b24(0x2dd)]?.['includes'](this[_0x4a4b24(0x3fc)]['wuid']))throw this[_0x4a4b24(0x39f)]['error'](this[_0x4a4b24(0x7fe)]+'\x20('+this[_0x4a4b24(0x3fc)]['wuid']+_0x4a4b24(0x763)+_0x51f7fe[_0x4a4b24(0x2c4)]+_0x4a4b24(0x825)),new m(_0x4a4b24(0x194)+_0x51f7fe[_0x4a4b24(0x2c4)]+_0x4a4b24(0x825));if(!_0xf7f432[_0x4a4b24(0x40b)]?.[_0x4a4b24(0x460)](this['instance'][_0x4a4b24(0x860)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let {replyOption:_0x4e02a9}=_0x51f7fe;_0x4e02a9?.[_0x4a4b24(0x5f4)]?(this[_0x4a4b24(0x731)](_0xf7f432,_0x51f7fe),this[_0x4a4b24(0x270)](_0xf7f432['replyOptions'],_0x51f7fe['replyOption'][_0x4a4b24(0x456)])):_0x4e02a9['_id']?(await this['updateReplyOption'](_0xf7f432,_0x51f7fe),this[_0x4a4b24(0x270)](_0xf7f432[_0x4a4b24(0x355)],_0x51f7fe['replyOption']['blockId'])):(this[_0x4a4b24(0x891)](_0xf7f432,_0x51f7fe),this['reorderReplyOptions'](_0xf7f432[_0x4a4b24(0x355)],_0x51f7fe[_0x4a4b24(0x1dd)]['blockId']));let _0x3a96a0=await this['repository'][_0x4a4b24(0x21f)][_0x4a4b24(0x3dd)](_0xf7f432[_0x4a4b24(0x2c4)],_0xf7f432);if(!_0x3a96a0)throw new Error(_0x4a4b24(0x3d0));return _0x3a96a0;}catch(_0x488a29){this['throwAndLogError'](_0x4a4b24(0x3d2)+_0x488a29);}}['reorderReplyOptions'](_0x2320ff,_0x35e947){const _0x5139d1=a0_0x1bb7e5;_0x2320ff[_0x5139d1(0x70b)](_0x5e161f=>{const _0x135d8f=_0x5139d1;_0x5e161f[_0x135d8f(0x456)]===_0x35e947&&_0x5e161f[_0x135d8f(0x6cc)]===void 0x0&&(_0x5e161f['order']=0x270f);});let _0x5364b5=_0x2320ff[_0x5139d1(0x67b)](_0x9854f3=>_0x9854f3[_0x5139d1(0x456)]===_0x35e947);_0x5364b5[_0x5139d1(0x394)]((_0x38a879,_0x10df54)=>_0x38a879['order']-_0x10df54['order']),_0x5364b5[_0x5139d1(0x70b)]((_0x5de1c5,_0x457790)=>{const _0x34d097=_0x5139d1;_0x5de1c5[_0x34d097(0x6cc)]=_0x457790+0x1;}),_0x2320ff[_0x5139d1(0x70b)](_0x4712f0=>{const _0x43ed0e=_0x5139d1;if(_0x4712f0[_0x43ed0e(0x456)]===_0x35e947){let _0x361f5f=_0x5364b5['find'](_0x4796b2=>_0x4796b2[_0x43ed0e(0x2c4)]&&_0x4712f0[_0x43ed0e(0x2c4)]&&_0x4796b2['_id'][_0x43ed0e(0x684)]()===_0x4712f0[_0x43ed0e(0x2c4)]['toString']());_0x361f5f&&(_0x4712f0[_0x43ed0e(0x6cc)]=_0x361f5f['order']);}});}[a0_0x1bb7e5(0x731)](_0x204dbc,_0x7cdc57){const _0x6a1682=a0_0x1bb7e5;let {replyOption:_0x390945}=_0x7cdc57;if(!_0x390945[_0x6a1682(0x2c4)]){this[_0x6a1682(0x774)](_0x6a1682(0x74d));return;}if(!_0x204dbc[_0x6a1682(0x355)][_0x6a1682(0x42f)](_0x55d30d=>_0x55d30d[_0x6a1682(0x2c4)][_0x6a1682(0x684)]()===_0x7cdc57[_0x6a1682(0x1dd)][_0x6a1682(0x2c4)][_0x6a1682(0x684)]())){this[_0x6a1682(0x774)](_0x6a1682(0x580)+_0x390945[_0x6a1682(0x2c4)]+_0x6a1682(0x903));return;}_0x204dbc[_0x6a1682(0x355)]=_0x204dbc[_0x6a1682(0x355)][_0x6a1682(0x67b)](_0x45aa80=>_0x45aa80['_id'][_0x6a1682(0x684)]()!==_0x7cdc57[_0x6a1682(0x1dd)]['_id'][_0x6a1682(0x684)]());}async['updateReplyOption'](_0x5ab5bf,_0x5f128f){const _0xb4d590=a0_0x1bb7e5;let _0x4fce80=_0x5ab5bf[_0xb4d590(0x355)][_0xb4d590(0x2bf)](_0x2ddd64=>_0x2ddd64[_0xb4d590(0x2c4)][_0xb4d590(0x684)]()===_0x5f128f[_0xb4d590(0x1dd)]['_id'][_0xb4d590(0x684)]());if(_0x4fce80===-0x1){this[_0xb4d590(0x774)](_0xb4d590(0x580)+_0x5f128f[_0xb4d590(0x1dd)][_0xb4d590(0x2c4)]+_0xb4d590(0x856));return;}for(let _0x4518d6 in _0x5f128f[_0xb4d590(0x1dd)])_0x5f128f[_0xb4d590(0x1dd)][_0xb4d590(0x4f1)](_0x4518d6)&&(_0x5ab5bf['replyOptions'][_0x4fce80][_0x4518d6]=_0x5f128f[_0xb4d590(0x1dd)][_0x4518d6]);}[a0_0x1bb7e5(0x891)](_0x499bc0,_0x46eff1){const _0x28a928=a0_0x1bb7e5;_0x499bc0[_0x28a928(0x355)]['push'](_0x46eff1[_0x28a928(0x1dd)]);}async[a0_0x1bb7e5(0x7bb)](_0x28b59c){const _0x9dad92=a0_0x1bb7e5;this['logger'][_0x9dad92(0x1d7)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x9dad92(0x3c3)+JSON[_0x9dad92(0x84a)](_0x28b59c,null,0x2));try{if(this[_0x9dad92(0x39f)]['verbose'](this['instanceName']+'\x20('+this[_0x9dad92(0x3fc)]['wuid']+_0x9dad92(0x884)),!this['AutomateSystem'][_0x9dad92(0x5a2)]['find'](_0x4225b8=>_0x4225b8[_0x9dad92(0x2c4)]===_0x28b59c['_id']))throw this[_0x9dad92(0x39f)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x9dad92(0x860)]+_0x9dad92(0x7fd)+_0x28b59c[_0x9dad92(0x2c4)]+_0x9dad92(0x259)),new m(_0x9dad92(0x470));let _0x51ab90=await this['repository'][_0x9dad92(0x21f)][_0x9dad92(0x1fa)]({'where':{'_id':_0x28b59c['_id']}});if(!_0x51ab90||!_0x51ab90[_0x9dad92(0x2dd)]?.['includes'](this[_0x9dad92(0x3fc)][_0x9dad92(0x860)]))throw this[_0x9dad92(0x39f)]['error'](this[_0x9dad92(0x7fe)]+'\x20('+this[_0x9dad92(0x3fc)]['wuid']+'):\x20Flow\x20\x27'+_0x28b59c[_0x9dad92(0x2c4)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x9dad92(0x194)+_0x28b59c[_0x9dad92(0x2c4)]+_0x9dad92(0x825));if(!_0x51ab90[_0x9dad92(0x40b)]?.[_0x9dad92(0x460)](this[_0x9dad92(0x3fc)][_0x9dad92(0x860)]))throw new m(_0x9dad92(0x209));if(_0x28b59c[_0x9dad92(0x8b2)]&&_0x28b59c[_0x9dad92(0x8b2)]?.[_0x9dad92(0x5f4)]===!0x0){if(this[_0x9dad92(0x39f)]['verbose'](this[_0x9dad92(0x7fe)]+'\x20('+this[_0x9dad92(0x3fc)][_0x9dad92(0x860)]+'):\x20delete\x20=\x20true'),_0x28b59c[_0x9dad92(0x8b2)][_0x9dad92(0x4b7)]===!0x0)return{'message':_0x9dad92(0x2e3)};if(_0x51ab90[_0x9dad92(0x638)][_0x9dad92(0x8c3)](_0x1372bd=>_0x1372bd[_0x9dad92(0x785)]['toString']()===_0x28b59c[_0x9dad92(0x8b2)]['_id']))return this[_0x9dad92(0x39f)][_0x9dad92(0x1d7)](this[_0x9dad92(0x7fe)]+'\x20('+this[_0x9dad92(0x3fc)][_0x9dad92(0x860)]+_0x9dad92(0x88d)),{'message':_0x9dad92(0x806)};_0x51ab90[_0x9dad92(0x205)]=_0x51ab90['groups'][_0x9dad92(0x67b)](_0x730b73=>_0x730b73[_0x9dad92(0x2c4)]['toString']()!==_0x28b59c[_0x9dad92(0x8b2)][_0x9dad92(0x2c4)]);}else{if(_0x28b59c[_0x9dad92(0x8b2)]){if(_0x28b59c['group'][_0x9dad92(0x4b7)]===!0x0)return{'message':_0x9dad92(0x375)};if(_0x28b59c[_0x9dad92(0x8b2)][_0x9dad92(0x2c4)]){let _0x32e923=_0x51ab90[_0x9dad92(0x205)][_0x9dad92(0x42f)](_0x77d7a1=>_0x77d7a1[_0x9dad92(0x2c4)][_0x9dad92(0x684)]()===_0x28b59c[_0x9dad92(0x8b2)]['_id']);_0x32e923&&(_0x28b59c[_0x9dad92(0x8b2)]['x']<0x0&&(_0x28b59c[_0x9dad92(0x8b2)]['x']=0x0),_0x28b59c['group']['y']<0x0&&(_0x28b59c['group']['y']=0x0),Object[_0x9dad92(0x2f6)](_0x32e923,_0x28b59c['group']));}else _0x51ab90[_0x9dad92(0x205)][_0x9dad92(0x62c)](_0x28b59c[_0x9dad92(0x8b2)]);}}let _0x488ed6=await this['repository'][_0x9dad92(0x21f)][_0x9dad92(0x3dd)](_0x51ab90[_0x9dad92(0x2c4)],_0x51ab90);if(!_0x488ed6)throw new Error(_0x9dad92(0x3d0));return _0x488ed6;}catch(_0x5f1d39){let _0x51af02='Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo',_0x34a9cc=_0x5f1d39 instanceof Error?_0x5f1d39[_0x9dad92(0x865)]:typeof _0x5f1d39==_0x9dad92(0x8d4)?JSON[_0x9dad92(0x84a)](_0x5f1d39):_0x5f1d39,_0x5ece9a=_0x51af02+':\x20'+_0x34a9cc;throw this[_0x9dad92(0x39f)][_0x9dad92(0x834)](this[_0x9dad92(0x7fe)]+'\x20('+this[_0x9dad92(0x3fc)]['wuid']+'):\x20'+_0x5ece9a),new m(_0x5ece9a);}}async[a0_0x1bb7e5(0x487)](_0x3b23fc){const _0x1f81f2=a0_0x1bb7e5;try{if(this[_0x1f81f2(0x39f)]['verbose'](this[_0x1f81f2(0x7fe)]+'\x20('+this[_0x1f81f2(0x3fc)][_0x1f81f2(0x860)]+_0x1f81f2(0x768)),!this[_0x1f81f2(0x399)][_0x1f81f2(0x5a2)]['find'](_0x2c3e87=>_0x2c3e87[_0x1f81f2(0x2c4)]===_0x3b23fc[_0x1f81f2(0x2c4)]))throw this[_0x1f81f2(0x39f)][_0x1f81f2(0x1d7)](this['instanceName']+'\x20('+this[_0x1f81f2(0x3fc)][_0x1f81f2(0x860)]+'):\x20Fluxo\x20\x27'+_0x3b23fc[_0x1f81f2(0x2c4)]+_0x1f81f2(0x259)),new m(_0x1f81f2(0x470));let _0x44fc2f=await this[_0x1f81f2(0x1da)][_0x1f81f2(0x21f)][_0x1f81f2(0x1fa)]({'where':{'_id':_0x3b23fc[_0x1f81f2(0x2c4)]}});if(!_0x44fc2f||!_0x44fc2f[_0x1f81f2(0x2dd)]?.[_0x1f81f2(0x460)](this['instance'][_0x1f81f2(0x860)]))throw this[_0x1f81f2(0x39f)]['error'](this[_0x1f81f2(0x7fe)]+'\x20('+this['instance'][_0x1f81f2(0x860)]+'):\x20Flow\x20\x27'+_0x3b23fc[_0x1f81f2(0x2c4)]+_0x1f81f2(0x825)),new m(_0x1f81f2(0x194)+_0x3b23fc[_0x1f81f2(0x2c4)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x44fc2f[_0x1f81f2(0x40b)]?.[_0x1f81f2(0x460)](this['instance']['wuid']))throw new m(_0x1f81f2(0x209));let _0x230267=!0x1;if(_0x3b23fc[_0x1f81f2(0x71f)]?.[_0x1f81f2(0x5f4)]===!0x0)_0x44fc2f[_0x1f81f2(0x438)]=_0x44fc2f[_0x1f81f2(0x438)][_0x1f81f2(0x67b)](_0x17b28e=>_0x17b28e&&_0x3b23fc[_0x1f81f2(0x71f)]&&_0x17b28e[_0x1f81f2(0x2c4)]&&_0x3b23fc[_0x1f81f2(0x71f)][_0x1f81f2(0x2c4)]&&_0x17b28e[_0x1f81f2(0x2c4)]['toString']()!==_0x3b23fc[_0x1f81f2(0x71f)][_0x1f81f2(0x2c4)][_0x1f81f2(0x684)]()),_0x230267=!0x0;else{let _0x1c6a9d=_0x44fc2f[_0x1f81f2(0x438)][_0x1f81f2(0x42f)](_0x406a51=>_0x406a51&&_0x3b23fc[_0x1f81f2(0x71f)]&&_0x406a51['_id']&&_0x3b23fc[_0x1f81f2(0x71f)][_0x1f81f2(0x2c4)]&&_0x406a51[_0x1f81f2(0x2c4)][_0x1f81f2(0x684)]()===_0x3b23fc['condition'][_0x1f81f2(0x2c4)]['toString']());_0x1c6a9d?(_0x230267=_0x1c6a9d[_0x1f81f2(0x6cc)]!==_0x3b23fc[_0x1f81f2(0x71f)][_0x1f81f2(0x6cc)],Object[_0x1f81f2(0x2f6)](_0x1c6a9d,_0x3b23fc['condition'])):(_0x44fc2f[_0x1f81f2(0x438)][_0x1f81f2(0x62c)](_0x3b23fc[_0x1f81f2(0x71f)]),_0x230267=!0x0);}if(_0x230267){_0x44fc2f[_0x1f81f2(0x438)][_0x1f81f2(0x394)]((_0x447df3,_0x5b1a0c)=>_0x447df3['order']>_0x5b1a0c['order']?0x1:_0x5b1a0c[_0x1f81f2(0x6cc)]>_0x447df3[_0x1f81f2(0x6cc)]?-0x1:0x0);for(let _0x5077ed=0x0;_0x5077ed<_0x44fc2f[_0x1f81f2(0x438)][_0x1f81f2(0x1e1)];_0x5077ed++)_0x44fc2f[_0x1f81f2(0x438)][_0x5077ed][_0x1f81f2(0x6cc)]=_0x5077ed+0x1;_0x44fc2f[_0x1f81f2(0x438)][_0x1f81f2(0x1e1)]>0x0&&(_0x44fc2f[_0x1f81f2(0x438)][0x0][_0x1f81f2(0x3f1)]='and');}let _0x3ed72b=await this[_0x1f81f2(0x1da)][_0x1f81f2(0x21f)]['updateOne'](_0x44fc2f[_0x1f81f2(0x2c4)],_0x44fc2f);if(!_0x3ed72b)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x3ed72b;}catch(_0x307fd6){let _0x448977=_0x1f81f2(0x292),_0x3deb6c=_0x307fd6 instanceof Error?_0x307fd6[_0x1f81f2(0x865)]:typeof _0x307fd6==_0x1f81f2(0x8d4)?JSON[_0x1f81f2(0x84a)](_0x307fd6):_0x307fd6,_0x5825a2=_0x448977+':\x20'+_0x3deb6c;throw this['logger'][_0x1f81f2(0x834)](this['instanceName']+'\x20('+this[_0x1f81f2(0x3fc)][_0x1f81f2(0x860)]+'):\x20'+_0x5825a2),new m(_0x5825a2);}}async[a0_0x1bb7e5(0x827)](_0x298517){const _0x7b4857=a0_0x1bb7e5;try{if(this[_0x7b4857(0x39f)][_0x7b4857(0x1d7)](this[_0x7b4857(0x7fe)]+'\x20('+this['instance']['wuid']+_0x7b4857(0x7e6)),!this[_0x7b4857(0x399)][_0x7b4857(0x5a2)][_0x7b4857(0x42f)](_0x1b7f3b=>_0x1b7f3b[_0x7b4857(0x2c4)]===_0x298517[_0x7b4857(0x2c4)]))throw this[_0x7b4857(0x39f)][_0x7b4857(0x1d7)](this['instanceName']+'\x20('+this[_0x7b4857(0x3fc)][_0x7b4857(0x860)]+_0x7b4857(0x7fd)+_0x298517['_id']+_0x7b4857(0x259)),new m(_0x7b4857(0x470));let _0x58cd56=await this['repository'][_0x7b4857(0x21f)][_0x7b4857(0x1fa)]({'where':{'_id':_0x298517['_id']}});if(!_0x58cd56||!_0x58cd56[_0x7b4857(0x2dd)]?.[_0x7b4857(0x460)](this[_0x7b4857(0x3fc)][_0x7b4857(0x860)]))throw this['logger'][_0x7b4857(0x834)](this[_0x7b4857(0x7fe)]+'\x20('+this['instance'][_0x7b4857(0x860)]+_0x7b4857(0x763)+_0x298517['_id']+_0x7b4857(0x825)),new m(_0x7b4857(0x194)+_0x298517[_0x7b4857(0x2c4)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x58cd56[_0x7b4857(0x40b)]?.[_0x7b4857(0x460)](this[_0x7b4857(0x3fc)][_0x7b4857(0x860)]))throw new m(_0x7b4857(0x209));let _0x633608=!0x1;if(_0x298517[_0x7b4857(0x182)]?.[_0x7b4857(0x5f4)]===!0x0)_0x58cd56[_0x7b4857(0x5ad)]=_0x58cd56[_0x7b4857(0x5ad)][_0x7b4857(0x67b)](_0x23bae3=>_0x23bae3&&_0x298517[_0x7b4857(0x182)]&&_0x23bae3['_id']&&_0x298517['varedit'][_0x7b4857(0x2c4)]&&_0x23bae3['_id'][_0x7b4857(0x684)]()!==_0x298517[_0x7b4857(0x182)]['_id'][_0x7b4857(0x684)]()),_0x633608=!0x0;else{let _0x1baadd=_0x58cd56['varedits']['find'](_0x51b411=>_0x51b411&&_0x298517['varedit']&&_0x51b411[_0x7b4857(0x2c4)]&&_0x298517[_0x7b4857(0x182)]['_id']&&_0x51b411[_0x7b4857(0x2c4)][_0x7b4857(0x684)]()===_0x298517[_0x7b4857(0x182)][_0x7b4857(0x2c4)][_0x7b4857(0x684)]());_0x1baadd?(_0x633608=_0x1baadd['order']!==_0x298517[_0x7b4857(0x182)][_0x7b4857(0x6cc)],Object[_0x7b4857(0x2f6)](_0x1baadd,_0x298517[_0x7b4857(0x182)])):(_0x58cd56[_0x7b4857(0x5ad)][_0x7b4857(0x62c)](_0x298517[_0x7b4857(0x182)]),_0x633608=!0x0);}if(_0x633608){_0x58cd56[_0x7b4857(0x5ad)][_0x7b4857(0x394)]((_0x2e2278,_0x5ff8e4)=>_0x2e2278[_0x7b4857(0x6cc)]>_0x5ff8e4[_0x7b4857(0x6cc)]?0x1:_0x5ff8e4['order']>_0x2e2278[_0x7b4857(0x6cc)]?-0x1:0x0);for(let _0x55bdbe=0x0;_0x55bdbe<_0x58cd56[_0x7b4857(0x5ad)][_0x7b4857(0x1e1)];_0x55bdbe++)_0x58cd56[_0x7b4857(0x5ad)][_0x55bdbe][_0x7b4857(0x6cc)]=_0x55bdbe+0x1;}let _0x4628ad=await this[_0x7b4857(0x1da)][_0x7b4857(0x21f)][_0x7b4857(0x3dd)](_0x58cd56['_id'],_0x58cd56);if(!_0x4628ad)throw new Error(_0x7b4857(0x3d0));return _0x4628ad;}catch(_0x1e1c90){let _0x5dd6bf=_0x7b4857(0x292),_0x1f11a0=_0x1e1c90 instanceof Error?_0x1e1c90[_0x7b4857(0x865)]:typeof _0x1e1c90==_0x7b4857(0x8d4)?JSON[_0x7b4857(0x84a)](_0x1e1c90):_0x1e1c90,_0x9195a9=_0x5dd6bf+':\x20'+_0x1f11a0;throw this['logger'][_0x7b4857(0x834)](this[_0x7b4857(0x7fe)]+'\x20('+this['instance'][_0x7b4857(0x860)]+_0x7b4857(0x69d)+_0x9195a9),new m(_0x9195a9);}}async[a0_0x1bb7e5(0x3c9)](_0x49e263){const _0x46c875=a0_0x1bb7e5;try{if(this[_0x46c875(0x39f)][_0x46c875(0x1d7)](this['instanceName']+'\x20('+this[_0x46c875(0x3fc)][_0x46c875(0x860)]+_0x46c875(0x579)),!this[_0x46c875(0x399)]['flows'][_0x46c875(0x42f)](_0x28a434=>_0x28a434[_0x46c875(0x2c4)]===_0x49e263['_id']))throw this[_0x46c875(0x39f)][_0x46c875(0x1d7)](this[_0x46c875(0x7fe)]+'\x20('+this[_0x46c875(0x3fc)][_0x46c875(0x860)]+'):\x20Fluxo\x20\x27'+_0x49e263[_0x46c875(0x2c4)]+'\x27\x20não\x20encontrado'),new m(_0x46c875(0x470));let _0x47302e=await this[_0x46c875(0x1da)][_0x46c875(0x21f)][_0x46c875(0x1fa)]({'where':{'_id':_0x49e263[_0x46c875(0x2c4)]}});if(!_0x47302e||!_0x47302e[_0x46c875(0x2dd)]?.[_0x46c875(0x460)](this['instance'][_0x46c875(0x860)]))throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x46c875(0x3fc)][_0x46c875(0x860)]+_0x46c875(0x763)+_0x49e263[_0x46c875(0x2c4)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x46c875(0x194)+_0x49e263['_id']+_0x46c875(0x825));if(!_0x47302e[_0x46c875(0x40b)]?.[_0x46c875(0x460)](this[_0x46c875(0x3fc)][_0x46c875(0x860)]))throw new m(_0x46c875(0x209));_0x49e263[_0x46c875(0x244)][_0x46c875(0x8f0)]=_0x49e263['variable'][_0x46c875(0x8f0)][_0x46c875(0x8ad)](),_0x49e263[_0x46c875(0x244)][_0x46c875(0x8f0)][_0x46c875(0x703)]('_')&&(_0x49e263[_0x46c875(0x244)][_0x46c875(0x8f0)]=_0x49e263[_0x46c875(0x244)][_0x46c875(0x8f0)]['substring'](0x1)),_0x49e263['variable']['name']=_0x49e263[_0x46c875(0x244)][_0x46c875(0x8f0)][_0x46c875(0x8ad)]();let _0x476767=_0x47302e[_0x46c875(0x639)]['find'](_0x38eb41=>_0x38eb41[_0x46c875(0x8f0)]===_0x49e263['variable'][_0x46c875(0x8f0)]);if(_0x476767?.[_0x46c875(0x866)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x49e263[_0x46c875(0x244)]?.[_0x46c875(0x5f4)]===!0x0){if(!_0x476767)return{'message':_0x46c875(0x212)};_0x47302e[_0x46c875(0x639)]=_0x47302e[_0x46c875(0x639)][_0x46c875(0x67b)](_0x4e6af2=>_0x4e6af2['name']!==_0x49e263['variable'][_0x46c875(0x8f0)]);}else _0x476767?Object[_0x46c875(0x2f6)](_0x476767,_0x49e263['variable']):_0x47302e[_0x46c875(0x639)][_0x46c875(0x62c)](_0x49e263[_0x46c875(0x244)]);let _0x4af989=await this['repository'][_0x46c875(0x21f)][_0x46c875(0x3dd)](_0x47302e[_0x46c875(0x2c4)],_0x47302e);if(!_0x4af989)throw new Error(_0x46c875(0x3d0));return _0x4af989;}catch(_0x1f17e6){let _0x2c9099=_0x46c875(0x69e),_0x470c0c=_0x1f17e6 instanceof Error?_0x1f17e6[_0x46c875(0x865)]:typeof _0x1f17e6==_0x46c875(0x8d4)?JSON[_0x46c875(0x84a)](_0x1f17e6):_0x1f17e6,_0x24cbb1=_0x2c9099+':\x20'+_0x470c0c;throw this[_0x46c875(0x39f)]['error'](this['instanceName']+'\x20('+this[_0x46c875(0x3fc)][_0x46c875(0x860)]+_0x46c875(0x69d)+_0x24cbb1),new m(_0x24cbb1);}}async[a0_0x1bb7e5(0x7a8)](_0x64eaaa){const _0x4b6eca=a0_0x1bb7e5;let _0x233468=null;try{if(!this[_0x4b6eca(0x399)]?.['flowConfig']['enabled'])throw new m(_0x4b6eca(0x871));this['logger'][_0x4b6eca(0x1d7)](this['instanceName']+'\x20('+this[_0x4b6eca(0x3fc)][_0x4b6eca(0x860)]+_0x4b6eca(0x6f7));let _0x39fe6b=(await this['whatsappNumber']({'numbers':[_0x64eaaa[_0x4b6eca(0x6d1)]]}))[0x0];if(!_0x39fe6b[_0x4b6eca(0x49c)]&&!(0x0,w['isJidGroup'])(_0x39fe6b[_0x4b6eca(0x6c0)])&&!_0x39fe6b[_0x4b6eca(0x6c0)][_0x4b6eca(0x460)](_0x4b6eca(0x52d)))throw _0x233468=JSON['stringify'](_0x39fe6b,null,0x2),new m(_0x39fe6b);let _0x31bd3a;if(_0x64eaaa['name'][_0x4b6eca(0x1e1)]===0x24&&/^[0-9a-fA-F-]{36}$/[_0x4b6eca(0x6b9)](_0x64eaaa['name'])?_0x31bd3a=this[_0x4b6eca(0x399)][_0x4b6eca(0x5a2)][_0x4b6eca(0x42f)](_0x4cbe4b=>_0x4cbe4b['_id']===_0x64eaaa[_0x4b6eca(0x8f0)]):_0x31bd3a=this[_0x4b6eca(0x399)][_0x4b6eca(0x5a2)][_0x4b6eca(0x42f)](_0x2d168a=>_0x2d168a['name']===_0x64eaaa['name']),!_0x31bd3a)throw this[_0x4b6eca(0x39f)][_0x4b6eca(0x1d7)](this[_0x4b6eca(0x7fe)]+'\x20('+this['instance']['wuid']+_0x4b6eca(0x7fd)+_0x64eaaa[_0x4b6eca(0x8f0)]+_0x4b6eca(0x259)),new m(_0x4b6eca(0x470));let _0x1b7f73=await this[_0x4b6eca(0x1da)][_0x4b6eca(0x21f)][_0x4b6eca(0x1fa)]({'where':{'_id':_0x31bd3a[_0x4b6eca(0x2c4)]}});if(!_0x1b7f73||!_0x1b7f73[_0x4b6eca(0x2dd)]?.[_0x4b6eca(0x460)](this[_0x4b6eca(0x3fc)]['wuid']))throw this[_0x4b6eca(0x39f)][_0x4b6eca(0x834)](this[_0x4b6eca(0x7fe)]+'\x20('+this[_0x4b6eca(0x3fc)][_0x4b6eca(0x860)]+_0x4b6eca(0x763)+_0x31bd3a[_0x4b6eca(0x2c4)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),_0x233468=_0x4b6eca(0x194)+_0x31bd3a[_0x4b6eca(0x2c4)]+_0x4b6eca(0x825),new m(_0x233468);let _0x3a6048=await this[_0x4b6eca(0x3e1)](_0x1b7f73,_0x39fe6b['jid'],_0x64eaaa['changeVariables']);if(_0x3a6048){this[_0x4b6eca(0x39f)][_0x4b6eca(0x1d7)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4b6eca(0x23d));let _0x36fa0f=await this['NextBlock'](_0x3a6048);return _0x36fa0f&&await this[_0x4b6eca(0x26b)](_0x3a6048,_0x36fa0f),{'message':_0x4b6eca(0x3c0)+_0x64eaaa['remoteJid']};}}catch(_0x3bb1b7){if(this['logger'][_0x4b6eca(0x834)](this['instanceName']+'\x20('+this[_0x4b6eca(0x3fc)][_0x4b6eca(0x860)]+_0x4b6eca(0x329)+(_0x3bb1b7 instanceof Error?_0x3bb1b7[_0x4b6eca(0x865)]:JSON['stringify'](_0x3bb1b7,null,0x2))),_0x233468=_0x3bb1b7 instanceof Error?_0x3bb1b7[_0x4b6eca(0x865)]:JSON['stringify'](_0x3bb1b7,null,0x2),_0x233468)throw new m(_0x4b6eca(0x5ee)+_0x233468);}}async[a0_0x1bb7e5(0x1b5)](_0xff099f,_0x556cd6,_0x222649){const _0x7cc69c=a0_0x1bb7e5;let _0x5eab12=null;try{if(!this[_0x7cc69c(0x399)]?.[_0x7cc69c(0x3fe)]['enabled'])throw new m(_0x7cc69c(0x871));if(this[_0x7cc69c(0x39f)][_0x7cc69c(0x1d7)](this['instanceName']+'\x20('+this[_0x7cc69c(0x3fc)][_0x7cc69c(0x860)]+_0x7cc69c(0x6f7)),_0x556cd6){let _0x5bc560=(await this['whatsappNumber']({'numbers':[_0x556cd6]}))[0x0];if(!_0x5bc560[_0x7cc69c(0x49c)]&&!(0x0,w[_0x7cc69c(0x29b)])(_0x5bc560[_0x7cc69c(0x6c0)])&&!_0x5bc560[_0x7cc69c(0x6c0)][_0x7cc69c(0x460)](_0x7cc69c(0x52d)))throw _0x5eab12=JSON['stringify'](_0x5bc560,null,0x2),new m(_0x5bc560);_0x556cd6=_0x5bc560['jid'];}else _0x556cd6||(_0x556cd6=(0x0,Y['v4'])());let _0x3e6503=await this['repository'][_0x7cc69c(0x21f)][_0x7cc69c(0x1fa)]({'where':{'_id':_0xff099f}});if(!_0x3e6503||!_0x3e6503['whoCanUse']?.['includes'](this[_0x7cc69c(0x3fc)][_0x7cc69c(0x860)]))throw this[_0x7cc69c(0x39f)][_0x7cc69c(0x834)](this[_0x7cc69c(0x7fe)]+'\x20('+this[_0x7cc69c(0x3fc)]['wuid']+_0x7cc69c(0x763)+_0xff099f+_0x7cc69c(0x825)),new m(_0x7cc69c(0x194)+_0xff099f+_0x7cc69c(0x825));let _0x306880=await this[_0x7cc69c(0x3e1)](_0x3e6503,_0x556cd6,null);if(_0x306880){this[_0x7cc69c(0x39f)][_0x7cc69c(0x1d7)](this[_0x7cc69c(0x7fe)]+'\x20('+this[_0x7cc69c(0x3fc)]['wuid']+_0x7cc69c(0x83c));let _0x82c15f;if(_0x222649){let _0x429705=_0x306880[_0x7cc69c(0x260)][_0x7cc69c(0x473)],_0x50fd01=this[_0x7cc69c(0x855)](_0x222649);Object['assign'](_0x429705,_0x50fd01),_0x306880[_0x7cc69c(0x260)][_0x7cc69c(0x473)]=_0x429705,_0x82c15f={'error':!0x1,'apiResponse':_0x222649};}let _0x3b2418=await this['NextBlock'](_0x306880);return _0x3b2418&&await this[_0x7cc69c(0x26b)](_0x306880,_0x3b2418),{'message':_0x7cc69c(0x65c)};}}catch(_0x466a0c){if(this['logger'][_0x7cc69c(0x834)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x7cc69c(0x329)+(_0x466a0c instanceof Error?_0x466a0c['message']:JSON['stringify'](_0x466a0c,null,0x2))),_0x5eab12=_0x466a0c instanceof Error?_0x466a0c[_0x7cc69c(0x865)]:JSON[_0x7cc69c(0x84a)](_0x466a0c,null,0x2),_0x5eab12)throw new m(_0x7cc69c(0x5ee)+_0x5eab12);}}async[a0_0x1bb7e5(0x51e)](_0x78d135){const _0x1b628f=a0_0x1bb7e5;try{let _0x21a1d3={'remoteJid':_0x78d135,'status':_0x1b628f(0x4c2)},_0x5e3fa6={'status':_0x1b628f(0x814)},_0x181ef0=await this[_0x1b628f(0x1da)][_0x1b628f(0x489)]['updateMany'](_0x21a1d3,_0x5e3fa6,this[_0x1b628f(0x3fc)][_0x1b628f(0x860)]);return this['logger'][_0x1b628f(0x1d7)](this[_0x1b628f(0x7fe)]+'\x20('+this[_0x1b628f(0x3fc)][_0x1b628f(0x860)]+_0x1b628f(0x5d9)),_0x181ef0;}catch(_0x36b09f){throw this[_0x1b628f(0x39f)]['error'](this[_0x1b628f(0x7fe)]+'\x20('+this[_0x1b628f(0x3fc)][_0x1b628f(0x860)]+_0x1b628f(0x28f)+_0x36b09f[_0x1b628f(0x865)]),_0x36b09f;}}async[a0_0x1bb7e5(0x3e1)](_0x1d01c3,_0x33458b,_0x5063a9){const _0x484f54=a0_0x1bb7e5;this['logger']['verbose'](this[_0x484f54(0x7fe)]+'\x20('+this[_0x484f54(0x3fc)][_0x484f54(0x860)]+_0x484f54(0x858)),await this[_0x484f54(0x51e)](_0x33458b);try{let _0x58bf7e=require('mongodb')[_0x484f54(0x2f8)],_0x68f2c6=Date[_0x484f54(0x559)](),_0x2e4798=_0x484f54(0x19a),_0x1c09f4={},_0x45397b={},_0x58de35=this[_0x484f54(0x399)][_0x484f54(0x5a2)][_0x484f54(0x42f)](_0x29b6ea=>_0x29b6ea['_id']===_0x1d01c3[_0x484f54(0x2c4)]?.[_0x484f54(0x684)]()),_0x1dd94a=_0x58de35?.[_0x484f54(0x335)]??_0x1d01c3[_0x484f54(0x335)]??0x0,_0x54f5d5=_0x58de35?.[_0x484f54(0x395)]??_0x1d01c3[_0x484f54(0x395)]??!0x1,_0x232161={'flowId':_0x1d01c3[_0x484f54(0x2c4)],..._0x1d01c3,'chatLog':null},_0x3b8f7c=await this['variablesToObject'](_0x232161[_0x484f54(0x639)]),_0x14011d=await this['getVariablesChat'](_0x33458b),_0x49b052={..._0x3b8f7c,..._0x14011d,'_remoteJid':_0x33458b},_0xcb1b3a={'lastReceivedMessage':_0x1c09f4,'lastSendMessage':_0x45397b,'lastBlockId':_0x2e4798,'lastCondition':!0x0,'realVariables':_0x49b052};_0x232161[_0x484f54(0x260)]=_0xcb1b3a,_0x232161[_0x484f54(0x260)][_0x484f54(0x473)]={..._0x49b052,..._0x5063a9},delete _0x232161[_0x484f54(0x2c4)],_0x232161['_id']=new _0x58bf7e(),_0x232161[_0x484f54(0x439)]=_0x68f2c6,_0x232161[_0x484f54(0x362)]=_0x484f54(0x4c2),_0x232161[_0x484f54(0x6d1)]=_0x33458b,_0x232161[_0x484f54(0x335)]=_0x1dd94a,_0x232161[_0x484f54(0x395)]=_0x54f5d5,_0x232161['_id']=_0x1d01c3[_0x484f54(0x2c4)];let _0x1e82f0=await this[_0x484f54(0x1da)][_0x484f54(0x489)][_0x484f54(0x3dd)](_0x232161[_0x484f54(0x2c4)],_0x232161,this[_0x484f54(0x3fc)]['wuid']);return this[_0x484f54(0x39f)][_0x484f54(0x1d7)](this[_0x484f54(0x7fe)]+'\x20('+this[_0x484f54(0x3fc)][_0x484f54(0x860)]+_0x484f54(0x336)),_0x1e82f0?_0x232161:null;}catch(_0x166d0b){let _0xd34105='Erro\x20ao\x20copiar\x20o\x20documento',_0xad6db5=_0x166d0b instanceof Error?_0x166d0b[_0x484f54(0x865)]:typeof _0x166d0b==_0x484f54(0x8d4)?JSON['stringify'](_0x166d0b):_0x166d0b,_0x1f95cf=_0xd34105+':\x20'+_0xad6db5;throw this[_0x484f54(0x39f)]['error'](this[_0x484f54(0x7fe)]+'\x20('+this[_0x484f54(0x3fc)][_0x484f54(0x860)]+'):\x20'+_0x1f95cf),new m(_0x1f95cf);}}async[a0_0x1bb7e5(0x3b1)](_0x307043){const _0x2f3221=a0_0x1bb7e5;try{this[_0x2f3221(0x39f)][_0x2f3221(0x1d7)](this[_0x2f3221(0x7fe)]+'\x20('+this[_0x2f3221(0x3fc)][_0x2f3221(0x860)]+'):\x20Buscando\x20conversa...'),this[_0x2f3221(0x39f)]['verbose'](this[_0x2f3221(0x7fe)]+'\x20('+this[_0x2f3221(0x3fc)][_0x2f3221(0x860)]+'):\x20Query\x20params:\x20'+_0x307043);let _0x1b0a8d={'where':{'_id':_0x307043}};return await this[_0x2f3221(0x1da)][_0x2f3221(0x489)][_0x2f3221(0x1fa)](_0x1b0a8d,this[_0x2f3221(0x3fc)][_0x2f3221(0x860)]);}catch(_0x36b71c){let _0xef63d=_0x2f3221(0x5aa),_0x368c8c=_0x36b71c instanceof Error?_0x36b71c[_0x2f3221(0x865)]:typeof _0x36b71c==_0x2f3221(0x8d4)?JSON[_0x2f3221(0x84a)](_0x36b71c):_0x36b71c,_0x1971b7=_0xef63d+':\x20'+_0x368c8c;throw this['logger'][_0x2f3221(0x834)](this[_0x2f3221(0x7fe)]+'\x20('+this['instance']['wuid']+_0x2f3221(0x69d)+_0x1971b7),new m(_0x1971b7);}}async[a0_0x1bb7e5(0x3c6)](_0x3a4003){const _0x4bbc8a=a0_0x1bb7e5;try{return this[_0x4bbc8a(0x39f)]['verbose'](this[_0x4bbc8a(0x7fe)]+'\x20('+this['instance'][_0x4bbc8a(0x860)]+_0x4bbc8a(0x29e)),await this[_0x4bbc8a(0x1da)][_0x4bbc8a(0x489)]['find'](_0x3a4003,this['instance'][_0x4bbc8a(0x860)]);}catch(_0x1c4c26){let _0x1bef4a=_0x4bbc8a(0x4aa),_0x394c2e=_0x1c4c26 instanceof Error?_0x1c4c26[_0x4bbc8a(0x865)]:typeof _0x1c4c26=='object'?JSON[_0x4bbc8a(0x84a)](_0x1c4c26):_0x1c4c26,_0x11e864=_0x1bef4a+':\x20'+_0x394c2e;throw this[_0x4bbc8a(0x39f)][_0x4bbc8a(0x834)](this[_0x4bbc8a(0x7fe)]+'\x20('+this[_0x4bbc8a(0x3fc)]['wuid']+_0x4bbc8a(0x69d)+_0x11e864),new m(_0x11e864);}}async[a0_0x1bb7e5(0x41c)](_0x4a69d7){const _0x34dc76=a0_0x1bb7e5;try{return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x34dc76(0x3fc)][_0x34dc76(0x860)]+_0x34dc76(0x1c5)),this['logger'][_0x34dc76(0x1d7)](this[_0x34dc76(0x7fe)]+'\x20('+this['instance']['wuid']+'):\x20Query\x20params:'+_0x4a69d7),(await this[_0x34dc76(0x1da)]['flowConversation'][_0x34dc76(0x4fd)]({'where':{'_id':_0x4a69d7[_0x34dc76(0x2c4)]}},this[_0x34dc76(0x3fc)][_0x34dc76(0x860)]))[_0x34dc76(0x746)]===0x0?{'message':_0x34dc76(0x476)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x4eb5a6){let _0xdeaa07=_0x34dc76(0x7b8),_0x1b4956=_0x4eb5a6 instanceof Error?_0x4eb5a6[_0x34dc76(0x865)]:typeof _0x4eb5a6==_0x34dc76(0x8d4)?JSON[_0x34dc76(0x84a)](_0x4eb5a6):_0x4eb5a6,_0x2869f3=_0xdeaa07+':\x20'+_0x1b4956;throw this[_0x34dc76(0x39f)][_0x34dc76(0x834)](this[_0x34dc76(0x7fe)]+'\x20('+this[_0x34dc76(0x3fc)][_0x34dc76(0x860)]+'):\x20'+_0x2869f3),new m(_0x2869f3);}}async[a0_0x1bb7e5(0x1aa)](_0x56178f){const _0x337231=a0_0x1bb7e5;try{let {_id:_0x35b0ec,chatLog:_0x38c79e,status:_0x40b3d3}=_0x56178f;if(!_0x35b0ec)return{'message':_0x337231(0x82a)};let _0x51e139={};if(_0x40b3d3!==void 0x0&&(_0x51e139[_0x337231(0x362)]=_0x40b3d3),Object[_0x337231(0x312)](_0x51e139)[_0x337231(0x1e1)]===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0xa6bb91=await this[_0x337231(0x1da)]['flowConversation'][_0x337231(0x3dd)](_0x35b0ec,_0x51e139,this[_0x337231(0x3fc)][_0x337231(0x860)]);return _0xa6bb91||{'message':_0x337231(0x35a)};}catch(_0x1a931b){let _0x4b43ee=_0x337231(0x1a1),_0x566e47=_0x1a931b instanceof Error?_0x1a931b[_0x337231(0x865)]:typeof _0x1a931b==_0x337231(0x8d4)?JSON['stringify'](_0x1a931b):_0x1a931b,_0x57d0e2=_0x4b43ee+':\x20'+_0x566e47;throw this[_0x337231(0x39f)]['error'](this[_0x337231(0x7fe)]+'\x20('+this[_0x337231(0x3fc)][_0x337231(0x860)]+_0x337231(0x69d)+_0x57d0e2),new m(_0x57d0e2);}}async[a0_0x1bb7e5(0x6d3)](_0x5b5c1c){const _0x2607cc=a0_0x1bb7e5;try{_0x5b5c1c[_0x2607cc(0x2c4)]=this[_0x2607cc(0x545)](_0x5b5c1c[_0x2607cc(0x2c4)]);let _0x1d830e=await this[_0x2607cc(0x1da)]['chat'][_0x2607cc(0x1fa)]({'where':{'_id':_0x5b5c1c[_0x2607cc(0x2c4)]}},this[_0x2607cc(0x3fc)][_0x2607cc(0x860)]);if(!_0x1d830e)throw new m('Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo');let {_id:_0x3fe3a4,leadInfo:_0x188301}=_0x5b5c1c;if(!_0x3fe3a4)throw new Error(_0x2607cc(0x503));if(_0x5b5c1c[_0x2607cc(0x5f4)]==='all')return await this[_0x2607cc(0x40d)](_0x5b5c1c['_id']),await this[_0x2607cc(0x1da)][_0x2607cc(0x4cc)][_0x2607cc(0x5f4)]({'where':{'_id':_0x5b5c1c[_0x2607cc(0x2c4)]}},this[_0x2607cc(0x3fc)]['wuid']),await this['repository']['message'][_0x2607cc(0x5f4)]({'where':{'key':{'remoteJid':_0x5b5c1c[_0x2607cc(0x2c4)]}}},this[_0x2607cc(0x3fc)][_0x2607cc(0x860)]),_0x5b5c1c=await this[_0x2607cc(0x1da)][_0x2607cc(0x4cc)][_0x2607cc(0x3dd)]({'where':{'_id':_0x5b5c1c[_0x2607cc(0x2c4)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x2607cc(0x3fc)][_0x2607cc(0x860)]),F(this[_0x2607cc(0x7fe)],_0x2607cc(0x25b),{'chat':_0x5b5c1c}),{'message':_0x2607cc(0x1b1)};if(_0x5b5c1c[_0x2607cc(0x5f4)]===_0x2607cc(0x50e))return await this[_0x2607cc(0x1da)][_0x2607cc(0x865)]['delete']({'where':{'key':{'remoteJid':_0x5b5c1c['_id']}}},this[_0x2607cc(0x3fc)][_0x2607cc(0x860)]),_0x5b5c1c=await this[_0x2607cc(0x1da)][_0x2607cc(0x4cc)][_0x2607cc(0x3dd)]({'where':{'_id':_0x5b5c1c[_0x2607cc(0x2c4)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x2607cc(0x3fc)]['wuid']),F(this[_0x2607cc(0x7fe)],'chats',{'chat':_0x5b5c1c}),{'message':_0x2607cc(0x2b1)};let _0x4c18e3=(_0x3ce715,_0x4b0898,_0x373ad6)=>{const _0x3b97e2=_0x2607cc;_0x3ce715&&_0x373ad6[_0x3b97e2(0x70b)](_0x5b0311=>{_0x3ce715[_0x5b0311]!==void 0x0&&(_0x4b0898['leadInfo.'+_0x5b0311]=_0x3ce715[_0x5b0311]);});},_0x185f72={};if(_0x2607cc(0x3fb)in _0x5b5c1c&&(this[_0x2607cc(0x39f)][_0x2607cc(0x1d7)](this[_0x2607cc(0x7fe)]+'\x20('+this['instance'][_0x2607cc(0x860)]+_0x2607cc(0x5d5)+_0x5b5c1c[_0x2607cc(0x2c4)]),_0x5b5c1c['muteEndTime']=_0x5b5c1c['muteEndTime']===0x0?null:-0x1,await this[_0x2607cc(0x680)][_0x2607cc(0x861)]({'mute':_0x5b5c1c['muteEndTime']},_0x5b5c1c[_0x2607cc(0x2c4)]),_0x185f72[_0x2607cc(0x3fb)]=Number(_0x5b5c1c[_0x2607cc(0x3fb)])),_0x188301&&(_0x4c18e3(_0x188301,_0x185f72,[_0x2607cc(0x7db),_0x2607cc(0x349),_0x2607cc(0x4e0),_0x2607cc(0x234),_0x2607cc(0x362),_0x2607cc(0x8ba),_0x2607cc(0x480),'atendimentoAberto',_0x2607cc(0x4ff),'etiquetas',_0x2607cc(0x577)]),Array['isArray'](_0x188301['customFields'])&&(_0x185f72[_0x2607cc(0x706)]=_0x188301[_0x2607cc(0x653)][_0x2607cc(0x7b7)](_0x237a80=>({'_id':_0x237a80[_0x2607cc(0x2c4)],'value':_0x237a80[_0x2607cc(0x5af)]}))),_0x5b5c1c[_0x2607cc(0x866)][_0x2607cc(0x5e3)]!==void 0x0)){let _0x166d0e=await this[_0x2607cc(0x1da)]['label'][_0x2607cc(0x42f)]({'where':{}},this[_0x2607cc(0x3fc)]['wuid']),_0x3a90bc=new Set(_0x5b5c1c[_0x2607cc(0x866)][_0x2607cc(0x5e3)]||[]),_0xd3908d=new Set(_0x5b5c1c[_0x2607cc(0x866)][_0x2607cc(0x5e3)]),_0x330ae8=new Set(_0x166d0e[_0x2607cc(0x7b7)](_0x5cc6a5=>_0x5cc6a5[_0x2607cc(0x2c4)])),_0x36278d=[..._0xd3908d]['filter'](_0x53591a=>!_0x3a90bc[_0x2607cc(0x4f9)](_0x53591a)&&_0x330ae8[_0x2607cc(0x4f9)](_0x53591a)),_0x24ec61=[..._0x3a90bc][_0x2607cc(0x67b)](_0x5a1bd7=>!_0xd3908d['has'](_0x5a1bd7));if(_0x185f72['leadInfo.etiquetas']=[..._0x3a90bc],_0x1d830e&&!_0x1d830e[_0x2607cc(0x796)]){for(let _0x279df1 of _0x36278d)await this[_0x2607cc(0x526)](_0x279df1,_0x5b5c1c[_0x2607cc(0x2c4)]),_0x3a90bc[_0x2607cc(0x4d2)](_0x279df1);for(let _0x312e98 of _0x24ec61)await this[_0x2607cc(0x1eb)](_0x312e98,_0x5b5c1c[_0x2607cc(0x2c4)]),_0x3a90bc[_0x2607cc(0x5f4)](_0x312e98);}}if(_0x5b5c1c[_0x2607cc(0x365)]!==void 0x0&&(_0x185f72['unreadcount']=Number(_0x5b5c1c[_0x2607cc(0x365)])),Object['keys'](_0x185f72)[_0x2607cc(0x1e1)]===0x0)throw new Error(_0x2607cc(0x1e3));let _0x535aa6=await this[_0x2607cc(0x1da)][_0x2607cc(0x4cc)]['updateOne']({'where':{'_id':_0x5b5c1c[_0x2607cc(0x2c4)]}},_0x185f72,this['instance']['wuid']);return _0x535aa6&&F(this['instanceName'],_0x2607cc(0x25b),{'chat':_0x535aa6}),_0x535aa6?(this[_0x2607cc(0x39f)]['verbose'](this[_0x2607cc(0x7fe)]+'\x20('+this[_0x2607cc(0x3fc)]['wuid']+_0x2607cc(0x69d)+JSON[_0x2607cc(0x84a)](_0x535aa6,null,0x2)),_0x535aa6):{'message':_0x2607cc(0x31a)};}catch(_0x1374e0){let _0x433456=_0x2607cc(0x536),_0x10be7a=_0x1374e0 instanceof Error?_0x1374e0[_0x2607cc(0x865)]:typeof _0x1374e0==_0x2607cc(0x8d4)?JSON[_0x2607cc(0x84a)](_0x1374e0):_0x1374e0,_0x239c95=_0x433456+':\x20'+_0x10be7a;throw this[_0x2607cc(0x39f)]['error'](this[_0x2607cc(0x7fe)]+'\x20('+this[_0x2607cc(0x3fc)][_0x2607cc(0x860)]+_0x2607cc(0x69d)+_0x239c95),new m(_0x239c95);}}async[a0_0x1bb7e5(0x526)](_0x497ded,_0x39e8c5){const _0x11ab9f=a0_0x1bb7e5;try{await this[_0x11ab9f(0x680)][_0x11ab9f(0x316)](_0x39e8c5,_0x497ded),this[_0x11ab9f(0x39f)][_0x11ab9f(0x6b1)](this[_0x11ab9f(0x7fe)]+'\x20('+this[_0x11ab9f(0x3fc)][_0x11ab9f(0x860)]+_0x11ab9f(0x370)+_0x497ded+_0x11ab9f(0x817)+_0x39e8c5+_0x11ab9f(0x297));}catch(_0x4f7af8){this['logger']['error']('Erro\x20ao\x20adicionar\x20label\x20'+_0x497ded+_0x11ab9f(0x311)+_0x39e8c5+':\x20'+_0x4f7af8);}}async[a0_0x1bb7e5(0x1eb)](_0x1fc612,_0x1475a6){const _0x14b663=a0_0x1bb7e5;try{await this[_0x14b663(0x680)][_0x14b663(0x4e2)](_0x1475a6,_0x1fc612),this[_0x14b663(0x39f)][_0x14b663(0x6b1)](this[_0x14b663(0x7fe)]+'\x20('+this[_0x14b663(0x3fc)][_0x14b663(0x860)]+_0x14b663(0x370)+_0x1fc612+_0x14b663(0x325)+_0x1475a6+_0x14b663(0x297));}catch(_0x3f2629){this['logger'][_0x14b663(0x834)]('Erro\x20ao\x20remover\x20label\x20'+_0x1fc612+_0x14b663(0x8fa)+_0x1475a6+':\x20'+_0x3f2629);}}async['updateAgent'](_0x501d19){const _0x444106=a0_0x1bb7e5;try{let _0x4a38db=await this[_0x444106(0x1da)]['automateSystem']['findOrCreate'](this[_0x444106(0x3fc)][_0x444106(0x860)]),_0x336c57=_0x501d19[_0x444106(0x2c4)]?_0x4a38db[_0x444106(0x67e)][_0x444106(0x2bf)](_0x29e5d9=>_0x29e5d9['_id']===_0x501d19['_id']):-0x1;if(_0x501d19['delete']&&_0x336c57>-0x1)_0x4a38db[_0x444106(0x67e)][_0x444106(0x6a8)](_0x336c57,0x1);else{if(_0x336c57>-0x1){let _0x5e0f40=_0x4a38db[_0x444106(0x67e)][_0x336c57];_0x501d19[_0x444106(0x214)]&&(_0x5e0f40[_0x444106(0x214)]=_0x501d19[_0x444106(0x214)]),_0x501d19['name']&&(_0x5e0f40[_0x444106(0x8f0)]=_0x501d19[_0x444106(0x8f0)]),_0x501d19[_0x444106(0x4e0)]&&(_0x5e0f40[_0x444106(0x4e0)]=_0x501d19[_0x444106(0x4e0)]),_0x501d19[_0x444106(0x654)]&&(_0x5e0f40[_0x444106(0x654)]=_0x501d19[_0x444106(0x654)]);}else _0x4a38db[_0x444106(0x67e)]['push']({'_id':_0x501d19[_0x444106(0x2c4)]||new ge[(_0x444106(0x4b7))][(_0x444106(0x1a0))][(_0x444106(0x2f8))]()[_0x444106(0x684)](),'fone':_0x501d19[_0x444106(0x214)],'name':_0x501d19[_0x444106(0x8f0)],'email':_0x501d19[_0x444106(0x4e0)],'role':_0x501d19[_0x444106(0x654)]});}let _0xcb3ad2={'agents':_0x4a38db['agents']},_0x18d54f=await this['repository'][_0x444106(0x23b)][_0x444106(0x726)](_0xcb3ad2,this[_0x444106(0x3fc)]['wuid']);return this['AutomateSystem']=_0x18d54f,this[_0x444106(0x39f)][_0x444106(0x1d7)](this[_0x444106(0x7fe)]+'\x20('+this[_0x444106(0x3fc)]['wuid']+_0x444106(0x786)),this[_0x444106(0x39f)][_0x444106(0x1d7)](this[_0x444106(0x7fe)]+'\x20('+this[_0x444106(0x3fc)][_0x444106(0x860)]+'):\x20'+this[_0x444106(0x399)]),_0x18d54f;}catch(_0x53b235){let _0x1353aa=_0x444106(0x730),_0x39e16b=_0x53b235 instanceof Error?_0x53b235['message']:typeof _0x53b235==_0x444106(0x8d4)?JSON['stringify'](_0x53b235):_0x53b235,_0x7ee45f=_0x1353aa+':\x20'+_0x39e16b;throw this[_0x444106(0x39f)]['error'](this['instanceName']+'\x20('+this[_0x444106(0x3fc)]['wuid']+_0x444106(0x69d)+_0x7ee45f),new m(_0x7ee45f);}}async[a0_0x1bb7e5(0x3b2)](_0x33d76b){const _0x2994b6=a0_0x1bb7e5;try{let _0x51ddfe=await this[_0x2994b6(0x1da)][_0x2994b6(0x23b)][_0x2994b6(0x705)](this[_0x2994b6(0x3fc)]['wuid']),_0x36e15d=_0x33d76b['_id']?_0x51ddfe['customFields'][_0x2994b6(0x2bf)](_0x1ee387=>_0x1ee387[_0x2994b6(0x2c4)]===_0x33d76b[_0x2994b6(0x2c4)]):-0x1,_0x147b4f=!0x1,_0x5e8946=_0x51ddfe[_0x2994b6(0x653)][_0x2994b6(0x8c3)](_0x49ef52=>_0x49ef52[_0x2994b6(0x6cc)]===_0x33d76b[_0x2994b6(0x6cc)]);if(_0x33d76b[_0x2994b6(0x5f4)]&&_0x36e15d>-0x1)_0x51ddfe[_0x2994b6(0x653)][_0x2994b6(0x6a8)](_0x36e15d,0x1),_0x147b4f=!0x0;else{if(_0x36e15d>-0x1){if(_0x51ddfe[_0x2994b6(0x653)][_0x2994b6(0x8c3)](_0x4e848b=>_0x4e848b[_0x2994b6(0x8f0)]===_0x33d76b[_0x2994b6(0x8f0)]&&_0x4e848b['_id']!==_0x33d76b['_id']))throw new Error(_0x2994b6(0x396));let _0x71047=_0x51ddfe[_0x2994b6(0x653)][_0x36e15d];_0x33d76b[_0x2994b6(0x6cc)]&&(_0x5e8946||!Number[_0x2994b6(0x44e)](_0x33d76b[_0x2994b6(0x6cc)]))&&(_0x71047[_0x2994b6(0x6cc)]=_0x33d76b['order'],_0x147b4f=!0x0),_0x33d76b[_0x2994b6(0x8f0)]&&(_0x71047[_0x2994b6(0x8f0)]=_0x33d76b[_0x2994b6(0x8f0)]);}else{if(_0x51ddfe[_0x2994b6(0x653)][_0x2994b6(0x8c3)](_0x3cb62c=>_0x3cb62c[_0x2994b6(0x8f0)]===_0x33d76b['name']&&_0x3cb62c[_0x2994b6(0x2c4)]!==_0x33d76b[_0x2994b6(0x2c4)]))throw new Error(_0x2994b6(0x396));_0x51ddfe['customFields'][_0x2994b6(0x62c)]({'_id':_0x33d76b[_0x2994b6(0x2c4)]||new ge[(_0x2994b6(0x4b7))]['Types'][(_0x2994b6(0x2f8))]()[_0x2994b6(0x684)](),'order':_0x33d76b[_0x2994b6(0x6cc)],'name':_0x33d76b[_0x2994b6(0x8f0)]}),_0x147b4f=!0x0;}}if(_0x147b4f){_0x51ddfe[_0x2994b6(0x653)]['sort']((_0x1ecbdd,_0x20e540)=>_0x1ecbdd[_0x2994b6(0x6cc)]>_0x20e540['order']?0x1:_0x20e540[_0x2994b6(0x6cc)]>_0x1ecbdd[_0x2994b6(0x6cc)]?-0x1:0x0);for(let _0x34ebb6=0x0;_0x34ebb6<_0x51ddfe[_0x2994b6(0x653)][_0x2994b6(0x1e1)];_0x34ebb6++)_0x51ddfe['customFields'][_0x34ebb6][_0x2994b6(0x6cc)]=_0x34ebb6+0x1;}let _0x26bc4d=await this['repository'][_0x2994b6(0x23b)][_0x2994b6(0x726)](_0x51ddfe,this[_0x2994b6(0x3fc)]['wuid']);return this[_0x2994b6(0x399)]=_0x26bc4d,this[_0x2994b6(0x39f)][_0x2994b6(0x1d7)](this[_0x2994b6(0x7fe)]+'\x20('+this['instance'][_0x2994b6(0x860)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x2994b6(0x39f)]['verbose'](this['instanceName']+'\x20('+this[_0x2994b6(0x3fc)][_0x2994b6(0x860)]+_0x2994b6(0x69d)+this['AutomateSystem']),_0x26bc4d;}catch(_0x47626e){let _0x523131=_0x2994b6(0x508),_0x419057=_0x47626e instanceof Error?_0x47626e['message']:typeof _0x47626e==_0x2994b6(0x8d4)?JSON[_0x2994b6(0x84a)](_0x47626e):_0x47626e,_0x55141c=_0x523131+':\x20'+_0x419057;throw this[_0x2994b6(0x39f)]['error'](this['instanceName']+'\x20('+this[_0x2994b6(0x3fc)][_0x2994b6(0x860)]+_0x2994b6(0x69d)+_0x55141c),new m(_0x55141c);}}async['updateAutoCompleteMessages'](_0x5d9b96){const _0x4d119b=a0_0x1bb7e5;try{let _0x241fbb=await this[_0x4d119b(0x1da)][_0x4d119b(0x23b)][_0x4d119b(0x705)](this[_0x4d119b(0x3fc)][_0x4d119b(0x860)]),_0x28480e=_0x241fbb?.[_0x4d119b(0x58a)]?.[_0x4d119b(0x2bf)](_0x440add=>_0x440add[_0x4d119b(0x2c4)]===_0x5d9b96?.[_0x4d119b(0x2c4)]);if(_0x5d9b96?.['delete'])_0x28480e>-0x1&&_0x241fbb?.[_0x4d119b(0x58a)]?.[_0x4d119b(0x6a8)](_0x28480e,0x1);else{if(_0x28480e>-0x1){let _0x405c89=_0x241fbb[_0x4d119b(0x58a)][_0x28480e];_0x405c89[_0x4d119b(0x6cc)]=_0x5d9b96?.[_0x4d119b(0x6cc)]||_0x405c89[_0x4d119b(0x6cc)],_0x405c89[_0x4d119b(0x43f)]=_0x5d9b96?.[_0x4d119b(0x43f)]||_0x405c89[_0x4d119b(0x43f)],_0x405c89[_0x4d119b(0x865)]=_0x5d9b96?.[_0x4d119b(0x865)]||_0x405c89[_0x4d119b(0x865)];}else{let _0x54a902={'_id':_0x5d9b96?.[_0x4d119b(0x2c4)]||new ge[(_0x4d119b(0x4b7))][(_0x4d119b(0x1a0))]['ObjectId']()[_0x4d119b(0x684)](),'order':_0x5d9b96?.[_0x4d119b(0x6cc)],'command':_0x5d9b96?.[_0x4d119b(0x43f)],'message':_0x5d9b96?.['message']};_0x241fbb?.[_0x4d119b(0x58a)]?.[_0x4d119b(0x62c)](_0x54a902);}}_0x241fbb?.[_0x4d119b(0x58a)]?.['sort']((_0x186e39,_0x35cc77)=>_0x186e39[_0x4d119b(0x6cc)]-_0x35cc77['order']);let _0x1c21eb=await this['repository'][_0x4d119b(0x23b)][_0x4d119b(0x726)](_0x241fbb,this[_0x4d119b(0x3fc)][_0x4d119b(0x860)]);return this[_0x4d119b(0x399)]=_0x1c21eb,this['logger']['verbose'](this[_0x4d119b(0x7fe)]+'\x20('+this[_0x4d119b(0x3fc)][_0x4d119b(0x860)]+_0x4d119b(0x2ff)),_0x1c21eb;}catch(_0x274a33){let _0x1cdd6d=_0x4d119b(0x25f),_0x26fa8e=_0x274a33 instanceof Error?_0x274a33[_0x4d119b(0x865)]:typeof _0x274a33==_0x4d119b(0x8d4)?JSON['stringify'](_0x274a33):_0x274a33,_0x3e99d1=_0x1cdd6d+':\x20'+_0x26fa8e;throw this[_0x4d119b(0x39f)][_0x4d119b(0x834)](this[_0x4d119b(0x7fe)]+'\x20('+this[_0x4d119b(0x3fc)][_0x4d119b(0x860)]+_0x4d119b(0x69d)+_0x3e99d1),new m(_0x3e99d1);}}async['updateFlowConfig'](_0x2fda6e){const _0x5ae444=a0_0x1bb7e5;try{let _0x4fde22=await this[_0x5ae444(0x1da)]['automateSystem'][_0x5ae444(0x705)](this[_0x5ae444(0x3fc)][_0x5ae444(0x860)]);if(!_0x4fde22)throw new Error('Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.');let _0x1ced05={'_id':_0x4fde22[_0x5ae444(0x2c4)],'flowConfig':{'enabled':_0x2fda6e[_0x5ae444(0x250)]??_0x4fde22[_0x5ae444(0x3fe)][_0x5ae444(0x250)],'ignoreGroups':_0x2fda6e[_0x5ae444(0x610)]??_0x4fde22[_0x5ae444(0x3fe)][_0x5ae444(0x610)],'stopConversation':_0x2fda6e[_0x5ae444(0x34a)][_0x5ae444(0x8ad)]()??_0x4fde22[_0x5ae444(0x3fe)][_0x5ae444(0x34a)][_0x5ae444(0x8ad)](),'stopMinutes':_0x2fda6e['stopMinutes']??_0x4fde22[_0x5ae444(0x3fe)][_0x5ae444(0x22d)],'stopWhenYouSendMsg':_0x2fda6e[_0x5ae444(0x626)]??_0x4fde22[_0x5ae444(0x3fe)][_0x5ae444(0x626)]}},_0x4e75bb=await this[_0x5ae444(0x1da)]['automateSystem']['update'](_0x1ced05,this[_0x5ae444(0x3fc)][_0x5ae444(0x860)]);return this[_0x5ae444(0x399)]=_0x4e75bb,this[_0x5ae444(0x39f)][_0x5ae444(0x1d7)](this[_0x5ae444(0x7fe)]+'\x20('+this[_0x5ae444(0x3fc)][_0x5ae444(0x860)]+_0x5ae444(0x786)),this[_0x5ae444(0x39f)][_0x5ae444(0x1d7)](this[_0x5ae444(0x7fe)]+'\x20('+this[_0x5ae444(0x3fc)][_0x5ae444(0x860)]+_0x5ae444(0x69d)+this[_0x5ae444(0x399)]),setTimeout(()=>this[_0x5ae444(0x862)](),0x7d0),_0x4e75bb;}catch(_0xdcec2f){let _0x24e7de=_0x5ae444(0x29a),_0x445fe0=_0xdcec2f instanceof Error?_0xdcec2f[_0x5ae444(0x865)]:typeof _0xdcec2f=='object'?JSON[_0x5ae444(0x84a)](_0xdcec2f):_0xdcec2f,_0x3023be=_0x24e7de+':\x20'+_0x445fe0;throw this[_0x5ae444(0x39f)][_0x5ae444(0x834)](this['instanceName']+'\x20('+this[_0x5ae444(0x3fc)]['wuid']+_0x5ae444(0x69d)+_0x3023be),new m(_0x3023be);}}async[a0_0x1bb7e5(0x5ae)](){const _0x57381e=a0_0x1bb7e5;try{let _0xce72ca=await this[_0x57381e(0x1da)]['automateSystem'][_0x57381e(0x705)](this[_0x57381e(0x3fc)]['wuid']);return this[_0x57381e(0x399)]=_0xce72ca,_0xce72ca;}catch(_0x539820){let _0x4de359=_0x57381e(0x1b9),_0xec1314=_0x539820 instanceof Error?_0x539820['message']:typeof _0x539820==_0x57381e(0x8d4)?JSON[_0x57381e(0x84a)](_0x539820):_0x539820,_0x14a4cd=_0x4de359+':\x20'+_0xec1314;throw this[_0x57381e(0x39f)][_0x57381e(0x834)](this['instanceName']+'\x20('+this['instance'][_0x57381e(0x860)]+_0x57381e(0x69d)+_0x14a4cd),new m(_0x14a4cd);}}async['initializeQueue'](){const _0x3e0cea=a0_0x1bb7e5;let _0x5f515e=(await import('p-queue'))[_0x3e0cea(0x4b7)];this[_0x3e0cea(0x90c)]=new _0x5f515e({'concurrency':0x1});}async[a0_0x1bb7e5(0x790)](){const _0x239678=a0_0x1bb7e5;this[_0x239678(0x3fc)][_0x239678(0x512)][_0x239678(0x485)]&&clearTimeout(this['instance'][_0x239678(0x512)][_0x239678(0x485)]),this[_0x239678(0x3fc)][_0x239678(0x512)][_0x239678(0x485)]=setTimeout(()=>{const _0x3af4f7=_0x239678;this[_0x3af4f7(0x4e7)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x1bb7e5(0x4e7)](){const _0x5125c8=a0_0x1bb7e5;let _0x25508e=this[_0x5125c8(0x3fc)][_0x5125c8(0x512)][_0x5125c8(0x3f9)];(_0x25508e===0x0||_0x25508e===null||Date[_0x5125c8(0x559)]()-_0x25508e>=0x1d4c0)&&(this['logger'][_0x5125c8(0x1d7)](this[_0x5125c8(0x7fe)]+'\x20('+this[_0x5125c8(0x3fc)]['wuid']+_0x5125c8(0x8cd)),this[_0x5125c8(0x3fc)]['ScheduleMessage'][_0x5125c8(0x4b4)]=null,this[_0x5125c8(0x3fc)][_0x5125c8(0x512)][_0x5125c8(0x3f9)]=0x0,this[_0x5125c8(0x3fc)][_0x5125c8(0x512)][_0x5125c8(0x8ab)]=0x0,await this[_0x5125c8(0x862)]());}async[a0_0x1bb7e5(0x862)](){const _0x58bde1=a0_0x1bb7e5;this[_0x58bde1(0x39f)][_0x58bde1(0x1be)](this['instanceName']+'\x20('+this[_0x58bde1(0x3fc)][_0x58bde1(0x860)]+_0x58bde1(0x60d)),await this['transformScheduledMessagesByType']();let _0x50b827=await this['getReadyToSendMessages']();_0x50b827[_0x58bde1(0x1e1)]>0x0&&(setTimeout(()=>this[_0x58bde1(0x4e7)](),0x14*0x3e8),this[_0x58bde1(0x39f)][_0x58bde1(0x1be)](this['instanceName']+'\x20('+this[_0x58bde1(0x3fc)][_0x58bde1(0x860)]+_0x58bde1(0x6ce)),this[_0x58bde1(0x90c)]['clear'](),this[_0x58bde1(0x90c)][_0x58bde1(0x4d2)](()=>this['processReadyMessages'](_0x50b827)));let _0x4d7e26={'where':{'status':_0x58bde1(0x648),'when':{'$gt':Date[_0x58bde1(0x559)]()}}},_0x3c324f=await this[_0x58bde1(0x1da)][_0x58bde1(0x3e4)][_0x58bde1(0x1fa)](_0x4d7e26,this[_0x58bde1(0x3fc)][_0x58bde1(0x860)]);_0x3c324f&&_0x3c324f[_0x58bde1(0x529)]-Date[_0x58bde1(0x559)]()<=0x6ddd00?this['instance'][_0x58bde1(0x512)][_0x58bde1(0x8ab)]=_0x3c324f[_0x58bde1(0x529)]-Date[_0x58bde1(0x559)]():this['instance'][_0x58bde1(0x512)][_0x58bde1(0x8ab)]=(0x3c+Math['floor'](Math[_0x58bde1(0x3b6)]()*0x3c))*0x3c*0x3e8,this[_0x58bde1(0x3fc)][_0x58bde1(0x512)][_0x58bde1(0x8ab)]=Math[_0x58bde1(0x448)](this[_0x58bde1(0x3fc)][_0x58bde1(0x512)]['delayMessage'],0x1*0x2*0x3e8);let _0x439e48=Math[_0x58bde1(0x53c)](this['instance'][_0x58bde1(0x512)]['delayMessage']/0xea60);if(_0x3c324f){let _0x87e561=new Date(_0x3c324f['when'])[_0x58bde1(0x33b)]();this['logger'][_0x58bde1(0x1be)](this[_0x58bde1(0x7fe)]+'\x20('+this[_0x58bde1(0x3fc)]['wuid']+_0x58bde1(0x75e)+_0x87e561+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x439e48+_0x58bde1(0x538));}else this[_0x58bde1(0x39f)][_0x58bde1(0x1be)](this[_0x58bde1(0x7fe)]+'\x20('+this[_0x58bde1(0x3fc)][_0x58bde1(0x860)]+_0x58bde1(0x283)+_0x439e48+_0x58bde1(0x538));setTimeout(()=>{const _0x40a57c=_0x58bde1;this[_0x40a57c(0x862)]();},this[_0x58bde1(0x3fc)][_0x58bde1(0x512)][_0x58bde1(0x8ab)]);}async[a0_0x1bb7e5(0x780)](){const _0x17b71e=a0_0x1bb7e5;this[_0x17b71e(0x39f)][_0x17b71e(0x1be)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x17b71e(0x495));let _0x3752ef=Date[_0x17b71e(0x559)]()-0xc*0x3c*0x3c*0x3e8,_0x2814f7={'where':{'status':{'$in':[_0x17b71e(0x648),'sending']},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x3752ef}},{'when':0x0}]}},_0x3f2faa=await this[_0x17b71e(0x1da)][_0x17b71e(0x3e4)][_0x17b71e(0x42f)](_0x2814f7,this['instance'][_0x17b71e(0x860)]);return this[_0x17b71e(0x39f)][_0x17b71e(0x1be)](this['instanceName']+'\x20('+this[_0x17b71e(0x3fc)][_0x17b71e(0x860)]+_0x17b71e(0x4b3)+_0x3f2faa['length']),_0x3f2faa;}async['processReadyMessages'](_0x44d7ae){const _0x5abc29=a0_0x1bb7e5;this['logger']['warn'](this[_0x5abc29(0x7fe)]+'\x20('+this[_0x5abc29(0x3fc)][_0x5abc29(0x860)]+'):\x20Iniciando\x20processReadyMessages');let _0x5075e0=0x3*0x3e8,_0x4f2b82=0x8*0x3e8,_0x1736bd=Math[_0x5abc29(0x385)](Math[_0x5abc29(0x3b6)]()*(_0x4f2b82-_0x5075e0+0x1))+_0x5075e0,_0x1efdee=()=>this[_0x5abc29(0x86d)]['length']===0x0?null:this[_0x5abc29(0x86d)]['reduce']((_0x2dd129,_0x188846)=>(_0x2dd129[_0x5abc29(0x6cc)]??Number['MAX_SAFE_INTEGER'])<(_0x188846['order']??Number[_0x5abc29(0x2db)])?_0x2dd129:_0x188846,this['pendingMessages'][0x0]);_0x44d7ae=await this[_0x5abc29(0x780)]();for(let _0x2005b4 of _0x44d7ae){await this[_0x5abc29(0x790)]();let _0x3964a2=0x3*0x3e8,_0x420ee6={'_id':_0x2005b4[_0x5abc29(0x2c4)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x5abc29(0x559)]()-_0x3964a2}}]},_0x32a9f8={'startSend':Date['now'](),'status':'sending'},_0x44d2f1=await this[_0x5abc29(0x1da)]['scheduleMessage'][_0x5abc29(0x3dd)](_0x420ee6,_0x32a9f8,this['instance'][_0x5abc29(0x860)]);if(this[_0x5abc29(0x86d)]=_0x44d2f1['messages']['filter'](_0x5dc24c=>!_0x5dc24c[_0x5abc29(0x550)]),!_0x44d2f1){setTimeout(()=>this['checkAndRestartProcess'](),0xa*0x3e8);continue;}if(this[_0x5abc29(0x3fc)][_0x5abc29(0x512)][_0x5abc29(0x4b4)]=_0x44d2f1,!this['instance'][_0x5abc29(0x512)][_0x5abc29(0x611)]){this[_0x5abc29(0x39f)][_0x5abc29(0x1be)](this[_0x5abc29(0x7fe)]+'\x20('+this[_0x5abc29(0x3fc)][_0x5abc29(0x860)]+_0x5abc29(0x7f4));break;}for(;this[_0x5abc29(0x86d)]['length']>0x0;){await this[_0x5abc29(0x790)]();let _0x150742=_0x1efdee();if(!_0x150742)break;let _0x25f1e9=_0x2005b4[_0x5abc29(0x50e)]['find'](_0x477287=>_0x477287[_0x5abc29(0x2c4)]===_0x150742[_0x5abc29(0x2c4)]);if(!_0x25f1e9)break;if(this[_0x5abc29(0x3fc)]['ScheduleMessage'][_0x5abc29(0x3f9)]=Date[_0x5abc29(0x559)](),_0x25f1e9[_0x5abc29(0x550)]){this[_0x5abc29(0x39f)][_0x5abc29(0x1be)](this[_0x5abc29(0x7fe)]+'\x20('+this['instance'][_0x5abc29(0x860)]+_0x5abc29(0x662)+_0x25f1e9[_0x5abc29(0x6d1)]+_0x5abc29(0x621)),this[_0x5abc29(0x86d)]=this[_0x5abc29(0x86d)][_0x5abc29(0x67b)](_0x3c02c0=>_0x3c02c0[_0x5abc29(0x2c4)]!==_0x25f1e9[_0x5abc29(0x2c4)]);continue;}if(!this['instance'][_0x5abc29(0x512)][_0x5abc29(0x611)]){this[_0x5abc29(0x39f)][_0x5abc29(0x1be)](this[_0x5abc29(0x7fe)]+'\x20('+this[_0x5abc29(0x3fc)][_0x5abc29(0x860)]+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this[_0x5abc29(0x3fc)][_0x5abc29(0x512)][_0x5abc29(0x4b4)]){this['logger'][_0x5abc29(0x1be)](this[_0x5abc29(0x7fe)]+'\x20('+this[_0x5abc29(0x3fc)]['wuid']+_0x5abc29(0x826)+_0x2005b4[_0x5abc29(0x2c4)]+_0x5abc29(0x60e));break;}let _0x4d3998={'idControl':_0x25f1e9[_0x5abc29(0x2c4)],'remoteJid':_0x25f1e9[_0x5abc29(0x6d1)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x5abc29(0x559)]()},_0xe85e73=null;try{this[_0x5abc29(0x39f)][_0x5abc29(0x1be)](this[_0x5abc29(0x7fe)]+'\x20('+this[_0x5abc29(0x3fc)][_0x5abc29(0x860)]+'):\x20Enviando\x20mensagem\x20para\x20'+_0x25f1e9[_0x5abc29(0x6d1)]);let _0x1e05d7=await Promise['race']([this[_0x5abc29(0x371)](_0x25f1e9[_0x5abc29(0x6d1)],_0x25f1e9),this[_0x5abc29(0x4d1)](0x78*0x3e8)]);_0x4d3998[_0x5abc29(0x834)]=_0x1e05d7[_0x5abc29(0x834)],_0x4d3998['id']=_0x1e05d7[_0x5abc29(0x834)]?null:_0x1e05d7['id'],_0x4d3998[_0x5abc29(0x543)]=_0x1e05d7[_0x5abc29(0x834)]?_0x1e05d7[_0x5abc29(0x22e)]?_0x1e05d7['detail']['toString']():'':null;let _0x31063f=_0x2005b4['messages'][_0x5abc29(0x2bf)](_0x369bb3=>_0x369bb3['_id']===_0x25f1e9[_0x5abc29(0x2c4)]);_0x31063f!==-0x1&&(_0x2005b4[_0x5abc29(0x50e)][_0x31063f][_0x5abc29(0x550)]=!0x0);let _0x360e68={'$push':{'messagesSend':_0x4d3998},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x10a03c=[{'elem._id':_0x25f1e9['_id']}];if(this[_0x5abc29(0x39f)][_0x5abc29(0x1be)](this[_0x5abc29(0x7fe)]+'\x20('+this[_0x5abc29(0x3fc)]['wuid']+_0x5abc29(0x4b5)+_0x25f1e9[_0x5abc29(0x2c4)]),_0xe85e73=await this['repository'][_0x5abc29(0x3e4)][_0x5abc29(0x3dd)]({'_id':_0x2005b4[_0x5abc29(0x2c4)]},_0x360e68,this[_0x5abc29(0x3fc)][_0x5abc29(0x860)],{'arrayFilters':_0x10a03c}),_0x1e05d7[_0x5abc29(0x834)]){this[_0x5abc29(0x39f)][_0x5abc29(0x834)](this[_0x5abc29(0x7fe)]+'\x20('+this[_0x5abc29(0x3fc)][_0x5abc29(0x860)]+_0x5abc29(0x1ee)+_0x1e05d7[_0x5abc29(0x22e)]);continue;}let _0x202f1f=this['getDelay'](_0x2005b4['delaySecMin'],_0x2005b4[_0x5abc29(0x221)]);await this[_0x5abc29(0x4d6)](_0x202f1f);}catch(_0x286d34){this[_0x5abc29(0x39f)][_0x5abc29(0x834)](this[_0x5abc29(0x7fe)]+'\x20('+this[_0x5abc29(0x3fc)]['wuid']+_0x5abc29(0x7b2)+_0x25f1e9[_0x5abc29(0x6d1)]+':\x20'+(_0x286d34 instanceof Error?_0x286d34['message']:JSON[_0x5abc29(0x84a)](_0x286d34,null,0x2))),_0x4d3998['error']=!0x0,_0x4d3998[_0x5abc29(0x543)]=_0x286d34[_0x5abc29(0x865)];let _0x272852=_0x2005b4[_0x5abc29(0x50e)][_0x5abc29(0x2bf)](_0x364522=>_0x364522[_0x5abc29(0x2c4)]===_0x25f1e9[_0x5abc29(0x2c4)]);_0x272852!==-0x1&&(_0x2005b4['messages'][_0x272852][_0x5abc29(0x550)]=!0x0);let _0xcd0a6c={'$push':{'messagesSend':_0x4d3998},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x396542=[{'elem._id':_0x25f1e9[_0x5abc29(0x2c4)]}];this[_0x5abc29(0x39f)][_0x5abc29(0x1be)](this[_0x5abc29(0x7fe)]+'\x20('+this[_0x5abc29(0x3fc)][_0x5abc29(0x860)]+_0x5abc29(0x47f)+_0x25f1e9[_0x5abc29(0x2c4)]),_0xe85e73=await this[_0x5abc29(0x1da)][_0x5abc29(0x3e4)][_0x5abc29(0x3dd)]({'_id':_0x2005b4[_0x5abc29(0x2c4)]},_0xcd0a6c,this['instance'][_0x5abc29(0x860)],{'arrayFilters':_0x396542});}finally{if(_0xe85e73&&_0xe85e73[_0x5abc29(0x362)]===_0x5abc29(0x4c4)){this[_0x5abc29(0x39f)]['warn'](this[_0x5abc29(0x7fe)]+'\x20('+this[_0x5abc29(0x3fc)]['wuid']+_0x5abc29(0x826)+_0x25f1e9[_0x5abc29(0x2c4)]+_0x5abc29(0x323));break;}let _0x166688=_0xe85e73[_0x5abc29(0x50e)][_0x5abc29(0x42f)](_0x25ac56=>_0x25ac56[_0x5abc29(0x2c4)]===_0x25f1e9['_id']);if(_0x166688&&!_0x166688[_0x5abc29(0x550)]){let _0x4ade94={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x36d4a4=[{'elem._id':_0x25f1e9[_0x5abc29(0x2c4)]}];await this[_0x5abc29(0x1da)][_0x5abc29(0x3e4)][_0x5abc29(0x3dd)]({'_id':_0xe85e73['_id']},_0x4ade94,this[_0x5abc29(0x3fc)][_0x5abc29(0x860)],{'arrayFilters':_0x36d4a4});}if(this[_0x5abc29(0x86d)]=_0xe85e73['messages'][_0x5abc29(0x67b)](_0x578310=>!_0x578310[_0x5abc29(0x550)]),!this[_0x5abc29(0x3fc)][_0x5abc29(0x512)][_0x5abc29(0x4b4)]){await this[_0x5abc29(0x790)](),this[_0x5abc29(0x39f)][_0x5abc29(0x1be)](this['instanceName']+'\x20('+this[_0x5abc29(0x3fc)][_0x5abc29(0x860)]+_0x5abc29(0x826)+_0x2005b4[_0x5abc29(0x2c4)]+_0x5abc29(0x60e));break;}}}this[_0x5abc29(0x86d)]=[];let _0x35d0b7=await this[_0x5abc29(0x1da)][_0x5abc29(0x3e4)][_0x5abc29(0x216)](_0x2005b4['_id'],this[_0x5abc29(0x3fc)][_0x5abc29(0x860)]);if(_0x35d0b7['messages']['every'](_0x483bba=>_0x483bba[_0x5abc29(0x550)])&&_0x35d0b7[_0x5abc29(0x362)]!==_0x5abc29(0x4c4)){let _0x108a7f={'$set':{'status':_0x5abc29(0x235)}};await this[_0x5abc29(0x1da)][_0x5abc29(0x3e4)]['updateOneById'](_0x35d0b7[_0x5abc29(0x2c4)],_0x108a7f,this[_0x5abc29(0x3fc)][_0x5abc29(0x860)]);}await new Promise(_0x50b57b=>setTimeout(_0x50b57b,_0x1736bd)),global['gc']?global['gc']():console[_0x5abc29(0x1be)]('Garbage\x20collection\x20não\x20está\x20disponível.');}}[a0_0x1bb7e5(0x4d1)](_0x469d97){return new Promise((_0x47a00d,_0xeba9cf)=>setTimeout(()=>_0xeba9cf(new Error('Timeout\x20exceeded')),_0x469d97));}[a0_0x1bb7e5(0x1b7)](_0x4664e2,_0x2b227f){const _0x1e42c4=a0_0x1bb7e5;return _0x4664e2=Math['max'](0.5,_0x4664e2),_0x2b227f=Math[_0x1e42c4(0x574)](Math[_0x1e42c4(0x448)](0x3,_0x2b227f),0x78),Math[_0x1e42c4(0x385)](Math[_0x1e42c4(0x3b6)]()*(_0x2b227f-_0x4664e2+0x1)+_0x4664e2)*0x3e8;}[a0_0x1bb7e5(0x4d6)](_0x252c93){return new Promise(_0x4618e2=>setTimeout(_0x4618e2,_0x252c93));}async[a0_0x1bb7e5(0x76d)](_0x10204f){const _0x33935c=a0_0x1bb7e5;if(!this[_0x33935c(0x399)]&&(await this[_0x33935c(0x5ae)](),!this[_0x33935c(0x399)]))return null;_0x10204f=this[_0x33935c(0x545)](_0x10204f);let _0x8e185b=await this[_0x33935c(0x1da)][_0x33935c(0x4cc)][_0x33935c(0x1fa)]({'where':{'_id':_0x10204f}},this[_0x33935c(0x3fc)][_0x33935c(0x860)]),_0x4c1a73={};if(_0x8e185b&&_0x8e185b['leadInfo']){let _0x1d554a=_0x8e185b['leadInfo'];typeof _0x1d554a[_0x33935c(0x7db)]==_0x33935c(0x89c)&&(_0x4c1a73['nome']=_0x1d554a[_0x33935c(0x7db)]),typeof _0x1d554a['nomecompleto']==_0x33935c(0x89c)&&(_0x4c1a73[_0x33935c(0x349)]=_0x1d554a['nomecompleto']),typeof _0x1d554a[_0x33935c(0x4e0)]=='string'&&(_0x4c1a73[_0x33935c(0x4e0)]=_0x1d554a[_0x33935c(0x4e0)]),typeof _0x1d554a[_0x33935c(0x234)]=='string'&&(_0x4c1a73['cpf']=_0x1d554a[_0x33935c(0x234)]),typeof _0x1d554a[_0x33935c(0x362)]==_0x33935c(0x89c)&&(_0x4c1a73[_0x33935c(0x362)]=_0x1d554a[_0x33935c(0x362)]),typeof _0x1d554a[_0x33935c(0x8ba)]==_0x33935c(0x89c)&&(_0x4c1a73[_0x33935c(0x8ba)]=_0x1d554a['notas']),typeof _0x1d554a[_0x33935c(0x4ff)]==_0x33935c(0x89c)&&(_0x4c1a73[_0x33935c(0x4ff)]=_0x1d554a[_0x33935c(0x4ff)]),Array[_0x33935c(0x3ec)](_0x1d554a[_0x33935c(0x480)])&&(_0x4c1a73[_0x33935c(0x480)]=_0x1d554a[_0x33935c(0x480)]['join'](',\x20')),Array['isArray'](_0x1d554a['etiquetas'])&&(_0x4c1a73[_0x33935c(0x5e3)]=_0x1d554a[_0x33935c(0x5e3)][_0x33935c(0x518)](',\x20'));}return _0x8e185b&&_0x8e185b[_0x33935c(0x866)]&&_0x8e185b[_0x33935c(0x866)][_0x33935c(0x653)]&&_0x8e185b[_0x33935c(0x866)][_0x33935c(0x653)][_0x33935c(0x70b)](_0x20ecdf=>{const _0x31c950=_0x33935c;let _0x3103e9=this[_0x31c950(0x399)]?.[_0x31c950(0x653)][_0x31c950(0x42f)](_0x3179bf=>_0x3179bf[_0x31c950(0x2c4)]===_0x20ecdf['_id']);_0x3103e9&&(_0x4c1a73[_0x3103e9[_0x31c950(0x8f0)]]=_0x20ecdf[_0x31c950(0x5af)]);}),_0x4c1a73;}async['replaceVariablesChat'](_0x21b78e,_0x143caf){const _0x193da8=a0_0x1bb7e5;try{let _0x3cbd2b=await this[_0x193da8(0x76d)](_0x143caf);return this[_0x193da8(0x583)](_0x21b78e,_0x3cbd2b);}catch(_0x48e095){return this['logger'][_0x193da8(0x834)]('Erro\x20ao\x20substituir\x20variáveis\x20para\x20'+_0x143caf+':\x20'+_0x48e095),_0x21b78e;}}async[a0_0x1bb7e5(0x5b9)](){const _0x4cae67=a0_0x1bb7e5;let _0x20bd45=async(_0x160668,_0x33f5f3)=>{const _0x3deec6=a0_0x5772;let _0x449f37=(await this[_0x3deec6(0x1da)]['scheduleMessage']['find']({'where':{'type':_0x160668}},this[_0x3deec6(0x3fc)][_0x3deec6(0x860)]))[_0x3deec6(0x7b7)](async _0x72b2dd=>{const _0x542e41=_0x3deec6;let _0x92dcfa=_0x33f5f3(_0x72b2dd),_0x24601e=_0x268409=>/^\d+$/[_0x542e41(0x6b9)](_0x268409),_0x22b133=_0x72b2dd[_0x542e41(0x3cc)][_0x542e41(0x67b)](_0x26b218=>_0x26b218[_0x542e41(0x53b)]('@s.whatsapp.net')?_0x26b218['length']>0x19:_0x26b218[_0x542e41(0x53b)](_0x542e41(0x84b))?_0x26b218['length']>0xf:_0x24601e(_0x26b218)?_0x26b218[_0x542e41(0x1e1)]>=0xb:!0x1)['map'](_0x2fee38=>({'_id':(0x0,Y['v4'])(),'idSchedule':_0x72b2dd[_0x542e41(0x2c4)],'type':_0x92dcfa,'remoteJid':_0x2fee38,'flow':_0x72b2dd['flowName'],'text':_0x72b2dd[_0x542e41(0x865)]?.['text'],'delay':_0x72b2dd[_0x542e41(0x865)]?.[_0x542e41(0x6e3)],'urlOrBase64':_0x72b2dd[_0x542e41(0x865)]?.[_0x542e41(0x7f6)],'linkPreview':_0x72b2dd[_0x542e41(0x865)]?.[_0x542e41(0x783)],'fileName':_0x72b2dd['message']?.[_0x542e41(0x5a6)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x542e41(0x1da)]['scheduleMessage'][_0x542e41(0x1f1)](_0x72b2dd[_0x542e41(0x2c4)],{'$set':{'messages':_0x22b133},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this['instance'][_0x542e41(0x860)]);}catch(_0x5b47cb){console[_0x542e41(0x834)](_0x542e41(0x32c)+_0x72b2dd['_id']+':',_0x5b47cb);}});await Promise['all'](_0x449f37);};await _0x20bd45(_0x4cae67(0x56d),_0x49ec01=>_0x4cae67(0x56d)),await _0x20bd45('media',_0x2004e6=>_0x2004e6['message']?.[_0x4cae67(0x893)]||_0x4cae67(0x8d7)),await _0x20bd45(_0x4cae67(0x582),_0x77e567=>_0x4cae67(0x582)),await _0x20bd45(_0x4cae67(0x21f),_0x41fd6a=>_0x4cae67(0x21f)),await _0x20bd45(_0x4cae67(0x4f5),_0xa810b1=>_0x4cae67(0x4f5)),await _0x20bd45('video',_0x5bb824=>_0x4cae67(0x477)),await _0x20bd45('document',_0x352eac=>_0x4cae67(0x901)),this['logger'][_0x4cae67(0x1be)](this['instanceName']+'\x20('+this[_0x4cae67(0x3fc)][_0x4cae67(0x860)]+_0x4cae67(0x812));}async[a0_0x1bb7e5(0x4a8)](_0x5cc770){const _0x5b30ca=a0_0x1bb7e5;try{if(this[_0x5b30ca(0x39f)]['warn'](this[_0x5b30ca(0x7fe)]+'\x20('+this[_0x5b30ca(0x3fc)][_0x5b30ca(0x860)]+_0x5b30ca(0x81d)),_0x5cc770['_id']||(_0x5cc770[_0x5b30ca(0x2c4)]=(0x0,Y['v4'])()),this[_0x5b30ca(0x3fc)][_0x5b30ca(0x512)]['processingGroup']?.['_id']===_0x5cc770[_0x5b30ca(0x2c4)]?.[_0x5b30ca(0x684)]()){if(_0x5cc770[_0x5b30ca(0x362)]===_0x5b30ca(0x4c4))this[_0x5b30ca(0x3fc)][_0x5b30ca(0x512)][_0x5b30ca(0x4b4)]=null;else throw new Error(_0x5b30ca(0x57c));}if(_0x5cc770[_0x5b30ca(0x5f4)]&&_0x5cc770['_id']){let _0x193189=await this[_0x5b30ca(0x1da)][_0x5b30ca(0x3e4)][_0x5b30ca(0x4fd)](_0x5cc770['_id'],this['instance'][_0x5b30ca(0x860)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x193189;}let _0x235692=null;if(_0x5cc770[_0x5b30ca(0x2c4)]&&(_0x235692=await this['repository'][_0x5b30ca(0x3e4)][_0x5b30ca(0x216)](_0x5cc770['_id'],this[_0x5b30ca(0x3fc)]['wuid'])),_0x235692){let {_id:_0x4ce49d,owner:_0x1ab56b,messages:_0x57f5e6,..._0x46d875}=_0x5cc770;if(_0x57f5e6){let _0x2e08dc=_0x57f5e6[_0x5b30ca(0x67b)](_0x318c35=>!_0x318c35['_id']),_0x2f44be=_0x57f5e6[_0x5b30ca(0x67b)](_0x371b04=>_0x371b04[_0x5b30ca(0x2c4)]&&!_0x371b04['delete']),_0x4a793a=_0x57f5e6['filter'](_0x41f906=>_0x41f906[_0x5b30ca(0x2c4)]&&_0x41f906[_0x5b30ca(0x5f4)]);if(_0x2e08dc[_0x5b30ca(0x1e1)]>0x0&&await this[_0x5b30ca(0x578)](_0x5cc770['_id'],_0x2e08dc),_0x2f44be[_0x5b30ca(0x1e1)]>0x0&&await this[_0x5b30ca(0x420)]({'_id':_0x5cc770['_id'],'messages':_0x2f44be}),_0x4a793a[_0x5b30ca(0x1e1)]>0x0){let _0x4a9146=_0x4a793a[_0x5b30ca(0x7b7)](_0x13f06e=>({'updateOne':{'filter':{'_id':_0x5cc770['_id']},'update':{'$pull':{'messages':{'_id':_0x13f06e[_0x5b30ca(0x2c4)]}}}}}));await this[_0x5b30ca(0x1da)][_0x5b30ca(0x3e4)][_0x5b30ca(0x1d3)](_0x4a9146,this['instance']['wuid']);}}let _0x18deb9={'$set':{..._0x46d875,'status':_0x5cc770[_0x5b30ca(0x362)]||_0x235692['status']}},_0xff9fcb=await this[_0x5b30ca(0x1da)][_0x5b30ca(0x3e4)][_0x5b30ca(0x1f1)](_0x5cc770[_0x5b30ca(0x2c4)],_0x18deb9,this[_0x5b30ca(0x3fc)]['wuid']);return _0xff9fcb&&(this[_0x5b30ca(0x8e6)](_0xff9fcb[_0x5b30ca(0x50e)]),await this['repository'][_0x5b30ca(0x3e4)][_0x5b30ca(0x1f1)](_0xff9fcb[_0x5b30ca(0x2c4)],{'$set':{'messages':_0xff9fcb['messages']}},this[_0x5b30ca(0x3fc)]['wuid'])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),await this[_0x5b30ca(0x5b9)](),_0xff9fcb;}else{_0x5cc770[_0x5b30ca(0x435)]=this['instance']['wuid'],_0x5cc770[_0x5b30ca(0x50e)]&&_0x5cc770[_0x5b30ca(0x50e)][_0x5b30ca(0x70b)](_0x43a3ce=>{const _0x47bfbc=_0x5b30ca;_0x43a3ce[_0x47bfbc(0x2c4)]||(_0x43a3ce[_0x47bfbc(0x2c4)]=(0x0,Y['v4'])()),_0x43a3ce[_0x47bfbc(0x327)]||(_0x43a3ce[_0x47bfbc(0x327)]=_0x5cc770[_0x47bfbc(0x2c4)]),delete _0x43a3ce[_0x47bfbc(0x550)];});let _0x5b0174=await this['repository'][_0x5b30ca(0x3e4)][_0x5b30ca(0x3b9)](_0x5cc770,this['instance'][_0x5b30ca(0x860)]);return _0x5b0174&&(this[_0x5b30ca(0x8e6)](_0x5b0174[_0x5b30ca(0x50e)]),await this['repository'][_0x5b30ca(0x3e4)][_0x5b30ca(0x1f1)](_0x5b0174[_0x5b30ca(0x2c4)],{'$set':{'messages':_0x5b0174[_0x5b30ca(0x50e)]}},this[_0x5b30ca(0x3fc)][_0x5b30ca(0x860)])),setTimeout(()=>this[_0x5b30ca(0x862)](),0x7d0),_0x5b0174;}}catch(_0x35b450){let _0x870fda=_0x5b30ca(0x5e9),_0x4e5127=_0x35b450 instanceof Error?_0x35b450[_0x5b30ca(0x865)]:typeof _0x35b450==_0x5b30ca(0x8d4)?JSON[_0x5b30ca(0x84a)](_0x35b450):_0x35b450,_0xad4f7c=_0x870fda+':\x20'+_0x4e5127;throw this[_0x5b30ca(0x39f)][_0x5b30ca(0x834)](this['instanceName']+'\x20('+this[_0x5b30ca(0x3fc)][_0x5b30ca(0x860)]+_0x5b30ca(0x69d)+_0xad4f7c),new m(_0xad4f7c);}}async[a0_0x1bb7e5(0x578)](_0x145b1c,_0x5d4bd0){const _0x420804=a0_0x1bb7e5;try{this[_0x420804(0x39f)]['verbose'](this[_0x420804(0x7fe)]+'\x20('+this['instance'][_0x420804(0x860)]+_0x420804(0x685)),_0x5d4bd0[_0x420804(0x70b)](_0x5ce49a=>{const _0x88477c=_0x420804;_0x5ce49a[_0x88477c(0x2c4)]||(_0x5ce49a[_0x88477c(0x2c4)]=(0x0,Y['v4'])()),_0x5ce49a[_0x88477c(0x327)]||(_0x5ce49a[_0x88477c(0x327)]=_0x145b1c),delete _0x5ce49a[_0x88477c(0x550)];});let _0x16b071={'$push':{'messages':{'$each':_0x5d4bd0}}},_0x446c1e=await this[_0x420804(0x1da)][_0x420804(0x3e4)]['updateOneById'](_0x145b1c,_0x16b071,this[_0x420804(0x3fc)][_0x420804(0x860)]);return _0x446c1e&&(this[_0x420804(0x8e6)](_0x446c1e[_0x420804(0x50e)]),await this[_0x420804(0x1da)][_0x420804(0x3e4)][_0x420804(0x1f1)](_0x446c1e[_0x420804(0x2c4)],{'$set':{'messages':_0x446c1e[_0x420804(0x50e)]}},this[_0x420804(0x3fc)][_0x420804(0x860)])),_0x446c1e;}catch(_0x23dc34){let _0x383518=_0x420804(0x222),_0x2ccca3=_0x23dc34 instanceof Error?_0x23dc34[_0x420804(0x865)]:typeof _0x23dc34==_0x420804(0x8d4)?JSON['stringify'](_0x23dc34):_0x23dc34,_0x46ea71=_0x383518+':\x20'+_0x2ccca3;throw this['logger'][_0x420804(0x834)](this[_0x420804(0x7fe)]+'\x20('+this[_0x420804(0x3fc)][_0x420804(0x860)]+_0x420804(0x69d)+_0x46ea71),new m(_0x46ea71);}}async[a0_0x1bb7e5(0x420)](_0x2a5d69){const _0x391a2e=a0_0x1bb7e5;try{if(this['logger'][_0x391a2e(0x1d7)](this[_0x391a2e(0x7fe)]+'\x20('+this[_0x391a2e(0x3fc)][_0x391a2e(0x860)]+_0x391a2e(0x6d5)),!_0x2a5d69[_0x391a2e(0x2c4)]||!_0x2a5d69[_0x391a2e(0x50e)])throw new Error(_0x391a2e(0x199));let _0x781eb2=_0x2a5d69[_0x391a2e(0x2c4)],_0x5880b3=_0x2a5d69[_0x391a2e(0x50e)],_0xe520b3=_0x5880b3[_0x391a2e(0x67b)](_0x48da53=>!_0x48da53[_0x391a2e(0x5f4)])['map'](_0x30bbb6=>{const _0x2eeee0=_0x391a2e;let _0x11698b=_0x30bbb6['_id'];if(!_0x11698b)throw new Error(_0x2eeee0(0x48f));return _0x30bbb6[_0x2eeee0(0x327)]||(_0x30bbb6[_0x2eeee0(0x327)]=_0x781eb2),delete _0x30bbb6['triedToSend'],{'updateOne':{'filter':{'_id':_0x781eb2,'messages._id':_0x11698b},'update':{'$set':{'messages.$[elem]':_0x30bbb6}},'arrayFilters':[{'elem._id':_0x11698b}]}};}),_0x351ab6=_0x5880b3[_0x391a2e(0x67b)](_0x4c5046=>_0x4c5046[_0x391a2e(0x5f4)])[_0x391a2e(0x7b7)](_0xcb96a8=>{const _0x12c8b8=_0x391a2e;let _0x4e1d64=_0xcb96a8[_0x12c8b8(0x2c4)];if(!_0x4e1d64)throw new Error(_0x12c8b8(0x2d2));return{'updateOne':{'filter':{'_id':_0x781eb2},'update':{'$pull':{'messages':{'_id':_0x4e1d64}}}}};}),_0x4acc26=[..._0xe520b3,..._0x351ab6],_0x18d3aa=await this[_0x391a2e(0x1da)]['scheduleMessage'][_0x391a2e(0x1d3)](_0x4acc26,this['instance'][_0x391a2e(0x860)]),_0xc3229=await this[_0x391a2e(0x1da)][_0x391a2e(0x3e4)]['findById'](_0x781eb2,this[_0x391a2e(0x3fc)][_0x391a2e(0x860)]);return _0xc3229&&(this[_0x391a2e(0x8e6)](_0xc3229['messages']),await this['repository'][_0x391a2e(0x3e4)][_0x391a2e(0x1f1)](_0xc3229[_0x391a2e(0x2c4)],{'$set':{'messages':_0xc3229[_0x391a2e(0x50e)]}},this[_0x391a2e(0x3fc)][_0x391a2e(0x860)])),_0xc3229;}catch(_0x15add4){let _0x1d3e23=_0x391a2e(0x85b),_0x273055=_0x15add4 instanceof Error?_0x15add4[_0x391a2e(0x865)]:typeof _0x15add4==_0x391a2e(0x8d4)?JSON['stringify'](_0x15add4):_0x15add4,_0x1d6034=_0x1d3e23+':\x20'+_0x273055;throw this[_0x391a2e(0x39f)][_0x391a2e(0x834)](this[_0x391a2e(0x7fe)]+'\x20('+this[_0x391a2e(0x3fc)]['wuid']+'):\x20'+_0x1d6034),new m(_0x1d6034);}}async['deleteDoneMessages'](){const _0x5b2ecf=a0_0x1bb7e5;try{let _0x17f748={'status':_0x5b2ecf(0x235)},_0x246dd0=await this['repository']['scheduleMessage'][_0x5b2ecf(0x4af)](_0x17f748,this[_0x5b2ecf(0x3fc)][_0x5b2ecf(0x860)]);if(!_0x246dd0[_0x5b2ecf(0x834)])this['logger'][_0x5b2ecf(0x1d7)](this['instanceName']+'\x20('+this[_0x5b2ecf(0x3fc)][_0x5b2ecf(0x860)]+_0x5b2ecf(0x80e));else throw new Error(_0x246dd0[_0x5b2ecf(0x834)][_0x5b2ecf(0x865)]||'Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens');return this[_0x5b2ecf(0x432)]();}catch(_0x33fba6){let _0x127f55=_0x5b2ecf(0x8d1),_0x405580=_0x33fba6 instanceof Error?_0x33fba6['message']:typeof _0x33fba6=='object'?JSON['stringify'](_0x33fba6):_0x33fba6,_0x34ce32=_0x127f55+':\x20'+_0x405580;throw this[_0x5b2ecf(0x39f)]['error'](this[_0x5b2ecf(0x7fe)]+'\x20('+this['instance'][_0x5b2ecf(0x860)]+_0x5b2ecf(0x69d)+_0x34ce32),new m(_0x34ce32);}}async['getScheduleMessage'](){const _0x55931c=a0_0x1bb7e5;try{return await this[_0x55931c(0x1da)][_0x55931c(0x3e4)]['find']({'where':{}},this[_0x55931c(0x3fc)][_0x55931c(0x860)]);}catch(_0x1fe71e){let _0x364f4c=_0x55931c(0x36f),_0x3f432c=_0x1fe71e instanceof Error?_0x1fe71e['message']:typeof _0x1fe71e==_0x55931c(0x8d4)?JSON[_0x55931c(0x84a)](_0x1fe71e):_0x1fe71e,_0x5f30b7=_0x364f4c+':\x20'+_0x3f432c;throw this[_0x55931c(0x39f)]['error'](this['instanceName']+'\x20('+this['instance'][_0x55931c(0x860)]+_0x55931c(0x69d)+_0x5f30b7),new m(_0x5f30b7);}}[a0_0x1bb7e5(0x8e6)](_0x155f6a){const _0x60da38=a0_0x1bb7e5;_0x155f6a[_0x60da38(0x394)]((_0x5963d4,_0x1b3106)=>_0x5963d4[_0x60da38(0x6cc)]-_0x1b3106['order']),_0x155f6a[_0x60da38(0x70b)]((_0x47dcf0,_0x6f29dd)=>{const _0x41d27f=_0x60da38;_0x47dcf0[_0x41d27f(0x6cc)]=_0x6f29dd+0x1;});}async[a0_0x1bb7e5(0x371)](_0x5aaee6,_0xde480b){const _0x3495c7=a0_0x1bb7e5;try{if(!_0xde480b)return this['logger'][_0x3495c7(0x834)](this[_0x3495c7(0x7fe)]+'\x20('+this['instance'][_0x3495c7(0x860)]+_0x3495c7(0x6c1)),{'error':!0x0,'detail':_0x3495c7(0x882)};if(_0xde480b[_0x3495c7(0x358)]===_0x3495c7(0x21f)&&!this[_0x3495c7(0x399)]?.[_0x3495c7(0x3fe)][_0x3495c7(0x250)])return this[_0x3495c7(0x39f)][_0x3495c7(0x834)](this[_0x3495c7(0x7fe)]+'\x20('+this[_0x3495c7(0x3fc)][_0x3495c7(0x860)]+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':'Fluxos\x20não\x20estão\x20ativados'};switch(_0xde480b[_0x3495c7(0x358)]){case'text':return await this['scheduleSendText'](_0xde480b,_0x5aaee6);case'video':case _0x3495c7(0x4f5):case _0x3495c7(0x901):return await this[_0x3495c7(0x2d1)](_0xde480b,_0x5aaee6);case _0x3495c7(0x582):return await this['scheduleSendAudio'](_0xde480b,_0x5aaee6);case _0x3495c7(0x21f):let _0x56862a=new We();return _0x56862a[_0x3495c7(0x8f0)]=_0xde480b[_0x3495c7(0x21f)],_0x56862a[_0x3495c7(0x6d1)]=_0x5aaee6,await this[_0x3495c7(0x7a8)](_0x56862a);default:return this[_0x3495c7(0x39f)]['error'](this[_0x3495c7(0x7fe)]+'\x20('+this[_0x3495c7(0x3fc)][_0x3495c7(0x860)]+_0x3495c7(0x696)+_0xde480b[_0x3495c7(0x358)]),{'error':!0x0,'detail':_0x3495c7(0x79f)};}}catch(_0x21c69e){return this['logger'][_0x3495c7(0x834)](this['instanceName']+'\x20('+this[_0x3495c7(0x3fc)][_0x3495c7(0x860)]+_0x3495c7(0x48b)+(_0x21c69e instanceof Error?_0x21c69e[_0x3495c7(0x865)]:JSON[_0x3495c7(0x84a)](_0x21c69e,null,0x2))),{'error':!0x0,'detail':_0x21c69e[_0x3495c7(0x865)]};}}async[a0_0x1bb7e5(0x6d4)](_0x1fac9c,_0x187235){const _0x4ddb8b=a0_0x1bb7e5;if(this['logger'][_0x4ddb8b(0x1d7)](this[_0x4ddb8b(0x7fe)]+'\x20('+this[_0x4ddb8b(0x3fc)]['wuid']+'):\x20\x27Enviando\x20texto\x20para\x20\x27'+_0x187235+'\x27'),!_0x1fac9c[_0x4ddb8b(0x56d)]||_0x1fac9c['text'][_0x4ddb8b(0x1e1)]===0x0)return{'error':!0x0,'detail':'sem\x20texto\x20na\x20mensagem'};let _0x5cb813=await this[_0x4ddb8b(0x8ef)](_0x1fac9c[_0x4ddb8b(0x56d)],_0x187235),_0x21f248={'number':_0x187235,'options':{'delay':_0x1fac9c['delay'],'linkPreview':_0x1fac9c[_0x4ddb8b(0x783)]},'textMessage':{'text':_0x5cb813}},_0x3bba90=null;try{let _0x4bd2fc=await this[_0x4ddb8b(0x617)](_0x21f248);if(_0x4bd2fc&&_0x4bd2fc[_0x4ddb8b(0x362)])return{'error':!0x1,'id':_0x4bd2fc['key']['id']};_0x3bba90=JSON[_0x4ddb8b(0x84a)](_0x4bd2fc),this[_0x4ddb8b(0x39f)][_0x4ddb8b(0x1d7)](this[_0x4ddb8b(0x7fe)]+'\x20('+this[_0x4ddb8b(0x3fc)][_0x4ddb8b(0x860)]+_0x4ddb8b(0x69d)+_0x3bba90);}catch(_0x6732c8){this[_0x4ddb8b(0x39f)]['error'](this[_0x4ddb8b(0x7fe)]+'\x20('+this[_0x4ddb8b(0x3fc)]['wuid']+_0x4ddb8b(0x3b0)+(_0x6732c8 instanceof Error?_0x6732c8[_0x4ddb8b(0x865)]:JSON[_0x4ddb8b(0x84a)](_0x6732c8,null,0x2))),_0x3bba90=_0x6732c8[_0x4ddb8b(0x865)];}if(_0x3bba90)return{'error':!0x0,'detail':(typeof _0x3bba90=='object'?JSON[_0x4ddb8b(0x84a)](_0x3bba90,null,0x2):_0x3bba90)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x5a6e8f,_0x4e145a){const _0x155ea1=a0_0x1bb7e5;this['logger'][_0x155ea1(0x1d7)](this[_0x155ea1(0x7fe)]+'\x20('+this[_0x155ea1(0x3fc)][_0x155ea1(0x860)]+_0x155ea1(0x4d5)+_0x4e145a+'\x27');let _0x4a50ee;_0x5a6e8f[_0x155ea1(0x56d)]&&_0x5a6e8f[_0x155ea1(0x56d)][_0x155ea1(0x1e1)]>0x0&&(_0x4a50ee=await this[_0x155ea1(0x8ef)](_0x5a6e8f[_0x155ea1(0x56d)],_0x4e145a));let _0xa9872b={'number':_0x4e145a,'options':{'delay':_0x5a6e8f['delay'],'linkPreview':_0x5a6e8f[_0x155ea1(0x783)]},'mediaMessage':{'mediatype':_0x5a6e8f[_0x155ea1(0x358)],'caption':_0x4a50ee,'media':_0x5a6e8f[_0x155ea1(0x7f6)]}},_0x2dbd15=null;try{let _0x18a180=await this[_0x155ea1(0x897)](_0xa9872b);if(_0x18a180&&_0x18a180['status'])return{'error':!0x1,'id':_0x18a180['key']['id']};_0x2dbd15=JSON[_0x155ea1(0x84a)](_0x18a180),this[_0x155ea1(0x39f)][_0x155ea1(0x1d7)](this[_0x155ea1(0x7fe)]+'\x20('+this['instance'][_0x155ea1(0x860)]+_0x155ea1(0x69d)+_0x2dbd15);}catch(_0x113d27){this[_0x155ea1(0x39f)][_0x155ea1(0x834)](this[_0x155ea1(0x7fe)]+'\x20('+this['instance'][_0x155ea1(0x860)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x113d27 instanceof Error?_0x113d27[_0x155ea1(0x865)]:JSON[_0x155ea1(0x84a)](_0x113d27,null,0x2))),_0x2dbd15=_0x113d27[_0x155ea1(0x865)];}if(_0x2dbd15)return{'error':!0x0,'detail':(typeof _0x2dbd15==_0x155ea1(0x8d4)?JSON[_0x155ea1(0x84a)](_0x2dbd15,null,0x2):_0x2dbd15)[_0x155ea1(0x40f)](/[\[\]{}\n]/g,'\x20')[_0x155ea1(0x40f)](/  +/g,'\x20')};}async[a0_0x1bb7e5(0x808)](_0x19d8ee,_0x4c35be){const _0x48ae39=a0_0x1bb7e5;this['logger'][_0x48ae39(0x1d7)](this['instanceName']+'\x20('+this[_0x48ae39(0x3fc)][_0x48ae39(0x860)]+_0x48ae39(0x63d)+_0x4c35be+'\x27');let _0x268198={'number':_0x4c35be,'options':{'delay':_0x19d8ee[_0x48ae39(0x6e3)]},'audioMessage':{'audio':_0x19d8ee[_0x48ae39(0x7f6)]}},_0x295123=null;try{let _0x256781=await this[_0x48ae39(0x443)](_0x268198);if(_0x256781&&_0x256781[_0x48ae39(0x362)])return{'error':!0x1,'id':_0x256781['key']['id']};_0x295123=JSON[_0x48ae39(0x84a)](_0x256781),this['logger'][_0x48ae39(0x1d7)](this[_0x48ae39(0x7fe)]+'\x20('+this[_0x48ae39(0x3fc)][_0x48ae39(0x860)]+_0x48ae39(0x69d)+_0x295123);}catch(_0x19be79){this[_0x48ae39(0x39f)][_0x48ae39(0x834)](this[_0x48ae39(0x7fe)]+'\x20('+this['instance']['wuid']+_0x48ae39(0x6bf)+(_0x19be79 instanceof Error?_0x19be79[_0x48ae39(0x865)]:JSON[_0x48ae39(0x84a)](_0x19be79,null,0x2))),_0x295123=_0x19be79[_0x48ae39(0x865)];}if(_0x295123)return{'error':!0x0,'detail':(typeof _0x295123==_0x48ae39(0x8d4)?JSON['stringify'](_0x295123,null,0x2):_0x295123)[_0x48ae39(0x40f)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x1bb7e5(0x26f)](_0xfb79a4){const _0x4b167a=a0_0x1bb7e5;try{return await this[_0x4b167a(0x680)][_0x4b167a(0x80a)](_0xfb79a4[_0x4b167a(0x7a3)],_0xfb79a4[_0x4b167a(0x2de)]),{'update':_0x4b167a(0x4cb)};}catch(_0x5e86ba){let _0x4c8cff='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc',_0x440287=_0x5e86ba instanceof Error?_0x5e86ba[_0x4b167a(0x865)]:typeof _0x5e86ba==_0x4b167a(0x8d4)?JSON[_0x4b167a(0x84a)](_0x5e86ba):_0x5e86ba,_0x2f1e50=_0x4c8cff+':\x20'+_0x440287;throw this[_0x4b167a(0x39f)][_0x4b167a(0x834)](this['instanceName']+'\x20('+this[_0x4b167a(0x3fc)][_0x4b167a(0x860)]+_0x4b167a(0x69d)+_0x2f1e50),new x(_0x2f1e50);}}async['groupName'](_0x14dec1){const _0xdd7690=a0_0x1bb7e5;try{return await this[_0xdd7690(0x680)][_0xdd7690(0x6fd)](_0x14dec1['groupJid'],_0x14dec1[_0xdd7690(0x8f0)]),{'update':_0xdd7690(0x4cb)};}catch(_0x13ff22){let _0x4e47b2='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName',_0x29180e=_0x13ff22 instanceof Error?_0x13ff22['message']:typeof _0x13ff22==_0xdd7690(0x8d4)?JSON['stringify'](_0x13ff22):_0x13ff22,_0x2b6427=_0x4e47b2+':\x20'+_0x29180e;throw this[_0xdd7690(0x39f)][_0xdd7690(0x834)](this['instanceName']+'\x20('+this[_0xdd7690(0x3fc)][_0xdd7690(0x860)]+'):\x20'+_0x2b6427),new x(_0x2b6427);}}async[a0_0x1bb7e5(0x85f)](_0x493de3){const _0x5c61f6=a0_0x1bb7e5;try{let _0x339e4f=await this['client'][_0x5c61f6(0x772)](_0x493de3[_0x5c61f6(0x7a3)],_0x493de3[_0x5c61f6(0x354)]);return{'success':!0x0};}catch(_0x284e92){let _0x279d2f=_0x5c61f6(0x498),_0x2822c1=_0x284e92 instanceof Error?_0x284e92[_0x5c61f6(0x865)]:typeof _0x284e92==_0x5c61f6(0x8d4)?JSON[_0x5c61f6(0x84a)](_0x284e92):_0x284e92,_0x1c3a75=_0x279d2f+':\x20'+_0x2822c1;throw this['logger'][_0x5c61f6(0x834)](this['instanceName']+'\x20('+this['instance'][_0x5c61f6(0x860)]+'):\x20'+_0x1c3a75),new x(_0x1c3a75);}}async[a0_0x1bb7e5(0x5c2)](_0x42bc4d){const _0x216f6f=a0_0x1bb7e5;try{return await this[_0x216f6f(0x680)]['groupSettingUpdate'](_0x42bc4d[_0x216f6f(0x7a3)],_0x42bc4d[_0x216f6f(0x89d)]),{'update':'success'};}catch(_0x4ce593){let _0x46941b=_0x216f6f(0x373),_0x37a780=_0x4ce593 instanceof Error?_0x4ce593[_0x216f6f(0x865)]:typeof _0x4ce593==_0x216f6f(0x8d4)?JSON[_0x216f6f(0x84a)](_0x4ce593):_0x4ce593,_0x37cd10=_0x46941b+':\x20'+_0x37a780;throw this[_0x216f6f(0x39f)][_0x216f6f(0x834)](this[_0x216f6f(0x7fe)]+'\x20('+this[_0x216f6f(0x3fc)][_0x216f6f(0x860)]+_0x216f6f(0x69d)+_0x37cd10),new x(_0x37cd10);}}async[a0_0x1bb7e5(0x1f7)](_0x58a786){const _0x41e544=a0_0x1bb7e5;try{let _0xcacd32;if((0x0,J['isURL'])(_0x58a786[_0x41e544(0x4f5)])){let _0x442c38=new Date()[_0x41e544(0x391)](),_0x1aab91=_0x58a786['image']+'?timestamp='+_0x442c38;_0xcacd32=(await Q['default'][_0x41e544(0x8a5)](_0x1aab91,{'responseType':_0x41e544(0x1a4)}))[_0x41e544(0x2b3)];}else{if((0x0,J[_0x41e544(0x44f)])(_0x58a786[_0x41e544(0x4f5)]))_0xcacd32=Buffer[_0x41e544(0x71c)](_0x58a786['image'],_0x41e544(0x47a));else throw new m(_0x41e544(0x566));}return await this[_0x41e544(0x680)][_0x41e544(0x8a2)](_0x58a786[_0x41e544(0x7a3)],_0xcacd32),{'update':_0x41e544(0x4cb)};}catch(_0x3dc0c0){let _0x14fec0='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture',_0x2297a4=_0x3dc0c0 instanceof Error?_0x3dc0c0[_0x41e544(0x865)]:typeof _0x3dc0c0==_0x41e544(0x8d4)?JSON['stringify'](_0x3dc0c0):_0x3dc0c0,_0x2636a5=_0x14fec0+':\x20'+_0x2297a4;throw this[_0x41e544(0x39f)][_0x41e544(0x834)](this[_0x41e544(0x7fe)]+'\x20('+this['instance'][_0x41e544(0x860)]+_0x41e544(0x69d)+_0x2636a5),new x(_0x2636a5);}}},jt=class u{constructor(_0x3cda89,_0x5ceeba,_0x3318f3){const _0x5aa047=a0_0x1bb7e5;this[_0x5aa047(0x81c)]=_0x3cda89,this[_0x5aa047(0x3bc)]=_0x5ceeba,this[_0x5aa047(0x1da)]=_0x3318f3,this['db']={},this[_0x5aa047(0x552)]={},this['logger']=new $(u[_0x5aa047(0x8f0)]),this[_0x5aa047(0x5de)]={},(this[_0x5aa047(0x1b6)](),this[_0x5aa047(0x641)](),Object['assign'](this['db'],_0x5ceeba[_0x5aa047(0x8a5)](_0x5aa047(0x7da))),Object[_0x5aa047(0x2f6)](this[_0x5aa047(0x552)],_0x5ceeba[_0x5aa047(0x8a5)](_0x5aa047(0x670))),this['dbInstance']=this['db'][_0x5aa047(0x2ab)]?this[_0x5aa047(0x1da)]['dbServer']?.['db'](this['db']['CONNECTION'][_0x5aa047(0x2fc)]+_0x5aa047(0x24e)):void 0x0,this[_0x5aa047(0x416)]=this[_0x5aa047(0x552)][_0x5aa047(0x2ab)]?new pe(this[_0x5aa047(0x552)]):void 0x0);}async['instanceInfo'](_0x2f40b4){const _0x45b850=a0_0x1bb7e5;if(_0x2f40b4&&!this[_0x45b850(0x5de)][_0x2f40b4])throw new U(_0x45b850(0x2d6)+_0x2f40b4+'\x22\x20not\x20found');let _0xa9394a=[];for await(let [_0xc0be60,_0x34ca09]of Object[_0x45b850(0x6d7)](this[_0x45b850(0x5de)]))if(_0x34ca09&&_0x34ca09['connectionStatus'][_0x45b850(0x844)]===_0x45b850(0x4c2)){let _0x1b3895=await this['repository'][_0x45b850(0x4a4)][_0x45b850(0x42f)](_0xc0be60);_0xa9394a['push']({'instance':{'instanceName':_0xc0be60,'apikey':_0x1b3895[_0x45b850(0x198)],'owner':_0x34ca09[_0x45b850(0x860)],'profileName':await _0x34ca09[_0x45b850(0x6a1)]()||_0x45b850(0x7c1),'profilePictureUrl':_0x34ca09['profilePictureUrl']}});}return _0xa9394a['find'](_0x25f59e=>_0x25f59e[_0x45b850(0x3fc)][_0x45b850(0x7fe)]===_0x2f40b4)??_0xa9394a;}async[a0_0x1bb7e5(0x87b)](_0x4687d){const _0xc4d822=a0_0x1bb7e5;if(this['db'][_0xc4d822(0x2ab)]&&(await this['repository'][_0xc4d822(0x2ee)][_0xc4d822(0x8fb)](),(await this['dbInstance'][_0xc4d822(0x7a7)]())[_0xc4d822(0x1e1)]>0x0&&await this[_0xc4d822(0x787)][_0xc4d822(0x4f6)](_0x4687d)),this[_0xc4d822(0x552)]['ENABLED']){this[_0xc4d822(0x416)]['reference']=_0x4687d,await this[_0xc4d822(0x416)]['delAll']();return;}}async[a0_0x1bb7e5(0x45f)](){const _0x2e803c=a0_0x1bb7e5;await this['InstancesAlterarTodas']();let _0x3b67a3=async _0x281f37=>{const _0x2df4e2=a0_0x5772;let _0x2adb9d=new $e(this[_0x2df4e2(0x3bc)],this[_0x2df4e2(0x81c)],this[_0x2df4e2(0x1da)]);_0x2adb9d[_0x2df4e2(0x7fe)]=_0x281f37,await _0x2adb9d[_0x2df4e2(0x26c)](),this[_0x2df4e2(0x5de)][_0x281f37]=_0x2adb9d;};try{if(this[_0x2e803c(0x552)]['ENABLED']){let _0x1d5336=await this[_0x2e803c(0x416)]['instanceKeys']();_0x1d5336?.[_0x2e803c(0x1e1)]>0x0&&_0x1d5336[_0x2e803c(0x70b)](async _0x3bc257=>await _0x3b67a3(_0x3bc257[_0x2e803c(0x53e)](':')[0x1]));return;}if(this['db']['ENABLED']){await this[_0x2e803c(0x1da)][_0x2e803c(0x2ee)][_0x2e803c(0x8fb)]();let _0x5f191a=await this[_0x2e803c(0x787)][_0x2e803c(0x7a7)]();_0x5f191a[_0x2e803c(0x1e1)]>0x0&&_0x5f191a[_0x2e803c(0x70b)](async _0xc0efe3=>await _0x3b67a3(_0xc0efe3['namespace'][_0x2e803c(0x40f)](/^[\w-]+\./,'')));return;}}catch(_0x6ea646){this[_0x2e803c(0x39f)]['error'](_0x6ea646);}}async[a0_0x1bb7e5(0x4a6)](){const _0x58bb5a=a0_0x1bb7e5;try{let _0x49ca96=await this[_0x58bb5a(0x1da)][_0x58bb5a(0x4a4)][_0x58bb5a(0x60a)]({'online':!0x1});for(let _0x2440e1 of _0x49ca96){let _0x1a8fba=_0x2440e1[_0x58bb5a(0x2c4)];await ae[_0x58bb5a(0x4d3)](B,_0x1a8fba);}console['log'](_0x58bb5a(0x494)+_0x49ca96['length']);let _0x17ab13={'online':!0x1},_0x26c355=await this[_0x58bb5a(0x1da)][_0x58bb5a(0x4a4)][_0x58bb5a(0x4af)](_0x17ab13);console['log'](_0x58bb5a(0x33c)+_0x26c355['insertCount']);}catch(_0x2852eb){console['error'](_0x58bb5a(0x8dd),_0x2852eb);}}async[a0_0x1bb7e5(0x54b)](){const _0x66bdc6=a0_0x1bb7e5;try{let _0x341c66={'online':!0x1},_0x3cce9a={'online':!0x1,'lastDisconnect':Date[_0x66bdc6(0x559)]()},_0x4baada=await this[_0x66bdc6(0x1da)][_0x66bdc6(0x4a4)][_0x66bdc6(0x4f8)](_0x341c66,_0x3cce9a);await this[_0x66bdc6(0x4a6)]();}catch(_0x67a029){console[_0x66bdc6(0x834)](_0x66bdc6(0x4ef),_0x67a029);}}[a0_0x1bb7e5(0x1b6)](){const _0x58d83e=a0_0x1bb7e5;this[_0x58d83e(0x81c)]['on'](_0x58d83e(0x247),async _0x14a2bc=>{const _0x1e8967=_0x58d83e;try{this[_0x1e8967(0x5de)][_0x14a2bc]=void 0x0;}catch{}try{this[_0x1e8967(0x87b)](_0x14a2bc);}finally{this[_0x1e8967(0x39f)][_0x1e8967(0x1be)](_0x1e8967(0x2d6)+_0x14a2bc+_0x1e8967(0x445));}});}['noConnection'](){const _0x36e44f=a0_0x1bb7e5;this['eventEmitter']['on'](_0x36e44f(0x413),async _0x1a2b6f=>{const _0x558d5f=_0x36e44f;try{this[_0x558d5f(0x5de)][_0x1a2b6f]=void 0x0;}catch{}try{this['cleaningUp'](_0x1a2b6f);}finally{this[_0x558d5f(0x39f)][_0x558d5f(0x1be)](_0x558d5f(0x2d6)+_0x1a2b6f+_0x558d5f(0x8f1));}});}},Jt=class extends _{[a0_0x1bb7e5(0x53d)](_0x1501e6){return ta(_0x1501e6);}async[a0_0x1bb7e5(0x6ac)](_0x25ffd6){const _0x14b918=a0_0x1bb7e5;if(_0x25ffd6[_0x14b918(0x1e1)]!==0x0)try{return{'insertCount':(await this[_0x14b918(0x53d)](_0x25ffd6[0x0]['owner'])[_0x14b918(0x7f9)]([..._0x25ffd6]))[_0x14b918(0x1e1)]};}catch(_0x82566a){return _0x82566a;}}async[a0_0x1bb7e5(0x42f)](_0x1bc911,_0x12f688){const _0x58185a=a0_0x1bb7e5;try{let _0x39a62c=this[_0x58185a(0x53d)](_0x12f688),_0x4e7a2b=A(_0x1bc911['where']);return await _0x39a62c[_0x58185a(0x42f)](_0x4e7a2b)[_0x58185a(0x394)]({'lastmsg':-0x1})[_0x58185a(0x540)](_0x1bc911?.['limit']??0x0)[_0x58185a(0x5e5)]();}catch{return[];}}async[a0_0x1bb7e5(0x379)](_0x40c8f6,_0x3b480b){const _0x2cd013=a0_0x1bb7e5;try{let _0x4d0394=this[_0x2cd013(0x53d)](_0x3b480b),_0x583c93=A(_0x40c8f6['where']);return _0x583c93[_0x2cd013(0x85d)]={'$ne':[]},await _0x4d0394['find'](_0x583c93)[_0x2cd013(0x394)]({'lastmsg':-0x1})[_0x2cd013(0x540)](_0x40c8f6?.[_0x2cd013(0x540)]??0x0)[_0x2cd013(0x5e5)]();}catch{return[];}}async[a0_0x1bb7e5(0x5f4)](_0x44a2b9,_0x457d96){const _0x569748=a0_0x1bb7e5;try{return{'deletedCount':(await this[_0x569748(0x53d)](_0x457d96)[_0x569748(0x4af)]({..._0x44a2b9[_0x569748(0x46a)]}))[_0x569748(0x746)]};}catch(_0x4b9faf){return{'error':_0x4b9faf?.['toString']()};}}async[a0_0x1bb7e5(0x66e)](_0x12b781,_0x547496){const _0x35e0dd=a0_0x1bb7e5;try{return await this[_0x35e0dd(0x53d)](_0x547496)[_0x35e0dd(0x4af)]({..._0x12b781['where']}),[];}catch(_0x177063){return{'error':_0x177063?.[_0x35e0dd(0x684)]()};}}async[a0_0x1bb7e5(0x1fa)](_0x5df9e2,_0x359f93){const _0x5f5d0d=a0_0x1bb7e5;try{let _0x236aa1=this[_0x5f5d0d(0x53d)](_0x359f93),_0x403aed=A(_0x5df9e2[_0x5f5d0d(0x46a)]);return await _0x236aa1[_0x5f5d0d(0x1fa)](_0x403aed)[_0x5f5d0d(0x5e5)]();}catch{return null;}}async[a0_0x1bb7e5(0x3dd)](_0x357ea1,_0xc2705f,_0x18ffd0,_0x20d5e4,_0x1eb48d=a0_0x1bb7e5(0x660)){const _0x121b49=a0_0x1bb7e5;try{let _0x57d195={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x20d5e4},_0x5a5a50=this[_0x121b49(0x53d)](_0x18ffd0),_0x1bc75b=A(_0x357ea1[_0x121b49(0x46a)]);Object['keys'](_0xc2705f)['forEach'](_0x1b81e5=>{_0xc2705f[_0x1b81e5]==null&&delete _0xc2705f[_0x1b81e5];});let _0xd02b2d={};return _0xd02b2d[_0x1eb48d]=_0xc2705f,await _0x5a5a50['findOneAndUpdate'](_0x1bc75b,_0xd02b2d,_0x57d195);}catch(_0x34784b){return console[_0x121b49(0x834)](_0x34784b),null;}}async[a0_0x1bb7e5(0x8bd)](_0x52126e){const _0x2af7bb=a0_0x1bb7e5;try{let _0x4ea9af=this[_0x2af7bb(0x53d)](_0x52126e[0x0]['query']['where']['owner']),_0x25f7d1=_0x52126e['map'](_0x167d7c=>({'updateOne':{'filter':{..._0x167d7c[_0x2af7bb(0x91a)]['where']},'update':{'$set':_0x167d7c['update']},'upsert':!0x0}})),_0x31c61e=await _0x4ea9af[_0x2af7bb(0x1d3)](_0x25f7d1);return _0x31c61e[_0x2af7bb(0x360)]+_0x31c61e[_0x2af7bb(0x507)];}catch(_0x13bd23){return console[_0x2af7bb(0x834)](_0x13bd23),0x0;}}async[a0_0x1bb7e5(0x2f4)](_0x5c9b71){const _0x3fc99d=a0_0x1bb7e5;try{let _0x443f1b={'group_isCommunity':'','group_announce':'','group_size':''},_0x4d6006={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x554966={'$unset':_0x443f1b};return(await this[_0x3fc99d(0x53d)](_0x5c9b71)[_0x3fc99d(0x8bd)](_0x4d6006,_0x554966))[_0x3fc99d(0x360)];}catch(_0x22b303){return console[_0x3fc99d(0x834)](_0x3fc99d(0x6c9),_0x22b303),0x0;}}async[a0_0x1bb7e5(0x402)](_0x5ae16c){const _0x4908d6=a0_0x1bb7e5;try{let _0x1286a6=this[_0x4908d6(0x53d)](_0x5ae16c),_0x2e40d4={'leadInfo.etiquetas':{'$exists':!0x1}},_0x3e1d95={'$set':{'leadInfo.etiquetas':[]}};return(await _0x1286a6[_0x4908d6(0x8bd)](_0x2e40d4,_0x3e1d95))[_0x4908d6(0x360)];}catch(_0x359c74){return console[_0x4908d6(0x834)](_0x359c74),0x0;}}async[a0_0x1bb7e5(0x5b2)](_0x5a2f9a){const _0x1cbec8=a0_0x1bb7e5;try{let _0x24fa77=this[_0x1cbec8(0x53d)](_0x5a2f9a),_0x2e6cd5={'leadInfo.tags':{'$exists':!0x1}},_0x2b6ac4={'$set':{'leadInfo.tags':[]}};return(await _0x24fa77['updateMany'](_0x2e6cd5,_0x2b6ac4))[_0x1cbec8(0x360)];}catch(_0x2c03cb){return console[_0x1cbec8(0x834)](_0x2c03cb),0x0;}}async['updateMissingCustomFields'](_0x53e7b5){const _0x2dfe74=a0_0x1bb7e5;try{let _0x476fc7=this[_0x2dfe74(0x53d)](_0x53e7b5),_0x51b792={'leadInfo.customFields':{'$exists':!0x1}},_0x33c7d6={'$set':{'leadInfo.customFields':[]}};return(await _0x476fc7[_0x2dfe74(0x8bd)](_0x51b792,_0x33c7d6))[_0x2dfe74(0x360)];}catch(_0x4f7f84){return console[_0x2dfe74(0x834)](_0x4f7f84),0x0;}}async[a0_0x1bb7e5(0x7f9)](_0x202b9b,_0x4b838e){const _0x138d15=a0_0x1bb7e5;if(!Array['isArray'](_0x202b9b)||_0x202b9b['length']===0x0)throw new Error(_0x138d15(0x380));try{return(await this[_0x138d15(0x53d)](_0x4b838e)[_0x138d15(0x7f9)](_0x202b9b))[_0x138d15(0x1e1)];}catch(_0x16e32){throw console[_0x138d15(0x834)]('Erro\x20ao\x20inserir\x20chats:',_0x16e32),_0x16e32;}}async[a0_0x1bb7e5(0x40d)](_0x44e33f,_0x13a3b3){const _0x243693=a0_0x1bb7e5;try{await this[_0x243693(0x53d)](_0x13a3b3)[_0x243693(0x4fd)]({'_id':_0x44e33f});}catch(_0x34f23e){throw console[_0x243693(0x834)](_0x243693(0x7fa),_0x34f23e),_0x34f23e;}}},qt=class extends _{constructor(_0x282e7c,_0x480b6b,_0x43ea61){const _0x15ebcc=a0_0x1bb7e5;super(_0x480b6b),this['cacheContactModel']=_0x282e7c,this[_0x15ebcc(0x3bc)]=_0x480b6b,this[_0x15ebcc(0x193)]=_0x43ea61;}async[a0_0x1bb7e5(0x6ac)](_0x203cdf){const _0x4e2a61=a0_0x1bb7e5;if(_0x203cdf['length']!==0x0)try{return{'insertCount':(await this[_0x4e2a61(0x624)][_0x4e2a61(0x7f9)]([..._0x203cdf]))['length']};}catch(_0xba48e0){return _0xba48e0;}}async[a0_0x1bb7e5(0x726)](_0x1018df,_0x7f6ba0){const _0xeed674=a0_0x1bb7e5;try{let _0x2d4d0f=A(_0x1018df[_0xeed674(0x46a)]);return{'updatedCount':(await this[_0xeed674(0x624)][_0xeed674(0x8bd)](_0x2d4d0f,{'$set':_0x7f6ba0}))[_0xeed674(0x360)]};}catch(_0xf81c0f){return console['error'](_0xeed674(0x206),_0xf81c0f),{'error':_0xf81c0f['toString']()};}}async[a0_0x1bb7e5(0x2d5)](_0x3cc2ab){const _0xdd09b7=a0_0x1bb7e5;try{let _0x97d869={'_id':{'$in':_0x3cc2ab}};return await this[_0xdd09b7(0x624)][_0xdd09b7(0x42f)](_0x97d869)[_0xdd09b7(0x5e5)]();}catch(_0x4973f2){return console[_0xdd09b7(0x834)](_0xdd09b7(0x2fa),_0x4973f2),[];}}async[a0_0x1bb7e5(0x5f4)](_0x491109){const _0x578354=a0_0x1bb7e5;try{return{'deletedCount':(await this[_0x578354(0x624)]['deleteMany']({..._0x491109['where']}))[_0x578354(0x746)]};}catch(_0x403921){return{'error':_0x403921?.['toString']()};}}async[a0_0x1bb7e5(0x42f)](_0x527025){const _0x3edf2e=a0_0x1bb7e5;try{let _0x286561=A(_0x527025[_0x3edf2e(0x46a)]);return await this[_0x3edf2e(0x624)][_0x3edf2e(0x42f)](_0x286561)[_0x3edf2e(0x540)](_0x527025?.[_0x3edf2e(0x540)]??0x0)['lean']();}catch{return[];}}async[a0_0x1bb7e5(0x1fa)](_0x1e6ec1){const _0x2993b5=a0_0x1bb7e5;try{let _0x19f963=A(_0x1e6ec1[_0x2993b5(0x46a)]);return await this['cacheContactModel']['findOne'](_0x19f963)['lean']();}catch{return null;}}},Vt=class extends _{constructor(_0x3f89da,_0xf3e069,_0x4e9d23){const _0x331ccf=a0_0x1bb7e5;super(_0xf3e069),this[_0x331ccf(0x68e)]=_0x3f89da,this[_0x331ccf(0x3bc)]=_0xf3e069,this[_0x331ccf(0x193)]=_0x4e9d23;}async[a0_0x1bb7e5(0x6ac)](_0x2d6184){const _0xd68c79=a0_0x1bb7e5;if(_0x2d6184[_0xd68c79(0x1e1)]!==0x0)try{return{'insertCount':(await this[_0xd68c79(0x68e)][_0xd68c79(0x7f9)]([..._0x2d6184]))[_0xd68c79(0x1e1)]};}catch(_0xafd719){return _0xafd719;}}async[a0_0x1bb7e5(0x726)](_0x237b0f,_0x548597){const _0x48da77=a0_0x1bb7e5;try{let _0x303119=A(_0x237b0f[_0x48da77(0x46a)]);return{'updatedCount':(await this[_0x48da77(0x68e)][_0x48da77(0x8bd)](_0x303119,{'$set':_0x548597}))[_0x48da77(0x360)]};}catch(_0x58ae18){return console[_0x48da77(0x834)](_0x48da77(0x206),_0x58ae18),{'error':_0x58ae18[_0x48da77(0x684)]()};}}async[a0_0x1bb7e5(0x5f4)](_0x4a667d){const _0x3642f4=a0_0x1bb7e5;try{return{'deletedCount':(await this[_0x3642f4(0x68e)][_0x3642f4(0x4af)]({..._0x4a667d['where']}))[_0x3642f4(0x746)]};}catch(_0x3169e0){return{'error':_0x3169e0?.[_0x3642f4(0x684)]()};}}async[a0_0x1bb7e5(0x1fa)](_0x3d2e3e){const _0x24c469=a0_0x1bb7e5;try{let _0x51d3cf=A(_0x3d2e3e[_0x24c469(0x46a)]);return await this[_0x24c469(0x68e)][_0x24c469(0x1fa)](_0x51d3cf)[_0x24c469(0x5e5)]();}catch{return null;}}},Gt=class extends _{[a0_0x1bb7e5(0x6f2)](_0x3f8969){return Ea(_0x3f8969);}async[a0_0x1bb7e5(0x3dd)](_0x3fec4f,_0xe540c7,_0x30f39f,_0x3b6362){const _0x33b2d0=a0_0x1bb7e5;try{let _0x4d513c={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x3b6362},_0x3b5acb=this[_0x33b2d0(0x6f2)](_0x30f39f),_0x50cae2=A(_0x3fec4f[_0x33b2d0(0x46a)]);return await _0x3b5acb[_0x33b2d0(0x575)](_0x50cae2,{'$set':_0xe540c7},_0x4d513c);}catch(_0x25dd97){return console[_0x33b2d0(0x834)](_0x25dd97),null;}}async[a0_0x1bb7e5(0x42f)](_0x2b2c58,_0xde57bf){const _0x464463=a0_0x1bb7e5;try{let _0x5b6e3a=this[_0x464463(0x6f2)](_0xde57bf),_0x21aabf=A(_0x2b2c58[_0x464463(0x46a)]);return await _0x5b6e3a[_0x464463(0x42f)](_0x21aabf);}catch(_0x12f7a1){console[_0x464463(0x834)](_0x12f7a1);}}async[a0_0x1bb7e5(0x5f4)](_0x5dfa66,_0x2aa1f1){const _0x41dfe0=a0_0x1bb7e5;try{let _0x407a49=this[_0x41dfe0(0x6f2)](_0x2aa1f1),_0x1efecf=A(_0x5dfa66[_0x41dfe0(0x46a)]);await _0x407a49[_0x41dfe0(0x4af)](_0x1efecf);}catch(_0x10b894){console[_0x41dfe0(0x834)](_0x10b894);}}async[a0_0x1bb7e5(0x66e)](_0xd34e71){const _0x28bdbd=a0_0x1bb7e5;try{return await this['getLabelModelForOwner'](_0xd34e71)[_0x28bdbd(0x686)][_0x28bdbd(0x3df)](),{'success':!0x0};}catch(_0x4a9dcc){return console['error'](_0x4a9dcc),{'success':!0x1,'error':_0x4a9dcc};}}},Bt=class{constructor(_0x4d584c){const _0x22ad04=a0_0x1bb7e5;this[_0x22ad04(0x5b7)]=_0x4d584c;}async['editChat']({instanceName:_0x4cc67f},_0x119228){const _0x3aea5c=a0_0x1bb7e5;return await this['waMonitor']['waInstances'][_0x4cc67f][_0x3aea5c(0x6d3)](_0x119228);}async[a0_0x1bb7e5(0x596)]({instanceName:_0x1232e3},_0x31f42d){const _0x12f154=a0_0x1bb7e5;return await this[_0x12f154(0x5b7)][_0x12f154(0x5de)][_0x1232e3]['whatsappNumber'](_0x31f42d);}async[a0_0x1bb7e5(0x793)]({instanceName:_0x146a19},_0x2efad8){const _0x212315=a0_0x1bb7e5;return await this['waMonitor']['waInstances'][_0x146a19][_0x212315(0x793)](_0x2efad8);}async[a0_0x1bb7e5(0x192)]({instanceName:_0x15f668},_0x5d15ed){const _0x1adfb8=a0_0x1bb7e5;return await this[_0x1adfb8(0x5b7)]['waInstances'][_0x15f668][_0x1adfb8(0x82b)](_0x5d15ed);}async[a0_0x1bb7e5(0x6df)]({instanceName:_0x623d12},_0x12c686){const _0x5ae028=a0_0x1bb7e5;return await this[_0x5ae028(0x5b7)][_0x5ae028(0x5de)][_0x623d12]['archiveChat'](_0x12c686);}async[a0_0x1bb7e5(0x3e9)]({instanceName:_0x9049ec},_0x525a54){const _0x297e34=a0_0x1bb7e5;return await this[_0x297e34(0x5b7)][_0x297e34(0x5de)][_0x9049ec][_0x297e34(0x3e9)](_0x525a54);}async[a0_0x1bb7e5(0x798)]({instanceName:_0x23578a},_0x17a794){const _0x50a2ca=a0_0x1bb7e5;return await this['waMonitor'][_0x50a2ca(0x5de)][_0x23578a][_0x50a2ca(0x8d2)](_0x17a794[_0x50a2ca(0x90d)]);}async[a0_0x1bb7e5(0x266)]({instanceName:_0x1fccd6},_0x4f628a){const _0x3898c8=a0_0x1bb7e5;return await this[_0x3898c8(0x5b7)][_0x3898c8(0x5de)][_0x1fccd6][_0x3898c8(0x266)](_0x4f628a[_0x3898c8(0x90d)]);}async['updatePresence']({instanceName:_0x3eb790},_0x4c010f){const _0x4a7ea2=a0_0x1bb7e5;return await this[_0x4a7ea2(0x5b7)][_0x4a7ea2(0x5de)][_0x3eb790][_0x4a7ea2(0x875)](_0x4c010f);}async[a0_0x1bb7e5(0x3e7)]({instanceName:_0x21e8a7},_0x3091d0){const _0x5a8699=a0_0x1bb7e5;return await this[_0x5a8699(0x5b7)][_0x5a8699(0x5de)][_0x21e8a7][_0x5a8699(0x3e7)](_0x3091d0);}async['getBase64FromMediaMessage']({instanceName:_0x59f43e},_0x52d1d8){const _0x25b483=a0_0x1bb7e5;return await this[_0x25b483(0x5b7)][_0x25b483(0x5de)][_0x59f43e][_0x25b483(0x720)](_0x52d1d8);}async[a0_0x1bb7e5(0x57e)]({instanceName:_0x5a73c3},_0x4fc946){const _0xfc272c=a0_0x1bb7e5;return await this[_0xfc272c(0x5b7)][_0xfc272c(0x5de)][_0x5a73c3][_0xfc272c(0x57e)](_0x4fc946);}async[a0_0x1bb7e5(0x728)]({instanceName:_0x138582}){const _0x1c87e3=a0_0x1bb7e5;return await this[_0x1c87e3(0x5b7)]['waInstances'][_0x138582][_0x1c87e3(0x728)]();}async['fetchChats']({instanceName:_0x4a9bdb}){const _0x424b8d=a0_0x1bb7e5;return await this[_0x424b8d(0x5b7)]['waInstances'][_0x4a9bdb][_0x424b8d(0x43c)]();}async[a0_0x1bb7e5(0x2d9)]({instanceName:_0x551459}){const _0x580944=a0_0x1bb7e5;return await this[_0x580944(0x5b7)][_0x580944(0x5de)][_0x551459][_0x580944(0x2d9)]();}async[a0_0x1bb7e5(0x842)]({instanceName:_0x19101d},_0x476c4a){const _0x51c496=a0_0x1bb7e5;return await this[_0x51c496(0x5b7)][_0x51c496(0x5de)][_0x19101d][_0x51c496(0x842)](_0x476c4a);}async['fetchBusinessProfile']({instanceName:_0x5a5010},_0x14b127){const _0x55ee00=a0_0x1bb7e5;return await this[_0x55ee00(0x5b7)][_0x55ee00(0x5de)][_0x5a5010][_0x55ee00(0x59e)](_0x14b127[_0x55ee00(0x90d)]);}async[a0_0x1bb7e5(0x4b9)]({instanceName:_0xd6f1cc},_0x562ced){const _0x5c0b72=a0_0x1bb7e5;return await this[_0x5c0b72(0x5b7)][_0x5c0b72(0x5de)][_0xd6f1cc][_0x5c0b72(0x4b9)](_0x562ced[_0x5c0b72(0x8f0)]);}async['updateProfileStatus']({instanceName:_0xc2f5f0},_0x4d87cf){const _0x279045=a0_0x1bb7e5;return await this[_0x279045(0x5b7)]['waInstances'][_0xc2f5f0][_0x279045(0x5b0)](_0x4d87cf[_0x279045(0x362)]);}async[a0_0x1bb7e5(0x8a2)]({instanceName:_0x101ea9},_0xfbc23f){const _0x491afe=a0_0x1bb7e5;return await this[_0x491afe(0x5b7)][_0x491afe(0x5de)][_0x101ea9][_0x491afe(0x8a2)](_0xfbc23f[_0x491afe(0x541)]);}async['removeProfilePicture']({instanceName:_0x456995},_0x38ce03){const _0x5b2a18=a0_0x1bb7e5;return await this[_0x5b2a18(0x5b7)][_0x5b2a18(0x5de)][_0x456995][_0x5b2a18(0x5dc)]();}},Wt=require(a0_0x1bb7e5(0x41a)),zt=class u{constructor(_0x2cbd25,_0x3cff56,_0xaad4ea,_0x392dd6,_0x38c0e3){const _0x2810b3=a0_0x1bb7e5;this[_0x2810b3(0x5b7)]=_0x2cbd25,this[_0x2810b3(0x3bc)]=_0x3cff56,this['repository']=_0xaad4ea,this['eventEmitter']=_0x392dd6,this[_0x2810b3(0x38e)]=_0x38c0e3,this[_0x2810b3(0x39f)]=new $(u[_0x2810b3(0x8f0)]);}async[a0_0x1bb7e5(0x789)]({instanceName:_0x1371b6,apikey:_0x4bde02,number:_0x2c8861,proxy:_0x4a0c1d=!0x0}){const _0x4e20df=a0_0x1bb7e5;try{let _0xac3ed6=new $e(this[_0x4e20df(0x3bc)],this['eventEmitter'],this[_0x4e20df(0x1da)]);_0xac3ed6['instanceName']=_0x1371b6,this[_0x4e20df(0x5b7)][_0x4e20df(0x5de)][_0xac3ed6[_0x4e20df(0x7fe)]]=_0xac3ed6;let _0x39b0dc={};_0x4bde02?(await this[_0x4e20df(0x1da)]['auth'][_0x4e20df(0x3e3)]({'apikey':_0x4bde02},_0x1371b6),_0x39b0dc[_0x4e20df(0x198)]=_0x4bde02):_0x39b0dc=await this[_0x4e20df(0x38e)]['generateHash']({'instanceName':_0xac3ed6['instanceName']});let _0x2ec335;if(_0x2c8861){if(_0x2ec335=await this[_0x4e20df(0x8b1)](_0x2c8861),_0x2ec335[_0x4e20df(0x834)])throw new x(_0x2ec335['error'][_0x4e20df(0x684)]());_0x2c8861=_0x2ec335[_0x4e20df(0x90d)];}let _0x534174;return await _0xac3ed6[_0x4e20df(0x26c)](_0x2c8861),await(0x0,Wt[_0x4e20df(0x6e3)])(0xfa0),_0x2c8861&&await(0x0,Wt[_0x4e20df(0x6e3)])(0xbb8),_0x534174=_0xac3ed6[_0x4e20df(0x455)],{'instance':{'instanceName':_0xac3ed6['instanceName'],'status':_0x4e20df(0x5d0)},'hash':_0x39b0dc,'qrcode':_0x534174};}catch(_0x64160d){throw this[_0x4e20df(0x39f)][_0x4e20df(0x834)](_0x64160d),_0x64160d;}}async['connectToWhatsappController']({instanceName:_0x4086ce,number:_0x14a87a=null}){const _0x10287d=a0_0x1bb7e5;try{let _0x417d62=this['waMonitor'][_0x10287d(0x5de)][_0x4086ce];switch(_0x417d62?.['connectionStatus']?.[_0x10287d(0x844)]){case _0x10287d(0x66a):return await _0x417d62[_0x10287d(0x26c)](_0x14a87a),await(0x0,Wt[_0x10287d(0x6e3)])(0x7d0),_0x417d62[_0x10287d(0x455)];case _0x10287d(0x19c):return _0x417d62[_0x10287d(0x455)];default:return await this[_0x10287d(0x279)]({'instanceName':_0x4086ce});}}catch(_0xceaa0f){this[_0x10287d(0x39f)][_0x10287d(0x493)](_0xceaa0f);}}async[a0_0x1bb7e5(0x279)]({instanceName:_0x4c5f03}){const _0x34aff5=a0_0x1bb7e5;let _0x19124a=this['waMonitor'][_0x34aff5(0x5de)][_0x4c5f03][_0x34aff5(0x417)],_0x5c4466=null;_0x19124a[_0x34aff5(0x844)]===_0x34aff5(0x4c2)&&_0x4c5f03&&(_0x5c4466=await this['waMonitor']['instanceInfo'](_0x4c5f03));let _0xf4b242=null;return _0x19124a[_0x34aff5(0x844)]==='connecting'&&_0x4c5f03&&(_0xf4b242=this[_0x34aff5(0x5b7)]['waInstances'][_0x4c5f03]['qrCode']),{'instance':_0x4c5f03,'connectionStatus':_0x19124a,'instanceInfo':_0x5c4466,'qrcode':_0xf4b242};}async[a0_0x1bb7e5(0x8b1)](_0x2fa5f0){const _0x2116a7=a0_0x1bb7e5;_0x2fa5f0=_0x2fa5f0[_0x2116a7(0x40f)](/\D/g,'');let _0x6ac300=Object[_0x2116a7(0x312)](this[_0x2116a7(0x5b7)][_0x2116a7(0x5de)])['filter'](_0xf61a91=>{const _0x29f5b1=_0x2116a7;let _0x317ea2=this[_0x29f5b1(0x5b7)]['waInstances'][_0xf61a91];return _0x317ea2&&_0x317ea2[_0x29f5b1(0x417)]&&_0x317ea2[_0x29f5b1(0x417)][_0x29f5b1(0x844)]===_0x29f5b1(0x4c2);});if(_0x6ac300[_0x2116a7(0x1e1)]===0x0)return{'number':this['formatBRNumber'](_0x2fa5f0)};let _0x52bcae=Math[_0x2116a7(0x385)](Math[_0x2116a7(0x3b6)]()*_0x6ac300[_0x2116a7(0x1e1)]),_0xb38ab0=_0x6ac300[_0x52bcae];try{let _0x1bea93=(await this['waMonitor'][_0x2116a7(0x5de)][_0xb38ab0][_0x2116a7(0x596)]({'numbers':[_0x2fa5f0]}))[_0x2116a7(0x239)]();return _0x1bea93[_0x2116a7(0x49c)]?{'number':_0x1bea93[_0x2116a7(0x6c0)][_0x2116a7(0x40f)](_0x2116a7(0x650),'')}:{'number':_0x2fa5f0,'error':_0x2116a7(0x6f3)};}catch(_0x5f3e4f){return this[_0x2116a7(0x39f)]['error'](_0x2116a7(0x7e0)+_0x5f3e4f),{'number':_0x2fa5f0,'error':'Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.'};}}['formatBRNumber'](_0x3c969e){let _0x185090=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x3c969e);if(_0x185090&&_0x185090[0x1]==='55'){let _0x3f2360=_0x185090[0x2],_0x5070f3=_0x185090[0x3],_0x1eb6df=_0x185090[0x4];if(parseInt(_0x3f2360)>=0x1f&&_0x5070f3==='9')return _0x185090[0x1]+_0x3f2360+_0x1eb6df;}return _0x3c969e;}async[a0_0x1bb7e5(0x847)]({instanceName:_0x580a5b}){const _0x58d482=a0_0x1bb7e5;try{return this[_0x58d482(0x5b7)][_0x58d482(0x5de)][_0x580a5b]?.[_0x58d482(0x680)]?.['ws']?.['close'](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x58d482(0x775)}};}catch(_0x25fd10){this[_0x58d482(0x39f)]['error'](_0x25fd10);}}async['fetchInstances']({instanceName:_0xf522c2}){const _0x1e237c=a0_0x1bb7e5;return _0xf522c2?this[_0x1e237c(0x5b7)][_0x1e237c(0x3d4)](_0xf522c2):this[_0x1e237c(0x5b7)][_0x1e237c(0x3d4)]();}async[a0_0x1bb7e5(0x889)]({instanceName:_0x422aad}){const _0x270b74=a0_0x1bb7e5;try{return await this[_0x270b74(0x5b7)][_0x270b74(0x5de)][_0x422aad]?.[_0x270b74(0x680)]?.[_0x270b74(0x889)](_0x270b74(0x1c2)+_0x422aad),{'error':!0x1,'message':_0x270b74(0x62a)};}catch(_0x70f8cc){throw new x(_0x70f8cc[_0x270b74(0x684)]());}}async[a0_0x1bb7e5(0x81f)]({instanceName:_0x46b674}){const _0x5670de=a0_0x1bb7e5;if((await this['connectionState']({'instanceName':_0x46b674}))['connectionStatus'][_0x5670de(0x844)]===_0x5670de(0x4c2))throw new m(['Deletion\x20failed',_0x5670de(0x7d9)]);try{return delete this[_0x5670de(0x5b7)]['waInstances'][_0x46b674],{'error':!0x1,'message':_0x5670de(0x698)};}catch(_0x25897f){throw new m(_0x25897f[_0x5670de(0x684)]());}}},ce=require(a0_0x1bb7e5(0x78a)),Ht=class{constructor(_0x21f78a){const _0x58af61=a0_0x1bb7e5;this[_0x58af61(0x5b7)]=_0x21f78a;}async[a0_0x1bb7e5(0x79b)]({instanceName:_0x410e17},_0x382f33){const _0x3c6595=a0_0x1bb7e5;return await this['waMonitor'][_0x3c6595(0x5de)][_0x410e17]['textMessage'](_0x382f33);}async['sendMenu']({instanceName:_0x23952d},_0x590014){const _0x4d2a7e=a0_0x1bb7e5;return await this[_0x4d2a7e(0x5b7)][_0x4d2a7e(0x5de)][_0x23952d][_0x4d2a7e(0x1d0)](_0x590014);}async[a0_0x1bb7e5(0x739)]({instanceName:_0x387630},_0x18383b){const _0x24ba35=a0_0x1bb7e5;if((0x0,ce['isBase64'])(_0x18383b?.[_0x24ba35(0x897)]?.['media'])&&!_0x18383b?.['mediaMessage']?.[_0x24ba35(0x5a6)])throw new m(_0x24ba35(0x1c0));if((0x0,ce[_0x24ba35(0x73a)])(_0x18383b?.[_0x24ba35(0x897)]?.[_0x24ba35(0x8d7)])||(0x0,ce[_0x24ba35(0x44f)])(_0x18383b?.['mediaMessage']?.[_0x24ba35(0x8d7)]))return await this['waMonitor'][_0x24ba35(0x5de)][_0x387630][_0x24ba35(0x897)](_0x18383b);throw new m(_0x24ba35(0x66b));}async[a0_0x1bb7e5(0x7c8)]({instanceName:_0x4389e1},_0x2573ae){const _0x2839f3=a0_0x1bb7e5;if((0x0,ce[_0x2839f3(0x73a)])(_0x2573ae[_0x2839f3(0x2c1)][_0x2839f3(0x4f5)])||(0x0,ce['isBase64'])(_0x2573ae[_0x2839f3(0x2c1)][_0x2839f3(0x4f5)]))return await this['waMonitor'][_0x2839f3(0x5de)][_0x4389e1][_0x2839f3(0x65d)](_0x2573ae);throw new m(_0x2839f3(0x66b));}async[a0_0x1bb7e5(0x515)]({instanceName:_0x352535},_0x472213){const _0x32abf5=a0_0x1bb7e5;if((0x0,ce['isURL'])(_0x472213['audioMessage']['audio'])||(0x0,ce['isBase64'])(_0x472213['audioMessage'][_0x32abf5(0x582)]))return await this[_0x32abf5(0x5b7)][_0x32abf5(0x5de)][_0x352535]['audioWhatsapp'](_0x472213);throw new m(_0x32abf5(0x66b));}async[a0_0x1bb7e5(0x906)]({instanceName:_0x28f6cc},_0x480732){const _0x13d43f=a0_0x1bb7e5;return await this[_0x13d43f(0x5b7)][_0x13d43f(0x5de)][_0x28f6cc][_0x13d43f(0x4a7)](_0x480732);}async['sendLocation']({instanceName:_0x215e9c},_0x54e49c){const _0x490efb=a0_0x1bb7e5;return await this[_0x490efb(0x5b7)][_0x490efb(0x5de)][_0x215e9c][_0x490efb(0x694)](_0x54e49c);}async['sendPoll']({instanceName:_0x3abecf},_0x47c445){const _0xc93e80=a0_0x1bb7e5;return await this[_0xc93e80(0x5b7)][_0xc93e80(0x5de)][_0x3abecf][_0xc93e80(0x43e)](_0x47c445);}async[a0_0x1bb7e5(0x53a)]({instanceName:_0x5a1196},_0x35e95b){const _0x18c6e0=a0_0x1bb7e5;return await this[_0x18c6e0(0x5b7)][_0x18c6e0(0x5de)][_0x5a1196][_0x18c6e0(0x627)](_0x35e95b);}async[a0_0x1bb7e5(0x475)]({instanceName:_0x53e8d5},_0x4070bd){const _0x4b32cf=a0_0x1bb7e5;return await this[_0x4b32cf(0x5b7)]['waInstances'][_0x53e8d5]['contactMessage'](_0x4070bd);}async[a0_0x1bb7e5(0x195)]({instanceName:_0x125ad6},_0x39e75b){const _0x47202c=a0_0x1bb7e5;if(!_0x39e75b['reactionMessage'][_0x47202c(0x8a9)][_0x47202c(0x5ca)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x47202c(0x60c));return await this[_0x47202c(0x5b7)][_0x47202c(0x5de)][_0x125ad6][_0x47202c(0x1fe)](_0x39e75b);}async[a0_0x1bb7e5(0x211)]({instanceName:_0x2e2069},_0x3c9024){const _0x47dbb4=a0_0x1bb7e5;return await this['waMonitor'][_0x47dbb4(0x5de)][_0x2e2069][_0x47dbb4(0x310)](_0x3c9024);}},Pi=require(a0_0x1bb7e5(0x5a4)),Us=require(a0_0x1bb7e5(0x5e8)),Kt=class u{constructor(_0x273edd,_0x52f371,_0x1eae8d){const _0x310e14=a0_0x1bb7e5;this[_0x310e14(0x3bc)]=_0x273edd,this[_0x310e14(0x5b7)]=_0x52f371,this[_0x310e14(0x1da)]=_0x1eae8d,this[_0x310e14(0x39f)]=new $(u[_0x310e14(0x8f0)]);}async[a0_0x1bb7e5(0x196)](_0x25fb8b){const _0x26bdd2=a0_0x1bb7e5;let _0x322ae9=this[_0x26bdd2(0x3bc)][_0x26bdd2(0x8a5)](_0x26bdd2(0x8f5))[_0x26bdd2(0x350)],_0x29f331=(0x0,Pi[_0x26bdd2(0x8c1)])({'instanceName':_0x25fb8b[_0x26bdd2(0x7fe)],'apiName':it,'tokenId':(0x0,Us['v4'])()},_0x322ae9['SECRET'],{'expiresIn':_0x322ae9[_0x26bdd2(0x2eb)],'encoding':_0x26bdd2(0x42d),'subject':_0x26bdd2(0x51c)}),_0x4c16e5=await this[_0x26bdd2(0x1da)][_0x26bdd2(0x4a4)][_0x26bdd2(0x3e3)]({'jwt':_0x29f331},_0x25fb8b[_0x26bdd2(0x7fe)]);if(_0x4c16e5[_0x26bdd2(0x834)])throw this['logger'][_0x26bdd2(0x834)]({'localError':u[_0x26bdd2(0x8f0)]+_0x26bdd2(0x537),'error':_0x4c16e5[_0x26bdd2(0x834)]}),new m(_0x26bdd2(0x27b),_0x4c16e5['error']?.[_0x26bdd2(0x684)]());return{'jwt':_0x29f331};}async[a0_0x1bb7e5(0x198)](_0x1aa830){const _0x2d7595=a0_0x1bb7e5;let _0x199c23=(0x0,Us['v4'])()[_0x2d7595(0x204)](),_0x22aed1=await this[_0x2d7595(0x1da)][_0x2d7595(0x4a4)][_0x2d7595(0x3e3)]({'apikey':_0x199c23},_0x1aa830['instanceName']);if(_0x22aed1[_0x2d7595(0x834)])throw this[_0x2d7595(0x39f)][_0x2d7595(0x834)]({'localError':u[_0x2d7595(0x8f0)]+_0x2d7595(0x537),'error':_0x22aed1['error']}),new m(_0x2d7595(0x27b),_0x22aed1[_0x2d7595(0x834)]?.[_0x2d7595(0x684)]());return{'apikey':_0x199c23};}async['generateHash'](_0x3caebe){const _0x1ae577=a0_0x1bb7e5;let _0x5f2eab=this['configService'][_0x1ae577(0x8a5)](_0x1ae577(0x8f5));return await this[_0x5f2eab[_0x1ae577(0x572)]](_0x3caebe);}},Qt=class{constructor(_0x1f6719){const _0x2f268c=a0_0x1bb7e5;this[_0x2f268c(0x5b7)]=_0x1f6719;}async[a0_0x1bb7e5(0x67d)](_0xff1228,_0x1dda06){const _0x27e75e=a0_0x1bb7e5;return await this[_0x27e75e(0x5b7)][_0x27e75e(0x5de)][_0xff1228[_0x27e75e(0x7fe)]][_0x27e75e(0x67d)](_0x1dda06);}async[a0_0x1bb7e5(0x1f7)](_0x327f63,_0x467ab2){const _0x471f46=a0_0x1bb7e5;return await this[_0x471f46(0x5b7)]['waInstances'][_0x327f63[_0x471f46(0x7fe)]][_0x471f46(0x1f7)](_0x467ab2);}async[a0_0x1bb7e5(0x26f)](_0x1945f9,_0x4b4a02){const _0x11f914=a0_0x1bb7e5;return await this[_0x11f914(0x5b7)][_0x11f914(0x5de)][_0x1945f9['instanceName']][_0x11f914(0x26f)](_0x4b4a02);}async[a0_0x1bb7e5(0x330)](_0x50e7f7,_0x35d9fa){const _0x399d0e=a0_0x1bb7e5;return await this['waMonitor']['waInstances'][_0x50e7f7[_0x399d0e(0x7fe)]][_0x399d0e(0x330)](_0x35d9fa);}async['groupBetterSetting'](_0x11ca3e,_0x268249){const _0x314a2e=a0_0x1bb7e5;return await this[_0x314a2e(0x5b7)][_0x314a2e(0x5de)][_0x11ca3e[_0x314a2e(0x7fe)]][_0x314a2e(0x5a1)](_0x268249);}async[a0_0x1bb7e5(0x5c2)](_0x5cce16,_0x33af3f){const _0xda6b15=a0_0x1bb7e5;return await this[_0xda6b15(0x5b7)]['waInstances'][_0x5cce16[_0xda6b15(0x7fe)]][_0xda6b15(0x5c2)](_0x33af3f);}async[a0_0x1bb7e5(0x229)](_0x115a9f,_0x52981a){const _0x3ac66b=a0_0x1bb7e5;return await this['waMonitor'][_0x3ac66b(0x5de)][_0x115a9f[_0x3ac66b(0x7fe)]][_0x3ac66b(0x364)](_0x52981a);}async[a0_0x1bb7e5(0x19b)](_0xc7bf37){const _0x1842e6=a0_0x1bb7e5;return await this['waMonitor'][_0x1842e6(0x5de)][_0xc7bf37['instanceName']][_0x1842e6(0x19b)]();}async['inviteCode'](_0x593079,_0x3af62d){const _0x395fcc=a0_0x1bb7e5;return await this[_0x395fcc(0x5b7)][_0x395fcc(0x5de)][_0x593079[_0x395fcc(0x7fe)]][_0x395fcc(0x58d)](_0x3af62d);}async[a0_0x1bb7e5(0x864)](_0x2a1657,_0x3e19c5){const _0x4a67de=a0_0x1bb7e5;return await this[_0x4a67de(0x5b7)][_0x4a67de(0x5de)][_0x2a1657[_0x4a67de(0x7fe)]][_0x4a67de(0x864)](_0x3e19c5);}async[a0_0x1bb7e5(0x1c9)](_0x49a661,_0x21d75c){const _0xbdd9c=a0_0x1bb7e5;return await this[_0xbdd9c(0x5b7)][_0xbdd9c(0x5de)][_0x49a661[_0xbdd9c(0x7fe)]][_0xbdd9c(0x1c9)](_0x21d75c);}async[a0_0x1bb7e5(0x257)](_0x393f3e,_0x3ffbc8){const _0x5e9f4c=a0_0x1bb7e5;return await this[_0x5e9f4c(0x5b7)]['waInstances'][_0x393f3e[_0x5e9f4c(0x7fe)]]['revokeInviteCode'](_0x3ffbc8);}async[a0_0x1bb7e5(0x764)](_0x2b568f,_0x4a49e3){const _0x5a39a6=a0_0x1bb7e5;return await this['waMonitor']['waInstances'][_0x2b568f[_0x5a39a6(0x7fe)]][_0x5a39a6(0x764)](_0x4a49e3);}async['updateGParticipate'](_0xc4f645,_0x471605){const _0x2e859f=a0_0x1bb7e5;return await this[_0x2e859f(0x5b7)][_0x2e859f(0x5de)][_0xc4f645[_0x2e859f(0x7fe)]][_0x2e859f(0x83b)](_0x471605);}async[a0_0x1bb7e5(0x85f)](_0x113f5e,_0x532d6c){const _0x432470=a0_0x1bb7e5;return await this[_0x432470(0x5b7)][_0x432470(0x5de)][_0x113f5e[_0x432470(0x7fe)]][_0x432470(0x85f)](_0x532d6c);}async['leaveGroup'](_0x36109f,_0x11eae5){const _0x3296fd=a0_0x1bb7e5;return await this[_0x3296fd(0x5b7)][_0x3296fd(0x5de)][_0x36109f[_0x3296fd(0x7fe)]][_0x3296fd(0x73e)](_0x11eae5);}},Yt=class{constructor(_0x8638a6){const _0x1eee6b=a0_0x1bb7e5;this[_0x1eee6b(0x5b7)]=_0x8638a6;}[a0_0x1bb7e5(0x3e3)](_0x7c463c,_0x24d838){const _0x3ee9bd=a0_0x1bb7e5;return this[_0x3ee9bd(0x5b7)][_0x3ee9bd(0x5de)][_0x7c463c[_0x3ee9bd(0x7fe)]][_0x3ee9bd(0x5e1)](_0x24d838);}async[a0_0x1bb7e5(0x42f)](_0x45e3f8){const _0x11de41=a0_0x1bb7e5;try{return await this['waMonitor'][_0x11de41(0x5de)][_0x45e3f8[_0x11de41(0x7fe)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},lh=new $('FlowController'),Xt=class{constructor(_0x4fe743){this['waMonitor']=_0x4fe743;}async[a0_0x1bb7e5(0x4a8)](_0x451610,_0x2f9c34){const _0x522d1a=a0_0x1bb7e5;return await this[_0x522d1a(0x5b7)]['waInstances'][_0x451610[_0x522d1a(0x7fe)]]['editScheduleMessage'](_0x2f9c34);}async[a0_0x1bb7e5(0x432)](_0x259af1){const _0x1b6357=a0_0x1bb7e5;return await this[_0x1b6357(0x5b7)][_0x1b6357(0x5de)][_0x259af1[_0x1b6357(0x7fe)]][_0x1b6357(0x432)]();}async[a0_0x1bb7e5(0x5bb)](_0x3fdc43){const _0x8dd3d4=a0_0x1bb7e5;return await this[_0x8dd3d4(0x5b7)][_0x8dd3d4(0x5de)][_0x3fdc43[_0x8dd3d4(0x7fe)]][_0x8dd3d4(0x5bb)]();}async[a0_0x1bb7e5(0x5ae)](_0x1a7cdf){const _0x2c47e7=a0_0x1bb7e5;return await this[_0x2c47e7(0x5b7)][_0x2c47e7(0x5de)][_0x1a7cdf['instanceName']][_0x2c47e7(0x5ae)]();}async[a0_0x1bb7e5(0x85a)](_0x320766,_0xddc30d){const _0x9b70a4=a0_0x1bb7e5;return await this['waMonitor'][_0x9b70a4(0x5de)][_0x320766[_0x9b70a4(0x7fe)]][_0x9b70a4(0x85a)](_0xddc30d);}async['updateCustomFields'](_0x4b7225,_0x2a33d5){const _0x546535=a0_0x1bb7e5;return await this[_0x546535(0x5b7)][_0x546535(0x5de)][_0x4b7225[_0x546535(0x7fe)]][_0x546535(0x3b2)](_0x2a33d5);}async[a0_0x1bb7e5(0x2e9)](_0x348435,_0x3d1bba){const _0x2609fc=a0_0x1bb7e5;return await this[_0x2609fc(0x5b7)]['waInstances'][_0x348435['instanceName']][_0x2609fc(0x2e9)](_0x3d1bba);}async[a0_0x1bb7e5(0x35d)](_0x35b251,_0x495703){const _0x1ba92b=a0_0x1bb7e5;return await this[_0x1ba92b(0x5b7)][_0x1ba92b(0x5de)][_0x35b251[_0x1ba92b(0x7fe)]][_0x1ba92b(0x35d)](_0x495703);}async[a0_0x1bb7e5(0x7a8)](_0x3bc469,_0x54e101){const _0x378b80=a0_0x1bb7e5;return await this[_0x378b80(0x5b7)][_0x378b80(0x5de)][_0x3bc469['instanceName']][_0x378b80(0x7a8)](_0x54e101);}async[a0_0x1bb7e5(0x1b5)](_0x57f8f9,_0x471f57,_0x39feea,_0x31d99c){const _0x22ae69=a0_0x1bb7e5;return await this[_0x22ae69(0x5b7)]['waInstances'][_0x57f8f9]['startFlowWebhook'](_0x471f57,_0x39feea,_0x31d99c);}async['getConversation'](_0xe2abc8,_0x4b1c82){const _0x34a1e3=a0_0x1bb7e5;return await this[_0x34a1e3(0x5b7)][_0x34a1e3(0x5de)][_0xe2abc8[_0x34a1e3(0x7fe)]][_0x34a1e3(0x3b1)](_0x4b1c82);}async[a0_0x1bb7e5(0x3c6)](_0x2566e5,_0x7cfcd8){const _0x34f0fc=a0_0x1bb7e5;return await this['waMonitor'][_0x34f0fc(0x5de)][_0x2566e5['instanceName']][_0x34f0fc(0x3c6)](_0x7cfcd8);}async[a0_0x1bb7e5(0x1aa)](_0x362189,_0x1a74d8){const _0x1f846f=a0_0x1bb7e5;return await this[_0x1f846f(0x5b7)][_0x1f846f(0x5de)][_0x362189[_0x1f846f(0x7fe)]][_0x1f846f(0x1aa)](_0x1a74d8);}async[a0_0x1bb7e5(0x41c)](_0x2f6851,_0x48c3cf){const _0x5264fd=a0_0x1bb7e5;return await this[_0x5264fd(0x5b7)][_0x5264fd(0x5de)][_0x2f6851['instanceName']]['deleteConversation'](_0x48c3cf);}async[a0_0x1bb7e5(0x1e7)](_0x859db8,_0x3709c3){const _0x9f96ef=a0_0x1bb7e5;return await this[_0x9f96ef(0x5b7)]['waInstances'][_0x859db8[_0x9f96ef(0x7fe)]][_0x9f96ef(0x1e7)](_0x3709c3[_0x9f96ef(0x2c4)]);}async[a0_0x1bb7e5(0x3de)](_0x40d61f,_0x3349f5,_0x42eae5){const _0x6d305a=a0_0x1bb7e5;return await this[_0x6d305a(0x5b7)]['waInstances'][_0x40d61f[_0x6d305a(0x7fe)]][_0x6d305a(0x3de)](_0x3349f5,_0x42eae5);}async[a0_0x1bb7e5(0x392)](_0x33c6a2,_0x2eb846,_0x326614){const _0x5e47f0=a0_0x1bb7e5;return await this['waMonitor'][_0x5e47f0(0x5de)][_0x33c6a2[_0x5e47f0(0x7fe)]][_0x5e47f0(0x392)](_0x2eb846,_0x326614);}async[a0_0x1bb7e5(0x50f)](_0x50e2f1,_0x2c3f8c){const _0x2fa2fd=a0_0x1bb7e5;return await this['waMonitor'][_0x2fa2fd(0x5de)][_0x50e2f1[_0x2fa2fd(0x7fe)]]['editFlowBlock'](_0x2c3f8c);}async['editFlowReply'](_0x3e1427,_0x177492){const _0x24af5e=a0_0x1bb7e5;return await this['waMonitor'][_0x24af5e(0x5de)][_0x3e1427[_0x24af5e(0x7fe)]][_0x24af5e(0x65a)](_0x177492);}async[a0_0x1bb7e5(0x7bb)](_0x59c98e,_0x543573){const _0x31d949=a0_0x1bb7e5;return await this['waMonitor'][_0x31d949(0x5de)][_0x59c98e[_0x31d949(0x7fe)]]['editFlowGroup'](_0x543573);}async[a0_0x1bb7e5(0x487)](_0x2b5367,_0x1815cf){const _0x384225=a0_0x1bb7e5;return await this[_0x384225(0x5b7)]['waInstances'][_0x2b5367[_0x384225(0x7fe)]]['editFlowCondition'](_0x1815cf);}async['editFlowVaredit'](_0x63c10d,_0x4abf61){const _0x49c42e=a0_0x1bb7e5;return await this[_0x49c42e(0x5b7)]['waInstances'][_0x63c10d['instanceName']][_0x49c42e(0x827)](_0x4abf61);}async[a0_0x1bb7e5(0x3c9)](_0x45ee6b,_0x5bfcdb){const _0x5c0e88=a0_0x1bb7e5;return await this[_0x5c0e88(0x5b7)][_0x5c0e88(0x5de)][_0x45ee6b[_0x5c0e88(0x7fe)]][_0x5c0e88(0x3c9)](_0x5bfcdb);}async[a0_0x1bb7e5(0x7f2)](_0x5277ce,_0x210e48){const _0x5246a9=a0_0x1bb7e5;return await this['waMonitor'][_0x5246a9(0x5de)][_0x5277ce[_0x5246a9(0x7fe)]][_0x5246a9(0x7f2)](_0x210e48);}async[a0_0x1bb7e5(0x33d)](_0x5cf65c){const _0x3adcc0=a0_0x1bb7e5;return await this[_0x3adcc0(0x5b7)][_0x3adcc0(0x5de)][_0x5cf65c[_0x3adcc0(0x7fe)]][_0x3adcc0(0x33d)]();}},Zt=class{constructor(_0x3d8d48){const _0x48bb6c=a0_0x1bb7e5;this[_0x48bb6c(0x863)]=_0x3d8d48;}async[a0_0x1bb7e5(0x7c6)](_0x1fb079,_0x52c0a2){const _0x44b1f0=a0_0x1bb7e5;return this['webhookService'][_0x44b1f0(0x3e3)](_0x1fb079,_0x52c0a2);}async[a0_0x1bb7e5(0x3a7)](_0x4622c6){const _0x43f4e6=a0_0x1bb7e5;return this['webhookService'][_0x43f4e6(0x42f)](_0x4622c6);}},es=class extends _{constructor(_0x588442,_0x1ac752){const _0x338244=a0_0x1bb7e5;super(_0x1ac752),this[_0x338244(0x602)]=_0x588442,this[_0x338244(0x3bc)]=_0x1ac752;}async[a0_0x1bb7e5(0x3e3)](_0x32766a,_0x3918b8){const _0x49fd87=a0_0x1bb7e5;try{return this[_0x49fd87(0x64b)][_0x49fd87(0x2ab)]?{'insertCount':(await this[_0x49fd87(0x602)]['replaceOne']({'_id':_0x3918b8},{..._0x32766a},{'upsert':!0x0}))[_0x49fd87(0x360)]}:{'insertCount':0x1};}catch(_0x2bcc59){return _0x2bcc59;}}async[a0_0x1bb7e5(0x5f4)](_0x162709){const _0x2a8f2a=a0_0x1bb7e5;try{if(this['dbSettings'][_0x2a8f2a(0x2ab)]){await this[_0x2a8f2a(0x602)]['deleteOne']({'_id':_0x162709});return;}}catch(_0x34d96d){return{'error':_0x34d96d};}}async[a0_0x1bb7e5(0x42f)](_0xa3079f){const _0x18f1fc=a0_0x1bb7e5;try{if(this['dbSettings'][_0x18f1fc(0x2ab)])return await this[_0x18f1fc(0x602)]['findOne']({'_id':_0xa3079f});}catch{return{};}}},ts=class extends _{constructor(_0xa93869,_0x349235){const _0x25ed0c=a0_0x1bb7e5;super(_0x349235),this['authModel']=_0xa93869,this[_0x25ed0c(0x3bc)]=_0x349235,this[_0x25ed0c(0x4a4)]=_0x349235['get']('AUTHENTICATION');}async[a0_0x1bb7e5(0x3e3)](_0x1864df,_0x185905){const _0x306886=a0_0x1bb7e5;try{if(this['dbSettings'][_0x306886(0x2ab)])return{'insertCount':(await this[_0x306886(0x3da)]['updateOne']({'_id':_0x185905},{'$set':{..._0x1864df}},{'upsert':!0x0}))[_0x306886(0x360)]};}catch(_0x1a0109){return{'error':_0x1a0109};}}async[a0_0x1bb7e5(0x4f8)](_0x45519,_0x2e0a20){const _0x14f41c=a0_0x1bb7e5;try{if(this[_0x14f41c(0x64b)]['ENABLED'])return{'insertCount':(await this[_0x14f41c(0x3da)][_0x14f41c(0x8bd)](_0x45519,{'$set':_0x2e0a20},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x14f41c(0x271));}catch(_0x1005b1){return{'error':_0x1005b1};}}async[a0_0x1bb7e5(0x4af)](_0x35ba7c){const _0x9c270e=a0_0x1bb7e5;try{if(this[_0x9c270e(0x64b)][_0x9c270e(0x2ab)])return{'insertCount':(await this[_0x9c270e(0x3da)][_0x9c270e(0x4af)](_0x35ba7c))['deletedCount']};throw new Error(_0x9c270e(0x1f2));}catch(_0x3be6b1){return{'error':_0x3be6b1};}}async[a0_0x1bb7e5(0x5f4)](_0x31cea6){const _0x43bb59=a0_0x1bb7e5;try{if(this['dbSettings']['ENABLED']){await this[_0x43bb59(0x3da)][_0x43bb59(0x4fd)]({'_id':_0x31cea6});return;}}catch(_0x19ede4){return{'error':_0x19ede4};}}async[a0_0x1bb7e5(0x42f)](_0x3adcd0){const _0x1cdfad=a0_0x1bb7e5;try{if(this['dbSettings'][_0x1cdfad(0x2ab)])return await this[_0x1cdfad(0x3da)][_0x1cdfad(0x1fa)]({'_id':_0x3adcd0});}catch{return{};}}async[a0_0x1bb7e5(0x4db)](){const _0x4a423f=a0_0x1bb7e5;try{if(this[_0x4a423f(0x64b)][_0x4a423f(0x2ab)])return await this[_0x4a423f(0x3da)]['find']();}catch{return[];}}async[a0_0x1bb7e5(0x60a)](_0x569ed0){const _0xd80e17=a0_0x1bb7e5;try{if(this[_0xd80e17(0x64b)]['ENABLED'])return await this[_0xd80e17(0x3da)][_0xd80e17(0x42f)](_0x569ed0);}catch{return[];}}},ss=class extends _{async[a0_0x1bb7e5(0x4fd)](_0x54e868){const _0x2cfdfc=a0_0x1bb7e5;try{let _0x4ad852=A(_0x54e868[_0x2cfdfc(0x46a)]);return{'deletedCount':(await Ce['deleteOne'](_0x4ad852))[_0x2cfdfc(0x746)]};}catch(_0x4db2ee){return{'error':_0x4db2ee?.['toString']()};}}async['updateOne'](_0x2fe193,_0x16518e){const _0xc2a9ef=a0_0x1bb7e5;try{let _0x54d696=await Ce[_0xc2a9ef(0x216)](_0x2fe193);return _0x54d696?(Object[_0xc2a9ef(0x2f6)](_0x54d696,_0x16518e),await _0x54d696[_0xc2a9ef(0x499)]()):(console[_0xc2a9ef(0x834)](_0xc2a9ef(0x67f),_0x2fe193),null);}catch(_0x5e691e){return console[_0xc2a9ef(0x834)](_0xc2a9ef(0x2a9),_0x5e691e),null;}}async['createAndSave'](_0x48a545){const _0x50b84d=a0_0x1bb7e5;try{return await new Ce(_0x48a545)['save']();}catch(_0x47585e){return console[_0x50b84d(0x834)]('Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:',_0x47585e),null;}}async[a0_0x1bb7e5(0x4db)](_0x41239f){const _0xc35f51=a0_0x1bb7e5;try{let _0x39080f=_0x41239f['where']??{};return await Ce[_0xc35f51(0x42f)](_0x39080f)[_0xc35f51(0x540)](_0x41239f[_0xc35f51(0x540)]??0x0)['lean']();}catch(_0x2de816){return console[_0xc35f51(0x834)](_0xc35f51(0x7d0),_0x2de816),[];}}async['findOne'](_0x5bdd63){const _0x16ffc2=a0_0x1bb7e5;try{let _0x1bfa98=A(_0x5bdd63[_0x16ffc2(0x46a)]);return await Ce[_0x16ffc2(0x1fa)](_0x1bfa98)[_0x16ffc2(0x5e5)]();}catch{return null;}}},as=class extends _{[a0_0x1bb7e5(0x78e)](_0x34c6de){return Sa(_0x34c6de);}async[a0_0x1bb7e5(0x6ac)](_0xe33b8a){const _0x613ad8=a0_0x1bb7e5;if(_0xe33b8a[_0x613ad8(0x1e1)]!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0xe33b8a[0x0][_0x613ad8(0x435)])[_0x613ad8(0x7f9)]([..._0xe33b8a]))['length']};}catch(_0x770d01){return _0x770d01;}}async['delete'](_0x5aff09,_0x374ecf){const _0x3ac282=a0_0x1bb7e5;try{let _0x15d04a=this[_0x3ac282(0x78e)](_0x374ecf),_0x182cc=A(_0x5aff09[_0x3ac282(0x46a)]);return{'deletedCount':(await _0x15d04a['deleteMany'](_0x182cc))['deletedCount']};}catch(_0x38de81){return{'error':_0x38de81?.['toString']()};}}async['deleteOne'](_0x1bfd53,_0x3ba2cc){const _0x44cb6f=a0_0x1bb7e5;try{let _0x380a93=this['getConversationModelForOwner'](_0x3ba2cc),_0x3b96f1=A(_0x1bfd53[_0x44cb6f(0x46a)]);return{'deletedCount':(await _0x380a93[_0x44cb6f(0x4fd)](_0x3b96f1))[_0x44cb6f(0x746)]};}catch(_0x2425ae){return{'error':_0x2425ae?.[_0x44cb6f(0x684)]()};}}async[a0_0x1bb7e5(0x726)](_0x5b327c,_0x56c534){const _0x5b7ee8=a0_0x1bb7e5;try{if(_0x5b327c[_0x5b7ee8(0x1e1)]===0x0)return;let _0x1633a5=this['getConversationModelForOwner'](_0x56c534),_0x51bf39=_0x5b327c[_0x5b7ee8(0x7b7)](_0x265bb0=>({'updateOne':{'filter':{'name':_0x265bb0[_0x5b7ee8(0x8f0)],'owner':_0x56c534},'update':{..._0x265bb0}}})),{modifiedCount:_0x4c70fe}=await _0x1633a5[_0x5b7ee8(0x1d3)](_0x51bf39);return{'insertCount':_0x4c70fe};}catch{return;}}async['updateMany'](_0x1a329f,_0x4d632f,_0x13087f){const _0x559aea=a0_0x1bb7e5;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x13087f)[_0x559aea(0x8bd)](_0x1a329f,{'$set':_0x4d632f})[_0x559aea(0x868)]())[_0x559aea(0x360)]};}catch(_0x2e3b49){return console['error'](_0x559aea(0x5ec),_0x2e3b49),{'error':_0x2e3b49};}}async[a0_0x1bb7e5(0x3dd)](_0x2c741a,_0x2b07fd,_0x3510b8){const _0x4470ca=a0_0x1bb7e5;try{return await this[_0x4470ca(0x78e)](_0x3510b8)['findOneAndUpdate']({'_id':_0x2c741a},{'$set':_0x2b07fd},{'new':!0x0,'upsert':!0x0})[_0x4470ca(0x5e5)]();}catch(_0x189423){return console[_0x4470ca(0x834)](_0x189423),null;}}async['find'](_0xd6e999,_0xacb8be){const _0x730d29=a0_0x1bb7e5;try{return await this['getConversationModelForOwner'](_0xacb8be)[_0x730d29(0x42f)](_0xd6e999)['sort']({'lastInteraction':-0x1})['lean']();}catch{return[];}}async[a0_0x1bb7e5(0x1fa)](_0x2614f1,_0x24b9e7){const _0x5e5f8f=a0_0x1bb7e5;try{return await this['getConversationModelForOwner'](_0x24b9e7)[_0x5e5f8f(0x1fa)]({..._0x2614f1[_0x5e5f8f(0x46a)]})[_0x5e5f8f(0x5e5)]();}catch{return null;}}async[a0_0x1bb7e5(0x66e)](_0x521851){const _0x362783=a0_0x1bb7e5;try{return await this[_0x362783(0x78e)](_0x521851)['collection']['drop'](),{'success':!0x0};}catch(_0x2aeadc){return console['error'](_0x2aeadc),{'success':!0x1,'error':_0x2aeadc};}}},is=class extends _{[a0_0x1bb7e5(0x2e0)](_0x1e81d7){return Ma(_0x1e81d7);}async[a0_0x1bb7e5(0x1d3)](_0x1e9a99,_0x579584){const _0x4a88a2=a0_0x1bb7e5;try{return await this[_0x4a88a2(0x2e0)](_0x579584)[_0x4a88a2(0x1d3)](_0x1e9a99);}catch(_0x158508){return console['error'](_0x4a88a2(0x6fe),_0x158508),null;}}async[a0_0x1bb7e5(0x3b9)](_0x4695cf,_0x509e4d){const _0x55608d=a0_0x1bb7e5;try{let _0x368e58=this[_0x55608d(0x2e0)](_0x509e4d);return await new _0x368e58(_0x4695cf)[_0x55608d(0x499)]();}catch(_0x5d4f6d){return console[_0x55608d(0x834)](_0x55608d(0x4e4),_0x5d4f6d),null;}}async[a0_0x1bb7e5(0x4fd)](_0x4396b8,_0x1d801a){const _0xfbf903=a0_0x1bb7e5;try{return await this[_0xfbf903(0x2e0)](_0x1d801a)[_0xfbf903(0x677)](_0x4396b8),{};}catch(_0xebd521){return{'error':_0xebd521?.[_0xfbf903(0x684)]()};}}async[a0_0x1bb7e5(0x3dd)](_0xc67ae0,_0xf2e431,_0x5916b6,_0x2cf2d1={}){const _0x4b59de=a0_0x1bb7e5;try{return await this[_0x4b59de(0x2e0)](_0x5916b6)['findOneAndUpdate'](_0xc67ae0,_0xf2e431,{..._0x2cf2d1,'new':!0x0})[_0x4b59de(0x5e5)]();}catch(_0x55dcda){return console['error'](_0x4b59de(0x4ae),_0x55dcda),null;}}async['updateOneById'](_0x5a758f,_0x3898ea,_0x3f72ec){const _0x1ff809=a0_0x1bb7e5;try{return await this[_0x1ff809(0x2e0)](_0x3f72ec)[_0x1ff809(0x241)](_0x5a758f,_0x3898ea,{'new':!0x0})[_0x1ff809(0x5e5)]();}catch(_0x18173f){return console[_0x1ff809(0x834)](_0x1ff809(0x4ae),_0x18173f),null;}}async[a0_0x1bb7e5(0x42f)](_0x4679fa,_0x4b59f3){const _0x5c1371=a0_0x1bb7e5;try{return await this[_0x5c1371(0x2e0)](_0x4b59f3)[_0x5c1371(0x42f)](_0x4679fa[_0x5c1371(0x46a)])[_0x5c1371(0x540)](_0x4679fa?.['limit']??0x0)[_0x5c1371(0x394)]({'when':0x1})[_0x5c1371(0x5e5)]();}catch{return[];}}async[a0_0x1bb7e5(0x1fa)](_0x15758e,_0x298194){const _0x1b58d2=a0_0x1bb7e5;try{return await this[_0x1b58d2(0x2e0)](_0x298194)[_0x1b58d2(0x1fa)](_0x15758e[_0x1b58d2(0x46a)])['sort']({'when':0x1})['lean']();}catch{return null;}}async[a0_0x1bb7e5(0x216)](_0x4a4c03,_0x543934){const _0x55a8d4=a0_0x1bb7e5;try{return await this['getScheduleMessageModelForOwner'](_0x543934)[_0x55a8d4(0x216)](_0x4a4c03)[_0x55a8d4(0x5e5)]();}catch{return null;}}async[a0_0x1bb7e5(0x4af)](_0x630b06,_0x36a29f){const _0x1fe059=a0_0x1bb7e5;try{return{'deletedCount':(await this[_0x1fe059(0x2e0)](_0x36a29f)[_0x1fe059(0x4af)](_0x630b06))[_0x1fe059(0x746)]};}catch(_0xb4b46){return console['error']('Erro\x20ao\x20deletar\x20mensagens:',_0xb4b46),{'error':_0xb4b46};}}async['deleteAll'](_0x1f5e99){const _0xd37780=a0_0x1bb7e5;try{return await this[_0xd37780(0x2e0)](_0x1f5e99)[_0xd37780(0x686)][_0xd37780(0x3df)](),{'success':!0x0};}catch(_0x27c090){return console[_0xd37780(0x834)](_0x27c090),{'success':!0x1,'error':_0x27c090};}}},os=class extends _{async[a0_0x1bb7e5(0x726)](_0x4e2ce0,_0x40850a){const _0x2d75c8=a0_0x1bb7e5;try{if(this[_0x2d75c8(0x64b)][_0x2d75c8(0x2ab)])return await Ie[_0x2d75c8(0x575)]({'_id':_0x40850a},{'$set':_0x4e2ce0},{'new':!0x0});}catch(_0x1061dc){throw console['error'](_0x2d75c8(0x242),_0x1061dc),_0x1061dc;}}async[a0_0x1bb7e5(0x705)](_0x28a989){const _0x165666=a0_0x1bb7e5;try{let _0x3e7bd9=await Ie[_0x165666(0x216)](_0x28a989);return _0x3e7bd9?_0x3e7bd9[_0x165666(0x58a)]||(_0x3e7bd9[_0x165666(0x58a)]=[],await _0x3e7bd9[_0x165666(0x499)]()):(_0x3e7bd9=new Ie({'_id':_0x28a989,'autoCompleteMessages':[]}),await _0x3e7bd9[_0x165666(0x499)]()),_0x3e7bd9;}catch(_0x203d38){return _0x203d38[_0x165666(0x3c8)]===0x2af8&&_0x203d38[_0x165666(0x666)]&&_0x203d38[_0x165666(0x666)][_0x165666(0x500)]?(console[_0x165666(0x834)]('Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...'),await Ie['collection']['dropIndex'](_0x165666(0x298)),null):(console['error'](_0x165666(0x79d),_0x203d38),null);}}},jo=new $('WA\x20MODULE'),Jo=new Ke(S),qo=new Jt(S),Vo=new rt(S),Go=new qt(oa,S),Bo=new Vt(na,S),Wo=new es(ha,S),zo=new ts(ua,S),Ho=new Ne(Be,S),Ko=new ss(S),Qo=new Gt(S),Yo=new as(S),Xo=new is(S),Zo=new os(S),fe=new ze(Jo,qo,Vo,Go,Bo,Wo,zo,Ho,Ko,Yo,Qo,Xo,Zo,I?.[a0_0x1bb7e5(0x713)]()),G=new jt(hs,S,fe),er=new Kt(S,G,fe),tr=new Yt(G),As=new Zt(tr),O=new Xt(G),de=new zt(G,S,fe,hs,er),W=new Ht(G),D=new Bt(G),q=new Qt(G);jo[a0_0x1bb7e5(0x6b1)](a0_0x1bb7e5(0x38d));var Rg=require(a0_0x1bb7e5(0x2a7)),js=require('fs'),Di=T(require('https')),ki=T(require('http')),Ue=class u{static #e;static set[a0_0x1bb7e5(0x277)](_0x3eee51){this.#e=_0x3eee51;}static get[a0_0x1bb7e5(0x777)](){const _0x16a077=a0_0x1bb7e5;let {FULLCHAIN:_0x34ba5d,PRIVKEY:_0x5a9ebb}=S['get'](_0x16a077(0x427));return Di[_0x16a077(0x30d)]({'cert':(0x0,js[_0x16a077(0x869)])(_0x34ba5d),'key':(0x0,js['readFileSync'])(_0x5a9ebb)},u.#e);}static get['http'](){const _0x5a3f5e=a0_0x1bb7e5;return ki[_0x5a3f5e(0x30d)](u.#e);}},je=T(require('fs')),qi=T(require('ini')),Je=T(require(a0_0x1bb7e5(0x711))),ns=T(require(a0_0x1bb7e5(0x255))),rs=require(a0_0x1bb7e5(0x788));function sr(){const _0x250538=a0_0x1bb7e5;G[_0x250538(0x45f)]();let _0xbd9904=ns['default'][_0x250538(0x518)](__dirname,_0x250538(0x1e6));Ji(_0xbd9904);}var Ji=_0x437c35=>{const _0x7c1f39=a0_0x1bb7e5;let _0xcc0e63=je[_0x7c1f39(0x4b7)][_0x7c1f39(0x2a0)](_0x437c35),_0x27840e=0xc*0x3c*0x3c*0x3e8,_0x4044c2=0x2*0x3c*0x3c*0x3e8,_0x2865e6=new Date()[_0x7c1f39(0x391)]();_0xcc0e63[_0x7c1f39(0x70b)](_0xff7ba4=>{const _0x5ed2c4=_0x7c1f39;let _0x16e896=ns[_0x5ed2c4(0x4b7)][_0x5ed2c4(0x518)](_0x437c35,_0xff7ba4),_0x3fa5f7=je[_0x5ed2c4(0x4b7)]['statSync'](_0x16e896)[_0x5ed2c4(0x7be)][_0x5ed2c4(0x391)]();_0x2865e6-_0x3fa5f7>_0x27840e&&(je['default'][_0x5ed2c4(0x721)](_0x16e896),console[_0x5ed2c4(0x493)]('Deleted\x20'+_0xff7ba4));}),setTimeout(()=>Ji(_0x437c35),_0x4044c2);};function ar(){const _0x5b241e=a0_0x1bb7e5;let _0x421250=new $(_0x5b241e(0x687)),_0x59152f=(0x0,ye[_0x5b241e(0x4b7)])();_0x59152f[_0x5b241e(0x19d)]((0x0,ji[_0x5b241e(0x4b7)])({'origin'(_0x260a81,_0x36f251){const _0x3b444c=_0x5b241e;let {ORIGIN:_0x38c131}=S[_0x3b444c(0x8a5)](_0x3b444c(0x7cb));return _0x260a81||(_0x260a81='*'),_0x38c131[_0x3b444c(0x267)]('*')!==-0x1||_0x38c131[_0x3b444c(0x267)](_0x260a81)!==-0x1?_0x36f251(null,!0x0):_0x36f251(new Error(_0x3b444c(0x4bb)));},'methods':[...S['get']('CORS')[_0x5b241e(0x7cf)]],'credentials':S[_0x5b241e(0x8a5)](_0x5b241e(0x7cb))['CREDENTIALS']}),(0x0,ye[_0x5b241e(0x34f)])({'extended':!0x0,'limit':_0x5b241e(0x6b2)}),(0x0,ye['json'])({'limit':_0x5b241e(0x6b2)})),_0x59152f['use']((_0x56c896,_0x49c5a4,_0x3a9755)=>{const _0x2113a8=_0x5b241e;_0x56c896['path']['startsWith'](_0x2113a8(0x3d8))?_0x3a9755():(0x0,Ui[_0x2113a8(0x4b7)])()(_0x56c896,_0x49c5a4,_0x3a9755);}),_0x59152f[_0x5b241e(0x466)](_0x5b241e(0x2c7),_0x5b241e(0x71b)),_0x59152f[_0x5b241e(0x466)]('views',(0x0,qs['join'])(le,_0x5b241e(0x6ed))),_0x59152f['use'](ye[_0x5b241e(0x4b7)][_0x5b241e(0x4b2)]((0x0,qs[_0x5b241e(0x518)])(le,'public'))),_0x59152f[_0x5b241e(0x19d)]((_0x4eb601,_0x19c58f,_0x32d361)=>{const _0x478a82=_0x5b241e;let _0x481f7b=_0x19c58f['send'];_0x19c58f[_0x478a82(0x302)]=function(_0x14c3f6){const _0x24fba5=_0x478a82;if(_0x4eb601[_0x24fba5(0x91a)][_0x24fba5(0x5c1)]==='true'||_0x4eb601['headers'][_0x24fba5(0x433)]==='true'){let _0x2b49a8=JSON['parse'](_0x14c3f6);_0x14c3f6=JSON[_0x24fba5(0x84a)](_0x861993(_0x2b49a8));}return _0x481f7b[_0x24fba5(0x6a9)](_0x19c58f,[_0x14c3f6]);},_0x32d361();}),_0x59152f[_0x5b241e(0x19d)]('/',ke),_0x59152f[_0x5b241e(0x19d)]((_0x3a3962,_0x271ea6,_0x6cbb86,_0xe5b5fe)=>{const _0x63485f=_0x5b241e;if(_0x3a3962)return _0x6cbb86[_0x63485f(0x362)](_0x3a3962[_0x63485f(0x362)]||0x1f4)[_0x63485f(0x54e)](_0x3a3962);},(_0x44b96c,_0xe34af9,_0x5293af)=>{const _0x23a1d8=_0x5b241e;let {method:_0x57819a,url:_0x6e09d9}=_0x44b96c;_0xe34af9[_0x23a1d8(0x362)](0x194)['json']({'status':0x194,'message':_0x23a1d8(0x663)+_0x57819a['toUpperCase']()+'\x20'+_0x6e09d9,'error':'Not\x20Found'}),_0x5293af();});let _0x861993=(_0x4ba4a8,_0x3abc14=_0x5b241e(0x773))=>{const _0x943b9b=_0x5b241e;let _0x35b342=(_0x3e2f2a,_0x3a2886=null,_0x54b880=!0x1)=>{const _0x585337=a0_0x5772;let _0xb5c94a={};return Object[_0x585337(0x312)](_0x3e2f2a)[_0x585337(0x70b)](_0x2ba783=>{const _0x388203=_0x585337;let _0x505dcb=_0x3e2f2a[_0x2ba783],_0x57d5a4=''+_0x3abc14+_0x2ba783;_0x3a2886&&!_0x54b880&&(_0x57d5a4=_0x3a2886+'.'+_0x2ba783),!_0x505dcb&&_0x505dcb!==0x0&&_0x505dcb!==!0x1||typeof _0x505dcb>'u'?_0xb5c94a[_0x57d5a4]=null:typeof _0x505dcb!=_0x388203(0x8d4)&&!Array[_0x388203(0x3ec)](_0x505dcb)?_0xb5c94a[_0x57d5a4]=_0x505dcb:typeof _0x505dcb==_0x388203(0x8d4)&&!Array[_0x388203(0x3ec)](_0x505dcb)?_0xb5c94a=Object['assign'](_0xb5c94a,_0x35b342(_0x505dcb,_0x57d5a4)):Array[_0x388203(0x3ec)](_0x505dcb)&&(typeof _0x505dcb[0x0]=='object'?(_0xb5c94a[_0x57d5a4]=[],_0x505dcb[_0x388203(0x70b)](_0x1e09c5=>{const _0x4832fa=_0x388203;_0xb5c94a[_0x57d5a4][_0x4832fa(0x62c)](_0x35b342(_0x1e09c5,_0x57d5a4,!0x0));})):_0xb5c94a[_0x57d5a4]=_0x505dcb);}),_0xb5c94a;};return Array[_0x943b9b(0x3ec)](_0x4ba4a8)?_0x4ba4a8[_0x943b9b(0x7b7)](_0x1b1f0d=>_0x35b342(_0x1b1f0d)):typeof _0x4ba4a8==_0x943b9b(0x8d4)&&_0x4ba4a8!==null?_0x35b342(_0x4ba4a8):{};},_0x595aee=S['get'](_0x5b241e(0x687));Ue[_0x5b241e(0x277)]=_0x59152f;let _0x5e6835=Ue[_0x595aee[_0x5b241e(0x572)]],_0x650684='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x5e6835[_0x5b241e(0x20c)](_0x595aee[_0x5b241e(0x261)],()=>{const _0x46d283=_0x5b241e;_0x421250[_0x46d283(0x493)](_0x650684),_0x421250['log'](_0x595aee[_0x46d283(0x572)]['toUpperCase']()+'\x20-\x20ON:\x20'+_0x595aee[_0x46d283(0x261)]);}),sr(),Zs();}var ir=a0_0x1bb7e5(0x6b5),or=ns[a0_0x1bb7e5(0x4b7)][a0_0x1bb7e5(0x518)](__dirname,a0_0x1bb7e5(0x41f)),Re=null;function rr(){return new Promise((_0x57ac6c,_0x56c07f)=>{const _0x1f3e16=a0_0x5772;je['default'][_0x1f3e16(0x5f1)](or,_0x1f3e16(0x6db),(_0x1de82f,_0x5313e3)=>{const _0x462561=_0x1f3e16;if(_0x1de82f){Re=_0x1de82f,_0x57ac6c();return;}qi[_0x462561(0x4b7)][_0x462561(0x841)](_0x5313e3)[_0x462561(0x55e)][_0x462561(0x8dc)]===ir?(Re=null,_0x57ac6c()):(Re=new Error(_0x462561(0x80f)),_0x57ac6c());});});}async function nr(){const _0x2d0235=a0_0x1bb7e5;try{await rr(),await Vs();}catch(_0x3d4f50){console[_0x2d0235(0x834)](_0x2d0235(0x42c)+_0x3d4f50),process[_0x2d0235(0x280)](0x1);}}nr();async function Vi(){const _0xdd6c8d=a0_0x1bb7e5;let _0x433f16;try{_0x433f16=(await Je[_0xdd6c8d(0x4b7)][_0xdd6c8d(0x8a5)](_0xdd6c8d(0x3ca)))[_0xdd6c8d(0x2b3)]['ip'];}catch(_0x20d076){console[_0xdd6c8d(0x834)](_0x20d076);try{_0x433f16=(await Je['default'][_0xdd6c8d(0x8a5)](_0xdd6c8d(0x200)))[_0xdd6c8d(0x2b3)]['ip'];}catch(_0x4e0f3b){console[_0xdd6c8d(0x834)](_0x4e0f3b);try{_0x433f16=(await Je[_0xdd6c8d(0x4b7)][_0xdd6c8d(0x8a5)](_0xdd6c8d(0x61b)))[_0xdd6c8d(0x2b3)][_0xdd6c8d(0x5ca)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x2f5bae){return console['error'](_0x2f5bae),!0x1;}}}return _0x433f16;}var Li=0x0;async function cr(){const _0x2b7352=a0_0x1bb7e5;let _0x55085f=await new pe(S[_0x2b7352(0x8a5)](_0x2b7352(0x670)))[_0x2b7352(0x6a3)]();return console['log'](_0x2b7352(0x5b1),_0x55085f[_0x2b7352(0x1e1)]),_0x55085f[_0x2b7352(0x1e1)];}function lr(_0x2e05ae){const _0x4e7710=a0_0x1bb7e5;let _0x4c18e5=_0x2e05ae[_0x4e7710(0x8a5)]('SERVER')[_0x4e7710(0x859)],_0x59711a=_0x2e05ae['get'](_0x4e7710(0x427));console[_0x4e7710(0x493)](_0x4e7710(0x228),_0x4c18e5),console[_0x4e7710(0x493)](_0x4e7710(0x87f),_0x59711a);let _0x57ac1a='',_0x1cb522=_0x4c18e5||'';if(_0x4c18e5){let _0x2ec3d8=_0x4c18e5[_0x4e7710(0x5ca)](/\/\/(.*?)\./);console['log'](_0x4e7710(0x55d),_0x2ec3d8),_0x2ec3d8&&_0x2ec3d8[0x1]&&(_0x57ac1a=_0x2ec3d8[0x1],console[_0x4e7710(0x493)](_0x4e7710(0x88f),_0x57ac1a));}if(!_0x57ac1a&&_0x59711a&&_0x59711a[_0x4e7710(0x319)]){let _0x5c2ca4=_0x59711a[_0x4e7710(0x319)]['split']('/');console[_0x4e7710(0x493)](_0x4e7710(0x8b8),_0x5c2ca4);let _0x4f3091=_0x5c2ca4[_0x5c2ca4[_0x4e7710(0x1e1)]-0x2];if(console[_0x4e7710(0x493)](_0x4e7710(0x813),_0x4f3091),_0x4f3091){let _0x485bb3=_0x4f3091[_0x4e7710(0x53e)]('.');console[_0x4e7710(0x493)](_0x4e7710(0x7d3),_0x485bb3),_0x485bb3[_0x4e7710(0x1e1)]>0x2&&(_0x57ac1a=_0x485bb3[0x0],console[_0x4e7710(0x493)](_0x4e7710(0x34d),_0x57ac1a),_0x1cb522=''+_0x4f3091);}}return{'subdomain':_0x57ac1a||_0x4e7710(0x800),'fullURL':_0x1cb522||'URL\x20não\x20disponível'};}var {subdomain:B,fullURL:Gs}=lr(S);console[a0_0x1bb7e5(0x493)](a0_0x1bb7e5(0x1d6),B),console['log'](a0_0x1bb7e5(0x55f),Gs);function a0_0x30bb(){const _0x17d36=['Erro\x20ao\x20buscar\x20fluxos:','less','https://','Partes\x20do\x20domínio:','contactsArrayMessage','isAdmin','generateRandomIPv6','updateProfilePicturePrivacy','.X-ABLabel:Celular\x0a','The\x20instance\x20needs\x20to\x20be\x20disconnected','DATABASE','nome','generate','latitude','updateStatusPrivacy','sendPresenceUpdate','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','atendimentoAberto','debug','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','/clients-info','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','):\x20Editando\x20edição\x20do\x20fluxo...','globalShow','greater','URI','selectedId','):\x20Instancia\x20isBusiness:\x20','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','\x1b[36m%s\x1b[0m','stopIfLastReturnedError','repeat','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','testingWith','deleteFlow','uazapiDeleteMessage','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','buttons','urlOrBase64','https://api.openai.com/v1/images/generations','.mp3','insertMany','Erro\x20ao\x20deletar\x20chat:','createConnection','array','):\x20Fluxo\x20\x27','instanceName','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','Subdomínio\x20não\x20encontrado','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','contact','synchronizeAndMapFlows','findAndUpdateCacheContact','importChatsAntigo','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','editOperator','scheduleSendAudio','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','groupUpdateDescription','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','getHours','HOST','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','Erro\x20ao\x20atualizar\x20cacheInstance:','\x1b[40m','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','closed','STORE_CONTACTS','):\x20customFieldVariables','\x20adicionado\x20ao\x20chat\x20','pairingCode','):\x20Enviando\x20contato','):\x20Criando\x20nova\x20conversa[createNewConversation]','):\x20updateResult:','eventEmitter','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','.ogg','deleteInstance','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','errorLog','subjectOwner','saveCreds','localWebhook','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','editFlowVaredit','getMonth','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','markMessageAsRead','api','documentMessage','Type\x20is\x20required','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','}}\x20->\x20\x22','mkdirSync','statusCode','\x27\x20não\x20encontrado\x20na\x20memória','error','No\x20suitable\x20network\x20interface\x20found','DOCKER_ENV','instanceCount','chats.update','timeInMinutes','then','updateGParticipant','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','headers','request_method','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','parse','updatePrivacySettings','groupJoinApprovalMode','state','#ffffff','getStatus','restartInstance','content-type','Font\x20is\x20required','stringify','@g.us','notify','result','Erro\x20ao\x20normalizar\x20a\x20mensagem:','):\x20sender\x20=\x20number:\x20','getOwnPropertyNames','^\x5cd+','replaceVariablesInReplyOptions','delayChatLabel_MAX_RETRIES','processPollUpdateMessage','flattenObject','\x20não\x20encontrado\x20para\x20atualização.','-whatsapp-api','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','URL','updateAgent','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','Type\x20not\x20found','groupdata.participants','randomMac','toggleEphemeral','wuid','chatModify','scheduleNextCheck','webhookService','joinGroup','message','leadInfo','#64c4ff','exec','readFileSync','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20',',\x20isAdmin:\x20','PREFIX_KEY','pendingMessages','Esse\x20fluxo\x20não\x20permite\x20importação.','joinGroupValidate','):\x20Criando\x20fluxo\x20compartilhado...','Fluxos\x20não\x20estão\x20ativados','endSession','cachedContact','CONTACTS_SET','updatePresence','util','updateMissingCustomFields','STORE_CLEANING_TERMINAL','cacheContact','/webhook','cleaningUp','joinApprovalMode','../env.yml','size','Configuração\x20SSL\x20recuperada:','Não\x20respondeu\x20com\x20a\x20enquete.','LOG','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','GROUPS_UPDATE','):\x20Editando\x20grupo\x20do\x20fluxo...','Missing\x20global\x20api\x20key','authState','\x20mensagens\x20de\x20','beautifyWithPlaceholders','logout','flowActive','):Processing\x20audio','):\x20Bloco\x20original\x20para\x20cópia:\x20','):\x20tem\x20blocks','Connection','Subdomínio\x20extraído\x20da\x20URL:','/media/','addReplyOption','Mensagem\x20não\x20suportada','mediatype','.png','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','firstValue','mediaMessage','list3','):Trying\x20to\x20get\x20business\x20profile','groupRequestParticipantsUpdate','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','string','setting','!cmd_','telefone','):Image\x20is\x20base64','Erro\x20ao\x20alterar\x20fluxo','updateProfilePicture','_second','announce','get','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','720432awCdCs','buttonText','reaction','loadWebhook','delayMessage','composing','trim','preview','dataValidate','conversationTimestamp','verifyWhatsAppNumber','group','rows','Connection\x20closed\x20for\x20instance:\x20','):\x20Editando\x20bloco...','archived','senderKeyDistributionMessage','Partes\x20do\x20caminho\x20FULLCHAIN:','):\x20newFirstValue\x20após\x20replaceVariables:','notas','messageStubParameters','Schema','updateMany','button','):\x20Enviando\x20áudio','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','sign','presenceSubscribe','some','findMessages','_error','mimetype','true','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','Fluxo\x20agendado\x20pelo\x20fluxo\x20','apiResponse','organization','CONTACTS_UPDATE','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','writeFileSync','put','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','profilePicture','https://uazapi-plugin.bubbleapps.io/','object','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','^\x5cd+([-]\x5cd+)*@g.us$','media','\x27...','pow','waUploadToServer','oldToken','url','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','LOG_LEVEL','src','stanzaId','descOwner','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','encoding','error\x20get\x20vote','evaluateCondition','reorderMessages','messageContextInfo','sendPoll','):\x20Enviando\x20enquete','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','licenca','trimmed','8080','):Audio\x20converted\x20and\x20stored\x20in\x20cache','replaceVariablesChat','name','\x22\x20-\x20NOT\x20CONNECTION','variablesToObject','_year','convertToWebP','AUTHENTICATION','getValidWhatsAppNumbers','buttonParamsJson','importChatsBatch','readreceipts','\x20do\x20chat\x20','connect','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','decryptPollVote','groupMetadata','scheduleFlow','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','document','oldValue','\x20não\x20encontrado','getDate','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','sendButtons','\x1b[34m%s\x1b[0m','#f64847','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','list2','defineAuthState','queue','number','sendMessageWithTyping','video-cover.png','params','\x1b[1m','allflows','DD/MM\x20HH:mm:ss','connectedName','getUniqueFlowName','):Desconectado,\x20parando\x20execução.','_hour','groupadd','readData','query','uazapiSendContact','processConditionsTest','request\x20received\x20in\x20editFlow','varedit','/wa-message','Last\x20message\x20not\x20found','next_groupId','header','groups.update','AutomateSystem\x20não\x20foi\x20inicializado','flowName','Filtered\x20network\x20interfaces:\x20','contactMessage','Stack\x20trace:','admin_add','Chat\x20com\x20ID\x20','list','leadInfo.desativadoFluxoAte','execSync','readMessage','dbConnection','Flow\x20\x27','sendReaction','jwt','Valor\x20inicial:\x20\x22','apikey','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','start','findGroups','connecting','use','.error','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','Types','Erro\x20ao\x20editar\x20a\x20conversa','loadEnv','isRunning','arraybuffer',',\x20global:\x20','readMessageBot','viewOnceMessageV2','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','findContacts','editConversation','console','Error\x20in\x20chatModify\x20for\x20number\x20','Error\x20fetching\x20and\x20updating\x20profile:\x20','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','processclearVariables','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','Instância\x20não\x20encontrada.','proxy:\x20','startFlowWebhook','removeInstance','getDelay','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','docker','request\x20body:\x20','updateGroupParticipantsWebhook','Primeiro\x20Valor:\x20','warn','findRealGroups','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','cta_url','Log\x20out\x20instance:\x20','Telefone:\x20','activatedCount','):\x20Deletando\x20conversa...','selectableCount','Bad\x20Request','longitude','groupGetInviteInfo','Selecione','presence','HH:mm:ss','listResponseMessage','#ff9484','ff:fe','menuMessage','updateChatGroupData','replaceVariablesInObject','bulkWrite','store','request\x20received\x20in\x20editFlowvariable','Subdomínio\x20final:','verbose','group-participants.update','sendMessageWithRetry','repository','320573LCzSzs','/wa-groups','replyOption','/wa-presence','count','):\x20não\x20encontrou','length','isValidAndUniqueIPv6','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','246460yAsfXx','imgUrl','downloads','getFlow','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','INFO','):including\x20timestamp\x20in\x20url:\x20','RemoveChatLabel','compression','Db\x20Connection','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','fromMe','formatBRNumber','updateOneById','[AUTH]\x20Database\x20is\x20not\x20enabled','removeData','Fluxo\x20id\x20\x27','sendMessageWithTypingButtons','out','updateGroupPicture','updateGroupsAddPrivacy','originalUrl','findOne','Read\x20messages','matchRegex','cacheInstanceRepository','reactionMessage','\x1b[33m%s\x1b[0m','https://api.ipify.org?format=json','privacySettings','presence.update','authentication','toUpperCase','groups','Error\x20updating\x20cache\x20contact:','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','/wa-chats','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','mongodb','shareFlow','listen','apiName','):\x20transformedCustomFieldVariables','\x1b[46m','):\x20mediaMessageInfoId\x20:\x20','sendStatus','Variável\x20não\x20encontrada!','enviado\x20para','fone','footer','findById','):\x20Enviando\x20localização','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','label','all','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','processvaredits','\x20inseridos\x20no\x20banco\x20de\x20dados...','flow','participant','delaySecMax','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','fromObject','reject','isCommunity','Valor\x20da\x20URL\x20recuperada:','findGroupInfo','reconnectAttempts','SERVER_TYPE','reorderBlocks','stopMinutes','detail','vote','whatsappNumbers','groupFetchAllParticipating','request\x20received\x20in\x20scheduleMessage','ephemeralExpiration','cpf','done','quick_reply','stderr','STORE_MESSAGE','shift','jsonschema','automateSystem','Pausado\x20por\x20','):\x20Criou\x20conversa\x20no\x20startFlow','\x20segundos','*Teste\x20de\x20Título*\x0a\x0aDescrição\x20de\x20Teste\x0a','getTicketSystem','findByIdAndUpdate','Erro\x20ao\x20atualizar\x20AutomateSystem:','request\x20received\x20in\x20fetchConversation','variable','https://ifconfig.me/ip','isJidUser','remove.instance','):Image\x20path:\x20','deleteBlock','call','memberAddMode','creation','STORE','-instances','CacheContacts\x20database\x20connection\x20closed.','enabled','Instance\x20Key\x20from\x20DB:','_ScheduleMessages','waitingMenu_ExpiredMessage','Enter\x20a\x20value\x20in\x20milliseconds','path','findLabels','revokeInviteCode','URL:','\x27\x20não\x20encontrado','optionDescription','chats','addToProcessedMessages','Falha\x20ao\x20recriar\x20IPv6.','):Sending\x20audio\x20whatsapp','Erro\x20ao\x20tentar\x20autoCompleteMessages','chatLog','PORT','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','messaging-history.set','\x20minutos.\x20Será\x20às\x20','lastFetchAwaitingApproval','fetchProfile','indexOf','Limpando\x20logs\x20do\x20PM2...','restrict','eventemitter2','processblock','connectToWhatsapp','MESSAGES_SET','$addToSet','groupDesc','reorderReplyOptions','Database\x20is\x20not\x20enabled','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','leadInfo.atendimentoAberto','color','profile','sha256','app','editflowvariable','connectionState','):Business\x20profile\x20fetched','Authentication\x20error','uncaughtException','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','):\x20whoCanUse\x20after\x20validation:\x20','/instance/create','exit','ERROR','secondValue','):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','?authSource=admin&readPreference=primary&directConnection=true','findAndReplace','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','#fe9dfe','updateGroupWebhook','none','context','yes','shareOwners','isValidIPv6Config','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','redirect','The\x20\x22','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','request\x20received\x20in\x20allFlows','blockLogs','lastMessage','\x20com\x20sucesso.','autoCompleteMessages.command_1','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','isJidGroup','getUpdate','.TEL;waid=','):\x20Buscando\x20conversas...','mentioned','readdirSync','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','):\x20Editando\x20replyOption...','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','PRIVKEY','Nenhum\x20participante\x20válido\x20encontrado.','fetchInstances','express-async-errors','2552CjqzgY','Erro\x20ao\x20atualizar\x20o\x20fluxo:',',\x20Minutes\x20to\x20Close:\x20','ENABLED','instanceName\x20not\x20provided.','ChatModel','QRCODE_UPDATED','this.reconnectAttempts:\x20','notEqual','Mensagens\x20deletadas\x20com\x20sucesso.','StartID:','data','_fromMe','Data\x20inválida\x20fornecida','4ASTfFA','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','qrcode-terminal','getSeconds','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','slice','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','pollCreationMessageV2','editedMessage','findIndex','#9ba6ff','stickerMessage','groupdata','createClient','_id','storePath','locked','view\x20engine','vcard','Botão\x202','replaceValue','ex:\x20\x22groupJid=120362@g.us\x22','groupCreate','getPrototypeOf','format','CLEANING_INTERVAL','buffer','scheduleSendMedia','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','READ','notMatchRegex','findManyByIds','Instance\x20\x22','routerPath','isListOfNumbers','fetchPrivacySettings','ConversationModel','MAX_SAFE_INTEGER','/wa-message-update','whoCanUse','description','process','getScheduleMessageModelForOwner','Cache-Control','API_KEY','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','\x1b[33m\x1b[1m','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','\x1b[31m','enumerable','):\x20Error\x20processing\x20the\x20block:\x20','updateAutoCompleteMessages','rowId','EXPIRIN_IN','labelId','.webp','dbServer','sim','undefined','@ffmpeg-installer/ffmpeg','):\x20nextBlock.uazapi.name','mongoose','removeUnusedChatFields','#ffc5c7','assign','webhookMap','ObjectId','):\x20Entrou\x20na\x20função\x20clearVariables','Error\x20finding\x20many\x20contacts:','setUpdate','DB_PREFIX_NAME','Mac\x20OS','Início','):\x20debug\x20alterando\x20this.AutomateSystem','SERVER_PORT','response','send','cachedData-whatsapp','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','https://chat.whatsapp.com/','updateStopChat','https://api.elevenlabs.io/v1/text-to-speech/','substring','3EB0','47436UiISJm','.ogv','Database\x20connection\x20closed.','createServer','redisEnv','updateMediaMessage','statusMessage','\x20ao\x20chat\x20','keys','isBusiness','keep-alive','editflowblock','addChatLabel','Bloco\x20com\x20ID\x20','Router','FULLCHAIN','Nenhum\x20chat\x20encontrado\x20para\x20editar.','notEmpty','selectedOptions','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','startCommand','!stop','messages.update','_sender','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','\x20removido\x20do\x20chat\x20','VERBOSE','idSchedule','#92ceac','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','values','\x20}\x0a','Erro\x20ao\x20atualizar\x20agendamento\x20','retrySendMessage','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','[\x20SYSTEM\x20-\x20UAZAPI\x20]\x20-\x20Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la','groupName','\x1b[30m','redis://127.0.0.1:6379','waitingMenu_id','catch','minutesToClose','):\x20Conversa\x20inserida\x20com\x20sucesso.','messageId','IPv6\x20address\x20removed:\x20','request\x20received\x20in\x20deleteDoneMessages','SINGLE_SELECT','toLocaleString','Instâncias\x20removidas:\x20','allFlows','Falta\x20informação\x20para\x20a\x20chamada\x20API','lastUpdate','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','/wa-contacts','delayChatLabel','fullName','ms\x20(tentativa\x20','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','upperCase','pushName','#83e421','nomecompleto','stopConversation','Novo\x20IP\x20criado:\x20','uazapiSendLocation','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','applyvaredit','urlencoded','JWT','pollOnReplyDelete','/startFlow/:instance/:startID','\x20:\x20','expiration','replyOptions','buttonOrList_id','contacts.update','type','Background\x20color\x20is\x20required','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','flushHeaders','PROXY','updateFlowConfig','getflow','capitalizedWords','modifiedCount','beforeExit','status','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','findGroup','unreadcount','message_normalized','contactHandle','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','inviteUrl','binary','pre','pollCreationMessage','Erro\x20de\x20atualização:\x20','Erro\x20ao\x20buscar\x20Schedule\x20Messages','):\x20Label\x20','SendScheduleMessage','Esse\x20fluxo\x20expirou','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','conversation','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','AutomateFunctions','inviteCodeDetails','findGroupsEspecial','testIPv6','/instance/connect','FlowRouter','):\x20newSecondValue\x20após\x20replaceVariables:','empty','generateWAMessageFromContent','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','mentions','findAndReplaceRegex','AppStateSyncKeyData','ephemeralDuration','floor','processApiRequest','labels.association','prototype','DELIVERY_ACK','post','KEY','address','Module\x20-\x20ON','authService','profilePictureUrl','request\x20received\x20in\x20editFlowcondition','getTime','editFlow','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','sort','readMessages','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','bodyStringErrorParse','cacheInstanceModel','AutomateSystem','convertaudioMP3','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','Erro\x20na\x20função\x20updateChatWithMessage:\x20','delayChatLabel_RETRY_DELAY_MS','selectedButtonId','logger','\x0aFN:','GUARD','\x1b[0m','IPv6\x20addresses\x20detected:\x20','):\x20[messages.upsert]\x20group\x20ignored','155WJujdU','REDIS_PREFIX_KEY','findWebhook','):\x20Buscando\x20flow,\x20id:\x20','saveMediaToFile','write','_minute','):\x20whoCanEdit\x20after\x20validation:\x20','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','messageType','Erro\x20ao\x20encerrar\x20a\x20API','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','getConversation','updateCustomFields','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','match_last_seen','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','random','groups.upsert','editflowreply','createAndSave','Falha\x20ao\x20processar\x20fetchBusinessProfile','sendCommand','configService','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','ip\x20-6\x20addr\x20add\x20','thumbnailUrl','Flow\x20iniciado\x20com\x20','hGet','sections','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','groupHandler','The\x20property\x20cannot\x20be\x20empty','fetchConversation','sendMessage','code','editFlowVariable','https://jsonip.com','updateChatWithMessage','remoteJids','replaceOne','phoneNumber','?timestamp=','Erro\x20ao\x20atualizar\x20o\x20flow.','):\x20Deletando\x20mensagem','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','USER','instanceInfo','makeCacheableSignalKeyStore','inner','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','/events','Erro\x20inesperado\x20em\x20processvaredits:\x20','authModel','available','CORS_ORIGIN','updateOne','createFlow','drop','getMessageModelForOwner','createConversationforStartFlow','\x1b[43m','create','scheduleMessage','):\x20leadInfoVariables','express','fetchContacts','):\x20Going\x20to\x20','deleteMessage','getMinutes','pollCreationMessageV3','isArray',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','messageSecret','Group\x20not\x20found','Parando\x20aplicação,\x20atualização\x20recebida','OrAnd','):\x20atualização\x20chat:\x20','https://uazapi-plugin.bubbleapps.io/?url=','processgoToFlow','lastReceivedMessage','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','}}\x20->\x20valor\x20não\x20encontrado','cors','lastSend','_Labels','muteEndTime','instance','title','flowConfig','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','https://ipv6.jsonip.com','interactiveResponseMessage','updateMissingEtiquetas','StatusJidList\x20is\x20required','remove','request\x20received\x20in\x20deleteFlow','The\x20','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','CHATS_SET','pollUpdateMessage','):\x20Current\x20Time:\x20','whoCanEdit','\x1b[31m%s\x1b[0m','deleteChat','\x22\x20cannot\x20be\x20empty','replace','request\x20received\x20in\x20updateAutoCompleteMessages','request_time','groupLeave','no.connection','block','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','cache','connectionStatus','):\x20Falha\x20ao\x20deletar\x20mensagem.','SECRET','@whiskeysockets/baileys','createIPv6','deleteConversation','flowIgnoreGroups','creds.update','./.git/config','editMessagesInGroup','Removidas\x20as\x20variáveis:\x20','SSL_CONF_PRIVKEY','changeVariables','Erro\x20ao\x20atualizar\x20conversa:\x20','selectedDisplayText','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','SSL_CONF','cwd','/instance/fetchInstances','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','pt-BR','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','utf8','ephemeralMessage','find','\x20\x1b[0m','events','getScheduleMessage','uazapi','ON\x20-\x20dbName:\x20','owner','\x5cd+','data:\x20','conditions','lastInteraction','Conexão\x20estabelecida','LOG_COLOR','fetchChats','):\x20Usando\x20extensão\x20padrão:\x20','pollMessage','command','/message','formatStatusMessage','MESSAGES_UPDATE','audioWhatsapp','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','\x22\x20-\x20REMOVED','sendDataWebhook','reconnectTimestamps','max','dayjs','integer','long','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','):Delete\x20chat','isInteger','isBase64','Not\x20is\x20business\x20profile','abs','displayName','getContactModelForOwner','Erro\x20ao\x20criar\x20fluxo','qrCode','blockId','LEVEL','PRODUCT_LIST','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage',',\x20Segundo\x20Valor:\x20','_remoteJid','SERVER_OFFLINE','/instance/connectionState','IP\x20confirmed:\x20','loadInstance','includes','AUTHENTICATION_JWT_SECRET','item','participants','updateBlock','\x0a*Você\x20respondeu*:\x0a','set','demote',',\x20saindo.','validate','where','):\x20isVote:\x20','Fluxo\x20\x27','protocolMessage','Error\x20updating\x20message\x20status:','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','Fluxo\x20não\x20encontrado\x20na\x20memória.','lastRealGroupsFetch','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','realVariables','request\x20received\x20in\x20starFlow','sendContact','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','video','IP\x20mismatch:\x20configured\x20','):\x20[messages.upsert]\x20mensagem\x20duplicada\x20ignorada','base64','chatId','32888adWMev','\x1b[42m','):\x20expirationTime:\x20','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','tags','global','requestPairingCode','Contacts\x20not\x20found','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','timeout','ipv6Prefix','editFlowCondition','sendLocation','flowConversation','CONNECTION_UPDATE','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','goNextblock','deviceSentMessage','quoted','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','ip6eui','status@broadcast','log','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','):\x20Procurando\x20PRONTAS\x20mensagens\x20para\x20envio','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','upsertChats','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','save','replaceVariablesLogs','request\x20received\x20in\x20createFlow','exists','flowStopConversation','js-yaml','online','processConditions','msgRetryCounterCache','.type','\x20-i\x20','auth','convertaudio','cleanDisconnectedInstances','buttonMessage','editScheduleMessage','.jpg','Erro\x20ao\x20buscar\x20conversas','buttonsResponseMessage','_lastVote','\x1b[37m','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','deleteMany','AUTHENTICATION_JWT_EXPIRIN_IN','REDIS_URI','static','):\x20Mensagens\x20PRONTAS\x20para\x20envio\x20encontradas:\x20','processingGroup','):\x20Atualizando\x20status\x20da\x20mensagem\x20','flowPrefixCommand','default','parseInt','updateProfileName','stdout','Not\x20allowed\x20by\x20CORS','updateConversation','_day','COLOR','_activedCount','#9568cf','#fed428','open','Erro\x20ao\x20importar\x20chats','stopped','function','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','EMAIL:','authorization','\x20segundos...','GROUP_PARTICIPANTS_UPDATE','success','chat','/64\x20dev\x20','sendAudio','audio/ogg','charAt','timeoutPromise','add','removeIPv6ById','existsSync','):\x20\x27Enviando\x20mídia\x20para\x20\x27','sleep','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','newStoppedUntil','__esModule','refused','findAll','ListMessage','waitingMenu_replyOptions','randomBytes','):\x20Criando\x20fluxo...','email','resetReconnectionVariables','removeChatLabel','Content\x20is\x20required','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','application/json','#01d0e2','checkAndRestartProcess','evaluateConditionTest','audio/ogg;\x20codecs=opus','CHATS_UPDATE','DisconnectReason','/create','silent','XX:XX:XX:XX:XX:XX','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','):\x20Entrou\x20na\x20função\x20processawaitSeconds','hasOwnProperty','interactiveMessage','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','menu_options','image','dropCollection','cleanStore','updateAll','has','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','connection.update','unreadCount','deleteOne','menuType','responsavelid','autoCompleteMessages.command','editflow','):\x20Rótulo\x20atualizado:\x20','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','waitingMenu_text','promote','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','upsertedCount','Erro\x20ao\x20tentar\x20updateCustomFields','proto','DARK','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','chats.upsert','198NWzmCy','messages','editFlowBlock','isMessageProcessed','/group','ScheduleMessage','inet6','.doc','sendWhatsAppAudio','toBrazilianNumberFormat','action','join','toLowerCase','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','\x1b[41m','g-t','output','closeExistingConversations','/events/:instance','webhook','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','\x20segundos\x20antes\x20de\x20reconectar...','request\x20received\x20in\x20updateCustomFields','Operador:\x20\x22','toNumber','AddChatLabel','):Notifying\x20clients\x20for\x20chat:\x20','.mimetype','when','webp','STATUS_INSTANCE','allContacts','@broadcast','.svg','sharePass','messageLogs','findConversation','SSL_CONF_FULLCHAIN','saveChatVariables','ip\x20-6\x20addr\x20del\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','Erro\x20ao\x20editar\x20o\x20chat','.jwt','\x20minutos','stack','sendList','endsWith','round','getChatModelForOwner','split','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','limit','picture','Falhou\x20ao\x20encontrar\x20chat\x20','error_log','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','createJid','poll','lowerCase','[service]\x20request\x20received\x20in\x20sendButtons','DEBUG','createNewConversation','InstancesAlterarTodas','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','):Temp\x20image\x20deleted','json','pino','triedToSend','\x1b[32m%s\x1b[0m','redis','unlocked','toFile','messages.upsert','connectedClient','Falha\x20ao\x20processar\x20a\x20solicitação','end','now','):\x20conversation.status:\x20','):\x20conversation.lastInteraction:\x20','Parando\x20aplicação...','Resultado\x20da\x20correspondência\x20de\x20URL:','remote\x20\x22origin\x22','URL\x20completa:','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','normalizeMessage','DATABASE_CONNECTION_URI','0123456789ABCDEF','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','reference','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','\x20-y','Opção\x20Falsa\x20','configureIPv6','):Audio\x20processed','instances','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','text','waitingForReplyMenu','saveVariable','.pptx','startCommandWord','TYPE','downloadMediaMessage','min','findOneAndUpdate','maxActives','desativadoFluxoAte','addMessagesToGroup','):\x20Editando\x20variável\x20do\x20fluxo...','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','RECONNECT_TIME_FRAME','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','167016wuelYT','fetchMessages','4389VtMOUs','ReplyOption\x20com\x20ID\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','audio','replaceVariables',',\x20Expiration\x20Time:\x20','\x22,\x20valor\x20a\x20substituir:\x20\x22','updateGParticipate','request\x20received\x20in\x20getFlow','approve','API\x20Key\x20from\x20Request:','autoCompleteMessages','Retornando\x20grupos\x20COM\x20cache','DATABASE_ENABLED','inviteCode','not_announcement','saveTextReply','sectionsToString','folder','deleteImportedChat','processUazapi','bearer','stateConnection','whatsappNumber','recebido\x20de','):\x20Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x20','extractPhoneNumber','toBRL','\x1b[32m','\x20Tentativa\x20de\x20reconexão\x20','ListType','fetchBusinessProfile','.extension','#56ccb4','groupBetterSetting','flows','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','jsonwebtoken','ORG:','fileName','networkInterface','copy','errors','Erro\x20ao\x20buscar\x20a\x20conversa','height','DATABASE_CONNECTION_DB_PREFIX_NAME','varedits','getAutomateSystem','value','updateProfileStatus','instancias:\x20','updateMissingTags','AddUserFlow','padStart','unavailable','):\x20error:\x20','waMonitor','getAllData','transformScheduledMessagesByType','groupRevokeInvite','deleteDoneMessages','key','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','emit','lastSendMessage','pm2\x20flush','convert','groupSetting','Detalhes\x20do\x20erro:','prepareMediaMessage','admin','groupValidate','\x20quoted:\x20','findGroupInfos','imagechat','match','#6f7bcf','GET','\x20contacts','convertToString','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','created','connectionUpdate','sticker','\x5c$&','website','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','setNewValue','Network\x20Interface\x20detected:\x20','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','request\x20received\x20in\x20updateFlowConfig','createHash','removeProfilePicture','subjectTime','waInstances','contains','Close\x20connection','setWebhook','$dbName','etiquetas','request\x20received\x20in\x20getAutomateSystem','lean','and',',\x20lastCondition:\x20','uuid','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','Erro\x20ao\x20alterar\x20privacidade','Erro\x20ao\x20iniciar\x20fluxo:\x20','.pdf','CHATS_DELETE','readFile','startID','chatHandle','delete','API\x20Key\x20inválida.','ContactsAndGroups','awaitSeconds','):Image\x20created','MessageModel','getBusinessProfile','dark','isJidBroadcast','stopMinutesMaxActives','router','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','uazapiSendMenu','#b4ebff','webhookModel','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','processScheduleFlow','flush','This\x20name\x20','updateMessage','getDevice','findMany','editflowvaredit','\x22reaction\x22\x20must\x20be\x20an\x20emoji','):\x20Procurando\x20mensagens\x20para\x20envio','\x20foi\x20interrompido\x20pelo\x20usuário.','messageHandle','ignoreGroups','isConnected','spawn','Error\x20testing\x20IP\x20with\x20','prepareWAMessageMedia','All_Instances_Config','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','textMessage','model','badSession','createButtonSectionsFromValues','http://checkip.dyndns.org','onWhatsApp','_Contacts','setContext','qrcode','env','.\x20Pulando.','createButtonsFromValues','CONTACTS_UPSERT','cacheContactModel','dbClient','stopWhenYouSendMsg','listMessage','createOrUpdate','AUTHENTICATION_TYPE','Instance\x20logged\x20out','Connection\x20Closed','push','creds','no-cache','userDevicesCache','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','):Image\x20is\x20url',',\x20qrcodeCount:\x20','):Image\x20converted\x20to\x20WebP','isLong','/automate','.xlsx','\x1b[34m','blocks','variables','DATABASE_CONNECTION_HOST','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','chat\x20não\x20encontrado','):\x20\x27Enviando\x20audio\x20para\x20\x27','Selecione\x20uma\x20opção','groups_ignore','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','noConnection','BufferJSON','numbers','#000000','subject','81lLmqBA','File\x20written\x20to\x20path:\x20','scheduled','basename','IPv6\x20address\x20configured:\x20','dbSettings','getMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','):\x20whoCanUse\x20before\x20validation:\x20','Rodapé\x20de\x20Teste','@s.whatsapp.net','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','desc','customFields','role','Nenhum\x20fluxo\x20correspondente\x20encontrado.','Subscribed\x20Events:','send.message','@redis/client','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','editFlowReply','contacts.upsert','Flow\x20iniciado','mediaSticker','toArray','promisify','$set','sendMessageAck','):\x20Mensagem\x20já\x20enviada\x20para\x20','Cannot\x20','useMultiFileAuthState','DELETED','keyPattern','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','Atualização:\x20','imageMessage','close','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','truncatedto','content','deleteAll','segundos','REDIS','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','getContentType','apirequest','CHATS_UPSERT','padEnd','processedMessagesCache','findByIdAndDelete','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','NextBlock','):\x20Limpando\x20AutomateSystem','filter',',\x20valor\x20passado:\x20\x22','createGroup','agents','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','client','GROUPS_UPSERT','Generated\x20IPv6:\x20','templateButtonReplyMessage','toString','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','collection','SERVER','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','listType','backgroundColor','PENDING','display_text','messageLogsModel','removeIPv6','LICENSE_INVALID','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','uazapiSendText','request\x20received\x20in\x20editConversation','locationMessage','\x20is\x20already\x20in\x20use.','):\x20Comando\x20desconhecido:\x20','instance.','Instance\x20deleted','sendMenu','interval\x20não\x20é\x20um\x20número','):\x20Não\x20achou\x20nenhum\x20flow','lastCondition','):\x20','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','myAppStateKeyId','ChatRouter','getProfileName','initAuthCreds','instanceKeys','iniciando\x20fluxo\x20router','exports','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','digest','splice','apply','uazapiSendMedia',',\x20Resultado:\x20','insert','Error\x20removing\x20IPv6\x20address:\x20','g.us','Message','Request\x20Body:','info','50mb','https://api64.ipify.org?format=json','request\x20received\x20in\x20getConversation','https://github.com/uazapi/uazapi.git','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','Número:\x20','test','jpegThumbnail','setHeader','CONNECTION','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','#d3a91f','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','jid','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','bodyString','contacts','WARN','updateParticipant','pollErrorMessage','Content-Type','groupRequestParticipantsList','Error\x20removing\x20unused\x20chat\x20fields:','):\x20conversation.waitingMenu_name','normalizeMessageContent','order','uazapiSendAudio','):\x20Há\x20mensagens\x20prontas,\x20limpando\x20e\x20adicionando\x20à\x20fila','viewOnceMessage','Grupo\x20não\x20encontrado','remoteJid','Safari','editChat','scheduleSendText','):\x20Editando\x20mensagens\x20no\x20grupo...','\x1b[37m%s\x1b[0m','entries','PASSWORD','loggedOut','processawaitSeconds','utf-8','PLAYED','--------------------------------------','deleteMessageForEveryone','archiveChat','/:instanceName','hex','off','delay','Failed\x20to\x20send\x20buttons\x20message','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.',']\x20(','/wa-connection-update','Invalid\x20format','Rótulo\x20deletado:\x27,\x20','findChats','):Error\x20in\x20converting\x20audio','views','release','bateu\x20events','nativeFlowMessage','http','getLabelModelForOwner','Número\x20não\x20possui\x20WhatsApp.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','):\x20enviado\x20para\x20[','[TESTE\x20RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','):\x20Iniciando\x20bot...','footerText','):\x20\x27Deletando\x20fluxo,\x20id:\x20','caption','/instance','Tentando\x20reconectar...','groupUpdateSubject','Erro\x20ao\x20executar\x20bulkWrite:','):\x20Entrou\x20na\x20função\x20scheduleFlow','Erro\x20ao\x20copiar\x20o\x20documento','unknown\x20operation\x20type\x20[','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','startsWith','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','findOrCreate','leadInfo.customFields','chats.delete','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','CORS_METHODS','deleted','forEach','archive','audioMessage','Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo','documentWithCaptionMessage','verifiedName','axios','lastBlockId','getClient','.gif','E-mail:\x20','\x20tentativas.','createSectionsFromValues','false','SEND_MESSAGE','The\x20global\x20api\x20key\x20must\x20be\x20set','hbs','from','writeData','singleSelectReply','condition','getBase64FromMediaMessage','unlinkSync','_FlowHistorico','/wa-qrcode','):\x20Ler\x20mensagem','options','update','/config','fetchLabels','boolean','rm\x20-rf\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','canSendMessage','temp-','convertedOptions','Validate','Erro\x20ao\x20editar\x20agentes','deleteReplyOption','expression','font','Internal\x20Server\x20Error','statusJidList','):Fetching\x20business\x20profile','Retornando\x20grupos\x20SEM\x20cache','superadmin','sendMedia','isURL','replacer','load','restart','leaveGroup','ContactModel','fetchStatus','last_update',',\x20canSendMessage:\x20','Erro\x20ao\x20editar\x20o\x20bloco:\x20','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','_month','deletedCount','addBlock','PRESENCE_UPDATE','\x20minutos\x20verificará\x20novas\x20mensagens','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','choices','groupMemberAddMode','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','):\x20Buscando\x20flow...','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','videoMessage','/instance/delete','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','option','groupInviteCode','StartBot','${Message\x20absent\x20from\x20node}','Configured\x20IPv6:\x20','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','last','initializeQueue','quotedMessage','contact_blacklist','):\x20Encontrado\x20próxima\x20mensagem\x20para\x20','nativeFlowResponseMessage','.txt','qrcode.updated','extractRegex','):\x20Flow\x20\x27','findParticipants','writeFile','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','selectedRowId','):\x20Editando\x20condição\x20do\x20fluxo...','findFlow','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','getLastMessage','moreLogs','getVariablesChat','body','):\x20Procurando\x20conversa','):\x20Conversa\x20atualizada\x20em\x20memória','_Chats','groupToggleEphemeral','_p_','throwAndLogError','Instance\x20restarted','pollCreationMessageKey','https','Imagem\x20não\x20encontrada','):\x20Grupo\x20','label_jid','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','DATABASE_CONNECTION_USER','local_map','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','node-mime-types','getReadyToSendMessages','*Pergunta*:\x20\x0a','Error\x20parsing\x20JSON:','linkPreview','text/event-stream','groupId','):\x20alterando\x20this.AutomateSystem','dbInstance','child_process','createInstance','class-validator','\x1b[47m','#ffae04','.webm','getConversationModelForOwner','messageTimestamp','setRestartTimeout','pictureUrl','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','importChats','labels.edit','isBusinessInstance','imported','recording','fetchProfilePicture','MESSAGES_UPSERT','hSet','sendText','groupSettingUpdate','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','Database\x20update\x20result:','Comando\x20desconhecido','contextInfo','):Archiving\x20chat','crypto','groupJid','del','descId','Instance\x20ID:','collections','startFlow','):Hash\x20to\x20image\x20name:\x20','reviver','leadInfo.','status.instance','EMAIL','fakeReceived','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','creds.json','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','Erro\x20ao\x20buscar\x20o\x20fluxo','finish','all_member_add','mongodb://','map','Erro\x20ao\x20deletar\x20a\x20conversa','_activatedCount','#00a1f2','editFlowGroup','):\x20Removendo\x20\x27','awaitingApproval','birthtime','\x20minutos...','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','not\x20loaded','headerString','updateReadReceiptsPrivacy','paused','\x0a{\x20instance:\x20','createWebhook','equal','sendSticker','SERVER_ACK','removed','CORS','formatVCard','saveConversationToDatabase','/exit','METHODS'];a0_0x30bb=function(){return _0x17d36;};return a0_0x30bb();}async function ur(){const _0x582eb5=a0_0x1bb7e5;let _0x304621=S[_0x582eb5(0x8a5)](_0x582eb5(0x670)),_0x2f2187=S[_0x582eb5(0x8a5)](_0x582eb5(0x8f5))[_0x582eb5(0x2e2)][_0x582eb5(0x38b)],_0x3f10b1=S[_0x582eb5(0x8a5)](_0x582eb5(0x427)),_0x4e8382=await Vi(),_0x5bee87=S[_0x582eb5(0x8a5)](_0x582eb5(0x687))[_0x582eb5(0x261)],_0x254416=Gs;try{let _0x14b461={'ip':_0x4e8382||null,'redis_enable':_0x304621?.[_0x582eb5(0x2ab)]||null,'apikey':_0x2f2187||null,'ssl':_0x3f10b1?.[_0x582eb5(0x2a4)]||null,'lastupdate':Gi||null,'port':_0x5bee87||null,'gitInstallError':Re?.['message']||null,'url':_0x254416||null,'subdomain':B};if(console[_0x582eb5(0x493)]('ip:\x20',_0x14b461['ip']),_0x304621&&_0x304621['ENABLED']){let _0x1079cd=await cr();_0x14b461[_0x582eb5(0x837)]=_0x1079cd||null;}for(let _0x44cdcd in _0x14b461)_0x14b461[_0x582eb5(0x4f1)](_0x44cdcd)&&_0x44cdcd!=='ip'&&(_0x14b461[_0x44cdcd]=JSON[_0x582eb5(0x84a)](_0x14b461[_0x44cdcd]));return(await Je[_0x582eb5(0x4b7)][_0x582eb5(0x38a)](_0x582eb5(0x758),_0x14b461))['data'];}catch(_0x28f1a5){return console['error'](_0x28f1a5),!0x1;}}var Js=!0x1,Gi=0x278,dr=0x3,Fi=0x1b7740;async function Vs(){const _0x12d724=a0_0x1bb7e5;let _0x40bac6='fora\x20do\x20git';Re===null&&(_0x40bac6=await Vi());let _0x2f318b=await ur();if(_0x2f318b){if(_0x2f318b[_0x12d724(0x301)][_0x12d724(0x8eb)]===!0x0){Re===null&&_0x2f318b['response'][_0x12d724(0x741)]-Gi>0x0&&await pr(),Js||(Js=!0x0,ar());let _0x46b215=0x24*0x3c*0x3c,_0x20698f=_0x2f318b[_0x12d724(0x301)][_0x12d724(0x66f)]>_0x46b215?_0x46b215:_0x2f318b['response'][_0x12d724(0x66f)],_0x2b698b=Number(_0x20698f);if(isNaN(_0x2b698b)){console[_0x12d724(0x834)](_0x12d724(0x69a));return;}let _0xe045fc=Math[_0x12d724(0x385)](_0x2b698b/0xe10),_0x23cf33=Math[_0x12d724(0x385)](_0x2b698b%0xe10/0x3c),_0x1729d0=new Date(Date[_0x12d724(0x559)]()+_0x2b698b*0x3e8);setTimeout(Vs,_0x2b698b*0x3e8);let _0x555d59=_0x399269=>_0x399269[_0x12d724(0x684)]()['padStart'](0x2,'0'),_0x4dfecc='Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20'+_0x555d59(_0xe045fc)+'\x20horas\x20e\x20'+_0x555d59(_0x23cf33)+_0x12d724(0x264)+_0x555d59(_0x1729d0[_0x12d724(0x80c)]())+':'+_0x555d59(_0x1729d0['getMinutes']())+'.';console['log'](_0x4dfecc);}else return console['log'](_0x12d724(0x8ea)),Js&&(console[_0x12d724(0x493)](_0x12d724(0x3ad)),process[_0x12d724(0x280)]()),_0x12d724(0x690);}else{if(Li++,Li<dr)console[_0x12d724(0x493)](_0x12d724(0x659)+Fi/0xea60+_0x12d724(0x7bf)),setTimeout(Vs,Fi);else return console[_0x12d724(0x834)](_0x12d724(0x6e6)),_0x12d724(0x45c);}}async function pr(){const _0xc5ca09=a0_0x1bb7e5;console[_0xc5ca09(0x493)](_0xc5ca09(0x3f0)),console[_0xc5ca09(0x493)](_0xc5ca09(0x268)),(0x0,rs[_0xc5ca09(0x612)])(_0xc5ca09(0x5c0),{'shell':!0x0})['on'](_0xc5ca09(0x66a),_0x3b51fb=>{const _0x4957dd=_0xc5ca09;_0x3b51fb!==0x0?console[_0x4957dd(0x834)](_0x4957dd(0x44c)):(console[_0x4957dd(0x493)](_0x4957dd(0x667)),console[_0x4957dd(0x493)]('Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...'),(0x0,rs['spawn'])('rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys',{'shell':!0x0})['on']('close',_0x58c80=>{const _0x2913bc=_0x4957dd;if(_0x58c80!==0x0)console[_0x2913bc(0x834)](_0x2913bc(0x207));else{console[_0x2913bc(0x493)](_0x2913bc(0x369));let _0x3de433=(0x0,rs['spawn'])(_0x2913bc(0x56c),{'shell':!0x0});_0x3de433[_0x2913bc(0x4ba)]['on'](_0x2913bc(0x2b3),_0x58f7db=>{const _0x329bc8=_0x2913bc;console[_0x329bc8(0x493)](_0x329bc8(0x668)+_0x58f7db);}),_0x3de433['stderr']['on'](_0x2913bc(0x2b3),_0x191484=>{const _0x4b4859=_0x2913bc;console[_0x4b4859(0x834)](_0x4b4859(0x36e)+_0x191484);}),_0x3de433['on'](_0x2913bc(0x280),_0x1dd881=>{const _0x3a6b18=_0x2913bc;_0x1dd881!==0x0?console['error'](_0x3a6b18(0x678)+_0x1dd881):console[_0x3a6b18(0x493)]('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0x3a6b18(0x493)](_0x3a6b18(0x55c)),setTimeout(()=>process['exit'](),0x2710);});}}));});}0x0&&(module[a0_0x1bb7e5(0x6a5)]={'fullURL':fullURL,'subdomain':subdomain});