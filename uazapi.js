const a0_0x1d1a99=a0_0x3b16;(function(_0x53f8f6,_0x47c2d0){const _0x3b5626=a0_0x3b16,_0x4e6fc6=_0x53f8f6();while(!![]){try{const _0x163717=parseInt(_0x3b5626(0x518))/0x1+-parseInt(_0x3b5626(0x4b6))/0x2*(parseInt(_0x3b5626(0x4e5))/0x3)+-parseInt(_0x3b5626(0x501))/0x4*(-parseInt(_0x3b5626(0x4b8))/0x5)+-parseInt(_0x3b5626(0x2a1))/0x6+parseInt(_0x3b5626(0x542))/0x7*(-parseInt(_0x3b5626(0x47a))/0x8)+-parseInt(_0x3b5626(0x23d))/0x9+-parseInt(_0x3b5626(0x4cf))/0xa*(-parseInt(_0x3b5626(0x4fa))/0xb);if(_0x163717===_0x47c2d0)break;else _0x4e6fc6['push'](_0x4e6fc6['shift']());}catch(_0xaae8ef){_0x4e6fc6['push'](_0x4e6fc6['shift']());}}}(a0_0x5432,0x4280d));var wo=Object['create'],Cs=Object[a0_0x1d1a99(0x37e)],yo=Object[a0_0x1d1a99(0x5ac)],bo=Object[a0_0x1d1a99(0x5bf)],So=Object[a0_0x1d1a99(0x25f)],Eo=Object[a0_0x1d1a99(0x453)][a0_0x1d1a99(0x3ae)],vo=(_0x4acaa2,_0x1b547b,_0x4efebd,_0x29a83d)=>{const _0x2e2c17=a0_0x1d1a99;if(_0x1b547b&&typeof _0x1b547b==_0x2e2c17(0x498)||typeof _0x1b547b==_0x2e2c17(0x4ec)){for(let _0x239f1c of bo(_0x1b547b))!Eo[_0x2e2c17(0x6b5)](_0x4acaa2,_0x239f1c)&&_0x239f1c!==_0x4efebd&&Cs(_0x4acaa2,_0x239f1c,{'get':()=>_0x1b547b[_0x239f1c],'enumerable':!(_0x29a83d=yo(_0x1b547b,_0x239f1c))||_0x29a83d[_0x2e2c17(0x6cd)]});}return _0x4acaa2;},T=(_0x15dd9c,_0x1c3b64,_0x1eaa70)=>(_0x1eaa70=_0x15dd9c!=null?wo(So(_0x15dd9c)):{},vo(_0x1c3b64||!_0x15dd9c||!_0x15dd9c[a0_0x1d1a99(0x492)]?Cs(_0x1eaa70,'default',{'value':_0x15dd9c,'enumerable':!0x0}):_0x1eaa70,_0x15dd9c)),lo=T(require(a0_0x1d1a99(0x319))),Ts=require('fs'),Rs=require(a0_0x1d1a99(0x53e)),Ms=require(a0_0x1d1a99(0x591)),Oe=require('path'),Q=process[a0_0x1d1a99(0x4f8)](),V=(0x0,Oe[a0_0x1d1a99(0x403)])(Q,'instances'),Ns=(0x0,Oe[a0_0x1d1a99(0x403)])(Q,'src'),Gt=(0x0,Oe[a0_0x1d1a99(0x403)])(Q,'store','auth'),As=require(a0_0x1d1a99(0x2a9)),Wt=class{constructor(){const _0x21d634=a0_0x1d1a99;this[_0x21d634(0x360)]();}[a0_0x1d1a99(0x278)](_0x1abc32){return this['env'][_0x1abc32];}[a0_0x1d1a99(0x360)](){const _0x2613dd=a0_0x1d1a99;this[_0x2613dd(0x433)]=process[_0x2613dd(0x433)]?.[_0x2613dd(0x211)]!==_0x2613dd(0x42c)?this['envYaml']():this[_0x2613dd(0x66b)](),this['env'][_0x2613dd(0x4f6)]=process[_0x2613dd(0x433)]?.[_0x2613dd(0x70f)]===_0x2613dd(0x554),process[_0x2613dd(0x433)]?.['DOCKER_ENV']===_0x2613dd(0x42c)&&(this['env'][_0x2613dd(0x6a2)][_0x2613dd(0x5e0)]=_0x2613dd(0x2cc),this['env'][_0x2613dd(0x6a2)][_0x2613dd(0x646)]=Number[_0x2613dd(0x699)](process[_0x2613dd(0x433)]?.[_0x2613dd(0x55e)]??_0x2613dd(0x43a)));}[a0_0x1d1a99(0x42a)](){const _0x559c36=a0_0x1d1a99;return(0x0,Rs[_0x559c36(0x3ab)])((0x0,Ts[_0x559c36(0x29f)])((0x0,Ms['join'])(Ns,'../env.yml'),{'encoding':_0x559c36(0x6b1)}));}[a0_0x1d1a99(0x66b)](){const _0x112c31=a0_0x1d1a99;return{'SERVER':{'TYPE':process[_0x112c31(0x433)][_0x112c31(0x63c)],'PORT':Number[_0x112c31(0x699)](process[_0x112c31(0x433)][_0x112c31(0x55e)])},'CORS':{'ORIGIN':process[_0x112c31(0x433)][_0x112c31(0x3d4)][_0x112c31(0x447)](','),'METHODS':process[_0x112c31(0x433)][_0x112c31(0x220)][_0x112c31(0x447)](','),'CREDENTIALS':process[_0x112c31(0x433)]?.[_0x112c31(0x3b8)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0x112c31(0x433)]?.[_0x112c31(0x494)],'FULLCHAIN':process['env']?.[_0x112c31(0x528)]},'STORE':{'CLEANING_INTERVAL':Number[_0x112c31(0x6b0)](process[_0x112c31(0x433)]?.[_0x112c31(0x291)])?Number[_0x112c31(0x699)](process[_0x112c31(0x433)][_0x112c31(0x291)]):void 0x0,'MESSAGES':process[_0x112c31(0x433)]?.[_0x112c31(0x35b)]===_0x112c31(0x42c),'CONTACTS':process['env']?.[_0x112c31(0x49f)]==='true','CHATS':process['env']?.[_0x112c31(0x4aa)]===_0x112c31(0x42c)},'DATABASE':{'CONNECTION':{'HOST':process[_0x112c31(0x433)]?.[_0x112c31(0x486)],'PORT':Number[_0x112c31(0x699)](process[_0x112c31(0x433)]?.[_0x112c31(0x486)]),'USER':process[_0x112c31(0x433)]['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x112c31(0x433)]['DATABASE_CONNECTION_PASSWORD'],'URI':process[_0x112c31(0x433)][_0x112c31(0x268)],'DB_PREFIX_NAME':process['env'][_0x112c31(0x4d0)]},'ENABLED':process[_0x112c31(0x433)]?.[_0x112c31(0x77f)]===_0x112c31(0x42c)},'REDIS':{'ENABLED':process[_0x112c31(0x433)]?.['REDIS_ENABLED']===_0x112c31(0x42c),'URI':process[_0x112c31(0x433)][_0x112c31(0x4c6)],'PREFIX_KEY':process['env'][_0x112c31(0x266)]},'LOG':{'LEVEL':process[_0x112c31(0x433)]?.[_0x112c31(0x449)][_0x112c31(0x447)](','),'COLOR':process[_0x112c31(0x433)]?.['LOG_COLOR']===_0x112c31(0x42c)},'DEL_INSTANCE':(0x0,As[_0x112c31(0x692)])(process[_0x112c31(0x433)]?.[_0x112c31(0x509)])?process[_0x112c31(0x433)][_0x112c31(0x509)]===_0x112c31(0x42c):Number[_0x112c31(0x699)](process[_0x112c31(0x433)][_0x112c31(0x509)])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process['env']['WEBHOOK_MAP']?process[_0x112c31(0x433)][_0x112c31(0x623)]===_0x112c31(0x42c):!0x1,'GLOBAL':{'URL':process[_0x112c31(0x433)]?.[_0x112c31(0x6e9)],'ENABLED':process[_0x112c31(0x433)]?.[_0x112c31(0x73b)]===_0x112c31(0x42c)},'EVENTS':{'STATUS_INSTANCE':process[_0x112c31(0x433)]?.[_0x112c31(0x251)]===_0x112c31(0x42c),'QRCODE_UPDATED':process['env']?.[_0x112c31(0x315)]===_0x112c31(0x42c),'MESSAGES_SET':process[_0x112c31(0x433)]?.[_0x112c31(0x5cc)]===_0x112c31(0x42c),'MESSAGES_UPSERT':process[_0x112c31(0x433)]?.[_0x112c31(0x6cf)]===_0x112c31(0x42c),'MESSAGES_UPDATE':process[_0x112c31(0x433)]?.['WEBHOOK_EVENTS_MESSAGES_UPDATE']===_0x112c31(0x42c),'SEND_MESSAGE':process[_0x112c31(0x433)]?.[_0x112c31(0x20a)]===_0x112c31(0x42c),'CONTACTS_SET':process[_0x112c31(0x433)]?.['WEBHOOK_EVENTS_CONTACTS_SET']===_0x112c31(0x42c),'CONTACTS_UPDATE':process[_0x112c31(0x433)]?.['WEBHOOK_EVENTS_CONTACTS_UPDATE']==='true','CONTACTS_UPSERT':process['env']?.[_0x112c31(0x392)]===_0x112c31(0x42c),'PRESENCE_UPDATE':process[_0x112c31(0x433)]?.['WEBHOOK_EVENTS_PRESENCE_UPDATE']==='true','CHATS_SET':process['env']?.[_0x112c31(0x5ad)]===_0x112c31(0x42c),'CHATS_UPDATE':process[_0x112c31(0x433)]?.[_0x112c31(0x296)]===_0x112c31(0x42c),'CHATS_UPSERT':process[_0x112c31(0x433)]?.[_0x112c31(0x41d)]===_0x112c31(0x42c),'CHATS_DELETE':process[_0x112c31(0x433)]?.[_0x112c31(0x3e5)]==='true','CONNECTION_UPDATE':process['env']?.[_0x112c31(0x514)]===_0x112c31(0x42c),'GROUPS_UPSERT':process['env']?.['WEBHOOK_EVENTS_GROUPS_UPSERT']===_0x112c31(0x42c),'GROUP_UPDATE':process[_0x112c31(0x433)]?.[_0x112c31(0x6a9)]==='true','GROUP_PARTICIPANTS_UPDATE':process[_0x112c31(0x433)]?.['WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE']===_0x112c31(0x42c),'NEW_JWT_TOKEN':process[_0x112c31(0x433)]?.[_0x112c31(0x3a0)]===_0x112c31(0x42c)}},'CONFIG_SESSION_PHONE':{'CLIENT':process[_0x112c31(0x433)]?.['CONFIG_SESSION_PHONE_CLIENT']||_0x112c31(0x1c5),'NAME':process[_0x112c31(0x433)]?.[_0x112c31(0x3a6)]||'chrome'},'QRCODE':{'LIMIT':Number[_0x112c31(0x699)](process['env'][_0x112c31(0x4ac)])||0x5},'TRIAL_AD':process[_0x112c31(0x433)]?.[_0x112c31(0x1e3)],'TRIAL_INSTANCE_NAME':process['env']?.[_0x112c31(0x462)],'AUTHENTICATION':{'TYPE':process['env'][_0x112c31(0x537)],'API_KEY':{'KEY':process[_0x112c31(0x433)][_0x112c31(0x438)]},'JWT':{'EXPIRIN_IN':Number[_0x112c31(0x6b0)](process[_0x112c31(0x433)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x112c31(0x699)](process[_0x112c31(0x433)][_0x112c31(0x76c)]):0xe10,'SECRET':process[_0x112c31(0x433)][_0x112c31(0x30e)]}}};}},S=new Wt(),uo=T(require('cors')),me=T(require(a0_0x1d1a99(0x780))),Ss=require(a0_0x1d1a99(0x591)),Ht=T(require('dayjs')),Kt=(_0x4f4737=>(_0x4f4737[a0_0x1d1a99(0x33f)]=a0_0x1d1a99(0x5c1),_0x4f4737[a0_0x1d1a99(0x38f)]=a0_0x1d1a99(0x50f),_0x4f4737[a0_0x1d1a99(0x4b1)]='\x1b[33m',_0x4f4737[a0_0x1d1a99(0x204)]=a0_0x1d1a99(0x4ad),_0x4f4737[a0_0x1d1a99(0x2b8)]=a0_0x1d1a99(0x78b),_0x4f4737['VERBOSE']=a0_0x1d1a99(0x506),_0x4f4737[a0_0x1d1a99(0x1de)]=a0_0x1d1a99(0x6ac),_0x4f4737))(Kt||{}),Is=(_0x137454=>(_0x137454['LOG']=a0_0x1d1a99(0x2e9),_0x137454[a0_0x1d1a99(0x1de)]=a0_0x1d1a99(0x25c),_0x137454[a0_0x1d1a99(0x38f)]=a0_0x1d1a99(0x2f2),_0x137454[a0_0x1d1a99(0x4b1)]=a0_0x1d1a99(0x416),_0x137454[a0_0x1d1a99(0x204)]=a0_0x1d1a99(0x4c4),_0x137454[a0_0x1d1a99(0x2b8)]='\x1b[36m%s\x1b[0m',_0x137454[a0_0x1d1a99(0x4e1)]=a0_0x1d1a99(0x53a),_0x137454))(Is||{}),Ds=(_0x3230f6=>(_0x3230f6['LOG']=a0_0x1d1a99(0x33f),_0x3230f6[a0_0x1d1a99(0x4b1)]=a0_0x1d1a99(0x4b1),_0x3230f6['INFO']=a0_0x1d1a99(0x38f),_0x3230f6[a0_0x1d1a99(0x1de)]=a0_0x1d1a99(0x1de),_0x3230f6[a0_0x1d1a99(0x204)]='ERROR',_0x3230f6[a0_0x1d1a99(0x2b8)]='DEBUG',_0x3230f6[a0_0x1d1a99(0x4e1)]='VERBOSE',_0x3230f6))(Ds||{}),Os=(_0x4099a8=>(_0x4099a8['LOG']=a0_0x1d1a99(0x4c9),_0x4099a8[a0_0x1d1a99(0x38f)]=a0_0x1d1a99(0x2d5),_0x4099a8['WARN']='\x1b[43m',_0x4099a8['DARK']=a0_0x1d1a99(0x4ed),_0x4099a8[a0_0x1d1a99(0x204)]='\x1b[41m',_0x4099a8['DEBUG']=a0_0x1d1a99(0x3cb),_0x4099a8[a0_0x1d1a99(0x4e1)]=a0_0x1d1a99(0x63a),_0x4099a8))(Os||{}),N=class{constructor(_0x2ddaa4=a0_0x1d1a99(0x427)){const _0x2564ca=a0_0x1d1a99;this[_0x2564ca(0x31a)]=_0x2ddaa4,this[_0x2564ca(0x749)]=S;}[a0_0x1d1a99(0x304)](_0x4b25d7){const _0x3c215=a0_0x1d1a99;this[_0x3c215(0x31a)]=_0x4b25d7;}['console'](_0x4a6d2e,_0x2d60d7){const _0x3e68c7=a0_0x1d1a99;let _0x197e5e=[];this[_0x3e68c7(0x749)][_0x3e68c7(0x278)](_0x3e68c7(0x33f))[_0x3e68c7(0x1dc)][_0x3e68c7(0x6e3)](_0x519f93=>_0x197e5e[_0x3e68c7(0x750)](Ds[_0x519f93]));let _0x340480=typeof _0x4a6d2e;_0x197e5e[_0x3e68c7(0x3c9)](_0x2d60d7)&&(S[_0x3e68c7(0x278)](_0x3e68c7(0x33f))[_0x3e68c7(0x5c0)]?(console[_0x3e68c7(0x2a6)]('\x1b[1m'+Is[_0x2d60d7],'\x1b[1m\x1b[37m',(0x0,Ht[_0x3e68c7(0x267)])()[_0x3e68c7(0x282)](_0x3e68c7(0x6f6)),_0x3e68c7(0x56b),Kt[_0x2d60d7]+Os[_0x2d60d7]+_0x3e68c7(0x6c9),_0x2d60d7+_0x3e68c7(0x23f),_0x3e68c7(0x503),this['context']+'\x1b[0m',Kt[_0x2d60d7],_0x340480!=='object'?_0x4a6d2e:'',_0x3e68c7(0x56b)),_0x340480===_0x3e68c7(0x498)&&console[_0x3e68c7(0x2a6)](_0x4a6d2e,'\x0a')):console[_0x3e68c7(0x2a6)]((0x0,Ht[_0x3e68c7(0x267)])()[_0x3e68c7(0x282)](_0x3e68c7(0x22c)),_0x2d60d7+'\x20',''+this[_0x3e68c7(0x31a)],_0x4a6d2e));}[a0_0x1d1a99(0x2a6)](_0x50b166){const _0x5c82d2=a0_0x1d1a99;this[_0x5c82d2(0x714)](_0x50b166,_0x5c82d2(0x33f));}[a0_0x1d1a99(0x23e)](_0x1a2c8b){const _0x23e05b=a0_0x1d1a99;this[_0x23e05b(0x714)](_0x1a2c8b,'INFO');}[a0_0x1d1a99(0x1da)](_0x1b806d){const _0x62e9fe=a0_0x1d1a99;this[_0x62e9fe(0x714)](_0x1b806d,_0x62e9fe(0x4b1));}[a0_0x1d1a99(0x790)](_0x338d6c){const _0x7efac2=a0_0x1d1a99;this['console'](_0x338d6c,_0x7efac2(0x204));}[a0_0x1d1a99(0x2d2)](_0x24c0be){const _0x3e6953=a0_0x1d1a99;this[_0x3e6953(0x714)](_0x24c0be,_0x3e6953(0x4e1));}['debug'](_0x1234b0){const _0xf0ac4=a0_0x1d1a99;this[_0xf0ac4(0x714)](_0x1234b0,_0xf0ac4(0x2b8));}[a0_0x1d1a99(0x248)](_0x5d6ce6){this['console'](_0x5d6ce6,'DARK');}};function _s(){const _0x4725cd=a0_0x1d1a99;process['on'](_0x4725cd(0x243),(_0x2de22f,_0xe6231f)=>{const _0x408dad=_0x4725cd;new N(_0x408dad(0x243))[_0x408dad(0x790)]({'origin':_0xe6231f,'stderr':process[_0x408dad(0x2c5)]['fd'],'error':_0x2de22f});}),process['on'](_0x4725cd(0x6d9),(_0xb789de,_0x206cc9)=>{const _0x2754c6=_0x4725cd;new N('unhandledRejection')[_0x2754c6(0x790)]({'origin':_0x206cc9,'stderr':process[_0x2754c6(0x2c5)]['fd'],'error':_0xb789de});});}var Ps=T(require('eventemitter2')),zt=new Ps[(a0_0x1d1a99(0x267))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),_e=require(a0_0x1d1a99(0x42b)),Qt=T(require('mongoose')),Co=new N('Db\x20Connection'),J=S[a0_0x1d1a99(0x278)](a0_0x1d1a99(0x556)),M=J[a0_0x1d1a99(0x1ec)]?J[a0_0x1d1a99(0x53d)]['URI']?Qt['default'][a0_0x1d1a99(0x694)](J[a0_0x1d1a99(0x53d)]['URI'],{'dbName':J[a0_0x1d1a99(0x53d)][a0_0x1d1a99(0x440)]+a0_0x1d1a99(0x3ec)}):Qt[a0_0x1d1a99(0x267)][a0_0x1d1a99(0x694)](a0_0x1d1a99(0x382)+J[a0_0x1d1a99(0x53d)]['HOST']+':'+J[a0_0x1d1a99(0x53d)]['PORT']+'?authSource=admin&readPreference=primary&directConnection=true',{'user':J[a0_0x1d1a99(0x53d)][a0_0x1d1a99(0x2f8)],'pass':J[a0_0x1d1a99(0x53d)]['PASSWORD'],'dbName':J[a0_0x1d1a99(0x53d)][a0_0x1d1a99(0x440)]+a0_0x1d1a99(0x3ec)}):null;J['ENABLED']&&Co[a0_0x1d1a99(0x23e)]('ON\x20-\x20dbName:\x20'+M[a0_0x1d1a99(0x4f5)]);var No=new _e[(a0_0x1d1a99(0x763))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),To=new _e[(a0_0x1d1a99(0x763))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[No],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Ro=new _e[(a0_0x1d1a99(0x763))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':To,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean}}),xs=_0x28fd93=>{const _0x598d58=a0_0x1d1a99;let _0x4f478f='z_'+_0x28fd93+_0x598d58(0x495);return M?.[_0x598d58(0x68e)](_0x598d58(0x47f),Ro,_0x4f478f);},$s=require('mongoose'),Mo=new $s[(a0_0x1d1a99(0x763))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ks=_0x367300=>{const _0x49d07b=a0_0x1d1a99;let _0x23d42f='z_'+_0x367300+_0x49d07b(0x2ce);return M?.['model'](_0x49d07b(0x4dc),Mo,_0x23d42f);},Ls=require(a0_0x1d1a99(0x42b)),Ao=new Ls[(a0_0x1d1a99(0x763))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':[a0_0x1d1a99(0x34c),'web',a0_0x1d1a99(0x782)]},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Us=_0x5a4396=>{const _0x612961=a0_0x1d1a99;let _0x5d02fc='z_'+_0x5a4396+_0x612961(0x4e4);return M?.[_0x612961(0x68e)](_0x612961(0x499),Ao,_0x5d02fc);},Vs=require(a0_0x1d1a99(0x42b)),Yt=class{},Io=new Vs[(a0_0x1d1a99(0x763))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),js=M?.['model'](Yt[a0_0x1d1a99(0x4ef)],Io,a0_0x1d1a99(0x71e)),Fs=require('mongoose'),Xt=class{},Bs=new Fs[(a0_0x1d1a99(0x763))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Bs['pre'](a0_0x1d1a99(0x6d0),function(_0x18f2d7){const _0x1b6068=a0_0x1d1a99;delete this['flowActive'],delete this['flowIgnoreGroups'],delete this['flowPrefixCommand'],delete this[_0x1b6068(0x32a)],delete this['flowStopMinutes'],_0x18f2d7();});var qs=M?.['model'](Xt[a0_0x1d1a99(0x4ef)],Bs,a0_0x1d1a99(0x664)),D=require(a0_0x1d1a99(0x42b)),Pe=class{},Js=new D[(a0_0x1d1a99(0x763))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Zt=new D['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Do=new D[(a0_0x1d1a99(0x763))]({'command':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'pollErrorMessage':{'type':String,'default':a0_0x1d1a99(0x500)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Gs=new D[(a0_0x1d1a99(0x763))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Oo=new D[(a0_0x1d1a99(0x763))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),_o=new D['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Ws=new D[(a0_0x1d1a99(0x763))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Do},'apirequest':Oo,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),os=new D[(a0_0x1d1a99(0x763))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),Hs=new D[(a0_0x1d1a99(0x763))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),es=class{},Ks=new D[(a0_0x1d1a99(0x763))]({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x1eb70c=a0_0x1d1a99;return'!cmd_'+Math[_0x1eb70c(0x231)]()['toString'](0x24)[_0x1eb70c(0x29c)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[os],'variablesNotFound':{'type':[String]},'blocks':[Ws],'groups':[Js],'conditions':[Gs],'varedits':[Hs],'replyOptions':{'type':[Zt],'default':[]}});Ks[a0_0x1d1a99(0x735)](a0_0x1d1a99(0x6d0),function(_0x583756){const _0x4d8e48=a0_0x1d1a99;let _0x2af6fc=new Set(),_0x2b170d=new Set(this[_0x4d8e48(0x74a)]?.[_0x4d8e48(0x5dc)](_0x1e21d9=>_0x1e21d9[_0x4d8e48(0x4ef)])),_0x2da157=JSON[_0x4d8e48(0x5b4)](this),_0x261052=/{{(?!_)([^}]*)}}/g,_0x39416e;for(;(_0x39416e=_0x261052[_0x4d8e48(0x77a)](_0x2da157))!==null;)_0x2b170d['has'](_0x39416e[0x1])||_0x2af6fc['add'](_0x39416e[0x1]);_0x2af6fc[_0x4d8e48(0x62b)]>0x0?(console[_0x4d8e48(0x1da)](_0x4d8e48(0x56c),Array['from'](_0x2af6fc)),this[_0x4d8e48(0x4b0)]=Array[_0x4d8e48(0x1e2)](_0x2af6fc)):this[_0x4d8e48(0x4b0)]=[],_0x583756();});var I=M?.[a0_0x1d1a99(0x68e)](es['name'],Ks,a0_0x1d1a99(0x24f)),Po=new D['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[os],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[_o]},{'_id':!0x1}),ts=class{},xo=new D[(a0_0x1d1a99(0x763))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[os],'blocks':[Ws],'groups':[Js],'conditions':[Gs],'varedits':[Hs],'replyOptions':{'type':[Zt],'default':[]},'chatLog':Po,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x1d1a99(0x5d6)},'waitingPoll_id':{'type':String},'waitingPoll_name':{'type':String},'waitingPoll_replyOptions':{'type':[Zt],'default':[]}}),j=M?.[a0_0x1d1a99(0x68e)](ts['name'],xo,a0_0x1d1a99(0x729)),ss=class{},$o=new D[(a0_0x1d1a99(0x763))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ko=new D[(a0_0x1d1a99(0x763))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),Lo=new D['Schema']({'owner':{'type':String},'status':{'type':String,'default':a0_0x1d1a99(0x27a)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':ko,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[$o],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),L=M?.[a0_0x1d1a99(0x68e)](ss[a0_0x1d1a99(0x4ef)],Lo,a0_0x1d1a99(0x33a)),as=class{},Uo=new D[(a0_0x1d1a99(0x763))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Vo=new D[(a0_0x1d1a99(0x763))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x1d1a99(0x362)},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),jo=new D['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Fo=new D[(a0_0x1d1a99(0x763))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[jo]},'customFields':{'type':[Uo]},'flowConfig':{'type':Vo,'default':{}}}),ae=M?.[a0_0x1d1a99(0x68e)](as[a0_0x1d1a99(0x4ef)],Fo,a0_0x1d1a99(0x721)),he=require('fs'),is=require(a0_0x1d1a99(0x591)),W=class{constructor(_0x2f82e4){const _0x1e7ba8=a0_0x1d1a99;this[_0x1e7ba8(0x4da)]=(0x0,is[_0x1e7ba8(0x403)])(Q,_0x1e7ba8(0x287)),this['writeStore']=_0x4417e5=>{const _0x3c7433=_0x1e7ba8;(0x0,he[_0x3c7433(0x781)])(_0x4417e5[_0x3c7433(0x591)])||(0x0,he[_0x3c7433(0x31c)])(_0x4417e5['path'],{'recursive':!0x0});try{return(0x0,he[_0x3c7433(0x44f)])((0x0,is[_0x3c7433(0x403)])(_0x4417e5[_0x3c7433(0x591)],_0x4417e5['fileName']+'.json'),JSON[_0x3c7433(0x5b4)]({..._0x4417e5[_0x3c7433(0x723)]}),{'encoding':_0x3c7433(0x6b1)}),{'message':'create\x20-\x20success'};}finally{_0x4417e5['data']=void 0x0;}},this[_0x1e7ba8(0x62a)]=_0x2f82e4['get']('DATABASE');}[a0_0x1d1a99(0x3a1)](_0x77d100,_0x40ebf8=!0x1){const _0x5721b9=a0_0x1d1a99;throw new Error(_0x5721b9(0x3c8));}[a0_0x1d1a99(0x20b)](_0x53af13){const _0x237751=a0_0x1d1a99;throw new Error(_0x237751(0x3c8));}[a0_0x1d1a99(0x249)](_0x2d449d,_0x20e6c2){const _0x13f06f=a0_0x1d1a99;throw new Error(_0x13f06f(0x3c8));}},xe=class{},$e=class extends W{constructor(_0xb39a08){const _0x55563e=a0_0x1d1a99;super(_0xb39a08),this[_0x55563e(0x749)]=_0xb39a08;}[a0_0x1d1a99(0x552)](_0x5fd223){return Us(_0x5fd223);}async['insert'](_0xc1697f){const _0x2ed4b5=a0_0x1d1a99;if(_0xc1697f[_0x2ed4b5(0x45d)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x2ed4b5(0x552)](_0xc1697f[0x0][_0x2ed4b5(0x70b)])['insertMany']([..._0xc1697f]))[_0x2ed4b5(0x45d)]};}catch(_0xfb1e44){return console['log'](_0x2ed4b5(0x6ee),_0xfb1e44),_0xfb1e44;}}async[a0_0x1d1a99(0x20b)](_0x3c82fd){const _0x5d7a47=a0_0x1d1a99;try{let _0x524ac6=this[_0x5d7a47(0x552)](_0x3c82fd[_0x5d7a47(0x409)][_0x5d7a47(0x70b)]);if(_0x3c82fd?.[_0x5d7a47(0x409)]?.[_0x5d7a47(0x3eb)]){for(let [_0x1d776e,_0x1873b0]of Object['entries'](_0x3c82fd[_0x5d7a47(0x409)][_0x5d7a47(0x3eb)]))_0x3c82fd['where']['key.'+_0x1d776e]=_0x1873b0;delete _0x3c82fd?.[_0x5d7a47(0x409)]?.[_0x5d7a47(0x3eb)];}return await _0x524ac6[_0x5d7a47(0x20b)]({..._0x3c82fd[_0x5d7a47(0x409)]})['sort']({'messageTimestamp':-0x1})[_0x5d7a47(0x4ab)](_0x3c82fd?.[_0x5d7a47(0x4ab)]??0x0)['lean']();}catch{return[];}}async['delete'](_0x32982f){const _0x4845d4=a0_0x1d1a99;try{await this['getMessageModelForOwner'](_0x32982f['where'][_0x4845d4(0x70b)])[_0x4845d4(0x478)]({..._0x32982f[_0x4845d4(0x409)]});}catch(_0x18b123){console['error'](_0x18b123);}}async[a0_0x1d1a99(0x1bb)](_0x344898,_0x12a478){const _0x423875=a0_0x1d1a99;try{return await this[_0x423875(0x552)](_0x344898[_0x423875(0x409)][_0x423875(0x70b)])[_0x423875(0x3f4)]({..._0x344898[_0x423875(0x409)]},{'$set':_0x12a478},{'new':!0x0});}catch(_0x25f275){throw console['error'](_0x25f275),_0x25f275;}}async[a0_0x1d1a99(0x6db)](_0x1cd501){const _0x189345=a0_0x1d1a99;if(_0x1cd501[_0x189345(0x45d)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x189345(0x552)](_0x1cd501[0x0][_0x189345(0x70b)])[_0x189345(0x6db)]([..._0x1cd501]))[_0x189345(0x45d)]};}catch(_0x2752ce){return console['log']('ERROR:\x20',_0x2752ce),_0x2752ce;}}async[a0_0x1d1a99(0x6a1)](_0xeef17c){const _0xe62ec9=a0_0x1d1a99;try{return await this[_0xe62ec9(0x552)](_0xeef17c)[_0xe62ec9(0x41e)][_0xe62ec9(0x33d)](),{'success':!0x0};}catch(_0x5888d8){return console[_0xe62ec9(0x790)](_0x5888d8),{'success':!0x1,'error':_0x5888d8};}}},te=require('fs'),Xa=T(require(a0_0x1d1a99(0x34d))),w=T(require('@whiskeysockets/baileys')),Te=require('fs'),$=T(require(a0_0x1d1a99(0x591))),ce=T(require('axios')),Za=require(a0_0x1d1a99(0x1d3)),eo=T(require(a0_0x1d1a99(0x24c))),to=T(require('qrcode-terminal')),zs=[a0_0x1d1a99(0x65c),a0_0x1d1a99(0x69a),'audioMessage',a0_0x1d1a99(0x35f),a0_0x1d1a99(0x588)],Qs=[a0_0x1d1a99(0x214),a0_0x1d1a99(0x366),a0_0x1d1a99(0x1b2),'viewOnceMessageV2'],so=require('os'),Mt=T(require(a0_0x1d1a99(0x695))),Ot=require(a0_0x1d1a99(0x419)),At=require(a0_0x1d1a99(0x2a0)),pe=T(require('mongoose')),_=require(a0_0x1d1a99(0x2a9)),fe=class{constructor(_0x2471bc,_0x591a5d,_0x343a55){const _0xdcee94=a0_0x1d1a99;this[_0xdcee94(0x60a)]=_0x2471bc,this[_0xdcee94(0x339)]=_0x591a5d,this[_0xdcee94(0x4ef)]=_0x343a55;}},ke=class{},Le=class{},Se=class{},Ue=class{},Ve=class{},we=class{},je=class{},Fe=class{},Be=class{},qe=class{},vt=T(require(a0_0x1d1a99(0x780))),Ys=require('fs'),Xs=require(a0_0x1d1a99(0x591));async function Je(_0x274955){const _0xe707e1=a0_0x1d1a99;let _0x2ef952=F[_0xe707e1(0x2b1)][_0x274955];if(J[_0xe707e1(0x1ec)]){let _0x3181c4=M[_0xe707e1(0x43f)]()['db'](J['CONNECTION'][_0xe707e1(0x440)]+_0xe707e1(0x353))[_0xe707e1(0x41e)](_0x274955);return _0x2ef952||(await _0x3181c4[_0xe707e1(0x20b)]({})[_0xe707e1(0x2f4)]())[_0xe707e1(0x45d)]>0x0;}return _0x2ef952||(0x0,Ys['existsSync'])((0x0,Xs[_0xe707e1(0x403)])(V,_0x274955));}async function rs(_0x18fde2,_0x3972bf,_0x356de2){const _0x2481d0=a0_0x1d1a99;if(_0x18fde2[_0x2481d0(0x502)][_0x2481d0(0x3c9)](_0x2481d0(0x6b4))||_0x18fde2[_0x2481d0(0x502)]['includes'](_0x2481d0(0x2de))||_0x18fde2[_0x2481d0(0x502)][_0x2481d0(0x3c9)](_0x2481d0(0x439)))return _0x356de2();let _0x27c167=_0x18fde2[_0x2481d0(0x425)];if(!_0x27c167?.[_0x2481d0(0x6ca)])throw new g(_0x2481d0(0x73a));if(!await Je(_0x27c167[_0x2481d0(0x6ca)]))throw new x(_0x2481d0(0x5a1)+_0x27c167['instanceName']+_0x2481d0(0x2cd));_0x356de2();}async function Zs(_0x7a7525,_0x2ad74a,_0x282c53){const _0x37e03d=a0_0x1d1a99;if(_0x7a7525[_0x37e03d(0x502)][_0x37e03d(0x3c9)](_0x37e03d(0x6b4))){let _0x5e3f29=_0x7a7525['body'];if(await Je(_0x5e3f29[_0x37e03d(0x6ca)]))throw new oe(_0x37e03d(0x4e0)+_0x5e3f29[_0x37e03d(0x6ca)]+_0x37e03d(0x608));F[_0x37e03d(0x2b1)][_0x5e3f29[_0x37e03d(0x6ca)]]&&delete F[_0x37e03d(0x2b1)][_0x5e3f29[_0x37e03d(0x6ca)]];}_0x282c53();}var ea=require(a0_0x1d1a99(0x2a9)),ta=T(require(a0_0x1d1a99(0x27f))),Ge='uazapi',qo=new N(a0_0x1d1a99(0x4f2));async function Jo(_0x5f4245,_0x55cf73,_0x257a5b){const _0x8dac94=a0_0x1d1a99;let _0x552544=_0x5f4245['get']('apikey');if(_0x552544&&S[_0x8dac94(0x278)](_0x8dac94(0x286))[_0x8dac94(0x5d7)]['KEY']!==_0x552544)throw new ie();if(S[_0x8dac94(0x278)]('AUTHENTICATION')['API_KEY'][_0x8dac94(0x327)]===_0x552544)return _0x257a5b();if((_0x5f4245[_0x8dac94(0x502)][_0x8dac94(0x3c9)](_0x8dac94(0x6b4))||_0x5f4245['originalUrl'][_0x8dac94(0x3c9)](_0x8dac94(0x2de)))&&!_0x552544)throw new oe('Missing\x20global\x20api\x20key',_0x8dac94(0x48b));let _0x2d3bf9=S[_0x8dac94(0x278)](_0x8dac94(0x286))[_0x8dac94(0x407)];try{let [_0x41fe3c,_0x1037ca]=_0x5f4245[_0x8dac94(0x278)]('authorization')[_0x8dac94(0x447)]('\x20');if(_0x41fe3c[_0x8dac94(0x5a7)]()!==_0x8dac94(0x1eb))throw new ie();if(!(0x0,ea['isJWT'])(_0x1037ca))throw new ie();let _0xf48ef=_0x5f4245[_0x8dac94(0x425)],_0x2e24be=ta[_0x8dac94(0x267)][_0x8dac94(0x4be)](_0x1037ca,_0x2d3bf9[_0x8dac94(0x2f7)],{'ignoreExpiration':_0x2d3bf9[_0x8dac94(0x386)]===0x0});if(_0xf48ef[_0x8dac94(0x6ca)]!==_0x2e24be[_0x8dac94(0x6ca)]||Ge!==_0x2e24be[_0x8dac94(0x41c)])throw new ie();return _0x257a5b();}catch(_0x167c7a){throw qo[_0x8dac94(0x790)](_0x167c7a),new ie();}}async function Go(_0x5b0306,_0x334ff9,_0xedd3a2){const _0x58a22e=a0_0x1d1a99;let _0x47d89b=S['get']('AUTHENTICATION')[_0x58a22e(0x5d7)],_0x10c305=_0x5b0306[_0x58a22e(0x278)](_0x58a22e(0x38e));if(_0x47d89b[_0x58a22e(0x327)]===_0x10c305)return _0xedd3a2();if(_0x5b0306[_0x58a22e(0x502)]['includes'](_0x58a22e(0x6b4))){let _0x439cf9=S[_0x58a22e(0x278)](_0x58a22e(0x462)),_0x43a00f=_0x5b0306[_0x58a22e(0x64a)]['instanceName'];if(_0x439cf9&&_0x43a00f[_0x58a22e(0x5a7)]()[_0x58a22e(0x6fe)](_0x439cf9[_0x58a22e(0x5a7)]()))return _0xedd3a2();if(!_0x10c305)throw new oe(_0x58a22e(0x3f6),_0x58a22e(0x48b));}if(_0x5b0306['originalUrl']['includes'](_0x58a22e(0x2de))&&!_0x10c305)throw new oe('Missing\x20global\x20api\x20key',_0x58a22e(0x48b));if(_0x5b0306[_0x58a22e(0x502)]['includes'](_0x58a22e(0x439))&&!_0x10c305)throw new oe(_0x58a22e(0x3f6),_0x58a22e(0x48b));try{let _0x49b0c4=_0x5b0306['params'];if((await le[_0x58a22e(0x437)][_0x58a22e(0x20b)](_0x49b0c4[_0x58a22e(0x6ca)]))[_0x58a22e(0x38e)]===_0x10c305)return _0xedd3a2();}catch{}throw new ie();}var sa={'jwt':Jo,'apikey':Go},ka=require(a0_0x1d1a99(0x780)),v=require(a0_0x1d1a99(0x1d3)),E=(..._0x5dae18)=>{const _0x565175=a0_0x1d1a99;let _0x3728c3={};return _0x5dae18[_0x565175(0x6e3)](_0x597de3=>_0x3728c3[_0x597de3]={'minLength':0x1,'description':'The\x20\x22'+_0x597de3+_0x565175(0x396)}),{'if':{'propertyNames':{'enum':[..._0x5dae18]}},'then':{'properties':_0x3728c3}};},C={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'instanceName':{'type':'string'}},...E('instanceName')},aa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x1d1a99(0x245)}},'required':[a0_0x1d1a99(0x25e)],...E(a0_0x1d1a99(0x25e))},gn={'properties':{'key':{'type':a0_0x1d1a99(0x498),'properties':{'id':{'type':a0_0x1d1a99(0x245)},'remoteJid':{'type':a0_0x1d1a99(0x245)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x1d1a99(0x52d)],...E('id','remoteJid')},'message':{'type':a0_0x1d1a99(0x498)}}},Y={'properties':{'delay':{'type':a0_0x1d1a99(0x293),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x1d1a99(0x245),'enum':[a0_0x1d1a99(0x583),a0_0x1d1a99(0x5ee),a0_0x1d1a99(0x1b8),a0_0x1d1a99(0x1d4),a0_0x1d1a99(0x6f0)]}}},X={'type':a0_0x1d1a99(0x245),'pattern':a0_0x1d1a99(0x639),'description':a0_0x1d1a99(0x46f)},oa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'options':{...Y},'textMessage':{'type':a0_0x1d1a99(0x498),'properties':{'text':{'type':a0_0x1d1a99(0x245)}},'required':[a0_0x1d1a99(0x643)],...E('text')}},'required':['textMessage',a0_0x1d1a99(0x2ba)]},ia={'type':'string','pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x1d1a99(0x46f)},mn={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'number':{...ia},'options':{...Y},'textMessage':{'type':a0_0x1d1a99(0x498),'properties':{'text':{'type':a0_0x1d1a99(0x245)}},'required':[a0_0x1d1a99(0x643)],...E(a0_0x1d1a99(0x643))}},'required':['textMessage',a0_0x1d1a99(0x2ba)]},hn={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'number':{...ia},'options':{...Y},'mediaMessage':{'type':a0_0x1d1a99(0x498),'properties':{'mediatype':{'type':'string','enum':[a0_0x1d1a99(0x2f1),'document',a0_0x1d1a99(0x2c2),a0_0x1d1a99(0x512)]},'media':{'type':'string'},'fileName':{'type':a0_0x1d1a99(0x245)},'caption':{'type':a0_0x1d1a99(0x245)}},'required':[a0_0x1d1a99(0x6e0),a0_0x1d1a99(0x316)],...E(a0_0x1d1a99(0x3f5),'caption',a0_0x1d1a99(0x316))}},'required':[a0_0x1d1a99(0x746),'number']},ra={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'number':{...X},'options':{...Y},'stickerMessage':{'type':'object','properties':{'image':{'type':'string'}},'required':[a0_0x1d1a99(0x2f1)],...E('image')}},'required':[a0_0x1d1a99(0x588),a0_0x1d1a99(0x2ba)]},na={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'statusMessage':{'type':a0_0x1d1a99(0x498),'properties':{'type':{'type':'string','enum':['text',a0_0x1d1a99(0x2f1),a0_0x1d1a99(0x512),a0_0x1d1a99(0x2c2)]},'content':{'type':a0_0x1d1a99(0x245)},'caption':{'type':a0_0x1d1a99(0x245)},'backgroundColor':{'type':a0_0x1d1a99(0x245)},'font':{'type':a0_0x1d1a99(0x293),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x1d1a99(0x40f),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x1d1a99(0x5e9),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x1d1a99(0x40a),'content'],...E(a0_0x1d1a99(0x40a),a0_0x1d1a99(0x375))}},'required':['statusMessage']},ca={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'number':{...X},'options':{...Y},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x1d1a99(0x245),'enum':['image',a0_0x1d1a99(0x1e9),a0_0x1d1a99(0x2c2),a0_0x1d1a99(0x512)]},'media':{'type':a0_0x1d1a99(0x245)},'fileName':{'type':'string'},'caption':{'type':a0_0x1d1a99(0x245)}},'required':[a0_0x1d1a99(0x6e0),a0_0x1d1a99(0x316)],...E(a0_0x1d1a99(0x3f5),a0_0x1d1a99(0x1f7),'media')}},'required':['mediaMessage',a0_0x1d1a99(0x2ba)]},la={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'number':{...X},'options':{...Y},'audioMessage':{'type':a0_0x1d1a99(0x498),'properties':{'audio':{'type':a0_0x1d1a99(0x245)}},'required':[a0_0x1d1a99(0x512)],...E(a0_0x1d1a99(0x512))}},'required':[a0_0x1d1a99(0x69d),a0_0x1d1a99(0x2ba)]},ua={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'number':{...X},'pollMessage':{'type':a0_0x1d1a99(0x498),'properties':{'name':{'type':a0_0x1d1a99(0x245)},'selectableCount':{'type':a0_0x1d1a99(0x2ba)},'values':{'type':a0_0x1d1a99(0x40f),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x1d1a99(0x4ef),a0_0x1d1a99(0x3fc),'values'],...E(a0_0x1d1a99(0x4ef),a0_0x1d1a99(0x3fc),a0_0x1d1a99(0x570))}},'required':['number',a0_0x1d1a99(0x6e4)]},da={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'number':{...X},'options':{...Y},'buttonMessage':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':a0_0x1d1a99(0x245)},'footerText':{'type':'string'},'buttons':{'type':a0_0x1d1a99(0x40f),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1d1a99(0x498),'properties':{'buttonText':{'type':a0_0x1d1a99(0x245)},'buttonId':{'type':'string'}},'required':['buttonText','buttonId'],...E('buttonText','buttonId')}},'mediaMessage':{'type':a0_0x1d1a99(0x498),'properties':{'media':{'type':a0_0x1d1a99(0x245)},'fileName':{'type':a0_0x1d1a99(0x245)},'mediatype':{'type':a0_0x1d1a99(0x245),'enum':[a0_0x1d1a99(0x2f1),a0_0x1d1a99(0x1e9),'video']}},'required':[a0_0x1d1a99(0x316),a0_0x1d1a99(0x6e0)],...E(a0_0x1d1a99(0x316),a0_0x1d1a99(0x3f5))}},'required':[a0_0x1d1a99(0x626),'buttons'],...E(a0_0x1d1a99(0x626),'description')}},'required':['number','buttonMessage']},pa={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'number':{...X},'options':{...Y},'locationMessage':{'type':a0_0x1d1a99(0x498),'properties':{'latitude':{'type':a0_0x1d1a99(0x2ba)},'longitude':{'type':a0_0x1d1a99(0x2ba)},'name':{'type':a0_0x1d1a99(0x245)},'address':{'type':a0_0x1d1a99(0x245)}},'required':['latitude','longitude'],...E('name',a0_0x1d1a99(0x640))}},'required':['number',a0_0x1d1a99(0x468)]},ga={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'options':{...Y},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x1d1a99(0x245)},'description':{'type':a0_0x1d1a99(0x245)},'footerText':{'type':a0_0x1d1a99(0x245)},'buttonText':{'type':a0_0x1d1a99(0x245)},'sections':{'type':a0_0x1d1a99(0x40f),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x1d1a99(0x245)},'rows':{'type':a0_0x1d1a99(0x40f),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x1d1a99(0x245)},'description':{'type':a0_0x1d1a99(0x245)},'rowId':{'type':a0_0x1d1a99(0x245)}},'required':[a0_0x1d1a99(0x626),a0_0x1d1a99(0x442),a0_0x1d1a99(0x402)],...E(a0_0x1d1a99(0x626),a0_0x1d1a99(0x442),a0_0x1d1a99(0x402))}}},'required':[a0_0x1d1a99(0x626),a0_0x1d1a99(0x2e5)],...E('title')}}},'required':['title',a0_0x1d1a99(0x442),a0_0x1d1a99(0x284),a0_0x1d1a99(0x27c)],...E(a0_0x1d1a99(0x626),a0_0x1d1a99(0x442),a0_0x1d1a99(0x284),a0_0x1d1a99(0x6c3))}},'required':[a0_0x1d1a99(0x2ba),a0_0x1d1a99(0x6a8)]},ma={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'options':{...Y},'contactMessage':{'type':a0_0x1d1a99(0x40f),'items':{'type':a0_0x1d1a99(0x498),'properties':{'fullName':{'type':a0_0x1d1a99(0x245)},'phoneNumber':{'type':a0_0x1d1a99(0x245),'minLength':0xa}},'required':[a0_0x1d1a99(0x30d),a0_0x1d1a99(0x207)],...E(a0_0x1d1a99(0x30d))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x1d1a99(0x2ba),a0_0x1d1a99(0x435)]},ha={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'reactionMessage':{'type':a0_0x1d1a99(0x498),'properties':{'key':{'type':a0_0x1d1a99(0x498),'properties':{'id':{'type':a0_0x1d1a99(0x245)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x1d1a99(0x2b9),'enum':[!0x0,!0x1]}},'required':['id',a0_0x1d1a99(0x24b),a0_0x1d1a99(0x52d)],...E('id',a0_0x1d1a99(0x24b))},'reaction':{'type':'string'}},'required':[a0_0x1d1a99(0x3eb),'reaction'],...E('reaction')}},'required':[a0_0x1d1a99(0x618)]},fa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x1d1a99(0x5e9),'description':a0_0x1d1a99(0x5bb)}}}},wa={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'readMessages':{'type':a0_0x1d1a99(0x40f),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x1d1a99(0x245)},'fromMe':{'type':a0_0x1d1a99(0x2b9),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x1d1a99(0x245)}},'required':['id',a0_0x1d1a99(0x52d),a0_0x1d1a99(0x24b)],...E('id',a0_0x1d1a99(0x24b))}}},'required':['readMessages']},ya={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'privacySettings':{'type':a0_0x1d1a99(0x498),'properties':{'readreceipts':{'type':a0_0x1d1a99(0x245),'enum':[a0_0x1d1a99(0x26a),a0_0x1d1a99(0x627)]},'profile':{'type':'string','enum':[a0_0x1d1a99(0x26a),a0_0x1d1a99(0x6af),a0_0x1d1a99(0x3ff),a0_0x1d1a99(0x627)]},'status':{'type':a0_0x1d1a99(0x245),'enum':[a0_0x1d1a99(0x26a),a0_0x1d1a99(0x6af),a0_0x1d1a99(0x3ff),a0_0x1d1a99(0x627)]},'online':{'type':a0_0x1d1a99(0x245),'enum':[a0_0x1d1a99(0x26a),a0_0x1d1a99(0x67f)]},'last':{'type':'string','enum':['all',a0_0x1d1a99(0x6af),'contact_blacklist',a0_0x1d1a99(0x627)]},'groupadd':{'type':a0_0x1d1a99(0x245),'enum':[a0_0x1d1a99(0x26a),'contacts',a0_0x1d1a99(0x3ff),'none']}},'required':['readreceipts',a0_0x1d1a99(0x1d6),a0_0x1d1a99(0x1be),a0_0x1d1a99(0x2db),'last','groupadd'],...E(a0_0x1d1a99(0x72d),a0_0x1d1a99(0x1d6),a0_0x1d1a99(0x1be),a0_0x1d1a99(0x2db),a0_0x1d1a99(0x276),'groupadd')}},'required':[a0_0x1d1a99(0x3e6)]},ba={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'lastMessage':{'type':a0_0x1d1a99(0x498),'properties':{'key':{'type':a0_0x1d1a99(0x498),'properties':{'id':{'type':a0_0x1d1a99(0x245)},'remoteJid':{'type':a0_0x1d1a99(0x245)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x1d1a99(0x52d),a0_0x1d1a99(0x24b)],...E('id',a0_0x1d1a99(0x24b))},'messageTimestamp':{'type':a0_0x1d1a99(0x293),'minLength':0x1}},'required':['key'],...E(a0_0x1d1a99(0x54a))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['lastMessage','archive']},Sa={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'id':{'type':a0_0x1d1a99(0x245)},'fromMe':{'type':a0_0x1d1a99(0x2b9),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x1d1a99(0x245)},'participant':{'type':a0_0x1d1a99(0x245)}},'required':['id',a0_0x1d1a99(0x52d),a0_0x1d1a99(0x24b)],...E('id',a0_0x1d1a99(0x24b),'participant')},Ea={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'where':{'type':a0_0x1d1a99(0x498),'properties':{'_id':{'type':a0_0x1d1a99(0x245),'minLength':0x1},'pushName':{'type':a0_0x1d1a99(0x245),'minLength':0x1},'id':{'type':a0_0x1d1a99(0x245),'minLength':0x1}},...E(a0_0x1d1a99(0x71a),'id',a0_0x1d1a99(0x50c))}}},va={'$id':(0x0,v['v4'])(),'type':'object','properties':{'name':{'type':a0_0x1d1a99(0x245)}},...E('name')},Ca={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'status':{'type':'string'}},...E(a0_0x1d1a99(0x1be))},Ee={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'number':{'type':a0_0x1d1a99(0x245)},'picture':{'type':a0_0x1d1a99(0x245)}}},Na={'type':a0_0x1d1a99(0x498),'properties':{'wuid':{'type':a0_0x1d1a99(0x245)},'name':{'type':a0_0x1d1a99(0x245)},'picture':{'type':a0_0x1d1a99(0x245)},'status':{'type':'string'},'isBusiness':{'type':a0_0x1d1a99(0x2b9)}}},Ta={'$id':(0x0,v['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x1d1a99(0x498),'if':{'propertyNames':{'enum':[a0_0x1d1a99(0x52d),'remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x1d1a99(0x245),'minLength':0x1,'description':a0_0x1d1a99(0x634)},'fromMe':{'type':a0_0x1d1a99(0x2b9),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x1d1a99(0x498)}},...E(a0_0x1d1a99(0x71a))},'limit':{'type':'integer'}}},fn={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'where':{'type':a0_0x1d1a99(0x498),'properties':{'_id':{'type':a0_0x1d1a99(0x245)},'remoteJid':{'type':'string'},'id':{'type':a0_0x1d1a99(0x245)},'fromMe':{'type':a0_0x1d1a99(0x2b9),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x1d1a99(0x245)},'status':{'type':a0_0x1d1a99(0x245),'enum':['ERROR',a0_0x1d1a99(0x472),a0_0x1d1a99(0x5bc),a0_0x1d1a99(0x414),a0_0x1d1a99(0x44a),a0_0x1d1a99(0x57c)]}},...E(a0_0x1d1a99(0x71a),'remoteJid','id','status')},'limit':{'type':a0_0x1d1a99(0x293)}}},Ra={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'number':{...X},'presence':{'type':a0_0x1d1a99(0x245),'enum':[a0_0x1d1a99(0x583),a0_0x1d1a99(0x5ee),'composing',a0_0x1d1a99(0x1d4),a0_0x1d1a99(0x6f0)]}},'required':[a0_0x1d1a99(0x2a5),a0_0x1d1a99(0x2ba)]},Ma={'$id':(0x0,v['v4'])(),'type':'object','properties':{'subject':{'type':a0_0x1d1a99(0x245)},'description':{'type':a0_0x1d1a99(0x245)},'profilePicture':{'type':a0_0x1d1a99(0x245)},'participants':{'type':a0_0x1d1a99(0x40f),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x1d1a99(0x58d),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x1d1a99(0x62d),a0_0x1d1a99(0x742)],...E(a0_0x1d1a99(0x62d),'description',a0_0x1d1a99(0x260))},ve={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'groupJid':{'type':a0_0x1d1a99(0x245),'pattern':a0_0x1d1a99(0x1d8)}},'required':['groupJid'],...E(a0_0x1d1a99(0x36c))},Aa={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'groupJid':{'type':a0_0x1d1a99(0x245)},'action':{'type':'string','enum':[a0_0x1d1a99(0x1ce),'remove','promote',a0_0x1d1a99(0x731)]},'participants':{'type':a0_0x1d1a99(0x40f),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1d1a99(0x245),'minLength':0xa,'pattern':'\x5cd+','description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x1d1a99(0x36c),a0_0x1d1a99(0x549),a0_0x1d1a99(0x742)],...E('groupJid','action')},Ia={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0x1d1a99(0x2ba),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x1d1a99(0x36c),'expiration'],...E(a0_0x1d1a99(0x36c),'expiration')},Da={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'groupJid':{'type':a0_0x1d1a99(0x245)},'image':{'type':a0_0x1d1a99(0x245)}},'required':[a0_0x1d1a99(0x36c),a0_0x1d1a99(0x2f1)],...E('groupJid',a0_0x1d1a99(0x2f1))},Oa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'description':{'type':a0_0x1d1a99(0x245)}},'required':['groupJid','description'],...E(a0_0x1d1a99(0x36c),a0_0x1d1a99(0x442))},_a={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'groupJid':{'type':a0_0x1d1a99(0x245)},'name':{'type':'string'}},'required':[a0_0x1d1a99(0x36c),a0_0x1d1a99(0x4ef)],...E(a0_0x1d1a99(0x36c),a0_0x1d1a99(0x4ef))},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'groupJid':{'type':a0_0x1d1a99(0x245)},'setting':{'type':'string','enum':[a0_0x1d1a99(0x3e2),a0_0x1d1a99(0x30a),a0_0x1d1a99(0x228),'locked']}},'required':[a0_0x1d1a99(0x36c),a0_0x1d1a99(0x660)],...E('groupJid',a0_0x1d1a99(0x660))},xa={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'inviteCode':{'type':a0_0x1d1a99(0x245)}},'required':['inviteCode'],...E(a0_0x1d1a99(0x75c))},$a={'$id':(0x0,v['v4'])(),'type':a0_0x1d1a99(0x498),'properties':{'url':{'type':a0_0x1d1a99(0x245)},'enabled':{'type':a0_0x1d1a99(0x2b9),'enum':[!0x0,!0x1]}},'required':[a0_0x1d1a99(0x633),a0_0x1d1a99(0x672)]},wn={'$id':(0x0,v['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x1d1a99(0x2b9),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x1d1a99(0x2b9),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x1d1a99(0x2b9),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x1d1a99(0x2b9),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x1d1a99(0x2b9),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x1d1a99(0x2b9),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x1d1a99(0x2b9),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x1d1a99(0x2b9),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x1d1a99(0x2b9),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x1d1a99(0x2b9),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x1d1a99(0x2b9),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x1d1a99(0x2b9),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x1d1a99(0x2b9),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x1d1a99(0x2b9),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x1d1a99(0x2b9),'enum':[!0x0,!0x1]}},'required':[a0_0x1d1a99(0x2c8),a0_0x1d1a99(0x760),a0_0x1d1a99(0x789),a0_0x1d1a99(0x237),a0_0x1d1a99(0x27b),a0_0x1d1a99(0x629),a0_0x1d1a99(0x34f),'CONTACTS_SET',a0_0x1d1a99(0x543),a0_0x1d1a99(0x26b),a0_0x1d1a99(0x510),a0_0x1d1a99(0x229),a0_0x1d1a99(0x1d2),a0_0x1d1a99(0x42f),a0_0x1d1a99(0x33c),a0_0x1d1a99(0x700),a0_0x1d1a99(0x242),a0_0x1d1a99(0x648),a0_0x1d1a99(0x391)],...E(a0_0x1d1a99(0x2c8),'STATUS_INSTANCE','QRCODE_UPDATED',a0_0x1d1a99(0x237),a0_0x1d1a99(0x27b),a0_0x1d1a99(0x629),a0_0x1d1a99(0x34f),'CONTACTS_SET',a0_0x1d1a99(0x543),a0_0x1d1a99(0x26b),a0_0x1d1a99(0x510),a0_0x1d1a99(0x229),a0_0x1d1a99(0x1d2),a0_0x1d1a99(0x42f),a0_0x1d1a99(0x33c),a0_0x1d1a99(0x700),a0_0x1d1a99(0x242),a0_0x1d1a99(0x648),'GROUP_PARTICIPANTS_UPDATE')},We=class{},He=class extends W{constructor(_0x1ffd7f){super(_0x1ffd7f),this['configService']=_0x1ffd7f;}[a0_0x1d1a99(0x3a5)](_0x466f16){return ks(_0x466f16);}async['insert'](_0xb889a8){const _0x2f8b76=a0_0x1d1a99;if(_0xb889a8['length']!==0x0)try{return{'insertCount':(await this[_0x2f8b76(0x3a5)](_0xb889a8[0x0][_0x2f8b76(0x70b)])[_0x2f8b76(0x6db)]([..._0xb889a8]))[_0x2f8b76(0x45d)]};}catch(_0x10aa5f){return _0x10aa5f;}}async[a0_0x1d1a99(0x249)](_0x36b45d){const _0x1c77c8=a0_0x1d1a99;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x36b45d[_0x1c77c8(0x409)][_0x1c77c8(0x70b)])[_0x1c77c8(0x478)]({..._0x36b45d[_0x1c77c8(0x409)]}))[_0x1c77c8(0x4fe)]};}catch(_0x2294c4){return{'error':_0x2294c4?.[_0x1c77c8(0x55b)]()};}}async[a0_0x1d1a99(0x1bb)](_0x39ba31,_0x22d3bc){const _0x306a4b=a0_0x1d1a99;try{if(_0x39ba31['length']===0x0)return;let _0x2545aa=this[_0x306a4b(0x3a5)](_0x22d3bc),_0x2db96e=_0x39ba31[_0x306a4b(0x5dc)](_0x6f0faf=>({'updateOne':{'filter':{'_id':_0x6f0faf[_0x306a4b(0x71a)],'owner':_0x22d3bc},'update':{..._0x6f0faf}}})),{modifiedCount:_0x588f2f}=await _0x2545aa[_0x306a4b(0x451)](_0x2db96e);return{'insertCount':_0x588f2f};}catch{return;}}async['find'](_0x1c32b0){const _0x3d0136=a0_0x1d1a99;try{return await this[_0x3d0136(0x3a5)](_0x1c32b0[_0x3d0136(0x409)][_0x3d0136(0x70b)])['find']({..._0x1c32b0[_0x3d0136(0x409)]})['limit'](_0x1c32b0?.[_0x3d0136(0x4ab)]??0x0)[_0x3d0136(0x5ab)]();}catch{return[];}}async[a0_0x1d1a99(0x367)](_0x3b9b92){const _0x3ce73b=a0_0x1d1a99;try{return await this[_0x3ce73b(0x3a5)](_0x3b9b92[_0x3ce73b(0x409)]['owner'])[_0x3ce73b(0x367)]({..._0x3b9b92['where']})[_0x3ce73b(0x5ab)]();}catch{return null;}}async[a0_0x1d1a99(0x6a1)](_0x43a61c){const _0x4c32c1=a0_0x1d1a99;try{return await this[_0x4c32c1(0x3a5)](_0x43a61c)[_0x4c32c1(0x41e)]['drop'](),{'success':!0x0};}catch(_0x3e3e35){return console['error'](_0x3e3e35),{'success':!0x1,'error':_0x3e3e35};}}},Ke=require('jsonschema'),Tn=require('express-async-errors'),ns=new N('Validate'),k=class{constructor(){}[a0_0x1d1a99(0x74b)](_0x235368,_0x3d1e0d=!0x0){let _0xe3f004='/'+_0x235368;return _0x3d1e0d&&(_0xe3f004+='/:instanceName'),_0xe3f004;}async['dataValidate'](_0x4060ac){const _0x82df4=a0_0x1d1a99;let {request:_0x302e32,schema:_0x739440,ClassRef:_0x75a6a1,execute:_0x1b98ea}=_0x4060ac,_0x13cbfd=new _0x75a6a1(),_0x2ea0b5=_0x302e32[_0x82df4(0x64a)],_0x10b745=_0x302e32['params'];_0x302e32?.['query']&&Object['keys'](_0x302e32[_0x82df4(0x771)])[_0x82df4(0x45d)]>0x0&&Object[_0x82df4(0x2bd)](_0x10b745,_0x302e32[_0x82df4(0x771)]),_0x302e32[_0x82df4(0x502)][_0x82df4(0x3c9)](_0x82df4(0x6b4))&&Object[_0x82df4(0x2bd)](_0x10b745,_0x2ea0b5),Object[_0x82df4(0x2bd)](_0x13cbfd,_0x2ea0b5);let _0x4c81b1=_0x739440?(0x0,Ke[_0x82df4(0x455)])(_0x13cbfd,_0x739440):{'valid':!0x0,'errors':[]};if(!_0x4c81b1['valid']){let _0x265705=_0x4c81b1['errors'][_0x82df4(0x5dc)](({property:_0x1e635f,stack:_0x56d714,schema:_0x18761f})=>{const _0x50cd75=_0x82df4;let _0x2a38bc;return _0x18761f[_0x50cd75(0x442)]?_0x2a38bc=_0x18761f[_0x50cd75(0x442)]:_0x2a38bc=_0x56d714[_0x50cd75(0x5d9)](_0x50cd75(0x738),''),{'property':_0x1e635f[_0x50cd75(0x5d9)](_0x50cd75(0x738),''),'message':_0x2a38bc};});throw ns[_0x82df4(0x790)]([..._0x265705]),new g(..._0x265705);}return await _0x1b98ea(_0x10b745,_0x13cbfd);}async[a0_0x1d1a99(0x2e1)](_0x573833){const _0x16348b=a0_0x1d1a99;let {request:_0x49104a,ClassRef:_0x3e087e,schema:_0x444693,execute:_0x5b26ef}=_0x573833,_0x2cda8e=_0x49104a['query'];if(!_0x2cda8e?.[_0x16348b(0x36c)])throw new g('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x16348b(0x66e));let _0x17b265=_0x49104a[_0x16348b(0x425)],_0x5ce538=_0x49104a['body'],_0x355a1b=new _0x3e087e();Object[_0x16348b(0x2bd)](_0x5ce538,_0x2cda8e),Object[_0x16348b(0x2bd)](_0x355a1b,_0x5ce538);let _0x525a4e=(0x0,Ke[_0x16348b(0x455)])(_0x355a1b,_0x444693);if(!_0x525a4e[_0x16348b(0x448)]){let _0x17192e=_0x525a4e[_0x16348b(0x2ff)][_0x16348b(0x5dc)](({property:_0x18d2fd,stack:_0xf02dbc,schema:_0x4bb4fe})=>{const _0x15fbdf=_0x16348b;let _0x33d2b9;return _0x4bb4fe[_0x15fbdf(0x442)]?_0x33d2b9=_0x4bb4fe['description']:_0x33d2b9=_0xf02dbc[_0x15fbdf(0x5d9)](_0x15fbdf(0x738),''),{'property':_0x18d2fd[_0x15fbdf(0x5d9)]('instance.',''),'message':_0x33d2b9};});throw ns[_0x16348b(0x790)]([..._0x17192e]),new g(..._0x17192e);}return await _0x5b26ef(_0x17b265,_0x355a1b);}async[a0_0x1d1a99(0x6f9)](_0x1fe5e4){const _0x553dc1=a0_0x1d1a99;let {request:_0x17eef5,ClassRef:_0x2df64e,schema:_0x113410,execute:_0xfa24eb}=_0x1fe5e4,_0x470b39=_0x17eef5[_0x553dc1(0x64a)];if(!_0x470b39?.[_0x553dc1(0x75c)])throw new g(_0x553dc1(0x381),'ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x28c08b=_0x17eef5[_0x553dc1(0x425)],_0x31ebdf=_0x17eef5[_0x553dc1(0x64a)],_0x10e80d=new _0x2df64e();Object['assign'](_0x31ebdf,_0x470b39),Object['assign'](_0x10e80d,_0x31ebdf);let _0xd8e925=(0x0,Ke[_0x553dc1(0x455)])(_0x10e80d,_0x113410);if(!_0xd8e925['valid']){let _0x44dfb3=_0xd8e925['errors']['map'](({property:_0x3b0be0,stack:_0x100144,schema:_0x511e96})=>{const _0x512079=_0x553dc1;let _0x443550;return _0x511e96['description']?_0x443550=_0x511e96['description']:_0x443550=_0x100144[_0x512079(0x5d9)]('instance.',''),{'property':_0x3b0be0[_0x512079(0x5d9)](_0x512079(0x738),''),'message':_0x443550};});throw ns[_0x553dc1(0x790)]([..._0x44dfb3]),new g(..._0x44dfb3);}return await _0xfa24eb(_0x28c08b,_0x10e80d);}},b=class{},ze=class extends k{constructor(..._0x234eda){const _0x1542e9=a0_0x1d1a99;super(),this['router']=(0x0,ka[_0x1542e9(0x4ff)])(),this[_0x1542e9(0x29e)][_0x1542e9(0x4c0)](this[_0x1542e9(0x74b)](_0x1542e9(0x4e2)),..._0x234eda,async(_0x224ca4,_0x92992a)=>{const _0x4b04e4=_0x1542e9;let _0x3edda3=await this[_0x4b04e4(0x1f2)]({'request':_0x224ca4,'schema':Ra,'ClassRef':ke,'execute':(_0x28e757,_0x21d3e8)=>O[_0x4b04e4(0x4e2)](_0x28e757,_0x21d3e8)});return _0x92992a['status'](0xc9)[_0x4b04e4(0x67b)](_0x3edda3);})[_0x1542e9(0x4c0)](this[_0x1542e9(0x74b)](_0x1542e9(0x325)),..._0x234eda,async(_0x2cd0d8,_0x5c9524)=>{const _0x4e3ba1=_0x1542e9;let _0xdfc556=await this['dataValidate']({'request':_0x2cd0d8,'schema':fa,'ClassRef':Le,'execute':(_0x512606,_0x34bf77)=>O[_0x4e3ba1(0x2ab)](_0x512606,_0x34bf77)});return _0x5c9524[_0x4e3ba1(0x1be)](0xc9)['json'](_0xdfc556);})[_0x1542e9(0x4c0)](this[_0x1542e9(0x74b)](_0x1542e9(0x60b)),..._0x234eda,async(_0x11efff,_0x19e038)=>{const _0x156124=_0x1542e9;let _0x148ccf=await this[_0x156124(0x1f2)]({'request':_0x11efff,'schema':C,'ClassRef':b,'execute':(_0x24785b,_0x139472)=>O[_0x156124(0x60b)](_0x24785b,_0x139472)});return _0x19e038[_0x156124(0x1be)](0xc9)[_0x156124(0x67b)](_0x148ccf);})[_0x1542e9(0x34a)](this[_0x1542e9(0x74b)](_0x1542e9(0x1f8)),..._0x234eda,async(_0x2ce68a,_0x7612df)=>{const _0x33754c=_0x1542e9;let _0xdeb3b4=await this[_0x33754c(0x1f2)]({'request':_0x2ce68a,'schema':wa,'ClassRef':je,'execute':(_0x25ac9a,_0x3a1dac)=>O[_0x33754c(0x516)](_0x25ac9a,_0x3a1dac)});return _0x7612df[_0x33754c(0x1be)](0xc9)[_0x33754c(0x67b)](_0xdeb3b4);})['put'](this[_0x1542e9(0x74b)](_0x1542e9(0x5d3)),..._0x234eda,async(_0x52486d,_0x5858fd)=>{const _0x510a70=_0x1542e9;let _0x45d301=await this['dataValidate']({'request':_0x52486d,'schema':ba,'ClassRef':Fe,'execute':(_0x458623,_0x213e99)=>O[_0x510a70(0x5d3)](_0x458623,_0x213e99)});return _0x5858fd[_0x510a70(0x1be)](0xc9)[_0x510a70(0x67b)](_0x45d301);})['delete'](this[_0x1542e9(0x74b)](_0x1542e9(0x5cd)),..._0x234eda,async(_0x3ec1c6,_0x1d5288)=>{const _0x344fb3=_0x1542e9;let _0x3f3d0b=await this[_0x344fb3(0x1f2)]({'request':_0x3ec1c6,'schema':Sa,'ClassRef':qe,'execute':(_0xb0fdc7,_0x2aa61e)=>O[_0x344fb3(0x40e)](_0xb0fdc7,_0x2aa61e)});return _0x1d5288['status'](0xc9)[_0x344fb3(0x67b)](_0x3f3d0b);})[_0x1542e9(0x4c0)](this[_0x1542e9(0x74b)]('fetchProfilePictureUrl'),..._0x234eda,async(_0x3edb4c,_0xfade48)=>{const _0x3369e6=_0x1542e9;let _0x1e9aab=await this['dataValidate']({'request':_0x3edb4c,'schema':Ee,'ClassRef':Se,'execute':(_0x541e4b,_0x1b6a9c)=>O[_0x3369e6(0x66f)](_0x541e4b,_0x1b6a9c)});return _0xfade48[_0x3369e6(0x1be)](0xc8)[_0x3369e6(0x67b)](_0x1e9aab);})[_0x1542e9(0x4c0)](this[_0x1542e9(0x74b)](_0x1542e9(0x697)),..._0x234eda,async(_0x1fde43,_0x289065)=>{const _0x534a21=_0x1542e9;let _0x1ad15d=await this[_0x534a21(0x1f2)]({'request':_0x1fde43,'schema':Na,'ClassRef':Se,'execute':(_0x2b5eaa,_0x155f81)=>O[_0x534a21(0x697)](_0x2b5eaa,_0x155f81)});return _0x289065[_0x534a21(0x1be)](0xc8)['json'](_0x1ad15d);})[_0x1542e9(0x4c0)](this[_0x1542e9(0x74b)]('findContacts'),..._0x234eda,async(_0x407a70,_0x14b38e)=>{const _0x43af23=_0x1542e9;let _0x8ff458=await this[_0x43af23(0x1f2)]({'request':_0x407a70,'schema':Ea,'ClassRef':We,'execute':(_0x7eae62,_0x3b3c68)=>O['fetchContacts'](_0x7eae62,_0x3b3c68)});return _0x14b38e['status'](0xc8)[_0x43af23(0x67b)](_0x8ff458);})[_0x1542e9(0x4c0)](this[_0x1542e9(0x74b)](_0x1542e9(0x467)),..._0x234eda,async(_0x6ef061,_0x4d664c)=>{const _0xb534f7=_0x1542e9;let _0x371187=await this[_0xb534f7(0x1f2)]({'request':_0x6ef061,'schema':null,'ClassRef':Object,'execute':(_0x171cf7,_0x23e2d5)=>O[_0xb534f7(0x467)](_0x171cf7,_0x23e2d5)});return _0x4d664c[_0xb534f7(0x1be)](0xc9)[_0xb534f7(0x67b)](_0x371187);})[_0x1542e9(0x4c0)](this['routerPath']('findMessages'),..._0x234eda,async(_0x255ad2,_0xe65b6d)=>{const _0x350d3b=_0x1542e9;let _0x23091b=await this[_0x350d3b(0x1f2)]({'request':_0x255ad2,'schema':Ta,'ClassRef':xe,'execute':(_0x4bffcb,_0x264238)=>O[_0x350d3b(0x4bf)](_0x4bffcb,_0x264238)});return _0xe65b6d[_0x350d3b(0x1be)](0xc8)[_0x350d3b(0x67b)](_0x23091b);})[_0x1542e9(0x278)](this[_0x1542e9(0x74b)](_0x1542e9(0x64c)),..._0x234eda,async(_0x48a9bd,_0x563c13)=>{const _0x19e531=_0x1542e9;let _0x3892a8=await this[_0x19e531(0x1f2)]({'request':_0x48a9bd,'schema':null,'ClassRef':b,'execute':_0xac229f=>O['fetchChats'](_0xac229f)});return _0x563c13['status'](0xc8)[_0x19e531(0x67b)](_0x3892a8);})['get'](this['routerPath']('fetchPrivacySettings'),..._0x234eda,async(_0x48193a,_0x597a51)=>{const _0x18f0bf=_0x1542e9;let _0x339438=await this[_0x18f0bf(0x1f2)]({'request':_0x48193a,'schema':null,'ClassRef':b,'execute':_0x329fd7=>O[_0x18f0bf(0x36e)](_0x329fd7)});return _0x597a51[_0x18f0bf(0x1be)](0xc8)['json'](_0x339438);})[_0x1542e9(0x34a)](this[_0x1542e9(0x74b)](_0x1542e9(0x4d3)),..._0x234eda,async(_0x51fc83,_0x4961e2)=>{const _0x1f8d85=_0x1542e9;let _0x5220c3=await this[_0x1f8d85(0x1f2)]({'request':_0x51fc83,'schema':ya,'ClassRef':Be,'execute':(_0x29f492,_0x57813d)=>O[_0x1f8d85(0x4d3)](_0x29f492,_0x57813d)});return _0x4961e2['status'](0xc9)[_0x1f8d85(0x67b)](_0x5220c3);})[_0x1542e9(0x4c0)](this['routerPath']('fetchBusinessProfile'),..._0x234eda,async(_0x2174c9,_0x40bb4b)=>{const _0x55901d=_0x1542e9;let _0x4dd800=await this[_0x55901d(0x1f2)]({'request':_0x2174c9,'schema':Ee,'ClassRef':we,'execute':(_0x371a13,_0x2b145c)=>O[_0x55901d(0x4f4)](_0x371a13,_0x2b145c)});return _0x40bb4b[_0x55901d(0x1be)](0xc8)['json'](_0x4dd800);})[_0x1542e9(0x4c0)](this[_0x1542e9(0x74b)]('updateProfileName'),..._0x234eda,async(_0x3d9fca,_0x352a0e)=>{const _0x31ee09=_0x1542e9;let _0x3e455f=await this['dataValidate']({'request':_0x3d9fca,'schema':va,'ClassRef':Ue,'execute':(_0x19f115,_0x558f5e)=>O[_0x31ee09(0x1e0)](_0x19f115,_0x558f5e)});return _0x352a0e[_0x31ee09(0x1be)](0xc8)[_0x31ee09(0x67b)](_0x3e455f);})[_0x1542e9(0x4c0)](this[_0x1542e9(0x74b)]('updateProfileStatus'),..._0x234eda,async(_0x13f8db,_0x6b4681)=>{const _0x1a7fdc=_0x1542e9;let _0x32f3d1=await this[_0x1a7fdc(0x1f2)]({'request':_0x13f8db,'schema':Ca,'ClassRef':Ve,'execute':(_0x218fc9,_0x3b0bc4)=>O[_0x1a7fdc(0x432)](_0x218fc9,_0x3b0bc4)});return _0x6b4681[_0x1a7fdc(0x1be)](0xc8)['json'](_0x32f3d1);})[_0x1542e9(0x34a)](this[_0x1542e9(0x74b)](_0x1542e9(0x5e1)),..._0x234eda,async(_0x3ee252,_0x4c5c54)=>{const _0x6424b2=_0x1542e9;let _0x227d0=await this[_0x6424b2(0x1f2)]({'request':_0x3ee252,'schema':Ee,'ClassRef':we,'execute':(_0x423837,_0x16aaa5)=>O[_0x6424b2(0x5e1)](_0x423837,_0x16aaa5)});return _0x4c5c54[_0x6424b2(0x1be)](0xc8)[_0x6424b2(0x67b)](_0x227d0);})[_0x1542e9(0x249)](this['routerPath'](_0x1542e9(0x6c7)),..._0x234eda,async(_0x876dee,_0x3ae909)=>{const _0x29a69f=_0x1542e9;let _0x512cea=await this['dataValidate']({'request':_0x876dee,'schema':Ee,'ClassRef':we,'execute':(_0xf4b35e,_0x177a4e)=>O[_0x29a69f(0x6c7)](_0xf4b35e,_0x177a4e)});return _0x3ae909[_0x29a69f(0x1be)](0xc8)[_0x29a69f(0x67b)](_0x512cea);});}},La=require('express'),Qe=class{},Ye=class{},Xe=class{},Ze=class{},et=class{},Z=class{},tt=class{},st=class extends Z{},at=class extends Z{},ot=class extends k{constructor(..._0x5c005e){const _0x3a8e4b=a0_0x1d1a99;super(),this[_0x3a8e4b(0x29e)]=(0x0,La[_0x3a8e4b(0x4ff)])(),this[_0x3a8e4b(0x29e)][_0x3a8e4b(0x4c0)](this[_0x3a8e4b(0x74b)](_0x3a8e4b(0x52e)),..._0x5c005e,async(_0x3cb17a,_0x5a4d35)=>{const _0x1db1f6=_0x3a8e4b;let _0x4b6d48=await this[_0x1db1f6(0x1f2)]({'request':_0x3cb17a,'schema':Ma,'ClassRef':Qe,'execute':(_0x585de4,_0x20f234)=>U[_0x1db1f6(0x3ef)](_0x585de4,_0x20f234)});_0x5a4d35['status'](0xc9)[_0x1db1f6(0x67b)](_0x4b6d48);})[_0x3a8e4b(0x34a)](this['routerPath'](_0x3a8e4b(0x476)),..._0x5c005e,async(_0x546712,_0x2cf960)=>{const _0x3341f2=_0x3a8e4b;let _0x567e5d=await this['groupValidate']({'request':_0x546712,'schema':Da,'ClassRef':Ye,'execute':(_0x31a0bc,_0x120045)=>U[_0x3341f2(0x476)](_0x31a0bc,_0x120045)});_0x2cf960['status'](0xc9)[_0x3341f2(0x67b)](_0x567e5d);})[_0x3a8e4b(0x34a)](this[_0x3a8e4b(0x74b)]('groupDesc'),..._0x5c005e,async(_0xe98875,_0x2f7dfe)=>{const _0x1ffe8b=_0x3a8e4b;let _0x21a402=await this[_0x1ffe8b(0x2e1)]({'request':_0xe98875,'schema':Oa,'ClassRef':Xe,'execute':(_0x50e1b1,_0x597a11)=>U['groupDesc'](_0x50e1b1,_0x597a11)});_0x2f7dfe[_0x1ffe8b(0x1be)](0xc9)[_0x1ffe8b(0x67b)](_0x21a402);})[_0x3a8e4b(0x34a)](this[_0x3a8e4b(0x74b)](_0x3a8e4b(0x737)),..._0x5c005e,async(_0x2f1822,_0x2f489c)=>{const _0x1a6351=_0x3a8e4b;let _0x2e197e=await this[_0x1a6351(0x2e1)]({'request':_0x2f1822,'schema':_a,'ClassRef':Ze,'execute':(_0x771964,_0x339e01)=>U[_0x1a6351(0x737)](_0x771964,_0x339e01)});_0x2f489c[_0x1a6351(0x1be)](0xc9)[_0x1a6351(0x67b)](_0x2e197e);})[_0x3a8e4b(0x34a)](this[_0x3a8e4b(0x74b)](_0x3a8e4b(0x1ed)),..._0x5c005e,async(_0x3530e1,_0x257269)=>{const _0x3d6d88=_0x3a8e4b;let _0x50e4b7=await this['groupValidate']({'request':_0x3530e1,'schema':Pa,'ClassRef':et,'execute':(_0x27721b,_0x5755ad)=>U[_0x3d6d88(0x1ed)](_0x27721b,_0x5755ad)});_0x257269[_0x3d6d88(0x1be)](0xc9)[_0x3d6d88(0x67b)](_0x50e4b7);})[_0x3a8e4b(0x34a)](this[_0x3a8e4b(0x74b)]('toggleEphemeral'),..._0x5c005e,async(_0x40129a,_0x63b67c)=>{const _0x28d4d8=_0x3a8e4b;let _0x518523=await this['groupValidate']({'request':_0x40129a,'schema':Ia,'ClassRef':at,'execute':(_0x4503a1,_0x1028ce)=>U[_0x28d4d8(0x791)](_0x4503a1,_0x1028ce)});_0x63b67c[_0x28d4d8(0x1be)](0xc9)['json'](_0x518523);})[_0x3a8e4b(0x278)](this[_0x3a8e4b(0x74b)](_0x3a8e4b(0x3cc)),..._0x5c005e,async(_0x13d6c5,_0x75ddf3)=>{const _0x5bbfc3=_0x3a8e4b;let _0x18f642=await this[_0x5bbfc3(0x2e1)]({'request':_0x13d6c5,'schema':ve,'ClassRef':Z,'execute':(_0x3f623d,_0x180e2b)=>U[_0x5bbfc3(0x49b)](_0x3f623d,_0x180e2b)});_0x75ddf3['status'](0xc8)[_0x5bbfc3(0x67b)](_0x18f642);})[_0x3a8e4b(0x278)](this[_0x3a8e4b(0x74b)](_0x3a8e4b(0x3ea)),..._0x5c005e,async(_0x483bb0,_0x3df26a)=>{const _0x173c3b=_0x3a8e4b;let _0x325a5a=await this[_0x173c3b(0x1f2)]({'request':_0x483bb0,'schema':C,'ClassRef':b,'execute':_0x5297ef=>U['findGroups'](_0x5297ef)});_0x3df26a[_0x173c3b(0x1be)](0xc8)['json'](_0x325a5a);})[_0x3a8e4b(0x278)](this['routerPath'](_0x3a8e4b(0x742)),..._0x5c005e,async(_0x3a46b0,_0x2150a4)=>{const _0x16c530=_0x3a8e4b;let _0x11789f=await this[_0x16c530(0x2e1)]({'request':_0x3a46b0,'schema':ve,'ClassRef':Z,'execute':(_0x545a38,_0x4c3d54)=>U[_0x16c530(0x5b7)](_0x545a38,_0x4c3d54)});_0x2150a4['status'](0xc8)[_0x16c530(0x67b)](_0x11789f);})[_0x3a8e4b(0x278)](this[_0x3a8e4b(0x74b)](_0x3a8e4b(0x75c)),..._0x5c005e,async(_0x2cef31,_0x5cafb3)=>{const _0x13df98=_0x3a8e4b;let _0x30b6c5=await this['groupValidate']({'request':_0x2cef31,'schema':ve,'ClassRef':Z,'execute':(_0x12f8a9,_0x45a818)=>U[_0x13df98(0x75c)](_0x12f8a9,_0x45a818)});_0x5cafb3[_0x13df98(0x1be)](0xc8)[_0x13df98(0x67b)](_0x30b6c5);})[_0x3a8e4b(0x34a)](this['routerPath']('joinGroup'),..._0x5c005e,async(_0x54fd36,_0x5c7a48)=>{const _0x4a56a4=_0x3a8e4b;let _0x35b41e=await this[_0x4a56a4(0x6f9)]({'request':_0x54fd36,'schema':xa,'ClassRef':tt,'execute':(_0x4a32fd,_0x68f447)=>U[_0x4a56a4(0x5db)](_0x4a32fd,_0x68f447)});_0x5c7a48[_0x4a56a4(0x1be)](0xc9)[_0x4a56a4(0x67b)](_0x35b41e);})[_0x3a8e4b(0x34a)](this['routerPath'](_0x3a8e4b(0x658)),..._0x5c005e,async(_0xac1bb1,_0x3de07f)=>{const _0x1ef876=_0x3a8e4b;let _0x77dbb7=await this[_0x1ef876(0x2e1)]({'request':_0xac1bb1,'schema':ve,'ClassRef':Z,'execute':(_0x526773,_0x3a2c7a)=>U[_0x1ef876(0x658)](_0x526773,_0x3a2c7a)});_0x3de07f['status'](0xc9)[_0x1ef876(0x67b)](_0x77dbb7);})[_0x3a8e4b(0x34a)](this[_0x3a8e4b(0x74b)](_0x3a8e4b(0x2c9)),..._0x5c005e,async(_0x1bfda6,_0x362ca7)=>{const _0x4a9a87=_0x3a8e4b;let _0x34c2bd=await this[_0x4a9a87(0x2e1)]({'request':_0x1bfda6,'schema':Aa,'ClassRef':st,'execute':(_0x15056d,_0x568bfb)=>U['updateGParticipate'](_0x15056d,_0x568bfb)});_0x362ca7['status'](0xc9)[_0x4a9a87(0x67b)](_0x34c2bd);})[_0x3a8e4b(0x249)](this[_0x3a8e4b(0x74b)](_0x3a8e4b(0x573)),..._0x5c005e,async(_0x288630,_0x56508d)=>{const _0x3bb090=_0x3a8e4b;let _0x3f1bc8=await this[_0x3bb090(0x2e1)]({'request':_0x288630,'schema':{},'ClassRef':Z,'execute':(_0x30265f,_0x3ed3c8)=>U[_0x3bb090(0x573)](_0x30265f,_0x3ed3c8)});_0x56508d['status'](0xc8)['json'](_0x3f1bc8);});}},ja=require(a0_0x1d1a99(0x780)),Ce=require(a0_0x1d1a99(0x27f)),cs=require(a0_0x1d1a99(0x1d3)),Ua=require(a0_0x1d1a99(0x2a9)),Va=T(require(a0_0x1d1a99(0x62f))),it=class{},rt=class c{constructor(_0x56c58b,_0x2c3848,_0x2828ee){const _0x48c2db=a0_0x1d1a99;this[_0x48c2db(0x749)]=_0x56c58b,this[_0x48c2db(0x6be)]=_0x2c3848,this[_0x48c2db(0x4b4)]=_0x2828ee,this['logger']=new N(c[_0x48c2db(0x4ef)]);}async[a0_0x1d1a99(0x1df)](_0x283136){const _0x504ff5=a0_0x1d1a99;let _0x403b98=this['configService'][_0x504ff5(0x278)]('AUTHENTICATION')['JWT'],_0x5b5986=(0x0,Ce['sign'])({'instanceName':_0x283136['instanceName'],'apiName':Ge,'tokenId':(0x0,cs['v4'])()},_0x403b98['SECRET'],{'expiresIn':_0x403b98[_0x504ff5(0x386)],'encoding':_0x504ff5(0x2d6),'subject':'g-t'}),_0x2f99d8=await this['repository'][_0x504ff5(0x437)][_0x504ff5(0x52e)]({'jwt':_0x5b5986},_0x283136['instanceName']);if(_0x2f99d8[_0x504ff5(0x790)])throw this[_0x504ff5(0x59d)]['error']({'localError':c['name']+'.jwt','error':_0x2f99d8[_0x504ff5(0x790)]}),new g(_0x504ff5(0x755),_0x2f99d8[_0x504ff5(0x790)]?.['toString']());return{'jwt':_0x5b5986};}async[a0_0x1d1a99(0x38e)](_0x509e0d){const _0x3a5d17=a0_0x1d1a99;let _0x567891=(0x0,cs['v4'])()['toUpperCase'](),_0x32266d=await this[_0x3a5d17(0x4b4)][_0x3a5d17(0x437)][_0x3a5d17(0x52e)]({'apikey':_0x567891},_0x509e0d['instanceName']);if(_0x32266d[_0x3a5d17(0x790)])throw this[_0x3a5d17(0x59d)][_0x3a5d17(0x790)]({'localError':c[_0x3a5d17(0x4ef)]+_0x3a5d17(0x404),'error':_0x32266d[_0x3a5d17(0x790)]}),new g('Authentication\x20error',_0x32266d['error']?.[_0x3a5d17(0x55b)]());return{'apikey':_0x567891};}async[a0_0x1d1a99(0x3df)](_0x25113a){const _0x5b3903=a0_0x1d1a99;let _0x1ced65=this[_0x5b3903(0x749)][_0x5b3903(0x278)]('AUTHENTICATION');return await this[_0x1ced65[_0x5b3903(0x5e0)]](_0x25113a);}async[a0_0x1d1a99(0x30f)]({oldToken:_0x1b531b}){const _0x49dbd8=a0_0x1d1a99;if(!(0x0,Ua[_0x49dbd8(0x6da)])(_0x1b531b))throw new g('Invalid\x20\x22oldToken\x22');try{let _0x33a7c5=this['configService'][_0x49dbd8(0x278)]('AUTHENTICATION')['JWT'],_0x5df1fe=(0x0,Ce[_0x49dbd8(0x4be)])(_0x1b531b,_0x33a7c5[_0x49dbd8(0x2f7)],{'ignoreExpiration':!0x0}),_0x16f64b=await this[_0x49dbd8(0x4b4)][_0x49dbd8(0x437)]['find'](_0x5df1fe[_0x49dbd8(0x6ca)]),_0x186ae3=(0x0,Ce[_0x49dbd8(0x4be)])(_0x16f64b[_0x49dbd8(0x1df)],_0x33a7c5[_0x49dbd8(0x2f7)],{'ignoreExpiration':!0x0});if(_0x5df1fe[_0x49dbd8(0x41a)]!==_0x186ae3[_0x49dbd8(0x41a)])throw new g(_0x49dbd8(0x599));let _0x131882={'jwt':(await this[_0x49dbd8(0x1df)]({'instanceName':_0x5df1fe[_0x49dbd8(0x6ca)]}))[_0x49dbd8(0x1df)],'instanceName':_0x5df1fe[_0x49dbd8(0x6ca)]};try{let _0x44d6c0=await this[_0x49dbd8(0x4b4)][_0x49dbd8(0x664)][_0x49dbd8(0x20b)](_0x5df1fe[_0x49dbd8(0x6ca)]);_0x44d6c0?.[_0x49dbd8(0x672)]&&this[_0x49dbd8(0x749)][_0x49dbd8(0x278)](_0x49dbd8(0x5d2))[_0x49dbd8(0x475)][_0x49dbd8(0x306)]&&await Va[_0x49dbd8(0x267)]['create']({'baseURL':_0x44d6c0[_0x49dbd8(0x633)]})['post']('',{'event':_0x49dbd8(0x1bd),'instance':_0x5df1fe[_0x49dbd8(0x6ca)],'data':_0x131882},{'params':{'owner':this[_0x49dbd8(0x6be)][_0x49dbd8(0x2b1)][_0x5df1fe[_0x49dbd8(0x6ca)]][_0x49dbd8(0x370)]}});}catch(_0x15d549){this[_0x49dbd8(0x59d)]['error'](_0x15d549);}return _0x131882;}catch(_0x254ad0){throw this[_0x49dbd8(0x59d)][_0x49dbd8(0x790)]({'localError':c[_0x49dbd8(0x4ef)]+_0x49dbd8(0x6cc),'error':_0x254ad0}),new g('Invalid\x20\x22oldToken\x22');}}},nt=class extends k{constructor(_0x37ef32,..._0x17f259){const _0x7568a5=a0_0x1d1a99;super(),this[_0x7568a5(0x749)]=_0x37ef32,this[_0x7568a5(0x29e)]=(0x0,ja[_0x7568a5(0x4ff)])();let _0x156183=_0x37ef32[_0x7568a5(0x278)]('AUTHENTICATION');this[_0x7568a5(0x29e)]['post'](_0x7568a5(0x1d9),..._0x17f259,async(_0x4a13d1,_0x4bad75)=>{const _0x383f90=_0x7568a5;let {instanceName:_0x313d48,apikey:_0x8c9fde}=_0x4a13d1['body'],_0x5c0905=await re[_0x383f90(0x2a8)]({'instanceName':_0x313d48,'apikey':_0x8c9fde});return _0x4bad75[_0x383f90(0x1be)](0xc9)[_0x383f90(0x67b)](_0x5c0905);})[_0x7568a5(0x34a)](this[_0x7568a5(0x74b)]('restart'),..._0x17f259,async(_0x2e1596,_0x48de7b)=>{const _0x16e9f8=_0x7568a5;let _0x38b9dc=await this[_0x16e9f8(0x1f2)]({'request':_0x2e1596,'schema':C,'ClassRef':b,'execute':_0x3e4d8a=>re[_0x16e9f8(0x1ca)](_0x3e4d8a)});return _0x48de7b[_0x16e9f8(0x1be)](0xc8)[_0x16e9f8(0x67b)](_0x38b9dc);})[_0x7568a5(0x278)](this[_0x7568a5(0x74b)](_0x7568a5(0x773)),..._0x17f259,async(_0x2339c9,_0x4735e2)=>{const _0xe3d4b7=_0x7568a5;let _0x557392=await this['dataValidate']({'request':_0x2339c9,'schema':C,'ClassRef':b,'execute':_0x206569=>re[_0xe3d4b7(0x527)](_0x206569)});return _0x4735e2[_0xe3d4b7(0x1be)](0xc8)[_0xe3d4b7(0x67b)](_0x557392);})['get'](this['routerPath'](_0x7568a5(0x617)),..._0x17f259,async(_0x5b533e,_0x553e73)=>{const _0x447af4=_0x7568a5;let _0x4963cf=await this[_0x447af4(0x1f2)]({'request':_0x5b533e,'schema':C,'ClassRef':b,'execute':_0x57d580=>re['connectionState'](_0x57d580)});return _0x553e73[_0x447af4(0x1be)](0xc8)['json'](_0x4963cf);})[_0x7568a5(0x278)](this[_0x7568a5(0x74b)]('fetchInstances',!0x1),..._0x17f259,async(_0x3f67d3,_0x165305)=>{const _0x3b28f6=_0x7568a5;let _0x539399=await this[_0x3b28f6(0x1f2)]({'request':_0x3f67d3,'schema':null,'ClassRef':b,'execute':_0x37c8a7=>re[_0x3b28f6(0x5a9)](_0x37c8a7)});return _0x165305[_0x3b28f6(0x1be)](0xc8)['json'](_0x539399);})['delete'](this[_0x7568a5(0x74b)](_0x7568a5(0x217)),..._0x17f259,async(_0x127cc5,_0x4603e6)=>{const _0x3c5fb8=_0x7568a5;let _0x5308ee=await this['dataValidate']({'request':_0x127cc5,'schema':C,'ClassRef':b,'execute':_0x5971e5=>re[_0x3c5fb8(0x217)](_0x5971e5)});return _0x4603e6['status'](0xc8)['json'](_0x5308ee);})['delete'](this[_0x7568a5(0x74b)](_0x7568a5(0x249)),..._0x17f259,async(_0x23078f,_0x721bae)=>{const _0x5d4d64=_0x7568a5;let _0x44688b=await this[_0x5d4d64(0x1f2)]({'request':_0x23078f,'schema':C,'ClassRef':b,'execute':_0x1081d3=>re[_0x5d4d64(0x42e)](_0x1081d3)});return _0x721bae[_0x5d4d64(0x1be)](0xc8)[_0x5d4d64(0x67b)](_0x44688b);}),_0x156183[_0x7568a5(0x5e0)]==='jwt'&&this[_0x7568a5(0x29e)][_0x7568a5(0x34a)]('/refreshToken',async(_0x114471,_0x8f40df)=>{const _0x2d1d50=_0x7568a5;let _0x4917d3=await this[_0x2d1d50(0x1f2)]({'request':_0x114471,'schema':aa,'ClassRef':it,'execute':(_0x5aedb3,_0x68f32d)=>re[_0x2d1d50(0x30f)](_0x5aedb3,_0x68f32d)});return _0x8f40df[_0x2d1d50(0x1be)](0xc9)[_0x2d1d50(0x67b)](_0x4917d3);});}},Fa=require(a0_0x1d1a99(0x780)),ls=class{},z=class extends ls{},ct=class extends z{},lt=class extends z{},ut=class extends z{},Ne=class extends z{},dt=class extends z{},pt=class extends z{},gt=class extends z{},mt=class extends z{},ht=class extends z{},ft=class{},wt=class extends k{constructor(..._0x188771){const _0xb9476e=a0_0x1d1a99;super(),this[_0xb9476e(0x29e)]=(0x0,Fa[_0xb9476e(0x4ff)])(),this[_0xb9476e(0x29e)]['post'](this[_0xb9476e(0x74b)](_0xb9476e(0x36b)),..._0x188771,async(_0x18339c,_0x187c87)=>{const _0x75e0dd=_0xb9476e;let _0x3a7b90=await this['dataValidate']({'request':_0x18339c,'schema':oa,'ClassRef':ct,'execute':(_0x12e64d,_0x1de9c9)=>K['sendText'](_0x12e64d,_0x1de9c9)});return _0x187c87[_0x75e0dd(0x1be)](0xc9)['json'](_0x3a7b90);})[_0xb9476e(0x4c0)](this[_0xb9476e(0x74b)](_0xb9476e(0x717)),..._0x188771,async(_0x39a758,_0x419039)=>{const _0x461533=_0xb9476e;let _0x226ec5=await this[_0x461533(0x1f2)]({'request':_0x39a758,'schema':ca,'ClassRef':Ne,'execute':(_0x3cf441,_0x3cbf29)=>K['sendMedia'](_0x3cf441,_0x3cbf29)});return _0x419039[_0x461533(0x1be)](0xc9)[_0x461533(0x67b)](_0x226ec5);})[_0xb9476e(0x4c0)](this['routerPath']('sendWhatsAppAudio'),..._0x188771,async(_0x24a11f,_0x5748ff)=>{const _0xb4a85f=_0xb9476e;let _0x2a5ca1=await this[_0xb4a85f(0x1f2)]({'request':_0x24a11f,'schema':la,'ClassRef':Ne,'execute':(_0x2d0ef8,_0x474bfb)=>K[_0xb4a85f(0x725)](_0x2d0ef8,_0x474bfb)});return _0x5748ff['status'](0xc9)['json'](_0x2a5ca1);})[_0xb9476e(0x4c0)](this['routerPath'](_0xb9476e(0x69f)),..._0x188771,async(_0x2b850e,_0x26e3c2)=>{const _0x4867d8=_0xb9476e;let _0x322783=await this[_0x4867d8(0x1f2)]({'request':_0x2b850e,'schema':da,'ClassRef':pt,'execute':(_0x68ee2d,_0x174ff9)=>K[_0x4867d8(0x69f)](_0x68ee2d,_0x174ff9)});return _0x26e3c2['status'](0xc9)[_0x4867d8(0x67b)](_0x322783);})[_0xb9476e(0x4c0)](this['routerPath'](_0xb9476e(0x605)),..._0x188771,async(_0x1d1bea,_0x3ed2bc)=>{const _0x419706=_0xb9476e;let _0x49fc2b=await this[_0x419706(0x1f2)]({'request':_0x1d1bea,'schema':pa,'ClassRef':gt,'execute':(_0x5d8ee4,_0x147a33)=>K['sendLocation'](_0x5d8ee4,_0x147a33)});return _0x3ed2bc[_0x419706(0x1be)](0xc9)[_0x419706(0x67b)](_0x49fc2b);})[_0xb9476e(0x4c0)](this['routerPath'](_0xb9476e(0x682)),..._0x188771,async(_0x4d6382,_0x41ec75)=>{const _0x236238=_0xb9476e;let _0x13c886=await this[_0x236238(0x1f2)]({'request':_0x4d6382,'schema':ga,'ClassRef':mt,'execute':(_0x42e509,_0x62bc7d)=>K[_0x236238(0x682)](_0x42e509,_0x62bc7d)});return _0x41ec75[_0x236238(0x1be)](0xc9)[_0x236238(0x67b)](_0x13c886);})[_0xb9476e(0x4c0)](this[_0xb9476e(0x74b)](_0xb9476e(0x1c2)),..._0x188771,async(_0xad9738,_0x4498e8)=>{const _0x582b41=_0xb9476e;let _0x1f0f13=await this[_0x582b41(0x1f2)]({'request':_0xad9738,'schema':ma,'ClassRef':ht,'execute':(_0x5a0bf1,_0x21d28e)=>K[_0x582b41(0x1c2)](_0x5a0bf1,_0x21d28e)});return _0x4498e8[_0x582b41(0x1be)](0xc9)[_0x582b41(0x67b)](_0x1f0f13);})[_0xb9476e(0x4c0)](this['routerPath'](_0xb9476e(0x520)),..._0x188771,async(_0x38ff59,_0x3488ba)=>{const _0x1dd92c=_0xb9476e;let _0x4fa702=await this[_0x1dd92c(0x1f2)]({'request':_0x38ff59,'schema':ha,'ClassRef':ft,'execute':(_0x24961c,_0x289623)=>K['sendReaction'](_0x24961c,_0x289623)});return _0x3488ba[_0x1dd92c(0x1be)](0xc9)[_0x1dd92c(0x67b)](_0x4fa702);})[_0xb9476e(0x4c0)](this[_0xb9476e(0x74b)]('sendPoll'),..._0x188771,async(_0x35be7b,_0x2de914)=>{const _0x23b52f=_0xb9476e;let _0x389f79=await this[_0x23b52f(0x1f2)]({'request':_0x35be7b,'schema':ua,'ClassRef':ut,'execute':(_0x205edb,_0x5b8fa9)=>K['sendPoll'](_0x205edb,_0x5b8fa9)});return _0x2de914[_0x23b52f(0x1be)](0xc9)[_0x23b52f(0x67b)](_0x389f79);})[_0xb9476e(0x4c0)](this[_0xb9476e(0x74b)](_0xb9476e(0x6e2)),..._0x188771,async(_0x932e5e,_0x3930ac)=>{const _0x2a7d32=_0xb9476e;let _0x563b64=await this['dataValidate']({'request':_0x932e5e,'schema':na,'ClassRef':lt,'execute':(_0x1b1091,_0x4f7cbf)=>K[_0x2a7d32(0x6e2)](_0x1b1091,_0x4f7cbf)});return _0x3930ac[_0x2a7d32(0x1be)](0xc9)[_0x2a7d32(0x67b)](_0x563b64);})[_0xb9476e(0x4c0)](this[_0xb9476e(0x74b)](_0xb9476e(0x3f9)),..._0x188771,async(_0x35dfbe,_0x410500)=>{const _0x52baed=_0xb9476e;let _0x1ee1d5=await this[_0x52baed(0x1f2)]({'request':_0x35dfbe,'schema':ra,'ClassRef':dt,'execute':(_0x480dfd,_0x5bd8f7)=>K['sendSticker'](_0x480dfd,_0x5bd8f7)});return _0x410500[_0x52baed(0x1be)](0xc9)[_0x52baed(0x67b)](_0x1ee1d5);});}},Ba=require('express'),yt=class extends k{constructor(..._0x6939f){const _0x3410f7=a0_0x1d1a99;super(),this[_0x3410f7(0x29e)]=(0x0,Ba[_0x3410f7(0x4ff)])(),this['router'][_0x3410f7(0x278)](this['routerPath'](_0x3410f7(0x24c)),..._0x6939f,(_0x37be24,_0x484751)=>qa[_0x3410f7(0x24c)](_0x37be24,_0x484751));}},Ja=require(a0_0x1d1a99(0x780)),bt=class{},St=class extends k{constructor(..._0x33b6d6){const _0x31f2eb=a0_0x1d1a99;super(),this[_0x31f2eb(0x29e)]=(0x0,Ja[_0x31f2eb(0x4ff)])(),this[_0x31f2eb(0x29e)][_0x31f2eb(0x4c0)](this[_0x31f2eb(0x74b)]('set'),..._0x33b6d6,async(_0x2c246f,_0x17e978)=>{const _0x140736=_0x31f2eb;let _0x151b0f=await this['dataValidate']({'request':_0x2c246f,'schema':$a,'ClassRef':bt,'execute':(_0x3f1ac7,_0x47f900)=>us[_0x140736(0x5aa)](_0x3f1ac7,_0x47f900)});_0x17e978['status'](0xc9)['json'](_0x151b0f);})[_0x31f2eb(0x278)](this['routerPath']('find'),..._0x33b6d6,async(_0x283062,_0x186437)=>{const _0x37d4c4=_0x31f2eb;let _0x3d75d9=await this['dataValidate']({'request':_0x283062,'schema':C,'ClassRef':b,'execute':_0x2fbfcd=>us['findWebhook'](_0x2fbfcd)});_0x186437['status'](0xc8)[_0x37d4c4(0x67b)](_0x3d75d9);});}},Ga=require(a0_0x1d1a99(0x780)),h=new N(a0_0x1d1a99(0x76b)),Et=class extends k{constructor(..._0x39c4ca){const _0x2c2c1f=a0_0x1d1a99;super(),this[_0x2c2c1f(0x29e)]=(0x0,Ga[_0x2c2c1f(0x4ff)])(),this['router'][_0x2c2c1f(0x4c0)](this[_0x2c2c1f(0x74b)](_0x2c2c1f(0x283)),..._0x39c4ca,async(_0x5efaa5,_0x4d8bc2)=>{const _0x2420ae=_0x2c2c1f;let _0x2ad836=_0x5efaa5[_0x2420ae(0x64a)];h[_0x2420ae(0x2d2)]('request\x20received\x20in\x20scheduleMessage'),h[_0x2420ae(0x2d2)](_0x2420ae(0x3bb)),h[_0x2420ae(0x2d2)](_0x5efaa5[_0x2420ae(0x64a)]);let _0x1a6ed3=await this[_0x2420ae(0x1f2)]({'request':_0x5efaa5,'schema':C,'ClassRef':b,'execute':_0x1f9bdc=>R[_0x2420ae(0x28b)](_0x1f9bdc,_0x2ad836)});_0x4d8bc2[_0x2420ae(0x1be)](0xc8)[_0x2420ae(0x67b)](_0x1a6ed3);})[_0x2c2c1f(0x278)](this[_0x2c2c1f(0x74b)](_0x2c2c1f(0x283)),..._0x39c4ca,async(_0x2a6f3a,_0x3d014a)=>{const _0x36d58c=_0x2c2c1f;let _0x5b65bc=await this[_0x36d58c(0x1f2)]({'request':_0x2a6f3a,'schema':C,'ClassRef':b,'execute':_0x4fc4a0=>R['getScheduleMessage'](_0x4fc4a0)});_0x3d014a[_0x36d58c(0x1be)](0xc8)[_0x36d58c(0x67b)](_0x5b65bc);})[_0x2c2c1f(0x249)](this[_0x2c2c1f(0x74b)](_0x2c2c1f(0x1fe)),..._0x39c4ca,async(_0x265194,_0x49478b)=>{const _0xf441c=_0x2c2c1f;h[_0xf441c(0x2d2)](_0xf441c(0x642));let _0xebceab=await this[_0xf441c(0x1f2)]({'request':_0x265194,'schema':C,'ClassRef':b,'execute':_0x5c220b=>R[_0xf441c(0x1fe)](_0x5c220b)});_0x49478b[_0xf441c(0x1be)](0xc8)[_0xf441c(0x67b)](_0xebceab);})[_0x2c2c1f(0x4c0)](this['routerPath'](_0x2c2c1f(0x724)),..._0x39c4ca,async(_0x72027c,_0x422d58)=>{const _0x55b48e=_0x2c2c1f;let _0x4c7855=_0x72027c['body'];h[_0x55b48e(0x2d2)](_0x55b48e(0x51d)),h[_0x55b48e(0x2d2)](_0x55b48e(0x3bb)),h[_0x55b48e(0x2d2)](_0x72027c[_0x55b48e(0x64a)]);let _0x4a4c25=await this['dataValidate']({'request':_0x72027c,'schema':C,'ClassRef':b,'execute':_0x50f6e2=>R[_0x55b48e(0x724)](_0x50f6e2,_0x4c7855)});_0x422d58['status'](0xc8)[_0x55b48e(0x67b)](_0x4a4c25);})[_0x2c2c1f(0x278)](this[_0x2c2c1f(0x74b)](_0x2c2c1f(0x45a)),..._0x39c4ca,async(_0x43fb39,_0x21b043)=>{const _0x3a43dd=_0x2c2c1f;h['verbose'](_0x3a43dd(0x76d));let _0x592583=await this['dataValidate']({'request':_0x43fb39,'schema':C,'ClassRef':b,'execute':_0x17038d=>R[_0x3a43dd(0x45a)](_0x17038d)});_0x21b043['status'](0xc8)[_0x3a43dd(0x67b)](_0x592583);})[_0x2c2c1f(0x278)](this[_0x2c2c1f(0x74b)](_0x2c2c1f(0x3af)),..._0x39c4ca,async(_0x3d6c91,_0x1d0a64)=>{const _0x4def0e=_0x2c2c1f;h[_0x4def0e(0x2d2)](_0x4def0e(0x5f7));let _0x344105=await this['dataValidate']({'request':_0x3d6c91,'schema':C,'ClassRef':b,'execute':_0xf94288=>R[_0x4def0e(0x45a)](_0xf94288)});_0x1d0a64[_0x4def0e(0x1be)](0xc8)[_0x4def0e(0x67b)](_0x344105);})['post'](this[_0x2c2c1f(0x74b)](_0x2c2c1f(0x523)),..._0x39c4ca,async(_0x1f2221,_0x4de5bc)=>{const _0x125dc4=_0x2c2c1f;let _0x3d015d=_0x1f2221[_0x125dc4(0x64a)];h[_0x125dc4(0x2d2)]('request\x20received\x20in\x20updateAgent'),h[_0x125dc4(0x2d2)](_0x125dc4(0x3bb)),h[_0x125dc4(0x2d2)](_0x1f2221[_0x125dc4(0x64a)]);let _0x4515cc=await this['dataValidate']({'request':_0x1f2221,'schema':C,'ClassRef':b,'execute':_0x168419=>R['updateAgent'](_0x168419,_0x3d015d)});_0x4de5bc[_0x125dc4(0x1be)](0xc8)[_0x125dc4(0x67b)](_0x4515cc);})[_0x2c2c1f(0x4c0)](this[_0x2c2c1f(0x74b)](_0x2c2c1f(0x5d4)),..._0x39c4ca,async(_0x140119,_0x1322b8)=>{const _0x3789a2=_0x2c2c1f;let _0x5e9d50=_0x140119[_0x3789a2(0x64a)];h[_0x3789a2(0x2d2)](_0x3789a2(0x728)),h[_0x3789a2(0x2d2)](_0x3789a2(0x3bb)),h[_0x3789a2(0x2d2)](_0x140119[_0x3789a2(0x64a)]);let _0x4e2b20=await this[_0x3789a2(0x1f2)]({'request':_0x140119,'schema':C,'ClassRef':b,'execute':_0x392690=>R[_0x3789a2(0x5d4)](_0x392690,_0x5e9d50)});_0x1322b8[_0x3789a2(0x1be)](0xc8)[_0x3789a2(0x67b)](_0x4e2b20);})[_0x2c2c1f(0x4c0)](this['routerPath'](_0x2c2c1f(0x4b5)),..._0x39c4ca,async(_0x542ea9,_0x9a5cfe)=>{const _0x43ba6a=_0x2c2c1f;let _0x4a3425=_0x542ea9[_0x43ba6a(0x64a)];h[_0x43ba6a(0x2d2)](_0x43ba6a(0x35d)),h['verbose'](_0x43ba6a(0x3bb)),h[_0x43ba6a(0x2d2)](_0x542ea9[_0x43ba6a(0x64a)]);let _0x4e363b=await this[_0x43ba6a(0x1f2)]({'request':_0x542ea9,'schema':C,'ClassRef':b,'execute':_0xa5c667=>R[_0x43ba6a(0x4b5)](_0xa5c667,_0x4a3425)});_0x9a5cfe['status'](0xc8)['json'](_0x4e363b);})[_0x2c2c1f(0x4c0)](this[_0x2c2c1f(0x74b)](_0x2c2c1f(0x3ca)),..._0x39c4ca,async(_0x4fbba9,_0x508ff1)=>{const _0x4ef416=_0x2c2c1f;let _0x89c5b1=_0x4fbba9[_0x4ef416(0x64a)];h['verbose'](_0x4ef416(0x75a)),h['verbose'](_0x4ef416(0x3bb)),h[_0x4ef416(0x2d2)](_0x4fbba9[_0x4ef416(0x64a)]);let _0x32afdc=await this['dataValidate']({'request':_0x4fbba9,'schema':C,'ClassRef':b,'execute':_0x1200c5=>R[_0x4ef416(0x3ca)](_0x1200c5,_0x89c5b1)});_0x508ff1['status'](0xc8)[_0x4ef416(0x67b)](_0x32afdc);})[_0x2c2c1f(0x4c0)](this[_0x2c2c1f(0x74b)]('fetchConversation'),..._0x39c4ca,async(_0x1c2893,_0x5b3bed)=>{const _0x4546ad=_0x2c2c1f;let _0x469261=_0x1c2893[_0x4546ad(0x64a)];h['verbose'](_0x4546ad(0x1fd)),h[_0x4546ad(0x2d2)](_0x4546ad(0x3bb)),h[_0x4546ad(0x2d2)](_0x1c2893['body']);let _0x596ba0=await this[_0x4546ad(0x1f2)]({'request':_0x1c2893,'schema':C,'ClassRef':b,'execute':_0x3dfdcc=>R['fetchConversation'](_0x3dfdcc,_0x469261)});_0x5b3bed[_0x4546ad(0x1be)](0xc8)['json'](_0x596ba0);})[_0x2c2c1f(0x4c0)](this[_0x2c2c1f(0x74b)](_0x2c2c1f(0x727)),..._0x39c4ca,async(_0x3fa61c,_0x49eca2)=>{const _0x4890ca=_0x2c2c1f;let _0x474a05=_0x3fa61c[_0x4890ca(0x64a)];h[_0x4890ca(0x2d2)]('request\x20received\x20in\x20editConversation'),h['verbose']('request\x20body:\x20'),h[_0x4890ca(0x2d2)](_0x3fa61c['body']);let _0x5b6074=await this['dataValidate']({'request':_0x3fa61c,'schema':C,'ClassRef':b,'execute':_0x3d0f64=>R[_0x4890ca(0x727)](_0x3d0f64,_0x474a05)});_0x49eca2['status'](0xc8)['json'](_0x5b6074);})[_0x2c2c1f(0x249)](this[_0x2c2c1f(0x74b)](_0x2c2c1f(0x2dd)),..._0x39c4ca,async(_0x1d0914,_0x51b760)=>{const _0x21b638=_0x2c2c1f;let _0xcddc66=_0x1d0914[_0x21b638(0x64a)];h[_0x21b638(0x2d2)]('request\x20received\x20in\x20deleteConversation'),h[_0x21b638(0x2d2)](_0x21b638(0x3bb)),h[_0x21b638(0x2d2)](_0x1d0914[_0x21b638(0x64a)]);let _0xa07d0c=await this['dataValidate']({'request':_0x1d0914,'schema':C,'ClassRef':b,'execute':_0xc44e22=>R[_0x21b638(0x2dd)](_0xc44e22,_0xcddc66)});_0x51b760[_0x21b638(0x1be)](0xc8)[_0x21b638(0x67b)](_0xa07d0c);})['post'](this[_0x2c2c1f(0x74b)]('createflow'),..._0x39c4ca,async(_0x188db8,_0x31ae5c)=>{const _0x12b88a=_0x2c2c1f;let _0x29ddbb=_0x188db8[_0x12b88a(0x64a)];h[_0x12b88a(0x2d2)](_0x12b88a(0x2df)),h['verbose'](_0x12b88a(0x3bb)),h[_0x12b88a(0x2d2)](_0x188db8[_0x12b88a(0x64a)]);let _0x43e35c=await this[_0x12b88a(0x1f2)]({'request':_0x188db8,'schema':C,'ClassRef':b,'execute':_0x59ba17=>R[_0x12b88a(0x2fc)](_0x59ba17,_0x29ddbb)});_0x31ae5c[_0x12b88a(0x1be)](0xc8)['json'](_0x43e35c);})[_0x2c2c1f(0x4c0)](this[_0x2c2c1f(0x74b)](_0x2c2c1f(0x74f)),..._0x39c4ca,async(_0x309c6d,_0x198470)=>{const _0x2c7776=_0x2c2c1f;let _0x142561=_0x309c6d[_0x2c7776(0x64a)];h[_0x2c7776(0x2d2)](_0x2c7776(0x78e)),h[_0x2c7776(0x2d2)](_0x2c7776(0x3bb)),h[_0x2c7776(0x2d2)](_0x309c6d[_0x2c7776(0x64a)]),delete _0x142561[_0x2c7776(0x456)],delete _0x142561[_0x2c7776(0x74a)],delete _0x142561['groups'],delete _0x142561[_0x2c7776(0x686)];let _0x406cc9=await this['dataValidate']({'request':_0x309c6d,'schema':C,'ClassRef':b,'execute':_0x2f0c1f=>R[_0x2c7776(0x38d)](_0x2f0c1f,_0x142561)});_0x198470[_0x2c7776(0x1be)](0xc8)[_0x2c7776(0x67b)](_0x406cc9);})['post'](this[_0x2c2c1f(0x74b)](_0x2c2c1f(0x4e6)),..._0x39c4ca,async(_0x3e5d16,_0x2f1cd2)=>{const _0x553759=_0x2c2c1f;let _0x14a098=_0x3e5d16[_0x553759(0x64a)];h[_0x553759(0x2d2)]('request\x20received\x20in\x20editFlow'),h[_0x553759(0x2d2)](_0x553759(0x3bb)),h['verbose'](_0x3e5d16[_0x553759(0x64a)]);let _0x113a5b=await this[_0x553759(0x1f2)]({'request':_0x3e5d16,'schema':C,'ClassRef':b,'execute':_0x43ebb6=>R[_0x553759(0x6c5)](_0x43ebb6,_0x14a098)});_0x2f1cd2[_0x553759(0x1be)](0xc8)[_0x553759(0x67b)](_0x113a5b);})[_0x2c2c1f(0x4c0)](this['routerPath'](_0x2c2c1f(0x344)),..._0x39c4ca,async(_0x49f7ae,_0x346c3b)=>{const _0x278e23=_0x2c2c1f;let _0x5d0509=_0x49f7ae[_0x278e23(0x64a)];h['verbose'](_0x278e23(0x78e)),h[_0x278e23(0x2d2)](_0x278e23(0x3bb)),h[_0x278e23(0x2d2)](_0x49f7ae[_0x278e23(0x64a)]);let _0x1bd2ba=await this[_0x278e23(0x1f2)]({'request':_0x49f7ae,'schema':C,'ClassRef':b,'execute':_0x4dc3ad=>R[_0x278e23(0x405)](_0x4dc3ad,_0x5d0509)});_0x346c3b[_0x278e23(0x1be)](0xc8)['json'](_0x1bd2ba);})[_0x2c2c1f(0x4c0)](this[_0x2c2c1f(0x74b)]('editflowvaredit'),..._0x39c4ca,async(_0x423ee4,_0x1f56af)=>{const _0x123cfb=_0x2c2c1f;let _0xde4722=_0x423ee4[_0x123cfb(0x64a)];h[_0x123cfb(0x2d2)](_0x123cfb(0x78e)),h['verbose'](_0x123cfb(0x3bb)),h['verbose'](_0x423ee4[_0x123cfb(0x64a)]);let _0x568316=await this[_0x123cfb(0x1f2)]({'request':_0x423ee4,'schema':C,'ClassRef':b,'execute':_0x295d11=>R[_0x123cfb(0x6aa)](_0x295d11,_0xde4722)});_0x1f56af[_0x123cfb(0x1be)](0xc8)[_0x123cfb(0x67b)](_0x568316);})['post'](this[_0x2c2c1f(0x74b)](_0x2c2c1f(0x63f)),..._0x39c4ca,async(_0x292615,_0x4a62d2)=>{const _0x4557f9=_0x2c2c1f;let _0x6c828c=_0x292615['body'];h[_0x4557f9(0x2d2)](_0x4557f9(0x312)),h[_0x4557f9(0x2d2)]('request\x20body:\x20'),h[_0x4557f9(0x2d2)](_0x292615['body']);let _0x5f4fcb=await this[_0x4557f9(0x1f2)]({'request':_0x292615,'schema':C,'ClassRef':b,'execute':_0x24f725=>R[_0x4557f9(0x4eb)](_0x24f725,_0x6c828c)});_0x4a62d2[_0x4557f9(0x1be)](0xc8)[_0x4557f9(0x67b)](_0x5f4fcb);})['post'](this['routerPath'](_0x2c2c1f(0x650)),..._0x39c4ca,async(_0x3fa60b,_0x29ea03)=>{const _0x3de9b0=_0x2c2c1f;let _0x4d7206=_0x3fa60b[_0x3de9b0(0x64a)];h[_0x3de9b0(0x2d2)](_0x3de9b0(0x736)),h[_0x3de9b0(0x2d2)]('request\x20body:\x20'),h[_0x3de9b0(0x2d2)](_0x3fa60b['body']);let _0x2fe26a=await this[_0x3de9b0(0x1f2)]({'request':_0x3fa60b,'schema':C,'ClassRef':b,'execute':_0x4af396=>R[_0x3de9b0(0x52a)](_0x4af396,_0x4d7206)});_0x29ea03[_0x3de9b0(0x1be)](0xc8)['json'](_0x2fe26a);})[_0x2c2c1f(0x4c0)](this[_0x2c2c1f(0x74b)](_0x2c2c1f(0x59a)),..._0x39c4ca,async(_0x2ca2ea,_0x3f8795)=>{const _0x4781a8=_0x2c2c1f;let _0x59ce7e=_0x2ca2ea[_0x4781a8(0x64a)];h[_0x4781a8(0x2d2)]('request\x20received\x20in\x20editFlowvariable'),h[_0x4781a8(0x2d2)](_0x4781a8(0x3bb)),h['verbose'](_0x2ca2ea['body']);let _0x273e1e=await this['dataValidate']({'request':_0x2ca2ea,'schema':C,'ClassRef':b,'execute':_0x3af6c6=>R[_0x4781a8(0x51b)](_0x3af6c6,_0x59ce7e)});_0x3f8795[_0x4781a8(0x1be)](0xc8)['json'](_0x273e1e);})[_0x2c2c1f(0x4c0)](this['routerPath'](_0x2c2c1f(0x4c3)),..._0x39c4ca,async(_0x25f033,_0x51caa9)=>{const _0x3751c3=_0x2c2c1f;let _0x2a4995=_0x25f033['body'];h['verbose']('request\x20received\x20in\x20getFlow'),h[_0x3751c3(0x2d2)](_0x3751c3(0x3bb)),h[_0x3751c3(0x2d2)](_0x25f033[_0x3751c3(0x64a)]);let _0x20f7fc=await this[_0x3751c3(0x1f2)]({'request':_0x25f033,'schema':C,'ClassRef':b,'execute':_0x99d9bf=>R[_0x3751c3(0x559)](_0x99d9bf,_0x2a4995)});_0x51caa9[_0x3751c3(0x1be)](0xc8)[_0x3751c3(0x67b)](_0x20f7fc);})[_0x2c2c1f(0x249)](this[_0x2c2c1f(0x74b)]('deleteflow'),..._0x39c4ca,async(_0x5127c6,_0x434ced)=>{const _0x5e5de2=_0x2c2c1f;let _0x1c1f1a=_0x5127c6['body'];h['verbose']('request\x20received\x20in\x20createFlow'),h[_0x5e5de2(0x2d2)](_0x5e5de2(0x3bb)),h[_0x5e5de2(0x2d2)](_0x5127c6['body']);let _0x12ec1e=await this[_0x5e5de2(0x1f2)]({'request':_0x5127c6,'schema':C,'ClassRef':b,'execute':_0x1a522e=>R[_0x5e5de2(0x73f)](_0x1a522e,_0x1c1f1a)});_0x434ced[_0x5e5de2(0x1be)](0xc8)[_0x5e5de2(0x67b)](_0x12ec1e);})['get'](this[_0x2c2c1f(0x74b)]('allflows'),..._0x39c4ca,async(_0x2f852e,_0x567b3e)=>{const _0x32a967=_0x2c2c1f;h[_0x32a967(0x2d2)](_0x32a967(0x56e));let _0x4600fc=await this[_0x32a967(0x1f2)]({'request':_0x2f852e,'schema':C,'ClassRef':b,'execute':_0x44bb37=>R[_0x32a967(0x676)](_0x44bb37)});_0x567b3e[_0x32a967(0x1be)](0xc8)[_0x32a967(0x67b)](_0x4600fc);});}},za=T(require(a0_0x1d1a99(0x591))),ee={};function Wa(_0x427af6,_0x235871,_0x1b13e3,_0x4cc492){ee[_0x427af6]||(ee[_0x427af6]={}),ee[_0x427af6][_0x235871]={'id':_0x235871,'response':_0x1b13e3,'events':_0x4cc492};}function Ha(_0x420044,_0x64fc82){!ee[_0x420044]||!ee[_0x420044][_0x64fc82]||delete ee[_0x420044][_0x64fc82];}function B(_0x3a2b54,_0x1eb4fc,_0x15e31b){const _0x543210=a0_0x1d1a99;if(!ee[_0x3a2b54])return;let _0x388dc7='data:\x20'+JSON[_0x543210(0x5b4)](_0x15e31b)+'\x0a\x0a';Object[_0x543210(0x570)](ee[_0x3a2b54])[_0x543210(0x6e3)](_0x414794=>{const _0xcbd2d6=_0x543210;_0x414794[_0xcbd2d6(0x2a7)][_0xcbd2d6(0x3c9)](_0x1eb4fc)&&_0x414794['response'][_0xcbd2d6(0x445)](_0x388dc7);});}function Ka(){const _0x948c5=a0_0x1d1a99;let _0x269fa3={};for(let _0x39105d in ee)_0x269fa3[_0x39105d]=Object[_0x948c5(0x570)](ee[_0x39105d])[_0x948c5(0x5dc)](_0x2c3120=>({'id':_0x2c3120['id'],'events':_0x2c3120[_0x948c5(0x2a7)]}));return _0x269fa3;}function a0_0x5432(){const _0x1b9912=['map','https://uazapi-plugin.bubbleapps.io/','Button\x20texts\x20cannot\x20be\x20repeated','SendScheduleMessage','TYPE','updateProfilePicture','sha256','delAll','Log\x20out\x20instance:\x20','/group','Nenhum\x20chat\x20encontrado\x20para\x20editar.','displayName','CORS','^\x5cd+','\x20minutos','buttons','extractRegex','):\x20Bloco\x20original\x20para\x20cópia:\x20','available','contentText','now','/message','notEqual','lastSend','close','pollCreationMessageV3','localWebhook','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','chats.set','groups.upsert','hDel','uazapiSendText','arraybuffer','match','loadWebhook','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','sendCommand','padEnd','leadInfo.desativadoFluxoAte','responsavelid','sendLocation','longitude','tags','\x20is\x20already\x20in\x20use.','http://checkip.dyndns.org','jid','editChat','FlowController','connectionStatus','Temp\x20image\x20deleted','convert','video-cover.png','Início','readFile','namespace','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','Reinicialização\x20iniciada:\x20','Message','connectionState','reactionMessage','Desconectado,\x20parando\x20execução.','redis','render','Conexão\x20estabelecida','Error\x20fetching\x20group','convertaudio','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','trim','user','announce','WEBHOOK_MAP','Audio\x20converted\x20to\x20mp4','getDevice','title','none','groupUpdateDescription','MESSAGES_UPSERT','dbSettings','size','pt-BR','subject','URL\x20limpa:\x20','axios','apiResponse','/media/','\x20-\x20ON:\x20','url','The\x20property\x20cannot\x20be\x20empty','):\x20this.processingScheduleMessageId:\x20','statSync','prepareMediaMessage','test','^\x5cd+[\x5c.@\x5cw-]+','\x1b[47m','.X-ABLabel:Celular\x0a','SERVER_TYPE','/events/:instance','formatVCard','editflowgroup','addresss','website','request\x20received\x20in\x20deleteDoneMessages','text','EMAIL','command','PORT',',\x20Resultado:\x20','GROUPS_UPDATE','Erro:','body','):\x20Enviando\x20contato','findChats','*\x0a\x0a','proto','uazapiSendAudio','editflowcondition','groupCreate','done','\x0a{\x20instance:\x20','https://api.ipify.org?format=json','mediaSticker','listen','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','revokeInviteCode','Button\x20IDs\x20cannot\x20be\x20repeated.','):\x20Enviando\x20localização','unreadcount','imageMessage','):\x20Visualizando\x20AutomateSystem','/wa-contacts','matchRegex','setting','archive','groups','temp-','webhook','waitingPoll_name','TEL','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','convertToWebP','delayMessage','truncatedtoEnd','envProcess','birthtime','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','ex:\x20\x22groupJid=120362@g.us\x22','fetchProfilePicture','organization','instanceCount','enabled','deleteReplyOption','ButtonsMessage','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','allFlows','webhookModel','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','uazapiSendContact','LICENSE_INVALID','json','Erro\x20ao\x20buscar\x20conversa:\x20','URL:','desc','match_last_seen','CLIENT','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','sendList','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','sendPoll','pollMessageOnDelete','conditions','Types','prefixCommand','sendAudio','/wa-chats','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','hbs','scheduleSendMedia','model','):\x20Deletando\x20mensagem','instancias:\x20','writeData','isBooleanString','blockId','createConnection','pino','uazapiSendLocation','fetchProfile','public','parseInt','documentMessage','realVariables','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','audioMessage','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','sendButtons','lastReceivedMessage','deleteAll','SERVER','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','https://jsonip.com','downloads','gifPlayback','listMessage','WEBHOOK_EVENTS_GROUPS_UPDATE','editFlowVaredit','):\x20teve\x20mudanças\x20chat.archived:\x20','\x1b[30m','Error\x20updating\x20profile\x20picture','):\x20updateResult:','contacts','isInteger','utf-8','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','/instance/create','call','notMatchRegex','desativadoFluxoAte','contacts.upsert','messagesSend','Bloco\x20com\x20ID\x20','imagechat','formatStatusMessage','lastCondition','waMonitor','address','<subdomain>','\x22\x20-\x20NOT\x20CONNECTION','\x20não\x20encontrado\x20para\x20atualização.','footerText','Sistema\x20atualizado\x20com\x20sucesso!','editFlowBlock','NO_IP','removeProfilePicture','Fluxos\x20não\x20estão\x20ativados','\x1b[1m','instanceName','findFlow','.refreshToken','enumerable','Erro\x20inesperado\x20em\x20processvaredits:\x20','WEBHOOK_EVENTS_MESSAGES_UPSERT','save','File\x20written\x20to\x20path:\x20','findIndex','chats','):\x20Criando\x20fluxo...','not\x20loaded','groups_ignore','URI','processConditionsTest','unhandledRejection','isJWT','insertMany','addReplyOption','Temp\x20audio\x20created','fileLength','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','mediatype','scheduleNextCheck','sendStatus','forEach','pollMessage','rmSync','Temp\x20audio\x20deleted','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','send','WEBHOOK_GLOBAL_URL','contactname','picture','getChatModelForOwner','delay','ERROR:\x20','profilePictureUrl','paused','Erro\x20ao\x20atualizar\x20conversa:\x20','):\x20Conversa\x20atualizada\x20em\x20memória','pollUpdateMessage','BufferJSON','Font\x20is\x20required','DD/MM\x20HH:mm:ss','headerString','remoteJids','joinGroupValidate','senderKeyDistributionMessage','):\x20Procurando\x20mensagens\x20para\x20envio','parse','The\x20instance\x20needs\x20to\x20be\x20disconnected','startsWith','waitingPoll_id','CONNECTION_UPDATE','isJidUser','editOperator','charAt','option','\x20-y','Not\x20is\x20business\x20profile','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','saveTextReply','Certbot\x20executado\x20com\x20sucesso.','\x20minutos...','owner','audioWhatsapp','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','padStart','NODE_ENV','updateGroupsAddPrivacy','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','chats.update','copy','console','quoted','getAllData','sendMedia','Hash\x20to\x20image\x20name:\x20','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','_id','\x0a*Você\x20respondeu*:\x0a','remove.instance','leadInfo','authentication','replaceVariablesChat','loggedOut','AutomateSystem','newName','data','startFlow','sendWhatsAppAudio','dropCollection','editConversation','request\x20received\x20in\x20updateCustomFields','flowConversation','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','statusCode','editedMessage','readreceipts','@broadcast','https://uazapi-plugin.bubbleapps.io/?url=','readMessageBot','demote','):\x20atualização\x20chat:\x20','/wa-groups','stoppedUntil','pre','request\x20received\x20in\x20editFlowcondition','groupName','instance.','Background\x20color\x20is\x20required','instanceName\x20not\x20provided.','WEBHOOK_GLOBAL_ENABLED','header','updateProfilePicturePrivacy','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','deleteFlow','poll_id','):\x20delete\x20=\x20true','participants','currency','ip:\x20','findConversation','mediaMessage','):\x20isVote','pollCreationMessage','configService','variables','routerPath','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','hGetAll','/chat','editflow','push','closeExistingConversations','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','uazapiSendPoll','instance','Authentication\x20error','):\x20Enviando\x20texto','indexOf','allContacts','Audio\x20processed','request\x20received\x20in\x20getConversation','NextBlock','inviteCode','stopConversation','Erro\x20ao\x20editar\x20agentes:\x20','CLEANING_INTERVAL','STATUS_INSTANCE','groupHandler','StatusJidList\x20is\x20required','Schema','splice','resetReconnectionVariables','apirequest','stopMinutes','protocolMessage','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','API\x20Key\x20inválida.','FlowRouter','AUTHENTICATION_JWT_EXPIRIN_IN','request\x20received\x20in\x20getAutomateSystem','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','processApiRequest','query','\x0aitem','connect','\x20contacts','connectionClosed','vcard','expiration','contains','replaceVariables','exec','):\x20Erro\x20ao\x20criar\x20fluxo\x20','generate','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','isJidGroup','DATABASE_ENABLED','express','existsSync','ios','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','Flow\x20iniciado\x20com\x20','CONFIG_SESSION_PHONE','processblock','messages.upsert','END:VCARD','QRCODE_UPDATED','Image\x20is\x20base64','\x1b[36m','env.yml','):\x20Ignoring\x20group\x20messages.','request\x20received\x20in\x20editFlow','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','error','toggleEphemeral','round','viewOnceMessage','status.instance','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','FULLCHAIN','groupFetchAllParticipating','CREDENTIALS','composing','start','atendimentoAberto','update','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','new.jwt','status','connectionUpdate','express-async-errors','Processing\x20audio','sendContact','unlinkSync','findByIdAndUpdate','uazapi','\x20minutos\x20verificará\x20novas\x20mensagens','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','collections','newValue','restartInstance','Parando\x20aplicação...','Internal\x20Server\x20Error','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','add','setWebhook','Instance\x20restarted','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','CHATS_UPSERT','uuid','recording','archived','profile','code','^\x5cd+([-]\x5cd+)*@g.us$','/create','warn','Profile\x20not\x20found','LEVEL','firstValue','DARK','jwt','updateProfileName','Imagem\x20não\x20encontrada','from','TRIAL_AD','certbot','contextInfo','TEXT','errno','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','document','throwAndLogError','bearer','ENABLED','groupSetting','variablesToObject','response','PRIVKEY','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','dataValidate','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','replyOptions','PREFIX_KEY','subjectOwner','caption','markMessageAsRead','@redis/client','syscall','moreLogs','vote','request\x20received\x20in\x20fetchConversation','deleteDoneMessages','\x20inseridas\x20no\x20banco\x20de\x20dados...','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','https://','success','):\x20Current\x20Time:\x20','ERROR','?timestamp=','https','phoneNumber','Error\x20writing\x20file:\x20','oldValue','WEBHOOK_EVENTS_SEND_MESSAGE','find','group-participants.update','):\x20Criando\x20nova\x20conversa','Getting\x20profile\x20with\x20jid:\x20','view\x20engine','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','DOCKER_ENV','process','getTime','ephemeralMessage',',\x20saindo.','processUazapi','logout','textMessage','replaceVariablesInReplyOptions','authService','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','chatHandle','groupMetadata','reviver','Getting\x20image\x20from\x20url','CORS_METHODS','):\x20conversation.waitingPollname','.mp3','findAndReplace','Fluxo\x20não\x20encontrado','não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','Archiving\x20chat','quotedMessage','unlocked','CHATS_SET','groupId','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','HH:mm:ss','email','updateLastSeenPrivacy','isBusiness','Not\x20allowed\x20by\x20CORS','random','created','normalizeMessage','reaction','notas','checkAndRestartProcess','MESSAGES_SET','sem\x20texto\x20na\x20mensagem','Output\x20path:\x20','#ffffff','):\x20lastBlockId:\x20','uazapiSendMedia','3372111ebpSFh','info','\x20\x1b[0m','getRandomText','buttonMessage','GROUPS_UPSERT','uncaughtException','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','string','Image\x20path:\x20','deleteOne','dark','delete','sendPresenceUpdate','remoteJid','qrcode','updateMessage','getDelay','flow','notify','WEBHOOK_EVENTS_STATUS_INSTANCE','useMultiFileAuthState','capitalizedWords','nomecompleto','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','groupAcceptInvite','STORE','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','Error\x20updating\x20participants','):\x20leadInfoVariables',',\x20valor\x20passado:\x20\x22','\x1b[30m%s\x1b[0m','createConversationforStartFlow','oldToken','getPrototypeOf','profilePicture','):\x20teve\x20mudanças\x20chat.name:\x20','redirect','isLong','optionName','BRL','REDIS_PREFIX_KEY','default','DATABASE_CONNECTION_URI','Audio\x20is\x20base64','all','CONTACTS_UPDATE','pop','processgoToFlow','loadInstance','Read\x20messages\x20fail','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','):\x20expirationTime:\x20','sendMessageWithTyping','Error\x20removing\x20profile\x20picture','getHours','last','Error\x20change\x20group\x20description','get','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','scheduled','MESSAGES_UPDATE','sections','Erro\x20ao\x20iniciar\x20fluxo:\x20','newStoppedUntil','jsonwebtoken','lastBlockId','backgroundColor','format','scheduleMessage','buttonText','conversation','AUTHENTICATION','store','long','urlOrBase64','sendMessage','editScheduleMessage','):\x20Procurando\x20conversa','readData','@g.us','Error\x20update\x20group\x20picture','.png','STORE_CLEANING_TERMINAL','stdout','integer','NAME','isBase64','WEBHOOK_EVENTS_CHATS_UPDATE','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','):\x20Campos\x20a\x20serem\x20atualizados:','isURL','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','slice','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','router','readFileSync','node-mime-types','667638MWOzki','/events','metadata','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','presence','log','events','createInstance','class-validator','abs','whatsappNumber','ReplyOption\x20com\x20ID\x20','Já\x20existe\x20fluxo\x20com\x20esse\x20nome','REDIS','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','):\x20transformedCustomFieldVariables','waInstances','https://github.com/uazapi/uazapi.git','):\x20Editando\x20grupo\x20do\x20fluxo...','No\x20participants','\x20não\x20encontrado','saveMediaToFile','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','DEBUG','boolean','number','setNewValue','augusto.fcs@gmail.com','assign','messageContextInfo','replyOption','lowerCase','repeat','video','https://chat.whatsapp.com/','replaceOne','stderr','\x22,\x20valor\x20a\x20substituir:\x20\x22','.mp4','local_map','updateParticipant','findByIdAndDelete','preview','http','\x20instance\x20does\x20not\x20exist','_Contacts','updateBlock','contactsArrayMessage','messageSecret','verbose','Trying\x20to\x20get\x20business\x20profile','urlencoded','\x1b[44m','utf8','):\x20Bloco\x20copiado:\x20','group\x20ignored','.\x20Pulando.','EMAIL:','online','Parando\x20aplicação,\x20atualização\x20recebida','deleteConversation','/instance/fetchInstances','request\x20received\x20in\x20createFlow','maxActives','groupValidate','):\x20Enviando\x20mídia','toLocaleString','isConnected','rows','Error\x20updating\x20privacy\x20settings','client','order','\x1b[32m%s\x1b[0m','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','updateOnlinePrivacy','removeData','mongodb','convertedOptions','when','Error\x20deleting\x20instance\x20from\x20memory.','image','\x1b[34m%s\x1b[0m','connecting','toArray',',\x20Comparador:\x20','bateu\x20events','SECRET','USER','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','Output\x20audio\x20path:\x20','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','createFlow','varedits','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','errors','fetchStatus','fone','toNumber','toBrazilianNumberFormat','setContext','Instance\x20\x22','NEW_JWT_TOKEN','):\x20Conversas\x20encontradas:','):\x20teve\x20mudanças\x20chat.displayName:\x20','\x20segundos','not_announcement','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','Unable\x20to\x20leave\x20the\x20group','fullName','AUTHENTICATION_JWT_SECRET','refreshToken','Erro\x20de\x20atualização:\x20','):\x20Buscando\x20conversas...','request\x20received\x20in\x20editFlowgroup','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','stopped','WEBHOOK_EVENTS_QRCODE_UPDATED','media','output','/wa-message','compression','context','@whiskeysockets/baileys','mkdirSync','binary','getMessage','pollCreationMessageKey','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','errorLog',',\x20Segundo\x20Valor:\x20','chats.delete','whatsappNumbers','setHeader','KEY','updateStopChat','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','flowStopConversation','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','toDataURL','audio/ogg;\x20codecs=opus','statusJidList','):\x20conversation.lastInteraction:\x20','initAuthCreds','Error\x20fetching\x20and\x20updating\x20profile:\x20','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','updateChatWithMessage','flowConfig','trimmed','@s.whatsapp.net','):\x20Buscando\x20flow...','exists','scheduleMessages','OrAnd','CHATS_DELETE','drop','/wa-connection-update','LOG','mentioned','Error\x20updating\x20setting','state','dbServer','editflowreply','floor','saveCreds','buttonsMessage','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','Getting\x20profile\x20info','put','lastSendMessage','android','@ffmpeg-installer/ffmpeg','Instance\x20ID:','SEND_MESSAGE','qrcode.updated','Module\x20-\x20ON','bodyString','-instances','processingScheduleMessageId','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','Type\x20is\x20required','g.us','base64','\x20saindo\x20da\x20função','):\x20Editando\x20condição\x20do\x20fluxo...','STORE_MESSAGE','mediaKey','request\x20received\x20in\x20updateFlowConfig','buttonId','videoMessage','loadEnv','subdomain','!stop','_doc','Message\x20not\x20found','--standalone','documentWithCaptionMessage','findOne','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','Variável\x20não\x20encontrada!','truncatedto','sendText','groupJid','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','fetchPrivacySettings','and','wuid','Image\x20created','presenceSubscribe','stanzaId','empty','content','API\x20Key\x20from\x20Request:','Revoke\x20error','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','50mb','block','mentions','ObjectId','):\x20Editando\x20edição\x20do\x20fluxo...','defineProperty','goNextblock','poll','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','mongodb://','verifiedName','reconnectTimestamps','evaluateCondition','EXPIRIN_IN','reconnectAttempts','Deletion\x20failed','fetchContacts','hex','AppStateSyncKeyData','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','editFlow','apikey','INFO','saveConversationToDatabase','GROUP_PARTICIPANTS_UPDATE','WEBHOOK_EVENTS_CONTACTS_UPSERT','Sending\x20audio\x20whatsapp','exit','decryptPollVote','\x22\x20cannot\x20be\x20empty','):\x20Buscando\x20todos\x20os\x20fluxos...','readdirSync','numbers','createServer','end','stack','):\x20Going\x20to\x20','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','Erro\x20de\x20reinicialização:\x20','WEBHOOK_EVENTS_NEW_JWT_TOKEN','insert','groupSettingUpdate','DisconnectReason','mimetype','getContactModelForOwner','CONFIG_SESSION_PHONE_NAME','Close\x20connection','height','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','eventHandler','load','.TEL;waid=','Converted\x20audio\x20deleted','hasOwnProperty','getTicketSystem','getVariablesChat','.json','agents','out','RECONNECT_TIME_FRAME','):\x20newFirstValue\x20após\x20replaceVariables:','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','formatBRNumber','CORS_CREDENTIALS','.sendDataWebhook-global','flattenObject','request\x20body:\x20','\x20foi\x20interrompido\x20pelo\x20usuário.','/webhook','Erro\x20ao\x20editar\x20o\x20bloco:\x20','Instância\x20não\x20encontrada.','onWhatsApp','Getting\x20audio\x20from\x20url','saveVariable','Error\x20updating\x20message\x20status:','arrayUnique','entries','redisCache','contacts.update','Method\x20not\x20implemented.','includes','getConversation','\x1b[46m','findGroupInfos','removed','messageId','presence.update','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','messaging-history.set','generateWAMessageFromContent','updateConversation','CORS_ORIGIN','contactHandle','activatedCount','onTime','sort','writeStore','shift','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','writeFile','Converted\x20image\x20deleted','Comando\x20desconhecido','generateHash','Deleted\x20','Contacts\x20not\x20found','announcement','sendDataWebhook','ignoreGroups','WEBHOOK_EVENTS_CHATS_DELETE','privacySettings','creds','\x20inseridos\x20no\x20banco\x20de\x20dados...','dbInstance','findGroups','key','-whatsapp-api','authState','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','createGroup','licenca','processvaredits','status@broadcast','processConditions','findOneAndUpdate','fileName','Missing\x20global\x20api\x20key','app-state-sync-key','emit','sendSticker','*Pergunta*:\x20\x0a','):\x20Conversa\x20inserida\x20com\x20sucesso.','selectableCount','The\x20instance\x20is\x20already\x20connected','webhookMap','contact_blacklist','endSession','keep-alive','rowId','join','.jwt','editFlowReply','):\x20Fluxos\x20não\x20estão\x20ativados','JWT','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','where','type','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','updateGParticipate','qrCode','deleteMessage','array','width','):\x20Erro\x20ao\x20editar\x20agentes:\x20','Erro\x20do\x20Certbot:\x20','Error\x20in\x20scheduleNextCheck:\x20','DELIVERY_ACK','count','\x1b[33m%s\x1b[0m','certonly','SUCCESS','child_process','tokenId','Not\x20Found','apiName','WEBHOOK_EVENTS_CHATS_UPSERT','collection','pollOnReplyDelete','scheduleSendText',',\x20qrcodeCount:\x20','audio/mp4','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','method','params','Error\x20updating\x20profile\x20status','Logger','shutdown\x20-r\x20now','pollErrorMessage','envYaml','mongoose','true','views','deleteInstance','CHATS_UPDATE','node-cache','chats.upsert','updateProfileStatus','env','findById','contactMessage','fetchConversation','auth','AUTHENTICATION_API_KEY','/exit','8080','):\x20Editando\x20variável\x20do\x20fluxo...','replaceVariablesLogs','replaceVariablesInObject','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','getClient','DB_PREFIX_NAME','creation','description','stateConnection','message','write','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','split','valid','LOG_LEVEL','READ','updateReplyOption','authModel','use','findAndReplaceRegex','writeFileSync','\x20não\x20encontrado\x20para\x20cópia','bulkWrite','item','prototype','creds.update','validate','blocks','hGet','selectedOptions','getScheduleMessage','getAutomateSystem','notEmpty','condition','length','readMessages','execSync','):\x20Entrou\x20na\x20função\x20goToFlow','CONTACTS_SET','TRIAL_INSTANCE_NAME','filter','messages','varedit','makeCacheableSignalKeyStore','getBase64FromMediaMessage','locationMessage','subjectTime','Instance\x20deleted','Content\x20is\x20required','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','findGroup','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','Invalid\x20format','Forbidden','groupUpdateSubject','PENDING','changeVariables','sharp','EVENTS','updateGroupPicture','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','deleteMany','AutomateFunctions','3928UUlTxe','/wa-message-update','delInstanceTime','copyBlock','waMonit','ChatModel','group','getMinutes','getContentType','everyOne','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','app','DATABASE_CONNECTION_HOST','segundos','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','Audio\x20is\x20url','getLastMessage','The\x20global\x20api\x20key\x20must\x20be\x20set','lastMessage','processPollUpdateMessage','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','Não\x20respondeu\x20com\x20a\x20enquete.','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Error\x20change\x20group\x20name','__esModule','equal','SSL_CONF_PRIVKEY','_Chats','pollCreationMessageV2','updateMany','object','MessageModel','):\x20Error\x20processing\x20the\x20block:\x20','findGroupInfo','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','reference','hostname','STORE_CONTACTS','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','\x20}\x0a','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','finish','Flow\x20não\x20encontrado','Primeiro\x20Valor:\x20','):\x20Comando\x20desconhecido:\x20','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','inner','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','STORE_CHATS','limit','QRCODE_LIMIT','\x1b[31m','dbClient','msgRetryCounterCache','variablesNotFound','WARN','lastmsg','send.message','repository','updateFlowConfig','118JwXGIj','prepareWAMessageMedia','664985AdHweV','nome','variable','isArray','):\x20Limpando\x20delayMessage','encoding','verify','fetchMessages','post','instanceInfo','QRCODE','getflow','\x1b[31m%s\x1b[0m','participant','REDIS_URI','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','No\x20invite\x20code','\x1b[42m','del','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','stopIfLastReturnedError','detail','userDevicesCache','422690ulcnPa','DATABASE_CONNECTION_DB_PREFIX_NAME','reorderBlocks','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','updatePrivacySettings','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20',',\x20Expiration\x20Time:\x20','stopMinutesMaxActives','Número:\x20','fetchChats','updateOne','storePath','hSet','ContactModel','addBlock','groups.update','removeInstance','This\x20name\x20','VERBOSE','updatePresence','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','_Messages','14037vqqKPW','editflowblock','replaceValue','contact','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','editFlowGroup','function','\x1b[40m','getProfileName','name','fromObject','delInstanceFiles','GUARD','secondValue','fetchBusinessProfile','$dbName','PRODUCTION','Instance\x20Key\x20from\x20DB:','cwd','including\x20timestamp\x20in\x20url:\x20','187UksZfl','redisEnv','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','):\x20Mensagem\x20já\x20enviada\x20para\x20','deletedCount','Router','Por\x20favor,\x20responda\x20à\x20última\x20enquete\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','4KWArLU','originalUrl','\x1b[33m\x1b[1m','):\x20Bloco\x20com\x20ID\x20','updateStatusPrivacy','\x1b[37m','):\x20Enviando\x20áudio','isDirectory','DEL_INSTANCE','env.KEY\x20!==\x20key','setRestartTimer','pushName','options','sending','\x1b[34m','PRESENCE_UPDATE','toBRL','audio','blockLogs','WEBHOOK_EVENTS_CONNECTION_UPDATE','groupRevokeInvite','readMessage','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','304117rIxfVe','value','):\x20alterando\x20this.AutomateSystem','editFlowVariable','):\x20Limpando\x20AutomateSystem','request\x20received\x20in\x20starFlow','Group\x20not\x20found','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','sendReaction','endsWith','leadInfo.','updateAgent','notContains','font','getStatus','connectToWhatsapp','SSL_CONF_FULLCHAIN','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','editFlowCondition','creds.json','groupadd','fromMe','create','role','timerId','):\x20não\x20encontrou','set','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','\x22reaction\x22\x20must\x20be\x20an\x20emoji','):\x20','waitingPoll_replyOptions','AUTHENTICATION_TYPE','StartBot','AutomateSystem\x20não\x20foi\x20inicializado','\x1b[37m%s\x1b[0m','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','CONNECTION','js-yaml','noConnection','unreadCount','):\x20Criou\x20conversa\x20no\x20startFlow:','1729tfKFhh','CONTACTS_UPSERT','):\x20newSecondValue\x20após\x20replaceVariables:','):\x20Editando\x20bloco...','sleep','Initial\x20__dirname:','sticker','action','messageTimestamp','\x20chats\x20de\x20','leadInfo.customFields','connection.update','):\x20Flow\x20não\x20encontrado','chat','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','getMessageModelForOwner','Unknown\x20message\x20type\x20or\x20empty\x20message','PROD','last_update','DATABASE','expression','upperCase','getFlow','Operador:\x20\x22','toString','opendirSync','viewOnceMessageV2','SERVER_PORT','Erro\x20ao\x20encerrar\x20a\x20API','applyvaredit','URL','restrict','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','groupDesc',',\x20fará\x20nova\x20verificação\x20em\x20','modifiedCount','Subscribed\x20Events:','max','folder','flowName','\x1b[0m','Variáveis\x20não\x20encontradas:','cpf','request\x20received\x20in\x20allFlows','webp','values','):\x20Erro\x20durante\x20a\x20atualização:\x20','Valor\x20de\x20find\x20ou\x20replace\x20ausente','leaveGroup','.ogg','):\x20Edit\x20schedule\x20message...','Read\x20messages','createJid','flowname:\x20','):\x20Erro\x20ao\x20buscar\x20conversas\x20','):\x20Error\x20processing\x20conditions:\x20','keys','PLAYED','release','.sendDataWebhook-local','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','upsertChats','_p_','replacer','unavailable','messages.update','ids','scheduleSendAudio',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','stickerMessage','some','createNewConversation','\x0aFN:','/media','\x5cd+','createConversationforgoToFlow','Error\x20updating\x20profile\x20name','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','path','findWebhook','remote\x20\x22origin\x22','toFile','eventEmitter','statusMessage','chatLog','Connection\x20closed\x20for\x20instance:\x20','Invalid\x20\x22oldToken\x22','editflowvariable','saveChatVariables','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','logger','Image\x20is\x20url','instanceKeys','webhookService','The\x20','remoteJidsRemaining','data:\x20','interval\x20não\x20é\x20um\x20número','deleteBlock','):\x20Deletando\x20fluxo...','toLowerCase','fetchProfile2','fetchInstances','createWebhook','lean','getOwnPropertyDescriptor','WEBHOOK_EVENTS_CHATS_SET','defineAuthState','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','cleaningUp','No\x20join\x20group\x20invite\x20code\x20or\x20url','substring','customFields','stringify','\x20-i\x20','METHODS','findParticipants','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','messageHandle','):\x20nextBlock.uazapi.name','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','SERVER_ACK','closed','Error\x20change\x20group\x20setting','getOwnPropertyNames','COLOR','\x1b[32m','Bad\x20Request','Type\x20defined\x20as\x20audio','SSL_CONF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','messages.set','latitude','DELETED','/wa-qrcode','next_groupId','lastInteraction','WEBHOOK_EVENTS_MESSAGES_SET','deleteMessageForEveryone','toUpperCase','isRunning','Erro\x20ao\x20editar\x20o\x20chat:\x20','conversationTimestamp','WEBHOOK','archiveChat','updateCustomFields','ini','open','API_KEY','groupLeave','replace','Last\x20message\x20not\x20found','joinGroup'];a0_0x5432=function(){return _0x1b9912;};return a0_0x5432();}var Qa=require(a0_0x1d1a99(0x1d3)),Wo=za['default'][a0_0x1d1a99(0x403)](__dirname,a0_0x1d1a99(0x6a6)),Ct=(0x0,vt[a0_0x1d1a99(0x4ff)])(),Ho=S[a0_0x1d1a99(0x278)](a0_0x1d1a99(0x286))[a0_0x1d1a99(0x5e0)],ue=[rs,Zs,sa[Ho]];Ct[a0_0x1d1a99(0x44d)](a0_0x1d1a99(0x58c),vt[a0_0x1d1a99(0x267)]['static'](Wo))['get'](a0_0x1d1a99(0x63d),async(_0x3381ae,_0x56ddae)=>{const _0x10e058=a0_0x1d1a99;console[_0x10e058(0x2a6)](_0x10e058(0x2f6));let _0x361859=_0x3381ae[_0x10e058(0x425)][_0x10e058(0x754)],_0x30fd9e=(_0x3381ae[_0x10e058(0x771)][_0x10e058(0x2a7)]||'')[_0x10e058(0x447)](','),_0x14c091=(0x0,Qa['v4'])();console['log'](_0x10e058(0x34e),_0x361859),console[_0x10e058(0x2a6)](_0x10e058(0x567),_0x30fd9e);let _0x3618be=S[_0x10e058(0x278)]('AUTHENTICATION')[_0x10e058(0x5d7)],_0x305327=_0x3381ae[_0x10e058(0x771)]['apikey'];if(console['log'](_0x10e058(0x376),_0x305327),_0x3618be[_0x10e058(0x327)]!==_0x305327){console[_0x10e058(0x2a6)](_0x10e058(0x50a));try{let _0x2a88d1=await le['auth'][_0x10e058(0x20b)](_0x361859);if(console[_0x10e058(0x2a6)](_0x10e058(0x4f7),_0x2a88d1),!_0x2a88d1||_0x2a88d1[_0x10e058(0x38e)]!==_0x305327)return console[_0x10e058(0x2a6)]('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x56ddae[_0x10e058(0x1be)](0x191)[_0x10e058(0x6e8)](_0x10e058(0x76a));}catch(_0x5dd0b9){return console['error']('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x5dd0b9),_0x56ddae[_0x10e058(0x1be)](0x191)[_0x10e058(0x6e8)](_0x10e058(0x3db));}}if(!await Je(_0x361859))return _0x56ddae[_0x10e058(0x1be)](0x194)[_0x10e058(0x6e8)](_0x10e058(0x3bf));_0x56ddae[_0x10e058(0x326)]('Content-Type','text/event-stream'),_0x56ddae['setHeader']('Cache-Control','no-cache'),_0x56ddae[_0x10e058(0x326)]('Connection',_0x10e058(0x401)),_0x56ddae['flushHeaders']();let _0x4de0eb=_0x10e058(0x5a3)+JSON[_0x10e058(0x5b4)]({'info':_0x10e058(0x61c)})+'\x0a\x0a';_0x56ddae[_0x10e058(0x445)](_0x4de0eb),Wa(_0x361859,_0x14c091,_0x56ddae,_0x30fd9e),_0x3381ae['on'](_0x10e058(0x5f4),()=>{const _0x3887ab=_0x10e058;console[_0x3887ab(0x2a6)](_0x3887ab(0x598)+_0x361859),Ha(_0x361859,_0x14c091);});}),Ct['get']('/clients-info',(_0xd38ba1,_0x5e689f)=>{const _0x4bb6b6=a0_0x1d1a99;let _0x1d07e6=Ka();_0x5e689f[_0x4bb6b6(0x67b)](_0x1d07e6);})[a0_0x1d1a99(0x278)]('/',(_0x445d46,_0x54407c)=>{const _0xb9736=a0_0x1d1a99;let _0x454a23=S[_0xb9736(0x278)](_0xb9736(0x5c4)),_0xf8201f=_0x454a23&&_0x454a23['FULLCHAIN'][_0xb9736(0x447)]('/')[0x4];if(_0xf8201f){let _0x4cb2e6=encodeURIComponent(_0xb9736(0x201)+_0xf8201f);_0x54407c[_0xb9736(0x262)](_0xb9736(0x72f)+_0x4cb2e6);}else _0x54407c[_0xb9736(0x262)](_0xb9736(0x5dd));})[a0_0x1d1a99(0x34a)]('/exit',...ue,async(_0x588eab,_0x3ec86f)=>{const _0x4b8b90=a0_0x1d1a99;try{console[_0x4b8b90(0x2a6)](_0x4b8b90(0x68b)),_0x3ec86f[_0x4b8b90(0x1be)](0xc8)['json']({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x3ec86f['on'](_0x4b8b90(0x4a3),()=>process[_0x4b8b90(0x394)](0x0));}catch(_0x57c42c){console[_0x4b8b90(0x790)](_0x4b8b90(0x4d2),_0x57c42c),_0x3ec86f['status'](0x1f4)[_0x4b8b90(0x67b)]({'message':_0x4b8b90(0x55f)});}})[a0_0x1d1a99(0x44d)]('/instance',new nt(S,...ue)['router'],new yt(rs)[a0_0x1d1a99(0x29e)])['use'](a0_0x1d1a99(0x5f1),new wt(...ue)[a0_0x1d1a99(0x29e)])[a0_0x1d1a99(0x44d)](a0_0x1d1a99(0x74e),new ze(...ue)[a0_0x1d1a99(0x29e)])['use'](a0_0x1d1a99(0x5e5),new ot(...ue)[a0_0x1d1a99(0x29e)])[a0_0x1d1a99(0x44d)](a0_0x1d1a99(0x3bd),new St(...ue)[a0_0x1d1a99(0x29e)])[a0_0x1d1a99(0x44d)]('/automate',new Et(...ue)[a0_0x1d1a99(0x29e)]);var g=class{constructor(..._0x24a6e4){const _0x5157f6=a0_0x1d1a99;throw{'status':0x190,'error':_0x5157f6(0x5c2),'message':_0x24a6e4[_0x5157f6(0x45d)]>0x0?_0x24a6e4:void 0x0};}},ie=class{constructor(..._0xef4a){const _0x80d509=a0_0x1d1a99;throw{'status':0x191,'error':'Unauthorized','message':_0xef4a[_0x80d509(0x45d)]>0x0?_0xef4a:void 0x0};}},oe=class{constructor(..._0xda689c){const _0x358765=a0_0x1d1a99;throw{'status':0x193,'error':_0x358765(0x470),'message':_0xda689c[_0x358765(0x45d)]>0x0?_0xda689c:void 0x0};}},x=class{constructor(..._0x52d14f){const _0x442504=a0_0x1d1a99;throw{'status':0x194,'error':_0x442504(0x41b),'message':_0x52d14f[_0x442504(0x45d)]>0x0?_0x52d14f:void 0x0};}},A=class{constructor(..._0x599dd8){const _0x1029fb=a0_0x1d1a99;throw{'status':0x1f4,'error':_0x1029fb(0x1cc),'message':_0x599dd8[_0x1029fb(0x45d)]>0x0?_0x599dd8:void 0x0};}},de=require(a0_0x1d1a99(0x31b));async function ds(_0x2559e4){const _0x45af83=a0_0x1d1a99;let _0x2cfd13=new N(ds['name']),_0x5d0d64=M[_0x45af83(0x43f)](),_0x1acf72=_0x5d0d64['db'](S[_0x45af83(0x278)](_0x45af83(0x556))[_0x45af83(0x53d)]['DB_PREFIX_NAME']+_0x45af83(0x353))[_0x45af83(0x41e)](_0x2559e4),_0x1e7262=async(_0x334ef7,_0x13639b)=>{const _0x1bd82a=_0x45af83;try{return await _0x5d0d64[_0x1bd82a(0x773)](),await _0x1acf72[_0x1bd82a(0x2c4)]({'_id':_0x13639b},JSON['parse'](JSON['stringify'](_0x334ef7,de[_0x1bd82a(0x6f4)]['replacer'])),{'upsert':!0x0});}catch{}},_0x405519=async _0x3e7ea8=>{const _0x12d870=_0x45af83;try{await _0x5d0d64[_0x12d870(0x773)]();let _0x9fbbb9=await _0x1acf72['findOne']({'_id':_0x3e7ea8}),_0x292132=JSON[_0x12d870(0x5b4)](_0x9fbbb9);return JSON['parse'](_0x292132,de[_0x12d870(0x6f4)]['reviver']);}catch{}},_0x3f7c2b=async _0xd74063=>{const _0x35d73a=_0x45af83;try{return await _0x5d0d64[_0x35d73a(0x773)](),await _0x1acf72[_0x35d73a(0x247)]({'_id':_0xd74063});}catch{}},_0x114a7d=await _0x405519('creds')||(0x0,de['initAuthCreds'])();return{'state':{'creds':_0x114a7d,'keys':{'get':async(_0x5ad5fe,_0xd671f)=>{const _0x4c8507=_0x45af83;let _0x333111={};return await Promise[_0x4c8507(0x26a)](_0xd671f[_0x4c8507(0x5dc)](async _0x4ef242=>{const _0x4bfadb=_0x4c8507;let _0xf4d328=await _0x405519(_0x5ad5fe+'-'+_0x4ef242);_0x5ad5fe===_0x4bfadb(0x3f7)&&_0xf4d328&&(_0xf4d328=de[_0x4bfadb(0x64e)][_0x4bfadb(0x616)]['AppStateSyncKeyData'][_0x4bfadb(0x4f0)](_0xf4d328)),_0x333111[_0x4ef242]=_0xf4d328;})),_0x333111;},'set':async _0x36e233=>{const _0x485f03=_0x45af83;let _0x2cb88a=[];for(let _0x10e87d in _0x36e233)for(let _0x40d872 in _0x36e233[_0x10e87d]){let _0x58c2eb=_0x36e233[_0x10e87d][_0x40d872],_0x33d66a=_0x10e87d+'-'+_0x40d872;_0x2cb88a[_0x485f03(0x750)](_0x58c2eb?_0x1e7262(_0x58c2eb,_0x33d66a):_0x3f7c2b(_0x33d66a));}await Promise['all'](_0x2cb88a);}}},'saveCreds':async()=>_0x1e7262(_0x114a7d,_0x45af83(0x3e7))};}var gs=T(require(a0_0x1d1a99(0x288))),ms=T(require(a0_0x1d1a99(0x430))),Rt=require(a0_0x1d1a99(0x31b)),Ya=require(a0_0x1d1a99(0x1f9)),Tt=require(a0_0x1d1a99(0x31b)),Nt;function Ko(_0x1e2133){const _0x56954f=a0_0x1d1a99;return Nt||(Nt=(0x0,Ya['createClient'])({'url':_0x1e2133[_0x56954f(0x6d7)]}),Nt[_0x56954f(0x773)]()),Nt;}var ne=class c{constructor(_0x6888ae,_0x42d64f){const _0x407953=a0_0x1d1a99;this[_0x407953(0x4fb)]=_0x6888ae,this[_0x407953(0x6ca)]=_0x42d64f,this[_0x407953(0x59d)]=new N(c[_0x407953(0x4ef)]),this['client']=Ko(_0x6888ae);}set[a0_0x1d1a99(0x49d)](_0x32ef84){const _0x1bb444=a0_0x1d1a99;this[_0x1bb444(0x6ca)]=_0x32ef84;}async[a0_0x1d1a99(0x59f)](){const _0xab52a0=a0_0x1d1a99;try{return await this[_0xab52a0(0x2e7)][_0xab52a0(0x601)]([_0xab52a0(0x57b),this[_0xab52a0(0x4fb)][_0xab52a0(0x1f5)]+':*']);}catch(_0x59c1e6){this[_0xab52a0(0x59d)][_0xab52a0(0x790)](_0x59c1e6);}}async[a0_0x1d1a99(0x691)](_0x52d74a,_0xad5758){const _0x4926d3=a0_0x1d1a99;try{let _0x31a7a2=JSON[_0x4926d3(0x5b4)](_0xad5758,Tt[_0x4926d3(0x6f4)][_0x4926d3(0x582)]);return await this[_0x4926d3(0x2e7)][_0x4926d3(0x4db)](this['redisEnv'][_0x4926d3(0x1f5)]+':'+this[_0x4926d3(0x6ca)],_0x52d74a,_0x31a7a2);}catch(_0xa19f29){this['logger'][_0x4926d3(0x790)](_0xa19f29);}}async[a0_0x1d1a99(0x716)](){const _0x588e0c=a0_0x1d1a99;try{let _0x215b27=await this[_0x588e0c(0x2e7)][_0x588e0c(0x74d)](this[_0x588e0c(0x4fb)][_0x588e0c(0x1f5)]+':'+this[_0x588e0c(0x6ca)]);if(_0x215b27){for(let _0x3d50ad in _0x215b27)Object['prototype'][_0x588e0c(0x3ae)][_0x588e0c(0x6b5)](_0x215b27,_0x3d50ad)&&(_0x215b27[_0x3d50ad]=JSON[_0x588e0c(0x6fc)](_0x215b27[_0x3d50ad],Tt['BufferJSON'][_0x588e0c(0x21e)]));return _0x215b27;}}catch(_0x4c4dff){this[_0x588e0c(0x59d)]['error'](_0x4c4dff);}}async[a0_0x1d1a99(0x28d)](_0x223019){const _0x421737=a0_0x1d1a99;try{let _0x4c8f44=await this['client'][_0x421737(0x457)](this[_0x421737(0x4fb)][_0x421737(0x1f5)]+':'+this[_0x421737(0x6ca)],_0x223019);if(_0x4c8f44)return JSON[_0x421737(0x6fc)](_0x4c8f44,Tt[_0x421737(0x6f4)][_0x421737(0x21e)]);}catch(_0x4e7b88){this[_0x421737(0x59d)][_0x421737(0x790)](_0x4e7b88);}}async['removeData'](_0xa99786){const _0xd63376=a0_0x1d1a99;try{return await this['client'][_0xd63376(0x5fb)](this[_0xd63376(0x4fb)]['PREFIX_KEY']+':'+this[_0xd63376(0x6ca)],_0xa99786);}catch(_0x4c8ea3){this[_0xd63376(0x59d)][_0xd63376(0x790)](_0x4c8ea3);}}async[a0_0x1d1a99(0x5e3)](_0x3f37ae){const _0x5e96f7=a0_0x1d1a99;try{return await this[_0x5e96f7(0x2e7)][_0x5e96f7(0x4ca)](_0x3f37ae||this['redisEnv'][_0x5e96f7(0x1f5)]+':'+this[_0x5e96f7(0x6ca)]);}catch(_0x57d715){this[_0x5e96f7(0x59d)][_0x5e96f7(0x790)](_0x57d715);}}};async function ps(_0x1230f3,_0x5031d7){const _0x1d4490=a0_0x1d1a99;let _0x18234c=new N(ps[_0x1d4490(0x4ef)]),_0x29bd44=new ne(_0x1230f3,_0x5031d7),_0x4f8a9c=async(_0x411cf9,_0x22ebeb)=>{const _0x580ee8=_0x1d4490;try{return await _0x29bd44[_0x580ee8(0x691)](_0x22ebeb,_0x411cf9);}catch(_0x3faab7){return _0x18234c['error']({'localError':_0x580ee8(0x691),'error':_0x3faab7});}},_0x765c71=async _0x37b6e1=>{const _0x35988f=_0x1d4490;try{return await _0x29bd44[_0x35988f(0x28d)](_0x37b6e1);}catch(_0x3eae9b){_0x18234c[_0x35988f(0x790)]({'readData':_0x35988f(0x691),'error':_0x3eae9b});return;}},_0x4dd85c=async _0x1247ab=>{const _0x54cf73=_0x1d4490;try{return await _0x29bd44[_0x54cf73(0x2ec)](_0x1247ab);}catch(_0x39fb16){_0x18234c[_0x54cf73(0x790)]({'readData':_0x54cf73(0x2ec),'error':_0x39fb16});}},_0x539d10=await _0x765c71(_0x1d4490(0x3e7))||(0x0,Rt[_0x1d4490(0x330)])();return{'state':{'creds':_0x539d10,'keys':{'get':async(_0x3d632b,_0x40466e)=>{let _0x38782a={};return await Promise['all'](_0x40466e['map'](async _0x4047af=>{const _0x5b100e=a0_0x3b16;let _0x462280=await _0x765c71(_0x3d632b+'-'+_0x4047af);_0x3d632b===_0x5b100e(0x3f7)&&_0x462280&&(_0x462280=Rt[_0x5b100e(0x64e)][_0x5b100e(0x616)][_0x5b100e(0x38b)]['fromObject'](_0x462280)),_0x38782a[_0x4047af]=_0x462280;})),_0x38782a;},'set':async _0xefbd97=>{const _0x3244de=_0x1d4490;let _0x16f1ba=[];for(let _0x136097 in _0xefbd97)for(let _0x4026f2 in _0xefbd97[_0x136097]){let _0x5dad31=_0xefbd97[_0x136097][_0x4026f2],_0x1526d3=_0x136097+'-'+_0x4026f2;_0x16f1ba['push'](_0x5dad31?await _0x4f8a9c(_0x5dad31,_0x1526d3):await _0x4dd85c(_0x1526d3));}await Promise[_0x3244de(0x26a)](_0x16f1ba);}}},'saveCreds':async()=>await _0x4f8a9c(_0x539d10,_0x1d4490(0x3e7))};}var P=T(require('fs')),It=require(a0_0x1d1a99(0x1d3)),Dt=T(require(a0_0x1d1a99(0x474)));function G(_0x2dcc8a){const _0x211d0d=a0_0x1d1a99;if(_0x2dcc8a[_0x211d0d(0x1b2)]||_0x2dcc8a[_0x211d0d(0x55d)]){let _0x292b8c=_0x2dcc8a['viewOnceMessage']?_0x2dcc8a[_0x211d0d(0x1b2)][_0x211d0d(0x444)]:_0x2dcc8a[_0x211d0d(0x55d)][_0x211d0d(0x444)];return(0x0,w[_0x211d0d(0x482)])(_0x292b8c);}return _0x2dcc8a['pollCreationMessageV3']?'pollCreationMessageV3':_0x2dcc8a[_0x211d0d(0x496)]?_0x211d0d(0x496):(0x0,w[_0x211d0d(0x482)])(_0x2dcc8a);}var ye=class c{constructor(_0x3da5b9,_0x31fc45,_0x1ac19d){const _0x373728=a0_0x1d1a99;this[_0x373728(0x749)]=_0x3da5b9,this[_0x373728(0x595)]=_0x31fc45,this[_0x373728(0x4b4)]=_0x1ac19d,this[_0x373728(0x721)]=null,this[_0x373728(0x59d)]=new N(c['name']),this[_0x373728(0x754)]={},this[_0x373728(0x5f6)]={},this['stateConnection']={'state':_0x373728(0x5f4)},this['storePath']=(0x0,$['join'])(Q,_0x373728(0x6a6)),this[_0x373728(0x4af)]=new ms[(_0x373728(0x267))](),this[_0x373728(0x4ce)]=new ms[(_0x373728(0x267))](),this[_0x373728(0x400)]=!0x1,this['webhookMap']={'status.instance':_0x373728(0x33e),'qrcode.updated':_0x373728(0x5c9),'messages.upsert':_0x373728(0x318),'messages.update':_0x373728(0x47b),'send.message':_0x373728(0x318),'group.upsert':'/wa-groups','group.update':_0x373728(0x733),'group-participants.update':'/wa-groups','connection.update':_0x373728(0x33e),'messages.set':_0x373728(0x318),'contacts.set':_0x373728(0x65e),'contacts.upsert':'/wa-contacts','contacts.update':_0x373728(0x65e),'presence.update':'/wa-presence','chats.set':_0x373728(0x68a),'chats.update':'/wa-chats','chats.upsert':_0x373728(0x68a),'chats.delete':_0x373728(0x68a)},this[_0x373728(0x387)]=0x0,this[_0x373728(0x384)]=[],this['MAX_RECONNECT_ATTEMPTS']=0xf,this[_0x373728(0x3b4)]=0x7530,this['isRunning']=!0x1,this[_0x373728(0x21c)]={'chats.upsert':async(_0x39260c,_0x443015)=>{const _0x48a80b=_0x373728;let _0x5580eb=[];for await(let _0x32b8d1 of _0x39260c)_0x5580eb[_0x48a80b(0x750)]({'_id':_0x32b8d1['id'],'owner':this['instance'][_0x48a80b(0x370)],'group':_0x32b8d1['id']['endsWith']('@g.us'),'name':_0x32b8d1[_0x48a80b(0x4ef)]||_0x32b8d1[_0x48a80b(0x5e7)]||null,'contactname':null,'lastmsg':_0x32b8d1['conversationTimestamp']&&_0x32b8d1['conversationTimestamp'][_0x48a80b(0x55b)]()[_0x48a80b(0x45d)]<0xd?_0x32b8d1[_0x48a80b(0x5d1)]*0x3e8:_0x32b8d1[_0x48a80b(0x5d1)]||null,'archived':_0x32b8d1[_0x48a80b(0x1d5)]||!0x1,'unreadcount':_0x32b8d1[_0x48a80b(0x540)]||0x0});await this[_0x48a80b(0x3e3)]('chats.upsert',_0x5580eb);},'chats.update':async(_0x3abbfd,_0x3b9845)=>{const _0x4403ce=_0x373728;for(let _0x82639b of _0x3abbfd){let _0x2bf398={'_id':_0x82639b['id'],'owner':this[_0x4403ce(0x754)][_0x4403ce(0x370)],'group':_0x82639b['id'][_0x4403ce(0x521)](_0x4403ce(0x28e)),'name':_0x82639b['name']||_0x82639b['displayName'],'archived':_0x82639b[_0x4403ce(0x1d5)]},_0x1e1eba=!0x1,_0x56a5a1={};_0x2bf398[_0x4403ce(0x1d5)]!=null&&(this[_0x4403ce(0x59d)][_0x4403ce(0x2d2)](this[_0x4403ce(0x6ca)]+'\x20('+this[_0x4403ce(0x754)]['wuid']+_0x4403ce(0x6ab)+_0x82639b[_0x4403ce(0x1d5)]),_0x1e1eba=!0x0,_0x56a5a1[_0x4403ce(0x1d5)]=_0x82639b[_0x4403ce(0x1d5)]),_0x82639b['name']!=null&&(this[_0x4403ce(0x59d)][_0x4403ce(0x2d2)](this[_0x4403ce(0x6ca)]+'\x20('+this[_0x4403ce(0x754)][_0x4403ce(0x370)]+_0x4403ce(0x261)+_0x82639b[_0x4403ce(0x4ef)]),_0x1e1eba=!0x0,_0x56a5a1[_0x4403ce(0x4ef)]=_0x82639b[_0x4403ce(0x4ef)]),_0x82639b['displayName']!=null&&(this['logger'][_0x4403ce(0x2d2)](this['instanceName']+'\x20('+this[_0x4403ce(0x754)]['wuid']+_0x4403ce(0x308)+_0x82639b[_0x4403ce(0x5e7)]),_0x1e1eba=!0x0,_0x56a5a1[_0x4403ce(0x4ef)]=_0x82639b[_0x4403ce(0x5e7)]);let _0x4dbae4;_0x1e1eba&&(_0x4dbae4=await this[_0x4403ce(0x4b4)][_0x4403ce(0x54f)][_0x4403ce(0x4d9)]({'where':{'_id':_0x82639b['id'],'owner':this['instance'][_0x4403ce(0x370)]}},_0x56a5a1)),_0x4dbae4&&B(this[_0x4403ce(0x6ca)],'chats',{'chat':_0x4dbae4});}},'chats.delete':async _0x3900b7=>{const _0x4690c2=_0x373728;await this[_0x4690c2(0x3e3)](_0x4690c2(0x324),[..._0x3900b7]);}},this['contactHandle']={'contacts.upsert':async(_0x11f5c8,_0x31e400)=>{const _0x546fa5=_0x373728;let _0x1ae2c8=await this[_0x546fa5(0x4b4)][_0x546fa5(0x4e8)][_0x546fa5(0x20b)]({'where':{'owner':this[_0x546fa5(0x754)]['wuid']}}),_0x4318bc=[];for await(let _0x466a6e of _0x11f5c8)_0x1ae2c8[_0x546fa5(0x20b)](_0xcbfe78=>_0xcbfe78[_0x546fa5(0x71a)]===_0x466a6e['id'])||_0x4318bc[_0x546fa5(0x750)]({'_id':_0x466a6e['id'],'pushName':_0x466a6e?.[_0x546fa5(0x4ef)]||_0x466a6e?.[_0x546fa5(0x383)],'owner':this['instance'][_0x546fa5(0x370)]});await this[_0x546fa5(0x3e3)]('contacts.upsert',_0x4318bc),await this[_0x546fa5(0x4b4)][_0x546fa5(0x4e8)][_0x546fa5(0x3a1)](_0x4318bc);},'contacts.update':async(_0x3eb085,_0x522d16)=>{const _0x591872=_0x373728;let _0x4f8afc=[];for await(let _0xfbbd64 of _0x3eb085)_0x4f8afc['push']({'_id':_0xfbbd64['id'],'pushName':_0xfbbd64?.[_0x591872(0x4ef)]??_0xfbbd64?.['verifiedName'],'owner':this[_0x591872(0x754)][_0x591872(0x370)]});await this[_0x591872(0x3e3)](_0x591872(0x3c7),_0x4f8afc);}},this[_0x373728(0x5b9)]={'messaging-history.set':async({messages:_0x431886,chats:_0x4a16f4,isLatest:_0x52be31},_0x13f276)=>{const _0x5a80b1=_0x373728;if(_0x52be31){let _0x295707=await Promise[_0x5a80b1(0x26a)](_0x4a16f4[_0x5a80b1(0x5dc)](async _0x2bf596=>({'_id':_0x2bf596['id'],'owner':this['instance']['wuid'],'group':_0x2bf596['id'][_0x5a80b1(0x521)](_0x5a80b1(0x28e)),'name':_0x2bf596[_0x5a80b1(0x4ef)]||_0x2bf596[_0x5a80b1(0x5e7)]||null,'contactname':null,'lastmsg':_0x2bf596[_0x5a80b1(0x5d1)]&&_0x2bf596['conversationTimestamp'][_0x5a80b1(0x55b)]()['length']<0xd?_0x2bf596[_0x5a80b1(0x5d1)]*0x3e8:_0x2bf596[_0x5a80b1(0x5d1)]||null,'archived':_0x2bf596[_0x5a80b1(0x1d5)]||!0x1,'unreadcount':_0x2bf596['unreadCount']||0x0})));await this[_0x5a80b1(0x3e3)](_0x5a80b1(0x5f9),_0x295707),await this[_0x5a80b1(0x580)](_0x295707,_0x13f276);}let _0x4918fc=[],_0x248df1=Date[_0x5a80b1(0x5f0)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x370682]of Object[_0x5a80b1(0x3c5)](_0x431886)){if(_0x370682[_0x5a80b1(0x444)]?.[_0x5a80b1(0x768)]||_0x370682['message']?.[_0x5a80b1(0x6fa)]||!_0x370682['message']||_0x370682[_0x5a80b1(0x3eb)]['remoteJid']==='status@broadcast'||(gs['default'][_0x5a80b1(0x263)](_0x370682?.['messageTimestamp'])&&(_0x370682[_0x5a80b1(0x54a)]=_0x370682['messageTimestamp']?.[_0x5a80b1(0x302)]()),_0x370682[_0x5a80b1(0x54a)]&&_0x370682[_0x5a80b1(0x54a)][_0x5a80b1(0x55b)]()[_0x5a80b1(0x45d)]<0xd&&(_0x370682[_0x5a80b1(0x54a)]=_0x370682[_0x5a80b1(0x54a)]*0x3e8),_0x370682['messageTimestamp']<_0x248df1))continue;let {message_normalized:_0x238397}=this['normalizeMessage'](_0x370682[_0x5a80b1(0x444)],G(_0x370682[_0x5a80b1(0x444)]),null);Object['keys'](_0x238397)[_0x5a80b1(0x45d)]>0x0&&_0x4918fc[_0x5a80b1(0x750)]({'_id':_0x370682[_0x5a80b1(0x3eb)]['id'],'key':_0x370682['key'],'pushName':_0x370682[_0x5a80b1(0x50c)],'participant':_0x370682[_0x5a80b1(0x4c5)],'message':{..._0x370682[_0x5a80b1(0x444)]},'messageType':G(_0x370682[_0x5a80b1(0x444)]),'message_normalized':{'key':_0x370682['key'],'pushName':_0x370682[_0x5a80b1(0x50c)],'messageTimestamp':_0x370682[_0x5a80b1(0x54a)],..._0x238397},'messageTimestamp':_0x370682[_0x5a80b1(0x54a)],'owner':this[_0x5a80b1(0x754)]['wuid']});}_0x13f276[_0x5a80b1(0x1ec)]&&_0x4918fc['length']>0x0&&(this[_0x5a80b1(0x59d)][_0x5a80b1(0x2d2)](this[_0x5a80b1(0x6ca)]+'\x20('+this[_0x5a80b1(0x754)][_0x5a80b1(0x370)]+_0x5a80b1(0x535)+_0x4918fc[_0x5a80b1(0x45d)]+'\x20mensagens\x20de\x20'+this[_0x5a80b1(0x754)][_0x5a80b1(0x370)]+_0x5a80b1(0x1ff)),await this[_0x5a80b1(0x4b4)][_0x5a80b1(0x444)]['insert']([..._0x4918fc])),this[_0x5a80b1(0x3e3)](_0x5a80b1(0x5c6),[..._0x4918fc]),_0x431886=void 0x0;},'messages.upsert':async({messages:_0x31b6fd,type:_0x1acd7a},_0x2fa2cc)=>{const _0x19416e=_0x373728;let _0x23173b=_0x31b6fd[0x0];if(_0x1acd7a!==_0x19416e(0x250)||!_0x23173b?.[_0x19416e(0x444)]||_0x23173b[_0x19416e(0x444)]?.[_0x19416e(0x768)]||_0x23173b[_0x19416e(0x444)]['senderKeyDistributionMessage']||_0x23173b[_0x19416e(0x3eb)][_0x19416e(0x24b)]===_0x19416e(0x3f2))return;let _0x54e8b9=null,_0x37da8e=null;try{_0x54e8b9=await this[_0x19416e(0x48d)](_0x23173b),_0x37da8e=_0x54e8b9?_0x54e8b9['join'](','):null;}catch(_0x567b25){this['logger'][_0x19416e(0x2d2)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x19416e(0x535)+_0x567b25[_0x19416e(0x444)]),_0x37da8e='error\x20get\x20vote';}if(this[_0x19416e(0x2e7)][_0x19416e(0x24a)](_0x19416e(0x583)),gs['default']['isLong'](_0x23173b[_0x19416e(0x54a)])&&(_0x23173b[_0x19416e(0x54a)]=_0x23173b[_0x19416e(0x54a)]?.[_0x19416e(0x302)]()),this[_0x19416e(0x5f6)]?.[_0x19416e(0x6d6)]&&_0x23173b[_0x19416e(0x3eb)]['remoteJid'][_0x19416e(0x3c9)](_0x19416e(0x28e))){this['logger'][_0x19416e(0x2d2)]('group\x20ignored');return;}_0x23173b['messageTimestamp']&&_0x23173b[_0x19416e(0x54a)]['toString']()[_0x19416e(0x45d)]<0xd&&(_0x23173b[_0x19416e(0x54a)]=_0x23173b[_0x19416e(0x54a)]*0x3e8);let _0x2e4fc5=_0x23173b[_0x19416e(0x444)],{messageContent:_0x282a4a,message_normalized:_0x999172}=this[_0x19416e(0x233)](_0x2e4fc5,G(_0x23173b[_0x19416e(0x444)]),_0x37da8e);_0x282a4a||console['error']('Mensagem\x20não\x20suportada');let _0x56193a={'_id':_0x23173b[_0x19416e(0x3eb)]['id'],'key':_0x23173b[_0x19416e(0x3eb)],'pushName':_0x23173b[_0x19416e(0x50c)],'message':{..._0x23173b['message']},'messageType':G(_0x23173b[_0x19416e(0x444)]),'message_normalized':{'key':_0x23173b[_0x19416e(0x3eb)],'pushName':_0x23173b['pushName'],'messageTimestamp':_0x23173b[_0x19416e(0x54a)],'source':(0x0,w['getDevice'])(_0x23173b[_0x19416e(0x3eb)]['id']),..._0x999172},'messageTimestamp':_0x23173b[_0x19416e(0x54a)],'owner':this[_0x19416e(0x754)][_0x19416e(0x370)]};this[_0x19416e(0x59d)][_0x19416e(0x2a6)](_0x56193a),await this['repository'][_0x19416e(0x444)][_0x19416e(0x3a1)]([_0x56193a]),await this['sendDataWebhook'](_0x19416e(0x787),_0x56193a),B(this[_0x19416e(0x6ca)],_0x19416e(0x464),{'message':_0x56193a}),_0x23173b['key'][_0x19416e(0x24b)]!==_0x19416e(0x3f2)&&await this[_0x19416e(0x334)](_0x2fa2cc,_0x56193a,_0x19416e(0x629));},'messages.update':async(_0x52fe5f,_0x4028ce)=>{const _0x306e44=_0x373728;let _0x323ad9={0x0:_0x306e44(0x204),0x1:_0x306e44(0x472),0x2:_0x306e44(0x5bc),0x3:'DELIVERY_ACK',0x4:'READ',0x5:_0x306e44(0x57c)};for await(let {key:_0x57e703,update:_0x4fc013}of _0x52fe5f){if(this['localWebhook']?.[_0x306e44(0x6d6)]&&_0x57e703[_0x306e44(0x24b)][_0x306e44(0x3c9)]('@g.us')){this[_0x306e44(0x59d)]['verbose'](_0x306e44(0x2d8));return;}if(_0x57e703[_0x306e44(0x24b)]!=='status@broadcast'){let _0x1bc58b=Date[_0x306e44(0x5f0)](),_0x4a2db4;_0x4fc013[_0x306e44(0x444)]===null&&_0x4fc013[_0x306e44(0x1be)]===void 0x0?_0x4a2db4='DELETED':_0x4a2db4=_0x323ad9[_0x4fc013[_0x306e44(0x1be)]];let _0x93bf19=_0x57e703[_0x306e44(0x24b)][_0x306e44(0x5d9)](/:\d{1,2}@/g,'@'),_0x5285d4={..._0x57e703,'remoteJid':_0x93bf19,'status':_0x4a2db4,'datetime':_0x1bc58b,'owner':this[_0x306e44(0x754)][_0x306e44(0x370)]};await this[_0x306e44(0x3e3)](_0x306e44(0x584),_0x5285d4),await this[_0x306e44(0x24d)](_0x57e703,_0x93bf19,_0x5285d4);}}}},this[_0x373728(0x761)]={'groups.upsert':_0x3a13b2=>{const _0x172095=_0x373728;this['sendDataWebhook'](_0x172095(0x5fa),_0x3a13b2);},'groups.update':_0x54e2e6=>{const _0x17f094=_0x373728;this['sendDataWebhook'](_0x17f094(0x4de),_0x54e2e6);},'group-participants.update':_0x5a64e1=>{const _0x2ff4e2=_0x373728;this[_0x2ff4e2(0x3e3)]('group-participants.update',_0x5a64e1);}},this[_0x373728(0x48d)]=async _0x3f00a3=>{const _0x1d971f=_0x373728;if(_0x3f00a3[_0x1d971f(0x444)]?.[_0x1d971f(0x6f3)]){let _0x3d3c3a=await this['getMessage'](_0x3f00a3[_0x1d971f(0x444)][_0x1d971f(0x6f3)][_0x1d971f(0x31f)],!0x0);if(_0x3d3c3a){let _0x26eee5=_0x3d3c3a[_0x1d971f(0x3eb)][_0x1d971f(0x52d)]?this[_0x1d971f(0x754)][_0x1d971f(0x370)]+'@s.whatsapp.net':_0x3d3c3a[_0x1d971f(0x3eb)][_0x1d971f(0x4c5)]||_0x3d3c3a[_0x1d971f(0x3eb)]['remoteJid'],_0x121166=_0x3d3c3a['key']['id'],_0x24c2af=_0x3d3c3a[_0x1d971f(0x444)],_0x5cdd70=Buffer['from'](_0x24c2af[_0x1d971f(0x2be)][_0x1d971f(0x2d1)]['toString'](_0x1d971f(0x38a)),_0x1d971f(0x38a)),_0x36f32b=(0x0,w[_0x1d971f(0x395)])(_0x3f00a3[_0x1d971f(0x444)][_0x1d971f(0x6f3)][_0x1d971f(0x1fc)],{'pollCreatorJid':_0x26eee5,'pollMsgId':_0x121166,'pollEncKey':_0x5cdd70,'voterJid':_0x3f00a3[_0x1d971f(0x3eb)]['fromMe']?this[_0x1d971f(0x754)][_0x1d971f(0x370)]+_0x1d971f(0x337):_0x3f00a3[_0x1d971f(0x3eb)][_0x1d971f(0x24b)][_0x1d971f(0x521)](_0x1d971f(0x357))?_0x3f00a3['key'][_0x1d971f(0x4c5)]:_0x3f00a3[_0x1d971f(0x3eb)][_0x1d971f(0x24b)]}),_0x581d81=[],_0xae2bd9=_0x36f32b[_0x1d971f(0x458)][_0x1d971f(0x5dc)](_0x3622db=>Buffer[_0x1d971f(0x1e2)](_0x3622db)[_0x1d971f(0x55b)]('hex'));for(let {optionName:_0x3295e2}of _0x24c2af[_0x1d971f(0x748)]?.['options']||_0x24c2af[_0x1d971f(0x5f5)]?.[_0x1d971f(0x50d)]||_0x24c2af['pollCreationMessageV2']?.[_0x1d971f(0x50d)])_0xae2bd9[_0x1d971f(0x757)]((0x0,w[_0x1d971f(0x5e2)])(Buffer[_0x1d971f(0x1e2)](_0x3295e2))[_0x1d971f(0x55b)](_0x1d971f(0x38a)))>-0x1&&_0x581d81[_0x1d971f(0x750)](_0x3295e2);return _0x581d81;}}return null;},this['normalizeMessage']=(_0x447dd1,_0x365eb7,_0x4720d8)=>{const _0x2198f6=_0x373728;let _0x15df84=_0x365eb7?_0x447dd1[_0x365eb7]:void 0x0,_0x52fed2={},_0x5caada=null,_0x2c91cf=null,_0x5a01d4=null;if(_0x447dd1['viewOnceMessageV2']?_0x15df84=_0x447dd1[_0x2198f6(0x55d)][_0x2198f6(0x444)][_0x365eb7]:_0x447dd1[_0x2198f6(0x1b2)]?_0x15df84=_0x447dd1[_0x2198f6(0x1b2)]['message'][_0x365eb7]:_0x447dd1['ephemeralMessage']?_0x15df84=_0x447dd1['ephemeralMessage'][_0x2198f6(0x444)][_0x365eb7]:_0x447dd1[_0x2198f6(0x72c)]?.['message']?.[_0x2198f6(0x768)]?.['editedMessage']?(_0x5caada=_0x447dd1[_0x2198f6(0x72c)][_0x2198f6(0x444)]['protocolMessage'][_0x2198f6(0x3eb)]['id'],_0x447dd1[_0x2198f6(0x72c)][_0x2198f6(0x444)][_0x2198f6(0x768)][_0x2198f6(0x72c)]['conversation']?_0x15df84=_0x447dd1[_0x2198f6(0x72c)][_0x2198f6(0x444)][_0x2198f6(0x768)][_0x2198f6(0x72c)][_0x2198f6(0x285)]:_0x447dd1['editedMessage'][_0x2198f6(0x444)]['protocolMessage']['editedMessage']['imageMessage']?_0x15df84=_0x447dd1['editedMessage']['message'][_0x2198f6(0x768)][_0x2198f6(0x72c)]['imageMessage'][_0x2198f6(0x1f7)]:_0x447dd1['editedMessage'][_0x2198f6(0x444)]['protocolMessage']['editedMessage'][_0x2198f6(0x35f)]?_0x15df84=_0x447dd1[_0x2198f6(0x72c)][_0x2198f6(0x444)]['protocolMessage']['editedMessage'][_0x2198f6(0x35f)][_0x2198f6(0x1f7)]:_0x447dd1[_0x2198f6(0x72c)][_0x2198f6(0x444)][_0x2198f6(0x768)][_0x2198f6(0x72c)][_0x2198f6(0x366)]?_0x15df84=_0x447dd1[_0x2198f6(0x72c)][_0x2198f6(0x444)][_0x2198f6(0x768)][_0x2198f6(0x72c)][_0x2198f6(0x366)]['message']['documentMessage'][_0x2198f6(0x1f7)]:_0x15df84=_0x447dd1[_0x2198f6(0x72c)][_0x2198f6(0x444)][_0x2198f6(0x768)][_0x2198f6(0x72c)]):_0x15df84=_0x447dd1[_0x365eb7],!_0x365eb7||!_0x15df84)return console['error'](_0x2198f6(0x553),_0x447dd1),{'messageType':_0x365eb7,'messageContent':_0x15df84,'message_normalized':{}};_0x447dd1[_0x365eb7]?.[_0x2198f6(0x1e5)]?.[_0x2198f6(0x373)]&&_0x447dd1[_0x365eb7]?.[_0x2198f6(0x1e5)]?.[_0x2198f6(0x227)]&&(_0x2c91cf=_0x447dd1[_0x365eb7][_0x2198f6(0x1e5)]['stanzaId']),_0x447dd1[_0x2198f6(0x618)]&&(_0x5a01d4=_0x447dd1[_0x2198f6(0x618)][_0x2198f6(0x3eb)]['id']);let _0x2d9924;if(_0x15df84&&typeof _0x15df84==_0x2198f6(0x498)&&_0x2198f6(0x31f)in _0x15df84&&({pollCreationMessageKey:_0x2d9924}=_0x15df84),_0x365eb7===_0x2198f6(0x366)){let _0x12754c=_0x15df84?.[_0x2198f6(0x444)]?.[_0x2198f6(0x69a)];_0x12754c&&(_0x15df84=_0x12754c);}if(_0x365eb7==='pollCreationMessage'||_0x365eb7===_0x2198f6(0x496)||_0x365eb7==='pollCreationMessageV3'){let _0x3f3e2c=_0x15df84[_0x2198f6(0x50d)]['map'](_0x283a1b=>_0x283a1b[_0x2198f6(0x264)])[_0x2198f6(0x403)]('|');_0x52fed2[_0x2198f6(0x2ee)]=_0x3f3e2c;}let _0x223d31=_0x15df84[_0x2198f6(0x4ef)]||_0x15df84[_0x2198f6(0x1f7)]||_0x15df84[_0x2198f6(0x285)]||_0x15df84[_0x2198f6(0x5e7)];if(_0x15df84[_0x2198f6(0x776)]){let _0x5c9baf=this[_0x2198f6(0x63e)](JSON[_0x2198f6(0x5b4)](_0x15df84['vcard'],null,0x2));_0x223d31=_0x223d31+'\x0a'+_0x5c9baf;}if(_0x15df84){let {displayName:_0x31d9db,vcard:_0x2c61d2,contactVcard:_0x51ed54,name:_0x26ae4f,caption:_0x46c023,conversation:_0xb46b83,pollCreationMessageKey:_0x3b1806,footerText:_0x1175eb,contentText:_0x54a969,pageCount:_0x21fd5b,headerType:_0x1b03a5,isAvatar:_0x316c89,isAnimated:_0x286b4b,fallbackLc:_0x32d744,fallbackLg:_0x172bea,namespace:_0x176523,elementName:_0x22dfad,localizableParams:_0x1f0f99,viewOnce:_0x1e687f,height:_0x49a253,width:_0x2e483f,key:_0x4631da,firstScanLength:_0xe02bb6,firstScanSidecar:_0x2421ae,gifPlayback:_0x328111,gifAttribution:_0x13b951,midQualityFileSha256:_0x5466e6,scansSidecar:_0x5caf8f,streamingSidecar:_0x4f3588,thumbnailHeight:_0x387c5e,thumbnailWidth:_0x770db2,thumbnailEncSha256:_0x55976d,thumbnailDirectPath:_0x39b692,canonicalUrl:_0x15f8c2,matchedText:_0x404101,previewType:_0x3c4e67,thumbnailSha256:_0x41b3e2,deviceListMetadataVersion:_0x18bc19,inviteLinkGroupTypeV2:_0xf10bc0,interactiveAnnotations:_0x2dac7e,scanLengths:_0x4439ad,jpegThumbnail:_0x4ef8c6,url:_0x501152,mediaKeyTimestamp:_0x2aaf14,waveform:_0x509e45,stickerSentTs:_0x309e90,firstFrameLength:_0x23644a,fileEncSha256:_0x3f82d6,contextInfo:_0x42940c,firstFrameSidecar:_0x53cd49,directPath:_0x4edc85,fileSha256:_0x3c5ee7,mediaKey:_0x6c9071,senderTimestampMs:_0x2486ab,..._0x4a4435}=_0x15df84;typeof _0x15df84==_0x2198f6(0x245)?_0x52fed2={'text':_0x15df84,'type':_0x365eb7||_0x2198f6(0x285),..._0x5caada&&{'edited':_0x5caada},..._0x2c91cf&&{'quoted':_0x2c91cf},..._0x5a01d4&&{'reaction':_0x5a01d4}}:_0x52fed2={'text':_0x223d31,..._0x4a4435,..._0x365eb7===_0x2198f6(0x6f3)?{'poll_id':_0x15df84['pollCreationMessageKey']['id'],'vote':_0x4720d8}:{},'type':_0x365eb7,..._0x5caada&&{'edited':_0x5caada},..._0x2c91cf&&{'quoted':_0x2c91cf},..._0x5a01d4&&{'reaction':_0x5a01d4},...(_0x365eb7===_0x2198f6(0x748)||_0x365eb7===_0x2198f6(0x496)||_0x365eb7===_0x2198f6(0x5f5))&&{'convertedOptions':_0x52fed2[_0x2198f6(0x2ee)]}};}return{'messageType':_0x365eb7,'messageContent':_0x15df84,'message_normalized':_0x52fed2};},this[_0x373728(0x354)]=null,this['lastSend']=0x0,this[_0x373728(0x530)]=null,(this['cleanStore'](),this['instance'][_0x373728(0x24c)]={'count':0x0});}set['instanceName'](_0x57e726){const _0x216f6f=a0_0x1d1a99;if(!_0x57e726){this['instance'][_0x216f6f(0x4ef)]=(0x0,Za['v4'])();return;}this[_0x216f6f(0x754)][_0x216f6f(0x4ef)]=_0x57e726,this['sendDataWebhook'](_0x216f6f(0x1b3),{'instance':this[_0x216f6f(0x754)][_0x216f6f(0x4ef)],'status':_0x216f6f(0x232)});}get[a0_0x1d1a99(0x6ca)](){const _0x34bf59=a0_0x1d1a99;return this[_0x34bf59(0x754)]['name'];}get[a0_0x1d1a99(0x370)](){const _0x53d60d=a0_0x1d1a99;return this[_0x53d60d(0x754)][_0x53d60d(0x370)];}async[a0_0x1d1a99(0x4ee)](){const _0x3fede4=a0_0x1d1a99;let _0x413fbe=this['client']['user']?.[_0x3fede4(0x4ef)]??this[_0x3fede4(0x2e7)][_0x3fede4(0x621)]?.[_0x3fede4(0x383)];if(!_0x413fbe){if(this[_0x3fede4(0x749)][_0x3fede4(0x278)](_0x3fede4(0x556))[_0x3fede4(0x1ec)]){let _0x4d984d=await M[_0x3fede4(0x43f)]()['db'](this['configService'][_0x3fede4(0x278)]('DATABASE')[_0x3fede4(0x53d)][_0x3fede4(0x440)]+_0x3fede4(0x353))[_0x3fede4(0x41e)](this[_0x3fede4(0x6ca)])['findOne']({'_id':_0x3fede4(0x3e7)});if(_0x4d984d){let _0x35febf=JSON[_0x3fede4(0x6fc)](JSON[_0x3fede4(0x5b4)](_0x4d984d),w[_0x3fede4(0x6f4)][_0x3fede4(0x21e)]);_0x413fbe=_0x35febf['me']?.[_0x3fede4(0x4ef)]||_0x35febf['me']?.[_0x3fede4(0x383)];}}else{if((0x0,Te[_0x3fede4(0x781)])((0x0,$[_0x3fede4(0x403)])(V,this[_0x3fede4(0x6ca)],_0x3fede4(0x52b)))){let _0x3dcbef=JSON[_0x3fede4(0x6fc)]((0x0,Te['readFileSync'])((0x0,$[_0x3fede4(0x403)])(V,this[_0x3fede4(0x6ca)],'creds.json'),{'encoding':_0x3fede4(0x6b1)}));_0x413fbe=_0x3dcbef['me']?.['name']||_0x3dcbef['me']?.[_0x3fede4(0x383)];}}}return _0x413fbe;}get['profilePictureUrl'](){const _0x29c4f1=a0_0x1d1a99;return this[_0x29c4f1(0x754)][_0x29c4f1(0x6ef)];}get['qrCode'](){const _0x7fcc1d=a0_0x1d1a99;return{'code':this['instance'][_0x7fcc1d(0x24c)]?.[_0x7fcc1d(0x1d7)],'base64':this[_0x7fcc1d(0x754)][_0x7fcc1d(0x24c)]?.[_0x7fcc1d(0x358)]};}async['loadWebhook'](){const _0x2d0599=a0_0x1d1a99;let _0x304985=await this[_0x2d0599(0x4b4)][_0x2d0599(0x664)][_0x2d0599(0x20b)](this[_0x2d0599(0x6ca)]);this[_0x2d0599(0x5f6)][_0x2d0599(0x633)]=_0x304985?.[_0x2d0599(0x633)],this[_0x2d0599(0x5f6)][_0x2d0599(0x672)]=_0x304985?.[_0x2d0599(0x672)],this[_0x2d0599(0x5f6)][_0x2d0599(0x2c8)]=_0x304985?.[_0x2d0599(0x2c8)],this['localWebhook']['STATUS_INSTANCE']=_0x304985?.[_0x2d0599(0x760)],this[_0x2d0599(0x5f6)][_0x2d0599(0x789)]=_0x304985?.[_0x2d0599(0x789)],this[_0x2d0599(0x5f6)]['SEND_MESSAGE']=_0x304985?.['SEND_MESSAGE'],this[_0x2d0599(0x5f6)][_0x2d0599(0x629)]=_0x304985?.[_0x2d0599(0x629)],this['localWebhook'][_0x2d0599(0x27b)]=_0x304985?.[_0x2d0599(0x27b)],this[_0x2d0599(0x5f6)][_0x2d0599(0x242)]=_0x304985?.[_0x2d0599(0x242)],this[_0x2d0599(0x5f6)][_0x2d0599(0x648)]=_0x304985?.[_0x2d0599(0x648)],this[_0x2d0599(0x5f6)][_0x2d0599(0x391)]=_0x304985?.[_0x2d0599(0x391)],this['localWebhook'][_0x2d0599(0x229)]=_0x304985?.['CHATS_SET'],this['localWebhook'][_0x2d0599(0x1d2)]=_0x304985?.[_0x2d0599(0x1d2)],this[_0x2d0599(0x5f6)][_0x2d0599(0x42f)]=_0x304985?.[_0x2d0599(0x42f)],this['localWebhook'][_0x2d0599(0x33c)]=_0x304985?.[_0x2d0599(0x33c)],this[_0x2d0599(0x5f6)][_0x2d0599(0x461)]=_0x304985?.['CONTACTS_SET'],this[_0x2d0599(0x5f6)][_0x2d0599(0x543)]=_0x304985?.['CONTACTS_UPSERT'],this['localWebhook'][_0x2d0599(0x26b)]=_0x304985?.[_0x2d0599(0x26b)],this[_0x2d0599(0x5f6)][_0x2d0599(0x510)]=_0x304985?.[_0x2d0599(0x510)],this[_0x2d0599(0x5f6)][_0x2d0599(0x237)]=_0x304985?.[_0x2d0599(0x237)],this[_0x2d0599(0x5f6)]['CONNECTION_UPDATE']=_0x304985?.[_0x2d0599(0x700)],this[_0x2d0599(0x5f6)][_0x2d0599(0x6d6)]=_0x304985?.['groups_ignore'];}async[a0_0x1d1a99(0x1cf)](_0x167723){const _0x158556=a0_0x1d1a99;let _0x1707ef=[_0x158556(0x71a),'url',_0x158556(0x672),'local_map','STATUS_INSTANCE','QRCODE_UPDATED',_0x158556(0x27b),_0x158556(0x629),_0x158556(0x34f),_0x158556(0x242),'GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE',_0x158556(0x229),_0x158556(0x1d2),_0x158556(0x42f),'CHATS_DELETE',_0x158556(0x461),_0x158556(0x543),_0x158556(0x26b),'PRESENCE_UPDATE','MESSAGES_SET',_0x158556(0x700),'groups_ignore'],_0x4bf4b9={};return _0x1707ef[_0x158556(0x6e3)](_0x231450=>{_0x167723[_0x231450]!==void 0x0&&(_0x4bf4b9[_0x231450]=_0x167723[_0x231450]);}),await this[_0x158556(0x4b4)][_0x158556(0x664)]['create'](_0x4bf4b9,this['instanceName']),Object['assign'](this['localWebhook'],_0x4bf4b9),await this[_0x158556(0x4b4)][_0x158556(0x664)][_0x158556(0x20b)](this['instanceName']);}async[a0_0x1d1a99(0x592)](){const _0xdfb4a2=a0_0x1d1a99;return await this[_0xdfb4a2(0x4b4)][_0xdfb4a2(0x664)][_0xdfb4a2(0x20b)](this[_0xdfb4a2(0x6ca)]);}async[a0_0x1d1a99(0x3e3)](_0x593db1,_0x365027){const _0x11ba1a=a0_0x1d1a99;let _0x1ffd04=this[_0x11ba1a(0x749)][_0x11ba1a(0x278)](_0x11ba1a(0x5d2)),_0xbc94dc=_0x593db1[_0x11ba1a(0x5d9)](/[\.-]/gm,'_')[_0x11ba1a(0x5ce)](),_0x45aa95=this[_0x11ba1a(0x5f6)][_0x11ba1a(0x672)]&&(0x0,_[_0x11ba1a(0x29a)])(this[_0x11ba1a(0x5f6)][_0x11ba1a(0x633)])?this[_0x11ba1a(0x5f6)]['url']+(this[_0x11ba1a(0x5f6)][_0x11ba1a(0x2c8)]?this['webhookMap'][_0x593db1]:''):null,_0x42fb5b=_0x1ffd04?.['GLOBAL'],_0x1ad524=_0x42fb5b&&_0x42fb5b?.['ENABLED']&&(0x0,_[_0x11ba1a(0x29a)])(_0x42fb5b['URL'])?_0x42fb5b[_0x11ba1a(0x561)]+(_0x1ffd04['WEBHOOK_MAP']?this[_0x11ba1a(0x3fe)][_0x593db1]:''):null,_0x4fb7c8=this[_0x11ba1a(0x5f6)][_0xbc94dc],_0x1bc837=_0x1ffd04?.[_0x11ba1a(0x475)]?.[_0xbc94dc];if(_0x4fb7c8&&_0x45aa95)try{await ce['default'][_0x11ba1a(0x52e)]({'baseURL':_0x45aa95})['post']('',{'event':_0x593db1,'instance':this[_0x11ba1a(0x754)][_0x11ba1a(0x4ef)],'data':_0x365027}),this[_0x11ba1a(0x59d)][_0x11ba1a(0x2a6)](_0x11ba1a(0x3ee)+_0x593db1+':\x20'+_0x45aa95);}catch(_0x2c056f){this[_0x11ba1a(0x59d)][_0x11ba1a(0x790)](this[_0x11ba1a(0x6ca)]+'\x20('+this[_0x11ba1a(0x754)][_0x11ba1a(0x370)]+_0x11ba1a(0x535)+{'local':c['name']+_0x11ba1a(0x57e),'message':_0x2c056f?.[_0x11ba1a(0x444)],'hostName':_0x2c056f?.['hostname'],'syscall':_0x2c056f?.[_0x11ba1a(0x1fa)],'code':_0x2c056f?.['code'],'error':_0x2c056f?.[_0x11ba1a(0x1e7)],'stack':_0x2c056f?.[_0x11ba1a(0x39c)],'name':_0x2c056f?.['name']});}if(_0x1bc837&&_0x1ad524)try{await ce[_0x11ba1a(0x267)][_0x11ba1a(0x52e)]({'baseURL':_0x1ad524})[_0x11ba1a(0x4c0)]('',{'event':_0x593db1,'instance':this['instance'][_0x11ba1a(0x4ef)],'data':_0x365027}),this['logger'][_0x11ba1a(0x2a6)](_0x11ba1a(0x76e)+_0x593db1+':\x20'+_0x1ad524);}catch(_0x1432ad){this['logger']['error'](this['instanceName']+'\x20('+this[_0x11ba1a(0x754)][_0x11ba1a(0x370)]+'):\x20'+{'local':c[_0x11ba1a(0x4ef)]+_0x11ba1a(0x3b9),'message':_0x1432ad?.[_0x11ba1a(0x444)],'hostName':_0x1432ad?.[_0x11ba1a(0x49e)],'syscall':_0x1432ad?.['syscall'],'code':_0x1432ad?.[_0x11ba1a(0x1d7)],'error':_0x1432ad?.[_0x11ba1a(0x1e7)],'stack':_0x1432ad?.[_0x11ba1a(0x39c)],'name':_0x1432ad?.[_0x11ba1a(0x4ef)]});}}async[a0_0x1d1a99(0x1bf)]({qr:_0x53a38d,connection:_0x121ef7,lastDisconnect:_0x338eff}){const _0x284a0d=a0_0x1d1a99;if(_0x53a38d){if(this['instance'][_0x284a0d(0x24c)]['count']===this[_0x284a0d(0x749)][_0x284a0d(0x278)](_0x284a0d(0x4c2))['LIMIT'])return this[_0x284a0d(0x3e3)](_0x284a0d(0x350),{'message':_0x284a0d(0x271),'statusCode':w[_0x284a0d(0x3a3)]['badSession']}),this[_0x284a0d(0x3e3)](_0x284a0d(0x54d),{'instance':this[_0x284a0d(0x754)][_0x284a0d(0x4ef)],'state':'refused','statusReason':w[_0x284a0d(0x3a3)][_0x284a0d(0x775)]}),this['sendDataWebhook'](_0x284a0d(0x1b3),{'instance':this['instance']['name'],'status':_0x284a0d(0x3cd)}),this[_0x284a0d(0x400)]=!0x0,this[_0x284a0d(0x595)][_0x284a0d(0x3f8)]('no.connection',this[_0x284a0d(0x754)]['name']);this[_0x284a0d(0x754)][_0x284a0d(0x24c)]['count']++;let _0x4f8532={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x284a0d(0x23a),'dark':'#000000'}};eo[_0x284a0d(0x267)][_0x284a0d(0x32c)](_0x53a38d,_0x4f8532,(_0x3657f3,_0x1f12ed)=>{const _0xeb6827=_0x284a0d;if(_0x3657f3){this[_0xeb6827(0x59d)][_0xeb6827(0x790)](this[_0xeb6827(0x6ca)]+'\x20('+this['instance']['wuid']+_0xeb6827(0x200)+_0x3657f3['toString']());return;}this['instance'][_0xeb6827(0x24c)][_0xeb6827(0x358)]=_0x1f12ed,this[_0xeb6827(0x754)][_0xeb6827(0x24c)]['code']=_0x53a38d,this[_0xeb6827(0x3e3)](_0xeb6827(0x350),{'qrcode':{'instance':this[_0xeb6827(0x754)][_0xeb6827(0x4ef)],'code':_0x53a38d,'base64':_0x1f12ed}});}),to['default'][_0x284a0d(0x77c)](_0x53a38d,{'small':!0x0},_0x59eca1=>this[_0x284a0d(0x59d)][_0x284a0d(0x2a6)](_0x284a0d(0x653)+this[_0x284a0d(0x754)][_0x284a0d(0x4ef)]+_0x284a0d(0x421)+this[_0x284a0d(0x754)][_0x284a0d(0x24c)][_0x284a0d(0x415)]+_0x284a0d(0x4a1)+_0x59eca1));}if(_0x121ef7&&(this[_0x284a0d(0x443)]={'state':_0x121ef7,'statusReason':_0x338eff?.['error']?.[_0x284a0d(0x317)]?.[_0x284a0d(0x72b)]??0xc8},this[_0x284a0d(0x3e3)]('connection.update',{'instance':this[_0x284a0d(0x754)][_0x284a0d(0x4ef)],...this[_0x284a0d(0x443)]})),_0x121ef7===_0x284a0d(0x5f4)){if(this[_0x284a0d(0x387)]++,this[_0x284a0d(0x384)][_0x284a0d(0x750)](Date[_0x284a0d(0x5f0)]()),this[_0x284a0d(0x384)]=this['reconnectTimestamps']['filter'](_0x4ec1b0=>Date[_0x284a0d(0x5f0)]()-_0x4ec1b0<this[_0x284a0d(0x3b4)]),_0x338eff[_0x284a0d(0x790)]?.[_0x284a0d(0x317)]?.[_0x284a0d(0x72b)]!==w[_0x284a0d(0x3a3)][_0x284a0d(0x720)]&&this['reconnectTimestamps'][_0x284a0d(0x45d)]<=this['MAX_RECONNECT_ATTEMPTS'])await this[_0x284a0d(0x527)]();else{this[_0x284a0d(0x3e3)](_0x284a0d(0x1b3),{'instance':this[_0x284a0d(0x754)][_0x284a0d(0x4ef)],'status':_0x284a0d(0x3cd)}),this[_0x284a0d(0x2e4)]=!0x1;try{this['logger'][_0x284a0d(0x2d2)](this[_0x284a0d(0x6ca)]+'\x20('+this[_0x284a0d(0x754)]['wuid']+_0x284a0d(0x477));let _0xddfff1=await this[_0x284a0d(0x4b4)][_0x284a0d(0x444)][_0x284a0d(0x6a1)](this[_0x284a0d(0x754)][_0x284a0d(0x370)]);_0xddfff1['success']?this[_0x284a0d(0x59d)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x284a0d(0x370)]+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):console[_0x284a0d(0x790)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:',_0xddfff1[_0x284a0d(0x790)]);}catch(_0x46df4d){console[_0x284a0d(0x790)](_0x284a0d(0x348),_0x46df4d);}this[_0x284a0d(0x669)]!==null&&(this['logger']['verbose'](this[_0x284a0d(0x6ca)]+'\x20('+this[_0x284a0d(0x754)][_0x284a0d(0x370)]+_0x284a0d(0x4bc)),clearInterval(this['delayMessage']),this[_0x284a0d(0x669)]=null),this[_0x284a0d(0x59d)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x284a0d(0x370)]+_0x284a0d(0x51c)),this[_0x284a0d(0x721)]=null,this[_0x284a0d(0x595)]['emit']('remove.instance',this[_0x284a0d(0x754)][_0x284a0d(0x4ef)],_0x284a0d(0x4a8)),this[_0x284a0d(0x2e7)]?.['ws']?.[_0x284a0d(0x5f4)](),this['client'][_0x284a0d(0x39b)](new Error(_0x284a0d(0x3a7)));}}if(_0x121ef7===_0x284a0d(0x5d6)){this[_0x284a0d(0x765)],this[_0x284a0d(0x754)][_0x284a0d(0x370)]=this['client'][_0x284a0d(0x621)]['id'][_0x284a0d(0x5d9)](/:\d+/,'')['replace']('@s.whatsapp.net',''),this[_0x284a0d(0x754)][_0x284a0d(0x6ef)]=(await this[_0x284a0d(0x260)](this[_0x284a0d(0x754)]['wuid']+_0x284a0d(0x337)))[_0x284a0d(0x6ef)];let _0x417182=_0x284a0d(0x4d7)+this[_0x284a0d(0x754)]['wuid'],_0x3b237d=0x28,_0x540220=Math[_0x284a0d(0x345)]((_0x3b237d-_0x417182[_0x284a0d(0x45d)])/0x2),_0x440e82='\x20'[_0x284a0d(0x2c1)](_0x540220),_0x313f7c='CONECTADO\x20À\x20UAZAPI',_0xb100c5='Instância:\x20'+this[_0x284a0d(0x754)][_0x284a0d(0x4ef)],_0x4b4098=(''+_0x440e82+_0x417182+_0x440e82)['padEnd'](_0x3b237d,'\x20'),_0x467455=(''+_0x440e82+_0x313f7c+_0x440e82)['padEnd'](_0x3b237d,'\x20'),_0x595141=(''+_0x440e82+_0xb100c5+_0x440e82)['padEnd'](_0x3b237d,'\x20'),_0x28d64c=Math[_0x284a0d(0x568)](_0x4b4098[_0x284a0d(0x45d)],_0x467455[_0x284a0d(0x45d)],_0x595141['length']),_0x339241=_0x4b4098[_0x284a0d(0x602)](_0x28d64c,'\x20'),_0x46bf47=_0x467455[_0x284a0d(0x602)](_0x28d64c,'\x20'),_0x2311c4=_0x595141[_0x284a0d(0x602)](_0x28d64c,'\x20');this[_0x284a0d(0x59d)][_0x284a0d(0x23e)]((_0x284a0d(0x5c5)+'─'[_0x284a0d(0x2c1)](_0x28d64c)+_0x284a0d(0x551)+_0x46bf47+_0x284a0d(0x6a3)+_0x2311c4+_0x284a0d(0x6a3)+_0x339241+_0x284a0d(0x76f)+'─'[_0x284a0d(0x2c1)](_0x28d64c)+'┘')[_0x284a0d(0x5d9)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this['isConnected']=!0x0;}}[a0_0x1d1a99(0x765)](){const _0x4767c3=a0_0x1d1a99;this[_0x4767c3(0x387)]=0x0,this[_0x4767c3(0x384)]=[];}async[a0_0x1d1a99(0x31e)](_0xa627ce,_0x3a3dc1=!0x1){const _0x2695f5=a0_0x1d1a99;try{let _0x47b6a6=await this['repository'][_0x2695f5(0x444)][_0x2695f5(0x20b)]({'where':{'owner':this['instance'][_0x2695f5(0x370)],'_id':_0xa627ce['id']}});return _0x3a3dc1?_0x47b6a6[0x0]:_0x47b6a6[0x0]['message'];}catch{return{'conversation':''};}}['cleanStore'](){const _0x11d23d=a0_0x1d1a99;let _0x24e220=this['configService'][_0x11d23d(0x278)](_0x11d23d(0x257)),_0x5f0b10=this['configService'][_0x11d23d(0x278)](_0x11d23d(0x556));_0x24e220?.[_0x11d23d(0x75f)]&&!_0x5f0b10[_0x11d23d(0x1ec)]&&setInterval(()=>{const _0x4ff1f8=_0x11d23d;try{for(let [_0x434e5d,_0x316dcd]of Object[_0x4ff1f8(0x3c5)](_0x24e220))_0x316dcd===!0x0&&(0x0,Ot[_0x4ff1f8(0x45f)])('rm\x20-rf\x20'+(0x0,$[_0x4ff1f8(0x403)])(this['storePath'],_0x434e5d[_0x4ff1f8(0x5a7)](),this['instance'][_0x4ff1f8(0x370)])+'/*.json');}catch{}},(_0x24e220?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async[a0_0x1d1a99(0x5ae)](){const _0x2fc714=a0_0x1d1a99;let _0x481602=this[_0x2fc714(0x749)][_0x2fc714(0x278)](_0x2fc714(0x556)),_0x3640ea=this[_0x2fc714(0x749)][_0x2fc714(0x278)]('REDIS');return _0x3640ea?.[_0x2fc714(0x1ec)]?await ps(_0x3640ea,this['instance'][_0x2fc714(0x4ef)]):_0x481602[_0x2fc714(0x1ec)]?await ds(this['instance'][_0x2fc714(0x4ef)]):await(0x0,w[_0x2fc714(0x252)])((0x0,$[_0x2fc714(0x403)])(V,this['instance'][_0x2fc714(0x4ef)]));}async[a0_0x1d1a99(0x479)](){const _0x3a7941=a0_0x1d1a99;let _0x67ff2c=()=>Math[_0x3a7941(0x345)](Math[_0x3a7941(0x231)]()*0x2711)+0x7d0,_0x1a8804=async()=>{const _0x1c6fd8=_0x3a7941;if(!this[_0x1c6fd8(0x2e4)]){this[_0x1c6fd8(0x59d)][_0x1c6fd8(0x2d2)](_0x1c6fd8(0x619)),this[_0x1c6fd8(0x5cf)]=!0x1;return;}if(this[_0x1c6fd8(0x754)][_0x1c6fd8(0x370)]&&this['AutomateSystem']&&this[_0x1c6fd8(0x669)]!==null&&this['delayMessage']!==void 0x0){let _0x2805b1=Math[_0x1c6fd8(0x792)](this[_0x1c6fd8(0x669)]/0xea60);this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x1c6fd8(0x754)]['wuid']+_0x1c6fd8(0x4fc)+_0x2805b1+_0x1c6fd8(0x1c6)),this['isRunning']=!0x1;return;}else this[_0x1c6fd8(0x754)][_0x1c6fd8(0x370)]&&(this['logger'][_0x1c6fd8(0x2d2)](this[_0x1c6fd8(0x6ca)]+'\x20('+this['instance'][_0x1c6fd8(0x370)]+_0x1c6fd8(0x675)),this[_0x1c6fd8(0x721)]||await this[_0x1c6fd8(0x45a)](),(this[_0x1c6fd8(0x669)]===null||this[_0x1c6fd8(0x669)]===void 0x0)&&await this[_0x1c6fd8(0x6e1)]());if(this[_0x1c6fd8(0x5cf)]){let _0xfb410=_0x67ff2c();this[_0x1c6fd8(0x59d)][_0x1c6fd8(0x2d2)](this[_0x1c6fd8(0x6ca)]+_0x1c6fd8(0x587)+_0xfb410/0x3e8+_0x1c6fd8(0x309)),setTimeout(_0x1a8804,_0xfb410);}};if(this[_0x3a7941(0x5cf)])return;this[_0x3a7941(0x5cf)]=!0x0;let _0x103bfd=_0x67ff2c();setTimeout(_0x1a8804,_0x103bfd);}async['connectToWhatsapp'](){const _0x237dbd=a0_0x1d1a99;try{this[_0x237dbd(0x5ff)](),this[_0x237dbd(0x754)][_0x237dbd(0x3ed)]=await this[_0x237dbd(0x5ae)]();let {version:_0x1ee0ca}=await(0x0,w['fetchLatestBaileysVersion'])(),_0x3bb6de=this[_0x237dbd(0x749)][_0x237dbd(0x278)](_0x237dbd(0x785)),_0x50c069=[_0x3bb6de[_0x237dbd(0x680)],_0x3bb6de[_0x237dbd(0x294)],(0x0,so[_0x237dbd(0x57d)])()],_0x2d3ff1={'auth':{'creds':this[_0x237dbd(0x754)]['authState'][_0x237dbd(0x342)]['creds'],'keys':(0x0,w[_0x237dbd(0x466)])(this[_0x237dbd(0x754)][_0x237dbd(0x3ed)][_0x237dbd(0x342)][_0x237dbd(0x57b)],(0x0,Mt[_0x237dbd(0x267)])({'level':_0x237dbd(0x790)}))},'logger':(0x0,Mt['default'])({'level':_0x237dbd(0x790)}),'printQRInTerminal':!0x1,'browser':_0x50c069,'version':_0x1ee0ca,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x144cc5=>await this[_0x237dbd(0x31e)](_0x144cc5),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x0,'userDevicesCache':this[_0x237dbd(0x4ce)],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending':_0x274e74=>(!!(_0x274e74[_0x237dbd(0x347)]||_0x274e74[_0x237dbd(0x6a8)])&&(_0x274e74={'viewOnceMessageV2':{'message':{'messageContextInfo':{'deviceListMetadataVersion':0x2,'deviceListMetadata':{}},..._0x274e74}}}),_0x274e74)};return this[_0x237dbd(0x400)]=!0x1,this[_0x237dbd(0x2e7)]=(0x0,w[_0x237dbd(0x267)])(_0x2d3ff1),this[_0x237dbd(0x3aa)](),this[_0x237dbd(0x2e7)];}catch(_0x1e5f4e){throw this[_0x237dbd(0x59d)]['error'](this[_0x237dbd(0x6ca)]+'\x20('+this[_0x237dbd(0x754)][_0x237dbd(0x370)]+_0x237dbd(0x535)+_0x1e5f4e),new A(_0x1e5f4e?.[_0x237dbd(0x55b)]());}}['eventHandler'](){const _0x20c1d5=a0_0x1d1a99;this[_0x20c1d5(0x2e7)]['ev'][_0x20c1d5(0x212)](_0x5cd7b6=>{const _0x897c82=_0x20c1d5;if(!this[_0x897c82(0x400)]){let _0x2acc58=this[_0x897c82(0x749)][_0x897c82(0x278)]('DATABASE');if(_0x5cd7b6[_0x897c82(0x54d)]&&this[_0x897c82(0x1bf)](_0x5cd7b6[_0x897c82(0x54d)]),_0x5cd7b6[_0x897c82(0x454)]&&this[_0x897c82(0x754)][_0x897c82(0x3ed)][_0x897c82(0x346)](),_0x5cd7b6[_0x897c82(0x3d1)]){let _0x3f5384=_0x5cd7b6[_0x897c82(0x3d1)];this[_0x897c82(0x5b9)][_0x897c82(0x3d1)](_0x3f5384,_0x2acc58);}if(_0x5cd7b6['messages.upsert']){let _0x39df72=_0x5cd7b6['messages.upsert'];this[_0x897c82(0x5b9)][_0x897c82(0x787)](_0x39df72,_0x2acc58);}if(_0x5cd7b6[_0x897c82(0x584)]){let _0x3a35fc=_0x5cd7b6[_0x897c82(0x584)];this[_0x897c82(0x5b9)][_0x897c82(0x584)](_0x3a35fc,_0x2acc58);}if(_0x5cd7b6[_0x897c82(0x3cf)]){let _0x5a01c7=_0x5cd7b6['presence.update'];if(this[_0x897c82(0x5f6)]?.[_0x897c82(0x6d6)]&&_0x5a01c7['id']['includes'](_0x897c82(0x28e)))return;this[_0x897c82(0x3e3)]('presence.update',_0x5a01c7);}if(!this[_0x897c82(0x5f6)]?.[_0x897c82(0x6d6)]){if(_0x5cd7b6[_0x897c82(0x5fa)]){let _0x99f68=_0x5cd7b6[_0x897c82(0x5fa)];this[_0x897c82(0x761)][_0x897c82(0x5fa)](_0x99f68);}if(_0x5cd7b6['groups.update']){let _0x53b591=_0x5cd7b6[_0x897c82(0x4de)];this[_0x897c82(0x761)][_0x897c82(0x4de)](_0x53b591);}if(_0x5cd7b6[_0x897c82(0x20c)]){let _0x4d00b7=_0x5cd7b6[_0x897c82(0x20c)];this[_0x897c82(0x761)][_0x897c82(0x20c)](_0x4d00b7);}}if(_0x5cd7b6[_0x897c82(0x431)]){let _0x45ae9a=_0x5cd7b6['chats.upsert'];this['chatHandle']['chats.upsert'](_0x45ae9a,_0x2acc58);}if(_0x5cd7b6['chats.update']){let _0x4d8f8a=_0x5cd7b6[_0x897c82(0x712)];this[_0x897c82(0x21c)][_0x897c82(0x712)](_0x4d8f8a,_0x2acc58);}if(_0x5cd7b6['chats.delete']){let _0x512191=_0x5cd7b6['chats.delete'];this['chatHandle'][_0x897c82(0x324)](_0x512191);}if(_0x5cd7b6[_0x897c82(0x6b8)]){let _0x5553ab=_0x5cd7b6[_0x897c82(0x6b8)];this[_0x897c82(0x3d5)][_0x897c82(0x6b8)](_0x5553ab,_0x2acc58);}if(_0x5cd7b6[_0x897c82(0x3c7)]){let _0x5dd05e=_0x5cd7b6['contacts.update'];this['contactHandle']['contacts.update'](_0x5dd05e,_0x2acc58);}}});}[a0_0x1d1a99(0x3b7)](_0x2acb8a){const _0x57c530=a0_0x1d1a99;let _0x2aeb35=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x57c530(0x77a)](_0x2acb8a);if(_0x2aeb35&&_0x2aeb35[0x1]==='55'){let _0x3ab30c=_0x2aeb35[0x2],_0x162ecb=_0x2aeb35[0x3],_0x16a26b=_0x2aeb35[0x4];if(_0x3ab30c>='31'&&_0x162ecb==='9')return _0x2aeb35[0x1]+_0x3ab30c+_0x16a26b;}return _0x2acb8a;}[a0_0x1d1a99(0x577)](_0x434451){const _0x8456b7=a0_0x1d1a99;return _0x434451[_0x8456b7(0x3c9)](_0x8456b7(0x28e))||_0x434451[_0x8456b7(0x3c9)](_0x8456b7(0x337))||_0x434451[_0x8456b7(0x3c9)](_0x8456b7(0x72e))?_0x434451:(_0x434451=_0x434451?.[_0x8456b7(0x5d9)](/\s/g,'')[_0x8456b7(0x5d9)](/\+/g,'')[_0x8456b7(0x5d9)](/\(/g,'')['replace'](/\)/g,'')[_0x8456b7(0x447)](/\:/)[0x0][_0x8456b7(0x447)]('@')[0x0],_0x434451['length']>=0x12?(_0x434451=_0x434451['replace'](/[^\d-]/g,''),_0x434451+_0x8456b7(0x28e)):(_0x434451=_0x434451[_0x8456b7(0x5d9)](/\D/g,''),this[_0x8456b7(0x3b7)](_0x434451)+_0x8456b7(0x337)));}async[a0_0x1d1a99(0x4e2)](_0x5e03e6){const _0x572a27=a0_0x1d1a99;let _0x4af2e4=this[_0x572a27(0x577)](_0x5e03e6['number']),_0x121e8c=(await this[_0x572a27(0x2ab)]({'numbers':[_0x4af2e4]}))[0x0];if(!_0x121e8c[_0x572a27(0x339)]&&!(0x0,w[_0x572a27(0x77e)])(_0x121e8c[_0x572a27(0x60a)]))throw new g(_0x121e8c);let _0x35d46c=(0x0,w[_0x572a27(0x77e)])(_0x4af2e4)?_0x4af2e4:_0x121e8c[_0x572a27(0x60a)];if((0x0,w[_0x572a27(0x77e)])(_0x35d46c))try{await this[_0x572a27(0x2e7)]['groupMetadata'](_0x35d46c);}catch{throw new x('Group\x20not\x20found');}try{return await this[_0x572a27(0x2e7)][_0x572a27(0x372)](_0x35d46c),await this[_0x572a27(0x2e7)][_0x572a27(0x24a)](_0x5e03e6[_0x572a27(0x2a5)],_0x4af2e4),{'status':0xc8,'presence':_0x5e03e6[_0x572a27(0x2a5)]};}catch(_0x29b020){throw new g(_0x29b020[_0x572a27(0x55b)]());}}async[a0_0x1d1a99(0x260)](_0x3da500){const _0x5a0686=a0_0x1d1a99;let _0x224f38=this[_0x5a0686(0x577)](_0x3da500);try{return{'wuid':_0x224f38,'profilePictureUrl':await this[_0x5a0686(0x2e7)][_0x5a0686(0x6ef)](_0x224f38,_0x5a0686(0x2f1))};}catch{return{'wuid':_0x224f38,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x2758c,_0xd380fb,_0x167581){const _0x257ab3=a0_0x1d1a99;let _0x393ec1=(await this[_0x257ab3(0x2ab)]({'numbers':[_0x2758c]}))[0x0];if(!_0x393ec1['exists']&&!(0x0,w[_0x257ab3(0x77e)])(_0x393ec1[_0x257ab3(0x60a)])&&!_0x393ec1['jid']['includes']('@broadcast'))throw new g(_0x393ec1);let _0x26c2b6=_0x393ec1[_0x257ab3(0x60a)];try{_0x167581?.[_0x257ab3(0x6ed)]&&(await this[_0x257ab3(0x2e7)][_0x257ab3(0x372)](_0x26c2b6),await this[_0x257ab3(0x2e7)]['sendPresenceUpdate'](_0x167581?.[_0x257ab3(0x2a5)]??_0x257ab3(0x1b8),_0x26c2b6),await(0x0,w[_0x257ab3(0x6ed)])(_0x167581['delay']),await this[_0x257ab3(0x2e7)][_0x257ab3(0x24a)](_0x257ab3(0x6f0),_0x26c2b6));let _0x5cb1b3=_0x167581?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x5905f7;if(_0x167581?.[_0x257ab3(0x715)]){let _0x4839ab=_0x167581?.[_0x257ab3(0x715)],_0x287fec=_0x4839ab?.['message']?_0x4839ab:await this[_0x257ab3(0x31e)](_0x4839ab[_0x257ab3(0x3eb)],!0x0);if(!_0x287fec)throw _0x257ab3(0x364);_0x5905f7=_0x287fec;}let _0x536671;if((0x0,w[_0x257ab3(0x77e)])(_0x26c2b6))try{let _0x33e4a7=await this['client']['groupMetadata'](_0x26c2b6);if(!_0x33e4a7)throw new x(_0x257ab3(0x51e));_0x167581?.[_0x257ab3(0x37b)]&&(_0x167581['mentions']?.[_0x257ab3(0x483)]?_0x536671=_0x33e4a7[_0x257ab3(0x742)][_0x257ab3(0x5dc)](_0x128433=>_0x128433['id']):_0x167581[_0x257ab3(0x37b)]?.[_0x257ab3(0x340)]?.[_0x257ab3(0x45d)]&&(_0x536671=_0x167581[_0x257ab3(0x37b)][_0x257ab3(0x340)][_0x257ab3(0x5dc)](_0x2a9cfd=>{const _0x136ee7=_0x257ab3;let _0x472873=this[_0x136ee7(0x577)](_0x2a9cfd);return(0x0,w[_0x136ee7(0x77e)])(_0x472873)?null:_0x472873;})));}catch{throw new x(_0x257ab3(0x51e));}let _0x4af6b3=await((async()=>{const _0x5e9638=_0x257ab3;let _0x139927={'quoted':_0x5905f7};if(!_0xd380fb[_0x5e9638(0x512)]&&!_0xd380fb[_0x5e9638(0x380)]&&!_0xd380fb[_0x5e9638(0x548)]&&!_0xd380fb[_0x5e9638(0x285)]&&_0x26c2b6!==_0x5e9638(0x3f2)&&!_0xd380fb['audio'])return await this[_0x5e9638(0x2e7)][_0x5e9638(0x28a)](_0x26c2b6,{'forward':{'key':{'remoteJid':this[_0x5e9638(0x754)][_0x5e9638(0x370)],'fromMe':!0x0},'message':_0xd380fb},'mentions':_0x536671},_0x139927);if(_0xd380fb[_0x5e9638(0x285)]){let _0x49725a=_0xd380fb[_0x5e9638(0x285)];return _0x167581?.[_0x5e9638(0x473)]&&(_0x49725a=await this[_0x5e9638(0x71f)](_0x49725a,_0x26c2b6)),await this[_0x5e9638(0x2e7)][_0x5e9638(0x28a)](_0x26c2b6,{'text':_0x49725a,'mentions':_0x536671,'linkPreview':_0x5cb1b3},_0x139927);}return _0x26c2b6===_0x5e9638(0x3f2)?await this[_0x5e9638(0x2e7)][_0x5e9638(0x28a)](_0x26c2b6,_0xd380fb[_0x5e9638(0x1be)][_0x5e9638(0x375)],{'backgroundColor':_0xd380fb[_0x5e9638(0x1be)][_0x5e9638(0x704)][_0x5e9638(0x281)],'font':_0xd380fb['status']['option'][_0x5e9638(0x525)],'statusJidList':_0xd380fb['status'][_0x5e9638(0x704)][_0x5e9638(0x32e)]}):await this[_0x5e9638(0x2e7)]['sendMessage'](_0x26c2b6,_0xd380fb,_0x139927);})()),{message_normalized:_0x53a210}=this['normalizeMessage'](_0x4af6b3[_0x257ab3(0x444)],G(_0x4af6b3[_0x257ab3(0x444)]),null),_0x5a35ef={'_id':_0x4af6b3[_0x257ab3(0x3eb)]['id'],'key':_0x4af6b3[_0x257ab3(0x3eb)],'pushName':_0x4af6b3[_0x257ab3(0x50c)],'message':{..._0x4af6b3[_0x257ab3(0x444)]},'messageType':G(_0x4af6b3[_0x257ab3(0x444)]),'message_normalized':{'key':_0x4af6b3['key'],'pushName':_0x4af6b3['pushName'],'messageTimestamp':_0x4af6b3[_0x257ab3(0x54a)]&&_0x4af6b3[_0x257ab3(0x54a)][_0x257ab3(0x55b)]()['length']<0xd?_0x4af6b3[_0x257ab3(0x54a)]*0x3e8:_0x4af6b3[_0x257ab3(0x54a)]||null,'source':(0x0,w[_0x257ab3(0x625)])(_0x4af6b3[_0x257ab3(0x3eb)]['id']),..._0x53a210},'messageTimestamp':_0x4af6b3[_0x257ab3(0x54a)]&&_0x4af6b3['messageTimestamp'][_0x257ab3(0x55b)]()[_0x257ab3(0x45d)]<0xd?_0x4af6b3[_0x257ab3(0x54a)]*0x3e8:_0x4af6b3[_0x257ab3(0x54a)]||null,'owner':this['instance'][_0x257ab3(0x370)],'source':(0x0,w[_0x257ab3(0x625)])(_0x4af6b3[_0x257ab3(0x3eb)]['id'])};return this[_0x257ab3(0x59d)][_0x257ab3(0x2a6)](_0x5a35ef),await this[_0x257ab3(0x3e3)](_0x257ab3(0x4b3),_0x5a35ef),B(this[_0x257ab3(0x6ca)],_0x257ab3(0x464),{'message':_0x5a35ef}),this[_0x257ab3(0x334)](this[_0x257ab3(0x749)][_0x257ab3(0x278)](_0x257ab3(0x556)),_0x5a35ef,_0x257ab3(0x34f)),await this[_0x257ab3(0x4b4)][_0x257ab3(0x444)][_0x257ab3(0x3a1)]([_0x5a35ef]),_0x4af6b3;}catch(_0x538737){throw this[_0x257ab3(0x59d)][_0x257ab3(0x790)](this[_0x257ab3(0x6ca)]+'\x20('+this[_0x257ab3(0x754)][_0x257ab3(0x370)]+_0x257ab3(0x535)+_0x538737[_0x257ab3(0x55b)]()),new g(_0x538737['toString']());}}get['connectionStatus'](){const _0x53f8b9=a0_0x1d1a99;return this[_0x53f8b9(0x443)];}async['textMessage'](_0x4f42cf){const _0x28ca85=a0_0x1d1a99;let _0x3c8852=this['configService'][_0x28ca85(0x278)](_0x28ca85(0x1e3)),_0x1df0f9=this[_0x28ca85(0x749)]['get'](_0x28ca85(0x462));return _0x1df0f9&&this['instanceName'][_0x28ca85(0x5a7)]()[_0x28ca85(0x3c9)](_0x1df0f9[_0x28ca85(0x5a7)]())&&(_0x4f42cf[_0x28ca85(0x218)][_0x28ca85(0x643)]+='\x0a\x0a'+_0x3c8852),await this['sendMessageWithTyping'](_0x4f42cf['number'],{'conversation':_0x4f42cf[_0x28ca85(0x218)]['text']},_0x4f42cf?.['options']);}async[a0_0x1d1a99(0x6bc)](_0x413f05){const _0x5abfba=a0_0x1d1a99;if(!_0x413f05['type'])throw new g(_0x5abfba(0x356));if(!_0x413f05[_0x5abfba(0x375)])throw new g(_0x5abfba(0x46b));if(_0x413f05[_0x5abfba(0x758)]){let _0x222765=await this[_0x5abfba(0x4b4)]['contact']['find']({'where':{'owner':this[_0x5abfba(0x754)][_0x5abfba(0x370)]}});if(!_0x222765[_0x5abfba(0x45d)])throw new g(_0x5abfba(0x3e1));_0x413f05[_0x5abfba(0x32e)]=_0x222765[_0x5abfba(0x463)](_0x2da9f9=>_0x2da9f9['pushName'])[_0x5abfba(0x5dc)](_0x333846=>_0x333846[_0x5abfba(0x71a)]);}if(!_0x413f05[_0x5abfba(0x32e)]?.[_0x5abfba(0x45d)]&&!_0x413f05['allContacts'])throw new g(_0x5abfba(0x762));if(_0x413f05[_0x5abfba(0x40a)]===_0x5abfba(0x643)){if(!_0x413f05[_0x5abfba(0x281)])throw new g(_0x5abfba(0x739));if(!_0x413f05['font'])throw new g(_0x5abfba(0x6f5));return{'content':{'text':_0x413f05['content']},'option':{'backgroundColor':_0x413f05['backgroundColor'],'font':_0x413f05[_0x5abfba(0x525)],'statusJidList':_0x413f05[_0x5abfba(0x32e)]}};}if(_0x413f05[_0x5abfba(0x40a)]===_0x5abfba(0x2f1))return{'content':{'image':{'url':_0x413f05[_0x5abfba(0x375)]},'caption':_0x413f05[_0x5abfba(0x1f7)]},'option':{'statusJidList':_0x413f05['statusJidList']}};if(_0x413f05[_0x5abfba(0x40a)]===_0x5abfba(0x2c2))return{'content':{'video':{'url':_0x413f05[_0x5abfba(0x375)]},'caption':_0x413f05[_0x5abfba(0x1f7)]},'option':{'statusJidList':_0x413f05[_0x5abfba(0x32e)]}};if(_0x413f05[_0x5abfba(0x40a)]===_0x5abfba(0x512)){this[_0x5abfba(0x59d)]['verbose'](_0x5abfba(0x5c3)),this[_0x5abfba(0x59d)][_0x5abfba(0x2d2)](_0x5abfba(0x1c1));let _0x4bd179=await this[_0x5abfba(0x61e)](_0x413f05[_0x5abfba(0x375)]);if(typeof _0x4bd179=='string'){this['logger'][_0x5abfba(0x2d2)](_0x5abfba(0x759));let _0x2d1e29=P[_0x5abfba(0x29f)](_0x4bd179)[_0x5abfba(0x55b)](_0x5abfba(0x358)),_0x22bad7={'content':{'audio':Buffer[_0x5abfba(0x1e2)](_0x2d1e29,'base64'),'ptt':!0x0,'mimetype':_0x5abfba(0x422)},'option':{'statusJidList':_0x413f05[_0x5abfba(0x32e)]}};return P[_0x5abfba(0x1c3)](_0x4bd179),_0x22bad7;}else throw new A(_0x4bd179);}throw new g('Type\x20not\x20found');}async['statusMessage'](_0x52c181){const _0xce9405=a0_0x1d1a99;return await this[_0xce9405(0x273)](_0xce9405(0x3f2),{'status':await this[_0xce9405(0x6bc)](_0x52c181[_0xce9405(0x596)])});}async[a0_0x1d1a99(0x637)](_0x51f1d6){const _0x23ba92=a0_0x1d1a99;try{let _0x1b7974=await(0x0,w[_0x23ba92(0x4b7)])({[_0x51f1d6[_0x23ba92(0x6e0)]]:(0x0,_['isURL'])(_0x51f1d6[_0x23ba92(0x316)])?{'url':_0x51f1d6[_0x23ba92(0x316)]}:Buffer[_0x23ba92(0x1e2)](_0x51f1d6[_0x23ba92(0x316)],_0x23ba92(0x358))},{'upload':this[_0x23ba92(0x2e7)]['waUploadToServer']}),_0xf22c9e=_0x51f1d6[_0x23ba92(0x6e0)]+_0x23ba92(0x616);if(_0x51f1d6[_0x23ba92(0x6e0)]===_0x23ba92(0x1e9)&&!_0x51f1d6[_0x23ba92(0x3f5)]){let _0x58f37f=new RegExp(/.*\/(.+?)\./)[_0x23ba92(0x77a)](_0x51f1d6[_0x23ba92(0x316)]);_0x51f1d6[_0x23ba92(0x3f5)]=_0x58f37f?_0x58f37f[0x1]:null;}let _0x5c99d2=(0x0,_[_0x23ba92(0x29a)])(_0x51f1d6['media'])?_0x51f1d6[_0x23ba92(0x316)][_0x23ba92(0x447)]('?')[0x0]:_0x51f1d6[_0x23ba92(0x316)];this[_0x23ba92(0x59d)][_0x23ba92(0x2d2)](_0x23ba92(0x62e)+_0x5c99d2);let _0x1b6bb8;_0x51f1d6[_0x23ba92(0x3f5)]?_0x1b6bb8=(0x0,At['getMIMEType'])(_0x51f1d6['fileName']):(0x0,_[_0x23ba92(0x29a)])(_0x51f1d6['media'])?_0x1b6bb8=(0x0,At['getMIMEType'])(_0x5c99d2):_0x1b6bb8=(0x0,At['getMIMEType'])(_0x51f1d6['media']);let _0xef1abe=this['configService'][_0x23ba92(0x278)](_0x23ba92(0x1e3)),_0x3d8bf8=this[_0x23ba92(0x749)]['get'](_0x23ba92(0x462));return _0x3d8bf8&&this[_0x23ba92(0x6ca)]['toLowerCase']()[_0x23ba92(0x3c9)](_0x3d8bf8['toLowerCase']())&&(_0x51f1d6['caption']+='\x0a\x0a'+_0xef1abe),_0x1b7974[_0xf22c9e][_0x23ba92(0x1f7)]=_0x51f1d6?.[_0x23ba92(0x1f7)],_0x1b7974[_0xf22c9e][_0x23ba92(0x3a4)]=_0x1b6bb8,_0x1b7974[_0xf22c9e][_0x23ba92(0x3f5)]=_0x51f1d6[_0x23ba92(0x3f5)],_0x51f1d6[_0x23ba92(0x6e0)]===_0x23ba92(0x2c2)&&(_0x1b7974[_0xf22c9e]['jpegThumbnail']=Uint8Array[_0x23ba92(0x1e2)]((0x0,Te[_0x23ba92(0x29f)])((0x0,$[_0x23ba92(0x403)])(process[_0x23ba92(0x4f8)](),_0x23ba92(0x610)))),_0x1b7974[_0xf22c9e][_0x23ba92(0x6a7)]=!0x1),(0x0,w[_0x23ba92(0x3d2)])('',{[_0xf22c9e]:{..._0x1b7974[_0xf22c9e]}},{'userJid':this[_0x23ba92(0x754)]['wuid']});}catch(_0x10e0da){throw this[_0x23ba92(0x59d)][_0x23ba92(0x790)](this[_0x23ba92(0x6ca)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x10e0da),new A(_0x10e0da?.['toString']()||_0x10e0da);}}async['mediaMessage'](_0x3604e9){const _0x3439c2=a0_0x1d1a99;let _0x37f954=await this['prepareMediaMessage'](_0x3604e9['mediaMessage']);return await this['sendMessageWithTyping'](_0x3604e9[_0x3439c2(0x2ba)],{..._0x37f954[_0x3439c2(0x444)]},_0x3604e9?.[_0x3439c2(0x50d)]);}async[a0_0x1d1a99(0x668)](_0x46390d,_0x4a61d1){const _0x267876=a0_0x1d1a99;try{this['logger']['verbose']('Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x4ce194,_0x6a326c=_0x4a61d1+'-'+new Date()[_0x267876(0x213)]();this['logger'][_0x267876(0x2d2)](_0x267876(0x718)+_0x6a326c);let _0xb48de1=''+(0x0,$['join'])(this[_0x267876(0x4da)],_0x6a326c+'.webp');if(this[_0x267876(0x59d)][_0x267876(0x2d2)](_0x267876(0x239)+_0xb48de1),(0x0,_[_0x267876(0x295)])(_0x46390d)){this[_0x267876(0x59d)][_0x267876(0x2d2)](_0x267876(0x78a));let _0x3d2381=_0x46390d['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x5264ca=Buffer[_0x267876(0x1e2)](_0x3d2381,_0x267876(0x358));_0x4ce194=''+(0x0,$[_0x267876(0x403)])(this[_0x267876(0x4da)],'temp-'+_0x6a326c+_0x267876(0x290)),this[_0x267876(0x59d)][_0x267876(0x2d2)](_0x267876(0x246)+_0x4ce194),await(0x0,Dt['default'])(_0x5264ca)['toFile'](_0x4ce194),this[_0x267876(0x59d)]['verbose'](_0x267876(0x371));}else{this[_0x267876(0x59d)][_0x267876(0x2d2)](_0x267876(0x59e));let _0x2aaa1a=new Date()['getTime'](),_0x12d6f5=_0x46390d+_0x267876(0x205)+_0x2aaa1a;this[_0x267876(0x59d)][_0x267876(0x2d2)](_0x267876(0x4f9)+_0x12d6f5);let _0x2e0040=await ce['default'][_0x267876(0x278)](_0x12d6f5,{'responseType':_0x267876(0x5fd)});this[_0x267876(0x59d)]['verbose'](_0x267876(0x21f));let _0x4ed1c3=Buffer[_0x267876(0x1e2)](_0x2e0040[_0x267876(0x723)],_0x267876(0x31d));_0x4ce194=''+(0x0,$[_0x267876(0x403)])(this[_0x267876(0x4da)],_0x267876(0x663)+_0x6a326c+_0x267876(0x290)),this[_0x267876(0x59d)]['verbose']('Image\x20path:\x20'+_0x4ce194),await(0x0,Dt[_0x267876(0x267)])(_0x4ed1c3)[_0x267876(0x594)](_0x4ce194),this[_0x267876(0x59d)][_0x267876(0x2d2)](_0x267876(0x371));}return await(0x0,Dt['default'])(_0x4ce194)[_0x267876(0x56f)]()[_0x267876(0x594)](_0xb48de1),this[_0x267876(0x59d)][_0x267876(0x2d2)]('Image\x20converted\x20to\x20WebP'),P[_0x267876(0x1c3)](_0x4ce194),this[_0x267876(0x59d)][_0x267876(0x2d2)](_0x267876(0x60e)),_0xb48de1;}catch(_0x485a97){console[_0x267876(0x790)](_0x267876(0x74c),_0x485a97);}}async['mediaSticker'](_0x2c2142){const _0x175106=a0_0x1d1a99;let _0x13cf9b=await this[_0x175106(0x668)](_0x2c2142[_0x175106(0x588)][_0x175106(0x2f1)],_0x2c2142[_0x175106(0x2ba)]),_0x5a86b0=await this[_0x175106(0x273)](_0x2c2142[_0x175106(0x2ba)],{'sticker':{'url':_0x13cf9b}},_0x2c2142?.[_0x175106(0x50d)]);return P[_0x175106(0x1c3)](_0x13cf9b),this['logger'][_0x175106(0x2d2)](_0x175106(0x3dd)),_0x5a86b0;}async[a0_0x1d1a99(0x70c)](_0x2ca006){const _0x4a4afa=a0_0x1d1a99;if(this[_0x4a4afa(0x59d)][_0x4a4afa(0x2d2)](_0x4a4afa(0x393)),!_0x2ca006[_0x4a4afa(0x50d)]?.[_0x4a4afa(0x4bd)]&&_0x2ca006[_0x4a4afa(0x50d)]?.[_0x4a4afa(0x4bd)]!==!0x1&&(_0x2ca006['options'][_0x4a4afa(0x4bd)]=!0x0),_0x2ca006[_0x4a4afa(0x50d)]?.[_0x4a4afa(0x4bd)]){let _0x55eb2f=await this[_0x4a4afa(0x61e)](_0x2ca006[_0x4a4afa(0x69d)][_0x4a4afa(0x512)]);if(typeof _0x55eb2f=='string'){let _0x20ead8=P['readFileSync'](_0x55eb2f)[_0x4a4afa(0x55b)](_0x4a4afa(0x358)),_0x2efd9a=this[_0x4a4afa(0x273)](_0x2ca006[_0x4a4afa(0x2ba)],{'audio':Buffer['from'](_0x20ead8,_0x4a4afa(0x358)),'ptt':!0x0,'mimetype':_0x4a4afa(0x422)},{'presence':_0x4a4afa(0x1d4),'delay':_0x2ca006?.[_0x4a4afa(0x50d)]?.[_0x4a4afa(0x6ed)]});return P[_0x4a4afa(0x1c3)](_0x55eb2f),this['logger'][_0x4a4afa(0x2d2)](_0x4a4afa(0x3ad)),_0x2efd9a;}else throw new A(_0x55eb2f);}return await this[_0x4a4afa(0x273)](_0x2ca006[_0x4a4afa(0x2ba)],{'audio':(0x0,_[_0x4a4afa(0x29a)])(_0x2ca006[_0x4a4afa(0x69d)][_0x4a4afa(0x512)])?{'url':_0x2ca006[_0x4a4afa(0x69d)][_0x4a4afa(0x512)]}:Buffer[_0x4a4afa(0x1e2)](_0x2ca006[_0x4a4afa(0x69d)][_0x4a4afa(0x512)],_0x4a4afa(0x358)),'ptt':!0x0,'mimetype':_0x4a4afa(0x32d)},{'presence':_0x4a4afa(0x1d4),'delay':_0x2ca006?.[_0x4a4afa(0x50d)]?.[_0x4a4afa(0x6ed)]});}async[a0_0x1d1a99(0x61e)](_0x419456){const _0x4ceedd=a0_0x1d1a99;this[_0x4ceedd(0x59d)][_0x4ceedd(0x2d2)](_0x4ceedd(0x1c1));let _0x53f81b,_0x25f2bd,_0x593f80=(0x0,It['v4'])();if(this[_0x4ceedd(0x59d)]['verbose']('Hash\x20to\x20audio\x20name:\x20'+_0x593f80),(0x0,_[_0x4ceedd(0x29a)])(_0x419456)){this[_0x4ceedd(0x59d)]['verbose'](_0x4ceedd(0x489)),_0x25f2bd=''+(0x0,$[_0x4ceedd(0x403)])(this[_0x4ceedd(0x4da)],_0x593f80+_0x4ceedd(0x2c7)),_0x53f81b=''+(0x0,$[_0x4ceedd(0x403)])(this[_0x4ceedd(0x4da)],_0x4ceedd(0x663)+_0x593f80+'.mp3'),this[_0x4ceedd(0x59d)]['verbose']('Output\x20audio\x20path:\x20'+_0x25f2bd),this[_0x4ceedd(0x59d)][_0x4ceedd(0x2d2)]('Temp\x20audio\x20path:\x20'+_0x53f81b);let _0x30ad60=new Date()[_0x4ceedd(0x213)](),_0x5cd633=_0x419456+_0x4ceedd(0x205)+_0x30ad60;this[_0x4ceedd(0x59d)]['verbose']('Including\x20timestamp\x20in\x20url:\x20'+_0x5cd633);let _0x1b290f=await ce[_0x4ceedd(0x267)]['get'](_0x5cd633,{'responseType':'arraybuffer'});this['logger'][_0x4ceedd(0x2d2)](_0x4ceedd(0x3c1)),P['writeFileSync'](_0x53f81b,_0x1b290f[_0x4ceedd(0x723)]);}else{this[_0x4ceedd(0x59d)]['verbose'](_0x4ceedd(0x269)),_0x25f2bd=''+(0x0,$[_0x4ceedd(0x403)])(this[_0x4ceedd(0x4da)],_0x593f80+_0x4ceedd(0x2c7)),_0x53f81b=''+(0x0,$[_0x4ceedd(0x403)])(this[_0x4ceedd(0x4da)],_0x4ceedd(0x663)+_0x593f80+_0x4ceedd(0x222)),this[_0x4ceedd(0x59d)][_0x4ceedd(0x2d2)](_0x4ceedd(0x2fa)+_0x25f2bd),this[_0x4ceedd(0x59d)][_0x4ceedd(0x2d2)]('Temp\x20audio\x20path:\x20'+_0x53f81b);let _0x235aa5=Buffer['from'](_0x419456,'base64');P[_0x4ceedd(0x44f)](_0x53f81b,_0x235aa5),this[_0x4ceedd(0x59d)]['verbose'](_0x4ceedd(0x6dd));}return this[_0x4ceedd(0x59d)][_0x4ceedd(0x2d2)]('Converting\x20audio\x20to\x20mp4'),new Promise((_0x42c49e,_0x4bc9eb)=>{const _0x5d88ab=_0x4ceedd;(0x0,Ot[_0x5d88ab(0x77a)])(Xa[_0x5d88ab(0x267)][_0x5d88ab(0x591)]+_0x5d88ab(0x5b5)+_0x53f81b+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20'+_0x25f2bd+_0x5d88ab(0x705),_0x105026=>{const _0x5af697=_0x5d88ab;P[_0x5af697(0x1c3)](_0x53f81b),this[_0x5af697(0x59d)][_0x5af697(0x2d2)](_0x5af697(0x6e6)),_0x105026&&_0x4bc9eb(_0x105026),this[_0x5af697(0x59d)][_0x5af697(0x2d2)](_0x5af697(0x624)),_0x42c49e(_0x25f2bd);});});}async[a0_0x1d1a99(0x241)](_0x72eacc){const _0x4ecd44=a0_0x1d1a99;let _0x11722e={},_0x251828=_0x4ecd44(0x1e6);if(_0x72eacc[_0x4ecd44(0x241)]?.['mediaMessage']){_0x251828=_0x72eacc[_0x4ecd44(0x241)][_0x4ecd44(0x746)]?.['mediatype'][_0x4ecd44(0x5ce)]()??'TEXT',_0x11722e[_0x4ecd44(0x35c)]=_0x251828[_0x4ecd44(0x5a7)]()+_0x4ecd44(0x616);let _0x5bf896=await this[_0x4ecd44(0x637)](_0x72eacc['buttonMessage']['mediaMessage']);_0x11722e['message']=_0x5bf896['message'][_0x11722e[_0x4ecd44(0x35c)]],_0x11722e[_0x4ecd44(0x5ef)]='*'+_0x72eacc[_0x4ecd44(0x241)][_0x4ecd44(0x626)]+_0x4ecd44(0x64d)+_0x72eacc[_0x4ecd44(0x241)][_0x4ecd44(0x442)];}let _0x2715ce={'text':_0x72eacc[_0x4ecd44(0x241)][_0x4ecd44(0x5eb)]['map'](_0x1d44b3=>_0x1d44b3[_0x4ecd44(0x284)]),'ids':_0x72eacc[_0x4ecd44(0x241)][_0x4ecd44(0x5eb)][_0x4ecd44(0x5dc)](_0x4f69b2=>_0x4f69b2[_0x4ecd44(0x35e)])};if(!(0x0,_['arrayUnique'])(_0x2715ce[_0x4ecd44(0x643)])||!(0x0,_[_0x4ecd44(0x3c4)])(_0x2715ce[_0x4ecd44(0x585)]))throw new g(_0x4ecd44(0x5de),_0x4ecd44(0x659));return await this['sendMessageWithTyping'](_0x72eacc[_0x4ecd44(0x2ba)],{'buttonsMessage':{'text':_0x11722e?.[_0x4ecd44(0x35c)]?void 0x0:_0x72eacc[_0x4ecd44(0x241)][_0x4ecd44(0x626)],'contentText':_0x11722e?.['contentText']??_0x72eacc[_0x4ecd44(0x241)][_0x4ecd44(0x442)],'footerText':_0x72eacc[_0x4ecd44(0x241)]?.[_0x4ecd44(0x6c3)],'buttons':_0x72eacc[_0x4ecd44(0x241)][_0x4ecd44(0x5eb)][_0x4ecd44(0x5dc)](_0x35c7c1=>({'buttonText':{'displayText':_0x35c7c1[_0x4ecd44(0x284)]},'buttonId':_0x35c7c1['buttonId'],'type':0x1})),'headerType':w[_0x4ecd44(0x64e)][_0x4ecd44(0x616)][_0x4ecd44(0x674)]['HeaderType'][_0x251828],[_0x11722e?.[_0x4ecd44(0x35c)]]:_0x11722e?.[_0x4ecd44(0x444)]}},_0x72eacc?.[_0x4ecd44(0x50d)]);}async[a0_0x1d1a99(0x468)](_0x14513e){const _0x17c48c=a0_0x1d1a99;return await this[_0x17c48c(0x273)](_0x14513e[_0x17c48c(0x2ba)],{'locationMessage':{'degreesLatitude':_0x14513e[_0x17c48c(0x468)][_0x17c48c(0x5c7)],'degreesLongitude':_0x14513e[_0x17c48c(0x468)][_0x17c48c(0x606)],'name':_0x14513e['locationMessage']?.[_0x17c48c(0x4ef)],'address':_0x14513e[_0x17c48c(0x468)]?.[_0x17c48c(0x6bf)]}},_0x14513e?.[_0x17c48c(0x50d)]);}async['listMessage'](_0x2a5e0d){const _0x2798ee=a0_0x1d1a99;return await this[_0x2798ee(0x273)](_0x2a5e0d[_0x2798ee(0x2ba)],{'listMessage':{'title':_0x2a5e0d[_0x2798ee(0x6a8)][_0x2798ee(0x626)],'description':_0x2a5e0d[_0x2798ee(0x6a8)][_0x2798ee(0x442)],'buttonText':_0x2a5e0d[_0x2798ee(0x6a8)]?.[_0x2798ee(0x284)],'footerText':_0x2a5e0d[_0x2798ee(0x6a8)]?.[_0x2798ee(0x6c3)],'sections':_0x2a5e0d[_0x2798ee(0x6a8)][_0x2798ee(0x27c)],'listType':0x1}},_0x2a5e0d?.[_0x2798ee(0x50d)]);}async[a0_0x1d1a99(0x435)](_0xa2517){const _0x5150ff=a0_0x1d1a99;let _0x39a994={},_0x1b1a0a=_0x2dce24=>{const _0x19d000=a0_0x3b16;let _0x162acc=_0x19d000(0x6a4)+_0x2dce24[_0x19d000(0x30d)]+_0x19d000(0x58b)+_0x2dce24[_0x19d000(0x30d)]+'\x0a';_0x2dce24['organization']&&(_0x162acc+='ORG:'+_0x2dce24[_0x19d000(0x670)]+';\x0a'),_0x2dce24[_0x19d000(0x22d)]&&(_0x162acc+=_0x19d000(0x2da)+_0x2dce24[_0x19d000(0x22d)]+'\x0a'),_0x2dce24[_0x19d000(0x633)]&&(_0x162acc+=_0x19d000(0x67d)+_0x2dce24['url']+'\x0a');let _0x154643='';return _0x2dce24[_0x19d000(0x207)]&&_0x2dce24[_0x19d000(0x207)][_0x19d000(0x447)]('|')[_0x19d000(0x6e3)]((_0x527eba,_0x74edf7)=>{const _0x179bb0=_0x19d000;let _0x374246=this[_0x179bb0(0x577)](_0x527eba)[_0x179bb0(0x5d9)](_0x179bb0(0x337),'');_0x154643+=_0x179bb0(0x452)+(_0x74edf7+0x1)+_0x179bb0(0x3ac)+_0x374246+':'+_0x527eba+_0x179bb0(0x772)+(_0x74edf7+0x1)+_0x179bb0(0x63b);}),_0x162acc+=_0x154643+_0x19d000(0x788),_0x162acc;};return _0xa2517[_0x5150ff(0x435)][_0x5150ff(0x45d)]===0x1?_0x39a994[_0x5150ff(0x435)]={'displayName':_0xa2517['contactMessage'][0x0][_0x5150ff(0x30d)],'vcard':_0x1b1a0a(_0xa2517[_0x5150ff(0x435)][0x0])}:_0x39a994[_0x5150ff(0x2d0)]={'displayName':_0xa2517['contactMessage'][_0x5150ff(0x45d)]+_0x5150ff(0x774),'contacts':_0xa2517[_0x5150ff(0x435)][_0x5150ff(0x5dc)](_0x244372=>({'displayName':_0x244372[_0x5150ff(0x30d)],'vcard':_0x1b1a0a(_0x244372)}))},await this[_0x5150ff(0x273)](_0xa2517['number'],{..._0x39a994},_0xa2517?.['options']);}async['reactionMessage'](_0x32350f){const _0x26a216=a0_0x1d1a99;return await this[_0x26a216(0x273)](_0x32350f[_0x26a216(0x618)][_0x26a216(0x3eb)][_0x26a216(0x24b)],{'reactionMessage':{'key':_0x32350f[_0x26a216(0x618)][_0x26a216(0x3eb)],'text':_0x32350f[_0x26a216(0x618)][_0x26a216(0x234)]}});}async[a0_0x1d1a99(0x2ab)](_0x517c3d){const _0xf9614=a0_0x1d1a99;let _0x270503=[];for await(let _0x3ddf1e of _0x517c3d[_0xf9614(0x399)]){let _0x54bd60=this[_0xf9614(0x577)](_0x3ddf1e);if((0x0,w[_0xf9614(0x77e)])(_0x54bd60)){let _0x50d9f3=await this[_0xf9614(0x46d)]({'groupJid':_0x54bd60},'inner');_0x270503[_0xf9614(0x750)](new fe(_0x50d9f3['metadata']['id'],!!_0x50d9f3?.[_0xf9614(0x2a3)]['id'],_0x50d9f3?.[_0xf9614(0x2a3)]['subject']));}else try{let _0x4a84b7=(await this[_0xf9614(0x2e7)][_0xf9614(0x3c0)](_0x54bd60))[0x0];_0x270503[_0xf9614(0x750)](new fe(_0x4a84b7['jid'],_0x4a84b7[_0xf9614(0x339)]));}catch{_0x270503[_0xf9614(0x750)](new fe(_0x3ddf1e,!0x1));}}return _0x270503;}async[a0_0x1d1a99(0x1f8)](_0x55959d){const _0x1a27cc=a0_0x1d1a99;try{let _0x5d248e=_0x55959d[_0x1a27cc(0x45e)]['filter'](_0x198e11=>(0x0,w[_0x1a27cc(0x77e)])(_0x198e11[_0x1a27cc(0x24b)])||(0x0,w[_0x1a27cc(0x701)])(_0x198e11[_0x1a27cc(0x24b)]))['map'](_0x108eeb=>({'remoteJid':_0x108eeb[_0x1a27cc(0x24b)],'fromMe':_0x108eeb[_0x1a27cc(0x52d)],'id':_0x108eeb['id']}));await this[_0x1a27cc(0x2e7)][_0x1a27cc(0x45e)](_0x5d248e);let _0x4b7d41=_0x5d248e[_0x1a27cc(0x5dc)](_0xae8aaa=>this[_0x1a27cc(0x24d)](_0xae8aaa,_0xae8aaa['remoteJid'],{'status':_0x1a27cc(0x44a),'owner':this[_0x1a27cc(0x754)][_0x1a27cc(0x370)]})),_0x116b02=_0x5d248e[_0x1a27cc(0x5dc)](_0x25a95b=>this['repository'][_0x1a27cc(0x54f)][_0x1a27cc(0x4d9)]({'where':{'_id':_0x25a95b[_0x1a27cc(0x24b)],'owner':this[_0x1a27cc(0x754)][_0x1a27cc(0x370)]}},{'unreadcount':0x0})),[_0x301789,_0x315acf]=await Promise[_0x1a27cc(0x26a)]([Promise[_0x1a27cc(0x26a)](_0x4b7d41),Promise[_0x1a27cc(0x26a)](_0x116b02)]);return _0x315acf[_0x1a27cc(0x463)](_0x274856=>_0x274856!==null)[_0x1a27cc(0x6e3)](_0x26cf49=>{const _0x1f95b9=_0x1a27cc;B(this[_0x1f95b9(0x6ca)],_0x1f95b9(0x6d3),{'chat':_0x26cf49});}),{'message':_0x1a27cc(0x576),'read':_0x1a27cc(0x202)};}catch(_0x3cf2f2){throw console[_0x1a27cc(0x790)]('Error\x20in\x20markMessageAsRead:',_0x3cf2f2),new A(_0x1a27cc(0x26f),_0x3cf2f2[_0x1a27cc(0x55b)]());}}async['getLastMessage'](_0x2d69ce){const _0x59fc8e=a0_0x1d1a99;let _0xec72cf=await this['fetchMessages']({'where':{'key':{'remoteJid':_0x2d69ce},'owner':this['instance']['name']}}),_0x10916c=_0xec72cf[_0x59fc8e(0x26c)]();for(let _0x465db4 of _0xec72cf)_0x465db4[_0x59fc8e(0x54a)]>=_0x10916c[_0x59fc8e(0x54a)]&&(_0x10916c=_0x465db4);return _0x10916c;}async[a0_0x1d1a99(0x5d3)](_0x1afa37){const _0x2d823a=a0_0x1d1a99;this['logger']['verbose'](_0x2d823a(0x226));try{let _0x118b9d=_0x1afa37[_0x2d823a(0x48c)],_0x5970cc=_0x1afa37[_0x2d823a(0x54f)];if(!_0x118b9d&&_0x5970cc?_0x118b9d=await this[_0x2d823a(0x48a)](_0x5970cc):(_0x118b9d=_0x1afa37[_0x2d823a(0x48c)],_0x118b9d[_0x2d823a(0x54a)]=_0x118b9d?.[_0x2d823a(0x54a)]??Date[_0x2d823a(0x5f0)](),_0x5970cc=_0x118b9d?.[_0x2d823a(0x3eb)]?.[_0x2d823a(0x24b)]),!_0x118b9d||Object[_0x2d823a(0x57b)](_0x118b9d)[_0x2d823a(0x45d)]===0x0)throw new x(_0x2d823a(0x5da));await this[_0x2d823a(0x2e7)]['chatModify']({'archive':_0x1afa37[_0x2d823a(0x661)],'lastMessages':[_0x118b9d]},this[_0x2d823a(0x577)](_0x5970cc));let _0x292d18=await this[_0x2d823a(0x4b4)][_0x2d823a(0x54f)][_0x2d823a(0x4d9)]({'where':{'_id':_0x118b9d?.[_0x2d823a(0x3eb)]?.[_0x2d823a(0x24b)],'owner':this[_0x2d823a(0x754)]['wuid']}},{'archived':_0x1afa37[_0x2d823a(0x661)]});return _0x292d18&&B(this[_0x2d823a(0x6ca)],'chats',{'chat':_0x292d18}),{'chatId':_0x5970cc,'archived':_0x1afa37[_0x2d823a(0x661)]};}catch(_0x5dd86f){throw new A({'archived':!0x1,'message':[_0x2d823a(0x30b),_0x5dd86f[_0x2d823a(0x55b)]()]});}}async[a0_0x1d1a99(0x40e)](_0x41af2d){const _0x464ce5=a0_0x1d1a99;try{let _0x1c03e1=await this[_0x464ce5(0x2e7)][_0x464ce5(0x28a)](_0x41af2d[_0x464ce5(0x24b)],{'delete':_0x41af2d});try{let _0x30a72a=await this['updateMessage'](_0x41af2d,_0x41af2d['remoteJid'],{'status':_0x464ce5(0x5c8),'owner':this[_0x464ce5(0x754)][_0x464ce5(0x370)]});this['logger']['verbose'](this[_0x464ce5(0x6ca)]+'\x20('+this[_0x464ce5(0x754)][_0x464ce5(0x370)]+_0x464ce5(0x6ae)+_0x30a72a);}catch(_0x55593b){console[_0x464ce5(0x790)](_0x464ce5(0x3c3),_0x55593b);}return _0x1c03e1;}catch(_0x406046){throw new A('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x406046?.['toString']());}}async[a0_0x1d1a99(0x467)](_0x561ff5){const _0x31e49c=a0_0x1d1a99;try{let _0x2ec98a=_0x561ff5?.[_0x31e49c(0x444)]?_0x561ff5:await this[_0x31e49c(0x31e)](_0x561ff5[_0x31e49c(0x3eb)],!0x0);for(let _0x12ca0e of Qs)_0x2ec98a[_0x31e49c(0x444)][_0x12ca0e]&&(_0x2ec98a[_0x31e49c(0x444)]=_0x2ec98a[_0x31e49c(0x444)][_0x12ca0e]['message']);let _0x18967b,_0x2ba6a1;for(let _0x4c3879 of zs)if(_0x18967b=_0x2ec98a['message'][_0x4c3879],_0x18967b){_0x2ba6a1=_0x4c3879;break;}if(!_0x18967b)throw _0x31e49c(0x2f9);typeof _0x18967b[_0x31e49c(0x35c)]==_0x31e49c(0x498)&&(_0x2ec98a[_0x31e49c(0x444)]=JSON['parse'](JSON[_0x31e49c(0x5b4)](_0x2ec98a[_0x31e49c(0x444)])));let _0x41da40=await(0x0,w['downloadMediaMessage'])({'key':_0x2ec98a?.[_0x31e49c(0x3eb)],'message':_0x2ec98a?.['message']},'buffer',{},{'logger':(0x0,Mt[_0x31e49c(0x267)])({'level':_0x31e49c(0x790)}),'reuploadRequest':this[_0x31e49c(0x2e7)]['updateMediaMessage']});if(!(_0x41da40 instanceof Buffer))throw new Error(_0x31e49c(0x32b));let _0x5b1d0a=this[_0x31e49c(0x749)][_0x31e49c(0x278)]('DATABASE'),_0x1309e5,_0x27de3f;if(_0x18967b[_0x31e49c(0x3f5)])_0x1309e5=_0x18967b['fileName'];else{let _0xd65475=_0x18967b[_0x31e49c(0x3a4)]?.[_0x31e49c(0x5fe)](/\/(\w+)/),_0x3bf007=_0xd65475?_0xd65475[0x1]:null;if(!_0x3bf007)throw new Error(_0x31e49c(0x1e8));_0x1309e5=(0x0,It['v4'])()+'.'+_0x3bf007;}_0x2ba6a1===_0x31e49c(0x69d)&&_0x18967b[_0x31e49c(0x3a4)]==='audio/ogg'?(_0x1309e5=(0x0,It['v4'])()+_0x31e49c(0x574),_0x27de3f=_0x31e49c(0x631)+await this[_0x31e49c(0x61e)](_0x41da40['toString'](_0x31e49c(0x358)))):(await this[_0x31e49c(0x2b6)](_0x41da40,_0x1309e5),_0x27de3f=_0x31e49c(0x631)+_0x1309e5);let _0x2c1770=this['configService'][_0x31e49c(0x278)](_0x31e49c(0x5c4)),_0x4d0d85=this[_0x31e49c(0x749)][_0x31e49c(0x278)](_0x31e49c(0x6a2))[_0x31e49c(0x646)],_0x26cd5b=_0x2c1770&&_0x2c1770[_0x31e49c(0x1b5)][_0x31e49c(0x447)]('/')[0x4];_0x4d0d85===0x1bb&&(_0x27de3f=''+(_0x31e49c(0x201)+_0x26cd5b)+_0x27de3f);let _0x4918d8=0xc*0x3c*0x3c*0x3e8,_0x5906dc={'where':{'_id':_0x2ec98a[_0x31e49c(0x3eb)]['id'],'owner':this[_0x31e49c(0x754)][_0x31e49c(0x370)]}};_0x2ec98a[_0x31e49c(0x3eb)][_0x31e49c(0x24b)][_0x31e49c(0x521)](_0x31e49c(0x28e))&&(_0x5906dc[_0x31e49c(0x409)][_0x31e49c(0x3eb)][_0x31e49c(0x4c5)]=_0x2ec98a[_0x31e49c(0x3eb)][_0x31e49c(0x4c5)]);let _0x1ede8a={'message_normalized.fileUrl':_0x27de3f,'message_normalized.expires_fileUrl':Date[_0x31e49c(0x5f0)]()+_0x4918d8};try{let _0x23bcd2=await this[_0x31e49c(0x4b4)][_0x31e49c(0x444)]['update'](_0x5906dc,_0x1ede8a);_0x23bcd2&&B(this[_0x31e49c(0x6ca)],'messages',{'message':_0x23bcd2});}catch{}return{'mediaType':_0x2ba6a1,'fileName':_0x18967b[_0x31e49c(0x3f5)],'caption':_0x18967b[_0x31e49c(0x1f7)],'size':{'fileLength':_0x18967b[_0x31e49c(0x6de)],'height':_0x18967b[_0x31e49c(0x3a8)],'width':_0x18967b[_0x31e49c(0x410)]},'mimetype':_0x18967b[_0x31e49c(0x3a4)],'base64':_0x41da40[_0x31e49c(0x55b)](_0x31e49c(0x358)),'fileUrl':_0x27de3f,'expires_fileUrl':Date['now']()+_0x4918d8};}catch(_0x5e66b3){throw this[_0x31e49c(0x59d)][_0x31e49c(0x790)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x31e49c(0x535)+_0x5e66b3),new g(_0x5e66b3['toString']());}}async[a0_0x1d1a99(0x2b6)](_0xbf1ba5,_0x4145db){const _0x4fa1ad=a0_0x1d1a99;console[_0x4fa1ad(0x2a6)](_0x4fa1ad(0x547),__dirname),console[_0x4fa1ad(0x2a6)]('Original\x20filename:',_0x4145db);let _0x215a09=$[_0x4fa1ad(0x267)]['join'](__dirname,'downloads');console['log']('Media\x20folder\x20path:',_0x215a09),P['existsSync'](_0x215a09)||(this[_0x4fa1ad(0x59d)]['log']('Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...'),P[_0x4fa1ad(0x31c)](_0x215a09,{'recursive':!0x0}));let _0x5889cf=$[_0x4fa1ad(0x267)]['join'](_0x215a09,_0x4145db);return console['log']('Full\x20file\x20path:',_0x5889cf),new Promise((_0x4a56cf,_0x196af5)=>{const _0x359c80=_0x4fa1ad;P[_0x359c80(0x3dc)](_0x5889cf,_0xbf1ba5,_0x426d77=>{const _0x26ce24=_0x359c80;_0x426d77?(this['logger']['error'](_0x26ce24(0x208)+_0x426d77['message']),_0x196af5(_0x426d77)):(this[_0x26ce24(0x59d)][_0x26ce24(0x2a6)](_0x26ce24(0x6d1)+_0x5889cf),_0x4a56cf(_0x5889cf));});});}async[a0_0x1d1a99(0x389)](_0x216107){const _0x44801a=a0_0x1d1a99;return _0x216107?.[_0x44801a(0x409)]?_0x216107[_0x44801a(0x409)][_0x44801a(0x70b)]=this[_0x44801a(0x754)][_0x44801a(0x370)]:_0x216107={'where':{'owner':this[_0x44801a(0x754)][_0x44801a(0x370)]}},await this[_0x44801a(0x4b4)][_0x44801a(0x4e8)]['find'](_0x216107);}async[a0_0x1d1a99(0x4bf)](_0x5c20f4){const _0x22355=a0_0x1d1a99;return _0x5c20f4?.[_0x22355(0x409)]?_0x5c20f4[_0x22355(0x409)][_0x22355(0x70b)]=this['instance'][_0x22355(0x370)]:_0x5c20f4={'where':{'owner':this[_0x22355(0x754)][_0x22355(0x370)]},'limit':_0x5c20f4?.[_0x22355(0x4ab)]},await this['repository'][_0x22355(0x444)]['find'](_0x5c20f4);}async[a0_0x1d1a99(0x4d8)](){const _0x1772b7=a0_0x1d1a99;let _0x314e83=[{'query':{'where':{'owner':this[_0x1772b7(0x754)][_0x1772b7(0x370)],'leadInfo.tags':{'$exists':!0x1}}},'update':{'leadInfo':{'tags':[]}}},{'query':{'where':{'owner':this['instance']['wuid'],'leadInfo.customFields':{'$exists':!0x1}}},'update':{'leadInfo':{'customFields':[]}}}];return await this[_0x1772b7(0x4b4)]['chat']['updateMany'](_0x314e83),await this[_0x1772b7(0x4b4)][_0x1772b7(0x54f)][_0x1772b7(0x20b)]({'where':{'owner':this[_0x1772b7(0x754)][_0x1772b7(0x370)]}});}async[a0_0x1d1a99(0x36e)](){const _0xe78d20=a0_0x1d1a99;return await this['client'][_0xe78d20(0x36e)]();}async[a0_0x1d1a99(0x4d3)](_0x291362){const _0x57e5ca=a0_0x1d1a99;try{return await this['client']['updateReadReceiptsPrivacy'](_0x291362[_0x57e5ca(0x3e6)][_0x57e5ca(0x72d)]),await this[_0x57e5ca(0x2e7)][_0x57e5ca(0x73d)](_0x291362[_0x57e5ca(0x3e6)]['profile']),await this[_0x57e5ca(0x2e7)][_0x57e5ca(0x505)](_0x291362['privacySettings']['status']),await this[_0x57e5ca(0x2e7)][_0x57e5ca(0x2eb)](_0x291362['privacySettings'][_0x57e5ca(0x2db)]),await this[_0x57e5ca(0x2e7)][_0x57e5ca(0x22e)](_0x291362['privacySettings'][_0x57e5ca(0x276)]),await this[_0x57e5ca(0x2e7)][_0x57e5ca(0x710)](_0x291362[_0x57e5ca(0x3e6)][_0x57e5ca(0x52c)]),this[_0x57e5ca(0x2e7)]?.['ws']?.[_0x57e5ca(0x5f4)](),{'update':_0x57e5ca(0x202),'data':{'readreceipts':_0x291362[_0x57e5ca(0x3e6)][_0x57e5ca(0x72d)],'profile':_0x291362[_0x57e5ca(0x3e6)][_0x57e5ca(0x1d6)],'status':_0x291362[_0x57e5ca(0x3e6)][_0x57e5ca(0x1be)],'online':_0x291362[_0x57e5ca(0x3e6)][_0x57e5ca(0x2db)],'last':_0x291362[_0x57e5ca(0x3e6)][_0x57e5ca(0x276)],'groupadd':_0x291362[_0x57e5ca(0x3e6)][_0x57e5ca(0x52c)]}};}catch(_0x1973c1){throw new A(_0x57e5ca(0x2e6),_0x1973c1[_0x57e5ca(0x55b)]());}}async[a0_0x1d1a99(0x5a8)](_0x2ba781){const _0x10f8d7=a0_0x1d1a99;let _0x21a941=_0x2ba781?this[_0x10f8d7(0x577)](_0x2ba781):this[_0x10f8d7(0x2e7)]?.['user']?.['id'];this[_0x10f8d7(0x59d)][_0x10f8d7(0x2d2)](_0x10f8d7(0x20e)+_0x21a941);try{if(this[_0x10f8d7(0x59d)][_0x10f8d7(0x2d2)](_0x10f8d7(0x349)),_0x2ba781){let _0x179758=(await this[_0x10f8d7(0x2ab)]({'numbers':[_0x21a941]}))?.[_0x10f8d7(0x3da)](),_0x2dc4ca=await this['profilePicture'](_0x179758?.[_0x10f8d7(0x60a)]),_0x16db8c=await this[_0x10f8d7(0x526)](_0x179758?.[_0x10f8d7(0x60a)]),_0x5172e0=await this[_0x10f8d7(0x4f4)](_0x179758?.[_0x10f8d7(0x60a)]);return{'wuid':_0x179758?.[_0x10f8d7(0x60a)]||_0x21a941,'name':_0x179758?.[_0x10f8d7(0x4ef)],'numberExists':_0x179758?.[_0x10f8d7(0x339)],'picture':_0x2dc4ca?.[_0x10f8d7(0x6ef)],'status':_0x16db8c?.['status'],'isBusiness':_0x5172e0[_0x10f8d7(0x22f)],'email':_0x5172e0?.[_0x10f8d7(0x22d)],'description':_0x5172e0?.[_0x10f8d7(0x442)],'website':_0x5172e0?.[_0x10f8d7(0x641)]?.['shift']()};}}catch{return this[_0x10f8d7(0x59d)][_0x10f8d7(0x2d2)](_0x10f8d7(0x1db)),{'wuid':_0x21a941,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async['fetchProfile'](_0x2d34b9){const _0x10755f=a0_0x1d1a99;let _0x43b299=(_0x2d34b9?this[_0x10755f(0x577)](_0x2d34b9):this[_0x10755f(0x2e7)]?.['user']?.['id'])[_0x10755f(0x5d9)](/:\d{1,2}@/g,'@');this[_0x10755f(0x59d)]['verbose'](_0x10755f(0x333)+_0x43b299);let _0x4a344a=await this[_0x10755f(0x4b4)][_0x10755f(0x4e8)][_0x10755f(0x367)]({'where':{'_id':_0x43b299,'owner':this[_0x10755f(0x754)][_0x10755f(0x370)]}}),_0x48fb72=_0x4a344a?_0x4a344a['pushName']:null;try{let _0x3295b5=(await this[_0x10755f(0x2ab)]({'numbers':[_0x43b299]}))?.['shift'](),_0x3d754e=await this['profilePicture'](_0x3295b5?.[_0x10755f(0x60a)]),_0x257292=await this[_0x10755f(0x526)](_0x3295b5?.[_0x10755f(0x60a)]),_0x494f7e=await this[_0x10755f(0x4f4)](_0x3295b5?.['jid']),_0x20c89f={'imagechat':_0x3d754e?.[_0x10755f(0x6ef)],'contactname':_0x48fb72||null,'status':_0x257292?.[_0x10755f(0x1be)],'isBusiness':_0x494f7e[_0x10755f(0x22f)],'email':_0x494f7e?.[_0x10755f(0x22d)],'description':_0x494f7e?.['description'],'website':_0x494f7e?.[_0x10755f(0x641)]?.[_0x10755f(0x3da)](),'lastcache':Date['now']()},_0x3e6c2e=await this[_0x10755f(0x4b4)][_0x10755f(0x54f)]['updateOne']({'where':{'_id':_0x43b299,'owner':this[_0x10755f(0x754)][_0x10755f(0x370)]}},_0x20c89f),_0x403097={'owner':this[_0x10755f(0x754)][_0x10755f(0x370)],'_id':_0x43b299,'profilePictureUrl':_0x3d754e?.[_0x10755f(0x6ef)],'status':_0x257292?.[_0x10755f(0x1be)]};return this[_0x10755f(0x4b4)][_0x10755f(0x4e8)][_0x10755f(0x1bb)]([_0x403097],this[_0x10755f(0x754)][_0x10755f(0x370)]),_0x3e6c2e&&B(this[_0x10755f(0x6ca)],'chats',{'chat':_0x3e6c2e}),{'wuid':_0x3295b5?.['jid']||_0x43b299,'name':_0x3295b5?.[_0x10755f(0x4ef)],'numberExists':_0x3295b5?.[_0x10755f(0x339)],'picture':_0x3d754e?.[_0x10755f(0x6ef)],'status':_0x257292?.[_0x10755f(0x1be)],'isBusiness':_0x494f7e[_0x10755f(0x22f)],'email':_0x494f7e?.[_0x10755f(0x22d)],'description':_0x494f7e?.['description'],'website':_0x494f7e?.[_0x10755f(0x641)]?.[_0x10755f(0x3da)]()};}catch(_0x3f203a){return this[_0x10755f(0x59d)][_0x10755f(0x790)](_0x10755f(0x331)+_0x3f203a),{};}}async[a0_0x1d1a99(0x4f4)](_0x4297d8){const _0x5db074=a0_0x1d1a99;this[_0x5db074(0x59d)][_0x5db074(0x2d2)]('Fetching\x20business\x20profile');try{let _0x42eb7a=_0x4297d8?this['createJid'](_0x4297d8):this[_0x5db074(0x754)][_0x5db074(0x370)],_0x1fa61f=await this[_0x5db074(0x2e7)]['getBusinessProfile'](_0x42eb7a);return this[_0x5db074(0x59d)][_0x5db074(0x2d2)](_0x5db074(0x2d3)),_0x1fa61f?(this[_0x5db074(0x59d)]['verbose']('Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x1fa61f}):{'isBusiness':!0x1,'message':_0x5db074(0x706),...(await this[_0x5db074(0x2ab)]({'numbers':[_0x42eb7a]}))?.[_0x5db074(0x3da)]()};}catch(_0x50f168){throw new A(_0x5db074(0x58f),_0x50f168[_0x5db074(0x55b)]());}}async[a0_0x1d1a99(0x526)](_0x1a03cb){const _0xe9ea3e=a0_0x1d1a99;let _0x55be81=this[_0xe9ea3e(0x577)](_0x1a03cb);try{return{'wuid':_0x55be81,'status':(await this['client'][_0xe9ea3e(0x300)](_0x55be81))?.[_0xe9ea3e(0x1be)]};}catch{return{'wuid':_0x55be81,'status':null};}}async['updateProfileName'](_0x8f085c){const _0x2950f3=a0_0x1d1a99;try{return await this[_0x2950f3(0x2e7)]['updateProfileName'](_0x8f085c),{'update':_0x2950f3(0x202)};}catch(_0x1c33b2){throw new A(_0x2950f3(0x58f),_0x1c33b2[_0x2950f3(0x55b)]());}}async['updateProfileStatus'](_0x3c16a1){const _0x509862=a0_0x1d1a99;try{return await this['client'][_0x509862(0x432)](_0x3c16a1),{'update':_0x509862(0x202)};}catch(_0x24c611){throw new A(_0x509862(0x426),_0x24c611[_0x509862(0x55b)]());}}async[a0_0x1d1a99(0x5e1)](_0x249dbf){const _0x9b4e44=a0_0x1d1a99;try{let _0x42b408;if((0x0,_[_0x9b4e44(0x29a)])(_0x249dbf)){let _0x5c8729=new Date()[_0x9b4e44(0x213)](),_0x3a382e=_0x249dbf+_0x9b4e44(0x205)+_0x5c8729;_0x42b408=(await ce[_0x9b4e44(0x267)][_0x9b4e44(0x278)](_0x3a382e,{'responseType':'arraybuffer'}))[_0x9b4e44(0x723)];}else{if((0x0,_['isBase64'])(_0x249dbf))_0x42b408=Buffer[_0x9b4e44(0x1e2)](_0x249dbf,'base64');else throw new g('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x9b4e44(0x2e7)]['updateProfilePicture'](this[_0x9b4e44(0x754)]['wuid'],_0x42b408),{'update':'success'};}catch(_0x20205a){throw new A(_0x9b4e44(0x6ad),_0x20205a[_0x9b4e44(0x55b)]());}}async[a0_0x1d1a99(0x6c7)](){const _0x372f64=a0_0x1d1a99;try{return await this[_0x372f64(0x2e7)][_0x372f64(0x6c7)](this[_0x372f64(0x754)]['wuid']),{'update':_0x372f64(0x202)};}catch(_0x29d18e){throw new A(_0x372f64(0x274),_0x29d18e[_0x372f64(0x55b)]());}}async['createGroup'](_0x1ac050){const _0xd66854=a0_0x1d1a99;try{let _0x78a7de=_0x1ac050[_0xd66854(0x742)][_0xd66854(0x5dc)](_0x484de8=>this[_0xd66854(0x577)](_0x484de8)),{id:_0x53b778}=await this[_0xd66854(0x2e7)][_0xd66854(0x651)](_0x1ac050[_0xd66854(0x62d)],_0x78a7de);return _0x1ac050?.[_0xd66854(0x442)]&&await this['client'][_0xd66854(0x628)](_0x53b778,_0x1ac050[_0xd66854(0x442)]),{'metadata':await this[_0xd66854(0x2e7)]['groupMetadata'](_0x53b778)};}catch(_0x102860){throw this[_0xd66854(0x59d)][_0xd66854(0x790)](this[_0xd66854(0x6ca)]+'\x20('+this['instance'][_0xd66854(0x370)]+_0xd66854(0x535)+_0x102860),new A('Error\x20creating\x20group',_0x102860[_0xd66854(0x55b)]());}}async[a0_0x1d1a99(0x476)](_0x3295ab){const _0x36c861=a0_0x1d1a99;try{let _0x174b7f;if((0x0,_[_0x36c861(0x29a)])(_0x3295ab[_0x36c861(0x2f1)])){let _0x1a54d3=new Date()[_0x36c861(0x213)](),_0x3d00e9=_0x3295ab['image']+_0x36c861(0x205)+_0x1a54d3;_0x174b7f=(await ce[_0x36c861(0x267)][_0x36c861(0x278)](_0x3d00e9,{'responseType':_0x36c861(0x5fd)}))['data'];}else{if((0x0,_['isBase64'])(_0x3295ab[_0x36c861(0x2f1)]))_0x174b7f=Buffer['from'](_0x3295ab['image'],_0x36c861(0x358));else throw new g(_0x36c861(0x563));}return await this[_0x36c861(0x2e7)]['updateProfilePicture'](_0x3295ab['groupJid'],_0x174b7f),{'update':_0x36c861(0x202)};}catch(_0x5a8be8){throw new A(_0x36c861(0x28f),_0x5a8be8[_0x36c861(0x55b)]());}}async[a0_0x1d1a99(0x46d)](_0x130e89,_0x1ee7f3=a0_0x1d1a99(0x3b3)){const _0x2d3580=a0_0x1d1a99;try{let _0x3cd6d9=await this[_0x2d3580(0x2e7)]['groupMetadata'](_0x130e89['groupJid']),_0x2216fd=null;try{_0x2216fd=(await this[_0x2d3580(0x260)](_0x130e89[_0x2d3580(0x36c)]))['profilePictureUrl'];}catch(_0x35215c){this['logger'][_0x2d3580(0x2d2)](this[_0x2d3580(0x6ca)]+'\x20('+this['instance'][_0x2d3580(0x370)]+_0x2d3580(0x1bc)+_0x130e89['groupJid']+':\x20'+_0x35215c[_0x2d3580(0x55b)]());}let _0x33f073=await this['repository'][_0x2d3580(0x54f)][_0x2d3580(0x4d9)]({'where':{'_id':_0x130e89['groupJid'],'owner':this[_0x2d3580(0x754)]['wuid']}},{'imagechat':_0x2216fd,'name':_0x3cd6d9[_0x2d3580(0x62d)],'group_size':_0x3cd6d9[_0x2d3580(0x62b)],'group_announce':_0x3cd6d9[_0x2d3580(0x622)],'lastcache':Date['now']()});return _0x33f073&&B(this[_0x2d3580(0x6ca)],_0x2d3580(0x6d3),{'chat':_0x33f073}),{'metadata':_0x3cd6d9,'image':_0x2216fd};}catch(_0x54f797){if(_0x1ee7f3==='inner')return;throw new x(_0x2d3580(0x61d),_0x54f797[_0x2d3580(0x55b)]());}}async['groupDesc'](_0x13cf4a){const _0x4f362e=a0_0x1d1a99;try{return await this['client']['groupUpdateDescription'](_0x13cf4a[_0x4f362e(0x36c)],_0x13cf4a[_0x4f362e(0x442)]),{'update':_0x4f362e(0x202)};}catch(_0x5a7b14){throw new A(_0x4f362e(0x277),_0x5a7b14[_0x4f362e(0x55b)]());}}async[a0_0x1d1a99(0x737)](_0x55e471){const _0x2820b9=a0_0x1d1a99;try{return await this[_0x2820b9(0x2e7)][_0x2820b9(0x471)](_0x55e471[_0x2820b9(0x36c)],_0x55e471[_0x2820b9(0x4ef)]),{'update':_0x2820b9(0x202)};}catch(_0x397eef){throw new A(_0x2820b9(0x491),_0x397eef['toString']());}}async[a0_0x1d1a99(0x1ed)](_0x3b3099){const _0x27d8e7=a0_0x1d1a99;try{return await this[_0x27d8e7(0x2e7)][_0x27d8e7(0x3a2)](_0x3b3099[_0x27d8e7(0x36c)],_0x3b3099['setting']),{'update':'success'};}catch(_0x4e3296){throw new A(_0x27d8e7(0x5be),_0x4e3296[_0x27d8e7(0x55b)]());}}async[a0_0x1d1a99(0x3ea)](){const _0x4443f7=a0_0x1d1a99;try{let _0x1c48cd=[],_0x144dd8=await this[_0x4443f7(0x2e7)][_0x4443f7(0x1b6)](),_0x5e435c=Object[_0x4443f7(0x570)](_0x144dd8),_0xa7ea2f=_0x5e435c[_0x4443f7(0x463)](_0x5dcfc2=>(0x0,w[_0x4443f7(0x77e)])(_0x5dcfc2?.['id']))[_0x4443f7(0x5dc)](async _0x532e8a=>{const _0x4e76d3=_0x4443f7;try{return await this[_0x4e76d3(0x2e7)][_0x4e76d3(0x6ef)](_0x532e8a['id'],_0x4e76d3(0x2cb));}catch(_0x21b158){return this[_0x4e76d3(0x59d)]['verbose'](this['instanceName']+'\x20('+this[_0x4e76d3(0x754)][_0x4e76d3(0x370)]+_0x4e76d3(0x1bc)+_0x532e8a['id']+':\x20'+_0x21b158['toString']()),null;}}),_0x3895b1=await Promise[_0x4443f7(0x26a)](_0xa7ea2f);for(let _0x1e1777=0x0;_0x1e1777<_0x5e435c[_0x4443f7(0x45d)];_0x1e1777++){let _0x41a0ed=_0x5e435c[_0x1e1777];(0x0,w[_0x4443f7(0x77e)])(_0x41a0ed?.['id'])&&_0x1c48cd[_0x4443f7(0x750)]({'groupJid':_0x41a0ed?.['id'],'subject':_0x41a0ed?.[_0x4443f7(0x62d)],'subjectOwner':_0x41a0ed?.[_0x4443f7(0x1f6)]?.[_0x4443f7(0x447)]('@')[0x0],'subjectTime':_0x41a0ed?.[_0x4443f7(0x469)],'size':_0x41a0ed?.['participants']?.[_0x4443f7(0x45d)],'owner':_0x41a0ed?.[_0x4443f7(0x70b)]?.[_0x4443f7(0x447)]('@')[0x0],'creation':_0x41a0ed?.[_0x4443f7(0x441)],'desc':_0x41a0ed?.[_0x4443f7(0x67e)],'restrict':_0x41a0ed?.[_0x4443f7(0x562)],'announce':_0x41a0ed?.[_0x4443f7(0x622)],'image':_0x3895b1[_0x1e1777]});}return _0x1c48cd;}catch(_0x37f828){throw new x('Error\x20fetching\x20group',_0x37f828[_0x4443f7(0x55b)]());}}async['inviteCode'](_0x436915){const _0xfa5679=a0_0x1d1a99;try{let _0x443f07=await this[_0xfa5679(0x2e7)]['groupInviteCode'](_0x436915['groupJid']);return{'inviteUrl':_0xfa5679(0x2c3)+_0x443f07,'inviteCode':_0x443f07};}catch(_0x3a3f6f){throw new x(_0xfa5679(0x4c8),_0x3a3f6f[_0xfa5679(0x55b)]());}}async[a0_0x1d1a99(0x658)](_0x46534c){const _0x337aae=a0_0x1d1a99;try{let _0x10a64c=await this[_0x337aae(0x2e7)][_0x337aae(0x515)](_0x46534c['groupJid']);return{'revoked':!0x0,'inviteUrl':_0x337aae(0x2c3)+_0x10a64c,'inviteCode':_0x10a64c};}catch(_0x3818c2){throw new x(_0x337aae(0x377),_0x3818c2[_0x337aae(0x55b)]());}}async[a0_0x1d1a99(0x5db)](_0x2e0fe2){const _0x441b6b=a0_0x1d1a99;try{if((0x0,_[_0x441b6b(0x29a)])(_0x2e0fe2[_0x441b6b(0x75c)]))var _0x3255a1=_0x2e0fe2[_0x441b6b(0x75c)][_0x441b6b(0x447)]('/')[0x3];else var _0x3255a1=_0x2e0fe2[_0x441b6b(0x75c)];let _0x36b12a=await this[_0x441b6b(0x2e7)][_0x441b6b(0x256)](_0x3255a1);return this[_0x441b6b(0x59d)][_0x441b6b(0x2d2)](this[_0x441b6b(0x6ca)]+'\x20('+this[_0x441b6b(0x754)]['wuid']+'):\x20'+_0x36b12a),{'join':!0x0,'inviteCode':_0x3255a1,'groupJid':_0x36b12a};}catch(_0x5bb52a){throw new x(_0x441b6b(0x5b1),_0x5bb52a[_0x441b6b(0x55b)]());}}async['findParticipants'](_0x3c4fcf){const _0x24ec73=a0_0x1d1a99;try{return{'participants':(await this['client'][_0x24ec73(0x21d)](_0x3c4fcf['groupJid']))[_0x24ec73(0x742)]};}catch(_0x151142){throw new x(_0x24ec73(0x2b4),_0x151142[_0x24ec73(0x55b)]());}}async['updateGParticipant'](_0x3e2153){const _0x4e0d2c=a0_0x1d1a99;try{let _0x197905=_0x3e2153[_0x4e0d2c(0x742)][_0x4e0d2c(0x5dc)](_0x12d334=>this[_0x4e0d2c(0x577)](_0x12d334));return{'updateParticipants':await this[_0x4e0d2c(0x2e7)]['groupParticipantsUpdate'](_0x3e2153[_0x4e0d2c(0x36c)],_0x197905,_0x3e2153[_0x4e0d2c(0x549)])};}catch(_0x45e201){throw new g(_0x4e0d2c(0x259),_0x45e201[_0x4e0d2c(0x55b)]());}}async[a0_0x1d1a99(0x791)](_0x406aed){const _0x2c4bae=a0_0x1d1a99;try{let _0x2e2189=await this[_0x2c4bae(0x2e7)]['groupToggleEphemeral'](_0x406aed['groupJid'],_0x406aed[_0x2c4bae(0x777)]);return{'success':!0x0};}catch(_0x4d3e5c){throw new g(_0x2c4bae(0x341),_0x4d3e5c[_0x2c4bae(0x55b)]());}}async['leaveGroup'](_0x262ea0){const _0x414dd5=a0_0x1d1a99;try{return await this[_0x414dd5(0x2e7)][_0x414dd5(0x5d8)](_0x262ea0[_0x414dd5(0x36c)]),{'groupJid':_0x262ea0[_0x414dd5(0x36c)],'leave':!0x0};}catch(_0x5160df){throw new g(_0x414dd5(0x30c),_0x5160df[_0x414dd5(0x55b)]());}}async[a0_0x1d1a99(0x6e4)](_0x6fda60){const _0x475fad=a0_0x1d1a99;return await this[_0x475fad(0x273)](_0x6fda60[_0x475fad(0x2ba)],{'poll':{'name':_0x6fda60[_0x475fad(0x6e4)]?.[_0x475fad(0x4ef)],'selectableCount':_0x6fda60['pollMessage']['selectableCount'],'values':_0x6fda60['pollMessage'][_0x475fad(0x570)]}},_0x6fda60?.[_0x475fad(0x50d)]);}async[a0_0x1d1a99(0x24d)](_0x10ca78,_0x5e4267,_0x4d2dac){const _0x6084a=a0_0x1d1a99;if(await this[_0x6084a(0x31e)](_0x10ca78,!0x0)){let _0x3e557e={'where':{'_id':_0x10ca78['id'],'owner':this[_0x6084a(0x754)][_0x6084a(0x370)]}},_0x4739aa={'status':[_0x4d2dac[_0x6084a(0x1be)]][0x0]};try{let _0x458332=await this['repository']['message']['update'](_0x3e557e,_0x4739aa);_0x458332&&B(this[_0x6084a(0x6ca)],_0x6084a(0x464),{'message':_0x458332});}catch{}}}[a0_0x1d1a99(0x63e)](_0x35a875){const _0x4260cf=a0_0x1d1a99;let _0xee8b5d=_0x35a875[_0x4260cf(0x5d9)](/\\n/g,'\x0a')['split']('\x0a')['filter'](_0x339505=>_0x339505[_0x4260cf(0x3c9)](_0x4260cf(0x666))||_0x339505[_0x4260cf(0x3c9)](_0x4260cf(0x644))),_0x3f0508='';return _0xee8b5d['forEach'](_0x1de02b=>{const _0x20005d=_0x4260cf;let _0x46dd14=/TEL(?:.*):(.+)/,_0x1b7b95=/EMAIL(?:.*):(.+)/,_0x595afa=_0x1de02b[_0x20005d(0x5fe)](_0x46dd14),_0x42454a=_0x1de02b[_0x20005d(0x5fe)](_0x1b7b95);if(_0x595afa){let _0x57e9ea=_0x595afa[0x1][_0x20005d(0x5d9)](/-| |\+|\(|\)/g,'')[_0x20005d(0x620)]();_0x3f0508+='Telefone:\x20'+_0x57e9ea+'\x0a';}else{if(_0x42454a){let _0x2cb8e1=_0x42454a[0x1]['trim']();_0x3f0508+='E-mail:\x20'+_0x2cb8e1+'\x0a';}}}),_0x3f0508['trim']();}async[a0_0x1d1a99(0x334)](_0x9ce2a0,_0x353b78,_0x4d8d77){const _0x4fff85=a0_0x1d1a99;let _0x5d09ed=_0x353b78['key'][_0x4fff85(0x24b)][_0x4fff85(0x5d9)](/:\d{1,2}@/g,'@'),_0x12b24c=_0x353b78[_0x4fff85(0x3eb)][_0x4fff85(0x52d)],_0x5e44ec=_0x5d09ed[_0x4fff85(0x521)](_0x4fff85(0x28e));if(!_0x9ce2a0[_0x4fff85(0x1ec)])return;let _0x4257a7={'lastmsg':_0x353b78[_0x4fff85(0x54a)]||Date[_0x4fff85(0x5f0)](),'unreadcount':_0x12b24c?0x0:0x1,..._0x12b24c||_0x5e44ec?{}:{'name':_0x353b78[_0x4fff85(0x50c)]},..._0x5e44ec?{'group':_0x5e44ec}:{}},_0x2c2147=await this[_0x4fff85(0x4b4)][_0x4fff85(0x54f)]['updateOne']({'where':{'_id':_0x5d09ed,'owner':this[_0x4fff85(0x754)][_0x4fff85(0x370)]}},_0x4257a7,{'new':!0x0,'upsert':!0x0});if(!_0x5e44ec&&(!_0x2c2147?.[_0x4fff85(0x71d)]||!_0x2c2147[_0x4fff85(0x71d)][_0x4fff85(0x4b9)])&&_0x353b78[_0x4fff85(0x50c)]&&!_0x12b24c&&await this[_0x4fff85(0x4b4)][_0x4fff85(0x54f)][_0x4fff85(0x4d9)]({'where':{'_id':_0x5d09ed,'owner':this[_0x4fff85(0x754)][_0x4fff85(0x370)]}},{'leadInfo.nome':_0x353b78[_0x4fff85(0x50c)]},{'new':!0x0,'upsert':!0x1}),_0x2c2147)B(this[_0x4fff85(0x6ca)],_0x4fff85(0x6d3),{'chat':_0x2c2147});else{this[_0x4fff85(0x59d)][_0x4fff85(0x790)](this[_0x4fff85(0x6ca)]+'\x20('+this[_0x4fff85(0x754)][_0x4fff85(0x370)]+_0x4fff85(0x279));return;}if(!this[_0x4fff85(0x721)]?.['flowConfig'][_0x4fff85(0x672)])return this[_0x4fff85(0x59d)][_0x4fff85(0x2d2)](this[_0x4fff85(0x6ca)]+'\x20('+this[_0x4fff85(0x754)][_0x4fff85(0x370)]+'):\x20Flow\x20desativado'),null;if(_0x2c2147['_id']['includes'](_0x4fff85(0x28e))&&this[_0x4fff85(0x721)]?.['flowConfig']['ignoreGroups']===!0x0)return this[_0x4fff85(0x59d)][_0x4fff85(0x2d2)](this[_0x4fff85(0x6ca)]+'\x20('+this['instance'][_0x4fff85(0x370)]+_0x4fff85(0x78d)),null;if(_0x2c2147[_0x4fff85(0x71d)]){if(_0x2c2147[_0x4fff85(0x71d)]['desativadoFluxoAte']===0x0||_0x2c2147[_0x4fff85(0x71d)][_0x4fff85(0x1ba)])return this[_0x4fff85(0x59d)][_0x4fff85(0x2d2)](this[_0x4fff85(0x6ca)]+'\x20('+this['instance'][_0x4fff85(0x370)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x5d09ed+_0x4fff85(0x215)),null;if(_0x2c2147[_0x4fff85(0x71d)][_0x4fff85(0x6b7)]>Date['now']())return this[_0x4fff85(0x59d)][_0x4fff85(0x2d2)](this[_0x4fff85(0x6ca)]+'\x20('+this[_0x4fff85(0x754)]['wuid']+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x2c2147[_0x4fff85(0x71d)][_0x4fff85(0x6b7)])[_0x4fff85(0x2e3)]()+_0x4fff85(0x215)),null;}this[_0x4fff85(0x59d)][_0x4fff85(0x2d2)](this[_0x4fff85(0x6ca)]+'\x20('+this[_0x4fff85(0x754)][_0x4fff85(0x370)]+_0x4fff85(0x517)),this[_0x4fff85(0x538)](_0x4d8d77,_0x353b78,this[_0x4fff85(0x754)][_0x4fff85(0x370)]);}async['upsertChats'](_0x12dc0f,_0x2f5eb3){const _0x22191a=a0_0x1d1a99;if(_0x2f5eb3[_0x22191a(0x1ec)]){let _0x1edb17=_0x12dc0f[_0x22191a(0x5dc)](async _0x2b9e15=>{const _0x2facca=_0x22191a;try{let _0x3cab79={'_id':_0x2b9e15[_0x2facca(0x71a)],'owner':_0x2b9e15['owner'],'lastcache':0x0};if(_0x2b9e15[_0x2facca(0x480)]!==null&&(_0x3cab79[_0x2facca(0x480)]=_0x2b9e15[_0x2facca(0x480)]),_0x2b9e15['name']!==null&&(_0x3cab79['name']=_0x2b9e15[_0x2facca(0x4ef)]),_0x2b9e15['contactname']!==null&&(_0x3cab79['contactname']=_0x2b9e15[_0x2facca(0x6ea)]),_0x2b9e15[_0x2facca(0x6bb)]!==null&&(_0x3cab79['imagechat']=_0x2b9e15['imagechat']),_0x2b9e15['imagechat']===null&&(_0x3cab79[_0x2facca(0x6bb)]=_0x2facca(0x1e1)),_0x2b9e15[_0x2facca(0x4b2)]!==null&&(_0x3cab79['lastmsg']=_0x2b9e15[_0x2facca(0x4b2)]),_0x2b9e15['archived']!==null&&(_0x3cab79[_0x2facca(0x1d5)]=_0x2b9e15[_0x2facca(0x1d5)]),_0x2b9e15[_0x2facca(0x65b)]!==null&&(_0x3cab79[_0x2facca(0x65b)]=_0x2b9e15[_0x2facca(0x65b)]),Object[_0x2facca(0x57b)](_0x3cab79)['length']>0x0)return await this[_0x2facca(0x4b4)]['chat'][_0x2facca(0x4d9)]({'where':{'_id':_0x2b9e15[_0x2facca(0x71a)],'owner':_0x2b9e15[_0x2facca(0x70b)]}},_0x3cab79);}catch(_0x51b950){return console['error'](_0x2facca(0x355)+_0x2b9e15[_0x2facca(0x71a)]+':',_0x51b950),null;}}),_0x16fdc7=(await Promise[_0x22191a(0x26a)](_0x1edb17))['filter'](_0x2b7d30=>_0x2b7d30!==null)[_0x22191a(0x45d)];this['logger'][_0x22191a(0x2d2)](this[_0x22191a(0x6ca)]+'\x20('+this[_0x22191a(0x754)][_0x22191a(0x370)]+'):\x20'+_0x16fdc7+_0x22191a(0x54b)+this[_0x22191a(0x754)][_0x22191a(0x370)]+_0x22191a(0x3e8));}}async[a0_0x1d1a99(0x730)](_0x2d9ec7){const _0x46d447=a0_0x1d1a99;this[_0x46d447(0x59d)][_0x46d447(0x2d2)](this[_0x46d447(0x6ca)]+'\x20('+this['instance'][_0x46d447(0x370)]+'):\x20Ler\x20mensagem');let _0x5da57e={'readMessages':[{'remoteJid':_0x2d9ec7[_0x46d447(0x597)][_0x46d447(0x6a0)]['key'][_0x46d447(0x24b)],'fromMe':_0x2d9ec7[_0x46d447(0x597)][_0x46d447(0x6a0)][_0x46d447(0x3eb)][_0x46d447(0x52d)],'id':_0x2d9ec7['chatLog']['lastReceivedMessage'][_0x46d447(0x3eb)]['id']}]};await this[_0x46d447(0x1f8)](_0x5da57e);}async['StartBot'](_0x56cd9a,_0x16edb5,_0xbd5012){const _0x4545fe=a0_0x1d1a99;try{let {key:_0x2a691f,message_normalized:_0x48933a}=_0x16edb5,_0x10f0d1=_0x48933a,_0x520c03=_0x48933a[_0x4545fe(0x643)]||_0x48933a[_0x4545fe(0x1f7)]||_0x48933a['vote']||_0x48933a[_0x4545fe(0x4ef)],_0x2cfb8f=_0x2a691f[_0x4545fe(0x24b)],_0x20943e;if(_0x10f0d1[_0x4545fe(0x3eb)][_0x4545fe(0x52d)]&&_0x520c03['trim']()!==this[_0x4545fe(0x721)]?.[_0x4545fe(0x335)][_0x4545fe(0x75d)][_0x4545fe(0x620)]())return this[_0x4545fe(0x59d)][_0x4545fe(0x2d2)](this[_0x4545fe(0x6ca)]+'\x20('+this[_0x4545fe(0x754)][_0x4545fe(0x370)]+_0x4545fe(0x72a)),null;if(_0x10f0d1[_0x4545fe(0x3eb)][_0x4545fe(0x52d)]&&_0x520c03['trim']()===this['AutomateSystem']?.[_0x4545fe(0x335)][_0x4545fe(0x75d)][_0x4545fe(0x620)]()){this[_0x4545fe(0x59d)][_0x4545fe(0x2d2)](this[_0x4545fe(0x6ca)]+'\x20('+this[_0x4545fe(0x754)][_0x4545fe(0x370)]+_0x4545fe(0x1f1));let _0x44a6c6=await j['find']({'owner':_0xbd5012,'remoteJid':_0x2cfb8f,'status':_0x4545fe(0x5d6)});this[_0x4545fe(0x59d)][_0x4545fe(0x2d2)](this['instanceName']+'\x20('+this[_0x4545fe(0x754)][_0x4545fe(0x370)]+_0x4545fe(0x307)+_0x44a6c6);let _0x55c0ad=Date[_0x4545fe(0x5f0)](),_0xf1ea6b;return this[_0x4545fe(0x721)]?.['flowConfig'][_0x4545fe(0x767)]===0x0?_0xf1ea6b={'stoppedUntil':_0x55c0ad+0x7591f6200}:_0xf1ea6b={'stoppedUntil':_0x55c0ad+this[_0x4545fe(0x721)]?.[_0x4545fe(0x335)][_0x4545fe(0x767)]*0x3c*0x3e8},this['logger'][_0x4545fe(0x2d2)](this[_0x4545fe(0x6ca)]+'\x20('+this[_0x4545fe(0x754)][_0x4545fe(0x370)]+_0x4545fe(0x299)+_0xf1ea6b),this[_0x4545fe(0x328)](_0x20943e,_0xf1ea6b[_0x4545fe(0x734)]),null;}if(_0x520c03&&_0x520c03[_0x4545fe(0x6fe)](this[_0x4545fe(0x721)]?.[_0x4545fe(0x335)][_0x4545fe(0x688)])&&_0x520c03[_0x4545fe(0x45d)]>0x4){let _0x50e04c=await I[_0x4545fe(0x367)]({'owner':_0xbd5012,'startCommandWord':_0x520c03});if(this[_0x4545fe(0x59d)][_0x4545fe(0x2d2)](this[_0x4545fe(0x6ca)]+'\x20('+this['instance'][_0x4545fe(0x370)]+_0x4545fe(0x49c)),_0x50e04c)_0x20943e=await this['createNewConversation'](_0x50e04c,_0x10f0d1[_0x4545fe(0x3eb)],_0x10f0d1);else return this[_0x4545fe(0x59d)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x4545fe(0x370)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand'),null;}else _0x20943e=await this['findConversation'](_0xbd5012,_0x2cfb8f,_0x10f0d1);if(_0x20943e){this[_0x4545fe(0x59d)][_0x4545fe(0x2d2)](this[_0x4545fe(0x6ca)]+'\x20('+this['instance'][_0x4545fe(0x370)]+_0x4545fe(0x423)),!_0x2a691f[_0x4545fe(0x52d)]&&_0x20943e[_0x4545fe(0x45e)]&&this[_0x4545fe(0x730)](_0x20943e);let _0x4171f3=await this[_0x4545fe(0x75b)](_0x20943e);_0x4171f3&&await this[_0x4545fe(0x786)](_0x20943e,_0x4171f3,_0x20943e['remoteJid']);}}catch(_0x1f6fd2){this[_0x4545fe(0x59d)]['error'](this['instanceName']+'\x20('+this[_0x4545fe(0x754)][_0x4545fe(0x370)]+_0x4545fe(0x4c7)+_0x1f6fd2);}}[a0_0x1d1a99(0x3ba)](_0x5b4ff8,_0x16fe97='',_0x476ffc={},_0x17372f=!0x0){const _0x5990f0=a0_0x1d1a99;for(let _0x469a2d in _0x5b4ff8){let _0x3e40de=_0x17372f?'_'+_0x469a2d:''+_0x16fe97+_0x469a2d;typeof _0x5b4ff8[_0x469a2d]==_0x5990f0(0x498)&&_0x5b4ff8[_0x469a2d]!==null?this[_0x5990f0(0x3ba)](_0x5b4ff8[_0x469a2d],_0x3e40de+'.',_0x476ffc,!0x1):_0x476ffc[_0x3e40de]=String(_0x5b4ff8[_0x469a2d]);}return _0x476ffc;}['variablesToObject'](_0x3f590e){const _0x5365ad=a0_0x1d1a99;let _0x6dfc09={};for(let _0x71b6f0 of _0x3f590e)typeof _0x71b6f0[_0x5365ad(0x4ef)]==_0x5365ad(0x245)&&typeof _0x71b6f0['value']=='string'&&(_0x6dfc09[_0x71b6f0[_0x5365ad(0x4ef)]]=_0x71b6f0[_0x5365ad(0x519)]);return _0x6dfc09;}async[a0_0x1d1a99(0x75b)](_0xf478d){const _0x2892ac=a0_0x1d1a99;if(!this['AutomateSystem']?.['flowConfig'][_0x2892ac(0x672)]||_0xf478d[_0x2892ac(0x1be)]!==_0x2892ac(0x5d6)&&_0xf478d['waitingPoll_id']==='')return null;let _0x3e03c2=_0xf478d[_0x2892ac(0x597)][_0x2892ac(0x280)]||_0x2892ac(0x1b9);typeof _0xf478d[_0x2892ac(0x597)][_0x2892ac(0x6bd)]>'u'&&(_0xf478d[_0x2892ac(0x597)][_0x2892ac(0x6bd)]=!0x0);let _0x49a235=_0xf478d[_0x2892ac(0x597)]['lastCondition'];this['logger']['verbose'](this[_0x2892ac(0x6ca)]+'\x20('+this['instance'][_0x2892ac(0x370)]+_0x2892ac(0x23b)+_0x3e03c2+',\x20lastCondition:\x20'+_0x49a235);let _0x322088=_0x3e03c2===_0x2892ac(0x1b9)?_0xf478d['blocks'][_0x2892ac(0x20b)](_0xa5ed8c=>_0xa5ed8c[_0x2892ac(0x40a)]==='start'):_0xf478d[_0x2892ac(0x456)]['find'](_0x17a294=>_0x17a294[_0x2892ac(0x71a)][_0x2892ac(0x55b)]()===_0x3e03c2['toString']());if(!_0x322088)return this[_0x2892ac(0x59d)][_0x2892ac(0x790)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x3e03c2),null;let _0x22b331={'_pushName':_0xf478d[_0x2892ac(0x597)][_0x2892ac(0x6a0)][_0x2892ac(0x50c)],..._0xf478d['chatLog'][_0x2892ac(0x69b)]},_0x5a3776=null;if(_0xf478d[_0x2892ac(0x6ff)]){let _0xbde233=_0xf478d[_0x2892ac(0x597)][_0x2892ac(0x6a0)][_0x2892ac(0x1fc)],_0x17dfb2=_0xf478d[_0x2892ac(0x536)][_0x2892ac(0x20b)](_0xccee0a=>_0xccee0a['option']===_0xbde233);if(_0x17dfb2){let _0x88506a=_0x17dfb2[_0x2892ac(0x5ca)];if(_0x5a3776=_0xf478d[_0x2892ac(0x456)]['find'](_0x2059ee=>_0x2059ee[_0x2892ac(0x22a)]===_0x88506a&&_0x2059ee['order']===0x1),_0x322088[_0x2892ac(0x1c5)][_0x2892ac(0x41f)]){let _0x28c8fa={'id':_0xf478d[_0x2892ac(0x6ff)],'remoteJid':_0xf478d['remoteJid'],'fromMe':!0x0};await this[_0x2892ac(0x40e)](_0x28c8fa);}if(_0x322088[_0x2892ac(0x1c5)][_0x2892ac(0x41f)]&&_0x322088[_0x2892ac(0x1c5)][_0x2892ac(0x685)]){let _0x5c14f2={'number':_0xf478d[_0x2892ac(0x24b)],'options':{'delay':0x0},'textMessage':{'text':_0x2892ac(0x3fa)+_0xf478d['waitingPoll_name']+_0x2892ac(0x71b)+_0xbde233}};await this[_0x2892ac(0x218)](_0x5c14f2);}_0xf478d[_0x2892ac(0x1be)]=_0x2892ac(0x5d6),_0xf478d['waitingPoll_id']='',_0xf478d[_0x2892ac(0x665)]='',_0xf478d[_0x2892ac(0x536)]=[];}else{this[_0x2892ac(0x59d)][_0x2892ac(0x2d2)](this[_0x2892ac(0x6ca)]+'\x20('+this[_0x2892ac(0x754)][_0x2892ac(0x370)]+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x480cf2={'activatedCount':_0xf478d['chatLog']['blockLogs'][_0x2892ac(0x463)](_0x5078f6=>String(_0x5078f6['blockId'])===String(_0x3e03c2))[_0x2892ac(0x45d)],'moreLogs':[_0x2892ac(0x48f)]};if(_0x322088[_0x2892ac(0x1c5)][_0x2892ac(0x429)]){let _0x351247={'number':_0xf478d[_0x2892ac(0x24b)],'options':{'delay':0x0},'textMessage':{'text':_0x322088[_0x2892ac(0x1c5)][_0x2892ac(0x429)]}};await this[_0x2892ac(0x218)](_0x351247);}if(_0x322088[_0x2892ac(0x2e0)]!==void 0x0&&_0x480cf2[_0x2892ac(0x3d6)]>=_0x322088[_0x2892ac(0x2e0)]){let _0x537bb6=Date[_0x2892ac(0x5f0)](),_0x4d531b=_0x322088[_0x2892ac(0x4d6)]??0xa;isNaN(_0x4d531b)&&(_0x4d531b=0xa);let _0x2caabd=_0x537bb6+_0x4d531b*0x3c*0x3e8;_0x480cf2[_0x2892ac(0x27e)]=_0x2caabd,_0x480cf2[_0x2892ac(0x1fb)][_0x2892ac(0x750)](_0x2892ac(0x255)),this[_0x2892ac(0x328)](_0xf478d,_0x2caabd),_0xf478d['waitingPoll_id']='',_0xf478d[_0x2892ac(0x665)]='',_0xf478d[_0x2892ac(0x536)]=[];}return this[_0x2892ac(0x3d3)](_0xf478d,_0x322088,_0x480cf2,!0x0),null;}}if(_0x49a235&&_0x322088[_0x2892ac(0x5ca)]&&!_0xf478d['waitingPoll_id']){let _0x2f050b=_0xf478d[_0x2892ac(0x456)]['filter'](_0x16835f=>_0x16835f[_0x2892ac(0x22a)]['toString']()===_0x322088[_0x2892ac(0x5ca)]['toString']())[_0x2892ac(0x3d8)]((_0x56eeea,_0x32fc94)=>_0x56eeea['order']-_0x32fc94['order']);_0x2f050b[_0x2892ac(0x45d)]>0x0&&(_0x5a3776=_0x2f050b[0x0]);}if(!_0x5a3776){let _0x4fd93c=_0x322088['groupId'],_0x2b70b1=_0xf478d[_0x2892ac(0x456)][_0x2892ac(0x463)](_0x2e649b=>_0x2e649b[_0x2892ac(0x22a)]===_0x4fd93c&&_0x2e649b[_0x2892ac(0x2e8)]>_0x322088[_0x2892ac(0x2e8)])[_0x2892ac(0x3d8)]((_0x57b517,_0x3796a3)=>_0x57b517[_0x2892ac(0x2e8)]-_0x3796a3['order']);_0x2b70b1[_0x2892ac(0x45d)]>0x0&&(_0x5a3776=_0x2b70b1[0x0]);}if(!_0x5a3776)return _0xf478d[_0x2892ac(0x1be)]=_0x2892ac(0x5bd),null;_0xf478d['chatLog'][_0x2892ac(0x69b)]=_0x22b331;let _0x386e8c=JSON[_0x2892ac(0x6fc)](JSON[_0x2892ac(0x5b4)](_0x5a3776));return this[_0x2892ac(0x43d)](_0x386e8c,_0xf478d[_0x2892ac(0x597)][_0x2892ac(0x69b)]),_0xf478d['chatLog'][_0x2892ac(0x280)]=_0x386e8c['_id'],_0xf478d[_0x2892ac(0x597)][_0x2892ac(0x6bd)]=!0x0,_0x386e8c;}[a0_0x1d1a99(0x779)](_0x81c955,_0x2b4a72){const _0x396fde=a0_0x1d1a99;return _0x81c955[_0x396fde(0x5d9)](/\{\{([^}]+)\}\}/g,(_0x51ed16,_0x23c217)=>_0x2b4a72[_0x23c217]||'');}[a0_0x1d1a99(0x43d)](_0x43b1b4,_0x5a5cac){const _0x13a438=a0_0x1d1a99;for(let _0xa24c8a in _0x43b1b4)typeof _0x43b1b4[_0xa24c8a]==_0x13a438(0x245)?_0x43b1b4[_0xa24c8a]=this[_0x13a438(0x779)](_0x43b1b4[_0xa24c8a],_0x5a5cac):typeof _0x43b1b4[_0xa24c8a]==_0x13a438(0x498)&&this[_0x13a438(0x43d)](_0x43b1b4[_0xa24c8a],_0x5a5cac);}async['goNextblock'](_0x342e36,_0x1f9a21){const _0x506ad8=a0_0x1d1a99;let _0x2b5dae=_0x1f9a21[_0x506ad8(0x71a)];if(_0x342e36[_0x506ad8(0x597)]&&_0x342e36['chatLog']['blockLogs']){let _0x3462f1=_0x342e36[_0x506ad8(0x597)]['blockLogs'][_0x506ad8(0x463)](_0x30faaa=>String(_0x30faaa[_0x506ad8(0x693)])===String(_0x2b5dae))[_0x506ad8(0x26c)]();if(_0x3462f1&&_0x3462f1[_0x506ad8(0x790)]&&_0x1f9a21[_0x506ad8(0x4cc)])return _0x342e36[_0x506ad8(0x1be)]=_0x506ad8(0x5bd),await this[_0x506ad8(0x390)](_0x342e36),null;}if(_0x1f9a21[_0x506ad8(0x40a)]==='uazapi'&&_0x1f9a21[_0x506ad8(0x1c5)]['command']===_0x506ad8(0x684)&&_0x342e36[_0x506ad8(0x6ff)])return _0x342e36['chatLog'][_0x506ad8(0x280)]=_0x2b5dae,await this[_0x506ad8(0x390)](_0x342e36),null;let _0x5dd747=await this[_0x506ad8(0x75b)](_0x342e36);if(_0x342e36[_0x506ad8(0x597)]&&_0x342e36['chatLog'][_0x506ad8(0x513)]){let _0x348281=_0x342e36[_0x506ad8(0x597)][_0x506ad8(0x513)][_0x506ad8(0x463)](_0x593e57=>String(_0x593e57[_0x506ad8(0x693)])===String(_0x2b5dae))['length'];if(_0x1f9a21[_0x506ad8(0x2e0)]!==void 0x0&&_0x348281>=_0x1f9a21[_0x506ad8(0x2e0)]){let _0x55b067=Date[_0x506ad8(0x5f0)](),_0x586f16=_0x1f9a21['stopMinutesMaxActives']??0xa;isNaN(_0x586f16)&&(_0x586f16=0xa);let _0x14e53a=_0x55b067+_0x586f16*0x3c*0x3e8,_0x23ee60={'newStoppedUntil':_0x14e53a};return this[_0x506ad8(0x328)](_0x342e36,_0x14e53a),this[_0x506ad8(0x3d3)](_0x342e36,_0x1f9a21,_0x23ee60,!0x0),null;}}_0x5dd747&&_0x5dd747[_0x506ad8(0x40a)]!=='save'&&await this[_0x506ad8(0x786)](_0x342e36,_0x5dd747,_0x342e36[_0x506ad8(0x24b)]),_0x5dd747||await this[_0x506ad8(0x390)](_0x342e36),_0x5dd747&&_0x5dd747[_0x506ad8(0x40a)]==='save'&&(_0x342e36['chatLog'][_0x506ad8(0x280)]=_0x2b5dae,await this[_0x506ad8(0x390)](_0x342e36));}async['processblock'](_0x507e0a,_0x29ea24,_0x2ad658){const _0x19d1f6=a0_0x1d1a99;try{let _0x5855f9=_0x29ea24[_0x19d1f6(0x40a)];this[_0x19d1f6(0x59d)][_0x19d1f6(0x2d2)](this[_0x19d1f6(0x6ca)]+'\x20('+this[_0x19d1f6(0x754)]['wuid']+_0x19d1f6(0x39d)+_0x5855f9);let _0xf2f720={'uazapi':()=>this[_0x19d1f6(0x216)](_0x507e0a,_0x29ea24,_0x2ad658),'save':()=>this[_0x19d1f6(0x708)](_0x507e0a,_0x29ea24),'stop':()=>this['stopConversation'](_0x507e0a,_0x29ea24),'condition':()=>this[_0x19d1f6(0x3f3)](_0x507e0a,_0x29ea24),'varedit':()=>this[_0x19d1f6(0x3f1)](_0x507e0a,_0x29ea24),'apirequest':()=>this[_0x19d1f6(0x770)](_0x507e0a,_0x29ea24),'goToFlow':()=>this[_0x19d1f6(0x26d)](_0x507e0a,_0x29ea24)}[_0x5855f9];_0xf2f720&&await _0xf2f720();}catch(_0x4a333c){this[_0x19d1f6(0x59d)][_0x19d1f6(0x790)](this[_0x19d1f6(0x6ca)]+'\x20('+this[_0x19d1f6(0x754)]['wuid']+_0x19d1f6(0x49a)+_0x4a333c);}}async['processgoToFlow'](_0x165686,_0x3a2081){const _0x36da58=a0_0x1d1a99;if(this[_0x36da58(0x59d)][_0x36da58(0x2d2)](this[_0x36da58(0x6ca)]+'\x20('+this[_0x36da58(0x754)][_0x36da58(0x370)]+_0x36da58(0x460)),!_0x165686||!_0x3a2081)return this[_0x36da58(0x59d)][_0x36da58(0x790)](this['instanceName']+'\x20('+this[_0x36da58(0x754)][_0x36da58(0x370)]+_0x36da58(0x29d)),null;await this[_0x36da58(0x3d3)](_0x165686,_0x3a2081,{},!0x0,!0x0),console[_0x36da58(0x2a6)]('nextBlock:'),console['log'](_0x3a2081);let _0x11f6e6=_0x3a2081['goToFlow'];console[_0x36da58(0x2a6)](_0x36da58(0x578),_0x11f6e6),_0x165686=await this[_0x36da58(0x58e)](_0x11f6e6,_0x165686[_0x36da58(0x24b)],_0x165686[_0x36da58(0x597)][_0x36da58(0x69b)]),this['logger'][_0x36da58(0x2d2)](this[_0x36da58(0x6ca)]+'\x20('+this['instance'][_0x36da58(0x370)]+_0x36da58(0x61f));let _0x1b1263=await this['NextBlock'](_0x165686);_0x1b1263&&await this[_0x36da58(0x786)](_0x165686,_0x1b1263,_0x165686[_0x36da58(0x24b)]);}async[a0_0x1d1a99(0x58e)](_0x42be49,_0x3f2e2d,_0x291b5c){const _0x40a6c6=a0_0x1d1a99;this['logger']['verbose'](this[_0x40a6c6(0x6ca)]+'\x20('+this[_0x40a6c6(0x754)][_0x40a6c6(0x370)]+_0x40a6c6(0x20d));try{if(_0x42be49=await I['findOne']({'owner':this['instance']['wuid'],'name':_0x42be49}),!_0x42be49)return this[_0x40a6c6(0x59d)]['error'](this[_0x40a6c6(0x6ca)]+'\x20('+this[_0x40a6c6(0x754)][_0x40a6c6(0x370)]+_0x40a6c6(0x54e)),null;let _0x5bd7a6=require('mongodb')[_0x40a6c6(0x37c)],_0x771625=Date[_0x40a6c6(0x5f0)](),_0x309674=_0x40a6c6(0x1b9),_0x4924b7={},_0x883c9a={},_0x522ba0={..._0x42be49['_doc'],'chatLog':null},_0x11d23a={'lastReceivedMessage':_0x4924b7,'lastSendMessage':_0x883c9a,'lastBlockId':_0x309674,'lastCondition':!0x0,'realVariables':_0x291b5c};_0x522ba0[_0x40a6c6(0x597)]=_0x11d23a,_0x522ba0['chatLog']['realVariables']={..._0x291b5c},delete _0x522ba0[_0x40a6c6(0x71a)],_0x522ba0[_0x40a6c6(0x71a)]=new _0x5bd7a6(),_0x522ba0['lastInteraction']=_0x771625,_0x522ba0[_0x40a6c6(0x1be)]=_0x40a6c6(0x5d6),_0x522ba0[_0x40a6c6(0x24b)]=_0x3f2e2d;let _0x3e9ea5=await j['create'](_0x522ba0);return this[_0x40a6c6(0x59d)][_0x40a6c6(0x2d2)](this['instanceName']+'\x20('+this[_0x40a6c6(0x754)][_0x40a6c6(0x370)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x3e9ea5?_0x522ba0:null;}catch(_0x3da04e){throw this[_0x40a6c6(0x59d)][_0x40a6c6(0x790)](this['instanceName']+'\x20('+this['instance'][_0x40a6c6(0x370)]+_0x40a6c6(0x51f)+_0x3da04e),new g(_0x3da04e[_0x40a6c6(0x444)]);}}async['processApiRequest'](_0x2ab7e5,_0x22584d){const _0x145f6d=a0_0x1d1a99;let _0x3c1077,_0x1303c3;try{let _0x22b0cf=_0x22584d['apirequest'];if(!_0x22b0cf||!_0x22b0cf[_0x145f6d(0x633)]||!_0x22b0cf[_0x145f6d(0x424)])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x5f070c={'method':_0x22b0cf[_0x145f6d(0x424)],'url':_0x22b0cf[_0x145f6d(0x633)],'headers':_0x22b0cf[_0x145f6d(0x73c)]||{},'data':_0x22b0cf['body']||{}};_0x3c1077=(await(0x0,ce[_0x145f6d(0x267)])(_0x5f070c))[_0x145f6d(0x723)];let _0x30c693=_0x2ab7e5['chatLog'][_0x145f6d(0x69b)],_0x472aed=this[_0x145f6d(0x3ba)](_0x3c1077);return Object['assign'](_0x30c693,_0x472aed),_0x2ab7e5[_0x145f6d(0x597)][_0x145f6d(0x69b)]=_0x30c693,_0x1303c3={'error':!0x1,'apiResponse':_0x3c1077},this[_0x145f6d(0x3d3)](_0x2ab7e5,_0x22584d,_0x1303c3),_0x3c1077;}catch(_0x46ba70){console[_0x145f6d(0x790)](_0x145f6d(0x298),_0x46ba70),_0x46ba70[_0x145f6d(0x1ef)]&&(_0x3c1077=_0x46ba70[_0x145f6d(0x1ef)][_0x145f6d(0x723)]);let _0x58392f=_0x2ab7e5[_0x145f6d(0x597)]['realVariables'],_0x506fc0=this[_0x145f6d(0x3ba)](_0x3c1077);return Object[_0x145f6d(0x2bd)](_0x58392f,_0x506fc0),_0x2ab7e5[_0x145f6d(0x597)][_0x145f6d(0x69b)]=_0x58392f,_0x1303c3={'error':!0x0,'errorLog':_0x46ba70[_0x145f6d(0x55b)](),'apiResponse':_0x3c1077},this['updateConversation'](_0x2ab7e5,_0x22584d,_0x1303c3),{'success':!0x1};}}[a0_0x1d1a99(0x560)](_0x1156b5,_0x28d7a6){const _0x3993ad=a0_0x1d1a99;let _0x2784ba=_0x1d07d8=>{const _0x3be445=a0_0x3b16;let _0x1847b0=_0x1d07d8[_0x3be445(0x5d9)](/[^0-9.,-]/g,'')[_0x3be445(0x5d9)](',','.'),_0x391ae9=parseFloat(_0x1847b0);return isNaN(_0x391ae9)?null:_0x391ae9;},_0x1a4b98=_0x28d7a6['firstValue'],_0x4c4ec0=_0x28d7a6[_0x3993ad(0x4f3)];typeof _0x1a4b98==_0x3993ad(0x245)&&(_0x1a4b98=this[_0x3993ad(0x779)](_0x1a4b98,_0x1156b5[_0x3993ad(0x597)][_0x3993ad(0x69b)])??''),typeof _0x4c4ec0==_0x3993ad(0x245)&&(_0x4c4ec0=this[_0x3993ad(0x779)](_0x4c4ec0,_0x1156b5[_0x3993ad(0x597)]['realVariables'])??'');let _0x3a362=null;if(!_0x1a4b98||!_0x28d7a6[_0x3993ad(0x702)])return null;switch(this[_0x3993ad(0x59d)][_0x3993ad(0x2d2)](this[_0x3993ad(0x6ca)]+'\x20('+this['instance'][_0x3993ad(0x370)]+_0x3993ad(0x3b5)+_0x1a4b98),this[_0x3993ad(0x59d)][_0x3993ad(0x2d2)](this[_0x3993ad(0x6ca)]+'\x20('+this[_0x3993ad(0x754)][_0x3993ad(0x370)]+_0x3993ad(0x544)+_0x4c4ec0),_0x28d7a6[_0x3993ad(0x702)]){case'+':case'-':case'*':case'/':let _0x2bd614=_0x2784ba(_0x1a4b98),_0x21375b=_0x2784ba(_0x4c4ec0||'0');if(_0x2bd614===null)return null;switch(_0x28d7a6[_0x3993ad(0x702)]){case'+':_0x3a362=_0x2bd614+(_0x21375b??0x0);break;case'-':_0x3a362=_0x2bd614-(_0x21375b??0x0);break;case'*':_0x3a362=_0x2bd614*(_0x21375b??0x1);break;case'/':_0x21375b!==0x0&&(_0x3a362=_0x2bd614/(_0x21375b??0x1));break;}break;case _0x3993ad(0x223):case _0x3993ad(0x44e):let _0x14b580=_0x4c4ec0,_0x120956=_0x28d7a6[_0x3993ad(0x4e7)];if(typeof _0x120956==_0x3993ad(0x245)&&(_0x120956=this[_0x3993ad(0x779)](_0x120956,_0x1156b5[_0x3993ad(0x597)][_0x3993ad(0x69b)])??''),_0x14b580&&_0x120956!==void 0x0){let _0x5cb7c4=_0x28d7a6[_0x3993ad(0x702)]===_0x3993ad(0x223)?new RegExp(_0x14b580['replace'](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x14b580,'g');_0x3a362=_0x1a4b98[_0x3993ad(0x5d9)](_0x5cb7c4,_0x120956);}else console[_0x3993ad(0x1da)](_0x3993ad(0x572));break;case _0x3993ad(0x2bb):_0x3a362=_0x4c4ec0;break;case _0x3993ad(0x5ec):let _0x4085fe=_0x1a4b98[_0x3993ad(0x5fe)](new RegExp(_0x4c4ec0||''));_0x3a362=_0x4085fe?_0x4085fe[0x0]:'';break;case _0x3993ad(0x36a):_0x3a362=_0x1a4b98[_0x3993ad(0x29c)](0x0,parseInt(_0x4c4ec0||'0'));break;case _0x3993ad(0x66a):let _0x3a88b5=parseInt(_0x4c4ec0||'0');_0x3a362=_0x1a4b98[_0x3993ad(0x29c)](_0x1a4b98[_0x3993ad(0x45d)]-_0x3a88b5);break;case _0x3993ad(0x303):let _0xfd2b97=_0x2784ba(_0x1a4b98),_0x1a613f=parseInt(_0x4c4ec0||'0');_0x1a613f=Math[_0x3993ad(0x2aa)](_0x1a613f),_0xfd2b97!==null?_0x3a362=_0xfd2b97[_0x3993ad(0x2e3)](_0x3993ad(0x62c),{'minimumFractionDigits':_0x1a613f,'maximumFractionDigits':_0x1a613f}):(console[_0x3993ad(0x1da)](_0x3993ad(0x783)+_0x1a4b98),_0x3a362=null);break;case _0x3993ad(0x511):let _0x28f6cc=_0x2784ba(_0x1a4b98);_0x28f6cc!==null?_0x3a362=_0x28f6cc[_0x3993ad(0x2e3)](_0x3993ad(0x62c),{'style':_0x3993ad(0x743),'currency':_0x3993ad(0x265)}):(console[_0x3993ad(0x1da)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x1a4b98),_0x3a362=null);break;case _0x3993ad(0x558):_0x3a362=_0x1a4b98[_0x3993ad(0x5ce)]();break;case _0x3993ad(0x2c0):_0x3a362=_0x1a4b98[_0x3993ad(0x5a7)]();break;case'capitalizedWords':_0x3a362=_0x1a4b98[_0x3993ad(0x447)]('\x20')['map'](_0xefb02a=>_0xefb02a[_0x3993ad(0x703)](0x0)[_0x3993ad(0x5ce)]()+_0xefb02a['slice'](0x1)[_0x3993ad(0x5a7)]())[_0x3993ad(0x403)]('\x20');break;case _0x3993ad(0x336):_0x3a362=_0x1a4b98[_0x3993ad(0x620)]();break;default:_0x3a362=_0x1a4b98;}return _0x3a362!==null?_0x3a362['toString']():null;}async[a0_0x1d1a99(0x3f1)](_0x1a432f,_0xd06e53){const _0x50ccb3=a0_0x1d1a99;try{let _0x1f8beb=_0x1a432f[_0x50ccb3(0x2fd)]?.[_0x50ccb3(0x463)](_0x13040a=>_0x13040a['blockId']===_0xd06e53[_0x50ccb3(0x71a)]?.[_0x50ccb3(0x55b)]())||[],_0x377d3c=_0xd06e53[_0x50ccb3(0x3c2)],_0x4fc316=null,_0x1a296a=[],_0x5c44e0=_0x1a432f[_0x50ccb3(0x597)]['realVariables'][_0x377d3c];_0x1a296a['push']('Valor\x20inicial:\x20\x22'+_0x5c44e0+'\x22');for(let _0x822518 of _0x1f8beb){_0x822518[_0x50ccb3(0x1dd)]=_0x5c44e0,_0x4fc316=_0x822518[_0x50ccb3(0x1dd)];let _0x83c37;try{_0x83c37=this[_0x50ccb3(0x560)](_0x1a432f,_0x822518);}catch(_0x15128b){console['error']('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x15128b[_0x50ccb3(0x444)]);continue;}if(_0x83c37!==null){let _0x19850a=_0x50ccb3(0x55a)+_0x822518[_0x50ccb3(0x702)]+'\x22',_0x154b43=[_0x50ccb3(0x511),'upperCase','lowerCase',_0x50ccb3(0x253),_0x50ccb3(0x336)];_0x822518[_0x50ccb3(0x702)]===_0x50ccb3(0x223)||_0x822518['editOperator']===_0x50ccb3(0x44e)?_0x19850a+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x822518['secondValue']+_0x50ccb3(0x2c6)+_0x822518[_0x50ccb3(0x4e7)]+'\x22':!_0x154b43['includes'](_0x822518['editOperator'])&&_0x822518[_0x50ccb3(0x4f3)]!==null&&_0x822518[_0x50ccb3(0x4f3)]!==void 0x0&&(_0x19850a+=_0x50ccb3(0x25b)+_0x822518[_0x50ccb3(0x4f3)]+'\x22'),_0x19850a+=',\x20resultado:\x20'+_0x83c37+'.',_0x1a296a[_0x50ccb3(0x750)](_0x19850a);}_0x83c37!==null&&(_0x5c44e0=_0x83c37);}if(_0x1a432f['chatLog'][_0x50ccb3(0x69b)]&&_0xd06e53[_0x50ccb3(0x3c2)]){_0x1a432f['chatLog'][_0x50ccb3(0x69b)][_0xd06e53[_0x50ccb3(0x3c2)]]=_0x5c44e0;let _0x5dcb6a={'variable':_0xd06e53[_0x50ccb3(0x3c2)],'oldValue':_0x4fc316,'newValue':_0x5c44e0,'moreLogs':_0x1a296a};try{this[_0x50ccb3(0x3d3)](_0x1a432f,_0xd06e53,_0x5dcb6a);}catch(_0x26bba9){console[_0x50ccb3(0x790)](_0x50ccb3(0x6f1)+_0x26bba9[_0x50ccb3(0x444)]);}}return _0x377d3c;}catch(_0x21cbb7){return console['error'](_0x50ccb3(0x6ce)+_0x21cbb7[_0x50ccb3(0x444)]),null;}}async[a0_0x1d1a99(0x3f3)](_0x2a784e,_0x1828a9){const _0x5236ff=a0_0x1d1a99;try{let _0x5240b9=[],_0x42c11=_0x2a784e[_0x5236ff(0x686)]['filter'](_0x465ead=>_0x465ead[_0x5236ff(0x693)]===_0x1828a9[_0x5236ff(0x71a)]['toString']()),_0x294493=null,_0x46512f=!0x1;for(let _0x142876 of _0x42c11){let _0x14627d=this[_0x5236ff(0x385)](_0x2a784e,_0x142876);_0x5240b9[_0x5236ff(0x750)](_0x5236ff(0x4a5)+_0x142876['firstValue']+_0x5236ff(0x2f5)+_0x142876[_0x5236ff(0x557)]+_0x5236ff(0x323)+_0x142876[_0x5236ff(0x4f3)]+_0x5236ff(0x647)+_0x14627d),_0x294493===null?_0x294493=_0x14627d:_0x142876[_0x5236ff(0x33b)]===_0x5236ff(0x36f)?(_0x294493=_0x294493&&_0x14627d,_0x14627d||(_0x46512f=!0x0)):_0x142876[_0x5236ff(0x33b)]==='or'&&(_0x46512f||(_0x294493=_0x294493||_0x14627d));}_0x294493===null&&(_0x294493=!0x0);let _0x2dc4b5={'moreLogs':_0x5240b9};_0x2a784e['chatLog'][_0x5236ff(0x6bd)]=_0x294493,await this['updateConversation'](_0x2a784e,_0x1828a9,_0x2dc4b5);}catch(_0x42c935){this[_0x5236ff(0x59d)][_0x5236ff(0x790)](this[_0x5236ff(0x6ca)]+'\x20('+this[_0x5236ff(0x754)][_0x5236ff(0x370)]+_0x5236ff(0x57a)+_0x42c935);}}[a0_0x1d1a99(0x385)](_0x49b660,_0x219f74){const _0x38e750=a0_0x1d1a99;let _0x4df68a=_0x219f74[_0x38e750(0x1dd)],_0x3f267d=_0x219f74['secondValue'];typeof _0x4df68a==_0x38e750(0x245)&&(_0x4df68a=this[_0x38e750(0x779)](_0x4df68a,_0x49b660[_0x38e750(0x597)]['realVariables'])??''),typeof _0x3f267d==_0x38e750(0x245)&&(_0x3f267d=this['replaceVariables'](_0x3f267d,_0x49b660[_0x38e750(0x597)]['realVariables'])??'');try{switch(_0x219f74[_0x38e750(0x557)]){case'equal':return _0x4df68a===_0x3f267d;case'notEqual':return _0x4df68a!==_0x3f267d;case'contains':return _0x4df68a['includes'](_0x3f267d);case _0x38e750(0x524):return!_0x4df68a[_0x38e750(0x3c9)](_0x3f267d);case'greater':return parseFloat(_0x4df68a)>parseFloat(_0x3f267d);case'less':return parseFloat(_0x4df68a)<parseFloat(_0x3f267d);case _0x38e750(0x45b):return _0x4df68a!=='';case'empty':return _0x4df68a==='';case _0x38e750(0x65f):return new RegExp(_0x3f267d)[_0x38e750(0x638)](_0x4df68a);case _0x38e750(0x6b6):return!new RegExp(_0x3f267d)[_0x38e750(0x638)](_0x4df68a);default:return!0x1;}}catch(_0x403c13){return console[_0x38e750(0x790)](_0x38e750(0x1b4)+_0x403c13),!0x1;}}[a0_0x1d1a99(0x6d8)](_0x225303){const _0x449a95=a0_0x1d1a99;let _0x2e6969=!0x0,_0x5b6b99=null;for(let _0x424981 of _0x225303){let _0x362934=this['evaluateConditionTest'](_0x424981);if(_0x5b6b99==='or'&&_0x362934){_0x2e6969=!0x0;break;}if(_0x5b6b99===_0x449a95(0x36f)&&!_0x362934){_0x2e6969=!0x1;break;}_0x5b6b99=_0x424981['OrAnd'];}return _0x2e6969;}['evaluateConditionTest'](_0x5101cc){const _0x2d24ff=a0_0x1d1a99;let _0x33150e=_0x5101cc['firstValue'],_0x2ecfeb=_0x5101cc[_0x2d24ff(0x4f3)];try{switch(_0x5101cc[_0x2d24ff(0x557)]){case _0x2d24ff(0x493):return String(_0x33150e)===String(_0x2ecfeb);case _0x2d24ff(0x5f2):return String(_0x33150e)!==String(_0x2ecfeb);case _0x2d24ff(0x778):return String(_0x33150e)[_0x2d24ff(0x3c9)](String(_0x2ecfeb));case _0x2d24ff(0x524):return!String(_0x33150e)[_0x2d24ff(0x3c9)](String(_0x2ecfeb));case'greater':return parseFloat(String(_0x33150e))>parseFloat(String(_0x2ecfeb));case'less':return parseFloat(String(_0x33150e))<parseFloat(String(_0x2ecfeb));case _0x2d24ff(0x45b):return String(_0x33150e)!=='';case _0x2d24ff(0x374):return String(_0x33150e)==='';case _0x2d24ff(0x65f):return new RegExp(String(_0x2ecfeb))['test'](String(_0x33150e));case _0x2d24ff(0x6b6):return!new RegExp(String(_0x2ecfeb))[_0x2d24ff(0x638)](String(_0x33150e));default:return!0x1;}}catch(_0x3bff58){return console['error']('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x3bff58),!0x1;}}async[a0_0x1d1a99(0x708)](_0x5dace7,_0x1dbb51){const _0x11895e=a0_0x1d1a99;if(this[_0x11895e(0x59d)][_0x11895e(0x2d2)](this['instanceName']+'\x20('+this[_0x11895e(0x754)][_0x11895e(0x370)]+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x5dace7||!_0x1dbb51)return this[_0x11895e(0x59d)]['error'](this[_0x11895e(0x6ca)]+'\x20('+this[_0x11895e(0x754)][_0x11895e(0x370)]+_0x11895e(0x29d)),null;let _0x49bb88=_0x1dbb51[_0x11895e(0x3c2)],_0x142b40=_0x5dace7[_0x11895e(0x597)][_0x11895e(0x6a0)][_0x11895e(0x643)]||_0x5dace7[_0x11895e(0x597)][_0x11895e(0x6a0)][_0x11895e(0x1f7)]||_0x5dace7[_0x11895e(0x597)][_0x11895e(0x6a0)][_0x11895e(0x1fc)];try{_0x5dace7['chatLog'][_0x11895e(0x69b)]||(_0x5dace7[_0x11895e(0x597)][_0x11895e(0x69b)]={});let _0x127b5d=_0x5dace7[_0x11895e(0x597)]['realVariables'][_0x49bb88];_0x5dace7[_0x11895e(0x597)][_0x11895e(0x69b)][_0x49bb88]=_0x142b40;let _0xef5fb0={'variable':_0x49bb88,'oldValue':_0x127b5d,'newValue':_0x142b40};this['updateConversation'](_0x5dace7,_0x1dbb51,_0xef5fb0),this[_0x11895e(0x59d)][_0x11895e(0x2d2)](this[_0x11895e(0x6ca)]+'\x20('+this['instance']['wuid']+_0x11895e(0x6f2));}catch(_0x2c8b9a){let _0x2074d9={'error':!0x0,'errorLog':_0x2c8b9a[_0x11895e(0x55b)]()};return this['updateConversation'](_0x5dace7,_0x1dbb51,_0x2074d9),this[_0x11895e(0x59d)][_0x11895e(0x790)](this['instanceName']+'\x20('+this[_0x11895e(0x754)][_0x11895e(0x370)]+_0x11895e(0x571)+_0x2c8b9a[_0x11895e(0x444)]),null;}}async['stopConversation'](_0xd1f818,_0x59eee2){const _0x3bdd45=a0_0x1d1a99;if(this[_0x3bdd45(0x59d)][_0x3bdd45(0x2d2)](this['instanceName']+'\x20('+this['instance'][_0x3bdd45(0x370)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0xd1f818||!_0x59eee2)return this[_0x3bdd45(0x59d)]['error'](this[_0x3bdd45(0x6ca)]+'\x20('+this[_0x3bdd45(0x754)]['wuid']+_0x3bdd45(0x29d)),null;let _0x5866ea=Date[_0x3bdd45(0x5f0)](),_0x18ffd1=parseInt(_0x59eee2[_0x3bdd45(0x767)],0xa);if(isNaN(_0x18ffd1))return this[_0x3bdd45(0x59d)][_0x3bdd45(0x790)](this[_0x3bdd45(0x6ca)]+'\x20('+this[_0x3bdd45(0x754)][_0x3bdd45(0x370)]+_0x3bdd45(0x4a7)),null;let _0xaa53c3={'newStoppedUntil':_0x5866ea+_0x18ffd1*0x3c*0x3e8};return await this['updateConversation'](_0xd1f818,_0x59eee2,_0xaa53c3,!0x0),null;}async[a0_0x1d1a99(0x216)](_0x161a82,_0x515b68,_0x77af3a){const _0x2a745d=a0_0x1d1a99;try{switch(_0x515b68[_0x2a745d(0x1c5)]['command']){case'sendText':await this[_0x2a745d(0x5fc)](_0x161a82,_0x515b68,_0x77af3a);break;case _0x2a745d(0x717):await this[_0x2a745d(0x23c)](_0x161a82,_0x515b68,_0x77af3a);break;case'sendLocation':await this[_0x2a745d(0x696)](_0x161a82,_0x515b68,_0x77af3a);break;case _0x2a745d(0x689):await this[_0x2a745d(0x64f)](_0x161a82,_0x515b68,_0x77af3a);break;case _0x2a745d(0x1c2):await this[_0x2a745d(0x679)](_0x161a82,_0x515b68,_0x77af3a);break;case'sendPoll':await this[_0x2a745d(0x753)](_0x161a82,_0x515b68,_0x77af3a);break;case _0x2a745d(0x40e):await this['uazapiDeleteMessage'](_0x161a82,_0x515b68,_0x77af3a);break;default:this[_0x2a745d(0x59d)][_0x2a745d(0x790)](this['instanceName']+'\x20('+this[_0x2a745d(0x754)][_0x2a745d(0x370)]+'):\x20Comando\x20desconhecido:\x20'+_0x515b68[_0x2a745d(0x1c5)][_0x2a745d(0x645)]);}}catch(_0x3d941d){this['logger'][_0x2a745d(0x790)](this[_0x2a745d(0x6ca)]+'\x20('+this[_0x2a745d(0x754)][_0x2a745d(0x370)]+_0x2a745d(0x320)+_0x3d941d);}}async[a0_0x1d1a99(0x3d3)](_0x28bc24,_0x52a94b,_0x5b5273,_0xb60b52=!0x1,_0x195a5e=!0x1){const _0x514207=a0_0x1d1a99;_0x28bc24['chatLog'][_0x514207(0x513)]||(_0x28bc24[_0x514207(0x597)][_0x514207(0x513)]=[]);let _0x457ced=(_0x28bc24[_0x514207(0x597)]['blockLogs']?.['length']??0x0)+0x1,_0x48ec75=_0x28bc24[_0x514207(0x597)][_0x514207(0x513)][_0x514207(0x463)](_0xa75ace=>String(_0xa75ace[_0x514207(0x693)])===String(_0x52a94b['_id']))['length']+0x1,_0x26e922=_0x5b5273?.[_0x514207(0x3d7)]??Date[_0x514207(0x5f0)](),_0x4d7f0e=_0x5b5273?.[_0x514207(0x790)]?_0x5b5273[_0x514207(0x322)]??_0x5b5273['error'][_0x514207(0x55b)]():void 0x0,_0x4a068e={'onTime':_0x26e922,'blockId':_0x52a94b['_id'],'order':_0x457ced,'activatedCount':_0x48ec75,'error':_0x5b5273?.['error']??!0x1,'messageId':_0x5b5273?.[_0x514207(0x3ce)],'apiResponse':_0x5b5273?.[_0x514207(0x630)],'apiResponseString':_0x5b5273?.[_0x514207(0x630)]?JSON[_0x514207(0x5b4)](_0x5b5273?.[_0x514207(0x630)]):void 0x0,'variable':_0x5b5273?.[_0x514207(0x4ba)],'oldValue':_0x5b5273?.[_0x514207(0x209)],'newValue':_0x5b5273?.[_0x514207(0x1c9)],'newStoppedUntil':_0x5b5273?.[_0x514207(0x27e)],'moreLogs':_0x5b5273?.[_0x514207(0x1fb)],'errorLog':_0x4d7f0e};if(_0x5b5273['moreLogs']&&_0x5b5273[_0x514207(0x1fb)]['length']>0x0){let _0x1357f7=_0x5b5273[_0x514207(0x1fb)][_0x514207(0x5dc)](_0x488a77=>this[_0x514207(0x43c)](_0x488a77,_0x28bc24['chatLog'][_0x514207(0x69b)]));_0x4a068e[_0x514207(0x1fb)]=_0x1357f7;}_0x28bc24[_0x514207(0x597)]['realVariables']||(_0x28bc24[_0x514207(0x597)][_0x514207(0x69b)]={}),_0x28bc24['chatLog'][_0x514207(0x69b)]['_activatedCount']=String(_0x48ec75),_0x28bc24[_0x514207(0x597)][_0x514207(0x69b)]['_error']=String(_0x5b5273[_0x514207(0x790)]??!0x1),_0x28bc24[_0x514207(0x597)][_0x514207(0x513)][_0x514207(0x750)](_0x4a068e),_0x28bc24[_0x514207(0x597)][_0x514207(0x280)]=_0x52a94b[_0x514207(0x71a)][_0x514207(0x55b)](),_0x28bc24[_0x514207(0x597)][_0x514207(0x34b)]&&(_0x28bc24[_0x514207(0x597)][_0x514207(0x34b)]=_0x28bc24[_0x514207(0x597)][_0x514207(0x34b)]),_0x28bc24['chatLog']['lastReceivedMessage']&&(_0x28bc24[_0x514207(0x597)][_0x514207(0x6a0)]=_0x28bc24[_0x514207(0x597)][_0x514207(0x6a0)]),_0x28bc24[_0x514207(0x597)]['lastCondition']&&(_0x28bc24['chatLog'][_0x514207(0x6bd)]=_0x28bc24[_0x514207(0x597)][_0x514207(0x6bd)]),_0x195a5e&&(_0x28bc24[_0x514207(0x1be)]=_0x514207(0x5bd)),_0xb60b52?this['saveConversationToDatabase'](_0x28bc24):this[_0x514207(0x37f)](_0x28bc24,_0x52a94b);}[a0_0x1d1a99(0x43c)](_0x463fdc,_0x3eced1){const _0x51d975=a0_0x1d1a99;return _0x463fdc[_0x51d975(0x5d9)](/\{\{([^}]+)\}\}/g,(_0x37d762,_0xe2218)=>_0x3eced1[_0xe2218]?'{{'+_0xe2218+'}}\x20->\x20\x22'+_0x3eced1[_0xe2218]+'\x22':'{{'+_0xe2218+'}}\x20->\x20valor\x20não\x20encontrado');}async[a0_0x1d1a99(0x390)](_0x3d2109){const _0x5d736e=a0_0x1d1a99;try{let _0x4c048d=Object['entries'](_0x3d2109[_0x5d736e(0x597)][_0x5d736e(0x69b)])['map'](([_0x401bbb,_0x339a86])=>({'name':_0x401bbb,'value':_0x339a86})),_0x2b8835=await j['findOneAndUpdate']({'_id':_0x3d2109['_id']},{'$set':{'chatLog.lastBlockId':_0x3d2109[_0x5d736e(0x597)]['lastBlockId'],'blocks':_0x3d2109[_0x5d736e(0x456)],'chatLog.lastSendMessage':_0x3d2109[_0x5d736e(0x597)][_0x5d736e(0x34b)],'chatLog.lastReceivedMessage':_0x3d2109[_0x5d736e(0x597)]['lastReceivedMessage'],'chatLog.lastCondition':_0x3d2109[_0x5d736e(0x597)]['lastCondition'],'chatLog.chatVariables':_0x4c048d,'chatLog.realVariables':_0x3d2109[_0x5d736e(0x597)][_0x5d736e(0x69b)],'status':_0x3d2109['status'],'chatLog.blockLogs':_0x3d2109[_0x5d736e(0x597)][_0x5d736e(0x513)],'waitingPoll_id':_0x3d2109['waitingPoll_id'],'waitingPoll_name':_0x3d2109[_0x5d736e(0x665)],'waitingPoll_replyOptions':_0x3d2109['waitingPoll_replyOptions']}},{'new':!0x0});if(_0x2b8835){this[_0x5d736e(0x59d)][_0x5d736e(0x2d2)](this['instanceName']+'\x20('+this[_0x5d736e(0x754)][_0x5d736e(0x370)]+_0x5d736e(0x590)+_0x2b8835[_0x5d736e(0x71a)]);try{let _0x570f62=['nome','nomecompleto',_0x5d736e(0x22d),_0x5d736e(0x56d),'status',_0x5d736e(0x235),_0x5d736e(0x604),_0x5d736e(0x607)];if(!this[_0x5d736e(0x721)]&&(await this['getAutomateSystem'](),!this['AutomateSystem']))throw new Error(_0x5d736e(0x539));let _0x160f65=this[_0x5d736e(0x721)]?.[_0x5d736e(0x5b3)]['map'](_0xba55f=>_0xba55f[_0x5d736e(0x4ef)]),_0x4ee919={};Object[_0x5d736e(0x3c5)](_0x3d2109[_0x5d736e(0x597)][_0x5d736e(0x69b)])[_0x5d736e(0x6e3)](([_0x894f04,_0x1f1e69])=>{const _0x59ad19=_0x5d736e;_0x570f62['includes'](_0x894f04)&&(_0x894f04===_0x59ad19(0x607)&&typeof _0x1f1e69==_0x59ad19(0x245)?_0x4ee919[_0x894f04]=_0x1f1e69[_0x59ad19(0x447)](',')[_0x59ad19(0x5dc)](_0x14b12d=>_0x14b12d[_0x59ad19(0x620)]())[_0x59ad19(0x463)](_0x13da41=>_0x13da41!==''):_0x4ee919[_0x894f04]=_0x1f1e69);});let _0x229930=_0x3d2109[_0x5d736e(0x597)][_0x5d736e(0x513)][_0x3d2109[_0x5d736e(0x597)][_0x5d736e(0x513)]['length']-0x1];if(_0x229930){let _0x398779=_0x229930[_0x5d736e(0x27e)];_0x398779!==void 0x0&&(_0x4ee919[_0x5d736e(0x6b7)]=_0x398779[_0x5d736e(0x55b)]());}let _0x42fd27=_0x4c048d[_0x5d736e(0x463)](_0x30cc29=>_0x160f65[_0x5d736e(0x3c9)](_0x30cc29[_0x5d736e(0x4ef)]));this['logger']['verbose'](this[_0x5d736e(0x6ca)]+'\x20('+this[_0x5d736e(0x754)]['wuid']+_0x5d736e(0x25a)),this[_0x5d736e(0x59d)]['verbose'](_0x4ee919),this[_0x5d736e(0x59d)][_0x5d736e(0x2d2)](this[_0x5d736e(0x6ca)]+'\x20('+this[_0x5d736e(0x754)][_0x5d736e(0x370)]+'):\x20customFieldVariables'),this[_0x5d736e(0x59d)][_0x5d736e(0x2d2)](_0x42fd27);let _0x439da6=_0x42fd27['map'](_0x5bbb17=>{const _0xae2f1f=_0x5d736e;let _0x47bdd9=this['AutomateSystem']?.[_0xae2f1f(0x5b3)][_0xae2f1f(0x20b)](_0x41e55a=>_0x41e55a[_0xae2f1f(0x4ef)]===_0x5bbb17['name']);if(!_0x47bdd9)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x5bbb17[_0xae2f1f(0x4ef)]);return{'_id':_0x47bdd9[_0xae2f1f(0x71a)],'value':_0x5bbb17['value']};});this[_0x5d736e(0x59d)][_0x5d736e(0x2d2)](this['instanceName']+'\x20('+this[_0x5d736e(0x754)][_0x5d736e(0x370)]+_0x5d736e(0x2b0)),this[_0x5d736e(0x59d)]['verbose'](_0x439da6),await this[_0x5d736e(0x59b)](_0x3d2109[_0x5d736e(0x24b)],_0x4ee919,_0x439da6);}catch(_0x21dc5c){this['logger'][_0x5d736e(0x790)](this[_0x5d736e(0x6ca)]+'\x20('+this['instance'][_0x5d736e(0x370)]+_0x5d736e(0x53c)+JSON[_0x5d736e(0x5b4)](_0x21dc5c));}}else this[_0x5d736e(0x59d)][_0x5d736e(0x790)](this[_0x5d736e(0x6ca)]+'\x20('+this[_0x5d736e(0x754)]['wuid']+_0x5d736e(0x332));}catch(_0x17e9c5){this[_0x5d736e(0x59d)][_0x5d736e(0x790)](this['instanceName']+'\x20('+this[_0x5d736e(0x754)]['wuid']+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+JSON[_0x5d736e(0x5b4)](_0x17e9c5));}}async[a0_0x1d1a99(0x59b)](_0x38febb,_0x137dd9,_0x41a773){const _0x333ba9=a0_0x1d1a99;try{let _0x43cb71={'leadInfo.leadnome':_0x137dd9[_0x333ba9(0x4b9)],'leadInfo.nomecompleto':_0x137dd9[_0x333ba9(0x254)],'leadInfo.email':_0x137dd9[_0x333ba9(0x22d)],'leadInfo.cpf':_0x137dd9[_0x333ba9(0x56d)],'leadInfo.status':_0x137dd9['status'],'leadInfo.notas':_0x137dd9[_0x333ba9(0x235)],'leadInfo.responsavelid':_0x137dd9[_0x333ba9(0x604)],'leadInfo.tags':_0x137dd9[_0x333ba9(0x607)],'leadInfo.customFields':_0x41a773};if('desativadoFluxoAte'in _0x137dd9){let _0x1d8920=_0x137dd9['desativadoFluxoAte'];_0x43cb71[_0x333ba9(0x603)]=_0x1d8920?Number(_0x1d8920):null;}let _0x15dccb=await this[_0x333ba9(0x4b4)][_0x333ba9(0x54f)][_0x333ba9(0x4d9)]({'where':{'_id':_0x38febb,'owner':this[_0x333ba9(0x754)][_0x333ba9(0x370)]}},_0x43cb71);_0x15dccb?(this[_0x333ba9(0x59d)][_0x333ba9(0x2d2)](this[_0x333ba9(0x6ca)]+'\x20('+this[_0x333ba9(0x754)][_0x333ba9(0x370)]+_0x333ba9(0x484)+_0x15dccb[_0x333ba9(0x71a)]),B(this[_0x333ba9(0x6ca)],_0x333ba9(0x6d3),{'chat':_0x15dccb})):this[_0x333ba9(0x59d)][_0x333ba9(0x790)](this[_0x333ba9(0x6ca)]+'\x20('+this[_0x333ba9(0x754)][_0x333ba9(0x370)]+'):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD');}catch(_0x1ede82){this['logger'][_0x333ba9(0x790)](this[_0x333ba9(0x6ca)]+'\x20('+this[_0x333ba9(0x754)][_0x333ba9(0x370)]+_0x333ba9(0x5b8)+_0x1ede82);}}async[a0_0x1d1a99(0x328)](_0x20c928,_0xd9a0ee){const _0x108d9a=a0_0x1d1a99;this[_0x108d9a(0x59d)][_0x108d9a(0x2d2)](this[_0x108d9a(0x6ca)]+'\x20('+this['instance'][_0x108d9a(0x370)]+_0x108d9a(0x732)+_0xd9a0ee);try{let _0x139344=await this['repository'][_0x108d9a(0x54f)]['updateOne']({'where':{'_id':_0x20c928[_0x108d9a(0x24b)],'owner':_0x20c928['owner']}},{'leadInfo.desativadoFluxoAte':_0xd9a0ee});this['logger']['verbose'](this[_0x108d9a(0x6ca)]+'\x20('+this[_0x108d9a(0x754)]['wuid']+_0x108d9a(0x43e)+_0x20c928['_id']),this[_0x108d9a(0x59d)][_0x108d9a(0x2d2)](this['instanceName']+'\x20('+this[_0x108d9a(0x754)]['wuid']+'):\x20atualização\x20chat:\x20'+JSON['stringify'](_0x139344,null,0x2)),_0x139344&&B(this[_0x108d9a(0x6ca)],_0x108d9a(0x6d3),{'chat':_0x139344});}catch(_0x1711e3){this[_0x108d9a(0x59d)][_0x108d9a(0x790)](this[_0x108d9a(0x6ca)]+'\x20('+this[_0x108d9a(0x754)][_0x108d9a(0x370)]+_0x108d9a(0x297)+JSON[_0x108d9a(0x5b4)](_0x1711e3));}}async[a0_0x1d1a99(0x6cb)](_0x253401,_0x2a2b29){const _0x560a94=a0_0x1d1a99;try{this[_0x560a94(0x59d)][_0x560a94(0x2d2)](this[_0x560a94(0x6ca)]+'\x20('+this[_0x560a94(0x754)][_0x560a94(0x370)]+_0x560a94(0x338));let _0x2050e5=_0x2a2b29[_0x560a94(0x5d9)](/\D/g,''),_0x10b464=await I[_0x560a94(0x367)]({'owner':_0x253401,'testingWith':_0x2050e5});return _0x10b464||(this[_0x560a94(0x59d)][_0x560a94(0x2d2)](this[_0x560a94(0x6ca)]+'\x20('+this[_0x560a94(0x754)]['wuid']+_0x560a94(0x5f8)),_0x10b464=await I[_0x560a94(0x367)]({'owner':_0x253401,'default':!0x0})),_0x10b464||(this[_0x560a94(0x59d)][_0x560a94(0x2d2)](this[_0x560a94(0x6ca)]+'\x20('+this[_0x560a94(0x754)][_0x560a94(0x370)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null);}catch(_0x16cf6c){return this[_0x560a94(0x59d)]['error'](this[_0x560a94(0x6ca)]+'\x20('+this[_0x560a94(0x754)][_0x560a94(0x370)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+_0x16cf6c),null;}}async[a0_0x1d1a99(0x745)](_0x2a63a2,_0x2a9d59,_0x54d93d){const _0x1a2a87=a0_0x1d1a99;try{let _0x8bf7dd=!!_0x54d93d[_0x1a2a87(0x1fc)],_0x4d7c7d=_0x54d93d[_0x1a2a87(0x740)],_0x5df857=null;if(this['logger'][_0x1a2a87(0x2d2)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1a2a87(0x747)+_0x8bf7dd+_0x1a2a87(0x740)+_0x4d7c7d),_0x8bf7dd)return this[_0x1a2a87(0x59d)]['verbose'](this[_0x1a2a87(0x6ca)]+'\x20('+this[_0x1a2a87(0x754)][_0x1a2a87(0x370)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto'),_0x5df857=await j[_0x1a2a87(0x367)]({'owner':_0x2a63a2,'remoteJid':_0x2a9d59,'waitingPoll_id':_0x4d7c7d}),_0x5df857?(_0x5df857[_0x1a2a87(0x5cb)]=Date['now'](),_0x5df857[_0x1a2a87(0x597)][_0x1a2a87(0x6a0)]=_0x54d93d,_0x5df857):(this[_0x1a2a87(0x59d)][_0x1a2a87(0x2d2)](this[_0x1a2a87(0x6ca)]+'\x20('+this[_0x1a2a87(0x754)][_0x1a2a87(0x370)]+_0x1a2a87(0x531)),null);{if(this[_0x1a2a87(0x59d)]['verbose'](this[_0x1a2a87(0x6ca)]+'\x20('+this[_0x1a2a87(0x754)][_0x1a2a87(0x370)]+_0x1a2a87(0x535)+this['instance'][_0x1a2a87(0x370)]+_0x1a2a87(0x225)),this[_0x1a2a87(0x59d)]['verbose'](this[_0x1a2a87(0x6ca)]+'\x20('+this[_0x1a2a87(0x754)][_0x1a2a87(0x370)]+_0x1a2a87(0x28c)),_0x5df857=await j['findOne']({'owner':_0x2a63a2,'remoteJid':_0x2a9d59,'status':'open'}),!_0x5df857){let _0x32e34c=await this['findFlow'](_0x2a63a2,_0x2a9d59);if(_0x32e34c&&(_0x5df857=await this[_0x1a2a87(0x58a)](_0x32e34c,_0x54d93d[_0x1a2a87(0x3eb)],_0x54d93d)),!_0x5df857)return null;}let _0x586a54=Date[_0x1a2a87(0x5f0)](),_0x55f685=_0x5df857?.['minutesToClose']||0x0,_0xaa54da=_0x586a54-_0x55f685*0x3c*0x3e8;if(this[_0x1a2a87(0x59d)][_0x1a2a87(0x2d2)](this['instanceName']+'\x20('+this[_0x1a2a87(0x754)][_0x1a2a87(0x370)]+_0x1a2a87(0x203)+_0x586a54+',\x20Minutes\x20to\x20Close:\x20'+_0x55f685+_0x1a2a87(0x4d5)+_0xaa54da),this[_0x1a2a87(0x59d)]['verbose'](this['instanceName']+'\x20('+this[_0x1a2a87(0x754)][_0x1a2a87(0x370)]+_0x1a2a87(0x69e)),this[_0x1a2a87(0x59d)][_0x1a2a87(0x2d2)](this[_0x1a2a87(0x6ca)]+'\x20('+this[_0x1a2a87(0x754)][_0x1a2a87(0x370)]+_0x1a2a87(0x32f)+_0x5df857[_0x1a2a87(0x5cb)]),this[_0x1a2a87(0x59d)][_0x1a2a87(0x2d2)](this['instanceName']+'\x20('+this[_0x1a2a87(0x754)][_0x1a2a87(0x370)]+_0x1a2a87(0x272)+_0xaa54da),_0x5df857[_0x1a2a87(0x5cb)]<_0xaa54da){this[_0x1a2a87(0x59d)][_0x1a2a87(0x2d2)](this[_0x1a2a87(0x6ca)]+'\x20('+this[_0x1a2a87(0x754)][_0x1a2a87(0x370)]+'):\x20Conversa\x20está\x20expirada');let _0x5f3d40=await this['findFlow'](_0x2a63a2,_0x2a9d59);if(_0x5f3d40===null)return null;_0x5df857&&await j['updateOne']({'_id':_0x5df857[_0x1a2a87(0x71a)]},{'status':_0x1a2a87(0x5bd)}),_0x5df857=await this['createNewConversation'](_0x5f3d40,_0x54d93d[_0x1a2a87(0x3eb)],_0x54d93d);}return _0x5df857[_0x1a2a87(0x5cb)]=_0x586a54,_0x5df857[_0x1a2a87(0x597)]['lastReceivedMessage']=_0x54d93d,_0x5df857;}}catch(_0x4c56ff){return this['logger'][_0x1a2a87(0x790)](this[_0x1a2a87(0x6ca)]+'\x20('+this[_0x1a2a87(0x754)][_0x1a2a87(0x370)]+_0x1a2a87(0x66d)+_0x4c56ff),null;}}async[a0_0x1d1a99(0x58a)](_0x5b1762,_0x52fdd5,_0x4cbed0){const _0x29799e=a0_0x1d1a99;this['logger'][_0x29799e(0x2d2)](this['instanceName']+'\x20('+this[_0x29799e(0x754)][_0x29799e(0x370)]+_0x29799e(0x20d));try{let _0xc82713=require(_0x29799e(0x2ed))[_0x29799e(0x37c)],_0x4a6b85=Date[_0x29799e(0x5f0)](),_0x513cee=_0x29799e(0x1b9),_0x4e59c6=_0x52fdd5['fromMe']?null:_0x4cbed0,_0x4587ef=_0x52fdd5[_0x29799e(0x52d)]?_0x4cbed0:null,_0x44f146=_0x52fdd5[_0x29799e(0x24b)];await this[_0x29799e(0x751)](_0x44f146);let _0x18defc={..._0x5b1762[_0x29799e(0x363)],'chatLog':null},_0x4ec81b=await this[_0x29799e(0x1ee)](_0x18defc[_0x29799e(0x74a)]),_0x2005f8=await this[_0x29799e(0x3b0)](_0x44f146),_0x791259={..._0x4ec81b,..._0x2005f8,'_remoteJid':_0x44f146},_0xa06b1b={'lastReceivedMessage':_0x4e59c6,'lastSendMessage':_0x4587ef,'lastBlockId':_0x513cee,'lastCondition':!0x0,'realVariables':_0x791259};_0x18defc['chatLog']=_0xa06b1b,delete _0x18defc[_0x29799e(0x71a)],_0x18defc[_0x29799e(0x71a)]=new _0xc82713(),_0x18defc[_0x29799e(0x5cb)]=_0x4a6b85,_0x18defc[_0x29799e(0x1be)]=_0x29799e(0x5d6),_0x18defc[_0x29799e(0x24b)]=_0x44f146;let _0x26536a=await j[_0x29799e(0x52e)](_0x18defc);return this[_0x29799e(0x59d)][_0x29799e(0x2d2)](this[_0x29799e(0x6ca)]+'\x20('+this[_0x29799e(0x754)]['wuid']+_0x29799e(0x3fb)),_0x26536a?_0x18defc:null;}catch(_0x217875){return this[_0x29799e(0x59d)][_0x29799e(0x790)](this['instanceName']+'\x20('+this[_0x29799e(0x754)][_0x29799e(0x370)]+_0x29799e(0x51f)+_0x217875),_0x217875;}}async['uazapiSendText'](_0x255682,_0x455f99,_0x9fb034){const _0x2bb43b=a0_0x1d1a99;this['logger']['verbose'](this[_0x2bb43b(0x6ca)]+'\x20('+this[_0x2bb43b(0x754)][_0x2bb43b(0x370)]+'):\x20Enviando\x20texto');let _0x1a22ac={'number':_0x9fb034,'options':{'delay':_0x455f99[_0x2bb43b(0x1c5)][_0x2bb43b(0x6ed)]},'textMessage':{'text':_0x455f99['uazapi'][_0x2bb43b(0x643)]}};try{let _0x3a301a=await this[_0x2bb43b(0x218)](_0x1a22ac);if(_0x3a301a){let _0x51b76c={'_id':_0x3a301a[_0x2bb43b(0x3eb)]['id'],'_fromMe':_0x3a301a[_0x2bb43b(0x3eb)][_0x2bb43b(0x52d)],'_remoteJid':_0x3a301a[_0x2bb43b(0x3eb)]['remoteJid']};_0x255682[_0x2bb43b(0x597)][_0x2bb43b(0x280)]=_0x455f99[_0x2bb43b(0x71a)][_0x2bb43b(0x55b)]();let {message_normalized:_0x256e19}=this[_0x2bb43b(0x233)](_0x3a301a['message'],G(_0x3a301a[_0x2bb43b(0x444)]),null);_0x255682[_0x2bb43b(0x597)][_0x2bb43b(0x34b)]=await _0x256e19;let _0x654e2f={'messageId':_0x3a301a['key']['id']},_0x3c7b5c=_0x255682['chatLog'][_0x2bb43b(0x69b)];Object[_0x2bb43b(0x2bd)](_0x3c7b5c,_0x51b76c),_0x255682[_0x2bb43b(0x597)][_0x2bb43b(0x69b)]=_0x3c7b5c,this['updateConversation'](_0x255682,_0x455f99,_0x654e2f);}else{let _0x5774fd={'error':!0x0};this['updateConversation'](_0x255682,_0x455f99,_0x5774fd),this['logger'][_0x2bb43b(0x790)](this[_0x2bb43b(0x6ca)]+'\x20('+this[_0x2bb43b(0x754)]['wuid']+_0x2bb43b(0x258));}}catch(_0x3428b2){let _0x428df7={'error':!0x0,'errorLog':_0x3428b2[_0x2bb43b(0x55b)]()};this[_0x2bb43b(0x3d3)](_0x255682,_0x455f99,_0x428df7),this[_0x2bb43b(0x59d)][_0x2bb43b(0x790)](this[_0x2bb43b(0x6ca)]+'\x20('+this['instance'][_0x2bb43b(0x370)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+_0x3428b2[_0x2bb43b(0x55b)]());}}async[a0_0x1d1a99(0x23c)](_0x4027cb,_0x4b70d2,_0x129cf6){const _0x57a53e=a0_0x1d1a99;this[_0x57a53e(0x59d)]['verbose'](this[_0x57a53e(0x6ca)]+'\x20('+this[_0x57a53e(0x754)][_0x57a53e(0x370)]+_0x57a53e(0x2e2));let _0x1d78ed={'number':_0x129cf6,'options':{'delay':_0x4b70d2[_0x57a53e(0x1c5)]['delay']},'mediaMessage':{'mediatype':_0x4b70d2[_0x57a53e(0x1c5)][_0x57a53e(0x6e0)],'caption':_0x4b70d2[_0x57a53e(0x1c5)][_0x57a53e(0x1f7)],'media':_0x4b70d2['uazapi'][_0x57a53e(0x316)],'fileName':_0x4b70d2['uazapi'][_0x57a53e(0x3f5)]}};try{let _0x27d3c5=await this[_0x57a53e(0x746)](_0x1d78ed);if(_0x27d3c5){let _0x447145={'_id':_0x27d3c5[_0x57a53e(0x3eb)]['id'],'_fromMe':_0x27d3c5[_0x57a53e(0x3eb)][_0x57a53e(0x52d)],'_remoteJid':_0x27d3c5[_0x57a53e(0x3eb)]['remoteJid']};_0x4027cb['chatLog'][_0x57a53e(0x280)]=_0x4b70d2[_0x57a53e(0x71a)][_0x57a53e(0x55b)]();let {message_normalized:_0x2d3d81}=this[_0x57a53e(0x233)](_0x27d3c5[_0x57a53e(0x444)],G(_0x27d3c5[_0x57a53e(0x444)]),null);_0x4027cb[_0x57a53e(0x597)][_0x57a53e(0x34b)]=await _0x2d3d81;let _0x27c9d3={'messageId':_0x27d3c5[_0x57a53e(0x3eb)]['id']},_0x211a58=_0x4027cb['chatLog'][_0x57a53e(0x69b)];Object[_0x57a53e(0x2bd)](_0x211a58,_0x447145),_0x4027cb[_0x57a53e(0x597)][_0x57a53e(0x69b)]=_0x211a58,this['updateConversation'](_0x4027cb,_0x4b70d2,_0x27c9d3);}else{let _0x2cc696={'error':!0x0};this[_0x57a53e(0x3d3)](_0x4027cb,_0x4b70d2,_0x2cc696),this[_0x57a53e(0x59d)][_0x57a53e(0x790)](this[_0x57a53e(0x6ca)]+'\x20('+this[_0x57a53e(0x754)][_0x57a53e(0x370)]+_0x57a53e(0x46e));}}catch(_0xcb8467){let _0x33cab5={'error':!0x0,'errorLog':_0xcb8467[_0x57a53e(0x55b)]()};this[_0x57a53e(0x3d3)](_0x4027cb,_0x4b70d2,_0x33cab5),this['logger'][_0x57a53e(0x790)](this[_0x57a53e(0x6ca)]+'\x20('+this[_0x57a53e(0x754)][_0x57a53e(0x370)]+_0x57a53e(0x529)+_0xcb8467[_0x57a53e(0x55b)]());}}async['uazapiSendLocation'](_0xc00a90,_0x361c67,_0x3da7a3){const _0xfefb52=a0_0x1d1a99;this['logger'][_0xfefb52(0x2d2)](this['instanceName']+'\x20('+this[_0xfefb52(0x754)][_0xfefb52(0x370)]+_0xfefb52(0x65a));let _0x2ad152={'number':_0x3da7a3,'options':{'delay':_0x361c67[_0xfefb52(0x1c5)][_0xfefb52(0x6ed)]},'locationMessage':{'name':_0x361c67[_0xfefb52(0x1c5)][_0xfefb52(0x4ef)],'address':_0x361c67['uazapi'][_0xfefb52(0x6bf)],'latitude':_0x361c67[_0xfefb52(0x1c5)]['latitude'],'longitude':_0x361c67[_0xfefb52(0x1c5)]['longitude']}};try{let _0x432ff4=await this['locationMessage'](_0x2ad152);if(_0x432ff4){let _0x42ffa6={'_id':_0x432ff4['key']['id'],'_fromMe':_0x432ff4[_0xfefb52(0x3eb)][_0xfefb52(0x52d)],'_remoteJid':_0x432ff4[_0xfefb52(0x3eb)][_0xfefb52(0x24b)]};_0xc00a90[_0xfefb52(0x597)]['lastBlockId']=_0x361c67[_0xfefb52(0x71a)][_0xfefb52(0x55b)]();let {message_normalized:_0x28d325}=this['normalizeMessage'](_0x432ff4['message'],G(_0x432ff4['message']),null);_0xc00a90[_0xfefb52(0x597)][_0xfefb52(0x34b)]=await _0x28d325;let _0x35ad85={'messageId':_0x432ff4[_0xfefb52(0x3eb)]['id']},_0x5d5d19=_0xc00a90[_0xfefb52(0x597)][_0xfefb52(0x69b)];Object[_0xfefb52(0x2bd)](_0x5d5d19,_0x42ffa6),_0xc00a90[_0xfefb52(0x597)]['realVariables']=_0x5d5d19,this[_0xfefb52(0x3d3)](_0xc00a90,_0x361c67,_0x35ad85);}else{let _0x44f0e6={'error':!0x0};this[_0xfefb52(0x3d3)](_0xc00a90,_0x361c67,_0x44f0e6),this[_0xfefb52(0x59d)][_0xfefb52(0x790)](this[_0xfefb52(0x6ca)]+'\x20('+this[_0xfefb52(0x754)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0x426e5c){let _0x391b1d={'error':!0x0,'errorLog':_0x426e5c['toString']()};this['updateConversation'](_0xc00a90,_0x361c67,_0x391b1d),this[_0xfefb52(0x59d)][_0xfefb52(0x790)](this['instanceName']+'\x20('+this[_0xfefb52(0x754)][_0xfefb52(0x370)]+_0xfefb52(0x2b7)+_0x426e5c[_0xfefb52(0x55b)]());}}async[a0_0x1d1a99(0x64f)](_0x58ae4d,_0x13592e,_0x311ba3){const _0x4800f0=a0_0x1d1a99;this[_0x4800f0(0x59d)][_0x4800f0(0x2d2)](this[_0x4800f0(0x6ca)]+'\x20('+this['instance'][_0x4800f0(0x370)]+_0x4800f0(0x507));let _0x1ca85d={'number':_0x311ba3,'options':{'delay':_0x13592e[_0x4800f0(0x1c5)][_0x4800f0(0x6ed)]},'audioMessage':{'audio':_0x13592e[_0x4800f0(0x1c5)][_0x4800f0(0x512)]}};try{let _0x4cb02f=await this[_0x4800f0(0x70c)](_0x1ca85d);if(_0x4cb02f){let _0x3699a2={'_id':_0x4cb02f['key']['id'],'_fromMe':_0x4cb02f['key']['fromMe'],'_remoteJid':_0x4cb02f[_0x4800f0(0x3eb)][_0x4800f0(0x24b)]};_0x58ae4d[_0x4800f0(0x597)][_0x4800f0(0x280)]=_0x13592e[_0x4800f0(0x71a)]['toString']();let {message_normalized:_0x2855d0}=this['normalizeMessage'](_0x4cb02f[_0x4800f0(0x444)],G(_0x4cb02f[_0x4800f0(0x444)]),null);_0x58ae4d[_0x4800f0(0x597)][_0x4800f0(0x34b)]=await _0x2855d0;let _0x4c1239={'messageId':_0x4cb02f['key']['id']},_0x503c88=_0x58ae4d[_0x4800f0(0x597)][_0x4800f0(0x69b)];Object[_0x4800f0(0x2bd)](_0x503c88,_0x3699a2),_0x58ae4d[_0x4800f0(0x597)]['realVariables']=_0x503c88,this['updateConversation'](_0x58ae4d,_0x13592e,_0x4c1239);}else{let _0x3145e8={'error':!0x0};this[_0x4800f0(0x3d3)](_0x58ae4d,_0x13592e,_0x3145e8),this[_0x4800f0(0x59d)]['error'](this[_0x4800f0(0x6ca)]+'\x20('+this[_0x4800f0(0x754)][_0x4800f0(0x370)]+_0x4800f0(0x70d));}}catch(_0x4151b0){let _0x8b851a={'error':!0x0,'errorLog':_0x4151b0['toString']()};this[_0x4800f0(0x3d3)](_0x58ae4d,_0x13592e,_0x8b851a),this['logger'][_0x4800f0(0x790)](this[_0x4800f0(0x6ca)]+'\x20('+this[_0x4800f0(0x754)][_0x4800f0(0x370)]+_0x4800f0(0x4cb)+_0x4151b0[_0x4800f0(0x55b)]());}}async[a0_0x1d1a99(0x679)](_0x460db7,_0x3c3c62,_0x5ad343){const _0x46e640=a0_0x1d1a99;this['logger'][_0x46e640(0x2d2)](this[_0x46e640(0x6ca)]+'\x20('+this[_0x46e640(0x754)][_0x46e640(0x370)]+_0x46e640(0x64b));let _0x11d389={'number':_0x5ad343,'options':{'delay':_0x3c3c62[_0x46e640(0x1c5)][_0x46e640(0x6ed)]},'contactMessage':[{'fullName':_0x3c3c62[_0x46e640(0x1c5)][_0x46e640(0x30d)],'phoneNumber':_0x3c3c62['uazapi'][_0x46e640(0x207)]}]};try{let _0x1b94f5=await this['contactMessage'](_0x11d389);if(_0x1b94f5){let _0x2a76ca={'_id':_0x1b94f5[_0x46e640(0x3eb)]['id'],'_fromMe':_0x1b94f5[_0x46e640(0x3eb)]['fromMe'],'_remoteJid':_0x1b94f5[_0x46e640(0x3eb)][_0x46e640(0x24b)]};_0x460db7[_0x46e640(0x597)][_0x46e640(0x280)]=_0x3c3c62[_0x46e640(0x71a)][_0x46e640(0x55b)]();let {message_normalized:_0x1e2d9d}=this[_0x46e640(0x233)](_0x1b94f5[_0x46e640(0x444)],G(_0x1b94f5['message']),null);_0x460db7['chatLog']['lastSendMessage']=await _0x1e2d9d;let _0x2d9bf0={'messageId':_0x1b94f5[_0x46e640(0x3eb)]['id']},_0x4dd01e=_0x460db7[_0x46e640(0x597)][_0x46e640(0x69b)];Object[_0x46e640(0x2bd)](_0x4dd01e,_0x2a76ca),_0x460db7[_0x46e640(0x597)][_0x46e640(0x69b)]=_0x4dd01e,this[_0x46e640(0x3d3)](_0x460db7,_0x3c3c62,_0x2d9bf0);}else{let _0x158f6d={'error':!0x0};this[_0x46e640(0x3d3)](_0x460db7,_0x3c3c62,_0x158f6d),this[_0x46e640(0x59d)][_0x46e640(0x790)](this[_0x46e640(0x6ca)]+'\x20('+this[_0x46e640(0x754)][_0x46e640(0x370)]+_0x46e640(0x600));}}catch(_0x40f364){let _0x3314c6={'error':!0x0,'errorLog':_0x40f364['toString']()};this[_0x46e640(0x3d3)](_0x460db7,_0x3c3c62,_0x3314c6),this['logger'][_0x46e640(0x790)](this[_0x46e640(0x6ca)]+'\x20('+this[_0x46e640(0x754)][_0x46e640(0x370)]+_0x46e640(0x1d1)+_0x40f364[_0x46e640(0x55b)]());}}[a0_0x1d1a99(0x219)](_0x26cb08,_0x385aa0){const _0x300b78=a0_0x1d1a99;for(let _0x5ef4b3 of _0x26cb08)_0x5ef4b3[_0x300b78(0x704)]&&(_0x5ef4b3[_0x300b78(0x704)]=this[_0x300b78(0x779)](_0x5ef4b3[_0x300b78(0x704)],_0x385aa0)),_0x5ef4b3['optionDescription']&&(_0x5ef4b3['optionDescription']=this['replaceVariables'](_0x5ef4b3['optionDescription'],_0x385aa0));}async[a0_0x1d1a99(0x753)](_0x3bc8a4,_0xc3b754,_0x51d89c){const _0x16f197=a0_0x1d1a99;this[_0x16f197(0x59d)]['verbose'](this[_0x16f197(0x6ca)]+'\x20('+this[_0x16f197(0x754)][_0x16f197(0x370)]+'):\x20Enviando\x20enquete');let _0x2d04f5=_0x3bc8a4[_0x16f197(0x1f4)][_0x16f197(0x463)](_0x3863f8=>_0x3863f8[_0x16f197(0x693)]===_0xc3b754['_id']);this['replaceVariablesInReplyOptions'](_0x2d04f5,_0x3bc8a4[_0x16f197(0x597)][_0x16f197(0x69b)]);let _0x469d71=_0x2d04f5['map'](_0x3df5d2=>_0x3df5d2[_0x16f197(0x704)]),_0x1af7fd={'number':_0x51d89c,'options':{'delay':_0xc3b754[_0x16f197(0x1c5)][_0x16f197(0x6ed)]},'pollMessage':{'name':_0xc3b754[_0x16f197(0x1c5)][_0x16f197(0x4ef)],'selectableCount':0x1,'values':_0x469d71}};try{let _0x1695d3=await this[_0x16f197(0x6e4)](_0x1af7fd);if(_0x1695d3){let _0x4c4c80={'_id':_0x1695d3[_0x16f197(0x3eb)]['id'],'_fromMe':_0x1695d3['key'][_0x16f197(0x52d)],'_remoteJid':_0x1695d3['key'][_0x16f197(0x24b)]};this['logger'][_0x16f197(0x2d2)](this['instanceName']+'\x20('+this[_0x16f197(0x754)][_0x16f197(0x370)]+_0x16f197(0x5ba)+_0xc3b754['uazapi'][_0x16f197(0x4ef)]),_0x3bc8a4[_0x16f197(0x6ff)]=_0x1695d3[_0x16f197(0x3eb)]['id'],_0x3bc8a4[_0x16f197(0x665)]=_0xc3b754['uazapi'][_0x16f197(0x4ef)],_0x3bc8a4['waitingPoll_replyOptions']=_0x2d04f5,this[_0x16f197(0x59d)][_0x16f197(0x2d2)](this[_0x16f197(0x6ca)]+'\x20('+this[_0x16f197(0x754)][_0x16f197(0x370)]+_0x16f197(0x221)+_0x3bc8a4[_0x16f197(0x665)]),_0x3bc8a4[_0x16f197(0x597)][_0x16f197(0x280)]=_0xc3b754[_0x16f197(0x71a)][_0x16f197(0x55b)]();let {message_normalized:_0x5973f1}=this['normalizeMessage'](_0x1695d3[_0x16f197(0x444)],G(_0x1695d3[_0x16f197(0x444)]),null);_0x3bc8a4['chatLog'][_0x16f197(0x34b)]=await _0x5973f1;let _0x3374f3={'messageId':_0x1695d3[_0x16f197(0x3eb)]['id']},_0x34e794=_0x3bc8a4[_0x16f197(0x597)][_0x16f197(0x69b)];Object[_0x16f197(0x2bd)](_0x34e794,_0x4c4c80),_0x3bc8a4[_0x16f197(0x597)]['realVariables']=_0x34e794,this[_0x16f197(0x3d3)](_0x3bc8a4,_0xc3b754,_0x3374f3);}else{let _0x14144c={'error':!0x0};this[_0x16f197(0x3d3)](_0x3bc8a4,_0xc3b754,_0x14144c),this[_0x16f197(0x59d)][_0x16f197(0x790)](this['instanceName']+'\x20('+this['instance'][_0x16f197(0x370)]+_0x16f197(0x678));}}catch(_0x446d68){let _0xfe950a={'error':!0x0,'errorLog':_0x446d68[_0x16f197(0x55b)]()};this['updateConversation'](_0x3bc8a4,_0xc3b754,_0xfe950a),this[_0x16f197(0x59d)][_0x16f197(0x790)](this['instanceName']+'\x20('+this[_0x16f197(0x754)][_0x16f197(0x370)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+_0x446d68[_0x16f197(0x55b)]());}}async['uazapiDeleteMessage'](_0x54ea1c,_0x257578,_0x81c808){const _0x551167=a0_0x1d1a99;this['logger'][_0x551167(0x2d2)](this[_0x551167(0x6ca)]+'\x20('+this[_0x551167(0x754)][_0x551167(0x370)]+_0x551167(0x68f));let _0x2f740d=_0x54ea1c[_0x551167(0x597)][_0x551167(0x513)][_0x551167(0x20b)](_0x59789c=>_0x59789c[_0x551167(0x693)][_0x551167(0x55b)]()===_0x257578[_0x551167(0x1c5)][_0x551167(0x693)][_0x551167(0x55b)]()),_0x24cc47={'id':_0x2f740d[_0x551167(0x3ce)],'remoteJid':_0x2f740d['remoteJid'],'fromMe':_0x2f740d[_0x551167(0x52d)]};try{let _0x4ff6ef=await this[_0x551167(0x40e)](_0x24cc47);if(_0x4ff6ef){_0x54ea1c[_0x551167(0x597)][_0x551167(0x280)]=_0x257578[_0x551167(0x71a)][_0x551167(0x55b)]();let {message_normalized:_0x3edc47}=this['normalizeMessage'](_0x4ff6ef[_0x551167(0x444)],G(_0x4ff6ef['message']),null);_0x54ea1c[_0x551167(0x597)][_0x551167(0x34b)]=await _0x3edc47;let _0x2d75df={};this['updateConversation'](_0x54ea1c,_0x257578,_0x2d75df);}else{let _0x36925f={'error':!0x0};this[_0x551167(0x3d3)](_0x54ea1c,_0x257578,_0x36925f),this['logger'][_0x551167(0x790)](this[_0x551167(0x6ca)]+'\x20('+this[_0x551167(0x754)]['wuid']+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x53d263){let _0x557ad9={'error':!0x0,'errorLog':_0x53d263[_0x551167(0x55b)]()};this[_0x551167(0x3d3)](_0x54ea1c,_0x257578,_0x557ad9),this[_0x551167(0x59d)][_0x551167(0x790)](this[_0x551167(0x6ca)]+'\x20('+this[_0x551167(0x754)][_0x551167(0x370)]+_0x551167(0x769)+_0x53d263[_0x551167(0x55b)]());}}async[a0_0x1d1a99(0x2fc)](_0x3fc341){const _0x26404a=a0_0x1d1a99;try{if(this[_0x26404a(0x59d)][_0x26404a(0x2d2)](this['instanceName']+'\x20('+this['instance'][_0x26404a(0x370)]+_0x26404a(0x6d4)),await I['findOne']({'owner':this['instance'][_0x26404a(0x370)],'name':_0x3fc341[_0x26404a(0x4ef)]}))return{'message':'Flow\x20already\x20exists'};_0x3fc341[_0x26404a(0x267)]===!0x0&&await I[_0x26404a(0x497)]({'owner':this[_0x26404a(0x754)][_0x26404a(0x370)]},{'default':!0x1});let _0x48a3a9=new pe[(_0x26404a(0x687))][(_0x26404a(0x37c))](),_0x22c561={'_id':_0x48a3a9,'default':!0x0,'title':_0x26404a(0x611),'x':0x0,'y':0x0},_0x37f66d={'_id':new pe[(_0x26404a(0x687))][(_0x26404a(0x37c))](),'order':0x1,'groupId':_0x48a3a9['toString'](),'type':_0x26404a(0x1b9)};return await I[_0x26404a(0x52e)]({'owner':this[_0x26404a(0x754)][_0x26404a(0x370)],'name':_0x3fc341[_0x26404a(0x4ef)],'groups':[_0x22c561],'blocks':[_0x37f66d],..._0x3fc341});}catch(_0x3ba70a){throw this[_0x26404a(0x59d)][_0x26404a(0x790)](this[_0x26404a(0x6ca)]+'\x20('+this[_0x26404a(0x754)][_0x26404a(0x370)]+_0x26404a(0x77b)+_0x3ba70a),new g(_0x26404a(0x77d)+_0x3ba70a);}}async['deleteFlow'](_0x518f74){const _0x35ccfd=a0_0x1d1a99;try{return this[_0x35ccfd(0x59d)][_0x35ccfd(0x2d2)](this[_0x35ccfd(0x6ca)]+'\x20('+this['instance'][_0x35ccfd(0x370)]+_0x35ccfd(0x5a6)),await I[_0x35ccfd(0x247)]({'owner':this[_0x35ccfd(0x754)][_0x35ccfd(0x370)],'name':_0x518f74});}catch(_0x3cf635){return this[_0x35ccfd(0x59d)][_0x35ccfd(0x790)](this[_0x35ccfd(0x6ca)]+'\x20('+this[_0x35ccfd(0x754)][_0x35ccfd(0x370)]+_0x35ccfd(0x4a0)+_0x3cf635),{'message':_0x35ccfd(0x22b)+_0x3cf635};}}async[a0_0x1d1a99(0x559)](_0x4a4879){const _0x4d6aeb=a0_0x1d1a99;try{this[_0x4d6aeb(0x59d)][_0x4d6aeb(0x2d2)](this['instanceName']+'\x20('+this[_0x4d6aeb(0x754)][_0x4d6aeb(0x370)]+'):\x20Buscando\x20flow...');let _0x13e062=await I['findOne']({'owner':this['instance'][_0x4d6aeb(0x370)],'name':_0x4a4879});if(!_0x13e062)throw new Error(_0x4d6aeb(0x4a4));if(!this[_0x4d6aeb(0x721)]&&(await this[_0x4d6aeb(0x45a)](),!this[_0x4d6aeb(0x721)]))return null;let _0x401002=this[_0x4d6aeb(0x721)]?.[_0x4d6aeb(0x5b3)]['map'](_0x20bac2=>_0x20bac2[_0x4d6aeb(0x4ef)]),_0x37194b=[_0x4d6aeb(0x4b9),_0x4d6aeb(0x254),_0x4d6aeb(0x22d),_0x4d6aeb(0x56d),_0x4d6aeb(0x1be),_0x4d6aeb(0x235),_0x4d6aeb(0x604),_0x4d6aeb(0x607)];return _0x13e062[_0x4d6aeb(0x74a)]=_0x13e062[_0x4d6aeb(0x74a)][_0x4d6aeb(0x463)](_0x4de7e5=>!(_0x4de7e5[_0x4d6aeb(0x569)]===_0x4d6aeb(0x71d)||_0x4de7e5[_0x4d6aeb(0x71d)])),_0x37194b[_0x4d6aeb(0x6e3)](_0x34b713=>{const _0x19d328=_0x4d6aeb;_0x13e062['variables'][_0x19d328(0x750)]({'folder':_0x19d328(0x71d),'name':_0x34b713,'value':'','doc':'','leadInfo':!0x0});}),_0x401002[_0x4d6aeb(0x6e3)](_0x562115=>{const _0x22bc31=_0x4d6aeb;let _0x1c1ccd=_0x13e062[_0x22bc31(0x74a)][_0x22bc31(0x6d2)](_0x4cd433=>_0x4cd433[_0x22bc31(0x4ef)]===_0x562115);_0x1c1ccd===-0x1?_0x13e062[_0x22bc31(0x74a)]['push']({'folder':'leadInfo','name':_0x562115,'value':'','doc':'','leadInfo':!0x0}):(_0x13e062['variables'][_0x1c1ccd][_0x22bc31(0x569)]=_0x22bc31(0x71d),_0x13e062[_0x22bc31(0x74a)][_0x1c1ccd]['leadInfo']=!0x0);}),_0x13e062[_0x4d6aeb(0x456)]&&_0x13e062['blocks'][_0x4d6aeb(0x45d)]>0x0&&_0x13e062[_0x4d6aeb(0x456)][_0x4d6aeb(0x6e3)](_0x303076=>{const _0x467c55=_0x4d6aeb;_0x303076['groupId']&&_0x303076[_0x467c55(0x5ca)]&&_0x303076[_0x467c55(0x22a)]===_0x303076[_0x467c55(0x5ca)]&&(_0x303076[_0x467c55(0x5ca)]=null);}),await _0x13e062[_0x4d6aeb(0x6d0)](),_0x13e062;}catch(_0xfaf105){throw this[_0x4d6aeb(0x59d)][_0x4d6aeb(0x790)](this[_0x4d6aeb(0x6ca)]+'\x20('+this[_0x4d6aeb(0x754)][_0x4d6aeb(0x370)]+_0x4d6aeb(0x657)+_0xfaf105),new g('Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+_0xfaf105);}}async['allFlows'](){const _0x142133=a0_0x1d1a99;try{return this['logger'][_0x142133(0x2d2)](this['instanceName']+'\x20('+this[_0x142133(0x754)][_0x142133(0x370)]+_0x142133(0x397)),await I[_0x142133(0x20b)]({'owner':this[_0x142133(0x754)]['wuid']});}catch(_0xcc5bb){return this[_0x142133(0x59d)][_0x142133(0x790)](this[_0x142133(0x6ca)]+'\x20('+this['instance'][_0x142133(0x370)]+_0x142133(0x1c7)+_0xcc5bb),{'message':_0x142133(0x2ea)+_0xcc5bb};}}async['editFlow'](_0x19a466){const _0xfe50d7=a0_0x1d1a99;try{this[_0xfe50d7(0x59d)][_0xfe50d7(0x2d2)](this[_0xfe50d7(0x6ca)]+'\x20('+this[_0xfe50d7(0x754)]['wuid']+'):\x20Alterando\x20fluxo...');let _0x5dffca=await I[_0xfe50d7(0x367)]({'owner':this[_0xfe50d7(0x754)][_0xfe50d7(0x370)],'name':_0x19a466['name']});if(!_0x5dffca)return{'message':_0xfe50d7(0x224)};if(_0x19a466[_0xfe50d7(0x267)]===!0x0&&await I[_0xfe50d7(0x497)]({'owner':this['instance'][_0xfe50d7(0x370)]},{'default':!0x1}),_0x19a466[_0xfe50d7(0x722)]){if(await I['findOne']({'owner':this[_0xfe50d7(0x754)][_0xfe50d7(0x370)],'name':_0x19a466[_0xfe50d7(0x722)]}))return{'message':_0xfe50d7(0x2ad)};_0x19a466[_0xfe50d7(0x4ef)]=_0x19a466[_0xfe50d7(0x722)],delete _0x19a466[_0xfe50d7(0x722)];}return await I[_0xfe50d7(0x1c4)](_0x5dffca[_0xfe50d7(0x71a)],{'$set':_0x19a466},{'new':!0x0});}catch(_0x4bc620){throw this[_0xfe50d7(0x59d)][_0xfe50d7(0x790)](this[_0xfe50d7(0x6ca)]+'\x20('+this[_0xfe50d7(0x754)]['wuid']+_0xfe50d7(0x73e)+_0x4bc620),new g('Erro\x20ao\x20alterar\x20o\x20fluxo:\x20'+_0x4bc620);}}async[a0_0x1d1a99(0x6c5)](_0xa270f7){const _0x30b4e1=a0_0x1d1a99;try{this[_0x30b4e1(0x59d)][_0x30b4e1(0x2d2)](this[_0x30b4e1(0x6ca)]+'\x20('+this[_0x30b4e1(0x754)][_0x30b4e1(0x370)]+_0x30b4e1(0x545));let _0xa1bf35={'owner':this['instance']['wuid'],'name':_0xa270f7[_0x30b4e1(0x4ef)]},_0x5a28d7=await I[_0x30b4e1(0x367)](_0xa1bf35);_0x5a28d7||this['throwAndLogError']('Flow\x20não\x20encontrado');let {block:_0x24b976}=_0xa270f7;return _0x24b976?.[_0x30b4e1(0x713)]?this[_0x30b4e1(0x47d)](_0x5a28d7,_0xa270f7):_0x24b976?.[_0x30b4e1(0x249)]?this[_0x30b4e1(0x5a5)](_0x5a28d7,_0xa270f7):_0x24b976['_id']?await this[_0x30b4e1(0x2cf)](_0x5a28d7,_0xa270f7):this[_0x30b4e1(0x4dd)](_0x5a28d7,_0xa270f7),await _0x5a28d7[_0x30b4e1(0x6d0)](),_0x5a28d7;}catch(_0x185fca){this[_0x30b4e1(0x1ea)](_0x30b4e1(0x3be)+_0x185fca);}}async[a0_0x1d1a99(0x47d)](_0x338653,_0x1224a8){const _0x477684=a0_0x1d1a99;let _0x199265=_0x1224a8[_0x477684(0x37a)][_0x477684(0x71a)],_0x475743=_0x338653['blocks'][_0x477684(0x20b)](_0x1f34c0=>_0x1f34c0[_0x477684(0x71a)][_0x477684(0x55b)]()===_0x199265);if(!_0x475743){this['logger']['error'](this[_0x477684(0x6ca)]+'\x20('+this[_0x477684(0x754)][_0x477684(0x370)]+_0x477684(0x504)+_0x199265+_0x477684(0x450));return;}this['logger']['verbose'](this[_0x477684(0x6ca)]+'\x20('+this[_0x477684(0x754)][_0x477684(0x370)]+_0x477684(0x5ed)+JSON[_0x477684(0x5b4)](_0x475743));let _0x5c9912=JSON[_0x477684(0x6fc)](JSON['stringify'](_0x475743));_0x5c9912[_0x477684(0x71a)]=new pe['default'][(_0x477684(0x687))][(_0x477684(0x37c))](),this['logger'][_0x477684(0x2d2)](this[_0x477684(0x6ca)]+'\x20('+this['instance'][_0x477684(0x370)]+_0x477684(0x2d7)+JSON[_0x477684(0x5b4)](_0x5c9912)),_0x338653[_0x477684(0x456)][_0x477684(0x750)](_0x5c9912),this[_0x477684(0x4d1)](_0x338653['blocks'],_0x5c9912['groupId']);}[a0_0x1d1a99(0x1ea)](_0x152b4c){const _0x4f596b=a0_0x1d1a99;throw this['logger'][_0x4f596b(0x790)](this[_0x4f596b(0x6ca)]+'\x20('+this['instance'][_0x4f596b(0x370)]+_0x4f596b(0x535)+_0x152b4c),new g(_0x152b4c);}[a0_0x1d1a99(0x5a5)](_0x163e77,_0xcf8761){const _0x5078a7=a0_0x1d1a99;let {block:_0x39aed1}=_0xcf8761;if(_0x39aed1[_0x5078a7(0x40a)]===_0x5078a7(0x1b9)){this[_0x5078a7(0x1ea)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x39aed1[_0x5078a7(0x71a)]){this['throwAndLogError'](_0x5078a7(0x46c));return;}let _0x55511d=_0x163e77[_0x5078a7(0x456)][_0x5078a7(0x20b)](_0x21d056=>_0x21d056[_0x5078a7(0x71a)]['toString']()===_0xcf8761[_0x5078a7(0x37a)][_0x5078a7(0x71a)][_0x5078a7(0x55b)]());if(!_0x55511d){this[_0x5078a7(0x1ea)](_0x5078a7(0x6ba)+_0x39aed1[_0x5078a7(0x71a)]+_0x5078a7(0x2b5));return;}_0x163e77['blocks']=_0x163e77[_0x5078a7(0x456)][_0x5078a7(0x463)](_0x51d762=>_0x51d762[_0x5078a7(0x71a)][_0x5078a7(0x55b)]()!==_0xcf8761['block'][_0x5078a7(0x71a)][_0x5078a7(0x55b)]()),_0x163e77[_0x5078a7(0x686)]=_0x163e77['conditions'][_0x5078a7(0x463)](_0x5e6725=>_0x5e6725['blockId']!==_0x39aed1[_0x5078a7(0x71a)][_0x5078a7(0x55b)]()),_0x163e77[_0x5078a7(0x2fd)]=_0x163e77[_0x5078a7(0x2fd)]['filter'](_0x30dec4=>_0x30dec4[_0x5078a7(0x693)]!==_0x39aed1[_0x5078a7(0x71a)]['toString']()),_0x163e77[_0x5078a7(0x1f4)]=_0x163e77[_0x5078a7(0x1f4)]['filter'](_0x317b83=>_0x317b83['blockId']!==_0x39aed1[_0x5078a7(0x71a)][_0x5078a7(0x55b)]()),this[_0x5078a7(0x4d1)](_0x163e77['blocks'],_0x55511d['groupId']);}async[a0_0x1d1a99(0x2cf)](_0x267ade,_0x5b8c3d){const _0x4c9080=a0_0x1d1a99;let _0x780fd4=_0x267ade[_0x4c9080(0x456)][_0x4c9080(0x6d2)](_0x1df440=>_0x1df440[_0x4c9080(0x71a)][_0x4c9080(0x55b)]()===_0x5b8c3d['block'][_0x4c9080(0x71a)]['toString']());if(this[_0x4c9080(0x59d)][_0x4c9080(0x2d2)](this[_0x4c9080(0x6ca)]+'\x20('+this[_0x4c9080(0x754)][_0x4c9080(0x370)]+_0x4c9080(0x40b)+_0x780fd4),_0x780fd4===-0x1){this[_0x4c9080(0x59d)]['verbose'](_0x4c9080(0x6ba)+_0x5b8c3d[_0x4c9080(0x37a)][_0x4c9080(0x71a)]+_0x4c9080(0x6c2));return;}if(_0x267ade[_0x4c9080(0x456)][_0x780fd4]['type']==='start'){let _0x5ca8fe=Object[_0x4c9080(0x57b)](_0x5b8c3d[_0x4c9080(0x37a)]);if(_0x5ca8fe[_0x4c9080(0x45d)]>0x2||_0x5ca8fe[_0x4c9080(0x45d)]===0x2&&!_0x5ca8fe['includes']('next_groupId')){this[_0x4c9080(0x1ea)](_0x4c9080(0x719));return;}}let _0x32f58b=_0x267ade[_0x4c9080(0x456)][_0x780fd4][_0x4c9080(0x22a)];for(let _0x3fa910 in _0x5b8c3d[_0x4c9080(0x37a)])_0x5b8c3d[_0x4c9080(0x37a)]['hasOwnProperty'](_0x3fa910)&&(_0x267ade[_0x4c9080(0x456)][_0x780fd4][_0x3fa910]=_0x5b8c3d[_0x4c9080(0x37a)][_0x3fa910]);if(this[_0x4c9080(0x59d)][_0x4c9080(0x2d2)](this['instanceName']+'\x20('+this[_0x4c9080(0x754)][_0x4c9080(0x370)]+_0x4c9080(0x5af)+JSON[_0x4c9080(0x5b4)](_0x267ade['blocks'][_0x780fd4])),_0x267ade[_0x4c9080(0x456)][_0x780fd4][_0x4c9080(0x766)]&&_0x4c9080(0x73c)in _0x267ade[_0x4c9080(0x456)][_0x780fd4][_0x4c9080(0x766)]){this[_0x4c9080(0x59d)][_0x4c9080(0x2d2)](this[_0x4c9080(0x6ca)]+'\x20('+this[_0x4c9080(0x754)][_0x4c9080(0x370)]+_0x4c9080(0x667));let _0x20ccaa=JSON[_0x4c9080(0x5b4)](_0x267ade['blocks'][_0x780fd4][_0x4c9080(0x766)][_0x4c9080(0x73c)],null,0x1);_0x20ccaa[_0x4c9080(0x45d)]>0x2&&(_0x20ccaa=_0x20ccaa[_0x4c9080(0x5b2)](0x1,_0x20ccaa[_0x4c9080(0x45d)]-0x1)[_0x4c9080(0x620)]()),_0x267ade['blocks'][_0x780fd4][_0x4c9080(0x766)][_0x4c9080(0x6f7)]=_0x20ccaa;}if(_0x267ade[_0x4c9080(0x456)][_0x780fd4]['apirequest']&&_0x4c9080(0x64a)in _0x267ade[_0x4c9080(0x456)][_0x780fd4]['apirequest']){this[_0x4c9080(0x59d)][_0x4c9080(0x2d2)](this[_0x4c9080(0x6ca)]+'\x20('+this[_0x4c9080(0x754)][_0x4c9080(0x370)]+_0x4c9080(0x2fe));let _0x3d91b0=JSON['stringify'](_0x267ade['blocks'][_0x780fd4][_0x4c9080(0x766)][_0x4c9080(0x64a)],null,0x1);_0x3d91b0['length']>0x2&&(_0x3d91b0=_0x3d91b0[_0x4c9080(0x5b2)](0x1,_0x3d91b0[_0x4c9080(0x45d)]-0x1)[_0x4c9080(0x620)]()),_0x267ade['blocks'][_0x780fd4][_0x4c9080(0x766)][_0x4c9080(0x352)]=_0x3d91b0;}let _0x495b23=_0x267ade['blocks'][_0x780fd4][_0x4c9080(0x22a)];_0x32f58b!==_0x495b23?(this[_0x4c9080(0x4d1)](_0x267ade['blocks'],_0x32f58b),this[_0x4c9080(0x4d1)](_0x267ade[_0x4c9080(0x456)],_0x495b23)):this[_0x4c9080(0x4d1)](_0x267ade['blocks'],_0x32f58b);}[a0_0x1d1a99(0x4dd)](_0x2cad35,_0x5ef927){const _0x9f208=a0_0x1d1a99;if(_0x5ef927[_0x9f208(0x37a)][_0x9f208(0x40a)]===_0x9f208(0x1b9)){this[_0x9f208(0x1ea)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x5ef927['block'][_0x9f208(0x766)]&&_0x9f208(0x73c)in _0x5ef927[_0x9f208(0x37a)][_0x9f208(0x766)]){this[_0x9f208(0x59d)][_0x9f208(0x2d2)](this[_0x9f208(0x6ca)]+'\x20('+this['instance'][_0x9f208(0x370)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x1fe954=JSON[_0x9f208(0x5b4)](_0x5ef927['block'][_0x9f208(0x766)][_0x9f208(0x73c)],null,0x1);_0x1fe954[_0x9f208(0x45d)]>0x2&&(_0x1fe954=_0x1fe954[_0x9f208(0x5b2)](0x1,_0x1fe954['length']-0x1)[_0x9f208(0x620)]()),_0x5ef927['block']['apirequest'][_0x9f208(0x6f7)]=_0x1fe954;}_0x5ef927[_0x9f208(0x37a)][_0x9f208(0x766)]&&'body'in _0x5ef927[_0x9f208(0x37a)]['apirequest']&&(this[_0x9f208(0x59d)]['verbose'](this['instanceName']+'\x20('+this[_0x9f208(0x754)][_0x9f208(0x370)]+_0x9f208(0x2fe)),_0x5ef927[_0x9f208(0x37a)][_0x9f208(0x766)][_0x9f208(0x352)]=JSON[_0x9f208(0x5b4)](_0x5ef927['block'][_0x9f208(0x766)][_0x9f208(0x64a)],null,0x1)[_0x9f208(0x620)]()),_0x2cad35[_0x9f208(0x456)][_0x9f208(0x750)](_0x5ef927['block']),this['reorderBlocks'](_0x2cad35['blocks'],_0x5ef927['block'][_0x9f208(0x22a)]);}[a0_0x1d1a99(0x4d1)](_0x356482,_0x45be2a){const _0x48bdca=a0_0x1d1a99;let _0x415dcf=_0x356482[_0x48bdca(0x463)](_0x478a33=>_0x478a33[_0x48bdca(0x22a)]===_0x45be2a);_0x415dcf[_0x48bdca(0x3d8)]((_0x32f341,_0x5b4903)=>_0x32f341['order']-_0x5b4903[_0x48bdca(0x2e8)]),_0x415dcf[_0x48bdca(0x6e3)]((_0xcfe8a9,_0x906116)=>_0xcfe8a9[_0x48bdca(0x2e8)]=_0x906116+0x1);}async['editFlowReply'](_0xda937){const _0x5cc4ad=a0_0x1d1a99;try{if(this['logger'][_0x5cc4ad(0x2d2)](this[_0x5cc4ad(0x6ca)]+'\x20('+this['instance'][_0x5cc4ad(0x370)]+'):\x20Editando\x20replyOption...'),!_0xda937||!_0xda937[_0x5cc4ad(0x2bf)]){this[_0x5cc4ad(0x1ea)]('Data\x20inválida\x20fornecida');return;}let _0x4d9d90={'owner':this['instance'][_0x5cc4ad(0x370)],'name':_0xda937[_0x5cc4ad(0x4ef)]},_0x28ea04=await I[_0x5cc4ad(0x367)](_0x4d9d90);_0x28ea04||this[_0x5cc4ad(0x1ea)](_0x5cc4ad(0x4a4));let {replyOption:_0x4191f8}=_0xda937;return _0x4191f8?.[_0x5cc4ad(0x249)]?this[_0x5cc4ad(0x673)](_0x28ea04,_0xda937):_0x4191f8[_0x5cc4ad(0x71a)]?await this[_0x5cc4ad(0x44b)](_0x28ea04,_0xda937):this[_0x5cc4ad(0x6dc)](_0x28ea04,_0xda937),await _0x28ea04[_0x5cc4ad(0x6d0)](),_0x28ea04;}catch(_0x34b065){this[_0x5cc4ad(0x1ea)]('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x34b065);}}[a0_0x1d1a99(0x673)](_0x126c09,_0x4409a9){const _0x50b168=a0_0x1d1a99;let {replyOption:_0x1caf9f}=_0x4409a9;if(!_0x1caf9f['_id']){this['throwAndLogError']('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x126c09['replyOptions'][_0x50b168(0x20b)](_0x830020=>_0x830020[_0x50b168(0x71a)][_0x50b168(0x55b)]()===_0x4409a9['replyOption'][_0x50b168(0x71a)][_0x50b168(0x55b)]())){this[_0x50b168(0x1ea)](_0x50b168(0x2ac)+_0x1caf9f[_0x50b168(0x71a)]+_0x50b168(0x2b5));return;}_0x126c09[_0x50b168(0x1f4)]=_0x126c09[_0x50b168(0x1f4)][_0x50b168(0x463)](_0x592eb2=>_0x592eb2[_0x50b168(0x71a)][_0x50b168(0x55b)]()!==_0x4409a9[_0x50b168(0x2bf)][_0x50b168(0x71a)][_0x50b168(0x55b)]());}async[a0_0x1d1a99(0x44b)](_0xa2c0dd,_0x204f31){const _0x1a77e9=a0_0x1d1a99;let _0x8ebeba=_0xa2c0dd[_0x1a77e9(0x1f4)][_0x1a77e9(0x6d2)](_0x56f9a6=>_0x56f9a6[_0x1a77e9(0x71a)][_0x1a77e9(0x55b)]()===_0x204f31['replyOption'][_0x1a77e9(0x71a)][_0x1a77e9(0x55b)]());if(_0x8ebeba===-0x1){this[_0x1a77e9(0x1ea)](_0x1a77e9(0x2ac)+_0x204f31['replyOption'][_0x1a77e9(0x71a)]+_0x1a77e9(0x6c2));return;}for(let _0x4945c5 in _0x204f31[_0x1a77e9(0x2bf)])_0x204f31['replyOption'][_0x1a77e9(0x3ae)](_0x4945c5)&&(_0xa2c0dd[_0x1a77e9(0x1f4)][_0x8ebeba][_0x4945c5]=_0x204f31[_0x1a77e9(0x2bf)][_0x4945c5]);}[a0_0x1d1a99(0x6dc)](_0x4e08e4,_0x1bd0b8){const _0x1eec55=a0_0x1d1a99;_0x4e08e4[_0x1eec55(0x1f4)][_0x1eec55(0x750)](_0x1bd0b8[_0x1eec55(0x2bf)]);}async[a0_0x1d1a99(0x4eb)](_0x4be64a){const _0x4114a3=a0_0x1d1a99;this[_0x4114a3(0x59d)][_0x4114a3(0x2d2)](this['instanceName']+'\x20('+this['instance'][_0x4114a3(0x370)]+_0x4114a3(0x329)+_0x4be64a);try{this[_0x4114a3(0x59d)][_0x4114a3(0x2d2)](this['instanceName']+'\x20('+this[_0x4114a3(0x754)][_0x4114a3(0x370)]+_0x4114a3(0x2b3));let _0x1bf430={'owner':this[_0x4114a3(0x754)][_0x4114a3(0x370)],'name':_0x4be64a[_0x4114a3(0x4ef)]},_0x41ba0c=await I[_0x4114a3(0x367)](_0x1bf430);if(!_0x41ba0c)throw new Error('Flow\x20não\x20encontrado');if(_0x4be64a[_0x4114a3(0x480)]&&_0x4be64a[_0x4114a3(0x480)]?.[_0x4114a3(0x249)]===!0x0){if(this[_0x4114a3(0x59d)][_0x4114a3(0x2d2)](this[_0x4114a3(0x6ca)]+'\x20('+this['instance']['wuid']+_0x4114a3(0x741)),_0x4be64a[_0x4114a3(0x480)][_0x4114a3(0x267)]===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x41ba0c['blocks'][_0x4114a3(0x589)](_0x3e3f64=>_0x3e3f64[_0x4114a3(0x22a)][_0x4114a3(0x55b)]()===_0x4be64a[_0x4114a3(0x480)][_0x4114a3(0x71a)]))return this[_0x4114a3(0x59d)][_0x4114a3(0x2d2)](this['instanceName']+'\x20('+this[_0x4114a3(0x754)][_0x4114a3(0x370)]+'):\x20tem\x20blocks'),{'message':_0x4114a3(0x4e3)};_0x41ba0c['groups']=_0x41ba0c[_0x4114a3(0x662)][_0x4114a3(0x463)](_0x5d9e38=>_0x5d9e38[_0x4114a3(0x71a)][_0x4114a3(0x55b)]()!==_0x4be64a[_0x4114a3(0x480)][_0x4114a3(0x71a)]);}else{if(_0x4be64a[_0x4114a3(0x480)]){if(_0x4be64a['group']['default']===!0x0)return{'message':_0x4114a3(0x29b)};if(_0x4be64a[_0x4114a3(0x480)][_0x4114a3(0x71a)]){let _0x56ce5f=_0x41ba0c[_0x4114a3(0x662)][_0x4114a3(0x20b)](_0x994398=>_0x994398[_0x4114a3(0x71a)][_0x4114a3(0x55b)]()===_0x4be64a[_0x4114a3(0x480)]['_id']);_0x56ce5f&&(_0x4be64a[_0x4114a3(0x480)]['x']<0x0&&(_0x4be64a[_0x4114a3(0x480)]['x']=0x0),_0x4be64a[_0x4114a3(0x480)]['y']<0x0&&(_0x4be64a[_0x4114a3(0x480)]['y']=0x0),Object[_0x4114a3(0x2bd)](_0x56ce5f,_0x4be64a[_0x4114a3(0x480)]));}else _0x41ba0c[_0x4114a3(0x662)][_0x4114a3(0x750)](_0x4be64a['group']);}}return await _0x41ba0c[_0x4114a3(0x6d0)](),_0x41ba0c;}catch(_0x250e82){throw this['logger']['error'](this[_0x4114a3(0x6ca)]+'\x20('+this[_0x4114a3(0x754)][_0x4114a3(0x370)]+_0x4114a3(0x4a9)+_0x250e82),new g(_0x4114a3(0x39e)+_0x250e82);}}async[a0_0x1d1a99(0x52a)](_0x30b2fb){const _0x18250f=a0_0x1d1a99;try{this[_0x18250f(0x59d)][_0x18250f(0x2d2)](this[_0x18250f(0x6ca)]+'\x20('+this[_0x18250f(0x754)][_0x18250f(0x370)]+_0x18250f(0x35a));let _0xc5850b={'owner':this[_0x18250f(0x754)][_0x18250f(0x370)],'name':_0x30b2fb[_0x18250f(0x4ef)]},_0x3abcfe=await I['findOne'](_0xc5850b);if(!_0x3abcfe)throw new Error('Flow\x20não\x20encontrado');let _0x5a3915=!0x1;if(_0x30b2fb['condition']?.[_0x18250f(0x249)]===!0x0)_0x3abcfe[_0x18250f(0x686)]=_0x3abcfe[_0x18250f(0x686)][_0x18250f(0x463)](_0x41bfdf=>_0x41bfdf&&_0x30b2fb[_0x18250f(0x45c)]&&_0x41bfdf[_0x18250f(0x71a)]&&_0x30b2fb[_0x18250f(0x45c)][_0x18250f(0x71a)]&&_0x41bfdf[_0x18250f(0x71a)][_0x18250f(0x55b)]()!==_0x30b2fb[_0x18250f(0x45c)][_0x18250f(0x71a)][_0x18250f(0x55b)]()),_0x5a3915=!0x0;else{let _0x272031=_0x3abcfe[_0x18250f(0x686)][_0x18250f(0x20b)](_0x5e8146=>_0x5e8146&&_0x30b2fb[_0x18250f(0x45c)]&&_0x5e8146[_0x18250f(0x71a)]&&_0x30b2fb[_0x18250f(0x45c)][_0x18250f(0x71a)]&&_0x5e8146[_0x18250f(0x71a)]['toString']()===_0x30b2fb[_0x18250f(0x45c)][_0x18250f(0x71a)][_0x18250f(0x55b)]());_0x272031?(_0x5a3915=_0x272031[_0x18250f(0x2e8)]!==_0x30b2fb[_0x18250f(0x45c)]['order'],Object[_0x18250f(0x2bd)](_0x272031,_0x30b2fb[_0x18250f(0x45c)])):(_0x3abcfe[_0x18250f(0x686)]['push'](_0x30b2fb[_0x18250f(0x45c)]),_0x5a3915=!0x0);}if(_0x5a3915){_0x3abcfe[_0x18250f(0x686)][_0x18250f(0x3d8)]((_0x275471,_0x564c99)=>_0x275471[_0x18250f(0x2e8)]>_0x564c99[_0x18250f(0x2e8)]?0x1:_0x564c99[_0x18250f(0x2e8)]>_0x275471['order']?-0x1:0x0);for(let _0x4cd60e=0x0;_0x4cd60e<_0x3abcfe[_0x18250f(0x686)]['length'];_0x4cd60e++)_0x3abcfe[_0x18250f(0x686)][_0x4cd60e][_0x18250f(0x2e8)]=_0x4cd60e+0x1;_0x3abcfe[_0x18250f(0x686)][_0x18250f(0x45d)]>0x0&&(_0x3abcfe[_0x18250f(0x686)][0x0][_0x18250f(0x33b)]=_0x18250f(0x36f));}return await _0x3abcfe[_0x18250f(0x6d0)](),_0x3abcfe;}catch(_0x2612db){throw this[_0x18250f(0x59d)][_0x18250f(0x790)](this[_0x18250f(0x6ca)]+'\x20('+this['instance']['wuid']+_0x18250f(0x614)+_0x2612db),new Error(_0x18250f(0x2af)+_0x2612db);}}async[a0_0x1d1a99(0x6aa)](_0x4221a1){const _0x5e3a3b=a0_0x1d1a99;try{this[_0x5e3a3b(0x59d)][_0x5e3a3b(0x2d2)](this[_0x5e3a3b(0x6ca)]+'\x20('+this[_0x5e3a3b(0x754)]['wuid']+_0x5e3a3b(0x37d));let _0x5d55d1={'owner':this[_0x5e3a3b(0x754)][_0x5e3a3b(0x370)],'name':_0x4221a1[_0x5e3a3b(0x4ef)]},_0x228e77=await I[_0x5e3a3b(0x367)](_0x5d55d1);if(!_0x228e77)throw new Error('Flow\x20não\x20encontrado');let _0x302563=!0x1;if(_0x4221a1[_0x5e3a3b(0x465)]?.[_0x5e3a3b(0x249)]===!0x0)_0x228e77[_0x5e3a3b(0x2fd)]=_0x228e77['varedits']['filter'](_0x23dd27=>_0x23dd27&&_0x4221a1[_0x5e3a3b(0x465)]&&_0x23dd27[_0x5e3a3b(0x71a)]&&_0x4221a1[_0x5e3a3b(0x465)][_0x5e3a3b(0x71a)]&&_0x23dd27[_0x5e3a3b(0x71a)][_0x5e3a3b(0x55b)]()!==_0x4221a1[_0x5e3a3b(0x465)]['_id']['toString']()),_0x302563=!0x0;else{let _0x9fe885=_0x228e77[_0x5e3a3b(0x2fd)][_0x5e3a3b(0x20b)](_0x445e7d=>_0x445e7d&&_0x4221a1['varedit']&&_0x445e7d[_0x5e3a3b(0x71a)]&&_0x4221a1[_0x5e3a3b(0x465)][_0x5e3a3b(0x71a)]&&_0x445e7d[_0x5e3a3b(0x71a)][_0x5e3a3b(0x55b)]()===_0x4221a1[_0x5e3a3b(0x465)]['_id'][_0x5e3a3b(0x55b)]());_0x9fe885?(_0x302563=_0x9fe885['order']!==_0x4221a1[_0x5e3a3b(0x465)][_0x5e3a3b(0x2e8)],Object[_0x5e3a3b(0x2bd)](_0x9fe885,_0x4221a1[_0x5e3a3b(0x465)])):(_0x228e77[_0x5e3a3b(0x2fd)]['push'](_0x4221a1[_0x5e3a3b(0x465)]),_0x302563=!0x0);}if(_0x302563){_0x228e77[_0x5e3a3b(0x2fd)][_0x5e3a3b(0x3d8)]((_0x54521c,_0x17b6ca)=>_0x54521c[_0x5e3a3b(0x2e8)]>_0x17b6ca[_0x5e3a3b(0x2e8)]?0x1:_0x17b6ca[_0x5e3a3b(0x2e8)]>_0x54521c[_0x5e3a3b(0x2e8)]?-0x1:0x0);for(let _0x52435a=0x0;_0x52435a<_0x228e77[_0x5e3a3b(0x2fd)]['length'];_0x52435a++)_0x228e77[_0x5e3a3b(0x2fd)][_0x52435a]['order']=_0x52435a+0x1;}return await _0x228e77[_0x5e3a3b(0x6d0)](),_0x228e77;}catch(_0x3f7b3e){throw this[_0x5e3a3b(0x59d)][_0x5e3a3b(0x790)](this[_0x5e3a3b(0x6ca)]+'\x20('+this['instance'][_0x5e3a3b(0x370)]+_0x5e3a3b(0x614)+_0x3f7b3e),new g('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+_0x3f7b3e);}}async[a0_0x1d1a99(0x51b)](_0x2fe738){const _0x18ac00=a0_0x1d1a99;try{this['logger'][_0x18ac00(0x2d2)](this['instanceName']+'\x20('+this[_0x18ac00(0x754)][_0x18ac00(0x370)]+_0x18ac00(0x43b));let _0x52e8eb={'owner':this[_0x18ac00(0x754)]['wuid'],'name':_0x2fe738[_0x18ac00(0x4ef)]},_0x3d571b=await I[_0x18ac00(0x367)](_0x52e8eb);if(!_0x3d571b)throw new Error('Flow\x20não\x20encontrado');_0x2fe738['variable'][_0x18ac00(0x4ef)]=_0x2fe738[_0x18ac00(0x4ba)]['name'][_0x18ac00(0x620)](),_0x2fe738[_0x18ac00(0x4ba)][_0x18ac00(0x4ef)][_0x18ac00(0x6fe)]('_')&&(_0x2fe738[_0x18ac00(0x4ba)]['name']=_0x2fe738[_0x18ac00(0x4ba)][_0x18ac00(0x4ef)][_0x18ac00(0x5b2)](0x1)),_0x2fe738[_0x18ac00(0x4ba)]['name']=_0x2fe738[_0x18ac00(0x4ba)][_0x18ac00(0x4ef)][_0x18ac00(0x620)]();let _0x49e371=_0x3d571b[_0x18ac00(0x74a)][_0x18ac00(0x20b)](_0xe7f714=>_0xe7f714['name']===_0x2fe738[_0x18ac00(0x4ba)][_0x18ac00(0x4ef)]);if(_0x49e371?.[_0x18ac00(0x71d)]===!0x0)throw new Error(_0x18ac00(0x59c));if(_0x2fe738[_0x18ac00(0x4ba)]?.[_0x18ac00(0x249)]===!0x0){if(!_0x49e371)return{'message':_0x18ac00(0x369)};_0x3d571b[_0x18ac00(0x74a)]=_0x3d571b[_0x18ac00(0x74a)][_0x18ac00(0x463)](_0x1764ad=>_0x1764ad[_0x18ac00(0x4ef)]!==_0x2fe738[_0x18ac00(0x4ba)][_0x18ac00(0x4ef)]);}else _0x49e371?Object['assign'](_0x49e371,_0x2fe738[_0x18ac00(0x4ba)]):_0x3d571b[_0x18ac00(0x74a)][_0x18ac00(0x750)](_0x2fe738['variable']);return await _0x3d571b[_0x18ac00(0x6d0)](),_0x3d571b;}catch(_0x544772){throw this['logger'][_0x18ac00(0x790)](this[_0x18ac00(0x6ca)]+'\x20('+this[_0x18ac00(0x754)][_0x18ac00(0x370)]+_0x18ac00(0x53b)+_0x544772),new g('Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+_0x544772);}}async[a0_0x1d1a99(0x724)](_0x459a60){const _0x28bae9=a0_0x1d1a99;let _0x27d3f7=null;try{if(!this['AutomateSystem']?.[_0x28bae9(0x335)][_0x28bae9(0x672)])throw new g(_0x28bae9(0x6c8));this[_0x28bae9(0x59d)]['verbose'](this[_0x28bae9(0x6ca)]+'\x20('+this[_0x28bae9(0x754)]['wuid']+'):\x20Iniciando\x20bot...');let _0xef9c91=(await this[_0x28bae9(0x2ab)]({'numbers':[_0x459a60['remoteJid']]}))[0x0];if(!_0xef9c91[_0x28bae9(0x339)]&&!(0x0,w['isJidGroup'])(_0xef9c91['jid'])&&!_0xef9c91[_0x28bae9(0x60a)][_0x28bae9(0x3c9)](_0x28bae9(0x72e)))throw _0x27d3f7=JSON[_0x28bae9(0x5b4)](_0xef9c91,null,0x2),new g(_0xef9c91);let _0x4db9cb=await I['findOne']({'owner':this[_0x28bae9(0x754)][_0x28bae9(0x370)],'name':_0x459a60[_0x28bae9(0x4ef)]});if(!_0x4db9cb)return this[_0x28bae9(0x59d)][_0x28bae9(0x790)](this[_0x28bae9(0x6ca)]+'\x20('+this[_0x28bae9(0x754)][_0x28bae9(0x370)]+'):\x20Flow\x20não\x20encontrado'),{'message':'Flow\x20não\x20encontrado'};let _0x3bd85d=await this[_0x28bae9(0x25d)](_0x4db9cb,_0xef9c91[_0x28bae9(0x60a)],_0x459a60[_0x28bae9(0x473)]);if(_0x3bd85d){this['logger']['verbose'](this[_0x28bae9(0x6ca)]+'\x20('+this['instance'][_0x28bae9(0x370)]+_0x28bae9(0x541));let _0x5f4fac=await this[_0x28bae9(0x75b)](_0x3bd85d);return _0x5f4fac&&await this[_0x28bae9(0x786)](_0x3bd85d,_0x5f4fac,_0x3bd85d[_0x28bae9(0x24b)]),{'message':_0x28bae9(0x784)+_0x459a60['remoteJid']};}}catch(_0x154f37){if(this[_0x28bae9(0x59d)]['error'](this[_0x28bae9(0x6ca)]+'\x20('+this[_0x28bae9(0x754)][_0x28bae9(0x370)]+_0x28bae9(0x1cd)+JSON[_0x28bae9(0x5b4)](_0x154f37,null,0x2)),_0x27d3f7=JSON[_0x28bae9(0x5b4)](_0x154f37,null,0x2),_0x27d3f7)throw new g(_0x28bae9(0x27d)+_0x27d3f7);}}async['closeExistingConversations'](_0x5a2101){const _0x322493=a0_0x1d1a99;let _0x29d49a=await j[_0x322493(0x497)]({'owner':this['instance'][_0x322493(0x370)],'remoteJid':_0x5a2101,'status':_0x322493(0x5d6)},{'$set':{'status':_0x322493(0x5bd)}});return this[_0x322493(0x59d)][_0x322493(0x2d2)](this[_0x322493(0x6ca)]+'\x20('+this['instance'][_0x322493(0x370)]+_0x322493(0x368)),_0x29d49a;}async[a0_0x1d1a99(0x25d)](_0x5c0300,_0x13d78a,_0x49241a){const _0x50062b=a0_0x1d1a99;this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x50062b(0x754)][_0x50062b(0x370)]+_0x50062b(0x20d)),await this[_0x50062b(0x751)](_0x13d78a);try{let _0x5d954e=require(_0x50062b(0x2ed))['ObjectId'],_0x20345f=Date['now'](),_0x5125cd=_0x50062b(0x1b9),_0x3f3eb3={},_0x5b63b2={},_0x11919e={..._0x5c0300[_0x50062b(0x363)],'chatLog':null},_0x746c57=await this[_0x50062b(0x1ee)](_0x11919e[_0x50062b(0x74a)]),_0x14ab95=await this['getVariablesChat'](_0x13d78a),_0xab7ccf={..._0x746c57,..._0x14ab95,'_remoteJid':_0x13d78a},_0x21b36f={'lastReceivedMessage':_0x3f3eb3,'lastSendMessage':_0x5b63b2,'lastBlockId':_0x5125cd,'lastCondition':!0x0,'realVariables':_0xab7ccf};_0x11919e[_0x50062b(0x597)]=_0x21b36f,_0x11919e['chatLog'][_0x50062b(0x69b)]={..._0xab7ccf,..._0x49241a},delete _0x11919e[_0x50062b(0x71a)],_0x11919e[_0x50062b(0x71a)]=new _0x5d954e(),_0x11919e[_0x50062b(0x5cb)]=_0x20345f,_0x11919e['status']=_0x50062b(0x5d6),_0x11919e[_0x50062b(0x24b)]=_0x13d78a;let _0x3f8153=await j[_0x50062b(0x52e)](_0x11919e);return this[_0x50062b(0x59d)][_0x50062b(0x2d2)](this['instanceName']+'\x20('+this[_0x50062b(0x754)][_0x50062b(0x370)]+_0x50062b(0x3fb)),_0x3f8153?_0x11919e:null;}catch(_0x541952){throw this[_0x50062b(0x59d)][_0x50062b(0x790)](this[_0x50062b(0x6ca)]+'\x20('+this['instance'][_0x50062b(0x370)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+_0x541952),new g(_0x541952[_0x50062b(0x444)]);}}async['getConversation'](_0x3e03d4){const _0x578f15=a0_0x1d1a99;try{return this[_0x578f15(0x59d)]['verbose'](this[_0x578f15(0x6ca)]+'\x20('+this[_0x578f15(0x754)][_0x578f15(0x370)]+'):\x20Buscando\x20conversa...'),this[_0x578f15(0x59d)][_0x578f15(0x2d2)](this['instanceName']+'\x20('+this[_0x578f15(0x754)][_0x578f15(0x370)]+'):\x20Query\x20params:'+{'owner':this[_0x578f15(0x754)]['wuid'],'_id':_0x3e03d4}),await j[_0x578f15(0x367)]({'owner':this[_0x578f15(0x754)]['wuid'],'_id':_0x3e03d4});}catch(_0x1a9316){throw this[_0x578f15(0x59d)]['error'](this['instanceName']+'\x20('+this[_0x578f15(0x754)][_0x578f15(0x370)]+'):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20'+_0x1a9316),new g(_0x578f15(0x67c)+_0x1a9316['message']);}}async['fetchConversation'](_0x5f3196,_0x1500cf=0x64){const _0x43199a=a0_0x1d1a99;try{this[_0x43199a(0x59d)][_0x43199a(0x2d2)](this[_0x43199a(0x6ca)]+'\x20('+this['instance'][_0x43199a(0x370)]+_0x43199a(0x311));let _0x1cceec={..._0x5f3196,'owner':this['instance'][_0x43199a(0x370)]};return this[_0x43199a(0x59d)][_0x43199a(0x2d2)](_0x1cceec),await j[_0x43199a(0x20b)](_0x1cceec)[_0x43199a(0x4ab)](_0x1500cf)[_0x43199a(0x3d8)]({'lastInteraction':-0x1});}catch(_0x3a00c6){throw this[_0x43199a(0x59d)][_0x43199a(0x790)](this[_0x43199a(0x6ca)]+'\x20('+this[_0x43199a(0x754)]['wuid']+_0x43199a(0x579)+_0x3a00c6),new g('Erro\x20ao\x20buscar\x20conversas:\x20'+_0x3a00c6[_0x43199a(0x444)]);}}async['deleteConversation'](_0x411257){const _0x2af1a5=a0_0x1d1a99;try{return this[_0x2af1a5(0x59d)]['verbose'](this[_0x2af1a5(0x6ca)]+'\x20('+this[_0x2af1a5(0x754)]['wuid']+'):\x20Deletando\x20conversa...'),this[_0x2af1a5(0x59d)][_0x2af1a5(0x2d2)](this[_0x2af1a5(0x6ca)]+'\x20('+this[_0x2af1a5(0x754)][_0x2af1a5(0x370)]+'):\x20Query\x20params:'+{'owner':this[_0x2af1a5(0x754)][_0x2af1a5(0x370)],'_id':_0x411257}),(await j[_0x2af1a5(0x247)]({'owner':this[_0x2af1a5(0x754)][_0x2af1a5(0x370)],'_id':_0x411257}))[_0x2af1a5(0x4fe)]===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x317894){throw this[_0x2af1a5(0x59d)][_0x2af1a5(0x790)](this[_0x2af1a5(0x6ca)]+'\x20('+this[_0x2af1a5(0x754)][_0x2af1a5(0x370)]+'):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20'+_0x317894),new g(_0x2af1a5(0x6e7)+_0x317894[_0x2af1a5(0x444)]);}}async['editConversation'](_0xe881ab){const _0x1e486f=a0_0x1d1a99;try{let {_id:_0x26ec43,chatLog:_0x12740d,status:_0x1909cb}=_0xe881ab;if(!_0x26ec43)return{'message':_0x1e486f(0x69c)};let _0x2ef674={};if(_0x1909cb!==void 0x0&&(_0x2ef674[_0x1e486f(0x1be)]=_0x1909cb),Object[_0x1e486f(0x57b)](_0x2ef674)[_0x1e486f(0x45d)]===0x0)return{'message':_0x1e486f(0x78f)};let _0x4b6020=this[_0x1e486f(0x754)][_0x1e486f(0x370)],_0x56926f=await j[_0x1e486f(0x3f4)]({'_id':_0x26ec43,'owner':_0x4b6020},{'$set':_0x2ef674},{'new':!0x0});return _0x56926f||{'message':_0x1e486f(0x3a9)};}catch(_0x5b887d){throw this[_0x1e486f(0x59d)][_0x1e486f(0x790)](this[_0x1e486f(0x6ca)]+'\x20('+this[_0x1e486f(0x754)]['wuid']+'):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20'+_0x5b887d),new g('Erro\x20ao\x20editar\x20a\x20conversa:\x20'+_0x5b887d[_0x1e486f(0x444)]);}}async[a0_0x1d1a99(0x60b)](_0xee6ea9){const _0xc7392d=a0_0x1d1a99;try{_0xee6ea9[_0xc7392d(0x71a)]=this[_0xc7392d(0x577)](_0xee6ea9[_0xc7392d(0x71a)]);let {_id:_0x156707,leadInfo:_0x50e711}=_0xee6ea9;if(!_0x156707)throw new Error(_0xc7392d(0x408));let _0x3bf850=(_0x31b761,_0x243b0c,_0x12ad6a)=>{_0x12ad6a['forEach'](_0x174162=>{const _0x289f08=a0_0x3b16;_0x31b761[_0x174162]!==void 0x0&&(_0x243b0c[_0x289f08(0x522)+_0x174162]=_0x31b761[_0x174162]);});},_0x2e665d={};if(_0x3bf850(_0x50e711,_0x2e665d,[_0xc7392d(0x4b9),_0xc7392d(0x254),_0xc7392d(0x22d),_0xc7392d(0x56d),'status',_0xc7392d(0x235),'tags','atendimentoAberto',_0xc7392d(0x604)]),Array[_0xc7392d(0x4bb)](_0x50e711[_0xc7392d(0x5b3)])&&(_0x2e665d[_0xc7392d(0x54c)]=_0x50e711['customFields'][_0xc7392d(0x5dc)](_0x156fcb=>({'_id':_0x156fcb['_id'],'value':_0x156fcb[_0xc7392d(0x519)]}))),_0xee6ea9[_0xc7392d(0x71d)]['desativadoFluxoAte']!==void 0x0&&(_0x2e665d['leadInfo.desativadoFluxoAte']=Number(_0xee6ea9[_0xc7392d(0x71d)][_0xc7392d(0x6b7)])),_0xee6ea9[_0xc7392d(0x65b)]!==void 0x0&&(_0x2e665d[_0xc7392d(0x65b)]=Number(_0xee6ea9['unreadcount'])),Object['keys'](_0x2e665d)[_0xc7392d(0x45d)]===0x0)throw new Error(_0xc7392d(0x78f));let _0x283600=this['instance'][_0xc7392d(0x370)];if(!_0x283600)throw new Error('Tanto\x20id\x20quanto\x20owner\x20são\x20necessários\x20para\x20criar\x20ou\x20editar\x20um\x20chat.');if(!await this[_0xc7392d(0x4b4)][_0xc7392d(0x54f)][_0xc7392d(0x367)]({'where':{'_id':_0xee6ea9['_id'],'owner':_0x283600}})){let _0x214022=(await this[_0xc7392d(0x2ab)]({'numbers':[_0xee6ea9['_id']]}))[0x0];if(!_0x214022[_0xc7392d(0x339)]&&!(0x0,w['isJidGroup'])(_0x214022[_0xc7392d(0x60a)])&&!_0x214022[_0xc7392d(0x60a)][_0xc7392d(0x3c9)](_0xc7392d(0x72e)))throw new g(_0x214022);_0xee6ea9['_id']=_0x214022[_0xc7392d(0x60a)];}let _0x3c95f2=await this[_0xc7392d(0x4b4)][_0xc7392d(0x54f)][_0xc7392d(0x4d9)]({'where':{'_id':_0xee6ea9['_id'],'owner':_0x283600}},_0x2e665d);return _0x3c95f2&&B(this[_0xc7392d(0x6ca)],_0xc7392d(0x6d3),{'chat':_0x3c95f2}),_0x3c95f2?(this['logger']['verbose'](this[_0xc7392d(0x6ca)]+'\x20('+this['instance'][_0xc7392d(0x370)]+_0xc7392d(0x535)+_0x3c95f2),_0x3c95f2):{'message':_0xc7392d(0x5e6)};}catch(_0x572b80){throw this[_0xc7392d(0x59d)]['error'](this['instanceName']+'\x20('+this['instance'][_0xc7392d(0x370)]+_0xc7392d(0x446)+_0x572b80),new g(_0xc7392d(0x5d0)+_0x572b80[_0xc7392d(0x444)]);}}async['updateAgent'](_0x139520){const _0x383fa8=a0_0x1d1a99;let _0x1e1887=this[_0x383fa8(0x754)][_0x383fa8(0x370)];try{let _0x12e5a8=await ae[_0x383fa8(0x434)](_0x1e1887);_0x12e5a8||(_0x12e5a8=new ae({'_id':_0x1e1887}),await _0x12e5a8[_0x383fa8(0x6d0)]());let _0x134a6b=_0x139520['_id']?_0x12e5a8[_0x383fa8(0x3b2)][_0x383fa8(0x6d2)](_0x31a296=>_0x31a296['_id']===_0x139520[_0x383fa8(0x71a)]):-0x1;if(_0x139520['delete']&&_0x134a6b>-0x1)_0x12e5a8[_0x383fa8(0x3b2)][_0x383fa8(0x764)](_0x134a6b,0x1);else{if(_0x134a6b>-0x1){let _0x58473e=_0x12e5a8[_0x383fa8(0x3b2)][_0x134a6b];_0x139520[_0x383fa8(0x301)]&&(_0x58473e[_0x383fa8(0x301)]=_0x139520['fone']),_0x139520[_0x383fa8(0x4ef)]&&(_0x58473e[_0x383fa8(0x4ef)]=_0x139520['name']),_0x139520[_0x383fa8(0x22d)]&&(_0x58473e[_0x383fa8(0x22d)]=_0x139520['email']),_0x139520['role']&&(_0x58473e[_0x383fa8(0x52f)]=_0x139520[_0x383fa8(0x52f)]);}else _0x12e5a8[_0x383fa8(0x3b2)][_0x383fa8(0x750)]({'_id':_0x139520[_0x383fa8(0x71a)]||new pe[(_0x383fa8(0x267))][(_0x383fa8(0x687))][(_0x383fa8(0x37c))]()[_0x383fa8(0x55b)](),'fone':_0x139520[_0x383fa8(0x301)],'name':_0x139520[_0x383fa8(0x4ef)],'email':_0x139520[_0x383fa8(0x22d)],'role':_0x139520[_0x383fa8(0x52f)]});}let _0x10c24c=await _0x12e5a8[_0x383fa8(0x6d0)]();return this[_0x383fa8(0x721)]=_0x10c24c,this[_0x383fa8(0x59d)][_0x383fa8(0x2d2)](this[_0x383fa8(0x6ca)]+'\x20('+this[_0x383fa8(0x754)]['wuid']+_0x383fa8(0x51a)),this['logger'][_0x383fa8(0x2d2)](this[_0x383fa8(0x6ca)]+'\x20('+this['instance']['wuid']+_0x383fa8(0x535)+this[_0x383fa8(0x721)]),_0x10c24c;}catch(_0x70ba34){throw this[_0x383fa8(0x59d)][_0x383fa8(0x790)](this['instanceName']+'\x20('+this['instance'][_0x383fa8(0x370)]+_0x383fa8(0x411)+_0x70ba34),new g(_0x383fa8(0x75e)+_0x70ba34[_0x383fa8(0x444)]);}}async['updateCustomFields'](_0x295cc7){const _0x56e133=a0_0x1d1a99;let _0x46bde7=this[_0x56e133(0x754)][_0x56e133(0x370)];try{let _0x4aaf3e=await ae[_0x56e133(0x434)](_0x46bde7);_0x4aaf3e||(_0x4aaf3e=new ae({'_id':_0x46bde7}),await _0x4aaf3e[_0x56e133(0x6d0)]());let _0x110e48=_0x295cc7[_0x56e133(0x71a)]?_0x4aaf3e[_0x56e133(0x5b3)][_0x56e133(0x6d2)](_0xacdfe9=>_0xacdfe9[_0x56e133(0x71a)]===_0x295cc7[_0x56e133(0x71a)]):-0x1,_0xd079e1=!0x1,_0x698724=_0x4aaf3e[_0x56e133(0x5b3)]['some'](_0xbf35ad=>_0xbf35ad[_0x56e133(0x2e8)]===_0x295cc7['order']);if(_0x295cc7['delete']&&_0x110e48>-0x1)_0x4aaf3e[_0x56e133(0x5b3)]['splice'](_0x110e48,0x1),_0xd079e1=!0x0;else{if(_0x110e48>-0x1){if(_0x4aaf3e[_0x56e133(0x5b3)][_0x56e133(0x589)](_0x5d4d17=>_0x5d4d17[_0x56e133(0x4ef)]===_0x295cc7['name']&&_0x5d4d17[_0x56e133(0x71a)]!==_0x295cc7['_id']))throw new Error(_0x56e133(0x378));let _0x21d12d=_0x4aaf3e[_0x56e133(0x5b3)][_0x110e48];_0x295cc7[_0x56e133(0x2e8)]&&(_0x698724||!Number[_0x56e133(0x6b0)](_0x295cc7[_0x56e133(0x2e8)]))&&(_0x21d12d[_0x56e133(0x2e8)]=_0x295cc7[_0x56e133(0x2e8)],_0xd079e1=!0x0),_0x295cc7['name']&&(_0x21d12d[_0x56e133(0x4ef)]=_0x295cc7['name']);}else{if(_0x4aaf3e[_0x56e133(0x5b3)][_0x56e133(0x589)](_0x1fed29=>_0x1fed29[_0x56e133(0x4ef)]===_0x295cc7[_0x56e133(0x4ef)]&&_0x1fed29[_0x56e133(0x71a)]!==_0x295cc7[_0x56e133(0x71a)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x4aaf3e[_0x56e133(0x5b3)][_0x56e133(0x750)]({'_id':_0x295cc7[_0x56e133(0x71a)]||new pe[(_0x56e133(0x267))][(_0x56e133(0x687))][(_0x56e133(0x37c))]()['toString'](),'order':_0x295cc7[_0x56e133(0x2e8)],'name':_0x295cc7['name']}),_0xd079e1=!0x0;}}if(_0xd079e1){_0x4aaf3e[_0x56e133(0x5b3)]['sort']((_0x2525cf,_0x5da87c)=>_0x2525cf[_0x56e133(0x2e8)]>_0x5da87c['order']?0x1:_0x5da87c[_0x56e133(0x2e8)]>_0x2525cf[_0x56e133(0x2e8)]?-0x1:0x0);for(let _0x375f89=0x0;_0x375f89<_0x4aaf3e[_0x56e133(0x5b3)]['length'];_0x375f89++)_0x4aaf3e[_0x56e133(0x5b3)][_0x375f89][_0x56e133(0x2e8)]=_0x375f89+0x1;}let _0x5216ce=await _0x4aaf3e[_0x56e133(0x6d0)]();return this[_0x56e133(0x721)]=_0x5216ce,this[_0x56e133(0x59d)][_0x56e133(0x2d2)](this['instanceName']+'\x20('+this[_0x56e133(0x754)][_0x56e133(0x370)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x56e133(0x59d)][_0x56e133(0x2d2)](this[_0x56e133(0x6ca)]+'\x20('+this['instance'][_0x56e133(0x370)]+_0x56e133(0x535)+this[_0x56e133(0x721)]),_0x5216ce;}catch(_0x142674){throw this[_0x56e133(0x59d)][_0x56e133(0x790)](this['instanceName']+'\x20('+this[_0x56e133(0x754)][_0x56e133(0x370)]+_0x56e133(0x57f)+_0x142674),new g(_0x56e133(0x550)+_0x142674['message']);}}async[a0_0x1d1a99(0x4b5)](_0x28b8ef){const _0x362b1c=a0_0x1d1a99;let _0x33b4d0=this[_0x362b1c(0x754)]['wuid'];try{let _0x489f6e=await ae[_0x362b1c(0x434)](_0x33b4d0);_0x489f6e||(_0x489f6e=new ae({'_id':_0x33b4d0}),await _0x489f6e[_0x362b1c(0x6d0)]()),_0x489f6e['flowConfig'][_0x362b1c(0x672)]=_0x28b8ef?.['enabled']!==void 0x0?_0x28b8ef?.[_0x362b1c(0x672)]:_0x489f6e['flowConfig']['enabled'],_0x489f6e['flowConfig'][_0x362b1c(0x3e4)]=_0x28b8ef?.[_0x362b1c(0x3e4)]!==void 0x0?_0x28b8ef?.['ignoreGroups']:_0x489f6e[_0x362b1c(0x335)][_0x362b1c(0x3e4)],_0x489f6e[_0x362b1c(0x335)][_0x362b1c(0x688)]=_0x28b8ef?.[_0x362b1c(0x688)]??_0x489f6e[_0x362b1c(0x335)][_0x362b1c(0x688)],_0x489f6e[_0x362b1c(0x335)][_0x362b1c(0x75d)]=_0x28b8ef?.['stopConversation']??_0x489f6e[_0x362b1c(0x335)]['stopConversation'],_0x489f6e[_0x362b1c(0x335)][_0x362b1c(0x767)]=_0x28b8ef?.[_0x362b1c(0x767)]??_0x489f6e[_0x362b1c(0x335)][_0x362b1c(0x767)];let _0x376625=await _0x489f6e[_0x362b1c(0x6d0)]();return this['AutomateSystem']=_0x376625,this['logger'][_0x362b1c(0x2d2)](this[_0x362b1c(0x6ca)]+'\x20('+this[_0x362b1c(0x754)][_0x362b1c(0x370)]+'):\x20alterando\x20this.AutomateSystem'),this['logger'][_0x362b1c(0x2d2)](this[_0x362b1c(0x6ca)]+'\x20('+this[_0x362b1c(0x754)]['wuid']+_0x362b1c(0x535)+this[_0x362b1c(0x721)]),setTimeout(()=>this[_0x362b1c(0x6e1)](),0x7d0),_0x376625;}catch(_0x5172fe){throw this[_0x362b1c(0x59d)]['error'](this[_0x362b1c(0x6ca)]+'\x20('+this[_0x362b1c(0x754)][_0x362b1c(0x370)]+_0x362b1c(0x411)+_0x5172fe),new g(_0x362b1c(0x75e)+_0x5172fe[_0x362b1c(0x444)]);}}async[a0_0x1d1a99(0x45a)](){const _0x15ac52=a0_0x1d1a99;let _0x2bc0a7=this['instance'][_0x15ac52(0x370)];try{let _0x318bf5=await ae[_0x15ac52(0x434)](_0x2bc0a7);return _0x318bf5||(_0x318bf5=new ae({'_id':_0x2bc0a7})),_0x318bf5[_0x15ac52(0x335)]=_0x318bf5[_0x15ac52(0x335)]||{},_0x318bf5[_0x15ac52(0x335)]['enabled']===void 0x0&&(_0x318bf5[_0x15ac52(0x335)][_0x15ac52(0x672)]=!0x1),_0x318bf5[_0x15ac52(0x335)][_0x15ac52(0x3e4)]===void 0x0&&(_0x318bf5[_0x15ac52(0x335)][_0x15ac52(0x3e4)]=!0x0),_0x318bf5[_0x15ac52(0x335)]['prefixCommand']===void 0x0&&(_0x318bf5[_0x15ac52(0x335)][_0x15ac52(0x688)]='!'),_0x318bf5[_0x15ac52(0x335)][_0x15ac52(0x75d)]===void 0x0&&(_0x318bf5[_0x15ac52(0x335)]['stopConversation']='!stop'),_0x318bf5[_0x15ac52(0x335)]['stopMinutes']===void 0x0&&(_0x318bf5[_0x15ac52(0x335)][_0x15ac52(0x767)]=0x14),await _0x318bf5['save'](),this[_0x15ac52(0x721)]=_0x318bf5,this[_0x15ac52(0x59d)][_0x15ac52(0x2d2)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x15ac52(0x65d)),this[_0x15ac52(0x59d)][_0x15ac52(0x2d2)](this[_0x15ac52(0x721)]),_0x318bf5;}catch(_0x4df1da){throw this['logger'][_0x15ac52(0x790)](this['instanceName']+'\x20('+this['instance'][_0x15ac52(0x370)]+_0x15ac52(0x2a4)+_0x4df1da[_0x15ac52(0x444)]),new g(_0x15ac52(0x681)+_0x4df1da[_0x15ac52(0x444)]);}}async[a0_0x1d1a99(0x50b)](){const _0xc16468=a0_0x1d1a99;this[_0xc16468(0x530)]&&clearTimeout(this[_0xc16468(0x530)]),this['timerId']=setTimeout(()=>{const _0x2ca9ee=_0xc16468;this[_0x2ca9ee(0x236)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x1d1a99(0x236)](){const _0x9a68ea=a0_0x1d1a99;Date['now']()-this[_0x9a68ea(0x5f3)]>=0x1d4c0&&(this[_0x9a68ea(0x59d)][_0x9a68ea(0x2d2)](this['instanceName']+'\x20('+this[_0x9a68ea(0x754)][_0x9a68ea(0x370)]+_0x9a68ea(0x313)),this['processingScheduleMessageId']=null,this[_0x9a68ea(0x5f3)]=0x0,this['delayMessage']=0x0,await this[_0x9a68ea(0x6e1)]());}async[a0_0x1d1a99(0x6e1)](){const _0x1f093c=a0_0x1d1a99;let _0x470695=()=>{const _0x38657b=a0_0x3b16;this['logger'][_0x38657b(0x2d2)](this[_0x38657b(0x6ca)]+'\x20('+this[_0x38657b(0x754)][_0x38657b(0x370)]+_0x38657b(0x635)+this[_0x38657b(0x354)]+_0x38657b(0x359));},_0x63b019=async()=>{const _0x58ef24=a0_0x3b16;this[_0x58ef24(0x59d)][_0x58ef24(0x2d2)](this['instanceName']+'\x20('+this[_0x58ef24(0x754)][_0x58ef24(0x370)]+_0x58ef24(0x6fb));let _0x502771=Date[_0x58ef24(0x5f0)]()-0xc*0x3c*0x3c*0x3e8;return await L[_0x58ef24(0x20b)]({'owner':this['instance'][_0x58ef24(0x370)],'status':{'$in':[_0x58ef24(0x27a),_0x58ef24(0x50e)]},'$or':[{'when':{'$lte':Date[_0x58ef24(0x5f0)](),'$gte':_0x502771}},{'when':0x0}]});},_0x48a154=async _0x4f2110=>{const _0x202df6=a0_0x3b16;for(let _0x1a5aff of _0x4f2110){if(!await L[_0x202df6(0x3f4)]({'_id':_0x1a5aff[_0x202df6(0x71a)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-0x1770}}]},{'$set':{'startSend':Date['now']()}}))return;if(!this[_0x202df6(0x2e4)]){this[_0x202df6(0x59d)][_0x202df6(0x2d2)](this[_0x202df6(0x6ca)]+'\x20('+this[_0x202df6(0x754)][_0x202df6(0x370)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}if(_0x1a5aff['type']===_0x202df6(0x24f)&&!this[_0x202df6(0x721)]?.['flowConfig'][_0x202df6(0x672)]){this[_0x202df6(0x59d)][_0x202df6(0x790)](this['instanceName']+'\x20('+this[_0x202df6(0x754)][_0x202df6(0x370)]+_0x202df6(0x711));continue;}(!_0x1a5aff[_0x202df6(0x5a2)]||_0x1a5aff[_0x202df6(0x5a2)][_0x202df6(0x45d)]===0x0)&&(_0x1a5aff=await L[_0x202df6(0x1c4)](_0x1a5aff[_0x202df6(0x71a)],{'$set':{'status':'sending','remoteJidsRemaining':[..._0x1a5aff[_0x202df6(0x6f8)]]}},{'new':!0x0}));for(let _0x2ac750 of _0x1a5aff['remoteJidsRemaining']){if(await this[_0x202df6(0x50b)](),this[_0x202df6(0x5f3)]=Date[_0x202df6(0x5f0)](),_0x1a5aff[_0x202df6(0x6b9)][_0x202df6(0x589)](_0x88eb21=>_0x88eb21[_0x202df6(0x24b)]===_0x2ac750)){this['logger'][_0x202df6(0x2d2)](this[_0x202df6(0x6ca)]+'\x20('+this[_0x202df6(0x754)][_0x202df6(0x370)]+_0x202df6(0x4fd)+_0x2ac750+_0x202df6(0x2d9));continue;}if(!this[_0x202df6(0x2e4)]){this['logger'][_0x202df6(0x2d2)](this[_0x202df6(0x6ca)]+'\x20('+this[_0x202df6(0x754)][_0x202df6(0x370)]+_0x202df6(0x4e9));break;}if(!this[_0x202df6(0x354)]){this[_0x202df6(0x59d)][_0x202df6(0x2d2)](this[_0x202df6(0x6ca)]+'\x20('+this[_0x202df6(0x754)][_0x202df6(0x370)]+_0x202df6(0x270)+_0x1a5aff[_0x202df6(0x71a)]+_0x202df6(0x3bc));break;}if(_0x1a5aff[_0x202df6(0x40a)]==='flow'&&!this[_0x202df6(0x721)]?.[_0x202df6(0x335)][_0x202df6(0x672)]){this[_0x202df6(0x59d)]['error'](this[_0x202df6(0x6ca)]+'\x20('+this['instance']['wuid']+_0x202df6(0x711));break;}try{let _0x4da1e2=await this[_0x202df6(0x5df)](_0x2ac750,_0x1a5aff),_0x20abb3=_0x4da1e2['error']===!0x0,_0x5b975e={'remoteJid':_0x2ac750,'error':_0x20abb3,'id':_0x20abb3?null:_0x4da1e2['id'],'error_log':_0x20abb3?_0x4da1e2[_0x202df6(0x4cd)]?_0x4da1e2[_0x202df6(0x4cd)][_0x202df6(0x55b)]():'':null,'log_timestamp':Date[_0x202df6(0x5f0)]()};if((await L[_0x202df6(0x1c4)](_0x1a5aff['_id'],{'$push':{'messagesSend':_0x5b975e},'$pull':{'remoteJidsRemaining':_0x2ac750}},{'new':!0x0}))[_0x202df6(0x1be)]===_0x202df6(0x314)){this['logger'][_0x202df6(0x2d2)](this[_0x202df6(0x6ca)]+'\x20('+this[_0x202df6(0x754)][_0x202df6(0x370)]+_0x202df6(0x270)+_0x1a5aff[_0x202df6(0x71a)]+_0x202df6(0x683));break;}if(_0x20abb3)continue;let _0x5cd250=this['getDelay'](_0x1a5aff['delaySecMin'],_0x1a5aff['delaySecMax']);await this[_0x202df6(0x546)](_0x5cd250);}catch(_0x2d525a){this['logger'][_0x202df6(0x790)](this[_0x202df6(0x6ca)]+'\x20('+this['instance'][_0x202df6(0x370)]+_0x202df6(0x244)+_0x2ac750+':\x20'+_0x2d525a['message']);let _0x3884ab={'remoteJid':_0x2ac750,'error':!0x0,'id':null,'error_log':_0x2d525a[_0x202df6(0x444)],'log_timestamp':Date[_0x202df6(0x5f0)]()};await L[_0x202df6(0x1c4)](_0x1a5aff['_id'],{'$push':{'messagesSend':_0x3884ab},'$pull':{'remoteJidsRemaining':_0x2ac750}},{'new':!0x0});}}let _0x21958a=await L[_0x202df6(0x434)](_0x1a5aff[_0x202df6(0x71a)]);_0x21958a['remoteJidsRemaining'][_0x202df6(0x45d)]===0x0&&_0x21958a[_0x202df6(0x1be)]!==_0x202df6(0x314)&&await L[_0x202df6(0x1c4)](_0x1a5aff[_0x202df6(0x71a)],{'$set':{'status':_0x202df6(0x652)}},{'new':!0x0}),await new Promise(_0x1f4bfd=>setTimeout(_0x1f4bfd,0x1388));}},_0x405ccc=async()=>{const _0x481264=a0_0x3b16;let _0x5f5293=await L[_0x481264(0x367)]({'owner':this['instance']['wuid'],'status':_0x481264(0x27a),'when':{'$gt':Date[_0x481264(0x5f0)]()}})[_0x481264(0x3d8)]({'when':0x1});_0x5f5293&&_0x5f5293['when']-Date[_0x481264(0x5f0)]()<=0x5265c00?this[_0x481264(0x669)]=_0x5f5293[_0x481264(0x2ef)]-Date[_0x481264(0x5f0)]():this[_0x481264(0x669)]=(0x3c+Math['floor'](Math[_0x481264(0x231)]()*0x3c))*0x3c*0x3e8,this[_0x481264(0x669)]=Math[_0x481264(0x568)](this[_0x481264(0x669)],0x7d0);let _0x30b2ab=Math[_0x481264(0x792)](this[_0x481264(0x669)]/0xea60);if(_0x5f5293){let _0x465f62=new Date(_0x5f5293[_0x481264(0x2ef)])[_0x481264(0x2e3)]();this[_0x481264(0x59d)]['verbose'](this[_0x481264(0x6ca)]+'\x20('+this[_0x481264(0x754)]['wuid']+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x465f62+_0x481264(0x565)+_0x30b2ab+'\x20minutos');}else this['logger'][_0x481264(0x2d2)](this[_0x481264(0x6ca)]+'\x20('+this[_0x481264(0x754)][_0x481264(0x370)]+_0x481264(0x36d)+_0x30b2ab+_0x481264(0x5ea));setTimeout(()=>this[_0x481264(0x6e1)](),this['delayMessage']);};if(this[_0x1f093c(0x354)]){await this[_0x1f093c(0x50b)](),_0x470695();return;}if(!this['isConnected']){this[_0x1f093c(0x59d)][_0x1f093c(0x2d2)](this[_0x1f093c(0x6ca)]+'\x20('+this[_0x1f093c(0x754)]['wuid']+'):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado'),this[_0x1f093c(0x354)]=null,this[_0x1f093c(0x5f3)]=0x0,this[_0x1f093c(0x669)]=0x0;return;}try{let _0x5eaf90=await _0x63b019();_0x5eaf90[_0x1f093c(0x45d)]===0x0?this['logger'][_0x1f093c(0x2d2)](this['instanceName']+'\x20('+this[_0x1f093c(0x754)][_0x1f093c(0x370)]+_0x1f093c(0x38c)):(this[_0x1f093c(0x354)]=_0x5eaf90[0x0][_0x1f093c(0x71a)],await _0x48a154(_0x5eaf90)),await _0x405ccc(),this['processingScheduleMessageId']=null;}catch(_0xd1cd79){this[_0x1f093c(0x59d)]['error'](_0x1f093c(0x413)+_0xd1cd79[_0x1f093c(0x444)]);}}[a0_0x1d1a99(0x24e)](_0x36deb2,_0x53432c){const _0x272e52=a0_0x1d1a99;return _0x36deb2=Math[_0x272e52(0x568)](0.5,_0x36deb2),_0x53432c=Math[_0x272e52(0x568)](0x3,_0x53432c),Math[_0x272e52(0x345)](Math[_0x272e52(0x231)]()*(_0x53432c-_0x36deb2+0x1)+_0x36deb2)*0x3e8;}[a0_0x1d1a99(0x546)](_0x463ebc){return new Promise(_0x207646=>setTimeout(_0x207646,_0x463ebc));}async[a0_0x1d1a99(0x3b0)](_0x42695e){const _0x21d4ea=a0_0x1d1a99;if(!this[_0x21d4ea(0x721)]&&(await this['getAutomateSystem'](),!this[_0x21d4ea(0x721)]))return null;_0x42695e=this[_0x21d4ea(0x577)](_0x42695e);let _0xf7c6bb=await this['repository']['chat'][_0x21d4ea(0x367)]({'where':{'_id':_0x42695e,'owner':this[_0x21d4ea(0x754)][_0x21d4ea(0x370)]}}),_0x4a09f9={};if(_0xf7c6bb&&_0xf7c6bb['leadInfo']){let _0x3eda3e=_0xf7c6bb[_0x21d4ea(0x71d)];typeof _0x3eda3e['nome']=='string'&&(_0x4a09f9['nome']=_0x3eda3e[_0x21d4ea(0x4b9)]),typeof _0x3eda3e[_0x21d4ea(0x254)]==_0x21d4ea(0x245)&&(_0x4a09f9['nomecompleto']=_0x3eda3e[_0x21d4ea(0x254)]),typeof _0x3eda3e[_0x21d4ea(0x22d)]==_0x21d4ea(0x245)&&(_0x4a09f9[_0x21d4ea(0x22d)]=_0x3eda3e[_0x21d4ea(0x22d)]),typeof _0x3eda3e['cpf']=='string'&&(_0x4a09f9[_0x21d4ea(0x56d)]=_0x3eda3e[_0x21d4ea(0x56d)]),typeof _0x3eda3e[_0x21d4ea(0x1be)]=='string'&&(_0x4a09f9[_0x21d4ea(0x1be)]=_0x3eda3e[_0x21d4ea(0x1be)]),typeof _0x3eda3e['notas']==_0x21d4ea(0x245)&&(_0x4a09f9[_0x21d4ea(0x235)]=_0x3eda3e[_0x21d4ea(0x235)]),typeof _0x3eda3e[_0x21d4ea(0x604)]==_0x21d4ea(0x245)&&(_0x4a09f9[_0x21d4ea(0x604)]=_0x3eda3e[_0x21d4ea(0x604)]),Array[_0x21d4ea(0x4bb)](_0x3eda3e['tags'])&&(_0x4a09f9[_0x21d4ea(0x607)]=_0x3eda3e['tags'][_0x21d4ea(0x403)](',\x20'));}return _0xf7c6bb&&_0xf7c6bb[_0x21d4ea(0x71d)]&&_0xf7c6bb[_0x21d4ea(0x71d)][_0x21d4ea(0x5b3)]&&_0xf7c6bb[_0x21d4ea(0x71d)][_0x21d4ea(0x5b3)][_0x21d4ea(0x6e3)](_0x3bf43f=>{const _0x18c757=_0x21d4ea;let _0x2d910f=this[_0x18c757(0x721)]?.[_0x18c757(0x5b3)][_0x18c757(0x20b)](_0x1a459b=>_0x1a459b[_0x18c757(0x71a)]===_0x3bf43f[_0x18c757(0x71a)]);_0x2d910f&&(_0x4a09f9[_0x2d910f['name']]=_0x3bf43f['value']);}),_0x4a09f9;}async['replaceVariablesChat'](_0x35eb6c,_0x542376){const _0x220e5e=a0_0x1d1a99;let _0x1d0402=await this[_0x220e5e(0x3b0)](_0x542376);return this[_0x220e5e(0x779)](_0x35eb6c,_0x1d0402);}async[a0_0x1d1a99(0x28b)](_0x5b5567){const _0x1511ee=a0_0x1d1a99;try{if(this[_0x1511ee(0x59d)]['verbose'](this['instanceName']+'\x20('+this[_0x1511ee(0x754)][_0x1511ee(0x370)]+_0x1511ee(0x575)),_0x5b5567[_0x1511ee(0x249)]&&_0x5b5567['_id']){if(this[_0x1511ee(0x354)]===_0x5b5567[_0x1511ee(0x71a)][_0x1511ee(0x55b)]())throw new Error('Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar');let _0xbc3519=await L[_0x1511ee(0x2ca)](_0x5b5567['_id']);return setTimeout(()=>this[_0x1511ee(0x6e1)](),0x7d0),_0xbc3519;}let _0x3ace12;if(_0x5b5567[_0x1511ee(0x71a)]&&(_0x3ace12=await L[_0x1511ee(0x367)]({'owner':this[_0x1511ee(0x754)][_0x1511ee(0x370)],'_id':_0x5b5567['_id']})),_0x3ace12){let _0x5f8984=_0x5b5567;this[_0x1511ee(0x354)]===_0x3ace12[_0x1511ee(0x71a)][_0x1511ee(0x55b)]()&&(_0x5f8984={'status':_0x5b5567['status'],'_id':_0x5b5567[_0x1511ee(0x71a)]});let _0x194845=await L[_0x1511ee(0x1c4)](_0x3ace12['_id'],{'$set':_0x5f8984},{'new':!0x0});return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x194845;}else{_0x5b5567[_0x1511ee(0x70b)]=this['instance'][_0x1511ee(0x370)];let _0xed6d9b=await new L(_0x5b5567)[_0x1511ee(0x6d0)]();return setTimeout(()=>this[_0x1511ee(0x6e1)](),0x7d0),_0xed6d9b;}}catch(_0x5a4373){throw this[_0x1511ee(0x59d)]['error'](this['instanceName']+'\x20('+this[_0x1511ee(0x754)][_0x1511ee(0x370)]+_0x1511ee(0x752)+_0x5a4373),new g(_0x1511ee(0x649)+_0x5a4373[_0x1511ee(0x444)]);}}async[a0_0x1d1a99(0x459)](){const _0x163234=a0_0x1d1a99;try{return await L['find']({'owner':this[_0x163234(0x754)]['wuid']})[_0x163234(0x3d8)]({'when':0x1});}catch(_0x129c58){throw this['logger'][_0x163234(0x790)](this['instanceName']+'\x20('+this[_0x163234(0x754)]['wuid']+_0x163234(0x6b3)+_0x129c58),new g(_0x163234(0x649)+_0x129c58[_0x163234(0x444)]);}}async[a0_0x1d1a99(0x1fe)](){const _0x7fa198=a0_0x1d1a99;try{return await L[_0x7fa198(0x478)]({'owner':this[_0x7fa198(0x754)]['wuid'],'status':_0x7fa198(0x652)}),this[_0x7fa198(0x59d)][_0x7fa198(0x2d2)](this[_0x7fa198(0x6ca)]+'\x20('+this[_0x7fa198(0x754)][_0x7fa198(0x370)]+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.'),this['getScheduleMessage']();}catch(_0x379ff9){throw this[_0x7fa198(0x59d)][_0x7fa198(0x790)](this['instanceName']+'\x20('+this['instance'][_0x7fa198(0x370)]+_0x7fa198(0x1f3)+_0x379ff9),new g(_0x7fa198(0x649)+_0x379ff9[_0x7fa198(0x444)]);}}async[a0_0x1d1a99(0x5df)](_0x5efe69,_0x54781e){const _0x576041=a0_0x1d1a99;try{if(_0x54781e[_0x576041(0x40a)]===_0x576041(0x24f)&&!this[_0x576041(0x721)]?.[_0x576041(0x335)]['enabled'])return this['logger'][_0x576041(0x790)](this[_0x576041(0x6ca)]+'\x20('+this[_0x576041(0x754)]['wuid']+_0x576041(0x406)),{'error':!0x0,'detail':_0x576041(0x6c8)};switch(_0x54781e[_0x576041(0x40a)]){case _0x576041(0x643):return await this[_0x576041(0x420)](_0x54781e,_0x5efe69);case _0x576041(0x316):return await this[_0x576041(0x68d)](_0x54781e,_0x5efe69);case _0x576041(0x512):return await this[_0x576041(0x586)](_0x54781e,_0x5efe69);case _0x576041(0x24f):let _0x16b5ea=new Pe();return _0x16b5ea[_0x576041(0x4ef)]=_0x54781e[_0x576041(0x56a)],_0x16b5ea['remoteJid']=_0x5efe69,await this['startFlow'](_0x16b5ea);break;default:return this[_0x576041(0x59d)][_0x576041(0x790)](this[_0x576041(0x6ca)]+'\x20('+this[_0x576041(0x754)][_0x576041(0x370)]+_0x576041(0x4a6)+_0x54781e[_0x576041(0x40a)]),{'error':!0x0,'detail':_0x576041(0x3de)};}}catch(_0x39bbe9){return this[_0x576041(0x59d)]['error'](this[_0x576041(0x6ca)]+'\x20('+this[_0x576041(0x754)]['wuid']+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+JSON[_0x576041(0x5b4)](_0x39bbe9,null,0x2)),{'error':!0x0,'detail':_0x39bbe9['message']};}}[a0_0x1d1a99(0x240)](_0x2b1e4d){const _0x3b3f0b=a0_0x1d1a99;let _0x52cab0=_0x2b1e4d[_0x3b3f0b(0x447)]('|'),_0xffd77d=Math[_0x3b3f0b(0x345)](Math[_0x3b3f0b(0x231)]()*_0x52cab0[_0x3b3f0b(0x45d)]);return _0x52cab0[_0xffd77d][_0x3b3f0b(0x620)]();}async[a0_0x1d1a99(0x420)](_0x1eae69,_0xb8fd9a){const _0x3a36a6=a0_0x1d1a99;if(this[_0x3a36a6(0x59d)][_0x3a36a6(0x2d2)](this[_0x3a36a6(0x6ca)]+'\x20('+this['instance'][_0x3a36a6(0x370)]+_0x3a36a6(0x756)),!_0x1eae69['message'][_0x3a36a6(0x643)]||_0x1eae69[_0x3a36a6(0x444)]['text'][_0x3a36a6(0x45d)]===0x0)return{'error':!0x0,'detail':_0x3a36a6(0x238)};let _0x27bc79=this[_0x3a36a6(0x240)](_0x1eae69['message']['text']),_0x51db00=await this[_0x3a36a6(0x71f)](_0x27bc79,_0xb8fd9a),_0x421726={'number':_0xb8fd9a,'options':{'delay':_0x1eae69[_0x3a36a6(0x444)][_0x3a36a6(0x6ed)]},'textMessage':{'text':_0x51db00}},_0x5434b4=null;try{let _0x1bc3e4=await this[_0x3a36a6(0x218)](_0x421726);if(_0x1bc3e4&&_0x1bc3e4[_0x3a36a6(0x1be)])return{'error':!0x1,'id':_0x1bc3e4[_0x3a36a6(0x3eb)]['id']};_0x5434b4=JSON[_0x3a36a6(0x5b4)](_0x1bc3e4),this['logger'][_0x3a36a6(0x2d2)](this[_0x3a36a6(0x6ca)]+'\x20('+this[_0x3a36a6(0x754)][_0x3a36a6(0x370)]+'):\x20'+_0x5434b4);}catch(_0x37dd92){this[_0x3a36a6(0x59d)][_0x3a36a6(0x790)](this[_0x3a36a6(0x6ca)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+JSON[_0x3a36a6(0x5b4)](_0x37dd92,null,0x2)),_0x5434b4=_0x37dd92[_0x3a36a6(0x444)];}if(_0x5434b4)return{'error':!0x0,'detail':(typeof _0x5434b4==_0x3a36a6(0x498)?JSON[_0x3a36a6(0x5b4)](_0x5434b4,null,0x2):_0x5434b4)['replace'](/[\[\]{}\n]/g,'\x20')[_0x3a36a6(0x5d9)](/  +/g,'\x20')};}async[a0_0x1d1a99(0x68d)](_0x4e8195,_0x27f934){const _0x2be27c=a0_0x1d1a99;this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2be27c(0x754)][_0x2be27c(0x370)]+_0x2be27c(0x2e2));let _0x18668c;if(_0x4e8195[_0x2be27c(0x444)][_0x2be27c(0x643)]&&_0x4e8195[_0x2be27c(0x444)][_0x2be27c(0x643)][_0x2be27c(0x45d)]>0x0){let _0x5743e5=this[_0x2be27c(0x240)](_0x4e8195[_0x2be27c(0x444)][_0x2be27c(0x643)]);_0x18668c=await this[_0x2be27c(0x71f)](_0x5743e5,_0x27f934);}let _0x147a14={'number':_0x27f934,'options':{'delay':_0x4e8195[_0x2be27c(0x444)][_0x2be27c(0x6ed)]},'mediaMessage':{'mediatype':_0x4e8195[_0x2be27c(0x444)]['mediatype'],'caption':_0x18668c,'media':_0x4e8195[_0x2be27c(0x444)][_0x2be27c(0x289)]}},_0x48dbb8=null;try{let _0x3b6d03=await this[_0x2be27c(0x746)](_0x147a14);if(_0x3b6d03&&_0x3b6d03['status'])return{'error':!0x1,'id':_0x3b6d03['key']['id']};_0x48dbb8=JSON[_0x2be27c(0x5b4)](_0x3b6d03),this[_0x2be27c(0x59d)]['verbose'](this[_0x2be27c(0x6ca)]+'\x20('+this['instance'][_0x2be27c(0x370)]+_0x2be27c(0x535)+_0x48dbb8);}catch(_0x358823){this['logger'][_0x2be27c(0x790)](this[_0x2be27c(0x6ca)]+'\x20('+this['instance'][_0x2be27c(0x370)]+_0x2be27c(0x490)+JSON[_0x2be27c(0x5b4)](_0x358823,null,0x2)),_0x48dbb8=_0x358823['message'];}if(_0x48dbb8)return{'error':!0x0,'detail':(typeof _0x48dbb8==_0x2be27c(0x498)?JSON[_0x2be27c(0x5b4)](_0x48dbb8,null,0x2):_0x48dbb8)[_0x2be27c(0x5d9)](/[\[\]{}\n]/g,'\x20')[_0x2be27c(0x5d9)](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x9adcbc,_0x24d642){const _0x3928f5=a0_0x1d1a99;this[_0x3928f5(0x59d)]['verbose'](this[_0x3928f5(0x6ca)]+'\x20('+this[_0x3928f5(0x754)]['wuid']+_0x3928f5(0x507));let _0x1bad83={'number':_0x24d642,'options':{'delay':_0x9adcbc[_0x3928f5(0x444)][_0x3928f5(0x6ed)]},'audioMessage':{'audio':_0x9adcbc[_0x3928f5(0x444)][_0x3928f5(0x289)]}},_0x4de6d1=null;try{let _0x2f571a=await this[_0x3928f5(0x70c)](_0x1bad83);if(_0x2f571a&&_0x2f571a[_0x3928f5(0x1be)])return{'error':!0x1,'id':_0x2f571a[_0x3928f5(0x3eb)]['id']};_0x4de6d1=JSON[_0x3928f5(0x5b4)](_0x2f571a),this[_0x3928f5(0x59d)][_0x3928f5(0x2d2)](this[_0x3928f5(0x6ca)]+'\x20('+this[_0x3928f5(0x754)]['wuid']+_0x3928f5(0x535)+_0x4de6d1);}catch(_0x5c0144){this['logger'][_0x3928f5(0x790)](this[_0x3928f5(0x6ca)]+'\x20('+this['instance'][_0x3928f5(0x370)]+_0x3928f5(0x6df)+JSON[_0x3928f5(0x5b4)](_0x5c0144,null,0x2)),_0x4de6d1=_0x5c0144[_0x3928f5(0x444)];}if(_0x4de6d1)return{'error':!0x0,'detail':(typeof _0x4de6d1=='object'?JSON[_0x3928f5(0x5b4)](_0x4de6d1,null,0x2):_0x4de6d1)[_0x3928f5(0x5d9)](/[\[\]{}\n]/g,'\x20')[_0x3928f5(0x5d9)](/  +/g,'\x20')};}},be=require('path'),_t=class c{constructor(_0x55224e,_0x421b32,_0x1024c1){const _0xef8368=a0_0x1d1a99;this[_0xef8368(0x595)]=_0x55224e,this[_0xef8368(0x749)]=_0x421b32,this['repository']=_0x1024c1,this['db']={},this[_0xef8368(0x61a)]={},this[_0xef8368(0x59d)]=new N(c[_0xef8368(0x4ef)]),this['waInstances']={},(this[_0xef8368(0x4df)](),this[_0xef8368(0x53f)](),this['delInstanceFiles'](),Object['assign'](this['db'],_0x421b32[_0xef8368(0x278)](_0xef8368(0x556))),Object['assign'](this[_0xef8368(0x61a)],_0x421b32['get'](_0xef8368(0x2ae))),this[_0xef8368(0x3e9)]=this['db'][_0xef8368(0x1ec)]?this[_0xef8368(0x4b4)][_0xef8368(0x343)]?.['db'](this['db'][_0xef8368(0x53d)][_0xef8368(0x440)]+_0xef8368(0x353)):void 0x0,this['redisCache']=this['redis'][_0xef8368(0x1ec)]?new ne(this[_0xef8368(0x61a)]):void 0x0);}[a0_0x1d1a99(0x47c)](_0x5c048c){const _0xa844e7=a0_0x1d1a99;let _0x5c2459=this[_0xa844e7(0x749)][_0xa844e7(0x278)]('DEL_INSTANCE');typeof _0x5c2459==_0xa844e7(0x2ba)&&_0x5c2459>0x0&&setTimeout(()=>{const _0x2ca217=_0xa844e7;this[_0x2ca217(0x2b1)][_0x5c048c]?.[_0x2ca217(0x60d)]?.[_0x2ca217(0x342)]!==_0x2ca217(0x5d6)&&delete this[_0x2ca217(0x2b1)][_0x5c048c];},0x3e8*0x3c*_0x5c2459);}async[a0_0x1d1a99(0x4c1)](_0x2d95e4){const _0x586b64=a0_0x1d1a99;if(_0x2d95e4&&!this[_0x586b64(0x2b1)][_0x2d95e4])throw new x('Instance\x20\x22'+_0x2d95e4+'\x22\x20not\x20found');let _0xd191d=[];for await(let [_0x34a868,_0x5e12f7]of Object[_0x586b64(0x3c5)](this[_0x586b64(0x2b1)]))if(_0x5e12f7&&_0x5e12f7[_0x586b64(0x60d)][_0x586b64(0x342)]===_0x586b64(0x5d6)){let _0x3f30d5=await this[_0x586b64(0x4b4)][_0x586b64(0x437)]['find'](_0x34a868);_0xd191d[_0x586b64(0x750)]({'instance':{'instanceName':_0x34a868,'apikey':_0x3f30d5[_0x586b64(0x38e)],'owner':_0x5e12f7[_0x586b64(0x370)],'profileName':await _0x5e12f7[_0x586b64(0x4ee)]()||_0x586b64(0x6d5),'profilePictureUrl':_0x5e12f7[_0x586b64(0x6ef)]}});}return _0xd191d[_0x586b64(0x20b)](_0x4a89a3=>_0x4a89a3[_0x586b64(0x754)][_0x586b64(0x6ca)]===_0x2d95e4)??_0xd191d;}[a0_0x1d1a99(0x4f1)](){setInterval(async()=>{const _0x25b1fb=a0_0x3b16;if(this['db'][_0x25b1fb(0x1ec)])(await this[_0x25b1fb(0x3e9)][_0x25b1fb(0x1c8)]())[_0x25b1fb(0x6e3)](async _0x51767e=>{const _0x2c7cb0=_0x25b1fb;let _0x1b07fa=_0x51767e[_0x2c7cb0(0x613)][_0x2c7cb0(0x5d9)](/^[\w-]+./,'');await this[_0x2c7cb0(0x3e9)][_0x2c7cb0(0x41e)](_0x1b07fa)[_0x2c7cb0(0x478)]({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0x40612e=(0x0,te[_0x25b1fb(0x55c)])(V,{'encoding':_0x25b1fb(0x6b1)});for await(let _0x33d6be of _0x40612e)_0x33d6be['isDirectory']()&&(0x0,te['readdirSync'])((0x0,be[_0x25b1fb(0x403)])(V,_0x33d6be['name']),{'encoding':_0x25b1fb(0x6b1)})['forEach'](async _0x40be95=>{const _0x1933f2=_0x25b1fb;(_0x40be95[_0x1933f2(0x5fe)](/^app.state.*/)||_0x40be95[_0x1933f2(0x5fe)](/^session-.*/))&&(0x0,te[_0x1933f2(0x6e5)])((0x0,be[_0x1933f2(0x403)])(V,_0x33d6be[_0x1933f2(0x4ef)],_0x40be95),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async[a0_0x1d1a99(0x5b0)](_0x5ee3b8){const _0x48ed86=a0_0x1d1a99;this['db'][_0x48ed86(0x1ec)]&&(await this[_0x48ed86(0x4b4)][_0x48ed86(0x343)]['connect'](),(await this[_0x48ed86(0x3e9)][_0x48ed86(0x1c8)]())[_0x48ed86(0x45d)]>0x0&&await this[_0x48ed86(0x3e9)][_0x48ed86(0x726)](_0x5ee3b8)),this[_0x48ed86(0x61a)]['ENABLED']&&(this['redisCache']['reference']=_0x5ee3b8,await this[_0x48ed86(0x3c6)][_0x48ed86(0x5e3)]()),!this['db']['ENABLED']&&!this[_0x48ed86(0x61a)][_0x48ed86(0x1ec)]&&(0x0,te[_0x48ed86(0x6e5)])((0x0,be[_0x48ed86(0x403)])(V,_0x5ee3b8),{'recursive':!0x0,'force':!0x0});}async[a0_0x1d1a99(0x26e)](){const _0x26e659=a0_0x1d1a99;let _0x49ef64=async _0x25fa94=>{const _0x194883=a0_0x3b16;let _0x231726=new ye(this[_0x194883(0x749)],this[_0x194883(0x595)],this[_0x194883(0x4b4)]);_0x231726['instanceName']=_0x25fa94,await _0x231726[_0x194883(0x527)](),this[_0x194883(0x2b1)][_0x25fa94]=_0x231726;};try{if(this[_0x26e659(0x61a)][_0x26e659(0x1ec)]){let _0x468747=await this[_0x26e659(0x3c6)][_0x26e659(0x59f)]();_0x468747?.[_0x26e659(0x45d)]>0x0&&_0x468747['forEach'](async _0x2db122=>await _0x49ef64(_0x2db122[_0x26e659(0x447)](':')[0x1]));}if(this['db'][_0x26e659(0x1ec)]){await this['repository']['dbServer'][_0x26e659(0x773)]();let _0x48959d=await this['dbInstance'][_0x26e659(0x1c8)]();_0x48959d[_0x26e659(0x45d)]>0x0&&_0x48959d[_0x26e659(0x6e3)](async _0x5f3be9=>await _0x49ef64(_0x5f3be9[_0x26e659(0x613)]['replace'](/^[\w-]+\./,'')));return;}let _0x4f70a1=(0x0,te['opendirSync'])(V,{'encoding':_0x26e659(0x6b1)});for await(let _0x4a5482 of _0x4f70a1)if(_0x4a5482[_0x26e659(0x508)]()){if((0x0,te[_0x26e659(0x398)])((0x0,be[_0x26e659(0x403)])(V,_0x4a5482[_0x26e659(0x4ef)]),{'encoding':_0x26e659(0x6b1)})[_0x26e659(0x45d)]===0x0){(0x0,te[_0x26e659(0x6e5)])((0x0,be['join'])(V,_0x4a5482[_0x26e659(0x4ef)]),{'recursive':!0x0,'force':!0x0});break;}await _0x49ef64(_0x4a5482[_0x26e659(0x4ef)]);}}catch(_0x235a9d){this[_0x26e659(0x59d)][_0x26e659(0x790)](_0x235a9d);}}[a0_0x1d1a99(0x4df)](){const _0xa1ad6f=a0_0x1d1a99;this[_0xa1ad6f(0x595)]['on'](_0xa1ad6f(0x71c),async _0x314aa6=>{const _0x405eb1=_0xa1ad6f;try{this[_0x405eb1(0x2b1)][_0x314aa6]=void 0x0;}catch{}try{this[_0x405eb1(0x5b0)](_0x314aa6);}finally{this[_0x405eb1(0x59d)][_0x405eb1(0x1da)](_0x405eb1(0x305)+_0x314aa6+'\x22\x20-\x20REMOVED');}});}[a0_0x1d1a99(0x53f)](){const _0xae86dc=a0_0x1d1a99;this[_0xae86dc(0x595)]['on']('no.connection',async _0x227bbc=>{const _0x57f03d=_0xae86dc;try{this[_0x57f03d(0x2b1)][_0x227bbc]=void 0x0,this[_0x57f03d(0x5b0)](_0x227bbc);}catch(_0x41553b){this['logger']['error']({'localError':_0x57f03d(0x53f),'warn':_0x57f03d(0x2f0),'error':_0x41553b});}finally{this[_0x57f03d(0x59d)][_0x57f03d(0x1da)]('Instance\x20\x22'+_0x227bbc+_0x57f03d(0x6c1));}});}},Pt=class extends W{constructor(_0x33da5b){const _0x4b6534=a0_0x1d1a99;super(_0x33da5b),this[_0x4b6534(0x749)]=_0x33da5b;}['getChatModelForOwner'](_0x4cb249){return xs(_0x4cb249);}async[a0_0x1d1a99(0x3a1)](_0x10015f){const _0x26892f=a0_0x1d1a99;if(_0x10015f['length']!==0x0)try{return{'insertCount':(await this[_0x26892f(0x6ec)](_0x10015f[0x0]['owner'])[_0x26892f(0x6db)]([..._0x10015f]))[_0x26892f(0x45d)]};}catch(_0x40ba64){return _0x40ba64;}}async[a0_0x1d1a99(0x20b)](_0x4a4a6c){const _0x3e3d5a=a0_0x1d1a99;try{return await this[_0x3e3d5a(0x6ec)](_0x4a4a6c[_0x3e3d5a(0x409)]['owner'])[_0x3e3d5a(0x20b)]({..._0x4a4a6c[_0x3e3d5a(0x409)]})['sort']({'lastmsg':-0x1})[_0x3e3d5a(0x4ab)](_0x4a4a6c?.[_0x3e3d5a(0x4ab)]??0x0)[_0x3e3d5a(0x5ab)]();}catch{return[];}}async['delete'](_0x475603){const _0x120eb0=a0_0x1d1a99;try{return{'deletedCount':(await this['getChatModelForOwner'](_0x475603[_0x120eb0(0x409)][_0x120eb0(0x70b)])[_0x120eb0(0x478)]({..._0x475603[_0x120eb0(0x409)]}))[_0x120eb0(0x4fe)]};}catch(_0x4d9f5e){return{'error':_0x4d9f5e?.['toString']()};}}async[a0_0x1d1a99(0x6a1)](_0x53c11a){const _0x41951d=a0_0x1d1a99;try{return await this['getChatModelForOwner'](_0x53c11a[_0x41951d(0x409)][_0x41951d(0x70b)])[_0x41951d(0x478)]({..._0x53c11a[_0x41951d(0x409)]}),[];}catch(_0x3b897f){return{'error':_0x3b897f?.[_0x41951d(0x55b)]()};}}async['findOne'](_0x86da44){const _0x4c023c=a0_0x1d1a99;try{return await this[_0x4c023c(0x6ec)](_0x86da44[_0x4c023c(0x409)][_0x4c023c(0x70b)])[_0x4c023c(0x367)]({..._0x86da44[_0x4c023c(0x409)]})[_0x4c023c(0x5ab)]();}catch{return null;}}async['updateOne'](_0x453edc,_0x2dbcd6,_0x26fc0c){const _0x468eae=a0_0x1d1a99;try{let _0x310cd9={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x26fc0c};return await this[_0x468eae(0x6ec)](_0x453edc[_0x468eae(0x409)][_0x468eae(0x70b)])[_0x468eae(0x3f4)]({..._0x453edc[_0x468eae(0x409)]},{'$set':_0x2dbcd6},_0x310cd9);}catch(_0x538ef8){return console[_0x468eae(0x790)](_0x538ef8),null;}}async['updateMany'](_0xa5ae1f){const _0x211234=a0_0x1d1a99;try{let _0x40fb6b=this[_0x211234(0x6ec)](_0xa5ae1f[0x0][_0x211234(0x771)]['where'][_0x211234(0x70b)]),_0x100082=_0xa5ae1f[_0x211234(0x5dc)](_0x5dae00=>({'updateOne':{'filter':{..._0x5dae00[_0x211234(0x771)][_0x211234(0x409)]},'update':{'$set':_0x5dae00[_0x211234(0x1bb)]}}}));return(await _0x40fb6b[_0x211234(0x451)](_0x100082))['modifiedCount'];}catch(_0x3f7894){return console[_0x211234(0x790)](_0x3f7894),0x0;}}},xt=class{constructor(_0x5d9351){const _0x270e0c=a0_0x1d1a99;this[_0x270e0c(0x6be)]=_0x5d9351;}async[a0_0x1d1a99(0x60b)]({instanceName:_0x4487cf},_0x28d53f){const _0x2e323b=a0_0x1d1a99;return await this[_0x2e323b(0x6be)][_0x2e323b(0x2b1)][_0x4487cf][_0x2e323b(0x60b)](_0x28d53f);}async[a0_0x1d1a99(0x2ab)]({instanceName:_0x242fb7},_0x10d816){const _0x4766de=a0_0x1d1a99;return await this['waMonitor'][_0x4766de(0x2b1)][_0x242fb7][_0x4766de(0x2ab)](_0x10d816);}async[a0_0x1d1a99(0x516)]({instanceName:_0x4decbd},_0x42107b){const _0x933bd8=a0_0x1d1a99;return await this[_0x933bd8(0x6be)]['waInstances'][_0x4decbd][_0x933bd8(0x1f8)](_0x42107b);}async[a0_0x1d1a99(0x5d3)]({instanceName:_0x4169ff},_0x3d9d76){const _0x1f844e=a0_0x1d1a99;return await this['waMonitor'][_0x1f844e(0x2b1)][_0x4169ff][_0x1f844e(0x5d3)](_0x3d9d76);}async[a0_0x1d1a99(0x40e)]({instanceName:_0x5ce78b},_0x4b3315){const _0x1c7302=a0_0x1d1a99;return await this[_0x1c7302(0x6be)][_0x1c7302(0x2b1)][_0x5ce78b]['deleteMessage'](_0x4b3315);}async[a0_0x1d1a99(0x66f)]({instanceName:_0x1ae91a},_0x568d8a){const _0x4e2480=a0_0x1d1a99;return await this['waMonitor']['waInstances'][_0x1ae91a][_0x4e2480(0x260)](_0x568d8a[_0x4e2480(0x2ba)]);}async[a0_0x1d1a99(0x697)]({instanceName:_0x5dfd3b},_0x35be4c){const _0x1a80ce=a0_0x1d1a99;return await this[_0x1a80ce(0x6be)][_0x1a80ce(0x2b1)][_0x5dfd3b][_0x1a80ce(0x697)](_0x35be4c[_0x1a80ce(0x2ba)]);}async['updatePresence']({instanceName:_0x35cd62},_0x2107b2){const _0x84a98c=a0_0x1d1a99;return await this[_0x84a98c(0x6be)][_0x84a98c(0x2b1)][_0x35cd62][_0x84a98c(0x4e2)](_0x2107b2);}async['fetchContacts']({instanceName:_0x280663},_0x246676){const _0x163046=a0_0x1d1a99;return await this[_0x163046(0x6be)][_0x163046(0x2b1)][_0x280663][_0x163046(0x389)](_0x246676);}async[a0_0x1d1a99(0x467)]({instanceName:_0x193b91},_0x1b7c1b){const _0x35ea3a=a0_0x1d1a99;return await this[_0x35ea3a(0x6be)][_0x35ea3a(0x2b1)][_0x193b91][_0x35ea3a(0x467)](_0x1b7c1b);}async[a0_0x1d1a99(0x4bf)]({instanceName:_0x10e39c},_0x281da3){const _0x2b819c=a0_0x1d1a99;return await this[_0x2b819c(0x6be)][_0x2b819c(0x2b1)][_0x10e39c][_0x2b819c(0x4bf)](_0x281da3);}async[a0_0x1d1a99(0x4d8)]({instanceName:_0xf58ee4}){const _0x23c6f5=a0_0x1d1a99;return await this[_0x23c6f5(0x6be)][_0x23c6f5(0x2b1)][_0xf58ee4]['fetchChats']();}async[a0_0x1d1a99(0x36e)]({instanceName:_0x10ae76}){const _0x1bdb75=a0_0x1d1a99;return await this[_0x1bdb75(0x6be)][_0x1bdb75(0x2b1)][_0x10ae76]['fetchPrivacySettings']();}async['updatePrivacySettings']({instanceName:_0x23903c},_0x40cb6d){const _0x52f3ee=a0_0x1d1a99;return await this[_0x52f3ee(0x6be)][_0x52f3ee(0x2b1)][_0x23903c][_0x52f3ee(0x4d3)](_0x40cb6d);}async[a0_0x1d1a99(0x4f4)]({instanceName:_0x29683d},_0x121920){const _0x17ed7f=a0_0x1d1a99;return await this[_0x17ed7f(0x6be)][_0x17ed7f(0x2b1)][_0x29683d]['fetchBusinessProfile'](_0x121920[_0x17ed7f(0x2ba)]);}async['updateProfileName']({instanceName:_0xcbf6fb},_0x15101e){const _0x5800be=a0_0x1d1a99;return await this[_0x5800be(0x6be)][_0x5800be(0x2b1)][_0xcbf6fb][_0x5800be(0x1e0)](_0x15101e[_0x5800be(0x4ef)]);}async['updateProfileStatus']({instanceName:_0x51464d},_0x55b50e){const _0x3d9fee=a0_0x1d1a99;return await this[_0x3d9fee(0x6be)][_0x3d9fee(0x2b1)][_0x51464d][_0x3d9fee(0x432)](_0x55b50e['status']);}async['updateProfilePicture']({instanceName:_0x4bfa14},_0x36759a){const _0x469db7=a0_0x1d1a99;return await this[_0x469db7(0x6be)]['waInstances'][_0x4bfa14][_0x469db7(0x5e1)](_0x36759a[_0x469db7(0x6eb)]);}async[a0_0x1d1a99(0x6c7)]({instanceName:_0x4bbb20},_0x5ee6d0){const _0x261c5a=a0_0x1d1a99;return await this[_0x261c5a(0x6be)][_0x261c5a(0x2b1)][_0x4bbb20][_0x261c5a(0x6c7)]();}},hs=require(a0_0x1d1a99(0x31b)),$t=class c{constructor(_0x1eb7bb,_0x22bcff,_0x3f88d3,_0x11fc3b,_0xade09){const _0x3d4b0d=a0_0x1d1a99;this['waMonitor']=_0x1eb7bb,this[_0x3d4b0d(0x749)]=_0x22bcff,this['repository']=_0x3f88d3,this[_0x3d4b0d(0x595)]=_0x11fc3b,this['authService']=_0xade09,this[_0x3d4b0d(0x59d)]=new N(c[_0x3d4b0d(0x4ef)]);}async[a0_0x1d1a99(0x2a8)]({instanceName:_0x4a3140,apikey:_0x1eee14}){const _0x2b6486=a0_0x1d1a99;let _0x2cba4e=new ye(this[_0x2b6486(0x749)],this[_0x2b6486(0x595)],this[_0x2b6486(0x4b4)]);_0x2cba4e[_0x2b6486(0x6ca)]=_0x4a3140,this[_0x2b6486(0x6be)]['waInstances'][_0x2cba4e[_0x2b6486(0x6ca)]]=_0x2cba4e,this[_0x2b6486(0x6be)][_0x2b6486(0x47c)](_0x2cba4e[_0x2b6486(0x6ca)]);let _0x2271f6={};_0x1eee14?(await this[_0x2b6486(0x4b4)]['auth']['create']({'apikey':_0x1eee14},_0x4a3140),_0x2271f6[_0x2b6486(0x38e)]=_0x1eee14):_0x2271f6=await this['authService']['generateHash']({'instanceName':_0x2cba4e[_0x2b6486(0x6ca)]});let _0x64ba4c;return await _0x2cba4e[_0x2b6486(0x527)](),await(0x0,hs[_0x2b6486(0x6ed)])(0x7d0),_0x64ba4c=_0x2cba4e['qrCode'],{'instance':{'instanceName':_0x2cba4e[_0x2b6486(0x6ca)],'status':_0x2b6486(0x232)},'hash':_0x2271f6,'qrcode':_0x64ba4c};}async[a0_0x1d1a99(0x527)]({instanceName:_0x4f5164}){const _0x37e859=a0_0x1d1a99;try{let _0x489cf4=this[_0x37e859(0x6be)][_0x37e859(0x2b1)][_0x4f5164];switch(_0x489cf4[_0x37e859(0x60d)]?.['state']){case _0x37e859(0x5f4):return await _0x489cf4['connectToWhatsapp'](),await(0x0,hs['delay'])(0x7d0),_0x489cf4['qrCode'];case _0x37e859(0x2f3):return _0x489cf4[_0x37e859(0x40d)];default:return await this['connectionState']({'instanceName':_0x4f5164});}}catch(_0x20841c){this[_0x37e859(0x59d)][_0x37e859(0x2a6)](_0x20841c);}}async['connectionState']({instanceName:_0x4a58f7}){const _0x56547d=a0_0x1d1a99;let _0x23e8b5=this[_0x56547d(0x6be)][_0x56547d(0x2b1)][_0x4a58f7][_0x56547d(0x60d)],_0x19e3a9=null;_0x23e8b5['state']===_0x56547d(0x5d6)&&_0x4a58f7&&(_0x19e3a9=await this[_0x56547d(0x6be)][_0x56547d(0x4c1)](_0x4a58f7));let _0x41e77d=null;return _0x23e8b5['state']===_0x56547d(0x2f3)&&_0x4a58f7&&(_0x41e77d=this[_0x56547d(0x6be)][_0x56547d(0x2b1)][_0x4a58f7][_0x56547d(0x40d)]),{'instance':_0x4a58f7,'connectionStatus':_0x23e8b5,'instanceInfo':_0x19e3a9,'qrcode':_0x41e77d};}async[a0_0x1d1a99(0x1ca)]({instanceName:_0x544043}){const _0x4df658=a0_0x1d1a99;try{return this[_0x4df658(0x6be)][_0x4df658(0x2b1)][_0x544043]?.[_0x4df658(0x2e7)]?.['ws']?.[_0x4df658(0x5f4)](),{'status':_0x4df658(0x418),'error':!0x1,'response':{'message':_0x4df658(0x1d0)}};}catch(_0x11af96){this[_0x4df658(0x59d)]['error'](_0x11af96);}}async[a0_0x1d1a99(0x5a9)]({instanceName:_0x47cb37}){const _0x455698=a0_0x1d1a99;return _0x47cb37?this[_0x455698(0x6be)][_0x455698(0x4c1)](_0x47cb37):this[_0x455698(0x6be)][_0x455698(0x4c1)]();}async[a0_0x1d1a99(0x217)]({instanceName:_0x4a679c}){const _0x22171a=a0_0x1d1a99;try{return await this[_0x22171a(0x6be)][_0x22171a(0x2b1)][_0x4a679c]?.[_0x22171a(0x2e7)]?.['logout'](_0x22171a(0x5e4)+_0x4a679c),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x24bf26){throw new A(_0x24bf26[_0x22171a(0x55b)]());}}async[a0_0x1d1a99(0x42e)]({instanceName:_0xa5c614}){const _0x39e708=a0_0x1d1a99;if((await this[_0x39e708(0x617)]({'instanceName':_0xa5c614}))[_0x39e708(0x60d)][_0x39e708(0x342)]===_0x39e708(0x5d6))throw new g([_0x39e708(0x388),_0x39e708(0x6fd)]);try{return delete this['waMonitor']['waInstances'][_0xa5c614],{'error':!0x1,'message':_0x39e708(0x46a)};}catch(_0x202e31){throw new g(_0x202e31['toString']());}}async[a0_0x1d1a99(0x30f)](_0x88617d,_0x549db2){const _0x4ab128=a0_0x1d1a99;return await this[_0x4ab128(0x21a)][_0x4ab128(0x30f)](_0x549db2);}},se=require(a0_0x1d1a99(0x2a9)),kt=class{constructor(_0x3c45a9){const _0x4cdfaf=a0_0x1d1a99;this[_0x4cdfaf(0x6be)]=_0x3c45a9;}async[a0_0x1d1a99(0x36b)]({instanceName:_0x2a9baa},_0x4eca0b){const _0x320445=a0_0x1d1a99;return await this['waMonitor'][_0x320445(0x2b1)][_0x2a9baa]['textMessage'](_0x4eca0b);}async[a0_0x1d1a99(0x717)]({instanceName:_0x42f881},_0x20dfa3){const _0x10d100=a0_0x1d1a99;if((0x0,se[_0x10d100(0x295)])(_0x20dfa3?.['mediaMessage']?.[_0x10d100(0x316)])&&!_0x20dfa3?.[_0x10d100(0x746)]?.[_0x10d100(0x3f5)])throw new g('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,se[_0x10d100(0x29a)])(_0x20dfa3?.[_0x10d100(0x746)]?.[_0x10d100(0x316)])||(0x0,se[_0x10d100(0x295)])(_0x20dfa3?.[_0x10d100(0x746)]?.[_0x10d100(0x316)]))return await this[_0x10d100(0x6be)]['waInstances'][_0x42f881][_0x10d100(0x746)](_0x20dfa3);throw new g(_0x10d100(0x4ea));}async['sendSticker']({instanceName:_0x3c5776},_0x1fb3e8){const _0x5e1e69=a0_0x1d1a99;if((0x0,se[_0x5e1e69(0x29a)])(_0x1fb3e8[_0x5e1e69(0x588)][_0x5e1e69(0x2f1)])||(0x0,se['isBase64'])(_0x1fb3e8[_0x5e1e69(0x588)][_0x5e1e69(0x2f1)]))return await this[_0x5e1e69(0x6be)][_0x5e1e69(0x2b1)][_0x3c5776][_0x5e1e69(0x655)](_0x1fb3e8);throw new g('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x1d1a99(0x725)]({instanceName:_0x2b88a5},_0x523f9f){const _0x5a554b=a0_0x1d1a99;if((0x0,se[_0x5a554b(0x29a)])(_0x523f9f[_0x5a554b(0x69d)]['audio'])||(0x0,se[_0x5a554b(0x295)])(_0x523f9f['audioMessage'][_0x5a554b(0x512)]))return await this[_0x5a554b(0x6be)][_0x5a554b(0x2b1)][_0x2b88a5][_0x5a554b(0x70c)](_0x523f9f);throw new g(_0x5a554b(0x4ea));}async[a0_0x1d1a99(0x69f)]({instanceName:_0x552df2},_0x3212ad){const _0x3db1c3=a0_0x1d1a99;if((0x0,se[_0x3db1c3(0x295)])(_0x3212ad['buttonMessage'][_0x3db1c3(0x746)]?.[_0x3db1c3(0x316)])&&!_0x3212ad[_0x3db1c3(0x241)][_0x3db1c3(0x746)]?.['fileName'])throw new g('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this['waMonitor'][_0x3db1c3(0x2b1)][_0x552df2][_0x3db1c3(0x241)](_0x3212ad);}async['sendLocation']({instanceName:_0xcc3d9e},_0x82ffa4){const _0x4eeb4e=a0_0x1d1a99;return await this[_0x4eeb4e(0x6be)][_0x4eeb4e(0x2b1)][_0xcc3d9e][_0x4eeb4e(0x468)](_0x82ffa4);}async[a0_0x1d1a99(0x684)]({instanceName:_0x2437d8},_0xdfb61b){const _0x3d4e8a=a0_0x1d1a99;return await this['waMonitor'][_0x3d4e8a(0x2b1)][_0x2437d8][_0x3d4e8a(0x6e4)](_0xdfb61b);}async[a0_0x1d1a99(0x682)]({instanceName:_0x166202},_0x65aa0b){const _0x4e508a=a0_0x1d1a99;return await this[_0x4e508a(0x6be)][_0x4e508a(0x2b1)][_0x166202]['listMessage'](_0x65aa0b);}async[a0_0x1d1a99(0x1c2)]({instanceName:_0x597c95},_0x1130a2){const _0x264e4a=a0_0x1d1a99;return await this[_0x264e4a(0x6be)]['waInstances'][_0x597c95]['contactMessage'](_0x1130a2);}async[a0_0x1d1a99(0x520)]({instanceName:_0x3df87a},_0x30134e){const _0x833c9f=a0_0x1d1a99;if(!_0x30134e[_0x833c9f(0x618)][_0x833c9f(0x234)][_0x833c9f(0x5fe)](/[^\(\)\w\sà-ú"-\+]+/))throw new g(_0x833c9f(0x534));return await this[_0x833c9f(0x6be)][_0x833c9f(0x2b1)][_0x3df87a]['reactionMessage'](_0x30134e);}async[a0_0x1d1a99(0x6e2)]({instanceName:_0x2e4133},_0x521b4a){const _0x10787c=a0_0x1d1a99;return await this[_0x10787c(0x6be)][_0x10787c(0x2b1)][_0x2e4133][_0x10787c(0x596)](_0x521b4a);}},Lt=class{constructor(_0x30bec2){const _0x5f8212=a0_0x1d1a99;this[_0x5f8212(0x6be)]=_0x30bec2;}async[a0_0x1d1a99(0x3ef)](_0x261d73,_0x588de6){const _0x58a12d=a0_0x1d1a99;return await this[_0x58a12d(0x6be)][_0x58a12d(0x2b1)][_0x261d73['instanceName']]['createGroup'](_0x588de6);}async[a0_0x1d1a99(0x476)](_0x5ac1e3,_0x5bcbd0){const _0x5ae020=a0_0x1d1a99;return await this[_0x5ae020(0x6be)][_0x5ae020(0x2b1)][_0x5ac1e3['instanceName']][_0x5ae020(0x476)](_0x5bcbd0);}async[a0_0x1d1a99(0x564)](_0x2f8ba0,_0x47d5b2){const _0x32eb92=a0_0x1d1a99;return await this['waMonitor'][_0x32eb92(0x2b1)][_0x2f8ba0[_0x32eb92(0x6ca)]][_0x32eb92(0x564)](_0x47d5b2);}async['groupName'](_0x178462,_0x4e72f5){const _0x5b7055=a0_0x1d1a99;return await this[_0x5b7055(0x6be)][_0x5b7055(0x2b1)][_0x178462[_0x5b7055(0x6ca)]]['groupName'](_0x4e72f5);}async[a0_0x1d1a99(0x1ed)](_0x58a3b5,_0x297698){const _0x1be78a=a0_0x1d1a99;return await this[_0x1be78a(0x6be)][_0x1be78a(0x2b1)][_0x58a3b5[_0x1be78a(0x6ca)]][_0x1be78a(0x1ed)](_0x297698);}async[a0_0x1d1a99(0x49b)](_0x484fb0,_0x16a683){const _0x513a8c=a0_0x1d1a99;return await this[_0x513a8c(0x6be)]['waInstances'][_0x484fb0[_0x513a8c(0x6ca)]]['findGroup'](_0x16a683);}async[a0_0x1d1a99(0x3ea)](_0x1825bc){const _0xe53125=a0_0x1d1a99;return await this[_0xe53125(0x6be)]['waInstances'][_0x1825bc[_0xe53125(0x6ca)]][_0xe53125(0x3ea)]();}async['inviteCode'](_0x481c88,_0x41ddc6){const _0x3fbebf=a0_0x1d1a99;return await this[_0x3fbebf(0x6be)][_0x3fbebf(0x2b1)][_0x481c88[_0x3fbebf(0x6ca)]]['inviteCode'](_0x41ddc6);}async[a0_0x1d1a99(0x5db)](_0x58fdff,_0x7924de){const _0xba5176=a0_0x1d1a99;return await this['waMonitor']['waInstances'][_0x58fdff[_0xba5176(0x6ca)]][_0xba5176(0x5db)](_0x7924de);}async[a0_0x1d1a99(0x658)](_0x4f1ca1,_0x707123){const _0x5909ae=a0_0x1d1a99;return await this[_0x5909ae(0x6be)]['waInstances'][_0x4f1ca1[_0x5909ae(0x6ca)]]['revokeInviteCode'](_0x707123);}async[a0_0x1d1a99(0x5b7)](_0x3700a7,_0x460e55){const _0x4a6149=a0_0x1d1a99;return await this[_0x4a6149(0x6be)][_0x4a6149(0x2b1)][_0x3700a7[_0x4a6149(0x6ca)]][_0x4a6149(0x5b7)](_0x460e55);}async[a0_0x1d1a99(0x40c)](_0x345f9b,_0x9af854){const _0x3e65cb=a0_0x1d1a99;return await this[_0x3e65cb(0x6be)][_0x3e65cb(0x2b1)][_0x345f9b[_0x3e65cb(0x6ca)]]['updateGParticipant'](_0x9af854);}async[a0_0x1d1a99(0x791)](_0x1b48df,_0x1dff5e){const _0x528b0b=a0_0x1d1a99;return await this[_0x528b0b(0x6be)][_0x528b0b(0x2b1)][_0x1b48df[_0x528b0b(0x6ca)]][_0x528b0b(0x791)](_0x1dff5e);}async[a0_0x1d1a99(0x573)](_0x5a82dc,_0x48f593){const _0x4cd4b5=a0_0x1d1a99;return await this['waMonitor'][_0x4cd4b5(0x2b1)][_0x5a82dc[_0x4cd4b5(0x6ca)]][_0x4cd4b5(0x573)](_0x48f593);}},Ut=class{constructor(_0x37b01b,_0x146588){const _0x50a4d5=a0_0x1d1a99;this[_0x50a4d5(0x47e)]=_0x37b01b,this['configService']=_0x146588;}async[a0_0x1d1a99(0x24c)](_0xbeb412,_0x11cd31){const _0x712715=a0_0x1d1a99;try{let _0x3b13d9=_0xbeb412[_0x712715(0x425)];if(this[_0x712715(0x47e)][_0x712715(0x2b1)][_0x3b13d9['instanceName']]['connectionStatus'][_0x712715(0x342)]===_0x712715(0x5d6))throw new g(_0x712715(0x3fd));let _0x3bcb11=this[_0x712715(0x749)][_0x712715(0x278)](_0x712715(0x286))['TYPE'];return _0x11cd31[_0x712715(0x1be)](0xc8)[_0x712715(0x61b)](_0x712715(0x24c),{'type':_0x3bcb11,..._0x3b13d9});}catch(_0x4f3287){console[_0x712715(0x2a6)]('ERROR:\x20',_0x4f3287);}}},Vt=class{constructor(_0x2283e5){const _0x20b0b9=a0_0x1d1a99;this[_0x20b0b9(0x6be)]=_0x2283e5;}[a0_0x1d1a99(0x52e)](_0x3a83bf,_0xbabc16){const _0x1996b4=a0_0x1d1a99;return this[_0x1996b4(0x6be)]['waInstances'][_0x3a83bf[_0x1996b4(0x6ca)]][_0x1996b4(0x1cf)](_0xbabc16);}async[a0_0x1d1a99(0x20b)](_0x230091){const _0x968182=a0_0x1d1a99;try{return await this[_0x968182(0x6be)][_0x968182(0x2b1)][_0x230091[_0x968182(0x6ca)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},id=new N(a0_0x1d1a99(0x60c)),jt=class{constructor(_0x3554f0){const _0x505d18=a0_0x1d1a99;this[_0x505d18(0x6be)]=_0x3554f0;}async[a0_0x1d1a99(0x28b)](_0x9ce3c7,_0x55b711){const _0x2a0acd=a0_0x1d1a99;return await this[_0x2a0acd(0x6be)][_0x2a0acd(0x2b1)][_0x9ce3c7[_0x2a0acd(0x6ca)]][_0x2a0acd(0x28b)](_0x55b711);}async['getScheduleMessage'](_0x29b651){const _0x3288c8=a0_0x1d1a99;return await this['waMonitor']['waInstances'][_0x29b651['instanceName']][_0x3288c8(0x459)]();}async['deleteDoneMessages'](_0x4eb3fe){const _0x3845f2=a0_0x1d1a99;return await this[_0x3845f2(0x6be)]['waInstances'][_0x4eb3fe[_0x3845f2(0x6ca)]][_0x3845f2(0x1fe)]();}async[a0_0x1d1a99(0x45a)](_0x47af80){const _0x297c2d=a0_0x1d1a99;return await this[_0x297c2d(0x6be)]['waInstances'][_0x47af80['instanceName']][_0x297c2d(0x45a)]();}async['updateAgent'](_0x628258,_0x1bb112){const _0x55cdda=a0_0x1d1a99;return await this[_0x55cdda(0x6be)][_0x55cdda(0x2b1)][_0x628258[_0x55cdda(0x6ca)]][_0x55cdda(0x523)](_0x1bb112);}async[a0_0x1d1a99(0x5d4)](_0x2ab151,_0x71e970){const _0x4881b0=a0_0x1d1a99;return await this['waMonitor'][_0x4881b0(0x2b1)][_0x2ab151[_0x4881b0(0x6ca)]]['updateCustomFields'](_0x71e970);}async[a0_0x1d1a99(0x4b5)](_0x34235b,_0x3d3ff4){const _0x56c245=a0_0x1d1a99;return await this[_0x56c245(0x6be)][_0x56c245(0x2b1)][_0x34235b[_0x56c245(0x6ca)]][_0x56c245(0x4b5)](_0x3d3ff4);}async['startFlow'](_0x5a3cfe,_0x5f31b5){const _0x2e78cd=a0_0x1d1a99;return await this['waMonitor'][_0x2e78cd(0x2b1)][_0x5a3cfe[_0x2e78cd(0x6ca)]]['startFlow'](_0x5f31b5);}async[a0_0x1d1a99(0x3ca)](_0x284b88,_0x283f4d){const _0x462398=a0_0x1d1a99;return await this['waMonitor']['waInstances'][_0x284b88[_0x462398(0x6ca)]][_0x462398(0x3ca)](_0x283f4d);}async[a0_0x1d1a99(0x436)](_0x1375a2,_0x15dae9){const _0x169f95=a0_0x1d1a99;return await this[_0x169f95(0x6be)][_0x169f95(0x2b1)][_0x1375a2[_0x169f95(0x6ca)]][_0x169f95(0x436)](_0x15dae9);}async[a0_0x1d1a99(0x727)](_0x28232a,_0x278a79){const _0x522830=a0_0x1d1a99;return await this['waMonitor']['waInstances'][_0x28232a['instanceName']][_0x522830(0x727)](_0x278a79);}async[a0_0x1d1a99(0x2dd)](_0x3e33e5,_0x58b8d2){const _0x164624=a0_0x1d1a99;return await this[_0x164624(0x6be)][_0x164624(0x2b1)][_0x3e33e5[_0x164624(0x6ca)]]['deleteConversation'](_0x58b8d2);}async[a0_0x1d1a99(0x559)](_0x460838,_0x3ff42f){const _0x5ea5ba=a0_0x1d1a99;return await this['waMonitor'][_0x5ea5ba(0x2b1)][_0x460838[_0x5ea5ba(0x6ca)]][_0x5ea5ba(0x559)](_0x3ff42f[_0x5ea5ba(0x4ef)]);}async[a0_0x1d1a99(0x2fc)](_0xf489db,_0x16d9ec){const _0x59bd78=a0_0x1d1a99;return await this['waMonitor'][_0x59bd78(0x2b1)][_0xf489db['instanceName']][_0x59bd78(0x2fc)](_0x16d9ec);}async[a0_0x1d1a99(0x38d)](_0x137123,_0x28b95d){const _0x2e6438=a0_0x1d1a99;return await this[_0x2e6438(0x6be)][_0x2e6438(0x2b1)][_0x137123[_0x2e6438(0x6ca)]][_0x2e6438(0x38d)](_0x28b95d);}async[a0_0x1d1a99(0x6c5)](_0x3c46da,_0xeca91e){const _0x2937ba=a0_0x1d1a99;return await this[_0x2937ba(0x6be)][_0x2937ba(0x2b1)][_0x3c46da[_0x2937ba(0x6ca)]][_0x2937ba(0x6c5)](_0xeca91e);}async['editFlowReply'](_0x485579,_0x24f2e9){const _0x19976d=a0_0x1d1a99;return await this[_0x19976d(0x6be)][_0x19976d(0x2b1)][_0x485579['instanceName']][_0x19976d(0x405)](_0x24f2e9);}async[a0_0x1d1a99(0x4eb)](_0x2abc8c,_0x56fabc){const _0x40058c=a0_0x1d1a99;return await this['waMonitor'][_0x40058c(0x2b1)][_0x2abc8c[_0x40058c(0x6ca)]][_0x40058c(0x4eb)](_0x56fabc);}async[a0_0x1d1a99(0x52a)](_0x15e5c6,_0x4f25da){const _0x5bb94d=a0_0x1d1a99;return await this[_0x5bb94d(0x6be)]['waInstances'][_0x15e5c6[_0x5bb94d(0x6ca)]]['editFlowCondition'](_0x4f25da);}async[a0_0x1d1a99(0x6aa)](_0x55e775,_0x18399){const _0x44b2d0=a0_0x1d1a99;return await this[_0x44b2d0(0x6be)][_0x44b2d0(0x2b1)][_0x55e775[_0x44b2d0(0x6ca)]][_0x44b2d0(0x6aa)](_0x18399);}async[a0_0x1d1a99(0x51b)](_0x29ca7b,_0x364481){const _0x1b0097=a0_0x1d1a99;return await this[_0x1b0097(0x6be)]['waInstances'][_0x29ca7b['instanceName']]['editFlowVariable'](_0x364481);}async[a0_0x1d1a99(0x73f)](_0x219566,_0x46dbcd){const _0x11f6b5=a0_0x1d1a99;return await this[_0x11f6b5(0x6be)][_0x11f6b5(0x2b1)][_0x219566['instanceName']]['deleteFlow'](_0x46dbcd['name']);}async[a0_0x1d1a99(0x676)](_0x1489a0){const _0x5adb02=a0_0x1d1a99;return await this[_0x5adb02(0x6be)][_0x5adb02(0x2b1)][_0x1489a0[_0x5adb02(0x6ca)]][_0x5adb02(0x676)]();}},Ft=class{constructor(_0x49fb69){const _0x2d1a50=a0_0x1d1a99;this[_0x2d1a50(0x5a0)]=_0x49fb69;}async[a0_0x1d1a99(0x5aa)](_0x2e36ca,_0x533cc5){const _0x53dfdc=a0_0x1d1a99;return this['webhookService'][_0x53dfdc(0x52e)](_0x2e36ca,_0x533cc5);}async[a0_0x1d1a99(0x592)](_0x52312a){const _0x27cf75=a0_0x1d1a99;return this[_0x27cf75(0x5a0)][_0x27cf75(0x20b)](_0x52312a);}},Bt=class{constructor(_0xe35234,_0x141e0d,_0x3e33bc,_0x3e11a1,_0x44fd05,_0x81eeac){const _0x56da8f=a0_0x1d1a99;this[_0x56da8f(0x444)]=_0xe35234,this[_0x56da8f(0x54f)]=_0x141e0d,this['contact']=_0x3e33bc,this[_0x56da8f(0x664)]=_0x3e11a1,this[_0x56da8f(0x437)]=_0x44fd05,this['dbClient']=_0x81eeac;}get[a0_0x1d1a99(0x343)](){const _0x16094e=a0_0x1d1a99;return this[_0x16094e(0x4ae)];}},fs=require('path'),ao=require('fs'),qt=class extends W{constructor(_0x155477,_0x52643e){const _0x3f5407=a0_0x1d1a99;super(_0x52643e),this[_0x3f5407(0x677)]=_0x155477,this['configService']=_0x52643e;}async[a0_0x1d1a99(0x52e)](_0x4e0c55,_0x4927b7){const _0xb8c013=a0_0x1d1a99;try{return this[_0xb8c013(0x62a)][_0xb8c013(0x1ec)]?{'insertCount':(await this['webhookModel']['replaceOne']({'_id':_0x4927b7},{..._0x4e0c55},{'upsert':!0x0}))['modifiedCount']}:(this[_0xb8c013(0x3d9)]({'path':(0x0,fs[_0xb8c013(0x403)])(this['storePath'],_0xb8c013(0x664)),'fileName':_0x4927b7,'data':_0x4e0c55}),{'insertCount':0x1});}catch(_0x536850){return _0x536850;}}async[a0_0x1d1a99(0x20b)](_0x12df20){const _0x2d81b2=a0_0x1d1a99;try{return this['dbSettings'][_0x2d81b2(0x1ec)]?await this['webhookModel'][_0x2d81b2(0x367)]({'_id':_0x12df20}):JSON[_0x2d81b2(0x6fc)]((0x0,ao[_0x2d81b2(0x29f)])((0x0,fs[_0x2d81b2(0x403)])(this[_0x2d81b2(0x4da)],_0x2d81b2(0x664),_0x12df20+_0x2d81b2(0x3b1)),{'encoding':'utf-8'}));}catch{return{};}}},ws=require(a0_0x1d1a99(0x591)),oo=require('fs'),Jt=class extends W{constructor(_0x78e1d7,_0x451516){const _0x477ebd=a0_0x1d1a99;super(_0x451516),this['authModel']=_0x78e1d7,this[_0x477ebd(0x749)]=_0x451516,this[_0x477ebd(0x437)]=_0x451516[_0x477ebd(0x278)](_0x477ebd(0x286));}async[a0_0x1d1a99(0x52e)](_0x5a7629,_0x4b75b0){const _0x39141f=a0_0x1d1a99;try{return this['dbSettings'][_0x39141f(0x1ec)]?{'insertCount':(await this[_0x39141f(0x44c)][_0x39141f(0x2c4)]({'_id':_0x4b75b0},{..._0x5a7629},{'upsert':!0x0}))[_0x39141f(0x566)]}:(this[_0x39141f(0x3d9)]({'path':(0x0,ws[_0x39141f(0x403)])(Gt,this[_0x39141f(0x437)][_0x39141f(0x5e0)]),'fileName':_0x4b75b0,'data':_0x5a7629}),{'insertCount':0x1});}catch(_0x1d03d4){return{'error':_0x1d03d4};}}async['find'](_0x40b9ce){const _0x21a979=a0_0x1d1a99;try{return this[_0x21a979(0x62a)][_0x21a979(0x1ec)]?await this[_0x21a979(0x44c)][_0x21a979(0x367)]({'_id':_0x40b9ce}):JSON[_0x21a979(0x6fc)]((0x0,oo[_0x21a979(0x29f)])((0x0,ws[_0x21a979(0x403)])(Gt,this[_0x21a979(0x437)][_0x21a979(0x5e0)],_0x40b9ce+_0x21a979(0x3b1)),{'encoding':_0x21a979(0x6b1)}));}catch{return{};}}},zo=new N('WA\x20MODULE'),Qo=new $e(S),Yo=new Pt(S),Xo=new He(S),Zo=new qt(qs,S),ei=new Jt(js,S),le=new Bt(Qo,Yo,Xo,Zo,ei,M?.[a0_0x1d1a99(0x43f)]()),F=new _t(zt,S,le),ti=new rt(S,F,le),si=new Vt(F),us=new Ft(si),R=new jt(F),re=new $t(F,S,le,zt,ti),qa=new Ut(F,S),K=new kt(F),O=new xt(F),U=new Lt(F);zo[a0_0x1d1a99(0x23e)](a0_0x1d1a99(0x351));var ep=require(a0_0x1d1a99(0x1c0)),ys=require('fs'),io=T(require('https')),ro=T(require(a0_0x1d1a99(0x2cc))),Re=class c{static #e;static set[a0_0x1d1a99(0x485)](_0x38f1b2){this.#e=_0x38f1b2;}static get[a0_0x1d1a99(0x206)](){const _0x349bc3=a0_0x1d1a99;let {FULLCHAIN:_0x3e2d2e,PRIVKEY:_0x8df67c}=S['get'](_0x349bc3(0x5c4));return io[_0x349bc3(0x39a)]({'cert':(0x0,ys[_0x349bc3(0x29f)])(_0x3e2d2e),'key':(0x0,ys[_0x349bc3(0x29f)])(_0x8df67c)},c.#e);}static get[a0_0x1d1a99(0x2cc)](){const _0xeae5c=a0_0x1d1a99;return ro[_0xeae5c(0x39a)](c.#e);}},ge=T(require('fs')),go=T(require(a0_0x1d1a99(0x5d5))),Me=T(require(a0_0x1d1a99(0x62f))),Ie=T(require(a0_0x1d1a99(0x591))),De=require(a0_0x1d1a99(0x419));function ai(){const _0x4690dc=a0_0x1d1a99;F[_0x4690dc(0x26e)]();let _0x3c227f=Ie['default'][_0x4690dc(0x403)](__dirname,_0x4690dc(0x6a6));po(_0x3c227f);}var po=_0x5617ea=>{const _0x58fa9f=a0_0x1d1a99;let _0x57fc62=ge['default'][_0x58fa9f(0x398)](_0x5617ea),_0x52dc33=0xc*0x3c*0x3c*0x3e8,_0x3a41a5=0x2*0x3c*0x3c*0x3e8,_0xfab34c=new Date()[_0x58fa9f(0x213)]();_0x57fc62[_0x58fa9f(0x6e3)](_0x102b3d=>{const _0x9fb159=_0x58fa9f;let _0xae95b8=Ie[_0x9fb159(0x267)][_0x9fb159(0x403)](_0x5617ea,_0x102b3d),_0x352038=ge[_0x9fb159(0x267)][_0x9fb159(0x636)](_0xae95b8)[_0x9fb159(0x66c)]['getTime']();_0xfab34c-_0x352038>_0x52dc33&&(ge['default'][_0x9fb159(0x1c3)](_0xae95b8),console[_0x9fb159(0x2a6)](_0x9fb159(0x3e0)+_0x102b3d));}),setTimeout(()=>po(_0x5617ea),_0x3a41a5);};function oi(){const _0x4397c4=a0_0x1d1a99;let _0x4490f4=new N(_0x4397c4(0x6a2)),_0x1270ca=(0x0,me[_0x4397c4(0x267)])();_0x1270ca['use']((0x0,uo[_0x4397c4(0x267)])({'origin'(_0x51bca9,_0xa2fb03){const _0x140c9d=_0x4397c4;let {ORIGIN:_0x9ddb42}=S[_0x140c9d(0x278)]('CORS');return _0x51bca9||(_0x51bca9='*'),_0x9ddb42[_0x140c9d(0x757)]('*')!==-0x1||_0x9ddb42['indexOf'](_0x51bca9)!==-0x1?_0xa2fb03(null,!0x0):_0xa2fb03(new Error(_0x140c9d(0x230)));},'methods':[...S[_0x4397c4(0x278)](_0x4397c4(0x5e8))[_0x4397c4(0x5b6)]],'credentials':S[_0x4397c4(0x278)](_0x4397c4(0x5e8))[_0x4397c4(0x1b7)]}),(0x0,me[_0x4397c4(0x2d4)])({'extended':!0x0,'limit':'50mb'}),(0x0,me[_0x4397c4(0x67b)])({'limit':_0x4397c4(0x379)})),_0x1270ca[_0x4397c4(0x44d)]((_0x171707,_0x25139e,_0x1148a9)=>{const _0x5ee90a=_0x4397c4;_0x171707['path'][_0x5ee90a(0x6fe)](_0x5ee90a(0x2a2))?_0x1148a9():(0x0,lo['default'])()(_0x171707,_0x25139e,_0x1148a9);}),_0x1270ca['set'](_0x4397c4(0x20f),_0x4397c4(0x68c)),_0x1270ca[_0x4397c4(0x532)](_0x4397c4(0x42d),(0x0,Ss[_0x4397c4(0x403)])(Q,_0x4397c4(0x42d))),_0x1270ca[_0x4397c4(0x44d)](me['default']['static']((0x0,Ss[_0x4397c4(0x403)])(Q,_0x4397c4(0x698)))),_0x1270ca[_0x4397c4(0x44d)]((_0x41fd65,_0x2509c6,_0x2e03fe)=>{const _0x3284da=_0x4397c4;let _0x31d9e2=_0x2509c6[_0x3284da(0x6e8)];_0x2509c6[_0x3284da(0x6e8)]=function(_0x3e56f7){const _0x294ac9=_0x3284da;if(_0x41fd65[_0x294ac9(0x771)][_0x294ac9(0x60f)]===_0x294ac9(0x42c)||_0x41fd65['headers'][_0x294ac9(0x1c5)]===_0x294ac9(0x42c)){let _0x24cc50=JSON[_0x294ac9(0x6fc)](_0x3e56f7);_0x3e56f7=JSON['stringify'](_0x2cfbe1(_0x24cc50));}return _0x31d9e2['apply'](_0x2509c6,[_0x3e56f7]);},_0x2e03fe();}),_0x1270ca[_0x4397c4(0x44d)]('/',Ct),_0x1270ca['use']((_0x52df3d,_0x5aac6b,_0x44888a,_0xb08a98)=>{const _0x2ed98d=_0x4397c4;if(_0x52df3d)return _0x44888a[_0x2ed98d(0x1be)](_0x52df3d['status']||0x1f4)[_0x2ed98d(0x67b)](_0x52df3d);},(_0xd43e,_0x13cb9c,_0x2e3e80)=>{const _0x556dcd=_0x4397c4;let {method:_0x3b3438,url:_0x152abb}=_0xd43e;_0x13cb9c[_0x556dcd(0x1be)](0x194)[_0x556dcd(0x67b)]({'status':0x194,'message':'Cannot\x20'+_0x3b3438[_0x556dcd(0x5ce)]()+'\x20'+_0x152abb,'error':_0x556dcd(0x41b)}),_0x2e3e80();});let _0x2cfbe1=(_0x3080d8,_0x4f29a9=_0x4397c4(0x581))=>{const _0x2dd921=_0x4397c4;let _0x5e0556=(_0x2133a4,_0x4dcc2e=null,_0xf6c75c=!0x1)=>{const _0x4ef8df=a0_0x3b16;let _0x2968d3={};return Object[_0x4ef8df(0x57b)](_0x2133a4)[_0x4ef8df(0x6e3)](_0x58fc42=>{const _0x14174a=_0x4ef8df;let _0x1d4d5a=_0x2133a4[_0x58fc42],_0x2067fe=''+_0x4f29a9+_0x58fc42;_0x4dcc2e&&!_0xf6c75c&&(_0x2067fe=_0x4dcc2e+'.'+_0x58fc42),!_0x1d4d5a&&_0x1d4d5a!==0x0&&_0x1d4d5a!==!0x1||typeof _0x1d4d5a>'u'?_0x2968d3[_0x2067fe]=null:typeof _0x1d4d5a!=_0x14174a(0x498)&&!Array[_0x14174a(0x4bb)](_0x1d4d5a)?_0x2968d3[_0x2067fe]=_0x1d4d5a:typeof _0x1d4d5a==_0x14174a(0x498)&&!Array[_0x14174a(0x4bb)](_0x1d4d5a)?_0x2968d3=Object[_0x14174a(0x2bd)](_0x2968d3,_0x5e0556(_0x1d4d5a,_0x2067fe)):Array[_0x14174a(0x4bb)](_0x1d4d5a)&&(typeof _0x1d4d5a[0x0]==_0x14174a(0x498)?(_0x2968d3[_0x2067fe]=[],_0x1d4d5a[_0x14174a(0x6e3)](_0x3cbc76=>{const _0x54fc11=_0x14174a;_0x2968d3[_0x2067fe][_0x54fc11(0x750)](_0x5e0556(_0x3cbc76,_0x2067fe,!0x0));})):_0x2968d3[_0x2067fe]=_0x1d4d5a);}),_0x2968d3;};return Array[_0x2dd921(0x4bb)](_0x3080d8)?_0x3080d8[_0x2dd921(0x5dc)](_0x5a36f3=>_0x5e0556(_0x5a36f3)):typeof _0x3080d8==_0x2dd921(0x498)&&_0x3080d8!==null?_0x5e0556(_0x3080d8):{};},_0x30fd0b=S[_0x4397c4(0x278)](_0x4397c4(0x6a2));Re[_0x4397c4(0x485)]=_0x1270ca;let _0x195fd1=Re[_0x30fd0b[_0x4397c4(0x5e0)]],_0x3509ab='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x195fd1[_0x4397c4(0x656)](_0x30fd0b[_0x4397c4(0x646)],()=>{const _0x2e1924=_0x4397c4;_0x4490f4[_0x2e1924(0x2a6)](_0x3509ab),_0x4490f4[_0x2e1924(0x2a6)](_0x30fd0b['TYPE'][_0x2e1924(0x5ce)]()+_0x2e1924(0x632)+_0x30fd0b[_0x2e1924(0x646)]);}),ai(),_s();}var ii=a0_0x1d1a99(0x2b2),ri=Ie[a0_0x1d1a99(0x267)][a0_0x1d1a99(0x403)](__dirname,'./.git/config'),Ae=null;function ni(){return new Promise((_0x5c3947,_0x28ba7f)=>{const _0xaa5fb7=a0_0x3b16;ge[_0xaa5fb7(0x267)][_0xaa5fb7(0x612)](ri,_0xaa5fb7(0x6b1),(_0x320857,_0x2f8340)=>{const _0x3d039c=_0xaa5fb7;if(_0x320857){Ae=_0x320857,_0x5c3947();return;}go[_0x3d039c(0x267)]['parse'](_0x2f8340)[_0x3d039c(0x593)][_0x3d039c(0x633)]===ii?(Ae=null,_0x5c3947()):(Ae=new Error(_0x3d039c(0x2fb)),_0x5c3947());});});}async function ci(){const _0x30fecc=a0_0x1d1a99;try{await ni(),await Es();}catch(_0x36e428){console[_0x30fecc(0x790)](_0x30fecc(0x4d4)+_0x36e428),process[_0x30fecc(0x394)](0x1);}}ci();async function mo(){const _0x1efd9e=a0_0x1d1a99;let _0xb42635;try{_0xb42635=(await Me[_0x1efd9e(0x267)]['get'](_0x1efd9e(0x6a5)))['data']['ip'];}catch(_0x2942c9){console['error'](_0x2942c9);try{_0xb42635=(await Me['default'][_0x1efd9e(0x278)](_0x1efd9e(0x654)))[_0x1efd9e(0x723)]['ip'];}catch(_0x191a9b){console[_0x1efd9e(0x790)](_0x191a9b);try{_0xb42635=(await Me[_0x1efd9e(0x267)][_0x1efd9e(0x278)](_0x1efd9e(0x609)))[_0x1efd9e(0x723)][_0x1efd9e(0x5fe)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x28a37f){return console[_0x1efd9e(0x790)](_0x28a37f),!0x1;}}}return _0xb42635;}var no=0x0;async function li(){const _0x3715f6=a0_0x1d1a99;let _0x49638f=await new ne(S[_0x3715f6(0x278)](_0x3715f6(0x2ae)))[_0x3715f6(0x59f)]();return console[_0x3715f6(0x2a6)](_0x3715f6(0x690),_0x49638f[_0x3715f6(0x45d)]),_0x49638f[_0x3715f6(0x45d)];}async function ui(){const _0x1d91c9=a0_0x1d1a99;let _0x311141=S[_0x1d91c9(0x278)](_0x1d91c9(0x2ae)),_0x3a54fa=S[_0x1d91c9(0x278)](_0x1d91c9(0x286))[_0x1d91c9(0x5d7)]['KEY'],_0x418b81=S['get'](_0x1d91c9(0x5c4)),_0x5c62eb=await mo(),_0xa1cea2=S[_0x1d91c9(0x278)](_0x1d91c9(0x6a2))[_0x1d91c9(0x646)];try{let _0x4247f7={'ip':_0x5c62eb||null,'redis_enable':_0x311141?.[_0x1d91c9(0x1ec)]||null,'apikey':_0x3a54fa||null,'ssl':_0x418b81?.[_0x1d91c9(0x1f0)]||null,'lastupdate':ho||null,'port':_0xa1cea2||null,'gitInstallError':Ae?.[_0x1d91c9(0x444)]||null};if(console[_0x1d91c9(0x2a6)](_0x1d91c9(0x744),_0x4247f7['ip']),_0x311141&&_0x311141[_0x1d91c9(0x1ec)]){let _0x183065=await li();_0x4247f7[_0x1d91c9(0x671)]=_0x183065||null;}for(let _0x3bc853 in _0x4247f7)_0x4247f7[_0x1d91c9(0x3ae)](_0x3bc853)&&_0x3bc853!=='ip'&&(_0x4247f7[_0x3bc853]=JSON[_0x1d91c9(0x5b4)](_0x4247f7[_0x3bc853]));return(await Me[_0x1d91c9(0x267)][_0x1d91c9(0x4c0)](_0x1d91c9(0x48e),_0x4247f7))[_0x1d91c9(0x723)];}catch(_0xf2cf61){return console['error'](_0xf2cf61),!0x1;}}var bs=!0x1,ho=0x212,di=0x3,co=0x1b7740;async function Es(){const _0x43ca29=a0_0x1d1a99;if(!await mo())return console[_0x43ca29(0x790)](_0x43ca29(0x3b6)),_0x43ca29(0x6c6);let _0x4a6bc2=await ui();if(_0x4a6bc2){if(_0x4a6bc2[_0x43ca29(0x1ef)][_0x43ca29(0x3f0)]===!0x0){S[_0x43ca29(0x278)](_0x43ca29(0x5c4))['PRIVKEY'][_0x43ca29(0x3c9)](_0x43ca29(0x6c0))&&_0x4a6bc2[_0x43ca29(0x1ef)][_0x43ca29(0x361)]&&(await mi(_0x4a6bc2[_0x43ca29(0x1ef)][_0x43ca29(0x361)],gi),await hi(_0x43ca29(0x2bc),_0x4a6bc2['response']['subdomain']),console[_0x43ca29(0x2a6)](_0x43ca29(0x3d0)),setTimeout(()=>wi(),0x2710)),Ae===null&&_0x4a6bc2['response'][_0x43ca29(0x555)]-ho>0x0&&await pi(),bs||(bs=!0x0,oi());let _0x1a65d9=0x24*0x3c*0x3c,_0x1f8924=_0x4a6bc2[_0x43ca29(0x1ef)][_0x43ca29(0x487)]>_0x1a65d9?_0x1a65d9:_0x4a6bc2[_0x43ca29(0x1ef)]['segundos'],_0xc4e71c=Number(_0x1f8924);if(isNaN(_0xc4e71c)){console[_0x43ca29(0x790)](_0x43ca29(0x5a4));return;}let _0x27c9da=Math['floor'](_0xc4e71c/0xe10),_0x5e7dc1=Math['floor'](_0xc4e71c%0xe10/0x3c),_0x2b4edc=new Date(Date[_0x43ca29(0x5f0)]()+_0xc4e71c*0x3e8);setTimeout(Es,_0xc4e71c*0x3e8);let _0x3bbc26=_0x30a745=>_0x30a745[_0x43ca29(0x55b)]()[_0x43ca29(0x70e)](0x2,'0'),_0x79bbf8=_0x43ca29(0x707)+_0x3bbc26(_0x27c9da)+'\x20horas\x20e\x20'+_0x3bbc26(_0x5e7dc1)+'\x20minutos.\x20Será\x20às\x20'+_0x3bbc26(_0x2b4edc[_0x43ca29(0x275)]())+':'+_0x3bbc26(_0x2b4edc[_0x43ca29(0x481)]())+'.';console['log'](_0x79bbf8);}else return console[_0x43ca29(0x2a6)](_0x43ca29(0x488)),bs&&(console['log']('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process[_0x43ca29(0x394)]()),_0x43ca29(0x67a);}else{if(no++,no<di)console[_0x43ca29(0x2a6)](_0x43ca29(0x21b)+co/0xea60+_0x43ca29(0x70a)),setTimeout(Es,co);else return console[_0x43ca29(0x790)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),'SERVER_OFFLINE';}}async function pi(){const _0x4c96d9=a0_0x1d1a99;console['log'](_0x4c96d9(0x2dc));let _0x48a056=(0x0,De['spawn'])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x48a056[_0x4c96d9(0x292)]['on'](_0x4c96d9(0x723),_0x577ee1=>{const _0x5c424e=_0x4c96d9;console[_0x5c424e(0x2a6)]('Atualização:\x20'+_0x577ee1);}),_0x48a056[_0x4c96d9(0x2c5)]['on'](_0x4c96d9(0x723),_0x249fc1=>{const _0x398f5c=_0x4c96d9;console[_0x398f5c(0x790)](_0x398f5c(0x310)+_0x249fc1);}),_0x48a056['on'](_0x4c96d9(0x394),_0x16b637=>{const _0x3b3eb4=_0x4c96d9;_0x16b637!==0x0?console['error'](_0x3b3eb4(0x6b2)+_0x16b637):console[_0x3b3eb4(0x2a6)](_0x3b3eb4(0x6c4)),console[_0x3b3eb4(0x2a6)](_0x3b3eb4(0x1cb)),setTimeout(()=>process['exit'](),0x2710);});}function a0_0x3b16(_0x1cd643,_0x3db56d){const _0x543284=a0_0x5432();return a0_0x3b16=function(_0x3b1633,_0x4d0141){_0x3b1633=_0x3b1633-0x1b2;let _0x14d520=_0x543284[_0x3b1633];return _0x14d520;},a0_0x3b16(_0x1cd643,_0x3db56d);}var gi=Ie['default']['join'](__dirname,a0_0x1d1a99(0x78c));async function mi(_0x3a6e4c,_0x29dd18){const _0xc02a40=a0_0x1d1a99;let _0x2e3669=fi();_0x3a6e4c=_0x3a6e4c[_0xc02a40(0x5d9)]('.uazapi.dev','');try{let _0x39a41c=ge[_0xc02a40(0x267)]['readFileSync'](_0x29dd18,_0xc02a40(0x2d6));_0x39a41c=_0x39a41c[_0xc02a40(0x5d9)](/<apikey>/,_0x2e3669),_0x39a41c=_0x39a41c['replace'](/<subdomain>/g,_0x3a6e4c),ge[_0xc02a40(0x267)][_0xc02a40(0x44f)](_0x29dd18,_0x39a41c,_0xc02a40(0x2d6)),console[_0xc02a40(0x2a6)]('Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.');}catch(_0x322703){console[_0xc02a40(0x790)](_0xc02a40(0x4a2),_0x322703);}}function hi(_0x12fa9c,_0x5ef5cc){return new Promise((_0x413949,_0x198bcc)=>{const _0x2c3c17=a0_0x3b16;let _0x3308b0=(0x0,De['spawn'])(_0x2c3c17(0x1e4),[_0x2c3c17(0x417),_0x2c3c17(0x365),'-m',_0x12fa9c,'--agree-tos','-d',_0x5ef5cc]);_0x3308b0[_0x2c3c17(0x292)]['on'](_0x2c3c17(0x723),_0x1d45e6=>{const _0x3459e0=_0x2c3c17;console[_0x3459e0(0x2a6)]('Certbot:\x20'+_0x1d45e6[_0x3459e0(0x55b)]());}),_0x3308b0['stderr']['on']('data',_0x2740dd=>{const _0x232ee2=_0x2c3c17;console[_0x232ee2(0x790)](_0x232ee2(0x412)+_0x2740dd['toString']());}),_0x3308b0['on']('close',_0x3d6c43=>{const _0x21aeed=_0x2c3c17;_0x3d6c43!==0x0?(console['error']('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x3d6c43),_0x198bcc(_0x21aeed(0x210)+_0x3d6c43)):(console[_0x21aeed(0x2a6)](_0x21aeed(0x709)),_0x413949());});});}function fi(_0x213e7d=0x32){const _0x7621f8=a0_0x1d1a99;let _0x35aacd=_0x7621f8(0x321),_0x4fd6b5='';for(let _0x24258f=0x0;_0x24258f<_0x213e7d;_0x24258f++)_0x4fd6b5+=_0x35aacd['charAt'](Math[_0x7621f8(0x345)](Math[_0x7621f8(0x231)]()*_0x35aacd[_0x7621f8(0x45d)]));return _0x4fd6b5;}function wi(){const _0x454bc9=a0_0x1d1a99;(0x0,De['exec'])(_0x454bc9(0x428),(_0x5bc51e,_0x5b7810,_0x53fcc7)=>{const _0x4c9910=_0x454bc9;if(_0x5bc51e){console[_0x4c9910(0x790)](_0x4c9910(0x533)+_0x5bc51e);return;}if(_0x53fcc7){console[_0x4c9910(0x790)](_0x4c9910(0x39f)+_0x53fcc7);return;}console[_0x4c9910(0x2a6)](_0x4c9910(0x615)+_0x5b7810);});}