const a0_0x7b141d=a0_0x77b5;(function(_0x2c3164,_0x18f400){const _0x570e5f=a0_0x77b5,_0x432db2=_0x2c3164();while(!![]){try{const _0x5659ac=-parseInt(_0x570e5f(0x6c1))/0x1*(parseInt(_0x570e5f(0x6ca))/0x2)+parseInt(_0x570e5f(0x2e7))/0x3+-parseInt(_0x570e5f(0x8a1))/0x4+parseInt(_0x570e5f(0x26b))/0x5*(parseInt(_0x570e5f(0x1f2))/0x6)+parseInt(_0x570e5f(0x6d1))/0x7+parseInt(_0x570e5f(0x491))/0x8+-parseInt(_0x570e5f(0x27a))/0x9*(-parseInt(_0x570e5f(0x1e4))/0xa);if(_0x5659ac===_0x18f400)break;else _0x432db2['push'](_0x432db2['shift']());}catch(_0x1cba1a){_0x432db2['push'](_0x432db2['shift']());}}}(a0_0x3579,0xbec67));var Bi=Object[a0_0x7b141d(0x7c2)],qe=Object[a0_0x7b141d(0x14d)],Wi=Object[a0_0x7b141d(0x4a3)],zi=Object[a0_0x7b141d(0x78a)],Hi=Object[a0_0x7b141d(0x314)],Ki=Object[a0_0x7b141d(0x872)][a0_0x7b141d(0x795)],Qi=(_0x51440d,_0x96d11f)=>{for(var _0x2b9ee8 in _0x96d11f)qe(_0x51440d,_0x2b9ee8,{'get':_0x96d11f[_0x2b9ee8],'enumerable':!0x0});},Bs=(_0x11e232,_0x231ca7,_0x21b53d,_0x85f21a)=>{const _0x1c73eb=a0_0x7b141d;if(_0x231ca7&&typeof _0x231ca7==_0x1c73eb(0x5ec)||typeof _0x231ca7==_0x1c73eb(0x815)){for(let _0x42f083 of zi(_0x231ca7))!Ki[_0x1c73eb(0x1da)](_0x11e232,_0x42f083)&&_0x42f083!==_0x21b53d&&qe(_0x11e232,_0x42f083,{'get':()=>_0x231ca7[_0x42f083],'enumerable':!(_0x85f21a=Wi(_0x231ca7,_0x42f083))||_0x85f21a[_0x1c73eb(0x5f7)]});}return _0x11e232;},I=(_0x3c058e,_0x590f23,_0x4b153a)=>(_0x4b153a=_0x3c058e!=null?Bi(Hi(_0x3c058e)):{},Bs(_0x590f23||!_0x3c058e||!_0x3c058e[a0_0x7b141d(0x750)]?qe(_0x4b153a,a0_0x7b141d(0x2cf),{'value':_0x3c058e,'enumerable':!0x0}):_0x4b153a,_0x3c058e)),Yi=_0x2c258b=>Bs(qe({},a0_0x7b141d(0x750),{'value':!0x0}),_0x2c258b),hr={};Qi(hr,{'fullURL':()=>Gs,'subdomain':()=>B}),module[a0_0x7b141d(0x1f6)]=Yi(hr);var Ui=I(require('compression')),zs=require('fs'),Hs=require('js-yaml'),Ks=require(a0_0x7b141d(0x357)),Ve=require(a0_0x7b141d(0x357)),le=process[a0_0x7b141d(0x2d7)](),Se=(0x0,Ve[a0_0x7b141d(0x797)])(le,a0_0x7b141d(0x2e1)),Ws=(0x0,Ve['join'])(le,a0_0x7b141d(0x5df)),mn=(0x0,Ve[a0_0x7b141d(0x797)])(le,a0_0x7b141d(0x2b4),'auth'),us=class{constructor(){this['loadEnv']();}['get'](_0x583056){const _0x556a5d=a0_0x7b141d;return this[_0x556a5d(0x87d)][_0x583056];}['loadEnv'](){const _0x53c90c=a0_0x7b141d;this[_0x53c90c(0x87d)]=process[_0x53c90c(0x87d)]?.[_0x53c90c(0x52d)]!==_0x53c90c(0x283)?this[_0x53c90c(0x496)]():this[_0x53c90c(0x895)](),process[_0x53c90c(0x87d)]?.[_0x53c90c(0x52d)]==='true'&&(this[_0x53c90c(0x87d)][_0x53c90c(0x653)][_0x53c90c(0x75e)]=_0x53c90c(0x478),this[_0x53c90c(0x87d)][_0x53c90c(0x653)]['PORT']=Number['parseInt'](process[_0x53c90c(0x87d)]?.['SERVER_PORT']??'8080'));}['envYaml'](){const _0x29ee75=a0_0x7b141d;return(0x0,Hs[_0x29ee75(0x5e2)])((0x0,zs[_0x29ee75(0x4f0)])((0x0,Ks[_0x29ee75(0x797)])(Ws,_0x29ee75(0x632)),{'encoding':_0x29ee75(0x772)}));}['envProcess'](){const _0x7ea2fa=a0_0x7b141d;return{'SERVER':{'TYPE':process[_0x7ea2fa(0x87d)][_0x7ea2fa(0x5b1)],'PORT':Number[_0x7ea2fa(0x58f)](process[_0x7ea2fa(0x87d)][_0x7ea2fa(0x504)]),'URL':process['env']['SERVER_URL']},'CORS':{'ORIGIN':process[_0x7ea2fa(0x87d)][_0x7ea2fa(0x4dd)][_0x7ea2fa(0x20d)](','),'METHODS':process['env'][_0x7ea2fa(0x178)][_0x7ea2fa(0x20d)](','),'CREDENTIALS':process['env']?.[_0x7ea2fa(0x877)]===_0x7ea2fa(0x283)},'SSL_CONF':{'PRIVKEY':process[_0x7ea2fa(0x87d)]?.[_0x7ea2fa(0x4dc)],'FULLCHAIN':process[_0x7ea2fa(0x87d)]?.[_0x7ea2fa(0x78c)]},'STORE':{'CLEANING_INTERVAL':Number[_0x7ea2fa(0x531)](process[_0x7ea2fa(0x87d)]?.['STORE_CLEANING_TERMINAL'])?Number[_0x7ea2fa(0x58f)](process[_0x7ea2fa(0x87d)][_0x7ea2fa(0x152)]):void 0x0,'MESSAGES':process[_0x7ea2fa(0x87d)]?.['STORE_MESSAGE']===_0x7ea2fa(0x283),'CONTACTS':process[_0x7ea2fa(0x87d)]?.[_0x7ea2fa(0x3d9)]==='true','CHATS':process['env']?.['STORE_CHATS']===_0x7ea2fa(0x283)},'DATABASE':{'CONNECTION':{'HOST':process[_0x7ea2fa(0x87d)]?.['DATABASE_CONNECTION_HOST'],'PORT':Number['parseInt'](process['env']?.[_0x7ea2fa(0x668)]),'USER':process['env']['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x7ea2fa(0x87d)][_0x7ea2fa(0x252)],'URI':process['env'][_0x7ea2fa(0x7af)],'DB_PREFIX_NAME':process[_0x7ea2fa(0x87d)][_0x7ea2fa(0x2d3)]},'ENABLED':process[_0x7ea2fa(0x87d)]?.['DATABASE_ENABLED']===_0x7ea2fa(0x283)},'REDIS':{'ENABLED':process['env']?.['REDIS_ENABLED']===_0x7ea2fa(0x283),'URI':process['env'][_0x7ea2fa(0x48e)]||'redis://127.0.0.1:6379','PREFIX_KEY':process[_0x7ea2fa(0x87d)][_0x7ea2fa(0x44b)]||_0x7ea2fa(0x6b8)},'LOG':{'LEVEL':process[_0x7ea2fa(0x87d)]?.[_0x7ea2fa(0x1b6)][_0x7ea2fa(0x20d)](','),'COLOR':process[_0x7ea2fa(0x87d)]?.[_0x7ea2fa(0x67b)]===_0x7ea2fa(0x283)},'PROXY':process[_0x7ea2fa(0x87d)]?.[_0x7ea2fa(0x2fa)]==='true','AUTHENTICATION':{'TYPE':process[_0x7ea2fa(0x87d)][_0x7ea2fa(0x5ef)],'API_KEY':{'KEY':process['env'][_0x7ea2fa(0x40c)]},'JWT':{'EXPIRIN_IN':Number[_0x7ea2fa(0x531)](process[_0x7ea2fa(0x87d)]?.[_0x7ea2fa(0x72b)])?Number[_0x7ea2fa(0x58f)](process[_0x7ea2fa(0x87d)][_0x7ea2fa(0x72b)]):0xe10,'SECRET':process[_0x7ea2fa(0x87d)][_0x7ea2fa(0x2a8)]}}};}},S=new us(),ji=I(require(a0_0x7b141d(0x558))),ye=I(require(a0_0x7b141d(0x5f5))),qs=require(a0_0x7b141d(0x357)),ds=I(require(a0_0x7b141d(0x3af))),ps=(_0x30ae51=>(_0x30ae51[a0_0x7b141d(0x7fc)]=a0_0x7b141d(0x7d8),_0x30ae51[a0_0x7b141d(0x229)]='\x1b[34m',_0x30ae51[a0_0x7b141d(0x6e5)]=a0_0x7b141d(0x4db),_0x30ae51[a0_0x7b141d(0x19f)]=a0_0x7b141d(0x789),_0x30ae51[a0_0x7b141d(0x859)]=a0_0x7b141d(0x4cb),_0x30ae51[a0_0x7b141d(0x391)]=a0_0x7b141d(0x7f2),_0x30ae51[a0_0x7b141d(0x422)]='\x1b[30m',_0x30ae51))(ps||{}),Qs=(_0x33e937=>(_0x33e937[a0_0x7b141d(0x7fc)]=a0_0x7b141d(0x1d5),_0x33e937[a0_0x7b141d(0x422)]=a0_0x7b141d(0x4f4),_0x33e937[a0_0x7b141d(0x229)]=a0_0x7b141d(0x3a8),_0x33e937[a0_0x7b141d(0x6e5)]='\x1b[33m%s\x1b[0m',_0x33e937[a0_0x7b141d(0x19f)]='\x1b[31m%s\x1b[0m',_0x33e937[a0_0x7b141d(0x859)]=a0_0x7b141d(0x458),_0x33e937[a0_0x7b141d(0x391)]=a0_0x7b141d(0x24d),_0x33e937))(Qs||{}),Ys=(_0x2dca60=>(_0x2dca60[a0_0x7b141d(0x7fc)]='LOG',_0x2dca60[a0_0x7b141d(0x6e5)]='WARN',_0x2dca60['INFO']=a0_0x7b141d(0x229),_0x2dca60[a0_0x7b141d(0x422)]=a0_0x7b141d(0x422),_0x2dca60[a0_0x7b141d(0x19f)]=a0_0x7b141d(0x19f),_0x2dca60[a0_0x7b141d(0x859)]=a0_0x7b141d(0x859),_0x2dca60[a0_0x7b141d(0x391)]=a0_0x7b141d(0x391),_0x2dca60))(Ys||{}),Xs=(_0x50264f=>(_0x50264f[a0_0x7b141d(0x7fc)]='\x1b[42m',_0x50264f[a0_0x7b141d(0x229)]=a0_0x7b141d(0x82b),_0x50264f[a0_0x7b141d(0x6e5)]=a0_0x7b141d(0x575),_0x50264f[a0_0x7b141d(0x422)]=a0_0x7b141d(0x440),_0x50264f[a0_0x7b141d(0x19f)]=a0_0x7b141d(0x620),_0x50264f['DEBUG']=a0_0x7b141d(0x171),_0x50264f[a0_0x7b141d(0x391)]=a0_0x7b141d(0x51f),_0x50264f))(Xs||{}),$=class{constructor(_0x317fb8=a0_0x7b141d(0x7aa)){this['context']=_0x317fb8,this['configService']=S;}['setContext'](_0x928fae){const _0x270b96=a0_0x7b141d;this[_0x270b96(0x4b5)]=_0x928fae;}[a0_0x7b141d(0x165)](_0x2f6339,_0x3ed480){const _0x3842f1=a0_0x7b141d;let _0x1c1fc3=[];this[_0x3842f1(0x695)][_0x3842f1(0x6c9)]('LOG')[_0x3842f1(0x594)]['forEach'](_0x402c63=>_0x1c1fc3['push'](Ys[_0x402c63]));let _0x386e39=typeof _0x2f6339;_0x1c1fc3['includes'](_0x3ed480)&&(S[_0x3842f1(0x6c9)]('LOG')['COLOR']?(console['log']('\x1b[1m'+Qs[_0x3ed480],_0x3842f1(0x397),(0x0,ds[_0x3842f1(0x2cf)])()[_0x3842f1(0x87c)](_0x3842f1(0x817)),_0x3842f1(0x7df),ps[_0x3ed480]+Xs[_0x3ed480]+_0x3842f1(0x294),_0x3ed480+_0x3842f1(0x355),_0x3842f1(0x2e8),this[_0x3842f1(0x4b5)]+_0x3842f1(0x7df),ps[_0x3ed480],_0x386e39!==_0x3842f1(0x5ec)?_0x2f6339:'',_0x3842f1(0x7df)),_0x386e39===_0x3842f1(0x5ec)&&console[_0x3842f1(0x54c)](_0x2f6339,'\x0a')):console[_0x3842f1(0x54c)]((0x0,ds[_0x3842f1(0x2cf)])()['format'](_0x3842f1(0x86c)),_0x3ed480+'\x20',''+this[_0x3842f1(0x4b5)],_0x2f6339));}['log'](_0x461bbb){const _0x5e7081=a0_0x7b141d;this[_0x5e7081(0x165)](_0x461bbb,_0x5e7081(0x7fc));}[a0_0x7b141d(0x59c)](_0x1cc3e3){const _0x427f32=a0_0x7b141d;this['console'](_0x1cc3e3,_0x427f32(0x229));}[a0_0x7b141d(0x38b)](_0x369dc9){const _0x21c861=a0_0x7b141d;this['console'](_0x369dc9,_0x21c861(0x6e5));}[a0_0x7b141d(0x4b9)](_0x2cb6fc){const _0x3bfbcf=a0_0x7b141d;this[_0x3bfbcf(0x165)](_0x2cb6fc,_0x3bfbcf(0x19f));}[a0_0x7b141d(0x8c4)](_0x18b171){const _0x2b4cb0=a0_0x7b141d;this[_0x2b4cb0(0x165)](_0x18b171,_0x2b4cb0(0x391));}[a0_0x7b141d(0x539)](_0x19062b){const _0x176213=a0_0x7b141d;this['console'](_0x19062b,_0x176213(0x859));}[a0_0x7b141d(0x3ef)](_0x381446){const _0x58afd6=a0_0x7b141d;this[_0x58afd6(0x165)](_0x381446,_0x58afd6(0x422));}};function Zs(){const _0x54ab45=a0_0x7b141d;process['on'](_0x54ab45(0x4ce),(_0x5ed0fe,_0x3efab1)=>{const _0x83c3d=_0x54ab45;new $(_0x83c3d(0x4ce))[_0x83c3d(0x4b9)]({'origin':_0x3efab1,'stderr':process[_0x83c3d(0x44f)]['fd'],'error':_0x5ed0fe});}),process['on']('unhandledRejection',(_0x3418a4,_0x7e1a46)=>{const _0x56ebc6=_0x54ab45;new $(_0x56ebc6(0x68b))['error']({'origin':_0x7e1a46,'stderr':process[_0x56ebc6(0x44f)]['fd'],'error':_0x3418a4});});}function a0_0x3579(){const _0x3ba674=['Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','createConnection','reconnectTimestamps','):Archiving\x20chat','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','cleanDisconnectedInstances','gifPlayback','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','request\x20body:\x20','shift','entries','WARN','#9568cf','#ffc5c7','selectedRowId','conversation','blockId','groups_ignore','delayChatLabel','ConversationModel','updatePresence','assign','group-participants.update','request\x20received\x20in\x20updateAutoCompleteMessages','menuType','Resultado\x20da\x20correspondência\x20de\x20URL:','creds.update','truncatedtoEnd','processConditions','Imagem\x20não\x20encontrada','storePath','contacts.update','generateWAMessageFromContent','findByIdAndUpdate','when','footer','reactionMessage','ListType','createWebhook','getVariablesChat','Cache\x20instance\x20update\x20result:\x20','Instância\x20não\x20encontrada.','):\x20\x27Enviando\x20texto\x20para\x20\x27','RemoveChatLabel','Rótulo\x20deletado:\x27,\x20','ReplyOption\x20com\x20ID\x20','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','DisconnectReason','sendMenu','vcard','less','.url','activatedCount','0123456789ABCDEF','stateConnection','author','existsSync','messages.update','/clients-info','ScheduleMessageModel','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','request\x20received\x20in\x20deleteFlow','array','delaySecMax','@redis/client','viewOnceMessageV2','}}\x20->\x20\x22','^\x5cd+([-]\x5cd+)*@g.us$','Message','.webp','urlOrBase64','ObjectId','.\x20Pulando.','fetchConversation','PREFIX_KEY','Falha\x20ao\x20recriar\x20IPv6.','emit','):\x20[messages.upsert]\x20group\x20ignored','reviver','):\x20Comando\x20desconhecido:\x20','AUTHENTICATION_JWT_EXPIRIN_IN','pairingCode','editFlowReply','send.message','addMessagesToGroup','Esse\x20fluxo\x20não\x20permite\x20importação.','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','sectionsToString','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','lastSend','Fluxo\x20não\x20encontrado\x20na\x20memória.','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','):\x20\x27Deletando\x20fluxo,\x20id:\x20','presence','createInstance','replaceVariablesChat','race','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','profilePictureUrl','vote','ipv6Prefix','Falha\x20ao\x20criar\x20IPv6.','Opção\x20Falsa\x20','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','Timeout\x20exceeded','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','Error\x20finding\x20many\x20contacts:','request\x20received\x20in\x20updateCustomFields','normalizeMessage','ListMessage','beautifyWithPlaceholders','nativeFlowResponseMessage','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','):\x20conversation.lastInteraction:\x20','Database\x20update\x20result:','):\x20Iniciando\x20processReadyMessages','SERVER_OFFLINE','__esModule','integer','createIPv6','):\x20Criando\x20nova\x20conversa[createNewConversation]','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','getReadyToSendMessages','status','closed','#6f7bcf','Instance\x20ID:','AutomateSystem','upperCase','https://jsonip.com','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','TYPE','deletedCount','StartBot','variablesToObject','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','):\x20Label\x20','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):Trying\x20to\x20get\x20business\x20profile','):\x20isVote:\x20','display_text','whoCanEdit','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','https://chat.whatsapp.com/','loadWebhook','deleteMany','):Hash\x20to\x20image\x20name:\x20','listMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','utf-8','\x20-y','Parando\x20aplicação,\x20atualização\x20recebida','insert','process','digest','boolean','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','request_time','interval\x20não\x20é\x20um\x20número','fakeReceived','leadInfo','waitingForReplyMenu','initAuthCreds','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','Erro\x20ao\x20iniciar\x20fluxo:\x20','next_groupId','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','URI','Error\x20updating\x20cache\x20contact:','Subscribed\x20Events:','footerText','command','\x1b[31m','getOwnPropertyNames','urlencoded','SSL_CONF_FULLCHAIN','apiResponse','stopped','SSL_CONF','https://api.openai.com/v1/audio/speech','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','recebido\x20de','sendStatus','hasOwnProperty','every','join','\x20não\x20encontrado\x20para\x20atualização.','Retornando\x20grupos\x20SEM\x20cache','importChatsBatch','globalShow','Rodapé\x20de\x20Teste','buttonMessage','mediaMessage','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','#64c4ff','push','body','\x20ao\x20chat\x20','sendMessageWithTyping','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','.jwt','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','editflowvariable','flowPrefixCommand','Logger','.wav','METHODS','Erro\x20ao\x20editar\x20o\x20bloco:\x20','resetReconnectionVariables','DATABASE_CONNECTION_URI','toString','bodyStringErrorParse','ON\x20-\x20dbName:\x20','request\x20received\x20in\x20createFlow','ChatRouter','\x20foi\x20interrompido\x20pelo\x20usuário.','remove.instance','):\x20whoCanUse\x20before\x20validation:\x20','CHATS_SET','authModel','done','insertMany','subjectOwner','recording','.xlsx','restart','stopConversation','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','create','findOneAndUpdate','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','fetchContacts','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','pt-BR','addBlock','trimmed','):\x20Enviando\x20enquete','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','has','readMessage','editflowblock',',\x20valor\x20passado:\x20\x22','creds.json','groupId','allFlows','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Message\x20absent\x20from\x20node','EMAIL:',',\x20valor\x20a\x20encontrar:\x20\x22','selectedId','\x1b[32m','pop','parse','\x20mensagens\x20de\x20','copyBlock','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','buttonOrList_id','\x1b[0m','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','getUpdate','getLastMessage','interactiveMessage','):\x20Fluxo\x20\x27','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','username','closeExistingConversations','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','instanceKeys','archive','spawn','fileName','USER','type','listResponseMessage','updateMessage','\x1b[37m','reaction','instanceCount','Nenhum\x20fluxo\x20correspondente\x20encontrado.','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','Erro\x20ao\x20copiar\x20o\x20documento','The\x20instance\x20needs\x20to\x20be\x20disconnected','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','groupSetting','sending','LOG','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','processScheduleFlow','release','AppStateSyncKeyData','findIndex','Instance\x20logged\x20out','delayMessage',',\x20Comparador:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','Erro\x20ao\x20importar\x20chats','/chat','lastRealGroupsFetch','startCommandWord','/media','setHeader','Fluxos\x20não\x20estão\x20ativados','audioWhatsapp','fileUrl','_Contacts','viewOnceMessage','):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','buttons',',\x20isAdmin:\x20','function','fetchChats','DD/MM\x20HH:mm:ss','uazapiSendMedia','@whiskeysockets/baileys','canSendMessage','cleanStore','updateStatusPrivacy','findFlow','deleteConversation','?authSource=admin&readPreference=primary&directConnection=true','SINGLE_SELECT','editScheduleMessage','events','importChats','.mimetype','\x20Tentativa\x20de\x20reconexão\x20','Cannot\x20','Erro\x20ao\x20aplicar\x20varedit:\x20','senderKeyDistributionMessage','Unauthorized','CONTACTS_UPSERT','\x1b[44m','):\x20newSecondValue\x20após\x20replaceVariables:','Subdomínio\x20não\x20encontrado','):\x20Conversa\x20inserida\x20com\x20sucesso.','composing','PORT','waitingMenu_id','This\x20name\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','randomMac','secondValue','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','replyOption',',\x20Expiration\x20Time:\x20','flowIgnoreGroups','auth','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','):\x20alterando\x20this.AutomateSystem','readFile','templateButtonReplyMessage','keyPattern','newValue','buttonsResponseMessage','hGet','editflowcondition','inviteCode','vir','):\x20tem\x20blocks','public','reconnectAttempts','now','SendScheduleMessage','connect','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','instanceName\x20not\x20provided.','lastSendMessage','axios','validate','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','):Notifying\x20clients\x20for\x20chat:\x20','Not\x20allowed\x20by\x20CORS','Partes\x20do\x20caminho\x20FULLCHAIN:','automateSystem','scheduleNextCheck','deleteChat','Connection','DEBUG','convertToString','removeUnusedChatFields','Conexão\x20estabelecida','ephemeralDuration','Pausado\x20por\x20','#01d0e2','headers','agents','convertaudio','Validate','where','saveChatVariables','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','END:VCARD','messageContextInfo','Mac\x20OS','linkPreview','\x0aitem','HH:mm:ss','notas','.txt','StartID:','then','listType','prototype','pollCreationMessageKey','MAX_SAFE_INTEGER','isCommunity','repeat','CORS_CREDENTIALS','):\x20Enviando\x20contato','#000000','processingGroup','includes','format','env','random','#fed428','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','response','):\x20Conversa\x20atualizada\x20em\x20memória','importChatsAntigo','@broadcast','triedToSend','routerPath','customFields','rm\x20-rf\x20','update','delayChatLabel_MAX_RETRIES','modifiedCount','#f64847','/automate','isListOfNumbers','readData','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','keep-alive','application/octet-stream','protocolMessage','logout','envProcess','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','):\x20Bloco\x20copiado:\x20','hSet','Error\x20writing\x20file:\x20','/exit','pollUpdateMessage','toBrazilianNumberFormat','findOne','replyOptions','downloads','messageType','3085600DTJpwB','result','InstancesAlterarTodas','synchronizeAndMapFlows','Início','findMany','pre','apiName','Request\x20Body:','fileLength','desc','scheduled','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','list','bearer','iniciando\x20fluxo\x20router','cacheInstanceRepository','CHATS_UPSERT','AddChatLabel','toNumber','contextInfo','fetchPrivacySettings','end',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','request\x20received\x20in\x20editFlowgroup','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','Connection\x20closed\x20for\x20instance:\x20','announce','sendPresenceUpdate','groups.upsert','isConnected','RECONNECT_TIME_FRAME','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','deleteMessage','readMessages','verbose',',\x20fará\x20nova\x20verificação\x20em\x20','\x20inseridos\x20no\x20banco\x20de\x20dados...','_Messages','idSchedule','organization','addReplyOption','flushHeaders','defineProperty','valid','Error\x20fetching\x20and\x20updating\x20profile:\x20','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','Erro\x20ao\x20atualizar\x20cacheInstance:','STORE_CLEANING_TERMINAL','request\x20received\x20in\x20editConversation','node-cache','textMessage','headerString','quick_reply','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','#b4ebff','processUazapi','evaluateConditionTest','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','updateChatGroupData','\x22\x20-\x20NOT\x20CONNECTION','/wa-groups','):\x20whoCanUse\x20after\x20validation:\x20','success','):\x20Current\x20Time:\x20','scheduleFlow','sendList','console','processawaitSeconds','uuid','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','processApiRequest','realVariables','):\x20Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x20','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20',',\x20Novo\x20tamanho:\x20','variables','ENABLED','\x20minutos\x20verificará\x20novas\x20mensagens','\x1b[46m','scheduleMessage','joinGroup','):\x20Rótulo\x20atualizado:\x20','messageTimestamp','groupRequestParticipantsList','https','CORS_METHODS','endsWith','updateFlowConfig','/instance/fetchInstances','):\x20Falha\x20ao\x20deletar\x20mensagem.','http://checkip.dyndns.org','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','pollCreationMessage','Erro\x20ao\x20alterar\x20fluxo','font','send','selectedDisplayText','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','apikey','Generated\x20IPv6:\x20','):\x20Buscando\x20conversa...','readdirSync','sendDataWebhook','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','sim','messages.set','#ffae04','execSync','_sender','):Business\x20profile\x20fetched','pushName','):\x20Entrou\x20na\x20função\x20scheduleFlow','removeData','instance','.type','Mensagem\x20não\x20suportada','getDelay','values','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','unavailable','Instâncias\x20removidas:\x20','responsavelid','findParticipants','ERROR','MESSAGES_UPDATE','cacheContactModel','latitude','updateAll','findOrCreate','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','URL\x20não\x20disponível','dbSettings','silent','Variável\x20não\x20encontrada!','router','deleteFlow','createButtonSectionsFromValues','testingWith','muteEndTime','message_normalized','createAndSave','Tentando\x20reconectar...','):\x20Buscando\x20flow...','CONNECTION_UPDATE','updateMissingTags','QRCODE_UPDATED','LOG_LEVEL','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','Erro\x20ao\x20deletar\x20a\x20conversa','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','MESSAGES_SET','menu_options','isRunning','Router','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','chat\x20não\x20encontrado','Last\x20message\x20not\x20found','/group','buffer','refused','mediaKey','header',',\x20canSendMessage:\x20','messaging-history.set','):\x20\x27Enviando\x20audio\x20para\x20\x27','SECRET','varedit','label_jid','removeIPv6ById','empty','Deleted\x20','):\x20Ler\x20mensagem','Bloco\x20com\x20ID\x20','pictureUrl','\x20segundos','createJid','https://api64.ipify.org?format=json','\x1b[32m%s\x1b[0m','docker','color','Telefone:\x20','getMessage','call','):Image\x20path:\x20','matchRegex','oldValue','base64','request\x20received\x20in\x20editFlowvariable','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','https://uazapi-plugin.bubbleapps.io/?url=','):Processing\x20audio','GUARD','1995180tyzSgl','ip6eui','_activedCount','lowerCase','isURL','\x0a*Você\x20respondeu*:\x0a','Schema','leadInfo.etiquetas','):\x20Chat\x20','json','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','floor','getStatus','AutomateSystem\x20não\x20foi\x20inicializado','12eYMkGi','JWT','isJWT','contactsArrayMessage','exports','createOrUpdate','buttonText','message','):\x20Erro\x20durante\x20a\x20atualização:\x20','_minute','fetchMessages','memberAddMode','sendWhatsAppAudio','removeInstance','Erro\x20ao\x20atualizar\x20conversa:\x20','status@broadcast','changeVariables','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','OrAnd','instance.','originalUrl','off','Error\x20removing\x20IPv6\x20address:\x20','):\x20Entrou\x20na\x20função\x20saveReply','action','deleteImportedChat','GROUPS_UPSERT','split','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','Contacts\x20not\x20found','removeIPv6','DB_PREFIX_NAME','imported','string','Conversa\x20deletada\x20com\x20sucesso.','ex:\x20\x22groupJid=120362@g.us\x22','chats.update','updateConversation','groupJid','condition','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','groupJoinApprovalMode','Erro\x20ao\x20criar\x20fluxo','):\x20','/*.json','SEND_MESSAGE','chats.upsert','logger','trim','processPollUpdateMessage','timeoutPromise',',\x20resultado:\x20','\x20do\x20chat\x20','groupRequestParticipantsUpdate','INFO','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','configureIPv6','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','stringify','interactiveResponseMessage','Cache-Control','remoteJid','processgoToFlow','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','updateGroupPicture','):Audio\x20converted\x20and\x20stored\x20in\x20cache','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','):\x20debug\x20alterando\x20this.AutomateSystem','groupDesc','replaceValue','startFlow','/instance/connectionState','_hour','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','getContentType','min','cacheContact','fone','):Type\x20defined\x20as\x20audio','groupdata','#ffffff','scheduleSendText','ChatModel','eventemitter2','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','image','fetchProfile','connectionStatus','\x1b[37m%s\x1b[0m','createServer','contacts','item','audioMessage','DATABASE_CONNECTION_PASSWORD','):Error\x20in\x20converting\x20audio','createSectionsFromValues','contactHandle','crypto','*Pergunta*:\x20\x0a','folder','):\x20Entrou\x20na\x20função\x20goToFlow','clearVariables','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','cpf','#83e421','profile','splice','Invalid\x20format','):\x20ev.flush\x20realizado','chatId','sendPoll','Erro\x20ao\x20atualizar\x20o\x20fluxo:','The\x20','selectableCount','normalizeMessageContent','conditions','loadInstance','updateChatWithMessage','1882555qlRcza','RemoteJid:','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','substring','HOST','put','/wa-presence','lastMessage','cachedContact','webhookService',']\x20(','groupGetInviteInfo','indexOf','drop','messages.upsert','45siqtVN','restrict','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','notMatchRegex','Erro\x20ao\x20atualizar\x20agendamento\x20','groupAcceptInvite','):\x20Instancia\x20isBusiness:\x20','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','true','setRestartTimeout','toBRL','\x27\x20não\x20encontrado','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','):\x20Editando\x20grupo\x20do\x20fluxo...','editFlow','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20',',\x20received\x20','updateGParticipate','fetchStatus','processblock','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','announcement','number','@g.us','Bad\x20Request','\x1b[1m','processReadyMessages','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','insertCount','audio/ogg;\x20codecs=opus','start','randomBytes','flowConfig','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','\x20tentativas.','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','#9ab6c1','Erro\x20ao\x20atualizar\x20AutomateSystem:','exists','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','arraybuffer','flattenObject','video','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','getConversationModelForOwner','AUTHENTICATION_JWT_SECRET','joinApprovalMode','contact_blacklist','wuid','ip\x20-6\x20addr\x20show\x20dev\x20','connection.update','request\x20received\x20in\x20updateAgent','STATUS_INSTANCE','):\x20\x27Enviando\x20mídia\x20para\x20\x27','qrCode','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','statusJidList','store','videoMessage','sharp','qrcode-terminal','uazapiSendMenu','participant','):\x20Adicionando\x20\x27','/events','upsertedCount','Erro\x20ao\x20iniciar\x20o\x20fluxo.','cleaningUp','\x27\x20do\x20banco\x20de\x20dados...','editFlowVaredit','[\x20SYSTEM\x20-\x20UAZAPI\x20]\x20-\x20Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la','charAt','/instance/create','view\x20engine','Erro\x20ao\x20buscar\x20a\x20conversa','Valor\x20da\x20URL\x20recuperada:','https://github.com/uazapi/uazapi.git','.svg','convertToWebP','address','options','\x20segundos\x20antes\x20de\x20reconectar...','extractPhoneNumber','menuMessage','default','bulkWrite','Falha\x20ao\x20processar\x20fetchBusinessProfile','editFlowGroup','DATABASE_CONNECTION_DB_PREFIX_NAME','order','https://ifconfig.me/ip','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','cwd','url','getflow','):\x20Procurando\x20PRONTAS\x20mensagens\x20para\x20envio','isCommunityAnnounce','block','dbConnection','$set','deleteAll','cache','instances','sendMedia','fetchBusinessProfile','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','request\x20received\x20in\x20getConversation','Forbidden','1824693mMxlUB','\x1b[33m\x1b[1m','flowStopConversation','hex','user','authState','\x20-i\x20','findConversation','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','labels.association','\x20horas\x20e\x20','labelId','text','chats.set','eventHandler','shareOwners','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','getMIMEType','editflowreply','PROXY','chats','Close\x20connection','request_method','role','preview','editMessagesInGroup','\x22\x20not\x20found','LICENSE_INVALID','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','initializeQueue','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','toggleEphemeral','startID','findManyByIds','_p_','this.reconnectAttempts:\x20','groupSettingUpdate','licenca','editFlowVariable','cta_url','removeChatLabel','delayChatLabel_RETRY_DELAY_MS','updateProfileStatus','numbers','#56ccb4','getPrototypeOf','makeCacheableSignalKeyStore','[TESTE\x20RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','audio/ogg','CHATS_DELETE','updateOne','fromObject','PASSWORD','groups','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','writeFileSync','mentioned','AutomateFunctions','lastInteraction','from','dbInstance','ScheduleMessage','stopWhenYouSendMsg','EMAIL','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','):Audio\x20processed','global','presence.update','PLAYED','Network\x20Interface\x20detected:\x20','deleteReplyOption','poll','messages','processConditionsTest','delaySecMin','beforeExit','reorderBlocks','application/json','https://api.openai.com/v1/images/generations','desativadoFluxoAte','formatBRNumber','autoCompleteMessages','fetchInstances','addToProcessedMessages','stdout','dataValidate','_remoteJid','sign','sendText','Erro\x20ao\x20executar\x20bulkWrite:','Variáveis\x20não\x20encontradas:','Erro\x20ao\x20alterar\x20privacidade','.fileUrl','collections','paused','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','):\x20[messages.upsert]\x20mensagem\x20duplicada\x20ignorada','removeProfilePicture','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','paramsJson','leaveGroup','output','thumbnailUrl','lean','/wa-chats','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','chatModify','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','\x20\x1b[0m','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','path','reduce','):Getting\x20image\x20from\x20url','Types','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','createGroup','isValidAndUniqueIPv6','Instance\x20deleted','):\x20[messages.update]\x20group\x20ignored','delay','statusCode','createNewConversation','padStart','Error\x20while\x20deleting\x20message\x20for\x20everyone','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','connectedClient','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','updatePrivacySettings','sendAudio','toArray','onWhatsApp','decryptPollVote','\x27\x20não\x20encontrado\x20na\x20memória','userDevicesCache','markMessageAsRead','imagechat','editflow','isJidBroadcast','toLowerCase','false','description','replaceVariables','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','findGroups','jid','\x20quoted:\x20','throwAndLogError','sha256','ContactsAndGroups','isJidUser','.webm','notify','):\x20Bloco\x20original\x20para\x20cópia:\x20','getChatModelForOwner','/create','PRESENCE_UPDATE','g.us','PRIVKEY','verifiedName','pow','):\x20error:\x20','warn','):Image\x20created','\x20adicionado\x20ao\x20chat\x20','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','messageHandle','errorLog','VERBOSE','groupFetchAllParticipating','sleep','subjectTime','Erro\x20de\x20atualização:\x20','.mp4','\x1b[1m\x1b[37m','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','unlocked','pollCreationMessageV2','revokeInviteCode','getTicketSystem','transformScheduledMessagesByType','):\x20atualização\x20chat:\x20','_id','webhookMap','goNextblock','saveVariable','-instances','remoteJids','findGroupsEspecial','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','\x1b[34m%s\x1b[0m','write','enviado\x20para','connecting','descOwner','\x27...','replaceVariablesInObject','dayjs','createButtonsFromValues','getMinutes','isJidGroup','groupValidate','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','groupCreate','Comando\x20desconhecido','):\x20whoCanEdit\x20before\x20validation:\x20','last','getLabelModelForOwner','promisify','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','Network\x20interfaces\x20detected:\x20','dbServer','SUCCESS','CONNECTION','reference','getProfileName','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','):\x20Enviando\x20mensagem\x20para\x20','Erro\x20ao\x20arquivar\x20chat','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','flowName','IPv6\x20Prefix\x20detected:\x20','remove','mentions','STORE','!stop','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','instanceInfo','greater','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','encoding','messageStubParameters','noConnection','\x20is\x20already\x20in\x20use.','proxy:\x20','jwt','content-type','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','mongodb','STORE_CONTACTS','endSession','round','match','nomecompleto','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','sections','approve','defineAuthState','/instance/connect','contacts.upsert','mediaSticker','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','Error\x20fetching\x20group','processedMessagesCache','redisEnv','AddUserFlow','50mb','toFile','lastCondition','\x20não\x20encontrado','flows','dark','child_process','upsertChats','sendMessageAck',',\x20saindo.','The\x20global\x20api\x20key\x20must\x20be\x20set','name','#d3a91f','groupName','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','timeout','stack','myAppStateKeyId','createConversationforStartFlow','mimetype','reorderMessages','equal','getValidWhatsAppNumbers','updateProfilePicturePrivacy','):\x20conversation.waitingMenu_name','Deletion\x20failed','Erro\x20ao\x20deletar\x20chat:','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','findGroup','saveMediaToFile','--------------------------------------','views','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','exit','AUTHENTICATION_API_KEY','isBase64','lastFetchAwaitingApproval','list2','isMessageProcessed','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','lastReceivedMessage','addresss','.TEL;waid=','node-mime-types','):including\x20timestamp\x20in\x20url:\x20','Authentication\x20error','updateAutoCompleteMessages','readreceipts','):\x20Editando\x20replyOption...','_month','statusMessage','webhook','READ','PRODUCT_LIST','Operador:\x20\x22','DARK','Falta\x20informação\x20para\x20a\x20chamada\x20API','/instance','getFlow','app-state-sync-key','updateMany','Falhou\x20ao\x20encontrar\x20chat\x20','Erro\x20ao\x20editar\x20agentes','Retornando\x20grupos\x20COM\x20cache','inviteUrl','data:\x20','awaitingApproval','):\x20Não\x20achou\x20nenhum\x20flow','fetchProfilePictureUrl','pendingMessages','GROUP_PARTICIPANTS_UPDATE','updateProfilePicture','):\x20Buscando\x20todos\x20os\x20fluxos...','ORG:','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','blocks','relayMessage','Partes\x20do\x20domínio:','single_select','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','):\x20Entrou\x20na\x20função\x20processawaitSeconds','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','IPv6\x20addresses\x20detected:\x20','sendMessage','eventEmitter','\x1b[40m','connectionState','_year','Instance\x20\x22','updateGroupWebhook','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','.error','getClient','/media/','documentWithCaptionMessage','flowConversation','REDIS_PREFIX_KEY','pm2\x20flush','telefone','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','stderr','messageLogs','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','webp','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','updateProfileName','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','utf8','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','\x1b[36m%s\x1b[0m','findById','sendButtons','\x20minutos','XX:XX:XX:XX:XX:XX','requestPairingCode','messagesLogs','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','queue','close','msgRetryCounterCache','Missing\x20global\x20api\x20key','):\x20Entrou\x20na\x20função\x20stop','updateGParticipant','local_map','reorderReplyOptions','mediatype','Subdomínio\x20final:','groupMemberAddMode','getAutomateSystem','Erro\x20ao\x20inserir\x20chats:','flowStopMinutes','add','authService','ff:fe','\x20depois\x20','extractMessageContent','\x20:\x20','getMessageModelForOwner','convert','#92ceac','replaceVariablesInReplyOptions','http','startCommand','privacySettings','none','waitingMenu_replyOptions','height','query','buttonParamsJson','findMessages','superadmin','segundos','sendReaction','CLEANING_INTERVAL','longitude','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','restartInstance','instanceName','pollMessageOnDelete','deleteDoneMessages','pollMessage','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','quoted','REDIS_URI','/wa-message-update','groupParticipantsUpdate','373184vMHygi','media','maxActives','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','envYaml','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','sendContact','filter','All_Instances_Config','Valor\x20de\x20find\x20ou\x20replace\x20ausente','Limpando\x20logs\x20do\x20PM2...','getDevice','):\x20Flow\x20\x27','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','\x5c$&','fromMe','getOwnPropertyDescriptor','):\x20updateResult:','quotedMessage','_error','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','):\x20conversation.status:\x20','):\x20Buscando\x20flow,\x20id:\x20',',\x20global:\x20','allflows','/wa-contacts','subject','available','Erro\x20ao\x20adicionar\x20label\x20','imageMessage','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','Erro\x20ao\x20buscar\x20o\x20fluxo','ip:\x20','dbClient','context','flow','post','redis','error','messageLogsModel','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','toUpperCase','locationMessage','ContactModel','nome','newStoppedUntil','no.connection','inviteCodeDetails','moreLogs','BufferJSON','Font\x20is\x20required','Grupo\x20não\x20encontrado','):\x20Error\x20processing\x20the\x20block:\x20','createFlow','test','\x1b[36m','Flow\x20iniciado','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','uncaughtException','goToFlow','):\x20Removendo\x20\x27','flowActive','^\x5cd+','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','exec','ms\x20(tentativa\x20','hDel','params','varedits','readMessageBot','):\x20Mensagem\x20já\x20enviada\x20para\x20','\x1b[33m','SSL_CONF_PRIVKEY','CORS_ORIGIN','Error\x20in\x20chatModify\x20for\x20number\x20','_pushName','):\x20Usando\x20extensão\x20padrão:\x20','PENDING','connectToWhatsapp','Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo','blockLogs','/wa-all-message','):\x20Conversa\x20está\x20expirada','limit','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','finish','awaitSeconds','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','_second','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','BRL','option','readFileSync','mongodb://','contains','):Image\x20is\x20url','\x1b[30m%s\x1b[0m','fetchProfilePicture','CONTACTS_SET','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','unreadcount','):\x20Entrou\x20na\x20função\x20clearVariables','not_announcement','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','hGetAll','_lastVote','No\x20suitable\x20network\x20interface\x20found','config','and','startFlowWebhook','\x20minutos...','groupHandler','SERVER_PORT','profilePicture','):\x20Fluxos\x20não\x20estão\x20ativados','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','match_last_seen','detail','editChat','WA\x20MODULE','findAll','dropIndex','online','):Fetching\x20business\x20profile','Safari','uazapiDeleteMessage','Instance\x20restarted',',\x20pairCode:\x20','class-validator','.ppt','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','Enter\x20a\x20value\x20in\x20milliseconds','qrcode','lastBlockId','CREDENTIALS','updateGroupsAddPrivacy','oldToken','some','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','\x1b[47m','):\x20Há\x20mensagens\x20prontas,\x20limpando\x20e\x20adicionando\x20à\x20fila','cachedContacts-whatsapp','archiveChat','client',',\x20qrcodeCount:\x20','_ScheduleMessages','Not\x20Found','updateAgent','error_log','API\x20Key\x20from\x20Request:','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','model','):Delete\x20chat','DOCKER_ENV','\x5cd+','owner','contact','isInteger','waitingMenu_ExpiredMessage','.ogg','whatsappNumber','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','editFlowCondition','downloadMediaMessage','debug','IP\x20mismatch:\x20configured\x20','temp-','findWebhook','stickerMessage',',\x20Resultado:\x20','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','[AUTH]\x20Database\x20is\x20not\x20enabled','findChats','leadInfo.customFields','waInstances','fora\x20do\x20git','writeData','URL\x20completa:','_fromMe','max','bateu\x20events','convertaudioMP3','unknown\x20operation\x20type\x20[','log','updateMissingCustomFields','deviceSentMessage','imgUrl','waMonitor','open','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','findAndReplace','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','content','prepareMediaMessage','cors','\x20chats\x20de\x20','unlinkSync','uazapiSendLocation','}}\x20->\x20valor\x20não\x20encontrado','groupUpdateDescription','leadInfo.','getHours','editConversation','slice','setWebhook','replace','/:instanceName','toLocaleString','contactMessage','setting','phoneNumber','getBase64FromMediaMessage','Flow\x20\x27','group','label','Erro\x20ao\x20atualizar\x20o\x20flow.','getBusinessProfile','sendLocation','title','groupLeave','\x0a{\x20instance:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','atendimentoAberto','\x1b[43m','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','processvaredits','dropCollection','generateRandomIPv6','ERROR:\x20','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','app','/config','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','):\x20Query\x20params:','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','):\x20Mensagens\x20PRONTAS\x20para\x20envio\x20encontradas:\x20','isBusiness','etiquetas','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','uazapiSendAudio','replacer','Erro\x20desconhecido\x20ao\x20tentar\x20enviar\x20mensagem\x20para\x20o\x20grupo','updateBlock','reject','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','scheduleSendAudio','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','waitingMenu_text','parseInt','use','):\x20Procurando\x20conversa','email','backgroundColor','LEVEL','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','delAll','code','picture','audio','groups.update','info','delete','generateHash','deleteInstance','everyOne','creation','getUniqueFlowName','document','Error\x20adding\x20IPv6\x20address:\x20','whoCanUse','undefined','request\x20received\x20in\x20getAutomateSystem','https://api.ipify.org?format=json','webhookModel','DELETED','mongoose','detectIPv6PrefixAndInterface','conversationTimestamp','chatLog','createConversationforgoToFlow','MESSAGES_UPSERT','SERVER_TYPE','pollErrorMessage','menuExpiredMessage','replaceOne','URL','method','[service]\x20request\x20received\x20in\x20sendButtons','error\x20get\x20vote','getScheduleMessageModelForOwner','documentMessage','${Message\x20absent\x20from\x20node}','apirequest','-whatsapp-api','Log\x20out\x20instance:\x20','inner','processclearVariables','/events/:instance','saveConversationToDatabase','save','prepareWAMessageMedia','):\x20Editando\x20condição\x20do\x20fluxo...','API_KEY','CONECTADO\x20À\x20UAZAPI','sendMessageWithTypingButtons','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','/wa-qrcode','updateCustomFields','fullName','ephemeralExpiration','instancias:\x20','connectionUpdate','deleted','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','caption','IP\x20confirmed:\x20','createHash','request\x20received\x20in\x20updateFlowConfig','expression','chats.delete','Last\x20message\x20not\x20found\x20for\x20number:\x20','applyvaredit','checkAndRestartProcess','waUploadToServer','editedMessage','uazapiSendContact','groupBetterSetting','src','stopMinutes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','load','chatHandle','lastUpdate',',\x20Minutes\x20to\x20Close:\x20','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','Failed\x20to\x20send\x20buttons\x20message','yes','request\x20received\x20in\x20editFlow','notEqual','isAdmin','object','stopMinutesMaxActives','AUTHENTICATION','AUTHENTICATION_TYPE','presenceSubscribe','groupUpdateSubject','connectToWhatsappController','participants','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','express','startsWith','enumerable','displayName','collection','Selecione\x20uma\x20opção','updateReplyOption','connectionClosed','Db\x20Connection','updateStopChat','sendSticker','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','state','locked','Atualização:\x20','!cmd_','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','evaluateCondition','GROUPS_UPDATE','findGroupInfo','https://','?timestamp=','.extension','repository','g-t','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','3EB0','):\x20Conversa\x20está\x20expirada\x20-\x20voto','convertedOptions','):\x20Criou\x20conversa\x20no\x20startFlow','pollCreationMessageV3','\x27\x20removido\x20do\x20AutomateSystem.','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','networkInterface','uazapiSendText','choices','):\x20Editando\x20variável\x20do\x20fluxo...','IPv6\x20address\x20configured:\x20','groupadd','groupdata.participants','#00a1f2','isLong','find','\x1b[41m','useMultiFileAuthState','all_member_add','messageSecret','chat','Erro\x20ao\x20remover\x20label\x20','singleSelectReply','groupMetadata','removed','getFullYear','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','all','errors','notEmpty','map','REDIS','File\x20written\x20to\x20path:\x20','deleteOne','../env.yml','stanzaId','@s.whatsapp.net','isArray','localWebhook','static','birthtime','deleteBlock','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','timeInMinutes','.mp3','):\x20expirationTime:\x20','):\x20Editando\x20edição\x20do\x20fluxo...','rows','isValidIPv6Config','FlowRouter','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','notContains','getConversation','data','LabelModel','not\x20loaded','updateOneById','admin','ephemeralMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','profileName','.png','verifyWhatsAppNumber','CONTACTS_UPDATE','):\x20sender\x20=\x20number:\x20','NextBlock','request\x20received\x20in\x20getFlow','SERVER','KEY','scheduleSendMedia','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','getDate','setNewValue','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','isBusinessInstance','\x20com\x20sucesso.','findAndUpdateCacheContact','del','editFlowBlock','$addToSet','saveCreds','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','./.git/config','editOperator','expiration','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','padEnd','DATABASE_CONNECTION_HOST','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','groupToggleEphemeral','SERVER_ACK','value','stopIfLastReturnedError','CHATS_UPDATE','archived','website','firstValue','toDataURL','promote','saveTextReply','length','descId','forEach','CORS','keys','count','LOG_COLOR','Error\x20in\x20prepareMediaMessage:','bodyString','#fe9dfe','nativeFlowMessage','/wa-connection-update','ignoreGroups','WebhookGlobal','variable','StatusJidList\x20is\x20required','remote\x20\x22origin\x22','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','_activatedCount','getAllData','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','namespace','unhandledRejection','getTime','TEL','.gif','EXPIRIN_IN','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','rowId','FULLCHAIN','size','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','configService','menuIgnoreNonVotes','):Temp\x20image\x20deleted','\x22reaction\x22\x20must\x20be\x20an\x20emoji','writeFile','updateGroupParticipantsWebhook','key','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','qrcode.updated','The\x20\x22','testIPv6','$pull','Botão\x201','Background\x20color\x20is\x20required','retrySendMessage','video-cover.png','labels.edit','\x22,\x20valor\x20a\x20substituir:\x20\x22','minutesToClose','findAndReplaceRegex','):\x20Flow\x20desativado','unreadCount','getScheduleMessage','):\x20Criando\x20fluxo\x20compartilhado...','DATABASE','cacheInstanceModel','cachedData-whatsapp','getContactModelForOwner','redirect','enabled','status.instance','#d8e651','updateMissingEtiquetas','optionDescription','Stack\x20trace:','uazapi','pollOnReplyDelete','tags','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','Type\x20is\x20required','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','):\x20Criando\x20fluxo...','admin_add','#dfaef0','1104247VhlbcB','DaysToDelete','proto','creds','width','groupInviteCode','E-mail:\x20','sort','get','2jvMvZn','.docx','no-cache','fetchLatestBaileysVersion','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','fetchLabels','1760997ZhQcXF','.X-ABLabel:Celular\x0a','Falha\x20ao\x20processar\x20a\x20solicitação','set','\x22\x20-\x20REMOVED','catch','$dbName','Novo\x20IP\x20criado:\x20'];a0_0x3579=function(){return _0x3ba674;};return a0_0x3579();}var ea=I(require(a0_0x7b141d(0x247))),hs=new ea[(a0_0x7b141d(0x2cf))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Me=require(a0_0x7b141d(0x5ab)),Ae=I(require('mongoose')),Ge=new $(a0_0x7b141d(0x5fd)),L=S['get'](a0_0x7b141d(0x6ad)),T=L[a0_0x7b141d(0x16f)]?L[a0_0x7b141d(0x3bf)][a0_0x7b141d(0x784)]?Ae['default']['createConnection'](L[a0_0x7b141d(0x3bf)][a0_0x7b141d(0x784)],{'dbName':L[a0_0x7b141d(0x3bf)][a0_0x7b141d(0x212)]+a0_0x7b141d(0x5bd)}):Ae[a0_0x7b141d(0x2cf)][a0_0x7b141d(0x6da)]('mongodb://'+L['CONNECTION'][a0_0x7b141d(0x26f)]+':'+L[a0_0x7b141d(0x3bf)][a0_0x7b141d(0x830)]+a0_0x7b141d(0x81f),{'user':L['CONNECTION'][a0_0x7b141d(0x7ee)],'pass':L['CONNECTION'][a0_0x7b141d(0x31b)],'dbName':L['CONNECTION'][a0_0x7b141d(0x212)]+a0_0x7b141d(0x5bd)}):null;L['ENABLED']&&Ge[a0_0x7b141d(0x59c)](a0_0x7b141d(0x7b2)+T['$dbName']);function a0_0x77b5(_0x30c948,_0xdaf058){const _0x357948=a0_0x3579();return a0_0x77b5=function(_0x77b5ab,_0x1b96b2){_0x77b5ab=_0x77b5ab-0x148;let _0x5a573b=_0x357948[_0x77b5ab];return _0x5a573b;},a0_0x77b5(_0x30c948,_0xdaf058);}var X=L[a0_0x7b141d(0x16f)]?L[a0_0x7b141d(0x3bf)]['URI']?Ae[a0_0x7b141d(0x2cf)][a0_0x7b141d(0x6da)](L[a0_0x7b141d(0x3bf)][a0_0x7b141d(0x784)],{'dbName':a0_0x7b141d(0x6af)}):Ae['default'][a0_0x7b141d(0x6da)](a0_0x7b141d(0x4f1)+L[a0_0x7b141d(0x3bf)][a0_0x7b141d(0x26f)]+':'+L['CONNECTION'][a0_0x7b141d(0x830)]+a0_0x7b141d(0x81f),{'user':L[a0_0x7b141d(0x3bf)][a0_0x7b141d(0x7ee)],'pass':L[a0_0x7b141d(0x3bf)][a0_0x7b141d(0x31b)],'dbName':a0_0x7b141d(0x521)}):null;X&&Ge['info'](a0_0x7b141d(0x7b2)+X[a0_0x7b141d(0x6d7)]),process['on'](a0_0x7b141d(0x332),()=>{const _0x3322ad=a0_0x7b141d;T&&T['close'](()=>{const _0x3e625a=a0_0x77b5;Ge[_0x3e625a(0x59c)]('Database\x20connection\x20closed.');}),X&&X[_0x3322ad(0x461)](()=>{const _0x137cfd=_0x3322ad;Ge[_0x137cfd(0x59c)]('CacheContacts\x20database\x20connection\x20closed.');});});var Xi=new Me[(a0_0x7b141d(0x1ea))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Zi=new Me[(a0_0x7b141d(0x1ea))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),eo=new Me[(a0_0x7b141d(0x1ea))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),to=new Me[(a0_0x7b141d(0x1ea))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Xi],'default':[]}},{'_id':!0x1}),so=new Me[(a0_0x7b141d(0x1ea))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':to,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Zi},'groupdata':{'type':eo,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ta=_0x545fc2=>{const _0x382389=a0_0x7b141d;let _0x4182ac='z_'+_0x545fc2+'_Chats';return T?.[_0x382389(0x52b)](_0x382389(0x246),so,_0x4182ac);},sa=require('mongoose'),ao=new sa[(a0_0x7b141d(0x1ea))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=_0x16ed4d=>{const _0x5b5480=a0_0x7b141d;let _0x4c8b94='z_'+_0x16ed4d+_0x5b5480(0x80f);return T?.['model'](_0x5b5480(0x4bf),ao,_0x4c8b94);},ia=require('mongoose'),gs=class{},io=new ia['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),oa=X?.['model'](gs['name'],io,a0_0x7b141d(0x37e)),ra=require('mongoose'),ms=class{},oo=new ra[(a0_0x7b141d(0x1ea))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Be=X?.[a0_0x7b141d(0x52b)](ms[a0_0x7b141d(0x3f5)],oo,'instances'),ws=require(a0_0x7b141d(0x5ab)),fs=class{},ro=new ws[(a0_0x7b141d(0x1ea))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),no=new ws[(a0_0x7b141d(0x1ea))]({'_id':{'type':String},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),na=X?.[a0_0x7b141d(0x52b)](fs[a0_0x7b141d(0x3f5)],no,a0_0x7b141d(0x45e)),ca=_0x172390=>{const _0x106ebf=a0_0x7b141d;let _0x2b8138='z_'+_0x172390+_0x106ebf(0x148);return T?.[_0x106ebf(0x52b)]('MessageModel',ro,_0x2b8138);},la=require('mongoose'),ys=class{},co=new la[(a0_0x7b141d(0x1ea))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ua=T?.[a0_0x7b141d(0x52b)](ys[a0_0x7b141d(0x3f5)],co,'authentication'),da=require('mongoose'),bs=class{},pa=new da['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});pa[a0_0x7b141d(0x8a7)](a0_0x7b141d(0x5c3),function(_0x32a5f0){const _0x4d197b=a0_0x7b141d;delete this[_0x4d197b(0x4d1)],delete this[_0x4d197b(0x839)],delete this[_0x4d197b(0x7a9)],delete this[_0x4d197b(0x2e9)],delete this[_0x4d197b(0x46d)],_0x32a5f0();});var ha=T?.['model'](bs[a0_0x7b141d(0x3f5)],pa,'webhook'),P=require(a0_0x7b141d(0x5ab)),Ss=require('uuid'),We=class{},Ms=class{},ma=new P['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Cs=new P[(a0_0x7b141d(0x1ea))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),lo=new P[(a0_0x7b141d(0x1ea))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':'Selecione'},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':a0_0x7b141d(0x7f9)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),fa=new P[(a0_0x7b141d(0x1ea))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),uo=new P[(a0_0x7b141d(0x1ea))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),po=new P[(a0_0x7b141d(0x1ea))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),vs=new P[(a0_0x7b141d(0x1ea))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ho=new P[(a0_0x7b141d(0x1ea))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),wa=new P[(a0_0x7b141d(0x1ea))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':lo},'apirequest':uo,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':ho,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ya=new P[(a0_0x7b141d(0x1ea))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ba=new P['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[vs],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x20c60a=a0_0x7b141d;return _0x20c60a(0x604)+Math['random']()[_0x20c60a(0x7b0)](0x24)[_0x20c60a(0x561)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x7b141d(0x375)},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});ba[a0_0x7b141d(0x8a7)]('findOneAndUpdate',function(_0x1f2542){const _0x5864f4=a0_0x7b141d;let _0x3487fb=this[_0x5864f4(0x7e1)]();if(_0x3487fb&&typeof _0x3487fb=='object'&&_0x5864f4(0x2de)in _0x3487fb){let _0x29998f=_0x3487fb[_0x5864f4(0x2de)];if(_0x29998f){let _0x23088a=new Set(),_0x5857c5=new Set(_0x29998f[_0x5864f4(0x16e)]?.[_0x5864f4(0x62e)](_0x46cd56=>_0x46cd56[_0x5864f4(0x3f5)])),_0x20519f=JSON[_0x5864f4(0x22d)](_0x29998f),_0x2a6a03=/{{(?!_)([^}]*)}}/g,_0x26129f;for(;(_0x26129f=_0x2a6a03['exec'](_0x20519f))!==null;)_0x5857c5[_0x5864f4(0x7cc)](_0x26129f[0x1])||_0x23088a[_0x5864f4(0x46e)](_0x26129f[0x1]);_0x23088a[_0x5864f4(0x693)]>0x0?(console['warn'](_0x5864f4(0x341),Array[_0x5864f4(0x322)](_0x23088a)),_0x29998f['variablesNotFound']=Array['from'](_0x23088a)):_0x29998f['variablesNotFound']=[],this['setUpdate']({'$set':_0x29998f});}}_0x1f2542();});var Ce=T?.[a0_0x7b141d(0x52b)](Ms[a0_0x7b141d(0x3f5)],ba,a0_0x7b141d(0x7d2)),go=new P[(a0_0x7b141d(0x1ea))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[vs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[po]},{'_id':!0x1}),mo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[vs],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'chatLog':go,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x7b141d(0x551)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'waitingMenu_replyOptions':{'type':[Cs],'default':[]}}),Sa=_0x3d5006=>{const _0x3fe68c=a0_0x7b141d;let _0x301d6b='z_'+_0x3d5006+'_FlowHistorico';return T?.[_0x3fe68c(0x52b)](_0x3fe68c(0x6ed),mo,_0x301d6b);},fo=new P[(a0_0x7b141d(0x1ea))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ga=new P[(a0_0x7b141d(0x1ea))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),wo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ga],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x7b141d(0x8ac)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[fo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ga,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ma=_0x455156=>{const _0x3771e6=a0_0x7b141d;let _0x38ca2f='z_'+_0x455156+_0x3771e6(0x525);return T?.[_0x3771e6(0x52b)](_0x3771e6(0x716),wo,_0x38ca2f);},Es=class{},yo=new P[(a0_0x7b141d(0x1ea))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),bo=new P[(a0_0x7b141d(0x1ea))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),So=new P[(a0_0x7b141d(0x1ea))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Mo=new P['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x7b141d(0x3cb)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),Co=new P[(a0_0x7b141d(0x1ea))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Eo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Co]},'customFields':{'type':[So]},'flowConfig':{'type':Mo,'default':{}},'flows':{'type':[bo],'default':[]},'autoCompleteMessages':{'type':[yo],'default':[]}}),Te=T?.[a0_0x7b141d(0x52b)](Es[a0_0x7b141d(0x3f5)],Eo,'AutomateSystem'),Ca=require(a0_0x7b141d(0x5ab)),vo=new Ca['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ea=_0x2de8a2=>{const _0x106bc7=a0_0x7b141d;let _0x44ef42='z_'+_0x2de8a2+'_Labels';return T?.['model'](_0x106bc7(0x646),vo,_0x44ef42);},_=class{constructor(_0x124f95){const _0x43234c=a0_0x7b141d;this['dbSettings']=_0x124f95[_0x43234c(0x6c9)](_0x43234c(0x6ad));}};function A(_0x788186){const _0x4385a3=a0_0x7b141d;let _0x1a0845={};for(let [_0x226d5b,_0x1bfa2b]of Object['entries'](_0x788186))if(typeof _0x1bfa2b==_0x4385a3(0x5ec)&&!Array[_0x4385a3(0x635)](_0x1bfa2b)){for(let [_0x440f45,_0x5b6e7f]of Object[_0x4385a3(0x6e4)](_0x1bfa2b))_0x1a0845[_0x226d5b+'.'+_0x440f45]=_0x5b6e7f;}else _0x1a0845[_0x226d5b]=_0x1bfa2b;return _0x1a0845;}var ze=class{constructor(_0x43a7c7,_0xe22cb0,_0x1568b0,_0x27fa90,_0x281f5f,_0x58a7f6,_0x4f0190,_0x3ece7b,_0x10c391,_0x6fcc9d,_0x524bfd,_0x21d322,_0x4a9cdd,_0x4aff1d){const _0xbd68c2=a0_0x7b141d;this[_0xbd68c2(0x1f9)]=_0x43a7c7,this[_0xbd68c2(0x624)]=_0xe22cb0,this[_0xbd68c2(0x530)]=_0x1568b0,this['cacheContact']=_0x27fa90,this[_0xbd68c2(0x450)]=_0x281f5f,this[_0xbd68c2(0x41e)]=_0x58a7f6,this['auth']=_0x4f0190,this['instance']=_0x3ece7b,this[_0xbd68c2(0x4b6)]=_0x10c391,this[_0xbd68c2(0x44a)]=_0x6fcc9d,this[_0xbd68c2(0x56c)]=_0x524bfd,this[_0xbd68c2(0x172)]=_0x21d322,this[_0xbd68c2(0x855)]=_0x4a9cdd,this['dbClient']=_0x4aff1d;}get[a0_0x7b141d(0x3bd)](){const _0x11c23f=a0_0x7b141d;return this[_0x11c23f(0x4b4)];}},He=class{},Ke=class extends _{[a0_0x7b141d(0x474)](_0x4ec9a2){return ca(_0x4ec9a2);}async[a0_0x7b141d(0x775)](_0x3bd67c,_0xa3254){const _0x19689e=a0_0x7b141d;if(_0x3bd67c[_0x19689e(0x675)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x19689e(0x474)](_0xa3254)[_0x19689e(0x7bb)]([..._0x3bd67c]))['length']};}catch(_0x5a90d5){return _0x5a90d5;}}async['find'](_0x570edd,_0x44a876){const _0x40c681=a0_0x7b141d;try{let _0x344605=this[_0x40c681(0x474)](_0x44a876),_0xb13f86=A(_0x570edd[_0x40c681(0x864)]);return await _0x344605[_0x40c681(0x61f)](_0xb13f86)[_0x40c681(0x6c8)]({'messageTimestamp':-0x1})[_0x40c681(0x4e7)](_0x570edd?.[_0x40c681(0x4e7)]??0x0)[_0x40c681(0x350)]();}catch{return[];}}async[a0_0x7b141d(0x59d)](_0x328b34,_0x11e86c){const _0x167f52=a0_0x7b141d;try{let _0x3b9515=this[_0x167f52(0x474)](_0x11e86c),_0x5a4824=A(_0x328b34[_0x167f52(0x864)]);await _0x3b9515[_0x167f52(0x76e)](_0x5a4824);}catch(_0xb7fd6e){console[_0x167f52(0x4b9)](_0xb7fd6e);}}async[a0_0x7b141d(0x889)](_0x4b35bb,_0x5a8fcf,_0x2ea876){const _0x506d37=a0_0x7b141d;try{let _0x5e76d6=this[_0x506d37(0x474)](_0x2ea876),_0x38771d=A(_0x4b35bb[_0x506d37(0x864)]);return await _0x5e76d6[_0x506d37(0x7c3)](_0x38771d,{'$set':_0x5a8fcf},{'new':!0x0});}catch(_0x3578c0){throw console['error'](_0x3578c0),_0x3578c0;}}async[a0_0x7b141d(0x7bb)](_0x497534,_0x43974b){const _0x39ac5f=a0_0x7b141d;if(_0x497534['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x39ac5f(0x474)](_0x43974b)[_0x39ac5f(0x7bb)]([..._0x497534]))[_0x39ac5f(0x675)]};}catch(_0x4b0c44){return console['log'](_0x39ac5f(0x57a),_0x4b0c44),_0x4b0c44;}}async[a0_0x7b141d(0x2df)](_0x2952c9){const _0x596a92=a0_0x7b141d;try{return await this[_0x596a92(0x474)](_0x2952c9)[_0x596a92(0x5f9)]['drop'](),{'success':!0x0};}catch(_0x2d5b22){return console[_0x596a92(0x4b9)](_0x2d5b22),{'success':!0x1,'error':_0x2d5b22};}}},Ps=I(require('@ffmpeg-installer/ffmpeg')),w=I(require(a0_0x7b141d(0x819))),Le=require('fs'),j=I(require(a0_0x7b141d(0x357))),Q=I(require(a0_0x7b141d(0x84f))),Ti=require(a0_0x7b141d(0x167)),Ii=I(require(a0_0x7b141d(0x518))),_i=I(require(a0_0x7b141d(0x2b7))),va=[a0_0x7b141d(0x4b0),a0_0x7b141d(0x5ba),a0_0x7b141d(0x251),a0_0x7b141d(0x2b5),a0_0x7b141d(0x53d)],Na=[a0_0x7b141d(0x64a),a0_0x7b141d(0x449),a0_0x7b141d(0x810),a0_0x7b141d(0x71c)],Ds=require('os'),Ft=I(require('pino')),Fe=require(a0_0x7b141d(0x3f0)),Oi=require(a0_0x7b141d(0x416)),ge=I(require(a0_0x7b141d(0x5ab))),J=require(a0_0x7b141d(0x514)),ue=class{constructor(_0x1d4981,_0x195e83,_0x4c4847){const _0x1a0d31=a0_0x7b141d;this[_0x1a0d31(0x37a)]=_0x1d4981,this[_0x1a0d31(0x2a1)]=_0x195e83,this[_0x1a0d31(0x3f5)]=_0x4c4847;}},Qe=class{},Ye=class{},Ie=class{},Xe=class{},Ze=class{},Ee=class{},et=class{},tt=class{},st=class{},at=class{},Ot=I(require('express')),$a=require('fs'),Ra=require('path');async function _e(_0x43f220){const _0x3c2567=a0_0x7b141d;let _0x36bf5d=G[_0x3c2567(0x543)][_0x43f220];if(L['ENABLED']){let _0x10adbb=T[_0x3c2567(0x447)]()['db'](L[_0x3c2567(0x3bf)][_0x3c2567(0x212)]+_0x3c2567(0x3a3))[_0x3c2567(0x5f9)](_0x43f220);return _0x36bf5d||(await _0x10adbb[_0x3c2567(0x61f)]({})[_0x3c2567(0x36b)]())['length']>0x0;}return _0x36bf5d||(0x0,$a[_0x3c2567(0x713)])((0x0,Ra['join'])(Se,_0x43f220));}async function Aa(_0x514c00,_0x36b33f,_0xc92f27){const _0x23a502=a0_0x7b141d;if(_0x514c00[_0x23a502(0x206)][_0x23a502(0x87b)](_0x23a502(0x2c3))||_0x514c00[_0x23a502(0x206)][_0x23a502(0x87b)](_0x23a502(0x17b))||_0x514c00['originalUrl']['includes'](_0x23a502(0x89a))||_0x514c00[_0x23a502(0x206)]['includes'](_0x23a502(0x57e))||_0x514c00['originalUrl'][_0x23a502(0x87b)](_0x23a502(0x3e2))||_0x514c00[_0x23a502(0x206)][_0x23a502(0x87b)](_0x23a502(0x23b))||_0x514c00[_0x23a502(0x206)][_0x23a502(0x87b)]('/instance/delete'))return _0xc92f27();let _0x2bde0e=_0x514c00[_0x23a502(0x4d7)];if(!_0x2bde0e?.[_0x23a502(0x488)])throw new m(_0x23a502(0x84d));if(!await _e(_0x2bde0e[_0x23a502(0x488)]))throw new U(_0x23a502(0x265)+_0x2bde0e[_0x23a502(0x488)]+'\x20instance\x20does\x20not\x20exist');_0xc92f27();}async function Ta(_0x1f41ce,_0x3fa909,_0x250aeb){const _0x316c7f=a0_0x7b141d;if(_0x1f41ce[_0x316c7f(0x206)][_0x316c7f(0x87b)](_0x316c7f(0x2c3))){let _0x55b040=_0x1f41ce[_0x316c7f(0x7a2)];if(await _e(_0x55b040[_0x316c7f(0x488)]))throw new Z(_0x316c7f(0x832)+_0x55b040[_0x316c7f(0x488)]+_0x316c7f(0x3d3));G[_0x316c7f(0x543)][_0x55b040[_0x316c7f(0x488)]]&&delete G[_0x316c7f(0x543)][_0x55b040[_0x316c7f(0x488)]];}_0x250aeb();}var Ia=require(a0_0x7b141d(0x514)),_a=I(require('jsonwebtoken')),it=a0_0x7b141d(0x6b8),$o=new $(a0_0x7b141d(0x1e3));async function Ro(_0x62c232,_0x50140e,_0x3cba31){const _0x53cf71=a0_0x7b141d;let _0x51764e=_0x62c232[_0x53cf71(0x6c9)](_0x53cf71(0x185));if(_0x51764e&&S[_0x53cf71(0x6c9)]('AUTHENTICATION')[_0x53cf71(0x5c6)][_0x53cf71(0x654)]!==_0x51764e)throw new ie();if(S[_0x53cf71(0x6c9)](_0x53cf71(0x5ee))[_0x53cf71(0x5c6)]['KEY']===_0x51764e)return _0x3cba31();if((_0x62c232[_0x53cf71(0x206)]['includes']('/instance/create')||_0x62c232[_0x53cf71(0x206)][_0x53cf71(0x87b)]('/instance/fetchInstances'))&&!_0x51764e)throw new Z(_0x53cf71(0x463),_0x53cf71(0x3f4));let _0x4f687a=S[_0x53cf71(0x6c9)](_0x53cf71(0x5ee))[_0x53cf71(0x1f3)];try{let [_0x175c07,_0x582e25]=_0x62c232[_0x53cf71(0x6c9)]('authorization')[_0x53cf71(0x20d)]('\x20');if(_0x175c07['toLowerCase']()!==_0x53cf71(0x8af))throw new ie();if(!(0x0,Ia[_0x53cf71(0x1f4)])(_0x582e25))throw new ie();let _0x36782e=_0x62c232['params'],_0x18025b=_a['default']['verify'](_0x582e25,_0x4f687a[_0x53cf71(0x1c9)],{'ignoreExpiration':_0x4f687a['EXPIRIN_IN']===0x0});if(_0x36782e[_0x53cf71(0x488)]!==_0x18025b[_0x53cf71(0x488)]||it!==_0x18025b[_0x53cf71(0x8a8)])throw new ie();return _0x3cba31();}catch(_0x3bcfde){throw $o[_0x53cf71(0x4b9)](_0x3bcfde),new ie();}}async function Ao(_0x1b7055,_0x192951,_0x163600){const _0x46f86c=a0_0x7b141d;let _0x547c20=S['get'](_0x46f86c(0x5ee))[_0x46f86c(0x5c6)],_0x11ebd8=_0x1b7055['get'](_0x46f86c(0x185));if(_0x547c20[_0x46f86c(0x654)]===_0x11ebd8)return _0x163600();if(_0x1b7055[_0x46f86c(0x206)][_0x46f86c(0x87b)](_0x46f86c(0x2c3))){let _0x12d0a8=xa,_0x2190d7=_0x1b7055[_0x46f86c(0x7a2)]['instanceName'];if(_0x12d0a8&&_0x2190d7[_0x46f86c(0x374)]()[_0x46f86c(0x5f6)](_0x12d0a8['toLowerCase']()))return _0x163600();if(!_0x11ebd8)throw new Z('Missing\x20global\x20api\x20key',_0x46f86c(0x3f4));}if(_0x1b7055[_0x46f86c(0x206)]['includes'](_0x46f86c(0x17b))&&!_0x11ebd8)throw new Z(_0x46f86c(0x463),_0x46f86c(0x3f4));if(_0x1b7055[_0x46f86c(0x206)][_0x46f86c(0x87b)]('/exit')&&!_0x11ebd8)throw new Z(_0x46f86c(0x463),_0x46f86c(0x3f4));if(_0x1b7055[_0x46f86c(0x206)][_0x46f86c(0x87b)]('/config')&&!_0x11ebd8)throw new Z(_0x46f86c(0x463),_0x46f86c(0x3f4));try{let _0x14b075=_0x1b7055[_0x46f86c(0x4d7)],_0x2063ec=await fe['auth'][_0x46f86c(0x61f)](_0x14b075[_0x46f86c(0x488)]);if(_0x2063ec&&_0x2063ec[_0x46f86c(0x185)]===_0x11ebd8)return _0x163600();}catch{}throw new ie();}var Oa={'jwt':Ro,'apikey':Ao},pi=require(a0_0x7b141d(0x5f5)),C=require(a0_0x7b141d(0x167)),E=(..._0x4f0edc)=>{const _0x4a5f96=a0_0x7b141d;let _0xda38ed={};return _0x4f0edc[_0x4a5f96(0x677)](_0x3c3a44=>_0xda38ed[_0x3c3a44]={'minLength':0x1,'description':_0x4a5f96(0x69e)+_0x3c3a44+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x4f0edc]}},'then':{'properties':_0xda38ed}};},N={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'instanceName':{'type':a0_0x7b141d(0x214)}},...E(a0_0x7b141d(0x488))},Ac={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'oldToken':{'type':a0_0x7b141d(0x214)}},'required':[a0_0x7b141d(0x51c)],...E(a0_0x7b141d(0x51c))},Tc={'properties':{'key':{'type':a0_0x7b141d(0x5ec),'properties':{'id':{'type':a0_0x7b141d(0x214)},'remoteJid':{'type':a0_0x7b141d(0x214)},'fromMe':{'type':a0_0x7b141d(0x778),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x7b141d(0x4a2)],...E('id','remoteJid')},'message':{'type':'object'}}},oe={'properties':{'delay':{'type':a0_0x7b141d(0x751),'description':a0_0x7b141d(0x517)},'presence':{'type':a0_0x7b141d(0x214),'enum':[a0_0x7b141d(0x19b),a0_0x7b141d(0x4ae),a0_0x7b141d(0x82f),'recording',a0_0x7b141d(0x345)]}}},ee={'type':a0_0x7b141d(0x214),'description':a0_0x7b141d(0x260)},Pa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...ee},'options':{...oe},'textMessage':{'type':a0_0x7b141d(0x5ec),'properties':{'text':{'type':'string'}},'required':['text'],...E(a0_0x7b141d(0x2f3))}},'required':[a0_0x7b141d(0x155),a0_0x7b141d(0x291)]},Da={'type':a0_0x7b141d(0x214),'pattern':a0_0x7b141d(0x3cf),'description':a0_0x7b141d(0x260)},Ic={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'number':{...Da},'options':{...oe},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x7b141d(0x214)}},'required':[a0_0x7b141d(0x2f3)],...E('text')}},'required':[a0_0x7b141d(0x155),a0_0x7b141d(0x291)]},_c={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'number':{...Da},'options':{...oe},'mediaMessage':{'type':a0_0x7b141d(0x5ec),'properties':{'mediatype':{'type':a0_0x7b141d(0x214),'enum':[a0_0x7b141d(0x24a),a0_0x7b141d(0x5a3),a0_0x7b141d(0x2a5),a0_0x7b141d(0x59a)]},'media':{'type':a0_0x7b141d(0x214)},'fileName':{'type':a0_0x7b141d(0x214)},'caption':{'type':a0_0x7b141d(0x214)}},'required':[a0_0x7b141d(0x468),a0_0x7b141d(0x492)],...E(a0_0x7b141d(0x7ed),a0_0x7b141d(0x5d2),'media')}},'required':[a0_0x7b141d(0x79e),'number']},ka={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'number':{...ee},'options':{...oe},'stickerMessage':{'type':a0_0x7b141d(0x5ec),'properties':{'image':{'type':'string'}},'required':[a0_0x7b141d(0x24a)],...E(a0_0x7b141d(0x24a))}},'required':['stickerMessage','number']},La={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':'string','enum':[a0_0x7b141d(0x2f3),'image','audio',a0_0x7b141d(0x2a5)]},'content':{'type':'string'},'caption':{'type':a0_0x7b141d(0x214)},'backgroundColor':{'type':a0_0x7b141d(0x214)},'font':{'type':a0_0x7b141d(0x751),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x7b141d(0x719),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x7b141d(0x214),'pattern':a0_0x7b141d(0x4d2),'description':a0_0x7b141d(0x765)}},'allContacts':{'type':a0_0x7b141d(0x778),'enum':[!0x0,!0x1]}},'required':['type',a0_0x7b141d(0x556)],...E(a0_0x7b141d(0x7ef),a0_0x7b141d(0x556))}},'required':[a0_0x7b141d(0x41d)]},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'number':{...ee},'options':{...oe},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x7b141d(0x214),'enum':[a0_0x7b141d(0x24a),a0_0x7b141d(0x5a3),a0_0x7b141d(0x2a5),a0_0x7b141d(0x59a)]},'media':{'type':a0_0x7b141d(0x214)},'fileName':{'type':a0_0x7b141d(0x214)},'caption':{'type':a0_0x7b141d(0x214)}},'required':[a0_0x7b141d(0x468),a0_0x7b141d(0x492)],...E(a0_0x7b141d(0x7ed),a0_0x7b141d(0x5d2),a0_0x7b141d(0x492))}},'required':[a0_0x7b141d(0x79e),a0_0x7b141d(0x291)]},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'number':{...ee},'options':{...oe},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0x7b141d(0x214)}},'required':['audio'],...E(a0_0x7b141d(0x59a))}},'required':[a0_0x7b141d(0x251),a0_0x7b141d(0x291)]},ja={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'number':{...ee},'pollMessage':{'type':'object','properties':{'name':{'type':'string'},'selectableCount':{'type':'number'},'values':{'type':a0_0x7b141d(0x719),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x7b141d(0x3f5),a0_0x7b141d(0x266),a0_0x7b141d(0x198)],...E('name',a0_0x7b141d(0x266),a0_0x7b141d(0x198))}},'required':[a0_0x7b141d(0x291),'pollMessage']},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'number':{...ee},'menuMessage':{'type':a0_0x7b141d(0x5ec),'properties':{'text':{'type':'string'},'choices':{'type':a0_0x7b141d(0x719),'uniqueItems':!0x0}},'required':[a0_0x7b141d(0x2f3),'choices'],...E(a0_0x7b141d(0x2f3),a0_0x7b141d(0x618))}},'required':[a0_0x7b141d(0x291),a0_0x7b141d(0x2ce)]},qa={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'number':{...ee},'options':{...oe},'locationMessage':{'type':a0_0x7b141d(0x5ec),'properties':{'latitude':{'type':a0_0x7b141d(0x291)},'longitude':{'type':a0_0x7b141d(0x291)},'name':{'type':a0_0x7b141d(0x214)},'address':{'type':'string'}},'required':[a0_0x7b141d(0x1a2),a0_0x7b141d(0x485)],...E(a0_0x7b141d(0x3f5),a0_0x7b141d(0x414))}},'required':['number','locationMessage']},Va={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'number':{...ee},'options':{...oe},'listMessage':{'type':a0_0x7b141d(0x5ec),'properties':{'title':{'type':a0_0x7b141d(0x214)},'description':{'type':a0_0x7b141d(0x214)},'footerText':{'type':a0_0x7b141d(0x214)},'buttonText':{'type':a0_0x7b141d(0x214)},'sections':{'type':a0_0x7b141d(0x719),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x7b141d(0x5ec),'properties':{'title':{'type':'string'},'rows':{'type':a0_0x7b141d(0x719),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':'string'},'rowId':{'type':a0_0x7b141d(0x214)}},'required':['title','rowId'],...E('title',a0_0x7b141d(0x691))}}},'required':[a0_0x7b141d(0x570),a0_0x7b141d(0x63f)],...E(a0_0x7b141d(0x570))}}},'required':[a0_0x7b141d(0x570),a0_0x7b141d(0x376),a0_0x7b141d(0x1f8),a0_0x7b141d(0x3df)],...E(a0_0x7b141d(0x570),a0_0x7b141d(0x376),a0_0x7b141d(0x1f8),a0_0x7b141d(0x787))}},'required':[a0_0x7b141d(0x291),a0_0x7b141d(0x770)]},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'number':{...ee},'options':{...oe},'contactMessage':{'type':'array','items':{'type':'object','properties':{'fullName':{'type':a0_0x7b141d(0x214)},'phoneNumber':{'type':a0_0x7b141d(0x214),'minLength':0xa}},'required':[a0_0x7b141d(0x5cc),a0_0x7b141d(0x568)],...E(a0_0x7b141d(0x5cc))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number','contactMessage']},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0x7b141d(0x5ec),'properties':{'id':{'type':a0_0x7b141d(0x214)},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','remoteJid','fromMe'],...E('id',a0_0x7b141d(0x230))},'reaction':{'type':a0_0x7b141d(0x214)}},'required':[a0_0x7b141d(0x69b),'reaction'],...E(a0_0x7b141d(0x7f3))}},'required':['reactionMessage']},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'numbers':{'type':a0_0x7b141d(0x719),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':'^\x5cd+','description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},za={'$id':(0x0,C['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x7b141d(0x719),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x7b141d(0x778),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x7b141d(0x214)}},'required':['id',a0_0x7b141d(0x4a2),a0_0x7b141d(0x230)],...E('id',a0_0x7b141d(0x230))}}},'required':['readMessages']},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':a0_0x7b141d(0x214),'enum':[a0_0x7b141d(0x62b),'none']},'profile':{'type':'string','enum':['all','contacts','contact_blacklist','none']},'status':{'type':a0_0x7b141d(0x214),'enum':[a0_0x7b141d(0x62b),a0_0x7b141d(0x24f),a0_0x7b141d(0x2aa),a0_0x7b141d(0x47b)]},'online':{'type':a0_0x7b141d(0x214),'enum':[a0_0x7b141d(0x62b),a0_0x7b141d(0x508)]},'last':{'type':'string','enum':[a0_0x7b141d(0x62b),a0_0x7b141d(0x24f),'contact_blacklist',a0_0x7b141d(0x47b)]},'groupadd':{'type':a0_0x7b141d(0x214),'enum':[a0_0x7b141d(0x62b),'contacts',a0_0x7b141d(0x2aa),a0_0x7b141d(0x47b)]}},'required':[a0_0x7b141d(0x41a),a0_0x7b141d(0x25e),a0_0x7b141d(0x756),a0_0x7b141d(0x50e),a0_0x7b141d(0x3b8),'groupadd'],...E(a0_0x7b141d(0x41a),a0_0x7b141d(0x25e),a0_0x7b141d(0x756),a0_0x7b141d(0x50e),a0_0x7b141d(0x3b8),a0_0x7b141d(0x61b))}},'required':[a0_0x7b141d(0x47a)]},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'lastMessage':{'type':a0_0x7b141d(0x5ec),'properties':{'key':{'type':a0_0x7b141d(0x5ec),'properties':{'id':{'type':a0_0x7b141d(0x214)},'remoteJid':{'type':a0_0x7b141d(0x214)},'fromMe':{'type':a0_0x7b141d(0x778),'enum':[!0x0,!0x1]}},'required':['id',a0_0x7b141d(0x4a2),a0_0x7b141d(0x230)],...E('id',a0_0x7b141d(0x230))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x7b141d(0x69b)],...E(a0_0x7b141d(0x175))},'archive':{'type':a0_0x7b141d(0x778),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x7b141d(0x7eb)]},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'id':{'type':a0_0x7b141d(0x214)},'fromMe':{'type':a0_0x7b141d(0x778),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x7b141d(0x214)},'participant':{'type':a0_0x7b141d(0x214)}},'required':['id',a0_0x7b141d(0x4a2),'remoteJid'],...E('id',a0_0x7b141d(0x230),a0_0x7b141d(0x2b9))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'where':{'type':a0_0x7b141d(0x5ec),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x7b141d(0x214),'minLength':0x1},'id':{'type':a0_0x7b141d(0x214),'minLength':0x1}},...E(a0_0x7b141d(0x39f),'id',a0_0x7b141d(0x191))}}},Xa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'name':{'type':a0_0x7b141d(0x214)}},...E(a0_0x7b141d(0x3f5))},Za={'$id':(0x0,C['v4'])(),'type':'object','properties':{'status':{'type':'string'}},...E(a0_0x7b141d(0x756))},Oe={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'number':{'type':a0_0x7b141d(0x214)},'picture':{'type':'string'}}},ei={'type':a0_0x7b141d(0x5ec),'properties':{'wuid':{'type':a0_0x7b141d(0x214)},'name':{'type':a0_0x7b141d(0x214)},'picture':{'type':a0_0x7b141d(0x214)},'status':{'type':'string'},'isBusiness':{'type':a0_0x7b141d(0x778)}}},ti={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'where':{'type':a0_0x7b141d(0x5ec),'properties':{'_id':{'type':a0_0x7b141d(0x214),'minLength':0x1},'key':{'type':a0_0x7b141d(0x5ec),'if':{'propertyNames':{'enum':[a0_0x7b141d(0x4a2),'remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':a0_0x7b141d(0x214),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':'string','minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...E(a0_0x7b141d(0x39f))},'limit':{'type':a0_0x7b141d(0x751)}}},Oc={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'where':{'type':a0_0x7b141d(0x5ec),'properties':{'_id':{'type':a0_0x7b141d(0x214)},'remoteJid':{'type':a0_0x7b141d(0x214)},'id':{'type':'string'},'fromMe':{'type':a0_0x7b141d(0x778),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x7b141d(0x214)},'status':{'type':a0_0x7b141d(0x214),'enum':['ERROR',a0_0x7b141d(0x4e1),a0_0x7b141d(0x66b),'DELIVERY_ACK',a0_0x7b141d(0x41f),a0_0x7b141d(0x32b)]}},...E(a0_0x7b141d(0x39f),a0_0x7b141d(0x230),'id',a0_0x7b141d(0x756))},'limit':{'type':a0_0x7b141d(0x751)}}},si={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...ee},'presence':{'type':'string','enum':['unavailable',a0_0x7b141d(0x4ae),a0_0x7b141d(0x82f),a0_0x7b141d(0x7bd),a0_0x7b141d(0x345)]}},'required':[a0_0x7b141d(0x738),a0_0x7b141d(0x291)]},ai={'$id':(0x0,C['v4'])(),'type':'object','properties':{'subject':{'type':a0_0x7b141d(0x214)},'description':{'type':a0_0x7b141d(0x214)},'profilePicture':{'type':a0_0x7b141d(0x214)},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x7b141d(0x52e),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x7b141d(0x4ad),'participants'],...E(a0_0x7b141d(0x4ad),a0_0x7b141d(0x376),a0_0x7b141d(0x505))},xe={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'groupJid':{'type':a0_0x7b141d(0x214),'pattern':a0_0x7b141d(0x71e)}},'required':['groupJid'],...E(a0_0x7b141d(0x219))},ii={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'groupJid':{'type':a0_0x7b141d(0x214)},'action':{'type':a0_0x7b141d(0x214),'enum':[a0_0x7b141d(0x46e),a0_0x7b141d(0x3c8),a0_0x7b141d(0x673),'demote',a0_0x7b141d(0x58a),a0_0x7b141d(0x3e0)]},'participants':{'type':a0_0x7b141d(0x719),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x7b141d(0x214),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x7b141d(0x44e)}}},'required':[a0_0x7b141d(0x219),a0_0x7b141d(0x20a),a0_0x7b141d(0x5f3)],...E('groupJid',a0_0x7b141d(0x20a))},oi={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x7b141d(0x214)},'expiration':{'type':a0_0x7b141d(0x291),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x7b141d(0x219),'expiration'],...E(a0_0x7b141d(0x219),a0_0x7b141d(0x665))},ri={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'groupJid':{'type':'string'},'image':{'type':a0_0x7b141d(0x214)}},'required':[a0_0x7b141d(0x219),a0_0x7b141d(0x24a)],...E(a0_0x7b141d(0x219),a0_0x7b141d(0x24a))},ni={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'groupJid':{'type':a0_0x7b141d(0x214)},'description':{'type':'string'}},'required':[a0_0x7b141d(0x219),a0_0x7b141d(0x376)],...E(a0_0x7b141d(0x219),'description')},ci={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x7b141d(0x214)},'name':{'type':'string'}},'required':[a0_0x7b141d(0x219),'name'],...E(a0_0x7b141d(0x219),a0_0x7b141d(0x3f5))},li={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'groupJid':{'type':a0_0x7b141d(0x214)},'setting':{'type':a0_0x7b141d(0x214),'enum':[a0_0x7b141d(0x290),a0_0x7b141d(0x4fa),a0_0x7b141d(0x399),'locked']}},'required':[a0_0x7b141d(0x219),a0_0x7b141d(0x567)],...E('groupJid',a0_0x7b141d(0x567))},ui={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'groupJid':{'type':a0_0x7b141d(0x214)},'restrict':{'type':a0_0x7b141d(0x778)},'announce':{'type':a0_0x7b141d(0x778)},'memberAddMode':{'type':a0_0x7b141d(0x778)},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':a0_0x7b141d(0x751),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x7b141d(0x214)},'description':{'type':a0_0x7b141d(0x214)},'image':{'type':a0_0x7b141d(0x214)}}},Ns={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'inviteCode':{'type':a0_0x7b141d(0x214)}},'required':[a0_0x7b141d(0x844)],...E(a0_0x7b141d(0x844))},di={'$id':(0x0,C['v4'])(),'type':a0_0x7b141d(0x5ec),'properties':{'url':{'type':a0_0x7b141d(0x214)},'enabled':{'type':a0_0x7b141d(0x778),'enum':[!0x0,!0x1]}},'required':[a0_0x7b141d(0x2d8),a0_0x7b141d(0x6b2)]},xc={'$id':(0x0,C['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x7b141d(0x778),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x7b141d(0x778),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x7b141d(0x778),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x7b141d(0x778),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x7b141d(0x778),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x7b141d(0x778),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x7b141d(0x778),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x7b141d(0x778),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x7b141d(0x778),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x7b141d(0x778),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x7b141d(0x778),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x7b141d(0x778),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x7b141d(0x778),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x7b141d(0x778),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x7b141d(0x778),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x7b141d(0x778),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x7b141d(0x778),'enum':[!0x0,!0x1]}},'required':[a0_0x7b141d(0x466),'STATUS_INSTANCE',a0_0x7b141d(0x1b5),'MESSAGES_SET',a0_0x7b141d(0x1a0),a0_0x7b141d(0x5b0),a0_0x7b141d(0x220),a0_0x7b141d(0x4f6),a0_0x7b141d(0x82a),a0_0x7b141d(0x64f),'PRESENCE_UPDATE',a0_0x7b141d(0x7b8),a0_0x7b141d(0x8b2),'CHATS_UPDATE','CHATS_DELETE','CONNECTION_UPDATE',a0_0x7b141d(0x20c),a0_0x7b141d(0x607),'GROUP_PARTICIPANTS_UPDATE'],...E(a0_0x7b141d(0x466),a0_0x7b141d(0x2af),'QRCODE_UPDATED',a0_0x7b141d(0x1ba),a0_0x7b141d(0x1a0),'MESSAGES_UPSERT',a0_0x7b141d(0x220),'CONTACTS_SET',a0_0x7b141d(0x82a),a0_0x7b141d(0x64f),a0_0x7b141d(0x385),a0_0x7b141d(0x7b8),a0_0x7b141d(0x8b2),'CHATS_UPDATE','CHATS_DELETE',a0_0x7b141d(0x1b3),a0_0x7b141d(0x20c),a0_0x7b141d(0x607),a0_0x7b141d(0x431))},ot=class{},rt=class extends _{[a0_0x7b141d(0x6b0)](_0x42bf81){return aa(_0x42bf81);}async[a0_0x7b141d(0x775)](_0x40cd83){const _0x53159e=a0_0x7b141d;if(_0x40cd83[_0x53159e(0x675)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x40cd83[0x0][_0x53159e(0x52f)])[_0x53159e(0x7bb)]([..._0x40cd83]))[_0x53159e(0x675)]};}catch(_0x476e7f){return _0x476e7f;}}async[a0_0x7b141d(0x59d)](_0x38cb88,_0x5c3f01){const _0x474c8f=a0_0x7b141d;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x5c3f01)[_0x474c8f(0x76e)]({..._0x38cb88[_0x474c8f(0x864)]}))[_0x474c8f(0x75f)]};}catch(_0x204713){return{'error':_0x204713?.['toString']()};}}async['update'](_0x5579da,_0x419edb){const _0x11b965=a0_0x7b141d;try{if(_0x5579da[_0x11b965(0x675)]===0x0)return;let _0x1febde=this[_0x11b965(0x6b0)](_0x419edb),_0x2649c8=_0x5579da['map'](_0x4ee98c=>({'updateOne':{'filter':{'_id':_0x4ee98c[_0x11b965(0x39f)],'owner':_0x419edb},'update':{..._0x4ee98c}}})),{modifiedCount:_0x3fcc7f}=await _0x1febde[_0x11b965(0x2d0)](_0x2649c8);return{'insertCount':_0x3fcc7f};}catch{return;}}async[a0_0x7b141d(0x61f)](_0x44b964,_0x3de5e3){const _0x4cf731=a0_0x7b141d;try{let _0x1c9fc6=this['getContactModelForOwner'](_0x3de5e3),_0x3bbb37=A(_0x44b964[_0x4cf731(0x864)]);return await _0x1c9fc6['find'](_0x3bbb37)[_0x4cf731(0x4e7)](_0x44b964?.[_0x4cf731(0x4e7)]??0x0)['lean']();}catch{return[];}}async['findOne'](_0x4441f8,_0x3ed8b5){const _0x115d0e=a0_0x7b141d;try{let _0x15e6d9=this[_0x115d0e(0x6b0)](_0x3ed8b5),_0x2690d8=A(_0x4441f8[_0x115d0e(0x864)]);return await _0x15e6d9[_0x115d0e(0x89d)](_0x2690d8)[_0x115d0e(0x350)]();}catch{return null;}}async[a0_0x7b141d(0x2df)](_0x5a5181){const _0xa44d94=a0_0x7b141d;try{return await this[_0xa44d94(0x6b0)](_0x5a5181)[_0xa44d94(0x5f9)][_0xa44d94(0x278)](),{'success':!0x0};}catch(_0x1f6ebf){return console[_0xa44d94(0x4b9)](_0x1f6ebf),{'success':!0x1,'error':_0x1f6ebf};}}},nt=require('jsonschema'),qc=require('express-async-errors'),$s=new $(a0_0x7b141d(0x863)),V=class{['routerPath'](_0x5c3cd7,_0x1c6ba8=!0x0){const _0x3ca6be=a0_0x7b141d;let _0x27956b='/'+_0x5c3cd7;return _0x1c6ba8&&(_0x27956b+=_0x3ca6be(0x564)),_0x27956b;}async[a0_0x7b141d(0x33c)](_0x179e5a){const _0x97bc52=a0_0x7b141d;let {request:_0x6bb61a,schema:_0x3e1bf7,ClassRef:_0x66bae6,execute:_0x16881a}=_0x179e5a,_0x3d5fb2=new _0x66bae6(),_0x1845bf=_0x6bb61a[_0x97bc52(0x7a2)],_0x2447fd=_0x6bb61a['params'];_0x6bb61a?.[_0x97bc52(0x47e)]&&Object['keys'](_0x6bb61a[_0x97bc52(0x47e)])['length']>0x0&&Object['assign'](_0x2447fd,_0x6bb61a[_0x97bc52(0x47e)]),_0x6bb61a[_0x97bc52(0x206)]['includes'](_0x97bc52(0x2c3))&&Object[_0x97bc52(0x6ef)](_0x2447fd,_0x1845bf),Object[_0x97bc52(0x6ef)](_0x3d5fb2,_0x1845bf);let _0x5a19bb=_0x3e1bf7?(0x0,nt[_0x97bc52(0x850)])(_0x3d5fb2,_0x3e1bf7):{'valid':!0x0,'errors':[]};if(!_0x5a19bb[_0x97bc52(0x14e)]){let _0x386ccc=_0x5a19bb['errors'][_0x97bc52(0x62e)](({property:_0x46ffce,stack:_0x465b6d,schema:_0x27f7af})=>{const _0x53a02c=_0x97bc52;let _0x9563f2;return _0x27f7af[_0x53a02c(0x376)]?_0x9563f2=_0x27f7af[_0x53a02c(0x376)]:_0x9563f2=_0x465b6d[_0x53a02c(0x563)](_0x53a02c(0x205),''),{'property':_0x46ffce[_0x53a02c(0x563)](_0x53a02c(0x205),''),'message':_0x9563f2};});throw $s[_0x97bc52(0x4b9)]([..._0x386ccc]),new m(..._0x386ccc);}return await _0x16881a(_0x2447fd,_0x3d5fb2);}async[a0_0x7b141d(0x3b3)](_0x45ffed){const _0x2e6ad5=a0_0x7b141d;let {request:_0x34039e,ClassRef:_0x2d8854,schema:_0x303ed4,execute:_0x384b74}=_0x45ffed,_0x9a51cb=_0x34039e[_0x2e6ad5(0x47e)];if(!_0x9a51cb?.[_0x2e6ad5(0x219)])throw new m('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x2e6ad5(0x216));let _0x22d4c6=_0x34039e[_0x2e6ad5(0x4d7)],_0x567533=_0x34039e['body'],_0x1ae495=new _0x2d8854();Object[_0x2e6ad5(0x6ef)](_0x567533,_0x9a51cb),Object[_0x2e6ad5(0x6ef)](_0x1ae495,_0x567533);let _0x5a34e5=(0x0,nt[_0x2e6ad5(0x850)])(_0x1ae495,_0x303ed4);if(!_0x5a34e5[_0x2e6ad5(0x14e)]){let _0x42cf26=_0x5a34e5[_0x2e6ad5(0x62c)]['map'](({property:_0x4bfc46,stack:_0x2e35ee,schema:_0x2d4832})=>{const _0x1fe491=_0x2e6ad5;let _0x59cccf;return _0x2d4832[_0x1fe491(0x376)]?_0x59cccf=_0x2d4832[_0x1fe491(0x376)]:_0x59cccf=_0x2e35ee[_0x1fe491(0x563)](_0x1fe491(0x205),''),{'property':_0x4bfc46[_0x1fe491(0x563)]('instance.',''),'message':_0x59cccf};});throw $s[_0x2e6ad5(0x4b9)]([..._0x42cf26]),new m(..._0x42cf26);}return await _0x384b74(_0x22d4c6,_0x1ae495);}async['joinGroupValidate'](_0x558674){const _0x1c5771=a0_0x7b141d;let {request:_0x3ddb2a,ClassRef:_0x3ba99b,schema:_0x400782,execute:_0x255b36}=_0x558674,_0x31e5b0=_0x3ddb2a['body'];if(!_0x31e5b0?.[_0x1c5771(0x844)])throw new m(_0x1c5771(0x76b),'ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x593ac0=_0x3ddb2a[_0x1c5771(0x4d7)],_0x5cbd84=_0x3ddb2a[_0x1c5771(0x7a2)],_0xc7e531=new _0x3ba99b();Object[_0x1c5771(0x6ef)](_0x5cbd84,_0x31e5b0),Object[_0x1c5771(0x6ef)](_0xc7e531,_0x5cbd84);let _0x32e368=(0x0,nt['validate'])(_0xc7e531,_0x400782);if(!_0x32e368[_0x1c5771(0x14e)]){let _0x12e8c6=_0x32e368[_0x1c5771(0x62c)][_0x1c5771(0x62e)](({property:_0x3e7370,stack:_0x3ffed8,schema:_0xea63b6})=>{const _0x40b517=_0x1c5771;let _0xfe4b77;return _0xea63b6[_0x40b517(0x376)]?_0xfe4b77=_0xea63b6['description']:_0xfe4b77=_0x3ffed8['replace'](_0x40b517(0x205),''),{'property':_0x3e7370[_0x40b517(0x563)]('instance.',''),'message':_0xfe4b77};});throw $s['error']([..._0x12e8c6]),new m(..._0x12e8c6);}return await _0x255b36(_0x593ac0,_0xc7e531);}},M=class{},al=new $(a0_0x7b141d(0x7b4)),ct=class extends V{constructor(..._0x22e195){const _0x5e1ae0=a0_0x7b141d;super(),this['router']=(0x0,pi[_0x5e1ae0(0x1bd)])(),this[_0x5e1ae0(0x1aa)][_0x5e1ae0(0x4b7)](this[_0x5e1ae0(0x886)](_0x5e1ae0(0x6ee)),..._0x22e195,async(_0x351344,_0x2593d1)=>{const _0x3467ce=_0x5e1ae0;let _0x21b877=await this[_0x3467ce(0x33c)]({'request':_0x351344,'schema':si,'ClassRef':Qe,'execute':(_0x13ae7c,_0x1e7e44)=>D[_0x3467ce(0x6ee)](_0x13ae7c,_0x1e7e44)});return _0x2593d1[_0x3467ce(0x756)](0xc9)[_0x3467ce(0x1ed)](_0x21b877);})[_0x5e1ae0(0x4b7)](this[_0x5e1ae0(0x886)]('whatsappNumbers'),..._0x22e195,async(_0x3af9c2,_0x3bee6a)=>{const _0x3b95ae=_0x5e1ae0;let _0x5bc904=await this[_0x3b95ae(0x33c)]({'request':_0x3af9c2,'schema':Wa,'ClassRef':Ye,'execute':(_0x25688a,_0x54ad8f)=>D[_0x3b95ae(0x534)](_0x25688a,_0x54ad8f)});return _0x3bee6a['status'](0xc9)[_0x3b95ae(0x1ed)](_0x5bc904);})[_0x5e1ae0(0x4b7)](this[_0x5e1ae0(0x886)](_0x5e1ae0(0x50a)),..._0x22e195,async(_0x2fdc03,_0x31a839)=>{const _0x73eeb4=_0x5e1ae0;let _0x159303=await this[_0x73eeb4(0x33c)]({'request':_0x2fdc03,'schema':N,'ClassRef':M,'execute':(_0x2cedf0,_0x17ad98)=>D[_0x73eeb4(0x50a)](_0x2cedf0,_0x17ad98)});return _0x31a839[_0x73eeb4(0x756)](0xc9)['json'](_0x159303);})['put'](this[_0x5e1ae0(0x886)](_0x5e1ae0(0x370)),..._0x22e195,async(_0x449441,_0x2973ae)=>{const _0x1891c9=_0x5e1ae0;let _0x4d9d71=await this['dataValidate']({'request':_0x449441,'schema':za,'ClassRef':et,'execute':(_0x46f411,_0x227954)=>D[_0x1891c9(0x7cd)](_0x46f411,_0x227954)});return _0x2973ae[_0x1891c9(0x756)](0xc9)[_0x1891c9(0x1ed)](_0x4d9d71);})[_0x5e1ae0(0x270)](this[_0x5e1ae0(0x886)](_0x5e1ae0(0x522)),..._0x22e195,async(_0xd0ce19,_0x3b6787)=>{const _0x546173=_0x5e1ae0;let _0x6af2d7=await this[_0x546173(0x33c)]({'request':_0xd0ce19,'schema':Ka,'ClassRef':tt,'execute':(_0x16c4ad,_0x15f98c)=>D['archiveChat'](_0x16c4ad,_0x15f98c)});return _0x3b6787['status'](0xc9)[_0x546173(0x1ed)](_0x6af2d7);})[_0x5e1ae0(0x59d)](this[_0x5e1ae0(0x886)]('deleteMessageForEveryone'),..._0x22e195,async(_0x2484e1,_0x294b61)=>{const _0x155551=_0x5e1ae0;let _0x57235e=await this[_0x155551(0x33c)]({'request':_0x2484e1,'schema':Qa,'ClassRef':at,'execute':(_0x553bdf,_0x3fa5fd)=>D[_0x155551(0x8c2)](_0x553bdf,_0x3fa5fd)});return _0x294b61[_0x155551(0x756)](0xc9)[_0x155551(0x1ed)](_0x57235e);})[_0x5e1ae0(0x4b7)](this[_0x5e1ae0(0x886)](_0x5e1ae0(0x42f)),..._0x22e195,async(_0x4303b1,_0x2d5ab3)=>{const _0x1e1d0d=_0x5e1ae0;let _0x54dbca=await this['dataValidate']({'request':_0x4303b1,'schema':Oe,'ClassRef':Ie,'execute':(_0x207833,_0x16d626)=>D[_0x1e1d0d(0x4f5)](_0x207833,_0x16d626)});return _0x2d5ab3[_0x1e1d0d(0x756)](0xc8)[_0x1e1d0d(0x1ed)](_0x54dbca);})[_0x5e1ae0(0x4b7)](this[_0x5e1ae0(0x886)](_0x5e1ae0(0x24b)),..._0x22e195,async(_0x572ae1,_0x38a92e)=>{const _0x2cc243=_0x5e1ae0;let _0x4ebc56=await this['dataValidate']({'request':_0x572ae1,'schema':ei,'ClassRef':Ie,'execute':(_0x4aa631,_0x1dfdea)=>D['fetchProfile'](_0x4aa631,_0x1dfdea)});return _0x38a92e[_0x2cc243(0x756)](0xc8)[_0x2cc243(0x1ed)](_0x4ebc56);})['post'](this[_0x5e1ae0(0x886)]('findContacts'),..._0x22e195,async(_0x1f6fd1,_0xfc0073)=>{const _0x1cd104=_0x5e1ae0;let _0x43ee43=await this[_0x1cd104(0x33c)]({'request':_0x1f6fd1,'schema':Ya,'ClassRef':ot,'execute':(_0x549ead,_0x12a954)=>D[_0x1cd104(0x7c5)](_0x549ead,_0x12a954)});return _0xfc0073[_0x1cd104(0x756)](0xc8)[_0x1cd104(0x1ed)](_0x43ee43);})[_0x5e1ae0(0x4b7)](this[_0x5e1ae0(0x886)](_0x5e1ae0(0x569)),..._0x22e195,async(_0x5944d9,_0x1c8757)=>{const _0xd9b05d=_0x5e1ae0;let _0x273e2f=await this[_0xd9b05d(0x33c)]({'request':_0x5944d9,'schema':null,'ClassRef':Object,'execute':(_0x1e6601,_0x29402b)=>D['getBase64FromMediaMessage'](_0x1e6601,_0x29402b)});return _0x1c8757['status'](0xc9)[_0xd9b05d(0x1ed)](_0x273e2f);})['post'](this['routerPath'](_0x5e1ae0(0x480)),..._0x22e195,async(_0x11bd9a,_0x366d78)=>{const _0x24b807=_0x5e1ae0;let _0x5e5ee5=await this[_0x24b807(0x33c)]({'request':_0x11bd9a,'schema':ti,'ClassRef':He,'execute':(_0x173096,_0x229892)=>D['fetchMessages'](_0x173096,_0x229892)});return _0x366d78['status'](0xc8)[_0x24b807(0x1ed)](_0x5e5ee5);})[_0x5e1ae0(0x6c9)](this[_0x5e1ae0(0x886)](_0x5e1ae0(0x541)),..._0x22e195,async(_0x3498c1,_0x2d0585)=>{const _0x515de=_0x5e1ae0;let _0x23905f=await this[_0x515de(0x33c)]({'request':_0x3498c1,'schema':null,'ClassRef':M,'execute':_0x5f25ca=>D[_0x515de(0x816)](_0x5f25ca)});return _0x2d0585['status'](0xc8)[_0x515de(0x1ed)](_0x23905f);})[_0x5e1ae0(0x6c9)](this['routerPath']('findLabels'),..._0x22e195,async(_0x30753d,_0x42a069)=>{const _0x1d8d5d=_0x5e1ae0;let _0x335580=await this[_0x1d8d5d(0x33c)]({'request':_0x30753d,'schema':null,'ClassRef':M,'execute':_0x1e9d7d=>D[_0x1d8d5d(0x6d0)](_0x1e9d7d)});return _0x42a069[_0x1d8d5d(0x756)](0xc8)[_0x1d8d5d(0x1ed)](_0x335580);})[_0x5e1ae0(0x270)](this[_0x5e1ae0(0x886)](_0x5e1ae0(0x823)),..._0x22e195,async(_0x19c7f7,_0x1b1d0f)=>{const _0x100d48=_0x5e1ae0;let _0x2b64e7=await this['dataValidate']({'request':_0x19c7f7,'schema':null,'ClassRef':Array,'execute':(_0x1d5195,_0x192b29)=>D['importChats'](_0x1d5195,_0x192b29)});return _0x1b1d0f['status'](0xc8)[_0x100d48(0x1ed)](_0x2b64e7);})['get'](this['routerPath'](_0x5e1ae0(0x8b6)),..._0x22e195,async(_0x25e3fd,_0x2c87cb)=>{const _0x4a6d61=_0x5e1ae0;let _0x2fd6e0=await this[_0x4a6d61(0x33c)]({'request':_0x25e3fd,'schema':null,'ClassRef':M,'execute':_0x439875=>D['fetchPrivacySettings'](_0x439875)});return _0x2c87cb[_0x4a6d61(0x756)](0xc8)[_0x4a6d61(0x1ed)](_0x2fd6e0);})['put'](this[_0x5e1ae0(0x886)](_0x5e1ae0(0x369)),..._0x22e195,async(_0x5e66d7,_0x50ff46)=>{const _0x50a737=_0x5e1ae0;let _0x34a79d=await this['dataValidate']({'request':_0x5e66d7,'schema':Ha,'ClassRef':st,'execute':(_0x46479c,_0x2cd7fb)=>D[_0x50a737(0x369)](_0x46479c,_0x2cd7fb)});return _0x50ff46[_0x50a737(0x756)](0xc9)['json'](_0x34a79d);})['post'](this[_0x5e1ae0(0x886)]('fetchBusinessProfile'),..._0x22e195,async(_0xe722ef,_0x5a5e18)=>{const _0x28a7f8=_0x5e1ae0;let _0x58af97=await this[_0x28a7f8(0x33c)]({'request':_0xe722ef,'schema':Oe,'ClassRef':Ee,'execute':(_0xc6eeb0,_0x39187c)=>D['fetchBusinessProfile'](_0xc6eeb0,_0x39187c)});return _0x5a5e18[_0x28a7f8(0x756)](0xc8)['json'](_0x58af97);})[_0x5e1ae0(0x4b7)](this[_0x5e1ae0(0x886)](_0x5e1ae0(0x454)),..._0x22e195,async(_0x3fce78,_0xb1c459)=>{const _0x48cc39=_0x5e1ae0;let _0x14767f=await this['dataValidate']({'request':_0x3fce78,'schema':Xa,'ClassRef':Xe,'execute':(_0x559d94,_0x271280)=>D[_0x48cc39(0x454)](_0x559d94,_0x271280)});return _0xb1c459[_0x48cc39(0x756)](0xc8)[_0x48cc39(0x1ed)](_0x14767f);})[_0x5e1ae0(0x4b7)](this['routerPath'](_0x5e1ae0(0x311)),..._0x22e195,async(_0x30af98,_0x3e193f)=>{const _0x17f741=_0x5e1ae0;let _0x3557c4=await this[_0x17f741(0x33c)]({'request':_0x30af98,'schema':Za,'ClassRef':Ze,'execute':(_0x558625,_0x28d6df)=>D[_0x17f741(0x311)](_0x558625,_0x28d6df)});return _0x3e193f[_0x17f741(0x756)](0xc8)[_0x17f741(0x1ed)](_0x3557c4);})[_0x5e1ae0(0x270)](this['routerPath'](_0x5e1ae0(0x432)),..._0x22e195,async(_0x325288,_0x42c144)=>{const _0x345ef1=_0x5e1ae0;let _0x415b03=await this[_0x345ef1(0x33c)]({'request':_0x325288,'schema':Oe,'ClassRef':Ee,'execute':(_0x333531,_0x17087b)=>D['updateProfilePicture'](_0x333531,_0x17087b)});return _0x42c144['status'](0xc8)[_0x345ef1(0x1ed)](_0x415b03);})[_0x5e1ae0(0x59d)](this[_0x5e1ae0(0x886)]('removeProfilePicture'),..._0x22e195,async(_0x5a3630,_0x1eb313)=>{const _0x1f0b1c=_0x5e1ae0;let _0x143ca2=await this[_0x1f0b1c(0x33c)]({'request':_0x5a3630,'schema':Oe,'ClassRef':Ee,'execute':(_0x1c7c6d,_0x3fa570)=>D[_0x1f0b1c(0x348)](_0x1c7c6d,_0x3fa570)});return _0x1eb313[_0x1f0b1c(0x756)](0xc8)['json'](_0x143ca2);});}},hi=require('express'),lt=class{},ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},te=class{},Pe=class{},mt=class extends te{},ft=class extends te{},wt=class extends V{constructor(..._0x522dda){const _0x3bad74=a0_0x7b141d;super(),this[_0x3bad74(0x1aa)]=(0x0,hi[_0x3bad74(0x1bd)])(),this[_0x3bad74(0x1aa)]['post'](this[_0x3bad74(0x886)](_0x3bad74(0x7c2)),..._0x522dda,async(_0x409dd7,_0x32cb28)=>{const _0x30e37f=_0x3bad74;let _0x215305=await this[_0x30e37f(0x33c)]({'request':_0x409dd7,'schema':ai,'ClassRef':lt,'execute':(_0x59d785,_0x367c34)=>q[_0x30e37f(0x35c)](_0x59d785,_0x367c34)});_0x32cb28[_0x30e37f(0x756)](0xc9)[_0x30e37f(0x1ed)](_0x215305);})[_0x3bad74(0x270)](this['routerPath'](_0x3bad74(0x234)),..._0x522dda,async(_0x141659,_0x58db0e)=>{const _0x1f59b4=_0x3bad74;let _0x5f3cb7=await this[_0x1f59b4(0x3b3)]({'request':_0x141659,'schema':ri,'ClassRef':ut,'execute':(_0x313a98,_0x48f399)=>q[_0x1f59b4(0x234)](_0x313a98,_0x48f399)});_0x58db0e[_0x1f59b4(0x756)](0xc9)['json'](_0x5f3cb7);})['put'](this['routerPath'](_0x3bad74(0x238)),..._0x522dda,async(_0x3fa759,_0x194dfc)=>{const _0x538532=_0x3bad74;let _0x4d0974=await this[_0x538532(0x3b3)]({'request':_0x3fa759,'schema':ni,'ClassRef':dt,'execute':(_0x4f06b7,_0x20fa75)=>q[_0x538532(0x238)](_0x4f06b7,_0x20fa75)});_0x194dfc['status'](0xc9)['json'](_0x4d0974);})[_0x3bad74(0x270)](this[_0x3bad74(0x886)]('groupName'),..._0x522dda,async(_0x1dfc41,_0x43901b)=>{const _0x357ca8=_0x3bad74;let _0x32807d=await this[_0x357ca8(0x3b3)]({'request':_0x1dfc41,'schema':ci,'ClassRef':pt,'execute':(_0x592d45,_0x1bab29)=>q[_0x357ca8(0x3f7)](_0x592d45,_0x1bab29)});_0x43901b['status'](0xc9)[_0x357ca8(0x1ed)](_0x32807d);})['put'](this['routerPath'](_0x3bad74(0x5de)),..._0x522dda,async(_0x5eb863,_0x264f2b)=>{const _0x1b26ec=_0x3bad74;let _0x52778a=await this['groupValidate']({'request':_0x5eb863,'schema':ui,'ClassRef':gt,'execute':(_0x560c5d,_0x45898a)=>q['groupBetterSetting'](_0x560c5d,_0x45898a)});_0x264f2b[_0x1b26ec(0x756)](0xc9)[_0x1b26ec(0x1ed)](_0x52778a);})[_0x3bad74(0x270)](this['routerPath'](_0x3bad74(0x7fa)),..._0x522dda,async(_0x3897f2,_0x187012)=>{const _0x505ae2=_0x3bad74;let _0xb411c9=await this[_0x505ae2(0x3b3)]({'request':_0x3897f2,'schema':li,'ClassRef':ht,'execute':(_0x2f19a4,_0xb91b1c)=>q[_0x505ae2(0x7fa)](_0x2f19a4,_0xb91b1c)});_0x187012[_0x505ae2(0x756)](0xc9)[_0x505ae2(0x1ed)](_0xb411c9);})[_0x3bad74(0x270)](this[_0x3bad74(0x886)](_0x3bad74(0x306)),..._0x522dda,async(_0xe33ae1,_0x2a4311)=>{const _0x359852=_0x3bad74;let _0xdf6df4=await this['groupValidate']({'request':_0xe33ae1,'schema':oi,'ClassRef':ft,'execute':(_0x4cf84b,_0x13784a)=>q[_0x359852(0x306)](_0x4cf84b,_0x13784a)});_0x2a4311[_0x359852(0x756)](0xc9)['json'](_0xdf6df4);})['get'](this[_0x3bad74(0x886)]('findGroupInfos'),..._0x522dda,async(_0x20ff28,_0x11653d)=>{const _0x18904e=_0x3bad74;let _0x1396a3=await this[_0x18904e(0x3b3)]({'request':_0x20ff28,'schema':xe,'ClassRef':te,'execute':(_0x47545e,_0x518808)=>q[_0x18904e(0x608)](_0x47545e,_0x518808)});_0x11653d['status'](0xc8)[_0x18904e(0x1ed)](_0x1396a3);})['get'](this[_0x3bad74(0x886)](_0x3bad74(0x379)),..._0x522dda,async(_0x54a2a7,_0x45cf39)=>{const _0x3703cd=_0x3bad74;let _0x4430c7=await this[_0x3703cd(0x33c)]({'request':_0x54a2a7,'schema':N,'ClassRef':M,'execute':_0x1e1c67=>q[_0x3703cd(0x379)](_0x1e1c67)});_0x45cf39['status'](0xc8)[_0x3703cd(0x1ed)](_0x4430c7);})[_0x3bad74(0x6c9)](this['routerPath'](_0x3bad74(0x5f3)),..._0x522dda,async(_0x2a32c1,_0x491a3e)=>{const _0x1b16f6=_0x3bad74;let _0x11e1f5=await this['groupValidate']({'request':_0x2a32c1,'schema':xe,'ClassRef':te,'execute':(_0x49abfa,_0x8697d2)=>q['findParticipants'](_0x49abfa,_0x8697d2)});_0x491a3e['status'](0xc8)[_0x1b16f6(0x1ed)](_0x11e1f5);})[_0x3bad74(0x6c9)](this[_0x3bad74(0x886)]('inviteCode'),..._0x522dda,async(_0x3012ce,_0x4e62bd)=>{const _0xb17904=_0x3bad74;let _0x2912d0=await this[_0xb17904(0x3b3)]({'request':_0x3012ce,'schema':xe,'ClassRef':te,'execute':(_0x3204e4,_0x2dce1f)=>q[_0xb17904(0x844)](_0x3204e4,_0x2dce1f)});_0x4e62bd[_0xb17904(0x756)](0xc8)[_0xb17904(0x1ed)](_0x2912d0);})['post'](this[_0x3bad74(0x886)](_0x3bad74(0x4c3)),..._0x522dda,async(_0x425fa3,_0x637cf0)=>{const _0x5a95f3=_0x3bad74;let _0x3eb53c=await this['joinGroupValidate']({'request':_0x425fa3,'schema':Ns,'ClassRef':Pe,'execute':(_0x164839,_0x2a3483)=>q['groupGetInviteInfo'](_0x164839,_0x2a3483)});_0x637cf0[_0x5a95f3(0x756)](0xc9)['json'](_0x3eb53c);})[_0x3bad74(0x270)](this[_0x3bad74(0x886)](_0x3bad74(0x173)),..._0x522dda,async(_0x2e4e9e,_0x7318a2)=>{const _0x19ac22=_0x3bad74;let _0x23acb1=await this['joinGroupValidate']({'request':_0x2e4e9e,'schema':Ns,'ClassRef':Pe,'execute':(_0x4424e1,_0xa00c6c)=>q['joinGroup'](_0x4424e1,_0xa00c6c)});_0x7318a2[_0x19ac22(0x756)](0xc9)['json'](_0x23acb1);})[_0x3bad74(0x270)](this[_0x3bad74(0x886)](_0x3bad74(0x39b)),..._0x522dda,async(_0x40fdbd,_0x5df990)=>{const _0x5b91ad=_0x3bad74;let _0x17e313=await this[_0x5b91ad(0x3b3)]({'request':_0x40fdbd,'schema':xe,'ClassRef':te,'execute':(_0x41bc31,_0x13601b)=>q['revokeInviteCode'](_0x41bc31,_0x13601b)});_0x5df990['status'](0xc9)[_0x5b91ad(0x1ed)](_0x17e313);})['put'](this['routerPath']('updateParticipant'),..._0x522dda,async(_0x5cedc8,_0x220d3c)=>{const _0x1d3868=_0x3bad74;let _0x5de6ff=await this[_0x1d3868(0x3b3)]({'request':_0x5cedc8,'schema':ii,'ClassRef':mt,'execute':(_0x2fd93b,_0xed12dc)=>q[_0x1d3868(0x28c)](_0x2fd93b,_0xed12dc)});_0x220d3c[_0x1d3868(0x756)](0xc9)['json'](_0x5de6ff);})['delete'](this[_0x3bad74(0x886)]('leaveGroup'),..._0x522dda,async(_0x26ad05,_0xebc581)=>{const _0x2cd2f5=_0x3bad74;let _0x324e8e=await this[_0x2cd2f5(0x3b3)]({'request':_0x26ad05,'schema':{},'ClassRef':te,'execute':(_0x43d28c,_0x30acfb)=>q[_0x2cd2f5(0x34d)](_0x43d28c,_0x30acfb)});_0xebc581[_0x2cd2f5(0x756)](0xc8)[_0x2cd2f5(0x1ed)](_0x324e8e);});}},gi=require('express'),yt=class extends V{constructor(_0x29afaa,..._0x5d787f){const _0x5646c9=a0_0x7b141d;super(),this[_0x5646c9(0x695)]=_0x29afaa,this['router']=(0x0,gi['Router'])();let _0x52ce6b=_0x29afaa['get'](_0x5646c9(0x5ee));this[_0x5646c9(0x1aa)][_0x5646c9(0x4b7)](_0x5646c9(0x384),..._0x5d787f,async(_0x439f10,_0x511ffd)=>{const _0x5bd378=_0x5646c9;let {instanceName:_0x21416e,apikey:_0x128523,number:_0xb9b6a3}=_0x439f10[_0x5bd378(0x7a2)],_0x1c57e4=await de[_0x5bd378(0x739)]({'instanceName':_0x21416e,'apikey':_0x128523,'number':_0xb9b6a3});return _0x511ffd[_0x5bd378(0x756)](0xc9)[_0x5bd378(0x1ed)](_0x1c57e4);})['put'](this['routerPath'](_0x5646c9(0x7bf)),..._0x5d787f,async(_0x524bd3,_0x3751f4)=>{const _0x5270e4=_0x5646c9;let _0x253ebc=await this[_0x5270e4(0x33c)]({'request':_0x524bd3,'schema':N,'ClassRef':M,'execute':_0x18967a=>de[_0x5270e4(0x487)](_0x18967a)});return _0x3751f4[_0x5270e4(0x756)](0xc8)[_0x5270e4(0x1ed)](_0x253ebc);})[_0x5646c9(0x6c9)](this[_0x5646c9(0x886)](_0x5646c9(0x84b)),..._0x5d787f,async(_0x527651,_0x3cf6f8)=>{const _0xe3bd=_0x5646c9;let _0x11c742=await this[_0xe3bd(0x33c)]({'request':_0x527651,'schema':N,'ClassRef':M,'execute':_0x3f833a=>de[_0xe3bd(0x5f2)](_0x3f833a)});return _0x3cf6f8[_0xe3bd(0x756)](0xc8)[_0xe3bd(0x1ed)](_0x11c742);})[_0x5646c9(0x6c9)](this['routerPath'](_0x5646c9(0x441)),..._0x5d787f,async(_0x5080e3,_0x3f34e8)=>{const _0x3fe82e=_0x5646c9;let _0x4bd618=await this['dataValidate']({'request':_0x5080e3,'schema':N,'ClassRef':M,'execute':_0x4c6eec=>de[_0x3fe82e(0x441)](_0x4c6eec)});return _0x3f34e8[_0x3fe82e(0x756)](0xc8)['json'](_0x4bd618);})[_0x5646c9(0x6c9)](this[_0x5646c9(0x886)](_0x5646c9(0x339),!0x1),..._0x5d787f,async(_0x3f6d3e,_0x32b02e)=>{const _0x4addc2=_0x5646c9;let _0x56d1f1=await this[_0x4addc2(0x33c)]({'request':_0x3f6d3e,'schema':null,'ClassRef':M,'execute':_0x3248a6=>de[_0x4addc2(0x339)](_0x3248a6)});return _0x32b02e[_0x4addc2(0x756)](0xc8)[_0x4addc2(0x1ed)](_0x56d1f1);})[_0x5646c9(0x59d)](this['routerPath'](_0x5646c9(0x894)),..._0x5d787f,async(_0x634fe6,_0x18b123)=>{const _0x59e057=_0x5646c9;let _0x221df3=await this['dataValidate']({'request':_0x634fe6,'schema':N,'ClassRef':M,'execute':_0x4e8353=>de[_0x59e057(0x894)](_0x4e8353)});return _0x18b123[_0x59e057(0x756)](0xc8)[_0x59e057(0x1ed)](_0x221df3);})[_0x5646c9(0x59d)](this['routerPath']('delete'),..._0x5d787f,async(_0x52c7d7,_0x530d18)=>{const _0xfb51c5=_0x5646c9;let _0x1b5f8f=await this[_0xfb51c5(0x33c)]({'request':_0x52c7d7,'schema':N,'ClassRef':M,'execute':_0x4b936b=>de[_0xfb51c5(0x59f)](_0x4b936b)});return _0x530d18[_0xfb51c5(0x756)](0xc8)['json'](_0x1b5f8f);});}},mi=require(a0_0x7b141d(0x5f5)),Rs=class{},K=class extends Rs{},bt=class extends K{},St=class extends K{},Mt=class extends K{},Ct=class extends K{},De=class extends K{},Et=class extends K{},vt=class extends K{},Nt=class extends K{},$t=class extends K{},Rt=class{},At=class extends V{constructor(..._0x9e28f6){const _0x42b333=a0_0x7b141d;super(),this[_0x42b333(0x1aa)]=(0x0,mi[_0x42b333(0x1bd)])(),this[_0x42b333(0x1aa)][_0x42b333(0x4b7)](this[_0x42b333(0x886)](_0x42b333(0x33f)),..._0x9e28f6,async(_0x361d18,_0x5e8c5b)=>{const _0x5e77e3=_0x42b333;let _0x3a8ffc=await this[_0x5e77e3(0x33c)]({'request':_0x361d18,'schema':Pa,'ClassRef':bt,'execute':(_0x2c4b37,_0x501a7e)=>W[_0x5e77e3(0x33f)](_0x2c4b37,_0x501a7e)});return _0x5e8c5b[_0x5e77e3(0x756)](0xc9)[_0x5e77e3(0x1ed)](_0x3a8ffc);})[_0x42b333(0x4b7)](this[_0x42b333(0x886)](_0x42b333(0x2e2)),..._0x9e28f6,async(_0x352af9,_0x34fea1)=>{const _0x54cc67=_0x42b333;let _0x432723=await this['dataValidate']({'request':_0x352af9,'schema':Fa,'ClassRef':De,'execute':(_0x239137,_0x1ca304)=>W[_0x54cc67(0x2e2)](_0x239137,_0x1ca304)});return _0x34fea1[_0x54cc67(0x756)](0xc9)['json'](_0x432723);})[_0x42b333(0x4b7)](this[_0x42b333(0x886)]('sendMenu'),..._0x9e28f6,async(_0x1c6d9d,_0x12d2c7)=>{const _0x740416=_0x42b333;let _0xd75dc4=await this[_0x740416(0x33c)]({'request':_0x1c6d9d,'schema':Ja,'ClassRef':Ct,'execute':(_0x367b40,_0x45452e)=>W[_0x740416(0x70b)](_0x367b40,_0x45452e)});return _0x12d2c7[_0x740416(0x756)](0xc9)['json'](_0xd75dc4);})[_0x42b333(0x4b7)](this[_0x42b333(0x886)](_0x42b333(0x1fe)),..._0x9e28f6,async(_0x427bc2,_0x50dc8a)=>{const _0xc5eb06=_0x42b333;let _0x1987e2=await this['dataValidate']({'request':_0x427bc2,'schema':Ua,'ClassRef':De,'execute':(_0x1e9bcd,_0x34fd82)=>W[_0xc5eb06(0x1fe)](_0x1e9bcd,_0x34fd82)});return _0x50dc8a[_0xc5eb06(0x756)](0xc9)[_0xc5eb06(0x1ed)](_0x1987e2);})[_0x42b333(0x4b7)](this['routerPath'](_0x42b333(0x56f)),..._0x9e28f6,async(_0x1ebe41,_0x5b4f92)=>{const _0x2ebf31=_0x42b333;let _0x30e013=await this['dataValidate']({'request':_0x1ebe41,'schema':qa,'ClassRef':vt,'execute':(_0x3cf807,_0x238c6e)=>W[_0x2ebf31(0x56f)](_0x3cf807,_0x238c6e)});return _0x5b4f92['status'](0xc9)[_0x2ebf31(0x1ed)](_0x30e013);})['post'](this[_0x42b333(0x886)](_0x42b333(0x164)),..._0x9e28f6,async(_0x56b19b,_0x17d0bb)=>{const _0x3bb1da=_0x42b333;let _0x294e1d=await this[_0x3bb1da(0x33c)]({'request':_0x56b19b,'schema':Va,'ClassRef':Nt,'execute':(_0x534e71,_0x37817c)=>W['sendList'](_0x534e71,_0x37817c)});return _0x17d0bb[_0x3bb1da(0x756)](0xc9)[_0x3bb1da(0x1ed)](_0x294e1d);})['post'](this[_0x42b333(0x886)](_0x42b333(0x498)),..._0x9e28f6,async(_0x238f07,_0x27fc7f)=>{const _0x13c3fe=_0x42b333;let _0x31fd3f=await this['dataValidate']({'request':_0x238f07,'schema':Ga,'ClassRef':$t,'execute':(_0x17b4df,_0x4d2774)=>W[_0x13c3fe(0x498)](_0x17b4df,_0x4d2774)});return _0x27fc7f[_0x13c3fe(0x756)](0xc9)[_0x13c3fe(0x1ed)](_0x31fd3f);})[_0x42b333(0x4b7)](this[_0x42b333(0x886)](_0x42b333(0x483)),..._0x9e28f6,async(_0x2f8fec,_0x1276c3)=>{const _0x51c649=_0x42b333;let _0x3a8fdd=await this[_0x51c649(0x33c)]({'request':_0x2f8fec,'schema':Ba,'ClassRef':Rt,'execute':(_0x59ee4c,_0x4aa34e)=>W['sendReaction'](_0x59ee4c,_0x4aa34e)});return _0x1276c3[_0x51c649(0x756)](0xc9)[_0x51c649(0x1ed)](_0x3a8fdd);})['post'](this[_0x42b333(0x886)](_0x42b333(0x263)),..._0x9e28f6,async(_0xc7b508,_0x1ac72c)=>{const _0x5a7ecc=_0x42b333;let _0x53387e=await this[_0x5a7ecc(0x33c)]({'request':_0xc7b508,'schema':ja,'ClassRef':Mt,'execute':(_0x3d9987,_0x13c36f)=>W[_0x5a7ecc(0x263)](_0x3d9987,_0x13c36f)});return _0x1ac72c[_0x5a7ecc(0x756)](0xc9)[_0x5a7ecc(0x1ed)](_0x53387e);})['post'](this[_0x42b333(0x886)](_0x42b333(0x794)),..._0x9e28f6,async(_0x3db5c9,_0xa50f86)=>{const _0x4e2d2e=_0x42b333;let _0x24d489=await this[_0x4e2d2e(0x33c)]({'request':_0x3db5c9,'schema':La,'ClassRef':St,'execute':(_0x4c5af0,_0x5caedb)=>W[_0x4e2d2e(0x794)](_0x4c5af0,_0x5caedb)});return _0xa50f86['status'](0xc9)[_0x4e2d2e(0x1ed)](_0x24d489);})[_0x42b333(0x4b7)](this['routerPath'](_0x42b333(0x5ff)),..._0x9e28f6,async(_0x4ece39,_0x48be91)=>{const _0x17a1a7=_0x42b333;let _0x10051f=await this[_0x17a1a7(0x33c)]({'request':_0x4ece39,'schema':ka,'ClassRef':Et,'execute':(_0x3f762b,_0x20da5d)=>W[_0x17a1a7(0x5ff)](_0x3f762b,_0x20da5d)});return _0x48be91[_0x17a1a7(0x756)](0xc9)[_0x17a1a7(0x1ed)](_0x10051f);});}},fi=require(a0_0x7b141d(0x5f5)),Tt=class{},It=class extends V{constructor(..._0x1f783d){const _0x4631af=a0_0x7b141d;super(),this[_0x4631af(0x1aa)]=(0x0,fi[_0x4631af(0x1bd)])(),this[_0x4631af(0x1aa)][_0x4631af(0x4b7)](this[_0x4631af(0x886)](_0x4631af(0x6d4)),..._0x1f783d,async(_0x25484c,_0x8d0359)=>{const _0x58e840=_0x4631af;let _0x252477=await this[_0x58e840(0x33c)]({'request':_0x25484c,'schema':di,'ClassRef':Tt,'execute':(_0x310d8e,_0xc79f8b)=>As[_0x58e840(0x700)](_0x310d8e,_0xc79f8b)});_0x8d0359[_0x58e840(0x756)](0xc9)[_0x58e840(0x1ed)](_0x252477);})['get'](this[_0x4631af(0x886)]('find'),..._0x1f783d,async(_0x504494,_0x111629)=>{const _0x826b29=_0x4631af;let _0x338a63=await this[_0x826b29(0x33c)]({'request':_0x504494,'schema':N,'ClassRef':M,'execute':_0x22f425=>As[_0x826b29(0x53c)](_0x22f425)});_0x111629[_0x826b29(0x756)](0xc8)['json'](_0x338a63);});}},wi=require('express'),y=new $(a0_0x7b141d(0x641)),_t=class extends V{constructor(..._0x1431d2){const _0x20eae2=a0_0x7b141d;super(),this[_0x20eae2(0x1aa)]=(0x0,wi['Router'])(),this[_0x20eae2(0x1aa)][_0x20eae2(0x4b7)](this[_0x20eae2(0x886)](_0x20eae2(0x172)),..._0x1431d2,async(_0x4a95e8,_0x441ef0)=>{const _0x308d24=_0x20eae2;let _0x37f3f1=_0x4a95e8[_0x308d24(0x7a2)];y[_0x308d24(0x8c4)]('request\x20received\x20in\x20scheduleMessage'),y['verbose'](_0x308d24(0x6e2)),y[_0x308d24(0x8c4)](_0x4a95e8['body']);let _0x173590=await this[_0x308d24(0x33c)]({'request':_0x4a95e8,'schema':N,'ClassRef':M,'execute':_0x47a429=>O[_0x308d24(0x821)](_0x47a429,_0x37f3f1)});_0x441ef0[_0x308d24(0x756)](0xc8)[_0x308d24(0x1ed)](_0x173590);})['get'](this[_0x20eae2(0x886)](_0x20eae2(0x172)),..._0x1431d2,async(_0x4ba455,_0x219ff0)=>{const _0x66057a=_0x20eae2;let _0x23c6cf=await this[_0x66057a(0x33c)]({'request':_0x4ba455,'schema':N,'ClassRef':M,'execute':_0x4e7c8c=>O['getScheduleMessage'](_0x4e7c8c)});_0x219ff0[_0x66057a(0x756)](0xc8)[_0x66057a(0x1ed)](_0x23c6cf);})[_0x20eae2(0x59d)](this[_0x20eae2(0x886)]('deleteDoneMessages'),..._0x1431d2,async(_0x15feb3,_0x2a1d22)=>{const _0x447ba0=_0x20eae2;y[_0x447ba0(0x8c4)]('request\x20received\x20in\x20deleteDoneMessages');let _0xf346ad=await this[_0x447ba0(0x33c)]({'request':_0x15feb3,'schema':N,'ClassRef':M,'execute':_0x543244=>O['deleteDoneMessages'](_0x543244)});_0x2a1d22[_0x447ba0(0x756)](0xc8)[_0x447ba0(0x1ed)](_0xf346ad);})[_0x20eae2(0x4b7)](this['routerPath']('startFlow'),..._0x1431d2,async(_0x5599e7,_0x14d714)=>{const _0x5e40ac=_0x20eae2;let _0x212097=_0x5599e7[_0x5e40ac(0x7a2)];y[_0x5e40ac(0x8c4)]('request\x20received\x20in\x20starFlow'),y[_0x5e40ac(0x8c4)](_0x5e40ac(0x6e2)),y[_0x5e40ac(0x8c4)](_0x5599e7[_0x5e40ac(0x7a2)]);let _0x1e77f1=await this[_0x5e40ac(0x33c)]({'request':_0x5599e7,'schema':N,'ClassRef':M,'execute':_0x52761c=>O[_0x5e40ac(0x23a)](_0x52761c,_0x212097)});_0x14d714[_0x5e40ac(0x756)](0xc8)[_0x5e40ac(0x1ed)](_0x1e77f1);})[_0x20eae2(0x6c9)](this[_0x20eae2(0x886)]('getAutomateSystem'),..._0x1431d2,async(_0x45058c,_0x23a8f2)=>{const _0x423cb0=_0x20eae2;y['verbose'](_0x423cb0(0x5a7));let _0x55a6f3=await this[_0x423cb0(0x33c)]({'request':_0x45058c,'schema':N,'ClassRef':M,'execute':_0x438000=>O[_0x423cb0(0x46b)](_0x438000)});_0x23a8f2[_0x423cb0(0x756)](0xc8)['json'](_0x55a6f3);})[_0x20eae2(0x6c9)](this[_0x20eae2(0x886)](_0x20eae2(0x39c)),..._0x1431d2,async(_0x562d33,_0x292408)=>{const _0x1b22bb=_0x20eae2;y[_0x1b22bb(0x8c4)](_0x1b22bb(0x552));let _0x2a9eb1=await this[_0x1b22bb(0x33c)]({'request':_0x562d33,'schema':N,'ClassRef':M,'execute':_0x10a562=>O[_0x1b22bb(0x46b)](_0x10a562)});_0x292408['status'](0xc8)[_0x1b22bb(0x1ed)](_0x2a9eb1);})[_0x20eae2(0x4b7)](this[_0x20eae2(0x886)](_0x20eae2(0x527)),..._0x1431d2,async(_0x2af48b,_0x43184a)=>{const _0x3d74f5=_0x20eae2;let _0x154e56=_0x2af48b[_0x3d74f5(0x7a2)];y[_0x3d74f5(0x8c4)](_0x3d74f5(0x2ae)),y[_0x3d74f5(0x8c4)](_0x3d74f5(0x6e2)),y[_0x3d74f5(0x8c4)](_0x2af48b[_0x3d74f5(0x7a2)]);let _0x9f51cb=await this['dataValidate']({'request':_0x2af48b,'schema':N,'ClassRef':M,'execute':_0x2b4dd4=>O['updateAgent'](_0x2b4dd4,_0x154e56)});_0x43184a[_0x3d74f5(0x756)](0xc8)['json'](_0x9f51cb);})[_0x20eae2(0x4b7)](this['routerPath'](_0x20eae2(0x5cb)),..._0x1431d2,async(_0x252441,_0x1dfae7)=>{const _0x42a39a=_0x20eae2;let _0x3479f4=_0x252441[_0x42a39a(0x7a2)];y[_0x42a39a(0x8c4)](_0x42a39a(0x746)),y[_0x42a39a(0x8c4)]('request\x20body:\x20'),y[_0x42a39a(0x8c4)](_0x252441[_0x42a39a(0x7a2)]);let _0x5b33aa=await this['dataValidate']({'request':_0x252441,'schema':N,'ClassRef':M,'execute':_0x278b92=>O['updateCustomFields'](_0x278b92,_0x3479f4)});_0x1dfae7[_0x42a39a(0x756)](0xc8)[_0x42a39a(0x1ed)](_0x5b33aa);})[_0x20eae2(0x4b7)](this[_0x20eae2(0x886)](_0x20eae2(0x419)),..._0x1431d2,async(_0x55bd5c,_0x2cbb5c)=>{const _0x182e20=_0x20eae2;let _0x22019a=_0x55bd5c['body'];y[_0x182e20(0x8c4)](_0x182e20(0x6f1)),y[_0x182e20(0x8c4)](_0x182e20(0x6e2)),y[_0x182e20(0x8c4)](_0x55bd5c['body']);let _0x2a7c8c=await this[_0x182e20(0x33c)]({'request':_0x55bd5c,'schema':N,'ClassRef':M,'execute':_0x51785e=>O[_0x182e20(0x419)](_0x51785e,_0x22019a)});_0x2cbb5c['status'](0xc8)[_0x182e20(0x1ed)](_0x2a7c8c);})[_0x20eae2(0x4b7)](this[_0x20eae2(0x886)](_0x20eae2(0x17a)),..._0x1431d2,async(_0x2854cc,_0xf7bb90)=>{const _0x517fcc=_0x20eae2;let _0x192d96=_0x2854cc['body'];y[_0x517fcc(0x8c4)](_0x517fcc(0x5d5)),y[_0x517fcc(0x8c4)](_0x517fcc(0x6e2)),y[_0x517fcc(0x8c4)](_0x2854cc[_0x517fcc(0x7a2)]);let _0x4b437b=await this[_0x517fcc(0x33c)]({'request':_0x2854cc,'schema':N,'ClassRef':M,'execute':_0x219949=>O['updateFlowConfig'](_0x219949,_0x192d96)});_0xf7bb90['status'](0xc8)[_0x517fcc(0x1ed)](_0x4b437b);})[_0x20eae2(0x4b7)](this[_0x20eae2(0x886)](_0x20eae2(0x644)),..._0x1431d2,async(_0x499b63,_0x5846b5)=>{const _0x18d491=_0x20eae2;let _0x41b3d8=_0x499b63['body'];y['verbose'](_0x18d491(0x2e5)),y[_0x18d491(0x8c4)](_0x18d491(0x6e2)),y[_0x18d491(0x8c4)](_0x499b63[_0x18d491(0x7a2)]);let _0x653577=await this[_0x18d491(0x33c)]({'request':_0x499b63,'schema':N,'ClassRef':M,'execute':_0xe5850b=>O['getConversation'](_0xe5850b,_0x41b3d8)});_0x5846b5[_0x18d491(0x756)](0xc8)[_0x18d491(0x1ed)](_0x653577);})[_0x20eae2(0x4b7)](this['routerPath'](_0x20eae2(0x724)),..._0x1431d2,async(_0x3385c9,_0x4cf7d9)=>{const _0x6323b0=_0x20eae2;let _0x6a4b25=_0x3385c9[_0x6323b0(0x7a2)];y[_0x6323b0(0x8c4)]('request\x20received\x20in\x20fetchConversation'),y[_0x6323b0(0x8c4)](_0x6323b0(0x6e2)),y[_0x6323b0(0x8c4)](_0x3385c9[_0x6323b0(0x7a2)]);let _0x4d194a=await this[_0x6323b0(0x33c)]({'request':_0x3385c9,'schema':N,'ClassRef':M,'execute':_0x44c3bd=>O[_0x6323b0(0x724)](_0x44c3bd,_0x6a4b25)});_0x4cf7d9[_0x6323b0(0x756)](0xc8)[_0x6323b0(0x1ed)](_0x4d194a);})['post'](this[_0x20eae2(0x886)](_0x20eae2(0x560)),..._0x1431d2,async(_0x39c82e,_0x3cb8ae)=>{const _0x162c22=_0x20eae2;let _0x19ef0a=_0x39c82e[_0x162c22(0x7a2)];y[_0x162c22(0x8c4)](_0x162c22(0x153)),y['verbose'](_0x162c22(0x6e2)),y[_0x162c22(0x8c4)](_0x39c82e[_0x162c22(0x7a2)]);let _0x5a9b8a=await this[_0x162c22(0x33c)]({'request':_0x39c82e,'schema':N,'ClassRef':M,'execute':_0x487ab9=>O[_0x162c22(0x560)](_0x487ab9,_0x19ef0a)});_0x3cb8ae[_0x162c22(0x756)](0xc8)[_0x162c22(0x1ed)](_0x5a9b8a);})[_0x20eae2(0x59d)](this['routerPath'](_0x20eae2(0x81e)),..._0x1431d2,async(_0x970165,_0x37b119)=>{const _0x580d84=_0x20eae2;let _0x27ae1b=_0x970165[_0x580d84(0x7a2)];y[_0x580d84(0x8c4)]('request\x20received\x20in\x20deleteConversation'),y['verbose'](_0x580d84(0x6e2)),y['verbose'](_0x970165[_0x580d84(0x7a2)]);let _0x58b8fb=await this[_0x580d84(0x33c)]({'request':_0x970165,'schema':N,'ClassRef':M,'execute':_0x48ceea=>O[_0x580d84(0x81e)](_0x48ceea,_0x27ae1b)});_0x37b119[_0x580d84(0x756)](0xc8)['json'](_0x58b8fb);})[_0x20eae2(0x4b7)](this[_0x20eae2(0x886)]('createflow'),..._0x1431d2,async(_0x4f96aa,_0x27d6dc)=>{const _0xa25b50=_0x20eae2;let _0x24a23d=_0x4f96aa['body'],_0x10fde1=_0x4f96aa[_0xa25b50(0x860)][_0xa25b50(0x185)];y[_0xa25b50(0x8c4)](_0xa25b50(0x7b3)),y[_0xa25b50(0x8c4)](_0xa25b50(0x6e2)),y['verbose'](_0x4f96aa[_0xa25b50(0x7a2)]);let _0x40b79a=await this[_0xa25b50(0x33c)]({'request':_0x4f96aa,'schema':N,'ClassRef':M,'execute':_0x15bfb0=>O[_0xa25b50(0x4c9)](_0x15bfb0,_0x24a23d,_0x10fde1)});_0x27d6dc[_0xa25b50(0x756)](0xc8)[_0xa25b50(0x1ed)](_0x40b79a);})[_0x20eae2(0x4b7)](this[_0x20eae2(0x886)](_0x20eae2(0x372)),..._0x1431d2,async(_0xf9113d,_0x3edc84)=>{const _0x5530b8=_0x20eae2;let _0x1b01b2=_0xf9113d[_0x5530b8(0x7a2)],_0x43919a=_0xf9113d[_0x5530b8(0x860)]['apikey'];y[_0x5530b8(0x8c4)](_0x5530b8(0x5e9)),y[_0x5530b8(0x8c4)](_0x5530b8(0x6e2)),y[_0x5530b8(0x8c4)](_0xf9113d[_0x5530b8(0x7a2)]),delete _0x1b01b2[_0x5530b8(0x436)],delete _0x1b01b2['variables'],delete _0x1b01b2['groups'],delete _0x1b01b2[_0x5530b8(0x268)];let _0x58bc20=await this[_0x5530b8(0x33c)]({'request':_0xf9113d,'schema':N,'ClassRef':M,'execute':_0x45940b=>O[_0x5530b8(0x289)](_0x45940b,_0x1b01b2,_0x43919a)});_0x3edc84[_0x5530b8(0x756)](0xc8)[_0x5530b8(0x1ed)](_0x58bc20);})[_0x20eae2(0x4b7)](this[_0x20eae2(0x886)](_0x20eae2(0x7ce)),..._0x1431d2,async(_0x516e38,_0x55119e)=>{const _0x329923=_0x20eae2;let _0x3f99a5=_0x516e38[_0x329923(0x7a2)];y[_0x329923(0x8c4)](_0x329923(0x5e9)),y[_0x329923(0x8c4)](_0x329923(0x6e2)),y[_0x329923(0x8c4)](_0x516e38[_0x329923(0x7a2)]);let _0x5f40c1=await this[_0x329923(0x33c)]({'request':_0x516e38,'schema':N,'ClassRef':M,'execute':_0x115ddd=>O['editFlowBlock'](_0x115ddd,_0x3f99a5)});_0x55119e[_0x329923(0x756)](0xc8)['json'](_0x5f40c1);})['post'](this[_0x20eae2(0x886)](_0x20eae2(0x2f9)),..._0x1431d2,async(_0x28a44e,_0x36ee03)=>{const _0x31138b=_0x20eae2;let _0x4afa96=_0x28a44e[_0x31138b(0x7a2)];y['verbose'](_0x31138b(0x5e9)),y[_0x31138b(0x8c4)](_0x31138b(0x6e2)),y[_0x31138b(0x8c4)](_0x28a44e[_0x31138b(0x7a2)]);let _0x259393=await this[_0x31138b(0x33c)]({'request':_0x28a44e,'schema':N,'ClassRef':M,'execute':_0x181ea4=>O[_0x31138b(0x72d)](_0x181ea4,_0x4afa96)});_0x36ee03[_0x31138b(0x756)](0xc8)[_0x31138b(0x1ed)](_0x259393);})[_0x20eae2(0x4b7)](this[_0x20eae2(0x886)]('editflowvaredit'),..._0x1431d2,async(_0x3a5ff0,_0x3e27f2)=>{const _0x10a15b=_0x20eae2;let _0x36b60f=_0x3a5ff0[_0x10a15b(0x7a2)];y[_0x10a15b(0x8c4)](_0x10a15b(0x5e9)),y['verbose'](_0x10a15b(0x6e2)),y['verbose'](_0x3a5ff0[_0x10a15b(0x7a2)]);let _0x2f1809=await this[_0x10a15b(0x33c)]({'request':_0x3a5ff0,'schema':N,'ClassRef':M,'execute':_0x4350db=>O[_0x10a15b(0x2c0)](_0x4350db,_0x36b60f)});_0x3e27f2[_0x10a15b(0x756)](0xc8)[_0x10a15b(0x1ed)](_0x2f1809);})[_0x20eae2(0x4b7)](this[_0x20eae2(0x886)]('editflowgroup'),..._0x1431d2,async(_0x30f89f,_0x11a081)=>{const _0x49a750=_0x20eae2;let _0x5c6ad1=_0x30f89f['body'];y[_0x49a750(0x8c4)](_0x49a750(0x8b9)),y[_0x49a750(0x8c4)](_0x49a750(0x6e2)),y['verbose'](_0x30f89f['body']);let _0x350bf1=await this[_0x49a750(0x33c)]({'request':_0x30f89f,'schema':N,'ClassRef':M,'execute':_0x579172=>O[_0x49a750(0x2d2)](_0x579172,_0x5c6ad1)});_0x11a081[_0x49a750(0x756)](0xc8)['json'](_0x350bf1);})[_0x20eae2(0x4b7)](this[_0x20eae2(0x886)](_0x20eae2(0x843)),..._0x1431d2,async(_0x36415b,_0x4f5789)=>{const _0x16e721=_0x20eae2;let _0x4ec9cc=_0x36415b[_0x16e721(0x7a2)];y[_0x16e721(0x8c4)]('request\x20received\x20in\x20editFlowcondition'),y[_0x16e721(0x8c4)]('request\x20body:\x20'),y[_0x16e721(0x8c4)](_0x36415b['body']);let _0x19cc83=await this[_0x16e721(0x33c)]({'request':_0x36415b,'schema':N,'ClassRef':M,'execute':_0x2bd0a1=>O[_0x16e721(0x537)](_0x2bd0a1,_0x4ec9cc)});_0x4f5789['status'](0xc8)[_0x16e721(0x1ed)](_0x19cc83);})[_0x20eae2(0x4b7)](this[_0x20eae2(0x886)](_0x20eae2(0x7a8)),..._0x1431d2,async(_0x3d42da,_0x1d0233)=>{const _0x164d6c=_0x20eae2;let _0xc4f7f5=_0x3d42da[_0x164d6c(0x7a2)];y[_0x164d6c(0x8c4)](_0x164d6c(0x1df)),y['verbose']('request\x20body:\x20'),y['verbose'](_0x3d42da[_0x164d6c(0x7a2)]);let _0x53f36e=await this['dataValidate']({'request':_0x3d42da,'schema':N,'ClassRef':M,'execute':_0x20d8e1=>O['editFlowVariable'](_0x20d8e1,_0xc4f7f5)});_0x1d0233[_0x164d6c(0x756)](0xc8)[_0x164d6c(0x1ed)](_0x53f36e);})['post'](this[_0x20eae2(0x886)](_0x20eae2(0x2d9)),..._0x1431d2,async(_0x4cab1a,_0x470a5d)=>{const _0x47beff=_0x20eae2;let _0x565cfc=_0x4cab1a['body'];y['verbose'](_0x47beff(0x652)),y['verbose'](_0x47beff(0x6e2)),y[_0x47beff(0x8c4)](_0x4cab1a[_0x47beff(0x7a2)]);let _0x507fa0=await this[_0x47beff(0x33c)]({'request':_0x4cab1a,'schema':N,'ClassRef':M,'execute':_0xa2c0e9=>O[_0x47beff(0x425)](_0xa2c0e9,_0x565cfc)});_0x470a5d[_0x47beff(0x756)](0xc8)[_0x47beff(0x1ed)](_0x507fa0);})[_0x20eae2(0x59d)](this[_0x20eae2(0x886)]('deleteflow'),..._0x1431d2,async(_0x44d870,_0x382bad)=>{const _0x2cc8da=_0x20eae2;let _0x9ec807=_0x44d870[_0x2cc8da(0x7a2)];y[_0x2cc8da(0x8c4)](_0x2cc8da(0x718)),y[_0x2cc8da(0x8c4)]('request\x20body:\x20'),y[_0x2cc8da(0x8c4)](_0x44d870[_0x2cc8da(0x7a2)]);let _0x1180c2=await this['dataValidate']({'request':_0x44d870,'schema':N,'ClassRef':M,'execute':_0x1334bf=>O[_0x2cc8da(0x1ab)](_0x1334bf,_0x9ec807)});_0x382bad[_0x2cc8da(0x756)](0xc8)[_0x2cc8da(0x1ed)](_0x1180c2);})['get'](this['routerPath'](_0x20eae2(0x4ab)),..._0x1431d2,async(_0x583c5d,_0x2ac51f)=>{const _0x40fc93=_0x20eae2;y[_0x40fc93(0x8c4)]('request\x20received\x20in\x20allFlows');let _0x357b09=await this[_0x40fc93(0x33c)]({'request':_0x583c5d,'schema':N,'ClassRef':M,'execute':_0x421667=>O[_0x40fc93(0x7d2)](_0x421667)});_0x2ac51f['status'](0xc8)['json'](_0x357b09);});}},Mi=I(require(a0_0x7b141d(0x357))),se={};function yi(_0x2ddd2f,_0x294ea7,_0x235972,_0xa590f9){se[_0x2ddd2f]||(se[_0x2ddd2f]={}),se[_0x2ddd2f][_0x294ea7]={'id':_0x294ea7,'response':_0x235972,'events':_0xa590f9};}function bi(_0x4da8c7,_0x2d6d1e){!se[_0x4da8c7]||!se[_0x4da8c7][_0x2d6d1e]||delete se[_0x4da8c7][_0x2d6d1e];}function F(_0x4f40aa,_0x51e068,_0xa2cc89){const _0x5c86ec=a0_0x7b141d;if(!se[_0x4f40aa])return;let _0x36cf96=_0x5c86ec(0x42c)+JSON[_0x5c86ec(0x22d)](_0xa2cc89)+'\x0a\x0a';Object[_0x5c86ec(0x198)](se[_0x4f40aa])[_0x5c86ec(0x677)](_0x34723b=>{const _0x4699ad=_0x5c86ec;_0x34723b[_0x4699ad(0x822)][_0x4699ad(0x87b)](_0x51e068)&&_0x34723b['response'][_0x4699ad(0x3a9)](_0x36cf96);});}function Si(){const _0x27bf47=a0_0x7b141d;let _0x3f5806={};for(let _0xcc06d5 in se)_0x3f5806[_0xcc06d5]=Object[_0x27bf47(0x198)](se[_0xcc06d5])['map'](_0x57c18b=>({'id':_0x57c18b['id'],'events':_0x57c18b[_0x27bf47(0x822)]}));return _0x3f5806;}var Ci=require('uuid'),Is=require(a0_0x7b141d(0x5ab)),Ts=class{},To=new Is[(a0_0x7b141d(0x1ea))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Io=new Is[(a0_0x7b141d(0x1ea))]({'_id':{'type':String,'default':a0_0x7b141d(0x4ff)},'WebhookGlobal':{'type':To},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ve=T?.[a0_0x7b141d(0x52b)](Ts[a0_0x7b141d(0x3f5)],Io,a0_0x7b141d(0x49a)),_o=Mi[a0_0x7b141d(0x2cf)][a0_0x7b141d(0x797)](__dirname,'downloads'),ke=(0x0,Ot[a0_0x7b141d(0x1bd)])(),Oo=S[a0_0x7b141d(0x6c9)]('AUTHENTICATION')['TYPE'],re=[Aa,Ta,Oa[Oo]];ke[a0_0x7b141d(0x590)](a0_0x7b141d(0x80a),Ot[a0_0x7b141d(0x2cf)][a0_0x7b141d(0x637)](_o))[a0_0x7b141d(0x6c9)](a0_0x7b141d(0x5c1),async(_0x403fb0,_0x10adcb)=>{const _0x13b107=a0_0x7b141d;console[_0x13b107(0x54c)](_0x13b107(0x549));let _0x17df45=_0x403fb0[_0x13b107(0x4d7)][_0x13b107(0x194)],_0x2b5128=(_0x403fb0['query'][_0x13b107(0x822)]||'')['split'](','),_0x2c3cbe=(0x0,Ci['v4'])();console[_0x13b107(0x54c)](_0x13b107(0x759),_0x17df45),console[_0x13b107(0x54c)](_0x13b107(0x786),_0x2b5128);let _0x6673b1=S[_0x13b107(0x6c9)]('AUTHENTICATION')[_0x13b107(0x5c6)],_0x42b6e9=_0x403fb0[_0x13b107(0x47e)][_0x13b107(0x185)];if(console[_0x13b107(0x54c)](_0x13b107(0x529),_0x42b6e9),_0x6673b1[_0x13b107(0x654)]!==_0x42b6e9){console[_0x13b107(0x54c)]('env.KEY\x20!==\x20key');try{let _0x1d52f0=await fe[_0x13b107(0x83a)][_0x13b107(0x61f)](_0x17df45);if(console[_0x13b107(0x54c)]('Instance\x20Key\x20from\x20DB:',_0x1d52f0),!_0x1d52f0||_0x1d52f0[_0x13b107(0x185)]!==_0x42b6e9)return console[_0x13b107(0x54c)](_0x13b107(0x368)),_0x10adcb[_0x13b107(0x756)](0x191)[_0x13b107(0x182)]('API\x20Key\x20inválida.');}catch(_0x35ae31){return console[_0x13b107(0x4b9)](_0x13b107(0x4bc),_0x35ae31),_0x10adcb[_0x13b107(0x756)](0x191)['send']('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await _e(_0x17df45))return _0x10adcb[_0x13b107(0x756)](0x194)[_0x13b107(0x182)](_0x13b107(0x703));_0x10adcb[_0x13b107(0x80b)]('Content-Type','text/event-stream'),_0x10adcb[_0x13b107(0x80b)](_0x13b107(0x22f),_0x13b107(0x6cc)),_0x10adcb[_0x13b107(0x80b)](_0x13b107(0x858),_0x13b107(0x891)),_0x10adcb[_0x13b107(0x14c)]();let _0x1baa5b='data:\x20'+JSON[_0x13b107(0x22d)]({'info':_0x13b107(0x85c)})+'\x0a\x0a';_0x10adcb[_0x13b107(0x3a9)](_0x1baa5b),yi(_0x17df45,_0x2c3cbe,_0x10adcb,_0x2b5128),_0x403fb0['on'](_0x13b107(0x461),()=>{const _0x5799f3=_0x13b107;console['log'](_0x5799f3(0x8bb)+_0x17df45),bi(_0x17df45,_0x2c3cbe);});}),ke[a0_0x7b141d(0x4b7)]('/startFlow/:instance/:startID',async(_0x2483b6,_0x55f466)=>{const _0xdec438=a0_0x7b141d;console[_0xdec438(0x54c)](_0xdec438(0x8b0));let _0x481ba9=_0x2483b6[_0xdec438(0x4d7)][_0xdec438(0x194)],_0xa15a8a=_0x2483b6[_0xdec438(0x4d7)][_0xdec438(0x307)],_0x3f4e94=_0x2483b6[_0xdec438(0x47e)][_0xdec438(0x230)]||'',_0x5b19bb=_0x2483b6['body'];console['log']('Instance\x20Name:',_0x481ba9),console[_0xdec438(0x54c)](_0xdec438(0x86f),_0xa15a8a),console[_0xdec438(0x54c)](_0xdec438(0x26c),_0x3f4e94),console[_0xdec438(0x54c)](_0xdec438(0x8a9),_0x5b19bb);try{if(!await _e(_0x481ba9))return _0x55f466['status'](0x194)[_0xdec438(0x182)](_0xdec438(0x703));let _0x717fda=await O[_0xdec438(0x501)](_0x481ba9,_0xa15a8a,_0x3f4e94,_0x5b19bb);_0x55f466['send'](_0x717fda);}catch(_0x4ebc69){console[_0xdec438(0x4b9)](_0x4ebc69),_0x55f466[_0xdec438(0x756)](0x1f4)[_0xdec438(0x182)](_0xdec438(0x2bd));}}),ke['get'](a0_0x7b141d(0x715),(_0x5b541f,_0xd881b)=>{const _0x5a1ab7=a0_0x7b141d;let _0x4a806f=Si();_0xd881b[_0x5a1ab7(0x1ed)](_0x4a806f);})[a0_0x7b141d(0x6c9)]('/',(_0x5bc3a1,_0x162fed)=>{const _0x3a4ef5=a0_0x7b141d;let _0x1acbce=S[_0x3a4ef5(0x6c9)](_0x3a4ef5(0x653))[_0x3a4ef5(0x5b5)];if(_0x1acbce){let _0x14dc7b=encodeURIComponent(''+_0x1acbce);_0x162fed[_0x3a4ef5(0x6b1)](_0x3a4ef5(0x1e1)+_0x14dc7b);return;}let _0x4e155a=S[_0x3a4ef5(0x6c9)](_0x3a4ef5(0x78f)),_0x1e7844=_0x4e155a&&_0x4e155a[_0x3a4ef5(0x692)][_0x3a4ef5(0x20d)]('/')[0x4];if(_0x1e7844){let _0x322f14=encodeURIComponent('https://'+_0x1e7844);_0x162fed[_0x3a4ef5(0x6b1)](_0x3a4ef5(0x1e1)+_0x322f14);}else _0x162fed['redirect']('https://uazapi-plugin.bubbleapps.io/');})[a0_0x7b141d(0x270)](a0_0x7b141d(0x89a),...re,async(_0x3a758a,_0x1041ef)=>{const _0x2ac252=a0_0x7b141d;try{console['log'](_0x2ac252(0x689)),_0x1041ef[_0x2ac252(0x756)](0xc8)[_0x2ac252(0x1ed)]({'message':_0x2ac252(0x890)}),_0x1041ef['on'](_0x2ac252(0x4e9),()=>process[_0x2ac252(0x40b)](0x0));}catch(_0x38066f){console[_0x2ac252(0x4b9)](_0x2ac252(0x232),_0x38066f),_0x1041ef[_0x2ac252(0x756)](0x1f4)[_0x2ac252(0x1ed)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x7b141d(0x270)](a0_0x7b141d(0x57e),...re,async(_0x4d8603,_0x4e9bd7)=>{const _0x1dcecf=a0_0x7b141d;try{let _0x1d457f=_0x4d8603[_0x1dcecf(0x7a2)];await ve[_0x1dcecf(0x319)]({},{'$set':_0x1d457f},{'upsert':!0x0});let _0x2a0dfc=await ve[_0x1dcecf(0x89d)]();_0x4e9bd7[_0x1dcecf(0x1ed)](_0x2a0dfc);}catch(_0x2d31a5){_0x4e9bd7[_0x1dcecf(0x756)](0x190)['send'](_0x2d31a5[_0x1dcecf(0x1f9)]);}})['get'](a0_0x7b141d(0x57e),...re,async(_0x56145b,_0x43355a)=>{const _0x450ad8=a0_0x7b141d;try{let _0x2bca1c=await ve[_0x450ad8(0x89d)]();if(!_0x2bca1c)return _0x43355a[_0x450ad8(0x1ed)]({});_0x43355a[_0x450ad8(0x1ed)](_0x2bca1c);}catch(_0x30c986){_0x43355a[_0x450ad8(0x756)](0x1f4)[_0x450ad8(0x182)](_0x30c986[_0x450ad8(0x1f9)]);}})['use'](a0_0x7b141d(0x424),new yt(S,...re)[a0_0x7b141d(0x1aa)])[a0_0x7b141d(0x590)]('/message',new At(...re)[a0_0x7b141d(0x1aa)])[a0_0x7b141d(0x590)](a0_0x7b141d(0x807),new ct(...re)[a0_0x7b141d(0x1aa)])[a0_0x7b141d(0x590)](a0_0x7b141d(0x1c1),new wt(...re)['router'])[a0_0x7b141d(0x590)]('/webhook',new It(...re)['router'])[a0_0x7b141d(0x590)](a0_0x7b141d(0x88d),new _t(...re)[a0_0x7b141d(0x1aa)]);var m=class{constructor(..._0x1ef600){const _0x5352f8=a0_0x7b141d;throw{'status':0x190,'error':_0x5352f8(0x293),'message':_0x1ef600[_0x5352f8(0x675)]>0x0?_0x1ef600:void 0x0};}},ie=class{constructor(..._0x49f3e6){const _0x1ca6fe=a0_0x7b141d;throw{'status':0x191,'error':_0x1ca6fe(0x829),'message':_0x49f3e6['length']>0x0?_0x49f3e6:void 0x0};}},Z=class{constructor(..._0x179aa1){const _0xd02ce9=a0_0x7b141d;throw{'status':0x193,'error':_0xd02ce9(0x2e6),'message':_0x179aa1[_0xd02ce9(0x675)]>0x0?_0x179aa1:void 0x0};}},U=class{constructor(..._0x470f1d){const _0x112c65=a0_0x7b141d;throw{'status':0x194,'error':_0x112c65(0x526),'message':_0x470f1d[_0x112c65(0x675)]>0x0?_0x470f1d:void 0x0};}},x=class{constructor(..._0xd02e6){const _0x1be86f=a0_0x7b141d;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0xd02e6[_0x1be86f(0x675)]>0x0?_0xd02e6:void 0x0};}},we=require(a0_0x7b141d(0x819));async function _s(_0x3a7b50){const _0x2664bd=a0_0x7b141d;let _0x156fb7=new $(_s[_0x2664bd(0x3f5)]),_0x555633=T['getClient'](),_0x5b2bcf=_0x555633['db'](S[_0x2664bd(0x6c9)](_0x2664bd(0x6ad))[_0x2664bd(0x3bf)]['DB_PREFIX_NAME']+_0x2664bd(0x3a3))[_0x2664bd(0x5f9)](_0x3a7b50),_0x370ad5=async(_0xf5e33a,_0xc26064)=>{const _0x448850=_0x2664bd;try{return await _0x555633[_0x448850(0x84b)](),await _0x5b2bcf[_0x448850(0x5b4)]({'_id':_0xc26064},JSON[_0x448850(0x7da)](JSON[_0x448850(0x22d)](_0xf5e33a,we[_0x448850(0x4c5)][_0x448850(0x587)])),{'upsert':!0x0});}catch{}},_0x123149=async _0x42329a=>{const _0x5af39b=_0x2664bd;try{await _0x555633[_0x5af39b(0x84b)]();let _0x3b9e67=await _0x5b2bcf[_0x5af39b(0x89d)]({'_id':_0x42329a}),_0x5d6048=JSON[_0x5af39b(0x22d)](_0x3b9e67);return JSON[_0x5af39b(0x7da)](_0x5d6048,we[_0x5af39b(0x4c5)][_0x5af39b(0x729)]);}catch{}},_0x69feca=async _0x149ce1=>{const _0x52db24=_0x2664bd;try{return await _0x555633[_0x52db24(0x84b)](),await _0x5b2bcf[_0x52db24(0x631)]({'_id':_0x149ce1});}catch{}},_0x3e6886=await _0x123149('creds')||(0x0,we[_0x2664bd(0x77f)])();return{'state':{'creds':_0x3e6886,'keys':{'get':async(_0x40ec95,_0x1517cd)=>{const _0x127bda=_0x2664bd;let _0x553331={};return await Promise[_0x127bda(0x62b)](_0x1517cd[_0x127bda(0x62e)](async _0x18c22d=>{const _0x5ee226=_0x127bda;let _0x3f6c16=await _0x123149(_0x40ec95+'-'+_0x18c22d);_0x40ec95==='app-state-sync-key'&&_0x3f6c16&&(_0x3f6c16=we[_0x5ee226(0x6c3)][_0x5ee226(0x71f)][_0x5ee226(0x800)][_0x5ee226(0x31a)](_0x3f6c16)),_0x553331[_0x18c22d]=_0x3f6c16;})),_0x553331;},'set':async _0x9a6660=>{let _0x3a03b8=[];for(let _0x46af8f in _0x9a6660)for(let _0x41912d in _0x9a6660[_0x46af8f]){let _0x5b5b7d=_0x9a6660[_0x46af8f][_0x41912d],_0x428b7b=_0x46af8f+'-'+_0x41912d;_0x3a03b8['push'](_0x5b5b7d?_0x370ad5(_0x5b5b7d,_0x428b7b):_0x69feca(_0x428b7b));}await Promise['all'](_0x3a03b8);}}},'saveCreds':async()=>_0x370ad5(_0x3e6886,_0x2664bd(0x6c4))};}var ks=I(require('long')),Ls=I(require(a0_0x7b141d(0x154))),Dt=require('@whiskeysockets/baileys'),Ei=require(a0_0x7b141d(0x71b)),Pt=require(a0_0x7b141d(0x819)),xt;function xo(_0x1119af){const _0x21a993=a0_0x7b141d;return xt||(xt=(0x0,Ei['createClient'])({'url':_0x1119af[_0x21a993(0x784)]}),xt[_0x21a993(0x84b)]()),xt;}var pe=class u{constructor(_0x43d5f3,_0x49aaac){const _0x4bbefe=a0_0x7b141d;this[_0x4bbefe(0x3e8)]=_0x43d5f3,this['instanceName']=_0x49aaac,this['logger']=new $(u[_0x4bbefe(0x3f5)]),this[_0x4bbefe(0x523)]=xo(_0x43d5f3);}set['reference'](_0xee1896){const _0x163d2b=a0_0x7b141d;this[_0x163d2b(0x488)]=_0xee1896;}async[a0_0x7b141d(0x7ea)](){const _0x539fae=a0_0x7b141d;try{return await this['client']['sendCommand']([_0x539fae(0x679),this[_0x539fae(0x3e8)][_0x539fae(0x725)]+':*']);}catch(_0x2fb5a4){this[_0x539fae(0x222)][_0x539fae(0x4b9)](_0x2fb5a4);}}async[a0_0x7b141d(0x545)](_0x3cc267,_0x597420){const _0x5241f0=a0_0x7b141d;try{let _0x2db0d1=JSON[_0x5241f0(0x22d)](_0x597420,Pt['BufferJSON'][_0x5241f0(0x587)]);return await this['client'][_0x5241f0(0x898)](this[_0x5241f0(0x3e8)]['PREFIX_KEY']+':'+this[_0x5241f0(0x488)],_0x3cc267,_0x2db0d1);}catch(_0x15f825){this[_0x5241f0(0x222)][_0x5241f0(0x4b9)](_0x15f825);}}async[a0_0x7b141d(0x688)](){const _0x482f0c=a0_0x7b141d;try{let _0x1aa05b=await this['client'][_0x482f0c(0x4fc)](this[_0x482f0c(0x3e8)][_0x482f0c(0x725)]+':'+this['instanceName']);if(_0x1aa05b){for(let _0xebcb8a in _0x1aa05b)Object['prototype']['hasOwnProperty']['call'](_0x1aa05b,_0xebcb8a)&&(_0x1aa05b[_0xebcb8a]=JSON[_0x482f0c(0x7da)](_0x1aa05b[_0xebcb8a],Pt['BufferJSON'][_0x482f0c(0x729)]));return _0x1aa05b;}}catch(_0x30b7d3){this[_0x482f0c(0x222)]['error'](_0x30b7d3);}}async[a0_0x7b141d(0x88f)](_0x521f14){const _0x21f108=a0_0x7b141d;try{let _0x4bf109=await this[_0x21f108(0x523)][_0x21f108(0x842)](this[_0x21f108(0x3e8)][_0x21f108(0x725)]+':'+this[_0x21f108(0x488)],_0x521f14);if(_0x4bf109)return JSON[_0x21f108(0x7da)](_0x4bf109,Pt[_0x21f108(0x4c5)][_0x21f108(0x729)]);}catch(_0x5ae9e7){this[_0x21f108(0x222)]['error'](_0x5ae9e7);}}async['removeData'](_0x3ee0e5){const _0x223a5d=a0_0x7b141d;try{return await this[_0x223a5d(0x523)][_0x223a5d(0x4d6)](this[_0x223a5d(0x3e8)]['PREFIX_KEY']+':'+this['instanceName'],_0x3ee0e5);}catch(_0x2552fa){this['logger'][_0x223a5d(0x4b9)](_0x2552fa);}}async[a0_0x7b141d(0x597)](_0x5c53f5){const _0x3ad3d0=a0_0x7b141d;try{return await this[_0x3ad3d0(0x523)][_0x3ad3d0(0x65d)](_0x5c53f5||this['redisEnv'][_0x3ad3d0(0x725)]+':'+this['instanceName']);}catch(_0x14178d){this[_0x3ad3d0(0x222)][_0x3ad3d0(0x4b9)](_0x14178d);}}};async function Os(_0x531b7f,_0x46e2d2){const _0x567c69=a0_0x7b141d;let _0xaf06f9=new $(Os[_0x567c69(0x3f5)]),_0x2a6a29=new pe(_0x531b7f,_0x46e2d2),_0xd3c86d=async(_0x15c4ba,_0x530218)=>{const _0x2a9a5e=_0x567c69;try{return await _0x2a6a29[_0x2a9a5e(0x545)](_0x530218,_0x15c4ba);}catch(_0x44fb78){return _0xaf06f9['error']({'localError':_0x2a9a5e(0x545),'error':_0x44fb78});}},_0x410eed=async _0x525b76=>{const _0x1b13d9=_0x567c69;try{return await _0x2a6a29['readData'](_0x525b76);}catch(_0x2afa65){_0xaf06f9[_0x1b13d9(0x4b9)]({'readData':_0x1b13d9(0x545),'error':_0x2afa65});return;}},_0x35cf58=async _0x32de7e=>{const _0x7af99f=_0x567c69;try{return await _0x2a6a29[_0x7af99f(0x193)](_0x32de7e);}catch(_0x329f59){_0xaf06f9[_0x7af99f(0x4b9)]({'readData':_0x7af99f(0x193),'error':_0x329f59});}},_0x43a7a5=await _0x410eed(_0x567c69(0x6c4))||(0x0,Dt[_0x567c69(0x77f)])();return{'state':{'creds':_0x43a7a5,'keys':{'get':async(_0x5bc87a,_0x44c91a)=>{let _0x534736={};return await Promise['all'](_0x44c91a['map'](async _0x1e5200=>{const _0x4eadf1=a0_0x77b5;let _0x5749ed=await _0x410eed(_0x5bc87a+'-'+_0x1e5200);_0x5bc87a===_0x4eadf1(0x426)&&_0x5749ed&&(_0x5749ed=Dt['proto'][_0x4eadf1(0x71f)]['AppStateSyncKeyData'][_0x4eadf1(0x31a)](_0x5749ed)),_0x534736[_0x1e5200]=_0x5749ed;})),_0x534736;},'set':async _0x5df419=>{const _0x389f9f=_0x567c69;let _0x43f434=[];for(let _0x415526 in _0x5df419)for(let _0xf6d61 in _0x5df419[_0x415526]){let _0x5eee35=_0x5df419[_0x415526][_0xf6d61],_0x1ac96c=_0x415526+'-'+_0xf6d61;_0x43f434[_0x389f9f(0x7a1)](_0x5eee35?await _0xd3c86d(_0x5eee35,_0x1ac96c):await _0x35cf58(_0x1ac96c));}await Promise[_0x389f9f(0x62b)](_0x43f434);}}},'saveCreds':async()=>await _0xd3c86d(_0x43a7a5,_0x567c69(0x6c4))};}var k=I(require('fs')),Y=require('uuid'),Ut=I(require(a0_0x7b141d(0x2b6))),ne=require(a0_0x7b141d(0x256)),vi=require(a0_0x7b141d(0x3f0)),Ni=require('util'),$i=I(require(a0_0x7b141d(0x84f))),Ne=class extends _{constructor(_0x285d41,_0x5a89bd,_0x2ffb4e){const _0x222a56=a0_0x7b141d;super(_0x5a89bd),this[_0x222a56(0x6ae)]=_0x285d41,this[_0x222a56(0x695)]=_0x5a89bd,this[_0x222a56(0x2dd)]=_0x2ffb4e;}async['createOrUpdate'](_0x989cce,_0x4ee4f3){const _0x5e775d=a0_0x7b141d;try{if(this[_0x5e775d(0x1a7)][_0x5e775d(0x16f)]){console[_0x5e775d(0x54c)](_0x5e775d(0x666)+_0x4ee4f3+'\x20and\x20data:',_0x989cce);let _0x45d5ff=await this[_0x5e775d(0x6ae)][_0x5e775d(0x7c3)]({'_id':_0x4ee4f3},{'$set':_0x989cce},{'new':!0x0,'upsert':!0x0});return console[_0x5e775d(0x54c)](_0x5e775d(0x74d),_0x45d5ff),_0x45d5ff;}}catch(_0x3555cc){throw console[_0x5e775d(0x4b9)](_0x5e775d(0x151),_0x3555cc),_0x3555cc;}return null;}async['deleteOne'](_0x192abe){const _0x1abb97=a0_0x7b141d;try{let _0x38d318=A(_0x192abe[_0x1abb97(0x864)]);return{'deletedCount':(await this[_0x1abb97(0x6ae)][_0x1abb97(0x631)](_0x38d318))[_0x1abb97(0x75f)]};}catch(_0x52d93b){return{'error':_0x52d93b?.['toString']()};}}async[a0_0x7b141d(0x89d)](_0x3b600c){const _0x18aaff=a0_0x7b141d;try{let _0x5ea783=A(_0x3b600c[_0x18aaff(0x864)]);return await this['cacheInstanceModel'][_0x18aaff(0x89d)](_0x5ea783)['lean']();}catch{return null;}}},kt=(0x0,Ni[a0_0x7b141d(0x3ba)])(vi['exec']),Po=S[a0_0x7b141d(0x6c9)]('PROXY'),xs=class{constructor(){const _0x212bb9=a0_0x7b141d;this['cacheInstanceRepository']=new Ne(Be,S),(!this[_0x212bb9(0x73f)]||!this['networkInterface'])&&Po&&this[_0x212bb9(0x5ac)]()[_0x212bb9(0x870)](()=>{const _0x47312e=_0x212bb9;console[_0x47312e(0x54c)](_0x47312e(0x3c7)+this[_0x47312e(0x73f)]),console[_0x47312e(0x54c)](_0x47312e(0x32c)+this[_0x47312e(0x616)]);})[_0x212bb9(0x6d6)](_0x2650b5=>{const _0x53cc59=_0x212bb9;console['error'](_0x53cc59(0x605)+_0x2650b5[_0x53cc59(0x1f9)]);});}async[a0_0x7b141d(0x5ac)](){const _0x55bb9c=a0_0x7b141d;try{let {stdout:_0x46e174}=await kt('ip\x20-br\x20link\x20show');console[_0x55bb9c(0x54c)](_0x55bb9c(0x3bc)+_0x46e174);let _0x5ac676=_0x46e174[_0x55bb9c(0x20d)]('\x0a')[_0x55bb9c(0x62e)](_0xdd0c43=>_0xdd0c43['split']('\x20')[0x0])[_0x55bb9c(0x499)](_0x5e8c9c=>!_0x5e8c9c[_0x55bb9c(0x87b)]('lo')&&!_0x5e8c9c[_0x55bb9c(0x87b)](_0x55bb9c(0x1d6))&&!_0x5e8c9c['includes'](_0x55bb9c(0x845))&&!_0x5e8c9c['includes']('wl')&&!_0x5e8c9c['includes']('@'));if(console[_0x55bb9c(0x54c)]('Filtered\x20network\x20interfaces:\x20'+_0x5ac676),_0x5ac676[_0x55bb9c(0x675)]===0x0)throw new Error(_0x55bb9c(0x4fe));this[_0x55bb9c(0x616)]=_0x5ac676[0x0];let {stdout:_0x465666}=await kt(_0x55bb9c(0x2ac)+this[_0x55bb9c(0x616)]);console[_0x55bb9c(0x54c)](_0x55bb9c(0x43d)+_0x465666);let _0x5734b0=_0x465666[_0x55bb9c(0x20d)]('\x0a')['find'](_0x1e30c4=>_0x1e30c4[_0x55bb9c(0x87b)]('inet6')&&_0x1e30c4[_0x55bb9c(0x87b)]('global'));if(!_0x5734b0)throw new Error(_0x55bb9c(0x866));let _0x34a646=_0x5734b0[_0x55bb9c(0x3dc)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x34a646)throw new Error(_0x55bb9c(0x378));let [_0x14bfbb,_0x533a97,_0x39a38b]=_0x34a646,_0x3f26da=Math[_0x55bb9c(0x1ef)](Number(_0x39a38b)/0x10),_0x135bd5=Number(_0x39a38b)%0x10,_0x326895=_0x533a97['split'](':')[_0x55bb9c(0x561)](0x0,_0x3f26da)[_0x55bb9c(0x797)](':');if(_0x135bd5>0x0){let _0x5c0b6d=_0x533a97[_0x55bb9c(0x20d)](':')[_0x3f26da],_0xeb957=0xffff<<0x10-_0x135bd5&0xffff,_0x8776e0=(parseInt(_0x5c0b6d,0x10)&_0xeb957)[_0x55bb9c(0x7b0)](0x10)[_0x55bb9c(0x363)](0x4,'0');_0x326895+=':'+_0x8776e0;}this[_0x55bb9c(0x73f)]=_0x326895+':';}catch(_0x56a9fa){console[_0x55bb9c(0x4b9)](_0x55bb9c(0x249),_0x56a9fa);}}async[a0_0x7b141d(0x22b)](_0x40c9bd){const _0x12dfa6=a0_0x7b141d;let _0x4d5cc4='ip\x20-6\x20addr\x20add\x20'+_0x40c9bd+'/64\x20dev\x20'+this[_0x12dfa6(0x616)];try{await kt(_0x4d5cc4),console[_0x12dfa6(0x54c)](_0x12dfa6(0x61a)+_0x40c9bd);}catch(_0x4968dd){console[_0x12dfa6(0x4b9)](_0x12dfa6(0x5a4)+_0x4968dd);}}async[a0_0x7b141d(0x211)](_0x354f0f){const _0x13bd70=a0_0x7b141d;let _0x5e7150='ip\x20-6\x20addr\x20del\x20'+_0x354f0f+'/64\x20dev\x20'+this['networkInterface'];try{await kt(_0x5e7150),console[_0x13bd70(0x54c)]('IPv6\x20address\x20removed:\x20'+_0x354f0f);}catch(_0x304f75){console[_0x13bd70(0x4b9)](_0x13bd70(0x208)+_0x304f75);}}[a0_0x7b141d(0x834)](){const _0x17b342=a0_0x7b141d;return _0x17b342(0x45c)[_0x17b342(0x563)](/X/g,()=>_0x17b342(0x710)[_0x17b342(0x2c2)](Math[_0x17b342(0x1ef)](Math[_0x17b342(0x87e)]()*0x10)));}[a0_0x7b141d(0x1e5)](_0x367e2b,_0x20f38a){const _0x825ed4=a0_0x7b141d;let _0x44fc86=_0x20f38a[_0x825ed4(0x20d)](':');return _0x44fc86[0x0]=(parseInt(_0x44fc86[0x0],0x10)^0x2)[_0x825ed4(0x7b0)](0x10)['padStart'](0x2,'0'),''+_0x367e2b+_0x44fc86[0x0]+_0x44fc86[0x1]+':'+_0x44fc86[0x2]+_0x825ed4(0x470)+_0x44fc86[0x3]+':'+_0x44fc86[0x4]+_0x44fc86[0x5];}[a0_0x7b141d(0x579)](){const _0xf9f8a4=a0_0x7b141d;let _0x1c941a=this[_0xf9f8a4(0x73f)];_0x1c941a[_0xf9f8a4(0x179)](':')||(_0x1c941a+=':');let _0x3be09e=this['randomMac']();return this['ip6eui'](_0x1c941a,_0x3be09e);}[a0_0x7b141d(0x640)](_0xe3f584){const _0x137df8=a0_0x7b141d;return new RegExp(_0x137df8(0x303))['test'](_0xe3f584);}async[a0_0x7b141d(0x69f)](_0xcceb4c){const _0x15ad55=a0_0x7b141d;let _0x43b27f=[{'url':'https://ipv6.jsonip.com','parse':_0x530367=>_0x530367['ip']},{'url':_0x15ad55(0x1d4),'parse':_0x1cac73=>_0x1cac73['ip']},{'url':_0x15ad55(0x2d5),'parse':_0xe5b235=>_0xe5b235[_0x15ad55(0x223)]()},{'url':'https://v6.ident.me','parse':_0x48b234=>_0x48b234[_0x15ad55(0x223)]()}],_0x12bcef=_0x43b27f[Math[_0x15ad55(0x1ef)](Math['random']()*_0x43b27f[_0x15ad55(0x675)])];try{let _0x508e94=await $i[_0x15ad55(0x2cf)]['get'](_0x12bcef[_0x15ad55(0x2d8)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0xcceb4c}}),_0x15b747=_0x12bcef[_0x15ad55(0x7da)](_0x508e94['data']);return _0x15b747[_0x15ad55(0x374)]()===_0xcceb4c[_0x15ad55(0x374)]()?(console[_0x15ad55(0x54c)](_0x15ad55(0x5d3)+_0xcceb4c),!0x0):(console['error'](_0x15ad55(0x53a)+_0xcceb4c+_0x15ad55(0x28b)+_0x15b747),!0x1);}catch(_0x442d6b){return console[_0x15ad55(0x4b9)]('Error\x20testing\x20IP\x20with\x20'+_0x12bcef['url']+':\x20'+_0x442d6b[_0x15ad55(0x1f9)]),!0x1;}}async['createIPv6'](_0xed0273,_0x5bdb6a){const _0x4062f5=a0_0x7b141d;if(!this[_0x4062f5(0x73f)]||!this[_0x4062f5(0x616)])return console['error']('IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.'),null;let _0x154c88;do _0x154c88=this[_0x4062f5(0x579)](),console[_0x4062f5(0x54c)](_0x4062f5(0x186)+_0x154c88);while(!await this[_0x4062f5(0x35d)](_0x154c88));await this[_0x4062f5(0x22b)](_0x154c88),console['log']('Configured\x20IPv6:\x20'+_0x154c88);let _0x11cc41={'_id':_0xed0273+'-'+_0x5bdb6a,'ip':_0x154c88},_0x111c7f=await this[_0x4062f5(0x8b1)][_0x4062f5(0x1f7)](_0x11cc41,_0x11cc41['_id']);return console[_0x4062f5(0x54c)](_0x4062f5(0x702)+_0x111c7f),_0x154c88;}async[a0_0x7b141d(0x35d)](_0x1f3c02){const _0x2488a1=a0_0x7b141d;return this['isValidIPv6Config'](_0x1f3c02)?!await this[_0x2488a1(0x8b1)][_0x2488a1(0x89d)]({'where':{'ip':_0x1f3c02}}):!0x1;}async[a0_0x7b141d(0x1cc)](_0x4f1769,_0x3bcaa8){const _0x4fcb0e=a0_0x7b141d;let _0x2f1299=_0x4f1769+'-'+_0x3bcaa8,_0x3a13f5=await this[_0x4fcb0e(0x8b1)][_0x4fcb0e(0x89d)]({'where':{'_id':_0x2f1299}});_0x3a13f5&&_0x3a13f5['ip']&&(await this[_0x4fcb0e(0x211)](_0x3a13f5['ip']),await this[_0x4fcb0e(0x8b1)][_0x4fcb0e(0x631)]({'where':{'_id':_0x2f1299}}));}},Do=new xs(),ae=Do,Fs=a0_0x7b141d(0x510),xi,he=null,xa=null,ko=0x3,Lo=null,Ri=S[a0_0x7b141d(0x6c9)]('AUTHENTICATION')[a0_0x7b141d(0x5c6)][a0_0x7b141d(0x654)],Ai=S[a0_0x7b141d(0x6c9)](a0_0x7b141d(0x2fa));async function Fo(){const _0x22bc9a=a0_0x7b141d;let _0x29b441=await ve[_0x22bc9a(0x89d)]();he=_0x29b441?.[_0x22bc9a(0x682)]??null,Lo=_0x29b441?.[_0x22bc9a(0x6c2)]??null,Fs=_0x29b441?.[_0x22bc9a(0x366)]??_0x22bc9a(0x510),xi=_0x29b441?.['connectedName']??B??'uazapi';}async function Uo(){await Fo();}Uo();var Lt={},$e=class u{constructor(_0x549cd3,_0x2cf480,_0x319471){const _0x4d50f7=a0_0x7b141d;this[_0x4d50f7(0x695)]=_0x549cd3,this[_0x4d50f7(0x43f)]=_0x2cf480,this[_0x4d50f7(0x60c)]=_0x319471,this['processedMessagesCache']={},this[_0x4d50f7(0x75a)]=null,this[_0x4d50f7(0x222)]=new $(u[_0x4d50f7(0x3f5)]),this[_0x4d50f7(0x194)]={},this[_0x4d50f7(0x636)]={},this[_0x4d50f7(0x711)]={'state':_0x4d50f7(0x461)},this[_0x4d50f7(0x6f8)]=(0x0,j[_0x4d50f7(0x797)])(le,_0x4d50f7(0x89f)),this[_0x4d50f7(0x462)]=new Ls[(_0x4d50f7(0x2cf))](),this[_0x4d50f7(0x36f)]=new Ls[(_0x4d50f7(0x2cf))](),this[_0x4d50f7(0x3da)]=!0x1,this[_0x4d50f7(0x3a0)]={'status.instance':_0x4d50f7(0x680),'connection.update':_0x4d50f7(0x680),'qrcode.updated':_0x4d50f7(0x5ca),'messages.upsert':'/wa-message','send.message':'/wa-message','messages.update':_0x4d50f7(0x48f),'group.upsert':'/wa-groups','group.update':_0x4d50f7(0x15f),'group-participants.update':'/wa-groups','messages.set':_0x4d50f7(0x4e5),'contacts.set':_0x4d50f7(0x4ac),'contacts.upsert':'/wa-contacts','contacts.update':_0x4d50f7(0x4ac),'presence.update':_0x4d50f7(0x271),'chats.set':_0x4d50f7(0x351),'chats.update':_0x4d50f7(0x351),'chats.upsert':_0x4d50f7(0x351),'chats.delete':'/wa-chats'},this['reconnectAttempts']=0x0,this[_0x4d50f7(0x6db)]=[],this[_0x4d50f7(0x8c0)]=0xea60,this[_0x4d50f7(0x1bc)]=!0x1,this[_0x4d50f7(0x5e3)]={'chats.upsert':async(_0x52321b,_0x4cea83)=>{const _0x45cd94=_0x4d50f7;let _0x3c9411=[];for await(let _0xf7c7a8 of _0x52321b)_0x3c9411[_0x45cd94(0x7a1)]({'_id':_0xf7c7a8['id'],'owner':this[_0x45cd94(0x194)]['wuid'],'group':_0xf7c7a8['id'][_0x45cd94(0x179)](_0x45cd94(0x292)),'name':_0xf7c7a8['name']||_0xf7c7a8[_0x45cd94(0x5f8)]||null,'contactname':null,'lastmsg':_0xf7c7a8[_0x45cd94(0x5ad)]&&_0xf7c7a8[_0x45cd94(0x5ad)][_0x45cd94(0x7b0)]()[_0x45cd94(0x675)]<0xd?_0xf7c7a8['conversationTimestamp']*0x3e8:_0xf7c7a8[_0x45cd94(0x5ad)]||null,'archived':_0xf7c7a8[_0x45cd94(0x66f)]||!0x1,'unreadcount':_0xf7c7a8[_0x45cd94(0x6aa)]||0x0,'ephemeralExpiration':_0xf7c7a8['ephemeralExpiration']||0x0});this[_0x45cd94(0x189)](_0x45cd94(0x221),_0x3c9411);},'chats.update':async(_0x5cb7ff,_0xb7750c)=>{const _0x1570d2=_0x4d50f7;for(let _0x20bf98 of _0x5cb7ff){let _0x4be358={'_id':_0x20bf98['id'],'owner':this['instance'][_0x1570d2(0x2ab)],'archived':_0x20bf98['archived'],'muteEndTime':_0x20bf98[_0x1570d2(0x1ae)],'ephemeralExpiration':_0x20bf98['ephemeralExpiration']},_0x495e00=!0x1,_0x598df6={};_0x4be358[_0x1570d2(0x66f)]!=null&&(this['logger'][_0x1570d2(0x8c4)](this[_0x1570d2(0x488)]+'\x20('+this[_0x1570d2(0x194)]['wuid']+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x20bf98['id']+_0x1570d2(0x473)+_0x20bf98[_0x1570d2(0x66f)]),_0x495e00=!0x0,_0x598df6[_0x1570d2(0x66f)]=_0x20bf98['archived']),_0x1570d2(0x1ae)in _0x20bf98&&(this[_0x1570d2(0x222)][_0x1570d2(0x8c4)](this['instanceName']+'\x20('+this[_0x1570d2(0x194)][_0x1570d2(0x2ab)]+_0x1570d2(0x4a7)+_0x20bf98['id']+_0x1570d2(0x473)+(_0x20bf98['muteEndTime']??'0')),_0x495e00=!0x0,_0x598df6[_0x1570d2(0x1ae)]=_0x20bf98[_0x1570d2(0x1ae)]??0x0),_0x1570d2(0x5cd)in _0x20bf98&&(this[_0x1570d2(0x222)][_0x1570d2(0x8c4)](this[_0x1570d2(0x488)]+'\x20('+this[_0x1570d2(0x194)]['wuid']+'):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20'+_0x20bf98['id']+_0x1570d2(0x473)+(_0x20bf98[_0x1570d2(0x5cd)]!==void 0x0?_0x20bf98[_0x1570d2(0x5cd)]:_0x1570d2(0x5a6))),_0x598df6[_0x1570d2(0x5cd)]=_0x20bf98[_0x1570d2(0x5cd)]===null?0x0:_0x20bf98[_0x1570d2(0x5cd)],_0x495e00=!0x0);let _0x20a8a3;_0x495e00&&(_0x20a8a3=await this[_0x1570d2(0x60c)][_0x1570d2(0x624)][_0x1570d2(0x319)]({'where':{'_id':_0x20bf98['id']}},_0x598df6,this[_0x1570d2(0x194)][_0x1570d2(0x2ab)])),_0x20a8a3&&F(this[_0x1570d2(0x488)],_0x1570d2(0x2fb),{'chat':_0x20a8a3});}},'chats.delete':async _0x314140=>{const _0x3c0dce=_0x4d50f7;for(let _0x3ac5ff of _0x314140)if(_0x3ac5ff[_0x3c0dce(0x179)](_0x3c0dce(0x292))){await this[_0x3c0dce(0x60c)][_0x3c0dce(0x624)]['delete']({'where':{'_id':_0x3ac5ff}},this[_0x3c0dce(0x194)][_0x3c0dce(0x2ab)]);let _0x5d97d7={'where':{'key':{'remoteJid':_0x3ac5ff}}};await this[_0x3c0dce(0x60c)][_0x3c0dce(0x1f9)][_0x3c0dce(0x59d)](_0x5d97d7,this[_0x3c0dce(0x194)]['wuid']);}else{await this[_0x3c0dce(0x60c)]['chat'][_0x3c0dce(0x319)]({'where':{'_id':_0x3ac5ff}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x3c0dce(0x194)][_0x3c0dce(0x2ab)]);let _0x4cd045={'where':{'key':{'remoteJid':_0x3ac5ff}}};await this[_0x3c0dce(0x60c)][_0x3c0dce(0x1f9)]['delete'](_0x4cd045,this[_0x3c0dce(0x194)][_0x3c0dce(0x2ab)]);}this['sendDataWebhook'](_0x3c0dce(0x5d7),[..._0x314140]);}},this[_0x4d50f7(0x255)]={'contacts.upsert':async(_0x1bfd3e,_0x3ee750)=>{const _0x366af6=_0x4d50f7;let _0x541288=await this[_0x366af6(0x60c)]['contact'][_0x366af6(0x61f)]({'where':{}},this[_0x366af6(0x194)][_0x366af6(0x2ab)]),_0x2ccc89=[];for await(let _0x30f143 of _0x1bfd3e)_0x541288[_0x366af6(0x61f)](_0x32e8cc=>_0x32e8cc[_0x366af6(0x39f)]===_0x30f143['id'])||_0x2ccc89[_0x366af6(0x7a1)]({'_id':_0x30f143['id'],'pushName':_0x30f143?.['name']||_0x30f143?.['verifiedName'],'owner':this[_0x366af6(0x194)]['wuid']});this[_0x366af6(0x189)]('contacts.upsert',_0x2ccc89),await this[_0x366af6(0x60c)][_0x366af6(0x530)]['insert'](_0x2ccc89);},'contacts.update':async(_0x405bcb,_0x294fff)=>{const _0x52ff99=_0x4d50f7;let _0x284d31=[];for await(let _0x2da99d of _0x405bcb)_0x284d31[_0x52ff99(0x7a1)]({'_id':_0x2da99d['id'],'pushName':_0x2da99d?.[_0x52ff99(0x3f5)]??_0x2da99d?.[_0x52ff99(0x388)],'owner':this[_0x52ff99(0x194)][_0x52ff99(0x2ab)]});this[_0x52ff99(0x189)](_0x52ff99(0x6f9),_0x284d31);}},this[_0x4d50f7(0x38f)]={'messaging-history.set':async({messages:_0xd5b9cb,chats:_0x3845ff,isLatest:_0x1c50ba},_0x529d4f)=>{const _0x23d6bc=_0x4d50f7;if(_0x1c50ba){let _0x4a4509=await Promise['all'](_0x3845ff[_0x23d6bc(0x62e)](async _0x2f7bb0=>({'_id':_0x2f7bb0['id'],'owner':this[_0x23d6bc(0x194)]['wuid'],'group':_0x2f7bb0['id'][_0x23d6bc(0x179)]('@g.us'),'name':_0x2f7bb0['name']||_0x2f7bb0[_0x23d6bc(0x5f8)]||_0x2f7bb0[_0x23d6bc(0x7e7)]||null,'contactname':null,'lastmsg':_0x2f7bb0[_0x23d6bc(0x5ad)]&&_0x2f7bb0[_0x23d6bc(0x5ad)]['toString']()['length']<0xd?_0x2f7bb0['conversationTimestamp']*0x3e8:_0x2f7bb0['conversationTimestamp']||null,'archived':_0x2f7bb0['archived']||!0x1,'unreadcount':_0x2f7bb0[_0x23d6bc(0x6aa)]||0x0,'ephemeralExpiration':_0x2f7bb0[_0x23d6bc(0x5cd)]||0x0,'muteEndTime':_0x2f7bb0['muteEndTime']||0x0})));this[_0x23d6bc(0x189)](_0x23d6bc(0x2f4),_0x4a4509),await this['upsertChats'](_0x4a4509,_0x529d4f);}let _0x4daed0=[],_0x8e3ad4=Date[_0x23d6bc(0x849)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x3729b6]of Object[_0x23d6bc(0x6e4)](_0xd5b9cb)){if(_0x3729b6[_0x23d6bc(0x1f9)]?.[_0x23d6bc(0x893)]||_0x3729b6[_0x23d6bc(0x1f9)]?.[_0x23d6bc(0x828)]||!_0x3729b6['message']||_0x3729b6['key'][_0x23d6bc(0x230)]===_0x23d6bc(0x201)||(ks['default'][_0x23d6bc(0x61e)](_0x3729b6?.[_0x23d6bc(0x175)])&&(_0x3729b6[_0x23d6bc(0x175)]=_0x3729b6[_0x23d6bc(0x175)]?.[_0x23d6bc(0x8b4)]()),_0x3729b6[_0x23d6bc(0x175)]&&_0x3729b6[_0x23d6bc(0x175)][_0x23d6bc(0x7b0)]()[_0x23d6bc(0x675)]<0xd&&(_0x3729b6[_0x23d6bc(0x175)]=_0x3729b6['messageTimestamp']*0x3e8),_0x3729b6[_0x23d6bc(0x175)]<_0x8e3ad4))continue;let _0x1597da=(0x0,w[_0x23d6bc(0x267)])(_0x3729b6[_0x23d6bc(0x1f9)]),_0x145d39=(0x0,w[_0x23d6bc(0x23e)])(_0x1597da),{message_normalized:_0x26da85}=this[_0x23d6bc(0x747)](_0x1597da,_0x145d39,null);Object['keys'](_0x26da85)['length']>0x0&&_0x4daed0[_0x23d6bc(0x7a1)]({'_id':_0x3729b6['key']['id'],'key':_0x3729b6[_0x23d6bc(0x69b)],'pushName':_0x3729b6['pushName'],'participant':_0x3729b6['participant'],'message':_0x1597da,'messageType':_0x145d39,'message_normalized':{'key':_0x3729b6[_0x23d6bc(0x69b)],'pushName':_0x3729b6[_0x23d6bc(0x191)],'messageTimestamp':_0x3729b6['messageTimestamp'],..._0x26da85},'messageTimestamp':_0x3729b6[_0x23d6bc(0x175)],'owner':this[_0x23d6bc(0x194)][_0x23d6bc(0x2ab)]});}_0x529d4f['ENABLED']&&_0x4daed0[_0x23d6bc(0x675)]>0x0&&(this[_0x23d6bc(0x222)]['verbose'](this[_0x23d6bc(0x488)]+'\x20('+this[_0x23d6bc(0x194)][_0x23d6bc(0x2ab)]+_0x23d6bc(0x21e)+_0x4daed0[_0x23d6bc(0x675)]+_0x23d6bc(0x7db)+this[_0x23d6bc(0x194)]['wuid']+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this['repository'][_0x23d6bc(0x1f9)][_0x23d6bc(0x775)]([..._0x4daed0],this[_0x23d6bc(0x194)][_0x23d6bc(0x2ab)])),this['sendDataWebhook'](_0x23d6bc(0x18c),[..._0x4daed0]),_0xd5b9cb=void 0x0;},'messages.upsert':async({messages:_0x8fa207,type:_0x15a9f6},_0x19901d)=>{const _0x396055=_0x4d50f7;for(let _0x4b7603 of _0x8fa207){if(this[_0x396055(0x636)]?.[_0x396055(0x6eb)]&&_0x4b7603['key'][_0x396055(0x230)][_0x396055(0x87b)](_0x396055(0x292))){this[_0x396055(0x222)][_0x396055(0x8c4)](this[_0x396055(0x488)]+'\x20('+this[_0x396055(0x194)][_0x396055(0x2ab)]+_0x396055(0x728));continue;}if(_0x4b7603['key'][_0x396055(0x230)][_0x396055(0x87b)]('@newsletter')||_0x4b7603[_0x396055(0x69b)]['remoteJid']==='status@broadcast')continue;if(_0x4b7603[_0x396055(0x3d1)]&&_0x4b7603['messageStubParameters'][0x0]===_0x396055(0x7d4)){console[_0x396055(0x4b9)](_0x396055(0x455)),await this[_0x396055(0x77c)](_0x4b7603),Lt[_0x4b7603[_0x396055(0x69b)]['id']]=_0x4b7603,this[_0x396055(0x6a3)](_0x4b7603,0x0);continue;}if(_0x15a9f6!==_0x396055(0x381)||!_0x4b7603?.['message']||_0x4b7603[_0x396055(0x1f9)]?.['protocolMessage']||_0x4b7603[_0x396055(0x1f9)]?.['senderKeyDistributionMessage'])continue;let _0x3b44c1=null,_0xc3a56e=null;if(Lt[_0x4b7603['key']['id']]&&(console[_0x396055(0x4b9)](_0x396055(0x203)),await this['repository']['messageLogs']['delete']({'where':{'_id':_0x4b7603[_0x396055(0x69b)]['id']}}),delete Lt[_0x4b7603[_0x396055(0x69b)]['id']]),this[_0x396055(0x410)](this['instance'][_0x396055(0x2ab)],_0x4b7603[_0x396055(0x69b)]['id'])){this[_0x396055(0x222)][_0x396055(0x8c4)](this[_0x396055(0x488)]+'\x20('+this[_0x396055(0x194)][_0x396055(0x2ab)]+_0x396055(0x347));continue;}this[_0x396055(0x33a)](this[_0x396055(0x194)][_0x396055(0x2ab)],_0x4b7603[_0x396055(0x69b)]['id']);try{_0x3b44c1=await this[_0x396055(0x224)](_0x4b7603),_0xc3a56e=_0x3b44c1?_0x3b44c1[_0x396055(0x797)](','):null;}catch(_0x42666b){this[_0x396055(0x222)]['verbose'](this[_0x396055(0x488)]+'\x20('+this[_0x396055(0x194)][_0x396055(0x2ab)]+_0x396055(0x21e)+(_0x42666b instanceof Error?_0x42666b[_0x396055(0x1f9)]:JSON[_0x396055(0x22d)](_0x42666b,null,0x2))),_0xc3a56e=_0x396055(0x5b8);}this[_0x396055(0x523)]['sendPresenceUpdate'](_0x396055(0x19b)),ks[_0x396055(0x2cf)][_0x396055(0x61e)](_0x4b7603[_0x396055(0x175)])&&(_0x4b7603[_0x396055(0x175)]=_0x4b7603['messageTimestamp']?.[_0x396055(0x8b4)]()),_0x4b7603[_0x396055(0x175)]&&_0x4b7603['messageTimestamp']['toString']()[_0x396055(0x675)]<0xd&&(_0x4b7603[_0x396055(0x175)]=_0x4b7603['messageTimestamp']*0x3e8);let _0x54c37e=_0x4b7603[_0x396055(0x1f9)],_0x7f7822=(0x0,w[_0x396055(0x267)])(_0x54c37e),_0x2b4f2b=(0x0,w[_0x396055(0x23e)])(_0x7f7822),{messageContent:_0x45fefc,message_normalized:_0x249bd8}=this[_0x396055(0x747)](_0x7f7822,_0x2b4f2b,_0xc3a56e);if(_0x2b4f2b===_0x396055(0x893)&&_0x45fefc?.[_0x396055(0x5dc)]&&(_0x2b4f2b=_0x396055(0x5dc)),_0x2b4f2b===_0x396055(0x7e3)&&_0x4b7603[_0x396055(0x69b)][_0x396055(0x4a2)])continue;let _0x38069e,_0x949102=_0x4b7603[_0x396055(0x69b)]['remoteJid'][_0x396055(0x179)](_0x396055(0x292));if(_0x4b7603[_0x396055(0x69b)][_0x396055(0x4a2)])_0x38069e=this['instance'][_0x396055(0x73d)];else{let _0x2a1ccf=_0x949102?_0x4b7603['key'][_0x396055(0x2b9)]:_0x4b7603[_0x396055(0x69b)][_0x396055(0x230)];_0x38069e=(await this['findAndUpdateCacheContact'](_0x2a1ccf,_0x4b7603[_0x396055(0x191)],!0x1))[_0x396055(0x273)]['pictureUrl'];}let _0x38f650={'_id':_0x4b7603['key']['id'],'key':_0x4b7603[_0x396055(0x69b)],'isGroup':_0x949102,'profilePictureUrl':_0x38069e,'pushName':_0x4b7603[_0x396055(0x191)],'message':_0x7f7822,'messageType':_0x2b4f2b,'message_normalized':{'key':_0x4b7603[_0x396055(0x69b)],'pushName':_0x4b7603[_0x396055(0x191)],'messageTimestamp':_0x4b7603[_0x396055(0x175)],'source':(0x0,w['getDevice'])(_0x4b7603['key']['id']),..._0x249bd8},'messageTimestamp':_0x4b7603[_0x396055(0x175)],'owner':this['instance'][_0x396055(0x2ab)],'source':(0x0,w[_0x396055(0x49d)])(_0x4b7603[_0x396055(0x69b)]['id']),'expiration':_0x45fefc?.[_0x396055(0x8b5)]?.[_0x396055(0x665)]||0x0};if(_0x45fefc||(this['logger'][_0x396055(0x4b9)](_0x396055(0x196)),this['logger'][_0x396055(0x4b9)](_0x38f650)),_0x249bd8[_0x396055(0x2f3)]===_0x396055(0x5bb)){console[_0x396055(0x4b9)](_0x396055(0x316)),await this[_0x396055(0x77c)](_0x4b7603);continue;}this[_0x396055(0x222)][_0x396055(0x54c)](this[_0x396055(0x488)]+'\x20('+this['instance'][_0x396055(0x2ab)]+'):\x20'+(_0x38f650[_0x396055(0x69b)]?.[_0x396055(0x4a2)]?'enviado\x20para':_0x396055(0x793))+'\x20['+_0x38f650['key']?.[_0x396055(0x230)][_0x396055(0x563)](_0x396055(0x634),'')+_0x396055(0x275)+_0x38f650[_0x396055(0x8a0)]+')'),_0x38f650[_0x396055(0x1af)]?.[_0x396055(0x2f3)]&&this[_0x396055(0x222)][_0x396055(0x54c)](_0x4b7603[_0x396055(0x69b)]['id']+':\x20'+_0x38f650[_0x396055(0x1af)]?.[_0x396055(0x2f3)]),await this[_0x396055(0x60c)][_0x396055(0x1f9)]['insert']([_0x38f650],this[_0x396055(0x194)][_0x396055(0x2ab)]),this[_0x396055(0x189)](_0x396055(0x279),_0x38f650),F(this['instanceName'],'messages',{'message':_0x38f650}),_0x4b7603[_0x396055(0x69b)][_0x396055(0x230)]!==_0x396055(0x201)&&await this[_0x396055(0x26a)](_0x19901d,_0x38f650,_0x396055(0x5b0));}},'messages.update':async(_0x1737d0,_0x4b002e)=>{const _0x1b9aec=_0x4d50f7;let _0x1f8ad3={0x0:_0x1b9aec(0x19f),0x1:_0x1b9aec(0x4e1),0x2:_0x1b9aec(0x66b),0x3:'DELIVERY_ACK',0x4:_0x1b9aec(0x41f),0x5:_0x1b9aec(0x32b)};for await(let {key:_0x57e452,update:_0x4f172c}of _0x1737d0){if(this[_0x1b9aec(0x636)]?.['groups_ignore']&&_0x57e452[_0x1b9aec(0x230)][_0x1b9aec(0x87b)](_0x1b9aec(0x292))){this[_0x1b9aec(0x222)][_0x1b9aec(0x8c4)](this[_0x1b9aec(0x488)]+'\x20('+this[_0x1b9aec(0x194)]['wuid']+_0x1b9aec(0x35f));return;}if(_0x57e452[_0x1b9aec(0x230)]!==_0x1b9aec(0x201)){let _0x465c76=Date[_0x1b9aec(0x849)](),_0x1df948;_0x4f172c[_0x1b9aec(0x1f9)]===null&&_0x4f172c['status']===void 0x0?_0x1df948=_0x1b9aec(0x5aa):_0x1df948=_0x1f8ad3[_0x4f172c[_0x1b9aec(0x756)]];let _0x1f5a75=_0x57e452[_0x1b9aec(0x230)]['replace'](/:\d{1,2}@/g,'@'),_0x3becd0={..._0x57e452,'remoteJid':_0x1f5a75,'status':_0x1df948,'datetime':_0x465c76,'owner':this[_0x1b9aec(0x194)][_0x1b9aec(0x2ab)]};this[_0x1b9aec(0x189)](_0x1b9aec(0x714),_0x3becd0),await this[_0x1b9aec(0x7f1)](_0x57e452,_0x3becd0);}}},'labels.association':async({type:_0x55f981,association:_0x1aff49})=>{const _0x4d21ca=_0x4d50f7;if(_0x1aff49[_0x4d21ca(0x7ef)]===_0x4d21ca(0x1cb)){let _0x1b2e45,_0x1a39c6=0x0;for(;!_0x1b2e45&&_0x1a39c6<this[_0x4d21ca(0x88a)];)_0x1b2e45=await this['repository']['chat'][_0x4d21ca(0x89d)]({'where':{'_id':_0x1aff49[_0x4d21ca(0x262)]}},this[_0x4d21ca(0x194)][_0x4d21ca(0x2ab)]),_0x1b2e45||(_0x1a39c6++,this['logger'][_0x4d21ca(0x59c)](this['instanceName']+'\x20('+this[_0x4d21ca(0x194)][_0x4d21ca(0x2ab)]+_0x4d21ca(0x1ec)+_0x1aff49[_0x4d21ca(0x262)]+_0x4d21ca(0x8c1)+this[_0x4d21ca(0x310)]+_0x4d21ca(0x4d5)+_0x1a39c6+'/'+this[_0x4d21ca(0x88a)]+')'),await this[_0x4d21ca(0x6ec)](this['delayChatLabel_RETRY_DELAY_MS']));if(!_0x1b2e45){this[_0x4d21ca(0x222)][_0x4d21ca(0x4b9)](_0x4d21ca(0x428)+_0x1aff49['chatId']+_0x4d21ca(0x471)+this[_0x4d21ca(0x88a)]+_0x4d21ca(0x29d));return;}switch(_0x55f981){case _0x4d21ca(0x46e):console[_0x4d21ca(0x54c)](_0x1aff49),await this[_0x4d21ca(0x60c)][_0x4d21ca(0x624)][_0x4d21ca(0x319)]({'where':{'_id':_0x1aff49[_0x4d21ca(0x262)]}},{'leadInfo.etiquetas':_0x1aff49[_0x4d21ca(0x2f2)]},this[_0x4d21ca(0x194)][_0x4d21ca(0x2ab)],void 0x0,_0x4d21ca(0x65f));break;case _0x4d21ca(0x3c8):console['log'](_0x1aff49),await this['repository']['chat']['updateOne']({'where':{'_id':_0x1aff49[_0x4d21ca(0x262)]}},{'leadInfo.etiquetas':_0x1aff49[_0x4d21ca(0x2f2)]},this[_0x4d21ca(0x194)][_0x4d21ca(0x2ab)],void 0x0,_0x4d21ca(0x6a0));break;default:this[_0x4d21ca(0x222)]['error'](_0x4d21ca(0x54b)+_0x55f981+']');}}},'labels.edit':async _0xd15883=>{const _0x27aaff=_0x4d50f7;if(!_0xd15883||!_0xd15883['id']){this[_0x27aaff(0x222)][_0x27aaff(0x4b9)]('Rótulo\x20inválido\x20ou\x20sem\x20ID.');return;}if(!_0xd15883[_0x27aaff(0x5d0)]){let _0x243ffb=['#ff9484',_0x27aaff(0x7a0),_0x27aaff(0x87f),_0x27aaff(0x6c0),_0x27aaff(0x29f),_0x27aaff(0x313),_0x27aaff(0x67e),_0x27aaff(0x3f6),_0x27aaff(0x758),_0x27aaff(0x6b4),_0x27aaff(0x85f),_0x27aaff(0x6e7),_0x27aaff(0x476),_0x27aaff(0x88c),_0x27aaff(0x61d),_0x27aaff(0x25d),_0x27aaff(0x18d),_0x27aaff(0x159),'#9ba6ff',_0x27aaff(0x6e6)],_0x5098a0;typeof _0xd15883[_0x27aaff(0x1d7)]=='number'&&_0xd15883[_0x27aaff(0x1d7)]>=0x0&&_0xd15883[_0x27aaff(0x1d7)]<_0x243ffb[_0x27aaff(0x675)]?_0x5098a0=_0x243ffb[_0xd15883[_0x27aaff(0x1d7)]]:(this[_0x27aaff(0x222)]['error'](_0x27aaff(0x248)+_0xd15883[_0x27aaff(0x1d7)]),_0x5098a0=_0x27aaff(0x879));let _0x33ce42={'_id':_0xd15883['id'],'colorHex':_0x5098a0,'color':_0xd15883?.[_0x27aaff(0x1d7)],'name':_0xd15883?.[_0x27aaff(0x3f5)],'owner':this[_0x27aaff(0x194)][_0x27aaff(0x2ab)]};await this['repository']['label'][_0x27aaff(0x319)]({'where':{'_id':_0xd15883['id']}},_0x33ce42,this[_0x27aaff(0x194)][_0x27aaff(0x2ab)]),this[_0x27aaff(0x222)]['info'](this[_0x27aaff(0x488)]+'\x20('+this[_0x27aaff(0x194)][_0x27aaff(0x2ab)]+_0x27aaff(0x174)+_0xd15883);}_0xd15883[_0x27aaff(0x5d0)]&&(await this[_0x27aaff(0x60c)]['label'][_0x27aaff(0x59d)]({'where':{'_id':_0xd15883['id']}},this[_0x27aaff(0x194)][_0x27aaff(0x2ab)]),this[_0x27aaff(0x222)][_0x27aaff(0x59c)](_0x27aaff(0x706)+_0xd15883['id']));}},this[_0x4d50f7(0x503)]={'groups.upsert':async _0x29442f=>{const _0x5de961=_0x4d50f7;this['localWebhook']?.[_0x5de961(0x6eb)]||this[_0x5de961(0x189)]('groups.upsert',_0x29442f);for(let _0x24a1d6 of _0x29442f)await this['updateGroupWebhook'](_0x24a1d6);},'groups.update':async _0x34b5fc=>{const _0x4ec9dd=_0x4d50f7;this[_0x4ec9dd(0x636)]?.[_0x4ec9dd(0x6eb)]||this['sendDataWebhook']('groups.update',_0x34b5fc);for(let _0x454ba9 of _0x34b5fc)await this[_0x4ec9dd(0x444)](_0x454ba9);},'group-participants.update':async _0x38f8fa=>{const _0x1b4109=_0x4d50f7;this[_0x1b4109(0x636)]?.['groups_ignore']||this[_0x1b4109(0x189)](_0x1b4109(0x6f0),_0x38f8fa),await this[_0x1b4109(0x69a)](_0x38f8fa);}},this['delayChatLabel_MAX_RETRIES']=0x5,this[_0x4d50f7(0x310)]=0x1388,this[_0x4d50f7(0x808)]=0x0,this[_0x4d50f7(0x224)]=async _0x263204=>{const _0x21cd33=_0x4d50f7;if(_0x263204['message']?.[_0x21cd33(0x89b)]){let _0x471cd9=await this[_0x21cd33(0x1d9)](_0x263204[_0x21cd33(0x1f9)][_0x21cd33(0x89b)][_0x21cd33(0x873)],!0x0);if(_0x471cd9){let _0x59a236=_0x471cd9['key'][_0x21cd33(0x4a2)]?this[_0x21cd33(0x194)][_0x21cd33(0x2ab)]+_0x21cd33(0x634):_0x471cd9[_0x21cd33(0x69b)][_0x21cd33(0x2b9)]||_0x471cd9[_0x21cd33(0x69b)][_0x21cd33(0x230)],_0x4ee42f=_0x471cd9['key']['id'],_0x2d8e1c=_0x471cd9['message'],_0x41e171=Buffer[_0x21cd33(0x322)](_0x2d8e1c[_0x21cd33(0x868)][_0x21cd33(0x623)][_0x21cd33(0x7b0)]('hex'),'hex'),_0x30651a=(0x0,w[_0x21cd33(0x36d)])(_0x263204[_0x21cd33(0x1f9)][_0x21cd33(0x89b)]['vote'],{'pollCreatorJid':_0x59a236,'pollMsgId':_0x4ee42f,'pollEncKey':_0x41e171,'voterJid':_0x263204[_0x21cd33(0x69b)][_0x21cd33(0x4a2)]?this[_0x21cd33(0x194)][_0x21cd33(0x2ab)]+'@s.whatsapp.net':_0x263204[_0x21cd33(0x69b)][_0x21cd33(0x230)][_0x21cd33(0x179)](_0x21cd33(0x386))?_0x263204[_0x21cd33(0x69b)]['participant']:_0x263204['key'][_0x21cd33(0x230)]}),_0x9cc1bf=[],_0x5a8ad7=_0x30651a['selectedOptions'][_0x21cd33(0x62e)](_0x2d99ad=>Buffer[_0x21cd33(0x322)](_0x2d99ad)[_0x21cd33(0x7b0)]('hex'));for(let {optionName:_0x2f3e90}of _0x2d8e1c[_0x21cd33(0x17f)]?.[_0x21cd33(0x2cb)]||_0x2d8e1c['pollCreationMessageV3']?.[_0x21cd33(0x2cb)]||_0x2d8e1c[_0x21cd33(0x39a)]?.[_0x21cd33(0x2cb)])_0x5a8ad7[_0x21cd33(0x277)]((0x0,w['sha256'])(Buffer[_0x21cd33(0x322)](_0x2f3e90))[_0x21cd33(0x7b0)](_0x21cd33(0x2ea)))>-0x1&&_0x9cc1bf[_0x21cd33(0x7a1)](_0x2f3e90);return _0x9cc1bf;}}return null;},this[_0x4d50f7(0x747)]=(_0x9975d6,_0x35e6f4,_0x32fd57)=>{const _0x239070=_0x4d50f7;try{let _0xcad7b9=_0x9975d6?(0x0,w[_0x239070(0x472)])(_0x9975d6)[_0x35e6f4]:void 0x0,_0x2bdbb7={},_0x2f2890=null,_0x4a5030=null,_0x5d1d9d=null,_0x908198=null;_0x35e6f4===_0x239070(0x893)&&_0xcad7b9?.[_0x239070(0x5dc)]&&(_0x35e6f4=(0x0,w[_0x239070(0x23e)])(_0xcad7b9[_0x239070(0x5dc)]),_0x2f2890=_0x9975d6[_0x239070(0x893)][_0x239070(0x69b)]['id'],_0xcad7b9=_0x9975d6[_0x239070(0x893)]['editedMessage'][_0x35e6f4]),_0x9975d6[_0x35e6f4]?.[_0x239070(0x8b5)]?.['stanzaId']&&_0x9975d6[_0x35e6f4]?.[_0x239070(0x8b5)]?.[_0x239070(0x4a5)]&&(_0x4a5030=_0x9975d6[_0x35e6f4]['contextInfo'][_0x239070(0x633)]),_0x9975d6['reactionMessage']&&(_0x5d1d9d=_0x9975d6['reactionMessage'][_0x239070(0x69b)]['id']);let _0x4623c2;if(_0xcad7b9&&typeof _0xcad7b9==_0x239070(0x5ec)&&_0x239070(0x873)in _0xcad7b9&&({pollCreationMessageKey:_0x4623c2}=_0xcad7b9),_0x35e6f4==='pollCreationMessage'||_0x35e6f4===_0x239070(0x39a)||_0x35e6f4==='pollCreationMessageV3'){let _0x1ad024=_0xcad7b9[_0x239070(0x2cb)][_0x239070(0x62e)](_0x4c2c67=>_0x4c2c67['optionName'])[_0x239070(0x797)]('|');_0x2bdbb7[_0x239070(0x611)]=_0x1ad024;}if(_0x35e6f4==='interactiveMessage'){let _0x1064f9=_0xcad7b9[_0x239070(0x67f)][_0x239070(0x813)][_0x239070(0x62e)](_0xd19513=>JSON[_0x239070(0x7da)](_0xd19513[_0x239070(0x47f)])[_0x239070(0x768)])[_0x239070(0x797)]('|');_0x2bdbb7[_0x239070(0x611)]=_0x1064f9;}_0x35e6f4===_0x239070(0x7f0)&&(_0x2bdbb7[_0x239070(0x7de)]=_0xcad7b9?.['singleSelectReply']?.[_0x239070(0x6e8)]);let _0x9fcf92='';if(_0xcad7b9&&(_0x9fcf92+=_0xcad7b9['name']?_0xcad7b9[_0x239070(0x3f5)]:'',_0x9fcf92+=_0xcad7b9['caption']?'\x20'+_0xcad7b9[_0x239070(0x5d2)]:'',_0x9fcf92+=_0xcad7b9['conversation']?'\x20'+_0xcad7b9[_0x239070(0x6e9)]:'',_0x9fcf92+=_0xcad7b9['displayName']?'\x20'+_0xcad7b9[_0x239070(0x5f8)]:'',_0x35e6f4!==_0x239070(0x22e)&&(_0x9fcf92+=_0xcad7b9[_0x239070(0x7a2)]?.[_0x239070(0x2f3)]?'\x20'+_0xcad7b9['body'][_0x239070(0x2f3)]:''),_0x9fcf92+=_0xcad7b9?.[_0x239070(0x6fd)]?.[_0x239070(0x2f3)]?'\x20'+_0xcad7b9?.[_0x239070(0x6fd)]?.[_0x239070(0x2f3)]:''),_0x35e6f4===_0x239070(0x770)){_0x9fcf92=(_0xcad7b9[_0x239070(0x570)]||'')+'\x0a'+(_0xcad7b9[_0x239070(0x376)]||'')+'\x0a'+(_0xcad7b9[_0x239070(0x787)]||'');let _0x531351=this['sectionsToString'](_0xcad7b9['sections']);_0x2bdbb7['convertedOptions']=_0x531351;}if(_0x35e6f4===_0x239070(0x7f0)&&(_0x32fd57=_0xcad7b9[_0x239070(0x570)],_0x908198=_0xcad7b9?.[_0x239070(0x626)]?.[_0x239070(0x6e8)]),_0x35e6f4===_0x239070(0x22e)){let _0x34ff6a=_0xcad7b9?.[_0x239070(0x74a)];_0x34ff6a&&_0x34ff6a['name']===_0x239070(0x1bb)&&(_0x908198=JSON['parse'](_0x34ff6a[_0x239070(0x34c)])['id']),_0x32fd57=_0xcad7b9?.[_0x239070(0x7a2)]?.[_0x239070(0x2f3)];}if(_0x35e6f4===_0x239070(0x83e)&&(_0x32fd57=_0xcad7b9?.[_0x239070(0x183)],_0x908198=_0xcad7b9?.[_0x239070(0x7d7)]),_0x35e6f4===_0x239070(0x841)&&(_0x32fd57=_0xcad7b9?.[_0x239070(0x183)],_0x908198=_0xcad7b9?.['selectedButtonId']),_0xcad7b9&&_0xcad7b9[_0x239070(0x70c)]){let _0x583938=this['formatVCard'](JSON[_0x239070(0x22d)](_0xcad7b9[_0x239070(0x70c)],null,0x2));_0x9fcf92=_0x9fcf92+'\x0a'+_0x583938;}if(_0xcad7b9){let {selectedButtonId:_0x27ac55,nativeFlowResponseMessage:_0x5456b9,selectedId:_0x26f97e,selectedDisplayText:_0xc8f08a,selectedIndex:_0x18e3a8,body:_0x2778a5,nativeFlowMessage:_0x578e7c,singleSelectReply:_0x207d17,sections:_0x31cf66,listType:_0x3895fd,displayName:_0xae5e15,vcard:_0x28f33b,contactVcard:_0x26f72c,name:_0x4010f5,caption:_0x519a02,conversation:_0x4c40bd,pollCreationMessageKey:_0x45837e,footerText:_0x1fec03,contentText:_0x3bc388,pageCount:_0x280e07,headerType:_0x2d1740,isAvatar:_0x4a4bc0,isAnimated:_0x4a623d,fallbackLc:_0x5d4c0a,fallbackLg:_0x39b155,namespace:_0x53a471,elementName:_0x3ac9ee,localizableParams:_0x43051a,viewOnce:_0x4c2150,height:_0x5981b3,width:_0x50f779,key:_0x3b03b5,firstScanLength:_0x5c205a,firstScanSidecar:_0x576ae2,gifPlayback:_0x1a796b,gifAttribution:_0x1b4610,midQualityFileSha256:_0x3fb07a,scansSidecar:_0x679140,streamingSidecar:_0x30a059,thumbnailHeight:_0x59dbf3,thumbnailWidth:_0x2ad169,thumbnailEncSha256:_0x2f8fbd,thumbnailDirectPath:_0x54c49b,canonicalUrl:_0x20318c,matchedText:_0x2269fc,previewType:_0x1f0c4d,thumbnailSha256:_0x32f8f9,deviceListMetadataVersion:_0x29088a,inviteLinkGroupTypeV2:_0x9959ef,interactiveAnnotations:_0xdfeb09,scanLengths:_0x497b0c,jpegThumbnail:_0x473993,url:_0x3f2cc9,mediaKeyTimestamp:_0x4ef6ff,waveform:_0x1bac56,stickerSentTs:_0x22bac6,firstFrameLength:_0x5c7fcc,fileEncSha256:_0x8e7a13,contextInfo:_0x29938c,firstFrameSidecar:_0x100751,directPath:_0x3acccd,fileSha256:_0x3fe6f5,mediaKey:_0x33810b,senderTimestampMs:_0x4339e0,..._0x4632bc}=_0xcad7b9;(_0x35e6f4===_0x239070(0x770)||_0x35e6f4===_0x239070(0x7f0))&&(delete _0x4632bc['title'],delete _0x4632bc['description']),typeof _0xcad7b9==_0x239070(0x214)?_0x2bdbb7={'text':_0xcad7b9,'type':_0x35e6f4||'conversation',..._0x2f2890&&{'edited':_0x2f2890},..._0x4a5030&&{'quoted':_0x4a5030},..._0x5d1d9d&&{'reaction':_0x5d1d9d}}:_0x2bdbb7={'text':_0x9fcf92,..._0x4632bc,..._0x35e6f4===_0x239070(0x89b)?{'poll_id':_0xcad7b9[_0x239070(0x873)]['id'],'quoted':_0xcad7b9[_0x239070(0x873)]['id'],'vote':_0x32fd57}:{},..._0x35e6f4===_0x239070(0x7f0)?{'buttonOrList_id':_0x908198,'vote':_0x32fd57}:{},..._0x35e6f4===_0x239070(0x22e)?{'buttonOrList_id':_0x908198,'vote':_0x32fd57}:{},..._0x35e6f4==='templateButtonReplyMessage'?{'buttonOrList_id':_0x908198,'vote':_0x32fd57}:{},..._0x35e6f4===_0x239070(0x841)?{'buttonOrList_id':_0x908198,'vote':_0x32fd57}:{},'type':_0x35e6f4,..._0x2f2890&&{'edited':_0x2f2890},..._0x4a5030&&{'quoted':_0x4a5030},..._0x5d1d9d&&{'reaction':_0x5d1d9d},...(_0x35e6f4===_0x239070(0x17f)||_0x35e6f4==='pollCreationMessageV2'||_0x35e6f4===_0x239070(0x613)||_0x35e6f4==='listMessage'||_0x35e6f4===_0x239070(0x7e3))&&{'convertedOptions':_0x2bdbb7[_0x239070(0x611)]}};}return{'messageType':_0x35e6f4,'messageContent':_0xcad7b9,'message_normalized':_0x2bdbb7};}catch(_0x3f137b){return this[_0x239070(0x222)][_0x239070(0x4b9)]('Erro\x20ao\x20normalizar\x20a\x20mensagem:'+_0x3f137b),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this['pendingMessages']=[],(this['cleanStore'](),this[_0x4d50f7(0x304)](),this[_0x4d50f7(0x194)][_0x4d50f7(0x518)]={'count':0x0},this[_0x4d50f7(0x194)][_0x4d50f7(0x324)]={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}['addToProcessedMessages'](_0x183225,_0x1b27f1){const _0x2bdc1a=a0_0x7b141d;this[_0x2bdc1a(0x3e7)][_0x183225]||(this['processedMessagesCache'][_0x183225]=new Set()),this[_0x2bdc1a(0x3e7)][_0x183225]['add'](_0x1b27f1),setTimeout(()=>this[_0x2bdc1a(0x3e7)][_0x183225][_0x2bdc1a(0x59d)](_0x1b27f1),0x2710);}[a0_0x7b141d(0x410)](_0x2e78cd,_0x2ae440){const _0x3d5861=a0_0x7b141d;return this[_0x3d5861(0x3e7)][_0x2e78cd]?.[_0x3d5861(0x7cc)](_0x2ae440)??!0x1;}set[a0_0x7b141d(0x488)](_0x744ccd){const _0x4b6537=a0_0x7b141d;if(!_0x744ccd){this[_0x4b6537(0x194)][_0x4b6537(0x3f5)]=(0x0,Ti['v4'])();return;}this[_0x4b6537(0x194)][_0x4b6537(0x3f5)]=_0x744ccd,this[_0x4b6537(0x189)](_0x4b6537(0x6b3),{'instance':this[_0x4b6537(0x194)][_0x4b6537(0x3f5)],'status':'created'});}get['instanceName'](){const _0x7e5f38=a0_0x7b141d;return this[_0x7e5f38(0x194)]['name'];}get[a0_0x7b141d(0x2ab)](){const _0x5db8b2=a0_0x7b141d;return this[_0x5db8b2(0x194)][_0x5db8b2(0x2ab)];}async[a0_0x7b141d(0x3c1)](){const _0x4ec38d=a0_0x7b141d;let _0x17634e=this[_0x4ec38d(0x523)]['user']?.['name']??this[_0x4ec38d(0x523)]['user']?.['verifiedName'];if(!_0x17634e){if(this['configService'][_0x4ec38d(0x6c9)](_0x4ec38d(0x6ad))[_0x4ec38d(0x16f)]){let _0x2dfe52=await T['getClient']()['db'](this['configService'][_0x4ec38d(0x6c9)](_0x4ec38d(0x6ad))[_0x4ec38d(0x3bf)][_0x4ec38d(0x212)]+_0x4ec38d(0x3a3))['collection'](this[_0x4ec38d(0x488)])['findOne']({'_id':'creds'});if(_0x2dfe52){let _0x3c2bd9=JSON[_0x4ec38d(0x7da)](JSON[_0x4ec38d(0x22d)](_0x2dfe52),w[_0x4ec38d(0x4c5)]['reviver']);_0x17634e=_0x3c2bd9['me']?.[_0x4ec38d(0x3f5)]||_0x3c2bd9['me']?.['verifiedName'];}}else{if((0x0,Le[_0x4ec38d(0x713)])((0x0,j[_0x4ec38d(0x797)])(Se,this['instanceName'],'creds.json'))){let _0x531606=JSON[_0x4ec38d(0x7da)]((0x0,Le[_0x4ec38d(0x4f0)])((0x0,j[_0x4ec38d(0x797)])(Se,this['instanceName'],_0x4ec38d(0x7d0)),{'encoding':_0x4ec38d(0x772)}));_0x17634e=_0x531606['me']?.[_0x4ec38d(0x3f5)]||_0x531606['me']?.[_0x4ec38d(0x388)];}}}return _0x17634e;}get[a0_0x7b141d(0x73d)](){const _0x5e38a9=a0_0x7b141d;return this[_0x5e38a9(0x194)]['profilePictureUrl'];}async[a0_0x7b141d(0x65a)](){const _0x3e1149=a0_0x7b141d;let _0x25a1b9=this[_0x3e1149(0x194)]['wuid']+_0x3e1149(0x634);try{await this[_0x3e1149(0x523)][_0x3e1149(0x56e)](_0x25a1b9)?this[_0x3e1149(0x194)]['isBusiness']=!0x0:this['instance']['isBusiness']=!0x1;}catch{this[_0x3e1149(0x194)][_0x3e1149(0x583)]=!0x1;}return this[_0x3e1149(0x222)]['info'](this[_0x3e1149(0x488)]+'\x20('+this[_0x3e1149(0x194)][_0x3e1149(0x2ab)]+_0x3e1149(0x280)+this[_0x3e1149(0x194)][_0x3e1149(0x583)]),this[_0x3e1149(0x194)][_0x3e1149(0x583)];}get[a0_0x7b141d(0x2b1)](){const _0x222f4e=a0_0x7b141d;return this[_0x222f4e(0x194)][_0x222f4e(0x518)]?.[_0x222f4e(0x72c)]?{'pairingCode':this[_0x222f4e(0x194)][_0x222f4e(0x518)]?.[_0x222f4e(0x72c)]}:{'code':this[_0x222f4e(0x194)][_0x222f4e(0x518)]?.[_0x222f4e(0x598)],'base64':this[_0x222f4e(0x194)]['qrcode']?.[_0x222f4e(0x1de)]};}async[a0_0x7b141d(0x76d)](){const _0x3fdb3f=a0_0x7b141d;let _0x529996=await this['repository']['webhook'][_0x3fdb3f(0x61f)](this[_0x3fdb3f(0x488)]);this[_0x3fdb3f(0x636)][_0x3fdb3f(0x2d8)]=_0x529996?.[_0x3fdb3f(0x2d8)],this['localWebhook'][_0x3fdb3f(0x6b2)]=_0x529996?.[_0x3fdb3f(0x6b2)],this[_0x3fdb3f(0x636)][_0x3fdb3f(0x466)]=_0x529996?.['local_map'],this['localWebhook'][_0x3fdb3f(0x2af)]=_0x529996?.['STATUS_INSTANCE'],this[_0x3fdb3f(0x636)][_0x3fdb3f(0x1b5)]=_0x529996?.[_0x3fdb3f(0x1b5)],this[_0x3fdb3f(0x636)]['SEND_MESSAGE']=_0x529996?.[_0x3fdb3f(0x220)],this[_0x3fdb3f(0x636)][_0x3fdb3f(0x5b0)]=_0x529996?.[_0x3fdb3f(0x5b0)],this[_0x3fdb3f(0x636)]['MESSAGES_UPDATE']=_0x529996?.[_0x3fdb3f(0x1a0)],this[_0x3fdb3f(0x636)][_0x3fdb3f(0x20c)]=_0x529996?.['GROUPS_UPSERT'],this['localWebhook'][_0x3fdb3f(0x607)]=_0x529996?.[_0x3fdb3f(0x607)],this[_0x3fdb3f(0x636)][_0x3fdb3f(0x431)]=_0x529996?.[_0x3fdb3f(0x431)],this[_0x3fdb3f(0x636)][_0x3fdb3f(0x7b8)]=_0x529996?.[_0x3fdb3f(0x7b8)],this[_0x3fdb3f(0x636)][_0x3fdb3f(0x8b2)]=_0x529996?.['CHATS_UPSERT'],this[_0x3fdb3f(0x636)][_0x3fdb3f(0x66e)]=_0x529996?.[_0x3fdb3f(0x66e)],this['localWebhook'][_0x3fdb3f(0x318)]=_0x529996?.[_0x3fdb3f(0x318)],this[_0x3fdb3f(0x636)][_0x3fdb3f(0x4f6)]=_0x529996?.[_0x3fdb3f(0x4f6)],this[_0x3fdb3f(0x636)][_0x3fdb3f(0x82a)]=_0x529996?.[_0x3fdb3f(0x82a)],this[_0x3fdb3f(0x636)]['CONTACTS_UPDATE']=_0x529996?.['CONTACTS_UPDATE'],this['localWebhook']['PRESENCE_UPDATE']=_0x529996?.[_0x3fdb3f(0x385)],this[_0x3fdb3f(0x636)][_0x3fdb3f(0x1ba)]=_0x529996?.[_0x3fdb3f(0x1ba)],this[_0x3fdb3f(0x636)][_0x3fdb3f(0x1b3)]=_0x529996?.[_0x3fdb3f(0x1b3)],this[_0x3fdb3f(0x636)][_0x3fdb3f(0x6eb)]=_0x529996?.[_0x3fdb3f(0x6eb)];}async[a0_0x7b141d(0x562)](_0x4c4517){const _0x461525=a0_0x7b141d;let _0x2e9f26=['_id',_0x461525(0x2d8),_0x461525(0x6b2),_0x461525(0x466),_0x461525(0x2af),_0x461525(0x1b5),_0x461525(0x1a0),_0x461525(0x5b0),'SEND_MESSAGE',_0x461525(0x20c),_0x461525(0x607),_0x461525(0x431),'CHATS_SET',_0x461525(0x8b2),_0x461525(0x66e),_0x461525(0x318),_0x461525(0x4f6),_0x461525(0x82a),_0x461525(0x64f),'PRESENCE_UPDATE',_0x461525(0x1ba),_0x461525(0x1b3),_0x461525(0x6eb)],_0x58f30a={};return _0x2e9f26[_0x461525(0x677)](_0x467f51=>{_0x4c4517[_0x467f51]!==void 0x0&&(_0x58f30a[_0x467f51]=_0x4c4517[_0x467f51]);}),_0x58f30a[_0x461525(0x2d8)]&&(_0x58f30a[_0x461525(0x2d8)]=_0x58f30a[_0x461525(0x2d8)][_0x461525(0x223)]()),await this['repository'][_0x461525(0x41e)]['create'](_0x58f30a,this[_0x461525(0x488)]),Object[_0x461525(0x6ef)](this['localWebhook'],_0x58f30a),await this[_0x461525(0x60c)][_0x461525(0x41e)][_0x461525(0x61f)](this[_0x461525(0x488)]);}async[a0_0x7b141d(0x53c)](){return await this['repository']['webhook']['find'](this['instanceName']);}async[a0_0x7b141d(0x189)](_0x3c6bc9,_0x525d40){const _0x117c7b=a0_0x7b141d;let _0x1e012=_0x3c6bc9['replace'](/[\.-]/gm,'_')[_0x117c7b(0x4bd)](),_0x4afc01=this[_0x117c7b(0x636)][_0x117c7b(0x6b2)]&&(0x0,J[_0x117c7b(0x1e8)])(this[_0x117c7b(0x636)][_0x117c7b(0x2d8)])?this[_0x117c7b(0x636)]['url']+(this[_0x117c7b(0x636)][_0x117c7b(0x466)]?this[_0x117c7b(0x3a0)][_0x3c6bc9]:''):null,_0xd1ee91=this['localWebhook'][_0x1e012],_0x24aef1=he&&he[_0x117c7b(0x6b2)]&&(0x0,J['isURL'])(he['url'])?he[_0x117c7b(0x2d8)]+(he[_0x117c7b(0x466)]?this[_0x117c7b(0x3a0)][_0x3c6bc9]:''):null,_0x570c79=he?he[_0x1e012]:null;if(_0xd1ee91&&_0x4afc01)try{await Q[_0x117c7b(0x2cf)][_0x117c7b(0x7c2)]({'baseURL':_0x4afc01})[_0x117c7b(0x4b7)]('',{'event':_0x3c6bc9,'instance':this[_0x117c7b(0x194)][_0x117c7b(0x3f5)],'apikey':this[_0x117c7b(0x194)][_0x117c7b(0x185)],'data':_0x525d40}),this[_0x117c7b(0x222)]['log'](this[_0x117c7b(0x488)]+'\x20('+this[_0x117c7b(0x194)][_0x117c7b(0x2ab)]+'):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x3c6bc9+':\x20'+_0x4afc01);}catch{this[_0x117c7b(0x222)][_0x117c7b(0x4b9)](this[_0x117c7b(0x488)]+'\x20('+this[_0x117c7b(0x194)][_0x117c7b(0x2ab)]+_0x117c7b(0x516)+_0x3c6bc9+':\x20'+_0x4afc01);}if(_0x570c79&&_0x24aef1)try{await Q[_0x117c7b(0x2cf)][_0x117c7b(0x7c2)]({'baseURL':_0x24aef1})[_0x117c7b(0x4b7)]('',{'event':_0x3c6bc9,'instance':this[_0x117c7b(0x194)][_0x117c7b(0x3f5)],'apikey':this[_0x117c7b(0x194)][_0x117c7b(0x185)],'data':_0x525d40}),this[_0x117c7b(0x222)][_0x117c7b(0x54c)](this[_0x117c7b(0x488)]+'\x20('+this['instance'][_0x117c7b(0x2ab)]+'):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x3c6bc9+':\x20'+_0x24aef1);}catch{this[_0x117c7b(0x222)]['error'](this[_0x117c7b(0x488)]+'\x20('+this[_0x117c7b(0x194)][_0x117c7b(0x2ab)]+_0x117c7b(0x2f7)+_0x3c6bc9+':\x20'+_0x24aef1);}}async[a0_0x7b141d(0x5cf)]({qr:_0x3a2839,connection:_0x1fe611,lastDisconnect:_0x3862df}){const _0x146d8b=a0_0x7b141d;if(_0x3a2839){if(this[_0x146d8b(0x194)][_0x146d8b(0x518)][_0x146d8b(0x67a)]===ko)return this[_0x146d8b(0x189)](_0x146d8b(0x69d),{'message':_0x146d8b(0x736),'statusCode':w[_0x146d8b(0x70a)]['badSession']}),this['stateConnection']={'state':_0x146d8b(0x1c3),'statusReason':w[_0x146d8b(0x70a)][_0x146d8b(0x5fc)]},this[_0x146d8b(0x189)](_0x146d8b(0x2ad),{'instance':this['instance'][_0x146d8b(0x3f5)],...this[_0x146d8b(0x711)]}),this[_0x146d8b(0x189)]('status.instance',{'instance':this['instance'][_0x146d8b(0x3f5)],'status':_0x146d8b(0x628)}),this[_0x146d8b(0x60c)][_0x146d8b(0x83a)][_0x146d8b(0x59d)](this[_0x146d8b(0x194)][_0x146d8b(0x3f5)]),this[_0x146d8b(0x3da)]=!0x0,ae['removeIPv6ById'](B,this['instance'][_0x146d8b(0x3f5)]),this['eventEmitter'][_0x146d8b(0x727)](_0x146d8b(0x4c2),this['instance'][_0x146d8b(0x3f5)]);this[_0x146d8b(0x194)][_0x146d8b(0x518)][_0x146d8b(0x67a)]++;let _0x368ad3={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x146d8b(0x244),'dark':_0x146d8b(0x879)}};Ii['default'][_0x146d8b(0x672)](_0x3a2839,_0x368ad3,(_0x5913cf,_0x556fbb)=>{const _0x48dec2=_0x146d8b;if(_0x5913cf){this['logger']['error'](this[_0x48dec2(0x488)]+'\x20('+this['instance']['wuid']+_0x48dec2(0x742)+(_0x5913cf instanceof Error?_0x5913cf[_0x48dec2(0x1f9)]:JSON[_0x48dec2(0x22d)](_0x5913cf,null,0x2)));return;}this['instance'][_0x48dec2(0x518)][_0x48dec2(0x1de)]=_0x556fbb,this[_0x48dec2(0x194)][_0x48dec2(0x518)][_0x48dec2(0x598)]=_0x3a2839,!this[_0x48dec2(0x568)]&&this[_0x48dec2(0x189)](_0x48dec2(0x69d),{'qrcode':{'instance':this[_0x48dec2(0x194)][_0x48dec2(0x3f5)],'pairingCode':this[_0x48dec2(0x194)]['qrcode'][_0x48dec2(0x72c)],'code':_0x3a2839,'base64':_0x556fbb}});}),this[_0x146d8b(0x568)]?this[_0x146d8b(0x194)][_0x146d8b(0x518)][_0x146d8b(0x72c)]||(await(0x0,w[_0x146d8b(0x360)])(0x7d0),this[_0x146d8b(0x194)][_0x146d8b(0x518)][_0x146d8b(0x72c)]=await this[_0x146d8b(0x523)][_0x146d8b(0x45d)](this[_0x146d8b(0x568)])):this[_0x146d8b(0x194)][_0x146d8b(0x518)][_0x146d8b(0x72c)]=null,_i[_0x146d8b(0x2cf)]['generate'](_0x3a2839,{'small':!0x0},_0x275082=>this['logger'][_0x146d8b(0x54c)](_0x146d8b(0x572)+this[_0x146d8b(0x194)]['name']+_0x146d8b(0x524)+this[_0x146d8b(0x194)]['qrcode'][_0x146d8b(0x67a)]+_0x146d8b(0x513)+this['instance'][_0x146d8b(0x518)]['pairingCode']+'\x20}\x0a'+_0x275082));}if(_0x1fe611&&(this[_0x146d8b(0x711)]={'state':_0x1fe611,'statusReason':_0x3862df?.[_0x146d8b(0x4b9)]?.[_0x146d8b(0x34e)]?.[_0x146d8b(0x361)]??0xc8},this[_0x146d8b(0x189)](_0x146d8b(0x2ad),{'instance':this[_0x146d8b(0x194)][_0x146d8b(0x3f5)],...this[_0x146d8b(0x711)]})),_0x1fe611==='close'){if(this[_0x146d8b(0x848)]++,this[_0x146d8b(0x6db)]['push'](Date[_0x146d8b(0x849)]()),this[_0x146d8b(0x6db)]=this['reconnectTimestamps'][_0x146d8b(0x499)](_0x16f80d=>Date[_0x146d8b(0x849)]()-_0x16f80d<this[_0x146d8b(0x8c0)]),_0x3862df[_0x146d8b(0x4b9)]?.[_0x146d8b(0x34e)]?.['statusCode']!==w['DisconnectReason']['loggedOut']){let _0x108375=this[_0x146d8b(0x848)]<=0x1?0x0:Math[_0x146d8b(0x23f)](Math[_0x146d8b(0x389)](0x2,this[_0x146d8b(0x848)]-0x1)*0x3e8,0x493e0);console[_0x146d8b(0x54c)](this['instanceName']+_0x146d8b(0x825)+this['reconnectAttempts']+'.\x20Aguardando\x20'+_0x108375/0x3e8+_0x146d8b(0x2cc)),await new Promise(_0x55c8c0=>setTimeout(_0x55c8c0,_0x108375)),console['log'](_0x146d8b(0x1b1)),await this[_0x146d8b(0x4e2)]();}else{this['sendDataWebhook']('status.instance',{'instance':this[_0x146d8b(0x194)]['name'],'status':_0x146d8b(0x628)}),this['instance'][_0x146d8b(0x324)][_0x146d8b(0x8bf)]=!0x1,this[_0x146d8b(0x60c)]['webhook']['delete'](this[_0x146d8b(0x488)]),this[_0x146d8b(0x60c)][_0x146d8b(0x83a)][_0x146d8b(0x7c2)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x146d8b(0x849)]()},this[_0x146d8b(0x194)]['name']),ae[_0x146d8b(0x1cc)](B,this['instance'][_0x146d8b(0x3f5)]);try{this[_0x146d8b(0x222)][_0x146d8b(0x8c4)](this['instanceName']+'\x20('+this[_0x146d8b(0x194)]['wuid']+_0x146d8b(0x642));let _0x12f16c=await this[_0x146d8b(0x60c)][_0x146d8b(0x1f9)][_0x146d8b(0x2df)](this['instance'][_0x146d8b(0x2ab)]);_0x12f16c[_0x146d8b(0x161)]?this[_0x146d8b(0x222)]['verbose'](this[_0x146d8b(0x488)]+'\x20('+this[_0x146d8b(0x194)][_0x146d8b(0x2ab)]+_0x146d8b(0x1be)):this['logger'][_0x146d8b(0x4b9)](_0x146d8b(0x367)+_0x12f16c[_0x146d8b(0x4b9)]);}catch(_0x14d157){this[_0x146d8b(0x222)][_0x146d8b(0x4b9)](_0x146d8b(0x296)+_0x14d157[_0x146d8b(0x1f9)]);}this[_0x146d8b(0x194)]['ScheduleMessage']['delayMessage']!==null&&(this[_0x146d8b(0x222)][_0x146d8b(0x8c4)](this[_0x146d8b(0x488)]+'\x20('+this[_0x146d8b(0x194)][_0x146d8b(0x2ab)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x146d8b(0x194)]['ScheduleMessage']['delayMessage']),this[_0x146d8b(0x194)][_0x146d8b(0x324)][_0x146d8b(0x803)]=null),this['logger'][_0x146d8b(0x8c4)](this[_0x146d8b(0x488)]+'\x20('+this[_0x146d8b(0x194)]['wuid']+'):\x20Limpando\x20AutomateSystem'),this['AutomateSystem']=null,this[_0x146d8b(0x43f)][_0x146d8b(0x727)](_0x146d8b(0x7b6),this[_0x146d8b(0x194)]['name'],_0x146d8b(0x5bf)),this[_0x146d8b(0x523)]?.['ws']?.[_0x146d8b(0x461)](),this[_0x146d8b(0x523)][_0x146d8b(0x8b7)](new Error(_0x146d8b(0x2fc)));}}if(_0x1fe611===_0x146d8b(0x551)){this[_0x146d8b(0x222)][_0x146d8b(0x38b)](this[_0x146d8b(0x488)]+'\x20('+this[_0x146d8b(0x194)][_0x146d8b(0x2ab)]+_0x146d8b(0x7e6)+this[_0x146d8b(0x523)]['authState'][_0x146d8b(0x6c4)]?.['myAppStateKeyId']),this[_0x146d8b(0x523)][_0x146d8b(0x2ec)][_0x146d8b(0x6c4)]?.[_0x146d8b(0x3fb)]||(this[_0x146d8b(0x222)]['warn'](this['instanceName']+'\x20('+this[_0x146d8b(0x194)][_0x146d8b(0x2ab)]+_0x146d8b(0x261)),this[_0x146d8b(0x523)]['ev']['flush']()),this[_0x146d8b(0x7ae)],this['instance'][_0x146d8b(0x2ab)]=this[_0x146d8b(0x523)][_0x146d8b(0x2eb)]['id'][_0x146d8b(0x563)](/:\d+/,'')[_0x146d8b(0x563)](_0x146d8b(0x634),''),this[_0x146d8b(0x194)]['profilePictureUrl']=(await this['profilePicture'](this[_0x146d8b(0x194)][_0x146d8b(0x2ab)]+_0x146d8b(0x634)))[_0x146d8b(0x73d)],this[_0x146d8b(0x60c)][_0x146d8b(0x83a)][_0x146d8b(0x7c2)]({'online':!0x0,'owner':this[_0x146d8b(0x194)][_0x146d8b(0x2ab)],'lastDisconnect':null},this[_0x146d8b(0x194)][_0x146d8b(0x3f5)]);let _0x224d01='Número:\x20'+this[_0x146d8b(0x194)][_0x146d8b(0x2ab)],_0x270302=0x28,_0x29f58c=Math['floor']((_0x270302-_0x224d01['length'])/0x2),_0xfdb290='\x20'[_0x146d8b(0x876)](_0x29f58c),_0x7e3041=_0x146d8b(0x5c7),_0x54f4e8='Instância:\x20'+this[_0x146d8b(0x194)]['name'],_0x51a4bc=(''+_0xfdb290+_0x224d01+_0xfdb290)[_0x146d8b(0x667)](_0x270302,'\x20'),_0xc72c3=(''+_0xfdb290+_0x7e3041+_0xfdb290)[_0x146d8b(0x667)](_0x270302,'\x20'),_0x38dc67=(''+_0xfdb290+_0x54f4e8+_0xfdb290)['padEnd'](_0x270302,'\x20'),_0x189e68=Math[_0x146d8b(0x548)](_0x51a4bc[_0x146d8b(0x675)],_0xc72c3[_0x146d8b(0x675)],_0x38dc67['length']),_0x444632=_0x51a4bc[_0x146d8b(0x667)](_0x189e68,'\x20'),_0x260bcc=_0xc72c3['padEnd'](_0x189e68,'\x20'),_0x16d6c2=_0x38dc67['padEnd'](_0x189e68,'\x20');this[_0x146d8b(0x222)]['info']((_0x146d8b(0x5e1)+'─'[_0x146d8b(0x876)](_0x189e68)+_0x146d8b(0x45f)+_0x260bcc+_0x146d8b(0x833)+_0x16d6c2+_0x146d8b(0x833)+_0x444632+_0x146d8b(0x34b)+'─'[_0x146d8b(0x876)](_0x189e68)+'┘')[_0x146d8b(0x563)](/^ +/gm,'\x20\x20')),this[_0x146d8b(0x320)](),this[_0x146d8b(0x194)][_0x146d8b(0x324)]['isConnected']=!0x0;}}[a0_0x7b141d(0x7ae)](){const _0x68e7aa=a0_0x7b141d;this['reconnectAttempts']=0x0,this[_0x68e7aa(0x6db)]=[];}async['getMessage'](_0x4bca46,_0x206410=!0x1){const _0x4a02e2=a0_0x7b141d;try{let _0x37e075=await this['repository'][_0x4a02e2(0x1f9)][_0x4a02e2(0x61f)]({'where':{'_id':_0x4bca46['id']}},this[_0x4a02e2(0x194)]['wuid']);return _0x206410?_0x37e075[0x0]:_0x37e075[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x7b141d(0x81b)](){const _0x17b6e6=a0_0x7b141d;let _0x108866=this[_0x17b6e6(0x695)][_0x17b6e6(0x6c9)](_0x17b6e6(0x3ca)),_0x11db2c=this['configService'][_0x17b6e6(0x6c9)]('DATABASE');_0x108866?.['CLEANING_INTERVAL']&&!_0x11db2c[_0x17b6e6(0x16f)]&&setInterval(()=>{const _0x4051bb=_0x17b6e6;try{for(let [_0x6126a,_0x2afc92]of Object[_0x4051bb(0x6e4)](_0x108866))_0x2afc92===!0x0&&(0x0,Fe[_0x4051bb(0x18e)])(_0x4051bb(0x888)+(0x0,j[_0x4051bb(0x797)])(this[_0x4051bb(0x6f8)],_0x6126a[_0x4051bb(0x374)](),this['instance'][_0x4051bb(0x2ab)])+_0x4051bb(0x21f));}catch{}},(_0x108866?.[_0x17b6e6(0x484)]??0xe10)*0x3e8);}async[a0_0x7b141d(0x3e1)](){const _0x57c524=a0_0x7b141d;let _0x48c098=this[_0x57c524(0x695)][_0x57c524(0x6c9)](_0x57c524(0x6ad)),_0x195004=this[_0x57c524(0x695)]['get'](_0x57c524(0x62f));return _0x195004?.[_0x57c524(0x16f)]?await Os(_0x195004,this['instance'][_0x57c524(0x3f5)]):_0x48c098[_0x57c524(0x16f)]?await _s(this[_0x57c524(0x194)][_0x57c524(0x3f5)]):await(0x0,w[_0x57c524(0x621)])((0x0,j[_0x57c524(0x797)])(Se,this[_0x57c524(0x194)][_0x57c524(0x3f5)]));}async[a0_0x7b141d(0x320)](){const _0xd4fdbc=a0_0x7b141d;let _0x52e5f0=()=>Math[_0xd4fdbc(0x1ef)](Math['random']()*0x4e21)+0x7d0,_0x72cf31=async()=>{const _0x134a14=_0xd4fdbc;if(!this[_0x134a14(0x194)][_0x134a14(0x324)]['isConnected']){this[_0x134a14(0x222)][_0x134a14(0x8c4)](this[_0x134a14(0x488)]+'\x20('+this['instance'][_0x134a14(0x2ab)]+'):Desconectado,\x20parando\x20execução.'),this[_0x134a14(0x1bc)]=!0x1;return;}if(this[_0x134a14(0x194)][_0x134a14(0x2ab)]&&this[_0x134a14(0x75a)]&&this[_0x134a14(0x194)][_0x134a14(0x324)][_0x134a14(0x803)]!==null&&this[_0x134a14(0x194)][_0x134a14(0x324)]['delayMessage']!==void 0x0){let _0x1986c5=Math[_0x134a14(0x3db)](this[_0x134a14(0x194)][_0x134a14(0x324)][_0x134a14(0x803)]/0xea60);this['logger']['verbose'](this[_0x134a14(0x488)]+'\x20('+this[_0x134a14(0x194)][_0x134a14(0x2ab)]+_0x134a14(0x4bb)+_0x1986c5+_0x134a14(0x170)),this[_0x134a14(0x1bc)]=!0x1;return;}else this[_0x134a14(0x194)][_0x134a14(0x2ab)]&&(this[_0x134a14(0x222)][_0x134a14(0x8c4)](this[_0x134a14(0x488)]+'\x20('+this[_0x134a14(0x194)]['wuid']+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this['AutomateSystem']||(await this['getAutomateSystem'](),this['findRealGroups'](),this[_0x134a14(0x8a4)]()),(this[_0x134a14(0x194)]['ScheduleMessage']['delayMessage']===null||this[_0x134a14(0x194)][_0x134a14(0x324)][_0x134a14(0x803)]===void 0x0)&&await this[_0x134a14(0x856)]());if(this[_0x134a14(0x1bc)]){let _0x23fc8b=_0x52e5f0();this[_0x134a14(0x222)]['verbose'](this[_0x134a14(0x488)]+_0x134a14(0x8b8)+_0x23fc8b/0x3e8+_0x134a14(0x1d2)),setTimeout(_0x72cf31,_0x23fc8b);}};if(this[_0xd4fdbc(0x1bc)])return;this['isRunning']=!0x0;let _0x56c788=_0x52e5f0();setTimeout(_0x72cf31,_0x56c788);}async['synchronizeAndMapFlows'](){const _0x5c2a00=a0_0x7b141d;let _0x4e198a=this[_0x5c2a00(0x194)][_0x5c2a00(0x2ab)];try{let _0x4688bb=await this['repository']['flow']['findAll']({'where':{'$or':[{'owner':_0x4e198a},{'whoCanUse':{'$in':[_0x4e198a]}},{'shareOwners':{'$in':[_0x4e198a]}}]}}),_0x5332d0=new Map(this[_0x5c2a00(0x75a)][_0x5c2a00(0x3ee)]['map'](_0x4f0206=>[_0x4f0206[_0x5c2a00(0x39f)],_0x4f0206])),_0x275646=_0x4688bb[_0x5c2a00(0x62e)](_0x3f4bc1=>{const _0x73ebd1=_0x5c2a00;let _0x4c66b2=_0x5332d0[_0x73ebd1(0x6c9)](_0x3f4bc1['_id']?.[_0x73ebd1(0x7b0)]());return{'_id':_0x3f4bc1[_0x73ebd1(0x39f)]?.[_0x73ebd1(0x7b0)](),'name':_0x4c66b2?.['name']??_0x3f4bc1[_0x73ebd1(0x3f5)],'default':_0x4c66b2?.['default']??_0x3f4bc1[_0x73ebd1(0x2cf)]??!0x1,'startCommand':_0x4c66b2?.[_0x73ebd1(0x479)]??_0x3f4bc1[_0x73ebd1(0x809)],'minutesToClose':_0x4c66b2?.[_0x73ebd1(0x6a7)]??_0x3f4bc1[_0x73ebd1(0x6a7)]??0xa,'readMessages':_0x4c66b2?.['readMessages']??_0x3f4bc1['readMessages']??!0x1,'testingWith':_0x4c66b2?.['testingWith']??_0x3f4bc1[_0x73ebd1(0x1ad)],'canEdit':_0x3f4bc1[_0x73ebd1(0x52f)]===_0x4e198a||(_0x3f4bc1[_0x73ebd1(0x769)]??[])[_0x73ebd1(0x87b)](_0x4e198a),'usersCount':(_0x3f4bc1[_0x73ebd1(0x2f6)]??[])[_0x73ebd1(0x675)]??0x0};}),_0x5628c9=!0x1;_0x275646[_0x5c2a00(0x677)](_0x2fb732=>{_0x2fb732['default']&&(_0x5628c9?_0x2fb732['default']=!0x1:_0x5628c9=!0x0);}),this[_0x5c2a00(0x75a)][_0x5c2a00(0x3ee)]=_0x275646;let _0x1e5434={'flows':_0x275646};return await this['repository']['automateSystem']['update'](_0x1e5434,_0x4e198a),this[_0x5c2a00(0x222)][_0x5c2a00(0x8c4)](this[_0x5c2a00(0x488)]+'\x20('+_0x4e198a+_0x5c2a00(0x23d)),_0x275646[_0x5c2a00(0x675)];}catch(_0x483413){return this[_0x5c2a00(0x222)][_0x5c2a00(0x4b9)](this['instanceName']+'\x20('+_0x4e198a+_0x5c2a00(0x287)+(_0x483413 instanceof Error?_0x483413[_0x5c2a00(0x1f9)]:JSON[_0x5c2a00(0x22d)](_0x483413,null,0x2))),{'message':'Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20'+(_0x483413 instanceof Error?_0x483413['message']:JSON[_0x5c2a00(0x22d)](_0x483413,null,0x2))};}}async[a0_0x7b141d(0x4e2)](_0x11d114){const _0x244c46=a0_0x7b141d;try{let _0x43ef91=await this[_0x244c46(0x60c)]['instance'][_0x244c46(0x89d)]({'where':{'_id':B+'-'+this[_0x244c46(0x488)]}}),_0x4030b9,_0xc34c61=!ae[_0x244c46(0x73f)]||!ae[_0x244c46(0x616)];console[_0x244c46(0x54c)]('--------------------------------------'),console[_0x244c46(0x54c)](_0x244c46(0x3d4),Ai),console[_0x244c46(0x54c)](_0x244c46(0x30a),this[_0x244c46(0x848)]),console[_0x244c46(0x54c)](_0x244c46(0x408)),Ai&&!_0xc34c61&&(this[_0x244c46(0x848)]<0x4||!this[_0x244c46(0x848)]?_0x43ef91&&_0x43ef91['ip']?(_0x4030b9=_0x43ef91['ip'],console['log']('Usando\x20IP\x20existente:\x20'+_0x4030b9)):(_0x4030b9=await ae[_0x244c46(0x752)](B,this[_0x244c46(0x194)][_0x244c46(0x3f5)]),_0x4030b9?(console[_0x244c46(0x54c)]('Novo\x20IP\x20criado:\x20'+_0x4030b9),await(0x0,w[_0x244c46(0x360)])(0x7d0)):console[_0x244c46(0x4b9)](_0x244c46(0x740))):this[_0x244c46(0x848)]<0x6&&(await ae[_0x244c46(0x1cc)](B,this[_0x244c46(0x194)][_0x244c46(0x3f5)]),console[_0x244c46(0x54c)](_0x244c46(0x43a)),_0x4030b9=await ae[_0x244c46(0x752)](B,this[_0x244c46(0x194)]['name']),_0x4030b9?(console['log'](_0x244c46(0x6d8)+_0x4030b9),await(0x0,w[_0x244c46(0x360)])(0x7d0)):console[_0x244c46(0x4b9)](_0x244c46(0x726)))),this['loadWebhook'](),this[_0x244c46(0x194)][_0x244c46(0x185)]=(await this[_0x244c46(0x60c)][_0x244c46(0x83a)][_0x244c46(0x61f)](this[_0x244c46(0x194)][_0x244c46(0x3f5)]))['apikey'],this[_0x244c46(0x194)][_0x244c46(0x2ec)]=await this[_0x244c46(0x3e1)]();let {version:_0x50dbbf}=await(0x0,w[_0x244c46(0x6cd)])(),_0x469c05=[xi,Fs,(0x0,Ds[_0x244c46(0x7ff)])()],_0x1191fb={'localAddress':_0x4030b9,'auth':{'creds':this[_0x244c46(0x194)][_0x244c46(0x2ec)][_0x244c46(0x601)][_0x244c46(0x6c4)],'keys':(0x0,w[_0x244c46(0x315)])(this[_0x244c46(0x194)]['authState'][_0x244c46(0x601)][_0x244c46(0x679)],(0x0,Ft['default'])({'level':_0x244c46(0x4b9)}))},'logger':(0x0,Ft['default'])({'level':_0x244c46(0x4b9)}),'printQRInTerminal':!0x1,'browser':_0x11d114?[_0x244c46(0x869),Fs,(0x0,Ds[_0x244c46(0x7ff)])()]:_0x469c05,'version':_0x50dbbf,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x3b594d=>{const _0x17947c=_0x244c46;let _0x206ddc=this[_0x17947c(0x636)]?.['groups_ignore']&&(0x0,w[_0x17947c(0x3b2)])(_0x3b594d);return(0x0,w[_0x17947c(0x373)])(_0x3b594d)||_0x206ddc;},'msgRetryCounterCache':this[_0x244c46(0x462)],'getMessage':async _0x3ab3a1=>await this[_0x244c46(0x1d9)](_0x3ab3a1),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x244c46(0x36f)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x1c9505){const _0x2e772e=_0x244c46;return _0x1c9505[_0x2e772e(0x54e)]?.['message']?.[_0x2e772e(0x770)]?.[_0x2e772e(0x871)]===w['proto']['Message']['ListMessage'][_0x2e772e(0x6ff)]['PRODUCT_LIST']&&(_0x1c9505=JSON[_0x2e772e(0x7da)](JSON['stringify'](_0x1c9505)),_0x1c9505[_0x2e772e(0x54e)][_0x2e772e(0x1f9)][_0x2e772e(0x770)][_0x2e772e(0x871)]=w[_0x2e772e(0x6c3)]['Message'][_0x2e772e(0x748)][_0x2e772e(0x6ff)][_0x2e772e(0x820)]),_0x1c9505['listMessage']?.[_0x2e772e(0x871)]==w[_0x2e772e(0x6c3)][_0x2e772e(0x71f)][_0x2e772e(0x748)][_0x2e772e(0x6ff)][_0x2e772e(0x420)]&&(_0x1c9505=JSON[_0x2e772e(0x7da)](JSON[_0x2e772e(0x22d)](_0x1c9505)),_0x1c9505['listMessage'][_0x2e772e(0x871)]=w[_0x2e772e(0x6c3)][_0x2e772e(0x71f)][_0x2e772e(0x748)][_0x2e772e(0x6ff)]['SINGLE_SELECT']),_0x1c9505;}};return this[_0x244c46(0x3da)]=!0x1,this[_0x244c46(0x523)]=(0x0,w[_0x244c46(0x2cf)])(_0x1191fb),this[_0x244c46(0x2f5)](),this[_0x244c46(0x568)]=_0x11d114,this[_0x244c46(0x523)];}catch(_0x1613f7){let _0x1e81e2=_0x244c46(0x744),_0x42b259=_0x1613f7 instanceof Error?_0x1613f7['message']:typeof _0x1613f7=='object'?JSON[_0x244c46(0x22d)](_0x1613f7):_0x1613f7,_0x169d9f=_0x1e81e2+':\x20'+_0x42b259;throw this['logger'][_0x244c46(0x4b9)](this['instanceName']+'\x20('+this[_0x244c46(0x194)][_0x244c46(0x2ab)]+_0x244c46(0x21e)+_0x169d9f),console[_0x244c46(0x4b9)]('Detalhes\x20do\x20erro:',_0x1613f7),_0x1613f7 instanceof Error&&console[_0x244c46(0x4b9)](_0x244c46(0x6b7),_0x1613f7[_0x244c46(0x3fa)]),new x(_0x169d9f);}}['eventHandler'](){const _0x472542=a0_0x7b141d;this[_0x472542(0x523)]['ev'][_0x472542(0x776)](_0x2c6109=>{const _0x1a101e=_0x472542;if(!this[_0x1a101e(0x3da)]){let _0x2f6472=this[_0x1a101e(0x695)][_0x1a101e(0x6c9)](_0x1a101e(0x6ad));if(_0x2c6109['labels.edit']){let _0x440695=_0x2c6109[_0x1a101e(0x6a5)];this[_0x1a101e(0x38f)][_0x1a101e(0x6a5)](_0x440695);}if(_0x2c6109['labels.association']){let _0x5f211c=_0x2c6109[_0x1a101e(0x2f0)];this[_0x1a101e(0x38f)][_0x1a101e(0x2f0)](_0x5f211c);}if(_0x2c6109['connection.update']&&this['connectionUpdate'](_0x2c6109[_0x1a101e(0x2ad)]),_0x2c6109[_0x1a101e(0x6f4)]&&this['instance']['authState'][_0x1a101e(0x660)](),_0x2c6109[_0x1a101e(0x1c7)]){let _0x5748da=_0x2c6109[_0x1a101e(0x1c7)];this[_0x1a101e(0x38f)][_0x1a101e(0x1c7)](_0x5748da,_0x2f6472);}if(_0x2c6109['messages.upsert']){let _0x2f42e7=_0x2c6109[_0x1a101e(0x279)];this['messageHandle'][_0x1a101e(0x279)](_0x2f42e7,_0x2f6472);}if(_0x2c6109[_0x1a101e(0x714)]){let _0x205c8b=_0x2c6109[_0x1a101e(0x714)];this[_0x1a101e(0x38f)][_0x1a101e(0x714)](_0x205c8b,_0x2f6472);}if(_0x2c6109[_0x1a101e(0x32a)]){let _0x27d0de=_0x2c6109[_0x1a101e(0x32a)];if(this[_0x1a101e(0x636)]?.[_0x1a101e(0x6eb)]&&_0x27d0de['id'][_0x1a101e(0x87b)](_0x1a101e(0x292)))return;this[_0x1a101e(0x189)]('presence.update',_0x27d0de);}if(_0x2c6109['groups.upsert']){let _0x37f745=_0x2c6109[_0x1a101e(0x8be)];this['groupHandler'][_0x1a101e(0x8be)](_0x37f745);}if(_0x2c6109[_0x1a101e(0x59b)]){let _0x4cb419=_0x2c6109[_0x1a101e(0x59b)];this[_0x1a101e(0x503)][_0x1a101e(0x59b)](_0x4cb419);}if(_0x2c6109[_0x1a101e(0x6f0)]){let _0x52d71e=_0x2c6109['group-participants.update'];this['groupHandler'][_0x1a101e(0x6f0)](_0x52d71e);}if(_0x2c6109[_0x1a101e(0x221)]){let _0x291ab5=_0x2c6109[_0x1a101e(0x221)];this[_0x1a101e(0x5e3)][_0x1a101e(0x221)](_0x291ab5,_0x2f6472);}if(_0x2c6109[_0x1a101e(0x217)]){let _0x398846=_0x2c6109[_0x1a101e(0x217)];this['chatHandle']['chats.update'](_0x398846,_0x2f6472);}if(_0x2c6109[_0x1a101e(0x5d7)]){let _0x5da277=_0x2c6109[_0x1a101e(0x5d7)];this[_0x1a101e(0x5e3)][_0x1a101e(0x5d7)](_0x5da277);}if(_0x2c6109[_0x1a101e(0x3e3)]){let _0x3cd085=_0x2c6109[_0x1a101e(0x3e3)];this[_0x1a101e(0x255)]['contacts.upsert'](_0x3cd085,_0x2f6472);}if(_0x2c6109['contacts.update']){let _0x3bab78=_0x2c6109['contacts.update'];this[_0x1a101e(0x255)][_0x1a101e(0x6f9)](_0x3bab78,_0x2f6472);}}});}async[a0_0x7b141d(0x6a3)](_0x3a13e4,_0x1394b8){const _0x219013=a0_0x7b141d;if(_0x1394b8>=0xa){console[_0x219013(0x4b9)](this[_0x219013(0x488)]+'\x20('+this['instance'][_0x219013(0x2ab)]+_0x219013(0x7c6)),delete Lt[_0x3a13e4[_0x219013(0x69b)]['id']];return;}try{console[_0x219013(0x4b9)](this[_0x219013(0x488)]+'\x20('+this[_0x219013(0x194)][_0x219013(0x2ab)]+_0x219013(0x28a)+(_0x1394b8+0x1)),await this[_0x219013(0x523)][_0x219013(0x3f2)](JSON[_0x219013(0x7da)](_0x3a13e4[_0x219013(0x3d1)][0x1],w[_0x219013(0x4c5)]['reviver'])),console[_0x219013(0x4b9)](_0x219013(0x812));}catch(_0x15fb4c){console[_0x219013(0x4b9)](this[_0x219013(0x488)]+'\x20('+this[_0x219013(0x194)][_0x219013(0x2ab)]+_0x219013(0x84c)+_0x15fb4c),setTimeout(()=>this['retrySendMessage'](_0x3a13e4,_0x1394b8+0x1),Math['pow'](0x2,_0x1394b8)*0x3e8);}}async[a0_0x7b141d(0x77c)](_0x497cc6){const _0x20e4ae=a0_0x7b141d;let _0xfd6d57=_0x497cc6['key'][_0x20e4ae(0x230)][_0x20e4ae(0x179)](_0x20e4ae(0x292)),_0xb92024;if(_0x497cc6[_0x20e4ae(0x69b)][_0x20e4ae(0x4a2)])_0xb92024=this[_0x20e4ae(0x194)][_0x20e4ae(0x73d)];else{let _0x3c7a6a=_0xfd6d57?_0x497cc6[_0x20e4ae(0x69b)][_0x20e4ae(0x2b9)]:_0x497cc6[_0x20e4ae(0x69b)]['remoteJid'];_0xb92024=(await this[_0x20e4ae(0x65c)](_0x3c7a6a,_0x497cc6[_0x20e4ae(0x191)],!0x1))[_0x20e4ae(0x273)]['pictureUrl'];}_0x497cc6['messageTimestamp']&&_0x497cc6[_0x20e4ae(0x175)]['toString']()['length']<0xd&&(_0x497cc6['messageTimestamp']=_0x497cc6[_0x20e4ae(0x175)]*0x3e8);let _0xf19067={'_id':_0x497cc6[_0x20e4ae(0x69b)]['id'],'key':_0x497cc6[_0x20e4ae(0x69b)],'isGroup':_0xfd6d57,'profilePictureUrl':_0xb92024,'pushName':_0x497cc6['pushName'],'message':{'text':_0x20e4ae(0x2c1)},'messageType':_0x20e4ae(0x4b9),'message_normalized':{'key':_0x497cc6[_0x20e4ae(0x69b)],'pushName':_0x497cc6[_0x20e4ae(0x191)],'messageTimestamp':_0x497cc6['messageTimestamp'],'source':(0x0,w['getDevice'])(_0x497cc6[_0x20e4ae(0x69b)]['id']),'text':_0x20e4ae(0x2c1)},'messageTimestamp':_0x497cc6[_0x20e4ae(0x175)],'owner':this[_0x20e4ae(0x194)][_0x20e4ae(0x2ab)],'source':(0x0,w['getDevice'])(_0x497cc6[_0x20e4ae(0x69b)]['id'])};this[_0x20e4ae(0x222)][_0x20e4ae(0x4b9)](this[_0x20e4ae(0x488)]+'\x20('+this[_0x20e4ae(0x194)]['wuid']+_0x20e4ae(0x21e)+(_0xf19067[_0x20e4ae(0x69b)]?.[_0x20e4ae(0x4a2)]?_0x20e4ae(0x3aa):'recebido\x20de')+'\x20['+_0xf19067['key']?.['remoteJid'][_0x20e4ae(0x563)](_0x20e4ae(0x634),'')+_0x20e4ae(0x275)+_0xf19067[_0x20e4ae(0x8a0)]+')'),_0xf19067[_0x20e4ae(0x1af)]?.[_0x20e4ae(0x2f3)]&&this[_0x20e4ae(0x222)]['error'](_0x497cc6[_0x20e4ae(0x69b)]['id']+':\x20'+_0xf19067[_0x20e4ae(0x1af)]?.['text']),await this[_0x20e4ae(0x60c)]['message'][_0x20e4ae(0x775)]([_0xf19067],this[_0x20e4ae(0x194)][_0x20e4ae(0x2ab)]),await this['repository'][_0x20e4ae(0x450)]['insert']([_0xf19067]),this[_0x20e4ae(0x189)](_0x20e4ae(0x279),_0xf19067),F(this[_0x20e4ae(0x488)],_0x20e4ae(0x32f),{'message':_0xf19067});}[a0_0x7b141d(0x6ec)](_0x3d9960){return new Promise(_0x1c323e=>setTimeout(_0x1c323e,_0x3d9960));}['formatBRNumber'](_0x965cc9){const _0x52c105=a0_0x7b141d;_0x965cc9=_0x965cc9[_0x52c105(0x563)](/\D/g,'');let _0x2f3b2b=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x52c105(0x4d4)](_0x965cc9);if(_0x2f3b2b&&_0x2f3b2b[0x1]==='55'){let _0x531b34=_0x2f3b2b[0x2],_0xa500e=_0x2f3b2b[0x3],_0x3fc9b7=_0x2f3b2b[0x4];if(parseInt(_0x531b34)>=0x1f&&_0xa500e==='9')return _0x2f3b2b[0x1]+_0x531b34+_0x3fc9b7;}return _0x965cc9;}['createJid'](_0x2dca11){const _0x58d0ea=a0_0x7b141d;return _0x2dca11['includes'](_0x58d0ea(0x292))||_0x2dca11[_0x58d0ea(0x87b)]('@s.whatsapp.net')||_0x2dca11[_0x58d0ea(0x87b)](_0x58d0ea(0x884))?_0x2dca11:(_0x2dca11=_0x2dca11?.[_0x58d0ea(0x563)](/\s/g,'')['replace'](/\+/g,'')[_0x58d0ea(0x563)](/\(/g,'')[_0x58d0ea(0x563)](/\)/g,'')[_0x58d0ea(0x20d)](/\:/)[0x0][_0x58d0ea(0x20d)]('@')[0x0],_0x2dca11[_0x58d0ea(0x675)]>=0x12?(_0x2dca11=_0x2dca11['replace'](/[^\d-]/g,''),_0x2dca11+_0x58d0ea(0x292)):(_0x2dca11=_0x2dca11['replace'](/\D/g,''),_0x2dca11+_0x58d0ea(0x634)));}async[a0_0x7b141d(0x6ee)](_0x5c203a){const _0x3c278e=a0_0x7b141d;let _0x15e421=(await this[_0x3c278e(0x534)]({'numbers':[_0x5c203a['number']]}))[0x0];if(!_0x15e421[_0x3c278e(0x2a1)]&&!(0x0,w[_0x3c278e(0x3b2)])(_0x15e421[_0x3c278e(0x37a)])&&!_0x15e421['jid'][_0x3c278e(0x87b)](_0x3c278e(0x884)))throw new m(_0x15e421);let _0x1a003e=_0x15e421['jid'];try{return await this[_0x3c278e(0x523)][_0x3c278e(0x5f0)](_0x1a003e),await this[_0x3c278e(0x523)]['sendPresenceUpdate'](_0x5c203a[_0x3c278e(0x738)],_0x1a003e),{'status':0xc8,'presence':_0x5c203a[_0x3c278e(0x738)]};}catch(_0x30baf0){let _0x42bfaa='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence',_0x235ea1=_0x30baf0 instanceof Error?_0x30baf0[_0x3c278e(0x1f9)]:typeof _0x30baf0=='object'?JSON['stringify'](_0x30baf0):_0x30baf0,_0x5d250d=_0x42bfaa+':\x20'+_0x235ea1;throw this['logger'][_0x3c278e(0x4b9)](this[_0x3c278e(0x488)]+'\x20('+this[_0x3c278e(0x194)]['wuid']+_0x3c278e(0x21e)+_0x5d250d),new m(_0x5d250d);}}async[a0_0x7b141d(0x65c)](_0x34d80e,_0x2559bb,_0x54f604,_0x9a4c8=!0x0){const _0xe11e1e=a0_0x7b141d;let _0x4f46b4=await this[_0xe11e1e(0x60c)]['cacheContact'][_0xe11e1e(0x89d)]({'where':{'_id':_0x34d80e}});if(!_0x4f46b4&&!_0x9a4c8)return;let _0x21d0ed={'lastUpdate':Date[_0xe11e1e(0x849)]()};if(_0x54f604||!_0x4f46b4?.[_0xe11e1e(0x5e4)]||Date['now']()-_0x4f46b4[_0xe11e1e(0x5e4)]>0x18*0x3c*0x3c*0x3e8)try{let _0x2df380=(await this['profilePicture'](_0x34d80e))['profilePictureUrl'];_0x21d0ed[_0xe11e1e(0x1d1)]=_0x2df380;}catch(_0x329bb5){let _0xb7a17e=_0xe11e1e(0x236),_0x391d34=_0x329bb5 instanceof Error?_0x329bb5[_0xe11e1e(0x1f9)]:typeof _0x329bb5==_0xe11e1e(0x5ec)?JSON['stringify'](_0x329bb5):_0x329bb5,_0x4714cd=_0xb7a17e+':\x20'+_0x391d34;throw this[_0xe11e1e(0x222)][_0xe11e1e(0x4b9)](this[_0xe11e1e(0x488)]+'\x20('+this[_0xe11e1e(0x194)][_0xe11e1e(0x2ab)]+_0xe11e1e(0x21e)+_0x4714cd),new m(_0x4714cd);}return _0x2559bb&&_0x4f46b4?.[_0xe11e1e(0x3f5)]!==_0x2559bb&&(_0x21d0ed[_0xe11e1e(0x3f5)]=_0x2559bb),Object[_0xe11e1e(0x679)](_0x21d0ed)[_0xe11e1e(0x675)]>0x1&&(_0x4f46b4?await this[_0xe11e1e(0x60c)]['cacheContact'][_0xe11e1e(0x889)]({'where':{'_id':_0x34d80e}},_0x21d0ed):await this[_0xe11e1e(0x60c)][_0xe11e1e(0x240)][_0xe11e1e(0x775)]([{'_id':_0x34d80e,..._0x21d0ed}]),_0x4f46b4={..._0x4f46b4,..._0x21d0ed}),{'cachedContact':_0x4f46b4};}async[a0_0x7b141d(0x505)](_0x57ded8){const _0x1bbb1d=a0_0x7b141d;let _0x23513a=this[_0x1bbb1d(0x1d3)](_0x57ded8);try{return{'wuid':_0x23513a,'profilePictureUrl':await this[_0x1bbb1d(0x523)][_0x1bbb1d(0x73d)](_0x23513a,_0x1bbb1d(0x24a))};}catch{return{'wuid':_0x23513a,'profilePictureUrl':null};}}async[a0_0x7b141d(0x7a4)](_0x1ef461,_0x1857c4,_0x20bc62){const _0x457944=a0_0x7b141d;let _0x134d50;try{let _0x236a10=(await this[_0x457944(0x534)]({'numbers':[_0x1ef461]}))?.[_0x457944(0x6e3)]();if(!_0x236a10[_0x457944(0x2a1)]&&!(0x0,w[_0x457944(0x3b2)])(_0x236a10[_0x457944(0x37a)])&&!_0x236a10[_0x457944(0x37a)][_0x457944(0x87b)](_0x457944(0x884)))throw new m(_0x236a10);_0x134d50=_0x236a10[_0x457944(0x37a)];}catch(_0x498d2e){_0x134d50=_0x1ef461,this['logger'][_0x457944(0x38b)](this['instanceName']+'\x20('+this['instance'][_0x457944(0x2ab)]+_0x457944(0x38a)+_0x498d2e[_0x457944(0x1f9)]),this[_0x457944(0x222)]['warn'](this['instanceName']+'\x20('+this[_0x457944(0x194)][_0x457944(0x2ab)]+_0x457944(0x650)+_0x134d50);}try{if(_0x134d50||(_0x134d50=_0x1ef461,this[_0x457944(0x222)][_0x457944(0x38b)](this[_0x457944(0x488)]+'\x20('+this[_0x457944(0x194)][_0x457944(0x2ab)]+_0x457944(0x48c)+_0x134d50)),_0x20bc62||(_0x20bc62={}),_0x20bc62?.[_0x457944(0x360)]){await this['client'][_0x457944(0x5f0)](_0x134d50),await this[_0x457944(0x523)][_0x457944(0x8bd)](_0x20bc62?.[_0x457944(0x738)]??'composing',_0x134d50);let _0x319379=Math['min'](_0x20bc62[_0x457944(0x360)],0x2710);await(0x0,w['delay'])(_0x319379),await this[_0x457944(0x523)][_0x457944(0x8bd)]('paused',_0x134d50);}let _0x19e02c=_0x20bc62?.[_0x457944(0x86a)]!=!0x1?void 0x0:!0x1,_0x862e68;if(_0x20bc62?.['quoted']){let _0x253737=_0x20bc62?.[_0x457944(0x48d)],_0x12c50c=_0x253737?.[_0x457944(0x1f9)]?_0x253737:await this[_0x457944(0x1d9)](_0x253737[_0x457944(0x69b)],!0x0);_0x12c50c&&(_0x862e68=_0x12c50c);}let _0x840ecd=await this[_0x457944(0x60c)]['chat'][_0x457944(0x89d)]({'where':{'_id':_0x134d50}},this[_0x457944(0x194)]['wuid']),_0x14d252,_0x39d871=null;if((0x0,w['isJidGroup'])(_0x134d50))try{if(_0x39d871=_0x840ecd[_0x457944(0x243)],!_0x39d871)throw new U(_0x457944(0x4c7));if(!_0x39d871[_0x457944(0x81a)])throw new m(_0x457944(0x4e3));_0x20bc62?.[_0x457944(0x3c9)]&&(_0x20bc62[_0x457944(0x3c9)]?.[_0x457944(0x5a0)]?_0x14d252=_0x39d871[_0x457944(0x5f3)][_0x457944(0x62e)](_0x56551d=>_0x56551d['id']):_0x20bc62[_0x457944(0x3c9)]?.['mentioned']?.['length']&&(_0x14d252=_0x20bc62[_0x457944(0x3c9)][_0x457944(0x31f)][_0x457944(0x62e)](_0x3809f6=>{const _0x4ad971=_0x457944;let _0x394f32=this[_0x4ad971(0x1d3)](_0x3809f6);return(0x0,w[_0x4ad971(0x3b2)])(_0x394f32)?null:_0x394f32;})));}catch(_0x47c9f8){throw _0x47c9f8 instanceof U?new U(_0x457944(0x4c7)):_0x47c9f8 instanceof m?new m(_0x457944(0x4e3)):new Error(_0x457944(0x588));}let _0x4fe6af=await((async()=>{const _0x28c4ab=_0x457944;let _0x273499={'quoted':_0x862e68,'ephemeralExpiration':_0x840ecd?.[_0x28c4ab(0x5cd)]??0x0};if(!_0x1857c4[_0x28c4ab(0x59a)]&&!_0x1857c4[_0x28c4ab(0x32e)]&&!_0x1857c4['sticker']&&!_0x1857c4[_0x28c4ab(0x6e9)]&&_0x134d50!==_0x28c4ab(0x201)&&_0x1857c4['reactionMessage'])return await this['client'][_0x28c4ab(0x43e)](_0x134d50,{'react':{'text':_0x1857c4[_0x28c4ab(0x6fe)][_0x28c4ab(0x2f3)],'key':_0x1857c4[_0x28c4ab(0x6fe)][_0x28c4ab(0x69b)]}},_0x273499);if(_0x1857c4[_0x28c4ab(0x6e9)]){let _0x306bdf=_0x1857c4[_0x28c4ab(0x6e9)];return _0x20bc62?.['changeVariables']&&(_0x306bdf=await this[_0x28c4ab(0x73a)](_0x306bdf,_0x134d50)),await this[_0x28c4ab(0x523)]['sendMessage'](_0x134d50,{'text':_0x306bdf,'mentions':_0x14d252,'linkPreview':_0x19e02c},_0x273499);}return!_0x1857c4[_0x28c4ab(0x59a)]&&!_0x1857c4[_0x28c4ab(0x32e)]&&_0x134d50!='status@broadcast'?await this[_0x28c4ab(0x523)]['sendMessage'](_0x134d50,{'forward':{'key':{'remoteJid':this['instance'][_0x28c4ab(0x2ab)],'fromMe':!0x0},'message':_0x1857c4},'mentions':_0x14d252},_0x273499):_0x134d50===_0x28c4ab(0x201)?await this[_0x28c4ab(0x523)][_0x28c4ab(0x43e)](_0x134d50,_0x1857c4['status'][_0x28c4ab(0x556)],{'backgroundColor':_0x1857c4[_0x28c4ab(0x756)][_0x28c4ab(0x4ef)]['backgroundColor'],'font':_0x1857c4[_0x28c4ab(0x756)]['option'][_0x28c4ab(0x181)],'statusJidList':_0x1857c4['status'][_0x28c4ab(0x4ef)][_0x28c4ab(0x2b3)]}):await this[_0x28c4ab(0x523)][_0x28c4ab(0x43e)](_0x134d50,_0x1857c4,_0x273499);})()),_0x5c289e=(0x0,w['normalizeMessageContent'])(_0x4fe6af[_0x457944(0x1f9)]),_0x10daab=(0x0,w[_0x457944(0x23e)])(_0x5c289e),{message_normalized:_0x5695d4}=this[_0x457944(0x747)](_0x5c289e,_0x10daab,null),_0x5d4467={'_id':_0x4fe6af['key']['id'],'key':_0x4fe6af[_0x457944(0x69b)],'pushName':_0x4fe6af['pushName'],'isGroup':_0x4fe6af['key'][_0x457944(0x230)][_0x457944(0x179)](_0x457944(0x292)),'profilePictureUrl':this[_0x457944(0x194)][_0x457944(0x73d)],'message':_0x5c289e,'messageType':_0x10daab,'message_normalized':{'key':_0x4fe6af[_0x457944(0x69b)],'pushName':_0x4fe6af['pushName'],'messageTimestamp':_0x4fe6af[_0x457944(0x175)]&&_0x4fe6af[_0x457944(0x175)][_0x457944(0x7b0)]()['length']<0xd?_0x4fe6af[_0x457944(0x175)]*0x3e8:_0x4fe6af[_0x457944(0x175)]||null,'source':(0x0,w[_0x457944(0x49d)])(_0x4fe6af['key']['id']),..._0x5695d4},'messageTimestamp':_0x4fe6af[_0x457944(0x175)]&&_0x4fe6af[_0x457944(0x175)][_0x457944(0x7b0)]()['length']<0xd?_0x4fe6af[_0x457944(0x175)]*0x3e8:_0x4fe6af[_0x457944(0x175)]||null,'owner':this[_0x457944(0x194)][_0x457944(0x2ab)],'source':(0x0,w[_0x457944(0x49d)])(_0x4fe6af[_0x457944(0x69b)]['id'])};return this['logger']['warn'](this[_0x457944(0x488)]+'\x20('+this[_0x457944(0x194)][_0x457944(0x2ab)]+'):\x20enviado\x20para\x20['+_0x5d4467[_0x457944(0x69b)]?.[_0x457944(0x230)][_0x457944(0x563)](_0x457944(0x634),'')+']\x20('+_0x5d4467[_0x457944(0x8a0)]+')'),_0x5d4467['message_normalized']?.[_0x457944(0x2f3)]&&this[_0x457944(0x222)][_0x457944(0x38b)](_0x5d4467['message_normalized']?.['text']),this[_0x457944(0x189)](_0x457944(0x72e),_0x5d4467),F(this[_0x457944(0x488)],_0x457944(0x32f),{'message':_0x5d4467}),this['updateChatWithMessage'](this['configService'][_0x457944(0x6c9)]('DATABASE'),_0x5d4467,_0x457944(0x220),_0x840ecd),await this[_0x457944(0x60c)][_0x457944(0x1f9)]['insert']([_0x5d4467],this[_0x457944(0x194)][_0x457944(0x2ab)]),_0x4fe6af;}catch(_0x4f2aa0){let _0x59d738=_0x457944(0x573)+_0x134d50,_0x1bb344=_0x4f2aa0 instanceof Error?_0x4f2aa0[_0x457944(0x1f9)]:typeof _0x4f2aa0==_0x457944(0x5ec)?JSON[_0x457944(0x22d)](_0x4f2aa0):_0x4f2aa0,_0x36ca24=_0x59d738+':\x20'+_0x1bb344;throw this[_0x457944(0x222)]['error'](this[_0x457944(0x488)]+'\x20('+this[_0x457944(0x194)]['wuid']+'):\x20'+_0x36ca24),new m(_0x36ca24);}}async[a0_0x7b141d(0x5c8)](_0x502dcc,_0x39830d,_0x10bcf2){const _0xb6cc7e=a0_0x7b141d;let _0x3857ed=this[_0xb6cc7e(0x1d3)](_0x502dcc),_0x23a33b=(await this[_0xb6cc7e(0x534)]({'numbers':[_0x3857ed]}))[0x0];if(!_0x23a33b[_0xb6cc7e(0x2a1)]&&!(0x0,w[_0xb6cc7e(0x3b2)])(_0x23a33b['jid']))throw new m(_0x23a33b);let _0x1537d9=(0x0,w[_0xb6cc7e(0x3b2)])(_0x3857ed)?_0x3857ed:_0x23a33b[_0xb6cc7e(0x37a)];if((0x0,w[_0xb6cc7e(0x3b2)])(_0x1537d9))try{await this[_0xb6cc7e(0x523)][_0xb6cc7e(0x627)](_0x1537d9);}catch{throw new m('Group\x20not\x20found');}try{_0x10bcf2?.['delay']&&(await this[_0xb6cc7e(0x523)][_0xb6cc7e(0x5f0)](_0x1537d9),await this[_0xb6cc7e(0x523)][_0xb6cc7e(0x8bd)](_0x10bcf2?.[_0xb6cc7e(0x738)]??'composing',_0x3857ed),await(0x0,w['delay'])(_0x10bcf2[_0xb6cc7e(0x360)]),await this['client'][_0xb6cc7e(0x8bd)](_0xb6cc7e(0x345),_0x1537d9));let _0x27f4f4=await((async()=>{const _0x3b0e8e=_0xb6cc7e;let _0x4bb450,_0x514766=_0x3b0e8e(0x60f)+(0x0,ne[_0x3b0e8e(0x29a)])(0x12)[_0x3b0e8e(0x7b0)](_0x3b0e8e(0x2ea))[_0x3b0e8e(0x4bd)](),_0x3fd01f=(0x0,w[_0x3b0e8e(0x6fa)])(_0x1537d9,_0x39830d,{'timestamp':new Date(),'userJid':this[_0x3b0e8e(0x194)][_0x3b0e8e(0x2ab)],'messageId':_0x514766,'quoted':_0x4bb450}),_0x18fdcb=await this[_0x3b0e8e(0x523)][_0x3b0e8e(0x437)](_0x1537d9,_0x3fd01f['message'],{'messageId':_0x514766});_0x3fd01f[_0x3b0e8e(0x69b)]={'id':_0x18fdcb,'remoteJid':_0x3857ed,'participant':(0x0,w[_0x3b0e8e(0x37f)])(_0x3857ed)?void 0x0:_0x3857ed,'fromMe':!0x0};for(let [_0x3cbc7f,_0x3ee8dc]of Object[_0x3b0e8e(0x6e4)](_0x3fd01f))(!_0x3ee8dc||Array[_0x3b0e8e(0x635)](_0x3ee8dc)&&_0x3ee8dc[_0x3b0e8e(0x675)]===0x0)&&delete _0x3fd01f[_0x3cbc7f];return this['client']['ev']['emit'](_0x3b0e8e(0x279),{'messages':[_0x3fd01f],'type':_0x3b0e8e(0x381)}),_0x3fd01f;})()),_0x17757f=await this['repository'][_0xb6cc7e(0x624)][_0xb6cc7e(0x89d)]({'where':{'_id':_0x1537d9}},this[_0xb6cc7e(0x194)]['wuid']),_0x47d226=(0x0,w[_0xb6cc7e(0x267)])(_0x27f4f4['message']),_0x527fc6=(0x0,w[_0xb6cc7e(0x23e)])(_0x47d226),{message_normalized:_0x5b9d1c}=this[_0xb6cc7e(0x747)](_0x47d226,_0x527fc6,null),_0x115410={'_id':_0x27f4f4[_0xb6cc7e(0x69b)]['id'],'key':_0x27f4f4[_0xb6cc7e(0x69b)],'pushName':_0x27f4f4[_0xb6cc7e(0x191)],'isGroup':_0x27f4f4[_0xb6cc7e(0x69b)][_0xb6cc7e(0x230)][_0xb6cc7e(0x179)]('@g.us'),'profilePictureUrl':this['instance'][_0xb6cc7e(0x73d)],'message':_0x47d226,'messageType':_0x527fc6,'message_normalized':{'key':_0x27f4f4[_0xb6cc7e(0x69b)],'pushName':_0x27f4f4['pushName'],'messageTimestamp':_0x27f4f4[_0xb6cc7e(0x175)]&&_0x27f4f4[_0xb6cc7e(0x175)][_0xb6cc7e(0x7b0)]()[_0xb6cc7e(0x675)]<0xd?_0x27f4f4[_0xb6cc7e(0x175)]*0x3e8:_0x27f4f4[_0xb6cc7e(0x175)]||null,'source':(0x0,w['getDevice'])(_0x27f4f4[_0xb6cc7e(0x69b)]['id']),..._0x5b9d1c},'messageTimestamp':_0x27f4f4[_0xb6cc7e(0x175)]&&_0x27f4f4[_0xb6cc7e(0x175)][_0xb6cc7e(0x7b0)]()['length']<0xd?_0x27f4f4[_0xb6cc7e(0x175)]*0x3e8:_0x27f4f4[_0xb6cc7e(0x175)]||null,'owner':this[_0xb6cc7e(0x194)][_0xb6cc7e(0x2ab)],'source':(0x0,w[_0xb6cc7e(0x49d)])(_0x27f4f4[_0xb6cc7e(0x69b)]['id'])};return this[_0xb6cc7e(0x222)][_0xb6cc7e(0x38b)](this[_0xb6cc7e(0x488)]+'\x20('+this[_0xb6cc7e(0x194)][_0xb6cc7e(0x2ab)]+'):\x20enviado\x20para\x20['+_0x115410[_0xb6cc7e(0x69b)]?.[_0xb6cc7e(0x230)][_0xb6cc7e(0x563)](_0xb6cc7e(0x634),'')+_0xb6cc7e(0x275)+_0x115410[_0xb6cc7e(0x8a0)]+')'),_0x115410[_0xb6cc7e(0x1af)]?.['text']&&this['logger'][_0xb6cc7e(0x38b)](_0x115410[_0xb6cc7e(0x1af)]?.['text']),this[_0xb6cc7e(0x189)](_0xb6cc7e(0x72e),_0x115410),F(this[_0xb6cc7e(0x488)],_0xb6cc7e(0x32f),{'message':_0x115410}),this[_0xb6cc7e(0x26a)](this[_0xb6cc7e(0x695)][_0xb6cc7e(0x6c9)](_0xb6cc7e(0x6ad)),_0x115410,_0xb6cc7e(0x220),_0x17757f),await this[_0xb6cc7e(0x60c)]['message'][_0xb6cc7e(0x775)]([_0x115410],this['instance']['wuid']),_0x27f4f4;}catch(_0x4b97cc){throw this[_0xb6cc7e(0x222)][_0xb6cc7e(0x4b9)](_0x4b97cc),new m(_0x4b97cc[_0xb6cc7e(0x7b0)]());}}get[a0_0x7b141d(0x24c)](){return this['stateConnection'];}async[a0_0x7b141d(0x155)](_0x48d871){const _0x20cb51=a0_0x7b141d;return await this[_0x20cb51(0x7a4)](_0x48d871[_0x20cb51(0x291)],{'conversation':_0x48d871[_0x20cb51(0x155)][_0x20cb51(0x2f3)]},_0x48d871?.[_0x20cb51(0x2cb)]);}async['formatStatusMessage'](_0x36dfff){const _0x2cf778=a0_0x7b141d;if(!_0x36dfff['type'])throw new m(_0x2cf778(0x6bc));if(!_0x36dfff[_0x2cf778(0x556)])throw new m('Content\x20is\x20required');if(_0x36dfff['allContacts']){let _0x316499=await this[_0x2cf778(0x60c)][_0x2cf778(0x530)][_0x2cf778(0x61f)]({'where':{}},this[_0x2cf778(0x194)]['wuid']);if(!_0x316499[_0x2cf778(0x675)])throw new m(_0x2cf778(0x210));_0x36dfff[_0x2cf778(0x2b3)]=_0x316499[_0x2cf778(0x499)](_0x1d1894=>_0x1d1894[_0x2cf778(0x191)])[_0x2cf778(0x62e)](_0x172708=>_0x172708[_0x2cf778(0x39f)]);}if(!_0x36dfff[_0x2cf778(0x2b3)]?.[_0x2cf778(0x675)]&&!_0x36dfff['allContacts'])throw new m(_0x2cf778(0x684));if(_0x36dfff[_0x2cf778(0x7ef)]===_0x2cf778(0x2f3)){if(!_0x36dfff['backgroundColor'])throw new m(_0x2cf778(0x6a2));if(!_0x36dfff[_0x2cf778(0x181)])throw new m(_0x2cf778(0x4c6));return{'content':{'text':_0x36dfff[_0x2cf778(0x556)]},'option':{'backgroundColor':_0x36dfff[_0x2cf778(0x593)],'font':_0x36dfff['font'],'statusJidList':_0x36dfff['statusJidList']}};}if(_0x36dfff['type']===_0x2cf778(0x24a))return{'content':{'image':{'url':_0x36dfff[_0x2cf778(0x556)]},'caption':_0x36dfff['caption']},'option':{'statusJidList':_0x36dfff['statusJidList']}};if(_0x36dfff[_0x2cf778(0x7ef)]==='video')return{'content':{'video':{'url':_0x36dfff[_0x2cf778(0x556)]},'caption':_0x36dfff[_0x2cf778(0x5d2)]},'option':{'statusJidList':_0x36dfff[_0x2cf778(0x2b3)]}};if(_0x36dfff[_0x2cf778(0x7ef)]===_0x2cf778(0x59a)){this[_0x2cf778(0x222)][_0x2cf778(0x8c4)](this[_0x2cf778(0x488)]+'\x20('+this[_0x2cf778(0x194)][_0x2cf778(0x2ab)]+_0x2cf778(0x242)),this[_0x2cf778(0x222)]['verbose'](this[_0x2cf778(0x488)]+'\x20('+this[_0x2cf778(0x194)]['wuid']+_0x2cf778(0x1e2));let _0x33fd46=await this[_0x2cf778(0x862)](_0x36dfff[_0x2cf778(0x556)]);if(typeof _0x33fd46=='string'){this[_0x2cf778(0x222)][_0x2cf778(0x8c4)](this[_0x2cf778(0x488)]+'\x20('+this[_0x2cf778(0x194)]['wuid']+_0x2cf778(0x328));let _0x5ab1b7=k['readFileSync'](_0x33fd46)['toString']('base64');return{'content':{'audio':Buffer['from'](_0x5ab1b7,_0x2cf778(0x1de)),'ptt':!0x0,'mimetype':_0x2cf778(0x317)},'option':{'statusJidList':_0x36dfff[_0x2cf778(0x2b3)]}};}else throw new x(_0x33fd46);}throw new m('Type\x20not\x20found');}async['statusMessage'](_0x35e884){const _0x336cba=a0_0x7b141d;return await this['sendMessageWithTyping']('status@broadcast',{'status':await this['formatStatusMessage'](_0x35e884[_0x336cba(0x41d)])});}async[a0_0x7b141d(0x557)](_0x626580){const _0x6e3acf=a0_0x7b141d;try{let _0x2fd188=await(0x0,w[_0x6e3acf(0x5c4)])({[_0x626580['mediatype']]:(0x0,J[_0x6e3acf(0x1e8)])(_0x626580[_0x6e3acf(0x492)])?{'url':_0x626580['media']}:Buffer['from'](_0x626580[_0x6e3acf(0x492)],_0x6e3acf(0x1de))},{'upload':this[_0x6e3acf(0x523)][_0x6e3acf(0x5db)]}),_0x293908=_0x626580[_0x6e3acf(0x468)]+_0x6e3acf(0x71f);if(_0x626580[_0x6e3acf(0x468)]===_0x6e3acf(0x5a3)&&!_0x626580[_0x6e3acf(0x7ed)]){let _0x40dca5=new RegExp(/.*\/(.+?)\./)[_0x6e3acf(0x4d4)](_0x626580[_0x6e3acf(0x492)]);_0x626580[_0x6e3acf(0x7ed)]=_0x40dca5?_0x40dca5[0x1]:null;}let _0x36dc9e;return(0x0,J[_0x6e3acf(0x1e8)])(_0x626580[_0x6e3acf(0x492)])?_0x36dc9e=(await Q[_0x6e3acf(0x2cf)]['get'](_0x626580['media'],{'responseType':_0x6e3acf(0x2a3)}))[_0x6e3acf(0x860)][_0x6e3acf(0x3d6)]:_0x36dc9e=(0x0,Oi[_0x6e3acf(0x2f8)])(_0x626580[_0x6e3acf(0x7ed)]),_0x2fd188[_0x293908]['caption']=_0x626580?.[_0x6e3acf(0x5d2)],_0x2fd188[_0x293908][_0x6e3acf(0x3fd)]=_0x36dc9e,_0x2fd188[_0x293908][_0x6e3acf(0x7ed)]=_0x626580[_0x6e3acf(0x7ed)],_0x626580[_0x6e3acf(0x468)]===_0x6e3acf(0x2a5)&&(_0x2fd188[_0x293908]['jpegThumbnail']=Uint8Array[_0x6e3acf(0x322)]((0x0,Le[_0x6e3acf(0x4f0)])((0x0,j['join'])(process[_0x6e3acf(0x2d7)](),_0x6e3acf(0x6a4)))),_0x2fd188[_0x293908][_0x6e3acf(0x6df)]=!0x1),(0x0,w[_0x6e3acf(0x6fa)])('',{[_0x293908]:{..._0x2fd188[_0x293908]}},{'userJid':this['instance']['wuid']});}catch(_0x5d9086){let _0x81ed96=_0x6e3acf(0x29c),_0x1da21f=_0x5d9086 instanceof Error?_0x5d9086['message']:typeof _0x5d9086==_0x6e3acf(0x5ec)?JSON['stringify'](_0x5d9086):_0x5d9086,_0x5c150a=_0x81ed96+':\x20'+_0x1da21f;throw this[_0x6e3acf(0x222)][_0x6e3acf(0x4b9)](this[_0x6e3acf(0x488)]+'\x20('+this['instance'][_0x6e3acf(0x2ab)]+'):\x20'+_0x5c150a),new x(_0x5c150a);}}async[a0_0x7b141d(0x79e)](_0x8cde5f){const _0x54524e=a0_0x7b141d;let _0x42c5f1=await this['prepareMediaMessage'](_0x8cde5f[_0x54524e(0x79e)]);return await this[_0x54524e(0x7a4)](_0x8cde5f[_0x54524e(0x291)],{..._0x42c5f1['message']},_0x8cde5f?.[_0x54524e(0x2cb)]);}async['convertToWebP'](_0xa925bc,_0x590ae1){const _0x43ab5e=a0_0x7b141d;try{this[_0x43ab5e(0x222)]['verbose'](this[_0x43ab5e(0x488)]+'\x20('+this['instance']['wuid']+_0x43ab5e(0x4f7));let _0x7ce71a,_0x45dbe7=_0x590ae1+'-'+new Date()[_0x43ab5e(0x68c)]();this[_0x43ab5e(0x222)][_0x43ab5e(0x8c4)](this[_0x43ab5e(0x488)]+'\x20('+this['instance'][_0x43ab5e(0x2ab)]+_0x43ab5e(0x76f)+_0x45dbe7);let _0x55c779=''+(0x0,j[_0x43ab5e(0x797)])(this['storePath'],_0x45dbe7+_0x43ab5e(0x720));if(this['logger'][_0x43ab5e(0x8c4)](this[_0x43ab5e(0x488)]+'\x20('+this[_0x43ab5e(0x194)][_0x43ab5e(0x2ab)]+'):Output\x20path:\x20'+_0x55c779),(0x0,J['isBase64'])(_0xa925bc)){this['logger'][_0x43ab5e(0x8c4)](this[_0x43ab5e(0x488)]+'\x20('+this[_0x43ab5e(0x194)]['wuid']+'):Image\x20is\x20base64');let _0x21654b=_0xa925bc['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x110ebd=Buffer[_0x43ab5e(0x322)](_0x21654b,_0x43ab5e(0x1de));_0x7ce71a=''+(0x0,j[_0x43ab5e(0x797)])(this[_0x43ab5e(0x6f8)],'temp-'+_0x45dbe7+_0x43ab5e(0x64d)),this[_0x43ab5e(0x222)][_0x43ab5e(0x8c4)](this[_0x43ab5e(0x488)]+'\x20('+this[_0x43ab5e(0x194)][_0x43ab5e(0x2ab)]+_0x43ab5e(0x1db)+_0x7ce71a),await(0x0,Ut[_0x43ab5e(0x2cf)])(_0x110ebd)[_0x43ab5e(0x3eb)](_0x7ce71a),this[_0x43ab5e(0x222)]['verbose'](this[_0x43ab5e(0x488)]+'\x20('+this[_0x43ab5e(0x194)][_0x43ab5e(0x2ab)]+'):Image\x20created');}else{this[_0x43ab5e(0x222)][_0x43ab5e(0x8c4)](this[_0x43ab5e(0x488)]+'\x20('+this[_0x43ab5e(0x194)][_0x43ab5e(0x2ab)]+_0x43ab5e(0x4f3));let _0x4680bb=new Date()[_0x43ab5e(0x68c)](),_0x4d9dca=_0xa925bc+'?timestamp='+_0x4680bb;this[_0x43ab5e(0x222)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x43ab5e(0x2ab)]+_0x43ab5e(0x417)+_0x4d9dca);let _0x5ea564=await Q[_0x43ab5e(0x2cf)][_0x43ab5e(0x6c9)](_0x4d9dca,{'responseType':_0x43ab5e(0x2a3)});this[_0x43ab5e(0x222)][_0x43ab5e(0x8c4)](this['instanceName']+'\x20('+this[_0x43ab5e(0x194)][_0x43ab5e(0x2ab)]+_0x43ab5e(0x359));let _0x2e3388=Buffer['from'](_0x5ea564[_0x43ab5e(0x645)],'binary');_0x7ce71a=''+(0x0,j[_0x43ab5e(0x797)])(this['storePath'],'temp-'+_0x45dbe7+_0x43ab5e(0x64d)),this[_0x43ab5e(0x222)]['verbose'](this[_0x43ab5e(0x488)]+'\x20('+this[_0x43ab5e(0x194)][_0x43ab5e(0x2ab)]+_0x43ab5e(0x1db)+_0x7ce71a),await(0x0,Ut[_0x43ab5e(0x2cf)])(_0x2e3388)[_0x43ab5e(0x3eb)](_0x7ce71a),this[_0x43ab5e(0x222)][_0x43ab5e(0x8c4)](this['instanceName']+'\x20('+this[_0x43ab5e(0x194)][_0x43ab5e(0x2ab)]+_0x43ab5e(0x38c));}return await(0x0,Ut[_0x43ab5e(0x2cf)])(_0x7ce71a)[_0x43ab5e(0x452)]()[_0x43ab5e(0x3eb)](_0x55c779),this[_0x43ab5e(0x222)][_0x43ab5e(0x8c4)](this[_0x43ab5e(0x488)]+'\x20('+this[_0x43ab5e(0x194)][_0x43ab5e(0x2ab)]+'):Image\x20converted\x20to\x20WebP'),k['unlinkSync'](_0x7ce71a),this[_0x43ab5e(0x222)]['verbose'](this[_0x43ab5e(0x488)]+'\x20('+this[_0x43ab5e(0x194)][_0x43ab5e(0x2ab)]+_0x43ab5e(0x697)),_0x55c779;}catch(_0x1c2539){let _0x1ed1a9=_0x43ab5e(0x28f),_0x596f75=_0x1c2539 instanceof Error?_0x1c2539[_0x43ab5e(0x1f9)]:typeof _0x1c2539==_0x43ab5e(0x5ec)?JSON[_0x43ab5e(0x22d)](_0x1c2539):_0x1c2539,_0xdef7e7=_0x1ed1a9+':\x20'+_0x596f75;this[_0x43ab5e(0x222)][_0x43ab5e(0x4b9)](this[_0x43ab5e(0x488)]+'\x20('+this[_0x43ab5e(0x194)]['wuid']+_0x43ab5e(0x21e)+_0xdef7e7);}}async[a0_0x7b141d(0x3e4)](_0x1dd4f3){const _0x4a491f=a0_0x7b141d;let _0x3c17e7=await this[_0x4a491f(0x2c9)](_0x1dd4f3[_0x4a491f(0x53d)][_0x4a491f(0x24a)],_0x1dd4f3['number']),_0x3b4a3c=await this['sendMessageWithTyping'](_0x1dd4f3[_0x4a491f(0x291)],{'sticker':{'url':_0x3c17e7}},_0x1dd4f3?.['options']);return k[_0x4a491f(0x55a)](_0x3c17e7),this[_0x4a491f(0x222)][_0x4a491f(0x8c4)](this['instanceName']+'\x20('+this['instance'][_0x4a491f(0x2ab)]+'):Converted\x20image\x20deleted'),_0x3b4a3c;}async[a0_0x7b141d(0x80d)](_0x1526b0){const _0x338921=a0_0x7b141d;if(this['logger']['verbose'](this[_0x338921(0x488)]+'\x20('+this[_0x338921(0x194)][_0x338921(0x2ab)]+'):Sending\x20audio\x20whatsapp'),!_0x1526b0[_0x338921(0x2cb)]?.[_0x338921(0x3d0)]&&_0x1526b0['options']?.[_0x338921(0x3d0)]!==!0x1&&(_0x1526b0[_0x338921(0x2cb)][_0x338921(0x3d0)]=!0x0),_0x1526b0[_0x338921(0x2cb)]?.['encoding']){let _0x2f84c0=await this[_0x338921(0x862)](_0x1526b0[_0x338921(0x251)]['audio']);if(typeof _0x2f84c0==_0x338921(0x214)){let _0x3eac9c=k['readFileSync'](_0x2f84c0)['toString']('base64');return this[_0x338921(0x7a4)](_0x1526b0['number'],{'audio':Buffer[_0x338921(0x322)](_0x3eac9c,'base64'),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x338921(0x7bd),'delay':_0x1526b0?.[_0x338921(0x2cb)]?.[_0x338921(0x360)]});}else throw new x(_0x2f84c0);}return await this[_0x338921(0x7a4)](_0x1526b0[_0x338921(0x291)],{'audio':(0x0,J[_0x338921(0x1e8)])(_0x1526b0[_0x338921(0x251)]['audio'])?{'url':_0x1526b0[_0x338921(0x251)][_0x338921(0x59a)]}:Buffer['from'](_0x1526b0[_0x338921(0x251)][_0x338921(0x59a)],_0x338921(0x1de)),'ptt':!0x0,'mimetype':_0x338921(0x298)},{'presence':_0x338921(0x7bd),'delay':_0x1526b0?.[_0x338921(0x2cb)]?.[_0x338921(0x360)]});}async['convertaudio'](_0x57a1b3){const _0x3a1430=a0_0x7b141d;this[_0x3a1430(0x222)][_0x3a1430(0x8c4)](this[_0x3a1430(0x488)]+'\x20('+this[_0x3a1430(0x194)]['wuid']+_0x3a1430(0x1e2));let _0x1cb932=(0x0,J[_0x3a1430(0x1e8)])(_0x57a1b3)?(0x0,ne[_0x3a1430(0x5d4)])(_0x3a1430(0x37d))[_0x3a1430(0x889)](_0x57a1b3)[_0x3a1430(0x777)](_0x3a1430(0x2ea)):(0x0,ne[_0x3a1430(0x5d4)])(_0x3a1430(0x37d))['update'](_0x57a1b3)['digest'](_0x3a1430(0x2ea)),_0x5061e0=''+(0x0,j[_0x3a1430(0x797)])(this[_0x3a1430(0x6f8)],_0x1cb932+_0x3a1430(0x533));if(k[_0x3a1430(0x713)](_0x5061e0))return this[_0x3a1430(0x222)][_0x3a1430(0x8c4)](this['instanceName']+'\x20('+this[_0x3a1430(0x194)]['wuid']+_0x3a1430(0x305)),_0x5061e0;let _0x3ca996=''+(0x0,j[_0x3a1430(0x797)])(this[_0x3a1430(0x6f8)],_0x3a1430(0x53b)+(0x0,Y['v4'])()+_0x3a1430(0x63c));if((0x0,J[_0x3a1430(0x1e8)])(_0x57a1b3)){let _0xb085b9=new Date()['getTime'](),_0x57fb4e=_0x57a1b3+_0x3a1430(0x60a)+_0xb085b9,_0x530bc9=await Q[_0x3a1430(0x2cf)][_0x3a1430(0x6c9)](_0x57fb4e,{'responseType':_0x3a1430(0x2a3)});k['writeFileSync'](_0x3ca996,_0x530bc9[_0x3a1430(0x645)]);}else{let _0x2f3681=Buffer['from'](_0x57a1b3,_0x3a1430(0x1de));k[_0x3a1430(0x31e)](_0x3ca996,_0x2f3681);}return new Promise((_0x14934f,_0x7707c8)=>{const _0x3e9fef=_0x3a1430;(0x0,Fe[_0x3e9fef(0x4d4)])(Ps[_0x3e9fef(0x2cf)][_0x3e9fef(0x357)]+_0x3e9fef(0x2ed)+_0x3ca996+_0x3e9fef(0x352)+_0x5061e0+_0x3e9fef(0x773),_0x50cf76=>{const _0x70cb86=_0x3e9fef;if(k[_0x70cb86(0x55a)](_0x3ca996),_0x50cf76){this[_0x70cb86(0x222)][_0x70cb86(0x8c4)](this[_0x70cb86(0x488)]+'\x20('+this['instance'][_0x70cb86(0x2ab)]+_0x70cb86(0x253)),_0x7707c8(_0x50cf76);return;}this['logger'][_0x70cb86(0x8c4)](this['instanceName']+'\x20('+this[_0x70cb86(0x194)][_0x70cb86(0x2ab)]+_0x70cb86(0x235)),_0x14934f(_0x5061e0);});});}async[a0_0x7b141d(0x54a)](_0x62a58d){const _0x465426=a0_0x7b141d;this[_0x465426(0x222)]['verbose'](this['instanceName']+'\x20('+this[_0x465426(0x194)][_0x465426(0x2ab)]+'):Processing\x20audio');let _0x29e8fe=(0x0,ne[_0x465426(0x5d4)])('sha256')['update'](_0x62a58d)[_0x465426(0x777)](_0x465426(0x2ea)),_0x244352=''+(0x0,j[_0x465426(0x797)])(this[_0x465426(0x6f8)],_0x29e8fe+_0x465426(0x63c));if(k[_0x465426(0x713)](_0x244352))return this[_0x465426(0x222)][_0x465426(0x8c4)](this[_0x465426(0x488)]+'\x20('+this[_0x465426(0x194)][_0x465426(0x2ab)]+_0x465426(0x305)),j[_0x465426(0x2cf)]['basename'](_0x244352);let _0x81e7d3=''+(0x0,j[_0x465426(0x797)])(this[_0x465426(0x6f8)],_0x465426(0x53b)+_0x29e8fe+_0x465426(0x533));if((0x0,J['isURL'])(_0x62a58d)){let _0x1db9e1=new Date()[_0x465426(0x68c)](),_0x3bd29d=_0x62a58d+_0x465426(0x60a)+_0x1db9e1,_0x273884=await Q[_0x465426(0x2cf)][_0x465426(0x6c9)](_0x3bd29d,{'responseType':_0x465426(0x2a3)});k[_0x465426(0x31e)](_0x81e7d3,_0x273884[_0x465426(0x645)]);}else{let _0x90779e=Buffer['from'](_0x62a58d,_0x465426(0x1de));k[_0x465426(0x31e)](_0x81e7d3,_0x90779e);}return new Promise((_0x14e479,_0x22870f)=>{const _0x30e877=_0x465426;(0x0,Fe[_0x30e877(0x4d4)])(Ps[_0x30e877(0x2cf)][_0x30e877(0x357)]+'\x20-i\x20'+_0x81e7d3+_0x30e877(0x57b)+_0x244352+'\x20-y',_0x3ed2db=>{const _0x1b8a58=_0x30e877;if(k[_0x1b8a58(0x55a)](_0x81e7d3),_0x3ed2db){this['logger'][_0x1b8a58(0x8c4)](this['instanceName']+'\x20('+this['instance'][_0x1b8a58(0x2ab)]+_0x1b8a58(0x253)),_0x22870f(_0x3ed2db);return;}this['logger']['verbose'](this[_0x1b8a58(0x488)]+'\x20('+this[_0x1b8a58(0x194)]['wuid']+_0x1b8a58(0x235)),_0x14e479(j[_0x1b8a58(0x2cf)]['basename'](_0x244352));});});}async['buttonMessage'](_0x29a7b1){const _0x2156dc=a0_0x7b141d;console[_0x2156dc(0x54c)](_0x2156dc(0x5b7),_0x29a7b1);let _0x4acb39;try{_0x29a7b1[_0x2156dc(0x79d)]?.[_0x2156dc(0x34f)]&&(_0x4acb39=await this[_0x2156dc(0x557)]({'mediatype':_0x2156dc(0x24a),'media':_0x29a7b1[_0x2156dc(0x79d)][_0x2156dc(0x34f)]}));}catch(_0x556b5f){throw console['error'](_0x2156dc(0x67c),_0x556b5f),new Error('Failed\x20to\x20prepare\x20media\x20message');}try{let _0x208d5f={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':'*Teste\x20de\x20Título*\x0a\x0aDescrição\x20de\x20Teste\x0a'},'footer':{'text':_0x2156dc(0x79c)},'header':((()=>{const _0x4850de=_0x2156dc;if(_0x4acb39?.[_0x4850de(0x1f9)]?.['imageMessage'])return{'hasMediaAttachment':!!_0x4acb39[_0x4850de(0x1f9)][_0x4850de(0x4b0)],'imageMessage':_0x4acb39['message']['imageMessage']};})()),'nativeFlowMessage':{'buttons':[{'name':'quick_reply','buttonParamsJson':JSON[_0x2156dc(0x22d)]({'display_text':_0x2156dc(0x6a1),'id':'1'})},{'name':'quick_reply','buttonParamsJson':JSON[_0x2156dc(0x22d)]({'display_text':'Botão\x202','id':'2'})}],'messageParamsJson':JSON[_0x2156dc(0x22d)]({'from':'api','templateId':_0x2156dc(0x60f)+(0x0,ne[_0x2156dc(0x29a)])(0x12)[_0x2156dc(0x7b0)]('hex')[_0x2156dc(0x4bd)]()})}}}}};return await this['sendMessageWithTypingButtons'](_0x29a7b1['number'],_0x208d5f,_0x29a7b1?.['options']);}catch(_0x1f2ecd){throw console['error']('Error\x20in\x20buttonsMessage\x20function:',_0x1f2ecd),new Error(_0x2156dc(0x5e7));}}async[a0_0x7b141d(0x4be)](_0x17f0a8){const _0x619054=a0_0x7b141d;return await this['sendMessageWithTyping'](_0x17f0a8[_0x619054(0x291)],{'locationMessage':{'degreesLatitude':_0x17f0a8[_0x619054(0x4be)][_0x619054(0x1a2)],'degreesLongitude':_0x17f0a8[_0x619054(0x4be)][_0x619054(0x485)],'name':_0x17f0a8[_0x619054(0x4be)]?.[_0x619054(0x3f5)],'address':_0x17f0a8[_0x619054(0x4be)]?.[_0x619054(0x2ca)]}},_0x17f0a8?.[_0x619054(0x2cb)]);}async['contactMessage'](_0x53de15){const _0x44d323=a0_0x7b141d;let _0x5aac75={},_0x52bedb=async _0x4a5b67=>{const _0x2495b7=a0_0x77b5;let _0x1fed15='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x4a5b67[_0x2495b7(0x5cc)]+'\x0aFN:'+_0x4a5b67[_0x2495b7(0x5cc)]+'\x0a';_0x4a5b67[_0x2495b7(0x14a)]&&(_0x1fed15+=_0x2495b7(0x434)+_0x4a5b67[_0x2495b7(0x14a)]+';\x0a'),_0x4a5b67[_0x2495b7(0x592)]&&(_0x1fed15+=_0x2495b7(0x7d5)+_0x4a5b67[_0x2495b7(0x592)]+'\x0a'),_0x4a5b67['url']&&(_0x1fed15+='URL:'+_0x4a5b67[_0x2495b7(0x2d8)]+'\x0a');let _0x245bde='',_0x464723=0x1;if(_0x4a5b67[_0x2495b7(0x568)]){let _0x15afe3=_0x4a5b67[_0x2495b7(0x568)][_0x2495b7(0x20d)]('|');for(let _0x5865d0 of _0x15afe3){let _0x469c88=await this['whatsappNumber']({'numbers':[_0x5865d0]}),_0x1df0cf=(_0x469c88['length']>0x0?_0x469c88[0x0]['jid']:this[_0x2495b7(0x1d3)](_0x5865d0))[_0x2495b7(0x563)]('@s.whatsapp.net','');_0x245bde+=_0x2495b7(0x250)+_0x464723+_0x2495b7(0x415)+_0x1df0cf+':'+_0x5865d0+_0x2495b7(0x86b)+_0x464723+_0x2495b7(0x6d2),_0x464723++;}}return _0x1fed15+=_0x245bde+_0x2495b7(0x867),_0x1fed15;};return _0x53de15[_0x44d323(0x566)]['length']===0x1?_0x5aac75[_0x44d323(0x566)]={'displayName':_0x53de15[_0x44d323(0x566)][0x0][_0x44d323(0x5cc)],'vcard':await _0x52bedb(_0x53de15[_0x44d323(0x566)][0x0])}:_0x5aac75[_0x44d323(0x1f5)]={'displayName':_0x53de15[_0x44d323(0x566)][_0x44d323(0x675)]+'\x20contacts','contacts':await Promise[_0x44d323(0x62b)](_0x53de15[_0x44d323(0x566)][_0x44d323(0x62e)](async _0x2de3fe=>({'displayName':_0x2de3fe[_0x44d323(0x5cc)],'vcard':await _0x52bedb(_0x2de3fe)})))},await this[_0x44d323(0x7a4)](_0x53de15[_0x44d323(0x291)],{..._0x5aac75},_0x53de15?.[_0x44d323(0x2cb)]);}async[a0_0x7b141d(0x6fe)](_0x105aaf){const _0x215b31=a0_0x7b141d;return await this[_0x215b31(0x7a4)](_0x105aaf[_0x215b31(0x6fe)][_0x215b31(0x69b)]['remoteJid'],{'reactionMessage':{'key':_0x105aaf['reactionMessage'][_0x215b31(0x69b)],'text':_0x105aaf[_0x215b31(0x6fe)][_0x215b31(0x7f3)]}});}async[a0_0x7b141d(0x534)](_0x477c57){const _0xbb4672=a0_0x7b141d;let _0x38ab9d=[];for await(let _0x3a4b29 of _0x477c57[_0xbb4672(0x312)]){let _0x4291b2=this['createJid'](_0x3a4b29),_0x26cbff=!0x1;try{if((0x0,w['isJidGroup'])(_0x4291b2)){let _0x4a1127=(await this[_0xbb4672(0x60c)]['chat'][_0xbb4672(0x89d)]({'where':{'_id':_0x4291b2}},this[_0xbb4672(0x194)][_0xbb4672(0x2ab)]))[_0xbb4672(0x243)];_0x4a1127?(_0x26cbff=!0x0,_0x38ab9d[_0xbb4672(0x7a1)](new ue(_0x4a1127['id'],_0x26cbff,_0x4a1127?.[_0xbb4672(0x4ad)]))):(_0x4a1127=await this[_0xbb4672(0x406)]({'groupJid':_0x4291b2},_0xbb4672(0x5bf)),_0x38ab9d[_0xbb4672(0x7a1)](new ue(_0x4a1127['id'],!!_0x4a1127?.['id'],_0x4a1127?.[_0xbb4672(0x4ad)])));}else{if(_0x4291b2[_0xbb4672(0x87b)](_0xbb4672(0x884)))_0x38ab9d[_0xbb4672(0x7a1)](new ue(_0x4291b2,!0x0));else{let _0x279be6=(await this[_0xbb4672(0x523)][_0xbb4672(0x36c)](_0x4291b2))[0x0];_0x38ab9d[_0xbb4672(0x7a1)](new ue(_0x279be6['jid'],_0x279be6[_0xbb4672(0x2a1)]));}}}catch{(0x0,w[_0xbb4672(0x3b2)])(_0x4291b2)||await this['deleteImportedChat'](_0x4291b2),_0x38ab9d['push'](new ue(_0x3a4b29,!0x1));}}return _0x38ab9d;}async[a0_0x7b141d(0x20b)](_0x51cec6){const _0x4a9e33=a0_0x7b141d;try{await this[_0x4a9e33(0x60c)][_0x4a9e33(0x624)][_0x4a9e33(0x89d)]({'where':{'_id':_0x51cec6,'imported':!0x0}},this[_0x4a9e33(0x194)]['wuid'])&&(await this[_0x4a9e33(0x60c)]['chat']['deleteChat'](_0x51cec6,this['instance'][_0x4a9e33(0x2ab)]),this[_0x4a9e33(0x222)][_0x4a9e33(0x59c)]('Chat\x20com\x20ID\x20'+_0x51cec6+_0x4a9e33(0x346)));}catch(_0x5afa8a){let _0x16c616=_0x4a9e33(0x4e8),_0xa92c50=_0x5afa8a instanceof Error?_0x5afa8a[_0x4a9e33(0x1f9)]:typeof _0x5afa8a==_0x4a9e33(0x5ec)?JSON[_0x4a9e33(0x22d)](_0x5afa8a):_0x5afa8a,_0x57eac9=_0x16c616+':\x20'+_0xa92c50;this[_0x4a9e33(0x222)][_0x4a9e33(0x4b9)](this[_0x4a9e33(0x488)]+'\x20('+this['instance']['wuid']+_0x4a9e33(0x21e)+_0x57eac9);}}async[a0_0x7b141d(0x370)](_0x27b8c3){const _0x10429d=a0_0x7b141d;try{let _0x44a24e=_0x27b8c3[_0x10429d(0x8c3)]['filter'](_0x5abc4a=>(0x0,w[_0x10429d(0x3b2)])(_0x5abc4a[_0x10429d(0x230)])||(0x0,w[_0x10429d(0x37f)])(_0x5abc4a[_0x10429d(0x230)]))['map'](_0x4b1711=>({'remoteJid':_0x4b1711[_0x10429d(0x230)],'fromMe':_0x4b1711[_0x10429d(0x4a2)],'id':_0x4b1711['id']}));await this[_0x10429d(0x523)][_0x10429d(0x8c3)](_0x44a24e);let _0x60e6dc=_0x44a24e['map'](_0x2c4411=>this['updateMessage'](_0x2c4411,{'status':_0x10429d(0x41f),'owner':this[_0x10429d(0x194)][_0x10429d(0x2ab)]})),_0x28767c=_0x44a24e[_0x10429d(0x62e)](_0x10c718=>this[_0x10429d(0x60c)][_0x10429d(0x624)][_0x10429d(0x319)]({'where':{'_id':_0x10c718['remoteJid']}},{'unreadcount':0x0},this[_0x10429d(0x194)][_0x10429d(0x2ab)])),[_0x337b75,_0x180dc0]=await Promise[_0x10429d(0x62b)]([Promise['all'](_0x60e6dc),Promise[_0x10429d(0x62b)](_0x28767c)]);return _0x180dc0[_0x10429d(0x499)](_0x49ff30=>_0x49ff30!==null)[_0x10429d(0x677)](_0x41328d=>{const _0x2c73ed=_0x10429d;F(this[_0x2c73ed(0x488)],'chats',{'chat':_0x41328d});}),{'message':'Read\x20messages','read':_0x10429d(0x161)};}catch(_0x5ebeda){let _0x182e98='Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida',_0x5058fe=_0x5ebeda instanceof Error?_0x5ebeda[_0x10429d(0x1f9)]:typeof _0x5ebeda==_0x10429d(0x5ec)?JSON[_0x10429d(0x22d)](_0x5ebeda):_0x5ebeda,_0x3f5c95=_0x182e98+':\x20'+_0x5058fe;throw this[_0x10429d(0x222)][_0x10429d(0x4b9)](this[_0x10429d(0x488)]+'\x20('+this[_0x10429d(0x194)][_0x10429d(0x2ab)]+_0x10429d(0x21e)+_0x3f5c95),new x(_0x3f5c95);}}async[a0_0x7b141d(0x7e2)](_0x48291a){const _0x23099d=a0_0x7b141d;let _0x35b53e={'where':{'key':{'remoteJid':_0x48291a}},'limit':0x1},_0x18f7a4=await this[_0x23099d(0x1fc)](_0x35b53e);return _0x18f7a4||(this[_0x23099d(0x222)][_0x23099d(0x4b9)](_0x23099d(0x5d8)+_0x48291a),null);}async[a0_0x7b141d(0x522)](_0x175c0e){const _0x353677=a0_0x7b141d;this[_0x353677(0x222)][_0x353677(0x8c4)](this[_0x353677(0x488)]+'\x20('+this[_0x353677(0x194)][_0x353677(0x2ab)]+_0x353677(0x6dc));try{let _0x4fb48c=_0x175c0e[_0x353677(0x272)],_0x2b8e6f=_0x175c0e[_0x353677(0x624)];if(!_0x4fb48c&&_0x2b8e6f?_0x4fb48c=await this['getLastMessage'](_0x2b8e6f):(_0x4fb48c=_0x175c0e['lastMessage'],_0x4fb48c[_0x353677(0x175)]=_0x4fb48c?.[_0x353677(0x175)]??Date[_0x353677(0x849)](),_0x2b8e6f=_0x4fb48c?.[_0x353677(0x69b)]?.['remoteJid']),!_0x4fb48c||Object['keys'](_0x4fb48c)[_0x353677(0x675)]===0x0)throw new U('Last\x20message\x20not\x20found');this[_0x353677(0x222)][_0x353677(0x8c4)](this[_0x353677(0x488)]+'\x20('+this[_0x353677(0x194)][_0x353677(0x2ab)]+_0x353677(0x40a)+_0x2b8e6f);try{await this[_0x353677(0x523)][_0x353677(0x353)]({'archive':_0x175c0e[_0x353677(0x7eb)],'lastMessages':[_0x4fb48c]},this[_0x353677(0x1d3)](_0x2b8e6f));}catch(_0x4789d9){let _0x50b009=_0x353677(0x4de)+_0x2b8e6f,_0x33d03a=_0x4789d9 instanceof Error?_0x4789d9[_0x353677(0x1f9)]:typeof _0x4789d9==_0x353677(0x5ec)?JSON[_0x353677(0x22d)](_0x4789d9):_0x4789d9,_0x1dae53=_0x50b009+':\x20'+_0x33d03a;this[_0x353677(0x222)]['error'](this['instanceName']+'\x20('+this[_0x353677(0x194)][_0x353677(0x2ab)]+_0x353677(0x21e)+_0x1dae53);}this['logger'][_0x353677(0x8c4)](this[_0x353677(0x488)]+'\x20('+this[_0x353677(0x194)]['wuid']+_0x353677(0x2a2)+_0x2b8e6f);let _0x3e7dac=await this[_0x353677(0x60c)][_0x353677(0x624)][_0x353677(0x319)]({'where':{'_id':_0x4fb48c?.[_0x353677(0x69b)]?.[_0x353677(0x230)]}},{'archived':_0x175c0e[_0x353677(0x7eb)]},this[_0x353677(0x194)][_0x353677(0x2ab)]);return _0x3e7dac?(this[_0x353677(0x222)][_0x353677(0x8c4)](this[_0x353677(0x488)]+'\x20('+this[_0x353677(0x194)][_0x353677(0x2ab)]+_0x353677(0x852)+JSON[_0x353677(0x22d)](_0x3e7dac)),F(this[_0x353677(0x488)],_0x353677(0x2fb),{'chat':_0x3e7dac})):this[_0x353677(0x222)][_0x353677(0x4b9)](this[_0x353677(0x488)]+'\x20('+this[_0x353677(0x194)][_0x353677(0x2ab)]+_0x353677(0x57c)+_0x2b8e6f),{'chatId':_0x2b8e6f,'archived':_0x175c0e[_0x353677(0x7eb)]};}catch(_0x56404d){let _0x4cb1de=_0x353677(0x3c4),_0xad47dc=_0x56404d instanceof Error?_0x56404d[_0x353677(0x1f9)]:typeof _0x56404d==_0x353677(0x5ec)?JSON[_0x353677(0x22d)](_0x56404d):_0x56404d,_0x5c3fff=_0x4cb1de+':\x20'+_0xad47dc;throw this[_0x353677(0x222)]['error'](this[_0x353677(0x488)]+'\x20('+this['instance'][_0x353677(0x2ab)]+_0x353677(0x21e)+_0x5c3fff),new x(_0x5c3fff);}}async[a0_0x7b141d(0x857)](_0x46d18e){const _0x17bcde=a0_0x7b141d;this[_0x17bcde(0x222)][_0x17bcde(0x8c4)](this[_0x17bcde(0x488)]+'\x20('+this['instance']['wuid']+_0x17bcde(0x52c));try{let _0x42bbd8=await this[_0x17bcde(0x7e2)](_0x46d18e);if(!_0x42bbd8||Object[_0x17bcde(0x679)](_0x42bbd8)[_0x17bcde(0x675)]===0x0)throw new U(_0x17bcde(0x1c0));let _0x2ef83e=_0x42bbd8[0x0];this['logger'][_0x17bcde(0x8c4)](this['instanceName']+'\x20('+this[_0x17bcde(0x194)][_0x17bcde(0x2ab)]+_0x17bcde(0x494)+_0x46d18e);try{await this[_0x17bcde(0x523)][_0x17bcde(0x353)]({'delete':!0x0,'lastMessages':[{'key':_0x2ef83e['key'],'messageTimestamp':_0x2ef83e[_0x17bcde(0x175)]}]},this[_0x17bcde(0x1d3)](_0x46d18e));}catch(_0x2bfc62){this['logger'][_0x17bcde(0x4b9)](_0x17bcde(0x4de)+_0x46d18e+':\x20'+_0x2bfc62[_0x17bcde(0x7b0)]());}this[_0x17bcde(0x222)]['verbose'](this[_0x17bcde(0x488)]+'\x20('+this[_0x17bcde(0x194)][_0x17bcde(0x2ab)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x46d18e);return;}catch(_0x423542){throw this[_0x17bcde(0x222)][_0x17bcde(0x4b9)](this[_0x17bcde(0x488)]+'\x20('+this['instance'][_0x17bcde(0x2ab)]+_0x17bcde(0x49f)+_0x423542['toString']()),new x({'archived':!0x1,'message':[_0x17bcde(0x4ed),_0x423542['toString']()]});}}async['deleteMessage'](_0x208b42){const _0x45b328=a0_0x7b141d;try{let _0x2cd74e=await this[_0x45b328(0x523)][_0x45b328(0x43e)](_0x208b42[_0x45b328(0x230)],{'delete':_0x208b42});try{let _0x58e53f=await this[_0x45b328(0x7f1)](_0x208b42,{'status':_0x45b328(0x5aa),'owner':this[_0x45b328(0x194)][_0x45b328(0x2ab)]});this[_0x45b328(0x222)][_0x45b328(0x8c4)](this[_0x45b328(0x488)]+'\x20('+this[_0x45b328(0x194)][_0x45b328(0x2ab)]+_0x45b328(0x4a4)+_0x58e53f);}catch(_0x512c21){this[_0x45b328(0x222)]['error']('Error\x20updating\x20message\x20status:'+_0x512c21);}return _0x2cd74e;}catch(_0x334936){throw new x(_0x45b328(0x364),_0x334936?.[_0x45b328(0x7b0)]());}}async[a0_0x7b141d(0x569)](_0xacc450){const _0x1f80a2=a0_0x7b141d;try{let _0x50ec2b=_0xacc450?.[_0x1f80a2(0x1f9)]?_0xacc450:await this['getMessage'](_0xacc450['key'],!0x0);for(let _0x382d5c of Na)_0x50ec2b[_0x1f80a2(0x1f9)][_0x382d5c]&&(_0x50ec2b['message']=_0x50ec2b['message'][_0x382d5c][_0x1f80a2(0x1f9)]);let _0x3da0ff,_0x46cf49;for(let _0x1e0117 of va)if(_0x3da0ff=_0x50ec2b['message'][_0x1e0117],_0x3da0ff){_0x46cf49=_0x1e0117;break;}if(!_0x3da0ff)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x3da0ff[_0x1f80a2(0x1c4)]==_0x1f80a2(0x5ec)&&(_0x50ec2b[_0x1f80a2(0x1f9)]=JSON[_0x1f80a2(0x7da)](JSON[_0x1f80a2(0x22d)](_0x50ec2b['message'])));let _0x378f8c=await(0x0,w[_0x1f80a2(0x538)])({'key':_0x50ec2b?.[_0x1f80a2(0x69b)],'message':_0x50ec2b?.['message']},_0x1f80a2(0x1c2),{},{'logger':(0x0,Ft['default'])({'level':_0x1f80a2(0x1a8)}),'reuploadRequest':this[_0x1f80a2(0x523)]['updateMediaMessage']});if(!(_0x378f8c instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x23f8b0=this[_0x1f80a2(0x695)][_0x1f80a2(0x6c9)](_0x1f80a2(0x6ad)),_0x2971e9,_0x433bb3;if(_0x3da0ff[_0x1f80a2(0x7ed)])_0x2971e9=_0x3da0ff[_0x1f80a2(0x7ed)];else{let _0x280c18=_0x3da0ff[_0x1f80a2(0x3fd)]?.['match'](/\/(\w+)/),_0x3abc45=_0x280c18?_0x280c18[0x1]:null;if(!_0x3abc45)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0x2971e9=(0x0,Y['v4'])()+'.'+_0x3abc45;}_0x46cf49===_0x1f80a2(0x251)?_0x433bb3=_0x1f80a2(0x448)+await this[_0x1f80a2(0x54a)](_0x378f8c['toString']('base64')):(await this[_0x1f80a2(0x407)](_0x378f8c,_0x2971e9),_0x433bb3='/media/'+_0x2971e9);let _0x1f5fcf=this[_0x1f80a2(0x695)]['get'](_0x1f80a2(0x653))[_0x1f80a2(0x5b5)];if(!_0x1f5fcf){let _0x46592a=this[_0x1f80a2(0x695)][_0x1f80a2(0x6c9)]('SSL_CONF');_0x1f5fcf=_0x1f80a2(0x609)+(_0x46592a&&_0x46592a[_0x1f80a2(0x692)][_0x1f80a2(0x20d)]('/')[0x4]);}_0x433bb3=''+_0x1f5fcf+_0x433bb3;let _0x3f2562=0xc*0x3c*0x3c*0x3e8,_0x3e69fa={'where':{'_id':_0x50ec2b[_0x1f80a2(0x69b)]['id']}},_0x391d47={'message_normalized.fileUrl':_0x433bb3,'message_normalized.expires_fileUrl':Date[_0x1f80a2(0x849)]()+_0x3f2562};try{let _0x2390d8=await this[_0x1f80a2(0x60c)][_0x1f80a2(0x1f9)]['update'](_0x3e69fa,_0x391d47,this[_0x1f80a2(0x194)][_0x1f80a2(0x2ab)]);_0x2390d8&&F(this[_0x1f80a2(0x488)],_0x1f80a2(0x32f),{'message':_0x2390d8});}catch(_0x1e666f){let _0x431206=_0x1f80a2(0x656),_0x5c2887=_0x1e666f instanceof Error?_0x1e666f[_0x1f80a2(0x1f9)]:typeof _0x1e666f==_0x1f80a2(0x5ec)?JSON[_0x1f80a2(0x22d)](_0x1e666f):_0x1e666f,_0x12551e=_0x431206+':\x20'+_0x5c2887;this[_0x1f80a2(0x222)][_0x1f80a2(0x4b9)](this[_0x1f80a2(0x488)]+'\x20('+this['instance'][_0x1f80a2(0x2ab)]+_0x1f80a2(0x21e)+_0x12551e);}return{'mediaType':_0x46cf49,'fileName':_0x3da0ff[_0x1f80a2(0x7ed)],'caption':_0x3da0ff['caption'],'size':{'fileLength':_0x3da0ff[_0x1f80a2(0x8aa)],'height':_0x3da0ff[_0x1f80a2(0x47d)],'width':_0x3da0ff[_0x1f80a2(0x6c5)]},'mimetype':_0x3da0ff[_0x1f80a2(0x3fd)],'base64':_0x378f8c[_0x1f80a2(0x7b0)](_0x1f80a2(0x1de)),'fileUrl':_0x433bb3,'expires_fileUrl':Date[_0x1f80a2(0x849)]()+_0x3f2562};}catch(_0x2747de){let _0x97f8ac=_0x1f80a2(0x6d3),_0x2f4998=_0x2747de instanceof Error?_0x2747de[_0x1f80a2(0x1f9)]:typeof _0x2747de=='object'?JSON['stringify'](_0x2747de):_0x2747de,_0x58f072=_0x97f8ac+':\x20'+_0x2f4998;throw this['logger'][_0x1f80a2(0x4b9)](this[_0x1f80a2(0x488)]+'\x20('+this['instance']['wuid']+_0x1f80a2(0x21e)+_0x58f072),new m(_0x58f072);}}async[a0_0x7b141d(0x407)](_0x245c97,_0x54b86b){const _0x197a05=a0_0x7b141d;let _0x555391=j[_0x197a05(0x2cf)][_0x197a05(0x797)](__dirname,_0x197a05(0x89f));k[_0x197a05(0x713)](_0x555391)||k['mkdirSync'](_0x555391,{'recursive':!0x0});let _0x4b4e65=j[_0x197a05(0x2cf)][_0x197a05(0x797)](_0x555391,_0x54b86b);return new Promise((_0x2828d5,_0x33a2c1)=>{const _0x5964f0=_0x197a05;k[_0x5964f0(0x699)](_0x4b4e65,_0x245c97,_0x5b11e0=>{const _0xcaaf9c=_0x5964f0;_0x5b11e0?(this['logger']['error'](_0xcaaf9c(0x899)+(_0x5b11e0 instanceof Error?_0x5b11e0[_0xcaaf9c(0x1f9)]:JSON['stringify'](_0x5b11e0,null,0x2))),_0x33a2c1(_0x5b11e0)):(this[_0xcaaf9c(0x222)][_0xcaaf9c(0x54c)](_0xcaaf9c(0x630)+_0x4b4e65),_0x2828d5(_0x4b4e65));});});}async[a0_0x7b141d(0x7c5)](_0x5dfc56){const _0x18cc21=a0_0x7b141d;return await this[_0x18cc21(0x60c)][_0x18cc21(0x530)]['find'](_0x5dfc56,this[_0x18cc21(0x194)][_0x18cc21(0x2ab)]);}async[a0_0x7b141d(0x6d0)](){const _0x34d8f3=a0_0x7b141d;return await this[_0x34d8f3(0x60c)]['label'][_0x34d8f3(0x61f)]({'where':{}},this[_0x34d8f3(0x194)]['wuid']);}async[a0_0x7b141d(0x1fc)](_0x51c234){const _0x1d4c55=a0_0x7b141d;return await this[_0x1d4c55(0x60c)][_0x1d4c55(0x1f9)][_0x1d4c55(0x61f)](_0x51c234,this[_0x1d4c55(0x194)][_0x1d4c55(0x2ab)]);}async[a0_0x7b141d(0x816)](){const _0x840fa5=a0_0x7b141d;return this[_0x840fa5(0x60c)]['chat'][_0x840fa5(0x85b)](this['instance'][_0x840fa5(0x2ab)]),this[_0x840fa5(0x60c)][_0x840fa5(0x624)]['updateMissingEtiquetas'](this[_0x840fa5(0x194)][_0x840fa5(0x2ab)]),this['repository'][_0x840fa5(0x624)][_0x840fa5(0x1b4)](this['instance'][_0x840fa5(0x2ab)]),this[_0x840fa5(0x60c)][_0x840fa5(0x624)][_0x840fa5(0x54d)](this[_0x840fa5(0x194)][_0x840fa5(0x2ab)]),await this['repository'][_0x840fa5(0x624)][_0x840fa5(0x61f)]({'where':{}},this[_0x840fa5(0x194)][_0x840fa5(0x2ab)]);}async[a0_0x7b141d(0x883)](_0x320760){const _0x5b048c=a0_0x7b141d;try{if(!Array[_0x5b048c(0x635)](_0x320760)||_0x320760[_0x5b048c(0x675)]===0x0)throw new Error(_0x5b048c(0x7f6));let _0x2e9c87=[],_0x3fe849=[];for(let _0x2ef0c5 of _0x320760){if(_0x2ef0c5[_0x5b048c(0x39f)])_0x2ef0c5[_0x5b048c(0x39f)]=this[_0x5b048c(0x1d3)](_0x2ef0c5['_id']);else continue;await this[_0x5b048c(0x60c)][_0x5b048c(0x624)]['findOne']({'where':{'_id':_0x2ef0c5['_id']}},this[_0x5b048c(0x194)][_0x5b048c(0x2ab)])?_0x3fe849[_0x5b048c(0x7a1)]({'_id':_0x2ef0c5[_0x5b048c(0x39f)],'leadInfo':_0x2ef0c5[_0x5b048c(0x77d)],'owner':this['instance']['wuid']}):_0x2e9c87[_0x5b048c(0x7a1)]({'_id':_0x2ef0c5[_0x5b048c(0x39f)],'owner':this[_0x5b048c(0x194)][_0x5b048c(0x2ab)],'leadInfo':_0x2ef0c5[_0x5b048c(0x77d)],'imported':!0x0});}return _0x3fe849['length']>0x0&&await this[_0x5b048c(0x60c)][_0x5b048c(0x624)][_0x5b048c(0x427)](_0x3fe849[_0x5b048c(0x62e)](_0x3fca42=>({'query':{'where':{'_id':_0x3fca42[_0x5b048c(0x39f)],'owner':this[_0x5b048c(0x194)][_0x5b048c(0x2ab)]}},'update':_0x3fca42}))),_0x2e9c87[_0x5b048c(0x675)]>0x0&&await this[_0x5b048c(0x60c)]['chat']['insertMany'](_0x2e9c87,this[_0x5b048c(0x194)][_0x5b048c(0x2ab)]),{'updated':_0x3fe849[_0x5b048c(0x675)],'inserted':_0x2e9c87[_0x5b048c(0x675)]};}catch(_0x1ccf5a){let _0xa7c737=_0x5b048c(0x806),_0x4afbaf=_0x1ccf5a instanceof Error?_0x1ccf5a[_0x5b048c(0x1f9)]:typeof _0x1ccf5a==_0x5b048c(0x5ec)?JSON['stringify'](_0x1ccf5a):_0x1ccf5a,_0xf31389=_0xa7c737+':\x20'+_0x4afbaf;throw this[_0x5b048c(0x222)][_0x5b048c(0x4b9)](this[_0x5b048c(0x488)]+'\x20('+this[_0x5b048c(0x194)]['wuid']+'):\x20'+_0xf31389),new m(_0xf31389);}}async['importChats'](_0x1a8d65){const _0x18afd5=a0_0x7b141d;try{if(!Array['isArray'](_0x1a8d65)||_0x1a8d65[_0x18afd5(0x675)]===0x0)throw new Error(_0x18afd5(0x7f6));let _0x4b01af=0x64,_0x5e3f1d=0x0;for(let _0x29b4b1=0x0;_0x29b4b1<_0x1a8d65['length'];_0x29b4b1+=_0x4b01af){let _0x46d8d7=_0x1a8d65['slice'](_0x29b4b1,_0x29b4b1+_0x4b01af),{updated:_0x2abaab}=await this[_0x18afd5(0x79a)](_0x46d8d7);_0x5e3f1d+=_0x2abaab;}return{'updated':_0x5e3f1d};}catch(_0x182d36){let _0x445451=_0x18afd5(0x806),_0x420589=_0x182d36 instanceof Error?_0x182d36[_0x18afd5(0x1f9)]:typeof _0x182d36=='object'?JSON[_0x18afd5(0x22d)](_0x182d36):_0x182d36,_0x3b6eec=_0x445451+':\x20'+_0x420589;throw this[_0x18afd5(0x222)][_0x18afd5(0x4b9)](this[_0x18afd5(0x488)]+'\x20('+this[_0x18afd5(0x194)]['wuid']+'):\x20'+_0x3b6eec),new m(_0x3b6eec);}}async[a0_0x7b141d(0x79a)](_0x22b402){const _0x2fcf51=a0_0x7b141d;try{let _0x49ef89=await this[_0x2fcf51(0x60c)][_0x2fcf51(0x56c)][_0x2fcf51(0x61f)]({'where':{}},this[_0x2fcf51(0x194)][_0x2fcf51(0x2ab)]),_0x17171a=new Set(_0x49ef89[_0x2fcf51(0x62e)](_0x483cf5=>_0x483cf5['_id'])),_0x20c784=[],_0x1a5c27=[];for(let _0x1771b0 of _0x22b402){if(!_0x1771b0[_0x2fcf51(0x39f)])continue;_0x1771b0[_0x2fcf51(0x39f)]=this[_0x2fcf51(0x1d3)](_0x1771b0[_0x2fcf51(0x39f)]);let _0x5b5988=await this[_0x2fcf51(0x60c)][_0x2fcf51(0x624)][_0x2fcf51(0x89d)]({'where':{'_id':_0x1771b0[_0x2fcf51(0x39f)]}},this[_0x2fcf51(0x194)][_0x2fcf51(0x2ab)]),_0x1bd88e={};if(Object[_0x2fcf51(0x6e4)](_0x1771b0['leadInfo'])['forEach'](([_0x16098a,_0x1aa190])=>{const _0x422a7e=_0x2fcf51;_0x1bd88e[_0x422a7e(0x55e)+_0x16098a]=_0x1aa190;}),_0x5b5988&&!_0x5b5988[_0x2fcf51(0x213)]){let _0x4b63cb=(_0x1771b0[_0x2fcf51(0x77d)][_0x2fcf51(0x584)]||[])[_0x2fcf51(0x499)](_0x326b7e=>_0x17171a[_0x2fcf51(0x7cc)](_0x326b7e)),_0xe5d482=new Set(_0x5b5988['leadInfo'][_0x2fcf51(0x584)]||[]),_0x4ba395=_0x4b63cb['filter'](_0x1fcfa4=>!_0xe5d482[_0x2fcf51(0x7cc)](_0x1fcfa4)),_0xa4ed7a=[..._0xe5d482][_0x2fcf51(0x499)](_0x28c1ea=>!_0x4b63cb['includes'](_0x28c1ea));_0x1a5c27[_0x2fcf51(0x7a1)](..._0x4ba395[_0x2fcf51(0x62e)](_0x537b89=>this['AddChatLabel'](_0x537b89,_0x1771b0['_id']))),_0x1a5c27[_0x2fcf51(0x7a1)](..._0xa4ed7a[_0x2fcf51(0x62e)](_0x1aef71=>this['RemoveChatLabel'](_0x1aef71,_0x1771b0['_id']))),_0x1771b0[_0x2fcf51(0x77d)][_0x2fcf51(0x584)]=_0x4b63cb,_0x20c784[_0x2fcf51(0x7a1)]({'query':{'where':{'_id':_0x1771b0[_0x2fcf51(0x39f)],'owner':this[_0x2fcf51(0x194)]['wuid']}},'update':_0x1bd88e});}else _0x1bd88e[_0x2fcf51(0x213)]=!0x0,_0x20c784[_0x2fcf51(0x7a1)]({'query':{'where':{'_id':_0x1771b0[_0x2fcf51(0x39f)],'owner':this[_0x2fcf51(0x194)]['wuid']}},'update':_0x1bd88e});}let _0x1a413f=await this[_0x2fcf51(0x60c)][_0x2fcf51(0x624)][_0x2fcf51(0x427)](_0x20c784);return await Promise['all'](_0x1a5c27),{'updated':_0x1a413f};}catch(_0x191da1){let _0x4c88ba=_0x2fcf51(0x806),_0x247db9=_0x191da1 instanceof Error?_0x191da1[_0x2fcf51(0x1f9)]:typeof _0x191da1=='object'?JSON[_0x2fcf51(0x22d)](_0x191da1):_0x191da1,_0x307c21=_0x4c88ba+':\x20'+_0x247db9;throw this[_0x2fcf51(0x222)]['error'](this[_0x2fcf51(0x488)]+'\x20('+this['instance']['wuid']+_0x2fcf51(0x21e)+_0x307c21),new m(_0x307c21);}}async[a0_0x7b141d(0x8b6)](){const _0x12ae13=a0_0x7b141d;return await this['client'][_0x12ae13(0x8b6)]();}async['updatePrivacySettings'](_0x97e560){const _0xb52193=a0_0x7b141d;try{return await this[_0xb52193(0x523)]['updateReadReceiptsPrivacy'](_0x97e560[_0xb52193(0x47a)][_0xb52193(0x41a)]),await this[_0xb52193(0x523)][_0xb52193(0x401)](_0x97e560[_0xb52193(0x47a)][_0xb52193(0x25e)]),await this['client'][_0xb52193(0x81c)](_0x97e560[_0xb52193(0x47a)][_0xb52193(0x756)]),await this[_0xb52193(0x523)]['updateOnlinePrivacy'](_0x97e560[_0xb52193(0x47a)][_0xb52193(0x50e)]),await this[_0xb52193(0x523)]['updateLastSeenPrivacy'](_0x97e560[_0xb52193(0x47a)]['last']),await this[_0xb52193(0x523)][_0xb52193(0x51b)](_0x97e560[_0xb52193(0x47a)][_0xb52193(0x61b)]),this[_0xb52193(0x523)]?.['ws']?.[_0xb52193(0x461)](),{'update':_0xb52193(0x161),'data':{'readreceipts':_0x97e560['privacySettings'][_0xb52193(0x41a)],'profile':_0x97e560[_0xb52193(0x47a)][_0xb52193(0x25e)],'status':_0x97e560['privacySettings']['status'],'online':_0x97e560['privacySettings'][_0xb52193(0x50e)],'last':_0x97e560[_0xb52193(0x47a)][_0xb52193(0x3b8)],'groupadd':_0x97e560[_0xb52193(0x47a)][_0xb52193(0x61b)]}};}catch(_0x447fa6){let _0x1ed0dc=_0xb52193(0x342),_0x165d02=_0x447fa6 instanceof Error?_0x447fa6['message']:typeof _0x447fa6=='object'?JSON[_0xb52193(0x22d)](_0x447fa6):_0x447fa6,_0x2f48a8=_0x1ed0dc+':\x20'+_0x165d02;throw this['logger'][_0xb52193(0x4b9)](this[_0xb52193(0x488)]+'\x20('+this['instance'][_0xb52193(0x2ab)]+_0xb52193(0x21e)+_0x2f48a8),new m(_0x2f48a8);}}async[a0_0x7b141d(0x24b)](_0x1a4518){const _0x5a5fe4=a0_0x7b141d;let _0x4c84d7=(_0x1a4518?this[_0x5a5fe4(0x1d3)](_0x1a4518):this[_0x5a5fe4(0x523)]?.[_0x5a5fe4(0x2eb)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x5a5fe4(0x222)]['verbose'](this[_0x5a5fe4(0x488)]+'\x20('+this['instance'][_0x5a5fe4(0x2ab)]+_0x5a5fe4(0x3bb)+_0x4c84d7);let _0x8706dd=await this['repository']['contact'][_0x5a5fe4(0x89d)]({'where':{'_id':_0x4c84d7}},this[_0x5a5fe4(0x194)][_0x5a5fe4(0x2ab)]),_0x3ffa77=_0x8706dd?_0x8706dd[_0x5a5fe4(0x191)]:null;try{let _0x24e684=(await this[_0x5a5fe4(0x534)]({'numbers':[_0x4c84d7]}))?.[_0x5a5fe4(0x6e3)](),_0x19853b=(await this[_0x5a5fe4(0x65c)](_0x4c84d7,null,!0x1))[_0x5a5fe4(0x273)][_0x5a5fe4(0x1d1)],_0x1fb055=await this[_0x5a5fe4(0x1f0)](_0x24e684?.[_0x5a5fe4(0x37a)]),_0x5f0ab0=await this[_0x5a5fe4(0x2e3)](_0x24e684?.['jid']),_0xd370d2=(await this[_0x5a5fe4(0x65c)](_0x4c84d7,null,!0x1))[_0x5a5fe4(0x273)][_0x5a5fe4(0x3f5)],_0x8ed460=await this[_0x5a5fe4(0x60c)][_0x5a5fe4(0x624)][_0x5a5fe4(0x89d)]({'where':{'_id':_0x4c84d7}},this[_0x5a5fe4(0x194)][_0x5a5fe4(0x2ab)]),_0x410709={'imagechat':_0x19853b,'contactname':_0x3ffa77||null,'pushName':_0xd370d2,'status':_0x1fb055?.[_0x5a5fe4(0x756)],'isBusiness':_0x5f0ab0[_0x5a5fe4(0x583)],'email':_0x5f0ab0?.[_0x5a5fe4(0x592)],'description':_0x5f0ab0?.['description'],'website':_0x5f0ab0?.[_0x5a5fe4(0x670)]?.[_0x5a5fe4(0x6e3)](),'lastcache':Date[_0x5a5fe4(0x849)](),'imported':!_0x8ed460},_0x3e791d=await this[_0x5a5fe4(0x60c)][_0x5a5fe4(0x624)]['updateOne']({'where':{'_id':_0x4c84d7}},_0x410709,this[_0x5a5fe4(0x194)][_0x5a5fe4(0x2ab)]),_0x2a95be={'owner':this['instance']['wuid'],'_id':_0x4c84d7,'profilePictureUrl':_0x19853b,'status':_0x1fb055?.['status']};return this[_0x5a5fe4(0x60c)][_0x5a5fe4(0x530)]['update']([_0x2a95be],this[_0x5a5fe4(0x194)][_0x5a5fe4(0x2ab)]),_0x3e791d&&F(this[_0x5a5fe4(0x488)],'chats',{'chat':_0x3e791d}),{'wuid':_0x24e684?.['jid']||_0x4c84d7,'name':_0x24e684?.[_0x5a5fe4(0x3f5)],'pushName':_0xd370d2,'numberExists':_0x24e684?.['exists'],'picture':_0x19853b,'status':_0x1fb055?.[_0x5a5fe4(0x756)],'isBusiness':_0x5f0ab0[_0x5a5fe4(0x583)],'email':_0x5f0ab0?.[_0x5a5fe4(0x592)],'description':_0x5f0ab0?.['description'],'website':_0x5f0ab0?.[_0x5a5fe4(0x670)]?.[_0x5a5fe4(0x6e3)]()};}catch(_0xef8e3d){return this['logger'][_0x5a5fe4(0x4b9)](_0x5a5fe4(0x14f)+(_0xef8e3d instanceof Error?_0xef8e3d[_0x5a5fe4(0x1f9)]:JSON[_0x5a5fe4(0x22d)](_0xef8e3d,null,0x2))),{};}}async[a0_0x7b141d(0x2e3)](_0x2b5c45){const _0x5d18fd=a0_0x7b141d;this[_0x5d18fd(0x222)][_0x5d18fd(0x8c4)](this[_0x5d18fd(0x488)]+'\x20('+this[_0x5d18fd(0x194)][_0x5d18fd(0x2ab)]+_0x5d18fd(0x50f));try{let _0x391a0f=_0x2b5c45?this[_0x5d18fd(0x1d3)](_0x2b5c45):this[_0x5d18fd(0x194)]['wuid'],_0x25e14a=await this['client']['getBusinessProfile'](_0x391a0f);return this[_0x5d18fd(0x222)][_0x5d18fd(0x8c4)](this[_0x5d18fd(0x488)]+'\x20('+this[_0x5d18fd(0x194)]['wuid']+_0x5d18fd(0x766)),_0x25e14a?(this[_0x5d18fd(0x222)][_0x5d18fd(0x8c4)](this[_0x5d18fd(0x488)]+'\x20('+this[_0x5d18fd(0x194)]['wuid']+_0x5d18fd(0x190)),{'isBusiness':!0x0,..._0x25e14a}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x5d18fd(0x534)]({'numbers':[_0x391a0f]}))?.[_0x5d18fd(0x6e3)]()};}catch(_0x4b8c57){let _0x14d919=_0x5d18fd(0x2d1),_0x4abdaa=_0x4b8c57 instanceof Error?_0x4b8c57[_0x5d18fd(0x1f9)]:typeof _0x4b8c57=='object'?JSON[_0x5d18fd(0x22d)](_0x4b8c57):_0x4b8c57,_0x502926=_0x14d919+':\x20'+_0x4abdaa;throw this['logger'][_0x5d18fd(0x4b9)](this[_0x5d18fd(0x488)]+'\x20('+this['instance']['wuid']+_0x5d18fd(0x21e)+_0x502926),new x(_0x502926);}}async[a0_0x7b141d(0x1f0)](_0x4d1241){const _0x1aee6e=a0_0x7b141d;let _0xb34d24=this['createJid'](_0x4d1241);try{return{'wuid':_0xb34d24,'status':(await this[_0x1aee6e(0x523)][_0x1aee6e(0x28d)](_0xb34d24))[0x0]?.[_0x1aee6e(0x756)]};}catch{return{'wuid':_0xb34d24,'status':null};}}async['updateProfileName'](_0x50b81f){const _0x49494d=a0_0x7b141d;try{return await this[_0x49494d(0x523)][_0x49494d(0x454)](_0x50b81f),{'update':_0x49494d(0x161)};}catch(_0x16692e){let _0x4d38a2=_0x49494d(0x25b),_0x17230c=_0x16692e instanceof Error?_0x16692e[_0x49494d(0x1f9)]:typeof _0x16692e==_0x49494d(0x5ec)?JSON[_0x49494d(0x22d)](_0x16692e):_0x16692e,_0x5ddb26=_0x4d38a2+':\x20'+_0x17230c;throw this[_0x49494d(0x222)][_0x49494d(0x4b9)](this[_0x49494d(0x488)]+'\x20('+this[_0x49494d(0x194)][_0x49494d(0x2ab)]+_0x49494d(0x21e)+_0x5ddb26),new x(_0x5ddb26);}}async[a0_0x7b141d(0x311)](_0x1a1f8b){const _0x455ad6=a0_0x7b141d;try{return await this[_0x455ad6(0x523)][_0x455ad6(0x311)](_0x1a1f8b),{'update':_0x455ad6(0x161)};}catch(_0x278542){let _0x1e494b=_0x455ad6(0x1b7),_0x48a52c=_0x278542 instanceof Error?_0x278542[_0x455ad6(0x1f9)]:typeof _0x278542=='object'?JSON[_0x455ad6(0x22d)](_0x278542):_0x278542,_0x1f8c60=_0x1e494b+':\x20'+_0x48a52c;throw this[_0x455ad6(0x222)][_0x455ad6(0x4b9)](this[_0x455ad6(0x488)]+'\x20('+this[_0x455ad6(0x194)][_0x455ad6(0x2ab)]+_0x455ad6(0x21e)+_0x1f8c60),new x(_0x1f8c60);}}async[a0_0x7b141d(0x432)](_0x41508f){const _0x44b86e=a0_0x7b141d;try{let _0x32d4e5;if((0x0,J[_0x44b86e(0x1e8)])(_0x41508f)){let _0x6ad90f=new Date()[_0x44b86e(0x68c)](),_0x214408=_0x41508f+'?timestamp='+_0x6ad90f;_0x32d4e5=(await Q['default'][_0x44b86e(0x6c9)](_0x214408,{'responseType':_0x44b86e(0x2a3)}))['data'];}else{if((0x0,J[_0x44b86e(0x40d)])(_0x41508f))_0x32d4e5=Buffer['from'](_0x41508f,_0x44b86e(0x1de));else throw new m(_0x44b86e(0x792));}return await this['client'][_0x44b86e(0x432)](this[_0x44b86e(0x194)]['wuid'],_0x32d4e5),{'update':_0x44b86e(0x161)};}catch(_0x4ae30d){let _0x23a2c3='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture',_0x1c1812=_0x4ae30d instanceof Error?_0x4ae30d[_0x44b86e(0x1f9)]:typeof _0x4ae30d==_0x44b86e(0x5ec)?JSON[_0x44b86e(0x22d)](_0x4ae30d):_0x4ae30d,_0x2a6a87=_0x23a2c3+':\x20'+_0x1c1812;throw this['logger'][_0x44b86e(0x4b9)](this[_0x44b86e(0x488)]+'\x20('+this['instance'][_0x44b86e(0x2ab)]+'):\x20'+_0x2a6a87),new x(_0x2a6a87);}}async[a0_0x7b141d(0x348)](){const _0x561bab=a0_0x7b141d;try{return await this['client']['removeProfilePicture'](this[_0x561bab(0x194)][_0x561bab(0x2ab)]),{'update':_0x561bab(0x161)};}catch(_0x2d36e4){let _0x4a69e2=_0x561bab(0x4fb),_0xc5aaea=_0x2d36e4 instanceof Error?_0x2d36e4[_0x561bab(0x1f9)]:typeof _0x2d36e4==_0x561bab(0x5ec)?JSON[_0x561bab(0x22d)](_0x2d36e4):_0x2d36e4,_0x47059e=_0x4a69e2+':\x20'+_0xc5aaea;throw this[_0x561bab(0x222)][_0x561bab(0x4b9)](this[_0x561bab(0x488)]+'\x20('+this[_0x561bab(0x194)][_0x561bab(0x2ab)]+_0x561bab(0x21e)+_0x47059e),new x(_0x47059e);}}async[a0_0x7b141d(0x35c)](_0x4785ab){const _0x10bf5c=a0_0x7b141d;try{let _0x5e7429=(await this[_0x10bf5c(0x534)]({'numbers':_0x4785ab[_0x10bf5c(0x5f3)]}))[_0x10bf5c(0x499)](_0x51445e=>_0x51445e[_0x10bf5c(0x2a1)])['map'](_0x32aa26=>_0x32aa26['jid']),{id:_0x55b003}=await this[_0x10bf5c(0x523)][_0x10bf5c(0x3b5)](_0x4785ab['subject'],_0x5e7429);_0x4785ab?.[_0x10bf5c(0x376)]&&await this[_0x10bf5c(0x523)]['groupUpdateDescription'](_0x55b003,_0x4785ab['description']);let _0x3ad529=await this[_0x10bf5c(0x523)][_0x10bf5c(0x627)](_0x55b003);return _0x3ad529[_0x10bf5c(0x42d)]=[],await this[_0x10bf5c(0x15d)](_0x3ad529),{'metadata':_0x3ad529};}catch(_0x5ccc0b){let _0x53c7c9='Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup',_0x58d462=_0x5ccc0b instanceof Error?_0x5ccc0b[_0x10bf5c(0x1f9)]:typeof _0x5ccc0b==_0x10bf5c(0x5ec)?JSON[_0x10bf5c(0x22d)](_0x5ccc0b):_0x5ccc0b,_0x277b93=_0x53c7c9+':\x20'+_0x58d462;throw this[_0x10bf5c(0x222)][_0x10bf5c(0x4b9)](this[_0x10bf5c(0x488)]+'\x20('+this['instance'][_0x10bf5c(0x2ab)]+_0x10bf5c(0x21e)+_0x277b93),new x(_0x277b93);}}async[a0_0x7b141d(0x5de)](_0xae91e0){const _0x1eea2b=a0_0x7b141d;try{if(_0xae91e0[_0x1eea2b(0x27b)]===!0x0&&await this[_0x1eea2b(0x523)][_0x1eea2b(0x30b)](_0xae91e0['groupJid'],_0x1eea2b(0x602)),_0xae91e0['restrict']===!0x1&&await this[_0x1eea2b(0x523)][_0x1eea2b(0x30b)](_0xae91e0['groupJid'],_0x1eea2b(0x399)),_0xae91e0[_0x1eea2b(0x8bc)]===!0x0&&await this['client'][_0x1eea2b(0x30b)](_0xae91e0[_0x1eea2b(0x219)],_0x1eea2b(0x290)),_0xae91e0['announce']===!0x1&&await this[_0x1eea2b(0x523)]['groupSettingUpdate'](_0xae91e0['groupJid'],_0x1eea2b(0x4fa)),_0xae91e0[_0x1eea2b(0x1fd)]===!0x0&&await this['client'][_0x1eea2b(0x46a)](_0xae91e0[_0x1eea2b(0x219)],_0x1eea2b(0x622)),_0xae91e0[_0x1eea2b(0x1fd)]===!0x1&&await this[_0x1eea2b(0x523)][_0x1eea2b(0x46a)](_0xae91e0['groupJid'],_0x1eea2b(0x6bf)),_0xae91e0[_0x1eea2b(0x2a9)]===!0x0&&await this[_0x1eea2b(0x523)]['groupJoinApprovalMode'](_0xae91e0[_0x1eea2b(0x219)],'on'),_0xae91e0['joinApprovalMode']===!0x1&&await this[_0x1eea2b(0x523)][_0x1eea2b(0x21c)](_0xae91e0[_0x1eea2b(0x219)],_0x1eea2b(0x207)),typeof _0xae91e0[_0x1eea2b(0x665)]<'u'&&_0xae91e0['expiration']!==null&&await this['client'][_0x1eea2b(0x66a)](_0xae91e0[_0x1eea2b(0x219)],_0xae91e0['expiration']),_0xae91e0[_0x1eea2b(0x3f5)]&&await this[_0x1eea2b(0x523)][_0x1eea2b(0x5f1)](_0xae91e0[_0x1eea2b(0x219)],_0xae91e0['name']),_0xae91e0[_0x1eea2b(0x376)]&&await this['client'][_0x1eea2b(0x55d)](_0xae91e0[_0x1eea2b(0x219)],_0xae91e0[_0x1eea2b(0x376)]),_0xae91e0[_0x1eea2b(0x24a)]){let _0x4d4f72;if((0x0,J[_0x1eea2b(0x1e8)])(_0xae91e0['image'])){let _0x2515a0=new Date()[_0x1eea2b(0x68c)](),_0x12cca3=_0xae91e0['image']+_0x1eea2b(0x60a)+_0x2515a0;_0x4d4f72=(await Q[_0x1eea2b(0x2cf)][_0x1eea2b(0x6c9)](_0x12cca3,{'responseType':_0x1eea2b(0x2a3)}))[_0x1eea2b(0x645)];}else{if((0x0,J['isBase64'])(_0xae91e0['image']))_0x4d4f72=Buffer[_0x1eea2b(0x322)](_0xae91e0[_0x1eea2b(0x24a)],_0x1eea2b(0x1de));else throw new m(_0x1eea2b(0x792));}await this['client'][_0x1eea2b(0x432)](_0xae91e0[_0x1eea2b(0x219)],_0x4d4f72);}return await this[_0x1eea2b(0x406)]({'groupJid':_0xae91e0[_0x1eea2b(0x219)]});}catch(_0x3a6ec9){let _0x192998=_0x1eea2b(0x26d),_0x22898a=_0x3a6ec9 instanceof Error?_0x3a6ec9[_0x1eea2b(0x1f9)]:typeof _0x3a6ec9==_0x1eea2b(0x5ec)?JSON[_0x1eea2b(0x22d)](_0x3a6ec9):_0x3a6ec9,_0x51f4f0=_0x192998+':\x20'+_0x22898a;throw this['logger'][_0x1eea2b(0x4b9)](this['instanceName']+'\x20('+this['instance'][_0x1eea2b(0x2ab)]+_0x1eea2b(0x21e)+_0x51f4f0),new x(_0x51f4f0);}}async['updateGParticipant'](_0x4c1957){const _0x38020c=a0_0x7b141d;try{let _0x112ecb=_0x4c1957[_0x38020c(0x5f3)][_0x38020c(0x62e)](_0x9db660=>this[_0x38020c(0x1d3)](_0x9db660));if(_0x4c1957[_0x38020c(0x20a)]==='approve'||_0x4c1957['action']==='reject')await this['client'][_0x38020c(0x228)](_0x4c1957['groupJid'],_0x112ecb,_0x4c1957[_0x38020c(0x20a)]);else{if(_0x4c1957[_0x38020c(0x20a)]===_0x38020c(0x46e)){let _0x52b530=(await this[_0x38020c(0x534)]({'numbers':_0x4c1957['participants']}))[_0x38020c(0x499)](_0x4e785f=>_0x4e785f[_0x38020c(0x2a1)])[_0x38020c(0x62e)](_0xb210f4=>this[_0x38020c(0x1d3)](_0xb210f4['jid']));if(_0x52b530['length']===0x0)throw new m('Nenhum\x20participante\x20válido\x20encontrado.');await this[_0x38020c(0x523)][_0x38020c(0x490)](_0x4c1957[_0x38020c(0x219)],_0x52b530,_0x38020c(0x46e));}else await this['client']['groupParticipantsUpdate'](_0x4c1957[_0x38020c(0x219)],_0x112ecb,_0x4c1957[_0x38020c(0x20a)]);}return await this[_0x38020c(0x406)]({'groupJid':_0x4c1957[_0x38020c(0x219)]});}catch(_0x2e921d){let _0x120fd4=_0x38020c(0x6ce),_0x5d355d=_0x2e921d instanceof Error?_0x2e921d[_0x38020c(0x1f9)]:typeof _0x2e921d==_0x38020c(0x5ec)?JSON['stringify'](_0x2e921d):_0x2e921d,_0x4223cd=_0x120fd4+':\x20'+_0x5d355d;throw this[_0x38020c(0x222)]['error'](this['instanceName']+'\x20('+this[_0x38020c(0x194)][_0x38020c(0x2ab)]+'):\x20'+_0x4223cd),new m(_0x4223cd);}}async['groupGetInviteInfo'](_0x5abea7){const _0x3391d0=a0_0x7b141d;try{return await this['client']['groupGetInviteInfo'](_0x5abea7[_0x3391d0(0x844)]);}catch(_0x400886){let _0x196547=_0x3391d0(0x3de),_0x34a037=_0x400886 instanceof Error?_0x400886[_0x3391d0(0x1f9)]:typeof _0x400886==_0x3391d0(0x5ec)?JSON[_0x3391d0(0x22d)](_0x400886):_0x400886,_0x594b40=_0x196547+':\x20'+_0x34a037;throw this[_0x3391d0(0x222)][_0x3391d0(0x4b9)](this[_0x3391d0(0x488)]+'\x20('+this[_0x3391d0(0x194)]['wuid']+'):\x20'+_0x594b40),new m(_0x594b40);}}async['findGroup'](_0x4a94c7,_0x4f3772='out'){const _0x156180=a0_0x7b141d;try{let _0x369e3e=await this[_0x156180(0x60c)][_0x156180(0x624)][_0x156180(0x89d)]({'where':{'_id':_0x4a94c7['groupJid']}},this['instance'][_0x156180(0x2ab)]),_0x476670=_0x369e3e?_0x369e3e[_0x156180(0x243)]:null,_0x3a8bd8=0x18*0x3c*0x3c*0x3e8;if(!_0x476670||_0x476670['lastUpdate']&&Date[_0x156180(0x849)]()-_0x476670['lastUpdate']>_0x3a8bd8){let _0x422687=await this[_0x156180(0x523)][_0x156180(0x627)](_0x4a94c7[_0x156180(0x219)]);if(_0x422687['subjectTime']=_0x422687?.[_0x156180(0x394)]&&_0x422687[_0x156180(0x394)][_0x156180(0x7b0)]()['length']<0xd?_0x422687?.[_0x156180(0x394)]*0x3e8:_0x422687?.[_0x156180(0x394)]||null,_0x422687[_0x156180(0x5a1)]=_0x422687?.[_0x156180(0x5a1)]&&_0x422687[_0x156180(0x5a1)][_0x156180(0x7b0)]()[_0x156180(0x675)]<0xd?_0x422687?.['creation']*0x3e8:_0x422687?.[_0x156180(0x5a1)]||null,_0x476670={..._0x422687,'lastUpdate':Date[_0x156180(0x849)]()},!_0x422687)return;}let _0x4343d0=_0x476670[_0x156180(0x5f3)]?.[_0x156180(0x51d)](_0x25b8b3=>_0x25b8b3['id']===this[_0x156180(0x194)][_0x156180(0x2ab)]+_0x156180(0x634)&&_0x25b8b3[_0x156180(0x649)]!=null)||!0x1;!_0x476670['inviteCode']&&_0x4343d0&&(_0x476670[_0x156180(0x844)]=(await this['inviteCode'](_0x4a94c7,!0x1))[_0x156180(0x42b)]);let _0x3ba8e8=(!_0x476670[_0x156180(0x8bc)]||_0x4343d0)&&(!_0x476670['isCommunity']||_0x4343d0);_0x476670[_0x156180(0x5eb)]=_0x4343d0,_0x476670[_0x156180(0x81a)]=_0x3ba8e8;let _0x1c045a=[];if(_0x4343d0&&_0x476670[_0x156180(0x2a9)])try{_0x1c045a=await this[_0x156180(0x523)][_0x156180(0x176)](_0x4a94c7[_0x156180(0x219)]),_0x476670[_0x156180(0x40e)]=Date[_0x156180(0x849)]();}catch(_0x5578c){this[_0x156180(0x222)][_0x156180(0x8c4)](this[_0x156180(0x488)]+'\x20('+this[_0x156180(0x194)][_0x156180(0x2ab)]+_0x156180(0x3f8)+_0x4a94c7['groupJid']+':\x20'+(_0x5578c instanceof Error?_0x5578c['message']:JSON['stringify'](_0x5578c,null,0x2)));}try{_0x476670[_0x156180(0x24a)]=(await this['findAndUpdateCacheContact'](_0x4a94c7[_0x156180(0x219)],null,!0x0))['cachedContact'][_0x156180(0x1d1)];}catch(_0x35a023){this['logger'][_0x156180(0x8c4)](this[_0x156180(0x488)]+'\x20('+this[_0x156180(0x194)][_0x156180(0x2ab)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x4a94c7[_0x156180(0x219)]+':\x20'+(_0x35a023 instanceof Error?_0x35a023[_0x156180(0x1f9)]:JSON['stringify'](_0x35a023,null,0x2)));}let _0x19494c=_0x476670[_0x156180(0x5f3)][_0x156180(0x62e)](_0x1e9a71=>_0x1e9a71['id']),_0xcc36cd=_0x1c045a[_0x156180(0x62e)](_0x5358c4=>_0x5358c4['jid']),_0x2e5644=await this['repository'][_0x156180(0x240)][_0x156180(0x308)]([..._0x19494c,..._0xcc36cd]);_0x476670[_0x156180(0x5f3)]=_0x476670[_0x156180(0x5f3)][_0x156180(0x62e)](_0x3f0f73=>{const _0x3d8b12=_0x156180;let _0x5e950c=_0x2e5644['find'](_0x3f4068=>_0x3f4068[_0x3d8b12(0x39f)]===_0x3f0f73['id']);return{'id':_0x3f0f73['id'],'isAdmin':[_0x3d8b12(0x649),_0x3d8b12(0x481)][_0x3d8b12(0x87b)](_0x3f0f73['admin']),'admin':_0x3f0f73[_0x3d8b12(0x649)],'pushName':_0x5e950c?.[_0x3d8b12(0x3f5)],'profilePictureUrl':_0x5e950c?.[_0x3d8b12(0x1d1)]};}),_0x476670[_0x156180(0x42d)]=_0x1c045a[_0x156180(0x62e)](_0x1240b7=>{const _0x505146=_0x156180;let _0x6c432b=_0x2e5644['find'](_0x4d3022=>_0x4d3022['_id']===_0x1240b7[_0x505146(0x37a)]);return{'id':_0x1240b7[_0x505146(0x37a)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x6c432b?.[_0x505146(0x3f5)],'profilePictureUrl':_0x6c432b?.[_0x505146(0x1d1)],'request_method':_0x1240b7[_0x505146(0x2fd)],'request_time':_0x1240b7[_0x505146(0x77a)]};});let _0x21eedc=await this[_0x156180(0x60c)]['chat'][_0x156180(0x319)]({'where':{'_id':_0x4a94c7['groupJid']}},{'imagechat':_0x476670[_0x156180(0x24a)],'name':_0x476670[_0x156180(0x4ad)],'lastcache':Date[_0x156180(0x849)](),'groupdata':_0x476670},this[_0x156180(0x194)]['wuid']);return F(this[_0x156180(0x488)],_0x156180(0x2fb),{'chat':_0x21eedc}),{'metadata':_0x476670};}catch(_0x289ec3){if(_0x4f3772===_0x156180(0x5bf))return;throw new U(_0x156180(0x3e6),_0x289ec3['message'][_0x156180(0x7b0)]());}}async[a0_0x7b141d(0x379)](){const _0x452e3f=a0_0x7b141d;try{this[_0x452e3f(0x222)][_0x452e3f(0x59c)](_0x452e3f(0x42a));let _0xa5e147=Date[_0x452e3f(0x849)](),_0x2963b3=0x3*0x3c*0x3c*0x3e8;return _0xa5e147-this[_0x452e3f(0x808)]>_0x2963b3&&(this['findRealGroups'](),this['lastRealGroupsFetch']=_0xa5e147),(await this[_0x452e3f(0x60c)]['chat'][_0x452e3f(0x3a5)]({'where':{'group':!0x0}},this['instance'][_0x452e3f(0x2ab)]))[_0x452e3f(0x62e)](_0x55cc7a=>({..._0x55cc7a['groupdata'],'groupJid':_0x55cc7a?.[_0x452e3f(0x39f)],'participants':_0x55cc7a?.[_0x452e3f(0x243)]?.[_0x452e3f(0x5f3)]||[],'awaitingApproval':_0x55cc7a?.[_0x452e3f(0x243)]?.[_0x452e3f(0x42d)]||[],'image':_0x55cc7a?.['imagechat']}));}catch(_0x456a22){let _0x469eb8=_0x452e3f(0x158),_0x38fc7f=_0x456a22 instanceof Error?_0x456a22[_0x452e3f(0x1f9)]:typeof _0x456a22==_0x452e3f(0x5ec)?JSON['stringify'](_0x456a22):_0x456a22,_0x2d6ce5=_0x469eb8+':\x20'+_0x38fc7f;throw this[_0x452e3f(0x222)][_0x452e3f(0x4b9)](this['instanceName']+'\x20('+this[_0x452e3f(0x194)]['wuid']+_0x452e3f(0x21e)+_0x2d6ce5),new U(_0x2d6ce5);}}async['findRealGroups'](){const _0x2404da=a0_0x7b141d;try{this[_0x2404da(0x222)][_0x2404da(0x59c)](_0x2404da(0x799));let _0x279c4b=[],_0x324f9a=await this[_0x2404da(0x523)][_0x2404da(0x392)](),_0x599a51=Object[_0x2404da(0x198)](_0x324f9a);for(let _0x491b9c=0x0;_0x491b9c<_0x599a51[_0x2404da(0x675)];_0x491b9c++){let _0x549ab4=_0x599a51[_0x491b9c];(0x0,w['isJidGroup'])(_0x549ab4?.['id'])&&(_0x279c4b[_0x2404da(0x7a1)]({'groupJid':_0x549ab4?.['id'],'subject':_0x549ab4?.[_0x2404da(0x4ad)],'subjectOwner':_0x549ab4?.[_0x2404da(0x7bc)]?.[_0x2404da(0x20d)]('@')[0x0],'subjectTime':_0x549ab4?.[_0x2404da(0x394)],'creation':_0x549ab4?.[_0x2404da(0x5a1)],'size':_0x549ab4?.[_0x2404da(0x5f3)]?.[_0x2404da(0x675)],'owner':_0x549ab4?.[_0x2404da(0x52f)]?.[_0x2404da(0x20d)]('@')[0x0],'desc':_0x549ab4?.[_0x2404da(0x8ab)],'restrict':_0x549ab4?.[_0x2404da(0x27b)],'announce':_0x549ab4?.[_0x2404da(0x8bc)],'image':null,'isCommunity':_0x549ab4?.[_0x2404da(0x875)],'joinApprovalMode':_0x549ab4?.['joinApprovalMode'],'memberCanAddParticipant':_0x549ab4?.[_0x2404da(0x1fd)],'participants':_0x549ab4?.[_0x2404da(0x5f3)],'descOwner':_0x549ab4?.[_0x2404da(0x3ac)],'descId':_0x549ab4?.[_0x2404da(0x676)],'memberAddMode':_0x549ab4?.[_0x2404da(0x1fd)],'isCommunityAnnounce':_0x549ab4?.[_0x2404da(0x2db)],'ephemeralDuration':_0x549ab4?.[_0x2404da(0x85d)]||0x0,'author':_0x549ab4?.[_0x2404da(0x712)]}),this[_0x2404da(0x15d)](_0x599a51[_0x491b9c]));}return _0x279c4b;}catch(_0x388eed){let _0x53d65d='Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups',_0x40c996=_0x388eed instanceof Error?_0x388eed[_0x2404da(0x1f9)]:typeof _0x388eed==_0x2404da(0x5ec)?JSON[_0x2404da(0x22d)](_0x388eed):_0x388eed,_0x44d27a=_0x53d65d+':\x20'+_0x40c996;throw this[_0x2404da(0x222)][_0x2404da(0x4b9)](this[_0x2404da(0x488)]+'\x20('+this[_0x2404da(0x194)][_0x2404da(0x2ab)]+_0x2404da(0x21e)+_0x44d27a),new U(_0x44d27a);}}async['updateChatGroupData'](_0x53b77a){const _0x38dbde=a0_0x7b141d;let _0x539961=await this[_0x38dbde(0x60c)][_0x38dbde(0x624)][_0x38dbde(0x89d)]({'where':{'_id':_0x53b77a['id']}},this['instance'][_0x38dbde(0x2ab)]);if(_0x53b77a[_0x38dbde(0x394)]=_0x53b77a?.[_0x38dbde(0x394)]&&_0x53b77a[_0x38dbde(0x394)]['toString']()['length']<0xd?_0x53b77a?.[_0x38dbde(0x394)]*0x3e8:_0x53b77a?.['subjectTime']||null,_0x53b77a['creation']=_0x53b77a?.[_0x38dbde(0x5a1)]&&_0x53b77a[_0x38dbde(0x5a1)][_0x38dbde(0x7b0)]()[_0x38dbde(0x675)]<0xd?_0x53b77a?.['creation']*0x3e8:_0x53b77a?.[_0x38dbde(0x5a1)]||null,!_0x53b77a[_0x38dbde(0x24a)])try{_0x53b77a[_0x38dbde(0x24a)]=await this[_0x38dbde(0x523)][_0x38dbde(0x73d)](_0x53b77a['id'],_0x38dbde(0x2ff));}catch(_0x1713c0){this['logger']['verbose'](this[_0x38dbde(0x488)]+'\x20('+this[_0x38dbde(0x194)][_0x38dbde(0x2ab)]+_0x38dbde(0x6e1)+_0x53b77a['id']+':\x20'+(_0x1713c0 instanceof Error?_0x1713c0['message']:JSON[_0x38dbde(0x22d)](_0x1713c0,null,0x2)));}let _0x2b0240=_0x53b77a['participants'][_0x38dbde(0x62e)](_0x359c81=>{const _0x41b76d=_0x38dbde;let _0x258ed2=_0x539961?.[_0x41b76d(0x243)]?.[_0x41b76d(0x5f3)][_0x41b76d(0x61f)](_0x1bab9c=>_0x1bab9c['id']===_0x359c81['id']);return{..._0x359c81,'isAdmin':[_0x41b76d(0x649),'superadmin'][_0x41b76d(0x87b)](_0x359c81[_0x41b76d(0x649)]),'admin':_0x359c81[_0x41b76d(0x649)],'name':_0x258ed2?.['name']||_0x359c81[_0x41b76d(0x3f5)],'imgUrl':_0x258ed2?.[_0x41b76d(0x54f)]||_0x359c81[_0x41b76d(0x54f)]};}),_0x51825a=_0x2b0240[_0x38dbde(0x51d)](_0x224ac7=>_0x224ac7['id']===this[_0x38dbde(0x194)][_0x38dbde(0x2ab)]+_0x38dbde(0x634)&&_0x224ac7['admin']!=null)||!0x1,_0x2bc7be=(!_0x53b77a[_0x38dbde(0x8bc)]||_0x51825a)&&(!_0x53b77a[_0x38dbde(0x875)]||_0x51825a),_0x2848b2={..._0x53b77a,'participants':_0x2b0240,'awaitingApproval':_0x539961?.[_0x38dbde(0x243)]?.['awaitingApproval']||[],'lastFetchAwaitingApproval':_0x539961?.[_0x38dbde(0x243)]?.[_0x38dbde(0x40e)],'isAdmin':_0x51825a,'canSendMessage':_0x2bc7be,'lastUpdate':Date[_0x38dbde(0x849)]()};await this[_0x38dbde(0x60c)][_0x38dbde(0x624)][_0x38dbde(0x319)]({'where':{'_id':_0x53b77a['id']}},{'imagechat':_0x53b77a[_0x38dbde(0x24a)],'name':_0x53b77a['subject'],'group':!0x0,'groupdata':_0x2848b2,'lastcache':Date[_0x38dbde(0x849)]()},this[_0x38dbde(0x194)][_0x38dbde(0x2ab)]),F(this[_0x38dbde(0x488)],_0x38dbde(0x2fb),{'chat':_0x53b77a});}async[a0_0x7b141d(0x444)](_0x56c994){const _0x3b1ec2=a0_0x7b141d;let _0x3301bf=await this[_0x3b1ec2(0x60c)][_0x3b1ec2(0x624)]['findOne']({'where':{'_id':_0x56c994['id']}},this['instance'][_0x3b1ec2(0x2ab)]);_0x56c994[_0x3b1ec2(0x394)]=_0x56c994?.[_0x3b1ec2(0x394)]&&_0x56c994[_0x3b1ec2(0x394)][_0x3b1ec2(0x7b0)]()[_0x3b1ec2(0x675)]<0xd?_0x56c994?.[_0x3b1ec2(0x394)]*0x3e8:_0x56c994?.[_0x3b1ec2(0x394)]||null,_0x56c994[_0x3b1ec2(0x5a1)]=_0x56c994?.[_0x3b1ec2(0x5a1)]&&_0x56c994['creation']['toString']()[_0x3b1ec2(0x675)]<0xd?_0x56c994?.[_0x3b1ec2(0x5a1)]*0x3e8:_0x56c994?.[_0x3b1ec2(0x5a1)]||null,_0x56c994[_0x3b1ec2(0x844)]&&(_0x56c994[_0x3b1ec2(0x844)]=_0x3b1ec2(0x76c)+_0x56c994[_0x3b1ec2(0x844)]);let _0x5cfc16=_0x3301bf?.[_0x3b1ec2(0x243)]?{..._0x3301bf[_0x3b1ec2(0x243)]}:{};Object[_0x3b1ec2(0x679)](_0x56c994)[_0x3b1ec2(0x677)](_0x48ef4d=>{_0x48ef4d!=='id'&&(_0x5cfc16[_0x48ef4d]=_0x56c994[_0x48ef4d]);});let _0x234d41=_0x5cfc16[_0x3b1ec2(0x5f3)]?.[_0x3b1ec2(0x51d)](_0x39d459=>_0x39d459['id']===this[_0x3b1ec2(0x194)]['wuid']+'@s.whatsapp.net'&&_0x39d459[_0x3b1ec2(0x649)]!=null)||!0x1;_0x5cfc16[_0x3b1ec2(0x5eb)]=_0x234d41;let _0xdfe5c6=(!_0x5cfc16['announce']||_0x234d41)&&(!_0x5cfc16[_0x3b1ec2(0x875)]||_0x234d41);_0x5cfc16[_0x3b1ec2(0x81a)]=_0xdfe5c6;let _0xfd57ae={'group':!0x0,'groupdata':_0x5cfc16};_0x56c994[_0x3b1ec2(0x4ad)]&&(_0xfd57ae[_0x3b1ec2(0x3f5)]=_0x56c994[_0x3b1ec2(0x4ad)]),await this[_0x3b1ec2(0x60c)]['chat'][_0x3b1ec2(0x319)]({'where':{'_id':_0x56c994['id']}},_0xfd57ae,this[_0x3b1ec2(0x194)][_0x3b1ec2(0x2ab)],{'upsert':!0x0}),F(this['instanceName'],_0x3b1ec2(0x2fb),{'chat':_0xfd57ae});}async[a0_0x7b141d(0x69a)](_0x4ea68e){const _0x301f8a=a0_0x7b141d;let _0x496bde=await this[_0x301f8a(0x60c)][_0x301f8a(0x624)][_0x301f8a(0x89d)]({'where':{'_id':_0x4ea68e['id']}},this['instance'][_0x301f8a(0x2ab)]);if(!_0x496bde||!_0x496bde[_0x301f8a(0x243)]){this['logger'][_0x301f8a(0x59c)](this['instanceName']+'\x20('+this[_0x301f8a(0x194)]['wuid']+_0x301f8a(0x16b)+_0x4ea68e['id']);return;}let _0x393b6d=await this[_0x301f8a(0x60c)]['cacheContact']['findManyByIds'](_0x4ea68e['participants']),_0x37b6af=[..._0x496bde[_0x301f8a(0x243)]?.['participants']];switch(_0x4ea68e['action']){case _0x301f8a(0x46e):_0x393b6d[_0x301f8a(0x62e)](_0x45dfec=>({'id':_0x45dfec[_0x301f8a(0x39f)],'isAdmin':!0x1,'name':_0x45dfec[_0x301f8a(0x3f5)],'imgUrl':_0x45dfec[_0x301f8a(0x1d1)]}))['forEach'](_0xc72760=>{const _0x51b58c=_0x301f8a;_0x37b6af[_0x51b58c(0x51d)](_0x29a1cb=>_0x29a1cb['id']===_0xc72760['id'])||(_0x37b6af['push'](_0xc72760),this[_0x51b58c(0x222)][_0x51b58c(0x59c)]('Adicionando\x20novo\x20participante:\x20'+JSON[_0x51b58c(0x22d)](_0xc72760)));});break;case _0x301f8a(0x3c8):_0x37b6af=_0x37b6af['filter'](_0x314d6d=>!_0x4ea68e['participants'][_0x301f8a(0x87b)](_0x314d6d['id']));break;case _0x301f8a(0x673):_0x37b6af=_0x37b6af[_0x301f8a(0x62e)](_0x4519db=>_0x4ea68e[_0x301f8a(0x5f3)][_0x301f8a(0x87b)](_0x4519db['id'])?{..._0x4519db,'isAdmin':!0x0,'admin':_0x301f8a(0x649)}:_0x4519db);break;case'demote':_0x37b6af=_0x37b6af[_0x301f8a(0x62e)](_0x399ce0=>_0x4ea68e[_0x301f8a(0x5f3)][_0x301f8a(0x87b)](_0x399ce0['id'])?{..._0x399ce0,'isAdmin':!0x1,'admin':null}:_0x399ce0);break;}let _0x485509=_0x37b6af[_0x301f8a(0x675)],_0x5f2415=_0x37b6af[_0x301f8a(0x51d)](_0xb645e1=>_0xb645e1['id']===this['instance']['wuid']+_0x301f8a(0x634)),_0x585771=_0x5f2415&&_0x37b6af['some'](_0x4aefd1=>_0x4aefd1['id']===this[_0x301f8a(0x194)]['wuid']+_0x301f8a(0x634)&&_0x4aefd1['admin']!=null)||!0x1,_0x515bf8=_0x5f2415&&(!_0x496bde[_0x301f8a(0x243)]['announce']||_0x585771)&&(!_0x496bde['groupdata'][_0x301f8a(0x875)]||_0x585771);await this[_0x301f8a(0x60c)][_0x301f8a(0x624)][_0x301f8a(0x319)]({'where':{'_id':_0x4ea68e['id']}},{'groupdata':{..._0x496bde[_0x301f8a(0x243)],'participants':_0x37b6af,'size':_0x485509,'isAdmin':_0x585771,'canSendMessage':_0x515bf8}},this['instance'][_0x301f8a(0x2ab)]),this[_0x301f8a(0x222)][_0x301f8a(0x59c)](this[_0x301f8a(0x488)]+'\x20('+this[_0x301f8a(0x194)][_0x301f8a(0x2ab)]+'):\x20Grupo\x20'+_0x4ea68e['id']+_0x301f8a(0x451)+_0x4ea68e[_0x301f8a(0x20a)]+_0x301f8a(0x16d)+_0x485509+_0x301f8a(0x814)+_0x585771+_0x301f8a(0x1c6)+_0x515bf8);}async[a0_0x7b141d(0x844)](_0x1e57e6,_0x499c35=!0x0){const _0x2847a7=a0_0x7b141d;try{let _0x575242=await this[_0x2847a7(0x523)][_0x2847a7(0x6c6)](_0x1e57e6[_0x2847a7(0x219)]),_0x2c264e={'groupdata.inviteCode':_0x2847a7(0x76c)+_0x575242};if(_0x499c35){let _0x540847=await this[_0x2847a7(0x60c)][_0x2847a7(0x624)]['updateOne']({'where':{'_id':_0x1e57e6[_0x2847a7(0x219)]}},_0x2c264e,this[_0x2847a7(0x194)][_0x2847a7(0x2ab)]);}return{'inviteUrl':_0x2847a7(0x76c)+_0x575242,'inviteCode':_0x575242};}catch(_0x14a636){let _0x4069ce=_0x2847a7(0x754),_0x56eeb6=_0x14a636 instanceof Error?_0x14a636[_0x2847a7(0x1f9)]:typeof _0x14a636=='object'?JSON[_0x2847a7(0x22d)](_0x14a636):_0x14a636,_0x15ba9b=_0x4069ce+':\x20'+_0x56eeb6;throw this['logger']['error'](this[_0x2847a7(0x488)]+'\x20('+this[_0x2847a7(0x194)][_0x2847a7(0x2ab)]+_0x2847a7(0x21e)+_0x15ba9b),new U(_0x15ba9b);}}async[a0_0x7b141d(0x39b)](_0x2502e6){const _0x4a685c=a0_0x7b141d;try{let _0x491986=await this['client']['groupRevokeInvite'](_0x2502e6[_0x4a685c(0x219)]);return{'revoked':!0x0,'inviteUrl':_0x4a685c(0x76c)+_0x491986,'inviteCode':_0x491986};}catch(_0x5c27c9){let _0x17ded8=_0x4a685c(0x356),_0x3215b6=_0x5c27c9 instanceof Error?_0x5c27c9[_0x4a685c(0x1f9)]:typeof _0x5c27c9=='object'?JSON[_0x4a685c(0x22d)](_0x5c27c9):_0x5c27c9,_0x5696c4=_0x17ded8+':\x20'+_0x3215b6;throw this['logger'][_0x4a685c(0x4b9)](this['instanceName']+'\x20('+this[_0x4a685c(0x194)][_0x4a685c(0x2ab)]+_0x4a685c(0x21e)+_0x5696c4),new U(_0x5696c4);}}async[a0_0x7b141d(0x173)](_0x4764d6){const _0x4b4e6f=a0_0x7b141d;try{if((0x0,J['isURL'])(_0x4764d6['inviteCode']))var _0x563b4b=_0x4764d6['inviteCode'][_0x4b4e6f(0x20d)]('/')[0x3];else var _0x563b4b=_0x4764d6[_0x4b4e6f(0x844)];let _0x537882=await this[_0x4b4e6f(0x523)][_0x4b4e6f(0x27f)](_0x563b4b);return this[_0x4b4e6f(0x222)][_0x4b4e6f(0x8c4)](this[_0x4b4e6f(0x488)]+'\x20('+this[_0x4b4e6f(0x194)][_0x4b4e6f(0x2ab)]+_0x4b4e6f(0x21e)+_0x537882),{'join':!0x0,'inviteCode':_0x563b4b,'groupJid':_0x537882};}catch(_0x1305bd){let _0x2e0d64=_0x4b4e6f(0x64b),_0x2b9c04=_0x1305bd instanceof Error?_0x1305bd[_0x4b4e6f(0x1f9)]:typeof _0x1305bd=='object'?JSON[_0x4b4e6f(0x22d)](_0x1305bd):_0x1305bd,_0x35309d=_0x2e0d64+':\x20'+_0x2b9c04;throw this[_0x4b4e6f(0x222)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4b4e6f(0x21e)+_0x35309d),new U(_0x35309d);}}async[a0_0x7b141d(0x19e)](_0x16b5da){const _0x268171=a0_0x7b141d;try{return{'participants':(await this[_0x268171(0x60c)][_0x268171(0x624)][_0x268171(0x89d)]({'where':{'_id':_0x16b5da[_0x268171(0x219)]}},this['instance'][_0x268171(0x2ab)]))[_0x268171(0x243)]['participants']};}catch(_0x20e26a){let _0x5aa110=_0x268171(0x457),_0x263e17=_0x20e26a instanceof Error?_0x20e26a['message']:typeof _0x20e26a==_0x268171(0x5ec)?JSON[_0x268171(0x22d)](_0x20e26a):_0x20e26a,_0x326bef=_0x5aa110+':\x20'+_0x263e17;throw this['logger'][_0x268171(0x4b9)](this[_0x268171(0x488)]+'\x20('+this[_0x268171(0x194)]['wuid']+_0x268171(0x21e)+_0x326bef),new U(_0x326bef);}}async[a0_0x7b141d(0x34d)](_0x432cab){const _0x1a3f63=a0_0x7b141d;try{return await this[_0x1a3f63(0x523)][_0x1a3f63(0x571)](_0x432cab['groupJid']),{'groupJid':_0x432cab['groupJid'],'leave':!0x0};}catch(_0x482a75){let _0x2c3462='Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup',_0x4e8bd3=_0x482a75 instanceof Error?_0x482a75[_0x1a3f63(0x1f9)]:typeof _0x482a75=='object'?JSON[_0x1a3f63(0x22d)](_0x482a75):_0x482a75,_0x3ec092=_0x2c3462+':\x20'+_0x4e8bd3;throw this[_0x1a3f63(0x222)][_0x1a3f63(0x4b9)](this[_0x1a3f63(0x488)]+'\x20('+this[_0x1a3f63(0x194)]['wuid']+'):\x20'+_0x3ec092),new m(_0x3ec092);}}async[a0_0x7b141d(0x48b)](_0x238b6d){const _0x18f8d3=a0_0x7b141d;return await this[_0x18f8d3(0x7a4)](_0x238b6d[_0x18f8d3(0x291)],{'poll':{'name':_0x238b6d[_0x18f8d3(0x48b)]?.[_0x18f8d3(0x3f5)],'selectableCount':_0x238b6d[_0x18f8d3(0x48b)]['selectableCount'],'values':_0x238b6d[_0x18f8d3(0x48b)][_0x18f8d3(0x198)]}},_0x238b6d?.[_0x18f8d3(0x2cb)]);}async[a0_0x7b141d(0x770)](_0x1a2bd0){const _0x5db7cb=a0_0x7b141d;return await this[_0x5db7cb(0x7a4)](_0x1a2bd0[_0x5db7cb(0x291)],{'listMessage':{'title':_0x1a2bd0['listMessage']['title'],'description':_0x1a2bd0['listMessage'][_0x5db7cb(0x376)],'buttonText':_0x1a2bd0[_0x5db7cb(0x770)]?.[_0x5db7cb(0x1f8)],'footerText':_0x1a2bd0[_0x5db7cb(0x770)]?.['footerText'],'sections':_0x1a2bd0[_0x5db7cb(0x770)][_0x5db7cb(0x3df)],'listType':0x2}},_0x1a2bd0?.[_0x5db7cb(0x2cb)]);}async[a0_0x7b141d(0x2ce)](_0x94a2a2){const _0x39d428=a0_0x7b141d;this['instance'][_0x39d428(0x583)]===void 0x0&&await this['isBusinessInstance']();let _0x402616;if(_0x94a2a2['menuMessage'][_0x39d428(0x7ef)]===_0x39d428(0x8ae)||_0x94a2a2[_0x39d428(0x2ce)][_0x39d428(0x7ef)]===_0x39d428(0x40f)){let _0x2e5e2e=_0x94a2a2[_0x39d428(0x2ce)][_0x39d428(0x2f3)][_0x39d428(0x277)]('\x0a'),_0x10572c='',_0x362156='';_0x2e5e2e!==-0x1?(_0x10572c=_0x94a2a2[_0x39d428(0x2ce)][_0x39d428(0x2f3)][_0x39d428(0x26e)](0x0,_0x2e5e2e)[_0x39d428(0x223)](),_0x362156=_0x94a2a2[_0x39d428(0x2ce)][_0x39d428(0x2f3)]['substring'](_0x2e5e2e+0x1)):_0x362156=_0x94a2a2['menuMessage']['text'];let _0x2a4cde=_0x94a2a2['menuMessage']['choices']['filter'](_0x4a7966=>_0x4a7966[_0x39d428(0x223)]()!==''),_0x37e5f4=this[_0x39d428(0x254)](_0x2a4cde);_0x402616={'listMessage':{'title':_0x10572c,'description':_0x362156,'buttonText':_0x94a2a2[_0x39d428(0x2ce)][_0x39d428(0x1f8)]||'Selecione','footerText':_0x94a2a2[_0x39d428(0x2ce)][_0x39d428(0x787)],'sections':_0x37e5f4,'listType':0x2}};}else{if(_0x94a2a2[_0x39d428(0x2ce)][_0x39d428(0x7ef)]==='poll'){let _0x3b4379=_0x94a2a2['menuMessage']['choices']['filter'](_0x1e8391=>!(_0x1e8391[_0x39d428(0x5f6)]('[')&&_0x1e8391['endsWith'](']'))&&_0x1e8391[_0x39d428(0x223)]()!=='')[_0x39d428(0x62e)](_0x2f4821=>_0x2f4821['split']('\x0a')[0x0]);for(;_0x3b4379[_0x39d428(0x675)]<0x2;)_0x3b4379[_0x39d428(0x7a1)](_0x39d428(0x741)+(_0x3b4379[_0x39d428(0x675)]+0x1));_0x402616={'poll':{'name':_0x94a2a2['menuMessage'][_0x39d428(0x2f3)],'selectableCount':_0x94a2a2['menuMessage']['selectableCount']||0x1,'values':_0x3b4379}};}else{if(_0x94a2a2[_0x39d428(0x2ce)][_0x39d428(0x7ef)]==='button'){let _0x424513=this[_0x39d428(0x3b0)](_0x94a2a2[_0x39d428(0x2ce)]['choices'][_0x39d428(0x499)](_0x2ee134=>!(_0x2ee134[_0x39d428(0x5f6)]('[')&&_0x2ee134[_0x39d428(0x179)](']'))));return _0x402616={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x94a2a2[_0x39d428(0x2ce)][_0x39d428(0x2f3)]},'footer':_0x94a2a2[_0x39d428(0x2ce)][_0x39d428(0x787)]?{'text':_0x94a2a2[_0x39d428(0x2ce)][_0x39d428(0x787)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x424513,'messageParamsJson':JSON[_0x39d428(0x22d)]({'from':'api','templateId':_0x39d428(0x60f)+(0x0,ne[_0x39d428(0x29a)])(0x12)[_0x39d428(0x7b0)](_0x39d428(0x2ea))[_0x39d428(0x4bd)]()})}}}}},await this[_0x39d428(0x5c8)](_0x94a2a2[_0x39d428(0x291)],_0x402616,_0x94a2a2?.[_0x39d428(0x2cb)]);}else{if(_0x94a2a2[_0x39d428(0x2ce)][_0x39d428(0x7ef)]==='list3'){let _0xdb4a09=this[_0x39d428(0x1ac)](_0x94a2a2['menuMessage'][_0x39d428(0x618)]);return _0x402616={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x94a2a2['menuMessage']['text']},'footer':_0x94a2a2['menuMessage'][_0x39d428(0x787)]?{'text':_0x94a2a2[_0x39d428(0x2ce)][_0x39d428(0x787)]}:void 0x0,'nativeFlowMessage':{'buttons':_0xdb4a09,'messageParamsJson':JSON[_0x39d428(0x22d)]({'from':'api','templateId':_0x39d428(0x60f)+(0x0,ne[_0x39d428(0x29a)])(0x12)[_0x39d428(0x7b0)](_0x39d428(0x2ea))[_0x39d428(0x4bd)]()})}}}}},await this[_0x39d428(0x5c8)](_0x94a2a2['number'],_0x402616,_0x94a2a2?.[_0x39d428(0x2cb)]);}}}}return await this['sendMessageWithTyping'](_0x94a2a2[_0x39d428(0x291)],_0x402616,_0x94a2a2?.[_0x39d428(0x2cb)]);}[a0_0x7b141d(0x3b0)](_0x4c2a03){const _0x33fd2f=a0_0x7b141d;return _0x4c2a03[_0x33fd2f(0x62e)](_0x5455b9=>{const _0x3a74a1=_0x33fd2f;let _0x1fe9f3=_0x5455b9[_0x3a74a1(0x20d)]('\x0a')[_0x3a74a1(0x62e)](_0x18b2ec=>_0x18b2ec['trim']()),_0x9dbe1e=_0x1fe9f3[0x0],_0x2cf189=_0x1fe9f3[0x1]||_0x9dbe1e,_0x43fcac=_0x2cf189['startsWith'](_0x3a74a1(0x478))?_0x3a74a1(0x30e):_0x3a74a1(0x157);return{'name':_0x43fcac,'buttonParamsJson':JSON['stringify']({'display_text':_0x9dbe1e,'id':_0x43fcac==='quick_reply'?_0x2cf189:void 0x0,'url':_0x43fcac===_0x3a74a1(0x30e)?_0x2cf189:void 0x0})};});}['createButtonSectionsFromValues'](_0x585c7d){const _0x42189b=a0_0x7b141d;let _0x1d494c=[],_0x45e6c4={'title':'','rows':[]};return _0x585c7d[_0x42189b(0x677)](_0x13c3c1=>{const _0x41dc1a=_0x42189b;if(_0x13c3c1[_0x41dc1a(0x5f6)]('[')&&_0x13c3c1[_0x41dc1a(0x179)](']'))_0x45e6c4[_0x41dc1a(0x63f)][_0x41dc1a(0x675)]>0x0&&_0x1d494c[_0x41dc1a(0x7a1)](_0x45e6c4),_0x45e6c4={'title':_0x13c3c1[_0x41dc1a(0x561)](0x1,-0x1),'rows':[]};else{let _0x4b5a56=_0x13c3c1[_0x41dc1a(0x20d)]('\x0a')[_0x41dc1a(0x62e)](_0x36c049=>_0x36c049[_0x41dc1a(0x223)]()),_0x2c2cbd=_0x4b5a56[0x0],_0x3b9ab0=_0x4b5a56[0x1]?_0x4b5a56[0x1]:void 0x0,_0x3eeb9a=_0x4b5a56[0x2]||_0x2c2cbd;_0x45e6c4[_0x41dc1a(0x63f)][_0x41dc1a(0x7a1)]({'title':_0x2c2cbd,'description':_0x3b9ab0,'id':_0x3eeb9a});}}),_0x45e6c4[_0x42189b(0x63f)][_0x42189b(0x675)]>0x0&&_0x1d494c['push'](_0x45e6c4),[{'name':_0x42189b(0x439),'buttonParamsJson':JSON[_0x42189b(0x22d)]({'title':_0x42189b(0x5fa),'sections':_0x1d494c})}];}['createSectionsFromValues'](_0x370897){const _0x342ae=a0_0x7b141d;let _0x52c7e5=[],_0x220134={'rows':[]};return _0x370897['forEach'](_0x456a07=>{const _0x454fa8=a0_0x77b5;if(_0x456a07['startsWith']('[')&&_0x456a07[_0x454fa8(0x179)](']'))_0x220134[_0x454fa8(0x63f)]['length']>0x0&&_0x52c7e5[_0x454fa8(0x7a1)](_0x220134),_0x220134={'title':_0x456a07[_0x454fa8(0x561)](0x1,-0x1),'rows':[]};else{let _0x26b8a3=_0x456a07['split']('\x0a')[_0x454fa8(0x62e)](_0x4b214a=>_0x4b214a['trim']()),_0x4c4151=_0x26b8a3[0x0],_0x41a4aa=_0x26b8a3[0x1]||null,_0x4072ac=_0x26b8a3[0x2]||_0x4c4151;_0x220134[_0x454fa8(0x63f)][_0x454fa8(0x7a1)]({'title':_0x4c4151,'description':_0x41a4aa,'rowId':_0x4072ac});}}),_0x220134[_0x342ae(0x63f)][_0x342ae(0x675)]>0x0&&_0x52c7e5['push'](_0x220134),_0x52c7e5;}async[a0_0x7b141d(0x7f1)](_0x2307ba,_0x29e1ae){const _0x273476=a0_0x7b141d;if(await this['getMessage'](_0x2307ba,!0x0)){let _0x4e91e4={'where':{'_id':_0x2307ba['id']}},_0x4cd447={'status':[_0x29e1ae[_0x273476(0x756)]][0x0]};try{let _0x44f567=await this[_0x273476(0x60c)]['message'][_0x273476(0x889)](_0x4e91e4,_0x4cd447,this[_0x273476(0x194)][_0x273476(0x2ab)]);_0x44f567&&F(this[_0x273476(0x488)],'messages',{'message':_0x44f567});}catch{}}}[a0_0x7b141d(0x732)](_0x5ce753){const _0x2e9378=a0_0x7b141d;let _0x52b27c=[];return _0x5ce753[_0x2e9378(0x677)](_0x4bc8c2=>{const _0x5192d5=_0x2e9378;_0x4bc8c2[_0x5192d5(0x570)]&&_0x52b27c[_0x5192d5(0x7a1)]('['+_0x4bc8c2[_0x5192d5(0x570)]+']'),_0x4bc8c2[_0x5192d5(0x63f)]['forEach'](_0xa7f4ea=>{const _0x17a099=_0x5192d5;_0x52b27c[_0x17a099(0x7a1)](_0xa7f4ea['title']);});}),_0x52b27c['join']('|');}['formatVCard'](_0x520290){const _0x2d3495=a0_0x7b141d;let _0x4f087e=_0x520290['replace'](/\\n/g,'\x0a')[_0x2d3495(0x20d)]('\x0a')['filter'](_0x2bb794=>_0x2bb794[_0x2d3495(0x87b)](_0x2d3495(0x68d))||_0x2bb794[_0x2d3495(0x87b)](_0x2d3495(0x326))),_0x5412d9='';return _0x4f087e[_0x2d3495(0x677)](_0x5125e0=>{const _0x1b6cca=_0x2d3495;let _0x159a94=/TEL(?:.*):(.+)/,_0x4958c2=/EMAIL(?:.*):(.+)/,_0xd424bc=_0x5125e0[_0x1b6cca(0x3dc)](_0x159a94),_0x2ebbf6=_0x5125e0[_0x1b6cca(0x3dc)](_0x4958c2);if(_0xd424bc){let _0x1352d0=_0xd424bc[0x1]['replace'](/-| |\+|\(|\)/g,'')['trim']();_0x5412d9+=_0x1b6cca(0x1d8)+_0x1352d0+'\x0a';}else{if(_0x2ebbf6){let _0x14c1af=_0x2ebbf6[0x1][_0x1b6cca(0x223)]();_0x5412d9+=_0x1b6cca(0x6c7)+_0x14c1af+'\x0a';}}}),_0x5412d9[_0x2d3495(0x223)]();}async[a0_0x7b141d(0x26a)](_0x28e7c5,_0x5df68b,_0x5c5521,_0x1ee483=null){const _0x297ab9=a0_0x7b141d;if(_0x28e7c5[_0x297ab9(0x16f)])try{let _0x555f03=_0x5df68b[_0x297ab9(0x69b)][_0x297ab9(0x230)]['replace'](/:\d{1,2}@/g,'@'),_0x4c0734=_0x5df68b[_0x297ab9(0x69b)][_0x297ab9(0x4a2)],_0x44df9d=_0x555f03[_0x297ab9(0x179)](_0x297ab9(0x292)),_0x51f451=_0x5df68b[_0x297ab9(0x2b9)]?.[_0x297ab9(0x563)](/:\d{1,2}@/g,'@')||'',_0x45d8f9=_0x5df68b[_0x297ab9(0x1af)]?.[_0x297ab9(0x2f3)]||_0x5df68b[_0x297ab9(0x1af)]?.['caption']||_0x5df68b[_0x297ab9(0x1af)]?.[_0x297ab9(0x73e)]||_0x5df68b[_0x297ab9(0x1af)]?.['name']||'',_0x2f363f={'_id':_0x5df68b[_0x297ab9(0x39f)],'remoteJid':_0x4c0734?this[_0x297ab9(0x194)][_0x297ab9(0x2ab)]:_0x44df9d?_0x51f451:_0x555f03,'pushName':_0x4c0734?this['instance'][_0x297ab9(0x64c)]||'Eu':_0x5df68b[_0x297ab9(0x191)],'text':_0x45d8f9,'type':_0x5df68b['messageType'],'when':_0x5df68b[_0x297ab9(0x175)]||Date[_0x297ab9(0x849)]()};_0x1ee483||(_0x1ee483=await this[_0x297ab9(0x60c)][_0x297ab9(0x624)][_0x297ab9(0x89d)]({'where':{'_id':_0x555f03}},this[_0x297ab9(0x194)][_0x297ab9(0x2ab)]));let _0x4f3d01=_0x4c0734?0x0:_0x1ee483?(_0x1ee483[_0x297ab9(0x4f8)]||0x0)+0x1:0x1,_0x21f5a6={'lastmsg':_0x5df68b['messageTimestamp']||Date['now'](),'ephemeralExpiration':_0x5df68b[_0x297ab9(0x665)],'lastMessage':_0x2f363f,'unreadcount':_0x4f3d01,..._0x4c0734||_0x44df9d?{}:{'name':_0x5df68b[_0x297ab9(0x191)]},..._0x44df9d?{'group':_0x44df9d}:{},...!_0x4c0734&&!_0x44df9d&&_0x5df68b['profilePictureUrl']?{'imagechat':_0x5df68b['profilePictureUrl']}:{}};if(!_0x44df9d&&(!_0x1ee483?.['leadInfo']||!_0x1ee483['leadInfo']['nome'])&&_0x5df68b[_0x297ab9(0x191)]&&!_0x4c0734&&(_0x21f5a6={..._0x21f5a6,'leadInfo.nome':_0x5df68b['pushName']}),_0x1ee483?.['leadInfo'][_0x297ab9(0x584)]||(_0x21f5a6={..._0x21f5a6,'leadInfo.etiquetas':[]}),_0x1ee483?.[_0x297ab9(0x77d)][_0x297ab9(0x887)]||(_0x21f5a6={..._0x21f5a6,'leadInfo.customFields':[]}),_0x1ee483?.[_0x297ab9(0x77d)][_0x297ab9(0x6ba)]||(_0x21f5a6={..._0x21f5a6,'leadInfo.tags':[]}),_0x1ee483&&_0x1ee483?.[_0x297ab9(0x213)]){let _0x3d08c7=await this[_0x297ab9(0x60c)]['label'][_0x297ab9(0x61f)]({'where':{}},this['instance']['wuid']),_0x2d3212=new Set(_0x3d08c7[_0x297ab9(0x62e)](_0xccde19=>_0xccde19[_0x297ab9(0x39f)])),_0xae72bf=(_0x1ee483[_0x297ab9(0x77d)]?.['etiquetas']||[])[_0x297ab9(0x499)](_0x2858ce=>_0x2d3212['has'](_0x2858ce));_0x21f5a6={..._0x21f5a6,'imported':!0x1,'leadInfo.etiquetas':_0xae72bf};for(let _0x571645 of _0xae72bf)await this['AddChatLabel'](_0x571645,_0x555f03);}if(!this['AutomateSystem'][_0x297ab9(0x3ee)]['find'](_0x1c25c8=>_0x1c25c8['startCommand']&&_0x45d8f9[_0x297ab9(0x87b)](_0x1c25c8['startCommand']))&&_0x5c5521==='MESSAGES_UPSERT'&&_0x4c0734&&this[_0x297ab9(0x75a)]?.[_0x297ab9(0x29b)][_0x297ab9(0x6b2)]&&_0x45d8f9[_0x297ab9(0x223)]()!==this[_0x297ab9(0x75a)]?.[_0x297ab9(0x29b)][_0x297ab9(0x7c0)][_0x297ab9(0x223)]()){let _0x183d3a=(this[_0x297ab9(0x75a)]?.[_0x297ab9(0x29b)][_0x297ab9(0x325)]||0x0)*0xea60,_0x51fcdd=Date[_0x297ab9(0x849)]()+_0x183d3a;_0x1ee483?.['leadInfo']?.[_0x297ab9(0x336)]===0x0||(_0x21f5a6={..._0x21f5a6,'leadInfo.desativadoFluxoAte':_0x51fcdd},this['logger'][_0x297ab9(0x8c4)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x51fcdd+'.'));}if(_0x45d8f9['trim']()===this['AutomateSystem']?.[_0x297ab9(0x29b)][_0x297ab9(0x7c0)][_0x297ab9(0x223)]()){this['logger'][_0x297ab9(0x8c4)](this[_0x297ab9(0x488)]+'\x20('+this[_0x297ab9(0x194)][_0x297ab9(0x2ab)]+_0x297ab9(0x29e)+_0x45d8f9);let _0x53ada5=Date[_0x297ab9(0x849)]();this['AutomateSystem']?.['flowConfig'][_0x297ab9(0x5e0)]===0x0?_0x21f5a6={..._0x21f5a6,'leadInfo.desativadoFluxoAte':_0x53ada5+0x7591f6200}:_0x21f5a6={..._0x21f5a6,'leadInfo.desativadoFluxoAte':_0x53ada5+this['AutomateSystem']?.[_0x297ab9(0x29b)][_0x297ab9(0x5e0)]*0x3c*0x3e8};}if(_0x1ee483=await this[_0x297ab9(0x60c)][_0x297ab9(0x624)][_0x297ab9(0x319)]({'where':{'_id':_0x555f03}},_0x21f5a6,this[_0x297ab9(0x194)][_0x297ab9(0x2ab)],{'new':!0x0,'upsert':!0x0}),_0x1ee483)F(this[_0x297ab9(0x488)],'chats',{'chat':_0x1ee483});else{this['logger'][_0x297ab9(0x4b9)](this[_0x297ab9(0x488)]+'\x20('+this[_0x297ab9(0x194)][_0x297ab9(0x2ab)]+_0x297ab9(0x661));return;}if(_0x4c0734)return this['logger'][_0x297ab9(0x8c4)](this[_0x297ab9(0x488)]+'\x20('+this['instance'][_0x297ab9(0x2ab)]+_0x297ab9(0x3a7)),null;if(!this[_0x297ab9(0x75a)]?.[_0x297ab9(0x29b)]['enabled'])return this['logger'][_0x297ab9(0x8c4)](this['instanceName']+'\x20('+this[_0x297ab9(0x194)][_0x297ab9(0x2ab)]+_0x297ab9(0x6a9)),null;if(_0x1ee483[_0x297ab9(0x39f)]['includes']('@g.us')&&this[_0x297ab9(0x75a)]?.[_0x297ab9(0x29b)][_0x297ab9(0x681)]===!0x0)return this[_0x297ab9(0x222)][_0x297ab9(0x8c4)](this['instanceName']+'\x20('+this[_0x297ab9(0x194)][_0x297ab9(0x2ab)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x1ee483[_0x297ab9(0x77d)]){if(_0x1ee483[_0x297ab9(0x77d)][_0x297ab9(0x336)]===0x0||_0x1ee483[_0x297ab9(0x77d)][_0x297ab9(0x574)])return this[_0x297ab9(0x222)][_0x297ab9(0x8c4)](this[_0x297ab9(0x488)]+'\x20('+this[_0x297ab9(0x194)][_0x297ab9(0x2ab)]+_0x297ab9(0x733)+_0x555f03+_0x297ab9(0x3f3)),null;if(_0x1ee483[_0x297ab9(0x77d)][_0x297ab9(0x336)]>Date['now']()&&!_0x5df68b[_0x297ab9(0x1af)]?.[_0x297ab9(0x73e)])return this[_0x297ab9(0x222)]['verbose'](this[_0x297ab9(0x488)]+'\x20('+this['instance'][_0x297ab9(0x2ab)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x1ee483[_0x297ab9(0x77d)][_0x297ab9(0x336)])[_0x297ab9(0x565)]()+_0x297ab9(0x3f3)),null;}this[_0x297ab9(0x222)][_0x297ab9(0x8c4)](this[_0x297ab9(0x488)]+'\x20('+this['instance'][_0x297ab9(0x2ab)]+_0x297ab9(0x184)),this[_0x297ab9(0x760)](_0x5df68b,_0x5c5521);}catch(_0x1b48c5){let _0x302fd3='Erro\x20na\x20função\x20updateChatWithMessage:\x20',_0x3c331d=_0x1b48c5 instanceof Error?_0x1b48c5[_0x297ab9(0x1f9)]:typeof _0x1b48c5==_0x297ab9(0x5ec)?JSON[_0x297ab9(0x22d)](_0x1b48c5):_0x1b48c5,_0x27e9dd=_0x302fd3+':\x20'+_0x3c331d;return this['logger'][_0x297ab9(0x4b9)](this[_0x297ab9(0x488)]+'\x20('+this[_0x297ab9(0x194)][_0x297ab9(0x2ab)]+_0x297ab9(0x21e)+_0x27e9dd),null;}}async[a0_0x7b141d(0x3f1)](_0xc0a739,_0x308763){const _0x1fcec8=a0_0x7b141d;if(_0x308763['ENABLED']){let _0x110d80=_0xc0a739[_0x1fcec8(0x62e)](async _0x206b30=>{const _0xdc6d5e=_0x1fcec8;try{let _0x3290c4={'_id':_0x206b30['_id'],'owner':_0x206b30[_0xdc6d5e(0x52f)],'lastcache':0x0};if(Object[_0xdc6d5e(0x679)](_0x206b30)[_0xdc6d5e(0x677)](_0x190d17=>{_0x206b30[_0x190d17]!==null&&(_0x3290c4[_0x190d17]=_0x206b30[_0x190d17]);}),_0x3290c4[_0xdc6d5e(0x371)]===null&&(_0x3290c4[_0xdc6d5e(0x371)]=_0xdc6d5e(0x6f7)),Object[_0xdc6d5e(0x679)](_0x3290c4)['length']>0x0)return await this['repository'][_0xdc6d5e(0x624)][_0xdc6d5e(0x319)]({'where':{'_id':_0x206b30[_0xdc6d5e(0x39f)]}},_0x3290c4,this[_0xdc6d5e(0x194)][_0xdc6d5e(0x2ab)]);}catch(_0x1dd988){let _0x2f9b00='Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x206b30[_0xdc6d5e(0x39f)],_0x1d9a3a=_0x1dd988 instanceof Error?_0x1dd988[_0xdc6d5e(0x1f9)]:typeof _0x1dd988=='object'?JSON[_0xdc6d5e(0x22d)](_0x1dd988):_0x1dd988,_0x4cfe12=_0x2f9b00+':\x20'+_0x1d9a3a;return this['logger'][_0xdc6d5e(0x4b9)](this['instanceName']+'\x20('+this[_0xdc6d5e(0x194)]['wuid']+'):\x20'+_0x4cfe12),null;}}),_0x44a33a=(await Promise['all'](_0x110d80))['filter'](_0x110a73=>_0x110a73!==null)[_0x1fcec8(0x675)];this['logger']['verbose'](this[_0x1fcec8(0x488)]+'\x20('+this[_0x1fcec8(0x194)][_0x1fcec8(0x2ab)]+'):\x20'+_0x44a33a+_0x1fcec8(0x559)+this['instance']['wuid']+_0x1fcec8(0x8c6));}}async['readMessageBot'](_0x15e5f0){const _0x31a37c=a0_0x7b141d;this[_0x31a37c(0x222)][_0x31a37c(0x8c4)](this['instanceName']+'\x20('+this[_0x31a37c(0x194)][_0x31a37c(0x2ab)]+_0x31a37c(0x1cf));let _0x2d8a1a={'readMessages':[{'remoteJid':_0x15e5f0[_0x31a37c(0x5ae)]['lastReceivedMessage']['key'][_0x31a37c(0x230)],'fromMe':_0x15e5f0['chatLog'][_0x31a37c(0x413)]['key'][_0x31a37c(0x4a2)],'id':_0x15e5f0['chatLog'][_0x31a37c(0x413)]['key']['id']}]};await this[_0x31a37c(0x370)](_0x2d8a1a);}async['StartBot'](_0x511b6c,_0x4e4f5b){const _0x154a16=a0_0x7b141d;try{let {key:_0xa6f6ad,message_normalized:_0x58344a}=_0x511b6c,_0x7df88a=_0x58344a,_0x183e7d=_0x58344a[_0x154a16(0x2f3)]||_0x58344a[_0x154a16(0x5d2)]||_0x58344a[_0x154a16(0x73e)]||_0x58344a['name']||'',_0x4639f8=_0xa6f6ad['remoteJid'],_0x1c97a7=null,_0x51d189=this[_0x154a16(0x75a)]['flows'][_0x154a16(0x61f)](_0x5ad63d=>_0x5ad63d[_0x154a16(0x479)]&&_0x183e7d['includes'](_0x5ad63d[_0x154a16(0x479)]));if(_0x51d189&&_0x4e4f5b===_0x154a16(0x5b0)){let _0x2ab54b=await this['repository'][_0x154a16(0x4b6)][_0x154a16(0x89d)]({'where':{'_id':_0x51d189[_0x154a16(0x39f)]}});if(this[_0x154a16(0x222)][_0x154a16(0x8c4)](this[_0x154a16(0x488)]+'\x20('+this[_0x154a16(0x194)][_0x154a16(0x2ab)]+_0x154a16(0x453)),_0x2ab54b&&_0x2ab54b[_0x154a16(0x5a5)]?.[_0x154a16(0x87b)](this['instance'][_0x154a16(0x2ab)]))_0x1c97a7=await this['createNewConversation'](_0x2ab54b,_0xa6f6ad,_0x7df88a);else return this[_0x154a16(0x222)][_0x154a16(0x8c4)](this[_0x154a16(0x488)]+'\x20('+this[_0x154a16(0x194)]['wuid']+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo'),null;}else this[_0x154a16(0x222)][_0x154a16(0x8c4)](this[_0x154a16(0x488)]+'\x20('+this[_0x154a16(0x194)]['wuid']+_0x154a16(0x52a));if(_0x1c97a7=await this[_0x154a16(0x2ee)](_0x4639f8,_0x7df88a),_0x1c97a7){this[_0x154a16(0x222)][_0x154a16(0x8c4)](this[_0x154a16(0x488)]+'\x20('+this['instance'][_0x154a16(0x2ab)]+_0x154a16(0x553)),!_0xa6f6ad['fromMe']&&_0x1c97a7[_0x154a16(0x8c3)]&&this[_0x154a16(0x4d9)](_0x1c97a7);let _0x5058f2=await this[_0x154a16(0x651)](_0x1c97a7);_0x5058f2&&await this[_0x154a16(0x28e)](_0x1c97a7,_0x5058f2);}}catch(_0x5c75f8){this[_0x154a16(0x222)][_0x154a16(0x4b9)](this[_0x154a16(0x488)]+'\x20('+this[_0x154a16(0x194)][_0x154a16(0x2ab)]+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x5c75f8 instanceof Error?_0x5c75f8[_0x154a16(0x1f9)]:JSON[_0x154a16(0x22d)](_0x5c75f8,null,0x2)));}}[a0_0x7b141d(0x2a4)](_0x1546bc,_0x3dc73d='',_0x3d765d={}){const _0xfb9d10=a0_0x7b141d;return typeof _0x1546bc!='object'||_0x1546bc===null?(_0x3dc73d&&(_0x3d765d[_0x3dc73d]=_0x1546bc),_0x3d765d):(Object[_0xfb9d10(0x6e4)](_0x1546bc)[_0xfb9d10(0x677)](([_0x31cd00,_0x1b5294])=>{const _0x3a65ac=_0xfb9d10;let _0x2b6c5c=_0x3dc73d?_0x3dc73d+'.'+_0x31cd00:'_'+_0x31cd00;Array[_0x3a65ac(0x635)](_0x1b5294)?_0x1b5294['forEach']((_0x2cafaa,_0x45700f)=>{const _0x9f4d74=_0x3a65ac;this[_0x9f4d74(0x2a4)](_0x2cafaa,_0x2b6c5c+'['+_0x45700f+']',_0x3d765d);}):typeof _0x1b5294=='object'&&_0x1b5294!==null?this[_0x3a65ac(0x2a4)](_0x1b5294,_0x2b6c5c,_0x3d765d):_0x3d765d[_0x2b6c5c]=String(_0x1b5294);}),_0x3d765d);}[a0_0x7b141d(0x761)](_0x25b45d){const _0x3ab1d2=a0_0x7b141d;let _0x2d7a9d={};for(let _0x123ca7 of _0x25b45d)typeof _0x123ca7['name']==_0x3ab1d2(0x214)&&typeof _0x123ca7['value']=='string'&&(_0x2d7a9d[_0x123ca7['name']]=_0x123ca7[_0x3ab1d2(0x66c)]);return _0x2d7a9d;}async['NextBlock'](_0xe6917){const _0x2de08b=a0_0x7b141d;if(!this[_0x2de08b(0x75a)]?.[_0x2de08b(0x29b)][_0x2de08b(0x6b2)]||_0xe6917[_0x2de08b(0x756)]!==_0x2de08b(0x551)&&_0xe6917['waitingMenu_id']==='')return null;let _0x161bf7=_0xe6917[_0x2de08b(0x5ae)]['lastBlockId']||_0x2de08b(0x299);typeof _0xe6917[_0x2de08b(0x5ae)][_0x2de08b(0x3ec)]>'u'&&(_0xe6917[_0x2de08b(0x5ae)][_0x2de08b(0x3ec)]=!0x0);let _0x5cf9c8=_0xe6917[_0x2de08b(0x5ae)][_0x2de08b(0x3ec)];this['logger'][_0x2de08b(0x8c4)](this[_0x2de08b(0x488)]+'\x20('+this['instance']['wuid']+'):\x20lastBlockId:\x20'+_0x161bf7+',\x20lastCondition:\x20'+_0x5cf9c8);let _0x21685d=_0x161bf7===_0x2de08b(0x299)?_0xe6917[_0x2de08b(0x436)][_0x2de08b(0x61f)](_0x359179=>_0x359179[_0x2de08b(0x7ef)]===_0x2de08b(0x299)):_0xe6917['blocks'][_0x2de08b(0x61f)](_0x2eaeef=>_0x2eaeef[_0x2de08b(0x39f)][_0x2de08b(0x7b0)]()===_0x161bf7[_0x2de08b(0x7b0)]());if(!_0x21685d)return this[_0x2de08b(0x222)]['error'](this['instanceName']+'\x20('+this['instance'][_0x2de08b(0x2ab)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x161bf7),null;let _0x12f12c={'_pushName':_0xe6917?.[_0x2de08b(0x5ae)]?.['lastReceivedMessage']?.[_0x2de08b(0x191)]||'','_sender':this['instance']['wuid']||'',..._0xe6917[_0x2de08b(0x5ae)][_0x2de08b(0x16a)]},_0x34bcfc=new Date();_0x12f12c['_day']=_0x34bcfc[_0x2de08b(0x657)](),_0x12f12c[_0x2de08b(0x41c)]=_0x34bcfc['getMonth']()+0x1,_0x12f12c[_0x2de08b(0x442)]=_0x34bcfc[_0x2de08b(0x629)](),_0x12f12c[_0x2de08b(0x23c)]=_0x34bcfc[_0x2de08b(0x55f)](),_0x12f12c[_0x2de08b(0x1fb)]=_0x34bcfc[_0x2de08b(0x3b1)](),_0x12f12c[_0x2de08b(0x4ec)]=_0x34bcfc['getSeconds']();let _0x575ec3=null;if(_0xe6917['waitingMenu_id']){let _0x12eb09=_0xe6917[_0x2de08b(0x5ae)][_0x2de08b(0x413)][_0x2de08b(0x73e)],_0x85d7bf=_0xe6917[_0x2de08b(0x47c)]['find'](_0x3fd853=>_0x3fd853[_0x2de08b(0x4ef)]===_0x12eb09);if(_0x85d7bf){let _0x3b0073=_0x85d7bf['next_groupId'];if(_0x575ec3=_0xe6917['blocks'][_0x2de08b(0x61f)](_0x49120b=>_0x49120b['groupId']===_0x3b0073&&_0x49120b[_0x2de08b(0x2d4)]===0x1),_0x21685d['uazapi'][_0x2de08b(0x6b9)]){let _0x553465={'id':_0xe6917[_0x2de08b(0x831)],'remoteJid':_0xe6917[_0x2de08b(0x230)],'fromMe':!0x0};await this[_0x2de08b(0x8c2)](_0x553465);}if(_0x21685d[_0x2de08b(0x6b8)]['pollOnReplyDelete']&&_0x21685d[_0x2de08b(0x6b8)][_0x2de08b(0x489)]&&_0x21685d[_0x2de08b(0x6b8)]['menuType']===_0x2de08b(0x32e)){let _0x59ed6b={'number':_0xe6917[_0x2de08b(0x230)],'options':{'delay':0x0},'textMessage':{'text':_0x2de08b(0x257)+_0xe6917[_0x2de08b(0x58e)]+_0x2de08b(0x1e9)+_0x12eb09}};await this[_0x2de08b(0x155)](_0x59ed6b);}_0x12f12c[_0x2de08b(0x4fd)]=_0x12eb09,_0xe6917[_0x2de08b(0x756)]=_0x2de08b(0x551),_0xe6917[_0x2de08b(0x831)]='',_0xe6917['waitingMenu_text']='',_0xe6917[_0x2de08b(0x47c)]=[];}else{this[_0x2de08b(0x222)][_0x2de08b(0x8c4)](this['instanceName']+'\x20('+this[_0x2de08b(0x194)][_0x2de08b(0x2ab)]+_0x2de08b(0x31d));let _0x536fcd={'activatedCount':_0xe6917[_0x2de08b(0x5ae)]['blockLogs'][_0x2de08b(0x499)](_0x19e306=>String(_0x19e306['blockId'])===String(_0x161bf7))[_0x2de08b(0x675)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x21685d[_0x2de08b(0x6b8)][_0x2de08b(0x5b2)]){let _0x583b58={'number':_0xe6917[_0x2de08b(0x230)],'options':{'delay':0x0},'textMessage':{'text':_0x21685d[_0x2de08b(0x6b8)][_0x2de08b(0x5b2)]}};await this[_0x2de08b(0x155)](_0x583b58);}if(_0x21685d[_0x2de08b(0x493)]!==void 0x0&&_0x536fcd[_0x2de08b(0x70f)]>=_0x21685d[_0x2de08b(0x493)]){let _0x127b91=Date[_0x2de08b(0x849)](),_0x3e6f90=_0x21685d['stopMinutesMaxActives']??0xa;isNaN(_0x3e6f90)&&(_0x3e6f90=0xa);let _0x32ffa2=_0x127b91+_0x3e6f90*0x3c*0x3e8;_0x536fcd[_0x2de08b(0x4c1)]=_0x32ffa2,_0x536fcd[_0x2de08b(0x4c4)][_0x2de08b(0x7a1)](_0x2de08b(0x57f)),this[_0x2de08b(0x5fe)](_0xe6917,_0x32ffa2),_0xe6917[_0x2de08b(0x831)]='',_0xe6917['waitingMenu_text']='',_0xe6917[_0x2de08b(0x47c)]=[];}return this[_0x2de08b(0x218)](_0xe6917,_0x21685d,_0x536fcd,!0x0),null;}}if(_0x5cf9c8&&_0x21685d[_0x2de08b(0x782)]&&!_0xe6917[_0x2de08b(0x831)]){let _0x825008=_0xe6917['blocks']['filter'](_0x2bf0b9=>_0x2bf0b9[_0x2de08b(0x7d1)][_0x2de08b(0x7b0)]()===_0x21685d[_0x2de08b(0x782)][_0x2de08b(0x7b0)]())[_0x2de08b(0x6c8)]((_0x172f5f,_0x321e0d)=>_0x172f5f[_0x2de08b(0x2d4)]-_0x321e0d[_0x2de08b(0x2d4)]);_0x825008['length']>0x0&&(_0x575ec3=_0x825008[0x0]);}if(!_0x575ec3){let _0x521cf7=_0x21685d[_0x2de08b(0x7d1)],_0x2f2c33=_0xe6917[_0x2de08b(0x436)][_0x2de08b(0x499)](_0x49c361=>_0x49c361[_0x2de08b(0x7d1)]===_0x521cf7&&_0x49c361[_0x2de08b(0x2d4)]>_0x21685d[_0x2de08b(0x2d4)])[_0x2de08b(0x6c8)]((_0x11e4f4,_0x4fcd7e)=>_0x11e4f4[_0x2de08b(0x2d4)]-_0x4fcd7e[_0x2de08b(0x2d4)]);_0x2f2c33['length']>0x0&&(_0x575ec3=_0x2f2c33[0x0]);}if(!_0x575ec3)return _0xe6917[_0x2de08b(0x756)]='closed',null;_0xe6917[_0x2de08b(0x5ae)][_0x2de08b(0x16a)]=_0x12f12c;let _0x54fddc=JSON[_0x2de08b(0x7da)](JSON[_0x2de08b(0x22d)](_0x575ec3));return this[_0x2de08b(0x3ae)](_0x54fddc,_0xe6917['chatLog'][_0x2de08b(0x16a)]),_0xe6917['chatLog']['lastBlockId']=_0x54fddc[_0x2de08b(0x39f)],_0xe6917[_0x2de08b(0x5ae)][_0x2de08b(0x3ec)]=!0x0,_0x54fddc;}[a0_0x7b141d(0x377)](_0x277bde,_0x2c3432){return _0x277bde['replace'](/\{\{([^}]+)\}\}/g,(_0x1b465b,_0xde8c38)=>_0x2c3432[_0xde8c38]||'');}['replaceVariablesInObject'](_0x5d448,_0x27b8e0){const _0x3c46d3=a0_0x7b141d;for(let _0x1e302d in _0x5d448)typeof _0x5d448[_0x1e302d]=='string'?_0x5d448[_0x1e302d]=this[_0x3c46d3(0x377)](_0x5d448[_0x1e302d],_0x27b8e0):typeof _0x5d448[_0x1e302d]==_0x3c46d3(0x5ec)&&this[_0x3c46d3(0x3ae)](_0x5d448[_0x1e302d],_0x27b8e0);}async[a0_0x7b141d(0x3a1)](_0x1a2352,_0x22276e){const _0x39f750=a0_0x7b141d;let _0x3ee73b=_0x22276e[_0x39f750(0x39f)];if(_0x1a2352[_0x39f750(0x5ae)]&&_0x1a2352[_0x39f750(0x5ae)]['blockLogs']){let _0x326a35=_0x1a2352['chatLog'][_0x39f750(0x4e4)]['filter'](_0x5d5521=>String(_0x5d5521['blockId'])===String(_0x3ee73b))[_0x39f750(0x7d9)]();if(_0x326a35&&_0x326a35[_0x39f750(0x4b9)]&&_0x22276e[_0x39f750(0x66d)])return _0x1a2352['status']=_0x39f750(0x757),await this[_0x39f750(0x5c2)](_0x1a2352),null;}if(_0x22276e[_0x39f750(0x7ef)]===_0x39f750(0x6b8)&&_0x22276e['uazapi'][_0x39f750(0x788)]==='sendPoll'&&_0x1a2352[_0x39f750(0x831)])return _0x1a2352[_0x39f750(0x5ae)][_0x39f750(0x519)]=_0x3ee73b,await this[_0x39f750(0x5c2)](_0x1a2352),null;let _0x29b422=await this[_0x39f750(0x651)](_0x1a2352);if(_0x1a2352[_0x39f750(0x5ae)]&&_0x1a2352[_0x39f750(0x5ae)]['blockLogs']){let _0x29958c=_0x1a2352['chatLog']['blockLogs'][_0x39f750(0x499)](_0x350f7b=>String(_0x350f7b[_0x39f750(0x6ea)])===String(_0x3ee73b))[_0x39f750(0x675)];if(_0x22276e[_0x39f750(0x493)]!==void 0x0&&_0x29958c>=_0x22276e[_0x39f750(0x493)]){let _0x28ca0c=Date[_0x39f750(0x849)](),_0x1f3e35=_0x22276e[_0x39f750(0x5ed)]??0xa;isNaN(_0x1f3e35)&&(_0x1f3e35=0xa);let _0x43c6a9=_0x28ca0c+_0x1f3e35*0x3c*0x3e8,_0x144b9c={'newStoppedUntil':_0x43c6a9};return this['updateStopChat'](_0x1a2352,_0x43c6a9),this[_0x39f750(0x218)](_0x1a2352,_0x22276e,_0x144b9c,!0x0),null;}}_0x29b422&&_0x29b422[_0x39f750(0x7ef)]!==_0x39f750(0x5c3)&&await this[_0x39f750(0x28e)](_0x1a2352,_0x29b422),_0x29b422||await this[_0x39f750(0x5c2)](_0x1a2352),_0x29b422&&_0x29b422[_0x39f750(0x7ef)]===_0x39f750(0x5c3)&&(_0x1a2352[_0x39f750(0x5ae)][_0x39f750(0x519)]=_0x3ee73b,await this[_0x39f750(0x5c2)](_0x1a2352));}async[a0_0x7b141d(0x28e)](_0x1a44df,_0x3acd2f){const _0x39ae4e=a0_0x7b141d;try{let _0x43e903=_0x3acd2f['type'];this[_0x39ae4e(0x222)]['verbose'](this[_0x39ae4e(0x488)]+'\x20('+this[_0x39ae4e(0x194)]['wuid']+'):\x20Going\x20to\x20'+_0x43e903);let _0x5b7e33={'uazapi':()=>this[_0x39ae4e(0x15a)](_0x1a44df,_0x3acd2f),'save':()=>this[_0x39ae4e(0x674)](_0x1a44df,_0x3acd2f),'stop':()=>this[_0x39ae4e(0x7c0)](_0x1a44df,_0x3acd2f),'condition':()=>this[_0x39ae4e(0x6f6)](_0x1a44df,_0x3acd2f),'varedit':()=>this[_0x39ae4e(0x577)](_0x1a44df,_0x3acd2f),'apirequest':()=>this[_0x39ae4e(0x169)](_0x1a44df,_0x3acd2f),'goToFlow':()=>this[_0x39ae4e(0x231)](_0x1a44df,_0x3acd2f),'scheduleFlow':()=>this[_0x39ae4e(0x7fe)](_0x1a44df,_0x3acd2f),'awaitSeconds':()=>this['processawaitSeconds'](_0x1a44df,_0x3acd2f),'clearVariables':()=>this[_0x39ae4e(0x5c0)](_0x1a44df,_0x3acd2f)}[_0x43e903];_0x5b7e33&&await _0x5b7e33();}catch(_0x43b96a){this[_0x39ae4e(0x222)]['error'](this[_0x39ae4e(0x488)]+'\x20('+this[_0x39ae4e(0x194)]['wuid']+_0x39ae4e(0x4c8)+(_0x43b96a instanceof Error?_0x43b96a[_0x39ae4e(0x1f9)]:JSON['stringify'](_0x43b96a,null,0x2)));}}async[a0_0x7b141d(0x166)](_0x2937a1,_0x512b5c){const _0x17794d=a0_0x7b141d;if(this[_0x17794d(0x222)]['verbose'](this[_0x17794d(0x488)]+'\x20('+this['instance'][_0x17794d(0x2ab)]+_0x17794d(0x43b)),!_0x2937a1||!_0x512b5c)return this[_0x17794d(0x222)][_0x17794d(0x4b9)](this[_0x17794d(0x488)]+'\x20('+this[_0x17794d(0x194)][_0x17794d(0x2ab)]+_0x17794d(0x22c)),null;let _0x438b1f=+_0x512b5c[_0x17794d(0x4ea)];isNaN(_0x438b1f)&&(_0x438b1f=0x0),_0x438b1f=Math[_0x17794d(0x23f)](_0x438b1f,0x3c),await(0x0,w['delay'])(_0x438b1f*0x3e8);let _0x8fc1a7={'moreLogs':[_0x17794d(0x85e)+_0x438b1f+_0x17794d(0x1d2)]};return await this['updateConversation'](_0x2937a1,_0x512b5c,_0x8fc1a7),_0x438b1f;}async[a0_0x7b141d(0x5c0)](_0x368914,_0x1376c9){const _0x52dcdc=a0_0x7b141d;if(this[_0x52dcdc(0x222)]['verbose'](this[_0x52dcdc(0x488)]+'\x20('+this[_0x52dcdc(0x194)][_0x52dcdc(0x2ab)]+_0x52dcdc(0x4f9)),!_0x368914||!_0x1376c9)return this[_0x52dcdc(0x222)][_0x52dcdc(0x4b9)](this['instanceName']+'\x20('+this[_0x52dcdc(0x194)][_0x52dcdc(0x2ab)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x3000df=[];if(_0x1376c9[_0x52dcdc(0x25a)][_0x52dcdc(0x223)]()==='[all]'){let _0x426d8c=[_0x52dcdc(0x18f),_0x52dcdc(0x4df),_0x52dcdc(0x4a6),_0x52dcdc(0x1e6),_0x52dcdc(0x33d),_0x52dcdc(0x39f),_0x52dcdc(0x547)];_0x3000df=Object['keys'](_0x368914[_0x52dcdc(0x5ae)][_0x52dcdc(0x16a)])[_0x52dcdc(0x499)](_0x59db05=>_0x59db05[_0x52dcdc(0x5f6)]('_')&&!_0x426d8c[_0x52dcdc(0x87b)](_0x59db05));}else _0x3000df=_0x1376c9[_0x52dcdc(0x25a)][_0x52dcdc(0x20d)]('|')[_0x52dcdc(0x62e)](_0x1893b5=>(_0x1893b5=_0x1893b5['replace'](/[{}]/g,'')[_0x52dcdc(0x223)](),_0x1893b5[_0x52dcdc(0x5f6)]('_')?_0x1893b5:'_'+_0x1893b5));let _0x18ea82=[];_0x3000df[_0x52dcdc(0x677)](_0x3ebae9=>{const _0x430f97=_0x52dcdc;_0x3ebae9 in _0x368914[_0x430f97(0x5ae)][_0x430f97(0x16a)]&&(delete _0x368914[_0x430f97(0x5ae)][_0x430f97(0x16a)][_0x3ebae9],_0x18ea82[_0x430f97(0x7a1)](_0x3ebae9));}),_0x18ea82[_0x52dcdc(0x675)]>0x0?this['logger'][_0x52dcdc(0x8c4)](this[_0x52dcdc(0x488)]+'\x20('+this[_0x52dcdc(0x194)][_0x52dcdc(0x2ab)]+_0x52dcdc(0x16c)+_0x18ea82[_0x52dcdc(0x797)](',\x20')):this['logger'][_0x52dcdc(0x8c4)](this[_0x52dcdc(0x488)]+'\x20('+this[_0x52dcdc(0x194)][_0x52dcdc(0x2ab)]+'):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção');let _0x44d478={'moreLogs':['Removidas\x20as\x20variáveis:\x20'+_0x18ea82[_0x52dcdc(0x797)](',\x20')]};return await this[_0x52dcdc(0x218)](_0x368914,_0x1376c9,_0x44d478),null;}async['processScheduleFlow'](_0x2430cd,_0x50b150){const _0x1fc3c6=a0_0x7b141d;if(this['logger'][_0x1fc3c6(0x8c4)](this[_0x1fc3c6(0x488)]+'\x20('+this[_0x1fc3c6(0x194)][_0x1fc3c6(0x2ab)]+_0x1fc3c6(0x192)),!_0x2430cd||!_0x50b150)return this['logger'][_0x1fc3c6(0x4b9)](this[_0x1fc3c6(0x488)]+'\x20('+this[_0x1fc3c6(0x194)][_0x1fc3c6(0x2ab)]+_0x1fc3c6(0x22c)),null;let _0x492581=_0x2430cd['remoteJid'];_0x50b150[_0x1fc3c6(0x163)]['remoteJid']&&_0x50b150[_0x1fc3c6(0x163)][_0x1fc3c6(0x230)][_0x1fc3c6(0x223)]()!==''&&(_0x492581=_0x50b150[_0x1fc3c6(0x6b8)]['remoteJid'][_0x1fc3c6(0x223)]());let _0x54a3d5=_0x50b150['scheduleFlow'][_0x1fc3c6(0x63b)]*0xea60,_0x31a4b7=Date[_0x1fc3c6(0x849)]()+_0x54a3d5,_0x457853={'status':'scheduled','info':'Fluxo\x20agendado\x20pelo\x20fluxo\x20'+_0x2430cd[_0x1fc3c6(0x3f5)],'remoteJids':[_0x492581],'when':_0x31a4b7,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x1fc3c6(0x4b6),'flowName':_0x50b150[_0x1fc3c6(0x163)][_0x1fc3c6(0x3c6)]};this['editScheduleMessage'](_0x457853);let _0x12c496=await this[_0x1fc3c6(0x651)](_0x2430cd);_0x12c496&&await this[_0x1fc3c6(0x28e)](_0x2430cd,_0x12c496);}async[a0_0x7b141d(0x231)](_0x497272,_0xf3506c){const _0x1ce607=a0_0x7b141d;if(this['logger'][_0x1ce607(0x8c4)](this[_0x1ce607(0x488)]+'\x20('+this[_0x1ce607(0x194)][_0x1ce607(0x2ab)]+_0x1ce607(0x259)),!_0x497272||!_0xf3506c)return this[_0x1ce607(0x222)][_0x1ce607(0x4b9)](this[_0x1ce607(0x488)]+'\x20('+this[_0x1ce607(0x194)][_0x1ce607(0x2ab)]+_0x1ce607(0x22c)),null;await this[_0x1ce607(0x218)](_0x497272,_0xf3506c,{},!0x0,!0x0);let _0x63f57c=_0xf3506c[_0x1ce607(0x4cf)];_0x497272=await this[_0x1ce607(0x5af)](_0x63f57c,_0x497272[_0x1ce607(0x230)],_0x497272[_0x1ce607(0x5ae)][_0x1ce607(0x16a)]);let _0x5c9cff=await this['NextBlock'](_0x497272);_0x5c9cff&&await this['processblock'](_0x497272,_0x5c9cff);}async[a0_0x7b141d(0x5af)](_0x2844ef,_0x32696c,_0x8bb894){const _0x10dd6b=a0_0x7b141d;this[_0x10dd6b(0x222)][_0x10dd6b(0x8c4)](this[_0x10dd6b(0x488)]+'\x20('+this[_0x10dd6b(0x194)]['wuid']+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{let _0xb9d3c5=this[_0x10dd6b(0x75a)][_0x10dd6b(0x3ee)][_0x10dd6b(0x61f)](_0x2caf8f=>_0x2caf8f[_0x10dd6b(0x39f)]===_0x2844ef);_0xb9d3c5||this[_0x10dd6b(0x222)][_0x10dd6b(0x4b9)](this[_0x10dd6b(0x488)]+'\x20('+this[_0x10dd6b(0x194)][_0x10dd6b(0x2ab)]+'):\x20Flow\x20\x27'+_0x2844ef+_0x10dd6b(0x36e));let _0x28b8c9=await this[_0x10dd6b(0x60c)][_0x10dd6b(0x4b6)][_0x10dd6b(0x89d)]({'where':{'_id':_0xb9d3c5[_0x10dd6b(0x39f)]}});if(!_0x28b8c9||!_0x28b8c9[_0x10dd6b(0x5a5)]?.[_0x10dd6b(0x87b)](this[_0x10dd6b(0x194)][_0x10dd6b(0x2ab)]))throw this[_0x10dd6b(0x222)]['error'](this[_0x10dd6b(0x488)]+'\x20('+this[_0x10dd6b(0x194)][_0x10dd6b(0x2ab)]+'):\x20Flow\x20\x27'+_0x2844ef+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x10dd6b(0x56a)+_0x2844ef+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x1bed94=require(_0x10dd6b(0x3d8))[_0x10dd6b(0x722)],_0x4bcdd6=Date[_0x10dd6b(0x849)](),_0x56cfd1=_0x10dd6b(0x299),_0x532908={},_0x1557b7={},_0x38607e=this[_0x10dd6b(0x75a)][_0x10dd6b(0x3ee)][_0x10dd6b(0x61f)](_0x531cee=>_0x531cee[_0x10dd6b(0x39f)]===_0x28b8c9[_0x10dd6b(0x39f)]?.[_0x10dd6b(0x7b0)]()),_0x3cf6db=_0x38607e?.[_0x10dd6b(0x6a7)]??_0x28b8c9['minutesToClose']??0x0,_0x4f7de2=_0x38607e?.['readMessages']??_0x28b8c9[_0x10dd6b(0x8c3)]??!0x1,_0x245502={'flowId':_0xb9d3c5['_id'],'readMessages':_0xb9d3c5[_0x10dd6b(0x8c3)],..._0x28b8c9,'chatLog':null},_0x37f0eb={'lastReceivedMessage':_0x532908,'lastSendMessage':_0x1557b7,'lastBlockId':_0x56cfd1,'lastCondition':!0x0,'realVariables':_0x8bb894};_0x245502[_0x10dd6b(0x5ae)]=_0x37f0eb,_0x245502[_0x10dd6b(0x5ae)][_0x10dd6b(0x16a)]={..._0x8bb894},delete _0x245502['_id'],_0x245502[_0x10dd6b(0x39f)]=new _0x1bed94(),_0x245502[_0x10dd6b(0x321)]=_0x4bcdd6,_0x245502[_0x10dd6b(0x756)]=_0x10dd6b(0x551),_0x245502[_0x10dd6b(0x230)]=_0x32696c,_0x245502['minutesToClose']=_0x3cf6db,_0x245502[_0x10dd6b(0x8c3)]=_0x4f7de2;let _0x26dbe0=await this[_0x10dd6b(0x60c)][_0x10dd6b(0x44a)][_0x10dd6b(0x319)](_0x245502[_0x10dd6b(0x39f)],_0x245502,this['instance']['wuid']);return this[_0x10dd6b(0x222)]['verbose'](this[_0x10dd6b(0x488)]+'\x20('+this[_0x10dd6b(0x194)][_0x10dd6b(0x2ab)]+_0x10dd6b(0x82e)),_0x26dbe0?_0x245502:null;}catch(_0x52e488){let _0x4a9a17='Erro\x20ao\x20copiar\x20o\x20documento',_0x25437b=_0x52e488 instanceof Error?_0x52e488[_0x10dd6b(0x1f9)]:typeof _0x52e488=='object'?JSON['stringify'](_0x52e488):_0x52e488,_0x3468bd=_0x4a9a17+':\x20'+_0x25437b;throw this[_0x10dd6b(0x222)][_0x10dd6b(0x4b9)](this[_0x10dd6b(0x488)]+'\x20('+this[_0x10dd6b(0x194)][_0x10dd6b(0x2ab)]+_0x10dd6b(0x21e)+_0x3468bd),new m(_0x3468bd);}}async[a0_0x7b141d(0x169)](_0xfbbf84,_0x5f0862){const _0x4d6fdc=a0_0x7b141d;let _0x1e3ee5,_0x25655b;try{let _0xa97693=_0x5f0862[_0x4d6fdc(0x5bc)];if(!_0xa97693||!_0xa97693[_0x4d6fdc(0x2d8)]||!_0xa97693[_0x4d6fdc(0x5b6)])throw new Error(_0x4d6fdc(0x423));let _0x566288;([_0x4d6fdc(0x790),_0x4d6fdc(0x335),'https://api.elevenlabs.io/v1/text-to-speech/']['some'](_0x245597=>_0xa97693['url'][_0x4d6fdc(0x87b)](_0x245597))||_0xa97693['requestFile'])&&(_0x566288=_0x4d6fdc(0x2a3));let _0x199c8f='\u205f',_0x4d877d;try{_0x4d877d=JSON[_0x4d6fdc(0x7da)](_0xa97693['bodyString']['replace'](new RegExp(_0x199c8f,'g'),''));}catch(_0x4ca69c){throw _0x4ca69c;}let _0x5b883a={'method':_0xa97693[_0x4d6fdc(0x5b6)],'url':_0xa97693[_0x4d6fdc(0x2d8)],'headers':_0xa97693['header']||{},..._0xa97693[_0x4d6fdc(0x5b6)][_0x4d6fdc(0x4bd)]()!=='GET'&&_0xa97693[_0x4d6fdc(0x67d)]?{'data':JSON[_0x4d6fdc(0x7da)](_0xa97693[_0x4d6fdc(0x67d)][_0x4d6fdc(0x563)](new RegExp(_0x199c8f,'g'),''))}:{},..._0x566288&&{'responseType':_0x566288}},_0xb5cf83=await(0x0,Q['default'])(_0x5b883a),_0x2c1b63=_0xb5cf83[_0x4d6fdc(0x860)]['content-type'];if(_0x2c1b63&&_0x2c1b63[_0x4d6fdc(0x87b)](_0x4d6fdc(0x334))||typeof _0xb5cf83[_0x4d6fdc(0x645)]=='string'){if(typeof _0xb5cf83['data']==_0x4d6fdc(0x214)){let _0xa82736=_0xb5cf83[_0x4d6fdc(0x645)]['replace'](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x4d6fdc(0x223)]();try{_0x1e3ee5=JSON[_0x4d6fdc(0x7da)](_0xa82736);}catch(_0xee58de){this[_0x4d6fdc(0x222)][_0x4d6fdc(0x4b9)]('Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20'+_0xee58de[_0x4d6fdc(0x1f9)]),_0x1e3ee5={'_apiResponse':_0xb5cf83['data']};}}else _0x1e3ee5=_0xb5cf83['data'];let _0x3bc5de=_0xfbbf84[_0x4d6fdc(0x5ae)][_0x4d6fdc(0x16a)],_0x39a222=this[_0x4d6fdc(0x2a4)](_0x1e3ee5);return Object['assign'](_0x3bc5de,_0x39a222),_0xfbbf84['chatLog'][_0x4d6fdc(0x16a)]=_0x3bc5de,_0x25655b={'error':!0x1,'apiResponse':_0x1e3ee5},this[_0x4d6fdc(0x218)](_0xfbbf84,_0x5f0862,_0x25655b),_0x1e3ee5;}if(_0x2c1b63&&(_0x2c1b63['includes'](_0x4d6fdc(0x892))||_0x2c1b63[_0x4d6fdc(0x87b)](_0x4d6fdc(0x24a))||_0x2c1b63[_0x4d6fdc(0x87b)](_0x4d6fdc(0x59a))||_0x2c1b63[_0x4d6fdc(0x87b)](_0x4d6fdc(0x2a5)))){this[_0x4d6fdc(0x222)][_0x4d6fdc(0x8c4)](this[_0x4d6fdc(0x488)]+'\x20('+this[_0x4d6fdc(0x194)]['wuid']+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0x2c1b63);let _0x341468=(0x0,Y['v4'])(),_0x2a9557='',_0x124957={'image/jpeg':'.jpg','image/png':_0x4d6fdc(0x64d),'image/gif':_0x4d6fdc(0x68e),'image/webp':_0x4d6fdc(0x720),'image/svg+xml':_0x4d6fdc(0x2c8),'audio/mpeg':_0x4d6fdc(0x63c),'audio/ogg':'.ogg','audio/wav':_0x4d6fdc(0x7ab),'video/mp4':_0x4d6fdc(0x396),'video/webm':_0x4d6fdc(0x380),'video/ogg':'.ogv','text/plain':_0x4d6fdc(0x86e),'application/pdf':'.pdf','application/msword':'.doc','application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x4d6fdc(0x6cb),'application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x4d6fdc(0x7be),'application/vnd.ms-powerpoint':_0x4d6fdc(0x515),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x124957[_0x2c1b63]?(_0x2a9557=_0x124957[_0x2c1b63],this[_0x4d6fdc(0x222)][_0x4d6fdc(0x8c4)](this['instanceName']+'\x20('+this[_0x4d6fdc(0x194)][_0x4d6fdc(0x2ab)]+'):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20'+_0x2a9557)):(_0x2a9557=_0x4d6fdc(0x446),this[_0x4d6fdc(0x222)]['verbose'](this[_0x4d6fdc(0x488)]+'\x20('+this['instance'][_0x4d6fdc(0x2ab)]+_0x4d6fdc(0x4e0)+_0x2a9557)),_0x341468+=_0x2a9557,this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4d6fdc(0x194)][_0x4d6fdc(0x2ab)]+_0x4d6fdc(0x8ba)+_0x341468);let _0x596318=this[_0x4d6fdc(0x695)][_0x4d6fdc(0x6c9)](_0x4d6fdc(0x653))[_0x4d6fdc(0x5b5)];if(!_0x596318){let _0x16286a=this[_0x4d6fdc(0x695)][_0x4d6fdc(0x6c9)]('SSL_CONF');_0x596318=_0x4d6fdc(0x609)+(_0x16286a&&_0x16286a['FULLCHAIN']['split']('/')[0x4]);}let _0x1180b4=Buffer['from'](_0xb5cf83[_0x4d6fdc(0x645)]);await this[_0x4d6fdc(0x407)](_0x1180b4,_0x341468);let _0x4fd89a=_0x4d6fdc(0x448)+_0x341468;_0x4fd89a=''+_0x596318+_0x4fd89a,_0x1e3ee5={'fileUrl':_0x4fd89a},_0xfbbf84['chatLog'][_0x4d6fdc(0x16a)][_0x4d6fdc(0x80e)]=_0x4fd89a;let _0x22c8fa=_0xfbbf84[_0x4d6fdc(0x5ae)][_0x4d6fdc(0x16a)],_0x1a7f4d=this[_0x4d6fdc(0x2a4)](_0x1e3ee5);return Object[_0x4d6fdc(0x6ef)](_0x22c8fa,_0x1a7f4d),_0xfbbf84[_0x4d6fdc(0x5ae)]['realVariables']=_0x22c8fa,_0x25655b={'error':!0x1,'apiResponse':{'fileUrl':_0x4fd89a}},this[_0x4d6fdc(0x218)](_0xfbbf84,_0x5f0862,_0x25655b),_0x1e3ee5;}}catch(_0x4b5d50){this['logger'][_0x4d6fdc(0x4b9)]('Erro\x20ao\x20processar\x20a\x20chamada\x20API:'+_0x4b5d50['message']),_0x4b5d50[_0x4d6fdc(0x881)]&&(_0x1e3ee5=_0x4b5d50[_0x4d6fdc(0x881)][_0x4d6fdc(0x645)]);let _0x5d5c2d=_0xfbbf84[_0x4d6fdc(0x5ae)]['realVariables'],_0x3a3d45=this[_0x4d6fdc(0x2a4)](_0x1e3ee5);return Object['assign'](_0x5d5c2d,_0x3a3d45),_0xfbbf84[_0x4d6fdc(0x5ae)][_0x4d6fdc(0x16a)]=_0x5d5c2d,_0x25655b={'error':!0x0,'errorLog':_0x4b5d50[_0x4d6fdc(0x7b0)](),'apiResponse':_0x1e3ee5},this[_0x4d6fdc(0x218)](_0xfbbf84,_0x5f0862,_0x25655b),{'success':!0x1};}}[a0_0x7b141d(0x5d9)](_0x539ed4,_0x2f3fe4){const _0x26a4c2=a0_0x7b141d;let _0x4ad3fd=_0x1ae78d=>{const _0x1e3047=a0_0x77b5;let _0x50f825=_0x1ae78d['replace'](/[^0-9.,-]/g,'')[_0x1e3047(0x563)](',','.'),_0x1c9bad=parseFloat(_0x50f825);return isNaN(_0x1c9bad)?null:_0x1c9bad;},_0x51413a=_0x2f3fe4['firstValue'],_0x431c22=_0x2f3fe4['secondValue'];typeof _0x51413a==_0x26a4c2(0x214)&&(_0x51413a=this[_0x26a4c2(0x377)](_0x51413a,_0x539ed4['chatLog'][_0x26a4c2(0x16a)])??''),typeof _0x431c22==_0x26a4c2(0x214)&&(_0x431c22=this['replaceVariables'](_0x431c22,_0x539ed4[_0x26a4c2(0x5ae)][_0x26a4c2(0x16a)])??'');let _0x2f0c37=null;if(!_0x2f3fe4[_0x26a4c2(0x664)])return null;switch(this[_0x26a4c2(0x222)][_0x26a4c2(0x8c4)](this[_0x26a4c2(0x488)]+'\x20('+this[_0x26a4c2(0x194)][_0x26a4c2(0x2ab)]+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x51413a),this[_0x26a4c2(0x222)][_0x26a4c2(0x8c4)](this['instanceName']+'\x20('+this[_0x26a4c2(0x194)][_0x26a4c2(0x2ab)]+_0x26a4c2(0x82c)+_0x431c22),_0x2f3fe4['editOperator']){case'+':case'-':case'*':case'/':let _0x3ee337=_0x4ad3fd(_0x51413a||'0'),_0x57193d=_0x4ad3fd(_0x431c22||'0');if(_0x3ee337===null)return null;switch(_0x2f3fe4['editOperator']){case'+':_0x2f0c37=_0x3ee337+(_0x57193d??0x0);break;case'-':_0x2f0c37=_0x3ee337-(_0x57193d??0x0);break;case'*':_0x2f0c37=_0x3ee337*(_0x57193d??0x1);break;case'/':_0x57193d!==0x0&&(_0x2f0c37=_0x3ee337/(_0x57193d??0x1));break;}break;case _0x26a4c2(0x554):case _0x26a4c2(0x6a8):let _0x55c3c9=_0x431c22,_0x3dab26=_0x2f3fe4[_0x26a4c2(0x239)];if(typeof _0x3dab26==_0x26a4c2(0x214)&&(_0x3dab26=this[_0x26a4c2(0x377)](_0x3dab26,_0x539ed4[_0x26a4c2(0x5ae)][_0x26a4c2(0x16a)])??''),_0x55c3c9&&_0x3dab26!==void 0x0){let _0x5cd340=_0x2f3fe4[_0x26a4c2(0x664)]===_0x26a4c2(0x554)?new RegExp(_0x55c3c9['replace'](/[-\/\\^$*+?.()|[\]{}]/g,_0x26a4c2(0x4a1)),'g'):new RegExp(_0x55c3c9,'g');_0x2f0c37=_0x51413a[_0x26a4c2(0x563)](_0x5cd340,_0x3dab26);}else console[_0x26a4c2(0x38b)](_0x26a4c2(0x49b));break;case _0x26a4c2(0x658):_0x2f0c37=_0x431c22;break;case'extractRegex':let _0x5db1de=_0x51413a['match'](new RegExp(_0x431c22||''));_0x2f0c37=_0x5db1de?_0x5db1de[0x0]:'';break;case'truncatedto':_0x2f0c37=_0x51413a[_0x26a4c2(0x561)](0x0,parseInt(_0x431c22||'0'));break;case _0x26a4c2(0x6f5):let _0x43dca3=parseInt(_0x431c22||'0');_0x2f0c37=_0x51413a[_0x26a4c2(0x561)](_0x51413a[_0x26a4c2(0x675)]-_0x43dca3);break;case _0x26a4c2(0x89c):let _0x46e1a4=_0x4ad3fd(_0x51413a),_0x410a1c=parseInt(_0x431c22||'0');_0x410a1c=Math['abs'](_0x410a1c),_0x46e1a4!==null?_0x2f0c37=_0x46e1a4[_0x26a4c2(0x565)](_0x26a4c2(0x7c7),{'minimumFractionDigits':_0x410a1c,'maximumFractionDigits':_0x410a1c}):(console['warn']('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x51413a),_0x2f0c37=null);break;case _0x26a4c2(0x285):let _0x491f18=_0x4ad3fd(_0x51413a);_0x491f18!==null?_0x2f0c37=_0x491f18[_0x26a4c2(0x565)](_0x26a4c2(0x7c7),{'style':'currency','currency':_0x26a4c2(0x4ee)}):(console[_0x26a4c2(0x38b)](_0x26a4c2(0x1a5)+_0x51413a),_0x2f0c37=null);break;case _0x26a4c2(0x75b):_0x2f0c37=_0x51413a[_0x26a4c2(0x4bd)]();break;case'lowerCase':_0x2f0c37=_0x51413a[_0x26a4c2(0x374)]();break;case'capitalizedWords':_0x2f0c37=_0x51413a[_0x26a4c2(0x20d)]('\x20')[_0x26a4c2(0x62e)](_0x2c89ed=>_0x2c89ed[_0x26a4c2(0x2c2)](0x0)['toUpperCase']()+_0x2c89ed[_0x26a4c2(0x561)](0x1)[_0x26a4c2(0x374)]())[_0x26a4c2(0x797)]('\x20');break;case _0x26a4c2(0x85a):_0x2f0c37=JSON['stringify'](_0x51413a);break;case _0x26a4c2(0x7c9):_0x2f0c37=_0x51413a[_0x26a4c2(0x223)]();break;default:_0x2f0c37=_0x51413a;}return _0x2f0c37!==null?_0x2f0c37[_0x26a4c2(0x7b0)]():null;}async[a0_0x7b141d(0x577)](_0x55f9e9,_0x3c95b7){const _0x2e9df9=a0_0x7b141d;try{let _0x126237=_0x55f9e9[_0x2e9df9(0x4d8)]?.[_0x2e9df9(0x499)](_0x4d64ee=>_0x4d64ee['blockId']===_0x3c95b7['_id']?.['toString']())||[],_0x10d4e9=_0x3c95b7['saveVariable'],_0xd82e38=null,_0x563752=[],_0x261e45=_0x55f9e9[_0x2e9df9(0x5ae)]['realVariables'][_0x10d4e9];_0x563752[_0x2e9df9(0x7a1)]('Valor\x20inicial:\x20\x22'+_0x261e45+'\x22');for(let _0x30b046 of _0x126237){_0x30b046[_0x2e9df9(0x671)]=_0x261e45,_0xd82e38=_0x30b046[_0x2e9df9(0x671)];let _0xdc2ecf;try{_0xdc2ecf=this[_0x2e9df9(0x5d9)](_0x55f9e9,_0x30b046);}catch(_0x501fb0){this[_0x2e9df9(0x222)][_0x2e9df9(0x4b9)](_0x2e9df9(0x827)+_0x501fb0[_0x2e9df9(0x1f9)]);continue;}if(_0xdc2ecf!==null){let _0x74e4b6=_0x2e9df9(0x421)+_0x30b046[_0x2e9df9(0x664)]+'\x22',_0x3f71c5=[_0x2e9df9(0x285),_0x2e9df9(0x75b),_0x2e9df9(0x1e7),'capitalizedWords',_0x2e9df9(0x7c9)];_0x30b046[_0x2e9df9(0x664)]===_0x2e9df9(0x554)||_0x30b046['editOperator']===_0x2e9df9(0x6a8)?_0x74e4b6+=_0x2e9df9(0x7d6)+_0x30b046[_0x2e9df9(0x835)]+_0x2e9df9(0x6a6)+_0x30b046[_0x2e9df9(0x239)]+'\x22':!_0x3f71c5[_0x2e9df9(0x87b)](_0x30b046[_0x2e9df9(0x664)])&&_0x30b046[_0x2e9df9(0x835)]!==null&&_0x30b046[_0x2e9df9(0x835)]!==void 0x0&&(_0x74e4b6+=_0x2e9df9(0x7cf)+_0x30b046[_0x2e9df9(0x835)]+'\x22'),_0x74e4b6+=_0x2e9df9(0x226)+_0xdc2ecf+'.',_0x563752[_0x2e9df9(0x7a1)](_0x74e4b6);}_0xdc2ecf!==null&&(_0x261e45=_0xdc2ecf);}if(_0x55f9e9['chatLog'][_0x2e9df9(0x16a)]&&_0x3c95b7[_0x2e9df9(0x3a2)]){_0x55f9e9[_0x2e9df9(0x5ae)]['realVariables'][_0x3c95b7['saveVariable']]=_0x261e45;let _0xd0f65a={'variable':_0x3c95b7[_0x2e9df9(0x3a2)],'oldValue':_0xd82e38,'newValue':_0x261e45,'moreLogs':_0x563752};try{this[_0x2e9df9(0x218)](_0x55f9e9,_0x3c95b7,_0xd0f65a);}catch(_0x18c5b5){this[_0x2e9df9(0x222)][_0x2e9df9(0x4b9)](_0x2e9df9(0x200)+_0x18c5b5['message']);}}return _0x10d4e9;}catch(_0xe0eaf7){return this[_0x2e9df9(0x222)][_0x2e9df9(0x4b9)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0xe0eaf7[_0x2e9df9(0x1f9)]),null;}}async['processConditions'](_0x17aece,_0xb542ac){const _0x2be13b=a0_0x7b141d;try{let _0x42738=[],_0x22ed5d=_0x17aece[_0x2be13b(0x268)][_0x2be13b(0x499)](_0x2c7706=>_0x2c7706[_0x2be13b(0x6ea)]===_0xb542ac[_0x2be13b(0x39f)]['toString']()),_0x478b2a=null,_0x2cd834=!0x1;for(let _0x2a6076 of _0x22ed5d){let _0x27d6d0=this[_0x2be13b(0x606)](_0x17aece,_0x2a6076);_0x42738[_0x2be13b(0x7a1)]('Primeiro\x20Valor:\x20'+_0x2a6076[_0x2be13b(0x671)]+_0x2be13b(0x804)+_0x2a6076[_0x2be13b(0x5d6)]+',\x20Segundo\x20Valor:\x20'+_0x2a6076['secondValue']+_0x2be13b(0x53e)+_0x27d6d0),_0x478b2a===null?_0x478b2a=_0x27d6d0:_0x2a6076[_0x2be13b(0x204)]===_0x2be13b(0x500)?(_0x478b2a=_0x478b2a&&_0x27d6d0,_0x27d6d0||(_0x2cd834=!0x0)):_0x2a6076[_0x2be13b(0x204)]==='or'&&(_0x2cd834||(_0x478b2a=_0x478b2a||_0x27d6d0));}_0x478b2a===null&&(_0x478b2a=!0x0);let _0x4ea6c1={'moreLogs':_0x42738};_0x17aece[_0x2be13b(0x5ae)][_0x2be13b(0x3ec)]=_0x478b2a,await this['updateConversation'](_0x17aece,_0xb542ac,_0x4ea6c1);}catch(_0x516617){this[_0x2be13b(0x222)]['error'](this[_0x2be13b(0x488)]+'\x20('+this[_0x2be13b(0x194)][_0x2be13b(0x2ab)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x516617 instanceof Error?_0x516617[_0x2be13b(0x1f9)]:JSON[_0x2be13b(0x22d)](_0x516617,null,0x2)));}}[a0_0x7b141d(0x606)](_0x3f03f3,_0xa14748){const _0x520b05=a0_0x7b141d;let _0x46b8fa=_0xa14748[_0x520b05(0x671)],_0x150ae0=_0xa14748['secondValue'];typeof _0x46b8fa==_0x520b05(0x214)&&(_0x46b8fa=this['replaceVariables'](_0x46b8fa,_0x3f03f3[_0x520b05(0x5ae)]['realVariables'])??''),typeof _0x150ae0==_0x520b05(0x214)&&(_0x150ae0=this[_0x520b05(0x377)](_0x150ae0,_0x3f03f3['chatLog']['realVariables'])??'');try{switch(_0xa14748[_0x520b05(0x5d6)]){case'equal':return _0x46b8fa===_0x150ae0;case _0x520b05(0x5ea):return _0x46b8fa!==_0x150ae0;case _0x520b05(0x4f2):return this[_0x520b05(0x4f2)](_0x46b8fa,_0x150ae0);case _0x520b05(0x643):return!this[_0x520b05(0x4f2)](_0x46b8fa,_0x150ae0);case _0x520b05(0x3ce):return parseFloat(_0x46b8fa)>parseFloat(_0x150ae0);case _0x520b05(0x70d):return parseFloat(_0x46b8fa)<parseFloat(_0x150ae0);case _0x520b05(0x62d):return _0x46b8fa!=='';case _0x520b05(0x1cd):return _0x46b8fa==='';case _0x520b05(0x1dc):return new RegExp(_0x150ae0)[_0x520b05(0x4ca)](_0x46b8fa);case _0x520b05(0x27d):return!new RegExp(_0x150ae0)[_0x520b05(0x4ca)](_0x46b8fa);default:return!0x1;}}catch(_0x3855a7){return this[_0x520b05(0x222)][_0x520b05(0x4b9)](_0x520b05(0x708)+_0x3855a7),!0x1;}}['contains'](_0x290da4,_0x3ce42d){const _0x2b7b09=a0_0x7b141d;if(_0x290da4===_0x3ce42d&&/^\d+$/['test'](_0x290da4))return!0x0;if(this[_0x2b7b09(0x88e)](_0x290da4)&&/^\d+$/['test'](_0x3ce42d)){let _0x4c5210=_0x290da4[_0x2b7b09(0x20d)](',')[_0x2b7b09(0x62e)](_0x448bb2=>parseInt(_0x448bb2[_0x2b7b09(0x223)]())),_0x1e4544=parseInt(_0x3ce42d);return _0x4c5210['includes'](_0x1e4544);}return _0x290da4[_0x2b7b09(0x87b)](_0x3ce42d);}[a0_0x7b141d(0x88e)](_0xbf0c81){return/^\d+(,\d+)*$/['test'](_0xbf0c81);}[a0_0x7b141d(0x330)](_0x5ec988){const _0x1c9ddc=a0_0x7b141d;let _0x1d696b=!0x0,_0x3228e0=null;for(let _0xeb0966 of _0x5ec988){let _0x552bd5=this[_0x1c9ddc(0x15b)](_0xeb0966);if(_0x3228e0==='or'&&_0x552bd5){_0x1d696b=!0x0;break;}if(_0x3228e0==='and'&&!_0x552bd5){_0x1d696b=!0x1;break;}_0x3228e0=_0xeb0966['OrAnd'];}return _0x1d696b;}[a0_0x7b141d(0x15b)](_0x20b7d4){const _0x51449c=a0_0x7b141d;let _0x581cdd=_0x20b7d4[_0x51449c(0x671)],_0xae4aef=_0x20b7d4[_0x51449c(0x835)];try{switch(_0x20b7d4['expression']){case _0x51449c(0x3ff):return String(_0x581cdd)===String(_0xae4aef);case _0x51449c(0x5ea):return String(_0x581cdd)!==String(_0xae4aef);case _0x51449c(0x4f2):return String(_0x581cdd)[_0x51449c(0x87b)](String(_0xae4aef));case _0x51449c(0x643):return!String(_0x581cdd)[_0x51449c(0x87b)](String(_0xae4aef));case'greater':return parseFloat(String(_0x581cdd))>parseFloat(String(_0xae4aef));case _0x51449c(0x70d):return parseFloat(String(_0x581cdd))<parseFloat(String(_0xae4aef));case _0x51449c(0x62d):return String(_0x581cdd)!=='';case _0x51449c(0x1cd):return String(_0x581cdd)==='';case _0x51449c(0x1dc):return new RegExp(String(_0xae4aef))[_0x51449c(0x4ca)](String(_0x581cdd));case _0x51449c(0x27d):return!new RegExp(String(_0xae4aef))[_0x51449c(0x4ca)](String(_0x581cdd));default:return!0x1;}}catch(_0xed83b){return this[_0x51449c(0x222)][_0x51449c(0x4b9)](_0x51449c(0x708)+_0xed83b),!0x1;}}async['saveTextReply'](_0x1b2541,_0x10df07){const _0x9601a1=a0_0x7b141d;if(this[_0x9601a1(0x222)]['verbose'](this[_0x9601a1(0x488)]+'\x20('+this['instance']['wuid']+_0x9601a1(0x209)),!_0x1b2541||!_0x10df07)return this[_0x9601a1(0x222)]['error'](this[_0x9601a1(0x488)]+'\x20('+this[_0x9601a1(0x194)][_0x9601a1(0x2ab)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x41b352=_0x1b2541[_0x9601a1(0x5ae)][_0x9601a1(0x413)][_0x9601a1(0x69b)]['id'];this[_0x9601a1(0x222)][_0x9601a1(0x8c4)](this['instanceName']+'\x20('+this[_0x9601a1(0x194)]['wuid']+'):\x20mediaMessageInfoId\x20:\x20'+_0x41b352);let _0x49eb80={'key':{'id':_0x41b352}},_0x3f5c65=_0x10df07[_0x9601a1(0x3a2)];_0x1b2541['chatLog']['realVariables']['_'+_0x3f5c65+_0x9601a1(0x343)]=null,_0x1b2541['chatLog'][_0x9601a1(0x16a)]['_'+_0x3f5c65+_0x9601a1(0x824)]=null,_0x1b2541['chatLog']['realVariables']['_'+_0x3f5c65+_0x9601a1(0x60b)]=null,_0x1b2541[_0x9601a1(0x5ae)][_0x9601a1(0x16a)]['_'+_0x3f5c65+_0x9601a1(0x195)]=_0x1b2541[_0x9601a1(0x5ae)]['lastReceivedMessage'][_0x9601a1(0x7ef)];try{let _0x12c6d5=await this['getBase64FromMediaMessage'](_0x49eb80);this[_0x9601a1(0x222)][_0x9601a1(0x8c4)](this['instanceName']+'\x20('+this['instance'][_0x9601a1(0x2ab)]+_0x9601a1(0x690)),_0x1b2541[_0x9601a1(0x5ae)]['realVariables']['_'+_0x3f5c65+_0x9601a1(0x70e)]=_0x12c6d5[_0x9601a1(0x80e)],_0x1b2541[_0x9601a1(0x5ae)]['realVariables']['_'+_0x3f5c65+'.mimetype']=_0x12c6d5[_0x9601a1(0x3fd)];let _0x3e1d8c=_0x12c6d5['mimetype'][_0x9601a1(0x3dc)](/\/(\w+)$/),_0x4a70cc=_0x3e1d8c?_0x3e1d8c[0x1]:null;_0x1b2541['chatLog'][_0x9601a1(0x16a)]['_'+_0x3f5c65+_0x9601a1(0x60b)]=_0x4a70cc,this['logger'][_0x9601a1(0x8c4)](this[_0x9601a1(0x488)]+'\x20('+this[_0x9601a1(0x194)][_0x9601a1(0x2ab)]+'):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27'+_0x3f5c65+'\x27.');}catch(_0xcb60ae){this[_0x9601a1(0x222)]['error'](this[_0x9601a1(0x488)]+'\x20('+this[_0x9601a1(0x194)][_0x9601a1(0x2ab)]+_0x9601a1(0x694)+_0xcb60ae[_0x9601a1(0x1f9)]);}let _0x1c9b11=_0x1b2541[_0x9601a1(0x5ae)][_0x9601a1(0x413)]['text']||_0x1b2541[_0x9601a1(0x5ae)][_0x9601a1(0x413)]['caption']||_0x1b2541[_0x9601a1(0x5ae)][_0x9601a1(0x413)][_0x9601a1(0x73e)];try{_0x1b2541[_0x9601a1(0x5ae)][_0x9601a1(0x16a)]||(_0x1b2541['chatLog'][_0x9601a1(0x16a)]={});let _0x188ae6=_0x1b2541['chatLog']['realVariables'][_0x3f5c65];_0x1b2541[_0x9601a1(0x5ae)][_0x9601a1(0x16a)][_0x3f5c65]=_0x1c9b11;let _0x32b425={'variable':_0x3f5c65,'oldValue':_0x188ae6,'newValue':_0x1c9b11};this['updateConversation'](_0x1b2541,_0x10df07,_0x32b425),this[_0x9601a1(0x222)]['verbose'](this['instanceName']+'\x20('+this[_0x9601a1(0x194)][_0x9601a1(0x2ab)]+_0x9601a1(0x882));}catch(_0x2ab88c){let _0x48f73d={'error':!0x0,'errorLog':_0x2ab88c[_0x9601a1(0x7b0)]()};return this[_0x9601a1(0x218)](_0x1b2541,_0x10df07,_0x48f73d),this[_0x9601a1(0x222)]['error'](this[_0x9601a1(0x488)]+'\x20('+this[_0x9601a1(0x194)][_0x9601a1(0x2ab)]+_0x9601a1(0x1fa)+(_0x2ab88c instanceof Error?_0x2ab88c['message']:JSON['stringify'](_0x2ab88c,null,0x2))),null;}}async[a0_0x7b141d(0x7c0)](_0x123925,_0x229d8e){const _0x146ecf=a0_0x7b141d;if(this[_0x146ecf(0x222)][_0x146ecf(0x8c4)](this[_0x146ecf(0x488)]+'\x20('+this[_0x146ecf(0x194)][_0x146ecf(0x2ab)]+_0x146ecf(0x464)),!_0x123925||!_0x229d8e)return this['logger'][_0x146ecf(0x4b9)](this[_0x146ecf(0x488)]+'\x20('+this[_0x146ecf(0x194)]['wuid']+_0x146ecf(0x22c)),null;let _0x505b9d=Date[_0x146ecf(0x849)](),_0x3cd6bb=parseInt(_0x229d8e[_0x146ecf(0x5e0)],0xa);if(isNaN(_0x3cd6bb))return this[_0x146ecf(0x222)][_0x146ecf(0x4b9)](this[_0x146ecf(0x488)]+'\x20('+this[_0x146ecf(0x194)][_0x146ecf(0x2ab)]+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x3ca023={'newStoppedUntil':_0x505b9d+_0x3cd6bb*0x3c*0x3e8};return await this['updateConversation'](_0x123925,_0x229d8e,_0x3ca023,!0x0),null;}async[a0_0x7b141d(0x15a)](_0x1ed5df,_0x5ad4bb){const _0x3da7a2=a0_0x7b141d;try{switch(_0x5ad4bb[_0x3da7a2(0x6b8)][_0x3da7a2(0x788)]){case _0x3da7a2(0x33f):await this[_0x3da7a2(0x617)](_0x1ed5df,_0x5ad4bb);break;case _0x3da7a2(0x2e2):await this[_0x3da7a2(0x818)](_0x1ed5df,_0x5ad4bb);break;case _0x3da7a2(0x56f):await this[_0x3da7a2(0x55b)](_0x1ed5df,_0x5ad4bb);break;case _0x3da7a2(0x36a):await this[_0x3da7a2(0x586)](_0x1ed5df,_0x5ad4bb);break;case'sendContact':await this[_0x3da7a2(0x5dd)](_0x1ed5df,_0x5ad4bb);break;case'sendPoll':await this[_0x3da7a2(0x2b8)](_0x1ed5df,_0x5ad4bb);break;case _0x3da7a2(0x70b):await this[_0x3da7a2(0x2b8)](_0x1ed5df,_0x5ad4bb);break;case _0x3da7a2(0x8c2):await this['uazapiDeleteMessage'](_0x1ed5df,_0x5ad4bb);break;default:this[_0x3da7a2(0x222)][_0x3da7a2(0x4b9)](this['instanceName']+'\x20('+this[_0x3da7a2(0x194)][_0x3da7a2(0x2ab)]+_0x3da7a2(0x72a)+_0x5ad4bb[_0x3da7a2(0x6b8)][_0x3da7a2(0x788)]);}}catch(_0x3c7bc6){this[_0x3da7a2(0x222)][_0x3da7a2(0x4b9)](this[_0x3da7a2(0x488)]+'\x20('+this[_0x3da7a2(0x194)][_0x3da7a2(0x2ab)]+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+(_0x3c7bc6 instanceof Error?_0x3c7bc6[_0x3da7a2(0x1f9)]:JSON[_0x3da7a2(0x22d)](_0x3c7bc6,null,0x2)));}}async['updateConversation'](_0x5be8f9,_0x2e305f,_0x5c3c81,_0x2882a7=!0x1,_0x1d927d=!0x1){const _0x5821a7=a0_0x7b141d;_0x5be8f9[_0x5821a7(0x5ae)][_0x5821a7(0x4e4)]||(_0x5be8f9['chatLog'][_0x5821a7(0x4e4)]=[]);let _0x4eac9e=(_0x5be8f9[_0x5821a7(0x5ae)]['blockLogs']?.[_0x5821a7(0x675)]??0x0)+0x1,_0x39e1b9=_0x5be8f9[_0x5821a7(0x5ae)]['blockLogs'][_0x5821a7(0x499)](_0x398f8c=>String(_0x398f8c['blockId'])===String(_0x2e305f[_0x5821a7(0x39f)]))['length']+0x1,_0x82f462=_0x5c3c81?.['onTime']??Date[_0x5821a7(0x849)](),_0x350fef=_0x5c3c81?.[_0x5821a7(0x4b9)]?_0x5c3c81[_0x5821a7(0x390)]??_0x5c3c81['error']['toString']():void 0x0,_0x1d9bc6={'onTime':_0x82f462,'blockId':_0x2e305f['_id'],'order':_0x4eac9e,'activatedCount':_0x39e1b9,'error':_0x5c3c81?.['error']??!0x1,'messageId':_0x5c3c81?.['messageId'],'apiResponse':_0x5c3c81?.[_0x5821a7(0x78d)],'apiResponseString':_0x5c3c81?.[_0x5821a7(0x78d)]?JSON['stringify'](_0x5c3c81?.[_0x5821a7(0x78d)]):void 0x0,'variable':_0x5c3c81?.['variable'],'oldValue':_0x5c3c81?.[_0x5821a7(0x1dd)],'newValue':_0x5c3c81?.[_0x5821a7(0x840)],'newStoppedUntil':_0x5c3c81?.[_0x5821a7(0x4c1)],'moreLogs':_0x5c3c81?.[_0x5821a7(0x4c4)],'errorLog':_0x350fef};if(_0x5c3c81[_0x5821a7(0x4c4)]&&_0x5c3c81[_0x5821a7(0x4c4)][_0x5821a7(0x675)]>0x0){let _0x575241=_0x5c3c81[_0x5821a7(0x4c4)][_0x5821a7(0x62e)](_0x55c940=>this['replaceVariablesLogs'](_0x55c940,_0x5be8f9['chatLog']['realVariables']));_0x1d9bc6[_0x5821a7(0x4c4)]=_0x575241;}if(_0x5be8f9[_0x5821a7(0x5ae)]['realVariables']||(_0x5be8f9[_0x5821a7(0x5ae)][_0x5821a7(0x16a)]={}),_0x5be8f9[_0x5821a7(0x5ae)][_0x5821a7(0x16a)][_0x5821a7(0x687)]=String(_0x39e1b9),_0x5be8f9[_0x5821a7(0x5ae)]['realVariables']['_error']=String(_0x5c3c81[_0x5821a7(0x4b9)]??!0x1),_0x5be8f9[_0x5821a7(0x5ae)]['blockLogs'][_0x5821a7(0x7a1)](_0x1d9bc6),_0x5be8f9[_0x5821a7(0x5ae)][_0x5821a7(0x16a)][_0x5821a7(0x44d)]&&_0x5be8f9[_0x5821a7(0x5ae)]['realVariables'][_0x5821a7(0x44d)]!==_0x5be8f9[_0x5821a7(0x230)]){let _0x2b3d91=(await this[_0x5821a7(0x534)]({'numbers':[_0x5be8f9[_0x5821a7(0x5ae)][_0x5821a7(0x16a)][_0x5821a7(0x44d)]]}))[0x0][_0x5821a7(0x37a)];_0x5be8f9[_0x5821a7(0x5ae)][_0x5821a7(0x16a)][_0x5821a7(0x44d)]=_0x2b3d91,_0x5be8f9[_0x5821a7(0x230)]=_0x2b3d91;try{let _0x33de87={'_id':{'$ne':_0x5be8f9[_0x5821a7(0x39f)]},'remoteJid':_0x2b3d91,'status':_0x5821a7(0x551)},_0x473358={'status':'closed'};await this[_0x5821a7(0x60c)]['flowConversation'][_0x5821a7(0x427)](_0x33de87,_0x473358,this['instance'][_0x5821a7(0x2ab)]),this[_0x5821a7(0x222)][_0x5821a7(0x8c4)](this[_0x5821a7(0x488)]+'\x20('+this['instance'][_0x5821a7(0x2ab)]+_0x5821a7(0x896));}catch(_0x563a47){this[_0x5821a7(0x222)][_0x5821a7(0x4b9)](this['instanceName']+'\x20('+this[_0x5821a7(0x194)]['wuid']+_0x5821a7(0x779)+_0x563a47[_0x5821a7(0x1f9)]);}try{let _0x2554e6=_0x5be8f9[_0x5821a7(0x5ae)][_0x5821a7(0x16a)],_0x3b09e5=await this[_0x5821a7(0x701)](_0x2b3d91),_0x57c9f3={..._0x2554e6,..._0x3b09e5,'_remoteJid':_0x2b3d91};_0x5be8f9[_0x5821a7(0x5ae)]['realVariables']=_0x57c9f3;}catch(_0x2a7bad){this['logger'][_0x5821a7(0x4b9)](this[_0x5821a7(0x488)]+'\x20('+this['instance'][_0x5821a7(0x2ab)]+_0x5821a7(0x35b)+_0x2a7bad['message']);}}_0x5be8f9[_0x5821a7(0x5ae)][_0x5821a7(0x519)]=_0x2e305f['_id']['toString'](),_0x5be8f9[_0x5821a7(0x5ae)][_0x5821a7(0x84e)]&&(_0x5be8f9[_0x5821a7(0x5ae)][_0x5821a7(0x84e)]=_0x5be8f9[_0x5821a7(0x5ae)]['lastSendMessage']),_0x5be8f9[_0x5821a7(0x5ae)][_0x5821a7(0x413)]&&(_0x5be8f9[_0x5821a7(0x5ae)][_0x5821a7(0x413)]=_0x5be8f9['chatLog'][_0x5821a7(0x413)]),_0x5be8f9['chatLog'][_0x5821a7(0x3ec)]&&(_0x5be8f9[_0x5821a7(0x5ae)][_0x5821a7(0x3ec)]=_0x5be8f9[_0x5821a7(0x5ae)][_0x5821a7(0x3ec)]),_0x1d927d&&(_0x5be8f9[_0x5821a7(0x756)]=_0x5821a7(0x757)),_0x2882a7?this['saveConversationToDatabase'](_0x5be8f9):this['goNextblock'](_0x5be8f9,_0x2e305f);}['replaceVariablesLogs'](_0x28b89a,_0x28b064){const _0x57ad44=a0_0x7b141d;return _0x28b89a[_0x57ad44(0x563)](/\{\{([^}]+)\}\}/g,(_0x14ab02,_0x569b4e)=>_0x28b064[_0x569b4e]?'{{'+_0x569b4e+_0x57ad44(0x71d)+_0x28b064[_0x569b4e]+'\x22':'{{'+_0x569b4e+_0x57ad44(0x55c));}async[a0_0x7b141d(0x5c2)](_0x271a3e){const _0x3e382d=a0_0x7b141d;try{let _0x394199=Object[_0x3e382d(0x6e4)](_0x271a3e[_0x3e382d(0x5ae)][_0x3e382d(0x16a)])[_0x3e382d(0x62e)](([_0x327c8a,_0x5cbaa1])=>({'name':_0x327c8a,'value':_0x5cbaa1})),_0x28596e={'status':_0x271a3e[_0x3e382d(0x756)],'remoteJid':_0x271a3e['remoteJid'],'blocks':_0x271a3e['blocks'],'waitingMenu_id':_0x271a3e['waitingMenu_id'],'waitingMenu_text':_0x271a3e[_0x3e382d(0x58e)],'waitingMenu_replyOptions':_0x271a3e[_0x3e382d(0x47c)],'chatLog':{'lastBlockId':_0x271a3e[_0x3e382d(0x5ae)][_0x3e382d(0x519)],'lastSendMessage':_0x271a3e[_0x3e382d(0x5ae)]['lastSendMessage'],'lastReceivedMessage':_0x271a3e[_0x3e382d(0x5ae)][_0x3e382d(0x413)],'lastCondition':_0x271a3e['chatLog'][_0x3e382d(0x3ec)],'chatVariables':_0x394199,'realVariables':_0x271a3e[_0x3e382d(0x5ae)][_0x3e382d(0x16a)],'blockLogs':_0x271a3e[_0x3e382d(0x5ae)][_0x3e382d(0x4e4)]}},_0xa41e66=await this[_0x3e382d(0x60c)][_0x3e382d(0x44a)][_0x3e382d(0x319)](_0x271a3e['_id'],_0x28596e,this[_0x3e382d(0x194)]['wuid']);if(_0xa41e66){this[_0x3e382d(0x222)][_0x3e382d(0x8c4)](this[_0x3e382d(0x488)]+'\x20('+this[_0x3e382d(0x194)][_0x3e382d(0x2ab)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0xa41e66[_0x3e382d(0x39f)]);try{let _0x344e62=['nome','nomecompleto',_0x3e382d(0x592),_0x3e382d(0x25c),_0x3e382d(0x756),'notas','responsavelid',_0x3e382d(0x6ba),_0x3e382d(0x584),_0x3e382d(0x574)];if(!this[_0x3e382d(0x75a)]&&(await this['getAutomateSystem'](),!this[_0x3e382d(0x75a)]))throw new Error(_0x3e382d(0x1f1));let _0x488ce8=this[_0x3e382d(0x75a)]?.['customFields'][_0x3e382d(0x62e)](_0x1c2bae=>_0x1c2bae[_0x3e382d(0x3f5)]),_0xd57ff={};Object[_0x3e382d(0x6e4)](_0x271a3e[_0x3e382d(0x5ae)]['realVariables'])['forEach'](([_0x564a41,_0x5d75f0])=>{const _0x194792=_0x3e382d;_0x344e62[_0x194792(0x87b)](_0x564a41)&&(_0x564a41===_0x194792(0x6ba)&&typeof _0x5d75f0==_0x194792(0x214)?_0xd57ff[_0x564a41]=_0x5d75f0['split'](',')[_0x194792(0x62e)](_0x3373f6=>_0x3373f6['trim']())['filter'](_0x19ff2e=>_0x19ff2e!==''):_0x564a41===_0x194792(0x584)&&typeof _0x5d75f0==_0x194792(0x214)?_0xd57ff[_0x564a41]=_0x5d75f0['split'](',')[_0x194792(0x62e)](_0x3ab94f=>_0x3ab94f[_0x194792(0x223)]())[_0x194792(0x499)](_0x1532be=>_0x1532be!==''):_0xd57ff[_0x564a41]=_0x5d75f0);});let _0x5d4f00=_0x271a3e[_0x3e382d(0x5ae)][_0x3e382d(0x4e4)][_0x271a3e[_0x3e382d(0x5ae)]['blockLogs'][_0x3e382d(0x675)]-0x1];if(_0x5d4f00){let _0x7d585e=_0x5d4f00['newStoppedUntil'];_0x7d585e!==void 0x0&&(_0xd57ff['desativadoFluxoAte']=_0x7d585e[_0x3e382d(0x7b0)]());}let _0xcba76b=_0x394199[_0x3e382d(0x499)](_0x3a818c=>_0x488ce8[_0x3e382d(0x87b)](_0x3a818c[_0x3e382d(0x3f5)]));this[_0x3e382d(0x222)]['verbose'](this['instanceName']+'\x20('+this[_0x3e382d(0x194)][_0x3e382d(0x2ab)]+'):\x20leadInfoVariables'),this['logger'][_0x3e382d(0x8c4)](_0xd57ff),this['logger'][_0x3e382d(0x8c4)](this['instanceName']+'\x20('+this[_0x3e382d(0x194)][_0x3e382d(0x2ab)]+'):\x20customFieldVariables'),this[_0x3e382d(0x222)][_0x3e382d(0x8c4)](_0xcba76b);let _0x22aa24=_0xcba76b[_0x3e382d(0x62e)](_0x176c32=>{const _0xfbaf06=_0x3e382d;let _0x27aa4e=this[_0xfbaf06(0x75a)]?.[_0xfbaf06(0x887)]['find'](_0x3dc876=>_0x3dc876['name']===_0x176c32[_0xfbaf06(0x3f5)]);if(!_0x27aa4e)throw new Error(_0xfbaf06(0x5f4)+_0x176c32[_0xfbaf06(0x3f5)]);return{'_id':_0x27aa4e['_id'],'value':_0x176c32[_0xfbaf06(0x66c)]};});this[_0x3e382d(0x222)][_0x3e382d(0x8c4)](this[_0x3e382d(0x488)]+'\x20('+this[_0x3e382d(0x194)]['wuid']+'):\x20transformedCustomFieldVariables'),this['logger']['verbose'](_0x22aa24),await this[_0x3e382d(0x865)](_0x271a3e[_0x3e382d(0x230)],_0xd57ff,_0x22aa24);}catch(_0x3a22c2){this[_0x3e382d(0x222)]['error'](this[_0x3e382d(0x488)]+'\x20('+this[_0x3e382d(0x194)][_0x3e382d(0x2ab)]+_0x3e382d(0x7a5)+(_0x3a22c2 instanceof Error?_0x3a22c2[_0x3e382d(0x1f9)]:JSON[_0x3e382d(0x22d)](_0x3a22c2,null,0x2)));}}else this[_0x3e382d(0x222)][_0x3e382d(0x4b9)](this[_0x3e382d(0x488)]+'\x20('+this[_0x3e382d(0x194)][_0x3e382d(0x2ab)]+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x2cacc5){this['logger'][_0x3e382d(0x4b9)](this[_0x3e382d(0x488)]+'\x20('+this['instance'][_0x3e382d(0x2ab)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0x2cacc5 instanceof Error?_0x2cacc5[_0x3e382d(0x1f9)]:JSON[_0x3e382d(0x22d)](_0x2cacc5,null,0x2)));}}async['saveChatVariables'](_0x41f301,_0x156bad,_0x1ebb44){const _0x1a2a10=a0_0x7b141d;try{let _0x318c11={'leadInfo.leadnome':_0x156bad[_0x1a2a10(0x4c0)],'leadInfo.nomecompleto':_0x156bad[_0x1a2a10(0x3dd)],'leadInfo.email':_0x156bad['email'],'leadInfo.cpf':_0x156bad[_0x1a2a10(0x25c)],'leadInfo.status':_0x156bad[_0x1a2a10(0x756)],'leadInfo.notas':_0x156bad[_0x1a2a10(0x86d)],'leadInfo.responsavelid':_0x156bad[_0x1a2a10(0x19d)],'leadInfo.tags':_0x156bad[_0x1a2a10(0x6ba)],'leadInfo.etiquetas':_0x156bad['etiquetas'],'leadInfo.customFields':_0x1ebb44,'leadInfo.atendimentoAberto':_0x156bad[_0x1a2a10(0x574)]},_0x1d5f99=await this[_0x1a2a10(0x60c)][_0x1a2a10(0x624)]['findOne']({'where':{'_id':_0x41f301}},this['instance'][_0x1a2a10(0x2ab)]);if(!_0x1d5f99)return _0x1a2a10(0x1bf);let _0x2cc502=new Set(_0x1d5f99[_0x1a2a10(0x77d)][_0x1a2a10(0x584)]||[]),_0x21186d=new Set(_0x156bad['etiquetas']||[]),_0x708c58=await this['repository'][_0x1a2a10(0x56c)]['find']({'where':{}},this[_0x1a2a10(0x194)]['wuid']),_0x2f2c0d=new Set(_0x708c58[_0x1a2a10(0x62e)](_0x44dbfd=>_0x44dbfd[_0x1a2a10(0x39f)])),_0x4bc5cb=[..._0x21186d]['filter'](_0x25d343=>!_0x2cc502[_0x1a2a10(0x7cc)](_0x25d343)&&_0x2f2c0d[_0x1a2a10(0x7cc)](_0x25d343)),_0x2132be=[..._0x2cc502][_0x1a2a10(0x499)](_0x547799=>!_0x21186d[_0x1a2a10(0x7cc)](_0x547799));for(let _0x43370f of _0x4bc5cb)await this[_0x1a2a10(0x8b3)](_0x43370f,_0x1d5f99['_id']),_0x2cc502[_0x1a2a10(0x46e)](_0x43370f);for(let _0x20637d of _0x2132be)await this[_0x1a2a10(0x705)](_0x20637d,_0x1d5f99[_0x1a2a10(0x39f)]),_0x2cc502[_0x1a2a10(0x59d)](_0x20637d);if('desativadoFluxoAte'in _0x156bad){let _0xa3ee7e=_0x156bad[_0x1a2a10(0x336)];_0x318c11['leadInfo.desativadoFluxoAte']=_0xa3ee7e?Number(_0xa3ee7e):null;}if(_0x1a2a10(0x574)in _0x156bad){let _0x152fc0=_0x156bad[_0x1a2a10(0x574)][_0x1a2a10(0x374)]();_0x318c11['leadInfo.atendimentoAberto']=_0x152fc0===_0x1a2a10(0x283)||_0x152fc0==='1'||_0x152fc0===_0x1a2a10(0x5e8)||_0x152fc0===_0x1a2a10(0x18b);}let _0x51c9b6=await this[_0x1a2a10(0x60c)][_0x1a2a10(0x624)]['updateOne']({'where':{'_id':_0x41f301}},_0x318c11,this['instance'][_0x1a2a10(0x2ab)]);_0x51c9b6?(this['logger'][_0x1a2a10(0x8c4)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x51c9b6[_0x1a2a10(0x39f)]),F(this['instanceName'],_0x1a2a10(0x2fb),{'chat':_0x51c9b6})):this[_0x1a2a10(0x222)][_0x1a2a10(0x4b9)](this[_0x1a2a10(0x488)]+'\x20('+this[_0x1a2a10(0x194)][_0x1a2a10(0x2ab)]+_0x1a2a10(0x851));}catch(_0xf9c31a){this[_0x1a2a10(0x222)]['error'](this[_0x1a2a10(0x488)]+'\x20('+this[_0x1a2a10(0x194)][_0x1a2a10(0x2ab)]+_0x1a2a10(0x79f)+(_0xf9c31a instanceof Error?_0xf9c31a[_0x1a2a10(0x1f9)]:JSON['stringify'](_0xf9c31a,null,0x2)));}}async[a0_0x7b141d(0x5fe)](_0x21c785,_0x2560da){const _0x239879=a0_0x7b141d;this[_0x239879(0x222)][_0x239879(0x8c4)](this[_0x239879(0x488)]+'\x20('+this[_0x239879(0x194)][_0x239879(0x2ab)]+_0x239879(0x39e)+_0x2560da);try{let _0x2830a4=await this[_0x239879(0x60c)]['chat'][_0x239879(0x319)]({'where':{'_id':_0x21c785[_0x239879(0x230)]}},{'leadInfo.desativadoFluxoAte':_0x2560da},this['instance'][_0x239879(0x2ab)]);this['logger'][_0x239879(0x8c4)](this[_0x239879(0x488)]+'\x20('+this[_0x239879(0x194)][_0x239879(0x2ab)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x21c785[_0x239879(0x39f)]),this[_0x239879(0x222)][_0x239879(0x8c4)](this[_0x239879(0x488)]+'\x20('+this[_0x239879(0x194)][_0x239879(0x2ab)]+_0x239879(0x39e)+JSON[_0x239879(0x22d)](_0x2830a4,null,0x2)),_0x2830a4&&F(this[_0x239879(0x488)],_0x239879(0x2fb),{'chat':_0x2830a4});}catch(_0x3856b6){this['logger'][_0x239879(0x4b9)](this[_0x239879(0x488)]+'\x20('+this[_0x239879(0x194)][_0x239879(0x2ab)]+_0x239879(0x75d)+(_0x3856b6 instanceof Error?_0x3856b6[_0x239879(0x1f9)]:JSON[_0x239879(0x22d)](_0x3856b6,null,0x2)));}}async[a0_0x7b141d(0x81d)](_0x4c8330){const _0xfb0a3b=a0_0x7b141d;try{this['logger'][_0xfb0a3b(0x8c4)](this[_0xfb0a3b(0x488)]+'\x20('+this[_0xfb0a3b(0x194)][_0xfb0a3b(0x2ab)]+_0xfb0a3b(0x1b2));let _0x4a2ffd=_0x4c8330[_0xfb0a3b(0x563)](/\D/g,''),_0x38397d=this[_0xfb0a3b(0x75a)][_0xfb0a3b(0x3ee)][_0xfb0a3b(0x61f)](_0x28d94d=>_0x28d94d[_0xfb0a3b(0x1ad)]===_0x4a2ffd);if(_0x38397d||(this['logger'][_0xfb0a3b(0x8c4)](this[_0xfb0a3b(0x488)]+'\x20('+this[_0xfb0a3b(0x194)]['wuid']+_0xfb0a3b(0x6cf)),_0x38397d=this[_0xfb0a3b(0x75a)][_0xfb0a3b(0x3ee)][_0xfb0a3b(0x61f)](_0x3745ee=>_0x3745ee[_0xfb0a3b(0x2cf)]===!0x0)),!_0x38397d)return this['logger'][_0xfb0a3b(0x8c4)](this[_0xfb0a3b(0x488)]+'\x20('+this[_0xfb0a3b(0x194)][_0xfb0a3b(0x2ab)]+_0xfb0a3b(0x42e)),null;let _0x294918=await this['repository'][_0xfb0a3b(0x4b6)]['findOne']({'where':{'_id':_0x38397d[_0xfb0a3b(0x39f)]}});if(!_0x294918||!_0x294918[_0xfb0a3b(0x5a5)]?.[_0xfb0a3b(0x87b)](this['instance'][_0xfb0a3b(0x2ab)]))throw this[_0xfb0a3b(0x222)][_0xfb0a3b(0x4b9)](this['instanceName']+'\x20('+this['instance'][_0xfb0a3b(0x2ab)]+_0xfb0a3b(0x49e)+_0x294918[_0xfb0a3b(0x39f)]+_0xfb0a3b(0x74b)),new m(_0xfb0a3b(0x56a)+_0x294918[_0xfb0a3b(0x39f)]+_0xfb0a3b(0x74b));return _0x294918;}catch(_0x229817){return this[_0xfb0a3b(0x222)]['error'](this[_0xfb0a3b(0x488)]+'\x20('+this[_0xfb0a3b(0x194)][_0xfb0a3b(0x2ab)]+_0xfb0a3b(0x717)+(_0x229817 instanceof Error?_0x229817[_0xfb0a3b(0x1f9)]:JSON[_0xfb0a3b(0x22d)](_0x229817,null,0x2))),null;}}async[a0_0x7b141d(0x2ee)](_0x11147b,_0x3c87e7){const _0xd07d8e=a0_0x7b141d;try{let _0x29dfa7=!!_0x3c87e7[_0xd07d8e(0x73e)],_0x28c923=_0x3c87e7['quoted'],_0x38a93c=null;if(this[_0xd07d8e(0x222)][_0xd07d8e(0x8c4)](this[_0xd07d8e(0x488)]+'\x20('+this[_0xd07d8e(0x194)]['wuid']+_0xd07d8e(0x767)+_0x29dfa7+_0xd07d8e(0x37b)+_0x28c923),_0x29dfa7){this[_0xd07d8e(0x222)][_0xd07d8e(0x8c4)](this[_0xd07d8e(0x488)]+'\x20('+this[_0xd07d8e(0x194)][_0xd07d8e(0x2ab)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x3f1dcd={'where':{'remoteJid':_0x11147b,'waitingMenu_id':_0x28c923}};if(_0x38a93c=await this[_0xd07d8e(0x60c)][_0xd07d8e(0x44a)][_0xd07d8e(0x89d)](_0x3f1dcd,this['instance'][_0xd07d8e(0x2ab)]),!_0x38a93c)return this[_0xd07d8e(0x222)][_0xd07d8e(0x8c4)](this[_0xd07d8e(0x488)]+'\x20('+this[_0xd07d8e(0x194)][_0xd07d8e(0x2ab)]+'):\x20não\x20encontrou'),null;let _0x1e7ccd=Date[_0xd07d8e(0x849)](),_0x4e0167=_0x38a93c?.[_0xd07d8e(0x6a7)]||0x0,_0x305802=_0x1e7ccd-_0x4e0167*0x3c*0x3e8;if(_0x38a93c['lastInteraction']<_0x305802){this['logger']['verbose'](this[_0xd07d8e(0x488)]+'\x20('+this['instance']['wuid']+_0xd07d8e(0x610));let _0x541e28={'number':_0x38a93c[_0xd07d8e(0x230)],'options':{'delay':0x0},'textMessage':{'text':_0x38a93c[_0xd07d8e(0x532)]}};await this[_0xd07d8e(0x155)](_0x541e28);let _0x4d71c8={'status':_0xd07d8e(0x757),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0xd07d8e(0x60c)]['flowConversation']['updateOne'](_0x38a93c[_0xd07d8e(0x39f)],_0x4d71c8,this[_0xd07d8e(0x194)]['wuid']),null;}return _0x38a93c[_0xd07d8e(0x321)]=Date[_0xd07d8e(0x849)](),_0x38a93c[_0xd07d8e(0x5ae)][_0xd07d8e(0x413)]=_0x3c87e7,_0x38a93c;}else{this['logger'][_0xd07d8e(0x8c4)](this[_0xd07d8e(0x488)]+'\x20('+this['instance']['wuid']+_0xd07d8e(0x21e)+this[_0xd07d8e(0x194)][_0xd07d8e(0x2ab)]+_0xd07d8e(0x445)),this[_0xd07d8e(0x222)][_0xd07d8e(0x8c4)](this[_0xd07d8e(0x488)]+'\x20('+this[_0xd07d8e(0x194)][_0xd07d8e(0x2ab)]+_0xd07d8e(0x591));let _0x37b8b8={'where':{'remoteJid':_0x11147b,'status':_0xd07d8e(0x551)}};if(_0x38a93c=await this['repository'][_0xd07d8e(0x44a)][_0xd07d8e(0x89d)](_0x37b8b8,this[_0xd07d8e(0x194)][_0xd07d8e(0x2ab)]),!_0x38a93c){let _0x20a0a8=await this['findFlow'](_0x11147b);if(_0x20a0a8&&(_0x38a93c=await this[_0xd07d8e(0x362)](_0x20a0a8,_0x3c87e7['key'],_0x3c87e7)),!_0x38a93c)return null;}let _0x5b6753=Date['now'](),_0x3f4aae=_0x38a93c?.[_0xd07d8e(0x6a7)]||0x0,_0x4c6178=_0x5b6753-_0x3f4aae*0x3c*0x3e8;if(this[_0xd07d8e(0x222)][_0xd07d8e(0x8c4)](this['instanceName']+'\x20('+this[_0xd07d8e(0x194)]['wuid']+_0xd07d8e(0x162)+_0x5b6753+_0xd07d8e(0x5e5)+_0x3f4aae+_0xd07d8e(0x838)+_0x4c6178),this[_0xd07d8e(0x222)]['verbose'](this[_0xd07d8e(0x488)]+'\x20('+this[_0xd07d8e(0x194)][_0xd07d8e(0x2ab)]+_0xd07d8e(0x2d6)),this[_0xd07d8e(0x222)][_0xd07d8e(0x8c4)](this[_0xd07d8e(0x488)]+'\x20('+this['instance'][_0xd07d8e(0x2ab)]+_0xd07d8e(0x74c)+_0x38a93c[_0xd07d8e(0x321)]),this[_0xd07d8e(0x222)][_0xd07d8e(0x8c4)](this[_0xd07d8e(0x488)]+'\x20('+this[_0xd07d8e(0x194)][_0xd07d8e(0x2ab)]+_0xd07d8e(0x63d)+_0x4c6178),_0x38a93c[_0xd07d8e(0x321)]<_0x4c6178){this[_0xd07d8e(0x222)][_0xd07d8e(0x8c4)](this[_0xd07d8e(0x488)]+'\x20('+this[_0xd07d8e(0x194)]['wuid']+_0xd07d8e(0x4e6));let _0x5c1b35=await this[_0xd07d8e(0x81d)](_0x11147b);if(_0x5c1b35===null)return null;_0x38a93c&&await this[_0xd07d8e(0x60c)][_0xd07d8e(0x44a)][_0xd07d8e(0x319)](_0x38a93c[_0xd07d8e(0x39f)],{'status':'closed'},this[_0xd07d8e(0x194)][_0xd07d8e(0x2ab)]),_0x38a93c=await this[_0xd07d8e(0x362)](_0x5c1b35,_0x3c87e7['key'],_0x3c87e7);}return _0x38a93c[_0xd07d8e(0x321)]=_0x5b6753,_0x38a93c[_0xd07d8e(0x5ae)]['lastReceivedMessage']=_0x3c87e7,_0x38a93c;}}catch(_0x4679b4){return this[_0xd07d8e(0x222)]['error'](this[_0xd07d8e(0x488)]+'\x20('+this[_0xd07d8e(0x194)][_0xd07d8e(0x2ab)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x4679b4 instanceof Error?_0x4679b4[_0xd07d8e(0x1f9)]:JSON['stringify'](_0x4679b4,null,0x2))),null;}}async[a0_0x7b141d(0x362)](_0x1e14f2,_0x382d05,_0x551b7e){const _0x203d52=a0_0x7b141d;this[_0x203d52(0x222)]['verbose'](this[_0x203d52(0x488)]+'\x20('+this[_0x203d52(0x194)][_0x203d52(0x2ab)]+_0x203d52(0x753));try{let _0x11383f=require(_0x203d52(0x3d8))[_0x203d52(0x722)],_0x1f6445=Date[_0x203d52(0x849)](),_0x48c7d9='start',_0x1b3adc=_0x382d05[_0x203d52(0x4a2)]?null:_0x551b7e,_0x1f42f3=_0x382d05['fromMe']?_0x551b7e:null,_0x2e2d1c=_0x382d05[_0x203d52(0x230)],_0x8e6997=this[_0x203d52(0x75a)][_0x203d52(0x3ee)][_0x203d52(0x61f)](_0xd41062=>_0xd41062[_0x203d52(0x39f)]===_0x1e14f2['_id']?.[_0x203d52(0x7b0)]()),_0x8f64e5=_0x8e6997?.['minutesToClose']??_0x1e14f2[_0x203d52(0x6a7)]??0x0,_0x3537be=_0x8e6997?.[_0x203d52(0x8c3)]??_0x1e14f2[_0x203d52(0x8c3)]??!0x1;await this[_0x203d52(0x7e8)](_0x2e2d1c);let _0xe149a8={'flowId':_0x1e14f2['_id'],..._0x1e14f2,'chatLog':null},_0x9b55ec=await this[_0x203d52(0x761)](_0xe149a8[_0x203d52(0x16e)]),_0x5313d6=await this[_0x203d52(0x701)](_0x2e2d1c),_0x2db589={..._0x9b55ec,..._0x5313d6,'_remoteJid':_0x2e2d1c},_0x386f35={'lastReceivedMessage':_0x1b3adc,'lastSendMessage':_0x1f42f3,'lastBlockId':_0x48c7d9,'lastCondition':!0x0,'realVariables':_0x2db589};_0xe149a8['chatLog']=_0x386f35,delete _0xe149a8[_0x203d52(0x39f)],_0xe149a8['_id']=new _0x11383f(),_0xe149a8['lastInteraction']=_0x1f6445,_0xe149a8[_0x203d52(0x756)]='open',_0xe149a8[_0x203d52(0x230)]=_0x2e2d1c,_0xe149a8[_0x203d52(0x6a7)]=_0x8f64e5,_0xe149a8[_0x203d52(0x8c3)]=_0x3537be;let _0x1e0856=await this[_0x203d52(0x60c)]['flowConversation']['updateOne'](_0xe149a8[_0x203d52(0x39f)],_0xe149a8,this[_0x203d52(0x194)][_0x203d52(0x2ab)]);return this[_0x203d52(0x222)][_0x203d52(0x8c4)](this['instanceName']+'\x20('+this[_0x203d52(0x194)]['wuid']+_0x203d52(0x82e)),_0x1e0856?_0xe149a8:null;}catch(_0x18a665){return this[_0x203d52(0x222)][_0x203d52(0x4b9)](this[_0x203d52(0x488)]+'\x20('+this[_0x203d52(0x194)]['wuid']+_0x203d52(0x7e5)+(_0x18a665 instanceof Error?_0x18a665[_0x203d52(0x1f9)]:JSON[_0x203d52(0x22d)](_0x18a665,null,0x2))),_0x18a665;}}async[a0_0x7b141d(0x617)](_0x25e8e8,_0x17ae9e){const _0x578f01=a0_0x7b141d;let _0x2391e5=_0x25e8e8[_0x578f01(0x230)];_0x17ae9e[_0x578f01(0x6b8)]['remoteJid']&&_0x17ae9e[_0x578f01(0x6b8)]['remoteJid']['trim']()!==''&&(_0x2391e5=_0x17ae9e[_0x578f01(0x6b8)][_0x578f01(0x230)][_0x578f01(0x223)]()),this[_0x578f01(0x222)][_0x578f01(0x8c4)](this[_0x578f01(0x488)]+'\x20('+this['instance'][_0x578f01(0x2ab)]+'):\x20Enviando\x20texto');let _0x569466={'number':_0x2391e5,'options':{'delay':_0x17ae9e[_0x578f01(0x6b8)][_0x578f01(0x360)],'linkPreview':_0x17ae9e[_0x578f01(0x6b8)]['linkPreview']},'textMessage':{'text':_0x17ae9e[_0x578f01(0x6b8)][_0x578f01(0x2f3)]}};try{let _0x1e691e=await this[_0x578f01(0x155)](_0x569466);if(_0x1e691e){let _0x348c47={'_id':_0x1e691e['key']['id'],'_fromMe':_0x1e691e[_0x578f01(0x69b)][_0x578f01(0x4a2)],'_remoteJid':_0x1e691e['key'][_0x578f01(0x230)]},_0x10d258=(0x0,w[_0x578f01(0x267)])(_0x1e691e['message']),_0x173118=(0x0,w[_0x578f01(0x23e)])(_0x10d258);_0x25e8e8['chatLog']['lastBlockId']=_0x17ae9e[_0x578f01(0x39f)][_0x578f01(0x7b0)]();let {message_normalized:_0x257c72}=this[_0x578f01(0x747)](_0x10d258,_0x173118,null);_0x25e8e8[_0x578f01(0x5ae)][_0x578f01(0x84e)]=await _0x257c72;let _0x5d8841={'messageId':_0x1e691e[_0x578f01(0x69b)]['id']},_0x28b961=_0x25e8e8['chatLog'][_0x578f01(0x16a)];Object[_0x578f01(0x6ef)](_0x28b961,_0x348c47),_0x25e8e8[_0x578f01(0x5ae)][_0x578f01(0x16a)]=_0x28b961,this['updateConversation'](_0x25e8e8,_0x17ae9e,_0x5d8841);}else{let _0x5b6be0={'error':!0x0};this[_0x578f01(0x218)](_0x25e8e8,_0x17ae9e,_0x5b6be0),this[_0x578f01(0x222)]['error'](this[_0x578f01(0x488)]+'\x20('+this['instance'][_0x578f01(0x2ab)]+_0x578f01(0x199));}}catch(_0x567a92){let _0x23ae9f={'error':!0x0,'errorLog':_0x567a92['toString']()};this[_0x578f01(0x218)](_0x25e8e8,_0x17ae9e,_0x23ae9f),this[_0x578f01(0x222)]['error'](this[_0x578f01(0x488)]+'\x20('+this[_0x578f01(0x194)][_0x578f01(0x2ab)]+_0x578f01(0x7d3)+(_0x567a92 instanceof Error?_0x567a92['message']:JSON[_0x578f01(0x22d)](_0x567a92,null,0x2)));}}async['uazapiSendMedia'](_0x21f409,_0x4471f5){const _0x1a8d4e=a0_0x7b141d;let _0x4358ee=_0x21f409[_0x1a8d4e(0x230)];_0x4471f5[_0x1a8d4e(0x6b8)][_0x1a8d4e(0x230)]&&_0x4471f5[_0x1a8d4e(0x6b8)][_0x1a8d4e(0x230)][_0x1a8d4e(0x223)]()!==''&&(_0x4358ee=_0x4471f5[_0x1a8d4e(0x6b8)][_0x1a8d4e(0x230)][_0x1a8d4e(0x223)]()),this[_0x1a8d4e(0x222)][_0x1a8d4e(0x8c4)](this['instanceName']+'\x20('+this[_0x1a8d4e(0x194)]['wuid']+'):\x20Enviando\x20mídia');let _0x1ee579={'number':_0x4358ee,'options':{'delay':_0x4471f5['uazapi'][_0x1a8d4e(0x360)],'linkPreview':_0x4471f5[_0x1a8d4e(0x6b8)][_0x1a8d4e(0x86a)]},'mediaMessage':{'mediatype':_0x4471f5[_0x1a8d4e(0x6b8)][_0x1a8d4e(0x468)],'caption':_0x4471f5[_0x1a8d4e(0x6b8)][_0x1a8d4e(0x5d2)],'media':_0x4471f5[_0x1a8d4e(0x6b8)][_0x1a8d4e(0x492)],'fileName':_0x4471f5['uazapi'][_0x1a8d4e(0x7ed)]}};try{let _0x2cee1a=await this[_0x1a8d4e(0x79e)](_0x1ee579);if(_0x2cee1a){let _0x8a6f7a={'_id':_0x2cee1a[_0x1a8d4e(0x69b)]['id'],'_fromMe':_0x2cee1a[_0x1a8d4e(0x69b)][_0x1a8d4e(0x4a2)],'_remoteJid':_0x2cee1a[_0x1a8d4e(0x69b)][_0x1a8d4e(0x230)]},_0x1472af=(0x0,w['normalizeMessageContent'])(_0x2cee1a[_0x1a8d4e(0x1f9)]),_0x44ab78=(0x0,w['getContentType'])(_0x1472af);_0x21f409[_0x1a8d4e(0x5ae)][_0x1a8d4e(0x519)]=_0x4471f5[_0x1a8d4e(0x39f)][_0x1a8d4e(0x7b0)]();let {message_normalized:_0x4c2607}=this[_0x1a8d4e(0x747)](_0x1472af,_0x44ab78,null);_0x21f409[_0x1a8d4e(0x5ae)]['lastSendMessage']=await _0x4c2607;let _0x498b0d={'messageId':_0x2cee1a['key']['id']},_0x2492d1=_0x21f409['chatLog'][_0x1a8d4e(0x16a)];Object['assign'](_0x2492d1,_0x8a6f7a),_0x21f409[_0x1a8d4e(0x5ae)][_0x1a8d4e(0x16a)]=_0x2492d1,this[_0x1a8d4e(0x218)](_0x21f409,_0x4471f5,_0x498b0d);}else{let _0x13134a={'error':!0x0};this[_0x1a8d4e(0x218)](_0x21f409,_0x4471f5,_0x13134a),this['logger'][_0x1a8d4e(0x4b9)](this[_0x1a8d4e(0x488)]+'\x20('+this[_0x1a8d4e(0x194)][_0x1a8d4e(0x2ab)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x569cc3){let _0x2f0c65={'error':!0x0,'errorLog':_0x569cc3['toString']()};this[_0x1a8d4e(0x218)](_0x21f409,_0x4471f5,_0x2f0c65),this[_0x1a8d4e(0x222)]['error'](this['instanceName']+'\x20('+this[_0x1a8d4e(0x194)][_0x1a8d4e(0x2ab)]+_0x1a8d4e(0x22a)+(_0x569cc3 instanceof Error?_0x569cc3[_0x1a8d4e(0x1f9)]:JSON[_0x1a8d4e(0x22d)](_0x569cc3,null,0x2)));}}async['uazapiSendLocation'](_0xaf4b90,_0x171eeb){const _0x566474=a0_0x7b141d;let _0x36e3c5=_0xaf4b90[_0x566474(0x230)];_0x171eeb[_0x566474(0x6b8)][_0x566474(0x230)]&&_0x171eeb[_0x566474(0x6b8)]['remoteJid'][_0x566474(0x223)]()!==''&&(_0x36e3c5=_0x171eeb[_0x566474(0x6b8)][_0x566474(0x230)][_0x566474(0x223)]()),this[_0x566474(0x222)][_0x566474(0x8c4)](this[_0x566474(0x488)]+'\x20('+this[_0x566474(0x194)][_0x566474(0x2ab)]+'):\x20Enviando\x20localização');let _0x2515a1={'number':_0x36e3c5,'options':{'delay':_0x171eeb[_0x566474(0x6b8)][_0x566474(0x360)]},'locationMessage':{'name':_0x171eeb[_0x566474(0x6b8)][_0x566474(0x3f5)],'address':_0x171eeb[_0x566474(0x6b8)]['address'],'latitude':_0x171eeb[_0x566474(0x6b8)][_0x566474(0x1a2)],'longitude':_0x171eeb[_0x566474(0x6b8)]['longitude']}};try{let _0x42aee3=await this[_0x566474(0x4be)](_0x2515a1);if(_0x42aee3){let _0x3d568e={'_id':_0x42aee3[_0x566474(0x69b)]['id'],'_fromMe':_0x42aee3[_0x566474(0x69b)]['fromMe'],'_remoteJid':_0x42aee3[_0x566474(0x69b)][_0x566474(0x230)]},_0xe42712=(0x0,w[_0x566474(0x267)])(_0x42aee3[_0x566474(0x1f9)]),_0x48b350=(0x0,w[_0x566474(0x23e)])(_0xe42712);_0xaf4b90[_0x566474(0x5ae)][_0x566474(0x519)]=_0x171eeb[_0x566474(0x39f)][_0x566474(0x7b0)]();let {message_normalized:_0x24f9d1}=this[_0x566474(0x747)](_0xe42712,_0x48b350,null);_0xaf4b90[_0x566474(0x5ae)]['lastSendMessage']=await _0x24f9d1;let _0x12130e={'messageId':_0x42aee3[_0x566474(0x69b)]['id']},_0x484d73=_0xaf4b90[_0x566474(0x5ae)]['realVariables'];Object['assign'](_0x484d73,_0x3d568e),_0xaf4b90[_0x566474(0x5ae)][_0x566474(0x16a)]=_0x484d73,this['updateConversation'](_0xaf4b90,_0x171eeb,_0x12130e);}else{let _0x2a838f={'error':!0x0};this[_0x566474(0x218)](_0xaf4b90,_0x171eeb,_0x2a838f),this[_0x566474(0x222)][_0x566474(0x4b9)](this[_0x566474(0x488)]+'\x20('+this[_0x566474(0x194)][_0x566474(0x2ab)]+_0x566474(0x2b2));}}catch(_0x24b088){let _0xa358c0={'error':!0x0,'errorLog':_0x24b088[_0x566474(0x7b0)]()};this[_0x566474(0x218)](_0xaf4b90,_0x171eeb,_0xa358c0),this['logger'][_0x566474(0x4b9)](this[_0x566474(0x488)]+'\x20('+this[_0x566474(0x194)][_0x566474(0x2ab)]+_0x566474(0x1b9)+(_0x24b088 instanceof Error?_0x24b088[_0x566474(0x1f9)]:JSON['stringify'](_0x24b088,null,0x2)));}}async[a0_0x7b141d(0x586)](_0x283a52,_0x2dedaf){const _0x30ef08=a0_0x7b141d;let _0x539e0d=_0x283a52['remoteJid'];_0x2dedaf[_0x30ef08(0x6b8)][_0x30ef08(0x230)]&&_0x2dedaf['uazapi'][_0x30ef08(0x230)][_0x30ef08(0x223)]()!==''&&(_0x539e0d=_0x2dedaf[_0x30ef08(0x6b8)][_0x30ef08(0x230)][_0x30ef08(0x223)]()),this[_0x30ef08(0x222)]['verbose'](this[_0x30ef08(0x488)]+'\x20('+this[_0x30ef08(0x194)][_0x30ef08(0x2ab)]+'):\x20Enviando\x20áudio');let _0xd0df67={'number':_0x539e0d,'options':{'delay':_0x2dedaf[_0x30ef08(0x6b8)]['delay']},'audioMessage':{'audio':_0x2dedaf[_0x30ef08(0x6b8)][_0x30ef08(0x59a)]}};try{let _0x1984bf=await this[_0x30ef08(0x80d)](_0xd0df67);if(_0x1984bf){let _0x48c2fa={'_id':_0x1984bf[_0x30ef08(0x69b)]['id'],'_fromMe':_0x1984bf['key'][_0x30ef08(0x4a2)],'_remoteJid':_0x1984bf[_0x30ef08(0x69b)]['remoteJid']},_0x19312f=(0x0,w[_0x30ef08(0x267)])(_0x1984bf[_0x30ef08(0x1f9)]),_0x38e95a=(0x0,w[_0x30ef08(0x23e)])(_0x19312f);_0x283a52['chatLog']['lastBlockId']=_0x2dedaf['_id'][_0x30ef08(0x7b0)]();let {message_normalized:_0x5e6841}=this[_0x30ef08(0x747)](_0x19312f,_0x38e95a,null);_0x283a52[_0x30ef08(0x5ae)][_0x30ef08(0x84e)]=await _0x5e6841;let _0x28b47f={'messageId':_0x1984bf['key']['id']},_0x481795=_0x283a52[_0x30ef08(0x5ae)][_0x30ef08(0x16a)];Object['assign'](_0x481795,_0x48c2fa),_0x283a52[_0x30ef08(0x5ae)][_0x30ef08(0x16a)]=_0x481795,this[_0x30ef08(0x218)](_0x283a52,_0x2dedaf,_0x28b47f);}else{let _0x1f9cef={'error':!0x0};this[_0x30ef08(0x218)](_0x283a52,_0x2dedaf,_0x1f9cef),this[_0x30ef08(0x222)][_0x30ef08(0x4b9)](this[_0x30ef08(0x488)]+'\x20('+this['instance']['wuid']+_0x30ef08(0x771));}}catch(_0x2b4a90){let _0x32765c={'error':!0x0,'errorLog':_0x2b4a90['toString']()};this[_0x30ef08(0x218)](_0x283a52,_0x2dedaf,_0x32765c),this[_0x30ef08(0x222)][_0x30ef08(0x4b9)](this[_0x30ef08(0x488)]+'\x20('+this[_0x30ef08(0x194)][_0x30ef08(0x2ab)]+_0x30ef08(0x349)+(_0x2b4a90 instanceof Error?_0x2b4a90['message']:JSON['stringify'](_0x2b4a90,null,0x2)));}}async['uazapiSendContact'](_0x3f5f94,_0x50f227){const _0x15d7a2=a0_0x7b141d;let _0x3eda3a=_0x3f5f94['remoteJid'];_0x50f227[_0x15d7a2(0x6b8)]['remoteJid']&&_0x50f227['uazapi'][_0x15d7a2(0x230)]['trim']()!==''&&(_0x3eda3a=_0x50f227[_0x15d7a2(0x6b8)]['remoteJid'][_0x15d7a2(0x223)]()),this[_0x15d7a2(0x222)][_0x15d7a2(0x8c4)](this[_0x15d7a2(0x488)]+'\x20('+this[_0x15d7a2(0x194)]['wuid']+_0x15d7a2(0x878));let _0x37e29a={'number':_0x3eda3a,'options':{'delay':_0x50f227[_0x15d7a2(0x6b8)][_0x15d7a2(0x360)]},'contactMessage':[{'fullName':_0x50f227['uazapi'][_0x15d7a2(0x5cc)],'phoneNumber':_0x50f227[_0x15d7a2(0x6b8)]['phoneNumber']}]};try{let _0x4ba120=await this['contactMessage'](_0x37e29a);if(_0x4ba120){let _0xfee73d={'_id':_0x4ba120[_0x15d7a2(0x69b)]['id'],'_fromMe':_0x4ba120[_0x15d7a2(0x69b)][_0x15d7a2(0x4a2)],'_remoteJid':_0x4ba120[_0x15d7a2(0x69b)][_0x15d7a2(0x230)]},_0x5912be=(0x0,w['normalizeMessageContent'])(_0x4ba120[_0x15d7a2(0x1f9)]),_0xfd8df1=(0x0,w['getContentType'])(_0x5912be);_0x3f5f94[_0x15d7a2(0x5ae)][_0x15d7a2(0x519)]=_0x50f227[_0x15d7a2(0x39f)][_0x15d7a2(0x7b0)]();let {message_normalized:_0x4d11fe}=this[_0x15d7a2(0x747)](_0x5912be,_0xfd8df1,null);_0x3f5f94['chatLog'][_0x15d7a2(0x84e)]=await _0x4d11fe;let _0x1aeb69={'messageId':_0x4ba120[_0x15d7a2(0x69b)]['id']},_0x1ff85d=_0x3f5f94['chatLog'][_0x15d7a2(0x16a)];Object[_0x15d7a2(0x6ef)](_0x1ff85d,_0xfee73d),_0x3f5f94[_0x15d7a2(0x5ae)][_0x15d7a2(0x16a)]=_0x1ff85d,this[_0x15d7a2(0x218)](_0x3f5f94,_0x50f227,_0x1aeb69);}else{let _0x59abfa={'error':!0x0};this[_0x15d7a2(0x218)](_0x3f5f94,_0x50f227,_0x59abfa),this[_0x15d7a2(0x222)]['error'](this['instanceName']+'\x20('+this[_0x15d7a2(0x194)][_0x15d7a2(0x2ab)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x569da3){let _0x4f5f94={'error':!0x0,'errorLog':_0x569da3[_0x15d7a2(0x7b0)]()};this[_0x15d7a2(0x218)](_0x3f5f94,_0x50f227,_0x4f5f94),this[_0x15d7a2(0x222)][_0x15d7a2(0x4b9)](this[_0x15d7a2(0x488)]+'\x20('+this[_0x15d7a2(0x194)][_0x15d7a2(0x2ab)]+_0x15d7a2(0x233)+(_0x569da3 instanceof Error?_0x569da3[_0x15d7a2(0x1f9)]:JSON[_0x15d7a2(0x22d)](_0x569da3,null,0x2)));}}[a0_0x7b141d(0x477)](_0x30b0d2,_0x3a86df){const _0x1f5fbc=a0_0x7b141d;for(let _0x4ff317 of _0x30b0d2)_0x4ff317[_0x1f5fbc(0x4ef)]&&(_0x4ff317[_0x1f5fbc(0x4ef)]=this['replaceVariables'](_0x4ff317[_0x1f5fbc(0x4ef)],_0x3a86df)),_0x4ff317[_0x1f5fbc(0x6b6)]&&(_0x4ff317[_0x1f5fbc(0x6b6)]=this[_0x1f5fbc(0x377)](_0x4ff317[_0x1f5fbc(0x6b6)],_0x3a86df));}async[a0_0x7b141d(0x2b8)](_0xf55af9,_0x332541){const _0x25b6e0=a0_0x7b141d;let _0x514f99=_0xf55af9[_0x25b6e0(0x230)];_0x332541['uazapi'][_0x25b6e0(0x230)]&&_0x332541[_0x25b6e0(0x6b8)][_0x25b6e0(0x230)][_0x25b6e0(0x223)]()!==''&&(_0x514f99=_0x332541['uazapi'][_0x25b6e0(0x230)][_0x25b6e0(0x223)]()),this['logger'][_0x25b6e0(0x8c4)](this[_0x25b6e0(0x488)]+'\x20('+this[_0x25b6e0(0x194)][_0x25b6e0(0x2ab)]+_0x25b6e0(0x7ca));let _0x28bc39=_0xf55af9[_0x25b6e0(0x89e)][_0x25b6e0(0x499)](_0x2c6b=>_0x2c6b[_0x25b6e0(0x6ea)]===_0x332541['_id'])[_0x25b6e0(0x6c8)]((_0x37067f,_0xf46ba9)=>_0x37067f[_0x25b6e0(0x2d4)]-_0xf46ba9[_0x25b6e0(0x2d4)]);this['replaceVariablesInReplyOptions'](_0x28bc39,_0xf55af9[_0x25b6e0(0x5ae)]['realVariables']);let _0x2c77d2=_0x28bc39['map'](_0x528f92=>_0x528f92[_0x25b6e0(0x4ef)]),_0x300c8c={'number':_0x514f99,'menuMessage':{'type':_0x332541[_0x25b6e0(0x6b8)][_0x25b6e0(0x6f2)]||_0x25b6e0(0x32e),'text':_0x332541['uazapi'][_0x25b6e0(0x2f3)]||_0x332541[_0x25b6e0(0x6b8)]['name'],'footerText':_0x332541[_0x25b6e0(0x6b8)]['footerText'],'buttonText':_0x332541['uazapi'][_0x25b6e0(0x1f8)],'selectableCount':0x1,'choices':_0x2c77d2},'options':{'delay':_0x332541[_0x25b6e0(0x6b8)][_0x25b6e0(0x360)]}};try{let _0x59f678=await this[_0x25b6e0(0x2ce)](_0x300c8c);if(_0x59f678){let _0x3ad5e9={'_id':_0x59f678[_0x25b6e0(0x69b)]['id'],'_fromMe':_0x59f678[_0x25b6e0(0x69b)]['fromMe'],'_remoteJid':_0x59f678[_0x25b6e0(0x69b)][_0x25b6e0(0x230)]};_0x332541[_0x25b6e0(0x6b8)][_0x25b6e0(0x696)]===!0x0&&(_0xf55af9['status']=_0x25b6e0(0x77e),this[_0x25b6e0(0x222)][_0x25b6e0(0x8c4)](this['instanceName']+'\x20('+this[_0x25b6e0(0x194)][_0x25b6e0(0x2ab)]+_0x25b6e0(0x4a8)+_0xf55af9[_0x25b6e0(0x756)])),this[_0x25b6e0(0x222)][_0x25b6e0(0x8c4)](this[_0x25b6e0(0x488)]+'\x20('+this[_0x25b6e0(0x194)][_0x25b6e0(0x2ab)]+'):\x20nextBlock.uazapi.name'+(_0x332541['uazapi'][_0x25b6e0(0x3f5)]||_0x332541[_0x25b6e0(0x6b8)][_0x25b6e0(0x2f3)])),_0xf55af9['waitingMenu_id']=_0x59f678[_0x25b6e0(0x69b)]['id'],_0xf55af9[_0x25b6e0(0x58e)]=_0x332541['uazapi'][_0x25b6e0(0x3f5)]||_0x332541[_0x25b6e0(0x6b8)]['text'],_0xf55af9[_0x25b6e0(0x47c)]=_0x28bc39,_0x332541[_0x25b6e0(0x6b8)][_0x25b6e0(0x5b3)]&&(_0xf55af9['waitingMenu_ExpiredMessage']=_0x332541[_0x25b6e0(0x6b8)][_0x25b6e0(0x5b3)]),this['logger']['verbose'](this[_0x25b6e0(0x488)]+'\x20('+this['instance']['wuid']+_0x25b6e0(0x402)+_0xf55af9[_0x25b6e0(0x58e)]);let _0x4ae291=(0x0,w['normalizeMessageContent'])(_0x59f678['message']),_0x504840=(0x0,w[_0x25b6e0(0x23e)])(_0x4ae291);_0xf55af9[_0x25b6e0(0x5ae)][_0x25b6e0(0x519)]=_0x332541['_id'][_0x25b6e0(0x7b0)]();let {message_normalized:_0xfc0342}=this[_0x25b6e0(0x747)](_0x4ae291,_0x504840,null);_0xf55af9[_0x25b6e0(0x5ae)][_0x25b6e0(0x84e)]=await _0xfc0342;let _0x441318={'messageId':_0x59f678[_0x25b6e0(0x69b)]['id']},_0x23cdbf=_0xf55af9['chatLog']['realVariables'];Object[_0x25b6e0(0x6ef)](_0x23cdbf,_0x3ad5e9),_0xf55af9['chatLog']['realVariables']=_0x23cdbf,this[_0x25b6e0(0x218)](_0xf55af9,_0x332541,_0x441318);}else{let _0x75004f={'error':!0x0};this[_0x25b6e0(0x218)](_0xf55af9,_0x332541,_0x75004f),this[_0x25b6e0(0x222)][_0x25b6e0(0x4b9)](this['instanceName']+'\x20('+this[_0x25b6e0(0x194)][_0x25b6e0(0x2ab)]+_0x25b6e0(0x6dd));}}catch(_0x147aaf){let _0x565ff6={'error':!0x0,'errorLog':_0x147aaf instanceof Error?_0x147aaf[_0x25b6e0(0x1f9)]:JSON['stringify'](_0x147aaf,null,0x2)};this['updateConversation'](_0xf55af9,_0x332541,_0x565ff6),this[_0x25b6e0(0x222)][_0x25b6e0(0x4b9)](this[_0x25b6e0(0x488)]+'\x20('+this[_0x25b6e0(0x194)][_0x25b6e0(0x2ab)]+_0x25b6e0(0x58d)+(_0x147aaf instanceof Error?_0x147aaf[_0x25b6e0(0x1f9)]:JSON[_0x25b6e0(0x22d)](_0x147aaf,null,0x2)));}}async[a0_0x7b141d(0x511)](_0x2bf2cd,_0x204a1a){const _0x286bff=a0_0x7b141d;this[_0x286bff(0x222)][_0x286bff(0x8c4)](this['instanceName']+'\x20('+this[_0x286bff(0x194)]['wuid']+'):\x20Deletando\x20mensagem');let _0x4bd3ce=_0x2bf2cd[_0x286bff(0x5ae)][_0x286bff(0x4e4)][_0x286bff(0x61f)](_0x4885eb=>_0x4885eb[_0x286bff(0x6ea)][_0x286bff(0x7b0)]()===_0x204a1a['uazapi'][_0x286bff(0x6ea)][_0x286bff(0x7b0)]()),_0x143d48={'id':_0x4bd3ce['messageId'],'remoteJid':_0x4bd3ce[_0x286bff(0x230)],'fromMe':_0x4bd3ce[_0x286bff(0x4a2)]};try{let _0x84f2e3=await this['deleteMessage'](_0x143d48);if(_0x84f2e3){let _0x54b93f=(0x0,w[_0x286bff(0x267)])(_0x84f2e3['message']),_0x1e31c8=(0x0,w[_0x286bff(0x23e)])(_0x54b93f);_0x2bf2cd['chatLog'][_0x286bff(0x519)]=_0x204a1a[_0x286bff(0x39f)][_0x286bff(0x7b0)]();let {message_normalized:_0x5f51eb}=this[_0x286bff(0x747)](_0x54b93f,_0x1e31c8,null);_0x2bf2cd[_0x286bff(0x5ae)][_0x286bff(0x84e)]=await _0x5f51eb;let _0x292468={};this[_0x286bff(0x218)](_0x2bf2cd,_0x204a1a,_0x292468);}else{let _0x17b71d={'error':!0x0};this[_0x286bff(0x218)](_0x2bf2cd,_0x204a1a,_0x17b71d),this[_0x286bff(0x222)][_0x286bff(0x4b9)](this[_0x286bff(0x488)]+'\x20('+this[_0x286bff(0x194)][_0x286bff(0x2ab)]+_0x286bff(0x17c));}}catch(_0x5b86e9){let _0x312a77={'error':!0x0,'errorLog':_0x5b86e9 instanceof Error?_0x5b86e9[_0x286bff(0x1f9)]:JSON[_0x286bff(0x22d)](_0x5b86e9,null,0x2)};this[_0x286bff(0x218)](_0x2bf2cd,_0x204a1a,_0x312a77),this['logger'][_0x286bff(0x4b9)](this[_0x286bff(0x488)]+'\x20('+this[_0x286bff(0x194)][_0x286bff(0x2ab)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x5b86e9 instanceof Error?_0x5b86e9[_0x286bff(0x1f9)]:JSON[_0x286bff(0x22d)](_0x5b86e9,null,0x2)));}}async[a0_0x7b141d(0x4c9)](_0x84e386,_0x47bc9d){const _0x17875f=a0_0x7b141d;if(_0x84e386[_0x17875f(0x3f5)]||(_0x84e386['name']=(0x0,Y['v4'])()),_0x47bc9d!==Ri&&_0x84e386?.[_0x17875f(0x79b)])throw new m(_0x17875f(0x3c5));if('_id'in _0x84e386&&_0x17875f(0x52f)in _0x84e386)return this[_0x17875f(0x3e9)](_0x84e386[_0x17875f(0x52f)],_0x84e386['_id']);this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x17875f(0x194)]['wuid']+_0x17875f(0x6be));let _0x505a0c=this[_0x17875f(0x5a2)](_0x84e386[_0x17875f(0x3f5)]),_0xfb0e66=new ge['Types']['ObjectId'](),_0x19ab97={'_id':_0xfb0e66,'default':!0x0,'title':_0x17875f(0x8a5),'x':0x0,'y':0x0},_0x3d5c94={'_id':new ge[(_0x17875f(0x35a))][(_0x17875f(0x722))](),'order':0x1,'groupId':_0xfb0e66[_0x17875f(0x7b0)](),'type':_0x17875f(0x299)},_0x4ae775=this[_0x17875f(0x194)][_0x17875f(0x2ab)],_0xee24dc={'_id':(0x0,Y['v4'])(),'owner':_0x4ae775,'name':_0x505a0c,'whoCanEdit':[_0x4ae775],'whoCanUse':[_0x4ae775],'groups':[_0x19ab97],'blocks':[_0x3d5c94],..._0x84e386};try{let _0x359e6a=await this[_0x17875f(0x60c)][_0x17875f(0x4b6)][_0x17875f(0x1b0)](_0xee24dc);return await this[_0x17875f(0x8a4)](),_0x359e6a;}catch(_0x2eee9c){let _0x350589=_0x17875f(0x21d),_0x40813e=_0x2eee9c instanceof Error?_0x2eee9c[_0x17875f(0x1f9)]:typeof _0x2eee9c=='object'?JSON[_0x17875f(0x22d)](_0x2eee9c):_0x2eee9c,_0x370e43=_0x350589+':\x20'+_0x40813e;throw this[_0x17875f(0x222)]['error'](this[_0x17875f(0x488)]+'\x20('+this[_0x17875f(0x194)][_0x17875f(0x2ab)]+_0x17875f(0x21e)+_0x370e43),new m(_0x370e43);}}async[a0_0x7b141d(0x3e9)](_0x1e25c5,_0x26e936){const _0x23c67c=a0_0x7b141d;try{this[_0x23c67c(0x222)][_0x23c67c(0x8c4)](this[_0x23c67c(0x488)]+'\x20('+this[_0x23c67c(0x194)]['wuid']+_0x23c67c(0x6ac));let _0x17604f=await this[_0x23c67c(0x60c)][_0x23c67c(0x4b6)][_0x23c67c(0x89d)]({'where':{'_id':_0x26e936,'owner':_0x1e25c5}});if(!_0x17604f)throw new m(_0x23c67c(0x7f5));if(_0x17604f['shareFlow']===!0x1&&!_0x17604f[_0x23c67c(0x79b)])throw new m(_0x23c67c(0x730));let _0x1ef029=new Set(_0x17604f[_0x23c67c(0x5a5)]??[]);_0x1ef029[_0x23c67c(0x46e)](this[_0x23c67c(0x194)]['wuid']);let _0x10a938=await this[_0x23c67c(0x60c)]['flow'][_0x23c67c(0x319)](_0x26e936,{..._0x17604f,'whoCanUse':Array[_0x23c67c(0x322)](_0x1ef029)});return await this[_0x23c67c(0x8a4)](),_0x10a938;}catch(_0x42d0a8){let _0x28cdce=_0x23c67c(0x4eb),_0xcf1fe0=_0x42d0a8 instanceof Error?_0x42d0a8[_0x23c67c(0x1f9)]:typeof _0x42d0a8==_0x23c67c(0x5ec)?JSON[_0x23c67c(0x22d)](_0x42d0a8):_0x42d0a8,_0x1d9985=_0x28cdce+':\x20'+_0xcf1fe0;throw this[_0x23c67c(0x222)][_0x23c67c(0x4b9)](this[_0x23c67c(0x488)]+'\x20('+this['instance']['wuid']+_0x23c67c(0x21e)+_0x1d9985),new m(_0x1d9985);}}[a0_0x7b141d(0x5a2)](_0x27be21){const _0xe879e6=a0_0x7b141d;let _0x5d75bd=_0x27be21,_0x5663a8=0x1;for(;this[_0xe879e6(0x75a)][_0xe879e6(0x3ee)]['some'](_0x425ee8=>_0x425ee8[_0xe879e6(0x3f5)]===_0x5d75bd);)_0x5663a8++,_0x5d75bd=_0x27be21+'\x20('+_0x5663a8+')';return _0x5d75bd;}async['deleteFlow'](_0xf5808b){const _0x4c28c3=a0_0x7b141d;try{if(this[_0x4c28c3(0x222)][_0x4c28c3(0x8c4)](this[_0x4c28c3(0x488)]+'\x20('+this[_0x4c28c3(0x194)][_0x4c28c3(0x2ab)]+_0x4c28c3(0x737)+_0xf5808b[_0x4c28c3(0x39f)]+_0x4c28c3(0x4aa)+_0xf5808b['global']),!this[_0x4c28c3(0x75a)][_0x4c28c3(0x3ee)][_0x4c28c3(0x61f)](_0x62c3f7=>_0x62c3f7[_0x4c28c3(0x39f)]===_0xf5808b['_id']))throw this['logger'][_0x4c28c3(0x8c4)](this[_0x4c28c3(0x488)]+'\x20('+this[_0x4c28c3(0x194)][_0x4c28c3(0x2ab)]+_0x4c28c3(0x7e4)+_0xf5808b['_id']+_0x4c28c3(0x286)),new m(_0x4c28c3(0x735));let _0x3f0aa9=await this['repository'][_0x4c28c3(0x4b6)]['findOne']({'where':{'_id':_0xf5808b[_0x4c28c3(0x39f)]}});if(!_0x3f0aa9)throw new m('Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.');if(this[_0x4c28c3(0x194)][_0x4c28c3(0x2ab)]===_0x3f0aa9[_0x4c28c3(0x52f)]){this[_0x4c28c3(0x222)][_0x4c28c3(0x8c4)](this[_0x4c28c3(0x488)]+'\x20('+this[_0x4c28c3(0x194)][_0x4c28c3(0x2ab)]+_0x4c28c3(0x435)+_0xf5808b['_id']+_0x4c28c3(0x2bf));let _0x10adb2=await this[_0x4c28c3(0x60c)]['flow'][_0x4c28c3(0x631)]({'where':{'_id':_0xf5808b['_id']}});return await this['synchronizeAndMapFlows'](),_0x10adb2;}return this[_0x4c28c3(0x222)][_0x4c28c3(0x8c4)](this[_0x4c28c3(0x488)]+'\x20('+this[_0x4c28c3(0x194)]['wuid']+_0x4c28c3(0x4d0)+this[_0x4c28c3(0x194)][_0x4c28c3(0x2ab)]+'\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27'+_0xf5808b[_0x4c28c3(0x39f)]+_0x4c28c3(0x3ad)),_0x3f0aa9['whoCanUse']=(_0x3f0aa9[_0x4c28c3(0x5a5)]??[])['filter'](_0x4cbb91=>_0x4cbb91!==this[_0x4c28c3(0x194)]['wuid']),_0x3f0aa9[_0x4c28c3(0x769)]=(_0x3f0aa9['whoCanEdit']??[])[_0x4c28c3(0x499)](_0x1ff3e9=>_0x1ff3e9!==this[_0x4c28c3(0x194)][_0x4c28c3(0x2ab)]),_0x3f0aa9[_0x4c28c3(0x769)][_0x4c28c3(0x675)]===0x0&&_0x3f0aa9[_0x4c28c3(0x5a5)][_0x4c28c3(0x675)]>0x0&&(_0x3f0aa9['whoCanEdit'][_0x4c28c3(0x7a1)](_0x3f0aa9['whoCanUse'][0x0]),this['logger'][_0x4c28c3(0x8c4)](this[_0x4c28c3(0x488)]+'\x20('+this[_0x4c28c3(0x194)][_0x4c28c3(0x2ab)]+_0x4c28c3(0x2ba)+_0x3f0aa9[_0x4c28c3(0x5a5)][0x0]+'\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27'+_0xf5808b[_0x4c28c3(0x39f)]+'\x27...')),await this[_0x4c28c3(0x60c)]['flow']['updateOne'](_0x3f0aa9[_0x4c28c3(0x39f)],_0x3f0aa9),await this['synchronizeAndMapFlows'](),{'message':'Fluxo\x20\x27'+_0xf5808b[_0x4c28c3(0x3f5)]+_0x4c28c3(0x614)};}catch(_0x111e0b){return this['logger'][_0x4c28c3(0x4b9)](this[_0x4c28c3(0x488)]+'\x20('+this[_0x4c28c3(0x194)][_0x4c28c3(0x2ab)]+_0x4c28c3(0x7a7)+(_0x111e0b instanceof Error?_0x111e0b[_0x4c28c3(0x1f9)]:JSON[_0x4c28c3(0x22d)](_0x111e0b,null,0x2))),{'message':_0x4c28c3(0x17e)+(_0x111e0b instanceof Error?_0x111e0b[_0x4c28c3(0x1f9)]:JSON[_0x4c28c3(0x22d)](_0x111e0b,null,0x2))};}}async[a0_0x7b141d(0x425)](_0x396bbf){const _0x411386=a0_0x7b141d;try{if(this[_0x411386(0x222)][_0x411386(0x59c)](this[_0x411386(0x488)]+'\x20('+this[_0x411386(0x194)][_0x411386(0x2ab)]+_0x411386(0x4a9)+_0x396bbf),!this[_0x411386(0x75a)]&&(await this['getAutomateSystem'](),!this[_0x411386(0x75a)]))return null;let _0x40ef1f=await this[_0x411386(0x60c)][_0x411386(0x4b6)][_0x411386(0x89d)]({'where':{'_id':_0x396bbf}});if(!_0x40ef1f)throw new m('Fluxo\x20id\x20\x27'+_0x396bbf+_0x411386(0x2a6));if(!(_0x40ef1f[_0x411386(0x79b)]||_0x40ef1f[_0x411386(0x5a5)]?.[_0x411386(0x87b)](this[_0x411386(0x194)]['wuid'])))throw new m(_0x411386(0x4b1)+name+'\x27');_0x40ef1f['globalShow']&&!_0x40ef1f[_0x411386(0x5a5)]?.[_0x411386(0x87b)](this[_0x411386(0x194)][_0x411386(0x2ab)])&&(_0x40ef1f[_0x411386(0x5a5)]=[..._0x40ef1f['whoCanUse']??[],this['instance'][_0x411386(0x2ab)]],await this[_0x411386(0x60c)][_0x411386(0x4b6)][_0x411386(0x319)](_0x40ef1f[_0x411386(0x39f)],_0x40ef1f),this[_0x411386(0x8a4)]());let _0x511cd8=this[_0x411386(0x75a)]?.[_0x411386(0x887)]['map'](_0x283a98=>_0x283a98[_0x411386(0x3f5)]),_0x431308=[_0x411386(0x4c0),_0x411386(0x3dd),_0x411386(0x592),_0x411386(0x25c),_0x411386(0x756),_0x411386(0x86d),_0x411386(0x19d),_0x411386(0x6ba),_0x411386(0x584),_0x411386(0x44d),_0x411386(0x574)];_0x40ef1f[_0x411386(0x16e)]=_0x40ef1f[_0x411386(0x16e)][_0x411386(0x499)](_0x1e090b=>!(_0x1e090b['folder']===_0x411386(0x77d)||_0x1e090b[_0x411386(0x77d)])),_0x431308[_0x411386(0x677)](_0x572233=>{const _0x4f7524=_0x411386;_0x40ef1f['variables'][_0x4f7524(0x7a1)]({'folder':_0x4f7524(0x77d),'name':_0x572233,'value':'','doc':'','leadInfo':!0x0});}),_0x511cd8['forEach'](_0x12155a=>{const _0x32f5ef=_0x411386;let _0x4c0cf0=_0x40ef1f[_0x32f5ef(0x16e)][_0x32f5ef(0x801)](_0x45d192=>_0x45d192[_0x32f5ef(0x3f5)]===_0x12155a);_0x4c0cf0===-0x1?_0x40ef1f[_0x32f5ef(0x16e)][_0x32f5ef(0x7a1)]({'folder':'leadInfo','name':_0x12155a,'value':'','doc':'','leadInfo':!0x0}):(_0x40ef1f['variables'][_0x4c0cf0][_0x32f5ef(0x258)]='leadInfo',_0x40ef1f[_0x32f5ef(0x16e)][_0x4c0cf0][_0x32f5ef(0x77d)]=!0x0);}),_0x40ef1f[_0x411386(0x436)]&&_0x40ef1f[_0x411386(0x436)][_0x411386(0x675)]>0x0&&_0x40ef1f[_0x411386(0x436)][_0x411386(0x677)](_0x3fc747=>{const _0x58c102=_0x411386;_0x3fc747[_0x58c102(0x7d1)]&&_0x3fc747['next_groupId']&&_0x3fc747[_0x58c102(0x7d1)]===_0x3fc747['next_groupId']&&(_0x3fc747['next_groupId']=null);});let _0x1351aa=await this[_0x411386(0x60c)][_0x411386(0x4b6)][_0x411386(0x319)](_0x40ef1f['_id'],_0x40ef1f);if(!_0x1351aa)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x1351aa;}catch(_0x4de87b){let _0x4366ec=_0x411386(0x4b2),_0x4ad491=_0x4de87b instanceof Error?_0x4de87b[_0x411386(0x1f9)]:typeof _0x4de87b==_0x411386(0x5ec)?JSON['stringify'](_0x4de87b):_0x4de87b,_0xbf4cc4=_0x4366ec+':\x20'+_0x4ad491;throw this['logger']['error'](this[_0x411386(0x488)]+'\x20('+this[_0x411386(0x194)][_0x411386(0x2ab)]+_0x411386(0x21e)+_0xbf4cc4),new m(_0xbf4cc4);}}async[a0_0x7b141d(0x7d2)](){const _0x3bb7e5=a0_0x7b141d;try{this[_0x3bb7e5(0x222)][_0x3bb7e5(0x8c4)](this[_0x3bb7e5(0x488)]+'\x20('+this['instance'][_0x3bb7e5(0x2ab)]+_0x3bb7e5(0x433)),await this[_0x3bb7e5(0x8a4)]();let _0x20bf9a=await this[_0x3bb7e5(0x60c)][_0x3bb7e5(0x4b6)][_0x3bb7e5(0x50c)]({'where':{'globalShow':!0x0}});return[...this[_0x3bb7e5(0x75a)][_0x3bb7e5(0x3ee)],..._0x20bf9a];}catch(_0x25518b){return this[_0x3bb7e5(0x222)][_0x3bb7e5(0x4b9)](this[_0x3bb7e5(0x488)]+'\x20('+this['instance'][_0x3bb7e5(0x2ab)]+'):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20'+(_0x25518b instanceof Error?_0x25518b[_0x3bb7e5(0x1f9)]:JSON[_0x3bb7e5(0x22d)](_0x25518b,null,0x2))),{'message':_0x3bb7e5(0x762)+(_0x25518b instanceof Error?_0x25518b['message']:String(_0x25518b))};}}async[a0_0x7b141d(0x289)](_0x57cb13,_0x23ad02){const _0x1d9342=a0_0x7b141d;try{this[_0x1d9342(0x222)]['verbose'](this[_0x1d9342(0x488)]+'\x20('+this['instance'][_0x1d9342(0x2ab)]+'):\x20Alterando\x20fluxo...');let _0x94a1f5=this[_0x1d9342(0x75a)]['flows'][_0x1d9342(0x61f)](_0x37554d=>_0x37554d[_0x1d9342(0x39f)]===_0x57cb13[_0x1d9342(0x39f)]);if(!_0x94a1f5)throw this[_0x1d9342(0x222)][_0x1d9342(0x8c4)](this[_0x1d9342(0x488)]+'\x20('+this['instance'][_0x1d9342(0x2ab)]+'):\x20Fluxo\x20\x27'+_0x57cb13['_id']+_0x1d9342(0x286)),new m(_0x1d9342(0x735));let _0x4490be=await this['repository']['flow']['findOne']({'where':{'_id':_0x57cb13['_id']}});if(!_0x4490be||!_0x4490be[_0x1d9342(0x5a5)]?.[_0x1d9342(0x87b)](this['instance'][_0x1d9342(0x2ab)]))throw this['logger'][_0x1d9342(0x4b9)](this[_0x1d9342(0x488)]+'\x20('+this['instance'][_0x1d9342(0x2ab)]+_0x1d9342(0x49e)+_0x57cb13[_0x1d9342(0x39f)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x1d9342(0x56a)+_0x57cb13['_id']+_0x1d9342(0x74b));let _0x2a64e2=this[_0x1d9342(0x75a)][_0x1d9342(0x3ee)][_0x1d9342(0x801)](_0x1cd6d5=>_0x1cd6d5[_0x1d9342(0x39f)]===_0x94a1f5['_id']);if(_0x2a64e2!==-0x1){let _0x3b19dd=this[_0x1d9342(0x75a)][_0x1d9342(0x3ee)][_0x2a64e2];if(_0x3b19dd[_0x1d9342(0x3f5)]=_0x57cb13[_0x1d9342(0x3f5)]??_0x3b19dd[_0x1d9342(0x3f5)],_0x3b19dd[_0x1d9342(0x2cf)]=_0x57cb13[_0x1d9342(0x2cf)]??_0x3b19dd[_0x1d9342(0x2cf)],_0x3b19dd['testingWith']=_0x57cb13[_0x1d9342(0x1ad)]??_0x3b19dd['testingWith'],_0x3b19dd[_0x1d9342(0x479)]=_0x57cb13[_0x1d9342(0x809)]??_0x3b19dd[_0x1d9342(0x479)],_0x3b19dd[_0x1d9342(0x6a7)]=_0x57cb13['minutesToClose']??_0x3b19dd[_0x1d9342(0x6a7)],_0x3b19dd[_0x1d9342(0x8c3)]=_0x57cb13[_0x1d9342(0x8c3)]??_0x3b19dd['readMessages'],_0x57cb13[_0x1d9342(0x2cf)]&&this[_0x1d9342(0x75a)][_0x1d9342(0x3ee)][_0x1d9342(0x677)]((_0x5ba69c,_0x22ad4e)=>{_0x22ad4e!==_0x2a64e2&&(_0x5ba69c['default']=!0x1);}),this[_0x1d9342(0x75a)]['flows'][_0x2a64e2]=_0x3b19dd,!await this[_0x1d9342(0x60c)][_0x1d9342(0x855)][_0x1d9342(0x889)]({'flows':this[_0x1d9342(0x75a)]['flows']},this[_0x1d9342(0x194)][_0x1d9342(0x2ab)]))throw new m('Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.');}let _0x4a31bc=[_0x1d9342(0x329),_0x1d9342(0x307),'sharePass',_0x1d9342(0x2f6)];for(let _0x150dd3 of _0x4a31bc)delete _0x57cb13[_0x150dd3];if(_0x4490be[_0x1d9342(0x769)]?.[_0x1d9342(0x87b)](this[_0x1d9342(0x194)][_0x1d9342(0x2ab)])||(_0x57cb13={'_id':_0x57cb13['_id']}),_0x23ad02!==Ri&&_0x57cb13?.['globalShow']&&!_0x4490be?.[_0x1d9342(0x79b)])throw new m(_0x1d9342(0x596));let _0x462ddd=new Set(_0x57cb13[_0x1d9342(0x769)]??_0x4490be[_0x1d9342(0x769)]);_0x462ddd['add'](_0x4490be[_0x1d9342(0x52f)]);let _0xa88262=new Set(_0x57cb13[_0x1d9342(0x5a5)]??_0x4490be[_0x1d9342(0x5a5)]??[]);_0x462ddd[_0x1d9342(0x677)](_0x35e131=>_0xa88262[_0x1d9342(0x46e)](_0x35e131)),_0xa88262['add'](_0x4490be[_0x1d9342(0x52f)]),this[_0x1d9342(0x222)][_0x1d9342(0x8c4)](this['instanceName']+'\x20('+this['instance'][_0x1d9342(0x2ab)]+_0x1d9342(0x3b7)+Array[_0x1d9342(0x322)](_0x462ddd)),this[_0x1d9342(0x222)][_0x1d9342(0x8c4)](this[_0x1d9342(0x488)]+'\x20('+this[_0x1d9342(0x194)][_0x1d9342(0x2ab)]+_0x1d9342(0x7b7)+Array[_0x1d9342(0x322)](_0xa88262));let _0x217aa8=await this[_0x1d9342(0x400)](Array[_0x1d9342(0x322)](_0xa88262)),_0x504b06=Array['from'](_0x462ddd)[_0x1d9342(0x499)](_0x3738ff=>_0x217aa8[_0x1d9342(0x87b)](_0x3738ff)),_0x310c92=Array[_0x1d9342(0x322)](_0xa88262)['filter'](_0x23801c=>_0x217aa8['includes'](_0x23801c));this['logger'][_0x1d9342(0x8c4)](this['instanceName']+'\x20('+this[_0x1d9342(0x194)][_0x1d9342(0x2ab)]+'):\x20whoCanEdit\x20after\x20validation:\x20'+_0x504b06),this[_0x1d9342(0x222)][_0x1d9342(0x8c4)](this['instanceName']+'\x20('+this[_0x1d9342(0x194)]['wuid']+_0x1d9342(0x160)+_0x310c92);let _0x565f58={..._0x4490be,..._0x57cb13,'whoCanEdit':_0x504b06,'whoCanUse':_0x310c92},_0x1e78e6=await this['repository'][_0x1d9342(0x4b6)][_0x1d9342(0x319)](_0x4490be[_0x1d9342(0x39f)],_0x565f58);return await this[_0x1d9342(0x8a4)](),_0x1e78e6;}catch(_0x4d08cb){let _0x2a76ea=_0x1d9342(0x180),_0x5f11ca=_0x4d08cb instanceof Error?_0x4d08cb[_0x1d9342(0x1f9)]:typeof _0x4d08cb==_0x1d9342(0x5ec)?JSON[_0x1d9342(0x22d)](_0x4d08cb):_0x4d08cb,_0x323749=_0x2a76ea+':\x20'+_0x5f11ca;throw this[_0x1d9342(0x222)][_0x1d9342(0x4b9)](this[_0x1d9342(0x488)]+'\x20('+this[_0x1d9342(0x194)][_0x1d9342(0x2ab)]+_0x1d9342(0x21e)+_0x323749),new m(_0x323749);}}async[a0_0x7b141d(0x400)](_0x2078ad){const _0x14ef7f=a0_0x7b141d;let _0x5ac85c={'numbers':_0x2078ad};return(await this[_0x14ef7f(0x534)](_0x5ac85c))[_0x14ef7f(0x499)](_0x50c1ea=>_0x50c1ea[_0x14ef7f(0x2a1)])[_0x14ef7f(0x62e)](_0x12ac0b=>_0x12ac0b[_0x14ef7f(0x37a)])[_0x14ef7f(0x62e)](_0x836246=>this[_0x14ef7f(0x2cd)](_0x836246));}[a0_0x7b141d(0x2cd)](_0x226fa3){const _0xb14042=a0_0x7b141d;let _0x583783=_0x226fa3[_0xb14042(0x3dc)](/\d+/);return _0x583783?_0x583783[0x0]:'';}async[a0_0x7b141d(0x65e)](_0x305086){const _0x19ba9e=a0_0x7b141d;try{if(this[_0x19ba9e(0x222)][_0x19ba9e(0x8c4)](this['instanceName']+'\x20('+this['instance'][_0x19ba9e(0x2ab)]+'):\x20Editando\x20bloco...'),!this[_0x19ba9e(0x75a)][_0x19ba9e(0x3ee)]['find'](_0x4211bb=>_0x4211bb['_id']===_0x305086[_0x19ba9e(0x39f)]))throw this[_0x19ba9e(0x222)]['verbose'](this[_0x19ba9e(0x488)]+'\x20('+this[_0x19ba9e(0x194)][_0x19ba9e(0x2ab)]+_0x19ba9e(0x7e4)+_0x305086[_0x19ba9e(0x39f)]+'\x27\x20não\x20encontrado'),new m(_0x19ba9e(0x735));let _0x15473a=await this[_0x19ba9e(0x60c)]['flow'][_0x19ba9e(0x89d)]({'where':{'_id':_0x305086[_0x19ba9e(0x39f)]}});if(!_0x15473a||!_0x15473a[_0x19ba9e(0x5a5)]?.[_0x19ba9e(0x87b)](this[_0x19ba9e(0x194)][_0x19ba9e(0x2ab)]))throw this['logger']['error'](this[_0x19ba9e(0x488)]+'\x20('+this[_0x19ba9e(0x194)]['wuid']+_0x19ba9e(0x49e)+_0x305086[_0x19ba9e(0x39f)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x19ba9e(0x56a)+_0x305086[_0x19ba9e(0x39f)]+_0x19ba9e(0x74b));if(!_0x15473a[_0x19ba9e(0x769)]?.['includes'](this[_0x19ba9e(0x194)][_0x19ba9e(0x2ab)]))throw new m(_0x19ba9e(0x282));let {block:_0x14a716}=_0x305086;_0x14a716?.['copy']?this['copyBlock'](_0x15473a,_0x305086):_0x14a716?.[_0x19ba9e(0x59d)]?this[_0x19ba9e(0x639)](_0x15473a,_0x305086):_0x14a716[_0x19ba9e(0x39f)]?await this[_0x19ba9e(0x589)](_0x15473a,_0x305086):this[_0x19ba9e(0x7c8)](_0x15473a,_0x305086);let _0x433409=await this['repository'][_0x19ba9e(0x4b6)][_0x19ba9e(0x319)](_0x15473a[_0x19ba9e(0x39f)],_0x15473a);if(!_0x433409)throw new Error(_0x19ba9e(0x56d));return _0x433409;}catch(_0x35e15f){this['throwAndLogError'](_0x19ba9e(0x7ad)+_0x35e15f[_0x19ba9e(0x1f9)]);}}async[a0_0x7b141d(0x7dc)](_0x2f6ea9,_0x5cff20){const _0x39c5ea=a0_0x7b141d;let _0x1613d7=_0x5cff20[_0x39c5ea(0x2dc)][_0x39c5ea(0x39f)],_0x263640=_0x2f6ea9[_0x39c5ea(0x436)][_0x39c5ea(0x61f)](_0x2fd4a8=>_0x2fd4a8[_0x39c5ea(0x39f)][_0x39c5ea(0x7b0)]()===_0x1613d7);if(!_0x263640){this[_0x39c5ea(0x222)][_0x39c5ea(0x4b9)](this[_0x39c5ea(0x488)]+'\x20('+this['instance'][_0x39c5ea(0x2ab)]+'):\x20Bloco\x20com\x20ID\x20'+_0x1613d7+'\x20não\x20encontrado\x20para\x20cópia');return;}this[_0x39c5ea(0x222)][_0x39c5ea(0x8c4)](this[_0x39c5ea(0x488)]+'\x20('+this[_0x39c5ea(0x194)][_0x39c5ea(0x2ab)]+_0x39c5ea(0x382)+JSON['stringify'](_0x263640));let _0x276ff2=JSON[_0x39c5ea(0x7da)](JSON['stringify'](_0x263640));_0x276ff2[_0x39c5ea(0x39f)]=new ge[(_0x39c5ea(0x2cf))][(_0x39c5ea(0x35a))][(_0x39c5ea(0x722))](),this[_0x39c5ea(0x222)][_0x39c5ea(0x8c4)](this[_0x39c5ea(0x488)]+'\x20('+this['instance'][_0x39c5ea(0x2ab)]+_0x39c5ea(0x897)+JSON[_0x39c5ea(0x22d)](_0x276ff2)),_0x2f6ea9[_0x39c5ea(0x436)]['push'](_0x276ff2),this[_0x39c5ea(0x333)](_0x2f6ea9['blocks'],_0x276ff2[_0x39c5ea(0x7d1)]);}[a0_0x7b141d(0x37c)](_0xe70040){const _0x488b01=a0_0x7b141d;throw this[_0x488b01(0x222)][_0x488b01(0x4b9)](this['instanceName']+'\x20('+this[_0x488b01(0x194)]['wuid']+_0x488b01(0x21e)+_0xe70040),new m(_0xe70040);}[a0_0x7b141d(0x639)](_0x1364e5,_0x4e04bf){const _0x1c68f7=a0_0x7b141d;let {block:_0x19445c}=_0x4e04bf;if(_0x19445c[_0x1c68f7(0x7ef)]==='start'){this[_0x1c68f7(0x37c)](_0x1c68f7(0x615));return;}if(!_0x19445c[_0x1c68f7(0x39f)]){this[_0x1c68f7(0x37c)](_0x1c68f7(0x412));return;}let _0xb2e232=_0x1364e5['blocks']['find'](_0x36950d=>_0x36950d['_id']['toString']()===_0x4e04bf[_0x1c68f7(0x2dc)][_0x1c68f7(0x39f)][_0x1c68f7(0x7b0)]());if(!_0xb2e232){this[_0x1c68f7(0x37c)](_0x1c68f7(0x1d0)+_0x19445c[_0x1c68f7(0x39f)]+_0x1c68f7(0x3ed));return;}_0x1364e5[_0x1c68f7(0x436)]=_0x1364e5[_0x1c68f7(0x436)]['filter'](_0x2c5d17=>_0x2c5d17[_0x1c68f7(0x39f)][_0x1c68f7(0x7b0)]()!==_0x4e04bf[_0x1c68f7(0x2dc)]['_id']['toString']()),_0x1364e5[_0x1c68f7(0x268)]=_0x1364e5[_0x1c68f7(0x268)][_0x1c68f7(0x499)](_0xbafa2a=>_0xbafa2a['blockId']!==_0x19445c[_0x1c68f7(0x39f)]['toString']()),_0x1364e5[_0x1c68f7(0x4d8)]=_0x1364e5[_0x1c68f7(0x4d8)][_0x1c68f7(0x499)](_0x4e482d=>_0x4e482d[_0x1c68f7(0x6ea)]!==_0x19445c[_0x1c68f7(0x39f)]['toString']()),_0x1364e5[_0x1c68f7(0x89e)]=_0x1364e5['replyOptions'][_0x1c68f7(0x499)](_0x3bb53c=>_0x3bb53c[_0x1c68f7(0x6ea)]!==_0x19445c[_0x1c68f7(0x39f)][_0x1c68f7(0x7b0)]()),this[_0x1c68f7(0x333)](_0x1364e5[_0x1c68f7(0x436)],_0xb2e232['groupId']);}async[a0_0x7b141d(0x589)](_0x27a789,_0x5a1565){const _0x312292=a0_0x7b141d;let _0x2551eb=_0x27a789[_0x312292(0x436)][_0x312292(0x801)](_0x2a5cb9=>_0x2a5cb9['_id'][_0x312292(0x7b0)]()===_0x5a1565[_0x312292(0x2dc)][_0x312292(0x39f)][_0x312292(0x7b0)]());if(this[_0x312292(0x222)]['verbose'](this[_0x312292(0x488)]+'\x20('+this[_0x312292(0x194)][_0x312292(0x2ab)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x2551eb),_0x2551eb===-0x1){this[_0x312292(0x222)][_0x312292(0x8c4)](_0x312292(0x1d0)+_0x5a1565['block'][_0x312292(0x39f)]+_0x312292(0x798));return;}if(_0x27a789[_0x312292(0x436)][_0x2551eb][_0x312292(0x7ef)]===_0x312292(0x299)){let _0x59ea30=Object[_0x312292(0x679)](_0x5a1565[_0x312292(0x2dc)]);if(_0x59ea30[_0x312292(0x675)]>0x2||_0x59ea30[_0x312292(0x675)]===0x2&&!_0x59ea30['includes'](_0x312292(0x782))){this[_0x312292(0x37c)](_0x312292(0x497));return;}}let _0xd9df57=_0x27a789['blocks'][_0x2551eb][_0x312292(0x7d1)];for(let _0x1bc06f in _0x5a1565['block'])_0x5a1565[_0x312292(0x2dc)]['hasOwnProperty'](_0x1bc06f)&&(_0x27a789[_0x312292(0x436)][_0x2551eb][_0x1bc06f]=_0x5a1565[_0x312292(0x2dc)][_0x1bc06f]);if(this['logger'][_0x312292(0x8c4)](this['instanceName']+'\x20('+this[_0x312292(0x194)][_0x312292(0x2ab)]+_0x312292(0x7fd)+JSON['stringify'](_0x27a789[_0x312292(0x436)][_0x2551eb])),_0x27a789[_0x312292(0x436)][_0x2551eb][_0x312292(0x5bc)]&&'header'in _0x27a789[_0x312292(0x436)][_0x2551eb][_0x312292(0x5bc)]){this[_0x312292(0x222)][_0x312292(0x8c4)](this[_0x312292(0x488)]+'\x20('+this[_0x312292(0x194)][_0x312292(0x2ab)]+_0x312292(0x495));let _0x437457=JSON[_0x312292(0x22d)](_0x27a789[_0x312292(0x436)][_0x2551eb][_0x312292(0x5bc)][_0x312292(0x1c5)],null,0x1);_0x437457['length']>0x2&&(_0x437457=_0x437457[_0x312292(0x26e)](0x1,_0x437457[_0x312292(0x675)]-0x1)[_0x312292(0x223)]()),_0x27a789[_0x312292(0x436)][_0x2551eb][_0x312292(0x5bc)][_0x312292(0x156)]=_0x437457;}if(_0x27a789[_0x312292(0x436)][_0x2551eb][_0x312292(0x5bc)]&&'body'in _0x27a789[_0x312292(0x436)][_0x2551eb][_0x312292(0x5bc)]&&!('bodyString'in _0x27a789[_0x312292(0x436)][_0x2551eb][_0x312292(0x5bc)])){this[_0x312292(0x222)][_0x312292(0x8c4)](this[_0x312292(0x488)]+'\x20('+this[_0x312292(0x194)][_0x312292(0x2ab)]+_0x312292(0x7c1)),_0x27a789[_0x312292(0x436)][_0x2551eb][_0x312292(0x5bc)][_0x312292(0x7b1)]=!0x1;let _0x28d0fe=JSON[_0x312292(0x22d)](_0x27a789['blocks'][_0x2551eb][_0x312292(0x5bc)][_0x312292(0x7a2)],null,0x2);_0x27a789[_0x312292(0x436)][_0x2551eb][_0x312292(0x5bc)][_0x312292(0x67d)]=_0x28d0fe;}if(_0x27a789['blocks'][_0x2551eb][_0x312292(0x5bc)]&&_0x312292(0x67d)in _0x27a789['blocks'][_0x2551eb][_0x312292(0x5bc)]){_0x27a789[_0x312292(0x436)][_0x2551eb][_0x312292(0x5bc)][_0x312292(0x7b1)]=!0x1;let _0x1cfff3=_0x27a789[_0x312292(0x436)][_0x2551eb][_0x312292(0x5bc)][_0x312292(0x67d)],_0x3bf764=this[_0x312292(0x749)](_0x1cfff3);_0x27a789['blocks'][_0x2551eb][_0x312292(0x5bc)][_0x312292(0x67d)]=_0x3bf764[_0x312292(0x8a2)],_0x27a789[_0x312292(0x436)][_0x2551eb][_0x312292(0x5bc)][_0x312292(0x7b1)]=_0x3bf764[_0x312292(0x4b9)];}let _0x5c3e52=_0x27a789[_0x312292(0x436)][_0x2551eb][_0x312292(0x7d1)];_0xd9df57!==_0x5c3e52?(this[_0x312292(0x333)](_0x27a789[_0x312292(0x436)],_0xd9df57),this[_0x312292(0x333)](_0x27a789['blocks'],_0x5c3e52)):this[_0x312292(0x333)](_0x27a789['blocks'],_0xd9df57);}[a0_0x7b141d(0x749)](_0x5f3501){const _0x4f6f1e=a0_0x7b141d;let _0x548ed4='\u205f',_0xec3769=!0x1,_0x5f1449='';for(let _0xfeeda7=0x0;_0xfeeda7<_0x5f3501[_0x4f6f1e(0x675)];_0xfeeda7++){let _0x5ccf8a=_0x5f3501[_0xfeeda7];_0x5ccf8a==='\x22'&&(_0xfeeda7===0x0||_0x5f3501[_0xfeeda7-0x1]!=='\x5c')&&(_0xec3769=!_0xec3769),!(!_0xec3769&&(_0x5ccf8a==='\x0a'||_0x5ccf8a==='\x20'||_0x5ccf8a===_0x548ed4))&&(_0x5f1449+=_0x5ccf8a);}let _0x5e1b3e={},_0x5babb9=9876543210.1234,_0x4dbda9=_0x5f1449[_0x4f6f1e(0x563)](/\{\{([^}]+)\}\}/g,_0x24a100=>{let _0x193f72=_0x24a100,_0x41462c=''+_0x5babb9;return _0x5e1b3e[_0x41462c]=_0x193f72,_0x5babb9+=0.0001,_0x41462c;}),_0x59406e='',_0x48655e=!0x1;try{let _0xc24c3e=JSON['parse'](_0x4dbda9);_0x59406e=JSON['stringify'](_0xc24c3e,null,0x2),_0x59406e=_0x59406e[_0x4f6f1e(0x563)](/\n( +)/g,(_0x10698b,_0x355dc5)=>{const _0x118020=_0x4f6f1e;let _0x4c8a50=_0x355dc5['length'];return'\x0a'+_0x548ed4[_0x118020(0x876)](_0x4c8a50*0x2);}),_0x59406e=_0x59406e[_0x4f6f1e(0x563)](/(\d{10,}\.\d+)/g,_0x3c5e72=>_0x5e1b3e[_0x3c5e72]||_0x3c5e72);}catch(_0x170c64){this[_0x4f6f1e(0x222)][_0x4f6f1e(0x4b9)]('Error\x20parsing\x20JSON:'+_0x170c64),_0x59406e=_0x5f3501,_0x48655e=!0x0;}return{'result':_0x59406e,'error':_0x48655e};}[a0_0x7b141d(0x7c8)](_0x3e14cc,_0x5201d0){const _0x456e85=a0_0x7b141d;if(_0x5201d0[_0x456e85(0x2dc)]['type']===_0x456e85(0x299)){this[_0x456e85(0x37c)](_0x456e85(0x535));return;}if(_0x5201d0[_0x456e85(0x2dc)][_0x456e85(0x5bc)]&&_0x456e85(0x1c5)in _0x5201d0[_0x456e85(0x2dc)][_0x456e85(0x5bc)]){this[_0x456e85(0x222)][_0x456e85(0x8c4)](this[_0x456e85(0x488)]+'\x20('+this[_0x456e85(0x194)][_0x456e85(0x2ab)]+_0x456e85(0x495));let _0x385a75=JSON[_0x456e85(0x22d)](_0x5201d0['block'][_0x456e85(0x5bc)][_0x456e85(0x1c5)],null,0x1);_0x385a75['length']>0x2&&(_0x385a75=_0x385a75[_0x456e85(0x26e)](0x1,_0x385a75[_0x456e85(0x675)]-0x1)['trim']()),_0x5201d0[_0x456e85(0x2dc)][_0x456e85(0x5bc)][_0x456e85(0x156)]=_0x385a75;}_0x5201d0[_0x456e85(0x2dc)]['apirequest']&&'body'in _0x5201d0['block']['apirequest']&&(this['logger'][_0x456e85(0x8c4)](this[_0x456e85(0x488)]+'\x20('+this[_0x456e85(0x194)][_0x456e85(0x2ab)]+_0x456e85(0x7c1)),_0x5201d0[_0x456e85(0x2dc)][_0x456e85(0x5bc)]['bodyString']=JSON['stringify'](_0x5201d0[_0x456e85(0x2dc)][_0x456e85(0x5bc)][_0x456e85(0x7a2)],null,0x1)[_0x456e85(0x223)]()),_0x3e14cc['blocks']['push'](_0x5201d0[_0x456e85(0x2dc)]),this[_0x456e85(0x333)](_0x3e14cc[_0x456e85(0x436)],_0x5201d0[_0x456e85(0x2dc)]['groupId']);}['reorderBlocks'](_0x3a08a3,_0x27322f){const _0x4059d4=a0_0x7b141d;let _0x151dfc=_0x3a08a3[_0x4059d4(0x499)](_0x4b0ab1=>_0x4b0ab1[_0x4059d4(0x7d1)]===_0x27322f);_0x151dfc['sort']((_0x3de16b,_0x5db0c0)=>_0x3de16b['order']-_0x5db0c0[_0x4059d4(0x2d4)]),_0x151dfc['forEach']((_0x31e204,_0xda0e74)=>_0x31e204['order']=_0xda0e74+0x1);}async[a0_0x7b141d(0x72d)](_0x48a227){const _0x40b69c=a0_0x7b141d;try{if(this[_0x40b69c(0x222)][_0x40b69c(0x8c4)](this[_0x40b69c(0x488)]+'\x20('+this[_0x40b69c(0x194)][_0x40b69c(0x2ab)]+_0x40b69c(0x41b)),!_0x48a227||!_0x48a227[_0x40b69c(0x837)]){this['throwAndLogError']('Data\x20inválida\x20fornecida');return;}if(!this[_0x40b69c(0x75a)]['flows']['find'](_0x54d099=>_0x54d099[_0x40b69c(0x39f)]===_0x48a227['_id']))throw this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x40b69c(0x194)][_0x40b69c(0x2ab)]+_0x40b69c(0x7e4)+_0x48a227['_id']+'\x27\x20não\x20encontrado'),new m(_0x40b69c(0x735));let _0x4321e6=await this[_0x40b69c(0x60c)][_0x40b69c(0x4b6)][_0x40b69c(0x89d)]({'where':{'_id':_0x48a227[_0x40b69c(0x39f)]}});if(!_0x4321e6||!_0x4321e6[_0x40b69c(0x5a5)]?.[_0x40b69c(0x87b)](this[_0x40b69c(0x194)]['wuid']))throw this[_0x40b69c(0x222)][_0x40b69c(0x4b9)](this[_0x40b69c(0x488)]+'\x20('+this[_0x40b69c(0x194)][_0x40b69c(0x2ab)]+'):\x20Flow\x20\x27'+_0x48a227['_id']+_0x40b69c(0x74b)),new m(_0x40b69c(0x56a)+_0x48a227['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x4321e6[_0x40b69c(0x769)]?.['includes'](this['instance'][_0x40b69c(0x2ab)]))throw new m(_0x40b69c(0x282));let {replyOption:_0x1008ce}=_0x48a227;_0x1008ce?.[_0x40b69c(0x59d)]?(this[_0x40b69c(0x32d)](_0x4321e6,_0x48a227),this[_0x40b69c(0x467)](_0x4321e6[_0x40b69c(0x89e)],_0x48a227['replyOption'][_0x40b69c(0x6ea)])):_0x1008ce[_0x40b69c(0x39f)]?(await this[_0x40b69c(0x5fb)](_0x4321e6,_0x48a227),this['reorderReplyOptions'](_0x4321e6[_0x40b69c(0x89e)],_0x48a227['replyOption'][_0x40b69c(0x6ea)])):(this[_0x40b69c(0x14b)](_0x4321e6,_0x48a227),this[_0x40b69c(0x467)](_0x4321e6[_0x40b69c(0x89e)],_0x48a227[_0x40b69c(0x837)][_0x40b69c(0x6ea)]));let _0xd1e6ad=await this[_0x40b69c(0x60c)][_0x40b69c(0x4b6)][_0x40b69c(0x319)](_0x4321e6[_0x40b69c(0x39f)],_0x4321e6);if(!_0xd1e6ad)throw new Error(_0x40b69c(0x56d));return _0xd1e6ad;}catch(_0x5672f2){this[_0x40b69c(0x37c)](_0x40b69c(0x19a)+_0x5672f2);}}[a0_0x7b141d(0x467)](_0xf0e912,_0x281edd){const _0x3ada7c=a0_0x7b141d;_0xf0e912['forEach'](_0x24aff2=>{const _0x4cac6d=a0_0x77b5;_0x24aff2[_0x4cac6d(0x6ea)]===_0x281edd&&_0x24aff2[_0x4cac6d(0x2d4)]===void 0x0&&(_0x24aff2[_0x4cac6d(0x2d4)]=0x270f);});let _0x483389=_0xf0e912[_0x3ada7c(0x499)](_0x46ab56=>_0x46ab56[_0x3ada7c(0x6ea)]===_0x281edd);_0x483389[_0x3ada7c(0x6c8)]((_0x3a30d9,_0x513133)=>_0x3a30d9[_0x3ada7c(0x2d4)]-_0x513133[_0x3ada7c(0x2d4)]),_0x483389['forEach']((_0x5f4833,_0xec3495)=>{_0x5f4833['order']=_0xec3495+0x1;}),_0xf0e912[_0x3ada7c(0x677)](_0x30f7cc=>{const _0x251235=_0x3ada7c;if(_0x30f7cc['blockId']===_0x281edd){let _0x146ccc=_0x483389['find'](_0x21821a=>_0x21821a[_0x251235(0x39f)]&&_0x30f7cc[_0x251235(0x39f)]&&_0x21821a[_0x251235(0x39f)][_0x251235(0x7b0)]()===_0x30f7cc[_0x251235(0x39f)][_0x251235(0x7b0)]());_0x146ccc&&(_0x30f7cc[_0x251235(0x2d4)]=_0x146ccc[_0x251235(0x2d4)]);}});}['deleteReplyOption'](_0x4f0a71,_0x487024){const _0x593fb2=a0_0x7b141d;let {replyOption:_0x1956f2}=_0x487024;if(!_0x1956f2[_0x593fb2(0x39f)]){this[_0x593fb2(0x37c)](_0x593fb2(0x60e));return;}if(!_0x4f0a71['replyOptions'][_0x593fb2(0x61f)](_0x3cea4a=>_0x3cea4a[_0x593fb2(0x39f)][_0x593fb2(0x7b0)]()===_0x487024[_0x593fb2(0x837)][_0x593fb2(0x39f)][_0x593fb2(0x7b0)]())){this['throwAndLogError'](_0x593fb2(0x707)+_0x1956f2['_id']+_0x593fb2(0x3ed));return;}_0x4f0a71['replyOptions']=_0x4f0a71[_0x593fb2(0x89e)][_0x593fb2(0x499)](_0x68ad71=>_0x68ad71[_0x593fb2(0x39f)][_0x593fb2(0x7b0)]()!==_0x487024[_0x593fb2(0x837)][_0x593fb2(0x39f)][_0x593fb2(0x7b0)]());}async[a0_0x7b141d(0x5fb)](_0x5ce53c,_0x1f99cc){const _0x193d7b=a0_0x7b141d;let _0x5cd610=_0x5ce53c[_0x193d7b(0x89e)]['findIndex'](_0x55cb1d=>_0x55cb1d['_id'][_0x193d7b(0x7b0)]()===_0x1f99cc[_0x193d7b(0x837)][_0x193d7b(0x39f)][_0x193d7b(0x7b0)]());if(_0x5cd610===-0x1){this[_0x193d7b(0x37c)](_0x193d7b(0x707)+_0x1f99cc[_0x193d7b(0x837)][_0x193d7b(0x39f)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x3f1b3f in _0x1f99cc['replyOption'])_0x1f99cc[_0x193d7b(0x837)]['hasOwnProperty'](_0x3f1b3f)&&(_0x5ce53c[_0x193d7b(0x89e)][_0x5cd610][_0x3f1b3f]=_0x1f99cc[_0x193d7b(0x837)][_0x3f1b3f]);}[a0_0x7b141d(0x14b)](_0x24bc22,_0x3be212){const _0x4484e3=a0_0x7b141d;_0x24bc22[_0x4484e3(0x89e)][_0x4484e3(0x7a1)](_0x3be212[_0x4484e3(0x837)]);}async[a0_0x7b141d(0x2d2)](_0x390966){const _0x25c333=a0_0x7b141d;this[_0x25c333(0x222)][_0x25c333(0x8c4)](this[_0x25c333(0x488)]+'\x20('+this[_0x25c333(0x194)][_0x25c333(0x2ab)]+_0x25c333(0x20f)+JSON[_0x25c333(0x22d)](_0x390966,null,0x2));try{if(this['logger'][_0x25c333(0x8c4)](this[_0x25c333(0x488)]+'\x20('+this['instance'][_0x25c333(0x2ab)]+_0x25c333(0x288)),!this[_0x25c333(0x75a)][_0x25c333(0x3ee)][_0x25c333(0x61f)](_0x49b386=>_0x49b386[_0x25c333(0x39f)]===_0x390966[_0x25c333(0x39f)]))throw this['logger'][_0x25c333(0x8c4)](this['instanceName']+'\x20('+this[_0x25c333(0x194)][_0x25c333(0x2ab)]+'):\x20Fluxo\x20\x27'+_0x390966['_id']+_0x25c333(0x286)),new m(_0x25c333(0x735));let _0x329685=await this[_0x25c333(0x60c)][_0x25c333(0x4b6)][_0x25c333(0x89d)]({'where':{'_id':_0x390966[_0x25c333(0x39f)]}});if(!_0x329685||!_0x329685[_0x25c333(0x5a5)]?.['includes'](this[_0x25c333(0x194)]['wuid']))throw this[_0x25c333(0x222)][_0x25c333(0x4b9)](this[_0x25c333(0x488)]+'\x20('+this[_0x25c333(0x194)]['wuid']+_0x25c333(0x49e)+_0x390966[_0x25c333(0x39f)]+_0x25c333(0x74b)),new m('Flow\x20\x27'+_0x390966[_0x25c333(0x39f)]+_0x25c333(0x74b));if(!_0x329685[_0x25c333(0x769)]?.[_0x25c333(0x87b)](this['instance'][_0x25c333(0x2ab)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');if(_0x390966[_0x25c333(0x56b)]&&_0x390966[_0x25c333(0x56b)]?.[_0x25c333(0x59d)]===!0x0){if(this[_0x25c333(0x222)]['verbose'](this['instanceName']+'\x20('+this[_0x25c333(0x194)][_0x25c333(0x2ab)]+'):\x20delete\x20=\x20true'),_0x390966[_0x25c333(0x56b)][_0x25c333(0x2cf)]===!0x0)return{'message':_0x25c333(0x780)};if(_0x329685[_0x25c333(0x436)][_0x25c333(0x51d)](_0x60a044=>_0x60a044['groupId'][_0x25c333(0x7b0)]()===_0x390966[_0x25c333(0x56b)]['_id']))return this['logger'][_0x25c333(0x8c4)](this['instanceName']+'\x20('+this[_0x25c333(0x194)][_0x25c333(0x2ab)]+_0x25c333(0x846)),{'message':_0x25c333(0x38e)};_0x329685[_0x25c333(0x31c)]=_0x329685[_0x25c333(0x31c)][_0x25c333(0x499)](_0xaf9d02=>_0xaf9d02['_id']['toString']()!==_0x390966[_0x25c333(0x56b)][_0x25c333(0x39f)]);}else{if(_0x390966[_0x25c333(0x56b)]){if(_0x390966[_0x25c333(0x56b)][_0x25c333(0x2cf)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x390966[_0x25c333(0x56b)][_0x25c333(0x39f)]){let _0x1d95fc=_0x329685[_0x25c333(0x31c)][_0x25c333(0x61f)](_0x1ee81f=>_0x1ee81f[_0x25c333(0x39f)]['toString']()===_0x390966['group'][_0x25c333(0x39f)]);_0x1d95fc&&(_0x390966[_0x25c333(0x56b)]['x']<0x0&&(_0x390966[_0x25c333(0x56b)]['x']=0x0),_0x390966[_0x25c333(0x56b)]['y']<0x0&&(_0x390966[_0x25c333(0x56b)]['y']=0x0),Object[_0x25c333(0x6ef)](_0x1d95fc,_0x390966[_0x25c333(0x56b)]));}else _0x329685[_0x25c333(0x31c)]['push'](_0x390966[_0x25c333(0x56b)]);}}let _0x298474=await this[_0x25c333(0x60c)]['flow']['updateOne'](_0x329685[_0x25c333(0x39f)],_0x329685);if(!_0x298474)throw new Error(_0x25c333(0x56d));return _0x298474;}catch(_0x4affe4){let _0x553da1='Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo',_0x326420=_0x4affe4 instanceof Error?_0x4affe4[_0x25c333(0x1f9)]:typeof _0x4affe4=='object'?JSON[_0x25c333(0x22d)](_0x4affe4):_0x4affe4,_0x1d5389=_0x553da1+':\x20'+_0x326420;throw this['logger'][_0x25c333(0x4b9)](this[_0x25c333(0x488)]+'\x20('+this[_0x25c333(0x194)][_0x25c333(0x2ab)]+_0x25c333(0x21e)+_0x1d5389),new m(_0x1d5389);}}async['editFlowCondition'](_0x44fc39){const _0x4bea7e=a0_0x7b141d;try{if(this['logger']['verbose'](this[_0x4bea7e(0x488)]+'\x20('+this['instance'][_0x4bea7e(0x2ab)]+_0x4bea7e(0x5c5)),!this[_0x4bea7e(0x75a)][_0x4bea7e(0x3ee)][_0x4bea7e(0x61f)](_0x5f2fb6=>_0x5f2fb6[_0x4bea7e(0x39f)]===_0x44fc39[_0x4bea7e(0x39f)]))throw this[_0x4bea7e(0x222)]['verbose'](this[_0x4bea7e(0x488)]+'\x20('+this[_0x4bea7e(0x194)]['wuid']+_0x4bea7e(0x7e4)+_0x44fc39[_0x4bea7e(0x39f)]+'\x27\x20não\x20encontrado'),new m(_0x4bea7e(0x735));let _0x235408=await this['repository'][_0x4bea7e(0x4b6)]['findOne']({'where':{'_id':_0x44fc39[_0x4bea7e(0x39f)]}});if(!_0x235408||!_0x235408[_0x4bea7e(0x5a5)]?.[_0x4bea7e(0x87b)](this['instance'][_0x4bea7e(0x2ab)]))throw this[_0x4bea7e(0x222)]['error'](this[_0x4bea7e(0x488)]+'\x20('+this[_0x4bea7e(0x194)][_0x4bea7e(0x2ab)]+_0x4bea7e(0x49e)+_0x44fc39[_0x4bea7e(0x39f)]+_0x4bea7e(0x74b)),new m(_0x4bea7e(0x56a)+_0x44fc39[_0x4bea7e(0x39f)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x235408[_0x4bea7e(0x769)]?.[_0x4bea7e(0x87b)](this['instance']['wuid']))throw new m(_0x4bea7e(0x282));let _0x34132f=!0x1;if(_0x44fc39[_0x4bea7e(0x21a)]?.[_0x4bea7e(0x59d)]===!0x0)_0x235408[_0x4bea7e(0x268)]=_0x235408[_0x4bea7e(0x268)]['filter'](_0x3bcd06=>_0x3bcd06&&_0x44fc39[_0x4bea7e(0x21a)]&&_0x3bcd06[_0x4bea7e(0x39f)]&&_0x44fc39[_0x4bea7e(0x21a)]['_id']&&_0x3bcd06[_0x4bea7e(0x39f)]['toString']()!==_0x44fc39[_0x4bea7e(0x21a)][_0x4bea7e(0x39f)][_0x4bea7e(0x7b0)]()),_0x34132f=!0x0;else{let _0x5891d9=_0x235408[_0x4bea7e(0x268)][_0x4bea7e(0x61f)](_0x3c9ec0=>_0x3c9ec0&&_0x44fc39[_0x4bea7e(0x21a)]&&_0x3c9ec0[_0x4bea7e(0x39f)]&&_0x44fc39[_0x4bea7e(0x21a)]['_id']&&_0x3c9ec0[_0x4bea7e(0x39f)]['toString']()===_0x44fc39[_0x4bea7e(0x21a)][_0x4bea7e(0x39f)][_0x4bea7e(0x7b0)]());_0x5891d9?(_0x34132f=_0x5891d9[_0x4bea7e(0x2d4)]!==_0x44fc39[_0x4bea7e(0x21a)]['order'],Object[_0x4bea7e(0x6ef)](_0x5891d9,_0x44fc39[_0x4bea7e(0x21a)])):(_0x235408[_0x4bea7e(0x268)][_0x4bea7e(0x7a1)](_0x44fc39[_0x4bea7e(0x21a)]),_0x34132f=!0x0);}if(_0x34132f){_0x235408[_0x4bea7e(0x268)][_0x4bea7e(0x6c8)]((_0x153bc5,_0x58e9db)=>_0x153bc5[_0x4bea7e(0x2d4)]>_0x58e9db[_0x4bea7e(0x2d4)]?0x1:_0x58e9db[_0x4bea7e(0x2d4)]>_0x153bc5[_0x4bea7e(0x2d4)]?-0x1:0x0);for(let _0x14c27f=0x0;_0x14c27f<_0x235408[_0x4bea7e(0x268)][_0x4bea7e(0x675)];_0x14c27f++)_0x235408['conditions'][_0x14c27f][_0x4bea7e(0x2d4)]=_0x14c27f+0x1;_0x235408[_0x4bea7e(0x268)][_0x4bea7e(0x675)]>0x0&&(_0x235408['conditions'][0x0][_0x4bea7e(0x204)]='and');}let _0x38c2b7=await this[_0x4bea7e(0x60c)]['flow'][_0x4bea7e(0x319)](_0x235408['_id'],_0x235408);if(!_0x38c2b7)throw new Error(_0x4bea7e(0x56d));return _0x38c2b7;}catch(_0x49ef34){let _0x44a60c=_0x4bea7e(0x18a),_0x3d0185=_0x49ef34 instanceof Error?_0x49ef34[_0x4bea7e(0x1f9)]:typeof _0x49ef34=='object'?JSON[_0x4bea7e(0x22d)](_0x49ef34):_0x49ef34,_0x503ac9=_0x44a60c+':\x20'+_0x3d0185;throw this[_0x4bea7e(0x222)]['error'](this[_0x4bea7e(0x488)]+'\x20('+this[_0x4bea7e(0x194)]['wuid']+_0x4bea7e(0x21e)+_0x503ac9),new m(_0x503ac9);}}async[a0_0x7b141d(0x2c0)](_0x3fb572){const _0x4d69c2=a0_0x7b141d;try{if(this[_0x4d69c2(0x222)][_0x4d69c2(0x8c4)](this[_0x4d69c2(0x488)]+'\x20('+this['instance']['wuid']+_0x4d69c2(0x63e)),!this[_0x4d69c2(0x75a)][_0x4d69c2(0x3ee)][_0x4d69c2(0x61f)](_0x57742e=>_0x57742e['_id']===_0x3fb572[_0x4d69c2(0x39f)]))throw this[_0x4d69c2(0x222)][_0x4d69c2(0x8c4)](this['instanceName']+'\x20('+this[_0x4d69c2(0x194)]['wuid']+_0x4d69c2(0x7e4)+_0x3fb572['_id']+'\x27\x20não\x20encontrado'),new m(_0x4d69c2(0x735));let _0xe7c7e9=await this[_0x4d69c2(0x60c)][_0x4d69c2(0x4b6)][_0x4d69c2(0x89d)]({'where':{'_id':_0x3fb572[_0x4d69c2(0x39f)]}});if(!_0xe7c7e9||!_0xe7c7e9[_0x4d69c2(0x5a5)]?.[_0x4d69c2(0x87b)](this[_0x4d69c2(0x194)][_0x4d69c2(0x2ab)]))throw this[_0x4d69c2(0x222)]['error'](this[_0x4d69c2(0x488)]+'\x20('+this['instance'][_0x4d69c2(0x2ab)]+_0x4d69c2(0x49e)+_0x3fb572[_0x4d69c2(0x39f)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x4d69c2(0x56a)+_0x3fb572[_0x4d69c2(0x39f)]+_0x4d69c2(0x74b));if(!_0xe7c7e9['whoCanEdit']?.[_0x4d69c2(0x87b)](this['instance']['wuid']))throw new m(_0x4d69c2(0x282));let _0xcdc66d=!0x1;if(_0x3fb572['varedit']?.[_0x4d69c2(0x59d)]===!0x0)_0xe7c7e9[_0x4d69c2(0x4d8)]=_0xe7c7e9[_0x4d69c2(0x4d8)]['filter'](_0x5ce516=>_0x5ce516&&_0x3fb572['varedit']&&_0x5ce516['_id']&&_0x3fb572[_0x4d69c2(0x1ca)][_0x4d69c2(0x39f)]&&_0x5ce516['_id']['toString']()!==_0x3fb572[_0x4d69c2(0x1ca)]['_id']['toString']()),_0xcdc66d=!0x0;else{let _0x1e0f57=_0xe7c7e9[_0x4d69c2(0x4d8)][_0x4d69c2(0x61f)](_0x570d32=>_0x570d32&&_0x3fb572[_0x4d69c2(0x1ca)]&&_0x570d32[_0x4d69c2(0x39f)]&&_0x3fb572['varedit'][_0x4d69c2(0x39f)]&&_0x570d32[_0x4d69c2(0x39f)]['toString']()===_0x3fb572[_0x4d69c2(0x1ca)][_0x4d69c2(0x39f)][_0x4d69c2(0x7b0)]());_0x1e0f57?(_0xcdc66d=_0x1e0f57[_0x4d69c2(0x2d4)]!==_0x3fb572[_0x4d69c2(0x1ca)]['order'],Object['assign'](_0x1e0f57,_0x3fb572[_0x4d69c2(0x1ca)])):(_0xe7c7e9['varedits']['push'](_0x3fb572[_0x4d69c2(0x1ca)]),_0xcdc66d=!0x0);}if(_0xcdc66d){_0xe7c7e9[_0x4d69c2(0x4d8)]['sort']((_0x138e75,_0x438892)=>_0x138e75[_0x4d69c2(0x2d4)]>_0x438892['order']?0x1:_0x438892[_0x4d69c2(0x2d4)]>_0x138e75[_0x4d69c2(0x2d4)]?-0x1:0x0);for(let _0x4ab406=0x0;_0x4ab406<_0xe7c7e9[_0x4d69c2(0x4d8)][_0x4d69c2(0x675)];_0x4ab406++)_0xe7c7e9['varedits'][_0x4ab406][_0x4d69c2(0x2d4)]=_0x4ab406+0x1;}let _0x392ecf=await this['repository'][_0x4d69c2(0x4b6)][_0x4d69c2(0x319)](_0xe7c7e9[_0x4d69c2(0x39f)],_0xe7c7e9);if(!_0x392ecf)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x392ecf;}catch(_0x4219e8){let _0x3b0b43=_0x4d69c2(0x18a),_0x570eb2=_0x4219e8 instanceof Error?_0x4219e8['message']:typeof _0x4219e8=='object'?JSON[_0x4d69c2(0x22d)](_0x4219e8):_0x4219e8,_0x101fa5=_0x3b0b43+':\x20'+_0x570eb2;throw this[_0x4d69c2(0x222)][_0x4d69c2(0x4b9)](this[_0x4d69c2(0x488)]+'\x20('+this[_0x4d69c2(0x194)][_0x4d69c2(0x2ab)]+_0x4d69c2(0x21e)+_0x101fa5),new m(_0x101fa5);}}async[a0_0x7b141d(0x30d)](_0x5c0092){const _0xfa92a=a0_0x7b141d;try{if(this[_0xfa92a(0x222)][_0xfa92a(0x8c4)](this[_0xfa92a(0x488)]+'\x20('+this[_0xfa92a(0x194)][_0xfa92a(0x2ab)]+_0xfa92a(0x619)),!this[_0xfa92a(0x75a)][_0xfa92a(0x3ee)][_0xfa92a(0x61f)](_0x30a9cd=>_0x30a9cd[_0xfa92a(0x39f)]===_0x5c0092[_0xfa92a(0x39f)]))throw this['logger']['verbose'](this[_0xfa92a(0x488)]+'\x20('+this[_0xfa92a(0x194)][_0xfa92a(0x2ab)]+_0xfa92a(0x7e4)+_0x5c0092[_0xfa92a(0x39f)]+'\x27\x20não\x20encontrado'),new m(_0xfa92a(0x735));let _0x2b4acf=await this['repository']['flow'][_0xfa92a(0x89d)]({'where':{'_id':_0x5c0092[_0xfa92a(0x39f)]}});if(!_0x2b4acf||!_0x2b4acf['whoCanUse']?.['includes'](this['instance']['wuid']))throw this[_0xfa92a(0x222)][_0xfa92a(0x4b9)](this[_0xfa92a(0x488)]+'\x20('+this['instance'][_0xfa92a(0x2ab)]+'):\x20Flow\x20\x27'+_0x5c0092[_0xfa92a(0x39f)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0xfa92a(0x56a)+_0x5c0092[_0xfa92a(0x39f)]+_0xfa92a(0x74b));if(!_0x2b4acf['whoCanEdit']?.['includes'](this[_0xfa92a(0x194)]['wuid']))throw new m(_0xfa92a(0x282));_0x5c0092[_0xfa92a(0x683)][_0xfa92a(0x3f5)]=_0x5c0092[_0xfa92a(0x683)][_0xfa92a(0x3f5)][_0xfa92a(0x223)](),_0x5c0092['variable'][_0xfa92a(0x3f5)][_0xfa92a(0x5f6)]('_')&&(_0x5c0092[_0xfa92a(0x683)][_0xfa92a(0x3f5)]=_0x5c0092[_0xfa92a(0x683)][_0xfa92a(0x3f5)][_0xfa92a(0x26e)](0x1)),_0x5c0092[_0xfa92a(0x683)][_0xfa92a(0x3f5)]=_0x5c0092[_0xfa92a(0x683)][_0xfa92a(0x3f5)]['trim']();let _0x5b91eb=_0x2b4acf[_0xfa92a(0x16e)][_0xfa92a(0x61f)](_0xf0e448=>_0xf0e448['name']===_0x5c0092['variable'][_0xfa92a(0x3f5)]);if(_0x5b91eb?.[_0xfa92a(0x77d)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x5c0092[_0xfa92a(0x683)]?.[_0xfa92a(0x59d)]===!0x0){if(!_0x5b91eb)return{'message':_0xfa92a(0x1a9)};_0x2b4acf['variables']=_0x2b4acf[_0xfa92a(0x16e)]['filter'](_0x76c96=>_0x76c96[_0xfa92a(0x3f5)]!==_0x5c0092[_0xfa92a(0x683)][_0xfa92a(0x3f5)]);}else _0x5b91eb?Object['assign'](_0x5b91eb,_0x5c0092[_0xfa92a(0x683)]):_0x2b4acf[_0xfa92a(0x16e)]['push'](_0x5c0092[_0xfa92a(0x683)]);let _0x113dbb=await this['repository']['flow'][_0xfa92a(0x319)](_0x2b4acf['_id'],_0x2b4acf);if(!_0x113dbb)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x113dbb;}catch(_0x595d5f){let _0x3be82a=_0xfa92a(0x398),_0x475cc6=_0x595d5f instanceof Error?_0x595d5f['message']:typeof _0x595d5f=='object'?JSON[_0xfa92a(0x22d)](_0x595d5f):_0x595d5f,_0x34a578=_0x3be82a+':\x20'+_0x475cc6;throw this['logger'][_0xfa92a(0x4b9)](this[_0xfa92a(0x488)]+'\x20('+this[_0xfa92a(0x194)]['wuid']+_0xfa92a(0x21e)+_0x34a578),new m(_0x34a578);}}async['startFlow'](_0x4df6a0){const _0x21e508=a0_0x7b141d;let _0x5f22e1=null;try{if(!this['AutomateSystem']?.[_0x21e508(0x29b)][_0x21e508(0x6b2)])throw new m(_0x21e508(0x80c));this[_0x21e508(0x222)][_0x21e508(0x8c4)](this[_0x21e508(0x488)]+'\x20('+this['instance'][_0x21e508(0x2ab)]+'):\x20Iniciando\x20bot...');let _0x514567=(await this['whatsappNumber']({'numbers':[_0x4df6a0[_0x21e508(0x230)]]}))[0x0];if(!_0x514567[_0x21e508(0x2a1)]&&!(0x0,w[_0x21e508(0x3b2)])(_0x514567[_0x21e508(0x37a)])&&!_0x514567[_0x21e508(0x37a)][_0x21e508(0x87b)](_0x21e508(0x884)))throw _0x5f22e1=JSON[_0x21e508(0x22d)](_0x514567,null,0x2),new m(_0x514567);let _0xb2a9e2;if(_0x4df6a0[_0x21e508(0x3f5)][_0x21e508(0x675)]===0x24&&/^[0-9a-fA-F-]{36}$/[_0x21e508(0x4ca)](_0x4df6a0[_0x21e508(0x3f5)])?_0xb2a9e2=this[_0x21e508(0x75a)][_0x21e508(0x3ee)][_0x21e508(0x61f)](_0x3f91ef=>_0x3f91ef['_id']===_0x4df6a0[_0x21e508(0x3f5)]):_0xb2a9e2=this[_0x21e508(0x75a)][_0x21e508(0x3ee)]['find'](_0x173e4c=>_0x173e4c[_0x21e508(0x3f5)]===_0x4df6a0[_0x21e508(0x3f5)]),!_0xb2a9e2)throw this[_0x21e508(0x222)][_0x21e508(0x8c4)](this[_0x21e508(0x488)]+'\x20('+this[_0x21e508(0x194)][_0x21e508(0x2ab)]+_0x21e508(0x7e4)+_0x4df6a0['name']+_0x21e508(0x286)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x467e2f=await this[_0x21e508(0x60c)]['flow'][_0x21e508(0x89d)]({'where':{'_id':_0xb2a9e2[_0x21e508(0x39f)]}});if(!_0x467e2f||!_0x467e2f[_0x21e508(0x5a5)]?.[_0x21e508(0x87b)](this[_0x21e508(0x194)]['wuid']))throw this[_0x21e508(0x222)][_0x21e508(0x4b9)](this[_0x21e508(0x488)]+'\x20('+this[_0x21e508(0x194)][_0x21e508(0x2ab)]+'):\x20Flow\x20\x27'+_0xb2a9e2['_id']+_0x21e508(0x74b)),_0x5f22e1=_0x21e508(0x56a)+_0xb2a9e2[_0x21e508(0x39f)]+_0x21e508(0x74b),new m(_0x5f22e1);let _0x177b7a=await this[_0x21e508(0x3fc)](_0x467e2f,_0x514567['jid'],_0x4df6a0[_0x21e508(0x202)]);if(_0x177b7a){this[_0x21e508(0x222)][_0x21e508(0x8c4)](this[_0x21e508(0x488)]+'\x20('+this[_0x21e508(0x194)][_0x21e508(0x2ab)]+_0x21e508(0x612));let _0x217196=await this['NextBlock'](_0x177b7a);return _0x217196&&await this['processblock'](_0x177b7a,_0x217196),{'message':'Flow\x20iniciado\x20com\x20'+_0x4df6a0['remoteJid']};}}catch(_0x1f18c9){if(this[_0x21e508(0x222)][_0x21e508(0x4b9)](this[_0x21e508(0x488)]+'\x20('+this[_0x21e508(0x194)][_0x21e508(0x2ab)]+_0x21e508(0x327)+(_0x1f18c9 instanceof Error?_0x1f18c9[_0x21e508(0x1f9)]:JSON[_0x21e508(0x22d)](_0x1f18c9,null,0x2))),_0x5f22e1=_0x1f18c9 instanceof Error?_0x1f18c9[_0x21e508(0x1f9)]:JSON[_0x21e508(0x22d)](_0x1f18c9,null,0x2),_0x5f22e1)throw new m(_0x21e508(0x781)+_0x5f22e1);}}async[a0_0x7b141d(0x501)](_0x1c08aa,_0x29e5a9,_0x4cc276){const _0x3a8d5a=a0_0x7b141d;let _0x5fc21e=null;try{if(!this[_0x3a8d5a(0x75a)]?.[_0x3a8d5a(0x29b)][_0x3a8d5a(0x6b2)])throw new m(_0x3a8d5a(0x80c));if(this[_0x3a8d5a(0x222)][_0x3a8d5a(0x8c4)](this[_0x3a8d5a(0x488)]+'\x20('+this[_0x3a8d5a(0x194)][_0x3a8d5a(0x2ab)]+'):\x20Iniciando\x20bot...'),_0x29e5a9){let _0x1d6900=(await this[_0x3a8d5a(0x534)]({'numbers':[_0x29e5a9]}))[0x0];if(!_0x1d6900[_0x3a8d5a(0x2a1)]&&!(0x0,w[_0x3a8d5a(0x3b2)])(_0x1d6900[_0x3a8d5a(0x37a)])&&!_0x1d6900[_0x3a8d5a(0x37a)][_0x3a8d5a(0x87b)](_0x3a8d5a(0x884)))throw _0x5fc21e=JSON[_0x3a8d5a(0x22d)](_0x1d6900,null,0x2),new m(_0x1d6900);_0x29e5a9=_0x1d6900['jid'];}else _0x29e5a9||(_0x29e5a9=(0x0,Y['v4'])());let _0x3b4695=await this[_0x3a8d5a(0x60c)][_0x3a8d5a(0x4b6)][_0x3a8d5a(0x89d)]({'where':{'_id':_0x1c08aa}});if(!_0x3b4695||!_0x3b4695[_0x3a8d5a(0x5a5)]?.['includes'](this[_0x3a8d5a(0x194)][_0x3a8d5a(0x2ab)]))throw this[_0x3a8d5a(0x222)][_0x3a8d5a(0x4b9)](this[_0x3a8d5a(0x488)]+'\x20('+this[_0x3a8d5a(0x194)][_0x3a8d5a(0x2ab)]+_0x3a8d5a(0x49e)+_0x1c08aa+_0x3a8d5a(0x74b)),new m(_0x3a8d5a(0x56a)+_0x1c08aa+_0x3a8d5a(0x74b));let _0x2173a5=await this['createConversationforStartFlow'](_0x3b4695,_0x29e5a9,null);if(_0x2173a5){this[_0x3a8d5a(0x222)][_0x3a8d5a(0x8c4)](this[_0x3a8d5a(0x488)]+'\x20('+this['instance'][_0x3a8d5a(0x2ab)]+'):\x20Criou\x20conversa\x20no\x20startFlowWebhook');let _0x5ec514;if(_0x4cc276){let _0x4843b9=_0x2173a5['chatLog']['realVariables'],_0x3fc8e2=this[_0x3a8d5a(0x2a4)](_0x4cc276);Object['assign'](_0x4843b9,_0x3fc8e2),_0x2173a5[_0x3a8d5a(0x5ae)][_0x3a8d5a(0x16a)]=_0x4843b9,_0x5ec514={'error':!0x1,'apiResponse':_0x4cc276};}let _0x36af70=await this['NextBlock'](_0x2173a5);return _0x36af70&&await this['processblock'](_0x2173a5,_0x36af70),{'message':_0x3a8d5a(0x4cc)};}}catch(_0x2cb44c){if(this['logger'][_0x3a8d5a(0x4b9)](this[_0x3a8d5a(0x488)]+'\x20('+this[_0x3a8d5a(0x194)][_0x3a8d5a(0x2ab)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x2cb44c instanceof Error?_0x2cb44c['message']:JSON[_0x3a8d5a(0x22d)](_0x2cb44c,null,0x2))),_0x5fc21e=_0x2cb44c instanceof Error?_0x2cb44c['message']:JSON['stringify'](_0x2cb44c,null,0x2),_0x5fc21e)throw new m(_0x3a8d5a(0x781)+_0x5fc21e);}}async['closeExistingConversations'](_0xa375ac){const _0x193dce=a0_0x7b141d;try{let _0xc84412={'remoteJid':_0xa375ac,'status':'open'},_0x7ab8f8={'status':'closed'},_0x562310=await this['repository'][_0x193dce(0x44a)][_0x193dce(0x427)](_0xc84412,_0x7ab8f8,this['instance'][_0x193dce(0x2ab)]);return this[_0x193dce(0x222)][_0x193dce(0x8c4)](this[_0x193dce(0x488)]+'\x20('+this[_0x193dce(0x194)][_0x193dce(0x2ab)]+_0x193dce(0x896)),_0x562310;}catch(_0x5c3fbb){throw this[_0x193dce(0x222)]['error'](this['instanceName']+'\x20('+this[_0x193dce(0x194)][_0x193dce(0x2ab)]+_0x193dce(0x779)+_0x5c3fbb[_0x193dce(0x1f9)]),_0x5c3fbb;}}async[a0_0x7b141d(0x3fc)](_0xaa3463,_0x529243,_0x544a26){const _0x330a94=a0_0x7b141d;this[_0x330a94(0x222)][_0x330a94(0x8c4)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x330a94(0x7cb)),await this[_0x330a94(0x7e8)](_0x529243);try{let _0x416d5a=require(_0x330a94(0x3d8))[_0x330a94(0x722)],_0xc5db94=Date['now'](),_0x5d53f2='start',_0x139dcf={},_0x492aab={},_0x2c41ce=this[_0x330a94(0x75a)]['flows'][_0x330a94(0x61f)](_0x3209de=>_0x3209de[_0x330a94(0x39f)]===_0xaa3463[_0x330a94(0x39f)]?.[_0x330a94(0x7b0)]()),_0x405f02=_0x2c41ce?.['minutesToClose']??_0xaa3463['minutesToClose']??0x0,_0x58cc47=_0x2c41ce?.[_0x330a94(0x8c3)]??_0xaa3463['readMessages']??!0x1,_0xe59939={'flowId':_0xaa3463[_0x330a94(0x39f)],..._0xaa3463,'chatLog':null},_0x45aea2=await this[_0x330a94(0x761)](_0xe59939['variables']),_0x4d6b84=await this[_0x330a94(0x701)](_0x529243),_0x31c650={..._0x45aea2,..._0x4d6b84,'_remoteJid':_0x529243},_0x47eebd={'lastReceivedMessage':_0x139dcf,'lastSendMessage':_0x492aab,'lastBlockId':_0x5d53f2,'lastCondition':!0x0,'realVariables':_0x31c650};_0xe59939[_0x330a94(0x5ae)]=_0x47eebd,_0xe59939[_0x330a94(0x5ae)][_0x330a94(0x16a)]={..._0x31c650,..._0x544a26},delete _0xe59939[_0x330a94(0x39f)],_0xe59939[_0x330a94(0x39f)]=new _0x416d5a(),_0xe59939[_0x330a94(0x321)]=_0xc5db94,_0xe59939[_0x330a94(0x756)]=_0x330a94(0x551),_0xe59939[_0x330a94(0x230)]=_0x529243,_0xe59939[_0x330a94(0x6a7)]=_0x405f02,_0xe59939[_0x330a94(0x8c3)]=_0x58cc47,_0xe59939[_0x330a94(0x39f)]=_0xaa3463['_id'];let _0x582dd6=await this[_0x330a94(0x60c)][_0x330a94(0x44a)][_0x330a94(0x319)](_0xe59939[_0x330a94(0x39f)],_0xe59939,this[_0x330a94(0x194)][_0x330a94(0x2ab)]);return this[_0x330a94(0x222)][_0x330a94(0x8c4)](this['instanceName']+'\x20('+this[_0x330a94(0x194)][_0x330a94(0x2ab)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x582dd6?_0xe59939:null;}catch(_0x3cc21f){let _0x30f34f=_0x330a94(0x7f7),_0x23ec75=_0x3cc21f instanceof Error?_0x3cc21f[_0x330a94(0x1f9)]:typeof _0x3cc21f==_0x330a94(0x5ec)?JSON[_0x330a94(0x22d)](_0x3cc21f):_0x3cc21f,_0x49532b=_0x30f34f+':\x20'+_0x23ec75;throw this[_0x330a94(0x222)][_0x330a94(0x4b9)](this[_0x330a94(0x488)]+'\x20('+this[_0x330a94(0x194)][_0x330a94(0x2ab)]+_0x330a94(0x21e)+_0x49532b),new m(_0x49532b);}}async['getConversation'](_0x50ae20){const _0x2795ab=a0_0x7b141d;try{this[_0x2795ab(0x222)][_0x2795ab(0x8c4)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2795ab(0x187)),this[_0x2795ab(0x222)][_0x2795ab(0x8c4)](this[_0x2795ab(0x488)]+'\x20('+this[_0x2795ab(0x194)][_0x2795ab(0x2ab)]+'):\x20Query\x20params:\x20'+_0x50ae20);let _0x2b30c3={'where':{'_id':_0x50ae20}};return await this['repository']['flowConversation']['findOne'](_0x2b30c3,this['instance'][_0x2795ab(0x2ab)]);}catch(_0x189f24){let _0x23cd6a=_0x2795ab(0x2c5),_0x1107ee=_0x189f24 instanceof Error?_0x189f24['message']:typeof _0x189f24==_0x2795ab(0x5ec)?JSON[_0x2795ab(0x22d)](_0x189f24):_0x189f24,_0x5d8c0d=_0x23cd6a+':\x20'+_0x1107ee;throw this[_0x2795ab(0x222)][_0x2795ab(0x4b9)](this[_0x2795ab(0x488)]+'\x20('+this[_0x2795ab(0x194)]['wuid']+_0x2795ab(0x21e)+_0x5d8c0d),new m(_0x5d8c0d);}}async[a0_0x7b141d(0x724)](_0x37cabe){const _0x159e85=a0_0x7b141d;try{return this[_0x159e85(0x222)][_0x159e85(0x8c4)](this[_0x159e85(0x488)]+'\x20('+this[_0x159e85(0x194)][_0x159e85(0x2ab)]+'):\x20Buscando\x20conversas...'),await this[_0x159e85(0x60c)]['flowConversation'][_0x159e85(0x61f)](_0x37cabe,this[_0x159e85(0x194)][_0x159e85(0x2ab)]);}catch(_0x25518a){let _0x5040ba='Erro\x20ao\x20buscar\x20conversas',_0x44e790=_0x25518a instanceof Error?_0x25518a[_0x159e85(0x1f9)]:typeof _0x25518a==_0x159e85(0x5ec)?JSON[_0x159e85(0x22d)](_0x25518a):_0x25518a,_0x288836=_0x5040ba+':\x20'+_0x44e790;throw this[_0x159e85(0x222)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x159e85(0x21e)+_0x288836),new m(_0x288836);}}async['deleteConversation'](_0x26a58e){const _0x138ec7=a0_0x7b141d;try{return this[_0x138ec7(0x222)][_0x138ec7(0x8c4)](this[_0x138ec7(0x488)]+'\x20('+this['instance'][_0x138ec7(0x2ab)]+'):\x20Deletando\x20conversa...'),this[_0x138ec7(0x222)]['verbose'](this[_0x138ec7(0x488)]+'\x20('+this[_0x138ec7(0x194)][_0x138ec7(0x2ab)]+_0x138ec7(0x580)+_0x26a58e),(await this[_0x138ec7(0x60c)][_0x138ec7(0x44a)][_0x138ec7(0x631)]({'where':{'_id':_0x26a58e['_id']}},this[_0x138ec7(0x194)]['wuid']))[_0x138ec7(0x75f)]===0x0?{'message':_0x138ec7(0x6bd)}:{'message':_0x138ec7(0x215)};}catch(_0x1a54ba){let _0x237d37=_0x138ec7(0x1b8),_0xd98819=_0x1a54ba instanceof Error?_0x1a54ba[_0x138ec7(0x1f9)]:typeof _0x1a54ba==_0x138ec7(0x5ec)?JSON[_0x138ec7(0x22d)](_0x1a54ba):_0x1a54ba,_0x476531=_0x237d37+':\x20'+_0xd98819;throw this[_0x138ec7(0x222)][_0x138ec7(0x4b9)](this[_0x138ec7(0x488)]+'\x20('+this[_0x138ec7(0x194)]['wuid']+_0x138ec7(0x21e)+_0x476531),new m(_0x476531);}}async['editConversation'](_0x410a86){const _0x421f49=a0_0x7b141d;try{let {_id:_0x18ede8,chatLog:_0x27361a,status:_0x34e135}=_0x410a86;if(!_0x18ede8)return{'message':_0x421f49(0x63a)};let _0x56bd83={};if(_0x34e135!==void 0x0&&(_0x56bd83[_0x421f49(0x756)]=_0x34e135),Object[_0x421f49(0x679)](_0x56bd83)['length']===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x4d3c6a=await this[_0x421f49(0x60c)]['flowConversation'][_0x421f49(0x319)](_0x18ede8,_0x56bd83,this[_0x421f49(0x194)][_0x421f49(0x2ab)]);return _0x4d3c6a||{'message':_0x421f49(0x5e6)};}catch(_0x334ef4){let _0x8a3f8='Erro\x20ao\x20editar\x20a\x20conversa',_0xb3e67f=_0x334ef4 instanceof Error?_0x334ef4[_0x421f49(0x1f9)]:typeof _0x334ef4==_0x421f49(0x5ec)?JSON[_0x421f49(0x22d)](_0x334ef4):_0x334ef4,_0x4a2d09=_0x8a3f8+':\x20'+_0xb3e67f;throw this[_0x421f49(0x222)][_0x421f49(0x4b9)](this[_0x421f49(0x488)]+'\x20('+this[_0x421f49(0x194)]['wuid']+_0x421f49(0x21e)+_0x4a2d09),new m(_0x4a2d09);}}async[a0_0x7b141d(0x50a)](_0x37b55f){const _0x269795=a0_0x7b141d;try{_0x37b55f[_0x269795(0x39f)]=this[_0x269795(0x1d3)](_0x37b55f[_0x269795(0x39f)]);let _0x43a6d6=await this[_0x269795(0x60c)][_0x269795(0x624)]['findOne']({'where':{'_id':_0x37b55f[_0x269795(0x39f)]}},this[_0x269795(0x194)]['wuid']);if(!_0x43a6d6)throw new m(_0x269795(0x836));let {_id:_0xf10e02,leadInfo:_0x3e808c}=_0x37b55f;if(!_0xf10e02)throw new Error(_0x269795(0x662));if(_0x37b55f[_0x269795(0x59d)]===_0x269795(0x62b))return await this['deleteChat'](_0x37b55f['_id']),await this[_0x269795(0x60c)][_0x269795(0x624)][_0x269795(0x59d)]({'where':{'_id':_0x37b55f['_id']}},this['instance'][_0x269795(0x2ab)]),await this[_0x269795(0x60c)][_0x269795(0x1f9)][_0x269795(0x59d)]({'where':{'key':{'remoteJid':_0x37b55f[_0x269795(0x39f)]}}},this[_0x269795(0x194)][_0x269795(0x2ab)]),_0x37b55f=await this[_0x269795(0x60c)]['chat'][_0x269795(0x319)]({'where':{'_id':_0x37b55f[_0x269795(0x39f)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x269795(0x2ab)]),F(this['instanceName'],_0x269795(0x2fb),{'chat':_0x37b55f}),{'message':'Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.'};if(_0x37b55f[_0x269795(0x59d)]===_0x269795(0x32f))return await this[_0x269795(0x60c)][_0x269795(0x1f9)]['delete']({'where':{'key':{'remoteJid':_0x37b55f[_0x269795(0x39f)]}}},this['instance'][_0x269795(0x2ab)]),_0x37b55f=await this['repository']['chat'][_0x269795(0x319)]({'where':{'_id':_0x37b55f[_0x269795(0x39f)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x269795(0x2ab)]),F(this[_0x269795(0x488)],_0x269795(0x2fb),{'chat':_0x37b55f}),{'message':'Mensagens\x20deletadas\x20com\x20sucesso.'};let _0x54fa4b=(_0x409fab,_0x635ace,_0xeb020)=>{_0x409fab&&_0xeb020['forEach'](_0x435ceb=>{const _0x375352=a0_0x77b5;_0x409fab[_0x435ceb]!==void 0x0&&(_0x635ace[_0x375352(0x55e)+_0x435ceb]=_0x409fab[_0x435ceb]);});},_0x2d8aa3={};if(_0x269795(0x1ae)in _0x37b55f&&(this[_0x269795(0x222)][_0x269795(0x8c4)](this[_0x269795(0x488)]+'\x20('+this[_0x269795(0x194)][_0x269795(0x2ab)]+_0x269795(0x76a)+_0x37b55f[_0x269795(0x39f)]),_0x37b55f[_0x269795(0x1ae)]=_0x37b55f[_0x269795(0x1ae)]===0x0?null:-0x1,await this[_0x269795(0x523)]['chatModify']({'mute':_0x37b55f[_0x269795(0x1ae)]},_0x37b55f[_0x269795(0x39f)]),_0x2d8aa3['muteEndTime']=Number(_0x37b55f[_0x269795(0x1ae)])),_0x3e808c&&(_0x54fa4b(_0x3e808c,_0x2d8aa3,[_0x269795(0x4c0),_0x269795(0x3dd),_0x269795(0x592),_0x269795(0x25c),_0x269795(0x756),'notas',_0x269795(0x6ba),'atendimentoAberto',_0x269795(0x19d),'etiquetas',_0x269795(0x336)]),Array[_0x269795(0x635)](_0x3e808c['customFields'])&&(_0x2d8aa3[_0x269795(0x542)]=_0x3e808c[_0x269795(0x887)]['map'](_0x2cce86=>({'_id':_0x2cce86['_id'],'value':_0x2cce86['value']}))),_0x37b55f[_0x269795(0x77d)][_0x269795(0x584)]!==void 0x0)){let _0x388a2a=await this[_0x269795(0x60c)][_0x269795(0x56c)][_0x269795(0x61f)]({'where':{}},this[_0x269795(0x194)][_0x269795(0x2ab)]),_0x12b511=new Set(_0x37b55f[_0x269795(0x77d)][_0x269795(0x584)]||[]),_0x5ba132=new Set(_0x37b55f[_0x269795(0x77d)][_0x269795(0x584)]),_0x3cebd8=new Set(_0x388a2a['map'](_0xad14ea=>_0xad14ea[_0x269795(0x39f)])),_0x16c5bb=[..._0x5ba132][_0x269795(0x499)](_0x525ff2=>!_0x12b511['has'](_0x525ff2)&&_0x3cebd8['has'](_0x525ff2)),_0x311c89=[..._0x12b511][_0x269795(0x499)](_0x122b07=>!_0x5ba132['has'](_0x122b07));if(_0x2d8aa3[_0x269795(0x1eb)]=[..._0x12b511],_0x43a6d6&&!_0x43a6d6[_0x269795(0x213)]){for(let _0x1e3698 of _0x16c5bb)await this[_0x269795(0x8b3)](_0x1e3698,_0x37b55f['_id']),_0x12b511[_0x269795(0x46e)](_0x1e3698);for(let _0x28c563 of _0x311c89)await this['RemoveChatLabel'](_0x28c563,_0x37b55f[_0x269795(0x39f)]),_0x12b511[_0x269795(0x59d)](_0x28c563);}}if(_0x37b55f[_0x269795(0x4f8)]!==void 0x0&&(_0x2d8aa3[_0x269795(0x4f8)]=Number(_0x37b55f[_0x269795(0x4f8)])),Object[_0x269795(0x679)](_0x2d8aa3)[_0x269795(0x675)]===0x0)throw new Error(_0x269795(0x659));let _0xb86eb6=await this[_0x269795(0x60c)][_0x269795(0x624)]['updateOne']({'where':{'_id':_0x37b55f[_0x269795(0x39f)]}},_0x2d8aa3,this[_0x269795(0x194)][_0x269795(0x2ab)]);return _0xb86eb6&&F(this[_0x269795(0x488)],_0x269795(0x2fb),{'chat':_0xb86eb6}),_0xb86eb6?(this[_0x269795(0x222)][_0x269795(0x8c4)](this[_0x269795(0x488)]+'\x20('+this['instance']['wuid']+_0x269795(0x21e)+JSON[_0x269795(0x22d)](_0xb86eb6,null,0x2)),_0xb86eb6):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x2c6983){let _0x48d125='Erro\x20ao\x20editar\x20o\x20chat',_0x4a7341=_0x2c6983 instanceof Error?_0x2c6983[_0x269795(0x1f9)]:typeof _0x2c6983==_0x269795(0x5ec)?JSON['stringify'](_0x2c6983):_0x2c6983,_0x23d972=_0x48d125+':\x20'+_0x4a7341;throw this[_0x269795(0x222)]['error'](this[_0x269795(0x488)]+'\x20('+this[_0x269795(0x194)]['wuid']+_0x269795(0x21e)+_0x23d972),new m(_0x23d972);}}async[a0_0x7b141d(0x8b3)](_0x38be9e,_0x5a8872){const _0x3c0284=a0_0x7b141d;try{await this[_0x3c0284(0x523)]['addChatLabel'](_0x5a8872,_0x38be9e),this[_0x3c0284(0x222)][_0x3c0284(0x59c)](this['instanceName']+'\x20('+this[_0x3c0284(0x194)][_0x3c0284(0x2ab)]+_0x3c0284(0x764)+_0x38be9e+_0x3c0284(0x38d)+_0x5a8872+_0x3c0284(0x65b));}catch(_0x4fcfb7){this['logger']['error'](_0x3c0284(0x4af)+_0x38be9e+_0x3c0284(0x7a3)+_0x5a8872+':\x20'+_0x4fcfb7);}}async[a0_0x7b141d(0x705)](_0x249e1f,_0x2259fb){const _0x225377=a0_0x7b141d;try{await this[_0x225377(0x523)][_0x225377(0x30f)](_0x2259fb,_0x249e1f),this[_0x225377(0x222)][_0x225377(0x59c)](this[_0x225377(0x488)]+'\x20('+this[_0x225377(0x194)][_0x225377(0x2ab)]+_0x225377(0x764)+_0x249e1f+'\x20removido\x20do\x20chat\x20'+_0x2259fb+_0x225377(0x65b));}catch(_0x5b32e2){this[_0x225377(0x222)][_0x225377(0x4b9)](_0x225377(0x625)+_0x249e1f+_0x225377(0x227)+_0x2259fb+':\x20'+_0x5b32e2);}}async[a0_0x7b141d(0x527)](_0x292e72){const _0x4931d0=a0_0x7b141d;try{let _0x489701=await this['repository'][_0x4931d0(0x855)]['findOrCreate'](this[_0x4931d0(0x194)][_0x4931d0(0x2ab)]),_0xeb27e0=_0x292e72[_0x4931d0(0x39f)]?_0x489701['agents'][_0x4931d0(0x801)](_0x3099b3=>_0x3099b3[_0x4931d0(0x39f)]===_0x292e72[_0x4931d0(0x39f)]):-0x1;if(_0x292e72[_0x4931d0(0x59d)]&&_0xeb27e0>-0x1)_0x489701[_0x4931d0(0x861)][_0x4931d0(0x25f)](_0xeb27e0,0x1);else{if(_0xeb27e0>-0x1){let _0x4bebfd=_0x489701['agents'][_0xeb27e0];_0x292e72[_0x4931d0(0x241)]&&(_0x4bebfd['fone']=_0x292e72[_0x4931d0(0x241)]),_0x292e72[_0x4931d0(0x3f5)]&&(_0x4bebfd[_0x4931d0(0x3f5)]=_0x292e72[_0x4931d0(0x3f5)]),_0x292e72[_0x4931d0(0x592)]&&(_0x4bebfd[_0x4931d0(0x592)]=_0x292e72[_0x4931d0(0x592)]),_0x292e72[_0x4931d0(0x2fe)]&&(_0x4bebfd['role']=_0x292e72['role']);}else _0x489701[_0x4931d0(0x861)]['push']({'_id':_0x292e72['_id']||new ge[(_0x4931d0(0x2cf))][(_0x4931d0(0x35a))][(_0x4931d0(0x722))]()[_0x4931d0(0x7b0)](),'fone':_0x292e72['fone'],'name':_0x292e72[_0x4931d0(0x3f5)],'email':_0x292e72['email'],'role':_0x292e72['role']});}let _0x4c000d={'agents':_0x489701['agents']},_0x536273=await this[_0x4931d0(0x60c)][_0x4931d0(0x855)][_0x4931d0(0x889)](_0x4c000d,this[_0x4931d0(0x194)][_0x4931d0(0x2ab)]);return this[_0x4931d0(0x75a)]=_0x536273,this[_0x4931d0(0x222)][_0x4931d0(0x8c4)](this[_0x4931d0(0x488)]+'\x20('+this[_0x4931d0(0x194)][_0x4931d0(0x2ab)]+_0x4931d0(0x83c)),this[_0x4931d0(0x222)][_0x4931d0(0x8c4)](this[_0x4931d0(0x488)]+'\x20('+this[_0x4931d0(0x194)]['wuid']+_0x4931d0(0x21e)+this[_0x4931d0(0x75a)]),_0x536273;}catch(_0x1cd882){let _0x146bf1=_0x4931d0(0x429),_0x1c921f=_0x1cd882 instanceof Error?_0x1cd882[_0x4931d0(0x1f9)]:typeof _0x1cd882==_0x4931d0(0x5ec)?JSON[_0x4931d0(0x22d)](_0x1cd882):_0x1cd882,_0x5bb1c7=_0x146bf1+':\x20'+_0x1c921f;throw this[_0x4931d0(0x222)][_0x4931d0(0x4b9)](this[_0x4931d0(0x488)]+'\x20('+this[_0x4931d0(0x194)][_0x4931d0(0x2ab)]+'):\x20'+_0x5bb1c7),new m(_0x5bb1c7);}}async[a0_0x7b141d(0x5cb)](_0x3d6c33){const _0x59e361=a0_0x7b141d;try{let _0x586340=await this[_0x59e361(0x60c)][_0x59e361(0x855)][_0x59e361(0x1a4)](this[_0x59e361(0x194)]['wuid']),_0x4663b5=_0x3d6c33[_0x59e361(0x39f)]?_0x586340['customFields'][_0x59e361(0x801)](_0x14a71c=>_0x14a71c[_0x59e361(0x39f)]===_0x3d6c33[_0x59e361(0x39f)]):-0x1,_0x5116f8=!0x1,_0x2e10b5=_0x586340[_0x59e361(0x887)][_0x59e361(0x51d)](_0x21a5fb=>_0x21a5fb[_0x59e361(0x2d4)]===_0x3d6c33['order']);if(_0x3d6c33[_0x59e361(0x59d)]&&_0x4663b5>-0x1)_0x586340['customFields'][_0x59e361(0x25f)](_0x4663b5,0x1),_0x5116f8=!0x0;else{if(_0x4663b5>-0x1){if(_0x586340['customFields']['some'](_0x1a4e75=>_0x1a4e75[_0x59e361(0x3f5)]===_0x3d6c33[_0x59e361(0x3f5)]&&_0x1a4e75[_0x59e361(0x39f)]!==_0x3d6c33[_0x59e361(0x39f)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x142f11=_0x586340[_0x59e361(0x887)][_0x4663b5];_0x3d6c33['order']&&(_0x2e10b5||!Number[_0x59e361(0x531)](_0x3d6c33[_0x59e361(0x2d4)]))&&(_0x142f11[_0x59e361(0x2d4)]=_0x3d6c33[_0x59e361(0x2d4)],_0x5116f8=!0x0),_0x3d6c33[_0x59e361(0x3f5)]&&(_0x142f11[_0x59e361(0x3f5)]=_0x3d6c33['name']);}else{if(_0x586340[_0x59e361(0x887)][_0x59e361(0x51d)](_0x15461e=>_0x15461e[_0x59e361(0x3f5)]===_0x3d6c33[_0x59e361(0x3f5)]&&_0x15461e[_0x59e361(0x39f)]!==_0x3d6c33['_id']))throw new Error(_0x59e361(0x34a));_0x586340[_0x59e361(0x887)][_0x59e361(0x7a1)]({'_id':_0x3d6c33[_0x59e361(0x39f)]||new ge[(_0x59e361(0x2cf))]['Types'][(_0x59e361(0x722))]()['toString'](),'order':_0x3d6c33[_0x59e361(0x2d4)],'name':_0x3d6c33[_0x59e361(0x3f5)]}),_0x5116f8=!0x0;}}if(_0x5116f8){_0x586340[_0x59e361(0x887)][_0x59e361(0x6c8)]((_0x3b088b,_0x31e9fa)=>_0x3b088b[_0x59e361(0x2d4)]>_0x31e9fa['order']?0x1:_0x31e9fa[_0x59e361(0x2d4)]>_0x3b088b[_0x59e361(0x2d4)]?-0x1:0x0);for(let _0x4db02b=0x0;_0x4db02b<_0x586340['customFields'][_0x59e361(0x675)];_0x4db02b++)_0x586340[_0x59e361(0x887)][_0x4db02b][_0x59e361(0x2d4)]=_0x4db02b+0x1;}let _0x15b8a2=await this[_0x59e361(0x60c)][_0x59e361(0x855)]['update'](_0x586340,this[_0x59e361(0x194)][_0x59e361(0x2ab)]);return this[_0x59e361(0x75a)]=_0x15b8a2,this[_0x59e361(0x222)][_0x59e361(0x8c4)](this[_0x59e361(0x488)]+'\x20('+this[_0x59e361(0x194)][_0x59e361(0x2ab)]+_0x59e361(0x237)),this['logger'][_0x59e361(0x8c4)](this[_0x59e361(0x488)]+'\x20('+this['instance']['wuid']+_0x59e361(0x21e)+this[_0x59e361(0x75a)]),_0x15b8a2;}catch(_0x529cb0){let _0xd124fd='Erro\x20ao\x20tentar\x20updateCustomFields',_0x48ea41=_0x529cb0 instanceof Error?_0x529cb0[_0x59e361(0x1f9)]:typeof _0x529cb0==_0x59e361(0x5ec)?JSON['stringify'](_0x529cb0):_0x529cb0,_0x3577fa=_0xd124fd+':\x20'+_0x48ea41;throw this['logger'][_0x59e361(0x4b9)](this[_0x59e361(0x488)]+'\x20('+this['instance'][_0x59e361(0x2ab)]+_0x59e361(0x21e)+_0x3577fa),new m(_0x3577fa);}}async[a0_0x7b141d(0x419)](_0xb4b60b){const _0x1abbbd=a0_0x7b141d;try{let _0x2d027d=await this[_0x1abbbd(0x60c)][_0x1abbbd(0x855)]['findOrCreate'](this[_0x1abbbd(0x194)][_0x1abbbd(0x2ab)]),_0x1e6565=_0x2d027d?.[_0x1abbbd(0x338)]?.[_0x1abbbd(0x801)](_0x51e94e=>_0x51e94e[_0x1abbbd(0x39f)]===_0xb4b60b?.[_0x1abbbd(0x39f)]);if(_0xb4b60b?.[_0x1abbbd(0x59d)])_0x1e6565>-0x1&&_0x2d027d?.[_0x1abbbd(0x338)]?.[_0x1abbbd(0x25f)](_0x1e6565,0x1);else{if(_0x1e6565>-0x1){let _0x1b78ee=_0x2d027d[_0x1abbbd(0x338)][_0x1e6565];_0x1b78ee['order']=_0xb4b60b?.[_0x1abbbd(0x2d4)]||_0x1b78ee[_0x1abbbd(0x2d4)],_0x1b78ee[_0x1abbbd(0x788)]=_0xb4b60b?.['command']||_0x1b78ee['command'],_0x1b78ee[_0x1abbbd(0x1f9)]=_0xb4b60b?.[_0x1abbbd(0x1f9)]||_0x1b78ee[_0x1abbbd(0x1f9)];}else{let _0x1a4bf6={'_id':_0xb4b60b?.[_0x1abbbd(0x39f)]||new ge[(_0x1abbbd(0x2cf))][(_0x1abbbd(0x35a))][(_0x1abbbd(0x722))]()[_0x1abbbd(0x7b0)](),'order':_0xb4b60b?.['order'],'command':_0xb4b60b?.[_0x1abbbd(0x788)],'message':_0xb4b60b?.[_0x1abbbd(0x1f9)]};_0x2d027d?.[_0x1abbbd(0x338)]?.['push'](_0x1a4bf6);}}_0x2d027d?.[_0x1abbbd(0x338)]?.[_0x1abbbd(0x6c8)]((_0x53dd21,_0x482f5a)=>_0x53dd21[_0x1abbbd(0x2d4)]-_0x482f5a[_0x1abbbd(0x2d4)]);let _0x64cbbd=await this[_0x1abbbd(0x60c)][_0x1abbbd(0x855)][_0x1abbbd(0x889)](_0x2d027d,this[_0x1abbbd(0x194)][_0x1abbbd(0x2ab)]);return this[_0x1abbbd(0x75a)]=_0x64cbbd,this['logger']['verbose'](this[_0x1abbbd(0x488)]+'\x20('+this[_0x1abbbd(0x194)]['wuid']+_0x1abbbd(0x237)),_0x64cbbd;}catch(_0x39dfa1){let _0x5ce825='Erro\x20ao\x20tentar\x20autoCompleteMessages',_0x3ad73d=_0x39dfa1 instanceof Error?_0x39dfa1[_0x1abbbd(0x1f9)]:typeof _0x39dfa1==_0x1abbbd(0x5ec)?JSON[_0x1abbbd(0x22d)](_0x39dfa1):_0x39dfa1,_0x244edb=_0x5ce825+':\x20'+_0x3ad73d;throw this[_0x1abbbd(0x222)][_0x1abbbd(0x4b9)](this[_0x1abbbd(0x488)]+'\x20('+this[_0x1abbbd(0x194)][_0x1abbbd(0x2ab)]+_0x1abbbd(0x21e)+_0x244edb),new m(_0x244edb);}}async[a0_0x7b141d(0x17a)](_0x56349f){const _0x1e71a5=a0_0x7b141d;try{let _0x5afef6=await this[_0x1e71a5(0x60c)]['automateSystem']['findOrCreate'](this[_0x1e71a5(0x194)]['wuid']);if(!_0x5afef6)throw new Error(_0x1e71a5(0x709));let _0x34fdcd={'_id':_0x5afef6[_0x1e71a5(0x39f)],'flowConfig':{'enabled':_0x56349f['enabled']??_0x5afef6[_0x1e71a5(0x29b)]['enabled'],'ignoreGroups':_0x56349f['ignoreGroups']??_0x5afef6['flowConfig'][_0x1e71a5(0x681)],'stopConversation':_0x56349f[_0x1e71a5(0x7c0)][_0x1e71a5(0x223)]()??_0x5afef6[_0x1e71a5(0x29b)][_0x1e71a5(0x7c0)]['trim'](),'stopMinutes':_0x56349f['stopMinutes']??_0x5afef6[_0x1e71a5(0x29b)]['stopMinutes'],'stopWhenYouSendMsg':_0x56349f[_0x1e71a5(0x325)]??_0x5afef6[_0x1e71a5(0x29b)][_0x1e71a5(0x325)]}},_0x38bbb1=await this[_0x1e71a5(0x60c)][_0x1e71a5(0x855)][_0x1e71a5(0x889)](_0x34fdcd,this[_0x1e71a5(0x194)][_0x1e71a5(0x2ab)]);return this[_0x1e71a5(0x75a)]=_0x38bbb1,this[_0x1e71a5(0x222)][_0x1e71a5(0x8c4)](this[_0x1e71a5(0x488)]+'\x20('+this[_0x1e71a5(0x194)][_0x1e71a5(0x2ab)]+_0x1e71a5(0x83c)),this[_0x1e71a5(0x222)][_0x1e71a5(0x8c4)](this[_0x1e71a5(0x488)]+'\x20('+this[_0x1e71a5(0x194)]['wuid']+_0x1e71a5(0x21e)+this[_0x1e71a5(0x75a)]),setTimeout(()=>this[_0x1e71a5(0x856)](),0x7d0),_0x38bbb1;}catch(_0xa74b8f){let _0x8a6302=_0x1e71a5(0x7e0),_0x5f228a=_0xa74b8f instanceof Error?_0xa74b8f[_0x1e71a5(0x1f9)]:typeof _0xa74b8f==_0x1e71a5(0x5ec)?JSON['stringify'](_0xa74b8f):_0xa74b8f,_0x3b3e82=_0x8a6302+':\x20'+_0x5f228a;throw this['logger'][_0x1e71a5(0x4b9)](this[_0x1e71a5(0x488)]+'\x20('+this[_0x1e71a5(0x194)][_0x1e71a5(0x2ab)]+_0x1e71a5(0x21e)+_0x3b3e82),new m(_0x3b3e82);}}async['getAutomateSystem'](){const _0x2d1aeb=a0_0x7b141d;try{let _0x735bd2=await this[_0x2d1aeb(0x60c)][_0x2d1aeb(0x855)][_0x2d1aeb(0x1a4)](this['instance'][_0x2d1aeb(0x2ab)]);return this['AutomateSystem']=_0x735bd2,_0x735bd2;}catch(_0x3e626f){let _0x1f4888=_0x2d1aeb(0x4d3),_0x2187ad=_0x3e626f instanceof Error?_0x3e626f[_0x2d1aeb(0x1f9)]:typeof _0x3e626f==_0x2d1aeb(0x5ec)?JSON['stringify'](_0x3e626f):_0x3e626f,_0x4c6edc=_0x1f4888+':\x20'+_0x2187ad;throw this[_0x2d1aeb(0x222)][_0x2d1aeb(0x4b9)](this[_0x2d1aeb(0x488)]+'\x20('+this[_0x2d1aeb(0x194)][_0x2d1aeb(0x2ab)]+_0x2d1aeb(0x21e)+_0x4c6edc),new m(_0x4c6edc);}}async[a0_0x7b141d(0x304)](){const _0x353b8b=a0_0x7b141d;let _0x57f135=(await import('p-queue'))['default'];this[_0x353b8b(0x460)]=new _0x57f135({'concurrency':0x1});}async[a0_0x7b141d(0x284)](){const _0xb76c23=a0_0x7b141d;this['instance'][_0xb76c23(0x324)][_0xb76c23(0x3f9)]&&clearTimeout(this[_0xb76c23(0x194)]['ScheduleMessage']['timeout']),this['instance'][_0xb76c23(0x324)][_0xb76c23(0x3f9)]=setTimeout(()=>{const _0x4e2e8=_0xb76c23;this[_0x4e2e8(0x5da)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x7b141d(0x5da)](){const _0x1c36f1=a0_0x7b141d;let _0x409f92=this[_0x1c36f1(0x194)]['ScheduleMessage'][_0x1c36f1(0x734)];(_0x409f92===0x0||_0x409f92===null||Date[_0x1c36f1(0x849)]()-_0x409f92>=0x1d4c0)&&(this['logger']['verbose'](this[_0x1c36f1(0x488)]+'\x20('+this[_0x1c36f1(0x194)][_0x1c36f1(0x2ab)]+_0x1c36f1(0x168)),this[_0x1c36f1(0x194)]['ScheduleMessage'][_0x1c36f1(0x87a)]=null,this[_0x1c36f1(0x194)][_0x1c36f1(0x324)][_0x1c36f1(0x734)]=0x0,this[_0x1c36f1(0x194)][_0x1c36f1(0x324)][_0x1c36f1(0x803)]=0x0,await this[_0x1c36f1(0x856)]());}async['scheduleNextCheck'](){const _0x4e5f15=a0_0x7b141d;this[_0x4e5f15(0x222)][_0x4e5f15(0x38b)](this[_0x4e5f15(0x488)]+'\x20('+this['instance']['wuid']+'):\x20Procurando\x20mensagens\x20para\x20envio'),await this[_0x4e5f15(0x39d)]();let _0x26eaff=await this[_0x4e5f15(0x755)]();_0x26eaff[_0x4e5f15(0x675)]>0x0&&(setTimeout(()=>this[_0x4e5f15(0x5da)](),0x14*0x3e8),this[_0x4e5f15(0x222)][_0x4e5f15(0x38b)](this[_0x4e5f15(0x488)]+'\x20('+this[_0x4e5f15(0x194)][_0x4e5f15(0x2ab)]+_0x4e5f15(0x520)),this[_0x4e5f15(0x460)]['clear'](),this[_0x4e5f15(0x460)]['add'](()=>this[_0x4e5f15(0x295)](_0x26eaff)));let _0x3bd2ee={'where':{'status':_0x4e5f15(0x8ac),'when':{'$gt':Date[_0x4e5f15(0x849)]()}}},_0x1eac89=await this[_0x4e5f15(0x60c)][_0x4e5f15(0x172)][_0x4e5f15(0x89d)](_0x3bd2ee,this['instance']['wuid']);_0x1eac89&&_0x1eac89['when']-Date['now']()<=0x6ddd00?this[_0x4e5f15(0x194)][_0x4e5f15(0x324)][_0x4e5f15(0x803)]=_0x1eac89[_0x4e5f15(0x6fc)]-Date[_0x4e5f15(0x849)]():this[_0x4e5f15(0x194)][_0x4e5f15(0x324)][_0x4e5f15(0x803)]=(0x3c+Math[_0x4e5f15(0x1ef)](Math[_0x4e5f15(0x87e)]()*0x3c))*0x3c*0x3e8,this[_0x4e5f15(0x194)][_0x4e5f15(0x324)]['delayMessage']=Math[_0x4e5f15(0x548)](this[_0x4e5f15(0x194)][_0x4e5f15(0x324)][_0x4e5f15(0x803)],0x1*0x2*0x3e8);let _0x12b38f=Math['round'](this['instance']['ScheduleMessage'][_0x4e5f15(0x803)]/0xea60);if(_0x1eac89){let _0x11b82f=new Date(_0x1eac89[_0x4e5f15(0x6fc)])[_0x4e5f15(0x565)]();this[_0x4e5f15(0x222)]['warn'](this[_0x4e5f15(0x488)]+'\x20('+this[_0x4e5f15(0x194)]['wuid']+'):\x20Encontrado\x20próxima\x20mensagem\x20para\x20'+_0x11b82f+_0x4e5f15(0x8c5)+_0x12b38f+_0x4e5f15(0x45b));}else this[_0x4e5f15(0x222)][_0x4e5f15(0x38b)](this[_0x4e5f15(0x488)]+'\x20('+this[_0x4e5f15(0x194)][_0x4e5f15(0x2ab)]+_0x4e5f15(0x811)+_0x12b38f+'\x20minutos');setTimeout(()=>{this['scheduleNextCheck']();},this['instance'][_0x4e5f15(0x324)]['delayMessage']);}async[a0_0x7b141d(0x755)](){const _0x5bc6b8=a0_0x7b141d;this[_0x5bc6b8(0x222)][_0x5bc6b8(0x38b)](this[_0x5bc6b8(0x488)]+'\x20('+this[_0x5bc6b8(0x194)][_0x5bc6b8(0x2ab)]+_0x5bc6b8(0x2da));let _0x4a8ff0=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x552d97={'where':{'status':{'$in':[_0x5bc6b8(0x8ac),'sending']},'$or':[{'when':{'$lte':Date[_0x5bc6b8(0x849)](),'$gte':_0x4a8ff0}},{'when':0x0}]}},_0xee6a9c=await this[_0x5bc6b8(0x60c)]['scheduleMessage'][_0x5bc6b8(0x61f)](_0x552d97,this[_0x5bc6b8(0x194)][_0x5bc6b8(0x2ab)]);return this[_0x5bc6b8(0x222)][_0x5bc6b8(0x38b)](this[_0x5bc6b8(0x488)]+'\x20('+this['instance'][_0x5bc6b8(0x2ab)]+_0x5bc6b8(0x582)+_0xee6a9c[_0x5bc6b8(0x675)]),_0xee6a9c;}async[a0_0x7b141d(0x295)](_0x550e6c){const _0x3dba59=a0_0x7b141d;this[_0x3dba59(0x222)][_0x3dba59(0x38b)](this[_0x3dba59(0x488)]+'\x20('+this[_0x3dba59(0x194)][_0x3dba59(0x2ab)]+_0x3dba59(0x74e));let _0x1946c0=0x3*0x3e8,_0x20710c=0x8*0x3e8,_0xf78a73=Math[_0x3dba59(0x1ef)](Math['random']()*(_0x20710c-_0x1946c0+0x1))+_0x1946c0,_0x508a3b=()=>this[_0x3dba59(0x430)][_0x3dba59(0x675)]===0x0?null:this[_0x3dba59(0x430)][_0x3dba59(0x358)]((_0x12528a,_0x4baf29)=>(_0x12528a[_0x3dba59(0x2d4)]??Number[_0x3dba59(0x874)])<(_0x4baf29['order']??Number[_0x3dba59(0x874)])?_0x12528a:_0x4baf29,this['pendingMessages'][0x0]);_0x550e6c=await this[_0x3dba59(0x755)]();for(let _0x36ce31 of _0x550e6c){await this[_0x3dba59(0x284)]();let _0x238d5d=0x3*0x3e8,_0x4cf1a5={'_id':_0x36ce31[_0x3dba59(0x39f)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x3dba59(0x849)]()-_0x238d5d}}]},_0x5e12f9={'startSend':Date[_0x3dba59(0x849)](),'status':_0x3dba59(0x7fb)},_0x46045c=await this[_0x3dba59(0x60c)][_0x3dba59(0x172)][_0x3dba59(0x319)](_0x4cf1a5,_0x5e12f9,this['instance'][_0x3dba59(0x2ab)]);if(this[_0x3dba59(0x430)]=_0x46045c['messages'][_0x3dba59(0x499)](_0x42473a=>!_0x42473a[_0x3dba59(0x885)]),!_0x46045c){setTimeout(()=>this[_0x3dba59(0x5da)](),0xa*0x3e8);continue;}if(this['instance'][_0x3dba59(0x324)][_0x3dba59(0x87a)]=_0x46045c,!this[_0x3dba59(0x194)][_0x3dba59(0x324)]['isConnected']){this[_0x3dba59(0x222)][_0x3dba59(0x38b)](this[_0x3dba59(0x488)]+'\x20('+this[_0x3dba59(0x194)][_0x3dba59(0x2ab)]+_0x3dba59(0x354));break;}for(;this[_0x3dba59(0x430)][_0x3dba59(0x675)]>0x0;){await this['setRestartTimeout']();let _0x5942ea=_0x508a3b();if(!_0x5942ea)break;let _0x550543=_0x36ce31[_0x3dba59(0x32f)][_0x3dba59(0x61f)](_0x1d672f=>_0x1d672f['_id']===_0x5942ea['_id']);if(!_0x550543)break;if(this[_0x3dba59(0x194)][_0x3dba59(0x324)]['lastSend']=Date[_0x3dba59(0x849)](),_0x550543[_0x3dba59(0x885)]){this['logger'][_0x3dba59(0x38b)](this[_0x3dba59(0x488)]+'\x20('+this[_0x3dba59(0x194)][_0x3dba59(0x2ab)]+_0x3dba59(0x4da)+_0x550543[_0x3dba59(0x230)]+_0x3dba59(0x723)),this[_0x3dba59(0x430)]=this[_0x3dba59(0x430)][_0x3dba59(0x499)](_0x29814d=>_0x29814d[_0x3dba59(0x39f)]!==_0x550543['_id']);continue;}if(!this[_0x3dba59(0x194)][_0x3dba59(0x324)]['isConnected']){this[_0x3dba59(0x222)][_0x3dba59(0x38b)](this[_0x3dba59(0x488)]+'\x20('+this[_0x3dba59(0x194)]['wuid']+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this[_0x3dba59(0x194)]['ScheduleMessage'][_0x3dba59(0x87a)]){this[_0x3dba59(0x222)]['warn'](this[_0x3dba59(0x488)]+'\x20('+this[_0x3dba59(0x194)][_0x3dba59(0x2ab)]+_0x3dba59(0x581)+_0x36ce31[_0x3dba59(0x39f)]+_0x3dba59(0x7b5));break;}let _0x238a5b={'idControl':_0x550543[_0x3dba59(0x39f)],'remoteJid':_0x550543[_0x3dba59(0x230)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x3cfdd8=null;try{this[_0x3dba59(0x222)]['warn'](this['instanceName']+'\x20('+this[_0x3dba59(0x194)][_0x3dba59(0x2ab)]+_0x3dba59(0x3c3)+_0x550543[_0x3dba59(0x230)]);let _0x13fcc4=await Promise[_0x3dba59(0x73b)]([this[_0x3dba59(0x84a)](_0x550543['remoteJid'],_0x550543),this[_0x3dba59(0x225)](0x1e*0x3e8)]);_0x238a5b[_0x3dba59(0x4b9)]=_0x13fcc4[_0x3dba59(0x4b9)],_0x238a5b['id']=_0x13fcc4[_0x3dba59(0x4b9)]?null:_0x13fcc4['id'],_0x238a5b[_0x3dba59(0x528)]=_0x13fcc4[_0x3dba59(0x4b9)]?_0x13fcc4[_0x3dba59(0x509)]?_0x13fcc4[_0x3dba59(0x509)]['toString']():'':null;let _0x4c4e9c=_0x36ce31[_0x3dba59(0x32f)][_0x3dba59(0x801)](_0x4d0ddb=>_0x4d0ddb[_0x3dba59(0x39f)]===_0x550543[_0x3dba59(0x39f)]);_0x4c4e9c!==-0x1&&(_0x36ce31[_0x3dba59(0x32f)][_0x4c4e9c][_0x3dba59(0x885)]=!0x0);let _0x10860c={'$push':{'messagesSend':_0x238a5b},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x218d3a=[{'elem._id':_0x550543[_0x3dba59(0x39f)]}];if(this[_0x3dba59(0x222)][_0x3dba59(0x38b)](this[_0x3dba59(0x488)]+'\x20('+this[_0x3dba59(0x194)][_0x3dba59(0x2ab)]+'):\x20Atualizando\x20status\x20da\x20mensagem\x20'+_0x550543[_0x3dba59(0x39f)]),_0x3cfdd8=await this[_0x3dba59(0x60c)]['scheduleMessage']['updateOne']({'_id':_0x36ce31[_0x3dba59(0x39f)]},_0x10860c,this[_0x3dba59(0x194)][_0x3dba59(0x2ab)],{'arrayFilters':_0x218d3a}),_0x13fcc4['error']){this[_0x3dba59(0x222)][_0x3dba59(0x4b9)](this[_0x3dba59(0x488)]+'\x20('+this[_0x3dba59(0x194)][_0x3dba59(0x2ab)]+_0x3dba59(0x7e9)+_0x13fcc4['detail']);continue;}let _0x2f481e=this[_0x3dba59(0x197)](_0x36ce31[_0x3dba59(0x331)],_0x36ce31[_0x3dba59(0x71a)]);await this[_0x3dba59(0x393)](_0x2f481e);}catch(_0x1b7784){this[_0x3dba59(0x222)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3dba59(0x507)+_0x550543[_0x3dba59(0x230)]+':\x20'+(_0x1b7784 instanceof Error?_0x1b7784[_0x3dba59(0x1f9)]:JSON[_0x3dba59(0x22d)](_0x1b7784,null,0x2))),_0x238a5b[_0x3dba59(0x4b9)]=!0x0,_0x238a5b['error_log']=_0x1b7784['message'];let _0x5073dc=_0x36ce31[_0x3dba59(0x32f)][_0x3dba59(0x801)](_0x36f898=>_0x36f898[_0x3dba59(0x39f)]===_0x550543[_0x3dba59(0x39f)]);_0x5073dc!==-0x1&&(_0x36ce31[_0x3dba59(0x32f)][_0x5073dc]['triedToSend']=!0x0);let _0x5832ea={'$push':{'messagesSend':_0x238a5b},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x49cabf=[{'elem._id':_0x550543[_0x3dba59(0x39f)]}];this[_0x3dba59(0x222)][_0x3dba59(0x38b)](this['instanceName']+'\x20('+this[_0x3dba59(0x194)]['wuid']+_0x3dba59(0x58b)+_0x550543['_id']),_0x3cfdd8=await this[_0x3dba59(0x60c)][_0x3dba59(0x172)][_0x3dba59(0x319)]({'_id':_0x36ce31[_0x3dba59(0x39f)]},_0x5832ea,this['instance'][_0x3dba59(0x2ab)],{'arrayFilters':_0x49cabf});}finally{if(_0x3cfdd8&&_0x3cfdd8[_0x3dba59(0x756)]==='stopped'){this[_0x3dba59(0x222)]['warn'](this[_0x3dba59(0x488)]+'\x20('+this[_0x3dba59(0x194)][_0x3dba59(0x2ab)]+_0x3dba59(0x581)+_0x550543['_id']+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}let _0x36f48a=_0x3cfdd8['messages'][_0x3dba59(0x61f)](_0x59b7a6=>_0x59b7a6[_0x3dba59(0x39f)]===_0x550543[_0x3dba59(0x39f)]);if(_0x36f48a&&!_0x36f48a[_0x3dba59(0x885)]){let _0x3d3c1f={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x4517e7=[{'elem._id':_0x550543[_0x3dba59(0x39f)]}];await this['repository'][_0x3dba59(0x172)]['updateOne']({'_id':_0x3cfdd8[_0x3dba59(0x39f)]},_0x3d3c1f,this[_0x3dba59(0x194)][_0x3dba59(0x2ab)],{'arrayFilters':_0x4517e7});}if(this[_0x3dba59(0x430)]=_0x3cfdd8[_0x3dba59(0x32f)][_0x3dba59(0x499)](_0x3a03de=>!_0x3a03de[_0x3dba59(0x885)]),!this['instance'][_0x3dba59(0x324)][_0x3dba59(0x87a)]){await this[_0x3dba59(0x284)](),this[_0x3dba59(0x222)][_0x3dba59(0x38b)](this[_0x3dba59(0x488)]+'\x20('+this[_0x3dba59(0x194)][_0x3dba59(0x2ab)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x36ce31[_0x3dba59(0x39f)]+_0x3dba59(0x7b5));break;}}}this[_0x3dba59(0x430)]=[];let _0x30aaf6=await this['repository']['scheduleMessage']['findById'](_0x36ce31[_0x3dba59(0x39f)],this[_0x3dba59(0x194)][_0x3dba59(0x2ab)]);if(_0x30aaf6[_0x3dba59(0x32f)][_0x3dba59(0x796)](_0x5e8a99=>_0x5e8a99[_0x3dba59(0x885)])&&_0x30aaf6[_0x3dba59(0x756)]!==_0x3dba59(0x78e)){let _0x14011b={'$set':{'status':_0x3dba59(0x7ba)}};await this[_0x3dba59(0x60c)]['scheduleMessage'][_0x3dba59(0x648)](_0x30aaf6[_0x3dba59(0x39f)],_0x14011b,this[_0x3dba59(0x194)]['wuid']);}await new Promise(_0x212601=>setTimeout(_0x212601,_0xf78a73)),global['gc']?global['gc']():console[_0x3dba59(0x38b)]('Garbage\x20collection\x20não\x20está\x20disponível.');}}[a0_0x7b141d(0x225)](_0x1816c0){const _0x2b3e32=a0_0x7b141d;return new Promise((_0x7b72,_0x165060)=>setTimeout(()=>_0x165060(new Error(_0x2b3e32(0x743))),_0x1816c0));}['getDelay'](_0x28eeef,_0x46f6ee){const _0x53df27=a0_0x7b141d;return _0x28eeef=Math['max'](0.5,_0x28eeef),_0x46f6ee=Math[_0x53df27(0x23f)](Math[_0x53df27(0x548)](0x3,_0x46f6ee),0x78),Math[_0x53df27(0x1ef)](Math[_0x53df27(0x87e)]()*(_0x46f6ee-_0x28eeef+0x1)+_0x28eeef)*0x3e8;}[a0_0x7b141d(0x393)](_0x350a3c){return new Promise(_0x1c454d=>setTimeout(_0x1c454d,_0x350a3c));}async[a0_0x7b141d(0x701)](_0xb5e44b){const _0x1aa51c=a0_0x7b141d;if(!this[_0x1aa51c(0x75a)]&&(await this['getAutomateSystem'](),!this[_0x1aa51c(0x75a)]))return null;_0xb5e44b=this[_0x1aa51c(0x1d3)](_0xb5e44b);let _0x5e90b7=await this[_0x1aa51c(0x60c)][_0x1aa51c(0x624)][_0x1aa51c(0x89d)]({'where':{'_id':_0xb5e44b}},this['instance'][_0x1aa51c(0x2ab)]),_0x57c4f6={};if(_0x5e90b7&&_0x5e90b7[_0x1aa51c(0x77d)]){let _0x9a9045=_0x5e90b7[_0x1aa51c(0x77d)];typeof _0x9a9045[_0x1aa51c(0x4c0)]==_0x1aa51c(0x214)&&(_0x57c4f6[_0x1aa51c(0x4c0)]=_0x9a9045['nome']),typeof _0x9a9045['nomecompleto']==_0x1aa51c(0x214)&&(_0x57c4f6['nomecompleto']=_0x9a9045[_0x1aa51c(0x3dd)]),typeof _0x9a9045[_0x1aa51c(0x592)]==_0x1aa51c(0x214)&&(_0x57c4f6[_0x1aa51c(0x592)]=_0x9a9045['email']),typeof _0x9a9045[_0x1aa51c(0x25c)]==_0x1aa51c(0x214)&&(_0x57c4f6[_0x1aa51c(0x25c)]=_0x9a9045['cpf']),typeof _0x9a9045[_0x1aa51c(0x756)]==_0x1aa51c(0x214)&&(_0x57c4f6[_0x1aa51c(0x756)]=_0x9a9045[_0x1aa51c(0x756)]),typeof _0x9a9045['notas']==_0x1aa51c(0x214)&&(_0x57c4f6[_0x1aa51c(0x86d)]=_0x9a9045[_0x1aa51c(0x86d)]),typeof _0x9a9045[_0x1aa51c(0x19d)]=='string'&&(_0x57c4f6[_0x1aa51c(0x19d)]=_0x9a9045['responsavelid']),Array[_0x1aa51c(0x635)](_0x9a9045[_0x1aa51c(0x6ba)])&&(_0x57c4f6[_0x1aa51c(0x6ba)]=_0x9a9045[_0x1aa51c(0x6ba)][_0x1aa51c(0x797)](',\x20')),Array[_0x1aa51c(0x635)](_0x9a9045[_0x1aa51c(0x584)])&&(_0x57c4f6[_0x1aa51c(0x584)]=_0x9a9045[_0x1aa51c(0x584)]['join'](',\x20'));}return _0x5e90b7&&_0x5e90b7[_0x1aa51c(0x77d)]&&_0x5e90b7[_0x1aa51c(0x77d)][_0x1aa51c(0x887)]&&_0x5e90b7[_0x1aa51c(0x77d)][_0x1aa51c(0x887)][_0x1aa51c(0x677)](_0x35a354=>{const _0x23958c=_0x1aa51c;let _0x55d5cd=this[_0x23958c(0x75a)]?.['customFields']['find'](_0x301549=>_0x301549[_0x23958c(0x39f)]===_0x35a354[_0x23958c(0x39f)]);_0x55d5cd&&(_0x57c4f6[_0x55d5cd[_0x23958c(0x3f5)]]=_0x35a354['value']);}),_0x57c4f6;}async['replaceVariablesChat'](_0x15e5c1,_0xde152f){const _0x1a4c8f=a0_0x7b141d;try{let _0x3b3956=await this['getVariablesChat'](_0xde152f);return this[_0x1a4c8f(0x377)](_0x15e5c1,_0x3b3956);}catch(_0xad3b12){return this[_0x1a4c8f(0x222)][_0x1a4c8f(0x4b9)](_0x1a4c8f(0x669)+_0xde152f+':\x20'+_0xad3b12),_0x15e5c1;}}async[a0_0x7b141d(0x39d)](){const _0x5a0ee2=a0_0x7b141d;let _0x55b4a9=async(_0x5157d6,_0x150838)=>{const _0x8d13a7=a0_0x77b5;let _0x1d4401=(await this[_0x8d13a7(0x60c)]['scheduleMessage']['find']({'where':{'type':_0x5157d6}},this[_0x8d13a7(0x194)][_0x8d13a7(0x2ab)]))[_0x8d13a7(0x62e)](async _0x4f138f=>{const _0x37f167=_0x8d13a7;let _0x465d1d=_0x150838(_0x4f138f),_0x52a470=_0x256d12=>/^\d+$/[_0x37f167(0x4ca)](_0x256d12),_0x5dadf6=_0x4f138f[_0x37f167(0x3a4)]['filter'](_0x7ba32b=>_0x7ba32b[_0x37f167(0x179)]('@s.whatsapp.net')?_0x7ba32b['length']>0x19:_0x7ba32b['endsWith']('@g.us')?_0x7ba32b[_0x37f167(0x675)]>0xf:_0x52a470(_0x7ba32b)?_0x7ba32b[_0x37f167(0x675)]>=0xb:!0x1)[_0x37f167(0x62e)](_0xd38294=>({'_id':(0x0,Y['v4'])(),'idSchedule':_0x4f138f['_id'],'type':_0x465d1d,'remoteJid':_0xd38294,'flow':_0x4f138f['flowName'],'text':_0x4f138f['message']?.[_0x37f167(0x2f3)],'delay':_0x4f138f[_0x37f167(0x1f9)]?.['delay'],'urlOrBase64':_0x4f138f[_0x37f167(0x1f9)]?.[_0x37f167(0x721)],'linkPreview':_0x4f138f[_0x37f167(0x1f9)]?.[_0x37f167(0x86a)],'fileName':_0x4f138f[_0x37f167(0x1f9)]?.[_0x37f167(0x7ed)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x37f167(0x60c)][_0x37f167(0x172)][_0x37f167(0x648)](_0x4f138f['_id'],{'$set':{'messages':_0x5dadf6},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x37f167(0x194)][_0x37f167(0x2ab)]);}catch(_0xd2a581){console[_0x37f167(0x4b9)](_0x37f167(0x27e)+_0x4f138f[_0x37f167(0x39f)]+':',_0xd2a581);}});await Promise[_0x8d13a7(0x62b)](_0x1d4401);};await _0x55b4a9('text',_0x88422=>_0x5a0ee2(0x2f3)),await _0x55b4a9(_0x5a0ee2(0x492),_0x3e50c6=>_0x3e50c6[_0x5a0ee2(0x1f9)]?.[_0x5a0ee2(0x468)]||_0x5a0ee2(0x492)),await _0x55b4a9('audio',_0x634757=>_0x5a0ee2(0x59a)),await _0x55b4a9(_0x5a0ee2(0x4b6),_0x839603=>_0x5a0ee2(0x4b6)),await _0x55b4a9(_0x5a0ee2(0x24a),_0x23548b=>_0x5a0ee2(0x24a)),await _0x55b4a9('video',_0x4e3b36=>_0x5a0ee2(0x2a5)),await _0x55b4a9(_0x5a0ee2(0x5a3),_0x458963=>'document'),this['logger'][_0x5a0ee2(0x38b)](this[_0x5a0ee2(0x488)]+'\x20('+this[_0x5a0ee2(0x194)][_0x5a0ee2(0x2ab)]+'):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!');}async[a0_0x7b141d(0x821)](_0x181484){const _0x13547c=a0_0x7b141d;try{if(this[_0x13547c(0x222)][_0x13547c(0x38b)](this['instanceName']+'\x20('+this[_0x13547c(0x194)]['wuid']+_0x13547c(0x791)),_0x181484[_0x13547c(0x39f)]||(_0x181484[_0x13547c(0x39f)]=(0x0,Y['v4'])()),this['instance'][_0x13547c(0x324)][_0x13547c(0x87a)]?.['_id']===_0x181484[_0x13547c(0x39f)]?.['toString']()){if(_0x181484['status']===_0x13547c(0x78e))this[_0x13547c(0x194)][_0x13547c(0x324)]['processingGroup']=null;else throw new Error(_0x13547c(0x6d9));}if(_0x181484[_0x13547c(0x59d)]&&_0x181484[_0x13547c(0x39f)]){let _0xbf711e=await this['repository'][_0x13547c(0x172)][_0x13547c(0x631)](_0x181484[_0x13547c(0x39f)],this[_0x13547c(0x194)][_0x13547c(0x2ab)]);return setTimeout(()=>this[_0x13547c(0x856)](),0x7d0),_0xbf711e;}let _0x25de6e=null;if(_0x181484[_0x13547c(0x39f)]&&(_0x25de6e=await this[_0x13547c(0x60c)][_0x13547c(0x172)][_0x13547c(0x459)](_0x181484[_0x13547c(0x39f)],this[_0x13547c(0x194)]['wuid'])),_0x25de6e){let {_id:_0x463e15,owner:_0x4b9beb,messages:_0x22385d,..._0x29dde9}=_0x181484;if(_0x22385d){let _0x245b98=_0x22385d['filter'](_0x42e57c=>!_0x42e57c['_id']),_0x3fa250=_0x22385d[_0x13547c(0x499)](_0x3bb149=>_0x3bb149['_id']&&!_0x3bb149[_0x13547c(0x59d)]),_0x52b618=_0x22385d[_0x13547c(0x499)](_0x1feb40=>_0x1feb40[_0x13547c(0x39f)]&&_0x1feb40[_0x13547c(0x59d)]);if(_0x245b98[_0x13547c(0x675)]>0x0&&await this[_0x13547c(0x72f)](_0x181484[_0x13547c(0x39f)],_0x245b98),_0x3fa250[_0x13547c(0x675)]>0x0&&await this['editMessagesInGroup']({'_id':_0x181484[_0x13547c(0x39f)],'messages':_0x3fa250}),_0x52b618[_0x13547c(0x675)]>0x0){let _0x3a5ac8=_0x52b618[_0x13547c(0x62e)](_0x367078=>({'updateOne':{'filter':{'_id':_0x181484[_0x13547c(0x39f)]},'update':{'$pull':{'messages':{'_id':_0x367078[_0x13547c(0x39f)]}}}}}));await this[_0x13547c(0x60c)][_0x13547c(0x172)]['bulkWrite'](_0x3a5ac8,this[_0x13547c(0x194)][_0x13547c(0x2ab)]);}}let _0x3ae4ac={'$set':{..._0x29dde9,'status':_0x181484[_0x13547c(0x756)]||_0x25de6e[_0x13547c(0x756)]}},_0x48a580=await this['repository']['scheduleMessage'][_0x13547c(0x648)](_0x181484[_0x13547c(0x39f)],_0x3ae4ac,this[_0x13547c(0x194)][_0x13547c(0x2ab)]);return _0x48a580&&(this[_0x13547c(0x3fe)](_0x48a580[_0x13547c(0x32f)]),await this[_0x13547c(0x60c)][_0x13547c(0x172)][_0x13547c(0x648)](_0x48a580[_0x13547c(0x39f)],{'$set':{'messages':_0x48a580[_0x13547c(0x32f)]}},this[_0x13547c(0x194)][_0x13547c(0x2ab)])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),await this[_0x13547c(0x39d)](),_0x48a580;}else{_0x181484[_0x13547c(0x52f)]=this[_0x13547c(0x194)][_0x13547c(0x2ab)],_0x181484['messages']&&_0x181484[_0x13547c(0x32f)][_0x13547c(0x677)](_0x337da9=>{const _0x5dac0f=_0x13547c;_0x337da9[_0x5dac0f(0x39f)]||(_0x337da9[_0x5dac0f(0x39f)]=(0x0,Y['v4'])()),_0x337da9[_0x5dac0f(0x149)]||(_0x337da9[_0x5dac0f(0x149)]=_0x181484[_0x5dac0f(0x39f)]),delete _0x337da9[_0x5dac0f(0x885)];});let _0x569268=await this[_0x13547c(0x60c)][_0x13547c(0x172)]['createAndSave'](_0x181484,this[_0x13547c(0x194)]['wuid']);return _0x569268&&(this[_0x13547c(0x3fe)](_0x569268[_0x13547c(0x32f)]),await this[_0x13547c(0x60c)]['scheduleMessage'][_0x13547c(0x648)](_0x569268['_id'],{'$set':{'messages':_0x569268[_0x13547c(0x32f)]}},this[_0x13547c(0x194)][_0x13547c(0x2ab)])),setTimeout(()=>this[_0x13547c(0x856)](),0x7d0),_0x569268;}}catch(_0x1773fe){let _0x5de85a=_0x13547c(0x3b4),_0x161e76=_0x1773fe instanceof Error?_0x1773fe[_0x13547c(0x1f9)]:typeof _0x1773fe=='object'?JSON[_0x13547c(0x22d)](_0x1773fe):_0x1773fe,_0x2a5efb=_0x5de85a+':\x20'+_0x161e76;throw this[_0x13547c(0x222)]['error'](this[_0x13547c(0x488)]+'\x20('+this[_0x13547c(0x194)]['wuid']+_0x13547c(0x21e)+_0x2a5efb),new m(_0x2a5efb);}}async[a0_0x7b141d(0x72f)](_0x5db1c7,_0x39baf7){const _0x393251=a0_0x7b141d;try{this['logger'][_0x393251(0x8c4)](this[_0x393251(0x488)]+'\x20('+this[_0x393251(0x194)]['wuid']+_0x393251(0x585)),_0x39baf7[_0x393251(0x677)](_0x27a8e6=>{const _0x3c8bf8=_0x393251;_0x27a8e6[_0x3c8bf8(0x39f)]||(_0x27a8e6[_0x3c8bf8(0x39f)]=(0x0,Y['v4'])()),_0x27a8e6[_0x3c8bf8(0x149)]||(_0x27a8e6[_0x3c8bf8(0x149)]=_0x5db1c7),delete _0x27a8e6[_0x3c8bf8(0x885)];});let _0x316574={'$push':{'messages':{'$each':_0x39baf7}}},_0x1f1706=await this['repository'][_0x393251(0x172)]['updateOneById'](_0x5db1c7,_0x316574,this['instance'][_0x393251(0x2ab)]);return _0x1f1706&&(this[_0x393251(0x3fe)](_0x1f1706[_0x393251(0x32f)]),await this[_0x393251(0x60c)][_0x393251(0x172)][_0x393251(0x648)](_0x1f1706[_0x393251(0x39f)],{'$set':{'messages':_0x1f1706['messages']}},this['instance'][_0x393251(0x2ab)])),_0x1f1706;}catch(_0xed3891){let _0x2e93cd=_0x393251(0x4cd),_0x2a1034=_0xed3891 instanceof Error?_0xed3891['message']:typeof _0xed3891=='object'?JSON[_0x393251(0x22d)](_0xed3891):_0xed3891,_0x49125c=_0x2e93cd+':\x20'+_0x2a1034;throw this[_0x393251(0x222)][_0x393251(0x4b9)](this[_0x393251(0x488)]+'\x20('+this[_0x393251(0x194)][_0x393251(0x2ab)]+_0x393251(0x21e)+_0x49125c),new m(_0x49125c);}}async[a0_0x7b141d(0x300)](_0x6b5456){const _0x1e48ee=a0_0x7b141d;try{if(this[_0x1e48ee(0x222)][_0x1e48ee(0x8c4)](this[_0x1e48ee(0x488)]+'\x20('+this[_0x1e48ee(0x194)][_0x1e48ee(0x2ab)]+'):\x20Editando\x20mensagens\x20no\x20grupo...'),!_0x6b5456[_0x1e48ee(0x39f)]||!_0x6b5456['messages'])throw new Error(_0x1e48ee(0x411));let _0x1a41fd=_0x6b5456[_0x1e48ee(0x39f)],_0x3dfb98=_0x6b5456['messages'],_0x476827=_0x3dfb98[_0x1e48ee(0x499)](_0x2b495c=>!_0x2b495c[_0x1e48ee(0x59d)])[_0x1e48ee(0x62e)](_0x18c17c=>{const _0x4a2e9c=_0x1e48ee;let _0x2b1d10=_0x18c17c[_0x4a2e9c(0x39f)];if(!_0x2b1d10)throw new Error(_0x4a2e9c(0x20e));return _0x18c17c[_0x4a2e9c(0x149)]||(_0x18c17c[_0x4a2e9c(0x149)]=_0x1a41fd),delete _0x18c17c[_0x4a2e9c(0x885)],{'updateOne':{'filter':{'_id':_0x1a41fd,'messages._id':_0x2b1d10},'update':{'$set':{'messages.$[elem]':_0x18c17c}},'arrayFilters':[{'elem._id':_0x2b1d10}]}};}),_0x573739=_0x3dfb98[_0x1e48ee(0x499)](_0x2c8ec8=>_0x2c8ec8[_0x1e48ee(0x59d)])[_0x1e48ee(0x62e)](_0xc4ac29=>{const _0x532f9a=_0x1e48ee;let _0xc3c636=_0xc4ac29['_id'];if(!_0xc3c636)throw new Error(_0x532f9a(0x150));return{'updateOne':{'filter':{'_id':_0x1a41fd},'update':{'$pull':{'messages':{'_id':_0xc3c636}}}}};}),_0x3277fe=[..._0x476827,..._0x573739],_0x490f1f=await this[_0x1e48ee(0x60c)][_0x1e48ee(0x172)][_0x1e48ee(0x2d0)](_0x3277fe,this[_0x1e48ee(0x194)][_0x1e48ee(0x2ab)]),_0x3fa668=await this[_0x1e48ee(0x60c)][_0x1e48ee(0x172)][_0x1e48ee(0x459)](_0x1a41fd,this['instance'][_0x1e48ee(0x2ab)]);return _0x3fa668&&(this[_0x1e48ee(0x3fe)](_0x3fa668[_0x1e48ee(0x32f)]),await this[_0x1e48ee(0x60c)]['scheduleMessage'][_0x1e48ee(0x648)](_0x3fa668[_0x1e48ee(0x39f)],{'$set':{'messages':_0x3fa668[_0x1e48ee(0x32f)]}},this[_0x1e48ee(0x194)][_0x1e48ee(0x2ab)])),_0x3fa668;}catch(_0x561db4){let _0x285a1b=_0x1e48ee(0x486),_0x514a0b=_0x561db4 instanceof Error?_0x561db4[_0x1e48ee(0x1f9)]:typeof _0x561db4==_0x1e48ee(0x5ec)?JSON[_0x1e48ee(0x22d)](_0x561db4):_0x561db4,_0x316642=_0x285a1b+':\x20'+_0x514a0b;throw this[_0x1e48ee(0x222)]['error'](this[_0x1e48ee(0x488)]+'\x20('+this['instance'][_0x1e48ee(0x2ab)]+_0x1e48ee(0x21e)+_0x316642),new m(_0x316642);}}async['deleteDoneMessages'](){const _0xd3ccac=a0_0x7b141d;try{let _0x480cd5={'status':'done'},_0x4b8403=await this[_0xd3ccac(0x60c)][_0xd3ccac(0x172)]['deleteMany'](_0x480cd5,this[_0xd3ccac(0x194)]['wuid']);if(!_0x4b8403[_0xd3ccac(0x4b9)])this['logger'][_0xd3ccac(0x8c4)](this[_0xd3ccac(0x488)]+'\x20('+this[_0xd3ccac(0x194)][_0xd3ccac(0x2ab)]+_0xd3ccac(0x595));else throw new Error(_0x4b8403[_0xd3ccac(0x4b9)][_0xd3ccac(0x1f9)]||_0xd3ccac(0x4a0));return this[_0xd3ccac(0x6ab)]();}catch(_0x9ffd20){let _0x440624=_0xd3ccac(0x783),_0x492eb0=_0x9ffd20 instanceof Error?_0x9ffd20['message']:typeof _0x9ffd20=='object'?JSON[_0xd3ccac(0x22d)](_0x9ffd20):_0x9ffd20,_0x19b521=_0x440624+':\x20'+_0x492eb0;throw this['logger'][_0xd3ccac(0x4b9)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xd3ccac(0x21e)+_0x19b521),new m(_0x19b521);}}async[a0_0x7b141d(0x6ab)](){const _0x413900=a0_0x7b141d;try{return await this[_0x413900(0x60c)][_0x413900(0x172)]['find']({'where':{}},this[_0x413900(0x194)][_0x413900(0x2ab)]);}catch(_0x109c5e){let _0x1e59b1='Erro\x20ao\x20buscar\x20Schedule\x20Messages',_0x3f588e=_0x109c5e instanceof Error?_0x109c5e[_0x413900(0x1f9)]:typeof _0x109c5e==_0x413900(0x5ec)?JSON[_0x413900(0x22d)](_0x109c5e):_0x109c5e,_0xbf93b=_0x1e59b1+':\x20'+_0x3f588e;throw this['logger'][_0x413900(0x4b9)](this[_0x413900(0x488)]+'\x20('+this[_0x413900(0x194)][_0x413900(0x2ab)]+_0x413900(0x21e)+_0xbf93b),new m(_0xbf93b);}}['reorderMessages'](_0x2f7f35){const _0x18f33f=a0_0x7b141d;_0x2f7f35['sort']((_0x4a71bb,_0x2eacce)=>_0x4a71bb[_0x18f33f(0x2d4)]-_0x2eacce['order']),_0x2f7f35[_0x18f33f(0x677)]((_0x1941fd,_0x1a04e9)=>{const _0x4a3c67=_0x18f33f;_0x1941fd[_0x4a3c67(0x2d4)]=_0x1a04e9+0x1;});}async[a0_0x7b141d(0x84a)](_0x5a2c6a,_0x239c75){const _0x427f83=a0_0x7b141d;try{if(!_0x239c75)return this[_0x427f83(0x222)][_0x427f83(0x4b9)](this['instanceName']+'\x20('+this['instance'][_0x427f83(0x2ab)]+_0x427f83(0x405)),{'error':!0x0,'detail':_0x427f83(0x281)};if(_0x239c75[_0x427f83(0x7ef)]===_0x427f83(0x4b6)&&!this[_0x427f83(0x75a)]?.[_0x427f83(0x29b)]['enabled'])return this[_0x427f83(0x222)][_0x427f83(0x4b9)](this[_0x427f83(0x488)]+'\x20('+this['instance'][_0x427f83(0x2ab)]+_0x427f83(0x506)),{'error':!0x0,'detail':'Fluxos\x20não\x20estão\x20ativados'};switch(_0x239c75[_0x427f83(0x7ef)]){case'text':return await this[_0x427f83(0x245)](_0x239c75,_0x5a2c6a);case _0x427f83(0x2a5):case _0x427f83(0x24a):case'document':return await this[_0x427f83(0x655)](_0x239c75,_0x5a2c6a);case'audio':return await this[_0x427f83(0x58c)](_0x239c75,_0x5a2c6a);case _0x427f83(0x4b6):let _0x38f3bc=new We();return _0x38f3bc[_0x427f83(0x3f5)]=_0x239c75['flow'],_0x38f3bc[_0x427f83(0x230)]=_0x5a2c6a,await this[_0x427f83(0x23a)](_0x38f3bc);default:return this[_0x427f83(0x222)]['error'](this[_0x427f83(0x488)]+'\x20('+this[_0x427f83(0x194)][_0x427f83(0x2ab)]+_0x427f83(0x72a)+_0x239c75[_0x427f83(0x7ef)]),{'error':!0x0,'detail':_0x427f83(0x3b6)};}}catch(_0x3bf666){return this[_0x427f83(0x222)][_0x427f83(0x4b9)](this[_0x427f83(0x488)]+'\x20('+this[_0x427f83(0x194)][_0x427f83(0x2ab)]+_0x427f83(0x21b)+(_0x3bf666 instanceof Error?_0x3bf666['message']:JSON[_0x427f83(0x22d)](_0x3bf666,null,0x2))),{'error':!0x0,'detail':_0x3bf666[_0x427f83(0x1f9)]};}}async[a0_0x7b141d(0x245)](_0x173aa1,_0x54eade){const _0x4e82ea=a0_0x7b141d;if(this[_0x4e82ea(0x222)]['verbose'](this['instanceName']+'\x20('+this[_0x4e82ea(0x194)][_0x4e82ea(0x2ab)]+_0x4e82ea(0x704)+_0x54eade+'\x27'),!_0x173aa1[_0x4e82ea(0x2f3)]||_0x173aa1[_0x4e82ea(0x2f3)][_0x4e82ea(0x675)]===0x0)return{'error':!0x0,'detail':'sem\x20texto\x20na\x20mensagem'};let _0x37f255=await this[_0x4e82ea(0x73a)](_0x173aa1['text'],_0x54eade),_0x35ee14={'number':_0x54eade,'options':{'delay':_0x173aa1[_0x4e82ea(0x360)],'linkPreview':_0x173aa1[_0x4e82ea(0x86a)]},'textMessage':{'text':_0x37f255}},_0x5c4ff1=null;try{let _0x1eb99b=await this[_0x4e82ea(0x155)](_0x35ee14);if(_0x1eb99b&&_0x1eb99b[_0x4e82ea(0x756)])return{'error':!0x1,'id':_0x1eb99b[_0x4e82ea(0x69b)]['id']};_0x5c4ff1=JSON[_0x4e82ea(0x22d)](_0x1eb99b),this[_0x4e82ea(0x222)][_0x4e82ea(0x8c4)](this[_0x4e82ea(0x488)]+'\x20('+this[_0x4e82ea(0x194)][_0x4e82ea(0x2ab)]+'):\x20'+_0x5c4ff1);}catch(_0x216941){this['logger']['error'](this[_0x4e82ea(0x488)]+'\x20('+this[_0x4e82ea(0x194)][_0x4e82ea(0x2ab)]+_0x4e82ea(0x27c)+(_0x216941 instanceof Error?_0x216941[_0x4e82ea(0x1f9)]:JSON[_0x4e82ea(0x22d)](_0x216941,null,0x2))),_0x5c4ff1=_0x216941['message'];}if(_0x5c4ff1)return{'error':!0x0,'detail':(typeof _0x5c4ff1==_0x4e82ea(0x5ec)?JSON[_0x4e82ea(0x22d)](_0x5c4ff1,null,0x2):_0x5c4ff1)['replace'](/[\[\]{}\n]/g,'\x20')[_0x4e82ea(0x563)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x2da5c0,_0x44fa36){const _0x2ddc8a=a0_0x7b141d;this[_0x2ddc8a(0x222)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x2ddc8a(0x2ab)]+_0x2ddc8a(0x2b0)+_0x44fa36+'\x27');let _0x36c6d2;_0x2da5c0['text']&&_0x2da5c0[_0x2ddc8a(0x2f3)][_0x2ddc8a(0x675)]>0x0&&(_0x36c6d2=await this[_0x2ddc8a(0x73a)](_0x2da5c0[_0x2ddc8a(0x2f3)],_0x44fa36));let _0x39c952={'number':_0x44fa36,'options':{'delay':_0x2da5c0[_0x2ddc8a(0x360)],'linkPreview':_0x2da5c0[_0x2ddc8a(0x86a)]},'mediaMessage':{'mediatype':_0x2da5c0[_0x2ddc8a(0x7ef)],'caption':_0x36c6d2,'media':_0x2da5c0[_0x2ddc8a(0x721)]}},_0x44a5e4=null;try{let _0x1a2488=await this['mediaMessage'](_0x39c952);if(_0x1a2488&&_0x1a2488[_0x2ddc8a(0x756)])return{'error':!0x1,'id':_0x1a2488[_0x2ddc8a(0x69b)]['id']};_0x44a5e4=JSON['stringify'](_0x1a2488),this['logger'][_0x2ddc8a(0x8c4)](this[_0x2ddc8a(0x488)]+'\x20('+this[_0x2ddc8a(0x194)]['wuid']+_0x2ddc8a(0x21e)+_0x44a5e4);}catch(_0x1b4e8f){this[_0x2ddc8a(0x222)][_0x2ddc8a(0x4b9)](this[_0x2ddc8a(0x488)]+'\x20('+this['instance']['wuid']+_0x2ddc8a(0x555)+(_0x1b4e8f instanceof Error?_0x1b4e8f[_0x2ddc8a(0x1f9)]:JSON[_0x2ddc8a(0x22d)](_0x1b4e8f,null,0x2))),_0x44a5e4=_0x1b4e8f[_0x2ddc8a(0x1f9)];}if(_0x44a5e4)return{'error':!0x0,'detail':(typeof _0x44a5e4==_0x2ddc8a(0x5ec)?JSON[_0x2ddc8a(0x22d)](_0x44a5e4,null,0x2):_0x44a5e4)[_0x2ddc8a(0x563)](/[\[\]{}\n]/g,'\x20')[_0x2ddc8a(0x563)](/  +/g,'\x20')};}async[a0_0x7b141d(0x58c)](_0x59b461,_0x259e3c){const _0x2a0270=a0_0x7b141d;this[_0x2a0270(0x222)][_0x2a0270(0x8c4)](this['instanceName']+'\x20('+this[_0x2a0270(0x194)][_0x2a0270(0x2ab)]+_0x2a0270(0x1c8)+_0x259e3c+'\x27');let _0xec7f2b={'number':_0x259e3c,'options':{'delay':_0x59b461[_0x2a0270(0x360)]},'audioMessage':{'audio':_0x59b461['urlOrBase64']}},_0x2aa57e=null;try{let _0x3c3bf0=await this['audioWhatsapp'](_0xec7f2b);if(_0x3c3bf0&&_0x3c3bf0[_0x2a0270(0x756)])return{'error':!0x1,'id':_0x3c3bf0[_0x2a0270(0x69b)]['id']};_0x2aa57e=JSON[_0x2a0270(0x22d)](_0x3c3bf0),this[_0x2a0270(0x222)][_0x2a0270(0x8c4)](this[_0x2a0270(0x488)]+'\x20('+this[_0x2a0270(0x194)][_0x2a0270(0x2ab)]+_0x2a0270(0x21e)+_0x2aa57e);}catch(_0x4c5d23){this[_0x2a0270(0x222)][_0x2a0270(0x4b9)](this['instanceName']+'\x20('+this[_0x2a0270(0x194)][_0x2a0270(0x2ab)]+_0x2a0270(0x2ef)+(_0x4c5d23 instanceof Error?_0x4c5d23[_0x2a0270(0x1f9)]:JSON[_0x2a0270(0x22d)](_0x4c5d23,null,0x2))),_0x2aa57e=_0x4c5d23['message'];}if(_0x2aa57e)return{'error':!0x0,'detail':(typeof _0x2aa57e=='object'?JSON[_0x2a0270(0x22d)](_0x2aa57e,null,0x2):_0x2aa57e)[_0x2a0270(0x563)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x7b141d(0x238)](_0x57d95a){const _0x43eb23=a0_0x7b141d;try{return await this[_0x43eb23(0x523)][_0x43eb23(0x55d)](_0x57d95a[_0x43eb23(0x219)],_0x57d95a['description']),{'update':_0x43eb23(0x161)};}catch(_0xeb824f){let _0x20dbc2=_0x43eb23(0x8ad),_0x5e8141=_0xeb824f instanceof Error?_0xeb824f[_0x43eb23(0x1f9)]:typeof _0xeb824f=='object'?JSON[_0x43eb23(0x22d)](_0xeb824f):_0xeb824f,_0x2d6b93=_0x20dbc2+':\x20'+_0x5e8141;throw this[_0x43eb23(0x222)][_0x43eb23(0x4b9)](this[_0x43eb23(0x488)]+'\x20('+this[_0x43eb23(0x194)][_0x43eb23(0x2ab)]+_0x43eb23(0x21e)+_0x2d6b93),new x(_0x2d6b93);}}async[a0_0x7b141d(0x3f7)](_0x423263){const _0x407fbb=a0_0x7b141d;try{return await this[_0x407fbb(0x523)][_0x407fbb(0x5f1)](_0x423263[_0x407fbb(0x219)],_0x423263[_0x407fbb(0x3f5)]),{'update':'success'};}catch(_0x4eb24b){let _0x19481a=_0x407fbb(0x2e4),_0x1405be=_0x4eb24b instanceof Error?_0x4eb24b[_0x407fbb(0x1f9)]:typeof _0x4eb24b==_0x407fbb(0x5ec)?JSON[_0x407fbb(0x22d)](_0x4eb24b):_0x4eb24b,_0x281be0=_0x19481a+':\x20'+_0x1405be;throw this[_0x407fbb(0x222)]['error'](this[_0x407fbb(0x488)]+'\x20('+this[_0x407fbb(0x194)][_0x407fbb(0x2ab)]+_0x407fbb(0x21e)+_0x281be0),new x(_0x281be0);}}async[a0_0x7b141d(0x306)](_0x223aef){const _0x4fead8=a0_0x7b141d;try{let _0x12661d=await this[_0x4fead8(0x523)][_0x4fead8(0x66a)](_0x223aef[_0x4fead8(0x219)],_0x223aef[_0x4fead8(0x665)]);return{'success':!0x0};}catch(_0x559878){let _0x8b6d85='Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral',_0x217fa4=_0x559878 instanceof Error?_0x559878[_0x4fead8(0x1f9)]:typeof _0x559878==_0x4fead8(0x5ec)?JSON[_0x4fead8(0x22d)](_0x559878):_0x559878,_0x372428=_0x8b6d85+':\x20'+_0x217fa4;throw this[_0x4fead8(0x222)][_0x4fead8(0x4b9)](this[_0x4fead8(0x488)]+'\x20('+this[_0x4fead8(0x194)][_0x4fead8(0x2ab)]+_0x4fead8(0x21e)+_0x372428),new x(_0x372428);}}async[a0_0x7b141d(0x7fa)](_0x4d17ca){const _0x3b79db=a0_0x7b141d;try{return await this[_0x3b79db(0x523)][_0x3b79db(0x30b)](_0x4d17ca['groupJid'],_0x4d17ca['setting']),{'update':_0x3b79db(0x161)};}catch(_0x1a0f3c){let _0x237a0b=_0x3b79db(0x805),_0x4a5b33=_0x1a0f3c instanceof Error?_0x1a0f3c[_0x3b79db(0x1f9)]:typeof _0x1a0f3c=='object'?JSON[_0x3b79db(0x22d)](_0x1a0f3c):_0x1a0f3c,_0x2f432a=_0x237a0b+':\x20'+_0x4a5b33;throw this[_0x3b79db(0x222)][_0x3b79db(0x4b9)](this['instanceName']+'\x20('+this[_0x3b79db(0x194)]['wuid']+'):\x20'+_0x2f432a),new x(_0x2f432a);}}async[a0_0x7b141d(0x234)](_0x570ce5){const _0x2c2e47=a0_0x7b141d;try{let _0x43ad03;if((0x0,J[_0x2c2e47(0x1e8)])(_0x570ce5['image'])){let _0x9e74ce=new Date()['getTime'](),_0x4eee74=_0x570ce5[_0x2c2e47(0x24a)]+'?timestamp='+_0x9e74ce;_0x43ad03=(await Q[_0x2c2e47(0x2cf)][_0x2c2e47(0x6c9)](_0x4eee74,{'responseType':'arraybuffer'}))['data'];}else{if((0x0,J[_0x2c2e47(0x40d)])(_0x570ce5[_0x2c2e47(0x24a)]))_0x43ad03=Buffer['from'](_0x570ce5[_0x2c2e47(0x24a)],_0x2c2e47(0x1de));else throw new m(_0x2c2e47(0x792));}return await this['client'][_0x2c2e47(0x432)](_0x570ce5[_0x2c2e47(0x219)],_0x43ad03),{'update':'success'};}catch(_0x103158){let _0x7f71a=_0x2c2e47(0x763),_0x15ef3b=_0x103158 instanceof Error?_0x103158[_0x2c2e47(0x1f9)]:typeof _0x103158=='object'?JSON[_0x2c2e47(0x22d)](_0x103158):_0x103158,_0x71630a=_0x7f71a+':\x20'+_0x15ef3b;throw this[_0x2c2e47(0x222)][_0x2c2e47(0x4b9)](this[_0x2c2e47(0x488)]+'\x20('+this['instance'][_0x2c2e47(0x2ab)]+_0x2c2e47(0x21e)+_0x71630a),new x(_0x71630a);}}},jt=class u{constructor(_0x3de365,_0x4215fc,_0x195361){const _0x1d399e=a0_0x7b141d;this[_0x1d399e(0x43f)]=_0x3de365,this['configService']=_0x4215fc,this[_0x1d399e(0x60c)]=_0x195361,this['db']={},this[_0x1d399e(0x4b8)]={},this[_0x1d399e(0x222)]=new $(u[_0x1d399e(0x3f5)]),this[_0x1d399e(0x543)]={},(this[_0x1d399e(0x1ff)](),this[_0x1d399e(0x3d2)](),Object[_0x1d399e(0x6ef)](this['db'],_0x4215fc[_0x1d399e(0x6c9)]('DATABASE')),Object[_0x1d399e(0x6ef)](this[_0x1d399e(0x4b8)],_0x4215fc[_0x1d399e(0x6c9)](_0x1d399e(0x62f))),this['dbInstance']=this['db']['ENABLED']?this['repository'][_0x1d399e(0x3bd)]?.['db'](this['db'][_0x1d399e(0x3bf)][_0x1d399e(0x212)]+_0x1d399e(0x3a3)):void 0x0,this[_0x1d399e(0x2e0)]=this[_0x1d399e(0x4b8)][_0x1d399e(0x16f)]?new pe(this[_0x1d399e(0x4b8)]):void 0x0);}async[a0_0x7b141d(0x3cd)](_0x4f6434){const _0x2f0c60=a0_0x7b141d;if(_0x4f6434&&!this['waInstances'][_0x4f6434])throw new U(_0x2f0c60(0x443)+_0x4f6434+_0x2f0c60(0x301));let _0x498ca1=[];for await(let [_0x1169d8,_0x5509b8]of Object['entries'](this[_0x2f0c60(0x543)]))if(_0x5509b8&&_0x5509b8[_0x2f0c60(0x24c)][_0x2f0c60(0x601)]===_0x2f0c60(0x551)){let _0x187a76=await this[_0x2f0c60(0x60c)]['auth']['find'](_0x1169d8);_0x498ca1['push']({'instance':{'instanceName':_0x1169d8,'apikey':_0x187a76['apikey'],'owner':_0x5509b8[_0x2f0c60(0x2ab)],'profileName':await _0x5509b8[_0x2f0c60(0x3c1)]()||_0x2f0c60(0x647),'profilePictureUrl':_0x5509b8[_0x2f0c60(0x73d)]}});}return _0x498ca1['find'](_0x4333e9=>_0x4333e9[_0x2f0c60(0x194)][_0x2f0c60(0x488)]===_0x4f6434)??_0x498ca1;}async[a0_0x7b141d(0x2be)](_0x2a5796){const _0x17aad1=a0_0x7b141d;if(this['db'][_0x17aad1(0x16f)]&&(await this[_0x17aad1(0x60c)][_0x17aad1(0x3bd)][_0x17aad1(0x84b)](),(await this['dbInstance'][_0x17aad1(0x344)]())['length']>0x0&&await this[_0x17aad1(0x323)][_0x17aad1(0x578)](_0x2a5796)),this[_0x17aad1(0x4b8)][_0x17aad1(0x16f)]){this[_0x17aad1(0x2e0)][_0x17aad1(0x3c0)]=_0x2a5796,await this['cache']['delAll']();return;}}async[a0_0x7b141d(0x269)](){const _0x516b7e=a0_0x7b141d;await this[_0x516b7e(0x8a3)]();let _0x28dcd9=async _0x1149ac=>{const _0x4933d0=_0x516b7e;let _0x25c8fe=new $e(this[_0x4933d0(0x695)],this[_0x4933d0(0x43f)],this[_0x4933d0(0x60c)]);_0x25c8fe[_0x4933d0(0x488)]=_0x1149ac,await _0x25c8fe['connectToWhatsapp'](),this[_0x4933d0(0x543)][_0x1149ac]=_0x25c8fe;};try{if(this[_0x516b7e(0x4b8)][_0x516b7e(0x16f)]){let _0x53a9b3=await this[_0x516b7e(0x2e0)][_0x516b7e(0x7ea)]();_0x53a9b3?.[_0x516b7e(0x675)]>0x0&&_0x53a9b3['forEach'](async _0x1ac952=>await _0x28dcd9(_0x1ac952[_0x516b7e(0x20d)](':')[0x1]));return;}if(this['db'][_0x516b7e(0x16f)]){await this[_0x516b7e(0x60c)][_0x516b7e(0x3bd)][_0x516b7e(0x84b)]();let _0x146ed7=await this['dbInstance'][_0x516b7e(0x344)]();_0x146ed7['length']>0x0&&_0x146ed7[_0x516b7e(0x677)](async _0x2d2500=>await _0x28dcd9(_0x2d2500[_0x516b7e(0x68a)][_0x516b7e(0x563)](/^[\w-]+\./,'')));return;}}catch(_0x168f1d){this[_0x516b7e(0x222)]['error'](_0x168f1d);}}async['cleanDisconnectedInstances'](){const _0x57064d=a0_0x7b141d;try{let _0x1cc070=await this[_0x57064d(0x60c)][_0x57064d(0x83a)][_0x57064d(0x8a6)]({'online':!0x1});for(let _0x5bca1f of _0x1cc070){let _0x235b96=_0x5bca1f[_0x57064d(0x39f)];await ae['removeIPv6ById'](B,_0x235b96);}console[_0x57064d(0x54c)](_0x57064d(0x83b)+_0x1cc070[_0x57064d(0x675)]);let _0x13d07a={'online':!0x1},_0x140dc0=await this[_0x57064d(0x60c)][_0x57064d(0x83a)][_0x57064d(0x76e)](_0x13d07a);console[_0x57064d(0x54c)](_0x57064d(0x19c)+_0x140dc0[_0x57064d(0x297)]);}catch(_0x5aeec3){console[_0x57064d(0x4b9)](_0x57064d(0x43c),_0x5aeec3);}}async[a0_0x7b141d(0x8a3)](){const _0x4f63ea=a0_0x7b141d;try{let _0x40a280={'online':!0x1},_0x26f73a={'online':!0x1,'lastDisconnect':Date[_0x4f63ea(0x849)]()},_0x7901b4=await this[_0x4f63ea(0x60c)][_0x4f63ea(0x83a)][_0x4f63ea(0x1a3)](_0x40a280,_0x26f73a);await this[_0x4f63ea(0x6de)]();}catch(_0x5c576f){console[_0x4f63ea(0x4b9)](_0x4f63ea(0x576),_0x5c576f);}}[a0_0x7b141d(0x1ff)](){const _0xd6bd30=a0_0x7b141d;this[_0xd6bd30(0x43f)]['on'](_0xd6bd30(0x7b6),async _0x21aa27=>{const _0x44ee8d=_0xd6bd30;try{this['waInstances'][_0x21aa27]=void 0x0;}catch{}try{this[_0x44ee8d(0x2be)](_0x21aa27);}finally{this['logger'][_0x44ee8d(0x38b)](_0x44ee8d(0x443)+_0x21aa27+_0x44ee8d(0x6d5));}});}[a0_0x7b141d(0x3d2)](){const _0x4f4011=a0_0x7b141d;this['eventEmitter']['on'](_0x4f4011(0x4c2),async _0x472e8f=>{const _0x596aeb=_0x4f4011;try{this[_0x596aeb(0x543)][_0x472e8f]=void 0x0;}catch{}try{this[_0x596aeb(0x2be)](_0x472e8f);}finally{this[_0x596aeb(0x222)][_0x596aeb(0x38b)](_0x596aeb(0x443)+_0x472e8f+_0x596aeb(0x15e));}});}},Jt=class extends _{['getChatModelForOwner'](_0x210a45){return ta(_0x210a45);}async['insert'](_0x1308d6){const _0x15f967=a0_0x7b141d;if(_0x1308d6[_0x15f967(0x675)]!==0x0)try{return{'insertCount':(await this[_0x15f967(0x383)](_0x1308d6[0x0][_0x15f967(0x52f)])[_0x15f967(0x7bb)]([..._0x1308d6]))['length']};}catch(_0x599c5a){return _0x599c5a;}}async[a0_0x7b141d(0x61f)](_0xfd5c05,_0x3db1ae){const _0x20e78a=a0_0x7b141d;try{let _0x28c6c7=this[_0x20e78a(0x383)](_0x3db1ae),_0x32bd34=A(_0xfd5c05[_0x20e78a(0x864)]);return await _0x28c6c7[_0x20e78a(0x61f)](_0x32bd34)[_0x20e78a(0x6c8)]({'lastmsg':-0x1})[_0x20e78a(0x4e7)](_0xfd5c05?.[_0x20e78a(0x4e7)]??0x0)['lean']();}catch{return[];}}async['findGroupsEspecial'](_0x39c9ec,_0x5d56f1){const _0x197f77=a0_0x7b141d;try{let _0x24edfd=this[_0x197f77(0x383)](_0x5d56f1),_0x2d1a0b=A(_0x39c9ec['where']);return _0x2d1a0b[_0x197f77(0x61c)]={'$ne':[]},await _0x24edfd[_0x197f77(0x61f)](_0x2d1a0b)[_0x197f77(0x6c8)]({'lastmsg':-0x1})['limit'](_0x39c9ec?.[_0x197f77(0x4e7)]??0x0)['lean']();}catch{return[];}}async['delete'](_0x188fba,_0x4412ae){const _0x13d9de=a0_0x7b141d;try{return{'deletedCount':(await this[_0x13d9de(0x383)](_0x4412ae)[_0x13d9de(0x76e)]({..._0x188fba['where']}))['deletedCount']};}catch(_0x57ba2a){return{'error':_0x57ba2a?.[_0x13d9de(0x7b0)]()};}}async[a0_0x7b141d(0x2df)](_0x4c9dd0,_0x1ab39c){const _0x2b0130=a0_0x7b141d;try{return await this[_0x2b0130(0x383)](_0x1ab39c)[_0x2b0130(0x76e)]({..._0x4c9dd0[_0x2b0130(0x864)]}),[];}catch(_0x50e54c){return{'error':_0x50e54c?.[_0x2b0130(0x7b0)]()};}}async['findOne'](_0x25a6e0,_0x860f42){const _0x53d34a=a0_0x7b141d;try{let _0x514e18=this[_0x53d34a(0x383)](_0x860f42),_0x44fb96=A(_0x25a6e0['where']);return await _0x514e18[_0x53d34a(0x89d)](_0x44fb96)['lean']();}catch{return null;}}async['updateOne'](_0x3395b8,_0x356ea0,_0x4c7913,_0x374f79,_0xb93fec='$set'){const _0x5390f5=a0_0x7b141d;try{let _0x4dc97d={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x374f79},_0x3cf32=this[_0x5390f5(0x383)](_0x4c7913),_0xec1cc0=A(_0x3395b8['where']);Object[_0x5390f5(0x679)](_0x356ea0)[_0x5390f5(0x677)](_0xa55fb2=>{_0x356ea0[_0xa55fb2]==null&&delete _0x356ea0[_0xa55fb2];});let _0x53eb8c={};return _0x53eb8c[_0xb93fec]=_0x356ea0,await _0x3cf32[_0x5390f5(0x7c3)](_0xec1cc0,_0x53eb8c,_0x4dc97d);}catch(_0x46da86){return console[_0x5390f5(0x4b9)](_0x46da86),null;}}async[a0_0x7b141d(0x427)](_0x200bd1){const _0x5a5d7b=a0_0x7b141d;try{let _0x168f05=this[_0x5a5d7b(0x383)](_0x200bd1[0x0][_0x5a5d7b(0x47e)][_0x5a5d7b(0x864)][_0x5a5d7b(0x52f)]),_0xd8c84d=_0x200bd1[_0x5a5d7b(0x62e)](_0x4d0e4c=>({'updateOne':{'filter':{..._0x4d0e4c['query'][_0x5a5d7b(0x864)]},'update':{'$set':_0x4d0e4c[_0x5a5d7b(0x889)]},'upsert':!0x0}})),_0x16a8d7=await _0x168f05[_0x5a5d7b(0x2d0)](_0xd8c84d);return _0x16a8d7[_0x5a5d7b(0x88b)]+_0x16a8d7[_0x5a5d7b(0x2bc)];}catch(_0x1f4096){return console[_0x5a5d7b(0x4b9)](_0x1f4096),0x0;}}async[a0_0x7b141d(0x85b)](_0x1ef05c){const _0x16f70f=a0_0x7b141d;try{let _0x1ada44={'group_isCommunity':'','group_announce':'','group_size':''},_0x12c709={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x5785d3={'$unset':_0x1ada44};return(await this[_0x16f70f(0x383)](_0x1ef05c)[_0x16f70f(0x427)](_0x12c709,_0x5785d3))[_0x16f70f(0x88b)];}catch(_0x3e911e){return console[_0x16f70f(0x4b9)]('Error\x20removing\x20unused\x20chat\x20fields:',_0x3e911e),0x0;}}async[a0_0x7b141d(0x6b5)](_0x569a01){const _0x93e2b2=a0_0x7b141d;try{let _0xde4674=this[_0x93e2b2(0x383)](_0x569a01),_0x46552f={'leadInfo.etiquetas':{'$exists':!0x1}},_0x504e58={'$set':{'leadInfo.etiquetas':[]}};return(await _0xde4674[_0x93e2b2(0x427)](_0x46552f,_0x504e58))[_0x93e2b2(0x88b)];}catch(_0x38cc47){return console['error'](_0x38cc47),0x0;}}async[a0_0x7b141d(0x1b4)](_0x5e0fb9){const _0xfd0cb9=a0_0x7b141d;try{let _0x12b12d=this[_0xfd0cb9(0x383)](_0x5e0fb9),_0x440cf8={'leadInfo.tags':{'$exists':!0x1}},_0x22aa4d={'$set':{'leadInfo.tags':[]}};return(await _0x12b12d[_0xfd0cb9(0x427)](_0x440cf8,_0x22aa4d))[_0xfd0cb9(0x88b)];}catch(_0x2da0d4){return console[_0xfd0cb9(0x4b9)](_0x2da0d4),0x0;}}async[a0_0x7b141d(0x54d)](_0x5545bf){const _0xeb28f9=a0_0x7b141d;try{let _0x3f42f6=this['getChatModelForOwner'](_0x5545bf),_0x1b21ac={'leadInfo.customFields':{'$exists':!0x1}},_0x303dcc={'$set':{'leadInfo.customFields':[]}};return(await _0x3f42f6[_0xeb28f9(0x427)](_0x1b21ac,_0x303dcc))[_0xeb28f9(0x88b)];}catch(_0x361f8c){return console[_0xeb28f9(0x4b9)](_0x361f8c),0x0;}}async[a0_0x7b141d(0x7bb)](_0x4b6af5,_0x174ecb){const _0x48453a=a0_0x7b141d;if(!Array['isArray'](_0x4b6af5)||_0x4b6af5[_0x48453a(0x675)]===0x0)throw new Error(_0x48453a(0x3a6));try{return(await this[_0x48453a(0x383)](_0x174ecb)[_0x48453a(0x7bb)](_0x4b6af5))[_0x48453a(0x675)];}catch(_0x4e1216){throw console[_0x48453a(0x4b9)](_0x48453a(0x46c),_0x4e1216),_0x4e1216;}}async[a0_0x7b141d(0x857)](_0x10ed02,_0x4bc108){const _0x4a16f9=a0_0x7b141d;try{await this['getChatModelForOwner'](_0x4bc108)[_0x4a16f9(0x631)]({'_id':_0x10ed02});}catch(_0x167277){throw console[_0x4a16f9(0x4b9)](_0x4a16f9(0x404),_0x167277),_0x167277;}}},qt=class extends _{constructor(_0x96b624,_0xfddff4,_0x2960b3){const _0x3cbc98=a0_0x7b141d;super(_0xfddff4),this[_0x3cbc98(0x1a1)]=_0x96b624,this[_0x3cbc98(0x695)]=_0xfddff4,this[_0x3cbc98(0x2dd)]=_0x2960b3;}async[a0_0x7b141d(0x775)](_0x1a1e46){const _0x4be8d9=a0_0x7b141d;if(_0x1a1e46['length']!==0x0)try{return{'insertCount':(await this[_0x4be8d9(0x1a1)][_0x4be8d9(0x7bb)]([..._0x1a1e46]))['length']};}catch(_0x53d373){return _0x53d373;}}async[a0_0x7b141d(0x889)](_0x455123,_0x398701){const _0x3a7bd3=a0_0x7b141d;try{let _0x2090d2=A(_0x455123[_0x3a7bd3(0x864)]);return{'updatedCount':(await this[_0x3a7bd3(0x1a1)]['updateMany'](_0x2090d2,{'$set':_0x398701}))[_0x3a7bd3(0x88b)]};}catch(_0x2f15ab){return console['error'](_0x3a7bd3(0x785),_0x2f15ab),{'error':_0x2f15ab[_0x3a7bd3(0x7b0)]()};}}async[a0_0x7b141d(0x308)](_0x5491d1){const _0x2eb6e8=a0_0x7b141d;try{let _0x4bda08={'_id':{'$in':_0x5491d1}};return await this[_0x2eb6e8(0x1a1)]['find'](_0x4bda08)[_0x2eb6e8(0x350)]();}catch(_0x2e53ca){return console[_0x2eb6e8(0x4b9)](_0x2eb6e8(0x745),_0x2e53ca),[];}}async[a0_0x7b141d(0x59d)](_0x4e0dde){const _0x47f392=a0_0x7b141d;try{return{'deletedCount':(await this[_0x47f392(0x1a1)][_0x47f392(0x76e)]({..._0x4e0dde[_0x47f392(0x864)]}))['deletedCount']};}catch(_0x5b59b1){return{'error':_0x5b59b1?.[_0x47f392(0x7b0)]()};}}async[a0_0x7b141d(0x61f)](_0x4dda6f){const _0x7b8daf=a0_0x7b141d;try{let _0x19774b=A(_0x4dda6f[_0x7b8daf(0x864)]);return await this[_0x7b8daf(0x1a1)][_0x7b8daf(0x61f)](_0x19774b)[_0x7b8daf(0x4e7)](_0x4dda6f?.[_0x7b8daf(0x4e7)]??0x0)['lean']();}catch{return[];}}async['findOne'](_0x3fd3cd){const _0x53fca8=a0_0x7b141d;try{let _0x5641c4=A(_0x3fd3cd[_0x53fca8(0x864)]);return await this[_0x53fca8(0x1a1)][_0x53fca8(0x89d)](_0x5641c4)[_0x53fca8(0x350)]();}catch{return null;}}},Vt=class extends _{constructor(_0x5f2b1f,_0x5e4639,_0x207866){const _0x1fd982=a0_0x7b141d;super(_0x5e4639),this[_0x1fd982(0x4ba)]=_0x5f2b1f,this[_0x1fd982(0x695)]=_0x5e4639,this['dbConnection']=_0x207866;}async[a0_0x7b141d(0x775)](_0x4d3029){const _0x46edcb=a0_0x7b141d;if(_0x4d3029['length']!==0x0)try{return{'insertCount':(await this[_0x46edcb(0x4ba)]['insertMany']([..._0x4d3029]))[_0x46edcb(0x675)]};}catch(_0x1dbe0f){return _0x1dbe0f;}}async[a0_0x7b141d(0x889)](_0xcfcc3b,_0x52e94f){const _0x2a1833=a0_0x7b141d;try{let _0x196508=A(_0xcfcc3b['where']);return{'updatedCount':(await this[_0x2a1833(0x4ba)][_0x2a1833(0x427)](_0x196508,{'$set':_0x52e94f}))[_0x2a1833(0x88b)]};}catch(_0x2e8023){return console['error'](_0x2a1833(0x785),_0x2e8023),{'error':_0x2e8023[_0x2a1833(0x7b0)]()};}}async[a0_0x7b141d(0x59d)](_0x1aefa1){const _0x392769=a0_0x7b141d;try{return{'deletedCount':(await this[_0x392769(0x4ba)]['deleteMany']({..._0x1aefa1[_0x392769(0x864)]}))[_0x392769(0x75f)]};}catch(_0x494bbd){return{'error':_0x494bbd?.[_0x392769(0x7b0)]()};}}async[a0_0x7b141d(0x89d)](_0x48fb4d){const _0x4dbaa1=a0_0x7b141d;try{let _0x3c4b15=A(_0x48fb4d[_0x4dbaa1(0x864)]);return await this[_0x4dbaa1(0x4ba)][_0x4dbaa1(0x89d)](_0x3c4b15)[_0x4dbaa1(0x350)]();}catch{return null;}}},Gt=class extends _{[a0_0x7b141d(0x3b9)](_0x35d45e){return Ea(_0x35d45e);}async[a0_0x7b141d(0x319)](_0x3af335,_0x26ee97,_0x351eb9,_0x53c71e){const _0x3a9531=a0_0x7b141d;try{let _0x2d5d13={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x53c71e},_0x103be2=this[_0x3a9531(0x3b9)](_0x351eb9),_0x548ef9=A(_0x3af335[_0x3a9531(0x864)]);return await _0x103be2['findOneAndUpdate'](_0x548ef9,{'$set':_0x26ee97},_0x2d5d13);}catch(_0x3fe59e){return console[_0x3a9531(0x4b9)](_0x3fe59e),null;}}async[a0_0x7b141d(0x61f)](_0x893dc,_0x515193){const _0x487c95=a0_0x7b141d;try{let _0x40eac7=this['getLabelModelForOwner'](_0x515193),_0x429d7a=A(_0x893dc[_0x487c95(0x864)]);return await _0x40eac7['find'](_0x429d7a);}catch(_0x44a425){console[_0x487c95(0x4b9)](_0x44a425);}}async[a0_0x7b141d(0x59d)](_0x26944a,_0xd9755d){const _0x2f1e0a=a0_0x7b141d;try{let _0x910e23=this[_0x2f1e0a(0x3b9)](_0xd9755d),_0x94b96d=A(_0x26944a['where']);await _0x910e23['deleteMany'](_0x94b96d);}catch(_0x44ad24){console['error'](_0x44ad24);}}async[a0_0x7b141d(0x2df)](_0x419b38){const _0x4d4a94=a0_0x7b141d;try{return await this['getLabelModelForOwner'](_0x419b38)['collection'][_0x4d4a94(0x278)](),{'success':!0x0};}catch(_0x1262e5){return console['error'](_0x1262e5),{'success':!0x1,'error':_0x1262e5};}}},Bt=class{constructor(_0x4a6733){const _0x1e058e=a0_0x7b141d;this[_0x1e058e(0x550)]=_0x4a6733;}async['editChat']({instanceName:_0x58904d},_0x323e1e){const _0x3e34ed=a0_0x7b141d;return await this[_0x3e34ed(0x550)][_0x3e34ed(0x543)][_0x58904d]['editChat'](_0x323e1e);}async[a0_0x7b141d(0x534)]({instanceName:_0x12bca7},_0x3ed805){const _0x52ae0d=a0_0x7b141d;return await this['waMonitor'][_0x52ae0d(0x543)][_0x12bca7][_0x52ae0d(0x534)](_0x3ed805);}async[a0_0x7b141d(0x823)]({instanceName:_0x53ba0f},_0x34299b){const _0x33c205=a0_0x7b141d;return await this[_0x33c205(0x550)][_0x33c205(0x543)][_0x53ba0f][_0x33c205(0x823)](_0x34299b);}async[a0_0x7b141d(0x7cd)]({instanceName:_0x5265f7},_0x4a938e){const _0x244083=a0_0x7b141d;return await this[_0x244083(0x550)][_0x244083(0x543)][_0x5265f7][_0x244083(0x370)](_0x4a938e);}async[a0_0x7b141d(0x522)]({instanceName:_0x170abf},_0x5d7d18){const _0x3ed799=a0_0x7b141d;return await this[_0x3ed799(0x550)][_0x3ed799(0x543)][_0x170abf][_0x3ed799(0x522)](_0x5d7d18);}async[a0_0x7b141d(0x8c2)]({instanceName:_0x9bf04c},_0x407aa9){const _0x23b8a6=a0_0x7b141d;return await this[_0x23b8a6(0x550)][_0x23b8a6(0x543)][_0x9bf04c][_0x23b8a6(0x8c2)](_0x407aa9);}async['fetchProfilePicture']({instanceName:_0x2fc3a2},_0x27ae6c){const _0xb9d8ab=a0_0x7b141d;return await this[_0xb9d8ab(0x550)]['waInstances'][_0x2fc3a2][_0xb9d8ab(0x505)](_0x27ae6c[_0xb9d8ab(0x291)]);}async[a0_0x7b141d(0x24b)]({instanceName:_0x5cdeef},_0x5829f4){const _0x50bbc6=a0_0x7b141d;return await this[_0x50bbc6(0x550)]['waInstances'][_0x5cdeef][_0x50bbc6(0x24b)](_0x5829f4[_0x50bbc6(0x291)]);}async[a0_0x7b141d(0x6ee)]({instanceName:_0x28c709},_0x50cd7c){const _0x17c8b4=a0_0x7b141d;return await this['waMonitor'][_0x17c8b4(0x543)][_0x28c709]['updatePresence'](_0x50cd7c);}async[a0_0x7b141d(0x7c5)]({instanceName:_0x561d7a},_0x5823aa){const _0x24ec3c=a0_0x7b141d;return await this[_0x24ec3c(0x550)][_0x24ec3c(0x543)][_0x561d7a][_0x24ec3c(0x7c5)](_0x5823aa);}async[a0_0x7b141d(0x569)]({instanceName:_0x95ee29},_0x164b49){const _0x9d06d9=a0_0x7b141d;return await this[_0x9d06d9(0x550)][_0x9d06d9(0x543)][_0x95ee29]['getBase64FromMediaMessage'](_0x164b49);}async['fetchMessages']({instanceName:_0x33b0c8},_0x45e4aa){const _0x1e3b7b=a0_0x7b141d;return await this[_0x1e3b7b(0x550)][_0x1e3b7b(0x543)][_0x33b0c8][_0x1e3b7b(0x1fc)](_0x45e4aa);}async[a0_0x7b141d(0x6d0)]({instanceName:_0x21deaf}){const _0x37e43d=a0_0x7b141d;return await this[_0x37e43d(0x550)][_0x37e43d(0x543)][_0x21deaf][_0x37e43d(0x6d0)]();}async[a0_0x7b141d(0x816)]({instanceName:_0x372020}){const _0x26dee9=a0_0x7b141d;return await this[_0x26dee9(0x550)][_0x26dee9(0x543)][_0x372020][_0x26dee9(0x816)]();}async[a0_0x7b141d(0x8b6)]({instanceName:_0x50331d}){const _0x22f4c8=a0_0x7b141d;return await this[_0x22f4c8(0x550)][_0x22f4c8(0x543)][_0x50331d][_0x22f4c8(0x8b6)]();}async[a0_0x7b141d(0x369)]({instanceName:_0x342f51},_0xfb9bcb){const _0x3ea6de=a0_0x7b141d;return await this[_0x3ea6de(0x550)][_0x3ea6de(0x543)][_0x342f51][_0x3ea6de(0x369)](_0xfb9bcb);}async[a0_0x7b141d(0x2e3)]({instanceName:_0x32efb3},_0x213093){const _0x515160=a0_0x7b141d;return await this['waMonitor'][_0x515160(0x543)][_0x32efb3][_0x515160(0x2e3)](_0x213093[_0x515160(0x291)]);}async[a0_0x7b141d(0x454)]({instanceName:_0x298dac},_0x5099f1){const _0x4f6700=a0_0x7b141d;return await this[_0x4f6700(0x550)][_0x4f6700(0x543)][_0x298dac][_0x4f6700(0x454)](_0x5099f1[_0x4f6700(0x3f5)]);}async['updateProfileStatus']({instanceName:_0x54ceb0},_0x9b199){const _0xc3d034=a0_0x7b141d;return await this[_0xc3d034(0x550)]['waInstances'][_0x54ceb0][_0xc3d034(0x311)](_0x9b199[_0xc3d034(0x756)]);}async[a0_0x7b141d(0x432)]({instanceName:_0x461a63},_0x572082){const _0x45eacd=a0_0x7b141d;return await this[_0x45eacd(0x550)][_0x45eacd(0x543)][_0x461a63][_0x45eacd(0x432)](_0x572082[_0x45eacd(0x599)]);}async[a0_0x7b141d(0x348)]({instanceName:_0x5993a0},_0x351dcb){const _0x4cf17a=a0_0x7b141d;return await this[_0x4cf17a(0x550)][_0x4cf17a(0x543)][_0x5993a0][_0x4cf17a(0x348)]();}},Wt=require(a0_0x7b141d(0x819)),zt=class u{constructor(_0x5a95e8,_0x1a5af0,_0x50d4c3,_0x2e4214,_0x217048){const _0x461d29=a0_0x7b141d;this['waMonitor']=_0x5a95e8,this[_0x461d29(0x695)]=_0x1a5af0,this['repository']=_0x50d4c3,this[_0x461d29(0x43f)]=_0x2e4214,this[_0x461d29(0x46f)]=_0x217048,this[_0x461d29(0x222)]=new $(u[_0x461d29(0x3f5)]);}async['createInstance']({instanceName:_0x437251,apikey:_0x2f1241,number:_0xf3a502,proxy:_0x54a837=!0x0}){const _0x79c759=a0_0x7b141d;try{let _0x31ed7c=new $e(this[_0x79c759(0x695)],this['eventEmitter'],this[_0x79c759(0x60c)]);_0x31ed7c[_0x79c759(0x488)]=_0x437251,this['waMonitor']['waInstances'][_0x31ed7c[_0x79c759(0x488)]]=_0x31ed7c;let _0x156c44={};_0x2f1241?(await this[_0x79c759(0x60c)][_0x79c759(0x83a)][_0x79c759(0x7c2)]({'apikey':_0x2f1241},_0x437251),_0x156c44['apikey']=_0x2f1241):_0x156c44=await this[_0x79c759(0x46f)][_0x79c759(0x59e)]({'instanceName':_0x31ed7c[_0x79c759(0x488)]});let _0xd99bb3;if(_0xf3a502){if(_0xd99bb3=await this[_0x79c759(0x64e)](_0xf3a502),_0xd99bb3['error'])throw new x(_0xd99bb3[_0x79c759(0x4b9)]['toString']());_0xf3a502=_0xd99bb3[_0x79c759(0x291)];}let _0x27421a;return await _0x31ed7c['connectToWhatsapp'](_0xf3a502),await(0x0,Wt[_0x79c759(0x360)])(0xfa0),_0xf3a502&&await(0x0,Wt['delay'])(0xbb8),_0x27421a=_0x31ed7c[_0x79c759(0x2b1)],{'instance':{'instanceName':_0x31ed7c[_0x79c759(0x488)],'status':'created'},'hash':_0x156c44,'qrcode':_0x27421a};}catch(_0x3ad40c){throw this[_0x79c759(0x222)][_0x79c759(0x4b9)](_0x3ad40c),_0x3ad40c;}}async[a0_0x7b141d(0x5f2)]({instanceName:_0x12e4c3,number:_0x257f79=null}){const _0x3cd14d=a0_0x7b141d;try{let _0x1ea8a7=this['waMonitor'][_0x3cd14d(0x543)][_0x12e4c3];switch(_0x1ea8a7?.['connectionStatus']?.[_0x3cd14d(0x601)]){case'close':return await _0x1ea8a7['connectToWhatsapp'](_0x257f79),await(0x0,Wt[_0x3cd14d(0x360)])(0x7d0),_0x1ea8a7[_0x3cd14d(0x2b1)];case _0x3cd14d(0x3ab):return _0x1ea8a7[_0x3cd14d(0x2b1)];default:return await this[_0x3cd14d(0x441)]({'instanceName':_0x12e4c3});}}catch(_0x244864){this[_0x3cd14d(0x222)][_0x3cd14d(0x54c)](_0x244864);}}async[a0_0x7b141d(0x441)]({instanceName:_0x44f59f}){const _0x1ff173=a0_0x7b141d;let _0x1967fe=this['waMonitor'][_0x1ff173(0x543)][_0x44f59f][_0x1ff173(0x24c)],_0x3124d2=null;_0x1967fe[_0x1ff173(0x601)]===_0x1ff173(0x551)&&_0x44f59f&&(_0x3124d2=await this[_0x1ff173(0x550)][_0x1ff173(0x3cd)](_0x44f59f));let _0x572bd3=null;return _0x1967fe[_0x1ff173(0x601)]===_0x1ff173(0x3ab)&&_0x44f59f&&(_0x572bd3=this[_0x1ff173(0x550)][_0x1ff173(0x543)][_0x44f59f]['qrCode']),{'instance':_0x44f59f,'connectionStatus':_0x1967fe,'instanceInfo':_0x3124d2,'qrcode':_0x572bd3};}async[a0_0x7b141d(0x64e)](_0x426cf9){const _0x80dede=a0_0x7b141d;_0x426cf9=_0x426cf9['replace'](/\D/g,'');let _0x4a9280=Object[_0x80dede(0x679)](this[_0x80dede(0x550)][_0x80dede(0x543)])[_0x80dede(0x499)](_0x48fbdf=>{const _0x310a66=_0x80dede;let _0x1ea214=this[_0x310a66(0x550)][_0x310a66(0x543)][_0x48fbdf];return _0x1ea214&&_0x1ea214[_0x310a66(0x24c)]&&_0x1ea214[_0x310a66(0x24c)][_0x310a66(0x601)]===_0x310a66(0x551);});if(_0x4a9280[_0x80dede(0x675)]===0x0)return{'number':this[_0x80dede(0x337)](_0x426cf9)};let _0x461c8a=Math[_0x80dede(0x1ef)](Math[_0x80dede(0x87e)]()*_0x4a9280['length']),_0x3c3285=_0x4a9280[_0x461c8a];try{let _0x4a94e3=(await this[_0x80dede(0x550)]['waInstances'][_0x3c3285]['whatsappNumber']({'numbers':[_0x426cf9]}))[_0x80dede(0x6e3)]();return _0x4a94e3[_0x80dede(0x2a1)]?{'number':_0x4a94e3['jid'][_0x80dede(0x563)](_0x80dede(0x634),'')}:{'number':_0x426cf9,'error':'Número\x20não\x20possui\x20WhatsApp.'};}catch(_0x557692){return this[_0x80dede(0x222)][_0x80dede(0x4b9)](_0x80dede(0x3e5)+_0x557692),{'number':_0x426cf9,'error':'Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.'};}}[a0_0x7b141d(0x337)](_0xb34128){const _0x56e1dd=a0_0x7b141d;let _0x4522f5=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x56e1dd(0x4d4)](_0xb34128);if(_0x4522f5&&_0x4522f5[0x1]==='55'){let _0x1bd230=_0x4522f5[0x2],_0x4136a8=_0x4522f5[0x3],_0x137d5c=_0x4522f5[0x4];if(parseInt(_0x1bd230)>=0x1f&&_0x4136a8==='9')return _0x4522f5[0x1]+_0x1bd230+_0x137d5c;}return _0xb34128;}async[a0_0x7b141d(0x487)]({instanceName:_0x3c0cd4}){const _0xbcf6bd=a0_0x7b141d;try{return this[_0xbcf6bd(0x550)][_0xbcf6bd(0x543)][_0x3c0cd4]?.[_0xbcf6bd(0x523)]?.['ws']?.[_0xbcf6bd(0x461)](),{'status':_0xbcf6bd(0x3be),'error':!0x1,'response':{'message':_0xbcf6bd(0x512)}};}catch(_0xf3c84a){this[_0xbcf6bd(0x222)]['error'](_0xf3c84a);}}async['fetchInstances']({instanceName:_0x276bb2}){const _0x14ee77=a0_0x7b141d;return _0x276bb2?this[_0x14ee77(0x550)][_0x14ee77(0x3cd)](_0x276bb2):this[_0x14ee77(0x550)][_0x14ee77(0x3cd)]();}async[a0_0x7b141d(0x894)]({instanceName:_0x199737}){const _0x5d9e59=a0_0x7b141d;try{return await this[_0x5d9e59(0x550)][_0x5d9e59(0x543)][_0x199737]?.[_0x5d9e59(0x523)]?.[_0x5d9e59(0x894)](_0x5d9e59(0x5be)+_0x199737),{'error':!0x1,'message':_0x5d9e59(0x802)};}catch(_0x123b9c){throw new x(_0x123b9c[_0x5d9e59(0x7b0)]());}}async['deleteInstance']({instanceName:_0xee8057}){const _0x158a8f=a0_0x7b141d;if((await this['connectionState']({'instanceName':_0xee8057}))[_0x158a8f(0x24c)]['state']===_0x158a8f(0x551))throw new m([_0x158a8f(0x403),_0x158a8f(0x7f8)]);try{return delete this[_0x158a8f(0x550)][_0x158a8f(0x543)][_0xee8057],{'error':!0x1,'message':_0x158a8f(0x35e)};}catch(_0x48d94d){throw new m(_0x48d94d['toString']());}}},ce=require(a0_0x7b141d(0x514)),Ht=class{constructor(_0x25a43b){this['waMonitor']=_0x25a43b;}async[a0_0x7b141d(0x33f)]({instanceName:_0x2e8d9b},_0x589832){const _0x3adba8=a0_0x7b141d;return await this[_0x3adba8(0x550)][_0x3adba8(0x543)][_0x2e8d9b][_0x3adba8(0x155)](_0x589832);}async[a0_0x7b141d(0x70b)]({instanceName:_0x5506e2},_0x5c25ee){const _0x4229e0=a0_0x7b141d;return await this[_0x4229e0(0x550)][_0x4229e0(0x543)][_0x5506e2][_0x4229e0(0x2ce)](_0x5c25ee);}async[a0_0x7b141d(0x2e2)]({instanceName:_0x1ea56c},_0x32165a){const _0x32550e=a0_0x7b141d;if((0x0,ce[_0x32550e(0x40d)])(_0x32165a?.['mediaMessage']?.[_0x32550e(0x492)])&&!_0x32165a?.[_0x32550e(0x79e)]?.[_0x32550e(0x7ed)])throw new m(_0x32550e(0x73c));if((0x0,ce[_0x32550e(0x1e8)])(_0x32165a?.[_0x32550e(0x79e)]?.[_0x32550e(0x492)])||(0x0,ce[_0x32550e(0x40d)])(_0x32165a?.[_0x32550e(0x79e)]?.[_0x32550e(0x492)]))return await this[_0x32550e(0x550)][_0x32550e(0x543)][_0x1ea56c][_0x32550e(0x79e)](_0x32165a);throw new m(_0x32550e(0x5c9));}async['sendSticker']({instanceName:_0x27b32f},_0x30a409){const _0x14c65e=a0_0x7b141d;if((0x0,ce[_0x14c65e(0x1e8)])(_0x30a409[_0x14c65e(0x53d)]['image'])||(0x0,ce[_0x14c65e(0x40d)])(_0x30a409[_0x14c65e(0x53d)][_0x14c65e(0x24a)]))return await this[_0x14c65e(0x550)][_0x14c65e(0x543)][_0x27b32f][_0x14c65e(0x3e4)](_0x30a409);throw new m(_0x14c65e(0x5c9));}async[a0_0x7b141d(0x1fe)]({instanceName:_0x105218},_0x5942d9){const _0xe9484f=a0_0x7b141d;if((0x0,ce[_0xe9484f(0x1e8)])(_0x5942d9['audioMessage'][_0xe9484f(0x59a)])||(0x0,ce['isBase64'])(_0x5942d9[_0xe9484f(0x251)][_0xe9484f(0x59a)]))return await this['waMonitor'][_0xe9484f(0x543)][_0x105218]['audioWhatsapp'](_0x5942d9);throw new m(_0xe9484f(0x5c9));}async[a0_0x7b141d(0x45a)]({instanceName:_0x116833},_0x4a711b){const _0x3b5a99=a0_0x7b141d;return await this[_0x3b5a99(0x550)][_0x3b5a99(0x543)][_0x116833][_0x3b5a99(0x79d)](_0x4a711b);}async[a0_0x7b141d(0x56f)]({instanceName:_0x56cc53},_0x2b6ecc){const _0x112ff3=a0_0x7b141d;return await this[_0x112ff3(0x550)][_0x112ff3(0x543)][_0x56cc53]['locationMessage'](_0x2b6ecc);}async[a0_0x7b141d(0x263)]({instanceName:_0x584aec},_0x13364c){const _0x45b98b=a0_0x7b141d;return await this[_0x45b98b(0x550)]['waInstances'][_0x584aec][_0x45b98b(0x48b)](_0x13364c);}async['sendList']({instanceName:_0x2823aa},_0x13e152){const _0x5ecd78=a0_0x7b141d;return await this[_0x5ecd78(0x550)][_0x5ecd78(0x543)][_0x2823aa]['listMessage'](_0x13e152);}async[a0_0x7b141d(0x498)]({instanceName:_0x204af1},_0x5dac16){const _0xc2537d=a0_0x7b141d;return await this['waMonitor']['waInstances'][_0x204af1][_0xc2537d(0x566)](_0x5dac16);}async[a0_0x7b141d(0x483)]({instanceName:_0x45e4de},_0x8925dd){const _0x1d9159=a0_0x7b141d;if(!_0x8925dd[_0x1d9159(0x6fe)][_0x1d9159(0x7f3)][_0x1d9159(0x3dc)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x1d9159(0x698));return await this['waMonitor']['waInstances'][_0x45e4de][_0x1d9159(0x6fe)](_0x8925dd);}async['sendStatus']({instanceName:_0x5466ab},_0x426d93){const _0x458c32=a0_0x7b141d;return await this[_0x458c32(0x550)][_0x458c32(0x543)][_0x5466ab][_0x458c32(0x41d)](_0x426d93);}},Pi=require('jsonwebtoken'),Us=require(a0_0x7b141d(0x167)),Kt=class u{constructor(_0xbb099,_0x2f669f,_0x2efbd7){const _0x6b7ad=a0_0x7b141d;this[_0x6b7ad(0x695)]=_0xbb099,this[_0x6b7ad(0x550)]=_0x2f669f,this[_0x6b7ad(0x60c)]=_0x2efbd7,this[_0x6b7ad(0x222)]=new $(u[_0x6b7ad(0x3f5)]);}async[a0_0x7b141d(0x3d5)](_0x4ceccc){const _0x1be0d9=a0_0x7b141d;let _0x2f6c25=this[_0x1be0d9(0x695)][_0x1be0d9(0x6c9)](_0x1be0d9(0x5ee))['JWT'],_0xc3fed6=(0x0,Pi[_0x1be0d9(0x33e)])({'instanceName':_0x4ceccc[_0x1be0d9(0x488)],'apiName':it,'tokenId':(0x0,Us['v4'])()},_0x2f6c25[_0x1be0d9(0x1c9)],{'expiresIn':_0x2f6c25[_0x1be0d9(0x68f)],'encoding':_0x1be0d9(0x456),'subject':_0x1be0d9(0x60d)}),_0xf0ce1a=await this['repository'][_0x1be0d9(0x83a)][_0x1be0d9(0x7c2)]({'jwt':_0xc3fed6},_0x4ceccc['instanceName']);if(_0xf0ce1a[_0x1be0d9(0x4b9)])throw this['logger'][_0x1be0d9(0x4b9)]({'localError':u[_0x1be0d9(0x3f5)]+'.jwt','error':_0xf0ce1a[_0x1be0d9(0x4b9)]}),new m(_0x1be0d9(0x418),_0xf0ce1a[_0x1be0d9(0x4b9)]?.[_0x1be0d9(0x7b0)]());return{'jwt':_0xc3fed6};}async['apikey'](_0x493258){const _0x42f76d=a0_0x7b141d;let _0x5519b5=(0x0,Us['v4'])()[_0x42f76d(0x4bd)](),_0x52b7d9=await this['repository'][_0x42f76d(0x83a)]['create']({'apikey':_0x5519b5},_0x493258[_0x42f76d(0x488)]);if(_0x52b7d9[_0x42f76d(0x4b9)])throw this['logger'][_0x42f76d(0x4b9)]({'localError':u[_0x42f76d(0x3f5)]+_0x42f76d(0x7a6),'error':_0x52b7d9[_0x42f76d(0x4b9)]}),new m(_0x42f76d(0x418),_0x52b7d9[_0x42f76d(0x4b9)]?.[_0x42f76d(0x7b0)]());return{'apikey':_0x5519b5};}async[a0_0x7b141d(0x59e)](_0x30cdb9){const _0x30299c=a0_0x7b141d;let _0x277f52=this[_0x30299c(0x695)]['get']('AUTHENTICATION');return await this[_0x277f52[_0x30299c(0x75e)]](_0x30cdb9);}},Qt=class{constructor(_0x2bba03){const _0x3dabaa=a0_0x7b141d;this[_0x3dabaa(0x550)]=_0x2bba03;}async[a0_0x7b141d(0x35c)](_0xdcda95,_0x269afd){const _0x42a446=a0_0x7b141d;return await this[_0x42a446(0x550)][_0x42a446(0x543)][_0xdcda95[_0x42a446(0x488)]][_0x42a446(0x35c)](_0x269afd);}async['updateGroupPicture'](_0xd4d2ae,_0x56ef60){const _0x1c7080=a0_0x7b141d;return await this[_0x1c7080(0x550)][_0x1c7080(0x543)][_0xd4d2ae[_0x1c7080(0x488)]]['updateGroupPicture'](_0x56ef60);}async[a0_0x7b141d(0x238)](_0x24ddb5,_0x4febe7){const _0x124e5b=a0_0x7b141d;return await this[_0x124e5b(0x550)]['waInstances'][_0x24ddb5['instanceName']][_0x124e5b(0x238)](_0x4febe7);}async[a0_0x7b141d(0x3f7)](_0x3128af,_0x4306e8){const _0x557379=a0_0x7b141d;return await this['waMonitor'][_0x557379(0x543)][_0x3128af[_0x557379(0x488)]]['groupName'](_0x4306e8);}async[a0_0x7b141d(0x5de)](_0x5b9415,_0x3b7097){const _0x3c9e3c=a0_0x7b141d;return await this['waMonitor'][_0x3c9e3c(0x543)][_0x5b9415['instanceName']][_0x3c9e3c(0x5de)](_0x3b7097);}async[a0_0x7b141d(0x7fa)](_0x4afe12,_0x4b7054){const _0x294037=a0_0x7b141d;return await this[_0x294037(0x550)][_0x294037(0x543)][_0x4afe12[_0x294037(0x488)]][_0x294037(0x7fa)](_0x4b7054);}async[a0_0x7b141d(0x608)](_0x2edd8b,_0x72352){const _0x52454b=a0_0x7b141d;return await this['waMonitor'][_0x52454b(0x543)][_0x2edd8b[_0x52454b(0x488)]][_0x52454b(0x406)](_0x72352);}async[a0_0x7b141d(0x379)](_0x55cf9d){const _0xfbbb32=a0_0x7b141d;return await this[_0xfbbb32(0x550)][_0xfbbb32(0x543)][_0x55cf9d[_0xfbbb32(0x488)]]['findGroups']();}async[a0_0x7b141d(0x844)](_0x32698c,_0x140aa6){const _0x2d18cc=a0_0x7b141d;return await this[_0x2d18cc(0x550)][_0x2d18cc(0x543)][_0x32698c[_0x2d18cc(0x488)]][_0x2d18cc(0x844)](_0x140aa6);}async[a0_0x7b141d(0x173)](_0x201de2,_0x53491c){const _0x1bc34d=a0_0x7b141d;return await this[_0x1bc34d(0x550)]['waInstances'][_0x201de2[_0x1bc34d(0x488)]][_0x1bc34d(0x173)](_0x53491c);}async[a0_0x7b141d(0x276)](_0x760939,_0x5cfab5){const _0x223d62=a0_0x7b141d;return await this[_0x223d62(0x550)]['waInstances'][_0x760939[_0x223d62(0x488)]]['groupGetInviteInfo'](_0x5cfab5);}async[a0_0x7b141d(0x39b)](_0x567419,_0x4b85ff){const _0xa5f752=a0_0x7b141d;return await this['waMonitor']['waInstances'][_0x567419[_0xa5f752(0x488)]][_0xa5f752(0x39b)](_0x4b85ff);}async[a0_0x7b141d(0x19e)](_0x3d8734,_0x3520c2){const _0xb70a7e=a0_0x7b141d;return await this[_0xb70a7e(0x550)]['waInstances'][_0x3d8734[_0xb70a7e(0x488)]]['findParticipants'](_0x3520c2);}async[a0_0x7b141d(0x28c)](_0x500939,_0x54bff3){const _0x29b3e9=a0_0x7b141d;return await this[_0x29b3e9(0x550)][_0x29b3e9(0x543)][_0x500939[_0x29b3e9(0x488)]][_0x29b3e9(0x465)](_0x54bff3);}async[a0_0x7b141d(0x306)](_0x22ba6b,_0xce2291){const _0x5ec515=a0_0x7b141d;return await this[_0x5ec515(0x550)][_0x5ec515(0x543)][_0x22ba6b[_0x5ec515(0x488)]]['toggleEphemeral'](_0xce2291);}async[a0_0x7b141d(0x34d)](_0x58134a,_0x3ca29b){const _0x549ebd=a0_0x7b141d;return await this[_0x549ebd(0x550)]['waInstances'][_0x58134a['instanceName']][_0x549ebd(0x34d)](_0x3ca29b);}},Yt=class{constructor(_0x38509f){this['waMonitor']=_0x38509f;}[a0_0x7b141d(0x7c2)](_0x45ec33,_0x487695){const _0x24cdee=a0_0x7b141d;return this['waMonitor'][_0x24cdee(0x543)][_0x45ec33[_0x24cdee(0x488)]][_0x24cdee(0x562)](_0x487695);}async[a0_0x7b141d(0x61f)](_0x795f83){const _0x4fc7cd=a0_0x7b141d;try{return await this[_0x4fc7cd(0x550)]['waInstances'][_0x795f83[_0x4fc7cd(0x488)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},ch=new $('FlowController'),Xt=class{constructor(_0x4d4430){const _0xda755d=a0_0x7b141d;this[_0xda755d(0x550)]=_0x4d4430;}async[a0_0x7b141d(0x821)](_0x23bcda,_0x2ad7e2){const _0x52c5f6=a0_0x7b141d;return await this[_0x52c5f6(0x550)][_0x52c5f6(0x543)][_0x23bcda[_0x52c5f6(0x488)]][_0x52c5f6(0x821)](_0x2ad7e2);}async[a0_0x7b141d(0x6ab)](_0x2e0cc3){const _0x2264f2=a0_0x7b141d;return await this[_0x2264f2(0x550)][_0x2264f2(0x543)][_0x2e0cc3['instanceName']]['getScheduleMessage']();}async[a0_0x7b141d(0x48a)](_0x93439f){const _0x20b941=a0_0x7b141d;return await this[_0x20b941(0x550)]['waInstances'][_0x93439f[_0x20b941(0x488)]]['deleteDoneMessages']();}async[a0_0x7b141d(0x46b)](_0x1ecd39){const _0xbbdfad=a0_0x7b141d;return await this[_0xbbdfad(0x550)][_0xbbdfad(0x543)][_0x1ecd39[_0xbbdfad(0x488)]][_0xbbdfad(0x46b)]();}async[a0_0x7b141d(0x527)](_0x1fb4b2,_0x31d2b5){const _0x1890cf=a0_0x7b141d;return await this[_0x1890cf(0x550)]['waInstances'][_0x1fb4b2['instanceName']]['updateAgent'](_0x31d2b5);}async[a0_0x7b141d(0x5cb)](_0x24820c,_0xa5208a){const _0x6cd2b5=a0_0x7b141d;return await this['waMonitor'][_0x6cd2b5(0x543)][_0x24820c['instanceName']][_0x6cd2b5(0x5cb)](_0xa5208a);}async['updateAutoCompleteMessages'](_0x3fd5b0,_0x10f6e3){const _0x57e002=a0_0x7b141d;return await this[_0x57e002(0x550)]['waInstances'][_0x3fd5b0[_0x57e002(0x488)]][_0x57e002(0x419)](_0x10f6e3);}async[a0_0x7b141d(0x17a)](_0x440a3c,_0xb6b4ac){const _0x42d07b=a0_0x7b141d;return await this[_0x42d07b(0x550)][_0x42d07b(0x543)][_0x440a3c['instanceName']][_0x42d07b(0x17a)](_0xb6b4ac);}async[a0_0x7b141d(0x23a)](_0x5a22d5,_0x5d4af7){const _0x46d71a=a0_0x7b141d;return await this[_0x46d71a(0x550)]['waInstances'][_0x5a22d5['instanceName']]['startFlow'](_0x5d4af7);}async[a0_0x7b141d(0x501)](_0x473e79,_0x30e1b2,_0x4ebfa8,_0x5134cf){const _0x4a67f6=a0_0x7b141d;return await this[_0x4a67f6(0x550)][_0x4a67f6(0x543)][_0x473e79]['startFlowWebhook'](_0x30e1b2,_0x4ebfa8,_0x5134cf);}async[a0_0x7b141d(0x644)](_0x4bcfdb,_0x4ead5b){const _0x3ab48f=a0_0x7b141d;return await this[_0x3ab48f(0x550)][_0x3ab48f(0x543)][_0x4bcfdb['instanceName']][_0x3ab48f(0x644)](_0x4ead5b);}async['fetchConversation'](_0x36f7a7,_0x3d3917){const _0x52840c=a0_0x7b141d;return await this['waMonitor'][_0x52840c(0x543)][_0x36f7a7[_0x52840c(0x488)]][_0x52840c(0x724)](_0x3d3917);}async[a0_0x7b141d(0x560)](_0x1e504e,_0x3e4f36){const _0x40a750=a0_0x7b141d;return await this['waMonitor'][_0x40a750(0x543)][_0x1e504e[_0x40a750(0x488)]][_0x40a750(0x560)](_0x3e4f36);}async['deleteConversation'](_0x169022,_0x2776fd){const _0x4481ac=a0_0x7b141d;return await this['waMonitor']['waInstances'][_0x169022[_0x4481ac(0x488)]][_0x4481ac(0x81e)](_0x2776fd);}async[a0_0x7b141d(0x425)](_0x14b240,_0x34a3ae){const _0x5f4f72=a0_0x7b141d;return await this[_0x5f4f72(0x550)][_0x5f4f72(0x543)][_0x14b240[_0x5f4f72(0x488)]][_0x5f4f72(0x425)](_0x34a3ae[_0x5f4f72(0x39f)]);}async[a0_0x7b141d(0x4c9)](_0x353d64,_0x1d7aac,_0x5dc00b){const _0x1250ca=a0_0x7b141d;return await this['waMonitor'][_0x1250ca(0x543)][_0x353d64['instanceName']][_0x1250ca(0x4c9)](_0x1d7aac,_0x5dc00b);}async[a0_0x7b141d(0x289)](_0x4c4e85,_0x16cc96,_0x32b5dc){const _0x5bb8b=a0_0x7b141d;return await this[_0x5bb8b(0x550)][_0x5bb8b(0x543)][_0x4c4e85[_0x5bb8b(0x488)]][_0x5bb8b(0x289)](_0x16cc96,_0x32b5dc);}async['editFlowBlock'](_0x3bd1c4,_0x55d3c){const _0x599d28=a0_0x7b141d;return await this[_0x599d28(0x550)][_0x599d28(0x543)][_0x3bd1c4[_0x599d28(0x488)]][_0x599d28(0x65e)](_0x55d3c);}async[a0_0x7b141d(0x72d)](_0x5e3526,_0x4c2710){const _0x2532ee=a0_0x7b141d;return await this['waMonitor'][_0x2532ee(0x543)][_0x5e3526[_0x2532ee(0x488)]]['editFlowReply'](_0x4c2710);}async[a0_0x7b141d(0x2d2)](_0x28d474,_0x307a9f){const _0x54eca7=a0_0x7b141d;return await this['waMonitor'][_0x54eca7(0x543)][_0x28d474[_0x54eca7(0x488)]][_0x54eca7(0x2d2)](_0x307a9f);}async['editFlowCondition'](_0x6493a7,_0x5d511a){const _0x52ebc8=a0_0x7b141d;return await this[_0x52ebc8(0x550)]['waInstances'][_0x6493a7[_0x52ebc8(0x488)]][_0x52ebc8(0x537)](_0x5d511a);}async[a0_0x7b141d(0x2c0)](_0x4cd23d,_0x179970){const _0x5cee3d=a0_0x7b141d;return await this['waMonitor'][_0x5cee3d(0x543)][_0x4cd23d[_0x5cee3d(0x488)]][_0x5cee3d(0x2c0)](_0x179970);}async['editFlowVariable'](_0x5b4e08,_0x3f4684){const _0x8d9413=a0_0x7b141d;return await this['waMonitor'][_0x8d9413(0x543)][_0x5b4e08[_0x8d9413(0x488)]]['editFlowVariable'](_0x3f4684);}async['deleteFlow'](_0x218163,_0x363cf8){const _0x42830e=a0_0x7b141d;return await this[_0x42830e(0x550)][_0x42830e(0x543)][_0x218163[_0x42830e(0x488)]][_0x42830e(0x1ab)](_0x363cf8);}async['allFlows'](_0x279d43){const _0x5d6867=a0_0x7b141d;return await this[_0x5d6867(0x550)][_0x5d6867(0x543)][_0x279d43['instanceName']][_0x5d6867(0x7d2)]();}},Zt=class{constructor(_0x52995d){const _0x3ea761=a0_0x7b141d;this[_0x3ea761(0x274)]=_0x52995d;}async['createWebhook'](_0x4d389b,_0x480fae){const _0x438853=a0_0x7b141d;return this[_0x438853(0x274)][_0x438853(0x7c2)](_0x4d389b,_0x480fae);}async[a0_0x7b141d(0x53c)](_0x4024c7){const _0x453304=a0_0x7b141d;return this[_0x453304(0x274)]['find'](_0x4024c7);}},es=class extends _{constructor(_0x230b31,_0x2ccf0c){const _0x107649=a0_0x7b141d;super(_0x2ccf0c),this['webhookModel']=_0x230b31,this[_0x107649(0x695)]=_0x2ccf0c;}async[a0_0x7b141d(0x7c2)](_0x11ef60,_0x52b7e4){const _0x22a21a=a0_0x7b141d;try{return this[_0x22a21a(0x1a7)][_0x22a21a(0x16f)]?{'insertCount':(await this['webhookModel'][_0x22a21a(0x5b4)]({'_id':_0x52b7e4},{..._0x11ef60},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x211420){return _0x211420;}}async[a0_0x7b141d(0x59d)](_0x309ce6){const _0x5674b4=a0_0x7b141d;try{if(this[_0x5674b4(0x1a7)][_0x5674b4(0x16f)]){await this[_0x5674b4(0x5a9)][_0x5674b4(0x631)]({'_id':_0x309ce6});return;}}catch(_0x25ca96){return{'error':_0x25ca96};}}async[a0_0x7b141d(0x61f)](_0x2831c5){const _0x464129=a0_0x7b141d;try{if(this[_0x464129(0x1a7)][_0x464129(0x16f)])return await this[_0x464129(0x5a9)][_0x464129(0x89d)]({'_id':_0x2831c5});}catch{return{};}}},ts=class extends _{constructor(_0x957327,_0x5ef59e){const _0x11e886=a0_0x7b141d;super(_0x5ef59e),this[_0x11e886(0x7b9)]=_0x957327,this[_0x11e886(0x695)]=_0x5ef59e,this[_0x11e886(0x83a)]=_0x5ef59e[_0x11e886(0x6c9)](_0x11e886(0x5ee));}async[a0_0x7b141d(0x7c2)](_0x2f8637,_0x2c9823){const _0x3bafec=a0_0x7b141d;try{if(this[_0x3bafec(0x1a7)][_0x3bafec(0x16f)])return{'insertCount':(await this['authModel']['updateOne']({'_id':_0x2c9823},{'$set':{..._0x2f8637}},{'upsert':!0x0}))[_0x3bafec(0x88b)]};}catch(_0xe0055f){return{'error':_0xe0055f};}}async[a0_0x7b141d(0x1a3)](_0x5c497f,_0x26b06b){const _0x22b779=a0_0x7b141d;try{if(this['dbSettings'][_0x22b779(0x16f)])return{'insertCount':(await this[_0x22b779(0x7b9)][_0x22b779(0x427)](_0x5c497f,{'$set':_0x26b06b},{'upsert':!0x1}))[_0x22b779(0x88b)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x39498e){return{'error':_0x39498e};}}async[a0_0x7b141d(0x76e)](_0x42282c){const _0x3617eb=a0_0x7b141d;try{if(this['dbSettings'][_0x3617eb(0x16f)])return{'insertCount':(await this['authModel'][_0x3617eb(0x76e)](_0x42282c))['deletedCount']};throw new Error(_0x3617eb(0x540));}catch(_0x50f602){return{'error':_0x50f602};}}async[a0_0x7b141d(0x59d)](_0x94f93c){const _0xb2f0ee=a0_0x7b141d;try{if(this[_0xb2f0ee(0x1a7)][_0xb2f0ee(0x16f)]){await this['authModel'][_0xb2f0ee(0x631)]({'_id':_0x94f93c});return;}}catch(_0x52daa7){return{'error':_0x52daa7};}}async['find'](_0x27d848){const _0x260307=a0_0x7b141d;try{if(this[_0x260307(0x1a7)][_0x260307(0x16f)])return await this[_0x260307(0x7b9)][_0x260307(0x89d)]({'_id':_0x27d848});}catch{return{};}}async[a0_0x7b141d(0x50c)](){const _0xfb70d7=a0_0x7b141d;try{if(this[_0xfb70d7(0x1a7)][_0xfb70d7(0x16f)])return await this['authModel'][_0xfb70d7(0x61f)]();}catch{return[];}}async[a0_0x7b141d(0x8a6)](_0x101a74){const _0x107c7c=a0_0x7b141d;try{if(this[_0x107c7c(0x1a7)][_0x107c7c(0x16f)])return await this[_0x107c7c(0x7b9)][_0x107c7c(0x61f)](_0x101a74);}catch{return[];}}},ss=class extends _{async[a0_0x7b141d(0x631)](_0x5d279e){const _0x1c12a0=a0_0x7b141d;try{let _0xae74e3=A(_0x5d279e[_0x1c12a0(0x864)]);return{'deletedCount':(await Ce[_0x1c12a0(0x631)](_0xae74e3))[_0x1c12a0(0x75f)]};}catch(_0x5a869b){return{'error':_0x5a869b?.['toString']()};}}async[a0_0x7b141d(0x319)](_0x1637be,_0x5e3202){const _0x7ad18=a0_0x7b141d;try{let _0x2f99a6=await Ce[_0x7ad18(0x459)](_0x1637be);return _0x2f99a6?(Object[_0x7ad18(0x6ef)](_0x2f99a6,_0x5e3202),await _0x2f99a6[_0x7ad18(0x5c3)]()):(console[_0x7ad18(0x4b9)]('Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:',_0x1637be),null);}catch(_0x11ebb3){return console[_0x7ad18(0x4b9)](_0x7ad18(0x264),_0x11ebb3),null;}}async['createAndSave'](_0x5942f0){const _0x2264ea=a0_0x7b141d;try{return await new Ce(_0x5942f0)[_0x2264ea(0x5c3)]();}catch(_0x35222d){return console[_0x2264ea(0x4b9)]('Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:',_0x35222d),null;}}async[a0_0x7b141d(0x50c)](_0x308dd2){const _0x232a60=a0_0x7b141d;try{let _0x16f22f=_0x308dd2['where']??{};return await Ce[_0x232a60(0x61f)](_0x16f22f)[_0x232a60(0x4e7)](_0x308dd2['limit']??0x0)[_0x232a60(0x350)]();}catch(_0x42ac3f){return console['error']('Erro\x20ao\x20buscar\x20fluxos:',_0x42ac3f),[];}}async[a0_0x7b141d(0x89d)](_0x5a4816){const _0x570b22=a0_0x7b141d;try{let _0x466966=A(_0x5a4816[_0x570b22(0x864)]);return await Ce[_0x570b22(0x89d)](_0x466966)[_0x570b22(0x350)]();}catch{return null;}}},as=class extends _{[a0_0x7b141d(0x2a7)](_0x24b86c){return Sa(_0x24b86c);}async[a0_0x7b141d(0x775)](_0xf0243d){const _0x339189=a0_0x7b141d;if(_0xf0243d[_0x339189(0x675)]!==0x0)try{return{'insertCount':(await this[_0x339189(0x2a7)](_0xf0243d[0x0]['owner'])[_0x339189(0x7bb)]([..._0xf0243d]))[_0x339189(0x675)]};}catch(_0x1be2dc){return _0x1be2dc;}}async[a0_0x7b141d(0x59d)](_0x1bca8f,_0x4f577b){const _0x4821fb=a0_0x7b141d;try{let _0x148a0f=this['getConversationModelForOwner'](_0x4f577b),_0x57a7e0=A(_0x1bca8f['where']);return{'deletedCount':(await _0x148a0f[_0x4821fb(0x76e)](_0x57a7e0))[_0x4821fb(0x75f)]};}catch(_0x59e2c4){return{'error':_0x59e2c4?.[_0x4821fb(0x7b0)]()};}}async[a0_0x7b141d(0x631)](_0x17c146,_0xda29d6){const _0x56ac97=a0_0x7b141d;try{let _0x181534=this[_0x56ac97(0x2a7)](_0xda29d6),_0x3f2fdc=A(_0x17c146['where']);return{'deletedCount':(await _0x181534[_0x56ac97(0x631)](_0x3f2fdc))[_0x56ac97(0x75f)]};}catch(_0x4374f3){return{'error':_0x4374f3?.[_0x56ac97(0x7b0)]()};}}async[a0_0x7b141d(0x889)](_0x43ef3e,_0x524de0){const _0x25554f=a0_0x7b141d;try{if(_0x43ef3e[_0x25554f(0x675)]===0x0)return;let _0x55a8c5=this[_0x25554f(0x2a7)](_0x524de0),_0x514a26=_0x43ef3e[_0x25554f(0x62e)](_0x3752d6=>({'updateOne':{'filter':{'name':_0x3752d6[_0x25554f(0x3f5)],'owner':_0x524de0},'update':{..._0x3752d6}}})),{modifiedCount:_0x243e9b}=await _0x55a8c5[_0x25554f(0x2d0)](_0x514a26);return{'insertCount':_0x243e9b};}catch{return;}}async['updateMany'](_0x44d1df,_0xa51985,_0x228211){const _0x2e63d5=a0_0x7b141d;try{return{'modifiedCount':(await this[_0x2e63d5(0x2a7)](_0x228211)['updateMany'](_0x44d1df,{'$set':_0xa51985})['exec']())[_0x2e63d5(0x88b)]};}catch(_0x262c1f){return console['error'](_0x2e63d5(0x1e0),_0x262c1f),{'error':_0x262c1f};}}async[a0_0x7b141d(0x319)](_0x4e3b94,_0x54041c,_0x57030f){const _0x41e470=a0_0x7b141d;try{return await this[_0x41e470(0x2a7)](_0x57030f)[_0x41e470(0x7c3)]({'_id':_0x4e3b94},{'$set':_0x54041c},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0xf64065){return console['error'](_0xf64065),null;}}async[a0_0x7b141d(0x61f)](_0x4329be,_0x26766e){const _0x1f5f26=a0_0x7b141d;try{return await this['getConversationModelForOwner'](_0x26766e)[_0x1f5f26(0x61f)](_0x4329be)[_0x1f5f26(0x6c8)]({'lastInteraction':-0x1})[_0x1f5f26(0x350)]();}catch{return[];}}async[a0_0x7b141d(0x89d)](_0x2c1bc3,_0x259e1f){const _0x6e9297=a0_0x7b141d;try{return await this[_0x6e9297(0x2a7)](_0x259e1f)[_0x6e9297(0x89d)]({..._0x2c1bc3['where']})[_0x6e9297(0x350)]();}catch{return null;}}async['deleteAll'](_0xd096d){const _0x3abb8b=a0_0x7b141d;try{return await this['getConversationModelForOwner'](_0xd096d)[_0x3abb8b(0x5f9)][_0x3abb8b(0x278)](),{'success':!0x0};}catch(_0x3f734c){return console['error'](_0x3f734c),{'success':!0x1,'error':_0x3f734c};}}},is=class extends _{[a0_0x7b141d(0x5b9)](_0x18f4c7){return Ma(_0x18f4c7);}async[a0_0x7b141d(0x2d0)](_0x38d551,_0x233866){const _0x5cb7e4=a0_0x7b141d;try{return await this[_0x5cb7e4(0x5b9)](_0x233866)['bulkWrite'](_0x38d551);}catch(_0x3ebd4b){return console[_0x5cb7e4(0x4b9)](_0x5cb7e4(0x340),_0x3ebd4b),null;}}async[a0_0x7b141d(0x1b0)](_0x254938,_0x41e729){const _0x1a966b=a0_0x7b141d;try{let _0x49d5ff=this[_0x1a966b(0x5b9)](_0x41e729);return await new _0x49d5ff(_0x254938)['save']();}catch(_0x36a13b){return console['error'](_0x1a966b(0x51e),_0x36a13b),null;}}async[a0_0x7b141d(0x631)](_0x1bcf4e,_0x13c632){const _0x453e6e=a0_0x7b141d;try{return await this[_0x453e6e(0x5b9)](_0x13c632)['findByIdAndDelete'](_0x1bcf4e),{};}catch(_0x2886d){return{'error':_0x2886d?.[_0x453e6e(0x7b0)]()};}}async['updateOne'](_0x28930c,_0x5ae357,_0x3bad53,_0x3dca6c={}){const _0x489287=a0_0x7b141d;try{return await this[_0x489287(0x5b9)](_0x3bad53)[_0x489287(0x7c3)](_0x28930c,_0x5ae357,{..._0x3dca6c,'new':!0x0})[_0x489287(0x350)]();}catch(_0x2f1351){return console[_0x489287(0x4b9)](_0x489287(0x3c2),_0x2f1351),null;}}async[a0_0x7b141d(0x648)](_0x5c80de,_0x5856dd,_0x2cf8f4){const _0x590c5e=a0_0x7b141d;try{return await this[_0x590c5e(0x5b9)](_0x2cf8f4)[_0x590c5e(0x6fb)](_0x5c80de,_0x5856dd,{'new':!0x0})['lean']();}catch(_0x5393b5){return console[_0x590c5e(0x4b9)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x5393b5),null;}}async['find'](_0x374fdd,_0x4a5156){const _0x36c868=a0_0x7b141d;try{return await this[_0x36c868(0x5b9)](_0x4a5156)[_0x36c868(0x61f)](_0x374fdd[_0x36c868(0x864)])[_0x36c868(0x4e7)](_0x374fdd?.[_0x36c868(0x4e7)]??0x0)['sort']({'when':0x1})[_0x36c868(0x350)]();}catch{return[];}}async[a0_0x7b141d(0x89d)](_0x53ac72,_0x513eb3){const _0x18abb0=a0_0x7b141d;try{return await this[_0x18abb0(0x5b9)](_0x513eb3)['findOne'](_0x53ac72[_0x18abb0(0x864)])['sort']({'when':0x1})[_0x18abb0(0x350)]();}catch{return null;}}async[a0_0x7b141d(0x459)](_0x1a10ea,_0x2e4982){const _0x2055ea=a0_0x7b141d;try{return await this[_0x2055ea(0x5b9)](_0x2e4982)[_0x2055ea(0x459)](_0x1a10ea)[_0x2055ea(0x350)]();}catch{return null;}}async['deleteMany'](_0x37780f,_0xe10e1f){const _0x3c73d4=a0_0x7b141d;try{return{'deletedCount':(await this[_0x3c73d4(0x5b9)](_0xe10e1f)[_0x3c73d4(0x76e)](_0x37780f))[_0x3c73d4(0x75f)]};}catch(_0x34f441){return console['error']('Erro\x20ao\x20deletar\x20mensagens:',_0x34f441),{'error':_0x34f441};}}async[a0_0x7b141d(0x2df)](_0x5421a1){const _0x561b9b=a0_0x7b141d;try{return await this[_0x561b9b(0x5b9)](_0x5421a1)[_0x561b9b(0x5f9)][_0x561b9b(0x278)](),{'success':!0x0};}catch(_0xcffe95){return console[_0x561b9b(0x4b9)](_0xcffe95),{'success':!0x1,'error':_0xcffe95};}}},os=class extends _{async[a0_0x7b141d(0x889)](_0x10f7cc,_0x144e6d){const _0x24b583=a0_0x7b141d;try{if(this['dbSettings'][_0x24b583(0x16f)])return await Te[_0x24b583(0x7c3)]({'_id':_0x144e6d},{'$set':_0x10f7cc},{'new':!0x0});}catch(_0x4b4108){throw console['error'](_0x24b583(0x2a0),_0x4b4108),_0x4b4108;}}async['findOrCreate'](_0x47ea04){const _0x30ccca=a0_0x7b141d;try{let _0x7a3a5c=await Te[_0x30ccca(0x459)](_0x47ea04);return _0x7a3a5c?_0x7a3a5c[_0x30ccca(0x338)]||(_0x7a3a5c[_0x30ccca(0x338)]=[],await _0x7a3a5c[_0x30ccca(0x5c3)]()):(_0x7a3a5c=new Te({'_id':_0x47ea04,'autoCompleteMessages':[]}),await _0x7a3a5c[_0x30ccca(0x5c3)]()),_0x7a3a5c;}catch(_0x237fd6){return _0x237fd6[_0x30ccca(0x598)]===0x2af8&&_0x237fd6[_0x30ccca(0x83f)]&&_0x237fd6[_0x30ccca(0x83f)]['autoCompleteMessages.command']?(console[_0x30ccca(0x4b9)]('Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...'),await Te[_0x30ccca(0x5f9)][_0x30ccca(0x50d)]('autoCompleteMessages.command_1'),null):(console[_0x30ccca(0x4b9)](_0x30ccca(0x53f),_0x237fd6),null);}}},jo=new $(a0_0x7b141d(0x50b)),Jo=new Ke(S),qo=new Jt(S),Vo=new rt(S),Go=new qt(oa,S),Bo=new Vt(na,S),Wo=new es(ha,S),zo=new ts(ua,S),Ho=new Ne(Be,S),Ko=new ss(S),Qo=new Gt(S),Yo=new as(S),Xo=new is(S),Zo=new os(S),fe=new ze(Jo,qo,Vo,Go,Bo,Wo,zo,Ho,Ko,Yo,Qo,Xo,Zo,T?.['getClient']()),G=new jt(hs,S,fe),er=new Kt(S,G,fe),tr=new Yt(G),As=new Zt(tr),O=new Xt(G),de=new zt(G,S,fe,hs,er),W=new Ht(G),D=new Bt(G),q=new Qt(G);jo[a0_0x7b141d(0x59c)]('Module\x20-\x20ON');var $g=require('express-async-errors'),js=require('fs'),Di=I(require(a0_0x7b141d(0x177))),ki=I(require(a0_0x7b141d(0x478))),Ue=class u{static #e;static set[a0_0x7b141d(0x57d)](_0x13f9ee){this.#e=_0x13f9ee;}static get[a0_0x7b141d(0x177)](){const _0x126ebe=a0_0x7b141d;let {FULLCHAIN:_0x245229,PRIVKEY:_0x31d0cf}=S[_0x126ebe(0x6c9)](_0x126ebe(0x78f));return Di[_0x126ebe(0x24e)]({'cert':(0x0,js[_0x126ebe(0x4f0)])(_0x245229),'key':(0x0,js['readFileSync'])(_0x31d0cf)},u.#e);}static get[a0_0x7b141d(0x478)](){return ki['createServer'](u.#e);}},je=I(require('fs')),qi=I(require('ini')),Je=I(require(a0_0x7b141d(0x84f))),ns=I(require(a0_0x7b141d(0x357))),rs=require('child_process');function sr(){const _0x32eacb=a0_0x7b141d;G['loadInstance']();let _0x272d56=ns['default'][_0x32eacb(0x797)](__dirname,_0x32eacb(0x89f));Ji(_0x272d56);}var Ji=_0x1df3bc=>{const _0x4d01f5=a0_0x7b141d;let _0x4cc141=je[_0x4d01f5(0x2cf)][_0x4d01f5(0x188)](_0x1df3bc),_0xeb841e=0xc*0x3c*0x3c*0x3e8,_0x175611=0x2*0x3c*0x3c*0x3e8,_0x58d6af=new Date()[_0x4d01f5(0x68c)]();_0x4cc141[_0x4d01f5(0x677)](_0x2b76e6=>{const _0x370f37=_0x4d01f5;let _0xb71416=ns[_0x370f37(0x2cf)][_0x370f37(0x797)](_0x1df3bc,_0x2b76e6),_0x5cbef1=je[_0x370f37(0x2cf)]['statSync'](_0xb71416)[_0x370f37(0x638)][_0x370f37(0x68c)]();_0x58d6af-_0x5cbef1>_0xeb841e&&(je[_0x370f37(0x2cf)][_0x370f37(0x55a)](_0xb71416),console[_0x370f37(0x54c)](_0x370f37(0x1ce)+_0x2b76e6));}),setTimeout(()=>Ji(_0x1df3bc),_0x175611);};function ar(){const _0x5b9527=a0_0x7b141d;let _0x3916a1=new $(_0x5b9527(0x653)),_0x4bc6fa=(0x0,ye[_0x5b9527(0x2cf)])();_0x4bc6fa[_0x5b9527(0x590)]((0x0,ji[_0x5b9527(0x2cf)])({'origin'(_0x24bf94,_0x34609c){const _0xbd4856=_0x5b9527;let {ORIGIN:_0x53c5b2}=S['get'](_0xbd4856(0x678));return _0x24bf94||(_0x24bf94='*'),_0x53c5b2[_0xbd4856(0x277)]('*')!==-0x1||_0x53c5b2[_0xbd4856(0x277)](_0x24bf94)!==-0x1?_0x34609c(null,!0x0):_0x34609c(new Error(_0xbd4856(0x853)));},'methods':[...S[_0x5b9527(0x6c9)](_0x5b9527(0x678))[_0x5b9527(0x7ac)]],'credentials':S[_0x5b9527(0x6c9)](_0x5b9527(0x678))[_0x5b9527(0x51a)]}),(0x0,ye[_0x5b9527(0x78b)])({'extended':!0x0,'limit':_0x5b9527(0x3ea)}),(0x0,ye['json'])({'limit':_0x5b9527(0x3ea)})),_0x4bc6fa['use']((_0x2fb401,_0x5c8848,_0x3278a6)=>{const _0x2dc01f=_0x5b9527;_0x2fb401[_0x2dc01f(0x357)][_0x2dc01f(0x5f6)](_0x2dc01f(0x2bb))?_0x3278a6():(0x0,Ui['default'])()(_0x2fb401,_0x5c8848,_0x3278a6);}),_0x4bc6fa[_0x5b9527(0x6d4)](_0x5b9527(0x2c4),'hbs'),_0x4bc6fa[_0x5b9527(0x6d4)](_0x5b9527(0x409),(0x0,qs[_0x5b9527(0x797)])(le,'views')),_0x4bc6fa[_0x5b9527(0x590)](ye[_0x5b9527(0x2cf)][_0x5b9527(0x637)]((0x0,qs['join'])(le,_0x5b9527(0x847)))),_0x4bc6fa['use']((_0x5bc1b4,_0x402d49,_0x47676a)=>{let _0x1d50e8=_0x402d49['send'];_0x402d49['send']=function(_0x488362){const _0x5bfd74=a0_0x77b5;if(_0x5bc1b4[_0x5bfd74(0x47e)][_0x5bfd74(0x475)]==='true'||_0x5bc1b4[_0x5bfd74(0x860)][_0x5bfd74(0x6b8)]==='true'){let _0x5ced3b=JSON['parse'](_0x488362);_0x488362=JSON[_0x5bfd74(0x22d)](_0x2efe30(_0x5ced3b));}return _0x1d50e8['apply'](_0x402d49,[_0x488362]);},_0x47676a();}),_0x4bc6fa[_0x5b9527(0x590)]('/',ke),_0x4bc6fa['use']((_0x4689fd,_0x592f24,_0x37f27e,_0x106858)=>{const _0x3d4413=_0x5b9527;if(_0x4689fd)return _0x37f27e[_0x3d4413(0x756)](_0x4689fd[_0x3d4413(0x756)]||0x1f4)['json'](_0x4689fd);},(_0x1ee14a,_0x4e4019,_0x372c4a)=>{const _0x20640a=_0x5b9527;let {method:_0x4e3791,url:_0x1be561}=_0x1ee14a;_0x4e4019['status'](0x194)['json']({'status':0x194,'message':_0x20640a(0x826)+_0x4e3791[_0x20640a(0x4bd)]()+'\x20'+_0x1be561,'error':_0x20640a(0x526)}),_0x372c4a();});let _0x2efe30=(_0x3e580d,_0x37d25e=_0x5b9527(0x309))=>{const _0x282ab2=_0x5b9527;let _0x48c065=(_0x242ea0,_0x558691=null,_0x59769d=!0x1)=>{const _0x1c038d=a0_0x77b5;let _0x4def16={};return Object[_0x1c038d(0x679)](_0x242ea0)[_0x1c038d(0x677)](_0x113e8b=>{const _0x486731=_0x1c038d;let _0x4c1732=_0x242ea0[_0x113e8b],_0x3f5ea1=''+_0x37d25e+_0x113e8b;_0x558691&&!_0x59769d&&(_0x3f5ea1=_0x558691+'.'+_0x113e8b),!_0x4c1732&&_0x4c1732!==0x0&&_0x4c1732!==!0x1||typeof _0x4c1732>'u'?_0x4def16[_0x3f5ea1]=null:typeof _0x4c1732!=_0x486731(0x5ec)&&!Array[_0x486731(0x635)](_0x4c1732)?_0x4def16[_0x3f5ea1]=_0x4c1732:typeof _0x4c1732=='object'&&!Array['isArray'](_0x4c1732)?_0x4def16=Object['assign'](_0x4def16,_0x48c065(_0x4c1732,_0x3f5ea1)):Array['isArray'](_0x4c1732)&&(typeof _0x4c1732[0x0]==_0x486731(0x5ec)?(_0x4def16[_0x3f5ea1]=[],_0x4c1732[_0x486731(0x677)](_0x1d1d94=>{const _0x29ccf9=_0x486731;_0x4def16[_0x3f5ea1][_0x29ccf9(0x7a1)](_0x48c065(_0x1d1d94,_0x3f5ea1,!0x0));})):_0x4def16[_0x3f5ea1]=_0x4c1732);}),_0x4def16;};return Array[_0x282ab2(0x635)](_0x3e580d)?_0x3e580d[_0x282ab2(0x62e)](_0x324f6a=>_0x48c065(_0x324f6a)):typeof _0x3e580d==_0x282ab2(0x5ec)&&_0x3e580d!==null?_0x48c065(_0x3e580d):{};},_0x30b9ba=S['get']('SERVER');Ue[_0x5b9527(0x57d)]=_0x4bc6fa;let _0x447fbe=Ue[_0x30b9ba[_0x5b9527(0x75e)]],_0x2458a3=_0x5b9527(0x600);_0x447fbe['listen'](_0x30b9ba[_0x5b9527(0x830)],()=>{const _0x2c8a8e=_0x5b9527;_0x3916a1[_0x2c8a8e(0x54c)](_0x2458a3),_0x3916a1['log'](_0x30b9ba['TYPE'][_0x2c8a8e(0x4bd)]()+'\x20-\x20ON:\x20'+_0x30b9ba['PORT']);}),sr(),Zs();}var ir=a0_0x7b141d(0x2c7),or=ns[a0_0x7b141d(0x2cf)][a0_0x7b141d(0x797)](__dirname,a0_0x7b141d(0x663)),Re=null;function rr(){return new Promise((_0x36f00f,_0x11c384)=>{const _0x3109fc=a0_0x77b5;je[_0x3109fc(0x2cf)][_0x3109fc(0x83d)](or,_0x3109fc(0x772),(_0x58f616,_0x270ae7)=>{const _0x49faa2=_0x3109fc;if(_0x58f616){Re=_0x58f616,_0x36f00f();return;}qi['default'][_0x49faa2(0x7da)](_0x270ae7)[_0x49faa2(0x685)][_0x49faa2(0x2d8)]===ir?(Re=null,_0x36f00f()):(Re=new Error(_0x49faa2(0x731)),_0x36f00f());});});}async function nr(){const _0x4109c5=a0_0x7b141d;try{await rr(),await Vs();}catch(_0x1f885b){console[_0x4109c5(0x4b9)](_0x4109c5(0x3cc)+_0x1f885b),process[_0x4109c5(0x40b)](0x1);}}nr();async function Vi(){const _0xf89843=a0_0x7b141d;let _0x587729;try{_0x587729=(await Je[_0xf89843(0x2cf)][_0xf89843(0x6c9)](_0xf89843(0x75c)))[_0xf89843(0x645)]['ip'];}catch(_0x4cc97e){console[_0xf89843(0x4b9)](_0x4cc97e);try{_0x587729=(await Je[_0xf89843(0x2cf)]['get'](_0xf89843(0x5a8)))['data']['ip'];}catch(_0x406217){console[_0xf89843(0x4b9)](_0x406217);try{_0x587729=(await Je['default'][_0xf89843(0x6c9)](_0xf89843(0x17d)))[_0xf89843(0x645)][_0xf89843(0x3dc)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x4f3ab1){return console[_0xf89843(0x4b9)](_0x4f3ab1),!0x1;}}}return _0x587729;}var Li=0x0;async function cr(){const _0x238451=a0_0x7b141d;let _0x58b86e=await new pe(S[_0x238451(0x6c9)](_0x238451(0x62f)))[_0x238451(0x7ea)]();return console[_0x238451(0x54c)](_0x238451(0x5ce),_0x58b86e[_0x238451(0x675)]),_0x58b86e[_0x238451(0x675)];}function lr(_0x3f5feb){const _0x47eaa1=a0_0x7b141d;let _0x912dac=_0x3f5feb[_0x47eaa1(0x6c9)](_0x47eaa1(0x653))['URL'],_0x1d293b=_0x3f5feb[_0x47eaa1(0x6c9)](_0x47eaa1(0x78f));console[_0x47eaa1(0x54c)](_0x47eaa1(0x2c6),_0x912dac),console[_0x47eaa1(0x54c)]('Configuração\x20SSL\x20recuperada:',_0x1d293b);let _0x5db06d='',_0x26bc74=_0x912dac||'';if(_0x912dac){let _0x6870f3=_0x912dac[_0x47eaa1(0x3dc)](/\/\/(.*?)\./);console[_0x47eaa1(0x54c)](_0x47eaa1(0x6f3),_0x6870f3),_0x6870f3&&_0x6870f3[0x1]&&(_0x5db06d=_0x6870f3[0x1],console[_0x47eaa1(0x54c)]('Subdomínio\x20extraído\x20da\x20URL:',_0x5db06d));}if(!_0x5db06d&&_0x1d293b&&_0x1d293b['FULLCHAIN']){let _0x1ccd53=_0x1d293b['FULLCHAIN'][_0x47eaa1(0x20d)]('/');console['log'](_0x47eaa1(0x854),_0x1ccd53);let _0x3c3179=_0x1ccd53[_0x1ccd53['length']-0x2];if(console[_0x47eaa1(0x54c)](_0x47eaa1(0x5d1),_0x3c3179),_0x3c3179){let _0x431666=_0x3c3179[_0x47eaa1(0x20d)]('.');console[_0x47eaa1(0x54c)](_0x47eaa1(0x438),_0x431666),_0x431666['length']>0x2&&(_0x5db06d=_0x431666[0x0],console[_0x47eaa1(0x54c)](_0x47eaa1(0x7c4),_0x5db06d),_0x26bc74=''+_0x3c3179);}}return{'subdomain':_0x5db06d||_0x47eaa1(0x82d),'fullURL':_0x26bc74||_0x47eaa1(0x1a6)};}var {subdomain:B,fullURL:Gs}=lr(S);console[a0_0x7b141d(0x54c)](a0_0x7b141d(0x469),B),console[a0_0x7b141d(0x54c)](a0_0x7b141d(0x546),Gs);async function ur(){const _0x4125f0=a0_0x7b141d;let _0x425f75=S[_0x4125f0(0x6c9)](_0x4125f0(0x62f)),_0x4e4d34=S[_0x4125f0(0x6c9)]('AUTHENTICATION')[_0x4125f0(0x5c6)][_0x4125f0(0x654)],_0x2ba8e4=S[_0x4125f0(0x6c9)](_0x4125f0(0x78f)),_0x484a46=await Vi(),_0x158d80=S['get'](_0x4125f0(0x653))[_0x4125f0(0x830)],_0x3d7c24=Gs;try{let _0x1b7e53={'ip':_0x484a46||null,'redis_enable':_0x425f75?.[_0x4125f0(0x16f)]||null,'apikey':_0x4e4d34||null,'ssl':_0x2ba8e4?.[_0x4125f0(0x387)]||null,'lastupdate':Gi||null,'port':_0x158d80||null,'gitInstallError':Re?.[_0x4125f0(0x1f9)]||null,'url':_0x3d7c24||null,'subdomain':B};if(console[_0x4125f0(0x54c)](_0x4125f0(0x4b3),_0x1b7e53['ip']),_0x425f75&&_0x425f75[_0x4125f0(0x16f)]){let _0x12e567=await cr();_0x1b7e53[_0x4125f0(0x7f4)]=_0x12e567||null;}for(let _0xc77cb4 in _0x1b7e53)_0x1b7e53[_0x4125f0(0x795)](_0xc77cb4)&&_0xc77cb4!=='ip'&&(_0x1b7e53[_0xc77cb4]=JSON[_0x4125f0(0x22d)](_0x1b7e53[_0xc77cb4]));return(await Je[_0x4125f0(0x2cf)][_0x4125f0(0x4b7)](_0x4125f0(0x15c),_0x1b7e53))['data'];}catch(_0x29d57f){return console[_0x4125f0(0x4b9)](_0x29d57f),!0x1;}}var Js=!0x1,Gi=0x275,dr=0x3,Fi=0x1b7740;async function Vs(){const _0xa11739=a0_0x7b141d;let _0x1bc131=_0xa11739(0x544);Re===null&&(_0x1bc131=await Vi());let _0x496349=await ur();if(_0x496349){if(_0x496349[_0xa11739(0x881)][_0xa11739(0x30c)]===!0x0){Re===null&&_0x496349[_0xa11739(0x881)]['last_update']-Gi>0x0&&await pr(),Js||(Js=!0x0,ar());let _0xf03dc8=0x24*0x3c*0x3c,_0x235a03=_0x496349[_0xa11739(0x881)]['segundos']>_0xf03dc8?_0xf03dc8:_0x496349[_0xa11739(0x881)][_0xa11739(0x482)],_0xcf31e8=Number(_0x235a03);if(isNaN(_0xcf31e8)){console['error'](_0xa11739(0x77b));return;}let _0x25988f=Math[_0xa11739(0x1ef)](_0xcf31e8/0xe10),_0x2bf27d=Math[_0xa11739(0x1ef)](_0xcf31e8%0xe10/0x3c),_0x1f89a4=new Date(Date['now']()+_0xcf31e8*0x3e8);setTimeout(Vs,_0xcf31e8*0x3e8);let _0x573070=_0x4ed05e=>_0x4ed05e[_0xa11739(0x7b0)]()[_0xa11739(0x363)](0x2,'0'),_0x339108=_0xa11739(0x6bb)+_0x573070(_0x25988f)+_0xa11739(0x2f1)+_0x573070(_0x2bf27d)+'\x20minutos.\x20Será\x20às\x20'+_0x573070(_0x1f89a4[_0xa11739(0x55f)]())+':'+_0x573070(_0x1f89a4['getMinutes']())+'.';console[_0xa11739(0x54c)](_0x339108);}else return console['log'](_0xa11739(0x686)),Js&&(console['log'](_0xa11739(0x69c)),process[_0xa11739(0x40b)]()),_0xa11739(0x302);}else{if(Li++,Li<dr)console[_0xa11739(0x54c)](_0xa11739(0x3d7)+Fi/0xea60+_0xa11739(0x502)),setTimeout(Vs,Fi);else return console[_0xa11739(0x4b9)](_0xa11739(0x7dd)),_0xa11739(0x74f);}}async function pr(){const _0x4a66da=a0_0x7b141d;console[_0x4a66da(0x54c)](_0x4a66da(0x774)),console['log'](_0x4a66da(0x49c)),(0x0,rs[_0x4a66da(0x7ec)])(_0x4a66da(0x44c),{'shell':!0x0})['on'](_0x4a66da(0x461),_0x1f6ac9=>{const _0x1efb95=_0x4a66da;_0x1f6ac9!==0x0?console['error'](_0x1efb95(0x536)):(console[_0x1efb95(0x54c)](_0x1efb95(0x1ee)),console[_0x1efb95(0x54c)](_0x1efb95(0x62a)),(0x0,rs[_0x1efb95(0x7ec)])(_0x1efb95(0x365),{'shell':!0x0})['on'](_0x1efb95(0x461),_0x2e4492=>{const _0x2cd9a0=_0x1efb95;if(_0x2e4492!==0x0)console['error'](_0x2cd9a0(0x6e0));else{console[_0x2cd9a0(0x54c)]('Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.');let _0x2a7d3d=(0x0,rs['spawn'])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x2a7d3d[_0x2cd9a0(0x33b)]['on'](_0x2cd9a0(0x645),_0x54a118=>{const _0x19d50a=_0x2cd9a0;console[_0x19d50a(0x54c)](_0x19d50a(0x603)+_0x54a118);}),_0x2a7d3d[_0x2cd9a0(0x44f)]['on'](_0x2cd9a0(0x645),_0x1314f7=>{const _0x253dcd=_0x2cd9a0;console[_0x253dcd(0x4b9)](_0x253dcd(0x395)+_0x1314f7);}),_0x2a7d3d['on']('exit',_0x14b323=>{const _0x16b1da=_0x2cd9a0;_0x14b323!==0x0?console[_0x16b1da(0x4b9)](_0x16b1da(0x880)+_0x14b323):console['log']('Sistema\x20atualizado\x20com\x20sucesso!'),console['log']('Parando\x20aplicação...'),setTimeout(()=>process[_0x16b1da(0x40b)](),0x2710);});}}));});}0x0&&(module[a0_0x7b141d(0x1f6)]={'fullURL':fullURL,'subdomain':subdomain});