const a0_0x20d441=a0_0x731d;(function(_0x46e6a7,_0x4cfc70){const _0x11a475=a0_0x731d,_0x102be1=_0x46e6a7();while(!![]){try{const _0x1c4360=-parseInt(_0x11a475(0x3e3))/0x1*(parseInt(_0x11a475(0x5d1))/0x2)+parseInt(_0x11a475(0x3e1))/0x3*(-parseInt(_0x11a475(0x5a0))/0x4)+-parseInt(_0x11a475(0x31c))/0x5+parseInt(_0x11a475(0x37a))/0x6*(-parseInt(_0x11a475(0x447))/0x7)+parseInt(_0x11a475(0x3c3))/0x8+-parseInt(_0x11a475(0x72e))/0x9+parseInt(_0x11a475(0x6d9))/0xa;if(_0x1c4360===_0x4cfc70)break;else _0x102be1['push'](_0x102be1['shift']());}catch(_0x130469){_0x102be1['push'](_0x102be1['shift']());}}}(a0_0x4c1c,0x4e417));function a0_0x4c1c(){const _0x28656a=['Conversa\x20deletada\x20com\x20sucesso.','Temp\x20audio\x20path:\x20','#9ab6c1','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','currency','delAll','mediaKey','description','Processing\x20audio','editFlow','end','findLabels','padEnd','FlowRouter','Erro\x20ao\x20atualizar\x20o\x20fluxo:','http','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','findConversation','prefixCommand','processUazapi','class-validator','\x20-i\x20','fetchBusinessProfile','@s.whatsapp.net','modifiedCount','map','params','\x1b[31m%s\x1b[0m','#9ba6ff','sha256','):\x20teve\x20mudanças\x20chat.name:\x20','updateMissingCustomFields','/instance/connect','readMessages','when','Read\x20messages\x20fail','last','sending','string','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','available','replaceVariables','Error\x20removing\x20profile\x20picture','Profile\x20not\x20found','Operador:\x20\x22','/webhook','\x20do\x20chat\x20','deleteReplyOption','headerString','name','PORT','\x20não\x20encontrado','Contacts\x20not\x20found','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','Db\x20Connection','!cmd_','footerText','restrict','Rótulo\x20deletado:','menuExpiredMessage','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','pollUpdateMessage','CORS_CREDENTIALS','12225960FyexMK','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','composing','MESSAGES_UPSERT','groupSetting','backgroundColor','quotedMessage','Last\x20message\x20not\x20found\x20for\x20number:','groupParticipantsUpdate','_Flows','subjectOwner','lastSendMessage','editFlowGroup','):\x20Editando\x20edição\x20do\x20fluxo...','remoteJidsRemaining','contactname','setHeader','call','drop','shutdown\x20-r\x20now','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','STORE_CHATS','stopMinutes','):\x20Dados\x20migrados\x20com\x20sucesso','dbClient','video','QRCODE_UPDATED','toBrazilianNumberFormat','):\x20Enviando\x20áudio','AutomateSystem','creds.json','sendPresenceUpdate','profile','contactMessage','messages.set','chatHandle','loadproxy','):\x20nextBlock.uazapi.name','firstValue','updateOneById','instanceKeys','created','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','url','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','Bloco\x20com\x20ID\x20','MAX_RECONNECT_ATTEMPTS','apikey','flowStopConversation','qrCode','\x1b[0m','findByIdAndUpdate','!stop','config','parse','createJid','\x1b[32m%s\x1b[0m','E-mail:\x20','CONNECTION','poll','bulkWrite','ids','updateStopChat','size','Validate','host','lastDisconnect','groups.update','unhandledRejection','message','#ffffff','getDelay','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','CONNECTION_UPDATE','):\x20Bloco\x20com\x20ID\x20','editScheduleMessage','subject','next_groupId','ms\x20(Attempt\x20','realVariables','EMAIL','):\x20Enviando\x20localização','presenceSubscribe','.webp','addReplyOption','4583133tIeQBp','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','SERVER_URL','MESSAGES_SET','cache','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','editFlowBlock','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','getClient','hDel','labelId','error\x20get\x20vote','_FlowHistorico','\x20instance\x20does\x20not\x20exist','request\x20received\x20in\x20getAutomateSystem','editflowblock','fullName','generateHash','FULLCHAIN','buttonMessage','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','toggleEphemeral','readMessage','writeData','.xlsx','PRESENCE_UPDATE','substring','_id','pushName','ERROR:\x20','isURL','Authentication\x20error','):\x20Procurando\x20mensagens\x20para\x20envio','configService','customFields','.jwt','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','Data\x20inválida\x20fornecida','Instance\x20Key\x20from\x20DB:','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','messages.upsert','\x22\x20-\x20NOT\x20CONNECTION','ERROR','chats','node-mime-types','integer','editFlowReply','namespace','messageTimestamp','):\x20Comando\x20desconhecido:\x20','://','\x20ao\x20chat\x20','lastSend','Flow\x20already\x20exists','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','match_last_seen','preview','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','noConnection',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','LabelModel','owner','.xls','processgoToFlow','lastmsg','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','#ffae04','Error\x20creating\x20group','statusMessage','):\x20Current\x20Time:\x20','info','delayChatLabel_MAX_RETRIES','updateGParticipant','where','leaveGroup','INFO','GROUPS_UPSERT','updateGParticipate','participant','editflowvariable','Audio\x20converted\x20to\x20mp4','):\x20teve\x20mudanças\x20chat.displayName:\x20','webhookMap','variablesToObject','locationMessage',',\x20pairCode:\x20','):\x20Criando\x20nova\x20conversa[createNewConversation]','https://api.openai.com/v1/audio/speech','):\x20delete\x20=\x20true','insertCount','expression','request\x20received\x20in\x20getFlow','upperCase','hex','createSectionsFromValues','stickerMessage','stanzaId','getMIMEType','notas','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','Chrome','REDIS_URI','getTicketSystem','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','replace','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','getAutomateSystem','replyOption','now','numbers','.svg','interval\x20não\x20é\x20um\x20número','resetReconnectionVariables','type','findAndReplace','removed','#83e421','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','Including\x20timestamp\x20in\x20url:\x20','base64','chats.update','editOperator','HH:mm:ss','vcard','DATABASE_CONNECTION_PASSWORD','PENDING','authState','):\x20Query\x20params:','CHATS_UPSERT','getContentType','condition','Resposta\x20do\x20Teste\x20do\x20Proxy:','Message\x20not\x20found','http://checkip.dyndns.org','client','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','announcement','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','displayName','DATABASE_CONNECTION_URI','hGet','ListMessage','createClient','imagechat','execSync','image','quoted','leadInfo.','fetchStatus','notEmpty','none','getBusinessProfile','createNewConversation','get','Font\x20is\x20required','mentions','isConnected','truncatedtoEnd','dbSettings','allFlows','requestFile','whatsappNumber','nextBlock:','count','updateMany','The\x20\x22','editflow','\x1b[37m','):\x20alterando\x20this.AutomateSystem','toDataURL','create','@broadcast','label_jid','connect','PASSWORD','isJWT','Chat\x20','abs','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','getflow','messages.update','normalizeMessage','application/octet-stream','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','findOrCreate','unlocked','):\x20Erro\x20ao\x20buscar\x20conversas\x20','conversationTimestamp','encoding','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','LOG_LEVEL','notContains','replaceVariablesChat','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','content-type','):\x20Entrou\x20na\x20função\x20saveReply','limit','and','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','utf-8','newStoppedUntil','sendStatus','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','groupHandler','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','connecting','allContacts','Erro\x20ao\x20buscar\x20conversa:\x20','isArray','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','buffer','Sistema\x20atualizado\x20com\x20sucesso!','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','toNumber','Type\x20not\x20found','https://api.ipify.org?format=json','keep-alive','Telefone:\x20','messages','user','replaceVariablesLogs','SendScheduleMessage','method','/*.json','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','HeaderType','pollCreationMessageKey','\x22\x20not\x20found','}}\x20->\x20\x22','picture','contains','isJidUser','replaceValue','/create','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','\x1b[33m','):\x20Enviando\x20mídia','maxActives','announce','findGroupInfos','):\x20lastBlockId:\x20','Rótulo\x20inválido\x20ou\x20sem\x20ID.','REDIS','setWebhook','request\x20received\x20in\x20starFlow','messageHandle','axios','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','*\x0a\x0a','chats.set','CHATS_SET','store','desativadoFluxoAte','createConversationforStartFlow','\x1b[33m%s\x1b[0m','The\x20property\x20cannot\x20be\x20empty','DEBUG','/media','selectedOptions','updateOnlinePrivacy','indexOf','Erro\x20ao\x20deletar\x20chat:','DELIVERY_ACK','fetchContacts','findOne','):\x20expirationTime:\x20','scheduled','Esse\x20fluxo\x20expirou',',\x20Segundo\x20Valor:\x20','\x1b[34m%s\x1b[0m','Mensagem\x20não\x20suportada','certbot','.png','saveChatVariables','}}\x20->\x20valor\x20não\x20encontrado','evaluateConditionTest','Erro\x20de\x20reinicialização:\x20','Error\x20updating\x20setting','waMonitor','/group','AUTHENTICATION','defineProperty','variables','groupLeave','updateFlowConfig','collection','isJidGroup','):\x20Limpando\x20AutomateSystem','SERVER_OFFLINE','convertedOptions','atendimentoAberto','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','CHATS_DELETE','json','localWebhook','timerId','moreLogs','):\x20Deletando\x20mensagem','No\x20invite\x20code','Nenhum\x20chat\x20encontrado\x20para\x20editar.','close','originalUrl','Read\x20messages','menuType','empty','InstancesAlterarTodas','Cache-Control','):\x20Procurando\x20conversa','validate','.TEL;waid=','removeProfilePicture','@whiskeysockets/baileys','pollOnReplyDelete','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','waitingForReplyMenu','fromObject','request\x20received\x20in\x20allFlows','):\x20Conversa\x20atualizada\x20em\x20memória','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','startFlow','getTime','deleteDoneMessages','\x1b[33m\x1b[1m','):\x20Iniciando\x20bot...','WARN',',\x20resultado:\x20','copyDataToNewModel','Flow\x20iniciado\x20com\x20','Erro\x20ao\x20copiar\x20dados:','flushHeaders','\x20não\x20encontrado\x20para\x20atualização.','#00a1f2','toUpperCase','uazapiSendMedia','use','NextBlock','Image\x20is\x20url','https://github.com/uazapi/uazapi.git','Error\x20update\x20group\x20picture','deleteConversation','updateMediaMessage','request\x20received\x20in\x20deleteFlow','getLastMessage',',\x20qrcodeCount:\x20','pollCreationMessageV2','#000000','fetchProfilePicture','item','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','):\x20Erro\x20ao\x20editar\x20agentes:\x20','waitingMenu_id','Error\x20in\x20markMessageAsRead:','buttonText','getDevice','chat','groupadd','deleteChat','):\x20Erro\x20ao\x20criar\x20fluxo\x20','Error\x20updating\x20profile\x20picture','The\x20instance\x20needs\x20to\x20be\x20disconnected','Erro\x20ao\x20encerrar\x20a\x20API','bateu\x20events','function','_Chats','listResponseMessage','BufferJSON','stopConversation','paused','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','/wa-presence','set','#fe9dfe','DARK','message_normalized','WebhookGlobal','getChatModelForOwner','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','CONTACTS_SET','DB_PREFIX_NAME','/exit','SSL_CONF_PRIVKEY','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','presence.update','\x20inseridas\x20no\x20banco\x20de\x20dados...','badSession','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','urlOrBase64','updateReplyOption','not_announcement','match','redis','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','Instância:\x20','#d3a91f','editChat','/config','editflowgroup','reviver','updateMissingEtiquetas','reference','applyvaredit','pollMessage','):\x20Enviando\x20contato','textMessage','sleep','subdomain','@ffmpeg-installer/ffmpeg','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','STORE_MESSAGE','_Labels','sendPoll','ephemeralExpiration','locked','query','):\x20Buscando\x20conversas...','URL','webhookModel','ListType','joinGroup','\x1b[47m','connectToWhatsapp','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','email','uazapiSendLocation','restart','API\x20Key\x20from\x20Request:','documentMessage','\x1b[36m','app','start','):\x20Fluxos\x20não\x20estão\x20ativados','request\x20received\x20in\x20createFlow','):\x20Erro\x20durante\x20a\x20atualização:\x20','statusJidList','Error\x20change\x20group\x20setting','path','):\x20this.processingScheduleMessageId:\x20','TEL','/wa-qrcode','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','reorderReplyOptions','https://jsonip.com','\x0a*Você\x20respondeu*:\x0a','media','length','Image\x20is\x20base64','):\x20Campos\x20a\x20serem\x20atualizados:','remove','createInstance','getPrototypeOf','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','--agree-tos','senderKeyDistributionMessage','flowActive','waInstances','lastCondition','entries','online','exports','.mp3','remoteJid','groupUpdateDescription','hasOwnProperty','groupName','public','Audio\x20processed','equal','newValue','sharp','data','routerPath','groupToggleEphemeral','CORS_ORIGIN','saveTextReply','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','assign','exec','node-cache','50mb','deleteMany','endsWith','Número:\x20','filter','eventEmitter','Rótulo\x20atualizado:','SEND_MESSAGE','agents','MessageModel','audioWhatsapp','SERVER','waitingMenu_text','/wa-contacts','header','audio/aac','pt-BR','status.instance','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','vote','ON\x20-\x20dbName:\x20','hSet','post','waitingMenu_ExpiredMessage','LICENSE_INVALID','Proxy\x20funcionando!','):\x20Limpando\x20delayMessage','API\x20Key\x20inválida.','replyOptions','ip:\x20','Error\x20writing\x20file:\x20','Tentativa\x20','SINGLE_SELECT','\x20minutos','createflow','unreadcount','buttons','\x0aFN:','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','lastReceivedMessage','chatId','env.KEY\x20!==\x20key','proto','listType','request\x20received\x20in\x20updateAgent','):\x20Conversa\x20está\x20expirada','Cannot\x20','Erro\x20ao\x20inserir\x20chats:','ButtonsMessage','jwt','/chat','Types','desc','groupSettingUpdate','licenca','jsonwebtoken','):\x20Conversas\x20encontradas:','Proxy\x20falhou.\x20Tentando\x20o\x20próximo...','mediaMessage','default','updateMessage','\x22,\x20valor\x20a\x20substituir:\x20\x22','revokeInviteCode','getLabelModelForOwner','deleteOne','.ppt','isBase64','process','):\x20Criando\x20fluxo...','block','context','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','getStatus','connection.update','SSL_CONF_FULLCHAIN','scheduleMessages','#ff9484','Enter\x20a\x20value\x20in\x20milliseconds','getMessage','statusCode','updateGroupsAddPrivacy','color','MESSAGES_UPDATE','Router','envYaml','add','fetchProfile2','arrayUnique','@g.us','readMessageBot','chatLog','saveConversationToDatabase','nome','segundos','Logger','deleteMessage','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','whatsappNumbers','getConversationModelForOwner','storePath','ini','\x1b[37m%s\x1b[0m','convert','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','?authSource=admin&readPreference=primary&directConnection=true','Type\x20defined\x20as\x20audio','statSync','STORE','recording','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','verifiedName','updateChatWithMessage','audio/mp4','VERBOSE','options','8080','<subdomain>',',\x20fará\x20nova\x20verificação\x20em\x20','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','uazapiSendAudio','from','KEY','37515CNuVgq','groups.upsert','Instância\x20não\x20encontrada.','StartBot','uazapiDeleteMessage','):\x20Deletando\x20fluxo...','removeOlderDisconnectedInstances','delayMessage','Sending\x20audio\x20whatsapp','isBusiness','DD/MM\x20HH:mm:ss','messageId','):\x20Conversa\x20está\x20expirada\x20-\x20voto','findGroup','Revoke\x20error','pino','setRestartTimer','editFlowCondition','Image\x20created','closeExistingConversations','pollCreationMessageV3','https://','cleaningUp','linkPreview','CORS_METHODS','Error\x20updating\x20participants','body','delayChatLabel','update','remove.instance','notify','AUTHENTICATION_API_KEY','enumerable','no-cache','groups_ignore','fetchLatestBaileysVersion','):\x20isVote:\x20','trimmed','Imagem\x20não\x20encontrada','headers','Erro:','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','getAllData','optionDescription','audioMessage','instanceInfo','buttonId','Instance\x20ID:','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','stderr','Erro\x20ao\x20aplicar\x20varedit:\x20','findParticipants','HOST','bearer','connectionStatus','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','@redis/client','pop','repository','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','.mp4','uazapiSendText','loadWebhook','findWebhook','getHours','formatStatusMessage','Erro\x20inesperado\x20em\x20processvaredits:\x20','.jpg','Output\x20path:\x20','Failed\x20to\x20find\x20chat\x20','EXPIRIN_IN','findContacts','connectionUpdate','):\x20newFirstValue\x20após\x20replaceVariables:','logger','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','Parando\x20aplicação,\x20atualização\x20recebida','\x20não\x20encontrado\x20para\x20cópia','#92ceac','readFileSync','router','fetchMessages','authentication','createWebhook','processingScheduleMessageId','deleteMessageForEveryone','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','fetchChats','updatePrivacySettings','uazapiSendContact','contact','isInteger','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','462Fplbae','oldValue','getConversation','creation','request\x20received\x20in\x20updateCustomFields','protocol','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','contacts.update',',\x20valor\x20passado:\x20\x22','):\x20','setNewValue','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','sendMenu','repeat','mentioned','Desconectado,\x20parando\x20execução.','boolean','updateParticipant','listMessage','):\x20Flow\x20não\x20encontrado','):\x20Bloco\x20copiado:\x20','responsavelid','toString','Chat\x20com\x20ID\x20','updateMissingTags','\x1b[43m','saveVariable','formatBRNumber','website','\x5cd+','evaluateCondition','Image\x20path:\x20','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','jsonschema','events','readreceipts','imageMessage','setContext','action','#d8e651','copy','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','findAll','Erro\x20ao\x20deletar\x20mensagens:','Database\x20is\x20not\x20enabled','CREDENTIALS','log','unavailable','uuid','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','https://chat.whatsapp.com/','getScheduleMessage','\x0a{\x20instance:\x20','\x20chats\x20de\x20','Erro\x20ao\x20remover\x20instâncias\x20antigas:','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','instance','Invalid\x20format','Error\x20fetching\x20group','fetchProfile','/wa-message-update','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','envProcess','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','upsertChats','\x1b[31m','getProfileName','convertaudio','fetchPrivacySettings','sendList','reorderBlocks','address','2561736jyexEO','createGroup','sendContact','_activatedCount','qrcode','flowConversation','test','\x20not\x20found,\x20retrying\x20in\x20','archived','Flow\x20não\x20encontrado','errno','forEach','output','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','greater','Tentando\x20reconectar...','DaysToDelete','Image\x20converted\x20to\x20WebP','insertMany','fetchConversation','contact_blacklist','):\x20Deletando\x20conversa...','DATABASE','Erro\x20ao\x20atualizar\x20conversa:\x20','folder','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','protocolMessage','some','delayChatLabel_RETRY_DELAY_MS','):\x20updateResult:','3mqVbrK','CONTACTS_UPSERT','7yFWRyv','SSL_CONF','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','fetchProfilePictureUrl','\x20minutos...','updateAll','command','processblock','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','presence','instanceName\x20not\x20provided.','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','refused','extractRegex','\x1b[36m%s\x1b[0m','Last\x20message\x20not\x20found','Reinicialização\x20iniciada:\x20','updateBlock','auth','round','Fluxos\x20não\x20estão\x20ativados','\x20\x1b[0m','/instance/connectionState','pollMessageOnDelete','API_KEY','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','ReplyOptions\x20finais\x20após\x20reordenação:','choices','qrcode.updated','compression','order','toBRL','sendCommand','\x20is\x20already\x20in\x20use.','everyOne','mongodb','editflowreply','phoneNumber','Configuração\x20do\x20Proxy\x20inválida.\x20Tentando\x20o\x20próximo...','setting','SUCCESS','Não\x20respondeu\x20com\x20a\x20enquete.','\x1b[1m','updateConversation','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','verbose','COLOR','express','Temp\x20audio\x20created','AUTHENTICATION_TYPE','Unknown\x20message\x20type\x20or\x20empty\x20message','loadInstance',',\x20Minutes\x20to\x20Close:\x20','Erro\x20ao\x20adicionar\x20label\x20','.X-ABLabel:Celular\x0a','):\x20customFieldVariables','):\x20newSecondValue\x20após\x20replaceVariables:','videoMessage','inviteCode','^\x5cd+[\x5c.@\x5cw-]+','\x20foi\x20interrompido\x20pelo\x20usuário.','done','request\x20received\x20in\x20fetchConversation','findIndex','STORE_CONTACTS','status','redisEnv','send','processConditions','rows','audio','archive','updatePresence','getOwnPropertyDescriptor','sort','ScheduleMessageModel','notEqual','content','removeData','#ffc5c7','Business\x20profile\x20fetched','delete','getRandomText','documentWithCaptionMessage','URL\x20limpa:\x20','):\x20Editando\x20condição\x20do\x20fluxo...','menuMessage','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','flattenObject','Error\x20occurred\x20while\x20archiving\x20chat:\x20','fromMe','unlinkSync','reactionMessage','TEXT','importChatsBatch','):\x20Flow\x20desativado','updateReadReceiptsPrivacy','.wav','deleteInstance','13244JhKvnw','valid','updateMissingLabels','):\x20Bloco\x20original\x20para\x20cópia:\x20','sendMedia','^\x5cd+([-]\x5cd+)*@g.us$','request\x20body:\x20','editflowvaredit','defineAuthState','loadEnv','finish','METHODS','express-async-errors','JWT','ORG:','createFlow','\x20removido\x20do\x20chat\x20','convertToWebP','blockLogs','RECONNECT_TIME_FRAME','InstancesAsDisconnectedX','groupJid','truncatedto','stdout','variablesNotFound','mongoose','/clients-info','Deletion\x20failed','fileName','authService','longitude','find','connectToWhatsappController','sectionsToString','closed','save','):\x20conversation.status:\x20','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','menuIgnoreNonVotes','):\x20Falha\x20ao\x20deletar\x20mensagem.','Error\x20updating\x20profile\x20status','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','format','deleteAll','connectedClient','#01d0e2','\x0aitem','deleteBlock','Error\x20fetching\x20and\x20updating\x20profile:\x20','ENABLED','group-participants.update','messageContextInfo','open','):\x20conversation.waitingMenu_name','saveMediaToFile','\x20}\x0a','request\x20received\x20in\x20getConversation',',\x20valor\x20a\x20encontrar:\x20\x22','/wa-groups','endSession','ReplyOption\x20com\x20ID\x20','request\x20received\x20in\x20deleteDoneMessages','data:\x20','prototype','enabled','fileUrl','editflowcondition','\x1b[34m','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','exists','Group\x20not\x20found','Certbot:\x20','archiveChat','.pdf','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','console','jpegThumbnail','):\x20Alterando\x20fluxo...','editedMessage','random','):\x20atualização\x20chat:\x20','HttpsProxyAgent','\x22\x20cannot\x20be\x20empty','secondValue','creds.update','viewOnceMessage','AutomateSystem\x20não\x20foi\x20inicializado','Erro\x20ao\x20iniciar\x20fluxo:\x20','https','isRunning','warn','minutesToClose','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','findByIdAndDelete','shift','value','):\x20Ler\x20mensagem','getOwnPropertyNames','hostname','URL:','\x1b[44m','local_map','apirequest','ConversationModel','Button\x20texts\x20cannot\x20be\x20repeated','webp','\x1b[41m','certonly','\x1b[30m%s\x1b[0m','Erro\x20ao\x20testar\x20o\x20proxy','parseInt','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','createServer','-whatsapp-api','editConversation','initAuthCreds','):\x20Ignoring\x20group\x20messages.','status@broadcast','AppStateSyncKeyData',',\x20Comparador:\x20','authModel','rowId','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','The\x20global\x20api\x20key\x20must\x20be\x20set','notMatchRegex','ephemeralMessage','errors','_Messages','Temp\x20image\x20deleted','PREFIX_KEY','includes','onTime','.sendDataWebhook-global','#6f7bcf','sendMessage','latitude','push','processApiRequest','profilePictureUrl','Resultado\x20da\x20atualização:','dbInstance','toLowerCase','CORS','Atualização:\x20','document','processvaredits','STORE_CLEANING_TERMINAL','Not\x20is\x20business\x20profile','request\x20received\x20in\x20editFlow','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','--standalone','replaceVariablesInReplyOptions','no.connection','isListOfNumbers','/wa-chats','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','TYPE','groupId','labels.edit','lean','updateStatusPrivacy','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','has','_p_','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','replaceVariablesInObject','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','model','loggedOut','Error\x20in\x20chatModify\x20for\x20number\x20','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','reaction','height','dataValidate','split','cwd','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','sections','Label\x20','pollErrorMessage','Fluxo\x20não\x20encontrado','AUTHENTICATION_JWT_EXPIRIN_IN','File\x20written\x20to\x20path:\x20','CLEANING_INTERVAL','activatedCount','https://uazapi-plugin.bubbleapps.io/','-----------------proxyUri---------------------','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','Output\x20audio\x20path:\x20','username','REDIS_ENABLED','groupDesc','connectionState','mediatype','createConversationforgoToFlow','getFlow','scheduleSendMedia','hbs','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','\x20minutos.\x20Será\x20às\x20','blocks','contacts','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','LOG','#dfaef0','viewOnceMessageV2','getMessageModelForOwner','sendButtons','max','cpf','response','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','Instance\x20\x22','/message','emit','SECRET','DELETED','object','makeCacheableSignalKeyStore','/wa-message','contextInfo','Error\x20while\x20deleting\x20message\x20for\x20everyone','caption','groupMetadata','capitalizedWords','bodyString','copyBlock','insert','formatVCard','fetchLabels','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','upsertedCount','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','\x20mensagens\x20de\x20','groupCreate','organization','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','conditions','Parando\x20aplicação...','findAndReplaceRegex','findOneAndUpdate','Message','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','getBase64FromMediaMessage','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','groupValidate','Type\x20is\x20required','__esModule','scheduleSendText','wuid','pollCreationMessage','CONTACTS_UPDATE','webhook','g.us','remoteJids','arraybuffer','getVariablesChat','values','CONFIGURAÇÃO\x20GERAL:','allflows','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','jid','contentText','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','augusto.fcs@gmail.com','userDevicesCache','markMessageAsRead','Connection\x20closed\x20for\x20instance:\x20','deleteFlow','lowerCase','lastInteraction','updateGroupPicture','AUTHENTICATION_JWT_SECRET','varedits','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','READ','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','Background\x20color\x20is\x20required','prepareWAMessageMedia','pre','labels.association','BRL','scheduleSendAudio','Converted\x20audio\x20deleted','deletedCount','sendAudio','.\x20Pulando.','GROUP_PARTICIPANTS_UPDATE','getScheduleMessageModelForOwner',',\x20saindo.','updateProfileName','write','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','#56ccb4','SERVER_PORT','connectionClosed','varedit','Conexão\x20estabelecida','\x20-y','reconnectAttempts','messaging-history.set','pairingCode','stopMinutesMaxActives','\x20com\x20sucesso.','errorLog','ignoreGroups','code','findGroups','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','leadInfo','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','):\x20Enviando\x20enquete','mkdirSync','processPollUpdateMessage','/instance/create','.doc','src','?timestamp=','groupInviteCode','stack','list','):\x20Enviando\x20texto','Bad\x20Request','writeFileSync','Close\x20connection','toLocaleString','updateOne','group','messagesSend','Hash\x20to\x20audio\x20name:\x20','birthtime','state','creds','getContactModelForOwner','group\x20ignored','nomecompleto','Selecione','msgRetryCounterCache','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','key','option','error_log','183572bwrICc','createConnection','.txt','/events','sticker','all','):\x20leadInfoVariables','mediaSticker','DisconnectReason','throwAndLogError','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','etiquetas','not\x20loaded','Error\x20updating\x20message\x20status:','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','AutomateFunctions','utf8','imported','goNextblock','Error\x20updating\x20profile\x20name','privacySettings','writeFile','Erro\x20ao\x20normalizar\x20a\x20mensagem:','LOG_COLOR','webhookService','CHATS_UPDATE','sendText','uazapiSendMenu','video-cover.png','inner','Variável\x20não\x20encontrada!','eventemitter2','dropCollection','downloads',',\x20Expiration\x20Time:\x20','-instances','/instance','replacer','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','lastBlockId','STATUS_INSTANCE','\x22\x20-\x20REMOVED','goToFlow','$pull','\x20segundos','flowName','processConditionsTest','CONECTADO\x20À\x20UAZAPI','number','146846yyEKBp','Getting\x20profile\x20info','replaceOne',',\x20Resultado:\x20','ChatRouter','promote','\x20inseridos\x20no\x20banco\x20de\x20dados...','instance.','slice','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','existsSync','#b4ebff','ObjectId','fetchInstances','updateProfileStatus','error','put','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','groups','The\x20','text','temp-','profilePicture','floor','FlowModel','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','):\x20Buscando\x20todos\x20os\x20fluxos...','charAt','FlowController','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','updateAgent','delaySecMax','fileLength','joinGroupValidate','matchRegex','label','requestPairingCode','findById','spawn','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','):\x20Buscando\x20conversa...','PLAYED','updateCustomFields','mimetype','):\x20Entrou\x20na\x20função\x20stop','reconnectTimestamps','sendWhatsAppAudio','fone','importChats',',\x20lastCondition:\x20','groupRevokeInvite','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','redirect','oldToken','PRIVKEY','toFile','):\x20Editando\x20variável\x20do\x20fluxo...','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','createAndSave','automateSystem','updateProfilePicture','RemoveChatLabel','syscall','/:instanceName','changeVariables','\x20minutos\x20verificará\x20novas\x20mensagens','padStart','title','keys','optionName','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','listen','/media/','sendReaction','chats.delete','OrAnd','deleted','):\x20Mensagem\x20já\x20enviada\x20para\x20','viewOnceMessageV2Extension','instanceName','Erro\x20ao\x20editar\x20o\x20chat:\x20','getFlowModelForOwner','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','stringify','sendMessageWithTyping','release','chats.upsert','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','expiration','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','child_process','metadata','.ogg','Temp\x20audio\x20deleted','scheduleMessage','):\x20Não\x20achou\x20nenhum\x20flow','/wa-connection-update','Missing\x20global\x20api\x20key','flowIgnoreGroups','variable','\x20-\x20ON:\x20','editFlowVaredit','^\x5cd+','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','.pptx','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','env','messageSecret','./.git/config','instancias:\x20','deleteflow','delay','flow','contacts.upsert','exit','lastMessage','):\x20Buscando\x20flow...','role','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','sendDataWebhook','URI','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','sendLocation','Archiving\x20chat','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','contactHandle','less','Valor\x20inicial:\x20\x22','Notifying\x20clients\x20for\x20chat:\x20','selectableCount','Deleted\x20','true','Erro\x20ao\x20editar\x20o\x20bloco:\x20','font','g-t','DATABASE_CONNECTION_DB_PREFIX_NAME','cleanStore','PROXY','restartInstance','Erro\x20ao\x20importar\x20chats:','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','testProxy','Primeiro\x20Valor:\x20','$dbName','findFlow','Trying\x20to\x20get\x20business\x20profile','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','Instance\x20restarted','trim','password','prepareMediaMessage','waitingMenu_replyOptions','Error\x20change\x20group\x20description','scheduleNextCheck','stateConnection','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','editFlowVariable','uazapi','logout','findChats','blockId','array','success','static','authorization','binary','readData','AddChatLabel','Erro\x20ao\x20atualizar\x20o\x20flow.','):\x20Conversa\x20inserida\x20com\x20sucesso.','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','generateWAMessageFromContent','findGroupInfo','isLong','useMultiFileAuthState','dbServer','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','port','flowConfig','join','unreadCount','\x1b[1m\x1b[37m','Fetching\x20business\x20profile','env.yml','.webm','Module\x20-\x20ON','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','startsWith','participants','apiResponse','stopWhenYouSendMsg','GROUPS_UPDATE','load','Not\x20Found','Schema','tags','conversation','decryptPollVote','findMessages'];a0_0x4c1c=function(){return _0x28656a;};return a0_0x4c1c();}var _o=Object[a0_0x20d441(0x169)],Ie=Object[a0_0x20d441(0x1db)],Po=Object[a0_0x20d441(0x42d)],$o=Object[a0_0x20d441(0x4a8)],ko=Object[a0_0x20d441(0x285)],Lo=Object[a0_0x20d441(0x486)][a0_0x20d441(0x292)],jo=(_0xcc77bd,_0x45311e)=>{for(var _0x5dc398 in _0x45311e)Ie(_0xcc77bd,_0x5dc398,{'get':_0x45311e[_0x5dc398],'enumerable':!0x0});},xs=(_0x5c8b6e,_0x316517,_0x5def41,_0xad6826)=>{const _0x397cfa=a0_0x20d441;if(_0x316517&&typeof _0x316517=='object'||typeof _0x316517==_0x397cfa(0x22c)){for(let _0x20964c of $o(_0x316517))!Lo[_0x397cfa(0x6ea)](_0x5c8b6e,_0x20964c)&&_0x20964c!==_0x5def41&&Ie(_0x5c8b6e,_0x20964c,{'get':()=>_0x316517[_0x20964c],'enumerable':!(_0xad6826=Po(_0x316517,_0x20964c))||_0xad6826[_0x397cfa(0x33c)]});}return _0x5c8b6e;},R=(_0xe6a33b,_0x34e0a3,_0x320d46)=>(_0x320d46=_0xe6a33b!=null?_o(ko(_0xe6a33b)):{},xs(_0x34e0a3||!_0xe6a33b||!_0xe6a33b[a0_0x20d441(0x540)]?Ie(_0x320d46,a0_0x20d441(0x2dd),{'value':_0xe6a33b,'enumerable':!0x0}):_0x320d46,_0xe6a33b)),Fo=_0x440ad3=>xs(Ie({},a0_0x20d441(0x540),{'value':!0x0}),_0x440ad3),zr={};jo(zr,{'subdomain':()=>vs}),module[a0_0x20d441(0x28e)]=Fo(zr);var To=R(require(a0_0x20d441(0x400))),_s=require('fs'),Ps=require('js-yaml'),$s=require(a0_0x20d441(0x277)),xe=require('path'),ae=process['cwd'](),ge=(0x0,xe[a0_0x20d441(0x686)])(ae,'instances'),Ds=(0x0,xe[a0_0x20d441(0x686)])(ae,a0_0x20d441(0x586)),Ui=(0x0,xe[a0_0x20d441(0x686)])(ae,a0_0x20d441(0x1bd),a0_0x20d441(0x3f5)),Zt=class{constructor(){const _0x2c420e=a0_0x20d441;this[_0x2c420e(0x450)]();}[a0_0x20d441(0x158)](_0x3bed3c){return this['env'][_0x3bed3c];}[a0_0x20d441(0x450)](){const _0x383ea4=a0_0x20d441;this[_0x383ea4(0x63c)]=process[_0x383ea4(0x63c)]?.['DOCKER_ENV']!==_0x383ea4(0x655)?this[_0x383ea4(0x2f6)]():this[_0x383ea4(0x3b9)](),process[_0x383ea4(0x63c)]?.['DOCKER_ENV']==='true'&&(this[_0x383ea4(0x63c)][_0x383ea4(0x2ad)][_0x383ea4(0x4e3)]=_0x383ea4(0x6a9),this[_0x383ea4(0x63c)][_0x383ea4(0x2ad)][_0x383ea4(0x6cc)]=Number[_0x383ea4(0x4b5)](process['env']?.[_0x383ea4(0x570)]??_0x383ea4(0x315)));}[a0_0x20d441(0x2f6)](){const _0x1850fb=a0_0x20d441;return(0x0,Ps[_0x1850fb(0x693)])((0x0,_s[_0x1850fb(0x36c)])((0x0,$s[_0x1850fb(0x686)])(Ds,'../env.yml'),{'encoding':_0x1850fb(0x187)}));}['envProcess'](){const _0xf2e841=a0_0x20d441;return{'SERVER':{'TYPE':process[_0xf2e841(0x63c)]['SERVER_TYPE'],'PORT':Number[_0xf2e841(0x4b5)](process[_0xf2e841(0x63c)][_0xf2e841(0x570)]),'URL':process[_0xf2e841(0x63c)][_0xf2e841(0x730)]},'CORS':{'ORIGIN':process['env'][_0xf2e841(0x29c)][_0xf2e841(0x4f6)](','),'METHODS':process['env'][_0xf2e841(0x334)][_0xf2e841(0x4f6)](','),'CREDENTIALS':process['env']?.[_0xf2e841(0x6d8)]===_0xf2e841(0x655)},'SSL_CONF':{'PRIVKEY':process['env']?.[_0xf2e841(0x23e)],'FULLCHAIN':process[_0xf2e841(0x63c)]?.[_0xf2e841(0x2ec)]},'STORE':{'CLEANING_INTERVAL':Number[_0xf2e841(0x378)](process[_0xf2e841(0x63c)]?.[_0xf2e841(0x4d9)])?Number['parseInt'](process[_0xf2e841(0x63c)][_0xf2e841(0x4d9)]):void 0x0,'MESSAGES':process[_0xf2e841(0x63c)]?.[_0xf2e841(0x25b)]===_0xf2e841(0x655),'CONTACTS':process[_0xf2e841(0x63c)]?.[_0xf2e841(0x424)]===_0xf2e841(0x655),'CHATS':process[_0xf2e841(0x63c)]?.[_0xf2e841(0x6ee)]===_0xf2e841(0x655)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.['DATABASE_CONNECTION_HOST'],'PORT':Number['parseInt'](process[_0xf2e841(0x63c)]?.['DATABASE_CONNECTION_HOST']),'USER':process[_0xf2e841(0x63c)]['DATABASE_CONNECTION_USER'],'PASSWORD':process['env'][_0xf2e841(0x13a)],'URI':process[_0xf2e841(0x63c)][_0xf2e841(0x14a)],'DB_PREFIX_NAME':process['env'][_0xf2e841(0x659)]},'ENABLED':process[_0xf2e841(0x63c)]?.['DATABASE_ENABLED']==='true'},'REDIS':{'ENABLED':process[_0xf2e841(0x63c)]?.[_0xf2e841(0x506)]==='true','URI':process[_0xf2e841(0x63c)][_0xf2e841(0x794)]||'redis://127.0.0.1:6379','PREFIX_KEY':process[_0xf2e841(0x63c)]['REDIS_PREFIX_KEY']||_0xf2e841(0x66f)},'LOG':{'LEVEL':process[_0xf2e841(0x63c)]?.[_0xf2e841(0x17e)][_0xf2e841(0x4f6)](','),'COLOR':process[_0xf2e841(0x63c)]?.[_0xf2e841(0x5b7)]===_0xf2e841(0x655)},'PROXY':process[_0xf2e841(0x63c)]?.[_0xf2e841(0x65b)]===_0xf2e841(0x655),'AUTHENTICATION':{'TYPE':process[_0xf2e841(0x63c)][_0xf2e841(0x415)],'API_KEY':{'KEY':process[_0xf2e841(0x63c)][_0xf2e841(0x33b)]},'JWT':{'EXPIRIN_IN':Number[_0xf2e841(0x378)](process[_0xf2e841(0x63c)]?.[_0xf2e841(0x4fd)])?Number[_0xf2e841(0x4b5)](process[_0xf2e841(0x63c)][_0xf2e841(0x4fd)]):0xe10,'SECRET':process[_0xf2e841(0x63c)][_0xf2e841(0x55a)]}}};}},b=new Zt(),Ao=R(require('cors')),pe=R(require(a0_0x20d441(0x413))),Os=require(a0_0x20d441(0x277)),es=R(require('dayjs')),ts=(_0x3a00e7=>(_0x3a00e7[a0_0x20d441(0x513)]='\x1b[32m',_0x3a00e7[a0_0x20d441(0x77a)]=a0_0x20d441(0x48a),_0x3a00e7[a0_0x20d441(0x206)]=a0_0x20d441(0x1ad),_0x3a00e7['ERROR']=a0_0x20d441(0x3bc),_0x3a00e7['DEBUG']=a0_0x20d441(0x26f),_0x3a00e7['VERBOSE']=a0_0x20d441(0x166),_0x3a00e7[a0_0x20d441(0x236)]='\x1b[30m',_0x3a00e7))(ts||{}),ks=(_0x251edc=>(_0x251edc[a0_0x20d441(0x513)]=a0_0x20d441(0x711),_0x251edc[a0_0x20d441(0x236)]=a0_0x20d441(0x4b3),_0x251edc[a0_0x20d441(0x77a)]=a0_0x20d441(0x1cf),_0x251edc[a0_0x20d441(0x206)]=a0_0x20d441(0x1c0),_0x251edc[a0_0x20d441(0x758)]=a0_0x20d441(0x6b5),_0x251edc[a0_0x20d441(0x1c2)]=a0_0x20d441(0x3f1),_0x251edc[a0_0x20d441(0x313)]=a0_0x20d441(0x307),_0x251edc))(ks||{}),Ls=(_0x4c67c2=>(_0x4c67c2[a0_0x20d441(0x513)]=a0_0x20d441(0x513),_0x4c67c2[a0_0x20d441(0x206)]='WARN',_0x4c67c2[a0_0x20d441(0x77a)]='INFO',_0x4c67c2['DARK']=a0_0x20d441(0x236),_0x4c67c2[a0_0x20d441(0x758)]=a0_0x20d441(0x758),_0x4c67c2[a0_0x20d441(0x1c2)]=a0_0x20d441(0x1c2),_0x4c67c2[a0_0x20d441(0x313)]='VERBOSE',_0x4c67c2))(Ls||{}),js=(_0x4f7e7e=>(_0x4f7e7e[a0_0x20d441(0x513)]='\x1b[42m',_0x4f7e7e[a0_0x20d441(0x77a)]=a0_0x20d441(0x4ab),_0x4f7e7e['WARN']=a0_0x20d441(0x393),_0x4f7e7e['DARK']='\x1b[40m',_0x4f7e7e[a0_0x20d441(0x758)]=a0_0x20d441(0x4b1),_0x4f7e7e[a0_0x20d441(0x1c2)]='\x1b[46m',_0x4f7e7e[a0_0x20d441(0x313)]=a0_0x20d441(0x266),_0x4f7e7e))(js||{}),v=class{constructor(_0x516cfa=a0_0x20d441(0x300)){const _0x197a87=a0_0x20d441;this[_0x197a87(0x2e8)]=_0x516cfa,this['configService']=b;}[a0_0x20d441(0x39f)](_0x31672c){const _0x439b29=a0_0x20d441;this[_0x439b29(0x2e8)]=_0x31672c;}[a0_0x20d441(0x492)](_0x2b116a,_0x108e1b){const _0xf4526b=a0_0x20d441;let _0x317484=[];this[_0xf4526b(0x74f)][_0xf4526b(0x158)](_0xf4526b(0x513))['LEVEL'][_0xf4526b(0x3ce)](_0x560717=>_0x317484['push'](Ls[_0x560717]));let _0x33742e=typeof _0x2b116a;_0x317484['includes'](_0x108e1b)&&(b[_0xf4526b(0x158)](_0xf4526b(0x513))[_0xf4526b(0x412)]?(console[_0xf4526b(0x3a8)](_0xf4526b(0x40d)+ks[_0x108e1b],_0xf4526b(0x688),(0x0,es['default'])()['format'](_0xf4526b(0x326)),_0xf4526b(0x70b),ts[_0x108e1b]+js[_0x108e1b]+_0xf4526b(0x40d),_0x108e1b+_0xf4526b(0x3f8),_0xf4526b(0x204),this[_0xf4526b(0x2e8)]+_0xf4526b(0x70b),ts[_0x108e1b],_0x33742e!==_0xf4526b(0x522)?_0x2b116a:'',_0xf4526b(0x70b)),_0x33742e===_0xf4526b(0x522)&&console[_0xf4526b(0x3a8)](_0x2b116a,'\x0a')):console[_0xf4526b(0x3a8)]((0x0,es[_0xf4526b(0x2dd)])()[_0xf4526b(0x471)](_0xf4526b(0x138)),_0x108e1b+'\x20',''+this['context'],_0x2b116a));}[a0_0x20d441(0x3a8)](_0x2991e7){const _0x2cb5c1=a0_0x20d441;this[_0x2cb5c1(0x492)](_0x2991e7,_0x2cb5c1(0x513));}[a0_0x20d441(0x775)](_0x36050d){const _0x4ca88b=a0_0x20d441;this[_0x4ca88b(0x492)](_0x36050d,_0x4ca88b(0x77a));}[a0_0x20d441(0x4a1)](_0x38c6fb){const _0x580f5f=a0_0x20d441;this[_0x580f5f(0x492)](_0x38c6fb,'WARN');}['error'](_0x4cba7c){const _0x462522=a0_0x20d441;this[_0x462522(0x492)](_0x4cba7c,'ERROR');}['verbose'](_0x570d7d){const _0x87117=a0_0x20d441;this[_0x87117(0x492)](_0x570d7d,'VERBOSE');}['debug'](_0x1c9619){const _0x4de127=a0_0x20d441;this[_0x4de127(0x492)](_0x1c9619,_0x4de127(0x1c2));}['dark'](_0x2de25b){const _0x13666e=a0_0x20d441;this[_0x13666e(0x492)](_0x2de25b,'DARK');}};function Fs(){process['on']('uncaughtException',(_0x2aae30,_0x3b140b)=>{const _0x2f169b=a0_0x731d;new v('uncaughtException')['error']({'origin':_0x3b140b,'stderr':process[_0x2f169b(0x34d)]['fd'],'error':_0x2aae30});}),process['on']('unhandledRejection',(_0x164ef5,_0x489d9b)=>{const _0x22962d=a0_0x731d;new v(_0x22962d(0x71d))[_0x22962d(0x5e0)]({'origin':_0x489d9b,'stderr':process['stderr']['fd'],'error':_0x164ef5});});}var qs=R(require(a0_0x20d441(0x5bf))),ss=new qs[(a0_0x20d441(0x2dd))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),De=require('mongoose'),as=R(require(a0_0x20d441(0x460))),qo=new v(a0_0x20d441(0x6d0)),V=b[a0_0x20d441(0x158)](a0_0x20d441(0x3d9)),N=V[a0_0x20d441(0x478)]?V['CONNECTION'][a0_0x20d441(0x64a)]?as[a0_0x20d441(0x2dd)][a0_0x20d441(0x5a1)](V['CONNECTION'][a0_0x20d441(0x64a)],{'dbName':V[a0_0x20d441(0x713)][a0_0x20d441(0x23c)]+a0_0x20d441(0x4b8)}):as['default'][a0_0x20d441(0x5a1)]('mongodb://'+V[a0_0x20d441(0x713)][a0_0x20d441(0x350)]+':'+V[a0_0x20d441(0x713)][a0_0x20d441(0x6cc)]+a0_0x20d441(0x30a),{'user':V[a0_0x20d441(0x713)]['USER'],'pass':V['CONNECTION'][a0_0x20d441(0x16d)],'dbName':V['CONNECTION']['DB_PREFIX_NAME']+a0_0x20d441(0x4b8)}):null;V[a0_0x20d441(0x478)]&&qo[a0_0x20d441(0x775)](a0_0x20d441(0x2b6)+N[a0_0x20d441(0x661)]);var Uo=new De[(a0_0x20d441(0x695))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Jo=new De[(a0_0x20d441(0x695))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Uo],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Vo=new De[(a0_0x20d441(0x695))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Jo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Us=_0x1382f9=>{const _0xbc1b86=a0_0x20d441;let _0x450030='z_'+_0x1382f9+_0xbc1b86(0x22d);return N?.['model']('ChatModel',Vo,_0x450030);},Js=require('mongoose'),Bo=new Js['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Vs=_0x40ba99=>{const _0x18ba30=a0_0x20d441;let _0x2c18e0='z_'+_0x40ba99+'_Contacts';return N?.[_0x18ba30(0x4ef)]('ContactModel',Bo,_0x2c18e0);},Bs=require('mongoose'),Go=new Bs['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Gs=_0x1fb956=>{const _0x58c968=a0_0x20d441;let _0x1730c6='z_'+_0x1fb956+_0x58c968(0x4c6);return N?.[_0x58c968(0x4ef)](_0x58c968(0x2ab),Go,_0x1730c6);},Ws=require('mongoose'),os=class{},Wo=new Ws['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),zs=N?.['model'](os[a0_0x20d441(0x6cb)],Wo,a0_0x20d441(0x36f)),Hs=require('mongoose'),rs=class{},Ks=new Hs[(a0_0x20d441(0x695))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});function a0_0x731d(_0x2caecd,_0x4f42db){const _0x4c1cb7=a0_0x4c1c();return a0_0x731d=function(_0x731d95,_0x32f398){_0x731d95=_0x731d95-0x135;let _0x2130a0=_0x4c1cb7[_0x731d95];return _0x2130a0;},a0_0x731d(_0x2caecd,_0x4f42db);}Ks[a0_0x20d441(0x561)]('save',function(_0x384936){const _0x510791=a0_0x20d441;delete this[_0x510791(0x289)],delete this[_0x510791(0x634)],delete this['flowPrefixCommand'],delete this[_0x510791(0x709)],delete this['flowStopMinutes'],_0x384936();});var Qs=N?.[a0_0x20d441(0x4ef)](rs[a0_0x20d441(0x6cb)],Ks,'webhook'),_=require('mongoose'),_e=class{},Ys=new _[(a0_0x20d441(0x695))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),is=new _[(a0_0x20d441(0x695))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),zo=new _[(a0_0x20d441(0x695))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x20d441(0x58a)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x20d441(0x59a)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x20d441(0x1cd)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Xs=new _[(a0_0x20d441(0x695))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Ho=new _[(a0_0x20d441(0x695))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Ko=new _['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Zs=new _['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':zo},'apirequest':Ho,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ds=new _[(a0_0x20d441(0x695))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ea=new _[(a0_0x20d441(0x695))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ns=class{},ps=new _[(a0_0x20d441(0x695))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x4a4b47=a0_0x20d441;return _0x4a4b47(0x6d1)+Math[_0x4a4b47(0x496)]()[_0x4a4b47(0x390)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ds],'variablesNotFound':{'type':[String]},'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[is],'default':[]}});ps[a0_0x20d441(0x561)](a0_0x20d441(0x46a),function(_0x3c0c9f){const _0x4c64dc=a0_0x20d441;let _0x460941=new Set(),_0x224935=new Set(this[_0x4c64dc(0x1dc)]?.[_0x4c64dc(0x6b3)](_0x1e73b3=>_0x1e73b3[_0x4c64dc(0x6cb)])),_0x2739f8=JSON['stringify'](this),_0x30c6c4=/{{(?!_)([^}]*)}}/g,_0x5e8f72;for(;(_0x5e8f72=_0x30c6c4['exec'](_0x2739f8))!==null;)_0x224935[_0x4c64dc(0x4e9)](_0x5e8f72[0x1])||_0x460941[_0x4c64dc(0x2f7)](_0x5e8f72[0x1]);_0x460941[_0x4c64dc(0x718)]>0x0?(console['warn']('Variáveis\x20não\x20encontradas:',Array[_0x4c64dc(0x31a)](_0x460941)),this[_0x4c64dc(0x45f)]=Array['from'](_0x460941)):this[_0x4c64dc(0x45f)]=[],_0x3c0c9f();});var ta=_0x24e594=>{const _0x17664f=a0_0x20d441;let _0x377d3a='z_'+_0x24e594+_0x17664f(0x6e2);return N?.[_0x17664f(0x4ef)](_0x17664f(0x5e9),ps,_0x377d3a);},sa=N?.[a0_0x20d441(0x4ef)](ns[a0_0x20d441(0x6cb)],ps,a0_0x20d441(0x642)),Qo=new _[(a0_0x20d441(0x695))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ds],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Ko]},{'_id':!0x1}),cs=class{},aa=new _[(a0_0x20d441(0x695))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ds],'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[is],'default':[]},'chatLog':Qo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x20d441(0x47b)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x20d441(0x1cd)},'waitingMenu_replyOptions':{'type':[is],'default':[]}}),oa=_0x97d781=>{const _0x1411ce=a0_0x20d441;let _0x3ae9ad='z_'+_0x97d781+_0x1411ce(0x73a);return N?.[_0x1411ce(0x4ef)](_0x1411ce(0x4ae),aa,_0x3ae9ad);},ra=N?.[a0_0x20d441(0x4ef)](cs[a0_0x20d441(0x6cb)],aa,a0_0x20d441(0x3c8)),ls=class{},Yo=new _[(a0_0x20d441(0x695))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Xo=new _[(a0_0x20d441(0x695))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ia=new _['Schema']({'owner':{'type':String},'status':{'type':String,'default':'scheduled'},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Xo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Yo],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),na=_0x3198b1=>{const _0x2b1a2c=a0_0x20d441;let _0x3fbe86='z_'+_0x3198b1+'_ScheduleMessages';return N?.[_0x2b1a2c(0x4ef)](_0x2b1a2c(0x42f),ia,_0x3fbe86);},ca=N?.['model'](ls[a0_0x20d441(0x6cb)],ia,a0_0x20d441(0x2ed)),us=class{},Zo=new _[(a0_0x20d441(0x695))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),er=new _[(a0_0x20d441(0x695))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x20d441(0x70d)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),tr=new _[(a0_0x20d441(0x695))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),sr=new _['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[tr]},'customFields':{'type':[Zo]},'flowConfig':{'type':er,'default':{}}}),Pe=N?.[a0_0x20d441(0x4ef)](us[a0_0x20d441(0x6cb)],sr,'AutomateSystem'),la=require(a0_0x20d441(0x460)),ar=new la['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ua=_0x498f02=>{const _0x5f07d5=a0_0x20d441;let _0x18681f='z_'+_0x498f02+_0x5f07d5(0x25c);return N?.[_0x5f07d5(0x4ef)](_0x5f07d5(0x76b),ar,_0x18681f);},I=class{constructor(_0x19e0b8){const _0x417664=a0_0x20d441;this[_0x417664(0x15d)]=_0x19e0b8['get'](_0x417664(0x3d9));}};function A(_0x843039){const _0x59a863=a0_0x20d441;let _0x11dd18={};for(let [_0x2c841a,_0x190f33]of Object[_0x59a863(0x28c)](_0x843039))if(typeof _0x190f33==_0x59a863(0x522)&&!Array[_0x59a863(0x190)](_0x190f33)){for(let [_0x2d66e4,_0x3841de]of Object[_0x59a863(0x28c)](_0x190f33))_0x11dd18[_0x2c841a+'.'+_0x2d66e4]=_0x3841de;}else _0x11dd18[_0x2c841a]=_0x190f33;return _0x11dd18;}var $e=class{constructor(_0x284697,_0x4e42f8,_0x3a565c,_0x12eea7,_0x497dda,_0x30d7f5,_0x1b8039,_0x3b5df4,_0x39f1da,_0x143aab,_0x4f4b2c){const _0x21f626=a0_0x20d441;this[_0x21f626(0x71e)]=_0x284697,this['chat']=_0x4e42f8,this[_0x21f626(0x377)]=_0x3a565c,this[_0x21f626(0x545)]=_0x12eea7,this[_0x21f626(0x3f5)]=_0x497dda,this[_0x21f626(0x642)]=_0x30d7f5,this[_0x21f626(0x3c8)]=_0x1b8039,this[_0x21f626(0x5f4)]=_0x3b5df4,this[_0x21f626(0x630)]=_0x39f1da,this[_0x21f626(0x60d)]=_0x143aab,this[_0x21f626(0x6f1)]=_0x4f4b2c;}get[a0_0x20d441(0x681)](){const _0x27242a=a0_0x20d441;return this[_0x27242a(0x6f1)];}},ke=class{},Le=class extends I{[a0_0x20d441(0x516)](_0x22800f){return Gs(_0x22800f);}async[a0_0x20d441(0x52c)](_0xf14751,_0x7ab996){const _0x1fbf8a=a0_0x20d441;if(_0xf14751['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x7ab996)[_0x1fbf8a(0x3d5)]([..._0xf14751]))[_0x1fbf8a(0x280)]};}catch(_0x35bfa7){return _0x35bfa7;}}async[a0_0x20d441(0x466)](_0x20460c,_0x4f978a){const _0xc64982=a0_0x20d441;try{let _0x254f82=this[_0xc64982(0x516)](_0x4f978a),_0x589021=A(_0x20460c['where']);return await _0x254f82['find'](_0x589021)[_0xc64982(0x42e)]({'messageTimestamp':-0x1})[_0xc64982(0x184)](_0x20460c?.[_0xc64982(0x184)]??0x0)['lean']();}catch{return[];}}async[a0_0x20d441(0x435)](_0x5a31f6,_0x390c72){const _0x3aa3d9=a0_0x20d441;try{let _0x2faa3a=this[_0x3aa3d9(0x516)](_0x390c72),_0x1cbde6=A(_0x5a31f6[_0x3aa3d9(0x778)]);await _0x2faa3a[_0x3aa3d9(0x2a3)](_0x1cbde6);}catch(_0x4eb238){console[_0x3aa3d9(0x5e0)](_0x4eb238);}}async[a0_0x20d441(0x338)](_0x5aba4e,_0x5125f0,_0x2697e9){const _0x4e3fec=a0_0x20d441;try{let _0x5045d3=this[_0x4e3fec(0x516)](_0x2697e9),_0x59c123=A(_0x5aba4e[_0x4e3fec(0x778)]);return await _0x5045d3['findOneAndUpdate'](_0x59c123,{'$set':_0x5125f0},{'new':!0x0});}catch(_0x25aeeb){throw console[_0x4e3fec(0x5e0)](_0x25aeeb),_0x25aeeb;}}async[a0_0x20d441(0x3d5)](_0x271f04,_0x12d2d4){const _0x2d9d6b=a0_0x20d441;if(_0x271f04['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x12d2d4)[_0x2d9d6b(0x3d5)]([..._0x271f04]))[_0x2d9d6b(0x280)]};}catch(_0x28ae6b){return console['log'](_0x2d9d6b(0x74b),_0x28ae6b),_0x28ae6b;}}async[a0_0x20d441(0x472)](_0x43b9ab){const _0x1c317b=a0_0x20d441;try{return await this[_0x1c317b(0x516)](_0x43b9ab)[_0x1c317b(0x1df)][_0x1c317b(0x6eb)](),{'success':!0x0};}catch(_0x3283d3){return console[_0x1c317b(0x5e0)](_0x3283d3),{'success':!0x1,'error':_0x3283d3};}}},wo=R(require(a0_0x20d441(0x259))),y=R(require('@whiskeysockets/baileys')),ve=require('fs'),F=R(require(a0_0x20d441(0x277))),se=R(require(a0_0x20d441(0x1b8))),yo=require(a0_0x20d441(0x3aa)),bo=R(require(a0_0x20d441(0x3c7))),So=R(require('qrcode-terminal')),da=[a0_0x20d441(0x39e),a0_0x20d441(0x26e),a0_0x20d441(0x348),a0_0x20d441(0x41d),a0_0x20d441(0x78e)],pa=[a0_0x20d441(0x4c4),a0_0x20d441(0x437),a0_0x20d441(0x49c),a0_0x20d441(0x515)],Ss=require('os'),Ot=R(require(a0_0x20d441(0x32b))),_t=require(a0_0x20d441(0x62c)),It=require(a0_0x20d441(0x75a)),ie=R(require(a0_0x20d441(0x460))),k=require(a0_0x20d441(0x6ae)),me=class{constructor(_0x2702ea,_0x1d5ee7,_0x1804b8){const _0x363f83=a0_0x20d441;this[_0x363f83(0x54f)]=_0x2702ea,this['exists']=_0x1d5ee7,this[_0x363f83(0x6cb)]=_0x1804b8;}},je=class{},Fe=class{},be=class{},qe=class{},Ue=class{},fe=class{},Je=class{},Ve=class{},Be=class{},Ge=class{},Mt=R(require(a0_0x20d441(0x413))),ha=require('fs'),ga=require(a0_0x20d441(0x277));async function We(_0x351dca){const _0x1d2435=a0_0x20d441;let _0x1b243b=B[_0x1d2435(0x28a)][_0x351dca];if(V[_0x1d2435(0x478)]){let _0xda2c37=N[_0x1d2435(0x736)]()['db'](V['CONNECTION']['DB_PREFIX_NAME']+'-instances')[_0x1d2435(0x1df)](_0x351dca);return _0x1b243b||(await _0xda2c37[_0x1d2435(0x466)]({})['toArray']())[_0x1d2435(0x280)]>0x0;}return _0x1b243b||(0x0,ha[_0x1d2435(0x5db)])((0x0,ga['join'])(ge,_0x351dca));}async function ma(_0x5359b7,_0x4335e8,_0x316cb3){const _0x3349b5=a0_0x20d441;if(_0x5359b7[_0x3349b5(0x1ef)][_0x3349b5(0x4c9)](_0x3349b5(0x584))||_0x5359b7[_0x3349b5(0x1ef)][_0x3349b5(0x4c9)]('/instance/fetchInstances')||_0x5359b7[_0x3349b5(0x1ef)][_0x3349b5(0x4c9)](_0x3349b5(0x23d))||_0x5359b7[_0x3349b5(0x1ef)][_0x3349b5(0x4c9)](_0x3349b5(0x24e))||_0x5359b7[_0x3349b5(0x1ef)][_0x3349b5(0x4c9)](_0x3349b5(0x6ba))||_0x5359b7[_0x3349b5(0x1ef)][_0x3349b5(0x4c9)](_0x3349b5(0x3f9))||_0x5359b7[_0x3349b5(0x1ef)][_0x3349b5(0x4c9)]('/instance/delete'))return _0x316cb3();let _0x1c8441=_0x5359b7[_0x3349b5(0x6b4)];if(!_0x1c8441?.[_0x3349b5(0x621)])throw new m(_0x3349b5(0x3ed));if(!await We(_0x1c8441['instanceName']))throw new j(_0x3349b5(0x5e4)+_0x1c8441['instanceName']+_0x3349b5(0x73b));_0x316cb3();}async function fa(_0x438a90,_0x2f2a42,_0x4dad89){const _0x1f1f24=a0_0x20d441;if(_0x438a90[_0x1f1f24(0x1ef)]['includes']('/instance/create')){let _0x28192c=_0x438a90[_0x1f1f24(0x336)];if(await We(_0x28192c[_0x1f1f24(0x621)]))throw new K('This\x20name\x20'+_0x28192c['instanceName']+_0x1f1f24(0x404));B[_0x1f1f24(0x28a)][_0x28192c['instanceName']]&&delete B['waInstances'][_0x28192c[_0x1f1f24(0x621)]];}_0x4dad89();}var wa=require(a0_0x20d441(0x6ae)),ya=R(require(a0_0x20d441(0x2d9))),ze='uazapi',rr=new v('GUARD');async function ir(_0x1f0c1c,_0x745bbf,_0x5166a6){const _0x3972ad=a0_0x20d441;let _0xe27afe=_0x1f0c1c['get']('apikey');if(_0xe27afe&&b['get'](_0x3972ad(0x1da))[_0x3972ad(0x3fb)][_0x3972ad(0x31b)]!==_0xe27afe)throw new ee();if(b[_0x3972ad(0x158)](_0x3972ad(0x1da))['API_KEY'][_0x3972ad(0x31b)]===_0xe27afe)return _0x5166a6();if((_0x1f0c1c[_0x3972ad(0x1ef)][_0x3972ad(0x4c9)](_0x3972ad(0x584))||_0x1f0c1c[_0x3972ad(0x1ef)][_0x3972ad(0x4c9)]('/instance/fetchInstances'))&&!_0xe27afe)throw new K(_0x3972ad(0x633),_0x3972ad(0x4c2));let _0x415477=b[_0x3972ad(0x158)](_0x3972ad(0x1da))[_0x3972ad(0x454)];try{let [_0x4cfd7a,_0x467de2]=_0x1f0c1c[_0x3972ad(0x158)](_0x3972ad(0x676))[_0x3972ad(0x4f6)]('\x20');if(_0x4cfd7a[_0x3972ad(0x4d4)]()!==_0x3972ad(0x351))throw new ee();if(!(0x0,wa[_0x3972ad(0x16e)])(_0x467de2))throw new ee();let _0x22caaa=_0x1f0c1c[_0x3972ad(0x6b4)],_0x4ddad7=ya[_0x3972ad(0x2dd)]['verify'](_0x467de2,_0x415477[_0x3972ad(0x520)],{'ignoreExpiration':_0x415477[_0x3972ad(0x363)]===0x0});if(_0x22caaa['instanceName']!==_0x4ddad7['instanceName']||ze!==_0x4ddad7['apiName'])throw new ee();return _0x5166a6();}catch(_0x598f7f){throw rr[_0x3972ad(0x5e0)](_0x598f7f),new ee();}}async function nr(_0x2ef769,_0x5b3604,_0x20df0e){const _0x1e3ec3=a0_0x20d441;let _0x5ea859=b[_0x1e3ec3(0x158)](_0x1e3ec3(0x1da))['API_KEY'],_0x4a22e8=_0x2ef769['get'](_0x1e3ec3(0x708));if(_0x5ea859[_0x1e3ec3(0x31b)]===_0x4a22e8)return _0x20df0e();if(_0x2ef769[_0x1e3ec3(0x1ef)]['includes']('/instance/create')){let _0x5ef27d=He,_0x2d85c6=_0x2ef769[_0x1e3ec3(0x336)][_0x1e3ec3(0x621)];if(_0x5ef27d&&_0x2d85c6['toLowerCase']()[_0x1e3ec3(0x68e)](_0x5ef27d[_0x1e3ec3(0x4d4)]()))return _0x20df0e();if(!_0x4a22e8)throw new K(_0x1e3ec3(0x633),_0x1e3ec3(0x4c2));}if(_0x2ef769[_0x1e3ec3(0x1ef)][_0x1e3ec3(0x4c9)]('/instance/fetchInstances')&&!_0x4a22e8)throw new K(_0x1e3ec3(0x633),_0x1e3ec3(0x4c2));if(_0x2ef769[_0x1e3ec3(0x1ef)][_0x1e3ec3(0x4c9)](_0x1e3ec3(0x23d))&&!_0x4a22e8)throw new K(_0x1e3ec3(0x633),_0x1e3ec3(0x4c2));if(_0x2ef769['originalUrl']['includes']('/config')&&!_0x4a22e8)throw new K('Missing\x20global\x20api\x20key',_0x1e3ec3(0x4c2));try{let _0x19f1b0=_0x2ef769[_0x1e3ec3(0x6b4)];if((await ce[_0x1e3ec3(0x3f5)][_0x1e3ec3(0x466)](_0x19f1b0[_0x1e3ec3(0x621)]))[_0x1e3ec3(0x708)]===_0x4a22e8)return _0x20df0e();}catch{}throw new ee();}var ba={'jwt':ir,'apikey':nr},Za=require(a0_0x20d441(0x413)),C=require('uuid'),S=(..._0x38ee0a)=>{const _0x3709db=a0_0x20d441;let _0x27a348={};return _0x38ee0a[_0x3709db(0x3ce)](_0x4e468e=>_0x27a348[_0x4e468e]={'minLength':0x1,'description':_0x3709db(0x164)+_0x4e468e+_0x3709db(0x499)}),{'if':{'propertyNames':{'enum':[..._0x38ee0a]}},'then':{'properties':_0x27a348}};},M={'$id':(0x0,C['v4'])(),'type':'object','properties':{'instanceName':{'type':'string'}},...S(a0_0x20d441(0x621))},Hn={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'oldToken':{'type':'string'}},'required':[a0_0x20d441(0x607)],...S(a0_0x20d441(0x607))},Kn={'properties':{'key':{'type':a0_0x20d441(0x522),'properties':{'id':{'type':a0_0x20d441(0x6c0)},'remoteJid':{'type':a0_0x20d441(0x6c0)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x20d441(0x290),a0_0x20d441(0x43e)],...S('id',a0_0x20d441(0x290))},'message':{'type':a0_0x20d441(0x522)}}},Q={'properties':{'delay':{'type':a0_0x20d441(0x75b),'description':a0_0x20d441(0x2ef)},'presence':{'type':'string','enum':[a0_0x20d441(0x3a9),a0_0x20d441(0x6c2),a0_0x20d441(0x6db),'recording','paused']}}},z={'type':a0_0x20d441(0x6c0),'pattern':a0_0x20d441(0x41f),'description':'Invalid\x20format'},Sa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0x20d441(0x522),'properties':{'text':{'type':a0_0x20d441(0x6c0)}},'required':[a0_0x20d441(0x5e5)],...S(a0_0x20d441(0x5e5))}},'required':['textMessage',a0_0x20d441(0x5d0)]},Ea={'type':a0_0x20d441(0x6c0),'pattern':a0_0x20d441(0x25a),'description':a0_0x20d441(0x3b3)},Qn={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'number':{...Ea},'options':{...Q},'textMessage':{'type':a0_0x20d441(0x522),'properties':{'text':{'type':a0_0x20d441(0x6c0)}},'required':[a0_0x20d441(0x5e5)],...S('text')}},'required':[a0_0x20d441(0x256),a0_0x20d441(0x5d0)]},Yn={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'number':{...Ea},'options':{...Q},'mediaMessage':{'type':a0_0x20d441(0x522),'properties':{'mediatype':{'type':a0_0x20d441(0x6c0),'enum':[a0_0x20d441(0x150),a0_0x20d441(0x4d7),'video',a0_0x20d441(0x42a)]},'media':{'type':a0_0x20d441(0x6c0)},'fileName':{'type':'string'},'caption':{'type':a0_0x20d441(0x6c0)}},'required':[a0_0x20d441(0x509),a0_0x20d441(0x27f)],...S('fileName',a0_0x20d441(0x527),a0_0x20d441(0x27f))}},'required':[a0_0x20d441(0x2dc),a0_0x20d441(0x5d0)]},Ca={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':'object','properties':{'image':{'type':a0_0x20d441(0x6c0)}},'required':['image'],...S(a0_0x20d441(0x150))}},'required':[a0_0x20d441(0x78e),a0_0x20d441(0x5d0)]},Ma={'$id':(0x0,C['v4'])(),'type':'object','properties':{'statusMessage':{'type':'object','properties':{'type':{'type':'string','enum':['text',a0_0x20d441(0x150),a0_0x20d441(0x42a),a0_0x20d441(0x6f2)]},'content':{'type':a0_0x20d441(0x6c0)},'caption':{'type':a0_0x20d441(0x6c0)},'backgroundColor':{'type':a0_0x20d441(0x6c0)},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x20d441(0x673),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x20d441(0x6c0),'pattern':a0_0x20d441(0x638),'description':a0_0x20d441(0x46c)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x20d441(0x7a0),a0_0x20d441(0x431)],...S(a0_0x20d441(0x7a0),a0_0x20d441(0x431))}},'required':[a0_0x20d441(0x773)]},va={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':a0_0x20d441(0x522),'properties':{'mediatype':{'type':a0_0x20d441(0x6c0),'enum':['image',a0_0x20d441(0x4d7),a0_0x20d441(0x6f2),a0_0x20d441(0x42a)]},'media':{'type':a0_0x20d441(0x6c0)},'fileName':{'type':a0_0x20d441(0x6c0)},'caption':{'type':'string'}},'required':[a0_0x20d441(0x509),a0_0x20d441(0x27f)],...S(a0_0x20d441(0x463),a0_0x20d441(0x527),a0_0x20d441(0x27f))}},'required':[a0_0x20d441(0x2dc),a0_0x20d441(0x5d0)]},Na={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0x20d441(0x522),'properties':{'audio':{'type':a0_0x20d441(0x6c0)}},'required':[a0_0x20d441(0x42a)],...S('audio')}},'required':[a0_0x20d441(0x348),a0_0x20d441(0x5d0)]},Ra={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'pollMessage':{'type':a0_0x20d441(0x522),'properties':{'name':{'type':'string'},'selectableCount':{'type':a0_0x20d441(0x5d0)},'values':{'type':a0_0x20d441(0x673),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x20d441(0x6cb),'selectableCount',a0_0x20d441(0x54a)],...S(a0_0x20d441(0x6cb),a0_0x20d441(0x653),'values')}},'required':[a0_0x20d441(0x5d0),a0_0x20d441(0x254)]},Ta={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'number':{...z},'menuMessage':{'type':a0_0x20d441(0x522),'properties':{'text':{'type':a0_0x20d441(0x6c0)},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x20d441(0x5e5),a0_0x20d441(0x3fe)],...S(a0_0x20d441(0x5e5),'choices')}},'required':['number',a0_0x20d441(0x43a)]},Aa={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0x20d441(0x522),'properties':{'title':{'type':a0_0x20d441(0x6c0)},'description':{'type':a0_0x20d441(0x6c0)},'footerText':{'type':a0_0x20d441(0x6c0)},'buttons':{'type':a0_0x20d441(0x673),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':a0_0x20d441(0x6c0)},'buttonId':{'type':a0_0x20d441(0x6c0)}},'required':[a0_0x20d441(0x222),a0_0x20d441(0x34a)],...S(a0_0x20d441(0x222),a0_0x20d441(0x34a))}},'mediaMessage':{'type':a0_0x20d441(0x522),'properties':{'media':{'type':a0_0x20d441(0x6c0)},'fileName':{'type':a0_0x20d441(0x6c0)},'mediatype':{'type':a0_0x20d441(0x6c0),'enum':[a0_0x20d441(0x150),a0_0x20d441(0x4d7),a0_0x20d441(0x6f2)]}},'required':['media','mediatype'],...S(a0_0x20d441(0x27f),a0_0x20d441(0x463))}},'required':[a0_0x20d441(0x615),a0_0x20d441(0x2c6)],...S('title',a0_0x20d441(0x6a1))}},'required':['number',a0_0x20d441(0x741)]},Oa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x20d441(0x522),'properties':{'latitude':{'type':a0_0x20d441(0x5d0)},'longitude':{'type':a0_0x20d441(0x5d0)},'name':{'type':'string'},'address':{'type':a0_0x20d441(0x6c0)}},'required':[a0_0x20d441(0x4ce),a0_0x20d441(0x465)],...S(a0_0x20d441(0x6cb),'addresss')}},'required':[a0_0x20d441(0x5d0),a0_0x20d441(0x783)]},Ia={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x20d441(0x6c0)},'description':{'type':a0_0x20d441(0x6c0)},'footerText':{'type':a0_0x20d441(0x6c0)},'buttonText':{'type':a0_0x20d441(0x6c0)},'sections':{'type':a0_0x20d441(0x673),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x20d441(0x522),'properties':{'title':{'type':a0_0x20d441(0x6c0)},'rows':{'type':a0_0x20d441(0x673),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x20d441(0x522),'properties':{'title':{'type':a0_0x20d441(0x6c0)},'description':{'type':'string'},'rowId':{'type':a0_0x20d441(0x6c0)}},'required':[a0_0x20d441(0x615),a0_0x20d441(0x4c0)],...S(a0_0x20d441(0x615),a0_0x20d441(0x4c0))}}},'required':[a0_0x20d441(0x615),a0_0x20d441(0x429)],...S('title')}}},'required':[a0_0x20d441(0x615),a0_0x20d441(0x6a1),a0_0x20d441(0x222),a0_0x20d441(0x4f9)],...S(a0_0x20d441(0x615),'description',a0_0x20d441(0x222),a0_0x20d441(0x6d2))}},'required':[a0_0x20d441(0x5d0),'listMessage']},xa={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':'array','items':{'type':'object','properties':{'fullName':{'type':a0_0x20d441(0x6c0)},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0x20d441(0x73e),a0_0x20d441(0x408)],...S(a0_0x20d441(0x73e))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x20d441(0x6fa)]},Da={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0x20d441(0x522),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x20d441(0x6c0)},'fromMe':{'type':a0_0x20d441(0x38a),'enum':[!0x0,!0x1]}},'required':['id',a0_0x20d441(0x290),'fromMe'],...S('id',a0_0x20d441(0x290))},'reaction':{'type':'string'}},'required':[a0_0x20d441(0x59d),'reaction'],...S('reaction')}},'required':['reactionMessage']},_a={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'numbers':{'type':a0_0x20d441(0x673),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x20d441(0x6c0),'pattern':a0_0x20d441(0x638),'description':a0_0x20d441(0x243)}}}},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'readMessages':{'type':a0_0x20d441(0x673),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x20d441(0x38a),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x20d441(0x6c0)}},'required':['id',a0_0x20d441(0x43e),a0_0x20d441(0x290)],...S('id','remoteJid')}}},'required':[a0_0x20d441(0x6bb)]},$a={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'privacySettings':{'type':a0_0x20d441(0x522),'properties':{'readreceipts':{'type':'string','enum':[a0_0x20d441(0x5a5),a0_0x20d441(0x155)]},'profile':{'type':a0_0x20d441(0x6c0),'enum':[a0_0x20d441(0x5a5),'contacts','contact_blacklist',a0_0x20d441(0x155)]},'status':{'type':a0_0x20d441(0x6c0),'enum':[a0_0x20d441(0x5a5),'contacts','contact_blacklist',a0_0x20d441(0x155)]},'online':{'type':'string','enum':[a0_0x20d441(0x5a5),a0_0x20d441(0x765)]},'last':{'type':a0_0x20d441(0x6c0),'enum':['all','contacts',a0_0x20d441(0x3d7),a0_0x20d441(0x155)]},'groupadd':{'type':a0_0x20d441(0x6c0),'enum':[a0_0x20d441(0x5a5),a0_0x20d441(0x511),a0_0x20d441(0x3d7),'none']}},'required':['readreceipts','profile',a0_0x20d441(0x425),a0_0x20d441(0x28d),'last',a0_0x20d441(0x225)],...S(a0_0x20d441(0x39d),'profile',a0_0x20d441(0x425),'online',a0_0x20d441(0x6be),a0_0x20d441(0x225))}},'required':[a0_0x20d441(0x5b4)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'lastMessage':{'type':a0_0x20d441(0x522),'properties':{'key':{'type':a0_0x20d441(0x522),'properties':{'id':{'type':a0_0x20d441(0x6c0)},'remoteJid':{'type':a0_0x20d441(0x6c0)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x20d441(0x43e),a0_0x20d441(0x290)],...S('id','remoteJid')},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x20d441(0x59d)],...S('messageTimestamp')},'archive':{'type':a0_0x20d441(0x38a),'enum':[!0x0,!0x1]}},'required':[a0_0x20d441(0x645),a0_0x20d441(0x42b)]},La={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'id':{'type':a0_0x20d441(0x6c0)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x20d441(0x6c0)},'participant':{'type':a0_0x20d441(0x6c0)}},'required':['id',a0_0x20d441(0x43e),a0_0x20d441(0x290)],...S('id','remoteJid',a0_0x20d441(0x77d))},ja={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'where':{'type':a0_0x20d441(0x522),'properties':{'_id':{'type':a0_0x20d441(0x6c0),'minLength':0x1},'pushName':{'type':a0_0x20d441(0x6c0),'minLength':0x1},'id':{'type':a0_0x20d441(0x6c0),'minLength':0x1}},...S(a0_0x20d441(0x749),'id',a0_0x20d441(0x74a))}}},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'name':{'type':a0_0x20d441(0x6c0)}},...S(a0_0x20d441(0x6cb))},qa={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'status':{'type':'string'}},...S(a0_0x20d441(0x425))},Se={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{'type':a0_0x20d441(0x6c0)},'picture':{'type':a0_0x20d441(0x6c0)}}},Ua={'type':'object','properties':{'wuid':{'type':'string'},'name':{'type':a0_0x20d441(0x6c0)},'picture':{'type':a0_0x20d441(0x6c0)},'status':{'type':'string'},'isBusiness':{'type':a0_0x20d441(0x38a)}}},Ja={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':a0_0x20d441(0x522),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x20d441(0x522),'if':{'propertyNames':{'enum':[a0_0x20d441(0x43e),a0_0x20d441(0x290),'id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0x20d441(0x1c1)},'id':{'type':'string','minLength':0x1,'description':a0_0x20d441(0x1c1)},'fromMe':{'type':a0_0x20d441(0x38a),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x20d441(0x522)}},...S(a0_0x20d441(0x749))},'limit':{'type':a0_0x20d441(0x75b)}}},Xn={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'where':{'type':a0_0x20d441(0x522),'properties':{'_id':{'type':a0_0x20d441(0x6c0)},'remoteJid':{'type':a0_0x20d441(0x6c0)},'id':{'type':a0_0x20d441(0x6c0)},'fromMe':{'type':a0_0x20d441(0x38a),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x20d441(0x6c0),'enum':[a0_0x20d441(0x758),a0_0x20d441(0x13b),'SERVER_ACK',a0_0x20d441(0x1c8),'READ',a0_0x20d441(0x5fb)]}},...S(a0_0x20d441(0x749),'remoteJid','id',a0_0x20d441(0x425))},'limit':{'type':a0_0x20d441(0x75b)}}},Va={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'number':{...z},'presence':{'type':a0_0x20d441(0x6c0),'enum':[a0_0x20d441(0x3a9),a0_0x20d441(0x6c2),a0_0x20d441(0x6db),a0_0x20d441(0x30e),'paused']}},'required':[a0_0x20d441(0x3ec),a0_0x20d441(0x5d0)]},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'subject':{'type':a0_0x20d441(0x6c0)},'description':{'type':'string'},'profilePicture':{'type':'string'},'participants':{'type':a0_0x20d441(0x673),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x20d441(0x6c0),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x20d441(0x618)}}},'required':['subject','participants'],...S('subject','description','profilePicture')},Ee={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'groupJid':{'type':a0_0x20d441(0x6c0),'pattern':a0_0x20d441(0x44c)}},'required':[a0_0x20d441(0x45c)],...S('groupJid')},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'groupJid':{'type':a0_0x20d441(0x6c0)},'action':{'type':'string','enum':[a0_0x20d441(0x2f7),a0_0x20d441(0x283),a0_0x20d441(0x5d6),'demote']},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x20d441(0x6c0),'minLength':0xa,'pattern':a0_0x20d441(0x397),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x20d441(0x45c),a0_0x20d441(0x3a0),a0_0x20d441(0x68f)],...S('groupJid',a0_0x20d441(0x3a0))},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'groupJid':{'type':a0_0x20d441(0x6c0)},'expiration':{'type':a0_0x20d441(0x5d0),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x20d441(0x62a)],...S('groupJid','expiration')},za={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'image':{'type':'string'}},'required':[a0_0x20d441(0x45c),a0_0x20d441(0x150)],...S('groupJid',a0_0x20d441(0x150))},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'groupJid':{'type':a0_0x20d441(0x6c0)},'description':{'type':a0_0x20d441(0x6c0)}},'required':[a0_0x20d441(0x45c),a0_0x20d441(0x6a1)],...S('groupJid',a0_0x20d441(0x6a1))},Ka={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x20d441(0x6c0)},'name':{'type':a0_0x20d441(0x6c0)}},'required':['groupJid',a0_0x20d441(0x6cb)],...S(a0_0x20d441(0x45c),a0_0x20d441(0x6cb))},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'groupJid':{'type':a0_0x20d441(0x6c0)},'setting':{'type':a0_0x20d441(0x6c0),'enum':[a0_0x20d441(0x147),a0_0x20d441(0x247),a0_0x20d441(0x178),a0_0x20d441(0x25f)]}},'required':[a0_0x20d441(0x45c),a0_0x20d441(0x40a)],...S(a0_0x20d441(0x45c),a0_0x20d441(0x40a))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'inviteCode':{'type':a0_0x20d441(0x6c0)}},'required':['inviteCode'],...S('inviteCode')},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'url':{'type':a0_0x20d441(0x6c0)},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x20d441(0x704),a0_0x20d441(0x487)]},Zn={'$id':(0x0,C['v4'])(),'type':a0_0x20d441(0x522),'properties':{'local_map':{'type':a0_0x20d441(0x38a),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x20d441(0x38a),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x20d441(0x38a),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x20d441(0x38a),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x20d441(0x38a),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x20d441(0x38a),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x20d441(0x38a),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x20d441(0x38a),'enum':[!0x0,!0x1]}},'required':[a0_0x20d441(0x4ac),a0_0x20d441(0x5c8),'QRCODE_UPDATED','MESSAGES_SET',a0_0x20d441(0x2f4),a0_0x20d441(0x6dc),a0_0x20d441(0x2a9),a0_0x20d441(0x23b),a0_0x20d441(0x3e2),'CONTACTS_UPDATE','PRESENCE_UPDATE','CHATS_SET',a0_0x20d441(0x13e),a0_0x20d441(0x5b9),a0_0x20d441(0x1e6),a0_0x20d441(0x722),a0_0x20d441(0x77b),'GROUPS_UPDATE',a0_0x20d441(0x569)],...S(a0_0x20d441(0x4ac),a0_0x20d441(0x5c8),a0_0x20d441(0x6f3),a0_0x20d441(0x731),a0_0x20d441(0x2f4),'MESSAGES_UPSERT',a0_0x20d441(0x2a9),a0_0x20d441(0x23b),a0_0x20d441(0x3e2),a0_0x20d441(0x544),a0_0x20d441(0x747),'CHATS_SET',a0_0x20d441(0x13e),a0_0x20d441(0x5b9),a0_0x20d441(0x1e6),a0_0x20d441(0x722),a0_0x20d441(0x77b),a0_0x20d441(0x692),a0_0x20d441(0x569))},Ke=class{},Qe=class extends I{[a0_0x20d441(0x597)](_0x5a15cb){return Vs(_0x5a15cb);}async[a0_0x20d441(0x52c)](_0x52fa3b){const _0x3a459e=a0_0x20d441;if(_0x52fa3b[_0x3a459e(0x280)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x52fa3b[0x0][_0x3a459e(0x76c)])[_0x3a459e(0x3d5)]([..._0x52fa3b]))[_0x3a459e(0x280)]};}catch(_0x3d5481){return _0x3d5481;}}async[a0_0x20d441(0x435)](_0x34bf3e,_0x495a05){const _0x2cbd54=a0_0x20d441;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x495a05)[_0x2cbd54(0x2a3)]({..._0x34bf3e['where']}))[_0x2cbd54(0x566)]};}catch(_0x2b56ca){return{'error':_0x2b56ca?.['toString']()};}}async['update'](_0x12196a,_0x1a3d54){const _0x36a134=a0_0x20d441;try{if(_0x12196a[_0x36a134(0x280)]===0x0)return;let _0x3727f0=this[_0x36a134(0x597)](_0x1a3d54),_0x25378f=_0x12196a[_0x36a134(0x6b3)](_0x9863c0=>({'updateOne':{'filter':{'_id':_0x9863c0['_id'],'owner':_0x1a3d54},'update':{..._0x9863c0}}})),{modifiedCount:_0x481179}=await _0x3727f0[_0x36a134(0x715)](_0x25378f);return{'insertCount':_0x481179};}catch{return;}}async['find'](_0x595a02,_0x57544c){const _0x4891d7=a0_0x20d441;try{let _0x557bc8=this[_0x4891d7(0x597)](_0x57544c),_0x383803=A(_0x595a02[_0x4891d7(0x778)]);return await _0x557bc8[_0x4891d7(0x466)](_0x383803)[_0x4891d7(0x184)](_0x595a02?.[_0x4891d7(0x184)]??0x0)[_0x4891d7(0x4e6)]();}catch{return[];}}async[a0_0x20d441(0x1ca)](_0x256291,_0xa2ce7c){const _0x271c04=a0_0x20d441;try{let _0x280a5a=this[_0x271c04(0x597)](_0xa2ce7c),_0x434d59=A(_0x256291[_0x271c04(0x778)]);return await _0x280a5a[_0x271c04(0x1ca)](_0x434d59)['lean']();}catch{return null;}}async['deleteAll'](_0x28b669){const _0x28e265=a0_0x20d441;try{return await this[_0x28e265(0x597)](_0x28b669)[_0x28e265(0x1df)]['drop'](),{'success':!0x0};}catch(_0x2efc3e){return console['error'](_0x2efc3e),{'success':!0x1,'error':_0x2efc3e};}}},Ye=require(a0_0x20d441(0x39b)),cc=require(a0_0x20d441(0x453)),hs=new v(a0_0x20d441(0x719)),U=class{[a0_0x20d441(0x29a)](_0x1df243,_0x2a33eb=!0x0){const _0xfce9a6=a0_0x20d441;let _0x32e2ba='/'+_0x1df243;return _0x2a33eb&&(_0x32e2ba+=_0xfce9a6(0x611)),_0x32e2ba;}async[a0_0x20d441(0x4f5)](_0x50f33e){const _0x42868a=a0_0x20d441;let {request:_0x53c887,schema:_0x525b35,ClassRef:_0x32af4a,execute:_0x3c717e}=_0x50f33e,_0x131112=new _0x32af4a(),_0x36c2bd=_0x53c887[_0x42868a(0x336)],_0x1102c6=_0x53c887['params'];_0x53c887?.[_0x42868a(0x260)]&&Object['keys'](_0x53c887[_0x42868a(0x260)])[_0x42868a(0x280)]>0x0&&Object['assign'](_0x1102c6,_0x53c887[_0x42868a(0x260)]),_0x53c887[_0x42868a(0x1ef)][_0x42868a(0x4c9)](_0x42868a(0x584))&&Object[_0x42868a(0x29f)](_0x1102c6,_0x36c2bd),Object[_0x42868a(0x29f)](_0x131112,_0x36c2bd);let _0x423fe4=_0x525b35?(0x0,Ye[_0x42868a(0x1f6)])(_0x131112,_0x525b35):{'valid':!0x0,'errors':[]};if(!_0x423fe4[_0x42868a(0x448)]){let _0x274622=_0x423fe4[_0x42868a(0x4c5)]['map'](({property:_0x268dfd,stack:_0x24cdce,schema:_0x47c142})=>{const _0x3d6ccb=_0x42868a;let _0x47a935;return _0x47c142['description']?_0x47a935=_0x47c142[_0x3d6ccb(0x6a1)]:_0x47a935=_0x24cdce[_0x3d6ccb(0x797)](_0x3d6ccb(0x5d8),''),{'property':_0x268dfd[_0x3d6ccb(0x797)](_0x3d6ccb(0x5d8),''),'message':_0x47a935};});throw hs[_0x42868a(0x5e0)]([..._0x274622]),new m(..._0x274622);}return await _0x3c717e(_0x1102c6,_0x131112);}async[a0_0x20d441(0x53e)](_0xae7b29){const _0xbf2985=a0_0x20d441;let {request:_0x5ee97d,ClassRef:_0x6a630a,schema:_0x198b44,execute:_0x38fc01}=_0xae7b29,_0x1e18ce=_0x5ee97d[_0xbf2985(0x260)];if(!_0x1e18ce?.['groupJid'])throw new m(_0xbf2985(0x18a),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x2d247c=_0x5ee97d['params'],_0x513756=_0x5ee97d['body'],_0x42a2e3=new _0x6a630a();Object[_0xbf2985(0x29f)](_0x513756,_0x1e18ce),Object[_0xbf2985(0x29f)](_0x42a2e3,_0x513756);let _0x27bece=(0x0,Ye[_0xbf2985(0x1f6)])(_0x42a2e3,_0x198b44);if(!_0x27bece[_0xbf2985(0x448)]){let _0x532cb1=_0x27bece[_0xbf2985(0x4c5)][_0xbf2985(0x6b3)](({property:_0x2838fe,stack:_0x4615e7,schema:_0x5d7e52})=>{const _0x530fdb=_0xbf2985;let _0x562639;return _0x5d7e52[_0x530fdb(0x6a1)]?_0x562639=_0x5d7e52[_0x530fdb(0x6a1)]:_0x562639=_0x4615e7[_0x530fdb(0x797)]('instance.',''),{'property':_0x2838fe['replace'](_0x530fdb(0x5d8),''),'message':_0x562639};});throw hs[_0xbf2985(0x5e0)]([..._0x532cb1]),new m(..._0x532cb1);}return await _0x38fc01(_0x2d247c,_0x42a2e3);}async[a0_0x20d441(0x5f2)](_0xe74d50){const _0x22bbf6=a0_0x20d441;let {request:_0x5bd7c9,ClassRef:_0x5d28e2,schema:_0x151a48,execute:_0x3e8938}=_0xe74d50,_0x455270=_0x5bd7c9[_0x22bbf6(0x336)];if(!_0x455270?.[_0x22bbf6(0x41e)])throw new m(_0x22bbf6(0x51c),_0x22bbf6(0x51b));let _0x38b08a=_0x5bd7c9[_0x22bbf6(0x6b4)],_0x3d4eac=_0x5bd7c9[_0x22bbf6(0x336)],_0x3a19e7=new _0x5d28e2();Object[_0x22bbf6(0x29f)](_0x3d4eac,_0x455270),Object['assign'](_0x3a19e7,_0x3d4eac);let _0x2beeb3=(0x0,Ye[_0x22bbf6(0x1f6)])(_0x3a19e7,_0x151a48);if(!_0x2beeb3['valid']){let _0x133ec5=_0x2beeb3['errors'][_0x22bbf6(0x6b3)](({property:_0x30d839,stack:_0x378b12,schema:_0x249716})=>{const _0x3a6ac7=_0x22bbf6;let _0x140ca0;return _0x249716[_0x3a6ac7(0x6a1)]?_0x140ca0=_0x249716[_0x3a6ac7(0x6a1)]:_0x140ca0=_0x378b12['replace']('instance.',''),{'property':_0x30d839[_0x3a6ac7(0x797)](_0x3a6ac7(0x5d8),''),'message':_0x140ca0};});throw hs[_0x22bbf6(0x5e0)]([..._0x133ec5]),new m(..._0x133ec5);}return await _0x3e8938(_0x38b08a,_0x3a19e7);}},E=class{},Mc=new v(a0_0x20d441(0x5d5)),Xe=class extends U{constructor(..._0x1fa1d5){const _0x27042a=a0_0x20d441;super(),this['router']=(0x0,Za[_0x27042a(0x2f5)])(),this['router'][_0x27042a(0x2b8)](this[_0x27042a(0x29a)]('updatePresence'),..._0x1fa1d5,async(_0x46679b,_0x379ad8)=>{const _0x59ac47=_0x27042a;let _0x274010=await this[_0x59ac47(0x4f5)]({'request':_0x46679b,'schema':Va,'ClassRef':je,'execute':(_0x50c736,_0x788de1)=>x[_0x59ac47(0x42c)](_0x50c736,_0x788de1)});return _0x379ad8[_0x59ac47(0x425)](0xc9)[_0x59ac47(0x1e7)](_0x274010);})[_0x27042a(0x2b8)](this[_0x27042a(0x29a)](_0x27042a(0x303)),..._0x1fa1d5,async(_0x2e1002,_0x50eadc)=>{const _0x315ea6=_0x27042a;let _0x235523=await this[_0x315ea6(0x4f5)]({'request':_0x2e1002,'schema':_a,'ClassRef':Fe,'execute':(_0x485642,_0x1b5e53)=>x[_0x315ea6(0x160)](_0x485642,_0x1b5e53)});return _0x50eadc[_0x315ea6(0x425)](0xc9)['json'](_0x235523);})[_0x27042a(0x2b8)](this[_0x27042a(0x29a)]('editChat'),..._0x1fa1d5,async(_0x416614,_0xe2de52)=>{const _0x201377=_0x27042a;let _0x595468=await this[_0x201377(0x4f5)]({'request':_0x416614,'schema':M,'ClassRef':E,'execute':(_0x5370c3,_0x160f4f)=>x['editChat'](_0x5370c3,_0x160f4f)});return _0xe2de52[_0x201377(0x425)](0xc9)[_0x201377(0x1e7)](_0x595468);})[_0x27042a(0x5e1)](this[_0x27042a(0x29a)]('markMessageAsRead'),..._0x1fa1d5,async(_0x3adfc5,_0x2c8994)=>{const _0x36f284=_0x27042a;let _0x171508=await this[_0x36f284(0x4f5)]({'request':_0x3adfc5,'schema':Pa,'ClassRef':Je,'execute':(_0x1fcc08,_0x299deb)=>x[_0x36f284(0x744)](_0x1fcc08,_0x299deb)});return _0x2c8994[_0x36f284(0x425)](0xc9)['json'](_0x171508);})[_0x27042a(0x5e1)](this['routerPath'](_0x27042a(0x48f)),..._0x1fa1d5,async(_0xc735ed,_0x2dc921)=>{const _0x200940=_0x27042a;let _0x1ecaca=await this[_0x200940(0x4f5)]({'request':_0xc735ed,'schema':ka,'ClassRef':Ve,'execute':(_0x3d0ace,_0x374072)=>x['archiveChat'](_0x3d0ace,_0x374072)});return _0x2dc921[_0x200940(0x425)](0xc9)[_0x200940(0x1e7)](_0x1ecaca);})[_0x27042a(0x435)](this[_0x27042a(0x29a)](_0x27042a(0x372)),..._0x1fa1d5,async(_0x73040f,_0xd87ce9)=>{const _0x27e36a=_0x27042a;let _0x4cc3e9=await this[_0x27e36a(0x4f5)]({'request':_0x73040f,'schema':La,'ClassRef':Ge,'execute':(_0x461da0,_0x5f2dbd)=>x[_0x27e36a(0x301)](_0x461da0,_0x5f2dbd)});return _0xd87ce9[_0x27e36a(0x425)](0xc9)[_0x27e36a(0x1e7)](_0x4cc3e9);})['post'](this['routerPath'](_0x27042a(0x3e6)),..._0x1fa1d5,async(_0x1bafd5,_0x5d5e24)=>{const _0x4483a5=_0x27042a;let _0x166000=await this['dataValidate']({'request':_0x1bafd5,'schema':Se,'ClassRef':be,'execute':(_0x3d2ced,_0x1f7c77)=>x[_0x4483a5(0x21c)](_0x3d2ced,_0x1f7c77)});return _0x5d5e24[_0x4483a5(0x425)](0xc8)[_0x4483a5(0x1e7)](_0x166000);})['post'](this[_0x27042a(0x29a)]('fetchProfile'),..._0x1fa1d5,async(_0x329e00,_0x36eb61)=>{const _0x26927b=_0x27042a;let _0xd60b04=await this[_0x26927b(0x4f5)]({'request':_0x329e00,'schema':Ua,'ClassRef':be,'execute':(_0x46a751,_0x1cfba7)=>x[_0x26927b(0x3b5)](_0x46a751,_0x1cfba7)});return _0x36eb61['status'](0xc8)[_0x26927b(0x1e7)](_0xd60b04);})['post'](this[_0x27042a(0x29a)](_0x27042a(0x364)),..._0x1fa1d5,async(_0x117936,_0x2765a1)=>{const _0x3ad9e4=_0x27042a;let _0x168d7f=await this[_0x3ad9e4(0x4f5)]({'request':_0x117936,'schema':ja,'ClassRef':Ke,'execute':(_0x2e316c,_0xfc4056)=>x[_0x3ad9e4(0x1c9)](_0x2e316c,_0xfc4056)});return _0x2765a1[_0x3ad9e4(0x425)](0xc8)[_0x3ad9e4(0x1e7)](_0x168d7f);})[_0x27042a(0x2b8)](this[_0x27042a(0x29a)](_0x27042a(0x53c)),..._0x1fa1d5,async(_0x2085e8,_0x53d6f3)=>{const _0x92f0e9=_0x27042a;let _0xf8a415=await this[_0x92f0e9(0x4f5)]({'request':_0x2085e8,'schema':null,'ClassRef':Object,'execute':(_0x5f2b52,_0xeccd97)=>x[_0x92f0e9(0x53c)](_0x5f2b52,_0xeccd97)});return _0x53d6f3[_0x92f0e9(0x425)](0xc9)['json'](_0xf8a415);})[_0x27042a(0x2b8)](this['routerPath'](_0x27042a(0x699)),..._0x1fa1d5,async(_0x487a24,_0x992a0)=>{const _0x45af46=_0x27042a;let _0x2dfc15=await this[_0x45af46(0x4f5)]({'request':_0x487a24,'schema':Ja,'ClassRef':ke,'execute':(_0x19f951,_0x191c66)=>x['fetchMessages'](_0x19f951,_0x191c66)});return _0x992a0['status'](0xc8)[_0x45af46(0x1e7)](_0x2dfc15);})[_0x27042a(0x158)](this[_0x27042a(0x29a)](_0x27042a(0x671)),..._0x1fa1d5,async(_0x56717e,_0x3d6013)=>{const _0x3a4086=_0x27042a;let _0x25b3f2=await this[_0x3a4086(0x4f5)]({'request':_0x56717e,'schema':null,'ClassRef':E,'execute':_0x539e03=>x[_0x3a4086(0x374)](_0x539e03)});return _0x3d6013[_0x3a4086(0x425)](0xc8)[_0x3a4086(0x1e7)](_0x25b3f2);})['get'](this[_0x27042a(0x29a)](_0x27042a(0x6a5)),..._0x1fa1d5,async(_0x3af12a,_0x3e4a2b)=>{const _0x1246ec=_0x27042a;let _0x51d883=await this[_0x1246ec(0x4f5)]({'request':_0x3af12a,'schema':null,'ClassRef':E,'execute':_0x18b9bf=>x[_0x1246ec(0x52e)](_0x18b9bf)});return _0x3e4a2b['status'](0xc8)[_0x1246ec(0x1e7)](_0x51d883);})[_0x27042a(0x5e1)](this[_0x27042a(0x29a)](_0x27042a(0x602)),..._0x1fa1d5,async(_0x560956,_0x28f726)=>{const _0x1943cf=_0x27042a;let _0x2de9c9=await this[_0x1943cf(0x4f5)]({'request':_0x560956,'schema':null,'ClassRef':Array,'execute':(_0xd564ed,_0x47718f)=>x['importChats'](_0xd564ed,_0x47718f)});return _0x28f726[_0x1943cf(0x425)](0xc8)['json'](_0x2de9c9);})['get'](this[_0x27042a(0x29a)](_0x27042a(0x3bf)),..._0x1fa1d5,async(_0x44eee7,_0x40fa03)=>{const _0x1b4786=_0x27042a;let _0x35f984=await this[_0x1b4786(0x4f5)]({'request':_0x44eee7,'schema':null,'ClassRef':E,'execute':_0x4f6e7a=>x[_0x1b4786(0x3bf)](_0x4f6e7a)});return _0x40fa03['status'](0xc8)[_0x1b4786(0x1e7)](_0x35f984);})['put'](this['routerPath'](_0x27042a(0x375)),..._0x1fa1d5,async(_0x356109,_0x2efbdc)=>{const _0x429b62=_0x27042a;let _0x1d33a6=await this[_0x429b62(0x4f5)]({'request':_0x356109,'schema':$a,'ClassRef':Be,'execute':(_0x1141cf,_0x116450)=>x[_0x429b62(0x375)](_0x1141cf,_0x116450)});return _0x2efbdc['status'](0xc9)[_0x429b62(0x1e7)](_0x1d33a6);})['post'](this['routerPath'](_0x27042a(0x6b0)),..._0x1fa1d5,async(_0x2cad27,_0x25d794)=>{const _0x5337c0=_0x27042a;let _0x2e0a7e=await this[_0x5337c0(0x4f5)]({'request':_0x2cad27,'schema':Se,'ClassRef':fe,'execute':(_0x2e620c,_0xc23437)=>x[_0x5337c0(0x6b0)](_0x2e620c,_0xc23437)});return _0x25d794[_0x5337c0(0x425)](0xc8)[_0x5337c0(0x1e7)](_0x2e0a7e);})['post'](this['routerPath'](_0x27042a(0x56c)),..._0x1fa1d5,async(_0x2ecb2b,_0x45eb1b)=>{const _0x5a5be9=_0x27042a;let _0x198508=await this[_0x5a5be9(0x4f5)]({'request':_0x2ecb2b,'schema':Fa,'ClassRef':qe,'execute':(_0x1fce46,_0x1e04e1)=>x[_0x5a5be9(0x56c)](_0x1fce46,_0x1e04e1)});return _0x45eb1b[_0x5a5be9(0x425)](0xc8)[_0x5a5be9(0x1e7)](_0x198508);})[_0x27042a(0x2b8)](this[_0x27042a(0x29a)]('updateProfileStatus'),..._0x1fa1d5,async(_0x3a0be0,_0x370207)=>{const _0x323b9e=_0x27042a;let _0x56beb8=await this[_0x323b9e(0x4f5)]({'request':_0x3a0be0,'schema':qa,'ClassRef':Ue,'execute':(_0x440e70,_0x569402)=>x['updateProfileStatus'](_0x440e70,_0x569402)});return _0x370207[_0x323b9e(0x425)](0xc8)['json'](_0x56beb8);})[_0x27042a(0x5e1)](this[_0x27042a(0x29a)]('updateProfilePicture'),..._0x1fa1d5,async(_0x2b9ec1,_0x3ce8f2)=>{const _0x56a471=_0x27042a;let _0x5cc464=await this[_0x56a471(0x4f5)]({'request':_0x2b9ec1,'schema':Se,'ClassRef':fe,'execute':(_0x5efc96,_0x194d82)=>x[_0x56a471(0x60e)](_0x5efc96,_0x194d82)});return _0x3ce8f2[_0x56a471(0x425)](0xc8)[_0x56a471(0x1e7)](_0x5cc464);})[_0x27042a(0x435)](this[_0x27042a(0x29a)](_0x27042a(0x1f8)),..._0x1fa1d5,async(_0x3ac5a7,_0x4fb0dd)=>{const _0x59565b=_0x27042a;let _0xac26f7=await this[_0x59565b(0x4f5)]({'request':_0x3ac5a7,'schema':Se,'ClassRef':fe,'execute':(_0x2b44ec,_0x125deb)=>x['removeProfilePicture'](_0x2b44ec,_0x125deb)});return _0x4fb0dd['status'](0xc8)[_0x59565b(0x1e7)](_0xac26f7);});}},eo=require(a0_0x20d441(0x413)),Ze=class{},et=class{},tt=class{},st=class{},at=class{},Y=class{},ot=class{},rt=class extends Y{},it=class extends Y{},nt=class extends U{constructor(..._0x538cf6){const _0x40ec23=a0_0x20d441;super(),this[_0x40ec23(0x36d)]=(0x0,eo[_0x40ec23(0x2f5)])(),this[_0x40ec23(0x36d)]['post'](this[_0x40ec23(0x29a)](_0x40ec23(0x169)),..._0x538cf6,async(_0x99db98,_0x49bcc7)=>{const _0x4247f0=_0x40ec23;let _0x2db16e=await this[_0x4247f0(0x4f5)]({'request':_0x99db98,'schema':Ba,'ClassRef':Ze,'execute':(_0x493ad7,_0x1d579b)=>q['createGroup'](_0x493ad7,_0x1d579b)});_0x49bcc7[_0x4247f0(0x425)](0xc9)['json'](_0x2db16e);})['put'](this['routerPath'](_0x40ec23(0x559)),..._0x538cf6,async(_0x51a37d,_0x45aa2b)=>{const _0x44b828=_0x40ec23;let _0x54fee3=await this['groupValidate']({'request':_0x51a37d,'schema':za,'ClassRef':et,'execute':(_0x6b0d6b,_0x289dd8)=>q['updateGroupPicture'](_0x6b0d6b,_0x289dd8)});_0x45aa2b[_0x44b828(0x425)](0xc9)['json'](_0x54fee3);})[_0x40ec23(0x5e1)](this[_0x40ec23(0x29a)](_0x40ec23(0x507)),..._0x538cf6,async(_0x38a1e7,_0x379612)=>{const _0x4c6cfb=_0x40ec23;let _0x167b14=await this['groupValidate']({'request':_0x38a1e7,'schema':Ha,'ClassRef':tt,'execute':(_0x21c8a1,_0x49c665)=>q[_0x4c6cfb(0x507)](_0x21c8a1,_0x49c665)});_0x379612[_0x4c6cfb(0x425)](0xc9)[_0x4c6cfb(0x1e7)](_0x167b14);})[_0x40ec23(0x5e1)](this[_0x40ec23(0x29a)](_0x40ec23(0x293)),..._0x538cf6,async(_0xc24b21,_0x32dcb7)=>{const _0x32037f=_0x40ec23;let _0x1e2348=await this[_0x32037f(0x53e)]({'request':_0xc24b21,'schema':Ka,'ClassRef':st,'execute':(_0x51e11c,_0x498695)=>q['groupName'](_0x51e11c,_0x498695)});_0x32dcb7[_0x32037f(0x425)](0xc9)[_0x32037f(0x1e7)](_0x1e2348);})[_0x40ec23(0x5e1)](this['routerPath'](_0x40ec23(0x6dd)),..._0x538cf6,async(_0x4797e9,_0x555a0b)=>{const _0x4572e4=_0x40ec23;let _0x41b09e=await this['groupValidate']({'request':_0x4797e9,'schema':Qa,'ClassRef':at,'execute':(_0x50e620,_0x30acc9)=>q['groupSetting'](_0x50e620,_0x30acc9)});_0x555a0b[_0x4572e4(0x425)](0xc9)['json'](_0x41b09e);})[_0x40ec23(0x5e1)](this[_0x40ec23(0x29a)]('toggleEphemeral'),..._0x538cf6,async(_0x59fe9d,_0x535c7d)=>{const _0x498268=_0x40ec23;let _0x2e792d=await this[_0x498268(0x53e)]({'request':_0x59fe9d,'schema':Wa,'ClassRef':it,'execute':(_0x14785d,_0x3db179)=>q[_0x498268(0x743)](_0x14785d,_0x3db179)});_0x535c7d['status'](0xc9)[_0x498268(0x1e7)](_0x2e792d);})[_0x40ec23(0x158)](this[_0x40ec23(0x29a)](_0x40ec23(0x1b1)),..._0x538cf6,async(_0x198f23,_0x4cfb14)=>{const _0x24b700=_0x40ec23;let _0x1a5880=await this[_0x24b700(0x53e)]({'request':_0x198f23,'schema':Ee,'ClassRef':Y,'execute':(_0x8edc7f,_0x5835ad)=>q['findGroupInfo'](_0x8edc7f,_0x5835ad)});_0x4cfb14['status'](0xc8)[_0x24b700(0x1e7)](_0x1a5880);})['get'](this[_0x40ec23(0x29a)](_0x40ec23(0x57d)),..._0x538cf6,async(_0xac5384,_0xa6498a)=>{const _0x30009b=_0x40ec23;let _0x4381c3=await this[_0x30009b(0x4f5)]({'request':_0xac5384,'schema':M,'ClassRef':E,'execute':_0x5dff2d=>q['findGroups'](_0x5dff2d)});_0xa6498a['status'](0xc8)[_0x30009b(0x1e7)](_0x4381c3);})['get'](this[_0x40ec23(0x29a)](_0x40ec23(0x68f)),..._0x538cf6,async(_0x1cd158,_0x8602ce)=>{const _0x53374e=_0x40ec23;let _0x3c9383=await this[_0x53374e(0x53e)]({'request':_0x1cd158,'schema':Ee,'ClassRef':Y,'execute':(_0x3cc6ee,_0x4292f8)=>q['findParticipants'](_0x3cc6ee,_0x4292f8)});_0x8602ce[_0x53374e(0x425)](0xc8)['json'](_0x3c9383);})[_0x40ec23(0x158)](this[_0x40ec23(0x29a)](_0x40ec23(0x41e)),..._0x538cf6,async(_0x5492f9,_0x4853b8)=>{const _0x26001b=_0x40ec23;let _0x5581e0=await this[_0x26001b(0x53e)]({'request':_0x5492f9,'schema':Ee,'ClassRef':Y,'execute':(_0x500087,_0x356e0f)=>q[_0x26001b(0x41e)](_0x500087,_0x356e0f)});_0x4853b8[_0x26001b(0x425)](0xc8)['json'](_0x5581e0);})['put'](this[_0x40ec23(0x29a)](_0x40ec23(0x265)),..._0x538cf6,async(_0x3f3c3a,_0x2a7102)=>{const _0x1b9be2=_0x40ec23;let _0xabef5e=await this[_0x1b9be2(0x5f2)]({'request':_0x3f3c3a,'schema':Ya,'ClassRef':ot,'execute':(_0x389124,_0x21d1b6)=>q['joinGroup'](_0x389124,_0x21d1b6)});_0x2a7102[_0x1b9be2(0x425)](0xc9)[_0x1b9be2(0x1e7)](_0xabef5e);})[_0x40ec23(0x5e1)](this[_0x40ec23(0x29a)](_0x40ec23(0x2e0)),..._0x538cf6,async(_0x316175,_0x285e62)=>{const _0x9d6ce7=_0x40ec23;let _0x2c7822=await this[_0x9d6ce7(0x53e)]({'request':_0x316175,'schema':Ee,'ClassRef':Y,'execute':(_0x1c3037,_0x55a118)=>q[_0x9d6ce7(0x2e0)](_0x1c3037,_0x55a118)});_0x285e62[_0x9d6ce7(0x425)](0xc9)[_0x9d6ce7(0x1e7)](_0x2c7822);})['put'](this[_0x40ec23(0x29a)](_0x40ec23(0x38b)),..._0x538cf6,async(_0x57bb4f,_0x50ee56)=>{const _0x31822c=_0x40ec23;let _0x449c5b=await this[_0x31822c(0x53e)]({'request':_0x57bb4f,'schema':Ga,'ClassRef':rt,'execute':(_0xf288bf,_0xe09e)=>q[_0x31822c(0x77c)](_0xf288bf,_0xe09e)});_0x50ee56[_0x31822c(0x425)](0xc9)[_0x31822c(0x1e7)](_0x449c5b);})[_0x40ec23(0x435)](this[_0x40ec23(0x29a)]('leaveGroup'),..._0x538cf6,async(_0x78bfbe,_0x3dbd3f)=>{const _0x1b6264=_0x40ec23;let _0x4812e0=await this[_0x1b6264(0x53e)]({'request':_0x78bfbe,'schema':{},'ClassRef':Y,'execute':(_0x41358d,_0x47d7ea)=>q[_0x1b6264(0x779)](_0x41358d,_0x47d7ea)});_0x3dbd3f[_0x1b6264(0x425)](0xc8)[_0x1b6264(0x1e7)](_0x4812e0);});}},to=require(a0_0x20d441(0x413)),ct=class extends U{constructor(_0x25fff6,..._0x2df55e){const _0x58c7a2=a0_0x20d441;super(),this[_0x58c7a2(0x74f)]=_0x25fff6,this[_0x58c7a2(0x36d)]=(0x0,to[_0x58c7a2(0x2f5)])();let _0x251413=_0x25fff6[_0x58c7a2(0x158)](_0x58c7a2(0x1da));this[_0x58c7a2(0x36d)][_0x58c7a2(0x2b8)](_0x58c7a2(0x1a9),..._0x2df55e,async(_0x2cdc5f,_0x5afcaf)=>{const _0x4aef5d=_0x58c7a2;let {instanceName:_0x2e7dba,apikey:_0x2b7144,number:_0xe0323}=_0x2cdc5f[_0x4aef5d(0x336)],_0x5f26df=await le[_0x4aef5d(0x284)]({'instanceName':_0x2e7dba,'apikey':_0x2b7144,'number':_0xe0323});return _0x5afcaf[_0x4aef5d(0x425)](0xc9)[_0x4aef5d(0x1e7)](_0x5f26df);})[_0x58c7a2(0x5e1)](this[_0x58c7a2(0x29a)](_0x58c7a2(0x26c)),..._0x2df55e,async(_0x35100f,_0x1f8f2e)=>{const _0x38977f=_0x58c7a2;let _0x3432af=await this[_0x38977f(0x4f5)]({'request':_0x35100f,'schema':M,'ClassRef':E,'execute':_0xf820c8=>le[_0x38977f(0x65c)](_0xf820c8)});return _0x1f8f2e[_0x38977f(0x425)](0xc8)[_0x38977f(0x1e7)](_0x3432af);})[_0x58c7a2(0x158)](this[_0x58c7a2(0x29a)](_0x58c7a2(0x508)),..._0x2df55e,async(_0x5f3ed2,_0x2387c9)=>{const _0x5df30d=_0x58c7a2;let _0x2474dd=await this['dataValidate']({'request':_0x5f3ed2,'schema':M,'ClassRef':E,'execute':_0x41f9f6=>le['connectionState'](_0x41f9f6)});return _0x2387c9[_0x5df30d(0x425)](0xc8)[_0x5df30d(0x1e7)](_0x2474dd);})[_0x58c7a2(0x158)](this['routerPath'](_0x58c7a2(0x5de),!0x1),..._0x2df55e,async(_0x32174a,_0x25dac3)=>{const _0x27b30e=_0x58c7a2;let _0x3fbc36=await this['dataValidate']({'request':_0x32174a,'schema':null,'ClassRef':E,'execute':_0x2cec71=>le[_0x27b30e(0x5de)](_0x2cec71)});return _0x25dac3[_0x27b30e(0x425)](0xc8)[_0x27b30e(0x1e7)](_0x3fbc36);})[_0x58c7a2(0x435)](this[_0x58c7a2(0x29a)](_0x58c7a2(0x670)),..._0x2df55e,async(_0x4eef33,_0x4fbf36)=>{const _0xfce398=_0x58c7a2;let _0x70e32e=await this[_0xfce398(0x4f5)]({'request':_0x4eef33,'schema':M,'ClassRef':E,'execute':_0x45a717=>le[_0xfce398(0x670)](_0x45a717)});return _0x4fbf36[_0xfce398(0x425)](0xc8)[_0xfce398(0x1e7)](_0x70e32e);})[_0x58c7a2(0x435)](this[_0x58c7a2(0x29a)]('delete'),..._0x2df55e,async(_0x64d4e9,_0x18f156)=>{const _0x5023d7=_0x58c7a2;let _0x34843a=await this[_0x5023d7(0x4f5)]({'request':_0x64d4e9,'schema':M,'ClassRef':E,'execute':_0x2c650e=>le[_0x5023d7(0x446)](_0x2c650e)});return _0x18f156[_0x5023d7(0x425)](0xc8)[_0x5023d7(0x1e7)](_0x34843a);});}},so=require(a0_0x20d441(0x413)),gs=class{},W=class extends gs{},lt=class extends W{},ut=class extends W{},dt=class extends W{},pt=class extends W{},Ce=class extends W{},ht=class extends W{},gt=class extends W{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class{},bt=class extends U{constructor(..._0x1417fb){const _0x13ed36=a0_0x20d441;super(),this['router']=(0x0,so['Router'])(),this['router']['post'](this[_0x13ed36(0x29a)](_0x13ed36(0x5ba)),..._0x1417fb,async(_0x146c82,_0x1ef7ca)=>{const _0x441af7=_0x13ed36;let _0x492bed=await this[_0x441af7(0x4f5)]({'request':_0x146c82,'schema':Sa,'ClassRef':lt,'execute':(_0x2bddc6,_0x5691cf)=>G[_0x441af7(0x5ba)](_0x2bddc6,_0x5691cf)});return _0x1ef7ca['status'](0xc9)['json'](_0x492bed);})[_0x13ed36(0x2b8)](this[_0x13ed36(0x29a)](_0x13ed36(0x44b)),..._0x1417fb,async(_0x29929c,_0xa0cd2e)=>{const _0x3ce7d2=_0x13ed36;let _0xe5ea5d=await this[_0x3ce7d2(0x4f5)]({'request':_0x29929c,'schema':va,'ClassRef':Ce,'execute':(_0x4db269,_0x4f0fc9)=>G[_0x3ce7d2(0x44b)](_0x4db269,_0x4f0fc9)});return _0xa0cd2e[_0x3ce7d2(0x425)](0xc9)[_0x3ce7d2(0x1e7)](_0xe5ea5d);})[_0x13ed36(0x2b8)](this['routerPath'](_0x13ed36(0x386)),..._0x1417fb,async(_0x5d4854,_0x400862)=>{const _0x856497=_0x13ed36;let _0x466f04=await this[_0x856497(0x4f5)]({'request':_0x5d4854,'schema':Ta,'ClassRef':pt,'execute':(_0x22f689,_0x18003f)=>G[_0x856497(0x386)](_0x22f689,_0x18003f)});return _0x400862['status'](0xc9)[_0x856497(0x1e7)](_0x466f04);})['post'](this[_0x13ed36(0x29a)]('sendWhatsAppAudio'),..._0x1417fb,async(_0x48e69d,_0x6fc0fd)=>{const _0x2054f8=_0x13ed36;let _0x3da988=await this[_0x2054f8(0x4f5)]({'request':_0x48e69d,'schema':Na,'ClassRef':Ce,'execute':(_0x4e2571,_0x414059)=>G[_0x2054f8(0x600)](_0x4e2571,_0x414059)});return _0x6fc0fd[_0x2054f8(0x425)](0xc9)[_0x2054f8(0x1e7)](_0x3da988);})[_0x13ed36(0x2b8)](this['routerPath'](_0x13ed36(0x517)),..._0x1417fb,async(_0x1ad64e,_0x2dfb31)=>{const _0x2aa45f=_0x13ed36;let _0x2ace02=await this[_0x2aa45f(0x4f5)]({'request':_0x1ad64e,'schema':Aa,'ClassRef':gt,'execute':(_0x227545,_0x38cb7f)=>G['sendButtons'](_0x227545,_0x38cb7f)});return _0x2dfb31[_0x2aa45f(0x425)](0xc9)['json'](_0x2ace02);})['post'](this[_0x13ed36(0x29a)](_0x13ed36(0x64c)),..._0x1417fb,async(_0x5cade2,_0x4eee1c)=>{const _0x3b8eb4=_0x13ed36;let _0x43b069=await this[_0x3b8eb4(0x4f5)]({'request':_0x5cade2,'schema':Oa,'ClassRef':mt,'execute':(_0x557ada,_0x572500)=>G[_0x3b8eb4(0x64c)](_0x557ada,_0x572500)});return _0x4eee1c[_0x3b8eb4(0x425)](0xc9)[_0x3b8eb4(0x1e7)](_0x43b069);})[_0x13ed36(0x2b8)](this[_0x13ed36(0x29a)](_0x13ed36(0x3c0)),..._0x1417fb,async(_0x119adb,_0x219ca3)=>{const _0x2b0fcc=_0x13ed36;let _0x5bec31=await this[_0x2b0fcc(0x4f5)]({'request':_0x119adb,'schema':Ia,'ClassRef':ft,'execute':(_0x5aeee7,_0x45924f)=>G[_0x2b0fcc(0x3c0)](_0x5aeee7,_0x45924f)});return _0x219ca3[_0x2b0fcc(0x425)](0xc9)[_0x2b0fcc(0x1e7)](_0x5bec31);})[_0x13ed36(0x2b8)](this[_0x13ed36(0x29a)](_0x13ed36(0x3c5)),..._0x1417fb,async(_0x53b23e,_0x45e40a)=>{const _0x4e548c=_0x13ed36;let _0x14c25a=await this['dataValidate']({'request':_0x53b23e,'schema':xa,'ClassRef':wt,'execute':(_0x13c565,_0x2e8aea)=>G[_0x4e548c(0x3c5)](_0x13c565,_0x2e8aea)});return _0x45e40a[_0x4e548c(0x425)](0xc9)[_0x4e548c(0x1e7)](_0x14c25a);})[_0x13ed36(0x2b8)](this['routerPath'](_0x13ed36(0x61b)),..._0x1417fb,async(_0x327984,_0x125a60)=>{const _0x5f37d9=_0x13ed36;let _0xce6bda=await this[_0x5f37d9(0x4f5)]({'request':_0x327984,'schema':Da,'ClassRef':yt,'execute':(_0x541a28,_0x4a4ba0)=>G['sendReaction'](_0x541a28,_0x4a4ba0)});return _0x125a60[_0x5f37d9(0x425)](0xc9)[_0x5f37d9(0x1e7)](_0xce6bda);})[_0x13ed36(0x2b8)](this[_0x13ed36(0x29a)](_0x13ed36(0x25d)),..._0x1417fb,async(_0x3f39db,_0xc018ee)=>{const _0x232645=_0x13ed36;let _0x4f08c7=await this[_0x232645(0x4f5)]({'request':_0x3f39db,'schema':Ra,'ClassRef':dt,'execute':(_0x564b95,_0x5aed98)=>G[_0x232645(0x25d)](_0x564b95,_0x5aed98)});return _0xc018ee['status'](0xc9)[_0x232645(0x1e7)](_0x4f08c7);})[_0x13ed36(0x2b8)](this[_0x13ed36(0x29a)](_0x13ed36(0x189)),..._0x1417fb,async(_0x88dabb,_0x435c43)=>{const _0x579232=_0x13ed36;let _0x3d103f=await this[_0x579232(0x4f5)]({'request':_0x88dabb,'schema':Ma,'ClassRef':ut,'execute':(_0x58e7a2,_0x46a5a8)=>G[_0x579232(0x189)](_0x58e7a2,_0x46a5a8)});return _0x435c43[_0x579232(0x425)](0xc9)[_0x579232(0x1e7)](_0x3d103f);})['post'](this['routerPath']('sendSticker'),..._0x1417fb,async(_0x2e6932,_0x3a9272)=>{const _0x5a03ed=_0x13ed36;let _0x1f3fd8=await this[_0x5a03ed(0x4f5)]({'request':_0x2e6932,'schema':Ca,'ClassRef':ht,'execute':(_0x34d486,_0x4d345d)=>G['sendSticker'](_0x34d486,_0x4d345d)});return _0x3a9272['status'](0xc9)['json'](_0x1f3fd8);});}},ao=require('express'),St=class{},Et=class extends U{constructor(..._0x4954f3){const _0x5f034e=a0_0x20d441;super(),this[_0x5f034e(0x36d)]=(0x0,ao[_0x5f034e(0x2f5)])(),this[_0x5f034e(0x36d)][_0x5f034e(0x2b8)](this[_0x5f034e(0x29a)]('set'),..._0x4954f3,async(_0x31b195,_0x92539d)=>{const _0x50c03d=_0x5f034e;let _0x24c323=await this[_0x50c03d(0x4f5)]({'request':_0x31b195,'schema':Xa,'ClassRef':St,'execute':(_0x1a8dd6,_0x276e7c)=>ms[_0x50c03d(0x370)](_0x1a8dd6,_0x276e7c)});_0x92539d[_0x50c03d(0x425)](0xc9)[_0x50c03d(0x1e7)](_0x24c323);})['get'](this[_0x5f034e(0x29a)]('find'),..._0x4954f3,async(_0x2b2219,_0x3481c4)=>{const _0x305c63=_0x5f034e;let _0x476916=await this[_0x305c63(0x4f5)]({'request':_0x2b2219,'schema':M,'ClassRef':E,'execute':_0x16ed71=>ms[_0x305c63(0x35c)](_0x16ed71)});_0x3481c4['status'](0xc8)[_0x305c63(0x1e7)](_0x476916);});}},oo=require(a0_0x20d441(0x413)),f=new v(a0_0x20d441(0x6a7)),Ct=class extends U{constructor(..._0x3d5f30){const _0x4967ad=a0_0x20d441;super(),this[_0x4967ad(0x36d)]=(0x0,oo['Router'])(),this[_0x4967ad(0x36d)][_0x4967ad(0x2b8)](this['routerPath'](_0x4967ad(0x630)),..._0x3d5f30,async(_0x18ac9f,_0x4e6771)=>{const _0x2632e8=_0x4967ad;let _0x306724=_0x18ac9f[_0x2632e8(0x336)];f[_0x2632e8(0x411)]('request\x20received\x20in\x20scheduleMessage'),f[_0x2632e8(0x411)](_0x2632e8(0x44d)),f[_0x2632e8(0x411)](_0x18ac9f[_0x2632e8(0x336)]);let _0x46fdff=await this[_0x2632e8(0x4f5)]({'request':_0x18ac9f,'schema':M,'ClassRef':E,'execute':_0x44e3bc=>T['editScheduleMessage'](_0x44e3bc,_0x306724)});_0x4e6771[_0x2632e8(0x425)](0xc8)['json'](_0x46fdff);})[_0x4967ad(0x158)](this[_0x4967ad(0x29a)](_0x4967ad(0x630)),..._0x3d5f30,async(_0x3f3dfb,_0x42fa3d)=>{const _0x2c083c=_0x4967ad;let _0x2e3d7e=await this[_0x2c083c(0x4f5)]({'request':_0x3f3dfb,'schema':M,'ClassRef':E,'execute':_0x6d1811=>T[_0x2c083c(0x3ad)](_0x6d1811)});_0x42fa3d['status'](0xc8)[_0x2c083c(0x1e7)](_0x2e3d7e);})[_0x4967ad(0x435)](this[_0x4967ad(0x29a)](_0x4967ad(0x203)),..._0x3d5f30,async(_0x111d65,_0x2ae546)=>{const _0x3b9a91=_0x4967ad;f[_0x3b9a91(0x411)](_0x3b9a91(0x484));let _0x547b1c=await this['dataValidate']({'request':_0x111d65,'schema':M,'ClassRef':E,'execute':_0x3314a8=>T[_0x3b9a91(0x203)](_0x3314a8)});_0x2ae546['status'](0xc8)[_0x3b9a91(0x1e7)](_0x547b1c);})[_0x4967ad(0x2b8)](this[_0x4967ad(0x29a)]('startFlow'),..._0x3d5f30,async(_0x3e2ac9,_0x5e4628)=>{const _0x193251=_0x4967ad;let _0x18b283=_0x3e2ac9[_0x193251(0x336)];f[_0x193251(0x411)](_0x193251(0x1b6)),f[_0x193251(0x411)]('request\x20body:\x20'),f[_0x193251(0x411)](_0x3e2ac9[_0x193251(0x336)]);let _0xddf398=await this[_0x193251(0x4f5)]({'request':_0x3e2ac9,'schema':M,'ClassRef':E,'execute':_0x4f87da=>T['startFlow'](_0x4f87da,_0x18b283)});_0x5e4628[_0x193251(0x425)](0xc8)[_0x193251(0x1e7)](_0xddf398);})[_0x4967ad(0x158)](this['routerPath']('getAutomateSystem'),..._0x3d5f30,async(_0x2380c5,_0x1f31da)=>{const _0x4a8a6e=_0x4967ad;f[_0x4a8a6e(0x411)](_0x4a8a6e(0x73c));let _0x4245af=await this[_0x4a8a6e(0x4f5)]({'request':_0x2380c5,'schema':M,'ClassRef':E,'execute':_0x4cff57=>T[_0x4a8a6e(0x799)](_0x4cff57)});_0x1f31da[_0x4a8a6e(0x425)](0xc8)[_0x4a8a6e(0x1e7)](_0x4245af);})[_0x4967ad(0x158)](this[_0x4967ad(0x29a)](_0x4967ad(0x795)),..._0x3d5f30,async(_0x15d96d,_0x4aa4da)=>{const _0x414bd7=_0x4967ad;f['verbose'](_0x414bd7(0x146));let _0xab18e=await this[_0x414bd7(0x4f5)]({'request':_0x15d96d,'schema':M,'ClassRef':E,'execute':_0x556db6=>T[_0x414bd7(0x799)](_0x556db6)});_0x4aa4da[_0x414bd7(0x425)](0xc8)['json'](_0xab18e);})['post'](this[_0x4967ad(0x29a)]('updateAgent'),..._0x3d5f30,async(_0x5a8387,_0x4b8020)=>{const _0x536913=_0x4967ad;let _0x356cca=_0x5a8387[_0x536913(0x336)];f[_0x536913(0x411)](_0x536913(0x2ce)),f['verbose'](_0x536913(0x44d)),f[_0x536913(0x411)](_0x5a8387[_0x536913(0x336)]);let _0x1c6da8=await this[_0x536913(0x4f5)]({'request':_0x5a8387,'schema':M,'ClassRef':E,'execute':_0x11018f=>T[_0x536913(0x5ef)](_0x11018f,_0x356cca)});_0x4b8020[_0x536913(0x425)](0xc8)['json'](_0x1c6da8);})['post'](this[_0x4967ad(0x29a)](_0x4967ad(0x5fc)),..._0x3d5f30,async(_0x569338,_0x5e119a)=>{const _0xfef367=_0x4967ad;let _0x73b194=_0x569338[_0xfef367(0x336)];f[_0xfef367(0x411)](_0xfef367(0x37e)),f['verbose'](_0xfef367(0x44d)),f['verbose'](_0x569338[_0xfef367(0x336)]);let _0x56a0fa=await this[_0xfef367(0x4f5)]({'request':_0x569338,'schema':M,'ClassRef':E,'execute':_0x4272c7=>T['updateCustomFields'](_0x4272c7,_0x73b194)});_0x5e119a['status'](0xc8)[_0xfef367(0x1e7)](_0x56a0fa);})[_0x4967ad(0x2b8)](this[_0x4967ad(0x29a)](_0x4967ad(0x1de)),..._0x3d5f30,async(_0x1f8287,_0x1dd431)=>{const _0x4ee9ba=_0x4967ad;let _0x29103c=_0x1f8287[_0x4ee9ba(0x336)];f['verbose']('request\x20received\x20in\x20updateFlowConfig'),f[_0x4ee9ba(0x411)](_0x4ee9ba(0x44d)),f['verbose'](_0x1f8287[_0x4ee9ba(0x336)]);let _0x7e488f=await this['dataValidate']({'request':_0x1f8287,'schema':M,'ClassRef':E,'execute':_0x185fbc=>T[_0x4ee9ba(0x1de)](_0x185fbc,_0x29103c)});_0x1dd431[_0x4ee9ba(0x425)](0xc8)[_0x4ee9ba(0x1e7)](_0x7e488f);})[_0x4967ad(0x2b8)](this[_0x4967ad(0x29a)]('getConversation'),..._0x3d5f30,async(_0x243456,_0x44f7d2)=>{const _0x1b5021=_0x4967ad;let _0x58e9b7=_0x243456[_0x1b5021(0x336)];f[_0x1b5021(0x411)](_0x1b5021(0x47f)),f[_0x1b5021(0x411)](_0x1b5021(0x44d)),f[_0x1b5021(0x411)](_0x243456['body']);let _0x7e6f43=await this[_0x1b5021(0x4f5)]({'request':_0x243456,'schema':M,'ClassRef':E,'execute':_0x3d5de5=>T['getConversation'](_0x3d5de5,_0x58e9b7)});_0x44f7d2[_0x1b5021(0x425)](0xc8)[_0x1b5021(0x1e7)](_0x7e6f43);})['post'](this[_0x4967ad(0x29a)](_0x4967ad(0x3d6)),..._0x3d5f30,async(_0x122ca3,_0x8405d1)=>{const _0x51c742=_0x4967ad;let _0x2991be=_0x122ca3[_0x51c742(0x336)];f[_0x51c742(0x411)](_0x51c742(0x422)),f[_0x51c742(0x411)]('request\x20body:\x20'),f[_0x51c742(0x411)](_0x122ca3[_0x51c742(0x336)]);let _0x4161c6=await this[_0x51c742(0x4f5)]({'request':_0x122ca3,'schema':M,'ClassRef':E,'execute':_0x42bc52=>T[_0x51c742(0x3d6)](_0x42bc52,_0x2991be)});_0x8405d1['status'](0xc8)[_0x51c742(0x1e7)](_0x4161c6);})[_0x4967ad(0x2b8)](this[_0x4967ad(0x29a)]('editConversation'),..._0x3d5f30,async(_0x282aa4,_0x9c6dbf)=>{const _0x360f5b=_0x4967ad;let _0x540aa5=_0x282aa4['body'];f[_0x360f5b(0x411)]('request\x20received\x20in\x20editConversation'),f[_0x360f5b(0x411)](_0x360f5b(0x44d)),f[_0x360f5b(0x411)](_0x282aa4[_0x360f5b(0x336)]);let _0x5baaf9=await this['dataValidate']({'request':_0x282aa4,'schema':M,'ClassRef':E,'execute':_0x545974=>T[_0x360f5b(0x4b9)](_0x545974,_0x540aa5)});_0x9c6dbf[_0x360f5b(0x425)](0xc8)['json'](_0x5baaf9);})['delete'](this[_0x4967ad(0x29a)](_0x4967ad(0x215)),..._0x3d5f30,async(_0x55d52a,_0x2d7ca3)=>{const _0x51bb2e=_0x4967ad;let _0x115235=_0x55d52a[_0x51bb2e(0x336)];f['verbose']('request\x20received\x20in\x20deleteConversation'),f[_0x51bb2e(0x411)]('request\x20body:\x20'),f[_0x51bb2e(0x411)](_0x55d52a[_0x51bb2e(0x336)]);let _0x28f88b=await this[_0x51bb2e(0x4f5)]({'request':_0x55d52a,'schema':M,'ClassRef':E,'execute':_0x273503=>T['deleteConversation'](_0x273503,_0x115235)});_0x2d7ca3[_0x51bb2e(0x425)](0xc8)[_0x51bb2e(0x1e7)](_0x28f88b);})[_0x4967ad(0x2b8)](this[_0x4967ad(0x29a)](_0x4967ad(0x2c4)),..._0x3d5f30,async(_0x2623ce,_0x4ea19d)=>{const _0x225ebd=_0x4967ad;let _0xb261d8=_0x2623ce[_0x225ebd(0x336)];f[_0x225ebd(0x411)](_0x225ebd(0x273)),f[_0x225ebd(0x411)](_0x225ebd(0x44d)),f[_0x225ebd(0x411)](_0x2623ce[_0x225ebd(0x336)]);let _0x3e0339=await this[_0x225ebd(0x4f5)]({'request':_0x2623ce,'schema':M,'ClassRef':E,'execute':_0x1de1b4=>T[_0x225ebd(0x456)](_0x1de1b4,_0xb261d8)});_0x4ea19d[_0x225ebd(0x425)](0xc8)[_0x225ebd(0x1e7)](_0x3e0339);})[_0x4967ad(0x2b8)](this[_0x4967ad(0x29a)](_0x4967ad(0x165)),..._0x3d5f30,async(_0x73f9ca,_0x1fff93)=>{const _0x10893f=_0x4967ad;let _0x5308de=_0x73f9ca['body'];f[_0x10893f(0x411)](_0x10893f(0x4db)),f[_0x10893f(0x411)]('request\x20body:\x20'),f[_0x10893f(0x411)](_0x73f9ca[_0x10893f(0x336)]),delete _0x5308de[_0x10893f(0x510)],delete _0x5308de[_0x10893f(0x1dc)],delete _0x5308de[_0x10893f(0x5e3)],delete _0x5308de[_0x10893f(0x536)];let _0x3bd1f8=await this[_0x10893f(0x4f5)]({'request':_0x73f9ca,'schema':M,'ClassRef':E,'execute':_0x77569d=>T['editFlow'](_0x77569d,_0x5308de)});_0x1fff93[_0x10893f(0x425)](0xc8)[_0x10893f(0x1e7)](_0x3bd1f8);})[_0x4967ad(0x2b8)](this[_0x4967ad(0x29a)](_0x4967ad(0x73d)),..._0x3d5f30,async(_0x4bdd26,_0x3b6d72)=>{const _0x5eb935=_0x4967ad;let _0x11815a=_0x4bdd26[_0x5eb935(0x336)];f[_0x5eb935(0x411)]('request\x20received\x20in\x20editFlow'),f[_0x5eb935(0x411)](_0x5eb935(0x44d)),f[_0x5eb935(0x411)](_0x4bdd26['body']);let _0x233a08=await this[_0x5eb935(0x4f5)]({'request':_0x4bdd26,'schema':M,'ClassRef':E,'execute':_0x11b1a0=>T[_0x5eb935(0x734)](_0x11b1a0,_0x11815a)});_0x3b6d72[_0x5eb935(0x425)](0xc8)[_0x5eb935(0x1e7)](_0x233a08);})[_0x4967ad(0x2b8)](this[_0x4967ad(0x29a)](_0x4967ad(0x407)),..._0x3d5f30,async(_0x333e76,_0x542855)=>{const _0xa57edf=_0x4967ad;let _0x39afa4=_0x333e76[_0xa57edf(0x336)];f[_0xa57edf(0x411)](_0xa57edf(0x4db)),f[_0xa57edf(0x411)]('request\x20body:\x20'),f[_0xa57edf(0x411)](_0x333e76['body']);let _0x4722bb=await this[_0xa57edf(0x4f5)]({'request':_0x333e76,'schema':M,'ClassRef':E,'execute':_0x201a0b=>T[_0xa57edf(0x75c)](_0x201a0b,_0x39afa4)});_0x542855['status'](0xc8)[_0xa57edf(0x1e7)](_0x4722bb);})['post'](this[_0x4967ad(0x29a)](_0x4967ad(0x44e)),..._0x3d5f30,async(_0x40eecc,_0x1885f7)=>{const _0x4e8cf9=_0x4967ad;let _0x53403c=_0x40eecc[_0x4e8cf9(0x336)];f[_0x4e8cf9(0x411)](_0x4e8cf9(0x4db)),f[_0x4e8cf9(0x411)]('request\x20body:\x20'),f[_0x4e8cf9(0x411)](_0x40eecc['body']);let _0x5abcc0=await this[_0x4e8cf9(0x4f5)]({'request':_0x40eecc,'schema':M,'ClassRef':E,'execute':_0x3aead2=>T['editFlowVaredit'](_0x3aead2,_0x53403c)});_0x1885f7[_0x4e8cf9(0x425)](0xc8)[_0x4e8cf9(0x1e7)](_0x5abcc0);})[_0x4967ad(0x2b8)](this[_0x4967ad(0x29a)](_0x4967ad(0x24f)),..._0x3d5f30,async(_0x4b1c6e,_0x2ea3fa)=>{const _0x88f1cb=_0x4967ad;let _0xcda72a=_0x4b1c6e['body'];f['verbose']('request\x20received\x20in\x20editFlowgroup'),f[_0x88f1cb(0x411)]('request\x20body:\x20'),f[_0x88f1cb(0x411)](_0x4b1c6e['body']);let _0x33db26=await this['dataValidate']({'request':_0x4b1c6e,'schema':M,'ClassRef':E,'execute':_0x4967dc=>T[_0x88f1cb(0x6e5)](_0x4967dc,_0xcda72a)});_0x2ea3fa[_0x88f1cb(0x425)](0xc8)['json'](_0x33db26);})['post'](this[_0x4967ad(0x29a)](_0x4967ad(0x489)),..._0x3d5f30,async(_0x11d33c,_0x358293)=>{const _0x2221fe=_0x4967ad;let _0x59b916=_0x11d33c['body'];f[_0x2221fe(0x411)]('request\x20received\x20in\x20editFlowcondition'),f[_0x2221fe(0x411)]('request\x20body:\x20'),f[_0x2221fe(0x411)](_0x11d33c['body']);let _0x490b86=await this[_0x2221fe(0x4f5)]({'request':_0x11d33c,'schema':M,'ClassRef':E,'execute':_0x3c6766=>T[_0x2221fe(0x32d)](_0x3c6766,_0x59b916)});_0x358293[_0x2221fe(0x425)](0xc8)[_0x2221fe(0x1e7)](_0x490b86);})[_0x4967ad(0x2b8)](this[_0x4967ad(0x29a)](_0x4967ad(0x77e)),..._0x3d5f30,async(_0x1ddde8,_0x1b9cd8)=>{const _0x42755a=_0x4967ad;let _0x5cf315=_0x1ddde8[_0x42755a(0x336)];f[_0x42755a(0x411)]('request\x20received\x20in\x20editFlowvariable'),f[_0x42755a(0x411)]('request\x20body:\x20'),f[_0x42755a(0x411)](_0x1ddde8[_0x42755a(0x336)]);let _0x2e96e4=await this[_0x42755a(0x4f5)]({'request':_0x1ddde8,'schema':M,'ClassRef':E,'execute':_0x7cc9d0=>T['editFlowVariable'](_0x7cc9d0,_0x5cf315)});_0x1b9cd8[_0x42755a(0x425)](0xc8)['json'](_0x2e96e4);})[_0x4967ad(0x2b8)](this[_0x4967ad(0x29a)](_0x4967ad(0x172)),..._0x3d5f30,async(_0x451113,_0x5ec50b)=>{const _0x18042c=_0x4967ad;let _0x33cb55=_0x451113[_0x18042c(0x336)];f[_0x18042c(0x411)](_0x18042c(0x78a)),f[_0x18042c(0x411)](_0x18042c(0x44d)),f[_0x18042c(0x411)](_0x451113[_0x18042c(0x336)]);let _0x243d1c=await this[_0x18042c(0x4f5)]({'request':_0x451113,'schema':M,'ClassRef':E,'execute':_0x42f356=>T[_0x18042c(0x50b)](_0x42f356,_0x33cb55)});_0x5ec50b['status'](0xc8)[_0x18042c(0x1e7)](_0x243d1c);})[_0x4967ad(0x435)](this[_0x4967ad(0x29a)](_0x4967ad(0x640)),..._0x3d5f30,async(_0x2efcad,_0x19687a)=>{const _0x14bf5c=_0x4967ad;let _0x341a5a=_0x2efcad[_0x14bf5c(0x336)];f[_0x14bf5c(0x411)](_0x14bf5c(0x217)),f[_0x14bf5c(0x411)]('request\x20body:\x20'),f[_0x14bf5c(0x411)](_0x2efcad[_0x14bf5c(0x336)]);let _0x43d11b=await this['dataValidate']({'request':_0x2efcad,'schema':M,'ClassRef':E,'execute':_0x188951=>T['deleteFlow'](_0x188951,_0x341a5a)});_0x19687a[_0x14bf5c(0x425)](0xc8)[_0x14bf5c(0x1e7)](_0x43d11b);})[_0x4967ad(0x158)](this[_0x4967ad(0x29a)](_0x4967ad(0x54c)),..._0x3d5f30,async(_0x5ed403,_0x365417)=>{const _0x48ebf9=_0x4967ad;f[_0x48ebf9(0x411)](_0x48ebf9(0x1fe));let _0x4d167b=await this['dataValidate']({'request':_0x5ed403,'schema':M,'ClassRef':E,'execute':_0x2e3d5e=>T['allFlows'](_0x2e3d5e)});_0x365417['status'](0xc8)['json'](_0x4d167b);});}},co=R(require(a0_0x20d441(0x277))),X={};function ro(_0x15c482,_0x3007f5,_0x5d8e0b,_0x5705b4){X[_0x15c482]||(X[_0x15c482]={}),X[_0x15c482][_0x3007f5]={'id':_0x3007f5,'response':_0x5d8e0b,'events':_0x5705b4};}function io(_0x44c33f,_0xf17fdb){!X[_0x44c33f]||!X[_0x44c33f][_0xf17fdb]||delete X[_0x44c33f][_0xf17fdb];}function J(_0xe4fa53,_0x31bdc3,_0x6e8b46){const _0x55a753=a0_0x20d441;if(!X[_0xe4fa53])return;let _0x4287a7=_0x55a753(0x485)+JSON[_0x55a753(0x625)](_0x6e8b46)+'\x0a\x0a';Object[_0x55a753(0x54a)](X[_0xe4fa53])[_0x55a753(0x3ce)](_0x2592d3=>{const _0x572401=_0x55a753;_0x2592d3[_0x572401(0x39c)]['includes'](_0x31bdc3)&&_0x2592d3[_0x572401(0x51a)][_0x572401(0x56d)](_0x4287a7);});}function no(){const _0x29f3be=a0_0x20d441;let _0x5a9556={};for(let _0x5c087d in X)_0x5a9556[_0x5c087d]=Object[_0x29f3be(0x54a)](X[_0x5c087d])[_0x29f3be(0x6b3)](_0x56b764=>({'id':_0x56b764['id'],'events':_0x56b764[_0x29f3be(0x39c)]}));return _0x5a9556;}var lo=require(a0_0x20d441(0x3aa)),ws=require(a0_0x20d441(0x460)),fs=class{},cr=new ws['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),lr=new ws[(a0_0x20d441(0x695))]({'_id':{'type':String,'default':a0_0x20d441(0x70e)},'WebhookGlobal':{'type':cr},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),we=N?.[a0_0x20d441(0x4ef)](fs[a0_0x20d441(0x6cb)],lr,'All_Instances_Config'),ur=co['default'][a0_0x20d441(0x686)](__dirname,a0_0x20d441(0x5c1)),vt=(0x0,Mt['Router'])(),dr=b[a0_0x20d441(0x158)](a0_0x20d441(0x1da))[a0_0x20d441(0x4e3)],te=[ma,fa,ba[dr]];vt[a0_0x20d441(0x210)](a0_0x20d441(0x1c3),Mt['default'][a0_0x20d441(0x675)](ur))['get']('/events/:instance',async(_0x50e379,_0x74a422)=>{const _0x3e25c3=a0_0x20d441;console['log'](_0x3e25c3(0x22b));let _0x389644=_0x50e379['params']['instance'],_0x1ab1dc=(_0x50e379[_0x3e25c3(0x260)][_0x3e25c3(0x39c)]||'')['split'](','),_0x48bdc6=(0x0,lo['v4'])();console[_0x3e25c3(0x3a8)](_0x3e25c3(0x34b),_0x389644),console[_0x3e25c3(0x3a8)]('Subscribed\x20Events:',_0x1ab1dc);let _0x5bedd=b[_0x3e25c3(0x158)](_0x3e25c3(0x1da))[_0x3e25c3(0x3fb)],_0x1958da=_0x50e379[_0x3e25c3(0x260)][_0x3e25c3(0x708)];if(console['log'](_0x3e25c3(0x26d),_0x1958da),_0x5bedd[_0x3e25c3(0x31b)]!==_0x1958da){console[_0x3e25c3(0x3a8)](_0x3e25c3(0x2cb));try{let _0x336749=await ce[_0x3e25c3(0x3f5)][_0x3e25c3(0x466)](_0x389644);if(console[_0x3e25c3(0x3a8)](_0x3e25c3(0x754),_0x336749),!_0x336749||_0x336749[_0x3e25c3(0x708)]!==_0x1958da)return console['log'](_0x3e25c3(0x768)),_0x74a422[_0x3e25c3(0x425)](0x191)['send'](_0x3e25c3(0x2bd));}catch(_0x5ae1b1){return console[_0x3e25c3(0x5e0)](_0x3e25c3(0x60b),_0x5ae1b1),_0x74a422[_0x3e25c3(0x425)](0x191)[_0x3e25c3(0x427)](_0x3e25c3(0x3dc));}}if(!await We(_0x389644))return _0x74a422['status'](0x194)[_0x3e25c3(0x427)](_0x3e25c3(0x31e));_0x74a422[_0x3e25c3(0x6e9)]('Content-Type','text/event-stream'),_0x74a422[_0x3e25c3(0x6e9)](_0x3e25c3(0x1f4),_0x3e25c3(0x33d)),_0x74a422[_0x3e25c3(0x6e9)]('Connection',_0x3e25c3(0x198)),_0x74a422[_0x3e25c3(0x20b)]();let _0x3c4dc4=_0x3e25c3(0x485)+JSON[_0x3e25c3(0x625)]({'info':_0x3e25c3(0x573)})+'\x0a\x0a';_0x74a422['write'](_0x3c4dc4),ro(_0x389644,_0x48bdc6,_0x74a422,_0x1ab1dc),_0x50e379['on'](_0x3e25c3(0x1ee),()=>{const _0x39326e=_0x3e25c3;console[_0x39326e(0x3a8)](_0x39326e(0x555)+_0x389644),io(_0x389644,_0x48bdc6);});}),vt[a0_0x20d441(0x158)](a0_0x20d441(0x461),(_0x13db7e,_0x240fb0)=>{const _0x587ee4=a0_0x20d441;let _0x5843fc=no();_0x240fb0[_0x587ee4(0x1e7)](_0x5843fc);})[a0_0x20d441(0x158)]('/',(_0x256840,_0x3043cd)=>{const _0x5e6935=a0_0x20d441;let _0x5a9ba6=b[_0x5e6935(0x158)](_0x5e6935(0x3e4)),_0x5ec20e=_0x5a9ba6&&_0x5a9ba6[_0x5e6935(0x740)]['split']('/')[0x4];if(_0x5ec20e){let _0x34c24a=encodeURIComponent(_0x5e6935(0x331)+_0x5ec20e);_0x3043cd[_0x5e6935(0x606)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x34c24a);}else _0x3043cd['redirect'](_0x5e6935(0x501));})[a0_0x20d441(0x5e1)](a0_0x20d441(0x23d),...te,async(_0x1d1e55,_0x4cf059)=>{const _0x34d4cc=a0_0x20d441;try{console['log'](_0x34d4cc(0x4f2)),_0x4cf059['status'](0xc8)['json']({'message':_0x34d4cc(0x624)}),_0x4cf059['on'](_0x34d4cc(0x451),()=>process[_0x34d4cc(0x644)](0x0));}catch(_0x5161ef){console[_0x34d4cc(0x5e0)](_0x34d4cc(0x55c),_0x5161ef),_0x4cf059['status'](0x1f4)[_0x34d4cc(0x1e7)]({'message':_0x34d4cc(0x22a)});}})['put'](a0_0x20d441(0x24e),...te,async(_0x1af9b7,_0x1b5356)=>{const _0x216e2f=a0_0x20d441;try{let _0xc25a18=_0x1af9b7[_0x216e2f(0x336)];await we[_0x216e2f(0x590)]({},{'$set':_0xc25a18},{'upsert':!0x0});let _0xb0a0f0=await we[_0x216e2f(0x1ca)]();_0x1b5356[_0x216e2f(0x1e7)](_0xb0a0f0);}catch(_0x32e456){_0x1b5356[_0x216e2f(0x425)](0x190)[_0x216e2f(0x427)](_0x32e456[_0x216e2f(0x71e)]);}})['get'](a0_0x20d441(0x24e),...te,async(_0xa2b787,_0x4a4b34)=>{const _0xf42c6=a0_0x20d441;try{let _0x376983=await we[_0xf42c6(0x1ca)]();if(!_0x376983)return _0x4a4b34['json']({});_0x4a4b34[_0xf42c6(0x1e7)](_0x376983);}catch(_0x31febf){_0x4a4b34[_0xf42c6(0x425)](0x1f4)[_0xf42c6(0x427)](_0x31febf[_0xf42c6(0x71e)]);}})[a0_0x20d441(0x210)](a0_0x20d441(0x5c4),new ct(b,...te)[a0_0x20d441(0x36d)])['use'](a0_0x20d441(0x51e),new bt(...te)[a0_0x20d441(0x36d)])[a0_0x20d441(0x210)](a0_0x20d441(0x2d4),new Xe(...te)['router'])[a0_0x20d441(0x210)](a0_0x20d441(0x1d9),new nt(...te)[a0_0x20d441(0x36d)])[a0_0x20d441(0x210)](a0_0x20d441(0x6c7),new Et(...te)[a0_0x20d441(0x36d)])[a0_0x20d441(0x210)]('/automate',new Ct(...te)[a0_0x20d441(0x36d)]);var m=class{constructor(..._0x55eb8d){const _0x4d8c12=a0_0x20d441;throw{'status':0x190,'error':_0x4d8c12(0x58c),'message':_0x55eb8d['length']>0x0?_0x55eb8d:void 0x0};}},ee=class{constructor(..._0x5dbdb6){throw{'status':0x191,'error':'Unauthorized','message':_0x5dbdb6['length']>0x0?_0x5dbdb6:void 0x0};}},K=class{constructor(..._0x16e70e){const _0x2cc80f=a0_0x20d441;throw{'status':0x193,'error':'Forbidden','message':_0x16e70e[_0x2cc80f(0x280)]>0x0?_0x16e70e:void 0x0};}},j=class{constructor(..._0x4730ea){const _0x51cb0b=a0_0x20d441;throw{'status':0x194,'error':_0x51cb0b(0x694),'message':_0x4730ea['length']>0x0?_0x4730ea:void 0x0};}},O=class{constructor(..._0x39fdc5){throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x39fdc5['length']>0x0?_0x39fdc5:void 0x0};}},ue=require(a0_0x20d441(0x1f9));async function ys(_0x1290a5){const _0x5332c7=a0_0x20d441;let _0x542084=new v(ys['name']),_0x112969=N[_0x5332c7(0x736)](),_0x4768ba=_0x112969['db'](b['get'](_0x5332c7(0x3d9))['CONNECTION'][_0x5332c7(0x23c)]+_0x5332c7(0x5c3))[_0x5332c7(0x1df)](_0x1290a5),_0x50e591=async(_0x5b0324,_0x4b1afa)=>{const _0x5b5bdd=_0x5332c7;try{return await _0x112969[_0x5b5bdd(0x16c)](),await _0x4768ba[_0x5b5bdd(0x5d3)]({'_id':_0x4b1afa},JSON['parse'](JSON[_0x5b5bdd(0x625)](_0x5b0324,ue[_0x5b5bdd(0x22f)][_0x5b5bdd(0x5c5)])),{'upsert':!0x0});}catch{}},_0x3941a7=async _0x48785c=>{const _0x345af5=_0x5332c7;try{await _0x112969[_0x345af5(0x16c)]();let _0x39f587=await _0x4768ba[_0x345af5(0x1ca)]({'_id':_0x48785c}),_0x217d01=JSON['stringify'](_0x39f587);return JSON[_0x345af5(0x70f)](_0x217d01,ue['BufferJSON'][_0x345af5(0x250)]);}catch{}},_0x42d884=async _0xe27021=>{const _0x1e942b=_0x5332c7;try{return await _0x112969[_0x1e942b(0x16c)](),await _0x4768ba[_0x1e942b(0x2e2)]({'_id':_0xe27021});}catch{}},_0x245049=await _0x3941a7(_0x5332c7(0x596))||(0x0,ue[_0x5332c7(0x4ba)])();return{'state':{'creds':_0x245049,'keys':{'get':async(_0x4c1c36,_0x470e74)=>{const _0x2fd007=_0x5332c7;let _0x11627d={};return await Promise[_0x2fd007(0x5a5)](_0x470e74[_0x2fd007(0x6b3)](async _0x5a1134=>{const _0x3e7e06=_0x2fd007;let _0x478538=await _0x3941a7(_0x4c1c36+'-'+_0x5a1134);_0x4c1c36==='app-state-sync-key'&&_0x478538&&(_0x478538=ue[_0x3e7e06(0x2cc)][_0x3e7e06(0x53a)][_0x3e7e06(0x4bd)]['fromObject'](_0x478538)),_0x11627d[_0x5a1134]=_0x478538;})),_0x11627d;},'set':async _0x4aefdc=>{let _0x5a1b0b=[];for(let _0x8d32a8 in _0x4aefdc)for(let _0x608d81 in _0x4aefdc[_0x8d32a8]){let _0x4ee330=_0x4aefdc[_0x8d32a8][_0x608d81],_0x1d9f88=_0x8d32a8+'-'+_0x608d81;_0x5a1b0b['push'](_0x4ee330?_0x50e591(_0x4ee330,_0x1d9f88):_0x42d884(_0x1d9f88));}await Promise['all'](_0x5a1b0b);}}},'saveCreds':async()=>_0x50e591(_0x245049,_0x5332c7(0x596))};}var Es=R(require('long')),Cs=R(require(a0_0x20d441(0x2a1))),Tt=require(a0_0x20d441(0x1f9)),uo=require(a0_0x20d441(0x354)),Rt=require('@whiskeysockets/baileys'),Nt;function pr(_0xf5e078){const _0x3d2749=a0_0x20d441;return Nt||(Nt=(0x0,uo[_0x3d2749(0x14d)])({'url':_0xf5e078[_0x3d2749(0x64a)]}),Nt['connect']()),Nt;}var oe=class c{constructor(_0x212529,_0x2b149c){const _0x45c645=a0_0x20d441;this[_0x45c645(0x426)]=_0x212529,this[_0x45c645(0x621)]=_0x2b149c,this[_0x45c645(0x367)]=new v(c[_0x45c645(0x6cb)]),this[_0x45c645(0x144)]=pr(_0x212529);}set[a0_0x20d441(0x252)](_0x9a514b){const _0x5c1b4a=a0_0x20d441;this[_0x5c1b4a(0x621)]=_0x9a514b;}async[a0_0x20d441(0x701)](){const _0x8c8d6=a0_0x20d441;try{return await this[_0x8c8d6(0x144)][_0x8c8d6(0x403)]([_0x8c8d6(0x616),this[_0x8c8d6(0x426)][_0x8c8d6(0x4c8)]+':*']);}catch(_0x248891){this[_0x8c8d6(0x367)][_0x8c8d6(0x5e0)](_0x248891);}}async[a0_0x20d441(0x745)](_0x2b6345,_0x430498){const _0x5b84c9=a0_0x20d441;try{let _0x29fc59=JSON[_0x5b84c9(0x625)](_0x430498,Rt['BufferJSON']['replacer']);return await this[_0x5b84c9(0x144)][_0x5b84c9(0x2b7)](this['redisEnv'][_0x5b84c9(0x4c8)]+':'+this['instanceName'],_0x2b6345,_0x29fc59);}catch(_0x25338b){this['logger']['error'](_0x25338b);}}async[a0_0x20d441(0x346)](){const _0x1ff967=a0_0x20d441;try{let _0x5cd534=await this[_0x1ff967(0x144)]['hGetAll'](this[_0x1ff967(0x426)][_0x1ff967(0x4c8)]+':'+this[_0x1ff967(0x621)]);if(_0x5cd534){for(let _0x1beaeb in _0x5cd534)Object[_0x1ff967(0x486)]['hasOwnProperty'][_0x1ff967(0x6ea)](_0x5cd534,_0x1beaeb)&&(_0x5cd534[_0x1beaeb]=JSON[_0x1ff967(0x70f)](_0x5cd534[_0x1beaeb],Rt[_0x1ff967(0x22f)]['reviver']));return _0x5cd534;}}catch(_0xb70724){this[_0x1ff967(0x367)]['error'](_0xb70724);}}async[a0_0x20d441(0x678)](_0x16697d){const _0x588dcd=a0_0x20d441;try{let _0x5e3212=await this['client'][_0x588dcd(0x14b)](this[_0x588dcd(0x426)]['PREFIX_KEY']+':'+this[_0x588dcd(0x621)],_0x16697d);if(_0x5e3212)return JSON[_0x588dcd(0x70f)](_0x5e3212,Rt[_0x588dcd(0x22f)][_0x588dcd(0x250)]);}catch(_0x35acdf){this[_0x588dcd(0x367)]['error'](_0x35acdf);}}async[a0_0x20d441(0x432)](_0x5883f9){const _0x62d212=a0_0x20d441;try{return await this[_0x62d212(0x144)][_0x62d212(0x737)](this['redisEnv'][_0x62d212(0x4c8)]+':'+this[_0x62d212(0x621)],_0x5883f9);}catch(_0x2a33bc){this[_0x62d212(0x367)][_0x62d212(0x5e0)](_0x2a33bc);}}async[a0_0x20d441(0x69f)](_0xbd21d2){const _0x488ab0=a0_0x20d441;try{return await this[_0x488ab0(0x144)]['del'](_0xbd21d2||this[_0x488ab0(0x426)][_0x488ab0(0x4c8)]+':'+this[_0x488ab0(0x621)]);}catch(_0x534e1e){this['logger']['error'](_0x534e1e);}}};async function bs(_0x50d8c5,_0x5ebea4){const _0x8bdb06=a0_0x20d441;let _0x27f2f1=new v(bs[_0x8bdb06(0x6cb)]),_0x1aac92=new oe(_0x50d8c5,_0x5ebea4),_0x453af8=async(_0x43ff75,_0x48564b)=>{const _0x5d450e=_0x8bdb06;try{return await _0x1aac92[_0x5d450e(0x745)](_0x48564b,_0x43ff75);}catch(_0x363bc9){return _0x27f2f1[_0x5d450e(0x5e0)]({'localError':_0x5d450e(0x745),'error':_0x363bc9});}},_0x391fd4=async _0x3cf0d0=>{const _0x3e32d9=_0x8bdb06;try{return await _0x1aac92[_0x3e32d9(0x678)](_0x3cf0d0);}catch(_0x48c472){_0x27f2f1[_0x3e32d9(0x5e0)]({'readData':_0x3e32d9(0x745),'error':_0x48c472});return;}},_0x2bb2a4=async _0x23dc2a=>{const _0x4d9f64=_0x8bdb06;try{return await _0x1aac92['removeData'](_0x23dc2a);}catch(_0x28b702){_0x27f2f1[_0x4d9f64(0x5e0)]({'readData':'removeData','error':_0x28b702});}},_0x1c3ae0=await _0x391fd4(_0x8bdb06(0x596))||(0x0,Tt['initAuthCreds'])();return{'state':{'creds':_0x1c3ae0,'keys':{'get':async(_0x5abac9,_0x577dd2)=>{const _0x1de402=_0x8bdb06;let _0x5a4b11={};return await Promise[_0x1de402(0x5a5)](_0x577dd2[_0x1de402(0x6b3)](async _0x5f30b7=>{const _0x3589da=_0x1de402;let _0x553a29=await _0x391fd4(_0x5abac9+'-'+_0x5f30b7);_0x5abac9==='app-state-sync-key'&&_0x553a29&&(_0x553a29=Tt[_0x3589da(0x2cc)]['Message'][_0x3589da(0x4bd)][_0x3589da(0x1fd)](_0x553a29)),_0x5a4b11[_0x5f30b7]=_0x553a29;})),_0x5a4b11;},'set':async _0x1893cf=>{const _0x15c624=_0x8bdb06;let _0x132cd4=[];for(let _0x36410b in _0x1893cf)for(let _0x12b1d7 in _0x1893cf[_0x36410b]){let _0x4f8934=_0x1893cf[_0x36410b][_0x12b1d7],_0x3355e8=_0x36410b+'-'+_0x12b1d7;_0x132cd4[_0x15c624(0x4cf)](_0x4f8934?await _0x453af8(_0x4f8934,_0x3355e8):await _0x2bb2a4(_0x3355e8));}await Promise[_0x15c624(0x5a5)](_0x132cd4);}}},'saveCreds':async()=>await _0x453af8(_0x1c3ae0,_0x8bdb06(0x596))};}var L=R(require('fs')),Me=require(a0_0x20d441(0x3aa)),xt=R(require(a0_0x20d441(0x298))),Dt=require('https-proxy-agent'),hr=a0_0x20d441(0x21e)['trim'](),At=hr[a0_0x20d441(0x4f6)]('\x0a')[a0_0x20d441(0x6b3)](_0x43b4fb=>{const _0x33aa80=a0_0x20d441;let _0x4779ca=_0x43b4fb[_0x33aa80(0x4f6)](':');return{'host':_0x4779ca[0x0],'port':_0x4779ca[0x1],'username':_0x4779ca[0x2],'password':_0x4779ca[0x3],'protocol':_0x33aa80(0x6a9)};});function po(_0x2ae31a){const _0x42d681=a0_0x20d441;let _0x5b3e45=At['find'](_0x1dc845=>_0x1dc845[_0x42d681(0x71a)]===_0x2ae31a);return _0x5b3e45||null;}function ho(){const _0x507d63=a0_0x20d441;if(At[_0x507d63(0x280)]===0x0)return null;let _0xcfd227=Math['floor'](Math[_0x507d63(0x496)]()*At[_0x507d63(0x280)]);return At[_0xcfd227];}function go(_0x513b77){const _0x5955e8=a0_0x20d441;let _0x2e1062=_0x1f4a5a=>typeof _0x1f4a5a==_0x5955e8(0x6c0)&&_0x1f4a5a[_0x5955e8(0x280)]>0x0,_0x1ea47c=_0x1828a9=>{let _0x281b14=parseInt(_0x1828a9,0xa);return!isNaN(_0x281b14)&&_0x281b14>0x0&&_0x281b14<=0xffff;},_0x4081ab=_0x22dfa0=>typeof _0x22dfa0==_0x5955e8(0x6c0)&&_0x22dfa0['length']>0x0;return _0x513b77&&_0x2e1062(_0x513b77[_0x5955e8(0x71a)])&&_0x1ea47c(_0x513b77['port'])&&_0x4081ab(_0x513b77[_0x5955e8(0x505)])&&_0x4081ab(_0x513b77[_0x5955e8(0x667)])&&(_0x513b77['protocol']==='http'||_0x513b77['protocol']===_0x5955e8(0x49f));}var Eo=a0_0x20d441(0x793),Ms,re=null,mo=null,He=null,gr=0x3,mr=null;async function fr(){const _0x50cac6=a0_0x20d441;let _0x5c3000=await we[_0x50cac6(0x1ca)]();re=_0x5c3000?.[_0x50cac6(0x238)]??null,mr=_0x5c3000?.[_0x50cac6(0x3d3)]??null,Eo=_0x5c3000?.[_0x50cac6(0x473)]??_0x50cac6(0x793),Ms=_0x5c3000?.['connectedName']??vs??'uazapi',console[_0x50cac6(0x3a8)](_0x50cac6(0x54b)),console[_0x50cac6(0x3a8)](_0x5c3000);}async function wr(){await fr();}wr();function $(_0x35b4cd){const _0x3b7eed=a0_0x20d441;if(_0x35b4cd['viewOnceMessage']||_0x35b4cd[_0x3b7eed(0x515)]){let _0x15a845=_0x35b4cd[_0x3b7eed(0x49c)]?_0x35b4cd[_0x3b7eed(0x49c)][_0x3b7eed(0x71e)]:_0x35b4cd[_0x3b7eed(0x515)]['message'];return(0x0,y[_0x3b7eed(0x13f)])(_0x15a845);}return _0x35b4cd[_0x3b7eed(0x330)]?_0x3b7eed(0x330):_0x35b4cd[_0x3b7eed(0x21a)]?_0x3b7eed(0x21a):_0x35b4cd[_0x3b7eed(0x620)]?'viewOnceMessageV2Extension':(0x0,y['getContentType'])(_0x35b4cd);}var fo={},ye=class c{constructor(_0x346701,_0x19f0f0,_0x53bd8f){const _0x4301f2=a0_0x20d441;this['configService']=_0x346701,this[_0x4301f2(0x2a7)]=_0x19f0f0,this[_0x4301f2(0x356)]=_0x53bd8f,this['AutomateSystem']=null,this[_0x4301f2(0x367)]=new v(c[_0x4301f2(0x6cb)]),this[_0x4301f2(0x3b2)]={},this[_0x4301f2(0x1e8)]={},this[_0x4301f2(0x66c)]={'state':'close'},this[_0x4301f2(0x305)]=(0x0,F['join'])(ae,_0x4301f2(0x5c1)),this[_0x4301f2(0x59b)]=new Cs[(_0x4301f2(0x2dd))](),this['userDevicesCache']=new Cs['default'](),this['endSession']=!0x1,this[_0x4301f2(0x781)]={'status.instance':_0x4301f2(0x632),'qrcode.updated':_0x4301f2(0x27a),'messages.upsert':_0x4301f2(0x524),'messages.update':_0x4301f2(0x3b6),'send.message':_0x4301f2(0x524),'group.upsert':'/wa-groups','group.update':'/wa-groups','group-participants.update':_0x4301f2(0x481),'connection.update':_0x4301f2(0x632),'messages.set':_0x4301f2(0x524),'contacts.set':_0x4301f2(0x2af),'contacts.upsert':_0x4301f2(0x2af),'contacts.update':_0x4301f2(0x2af),'presence.update':_0x4301f2(0x233),'chats.set':'/wa-chats','chats.update':_0x4301f2(0x4e1),'chats.upsert':_0x4301f2(0x4e1),'chats.delete':_0x4301f2(0x4e1)},this[_0x4301f2(0x575)]=0x0,this['reconnectTimestamps']=[],this[_0x4301f2(0x707)]=0xf,this[_0x4301f2(0x45a)]=0x7530,this[_0x4301f2(0x4a0)]=!0x1,this[_0x4301f2(0x6fc)]={'chats.upsert':async(_0x3e70bc,_0x2013b1)=>{const _0xfa12f5=_0x4301f2;let _0x43de59=[];for await(let _0x863c9b of _0x3e70bc)_0x43de59[_0xfa12f5(0x4cf)]({'_id':_0x863c9b['id'],'owner':this['instance']['wuid'],'group':_0x863c9b['id'][_0xfa12f5(0x2a4)](_0xfa12f5(0x2fa)),'name':_0x863c9b[_0xfa12f5(0x6cb)]||_0x863c9b[_0xfa12f5(0x149)]||null,'contactname':null,'lastmsg':_0x863c9b[_0xfa12f5(0x17a)]&&_0x863c9b[_0xfa12f5(0x17a)][_0xfa12f5(0x390)]()[_0xfa12f5(0x280)]<0xd?_0x863c9b['conversationTimestamp']*0x3e8:_0x863c9b[_0xfa12f5(0x17a)]||null,'archived':_0x863c9b[_0xfa12f5(0x3cb)]||!0x1,'unreadcount':_0x863c9b[_0xfa12f5(0x687)]||0x0});this[_0xfa12f5(0x649)](_0xfa12f5(0x628),_0x43de59);},'chats.update':async(_0x5883c2,_0x5cd7d8)=>{const _0x502650=_0x4301f2;for(let _0x57d47a of _0x5883c2){let _0x1eb560={'_id':_0x57d47a['id'],'owner':this[_0x502650(0x3b2)][_0x502650(0x542)],'group':_0x57d47a['id']['endsWith'](_0x502650(0x2fa)),'name':_0x57d47a[_0x502650(0x6cb)]||_0x57d47a[_0x502650(0x149)],'archived':_0x57d47a['archived'],'ephemeralExpiration':_0x57d47a[_0x502650(0x25e)]},_0x4df110=!0x1,_0x1f67c2={};_0x1eb560['archived']!=null&&(this['logger'][_0x502650(0x411)](this[_0x502650(0x621)]+'\x20('+this[_0x502650(0x3b2)][_0x502650(0x542)]+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x57d47a[_0x502650(0x3cb)]),_0x4df110=!0x0,_0x1f67c2['archived']=_0x57d47a[_0x502650(0x3cb)]),_0x57d47a[_0x502650(0x6cb)]!=null&&(this[_0x502650(0x367)][_0x502650(0x411)](this['instanceName']+'\x20('+this[_0x502650(0x3b2)][_0x502650(0x542)]+_0x502650(0x6b8)+_0x57d47a[_0x502650(0x6cb)]),_0x4df110=!0x0,_0x1f67c2['name']=_0x57d47a[_0x502650(0x6cb)]),_0x57d47a[_0x502650(0x149)]!=null&&(this[_0x502650(0x367)][_0x502650(0x411)](this['instanceName']+'\x20('+this[_0x502650(0x3b2)][_0x502650(0x542)]+_0x502650(0x780)+_0x57d47a['displayName']),_0x4df110=!0x0,_0x1f67c2[_0x502650(0x6cb)]=_0x57d47a[_0x502650(0x149)]);let _0x816611;_0x4df110&&(_0x816611=await this['repository']['chat'][_0x502650(0x590)]({'where':{'_id':_0x57d47a['id']}},_0x1f67c2,this[_0x502650(0x3b2)][_0x502650(0x542)])),_0x816611&&J(this[_0x502650(0x621)],_0x502650(0x759),{'chat':_0x816611});}},'chats.delete':async _0x429e9c=>{const _0x209713=_0x4301f2;this[_0x209713(0x649)](_0x209713(0x61c),[..._0x429e9c]);}},this[_0x4301f2(0x64f)]={'contacts.upsert':async(_0x37921a,_0x11d5a4)=>{const _0x5d8121=_0x4301f2;let _0x80b7af=await this[_0x5d8121(0x356)][_0x5d8121(0x377)][_0x5d8121(0x466)]({'where':{}},this[_0x5d8121(0x3b2)]['wuid']),_0x4215dc=[];for await(let _0x53e387 of _0x37921a)_0x80b7af[_0x5d8121(0x466)](_0x2c3526=>_0x2c3526['_id']===_0x53e387['id'])||_0x4215dc[_0x5d8121(0x4cf)]({'_id':_0x53e387['id'],'pushName':_0x53e387?.['name']||_0x53e387?.['verifiedName'],'owner':this[_0x5d8121(0x3b2)][_0x5d8121(0x542)]});this[_0x5d8121(0x649)]('contacts.upsert',_0x4215dc),await this[_0x5d8121(0x356)]['contact']['insert'](_0x4215dc);},'contacts.update':async(_0x392ef7,_0x27613c)=>{const _0x3a24d0=_0x4301f2;let _0x3ff510=[];for await(let _0x32eda7 of _0x392ef7)_0x3ff510[_0x3a24d0(0x4cf)]({'_id':_0x32eda7['id'],'pushName':_0x32eda7?.[_0x3a24d0(0x6cb)]??_0x32eda7?.[_0x3a24d0(0x310)],'owner':this[_0x3a24d0(0x3b2)]['wuid']});this[_0x3a24d0(0x649)](_0x3a24d0(0x381),_0x3ff510);}},this[_0x4301f2(0x1b7)]={'messaging-history.set':async({messages:_0x161ac9,chats:_0x4ad915,isLatest:_0xcd178e},_0x2c4ce)=>{const _0x121916=_0x4301f2;if(_0xcd178e){let _0x18f7c9=await Promise[_0x121916(0x5a5)](_0x4ad915[_0x121916(0x6b3)](async _0x222529=>({'_id':_0x222529['id'],'owner':this['instance']['wuid'],'group':_0x222529['id']['endsWith']('@g.us'),'name':_0x222529[_0x121916(0x6cb)]||_0x222529['displayName']||null,'contactname':null,'lastmsg':_0x222529[_0x121916(0x17a)]&&_0x222529[_0x121916(0x17a)][_0x121916(0x390)]()[_0x121916(0x280)]<0xd?_0x222529['conversationTimestamp']*0x3e8:_0x222529['conversationTimestamp']||null,'archived':_0x222529[_0x121916(0x3cb)]||!0x1,'unreadcount':_0x222529['unreadCount']||0x0})));this['sendDataWebhook'](_0x121916(0x1bb),_0x18f7c9),await this['upsertChats'](_0x18f7c9,_0x2c4ce);}let _0x46550f=[],_0x4546e6=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x11b71a]of Object[_0x121916(0x28c)](_0x161ac9)){if(_0x11b71a['message']?.[_0x121916(0x3dd)]||_0x11b71a[_0x121916(0x71e)]?.[_0x121916(0x288)]||!_0x11b71a['message']||_0x11b71a[_0x121916(0x59d)]['remoteJid']===_0x121916(0x4bc)||(Es['default'][_0x121916(0x67f)](_0x11b71a?.[_0x121916(0x75e)])&&(_0x11b71a['messageTimestamp']=_0x11b71a[_0x121916(0x75e)]?.[_0x121916(0x195)]()),_0x11b71a[_0x121916(0x75e)]&&_0x11b71a[_0x121916(0x75e)][_0x121916(0x390)]()[_0x121916(0x280)]<0xd&&(_0x11b71a[_0x121916(0x75e)]=_0x11b71a[_0x121916(0x75e)]*0x3e8),_0x11b71a[_0x121916(0x75e)]<_0x4546e6))continue;let {message_normalized:_0x4efeef}=this[_0x121916(0x174)](_0x11b71a[_0x121916(0x71e)],$(_0x11b71a['message']),null);Object[_0x121916(0x616)](_0x4efeef)[_0x121916(0x280)]>0x0&&_0x46550f[_0x121916(0x4cf)]({'_id':_0x11b71a[_0x121916(0x59d)]['id'],'key':_0x11b71a[_0x121916(0x59d)],'pushName':_0x11b71a['pushName'],'participant':_0x11b71a[_0x121916(0x77d)],'message':{..._0x11b71a['message']},'messageType':$(_0x11b71a['message']),'message_normalized':{'key':_0x11b71a[_0x121916(0x59d)],'pushName':_0x11b71a[_0x121916(0x74a)],'messageTimestamp':_0x11b71a[_0x121916(0x75e)],..._0x4efeef},'messageTimestamp':_0x11b71a[_0x121916(0x75e)],'owner':this['instance'][_0x121916(0x542)]});}_0x2c4ce[_0x121916(0x478)]&&_0x46550f[_0x121916(0x280)]>0x0&&(this[_0x121916(0x367)][_0x121916(0x411)](this[_0x121916(0x621)]+'\x20('+this['instance'][_0x121916(0x542)]+_0x121916(0x383)+_0x46550f[_0x121916(0x280)]+_0x121916(0x532)+this['instance'][_0x121916(0x542)]+_0x121916(0x241)),await this[_0x121916(0x356)][_0x121916(0x71e)][_0x121916(0x52c)]([..._0x46550f],this['instance'][_0x121916(0x542)])),this[_0x121916(0x649)](_0x121916(0x6fb),[..._0x46550f]),_0x161ac9=void 0x0;},'messages.upsert':async({messages:_0x2483ca,type:_0x31e637},_0x28ff0b)=>{const _0x4c7d1d=_0x4301f2;let _0x1e23d8=_0x2483ca[0x0];if(_0x31e637!==_0x4c7d1d(0x33a)||!_0x1e23d8?.[_0x4c7d1d(0x71e)]||_0x1e23d8[_0x4c7d1d(0x71e)]?.[_0x4c7d1d(0x3dd)]||_0x1e23d8[_0x4c7d1d(0x71e)][_0x4c7d1d(0x288)]||_0x1e23d8[_0x4c7d1d(0x59d)]['remoteJid']==='status@broadcast')return;let _0x1e9fc6=null,_0x252c5e=null;try{_0x1e9fc6=await this[_0x4c7d1d(0x583)](_0x1e23d8),_0x252c5e=_0x1e9fc6?_0x1e9fc6['join'](','):null;}catch(_0x40fb88){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4c7d1d(0x3b2)]['wuid']+_0x4c7d1d(0x383)+(_0x40fb88 instanceof Error?_0x40fb88[_0x4c7d1d(0x71e)]:JSON['stringify'](_0x40fb88,null,0x2))),_0x252c5e=_0x4c7d1d(0x739);}if(this[_0x4c7d1d(0x144)][_0x4c7d1d(0x6f8)](_0x4c7d1d(0x3a9)),Es[_0x4c7d1d(0x2dd)][_0x4c7d1d(0x67f)](_0x1e23d8[_0x4c7d1d(0x75e)])&&(_0x1e23d8[_0x4c7d1d(0x75e)]=_0x1e23d8[_0x4c7d1d(0x75e)]?.[_0x4c7d1d(0x195)]()),this[_0x4c7d1d(0x1e8)]?.[_0x4c7d1d(0x33e)]&&_0x1e23d8[_0x4c7d1d(0x59d)]['remoteJid'][_0x4c7d1d(0x4c9)]('@g.us')){this['logger']['verbose'](_0x4c7d1d(0x598));return;}_0x1e23d8[_0x4c7d1d(0x75e)]&&_0x1e23d8[_0x4c7d1d(0x75e)][_0x4c7d1d(0x390)]()['length']<0xd&&(_0x1e23d8[_0x4c7d1d(0x75e)]=_0x1e23d8['messageTimestamp']*0x3e8);let _0x5e9f86=_0x1e23d8['message'],{messageContent:_0x442d1a,message_normalized:_0x52e4da}=this[_0x4c7d1d(0x174)](_0x5e9f86,$(_0x1e23d8[_0x4c7d1d(0x71e)]),_0x252c5e);_0x442d1a||console[_0x4c7d1d(0x5e0)](_0x4c7d1d(0x1d0));let _0x21a7f3={'_id':_0x1e23d8[_0x4c7d1d(0x59d)]['id'],'key':_0x1e23d8['key'],'pushName':_0x1e23d8[_0x4c7d1d(0x74a)],'message':{..._0x1e23d8[_0x4c7d1d(0x71e)]},'messageType':$(_0x1e23d8[_0x4c7d1d(0x71e)]),'message_normalized':{'key':_0x1e23d8[_0x4c7d1d(0x59d)],'pushName':_0x1e23d8[_0x4c7d1d(0x74a)],'messageTimestamp':_0x1e23d8[_0x4c7d1d(0x75e)],'source':(0x0,y[_0x4c7d1d(0x223)])(_0x1e23d8['key']['id']),..._0x52e4da},'messageTimestamp':_0x1e23d8[_0x4c7d1d(0x75e)],'owner':this[_0x4c7d1d(0x3b2)][_0x4c7d1d(0x542)],'source':(0x0,y[_0x4c7d1d(0x223)])(_0x1e23d8['key']['id'])};this[_0x4c7d1d(0x367)]['log'](_0x21a7f3),await this['repository'][_0x4c7d1d(0x71e)][_0x4c7d1d(0x52c)]([_0x21a7f3],this[_0x4c7d1d(0x3b2)]['wuid']),this[_0x4c7d1d(0x649)]('messages.upsert',_0x21a7f3),J(this['instanceName'],'messages',{'message':_0x21a7f3}),_0x1e23d8['key'][_0x4c7d1d(0x290)]!==_0x4c7d1d(0x4bc)&&await this[_0x4c7d1d(0x311)](_0x28ff0b,_0x21a7f3,_0x4c7d1d(0x6dc));},'messages.update':async(_0x5af4bb,_0x235ee2)=>{const _0x4c4ec1=_0x4301f2;let _0x3d9a26={0x0:'ERROR',0x1:_0x4c4ec1(0x13b),0x2:'SERVER_ACK',0x3:_0x4c4ec1(0x1c8),0x4:_0x4c4ec1(0x55d),0x5:_0x4c4ec1(0x5fb)};for await(let {key:_0x5e235b,update:_0x3e2d29}of _0x5af4bb){if(this[_0x4c4ec1(0x1e8)]?.[_0x4c4ec1(0x33e)]&&_0x5e235b[_0x4c4ec1(0x290)][_0x4c4ec1(0x4c9)](_0x4c4ec1(0x2fa))){this['logger'][_0x4c4ec1(0x411)](_0x4c4ec1(0x598));return;}if(_0x5e235b[_0x4c4ec1(0x290)]!=='status@broadcast'){let _0x449869=Date[_0x4c4ec1(0x79b)](),_0x31656a;_0x3e2d29[_0x4c4ec1(0x71e)]===null&&_0x3e2d29[_0x4c4ec1(0x425)]===void 0x0?_0x31656a='DELETED':_0x31656a=_0x3d9a26[_0x3e2d29[_0x4c4ec1(0x425)]];let _0x5d26b7=_0x5e235b['remoteJid'][_0x4c4ec1(0x797)](/:\d{1,2}@/g,'@'),_0x41d4f1={..._0x5e235b,'remoteJid':_0x5d26b7,'status':_0x31656a,'datetime':_0x449869,'owner':this[_0x4c4ec1(0x3b2)][_0x4c4ec1(0x542)]};this[_0x4c4ec1(0x649)](_0x4c4ec1(0x173),_0x41d4f1),await this[_0x4c4ec1(0x2de)](_0x5e235b,_0x41d4f1);}}},'labels.association':async({type:_0x4840e4,association:_0x12f5c8})=>{const _0x3d70bf=_0x4301f2;if(_0x12f5c8[_0x3d70bf(0x7a0)]===_0x3d70bf(0x16b)){let _0x3d06e2,_0x4852dd=0x0;for(;!_0x3d06e2&&_0x4852dd<this['delayChatLabel_MAX_RETRIES'];)_0x3d06e2=await this[_0x3d70bf(0x356)][_0x3d70bf(0x224)][_0x3d70bf(0x1ca)]({'where':{'_id':_0x12f5c8[_0x3d70bf(0x2ca)]}},this[_0x3d70bf(0x3b2)][_0x3d70bf(0x542)]),_0x3d06e2||(_0x4852dd++,console[_0x3d70bf(0x3a8)](_0x3d70bf(0x16f)+_0x12f5c8['chatId']+_0x3d70bf(0x3ca)+this[_0x3d70bf(0x3df)]+_0x3d70bf(0x727)+_0x4852dd+'/'+this[_0x3d70bf(0x776)]+')'),await this[_0x3d70bf(0x337)](this[_0x3d70bf(0x3df)]));if(!_0x3d06e2){console[_0x3d70bf(0x5e0)](_0x3d70bf(0x362)+_0x12f5c8[_0x3d70bf(0x2ca)]+'\x20after\x20'+this['delayChatLabel_MAX_RETRIES']+'\x20attempts.');return;}switch(_0x4840e4){case _0x3d70bf(0x2f7):console[_0x3d70bf(0x3a8)](_0x12f5c8),await this['repository'][_0x3d70bf(0x224)][_0x3d70bf(0x590)]({'where':{'_id':_0x12f5c8[_0x3d70bf(0x2ca)]}},{'leadInfo.etiquetas':_0x12f5c8[_0x3d70bf(0x738)]},this[_0x3d70bf(0x3b2)][_0x3d70bf(0x542)],void 0x0,'$addToSet');break;case'remove':console[_0x3d70bf(0x3a8)](_0x12f5c8),await this['repository'][_0x3d70bf(0x224)][_0x3d70bf(0x590)]({'where':{'_id':_0x12f5c8[_0x3d70bf(0x2ca)]}},{'leadInfo.etiquetas':_0x12f5c8[_0x3d70bf(0x738)]},this[_0x3d70bf(0x3b2)][_0x3d70bf(0x542)],void 0x0,_0x3d70bf(0x5cb));break;default:console[_0x3d70bf(0x5e0)]('unknown\x20operation\x20type\x20['+_0x4840e4+']');}}},'labels.edit':async _0x12218b=>{const _0x4a36b2=_0x4301f2;if(!_0x12218b||!_0x12218b['id']){console['error'](_0x4a36b2(0x1b3));return;}if(!_0x12218b[_0x4a36b2(0x61e)]){let _0x1b5c03=[_0x4a36b2(0x2ee),'#64c4ff','#fed428',_0x4a36b2(0x514),_0x4a36b2(0x69c),_0x4a36b2(0x56f),_0x4a36b2(0x235),_0x4a36b2(0x24c),_0x4a36b2(0x4cc),_0x4a36b2(0x3a1),_0x4a36b2(0x474),_0x4a36b2(0x433),_0x4a36b2(0x36b),'#f64847',_0x4a36b2(0x20d),_0x4a36b2(0x7a3),_0x4a36b2(0x771),_0x4a36b2(0x5dc),_0x4a36b2(0x6b6),'#9568cf'],_0x818096;typeof _0x12218b[_0x4a36b2(0x2f3)]=='number'&&_0x12218b[_0x4a36b2(0x2f3)]>=0x0&&_0x12218b[_0x4a36b2(0x2f3)]<_0x1b5c03['length']?_0x818096=_0x1b5c03[_0x12218b[_0x4a36b2(0x2f3)]]:(console[_0x4a36b2(0x5e0)](_0x4a36b2(0x648),_0x12218b[_0x4a36b2(0x2f3)]),_0x818096=_0x4a36b2(0x21b));let _0x2059d4={'_id':_0x12218b['id'],'colorHex':_0x818096,'color':_0x12218b?.['color'],'name':_0x12218b?.[_0x4a36b2(0x6cb)],'owner':this[_0x4a36b2(0x3b2)][_0x4a36b2(0x542)]};await this['repository'][_0x4a36b2(0x5f4)][_0x4a36b2(0x590)]({'where':{'_id':_0x12218b['id']}},_0x2059d4,this[_0x4a36b2(0x3b2)][_0x4a36b2(0x542)]),console[_0x4a36b2(0x3a8)](_0x4a36b2(0x2a8),_0x12218b);}_0x12218b['deleted']&&(await this[_0x4a36b2(0x356)][_0x4a36b2(0x5f4)]['delete']({'where':{'_id':_0x12218b['id']}},this[_0x4a36b2(0x3b2)][_0x4a36b2(0x542)]),console[_0x4a36b2(0x3a8)](_0x4a36b2(0x6d4),_0x12218b['id']));}},this[_0x4301f2(0x18b)]={'groups.upsert':_0xb684b9=>{const _0x272944=_0x4301f2;this['sendDataWebhook'](_0x272944(0x31d),_0xb684b9);},'groups.update':_0x58972f=>{const _0x320228=_0x4301f2;this[_0x320228(0x649)](_0x320228(0x71c),_0x58972f);},'group-participants.update':_0x34eb8a=>{const _0x27d71b=_0x4301f2;this[_0x27d71b(0x649)](_0x27d71b(0x479),_0x34eb8a);}},this[_0x4301f2(0x776)]=0x5,this[_0x4301f2(0x3df)]=0x7d0,this[_0x4301f2(0x583)]=async _0x290da3=>{const _0x2d9ffb=_0x4301f2;if(_0x290da3['message']?.['pollUpdateMessage']){let _0x472ab0=await this[_0x2d9ffb(0x2f0)](_0x290da3[_0x2d9ffb(0x71e)]['pollUpdateMessage'][_0x2d9ffb(0x1a2)],!0x0);if(_0x472ab0){let _0x1a4ae3=_0x472ab0[_0x2d9ffb(0x59d)]['fromMe']?this['instance'][_0x2d9ffb(0x542)]+_0x2d9ffb(0x6b1):_0x472ab0[_0x2d9ffb(0x59d)][_0x2d9ffb(0x77d)]||_0x472ab0[_0x2d9ffb(0x59d)]['remoteJid'],_0x319610=_0x472ab0[_0x2d9ffb(0x59d)]['id'],_0x2d2a26=_0x472ab0[_0x2d9ffb(0x71e)],_0x177fea=Buffer[_0x2d9ffb(0x31a)](_0x2d2a26[_0x2d9ffb(0x47a)][_0x2d9ffb(0x63d)][_0x2d9ffb(0x390)](_0x2d9ffb(0x78c)),_0x2d9ffb(0x78c)),_0x1fb61e=(0x0,y[_0x2d9ffb(0x698)])(_0x290da3[_0x2d9ffb(0x71e)][_0x2d9ffb(0x6d7)][_0x2d9ffb(0x2b5)],{'pollCreatorJid':_0x1a4ae3,'pollMsgId':_0x319610,'pollEncKey':_0x177fea,'voterJid':_0x290da3['key']['fromMe']?this[_0x2d9ffb(0x3b2)][_0x2d9ffb(0x542)]+'@s.whatsapp.net':_0x290da3[_0x2d9ffb(0x59d)][_0x2d9ffb(0x290)][_0x2d9ffb(0x2a4)](_0x2d9ffb(0x546))?_0x290da3['key'][_0x2d9ffb(0x77d)]:_0x290da3['key']['remoteJid']}),_0x3432fb=[],_0x886716=_0x1fb61e[_0x2d9ffb(0x1c4)]['map'](_0x511588=>Buffer[_0x2d9ffb(0x31a)](_0x511588)[_0x2d9ffb(0x390)]('hex'));for(let {optionName:_0x38a298}of _0x2d2a26[_0x2d9ffb(0x543)]?.['options']||_0x2d2a26[_0x2d9ffb(0x330)]?.[_0x2d9ffb(0x314)]||_0x2d2a26['pollCreationMessageV2']?.[_0x2d9ffb(0x314)])_0x886716[_0x2d9ffb(0x1c6)]((0x0,y[_0x2d9ffb(0x6b7)])(Buffer[_0x2d9ffb(0x31a)](_0x38a298))[_0x2d9ffb(0x390)](_0x2d9ffb(0x78c)))>-0x1&&_0x3432fb[_0x2d9ffb(0x4cf)](_0x38a298);return _0x3432fb;}}return null;},this[_0x4301f2(0x174)]=(_0x328ec0,_0x50e9f8,_0x4eaed9)=>{const _0xf68cc7=_0x4301f2;try{let _0x1d2a61=_0x50e9f8?_0x328ec0[_0x50e9f8]:void 0x0,_0x14c8aa={},_0x3a8db0=null,_0x5ec8f6=null,_0x43fabd=null;if(_0x328ec0[_0xf68cc7(0x515)]?(_0x50e9f8=$(_0x328ec0[_0xf68cc7(0x515)][_0xf68cc7(0x71e)]),_0x1d2a61=_0x328ec0[_0xf68cc7(0x515)][_0xf68cc7(0x71e)][_0x50e9f8]):_0x328ec0['viewOnceMessageV2Extension']?(_0x50e9f8=$(_0x328ec0['viewOnceMessageV2Extension']['message']),_0x1d2a61=_0x328ec0['viewOnceMessageV2Extension'][_0xf68cc7(0x71e)][_0x50e9f8]):_0x328ec0[_0xf68cc7(0x49c)]?(_0x50e9f8=$(_0x328ec0['viewOnceMessage']['message']),_0x1d2a61=_0x328ec0[_0xf68cc7(0x49c)][_0xf68cc7(0x71e)][_0x50e9f8]):_0x328ec0['ephemeralMessage']?(_0x50e9f8=$(_0x328ec0[_0xf68cc7(0x71e)][_0xf68cc7(0x4c4)][_0xf68cc7(0x71e)]),_0x1d2a61=_0x328ec0['message'][_0xf68cc7(0x4c4)][_0xf68cc7(0x71e)][_0x50e9f8]):_0x328ec0[_0xf68cc7(0x495)]?.[_0xf68cc7(0x71e)]?.[_0xf68cc7(0x3dd)]?.[_0xf68cc7(0x495)]?(_0x50e9f8=$(_0x328ec0['editedMessage'][_0xf68cc7(0x71e)][_0xf68cc7(0x3dd)][_0xf68cc7(0x495)]),_0x3a8db0=_0x328ec0[_0xf68cc7(0x495)]['message']['protocolMessage']['key']['id'],_0x1d2a61=_0x328ec0[_0xf68cc7(0x495)][_0xf68cc7(0x71e)][_0xf68cc7(0x3dd)][_0xf68cc7(0x495)][_0x50e9f8]):_0x1d2a61=_0x328ec0[_0x50e9f8],!_0x50e9f8||!_0x1d2a61)return console[_0xf68cc7(0x5e0)](_0xf68cc7(0x416),_0x328ec0),{'messageType':_0x50e9f8,'messageContent':_0x1d2a61,'message_normalized':{}};_0x328ec0[_0x50e9f8]?.[_0xf68cc7(0x525)]?.[_0xf68cc7(0x78f)]&&_0x328ec0[_0x50e9f8]?.['contextInfo']?.[_0xf68cc7(0x6df)]&&(_0x5ec8f6=_0x328ec0[_0x50e9f8][_0xf68cc7(0x525)][_0xf68cc7(0x78f)]),_0x328ec0['reactionMessage']&&(_0x43fabd=_0x328ec0['reactionMessage'][_0xf68cc7(0x59d)]['id']);let _0x13edc5;if(_0x1d2a61&&typeof _0x1d2a61=='object'&&'pollCreationMessageKey'in _0x1d2a61&&({pollCreationMessageKey:_0x13edc5}=_0x1d2a61),_0x50e9f8===_0xf68cc7(0x437)){let _0x5db79c=_0x1d2a61?.[_0xf68cc7(0x71e)]?.[_0xf68cc7(0x26e)];_0x5db79c&&(_0x1d2a61=_0x5db79c);}if(_0x50e9f8==='pollCreationMessage'||_0x50e9f8===_0xf68cc7(0x21a)||_0x50e9f8===_0xf68cc7(0x330)){let _0x45190d=_0x1d2a61['options'][_0xf68cc7(0x6b3)](_0x4c5145=>_0x4c5145[_0xf68cc7(0x617)])[_0xf68cc7(0x686)]('|');_0x14c8aa['convertedOptions']=_0x45190d;}let _0x5a7c19=_0x1d2a61[_0xf68cc7(0x6cb)]||_0x1d2a61[_0xf68cc7(0x527)]||_0x1d2a61[_0xf68cc7(0x697)]||_0x1d2a61[_0xf68cc7(0x149)];if(_0x50e9f8===_0xf68cc7(0x38c)){_0x5a7c19=(_0x1d2a61[_0xf68cc7(0x615)]||'')+'\x0a'+(_0x1d2a61[_0xf68cc7(0x6a1)]||'')+'\x0a'+(_0x1d2a61['footerText']||'');let _0x5e8406=this[_0xf68cc7(0x468)](_0x1d2a61[_0xf68cc7(0x4f9)]);_0x14c8aa['convertedOptions']=_0x5e8406;}if(_0x50e9f8===_0xf68cc7(0x22e)&&(_0x4eaed9=_0x1d2a61[_0xf68cc7(0x615)]),_0x1d2a61[_0xf68cc7(0x139)]){let _0x496d65=this[_0xf68cc7(0x52d)](JSON[_0xf68cc7(0x625)](_0x1d2a61['vcard'],null,0x2));_0x5a7c19=_0x5a7c19+'\x0a'+_0x496d65;}if(_0x1d2a61){let {sections:_0x1efe39,listType:_0x2d1409,displayName:_0x3855f8,vcard:_0x19a55b,contactVcard:_0x4fb945,name:_0x5230be,caption:_0x5f56cb,conversation:_0x1f432a,pollCreationMessageKey:_0x249bd2,footerText:_0x2d4f8f,contentText:_0x305735,pageCount:_0x9ab60c,headerType:_0x2bf1f5,isAvatar:_0x1e4903,isAnimated:_0x498069,fallbackLc:_0x40ce36,fallbackLg:_0x2234bb,namespace:_0x4cb690,elementName:_0x15a0a7,localizableParams:_0x437bde,viewOnce:_0x36ffe0,height:_0xdab1f1,width:_0x14c172,key:_0x5d824e,firstScanLength:_0x4156b5,firstScanSidecar:_0x2b1f85,gifPlayback:_0x5d75c4,gifAttribution:_0x337a0e,midQualityFileSha256:_0x2bce10,scansSidecar:_0x31d362,streamingSidecar:_0x147256,thumbnailHeight:_0x5cb738,thumbnailWidth:_0x351ab5,thumbnailEncSha256:_0x23adbb,thumbnailDirectPath:_0x3bcf88,canonicalUrl:_0x579575,matchedText:_0x1bcbc3,previewType:_0x3aa0c6,thumbnailSha256:_0x2db985,deviceListMetadataVersion:_0x562325,inviteLinkGroupTypeV2:_0xa7e5e4,interactiveAnnotations:_0xf1a19b,scanLengths:_0x91ca57,jpegThumbnail:_0x183023,url:_0x32dcee,mediaKeyTimestamp:_0x294d95,waveform:_0x2b7939,stickerSentTs:_0x28a93b,firstFrameLength:_0xcbe207,fileEncSha256:_0x26141,contextInfo:_0x176664,firstFrameSidecar:_0x218dca,directPath:_0x361a07,fileSha256:_0x26a0a6,mediaKey:_0x5624fe,senderTimestampMs:_0x47dd44,..._0x3e6828}=_0x1d2a61;(_0x50e9f8==='listMessage'||_0x50e9f8===_0xf68cc7(0x22e))&&(delete _0x3e6828[_0xf68cc7(0x615)],delete _0x3e6828[_0xf68cc7(0x6a1)]),typeof _0x1d2a61=='string'?_0x14c8aa={'text':_0x1d2a61,'type':_0x50e9f8||'conversation',..._0x3a8db0&&{'edited':_0x3a8db0},..._0x5ec8f6&&{'quoted':_0x5ec8f6},..._0x43fabd&&{'reaction':_0x43fabd}}:_0x14c8aa={'text':_0x5a7c19,..._0x3e6828,..._0x50e9f8===_0xf68cc7(0x6d7)?{'poll_id':_0x1d2a61['pollCreationMessageKey']['id'],'quoted':_0x1d2a61[_0xf68cc7(0x1a2)]['id'],'vote':_0x4eaed9}:{},..._0x50e9f8===_0xf68cc7(0x22e)?{'vote':_0x4eaed9}:{},'type':_0x50e9f8,..._0x3a8db0&&{'edited':_0x3a8db0},..._0x5ec8f6&&{'quoted':_0x5ec8f6},..._0x43fabd&&{'reaction':_0x43fabd},...(_0x50e9f8===_0xf68cc7(0x543)||_0x50e9f8===_0xf68cc7(0x21a)||_0x50e9f8===_0xf68cc7(0x330)||_0x50e9f8===_0xf68cc7(0x38c))&&{'convertedOptions':_0x14c8aa[_0xf68cc7(0x1e3)]}};}return{'messageType':_0x50e9f8,'messageContent':_0x1d2a61,'message_normalized':_0x14c8aa};}catch(_0x44535e){console[_0xf68cc7(0x5e0)](_0xf68cc7(0x5b6),_0x44535e);}},this[_0x4301f2(0x371)]=null,this[_0x4301f2(0x762)]=0x0,this['timerId']=null,(this['cleanStore'](),this[_0x4301f2(0x3b2)][_0x4301f2(0x3c7)]={'count':0x0});}set[a0_0x20d441(0x621)](_0x4d41f7){const _0x1c9adc=a0_0x20d441;if(!_0x4d41f7){this[_0x1c9adc(0x3b2)][_0x1c9adc(0x6cb)]=(0x0,yo['v4'])();return;}this[_0x1c9adc(0x3b2)][_0x1c9adc(0x6cb)]=_0x4d41f7,this[_0x1c9adc(0x649)](_0x1c9adc(0x2b3),{'instance':this[_0x1c9adc(0x3b2)][_0x1c9adc(0x6cb)],'status':_0x1c9adc(0x702)});}get[a0_0x20d441(0x621)](){const _0x2c1363=a0_0x20d441;return this[_0x2c1363(0x3b2)][_0x2c1363(0x6cb)];}get['wuid'](){const _0x3617ea=a0_0x20d441;return this[_0x3617ea(0x3b2)]['wuid'];}async[a0_0x20d441(0x3bd)](){const _0x1ac0d8=a0_0x20d441;let _0x2c235f=this['client'][_0x1ac0d8(0x19b)]?.[_0x1ac0d8(0x6cb)]??this[_0x1ac0d8(0x144)][_0x1ac0d8(0x19b)]?.[_0x1ac0d8(0x310)];if(!_0x2c235f){if(this[_0x1ac0d8(0x74f)]['get'](_0x1ac0d8(0x3d9))['ENABLED']){let _0x4cad92=await N[_0x1ac0d8(0x736)]()['db'](this[_0x1ac0d8(0x74f)][_0x1ac0d8(0x158)]('DATABASE')[_0x1ac0d8(0x713)][_0x1ac0d8(0x23c)]+'-instances')[_0x1ac0d8(0x1df)](this[_0x1ac0d8(0x621)])[_0x1ac0d8(0x1ca)]({'_id':_0x1ac0d8(0x596)});if(_0x4cad92){let _0xf46f5d=JSON[_0x1ac0d8(0x70f)](JSON[_0x1ac0d8(0x625)](_0x4cad92),y[_0x1ac0d8(0x22f)][_0x1ac0d8(0x250)]);_0x2c235f=_0xf46f5d['me']?.[_0x1ac0d8(0x6cb)]||_0xf46f5d['me']?.[_0x1ac0d8(0x310)];}}else{if((0x0,ve[_0x1ac0d8(0x5db)])((0x0,F[_0x1ac0d8(0x686)])(ge,this[_0x1ac0d8(0x621)],_0x1ac0d8(0x6f7)))){let _0x2a6780=JSON['parse']((0x0,ve[_0x1ac0d8(0x36c)])((0x0,F[_0x1ac0d8(0x686)])(ge,this[_0x1ac0d8(0x621)],_0x1ac0d8(0x6f7)),{'encoding':'utf-8'}));_0x2c235f=_0x2a6780['me']?.[_0x1ac0d8(0x6cb)]||_0x2a6780['me']?.['verifiedName'];}}}return _0x2c235f;}get[a0_0x20d441(0x4d1)](){const _0x27f4fe=a0_0x20d441;return this['instance'][_0x27f4fe(0x4d1)];}get[a0_0x20d441(0x70a)](){const _0x1c2c81=a0_0x20d441;return{'pairingCode':this[_0x1c2c81(0x3b2)]['qrcode']?.[_0x1c2c81(0x577)],'code':this['instance']['qrcode']?.[_0x1c2c81(0x57c)],'base64':this[_0x1c2c81(0x3b2)][_0x1c2c81(0x3c7)]?.[_0x1c2c81(0x135)]};}async[a0_0x20d441(0x35b)](){const _0x369382=a0_0x20d441;let _0x212480=await this[_0x369382(0x356)][_0x369382(0x545)][_0x369382(0x466)](this[_0x369382(0x621)]);this[_0x369382(0x1e8)]['url']=_0x212480?.[_0x369382(0x704)],this['localWebhook'][_0x369382(0x487)]=_0x212480?.['enabled'],this[_0x369382(0x1e8)]['local_map']=_0x212480?.[_0x369382(0x4ac)],this[_0x369382(0x1e8)]['STATUS_INSTANCE']=_0x212480?.['STATUS_INSTANCE'],this['localWebhook'][_0x369382(0x6f3)]=_0x212480?.[_0x369382(0x6f3)],this[_0x369382(0x1e8)]['SEND_MESSAGE']=_0x212480?.['SEND_MESSAGE'],this[_0x369382(0x1e8)][_0x369382(0x6dc)]=_0x212480?.[_0x369382(0x6dc)],this[_0x369382(0x1e8)]['MESSAGES_UPDATE']=_0x212480?.['MESSAGES_UPDATE'],this['localWebhook'][_0x369382(0x77b)]=_0x212480?.['GROUPS_UPSERT'],this[_0x369382(0x1e8)][_0x369382(0x692)]=_0x212480?.[_0x369382(0x692)],this[_0x369382(0x1e8)][_0x369382(0x569)]=_0x212480?.[_0x369382(0x569)],this['localWebhook'][_0x369382(0x1bc)]=_0x212480?.[_0x369382(0x1bc)],this[_0x369382(0x1e8)][_0x369382(0x13e)]=_0x212480?.['CHATS_UPSERT'],this[_0x369382(0x1e8)][_0x369382(0x5b9)]=_0x212480?.['CHATS_UPDATE'],this['localWebhook'][_0x369382(0x1e6)]=_0x212480?.[_0x369382(0x1e6)],this[_0x369382(0x1e8)][_0x369382(0x23b)]=_0x212480?.[_0x369382(0x23b)],this[_0x369382(0x1e8)][_0x369382(0x3e2)]=_0x212480?.['CONTACTS_UPSERT'],this[_0x369382(0x1e8)]['CONTACTS_UPDATE']=_0x212480?.[_0x369382(0x544)],this[_0x369382(0x1e8)][_0x369382(0x747)]=_0x212480?.[_0x369382(0x747)],this['localWebhook']['MESSAGES_SET']=_0x212480?.[_0x369382(0x731)],this[_0x369382(0x1e8)][_0x369382(0x722)]=_0x212480?.[_0x369382(0x722)],this[_0x369382(0x1e8)]['groups_ignore']=_0x212480?.[_0x369382(0x33e)];}async['setWebhook'](_0x1bd796){const _0x2e3859=a0_0x20d441;let _0x35a00d=[_0x2e3859(0x749),_0x2e3859(0x704),_0x2e3859(0x487),_0x2e3859(0x4ac),_0x2e3859(0x5c8),'QRCODE_UPDATED',_0x2e3859(0x2f4),_0x2e3859(0x6dc),_0x2e3859(0x2a9),'GROUPS_UPSERT',_0x2e3859(0x692),_0x2e3859(0x569),_0x2e3859(0x1bc),_0x2e3859(0x13e),_0x2e3859(0x5b9),_0x2e3859(0x1e6),'CONTACTS_SET',_0x2e3859(0x3e2),_0x2e3859(0x544),_0x2e3859(0x747),'MESSAGES_SET','CONNECTION_UPDATE',_0x2e3859(0x33e)],_0x4760e8={};return _0x35a00d[_0x2e3859(0x3ce)](_0xe296e9=>{_0x1bd796[_0xe296e9]!==void 0x0&&(_0x4760e8[_0xe296e9]=_0x1bd796[_0xe296e9]);}),await this[_0x2e3859(0x356)][_0x2e3859(0x545)][_0x2e3859(0x169)](_0x4760e8,this[_0x2e3859(0x621)]),Object[_0x2e3859(0x29f)](this['localWebhook'],_0x4760e8),await this['repository']['webhook'][_0x2e3859(0x466)](this['instanceName']);}async[a0_0x20d441(0x35c)](){const _0x2f7c6d=a0_0x20d441;return await this[_0x2f7c6d(0x356)]['webhook']['find'](this[_0x2f7c6d(0x621)]);}async['sendDataWebhook'](_0x36c02d,_0x28e943){const _0x3d9dba=a0_0x20d441;let _0x1683b7=_0x36c02d['replace'](/[\.-]/gm,'_')[_0x3d9dba(0x20e)](),_0x19fc89=this[_0x3d9dba(0x1e8)][_0x3d9dba(0x487)]&&(0x0,k['isURL'])(this[_0x3d9dba(0x1e8)][_0x3d9dba(0x704)])?this[_0x3d9dba(0x1e8)][_0x3d9dba(0x704)]+(this[_0x3d9dba(0x1e8)][_0x3d9dba(0x4ac)]?this[_0x3d9dba(0x781)][_0x36c02d]:''):null,_0x5aaafd=this[_0x3d9dba(0x1e8)][_0x1683b7],_0x50f5ce=re&&re['enabled']&&(0x0,k[_0x3d9dba(0x74c)])(re[_0x3d9dba(0x704)])?re[_0x3d9dba(0x704)]+(re[_0x3d9dba(0x4ac)]?this['webhookMap'][_0x36c02d]:''):null,_0x241b60=re?re[_0x1683b7]:null;if(_0x5aaafd&&_0x19fc89)try{await se[_0x3d9dba(0x2dd)][_0x3d9dba(0x169)]({'baseURL':_0x19fc89})['post']('',{'event':_0x36c02d,'instance':this['instance'][_0x3d9dba(0x6cb)],'data':_0x28e943}),this[_0x3d9dba(0x367)][_0x3d9dba(0x3a8)](_0x3d9dba(0x269)+_0x36c02d+':\x20'+_0x19fc89);}catch(_0x168e2c){this[_0x3d9dba(0x367)][_0x3d9dba(0x5e0)](this[_0x3d9dba(0x621)]+'\x20('+this[_0x3d9dba(0x3b2)][_0x3d9dba(0x542)]+_0x3d9dba(0x383)+{'local':c['name']+'.sendDataWebhook-local','message':_0x168e2c?.['message'],'hostName':_0x168e2c?.[_0x3d9dba(0x4a9)],'syscall':_0x168e2c?.['syscall'],'code':_0x168e2c?.[_0x3d9dba(0x57c)],'error':_0x168e2c?.[_0x3d9dba(0x3cd)],'stack':_0x168e2c?.[_0x3d9dba(0x589)],'name':_0x168e2c?.['name']});}if(_0x241b60&&_0x50f5ce)try{await se[_0x3d9dba(0x2dd)][_0x3d9dba(0x169)]({'baseURL':_0x50f5ce})[_0x3d9dba(0x2b8)]('',{'event':_0x36c02d,'instance':this['instance']['name'],'data':_0x28e943}),this[_0x3d9dba(0x367)][_0x3d9dba(0x3a8)]('Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x36c02d+':\x20'+_0x50f5ce);}catch(_0x4e255e){this[_0x3d9dba(0x367)][_0x3d9dba(0x5e0)](this[_0x3d9dba(0x621)]+'\x20('+this['instance'][_0x3d9dba(0x542)]+_0x3d9dba(0x383)+{'local':c['name']+_0x3d9dba(0x4cb),'message':_0x4e255e?.[_0x3d9dba(0x71e)],'hostName':_0x4e255e?.[_0x3d9dba(0x4a9)],'syscall':_0x4e255e?.[_0x3d9dba(0x610)],'code':_0x4e255e?.[_0x3d9dba(0x57c)],'error':_0x4e255e?.[_0x3d9dba(0x3cd)],'stack':_0x4e255e?.[_0x3d9dba(0x589)],'name':_0x4e255e?.[_0x3d9dba(0x6cb)]});}}async[a0_0x20d441(0x365)]({qr:_0x52379d,connection:_0x4710d8,lastDisconnect:_0x51d959}){const _0x55097f=a0_0x20d441;if(_0x52379d){if(this[_0x55097f(0x3b2)][_0x55097f(0x3c7)][_0x55097f(0x162)]===gr)return this['sendDataWebhook']('qrcode.updated',{'message':_0x55097f(0x53b),'statusCode':y[_0x55097f(0x5a8)][_0x55097f(0x242)]}),this[_0x55097f(0x66c)]={'state':_0x55097f(0x3ef),'statusReason':y[_0x55097f(0x5a8)][_0x55097f(0x571)]},this[_0x55097f(0x649)](_0x55097f(0x2eb),{'instance':this[_0x55097f(0x3b2)]['name'],...this[_0x55097f(0x66c)]}),this[_0x55097f(0x649)](_0x55097f(0x2b3),{'instance':this['instance'][_0x55097f(0x6cb)],'status':_0x55097f(0x7a2)}),this[_0x55097f(0x356)][_0x55097f(0x3f5)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x55097f(0x79b)]()},this[_0x55097f(0x3b2)][_0x55097f(0x6cb)]),this[_0x55097f(0x482)]=!0x0,this[_0x55097f(0x2a7)][_0x55097f(0x51f)](_0x55097f(0x4df),this[_0x55097f(0x3b2)]['name']);this[_0x55097f(0x3b2)]['qrcode'][_0x55097f(0x162)]++;let _0x3ef451={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x55097f(0x71f),'dark':_0x55097f(0x21b)}};bo['default'][_0x55097f(0x168)](_0x52379d,_0x3ef451,(_0x369a6e,_0x2b8fde)=>{const _0x243ea1=_0x55097f;if(_0x369a6e){this[_0x243ea1(0x367)][_0x243ea1(0x5e0)](this['instanceName']+'\x20('+this[_0x243ea1(0x3b2)][_0x243ea1(0x542)]+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x369a6e instanceof Error?_0x369a6e[_0x243ea1(0x71e)]:JSON['stringify'](_0x369a6e,null,0x2)));return;}this[_0x243ea1(0x3b2)][_0x243ea1(0x3c7)]['base64']=_0x2b8fde,this['instance']['qrcode'][_0x243ea1(0x57c)]=_0x52379d,this[_0x243ea1(0x649)](_0x243ea1(0x3ff),{'qrcode':{'instance':this[_0x243ea1(0x3b2)][_0x243ea1(0x6cb)],'pairingCode':this[_0x243ea1(0x3b2)][_0x243ea1(0x3c7)]['pairingCode'],'code':_0x52379d,'base64':_0x2b8fde}});}),this[_0x55097f(0x408)]?this[_0x55097f(0x3b2)]['qrcode']['pairingCode']=await this[_0x55097f(0x144)][_0x55097f(0x5f5)](this[_0x55097f(0x408)]):this[_0x55097f(0x3b2)][_0x55097f(0x3c7)][_0x55097f(0x577)]=null,So[_0x55097f(0x2dd)]['generate'](_0x52379d,{'small':!0x0},_0x2be930=>this[_0x55097f(0x367)][_0x55097f(0x3a8)](_0x55097f(0x3ae)+this[_0x55097f(0x3b2)][_0x55097f(0x6cb)]+_0x55097f(0x219)+this[_0x55097f(0x3b2)][_0x55097f(0x3c7)][_0x55097f(0x162)]+_0x55097f(0x784)+this[_0x55097f(0x3b2)]['qrcode'][_0x55097f(0x577)]+_0x55097f(0x47e)+_0x2be930));}if(_0x4710d8&&(this[_0x55097f(0x66c)]={'state':_0x4710d8,'statusReason':_0x51d959?.[_0x55097f(0x5e0)]?.[_0x55097f(0x3cf)]?.[_0x55097f(0x2f1)]??0xc8},this[_0x55097f(0x649)](_0x55097f(0x2eb),{'instance':this[_0x55097f(0x3b2)]['name'],...this[_0x55097f(0x66c)]})),_0x4710d8===_0x55097f(0x1ee)){if(this[_0x55097f(0x575)]++,this[_0x55097f(0x5ff)][_0x55097f(0x4cf)](Date['now']()),this['reconnectTimestamps']=this[_0x55097f(0x5ff)]['filter'](_0x5c6569=>Date[_0x55097f(0x79b)]()-_0x5c6569<this[_0x55097f(0x45a)]),_0x51d959[_0x55097f(0x5e0)]?.[_0x55097f(0x3cf)]?.[_0x55097f(0x2f1)]!==y[_0x55097f(0x5a8)][_0x55097f(0x4f0)]&&this['reconnectTimestamps']['length']<=this[_0x55097f(0x707)])console[_0x55097f(0x3a8)]('Tentativa\x20de\x20reconexão\x20'+this['reconnectAttempts']+'/'+this[_0x55097f(0x707)]+'.\x20Aguardando\x20antes\x20de\x20reconectar...'),console[_0x55097f(0x3a8)](_0x55097f(0x3d2)),await this[_0x55097f(0x267)]();else{this[_0x55097f(0x649)](_0x55097f(0x2b3),{'instance':this[_0x55097f(0x3b2)][_0x55097f(0x6cb)],'status':_0x55097f(0x7a2)}),this[_0x55097f(0x15b)]=!0x1,this[_0x55097f(0x356)][_0x55097f(0x545)][_0x55097f(0x435)](this['instanceName']),this['repository'][_0x55097f(0x3f5)][_0x55097f(0x169)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x55097f(0x79b)]()},this['instance']['name']);try{this[_0x55097f(0x367)][_0x55097f(0x411)](this[_0x55097f(0x621)]+'\x20('+this[_0x55097f(0x3b2)][_0x55097f(0x542)]+_0x55097f(0x1e5));let _0x46b652=await this[_0x55097f(0x356)][_0x55097f(0x71e)][_0x55097f(0x472)](this['instance'][_0x55097f(0x542)]);_0x46b652[_0x55097f(0x674)]?this[_0x55097f(0x367)]['verbose'](this['instanceName']+'\x20('+this[_0x55097f(0x3b2)][_0x55097f(0x542)]+_0x55097f(0x764)):console['error'](_0x55097f(0x345),_0x46b652[_0x55097f(0x5e0)]);}catch(_0xea1dac){console[_0x55097f(0x5e0)](_0x55097f(0x535),_0xea1dac);}this[_0x55097f(0x323)]!==null&&(this[_0x55097f(0x367)][_0x55097f(0x411)](this['instanceName']+'\x20('+this[_0x55097f(0x3b2)][_0x55097f(0x542)]+_0x55097f(0x2bc)),clearInterval(this[_0x55097f(0x323)]),this[_0x55097f(0x323)]=null),this[_0x55097f(0x367)][_0x55097f(0x411)](this['instanceName']+'\x20('+this['instance'][_0x55097f(0x542)]+_0x55097f(0x1e1)),this[_0x55097f(0x6f6)]=null,this[_0x55097f(0x2a7)][_0x55097f(0x51f)](_0x55097f(0x339),this['instance'][_0x55097f(0x6cb)],_0x55097f(0x5bd)),this[_0x55097f(0x144)]?.['ws']?.[_0x55097f(0x1ee)](),this[_0x55097f(0x144)][_0x55097f(0x6a4)](new Error(_0x55097f(0x58e)));}}if(_0x4710d8==='open'){this[_0x55097f(0x79f)],this[_0x55097f(0x3b2)]['wuid']=this['client'][_0x55097f(0x19b)]['id'][_0x55097f(0x797)](/:\d+/,'')[_0x55097f(0x797)](_0x55097f(0x6b1),''),this[_0x55097f(0x3b2)][_0x55097f(0x4d1)]=(await this[_0x55097f(0x5e7)](this[_0x55097f(0x3b2)][_0x55097f(0x542)]+'@s.whatsapp.net'))['profilePictureUrl'],this[_0x55097f(0x356)][_0x55097f(0x3f5)][_0x55097f(0x169)]({'online':!0x0,'owner':this[_0x55097f(0x3b2)][_0x55097f(0x542)],'lastDisconnect':null},this[_0x55097f(0x3b2)][_0x55097f(0x6cb)]);let _0x205ee6=_0x55097f(0x2a5)+this[_0x55097f(0x3b2)]['wuid'],_0x42c427=0x28,_0x43ebc3=Math[_0x55097f(0x5e8)]((_0x42c427-_0x205ee6['length'])/0x2),_0x2df24d='\x20'[_0x55097f(0x387)](_0x43ebc3),_0x291558=_0x55097f(0x5cf),_0x49b11f=_0x55097f(0x24b)+this[_0x55097f(0x3b2)][_0x55097f(0x6cb)],_0x1fdded=(''+_0x2df24d+_0x205ee6+_0x2df24d)[_0x55097f(0x6a6)](_0x42c427,'\x20'),_0x394e93=(''+_0x2df24d+_0x291558+_0x2df24d)['padEnd'](_0x42c427,'\x20'),_0x2481fe=(''+_0x2df24d+_0x49b11f+_0x2df24d)[_0x55097f(0x6a6)](_0x42c427,'\x20'),_0x2d81c5=Math[_0x55097f(0x518)](_0x1fdded[_0x55097f(0x280)],_0x394e93[_0x55097f(0x280)],_0x2481fe['length']),_0x77cca8=_0x1fdded['padEnd'](_0x2d81c5,'\x20'),_0x4d5cc6=_0x394e93[_0x55097f(0x6a6)](_0x2d81c5,'\x20'),_0x4500b7=_0x2481fe['padEnd'](_0x2d81c5,'\x20');this[_0x55097f(0x367)][_0x55097f(0x775)]((_0x55097f(0x683)+'─'['repeat'](_0x2d81c5)+_0x55097f(0x5f9)+_0x4d5cc6+_0x55097f(0x3b7)+_0x4500b7+_0x55097f(0x3b7)+_0x77cca8+_0x55097f(0x244)+'─'['repeat'](_0x2d81c5)+'┘')[_0x55097f(0x797)](/^ +/gm,'\x20\x20')),this[_0x55097f(0x5af)](),this[_0x55097f(0x15b)]=!0x0;}}['resetReconnectionVariables'](){const _0x40cc2e=a0_0x20d441;this[_0x40cc2e(0x575)]=0x0,this[_0x40cc2e(0x5ff)]=[];}async[a0_0x20d441(0x2f0)](_0x3eafcb,_0x406260=!0x1){const _0x907a9b=a0_0x20d441;try{let _0x18713f=await this['repository']['message'][_0x907a9b(0x466)]({'where':{'_id':_0x3eafcb['id']}},this[_0x907a9b(0x3b2)][_0x907a9b(0x542)]);return _0x406260?_0x18713f[0x0]:_0x18713f[0x0][_0x907a9b(0x71e)];}catch{return{'conversation':''};}}[a0_0x20d441(0x65a)](){const _0x50943c=a0_0x20d441;let _0x3fdc04=this[_0x50943c(0x74f)][_0x50943c(0x158)](_0x50943c(0x30d)),_0x221829=this[_0x50943c(0x74f)][_0x50943c(0x158)](_0x50943c(0x3d9));_0x3fdc04?.[_0x50943c(0x4ff)]&&!_0x221829[_0x50943c(0x478)]&&setInterval(()=>{const _0x1bafa1=_0x50943c;try{for(let [_0x4de809,_0x12b5e2]of Object[_0x1bafa1(0x28c)](_0x3fdc04))_0x12b5e2===!0x0&&(0x0,_t[_0x1bafa1(0x14f)])('rm\x20-rf\x20'+(0x0,F[_0x1bafa1(0x686)])(this[_0x1bafa1(0x305)],_0x4de809[_0x1bafa1(0x4d4)](),this['instance']['wuid'])+_0x1bafa1(0x19f));}catch{}},(_0x3fdc04?.[_0x50943c(0x4ff)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x412115=a0_0x20d441;let _0x591047=this[_0x412115(0x74f)][_0x412115(0x158)]('DATABASE'),_0x576aa8=this['configService']['get'](_0x412115(0x1b4));return _0x576aa8?.[_0x412115(0x478)]?await bs(_0x576aa8,this[_0x412115(0x3b2)]['name']):_0x591047['ENABLED']?await ys(this['instance']['name']):await(0x0,y[_0x412115(0x680)])((0x0,F[_0x412115(0x686)])(ge,this[_0x412115(0x3b2)][_0x412115(0x6cb)]));}async['AutomateFunctions'](){const _0x410d7f=a0_0x20d441;let _0x42dd08=()=>Math[_0x410d7f(0x5e8)](Math[_0x410d7f(0x496)]()*0x2711)+0x7d0,_0x4f2b7e=async()=>{const _0x14d96d=_0x410d7f;if(!this[_0x14d96d(0x15b)]){this[_0x14d96d(0x367)][_0x14d96d(0x411)](_0x14d96d(0x389)),this['isRunning']=!0x1;return;}if(this[_0x14d96d(0x3b2)]['wuid']&&this[_0x14d96d(0x6f6)]&&this['delayMessage']!==null&&this[_0x14d96d(0x323)]!==void 0x0){let _0x4e0840=Math['round'](this[_0x14d96d(0x323)]/0xea60);this[_0x14d96d(0x367)][_0x14d96d(0x411)](this['instanceName']+'\x20('+this[_0x14d96d(0x3b2)][_0x14d96d(0x542)]+_0x14d96d(0x4ee)+_0x4e0840+_0x14d96d(0x613)),this[_0x14d96d(0x4a0)]=!0x1;return;}else this[_0x14d96d(0x3b2)][_0x14d96d(0x542)]&&(this[_0x14d96d(0x367)][_0x14d96d(0x411)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x14d96d(0x367)][_0x14d96d(0x411)](this[_0x14d96d(0x621)]+'\x20('+this[_0x14d96d(0x3b2)][_0x14d96d(0x542)]+_0x14d96d(0x6f0)),this[_0x14d96d(0x6f6)]||await this[_0x14d96d(0x799)](),(this[_0x14d96d(0x323)]===null||this[_0x14d96d(0x323)]===void 0x0)&&await this[_0x14d96d(0x66b)]());if(this[_0x14d96d(0x4a0)]){let _0x4b56c6=_0x42dd08();this['logger']['verbose'](this[_0x14d96d(0x621)]+_0x14d96d(0x76a)+_0x4b56c6/0x3e8+_0x14d96d(0x5cc)),setTimeout(_0x4f2b7e,_0x4b56c6);}};if(this[_0x410d7f(0x4a0)])return;this[_0x410d7f(0x4a0)]=!0x0;let _0x27df9e=_0x42dd08();setTimeout(_0x4f2b7e,_0x27df9e);}async[a0_0x20d441(0x6fd)](_0x4c2b3b=0x0){const _0x359cc4=a0_0x20d441;if(!(this[_0x359cc4(0x74f)][_0x359cc4(0x158)](_0x359cc4(0x65b))||!0x1)||_0x4c2b3b>=0x3)return this[_0x359cc4(0x367)][_0x359cc4(0x4a1)]('Nenhum\x20proxy\x20funcional\x20encontrado\x20ou\x20desabilitado.'),this[_0x359cc4(0x356)][_0x359cc4(0x3f5)][_0x359cc4(0x169)]({'ip':null},this[_0x359cc4(0x3b2)]['name']),{};console[_0x359cc4(0x3a8)](_0x359cc4(0x2c1)+(_0x4c2b3b+0x1)+'\x20de\x20conectar\x20com\x20proxy.');let _0x248064=(await this[_0x359cc4(0x356)]['auth'][_0x359cc4(0x466)](this[_0x359cc4(0x621)]))['ip'],_0x655c30=po(_0x248064);if(_0x655c30||(console['log']('Host\x20de\x20proxy\x20em\x20\x27auth\x27\x20não\x20encontrado,\x20selecionando\x20um\x20proxy\x20aleatório.'),_0x655c30=ho()),console[_0x359cc4(0x3a8)]('Configuração\x20do\x20ip:',_0x655c30),_0x655c30&&go(_0x655c30)){let _0x50f262=_0x655c30[_0x359cc4(0x37f)]+_0x359cc4(0x760)+_0x655c30['username']+':'+_0x655c30[_0x359cc4(0x667)]+'@'+_0x655c30['host']+':'+_0x655c30[_0x359cc4(0x684)];return console[_0x359cc4(0x3a8)](_0x359cc4(0x502)),console[_0x359cc4(0x3a8)](_0x50f262),await this[_0x359cc4(0x65f)](_0x50f262)?(console[_0x359cc4(0x3a8)](_0x359cc4(0x2bb)),this[_0x359cc4(0x356)][_0x359cc4(0x3f5)]['create']({'ip':_0x655c30['host']},this[_0x359cc4(0x3b2)][_0x359cc4(0x6cb)]),{'agent':new Dt[(_0x359cc4(0x498))](_0x50f262),'fetchAgent':new Dt[(_0x359cc4(0x498))](_0x50f262)}):(console['log'](_0x359cc4(0x2db)),this[_0x359cc4(0x6fd)](_0x4c2b3b+0x1));}else return console['log'](_0x359cc4(0x409)),this[_0x359cc4(0x6fd)](_0x4c2b3b+0x1);}async[a0_0x20d441(0x65f)](_0x4dc83){const _0x41c875=a0_0x20d441;let _0x9a1b75=new Dt[(_0x41c875(0x498))](_0x4dc83);try{let _0x29e667=await se[_0x41c875(0x2dd)][_0x41c875(0x158)](_0x41c875(0x197),{'httpsAgent':_0x9a1b75});return console[_0x41c875(0x3a8)](_0x41c875(0x141),_0x29e667[_0x41c875(0x299)]),!0x0;}catch{return console['error'](_0x41c875(0x4b4)),!0x1;}}async[a0_0x20d441(0x267)](_0x53524b){const _0x281330=a0_0x20d441;try{let _0x389dc5=await this[_0x281330(0x6fd)]();this['loadWebhook'](),this[_0x281330(0x3b2)][_0x281330(0x13c)]=await this[_0x281330(0x44f)]();let {version:_0x2b4d03}=await(0x0,y[_0x281330(0x33f)])(),_0x4a4029=[Ms,Eo,(0x0,Ss[_0x281330(0x627)])()],_0x12374d={..._0x389dc5,'auth':{'creds':this[_0x281330(0x3b2)][_0x281330(0x13c)]['state']['creds'],'keys':(0x0,y[_0x281330(0x523)])(this['instance']['authState'][_0x281330(0x595)]['keys'],(0x0,Ot[_0x281330(0x2dd)])({'level':'error'}))},'logger':(0x0,Ot[_0x281330(0x2dd)])({'level':_0x281330(0x5e0)}),'printQRInTerminal':!0x1,'browser':_0x53524b?['Chrome\x20(Linux)',Ms,(0x0,Ss[_0x281330(0x627)])()]:_0x4a4029,'version':_0x2b4d03,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x281330(0x59b)],'getMessage':async _0x5d52f0=>await this[_0x281330(0x2f0)](_0x5d52f0),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x281330(0x553)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x5889f7=>(_0x5889f7[_0x281330(0x38c)]?.['listType']==y[_0x281330(0x2cc)]['Message']['ListMessage'][_0x281330(0x264)]['PRODUCT_LIST']&&(_0x5889f7=JSON['parse'](JSON['stringify'](_0x5889f7)),_0x5889f7['listMessage'][_0x281330(0x2cd)]=y[_0x281330(0x2cc)][_0x281330(0x53a)][_0x281330(0x14c)][_0x281330(0x264)][_0x281330(0x2c2)]),_0x5889f7)};return this[_0x281330(0x482)]=!0x1,this['client']=(0x0,y[_0x281330(0x2dd)])(_0x12374d),this['eventHandler'](),this[_0x281330(0x408)]=_0x53524b,this[_0x281330(0x144)];}catch(_0x36dc96){throw this[_0x281330(0x367)][_0x281330(0x5e0)](this['instanceName']+'\x20('+this[_0x281330(0x3b2)][_0x281330(0x542)]+_0x281330(0x383)+(_0x36dc96 instanceof Error?_0x36dc96[_0x281330(0x71e)]:JSON[_0x281330(0x625)](_0x36dc96,null,0x2))),new O(_0x36dc96?.[_0x281330(0x390)]());}}['eventHandler'](){const _0x562867=a0_0x20d441;this[_0x562867(0x144)]['ev'][_0x562867(0x2e5)](_0x1b884d=>{const _0x426c9f=_0x562867;if(!this[_0x426c9f(0x482)]){let _0x32cbb4=this[_0x426c9f(0x74f)][_0x426c9f(0x158)](_0x426c9f(0x3d9));if(_0x1b884d[_0x426c9f(0x4e5)]){let _0xac820e=_0x1b884d[_0x426c9f(0x4e5)];this[_0x426c9f(0x1b7)][_0x426c9f(0x4e5)](_0xac820e);}if(_0x1b884d[_0x426c9f(0x562)]){let _0x5d84e8=_0x1b884d[_0x426c9f(0x562)];this['messageHandle'][_0x426c9f(0x562)](_0x5d84e8);}if(_0x1b884d[_0x426c9f(0x2eb)]&&this[_0x426c9f(0x365)](_0x1b884d['connection.update']),_0x1b884d[_0x426c9f(0x49b)]&&this[_0x426c9f(0x3b2)]['authState']['saveCreds'](),_0x1b884d['messaging-history.set']){let _0x533533=_0x1b884d[_0x426c9f(0x576)];this['messageHandle'][_0x426c9f(0x576)](_0x533533,_0x32cbb4);}if(_0x1b884d['messages.upsert']){let _0x1dd62e=_0x1b884d['messages.upsert'];this[_0x426c9f(0x1b7)]['messages.upsert'](_0x1dd62e,_0x32cbb4);}if(_0x1b884d['messages.update']){let _0x17dad2=_0x1b884d[_0x426c9f(0x173)];_0x17dad2[_0x426c9f(0x3ce)](_0x1656c2=>{const _0x4dabdc=_0x426c9f;if(fo[_0x1656c2[_0x4dabdc(0x59d)]['id']]){this['client']['ev']['emit'](_0x4dabdc(0x756),{'messages':[_0x1656c2],'type':_0x4dabdc(0x33a)}),delete fo[_0x1656c2[_0x4dabdc(0x59d)]['id']];return;}}),this['messageHandle'][_0x426c9f(0x173)](_0x17dad2,_0x32cbb4);}if(_0x1b884d[_0x426c9f(0x240)]){let _0x2d62a3=_0x1b884d[_0x426c9f(0x240)];if(this[_0x426c9f(0x1e8)]?.[_0x426c9f(0x33e)]&&_0x2d62a3['id'][_0x426c9f(0x4c9)]('@g.us'))return;this[_0x426c9f(0x649)]('presence.update',_0x2d62a3);}if(!this[_0x426c9f(0x1e8)]?.['groups_ignore']){if(_0x1b884d['groups.upsert']){let _0x4a3b5a=_0x1b884d[_0x426c9f(0x31d)];this['groupHandler'][_0x426c9f(0x31d)](_0x4a3b5a);}if(_0x1b884d[_0x426c9f(0x71c)]){let _0x670e2d=_0x1b884d[_0x426c9f(0x71c)];this['groupHandler'][_0x426c9f(0x71c)](_0x670e2d);}if(_0x1b884d[_0x426c9f(0x479)]){let _0x3347ca=_0x1b884d['group-participants.update'];this['groupHandler']['group-participants.update'](_0x3347ca);}}if(_0x1b884d['chats.upsert']){let _0x147317=_0x1b884d[_0x426c9f(0x628)];this[_0x426c9f(0x6fc)]['chats.upsert'](_0x147317,_0x32cbb4);}if(_0x1b884d[_0x426c9f(0x136)]){let _0x4aa54c=_0x1b884d[_0x426c9f(0x136)];this['chatHandle'][_0x426c9f(0x136)](_0x4aa54c,_0x32cbb4);}if(_0x1b884d[_0x426c9f(0x61c)]){let _0x1a6870=_0x1b884d[_0x426c9f(0x61c)];this[_0x426c9f(0x6fc)][_0x426c9f(0x61c)](_0x1a6870);}if(_0x1b884d['contacts.upsert']){let _0x2011a3=_0x1b884d[_0x426c9f(0x643)];this['contactHandle'][_0x426c9f(0x643)](_0x2011a3,_0x32cbb4);}if(_0x1b884d[_0x426c9f(0x381)]){let _0x2f8730=_0x1b884d[_0x426c9f(0x381)];this[_0x426c9f(0x64f)]['contacts.update'](_0x2f8730,_0x32cbb4);}}});}[a0_0x20d441(0x337)](_0x1ac6c8){return new Promise(_0x239e7e=>setTimeout(_0x239e7e,_0x1ac6c8));}[a0_0x20d441(0x395)](_0x41e90c){let _0x4fef66=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x41e90c);if(_0x4fef66&&_0x4fef66[0x1]==='55'){let _0x44e96f=_0x4fef66[0x2],_0x33963f=_0x4fef66[0x3],_0x55ce78=_0x4fef66[0x4];if(_0x44e96f>='31'&&_0x33963f==='9')return _0x4fef66[0x1]+_0x44e96f+_0x55ce78;}return _0x41e90c;}[a0_0x20d441(0x710)](_0x155e78){const _0x572425=a0_0x20d441;return _0x155e78['includes'](_0x572425(0x2fa))||_0x155e78[_0x572425(0x4c9)](_0x572425(0x6b1))||_0x155e78['includes'](_0x572425(0x16a))?_0x155e78:(_0x155e78=_0x155e78?.[_0x572425(0x797)](/\s/g,'')[_0x572425(0x797)](/\+/g,'')[_0x572425(0x797)](/\(/g,'')[_0x572425(0x797)](/\)/g,'')[_0x572425(0x4f6)](/\:/)[0x0][_0x572425(0x4f6)]('@')[0x0],_0x155e78['length']>=0x12?(_0x155e78=_0x155e78['replace'](/[^\d-]/g,''),_0x155e78+_0x572425(0x2fa)):(_0x155e78=_0x155e78['replace'](/\D/g,''),this['formatBRNumber'](_0x155e78)+_0x572425(0x6b1)));}async['updatePresence'](_0x1d797d){const _0x4b13c8=a0_0x20d441;let _0x55d452=this['createJid'](_0x1d797d[_0x4b13c8(0x5d0)]),_0x1da2c1=(await this[_0x4b13c8(0x160)]({'numbers':[_0x55d452]}))[0x0];if(!_0x1da2c1['exists']&&!(0x0,y['isJidGroup'])(_0x1da2c1[_0x4b13c8(0x54f)]))throw new m(_0x1da2c1);let _0x1d038b=(0x0,y['isJidGroup'])(_0x55d452)?_0x55d452:_0x1da2c1[_0x4b13c8(0x54f)];if((0x0,y['isJidGroup'])(_0x1d038b))try{await this[_0x4b13c8(0x144)][_0x4b13c8(0x528)](_0x1d038b);}catch{throw new j(_0x4b13c8(0x48d));}try{return await this[_0x4b13c8(0x144)][_0x4b13c8(0x72b)](_0x1d038b),await this[_0x4b13c8(0x144)][_0x4b13c8(0x6f8)](_0x1d797d[_0x4b13c8(0x3ec)],_0x55d452),{'status':0xc8,'presence':_0x1d797d[_0x4b13c8(0x3ec)]};}catch(_0x37e08c){throw new m(_0x37e08c[_0x4b13c8(0x390)]());}}async[a0_0x20d441(0x5e7)](_0x331a14){const _0x1a8e97=a0_0x20d441;let _0x5880e5=this[_0x1a8e97(0x710)](_0x331a14);try{return{'wuid':_0x5880e5,'profilePictureUrl':await this[_0x1a8e97(0x144)]['profilePictureUrl'](_0x5880e5,'image')};}catch{return{'wuid':_0x5880e5,'profilePictureUrl':null};}}async[a0_0x20d441(0x626)](_0x229384,_0x39f5d8,_0x49ead9){const _0x327439=a0_0x20d441;_0x49ead9||(_0x49ead9={});let _0x5edc72=(await this[_0x327439(0x160)]({'numbers':[_0x229384]}))[0x0];if(!_0x5edc72['exists']&&!(0x0,y['isJidGroup'])(_0x5edc72[_0x327439(0x54f)])&&!_0x5edc72[_0x327439(0x54f)][_0x327439(0x4c9)](_0x327439(0x16a)))throw new m(_0x5edc72);let _0x4e9b4e=_0x5edc72[_0x327439(0x54f)];try{_0x49ead9?.[_0x327439(0x641)]&&(await this[_0x327439(0x144)]['presenceSubscribe'](_0x4e9b4e),await this[_0x327439(0x144)]['sendPresenceUpdate'](_0x49ead9?.['presence']??_0x327439(0x6db),_0x4e9b4e),await(0x0,y[_0x327439(0x641)])(_0x49ead9[_0x327439(0x641)]),await this[_0x327439(0x144)][_0x327439(0x6f8)](_0x327439(0x231),_0x4e9b4e));let _0x5c2d9f=_0x49ead9?.[_0x327439(0x333)]!=!0x1?void 0x0:!0x1,_0x193564;if(_0x49ead9?.[_0x327439(0x151)]){let _0x56495d=_0x49ead9?.[_0x327439(0x151)],_0x411258=_0x56495d?.[_0x327439(0x71e)]?_0x56495d:await this[_0x327439(0x2f0)](_0x56495d[_0x327439(0x59d)],!0x0);if(!_0x411258)throw _0x327439(0x142);_0x193564=_0x411258;}let _0x5882be;if((0x0,y[_0x327439(0x1e0)])(_0x4e9b4e))try{let _0x1f3bdd=await this[_0x327439(0x144)][_0x327439(0x528)](_0x4e9b4e);if(!_0x1f3bdd)throw new j(_0x327439(0x48d));_0x49ead9?.['mentions']&&(_0x49ead9[_0x327439(0x15a)]?.[_0x327439(0x405)]?_0x5882be=_0x1f3bdd[_0x327439(0x68f)][_0x327439(0x6b3)](_0xbd8359=>_0xbd8359['id']):_0x49ead9[_0x327439(0x15a)]?.[_0x327439(0x388)]?.[_0x327439(0x280)]&&(_0x5882be=_0x49ead9[_0x327439(0x15a)]['mentioned'][_0x327439(0x6b3)](_0x2535fe=>{const _0x1455d1=_0x327439;let _0x74da43=this['createJid'](_0x2535fe);return(0x0,y[_0x1455d1(0x1e0)])(_0x74da43)?null:_0x74da43;})));}catch{throw new j(_0x327439(0x48d));}let _0x697a16=await((async()=>{const _0x2e9e70=_0x327439;let _0x36887d={'quoted':_0x193564};if(!_0x39f5d8[_0x2e9e70(0x42a)]&&!_0x39f5d8[_0x2e9e70(0x714)]&&!_0x39f5d8[_0x2e9e70(0x5a4)]&&!_0x39f5d8[_0x2e9e70(0x697)]&&_0x4e9b4e!=='status@broadcast'&&!_0x39f5d8[_0x2e9e70(0x42a)])return await this[_0x2e9e70(0x144)][_0x2e9e70(0x4cd)](_0x4e9b4e,{'forward':{'key':{'remoteJid':this[_0x2e9e70(0x3b2)][_0x2e9e70(0x542)],'fromMe':!0x0},'message':_0x39f5d8},'mentions':_0x5882be},_0x36887d);if(_0x39f5d8[_0x2e9e70(0x697)]){let _0xadbec9=_0x39f5d8[_0x2e9e70(0x697)];return _0x49ead9?.['changeVariables']&&(_0xadbec9=await this['replaceVariablesChat'](_0xadbec9,_0x4e9b4e)),await this[_0x2e9e70(0x144)][_0x2e9e70(0x4cd)](_0x4e9b4e,{'text':_0xadbec9,'mentions':_0x5882be,'linkPreview':_0x5c2d9f},_0x36887d);}return _0x4e9b4e===_0x2e9e70(0x4bc)?await this[_0x2e9e70(0x144)][_0x2e9e70(0x4cd)](_0x4e9b4e,_0x39f5d8['status'][_0x2e9e70(0x431)],{'backgroundColor':_0x39f5d8[_0x2e9e70(0x425)][_0x2e9e70(0x59e)][_0x2e9e70(0x6de)],'font':_0x39f5d8[_0x2e9e70(0x425)][_0x2e9e70(0x59e)][_0x2e9e70(0x657)],'statusJidList':_0x39f5d8['status'][_0x2e9e70(0x59e)][_0x2e9e70(0x275)]}):await this[_0x2e9e70(0x144)][_0x2e9e70(0x4cd)](_0x4e9b4e,_0x39f5d8,_0x36887d);})()),{message_normalized:_0x83f05b}=this['normalizeMessage'](_0x697a16[_0x327439(0x71e)],$(_0x697a16[_0x327439(0x71e)]),null),_0x45dadc={'_id':_0x697a16['key']['id'],'key':_0x697a16[_0x327439(0x59d)],'pushName':_0x697a16['pushName'],'message':{..._0x697a16[_0x327439(0x71e)]},'messageType':$(_0x697a16['message']),'message_normalized':{'key':_0x697a16[_0x327439(0x59d)],'pushName':_0x697a16[_0x327439(0x74a)],'messageTimestamp':_0x697a16[_0x327439(0x75e)]&&_0x697a16[_0x327439(0x75e)]['toString']()[_0x327439(0x280)]<0xd?_0x697a16['messageTimestamp']*0x3e8:_0x697a16[_0x327439(0x75e)]||null,'source':(0x0,y['getDevice'])(_0x697a16['key']['id']),..._0x83f05b},'messageTimestamp':_0x697a16[_0x327439(0x75e)]&&_0x697a16[_0x327439(0x75e)]['toString']()[_0x327439(0x280)]<0xd?_0x697a16[_0x327439(0x75e)]*0x3e8:_0x697a16[_0x327439(0x75e)]||null,'owner':this[_0x327439(0x3b2)][_0x327439(0x542)],'source':(0x0,y[_0x327439(0x223)])(_0x697a16[_0x327439(0x59d)]['id'])};return this[_0x327439(0x367)]['log'](_0x45dadc),this[_0x327439(0x649)]('send.message',_0x45dadc),J(this[_0x327439(0x621)],'messages',{'message':_0x45dadc}),this[_0x327439(0x311)](this[_0x327439(0x74f)][_0x327439(0x158)](_0x327439(0x3d9)),_0x45dadc,'SEND_MESSAGE'),await this[_0x327439(0x356)][_0x327439(0x71e)][_0x327439(0x52c)]([_0x45dadc],this[_0x327439(0x3b2)]['wuid']),_0x697a16;}catch(_0x3240c8){throw this[_0x327439(0x367)][_0x327439(0x5e0)](this['instanceName']+'\x20('+this[_0x327439(0x3b2)][_0x327439(0x542)]+'):\x20'+_0x3240c8[_0x327439(0x390)]()),new m(_0x3240c8['toString']());}}get[a0_0x20d441(0x352)](){const _0x43df2c=a0_0x20d441;return this[_0x43df2c(0x66c)];}async[a0_0x20d441(0x256)](_0x568f5c){const _0xc75b48=a0_0x20d441;let _0x4913c4=mo,_0x209a1b=He;return _0x209a1b&&this[_0xc75b48(0x621)][_0xc75b48(0x4d4)]()[_0xc75b48(0x4c9)](_0x209a1b['toLowerCase']())&&(_0x568f5c[_0xc75b48(0x256)]['text']+='\x0a\x0a'+_0x4913c4),await this['sendMessageWithTyping'](_0x568f5c[_0xc75b48(0x5d0)],{'conversation':_0x568f5c[_0xc75b48(0x256)][_0xc75b48(0x5e5)]},_0x568f5c?.[_0xc75b48(0x314)]);}async[a0_0x20d441(0x35e)](_0x348168){const _0xf4ad41=a0_0x20d441;if(!_0x348168[_0xf4ad41(0x7a0)])throw new m(_0xf4ad41(0x53f));if(!_0x348168[_0xf4ad41(0x431)])throw new m('Content\x20is\x20required');if(_0x348168[_0xf4ad41(0x18e)]){let _0x2075e7=await this[_0xf4ad41(0x356)][_0xf4ad41(0x377)][_0xf4ad41(0x466)]({'where':{}},this[_0xf4ad41(0x3b2)]['wuid']);if(!_0x2075e7[_0xf4ad41(0x280)])throw new m(_0xf4ad41(0x6ce));_0x348168[_0xf4ad41(0x275)]=_0x2075e7[_0xf4ad41(0x2a6)](_0x75f6c1=>_0x75f6c1['pushName'])[_0xf4ad41(0x6b3)](_0x3633b7=>_0x3633b7[_0xf4ad41(0x749)]);}if(!_0x348168[_0xf4ad41(0x275)]?.[_0xf4ad41(0x280)]&&!_0x348168['allContacts'])throw new m('StatusJidList\x20is\x20required');if(_0x348168[_0xf4ad41(0x7a0)]===_0xf4ad41(0x5e5)){if(!_0x348168[_0xf4ad41(0x6de)])throw new m(_0xf4ad41(0x55f));if(!_0x348168[_0xf4ad41(0x657)])throw new m(_0xf4ad41(0x159));return{'content':{'text':_0x348168[_0xf4ad41(0x431)]},'option':{'backgroundColor':_0x348168[_0xf4ad41(0x6de)],'font':_0x348168['font'],'statusJidList':_0x348168[_0xf4ad41(0x275)]}};}if(_0x348168[_0xf4ad41(0x7a0)]===_0xf4ad41(0x150))return{'content':{'image':{'url':_0x348168[_0xf4ad41(0x431)]},'caption':_0x348168[_0xf4ad41(0x527)]},'option':{'statusJidList':_0x348168[_0xf4ad41(0x275)]}};if(_0x348168[_0xf4ad41(0x7a0)]==='video')return{'content':{'video':{'url':_0x348168[_0xf4ad41(0x431)]},'caption':_0x348168[_0xf4ad41(0x527)]},'option':{'statusJidList':_0x348168[_0xf4ad41(0x275)]}};if(_0x348168[_0xf4ad41(0x7a0)]==='audio'){this[_0xf4ad41(0x367)][_0xf4ad41(0x411)](_0xf4ad41(0x30b)),this[_0xf4ad41(0x367)]['verbose']('Processing\x20audio');let _0x73e40e=await this[_0xf4ad41(0x3be)](_0x348168['content']);if(typeof _0x73e40e==_0xf4ad41(0x6c0)){this[_0xf4ad41(0x367)][_0xf4ad41(0x411)](_0xf4ad41(0x295));let _0x15c325=L[_0xf4ad41(0x36c)](_0x73e40e)[_0xf4ad41(0x390)](_0xf4ad41(0x135)),_0x31466c={'content':{'audio':Buffer[_0xf4ad41(0x31a)](_0x15c325,_0xf4ad41(0x135)),'ptt':!0x0,'mimetype':'audio/mp4'},'option':{'statusJidList':_0x348168[_0xf4ad41(0x275)]}};return L[_0xf4ad41(0x43f)](_0x73e40e),_0x31466c;}else throw new O(_0x73e40e);}throw new m(_0xf4ad41(0x196));}async[a0_0x20d441(0x773)](_0x4ee1f1){const _0x35fb16=a0_0x20d441;return await this[_0x35fb16(0x626)](_0x35fb16(0x4bc),{'status':await this[_0x35fb16(0x35e)](_0x4ee1f1[_0x35fb16(0x773)])});}async['prepareMediaMessage'](_0x1d4203){const _0x5a64d6=a0_0x20d441;try{let _0xc59bbf=await(0x0,y[_0x5a64d6(0x560)])({[_0x1d4203[_0x5a64d6(0x509)]]:(0x0,k[_0x5a64d6(0x74c)])(_0x1d4203['media'])?{'url':_0x1d4203['media']}:Buffer[_0x5a64d6(0x31a)](_0x1d4203['media'],_0x5a64d6(0x135))},{'upload':this['client']['waUploadToServer']}),_0x373932=_0x1d4203['mediatype']+_0x5a64d6(0x53a);if(_0x1d4203[_0x5a64d6(0x509)]==='document'&&!_0x1d4203['fileName']){let _0x4dff6a=new RegExp(/.*\/(.+?)\./)['exec'](_0x1d4203['media']);_0x1d4203[_0x5a64d6(0x463)]=_0x4dff6a?_0x4dff6a[0x1]:null;}let _0x709b1a=(0x0,k['isURL'])(_0x1d4203[_0x5a64d6(0x27f)])?_0x1d4203['media'][_0x5a64d6(0x4f6)]('?')[0x0]:_0x1d4203[_0x5a64d6(0x27f)];this[_0x5a64d6(0x367)][_0x5a64d6(0x411)](_0x5a64d6(0x438)+_0x709b1a);let _0x412edf;(0x0,k[_0x5a64d6(0x74c)])(_0x1d4203[_0x5a64d6(0x27f)])?_0x412edf=(0x0,It['getMIMEType'])(_0x709b1a):_0x1d4203[_0x5a64d6(0x463)]&&_0x1d4203['fileName'][_0x5a64d6(0x4c9)]('.')?_0x412edf=(0x0,It[_0x5a64d6(0x790)])(_0x1d4203[_0x5a64d6(0x463)]):_0x412edf=(0x0,It[_0x5a64d6(0x790)])(_0x1d4203['media']);let _0x2dec53=mo,_0x1d9ce3=He;return _0x1d9ce3&&this[_0x5a64d6(0x621)]['toLowerCase']()['includes'](_0x1d9ce3[_0x5a64d6(0x4d4)]())&&(_0x1d4203['caption']+='\x0a\x0a'+_0x2dec53),_0xc59bbf[_0x373932]['caption']=_0x1d4203?.['caption'],_0xc59bbf[_0x373932][_0x5a64d6(0x5fd)]=_0x412edf,_0xc59bbf[_0x373932][_0x5a64d6(0x463)]=_0x1d4203[_0x5a64d6(0x463)],_0x1d4203[_0x5a64d6(0x509)]==='video'&&(_0xc59bbf[_0x373932][_0x5a64d6(0x493)]=Uint8Array[_0x5a64d6(0x31a)]((0x0,ve['readFileSync'])((0x0,F[_0x5a64d6(0x686)])(process[_0x5a64d6(0x4f7)](),_0x5a64d6(0x5bc)))),_0xc59bbf[_0x373932]['gifPlayback']=!0x1),(0x0,y[_0x5a64d6(0x67d)])('',{[_0x373932]:{..._0xc59bbf[_0x373932]}},{'userJid':this[_0x5a64d6(0x3b2)][_0x5a64d6(0x542)]});}catch(_0x5bf4dc){throw this[_0x5a64d6(0x367)][_0x5a64d6(0x5e0)](this[_0x5a64d6(0x621)]+'\x20('+this[_0x5a64d6(0x3b2)][_0x5a64d6(0x542)]+_0x5a64d6(0x383)+(_0x5bf4dc instanceof Error?_0x5bf4dc['message']:JSON[_0x5a64d6(0x625)](_0x5bf4dc,null,0x2))),new O(_0x5bf4dc?.[_0x5a64d6(0x390)]()||_0x5bf4dc);}}async[a0_0x20d441(0x2dc)](_0x461be8){const _0x1e8d43=a0_0x20d441;let _0x4988db=await this[_0x1e8d43(0x668)](_0x461be8[_0x1e8d43(0x2dc)]);return await this[_0x1e8d43(0x626)](_0x461be8[_0x1e8d43(0x5d0)],{..._0x4988db[_0x1e8d43(0x71e)]},_0x461be8?.[_0x1e8d43(0x314)]);}async['convertToWebP'](_0x3b23ef,_0x5b471a){const _0x2ddbeb=a0_0x20d441;try{this[_0x2ddbeb(0x367)]['verbose']('Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x1c53e8,_0x566e56=_0x5b471a+'-'+new Date()[_0x2ddbeb(0x202)]();this[_0x2ddbeb(0x367)]['verbose']('Hash\x20to\x20image\x20name:\x20'+_0x566e56);let _0x29ebea=''+(0x0,F[_0x2ddbeb(0x686)])(this[_0x2ddbeb(0x305)],_0x566e56+_0x2ddbeb(0x72c));if(this['logger'][_0x2ddbeb(0x411)](_0x2ddbeb(0x361)+_0x29ebea),(0x0,k[_0x2ddbeb(0x2e4)])(_0x3b23ef)){this[_0x2ddbeb(0x367)]['verbose'](_0x2ddbeb(0x281));let _0x2a0178=_0x3b23ef[_0x2ddbeb(0x797)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x346cb5=Buffer[_0x2ddbeb(0x31a)](_0x2a0178,_0x2ddbeb(0x135));_0x1c53e8=''+(0x0,F[_0x2ddbeb(0x686)])(this[_0x2ddbeb(0x305)],_0x2ddbeb(0x5e6)+_0x566e56+_0x2ddbeb(0x1d2)),this[_0x2ddbeb(0x367)][_0x2ddbeb(0x411)]('Image\x20path:\x20'+_0x1c53e8),await(0x0,xt['default'])(_0x346cb5)[_0x2ddbeb(0x609)](_0x1c53e8),this[_0x2ddbeb(0x367)][_0x2ddbeb(0x411)](_0x2ddbeb(0x32e));}else{this[_0x2ddbeb(0x367)][_0x2ddbeb(0x411)](_0x2ddbeb(0x212));let _0x5d9cbf=new Date()['getTime'](),_0x5eb39e=_0x3b23ef+_0x2ddbeb(0x587)+_0x5d9cbf;this[_0x2ddbeb(0x367)]['verbose']('including\x20timestamp\x20in\x20url:\x20'+_0x5eb39e);let _0xc9cdd7=await se[_0x2ddbeb(0x2dd)][_0x2ddbeb(0x158)](_0x5eb39e,{'responseType':_0x2ddbeb(0x548)});this[_0x2ddbeb(0x367)][_0x2ddbeb(0x411)]('Getting\x20image\x20from\x20url');let _0xeb29ca=Buffer[_0x2ddbeb(0x31a)](_0xc9cdd7['data'],_0x2ddbeb(0x677));_0x1c53e8=''+(0x0,F[_0x2ddbeb(0x686)])(this[_0x2ddbeb(0x305)],_0x2ddbeb(0x5e6)+_0x566e56+_0x2ddbeb(0x1d2)),this[_0x2ddbeb(0x367)]['verbose'](_0x2ddbeb(0x399)+_0x1c53e8),await(0x0,xt['default'])(_0xeb29ca)['toFile'](_0x1c53e8),this['logger'][_0x2ddbeb(0x411)](_0x2ddbeb(0x32e));}return await(0x0,xt[_0x2ddbeb(0x2dd)])(_0x1c53e8)[_0x2ddbeb(0x4b0)]()[_0x2ddbeb(0x609)](_0x29ebea),this['logger']['verbose'](_0x2ddbeb(0x3d4)),L[_0x2ddbeb(0x43f)](_0x1c53e8),this[_0x2ddbeb(0x367)]['verbose'](_0x2ddbeb(0x4c7)),_0x29ebea;}catch(_0x50a9c8){console[_0x2ddbeb(0x5e0)]('Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:',_0x50a9c8 instanceof Error?_0x50a9c8[_0x2ddbeb(0x71e)]:JSON[_0x2ddbeb(0x625)](_0x50a9c8,null,0x2));}}async[a0_0x20d441(0x5a7)](_0x2e2a5d){const _0x2e0385=a0_0x20d441;let _0x370275=await this[_0x2e0385(0x458)](_0x2e2a5d['stickerMessage'][_0x2e0385(0x150)],_0x2e2a5d['number']),_0x324e73=await this['sendMessageWithTyping'](_0x2e2a5d[_0x2e0385(0x5d0)],{'sticker':{'url':_0x370275}},_0x2e2a5d?.['options']);return L[_0x2e0385(0x43f)](_0x370275),this[_0x2e0385(0x367)][_0x2e0385(0x411)]('Converted\x20image\x20deleted'),_0x324e73;}async[a0_0x20d441(0x2ac)](_0x597277){const _0x424448=a0_0x20d441;if(this['logger'][_0x424448(0x411)](_0x424448(0x324)),!_0x597277[_0x424448(0x314)]?.[_0x424448(0x17b)]&&_0x597277['options']?.[_0x424448(0x17b)]!==!0x1&&(_0x597277[_0x424448(0x314)]['encoding']=!0x0),_0x597277['options']?.[_0x424448(0x17b)]){let _0x44fd4c=await this[_0x424448(0x3be)](_0x597277[_0x424448(0x348)]['audio']);if(typeof _0x44fd4c==_0x424448(0x6c0)){let _0xbc6c72=L['readFileSync'](_0x44fd4c)[_0x424448(0x390)](_0x424448(0x135)),_0x44c2ec=this[_0x424448(0x626)](_0x597277[_0x424448(0x5d0)],{'audio':Buffer[_0x424448(0x31a)](_0xbc6c72,_0x424448(0x135)),'ptt':!0x0,'mimetype':_0x424448(0x312)},{'presence':_0x424448(0x30e),'delay':_0x597277?.['options']?.[_0x424448(0x641)]});return L['unlinkSync'](_0x44fd4c),this['logger']['verbose'](_0x424448(0x565)),_0x44c2ec;}else throw new O(_0x44fd4c);}return await this[_0x424448(0x626)](_0x597277['number'],{'audio':(0x0,k[_0x424448(0x74c)])(_0x597277[_0x424448(0x348)][_0x424448(0x42a)])?{'url':_0x597277[_0x424448(0x348)][_0x424448(0x42a)]}:Buffer[_0x424448(0x31a)](_0x597277[_0x424448(0x348)][_0x424448(0x42a)],'base64'),'ptt':!0x0,'mimetype':_0x424448(0x2b1)},{'presence':_0x424448(0x30e),'delay':_0x597277?.[_0x424448(0x314)]?.[_0x424448(0x641)]});}async[a0_0x20d441(0x3be)](_0x4b32f3){const _0x452629=a0_0x20d441;this[_0x452629(0x367)][_0x452629(0x411)](_0x452629(0x6a2));let _0x4bf0b9,_0x5d5b60,_0x25458c=(0x0,Me['v4'])();if(this[_0x452629(0x367)][_0x452629(0x411)](_0x452629(0x593)+_0x25458c),(0x0,k[_0x452629(0x74c)])(_0x4b32f3)){this[_0x452629(0x367)][_0x452629(0x411)]('Audio\x20is\x20url'),_0x5d5b60=''+(0x0,F[_0x452629(0x686)])(this[_0x452629(0x305)],_0x25458c+_0x452629(0x359)),_0x4bf0b9=''+(0x0,F[_0x452629(0x686)])(this[_0x452629(0x305)],_0x452629(0x5e6)+_0x25458c+_0x452629(0x28f)),this['logger'][_0x452629(0x411)](_0x452629(0x504)+_0x5d5b60),this[_0x452629(0x367)][_0x452629(0x411)](_0x452629(0x69b)+_0x4bf0b9);let _0x3ed24c=new Date()[_0x452629(0x202)](),_0x143683=_0x4b32f3+_0x452629(0x587)+_0x3ed24c;this['logger'][_0x452629(0x411)](_0x452629(0x7a5)+_0x143683);let _0x383af3=await se[_0x452629(0x2dd)][_0x452629(0x158)](_0x143683,{'responseType':_0x452629(0x548)});this[_0x452629(0x367)][_0x452629(0x411)]('Getting\x20audio\x20from\x20url'),L[_0x452629(0x58d)](_0x4bf0b9,_0x383af3['data']);}else{this[_0x452629(0x367)][_0x452629(0x411)]('Audio\x20is\x20base64'),_0x5d5b60=''+(0x0,F[_0x452629(0x686)])(this[_0x452629(0x305)],_0x25458c+_0x452629(0x359)),_0x4bf0b9=''+(0x0,F[_0x452629(0x686)])(this[_0x452629(0x305)],_0x452629(0x5e6)+_0x25458c+_0x452629(0x28f)),this[_0x452629(0x367)][_0x452629(0x411)](_0x452629(0x504)+_0x5d5b60),this[_0x452629(0x367)]['verbose'](_0x452629(0x69b)+_0x4bf0b9);let _0x3f271a=Buffer['from'](_0x4b32f3,'base64');L['writeFileSync'](_0x4bf0b9,_0x3f271a),this[_0x452629(0x367)]['verbose'](_0x452629(0x414));}return this[_0x452629(0x367)][_0x452629(0x411)]('Converting\x20audio\x20to\x20mp4'),new Promise((_0x1e3785,_0x1ec78d)=>{const _0x5a3c66=_0x452629;(0x0,_t[_0x5a3c66(0x2a0)])(wo['default']['path']+_0x5a3c66(0x6af)+_0x4bf0b9+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20'+_0x5d5b60+_0x5a3c66(0x574),_0x301ef7=>{const _0x336c89=_0x5a3c66;L[_0x336c89(0x43f)](_0x4bf0b9),this['logger'][_0x336c89(0x411)](_0x336c89(0x62f)),_0x301ef7&&_0x1ec78d(_0x301ef7),this['logger'][_0x336c89(0x411)](_0x336c89(0x77f)),_0x1e3785(_0x5d5b60);});});}async[a0_0x20d441(0x741)](_0x4f767d){const _0x4835e7=a0_0x20d441;let _0x204acf={},_0xca4793=_0x4835e7(0x441);if(_0x4f767d['buttonMessage']?.[_0x4835e7(0x2dc)]){_0xca4793=_0x4f767d[_0x4835e7(0x741)][_0x4835e7(0x2dc)]?.['mediatype']['toUpperCase']()??'TEXT',_0x204acf[_0x4835e7(0x6a0)]=_0xca4793['toLowerCase']()+_0x4835e7(0x53a);let _0x393496=await this['prepareMediaMessage'](_0x4f767d[_0x4835e7(0x741)][_0x4835e7(0x2dc)]);_0x204acf[_0x4835e7(0x71e)]=_0x393496[_0x4835e7(0x71e)][_0x204acf['mediaKey']],_0x204acf[_0x4835e7(0x550)]='*'+_0x4f767d['buttonMessage']['title']+_0x4835e7(0x1ba)+_0x4f767d[_0x4835e7(0x741)][_0x4835e7(0x6a1)];}let _0x35e83b={'text':_0x4f767d['buttonMessage'][_0x4835e7(0x2c6)][_0x4835e7(0x6b3)](_0x458231=>_0x458231[_0x4835e7(0x222)]),'ids':_0x4f767d[_0x4835e7(0x741)][_0x4835e7(0x2c6)][_0x4835e7(0x6b3)](_0x538c66=>_0x538c66['buttonId'])};if(!(0x0,k[_0x4835e7(0x2f9)])(_0x35e83b[_0x4835e7(0x5e5)])||!(0x0,k[_0x4835e7(0x2f9)])(_0x35e83b[_0x4835e7(0x716)]))throw new m(_0x4835e7(0x4af),'Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x4835e7(0x626)](_0x4f767d[_0x4835e7(0x5d0)],{'buttonsMessage':{'text':_0x204acf?.[_0x4835e7(0x6a0)]?void 0x0:_0x4f767d[_0x4835e7(0x741)][_0x4835e7(0x615)],'contentText':_0x204acf?.['contentText']??_0x4f767d[_0x4835e7(0x741)][_0x4835e7(0x6a1)],'footerText':_0x4f767d[_0x4835e7(0x741)]?.[_0x4835e7(0x6d2)],'buttons':_0x4f767d['buttonMessage'][_0x4835e7(0x2c6)][_0x4835e7(0x6b3)](_0x5d532b=>({'buttonText':{'displayText':_0x5d532b[_0x4835e7(0x222)]},'buttonId':_0x5d532b[_0x4835e7(0x34a)],'type':0x1})),'headerType':y[_0x4835e7(0x2cc)][_0x4835e7(0x53a)][_0x4835e7(0x2d2)][_0x4835e7(0x1a1)][_0xca4793],[_0x204acf?.['mediaKey']]:_0x204acf?.[_0x4835e7(0x71e)]}},_0x4f767d?.[_0x4835e7(0x314)]);}async[a0_0x20d441(0x783)](_0x260690){const _0x5f0945=a0_0x20d441;return await this['sendMessageWithTyping'](_0x260690[_0x5f0945(0x5d0)],{'locationMessage':{'degreesLatitude':_0x260690[_0x5f0945(0x783)][_0x5f0945(0x4ce)],'degreesLongitude':_0x260690[_0x5f0945(0x783)]['longitude'],'name':_0x260690[_0x5f0945(0x783)]?.[_0x5f0945(0x6cb)],'address':_0x260690[_0x5f0945(0x783)]?.['address']}},_0x260690?.[_0x5f0945(0x314)]);}async[a0_0x20d441(0x6fa)](_0x342b3c){const _0x9b0472=a0_0x20d441;let _0x292231={},_0x294315=_0x299882=>{const _0x434bfe=a0_0x731d;let _0x36c0ae=_0x434bfe(0x23a)+_0x299882[_0x434bfe(0x73e)]+_0x434bfe(0x2c7)+_0x299882['fullName']+'\x0a';_0x299882[_0x434bfe(0x534)]&&(_0x36c0ae+=_0x434bfe(0x455)+_0x299882['organization']+';\x0a'),_0x299882[_0x434bfe(0x26a)]&&(_0x36c0ae+='EMAIL:'+_0x299882[_0x434bfe(0x26a)]+'\x0a'),_0x299882['url']&&(_0x36c0ae+=_0x434bfe(0x4aa)+_0x299882['url']+'\x0a');let _0x30ad0c='';return _0x299882[_0x434bfe(0x408)]&&_0x299882[_0x434bfe(0x408)][_0x434bfe(0x4f6)]('|')['forEach']((_0x3912a3,_0x5277cc)=>{const _0x130481=_0x434bfe;let _0x4501d6=this[_0x130481(0x710)](_0x3912a3)[_0x130481(0x797)](_0x130481(0x6b1),'');_0x30ad0c+=_0x130481(0x21d)+(_0x5277cc+0x1)+_0x130481(0x1f7)+_0x4501d6+':'+_0x3912a3+_0x130481(0x475)+(_0x5277cc+0x1)+_0x130481(0x41a);}),_0x36c0ae+=_0x30ad0c+'END:VCARD',_0x36c0ae;};return _0x342b3c[_0x9b0472(0x6fa)][_0x9b0472(0x280)]===0x1?_0x292231[_0x9b0472(0x6fa)]={'displayName':_0x342b3c['contactMessage'][0x0][_0x9b0472(0x73e)],'vcard':_0x294315(_0x342b3c[_0x9b0472(0x6fa)][0x0])}:_0x292231['contactsArrayMessage']={'displayName':_0x342b3c[_0x9b0472(0x6fa)][_0x9b0472(0x280)]+'\x20contacts','contacts':_0x342b3c[_0x9b0472(0x6fa)][_0x9b0472(0x6b3)](_0x16ef5a=>({'displayName':_0x16ef5a[_0x9b0472(0x73e)],'vcard':_0x294315(_0x16ef5a)}))},await this[_0x9b0472(0x626)](_0x342b3c[_0x9b0472(0x5d0)],{..._0x292231},_0x342b3c?.[_0x9b0472(0x314)]);}async[a0_0x20d441(0x440)](_0x63a234){const _0x2c007b=a0_0x20d441;return await this[_0x2c007b(0x626)](_0x63a234[_0x2c007b(0x440)][_0x2c007b(0x59d)][_0x2c007b(0x290)],{'reactionMessage':{'key':_0x63a234['reactionMessage'][_0x2c007b(0x59d)],'text':_0x63a234[_0x2c007b(0x440)][_0x2c007b(0x4f3)]}});}async[a0_0x20d441(0x160)](_0x255d9f){const _0x36128a=a0_0x20d441;let _0x31f899=[];for await(let _0x1524ba of _0x255d9f[_0x36128a(0x79c)]){let _0x3caae5=this[_0x36128a(0x710)](_0x1524ba),_0x429b38=!0x1;try{if((0x0,y[_0x36128a(0x1e0)])(_0x3caae5)){let _0x458251=await this['findGroup']({'groupJid':_0x3caae5},'inner');_0x31f899[_0x36128a(0x4cf)](new me(_0x458251[_0x36128a(0x62d)]['id'],!!_0x458251?.[_0x36128a(0x62d)]['id'],_0x458251?.['metadata'][_0x36128a(0x725)])),_0x429b38=!!_0x458251?.[_0x36128a(0x62d)]['id'];}else{let _0x254d49=(await this['client']['onWhatsApp'](_0x3caae5))[0x0];_0x31f899[_0x36128a(0x4cf)](new me(_0x254d49[_0x36128a(0x54f)],_0x254d49[_0x36128a(0x48c)])),_0x429b38=_0x254d49[_0x36128a(0x48c)];}}catch{await this['checkAndUpdateChatStatus'](_0x3caae5,_0x429b38),_0x31f899[_0x36128a(0x4cf)](new me(_0x1524ba,!0x1));}}return _0x31f899;}async['checkAndUpdateChatStatus'](_0x3e15b4,_0x12a8ae){const _0x358b0f=a0_0x20d441;try{await this[_0x358b0f(0x356)]['chat'][_0x358b0f(0x1ca)]({'where':{'_id':_0x3e15b4,'imported':!0x0}},this[_0x358b0f(0x3b2)][_0x358b0f(0x542)])&&(_0x12a8ae||(await this[_0x358b0f(0x356)]['chat'][_0x358b0f(0x226)](_0x3e15b4,this[_0x358b0f(0x3b2)]['wuid']),console[_0x358b0f(0x3a8)](_0x358b0f(0x391)+_0x3e15b4+_0x358b0f(0x491))));}catch(_0x51b8de){console[_0x358b0f(0x5e0)](_0x358b0f(0x682),_0x51b8de);}}async[a0_0x20d441(0x554)](_0x157e20){const _0x40698d=a0_0x20d441;try{let _0x4a867b=_0x157e20[_0x40698d(0x6bb)][_0x40698d(0x2a6)](_0x2ec5ba=>(0x0,y[_0x40698d(0x1e0)])(_0x2ec5ba[_0x40698d(0x290)])||(0x0,y[_0x40698d(0x1a7)])(_0x2ec5ba[_0x40698d(0x290)]))[_0x40698d(0x6b3)](_0x5d3892=>({'remoteJid':_0x5d3892['remoteJid'],'fromMe':_0x5d3892[_0x40698d(0x43e)],'id':_0x5d3892['id']}));await this[_0x40698d(0x144)][_0x40698d(0x6bb)](_0x4a867b);let _0x3bec5c=_0x4a867b['map'](_0x132fc6=>this[_0x40698d(0x2de)](_0x132fc6,{'status':_0x40698d(0x55d),'owner':this[_0x40698d(0x3b2)]['wuid']})),_0x2ab803=_0x4a867b[_0x40698d(0x6b3)](_0x468953=>this[_0x40698d(0x356)][_0x40698d(0x224)][_0x40698d(0x590)]({'where':{'_id':_0x468953['remoteJid']}},{'unreadcount':0x0},this[_0x40698d(0x3b2)][_0x40698d(0x542)])),[_0x3c6208,_0x50ddbc]=await Promise[_0x40698d(0x5a5)]([Promise[_0x40698d(0x5a5)](_0x3bec5c),Promise[_0x40698d(0x5a5)](_0x2ab803)]);return _0x50ddbc[_0x40698d(0x2a6)](_0x539fce=>_0x539fce!==null)[_0x40698d(0x3ce)](_0x2e4812=>{const _0x3a187c=_0x40698d;J(this[_0x3a187c(0x621)],_0x3a187c(0x759),{'chat':_0x2e4812});}),{'message':_0x40698d(0x1f0),'read':_0x40698d(0x674)};}catch(_0xdea79b){throw console[_0x40698d(0x5e0)](_0x40698d(0x221),_0xdea79b),new O(_0x40698d(0x6bd),_0xdea79b[_0x40698d(0x390)]());}}async[a0_0x20d441(0x218)](_0x54fa51){const _0x205ce3=a0_0x20d441;let _0x31c9fa={'where':{'key':{'remoteJid':_0x54fa51}},'limit':0x1},_0x1aa1ce=await this[_0x205ce3(0x36e)](_0x31c9fa);return _0x1aa1ce||(console[_0x205ce3(0x5e0)](_0x205ce3(0x6e0),_0x54fa51),null);}async['archiveChat'](_0x53a0c9){const _0x3c36f3=a0_0x20d441;this[_0x3c36f3(0x367)][_0x3c36f3(0x411)](_0x3c36f3(0x64d));try{let _0x357596=_0x53a0c9[_0x3c36f3(0x645)],_0x401fdb=_0x53a0c9['chat'];if(!_0x357596&&_0x401fdb?_0x357596=await this[_0x3c36f3(0x218)](_0x401fdb):(_0x357596=_0x53a0c9['lastMessage'],_0x357596['messageTimestamp']=_0x357596?.['messageTimestamp']??Date[_0x3c36f3(0x79b)](),_0x401fdb=_0x357596?.[_0x3c36f3(0x59d)]?.[_0x3c36f3(0x290)]),!_0x357596||Object[_0x3c36f3(0x616)](_0x357596)['length']===0x0)throw new j(_0x3c36f3(0x3f2));this[_0x3c36f3(0x367)]['verbose'](_0x3c36f3(0x3b1)+_0x401fdb);try{await this[_0x3c36f3(0x144)]['chatModify']({'archive':_0x53a0c9[_0x3c36f3(0x42b)],'lastMessages':[_0x357596]},this['createJid'](_0x401fdb));}catch(_0x5255a4){this[_0x3c36f3(0x367)][_0x3c36f3(0x5e0)](_0x3c36f3(0x4f1)+_0x401fdb+':\x20'+_0x5255a4['toString']());}this[_0x3c36f3(0x367)][_0x3c36f3(0x411)]('Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x401fdb);let _0x116568=await this[_0x3c36f3(0x356)][_0x3c36f3(0x224)][_0x3c36f3(0x590)]({'where':{'_id':_0x357596?.[_0x3c36f3(0x59d)]?.[_0x3c36f3(0x290)]}},{'archived':_0x53a0c9[_0x3c36f3(0x42b)]},this[_0x3c36f3(0x3b2)][_0x3c36f3(0x542)]);return _0x116568?(this['logger'][_0x3c36f3(0x411)](_0x3c36f3(0x652)+JSON[_0x3c36f3(0x625)](_0x116568)),J(this['instanceName'],_0x3c36f3(0x759),{'chat':_0x116568})):this[_0x3c36f3(0x367)][_0x3c36f3(0x5e0)](_0x3c36f3(0x770)+_0x401fdb),{'chatId':_0x401fdb,'archived':_0x53a0c9[_0x3c36f3(0x42b)]};}catch(_0x4eef87){throw this[_0x3c36f3(0x367)][_0x3c36f3(0x5e0)](_0x3c36f3(0x43d)+_0x4eef87['toString']()),new O({'archived':!0x1,'message':[_0x3c36f3(0x512),_0x4eef87['toString']()]});}}async[a0_0x20d441(0x301)](_0x15cb9f){const _0x171008=a0_0x20d441;try{let _0x181142=await this[_0x171008(0x144)]['sendMessage'](_0x15cb9f[_0x171008(0x290)],{'delete':_0x15cb9f});try{let _0x22921c=await this['updateMessage'](_0x15cb9f,{'status':_0x171008(0x521),'owner':this[_0x171008(0x3b2)][_0x171008(0x542)]});this[_0x171008(0x367)][_0x171008(0x411)](this[_0x171008(0x621)]+'\x20('+this[_0x171008(0x3b2)][_0x171008(0x542)]+_0x171008(0x3e0)+_0x22921c);}catch(_0x28e324){console[_0x171008(0x5e0)](_0x171008(0x5ad),_0x28e324);}return _0x181142;}catch(_0x5266e3){throw new O(_0x171008(0x526),_0x5266e3?.[_0x171008(0x390)]());}}async['getBase64FromMediaMessage'](_0x297e75){const _0x553e58=a0_0x20d441;try{let _0x35f4cd=_0x297e75?.['message']?_0x297e75:await this['getMessage'](_0x297e75['key'],!0x0);for(let _0x5ed0f0 of pa)_0x35f4cd[_0x553e58(0x71e)][_0x5ed0f0]&&(_0x35f4cd[_0x553e58(0x71e)]=_0x35f4cd[_0x553e58(0x71e)][_0x5ed0f0][_0x553e58(0x71e)]);let _0x5f3b05,_0x2b1c9c;for(let _0x30219a of da)if(_0x5f3b05=_0x35f4cd['message'][_0x30219a],_0x5f3b05){_0x2b1c9c=_0x30219a;break;}if(!_0x5f3b05)throw _0x553e58(0x17d);typeof _0x5f3b05[_0x553e58(0x6a0)]==_0x553e58(0x522)&&(_0x35f4cd[_0x553e58(0x71e)]=JSON[_0x553e58(0x70f)](JSON[_0x553e58(0x625)](_0x35f4cd['message'])));let _0x391992=await(0x0,y['downloadMediaMessage'])({'key':_0x35f4cd?.[_0x553e58(0x59d)],'message':_0x35f4cd?.['message']},_0x553e58(0x192),{},{'logger':(0x0,Ot[_0x553e58(0x2dd)])({'level':'silent'}),'reuploadRequest':this[_0x553e58(0x144)][_0x553e58(0x216)]});if(!(_0x391992 instanceof Buffer))throw new Error(_0x553e58(0x531));let _0x2a667d=this[_0x553e58(0x74f)][_0x553e58(0x158)](_0x553e58(0x3d9)),_0x20a5cf,_0x3aed66;if(_0x5f3b05[_0x553e58(0x463)])_0x20a5cf=_0x5f3b05[_0x553e58(0x463)];else{let _0x3446bc=_0x5f3b05['mimetype']?.[_0x553e58(0x248)](/\/(\w+)/),_0x36e6a7=_0x3446bc?_0x3446bc[0x1]:null;if(!_0x36e6a7)throw new Error(_0x553e58(0x735));_0x20a5cf=(0x0,Me['v4'])()+'.'+_0x36e6a7;}_0x2b1c9c===_0x553e58(0x348)&&_0x5f3b05[_0x553e58(0x5fd)]==='audio/ogg'?(_0x20a5cf=(0x0,Me['v4'])()+_0x553e58(0x62e),_0x3aed66=_0x553e58(0x61a)+await this[_0x553e58(0x3be)](_0x391992[_0x553e58(0x390)]('base64'))):(await this[_0x553e58(0x47d)](_0x391992,_0x20a5cf),_0x3aed66=_0x553e58(0x61a)+_0x20a5cf);let _0x4a5ed0=this[_0x553e58(0x74f)][_0x553e58(0x158)]('SERVER')[_0x553e58(0x262)];if(!_0x4a5ed0){let _0x416232=this['configService'][_0x553e58(0x158)](_0x553e58(0x3e4));_0x4a5ed0=_0x553e58(0x331)+(_0x416232&&_0x416232[_0x553e58(0x740)]['split']('/')[0x4]);}_0x3aed66=''+_0x4a5ed0+_0x3aed66;let _0xc8ba05=0xc*0x3c*0x3c*0x3e8,_0x2a87ad={'where':{'_id':_0x35f4cd['key']['id']}},_0x3f0967={'message_normalized.fileUrl':_0x3aed66,'message_normalized.expires_fileUrl':Date[_0x553e58(0x79b)]()+_0xc8ba05};try{let _0x591d08=await this['repository'][_0x553e58(0x71e)][_0x553e58(0x338)](_0x2a87ad,_0x3f0967,this[_0x553e58(0x3b2)][_0x553e58(0x542)]);_0x591d08&&J(this[_0x553e58(0x621)],_0x553e58(0x19a),{'message':_0x591d08});}catch(_0x417ffe){this[_0x553e58(0x367)]['error'](this[_0x553e58(0x621)]+'\x20('+this['instance'][_0x553e58(0x542)]+'):\x20'+(_0x417ffe instanceof Error?_0x417ffe['message']:JSON['stringify'](_0x417ffe,null,0x2)));}return{'mediaType':_0x2b1c9c,'fileName':_0x5f3b05[_0x553e58(0x463)],'caption':_0x5f3b05[_0x553e58(0x527)],'size':{'fileLength':_0x5f3b05[_0x553e58(0x5f1)],'height':_0x5f3b05[_0x553e58(0x4f4)],'width':_0x5f3b05['width']},'mimetype':_0x5f3b05[_0x553e58(0x5fd)],'base64':_0x391992['toString'](_0x553e58(0x135)),'fileUrl':_0x3aed66,'expires_fileUrl':Date[_0x553e58(0x79b)]()+_0xc8ba05};}catch(_0x7f8a7b){throw this[_0x553e58(0x367)][_0x553e58(0x5e0)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x553e58(0x383)+(_0x7f8a7b instanceof Error?_0x7f8a7b[_0x553e58(0x71e)]:JSON['stringify'](_0x7f8a7b,null,0x2))),new m(_0x7f8a7b[_0x553e58(0x390)]());}}async[a0_0x20d441(0x47d)](_0x110473,_0x358f3b){const _0x4f7167=a0_0x20d441;let _0x3344b1=F['default'][_0x4f7167(0x686)](__dirname,_0x4f7167(0x5c1));L[_0x4f7167(0x5db)](_0x3344b1)||L[_0x4f7167(0x582)](_0x3344b1,{'recursive':!0x0});let _0xf6b163=F['default']['join'](_0x3344b1,_0x358f3b);return new Promise((_0x457c3a,_0x5d104e)=>{const _0x4bb0cd=_0x4f7167;L[_0x4bb0cd(0x5b5)](_0xf6b163,_0x110473,_0x153d33=>{const _0x381532=_0x4bb0cd;_0x153d33?(this[_0x381532(0x367)][_0x381532(0x5e0)](_0x381532(0x2c0)+(_0x153d33 instanceof Error?_0x153d33[_0x381532(0x71e)]:JSON[_0x381532(0x625)](_0x153d33,null,0x2))),_0x5d104e(_0x153d33)):(this['logger'][_0x381532(0x3a8)](_0x381532(0x4fe)+_0xf6b163),_0x457c3a(_0xf6b163));});});}async[a0_0x20d441(0x1c9)](_0x3df565){const _0x291fea=a0_0x20d441;return await this[_0x291fea(0x356)][_0x291fea(0x377)]['find'](_0x3df565,this[_0x291fea(0x3b2)]['wuid']);}async[a0_0x20d441(0x52e)](){const _0x17f0cc=a0_0x20d441;return await this['repository'][_0x17f0cc(0x5f4)][_0x17f0cc(0x466)]({'where':{}},this['instance'][_0x17f0cc(0x542)]);}async[a0_0x20d441(0x36e)](_0x11a45e){const _0x5032d4=a0_0x20d441;return await this[_0x5032d4(0x356)][_0x5032d4(0x71e)][_0x5032d4(0x466)](_0x11a45e,this[_0x5032d4(0x3b2)][_0x5032d4(0x542)]);}async[a0_0x20d441(0x374)](){const _0x175998=a0_0x20d441;return this['repository'][_0x175998(0x224)][_0x175998(0x449)](this['instance']['wuid']),this[_0x175998(0x356)][_0x175998(0x224)][_0x175998(0x251)](this[_0x175998(0x3b2)][_0x175998(0x542)]),this[_0x175998(0x356)][_0x175998(0x224)]['updateMissingTags'](this['instance'][_0x175998(0x542)]),this[_0x175998(0x356)][_0x175998(0x224)]['updateMissingCustomFields'](this[_0x175998(0x3b2)][_0x175998(0x542)]),await this[_0x175998(0x356)]['chat'][_0x175998(0x466)]({'where':{}},this[_0x175998(0x3b2)][_0x175998(0x542)]);}async['importChatsAntigo'](_0x336289){const _0x488d66=a0_0x20d441;try{if(!Array['isArray'](_0x336289)||_0x336289[_0x488d66(0x280)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x22fe40=[],_0xdcef3e=[];for(let _0xe5d132 of _0x336289){if(_0xe5d132['_id'])_0xe5d132[_0x488d66(0x749)]=this['createJid'](_0xe5d132['_id']);else continue;await this[_0x488d66(0x356)]['chat'][_0x488d66(0x1ca)]({'where':{'_id':_0xe5d132[_0x488d66(0x749)]}},this[_0x488d66(0x3b2)]['wuid'])?_0xdcef3e['push']({'_id':_0xe5d132[_0x488d66(0x749)],'leadInfo':_0xe5d132['leadInfo'],'owner':this[_0x488d66(0x3b2)][_0x488d66(0x542)]}):_0x22fe40[_0x488d66(0x4cf)]({'_id':_0xe5d132['_id'],'owner':this[_0x488d66(0x3b2)][_0x488d66(0x542)],'leadInfo':_0xe5d132[_0x488d66(0x57f)],'imported':!0x0});}return _0xdcef3e[_0x488d66(0x280)]>0x0&&await this[_0x488d66(0x356)]['chat']['updateMany'](_0xdcef3e['map'](_0xebfe49=>({'query':{'where':{'_id':_0xebfe49[_0x488d66(0x749)],'owner':this[_0x488d66(0x3b2)]['wuid']}},'update':_0xebfe49}))),_0x22fe40[_0x488d66(0x280)]>0x0&&await this[_0x488d66(0x356)]['chat']['insertMany'](_0x22fe40,this[_0x488d66(0x3b2)][_0x488d66(0x542)]),{'updated':_0xdcef3e[_0x488d66(0x280)],'inserted':_0x22fe40[_0x488d66(0x280)]};}catch(_0x4bb72d){throw console[_0x488d66(0x5e0)](_0x488d66(0x65d),_0x4bb72d),_0x4bb72d;}}async[a0_0x20d441(0x602)](_0x15ab27){const _0x3ffbb0=a0_0x20d441;try{if(!Array[_0x3ffbb0(0x190)](_0x15ab27)||_0x15ab27[_0x3ffbb0(0x280)]===0x0)throw new Error(_0x3ffbb0(0x6aa));let _0x30bed2=0x64,_0x7de368=0x0;for(let _0x5ad9f4=0x0;_0x5ad9f4<_0x15ab27[_0x3ffbb0(0x280)];_0x5ad9f4+=_0x30bed2){let _0x32847e=_0x15ab27['slice'](_0x5ad9f4,_0x5ad9f4+_0x30bed2),{updated:_0x149bb5}=await this[_0x3ffbb0(0x442)](_0x32847e);_0x7de368+=_0x149bb5;}return{'updated':_0x7de368};}catch(_0x30ee9c){throw console[_0x3ffbb0(0x5e0)](_0x3ffbb0(0x65d),_0x30ee9c),_0x30ee9c;}}async[a0_0x20d441(0x442)](_0x46f3df){const _0x4ca931=a0_0x20d441;try{let _0x19d4f7=await this[_0x4ca931(0x356)][_0x4ca931(0x5f4)][_0x4ca931(0x466)]({'where':{}},this[_0x4ca931(0x3b2)][_0x4ca931(0x542)]),_0xb7bcbc=new Set(_0x19d4f7[_0x4ca931(0x6b3)](_0x2d83b7=>_0x2d83b7[_0x4ca931(0x749)])),_0x49ecc1=[],_0x26a70b=[];for(let _0x244ff9 of _0x46f3df){if(!_0x244ff9[_0x4ca931(0x749)])continue;_0x244ff9['_id']=this['createJid'](_0x244ff9[_0x4ca931(0x749)]);let _0x304b4f=await this[_0x4ca931(0x356)][_0x4ca931(0x224)][_0x4ca931(0x1ca)]({'where':{'_id':_0x244ff9[_0x4ca931(0x749)]}},this[_0x4ca931(0x3b2)]['wuid']),_0xbebdfc={};if(Object[_0x4ca931(0x28c)](_0x244ff9[_0x4ca931(0x57f)])[_0x4ca931(0x3ce)](([_0x230dab,_0x31857d])=>{_0xbebdfc['leadInfo.'+_0x230dab]=_0x31857d;}),_0x304b4f&&!_0x304b4f['imported']){let _0x238702=(_0x244ff9[_0x4ca931(0x57f)][_0x4ca931(0x5ab)]||[])[_0x4ca931(0x2a6)](_0x5e5cea=>_0xb7bcbc[_0x4ca931(0x4e9)](_0x5e5cea)),_0x2c6bbd=new Set(_0x304b4f[_0x4ca931(0x57f)][_0x4ca931(0x5ab)]||[]),_0x118d72=_0x238702[_0x4ca931(0x2a6)](_0x3ecd14=>!_0x2c6bbd[_0x4ca931(0x4e9)](_0x3ecd14)),_0x51bc94=[..._0x2c6bbd][_0x4ca931(0x2a6)](_0x49542f=>!_0x238702['includes'](_0x49542f));_0x26a70b[_0x4ca931(0x4cf)](..._0x118d72[_0x4ca931(0x6b3)](_0xd8b470=>this['AddChatLabel'](_0xd8b470,_0x244ff9[_0x4ca931(0x749)]))),_0x26a70b[_0x4ca931(0x4cf)](..._0x51bc94[_0x4ca931(0x6b3)](_0x202cfe=>this[_0x4ca931(0x60f)](_0x202cfe,_0x244ff9['_id']))),_0x244ff9[_0x4ca931(0x57f)]['etiquetas']=_0x238702,_0x49ecc1[_0x4ca931(0x4cf)]({'query':{'where':{'_id':_0x244ff9[_0x4ca931(0x749)],'owner':this['instance'][_0x4ca931(0x542)]}},'update':_0xbebdfc});}else _0xbebdfc['imported']=!0x0,_0x49ecc1['push']({'query':{'where':{'_id':_0x244ff9[_0x4ca931(0x749)],'owner':this[_0x4ca931(0x3b2)]['wuid']}},'update':_0xbebdfc});}let _0x189439=await this[_0x4ca931(0x356)][_0x4ca931(0x224)]['updateMany'](_0x49ecc1);return await Promise[_0x4ca931(0x5a5)](_0x26a70b),{'updated':_0x189439};}catch(_0x4fc15e){throw console['error'](_0x4ca931(0x65d),_0x4fc15e),_0x4fc15e;}}async[a0_0x20d441(0x3bf)](){const _0x5d37c5=a0_0x20d441;return await this[_0x5d37c5(0x144)]['fetchPrivacySettings']();}async[a0_0x20d441(0x375)](_0x277ebc){const _0x2ee28c=a0_0x20d441;try{return await this[_0x2ee28c(0x144)][_0x2ee28c(0x444)](_0x277ebc[_0x2ee28c(0x5b4)][_0x2ee28c(0x39d)]),await this[_0x2ee28c(0x144)]['updateProfilePicturePrivacy'](_0x277ebc[_0x2ee28c(0x5b4)][_0x2ee28c(0x6f9)]),await this[_0x2ee28c(0x144)][_0x2ee28c(0x4e7)](_0x277ebc[_0x2ee28c(0x5b4)][_0x2ee28c(0x425)]),await this[_0x2ee28c(0x144)][_0x2ee28c(0x1c5)](_0x277ebc[_0x2ee28c(0x5b4)][_0x2ee28c(0x28d)]),await this[_0x2ee28c(0x144)]['updateLastSeenPrivacy'](_0x277ebc[_0x2ee28c(0x5b4)][_0x2ee28c(0x6be)]),await this[_0x2ee28c(0x144)][_0x2ee28c(0x2f2)](_0x277ebc[_0x2ee28c(0x5b4)][_0x2ee28c(0x225)]),this[_0x2ee28c(0x144)]?.['ws']?.['close'](),{'update':_0x2ee28c(0x674),'data':{'readreceipts':_0x277ebc[_0x2ee28c(0x5b4)]['readreceipts'],'profile':_0x277ebc['privacySettings'][_0x2ee28c(0x6f9)],'status':_0x277ebc['privacySettings'][_0x2ee28c(0x425)],'online':_0x277ebc[_0x2ee28c(0x5b4)]['online'],'last':_0x277ebc['privacySettings']['last'],'groupadd':_0x277ebc['privacySettings'][_0x2ee28c(0x225)]}};}catch(_0xe1baf9){throw new O('Error\x20updating\x20privacy\x20settings',_0xe1baf9[_0x2ee28c(0x390)]());}}async[a0_0x20d441(0x2f8)](_0x1bdfed){const _0x4d7bc8=a0_0x20d441;let _0x2cf346=_0x1bdfed?this['createJid'](_0x1bdfed):this[_0x4d7bc8(0x144)]?.[_0x4d7bc8(0x19b)]?.['id'];this[_0x4d7bc8(0x367)][_0x4d7bc8(0x411)]('Getting\x20profile\x20with\x20jid:\x20'+_0x2cf346);try{if(this[_0x4d7bc8(0x367)]['verbose'](_0x4d7bc8(0x5d2)),_0x1bdfed){let _0x54ec48=(await this[_0x4d7bc8(0x160)]({'numbers':[_0x2cf346]}))?.[_0x4d7bc8(0x4a5)](),_0x47dd13=await this['profilePicture'](_0x54ec48?.['jid']),_0x46a9d9=await this['getStatus'](_0x54ec48?.['jid']),_0x5bec53=await this['fetchBusinessProfile'](_0x54ec48?.[_0x4d7bc8(0x54f)]);return{'wuid':_0x54ec48?.[_0x4d7bc8(0x54f)]||_0x2cf346,'name':_0x54ec48?.[_0x4d7bc8(0x6cb)],'numberExists':_0x54ec48?.['exists'],'picture':_0x47dd13?.[_0x4d7bc8(0x4d1)],'status':_0x46a9d9?.[_0x4d7bc8(0x425)],'isBusiness':_0x5bec53[_0x4d7bc8(0x325)],'email':_0x5bec53?.[_0x4d7bc8(0x26a)],'description':_0x5bec53?.[_0x4d7bc8(0x6a1)],'website':_0x5bec53?.[_0x4d7bc8(0x396)]?.['shift']()};}}catch{return this['logger'][_0x4d7bc8(0x411)](_0x4d7bc8(0x6c5)),{'wuid':_0x2cf346,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x20d441(0x3b5)](_0x15f751){const _0x408cd6=a0_0x20d441;let _0x25f9b7=(_0x15f751?this[_0x408cd6(0x710)](_0x15f751):this[_0x408cd6(0x144)]?.['user']?.['id'])[_0x408cd6(0x797)](/:\d{1,2}@/g,'@');this[_0x408cd6(0x367)][_0x408cd6(0x411)](_0x408cd6(0x2c8)+_0x25f9b7);let _0x502fd5=await this[_0x408cd6(0x356)][_0x408cd6(0x377)][_0x408cd6(0x1ca)]({'where':{'_id':_0x25f9b7}},this[_0x408cd6(0x3b2)][_0x408cd6(0x542)]),_0x3f97ab=_0x502fd5?_0x502fd5[_0x408cd6(0x74a)]:null;try{let _0x5ecc8d=(await this[_0x408cd6(0x160)]({'numbers':[_0x25f9b7]}))?.[_0x408cd6(0x4a5)](),_0x51763b=await this[_0x408cd6(0x5e7)](_0x5ecc8d?.['jid']),_0x49a8c8=await this[_0x408cd6(0x2ea)](_0x5ecc8d?.[_0x408cd6(0x54f)]),_0x172171=await this[_0x408cd6(0x6b0)](_0x5ecc8d?.[_0x408cd6(0x54f)]),_0x5f38bf=await this['repository'][_0x408cd6(0x224)][_0x408cd6(0x1ca)]({'where':{'_id':_0x25f9b7}},this['instance'][_0x408cd6(0x542)]),_0x1b6311={'imagechat':_0x51763b?.['profilePictureUrl'],'contactname':_0x3f97ab||null,'status':_0x49a8c8?.['status'],'isBusiness':_0x172171[_0x408cd6(0x325)],'email':_0x172171?.['email'],'description':_0x172171?.[_0x408cd6(0x6a1)],'website':_0x172171?.[_0x408cd6(0x396)]?.[_0x408cd6(0x4a5)](),'lastcache':Date[_0x408cd6(0x79b)](),'imported':!_0x5f38bf},_0x42729c=await this['repository'][_0x408cd6(0x224)][_0x408cd6(0x590)]({'where':{'_id':_0x25f9b7}},_0x1b6311,this[_0x408cd6(0x3b2)][_0x408cd6(0x542)]),_0x2fd016={'owner':this[_0x408cd6(0x3b2)][_0x408cd6(0x542)],'_id':_0x25f9b7,'profilePictureUrl':_0x51763b?.[_0x408cd6(0x4d1)],'status':_0x49a8c8?.[_0x408cd6(0x425)]};return this[_0x408cd6(0x356)][_0x408cd6(0x377)]['update']([_0x2fd016],this[_0x408cd6(0x3b2)]['wuid']),_0x42729c&&J(this[_0x408cd6(0x621)],'chats',{'chat':_0x42729c}),{'wuid':_0x5ecc8d?.[_0x408cd6(0x54f)]||_0x25f9b7,'name':_0x5ecc8d?.[_0x408cd6(0x6cb)],'numberExists':_0x5ecc8d?.[_0x408cd6(0x48c)],'picture':_0x51763b?.[_0x408cd6(0x4d1)],'status':_0x49a8c8?.[_0x408cd6(0x425)],'isBusiness':_0x172171[_0x408cd6(0x325)],'email':_0x172171?.[_0x408cd6(0x26a)],'description':_0x172171?.[_0x408cd6(0x6a1)],'website':_0x172171?.[_0x408cd6(0x396)]?.[_0x408cd6(0x4a5)]()};}catch(_0x11f4dd){return this[_0x408cd6(0x367)]['error'](_0x408cd6(0x477)+(_0x11f4dd instanceof Error?_0x11f4dd[_0x408cd6(0x71e)]:JSON[_0x408cd6(0x625)](_0x11f4dd,null,0x2))),{};}}async[a0_0x20d441(0x6b0)](_0x1f0629){const _0x1bf010=a0_0x20d441;this[_0x1bf010(0x367)]['verbose'](_0x1bf010(0x689));try{let _0x59e63f=_0x1f0629?this[_0x1bf010(0x710)](_0x1f0629):this['instance']['wuid'],_0x214981=await this[_0x1bf010(0x144)][_0x1bf010(0x156)](_0x59e63f);return this[_0x1bf010(0x367)]['verbose'](_0x1bf010(0x663)),_0x214981?(this[_0x1bf010(0x367)]['verbose'](_0x1bf010(0x434)),{'isBusiness':!0x0,..._0x214981}):{'isBusiness':!0x1,'message':_0x1bf010(0x4da),...(await this[_0x1bf010(0x160)]({'numbers':[_0x59e63f]}))?.[_0x1bf010(0x4a5)]()};}catch(_0x1e758a){throw new O('Error\x20updating\x20profile\x20name',_0x1e758a['toString']());}}async[a0_0x20d441(0x2ea)](_0x28714c){const _0x583cb4=a0_0x20d441;let _0x3b591d=this[_0x583cb4(0x710)](_0x28714c);try{return{'wuid':_0x3b591d,'status':(await this[_0x583cb4(0x144)][_0x583cb4(0x153)](_0x3b591d))?.['status']};}catch{return{'wuid':_0x3b591d,'status':null};}}async[a0_0x20d441(0x56c)](_0x1a8b76){const _0x287b6a=a0_0x20d441;try{return await this[_0x287b6a(0x144)][_0x287b6a(0x56c)](_0x1a8b76),{'update':_0x287b6a(0x674)};}catch(_0x4eb1c9){throw new O(_0x287b6a(0x5b3),_0x4eb1c9['toString']());}}async['updateProfileStatus'](_0x4f49d3){const _0x497945=a0_0x20d441;try{return await this[_0x497945(0x144)][_0x497945(0x5df)](_0x4f49d3),{'update':_0x497945(0x674)};}catch(_0x15cc4b){throw new O(_0x497945(0x46f),_0x15cc4b[_0x497945(0x390)]());}}async[a0_0x20d441(0x60e)](_0xc6ab57){const _0x525430=a0_0x20d441;try{let _0x40d9d4;if((0x0,k[_0x525430(0x74c)])(_0xc6ab57)){let _0x395fb9=new Date()['getTime'](),_0x101189=_0xc6ab57+_0x525430(0x587)+_0x395fb9;_0x40d9d4=(await se['default'][_0x525430(0x158)](_0x101189,{'responseType':'arraybuffer'}))[_0x525430(0x299)];}else{if((0x0,k[_0x525430(0x2e4)])(_0xc6ab57))_0x40d9d4=Buffer[_0x525430(0x31a)](_0xc6ab57,_0x525430(0x135));else throw new m(_0x525430(0x67c));}return await this[_0x525430(0x144)][_0x525430(0x60e)](this['instance'][_0x525430(0x542)],_0x40d9d4),{'update':_0x525430(0x674)};}catch(_0xaf6a79){throw new O(_0x525430(0x228),_0xaf6a79[_0x525430(0x390)]());}}async[a0_0x20d441(0x1f8)](){const _0xef4d5f=a0_0x20d441;try{return await this[_0xef4d5f(0x144)]['removeProfilePicture'](this[_0xef4d5f(0x3b2)][_0xef4d5f(0x542)]),{'update':_0xef4d5f(0x674)};}catch(_0xb2b3c9){throw new O(_0xef4d5f(0x6c4),_0xb2b3c9[_0xef4d5f(0x390)]());}}async[a0_0x20d441(0x3c4)](_0x364125){const _0x1b2572=a0_0x20d441;try{let _0x48eb9b=_0x364125[_0x1b2572(0x68f)][_0x1b2572(0x6b3)](_0x59adfb=>this['createJid'](_0x59adfb)),{id:_0xcb40bd}=await this['client'][_0x1b2572(0x533)](_0x364125['subject'],_0x48eb9b);return _0x364125?.[_0x1b2572(0x6a1)]&&await this['client'][_0x1b2572(0x291)](_0xcb40bd,_0x364125[_0x1b2572(0x6a1)]),{'metadata':await this['client'][_0x1b2572(0x528)](_0xcb40bd)};}catch(_0x2ef3ba){throw this[_0x1b2572(0x367)]['error'](this[_0x1b2572(0x621)]+'\x20('+this[_0x1b2572(0x3b2)][_0x1b2572(0x542)]+_0x1b2572(0x383)+(_0x2ef3ba instanceof Error?_0x2ef3ba[_0x1b2572(0x71e)]:JSON[_0x1b2572(0x625)](_0x2ef3ba,null,0x2))),new O(_0x1b2572(0x772),_0x2ef3ba['toString']());}}async[a0_0x20d441(0x559)](_0x1b6ee0){const _0x14b1f5=a0_0x20d441;try{let _0xca0015;if((0x0,k[_0x14b1f5(0x74c)])(_0x1b6ee0[_0x14b1f5(0x150)])){let _0x11e8e1=new Date()[_0x14b1f5(0x202)](),_0xadbf39=_0x1b6ee0[_0x14b1f5(0x150)]+_0x14b1f5(0x587)+_0x11e8e1;_0xca0015=(await se['default'][_0x14b1f5(0x158)](_0xadbf39,{'responseType':_0x14b1f5(0x548)}))[_0x14b1f5(0x299)];}else{if((0x0,k[_0x14b1f5(0x2e4)])(_0x1b6ee0[_0x14b1f5(0x150)]))_0xca0015=Buffer[_0x14b1f5(0x31a)](_0x1b6ee0[_0x14b1f5(0x150)],_0x14b1f5(0x135));else throw new m(_0x14b1f5(0x67c));}return await this[_0x14b1f5(0x144)][_0x14b1f5(0x60e)](_0x1b6ee0[_0x14b1f5(0x45c)],_0xca0015),{'update':_0x14b1f5(0x674)};}catch(_0x2e05b4){throw new O(_0x14b1f5(0x214),_0x2e05b4[_0x14b1f5(0x390)]());}}async[a0_0x20d441(0x329)](_0x2ec3c0,_0x42fcfa='out'){const _0x514f1a=a0_0x20d441;try{let _0x20e769=await this[_0x514f1a(0x144)]['groupMetadata'](_0x2ec3c0['groupJid']),_0x2515ab=null;try{_0x2515ab=(await this['profilePicture'](_0x2ec3c0[_0x514f1a(0x45c)]))[_0x514f1a(0x4d1)];}catch(_0x20f0f3){this[_0x514f1a(0x367)]['verbose'](this[_0x514f1a(0x621)]+'\x20('+this[_0x514f1a(0x3b2)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x2ec3c0[_0x514f1a(0x45c)]+':\x20'+(_0x20f0f3 instanceof Error?_0x20f0f3[_0x514f1a(0x71e)]:JSON['stringify'](_0x20f0f3,null,0x2)));}let _0x16ae0b=await this['repository']['chat'][_0x514f1a(0x590)]({'where':{'_id':_0x2ec3c0[_0x514f1a(0x45c)]}},{'imagechat':_0x2515ab,'name':_0x20e769[_0x514f1a(0x725)],'group_size':_0x20e769[_0x514f1a(0x718)],'group_announce':_0x20e769[_0x514f1a(0x1b0)],'lastcache':Date[_0x514f1a(0x79b)]()},this[_0x514f1a(0x3b2)][_0x514f1a(0x542)]);return _0x16ae0b&&J(this[_0x514f1a(0x621)],'chats',{'chat':_0x16ae0b}),{'metadata':_0x20e769,'image':_0x2515ab};}catch(_0x5a21d6){if(_0x42fcfa===_0x514f1a(0x5bd))return;throw new j(_0x514f1a(0x3b4),_0x5a21d6[_0x514f1a(0x390)]());}}async[a0_0x20d441(0x507)](_0x36c43a){const _0x69d30b=a0_0x20d441;try{return await this[_0x69d30b(0x144)][_0x69d30b(0x291)](_0x36c43a['groupJid'],_0x36c43a['description']),{'update':_0x69d30b(0x674)};}catch(_0xfc834a){throw new O(_0x69d30b(0x66a),_0xfc834a[_0x69d30b(0x390)]());}}async[a0_0x20d441(0x293)](_0xc1b5e4){const _0x47251f=a0_0x20d441;try{return await this[_0x47251f(0x144)]['groupUpdateSubject'](_0xc1b5e4[_0x47251f(0x45c)],_0xc1b5e4[_0x47251f(0x6cb)]),{'update':_0x47251f(0x674)};}catch(_0xda3ffb){throw new O('Error\x20change\x20group\x20name',_0xda3ffb[_0x47251f(0x390)]());}}async[a0_0x20d441(0x6dd)](_0x5bd450){const _0x5c73e9=a0_0x20d441;try{return await this[_0x5c73e9(0x144)][_0x5c73e9(0x2d7)](_0x5bd450['groupJid'],_0x5bd450['setting']),{'update':_0x5c73e9(0x674)};}catch(_0x24b74c){throw new O(_0x5c73e9(0x276),_0x24b74c['toString']());}}async[a0_0x20d441(0x57d)](){const _0xa440cf=a0_0x20d441;try{let _0x18d52f=[],_0x1d5918=await this[_0xa440cf(0x144)]['groupFetchAllParticipating'](),_0x594044=Object['values'](_0x1d5918),_0x15c1db=_0x594044[_0xa440cf(0x2a6)](_0x1e1e17=>(0x0,y[_0xa440cf(0x1e0)])(_0x1e1e17?.['id']))[_0xa440cf(0x6b3)](async _0x1b52e8=>{const _0x31e3cd=_0xa440cf;try{return await this[_0x31e3cd(0x144)]['profilePictureUrl'](_0x1b52e8['id'],_0x31e3cd(0x766));}catch(_0x541081){return this[_0x31e3cd(0x367)][_0x31e3cd(0x411)](this[_0x31e3cd(0x621)]+'\x20('+this[_0x31e3cd(0x3b2)][_0x31e3cd(0x542)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x1b52e8['id']+':\x20'+(_0x541081 instanceof Error?_0x541081[_0x31e3cd(0x71e)]:JSON[_0x31e3cd(0x625)](_0x541081,null,0x2))),null;}}),_0x1c40df=await Promise[_0xa440cf(0x5a5)](_0x15c1db);for(let _0x2d0760=0x0;_0x2d0760<_0x594044[_0xa440cf(0x280)];_0x2d0760++){let _0x1192f2=_0x594044[_0x2d0760];(0x0,y[_0xa440cf(0x1e0)])(_0x1192f2?.['id'])&&_0x18d52f[_0xa440cf(0x4cf)]({'groupJid':_0x1192f2?.['id'],'subject':_0x1192f2?.[_0xa440cf(0x725)],'subjectOwner':_0x1192f2?.[_0xa440cf(0x6e3)]?.['split']('@')[0x0],'subjectTime':_0x1192f2?.['subjectTime'],'size':_0x1192f2?.[_0xa440cf(0x68f)]?.['length'],'owner':_0x1192f2?.[_0xa440cf(0x76c)]?.[_0xa440cf(0x4f6)]('@')[0x0],'creation':_0x1192f2?.[_0xa440cf(0x37d)],'desc':_0x1192f2?.[_0xa440cf(0x2d6)],'restrict':_0x1192f2?.[_0xa440cf(0x6d3)],'announce':_0x1192f2?.[_0xa440cf(0x1b0)],'image':_0x1c40df[_0x2d0760]});}return _0x18d52f;}catch(_0x2bee3a){throw new j(_0xa440cf(0x3b4),_0x2bee3a[_0xa440cf(0x390)]());}}async[a0_0x20d441(0x41e)](_0x516994){const _0x3be389=a0_0x20d441;try{let _0x1283fa=await this[_0x3be389(0x144)][_0x3be389(0x588)](_0x516994['groupJid']);return{'inviteUrl':_0x3be389(0x3ac)+_0x1283fa,'inviteCode':_0x1283fa};}catch(_0x485325){throw new j(_0x3be389(0x1ec),_0x485325[_0x3be389(0x390)]());}}async[a0_0x20d441(0x2e0)](_0x2b5f92){const _0x46dd9d=a0_0x20d441;try{let _0x48230f=await this[_0x46dd9d(0x144)][_0x46dd9d(0x604)](_0x2b5f92[_0x46dd9d(0x45c)]);return{'revoked':!0x0,'inviteUrl':_0x46dd9d(0x3ac)+_0x48230f,'inviteCode':_0x48230f};}catch(_0x4a978d){throw new j(_0x46dd9d(0x32a),_0x4a978d[_0x46dd9d(0x390)]());}}async[a0_0x20d441(0x265)](_0x281398){const _0x30c4f0=a0_0x20d441;try{if((0x0,k['isURL'])(_0x281398[_0x30c4f0(0x41e)]))var _0x271c12=_0x281398[_0x30c4f0(0x41e)][_0x30c4f0(0x4f6)]('/')[0x3];else var _0x271c12=_0x281398['inviteCode'];let _0x4596bf=await this[_0x30c4f0(0x144)]['groupAcceptInvite'](_0x271c12);return this[_0x30c4f0(0x367)]['verbose'](this[_0x30c4f0(0x621)]+'\x20('+this['instance'][_0x30c4f0(0x542)]+_0x30c4f0(0x383)+_0x4596bf),{'join':!0x0,'inviteCode':_0x271c12,'groupJid':_0x4596bf};}catch(_0xa327b3){throw new j('No\x20join\x20group\x20invite\x20code\x20or\x20url',_0xa327b3[_0x30c4f0(0x390)]());}}async['findParticipants'](_0x36c7ba){const _0xa35b14=a0_0x20d441;try{return{'participants':(await this[_0xa35b14(0x144)][_0xa35b14(0x528)](_0x36c7ba[_0xa35b14(0x45c)]))['participants']};}catch(_0x2e876d){throw new j('No\x20participants',_0x2e876d[_0xa35b14(0x390)]());}}async['updateGParticipant'](_0x4494c7){const _0x438ebf=a0_0x20d441;try{let _0x4d3531=_0x4494c7['participants'][_0x438ebf(0x6b3)](_0x4af413=>this[_0x438ebf(0x710)](_0x4af413));return{'updateParticipants':await this[_0x438ebf(0x144)][_0x438ebf(0x6e1)](_0x4494c7[_0x438ebf(0x45c)],_0x4d3531,_0x4494c7['action'])};}catch(_0x1f904d){throw new m(_0x438ebf(0x335),_0x1f904d[_0x438ebf(0x390)]());}}async[a0_0x20d441(0x743)](_0x3b3cfe){const _0xe95d10=a0_0x20d441;try{let _0x2fbab8=await this[_0xe95d10(0x144)][_0xe95d10(0x29b)](_0x3b3cfe[_0xe95d10(0x45c)],_0x3b3cfe['expiration']);return{'success':!0x0};}catch(_0x1f8dd5){throw new m(_0xe95d10(0x1d7),_0x1f8dd5[_0xe95d10(0x390)]());}}async['leaveGroup'](_0x5e359f){const _0x3cc4fa=a0_0x20d441;try{return await this[_0x3cc4fa(0x144)][_0x3cc4fa(0x1dd)](_0x5e359f[_0x3cc4fa(0x45c)]),{'groupJid':_0x5e359f[_0x3cc4fa(0x45c)],'leave':!0x0};}catch(_0x400c72){throw new m('Unable\x20to\x20leave\x20the\x20group',_0x400c72['toString']());}}async[a0_0x20d441(0x254)](_0x316152){const _0xb36a5b=a0_0x20d441;return await this['sendMessageWithTyping'](_0x316152[_0xb36a5b(0x5d0)],{'poll':{'name':_0x316152[_0xb36a5b(0x254)]?.[_0xb36a5b(0x6cb)],'selectableCount':_0x316152['pollMessage'][_0xb36a5b(0x653)],'values':_0x316152[_0xb36a5b(0x254)][_0xb36a5b(0x54a)]}},_0x316152?.[_0xb36a5b(0x314)]);}async[a0_0x20d441(0x38c)](_0x3443e3){const _0x292558=a0_0x20d441;return await this[_0x292558(0x626)](_0x3443e3[_0x292558(0x5d0)],{'listMessage':{'title':_0x3443e3[_0x292558(0x38c)]['title'],'description':_0x3443e3[_0x292558(0x38c)][_0x292558(0x6a1)],'buttonText':_0x3443e3['listMessage']?.[_0x292558(0x222)],'footerText':_0x3443e3[_0x292558(0x38c)]?.['footerText'],'sections':_0x3443e3[_0x292558(0x38c)][_0x292558(0x4f9)],'listType':0x2}},_0x3443e3?.[_0x292558(0x314)]);}async['menuMessage'](_0x16d2c5){const _0x508716=a0_0x20d441;let _0x362fad;if(_0x16d2c5[_0x508716(0x43a)]['type']===_0x508716(0x58a)){let _0x4ed472=_0x16d2c5[_0x508716(0x43a)][_0x508716(0x5e5)]['indexOf']('\x0a'),_0x5b520f='',_0x3c76df='';_0x4ed472!==-0x1?(_0x5b520f=_0x16d2c5[_0x508716(0x43a)][_0x508716(0x5e5)]['substring'](0x0,_0x4ed472)['trim'](),_0x3c76df=_0x16d2c5[_0x508716(0x43a)][_0x508716(0x5e5)][_0x508716(0x748)](_0x4ed472+0x1)):_0x3c76df=_0x16d2c5[_0x508716(0x43a)][_0x508716(0x5e5)];let _0x5edc8c=this['createSectionsFromValues'](_0x16d2c5['menuMessage'][_0x508716(0x3fe)]);_0x362fad={'listMessage':{'title':_0x5b520f,'description':_0x3c76df,'buttonText':_0x16d2c5[_0x508716(0x43a)]['buttonText']||_0x508716(0x59a),'footerText':_0x16d2c5['menuMessage']['footerText'],'sections':_0x5edc8c,'listType':0x2}};}else{if(_0x16d2c5['menuMessage']['type']==='poll'){let _0x21ba31=_0x16d2c5['menuMessage'][_0x508716(0x3fe)][_0x508716(0x2a6)](_0x10c2bd=>!(_0x10c2bd[_0x508716(0x68e)]('[')&&_0x10c2bd[_0x508716(0x2a4)](']')))[_0x508716(0x6b3)](_0xd1f22=>_0xd1f22[_0x508716(0x4f6)]('\x0a')[0x0]);_0x362fad={'poll':{'name':_0x16d2c5[_0x508716(0x43a)][_0x508716(0x5e5)],'selectableCount':_0x16d2c5[_0x508716(0x43a)][_0x508716(0x653)]||0x1,'values':_0x21ba31}};}}return await this[_0x508716(0x626)](_0x16d2c5[_0x508716(0x5d0)],_0x362fad,_0x16d2c5?.[_0x508716(0x314)]);}[a0_0x20d441(0x78d)](_0x24414b){const _0x2336c8=a0_0x20d441;let _0x55eaf0=[],_0x19a961={'rows':[]};return _0x24414b[_0x2336c8(0x3ce)](_0x40bc93=>{const _0x1a8bb1=_0x2336c8;if(_0x40bc93[_0x1a8bb1(0x68e)]('[')&&_0x40bc93[_0x1a8bb1(0x2a4)](']'))_0x19a961[_0x1a8bb1(0x429)][_0x1a8bb1(0x280)]>0x0&&_0x55eaf0[_0x1a8bb1(0x4cf)](_0x19a961),_0x19a961={'title':_0x40bc93[_0x1a8bb1(0x5d9)](0x1,-0x1),'rows':[]};else{let _0x401582=_0x40bc93[_0x1a8bb1(0x4f6)]('\x0a')[_0x1a8bb1(0x6b3)](_0xf6f3c=>_0xf6f3c['trim']()),_0x2af88c=_0x401582[0x0],_0x488994=_0x401582[0x1]||null,_0x171534=_0x401582[0x2]||_0x2af88c;_0x19a961[_0x1a8bb1(0x429)][_0x1a8bb1(0x4cf)]({'title':_0x2af88c,'description':_0x488994,'rowId':_0x171534});}}),_0x19a961[_0x2336c8(0x429)][_0x2336c8(0x280)]>0x0&&_0x55eaf0[_0x2336c8(0x4cf)](_0x19a961),_0x55eaf0;}async[a0_0x20d441(0x2de)](_0x566245,_0x526003){const _0x2dbdab=a0_0x20d441;if(await this['getMessage'](_0x566245,!0x0)){let _0x2e6476={'where':{'_id':_0x566245['id']}},_0xc295fa={'status':[_0x526003['status']][0x0]};try{let _0x2c1728=await this['repository'][_0x2dbdab(0x71e)][_0x2dbdab(0x338)](_0x2e6476,_0xc295fa,this[_0x2dbdab(0x3b2)][_0x2dbdab(0x542)]);_0x2c1728&&J(this[_0x2dbdab(0x621)],_0x2dbdab(0x19a),{'message':_0x2c1728});}catch{}}}['sectionsToString'](_0x382d1a){const _0x5ad5cf=a0_0x20d441;let _0x442ce1=[];return _0x382d1a[_0x5ad5cf(0x3ce)](_0x2feba5=>{const _0x55cf93=_0x5ad5cf;_0x2feba5[_0x55cf93(0x615)]&&_0x442ce1['push']('['+_0x2feba5['title']+']'),_0x2feba5['rows'][_0x55cf93(0x3ce)](_0x478bc9=>{const _0x1dfca6=_0x55cf93;_0x442ce1[_0x1dfca6(0x4cf)](_0x478bc9['title']);});}),_0x442ce1[_0x5ad5cf(0x686)]('|');}['formatVCard'](_0x1af9d8){const _0x1ebcab=a0_0x20d441;let _0x2feb30=_0x1af9d8['replace'](/\\n/g,'\x0a')[_0x1ebcab(0x4f6)]('\x0a')[_0x1ebcab(0x2a6)](_0x3b91f1=>_0x3b91f1[_0x1ebcab(0x4c9)](_0x1ebcab(0x279))||_0x3b91f1[_0x1ebcab(0x4c9)](_0x1ebcab(0x729))),_0x47b344='';return _0x2feb30['forEach'](_0x4025b4=>{const _0x43aa8e=_0x1ebcab;let _0xc5bfc4=/TEL(?:.*):(.+)/,_0x99ba7=/EMAIL(?:.*):(.+)/,_0x4fa742=_0x4025b4[_0x43aa8e(0x248)](_0xc5bfc4),_0x37a3f5=_0x4025b4[_0x43aa8e(0x248)](_0x99ba7);if(_0x4fa742){let _0x598865=_0x4fa742[0x1][_0x43aa8e(0x797)](/-| |\+|\(|\)/g,'')['trim']();_0x47b344+=_0x43aa8e(0x199)+_0x598865+'\x0a';}else{if(_0x37a3f5){let _0x40c023=_0x37a3f5[0x1][_0x43aa8e(0x666)]();_0x47b344+=_0x43aa8e(0x712)+_0x40c023+'\x0a';}}}),_0x47b344[_0x1ebcab(0x666)]();}async['updateChatWithMessage'](_0x18b2d0,_0x433d5d,_0x24b2c9){const _0x5a56a3=a0_0x20d441;if(!_0x18b2d0[_0x5a56a3(0x478)])return;let _0x2252ce=_0x433d5d['key'][_0x5a56a3(0x290)][_0x5a56a3(0x797)](/:\d{1,2}@/g,'@'),_0x1c8229=_0x433d5d['key'][_0x5a56a3(0x43e)],_0x4899d6=_0x2252ce[_0x5a56a3(0x2a4)]('@g.us'),_0x365b6d=_0x433d5d[_0x5a56a3(0x237)]?.[_0x5a56a3(0x5e5)]||_0x433d5d[_0x5a56a3(0x237)]?.[_0x5a56a3(0x527)]||_0x433d5d['message_normalized']?.[_0x5a56a3(0x2b5)]||_0x433d5d[_0x5a56a3(0x237)]?.[_0x5a56a3(0x6cb)],_0x800cb5={'lastmsg':_0x433d5d[_0x5a56a3(0x75e)]||Date['now'](),'unreadcount':_0x1c8229?0x0:0x1,..._0x1c8229||_0x4899d6?{}:{'name':_0x433d5d[_0x5a56a3(0x74a)]},..._0x4899d6?{'group':_0x4899d6}:{}},_0x2b59e8=await this[_0x5a56a3(0x356)][_0x5a56a3(0x224)][_0x5a56a3(0x590)]({'where':{'_id':_0x2252ce}},_0x800cb5,this['instance'][_0x5a56a3(0x542)],{'new':!0x0,'upsert':!0x0});if(_0x2b59e8[_0x5a56a3(0x5b1)]){let _0x49f04f=await this[_0x5a56a3(0x356)][_0x5a56a3(0x5f4)][_0x5a56a3(0x466)]({'where':{}},this['instance']['wuid']),_0x1347f4=new Set(_0x49f04f[_0x5a56a3(0x6b3)](_0x7ac2c9=>_0x7ac2c9[_0x5a56a3(0x749)])),_0xc8ac14=(_0x2b59e8[_0x5a56a3(0x57f)]?.[_0x5a56a3(0x5ab)]||[])['filter'](_0x49f65c=>_0x1347f4['has'](_0x49f65c)),_0x271449={'leadInfo.etiquetas':_0xc8ac14,'imported':!0x1};_0x2b59e8=await this['repository'][_0x5a56a3(0x224)][_0x5a56a3(0x590)]({'where':{'_id':_0x2252ce}},_0x271449,this[_0x5a56a3(0x3b2)]['wuid']);for(let _0x2e2986 of _0xc8ac14)await this[_0x5a56a3(0x679)](_0x2e2986,_0x2252ce);}if(!_0x4899d6&&(!_0x2b59e8?.[_0x5a56a3(0x57f)]||!_0x2b59e8[_0x5a56a3(0x57f)][_0x5a56a3(0x2fe)])&&_0x433d5d[_0x5a56a3(0x74a)]&&!_0x1c8229&&(_0x2b59e8=await this[_0x5a56a3(0x356)][_0x5a56a3(0x224)][_0x5a56a3(0x590)]({'where':{'_id':_0x2252ce}},{'leadInfo.nome':_0x433d5d['pushName']},this[_0x5a56a3(0x3b2)][_0x5a56a3(0x542)],{'new':!0x0,'upsert':!0x0})),_0x24b2c9===_0x5a56a3(0x6dc)&&_0x1c8229&&this[_0x5a56a3(0x6f6)]?.[_0x5a56a3(0x685)][_0x5a56a3(0x487)]&&!_0x365b6d[_0x5a56a3(0x68e)](this['AutomateSystem']?.[_0x5a56a3(0x685)][_0x5a56a3(0x6ac)])){let _0xbf82e3=(this[_0x5a56a3(0x6f6)]?.[_0x5a56a3(0x685)][_0x5a56a3(0x691)]||0x5)*0xea60,_0x38485c=Date[_0x5a56a3(0x79b)]()+_0xbf82e3;_0x2b59e8?.[_0x5a56a3(0x57f)]?.[_0x5a56a3(0x1be)]===0x0||(await this[_0x5a56a3(0x356)][_0x5a56a3(0x224)]['updateOne']({'where':{'_id':_0x2252ce}},{'leadInfo.desativadoFluxoAte':_0x38485c},this[_0x5a56a3(0x3b2)]['wuid'],{'new':!0x0,'upsert':!0x1}),this[_0x5a56a3(0x367)]['verbose'](this[_0x5a56a3(0x621)]+'\x20('+this[_0x5a56a3(0x3b2)]['wuid']+_0x5a56a3(0x3b8)+_0x38485c+'.'));}if(_0x2b59e8)J(this['instanceName'],_0x5a56a3(0x759),{'chat':_0x2b59e8});else{this[_0x5a56a3(0x367)]['error'](this[_0x5a56a3(0x621)]+'\x20('+this['instance'][_0x5a56a3(0x542)]+_0x5a56a3(0x4e8));return;}if(!this[_0x5a56a3(0x6f6)]?.[_0x5a56a3(0x685)][_0x5a56a3(0x487)])return this[_0x5a56a3(0x367)]['verbose'](this[_0x5a56a3(0x621)]+'\x20('+this[_0x5a56a3(0x3b2)][_0x5a56a3(0x542)]+_0x5a56a3(0x443)),null;if(_0x2b59e8[_0x5a56a3(0x749)][_0x5a56a3(0x4c9)](_0x5a56a3(0x2fa))&&this[_0x5a56a3(0x6f6)]?.[_0x5a56a3(0x685)]['ignoreGroups']===!0x0)return this[_0x5a56a3(0x367)]['verbose'](this['instanceName']+'\x20('+this[_0x5a56a3(0x3b2)][_0x5a56a3(0x542)]+_0x5a56a3(0x4bb)),null;if(_0x2b59e8[_0x5a56a3(0x57f)]){if(_0x2b59e8[_0x5a56a3(0x57f)][_0x5a56a3(0x1be)]===0x0||_0x2b59e8[_0x5a56a3(0x57f)][_0x5a56a3(0x1e4)])return this[_0x5a56a3(0x367)][_0x5a56a3(0x411)](this[_0x5a56a3(0x621)]+'\x20('+this['instance'][_0x5a56a3(0x542)]+_0x5a56a3(0x6c1)+_0x2252ce+_0x5a56a3(0x56b)),null;if(_0x2b59e8[_0x5a56a3(0x57f)][_0x5a56a3(0x1be)]>Date['now']()&&!_0x433d5d[_0x5a56a3(0x237)]?.[_0x5a56a3(0x2b5)])return this['logger'][_0x5a56a3(0x411)](this[_0x5a56a3(0x621)]+'\x20('+this[_0x5a56a3(0x3b2)][_0x5a56a3(0x542)]+_0x5a56a3(0x721)+new Date(_0x2b59e8[_0x5a56a3(0x57f)]['desativadoFluxoAte'])[_0x5a56a3(0x58f)]()+_0x5a56a3(0x56b)),null;}this[_0x5a56a3(0x367)][_0x5a56a3(0x411)](this[_0x5a56a3(0x621)]+'\x20('+this[_0x5a56a3(0x3b2)][_0x5a56a3(0x542)]+_0x5a56a3(0x580)),this[_0x5a56a3(0x31f)](_0x24b2c9,_0x433d5d);}async[a0_0x20d441(0x3bb)](_0x33e66b,_0x14c4ed){const _0x22557d=a0_0x20d441;if(_0x14c4ed[_0x22557d(0x478)]){let _0x7124fe=_0x33e66b['map'](async _0x3effbd=>{const _0x25698a=_0x22557d;try{let _0x124e41={'_id':_0x3effbd[_0x25698a(0x749)],'owner':_0x3effbd[_0x25698a(0x76c)],'lastcache':0x0};if(_0x3effbd[_0x25698a(0x591)]!==null&&(_0x124e41[_0x25698a(0x591)]=_0x3effbd['group']),_0x3effbd[_0x25698a(0x6cb)]!==null&&(_0x124e41[_0x25698a(0x6cb)]=_0x3effbd['name']),_0x3effbd[_0x25698a(0x6e8)]!==null&&(_0x124e41['contactname']=_0x3effbd[_0x25698a(0x6e8)]),_0x3effbd[_0x25698a(0x14e)]!==null&&(_0x124e41['imagechat']=_0x3effbd[_0x25698a(0x14e)]),_0x3effbd[_0x25698a(0x14e)]===null&&(_0x124e41[_0x25698a(0x14e)]=_0x25698a(0x342)),_0x3effbd[_0x25698a(0x76f)]!==null&&(_0x124e41['lastmsg']=_0x3effbd[_0x25698a(0x76f)]),_0x3effbd[_0x25698a(0x3cb)]!==null&&(_0x124e41[_0x25698a(0x3cb)]=_0x3effbd[_0x25698a(0x3cb)]),_0x3effbd[_0x25698a(0x2c5)]!==null&&(_0x124e41[_0x25698a(0x2c5)]=_0x3effbd[_0x25698a(0x2c5)]),Object[_0x25698a(0x616)](_0x124e41)['length']>0x0)return await this[_0x25698a(0x356)]['chat'][_0x25698a(0x590)]({'where':{'_id':_0x3effbd[_0x25698a(0x749)]}},_0x124e41,this[_0x25698a(0x3b2)][_0x25698a(0x542)]);}catch(_0x279110){return console[_0x25698a(0x5e0)](_0x25698a(0x68d)+_0x3effbd[_0x25698a(0x749)]+':',_0x279110),null;}}),_0x527a82=(await Promise[_0x22557d(0x5a5)](_0x7124fe))['filter'](_0xe1b00c=>_0xe1b00c!==null)[_0x22557d(0x280)];this[_0x22557d(0x367)][_0x22557d(0x411)](this[_0x22557d(0x621)]+'\x20('+this[_0x22557d(0x3b2)][_0x22557d(0x542)]+_0x22557d(0x383)+_0x527a82+_0x22557d(0x3af)+this[_0x22557d(0x3b2)][_0x22557d(0x542)]+_0x22557d(0x5d7));}}async[a0_0x20d441(0x2fb)](_0x3aba55){const _0x2b029f=a0_0x20d441;this[_0x2b029f(0x367)]['verbose'](this[_0x2b029f(0x621)]+'\x20('+this['instance'][_0x2b029f(0x542)]+_0x2b029f(0x4a7));let _0x21f734={'readMessages':[{'remoteJid':_0x3aba55[_0x2b029f(0x2fc)][_0x2b029f(0x2c9)][_0x2b029f(0x59d)][_0x2b029f(0x290)],'fromMe':_0x3aba55[_0x2b029f(0x2fc)][_0x2b029f(0x2c9)][_0x2b029f(0x59d)]['fromMe'],'id':_0x3aba55[_0x2b029f(0x2fc)][_0x2b029f(0x2c9)][_0x2b029f(0x59d)]['id']}]};await this['markMessageAsRead'](_0x21f734);}async['StartBot'](_0x5a8276,_0x57651){const _0x39bc65=a0_0x20d441;try{let {key:_0x9b115c,message_normalized:_0x5cf0cf}=_0x57651,_0x17c1cb=_0x5cf0cf,_0x550f21=_0x5cf0cf[_0x39bc65(0x5e5)]||_0x5cf0cf[_0x39bc65(0x527)]||_0x5cf0cf[_0x39bc65(0x2b5)]||_0x5cf0cf[_0x39bc65(0x6cb)],_0x59bb30=_0x9b115c[_0x39bc65(0x290)],_0x454c2b;if(_0x17c1cb['key'][_0x39bc65(0x43e)]&&_0x550f21[_0x39bc65(0x666)]()!==this[_0x39bc65(0x6f6)]?.[_0x39bc65(0x685)][_0x39bc65(0x230)][_0x39bc65(0x666)]())return this[_0x39bc65(0x367)][_0x39bc65(0x411)](this[_0x39bc65(0x621)]+'\x20('+this['instance'][_0x39bc65(0x542)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.'),null;if(_0x17c1cb[_0x39bc65(0x59d)][_0x39bc65(0x43e)]&&_0x550f21[_0x39bc65(0x666)]()===this[_0x39bc65(0x6f6)]?.[_0x39bc65(0x685)][_0x39bc65(0x230)][_0x39bc65(0x666)]()){this[_0x39bc65(0x367)][_0x39bc65(0x411)](this['instanceName']+'\x20('+this['instance'][_0x39bc65(0x542)]+_0x39bc65(0x3ba));let _0x453cb3=await this[_0x39bc65(0x356)][_0x39bc65(0x3c8)][_0x39bc65(0x466)]({'remoteJid':_0x59bb30,'status':_0x39bc65(0x47b)},this[_0x39bc65(0x3b2)][_0x39bc65(0x542)]);this[_0x39bc65(0x367)][_0x39bc65(0x411)](this[_0x39bc65(0x621)]+'\x20('+this[_0x39bc65(0x3b2)][_0x39bc65(0x542)]+_0x39bc65(0x2da)+_0x453cb3);let _0x2e6273=Date[_0x39bc65(0x79b)](),_0x48c6e1;return this['AutomateSystem']?.[_0x39bc65(0x685)][_0x39bc65(0x6ef)]===0x0?_0x48c6e1={'stoppedUntil':_0x2e6273+0x7591f6200}:_0x48c6e1={'stoppedUntil':_0x2e6273+this[_0x39bc65(0x6f6)]?.[_0x39bc65(0x685)][_0x39bc65(0x6ef)]*0x3c*0x3e8},this['logger'][_0x39bc65(0x411)](this[_0x39bc65(0x621)]+'\x20('+this[_0x39bc65(0x3b2)][_0x39bc65(0x542)]+_0x39bc65(0x282)+_0x48c6e1),this['updateStopChat'](_0x454c2b,_0x48c6e1['stoppedUntil']),null;}if(_0x550f21&&_0x550f21[_0x39bc65(0x68e)](this[_0x39bc65(0x6f6)]?.[_0x39bc65(0x685)]['prefixCommand'])&&_0x550f21['length']>0x4){let _0x412f1d=await this[_0x39bc65(0x356)]['flow'][_0x39bc65(0x1ca)]({'where':{'startCommandWord':_0x550f21}},this[_0x39bc65(0x3b2)][_0x39bc65(0x542)]);if(this['logger'][_0x39bc65(0x411)](this[_0x39bc65(0x621)]+'\x20('+this[_0x39bc65(0x3b2)][_0x39bc65(0x542)]+_0x39bc65(0x171)),_0x412f1d)_0x454c2b=await this[_0x39bc65(0x157)](_0x412f1d,_0x17c1cb[_0x39bc65(0x59d)],_0x17c1cb);else return this[_0x39bc65(0x367)][_0x39bc65(0x411)](this['instanceName']+'\x20('+this[_0x39bc65(0x3b2)][_0x39bc65(0x542)]+_0x39bc65(0x6ed)),null;}else _0x454c2b=await this[_0x39bc65(0x6ab)](_0x59bb30,_0x17c1cb);if(_0x454c2b){this[_0x39bc65(0x367)][_0x39bc65(0x411)](this['instanceName']+'\x20('+this[_0x39bc65(0x3b2)][_0x39bc65(0x542)]+_0x39bc65(0x3d0)),!_0x9b115c[_0x39bc65(0x43e)]&&_0x454c2b[_0x39bc65(0x6bb)]&&this[_0x39bc65(0x2fb)](_0x454c2b);let _0x3b5ea0=await this[_0x39bc65(0x211)](_0x454c2b);_0x3b5ea0&&await this[_0x39bc65(0x3ea)](_0x454c2b,_0x3b5ea0);}}catch(_0xad62da){this[_0x39bc65(0x367)][_0x39bc65(0x5e0)](this[_0x39bc65(0x621)]+'\x20('+this[_0x39bc65(0x3b2)][_0x39bc65(0x542)]+_0x39bc65(0x309)+(_0xad62da instanceof Error?_0xad62da['message']:JSON[_0x39bc65(0x625)](_0xad62da,null,0x2)));}}[a0_0x20d441(0x43c)](_0x3b9ace,_0xdde5ea='',_0x547ef5={},_0x4cc978=!0x0){const _0x3759cc=a0_0x20d441;for(let _0x4bfa02 in _0x3b9ace){let _0xe8b6ca=_0x4cc978?'_'+_0x4bfa02:''+_0xdde5ea+_0x4bfa02;typeof _0x3b9ace[_0x4bfa02]==_0x3759cc(0x522)&&_0x3b9ace[_0x4bfa02]!==null?this[_0x3759cc(0x43c)](_0x3b9ace[_0x4bfa02],_0xe8b6ca+'.',_0x547ef5,!0x1):_0x547ef5[_0xe8b6ca]=String(_0x3b9ace[_0x4bfa02]);}return _0x547ef5;}[a0_0x20d441(0x782)](_0x82ab3d){const _0x4cf4c3=a0_0x20d441;let _0x261c92={};for(let _0x5608ca of _0x82ab3d)typeof _0x5608ca[_0x4cf4c3(0x6cb)]==_0x4cf4c3(0x6c0)&&typeof _0x5608ca['value']==_0x4cf4c3(0x6c0)&&(_0x261c92[_0x5608ca['name']]=_0x5608ca[_0x4cf4c3(0x4a6)]);return _0x261c92;}async[a0_0x20d441(0x211)](_0x369285){const _0x5bb0eb=a0_0x20d441;if(!this[_0x5bb0eb(0x6f6)]?.[_0x5bb0eb(0x685)][_0x5bb0eb(0x487)]||_0x369285[_0x5bb0eb(0x425)]!=='open'&&_0x369285[_0x5bb0eb(0x220)]==='')return null;let _0x234906=_0x369285['chatLog']['lastBlockId']||_0x5bb0eb(0x271);typeof _0x369285[_0x5bb0eb(0x2fc)]['lastCondition']>'u'&&(_0x369285[_0x5bb0eb(0x2fc)][_0x5bb0eb(0x28b)]=!0x0);let _0x4669c6=_0x369285[_0x5bb0eb(0x2fc)]['lastCondition'];this[_0x5bb0eb(0x367)]['verbose'](this['instanceName']+'\x20('+this[_0x5bb0eb(0x3b2)]['wuid']+_0x5bb0eb(0x1b2)+_0x234906+_0x5bb0eb(0x603)+_0x4669c6);let _0x27ce68=_0x234906===_0x5bb0eb(0x271)?_0x369285['blocks'][_0x5bb0eb(0x466)](_0x1b6279=>_0x1b6279[_0x5bb0eb(0x7a0)]===_0x5bb0eb(0x271)):_0x369285[_0x5bb0eb(0x510)][_0x5bb0eb(0x466)](_0x5e23cf=>_0x5e23cf[_0x5bb0eb(0x749)][_0x5bb0eb(0x390)]()===_0x234906[_0x5bb0eb(0x390)]());if(!_0x27ce68)return this[_0x5bb0eb(0x367)][_0x5bb0eb(0x5e0)](this['instanceName']+'\x20('+this[_0x5bb0eb(0x3b2)]['wuid']+_0x5bb0eb(0x5ae)+_0x234906),null;let _0x35c2d4={'_pushName':_0x369285[_0x5bb0eb(0x2fc)][_0x5bb0eb(0x2c9)][_0x5bb0eb(0x74a)],..._0x369285[_0x5bb0eb(0x2fc)]['realVariables']},_0x44f2f6=null;if(_0x369285['waitingMenu_id']){let _0x36a36c=_0x369285[_0x5bb0eb(0x2fc)][_0x5bb0eb(0x2c9)]['vote'],_0x59a65c=_0x369285['waitingMenu_replyOptions'][_0x5bb0eb(0x466)](_0x92ff6f=>_0x92ff6f[_0x5bb0eb(0x59e)]===_0x36a36c);if(_0x59a65c){let _0x46ad36=_0x59a65c[_0x5bb0eb(0x726)];if(_0x44f2f6=_0x369285[_0x5bb0eb(0x510)][_0x5bb0eb(0x466)](_0x35a40d=>_0x35a40d[_0x5bb0eb(0x4e4)]===_0x46ad36&&_0x35a40d[_0x5bb0eb(0x401)]===0x1),_0x27ce68['uazapi'][_0x5bb0eb(0x1fa)]){let _0x4c1aef={'id':_0x369285[_0x5bb0eb(0x220)],'remoteJid':_0x369285['remoteJid'],'fromMe':!0x0};await this[_0x5bb0eb(0x301)](_0x4c1aef);}if(_0x27ce68[_0x5bb0eb(0x66f)]['pollOnReplyDelete']&&_0x27ce68[_0x5bb0eb(0x66f)][_0x5bb0eb(0x3fa)]&&_0x27ce68[_0x5bb0eb(0x66f)][_0x5bb0eb(0x1f1)]===_0x5bb0eb(0x714)){let _0x306358={'number':_0x369285[_0x5bb0eb(0x290)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x369285[_0x5bb0eb(0x2ae)]+_0x5bb0eb(0x27e)+_0x36a36c}};await this[_0x5bb0eb(0x256)](_0x306358);}_0x369285[_0x5bb0eb(0x425)]='open',_0x369285[_0x5bb0eb(0x220)]='',_0x369285[_0x5bb0eb(0x2ae)]='',_0x369285[_0x5bb0eb(0x669)]=[];}else{this[_0x5bb0eb(0x367)]['verbose'](this[_0x5bb0eb(0x621)]+'\x20('+this[_0x5bb0eb(0x3b2)]['wuid']+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x41aaff={'activatedCount':_0x369285['chatLog'][_0x5bb0eb(0x459)][_0x5bb0eb(0x2a6)](_0xe14613=>String(_0xe14613[_0x5bb0eb(0x672)])===String(_0x234906))[_0x5bb0eb(0x280)],'moreLogs':[_0x5bb0eb(0x40c)]};if(_0x27ce68['uazapi'][_0x5bb0eb(0x4fb)]){let _0x4e3b2f={'number':_0x369285[_0x5bb0eb(0x290)],'options':{'delay':0x0},'textMessage':{'text':_0x27ce68['uazapi'][_0x5bb0eb(0x4fb)]}};await this[_0x5bb0eb(0x256)](_0x4e3b2f);}if(_0x27ce68[_0x5bb0eb(0x1af)]!==void 0x0&&_0x41aaff[_0x5bb0eb(0x500)]>=_0x27ce68['maxActives']){let _0x3d8eaa=Date[_0x5bb0eb(0x79b)](),_0x4e736f=_0x27ce68[_0x5bb0eb(0x578)]??0xa;isNaN(_0x4e736f)&&(_0x4e736f=0xa);let _0x5a9d95=_0x3d8eaa+_0x4e736f*0x3c*0x3e8;_0x41aaff[_0x5bb0eb(0x188)]=_0x5a9d95,_0x41aaff[_0x5bb0eb(0x1ea)][_0x5bb0eb(0x4cf)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x5bb0eb(0x717)](_0x369285,_0x5a9d95),_0x369285[_0x5bb0eb(0x220)]='',_0x369285[_0x5bb0eb(0x2ae)]='',_0x369285['waitingMenu_replyOptions']=[];}return this[_0x5bb0eb(0x40e)](_0x369285,_0x27ce68,_0x41aaff,!0x0),null;}}if(_0x4669c6&&_0x27ce68['next_groupId']&&!_0x369285['waitingMenu_id']){let _0x1c840a=_0x369285[_0x5bb0eb(0x510)][_0x5bb0eb(0x2a6)](_0x197d25=>_0x197d25[_0x5bb0eb(0x4e4)][_0x5bb0eb(0x390)]()===_0x27ce68[_0x5bb0eb(0x726)][_0x5bb0eb(0x390)]())['sort']((_0xd83c48,_0xdd074)=>_0xd83c48[_0x5bb0eb(0x401)]-_0xdd074[_0x5bb0eb(0x401)]);_0x1c840a[_0x5bb0eb(0x280)]>0x0&&(_0x44f2f6=_0x1c840a[0x0]);}if(!_0x44f2f6){let _0x4f5614=_0x27ce68[_0x5bb0eb(0x4e4)],_0x48d72d=_0x369285[_0x5bb0eb(0x510)]['filter'](_0x2a366f=>_0x2a366f[_0x5bb0eb(0x4e4)]===_0x4f5614&&_0x2a366f[_0x5bb0eb(0x401)]>_0x27ce68[_0x5bb0eb(0x401)])[_0x5bb0eb(0x42e)]((_0xf2283e,_0x5e8756)=>_0xf2283e[_0x5bb0eb(0x401)]-_0x5e8756['order']);_0x48d72d[_0x5bb0eb(0x280)]>0x0&&(_0x44f2f6=_0x48d72d[0x0]);}if(!_0x44f2f6)return _0x369285[_0x5bb0eb(0x425)]=_0x5bb0eb(0x469),null;_0x369285[_0x5bb0eb(0x2fc)]['realVariables']=_0x35c2d4;let _0x23116b=JSON['parse'](JSON[_0x5bb0eb(0x625)](_0x44f2f6));return this[_0x5bb0eb(0x4ed)](_0x23116b,_0x369285[_0x5bb0eb(0x2fc)][_0x5bb0eb(0x728)]),_0x369285[_0x5bb0eb(0x2fc)][_0x5bb0eb(0x5c7)]=_0x23116b[_0x5bb0eb(0x749)],_0x369285['chatLog'][_0x5bb0eb(0x28b)]=!0x0,_0x23116b;}['replaceVariables'](_0x505435,_0x3b4814){return _0x505435['replace'](/\{\{([^}]+)\}\}/g,(_0x339323,_0x5bf293)=>_0x3b4814[_0x5bf293]||'');}[a0_0x20d441(0x4ed)](_0x1ad698,_0xe9b496){const _0x3f18be=a0_0x20d441;for(let _0x2c79cd in _0x1ad698)typeof _0x1ad698[_0x2c79cd]==_0x3f18be(0x6c0)?_0x1ad698[_0x2c79cd]=this[_0x3f18be(0x6c3)](_0x1ad698[_0x2c79cd],_0xe9b496):typeof _0x1ad698[_0x2c79cd]==_0x3f18be(0x522)&&this[_0x3f18be(0x4ed)](_0x1ad698[_0x2c79cd],_0xe9b496);}async[a0_0x20d441(0x5b2)](_0x2b91d4,_0x4eb2f7){const _0x241179=a0_0x20d441;let _0x53db40=_0x4eb2f7[_0x241179(0x749)];if(_0x2b91d4['chatLog']&&_0x2b91d4[_0x241179(0x2fc)][_0x241179(0x459)]){let _0x245e5e=_0x2b91d4['chatLog'][_0x241179(0x459)][_0x241179(0x2a6)](_0xad80c1=>String(_0xad80c1[_0x241179(0x672)])===String(_0x53db40))[_0x241179(0x355)]();if(_0x245e5e&&_0x245e5e[_0x241179(0x5e0)]&&_0x4eb2f7['stopIfLastReturnedError'])return _0x2b91d4[_0x241179(0x425)]=_0x241179(0x469),await this['saveConversationToDatabase'](_0x2b91d4),null;}if(_0x4eb2f7['type']===_0x241179(0x66f)&&_0x4eb2f7[_0x241179(0x66f)][_0x241179(0x3e9)]===_0x241179(0x25d)&&_0x2b91d4[_0x241179(0x220)])return _0x2b91d4[_0x241179(0x2fc)][_0x241179(0x5c7)]=_0x53db40,await this['saveConversationToDatabase'](_0x2b91d4),null;let _0x10828e=await this['NextBlock'](_0x2b91d4);if(_0x2b91d4['chatLog']&&_0x2b91d4[_0x241179(0x2fc)][_0x241179(0x459)]){let _0x5ee264=_0x2b91d4[_0x241179(0x2fc)][_0x241179(0x459)][_0x241179(0x2a6)](_0x897ad6=>String(_0x897ad6[_0x241179(0x672)])===String(_0x53db40))[_0x241179(0x280)];if(_0x4eb2f7['maxActives']!==void 0x0&&_0x5ee264>=_0x4eb2f7[_0x241179(0x1af)]){let _0x10ad58=Date[_0x241179(0x79b)](),_0x2fb576=_0x4eb2f7[_0x241179(0x578)]??0xa;isNaN(_0x2fb576)&&(_0x2fb576=0xa);let _0x39d757=_0x10ad58+_0x2fb576*0x3c*0x3e8,_0x319a88={'newStoppedUntil':_0x39d757};return this[_0x241179(0x717)](_0x2b91d4,_0x39d757),this['updateConversation'](_0x2b91d4,_0x4eb2f7,_0x319a88,!0x0),null;}}_0x10828e&&_0x10828e[_0x241179(0x7a0)]!=='save'&&await this['processblock'](_0x2b91d4,_0x10828e),_0x10828e||await this[_0x241179(0x2fd)](_0x2b91d4),_0x10828e&&_0x10828e[_0x241179(0x7a0)]===_0x241179(0x46a)&&(_0x2b91d4[_0x241179(0x2fc)][_0x241179(0x5c7)]=_0x53db40,await this['saveConversationToDatabase'](_0x2b91d4));}async[a0_0x20d441(0x3ea)](_0x51dfcb,_0x2862bb){const _0x2ee2da=a0_0x20d441;try{let _0x2ee93f=_0x2862bb[_0x2ee2da(0x7a0)];this[_0x2ee2da(0x367)][_0x2ee2da(0x411)](this[_0x2ee2da(0x621)]+'\x20('+this[_0x2ee2da(0x3b2)][_0x2ee2da(0x542)]+'):\x20Going\x20to\x20'+_0x2ee93f);let _0x2525fc={'uazapi':()=>this['processUazapi'](_0x51dfcb,_0x2862bb),'save':()=>this[_0x2ee2da(0x29d)](_0x51dfcb,_0x2862bb),'stop':()=>this[_0x2ee2da(0x230)](_0x51dfcb,_0x2862bb),'condition':()=>this['processConditions'](_0x51dfcb,_0x2862bb),'varedit':()=>this[_0x2ee2da(0x4d8)](_0x51dfcb,_0x2862bb),'apirequest':()=>this[_0x2ee2da(0x4d0)](_0x51dfcb,_0x2862bb),'goToFlow':()=>this[_0x2ee2da(0x76e)](_0x51dfcb,_0x2862bb)}[_0x2ee93f];_0x2525fc&&await _0x2525fc();}catch(_0x46d2de){this[_0x2ee2da(0x367)][_0x2ee2da(0x5e0)](this['instanceName']+'\x20('+this[_0x2ee2da(0x3b2)][_0x2ee2da(0x542)]+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x46d2de instanceof Error?_0x46d2de[_0x2ee2da(0x71e)]:JSON['stringify'](_0x46d2de,null,0x2)));}}async[a0_0x20d441(0x76e)](_0x94ae6a,_0x3157eb){const _0x289c41=a0_0x20d441;if(this[_0x289c41(0x367)][_0x289c41(0x411)](this[_0x289c41(0x621)]+'\x20('+this[_0x289c41(0x3b2)][_0x289c41(0x542)]+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x94ae6a||!_0x3157eb)return this['logger'][_0x289c41(0x5e0)](this[_0x289c41(0x621)]+'\x20('+this[_0x289c41(0x3b2)][_0x289c41(0x542)]+_0x289c41(0x733)),null;await this[_0x289c41(0x40e)](_0x94ae6a,_0x3157eb,{},!0x0,!0x0),console[_0x289c41(0x3a8)](_0x289c41(0x161)),console['log'](_0x3157eb);let _0x2f9fd3=_0x3157eb[_0x289c41(0x5ca)];console['log']('flowname:\x20',_0x2f9fd3),_0x94ae6a=await this[_0x289c41(0x50a)](_0x2f9fd3,_0x94ae6a['remoteJid'],_0x94ae6a[_0x289c41(0x2fc)][_0x289c41(0x728)]),this[_0x289c41(0x367)][_0x289c41(0x411)](this[_0x289c41(0x621)]+'\x20('+this[_0x289c41(0x3b2)]['wuid']+_0x289c41(0x4c1));let _0x5cee97=await this[_0x289c41(0x211)](_0x94ae6a);_0x5cee97&&await this[_0x289c41(0x3ea)](_0x94ae6a,_0x5cee97);}async['createConversationforgoToFlow'](_0x877945,_0x23cc5d,_0x2a6c72){const _0x17fafa=a0_0x20d441;this[_0x17fafa(0x367)][_0x17fafa(0x411)](this[_0x17fafa(0x621)]+'\x20('+this[_0x17fafa(0x3b2)]['wuid']+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{if(_0x877945=await this[_0x17fafa(0x356)][_0x17fafa(0x642)][_0x17fafa(0x1ca)]({'where':{'name':_0x877945}},this[_0x17fafa(0x3b2)]['wuid']),!_0x877945)return this[_0x17fafa(0x367)]['error'](this[_0x17fafa(0x621)]+'\x20('+this[_0x17fafa(0x3b2)][_0x17fafa(0x542)]+_0x17fafa(0x38d)),null;let _0xe4319f=require(_0x17fafa(0x406))[_0x17fafa(0x5dd)],_0x1ec364=Date[_0x17fafa(0x79b)](),_0x4bb630='start',_0x462b4c={},_0x34c7b8={},_0x29ae71={..._0x877945,'chatLog':null},_0x4b80c7={'lastReceivedMessage':_0x462b4c,'lastSendMessage':_0x34c7b8,'lastBlockId':_0x4bb630,'lastCondition':!0x0,'realVariables':_0x2a6c72};_0x29ae71[_0x17fafa(0x2fc)]=_0x4b80c7,_0x29ae71[_0x17fafa(0x2fc)]['realVariables']={..._0x2a6c72},delete _0x29ae71[_0x17fafa(0x749)],_0x29ae71[_0x17fafa(0x749)]=new _0xe4319f(),_0x29ae71[_0x17fafa(0x558)]=_0x1ec364,_0x29ae71['status']=_0x17fafa(0x47b),_0x29ae71[_0x17fafa(0x290)]=_0x23cc5d;let _0x4639a6=await this['repository']['flowConversation'][_0x17fafa(0x590)](_0x29ae71[_0x17fafa(0x749)],_0x29ae71,this[_0x17fafa(0x3b2)][_0x17fafa(0x542)]);return this['logger']['verbose'](this[_0x17fafa(0x621)]+'\x20('+this[_0x17fafa(0x3b2)][_0x17fafa(0x542)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x4639a6?_0x29ae71:null;}catch(_0x296957){throw this[_0x17fafa(0x367)][_0x17fafa(0x5e0)](this[_0x17fafa(0x621)]+'\x20('+this[_0x17fafa(0x3b2)][_0x17fafa(0x542)]+_0x17fafa(0x181)+(_0x296957 instanceof Error?_0x296957['message']:JSON[_0x17fafa(0x625)](_0x296957,null,0x2))),new m(_0x296957['message']);}}async[a0_0x20d441(0x4d0)](_0x1532fc,_0x315367){const _0x1823d9=a0_0x20d441;let _0x4b049b,_0x299b67;try{let _0x254ef7=_0x315367[_0x1823d9(0x4ad)];if(!_0x254ef7||!_0x254ef7[_0x1823d9(0x704)]||!_0x254ef7['method'])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x59667f;([_0x1823d9(0x786),'https://api.openai.com/v1/images/generations','https://api.elevenlabs.io/v1/text-to-speech/'][_0x1823d9(0x3de)](_0x48d2e7=>_0x254ef7[_0x1823d9(0x704)][_0x1823d9(0x4c9)](_0x48d2e7))||_0x254ef7[_0x1823d9(0x15f)])&&(_0x59667f=_0x1823d9(0x548));let _0x1571de={'method':_0x254ef7[_0x1823d9(0x19e)],'url':_0x254ef7['url'],'headers':_0x254ef7[_0x1823d9(0x2b0)]||{},'data':_0x254ef7['body']||{},..._0x59667f&&{'responseType':_0x59667f}},_0x50f98c=await(0x0,se[_0x1823d9(0x2dd)])(_0x1571de),_0x34c7d4=_0x50f98c[_0x1823d9(0x343)][_0x1823d9(0x182)];if(_0x34c7d4&&_0x34c7d4[_0x1823d9(0x4c9)]('application/json')){_0x4b049b=_0x50f98c[_0x1823d9(0x299)];let _0x2bb074=_0x1532fc[_0x1823d9(0x2fc)]['realVariables'],_0x25acf3=this[_0x1823d9(0x43c)](_0x4b049b);return Object[_0x1823d9(0x29f)](_0x2bb074,_0x25acf3),_0x1532fc[_0x1823d9(0x2fc)][_0x1823d9(0x728)]=_0x2bb074,_0x299b67={'error':!0x1,'apiResponse':_0x4b049b},this[_0x1823d9(0x40e)](_0x1532fc,_0x315367,_0x299b67),_0x4b049b;}if(_0x34c7d4&&(_0x34c7d4['includes'](_0x1823d9(0x175))||_0x34c7d4['includes'](_0x1823d9(0x150))||_0x34c7d4[_0x1823d9(0x4c9)](_0x1823d9(0x42a))||_0x34c7d4['includes'](_0x1823d9(0x6f2)))){this[_0x1823d9(0x367)][_0x1823d9(0x411)](this[_0x1823d9(0x621)]+'\x20('+this[_0x1823d9(0x3b2)][_0x1823d9(0x542)]+_0x1823d9(0x4dc)+_0x34c7d4);let _0x572488=(0x0,Me['v4'])(),_0x2652dd='',_0x1dbfef={'image/jpeg':_0x1823d9(0x360),'image/png':_0x1823d9(0x1d2),'image/gif':'.gif','image/webp':'.webp','image/svg+xml':_0x1823d9(0x79d),'audio/mpeg':_0x1823d9(0x28f),'audio/ogg':_0x1823d9(0x62e),'audio/wav':_0x1823d9(0x445),'video/mp4':_0x1823d9(0x359),'video/webm':_0x1823d9(0x68b),'video/ogg':'.ogv','text/plain':_0x1823d9(0x5a2),'application/pdf':_0x1823d9(0x490),'application/msword':_0x1823d9(0x585),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':_0x1823d9(0x76d),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x1823d9(0x746),'application/vnd.ms-powerpoint':_0x1823d9(0x2e3),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x1823d9(0x63a)};_0x1dbfef[_0x34c7d4]?(_0x2652dd=_0x1dbfef[_0x34c7d4],this['logger'][_0x1823d9(0x411)](this['instanceName']+'\x20('+this['instance'][_0x1823d9(0x542)]+_0x1823d9(0x796)+_0x2652dd)):(_0x2652dd='.error',this[_0x1823d9(0x367)][_0x1823d9(0x411)](this[_0x1823d9(0x621)]+'\x20('+this[_0x1823d9(0x3b2)]['wuid']+'):\x20Usando\x20extensão\x20padrão:\x20'+_0x2652dd)),_0x572488+=_0x2652dd,this[_0x1823d9(0x367)][_0x1823d9(0x411)](this[_0x1823d9(0x621)]+'\x20('+this[_0x1823d9(0x3b2)][_0x1823d9(0x542)]+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0x572488);let _0x174459=this[_0x1823d9(0x74f)][_0x1823d9(0x158)](_0x1823d9(0x2ad))[_0x1823d9(0x262)];if(!_0x174459){let _0x5b7f79=this[_0x1823d9(0x74f)]['get'](_0x1823d9(0x3e4));_0x174459=_0x1823d9(0x331)+(_0x5b7f79&&_0x5b7f79['FULLCHAIN'][_0x1823d9(0x4f6)]('/')[0x4]);}let _0x468a02=Buffer[_0x1823d9(0x31a)](_0x50f98c[_0x1823d9(0x299)]);await this[_0x1823d9(0x47d)](_0x468a02,_0x572488);let _0x505fa8=_0x1823d9(0x61a)+_0x572488;_0x505fa8=''+_0x174459+_0x505fa8,_0x4b049b={'fileUrl':_0x505fa8},_0x1532fc['chatLog'][_0x1823d9(0x728)][_0x1823d9(0x488)]=_0x505fa8;let _0x40e0fd=_0x1532fc[_0x1823d9(0x2fc)][_0x1823d9(0x728)],_0x51d9ca=this[_0x1823d9(0x43c)](_0x4b049b);return Object[_0x1823d9(0x29f)](_0x40e0fd,_0x51d9ca),_0x1532fc[_0x1823d9(0x2fc)][_0x1823d9(0x728)]=_0x40e0fd,_0x299b67={'error':!0x1,'apiResponse':{'fileUrl':_0x505fa8}},this[_0x1823d9(0x40e)](_0x1532fc,_0x315367,_0x299b67),_0x4b049b;}}catch(_0x132486){console[_0x1823d9(0x5e0)]('Erro\x20ao\x20processar\x20a\x20chamada\x20API:',_0x132486),_0x132486[_0x1823d9(0x51a)]&&(_0x4b049b=_0x132486[_0x1823d9(0x51a)]['data']);let _0x75219d=_0x1532fc[_0x1823d9(0x2fc)][_0x1823d9(0x728)],_0x2a3815=this[_0x1823d9(0x43c)](_0x4b049b);return Object[_0x1823d9(0x29f)](_0x75219d,_0x2a3815),_0x1532fc[_0x1823d9(0x2fc)][_0x1823d9(0x728)]=_0x75219d,_0x299b67={'error':!0x0,'errorLog':_0x132486['toString'](),'apiResponse':_0x4b049b},this['updateConversation'](_0x1532fc,_0x315367,_0x299b67),{'success':!0x1};}}[a0_0x20d441(0x253)](_0x72cdd8,_0x184ebd){const _0x18be8c=a0_0x20d441;let _0x53f854=_0x414fae=>{const _0x3e6fa1=a0_0x731d;let _0x5e097c=_0x414fae[_0x3e6fa1(0x797)](/[^0-9.,-]/g,'')[_0x3e6fa1(0x797)](',','.'),_0x10c70f=parseFloat(_0x5e097c);return isNaN(_0x10c70f)?null:_0x10c70f;},_0xed7c8f=_0x184ebd[_0x18be8c(0x6ff)],_0x3cdfcf=_0x184ebd['secondValue'];typeof _0xed7c8f==_0x18be8c(0x6c0)&&(_0xed7c8f=this['replaceVariables'](_0xed7c8f,_0x72cdd8[_0x18be8c(0x2fc)][_0x18be8c(0x728)])??''),typeof _0x3cdfcf=='string'&&(_0x3cdfcf=this[_0x18be8c(0x6c3)](_0x3cdfcf,_0x72cdd8[_0x18be8c(0x2fc)][_0x18be8c(0x728)])??'');let _0x10d33d=null;if(!_0x184ebd[_0x18be8c(0x137)])return null;switch(this[_0x18be8c(0x367)][_0x18be8c(0x411)](this[_0x18be8c(0x621)]+'\x20('+this['instance']['wuid']+_0x18be8c(0x366)+_0xed7c8f),this[_0x18be8c(0x367)][_0x18be8c(0x411)](this[_0x18be8c(0x621)]+'\x20('+this['instance']['wuid']+_0x18be8c(0x41c)+_0x3cdfcf),_0x184ebd[_0x18be8c(0x137)]){case'+':case'-':case'*':case'/':let _0x1e12a0=_0x53f854(_0xed7c8f||'0'),_0x5b4700=_0x53f854(_0x3cdfcf||'0');if(_0x1e12a0===null)return null;switch(_0x184ebd[_0x18be8c(0x137)]){case'+':_0x10d33d=_0x1e12a0+(_0x5b4700??0x0);break;case'-':_0x10d33d=_0x1e12a0-(_0x5b4700??0x0);break;case'*':_0x10d33d=_0x1e12a0*(_0x5b4700??0x1);break;case'/':_0x5b4700!==0x0&&(_0x10d33d=_0x1e12a0/(_0x5b4700??0x1));break;}break;case _0x18be8c(0x7a1):case _0x18be8c(0x538):let _0x42f44d=_0x3cdfcf,_0x432d95=_0x184ebd[_0x18be8c(0x1a8)];if(typeof _0x432d95=='string'&&(_0x432d95=this[_0x18be8c(0x6c3)](_0x432d95,_0x72cdd8[_0x18be8c(0x2fc)][_0x18be8c(0x728)])??''),_0x42f44d&&_0x432d95!==void 0x0){let _0x16508e=_0x184ebd['editOperator']==='findAndReplace'?new RegExp(_0x42f44d[_0x18be8c(0x797)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x42f44d,'g');_0x10d33d=_0xed7c8f[_0x18be8c(0x797)](_0x16508e,_0x432d95);}else console[_0x18be8c(0x4a1)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0x18be8c(0x384):_0x10d33d=_0x3cdfcf;break;case _0x18be8c(0x3f0):let _0x2e20ce=_0xed7c8f[_0x18be8c(0x248)](new RegExp(_0x3cdfcf||''));_0x10d33d=_0x2e20ce?_0x2e20ce[0x0]:'';break;case _0x18be8c(0x45d):_0x10d33d=_0xed7c8f['slice'](0x0,parseInt(_0x3cdfcf||'0'));break;case _0x18be8c(0x15c):let _0x6d3337=parseInt(_0x3cdfcf||'0');_0x10d33d=_0xed7c8f[_0x18be8c(0x5d9)](_0xed7c8f[_0x18be8c(0x280)]-_0x6d3337);break;case _0x18be8c(0x6f4):let _0x567091=_0x53f854(_0xed7c8f),_0x2b128d=parseInt(_0x3cdfcf||'0');_0x2b128d=Math[_0x18be8c(0x170)](_0x2b128d),_0x567091!==null?_0x10d33d=_0x567091[_0x18be8c(0x58f)](_0x18be8c(0x2b2),{'minimumFractionDigits':_0x2b128d,'maximumFractionDigits':_0x2b128d}):(console[_0x18be8c(0x4a1)](_0x18be8c(0x64b)+_0xed7c8f),_0x10d33d=null);break;case _0x18be8c(0x402):let _0x155e61=_0x53f854(_0xed7c8f);_0x155e61!==null?_0x10d33d=_0x155e61['toLocaleString']('pt-BR',{'style':_0x18be8c(0x69e),'currency':_0x18be8c(0x563)}):(console[_0x18be8c(0x4a1)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0xed7c8f),_0x10d33d=null);break;case _0x18be8c(0x78b):_0x10d33d=_0xed7c8f[_0x18be8c(0x20e)]();break;case'lowerCase':_0x10d33d=_0xed7c8f['toLowerCase']();break;case'capitalizedWords':_0x10d33d=_0xed7c8f[_0x18be8c(0x4f6)]('\x20')[_0x18be8c(0x6b3)](_0x216081=>_0x216081[_0x18be8c(0x5ec)](0x0)[_0x18be8c(0x20e)]()+_0x216081[_0x18be8c(0x5d9)](0x1)[_0x18be8c(0x4d4)]())[_0x18be8c(0x686)]('\x20');break;case _0x18be8c(0x341):_0x10d33d=_0xed7c8f[_0x18be8c(0x666)]();break;default:_0x10d33d=_0xed7c8f;}return _0x10d33d!==null?_0x10d33d[_0x18be8c(0x390)]():null;}async[a0_0x20d441(0x4d8)](_0x5f4497,_0x26eea7){const _0x1f5443=a0_0x20d441;try{let _0x2a3b27=_0x5f4497[_0x1f5443(0x55b)]?.[_0x1f5443(0x2a6)](_0x2817e0=>_0x2817e0['blockId']===_0x26eea7['_id']?.[_0x1f5443(0x390)]())||[],_0x2e5622=_0x26eea7[_0x1f5443(0x394)],_0x138fa9=null,_0x1a5fc0=[],_0x132052=_0x5f4497[_0x1f5443(0x2fc)][_0x1f5443(0x728)][_0x2e5622];_0x1a5fc0['push'](_0x1f5443(0x651)+_0x132052+'\x22');for(let _0x54c738 of _0x2a3b27){_0x54c738[_0x1f5443(0x6ff)]=_0x132052,_0x138fa9=_0x54c738[_0x1f5443(0x6ff)];let _0x13b047;try{_0x13b047=this[_0x1f5443(0x253)](_0x5f4497,_0x54c738);}catch(_0x4baafc){console[_0x1f5443(0x5e0)](_0x1f5443(0x34e)+_0x4baafc[_0x1f5443(0x71e)]);continue;}if(_0x13b047!==null){let _0x529dea=_0x1f5443(0x6c6)+_0x54c738[_0x1f5443(0x137)]+'\x22',_0x12401d=[_0x1f5443(0x402),'upperCase',_0x1f5443(0x557),_0x1f5443(0x529),_0x1f5443(0x341)];_0x54c738[_0x1f5443(0x137)]===_0x1f5443(0x7a1)||_0x54c738[_0x1f5443(0x137)]===_0x1f5443(0x538)?_0x529dea+=_0x1f5443(0x480)+_0x54c738['secondValue']+_0x1f5443(0x2df)+_0x54c738[_0x1f5443(0x1a8)]+'\x22':!_0x12401d[_0x1f5443(0x4c9)](_0x54c738[_0x1f5443(0x137)])&&_0x54c738['secondValue']!==null&&_0x54c738[_0x1f5443(0x49a)]!==void 0x0&&(_0x529dea+=_0x1f5443(0x382)+_0x54c738[_0x1f5443(0x49a)]+'\x22'),_0x529dea+=_0x1f5443(0x207)+_0x13b047+'.',_0x1a5fc0[_0x1f5443(0x4cf)](_0x529dea);}_0x13b047!==null&&(_0x132052=_0x13b047);}if(_0x5f4497[_0x1f5443(0x2fc)][_0x1f5443(0x728)]&&_0x26eea7[_0x1f5443(0x394)]){_0x5f4497[_0x1f5443(0x2fc)][_0x1f5443(0x728)][_0x26eea7[_0x1f5443(0x394)]]=_0x132052;let _0x48305c={'variable':_0x26eea7[_0x1f5443(0x394)],'oldValue':_0x138fa9,'newValue':_0x132052,'moreLogs':_0x1a5fc0};try{this[_0x1f5443(0x40e)](_0x5f4497,_0x26eea7,_0x48305c);}catch(_0x30a642){console[_0x1f5443(0x5e0)](_0x1f5443(0x3da)+_0x30a642[_0x1f5443(0x71e)]);}}return _0x2e5622;}catch(_0x2d02c4){return console['error'](_0x1f5443(0x35f)+_0x2d02c4[_0x1f5443(0x71e)]),null;}}async[a0_0x20d441(0x428)](_0x314a8e,_0x53cc46){const _0xb9b559=a0_0x20d441;try{let _0x3c6b81=[],_0x3fc244=_0x314a8e['conditions'][_0xb9b559(0x2a6)](_0x32e549=>_0x32e549[_0xb9b559(0x672)]===_0x53cc46[_0xb9b559(0x749)][_0xb9b559(0x390)]()),_0x59917c=null,_0x5d981d=!0x1;for(let _0x15f331 of _0x3fc244){let _0x3c4dd9=this[_0xb9b559(0x398)](_0x314a8e,_0x15f331);_0x3c6b81[_0xb9b559(0x4cf)](_0xb9b559(0x660)+_0x15f331[_0xb9b559(0x6ff)]+_0xb9b559(0x4be)+_0x15f331[_0xb9b559(0x789)]+_0xb9b559(0x1ce)+_0x15f331[_0xb9b559(0x49a)]+_0xb9b559(0x5d4)+_0x3c4dd9),_0x59917c===null?_0x59917c=_0x3c4dd9:_0x15f331[_0xb9b559(0x61d)]===_0xb9b559(0x185)?(_0x59917c=_0x59917c&&_0x3c4dd9,_0x3c4dd9||(_0x5d981d=!0x0)):_0x15f331[_0xb9b559(0x61d)]==='or'&&(_0x5d981d||(_0x59917c=_0x59917c||_0x3c4dd9));}_0x59917c===null&&(_0x59917c=!0x0);let _0xb5340f={'moreLogs':_0x3c6b81};_0x314a8e[_0xb9b559(0x2fc)][_0xb9b559(0x28b)]=_0x59917c,await this['updateConversation'](_0x314a8e,_0x53cc46,_0xb5340f);}catch(_0x4237b3){this[_0xb9b559(0x367)][_0xb9b559(0x5e0)](this[_0xb9b559(0x621)]+'\x20('+this[_0xb9b559(0x3b2)][_0xb9b559(0x542)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x4237b3 instanceof Error?_0x4237b3[_0xb9b559(0x71e)]:JSON[_0xb9b559(0x625)](_0x4237b3,null,0x2)));}}[a0_0x20d441(0x398)](_0x516a9d,_0x3f6d9c){const _0x5ba741=a0_0x20d441;let _0x1fc9ce=_0x3f6d9c[_0x5ba741(0x6ff)],_0x5eff5b=_0x3f6d9c[_0x5ba741(0x49a)];typeof _0x1fc9ce==_0x5ba741(0x6c0)&&(_0x1fc9ce=this[_0x5ba741(0x6c3)](_0x1fc9ce,_0x516a9d['chatLog'][_0x5ba741(0x728)])??''),typeof _0x5eff5b=='string'&&(_0x5eff5b=this['replaceVariables'](_0x5eff5b,_0x516a9d[_0x5ba741(0x2fc)]['realVariables'])??'');try{switch(_0x3f6d9c[_0x5ba741(0x789)]){case _0x5ba741(0x296):return _0x1fc9ce===_0x5eff5b;case _0x5ba741(0x430):return _0x1fc9ce!==_0x5eff5b;case _0x5ba741(0x1a6):return this[_0x5ba741(0x1a6)](_0x1fc9ce,_0x5eff5b);case _0x5ba741(0x17f):return!this[_0x5ba741(0x1a6)](_0x1fc9ce,_0x5eff5b);case _0x5ba741(0x3d1):return parseFloat(_0x1fc9ce)>parseFloat(_0x5eff5b);case _0x5ba741(0x650):return parseFloat(_0x1fc9ce)<parseFloat(_0x5eff5b);case _0x5ba741(0x154):return _0x1fc9ce!=='';case _0x5ba741(0x1f2):return _0x1fc9ce==='';case _0x5ba741(0x5f3):return new RegExp(_0x5eff5b)[_0x5ba741(0x3c9)](_0x1fc9ce);case _0x5ba741(0x4c3):return!new RegExp(_0x5eff5b)['test'](_0x1fc9ce);default:return!0x1;}}catch(_0x183dd4){return console[_0x5ba741(0x5e0)](_0x5ba741(0x54d)+_0x183dd4),!0x1;}}[a0_0x20d441(0x1a6)](_0x3ee293,_0x27cf61){const _0x74d116=a0_0x20d441;if(_0x3ee293===_0x27cf61&&/^\d+$/[_0x74d116(0x3c9)](_0x3ee293))return!0x0;if(this[_0x74d116(0x4e0)](_0x3ee293)&&/^\d+$/[_0x74d116(0x3c9)](_0x27cf61)){let _0x1f8498=_0x3ee293['split'](',')['map'](_0x4540a1=>parseInt(_0x4540a1[_0x74d116(0x666)]())),_0x2ac2ef=parseInt(_0x27cf61);return _0x1f8498[_0x74d116(0x4c9)](_0x2ac2ef);}return _0x3ee293[_0x74d116(0x4c9)](_0x27cf61);}[a0_0x20d441(0x4e0)](_0x5208c0){const _0x1df107=a0_0x20d441;return/^\d+(,\d+)*$/[_0x1df107(0x3c9)](_0x5208c0);}[a0_0x20d441(0x5ce)](_0x3c12fb){const _0x313cbd=a0_0x20d441;let _0x232c94=!0x0,_0xb762ea=null;for(let _0x53922a of _0x3c12fb){let _0x2b5d24=this[_0x313cbd(0x1d5)](_0x53922a);if(_0xb762ea==='or'&&_0x2b5d24){_0x232c94=!0x0;break;}if(_0xb762ea===_0x313cbd(0x185)&&!_0x2b5d24){_0x232c94=!0x1;break;}_0xb762ea=_0x53922a[_0x313cbd(0x61d)];}return _0x232c94;}['evaluateConditionTest'](_0x8d610){const _0x511123=a0_0x20d441;let _0x59916d=_0x8d610[_0x511123(0x6ff)],_0x1f132e=_0x8d610[_0x511123(0x49a)];try{switch(_0x8d610['expression']){case _0x511123(0x296):return String(_0x59916d)===String(_0x1f132e);case _0x511123(0x430):return String(_0x59916d)!==String(_0x1f132e);case'contains':return String(_0x59916d)[_0x511123(0x4c9)](String(_0x1f132e));case _0x511123(0x17f):return!String(_0x59916d)[_0x511123(0x4c9)](String(_0x1f132e));case _0x511123(0x3d1):return parseFloat(String(_0x59916d))>parseFloat(String(_0x1f132e));case _0x511123(0x650):return parseFloat(String(_0x59916d))<parseFloat(String(_0x1f132e));case'notEmpty':return String(_0x59916d)!=='';case'empty':return String(_0x59916d)==='';case _0x511123(0x5f3):return new RegExp(String(_0x1f132e))[_0x511123(0x3c9)](String(_0x59916d));case _0x511123(0x4c3):return!new RegExp(String(_0x1f132e))[_0x511123(0x3c9)](String(_0x59916d));default:return!0x1;}}catch(_0x3be0ed){return console[_0x511123(0x5e0)](_0x511123(0x54d)+_0x3be0ed),!0x1;}}async[a0_0x20d441(0x29d)](_0x3b5bf0,_0x55d9fe){const _0x1a60e7=a0_0x20d441;if(this[_0x1a60e7(0x367)][_0x1a60e7(0x411)](this[_0x1a60e7(0x621)]+'\x20('+this[_0x1a60e7(0x3b2)][_0x1a60e7(0x542)]+_0x1a60e7(0x183)),!_0x3b5bf0||!_0x55d9fe)return this[_0x1a60e7(0x367)]['error'](this['instanceName']+'\x20('+this[_0x1a60e7(0x3b2)][_0x1a60e7(0x542)]+_0x1a60e7(0x733)),null;let _0x551522=_0x55d9fe[_0x1a60e7(0x394)],_0x1b0d81=_0x3b5bf0[_0x1a60e7(0x2fc)][_0x1a60e7(0x2c9)][_0x1a60e7(0x5e5)]||_0x3b5bf0['chatLog'][_0x1a60e7(0x2c9)][_0x1a60e7(0x527)]||_0x3b5bf0[_0x1a60e7(0x2fc)][_0x1a60e7(0x2c9)][_0x1a60e7(0x2b5)];try{_0x3b5bf0[_0x1a60e7(0x2fc)][_0x1a60e7(0x728)]||(_0x3b5bf0['chatLog'][_0x1a60e7(0x728)]={});let _0x549aee=_0x3b5bf0['chatLog'][_0x1a60e7(0x728)][_0x551522];_0x3b5bf0[_0x1a60e7(0x2fc)][_0x1a60e7(0x728)][_0x551522]=_0x1b0d81;let _0x49a167={'variable':_0x551522,'oldValue':_0x549aee,'newValue':_0x1b0d81};this[_0x1a60e7(0x40e)](_0x3b5bf0,_0x55d9fe,_0x49a167),this[_0x1a60e7(0x367)][_0x1a60e7(0x411)](this[_0x1a60e7(0x621)]+'\x20('+this[_0x1a60e7(0x3b2)]['wuid']+_0x1a60e7(0x1ff));}catch(_0x4e9be8){let _0x1acb97={'error':!0x0,'errorLog':_0x4e9be8[_0x1a60e7(0x390)]()};return this[_0x1a60e7(0x40e)](_0x3b5bf0,_0x55d9fe,_0x1acb97),this[_0x1a60e7(0x367)][_0x1a60e7(0x5e0)](this['instanceName']+'\x20('+this[_0x1a60e7(0x3b2)]['wuid']+_0x1a60e7(0x274)+(_0x4e9be8 instanceof Error?_0x4e9be8[_0x1a60e7(0x71e)]:JSON['stringify'](_0x4e9be8,null,0x2))),null;}}async[a0_0x20d441(0x230)](_0x926077,_0x14c28a){const _0x18a0a2=a0_0x20d441;if(this[_0x18a0a2(0x367)][_0x18a0a2(0x411)](this[_0x18a0a2(0x621)]+'\x20('+this[_0x18a0a2(0x3b2)][_0x18a0a2(0x542)]+_0x18a0a2(0x5fe)),!_0x926077||!_0x14c28a)return this[_0x18a0a2(0x367)][_0x18a0a2(0x5e0)](this[_0x18a0a2(0x621)]+'\x20('+this['instance'][_0x18a0a2(0x542)]+_0x18a0a2(0x733)),null;let _0x2e1703=Date[_0x18a0a2(0x79b)](),_0x5d5043=parseInt(_0x14c28a['stopMinutes'],0xa);if(isNaN(_0x5d5043))return this[_0x18a0a2(0x367)]['error'](this[_0x18a0a2(0x621)]+'\x20('+this['instance'][_0x18a0a2(0x542)]+_0x18a0a2(0x5ee)),null;let _0x546c91={'newStoppedUntil':_0x2e1703+_0x5d5043*0x3c*0x3e8};return await this[_0x18a0a2(0x40e)](_0x926077,_0x14c28a,_0x546c91,!0x0),null;}async[a0_0x20d441(0x6ad)](_0x445833,_0xd7d0b9){const _0x3fe479=a0_0x20d441;try{switch(_0xd7d0b9['uazapi'][_0x3fe479(0x3e9)]){case _0x3fe479(0x5ba):await this[_0x3fe479(0x35a)](_0x445833,_0xd7d0b9);break;case _0x3fe479(0x44b):await this[_0x3fe479(0x20f)](_0x445833,_0xd7d0b9);break;case _0x3fe479(0x64c):await this['uazapiSendLocation'](_0x445833,_0xd7d0b9);break;case _0x3fe479(0x567):await this[_0x3fe479(0x319)](_0x445833,_0xd7d0b9);break;case _0x3fe479(0x3c5):await this[_0x3fe479(0x376)](_0x445833,_0xd7d0b9);break;case'sendPoll':await this[_0x3fe479(0x5bb)](_0x445833,_0xd7d0b9);break;case _0x3fe479(0x386):await this[_0x3fe479(0x5bb)](_0x445833,_0xd7d0b9);break;case _0x3fe479(0x301):await this[_0x3fe479(0x320)](_0x445833,_0xd7d0b9);break;default:this[_0x3fe479(0x367)][_0x3fe479(0x5e0)](this[_0x3fe479(0x621)]+'\x20('+this[_0x3fe479(0x3b2)][_0x3fe479(0x542)]+_0x3fe479(0x75f)+_0xd7d0b9[_0x3fe479(0x66f)][_0x3fe479(0x3e9)]);}}catch(_0x2feedc){this[_0x3fe479(0x367)]['error'](this['instanceName']+'\x20('+this[_0x3fe479(0x3b2)][_0x3fe479(0x542)]+_0x3fe479(0x176)+(_0x2feedc instanceof Error?_0x2feedc[_0x3fe479(0x71e)]:JSON[_0x3fe479(0x625)](_0x2feedc,null,0x2)));}}async[a0_0x20d441(0x40e)](_0x1ba1f5,_0x504c4b,_0x25a085,_0xb410e=!0x1,_0x4bf091=!0x1){const _0x2522cd=a0_0x20d441;_0x1ba1f5['chatLog'][_0x2522cd(0x459)]||(_0x1ba1f5['chatLog']['blockLogs']=[]);let _0x48060c=(_0x1ba1f5[_0x2522cd(0x2fc)][_0x2522cd(0x459)]?.[_0x2522cd(0x280)]??0x0)+0x1,_0x5af27e=_0x1ba1f5[_0x2522cd(0x2fc)]['blockLogs'][_0x2522cd(0x2a6)](_0x1be0dd=>String(_0x1be0dd[_0x2522cd(0x672)])===String(_0x504c4b[_0x2522cd(0x749)]))['length']+0x1,_0xa955a8=_0x25a085?.[_0x2522cd(0x4ca)]??Date[_0x2522cd(0x79b)](),_0x58eb2a=_0x25a085?.[_0x2522cd(0x5e0)]?_0x25a085[_0x2522cd(0x57a)]??_0x25a085[_0x2522cd(0x5e0)][_0x2522cd(0x390)]():void 0x0,_0x297f53={'onTime':_0xa955a8,'blockId':_0x504c4b[_0x2522cd(0x749)],'order':_0x48060c,'activatedCount':_0x5af27e,'error':_0x25a085?.[_0x2522cd(0x5e0)]??!0x1,'messageId':_0x25a085?.[_0x2522cd(0x327)],'apiResponse':_0x25a085?.['apiResponse'],'apiResponseString':_0x25a085?.[_0x2522cd(0x690)]?JSON[_0x2522cd(0x625)](_0x25a085?.[_0x2522cd(0x690)]):void 0x0,'variable':_0x25a085?.['variable'],'oldValue':_0x25a085?.[_0x2522cd(0x37b)],'newValue':_0x25a085?.[_0x2522cd(0x297)],'newStoppedUntil':_0x25a085?.['newStoppedUntil'],'moreLogs':_0x25a085?.['moreLogs'],'errorLog':_0x58eb2a};if(_0x25a085[_0x2522cd(0x1ea)]&&_0x25a085[_0x2522cd(0x1ea)][_0x2522cd(0x280)]>0x0){let _0x1e6b20=_0x25a085[_0x2522cd(0x1ea)][_0x2522cd(0x6b3)](_0x8d684f=>this[_0x2522cd(0x19c)](_0x8d684f,_0x1ba1f5[_0x2522cd(0x2fc)]['realVariables']));_0x297f53[_0x2522cd(0x1ea)]=_0x1e6b20;}_0x1ba1f5['chatLog'][_0x2522cd(0x728)]||(_0x1ba1f5[_0x2522cd(0x2fc)][_0x2522cd(0x728)]={}),_0x1ba1f5[_0x2522cd(0x2fc)][_0x2522cd(0x728)][_0x2522cd(0x3c6)]=String(_0x5af27e),_0x1ba1f5[_0x2522cd(0x2fc)]['realVariables']['_error']=String(_0x25a085[_0x2522cd(0x5e0)]??!0x1),_0x1ba1f5[_0x2522cd(0x2fc)]['blockLogs']['push'](_0x297f53),_0x1ba1f5[_0x2522cd(0x2fc)]['lastBlockId']=_0x504c4b[_0x2522cd(0x749)][_0x2522cd(0x390)](),_0x1ba1f5[_0x2522cd(0x2fc)][_0x2522cd(0x6e4)]&&(_0x1ba1f5[_0x2522cd(0x2fc)][_0x2522cd(0x6e4)]=_0x1ba1f5['chatLog']['lastSendMessage']),_0x1ba1f5[_0x2522cd(0x2fc)]['lastReceivedMessage']&&(_0x1ba1f5[_0x2522cd(0x2fc)][_0x2522cd(0x2c9)]=_0x1ba1f5['chatLog'][_0x2522cd(0x2c9)]),_0x1ba1f5[_0x2522cd(0x2fc)][_0x2522cd(0x28b)]&&(_0x1ba1f5[_0x2522cd(0x2fc)][_0x2522cd(0x28b)]=_0x1ba1f5['chatLog'][_0x2522cd(0x28b)]),_0x4bf091&&(_0x1ba1f5[_0x2522cd(0x425)]=_0x2522cd(0x469)),_0xb410e?this['saveConversationToDatabase'](_0x1ba1f5):this['goNextblock'](_0x1ba1f5,_0x504c4b);}['replaceVariablesLogs'](_0x4b4740,_0xecd94e){const _0x31baf8=a0_0x20d441;return _0x4b4740[_0x31baf8(0x797)](/\{\{([^}]+)\}\}/g,(_0x1d3b23,_0xa70f8c)=>_0xecd94e[_0xa70f8c]?'{{'+_0xa70f8c+_0x31baf8(0x1a4)+_0xecd94e[_0xa70f8c]+'\x22':'{{'+_0xa70f8c+_0x31baf8(0x1d4));}async[a0_0x20d441(0x2fd)](_0x2d64f3){const _0x493996=a0_0x20d441;try{let _0x325ddf=Object[_0x493996(0x28c)](_0x2d64f3[_0x493996(0x2fc)][_0x493996(0x728)])[_0x493996(0x6b3)](([_0x4def07,_0x4d2c70])=>({'name':_0x4def07,'value':_0x4d2c70})),_0x29875c={'status':_0x2d64f3[_0x493996(0x425)],'blocks':_0x2d64f3[_0x493996(0x510)],'waitingMenu_id':_0x2d64f3[_0x493996(0x220)],'waitingMenu_text':_0x2d64f3[_0x493996(0x2ae)],'waitingMenu_replyOptions':_0x2d64f3[_0x493996(0x669)],'chatLog':{'lastBlockId':_0x2d64f3[_0x493996(0x2fc)][_0x493996(0x5c7)],'lastSendMessage':_0x2d64f3['chatLog'][_0x493996(0x6e4)],'lastReceivedMessage':_0x2d64f3[_0x493996(0x2fc)][_0x493996(0x2c9)],'lastCondition':_0x2d64f3[_0x493996(0x2fc)][_0x493996(0x28b)],'chatVariables':_0x325ddf,'realVariables':_0x2d64f3[_0x493996(0x2fc)][_0x493996(0x728)],'blockLogs':_0x2d64f3[_0x493996(0x2fc)][_0x493996(0x459)]}},_0x3d23a4=await this[_0x493996(0x356)]['flowConversation']['updateOne'](_0x2d64f3['_id'],_0x29875c,this[_0x493996(0x3b2)][_0x493996(0x542)]);if(_0x3d23a4){this['logger'][_0x493996(0x411)](this[_0x493996(0x621)]+'\x20('+this[_0x493996(0x3b2)]['wuid']+_0x493996(0x24a)+_0x3d23a4[_0x493996(0x749)]);try{let _0x58256f=[_0x493996(0x2fe),_0x493996(0x599),_0x493996(0x26a),'cpf',_0x493996(0x425),_0x493996(0x791),'responsavelid','tags',_0x493996(0x5ab)];if(!this[_0x493996(0x6f6)]&&(await this[_0x493996(0x799)](),!this[_0x493996(0x6f6)]))throw new Error(_0x493996(0x49d));let _0x58bcb1=this[_0x493996(0x6f6)]?.[_0x493996(0x750)][_0x493996(0x6b3)](_0x2f59f3=>_0x2f59f3['name']),_0x13db99={};Object['entries'](_0x2d64f3['chatLog'][_0x493996(0x728)])[_0x493996(0x3ce)](([_0x59650a,_0x543941])=>{const _0x5628ce=_0x493996;_0x58256f['includes'](_0x59650a)&&(_0x59650a===_0x5628ce(0x696)&&typeof _0x543941=='string'?_0x13db99[_0x59650a]=_0x543941['split'](',')[_0x5628ce(0x6b3)](_0x330bbb=>_0x330bbb[_0x5628ce(0x666)]())['filter'](_0x1eefbc=>_0x1eefbc!==''):_0x59650a==='etiquetas'&&typeof _0x543941=='string'?_0x13db99[_0x59650a]=_0x543941[_0x5628ce(0x4f6)](',')[_0x5628ce(0x6b3)](_0x58bd05=>_0x58bd05[_0x5628ce(0x666)]())[_0x5628ce(0x2a6)](_0x4a16b3=>_0x4a16b3!==''):_0x13db99[_0x59650a]=_0x543941);});let _0x11b28f=_0x2d64f3[_0x493996(0x2fc)][_0x493996(0x459)][_0x2d64f3[_0x493996(0x2fc)][_0x493996(0x459)]['length']-0x1];if(_0x11b28f){let _0x414232=_0x11b28f[_0x493996(0x188)];_0x414232!==void 0x0&&(_0x13db99[_0x493996(0x1be)]=_0x414232['toString']());}let _0x577744=_0x325ddf[_0x493996(0x2a6)](_0x3ae773=>_0x58bcb1[_0x493996(0x4c9)](_0x3ae773['name']));this[_0x493996(0x367)]['verbose'](this[_0x493996(0x621)]+'\x20('+this[_0x493996(0x3b2)]['wuid']+_0x493996(0x5a6)),this[_0x493996(0x367)]['verbose'](_0x13db99),this['logger']['verbose'](this[_0x493996(0x621)]+'\x20('+this[_0x493996(0x3b2)][_0x493996(0x542)]+_0x493996(0x41b)),this[_0x493996(0x367)][_0x493996(0x411)](_0x577744);let _0x1d7379=_0x577744[_0x493996(0x6b3)](_0x37777c=>{const _0x34acf3=_0x493996;let _0x3227d9=this[_0x34acf3(0x6f6)]?.[_0x34acf3(0x750)]['find'](_0x3cab9c=>_0x3cab9c[_0x34acf3(0x6cb)]===_0x37777c[_0x34acf3(0x6cb)]);if(!_0x3227d9)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x37777c[_0x34acf3(0x6cb)]);return{'_id':_0x3227d9[_0x34acf3(0x749)],'value':_0x37777c['value']};});this[_0x493996(0x367)]['verbose'](this['instanceName']+'\x20('+this[_0x493996(0x3b2)]['wuid']+'):\x20transformedCustomFieldVariables'),this['logger'][_0x493996(0x411)](_0x1d7379),await this[_0x493996(0x1d3)](_0x2d64f3[_0x493996(0x290)],_0x13db99,_0x1d7379);}catch(_0x450f78){this[_0x493996(0x367)][_0x493996(0x5e0)](this[_0x493996(0x621)]+'\x20('+this['instance'][_0x493996(0x542)]+_0x493996(0x368)+(_0x450f78 instanceof Error?_0x450f78[_0x493996(0x71e)]:JSON[_0x493996(0x625)](_0x450f78,null,0x2)));}}else this[_0x493996(0x367)][_0x493996(0x5e0)](this[_0x493996(0x621)]+'\x20('+this[_0x493996(0x3b2)]['wuid']+_0x493996(0x503));}catch(_0x55b973){this['logger'][_0x493996(0x5e0)](this['instanceName']+'\x20('+this[_0x493996(0x3b2)]['wuid']+_0x493996(0x798)+(_0x55b973 instanceof Error?_0x55b973[_0x493996(0x71e)]:JSON['stringify'](_0x55b973,null,0x2)));}}async[a0_0x20d441(0x1d3)](_0x428ef8,_0x83003d,_0x1bfaa7){const _0x4d7795=a0_0x20d441;try{let _0x43a867={'leadInfo.leadnome':_0x83003d[_0x4d7795(0x2fe)],'leadInfo.nomecompleto':_0x83003d[_0x4d7795(0x599)],'leadInfo.email':_0x83003d[_0x4d7795(0x26a)],'leadInfo.cpf':_0x83003d[_0x4d7795(0x519)],'leadInfo.status':_0x83003d[_0x4d7795(0x425)],'leadInfo.notas':_0x83003d[_0x4d7795(0x791)],'leadInfo.responsavelid':_0x83003d['responsavelid'],'leadInfo.tags':_0x83003d['tags'],'leadInfo.etiquetas':_0x83003d[_0x4d7795(0x5ab)],'leadInfo.customFields':_0x1bfaa7},_0xe9f401=await this[_0x4d7795(0x356)][_0x4d7795(0x224)][_0x4d7795(0x1ca)]({'where':{'_id':_0x428ef8}},this[_0x4d7795(0x3b2)][_0x4d7795(0x542)]),_0x42882c=new Set(_0xe9f401['leadInfo'][_0x4d7795(0x5ab)]||[]),_0x44107b=new Set(_0x83003d[_0x4d7795(0x5ab)]||[]),_0x3411d4=await this[_0x4d7795(0x356)][_0x4d7795(0x5f4)][_0x4d7795(0x466)]({'where':{}},this[_0x4d7795(0x3b2)][_0x4d7795(0x542)]),_0x319b9f=new Set(_0x3411d4[_0x4d7795(0x6b3)](_0x275c69=>_0x275c69[_0x4d7795(0x749)])),_0x33f165=[..._0x44107b]['filter'](_0x1df26e=>!_0x42882c[_0x4d7795(0x4e9)](_0x1df26e)&&_0x319b9f[_0x4d7795(0x4e9)](_0x1df26e)),_0x20945d=[..._0x42882c][_0x4d7795(0x2a6)](_0x10bdb6=>!_0x44107b[_0x4d7795(0x4e9)](_0x10bdb6));for(let _0x10722a of _0x33f165)await this[_0x4d7795(0x679)](_0x10722a,_0xe9f401[_0x4d7795(0x749)]),_0x42882c[_0x4d7795(0x2f7)](_0x10722a);for(let _0x1d76fa of _0x20945d)await this[_0x4d7795(0x60f)](_0x1d76fa,_0xe9f401[_0x4d7795(0x749)]),_0x42882c[_0x4d7795(0x435)](_0x1d76fa);if(_0x4d7795(0x1be)in _0x83003d){let _0x401732=_0x83003d[_0x4d7795(0x1be)];_0x43a867['leadInfo.desativadoFluxoAte']=_0x401732?Number(_0x401732):null;}let _0x1bc203=await this[_0x4d7795(0x356)]['chat'][_0x4d7795(0x590)]({'where':{'_id':_0x428ef8}},_0x43a867,this['instance'][_0x4d7795(0x542)]);_0x1bc203?(this['logger'][_0x4d7795(0x411)](this[_0x4d7795(0x621)]+'\x20('+this[_0x4d7795(0x3b2)]['wuid']+_0x4d7795(0x69d)+_0x1bc203['_id']),J(this[_0x4d7795(0x621)],_0x4d7795(0x759),{'chat':_0x1bc203})):this[_0x4d7795(0x367)][_0x4d7795(0x5e0)](this[_0x4d7795(0x621)]+'\x20('+this['instance']['wuid']+_0x4d7795(0x39a));}catch(_0xeb2932){this[_0x4d7795(0x367)]['error'](this['instanceName']+'\x20('+this[_0x4d7795(0x3b2)][_0x4d7795(0x542)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0xeb2932 instanceof Error?_0xeb2932[_0x4d7795(0x71e)]:JSON[_0x4d7795(0x625)](_0xeb2932,null,0x2)));}}async[a0_0x20d441(0x717)](_0x6eb983,_0x16565b){const _0x545ad2=a0_0x20d441;this[_0x545ad2(0x367)][_0x545ad2(0x411)](this[_0x545ad2(0x621)]+'\x20('+this[_0x545ad2(0x3b2)]['wuid']+_0x545ad2(0x497)+_0x16565b);try{let _0x3dc414=await this[_0x545ad2(0x356)][_0x545ad2(0x224)]['updateOne']({'where':{'_id':_0x6eb983['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x16565b},this[_0x545ad2(0x3b2)][_0x545ad2(0x542)]);this[_0x545ad2(0x367)][_0x545ad2(0x411)](this[_0x545ad2(0x621)]+'\x20('+this[_0x545ad2(0x3b2)][_0x545ad2(0x542)]+_0x545ad2(0x50e)+_0x6eb983[_0x545ad2(0x749)]),this[_0x545ad2(0x367)][_0x545ad2(0x411)](this[_0x545ad2(0x621)]+'\x20('+this[_0x545ad2(0x3b2)]['wuid']+'):\x20atualização\x20chat:\x20'+JSON[_0x545ad2(0x625)](_0x3dc414,null,0x2)),_0x3dc414&&J(this[_0x545ad2(0x621)],_0x545ad2(0x759),{'chat':_0x3dc414});}catch(_0x2df11f){this[_0x545ad2(0x367)][_0x545ad2(0x5e0)](this['instanceName']+'\x20('+this['instance'][_0x545ad2(0x542)]+_0x545ad2(0x629)+(_0x2df11f instanceof Error?_0x2df11f[_0x545ad2(0x71e)]:JSON[_0x545ad2(0x625)](_0x2df11f,null,0x2)));}}async[a0_0x20d441(0x662)](_0x2b424a){const _0x315ad2=a0_0x20d441;try{this['logger'][_0x315ad2(0x411)](this[_0x315ad2(0x621)]+'\x20('+this[_0x315ad2(0x3b2)]['wuid']+_0x315ad2(0x646));let _0x5bf2ae=_0x2b424a[_0x315ad2(0x797)](/\D/g,''),_0x44cfcb=await this[_0x315ad2(0x356)]['flow'][_0x315ad2(0x1ca)]({'where':{'testingWith':_0x5bf2ae}},this['instance']['wuid']);return _0x44cfcb||(this[_0x315ad2(0x367)][_0x315ad2(0x411)](this[_0x315ad2(0x621)]+'\x20('+this[_0x315ad2(0x3b2)][_0x315ad2(0x542)]+_0x315ad2(0x318)),_0x44cfcb=await this['repository']['flow']['findOne']({'where':{'default':!0x0}},this['instance']['wuid'])),_0x44cfcb||(this[_0x315ad2(0x367)][_0x315ad2(0x411)](this[_0x315ad2(0x621)]+'\x20('+this[_0x315ad2(0x3b2)][_0x315ad2(0x542)]+_0x315ad2(0x631)),null);}catch(_0x4a32c1){return this[_0x315ad2(0x367)][_0x315ad2(0x5e0)](this[_0x315ad2(0x621)]+'\x20('+this[_0x315ad2(0x3b2)][_0x315ad2(0x542)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x4a32c1 instanceof Error?_0x4a32c1[_0x315ad2(0x71e)]:JSON[_0x315ad2(0x625)](_0x4a32c1,null,0x2))),null;}}async[a0_0x20d441(0x6ab)](_0x575445,_0x406ed1){const _0x538e78=a0_0x20d441;try{let _0x1b1d10=!!_0x406ed1[_0x538e78(0x2b5)],_0x536e6e=_0x406ed1[_0x538e78(0x151)],_0x4015a8=null;if(this[_0x538e78(0x367)]['verbose'](this[_0x538e78(0x621)]+'\x20('+this['instance'][_0x538e78(0x542)]+_0x538e78(0x340)+_0x1b1d10+'\x20quoted:\x20'+_0x536e6e),_0x1b1d10){this[_0x538e78(0x367)][_0x538e78(0x411)](this[_0x538e78(0x621)]+'\x20('+this[_0x538e78(0x3b2)][_0x538e78(0x542)]+_0x538e78(0x5ea));let _0x4717f3={'where':{'remoteJid':_0x575445,'waitingMenu_id':_0x536e6e}};if(_0x4015a8=await this[_0x538e78(0x356)]['flowConversation']['findOne'](_0x4717f3,this[_0x538e78(0x3b2)][_0x538e78(0x542)]),!_0x4015a8)return this[_0x538e78(0x367)][_0x538e78(0x411)](this[_0x538e78(0x621)]+'\x20('+this['instance'][_0x538e78(0x542)]+'):\x20não\x20encontrou'),null;let _0xb4eedf=Date[_0x538e78(0x79b)](),_0x380b33=_0x4015a8?.[_0x538e78(0x4a2)]||0x0,_0x5d836f=_0xb4eedf-_0x380b33*0x3c*0x3e8;if(_0x4015a8[_0x538e78(0x558)]<_0x5d836f){this[_0x538e78(0x367)][_0x538e78(0x411)](this[_0x538e78(0x621)]+'\x20('+this[_0x538e78(0x3b2)][_0x538e78(0x542)]+_0x538e78(0x328));let _0x26bf87={'number':_0x4015a8['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x4015a8[_0x538e78(0x2b9)]}};await this[_0x538e78(0x256)](_0x26bf87);let _0x53227b={'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x538e78(0x356)]['flowConversation']['updateOne'](_0x4015a8[_0x538e78(0x749)],_0x53227b,this['instance'][_0x538e78(0x542)]),null;}return _0x4015a8[_0x538e78(0x558)]=Date[_0x538e78(0x79b)](),_0x4015a8['chatLog']['lastReceivedMessage']=_0x406ed1,_0x4015a8;}else{this[_0x538e78(0x367)][_0x538e78(0x411)](this[_0x538e78(0x621)]+'\x20('+this[_0x538e78(0x3b2)][_0x538e78(0x542)]+_0x538e78(0x383)+this[_0x538e78(0x3b2)][_0x538e78(0x542)]+_0x538e78(0x792)),this[_0x538e78(0x367)][_0x538e78(0x411)](this['instanceName']+'\x20('+this[_0x538e78(0x3b2)][_0x538e78(0x542)]+_0x538e78(0x1f5));let _0x26a7f2={'where':{'remoteJid':_0x575445,'status':'open'}};if(_0x4015a8=await this['repository'][_0x538e78(0x3c8)][_0x538e78(0x1ca)](_0x26a7f2,this[_0x538e78(0x3b2)][_0x538e78(0x542)]),!_0x4015a8){let _0xfef220=await this[_0x538e78(0x662)](_0x575445);if(_0xfef220&&(_0x4015a8=await this[_0x538e78(0x157)](_0xfef220,_0x406ed1[_0x538e78(0x59d)],_0x406ed1)),!_0x4015a8)return null;}let _0x8a4cf7=Date['now'](),_0x3a8105=_0x4015a8?.[_0x538e78(0x4a2)]||0x0,_0x39a014=_0x8a4cf7-_0x3a8105*0x3c*0x3e8;if(this[_0x538e78(0x367)]['verbose'](this[_0x538e78(0x621)]+'\x20('+this[_0x538e78(0x3b2)][_0x538e78(0x542)]+_0x538e78(0x774)+_0x8a4cf7+_0x538e78(0x418)+_0x3a8105+_0x538e78(0x5c2)+_0x39a014),this[_0x538e78(0x367)][_0x538e78(0x411)](this[_0x538e78(0x621)]+'\x20('+this[_0x538e78(0x3b2)][_0x538e78(0x542)]+_0x538e78(0x3ee)),this[_0x538e78(0x367)]['verbose'](this['instanceName']+'\x20('+this[_0x538e78(0x3b2)][_0x538e78(0x542)]+'):\x20conversation.lastInteraction:\x20'+_0x4015a8[_0x538e78(0x558)]),this['logger'][_0x538e78(0x411)](this[_0x538e78(0x621)]+'\x20('+this[_0x538e78(0x3b2)][_0x538e78(0x542)]+_0x538e78(0x1cb)+_0x39a014),_0x4015a8['lastInteraction']<_0x39a014){this[_0x538e78(0x367)][_0x538e78(0x411)](this[_0x538e78(0x621)]+'\x20('+this[_0x538e78(0x3b2)][_0x538e78(0x542)]+_0x538e78(0x2cf));let _0x162572=await this[_0x538e78(0x662)](_0x575445);if(_0x162572===null)return null;_0x4015a8&&await this[_0x538e78(0x356)][_0x538e78(0x3c8)][_0x538e78(0x590)](_0x4015a8[_0x538e78(0x749)],{'status':'closed'},this[_0x538e78(0x3b2)][_0x538e78(0x542)]),_0x4015a8=await this[_0x538e78(0x157)](_0x162572,_0x406ed1[_0x538e78(0x59d)],_0x406ed1);}return _0x4015a8['lastInteraction']=_0x8a4cf7,_0x4015a8['chatLog'][_0x538e78(0x2c9)]=_0x406ed1,_0x4015a8;}}catch(_0x4915cf){return this[_0x538e78(0x367)]['error'](this[_0x538e78(0x621)]+'\x20('+this[_0x538e78(0x3b2)]['wuid']+_0x538e78(0x1ab)+(_0x4915cf instanceof Error?_0x4915cf[_0x538e78(0x71e)]:JSON[_0x538e78(0x625)](_0x4915cf,null,0x2))),null;}}async[a0_0x20d441(0x157)](_0x5dc417,_0xbf2f3a,_0x18ec96){const _0x3512cf=a0_0x20d441;this[_0x3512cf(0x367)]['verbose'](this[_0x3512cf(0x621)]+'\x20('+this[_0x3512cf(0x3b2)][_0x3512cf(0x542)]+_0x3512cf(0x785));try{let _0x328c6f=require(_0x3512cf(0x406))['ObjectId'],_0x1abf19=Date['now'](),_0x3d31c9=_0x3512cf(0x271),_0x2d8ea1=_0xbf2f3a[_0x3512cf(0x43e)]?null:_0x18ec96,_0x235481=_0xbf2f3a[_0x3512cf(0x43e)]?_0x18ec96:null,_0x2e2897=_0xbf2f3a[_0x3512cf(0x290)];await this[_0x3512cf(0x32f)](_0x2e2897);let _0x2b88fc={..._0x5dc417,'chatLog':null},_0x47762c=await this[_0x3512cf(0x782)](_0x2b88fc[_0x3512cf(0x1dc)]),_0x556231=await this['getVariablesChat'](_0x2e2897),_0x3566b0={..._0x47762c,..._0x556231,'_remoteJid':_0x2e2897},_0x4455e9={'lastReceivedMessage':_0x2d8ea1,'lastSendMessage':_0x235481,'lastBlockId':_0x3d31c9,'lastCondition':!0x0,'realVariables':_0x3566b0};_0x2b88fc['chatLog']=_0x4455e9,delete _0x2b88fc[_0x3512cf(0x749)],_0x2b88fc['_id']=new _0x328c6f(),_0x2b88fc['lastInteraction']=_0x1abf19,_0x2b88fc[_0x3512cf(0x425)]='open',_0x2b88fc[_0x3512cf(0x290)]=_0x2e2897;let _0x4ae416=await this['repository'][_0x3512cf(0x3c8)][_0x3512cf(0x590)](_0x2b88fc['_id'],_0x2b88fc,this[_0x3512cf(0x3b2)]['wuid']);return this[_0x3512cf(0x367)]['verbose'](this[_0x3512cf(0x621)]+'\x20('+this['instance'][_0x3512cf(0x542)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x4ae416?_0x2b88fc:null;}catch(_0x448dfe){return this['logger'][_0x3512cf(0x5e0)](this['instanceName']+'\x20('+this[_0x3512cf(0x3b2)][_0x3512cf(0x542)]+_0x3512cf(0x181)+(_0x448dfe instanceof Error?_0x448dfe[_0x3512cf(0x71e)]:JSON['stringify'](_0x448dfe,null,0x2))),_0x448dfe;}}async[a0_0x20d441(0x35a)](_0x34e2c2,_0xfcba72){const _0x1a96be=a0_0x20d441;let _0x3bf25d=_0x34e2c2[_0x1a96be(0x290)];_0xfcba72[_0x1a96be(0x66f)]['remoteJid']&&_0xfcba72['uazapi'][_0x1a96be(0x290)][_0x1a96be(0x666)]()!==''&&(_0x3bf25d=_0xfcba72[_0x1a96be(0x66f)][_0x1a96be(0x290)][_0x1a96be(0x666)]()),this[_0x1a96be(0x367)]['verbose'](this[_0x1a96be(0x621)]+'\x20('+this[_0x1a96be(0x3b2)]['wuid']+_0x1a96be(0x58b));let _0x4e1c95={'number':_0x3bf25d,'options':{'delay':_0xfcba72['uazapi'][_0x1a96be(0x641)]},'textMessage':{'text':_0xfcba72[_0x1a96be(0x66f)][_0x1a96be(0x5e5)]}};try{let _0x1035e1=await this[_0x1a96be(0x256)](_0x4e1c95);if(_0x1035e1){let _0x53f68f={'_id':_0x1035e1['key']['id'],'_fromMe':_0x1035e1[_0x1a96be(0x59d)][_0x1a96be(0x43e)],'_remoteJid':_0x1035e1['key'][_0x1a96be(0x290)]};_0x34e2c2[_0x1a96be(0x2fc)][_0x1a96be(0x5c7)]=_0xfcba72[_0x1a96be(0x749)][_0x1a96be(0x390)]();let {message_normalized:_0x1e543e}=this[_0x1a96be(0x174)](_0x1035e1[_0x1a96be(0x71e)],$(_0x1035e1[_0x1a96be(0x71e)]),null);_0x34e2c2[_0x1a96be(0x2fc)]['lastSendMessage']=await _0x1e543e;let _0x81f8bb={'messageId':_0x1035e1[_0x1a96be(0x59d)]['id']},_0x194ac0=_0x34e2c2[_0x1a96be(0x2fc)][_0x1a96be(0x728)];Object[_0x1a96be(0x29f)](_0x194ac0,_0x53f68f),_0x34e2c2[_0x1a96be(0x2fc)][_0x1a96be(0x728)]=_0x194ac0,this['updateConversation'](_0x34e2c2,_0xfcba72,_0x81f8bb);}else{let _0x3fb049={'error':!0x0};this['updateConversation'](_0x34e2c2,_0xfcba72,_0x3fb049),this[_0x1a96be(0x367)][_0x1a96be(0x5e0)](this['instanceName']+'\x20('+this[_0x1a96be(0x3b2)][_0x1a96be(0x542)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x3f096d){let _0x26df36={'error':!0x0,'errorLog':_0x3f096d[_0x1a96be(0x390)]()};this['updateConversation'](_0x34e2c2,_0xfcba72,_0x26df36),this[_0x1a96be(0x367)]['error'](this[_0x1a96be(0x621)]+'\x20('+this[_0x1a96be(0x3b2)][_0x1a96be(0x542)]+_0x1a96be(0x148)+(_0x3f096d instanceof Error?_0x3f096d[_0x1a96be(0x71e)]:JSON['stringify'](_0x3f096d,null,0x2)));}}async[a0_0x20d441(0x20f)](_0x1cf17c,_0x2992d0){const _0x8e2b19=a0_0x20d441;let _0x59b791=_0x1cf17c[_0x8e2b19(0x290)];_0x2992d0[_0x8e2b19(0x66f)][_0x8e2b19(0x290)]&&_0x2992d0[_0x8e2b19(0x66f)][_0x8e2b19(0x290)][_0x8e2b19(0x666)]()!==''&&(_0x59b791=_0x2992d0[_0x8e2b19(0x66f)]['remoteJid']['trim']()),this[_0x8e2b19(0x367)]['verbose'](this[_0x8e2b19(0x621)]+'\x20('+this[_0x8e2b19(0x3b2)][_0x8e2b19(0x542)]+_0x8e2b19(0x1ae));let _0x34a238={'number':_0x59b791,'options':{'delay':_0x2992d0[_0x8e2b19(0x66f)][_0x8e2b19(0x641)]},'mediaMessage':{'mediatype':_0x2992d0[_0x8e2b19(0x66f)][_0x8e2b19(0x509)],'caption':_0x2992d0[_0x8e2b19(0x66f)][_0x8e2b19(0x527)],'media':_0x2992d0[_0x8e2b19(0x66f)][_0x8e2b19(0x27f)],'fileName':_0x2992d0[_0x8e2b19(0x66f)]['fileName']}};try{let _0xa3b00a=await this[_0x8e2b19(0x2dc)](_0x34a238);if(_0xa3b00a){let _0x41d58d={'_id':_0xa3b00a[_0x8e2b19(0x59d)]['id'],'_fromMe':_0xa3b00a[_0x8e2b19(0x59d)][_0x8e2b19(0x43e)],'_remoteJid':_0xa3b00a[_0x8e2b19(0x59d)][_0x8e2b19(0x290)]};_0x1cf17c['chatLog']['lastBlockId']=_0x2992d0[_0x8e2b19(0x749)][_0x8e2b19(0x390)]();let {message_normalized:_0x3e52ca}=this[_0x8e2b19(0x174)](_0xa3b00a['message'],$(_0xa3b00a[_0x8e2b19(0x71e)]),null);_0x1cf17c[_0x8e2b19(0x2fc)]['lastSendMessage']=await _0x3e52ca;let _0x17d606={'messageId':_0xa3b00a[_0x8e2b19(0x59d)]['id']},_0x474d03=_0x1cf17c[_0x8e2b19(0x2fc)][_0x8e2b19(0x728)];Object['assign'](_0x474d03,_0x41d58d),_0x1cf17c[_0x8e2b19(0x2fc)][_0x8e2b19(0x728)]=_0x474d03,this[_0x8e2b19(0x40e)](_0x1cf17c,_0x2992d0,_0x17d606);}else{let _0x257f24={'error':!0x0};this['updateConversation'](_0x1cf17c,_0x2992d0,_0x257f24),this[_0x8e2b19(0x367)][_0x8e2b19(0x5e0)](this[_0x8e2b19(0x621)]+'\x20('+this['instance'][_0x8e2b19(0x542)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x446579){let _0x13685e={'error':!0x0,'errorLog':_0x446579['toString']()};this['updateConversation'](_0x1cf17c,_0x2992d0,_0x13685e),this[_0x8e2b19(0x367)][_0x8e2b19(0x5e0)](this[_0x8e2b19(0x621)]+'\x20('+this[_0x8e2b19(0x3b2)][_0x8e2b19(0x542)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x446579 instanceof Error?_0x446579[_0x8e2b19(0x71e)]:JSON[_0x8e2b19(0x625)](_0x446579,null,0x2)));}}async[a0_0x20d441(0x26b)](_0x2967d8,_0x3c60d4){const _0x56e45f=a0_0x20d441;let _0x3f8dd9=_0x2967d8[_0x56e45f(0x290)];_0x3c60d4[_0x56e45f(0x66f)][_0x56e45f(0x290)]&&_0x3c60d4[_0x56e45f(0x66f)][_0x56e45f(0x290)][_0x56e45f(0x666)]()!==''&&(_0x3f8dd9=_0x3c60d4[_0x56e45f(0x66f)][_0x56e45f(0x290)]['trim']()),this['logger'][_0x56e45f(0x411)](this['instanceName']+'\x20('+this[_0x56e45f(0x3b2)][_0x56e45f(0x542)]+_0x56e45f(0x72a));let _0x1df91b={'number':_0x3f8dd9,'options':{'delay':_0x3c60d4[_0x56e45f(0x66f)]['delay']},'locationMessage':{'name':_0x3c60d4[_0x56e45f(0x66f)][_0x56e45f(0x6cb)],'address':_0x3c60d4[_0x56e45f(0x66f)][_0x56e45f(0x3c2)],'latitude':_0x3c60d4[_0x56e45f(0x66f)][_0x56e45f(0x4ce)],'longitude':_0x3c60d4['uazapi'][_0x56e45f(0x465)]}};try{let _0x15fc99=await this[_0x56e45f(0x783)](_0x1df91b);if(_0x15fc99){let _0x4615c0={'_id':_0x15fc99['key']['id'],'_fromMe':_0x15fc99[_0x56e45f(0x59d)]['fromMe'],'_remoteJid':_0x15fc99['key'][_0x56e45f(0x290)]};_0x2967d8['chatLog']['lastBlockId']=_0x3c60d4[_0x56e45f(0x749)][_0x56e45f(0x390)]();let {message_normalized:_0x3393e0}=this[_0x56e45f(0x174)](_0x15fc99[_0x56e45f(0x71e)],$(_0x15fc99[_0x56e45f(0x71e)]),null);_0x2967d8[_0x56e45f(0x2fc)][_0x56e45f(0x6e4)]=await _0x3393e0;let _0xdefaf8={'messageId':_0x15fc99[_0x56e45f(0x59d)]['id']},_0x19082a=_0x2967d8['chatLog'][_0x56e45f(0x728)];Object[_0x56e45f(0x29f)](_0x19082a,_0x4615c0),_0x2967d8[_0x56e45f(0x2fc)][_0x56e45f(0x728)]=_0x19082a,this['updateConversation'](_0x2967d8,_0x3c60d4,_0xdefaf8);}else{let _0x50656d={'error':!0x0};this[_0x56e45f(0x40e)](_0x2967d8,_0x3c60d4,_0x50656d),this['logger'][_0x56e45f(0x5e0)](this['instanceName']+'\x20('+this[_0x56e45f(0x3b2)][_0x56e45f(0x542)]+_0x56e45f(0x5c6));}}catch(_0x21a72f){let _0x5d1021={'error':!0x0,'errorLog':_0x21a72f[_0x56e45f(0x390)]()};this['updateConversation'](_0x2967d8,_0x3c60d4,_0x5d1021),this[_0x56e45f(0x367)]['error'](this[_0x56e45f(0x621)]+'\x20('+this['instance'][_0x56e45f(0x542)]+_0x56e45f(0x1a0)+(_0x21a72f instanceof Error?_0x21a72f[_0x56e45f(0x71e)]:JSON[_0x56e45f(0x625)](_0x21a72f,null,0x2)));}}async[a0_0x20d441(0x319)](_0x4da017,_0x2b14b7){const _0x2b558d=a0_0x20d441;let _0x150000=_0x4da017[_0x2b558d(0x290)];_0x2b14b7[_0x2b558d(0x66f)][_0x2b558d(0x290)]&&_0x2b14b7[_0x2b558d(0x66f)][_0x2b558d(0x290)][_0x2b558d(0x666)]()!==''&&(_0x150000=_0x2b14b7[_0x2b558d(0x66f)][_0x2b558d(0x290)]['trim']()),this['logger']['verbose'](this[_0x2b558d(0x621)]+'\x20('+this[_0x2b558d(0x3b2)]['wuid']+_0x2b558d(0x6f5));let _0x4c0b76={'number':_0x150000,'options':{'delay':_0x2b14b7['uazapi'][_0x2b558d(0x641)]},'audioMessage':{'audio':_0x2b14b7['uazapi']['audio']}};try{let _0x32ea6e=await this['audioWhatsapp'](_0x4c0b76);if(_0x32ea6e){let _0xb398ac={'_id':_0x32ea6e['key']['id'],'_fromMe':_0x32ea6e[_0x2b558d(0x59d)][_0x2b558d(0x43e)],'_remoteJid':_0x32ea6e[_0x2b558d(0x59d)][_0x2b558d(0x290)]};_0x4da017[_0x2b558d(0x2fc)][_0x2b558d(0x5c7)]=_0x2b14b7['_id'][_0x2b558d(0x390)]();let {message_normalized:_0xb64d28}=this[_0x2b558d(0x174)](_0x32ea6e['message'],$(_0x32ea6e['message']),null);_0x4da017[_0x2b558d(0x2fc)][_0x2b558d(0x6e4)]=await _0xb64d28;let _0x5744cb={'messageId':_0x32ea6e[_0x2b558d(0x59d)]['id']},_0x5a3794=_0x4da017[_0x2b558d(0x2fc)]['realVariables'];Object[_0x2b558d(0x29f)](_0x5a3794,_0xb398ac),_0x4da017['chatLog'][_0x2b558d(0x728)]=_0x5a3794,this[_0x2b558d(0x40e)](_0x4da017,_0x2b14b7,_0x5744cb);}else{let _0x4bd63b={'error':!0x0};this[_0x2b558d(0x40e)](_0x4da017,_0x2b14b7,_0x4bd63b),this[_0x2b558d(0x367)]['error'](this[_0x2b558d(0x621)]+'\x20('+this[_0x2b558d(0x3b2)][_0x2b558d(0x542)]+_0x2b558d(0x6da));}}catch(_0x245780){let _0x122c09={'error':!0x0,'errorLog':_0x245780[_0x2b558d(0x390)]()};this[_0x2b558d(0x40e)](_0x4da017,_0x2b14b7,_0x122c09),this[_0x2b558d(0x367)][_0x2b558d(0x5e0)](this[_0x2b558d(0x621)]+'\x20('+this[_0x2b558d(0x3b2)]['wuid']+_0x2b558d(0x23f)+(_0x245780 instanceof Error?_0x245780['message']:JSON[_0x2b558d(0x625)](_0x245780,null,0x2)));}}async[a0_0x20d441(0x376)](_0x44ca6a,_0x3bd6ad){const _0x1b5723=a0_0x20d441;let _0x11450e=_0x44ca6a[_0x1b5723(0x290)];_0x3bd6ad[_0x1b5723(0x66f)]['remoteJid']&&_0x3bd6ad[_0x1b5723(0x66f)][_0x1b5723(0x290)]['trim']()!==''&&(_0x11450e=_0x3bd6ad[_0x1b5723(0x66f)][_0x1b5723(0x290)][_0x1b5723(0x666)]()),this[_0x1b5723(0x367)][_0x1b5723(0x411)](this[_0x1b5723(0x621)]+'\x20('+this[_0x1b5723(0x3b2)][_0x1b5723(0x542)]+_0x1b5723(0x255));let _0x130115={'number':_0x11450e,'options':{'delay':_0x3bd6ad[_0x1b5723(0x66f)][_0x1b5723(0x641)]},'contactMessage':[{'fullName':_0x3bd6ad[_0x1b5723(0x66f)][_0x1b5723(0x73e)],'phoneNumber':_0x3bd6ad[_0x1b5723(0x66f)][_0x1b5723(0x408)]}]};try{let _0x3e20bb=await this[_0x1b5723(0x6fa)](_0x130115);if(_0x3e20bb){let _0x55bb19={'_id':_0x3e20bb['key']['id'],'_fromMe':_0x3e20bb[_0x1b5723(0x59d)][_0x1b5723(0x43e)],'_remoteJid':_0x3e20bb[_0x1b5723(0x59d)][_0x1b5723(0x290)]};_0x44ca6a[_0x1b5723(0x2fc)][_0x1b5723(0x5c7)]=_0x3bd6ad['_id'][_0x1b5723(0x390)]();let {message_normalized:_0x23fcb9}=this[_0x1b5723(0x174)](_0x3e20bb[_0x1b5723(0x71e)],$(_0x3e20bb['message']),null);_0x44ca6a['chatLog']['lastSendMessage']=await _0x23fcb9;let _0x3ca834={'messageId':_0x3e20bb[_0x1b5723(0x59d)]['id']},_0x53b904=_0x44ca6a[_0x1b5723(0x2fc)]['realVariables'];Object['assign'](_0x53b904,_0x55bb19),_0x44ca6a[_0x1b5723(0x2fc)][_0x1b5723(0x728)]=_0x53b904,this[_0x1b5723(0x40e)](_0x44ca6a,_0x3bd6ad,_0x3ca834);}else{let _0x5a2c95={'error':!0x0};this['updateConversation'](_0x44ca6a,_0x3bd6ad,_0x5a2c95),this['logger']['error'](this[_0x1b5723(0x621)]+'\x20('+this[_0x1b5723(0x3b2)]['wuid']+_0x1b5723(0x5da));}}catch(_0x2b0e31){let _0x35d299={'error':!0x0,'errorLog':_0x2b0e31[_0x1b5723(0x390)]()};this[_0x1b5723(0x40e)](_0x44ca6a,_0x3bd6ad,_0x35d299),this[_0x1b5723(0x367)]['error'](this[_0x1b5723(0x621)]+'\x20('+this[_0x1b5723(0x3b2)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x2b0e31 instanceof Error?_0x2b0e31[_0x1b5723(0x71e)]:JSON[_0x1b5723(0x625)](_0x2b0e31,null,0x2)));}}[a0_0x20d441(0x4de)](_0x572e14,_0x5a083c){const _0x9be04b=a0_0x20d441;for(let _0x530919 of _0x572e14)_0x530919[_0x9be04b(0x59e)]&&(_0x530919[_0x9be04b(0x59e)]=this[_0x9be04b(0x6c3)](_0x530919['option'],_0x5a083c)),_0x530919['optionDescription']&&(_0x530919[_0x9be04b(0x347)]=this['replaceVariables'](_0x530919['optionDescription'],_0x5a083c));}async[a0_0x20d441(0x5bb)](_0x10fe27,_0x566db5){const _0x2bb15d=a0_0x20d441;let _0x1c0f24=_0x10fe27[_0x2bb15d(0x290)];_0x566db5[_0x2bb15d(0x66f)][_0x2bb15d(0x290)]&&_0x566db5[_0x2bb15d(0x66f)][_0x2bb15d(0x290)][_0x2bb15d(0x666)]()!==''&&(_0x1c0f24=_0x566db5[_0x2bb15d(0x66f)][_0x2bb15d(0x290)][_0x2bb15d(0x666)]()),this[_0x2bb15d(0x367)]['verbose'](this[_0x2bb15d(0x621)]+'\x20('+this[_0x2bb15d(0x3b2)][_0x2bb15d(0x542)]+_0x2bb15d(0x581));let _0x5a99e2=_0x10fe27['replyOptions'][_0x2bb15d(0x2a6)](_0x29c8d3=>_0x29c8d3[_0x2bb15d(0x672)]===_0x566db5[_0x2bb15d(0x749)])[_0x2bb15d(0x42e)]((_0x1bb4df,_0x1a126c)=>_0x1bb4df[_0x2bb15d(0x401)]-_0x1a126c['order']);this[_0x2bb15d(0x4de)](_0x5a99e2,_0x10fe27[_0x2bb15d(0x2fc)][_0x2bb15d(0x728)]);let _0x43e2ec=_0x5a99e2['map'](_0xf89d76=>_0xf89d76[_0x2bb15d(0x59e)]),_0x5d3725={'number':_0x1c0f24,'menuMessage':{'type':_0x566db5[_0x2bb15d(0x66f)][_0x2bb15d(0x1f1)]||'poll','text':_0x566db5['uazapi'][_0x2bb15d(0x5e5)]||_0x566db5['uazapi'][_0x2bb15d(0x6cb)],'footerText':_0x566db5[_0x2bb15d(0x66f)][_0x2bb15d(0x6d2)],'buttonText':_0x566db5[_0x2bb15d(0x66f)]['buttonText'],'selectableCount':0x1,'choices':_0x43e2ec},'options':{'delay':_0x566db5[_0x2bb15d(0x66f)]['delay']}};try{let _0x48cd5d=await this[_0x2bb15d(0x43a)](_0x5d3725);if(_0x48cd5d){let _0x2b0cca={'_id':_0x48cd5d[_0x2bb15d(0x59d)]['id'],'_fromMe':_0x48cd5d[_0x2bb15d(0x59d)][_0x2bb15d(0x43e)],'_remoteJid':_0x48cd5d[_0x2bb15d(0x59d)][_0x2bb15d(0x290)]};_0x566db5[_0x2bb15d(0x66f)][_0x2bb15d(0x46d)]===!0x0&&(_0x10fe27['status']=_0x2bb15d(0x1fc),this[_0x2bb15d(0x367)]['verbose'](this[_0x2bb15d(0x621)]+'\x20('+this[_0x2bb15d(0x3b2)]['wuid']+_0x2bb15d(0x46b)+_0x10fe27[_0x2bb15d(0x425)])),this['logger']['verbose'](this[_0x2bb15d(0x621)]+'\x20('+this[_0x2bb15d(0x3b2)]['wuid']+_0x2bb15d(0x6fe)+(_0x566db5['uazapi']['name']||_0x566db5[_0x2bb15d(0x66f)][_0x2bb15d(0x5e5)])),_0x10fe27[_0x2bb15d(0x220)]=_0x48cd5d[_0x2bb15d(0x59d)]['id'],_0x10fe27[_0x2bb15d(0x2ae)]=_0x566db5['uazapi'][_0x2bb15d(0x6cb)]||_0x566db5['uazapi']['text'],_0x10fe27[_0x2bb15d(0x669)]=_0x5a99e2,_0x566db5[_0x2bb15d(0x66f)][_0x2bb15d(0x6d5)]&&(_0x10fe27[_0x2bb15d(0x2b9)]=_0x566db5[_0x2bb15d(0x66f)]['menuExpiredMessage']),this[_0x2bb15d(0x367)]['verbose'](this[_0x2bb15d(0x621)]+'\x20('+this['instance'][_0x2bb15d(0x542)]+_0x2bb15d(0x47c)+_0x10fe27['waitingMenu_text']),_0x10fe27[_0x2bb15d(0x2fc)][_0x2bb15d(0x5c7)]=_0x566db5[_0x2bb15d(0x749)][_0x2bb15d(0x390)]();let {message_normalized:_0x3290ad}=this['normalizeMessage'](_0x48cd5d[_0x2bb15d(0x71e)],$(_0x48cd5d[_0x2bb15d(0x71e)]),null);_0x10fe27[_0x2bb15d(0x2fc)][_0x2bb15d(0x6e4)]=await _0x3290ad;let _0x3c1796={'messageId':_0x48cd5d[_0x2bb15d(0x59d)]['id']},_0x64aea8=_0x10fe27[_0x2bb15d(0x2fc)][_0x2bb15d(0x728)];Object[_0x2bb15d(0x29f)](_0x64aea8,_0x2b0cca),_0x10fe27[_0x2bb15d(0x2fc)][_0x2bb15d(0x728)]=_0x64aea8,this[_0x2bb15d(0x40e)](_0x10fe27,_0x566db5,_0x3c1796);}else{let _0x24630e={'error':!0x0};this['updateConversation'](_0x10fe27,_0x566db5,_0x24630e),this[_0x2bb15d(0x367)][_0x2bb15d(0x5e0)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2bb15d(0x1ac));}}catch(_0x484938){let _0x182a10={'error':!0x0,'errorLog':_0x484938 instanceof Error?_0x484938[_0x2bb15d(0x71e)]:JSON[_0x2bb15d(0x625)](_0x484938,null,0x2)};this['updateConversation'](_0x10fe27,_0x566db5,_0x182a10),this['logger'][_0x2bb15d(0x5e0)](this[_0x2bb15d(0x621)]+'\x20('+this['instance'][_0x2bb15d(0x542)]+_0x2bb15d(0x703)+(_0x484938 instanceof Error?_0x484938[_0x2bb15d(0x71e)]:JSON['stringify'](_0x484938,null,0x2)));}}async[a0_0x20d441(0x320)](_0x45ba2b,_0x521f61){const _0x227fdb=a0_0x20d441;this[_0x227fdb(0x367)][_0x227fdb(0x411)](this[_0x227fdb(0x621)]+'\x20('+this[_0x227fdb(0x3b2)][_0x227fdb(0x542)]+_0x227fdb(0x1eb));let _0x12e583=_0x45ba2b[_0x227fdb(0x2fc)][_0x227fdb(0x459)][_0x227fdb(0x466)](_0x19ed62=>_0x19ed62[_0x227fdb(0x672)]['toString']()===_0x521f61['uazapi'][_0x227fdb(0x672)][_0x227fdb(0x390)]()),_0x50f495={'id':_0x12e583[_0x227fdb(0x327)],'remoteJid':_0x12e583[_0x227fdb(0x290)],'fromMe':_0x12e583[_0x227fdb(0x43e)]};try{let _0x368c8d=await this[_0x227fdb(0x301)](_0x50f495);if(_0x368c8d){_0x45ba2b['chatLog'][_0x227fdb(0x5c7)]=_0x521f61[_0x227fdb(0x749)][_0x227fdb(0x390)]();let {message_normalized:_0x116463}=this[_0x227fdb(0x174)](_0x368c8d[_0x227fdb(0x71e)],$(_0x368c8d[_0x227fdb(0x71e)]),null);_0x45ba2b[_0x227fdb(0x2fc)]['lastSendMessage']=await _0x116463;let _0x56b391={};this[_0x227fdb(0x40e)](_0x45ba2b,_0x521f61,_0x56b391);}else{let _0xc5954d={'error':!0x0};this[_0x227fdb(0x40e)](_0x45ba2b,_0x521f61,_0xc5954d),this[_0x227fdb(0x367)][_0x227fdb(0x5e0)](this[_0x227fdb(0x621)]+'\x20('+this[_0x227fdb(0x3b2)]['wuid']+_0x227fdb(0x46e));}}catch(_0x4f0edb){let _0x111195={'error':!0x0,'errorLog':_0x4f0edb instanceof Error?_0x4f0edb[_0x227fdb(0x71e)]:JSON[_0x227fdb(0x625)](_0x4f0edb,null,0x2)};this['updateConversation'](_0x45ba2b,_0x521f61,_0x111195),this[_0x227fdb(0x367)][_0x227fdb(0x5e0)](this[_0x227fdb(0x621)]+'\x20('+this['instance'][_0x227fdb(0x542)]+_0x227fdb(0x200)+(_0x4f0edb instanceof Error?_0x4f0edb['message']:JSON[_0x227fdb(0x625)](_0x4f0edb,null,0x2)));}}async[a0_0x20d441(0x456)](_0xf172fd){const _0x15a5fd=a0_0x20d441;try{if(this[_0x15a5fd(0x367)][_0x15a5fd(0x411)](this[_0x15a5fd(0x621)]+'\x20('+this[_0x15a5fd(0x3b2)][_0x15a5fd(0x542)]+_0x15a5fd(0x2e6)),await this[_0x15a5fd(0x356)][_0x15a5fd(0x642)][_0x15a5fd(0x1ca)]({'where':{'name':_0xf172fd[_0x15a5fd(0x6cb)]}},this[_0x15a5fd(0x3b2)][_0x15a5fd(0x542)]))return{'message':_0x15a5fd(0x763)};_0xf172fd[_0x15a5fd(0x2dd)]===!0x0&&await this[_0x15a5fd(0x356)][_0x15a5fd(0x642)][_0x15a5fd(0x163)]({},{'default':!0x1},this[_0x15a5fd(0x3b2)]['wuid']);let _0x297486=new ie[(_0x15a5fd(0x2d5))][(_0x15a5fd(0x5dd))](),_0xc676db={'_id':_0x297486,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x1f2084={'_id':new ie['Types'][(_0x15a5fd(0x5dd))](),'order':0x1,'groupId':_0x297486[_0x15a5fd(0x390)](),'type':'start'},_0xad32b5={'_id':new ie['Types'][(_0x15a5fd(0x5dd))](),'owner':this[_0x15a5fd(0x3b2)][_0x15a5fd(0x542)],'name':_0xf172fd['name'],'groups':[_0xc676db],'blocks':[_0x1f2084],..._0xf172fd};return _0xad32b5=await this[_0x15a5fd(0x356)][_0x15a5fd(0x642)]['createAndSave'](_0xad32b5,this[_0x15a5fd(0x3b2)]['wuid']),_0xad32b5;}catch(_0x3ed959){throw this['logger'][_0x15a5fd(0x5e0)](this[_0x15a5fd(0x621)]+'\x20('+this[_0x15a5fd(0x3b2)]['wuid']+_0x15a5fd(0x227)+(_0x3ed959 instanceof Error?_0x3ed959[_0x15a5fd(0x71e)]:JSON[_0x15a5fd(0x625)](_0x3ed959,null,0x2))),new m('Erro\x20ao\x20criar\x20o\x20fluxo:\x20'+_0x3ed959);}}async[a0_0x20d441(0x556)](_0x4e32d8){const _0x235ef2=a0_0x20d441;try{return this[_0x235ef2(0x367)]['verbose'](this[_0x235ef2(0x621)]+'\x20('+this[_0x235ef2(0x3b2)][_0x235ef2(0x542)]+_0x235ef2(0x321)),await this[_0x235ef2(0x356)][_0x235ef2(0x642)][_0x235ef2(0x2e2)]({'where':{'name':_0x4e32d8}},this[_0x235ef2(0x3b2)][_0x235ef2(0x542)]);}catch(_0x4bee3b){return this[_0x235ef2(0x367)][_0x235ef2(0x5e0)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+(_0x4bee3b instanceof Error?_0x4bee3b[_0x235ef2(0x71e)]:JSON[_0x235ef2(0x625)](_0x4bee3b,null,0x2))),{'message':_0x235ef2(0x232)+_0x4bee3b};}}async[a0_0x20d441(0x50b)](_0xf5b5c9){const _0x968f7a=a0_0x20d441;try{this[_0x968f7a(0x367)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x968f7a(0x542)]+_0x968f7a(0x646));let _0x567880=await this['repository'][_0x968f7a(0x642)][_0x968f7a(0x1ca)]({'where':{'name':_0xf5b5c9}},this[_0x968f7a(0x3b2)][_0x968f7a(0x542)]);if(!_0x567880)throw new Error(_0x968f7a(0x3cc));if(!this[_0x968f7a(0x6f6)]&&(await this['getAutomateSystem'](),!this['AutomateSystem']))return null;let _0x4b6407=this['AutomateSystem']?.['customFields'][_0x968f7a(0x6b3)](_0x405c04=>_0x405c04[_0x968f7a(0x6cb)]),_0x1bc524=[_0x968f7a(0x2fe),_0x968f7a(0x599),_0x968f7a(0x26a),_0x968f7a(0x519),'status',_0x968f7a(0x791),_0x968f7a(0x38f),_0x968f7a(0x696),'etiquetas'];_0x567880[_0x968f7a(0x1dc)]=_0x567880['variables'][_0x968f7a(0x2a6)](_0x339b8b=>!(_0x339b8b[_0x968f7a(0x3db)]===_0x968f7a(0x57f)||_0x339b8b[_0x968f7a(0x57f)])),_0x1bc524[_0x968f7a(0x3ce)](_0x581215=>{const _0x5ef5ff=_0x968f7a;_0x567880[_0x5ef5ff(0x1dc)]['push']({'folder':_0x5ef5ff(0x57f),'name':_0x581215,'value':'','doc':'','leadInfo':!0x0});}),_0x4b6407[_0x968f7a(0x3ce)](_0x21c44e=>{const _0x1bbc4e=_0x968f7a;let _0x21b20a=_0x567880['variables'][_0x1bbc4e(0x423)](_0xb102d8=>_0xb102d8[_0x1bbc4e(0x6cb)]===_0x21c44e);_0x21b20a===-0x1?_0x567880[_0x1bbc4e(0x1dc)][_0x1bbc4e(0x4cf)]({'folder':'leadInfo','name':_0x21c44e,'value':'','doc':'','leadInfo':!0x0}):(_0x567880[_0x1bbc4e(0x1dc)][_0x21b20a][_0x1bbc4e(0x3db)]='leadInfo',_0x567880[_0x1bbc4e(0x1dc)][_0x21b20a][_0x1bbc4e(0x57f)]=!0x0);}),_0x567880['blocks']&&_0x567880['blocks']['length']>0x0&&_0x567880['blocks'][_0x968f7a(0x3ce)](_0x5bdea4=>{const _0x365852=_0x968f7a;_0x5bdea4['groupId']&&_0x5bdea4['next_groupId']&&_0x5bdea4['groupId']===_0x5bdea4[_0x365852(0x726)]&&(_0x5bdea4[_0x365852(0x726)]=null);});let _0x3aa919=await this[_0x968f7a(0x356)][_0x968f7a(0x642)]['updateOne'](_0x567880[_0x968f7a(0x749)],_0x567880,this[_0x968f7a(0x3b2)][_0x968f7a(0x542)]);if(!_0x3aa919)throw new Error(_0x968f7a(0x67a));return _0x3aa919;}catch(_0x4c7ae7){throw this[_0x968f7a(0x367)][_0x968f7a(0x5e0)](this[_0x968f7a(0x621)]+'\x20('+this[_0x968f7a(0x3b2)][_0x968f7a(0x542)]+_0x968f7a(0x3fc)+(_0x4c7ae7 instanceof Error?_0x4c7ae7[_0x968f7a(0x71e)]:JSON[_0x968f7a(0x625)](_0x4c7ae7,null,0x2))),new m('Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+_0x4c7ae7);}}async[a0_0x20d441(0x15e)](){const _0x1d12cb=a0_0x20d441;try{return this[_0x1d12cb(0x367)][_0x1d12cb(0x411)](this['instanceName']+'\x20('+this['instance'][_0x1d12cb(0x542)]+_0x1d12cb(0x5eb)),await this['repository'][_0x1d12cb(0x642)][_0x1d12cb(0x3a4)]({'where':{}},this['instance']['wuid']);}catch(_0x4a8e0d){return this['logger'][_0x1d12cb(0x5e0)](this[_0x1d12cb(0x621)]+'\x20('+this[_0x1d12cb(0x3b2)][_0x1d12cb(0x542)]+_0x1d12cb(0x40f)+(_0x4a8e0d instanceof Error?_0x4a8e0d[_0x1d12cb(0x71e)]:JSON['stringify'](_0x4a8e0d,null,0x2))),{'message':_0x1d12cb(0x29e)+_0x4a8e0d};}}async[a0_0x20d441(0x6a3)](_0x4617ee){const _0x4c24bc=a0_0x20d441;try{this[_0x4c24bc(0x367)]['verbose'](this[_0x4c24bc(0x621)]+'\x20('+this[_0x4c24bc(0x3b2)]['wuid']+_0x4c24bc(0x494));let _0x1f9aec=await this[_0x4c24bc(0x356)][_0x4c24bc(0x642)][_0x4c24bc(0x1ca)]({'where':{'name':_0x4617ee[_0x4c24bc(0x6cb)]}},this[_0x4c24bc(0x3b2)][_0x4c24bc(0x542)]);return _0x1f9aec?(_0x4617ee[_0x4c24bc(0x2dd)]===!0x0&&await this[_0x4c24bc(0x356)]['flow'][_0x4c24bc(0x163)]({},{'default':!0x1},this['instance'][_0x4c24bc(0x542)]),await this[_0x4c24bc(0x356)][_0x4c24bc(0x642)][_0x4c24bc(0x590)](_0x1f9aec[_0x4c24bc(0x749)],_0x4617ee,this[_0x4c24bc(0x3b2)][_0x4c24bc(0x542)])):{'message':_0x4c24bc(0x4fc)};}catch(_0x3980e9){throw this[_0x4c24bc(0x367)][_0x4c24bc(0x5e0)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4c24bc(0x56e)+(_0x3980e9 instanceof Error?_0x3980e9[_0x4c24bc(0x71e)]:JSON[_0x4c24bc(0x625)](_0x3980e9,null,0x2))),new m('Erro\x20ao\x20alterar\x20o\x20fluxo:\x20'+(_0x3980e9 instanceof Error?_0x3980e9['message']:JSON[_0x4c24bc(0x625)](_0x3980e9,null,0x2)));}}async[a0_0x20d441(0x734)](_0x32e31c){const _0x54f218=a0_0x20d441;try{this[_0x54f218(0x367)][_0x54f218(0x411)](this[_0x54f218(0x621)]+'\x20('+this[_0x54f218(0x3b2)]['wuid']+'):\x20Editando\x20bloco...');let _0x3ce0a2=await this[_0x54f218(0x356)][_0x54f218(0x642)][_0x54f218(0x1ca)]({'where':{'name':_0x32e31c[_0x54f218(0x6cb)]}},this[_0x54f218(0x3b2)][_0x54f218(0x542)]);_0x3ce0a2||this[_0x54f218(0x5a9)](_0x54f218(0x3cc));let {block:_0x37c348}=_0x32e31c;_0x37c348?.[_0x54f218(0x3a2)]?this[_0x54f218(0x52b)](_0x3ce0a2,_0x32e31c):_0x37c348?.['delete']?this[_0x54f218(0x476)](_0x3ce0a2,_0x32e31c):_0x37c348['_id']?await this[_0x54f218(0x3f4)](_0x3ce0a2,_0x32e31c):this['addBlock'](_0x3ce0a2,_0x32e31c);let _0xe9ca0a=await this[_0x54f218(0x356)]['flow'][_0x54f218(0x590)](_0x3ce0a2[_0x54f218(0x749)],_0x3ce0a2,this[_0x54f218(0x3b2)][_0x54f218(0x542)]);if(!_0xe9ca0a)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0xe9ca0a;}catch(_0x23411e){this[_0x54f218(0x5a9)](_0x54f218(0x656)+_0x23411e);}}async['copyBlock'](_0x438787,_0x462589){const _0x152e96=a0_0x20d441;let _0x5606b7=_0x462589[_0x152e96(0x2e7)][_0x152e96(0x749)],_0x160e74=_0x438787[_0x152e96(0x510)][_0x152e96(0x466)](_0x1abc67=>_0x1abc67[_0x152e96(0x749)][_0x152e96(0x390)]()===_0x5606b7);if(!_0x160e74){this['logger'][_0x152e96(0x5e0)](this['instanceName']+'\x20('+this[_0x152e96(0x3b2)][_0x152e96(0x542)]+_0x152e96(0x723)+_0x5606b7+_0x152e96(0x36a));return;}this[_0x152e96(0x367)][_0x152e96(0x411)](this[_0x152e96(0x621)]+'\x20('+this[_0x152e96(0x3b2)][_0x152e96(0x542)]+_0x152e96(0x44a)+JSON[_0x152e96(0x625)](_0x160e74));let _0x33ba72=JSON[_0x152e96(0x70f)](JSON['stringify'](_0x160e74));_0x33ba72[_0x152e96(0x749)]=new ie['default']['Types']['ObjectId'](),this['logger'][_0x152e96(0x411)](this[_0x152e96(0x621)]+'\x20('+this['instance'][_0x152e96(0x542)]+_0x152e96(0x38e)+JSON['stringify'](_0x33ba72)),_0x438787['blocks'][_0x152e96(0x4cf)](_0x33ba72),this[_0x152e96(0x3c1)](_0x438787[_0x152e96(0x510)],_0x33ba72['groupId']);}[a0_0x20d441(0x5a9)](_0x364929){const _0x1c63cd=a0_0x20d441;throw this[_0x1c63cd(0x367)][_0x1c63cd(0x5e0)](this['instanceName']+'\x20('+this['instance'][_0x1c63cd(0x542)]+_0x1c63cd(0x383)+_0x364929),new m(_0x364929);}[a0_0x20d441(0x476)](_0x1b56e1,_0x14a57a){const _0x207b1b=a0_0x20d441;let {block:_0x2e4fb5}=_0x14a57a;if(_0x2e4fb5[_0x207b1b(0x7a0)]===_0x207b1b(0x271)){this['throwAndLogError'](_0x207b1b(0x752));return;}if(!_0x2e4fb5[_0x207b1b(0x749)]){this[_0x207b1b(0x5a9)](_0x207b1b(0x380));return;}let _0x5bd0c1=_0x1b56e1['blocks'][_0x207b1b(0x466)](_0x50c6d0=>_0x50c6d0[_0x207b1b(0x749)][_0x207b1b(0x390)]()===_0x14a57a[_0x207b1b(0x2e7)][_0x207b1b(0x749)][_0x207b1b(0x390)]());if(!_0x5bd0c1){this[_0x207b1b(0x5a9)](_0x207b1b(0x706)+_0x2e4fb5['_id']+'\x20não\x20encontrado');return;}_0x1b56e1[_0x207b1b(0x510)]=_0x1b56e1[_0x207b1b(0x510)][_0x207b1b(0x2a6)](_0x4ba650=>_0x4ba650[_0x207b1b(0x749)]['toString']()!==_0x14a57a[_0x207b1b(0x2e7)][_0x207b1b(0x749)][_0x207b1b(0x390)]()),_0x1b56e1[_0x207b1b(0x536)]=_0x1b56e1[_0x207b1b(0x536)][_0x207b1b(0x2a6)](_0x4ff266=>_0x4ff266[_0x207b1b(0x672)]!==_0x2e4fb5[_0x207b1b(0x749)][_0x207b1b(0x390)]()),_0x1b56e1[_0x207b1b(0x55b)]=_0x1b56e1[_0x207b1b(0x55b)][_0x207b1b(0x2a6)](_0xbf4bf6=>_0xbf4bf6['blockId']!==_0x2e4fb5['_id'][_0x207b1b(0x390)]()),_0x1b56e1[_0x207b1b(0x2be)]=_0x1b56e1[_0x207b1b(0x2be)][_0x207b1b(0x2a6)](_0x289a3a=>_0x289a3a[_0x207b1b(0x672)]!==_0x2e4fb5['_id'][_0x207b1b(0x390)]()),this[_0x207b1b(0x3c1)](_0x1b56e1[_0x207b1b(0x510)],_0x5bd0c1[_0x207b1b(0x4e4)]);}async[a0_0x20d441(0x3f4)](_0x16186e,_0x650526){const _0x291723=a0_0x20d441;let _0x2211fd=_0x16186e[_0x291723(0x510)][_0x291723(0x423)](_0x9b304e=>_0x9b304e['_id']['toString']()===_0x650526[_0x291723(0x2e7)]['_id'][_0x291723(0x390)]());if(this['logger'][_0x291723(0x411)](this[_0x291723(0x621)]+'\x20('+this[_0x291723(0x3b2)][_0x291723(0x542)]+_0x291723(0x4e2)+_0x2211fd),_0x2211fd===-0x1){this[_0x291723(0x367)][_0x291723(0x411)](_0x291723(0x706)+_0x650526[_0x291723(0x2e7)]['_id']+_0x291723(0x20c));return;}if(_0x16186e[_0x291723(0x510)][_0x2211fd]['type']===_0x291723(0x271)){let _0x26c5d4=Object[_0x291723(0x616)](_0x650526[_0x291723(0x2e7)]);if(_0x26c5d4[_0x291723(0x280)]>0x2||_0x26c5d4[_0x291723(0x280)]===0x2&&!_0x26c5d4[_0x291723(0x4c9)](_0x291723(0x726))){this[_0x291723(0x5a9)](_0x291723(0x357));return;}}let _0x5d2838=_0x16186e[_0x291723(0x510)][_0x2211fd]['groupId'];for(let _0x587278 in _0x650526['block'])_0x650526[_0x291723(0x2e7)]['hasOwnProperty'](_0x587278)&&(_0x16186e['blocks'][_0x2211fd][_0x587278]=_0x650526[_0x291723(0x2e7)][_0x587278]);if(this[_0x291723(0x367)][_0x291723(0x411)](this[_0x291723(0x621)]+'\x20('+this[_0x291723(0x3b2)][_0x291723(0x542)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x291723(0x625)](_0x16186e['blocks'][_0x2211fd])),_0x16186e['blocks'][_0x2211fd][_0x291723(0x4ad)]&&_0x291723(0x2b0)in _0x16186e[_0x291723(0x510)][_0x2211fd]['apirequest']){this[_0x291723(0x367)][_0x291723(0x411)](this[_0x291723(0x621)]+'\x20('+this['instance'][_0x291723(0x542)]+_0x291723(0x43b));let _0xd68d99=JSON[_0x291723(0x625)](_0x16186e[_0x291723(0x510)][_0x2211fd][_0x291723(0x4ad)][_0x291723(0x2b0)],null,0x1);_0xd68d99['length']>0x2&&(_0xd68d99=_0xd68d99['substring'](0x1,_0xd68d99[_0x291723(0x280)]-0x1)[_0x291723(0x666)]()),_0x16186e[_0x291723(0x510)][_0x2211fd][_0x291723(0x4ad)][_0x291723(0x6ca)]=_0xd68d99;}if(_0x16186e[_0x291723(0x510)][_0x2211fd]['apirequest']&&_0x291723(0x336)in _0x16186e[_0x291723(0x510)][_0x2211fd][_0x291723(0x4ad)]){this[_0x291723(0x367)][_0x291723(0x411)](this[_0x291723(0x621)]+'\x20('+this[_0x291723(0x3b2)][_0x291723(0x542)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString');let _0x4aa9eb=JSON[_0x291723(0x625)](_0x16186e['blocks'][_0x2211fd][_0x291723(0x4ad)][_0x291723(0x336)],null,0x1);_0x4aa9eb[_0x291723(0x280)]>0x2&&(_0x4aa9eb=_0x4aa9eb[_0x291723(0x748)](0x1,_0x4aa9eb['length']-0x1)[_0x291723(0x666)]()),_0x16186e['blocks'][_0x2211fd]['apirequest'][_0x291723(0x52a)]=_0x4aa9eb;}let _0x1df9a4=_0x16186e[_0x291723(0x510)][_0x2211fd][_0x291723(0x4e4)];_0x5d2838!==_0x1df9a4?(this[_0x291723(0x3c1)](_0x16186e['blocks'],_0x5d2838),this['reorderBlocks'](_0x16186e['blocks'],_0x1df9a4)):this[_0x291723(0x3c1)](_0x16186e[_0x291723(0x510)],_0x5d2838);}['addBlock'](_0x64c180,_0x5813f0){const _0x13420e=a0_0x20d441;if(_0x5813f0['block'][_0x13420e(0x7a0)]===_0x13420e(0x271)){this[_0x13420e(0x5a9)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x5813f0[_0x13420e(0x2e7)][_0x13420e(0x4ad)]&&_0x13420e(0x2b0)in _0x5813f0['block'][_0x13420e(0x4ad)]){this[_0x13420e(0x367)][_0x13420e(0x411)](this[_0x13420e(0x621)]+'\x20('+this[_0x13420e(0x3b2)][_0x13420e(0x542)]+_0x13420e(0x43b));let _0x3d5a18=JSON[_0x13420e(0x625)](_0x5813f0['block'][_0x13420e(0x4ad)][_0x13420e(0x2b0)],null,0x1);_0x3d5a18[_0x13420e(0x280)]>0x2&&(_0x3d5a18=_0x3d5a18[_0x13420e(0x748)](0x1,_0x3d5a18[_0x13420e(0x280)]-0x1)[_0x13420e(0x666)]()),_0x5813f0[_0x13420e(0x2e7)][_0x13420e(0x4ad)]['headerString']=_0x3d5a18;}_0x5813f0[_0x13420e(0x2e7)][_0x13420e(0x4ad)]&&_0x13420e(0x336)in _0x5813f0[_0x13420e(0x2e7)]['apirequest']&&(this[_0x13420e(0x367)][_0x13420e(0x411)](this['instanceName']+'\x20('+this[_0x13420e(0x3b2)][_0x13420e(0x542)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x5813f0[_0x13420e(0x2e7)][_0x13420e(0x4ad)][_0x13420e(0x52a)]=JSON[_0x13420e(0x625)](_0x5813f0['block']['apirequest'][_0x13420e(0x336)],null,0x1)[_0x13420e(0x666)]()),_0x64c180[_0x13420e(0x510)]['push'](_0x5813f0[_0x13420e(0x2e7)]),this[_0x13420e(0x3c1)](_0x64c180[_0x13420e(0x510)],_0x5813f0[_0x13420e(0x2e7)][_0x13420e(0x4e4)]);}[a0_0x20d441(0x3c1)](_0x1c4338,_0x30eab3){const _0x585b67=a0_0x20d441;let _0x3babb9=_0x1c4338[_0x585b67(0x2a6)](_0x229f5b=>_0x229f5b['groupId']===_0x30eab3);_0x3babb9[_0x585b67(0x42e)]((_0x1ddadd,_0x2063d7)=>_0x1ddadd[_0x585b67(0x401)]-_0x2063d7['order']),_0x3babb9[_0x585b67(0x3ce)]((_0x52b714,_0x16933b)=>_0x52b714[_0x585b67(0x401)]=_0x16933b+0x1);}async[a0_0x20d441(0x75c)](_0x3ab382){const _0x41cc7c=a0_0x20d441;try{if(this[_0x41cc7c(0x367)][_0x41cc7c(0x411)](this[_0x41cc7c(0x621)]+'\x20('+this['instance']['wuid']+'):\x20Editando\x20replyOption...'),!_0x3ab382||!_0x3ab382[_0x41cc7c(0x79a)]){this[_0x41cc7c(0x5a9)](_0x41cc7c(0x753));return;}let _0x4ab013=await this['repository']['flow']['findOne']({'where':{'name':_0x3ab382[_0x41cc7c(0x6cb)]}},this[_0x41cc7c(0x3b2)]['wuid']);_0x4ab013||this[_0x41cc7c(0x5a9)]('Flow\x20não\x20encontrado');let {replyOption:_0x40bbb6}=_0x3ab382;_0x40bbb6?.['delete']?(this[_0x41cc7c(0x6c9)](_0x4ab013,_0x3ab382),this[_0x41cc7c(0x27c)](_0x4ab013[_0x41cc7c(0x2be)],_0x3ab382[_0x41cc7c(0x79a)][_0x41cc7c(0x672)])):_0x40bbb6[_0x41cc7c(0x749)]?(await this[_0x41cc7c(0x246)](_0x4ab013,_0x3ab382),this['reorderReplyOptions'](_0x4ab013[_0x41cc7c(0x2be)],_0x3ab382[_0x41cc7c(0x79a)][_0x41cc7c(0x672)])):(this[_0x41cc7c(0x72d)](_0x4ab013,_0x3ab382),this[_0x41cc7c(0x27c)](_0x4ab013[_0x41cc7c(0x2be)],_0x3ab382[_0x41cc7c(0x79a)][_0x41cc7c(0x672)]));let _0x3f900d=await this['repository']['flow'][_0x41cc7c(0x590)](_0x4ab013[_0x41cc7c(0x749)],_0x4ab013,this['instance'][_0x41cc7c(0x542)]);if(!_0x3f900d)throw new Error(_0x41cc7c(0x67a));return _0x3f900d;}catch(_0x53e7df){this[_0x41cc7c(0x5a9)]('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x53e7df);}}[a0_0x20d441(0x27c)](_0x3b050d,_0x5dea38){const _0xe671b4=a0_0x20d441;console[_0xe671b4(0x3a8)]('Reordenando\x20replyOptions\x20para\x20o\x20blockId:',_0x5dea38),_0x3b050d['forEach'](_0xe2bfd7=>{const _0x2a1ae7=_0xe671b4;_0xe2bfd7[_0x2a1ae7(0x672)]===_0x5dea38&&_0xe2bfd7[_0x2a1ae7(0x401)]===void 0x0&&(_0xe2bfd7[_0x2a1ae7(0x401)]=0x270f);});let _0x5ad2e8=_0x3b050d[_0xe671b4(0x2a6)](_0x484f5b=>_0x484f5b[_0xe671b4(0x672)]===_0x5dea38);_0x5ad2e8['sort']((_0x19afc5,_0x5bf89f)=>_0x19afc5[_0xe671b4(0x401)]-_0x5bf89f[_0xe671b4(0x401)]),_0x5ad2e8[_0xe671b4(0x3ce)]((_0x365d61,_0x4d8915)=>{const _0x319f10=_0xe671b4;_0x365d61[_0x319f10(0x401)]=_0x4d8915+0x1;}),_0x3b050d[_0xe671b4(0x3ce)](_0x3a0cfd=>{const _0x1fc948=_0xe671b4;if(_0x3a0cfd[_0x1fc948(0x672)]===_0x5dea38){let _0x4b445b=_0x5ad2e8['find'](_0x1bd16d=>_0x1bd16d[_0x1fc948(0x749)]&&_0x3a0cfd['_id']&&_0x1bd16d[_0x1fc948(0x749)][_0x1fc948(0x390)]()===_0x3a0cfd[_0x1fc948(0x749)][_0x1fc948(0x390)]());_0x4b445b&&(_0x3a0cfd[_0x1fc948(0x401)]=_0x4b445b['order']);}}),console[_0xe671b4(0x3a8)](_0xe671b4(0x3fd),_0x3b050d);}[a0_0x20d441(0x6c9)](_0x211bcc,_0x4f91b7){const _0xc46f6=a0_0x20d441;let {replyOption:_0x3ca396}=_0x4f91b7;if(!_0x3ca396[_0xc46f6(0x749)]){this[_0xc46f6(0x5a9)](_0xc46f6(0x373));return;}if(!_0x211bcc[_0xc46f6(0x2be)][_0xc46f6(0x466)](_0x49b2cd=>_0x49b2cd[_0xc46f6(0x749)][_0xc46f6(0x390)]()===_0x4f91b7['replyOption']['_id'][_0xc46f6(0x390)]())){this[_0xc46f6(0x5a9)]('ReplyOption\x20com\x20ID\x20'+_0x3ca396[_0xc46f6(0x749)]+_0xc46f6(0x6cd));return;}_0x211bcc[_0xc46f6(0x2be)]=_0x211bcc[_0xc46f6(0x2be)]['filter'](_0x35f1f2=>_0x35f1f2[_0xc46f6(0x749)][_0xc46f6(0x390)]()!==_0x4f91b7[_0xc46f6(0x79a)][_0xc46f6(0x749)]['toString']());}async[a0_0x20d441(0x246)](_0x2705a5,_0x2586a9){const _0x5b7b25=a0_0x20d441;let _0x410c92=_0x2705a5['replyOptions']['findIndex'](_0x217a2d=>_0x217a2d[_0x5b7b25(0x749)]['toString']()===_0x2586a9[_0x5b7b25(0x79a)][_0x5b7b25(0x749)][_0x5b7b25(0x390)]());if(_0x410c92===-0x1){this['throwAndLogError'](_0x5b7b25(0x483)+_0x2586a9[_0x5b7b25(0x79a)][_0x5b7b25(0x749)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x3ca08b in _0x2586a9[_0x5b7b25(0x79a)])_0x2586a9[_0x5b7b25(0x79a)][_0x5b7b25(0x292)](_0x3ca08b)&&(_0x2705a5[_0x5b7b25(0x2be)][_0x410c92][_0x3ca08b]=_0x2586a9[_0x5b7b25(0x79a)][_0x3ca08b]);}[a0_0x20d441(0x72d)](_0x20aa56,_0x599812){const _0x2ed1ba=a0_0x20d441;_0x20aa56['replyOptions'][_0x2ed1ba(0x4cf)](_0x599812[_0x2ed1ba(0x79a)]);}async['editFlowGroup'](_0x5bf6ff){const _0x18f69d=a0_0x20d441;this['logger'][_0x18f69d(0x411)](this['instanceName']+'\x20('+this[_0x18f69d(0x3b2)]['wuid']+_0x18f69d(0x6d6)+_0x5bf6ff);try{this[_0x18f69d(0x367)][_0x18f69d(0x411)](this[_0x18f69d(0x621)]+'\x20('+this['instance'][_0x18f69d(0x542)]+'):\x20Editando\x20grupo\x20do\x20fluxo...');let _0x4e7374=await this[_0x18f69d(0x356)][_0x18f69d(0x642)]['findOne']({'where':{'name':_0x5bf6ff[_0x18f69d(0x6cb)]}},this[_0x18f69d(0x3b2)][_0x18f69d(0x542)]);if(!_0x4e7374)throw new Error(_0x18f69d(0x3cc));if(_0x5bf6ff[_0x18f69d(0x591)]&&_0x5bf6ff[_0x18f69d(0x591)]?.[_0x18f69d(0x435)]===!0x0){if(this['logger'][_0x18f69d(0x411)](this['instanceName']+'\x20('+this[_0x18f69d(0x3b2)][_0x18f69d(0x542)]+_0x18f69d(0x787)),_0x5bf6ff[_0x18f69d(0x591)]['default']===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x4e7374[_0x18f69d(0x510)][_0x18f69d(0x3de)](_0x4dca00=>_0x4dca00[_0x18f69d(0x4e4)][_0x18f69d(0x390)]()===_0x5bf6ff['group'][_0x18f69d(0x749)]))return this[_0x18f69d(0x367)][_0x18f69d(0x411)](this[_0x18f69d(0x621)]+'\x20('+this[_0x18f69d(0x3b2)]['wuid']+'):\x20tem\x20blocks'),{'message':_0x18f69d(0x2e9)};_0x4e7374['groups']=_0x4e7374[_0x18f69d(0x5e3)][_0x18f69d(0x2a6)](_0x32ea3e=>_0x32ea3e[_0x18f69d(0x749)][_0x18f69d(0x390)]()!==_0x5bf6ff['group'][_0x18f69d(0x749)]);}else{if(_0x5bf6ff[_0x18f69d(0x591)]){if(_0x5bf6ff['group'][_0x18f69d(0x2dd)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x5bf6ff[_0x18f69d(0x591)][_0x18f69d(0x749)]){let _0x214a8c=_0x4e7374['groups'][_0x18f69d(0x466)](_0xbf8167=>_0xbf8167[_0x18f69d(0x749)][_0x18f69d(0x390)]()===_0x5bf6ff[_0x18f69d(0x591)][_0x18f69d(0x749)]);_0x214a8c&&(_0x5bf6ff[_0x18f69d(0x591)]['x']<0x0&&(_0x5bf6ff[_0x18f69d(0x591)]['x']=0x0),_0x5bf6ff[_0x18f69d(0x591)]['y']<0x0&&(_0x5bf6ff['group']['y']=0x0),Object[_0x18f69d(0x29f)](_0x214a8c,_0x5bf6ff[_0x18f69d(0x591)]));}else _0x4e7374['groups'][_0x18f69d(0x4cf)](_0x5bf6ff[_0x18f69d(0x591)]);}}let _0x46b914=await this[_0x18f69d(0x356)][_0x18f69d(0x642)]['updateOne'](_0x4e7374['_id'],_0x4e7374,this[_0x18f69d(0x3b2)]['wuid']);if(!_0x46b914)throw new Error(_0x18f69d(0x67a));return _0x46b914;}catch(_0x4f7a72){throw this[_0x18f69d(0x367)][_0x18f69d(0x5e0)](this['instanceName']+'\x20('+this['instance'][_0x18f69d(0x542)]+'):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+(_0x4f7a72 instanceof Error?_0x4f7a72[_0x18f69d(0x71e)]:JSON[_0x18f69d(0x625)](_0x4f7a72,null,0x2))),new m(_0x18f69d(0x72f)+(_0x4f7a72 instanceof Error?_0x4f7a72[_0x18f69d(0x71e)]:JSON[_0x18f69d(0x625)](_0x4f7a72,null,0x2)));}}async[a0_0x20d441(0x32d)](_0x2bc9a2){const _0x224457=a0_0x20d441;try{this[_0x224457(0x367)][_0x224457(0x411)](this[_0x224457(0x621)]+'\x20('+this[_0x224457(0x3b2)][_0x224457(0x542)]+_0x224457(0x439));let _0x2640dc=await this[_0x224457(0x356)][_0x224457(0x642)][_0x224457(0x1ca)]({'where':{'name':_0x2bc9a2['name']}},this[_0x224457(0x3b2)][_0x224457(0x542)]);if(!_0x2640dc)throw new Error(_0x224457(0x3cc));let _0x27e316=!0x1;if(_0x2bc9a2['condition']?.['delete']===!0x0)_0x2640dc['conditions']=_0x2640dc[_0x224457(0x536)][_0x224457(0x2a6)](_0x1514ab=>_0x1514ab&&_0x2bc9a2[_0x224457(0x140)]&&_0x1514ab[_0x224457(0x749)]&&_0x2bc9a2['condition']['_id']&&_0x1514ab[_0x224457(0x749)]['toString']()!==_0x2bc9a2[_0x224457(0x140)]['_id'][_0x224457(0x390)]()),_0x27e316=!0x0;else{let _0x265188=_0x2640dc['conditions'][_0x224457(0x466)](_0x1acf7d=>_0x1acf7d&&_0x2bc9a2[_0x224457(0x140)]&&_0x1acf7d[_0x224457(0x749)]&&_0x2bc9a2['condition'][_0x224457(0x749)]&&_0x1acf7d['_id'][_0x224457(0x390)]()===_0x2bc9a2['condition'][_0x224457(0x749)][_0x224457(0x390)]());_0x265188?(_0x27e316=_0x265188[_0x224457(0x401)]!==_0x2bc9a2[_0x224457(0x140)]['order'],Object[_0x224457(0x29f)](_0x265188,_0x2bc9a2[_0x224457(0x140)])):(_0x2640dc['conditions'][_0x224457(0x4cf)](_0x2bc9a2[_0x224457(0x140)]),_0x27e316=!0x0);}if(_0x27e316){_0x2640dc['conditions']['sort']((_0x4dcaf9,_0x4d9077)=>_0x4dcaf9['order']>_0x4d9077[_0x224457(0x401)]?0x1:_0x4d9077[_0x224457(0x401)]>_0x4dcaf9['order']?-0x1:0x0);for(let _0x19f5bc=0x0;_0x19f5bc<_0x2640dc['conditions']['length'];_0x19f5bc++)_0x2640dc[_0x224457(0x536)][_0x19f5bc][_0x224457(0x401)]=_0x19f5bc+0x1;_0x2640dc['conditions'][_0x224457(0x280)]>0x0&&(_0x2640dc[_0x224457(0x536)][0x0]['OrAnd']=_0x224457(0x185));}let _0x3dc9ac=await this['repository'][_0x224457(0x642)][_0x224457(0x590)](_0x2640dc[_0x224457(0x749)],_0x2640dc,this[_0x224457(0x3b2)][_0x224457(0x542)]);if(!_0x3dc9ac)throw new Error(_0x224457(0x67a));return _0x3dc9ac;}catch(_0x1bf3c1){throw this[_0x224457(0x367)][_0x224457(0x5e0)](this[_0x224457(0x621)]+'\x20('+this[_0x224457(0x3b2)][_0x224457(0x542)]+_0x224457(0x18c)+(_0x1bf3c1 instanceof Error?_0x1bf3c1['message']:JSON[_0x224457(0x625)](_0x1bf3c1,null,0x2))),new Error(_0x224457(0x64e)+(_0x1bf3c1 instanceof Error?_0x1bf3c1['message']:JSON[_0x224457(0x625)](_0x1bf3c1,null,0x2)));}}async[a0_0x20d441(0x637)](_0x1998d2){const _0x10429f=a0_0x20d441;try{this[_0x10429f(0x367)]['verbose'](this[_0x10429f(0x621)]+'\x20('+this[_0x10429f(0x3b2)]['wuid']+_0x10429f(0x6e6));let _0x5676e0=await this[_0x10429f(0x356)][_0x10429f(0x642)]['findOne']({'where':{'name':_0x1998d2[_0x10429f(0x6cb)]}},this[_0x10429f(0x3b2)][_0x10429f(0x542)]);if(!_0x5676e0)throw new Error(_0x10429f(0x3cc));let _0x348a6a=!0x1;if(_0x1998d2[_0x10429f(0x572)]?.[_0x10429f(0x435)]===!0x0)_0x5676e0[_0x10429f(0x55b)]=_0x5676e0['varedits']['filter'](_0xa443fa=>_0xa443fa&&_0x1998d2[_0x10429f(0x572)]&&_0xa443fa[_0x10429f(0x749)]&&_0x1998d2[_0x10429f(0x572)][_0x10429f(0x749)]&&_0xa443fa['_id'][_0x10429f(0x390)]()!==_0x1998d2[_0x10429f(0x572)][_0x10429f(0x749)]['toString']()),_0x348a6a=!0x0;else{let _0x29c6e8=_0x5676e0[_0x10429f(0x55b)]['find'](_0x2d3d24=>_0x2d3d24&&_0x1998d2[_0x10429f(0x572)]&&_0x2d3d24['_id']&&_0x1998d2[_0x10429f(0x572)][_0x10429f(0x749)]&&_0x2d3d24[_0x10429f(0x749)][_0x10429f(0x390)]()===_0x1998d2['varedit'][_0x10429f(0x749)][_0x10429f(0x390)]());_0x29c6e8?(_0x348a6a=_0x29c6e8[_0x10429f(0x401)]!==_0x1998d2[_0x10429f(0x572)][_0x10429f(0x401)],Object[_0x10429f(0x29f)](_0x29c6e8,_0x1998d2[_0x10429f(0x572)])):(_0x5676e0[_0x10429f(0x55b)]['push'](_0x1998d2['varedit']),_0x348a6a=!0x0);}if(_0x348a6a){_0x5676e0['varedits']['sort']((_0xd4e0bf,_0x34e4cb)=>_0xd4e0bf[_0x10429f(0x401)]>_0x34e4cb['order']?0x1:_0x34e4cb[_0x10429f(0x401)]>_0xd4e0bf['order']?-0x1:0x0);for(let _0xb38309=0x0;_0xb38309<_0x5676e0[_0x10429f(0x55b)][_0x10429f(0x280)];_0xb38309++)_0x5676e0['varedits'][_0xb38309][_0x10429f(0x401)]=_0xb38309+0x1;}let _0x3efd84=await this[_0x10429f(0x356)][_0x10429f(0x642)][_0x10429f(0x590)](_0x5676e0[_0x10429f(0x749)],_0x5676e0,this['instance']['wuid']);if(!_0x3efd84)throw new Error(_0x10429f(0x67a));return _0x3efd84;}catch(_0x291370){throw this[_0x10429f(0x367)][_0x10429f(0x5e0)](this['instanceName']+'\x20('+this[_0x10429f(0x3b2)][_0x10429f(0x542)]+_0x10429f(0x18c)+(_0x291370 instanceof Error?_0x291370[_0x10429f(0x71e)]:JSON[_0x10429f(0x625)](_0x291370,null,0x2))),new m(_0x10429f(0x64e)+(_0x291370 instanceof Error?_0x291370['message']:JSON[_0x10429f(0x625)](_0x291370,null,0x2)));}}async['editFlowVariable'](_0x1d19c6){const _0x521817=a0_0x20d441;try{this['logger'][_0x521817(0x411)](this['instanceName']+'\x20('+this[_0x521817(0x3b2)][_0x521817(0x542)]+_0x521817(0x60a));let _0x558202=await this[_0x521817(0x356)][_0x521817(0x642)][_0x521817(0x1ca)]({'where':{'name':_0x1d19c6[_0x521817(0x6cb)]}},this[_0x521817(0x3b2)][_0x521817(0x542)]);if(!_0x558202)throw new Error(_0x521817(0x3cc));_0x1d19c6[_0x521817(0x635)][_0x521817(0x6cb)]=_0x1d19c6[_0x521817(0x635)][_0x521817(0x6cb)][_0x521817(0x666)](),_0x1d19c6[_0x521817(0x635)][_0x521817(0x6cb)]['startsWith']('_')&&(_0x1d19c6[_0x521817(0x635)][_0x521817(0x6cb)]=_0x1d19c6[_0x521817(0x635)]['name'][_0x521817(0x748)](0x1)),_0x1d19c6[_0x521817(0x635)][_0x521817(0x6cb)]=_0x1d19c6[_0x521817(0x635)][_0x521817(0x6cb)]['trim']();let _0x49ec78=_0x558202[_0x521817(0x1dc)][_0x521817(0x466)](_0x4853b2=>_0x4853b2['name']===_0x1d19c6['variable'][_0x521817(0x6cb)]);if(_0x49ec78?.[_0x521817(0x57f)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x1d19c6['variable']?.[_0x521817(0x435)]===!0x0){if(!_0x49ec78)return{'message':_0x521817(0x5be)};_0x558202[_0x521817(0x1dc)]=_0x558202[_0x521817(0x1dc)]['filter'](_0x14f382=>_0x14f382[_0x521817(0x6cb)]!==_0x1d19c6[_0x521817(0x635)][_0x521817(0x6cb)]);}else _0x49ec78?Object[_0x521817(0x29f)](_0x49ec78,_0x1d19c6['variable']):_0x558202[_0x521817(0x1dc)][_0x521817(0x4cf)](_0x1d19c6[_0x521817(0x635)]);let _0x1e476c=await this[_0x521817(0x356)][_0x521817(0x642)]['updateOne'](_0x558202['_id'],_0x558202,this[_0x521817(0x3b2)][_0x521817(0x542)]);if(!_0x1e476c)throw new Error(_0x521817(0x67a));return _0x1e476c;}catch(_0x17004e){throw this[_0x521817(0x367)][_0x521817(0x5e0)](this[_0x521817(0x621)]+'\x20('+this[_0x521817(0x3b2)]['wuid']+_0x521817(0x27b)+(_0x17004e instanceof Error?_0x17004e[_0x521817(0x71e)]:JSON[_0x521817(0x625)](_0x17004e,null,0x2))),new m(_0x521817(0x4eb)+(_0x17004e instanceof Error?_0x17004e[_0x521817(0x71e)]:JSON[_0x521817(0x625)](_0x17004e,null,0x2)));}}async['startFlow'](_0x32cf64){const _0x3919aa=a0_0x20d441;let _0x5b547a=null;try{if(!this[_0x3919aa(0x6f6)]?.[_0x3919aa(0x685)][_0x3919aa(0x487)])throw new m(_0x3919aa(0x3f7));this[_0x3919aa(0x367)][_0x3919aa(0x411)](this[_0x3919aa(0x621)]+'\x20('+this['instance'][_0x3919aa(0x542)]+_0x3919aa(0x205));let _0x1f264c=(await this[_0x3919aa(0x160)]({'numbers':[_0x32cf64[_0x3919aa(0x290)]]}))[0x0];if(!_0x1f264c[_0x3919aa(0x48c)]&&!(0x0,y[_0x3919aa(0x1e0)])(_0x1f264c[_0x3919aa(0x54f)])&&!_0x1f264c[_0x3919aa(0x54f)][_0x3919aa(0x4c9)]('@broadcast'))throw _0x5b547a=JSON[_0x3919aa(0x625)](_0x1f264c,null,0x2),new m(_0x1f264c);let _0x566720=await this[_0x3919aa(0x356)][_0x3919aa(0x642)][_0x3919aa(0x1ca)]({'where':{'name':_0x32cf64[_0x3919aa(0x6cb)]}},this[_0x3919aa(0x3b2)][_0x3919aa(0x542)]);if(!_0x566720)return this[_0x3919aa(0x367)][_0x3919aa(0x5e0)](this[_0x3919aa(0x621)]+'\x20('+this[_0x3919aa(0x3b2)]['wuid']+_0x3919aa(0x38d)),{'message':'Flow\x20não\x20encontrado'};let _0x37d2e2=await this[_0x3919aa(0x1bf)](_0x566720,_0x1f264c[_0x3919aa(0x54f)],_0x32cf64[_0x3919aa(0x612)]);if(_0x37d2e2){this['logger'][_0x3919aa(0x411)](this[_0x3919aa(0x621)]+'\x20('+this[_0x3919aa(0x3b2)][_0x3919aa(0x542)]+'):\x20Criou\x20conversa\x20no\x20startFlow:');let _0x2b18a1=await this[_0x3919aa(0x211)](_0x37d2e2);return _0x2b18a1&&await this[_0x3919aa(0x3ea)](_0x37d2e2,_0x2b18a1),{'message':_0x3919aa(0x209)+_0x32cf64[_0x3919aa(0x290)]};}}catch(_0x2d7918){if(this['logger'][_0x3919aa(0x5e0)](this[_0x3919aa(0x621)]+'\x20('+this['instance'][_0x3919aa(0x542)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x2d7918 instanceof Error?_0x2d7918[_0x3919aa(0x71e)]:JSON[_0x3919aa(0x625)](_0x2d7918,null,0x2))),_0x5b547a=_0x2d7918 instanceof Error?_0x2d7918[_0x3919aa(0x71e)]:JSON['stringify'](_0x2d7918,null,0x2),_0x5b547a)throw new m(_0x3919aa(0x49e)+_0x5b547a);}}async['closeExistingConversations'](_0x3e7b8c){const _0x5a8b04=a0_0x20d441;try{let _0x2d5552={'remoteJid':_0x3e7b8c,'status':_0x5a8b04(0x47b)},_0x2ccabf={'status':_0x5a8b04(0x469)},_0xf50ab7=await this[_0x5a8b04(0x356)][_0x5a8b04(0x3c8)]['updateMany'](_0x2d5552,_0x2ccabf,this['instance'][_0x5a8b04(0x542)]);return this[_0x5a8b04(0x367)][_0x5a8b04(0x411)](this[_0x5a8b04(0x621)]+'\x20('+this[_0x5a8b04(0x3b2)][_0x5a8b04(0x542)]+_0x5a8b04(0x1fb)),_0xf50ab7;}catch(_0x3964b9){throw this[_0x5a8b04(0x367)][_0x5a8b04(0x5e0)](this[_0x5a8b04(0x621)]+'\x20('+this['instance'][_0x5a8b04(0x542)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x3964b9[_0x5a8b04(0x71e)]),_0x3964b9;}}async[a0_0x20d441(0x1bf)](_0x19b634,_0x4807ee,_0x309427){const _0x20aa81=a0_0x20d441;this[_0x20aa81(0x367)][_0x20aa81(0x411)](this[_0x20aa81(0x621)]+'\x20('+this[_0x20aa81(0x3b2)][_0x20aa81(0x542)]+_0x20aa81(0x353)),await this['closeExistingConversations'](_0x4807ee);try{let _0x4eb91f=require(_0x20aa81(0x406))[_0x20aa81(0x5dd)],_0x359bf7=Date[_0x20aa81(0x79b)](),_0x1536ad=_0x20aa81(0x271),_0x27f976={},_0x174e19={},_0x3e9572={..._0x19b634,'chatLog':null},_0x257616=await this[_0x20aa81(0x782)](_0x3e9572['variables']),_0x3d944e=await this[_0x20aa81(0x549)](_0x4807ee),_0x33ee28={..._0x257616,..._0x3d944e,'_remoteJid':_0x4807ee},_0x52a764={'lastReceivedMessage':_0x27f976,'lastSendMessage':_0x174e19,'lastBlockId':_0x1536ad,'lastCondition':!0x0,'realVariables':_0x33ee28};_0x3e9572[_0x20aa81(0x2fc)]=_0x52a764,_0x3e9572[_0x20aa81(0x2fc)][_0x20aa81(0x728)]={..._0x33ee28,..._0x309427},delete _0x3e9572[_0x20aa81(0x749)],_0x3e9572[_0x20aa81(0x749)]=new _0x4eb91f(),_0x3e9572[_0x20aa81(0x558)]=_0x359bf7,_0x3e9572[_0x20aa81(0x425)]='open',_0x3e9572['remoteJid']=_0x4807ee;let _0x3baf37=await this[_0x20aa81(0x356)][_0x20aa81(0x3c8)]['updateOne'](_0x3e9572[_0x20aa81(0x749)],_0x3e9572,this['instance'][_0x20aa81(0x542)]);return this[_0x20aa81(0x367)][_0x20aa81(0x411)](this[_0x20aa81(0x621)]+'\x20('+this[_0x20aa81(0x3b2)][_0x20aa81(0x542)]+_0x20aa81(0x67b)),_0x3baf37?_0x3e9572:null;}catch(_0xce1933){throw this[_0x20aa81(0x367)][_0x20aa81(0x5e0)](this[_0x20aa81(0x621)]+'\x20('+this['instance']['wuid']+_0x20aa81(0x181)+(_0xce1933 instanceof Error?_0xce1933[_0x20aa81(0x71e)]:JSON[_0x20aa81(0x625)](_0xce1933,null,0x2))),new m(_0xce1933['message']);}}async[a0_0x20d441(0x37c)](_0x259377){const _0x429b8a=a0_0x20d441;try{this['logger']['verbose'](this[_0x429b8a(0x621)]+'\x20('+this[_0x429b8a(0x3b2)][_0x429b8a(0x542)]+_0x429b8a(0x5fa)),this[_0x429b8a(0x367)][_0x429b8a(0x411)](this[_0x429b8a(0x621)]+'\x20('+this[_0x429b8a(0x3b2)]['wuid']+'):\x20Query\x20params:\x20'+_0x259377);let _0x55f742={'where':{'_id':_0x259377}};return await this['repository'][_0x429b8a(0x3c8)][_0x429b8a(0x1ca)](_0x55f742,this['instance'][_0x429b8a(0x542)]);}catch(_0x4fd58a){throw this[_0x429b8a(0x367)][_0x429b8a(0x5e0)](this[_0x429b8a(0x621)]+'\x20('+this[_0x429b8a(0x3b2)][_0x429b8a(0x542)]+'):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20'+(_0x4fd58a instanceof Error?_0x4fd58a[_0x429b8a(0x71e)]:JSON['stringify'](_0x4fd58a,null,0x2))),new m(_0x429b8a(0x18f)+_0x4fd58a[_0x429b8a(0x71e)]);}}async[a0_0x20d441(0x3d6)](_0x236be9){const _0x56cd5f=a0_0x20d441;try{return this[_0x56cd5f(0x367)][_0x56cd5f(0x411)](this[_0x56cd5f(0x621)]+'\x20('+this[_0x56cd5f(0x3b2)][_0x56cd5f(0x542)]+_0x56cd5f(0x261)),await this['repository'][_0x56cd5f(0x3c8)][_0x56cd5f(0x466)](_0x236be9,this[_0x56cd5f(0x3b2)][_0x56cd5f(0x542)]);}catch(_0x5e6a41){throw this['logger'][_0x56cd5f(0x5e0)](this[_0x56cd5f(0x621)]+'\x20('+this[_0x56cd5f(0x3b2)]['wuid']+_0x56cd5f(0x179)+(_0x5e6a41 instanceof Error?_0x5e6a41[_0x56cd5f(0x71e)]:JSON['stringify'](_0x5e6a41,null,0x2))),new m('Erro\x20ao\x20buscar\x20conversas:\x20'+_0x5e6a41[_0x56cd5f(0x71e)]);}}async[a0_0x20d441(0x215)](_0x2e9dae){const _0xb5d449=a0_0x20d441;try{return this[_0xb5d449(0x367)]['verbose'](this[_0xb5d449(0x621)]+'\x20('+this[_0xb5d449(0x3b2)][_0xb5d449(0x542)]+_0xb5d449(0x3d8)),this['logger'][_0xb5d449(0x411)](this[_0xb5d449(0x621)]+'\x20('+this[_0xb5d449(0x3b2)][_0xb5d449(0x542)]+_0xb5d449(0x13d)+_0x2e9dae),(await this[_0xb5d449(0x356)][_0xb5d449(0x3c8)]['deleteOne']({'where':{'_id':_0x2e9dae}},this[_0xb5d449(0x3b2)][_0xb5d449(0x542)]))['deletedCount']===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':_0xb5d449(0x69a)};}catch(_0x278f9c){throw this['logger'][_0xb5d449(0x5e0)](this[_0xb5d449(0x621)]+'\x20('+this['instance'][_0xb5d449(0x542)]+_0xb5d449(0x52f)+(_0x278f9c instanceof Error?_0x278f9c[_0xb5d449(0x71e)]:JSON[_0xb5d449(0x625)](_0x278f9c,null,0x2))),new m(_0xb5d449(0x410)+_0x278f9c['message']);}}async[a0_0x20d441(0x4b9)](_0x2d7d63){const _0xe0655=a0_0x20d441;try{let {_id:_0x432397,chatLog:_0x5a7dce,status:_0x475ee9}=_0x2d7d63;if(!_0x432397)return{'message':_0xe0655(0x3ab)};let _0x10a037={};if(_0x475ee9!==void 0x0&&(_0x10a037[_0xe0655(0x425)]=_0x475ee9),Object[_0xe0655(0x616)](_0x10a037)[_0xe0655(0x280)]===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x3930f7=await this[_0xe0655(0x356)]['flowConversation']['updateOne'](_0x432397,_0x10a037,this['instance']['wuid']);return _0x3930f7||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x203a6c){throw this[_0xe0655(0x367)][_0xe0655(0x5e0)](this[_0xe0655(0x621)]+'\x20('+this[_0xe0655(0x3b2)][_0xe0655(0x542)]+'):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20'+(_0x203a6c instanceof Error?_0x203a6c['message']:JSON[_0xe0655(0x625)](_0x203a6c,null,0x2))),new m('Erro\x20ao\x20editar\x20a\x20conversa:\x20'+_0x203a6c[_0xe0655(0x71e)]);}}async['editChat'](_0x203459){const _0x4f768e=a0_0x20d441;let _0x457d52=await this['repository']['chat']['findOne']({'where':{'_id':_0x203459[_0x4f768e(0x749)]}},this[_0x4f768e(0x3b2)][_0x4f768e(0x542)]);if(!_0x457d52)throw new m(_0x4f768e(0x4a3));console['log'](_0x203459);try{_0x203459[_0x4f768e(0x749)]=this[_0x4f768e(0x710)](_0x203459[_0x4f768e(0x749)]);let {_id:_0x39d6b5,leadInfo:_0x470f5b}=_0x203459;if(!_0x39d6b5)throw new Error(_0x4f768e(0x5e2));let _0x3cda9c=(_0x47c371,_0x31662b,_0x5242b7)=>{_0x47c371&&_0x5242b7['forEach'](_0x55e23e=>{const _0x16b50a=a0_0x731d;_0x47c371[_0x55e23e]!==void 0x0&&(_0x31662b[_0x16b50a(0x152)+_0x55e23e]=_0x47c371[_0x55e23e]);});},_0xe0c304={};if(_0x470f5b&&(_0x3cda9c(_0x470f5b,_0xe0c304,[_0x4f768e(0x2fe),_0x4f768e(0x599),'email',_0x4f768e(0x519),'status',_0x4f768e(0x791),_0x4f768e(0x696),_0x4f768e(0x1e4),_0x4f768e(0x38f),'etiquetas']),Array[_0x4f768e(0x190)](_0x470f5b[_0x4f768e(0x750)])&&(_0xe0c304['leadInfo.customFields']=_0x470f5b[_0x4f768e(0x750)][_0x4f768e(0x6b3)](_0x1911de=>({'_id':_0x1911de['_id'],'value':_0x1911de['value']}))),_0x203459[_0x4f768e(0x57f)]['etiquetas']!==void 0x0)){let _0x3b17fc=await this[_0x4f768e(0x356)][_0x4f768e(0x5f4)][_0x4f768e(0x466)]({'where':{}},this[_0x4f768e(0x3b2)][_0x4f768e(0x542)]),_0x5e844b=new Set(_0x203459[_0x4f768e(0x57f)][_0x4f768e(0x5ab)]||[]),_0x4096fc=new Set(_0x203459[_0x4f768e(0x57f)][_0x4f768e(0x5ab)]),_0x13bcac=new Set(_0x3b17fc[_0x4f768e(0x6b3)](_0x3ee56f=>_0x3ee56f[_0x4f768e(0x749)])),_0x48c0a5=[..._0x4096fc][_0x4f768e(0x2a6)](_0x1327cf=>!_0x5e844b[_0x4f768e(0x4e9)](_0x1327cf)&&_0x13bcac['has'](_0x1327cf)),_0xa4e348=[..._0x5e844b][_0x4f768e(0x2a6)](_0x293b16=>!_0x4096fc[_0x4f768e(0x4e9)](_0x293b16));if(_0xe0c304['leadInfo.etiquetas']=[..._0x5e844b],_0x457d52&&!_0x457d52['imported']){for(let _0x59e11a of _0x48c0a5)await this[_0x4f768e(0x679)](_0x59e11a,_0x203459['_id']),_0x5e844b[_0x4f768e(0x2f7)](_0x59e11a);for(let _0x9aa3cd of _0xa4e348)await this[_0x4f768e(0x60f)](_0x9aa3cd,_0x203459[_0x4f768e(0x749)]),_0x5e844b[_0x4f768e(0x435)](_0x9aa3cd);}}if(_0x203459[_0x4f768e(0x2c5)]!==void 0x0&&(_0xe0c304[_0x4f768e(0x2c5)]=Number(_0x203459[_0x4f768e(0x2c5)])),Object[_0x4f768e(0x616)](_0xe0c304)[_0x4f768e(0x280)]===0x0)throw new Error(_0x4f768e(0x59c));let _0x180558=await this[_0x4f768e(0x356)]['chat'][_0x4f768e(0x590)]({'where':{'_id':_0x203459['_id']}},_0xe0c304,this[_0x4f768e(0x3b2)][_0x4f768e(0x542)]);return _0x180558&&J(this['instanceName'],_0x4f768e(0x759),{'chat':_0x180558}),_0x180558?(this[_0x4f768e(0x367)][_0x4f768e(0x411)](this[_0x4f768e(0x621)]+'\x20('+this['instance'][_0x4f768e(0x542)]+'):\x20'+JSON[_0x4f768e(0x625)](_0x180558,null,0x2)),_0x180558):{'message':_0x4f768e(0x1ed)};}catch(_0x5ab66b){throw this['logger'][_0x4f768e(0x5e0)](this[_0x4f768e(0x621)]+'\x20('+this[_0x4f768e(0x3b2)][_0x4f768e(0x542)]+_0x4f768e(0x194)+(_0x5ab66b instanceof Error?_0x5ab66b['message']:JSON['stringify'](_0x5ab66b,null,0x2))),new m(_0x4f768e(0x622)+_0x5ab66b[_0x4f768e(0x71e)]);}}async['AddChatLabel'](_0xf8db74,_0x59abdc){const _0x18bf5f=a0_0x20d441;try{await this[_0x18bf5f(0x144)]['addChatLabel'](_0x59abdc,_0xf8db74),console[_0x18bf5f(0x3a8)](_0x18bf5f(0x4fa)+_0xf8db74+'\x20adicionado\x20ao\x20chat\x20'+_0x59abdc+_0x18bf5f(0x579));}catch(_0x1776dd){console[_0x18bf5f(0x5e0)](_0x18bf5f(0x419)+_0xf8db74+_0x18bf5f(0x761)+_0x59abdc+':',_0x1776dd);}}async[a0_0x20d441(0x60f)](_0x154189,_0x3771b8){const _0x29ca5c=a0_0x20d441;try{await this[_0x29ca5c(0x144)]['removeChatLabel'](_0x3771b8,_0x154189),console[_0x29ca5c(0x3a8)](_0x29ca5c(0x4fa)+_0x154189+_0x29ca5c(0x457)+_0x3771b8+_0x29ca5c(0x579));}catch(_0x315d1b){console[_0x29ca5c(0x5e0)]('Erro\x20ao\x20remover\x20label\x20'+_0x154189+_0x29ca5c(0x6c8)+_0x3771b8+':',_0x315d1b);}}async['updateAgent'](_0x2d6257){const _0x8119d6=a0_0x20d441;try{let _0x488283=await this[_0x8119d6(0x356)]['automateSystem'][_0x8119d6(0x177)](this[_0x8119d6(0x3b2)][_0x8119d6(0x542)]),_0x2f400d=_0x2d6257['_id']?_0x488283[_0x8119d6(0x2aa)]['findIndex'](_0x2c8591=>_0x2c8591[_0x8119d6(0x749)]===_0x2d6257['_id']):-0x1;if(_0x2d6257[_0x8119d6(0x435)]&&_0x2f400d>-0x1)_0x488283[_0x8119d6(0x2aa)]['splice'](_0x2f400d,0x1);else{if(_0x2f400d>-0x1){let _0x55325f=_0x488283[_0x8119d6(0x2aa)][_0x2f400d];_0x2d6257[_0x8119d6(0x601)]&&(_0x55325f[_0x8119d6(0x601)]=_0x2d6257['fone']),_0x2d6257[_0x8119d6(0x6cb)]&&(_0x55325f[_0x8119d6(0x6cb)]=_0x2d6257['name']),_0x2d6257[_0x8119d6(0x26a)]&&(_0x55325f[_0x8119d6(0x26a)]=_0x2d6257[_0x8119d6(0x26a)]),_0x2d6257[_0x8119d6(0x647)]&&(_0x55325f['role']=_0x2d6257[_0x8119d6(0x647)]);}else _0x488283[_0x8119d6(0x2aa)]['push']({'_id':_0x2d6257[_0x8119d6(0x749)]||new ie[(_0x8119d6(0x2dd))][(_0x8119d6(0x2d5))][(_0x8119d6(0x5dd))]()['toString'](),'fone':_0x2d6257[_0x8119d6(0x601)],'name':_0x2d6257['name'],'email':_0x2d6257[_0x8119d6(0x26a)],'role':_0x2d6257[_0x8119d6(0x647)]});}let _0x1ca582={'agents':_0x488283[_0x8119d6(0x2aa)]},_0x37135f=await this[_0x8119d6(0x356)][_0x8119d6(0x60d)]['update'](_0x1ca582,this[_0x8119d6(0x3b2)][_0x8119d6(0x542)]);return this['AutomateSystem']=_0x37135f,this[_0x8119d6(0x367)]['verbose'](this[_0x8119d6(0x621)]+'\x20('+this[_0x8119d6(0x3b2)][_0x8119d6(0x542)]+_0x8119d6(0x167)),this[_0x8119d6(0x367)][_0x8119d6(0x411)](this[_0x8119d6(0x621)]+'\x20('+this[_0x8119d6(0x3b2)][_0x8119d6(0x542)]+_0x8119d6(0x383)+this[_0x8119d6(0x6f6)]),_0x37135f;}catch(_0x390ecc){throw this['logger']['error'](this[_0x8119d6(0x621)]+'\x20('+this[_0x8119d6(0x3b2)][_0x8119d6(0x542)]+_0x8119d6(0x21f)+(_0x390ecc instanceof Error?_0x390ecc[_0x8119d6(0x71e)]:JSON[_0x8119d6(0x625)](_0x390ecc,null,0x2))),new m('Erro\x20ao\x20editar\x20agentes:\x20'+_0x390ecc[_0x8119d6(0x71e)]);}}async[a0_0x20d441(0x5fc)](_0x369e5b){const _0xcfb0bc=a0_0x20d441;try{let _0x597259=await this[_0xcfb0bc(0x356)][_0xcfb0bc(0x60d)][_0xcfb0bc(0x177)](this['instance']['wuid']),_0x30362d=_0x369e5b['_id']?_0x597259[_0xcfb0bc(0x750)][_0xcfb0bc(0x423)](_0x33016f=>_0x33016f[_0xcfb0bc(0x749)]===_0x369e5b['_id']):-0x1,_0x4d391d=!0x1,_0x1426a8=_0x597259[_0xcfb0bc(0x750)]['some'](_0x203474=>_0x203474[_0xcfb0bc(0x401)]===_0x369e5b[_0xcfb0bc(0x401)]);if(_0x369e5b[_0xcfb0bc(0x435)]&&_0x30362d>-0x1)_0x597259['customFields']['splice'](_0x30362d,0x1),_0x4d391d=!0x0;else{if(_0x30362d>-0x1){if(_0x597259[_0xcfb0bc(0x750)][_0xcfb0bc(0x3de)](_0x25a6f4=>_0x25a6f4[_0xcfb0bc(0x6cb)]===_0x369e5b[_0xcfb0bc(0x6cb)]&&_0x25a6f4[_0xcfb0bc(0x749)]!==_0x369e5b[_0xcfb0bc(0x749)]))throw new Error(_0xcfb0bc(0x54e));let _0x2d8ce4=_0x597259[_0xcfb0bc(0x750)][_0x30362d];_0x369e5b[_0xcfb0bc(0x401)]&&(_0x1426a8||!Number[_0xcfb0bc(0x378)](_0x369e5b['order']))&&(_0x2d8ce4[_0xcfb0bc(0x401)]=_0x369e5b[_0xcfb0bc(0x401)],_0x4d391d=!0x0),_0x369e5b[_0xcfb0bc(0x6cb)]&&(_0x2d8ce4[_0xcfb0bc(0x6cb)]=_0x369e5b['name']);}else{if(_0x597259['customFields'][_0xcfb0bc(0x3de)](_0x3df96b=>_0x3df96b[_0xcfb0bc(0x6cb)]===_0x369e5b['name']&&_0x3df96b[_0xcfb0bc(0x749)]!==_0x369e5b[_0xcfb0bc(0x749)]))throw new Error(_0xcfb0bc(0x54e));_0x597259['customFields'][_0xcfb0bc(0x4cf)]({'_id':_0x369e5b['_id']||new ie[(_0xcfb0bc(0x2dd))]['Types'][(_0xcfb0bc(0x5dd))]()[_0xcfb0bc(0x390)](),'order':_0x369e5b[_0xcfb0bc(0x401)],'name':_0x369e5b[_0xcfb0bc(0x6cb)]}),_0x4d391d=!0x0;}}if(_0x4d391d){_0x597259[_0xcfb0bc(0x750)]['sort']((_0xabe871,_0x1d1f62)=>_0xabe871[_0xcfb0bc(0x401)]>_0x1d1f62['order']?0x1:_0x1d1f62[_0xcfb0bc(0x401)]>_0xabe871[_0xcfb0bc(0x401)]?-0x1:0x0);for(let _0x503b34=0x0;_0x503b34<_0x597259['customFields']['length'];_0x503b34++)_0x597259['customFields'][_0x503b34][_0xcfb0bc(0x401)]=_0x503b34+0x1;}let _0x4d8a34=await this[_0xcfb0bc(0x356)][_0xcfb0bc(0x60d)][_0xcfb0bc(0x338)](_0x597259,this[_0xcfb0bc(0x3b2)][_0xcfb0bc(0x542)]);return this[_0xcfb0bc(0x6f6)]=_0x4d8a34,this[_0xcfb0bc(0x367)]['verbose'](this['instanceName']+'\x20('+this[_0xcfb0bc(0x3b2)][_0xcfb0bc(0x542)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0xcfb0bc(0x367)]['verbose'](this[_0xcfb0bc(0x621)]+'\x20('+this[_0xcfb0bc(0x3b2)][_0xcfb0bc(0x542)]+'):\x20'+this[_0xcfb0bc(0x6f6)]),_0x4d8a34;}catch(_0x81bfc2){throw this[_0xcfb0bc(0x367)][_0xcfb0bc(0x5e0)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xcfb0bc(0x4f8)+(_0x81bfc2 instanceof Error?_0x81bfc2[_0xcfb0bc(0x71e)]:JSON[_0xcfb0bc(0x625)](_0x81bfc2,null,0x2))),new m('Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+_0x81bfc2[_0xcfb0bc(0x71e)]);}}async[a0_0x20d441(0x1de)](_0x27cd6f){const _0x201f92=a0_0x20d441;try{let _0x54d4b0=await this['repository'][_0x201f92(0x60d)][_0x201f92(0x177)](this[_0x201f92(0x3b2)][_0x201f92(0x542)]);if(!_0x54d4b0)throw new Error(_0x201f92(0x5f8));let _0x55eabd={'_id':_0x54d4b0['_id'],'flowConfig':{'enabled':_0x27cd6f['enabled']??_0x54d4b0[_0x201f92(0x685)][_0x201f92(0x487)],'ignoreGroups':_0x27cd6f[_0x201f92(0x57b)]??_0x54d4b0['flowConfig']['ignoreGroups'],'prefixCommand':_0x27cd6f['prefixCommand']??_0x54d4b0[_0x201f92(0x685)][_0x201f92(0x6ac)],'stopConversation':_0x27cd6f[_0x201f92(0x230)]??_0x54d4b0[_0x201f92(0x685)][_0x201f92(0x230)],'stopMinutes':_0x27cd6f[_0x201f92(0x6ef)]??_0x54d4b0[_0x201f92(0x685)]['stopMinutes'],'stopWhenYouSendMsg':_0x27cd6f[_0x201f92(0x691)]??_0x54d4b0[_0x201f92(0x685)][_0x201f92(0x691)]}},_0x16ae0a=await this[_0x201f92(0x356)][_0x201f92(0x60d)][_0x201f92(0x338)](_0x55eabd,this[_0x201f92(0x3b2)][_0x201f92(0x542)]);return this['AutomateSystem']=_0x16ae0a,this[_0x201f92(0x367)]['verbose'](this['instanceName']+'\x20('+this[_0x201f92(0x3b2)]['wuid']+_0x201f92(0x167)),this[_0x201f92(0x367)][_0x201f92(0x411)](this[_0x201f92(0x621)]+'\x20('+this[_0x201f92(0x3b2)][_0x201f92(0x542)]+_0x201f92(0x383)+this[_0x201f92(0x6f6)]),setTimeout(()=>this[_0x201f92(0x66b)](),0x7d0),_0x16ae0a;}catch(_0x2dc5c7){throw this[_0x201f92(0x367)]['error'](this[_0x201f92(0x621)]+'\x20('+this[_0x201f92(0x3b2)][_0x201f92(0x542)]+_0x201f92(0x6cf)+(_0x2dc5c7 instanceof Error?_0x2dc5c7[_0x201f92(0x71e)]:JSON[_0x201f92(0x625)](_0x2dc5c7,null,0x2))),new m(_0x201f92(0x55e)+_0x2dc5c7[_0x201f92(0x71e)]);}}async[a0_0x20d441(0x799)](){const _0x211c9f=a0_0x20d441;try{let _0x56e38d=await this['repository'][_0x211c9f(0x60d)]['findOrCreate'](this[_0x211c9f(0x3b2)]['wuid']);return this[_0x211c9f(0x6f6)]=_0x56e38d,this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x211c9f(0x3b2)]['wuid']+'):\x20Visualizando\x20AutomateSystem'),this[_0x211c9f(0x367)][_0x211c9f(0x411)](this[_0x211c9f(0x6f6)]),_0x56e38d;}catch(_0x382782){throw this['logger'][_0x211c9f(0x5e0)](this[_0x211c9f(0x621)]+'\x20('+this['instance'][_0x211c9f(0x542)]+_0x211c9f(0x358)+(_0x382782 instanceof Error?_0x382782[_0x211c9f(0x71e)]:JSON[_0x211c9f(0x625)](_0x382782,null,0x2))),new m(_0x211c9f(0x639)+_0x382782[_0x211c9f(0x71e)]);}}async[a0_0x20d441(0x32c)](){const _0x3d068f=a0_0x20d441;this[_0x3d068f(0x1e9)]&&clearTimeout(this[_0x3d068f(0x1e9)]),this[_0x3d068f(0x1e9)]=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x3e0e5d=a0_0x20d441;Date[_0x3e0e5d(0x79b)]()-this[_0x3e0e5d(0x762)]>=0x1d4c0&&(this[_0x3e0e5d(0x367)][_0x3e0e5d(0x411)](this['instanceName']+'\x20('+this['instance'][_0x3e0e5d(0x542)]+_0x3e0e5d(0x65e)),this['processingScheduleMessageId']=null,this[_0x3e0e5d(0x762)]=0x0,this[_0x3e0e5d(0x323)]=0x0,await this[_0x3e0e5d(0x66b)]());}async[a0_0x20d441(0x66b)](){const _0x281366=a0_0x20d441;let _0x228c7=()=>{const _0x312921=a0_0x731d;this[_0x312921(0x367)][_0x312921(0x411)](this[_0x312921(0x621)]+'\x20('+this[_0x312921(0x3b2)]['wuid']+_0x312921(0x278)+this[_0x312921(0x371)]+'\x20saindo\x20da\x20função');},_0x46836f=async()=>{const _0x16273b=a0_0x731d;this[_0x16273b(0x367)][_0x16273b(0x411)](this['instanceName']+'\x20('+this[_0x16273b(0x3b2)]['wuid']+_0x16273b(0x74e));let _0x2fa27c=Date[_0x16273b(0x79b)]()-0xc*0x3c*0x3c*0x3e8,_0x4bf101={'where':{'status':{'$in':['scheduled',_0x16273b(0x6bf)]},'$or':[{'when':{'$lte':Date[_0x16273b(0x79b)](),'$gte':_0x2fa27c}},{'when':0x0}]}};return await this[_0x16273b(0x356)]['scheduleMessage'][_0x16273b(0x466)](_0x4bf101,this[_0x16273b(0x3b2)][_0x16273b(0x542)]);},_0x47bf73=async _0x15f111=>{const _0x70cfdc=a0_0x731d;for(let _0x577767 of _0x15f111){let _0x5c7b31={'_id':_0x577767[_0x70cfdc(0x749)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x70cfdc(0x79b)]()-0x1770}}]},_0x12256d={'startSend':Date['now']()};if(!await this[_0x70cfdc(0x356)]['scheduleMessage'][_0x70cfdc(0x590)](_0x5c7b31,_0x12256d,this[_0x70cfdc(0x3b2)][_0x70cfdc(0x542)]))return;if(!this['isConnected']){this[_0x70cfdc(0x367)][_0x70cfdc(0x411)](this[_0x70cfdc(0x621)]+'\x20('+this[_0x70cfdc(0x3b2)][_0x70cfdc(0x542)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}if(_0x577767['type']===_0x70cfdc(0x642)&&!this['AutomateSystem']?.[_0x70cfdc(0x685)][_0x70cfdc(0x487)]){this[_0x70cfdc(0x367)][_0x70cfdc(0x5e0)](this['instanceName']+'\x20('+this['instance'][_0x70cfdc(0x542)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');continue;}(!_0x577767[_0x70cfdc(0x6e7)]||_0x577767['remoteJidsRemaining'][_0x70cfdc(0x280)]===0x0)&&(_0x577767=await this[_0x70cfdc(0x356)]['scheduleMessage'][_0x70cfdc(0x700)](_0x577767[_0x70cfdc(0x749)],{'status':_0x70cfdc(0x6bf),'remoteJidsRemaining':[..._0x577767[_0x70cfdc(0x547)]]},this[_0x70cfdc(0x3b2)][_0x70cfdc(0x542)]));for(let _0x240b04 of _0x577767[_0x70cfdc(0x6e7)]){if(await this[_0x70cfdc(0x32c)](),this[_0x70cfdc(0x762)]=Date[_0x70cfdc(0x79b)](),_0x577767[_0x70cfdc(0x592)][_0x70cfdc(0x3de)](_0x2a8390=>_0x2a8390[_0x70cfdc(0x290)]===_0x240b04)){this['logger'][_0x70cfdc(0x411)](this[_0x70cfdc(0x621)]+'\x20('+this[_0x70cfdc(0x3b2)][_0x70cfdc(0x542)]+_0x70cfdc(0x61f)+_0x240b04+_0x70cfdc(0x568));continue;}if(!this['isConnected']){this[_0x70cfdc(0x367)][_0x70cfdc(0x411)](this[_0x70cfdc(0x621)]+'\x20('+this['instance'][_0x70cfdc(0x542)]+_0x70cfdc(0x286));break;}if(!this[_0x70cfdc(0x371)]){this[_0x70cfdc(0x367)][_0x70cfdc(0x411)](this[_0x70cfdc(0x621)]+'\x20('+this[_0x70cfdc(0x3b2)][_0x70cfdc(0x542)]+_0x70cfdc(0x34c)+_0x577767[_0x70cfdc(0x749)]+_0x70cfdc(0x420));break;}if(_0x577767[_0x70cfdc(0x7a0)]===_0x70cfdc(0x642)&&!this[_0x70cfdc(0x6f6)]?.[_0x70cfdc(0x685)]['enabled']){this[_0x70cfdc(0x367)][_0x70cfdc(0x5e0)](this[_0x70cfdc(0x621)]+'\x20('+this['instance'][_0x70cfdc(0x542)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');break;}let _0x5e76c4={'remoteJid':_0x240b04,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x70cfdc(0x79b)]()},_0x5ef0a6=null;try{let _0x2a5a0e=await this[_0x70cfdc(0x19d)](_0x240b04,_0x577767);_0x5e76c4['error']=_0x2a5a0e[_0x70cfdc(0x5e0)],_0x5e76c4['id']=_0x2a5a0e[_0x70cfdc(0x5e0)]?null:_0x2a5a0e['id'],_0x5e76c4[_0x70cfdc(0x59f)]=_0x2a5a0e[_0x70cfdc(0x5e0)]?_0x2a5a0e['detail']?_0x2a5a0e['detail'][_0x70cfdc(0x390)]():'':null;let _0x36978c={'$push':{'messagesSend':_0x5e76c4},'$pull':{'remoteJidsRemaining':_0x240b04}},_0x3788a4=_0x577767['_id'];if(_0x5ef0a6=await this[_0x70cfdc(0x356)][_0x70cfdc(0x630)]['updateOneById'](_0x3788a4,_0x36978c,this[_0x70cfdc(0x3b2)][_0x70cfdc(0x542)]),_0x2a5a0e[_0x70cfdc(0x5e0)])continue;let _0x50ad8b=this[_0x70cfdc(0x720)](_0x577767['delaySecMin'],_0x577767[_0x70cfdc(0x5f0)]);await this['sleep'](_0x50ad8b);}catch(_0x4306bd){this[_0x70cfdc(0x367)][_0x70cfdc(0x5e0)](this['instanceName']+'\x20('+this[_0x70cfdc(0x3b2)][_0x70cfdc(0x542)]+_0x70cfdc(0x1aa)+_0x240b04+':\x20'+(_0x4306bd instanceof Error?_0x4306bd[_0x70cfdc(0x71e)]:JSON['stringify'](_0x4306bd,null,0x2))),_0x5e76c4[_0x70cfdc(0x5e0)]=!0x0,_0x5e76c4[_0x70cfdc(0x59f)]=_0x4306bd['message'];let _0x2d5384={'$push':{'messagesSend':_0x5e76c4},'$pull':{'remoteJidsRemaining':_0x240b04}},_0xe1da8c=_0x577767['_id'];_0x5ef0a6=await this[_0x70cfdc(0x356)][_0x70cfdc(0x630)][_0x70cfdc(0x700)](_0xe1da8c,_0x2d5384,this[_0x70cfdc(0x3b2)][_0x70cfdc(0x542)]);}finally{if(_0x5ef0a6&&_0x5ef0a6['status']==='stopped'){this['logger'][_0x70cfdc(0x411)](this[_0x70cfdc(0x621)]+'\x20('+this[_0x70cfdc(0x3b2)][_0x70cfdc(0x542)]+_0x70cfdc(0x34c)+_0x577767[_0x70cfdc(0x749)]+_0x70cfdc(0x48b));break;}}}let _0x46ba86=await this[_0x70cfdc(0x356)][_0x70cfdc(0x630)][_0x70cfdc(0x5f6)](_0x577767[_0x70cfdc(0x749)],this[_0x70cfdc(0x3b2)]['wuid']);if(_0x46ba86[_0x70cfdc(0x6e7)]['length']===0x0&&_0x46ba86[_0x70cfdc(0x425)]!=='stopped'){let _0x1175cd={'$set':{'status':_0x70cfdc(0x421)}},_0x4107b2=_0x46ba86[_0x70cfdc(0x749)];await this['repository'][_0x70cfdc(0x630)][_0x70cfdc(0x700)](_0x4107b2,_0x1175cd,this[_0x70cfdc(0x3b2)][_0x70cfdc(0x542)]);}await new Promise(_0x23ae8c=>setTimeout(_0x23ae8c,0x1388));}},_0x5ae7dc=async()=>{const _0xb2cb81=a0_0x731d;let _0x46e0b2={'where':{'status':_0xb2cb81(0x1cc),'when':{'$gt':Date[_0xb2cb81(0x79b)]()}}},_0x5d9166=await this[_0xb2cb81(0x356)][_0xb2cb81(0x630)][_0xb2cb81(0x1ca)](_0x46e0b2,this['instance'][_0xb2cb81(0x542)]);_0x5d9166&&_0x5d9166[_0xb2cb81(0x6bc)]-Date[_0xb2cb81(0x79b)]()<=0x5265c00?this['delayMessage']=_0x5d9166[_0xb2cb81(0x6bc)]-Date[_0xb2cb81(0x79b)]():this[_0xb2cb81(0x323)]=(0x3c+Math[_0xb2cb81(0x5e8)](Math[_0xb2cb81(0x496)]()*0x3c))*0x3c*0x3e8,this['delayMessage']=Math[_0xb2cb81(0x518)](this[_0xb2cb81(0x323)],0x7d0);let _0x16b997=Math[_0xb2cb81(0x3f6)](this[_0xb2cb81(0x323)]/0xea60);if(_0x5d9166){let _0xd800e5=new Date(_0x5d9166[_0xb2cb81(0x6bc)])[_0xb2cb81(0x58f)]();this[_0xb2cb81(0x367)][_0xb2cb81(0x411)](this[_0xb2cb81(0x621)]+'\x20('+this['instance'][_0xb2cb81(0x542)]+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0xd800e5+_0xb2cb81(0x317)+_0x16b997+_0xb2cb81(0x2c3));}else this[_0xb2cb81(0x367)][_0xb2cb81(0x411)](this['instanceName']+'\x20('+this[_0xb2cb81(0x3b2)]['wuid']+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x16b997+_0xb2cb81(0x2c3));setTimeout(()=>this['scheduleNextCheck'](),this['delayMessage']);};if(this[_0x281366(0x371)]){await this[_0x281366(0x32c)](),_0x228c7();return;}if(!this['isConnected']){this[_0x281366(0x367)][_0x281366(0x411)](this[_0x281366(0x621)]+'\x20('+this[_0x281366(0x3b2)][_0x281366(0x542)]+'):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado'),this['processingScheduleMessageId']=null,this['lastSend']=0x0,this['delayMessage']=0x0;return;}try{let _0x3e6050=await _0x46836f();_0x3e6050[_0x281366(0x280)]===0x0?this[_0x281366(0x367)][_0x281366(0x411)](this[_0x281366(0x621)]+'\x20('+this[_0x281366(0x3b2)][_0x281366(0x542)]+_0x281366(0x57e)):(this[_0x281366(0x371)]=_0x3e6050[0x0][_0x281366(0x749)],await _0x47bf73(_0x3e6050)),await _0x5ae7dc(),this['processingScheduleMessageId']=null;}catch(_0x1cebb9){this['logger'][_0x281366(0x5e0)]('Error\x20in\x20scheduleNextCheck:\x20'+(_0x1cebb9 instanceof Error?_0x1cebb9['message']:JSON['stringify'](_0x1cebb9,null,0x2)));}}[a0_0x20d441(0x720)](_0x5a3865,_0x2491a8){const _0x1c385e=a0_0x20d441;return _0x5a3865=Math[_0x1c385e(0x518)](0.5,_0x5a3865),_0x2491a8=Math['min'](Math[_0x1c385e(0x518)](0x3,_0x2491a8),0x78),Math[_0x1c385e(0x5e8)](Math['random']()*(_0x2491a8-_0x5a3865+0x1)+_0x5a3865)*0x3e8;}[a0_0x20d441(0x257)](_0x91a60c){return new Promise(_0x41a6c5=>setTimeout(_0x41a6c5,_0x91a60c));}async[a0_0x20d441(0x549)](_0x55472e){const _0x2a7bc5=a0_0x20d441;if(!this[_0x2a7bc5(0x6f6)]&&(await this[_0x2a7bc5(0x799)](),!this[_0x2a7bc5(0x6f6)]))return null;_0x55472e=this['createJid'](_0x55472e);let _0x593fcc=await this[_0x2a7bc5(0x356)][_0x2a7bc5(0x224)][_0x2a7bc5(0x1ca)]({'where':{'_id':_0x55472e}},this['instance']['wuid']),_0x1744c1={};if(_0x593fcc&&_0x593fcc[_0x2a7bc5(0x57f)]){let _0x71a43b=_0x593fcc['leadInfo'];typeof _0x71a43b[_0x2a7bc5(0x2fe)]=='string'&&(_0x1744c1[_0x2a7bc5(0x2fe)]=_0x71a43b[_0x2a7bc5(0x2fe)]),typeof _0x71a43b[_0x2a7bc5(0x599)]==_0x2a7bc5(0x6c0)&&(_0x1744c1['nomecompleto']=_0x71a43b[_0x2a7bc5(0x599)]),typeof _0x71a43b[_0x2a7bc5(0x26a)]=='string'&&(_0x1744c1[_0x2a7bc5(0x26a)]=_0x71a43b[_0x2a7bc5(0x26a)]),typeof _0x71a43b[_0x2a7bc5(0x519)]==_0x2a7bc5(0x6c0)&&(_0x1744c1[_0x2a7bc5(0x519)]=_0x71a43b[_0x2a7bc5(0x519)]),typeof _0x71a43b[_0x2a7bc5(0x425)]=='string'&&(_0x1744c1[_0x2a7bc5(0x425)]=_0x71a43b[_0x2a7bc5(0x425)]),typeof _0x71a43b[_0x2a7bc5(0x791)]==_0x2a7bc5(0x6c0)&&(_0x1744c1['notas']=_0x71a43b[_0x2a7bc5(0x791)]),typeof _0x71a43b[_0x2a7bc5(0x38f)]==_0x2a7bc5(0x6c0)&&(_0x1744c1[_0x2a7bc5(0x38f)]=_0x71a43b[_0x2a7bc5(0x38f)]),Array[_0x2a7bc5(0x190)](_0x71a43b[_0x2a7bc5(0x696)])&&(_0x1744c1[_0x2a7bc5(0x696)]=_0x71a43b[_0x2a7bc5(0x696)][_0x2a7bc5(0x686)](',\x20')),Array[_0x2a7bc5(0x190)](_0x71a43b[_0x2a7bc5(0x5ab)])&&(_0x1744c1[_0x2a7bc5(0x5ab)]=_0x71a43b[_0x2a7bc5(0x5ab)][_0x2a7bc5(0x686)](',\x20'));}return _0x593fcc&&_0x593fcc['leadInfo']&&_0x593fcc[_0x2a7bc5(0x57f)][_0x2a7bc5(0x750)]&&_0x593fcc['leadInfo'][_0x2a7bc5(0x750)][_0x2a7bc5(0x3ce)](_0x246865=>{const _0x2a09ad=_0x2a7bc5;let _0x21376c=this[_0x2a09ad(0x6f6)]?.[_0x2a09ad(0x750)]['find'](_0x4d7743=>_0x4d7743['_id']===_0x246865[_0x2a09ad(0x749)]);_0x21376c&&(_0x1744c1[_0x21376c['name']]=_0x246865[_0x2a09ad(0x4a6)]);}),_0x1744c1;}async[a0_0x20d441(0x180)](_0x2dddba,_0x14e7ae){const _0x1fc913=a0_0x20d441;let _0x20aa40=await this[_0x1fc913(0x549)](_0x14e7ae);return this[_0x1fc913(0x6c3)](_0x2dddba,_0x20aa40);}async[a0_0x20d441(0x724)](_0xfa89b4){const _0x30c81c=a0_0x20d441;try{if(this[_0x30c81c(0x367)][_0x30c81c(0x411)](this[_0x30c81c(0x621)]+'\x20('+this[_0x30c81c(0x3b2)][_0x30c81c(0x542)]+'):\x20Edit\x20schedule\x20message...'),_0xfa89b4['delete']&&_0xfa89b4[_0x30c81c(0x749)]){if(this[_0x30c81c(0x371)]===_0xfa89b4[_0x30c81c(0x749)]['toString']())throw new Error('Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar');let _0x1d3c5d=await this['repository'][_0x30c81c(0x630)][_0x30c81c(0x2e2)](_0xfa89b4[_0x30c81c(0x749)],this[_0x30c81c(0x3b2)][_0x30c81c(0x542)]);return setTimeout(()=>this[_0x30c81c(0x66b)](),0x7d0),_0x1d3c5d;}let _0x258d18;if(_0xfa89b4['_id']&&(_0x258d18=await this[_0x30c81c(0x356)]['scheduleMessage']['findById'](_0xfa89b4[_0x30c81c(0x749)],this[_0x30c81c(0x3b2)][_0x30c81c(0x542)])),_0x258d18){let _0x5df003;if(this[_0x30c81c(0x371)]===_0x258d18[_0x30c81c(0x749)][_0x30c81c(0x390)]())_0x5df003={'$set':{'status':_0xfa89b4[_0x30c81c(0x425)]}};else{let {_id:_0x4a50be,..._0x3bfe25}=_0xfa89b4;_0x5df003={'$set':_0x3bfe25};}let _0x2ead14=await this[_0x30c81c(0x356)][_0x30c81c(0x630)]['updateOneById'](_0xfa89b4[_0x30c81c(0x749)],_0x5df003,this['instance'][_0x30c81c(0x542)]);return setTimeout(()=>this[_0x30c81c(0x66b)](),0x7d0),_0x2ead14;}else{_0xfa89b4[_0x30c81c(0x76c)]=this['instance'][_0x30c81c(0x542)];let _0x18cf01=await this['repository'][_0x30c81c(0x630)][_0x30c81c(0x60c)](_0xfa89b4,this[_0x30c81c(0x3b2)][_0x30c81c(0x542)]);return setTimeout(()=>this[_0x30c81c(0x66b)](),0x7d0),_0x18cf01;}}catch(_0xe678a1){throw this['logger'][_0x30c81c(0x5e0)](this[_0x30c81c(0x621)]+'\x20('+this[_0x30c81c(0x3b2)][_0x30c81c(0x542)]+_0x30c81c(0x605)+(_0xe678a1 instanceof Error?_0xe678a1[_0x30c81c(0x71e)]:JSON[_0x30c81c(0x625)](_0xe678a1,null,0x2))),new m('Erro:'+_0xe678a1[_0x30c81c(0x71e)]);}}async[a0_0x20d441(0x3ad)](){const _0x4ceb9a=a0_0x20d441;try{return await this[_0x4ceb9a(0x356)][_0x4ceb9a(0x630)][_0x4ceb9a(0x466)]({'where':{}},this[_0x4ceb9a(0x3b2)][_0x4ceb9a(0x542)]);}catch(_0x46bd5e){throw this['logger'][_0x4ceb9a(0x5e0)](this['instanceName']+'\x20('+this[_0x4ceb9a(0x3b2)][_0x4ceb9a(0x542)]+_0x4ceb9a(0x470)+(_0x46bd5e instanceof Error?_0x46bd5e[_0x4ceb9a(0x71e)]:JSON[_0x4ceb9a(0x625)](_0x46bd5e,null,0x2))),new m(_0x4ceb9a(0x344)+_0x46bd5e[_0x4ceb9a(0x71e)]);}}async['deleteDoneMessages'](){const _0x1d2005=a0_0x20d441;try{let _0x19c4e8={'status':'done'},_0x119e43=await this[_0x1d2005(0x356)][_0x1d2005(0x630)][_0x1d2005(0x2a3)](_0x19c4e8,this['instance'][_0x1d2005(0x542)]);if(!_0x119e43[_0x1d2005(0x5e0)])this[_0x1d2005(0x367)][_0x1d2005(0x411)](this['instanceName']+'\x20('+this[_0x1d2005(0x3b2)]['wuid']+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.');else throw new Error(_0x119e43[_0x1d2005(0x5e0)][_0x1d2005(0x71e)]||_0x1d2005(0x3a3));return this[_0x1d2005(0x3ad)]();}catch(_0x1a724c){throw this['logger']['error'](this[_0x1d2005(0x621)]+'\x20('+this[_0x1d2005(0x3b2)][_0x1d2005(0x542)]+'):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:'+(_0x1a724c instanceof Error?_0x1a724c[_0x1d2005(0x71e)]:JSON[_0x1d2005(0x625)](_0x1a724c,null,0x2))),new m(_0x1d2005(0x344)+_0x1a724c[_0x1d2005(0x71e)]);}}async[a0_0x20d441(0x19d)](_0x2d17b7,_0x4526c7){const _0x55403e=a0_0x20d441;try{if(_0x4526c7[_0x55403e(0x7a0)]==='flow'&&!this[_0x55403e(0x6f6)]?.[_0x55403e(0x685)][_0x55403e(0x487)])return this[_0x55403e(0x367)][_0x55403e(0x5e0)](this[_0x55403e(0x621)]+'\x20('+this[_0x55403e(0x3b2)][_0x55403e(0x542)]+_0x55403e(0x272)),{'error':!0x0,'detail':'Fluxos\x20não\x20estão\x20ativados'};switch(_0x4526c7['type']){case _0x55403e(0x5e5):return await this[_0x55403e(0x541)](_0x4526c7,_0x2d17b7);case'media':return await this[_0x55403e(0x50c)](_0x4526c7,_0x2d17b7);case _0x55403e(0x42a):return await this[_0x55403e(0x564)](_0x4526c7,_0x2d17b7);case _0x55403e(0x642):let _0x1a90ea=new _e();return _0x1a90ea[_0x55403e(0x6cb)]=_0x4526c7[_0x55403e(0x5cd)],_0x1a90ea['remoteJid']=_0x2d17b7,await this['startFlow'](_0x1a90ea);break;default:return this['logger'][_0x55403e(0x5e0)](this[_0x55403e(0x621)]+'\x20('+this['instance']['wuid']+_0x55403e(0x75f)+_0x4526c7[_0x55403e(0x7a0)]),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x409d6f){return this['logger'][_0x55403e(0x5e0)](this['instanceName']+'\x20('+this[_0x55403e(0x3b2)]['wuid']+_0x55403e(0x4ec)+(_0x409d6f instanceof Error?_0x409d6f[_0x55403e(0x71e)]:JSON[_0x55403e(0x625)](_0x409d6f,null,0x2))),{'error':!0x0,'detail':_0x409d6f[_0x55403e(0x71e)]};}}[a0_0x20d441(0x436)](_0x4bac67){const _0x368bc8=a0_0x20d441;let _0x4f9aca=_0x4bac67['split']('|'),_0x5e1579=Math[_0x368bc8(0x5e8)](Math['random']()*_0x4f9aca[_0x368bc8(0x280)]);return _0x4f9aca[_0x5e1579][_0x368bc8(0x666)]();}async[a0_0x20d441(0x541)](_0x541a0a,_0xb44d6c){const _0xde5718=a0_0x20d441;if(this[_0xde5718(0x367)][_0xde5718(0x411)](this['instanceName']+'\x20('+this[_0xde5718(0x3b2)][_0xde5718(0x542)]+'):\x20Enviando\x20texto'),!_0x541a0a['message'][_0xde5718(0x5e5)]||_0x541a0a['message'][_0xde5718(0x5e5)][_0xde5718(0x280)]===0x0)return{'error':!0x0,'detail':'sem\x20texto\x20na\x20mensagem'};let _0x1daebe=this[_0xde5718(0x436)](_0x541a0a[_0xde5718(0x71e)]['text']),_0x170d01=await this[_0xde5718(0x180)](_0x1daebe,_0xb44d6c),_0x3e52f1={'number':_0xb44d6c,'options':{'delay':_0x541a0a[_0xde5718(0x71e)][_0xde5718(0x641)]},'textMessage':{'text':_0x170d01}},_0x487da2=null;try{let _0x1f5f60=await this[_0xde5718(0x256)](_0x3e52f1);if(_0x1f5f60&&_0x1f5f60['status'])return{'error':!0x1,'id':_0x1f5f60[_0xde5718(0x59d)]['id']};_0x487da2=JSON[_0xde5718(0x625)](_0x1f5f60),this['logger'][_0xde5718(0x411)](this[_0xde5718(0x621)]+'\x20('+this['instance']['wuid']+_0xde5718(0x383)+_0x487da2);}catch(_0x317529){this[_0xde5718(0x367)]['error'](this[_0xde5718(0x621)]+'\x20('+this[_0xde5718(0x3b2)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x317529 instanceof Error?_0x317529[_0xde5718(0x71e)]:JSON[_0xde5718(0x625)](_0x317529,null,0x2))),_0x487da2=_0x317529[_0xde5718(0x71e)];}if(_0x487da2)return{'error':!0x0,'detail':(typeof _0x487da2==_0xde5718(0x522)?JSON[_0xde5718(0x625)](_0x487da2,null,0x2):_0x487da2)[_0xde5718(0x797)](/[\[\]{}\n]/g,'\x20')[_0xde5718(0x797)](/  +/g,'\x20')};}async[a0_0x20d441(0x50c)](_0x29ab5d,_0xff3579){const _0x12484a=a0_0x20d441;this['logger'][_0x12484a(0x411)](this[_0x12484a(0x621)]+'\x20('+this[_0x12484a(0x3b2)][_0x12484a(0x542)]+_0x12484a(0x1ae));let _0x203ada;if(_0x29ab5d[_0x12484a(0x71e)][_0x12484a(0x5e5)]&&_0x29ab5d[_0x12484a(0x71e)][_0x12484a(0x5e5)][_0x12484a(0x280)]>0x0){let _0x34d57e=this[_0x12484a(0x436)](_0x29ab5d[_0x12484a(0x71e)][_0x12484a(0x5e5)]);_0x203ada=await this[_0x12484a(0x180)](_0x34d57e,_0xff3579);}let _0x638f71={'number':_0xff3579,'options':{'delay':_0x29ab5d[_0x12484a(0x71e)][_0x12484a(0x641)]},'mediaMessage':{'mediatype':_0x29ab5d['message']['mediatype'],'caption':_0x203ada,'media':_0x29ab5d[_0x12484a(0x71e)][_0x12484a(0x245)]}},_0x222502=null;try{let _0x671ee=await this['mediaMessage'](_0x638f71);if(_0x671ee&&_0x671ee[_0x12484a(0x425)])return{'error':!0x1,'id':_0x671ee[_0x12484a(0x59d)]['id']};_0x222502=JSON[_0x12484a(0x625)](_0x671ee),this[_0x12484a(0x367)][_0x12484a(0x411)](this['instanceName']+'\x20('+this[_0x12484a(0x3b2)][_0x12484a(0x542)]+'):\x20'+_0x222502);}catch(_0x541058){this['logger'][_0x12484a(0x5e0)](this[_0x12484a(0x621)]+'\x20('+this[_0x12484a(0x3b2)][_0x12484a(0x542)]+_0x12484a(0x268)+(_0x541058 instanceof Error?_0x541058[_0x12484a(0x71e)]:JSON[_0x12484a(0x625)](_0x541058,null,0x2))),_0x222502=_0x541058[_0x12484a(0x71e)];}if(_0x222502)return{'error':!0x0,'detail':(typeof _0x222502==_0x12484a(0x522)?JSON[_0x12484a(0x625)](_0x222502,null,0x2):_0x222502)[_0x12484a(0x797)](/[\[\]{}\n]/g,'\x20')[_0x12484a(0x797)](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x35fc24,_0x1edf15){const _0x37a588=a0_0x20d441;this[_0x37a588(0x367)][_0x37a588(0x411)](this[_0x37a588(0x621)]+'\x20('+this['instance'][_0x37a588(0x542)]+_0x37a588(0x6f5));let _0x3e001a={'number':_0x1edf15,'options':{'delay':_0x35fc24[_0x37a588(0x71e)][_0x37a588(0x641)]},'audioMessage':{'audio':_0x35fc24[_0x37a588(0x71e)][_0x37a588(0x245)]}},_0x3275d4=null;try{let _0x4a6f86=await this['audioWhatsapp'](_0x3e001a);if(_0x4a6f86&&_0x4a6f86['status'])return{'error':!0x1,'id':_0x4a6f86['key']['id']};_0x3275d4=JSON['stringify'](_0x4a6f86),this['logger'][_0x37a588(0x411)](this['instanceName']+'\x20('+this[_0x37a588(0x3b2)][_0x37a588(0x542)]+_0x37a588(0x383)+_0x3275d4);}catch(_0x504e00){this[_0x37a588(0x367)]['error'](this[_0x37a588(0x621)]+'\x20('+this[_0x37a588(0x3b2)][_0x37a588(0x542)]+_0x37a588(0x63b)+(_0x504e00 instanceof Error?_0x504e00[_0x37a588(0x71e)]:JSON[_0x37a588(0x625)](_0x504e00,null,0x2))),_0x3275d4=_0x504e00[_0x37a588(0x71e)];}if(_0x3275d4)return{'error':!0x0,'detail':(typeof _0x3275d4=='object'?JSON[_0x37a588(0x625)](_0x3275d4,null,0x2):_0x3275d4)[_0x37a588(0x797)](/[\[\]{}\n]/g,'\x20')[_0x37a588(0x797)](/  +/g,'\x20')};}},Pt=class c{constructor(_0x469f61,_0xaefc51,_0x35346b){const _0x284cfd=a0_0x20d441;this[_0x284cfd(0x2a7)]=_0x469f61,this[_0x284cfd(0x74f)]=_0xaefc51,this[_0x284cfd(0x356)]=_0x35346b,this['db']={},this[_0x284cfd(0x249)]={},this[_0x284cfd(0x367)]=new v(c[_0x284cfd(0x6cb)]),this[_0x284cfd(0x28a)]={},(this['removeInstance'](),this['noConnection'](),Object[_0x284cfd(0x29f)](this['db'],_0xaefc51[_0x284cfd(0x158)]('DATABASE')),Object[_0x284cfd(0x29f)](this['redis'],_0xaefc51[_0x284cfd(0x158)](_0x284cfd(0x1b4))),this[_0x284cfd(0x4d3)]=this['db'][_0x284cfd(0x478)]?this[_0x284cfd(0x356)][_0x284cfd(0x681)]?.['db'](this['db'][_0x284cfd(0x713)]['DB_PREFIX_NAME']+_0x284cfd(0x5c3)):void 0x0,this[_0x284cfd(0x732)]=this['redis']['ENABLED']?new oe(this['redis']):void 0x0);}async[a0_0x20d441(0x349)](_0x40da1d){const _0x1e5ad9=a0_0x20d441;if(_0x40da1d&&!this[_0x1e5ad9(0x28a)][_0x40da1d])throw new j('Instance\x20\x22'+_0x40da1d+_0x1e5ad9(0x1a3));let _0x32b9f9=[];for await(let [_0x39a7ae,_0x21377a]of Object[_0x1e5ad9(0x28c)](this[_0x1e5ad9(0x28a)]))if(_0x21377a&&_0x21377a['connectionStatus'][_0x1e5ad9(0x595)]==='open'){let _0x46593d=await this[_0x1e5ad9(0x356)][_0x1e5ad9(0x3f5)][_0x1e5ad9(0x466)](_0x39a7ae);_0x32b9f9[_0x1e5ad9(0x4cf)]({'instance':{'instanceName':_0x39a7ae,'apikey':_0x46593d[_0x1e5ad9(0x708)],'owner':_0x21377a[_0x1e5ad9(0x542)],'profileName':await _0x21377a[_0x1e5ad9(0x3bd)]()||_0x1e5ad9(0x5ac),'profilePictureUrl':_0x21377a[_0x1e5ad9(0x4d1)]}});}return _0x32b9f9[_0x1e5ad9(0x466)](_0x45e9f8=>_0x45e9f8[_0x1e5ad9(0x3b2)][_0x1e5ad9(0x621)]===_0x40da1d)??_0x32b9f9;}async['cleaningUp'](_0x353849){const _0x1e9491=a0_0x20d441;if(this['db']['ENABLED']&&(await this[_0x1e9491(0x356)][_0x1e9491(0x681)][_0x1e9491(0x16c)](),(await this[_0x1e9491(0x4d3)]['collections']())[_0x1e9491(0x280)]>0x0&&await this[_0x1e9491(0x4d3)][_0x1e9491(0x5c0)](_0x353849)),this[_0x1e9491(0x249)][_0x1e9491(0x478)]){this[_0x1e9491(0x732)][_0x1e9491(0x252)]=_0x353849,await this[_0x1e9491(0x732)]['delAll']();return;}}async['loadInstance'](){const _0x305a90=a0_0x20d441;await this[_0x305a90(0x1f3)]();let _0x2a8f2a=async _0x10a3d1=>{const _0x23e44d=_0x305a90;let _0x1a6d39=new ye(this['configService'],this[_0x23e44d(0x2a7)],this['repository']);_0x1a6d39[_0x23e44d(0x621)]=_0x10a3d1,await _0x1a6d39[_0x23e44d(0x267)](),this[_0x23e44d(0x28a)][_0x10a3d1]=_0x1a6d39;};try{if(this[_0x305a90(0x249)]['ENABLED']){let _0x388af8=await this[_0x305a90(0x732)][_0x305a90(0x701)]();_0x388af8?.[_0x305a90(0x280)]>0x0&&_0x388af8[_0x305a90(0x3ce)](async _0x2c88b6=>await _0x2a8f2a(_0x2c88b6[_0x305a90(0x4f6)](':')[0x1]));return;}if(this['db'][_0x305a90(0x478)]){await this[_0x305a90(0x356)]['dbServer'][_0x305a90(0x16c)]();let _0x724775=await this['dbInstance']['collections']();_0x724775['length']>0x0&&_0x724775[_0x305a90(0x3ce)](async _0x5a811c=>await _0x2a8f2a(_0x5a811c[_0x305a90(0x75d)][_0x305a90(0x797)](/^[\w-]+\./,'')));return;}}catch(_0x1c2328){this['logger'][_0x305a90(0x5e0)](_0x1c2328);}}async[a0_0x20d441(0x45b)](){const _0x1b2079=a0_0x20d441;let _0x53f8e6=await this[_0x1b2079(0x356)][_0x1b2079(0x3f5)][_0x1b2079(0x3a4)](),_0x2df5fb=_0x53f8e6[_0x1b2079(0x2a6)](_0x5676e4=>!this[_0x1b2079(0x28a)][_0x5676e4['_id']]&&(_0x5676e4[_0x1b2079(0x28d)]||typeof _0x5676e4[_0x1b2079(0x28d)]>'u'));_0x2df5fb[_0x1b2079(0x280)]>0x0&&await Promise[_0x1b2079(0x5a5)](_0x2df5fb[_0x1b2079(0x6b3)](async _0x1a53aa=>{const _0xb35d6d=_0x1b2079;let _0x2daea0={'online':!0x1,'lastDisconnect':Date[_0xb35d6d(0x79b)]()};await this['repository']['auth'][_0xb35d6d(0x169)](_0x2daea0,_0x1a53aa[_0xb35d6d(0x749)]);}));let _0x311819=Date['now']()-0xa*0x18*0x3c*0x3c*0x3e8,_0x4bde20=_0x53f8e6['filter'](_0x5d9fa9=>!this[_0x1b2079(0x28a)][_0x5d9fa9[_0x1b2079(0x749)]]&&typeof _0x5d9fa9[_0x1b2079(0x71b)]<'u'&&_0x5d9fa9[_0x1b2079(0x71b)]<_0x311819);_0x4bde20['length']>0x0&&await Promise['all'](_0x4bde20[_0x1b2079(0x6b3)](async _0x51e165=>{}));}async['InstancesAlterarTodas'](){const _0x50941c=a0_0x20d441;try{let _0x436712={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x146d0f={'online':!0x1,'lastDisconnect':Date[_0x50941c(0x79b)]()},_0x1f3c1b=await this['repository'][_0x50941c(0x3f5)][_0x50941c(0x3e8)](_0x436712,_0x146d0f);console['log'](_0x50941c(0x3eb)+_0x1f3c1b[_0x50941c(0x788)]),await this[_0x50941c(0x322)]();}catch(_0x4b7b3f){console['error'](_0x50941c(0x7a4),_0x4b7b3f);}}async[a0_0x20d441(0x322)](){const _0x18f9e4=a0_0x20d441;try{let _0x481316={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x42f50a=await this[_0x18f9e4(0x356)]['auth']['deleteMany'](_0x481316);console[_0x18f9e4(0x3a8)](_0x18f9e4(0x5aa)+_0x42f50a[_0x18f9e4(0x788)]);}catch(_0x43629a){console['error'](_0x18f9e4(0x3b0),_0x43629a);}}['removeInstance'](){const _0x9e0fc4=a0_0x20d441;this[_0x9e0fc4(0x2a7)]['on'](_0x9e0fc4(0x339),async _0x39cbb6=>{const _0x3e14a9=_0x9e0fc4;try{this[_0x3e14a9(0x28a)][_0x39cbb6]=void 0x0;}catch{}try{this['cleaningUp'](_0x39cbb6);}finally{this[_0x3e14a9(0x367)]['warn'](_0x3e14a9(0x51d)+_0x39cbb6+_0x3e14a9(0x5c9));}});}[a0_0x20d441(0x769)](){const _0x183078=a0_0x20d441;this[_0x183078(0x2a7)]['on']('no.connection',async _0x51de89=>{const _0x121f50=_0x183078;try{this[_0x121f50(0x28a)][_0x51de89]=void 0x0;}catch{}try{this[_0x121f50(0x332)](_0x51de89);}finally{this[_0x121f50(0x367)][_0x121f50(0x4a1)](_0x121f50(0x51d)+_0x51de89+_0x121f50(0x757));}});}},$t=class extends I{[a0_0x20d441(0x239)](_0x693e9c){return Us(_0x693e9c);}async[a0_0x20d441(0x52c)](_0x314ad0){const _0x45993b=a0_0x20d441;if(_0x314ad0[_0x45993b(0x280)]!==0x0)try{return{'insertCount':(await this[_0x45993b(0x239)](_0x314ad0[0x0][_0x45993b(0x76c)])[_0x45993b(0x3d5)]([..._0x314ad0]))[_0x45993b(0x280)]};}catch(_0x38dffe){return _0x38dffe;}}async[a0_0x20d441(0x466)](_0x31d8fb,_0xbbe5c5){const _0xbc100=a0_0x20d441;try{let _0x5c1e3c=this[_0xbc100(0x239)](_0xbbe5c5),_0x117267=A(_0x31d8fb[_0xbc100(0x778)]);return await _0x5c1e3c[_0xbc100(0x466)](_0x117267)['sort']({'lastmsg':-0x1})[_0xbc100(0x184)](_0x31d8fb?.[_0xbc100(0x184)]??0x0)[_0xbc100(0x4e6)]();}catch{return[];}}async[a0_0x20d441(0x472)](_0x3e147a,_0x325f12){const _0x10b278=a0_0x20d441;try{return await this[_0x10b278(0x239)](_0x325f12)[_0x10b278(0x2a3)]({..._0x3e147a[_0x10b278(0x778)]}),[];}catch(_0x4f8855){return{'error':_0x4f8855?.[_0x10b278(0x390)]()};}}async['findOne'](_0x1d2fa5,_0x3ad03a){const _0x92bf4d=a0_0x20d441;try{let _0x3b8488=this[_0x92bf4d(0x239)](_0x3ad03a),_0x55c09c=A(_0x1d2fa5[_0x92bf4d(0x778)]);return await _0x3b8488['findOne'](_0x55c09c)[_0x92bf4d(0x4e6)]();}catch{return null;}}async[a0_0x20d441(0x590)](_0x1d3f53,_0x2761f5,_0x317318,_0x31b5c0,_0x33e8fc='$set'){const _0x5d1e77=a0_0x20d441;try{let _0x2c7a77={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x31b5c0},_0x15a92c=this['getChatModelForOwner'](_0x317318),_0x28eda1=A(_0x1d3f53['where']);Object[_0x5d1e77(0x616)](_0x2761f5)[_0x5d1e77(0x3ce)](_0x569479=>{_0x2761f5[_0x569479]==null&&delete _0x2761f5[_0x569479];});let _0xe7cc90={};return _0xe7cc90[_0x33e8fc]=_0x2761f5,await _0x15a92c[_0x5d1e77(0x539)](_0x28eda1,_0xe7cc90,_0x2c7a77);}catch(_0xd977c0){return console['error'](_0xd977c0),null;}}async['updateMany'](_0x435003){const _0x163942=a0_0x20d441;try{let _0x330cb3=this[_0x163942(0x239)](_0x435003[0x0][_0x163942(0x260)][_0x163942(0x778)]['owner']),_0x1b58dc=_0x435003[_0x163942(0x6b3)](_0x2a5a12=>({'updateOne':{'filter':{..._0x2a5a12[_0x163942(0x260)][_0x163942(0x778)]},'update':{'$set':_0x2a5a12[_0x163942(0x338)]},'upsert':!0x0}})),_0x2c7c77=await _0x330cb3[_0x163942(0x715)](_0x1b58dc);return _0x2c7c77[_0x163942(0x6b2)]+_0x2c7c77[_0x163942(0x530)];}catch(_0x4107a2){return console[_0x163942(0x5e0)](_0x4107a2),0x0;}}async['updateMissingLabels'](_0x497796){const _0x57bfe1=a0_0x20d441;try{let _0x5d8a95=this[_0x57bfe1(0x239)](_0x497796),_0x1d1ddd={'labels':{'$exists':!0x0}},_0x5dcf52={'$unset':{'labels':''}};return(await _0x5d8a95[_0x57bfe1(0x163)](_0x1d1ddd,_0x5dcf52))[_0x57bfe1(0x6b2)];}catch(_0x495434){return console[_0x57bfe1(0x5e0)](_0x495434),0x0;}}async[a0_0x20d441(0x251)](_0x3c0734){const _0x18e338=a0_0x20d441;try{let _0x1edd2e=this['getChatModelForOwner'](_0x3c0734),_0x2b73a5={'leadInfo.etiquetas':{'$exists':!0x1}},_0x3c1c65={'$set':{'leadInfo.etiquetas':[]}};return(await _0x1edd2e[_0x18e338(0x163)](_0x2b73a5,_0x3c1c65))[_0x18e338(0x6b2)];}catch(_0x475add){return console[_0x18e338(0x5e0)](_0x475add),0x0;}}async[a0_0x20d441(0x392)](_0x1f93b9){const _0x15aec1=a0_0x20d441;try{let _0x1a3c39=this[_0x15aec1(0x239)](_0x1f93b9),_0xe07c24={'leadInfo.tags':{'$exists':!0x1}},_0x224cb2={'$set':{'leadInfo.tags':[]}};return(await _0x1a3c39[_0x15aec1(0x163)](_0xe07c24,_0x224cb2))[_0x15aec1(0x6b2)];}catch(_0x4827ae){return console[_0x15aec1(0x5e0)](_0x4827ae),0x0;}}async[a0_0x20d441(0x6b9)](_0x358c4f){const _0x36f013=a0_0x20d441;try{let _0x1c6763=this['getChatModelForOwner'](_0x358c4f),_0x118bc1={'leadInfo.customFields':{'$exists':!0x1}},_0x2c627e={'$set':{'leadInfo.customFields':[]}};return(await _0x1c6763[_0x36f013(0x163)](_0x118bc1,_0x2c627e))[_0x36f013(0x6b2)];}catch(_0x80d5c8){return console[_0x36f013(0x5e0)](_0x80d5c8),0x0;}}async['insertMany'](_0x2d57ee,_0x23677a){const _0x11ee9b=a0_0x20d441;if(!Array[_0x11ee9b(0x190)](_0x2d57ee)||_0x2d57ee[_0x11ee9b(0x280)]===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this[_0x11ee9b(0x239)](_0x23677a)[_0x11ee9b(0x3d5)](_0x2d57ee))[_0x11ee9b(0x280)];}catch(_0x42edf3){throw console['error'](_0x11ee9b(0x2d1),_0x42edf3),_0x42edf3;}}async['deleteChat'](_0x10a33e,_0x26e11f){const _0x3b0ee8=a0_0x20d441;try{await this[_0x3b0ee8(0x239)](_0x26e11f)[_0x3b0ee8(0x2e2)]({'_id':_0x10a33e});}catch(_0x53833e){throw console[_0x3b0ee8(0x5e0)](_0x3b0ee8(0x1c7),_0x53833e),_0x53833e;}}},kt=class extends I{['getLabelModelForOwner'](_0x3d84f2){return ua(_0x3d84f2);}async[a0_0x20d441(0x590)](_0x26dc6b,_0x16682c,_0x47fddb,_0x2de9bd){const _0x4e9dd2=a0_0x20d441;try{let _0x8edaca={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x2de9bd},_0x4bf51f=this['getLabelModelForOwner'](_0x47fddb),_0x42a551=A(_0x26dc6b[_0x4e9dd2(0x778)]);return await _0x4bf51f[_0x4e9dd2(0x539)](_0x42a551,{'$set':_0x16682c},_0x8edaca);}catch(_0xc187dc){return console[_0x4e9dd2(0x5e0)](_0xc187dc),null;}}async['find'](_0x5cb5ad,_0x37da9c){const _0x3c63b8=a0_0x20d441;try{let _0x25f242=this['getLabelModelForOwner'](_0x37da9c),_0x315dc3=A(_0x5cb5ad[_0x3c63b8(0x778)]);return await _0x25f242[_0x3c63b8(0x466)](_0x315dc3);}catch(_0x4d830b){console[_0x3c63b8(0x5e0)](_0x4d830b);}}async[a0_0x20d441(0x435)](_0x299bcb,_0x243874){const _0x503a08=a0_0x20d441;try{let _0x278038=this[_0x503a08(0x2e1)](_0x243874),_0x1fcd83=A(_0x299bcb['where']);await _0x278038[_0x503a08(0x2a3)](_0x1fcd83);}catch(_0x57d13b){console['error'](_0x57d13b);}}async[a0_0x20d441(0x472)](_0x56c3ee){const _0x15d2ce=a0_0x20d441;try{return await this['getLabelModelForOwner'](_0x56c3ee)[_0x15d2ce(0x1df)][_0x15d2ce(0x6eb)](),{'success':!0x0};}catch(_0x2abc63){return console[_0x15d2ce(0x5e0)](_0x2abc63),{'success':!0x1,'error':_0x2abc63};}}},Lt=class{constructor(_0x496c9c){const _0x75f528=a0_0x20d441;this[_0x75f528(0x1d8)]=_0x496c9c;}async[a0_0x20d441(0x24d)]({instanceName:_0x5d46f3},_0x5e1fed){const _0x1f565e=a0_0x20d441;return await this[_0x1f565e(0x1d8)]['waInstances'][_0x5d46f3][_0x1f565e(0x24d)](_0x5e1fed);}async[a0_0x20d441(0x160)]({instanceName:_0xfe3bd0},_0xd7d76c){const _0x5b7d3d=a0_0x20d441;return await this[_0x5b7d3d(0x1d8)]['waInstances'][_0xfe3bd0][_0x5b7d3d(0x160)](_0xd7d76c);}async[a0_0x20d441(0x602)]({instanceName:_0x4f28a5},_0x13fa6c){const _0x5d84b2=a0_0x20d441;return await this[_0x5d84b2(0x1d8)][_0x5d84b2(0x28a)][_0x4f28a5]['importChats'](_0x13fa6c);}async['readMessage']({instanceName:_0x4a52c8},_0x4aa1e1){const _0x1085f6=a0_0x20d441;return await this['waMonitor'][_0x1085f6(0x28a)][_0x4a52c8][_0x1085f6(0x554)](_0x4aa1e1);}async['archiveChat']({instanceName:_0x181d0b},_0x5a51ca){const _0x2281be=a0_0x20d441;return await this[_0x2281be(0x1d8)][_0x2281be(0x28a)][_0x181d0b][_0x2281be(0x48f)](_0x5a51ca);}async[a0_0x20d441(0x301)]({instanceName:_0x116699},_0x18f66d){const _0x39f325=a0_0x20d441;return await this['waMonitor'][_0x39f325(0x28a)][_0x116699]['deleteMessage'](_0x18f66d);}async['fetchProfilePicture']({instanceName:_0x5537c7},_0x2c023e){const _0x36c6c5=a0_0x20d441;return await this[_0x36c6c5(0x1d8)][_0x36c6c5(0x28a)][_0x5537c7]['profilePicture'](_0x2c023e['number']);}async[a0_0x20d441(0x3b5)]({instanceName:_0x116fdd},_0x55fc29){const _0x46ebdf=a0_0x20d441;return await this[_0x46ebdf(0x1d8)][_0x46ebdf(0x28a)][_0x116fdd]['fetchProfile'](_0x55fc29['number']);}async[a0_0x20d441(0x42c)]({instanceName:_0x51add8},_0x14eb21){const _0x2438f4=a0_0x20d441;return await this['waMonitor'][_0x2438f4(0x28a)][_0x51add8][_0x2438f4(0x42c)](_0x14eb21);}async[a0_0x20d441(0x1c9)]({instanceName:_0x8ea67d},_0x3146a6){const _0x39adcc=a0_0x20d441;return await this[_0x39adcc(0x1d8)][_0x39adcc(0x28a)][_0x8ea67d]['fetchContacts'](_0x3146a6);}async['getBase64FromMediaMessage']({instanceName:_0x37611c},_0x2b9b14){const _0x4bf71f=a0_0x20d441;return await this[_0x4bf71f(0x1d8)]['waInstances'][_0x37611c][_0x4bf71f(0x53c)](_0x2b9b14);}async['fetchMessages']({instanceName:_0x4f0906},_0x387263){const _0x30d15f=a0_0x20d441;return await this[_0x30d15f(0x1d8)][_0x30d15f(0x28a)][_0x4f0906][_0x30d15f(0x36e)](_0x387263);}async['fetchLabels']({instanceName:_0x5d3f2e}){const _0x16063b=a0_0x20d441;return await this[_0x16063b(0x1d8)][_0x16063b(0x28a)][_0x5d3f2e][_0x16063b(0x52e)]();}async[a0_0x20d441(0x374)]({instanceName:_0x491c36}){const _0x21f376=a0_0x20d441;return await this[_0x21f376(0x1d8)][_0x21f376(0x28a)][_0x491c36][_0x21f376(0x374)]();}async['fetchPrivacySettings']({instanceName:_0x17a33b}){const _0x397613=a0_0x20d441;return await this[_0x397613(0x1d8)][_0x397613(0x28a)][_0x17a33b]['fetchPrivacySettings']();}async[a0_0x20d441(0x375)]({instanceName:_0x224dbc},_0x12475a){const _0x14da08=a0_0x20d441;return await this[_0x14da08(0x1d8)][_0x14da08(0x28a)][_0x224dbc][_0x14da08(0x375)](_0x12475a);}async[a0_0x20d441(0x6b0)]({instanceName:_0x1aa36c},_0x5b3e7b){const _0x2b3ea6=a0_0x20d441;return await this[_0x2b3ea6(0x1d8)][_0x2b3ea6(0x28a)][_0x1aa36c][_0x2b3ea6(0x6b0)](_0x5b3e7b[_0x2b3ea6(0x5d0)]);}async[a0_0x20d441(0x56c)]({instanceName:_0x270423},_0x45c281){const _0x517a96=a0_0x20d441;return await this[_0x517a96(0x1d8)]['waInstances'][_0x270423][_0x517a96(0x56c)](_0x45c281[_0x517a96(0x6cb)]);}async[a0_0x20d441(0x5df)]({instanceName:_0x43cd2e},_0x2fc394){const _0x8b9c76=a0_0x20d441;return await this['waMonitor'][_0x8b9c76(0x28a)][_0x43cd2e][_0x8b9c76(0x5df)](_0x2fc394[_0x8b9c76(0x425)]);}async[a0_0x20d441(0x60e)]({instanceName:_0x4a3f52},_0x47f755){const _0x2c239d=a0_0x20d441;return await this[_0x2c239d(0x1d8)][_0x2c239d(0x28a)][_0x4a3f52]['updateProfilePicture'](_0x47f755[_0x2c239d(0x1a5)]);}async[a0_0x20d441(0x1f8)]({instanceName:_0x355fb8},_0x59c19d){const _0x422327=a0_0x20d441;return await this[_0x422327(0x1d8)][_0x422327(0x28a)][_0x355fb8]['removeProfilePicture']();}},Ns=require('@whiskeysockets/baileys'),jt=class c{constructor(_0x2e03bc,_0xd139ff,_0x5b6fe6,_0x2d70f2,_0x3e0668){const _0x47b002=a0_0x20d441;this[_0x47b002(0x1d8)]=_0x2e03bc,this[_0x47b002(0x74f)]=_0xd139ff,this['repository']=_0x5b6fe6,this[_0x47b002(0x2a7)]=_0x2d70f2,this['authService']=_0x3e0668,this[_0x47b002(0x367)]=new v(c[_0x47b002(0x6cb)]);}async[a0_0x20d441(0x284)]({instanceName:_0x18fee9,apikey:_0x2494a2,number:_0x41574c,proxy:_0x3a077c=!0x0}){const _0x337939=a0_0x20d441;try{let _0x1a90b0=new ye(this[_0x337939(0x74f)],this[_0x337939(0x2a7)],this['repository']);_0x1a90b0[_0x337939(0x621)]=_0x18fee9,this[_0x337939(0x1d8)][_0x337939(0x28a)][_0x1a90b0[_0x337939(0x621)]]=_0x1a90b0;let _0x379af3={};_0x2494a2?(await this[_0x337939(0x356)][_0x337939(0x3f5)][_0x337939(0x169)]({'apikey':_0x2494a2},_0x18fee9),_0x379af3[_0x337939(0x708)]=_0x2494a2):_0x379af3=await this[_0x337939(0x464)][_0x337939(0x73f)]({'instanceName':_0x1a90b0[_0x337939(0x621)]});let _0x540f98;return await _0x1a90b0[_0x337939(0x267)](_0x41574c,_0x3a077c),await(0x0,Ns[_0x337939(0x641)])(0x7d0),_0x540f98=_0x1a90b0[_0x337939(0x70a)],{'instance':{'instanceName':_0x1a90b0[_0x337939(0x621)],'status':_0x337939(0x702)},'hash':_0x379af3,'qrcode':_0x540f98};}catch(_0xe48394){this[_0x337939(0x367)][_0x337939(0x5e0)](_0xe48394);}}async[a0_0x20d441(0x467)]({instanceName:_0x1b24c8,number:_0x4d1b91=null,proxy:_0x402a27=!0x0}){const _0x5091a3=a0_0x20d441;try{let _0x27279b=this[_0x5091a3(0x1d8)][_0x5091a3(0x28a)][_0x1b24c8];switch(_0x27279b?.['connectionStatus']?.[_0x5091a3(0x595)]){case _0x5091a3(0x1ee):return await _0x27279b[_0x5091a3(0x267)](_0x4d1b91,_0x402a27),await(0x0,Ns[_0x5091a3(0x641)])(0x7d0),_0x27279b['qrCode'];case _0x5091a3(0x18d):return _0x27279b[_0x5091a3(0x70a)];default:return await this['connectionState']({'instanceName':_0x1b24c8});}}catch(_0x2be3e0){this['logger'][_0x5091a3(0x3a8)](_0x2be3e0);}}async[a0_0x20d441(0x508)]({instanceName:_0x5288b6}){const _0x31fe4a=a0_0x20d441;let _0x471ed8=this[_0x31fe4a(0x1d8)][_0x31fe4a(0x28a)][_0x5288b6]['connectionStatus'],_0x4e4529=null;_0x471ed8[_0x31fe4a(0x595)]===_0x31fe4a(0x47b)&&_0x5288b6&&(_0x4e4529=await this['waMonitor'][_0x31fe4a(0x349)](_0x5288b6));let _0x5d5c76=null;return _0x471ed8[_0x31fe4a(0x595)]===_0x31fe4a(0x18d)&&_0x5288b6&&(_0x5d5c76=this[_0x31fe4a(0x1d8)]['waInstances'][_0x5288b6][_0x31fe4a(0x70a)]),{'instance':_0x5288b6,'connectionStatus':_0x471ed8,'instanceInfo':_0x4e4529,'qrcode':_0x5d5c76};}async[a0_0x20d441(0x65c)]({instanceName:_0x1a7be8}){const _0x2a8030=a0_0x20d441;try{return this['waMonitor'][_0x2a8030(0x28a)][_0x1a7be8]?.['client']?.['ws']?.['close'](),{'status':_0x2a8030(0x40b),'error':!0x1,'response':{'message':_0x2a8030(0x665)}};}catch(_0x20a492){this[_0x2a8030(0x367)]['error'](_0x20a492);}}async[a0_0x20d441(0x5de)]({instanceName:_0x54a5cd}){const _0x5d170f=a0_0x20d441;return _0x54a5cd?this[_0x5d170f(0x1d8)]['instanceInfo'](_0x54a5cd):this[_0x5d170f(0x1d8)][_0x5d170f(0x349)]();}async[a0_0x20d441(0x670)]({instanceName:_0xcebf0}){const _0x592fbd=a0_0x20d441;try{return await this['waMonitor'][_0x592fbd(0x28a)][_0xcebf0]?.[_0x592fbd(0x144)]?.[_0x592fbd(0x670)]('Log\x20out\x20instance:\x20'+_0xcebf0),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0xb3b746){throw new O(_0xb3b746[_0x592fbd(0x390)]());}}async[a0_0x20d441(0x446)]({instanceName:_0x1dcb7e}){const _0x5b1bc8=a0_0x20d441;if((await this[_0x5b1bc8(0x508)]({'instanceName':_0x1dcb7e}))[_0x5b1bc8(0x352)][_0x5b1bc8(0x595)]===_0x5b1bc8(0x47b))throw new m([_0x5b1bc8(0x462),_0x5b1bc8(0x229)]);try{return delete this[_0x5b1bc8(0x1d8)][_0x5b1bc8(0x28a)][_0x1dcb7e],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x4f9d64){throw new m(_0x4f9d64[_0x5b1bc8(0x390)]());}}},Z=require('class-validator'),Ft=class{constructor(_0x3f01e8){const _0xba9ada=a0_0x20d441;this[_0xba9ada(0x1d8)]=_0x3f01e8;}async['sendText']({instanceName:_0x24b03b},_0x2037d4){const _0x173ab0=a0_0x20d441;return await this['waMonitor'][_0x173ab0(0x28a)][_0x24b03b]['textMessage'](_0x2037d4);}async[a0_0x20d441(0x386)]({instanceName:_0x24e800},_0x11f380){const _0x130b52=a0_0x20d441;return await this['waMonitor']['waInstances'][_0x24e800][_0x130b52(0x43a)](_0x11f380);}async[a0_0x20d441(0x44b)]({instanceName:_0x5ed31f},_0x5a0cfc){const _0x26a608=a0_0x20d441;if((0x0,Z[_0x26a608(0x2e4)])(_0x5a0cfc?.[_0x26a608(0x2dc)]?.[_0x26a608(0x27f)])&&!_0x5a0cfc?.[_0x26a608(0x2dc)]?.[_0x26a608(0x463)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,Z[_0x26a608(0x74c)])(_0x5a0cfc?.[_0x26a608(0x2dc)]?.[_0x26a608(0x27f)])||(0x0,Z[_0x26a608(0x2e4)])(_0x5a0cfc?.[_0x26a608(0x2dc)]?.[_0x26a608(0x27f)]))return await this['waMonitor'][_0x26a608(0x28a)][_0x5ed31f][_0x26a608(0x2dc)](_0x5a0cfc);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendSticker']({instanceName:_0x46c086},_0x465961){const _0x24d26f=a0_0x20d441;if((0x0,Z[_0x24d26f(0x74c)])(_0x465961[_0x24d26f(0x78e)][_0x24d26f(0x150)])||(0x0,Z['isBase64'])(_0x465961[_0x24d26f(0x78e)][_0x24d26f(0x150)]))return await this[_0x24d26f(0x1d8)][_0x24d26f(0x28a)][_0x46c086][_0x24d26f(0x5a7)](_0x465961);throw new m(_0x24d26f(0x705));}async[a0_0x20d441(0x600)]({instanceName:_0x28c9f2},_0x5a1db6){const _0x582ced=a0_0x20d441;if((0x0,Z[_0x582ced(0x74c)])(_0x5a1db6[_0x582ced(0x348)][_0x582ced(0x42a)])||(0x0,Z[_0x582ced(0x2e4)])(_0x5a1db6['audioMessage']['audio']))return await this['waMonitor']['waInstances'][_0x28c9f2][_0x582ced(0x2ac)](_0x5a1db6);throw new m(_0x582ced(0x705));}async[a0_0x20d441(0x517)]({instanceName:_0x1031b5},_0x286c6d){const _0x7229b0=a0_0x20d441;if((0x0,Z[_0x7229b0(0x2e4)])(_0x286c6d[_0x7229b0(0x741)][_0x7229b0(0x2dc)]?.[_0x7229b0(0x27f)])&&!_0x286c6d[_0x7229b0(0x741)][_0x7229b0(0x2dc)]?.[_0x7229b0(0x463)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this[_0x7229b0(0x1d8)]['waInstances'][_0x1031b5][_0x7229b0(0x741)](_0x286c6d);}async[a0_0x20d441(0x64c)]({instanceName:_0x53182c},_0x2b83f2){const _0x4d1f8f=a0_0x20d441;return await this[_0x4d1f8f(0x1d8)][_0x4d1f8f(0x28a)][_0x53182c][_0x4d1f8f(0x783)](_0x2b83f2);}async['sendPoll']({instanceName:_0x4d1491},_0x263c92){const _0x43e118=a0_0x20d441;return await this['waMonitor'][_0x43e118(0x28a)][_0x4d1491][_0x43e118(0x254)](_0x263c92);}async['sendList']({instanceName:_0x203ed2},_0x5ec1be){const _0x14f332=a0_0x20d441;return await this[_0x14f332(0x1d8)][_0x14f332(0x28a)][_0x203ed2][_0x14f332(0x38c)](_0x5ec1be);}async[a0_0x20d441(0x3c5)]({instanceName:_0x234fde},_0x507bd3){const _0x2e3bc9=a0_0x20d441;return await this[_0x2e3bc9(0x1d8)]['waInstances'][_0x234fde][_0x2e3bc9(0x6fa)](_0x507bd3);}async['sendReaction']({instanceName:_0x16ee4c},_0x487dee){const _0x5dc97e=a0_0x20d441;if(!_0x487dee[_0x5dc97e(0x440)][_0x5dc97e(0x4f3)][_0x5dc97e(0x248)](/[^\(\)\w\sà-ú"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x5dc97e(0x1d8)][_0x5dc97e(0x28a)][_0x16ee4c][_0x5dc97e(0x440)](_0x487dee);}async[a0_0x20d441(0x189)]({instanceName:_0x5b4546},_0x1a4503){const _0x376ebd=a0_0x20d441;return await this['waMonitor'][_0x376ebd(0x28a)][_0x5b4546][_0x376ebd(0x773)](_0x1a4503);}},Co=require(a0_0x20d441(0x2d9)),Rs=require(a0_0x20d441(0x3aa)),qt=class c{constructor(_0xe531a4,_0x3ac9df,_0x2cb33c){const _0x3cd290=a0_0x20d441;this[_0x3cd290(0x74f)]=_0xe531a4,this[_0x3cd290(0x1d8)]=_0x3ac9df,this['repository']=_0x2cb33c,this[_0x3cd290(0x367)]=new v(c['name']);}async[a0_0x20d441(0x2d3)](_0x290b41){const _0xc64751=a0_0x20d441;let _0x3865ff=this['configService'][_0xc64751(0x158)](_0xc64751(0x1da))[_0xc64751(0x454)],_0x4c8dca=(0x0,Co['sign'])({'instanceName':_0x290b41[_0xc64751(0x621)],'apiName':ze,'tokenId':(0x0,Rs['v4'])()},_0x3865ff[_0xc64751(0x520)],{'expiresIn':_0x3865ff[_0xc64751(0x363)],'encoding':_0xc64751(0x5b0),'subject':_0xc64751(0x658)}),_0x583848=await this[_0xc64751(0x356)]['auth']['create']({'jwt':_0x4c8dca},_0x290b41['instanceName']);if(_0x583848[_0xc64751(0x5e0)])throw this[_0xc64751(0x367)][_0xc64751(0x5e0)]({'localError':c[_0xc64751(0x6cb)]+_0xc64751(0x751),'error':_0x583848[_0xc64751(0x5e0)]}),new m(_0xc64751(0x74d),_0x583848[_0xc64751(0x5e0)]?.[_0xc64751(0x390)]());return{'jwt':_0x4c8dca};}async[a0_0x20d441(0x708)](_0x345e8e){const _0xebeaca=a0_0x20d441;let _0x391c50=(0x0,Rs['v4'])()[_0xebeaca(0x20e)](),_0x3ddc97=await this[_0xebeaca(0x356)][_0xebeaca(0x3f5)]['create']({'apikey':_0x391c50},_0x345e8e[_0xebeaca(0x621)]);if(_0x3ddc97['error'])throw this['logger'][_0xebeaca(0x5e0)]({'localError':c[_0xebeaca(0x6cb)]+'.jwt','error':_0x3ddc97[_0xebeaca(0x5e0)]}),new m(_0xebeaca(0x74d),_0x3ddc97[_0xebeaca(0x5e0)]?.[_0xebeaca(0x390)]());return{'apikey':_0x391c50};}async[a0_0x20d441(0x73f)](_0x6ffd46){const _0x1fb6dd=a0_0x20d441;let _0x1b9d73=this[_0x1fb6dd(0x74f)][_0x1fb6dd(0x158)](_0x1fb6dd(0x1da));return await this[_0x1b9d73['TYPE']](_0x6ffd46);}},Ut=class{constructor(_0x25d3cf){const _0x1b2b92=a0_0x20d441;this[_0x1b2b92(0x1d8)]=_0x25d3cf;}async['createGroup'](_0x5e7fb6,_0xb935f7){const _0x2631e2=a0_0x20d441;return await this[_0x2631e2(0x1d8)][_0x2631e2(0x28a)][_0x5e7fb6[_0x2631e2(0x621)]]['createGroup'](_0xb935f7);}async[a0_0x20d441(0x559)](_0x52c09b,_0x43ed1a){const _0x52675c=a0_0x20d441;return await this[_0x52675c(0x1d8)]['waInstances'][_0x52c09b[_0x52675c(0x621)]][_0x52675c(0x559)](_0x43ed1a);}async[a0_0x20d441(0x507)](_0x1a374b,_0x4dc72c){const _0x1e6cce=a0_0x20d441;return await this[_0x1e6cce(0x1d8)]['waInstances'][_0x1a374b[_0x1e6cce(0x621)]][_0x1e6cce(0x507)](_0x4dc72c);}async[a0_0x20d441(0x293)](_0x52851d,_0x2ddc58){const _0x44643a=a0_0x20d441;return await this['waMonitor'][_0x44643a(0x28a)][_0x52851d['instanceName']]['groupName'](_0x2ddc58);}async[a0_0x20d441(0x6dd)](_0x2ec0e5,_0x52b524){const _0x4931f4=a0_0x20d441;return await this[_0x4931f4(0x1d8)][_0x4931f4(0x28a)][_0x2ec0e5[_0x4931f4(0x621)]][_0x4931f4(0x6dd)](_0x52b524);}async[a0_0x20d441(0x67e)](_0x18d431,_0x28d45e){const _0x57728f=a0_0x20d441;return await this[_0x57728f(0x1d8)][_0x57728f(0x28a)][_0x18d431[_0x57728f(0x621)]][_0x57728f(0x329)](_0x28d45e);}async[a0_0x20d441(0x57d)](_0x4a9823){const _0x4c6e3c=a0_0x20d441;return await this['waMonitor']['waInstances'][_0x4a9823[_0x4c6e3c(0x621)]][_0x4c6e3c(0x57d)]();}async[a0_0x20d441(0x41e)](_0x40e887,_0x2860d7){const _0x4afce6=a0_0x20d441;return await this[_0x4afce6(0x1d8)][_0x4afce6(0x28a)][_0x40e887[_0x4afce6(0x621)]][_0x4afce6(0x41e)](_0x2860d7);}async[a0_0x20d441(0x265)](_0x333f46,_0x3f54b0){const _0x3ba2dc=a0_0x20d441;return await this[_0x3ba2dc(0x1d8)][_0x3ba2dc(0x28a)][_0x333f46[_0x3ba2dc(0x621)]][_0x3ba2dc(0x265)](_0x3f54b0);}async['revokeInviteCode'](_0x40c842,_0x3e9087){const _0x203a49=a0_0x20d441;return await this[_0x203a49(0x1d8)][_0x203a49(0x28a)][_0x40c842[_0x203a49(0x621)]]['revokeInviteCode'](_0x3e9087);}async[a0_0x20d441(0x34f)](_0x508f14,_0x34c489){const _0x53f94c=a0_0x20d441;return await this[_0x53f94c(0x1d8)][_0x53f94c(0x28a)][_0x508f14[_0x53f94c(0x621)]][_0x53f94c(0x34f)](_0x34c489);}async[a0_0x20d441(0x77c)](_0x5d9bcb,_0x13c972){const _0x5f0211=a0_0x20d441;return await this[_0x5f0211(0x1d8)][_0x5f0211(0x28a)][_0x5d9bcb[_0x5f0211(0x621)]][_0x5f0211(0x777)](_0x13c972);}async[a0_0x20d441(0x743)](_0x2f0c76,_0x5afb20){const _0x305cd1=a0_0x20d441;return await this['waMonitor'][_0x305cd1(0x28a)][_0x2f0c76[_0x305cd1(0x621)]][_0x305cd1(0x743)](_0x5afb20);}async[a0_0x20d441(0x779)](_0x2a1cee,_0x320f5c){const _0x32a519=a0_0x20d441;return await this[_0x32a519(0x1d8)][_0x32a519(0x28a)][_0x2a1cee[_0x32a519(0x621)]][_0x32a519(0x779)](_0x320f5c);}},Jt=class{constructor(_0x4b8c18){this['waMonitor']=_0x4b8c18;}[a0_0x20d441(0x169)](_0x2eabe4,_0x12effc){const _0x1ce2d6=a0_0x20d441;return this[_0x1ce2d6(0x1d8)]['waInstances'][_0x2eabe4[_0x1ce2d6(0x621)]][_0x1ce2d6(0x1b5)](_0x12effc);}async['find'](_0x1a8b70){const _0x1c67c5=a0_0x20d441;try{return await this[_0x1c67c5(0x1d8)][_0x1c67c5(0x28a)][_0x1a8b70[_0x1c67c5(0x621)]][_0x1c67c5(0x35c)]();}catch{return{'enabled':null,'url':''};}}},Yd=new v(a0_0x20d441(0x5ed)),Vt=class{constructor(_0x1bc967){this['waMonitor']=_0x1bc967;}async[a0_0x20d441(0x724)](_0x5a3e73,_0xd2fc7c){const _0x136e8e=a0_0x20d441;return await this[_0x136e8e(0x1d8)]['waInstances'][_0x5a3e73[_0x136e8e(0x621)]][_0x136e8e(0x724)](_0xd2fc7c);}async[a0_0x20d441(0x3ad)](_0x108545){const _0x5b67de=a0_0x20d441;return await this[_0x5b67de(0x1d8)]['waInstances'][_0x108545['instanceName']][_0x5b67de(0x3ad)]();}async[a0_0x20d441(0x203)](_0x3567e6){const _0x174587=a0_0x20d441;return await this[_0x174587(0x1d8)]['waInstances'][_0x3567e6[_0x174587(0x621)]]['deleteDoneMessages']();}async[a0_0x20d441(0x799)](_0x3c79d2){const _0x521f4b=a0_0x20d441;return await this[_0x521f4b(0x1d8)][_0x521f4b(0x28a)][_0x3c79d2['instanceName']]['getAutomateSystem']();}async[a0_0x20d441(0x5ef)](_0x5e9fba,_0x4a6457){const _0x10f08a=a0_0x20d441;return await this[_0x10f08a(0x1d8)]['waInstances'][_0x5e9fba[_0x10f08a(0x621)]]['updateAgent'](_0x4a6457);}async['updateCustomFields'](_0x267e16,_0xa334c2){const _0x4f31c5=a0_0x20d441;return await this[_0x4f31c5(0x1d8)][_0x4f31c5(0x28a)][_0x267e16['instanceName']][_0x4f31c5(0x5fc)](_0xa334c2);}async[a0_0x20d441(0x1de)](_0x1355f7,_0x267ac4){const _0x25bcce=a0_0x20d441;return await this[_0x25bcce(0x1d8)][_0x25bcce(0x28a)][_0x1355f7[_0x25bcce(0x621)]]['updateFlowConfig'](_0x267ac4);}async[a0_0x20d441(0x201)](_0x744c19,_0x1a353e){const _0x5313f5=a0_0x20d441;return await this[_0x5313f5(0x1d8)][_0x5313f5(0x28a)][_0x744c19[_0x5313f5(0x621)]][_0x5313f5(0x201)](_0x1a353e);}async[a0_0x20d441(0x37c)](_0x14a340,_0x23bf3c){const _0x1a5a25=a0_0x20d441;return await this[_0x1a5a25(0x1d8)][_0x1a5a25(0x28a)][_0x14a340[_0x1a5a25(0x621)]][_0x1a5a25(0x37c)](_0x23bf3c);}async[a0_0x20d441(0x3d6)](_0x16ed1a,_0x254a6c){const _0x3bf3a4=a0_0x20d441;return await this[_0x3bf3a4(0x1d8)][_0x3bf3a4(0x28a)][_0x16ed1a[_0x3bf3a4(0x621)]]['fetchConversation'](_0x254a6c);}async[a0_0x20d441(0x4b9)](_0x3f2339,_0x38c6bb){const _0x4553d6=a0_0x20d441;return await this['waMonitor'][_0x4553d6(0x28a)][_0x3f2339[_0x4553d6(0x621)]][_0x4553d6(0x4b9)](_0x38c6bb);}async[a0_0x20d441(0x215)](_0x13d8b0,_0x5ddfe3){const _0x3581e1=a0_0x20d441;return await this[_0x3581e1(0x1d8)][_0x3581e1(0x28a)][_0x13d8b0[_0x3581e1(0x621)]][_0x3581e1(0x215)](_0x5ddfe3);}async[a0_0x20d441(0x50b)](_0x2ba43b,_0x3c620b){const _0xffbf4=a0_0x20d441;return await this[_0xffbf4(0x1d8)][_0xffbf4(0x28a)][_0x2ba43b[_0xffbf4(0x621)]][_0xffbf4(0x50b)](_0x3c620b[_0xffbf4(0x6cb)]);}async[a0_0x20d441(0x456)](_0x43a39d,_0x3cf486){const _0x991e6a=a0_0x20d441;return await this['waMonitor'][_0x991e6a(0x28a)][_0x43a39d[_0x991e6a(0x621)]][_0x991e6a(0x456)](_0x3cf486);}async[a0_0x20d441(0x6a3)](_0x33400b,_0x2bd5f){const _0x398c5f=a0_0x20d441;return await this['waMonitor']['waInstances'][_0x33400b[_0x398c5f(0x621)]]['editFlow'](_0x2bd5f);}async['editFlowBlock'](_0x465eb7,_0x32d81f){return await this['waMonitor']['waInstances'][_0x465eb7['instanceName']]['editFlowBlock'](_0x32d81f);}async['editFlowReply'](_0x24f9c6,_0x47819f){const _0x23856b=a0_0x20d441;return await this[_0x23856b(0x1d8)]['waInstances'][_0x24f9c6['instanceName']][_0x23856b(0x75c)](_0x47819f);}async[a0_0x20d441(0x6e5)](_0x190d5c,_0x13aa0f){const _0x15f18e=a0_0x20d441;return await this[_0x15f18e(0x1d8)][_0x15f18e(0x28a)][_0x190d5c[_0x15f18e(0x621)]][_0x15f18e(0x6e5)](_0x13aa0f);}async[a0_0x20d441(0x32d)](_0x49e0be,_0x4b827b){const _0x38a1c3=a0_0x20d441;return await this['waMonitor']['waInstances'][_0x49e0be[_0x38a1c3(0x621)]][_0x38a1c3(0x32d)](_0x4b827b);}async[a0_0x20d441(0x637)](_0x358398,_0x5026e5){const _0x70f4e4=a0_0x20d441;return await this[_0x70f4e4(0x1d8)]['waInstances'][_0x358398[_0x70f4e4(0x621)]][_0x70f4e4(0x637)](_0x5026e5);}async[a0_0x20d441(0x66e)](_0x85f9ad,_0x474cc1){const _0x43555a=a0_0x20d441;return await this[_0x43555a(0x1d8)][_0x43555a(0x28a)][_0x85f9ad['instanceName']][_0x43555a(0x66e)](_0x474cc1);}async[a0_0x20d441(0x556)](_0x12b026,_0x498d33){const _0x42c070=a0_0x20d441;return await this[_0x42c070(0x1d8)][_0x42c070(0x28a)][_0x12b026[_0x42c070(0x621)]][_0x42c070(0x556)](_0x498d33['name']);}async[a0_0x20d441(0x15e)](_0x35fb45){const _0x38d8ba=a0_0x20d441;return await this['waMonitor']['waInstances'][_0x35fb45[_0x38d8ba(0x621)]][_0x38d8ba(0x15e)]();}},Bt=class{constructor(_0x509141){const _0x50199=a0_0x20d441;this[_0x50199(0x5b8)]=_0x509141;}async[a0_0x20d441(0x370)](_0x398497,_0x3b821e){const _0x41e7d0=a0_0x20d441;return this[_0x41e7d0(0x5b8)][_0x41e7d0(0x169)](_0x398497,_0x3b821e);}async['findWebhook'](_0x3730ef){const _0x566b53=a0_0x20d441;return this[_0x566b53(0x5b8)][_0x566b53(0x466)](_0x3730ef);}},Gt=class extends I{constructor(_0x3e3cd7,_0x53e1d3){const _0xe2dfd6=a0_0x20d441;super(_0x53e1d3),this['webhookModel']=_0x3e3cd7,this[_0xe2dfd6(0x74f)]=_0x53e1d3;}async[a0_0x20d441(0x169)](_0x5dc2b2,_0x46fc08){const _0x52e418=a0_0x20d441;try{return this['dbSettings']['ENABLED']?{'insertCount':(await this[_0x52e418(0x263)][_0x52e418(0x5d3)]({'_id':_0x46fc08},{..._0x5dc2b2},{'upsert':!0x0}))[_0x52e418(0x6b2)]}:{'insertCount':0x1};}catch(_0x4d8a52){return _0x4d8a52;}}async[a0_0x20d441(0x435)](_0x14fb29){const _0x56a835=a0_0x20d441;try{if(this[_0x56a835(0x15d)][_0x56a835(0x478)]){await this[_0x56a835(0x263)]['deleteOne']({'_id':_0x14fb29});return;}}catch(_0x33c6a7){return{'error':_0x33c6a7};}}async['find'](_0x4e7b1a){const _0x1903d6=a0_0x20d441;try{if(this['dbSettings'][_0x1903d6(0x478)])return await this[_0x1903d6(0x263)]['findOne']({'_id':_0x4e7b1a});}catch{return{};}}},Wt=class extends I{constructor(_0x4d375f,_0x39867c){const _0x9bd11f=a0_0x20d441;super(_0x39867c),this[_0x9bd11f(0x4bf)]=_0x4d375f,this['configService']=_0x39867c,this['auth']=_0x39867c[_0x9bd11f(0x158)](_0x9bd11f(0x1da));}async[a0_0x20d441(0x169)](_0x73982e,_0x8d3bdf){const _0x1e3b25=a0_0x20d441;try{if(this[_0x1e3b25(0x15d)][_0x1e3b25(0x478)])return{'insertCount':(await this['authModel'][_0x1e3b25(0x590)]({'_id':_0x8d3bdf},{'$set':{..._0x73982e}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x1e993c){return{'error':_0x1e993c};}}async[a0_0x20d441(0x3e8)](_0xd182cf,_0xbfb4dd){const _0x3c6284=a0_0x20d441;try{if(this[_0x3c6284(0x15d)][_0x3c6284(0x478)])return{'insertCount':(await this['authModel'][_0x3c6284(0x163)](_0xd182cf,{'$set':_0xbfb4dd},{'upsert':!0x1}))[_0x3c6284(0x6b2)]};throw new Error(_0x3c6284(0x3a6));}catch(_0x35e7dd){return{'error':_0x35e7dd};}}async[a0_0x20d441(0x2a3)](_0x579ecf){const _0x4424e4=a0_0x20d441;try{if(this['dbSettings'][_0x4424e4(0x478)])return{'insertCount':(await this[_0x4424e4(0x4bf)][_0x4424e4(0x2a3)](_0x579ecf))['deletedCount']};throw new Error(_0x4424e4(0x3a6));}catch(_0xd8a115){return{'error':_0xd8a115};}}async[a0_0x20d441(0x435)](_0x5c409d){const _0x1f0178=a0_0x20d441;try{if(this[_0x1f0178(0x15d)][_0x1f0178(0x478)]){await this['authModel'][_0x1f0178(0x2e2)]({'_id':_0x5c409d});return;}}catch(_0x2a885e){return{'error':_0x2a885e};}}async[a0_0x20d441(0x466)](_0x4577a6){const _0x402742=a0_0x20d441;try{if(this[_0x402742(0x15d)]['ENABLED'])return await this[_0x402742(0x4bf)][_0x402742(0x1ca)]({'_id':_0x4577a6});}catch{return{};}}async['findAll'](){const _0x1c6d28=a0_0x20d441;try{if(this['dbSettings'][_0x1c6d28(0x478)])return await this[_0x1c6d28(0x4bf)]['find']();}catch{return[];}}},zt=class extends I{[a0_0x20d441(0x623)](_0x2de297){return ta(_0x2de297);}async[a0_0x20d441(0x208)](_0x48f6a4){const _0x2ecba0=a0_0x20d441;try{let _0xa0bdcc=sa,_0x2ba7e4=this[_0x2ecba0(0x623)](_0x48f6a4),_0x5a4228=await _0xa0bdcc[_0x2ecba0(0x466)]({'owner':_0x48f6a4})[_0x2ecba0(0x4e6)](),_0x561d55=[],_0x3c1eff=[];for(let _0x404239 of _0x5a4228)await _0x2ba7e4[_0x2ecba0(0x5f6)](_0x404239[_0x2ecba0(0x749)])['lean']()||(_0x561d55[_0x2ecba0(0x4cf)](_0x404239),_0x3c1eff[_0x2ecba0(0x4cf)](_0x404239[_0x2ecba0(0x749)]));return _0x561d55[_0x2ecba0(0x280)]>0x0&&await _0x2ba7e4['insertMany'](_0x561d55,{'ordered':!0x1}),{'success':!0x0};}catch(_0x2b678c){return console[_0x2ecba0(0x5e0)]('Erro\x20ao\x20copiar\x20dados:',_0x2b678c),{'success':!0x1,'error':_0x2b678c};}}async[a0_0x20d441(0x435)](_0x2a8fbb,_0x47507c){const _0x1ada5d=a0_0x20d441;try{let _0x563829=this[_0x1ada5d(0x623)](_0x47507c),_0x27e59b=A(_0x2a8fbb[_0x1ada5d(0x778)]);return{'deletedCount':(await _0x563829['deleteMany'](_0x27e59b))['deletedCount']};}catch(_0x3c999a){return{'error':_0x3c999a?.[_0x1ada5d(0x390)]()};}}async[a0_0x20d441(0x2e2)](_0x59af19,_0x1fa0c1){const _0x36f73e=a0_0x20d441;try{let _0x419f89=this[_0x36f73e(0x623)](_0x1fa0c1),_0xa7e15c=A(_0x59af19['where']);return{'deletedCount':(await _0x419f89[_0x36f73e(0x2e2)](_0xa7e15c))[_0x36f73e(0x566)]};}catch(_0x5aae87){return{'error':_0x5aae87?.['toString']()};}}async['updateOne'](_0x37150f,_0x187c4e,_0x475d19){const _0x1a5c10=a0_0x20d441;try{return await this[_0x1a5c10(0x623)](_0x475d19)[_0x1a5c10(0x70c)](_0x37150f,_0x187c4e,{'new':!0x0});}catch(_0xb5b234){return console[_0x1a5c10(0x5e0)](_0x1a5c10(0x6a8),_0xb5b234),null;}}async[a0_0x20d441(0x60c)](_0x113fc5,_0x1a0d5b){const _0x5a5583=a0_0x20d441;try{let _0x23d018=this[_0x5a5583(0x623)](_0x1a0d5b);return await new _0x23d018(_0x113fc5)[_0x5a5583(0x46a)]();}catch(_0x29852a){return console[_0x5a5583(0x5e0)](_0x5a5583(0x4b6),_0x29852a),null;}}async[a0_0x20d441(0x163)](_0x3d926f,_0x3f7295,_0x17926f){const _0x356bbb=a0_0x20d441;try{return{'modifiedCount':(await this[_0x356bbb(0x623)](_0x17926f)[_0x356bbb(0x163)](_0x3d926f,{'$set':_0x3f7295}))[_0x356bbb(0x6b2)]};}catch(_0x1e455b){return console[_0x356bbb(0x5e0)](_0x356bbb(0x145),_0x1e455b),{'error':_0x1e455b};}}async['findAll'](_0x40e46a,_0x41e227){const _0x26ff3c=a0_0x20d441;try{let _0x11225d=this[_0x26ff3c(0x623)](_0x41e227),_0x54dbc8=A(_0x40e46a[_0x26ff3c(0x778)]);return await _0x11225d[_0x26ff3c(0x466)](_0x54dbc8)['limit'](_0x40e46a?.[_0x26ff3c(0x184)]??0x0)[_0x26ff3c(0x4e6)]();}catch{return[];}}async[a0_0x20d441(0x1ca)](_0x5a18f2,_0x41943e){const _0x328903=a0_0x20d441;try{let _0x260753=this[_0x328903(0x623)](_0x41943e),_0x2df893=A(_0x5a18f2[_0x328903(0x778)]);return await _0x260753[_0x328903(0x1ca)](_0x2df893)[_0x328903(0x4e6)]();}catch{return null;}}async[a0_0x20d441(0x472)](_0x7ea32){const _0x1f5031=a0_0x20d441;try{return await this[_0x1f5031(0x623)](_0x7ea32)[_0x1f5031(0x1df)][_0x1f5031(0x6eb)](),{'success':!0x0};}catch(_0x3269ea){return console['error'](_0x3269ea),{'success':!0x1,'error':_0x3269ea};}}},Ht=class extends I{[a0_0x20d441(0x304)](_0x195e07){return oa(_0x195e07);}async[a0_0x20d441(0x208)](_0x355f18){const _0x5244a3=a0_0x20d441;try{let _0x165041=ra,_0x561192=this['getConversationModelForOwner'](_0x355f18),_0x17aa6b=await _0x165041[_0x5244a3(0x466)]({'owner':_0x355f18})[_0x5244a3(0x4e6)](),_0x15b92b=[],_0x3500ba=[];for(let _0x17b49e of _0x17aa6b)await _0x561192['findById'](_0x17b49e['_id'])['lean']()||(_0x15b92b[_0x5244a3(0x4cf)](_0x17b49e),_0x3500ba[_0x5244a3(0x4cf)](_0x17b49e['_id']));return _0x15b92b[_0x5244a3(0x280)]>0x0&&await _0x561192[_0x5244a3(0x3d5)](_0x15b92b,{'ordered':!0x1}),{'success':!0x0};}catch(_0x5ca4d0){return console[_0x5244a3(0x5e0)](_0x5244a3(0x20a),_0x5ca4d0),{'success':!0x1,'error':_0x5ca4d0};}}async[a0_0x20d441(0x52c)](_0x3ca4a1){const _0x570dbc=a0_0x20d441;if(_0x3ca4a1[_0x570dbc(0x280)]!==0x0)try{return{'insertCount':(await this[_0x570dbc(0x304)](_0x3ca4a1[0x0][_0x570dbc(0x76c)])[_0x570dbc(0x3d5)]([..._0x3ca4a1]))[_0x570dbc(0x280)]};}catch(_0x570e63){return _0x570e63;}}async[a0_0x20d441(0x435)](_0x10ca8c,_0x479af5){const _0x17a55b=a0_0x20d441;try{let _0xe7ccd6=this[_0x17a55b(0x304)](_0x479af5),_0x2e3df8=A(_0x10ca8c[_0x17a55b(0x778)]);return{'deletedCount':(await _0xe7ccd6[_0x17a55b(0x2a3)](_0x2e3df8))[_0x17a55b(0x566)]};}catch(_0x50c848){return{'error':_0x50c848?.[_0x17a55b(0x390)]()};}}async[a0_0x20d441(0x2e2)](_0x2fa90b,_0x53d9fc){const _0xede93c=a0_0x20d441;try{let _0x1ce613=this[_0xede93c(0x304)](_0x53d9fc),_0xa75d4e=A(_0x2fa90b[_0xede93c(0x778)]);return{'deletedCount':(await _0x1ce613['deleteOne'](_0xa75d4e))[_0xede93c(0x566)]};}catch(_0x330dc2){return{'error':_0x330dc2?.[_0xede93c(0x390)]()};}}async[a0_0x20d441(0x338)](_0x5794b2,_0x2a52eb){const _0x219d6f=a0_0x20d441;try{if(_0x5794b2[_0x219d6f(0x280)]===0x0)return;let _0x509e75=this[_0x219d6f(0x304)](_0x2a52eb),_0x5dcc50=_0x5794b2['map'](_0x325450=>({'updateOne':{'filter':{'name':_0x325450[_0x219d6f(0x6cb)],'owner':_0x2a52eb},'update':{..._0x325450}}})),{modifiedCount:_0x18ac3c}=await _0x509e75[_0x219d6f(0x715)](_0x5dcc50);return{'insertCount':_0x18ac3c};}catch{return;}}async[a0_0x20d441(0x163)](_0x1f678a,_0x45c9e3,_0x2fbe08){const _0x26d5c5=a0_0x20d441;try{return{'modifiedCount':(await this[_0x26d5c5(0x304)](_0x2fbe08)[_0x26d5c5(0x163)](_0x1f678a,{'$set':_0x45c9e3}))[_0x26d5c5(0x6b2)]};}catch(_0x4e380c){return console['error'](_0x26d5c5(0x66d),_0x4e380c),{'error':_0x4e380c};}}async['updateOne'](_0x2cf3b4,_0x11ae72,_0x241def){const _0x3fca22=a0_0x20d441;try{return await this[_0x3fca22(0x304)](_0x241def)['findOneAndUpdate']({'_id':_0x2cf3b4},{'$set':_0x11ae72},{'new':!0x0,'upsert':!0x0})[_0x3fca22(0x4e6)]();}catch(_0x26fdcd){return console['error'](_0x26fdcd),null;}}async['find'](_0x172432,_0x17e5b4){const _0x1b7852=a0_0x20d441;try{return await this[_0x1b7852(0x304)](_0x17e5b4)[_0x1b7852(0x466)](_0x172432)[_0x1b7852(0x42e)]({'lastInteraction':-0x1})[_0x1b7852(0x4e6)]();}catch{return[];}}async[a0_0x20d441(0x1ca)](_0x21f67e,_0x138b4a){const _0x21ae19=a0_0x20d441;try{return await this[_0x21ae19(0x304)](_0x138b4a)[_0x21ae19(0x1ca)]({..._0x21f67e[_0x21ae19(0x778)]})[_0x21ae19(0x4e6)]();}catch{return null;}}async[a0_0x20d441(0x472)](_0x2f2a0e){const _0x35b013=a0_0x20d441;try{return await this[_0x35b013(0x304)](_0x2f2a0e)[_0x35b013(0x1df)][_0x35b013(0x6eb)](),{'success':!0x0};}catch(_0x553ea4){return console['error'](_0x553ea4),{'success':!0x1,'error':_0x553ea4};}}},Kt=class extends I{['getScheduleMessageModelForOwner'](_0x27eb34){return na(_0x27eb34);}async[a0_0x20d441(0x208)](_0x17a877){const _0x535f45=a0_0x20d441;try{let _0x549de6=ca,_0x4929ef=this['getScheduleMessageModelForOwner'](_0x17a877),_0x307a03=await _0x549de6[_0x535f45(0x466)]({'owner':_0x17a877})[_0x535f45(0x4e6)](),_0x18e4eb=[],_0x58ae01=[];for(let _0x4c5268 of _0x307a03)await _0x4929ef[_0x535f45(0x5f6)](_0x4c5268[_0x535f45(0x749)])[_0x535f45(0x4e6)]()||(_0x18e4eb[_0x535f45(0x4cf)](_0x4c5268),_0x58ae01[_0x535f45(0x4cf)](_0x4c5268[_0x535f45(0x749)]));return _0x18e4eb[_0x535f45(0x280)]>0x0&&await _0x4929ef[_0x535f45(0x3d5)](_0x18e4eb,{'ordered':!0x1}),{'success':!0x0};}catch(_0x2ef7bc){return console['error'](_0x535f45(0x20a),_0x2ef7bc),{'success':!0x1,'error':_0x2ef7bc};}}async['createAndSave'](_0x7d0612,_0x3de62d){const _0x4bf02d=a0_0x20d441;try{let _0x335d6e=this['getScheduleMessageModelForOwner'](_0x3de62d);return await new _0x335d6e(_0x7d0612)['save']();}catch(_0x338078){return console[_0x4bf02d(0x5e0)](_0x4bf02d(0x4b6),_0x338078),null;}}async[a0_0x20d441(0x2e2)](_0x131c61,_0x18985f){const _0x17e7c8=a0_0x20d441;try{return await this[_0x17e7c8(0x56a)](_0x18985f)[_0x17e7c8(0x4a4)](_0x131c61),{};}catch(_0x47480d){return{'error':_0x47480d?.[_0x17e7c8(0x390)]()};}}async[a0_0x20d441(0x590)](_0x487d21,_0xcc5abe,_0x3db730){const _0x1b93b1=a0_0x20d441;try{return await this[_0x1b93b1(0x56a)](_0x3db730)[_0x1b93b1(0x539)](_0x487d21,{'$set':_0xcc5abe},{'new':!0x0})[_0x1b93b1(0x4e6)]();}catch(_0x1783bb){return console['error']('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x1783bb),null;}}async[a0_0x20d441(0x700)](_0x324154,_0x43595f,_0x288c22){const _0x5e617f=a0_0x20d441;try{return await this[_0x5e617f(0x56a)](_0x288c22)[_0x5e617f(0x70c)](_0x324154,_0x43595f,{'new':!0x0})['lean']();}catch(_0x5af4ac){return console[_0x5e617f(0x5e0)](_0x5e617f(0x742),_0x5af4ac),null;}}async[a0_0x20d441(0x466)](_0x25787b,_0xec202){const _0x1dad32=a0_0x20d441;try{return await this[_0x1dad32(0x56a)](_0xec202)[_0x1dad32(0x466)](_0x25787b[_0x1dad32(0x778)])[_0x1dad32(0x184)](_0x25787b?.['limit']??0x0)[_0x1dad32(0x42e)]({'when':0x1})['lean']();}catch{return[];}}async[a0_0x20d441(0x1ca)](_0x39fcf7,_0x2594e4){const _0x598461=a0_0x20d441;try{return await this[_0x598461(0x56a)](_0x2594e4)[_0x598461(0x1ca)](_0x39fcf7['where'])[_0x598461(0x42e)]({'when':0x1})['lean']();}catch{return null;}}async[a0_0x20d441(0x5f6)](_0x357696,_0x3e2c0f){const _0x16461a=a0_0x20d441;try{return await this[_0x16461a(0x56a)](_0x3e2c0f)[_0x16461a(0x5f6)](_0x357696)[_0x16461a(0x4e6)]();}catch{return null;}}async['deleteMany'](_0x16b6c8,_0x52fa7f){const _0x2eec80=a0_0x20d441;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x52fa7f)[_0x2eec80(0x2a3)](_0x16b6c8))[_0x2eec80(0x566)]};}catch(_0x28fec4){return console[_0x2eec80(0x5e0)](_0x2eec80(0x3a5),_0x28fec4),{'error':_0x28fec4};}}async[a0_0x20d441(0x472)](_0x13d32c){const _0x27a0b3=a0_0x20d441;try{return await this[_0x27a0b3(0x56a)](_0x13d32c)[_0x27a0b3(0x1df)]['drop'](),{'success':!0x0};}catch(_0x4b8125){return console[_0x27a0b3(0x5e0)](_0x4b8125),{'success':!0x1,'error':_0x4b8125};}}},Qt=class extends I{async[a0_0x20d441(0x338)](_0x165ba5,_0x5c3788){const _0x445f32=a0_0x20d441;try{if(this[_0x445f32(0x15d)][_0x445f32(0x478)]){let _0x433bee=await Pe[_0x445f32(0x539)]({'_id':_0x5c3788},{'$set':_0x165ba5},{'new':!0x0});return console[_0x445f32(0x3a8)](_0x445f32(0x4d2),_0x433bee),_0x433bee;}}catch(_0x2d6193){throw console[_0x445f32(0x5e0)]('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0x2d6193),_0x2d6193;}}async[a0_0x20d441(0x177)](_0x575e3e){const _0x2046ec=a0_0x20d441;try{let _0x96348=await Pe[_0x2046ec(0x5f6)](_0x575e3e);return _0x96348||(_0x96348=new Pe({'_id':_0x575e3e}),await _0x96348['save']()),_0x96348;}catch(_0x485ee1){return console[_0x2046ec(0x5e0)](_0x2046ec(0x664),_0x485ee1),null;}}},yr=new v('WA\x20MODULE'),br=new Le(b),Sr=new $t(b),Er=new Qe(b),Cr=new Gt(Qs,b),Mr=new Wt(zs,b),vr=new zt(b),Nr=new kt(b),Rr=new Ht(b),Tr=new Kt(b),Ar=new Qt(b),ce=new $e(br,Sr,Er,Cr,Mr,vr,Rr,Nr,Tr,Ar,N?.['getClient']()),B=new Pt(ss,b,ce),Or=new qt(b,B,ce),Ir=new Jt(B),ms=new Bt(Ir),T=new Vt(B),le=new jt(B,b,ce,ss,Or),G=new Ft(B),x=new Lt(B),q=new Ut(B);yr[a0_0x20d441(0x775)](a0_0x20d441(0x68c));var hh=require(a0_0x20d441(0x453)),Ts=require('fs'),Mo=R(require(a0_0x20d441(0x49f))),vo=R(require(a0_0x20d441(0x6a9))),Ne=class c{static #e;static set[a0_0x20d441(0x270)](_0x377113){this.#e=_0x377113;}static get[a0_0x20d441(0x49f)](){const _0x474dce=a0_0x20d441;let {FULLCHAIN:_0x454383,PRIVKEY:_0x1179f2}=b[_0x474dce(0x158)](_0x474dce(0x3e4));return Mo[_0x474dce(0x4b7)]({'cert':(0x0,Ts[_0x474dce(0x36c)])(_0x454383),'key':(0x0,Ts[_0x474dce(0x36c)])(_0x1179f2)},c.#e);}static get[a0_0x20d441(0x6a9)](){return vo['createServer'](c.#e);}},de=R(require('fs')),Io=R(require(a0_0x20d441(0x306))),Re=R(require('axios')),Ae=R(require(a0_0x20d441(0x277))),Oe=require(a0_0x20d441(0x62c));function xr(){const _0x1e604a=a0_0x20d441;B[_0x1e604a(0x417)]();let _0x8cf033=Ae['default'][_0x1e604a(0x686)](__dirname,_0x1e604a(0x5c1));Oo(_0x8cf033);}var Oo=_0x3ec43f=>{const _0x17b5b8=a0_0x20d441;let _0x597d30=de['default']['readdirSync'](_0x3ec43f),_0x49a74f=0xc*0x3c*0x3c*0x3e8,_0x239d75=0x2*0x3c*0x3c*0x3e8,_0x56e42e=new Date()['getTime']();_0x597d30[_0x17b5b8(0x3ce)](_0x5221ed=>{const _0x364f0f=_0x17b5b8;let _0x209c12=Ae[_0x364f0f(0x2dd)][_0x364f0f(0x686)](_0x3ec43f,_0x5221ed),_0x4d6306=de[_0x364f0f(0x2dd)][_0x364f0f(0x30c)](_0x209c12)[_0x364f0f(0x594)][_0x364f0f(0x202)]();_0x56e42e-_0x4d6306>_0x49a74f&&(de[_0x364f0f(0x2dd)][_0x364f0f(0x43f)](_0x209c12),console[_0x364f0f(0x3a8)](_0x364f0f(0x654)+_0x5221ed));}),setTimeout(()=>Oo(_0x3ec43f),_0x239d75);};function Dr(){const _0x11c382=a0_0x20d441;let _0x5eeb34=new v(_0x11c382(0x2ad)),_0x44ead4=(0x0,pe[_0x11c382(0x2dd)])();_0x44ead4[_0x11c382(0x210)]((0x0,Ao[_0x11c382(0x2dd)])({'origin'(_0x989d88,_0xe229ef){const _0x2703bf=_0x11c382;let {ORIGIN:_0x4e95d3}=b[_0x2703bf(0x158)](_0x2703bf(0x4d5));return _0x989d88||(_0x989d88='*'),_0x4e95d3['indexOf']('*')!==-0x1||_0x4e95d3[_0x2703bf(0x1c6)](_0x989d88)!==-0x1?_0xe229ef(null,!0x0):_0xe229ef(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...b['get']('CORS')[_0x11c382(0x452)]],'credentials':b[_0x11c382(0x158)](_0x11c382(0x4d5))[_0x11c382(0x3a7)]}),(0x0,pe['urlencoded'])({'extended':!0x0,'limit':_0x11c382(0x2a2)}),(0x0,pe['json'])({'limit':_0x11c382(0x2a2)})),_0x44ead4[_0x11c382(0x210)]((_0x443d60,_0x4e229b,_0x43cb1c)=>{const _0x587da4=_0x11c382;_0x443d60[_0x587da4(0x277)][_0x587da4(0x68e)](_0x587da4(0x5a3))?_0x43cb1c():(0x0,To[_0x587da4(0x2dd)])()(_0x443d60,_0x4e229b,_0x43cb1c);}),_0x44ead4[_0x11c382(0x234)]('view\x20engine',_0x11c382(0x50d)),_0x44ead4[_0x11c382(0x234)]('views',(0x0,Os[_0x11c382(0x686)])(ae,'views')),_0x44ead4[_0x11c382(0x210)](pe[_0x11c382(0x2dd)][_0x11c382(0x675)]((0x0,Os[_0x11c382(0x686)])(ae,_0x11c382(0x294)))),_0x44ead4[_0x11c382(0x210)]((_0x462d06,_0x37f955,_0x559482)=>{const _0x2eb96f=_0x11c382;let _0x57e3ce=_0x37f955[_0x2eb96f(0x427)];_0x37f955[_0x2eb96f(0x427)]=function(_0xda161c){const _0x3e772f=_0x2eb96f;if(_0x462d06[_0x3e772f(0x260)][_0x3e772f(0x308)]===_0x3e772f(0x655)||_0x462d06[_0x3e772f(0x343)][_0x3e772f(0x66f)]==='true'){let _0x293639=JSON[_0x3e772f(0x70f)](_0xda161c);_0xda161c=JSON[_0x3e772f(0x625)](_0x348f83(_0x293639));}return _0x57e3ce['apply'](_0x37f955,[_0xda161c]);},_0x559482();}),_0x44ead4[_0x11c382(0x210)]('/',vt),_0x44ead4['use']((_0x500b0f,_0x50f8bb,_0x472d5b,_0x4ded47)=>{const _0x2f25d9=_0x11c382;if(_0x500b0f)return _0x472d5b['status'](_0x500b0f['status']||0x1f4)[_0x2f25d9(0x1e7)](_0x500b0f);},(_0x21a1b9,_0x643057,_0x27c221)=>{const _0xa65263=_0x11c382;let {method:_0x55c98f,url:_0x1b9f22}=_0x21a1b9;_0x643057[_0xa65263(0x425)](0x194)[_0xa65263(0x1e7)]({'status':0x194,'message':_0xa65263(0x2d0)+_0x55c98f[_0xa65263(0x20e)]()+'\x20'+_0x1b9f22,'error':'Not\x20Found'}),_0x27c221();});let _0x348f83=(_0x265766,_0x5e7810=_0x11c382(0x4ea))=>{const _0x763e7e=_0x11c382;let _0x4acb49=(_0x52c7a4,_0x5e79ec=null,_0x932595=!0x1)=>{const _0x12ee01=a0_0x731d;let _0x4d9f3e={};return Object['keys'](_0x52c7a4)[_0x12ee01(0x3ce)](_0x555258=>{const _0x460623=_0x12ee01;let _0x459105=_0x52c7a4[_0x555258],_0x242bbe=''+_0x5e7810+_0x555258;_0x5e79ec&&!_0x932595&&(_0x242bbe=_0x5e79ec+'.'+_0x555258),!_0x459105&&_0x459105!==0x0&&_0x459105!==!0x1||typeof _0x459105>'u'?_0x4d9f3e[_0x242bbe]=null:typeof _0x459105!='object'&&!Array['isArray'](_0x459105)?_0x4d9f3e[_0x242bbe]=_0x459105:typeof _0x459105==_0x460623(0x522)&&!Array['isArray'](_0x459105)?_0x4d9f3e=Object[_0x460623(0x29f)](_0x4d9f3e,_0x4acb49(_0x459105,_0x242bbe)):Array[_0x460623(0x190)](_0x459105)&&(typeof _0x459105[0x0]==_0x460623(0x522)?(_0x4d9f3e[_0x242bbe]=[],_0x459105[_0x460623(0x3ce)](_0x2751f6=>{const _0x5d7ee2=_0x460623;_0x4d9f3e[_0x242bbe][_0x5d7ee2(0x4cf)](_0x4acb49(_0x2751f6,_0x242bbe,!0x0));})):_0x4d9f3e[_0x242bbe]=_0x459105);}),_0x4d9f3e;};return Array[_0x763e7e(0x190)](_0x265766)?_0x265766[_0x763e7e(0x6b3)](_0x1962bd=>_0x4acb49(_0x1962bd)):typeof _0x265766==_0x763e7e(0x522)&&_0x265766!==null?_0x4acb49(_0x265766):{};},_0x5aaae6=b[_0x11c382(0x158)](_0x11c382(0x2ad));Ne['app']=_0x44ead4;let _0x32f4cf=Ne[_0x5aaae6[_0x11c382(0x4e3)]],_0x3103ed='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x32f4cf[_0x11c382(0x619)](_0x5aaae6['PORT'],()=>{const _0x429217=_0x11c382;_0x5eeb34['log'](_0x3103ed),_0x5eeb34['log'](_0x5aaae6['TYPE'][_0x429217(0x20e)]()+_0x429217(0x636)+_0x5aaae6['PORT']);}),xr(),Fs();}var _r=a0_0x20d441(0x213),Pr=Ae['default'][a0_0x20d441(0x686)](__dirname,a0_0x20d441(0x63e)),Te=null;function $r(){return new Promise((_0x3d11fc,_0x4a986e)=>{const _0x397a2f=a0_0x731d;de[_0x397a2f(0x2dd)]['readFile'](Pr,_0x397a2f(0x187),(_0x33a00a,_0x1b1b58)=>{const _0x3a341c=_0x397a2f;if(_0x33a00a){Te=_0x33a00a,_0x3d11fc();return;}Io[_0x3a341c(0x2dd)][_0x3a341c(0x70f)](_0x1b1b58)['remote\x20\x22origin\x22'][_0x3a341c(0x704)]===_r?(Te=null,_0x3d11fc()):(Te=new Error(_0x3a341c(0x551)),_0x3d11fc());});});}async function kr(){const _0x453e1c=a0_0x20d441;try{await $r(),await Is();}catch(_0x428e06){console[_0x453e1c(0x5e0)](_0x453e1c(0x767)+_0x428e06),process[_0x453e1c(0x644)](0x1);}}kr();async function xo(){const _0x197c4a=a0_0x20d441;let _0x354e4b;try{_0x354e4b=(await Re['default'][_0x197c4a(0x158)](_0x197c4a(0x27d)))[_0x197c4a(0x299)]['ip'];}catch(_0x12dbc5){console[_0x197c4a(0x5e0)](_0x12dbc5);try{_0x354e4b=(await Re[_0x197c4a(0x2dd)][_0x197c4a(0x158)](_0x197c4a(0x197)))[_0x197c4a(0x299)]['ip'];}catch(_0x55a32e){console[_0x197c4a(0x5e0)](_0x55a32e);try{_0x354e4b=(await Re[_0x197c4a(0x2dd)][_0x197c4a(0x158)](_0x197c4a(0x143)))[_0x197c4a(0x299)][_0x197c4a(0x248)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0xf8e99a){return console[_0x197c4a(0x5e0)](_0xf8e99a),!0x1;}}}return _0x354e4b;}var No=0x0;async function Lr(){const _0x56dc18=a0_0x20d441;let _0x1dd024=await new oe(b[_0x56dc18(0x158)](_0x56dc18(0x1b4)))['instanceKeys']();return console[_0x56dc18(0x3a8)](_0x56dc18(0x63f),_0x1dd024['length']),_0x1dd024['length'];}function jr(_0x42a4e4){const _0x184f00=a0_0x20d441;let _0x34dc33=_0x42a4e4['get'](_0x184f00(0x2ad))[_0x184f00(0x262)],_0x3b66f3=_0x42a4e4[_0x184f00(0x158)](_0x184f00(0x3e4)),_0x1e722f;if(_0x34dc33){let _0x394776=_0x34dc33[_0x184f00(0x248)](/\/\/(.*?)\./);_0x394776&&_0x394776[0x1]&&(_0x1e722f=_0x394776[0x1]);}if(!_0x1e722f&&_0x3b66f3&&_0x3b66f3['FULLCHAIN']){let _0xfb1478=_0x3b66f3[_0x184f00(0x740)]['split']('/'),_0x54df22=_0xfb1478[_0xfb1478['length']-0x2];if(_0x54df22){let _0xe2ccaf=_0x54df22[_0x184f00(0x4f6)]('.');_0xe2ccaf[_0x184f00(0x280)]>0x2&&(_0x1e722f=_0xe2ccaf[0x0]);}}return _0x1e722f;}var vs=jr(b);async function Fr(){const _0x57aa22=a0_0x20d441;let _0x4381e4=b['get']('REDIS'),_0x341543=b[_0x57aa22(0x158)]('AUTHENTICATION')[_0x57aa22(0x3fb)]['KEY'],_0xa36ed8=b[_0x57aa22(0x158)]('SSL_CONF'),_0x3ad73d=await xo(),_0x9c11e9=b['get'](_0x57aa22(0x2ad))[_0x57aa22(0x6cc)],_0x1525b0=b[_0x57aa22(0x158)](_0x57aa22(0x2ad))['URL'];try{let _0x57b07d={'ip':_0x3ad73d||null,'redis_enable':_0x4381e4?.[_0x57aa22(0x478)]||null,'apikey':_0x341543||null,'ssl':_0xa36ed8?.[_0x57aa22(0x608)]||null,'lastupdate':Do||null,'port':_0x9c11e9||null,'gitInstallError':Te?.['message']||null,'url':_0x1525b0||null};if(console[_0x57aa22(0x3a8)](_0x57aa22(0x2bf),_0x57b07d['ip']),_0x4381e4&&_0x4381e4[_0x57aa22(0x478)]){let _0x7111b9=await Lr();_0x57b07d['instanceCount']=_0x7111b9||null;}for(let _0x3ec653 in _0x57b07d)_0x57b07d[_0x57aa22(0x292)](_0x3ec653)&&_0x3ec653!=='ip'&&(_0x57b07d[_0x3ec653]=JSON[_0x57aa22(0x625)](_0x57b07d[_0x3ec653]));return(await Re[_0x57aa22(0x2dd)][_0x57aa22(0x2b8)](_0x57aa22(0x62b),_0x57b07d))[_0x57aa22(0x299)];}catch(_0x74279d){return console[_0x57aa22(0x5e0)](_0x74279d),!0x1;}}var As=!0x1,Do=0x223,qr=0x3,Ro=0x1b7740;async function Is(){const _0x169750=a0_0x20d441;if(!await xo())return console[_0x169750(0x5e0)](_0x169750(0x186)),'NO_IP';let _0x5e1c39=await Fr();if(_0x5e1c39){if(_0x5e1c39['response'][_0x169750(0x2d8)]===!0x0){b['get'](_0x169750(0x3e4))[_0x169750(0x608)][_0x169750(0x4c9)](_0x169750(0x316))&&_0x5e1c39[_0x169750(0x51a)][_0x169750(0x258)]&&(await Vr(_0x5e1c39[_0x169750(0x51a)]['subdomain'],Jr),await Br(_0x169750(0x552),_0x5e1c39[_0x169750(0x51a)][_0x169750(0x258)]),console[_0x169750(0x3a8)]('Reiniciando\x20sistema\x20após\x20instalado\x20certificado...'),setTimeout(()=>Wr(),0x2710)),Te===null&&_0x5e1c39[_0x169750(0x51a)]['last_update']-Do>0x0&&await Ur(),As||(As=!0x0,Dr());let _0x23bdae=0x24*0x3c*0x3c,_0x45a5a2=_0x5e1c39['response'][_0x169750(0x2ff)]>_0x23bdae?_0x23bdae:_0x5e1c39[_0x169750(0x51a)][_0x169750(0x2ff)],_0x180252=Number(_0x45a5a2);if(isNaN(_0x180252)){console[_0x169750(0x5e0)](_0x169750(0x79e));return;}let _0x5264fe=Math[_0x169750(0x5e8)](_0x180252/0xe10),_0x1b10d0=Math[_0x169750(0x5e8)](_0x180252%0xe10/0x3c),_0x2cb014=new Date(Date[_0x169750(0x79b)]()+_0x180252*0x3e8);setTimeout(Is,_0x180252*0x3e8);let _0x34804e=_0x52d9d8=>_0x52d9d8['toString']()[_0x169750(0x614)](0x2,'0'),_0x2b6ae4=_0x169750(0x3e5)+_0x34804e(_0x5264fe)+'\x20horas\x20e\x20'+_0x34804e(_0x1b10d0)+_0x169750(0x50f)+_0x34804e(_0x2cb014[_0x169750(0x35d)]())+':'+_0x34804e(_0x2cb014['getMinutes']())+'.';console[_0x169750(0x3a8)](_0x2b6ae4);}else return console['log'](_0x169750(0x379)),As&&(console[_0x169750(0x3a8)](_0x169750(0x755)),process[_0x169750(0x644)]()),_0x169750(0x2ba);}else{if(No++,No<qr)console[_0x169750(0x3a8)](_0x169750(0x30f)+Ro/0xea60+_0x169750(0x3e7)),setTimeout(Is,Ro);else return console[_0x169750(0x5e0)](_0x169750(0x191)),_0x169750(0x1e2);}}async function Ur(){const _0x41db93=a0_0x20d441;console['log'](_0x41db93(0x369));let _0x256533=(0x0,Oe[_0x41db93(0x5f7)])(_0x41db93(0x302),{'shell':!0x0});_0x256533['stdout']['on'](_0x41db93(0x299),_0x484a0f=>{const _0x5ac834=_0x41db93;console[_0x5ac834(0x3a8)](_0x5ac834(0x4d6)+_0x484a0f);}),_0x256533['stderr']['on'](_0x41db93(0x299),_0x2a0558=>{const _0x185668=_0x41db93;console[_0x185668(0x5e0)]('Erro\x20de\x20atualização:\x20'+_0x2a0558);}),_0x256533['on'](_0x41db93(0x644),_0x1daffb=>{const _0x44b9c1=_0x41db93;_0x1daffb!==0x0?console['error'](_0x44b9c1(0x17c)+_0x1daffb):console['log'](_0x44b9c1(0x193)),console[_0x44b9c1(0x3a8)](_0x44b9c1(0x537)),setTimeout(()=>process[_0x44b9c1(0x644)](),0x2710);});}var Jr=Ae[a0_0x20d441(0x2dd)][a0_0x20d441(0x686)](__dirname,a0_0x20d441(0x68a));async function Vr(_0x303a10,_0x583b85){const _0xe1e58a=a0_0x20d441;let _0x2fa4b1=Gr();_0x303a10=_0x303a10[_0xe1e58a(0x797)]('.uazapi.dev','');try{let _0x5af7ef=de[_0xe1e58a(0x2dd)][_0xe1e58a(0x36c)](_0x583b85,_0xe1e58a(0x5b0));_0x5af7ef=_0x5af7ef['replace'](/<apikey>/,_0x2fa4b1),_0x5af7ef=_0x5af7ef[_0xe1e58a(0x797)](/<subdomain>/g,_0x303a10),de[_0xe1e58a(0x2dd)][_0xe1e58a(0x58d)](_0x583b85,_0x5af7ef,_0xe1e58a(0x5b0)),console[_0xe1e58a(0x3a8)](_0xe1e58a(0x385));}catch(_0x413dcc){console[_0xe1e58a(0x5e0)]('Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:',_0x413dcc);}}function Br(_0x1d8b03,_0x49b33a){return new Promise((_0x256b32,_0x285e8c)=>{const _0x12d1fb=a0_0x731d;let _0x4ca443=(0x0,Oe[_0x12d1fb(0x5f7)])(_0x12d1fb(0x1d1),[_0x12d1fb(0x4b2),_0x12d1fb(0x4dd),'-m',_0x1d8b03,_0x12d1fb(0x287),'-d',_0x49b33a]);_0x4ca443[_0x12d1fb(0x45e)]['on'](_0x12d1fb(0x299),_0xf3e732=>{const _0x13142d=_0x12d1fb;console[_0x13142d(0x3a8)](_0x13142d(0x48e)+_0xf3e732[_0x13142d(0x390)]());}),_0x4ca443[_0x12d1fb(0x34d)]['on'](_0x12d1fb(0x299),_0x1204fc=>{const _0x112a82=_0x12d1fb;console[_0x112a82(0x5e0)]('Erro\x20do\x20Certbot:\x20'+_0x1204fc[_0x112a82(0x390)]());}),_0x4ca443['on'](_0x12d1fb(0x1ee),_0x2419e9=>{const _0x23319a=_0x12d1fb;_0x2419e9!==0x0?(console['error'](_0x23319a(0x53d)+_0x2419e9),_0x285e8c(_0x23319a(0x53d)+_0x2419e9)):(console[_0x23319a(0x3a8)]('Certbot\x20executado\x20com\x20sucesso.'),_0x256b32());});});}function Gr(_0x15f7ca=0x32){const _0x365ef8=a0_0x20d441;let _0x316abc=_0x365ef8(0x1b9),_0x4b5ac0='';for(let _0x40ad8c=0x0;_0x40ad8c<_0x15f7ca;_0x40ad8c++)_0x4b5ac0+=_0x316abc[_0x365ef8(0x5ec)](Math[_0x365ef8(0x5e8)](Math[_0x365ef8(0x496)]()*_0x316abc[_0x365ef8(0x280)]));return _0x4b5ac0;}function Wr(){const _0x566d0f=a0_0x20d441;(0x0,Oe[_0x566d0f(0x2a0)])(_0x566d0f(0x6ec),(_0x50b741,_0x4b2b27,_0x58e204)=>{const _0xb2d4f8=_0x566d0f;if(_0x50b741){console[_0xb2d4f8(0x5e0)](_0xb2d4f8(0x2b4)+_0x50b741);return;}if(_0x58e204){console['error'](_0xb2d4f8(0x1d6)+_0x58e204);return;}console['log'](_0xb2d4f8(0x3f3)+_0x4b2b27);});}0x0&&(module[a0_0x20d441(0x28e)]={'subdomain':subdomain});