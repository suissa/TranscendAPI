const a0_0x1c3883=a0_0x6fba;(function(_0x36f6e8,_0x14391e){const _0x222129=a0_0x6fba,_0xe1b414=_0x36f6e8();while(!![]){try{const _0x4c0607=-parseInt(_0x222129(0x516))/0x1+-parseInt(_0x222129(0x99d))/0x2+-parseInt(_0x222129(0x832))/0x3*(parseInt(_0x222129(0x936))/0x4)+-parseInt(_0x222129(0x4f2))/0x5*(parseInt(_0x222129(0x7ce))/0x6)+-parseInt(_0x222129(0x3c5))/0x7+-parseInt(_0x222129(0x801))/0x8*(-parseInt(_0x222129(0x4e1))/0x9)+parseInt(_0x222129(0x596))/0xa;if(_0x4c0607===_0x14391e)break;else _0xe1b414['push'](_0xe1b414['shift']());}catch(_0x207f02){_0xe1b414['push'](_0xe1b414['shift']());}}}(a0_0x426f,0x8ea19));var Wi=Object[a0_0x1c3883(0x855)],Ve=Object[a0_0x1c3883(0x472)],zi=Object['getOwnPropertyDescriptor'],Hi=Object[a0_0x1c3883(0x43d)],Ki=Object['getPrototypeOf'],Qi=Object[a0_0x1c3883(0x95c)]['hasOwnProperty'],Yi=(_0x9c2e26,_0x37b74c)=>{for(var _0xb560a9 in _0x37b74c)Ve(_0x9c2e26,_0xb560a9,{'get':_0x37b74c[_0xb560a9],'enumerable':!0x0});},Bs=(_0x558bf1,_0x3cfa37,_0x38858e,_0x2f45c1)=>{const _0x2044ab=a0_0x1c3883;if(_0x3cfa37&&typeof _0x3cfa37==_0x2044ab(0x20d)||typeof _0x3cfa37==_0x2044ab(0x795)){for(let _0x5efd22 of Hi(_0x3cfa37))!Qi[_0x2044ab(0x815)](_0x558bf1,_0x5efd22)&&_0x5efd22!==_0x38858e&&Ve(_0x558bf1,_0x5efd22,{'get':()=>_0x3cfa37[_0x5efd22],'enumerable':!(_0x2f45c1=zi(_0x3cfa37,_0x5efd22))||_0x2f45c1[_0x2044ab(0x567)]});}return _0x558bf1;},I=(_0x5aee95,_0xc0f185,_0x42c180)=>(_0x42c180=_0x5aee95!=null?Wi(Ki(_0x5aee95)):{},Bs(_0xc0f185||!_0x5aee95||!_0x5aee95[a0_0x1c3883(0x80a)]?Ve(_0x42c180,a0_0x1c3883(0x460),{'value':_0x5aee95,'enumerable':!0x0}):_0x42c180,_0x5aee95)),Xi=_0x4f980b=>Bs(Ve({},a0_0x1c3883(0x80a),{'value':!0x0}),_0x4f980b),gr={};Yi(gr,{'fullURL':()=>Gs,'subdomain':()=>he}),module['exports']=Xi(gr);var Ui=I(require('compression')),zs=require('fs'),Hs=require('js-yaml'),Ks=require(a0_0x1c3883(0x939)),Ge=require(a0_0x1c3883(0x939)),ne=process[a0_0x1c3883(0x56c)](),be=(0x0,Ge[a0_0x1c3883(0x25f)])(ne,a0_0x1c3883(0x365)),Ws=(0x0,Ge[a0_0x1c3883(0x25f)])(ne,a0_0x1c3883(0x827)),fn=(0x0,Ge['join'])(ne,a0_0x1c3883(0x74c),a0_0x1c3883(0x823)),us=class{constructor(){this['loadEnv']();}[a0_0x1c3883(0x923)](_0x21ec9d){return this['env'][_0x21ec9d];}['loadEnv'](){const _0x3d852b=a0_0x1c3883;this['env']=process[_0x3d852b(0x2ce)]?.[_0x3d852b(0x95e)]!==_0x3d852b(0x2ff)?this[_0x3d852b(0x709)]():this[_0x3d852b(0x22a)](),process[_0x3d852b(0x2ce)]?.[_0x3d852b(0x95e)]===_0x3d852b(0x2ff)&&(this[_0x3d852b(0x2ce)]['SERVER']['TYPE']=_0x3d852b(0x632),this[_0x3d852b(0x2ce)][_0x3d852b(0x793)][_0x3d852b(0x907)]=Number[_0x3d852b(0x3c7)](process['env']?.[_0x3d852b(0x649)]??_0x3d852b(0x1f7)));}['envYaml'](){const _0x462604=a0_0x1c3883;return(0x0,Hs[_0x462604(0x8ab)])((0x0,zs[_0x462604(0x6e4)])((0x0,Ks['join'])(Ws,_0x462604(0x613)),{'encoding':_0x462604(0x539)}));}['envProcess'](){const _0x264e25=a0_0x1c3883;return{'SERVER':{'TYPE':process['env'][_0x264e25(0x4d7)],'PORT':Number[_0x264e25(0x3c7)](process['env'][_0x264e25(0x649)]),'URL':process[_0x264e25(0x2ce)][_0x264e25(0x48c)]},'CORS':{'ORIGIN':process[_0x264e25(0x2ce)][_0x264e25(0x617)][_0x264e25(0x3ac)](','),'METHODS':process[_0x264e25(0x2ce)]['CORS_METHODS']['split'](','),'CREDENTIALS':process[_0x264e25(0x2ce)]?.[_0x264e25(0x724)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0x264e25(0x2ce)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x264e25(0x2ce)]?.[_0x264e25(0x43a)]},'STORE':{'CLEANING_INTERVAL':Number[_0x264e25(0x621)](process['env']?.['STORE_CLEANING_TERMINAL'])?Number[_0x264e25(0x3c7)](process[_0x264e25(0x2ce)]['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process[_0x264e25(0x2ce)]?.[_0x264e25(0x8e6)]===_0x264e25(0x2ff),'CONTACTS':process[_0x264e25(0x2ce)]?.[_0x264e25(0x311)]==='true','CHATS':process['env']?.[_0x264e25(0x8cb)]===_0x264e25(0x2ff)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x264e25(0x5d9)],'PORT':Number[_0x264e25(0x3c7)](process[_0x264e25(0x2ce)]?.[_0x264e25(0x5d9)]),'USER':process[_0x264e25(0x2ce)][_0x264e25(0x888)],'PASSWORD':process[_0x264e25(0x2ce)]['DATABASE_CONNECTION_PASSWORD'],'URI':process['env']['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process['env'][_0x264e25(0x5f0)]},'ENABLED':process[_0x264e25(0x2ce)]?.['DATABASE_ENABLED']==='true'},'REDIS':{'ENABLED':process[_0x264e25(0x2ce)]?.[_0x264e25(0x72d)]===_0x264e25(0x2ff),'URI':process[_0x264e25(0x2ce)]['REDIS_URI']||_0x264e25(0x7df),'PREFIX_KEY':process['env'][_0x264e25(0x3fe)]||_0x264e25(0x494)},'LOG':{'LEVEL':process['env']?.[_0x264e25(0x6fa)][_0x264e25(0x3ac)](','),'COLOR':process[_0x264e25(0x2ce)]?.[_0x264e25(0x991)]===_0x264e25(0x2ff)},'PROXY':process[_0x264e25(0x2ce)]?.[_0x264e25(0x2d1)]===_0x264e25(0x2ff),'AUTHENTICATION':{'TYPE':process[_0x264e25(0x2ce)][_0x264e25(0x224)],'API_KEY':{'KEY':process[_0x264e25(0x2ce)][_0x264e25(0x34a)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x264e25(0x2ce)]?.[_0x264e25(0x576)])?Number[_0x264e25(0x3c7)](process['env'][_0x264e25(0x576)]):0xe10,'SECRET':process['env'][_0x264e25(0x4f7)]}}};}},S=new us(),ji=I(require('cors')),we=I(require(a0_0x1c3883(0x75b))),Vs=require(a0_0x1c3883(0x939)),ds=I(require('dayjs')),ps=(_0x1530c1=>(_0x1530c1[a0_0x1c3883(0x352)]=a0_0x1c3883(0x8bb),_0x1530c1[a0_0x1c3883(0x89e)]=a0_0x1c3883(0x62a),_0x1530c1['WARN']=a0_0x1c3883(0x770),_0x1530c1[a0_0x1c3883(0x588)]=a0_0x1c3883(0x29e),_0x1530c1[a0_0x1c3883(0x7ca)]=a0_0x1c3883(0x5c3),_0x1530c1[a0_0x1c3883(0x5b2)]=a0_0x1c3883(0x60f),_0x1530c1[a0_0x1c3883(0x5d0)]=a0_0x1c3883(0x673),_0x1530c1))(ps||{}),Qs=(_0x1f1e03=>(_0x1f1e03['LOG']='\x1b[32m%s\x1b[0m',_0x1f1e03[a0_0x1c3883(0x5d0)]=a0_0x1c3883(0x59a),_0x1f1e03[a0_0x1c3883(0x89e)]=a0_0x1c3883(0x493),_0x1f1e03[a0_0x1c3883(0x579)]='\x1b[33m%s\x1b[0m',_0x1f1e03[a0_0x1c3883(0x588)]=a0_0x1c3883(0x6fc),_0x1f1e03['DEBUG']=a0_0x1c3883(0x65c),_0x1f1e03[a0_0x1c3883(0x5b2)]=a0_0x1c3883(0x331),_0x1f1e03))(Qs||{}),Ys=(_0x2cbad5=>(_0x2cbad5[a0_0x1c3883(0x352)]='LOG',_0x2cbad5[a0_0x1c3883(0x579)]='WARN',_0x2cbad5['INFO']=a0_0x1c3883(0x89e),_0x2cbad5[a0_0x1c3883(0x5d0)]='DARK',_0x2cbad5[a0_0x1c3883(0x588)]=a0_0x1c3883(0x588),_0x2cbad5[a0_0x1c3883(0x7ca)]=a0_0x1c3883(0x7ca),_0x2cbad5['VERBOSE']=a0_0x1c3883(0x5b2),_0x2cbad5))(Ys||{}),Xs=(_0x33d3ab=>(_0x33d3ab['LOG']=a0_0x1c3883(0x7b1),_0x33d3ab['INFO']='\x1b[44m',_0x33d3ab['WARN']='\x1b[43m',_0x33d3ab['DARK']=a0_0x1c3883(0x383),_0x33d3ab[a0_0x1c3883(0x588)]=a0_0x1c3883(0x90b),_0x33d3ab['DEBUG']=a0_0x1c3883(0x4bd),_0x33d3ab[a0_0x1c3883(0x5b2)]=a0_0x1c3883(0x847),_0x33d3ab))(Xs||{}),$=class{constructor(_0x5dc1ec=a0_0x1c3883(0x39f)){const _0x10f3e7=a0_0x1c3883;this[_0x10f3e7(0x80d)]=_0x5dc1ec,this[_0x10f3e7(0x554)]=S;}[a0_0x1c3883(0x800)](_0x4f9dce){this['context']=_0x4f9dce;}[a0_0x1c3883(0x3fb)](_0x1e9c12,_0x2e91ca){const _0x1bb0ef=a0_0x1c3883;let _0x565c20=[];this[_0x1bb0ef(0x554)]['get'](_0x1bb0ef(0x352))['LEVEL'][_0x1bb0ef(0x33d)](_0x34d767=>_0x565c20[_0x1bb0ef(0x706)](Ys[_0x34d767]));let _0x282de3=typeof _0x1e9c12;_0x565c20[_0x1bb0ef(0x681)](_0x2e91ca)&&(S[_0x1bb0ef(0x923)](_0x1bb0ef(0x352))[_0x1bb0ef(0x6f3)]?(console['log'](_0x1bb0ef(0x6be)+Qs[_0x2e91ca],_0x1bb0ef(0x97f),(0x0,ds[_0x1bb0ef(0x460)])()[_0x1bb0ef(0x3fa)](_0x1bb0ef(0x6c5)),'\x1b[0m',ps[_0x2e91ca]+Xs[_0x2e91ca]+_0x1bb0ef(0x6be),_0x2e91ca+_0x1bb0ef(0x8d3),_0x1bb0ef(0x598),this['context']+'\x1b[0m',ps[_0x2e91ca],_0x282de3!=='object'?_0x1e9c12:'','\x1b[0m'),_0x282de3===_0x1bb0ef(0x20d)&&console['log'](_0x1e9c12,'\x0a')):console[_0x1bb0ef(0x7f9)]((0x0,ds[_0x1bb0ef(0x460)])()[_0x1bb0ef(0x3fa)](_0x1bb0ef(0x338)),_0x2e91ca+'\x20',''+this[_0x1bb0ef(0x80d)],_0x1e9c12));}['log'](_0x411e74){const _0x42d1ef=a0_0x1c3883;this[_0x42d1ef(0x3fb)](_0x411e74,_0x42d1ef(0x352));}[a0_0x1c3883(0x495)](_0x17e019){const _0x3b96af=a0_0x1c3883;this[_0x3b96af(0x3fb)](_0x17e019,_0x3b96af(0x89e));}[a0_0x1c3883(0x7b3)](_0x1908a1){const _0x192451=a0_0x1c3883;this[_0x192451(0x3fb)](_0x1908a1,_0x192451(0x579));}[a0_0x1c3883(0x61d)](_0x1580c9){const _0x3a0774=a0_0x1c3883;this[_0x3a0774(0x3fb)](_0x1580c9,'ERROR');}['verbose'](_0x4d90f6){const _0x4a1287=a0_0x1c3883;this[_0x4a1287(0x3fb)](_0x4d90f6,_0x4a1287(0x5b2));}[a0_0x1c3883(0x3ba)](_0x1eeec4){const _0xf105cd=a0_0x1c3883;this['console'](_0x1eeec4,_0xf105cd(0x7ca));}[a0_0x1c3883(0x229)](_0x39283e){const _0x44da35=a0_0x1c3883;this[_0x44da35(0x3fb)](_0x39283e,'DARK');}};function a0_0x426f(){const _0x29a21e=['pino','convertToString','cleanStore','splice','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','No\x20excess\x20IPv6\x20addresses\x20to\x20remove.','idSchedule','):\x20conversation.status:\x20','values','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','Início','close','STORE_MESSAGE','getLastMessage','.\x20Tentando\x20novamente\x20em\x20','):\x20Limpando\x20AutomateSystem','apirequest','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','addBlock','item','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','done','readreceipts','generate','author','remoteJid','ObjectId','getConversation','RemoteJid:','groupParticipantsUpdate','fetchMessages','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','clear','pm2\x20flush','.wav','reorderBlocks','buttonText','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','upperCase','CONTACTS_UPSERT','fetchLabels','birthtime','isRunning','startID','PORT','Erro\x20ao\x20buscar\x20o\x20fluxo','exit','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','\x1b[41m','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','getDevice','sort','height','/events/:instance','/webhook','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','contactsArrayMessage','status','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','address','mimetype','https://api64.ipify.org?format=json','SUCCESS','spawn','logout','memberAddMode','output','Tentativa\x20','deleteflow','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','):\x20Iniciando\x20processReadyMessages','findByIdAndUpdate','get','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens','image','menuExpiredMessage','getLabelModelForOwner','Valor\x20de\x20find\x20ou\x20replace\x20ausente','READ','whoCanUse','msgRetryCounterCache','AppStateSyncKeyData','API_KEY','desativadoFluxoAte','unlocked','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','text','processclearVariables','groups.upsert','Erro\x20ao\x20inserir\x20chats:','Removing\x20excess\x20IPv6\x20address:\x20','30808RvVpOC','DB_PREFIX_NAME','editFlowGroup','path','\x20do\x20chat\x20','editFlowVaredit','request\x20received\x20in\x20editFlow','):\x20','saveMediaToFile','updateLastSeenPrivacy','):\x20Criando\x20nova\x20conversa[createNewConversation]','_Labels','StartBot','scheduleMessage','value','creds.json','GUARD','@newsletter','Database\x20connection\x20closed.','DaysToDelete','connectionUpdate','result','InstancesAlterarTodas','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','messageContextInfo','PRESENCE_UPDATE','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','\x20:\x20','descId','leaveGroup','groupName','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','Error\x20in\x20prepareMediaMessage:','Error\x20finding\x20many\x20contacts:','Error\x20parsing\x20JSON:','isListOfNumbers','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','Operador:\x20\x22','prototype','\x20com\x20sucesso.','DOCKER_ENV','readFile','data','cacheInstanceRepository','mediaMessage','.doc','Error\x20writing\x20file:\x20',',\x20Segundo\x20Valor:\x20','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','applyvaredit','MESSAGES_UPSERT','Erro\x20ao\x20tentar\x20autoCompleteMessages','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','deleteMany','dbConnection','pollUpdateMessage','50mb','toBrazilianNumberFormat','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','Request\x20Body:','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','createConversationforgoToFlow','drop','Botão\x202','order','updateMissingCustomFields','sendStatus','Atualização:\x20','sendMessage','@whiskeysockets/baileys','\x1b[1m\x1b[37m','no.connection','fetchBusinessProfile','base64','#01d0e2','NextBlock','):\x20[messages.upsert]\x20mensagem\x20duplicada\x20ignorada','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','trim','wuid','collection','\x27\x20não\x20encontrado','substring','.\x20Pulando.','notify','hGet','sendLocation','verbose','LOG_COLOR','editFlowBlock','color','_day','bulkWrite','Parando\x20aplicação,\x20atualização\x20recebida','chatId','PLAYED','groupDesc','clearVariables','scheduleSendText','getSeconds','837440gSIPXi','.png','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','Types','Opção\x20Falsa\x20','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','connection.update',',\x20saindo.','keyPattern','Fluxo\x20não\x20encontrado\x20na\x20memória.','STATUS_INSTANCE','variablesNotFound','importChatsAntigo','eventHandler','8080','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','name','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','):\x20Mensagem\x20já\x20enviada\x20para\x20','flow','editFlowVariable','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','organization','all','sendMessageAck','SERVER_OFFLINE','!stop','):\x20Mensagens\x20PRONTAS\x20para\x20envio\x20encontradas:\x20','key','connecting','updateBlock','notas','Falhou\x20ao\x20encontrar\x20chat\x20','width','buttons','round','object','created','$set','globalShow','editMessagesInGroup','Router','findOne','editFlowReply','fetchProfilePicture','request\x20received\x20in\x20updateAutoCompleteMessages','binary','Erro\x20ao\x20deletar\x20a\x20conversa','messages.upsert','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','):\x20customFieldVariables','rm\x20-rf\x20','):\x20isVote:\x20','\x20segundos','/wa-groups','WA\x20MODULE','findParticipants','\x22\x20-\x20NOT\x20CONNECTION','messages.set','AUTHENTICATION_TYPE','sendPresenceUpdate','ReplyOption\x20com\x20ID\x20','group','.xls','dark','envProcess','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','.X-ABLabel:Celular\x0a','Falha\x20ao\x20processar\x20a\x20solicitação','):\x20Editando\x20variável\x20do\x20fluxo...','Authentication\x20error','jsonschema','headers','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','request_time','email','\x20não\x20encontrado\x20para\x20atualização.','isBase64','lastSend','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','AutomateFunctions','request\x20received\x20in\x20getConversation','redisEnv','logger','label_jid','mediatype','removeProfilePicture','lean','enabled','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','variablesToObject','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','ipv6Prefix','delAll','instanceInfo','downloadMediaMessage','IPv6\x20address\x20removed:\x20','put','):\x20Editando\x20mensagens\x20no\x20grupo...','verify','updateGParticipant','subject','deleteMessage','Erro\x20ao\x20buscar\x20fluxos:','):\x20Buscando\x20conversas...','selectedButtonId','waInstances','getTime','leadInfo.customFields','send.message','isLong','instanceName','closeExistingConversations','):\x20nextBlock.uazapi.name','toString','*Pergunta*:\x20\x0a','toLowerCase','join','generateRandomIPv6','stdout','role','docker','subjectTime','messaging-history.set','updatePresence','cleaningUp','deviceSentMessage','next_groupId','floor','redirect','updateOneById','connectionClosed','readdirSync','qrcode','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','LabelModel','):\x20Buscando\x20conversa...','lastMessage','PASSWORD','timeInMinutes','conversationTimestamp','repeat','@ffmpeg-installer/ffmpeg','uazapiSendAudio','updateAgent','randomMac','race','uazapiSendMedia','command','CONNECTION_UPDATE','fetchChats','no-cache','sendMessageWithTyping','reorderReplyOptions','Instance\x20logged\x20out','/instance/fetchInstances','updateMany','\x20minutos\x20verificará\x20novas\x20mensagens','chatModify','Erro\x20ao\x20buscar\x20Schedule\x20Messages','Error\x20in\x20chatModify\x20for\x20number\x20','Error\x20updating\x20message\x20status:','IPv6\x20addresses\x20detected:\x20','Last\x20message\x20not\x20found','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','):\x20Flow\x20desativado','Database\x20update\x20result:','contacts.upsert','app-state-sync-key','cache','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','pollErrorMessage','Rótulo\x20deletado:\x27,\x20','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','parse','silent','emit','Erro\x20ao\x20deletar\x20mensagens:','mongoose','title','\x1b[31m','conversation','Esse\x20fluxo\x20expirou','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','Selecione','fetchProfilePictureUrl','[AUTH]\x20Database\x20is\x20not\x20enabled','Rodapé\x20de\x20Teste','singleSelectReply','Erro\x20ao\x20atualizar\x20o\x20fluxo:','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','Db\x20Connection','Close\x20connection','participants','createNewConversation','isJidUser','vote','deleteOne','sendMessageWithRetry','updateGParticipate','buttonOrList_id','replyOption','Content-Type','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','Tentando\x20reconectar...','editflow','):\x20Conversa\x20inserida\x20com\x20sucesso.','sending','getMessageModelForOwner','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','):\x20Reconectando\x20serviço\x20de\x20mensagens\x20após\x20limpeza.','selectedDisplayText','messageType','exec','TYPE','stderr','):\x20whoCanEdit\x20before\x20validation:\x20','pollCreationMessageV3','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','.xlsx','maxActives','\x0aFN:','valid','statusCode','insert','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','getDelay','delayChatLabel_RETRY_DELAY_MS','env','.webp','inviteCodeDetails','PROXY','):\x20Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x20','contacts.update','deleteBlock','Configuração\x20SSL\x20recuperada:','createServer','getVariablesChat','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','statusMessage','):\x20Há\x20mensagens\x20prontas,\x20limpando\x20e\x20adicionando\x20à\x20fila','getProfileName','):\x20debug\x20alterando\x20this.AutomateSystem','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','documentMessage','convertaudioMP3','EMAIL:','):Converted\x20image\x20deleted','This\x20name\x20','dropCollection','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','lastCondition','audio','detail','website','convertToWebP','scheduleNextCheck','replyOptions','Instância:\x20','#00a1f2','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','createGroup','createConnection','Limpando\x20logs\x20do\x20PM2...','getMinutes','processPollUpdateMessage','dbServer','ff:fe','connectToWhatsappController','_error','setNewValue','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','stickerMessage','getTicketSystem','GROUPS_UPSERT','request\x20received\x20in\x20updateFlowConfig','true','):\x20Rótulo\x20atualizado:\x20','sendAudio','DELETED','Subdomínio\x20extraído\x20da\x20URL:','Sistema\x20atualizado\x20com\x20sucesso!','startFlow','.mimetype','/5\x20de\x20preparar\x20mídia\x20falhou:\x20','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','processUazapi','):\x20conversation.lastInteraction:\x20','.extension','application/octet-stream','message_normalized','textMessage','createflow','text/event-stream','STORE_CONTACTS','public','Garbage\x20collection\x20não\x20está\x20disponível.','#f64847','):\x20Enviando\x20enquete','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','Conversa\x20deletada\x20com\x20sucesso.','#9ba6ff','profilePicture','success','\x20excess\x20IPv6\x20addresses.','interactiveMessage','mongodb://','\x20Tentativa\x20de\x20reconexão\x20','editflowvariable','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','/events','addToProcessedMessages','varedit','deleteMessageForEveryone','findLabels','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','whatsappNumber','request\x20received\x20in\x20fetchConversation','updateGroupPicture','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','waitingForReplyMenu','interval\x20não\x20é\x20um\x20número','Fluxos\x20não\x20estão\x20ativados','getBase64FromMediaMessage','#ffffff','The\x20','\x1b[37m%s\x1b[0m','paramsJson','updateParticipant','/wa-qrcode','Validate','delayMessage','longitude','HH:mm:ss','instance','listType','string','uazapiSendContact','forEach','options','ScheduleMessage','deleteConversation','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','):\x20Conversa\x20está\x20expirada\x20-\x20voto','abs','createJid','body','subjectOwner','processApiRequest','AUTHENTICATION_API_KEY','):Business\x20profile\x20fetched','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','createButtonsFromValues','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','#ffae04','\x20adicionado\x20ao\x20chat\x20','editOperator','LOG','):\x20Iniciando\x20processo\x20de\x20deleção...','Network\x20interfaces\x20detected:\x20','fetchPrivacySettings','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','mentioned','dataValidate','groupBetterSetting','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','Error\x20removing\x20unused\x20chat\x20fields:','Reusing\x20existing\x20IPv6:\x20','):\x20Enviando\x20áudio','\x20mensagens\x20de\x20','flowIgnoreGroups','getScheduleMessageModelForOwner','.fileUrl','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','instances','saveTextReply','RECONNECT_TIME_FRAME','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','):\x20Enviando\x20mensagem\x20para\x20','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','createInstance','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','insertMany','):\x20updateResult:','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.',',\x20valor\x20passado:\x20\x22','basename','protocolMessage','):\x20Editando\x20grupo\x20do\x20fluxo...','imgUrl','Partes\x20do\x20caminho\x20FULLCHAIN:','startsWith','class-validator','beautifyWithPlaceholders','\x20não\x20encontrado','toLocaleString','isArray','):\x20Error\x20processing\x20conditions:\x20','):\x20leadInfoVariables','groupLeave','isBusinessInstance','ip\x20-6\x20addr\x20show\x20dev\x20','array','#d8e651','\x1b[40m','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','updateStatusPrivacy','updateChatWithMessage','/wa-connection-update','picture','pollOnReplyDelete','updateOnlinePrivacy','Forbidden','trimmed','capitalizedWords','https://jsonip.com','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','folder','Instância\x20não\x20encontrada.','):Image\x20is\x20url','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','express-async-errors','errorLog','messageSecret','Grupo\x20não\x20encontrado','not_announcement','):\x20Criando\x20fluxo...','authState','AddChatLabel','collections','menu_options','CHATS_DELETE','Logger','groupHandler','isJidBroadcast','global','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','#64c4ff','https://ifconfig.me/ip','CORS','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','demote','pendingMessages','replaceOne','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','split','):\x20conversation.waitingMenu_name','):\x20Ler\x20mensagem','CONECTADO\x20À\x20UAZAPI','tags','beforeExit','process','matchRegex','sendButtons','removeUnusedChatFields','Erro\x20ao\x20iniciar\x20fluxo:\x20','initializeQueue','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','chat\x20não\x20encontrado','debug','):\x20Limpando\x20delayMessage','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','node-cache','fone','):\x20tem\x20blocks','setRestartTimeout','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','#d3a91f','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.',',\x20isAdmin:\x20','5654460xbWVls','SSL_CONF','parseInt','option','Erro\x20ao\x20buscar\x20conversas','add','MessageModel','Erro\x20ao\x20normalizar\x20a\x20mensagem:','Generated\x20IPv6:\x20','updateAll','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','$dbName','media','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','Erro\x20ao\x20arquivar\x20chat','):\x20Usando\x20extensão\x20padrão:\x20','https://uazapi-plugin.bubbleapps.io/?url=','flattenObject','):\x20\x27Enviando\x20texto\x20para\x20\x27','verifyWhatsAppNumber','labels.edit','/wa-all-message','g-t','):\x20Enviando\x20localização','flowConversation','Falta\x20informação\x20para\x20a\x20chamada\x20API','getContactModelForOwner','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','#000000','nomecompleto','findAndUpdateCacheContact','KEY','):\x20Buscando\x20todos\x20os\x20fluxos...','deleteAll','updateOne','instancias:\x20','retrySendMessage','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','JWT','evaluateConditionTest','formatVCard','):\x20Comando\x20desconhecido:\x20','scheduled','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','release','$addToSet','blockId','_month','HistoryProcessed\x20definido\x20como\x20true\x20após\x202\x20minutos.','Imagem\x20não\x20encontrada','userDevicesCache','-instances','addMessagesToGroup','format','console','participant','ip6eui','REDIS_PREFIX_KEY','generateWAMessageFromContent','connectToWhatsapp','.ogv','list2','nome','normalizeMessage','deleteFlow','vcard','CHATS_UPDATE','ephemeralMessage','DELIVERY_ACK','removeInstance','deletedCount','Total\x20de\x20endereços\x20IPv6\x20após\x20a\x20limpeza:\x20','all_member_add','\x20inseridos\x20no\x20banco\x20de\x20dados...','0123456789ABCDEF','flowName','enviado\x20para','sendList','revokeInviteCode','none','reviver','startCommandWord','end','number','Nenhum\x20participante\x20válido\x20encontrado.','GROUPS_UPDATE','):\x20Current\x20Time:\x20','Instance\x20Name:','CHATS_SET','sign','${Message\x20absent\x20from\x20node}','autoCompleteMessages','count','from','gifPlayback','):\x20Atualizando\x20status\x20da\x20mensagem\x20','displayName','processedMessagesCache','chatLog','FULLCHAIN',',\x20valor\x20a\x20encontrar:\x20\x22','\x0a*Você\x20respondeu*:\x0a','):\x20ev.flush\x20realizado','\x20inseridas\x20no\x20banco\x20de\x20dados...','lastReceivedMessage','):\x20Criando\x20fluxo\x20compartilhado...','):\x20Query\x20params:','ScheduleMessageModel','toggleEphemeral','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','ListMessage','node-mime-types','Connection\x20Closed','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','getBusinessProfile','messagesLogs','SSL_CONF_FULLCHAIN','editChat','\x20segundos\x20antes\x20de\x20reconectar...','getOwnPropertyNames','action','extractRegex','IPv6\x20address\x20configured:\x20','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','closed','updateStopChat','processReadyMessages','fetchContacts','):Output\x20path:\x20','updateGroupParticipantsWebhook','queue','The\x20global\x20api\x20key\x20must\x20be\x20set','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','findWebhook','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','requestPairingCode','oldValue','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','):\x20Fluxos\x20não\x20estão\x20ativados','undefined','unlinkSync','.\x20Aguardando\x20','):\x20Entrou\x20na\x20função\x20stop','MESSAGES_SET','Erro\x20ao\x20criar\x20fluxo','atendimentoAberto','generateHash','randomBytes','):\x20Procurando\x20conversa','_fromMe','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','addReplyOption','default','bodyStringErrorParse','iniciando\x20fluxo\x20router','Erro\x20ao\x20alterar\x20privacidade','onTime','Erro\x20ao\x20remover\x20label\x20','flowStopMinutes','\x27\x20do\x20banco\x20de\x20dados...','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','flowConfig','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','mongodb','/wa-message-update','\x20horas\x20e\x20','PREFIX_KEY','getUpdate','/wa-chats','https://api.openai.com/v1/images/generations','defineProperty','?authSource=admin&readPreference=primary&directConnection=true','/media','#56ccb4','deleteInstance','cacheInstanceModel','Parando\x20aplicação...','shift','instance.','reference',',\x20global:\x20','):Notifying\x20clients\x20for\x20chat:\x20','cacheContactModel','Esse\x20fluxo\x20não\x20permite\x20importação.','delayChatLabel_MAX_RETRIES','moreLogs','\x22,\x20valor\x20a\x20substituir:\x20\x22','match','error_log','dbSettings','toDataURL','updateChatGroupData','Novo\x20IP\x20criado:\x20','Safari','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','g.us','SERVER_URL','getScheduleMessage','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','groupToggleEphemeral','END:VCARD','Deleted\x20','defineAuthState','\x1b[34m%s\x1b[0m','uazapi','info','):Type\x20defined\x20as\x20audio','triedToSend','):Image\x20created','preview','):\x20Going\x20to\x20','exports','getHours','bodyString','editedMessage','bateu\x20events','ip\x20-6\x20addr\x20show\x20scope\x20global\x20|\x20grep\x20-c\x20inet6','Schema','QRCODE_UPDATED','AddUserFlow','convertedOptions','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','Message','expression','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','writeData','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','MESSAGES_UPDATE','map','editflowcondition','mediaKey','):\x20newSecondValue\x20após\x20replaceVariables:','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','cpf','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.',',\x20canSendMessage:\x20','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','getClient','automateSystem','imageMessage','saveChatVariables','apiResponse','formatStatusMessage','promisify','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','\x1b[46m','verifiedName','charAt','encoding','temp-','evaluateCondition','timeout','deleteChat','announce','description','request_method','contacts','start','Erro\x20desconhecido\x20ao\x20tentar\x20enviar\x20mensagem\x20para\x20o\x20grupo','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','decryptPollVote','Erro\x20ao\x20atualizar\x20o\x20flow.','request\x20received\x20in\x20deleteDoneMessages','downloads','request\x20received\x20in\x20getFlow','remote\x20\x22origin\x22','reconnectAttempts','etiquetas','conditions','chatHandle','unhandledRejection','SERVER_TYPE','AUTHENTICATION','groupAcceptInvite','checkAndRestartProcess','):\x20Entrou\x20na\x20função\x20goToFlow','replaceVariablesInObject','replaceVariablesChat','telefone','listIPv6Addresses','extractPhoneNumber','9702fmwtTd','.docx','jsonwebtoken','reduce','#fed428','createHash','router','chats','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','newValue','.ogg','Retornando\x20grupos\x20COM\x20cache','application/json','ChatRouter','MAX_SAFE_INTEGER','audioMessage','.pdf','3166045KfsIYK','update','isJWT','Subscribed\x20Events:','\x0a{\x20instance:\x20','AUTHENTICATION_JWT_SECRET','url','presenceSubscribe','latitude','Erro\x20ao\x20atualizar\x20AutomateSystem:','model','):\x20Entrou\x20na\x20função\x20saveReply','app','endsWith','):\x20Fluxo\x20\x27','#92ceac','customFields','responsavelid','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','inet6','digest','unreadCount','profilePictureUrl','dbClient','expiration','leadInfo.','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','eventemitter2','):\x20sender\x20=\x20number:\x20','synchronizeAndMapFlows','):Audio\x20converted\x20and\x20stored\x20in\x20cache','empty','false','Erro\x20ao\x20adicionar\x20label\x20','Data\x20inválida\x20fornecida','assign','448247jHzBQL','processScheduleFlow','removeIPv6','toBRL','leadInfo.desativadoFluxoAte','Flow\x20iniciado','.jpg','everyOne','findMany','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','nativeFlowResponseMessage','groupInviteCode','list3','owner','integer','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','pollCreationMessageKey','deleted','deleteImportedChat','save','type','PENDING','Falha\x20após\x205\x20tentativas:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','mkdirSync','Erro\x20ao\x20deletar\x20chat:','ip\x20-6\x20addr\x20add\x20','EXPIRIN_IN','sleep','request\x20received\x20in\x20getAutomateSystem','message','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','rows','archiveChat','utf-8','uuid','Database\x20is\x20not\x20enabled','Resultado\x20da\x20correspondência\x20de\x20URL:','leadInfo','getValidWhatsAppNumbers','waitingMenu_replyOptions','user','waitingMenu_text','canSendMessage','fetchProfile','connectionState','isBusiness','ms\x20(tentativa\x20','size','readMessage','File\x20written\x20to\x20path:\x20','linkPreview','isValidIPv6Config','match_last_seen','findOrCreate','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','cachedContacts-whatsapp','audioWhatsapp','variables','/automate','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','configService','):\x20Deletando\x20mensagem','makeCacheableSignalKeyStore','proxy:\x20','inviteCode','profileName','createSectionsFromValues','GET','):\x20Todos\x20os\x20grupos\x20de\x20mensagens\x20foram\x20deletados\x20com\x20sucesso.','importChats','routerPath','awaitSeconds','Cache\x20instance\x20update\x20result:\x20','):\x20Aguardando\x205\x20segundos\x20para\x20garantir\x20interrupção\x20completa...','isURL','notEmpty','events','stringify','useMultiFileAuthState','enumerable','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','):Fetching\x20business\x20profile','presence','findGroup','cwd','authService','fakeReceived','):\x20Enviando\x20texto','setting','find','awaitingApproval','groupdata',']\x20(','getMessage','AUTHENTICATION_JWT_EXPIRIN_IN','createOrUpdate','groupUpdateDescription','WARN','Número\x20não\x20possui\x20WhatsApp.','list','createButtonSectionsFromValues','setHeader','HOST','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','ip:\x20','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','ip\x20-6\x20addr\x20del\x20','stopped','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','loadWebhook','PRODUCT_LIST','ERROR','state','isAdmin','GROUP_PARTICIPANTS_UPDATE','interactiveResponseMessage','error\x20get\x20vote','findById','createFlow','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','removeChatLabel','REDIS','Erro\x20de\x20atualização:\x20','messages.update','fetchConversation','28979030aIETnP','font','\x1b[33m\x1b[1m','messageHandle','\x1b[30m%s\x1b[0m','has','isCommunityAnnounce','unknown\x20operation\x20type\x20[','pow','#b4ebff','entries','testingWith','editFlowCondition','mentions','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','upsertedCount','creation','paused','_second','ContactModel','):\x20\x27Enviando\x20audio\x20para\x20\x27','messageTimestamp','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','unreadcount','3EB0','padEnd','where','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','VERBOSE','fileLength','locationMessage','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','whatsappNumbers','groupUpdateSubject','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','archive','groupValidate','Usando\x20IP\x20existente:\x20','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','replaceVariables','senderKeyDistributionMessage','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','modifiedCount','Last\x20message\x20not\x20found\x20for\x20number:\x20','\x1b[36m','ON\x20-\x20dbName:\x20','Número:\x20','this.reconnectAttempts:\x20','cleanDisconnectedInstances','imported','sectionsToString','ini','oldToken','Cannot\x20','_Contacts','processgoToFlow','templateButtonReplyMessage','DARK','remove','lastRealGroupsFetch','request\x20received\x20in\x20updateAgent','updatePrivacySettings','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','min','#ffc5c7','write','DATABASE_CONNECTION_HOST','@broadcast','):\x20Chat\x20','listMessage','_pushName','child_process','Adicionando\x20novo\x20participante:\x20','sendMessageWithTypingButtons','getReadyToSendMessages','Error\x20fetching\x20and\x20updating\x20profile:\x20','):\x20Procurando\x20mensagens\x20para\x20envio','getAutomateSystem','CONTACTS_UPDATE','Flow\x20iniciado\x20com\x20','waitingMenu_ExpiredMessage','Group\x20not\x20found','):\x20newFirstValue\x20após\x20replaceVariables:','saveCreds','\x20minutos.\x20Será\x20às\x20','uazapiSendMenu','/startFlow/:instance/:startID','https://api.elevenlabs.io/v1/text-to-speech/','https://','DATABASE_CONNECTION_DB_PREFIX_NAME','}}\x20->\x20valor\x20não\x20encontrado','CLEANING_INTERVAL','webhook','hex','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','sem\x20texto\x20na\x20mensagem','long','Unauthorized','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','http://checkip.dyndns.org','profile','editflowgroup','Instâncias\x20removidas:\x20','isJidGroup','convert','groupMemberAddMode','URL','readMessageBot','/wa-message','static','joinGroupValidate','pt-BR','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','endSession','labelId','):\x20Erro\x20durante\x20a\x20atualização:\x20','createAndSave','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','scheduleFlow','localWebhook','\x1b[37m','_FlowHistorico','CONTACTS_SET','):\x20[messages.update]\x20group\x20ignored','../env.yml','Failed\x20to\x20send\x20buttons\x20message','arraybuffer','):Image\x20is\x20base64','CORS_ORIGIN','Comando\x20desconhecido','waitingMenu_id','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','_year','error','Falha\x20ao\x20criar\x20IPv6.','mediaSticker','setUpdate','isInteger','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','METHODS','connectionStatus','findRealGroups','display_text','contains','):Image\x20converted\x20to\x20WebP','activatedCount','\x1b[34m','deleteDoneMessages','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','):\x20Enviando\x20contato','data:\x20','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','):Trying\x20to\x20get\x20business\x20profile','muteEndTime','http','deleteReplyOption','instanceName\x20not\x20provided.','SECRET','greater','getStatus','uazapiDeleteMessage','caption','BufferJSON','Erro\x20ao\x20alterar\x20fluxo','):\x20Buscando\x20flow,\x20id:\x20','ChatModel','messageId','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','stopMinutes','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','):\x20whoCanUse\x20before\x20validation:\x20','Erro\x20ao\x20editar\x20agentes','inner','_hour','/wa-contacts','changeVariables','Timeout\x20exceeded','SERVER_PORT','proto','sections','announcement','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','editFlow','notEqual','equal','numbers','groupJid','stack','LICENSE_INVALID','reaction','USER','URL:','truncatedtoEnd','):\x20Alterando\x20fluxo...','Read\x20messages',',\x20Resultado:\x20','\x1b[36m%s\x1b[0m','online','resetReconnectionVariables','api','Falha\x20ao\x20preparar\x20a\x20mensagem\x20de\x20mídia\x20após\x205\x20tentativas:\x20','buttonMessage','\x5cd+','shareOwners','#9568cf','Fluxo\x20agendado\x20pelo\x20fluxo\x20','document','archived','request\x20received\x20in\x20editFlowgroup','less','Contacts\x20not\x20found','findContacts','varedits','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','Failed\x20to\x20prepare\x20media\x20message','_lastVote','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','fullName','\x1b[30m','):\x20Enviando\x20mídia','namespace','SINGLE_SELECT','\x20chats\x20de\x20','response','ignoreGroups','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','contextInfo','@s.whatsapp.net','waMonitor','label','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','includes','):\x20Grupo\x20','lastInteraction','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','sendMedia','/5\x20falhou:\x20','joinGroup','ContactsAndGroups','exists','getConversationModelForOwner','connect','):\x20Label\x20','Fluxo\x20\x27','upsertChats','removeData','yes','hasOwnProperty','initAuthCreds','env.KEY\x20!==\x20key','XX:XX:XX:XX:XX:XX','restart','sendText','updateMessage','RemoveChatLabel','Invalid\x20format','updateAutoCompleteMessages',',\x20resultado:\x20','findConversation','updateGroupWebhook','\x27\x20removido\x20do\x20AutomateSystem.','autoCompleteMessages.command','):Getting\x20image\x20from\x20url','):\x20delete\x20=\x20true','cacheContact','contactMessage','.jwt','https://v6.ident.me','loggedOut','blockLogs','headerString','allContacts','Instance\x20restarted','throwAndLogError','apply','existsSync','rowId','every','joinApprovalMode','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','Total\x20de\x20endereços\x20IPv6\x20globais:\x20','findAndReplaceRegex','pictureUrl','):\x20Editando\x20condição\x20do\x20fluxo...','hbs','SendScheduleMessage','thumbnailUrl','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','[service]\x20request\x20received\x20in\x20sendButtons','https://chat.whatsapp.com/','secondValue','fileUrl','\x1b[1m','restartInstance','request\x20received\x20in\x20starFlow','CacheContacts\x20database\x20connection\x20closed.','delete','authModel','Detalhes\x20do\x20erro:','DD/MM\x20HH:mm:ss','eventEmitter','groupId','\x20is\x20already\x20in\x20use.','scheduleSendMedia','requestFile','boolean','last','copy','query','AutomateSystem','Erro\x20ao\x20atualizar\x20conversa:\x20','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','Message\x20absent\x20from\x20node','groupSetting','webp','.url','findMessages','/media/','insertCount','):\x20Editando\x20bloco...','backgroundColor','group-participants.update','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','request\x20received\x20in\x20deleteConversation','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','request\x20received\x20in\x20editFlowcondition','findByIdAndDelete','-whatsapp-api','contactHandle','startFlowWebhook','readFileSync','toUpperCase','video-cover.png','lastUpdate','content','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','listResponseMessage','test','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','Mensagens\x20deletadas\x20com\x20sucesso.','webhookMap','view\x20engine','Erro\x20ao\x20editar\x20o\x20bloco:\x20','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','writeFileSync','COLOR','delay','Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo','groupFetchAllParticipating','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','.mp4','Erro\x20ao\x20copiar\x20o\x20documento','LOG_LEVEL','):Audio\x20processed','\x1b[31m%s\x1b[0m','.gif','updateProfilePicture','recording','off','):\x20Iniciando\x20bot...','\x20and\x20data:','):\x20Deletando\x20conversa...','statusJidList','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','push','https://api.openai.com/v1/audio/speech','):\x20[messages.upsert]\x20group\x20ignored','envYaml','/group','redis','):\x20Bloco\x20copiado:\x20','block','shareFlow','importChatsBatch','sendDataWebhook','):Temp\x20image\x20deleted','stopConversation','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','fetchInstances','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','DisconnectReason','Erro\x20ao\x20buscar\x20a\x20conversa','updateProfileName','composing','API\x20Key\x20from\x20Request:','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','menuMessage','condition','deleteAllMessages','createWebhook','\x20-y','/*.json','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','CORS_CREDENTIALS','documentWithCaptionMessage','\x20-\x20ON:\x20','formatBRNumber','):\x20whoCanEdit\x20after\x20validation:\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','autoCompleteMessages.command_1','last_update','REDIS_ENABLED','prepareMediaMessage','Subdomínio\x20final:','leadInfo.etiquetas','errors','editConversation','pushName','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','groupSettingUpdate','cachedContact','toFile','chats.set','and','OrAnd','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','messages','lastBlockId','.webm','isConnected','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','\x27\x20não\x20encontrado\x20na\x20memória','Removed\x20','code','selectedRowId','markMessageAsRead','\x27...','fileName','):\x20Removendo\x20\x27','Flow\x20\x27','groups_ignore','store','.error','):Desconectado,\x20parando\x20execução.','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','#ff9484','findOneAndUpdate','optionName','):\x20\x27Enviando\x20mídia\x20para\x20\x27','):Archiving\x20chat','networkInterface','header','pollCreationMessageV2','imagechat','updateConversation','status@broadcast','express','params','):Processing\x20audio','fromMe','ephemeralExpiration','editScheduleMessage','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','createConversationforStartFlow','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','contact_blacklist','CREDENTIALS','selectableCount','request\x20body:\x20','writeFile','updateReadReceiptsPrivacy','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','reorderMessages','URL\x20não\x20disponível','startCommand','ERROR:\x20','):\x20Bloco\x20com\x20ID\x20','\x1b[33m','keep-alive','then','authentication','createIPv6','video','updateMissingTags','method','groupadd','PRIVKEY','updateMissingEtiquetas','SERVER_ACK','quick_reply','Module\x20-\x20ON','reactionMessage','timeoutPromise','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','processblock','countIPv6Addresses','findAndReplace','findGroups','choices','pollMessage','Falha\x20ao\x20recriar\x20IPv6.','contact','getDate','realVariables','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','request\x20received\x20in\x20editConversation','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','privacySettings','local_map','selectedId','blocks','promote','SERVER','optionDescription','function','setWebhook','normalizeMessageContent','API\x20Key\x20inválida.','copyBlock','refused','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','getFlow','):\x20Não\x20achou\x20nenhum\x20flow','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','\x20contacts','/message','Not\x20is\x20business\x20profile','processawaitSeconds','removed','slice','licenca','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','noConnection','sendPoll','[all]','findGroupsEspecial','[TESTE\x20RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','indexOf','_ScheduleMessages','lowerCase','nativeFlowMessage','\x1b[42m','Erro\x20ao\x20editar\x20o\x20chat','warn','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','leadInfo.atendimentoAberto','replacer','_minute','\x20foi\x20interrompido\x20pelo\x20usuário.','/config','StartID:','messageStubParameters','):\x20Entrou\x20na\x20função\x20clearVariables','webhookService','/instance/create','/exit','messageLogs','Valor\x20da\x20URL\x20recuperada:','readData','urlOrBase64','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','):\x20teve\x20mudanças\x20chat.archived:\x20','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','stopWhenYouSendMsg','stanzaId','updateProfileStatus','DEBUG','replace','/64\x20dev\x20','sha256','6pIxKxS','variable','replaceVariablesLogs','Mensagem\x20não\x20suportada','):\x20atualização\x20chat:\x20','readMessages','\x20minutos','getChatModelForOwner','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','\x20instance\x20does\x20not\x20exist','):\x20Error\x20processing\x20the\x20block:\x20','validate','set','messageLogsModel','ConversationModel','padStart','admin','redis://127.0.0.1:6379','some','jid','uncaughtException','Erro\x20ao\x20importar\x20chats','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','updateGroupsAddPrivacy','Error\x20while\x20deleting\x20message\x20for\x20everyone','apikey','now','open','flows','\x5c$&','json','max','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','send','_remoteJid','https://github.com/uazapi/uazapi.git','.mp3','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','Instance\x20ID:','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','#6f7bcf','use','Missing\x20global\x20api\x20key','log','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','):\x20Criou\x20conversa\x20no\x20startFlow','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','getMonth','findManyByIds','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','setContext','872NrTmdk','groupRequestParticipantsList','_activatedCount','goNextblock','.TEL;waid=','delaySecMin','AutomateSystem\x20não\x20foi\x20inicializado','quoted','):Hash\x20to\x20image\x20name:\x20','__esModule','/instance/connect','loadInstance','context','storePath','\x22reaction\x22\x20must\x20be\x20an\x20emoji','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','onWhatsApp','labels.association','inviteUrl','Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la','call','newStoppedUntil','Removidas\x20as\x20variáveis:\x20','\x20segundos...','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','Erro\x20inesperado\x20em\x20processvaredits:\x20','flowActive','Not\x20Found','pollCreationMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','poll','Variável\x20não\x20encontrada!','lastSendMessage','?timestamp=','auth','getContentType','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','HistoryProcessed','src','chats.delete','groupMetadata','#fe9dfe','locked','):\x20whoCanUse\x20after\x20validation:\x20','ENABLED','footer','Error\x20removing\x20IPv6\x20address:\x20','Content\x20is\x20required','):\x20enviado\x20para\x20[','48IoLNIe','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','updateProfilePicturePrivacy','keys','qrCode',',\x20Minutes\x20to\x20Close:\x20','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','):\x20não\x20encontrou','processConditions','buttonsResponseMessage','when','ListType','Erro\x20ao\x20iniciar\x20o\x20fluxo.','unavailable','footerText','webhookModel','The\x20property\x20cannot\x20be\x20empty','flowPrefixCommand','DATABASE','limit','del','\x1b[47m','sim','detectIPv6PrefixAndInterface','stateConnection','lastFetchAwaitingApproval','pre','agents','superadmin','qrcode.updated','findAll','reconnectTimestamps','originalUrl','restrict','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','create','CHATS_UPSERT','Não\x20respondeu\x20com\x20a\x20enquete.','):\x20Flow\x20\x27','sharp','updateFlowConfig','\x20-i\x20','instanceKeys','sendSticker','not\x20loaded','Instance\x20\x22','convertaudio','processvaredits','Botão\x201','\x20quoted:\x20','catch','extractMessageContent','URI','SEND_MESSAGE','length','Error\x20updating\x20cache\x20contact:','FlowController','creds','axios','--------------------------------------','apiName','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','myAppStateKeyId','sendReaction','):Error\x20in\x20converting\x20audio','chat','All_Instances_Config','):\x20Instancia\x20isBusiness:\x20','crypto','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','toNumber','segundos','Connection\x20closed\x20for\x20instance:\x20','editflowvaredit','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','sendContact','notContains','Connection','pairingCode','stopIfLastReturnedError','uazapiSendLocation','configureIPv6','phoneNumber','remove.instance','recebido\x20de','DATABASE_CONNECTION_USER','processingGroup','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','utf8',',\x20Novo\x20tamanho:\x20','Error\x20in\x20buttonsMessage\x20function:','delayChatLabel','prepareWAMessageMedia','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','./.git/config','delaySecMax','whoCanEdit','transformScheduledMessagesByType','cleanupExcessiveIPs','chats.upsert','saveVariable','dbInstance','Nenhum\x20fluxo\x20correspondente\x20encontrado.','groups.update','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','cta_url','INFO','repository','_id','menuType','groups','allFlows','findFlow','Partes\x20do\x20domínio:','updateCustomFields','CONNECTION','createClient','uazapiSendText','buttonParamsJson','load','notMatchRegex','util','replaceValue','isCommunity','request\x20received\x20in\x20scheduleMessage','):\x20alterando\x20this.AutomateSystem','random','request\x20received\x20in\x20deleteFlow','getflow','post','isMessageProcessed','content-type','@g.us','firstValue','Erro\x20ao\x20tentar\x20updateCustomFields','\x1b[32m','\x22\x20not\x20found','.svg','Bloco\x20com\x20ID\x20','presence.update','groupGetInviteInfo','IP\x20mismatch:\x20configured\x20','Total\x20IPv6\x20addresses\x20detected:\x20','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','Falha\x20ao\x20processar\x20fetchBusinessProfile','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','connectedName','status.instance','reject','sendWhatsAppAudio','sendMenu','STORE_CHATS','Filtered\x20network\x20interfaces:\x20','filter','saveConversationToDatabase','}}\x20->\x20\x22','client','FlowRouter','\x0aitem','\x20\x1b[0m','findIndex','/instance/connectionState','Fluxo\x20id\x20\x27','hGetAll','minutesToClose'];a0_0x426f=function(){return _0x29a21e;};return a0_0x426f();}function Zs(){const _0x1e3b13=a0_0x1c3883;process['on'](_0x1e3b13(0x7e2),(_0x624697,_0x516f11)=>{const _0xb250f9=_0x1e3b13;new $('uncaughtException')[_0xb250f9(0x61d)]({'origin':_0x516f11,'stderr':process['stderr']['fd'],'error':_0x624697});}),process['on'](_0x1e3b13(0x4d6),(_0x43b620,_0x301997)=>{const _0x3dd3f6=_0x1e3b13;new $(_0x3dd3f6(0x4d6))[_0x3dd3f6(0x61d)]({'origin':_0x301997,'stderr':process[_0x3dd3f6(0x2c1)]['fd'],'error':_0x43b620});});}var ea=I(require(a0_0x1c3883(0x50d))),hs=new ea[(a0_0x1c3883(0x460))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Se=require(a0_0x1c3883(0x29c)),Ae=I(require(a0_0x1c3883(0x29c))),Be=new $(a0_0x1c3883(0x2a9)),L=S['get']('DATABASE'),T=L[a0_0x1c3883(0x82d)]?L['CONNECTION'][a0_0x1c3883(0x866)]?Ae[a0_0x1c3883(0x460)][a0_0x1c3883(0x2f1)](L[a0_0x1c3883(0x8a7)][a0_0x1c3883(0x866)],{'dbName':L[a0_0x1c3883(0x8a7)][a0_0x1c3883(0x937)]+a0_0x1c3883(0x6e1)}):Ae[a0_0x1c3883(0x460)][a0_0x1c3883(0x2f1)](a0_0x1c3883(0x31d)+L['CONNECTION']['HOST']+':'+L[a0_0x1c3883(0x8a7)]['PORT']+a0_0x1c3883(0x473),{'user':L['CONNECTION'][a0_0x1c3883(0x656)],'pass':L[a0_0x1c3883(0x8a7)][a0_0x1c3883(0x274)],'dbName':L[a0_0x1c3883(0x8a7)][a0_0x1c3883(0x937)]+'-whatsapp-api'}):null;L[a0_0x1c3883(0x82d)]&&Be['info'](a0_0x1c3883(0x5c4)+T[a0_0x1c3883(0x3d0)]);var Y=L[a0_0x1c3883(0x82d)]?L[a0_0x1c3883(0x8a7)][a0_0x1c3883(0x866)]?Ae[a0_0x1c3883(0x460)]['createConnection'](L['CONNECTION'][a0_0x1c3883(0x866)],{'dbName':'cachedData-whatsapp'}):Ae[a0_0x1c3883(0x460)][a0_0x1c3883(0x2f1)](a0_0x1c3883(0x31d)+L[a0_0x1c3883(0x8a7)][a0_0x1c3883(0x57e)]+':'+L[a0_0x1c3883(0x8a7)]['PORT']+a0_0x1c3883(0x473),{'user':L[a0_0x1c3883(0x8a7)]['USER'],'pass':L['CONNECTION'][a0_0x1c3883(0x274)],'dbName':a0_0x1c3883(0x54f)}):null;function a0_0x6fba(_0x5b1131,_0x1343d4){const _0x426f62=a0_0x426f();return a0_0x6fba=function(_0x6fba3b,_0x1d795f){_0x6fba3b=_0x6fba3b-0x1f4;let _0x20c384=_0x426f62[_0x6fba3b];return _0x20c384;},a0_0x6fba(_0x5b1131,_0x1343d4);}Y&&Be['info'](a0_0x1c3883(0x5c4)+Y[a0_0x1c3883(0x3d0)]),process['on'](a0_0x1c3883(0x3b1),()=>{const _0x47e34e=a0_0x1c3883;T&&T[_0x47e34e(0x8e5)](()=>{const _0x8ba48=_0x47e34e;Be[_0x8ba48(0x495)](_0x8ba48(0x948));}),Y&&Y[_0x47e34e(0x8e5)](()=>{const _0x5439c0=_0x47e34e;Be[_0x5439c0(0x495)](_0x5439c0(0x6c1));});});var Zi=new Se[(a0_0x1c3883(0x4a1))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),eo=new Se[(a0_0x1c3883(0x4a1))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),to=new Se[(a0_0x1c3883(0x4a1))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),so=new Se[(a0_0x1c3883(0x4a1))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Zi],'default':[]}},{'_id':!0x1}),ao=new Se[(a0_0x1c3883(0x4a1))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':so,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':eo},'groupdata':{'type':to,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ta=_0x4ea44f=>{const _0x1585b2=a0_0x1c3883;let _0x16a169='z_'+_0x4ea44f+'_Chats';return T?.[_0x1585b2(0x4fc)](_0x1585b2(0x63d),ao,_0x16a169);},sa=require('mongoose'),io=new sa[(a0_0x1c3883(0x4a1))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=_0x5a31e6=>{const _0x281275=a0_0x1c3883;let _0x4bac26='z_'+_0x5a31e6+_0x281275(0x5cd);return T?.[_0x281275(0x4fc)](_0x281275(0x5a9),io,_0x4bac26);},ia=require('mongoose'),gs=class{},oo=new ia[(a0_0x1c3883(0x4a1))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),oa=Y?.[a0_0x1c3883(0x4fc)](gs[a0_0x1c3883(0x1f9)],oo,a0_0x1c3883(0x688)),ra=require(a0_0x1c3883(0x29c)),ms=class{},ro=new ra[(a0_0x1c3883(0x4a1))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),We=Y?.[a0_0x1c3883(0x4fc)](ms['name'],ro,a0_0x1c3883(0x365)),ws=require('mongoose'),fs=class{},no=new ws['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),co=new ws['Schema']({'_id':{'type':String},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),na=Y?.[a0_0x1c3883(0x4fc)](fs[a0_0x1c3883(0x1f9)],co,a0_0x1c3883(0x439)),ca=_0x33da7c=>{const _0x2291d0=a0_0x1c3883;let _0x4bea1c='z_'+_0x33da7c+'_Messages';return T?.[_0x2291d0(0x4fc)](_0x2291d0(0x3cb),no,_0x4bea1c);},la=require('mongoose'),ys=class{},lo=new la[(a0_0x1c3883(0x4a1))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ua=T?.['model'](ys[a0_0x1c3883(0x1f9)],lo,a0_0x1c3883(0x773)),da=require(a0_0x1c3883(0x29c)),bs=class{},pa=new da[(a0_0x1c3883(0x4a1))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});pa[a0_0x1c3883(0x84c)](a0_0x1c3883(0x52a),function(_0x114481){const _0x3a2a0d=a0_0x1c3883;delete this[_0x3a2a0d(0x81b)],delete this[_0x3a2a0d(0x360)],delete this[_0x3a2a0d(0x843)],delete this['flowStopConversation'],delete this[_0x3a2a0d(0x466)],_0x114481();});var ha=T?.[a0_0x1c3883(0x4fc)](bs['name'],pa,a0_0x1c3883(0x5f3)),P=require('mongoose'),Ss=require('uuid'),ze=class{},Ms=class{},ma=new P[(a0_0x1c3883(0x4a1))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Cs=new P[(a0_0x1c3883(0x4a1))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),uo=new P[(a0_0x1c3883(0x4a1))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x1c3883(0x2a2)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x1c3883(0x2a0)},'pollErrorMessage':{'type':String,'default':a0_0x1c3883(0x3f0)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),fa=new P[(a0_0x1c3883(0x4a1))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),po=new P[(a0_0x1c3883(0x4a1))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),ho=new P[(a0_0x1c3883(0x4a1))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Es=new P[(a0_0x1c3883(0x4a1))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),go=new P[(a0_0x1c3883(0x4a1))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),wa=new P['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':uo},'apirequest':po,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':go,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ya=new P[(a0_0x1c3883(0x4a1))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ba=new P['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Es],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x97ffa6=a0_0x1c3883;return'!cmd_'+Math['random']()[_0x97ffa6(0x25c)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x1c3883(0x512)},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});ba[a0_0x1c3883(0x84c)](a0_0x1c3883(0x751),function(_0x11603c){const _0x44b6ce=a0_0x1c3883;let _0x36e6fe=this[_0x44b6ce(0x46f)]();if(_0x36e6fe&&typeof _0x36e6fe==_0x44b6ce(0x20d)&&_0x44b6ce(0x20f)in _0x36e6fe){let _0x3fe62b=_0x36e6fe[_0x44b6ce(0x20f)];if(_0x3fe62b){let _0x20b64c=new Set(),_0x4306b6=new Set(_0x3fe62b['variables']?.[_0x44b6ce(0x4ac)](_0x56a526=>_0x56a526[_0x44b6ce(0x1f9)])),_0x4da4de=JSON[_0x44b6ce(0x565)](_0x3fe62b),_0x3923bb=/{{(?!_)([^}]*)}}/g,_0x19fc5f;for(;(_0x19fc5f=_0x3923bb[_0x44b6ce(0x2bf)](_0x4da4de))!==null;)_0x4306b6['has'](_0x19fc5f[0x1])||_0x20b64c[_0x44b6ce(0x3ca)](_0x19fc5f[0x1]);_0x20b64c[_0x44b6ce(0x547)]>0x0?(console[_0x44b6ce(0x7b3)]('Variáveis\x20não\x20encontradas:',Array['from'](_0x20b64c)),_0x3fe62b[_0x44b6ce(0x1f4)]=Array[_0x44b6ce(0x422)](_0x20b64c)):_0x3fe62b[_0x44b6ce(0x1f4)]=[],this[_0x44b6ce(0x620)]({'$set':_0x3fe62b});}}_0x11603c();});var Me=T?.['model'](Ms['name'],ba,'allFlows'),mo=new P[(a0_0x1c3883(0x4a1))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Es],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[ho]},{'_id':!0x1}),fo=new P[(a0_0x1c3883(0x4a1))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Es],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'chatLog':mo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x1c3883(0x7e9)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x1c3883(0x2a0)},'waitingMenu_replyOptions':{'type':[Cs],'default':[]}}),Sa=_0x2e1980=>{const _0x5d6d38=a0_0x1c3883;let _0x461b8c='z_'+_0x2e1980+_0x5d6d38(0x610);return T?.[_0x5d6d38(0x4fc)](_0x5d6d38(0x7dc),fo,_0x461b8c);},wo=new P[(a0_0x1c3883(0x4a1))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ga=new P[(a0_0x1c3883(0x4a1))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),yo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ga],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x1c3883(0x3ef)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[wo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ga,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ma=_0x54337f=>{const _0x4f9d5f=a0_0x1c3883;let _0x408118='z_'+_0x54337f+_0x4f9d5f(0x7ae);return T?.[_0x4f9d5f(0x4fc)](_0x4f9d5f(0x430),yo,_0x408118);},vs=class{},bo=new P[(a0_0x1c3883(0x4a1))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),So=new P[(a0_0x1c3883(0x4a1))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),Mo=new P[(a0_0x1c3883(0x4a1))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Co=new P[(a0_0x1c3883(0x4a1))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x1c3883(0x203)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),vo=new P[(a0_0x1c3883(0x4a1))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Eo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[vo]},'customFields':{'type':[Mo]},'flowConfig':{'type':Co,'default':{}},'flows':{'type':[So],'default':[]},'autoCompleteMessages':{'type':[bo],'default':[]}}),Te=T?.[a0_0x1c3883(0x4fc)](vs[a0_0x1c3883(0x1f9)],Eo,a0_0x1c3883(0x6cf)),Ca=require(a0_0x1c3883(0x29c)),No=new Ca[(a0_0x1c3883(0x4a1))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),va=_0x3fe1f7=>{const _0x1568e8=a0_0x1c3883;let _0x2643b1='z_'+_0x3fe1f7+_0x1568e8(0x941);return T?.['model'](_0x1568e8(0x271),No,_0x2643b1);},O=class{constructor(_0x541ca8){const _0x6d3b2b=a0_0x1c3883;this[_0x6d3b2b(0x485)]=_0x541ca8[_0x6d3b2b(0x923)]('DATABASE');}};function A(_0x3b4972){const _0x5c477b=a0_0x1c3883;let _0x4947f4={};for(let [_0x48f8ac,_0xb84022]of Object['entries'](_0x3b4972))if(typeof _0xb84022==_0x5c477b(0x20d)&&!Array[_0x5c477b(0x37b)](_0xb84022)){for(let [_0xc2c375,_0x22872a]of Object[_0x5c477b(0x5a0)](_0xb84022))_0x4947f4[_0x48f8ac+'.'+_0xc2c375]=_0x22872a;}else _0x4947f4[_0x48f8ac]=_0xb84022;return _0x4947f4;}var He=class{constructor(_0x25fa2b,_0x1f8fd1,_0x46123f,_0x26ca46,_0x25008a,_0x180814,_0x2c607f,_0xd4eac8,_0x1556ad,_0x33cebc,_0x262be5,_0x2b8132,_0x54fae8,_0x491444){const _0x3f935e=a0_0x1c3883;this[_0x3f935e(0x535)]=_0x25fa2b,this[_0x3f935e(0x874)]=_0x1f8fd1,this[_0x3f935e(0x788)]=_0x46123f,this[_0x3f935e(0x6a2)]=_0x26ca46,this[_0x3f935e(0x7c0)]=_0x25008a,this[_0x3f935e(0x5f3)]=_0x180814,this[_0x3f935e(0x823)]=_0x2c607f,this[_0x3f935e(0x339)]=_0xd4eac8,this['flow']=_0x1556ad,this[_0x3f935e(0x3dd)]=_0x33cebc,this[_0x3f935e(0x67e)]=_0x262be5,this['scheduleMessage']=_0x2b8132,this[_0x3f935e(0x4b6)]=_0x54fae8,this[_0x3f935e(0x509)]=_0x491444;}get['dbServer'](){const _0x19cde4=a0_0x1c3883;return this[_0x19cde4(0x509)];}},Ke=class{},Qe=class extends O{[a0_0x1c3883(0x2ba)](_0x446bc){return ca(_0x446bc);}async[a0_0x1c3883(0x2ca)](_0x4fbf1e,_0xe272e9){const _0xe803d7=a0_0x1c3883;if(_0x4fbf1e[_0xe803d7(0x868)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0xe803d7(0x2ba)](_0xe272e9)[_0xe803d7(0x36d)]([..._0x4fbf1e]))['length']};}catch(_0x216ce8){return _0x216ce8;}}async[a0_0x1c3883(0x571)](_0xa3b542,_0x2d675b){const _0x5c78b4=a0_0x1c3883;try{let _0x25a80c=this[_0x5c78b4(0x2ba)](_0x2d675b),_0x4bb62e=A(_0xa3b542[_0x5c78b4(0x5b0)]);return await _0x25a80c[_0x5c78b4(0x571)](_0x4bb62e)[_0x5c78b4(0x90e)]({'messageTimestamp':-0x1})['limit'](_0xa3b542?.[_0x5c78b4(0x845)]??0x0)[_0x5c78b4(0x241)]();}catch{return[];}}async[a0_0x1c3883(0x6c2)](_0x38131a,_0x387c25){const _0x123ddd=a0_0x1c3883;try{let _0x1fb865=this[_0x123ddd(0x2ba)](_0x387c25),_0x4329b1=A(_0x38131a[_0x123ddd(0x5b0)]);await _0x1fb865['deleteMany'](_0x4329b1);}catch(_0x4b103f){console['error'](_0x4b103f);}}async[a0_0x1c3883(0x4f3)](_0xce02da,_0x174197,_0x5d1af1){const _0x75952b=a0_0x1c3883;try{let _0x5f44ce=this[_0x75952b(0x2ba)](_0x5d1af1),_0x4a1036=A(_0xce02da[_0x75952b(0x5b0)]);return await _0x5f44ce[_0x75952b(0x751)](_0x4a1036,{'$set':_0x174197},{'new':!0x0});}catch(_0x4dd85c){throw console[_0x75952b(0x61d)](_0x4dd85c),_0x4dd85c;}}async['insertMany'](_0x36d6d4,_0x8388da){const _0x1eba20=a0_0x1c3883;if(_0x36d6d4[_0x1eba20(0x868)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x1eba20(0x2ba)](_0x8388da)[_0x1eba20(0x36d)]([..._0x36d6d4]))[_0x1eba20(0x868)]};}catch(_0x516abe){return console['log'](_0x1eba20(0x76e),_0x516abe),_0x516abe;}}async[a0_0x1c3883(0x3e6)](_0xe6e1d3){const _0xe8c531=a0_0x1c3883;try{return await this['getMessageModelForOwner'](_0xe6e1d3)[_0xe8c531(0x989)][_0xe8c531(0x977)](),{'success':!0x0};}catch(_0x2d1d26){return console[_0xe8c531(0x61d)](_0x2d1d26),{'success':!0x1,'error':_0x2d1d26};}}},Ds=I(require(a0_0x1c3883(0x278))),w=I(require(a0_0x1c3883(0x97e))),Fe=require('fs'),j=I(require(a0_0x1c3883(0x939))),K=I(require(a0_0x1c3883(0x86c))),Ti=require('uuid'),Ii=I(require(a0_0x1c3883(0x26f))),_i=I(require('qrcode-terminal')),Ea=[a0_0x1c3883(0x4b7),a0_0x1c3883(0x2df),'audioMessage','videoMessage',a0_0x1c3883(0x2fb)],Na=[a0_0x1c3883(0x408),a0_0x1c3883(0x725),'viewOnceMessage','viewOnceMessageV2'],ks=require('os'),Ft=I(require(a0_0x1c3883(0x8d9))),Ue=require(a0_0x1c3883(0x5de)),Oi=require(a0_0x1c3883(0x434)),pe=I(require(a0_0x1c3883(0x29c))),J=require(a0_0x1c3883(0x377)),ce=class{constructor(_0x3af250,_0x53e717,_0x1be6ab){const _0x455bab=a0_0x1c3883;this[_0x455bab(0x7e1)]=_0x3af250,this[_0x455bab(0x689)]=_0x53e717,this[_0x455bab(0x1f9)]=_0x1be6ab;}},Ye=class{},Xe=class{},Ie=class{},Ze=class{},et=class{},Ce=class{},tt=class{},st=class{},at=class{},it=class{},xt=I(require(a0_0x1c3883(0x75b))),$a=require('fs'),Ra=require(a0_0x1c3883(0x939));async function _e(_0x331e3c){const _0x90a2c7=a0_0x1c3883;let _0x1bd7d9=G[_0x90a2c7(0x254)][_0x331e3c];if(L['ENABLED']){let _0x379f27=T[_0x90a2c7(0x4b5)]()['db'](L[_0x90a2c7(0x8a7)][_0x90a2c7(0x937)]+_0x90a2c7(0x3f8))[_0x90a2c7(0x989)](_0x331e3c);return _0x1bd7d9||(await _0x379f27[_0x90a2c7(0x571)]({})['toArray']())[_0x90a2c7(0x868)]>0x0;}return _0x1bd7d9||(0x0,$a['existsSync'])((0x0,Ra[_0x90a2c7(0x25f)])(be,_0x331e3c));}async function Aa(_0x4c594f,_0x1ab339,_0x533f98){const _0xc190ee=a0_0x1c3883;if(_0x4c594f['originalUrl'][_0xc190ee(0x681)](_0xc190ee(0x7be))||_0x4c594f['originalUrl'][_0xc190ee(0x681)](_0xc190ee(0x285))||_0x4c594f[_0xc190ee(0x852)][_0xc190ee(0x681)](_0xc190ee(0x7bf))||_0x4c594f[_0xc190ee(0x852)][_0xc190ee(0x681)]('/config')||_0x4c594f[_0xc190ee(0x852)]['includes'](_0xc190ee(0x80b))||_0x4c594f[_0xc190ee(0x852)]['includes'](_0xc190ee(0x8d5))||_0x4c594f[_0xc190ee(0x852)][_0xc190ee(0x681)]('/instance/delete'))return _0x533f98();let _0x523be6=_0x4c594f[_0xc190ee(0x75c)];if(!_0x523be6?.[_0xc190ee(0x259)])throw new m(_0xc190ee(0x634));if(!await _e(_0x523be6[_0xc190ee(0x259)]))throw new U(_0xc190ee(0x330)+_0x523be6['instanceName']+_0xc190ee(0x7d7));_0x533f98();}async function Ta(_0xa6df8c,_0x336bda,_0x282a57){const _0x539185=a0_0x1c3883;if(_0xa6df8c[_0x539185(0x852)][_0x539185(0x681)](_0x539185(0x7be))){let _0x19aea7=_0xa6df8c['body'];if(await _e(_0x19aea7['instanceName']))throw new X(_0x539185(0x2e3)+_0x19aea7[_0x539185(0x259)]+_0x539185(0x6c8));G[_0x539185(0x254)][_0x19aea7[_0x539185(0x259)]]&&delete G[_0x539185(0x254)][_0x19aea7['instanceName']];}_0x282a57();}var Ia=require(a0_0x1c3883(0x377)),_a=I(require('jsonwebtoken')),ot=a0_0x1c3883(0x494),Ro=new $(a0_0x1c3883(0x946));async function Ao(_0x53bf78,_0x49d6a2,_0x42dd96){const _0x2148ac=a0_0x1c3883;let _0x1b8195=_0x53bf78[_0x2148ac(0x923)]('apikey');if(_0x1b8195&&S[_0x2148ac(0x923)](_0x2148ac(0x4d8))[_0x2148ac(0x92d)]['KEY']!==_0x1b8195)throw new se();if(S[_0x2148ac(0x923)](_0x2148ac(0x4d8))['API_KEY'][_0x2148ac(0x3e4)]===_0x1b8195)return _0x42dd96();if((_0x53bf78['originalUrl'][_0x2148ac(0x681)]('/instance/create')||_0x53bf78['originalUrl'][_0x2148ac(0x681)]('/instance/fetchInstances'))&&!_0x1b8195)throw new X(_0x2148ac(0x7f8),_0x2148ac(0x449));let _0x43b126=S[_0x2148ac(0x923)](_0x2148ac(0x4d8))[_0x2148ac(0x3eb)];try{let [_0xbcdf3e,_0x4f912c]=_0x53bf78[_0x2148ac(0x923)]('authorization')['split']('\x20');if(_0xbcdf3e['toLowerCase']()!=='bearer')throw new se();if(!(0x0,Ia[_0x2148ac(0x4f4)])(_0x4f912c))throw new se();let _0x5948b2=_0x53bf78[_0x2148ac(0x75c)],_0x5856dc=_a['default'][_0x2148ac(0x24d)](_0x4f912c,_0x43b126[_0x2148ac(0x635)],{'ignoreExpiration':_0x43b126[_0x2148ac(0x532)]===0x0});if(_0x5948b2[_0x2148ac(0x259)]!==_0x5856dc['instanceName']||ot!==_0x5856dc[_0x2148ac(0x86e)])throw new se();return _0x42dd96();}catch(_0x112845){throw Ro[_0x2148ac(0x61d)](_0x112845),new se();}}async function To(_0x355933,_0x41ad4c,_0xede503){const _0x444181=a0_0x1c3883;let _0x23fa96=S[_0x444181(0x923)]('AUTHENTICATION')[_0x444181(0x92d)],_0xbf2e13=_0x355933[_0x444181(0x923)](_0x444181(0x7e7));if(_0x23fa96[_0x444181(0x3e4)]===_0xbf2e13)return _0xede503();if(_0x355933[_0x444181(0x852)]['includes']('/instance/create')){let _0x2e5f1e=xa,_0x80b986=_0x355933[_0x444181(0x347)][_0x444181(0x259)];if(_0x2e5f1e&&_0x80b986['toLowerCase']()[_0x444181(0x376)](_0x2e5f1e[_0x444181(0x25e)]()))return _0xede503();if(!_0xbf2e13)throw new X('Missing\x20global\x20api\x20key',_0x444181(0x449));}if(_0x355933[_0x444181(0x852)]['includes'](_0x444181(0x285))&&!_0xbf2e13)throw new X(_0x444181(0x7f8),_0x444181(0x449));if(_0x355933[_0x444181(0x852)]['includes'](_0x444181(0x7bf))&&!_0xbf2e13)throw new X(_0x444181(0x7f8),_0x444181(0x449));if(_0x355933[_0x444181(0x852)][_0x444181(0x681)](_0x444181(0x7b9))&&!_0xbf2e13)throw new X(_0x444181(0x7f8),_0x444181(0x449));try{let _0x41ba1e=_0x355933['params'],_0x5b4d3e=await me['auth'][_0x444181(0x571)](_0x41ba1e[_0x444181(0x259)]);if(_0x5b4d3e&&_0x5b4d3e[_0x444181(0x7e7)]===_0xbf2e13)return _0xede503();}catch{}throw new se();}var Oa={'jwt':Ao,'apikey':To},pi=require(a0_0x1c3883(0x75b)),C=require(a0_0x1c3883(0x53a)),v=(..._0x3862c5)=>{let _0x35f859={};return _0x3862c5['forEach'](_0x3273a9=>_0x35f859[_0x3273a9]={'minLength':0x1,'description':'The\x20\x22'+_0x3273a9+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x3862c5]}},'then':{'properties':_0x35f859}};},E={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'instanceName':{'type':'string'}},...v(a0_0x1c3883(0x259))},Tc={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'oldToken':{'type':a0_0x1c3883(0x33b)}},'required':['oldToken'],...v(a0_0x1c3883(0x5cb))},Ic={'properties':{'key':{'type':a0_0x1c3883(0x20d),'properties':{'id':{'type':a0_0x1c3883(0x33b)},'remoteJid':{'type':a0_0x1c3883(0x33b)},'fromMe':{'type':a0_0x1c3883(0x6cb),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x1c3883(0x75e)],...v('id','remoteJid')},'message':{'type':a0_0x1c3883(0x20d)}}},ae={'properties':{'delay':{'type':a0_0x1c3883(0x524),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':'string','enum':[a0_0x1c3883(0x83f),'available',a0_0x1c3883(0x719),a0_0x1c3883(0x6ff),a0_0x1c3883(0x5a7)]}}},Z={'type':'string','description':a0_0x1c3883(0x699)},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'number':{...Z},'options':{...ae},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x1c3883(0x33b)}},'required':[a0_0x1c3883(0x931)],...v('text')}},'required':[a0_0x1c3883(0x30e),a0_0x1c3883(0x418)]},Da={'type':a0_0x1c3883(0x33b),'pattern':a0_0x1c3883(0x607),'description':a0_0x1c3883(0x699)},_c={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'number':{...Da},'options':{...ae},'textMessage':{'type':a0_0x1c3883(0x20d),'properties':{'text':{'type':a0_0x1c3883(0x33b)}},'required':[a0_0x1c3883(0x931)],...v(a0_0x1c3883(0x931))}},'required':['textMessage',a0_0x1c3883(0x418)]},Oc={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'number':{...Da},'options':{...ae},'mediaMessage':{'type':a0_0x1c3883(0x20d),'properties':{'mediatype':{'type':a0_0x1c3883(0x33b),'enum':[a0_0x1c3883(0x925),a0_0x1c3883(0x666),a0_0x1c3883(0x775),a0_0x1c3883(0x2e7)]},'media':{'type':a0_0x1c3883(0x33b)},'fileName':{'type':a0_0x1c3883(0x33b)},'caption':{'type':a0_0x1c3883(0x33b)}},'required':[a0_0x1c3883(0x23f),a0_0x1c3883(0x3d1)],...v(a0_0x1c3883(0x748),a0_0x1c3883(0x639),a0_0x1c3883(0x3d1))}},'required':[a0_0x1c3883(0x962),a0_0x1c3883(0x418)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'number':{...Z},'options':{...ae},'stickerMessage':{'type':'object','properties':{'image':{'type':a0_0x1c3883(0x33b)}},'required':[a0_0x1c3883(0x925)],...v('image')}},'required':[a0_0x1c3883(0x2fb),a0_0x1c3883(0x418)]},La={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'statusMessage':{'type':a0_0x1c3883(0x20d),'properties':{'type':{'type':a0_0x1c3883(0x33b),'enum':[a0_0x1c3883(0x931),a0_0x1c3883(0x925),a0_0x1c3883(0x2e7),'video']},'content':{'type':a0_0x1c3883(0x33b)},'caption':{'type':a0_0x1c3883(0x33b)},'backgroundColor':{'type':a0_0x1c3883(0x33b)},'font':{'type':a0_0x1c3883(0x524),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1c3883(0x33b),'pattern':'^\x5cd+','description':a0_0x1c3883(0x8eb)}},'allContacts':{'type':a0_0x1c3883(0x6cb),'enum':[!0x0,!0x1]}},'required':[a0_0x1c3883(0x52b),a0_0x1c3883(0x6e8)],...v(a0_0x1c3883(0x52b),a0_0x1c3883(0x6e8))}},'required':[a0_0x1c3883(0x2d9)]},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'number':{...Z},'options':{...ae},'mediaMessage':{'type':a0_0x1c3883(0x20d),'properties':{'mediatype':{'type':'string','enum':[a0_0x1c3883(0x925),a0_0x1c3883(0x666),'video',a0_0x1c3883(0x2e7)]},'media':{'type':a0_0x1c3883(0x33b)},'fileName':{'type':'string'},'caption':{'type':'string'}},'required':[a0_0x1c3883(0x23f),a0_0x1c3883(0x3d1)],...v(a0_0x1c3883(0x748),'caption',a0_0x1c3883(0x3d1))}},'required':[a0_0x1c3883(0x962),a0_0x1c3883(0x418)]},Ua={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0x1c3883(0x33b)}},'required':[a0_0x1c3883(0x2e7)],...v(a0_0x1c3883(0x2e7))}},'required':[a0_0x1c3883(0x4f0),a0_0x1c3883(0x418)]},ja={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'pollMessage':{'type':a0_0x1c3883(0x20d),'properties':{'name':{'type':a0_0x1c3883(0x33b)},'selectableCount':{'type':a0_0x1c3883(0x418)},'values':{'type':a0_0x1c3883(0x381),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x1c3883(0x1f9),a0_0x1c3883(0x766),a0_0x1c3883(0x8e2)],...v('name',a0_0x1c3883(0x766),a0_0x1c3883(0x8e2))}},'required':[a0_0x1c3883(0x418),a0_0x1c3883(0x786)]},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'number':{...Z},'menuMessage':{'type':a0_0x1c3883(0x20d),'properties':{'text':{'type':'string'},'choices':{'type':'array','uniqueItems':!0x0}},'required':[a0_0x1c3883(0x931),'choices'],...v(a0_0x1c3883(0x931),a0_0x1c3883(0x785))}},'required':[a0_0x1c3883(0x418),a0_0x1c3883(0x71c)]},qa={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'number':{...Z},'options':{...ae},'locationMessage':{'type':a0_0x1c3883(0x20d),'properties':{'latitude':{'type':a0_0x1c3883(0x418)},'longitude':{'type':a0_0x1c3883(0x418)},'name':{'type':a0_0x1c3883(0x33b)},'address':{'type':a0_0x1c3883(0x33b)}},'required':[a0_0x1c3883(0x4fa),'longitude'],...v(a0_0x1c3883(0x1f9),'addresss')}},'required':[a0_0x1c3883(0x418),'locationMessage']},Va={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'listMessage':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':a0_0x1c3883(0x33b)},'footerText':{'type':a0_0x1c3883(0x33b)},'buttonText':{'type':'string'},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1c3883(0x20d),'properties':{'title':{'type':a0_0x1c3883(0x33b)},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1c3883(0x20d),'properties':{'title':{'type':a0_0x1c3883(0x33b)},'description':{'type':'string'},'rowId':{'type':a0_0x1c3883(0x33b)}},'required':[a0_0x1c3883(0x29d),a0_0x1c3883(0x6ae)],...v(a0_0x1c3883(0x29d),a0_0x1c3883(0x6ae))}}},'required':[a0_0x1c3883(0x29d),a0_0x1c3883(0x537)],...v('title')}}},'required':[a0_0x1c3883(0x29d),a0_0x1c3883(0x4c6),a0_0x1c3883(0x8ff),'sections'],...v(a0_0x1c3883(0x29d),a0_0x1c3883(0x4c6),'buttonText',a0_0x1c3883(0x840))}},'required':['number','listMessage']},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'number':{...Z},'options':{...ae},'contactMessage':{'type':a0_0x1c3883(0x381),'items':{'type':a0_0x1c3883(0x20d),'properties':{'fullName':{'type':a0_0x1c3883(0x33b)},'phoneNumber':{'type':a0_0x1c3883(0x33b),'minLength':0xa}},'required':['fullName','phoneNumber'],...v(a0_0x1c3883(0x672))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x1c3883(0x418),a0_0x1c3883(0x6a3)]},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0x1c3883(0x20d),'properties':{'id':{'type':a0_0x1c3883(0x33b)},'remoteJid':{'type':a0_0x1c3883(0x33b)},'fromMe':{'type':a0_0x1c3883(0x6cb),'enum':[!0x0,!0x1]}},'required':['id',a0_0x1c3883(0x8f4),a0_0x1c3883(0x75e)],...v('id',a0_0x1c3883(0x8f4))},'reaction':{'type':a0_0x1c3883(0x33b)}},'required':[a0_0x1c3883(0x205),a0_0x1c3883(0x655)],...v(a0_0x1c3883(0x655))}},'required':[a0_0x1c3883(0x77e)]},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1c3883(0x33b),'pattern':'^\x5cd+','description':a0_0x1c3883(0x8ec)}}}},za={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'readMessages':{'type':a0_0x1c3883(0x381),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x1c3883(0x33b)},'fromMe':{'type':a0_0x1c3883(0x6cb),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id',a0_0x1c3883(0x75e),'remoteJid'],...v('id',a0_0x1c3883(0x8f4))}}},'required':['readMessages']},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'privacySettings':{'type':a0_0x1c3883(0x20d),'properties':{'readreceipts':{'type':a0_0x1c3883(0x33b),'enum':[a0_0x1c3883(0x200),a0_0x1c3883(0x414)]},'profile':{'type':a0_0x1c3883(0x33b),'enum':[a0_0x1c3883(0x200),a0_0x1c3883(0x4c8),a0_0x1c3883(0x764),a0_0x1c3883(0x414)]},'status':{'type':a0_0x1c3883(0x33b),'enum':[a0_0x1c3883(0x200),'contacts',a0_0x1c3883(0x764),'none']},'online':{'type':a0_0x1c3883(0x33b),'enum':[a0_0x1c3883(0x200),a0_0x1c3883(0x54c)]},'last':{'type':a0_0x1c3883(0x33b),'enum':[a0_0x1c3883(0x200),a0_0x1c3883(0x4c8),a0_0x1c3883(0x764),a0_0x1c3883(0x414)]},'groupadd':{'type':a0_0x1c3883(0x33b),'enum':[a0_0x1c3883(0x200),a0_0x1c3883(0x4c8),a0_0x1c3883(0x764),a0_0x1c3883(0x414)]}},'required':[a0_0x1c3883(0x8f1),a0_0x1c3883(0x5fb),'status','online','last','groupadd'],...v(a0_0x1c3883(0x8f1),'profile',a0_0x1c3883(0x914),a0_0x1c3883(0x65d),a0_0x1c3883(0x6cc),'groupadd')}},'required':[a0_0x1c3883(0x78e)]},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'lastMessage':{'type':a0_0x1c3883(0x20d),'properties':{'key':{'type':a0_0x1c3883(0x20d),'properties':{'id':{'type':a0_0x1c3883(0x33b)},'remoteJid':{'type':a0_0x1c3883(0x33b)},'fromMe':{'type':a0_0x1c3883(0x6cb),'enum':[!0x0,!0x1]}},'required':['id',a0_0x1c3883(0x75e),a0_0x1c3883(0x8f4)],...v('id',a0_0x1c3883(0x8f4))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x1c3883(0x205)],...v(a0_0x1c3883(0x5ab))},'archive':{'type':a0_0x1c3883(0x6cb),'enum':[!0x0,!0x1]}},'required':[a0_0x1c3883(0x273),a0_0x1c3883(0x5b9)]},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'id':{'type':a0_0x1c3883(0x33b)},'fromMe':{'type':a0_0x1c3883(0x6cb),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x1c3883(0x33b)},'participant':{'type':'string'}},'required':['id',a0_0x1c3883(0x75e),'remoteJid'],...v('id','remoteJid',a0_0x1c3883(0x3fc))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'where':{'type':a0_0x1c3883(0x20d),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x1c3883(0x33b),'minLength':0x1},'id':{'type':a0_0x1c3883(0x33b),'minLength':0x1}},...v('_id','id',a0_0x1c3883(0x733))}}},Xa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'name':{'type':a0_0x1c3883(0x33b)}},...v('name')},Za={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'status':{'type':a0_0x1c3883(0x33b)}},...v(a0_0x1c3883(0x914))},Oe={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'number':{'type':a0_0x1c3883(0x33b)},'picture':{'type':a0_0x1c3883(0x33b)}}},ei={'type':a0_0x1c3883(0x20d),'properties':{'wuid':{'type':a0_0x1c3883(0x33b)},'name':{'type':a0_0x1c3883(0x33b)},'picture':{'type':'string'},'status':{'type':a0_0x1c3883(0x33b)},'isBusiness':{'type':a0_0x1c3883(0x6cb)}}},ti={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'where':{'type':a0_0x1c3883(0x20d),'properties':{'_id':{'type':a0_0x1c3883(0x33b),'minLength':0x1},'key':{'type':a0_0x1c3883(0x20d),'if':{'propertyNames':{'enum':[a0_0x1c3883(0x75e),a0_0x1c3883(0x8f4),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x1c3883(0x33b),'minLength':0x1,'description':a0_0x1c3883(0x842)},'id':{'type':a0_0x1c3883(0x33b),'minLength':0x1,'description':a0_0x1c3883(0x842)},'fromMe':{'type':a0_0x1c3883(0x6cb),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x1c3883(0x20d)}},...v('_id')},'limit':{'type':a0_0x1c3883(0x524)}}},xc={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'where':{'type':a0_0x1c3883(0x20d),'properties':{'_id':{'type':a0_0x1c3883(0x33b)},'remoteJid':{'type':a0_0x1c3883(0x33b)},'id':{'type':a0_0x1c3883(0x33b)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x1c3883(0x33b),'enum':[a0_0x1c3883(0x588),a0_0x1c3883(0x52c),'SERVER_ACK',a0_0x1c3883(0x409),'READ',a0_0x1c3883(0x998)]}},...v(a0_0x1c3883(0x8a0),a0_0x1c3883(0x8f4),'id',a0_0x1c3883(0x914))},'limit':{'type':'integer'}}},si={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'number':{...Z},'presence':{'type':a0_0x1c3883(0x33b),'enum':[a0_0x1c3883(0x83f),'available',a0_0x1c3883(0x719),a0_0x1c3883(0x6ff),'paused']}},'required':[a0_0x1c3883(0x56a),'number']},ai={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'subject':{'type':a0_0x1c3883(0x33b)},'description':{'type':a0_0x1c3883(0x33b)},'profilePicture':{'type':'string'},'participants':{'type':a0_0x1c3883(0x381),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1c3883(0x33b),'minLength':0xa,'pattern':a0_0x1c3883(0x662),'description':a0_0x1c3883(0x297)}}},'required':[a0_0x1c3883(0x24f),a0_0x1c3883(0x2ab)],...v('subject',a0_0x1c3883(0x4c6),a0_0x1c3883(0x319))},xe={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'groupJid':{'type':a0_0x1c3883(0x33b),'pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0x1c3883(0x652)],...v(a0_0x1c3883(0x652))},ii={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x1c3883(0x33b)},'action':{'type':a0_0x1c3883(0x33b),'enum':[a0_0x1c3883(0x3ca),'remove','promote',a0_0x1c3883(0x3a8),a0_0x1c3883(0x8c8),'approve']},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1c3883(0x33b),'minLength':0xa,'pattern':a0_0x1c3883(0x662),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x1c3883(0x652),a0_0x1c3883(0x43e),a0_0x1c3883(0x2ab)],...v(a0_0x1c3883(0x652),a0_0x1c3883(0x43e))},oi={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x1c3883(0x33b)},'expiration':{'type':a0_0x1c3883(0x418),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x1c3883(0x652),'expiration'],...v('groupJid',a0_0x1c3883(0x50a))},ri={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'groupJid':{'type':'string'},'image':{'type':a0_0x1c3883(0x33b)}},'required':['groupJid',a0_0x1c3883(0x925)],...v(a0_0x1c3883(0x652),a0_0x1c3883(0x925))},ni={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'groupJid':{'type':a0_0x1c3883(0x33b)},'description':{'type':a0_0x1c3883(0x33b)}},'required':[a0_0x1c3883(0x652),a0_0x1c3883(0x4c6)],...v(a0_0x1c3883(0x652),a0_0x1c3883(0x4c6))},ci={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'groupJid':{'type':'string'},'name':{'type':'string'}},'required':[a0_0x1c3883(0x652),'name'],...v(a0_0x1c3883(0x652),a0_0x1c3883(0x1f9))},li={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x1c3883(0x33b)},'setting':{'type':a0_0x1c3883(0x33b),'enum':[a0_0x1c3883(0x64c),a0_0x1c3883(0x398),a0_0x1c3883(0x92f),a0_0x1c3883(0x82b)]}},'required':[a0_0x1c3883(0x652),'setting'],...v('groupJid',a0_0x1c3883(0x570))},ui={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'groupJid':{'type':'string'},'restrict':{'type':'boolean'},'announce':{'type':a0_0x1c3883(0x6cb)},'memberAddMode':{'type':a0_0x1c3883(0x6cb)},'joinApprovalMode':{'type':a0_0x1c3883(0x6cb)},'expiration':{'type':a0_0x1c3883(0x524),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x1c3883(0x33b)},'description':{'type':a0_0x1c3883(0x33b)},'image':{'type':a0_0x1c3883(0x33b)}}},Ns={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'inviteCode':{'type':a0_0x1c3883(0x33b)}},'required':['inviteCode'],...v(a0_0x1c3883(0x558))},di={'$id':(0x0,C['v4'])(),'type':a0_0x1c3883(0x20d),'properties':{'url':{'type':a0_0x1c3883(0x33b)},'enabled':{'type':a0_0x1c3883(0x6cb),'enum':[!0x0,!0x1]}},'required':[a0_0x1c3883(0x4f8),'enabled']},Pc={'$id':(0x0,C['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x1c3883(0x6cb),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x1c3883(0x6cb),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x1c3883(0x6cb),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x1c3883(0x6cb),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x1c3883(0x6cb),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x1c3883(0x6cb),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x1c3883(0x6cb),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x1c3883(0x6cb),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x1c3883(0x6cb),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x1c3883(0x6cb),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x1c3883(0x6cb),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x1c3883(0x6cb),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x1c3883(0x6cb),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x1c3883(0x6cb),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x1c3883(0x6cb),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['local_map',a0_0x1c3883(0x9a8),a0_0x1c3883(0x4a2),a0_0x1c3883(0x457),a0_0x1c3883(0x4ab),'MESSAGES_UPSERT',a0_0x1c3883(0x867),a0_0x1c3883(0x611),a0_0x1c3883(0x902),a0_0x1c3883(0x5e5),a0_0x1c3883(0x94f),a0_0x1c3883(0x41d),a0_0x1c3883(0x856),a0_0x1c3883(0x407),a0_0x1c3883(0x39e),a0_0x1c3883(0x27f),a0_0x1c3883(0x2fd),a0_0x1c3883(0x41a),'GROUP_PARTICIPANTS_UPDATE'],...v(a0_0x1c3883(0x78f),a0_0x1c3883(0x9a8),'QRCODE_UPDATED',a0_0x1c3883(0x457),a0_0x1c3883(0x4ab),a0_0x1c3883(0x969),a0_0x1c3883(0x867),a0_0x1c3883(0x611),a0_0x1c3883(0x902),'CONTACTS_UPDATE',a0_0x1c3883(0x94f),a0_0x1c3883(0x41d),'CHATS_UPSERT',a0_0x1c3883(0x407),a0_0x1c3883(0x39e),a0_0x1c3883(0x27f),a0_0x1c3883(0x2fd),a0_0x1c3883(0x41a),a0_0x1c3883(0x58b))},rt=class{},nt=class extends O{[a0_0x1c3883(0x3df)](_0x90229e){return aa(_0x90229e);}async[a0_0x1c3883(0x2ca)](_0x3109d2){const _0x3d1ab9=a0_0x1c3883;if(_0x3109d2['length']!==0x0)try{return{'insertCount':(await this[_0x3d1ab9(0x3df)](_0x3109d2[0x0][_0x3d1ab9(0x523)])[_0x3d1ab9(0x36d)]([..._0x3109d2]))[_0x3d1ab9(0x868)]};}catch(_0x1b11d6){return _0x1b11d6;}}async[a0_0x1c3883(0x6c2)](_0x3ef9ee,_0x49b37e){const _0x4c32c4=a0_0x1c3883;try{return{'deletedCount':(await this[_0x4c32c4(0x3df)](_0x49b37e)[_0x4c32c4(0x96c)]({..._0x3ef9ee[_0x4c32c4(0x5b0)]}))[_0x4c32c4(0x40b)]};}catch(_0x4be0ca){return{'error':_0x4be0ca?.[_0x4c32c4(0x25c)]()};}}async[a0_0x1c3883(0x4f3)](_0x255429,_0x401369){const _0xe0e089=a0_0x1c3883;try{if(_0x255429[_0xe0e089(0x868)]===0x0)return;let _0x1b7120=this['getContactModelForOwner'](_0x401369),_0x5cd579=_0x255429[_0xe0e089(0x4ac)](_0x417fe8=>({'updateOne':{'filter':{'_id':_0x417fe8['_id'],'owner':_0x401369},'update':{..._0x417fe8}}})),{modifiedCount:_0x548430}=await _0x1b7120[_0xe0e089(0x995)](_0x5cd579);return{'insertCount':_0x548430};}catch{return;}}async[a0_0x1c3883(0x571)](_0x4193f3,_0x43cf19){const _0xc970c7=a0_0x1c3883;try{let _0x589360=this[_0xc970c7(0x3df)](_0x43cf19),_0x5a3625=A(_0x4193f3['where']);return await _0x589360[_0xc970c7(0x571)](_0x5a3625)[_0xc970c7(0x845)](_0x4193f3?.[_0xc970c7(0x845)]??0x0)['lean']();}catch{return[];}}async[a0_0x1c3883(0x213)](_0x5f1441,_0xa042ed){const _0x29742f=a0_0x1c3883;try{let _0x4ddf6b=this[_0x29742f(0x3df)](_0xa042ed),_0x15a86a=A(_0x5f1441[_0x29742f(0x5b0)]);return await _0x4ddf6b[_0x29742f(0x213)](_0x15a86a)[_0x29742f(0x241)]();}catch{return null;}}async[a0_0x1c3883(0x3e6)](_0x27a370){const _0x4b7156=a0_0x1c3883;try{return await this['getContactModelForOwner'](_0x27a370)[_0x4b7156(0x989)][_0x4b7156(0x977)](),{'success':!0x0};}catch(_0x285ae9){return console['error'](_0x285ae9),{'success':!0x1,'error':_0x285ae9};}}},ct=require(a0_0x1c3883(0x231)),Vc=require(a0_0x1c3883(0x394)),$s=new $(a0_0x1c3883(0x335)),V=class{[a0_0x1c3883(0x55e)](_0x514bf5,_0x213e6e=!0x0){let _0x3f20ad='/'+_0x514bf5;return _0x213e6e&&(_0x3f20ad+='/:instanceName'),_0x3f20ad;}async[a0_0x1c3883(0x358)](_0x1ae6a7){const _0x1f0397=a0_0x1c3883;let {request:_0x1c2a30,schema:_0x5b8fec,ClassRef:_0x98f419,execute:_0x4aaad6}=_0x1ae6a7,_0x33da10=new _0x98f419(),_0x12fcdb=_0x1c2a30[_0x1f0397(0x347)],_0x36d9ba=_0x1c2a30[_0x1f0397(0x75c)];_0x1c2a30?.['query']&&Object[_0x1f0397(0x835)](_0x1c2a30['query'])['length']>0x0&&Object[_0x1f0397(0x515)](_0x36d9ba,_0x1c2a30[_0x1f0397(0x6ce)]),_0x1c2a30['originalUrl'][_0x1f0397(0x681)](_0x1f0397(0x7be))&&Object[_0x1f0397(0x515)](_0x36d9ba,_0x12fcdb),Object['assign'](_0x33da10,_0x12fcdb);let _0x57a83a=_0x5b8fec?(0x0,ct['validate'])(_0x33da10,_0x5b8fec):{'valid':!0x0,'errors':[]};if(!_0x57a83a[_0x1f0397(0x2c8)]){let _0xfac699=_0x57a83a[_0x1f0397(0x731)]['map'](({property:_0x41fe91,stack:_0x422390,schema:_0x22a00a})=>{const _0x3f90ab=_0x1f0397;let _0x237387;return _0x22a00a[_0x3f90ab(0x4c6)]?_0x237387=_0x22a00a['description']:_0x237387=_0x422390[_0x3f90ab(0x7cb)](_0x3f90ab(0x47a),''),{'property':_0x41fe91['replace'](_0x3f90ab(0x47a),''),'message':_0x237387};});throw $s['error']([..._0xfac699]),new m(..._0xfac699);}return await _0x4aaad6(_0x36d9ba,_0x33da10);}async[a0_0x1c3883(0x5ba)](_0xc77d6a){const _0x250c60=a0_0x1c3883;let {request:_0x5b17d4,ClassRef:_0x63a33f,schema:_0x1617ae,execute:_0x417491}=_0xc77d6a,_0x1b0d57=_0x5b17d4[_0x250c60(0x6ce)];if(!_0x1b0d57?.[_0x250c60(0x652)])throw new m(_0x250c60(0x7fa),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x5f3332=_0x5b17d4[_0x250c60(0x75c)],_0x19a17d=_0x5b17d4[_0x250c60(0x347)],_0x29ba37=new _0x63a33f();Object[_0x250c60(0x515)](_0x19a17d,_0x1b0d57),Object[_0x250c60(0x515)](_0x29ba37,_0x19a17d);let _0x3e2535=(0x0,ct[_0x250c60(0x7d9)])(_0x29ba37,_0x1617ae);if(!_0x3e2535[_0x250c60(0x2c8)]){let _0x450f6c=_0x3e2535[_0x250c60(0x731)]['map'](({property:_0x5e4e8d,stack:_0x259828,schema:_0x50df11})=>{const _0x4dd557=_0x250c60;let _0x26d710;return _0x50df11['description']?_0x26d710=_0x50df11['description']:_0x26d710=_0x259828[_0x4dd557(0x7cb)](_0x4dd557(0x47a),''),{'property':_0x5e4e8d[_0x4dd557(0x7cb)](_0x4dd557(0x47a),''),'message':_0x26d710};});throw $s[_0x250c60(0x61d)]([..._0x450f6c]),new m(..._0x450f6c);}return await _0x417491(_0x5f3332,_0x29ba37);}async[a0_0x1c3883(0x605)](_0x287299){const _0x3f1c88=a0_0x1c3883;let {request:_0x1f9f23,ClassRef:_0x2b4bde,schema:_0x39b84a,execute:_0x40db16}=_0x287299,_0x59e33b=_0x1f9f23['body'];if(!_0x59e33b?.[_0x3f1c88(0x558)])throw new m(_0x3f1c88(0x46a),_0x3f1c88(0x3ab));let _0x1e37e5=_0x1f9f23['params'],_0x1b6120=_0x1f9f23[_0x3f1c88(0x347)],_0x43e6ab=new _0x2b4bde();Object[_0x3f1c88(0x515)](_0x1b6120,_0x59e33b),Object[_0x3f1c88(0x515)](_0x43e6ab,_0x1b6120);let _0x370468=(0x0,ct[_0x3f1c88(0x7d9)])(_0x43e6ab,_0x39b84a);if(!_0x370468['valid']){let _0x136538=_0x370468[_0x3f1c88(0x731)][_0x3f1c88(0x4ac)](({property:_0x528f74,stack:_0x527d16,schema:_0x2028c2})=>{const _0x57b954=_0x3f1c88;let _0x494918;return _0x2028c2['description']?_0x494918=_0x2028c2['description']:_0x494918=_0x527d16['replace'](_0x57b954(0x47a),''),{'property':_0x528f74[_0x57b954(0x7cb)](_0x57b954(0x47a),''),'message':_0x494918};});throw $s[_0x3f1c88(0x61d)]([..._0x136538]),new m(..._0x136538);}return await _0x40db16(_0x1e37e5,_0x43e6ab);}},M=class{},il=new $(a0_0x1c3883(0x4ee)),lt=class extends V{constructor(..._0x26c856){const _0x39ff6c=a0_0x1c3883;super(),this[_0x39ff6c(0x4e7)]=(0x0,pi[_0x39ff6c(0x212)])(),this[_0x39ff6c(0x4e7)][_0x39ff6c(0x8b5)](this['routerPath']('updatePresence'),..._0x26c856,async(_0x593714,_0x20ff45)=>{const _0xb18692=_0x39ff6c;let _0x2b3646=await this[_0xb18692(0x358)]({'request':_0x593714,'schema':si,'ClassRef':Ye,'execute':(_0x85f38c,_0x1e9252)=>D[_0xb18692(0x266)](_0x85f38c,_0x1e9252)});return _0x20ff45['status'](0xc9)[_0xb18692(0x7ec)](_0x2b3646);})[_0x39ff6c(0x8b5)](this['routerPath'](_0x39ff6c(0x5b6)),..._0x26c856,async(_0x48eeb7,_0x18620a)=>{const _0x26f774=_0x39ff6c;let _0x3a4be6=await this[_0x26f774(0x358)]({'request':_0x48eeb7,'schema':Wa,'ClassRef':Xe,'execute':(_0xd30ce8,_0x34dd0c)=>D[_0x26f774(0x327)](_0xd30ce8,_0x34dd0c)});return _0x18620a[_0x26f774(0x914)](0xc9)[_0x26f774(0x7ec)](_0x3a4be6);})[_0x39ff6c(0x8b5)](this[_0x39ff6c(0x55e)](_0x39ff6c(0x43b)),..._0x26c856,async(_0x1efe22,_0x30394f)=>{const _0x1aabcb=_0x39ff6c;let _0x14c0d1=await this[_0x1aabcb(0x358)]({'request':_0x1efe22,'schema':E,'ClassRef':M,'execute':(_0xcb132f,_0x3b2f52)=>D[_0x1aabcb(0x43b)](_0xcb132f,_0x3b2f52)});return _0x30394f[_0x1aabcb(0x914)](0xc9)[_0x1aabcb(0x7ec)](_0x14c0d1);})[_0x39ff6c(0x24b)](this[_0x39ff6c(0x55e)](_0x39ff6c(0x746)),..._0x26c856,async(_0x295084,_0xd7f17a)=>{const _0x49564a=_0x39ff6c;let _0x50ce66=await this[_0x49564a(0x358)]({'request':_0x295084,'schema':za,'ClassRef':tt,'execute':(_0x262d04,_0x285b6b)=>D[_0x49564a(0x548)](_0x262d04,_0x285b6b)});return _0xd7f17a['status'](0xc9)[_0x49564a(0x7ec)](_0x50ce66);})[_0x39ff6c(0x24b)](this[_0x39ff6c(0x55e)](_0x39ff6c(0x538)),..._0x26c856,async(_0x4ed2a5,_0x2a6a94)=>{const _0x4df449=_0x39ff6c;let _0xc841b3=await this[_0x4df449(0x358)]({'request':_0x4ed2a5,'schema':Ka,'ClassRef':st,'execute':(_0x57667f,_0x1738dc)=>D[_0x4df449(0x538)](_0x57667f,_0x1738dc)});return _0x2a6a94[_0x4df449(0x914)](0xc9)['json'](_0xc841b3);})[_0x39ff6c(0x6c2)](this[_0x39ff6c(0x55e)](_0x39ff6c(0x324)),..._0x26c856,async(_0x17d44f,_0x19ead5)=>{const _0x2a2b3e=_0x39ff6c;let _0x24e4c7=await this[_0x2a2b3e(0x358)]({'request':_0x17d44f,'schema':Qa,'ClassRef':it,'execute':(_0x730ddb,_0x274ab0)=>D[_0x2a2b3e(0x250)](_0x730ddb,_0x274ab0)});return _0x19ead5[_0x2a2b3e(0x914)](0xc9)[_0x2a2b3e(0x7ec)](_0x24e4c7);})[_0x39ff6c(0x8b5)](this[_0x39ff6c(0x55e)](_0x39ff6c(0x2a3)),..._0x26c856,async(_0x19b67f,_0x3c6cbc)=>{const _0x17bab2=_0x39ff6c;let _0x3b506b=await this['dataValidate']({'request':_0x19b67f,'schema':Oe,'ClassRef':Ie,'execute':(_0x440a4f,_0x114bbd)=>D[_0x17bab2(0x215)](_0x440a4f,_0x114bbd)});return _0x3c6cbc[_0x17bab2(0x914)](0xc8)[_0x17bab2(0x7ec)](_0x3b506b);})['post'](this[_0x39ff6c(0x55e)]('fetchProfile'),..._0x26c856,async(_0x3ac968,_0x5ddc0f)=>{const _0x26939f=_0x39ff6c;let _0x9438c5=await this[_0x26939f(0x358)]({'request':_0x3ac968,'schema':ei,'ClassRef':Ie,'execute':(_0x27716f,_0x229606)=>D[_0x26939f(0x543)](_0x27716f,_0x229606)});return _0x5ddc0f[_0x26939f(0x914)](0xc8)['json'](_0x9438c5);})['post'](this['routerPath'](_0x39ff6c(0x66b)),..._0x26c856,async(_0x40dcb3,_0x33c247)=>{const _0x326998=_0x39ff6c;let _0x4df6c6=await this[_0x326998(0x358)]({'request':_0x40dcb3,'schema':Ya,'ClassRef':rt,'execute':(_0x583488,_0x497219)=>D[_0x326998(0x445)](_0x583488,_0x497219)});return _0x33c247[_0x326998(0x914)](0xc8)['json'](_0x4df6c6);})[_0x39ff6c(0x8b5)](this[_0x39ff6c(0x55e)](_0x39ff6c(0x32e)),..._0x26c856,async(_0x44526c,_0x2f69b5)=>{const _0x47aa97=_0x39ff6c;let _0x2e928b=await this['dataValidate']({'request':_0x44526c,'schema':null,'ClassRef':Object,'execute':(_0x54ce73,_0x18c640)=>D[_0x47aa97(0x32e)](_0x54ce73,_0x18c640)});return _0x2f69b5[_0x47aa97(0x914)](0xc9)['json'](_0x2e928b);})[_0x39ff6c(0x8b5)](this[_0x39ff6c(0x55e)](_0x39ff6c(0x6d6)),..._0x26c856,async(_0x4a1791,_0xa4d549)=>{const _0x58e5fe=_0x39ff6c;let _0xe6cc49=await this['dataValidate']({'request':_0x4a1791,'schema':ti,'ClassRef':Ke,'execute':(_0x12d747,_0x323ec1)=>D[_0x58e5fe(0x8f9)](_0x12d747,_0x323ec1)});return _0xa4d549[_0x58e5fe(0x914)](0xc8)[_0x58e5fe(0x7ec)](_0xe6cc49);})['get'](this['routerPath']('findChats'),..._0x26c856,async(_0x5153bb,_0x424e0d)=>{const _0xc4214c=_0x39ff6c;let _0x3deea2=await this[_0xc4214c(0x358)]({'request':_0x5153bb,'schema':null,'ClassRef':M,'execute':_0x286551=>D[_0xc4214c(0x280)](_0x286551)});return _0x424e0d[_0xc4214c(0x914)](0xc8)['json'](_0x3deea2);})[_0x39ff6c(0x923)](this[_0x39ff6c(0x55e)](_0x39ff6c(0x325)),..._0x26c856,async(_0x1073c7,_0x3b54b2)=>{const _0x1865bb=_0x39ff6c;let _0x3cd96d=await this[_0x1865bb(0x358)]({'request':_0x1073c7,'schema':null,'ClassRef':M,'execute':_0x1c7130=>D[_0x1865bb(0x903)](_0x1c7130)});return _0x3b54b2['status'](0xc8)[_0x1865bb(0x7ec)](_0x3cd96d);})[_0x39ff6c(0x24b)](this[_0x39ff6c(0x55e)](_0x39ff6c(0x55d)),..._0x26c856,async(_0x1be745,_0x39878a)=>{const _0x78e3e9=_0x39ff6c;let _0x293837=await this[_0x78e3e9(0x358)]({'request':_0x1be745,'schema':null,'ClassRef':Array,'execute':(_0x3981cc,_0x5a1ecd)=>D[_0x78e3e9(0x55d)](_0x3981cc,_0x5a1ecd)});return _0x39878a[_0x78e3e9(0x914)](0xc8)[_0x78e3e9(0x7ec)](_0x293837);})[_0x39ff6c(0x923)](this['routerPath'](_0x39ff6c(0x355)),..._0x26c856,async(_0x39a90b,_0x3e83ea)=>{const _0x273c28=_0x39ff6c;let _0x45be05=await this[_0x273c28(0x358)]({'request':_0x39a90b,'schema':null,'ClassRef':M,'execute':_0x530d6b=>D['fetchPrivacySettings'](_0x530d6b)});return _0x3e83ea[_0x273c28(0x914)](0xc8)['json'](_0x45be05);})[_0x39ff6c(0x24b)](this[_0x39ff6c(0x55e)](_0x39ff6c(0x5d4)),..._0x26c856,async(_0x3c3379,_0x36be56)=>{const _0x55739c=_0x39ff6c;let _0x1a6be2=await this[_0x55739c(0x358)]({'request':_0x3c3379,'schema':Ha,'ClassRef':at,'execute':(_0x1bc508,_0x411b19)=>D[_0x55739c(0x5d4)](_0x1bc508,_0x411b19)});return _0x36be56[_0x55739c(0x914)](0xc9)[_0x55739c(0x7ec)](_0x1a6be2);})[_0x39ff6c(0x8b5)](this[_0x39ff6c(0x55e)](_0x39ff6c(0x981)),..._0x26c856,async(_0x380890,_0x503a74)=>{const _0x4d929b=_0x39ff6c;let _0x529c49=await this[_0x4d929b(0x358)]({'request':_0x380890,'schema':Oe,'ClassRef':Ce,'execute':(_0x25f31f,_0x16426b)=>D[_0x4d929b(0x981)](_0x25f31f,_0x16426b)});return _0x503a74['status'](0xc8)[_0x4d929b(0x7ec)](_0x529c49);})[_0x39ff6c(0x8b5)](this[_0x39ff6c(0x55e)](_0x39ff6c(0x718)),..._0x26c856,async(_0x1920c3,_0x141578)=>{const _0x547f1c=_0x39ff6c;let _0x548afe=await this[_0x547f1c(0x358)]({'request':_0x1920c3,'schema':Xa,'ClassRef':Ze,'execute':(_0x23a629,_0x2e2a8a)=>D['updateProfileName'](_0x23a629,_0x2e2a8a)});return _0x141578['status'](0xc8)[_0x547f1c(0x7ec)](_0x548afe);})[_0x39ff6c(0x8b5)](this[_0x39ff6c(0x55e)]('updateProfileStatus'),..._0x26c856,async(_0x57fff2,_0x298ced)=>{const _0xab1508=_0x39ff6c;let _0x3d9393=await this[_0xab1508(0x358)]({'request':_0x57fff2,'schema':Za,'ClassRef':et,'execute':(_0x2f823b,_0x36a0ca)=>D[_0xab1508(0x7c9)](_0x2f823b,_0x36a0ca)});return _0x298ced[_0xab1508(0x914)](0xc8)['json'](_0x3d9393);})[_0x39ff6c(0x24b)](this['routerPath'](_0x39ff6c(0x6fe)),..._0x26c856,async(_0x2b291c,_0x483c71)=>{const _0x387469=_0x39ff6c;let _0x32906e=await this[_0x387469(0x358)]({'request':_0x2b291c,'schema':Oe,'ClassRef':Ce,'execute':(_0x28d8f3,_0x11cbf1)=>D['updateProfilePicture'](_0x28d8f3,_0x11cbf1)});return _0x483c71[_0x387469(0x914)](0xc8)['json'](_0x32906e);})[_0x39ff6c(0x6c2)](this[_0x39ff6c(0x55e)]('removeProfilePicture'),..._0x26c856,async(_0x1102e3,_0x2e2d1b)=>{const _0xb7f959=_0x39ff6c;let _0xb29264=await this[_0xb7f959(0x358)]({'request':_0x1102e3,'schema':Oe,'ClassRef':Ce,'execute':(_0x53d5b1,_0x19e200)=>D['removeProfilePicture'](_0x53d5b1,_0x19e200)});return _0x2e2d1b[_0xb7f959(0x914)](0xc8)['json'](_0xb29264);});}},hi=require(a0_0x1c3883(0x75b)),ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},mt=class{},ee=class{},Pe=class{},ft=class extends ee{},wt=class extends ee{},yt=class extends V{constructor(..._0x498cdc){const _0x3562ac=a0_0x1c3883;super(),this['router']=(0x0,hi[_0x3562ac(0x212)])(),this['router'][_0x3562ac(0x8b5)](this[_0x3562ac(0x55e)]('create'),..._0x498cdc,async(_0x392d7a,_0x181b3a)=>{const _0x59bc2b=_0x3562ac;let _0x5d0a4a=await this[_0x59bc2b(0x358)]({'request':_0x392d7a,'schema':ai,'ClassRef':ut,'execute':(_0x259bb3,_0xb16758)=>q[_0x59bc2b(0x2f0)](_0x259bb3,_0xb16758)});_0x181b3a[_0x59bc2b(0x914)](0xc9)[_0x59bc2b(0x7ec)](_0x5d0a4a);})[_0x3562ac(0x24b)](this['routerPath']('updateGroupPicture'),..._0x498cdc,async(_0x608b6d,_0x19d03e)=>{const _0x1b36f2=_0x3562ac;let _0x577143=await this[_0x1b36f2(0x5ba)]({'request':_0x608b6d,'schema':ri,'ClassRef':dt,'execute':(_0xebe1ef,_0xcc49b9)=>q[_0x1b36f2(0x329)](_0xebe1ef,_0xcc49b9)});_0x19d03e['status'](0xc9)[_0x1b36f2(0x7ec)](_0x577143);})[_0x3562ac(0x24b)](this[_0x3562ac(0x55e)]('groupDesc'),..._0x498cdc,async(_0x223ef6,_0x1dcf26)=>{const _0x3a3e3c=_0x3562ac;let _0x1fe7fd=await this[_0x3a3e3c(0x5ba)]({'request':_0x223ef6,'schema':ni,'ClassRef':pt,'execute':(_0x468e36,_0x32cc9c)=>q[_0x3a3e3c(0x999)](_0x468e36,_0x32cc9c)});_0x1dcf26[_0x3a3e3c(0x914)](0xc9)[_0x3a3e3c(0x7ec)](_0x1fe7fd);})[_0x3562ac(0x24b)](this['routerPath']('groupName'),..._0x498cdc,async(_0x3c12e2,_0x587747)=>{const _0x4dcdc9=_0x3562ac;let _0x2b3725=await this[_0x4dcdc9(0x5ba)]({'request':_0x3c12e2,'schema':ci,'ClassRef':ht,'execute':(_0x155035,_0x25fc20)=>q[_0x4dcdc9(0x954)](_0x155035,_0x25fc20)});_0x587747[_0x4dcdc9(0x914)](0xc9)[_0x4dcdc9(0x7ec)](_0x2b3725);})[_0x3562ac(0x24b)](this[_0x3562ac(0x55e)](_0x3562ac(0x359)),..._0x498cdc,async(_0x5453e2,_0x4c6327)=>{const _0x3cefd5=_0x3562ac;let _0x185f27=await this[_0x3cefd5(0x5ba)]({'request':_0x5453e2,'schema':ui,'ClassRef':mt,'execute':(_0xd6834a,_0x5dc71c)=>q['groupBetterSetting'](_0xd6834a,_0x5dc71c)});_0x4c6327[_0x3cefd5(0x914)](0xc9)[_0x3cefd5(0x7ec)](_0x185f27);})[_0x3562ac(0x24b)](this['routerPath']('groupSetting'),..._0x498cdc,async(_0x3cefe6,_0x183b87)=>{const _0x4b4659=_0x3562ac;let _0x511d7c=await this[_0x4b4659(0x5ba)]({'request':_0x3cefe6,'schema':li,'ClassRef':gt,'execute':(_0xa4bf06,_0x23b2b0)=>q[_0x4b4659(0x6d3)](_0xa4bf06,_0x23b2b0)});_0x183b87[_0x4b4659(0x914)](0xc9)[_0x4b4659(0x7ec)](_0x511d7c);})[_0x3562ac(0x24b)](this['routerPath'](_0x3562ac(0x431)),..._0x498cdc,async(_0x4fe4c0,_0x345843)=>{const _0x2288be=_0x3562ac;let _0x375cc4=await this[_0x2288be(0x5ba)]({'request':_0x4fe4c0,'schema':oi,'ClassRef':wt,'execute':(_0x41c233,_0x13bd19)=>q[_0x2288be(0x431)](_0x41c233,_0x13bd19)});_0x345843[_0x2288be(0x914)](0xc9)[_0x2288be(0x7ec)](_0x375cc4);})['get'](this[_0x3562ac(0x55e)]('findGroupInfos'),..._0x498cdc,async(_0xa4c07b,_0x2c2254)=>{const _0x5ed83b=_0x3562ac;let _0x32510f=await this['groupValidate']({'request':_0xa4c07b,'schema':xe,'ClassRef':ee,'execute':(_0x19e7f1,_0x2c645a)=>q['findGroupInfo'](_0x19e7f1,_0x2c645a)});_0x2c2254[_0x5ed83b(0x914)](0xc8)[_0x5ed83b(0x7ec)](_0x32510f);})[_0x3562ac(0x923)](this[_0x3562ac(0x55e)](_0x3562ac(0x784)),..._0x498cdc,async(_0x508f47,_0x4db4a9)=>{const _0x1a624c=_0x3562ac;let _0x5a4907=await this[_0x1a624c(0x358)]({'request':_0x508f47,'schema':E,'ClassRef':M,'execute':_0x44f0e0=>q[_0x1a624c(0x784)](_0x44f0e0)});_0x4db4a9[_0x1a624c(0x914)](0xc8)[_0x1a624c(0x7ec)](_0x5a4907);})[_0x3562ac(0x923)](this[_0x3562ac(0x55e)](_0x3562ac(0x2ab)),..._0x498cdc,async(_0x543ee7,_0x1e90ce)=>{const _0x4772e8=_0x3562ac;let _0x178073=await this['groupValidate']({'request':_0x543ee7,'schema':xe,'ClassRef':ee,'execute':(_0x219f3e,_0xe21c2a)=>q[_0x4772e8(0x221)](_0x219f3e,_0xe21c2a)});_0x1e90ce[_0x4772e8(0x914)](0xc8)['json'](_0x178073);})[_0x3562ac(0x923)](this[_0x3562ac(0x55e)](_0x3562ac(0x558)),..._0x498cdc,async(_0x4defc4,_0x5ea396)=>{const _0x2e3a77=_0x3562ac;let _0x1a2fdc=await this[_0x2e3a77(0x5ba)]({'request':_0x4defc4,'schema':xe,'ClassRef':ee,'execute':(_0x292d3a,_0x2f9501)=>q[_0x2e3a77(0x558)](_0x292d3a,_0x2f9501)});_0x5ea396[_0x2e3a77(0x914)](0xc8)['json'](_0x1a2fdc);})['post'](this['routerPath'](_0x3562ac(0x2d0)),..._0x498cdc,async(_0x55931b,_0x5a1799)=>{const _0x1da3fc=_0x3562ac;let _0x1727c9=await this[_0x1da3fc(0x605)]({'request':_0x55931b,'schema':Ns,'ClassRef':Pe,'execute':(_0x26eb13,_0x405145)=>q[_0x1da3fc(0x8c0)](_0x26eb13,_0x405145)});_0x5a1799['status'](0xc9)['json'](_0x1727c9);})['put'](this[_0x3562ac(0x55e)]('joinGroup'),..._0x498cdc,async(_0xdec3a8,_0x11ea5f)=>{const _0x5b01eb=_0x3562ac;let _0x5b8985=await this[_0x5b01eb(0x605)]({'request':_0xdec3a8,'schema':Ns,'ClassRef':Pe,'execute':(_0x5b6fd0,_0xae377b)=>q[_0x5b01eb(0x687)](_0x5b6fd0,_0xae377b)});_0x11ea5f['status'](0xc9)[_0x5b01eb(0x7ec)](_0x5b8985);})[_0x3562ac(0x24b)](this['routerPath']('revokeInviteCode'),..._0x498cdc,async(_0x45c3a4,_0x57d4a8)=>{let _0xfb3b86=await this['groupValidate']({'request':_0x45c3a4,'schema':xe,'ClassRef':ee,'execute':(_0x4fffd3,_0x5605cc)=>q['revokeInviteCode'](_0x4fffd3,_0x5605cc)});_0x57d4a8['status'](0xc9)['json'](_0xfb3b86);})[_0x3562ac(0x24b)](this[_0x3562ac(0x55e)](_0x3562ac(0x333)),..._0x498cdc,async(_0x6ac5a7,_0x13a884)=>{const _0x5f0365=_0x3562ac;let _0x297b7f=await this[_0x5f0365(0x5ba)]({'request':_0x6ac5a7,'schema':ii,'ClassRef':ft,'execute':(_0x1909ac,_0x2a1d6c)=>q[_0x5f0365(0x2b1)](_0x1909ac,_0x2a1d6c)});_0x13a884[_0x5f0365(0x914)](0xc9)['json'](_0x297b7f);})[_0x3562ac(0x6c2)](this[_0x3562ac(0x55e)]('leaveGroup'),..._0x498cdc,async(_0x29ae84,_0x4733e2)=>{const _0x1fb9fd=_0x3562ac;let _0x59512b=await this[_0x1fb9fd(0x5ba)]({'request':_0x29ae84,'schema':{},'ClassRef':ee,'execute':(_0x2ebbfa,_0x2cb142)=>q['leaveGroup'](_0x2ebbfa,_0x2cb142)});_0x4733e2[_0x1fb9fd(0x914)](0xc8)['json'](_0x59512b);});}},gi=require(a0_0x1c3883(0x75b)),bt=class extends V{constructor(_0x39912d,..._0x3df054){const _0x23fe10=a0_0x1c3883;super(),this[_0x23fe10(0x554)]=_0x39912d,this[_0x23fe10(0x4e7)]=(0x0,gi[_0x23fe10(0x212)])();let _0x30cb47=_0x39912d[_0x23fe10(0x923)](_0x23fe10(0x4d8));this[_0x23fe10(0x4e7)][_0x23fe10(0x8b5)]('/create',..._0x3df054,async(_0x3d0a8c,_0x4404ac)=>{const _0x2a210c=_0x23fe10;let {instanceName:_0x2ddc64,apikey:_0x2c73ee,number:_0x3faea4}=_0x3d0a8c[_0x2a210c(0x347)],_0x40cb2c=await le[_0x2a210c(0x36b)]({'instanceName':_0x2ddc64,'apikey':_0x2c73ee,'number':_0x3faea4});return _0x4404ac[_0x2a210c(0x914)](0xc9)[_0x2a210c(0x7ec)](_0x40cb2c);})[_0x23fe10(0x24b)](this['routerPath'](_0x23fe10(0x695)),..._0x3df054,async(_0x3861ae,_0x2123c5)=>{const _0x3b2ad1=_0x23fe10;let _0x1ae99a=await this[_0x3b2ad1(0x358)]({'request':_0x3861ae,'schema':E,'ClassRef':M,'execute':_0x3f66ca=>le[_0x3b2ad1(0x6bf)](_0x3f66ca)});return _0x2123c5[_0x3b2ad1(0x914)](0xc8)[_0x3b2ad1(0x7ec)](_0x1ae99a);})[_0x23fe10(0x923)](this['routerPath'](_0x23fe10(0x68b)),..._0x3df054,async(_0x572eb2,_0x26d139)=>{const _0x53b9ca=_0x23fe10;let _0x31c0f9=await this['dataValidate']({'request':_0x572eb2,'schema':E,'ClassRef':M,'execute':_0x2d8b24=>le[_0x53b9ca(0x2f7)](_0x2d8b24)});return _0x26d139['status'](0xc8)[_0x53b9ca(0x7ec)](_0x31c0f9);})['get'](this['routerPath'](_0x23fe10(0x544)),..._0x3df054,async(_0x3b1e98,_0x360dea)=>{const _0x44eca9=_0x23fe10;let _0x4fc5ea=await this[_0x44eca9(0x358)]({'request':_0x3b1e98,'schema':E,'ClassRef':M,'execute':_0x52c667=>le[_0x44eca9(0x544)](_0x52c667)});return _0x360dea['status'](0xc8)['json'](_0x4fc5ea);})[_0x23fe10(0x923)](this[_0x23fe10(0x55e)](_0x23fe10(0x714),!0x1),..._0x3df054,async(_0x5e26e5,_0x39119e)=>{const _0x17a6f8=_0x23fe10;let _0x28f8fc=await this[_0x17a6f8(0x358)]({'request':_0x5e26e5,'schema':null,'ClassRef':M,'execute':_0x440af6=>le[_0x17a6f8(0x714)](_0x440af6)});return _0x39119e[_0x17a6f8(0x914)](0xc8)['json'](_0x28f8fc);})[_0x23fe10(0x6c2)](this[_0x23fe10(0x55e)](_0x23fe10(0x91b)),..._0x3df054,async(_0x2b3849,_0x5df8f2)=>{const _0x1732a2=_0x23fe10;let _0x19d8ff=await this['dataValidate']({'request':_0x2b3849,'schema':E,'ClassRef':M,'execute':_0x5db6a2=>le[_0x1732a2(0x91b)](_0x5db6a2)});return _0x5df8f2[_0x1732a2(0x914)](0xc8)[_0x1732a2(0x7ec)](_0x19d8ff);})['delete'](this['routerPath'](_0x23fe10(0x6c2)),..._0x3df054,async(_0x5bae9c,_0x17b479)=>{const _0x6d965f=_0x23fe10;let _0x41bb8a=await this['dataValidate']({'request':_0x5bae9c,'schema':E,'ClassRef':M,'execute':_0x1c09b0=>le[_0x6d965f(0x476)](_0x1c09b0)});return _0x17b479[_0x6d965f(0x914)](0xc8)['json'](_0x41bb8a);});}},mi=require('express'),Rs=class{},H=class extends Rs{},St=class extends H{},Mt=class extends H{},Ct=class extends H{},vt=class extends H{},De=class extends H{},Et=class extends H{},Nt=class extends H{},$t=class extends H{},Rt=class extends H{},At=class{},Tt=class extends V{constructor(..._0x15a67d){const _0x136945=a0_0x1c3883;super(),this['router']=(0x0,mi[_0x136945(0x212)])(),this['router'][_0x136945(0x8b5)](this['routerPath'](_0x136945(0x696)),..._0x15a67d,async(_0xe26348,_0xd0238e)=>{const _0x543f51=_0x136945;let _0xa7adc7=await this[_0x543f51(0x358)]({'request':_0xe26348,'schema':Pa,'ClassRef':St,'execute':(_0x542606,_0x969260)=>B[_0x543f51(0x696)](_0x542606,_0x969260)});return _0xd0238e[_0x543f51(0x914)](0xc9)['json'](_0xa7adc7);})[_0x136945(0x8b5)](this[_0x136945(0x55e)]('sendMedia'),..._0x15a67d,async(_0x275530,_0x35cab7)=>{const _0x181d43=_0x136945;let _0x29dc6f=await this[_0x181d43(0x358)]({'request':_0x275530,'schema':Fa,'ClassRef':De,'execute':(_0x46f6b2,_0x5d8428)=>B['sendMedia'](_0x46f6b2,_0x5d8428)});return _0x35cab7[_0x181d43(0x914)](0xc9)[_0x181d43(0x7ec)](_0x29dc6f);})[_0x136945(0x8b5)](this['routerPath']('sendMenu'),..._0x15a67d,async(_0x46f7bf,_0x121bd2)=>{const _0x70ef28=_0x136945;let _0x41fd03=await this['dataValidate']({'request':_0x46f7bf,'schema':Ja,'ClassRef':vt,'execute':(_0x29c90b,_0x1b584b)=>B[_0x70ef28(0x8ca)](_0x29c90b,_0x1b584b)});return _0x121bd2[_0x70ef28(0x914)](0xc9)[_0x70ef28(0x7ec)](_0x41fd03);})[_0x136945(0x8b5)](this[_0x136945(0x55e)](_0x136945(0x8c9)),..._0x15a67d,async(_0xbe0983,_0x34f12c)=>{const _0x5142b5=_0x136945;let _0x2d9ce9=await this['dataValidate']({'request':_0xbe0983,'schema':Ua,'ClassRef':De,'execute':(_0x3a6545,_0x17ac2d)=>B['sendWhatsAppAudio'](_0x3a6545,_0x17ac2d)});return _0x34f12c[_0x5142b5(0x914)](0xc9)[_0x5142b5(0x7ec)](_0x2d9ce9);})['post'](this['routerPath'](_0x136945(0x98f)),..._0x15a67d,async(_0x10bbef,_0x1874bc)=>{const _0x471de5=_0x136945;let _0x4574de=await this[_0x471de5(0x358)]({'request':_0x10bbef,'schema':qa,'ClassRef':Nt,'execute':(_0x45e931,_0x3da311)=>B[_0x471de5(0x98f)](_0x45e931,_0x3da311)});return _0x1874bc[_0x471de5(0x914)](0xc9)[_0x471de5(0x7ec)](_0x4574de);})[_0x136945(0x8b5)](this[_0x136945(0x55e)](_0x136945(0x412)),..._0x15a67d,async(_0x415f94,_0x4d8a97)=>{const _0x564b61=_0x136945;let _0x551ca6=await this[_0x564b61(0x358)]({'request':_0x415f94,'schema':Va,'ClassRef':$t,'execute':(_0x380a74,_0x4f587c)=>B['sendList'](_0x380a74,_0x4f587c)});return _0x4d8a97[_0x564b61(0x914)](0xc9)[_0x564b61(0x7ec)](_0x551ca6);})[_0x136945(0x8b5)](this['routerPath']('sendContact'),..._0x15a67d,async(_0x4824ea,_0x30fafe)=>{const _0x1252d1=_0x136945;let _0x6c8383=await this[_0x1252d1(0x358)]({'request':_0x4824ea,'schema':Ga,'ClassRef':Rt,'execute':(_0x459f1f,_0x582159)=>B[_0x1252d1(0x87e)](_0x459f1f,_0x582159)});return _0x30fafe['status'](0xc9)[_0x1252d1(0x7ec)](_0x6c8383);})[_0x136945(0x8b5)](this[_0x136945(0x55e)]('sendReaction'),..._0x15a67d,async(_0x165b9b,_0x3fd1f9)=>{const _0x2d8221=_0x136945;let _0x6e9214=await this[_0x2d8221(0x358)]({'request':_0x165b9b,'schema':Ba,'ClassRef':At,'execute':(_0x1ab296,_0x15c33)=>B[_0x2d8221(0x872)](_0x1ab296,_0x15c33)});return _0x3fd1f9[_0x2d8221(0x914)](0xc9)[_0x2d8221(0x7ec)](_0x6e9214);})[_0x136945(0x8b5)](this[_0x136945(0x55e)](_0x136945(0x7a9)),..._0x15a67d,async(_0x756a94,_0x5549a6)=>{const _0x3924f2=_0x136945;let _0x49c4c6=await this[_0x3924f2(0x358)]({'request':_0x756a94,'schema':ja,'ClassRef':Ct,'execute':(_0x273049,_0x12a31e)=>B[_0x3924f2(0x7a9)](_0x273049,_0x12a31e)});return _0x5549a6[_0x3924f2(0x914)](0xc9)[_0x3924f2(0x7ec)](_0x49c4c6);})[_0x136945(0x8b5)](this[_0x136945(0x55e)](_0x136945(0x97b)),..._0x15a67d,async(_0x2ea914,_0x56c772)=>{const _0x261eae=_0x136945;let _0x2fe822=await this[_0x261eae(0x358)]({'request':_0x2ea914,'schema':La,'ClassRef':Mt,'execute':(_0x19bbb2,_0x57de3b)=>B[_0x261eae(0x97b)](_0x19bbb2,_0x57de3b)});return _0x56c772[_0x261eae(0x914)](0xc9)[_0x261eae(0x7ec)](_0x2fe822);})[_0x136945(0x8b5)](this['routerPath']('sendSticker'),..._0x15a67d,async(_0x23569f,_0x4f273d)=>{const _0xae3441=_0x136945;let _0x10c357=await this['dataValidate']({'request':_0x23569f,'schema':ka,'ClassRef':Et,'execute':(_0x542bf4,_0x2d53ec)=>B['sendSticker'](_0x542bf4,_0x2d53ec)});return _0x4f273d[_0xae3441(0x914)](0xc9)[_0xae3441(0x7ec)](_0x10c357);});}},fi=require(a0_0x1c3883(0x75b)),It=class{},_t=class extends V{constructor(..._0x54686d){const _0x784ab9=a0_0x1c3883;super(),this['router']=(0x0,fi['Router'])(),this['router'][_0x784ab9(0x8b5)](this['routerPath'](_0x784ab9(0x7da)),..._0x54686d,async(_0x3c9666,_0x4c6d8b)=>{const _0x5e1120=_0x784ab9;let _0x53a28f=await this[_0x5e1120(0x358)]({'request':_0x3c9666,'schema':di,'ClassRef':It,'execute':(_0x2e857b,_0x108911)=>As['createWebhook'](_0x2e857b,_0x108911)});_0x4c6d8b[_0x5e1120(0x914)](0xc9)[_0x5e1120(0x7ec)](_0x53a28f);})['get'](this[_0x784ab9(0x55e)](_0x784ab9(0x571)),..._0x54686d,async(_0x5c6f71,_0x38a221)=>{const _0x18ab80=_0x784ab9;let _0x308c9e=await this['dataValidate']({'request':_0x5c6f71,'schema':E,'ClassRef':M,'execute':_0x22d9fc=>As[_0x18ab80(0x44b)](_0x22d9fc)});_0x38a221[_0x18ab80(0x914)](0xc8)[_0x18ab80(0x7ec)](_0x308c9e);});}},wi=require(a0_0x1c3883(0x75b)),y=new $(a0_0x1c3883(0x8d1)),Ot=class extends V{constructor(..._0xb80c43){const _0x281607=a0_0x1c3883;super(),this[_0x281607(0x4e7)]=(0x0,wi[_0x281607(0x212)])(),this['router'][_0x281607(0x8b5)](this[_0x281607(0x55e)](_0x281607(0x943)),..._0xb80c43,async(_0x5e15a5,_0x5c41f5)=>{const _0x838ce8=_0x281607;let _0x4ff013=_0x5e15a5[_0x838ce8(0x347)];y[_0x838ce8(0x990)](_0x838ce8(0x8b0)),y[_0x838ce8(0x990)](_0x838ce8(0x767)),y['verbose'](_0x5e15a5[_0x838ce8(0x347)]);let _0x524599=await this[_0x838ce8(0x358)]({'request':_0x5e15a5,'schema':E,'ClassRef':M,'execute':_0x41856f=>_['editScheduleMessage'](_0x41856f,_0x4ff013)});_0x5c41f5[_0x838ce8(0x914)](0xc8)['json'](_0x524599);})[_0x281607(0x923)](this[_0x281607(0x55e)]('scheduleMessage'),..._0xb80c43,async(_0x2dd49d,_0x51be20)=>{const _0x751cbc=_0x281607;let _0x181a96=await this['dataValidate']({'request':_0x2dd49d,'schema':E,'ClassRef':M,'execute':_0x5d9191=>_[_0x751cbc(0x48d)](_0x5d9191)});_0x51be20[_0x751cbc(0x914)](0xc8)[_0x751cbc(0x7ec)](_0x181a96);})[_0x281607(0x6c2)](this[_0x281607(0x55e)](_0x281607(0x62b)),..._0xb80c43,async(_0x1cdaa9,_0x57d187)=>{const _0x376ade=_0x281607;y[_0x376ade(0x990)](_0x376ade(0x4ce));let _0x4577ca=await this[_0x376ade(0x358)]({'request':_0x1cdaa9,'schema':E,'ClassRef':M,'execute':_0x355e83=>_[_0x376ade(0x62b)](_0x355e83)});_0x57d187[_0x376ade(0x914)](0xc8)[_0x376ade(0x7ec)](_0x4577ca);})[_0x281607(0x6c2)](this[_0x281607(0x55e)](_0x281607(0x71e)),..._0xb80c43,async(_0x380c0e,_0x303a06)=>{const _0x5b913d=_0x281607;y[_0x5b913d(0x990)]('request\x20received\x20in\x20deleteAllMessages');let _0x3fa0fb=await this[_0x5b913d(0x358)]({'request':_0x380c0e,'schema':E,'ClassRef':M,'execute':_0x631b09=>_['deleteAllMessages'](_0x631b09)});_0x303a06[_0x5b913d(0x914)](0xc8)[_0x5b913d(0x7ec)](_0x3fa0fb);})[_0x281607(0x8b5)](this[_0x281607(0x55e)](_0x281607(0x305)),..._0xb80c43,async(_0x15d94a,_0x19730a)=>{const _0xe58f87=_0x281607;let _0x36f220=_0x15d94a['body'];y[_0xe58f87(0x990)](_0xe58f87(0x6c0)),y['verbose'](_0xe58f87(0x767)),y['verbose'](_0x15d94a['body']);let _0x28a168=await this[_0xe58f87(0x358)]({'request':_0x15d94a,'schema':E,'ClassRef':M,'execute':_0x1a82b6=>_['startFlow'](_0x1a82b6,_0x36f220)});_0x19730a[_0xe58f87(0x914)](0xc8)[_0xe58f87(0x7ec)](_0x28a168);})[_0x281607(0x923)](this[_0x281607(0x55e)](_0x281607(0x5e4)),..._0xb80c43,async(_0x4601b6,_0x464f41)=>{const _0x30b6f3=_0x281607;y[_0x30b6f3(0x990)](_0x30b6f3(0x534));let _0x2afcb9=await this[_0x30b6f3(0x358)]({'request':_0x4601b6,'schema':E,'ClassRef':M,'execute':_0x50db83=>_['getAutomateSystem'](_0x50db83)});_0x464f41[_0x30b6f3(0x914)](0xc8)[_0x30b6f3(0x7ec)](_0x2afcb9);})['get'](this['routerPath'](_0x281607(0x2fc)),..._0xb80c43,async(_0x1c4fb3,_0x1ffa94)=>{const _0x52eb32=_0x281607;y['verbose'](_0x52eb32(0x9a2));let _0x527fe3=await this[_0x52eb32(0x358)]({'request':_0x1c4fb3,'schema':E,'ClassRef':M,'execute':_0x589609=>_[_0x52eb32(0x5e4)](_0x589609)});_0x1ffa94[_0x52eb32(0x914)](0xc8)[_0x52eb32(0x7ec)](_0x527fe3);})['post'](this[_0x281607(0x55e)](_0x281607(0x27a)),..._0xb80c43,async(_0x7d8ce5,_0x2e4765)=>{const _0x212ff0=_0x281607;let _0x257dbf=_0x7d8ce5[_0x212ff0(0x347)];y['verbose'](_0x212ff0(0x5d3)),y[_0x212ff0(0x990)](_0x212ff0(0x767)),y[_0x212ff0(0x990)](_0x7d8ce5[_0x212ff0(0x347)]);let _0x5f48aa=await this[_0x212ff0(0x358)]({'request':_0x7d8ce5,'schema':E,'ClassRef':M,'execute':_0x461e94=>_[_0x212ff0(0x27a)](_0x461e94,_0x257dbf)});_0x2e4765[_0x212ff0(0x914)](0xc8)[_0x212ff0(0x7ec)](_0x5f48aa);})[_0x281607(0x8b5)](this['routerPath'](_0x281607(0x8a6)),..._0xb80c43,async(_0x2e5655,_0x1edccd)=>{const _0x51f380=_0x281607;let _0x44771b=_0x2e5655['body'];y[_0x51f380(0x990)]('request\x20received\x20in\x20updateCustomFields'),y['verbose']('request\x20body:\x20'),y[_0x51f380(0x990)](_0x2e5655['body']);let _0x109113=await this[_0x51f380(0x358)]({'request':_0x2e5655,'schema':E,'ClassRef':M,'execute':_0x57e27f=>_['updateCustomFields'](_0x57e27f,_0x44771b)});_0x1edccd[_0x51f380(0x914)](0xc8)['json'](_0x109113);})[_0x281607(0x8b5)](this[_0x281607(0x55e)](_0x281607(0x69a)),..._0xb80c43,async(_0x58eb30,_0x1cf8d3)=>{const _0x17bde5=_0x281607;let _0x1d3c99=_0x58eb30[_0x17bde5(0x347)];y[_0x17bde5(0x990)](_0x17bde5(0x216)),y[_0x17bde5(0x990)](_0x17bde5(0x767)),y[_0x17bde5(0x990)](_0x58eb30['body']);let _0x26db80=await this[_0x17bde5(0x358)]({'request':_0x58eb30,'schema':E,'ClassRef':M,'execute':_0x517e4d=>_[_0x17bde5(0x69a)](_0x517e4d,_0x1d3c99)});_0x1cf8d3[_0x17bde5(0x914)](0xc8)[_0x17bde5(0x7ec)](_0x26db80);})['post'](this[_0x281607(0x55e)](_0x281607(0x85a)),..._0xb80c43,async(_0x137307,_0x4fa079)=>{const _0x38ef41=_0x281607;let _0x315b69=_0x137307[_0x38ef41(0x347)];y[_0x38ef41(0x990)](_0x38ef41(0x2fe)),y[_0x38ef41(0x990)](_0x38ef41(0x767)),y[_0x38ef41(0x990)](_0x137307[_0x38ef41(0x347)]);let _0x1ed6f2=await this[_0x38ef41(0x358)]({'request':_0x137307,'schema':E,'ClassRef':M,'execute':_0x310808=>_['updateFlowConfig'](_0x310808,_0x315b69)});_0x4fa079[_0x38ef41(0x914)](0xc8)['json'](_0x1ed6f2);})[_0x281607(0x8b5)](this[_0x281607(0x55e)](_0x281607(0x8f6)),..._0xb80c43,async(_0x37efb8,_0x4feb38)=>{const _0x3dcd35=_0x281607;let _0x5e41a8=_0x37efb8['body'];y[_0x3dcd35(0x990)](_0x3dcd35(0x23b)),y['verbose'](_0x3dcd35(0x767)),y[_0x3dcd35(0x990)](_0x37efb8[_0x3dcd35(0x347)]);let _0x4a2107=await this['dataValidate']({'request':_0x37efb8,'schema':E,'ClassRef':M,'execute':_0x2c019a=>_[_0x3dcd35(0x8f6)](_0x2c019a,_0x5e41a8)});_0x4feb38['status'](0xc8)[_0x3dcd35(0x7ec)](_0x4a2107);})[_0x281607(0x8b5)](this[_0x281607(0x55e)](_0x281607(0x595)),..._0xb80c43,async(_0x180a72,_0x2543ec)=>{const _0x49d772=_0x281607;let _0x7936d5=_0x180a72['body'];y[_0x49d772(0x990)](_0x49d772(0x328)),y[_0x49d772(0x990)](_0x49d772(0x767)),y['verbose'](_0x180a72[_0x49d772(0x347)]);let _0x2901fb=await this['dataValidate']({'request':_0x180a72,'schema':E,'ClassRef':M,'execute':_0xdfccaf=>_[_0x49d772(0x595)](_0xdfccaf,_0x7936d5)});_0x2543ec[_0x49d772(0x914)](0xc8)[_0x49d772(0x7ec)](_0x2901fb);})['post'](this[_0x281607(0x55e)](_0x281607(0x732)),..._0xb80c43,async(_0x4aac93,_0x41b520)=>{const _0x4a78d7=_0x281607;let _0xb2119=_0x4aac93[_0x4a78d7(0x347)];y[_0x4a78d7(0x990)](_0x4a78d7(0x78c)),y[_0x4a78d7(0x990)]('request\x20body:\x20'),y[_0x4a78d7(0x990)](_0x4aac93[_0x4a78d7(0x347)]);let _0x1d8344=await this['dataValidate']({'request':_0x4aac93,'schema':E,'ClassRef':M,'execute':_0x595a69=>_['editConversation'](_0x595a69,_0xb2119)});_0x41b520[_0x4a78d7(0x914)](0xc8)[_0x4a78d7(0x7ec)](_0x1d8344);})[_0x281607(0x6c2)](this[_0x281607(0x55e)]('deleteConversation'),..._0xb80c43,async(_0x44b52c,_0x260452)=>{const _0xe91593=_0x281607;let _0x15c9a9=_0x44b52c[_0xe91593(0x347)];y['verbose'](_0xe91593(0x6dd)),y[_0xe91593(0x990)](_0xe91593(0x767)),y[_0xe91593(0x990)](_0x44b52c['body']);let _0x40d4d7=await this[_0xe91593(0x358)]({'request':_0x44b52c,'schema':E,'ClassRef':M,'execute':_0x57cc2c=>_[_0xe91593(0x340)](_0x57cc2c,_0x15c9a9)});_0x260452[_0xe91593(0x914)](0xc8)[_0xe91593(0x7ec)](_0x40d4d7);})[_0x281607(0x8b5)](this[_0x281607(0x55e)](_0x281607(0x30f)),..._0xb80c43,async(_0xdea3f1,_0x3afcbe)=>{const _0x4ee639=_0x281607;let _0x335f5d=_0xdea3f1[_0x4ee639(0x347)],_0x50e2d0=_0xdea3f1[_0x4ee639(0x232)][_0x4ee639(0x7e7)];y[_0x4ee639(0x990)]('request\x20received\x20in\x20createFlow'),y[_0x4ee639(0x990)]('request\x20body:\x20'),y[_0x4ee639(0x990)](_0xdea3f1['body']);let _0x2af0d4=await this['dataValidate']({'request':_0xdea3f1,'schema':E,'ClassRef':M,'execute':_0x1854a9=>_[_0x4ee639(0x58f)](_0x1854a9,_0x335f5d,_0x50e2d0)});_0x3afcbe[_0x4ee639(0x914)](0xc8)[_0x4ee639(0x7ec)](_0x2af0d4);})[_0x281607(0x8b5)](this[_0x281607(0x55e)](_0x281607(0x2b7)),..._0xb80c43,async(_0x27e9fc,_0x4c671b)=>{const _0x25685b=_0x281607;let _0x4a71ce=_0x27e9fc[_0x25685b(0x347)],_0xdbf26=_0x27e9fc['headers'][_0x25685b(0x7e7)];y['verbose'](_0x25685b(0x93c)),y[_0x25685b(0x990)](_0x25685b(0x767)),y[_0x25685b(0x990)](_0x27e9fc[_0x25685b(0x347)]),delete _0x4a71ce[_0x25685b(0x791)],delete _0x4a71ce['variables'],delete _0x4a71ce[_0x25685b(0x8a2)],delete _0x4a71ce['conditions'];let _0x4071b6=await this[_0x25685b(0x358)]({'request':_0x27e9fc,'schema':E,'ClassRef':M,'execute':_0x371460=>_[_0x25685b(0x64e)](_0x371460,_0x4a71ce,_0xdbf26)});_0x4c671b['status'](0xc8)[_0x25685b(0x7ec)](_0x4071b6);})[_0x281607(0x8b5)](this[_0x281607(0x55e)]('editflowblock'),..._0xb80c43,async(_0x278055,_0x29cde3)=>{const _0x2c09f3=_0x281607;let _0x29bc09=_0x278055[_0x2c09f3(0x347)];y[_0x2c09f3(0x990)](_0x2c09f3(0x93c)),y[_0x2c09f3(0x990)]('request\x20body:\x20'),y[_0x2c09f3(0x990)](_0x278055[_0x2c09f3(0x347)]);let _0x46b7d6=await this[_0x2c09f3(0x358)]({'request':_0x278055,'schema':E,'ClassRef':M,'execute':_0x3919b1=>_['editFlowBlock'](_0x3919b1,_0x29bc09)});_0x29cde3['status'](0xc8)[_0x2c09f3(0x7ec)](_0x46b7d6);})[_0x281607(0x8b5)](this['routerPath']('editflowreply'),..._0xb80c43,async(_0x28214b,_0x2999cc)=>{const _0x288537=_0x281607;let _0x1f4805=_0x28214b[_0x288537(0x347)];y[_0x288537(0x990)]('request\x20received\x20in\x20editFlow'),y[_0x288537(0x990)]('request\x20body:\x20'),y[_0x288537(0x990)](_0x28214b[_0x288537(0x347)]);let _0x8dfcd5=await this['dataValidate']({'request':_0x28214b,'schema':E,'ClassRef':M,'execute':_0x58e47b=>_[_0x288537(0x214)](_0x58e47b,_0x1f4805)});_0x2999cc[_0x288537(0x914)](0xc8)[_0x288537(0x7ec)](_0x8dfcd5);})[_0x281607(0x8b5)](this[_0x281607(0x55e)](_0x281607(0x87c)),..._0xb80c43,async(_0x5b04b9,_0x176afc)=>{const _0x1f345a=_0x281607;let _0x4c26d6=_0x5b04b9[_0x1f345a(0x347)];y['verbose'](_0x1f345a(0x93c)),y[_0x1f345a(0x990)]('request\x20body:\x20'),y[_0x1f345a(0x990)](_0x5b04b9[_0x1f345a(0x347)]);let _0x557dcf=await this['dataValidate']({'request':_0x5b04b9,'schema':E,'ClassRef':M,'execute':_0x2d639a=>_[_0x1f345a(0x93b)](_0x2d639a,_0x4c26d6)});_0x176afc['status'](0xc8)[_0x1f345a(0x7ec)](_0x557dcf);})['post'](this[_0x281607(0x55e)](_0x281607(0x5fc)),..._0xb80c43,async(_0x42bcb4,_0x282c4a)=>{const _0x2e7e8d=_0x281607;let _0x4d72c0=_0x42bcb4['body'];y['verbose'](_0x2e7e8d(0x668)),y['verbose'](_0x2e7e8d(0x767)),y[_0x2e7e8d(0x990)](_0x42bcb4[_0x2e7e8d(0x347)]);let _0x3f2024=await this['dataValidate']({'request':_0x42bcb4,'schema':E,'ClassRef':M,'execute':_0x42a9a1=>_[_0x2e7e8d(0x938)](_0x42a9a1,_0x4d72c0)});_0x282c4a[_0x2e7e8d(0x914)](0xc8)[_0x2e7e8d(0x7ec)](_0x3f2024);})['post'](this[_0x281607(0x55e)](_0x281607(0x4ad)),..._0xb80c43,async(_0x2a520e,_0x4adf51)=>{const _0x532a60=_0x281607;let _0x5bd0e7=_0x2a520e['body'];y['verbose'](_0x532a60(0x6df)),y[_0x532a60(0x990)](_0x532a60(0x767)),y['verbose'](_0x2a520e[_0x532a60(0x347)]);let _0x4430ae=await this['dataValidate']({'request':_0x2a520e,'schema':E,'ClassRef':M,'execute':_0xcb4041=>_[_0x532a60(0x5a2)](_0xcb4041,_0x5bd0e7)});_0x4adf51[_0x532a60(0x914)](0xc8)['json'](_0x4430ae);})['post'](this[_0x281607(0x55e)](_0x281607(0x31f)),..._0xb80c43,async(_0x5a5bad,_0x4c93ce)=>{const _0x451a7f=_0x281607;let _0x2281ec=_0x5a5bad[_0x451a7f(0x347)];y[_0x451a7f(0x990)]('request\x20received\x20in\x20editFlowvariable'),y['verbose'](_0x451a7f(0x767)),y[_0x451a7f(0x990)](_0x5a5bad[_0x451a7f(0x347)]);let _0x31d7ed=await this['dataValidate']({'request':_0x5a5bad,'schema':E,'ClassRef':M,'execute':_0x41178a=>_[_0x451a7f(0x1fd)](_0x41178a,_0x2281ec)});_0x4c93ce[_0x451a7f(0x914)](0xc8)[_0x451a7f(0x7ec)](_0x31d7ed);})[_0x281607(0x8b5)](this['routerPath'](_0x281607(0x8b4)),..._0xb80c43,async(_0x2c6866,_0x19030a)=>{const _0x6d4a54=_0x281607;let _0x33fe3a=_0x2c6866[_0x6d4a54(0x347)];y[_0x6d4a54(0x990)](_0x6d4a54(0x4d0)),y[_0x6d4a54(0x990)]('request\x20body:\x20'),y['verbose'](_0x2c6866[_0x6d4a54(0x347)]);let _0x20176c=await this['dataValidate']({'request':_0x2c6866,'schema':E,'ClassRef':M,'execute':_0xa88daf=>_[_0x6d4a54(0x79c)](_0xa88daf,_0x33fe3a)});_0x19030a[_0x6d4a54(0x914)](0xc8)[_0x6d4a54(0x7ec)](_0x20176c);})['delete'](this['routerPath'](_0x281607(0x91f)),..._0xb80c43,async(_0x15f5b4,_0x1ddbdc)=>{const _0x59e127=_0x281607;let _0xa0f669=_0x15f5b4['body'];y[_0x59e127(0x990)](_0x59e127(0x8b3)),y[_0x59e127(0x990)](_0x59e127(0x767)),y['verbose'](_0x15f5b4[_0x59e127(0x347)]);let _0x5b95ca=await this[_0x59e127(0x358)]({'request':_0x15f5b4,'schema':E,'ClassRef':M,'execute':_0x34aa9c=>_[_0x59e127(0x405)](_0x34aa9c,_0xa0f669)});_0x1ddbdc[_0x59e127(0x914)](0xc8)[_0x59e127(0x7ec)](_0x5b95ca);})[_0x281607(0x923)](this[_0x281607(0x55e)]('allflows'),..._0xb80c43,async(_0x4a817b,_0x57f0e6)=>{const _0x3149d0=_0x281607;y[_0x3149d0(0x990)]('request\x20received\x20in\x20allFlows');let _0x1dfb6c=await this['dataValidate']({'request':_0x4a817b,'schema':E,'ClassRef':M,'execute':_0x495cd0=>_['allFlows'](_0x495cd0)});_0x57f0e6[_0x3149d0(0x914)](0xc8)[_0x3149d0(0x7ec)](_0x1dfb6c);});}},Mi=I(require(a0_0x1c3883(0x939))),te={};function yi(_0x21450f,_0x514cc6,_0x496244,_0xc03ee2){te[_0x21450f]||(te[_0x21450f]={}),te[_0x21450f][_0x514cc6]={'id':_0x514cc6,'response':_0x496244,'events':_0xc03ee2};}function bi(_0x3903c0,_0x287f30){!te[_0x3903c0]||!te[_0x3903c0][_0x287f30]||delete te[_0x3903c0][_0x287f30];}function F(_0x1f5a30,_0x3f1d38,_0x12877a){const _0x5a529f=a0_0x1c3883;if(!te[_0x1f5a30])return;let _0x417cc6=_0x5a529f(0x62e)+JSON[_0x5a529f(0x565)](_0x12877a)+'\x0a\x0a';Object[_0x5a529f(0x8e2)](te[_0x1f5a30])['forEach'](_0x4e96ce=>{const _0x46a1af=_0x5a529f;_0x4e96ce[_0x46a1af(0x564)][_0x46a1af(0x681)](_0x3f1d38)&&_0x4e96ce['response']['write'](_0x417cc6);});}function Si(){const _0x3e17f0=a0_0x1c3883;let _0x4dc024={};for(let _0x3da973 in te)_0x4dc024[_0x3da973]=Object[_0x3e17f0(0x8e2)](te[_0x3da973])['map'](_0x24de12=>({'id':_0x24de12['id'],'events':_0x24de12[_0x3e17f0(0x564)]}));return _0x4dc024;}var Ci=require(a0_0x1c3883(0x53a)),Is=require(a0_0x1c3883(0x29c)),Ts=class{},Io=new Is[(a0_0x1c3883(0x4a1))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),_o=new Is[(a0_0x1c3883(0x4a1))]({'_id':{'type':String,'default':'config'},'WebhookGlobal':{'type':Io},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ve=T?.['model'](Ts['name'],_o,a0_0x1c3883(0x875)),Oo=Mi[a0_0x1c3883(0x460)][a0_0x1c3883(0x25f)](__dirname,a0_0x1c3883(0x4cf)),ke=(0x0,xt[a0_0x1c3883(0x212)])(),xo=S[a0_0x1c3883(0x923)](a0_0x1c3883(0x4d8))[a0_0x1c3883(0x2c0)],ie=[Aa,Ta,Oa[xo]];ke[a0_0x1c3883(0x7f7)](a0_0x1c3883(0x474),xt[a0_0x1c3883(0x460)][a0_0x1c3883(0x604)](Oo))[a0_0x1c3883(0x923)](a0_0x1c3883(0x910),async(_0x5a10e6,_0x1c5700)=>{const _0x978d6d=a0_0x1c3883;console['log'](_0x978d6d(0x49f));let _0x5ba61b=_0x5a10e6[_0x978d6d(0x75c)][_0x978d6d(0x339)],_0x5050f2=(_0x5a10e6[_0x978d6d(0x6ce)][_0x978d6d(0x564)]||'')['split'](','),_0x3eb10b=(0x0,Ci['v4'])();console['log'](_0x978d6d(0x7f4),_0x5ba61b),console['log'](_0x978d6d(0x4f5),_0x5050f2);let _0x57ff73=S['get']('AUTHENTICATION')[_0x978d6d(0x92d)],_0x1f5cb4=_0x5a10e6[_0x978d6d(0x6ce)][_0x978d6d(0x7e7)];if(console[_0x978d6d(0x7f9)](_0x978d6d(0x71a),_0x1f5cb4),_0x57ff73[_0x978d6d(0x3e4)]!==_0x1f5cb4){console[_0x978d6d(0x7f9)](_0x978d6d(0x693));try{let _0x539909=await me['auth'][_0x978d6d(0x571)](_0x5ba61b);if(console['log']('Instance\x20Key\x20from\x20DB:',_0x539909),!_0x539909||_0x539909['apikey']!==_0x1f5cb4)return console[_0x978d6d(0x7f9)](_0x978d6d(0x73b)),_0x1c5700[_0x978d6d(0x914)](0x191)[_0x978d6d(0x7ef)](_0x978d6d(0x798));}catch(_0x65db48){return console['error'](_0x978d6d(0x316),_0x65db48),_0x1c5700['status'](0x191)['send'](_0x978d6d(0x3c3));}}if(!await _e(_0x5ba61b))return _0x1c5700[_0x978d6d(0x914)](0x194)[_0x978d6d(0x7ef)](_0x978d6d(0x391));_0x1c5700['setHeader'](_0x978d6d(0x2b4),_0x978d6d(0x310)),_0x1c5700[_0x978d6d(0x57d)]('Cache-Control',_0x978d6d(0x281)),_0x1c5700[_0x978d6d(0x57d)](_0x978d6d(0x880),_0x978d6d(0x771)),_0x1c5700['flushHeaders']();let _0x39d35c='data:\x20'+JSON[_0x978d6d(0x565)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x1c5700[_0x978d6d(0x5d8)](_0x39d35c),yi(_0x5ba61b,_0x3eb10b,_0x1c5700,_0x5050f2),_0x5a10e6['on'](_0x978d6d(0x8e5),()=>{const _0x4a3a45=_0x978d6d;console[_0x4a3a45(0x7f9)](_0x4a3a45(0x87b)+_0x5ba61b),bi(_0x5ba61b,_0x3eb10b);});}),ke['post'](a0_0x1c3883(0x5ed),async(_0x3bd682,_0x21eaa5)=>{const _0xc8db18=a0_0x1c3883;console[_0xc8db18(0x7f9)](_0xc8db18(0x462));let _0x25b013=_0x3bd682[_0xc8db18(0x75c)]['instance'],_0x13c7b9=_0x3bd682[_0xc8db18(0x75c)][_0xc8db18(0x906)],_0x321754=_0x3bd682[_0xc8db18(0x6ce)][_0xc8db18(0x8f4)]||'',_0x3f42e2=_0x3bd682[_0xc8db18(0x347)];console['log'](_0xc8db18(0x41c),_0x25b013),console[_0xc8db18(0x7f9)](_0xc8db18(0x7ba),_0x13c7b9),console[_0xc8db18(0x7f9)](_0xc8db18(0x8f7),_0x321754),console['log'](_0xc8db18(0x974),_0x3f42e2);try{if(!await _e(_0x25b013))return _0x21eaa5[_0xc8db18(0x914)](0x194)['send'](_0xc8db18(0x391));let _0xba7d69=await _[_0xc8db18(0x6e3)](_0x25b013,_0x13c7b9,_0x321754,_0x3f42e2);_0x21eaa5[_0xc8db18(0x7ef)](_0xba7d69);}catch(_0x23c061){console[_0xc8db18(0x61d)](_0x23c061),_0x21eaa5[_0xc8db18(0x914)](0x1f4)['send'](_0xc8db18(0x83e));}}),ke[a0_0x1c3883(0x923)]('/clients-info',(_0x564022,_0x50568e)=>{const _0x3c881f=a0_0x1c3883;let _0x5b794b=Si();_0x50568e[_0x3c881f(0x7ec)](_0x5b794b);})['get']('/',(_0x82235d,_0x266b9b)=>{const _0x45fe78=a0_0x1c3883;let _0x398334=S['get'](_0x45fe78(0x793))['URL'];if(_0x398334){let _0x577d28=encodeURIComponent(''+_0x398334);_0x266b9b[_0x45fe78(0x26b)](_0x45fe78(0x3d5)+_0x577d28);return;}let _0x5c1f2e=S[_0x45fe78(0x923)](_0x45fe78(0x3c6)),_0x5231ef=_0x5c1f2e&&_0x5c1f2e[_0x45fe78(0x428)][_0x45fe78(0x3ac)]('/')[0x4];if(_0x5231ef){let _0x36defc=encodeURIComponent(_0x45fe78(0x5ef)+_0x5231ef);_0x266b9b[_0x45fe78(0x26b)](_0x45fe78(0x3d5)+_0x36defc);}else _0x266b9b[_0x45fe78(0x26b)]('https://uazapi-plugin.bubbleapps.io/');})[a0_0x1c3883(0x24b)]('/exit',...ie,async(_0x161b0b,_0x2df931)=>{const _0x3f79ec=a0_0x1c3883;try{console['log'](_0x3f79ec(0x833)),_0x2df931[_0x3f79ec(0x914)](0xc8)[_0x3f79ec(0x7ec)]({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x2df931['on']('finish',()=>process['exit'](0x0));}catch(_0x35f737){console[_0x3f79ec(0x61d)]('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x35f737),_0x2df931['status'](0x1f4)[_0x3f79ec(0x7ec)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x1c3883(0x24b)](a0_0x1c3883(0x7b9),...ie,async(_0x536804,_0x2c6061)=>{const _0x396655=a0_0x1c3883;try{let _0x1b727b=_0x536804[_0x396655(0x347)];await ve[_0x396655(0x3e7)]({},{'$set':_0x1b727b},{'upsert':!0x0});let _0x35bd5a=await ve[_0x396655(0x213)]();_0x2c6061[_0x396655(0x7ec)](_0x35bd5a);}catch(_0x2e877a){_0x2c6061['status'](0x190)['send'](_0x2e877a[_0x396655(0x535)]);}})[a0_0x1c3883(0x923)](a0_0x1c3883(0x7b9),...ie,async(_0x2682fc,_0x3c8505)=>{const _0x1ec355=a0_0x1c3883;try{let _0x2e6985=await ve[_0x1ec355(0x213)]();if(!_0x2e6985)return _0x3c8505[_0x1ec355(0x7ec)]({});_0x3c8505[_0x1ec355(0x7ec)](_0x2e6985);}catch(_0x1b2a87){_0x3c8505[_0x1ec355(0x914)](0x1f4)[_0x1ec355(0x7ef)](_0x1b2a87[_0x1ec355(0x535)]);}})[a0_0x1c3883(0x7f7)]('/instance',new bt(S,...ie)[a0_0x1c3883(0x4e7)])[a0_0x1c3883(0x7f7)](a0_0x1c3883(0x7a0),new Tt(...ie)[a0_0x1c3883(0x4e7)])['use']('/chat',new lt(...ie)[a0_0x1c3883(0x4e7)])[a0_0x1c3883(0x7f7)](a0_0x1c3883(0x70a),new yt(...ie)['router'])[a0_0x1c3883(0x7f7)](a0_0x1c3883(0x911),new _t(...ie)[a0_0x1c3883(0x4e7)])[a0_0x1c3883(0x7f7)](a0_0x1c3883(0x552),new Ot(...ie)[a0_0x1c3883(0x4e7)]);var m=class{constructor(..._0xb3182b){const _0x235f4f=a0_0x1c3883;throw{'status':0x190,'error':'Bad\x20Request','message':_0xb3182b[_0x235f4f(0x868)]>0x0?_0xb3182b:void 0x0};}},se=class{constructor(..._0x46d661){const _0xaa7db9=a0_0x1c3883;throw{'status':0x191,'error':_0xaa7db9(0x5f8),'message':_0x46d661[_0xaa7db9(0x868)]>0x0?_0x46d661:void 0x0};}},X=class{constructor(..._0x12ebc2){const _0x13902b=a0_0x1c3883;throw{'status':0x193,'error':_0x13902b(0x38b),'message':_0x12ebc2['length']>0x0?_0x12ebc2:void 0x0};}},U=class{constructor(..._0x1e3030){const _0x110522=a0_0x1c3883;throw{'status':0x194,'error':_0x110522(0x81c),'message':_0x1e3030[_0x110522(0x868)]>0x0?_0x1e3030:void 0x0};}},x=class{constructor(..._0x31ee99){const _0x10c271=a0_0x1c3883;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x31ee99[_0x10c271(0x868)]>0x0?_0x31ee99:void 0x0};}},fe=require(a0_0x1c3883(0x97e));async function _s(_0x4e500f){const _0x2bfd0d=a0_0x1c3883;let _0x5e2e6c=new $(_s[_0x2bfd0d(0x1f9)]),_0xc34b30=T[_0x2bfd0d(0x4b5)](),_0x13e74b=_0xc34b30['db'](S[_0x2bfd0d(0x923)](_0x2bfd0d(0x844))[_0x2bfd0d(0x8a7)]['DB_PREFIX_NAME']+_0x2bfd0d(0x3f8))[_0x2bfd0d(0x989)](_0x4e500f),_0x382fbf=async(_0x4af59a,_0x221687)=>{const _0x1fbc26=_0x2bfd0d;try{return await _0xc34b30[_0x1fbc26(0x68b)](),await _0x13e74b[_0x1fbc26(0x3aa)]({'_id':_0x221687},JSON['parse'](JSON['stringify'](_0x4af59a,fe[_0x1fbc26(0x63a)][_0x1fbc26(0x7b6)])),{'upsert':!0x0});}catch{}},_0x50fc2a=async _0x32edab=>{const _0x17a6f0=_0x2bfd0d;try{await _0xc34b30[_0x17a6f0(0x68b)]();let _0x2a8f21=await _0x13e74b[_0x17a6f0(0x213)]({'_id':_0x32edab}),_0x40fd9e=JSON[_0x17a6f0(0x565)](_0x2a8f21);return JSON['parse'](_0x40fd9e,fe[_0x17a6f0(0x63a)][_0x17a6f0(0x415)]);}catch{}},_0x4a6f26=async _0x3aab68=>{const _0x4b57e5=_0x2bfd0d;try{return await _0xc34b30[_0x4b57e5(0x68b)](),await _0x13e74b[_0x4b57e5(0x2af)]({'_id':_0x3aab68});}catch{}},_0x1dbba8=await _0x50fc2a(_0x2bfd0d(0x86b))||(0x0,fe[_0x2bfd0d(0x692)])();return{'state':{'creds':_0x1dbba8,'keys':{'get':async(_0x15fce7,_0x16bf34)=>{const _0x507e73=_0x2bfd0d;let _0x56b931={};return await Promise[_0x507e73(0x200)](_0x16bf34['map'](async _0x919182=>{const _0x5e8df6=_0x507e73;let _0x5d6aa9=await _0x50fc2a(_0x15fce7+'-'+_0x919182);_0x15fce7===_0x5e8df6(0x292)&&_0x5d6aa9&&(_0x5d6aa9=fe[_0x5e8df6(0x64a)][_0x5e8df6(0x4a6)][_0x5e8df6(0x92c)]['fromObject'](_0x5d6aa9)),_0x56b931[_0x919182]=_0x5d6aa9;})),_0x56b931;},'set':async _0x1229f3=>{const _0x45a1ba=_0x2bfd0d;let _0x39eb1f=[];for(let _0x337aa1 in _0x1229f3)for(let _0x91e02 in _0x1229f3[_0x337aa1]){let _0x10ec6e=_0x1229f3[_0x337aa1][_0x91e02],_0x2bc9a9=_0x337aa1+'-'+_0x91e02;_0x39eb1f[_0x45a1ba(0x706)](_0x10ec6e?_0x382fbf(_0x10ec6e,_0x2bc9a9):_0x4a6f26(_0x2bc9a9));}await Promise[_0x45a1ba(0x200)](_0x39eb1f);}}},'saveCreds':async()=>_0x382fbf(_0x1dbba8,_0x2bfd0d(0x86b))};}var Ls=I(require(a0_0x1c3883(0x5f7))),Fs=I(require(a0_0x1c3883(0x3bd))),kt=require(a0_0x1c3883(0x97e)),vi=require('@redis/client'),Dt=require(a0_0x1c3883(0x97e)),Pt;function Po(_0x199fc3){const _0x208a84=a0_0x1c3883;return Pt||(Pt=(0x0,vi[_0x208a84(0x8a8)])({'url':_0x199fc3[_0x208a84(0x866)]}),Pt[_0x208a84(0x68b)]()),Pt;}var ue=class u{constructor(_0x15298b,_0x42ade1){const _0x3b491c=a0_0x1c3883;this[_0x3b491c(0x23c)]=_0x15298b,this['instanceName']=_0x42ade1,this[_0x3b491c(0x23d)]=new $(u['name']),this[_0x3b491c(0x8d0)]=Po(_0x15298b);}set[a0_0x1c3883(0x47b)](_0x4cfef9){const _0x42a144=a0_0x1c3883;this[_0x42a144(0x259)]=_0x4cfef9;}async[a0_0x1c3883(0x85c)](){const _0x30bc50=a0_0x1c3883;try{return await this[_0x30bc50(0x8d0)]['sendCommand']([_0x30bc50(0x835),this['redisEnv'][_0x30bc50(0x46e)]+':*']);}catch(_0x33799a){this['logger'][_0x30bc50(0x61d)](_0x33799a);}}async[a0_0x1c3883(0x4a9)](_0x23edf4,_0x155a22){const _0xffd712=a0_0x1c3883;try{let _0x4d935d=JSON[_0xffd712(0x565)](_0x155a22,Dt['BufferJSON'][_0xffd712(0x7b6)]);return await this['client']['hSet'](this[_0xffd712(0x23c)]['PREFIX_KEY']+':'+this[_0xffd712(0x259)],_0x23edf4,_0x4d935d);}catch(_0x4f3695){this[_0xffd712(0x23d)][_0xffd712(0x61d)](_0x4f3695);}}async['getAllData'](){const _0x596417=a0_0x1c3883;try{let _0xa26086=await this[_0x596417(0x8d0)][_0x596417(0x8d7)](this[_0x596417(0x23c)]['PREFIX_KEY']+':'+this[_0x596417(0x259)]);if(_0xa26086){for(let _0x5ded88 in _0xa26086)Object[_0x596417(0x95c)]['hasOwnProperty']['call'](_0xa26086,_0x5ded88)&&(_0xa26086[_0x5ded88]=JSON[_0x596417(0x298)](_0xa26086[_0x5ded88],Dt[_0x596417(0x63a)][_0x596417(0x415)]));return _0xa26086;}}catch(_0x548483){this['logger']['error'](_0x548483);}}async[a0_0x1c3883(0x7c2)](_0x7b0017){const _0x473b30=a0_0x1c3883;try{let _0x464a18=await this[_0x473b30(0x8d0)][_0x473b30(0x98e)](this['redisEnv'][_0x473b30(0x46e)]+':'+this[_0x473b30(0x259)],_0x7b0017);if(_0x464a18)return JSON['parse'](_0x464a18,Dt[_0x473b30(0x63a)][_0x473b30(0x415)]);}catch(_0x36fb27){this[_0x473b30(0x23d)][_0x473b30(0x61d)](_0x36fb27);}}async[a0_0x1c3883(0x68f)](_0x17b7e8){const _0x39b731=a0_0x1c3883;try{return await this[_0x39b731(0x8d0)]['hDel'](this[_0x39b731(0x23c)][_0x39b731(0x46e)]+':'+this[_0x39b731(0x259)],_0x17b7e8);}catch(_0x2bec5c){this[_0x39b731(0x23d)][_0x39b731(0x61d)](_0x2bec5c);}}async['delAll'](_0x48db5a){const _0xa48916=a0_0x1c3883;try{return await this['client'][_0xa48916(0x846)](_0x48db5a||this[_0xa48916(0x23c)][_0xa48916(0x46e)]+':'+this[_0xa48916(0x259)]);}catch(_0x2a186e){this[_0xa48916(0x23d)][_0xa48916(0x61d)](_0x2a186e);}}};async function Os(_0x456575,_0x280dc0){const _0x58ef6b=a0_0x1c3883;let _0x106be8=new $(Os[_0x58ef6b(0x1f9)]),_0x40ab7f=new ue(_0x456575,_0x280dc0),_0xcc7579=async(_0x425a44,_0x58ac72)=>{const _0x29212f=_0x58ef6b;try{return await _0x40ab7f[_0x29212f(0x4a9)](_0x58ac72,_0x425a44);}catch(_0xe3915f){return _0x106be8[_0x29212f(0x61d)]({'localError':_0x29212f(0x4a9),'error':_0xe3915f});}},_0x3e3b0b=async _0x5bc086=>{const _0x4f0eb8=_0x58ef6b;try{return await _0x40ab7f[_0x4f0eb8(0x7c2)](_0x5bc086);}catch(_0x3fcd64){_0x106be8[_0x4f0eb8(0x61d)]({'readData':_0x4f0eb8(0x4a9),'error':_0x3fcd64});return;}},_0x3501da=async _0x132a6e=>{const _0x2efac6=_0x58ef6b;try{return await _0x40ab7f[_0x2efac6(0x68f)](_0x132a6e);}catch(_0x40a146){_0x106be8[_0x2efac6(0x61d)]({'readData':_0x2efac6(0x68f),'error':_0x40a146});}},_0x2baaf1=await _0x3e3b0b(_0x58ef6b(0x86b))||(0x0,kt[_0x58ef6b(0x692)])();return{'state':{'creds':_0x2baaf1,'keys':{'get':async(_0x22f576,_0x4fb51f)=>{const _0x580191=_0x58ef6b;let _0x17d47e={};return await Promise[_0x580191(0x200)](_0x4fb51f[_0x580191(0x4ac)](async _0x820c72=>{const _0xede711=_0x580191;let _0x270118=await _0x3e3b0b(_0x22f576+'-'+_0x820c72);_0x22f576===_0xede711(0x292)&&_0x270118&&(_0x270118=kt[_0xede711(0x64a)]['Message']['AppStateSyncKeyData']['fromObject'](_0x270118)),_0x17d47e[_0x820c72]=_0x270118;})),_0x17d47e;},'set':async _0x207438=>{const _0x52963a=_0x58ef6b;let _0x4260fa=[];for(let _0x3e7ff6 in _0x207438)for(let _0x1f1f13 in _0x207438[_0x3e7ff6]){let _0x1b5dfa=_0x207438[_0x3e7ff6][_0x1f1f13],_0x2df720=_0x3e7ff6+'-'+_0x1f1f13;_0x4260fa[_0x52963a(0x706)](_0x1b5dfa?await _0xcc7579(_0x1b5dfa,_0x2df720):await _0x3501da(_0x2df720));}await Promise[_0x52963a(0x200)](_0x4260fa);}}},'saveCreds':async()=>await _0xcc7579(_0x2baaf1,_0x58ef6b(0x86b))};}var k=I(require('fs')),Q=require(a0_0x1c3883(0x53a)),Ut=I(require(a0_0x1c3883(0x859))),oe=require(a0_0x1c3883(0x877)),Ei=require('child_process'),Ni=require(a0_0x1c3883(0x8ad)),$i=I(require(a0_0x1c3883(0x86c))),Ee=class extends O{constructor(_0x2d0848,_0x2518b7,_0x42fd3e){const _0x4068a9=a0_0x1c3883;super(_0x2518b7),this[_0x4068a9(0x477)]=_0x2d0848,this[_0x4068a9(0x554)]=_0x2518b7,this['dbConnection']=_0x42fd3e;}async[a0_0x1c3883(0x577)](_0x381190,_0x2b04ae){const _0x496717=a0_0x1c3883;try{if(this[_0x496717(0x485)][_0x496717(0x82d)]){console[_0x496717(0x7f9)]('Creating\x20or\x20updating\x20instance\x20with\x20id:\x20'+_0x2b04ae+_0x496717(0x702),_0x381190);let _0x1e9862=await this[_0x496717(0x477)][_0x496717(0x751)]({'_id':_0x2b04ae},{'$set':_0x381190},{'new':!0x0,'upsert':!0x0});return console[_0x496717(0x7f9)](_0x496717(0x290),_0x1e9862),_0x1e9862;}}catch(_0x6542a5){throw console[_0x496717(0x61d)]('Erro\x20ao\x20atualizar\x20cacheInstance:',_0x6542a5),_0x6542a5;}return null;}async['deleteOne'](_0x14ae35){const _0x5a5918=a0_0x1c3883;try{let _0x55b996=A(_0x14ae35['where']);return{'deletedCount':(await this[_0x5a5918(0x477)][_0x5a5918(0x2af)](_0x55b996))[_0x5a5918(0x40b)]};}catch(_0x552cb4){return{'error':_0x552cb4?.[_0x5a5918(0x25c)]()};}}async[a0_0x1c3883(0x213)](_0x6add4a){const _0x296ff4=a0_0x1c3883;try{let _0x5ede41=A(_0x6add4a['where']);return await this[_0x296ff4(0x477)][_0x296ff4(0x213)](_0x5ede41)['lean']();}catch{return null;}}},Ne=(0x0,Ni[a0_0x1c3883(0x4bb)])(Ei[a0_0x1c3883(0x2bf)]),xs=0x1f4,Do=S[a0_0x1c3883(0x923)](a0_0x1c3883(0x2d1)),Ps=class{constructor(){const _0x2bad85=a0_0x1c3883;this[_0x2bad85(0x961)]=new Ee(We,S),(!this[_0x2bad85(0x246)]||!this['networkInterface'])&&Do&&this[_0x2bad85(0x849)]()[_0x2bad85(0x772)](async()=>{const _0x5afd55=_0x2bad85;console[_0x5afd55(0x7f9)]('IPv6\x20Prefix\x20detected:\x20'+this[_0x5afd55(0x246)]),console[_0x5afd55(0x7f9)]('Network\x20Interface\x20detected:\x20'+this[_0x5afd55(0x755)]),await this[_0x5afd55(0x896)]();let _0x45a7aa=await this[_0x5afd55(0x782)]();console['log'](_0x5afd55(0x40c)+_0x45a7aa);})[_0x2bad85(0x864)](_0x442cf6=>{const _0x283934=_0x2bad85;console[_0x283934(0x61d)](_0x283934(0x5bc)+_0x442cf6[_0x283934(0x535)]);});}async[a0_0x1c3883(0x896)](){const _0x271f1d=a0_0x1c3883;let _0x4906f8=await this['listIPv6Addresses']();if(console[_0x271f1d(0x7f9)](_0x271f1d(0x8c2)+_0x4906f8[_0x271f1d(0x868)]),_0x4906f8[_0x271f1d(0x868)]>xs){let _0xfd50b6=_0x4906f8[_0x271f1d(0x7a4)](xs);for(let _0x381e9d of _0xfd50b6)console[_0x271f1d(0x7f9)](_0x271f1d(0x935)+_0x381e9d),await this[_0x271f1d(0x518)](_0x381e9d);console['log'](_0x271f1d(0x743)+_0xfd50b6[_0x271f1d(0x868)]+_0x271f1d(0x31b));}else console[_0x271f1d(0x7f9)](_0x271f1d(0x8df));}async[a0_0x1c3883(0x4df)](){const _0x1f012b=a0_0x1c3883;try{let {stdout:_0xcce91e}=await Ne('ip\x20-6\x20addr\x20show\x20scope\x20global');return _0xcce91e[_0x1f012b(0x3ac)]('\x0a')[_0x1f012b(0x8cd)](_0x5023d8=>_0x5023d8[_0x1f012b(0x681)](_0x1f012b(0x505))&&_0x5023d8[_0x1f012b(0x681)]('global'))[_0x1f012b(0x4ac)](_0x18d95c=>_0x18d95c['match'](/inet6\s+([a-fA-F0-9:]+)\//)?.[0x1])[_0x1f012b(0x8cd)](Boolean);}catch(_0x4dc04b){return console['error']('Error\x20fetching\x20IPv6\x20addresses:\x20'+_0x4dc04b['message']),[];}}async[a0_0x1c3883(0x782)](){const _0x429156=a0_0x1c3883;try{let {stdout:_0x1b08e0}=await Ne(_0x429156(0x4a0)),_0x4524a0=parseInt(_0x1b08e0[_0x429156(0x987)](),0xa);return console[_0x429156(0x7f9)](_0x429156(0x6b2)+_0x4524a0),_0x4524a0;}catch(_0x3dfd2d){return console[_0x429156(0x61d)]('Error\x20fetching\x20IPv6\x20count:\x20'+_0x3dfd2d[_0x429156(0x535)]),0x0;}}async[a0_0x1c3883(0x518)](_0x59374b){const _0x5e76b8=a0_0x1c3883;try{await Ne(_0x5e76b8(0x583)+_0x59374b+_0x5e76b8(0x7cc)+this[_0x5e76b8(0x755)]),console[_0x5e76b8(0x7f9)](_0x5e76b8(0x24a)+_0x59374b);}catch(_0x2317df){console[_0x5e76b8(0x61d)](_0x5e76b8(0x82f)+_0x2317df['message']);}}async[a0_0x1c3883(0x849)](){const _0x48206f=a0_0x1c3883;try{let {stdout:_0x23256d}=await Ne('ip\x20-br\x20link\x20show');console[_0x48206f(0x7f9)](_0x48206f(0x354)+_0x23256d);let _0xa9808d=_0x23256d[_0x48206f(0x3ac)]('\x0a')[_0x48206f(0x4ac)](_0x236d2f=>_0x236d2f[_0x48206f(0x3ac)]('\x20')[0x0])['filter'](_0x3448d4=>!_0x3448d4['includes']('lo')&&!_0x3448d4[_0x48206f(0x681)](_0x48206f(0x263))&&!_0x3448d4[_0x48206f(0x681)]('vir')&&!_0x3448d4['includes']('wl')&&!_0x3448d4[_0x48206f(0x681)]('@'));if(console[_0x48206f(0x7f9)](_0x48206f(0x8cc)+_0xa9808d),_0xa9808d[_0x48206f(0x868)]===0x0)throw new Error('No\x20suitable\x20network\x20interface\x20found');this[_0x48206f(0x755)]=_0xa9808d[0x0];let {stdout:_0xfab008}=await Ne(_0x48206f(0x380)+this[_0x48206f(0x755)]);console['log'](_0x48206f(0x28c)+_0xfab008);let _0x19888d=_0xfab008[_0x48206f(0x3ac)]('\x0a')[_0x48206f(0x571)](_0x1a22cb=>_0x1a22cb[_0x48206f(0x681)](_0x48206f(0x505))&&_0x1a22cb[_0x48206f(0x681)](_0x48206f(0x3a2)));if(!_0x19888d)throw new Error(_0x48206f(0x972));let _0x292a9b=_0x19888d[_0x48206f(0x483)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x292a9b)throw new Error(_0x48206f(0x7b4));let [_0x4cb190,_0x238ecc,_0x2074d0]=_0x292a9b,_0x15986d=Math[_0x48206f(0x26a)](Number(_0x2074d0)/0x10),_0x4a1b75=Number(_0x2074d0)%0x10,_0x3d0809=_0x238ecc[_0x48206f(0x3ac)](':')[_0x48206f(0x7a4)](0x0,_0x15986d)[_0x48206f(0x25f)](':');if(_0x4a1b75>0x0){let _0x11b0cd=_0x238ecc[_0x48206f(0x3ac)](':')[_0x15986d],_0x1691a7=0xffff<<0x10-_0x4a1b75&0xffff,_0x1aa29b=(parseInt(_0x11b0cd,0x10)&_0x1691a7)[_0x48206f(0x25c)](0x10)['padStart'](0x4,'0');_0x3d0809+=':'+_0x1aa29b;}this['ipv6Prefix']=_0x3d0809+':';}catch(_0x20aca5){console[_0x48206f(0x61d)](_0x48206f(0x38f),_0x20aca5);}}async[a0_0x1c3883(0x884)](_0x508ec3){const _0x7f3ba9=a0_0x1c3883;let _0x57ff10=_0x7f3ba9(0x531)+_0x508ec3+_0x7f3ba9(0x7cc)+this['networkInterface'];try{await Ne(_0x57ff10),console[_0x7f3ba9(0x7f9)](_0x7f3ba9(0x440)+_0x508ec3);}catch(_0x439da2){console[_0x7f3ba9(0x61d)]('Error\x20adding\x20IPv6\x20address:\x20'+_0x439da2);}}['randomMac'](){const _0xd21730=a0_0x1c3883;return _0xd21730(0x694)[_0xd21730(0x7cb)](/X/g,()=>_0xd21730(0x40f)[_0xd21730(0x4bf)](Math['floor'](Math[_0xd21730(0x8b2)]()*0x10)));}[a0_0x1c3883(0x3fd)](_0x4b41b7,_0x46b7fe){const _0x58e8b2=a0_0x1c3883;let _0x455220=_0x46b7fe[_0x58e8b2(0x3ac)](':');return _0x455220[0x0]=(parseInt(_0x455220[0x0],0x10)^0x2)[_0x58e8b2(0x25c)](0x10)[_0x58e8b2(0x7dd)](0x2,'0'),''+_0x4b41b7+_0x455220[0x0]+_0x455220[0x1]+':'+_0x455220[0x2]+_0x58e8b2(0x2f6)+_0x455220[0x3]+':'+_0x455220[0x4]+_0x455220[0x5];}[a0_0x1c3883(0x260)](){const _0x42d7a6=a0_0x1c3883;let _0x73cb34=this[_0x42d7a6(0x246)];_0x73cb34[_0x42d7a6(0x4ff)](':')||(_0x73cb34+=':');let _0x3dbc79=this[_0x42d7a6(0x27b)]();return this['ip6eui'](_0x73cb34,_0x3dbc79);}[a0_0x1c3883(0x54b)](_0xff2083){const _0x563d0d=a0_0x1c3883;return new RegExp('^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$')[_0x563d0d(0x6eb)](_0xff2083);}async['testIPv6'](_0x1d657b){const _0x24f65a=a0_0x1c3883;let _0x567425=[{'url':'https://ipv6.jsonip.com','parse':_0x4f5808=>_0x4f5808['ip']},{'url':_0x24f65a(0x918),'parse':_0x56e38d=>_0x56e38d['ip']},{'url':_0x24f65a(0x3a5),'parse':_0x29cff3=>_0x29cff3['trim']()},{'url':_0x24f65a(0x6a5),'parse':_0xdb9de5=>_0xdb9de5[_0x24f65a(0x987)]()}],_0x2376cf=_0x567425[Math['floor'](Math[_0x24f65a(0x8b2)]()*_0x567425['length'])];try{let _0x59f236=await $i[_0x24f65a(0x460)][_0x24f65a(0x923)](_0x2376cf[_0x24f65a(0x4f8)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x1d657b}}),_0x5802c3=_0x2376cf['parse'](_0x59f236['data']);return _0x5802c3[_0x24f65a(0x25e)]()===_0x1d657b[_0x24f65a(0x25e)]()?(console['log']('IP\x20confirmed:\x20'+_0x1d657b),!0x0):(console[_0x24f65a(0x61d)](_0x24f65a(0x8c1)+_0x1d657b+',\x20received\x20'+_0x5802c3),!0x1);}catch(_0x2c5635){return console['error']('Error\x20testing\x20IP\x20with\x20'+_0x2376cf[_0x24f65a(0x4f8)]+':\x20'+_0x2c5635[_0x24f65a(0x535)]),!0x1;}}async[a0_0x1c3883(0x774)](_0x130e45,_0x2b1e10){const _0x47f03b=a0_0x1c3883;if(!this[_0x47f03b(0x246)]||!this['networkInterface'])return console[_0x47f03b(0x61d)](_0x47f03b(0x705)),null;let _0x32b9e2=await this[_0x47f03b(0x4df)]();if(_0x32b9e2[_0x47f03b(0x868)]>=xs){let _0x1dc12f=_0x32b9e2[Math[_0x47f03b(0x26a)](Math[_0x47f03b(0x8b2)]()*_0x32b9e2[_0x47f03b(0x868)])];return console[_0x47f03b(0x7f9)](_0x47f03b(0x35d)+_0x1dc12f),_0x1dc12f;}let _0x15d81c;do _0x15d81c=this[_0x47f03b(0x260)](),console[_0x47f03b(0x7f9)](_0x47f03b(0x3cd)+_0x15d81c);while(!this[_0x47f03b(0x54b)](_0x15d81c));await this[_0x47f03b(0x884)](_0x15d81c),console[_0x47f03b(0x7f9)]('Configured\x20new\x20IPv6:\x20'+_0x15d81c);let _0x4d4e66={'_id':_0x130e45+'-'+_0x2b1e10,'ip':_0x15d81c},_0x578016=await this[_0x47f03b(0x961)][_0x47f03b(0x577)](_0x4d4e66,_0x4d4e66['_id']);return console[_0x47f03b(0x7f9)](_0x47f03b(0x560)+_0x578016),_0x15d81c;}},ko=new Ps(),Le=ko,Us=a0_0x1c3883(0x489),xi,de=null,xa=null,Lo=0x3,Fo=null,Ri=S[a0_0x1c3883(0x923)](a0_0x1c3883(0x4d8))['API_KEY']['KEY'],Ai=S[a0_0x1c3883(0x923)](a0_0x1c3883(0x2d1));async function Uo(){const _0x34f762=a0_0x1c3883;let _0x135ad8=await ve[_0x34f762(0x213)]();de=_0x135ad8?.['WebhookGlobal']??null,Fo=_0x135ad8?.[_0x34f762(0x949)]??null,Us=_0x135ad8?.['connectedClient']??'Safari',xi=_0x135ad8?.[_0x34f762(0x8c6)]??he??'uazapi';}async function jo(){await Uo();}jo();var Lt={},$e=class u{constructor(_0x33c63a,_0x3676ca,_0x5c2bb3){const _0x1744e1=a0_0x1c3883;this[_0x1744e1(0x554)]=_0x33c63a,this['eventEmitter']=_0x3676ca,this[_0x1744e1(0x89f)]=_0x5c2bb3,this[_0x1744e1(0x426)]={},this[_0x1744e1(0x6cf)]=null,this['logger']=new $(u[_0x1744e1(0x1f9)]),this[_0x1744e1(0x339)]={},this[_0x1744e1(0x60e)]={},this[_0x1744e1(0x84a)]={'state':_0x1744e1(0x8e5)},this[_0x1744e1(0x80e)]=(0x0,j[_0x1744e1(0x25f)])(ne,'downloads'),this[_0x1744e1(0x92b)]=new Fs[(_0x1744e1(0x460))](),this[_0x1744e1(0x3f7)]=new Fs[(_0x1744e1(0x460))](),this[_0x1744e1(0x608)]=!0x1,this['webhookMap']={'status.instance':_0x1744e1(0x387),'connection.update':_0x1744e1(0x387),'qrcode.updated':_0x1744e1(0x334),'messages.upsert':_0x1744e1(0x603),'send.message':_0x1744e1(0x603),'messages.update':_0x1744e1(0x46c),'group.upsert':_0x1744e1(0x21f),'group.update':'/wa-groups','group-participants.update':_0x1744e1(0x21f),'messages.set':_0x1744e1(0x3da),'contacts.set':_0x1744e1(0x646),'contacts.upsert':'/wa-contacts','contacts.update':_0x1744e1(0x646),'presence.update':'/wa-presence','chats.set':_0x1744e1(0x470),'chats.update':_0x1744e1(0x470),'chats.upsert':'/wa-chats','chats.delete':_0x1744e1(0x470)},this[_0x1744e1(0x4d2)]=0x0,this[_0x1744e1(0x851)]=[],this['RECONNECT_TIME_FRAME']=0xea60,this['isRunning']=!0x1,this[_0x1744e1(0x4d5)]={'chats.upsert':async(_0xa47026,_0x49ce61)=>{const _0x2652ca=_0x1744e1;let _0x1cfff5=[];for await(let _0x3e5398 of _0xa47026)_0x1cfff5[_0x2652ca(0x706)]({'_id':_0x3e5398['id'],'owner':this[_0x2652ca(0x339)][_0x2652ca(0x988)],'group':_0x3e5398['id']['endsWith'](_0x2652ca(0x8b8)),'name':_0x3e5398[_0x2652ca(0x1f9)]||_0x3e5398['displayName']||null,'contactname':null,'lastmsg':_0x3e5398[_0x2652ca(0x276)]&&_0x3e5398[_0x2652ca(0x276)]['toString']()['length']<0xd?_0x3e5398[_0x2652ca(0x276)]*0x3e8:_0x3e5398[_0x2652ca(0x276)]||null,'archived':_0x3e5398['archived']||!0x1,'unreadcount':_0x3e5398['unreadCount']||0x0,'ephemeralExpiration':_0x3e5398[_0x2652ca(0x75f)]||0x0});this[_0x2652ca(0x710)](_0x2652ca(0x897),_0x1cfff5);},'chats.update':async(_0x1b2679,_0x5cd21c)=>{const _0x1ffbcc=_0x1744e1;for(let _0x3f80cb of _0x1b2679){let _0x53e408={'_id':_0x3f80cb['id'],'owner':this['instance'][_0x1ffbcc(0x988)],'archived':_0x3f80cb[_0x1ffbcc(0x667)],'muteEndTime':_0x3f80cb[_0x1ffbcc(0x631)],'ephemeralExpiration':_0x3f80cb[_0x1ffbcc(0x75f)]},_0x4fd72d=!0x1,_0x4edc05={};_0x53e408[_0x1ffbcc(0x667)]!=null&&(this[_0x1ffbcc(0x23d)][_0x1ffbcc(0x990)](this[_0x1ffbcc(0x259)]+'\x20('+this[_0x1ffbcc(0x339)][_0x1ffbcc(0x988)]+_0x1ffbcc(0x7c5)+_0x3f80cb['id']+_0x1ffbcc(0x951)+_0x3f80cb['archived']),_0x4fd72d=!0x0,_0x4edc05[_0x1ffbcc(0x667)]=_0x3f80cb['archived']),'muteEndTime'in _0x3f80cb&&(this[_0x1ffbcc(0x23d)][_0x1ffbcc(0x990)](this[_0x1ffbcc(0x259)]+'\x20('+this[_0x1ffbcc(0x339)][_0x1ffbcc(0x988)]+_0x1ffbcc(0x526)+_0x3f80cb['id']+'\x20:\x20'+(_0x3f80cb[_0x1ffbcc(0x631)]??'0')),_0x4fd72d=!0x0,_0x4edc05['muteEndTime']=_0x3f80cb[_0x1ffbcc(0x631)]??0x0),_0x1ffbcc(0x75f)in _0x3f80cb&&(this[_0x1ffbcc(0x23d)][_0x1ffbcc(0x990)](this[_0x1ffbcc(0x259)]+'\x20('+this[_0x1ffbcc(0x339)][_0x1ffbcc(0x988)]+_0x1ffbcc(0x87d)+_0x3f80cb['id']+_0x1ffbcc(0x951)+(_0x3f80cb['ephemeralExpiration']!==void 0x0?_0x3f80cb[_0x1ffbcc(0x75f)]:_0x1ffbcc(0x453))),_0x4edc05['ephemeralExpiration']=_0x3f80cb['ephemeralExpiration']===null?0x0:_0x3f80cb[_0x1ffbcc(0x75f)],_0x4fd72d=!0x0);let _0xa06a2c;_0x4fd72d&&(_0xa06a2c=await this[_0x1ffbcc(0x89f)][_0x1ffbcc(0x874)]['updateOne']({'where':{'_id':_0x3f80cb['id']}},_0x4edc05,this[_0x1ffbcc(0x339)]['wuid'])),_0xa06a2c&&F(this[_0x1ffbcc(0x259)],_0x1ffbcc(0x4e8),{'chat':_0xa06a2c});}},'chats.delete':async _0x93865d=>{const _0x5c208d=_0x1744e1;for(let _0x1b2f7d of _0x93865d)if(_0x1b2f7d[_0x5c208d(0x4ff)](_0x5c208d(0x8b8))){await this[_0x5c208d(0x89f)][_0x5c208d(0x874)][_0x5c208d(0x6c2)]({'where':{'_id':_0x1b2f7d}},this['instance'][_0x5c208d(0x988)]);let _0x40cdce={'where':{'key':{'remoteJid':_0x1b2f7d}}};await this[_0x5c208d(0x89f)][_0x5c208d(0x535)]['delete'](_0x40cdce,this[_0x5c208d(0x339)][_0x5c208d(0x988)]);}else{await this[_0x5c208d(0x89f)][_0x5c208d(0x874)][_0x5c208d(0x3e7)]({'where':{'_id':_0x1b2f7d}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x5c208d(0x339)][_0x5c208d(0x988)]);let _0x17f6ee={'where':{'key':{'remoteJid':_0x1b2f7d}}};await this[_0x5c208d(0x89f)][_0x5c208d(0x535)][_0x5c208d(0x6c2)](_0x17f6ee,this[_0x5c208d(0x339)][_0x5c208d(0x988)]);}this[_0x5c208d(0x710)](_0x5c208d(0x828),[..._0x93865d]);}},this['contactHandle']={'contacts.upsert':async(_0x273225,_0x203134)=>{const _0x39450a=_0x1744e1;let _0x28b075=await this[_0x39450a(0x89f)][_0x39450a(0x788)][_0x39450a(0x571)]({'where':{}},this[_0x39450a(0x339)][_0x39450a(0x988)]),_0x24ed27=[];for await(let _0x4368e6 of _0x273225)_0x28b075[_0x39450a(0x571)](_0x43245e=>_0x43245e[_0x39450a(0x8a0)]===_0x4368e6['id'])||_0x24ed27[_0x39450a(0x706)]({'_id':_0x4368e6['id'],'pushName':_0x4368e6?.['name']||_0x4368e6?.[_0x39450a(0x4be)],'owner':this['instance'][_0x39450a(0x988)]});this[_0x39450a(0x710)]('contacts.upsert',_0x24ed27),await this['repository']['contact'][_0x39450a(0x2ca)](_0x24ed27);},'contacts.update':async(_0x278821,_0x44605a)=>{const _0xa79043=_0x1744e1;let _0x4a2eea=[];for await(let _0x123914 of _0x278821)_0x4a2eea[_0xa79043(0x706)]({'_id':_0x123914['id'],'pushName':_0x123914?.[_0xa79043(0x1f9)]??_0x123914?.['verifiedName'],'owner':this[_0xa79043(0x339)]['wuid']});this[_0xa79043(0x710)]('contacts.update',_0x4a2eea);}},this[_0x1744e1(0x599)]={'messaging-history.set':async({messages:_0x423ace,chats:_0x4b2a66,isLatest:_0x4c1fd0},_0xd0ca27)=>{const _0x5f44cf=_0x1744e1;if(_0x4c1fd0){setTimeout(()=>{const _0x4f24ce=a0_0x6fba;this[_0x4f24ce(0x339)][_0x4f24ce(0x826)]=!0x0,console[_0x4f24ce(0x7f9)](_0x4f24ce(0x3f5));},0x1d4c0);let _0x78b17a=await Promise[_0x5f44cf(0x200)](_0x4b2a66[_0x5f44cf(0x4ac)](async _0x59e2bf=>({'_id':_0x59e2bf['id'],'owner':this['instance'][_0x5f44cf(0x988)],'group':_0x59e2bf['id'][_0x5f44cf(0x4ff)]('@g.us'),'name':_0x59e2bf[_0x5f44cf(0x1f9)]||_0x59e2bf['displayName']||_0x59e2bf['username']||null,'contactname':null,'lastmsg':_0x59e2bf[_0x5f44cf(0x276)]&&_0x59e2bf[_0x5f44cf(0x276)][_0x5f44cf(0x25c)]()[_0x5f44cf(0x868)]<0xd?_0x59e2bf['conversationTimestamp']*0x3e8:_0x59e2bf['conversationTimestamp']||null,'archived':_0x59e2bf[_0x5f44cf(0x667)]||!0x1,'unreadcount':_0x59e2bf[_0x5f44cf(0x507)]||0x0,'ephemeralExpiration':_0x59e2bf[_0x5f44cf(0x75f)]||0x0,'muteEndTime':_0x59e2bf[_0x5f44cf(0x631)]||0x0})));this[_0x5f44cf(0x710)](_0x5f44cf(0x738),_0x78b17a),await this[_0x5f44cf(0x68e)](_0x78b17a,_0xd0ca27);}let _0x3c0ee1=[],_0x326591=Date[_0x5f44cf(0x7e8)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x3a293e]of Object[_0x5f44cf(0x5a0)](_0x423ace)){if(_0x3a293e[_0x5f44cf(0x535)]?.[_0x5f44cf(0x372)]||_0x3a293e[_0x5f44cf(0x535)]?.[_0x5f44cf(0x5bf)]||!_0x3a293e[_0x5f44cf(0x535)]||_0x3a293e['key'][_0x5f44cf(0x8f4)]===_0x5f44cf(0x75a)||(Ls[_0x5f44cf(0x460)][_0x5f44cf(0x258)](_0x3a293e?.['messageTimestamp'])&&(_0x3a293e[_0x5f44cf(0x5ab)]=_0x3a293e['messageTimestamp']?.[_0x5f44cf(0x879)]()),_0x3a293e['messageTimestamp']&&_0x3a293e[_0x5f44cf(0x5ab)]['toString']()[_0x5f44cf(0x868)]<0xd&&(_0x3a293e[_0x5f44cf(0x5ab)]=_0x3a293e[_0x5f44cf(0x5ab)]*0x3e8),_0x3a293e[_0x5f44cf(0x5ab)]<_0x326591))continue;let _0x16e848=(0x0,w[_0x5f44cf(0x797)])(_0x3a293e['message']),_0x1641f2=(0x0,w[_0x5f44cf(0x824)])(_0x16e848),{message_normalized:_0x536eca}=this[_0x5f44cf(0x404)](_0x16e848,_0x1641f2,null);Object[_0x5f44cf(0x835)](_0x536eca)[_0x5f44cf(0x868)]>0x0&&_0x3c0ee1[_0x5f44cf(0x706)]({'_id':_0x3a293e['key']['id'],'key':_0x3a293e[_0x5f44cf(0x205)],'pushName':_0x3a293e[_0x5f44cf(0x733)],'participant':_0x3a293e[_0x5f44cf(0x3fc)],'message':_0x16e848,'messageType':_0x1641f2,'message_normalized':{'key':_0x3a293e[_0x5f44cf(0x205)],'pushName':_0x3a293e[_0x5f44cf(0x733)],'messageTimestamp':_0x3a293e[_0x5f44cf(0x5ab)],..._0x536eca},'messageTimestamp':_0x3a293e[_0x5f44cf(0x5ab)],'owner':this[_0x5f44cf(0x339)][_0x5f44cf(0x988)]});}_0xd0ca27[_0x5f44cf(0x82d)]&&_0x3c0ee1['length']>0x0&&(this[_0x5f44cf(0x23d)][_0x5f44cf(0x990)](this[_0x5f44cf(0x259)]+'\x20('+this[_0x5f44cf(0x339)][_0x5f44cf(0x988)]+_0x5f44cf(0x93d)+_0x3c0ee1[_0x5f44cf(0x868)]+_0x5f44cf(0x35f)+this['instance'][_0x5f44cf(0x988)]+_0x5f44cf(0x42c)),await this['repository']['message'][_0x5f44cf(0x2ca)]([..._0x3c0ee1],this['instance']['wuid']));let _0x460eab=Date[_0x5f44cf(0x7e8)]()-0xa*0x3c*0x3e8;for(let _0x3eeed2 of _0x3c0ee1)if(this['instance'][_0x5f44cf(0x826)]&&_0x3eeed2[_0x5f44cf(0x5ab)]>=_0x460eab){if(this[_0x5f44cf(0x8b6)](this[_0x5f44cf(0x339)][_0x5f44cf(0x988)],_0x3eeed2[_0x5f44cf(0x8a0)])){this['logger'][_0x5f44cf(0x990)](this[_0x5f44cf(0x259)]+'\x20('+this[_0x5f44cf(0x339)][_0x5f44cf(0x988)]+'):\x20[messaging-history.set]\x20mensagem\x20duplicada\x20ignorada\x20(ID:\x20'+_0x3eeed2[_0x5f44cf(0x8a0)]+')');continue;}this[_0x5f44cf(0x322)](this[_0x5f44cf(0x339)][_0x5f44cf(0x988)],_0x3eeed2[_0x5f44cf(0x8a0)]),this[_0x5f44cf(0x710)](_0x5f44cf(0x219),_0x3eeed2);}else this[_0x5f44cf(0x710)](_0x5f44cf(0x223),_0x3eeed2);_0x423ace=void 0x0;},'messages.upsert':async({messages:_0x798ebc,type:_0xe05537},_0x6344a8)=>{const _0x3526f6=_0x1744e1;for(let _0x327684 of _0x798ebc){if(this[_0x3526f6(0x60e)]?.[_0x3526f6(0x74b)]&&_0x327684[_0x3526f6(0x205)]['remoteJid'][_0x3526f6(0x681)](_0x3526f6(0x8b8))){this[_0x3526f6(0x23d)]['verbose'](this[_0x3526f6(0x259)]+'\x20('+this[_0x3526f6(0x339)][_0x3526f6(0x988)]+_0x3526f6(0x708));continue;}if(_0x327684[_0x3526f6(0x205)][_0x3526f6(0x8f4)][_0x3526f6(0x681)](_0x3526f6(0x947))||_0x327684['key'][_0x3526f6(0x8f4)]===_0x3526f6(0x75a))continue;if(_0x327684[_0x3526f6(0x7bb)]&&_0x327684[_0x3526f6(0x7bb)][0x0]===_0x3526f6(0x6d2)){console[_0x3526f6(0x61d)]('[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação'),await this['fakeReceived'](_0x327684),Lt[_0x327684[_0x3526f6(0x205)]['id']]=_0x327684,this[_0x3526f6(0x3e9)](_0x327684,0x0);continue;}if(_0xe05537!==_0x3526f6(0x98d)||!_0x327684?.[_0x3526f6(0x535)]||_0x327684['message']?.[_0x3526f6(0x372)]||_0x327684[_0x3526f6(0x535)]?.[_0x3526f6(0x5bf)])continue;let _0xdb1b46=null,_0x543bd1=null;if(Lt[_0x327684[_0x3526f6(0x205)]['id']]&&(console[_0x3526f6(0x61d)](_0x3526f6(0x780)),await this[_0x3526f6(0x89f)][_0x3526f6(0x7c0)][_0x3526f6(0x6c2)]({'where':{'_id':_0x327684[_0x3526f6(0x205)]['id']}}),delete Lt[_0x327684['key']['id']]),this['isMessageProcessed'](this[_0x3526f6(0x339)]['wuid'],_0x327684[_0x3526f6(0x205)]['id'])){this[_0x3526f6(0x23d)][_0x3526f6(0x990)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3526f6(0x985));continue;}this[_0x3526f6(0x322)](this['instance'][_0x3526f6(0x988)],_0x327684[_0x3526f6(0x205)]['id']);try{_0xdb1b46=await this[_0x3526f6(0x2f4)](_0x327684),_0x543bd1=_0xdb1b46?_0xdb1b46[_0x3526f6(0x25f)](','):null;}catch(_0x3331d7){this[_0x3526f6(0x23d)][_0x3526f6(0x990)](this[_0x3526f6(0x259)]+'\x20('+this[_0x3526f6(0x339)][_0x3526f6(0x988)]+_0x3526f6(0x93d)+(_0x3331d7 instanceof Error?_0x3331d7[_0x3526f6(0x535)]:JSON[_0x3526f6(0x565)](_0x3331d7,null,0x2))),_0x543bd1=_0x3526f6(0x58d);}this[_0x3526f6(0x8d0)][_0x3526f6(0x225)](_0x3526f6(0x83f)),Ls[_0x3526f6(0x460)][_0x3526f6(0x258)](_0x327684[_0x3526f6(0x5ab)])&&(_0x327684['messageTimestamp']=_0x327684[_0x3526f6(0x5ab)]?.[_0x3526f6(0x879)]()),_0x327684[_0x3526f6(0x5ab)]&&_0x327684[_0x3526f6(0x5ab)][_0x3526f6(0x25c)]()[_0x3526f6(0x868)]<0xd&&(_0x327684['messageTimestamp']=_0x327684[_0x3526f6(0x5ab)]*0x3e8);let _0x418fa2=_0x327684['message'],_0x183816=(0x0,w[_0x3526f6(0x797)])(_0x418fa2),_0x457e32=(0x0,w['getContentType'])(_0x183816),{messageContent:_0x558616,message_normalized:_0x2213b7}=this['normalizeMessage'](_0x183816,_0x457e32,_0x543bd1);if(_0x457e32===_0x3526f6(0x372)&&_0x558616?.[_0x3526f6(0x49e)]&&(_0x457e32=_0x3526f6(0x49e)),_0x457e32===_0x3526f6(0x31c)&&_0x327684['key']['fromMe'])continue;let _0x307307,_0x4cce91=_0x327684[_0x3526f6(0x205)][_0x3526f6(0x8f4)][_0x3526f6(0x4ff)](_0x3526f6(0x8b8));if(_0x327684[_0x3526f6(0x205)][_0x3526f6(0x75e)])_0x307307=this[_0x3526f6(0x339)][_0x3526f6(0x508)];else{let _0x5c6c37=_0x4cce91?_0x327684[_0x3526f6(0x205)][_0x3526f6(0x3fc)]:_0x327684[_0x3526f6(0x205)]['remoteJid'];_0x307307=(await this[_0x3526f6(0x3e3)](_0x5c6c37,_0x327684[_0x3526f6(0x733)],!0x1))['cachedContact'][_0x3526f6(0x6b4)];}let _0x560602={'_id':_0x327684[_0x3526f6(0x205)]['id'],'key':_0x327684[_0x3526f6(0x205)],'isGroup':_0x4cce91,'profilePictureUrl':_0x307307,'pushName':_0x327684[_0x3526f6(0x733)],'message':_0x183816,'messageType':_0x457e32,'message_normalized':{'key':_0x327684[_0x3526f6(0x205)],'pushName':_0x327684['pushName'],'messageTimestamp':_0x327684['messageTimestamp'],'source':(0x0,w[_0x3526f6(0x90d)])(_0x327684[_0x3526f6(0x205)]['id']),..._0x2213b7},'messageTimestamp':_0x327684[_0x3526f6(0x5ab)],'owner':this[_0x3526f6(0x339)]['wuid'],'source':(0x0,w['getDevice'])(_0x327684[_0x3526f6(0x205)]['id']),'expiration':_0x558616?.[_0x3526f6(0x67b)]?.[_0x3526f6(0x50a)]||0x0};if(!_0x558616){if(_0x2213b7['type']==='conversation')return;this['logger'][_0x3526f6(0x61d)](_0x3526f6(0x7d1)),this[_0x3526f6(0x23d)][_0x3526f6(0x61d)](_0x560602);}if(_0x2213b7[_0x3526f6(0x931)]===_0x3526f6(0x41f)){console[_0x3526f6(0x61d)](_0x3526f6(0x7ac)),await this[_0x3526f6(0x56e)](_0x327684);continue;}this['logger'][_0x3526f6(0x7f9)](this['instanceName']+'\x20('+this[_0x3526f6(0x339)][_0x3526f6(0x988)]+_0x3526f6(0x93d)+(_0x560602[_0x3526f6(0x205)]?.[_0x3526f6(0x75e)]?_0x3526f6(0x411):_0x3526f6(0x887))+'\x20['+_0x560602[_0x3526f6(0x205)]?.['remoteJid']['replace'](_0x3526f6(0x67c),'')+_0x3526f6(0x574)+_0x560602[_0x3526f6(0x2be)]+')'),_0x560602['message_normalized']?.[_0x3526f6(0x931)]&&this[_0x3526f6(0x23d)][_0x3526f6(0x7f9)](_0x327684[_0x3526f6(0x205)]['id']+':\x20'+_0x560602[_0x3526f6(0x30d)]?.[_0x3526f6(0x931)]),await this[_0x3526f6(0x89f)]['message'][_0x3526f6(0x2ca)]([_0x560602],this['instance'][_0x3526f6(0x988)]),this[_0x3526f6(0x710)](_0x3526f6(0x219),_0x560602),F(this[_0x3526f6(0x259)],_0x3526f6(0x73d),{'message':_0x560602}),_0x327684['key'][_0x3526f6(0x8f4)]!==_0x3526f6(0x75a)&&await this['updateChatWithMessage'](_0x6344a8,_0x560602,_0x3526f6(0x969));}},'messages.update':async(_0x244b1d,_0x26a391)=>{const _0x464c3f=_0x1744e1;let _0x323e42={0x0:_0x464c3f(0x588),0x1:'PENDING',0x2:_0x464c3f(0x77b),0x3:'DELIVERY_ACK',0x4:_0x464c3f(0x929),0x5:_0x464c3f(0x998)};for await(let {key:_0x358c39,update:_0x354e01}of _0x244b1d){if(this[_0x464c3f(0x60e)]?.['groups_ignore']&&_0x358c39['remoteJid']['includes']('@g.us')){this['logger'][_0x464c3f(0x990)](this[_0x464c3f(0x259)]+'\x20('+this[_0x464c3f(0x339)]['wuid']+_0x464c3f(0x612));return;}if(_0x358c39[_0x464c3f(0x8f4)]!=='status@broadcast'){let _0x4b9b36=Date['now'](),_0x1e54c8;_0x354e01[_0x464c3f(0x535)]===null&&_0x354e01['status']===void 0x0?_0x1e54c8=_0x464c3f(0x302):_0x1e54c8=_0x323e42[_0x354e01[_0x464c3f(0x914)]];let _0x3ed2ff=_0x358c39[_0x464c3f(0x8f4)][_0x464c3f(0x7cb)](/:\d{1,2}@/g,'@'),_0x2345df={..._0x358c39,'remoteJid':_0x3ed2ff,'status':_0x1e54c8,'datetime':_0x4b9b36,'owner':this['instance'][_0x464c3f(0x988)]};this[_0x464c3f(0x710)](_0x464c3f(0x594),_0x2345df),await this[_0x464c3f(0x697)](_0x358c39,_0x2345df);}}},'labels.association':async({type:_0x3832e6,association:_0x5edda4})=>{const _0x309a32=_0x1744e1;if(_0x5edda4[_0x309a32(0x52b)]===_0x309a32(0x23e)){let _0x17ea1d,_0xca578d=0x0;for(;!_0x17ea1d&&_0xca578d<this['delayChatLabel_MAX_RETRIES'];)_0x17ea1d=await this[_0x309a32(0x89f)]['chat'][_0x309a32(0x213)]({'where':{'_id':_0x5edda4[_0x309a32(0x997)]}},this['instance'][_0x309a32(0x988)]),_0x17ea1d||(_0xca578d++,this[_0x309a32(0x23d)][_0x309a32(0x495)](this[_0x309a32(0x259)]+'\x20('+this[_0x309a32(0x339)][_0x309a32(0x988)]+_0x309a32(0x5db)+_0x5edda4[_0x309a32(0x997)]+_0x309a32(0x713)+this['delayChatLabel_RETRY_DELAY_MS']+_0x309a32(0x546)+_0xca578d+'/'+this[_0x309a32(0x480)]+')'),await this[_0x309a32(0x88e)](this[_0x309a32(0x2cd)]));if(!_0x17ea1d){this[_0x309a32(0x23d)][_0x309a32(0x61d)](_0x309a32(0x209)+_0x5edda4['chatId']+'\x20depois\x20'+this[_0x309a32(0x480)]+'\x20tentativas.');return;}switch(_0x3832e6){case _0x309a32(0x3ca):console['log'](_0x5edda4),await this[_0x309a32(0x89f)][_0x309a32(0x874)][_0x309a32(0x3e7)]({'where':{'_id':_0x5edda4[_0x309a32(0x997)]}},{'leadInfo.etiquetas':_0x5edda4['labelId']},this[_0x309a32(0x339)][_0x309a32(0x988)],void 0x0,_0x309a32(0x3f2));break;case _0x309a32(0x5d1):console[_0x309a32(0x7f9)](_0x5edda4),await this['repository'][_0x309a32(0x874)][_0x309a32(0x3e7)]({'where':{'_id':_0x5edda4[_0x309a32(0x997)]}},{'leadInfo.etiquetas':_0x5edda4[_0x309a32(0x609)]},this[_0x309a32(0x339)][_0x309a32(0x988)],void 0x0,'$pull');break;default:this[_0x309a32(0x23d)][_0x309a32(0x61d)](_0x309a32(0x59d)+_0x3832e6+']');}}},'labels.edit':async _0x452e66=>{const _0x4a3976=_0x1744e1;if(!_0x452e66||!_0x452e66['id']){this[_0x4a3976(0x23d)]['error']('Rótulo\x20inválido\x20ou\x20sem\x20ID.');return;}if(!_0x452e66[_0x4a3976(0x528)]){let _0x2674f5=[_0x4a3976(0x750),_0x4a3976(0x3a4),_0x4a3976(0x4e5),'#dfaef0','#9ab6c1',_0x4a3976(0x475),_0x4a3976(0x82a),_0x4a3976(0x3c2),_0x4a3976(0x7f6),_0x4a3976(0x382),_0x4a3976(0x983),_0x4a3976(0x5d7),_0x4a3976(0x501),_0x4a3976(0x314),_0x4a3976(0x2ee),'#83e421',_0x4a3976(0x34f),_0x4a3976(0x59f),_0x4a3976(0x318),_0x4a3976(0x664)],_0x317d7b;typeof _0x452e66[_0x4a3976(0x993)]==_0x4a3976(0x418)&&_0x452e66[_0x4a3976(0x993)]>=0x0&&_0x452e66[_0x4a3976(0x993)]<_0x2674f5[_0x4a3976(0x868)]?_0x317d7b=_0x2674f5[_0x452e66[_0x4a3976(0x993)]]:(this[_0x4a3976(0x23d)][_0x4a3976(0x61d)](_0x4a3976(0x810)+_0x452e66[_0x4a3976(0x993)]),_0x317d7b=_0x4a3976(0x3e1));let _0x1d818b={'_id':_0x452e66['id'],'colorHex':_0x317d7b,'color':_0x452e66?.[_0x4a3976(0x993)],'name':_0x452e66?.['name'],'owner':this['instance'][_0x4a3976(0x988)]};await this[_0x4a3976(0x89f)]['label']['updateOne']({'where':{'_id':_0x452e66['id']}},_0x1d818b,this['instance'][_0x4a3976(0x988)]),this[_0x4a3976(0x23d)][_0x4a3976(0x495)](this[_0x4a3976(0x259)]+'\x20('+this[_0x4a3976(0x339)][_0x4a3976(0x988)]+_0x4a3976(0x300)+_0x452e66);}_0x452e66[_0x4a3976(0x528)]&&(await this['repository']['label'][_0x4a3976(0x6c2)]({'where':{'_id':_0x452e66['id']}},this[_0x4a3976(0x339)][_0x4a3976(0x988)]),this[_0x4a3976(0x23d)][_0x4a3976(0x495)](_0x4a3976(0x296)+_0x452e66['id']));}},this['groupHandler']={'groups.upsert':async _0x2c242a=>{const _0x5ec326=_0x1744e1;this[_0x5ec326(0x60e)]?.[_0x5ec326(0x74b)]||this[_0x5ec326(0x710)]('groups.upsert',_0x2c242a);for(let _0x158d59 of _0x2c242a)await this[_0x5ec326(0x69d)](_0x158d59);},'groups.update':async _0x52817a=>{const _0x455e5c=_0x1744e1;this[_0x455e5c(0x60e)]?.['groups_ignore']||this[_0x455e5c(0x710)](_0x455e5c(0x89b),_0x52817a);for(let _0x5a824c of _0x52817a)await this[_0x455e5c(0x69d)](_0x5a824c);},'group-participants.update':async _0x10e32c=>{const _0x3e933d=_0x1744e1;this[_0x3e933d(0x60e)]?.[_0x3e933d(0x74b)]||this[_0x3e933d(0x710)](_0x3e933d(0x6db),_0x10e32c),await this['updateGroupParticipantsWebhook'](_0x10e32c);}},this[_0x1744e1(0x480)]=0x5,this[_0x1744e1(0x2cd)]=0x1388,this[_0x1744e1(0x5d2)]=0x0,this[_0x1744e1(0x2f4)]=async _0x2d920c=>{const _0x4e9946=_0x1744e1;if(_0x2d920c['message']?.[_0x4e9946(0x96e)]){let _0x1a413e=await this[_0x4e9946(0x575)](_0x2d920c[_0x4e9946(0x535)]['pollUpdateMessage']['pollCreationMessageKey'],!0x0);if(_0x1a413e){let _0x296ee0=_0x1a413e[_0x4e9946(0x205)][_0x4e9946(0x75e)]?this['instance'][_0x4e9946(0x988)]+_0x4e9946(0x67c):_0x1a413e['key'][_0x4e9946(0x3fc)]||_0x1a413e[_0x4e9946(0x205)][_0x4e9946(0x8f4)],_0x287abd=_0x1a413e[_0x4e9946(0x205)]['id'],_0x454b28=_0x1a413e[_0x4e9946(0x535)],_0x3fdeb3=Buffer[_0x4e9946(0x422)](_0x454b28[_0x4e9946(0x94e)][_0x4e9946(0x396)][_0x4e9946(0x25c)](_0x4e9946(0x5f4)),_0x4e9946(0x5f4)),_0x43e04b=(0x0,w[_0x4e9946(0x4cc)])(_0x2d920c[_0x4e9946(0x535)][_0x4e9946(0x96e)][_0x4e9946(0x2ae)],{'pollCreatorJid':_0x296ee0,'pollMsgId':_0x287abd,'pollEncKey':_0x3fdeb3,'voterJid':_0x2d920c[_0x4e9946(0x205)]['fromMe']?this[_0x4e9946(0x339)][_0x4e9946(0x988)]+_0x4e9946(0x67c):_0x2d920c[_0x4e9946(0x205)][_0x4e9946(0x8f4)][_0x4e9946(0x4ff)](_0x4e9946(0x48b))?_0x2d920c[_0x4e9946(0x205)]['participant']:_0x2d920c[_0x4e9946(0x205)][_0x4e9946(0x8f4)]}),_0x4ce50d=[],_0x1872e9=_0x43e04b['selectedOptions'][_0x4e9946(0x4ac)](_0x2ae94c=>Buffer[_0x4e9946(0x422)](_0x2ae94c)['toString']('hex'));for(let {optionName:_0x472d0e}of _0x454b28[_0x4e9946(0x81d)]?.[_0x4e9946(0x33e)]||_0x454b28[_0x4e9946(0x2c3)]?.[_0x4e9946(0x33e)]||_0x454b28[_0x4e9946(0x757)]?.[_0x4e9946(0x33e)])_0x1872e9[_0x4e9946(0x7ad)]((0x0,w[_0x4e9946(0x7cd)])(Buffer[_0x4e9946(0x422)](_0x472d0e))[_0x4e9946(0x25c)](_0x4e9946(0x5f4)))>-0x1&&_0x4ce50d[_0x4e9946(0x706)](_0x472d0e);return _0x4ce50d;}}return null;},this[_0x1744e1(0x404)]=(_0x46a82d,_0x2bc934,_0xbfeea4)=>{const _0x1ca629=_0x1744e1;try{let _0x4c1774=_0x46a82d?(0x0,w[_0x1ca629(0x865)])(_0x46a82d)[_0x2bc934]:void 0x0,_0x41b84c={},_0x3bb9ab=null,_0x15ba6b=null,_0x264f00=null,_0x1d75f4=null;_0x2bc934===_0x1ca629(0x372)&&_0x4c1774?.[_0x1ca629(0x49e)]&&(_0x2bc934=(0x0,w[_0x1ca629(0x824)])(_0x4c1774[_0x1ca629(0x49e)]),_0x3bb9ab=_0x46a82d[_0x1ca629(0x372)]['key']['id'],_0x4c1774=_0x46a82d[_0x1ca629(0x372)][_0x1ca629(0x49e)][_0x2bc934]),_0x46a82d[_0x2bc934]?.[_0x1ca629(0x67b)]?.[_0x1ca629(0x7c8)]&&_0x46a82d[_0x2bc934]?.[_0x1ca629(0x67b)]?.['quotedMessage']&&(_0x15ba6b=_0x46a82d[_0x2bc934][_0x1ca629(0x67b)][_0x1ca629(0x7c8)]),_0x46a82d[_0x1ca629(0x77e)]&&(_0x264f00=_0x46a82d[_0x1ca629(0x77e)]['key']['id']);let _0x2e3682;if(_0x4c1774&&typeof _0x4c1774==_0x1ca629(0x20d)&&_0x1ca629(0x527)in _0x4c1774&&({pollCreationMessageKey:_0x2e3682}=_0x4c1774),_0x2bc934==='pollCreationMessage'||_0x2bc934===_0x1ca629(0x757)||_0x2bc934===_0x1ca629(0x2c3)){let _0x5c18b1=_0x4c1774[_0x1ca629(0x33e)][_0x1ca629(0x4ac)](_0xac8e41=>_0xac8e41[_0x1ca629(0x752)])['join']('|');_0x41b84c[_0x1ca629(0x4a4)]=_0x5c18b1;}if(_0x2bc934==='interactiveMessage'){let _0xb8476d=_0x4c1774[_0x1ca629(0x7b0)][_0x1ca629(0x20b)]['map'](_0xaff51b=>JSON['parse'](_0xaff51b[_0x1ca629(0x8aa)])[_0x1ca629(0x626)])['join']('|');_0x41b84c[_0x1ca629(0x4a4)]=_0xb8476d;}_0x2bc934==='listResponseMessage'&&(_0x41b84c[_0x1ca629(0x2b2)]=_0x4c1774?.[_0x1ca629(0x2a6)]?.[_0x1ca629(0x745)]);let _0x212240='';if(_0x4c1774&&(_0x212240+=_0x4c1774[_0x1ca629(0x1f9)]?_0x4c1774[_0x1ca629(0x1f9)]:'',_0x212240+=_0x4c1774[_0x1ca629(0x639)]?'\x20'+_0x4c1774[_0x1ca629(0x639)]:'',_0x212240+=_0x4c1774[_0x1ca629(0x29f)]?'\x20'+_0x4c1774[_0x1ca629(0x29f)]:'',_0x212240+=_0x4c1774[_0x1ca629(0x425)]?'\x20'+_0x4c1774['displayName']:'',_0x2bc934!=='interactiveResponseMessage'&&(_0x212240+=_0x4c1774[_0x1ca629(0x347)]?.[_0x1ca629(0x931)]?'\x20'+_0x4c1774[_0x1ca629(0x347)][_0x1ca629(0x931)]:''),_0x212240+=_0x4c1774?.[_0x1ca629(0x82e)]?.[_0x1ca629(0x931)]?'\x20'+_0x4c1774?.['footer']?.['text']:''),_0x2bc934===_0x1ca629(0x5dc)){_0x212240=(_0x4c1774[_0x1ca629(0x29d)]||'')+'\x0a'+(_0x4c1774[_0x1ca629(0x4c6)]||'')+'\x0a'+(_0x4c1774[_0x1ca629(0x840)]||'');let _0x4b5fb8=this[_0x1ca629(0x5c9)](_0x4c1774[_0x1ca629(0x64b)]);_0x41b84c[_0x1ca629(0x4a4)]=_0x4b5fb8;}if(_0x2bc934===_0x1ca629(0x6ea)&&(_0xbfeea4=_0x4c1774[_0x1ca629(0x29d)],_0x1d75f4=_0x4c1774?.[_0x1ca629(0x2a6)]?.['selectedRowId']),_0x2bc934===_0x1ca629(0x58c)){let _0x329146=_0x4c1774?.[_0x1ca629(0x520)];_0x329146&&_0x329146['name']===_0x1ca629(0x39d)&&(_0x1d75f4=JSON['parse'](_0x329146[_0x1ca629(0x332)])['id']),_0xbfeea4=_0x4c1774?.[_0x1ca629(0x347)]?.[_0x1ca629(0x931)];}if(_0x2bc934===_0x1ca629(0x5cf)&&(_0xbfeea4=_0x4c1774?.[_0x1ca629(0x2bd)],_0x1d75f4=_0x4c1774?.[_0x1ca629(0x790)]),_0x2bc934===_0x1ca629(0x83b)&&(_0xbfeea4=_0x4c1774?.[_0x1ca629(0x2bd)],_0x1d75f4=_0x4c1774?.[_0x1ca629(0x253)]),_0x4c1774&&_0x4c1774[_0x1ca629(0x406)]){let _0x5b0770=this[_0x1ca629(0x3ed)](JSON['stringify'](_0x4c1774[_0x1ca629(0x406)],null,0x2));_0x212240=_0x212240+'\x0a'+_0x5b0770;}if(_0x4c1774){let {selectedButtonId:_0x3b4155,nativeFlowResponseMessage:_0x4ab689,selectedId:_0xdf7476,selectedDisplayText:_0x37f3c7,selectedIndex:_0x2e4da1,body:_0x9c7205,nativeFlowMessage:_0x4e5c5e,singleSelectReply:_0x258602,sections:_0x24ae8d,listType:_0x54a9ac,displayName:_0x4ca274,vcard:_0x553b27,contactVcard:_0x492533,name:_0x420009,caption:_0x29ebad,conversation:_0x390b56,pollCreationMessageKey:_0x5a85fa,footerText:_0x411b60,contentText:_0x454e7e,pageCount:_0x677c3d,headerType:_0x4a310d,isAvatar:_0x309712,isAnimated:_0x39687d,fallbackLc:_0x4a50d6,fallbackLg:_0x23d355,namespace:_0x5b0cd7,elementName:_0xfa0f5c,localizableParams:_0x561f88,viewOnce:_0x8557cb,height:_0xd4b4b3,width:_0x259bea,key:_0x5f5286,firstScanLength:_0x32387c,firstScanSidecar:_0x4ee1f1,gifPlayback:_0x563e44,gifAttribution:_0x5e0b62,midQualityFileSha256:_0x5a7cd5,scansSidecar:_0x51c4b7,streamingSidecar:_0x2ca093,thumbnailHeight:_0x141194,thumbnailWidth:_0x4d727a,thumbnailEncSha256:_0x20f7da,thumbnailDirectPath:_0x3b61c2,canonicalUrl:_0x37195c,matchedText:_0x28b161,previewType:_0x5ac749,thumbnailSha256:_0x25cf3b,deviceListMetadataVersion:_0x104670,inviteLinkGroupTypeV2:_0x5b6b01,interactiveAnnotations:_0x3b0387,scanLengths:_0x58ffff,jpegThumbnail:_0x2e36ba,url:_0x31bf33,mediaKeyTimestamp:_0x2455a2,waveform:_0x569337,stickerSentTs:_0x3b5982,firstFrameLength:_0x13325e,fileEncSha256:_0x1b89ae,contextInfo:_0x34374c,firstFrameSidecar:_0x4c6274,directPath:_0x3b7a27,fileSha256:_0x11b545,mediaKey:_0x3298be,senderTimestampMs:_0x2ab5f8,..._0x16fbf5}=_0x4c1774;(_0x2bc934==='listMessage'||_0x2bc934===_0x1ca629(0x6ea))&&(delete _0x16fbf5['title'],delete _0x16fbf5[_0x1ca629(0x4c6)]),typeof _0x4c1774=='string'?_0x41b84c={'text':_0x4c1774,'type':_0x2bc934||_0x1ca629(0x29f),..._0x3bb9ab&&{'edited':_0x3bb9ab},..._0x15ba6b&&{'quoted':_0x15ba6b},..._0x264f00&&{'reaction':_0x264f00}}:_0x41b84c={'text':_0x212240,..._0x16fbf5,..._0x2bc934===_0x1ca629(0x96e)?{'poll_id':_0x4c1774[_0x1ca629(0x527)]['id'],'quoted':_0x4c1774[_0x1ca629(0x527)]['id'],'vote':_0xbfeea4}:{},..._0x2bc934==='listResponseMessage'?{'buttonOrList_id':_0x1d75f4,'vote':_0xbfeea4}:{},..._0x2bc934===_0x1ca629(0x58c)?{'buttonOrList_id':_0x1d75f4,'vote':_0xbfeea4}:{},..._0x2bc934==='templateButtonReplyMessage'?{'buttonOrList_id':_0x1d75f4,'vote':_0xbfeea4}:{},..._0x2bc934==='buttonsResponseMessage'?{'buttonOrList_id':_0x1d75f4,'vote':_0xbfeea4}:{},'type':_0x2bc934,..._0x3bb9ab&&{'edited':_0x3bb9ab},..._0x15ba6b&&{'quoted':_0x15ba6b},..._0x264f00&&{'reaction':_0x264f00},...(_0x2bc934===_0x1ca629(0x81d)||_0x2bc934==='pollCreationMessageV2'||_0x2bc934===_0x1ca629(0x2c3)||_0x2bc934===_0x1ca629(0x5dc)||_0x2bc934===_0x1ca629(0x31c))&&{'convertedOptions':_0x41b84c[_0x1ca629(0x4a4)]}};}return{'messageType':_0x2bc934,'messageContent':_0x4c1774,'message_normalized':_0x41b84c};}catch(_0x5a9ed0){return this['logger']['error'](_0x1ca629(0x3cc)+_0x5a9ed0),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x1744e1(0x3a9)]=[],(this[_0x1744e1(0x8db)](),this[_0x1744e1(0x3b7)](),this['instance'][_0x1744e1(0x826)]=!0x0,this['instance'][_0x1744e1(0x26f)]={'count':0x0},this[_0x1744e1(0x339)][_0x1744e1(0x33f)]={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}[a0_0x1c3883(0x322)](_0x2c0683,_0x1d2d84){const _0x2bc7ce=a0_0x1c3883;this[_0x2bc7ce(0x426)][_0x2c0683]||(this['processedMessagesCache'][_0x2c0683]=new Set()),this['processedMessagesCache'][_0x2c0683][_0x2bc7ce(0x3ca)](_0x1d2d84),setTimeout(()=>this[_0x2bc7ce(0x426)][_0x2c0683][_0x2bc7ce(0x6c2)](_0x1d2d84),0x2710);}[a0_0x1c3883(0x8b6)](_0x51154b,_0x5bb22f){const _0x2346ce=a0_0x1c3883;return this['processedMessagesCache'][_0x51154b]?.[_0x2346ce(0x59b)](_0x5bb22f)??!0x1;}set[a0_0x1c3883(0x259)](_0x26581){const _0x141a4d=a0_0x1c3883;if(!_0x26581){this[_0x141a4d(0x339)][_0x141a4d(0x1f9)]=(0x0,Ti['v4'])();return;}this[_0x141a4d(0x339)][_0x141a4d(0x1f9)]=_0x26581,this['sendDataWebhook'](_0x141a4d(0x8c7),{'instance':this[_0x141a4d(0x339)][_0x141a4d(0x1f9)],'status':_0x141a4d(0x20e)});}get[a0_0x1c3883(0x259)](){const _0x4832d5=a0_0x1c3883;return this[_0x4832d5(0x339)][_0x4832d5(0x1f9)];}get[a0_0x1c3883(0x988)](){const _0xe375b0=a0_0x1c3883;return this['instance'][_0xe375b0(0x988)];}async['getProfileName'](){const _0x16eb19=a0_0x1c3883;let _0xe3d49b=this[_0x16eb19(0x8d0)]['user']?.[_0x16eb19(0x1f9)]??this['client']['user']?.[_0x16eb19(0x4be)];if(!_0xe3d49b){if(this[_0x16eb19(0x554)]['get']('DATABASE')[_0x16eb19(0x82d)]){let _0x8bcfa1=await T[_0x16eb19(0x4b5)]()['db'](this[_0x16eb19(0x554)][_0x16eb19(0x923)](_0x16eb19(0x844))['CONNECTION']['DB_PREFIX_NAME']+_0x16eb19(0x3f8))['collection'](this[_0x16eb19(0x259)])['findOne']({'_id':_0x16eb19(0x86b)});if(_0x8bcfa1){let _0x54aac6=JSON[_0x16eb19(0x298)](JSON[_0x16eb19(0x565)](_0x8bcfa1),w['BufferJSON'][_0x16eb19(0x415)]);_0xe3d49b=_0x54aac6['me']?.[_0x16eb19(0x1f9)]||_0x54aac6['me']?.[_0x16eb19(0x4be)];}}else{if((0x0,Fe[_0x16eb19(0x6ad)])((0x0,j[_0x16eb19(0x25f)])(be,this['instanceName'],'creds.json'))){let _0x9f4ba4=JSON[_0x16eb19(0x298)]((0x0,Fe[_0x16eb19(0x6e4)])((0x0,j[_0x16eb19(0x25f)])(be,this[_0x16eb19(0x259)],_0x16eb19(0x945)),{'encoding':_0x16eb19(0x539)}));_0xe3d49b=_0x9f4ba4['me']?.[_0x16eb19(0x1f9)]||_0x9f4ba4['me']?.['verifiedName'];}}}return _0xe3d49b;}get[a0_0x1c3883(0x508)](){const _0xb9cc37=a0_0x1c3883;return this['instance'][_0xb9cc37(0x508)];}async[a0_0x1c3883(0x37f)](){const _0x5034b4=a0_0x1c3883;let _0x3609bf=this[_0x5034b4(0x339)]['wuid']+_0x5034b4(0x67c);try{await this[_0x5034b4(0x8d0)]['getBusinessProfile'](_0x3609bf)?this['instance'][_0x5034b4(0x545)]=!0x0:this[_0x5034b4(0x339)][_0x5034b4(0x545)]=!0x1;}catch{this[_0x5034b4(0x339)]['isBusiness']=!0x1;}return this[_0x5034b4(0x23d)][_0x5034b4(0x495)](this['instanceName']+'\x20('+this[_0x5034b4(0x339)][_0x5034b4(0x988)]+_0x5034b4(0x876)+this['instance'][_0x5034b4(0x545)]),this['instance']['isBusiness'];}get['qrCode'](){const _0xeb2465=a0_0x1c3883;return this['instance'][_0xeb2465(0x826)]=!0x1,this[_0xeb2465(0x339)][_0xeb2465(0x26f)]?.['pairingCode']?{'pairingCode':this[_0xeb2465(0x339)][_0xeb2465(0x26f)]?.['pairingCode']}:{'code':this[_0xeb2465(0x339)][_0xeb2465(0x26f)]?.['code'],'base64':this[_0xeb2465(0x339)][_0xeb2465(0x26f)]?.['base64']};}async['loadWebhook'](){const _0x14f83e=a0_0x1c3883;let _0x1c9c89=await this[_0x14f83e(0x89f)][_0x14f83e(0x5f3)][_0x14f83e(0x571)](this[_0x14f83e(0x259)]);this[_0x14f83e(0x60e)][_0x14f83e(0x4f8)]=_0x1c9c89?.[_0x14f83e(0x4f8)],this[_0x14f83e(0x60e)][_0x14f83e(0x242)]=_0x1c9c89?.[_0x14f83e(0x242)],this[_0x14f83e(0x60e)][_0x14f83e(0x78f)]=_0x1c9c89?.[_0x14f83e(0x78f)],this[_0x14f83e(0x60e)][_0x14f83e(0x9a8)]=_0x1c9c89?.['STATUS_INSTANCE'],this[_0x14f83e(0x60e)]['QRCODE_UPDATED']=_0x1c9c89?.[_0x14f83e(0x4a2)],this[_0x14f83e(0x60e)][_0x14f83e(0x867)]=_0x1c9c89?.[_0x14f83e(0x867)],this['localWebhook']['MESSAGES_UPSERT']=_0x1c9c89?.[_0x14f83e(0x969)],this[_0x14f83e(0x60e)][_0x14f83e(0x4ab)]=_0x1c9c89?.[_0x14f83e(0x4ab)],this[_0x14f83e(0x60e)][_0x14f83e(0x2fd)]=_0x1c9c89?.[_0x14f83e(0x2fd)],this['localWebhook'][_0x14f83e(0x41a)]=_0x1c9c89?.[_0x14f83e(0x41a)],this[_0x14f83e(0x60e)][_0x14f83e(0x58b)]=_0x1c9c89?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x14f83e(0x60e)]['CHATS_SET']=_0x1c9c89?.[_0x14f83e(0x41d)],this['localWebhook'][_0x14f83e(0x856)]=_0x1c9c89?.['CHATS_UPSERT'],this['localWebhook']['CHATS_UPDATE']=_0x1c9c89?.[_0x14f83e(0x407)],this[_0x14f83e(0x60e)]['CHATS_DELETE']=_0x1c9c89?.[_0x14f83e(0x39e)],this['localWebhook'][_0x14f83e(0x611)]=_0x1c9c89?.[_0x14f83e(0x611)],this[_0x14f83e(0x60e)][_0x14f83e(0x902)]=_0x1c9c89?.[_0x14f83e(0x902)],this[_0x14f83e(0x60e)][_0x14f83e(0x5e5)]=_0x1c9c89?.[_0x14f83e(0x5e5)],this['localWebhook'][_0x14f83e(0x94f)]=_0x1c9c89?.[_0x14f83e(0x94f)],this[_0x14f83e(0x60e)]['MESSAGES_SET']=_0x1c9c89?.['MESSAGES_SET'],this['localWebhook'][_0x14f83e(0x27f)]=_0x1c9c89?.[_0x14f83e(0x27f)],this[_0x14f83e(0x60e)][_0x14f83e(0x74b)]=_0x1c9c89?.[_0x14f83e(0x74b)];}async[a0_0x1c3883(0x796)](_0x3e9c45){const _0x4348a5=a0_0x1c3883;let _0x57c583=[_0x4348a5(0x8a0),_0x4348a5(0x4f8),_0x4348a5(0x242),_0x4348a5(0x78f),'STATUS_INSTANCE','QRCODE_UPDATED',_0x4348a5(0x4ab),_0x4348a5(0x969),_0x4348a5(0x867),_0x4348a5(0x2fd),_0x4348a5(0x41a),_0x4348a5(0x58b),_0x4348a5(0x41d),_0x4348a5(0x856),_0x4348a5(0x407),'CHATS_DELETE',_0x4348a5(0x611),_0x4348a5(0x902),_0x4348a5(0x5e5),_0x4348a5(0x94f),_0x4348a5(0x457),_0x4348a5(0x27f),'groups_ignore'],_0x1d5a5b={};return _0x57c583[_0x4348a5(0x33d)](_0x269e81=>{_0x3e9c45[_0x269e81]!==void 0x0&&(_0x1d5a5b[_0x269e81]=_0x3e9c45[_0x269e81]);}),_0x1d5a5b[_0x4348a5(0x4f8)]&&(_0x1d5a5b[_0x4348a5(0x4f8)]=_0x1d5a5b[_0x4348a5(0x4f8)][_0x4348a5(0x987)]()),await this[_0x4348a5(0x89f)][_0x4348a5(0x5f3)]['create'](_0x1d5a5b,this[_0x4348a5(0x259)]),Object[_0x4348a5(0x515)](this['localWebhook'],_0x1d5a5b),await this[_0x4348a5(0x89f)][_0x4348a5(0x5f3)]['find'](this['instanceName']);}async[a0_0x1c3883(0x44b)](){const _0x3cbf7b=a0_0x1c3883;return await this[_0x3cbf7b(0x89f)][_0x3cbf7b(0x5f3)][_0x3cbf7b(0x571)](this['instanceName']);}async[a0_0x1c3883(0x710)](_0xde2bd0,_0x5468ee){const _0x1dabb4=a0_0x1c3883;let _0x2a8896=_0xde2bd0['replace'](/[\.-]/gm,'_')[_0x1dabb4(0x6e5)](),_0x1d27c9=this['localWebhook'][_0x1dabb4(0x242)]&&(0x0,J[_0x1dabb4(0x562)])(this[_0x1dabb4(0x60e)][_0x1dabb4(0x4f8)])?this['localWebhook']['url']+(this[_0x1dabb4(0x60e)][_0x1dabb4(0x78f)]?this[_0x1dabb4(0x6ee)][_0xde2bd0]:''):null,_0x1bb083=this[_0x1dabb4(0x60e)][_0x2a8896],_0x109e04=de&&de[_0x1dabb4(0x242)]&&(0x0,J['isURL'])(de[_0x1dabb4(0x4f8)])?de[_0x1dabb4(0x4f8)]+(de[_0x1dabb4(0x78f)]?this[_0x1dabb4(0x6ee)][_0xde2bd0]:''):null,_0x321828=de?de[_0x2a8896]:null;if(_0x1bb083&&_0x1d27c9)try{await K[_0x1dabb4(0x460)]['create']({'baseURL':_0x1d27c9})[_0x1dabb4(0x8b5)]('',{'event':_0xde2bd0,'instance':this['instance'][_0x1dabb4(0x1f9)],'apikey':this['instance'][_0x1dabb4(0x7e7)],'data':_0x5468ee}),this[_0x1dabb4(0x23d)][_0x1dabb4(0x7f9)](this[_0x1dabb4(0x259)]+'\x20('+this['instance'][_0x1dabb4(0x988)]+'):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0xde2bd0+':\x20'+_0x1d27c9);}catch{this['logger'][_0x1dabb4(0x61d)](this[_0x1dabb4(0x259)]+'\x20('+this['instance'][_0x1dabb4(0x988)]+_0x1dabb4(0x436)+_0xde2bd0+':\x20'+_0x1d27c9);}if(_0x321828&&_0x109e04)try{await K[_0x1dabb4(0x460)]['create']({'baseURL':_0x109e04})[_0x1dabb4(0x8b5)]('',{'event':_0xde2bd0,'instance':this[_0x1dabb4(0x339)][_0x1dabb4(0x1f9)],'apikey':this[_0x1dabb4(0x339)][_0x1dabb4(0x7e7)],'data':_0x5468ee}),this['logger']['log'](this[_0x1dabb4(0x259)]+'\x20('+this['instance'][_0x1dabb4(0x988)]+'):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0xde2bd0+':\x20'+_0x109e04);}catch{this[_0x1dabb4(0x23d)]['error'](this[_0x1dabb4(0x259)]+'\x20('+this[_0x1dabb4(0x339)]['wuid']+_0x1dabb4(0x44f)+_0xde2bd0+':\x20'+_0x109e04);}}async[a0_0x1c3883(0x94a)]({qr:_0x4aa051,connection:_0x1ca6f1,lastDisconnect:_0x47683b}){const _0x5a80a8=a0_0x1c3883;if(_0x4aa051){if(this[_0x5a80a8(0x339)]['qrcode']['count']===Lo)return this['sendDataWebhook'](_0x5a80a8(0x84f),{'message':_0x5a80a8(0x7ff),'statusCode':w[_0x5a80a8(0x716)]['badSession']}),this[_0x5a80a8(0x84a)]={'state':_0x5a80a8(0x79a),'statusReason':w['DisconnectReason'][_0x5a80a8(0x26d)]},this['sendDataWebhook'](_0x5a80a8(0x9a4),{'instance':this[_0x5a80a8(0x339)][_0x5a80a8(0x1f9)],...this[_0x5a80a8(0x84a)]}),this[_0x5a80a8(0x710)](_0x5a80a8(0x8c7),{'instance':this[_0x5a80a8(0x339)][_0x5a80a8(0x1f9)],'status':_0x5a80a8(0x7a3)}),this['repository'][_0x5a80a8(0x823)][_0x5a80a8(0x6c2)](this['instance'][_0x5a80a8(0x1f9)]),this['endSession']=!0x0,this[_0x5a80a8(0x6c6)][_0x5a80a8(0x29a)](_0x5a80a8(0x980),this[_0x5a80a8(0x339)][_0x5a80a8(0x1f9)]);this[_0x5a80a8(0x339)][_0x5a80a8(0x26f)][_0x5a80a8(0x421)]++;let _0x51cf35={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x5a80a8(0x32f),'dark':_0x5a80a8(0x3e1)}};Ii[_0x5a80a8(0x460)][_0x5a80a8(0x486)](_0x4aa051,_0x51cf35,(_0x433e5e,_0x2432eb)=>{const _0x4ea758=_0x5a80a8;if(_0x433e5e){this[_0x4ea758(0x23d)][_0x4ea758(0x61d)](this['instanceName']+'\x20('+this[_0x4ea758(0x339)][_0x4ea758(0x988)]+_0x4ea758(0x6b1)+(_0x433e5e instanceof Error?_0x433e5e[_0x4ea758(0x535)]:JSON[_0x4ea758(0x565)](_0x433e5e,null,0x2)));return;}this['instance'][_0x4ea758(0x26f)][_0x4ea758(0x982)]=_0x2432eb,this['instance'][_0x4ea758(0x26f)][_0x4ea758(0x744)]=_0x4aa051,!this[_0x4ea758(0x885)]&&this['sendDataWebhook']('qrcode.updated',{'qrcode':{'instance':this[_0x4ea758(0x339)]['name'],'pairingCode':this[_0x4ea758(0x339)][_0x4ea758(0x26f)][_0x4ea758(0x881)],'code':_0x4aa051,'base64':_0x2432eb}});}),this[_0x5a80a8(0x885)]?this[_0x5a80a8(0x339)][_0x5a80a8(0x26f)][_0x5a80a8(0x881)]||(await(0x0,w[_0x5a80a8(0x6f4)])(0x7d0),this[_0x5a80a8(0x339)][_0x5a80a8(0x26f)][_0x5a80a8(0x881)]=await this['client'][_0x5a80a8(0x44d)](this[_0x5a80a8(0x885)])):this[_0x5a80a8(0x339)][_0x5a80a8(0x26f)][_0x5a80a8(0x881)]=null,_i[_0x5a80a8(0x460)][_0x5a80a8(0x8f2)](_0x4aa051,{'small':!0x0},_0x1176de=>this[_0x5a80a8(0x23d)][_0x5a80a8(0x7f9)](_0x5a80a8(0x4f6)+this['instance']['name']+',\x20qrcodeCount:\x20'+this['instance']['qrcode']['count']+',\x20pairCode:\x20'+this[_0x5a80a8(0x339)][_0x5a80a8(0x26f)]['pairingCode']+'\x20}\x0a'+_0x1176de));}if(_0x1ca6f1&&(this[_0x5a80a8(0x84a)]={'state':_0x1ca6f1,'statusReason':_0x47683b?.['error']?.['output']?.[_0x5a80a8(0x2c9)]??0xc8},this[_0x5a80a8(0x710)](_0x5a80a8(0x9a4),{'instance':this['instance'][_0x5a80a8(0x1f9)],...this['stateConnection']})),_0x1ca6f1==='close'){if(_0x47683b['error']?.[_0x5a80a8(0x91d)]?.[_0x5a80a8(0x2c9)]!==w[_0x5a80a8(0x716)][_0x5a80a8(0x6a6)]&&(this[_0x5a80a8(0x4d2)]<0x21||this[_0x5a80a8(0x339)][_0x5a80a8(0x33f)][_0x5a80a8(0x740)])){this[_0x5a80a8(0x4d2)]++,this[_0x5a80a8(0x851)][_0x5a80a8(0x706)](Date['now']()),this[_0x5a80a8(0x851)]=this[_0x5a80a8(0x851)][_0x5a80a8(0x8cd)](_0x30ef9d=>Date['now']()-_0x30ef9d<this[_0x5a80a8(0x367)]);let _0x493dbe=this[_0x5a80a8(0x4d2)]<=0x1?0x0:Math[_0x5a80a8(0x5d6)](Math['pow'](0x2,this[_0x5a80a8(0x4d2)]-0x1)*0x3e8,0x493e0);console[_0x5a80a8(0x7f9)](this[_0x5a80a8(0x259)]+_0x5a80a8(0x31e)+this[_0x5a80a8(0x4d2)]+_0x5a80a8(0x455)+_0x493dbe/0x3e8+_0x5a80a8(0x43c)),await new Promise(_0x29c2eb=>setTimeout(_0x29c2eb,_0x493dbe)),console[_0x5a80a8(0x7f9)](_0x5a80a8(0x2b6)),await this[_0x5a80a8(0x400)]();}else{this[_0x5a80a8(0x710)](_0x5a80a8(0x8c7),{'instance':this[_0x5a80a8(0x339)][_0x5a80a8(0x1f9)],'status':_0x5a80a8(0x7a3)}),this[_0x5a80a8(0x339)][_0x5a80a8(0x33f)]['isConnected']=!0x1,this[_0x5a80a8(0x89f)][_0x5a80a8(0x5f3)][_0x5a80a8(0x6c2)](this[_0x5a80a8(0x259)]),this[_0x5a80a8(0x89f)][_0x5a80a8(0x823)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x5a80a8(0x7e8)]()},this[_0x5a80a8(0x339)][_0x5a80a8(0x1f9)]);try{this[_0x5a80a8(0x23d)][_0x5a80a8(0x990)](this[_0x5a80a8(0x259)]+'\x20('+this[_0x5a80a8(0x339)][_0x5a80a8(0x988)]+_0x5a80a8(0x66e));let _0x1296a2=await this['repository'][_0x5a80a8(0x535)][_0x5a80a8(0x3e6)](this[_0x5a80a8(0x339)]['wuid']);_0x1296a2[_0x5a80a8(0x31a)]?this[_0x5a80a8(0x23d)][_0x5a80a8(0x990)](this[_0x5a80a8(0x259)]+'\x20('+this[_0x5a80a8(0x339)][_0x5a80a8(0x988)]+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):this[_0x5a80a8(0x23d)][_0x5a80a8(0x61d)](_0x5a80a8(0x3ea)+_0x1296a2[_0x5a80a8(0x61d)]);}catch(_0x481a07){this['logger'][_0x5a80a8(0x61d)](_0x5a80a8(0x7e4)+_0x481a07[_0x5a80a8(0x535)]);}this[_0x5a80a8(0x339)]['ScheduleMessage'][_0x5a80a8(0x336)]!==null&&(this['logger'][_0x5a80a8(0x990)](this[_0x5a80a8(0x259)]+'\x20('+this[_0x5a80a8(0x339)][_0x5a80a8(0x988)]+_0x5a80a8(0x3bb)),clearInterval(this[_0x5a80a8(0x339)][_0x5a80a8(0x33f)][_0x5a80a8(0x336)]),this[_0x5a80a8(0x339)][_0x5a80a8(0x33f)][_0x5a80a8(0x336)]=null),this[_0x5a80a8(0x23d)]['verbose'](this[_0x5a80a8(0x259)]+'\x20('+this[_0x5a80a8(0x339)][_0x5a80a8(0x988)]+_0x5a80a8(0x8e9)),this[_0x5a80a8(0x6cf)]=null,this['eventEmitter']['emit'](_0x5a80a8(0x886),this[_0x5a80a8(0x339)][_0x5a80a8(0x1f9)],_0x5a80a8(0x644)),this['client']?.['ws']?.[_0x5a80a8(0x8e5)](),this[_0x5a80a8(0x8d0)][_0x5a80a8(0x417)](new Error(_0x5a80a8(0x2aa)));}}if(_0x1ca6f1===_0x5a80a8(0x7e9)){this[_0x5a80a8(0x23d)][_0x5a80a8(0x7b3)](this[_0x5a80a8(0x259)]+'\x20('+this[_0x5a80a8(0x339)][_0x5a80a8(0x988)]+'):\x20this.client.authState.creds?.myAppStateKeyId:\x20'+this[_0x5a80a8(0x8d0)][_0x5a80a8(0x39a)][_0x5a80a8(0x86b)]?.['myAppStateKeyId']),this[_0x5a80a8(0x8d0)][_0x5a80a8(0x39a)][_0x5a80a8(0x86b)]?.[_0x5a80a8(0x871)]||(this[_0x5a80a8(0x23d)][_0x5a80a8(0x7b3)](this[_0x5a80a8(0x259)]+'\x20('+this[_0x5a80a8(0x339)][_0x5a80a8(0x988)]+_0x5a80a8(0x42b)),this['client']['ev']['flush']()),this['resetReconnectionVariables'],this['instance'][_0x5a80a8(0x988)]=this[_0x5a80a8(0x8d0)][_0x5a80a8(0x540)]['id']['replace'](/:\d+/,'')[_0x5a80a8(0x7cb)](_0x5a80a8(0x67c),''),this[_0x5a80a8(0x339)][_0x5a80a8(0x508)]=(await this[_0x5a80a8(0x319)](this['instance']['wuid']+_0x5a80a8(0x67c)))[_0x5a80a8(0x508)],this[_0x5a80a8(0x89f)][_0x5a80a8(0x823)][_0x5a80a8(0x855)]({'online':!0x0,'owner':this['instance']['wuid'],'lastDisconnect':null},this[_0x5a80a8(0x339)][_0x5a80a8(0x1f9)]);let _0x39b365=_0x5a80a8(0x5c5)+this[_0x5a80a8(0x339)][_0x5a80a8(0x988)],_0xb66d84=0x28,_0x24ef57=Math['floor']((_0xb66d84-_0x39b365[_0x5a80a8(0x868)])/0x2),_0x464160='\x20'['repeat'](_0x24ef57),_0x4d97f8=_0x5a80a8(0x3af),_0x46a070=_0x5a80a8(0x2ed)+this[_0x5a80a8(0x339)][_0x5a80a8(0x1f9)],_0x3791e3=(''+_0x464160+_0x39b365+_0x464160)['padEnd'](_0xb66d84,'\x20'),_0x1c9b2f=(''+_0x464160+_0x4d97f8+_0x464160)[_0x5a80a8(0x5af)](_0xb66d84,'\x20'),_0x29efab=(''+_0x464160+_0x46a070+_0x464160)[_0x5a80a8(0x5af)](_0xb66d84,'\x20'),_0x2ece6a=Math['max'](_0x3791e3['length'],_0x1c9b2f[_0x5a80a8(0x868)],_0x29efab[_0x5a80a8(0x868)]),_0x4c8dd8=_0x3791e3[_0x5a80a8(0x5af)](_0x2ece6a,'\x20'),_0x58cb5b=_0x1c9b2f[_0x5a80a8(0x5af)](_0x2ece6a,'\x20'),_0x4d045e=_0x29efab[_0x5a80a8(0x5af)](_0x2ece6a,'\x20');this[_0x5a80a8(0x23d)][_0x5a80a8(0x495)]((_0x5a80a8(0x48a)+'─'[_0x5a80a8(0x277)](_0x2ece6a)+_0x5a80a8(0x245)+_0x58cb5b+_0x5a80a8(0x6e9)+_0x4d045e+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x4c8dd8+_0x5a80a8(0x729)+'─'[_0x5a80a8(0x277)](_0x2ece6a)+'┘')[_0x5a80a8(0x7cb)](/^ +/gm,'\x20\x20')),this[_0x5a80a8(0x23a)](),this['instance'][_0x5a80a8(0x33f)][_0x5a80a8(0x740)]=!0x0;}}[a0_0x1c3883(0x65e)](){const _0x28dc16=a0_0x1c3883;this[_0x28dc16(0x4d2)]=0x0,this[_0x28dc16(0x851)]=[];}async[a0_0x1c3883(0x575)](_0x38f17b,_0xcf44d2=!0x1){const _0x3f6dba=a0_0x1c3883;try{let _0x3ff3f6=await this[_0x3f6dba(0x89f)][_0x3f6dba(0x535)][_0x3f6dba(0x571)]({'where':{'_id':_0x38f17b['id']}},this[_0x3f6dba(0x339)][_0x3f6dba(0x988)]);return _0xcf44d2?_0x3ff3f6[0x0]:_0x3ff3f6[0x0][_0x3f6dba(0x535)];}catch{return{'conversation':''};}}['cleanStore'](){const _0x908cfa=a0_0x1c3883;let _0x1da4ef=this[_0x908cfa(0x554)][_0x908cfa(0x923)]('STORE'),_0x3e4a1f=this[_0x908cfa(0x554)][_0x908cfa(0x923)](_0x908cfa(0x844));_0x1da4ef?.[_0x908cfa(0x5f2)]&&!_0x3e4a1f[_0x908cfa(0x82d)]&&setInterval(()=>{const _0x448108=_0x908cfa;try{for(let [_0x3c4941,_0x980673]of Object['entries'](_0x1da4ef))_0x980673===!0x0&&(0x0,Ue['execSync'])(_0x448108(0x21c)+(0x0,j['join'])(this[_0x448108(0x80e)],_0x3c4941[_0x448108(0x25e)](),this['instance'][_0x448108(0x988)])+_0x448108(0x721));}catch{}},(_0x1da4ef?.[_0x908cfa(0x5f2)]??0xe10)*0x3e8);}async[a0_0x1c3883(0x492)](){const _0x48a222=a0_0x1c3883;let _0x478132=this[_0x48a222(0x554)][_0x48a222(0x923)](_0x48a222(0x844)),_0x109850=this[_0x48a222(0x554)][_0x48a222(0x923)](_0x48a222(0x592));return _0x109850?.[_0x48a222(0x82d)]?await Os(_0x109850,this[_0x48a222(0x339)]['name']):_0x478132[_0x48a222(0x82d)]?await _s(this[_0x48a222(0x339)][_0x48a222(0x1f9)]):await(0x0,w[_0x48a222(0x566)])((0x0,j[_0x48a222(0x25f)])(be,this['instance'][_0x48a222(0x1f9)]));}async['AutomateFunctions'](){const _0x38b238=a0_0x1c3883;let _0x54cff3=()=>Math[_0x38b238(0x26a)](Math[_0x38b238(0x8b2)]()*0x4e21)+0x7d0,_0x37d495=async()=>{const _0x55de3d=_0x38b238;if(!this[_0x55de3d(0x339)][_0x55de3d(0x33f)]['isConnected']){this[_0x55de3d(0x23d)][_0x55de3d(0x990)](this['instanceName']+'\x20('+this[_0x55de3d(0x339)][_0x55de3d(0x988)]+_0x55de3d(0x74e)),this[_0x55de3d(0x905)]=!0x1;return;}if(this[_0x55de3d(0x339)][_0x55de3d(0x988)]&&this['AutomateSystem']&&this['instance'][_0x55de3d(0x33f)]['delayMessage']!==null&&this[_0x55de3d(0x339)][_0x55de3d(0x33f)][_0x55de3d(0x336)]!==void 0x0){let _0x5bf774=Math[_0x55de3d(0x20c)](this['instance'][_0x55de3d(0x33f)][_0x55de3d(0x336)]/0xea60);this[_0x55de3d(0x23d)][_0x55de3d(0x990)](this[_0x55de3d(0x259)]+'\x20('+this[_0x55de3d(0x339)][_0x55de3d(0x988)]+_0x55de3d(0x9a3)+_0x5bf774+_0x55de3d(0x287)),this[_0x55de3d(0x905)]=!0x1;return;}else this[_0x55de3d(0x339)][_0x55de3d(0x988)]&&(this['logger']['verbose'](this[_0x55de3d(0x259)]+'\x20('+this[_0x55de3d(0x339)]['wuid']+_0x55de3d(0x955)),this[_0x55de3d(0x6cf)]||(await this[_0x55de3d(0x5e4)](),this[_0x55de3d(0x625)](),this[_0x55de3d(0x50f)]()),(this['instance']['ScheduleMessage']['delayMessage']===null||this[_0x55de3d(0x339)]['ScheduleMessage'][_0x55de3d(0x336)]===void 0x0)&&await this[_0x55de3d(0x2eb)]());if(this[_0x55de3d(0x905)]){let _0x77e805=_0x54cff3();this[_0x55de3d(0x23d)][_0x55de3d(0x990)](this['instanceName']+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x77e805/0x3e8+_0x55de3d(0x21e)),setTimeout(_0x37d495,_0x77e805);}};if(this['isRunning'])return;this[_0x38b238(0x905)]=!0x0;let _0x206257=_0x54cff3();setTimeout(_0x37d495,_0x206257);}async['synchronizeAndMapFlows'](){const _0x1d30e4=a0_0x1c3883;let _0x4b0dd1=this[_0x1d30e4(0x339)][_0x1d30e4(0x988)];try{let _0x1c764d=await this[_0x1d30e4(0x89f)][_0x1d30e4(0x1fc)][_0x1d30e4(0x850)]({'where':{'$or':[{'owner':_0x4b0dd1},{'whoCanUse':{'$in':[_0x4b0dd1]}},{'shareOwners':{'$in':[_0x4b0dd1]}}]}}),_0x379a86=new Map(this[_0x1d30e4(0x6cf)]['flows']['map'](_0x29eee9=>[_0x29eee9[_0x1d30e4(0x8a0)],_0x29eee9])),_0x43e9d0=_0x1c764d[_0x1d30e4(0x4ac)](_0x16f1ce=>{const _0x1ee141=_0x1d30e4;let _0x3d6a9c=_0x379a86[_0x1ee141(0x923)](_0x16f1ce['_id']?.[_0x1ee141(0x25c)]());return{'_id':_0x16f1ce[_0x1ee141(0x8a0)]?.[_0x1ee141(0x25c)](),'name':_0x3d6a9c?.['name']??_0x16f1ce['name'],'default':_0x3d6a9c?.[_0x1ee141(0x460)]??_0x16f1ce['default']??!0x1,'startCommand':_0x3d6a9c?.['startCommand']??_0x16f1ce[_0x1ee141(0x416)],'minutesToClose':_0x3d6a9c?.[_0x1ee141(0x8d8)]??_0x16f1ce['minutesToClose']??0xa,'readMessages':_0x3d6a9c?.['readMessages']??_0x16f1ce['readMessages']??!0x1,'testingWith':_0x3d6a9c?.[_0x1ee141(0x5a1)]??_0x16f1ce[_0x1ee141(0x5a1)],'canEdit':_0x16f1ce[_0x1ee141(0x523)]===_0x4b0dd1||(_0x16f1ce[_0x1ee141(0x894)]??[])[_0x1ee141(0x681)](_0x4b0dd1),'usersCount':(_0x16f1ce[_0x1ee141(0x663)]??[])[_0x1ee141(0x868)]??0x0};}),_0x13be48=!0x1;_0x43e9d0['forEach'](_0x731a03=>{const _0x433cc4=_0x1d30e4;_0x731a03[_0x433cc4(0x460)]&&(_0x13be48?_0x731a03[_0x433cc4(0x460)]=!0x1:_0x13be48=!0x0);}),this['AutomateSystem']['flows']=_0x43e9d0;let _0x52d58b={'flows':_0x43e9d0};return await this[_0x1d30e4(0x89f)][_0x1d30e4(0x4b6)][_0x1d30e4(0x4f3)](_0x52d58b,_0x4b0dd1),this[_0x1d30e4(0x23d)][_0x1d30e4(0x990)](this[_0x1d30e4(0x259)]+'\x20('+_0x4b0dd1+_0x1d30e4(0x1f8)),_0x43e9d0[_0x1d30e4(0x868)];}catch(_0x101171){return this[_0x1d30e4(0x23d)][_0x1d30e4(0x61d)](this['instanceName']+'\x20('+_0x4b0dd1+'):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20'+(_0x101171 instanceof Error?_0x101171[_0x1d30e4(0x535)]:JSON[_0x1d30e4(0x565)](_0x101171,null,0x2))),{'message':'Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20'+(_0x101171 instanceof Error?_0x101171[_0x1d30e4(0x535)]:JSON[_0x1d30e4(0x565)](_0x101171,null,0x2))};}}async[a0_0x1c3883(0x400)](_0x891091){const _0x312c09=a0_0x1c3883;try{let _0x1b90f3=await this[_0x312c09(0x89f)][_0x312c09(0x339)][_0x312c09(0x213)]({'where':{'_id':he+'-'+this['instanceName']}}),_0x28c830,_0x2b09f6=!Le[_0x312c09(0x246)]||!Le[_0x312c09(0x755)];console['log'](_0x312c09(0x86d)),console[_0x312c09(0x7f9)](_0x312c09(0x557),Ai),console[_0x312c09(0x7f9)](_0x312c09(0x5c6),this[_0x312c09(0x4d2)]),console[_0x312c09(0x7f9)](_0x312c09(0x86d)),Ai&&!_0x2b09f6&&(this[_0x312c09(0x4d2)]<0x4||!this['reconnectAttempts']?_0x1b90f3&&_0x1b90f3['ip']?(_0x28c830=_0x1b90f3['ip'],console[_0x312c09(0x7f9)](_0x312c09(0x5bb)+_0x28c830)):(_0x28c830=await Le[_0x312c09(0x774)](he,this['instance']['name']),_0x28c830?(console[_0x312c09(0x7f9)](_0x312c09(0x488)+_0x28c830),await(0x0,w[_0x312c09(0x6f4)])(0x7d0)):console[_0x312c09(0x61d)](_0x312c09(0x61e))):this[_0x312c09(0x4d2)]<0x6&&(console[_0x312c09(0x7f9)](_0x312c09(0x73c)),_0x28c830=await Le[_0x312c09(0x774)](he,this[_0x312c09(0x339)]['name']),_0x28c830?(console[_0x312c09(0x7f9)]('Novo\x20IP\x20criado:\x20'+_0x28c830),await(0x0,w['delay'])(0x7d0)):console[_0x312c09(0x61d)](_0x312c09(0x787)))),this[_0x312c09(0x586)](),this[_0x312c09(0x339)][_0x312c09(0x7e7)]=(await this[_0x312c09(0x89f)][_0x312c09(0x823)][_0x312c09(0x571)](this[_0x312c09(0x339)][_0x312c09(0x1f9)]))[_0x312c09(0x7e7)],this[_0x312c09(0x339)]['authState']=await this[_0x312c09(0x492)]();let _0x20ac5a=[xi,Us,(0x0,ks['release'])()],_0x5cadc6={'localAddress':_0x28c830,'auth':{'creds':this[_0x312c09(0x339)][_0x312c09(0x39a)][_0x312c09(0x589)][_0x312c09(0x86b)],'keys':(0x0,w[_0x312c09(0x556)])(this[_0x312c09(0x339)][_0x312c09(0x39a)][_0x312c09(0x589)][_0x312c09(0x835)],(0x0,Ft['default'])({'level':_0x312c09(0x61d)}))},'logger':(0x0,Ft[_0x312c09(0x460)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x891091?['Mac\x20OS',Us,(0x0,ks[_0x312c09(0x3f1)])()]:_0x20ac5a,'version':[0x2,0xbb8,0x3c8d6c7b],'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x2d4c8b=>{const _0x5f3dda=_0x312c09;let _0xe03d58=this[_0x5f3dda(0x60e)]?.[_0x5f3dda(0x74b)]&&(0x0,w[_0x5f3dda(0x5fe)])(_0x2d4c8b);return(0x0,w[_0x5f3dda(0x3a1)])(_0x2d4c8b)||_0xe03d58;},'msgRetryCounterCache':this[_0x312c09(0x92b)],'getMessage':async _0x337644=>await this[_0x312c09(0x575)](_0x337644),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x312c09(0x3f7)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x6bfaa7){const _0x52d359=_0x312c09;return _0x6bfaa7[_0x52d359(0x268)]?.[_0x52d359(0x535)]?.['listMessage']?.['listType']===w[_0x52d359(0x64a)][_0x52d359(0x4a6)][_0x52d359(0x433)][_0x52d359(0x83d)][_0x52d359(0x587)]&&(_0x6bfaa7=JSON['parse'](JSON['stringify'](_0x6bfaa7)),_0x6bfaa7[_0x52d359(0x268)][_0x52d359(0x535)][_0x52d359(0x5dc)][_0x52d359(0x33a)]=w[_0x52d359(0x64a)][_0x52d359(0x4a6)]['ListMessage'][_0x52d359(0x83d)][_0x52d359(0x676)]),_0x6bfaa7['listMessage']?.[_0x52d359(0x33a)]==w[_0x52d359(0x64a)][_0x52d359(0x4a6)][_0x52d359(0x433)]['ListType'][_0x52d359(0x587)]&&(_0x6bfaa7=JSON['parse'](JSON['stringify'](_0x6bfaa7)),_0x6bfaa7[_0x52d359(0x5dc)][_0x52d359(0x33a)]=w[_0x52d359(0x64a)]['Message'][_0x52d359(0x433)][_0x52d359(0x83d)]['SINGLE_SELECT']),_0x6bfaa7;}};return this['endSession']=!0x1,this['client']=(0x0,w['default'])(_0x5cadc6),this[_0x312c09(0x1f6)](),this[_0x312c09(0x885)]=_0x891091,this['client'];}catch(_0x5b1daa){let _0x37de12='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp',_0x5bfb21=_0x5b1daa instanceof Error?_0x5b1daa['message']:typeof _0x5b1daa==_0x312c09(0x20d)?JSON[_0x312c09(0x565)](_0x5b1daa):_0x5b1daa,_0x31b7cd=_0x37de12+':\x20'+_0x5bfb21;throw this[_0x312c09(0x23d)][_0x312c09(0x61d)](this[_0x312c09(0x259)]+'\x20('+this['instance'][_0x312c09(0x988)]+_0x312c09(0x93d)+_0x31b7cd),console[_0x312c09(0x61d)](_0x312c09(0x6c4),_0x5b1daa),_0x5b1daa instanceof Error&&console[_0x312c09(0x61d)]('Stack\x20trace:',_0x5b1daa[_0x312c09(0x653)]),new x(_0x31b7cd);}}[a0_0x1c3883(0x1f6)](){const _0x65be75=a0_0x1c3883;this[_0x65be75(0x8d0)]['ev'][_0x65be75(0x3b2)](_0x323647=>{const _0x7c9537=_0x65be75;if(!this[_0x7c9537(0x608)]){let _0x5cd6ae=this['configService'][_0x7c9537(0x923)](_0x7c9537(0x844));if(_0x323647[_0x7c9537(0x3d9)]){let _0x4922d9=_0x323647[_0x7c9537(0x3d9)];this[_0x7c9537(0x599)][_0x7c9537(0x3d9)](_0x4922d9);}if(_0x323647['labels.association']){let _0x38bdfa=_0x323647[_0x7c9537(0x812)];this[_0x7c9537(0x599)]['labels.association'](_0x38bdfa);}if(_0x323647[_0x7c9537(0x9a4)]&&this[_0x7c9537(0x94a)](_0x323647[_0x7c9537(0x9a4)]),_0x323647['creds.update']&&this[_0x7c9537(0x339)]['authState'][_0x7c9537(0x5ea)](),_0x323647[_0x7c9537(0x265)]){let _0x1aa6e6=_0x323647['messaging-history.set'];this[_0x7c9537(0x599)][_0x7c9537(0x265)](_0x1aa6e6,_0x5cd6ae);}if(_0x323647[_0x7c9537(0x219)]){let _0x4d8aa1=_0x323647['messages.upsert'];this[_0x7c9537(0x599)][_0x7c9537(0x219)](_0x4d8aa1,_0x5cd6ae);}if(_0x323647['messages.update']){let _0x39c030=_0x323647[_0x7c9537(0x594)];this[_0x7c9537(0x599)][_0x7c9537(0x594)](_0x39c030,_0x5cd6ae);}if(_0x323647[_0x7c9537(0x8bf)]){let _0x31c9a6=_0x323647[_0x7c9537(0x8bf)];if(this[_0x7c9537(0x60e)]?.['groups_ignore']&&_0x31c9a6['id']['includes'](_0x7c9537(0x8b8)))return;this[_0x7c9537(0x710)](_0x7c9537(0x8bf),_0x31c9a6);}if(_0x323647['groups.upsert']){let _0xcc7689=_0x323647[_0x7c9537(0x933)];this[_0x7c9537(0x3a0)][_0x7c9537(0x933)](_0xcc7689);}if(_0x323647[_0x7c9537(0x89b)]){let _0x144085=_0x323647[_0x7c9537(0x89b)];this['groupHandler'][_0x7c9537(0x89b)](_0x144085);}if(_0x323647[_0x7c9537(0x6db)]){let _0x3c875a=_0x323647[_0x7c9537(0x6db)];this[_0x7c9537(0x3a0)][_0x7c9537(0x6db)](_0x3c875a);}if(_0x323647['chats.upsert']){let _0x2be416=_0x323647[_0x7c9537(0x897)];this['chatHandle']['chats.upsert'](_0x2be416,_0x5cd6ae);}if(_0x323647['chats.update']){let _0x2f9f55=_0x323647['chats.update'];this[_0x7c9537(0x4d5)]['chats.update'](_0x2f9f55,_0x5cd6ae);}if(_0x323647['chats.delete']){let _0x1ad337=_0x323647[_0x7c9537(0x828)];this[_0x7c9537(0x4d5)][_0x7c9537(0x828)](_0x1ad337);}if(_0x323647[_0x7c9537(0x291)]){let _0x3e8e8a=_0x323647[_0x7c9537(0x291)];this[_0x7c9537(0x6e2)][_0x7c9537(0x291)](_0x3e8e8a,_0x5cd6ae);}if(_0x323647[_0x7c9537(0x2d3)]){let _0x2c2db0=_0x323647[_0x7c9537(0x2d3)];this[_0x7c9537(0x6e2)]['contacts.update'](_0x2c2db0,_0x5cd6ae);}}});}async[a0_0x1c3883(0x3e9)](_0x35c31c,_0x37a578){const _0x9adbec=a0_0x1c3883;if(_0x37a578>=0xa){console[_0x9adbec(0x61d)](this['instanceName']+'\x20('+this[_0x9adbec(0x339)][_0x9adbec(0x988)]+'):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar'),delete Lt[_0x35c31c[_0x9adbec(0x205)]['id']];return;}try{console['error'](this[_0x9adbec(0x259)]+'\x20('+this[_0x9adbec(0x339)]['wuid']+_0x9adbec(0x7a7)+(_0x37a578+0x1)),await this[_0x9adbec(0x8d0)][_0x9adbec(0x201)](JSON['parse'](_0x35c31c[_0x9adbec(0x7bb)][0x1],w[_0x9adbec(0x63a)][_0x9adbec(0x415)])),console[_0x9adbec(0x61d)](_0x9adbec(0x723));}catch(_0x59f347){console['error'](this['instanceName']+'\x20('+this['instance'][_0x9adbec(0x988)]+_0x9adbec(0x3c1)+_0x59f347),setTimeout(()=>this[_0x9adbec(0x3e9)](_0x35c31c,_0x37a578+0x1),Math[_0x9adbec(0x59e)](0x2,_0x37a578)*0x3e8);}}async[a0_0x1c3883(0x56e)](_0x4e6295){const _0x18fbd7=a0_0x1c3883;let _0x44430d=_0x4e6295[_0x18fbd7(0x205)][_0x18fbd7(0x8f4)]['endsWith'](_0x18fbd7(0x8b8)),_0x3a4d03;if(_0x4e6295[_0x18fbd7(0x205)][_0x18fbd7(0x75e)])_0x3a4d03=this['instance']['profilePictureUrl'];else{let _0x5b190e=_0x44430d?_0x4e6295[_0x18fbd7(0x205)][_0x18fbd7(0x3fc)]:_0x4e6295[_0x18fbd7(0x205)]['remoteJid'];_0x3a4d03=(await this[_0x18fbd7(0x3e3)](_0x5b190e,_0x4e6295[_0x18fbd7(0x733)],!0x1))[_0x18fbd7(0x736)][_0x18fbd7(0x6b4)];}_0x4e6295[_0x18fbd7(0x5ab)]&&_0x4e6295['messageTimestamp'][_0x18fbd7(0x25c)]()['length']<0xd&&(_0x4e6295[_0x18fbd7(0x5ab)]=_0x4e6295[_0x18fbd7(0x5ab)]*0x3e8);let _0x461d63={'_id':_0x4e6295[_0x18fbd7(0x205)]['id'],'key':_0x4e6295[_0x18fbd7(0x205)],'isGroup':_0x44430d,'profilePictureUrl':_0x3a4d03,'pushName':_0x4e6295[_0x18fbd7(0x733)],'message':{'text':_0x18fbd7(0x814)},'messageType':'error','message_normalized':{'key':_0x4e6295['key'],'pushName':_0x4e6295[_0x18fbd7(0x733)],'messageTimestamp':_0x4e6295[_0x18fbd7(0x5ab)],'source':(0x0,w[_0x18fbd7(0x90d)])(_0x4e6295[_0x18fbd7(0x205)]['id']),'text':'Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la'},'messageTimestamp':_0x4e6295[_0x18fbd7(0x5ab)],'owner':this[_0x18fbd7(0x339)][_0x18fbd7(0x988)],'source':(0x0,w[_0x18fbd7(0x90d)])(_0x4e6295[_0x18fbd7(0x205)]['id'])};this[_0x18fbd7(0x23d)][_0x18fbd7(0x61d)](this[_0x18fbd7(0x259)]+'\x20('+this[_0x18fbd7(0x339)][_0x18fbd7(0x988)]+_0x18fbd7(0x93d)+(_0x461d63[_0x18fbd7(0x205)]?.[_0x18fbd7(0x75e)]?_0x18fbd7(0x411):'recebido\x20de')+'\x20['+_0x461d63[_0x18fbd7(0x205)]?.[_0x18fbd7(0x8f4)][_0x18fbd7(0x7cb)](_0x18fbd7(0x67c),'')+']\x20('+_0x461d63[_0x18fbd7(0x2be)]+')'),_0x461d63[_0x18fbd7(0x30d)]?.[_0x18fbd7(0x931)]&&this['logger'][_0x18fbd7(0x61d)](_0x4e6295[_0x18fbd7(0x205)]['id']+':\x20'+_0x461d63['message_normalized']?.[_0x18fbd7(0x931)]),await this['repository'][_0x18fbd7(0x535)][_0x18fbd7(0x2ca)]([_0x461d63],this[_0x18fbd7(0x339)]['wuid']),await this[_0x18fbd7(0x89f)][_0x18fbd7(0x7c0)][_0x18fbd7(0x2ca)]([_0x461d63]),this[_0x18fbd7(0x710)](_0x18fbd7(0x219),_0x461d63),F(this['instanceName'],_0x18fbd7(0x73d),{'message':_0x461d63});}[a0_0x1c3883(0x88e)](_0x45cb0a){return new Promise(_0x4ddbfe=>setTimeout(_0x4ddbfe,_0x45cb0a));}[a0_0x1c3883(0x727)](_0x305509){const _0x425f2f=a0_0x1c3883;_0x305509=_0x305509[_0x425f2f(0x7cb)](/\D/g,'');let _0x49c973=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x425f2f(0x2bf)](_0x305509);if(_0x49c973&&_0x49c973[0x1]==='55'){let _0x56bbf8=_0x49c973[0x2],_0xf074c1=_0x49c973[0x3],_0x18658f=_0x49c973[0x4];if(parseInt(_0x56bbf8)>=0x1f&&_0xf074c1==='9')return _0x49c973[0x1]+_0x56bbf8+_0x18658f;}return _0x305509;}[a0_0x1c3883(0x346)](_0x2579f7){const _0x5bd8b5=a0_0x1c3883;return _0x2579f7[_0x5bd8b5(0x681)]('@g.us')||_0x2579f7[_0x5bd8b5(0x681)](_0x5bd8b5(0x67c))||_0x2579f7[_0x5bd8b5(0x681)]('@broadcast')?_0x2579f7:(_0x2579f7=_0x2579f7?.['replace'](/\s/g,'')[_0x5bd8b5(0x7cb)](/\+/g,'')[_0x5bd8b5(0x7cb)](/\(/g,'')[_0x5bd8b5(0x7cb)](/\)/g,'')[_0x5bd8b5(0x3ac)](/\:/)[0x0][_0x5bd8b5(0x3ac)]('@')[0x0],_0x2579f7[_0x5bd8b5(0x868)]>=0x12?(_0x2579f7=_0x2579f7[_0x5bd8b5(0x7cb)](/[^\d-]/g,''),_0x2579f7+'@g.us'):(_0x2579f7=_0x2579f7[_0x5bd8b5(0x7cb)](/\D/g,''),_0x2579f7+_0x5bd8b5(0x67c)));}async[a0_0x1c3883(0x266)](_0x3576d3){const _0x3032f0=a0_0x1c3883;let _0x22da19=(await this['whatsappNumber']({'numbers':[_0x3576d3['number']]}))[0x0];if(!_0x22da19[_0x3032f0(0x689)]&&!(0x0,w[_0x3032f0(0x5fe)])(_0x22da19['jid'])&&!_0x22da19['jid']['includes'](_0x3032f0(0x5da)))throw new m(_0x22da19);let _0x1644e7=_0x22da19[_0x3032f0(0x7e1)];try{return await this[_0x3032f0(0x8d0)][_0x3032f0(0x4f9)](_0x1644e7),await this[_0x3032f0(0x8d0)][_0x3032f0(0x225)](_0x3576d3[_0x3032f0(0x56a)],_0x1644e7),{'status':0xc8,'presence':_0x3576d3[_0x3032f0(0x56a)]};}catch(_0x31be24){let _0x9127c=_0x3032f0(0x504),_0x12ea41=_0x31be24 instanceof Error?_0x31be24[_0x3032f0(0x535)]:typeof _0x31be24==_0x3032f0(0x20d)?JSON[_0x3032f0(0x565)](_0x31be24):_0x31be24,_0x176bc9=_0x9127c+':\x20'+_0x12ea41;throw this[_0x3032f0(0x23d)]['error'](this[_0x3032f0(0x259)]+'\x20('+this[_0x3032f0(0x339)][_0x3032f0(0x988)]+_0x3032f0(0x93d)+_0x176bc9),new m(_0x176bc9);}}async['findAndUpdateCacheContact'](_0x102570,_0xe2cc07,_0x21f3ca,_0x235e17=!0x0){const _0x1a88e2=a0_0x1c3883;let _0x465424=await this[_0x1a88e2(0x89f)][_0x1a88e2(0x6a2)][_0x1a88e2(0x213)]({'where':{'_id':_0x102570}});if(!_0x465424&&!_0x235e17)return;let _0x1f5848={'lastUpdate':Date['now']()};if(_0x21f3ca||!_0x465424?.[_0x1a88e2(0x6e7)]||Date[_0x1a88e2(0x7e8)]()-_0x465424['lastUpdate']>0x18*0x3c*0x3c*0x3e8)try{let _0x2a17e1=(await this[_0x1a88e2(0x319)](_0x102570))[_0x1a88e2(0x508)];_0x1f5848['pictureUrl']=_0x2a17e1;}catch(_0x163233){let _0x40f05a='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact',_0x3aac87=_0x163233 instanceof Error?_0x163233['message']:typeof _0x163233==_0x1a88e2(0x20d)?JSON[_0x1a88e2(0x565)](_0x163233):_0x163233,_0x38bb9f=_0x40f05a+':\x20'+_0x3aac87;throw this['logger'][_0x1a88e2(0x61d)](this['instanceName']+'\x20('+this['instance'][_0x1a88e2(0x988)]+'):\x20'+_0x38bb9f),new m(_0x38bb9f);}return _0xe2cc07&&_0x465424?.[_0x1a88e2(0x1f9)]!==_0xe2cc07&&(_0x1f5848[_0x1a88e2(0x1f9)]=_0xe2cc07),Object[_0x1a88e2(0x835)](_0x1f5848)[_0x1a88e2(0x868)]>0x1&&(_0x465424?await this[_0x1a88e2(0x89f)][_0x1a88e2(0x6a2)][_0x1a88e2(0x4f3)]({'where':{'_id':_0x102570}},_0x1f5848):await this[_0x1a88e2(0x89f)][_0x1a88e2(0x6a2)]['insert']([{'_id':_0x102570,..._0x1f5848}]),_0x465424={..._0x465424,..._0x1f5848}),{'cachedContact':_0x465424};}async[a0_0x1c3883(0x319)](_0x1514c0){const _0x499321=a0_0x1c3883;let _0x2698dd=this['createJid'](_0x1514c0);try{return{'wuid':_0x2698dd,'profilePictureUrl':await this['client'][_0x499321(0x508)](_0x2698dd,'image')};}catch{return{'wuid':_0x2698dd,'profilePictureUrl':null};}}async['sendMessageWithRetry'](_0x535e97,_0x2bc0bc,_0x4c5c67){const _0x237bbe=a0_0x1c3883;let _0x2d9506=0x0;for(;_0x2d9506<0x5;)try{return await this[_0x237bbe(0x282)](_0x535e97,_0x2bc0bc,_0x4c5c67);}catch(_0x2b8923){if(_0x2d9506++,_0x2b8923 instanceof Error&&_0x2b8923[_0x237bbe(0x535)]===_0x237bbe(0x435)){if(_0x2d9506>=0x5)throw new m(_0x237bbe(0x52d)+_0x2b8923[_0x237bbe(0x535)]);this['logger'][_0x237bbe(0x7b3)](_0x237bbe(0x91e)+_0x2d9506+_0x237bbe(0x686)+_0x2b8923[_0x237bbe(0x535)]+'.\x20Tentando\x20novamente\x20em\x20'+0x1388/0x3e8+_0x237bbe(0x818)),await new Promise(_0x1be3c2=>setTimeout(_0x1be3c2,0x1388));}else throw new m(_0x2b8923[_0x237bbe(0x535)]);}}async[a0_0x1c3883(0x282)](_0x155ee6,_0x19919e,_0x5129f7){const _0x32a0ab=a0_0x1c3883;let _0x2350da;try{let _0x3afb87=(await this['whatsappNumber']({'numbers':[_0x155ee6]}))?.[_0x32a0ab(0x479)]();if(!_0x3afb87[_0x32a0ab(0x689)]&&!(0x0,w[_0x32a0ab(0x5fe)])(_0x3afb87['jid'])&&!_0x3afb87[_0x32a0ab(0x7e1)][_0x32a0ab(0x681)]('@broadcast'))throw new m(_0x3afb87);_0x2350da=_0x3afb87[_0x32a0ab(0x7e1)];}catch(_0x55c61b){_0x2350da=_0x155ee6,this[_0x32a0ab(0x23d)][_0x32a0ab(0x7b3)](this[_0x32a0ab(0x259)]+'\x20('+this[_0x32a0ab(0x339)][_0x32a0ab(0x988)]+'):\x20error:\x20'+_0x55c61b[_0x32a0ab(0x535)]),this[_0x32a0ab(0x23d)][_0x32a0ab(0x7b3)](this[_0x32a0ab(0x259)]+'\x20('+this[_0x32a0ab(0x339)][_0x32a0ab(0x988)]+_0x32a0ab(0x50e)+_0x2350da);}try{if(_0x2350da||(_0x2350da=_0x155ee6,this[_0x32a0ab(0x23d)][_0x32a0ab(0x7b3)](this[_0x32a0ab(0x259)]+'\x20('+this[_0x32a0ab(0x339)][_0x32a0ab(0x988)]+_0x32a0ab(0x734)+_0x2350da)),_0x5129f7||(_0x5129f7={}),_0x5129f7?.[_0x32a0ab(0x6f4)]){await this[_0x32a0ab(0x8d0)][_0x32a0ab(0x4f9)](_0x2350da),await this[_0x32a0ab(0x8d0)][_0x32a0ab(0x225)](_0x5129f7?.[_0x32a0ab(0x56a)]??_0x32a0ab(0x719),_0x2350da);let _0x259f39=Math['min'](_0x5129f7[_0x32a0ab(0x6f4)],0x2710);await(0x0,w[_0x32a0ab(0x6f4)])(_0x259f39),await this[_0x32a0ab(0x8d0)]['sendPresenceUpdate'](_0x32a0ab(0x5a7),_0x2350da);}let _0x234928=_0x5129f7?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x96a8e3;if(_0x5129f7?.['quoted']){let _0x5206b6=_0x5129f7?.[_0x32a0ab(0x808)],_0xf48ad3=_0x5206b6?.[_0x32a0ab(0x535)]?_0x5206b6:await this[_0x32a0ab(0x575)](_0x5206b6[_0x32a0ab(0x205)],!0x0);_0xf48ad3&&(_0x96a8e3=_0xf48ad3);}let _0x5527ec=await this['repository'][_0x32a0ab(0x874)][_0x32a0ab(0x213)]({'where':{'_id':_0x2350da}},this[_0x32a0ab(0x339)]['wuid']),_0x5a7eaf,_0x1bc3c5=null;if((0x0,w[_0x32a0ab(0x5fe)])(_0x2350da))try{if(_0x1bc3c5=_0x5527ec[_0x32a0ab(0x573)],!_0x1bc3c5)throw new U(_0x32a0ab(0x397));if(!_0x1bc3c5[_0x32a0ab(0x542)])throw new m(_0x32a0ab(0x6f5));_0x5129f7?.[_0x32a0ab(0x5a3)]&&(_0x5129f7[_0x32a0ab(0x5a3)]?.[_0x32a0ab(0x51d)]?_0x5a7eaf=_0x1bc3c5[_0x32a0ab(0x2ab)]['map'](_0x544e71=>_0x544e71['id']):_0x5129f7[_0x32a0ab(0x5a3)]?.[_0x32a0ab(0x357)]?.[_0x32a0ab(0x868)]&&(_0x5a7eaf=_0x5129f7[_0x32a0ab(0x5a3)][_0x32a0ab(0x357)][_0x32a0ab(0x4ac)](_0x48581e=>{const _0x1dba49=_0x32a0ab;let _0xedac2c=this[_0x1dba49(0x346)](_0x48581e);return(0x0,w['isJidGroup'])(_0xedac2c)?null:_0xedac2c;})));}catch(_0x4678c3){throw _0x4678c3 instanceof U?new U(_0x32a0ab(0x397)):_0x4678c3 instanceof m?new m('Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo'):new Error(_0x32a0ab(0x4ca));}let _0x507a3b=await((async()=>{const _0x58f737=_0x32a0ab;let _0x391b40={'quoted':_0x96a8e3,'ephemeralExpiration':_0x5527ec?.[_0x58f737(0x75f)]??0x0};if(!_0x19919e[_0x58f737(0x2e7)]&&!_0x19919e[_0x58f737(0x81f)]&&!_0x19919e['sticker']&&!_0x19919e['conversation']&&_0x2350da!==_0x58f737(0x75a)&&_0x19919e['reactionMessage'])return await this[_0x58f737(0x8d0)][_0x58f737(0x97d)](_0x2350da,{'react':{'text':_0x19919e['reactionMessage']['text'],'key':_0x19919e[_0x58f737(0x77e)]['key']}},_0x391b40);if(_0x19919e['conversation']){let _0x28c42e=_0x19919e[_0x58f737(0x29f)];return _0x5129f7?.[_0x58f737(0x647)]&&(_0x28c42e=await this[_0x58f737(0x4dd)](_0x28c42e,_0x2350da)),await this[_0x58f737(0x8d0)][_0x58f737(0x97d)](_0x2350da,{'text':_0x28c42e,'mentions':_0x5a7eaf,'linkPreview':_0x234928},_0x391b40);}return!_0x19919e[_0x58f737(0x2e7)]&&!_0x19919e['poll']&&_0x2350da!=_0x58f737(0x75a)?await this[_0x58f737(0x8d0)][_0x58f737(0x97d)](_0x2350da,{'forward':{'key':{'remoteJid':this[_0x58f737(0x339)][_0x58f737(0x988)],'fromMe':!0x0},'message':_0x19919e},'mentions':_0x5a7eaf},_0x391b40):_0x2350da===_0x58f737(0x75a)?await this[_0x58f737(0x8d0)][_0x58f737(0x97d)](_0x2350da,_0x19919e[_0x58f737(0x914)][_0x58f737(0x6e8)],{'backgroundColor':_0x19919e[_0x58f737(0x914)][_0x58f737(0x3c8)]['backgroundColor'],'font':_0x19919e['status'][_0x58f737(0x3c8)][_0x58f737(0x597)],'statusJidList':_0x19919e[_0x58f737(0x914)][_0x58f737(0x3c8)][_0x58f737(0x704)]}):await this[_0x58f737(0x8d0)]['sendMessage'](_0x2350da,_0x19919e,_0x391b40);})()),_0xbf334=(0x0,w[_0x32a0ab(0x797)])(_0x507a3b[_0x32a0ab(0x535)]),_0x2147f=(0x0,w[_0x32a0ab(0x824)])(_0xbf334),{message_normalized:_0x298d92}=this['normalizeMessage'](_0xbf334,_0x2147f,null),_0x1e043d={'_id':_0x507a3b[_0x32a0ab(0x205)]['id'],'key':_0x507a3b[_0x32a0ab(0x205)],'pushName':_0x507a3b['pushName'],'isGroup':_0x507a3b['key'][_0x32a0ab(0x8f4)][_0x32a0ab(0x4ff)](_0x32a0ab(0x8b8)),'profilePictureUrl':this[_0x32a0ab(0x339)][_0x32a0ab(0x508)],'message':_0xbf334,'messageType':_0x2147f,'message_normalized':{'key':_0x507a3b[_0x32a0ab(0x205)],'pushName':_0x507a3b['pushName'],'messageTimestamp':_0x507a3b[_0x32a0ab(0x5ab)]&&_0x507a3b['messageTimestamp'][_0x32a0ab(0x25c)]()[_0x32a0ab(0x868)]<0xd?_0x507a3b[_0x32a0ab(0x5ab)]*0x3e8:_0x507a3b['messageTimestamp']||null,'source':(0x0,w[_0x32a0ab(0x90d)])(_0x507a3b[_0x32a0ab(0x205)]['id']),..._0x298d92},'messageTimestamp':_0x507a3b[_0x32a0ab(0x5ab)]&&_0x507a3b[_0x32a0ab(0x5ab)][_0x32a0ab(0x25c)]()['length']<0xd?_0x507a3b[_0x32a0ab(0x5ab)]*0x3e8:_0x507a3b[_0x32a0ab(0x5ab)]||null,'owner':this['instance'][_0x32a0ab(0x988)],'source':(0x0,w['getDevice'])(_0x507a3b[_0x32a0ab(0x205)]['id'])};return this[_0x32a0ab(0x23d)][_0x32a0ab(0x7b3)](this[_0x32a0ab(0x259)]+'\x20('+this[_0x32a0ab(0x339)][_0x32a0ab(0x988)]+_0x32a0ab(0x831)+_0x1e043d['key']?.[_0x32a0ab(0x8f4)][_0x32a0ab(0x7cb)]('@s.whatsapp.net','')+_0x32a0ab(0x574)+_0x1e043d[_0x32a0ab(0x2be)]+')'),_0x1e043d['message_normalized']?.[_0x32a0ab(0x931)]&&this[_0x32a0ab(0x23d)][_0x32a0ab(0x7b3)](_0x1e043d[_0x32a0ab(0x30d)]?.['text']),this[_0x32a0ab(0x710)]('send.message',_0x1e043d),F(this[_0x32a0ab(0x259)],_0x32a0ab(0x73d),{'message':_0x1e043d}),this[_0x32a0ab(0x386)](this[_0x32a0ab(0x554)][_0x32a0ab(0x923)](_0x32a0ab(0x844)),_0x1e043d,'SEND_MESSAGE',_0x5527ec),await this[_0x32a0ab(0x89f)][_0x32a0ab(0x535)][_0x32a0ab(0x2ca)]([_0x1e043d],this['instance'][_0x32a0ab(0x988)]),_0x507a3b;}catch(_0x740280){let _0x509ffe=_0x32a0ab(0x54e)+_0x2350da,_0x36a304=_0x740280 instanceof Error?_0x740280[_0x32a0ab(0x535)]:typeof _0x740280==_0x32a0ab(0x20d)?JSON[_0x32a0ab(0x565)](_0x740280):_0x740280,_0x2b3845=_0x509ffe+':\x20'+_0x36a304;throw this[_0x32a0ab(0x23d)]['error'](this[_0x32a0ab(0x259)]+'\x20('+this[_0x32a0ab(0x339)][_0x32a0ab(0x988)]+_0x32a0ab(0x93d)+_0x2b3845),new m(_0x2b3845);}}async[a0_0x1c3883(0x5e0)](_0x7b4d8f,_0x4c5ca6,_0x1a9716){const _0xd26afb=a0_0x1c3883;let _0x3e41dc=this[_0xd26afb(0x346)](_0x7b4d8f),_0x4dd800=(await this[_0xd26afb(0x327)]({'numbers':[_0x3e41dc]}))[0x0];if(!_0x4dd800['exists']&&!(0x0,w[_0xd26afb(0x5fe)])(_0x4dd800['jid']))throw new m(_0x4dd800);let _0x3922c0=(0x0,w[_0xd26afb(0x5fe)])(_0x3e41dc)?_0x3e41dc:_0x4dd800[_0xd26afb(0x7e1)];if((0x0,w[_0xd26afb(0x5fe)])(_0x3922c0))try{await this['client'][_0xd26afb(0x829)](_0x3922c0);}catch{throw new m(_0xd26afb(0x5e8));}try{_0x1a9716?.['delay']&&(await this[_0xd26afb(0x8d0)]['presenceSubscribe'](_0x3922c0),await this[_0xd26afb(0x8d0)][_0xd26afb(0x225)](_0x1a9716?.['presence']??'composing',_0x3e41dc),await(0x0,w['delay'])(_0x1a9716[_0xd26afb(0x6f4)]),await this[_0xd26afb(0x8d0)]['sendPresenceUpdate']('paused',_0x3922c0));let _0x51b8e2=await((async()=>{const _0xc96448=_0xd26afb;let _0x225315,_0x58598a=_0xc96448(0x5ae)+(0x0,oe['randomBytes'])(0x12)[_0xc96448(0x25c)](_0xc96448(0x5f4))[_0xc96448(0x6e5)](),_0x327315=(0x0,w[_0xc96448(0x3ff)])(_0x3922c0,_0x4c5ca6,{'timestamp':new Date(),'userJid':this[_0xc96448(0x339)][_0xc96448(0x988)],'messageId':_0x58598a,'quoted':_0x225315}),_0x5047f9=await this['client']['relayMessage'](_0x3922c0,_0x327315['message'],{'messageId':_0x58598a});_0x327315[_0xc96448(0x205)]={'id':_0x5047f9,'remoteJid':_0x3e41dc,'participant':(0x0,w[_0xc96448(0x2ad)])(_0x3e41dc)?void 0x0:_0x3e41dc,'fromMe':!0x0};for(let [_0x37e268,_0x147395]of Object[_0xc96448(0x5a0)](_0x327315))(!_0x147395||Array['isArray'](_0x147395)&&_0x147395[_0xc96448(0x868)]===0x0)&&delete _0x327315[_0x37e268];return this[_0xc96448(0x8d0)]['ev'][_0xc96448(0x29a)]('messages.upsert',{'messages':[_0x327315],'type':'notify'}),_0x327315;})()),_0x3ea371=await this[_0xd26afb(0x89f)][_0xd26afb(0x874)][_0xd26afb(0x213)]({'where':{'_id':_0x3922c0}},this[_0xd26afb(0x339)][_0xd26afb(0x988)]),_0x4093c5=(0x0,w[_0xd26afb(0x797)])(_0x51b8e2['message']),_0x4d8807=(0x0,w[_0xd26afb(0x824)])(_0x4093c5),{message_normalized:_0x5e4c54}=this[_0xd26afb(0x404)](_0x4093c5,_0x4d8807,null),_0x120012={'_id':_0x51b8e2['key']['id'],'key':_0x51b8e2['key'],'pushName':_0x51b8e2[_0xd26afb(0x733)],'isGroup':_0x51b8e2['key'][_0xd26afb(0x8f4)][_0xd26afb(0x4ff)]('@g.us'),'profilePictureUrl':this['instance'][_0xd26afb(0x508)],'message':_0x4093c5,'messageType':_0x4d8807,'message_normalized':{'key':_0x51b8e2[_0xd26afb(0x205)],'pushName':_0x51b8e2[_0xd26afb(0x733)],'messageTimestamp':_0x51b8e2['messageTimestamp']&&_0x51b8e2[_0xd26afb(0x5ab)][_0xd26afb(0x25c)]()['length']<0xd?_0x51b8e2[_0xd26afb(0x5ab)]*0x3e8:_0x51b8e2[_0xd26afb(0x5ab)]||null,'source':(0x0,w[_0xd26afb(0x90d)])(_0x51b8e2[_0xd26afb(0x205)]['id']),..._0x5e4c54},'messageTimestamp':_0x51b8e2[_0xd26afb(0x5ab)]&&_0x51b8e2[_0xd26afb(0x5ab)][_0xd26afb(0x25c)]()[_0xd26afb(0x868)]<0xd?_0x51b8e2[_0xd26afb(0x5ab)]*0x3e8:_0x51b8e2[_0xd26afb(0x5ab)]||null,'owner':this[_0xd26afb(0x339)][_0xd26afb(0x988)],'source':(0x0,w[_0xd26afb(0x90d)])(_0x51b8e2['key']['id'])};return this[_0xd26afb(0x23d)][_0xd26afb(0x7b3)](this[_0xd26afb(0x259)]+'\x20('+this[_0xd26afb(0x339)][_0xd26afb(0x988)]+'):\x20enviado\x20para\x20['+_0x120012[_0xd26afb(0x205)]?.['remoteJid'][_0xd26afb(0x7cb)]('@s.whatsapp.net','')+_0xd26afb(0x574)+_0x120012[_0xd26afb(0x2be)]+')'),_0x120012[_0xd26afb(0x30d)]?.[_0xd26afb(0x931)]&&this[_0xd26afb(0x23d)]['warn'](_0x120012[_0xd26afb(0x30d)]?.[_0xd26afb(0x931)]),this[_0xd26afb(0x710)](_0xd26afb(0x257),_0x120012),F(this[_0xd26afb(0x259)],_0xd26afb(0x73d),{'message':_0x120012}),this[_0xd26afb(0x386)](this['configService'][_0xd26afb(0x923)]('DATABASE'),_0x120012,_0xd26afb(0x867),_0x3ea371),await this[_0xd26afb(0x89f)][_0xd26afb(0x535)][_0xd26afb(0x2ca)]([_0x120012],this[_0xd26afb(0x339)][_0xd26afb(0x988)]),_0x51b8e2;}catch(_0x48ce7d){throw this[_0xd26afb(0x23d)][_0xd26afb(0x61d)](_0x48ce7d),new m(_0x48ce7d['toString']());}}get[a0_0x1c3883(0x624)](){const _0x5ed8c8=a0_0x1c3883;return this[_0x5ed8c8(0x84a)];}async[a0_0x1c3883(0x30e)](_0x10c58b){const _0x2c4617=a0_0x1c3883;return await this[_0x2c4617(0x2b0)](_0x10c58b[_0x2c4617(0x418)],{'conversation':_0x10c58b[_0x2c4617(0x30e)]['text']},_0x10c58b?.['options']);}async[a0_0x1c3883(0x4ba)](_0x1deda4){const _0x2cd9a2=a0_0x1c3883;if(!_0x1deda4[_0x2cd9a2(0x52b)])throw new m('Type\x20is\x20required');if(!_0x1deda4['content'])throw new m(_0x2cd9a2(0x830));if(_0x1deda4['allContacts']){let _0x3acef0=await this['repository'][_0x2cd9a2(0x788)][_0x2cd9a2(0x571)]({'where':{}},this[_0x2cd9a2(0x339)][_0x2cd9a2(0x988)]);if(!_0x3acef0[_0x2cd9a2(0x868)])throw new m(_0x2cd9a2(0x66a));_0x1deda4[_0x2cd9a2(0x704)]=_0x3acef0[_0x2cd9a2(0x8cd)](_0x30030d=>_0x30030d[_0x2cd9a2(0x733)])[_0x2cd9a2(0x4ac)](_0x44bae4=>_0x44bae4['_id']);}if(!_0x1deda4[_0x2cd9a2(0x704)]?.['length']&&!_0x1deda4[_0x2cd9a2(0x6a9)])throw new m('StatusJidList\x20is\x20required');if(_0x1deda4['type']===_0x2cd9a2(0x931)){if(!_0x1deda4[_0x2cd9a2(0x6da)])throw new m('Background\x20color\x20is\x20required');if(!_0x1deda4[_0x2cd9a2(0x597)])throw new m('Font\x20is\x20required');return{'content':{'text':_0x1deda4[_0x2cd9a2(0x6e8)]},'option':{'backgroundColor':_0x1deda4[_0x2cd9a2(0x6da)],'font':_0x1deda4[_0x2cd9a2(0x597)],'statusJidList':_0x1deda4[_0x2cd9a2(0x704)]}};}if(_0x1deda4[_0x2cd9a2(0x52b)]==='image')return{'content':{'image':{'url':_0x1deda4[_0x2cd9a2(0x6e8)]},'caption':_0x1deda4[_0x2cd9a2(0x639)]},'option':{'statusJidList':_0x1deda4[_0x2cd9a2(0x704)]}};if(_0x1deda4[_0x2cd9a2(0x52b)]===_0x2cd9a2(0x775))return{'content':{'video':{'url':_0x1deda4[_0x2cd9a2(0x6e8)]},'caption':_0x1deda4[_0x2cd9a2(0x639)]},'option':{'statusJidList':_0x1deda4['statusJidList']}};if(_0x1deda4[_0x2cd9a2(0x52b)]==='audio'){this[_0x2cd9a2(0x23d)]['verbose'](this[_0x2cd9a2(0x259)]+'\x20('+this['instance'][_0x2cd9a2(0x988)]+_0x2cd9a2(0x496)),this[_0x2cd9a2(0x23d)][_0x2cd9a2(0x990)](this[_0x2cd9a2(0x259)]+'\x20('+this[_0x2cd9a2(0x339)]['wuid']+'):Processing\x20audio');let _0xa7af5d=await this[_0x2cd9a2(0x860)](_0x1deda4['content']);if(typeof _0xa7af5d==_0x2cd9a2(0x33b)){this[_0x2cd9a2(0x23d)][_0x2cd9a2(0x990)](this[_0x2cd9a2(0x259)]+'\x20('+this[_0x2cd9a2(0x339)]['wuid']+_0x2cd9a2(0x6fb));let _0xe96c91=k[_0x2cd9a2(0x6e4)](_0xa7af5d)[_0x2cd9a2(0x25c)](_0x2cd9a2(0x982));return{'content':{'audio':Buffer[_0x2cd9a2(0x422)](_0xe96c91,_0x2cd9a2(0x982)),'ptt':!0x0,'mimetype':'audio/ogg'},'option':{'statusJidList':_0x1deda4[_0x2cd9a2(0x704)]}};}else throw new x(_0xa7af5d);}throw new m('Type\x20not\x20found');}async['statusMessage'](_0x318b07){const _0x5652a8=a0_0x1c3883;return await this[_0x5652a8(0x2b0)](_0x5652a8(0x75a),{'status':await this[_0x5652a8(0x4ba)](_0x318b07['statusMessage'])});}async[a0_0x1c3883(0x72e)](_0x396491){const _0x23ce2d=a0_0x1c3883;try{let _0x3163ac=await(0x0,w[_0x23ce2d(0x88f)])({[_0x396491['mediatype']]:(0x0,J[_0x23ce2d(0x562)])(_0x396491[_0x23ce2d(0x3d1)])?{'url':_0x396491[_0x23ce2d(0x3d1)]}:Buffer[_0x23ce2d(0x422)](_0x396491[_0x23ce2d(0x3d1)],'base64')},{'upload':this[_0x23ce2d(0x8d0)]['waUploadToServer']}),_0x59fe14=_0x396491['mediatype']+_0x23ce2d(0x4a6);if(_0x396491[_0x23ce2d(0x23f)]===_0x23ce2d(0x666)&&!_0x396491[_0x23ce2d(0x748)]){let _0x17379c=new RegExp(/.*\/(.+?)\./)[_0x23ce2d(0x2bf)](_0x396491[_0x23ce2d(0x3d1)]);_0x396491[_0x23ce2d(0x748)]=_0x17379c?_0x17379c[0x1]:null;}let _0xd3b07;return(0x0,J[_0x23ce2d(0x562)])(_0x396491[_0x23ce2d(0x3d1)])?_0xd3b07=(await K['default'][_0x23ce2d(0x923)](_0x396491[_0x23ce2d(0x3d1)],{'responseType':_0x23ce2d(0x615)}))['headers'][_0x23ce2d(0x8b7)]:_0xd3b07=(0x0,Oi['getMIMEType'])(_0x396491[_0x23ce2d(0x748)]),_0x3163ac[_0x59fe14][_0x23ce2d(0x639)]=_0x396491?.[_0x23ce2d(0x639)],_0x3163ac[_0x59fe14][_0x23ce2d(0x917)]=_0xd3b07,_0x3163ac[_0x59fe14][_0x23ce2d(0x748)]=_0x396491[_0x23ce2d(0x748)],_0x396491['mediatype']===_0x23ce2d(0x775)&&(_0x3163ac[_0x59fe14]['jpegThumbnail']=Uint8Array[_0x23ce2d(0x422)]((0x0,Fe[_0x23ce2d(0x6e4)])((0x0,j[_0x23ce2d(0x25f)])(process['cwd'](),_0x23ce2d(0x6e6)))),_0x3163ac[_0x59fe14][_0x23ce2d(0x423)]=!0x1),(0x0,w[_0x23ce2d(0x3ff)])('',{[_0x59fe14]:{..._0x3163ac[_0x59fe14]}},{'userJid':this[_0x23ce2d(0x339)][_0x23ce2d(0x988)]});}catch(_0x3a2e4a){let _0x3b790c=_0x23ce2d(0x870),_0x1aade9=_0x3a2e4a instanceof Error?_0x3a2e4a[_0x23ce2d(0x535)]:typeof _0x3a2e4a==_0x23ce2d(0x20d)?JSON[_0x23ce2d(0x565)](_0x3a2e4a):_0x3a2e4a,_0x4503e1=_0x3b790c+':\x20'+_0x1aade9;throw this[_0x23ce2d(0x23d)]['error'](this['instanceName']+'\x20('+this[_0x23ce2d(0x339)][_0x23ce2d(0x988)]+'):\x20'+_0x4503e1),new x(_0x4503e1);}}async[a0_0x1c3883(0x962)](_0x34aa1a){const _0x47a02d=a0_0x1c3883;let _0x30c743=0x0;for(;_0x30c743<0x5;)try{let _0x1cd0ec=await this[_0x47a02d(0x72e)](_0x34aa1a[_0x47a02d(0x962)]);return await this['sendMessageWithRetry'](_0x34aa1a[_0x47a02d(0x418)],{..._0x1cd0ec['message']},_0x34aa1a?.[_0x47a02d(0x33e)]);}catch(_0x1e866b){if(_0x30c743++,_0x1e866b instanceof Error&&_0x1e866b[_0x47a02d(0x535)]===_0x47a02d(0x435)){if(_0x30c743>=0x5)throw new m(_0x47a02d(0x660)+_0x1e866b['message']);this[_0x47a02d(0x23d)][_0x47a02d(0x7b3)](_0x47a02d(0x91e)+_0x30c743+_0x47a02d(0x307)+_0x1e866b[_0x47a02d(0x535)]+_0x47a02d(0x8e8)+0x1388/0x3e8+_0x47a02d(0x818)),await new Promise(_0x17bbf5=>setTimeout(_0x17bbf5,0x1388));}else throw new m(_0x1e866b[_0x47a02d(0x535)]);}}async[a0_0x1c3883(0x2ea)](_0x125d59,_0x59dcf3){const _0x49ac2e=a0_0x1c3883;try{this[_0x49ac2e(0x23d)][_0x49ac2e(0x990)](this[_0x49ac2e(0x259)]+'\x20('+this[_0x49ac2e(0x339)][_0x49ac2e(0x988)]+_0x49ac2e(0x2b5));let _0x398b6b,_0xba6b20=_0x59dcf3+'-'+new Date()[_0x49ac2e(0x255)]();this[_0x49ac2e(0x23d)][_0x49ac2e(0x990)](this[_0x49ac2e(0x259)]+'\x20('+this['instance'][_0x49ac2e(0x988)]+_0x49ac2e(0x809)+_0xba6b20);let _0x161dc6=''+(0x0,j[_0x49ac2e(0x25f)])(this[_0x49ac2e(0x80e)],_0xba6b20+_0x49ac2e(0x2cf));if(this[_0x49ac2e(0x23d)][_0x49ac2e(0x990)](this[_0x49ac2e(0x259)]+'\x20('+this[_0x49ac2e(0x339)]['wuid']+_0x49ac2e(0x446)+_0x161dc6),(0x0,J[_0x49ac2e(0x237)])(_0x125d59)){this[_0x49ac2e(0x23d)][_0x49ac2e(0x990)](this[_0x49ac2e(0x259)]+'\x20('+this['instance'][_0x49ac2e(0x988)]+_0x49ac2e(0x616));let _0x50398f=_0x125d59[_0x49ac2e(0x7cb)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x52f8eb=Buffer['from'](_0x50398f,'base64');_0x398b6b=''+(0x0,j[_0x49ac2e(0x25f)])(this[_0x49ac2e(0x80e)],_0x49ac2e(0x4c1)+_0xba6b20+_0x49ac2e(0x99e)),this['logger'][_0x49ac2e(0x990)](this[_0x49ac2e(0x259)]+'\x20('+this[_0x49ac2e(0x339)][_0x49ac2e(0x988)]+'):Image\x20path:\x20'+_0x398b6b),await(0x0,Ut[_0x49ac2e(0x460)])(_0x52f8eb)[_0x49ac2e(0x737)](_0x398b6b),this[_0x49ac2e(0x23d)][_0x49ac2e(0x990)](this[_0x49ac2e(0x259)]+'\x20('+this[_0x49ac2e(0x339)]['wuid']+_0x49ac2e(0x498));}else{this['logger'][_0x49ac2e(0x990)](this[_0x49ac2e(0x259)]+'\x20('+this[_0x49ac2e(0x339)][_0x49ac2e(0x988)]+_0x49ac2e(0x392));let _0x5b6de9=new Date()['getTime'](),_0x1c8e46=_0x125d59+_0x49ac2e(0x822)+_0x5b6de9;this[_0x49ac2e(0x23d)][_0x49ac2e(0x990)](this[_0x49ac2e(0x259)]+'\x20('+this['instance']['wuid']+'):including\x20timestamp\x20in\x20url:\x20'+_0x1c8e46);let _0x306f09=await K[_0x49ac2e(0x460)][_0x49ac2e(0x923)](_0x1c8e46,{'responseType':'arraybuffer'});this[_0x49ac2e(0x23d)]['verbose'](this[_0x49ac2e(0x259)]+'\x20('+this[_0x49ac2e(0x339)][_0x49ac2e(0x988)]+_0x49ac2e(0x6a0));let _0xc92374=Buffer[_0x49ac2e(0x422)](_0x306f09[_0x49ac2e(0x960)],_0x49ac2e(0x217));_0x398b6b=''+(0x0,j[_0x49ac2e(0x25f)])(this[_0x49ac2e(0x80e)],_0x49ac2e(0x4c1)+_0xba6b20+_0x49ac2e(0x99e)),this['logger'][_0x49ac2e(0x990)](this[_0x49ac2e(0x259)]+'\x20('+this[_0x49ac2e(0x339)][_0x49ac2e(0x988)]+'):Image\x20path:\x20'+_0x398b6b),await(0x0,Ut[_0x49ac2e(0x460)])(_0xc92374)[_0x49ac2e(0x737)](_0x398b6b),this['logger'][_0x49ac2e(0x990)](this[_0x49ac2e(0x259)]+'\x20('+this[_0x49ac2e(0x339)]['wuid']+'):Image\x20created');}return await(0x0,Ut[_0x49ac2e(0x460)])(_0x398b6b)[_0x49ac2e(0x6d4)]()[_0x49ac2e(0x737)](_0x161dc6),this['logger'][_0x49ac2e(0x990)](this[_0x49ac2e(0x259)]+'\x20('+this[_0x49ac2e(0x339)][_0x49ac2e(0x988)]+_0x49ac2e(0x628)),k[_0x49ac2e(0x454)](_0x398b6b),this[_0x49ac2e(0x23d)][_0x49ac2e(0x990)](this[_0x49ac2e(0x259)]+'\x20('+this[_0x49ac2e(0x339)][_0x49ac2e(0x988)]+_0x49ac2e(0x711)),_0x161dc6;}catch(_0x1a9cea){let _0x5cec32=_0x49ac2e(0x715),_0x264b18=_0x1a9cea instanceof Error?_0x1a9cea[_0x49ac2e(0x535)]:typeof _0x1a9cea=='object'?JSON[_0x49ac2e(0x565)](_0x1a9cea):_0x1a9cea,_0x787281=_0x5cec32+':\x20'+_0x264b18;this[_0x49ac2e(0x23d)][_0x49ac2e(0x61d)](this[_0x49ac2e(0x259)]+'\x20('+this[_0x49ac2e(0x339)]['wuid']+'):\x20'+_0x787281);}}async[a0_0x1c3883(0x61f)](_0x5e224a){const _0x674294=a0_0x1c3883;let _0x5155bb=await this[_0x674294(0x2ea)](_0x5e224a[_0x674294(0x2fb)]['image'],_0x5e224a['number']),_0x2d51f8=await this['sendMessageWithRetry'](_0x5e224a[_0x674294(0x418)],{'sticker':{'url':_0x5155bb}},_0x5e224a?.[_0x674294(0x33e)]);return k[_0x674294(0x454)](_0x5155bb),this[_0x674294(0x23d)][_0x674294(0x990)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x674294(0x2e2)),_0x2d51f8;}async[a0_0x1c3883(0x550)](_0x352d6a){const _0x489ecb=a0_0x1c3883;if(this['logger']['verbose'](this[_0x489ecb(0x259)]+'\x20('+this[_0x489ecb(0x339)]['wuid']+'):Sending\x20audio\x20whatsapp'),!_0x352d6a[_0x489ecb(0x33e)]?.[_0x489ecb(0x4c0)]&&_0x352d6a['options']?.['encoding']!==!0x1&&(_0x352d6a[_0x489ecb(0x33e)]['encoding']=!0x0),_0x352d6a[_0x489ecb(0x33e)]?.[_0x489ecb(0x4c0)]){let _0x2868a6=await this[_0x489ecb(0x860)](_0x352d6a['audioMessage'][_0x489ecb(0x2e7)]);if(typeof _0x2868a6==_0x489ecb(0x33b)){let _0x227b41=k[_0x489ecb(0x6e4)](_0x2868a6)['toString'](_0x489ecb(0x982));return this[_0x489ecb(0x2b0)](_0x352d6a[_0x489ecb(0x418)],{'audio':Buffer['from'](_0x227b41,_0x489ecb(0x982)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x489ecb(0x6ff),'delay':_0x352d6a?.[_0x489ecb(0x33e)]?.[_0x489ecb(0x6f4)]});}else throw new x(_0x2868a6);}return await this['sendMessageWithRetry'](_0x352d6a[_0x489ecb(0x418)],{'audio':(0x0,J[_0x489ecb(0x562)])(_0x352d6a[_0x489ecb(0x4f0)][_0x489ecb(0x2e7)])?{'url':_0x352d6a[_0x489ecb(0x4f0)][_0x489ecb(0x2e7)]}:Buffer['from'](_0x352d6a[_0x489ecb(0x4f0)][_0x489ecb(0x2e7)],_0x489ecb(0x982)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x489ecb(0x6ff),'delay':_0x352d6a?.[_0x489ecb(0x33e)]?.[_0x489ecb(0x6f4)]});}async['convertaudio'](_0xa572b2){const _0x5870f0=a0_0x1c3883;this[_0x5870f0(0x23d)][_0x5870f0(0x990)](this['instanceName']+'\x20('+this[_0x5870f0(0x339)]['wuid']+_0x5870f0(0x75d));let _0x84af9b=(0x0,J[_0x5870f0(0x562)])(_0xa572b2)?(0x0,oe[_0x5870f0(0x4e6)])(_0x5870f0(0x7cd))['update'](_0xa572b2)[_0x5870f0(0x506)](_0x5870f0(0x5f4)):(0x0,oe[_0x5870f0(0x4e6)])(_0x5870f0(0x7cd))['update'](_0xa572b2)[_0x5870f0(0x506)](_0x5870f0(0x5f4)),_0x23a178=''+(0x0,j[_0x5870f0(0x25f)])(this[_0x5870f0(0x80e)],_0x84af9b+'.ogg');if(k[_0x5870f0(0x6ad)](_0x23a178))return this[_0x5870f0(0x23d)][_0x5870f0(0x990)](this['instanceName']+'\x20('+this[_0x5870f0(0x339)]['wuid']+_0x5870f0(0x5b1)),_0x23a178;let _0x5cbf4f=''+(0x0,j['join'])(this[_0x5870f0(0x80e)],'temp-'+(0x0,Q['v4'])()+_0x5870f0(0x7f2));if((0x0,J[_0x5870f0(0x562)])(_0xa572b2)){let _0x4435c9=new Date()['getTime'](),_0x3510a4=_0xa572b2+_0x5870f0(0x822)+_0x4435c9,_0x6de08d=await K[_0x5870f0(0x460)][_0x5870f0(0x923)](_0x3510a4,{'responseType':_0x5870f0(0x615)});k[_0x5870f0(0x6f2)](_0x5cbf4f,_0x6de08d[_0x5870f0(0x960)]);}else{let _0x2872fb=Buffer[_0x5870f0(0x422)](_0xa572b2,_0x5870f0(0x982));k[_0x5870f0(0x6f2)](_0x5cbf4f,_0x2872fb);}return new Promise((_0x13fa44,_0x4d6f10)=>{const _0x50d6ff=_0x5870f0;(0x0,Ue[_0x50d6ff(0x2bf)])(Ds['default']['path']+_0x50d6ff(0x85b)+_0x5cbf4f+'\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20'+_0x23a178+_0x50d6ff(0x720),_0x5284f9=>{const _0x38887c=_0x50d6ff;if(k[_0x38887c(0x454)](_0x5cbf4f),_0x5284f9){this[_0x38887c(0x23d)][_0x38887c(0x990)](this['instanceName']+'\x20('+this[_0x38887c(0x339)]['wuid']+_0x38887c(0x873)),_0x4d6f10(_0x5284f9);return;}this[_0x38887c(0x23d)]['verbose'](this[_0x38887c(0x259)]+'\x20('+this['instance'][_0x38887c(0x988)]+_0x38887c(0x510)),_0x13fa44(_0x23a178);});});}async[a0_0x1c3883(0x2e0)](_0x5315e5){const _0x551e56=a0_0x1c3883;this[_0x551e56(0x23d)][_0x551e56(0x990)](this[_0x551e56(0x259)]+'\x20('+this[_0x551e56(0x339)]['wuid']+_0x551e56(0x75d));let _0xb136f6=(0x0,oe[_0x551e56(0x4e6)])('sha256')[_0x551e56(0x4f3)](_0x5315e5)[_0x551e56(0x506)](_0x551e56(0x5f4)),_0x3483bd=''+(0x0,j[_0x551e56(0x25f)])(this[_0x551e56(0x80e)],_0xb136f6+_0x551e56(0x7f2));if(k[_0x551e56(0x6ad)](_0x3483bd))return this['logger'][_0x551e56(0x990)](this[_0x551e56(0x259)]+'\x20('+this[_0x551e56(0x339)][_0x551e56(0x988)]+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),j[_0x551e56(0x460)][_0x551e56(0x371)](_0x3483bd);let _0x32ccc1=''+(0x0,j['join'])(this['storePath'],_0x551e56(0x4c1)+_0xb136f6+'.ogg');if((0x0,J[_0x551e56(0x562)])(_0x5315e5)){let _0x45351c=new Date()[_0x551e56(0x255)](),_0x5cc8ac=_0x5315e5+_0x551e56(0x822)+_0x45351c,_0x202f49=await K[_0x551e56(0x460)]['get'](_0x5cc8ac,{'responseType':_0x551e56(0x615)});k['writeFileSync'](_0x32ccc1,_0x202f49['data']);}else{let _0x4e8c47=Buffer[_0x551e56(0x422)](_0x5315e5,'base64');k[_0x551e56(0x6f2)](_0x32ccc1,_0x4e8c47);}return new Promise((_0x3a080d,_0x3263f5)=>{const _0x15cf45=_0x551e56;(0x0,Ue[_0x15cf45(0x2bf)])(Ds[_0x15cf45(0x460)]['path']+_0x15cf45(0x85b)+_0x32ccc1+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20'+_0x3483bd+'\x20-y',_0x550d90=>{const _0x366c9a=_0x15cf45;if(k['unlinkSync'](_0x32ccc1),_0x550d90){this[_0x366c9a(0x23d)][_0x366c9a(0x990)](this[_0x366c9a(0x259)]+'\x20('+this[_0x366c9a(0x339)][_0x366c9a(0x988)]+_0x366c9a(0x873)),_0x3263f5(_0x550d90);return;}this[_0x366c9a(0x23d)]['verbose'](this[_0x366c9a(0x259)]+'\x20('+this[_0x366c9a(0x339)]['wuid']+_0x366c9a(0x510)),_0x3a080d(j[_0x366c9a(0x460)]['basename'](_0x3483bd));});});}async[a0_0x1c3883(0x661)](_0x3b3376){const _0x274389=a0_0x1c3883;console[_0x274389(0x7f9)](_0x274389(0x6ba),_0x3b3376);let _0x326a49;try{_0x3b3376[_0x274389(0x661)]?.[_0x274389(0x6b8)]&&(_0x326a49=await this[_0x274389(0x72e)]({'mediatype':_0x274389(0x925),'media':_0x3b3376['buttonMessage'][_0x274389(0x6b8)]}));}catch(_0x162c82){throw console[_0x274389(0x61d)](_0x274389(0x956),_0x162c82),new Error(_0x274389(0x66f));}try{let _0x2cd642={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':'*Teste\x20de\x20Título*\x0a\x0aDescrição\x20de\x20Teste\x0a'},'footer':{'text':_0x274389(0x2a5)},'header':((()=>{const _0x4d0205=_0x274389;if(_0x326a49?.[_0x4d0205(0x535)]?.[_0x4d0205(0x4b7)])return{'hasMediaAttachment':!!_0x326a49['message']['imageMessage'],'imageMessage':_0x326a49[_0x4d0205(0x535)]['imageMessage']};})()),'nativeFlowMessage':{'buttons':[{'name':_0x274389(0x77c),'buttonParamsJson':JSON[_0x274389(0x565)]({'display_text':_0x274389(0x862),'id':'1'})},{'name':'quick_reply','buttonParamsJson':JSON[_0x274389(0x565)]({'display_text':_0x274389(0x978),'id':'2'})}],'messageParamsJson':JSON[_0x274389(0x565)]({'from':_0x274389(0x65f),'templateId':_0x274389(0x5ae)+(0x0,oe['randomBytes'])(0x12)[_0x274389(0x25c)](_0x274389(0x5f4))['toUpperCase']()})}}}}};return await this[_0x274389(0x5e0)](_0x3b3376[_0x274389(0x418)],_0x2cd642,_0x3b3376?.[_0x274389(0x33e)]);}catch(_0x327fa2){throw console[_0x274389(0x61d)](_0x274389(0x88d),_0x327fa2),new Error(_0x274389(0x614));}}async[a0_0x1c3883(0x5b4)](_0x4b2993){const _0x45acd1=a0_0x1c3883;return await this[_0x45acd1(0x2b0)](_0x4b2993[_0x45acd1(0x418)],{'locationMessage':{'degreesLatitude':_0x4b2993['locationMessage'][_0x45acd1(0x4fa)],'degreesLongitude':_0x4b2993[_0x45acd1(0x5b4)][_0x45acd1(0x337)],'name':_0x4b2993[_0x45acd1(0x5b4)]?.[_0x45acd1(0x1f9)],'address':_0x4b2993[_0x45acd1(0x5b4)]?.[_0x45acd1(0x916)]}},_0x4b2993?.['options']);}async[a0_0x1c3883(0x6a3)](_0x2f73ca){const _0x371c8b=a0_0x1c3883;let _0x24db23={},_0x11bd2c=async _0x427a41=>{const _0x34fb01=a0_0x6fba;let _0x2d4b96=_0x34fb01(0x590)+_0x427a41[_0x34fb01(0x672)]+_0x34fb01(0x2c7)+_0x427a41['fullName']+'\x0a';_0x427a41['organization']&&(_0x2d4b96+='ORG:'+_0x427a41[_0x34fb01(0x1ff)]+';\x0a'),_0x427a41[_0x34fb01(0x235)]&&(_0x2d4b96+=_0x34fb01(0x2e1)+_0x427a41[_0x34fb01(0x235)]+'\x0a'),_0x427a41['url']&&(_0x2d4b96+=_0x34fb01(0x657)+_0x427a41[_0x34fb01(0x4f8)]+'\x0a');let _0x245bc4='',_0x37cc04=0x1;if(_0x427a41[_0x34fb01(0x885)]){let _0x145d94=_0x427a41[_0x34fb01(0x885)]['split']('|');for(let _0x7117a7 of _0x145d94){let _0x573a25=await this[_0x34fb01(0x327)]({'numbers':[_0x7117a7]}),_0x37be3d=(_0x573a25[_0x34fb01(0x868)]>0x0?_0x573a25[0x0][_0x34fb01(0x7e1)]:this['createJid'](_0x7117a7))[_0x34fb01(0x7cb)](_0x34fb01(0x67c),'');_0x245bc4+=_0x34fb01(0x8ee)+_0x37cc04+_0x34fb01(0x805)+_0x37be3d+':'+_0x7117a7+_0x34fb01(0x8d2)+_0x37cc04+_0x34fb01(0x22d),_0x37cc04++;}}return _0x2d4b96+=_0x245bc4+_0x34fb01(0x490),_0x2d4b96;};return _0x2f73ca['contactMessage'][_0x371c8b(0x868)]===0x1?_0x24db23[_0x371c8b(0x6a3)]={'displayName':_0x2f73ca['contactMessage'][0x0]['fullName'],'vcard':await _0x11bd2c(_0x2f73ca[_0x371c8b(0x6a3)][0x0])}:_0x24db23[_0x371c8b(0x913)]={'displayName':_0x2f73ca['contactMessage'][_0x371c8b(0x868)]+_0x371c8b(0x79f),'contacts':await Promise[_0x371c8b(0x200)](_0x2f73ca[_0x371c8b(0x6a3)][_0x371c8b(0x4ac)](async _0x471c53=>({'displayName':_0x471c53[_0x371c8b(0x672)],'vcard':await _0x11bd2c(_0x471c53)})))},await this[_0x371c8b(0x2b0)](_0x2f73ca[_0x371c8b(0x418)],{..._0x24db23},_0x2f73ca?.[_0x371c8b(0x33e)]);}async[a0_0x1c3883(0x77e)](_0x595be9){const _0x2a2d47=a0_0x1c3883;return await this[_0x2a2d47(0x2b0)](_0x595be9[_0x2a2d47(0x77e)]['key'][_0x2a2d47(0x8f4)],{'reactionMessage':{'key':_0x595be9[_0x2a2d47(0x77e)][_0x2a2d47(0x205)],'text':_0x595be9[_0x2a2d47(0x77e)][_0x2a2d47(0x655)]}});}async[a0_0x1c3883(0x327)](_0x39d558){const _0x5933f2=a0_0x1c3883;let _0x2df406=[];for await(let _0x16783c of _0x39d558[_0x5933f2(0x651)]){let _0x2ea9ec=this[_0x5933f2(0x346)](_0x16783c),_0xbb7197=!0x1;try{if((0x0,w[_0x5933f2(0x5fe)])(_0x2ea9ec)){let _0x9b75ad=(await this[_0x5933f2(0x89f)][_0x5933f2(0x874)]['findOne']({'where':{'_id':_0x2ea9ec}},this[_0x5933f2(0x339)][_0x5933f2(0x988)]))[_0x5933f2(0x573)];_0x9b75ad?(_0xbb7197=!0x0,_0x2df406['push'](new ce(_0x9b75ad['id'],_0xbb7197,_0x9b75ad?.[_0x5933f2(0x24f)]))):(_0x9b75ad=await this[_0x5933f2(0x56b)]({'groupJid':_0x2ea9ec},_0x5933f2(0x644)),_0x2df406[_0x5933f2(0x706)](new ce(_0x9b75ad['id'],!!_0x9b75ad?.['id'],_0x9b75ad?.[_0x5933f2(0x24f)])));}else{if(_0x2ea9ec[_0x5933f2(0x681)](_0x5933f2(0x5da)))_0x2df406[_0x5933f2(0x706)](new ce(_0x2ea9ec,!0x0));else{let _0xd55e3e=(await this[_0x5933f2(0x8d0)][_0x5933f2(0x811)](_0x2ea9ec))[0x0];_0x2df406[_0x5933f2(0x706)](new ce(_0xd55e3e[_0x5933f2(0x7e1)],_0xd55e3e[_0x5933f2(0x689)]));}}}catch{(0x0,w[_0x5933f2(0x5fe)])(_0x2ea9ec)||await this[_0x5933f2(0x529)](_0x2ea9ec),_0x2df406[_0x5933f2(0x706)](new ce(_0x16783c,!0x1));}}return _0x2df406;}async[a0_0x1c3883(0x529)](_0x435fc8){const _0x165df5=a0_0x1c3883;try{await this[_0x165df5(0x89f)]['chat'][_0x165df5(0x213)]({'where':{'_id':_0x435fc8,'imported':!0x0}},this[_0x165df5(0x339)][_0x165df5(0x988)])&&(await this[_0x165df5(0x89f)][_0x165df5(0x874)][_0x165df5(0x4c4)](_0x435fc8,this[_0x165df5(0x339)][_0x165df5(0x988)]),this[_0x165df5(0x23d)][_0x165df5(0x495)]('Chat\x20com\x20ID\x20'+_0x435fc8+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.'));}catch(_0x46b970){let _0x5efa85=_0x165df5(0x3a3),_0x36df45=_0x46b970 instanceof Error?_0x46b970[_0x165df5(0x535)]:typeof _0x46b970=='object'?JSON['stringify'](_0x46b970):_0x46b970,_0x344929=_0x5efa85+':\x20'+_0x36df45;this[_0x165df5(0x23d)][_0x165df5(0x61d)](this['instanceName']+'\x20('+this[_0x165df5(0x339)]['wuid']+'):\x20'+_0x344929);}}async[a0_0x1c3883(0x746)](_0x5efbfa){const _0x4beec0=a0_0x1c3883;try{let _0x296bc6=_0x5efbfa[_0x4beec0(0x7d3)][_0x4beec0(0x8cd)](_0x3e857e=>(0x0,w[_0x4beec0(0x5fe)])(_0x3e857e[_0x4beec0(0x8f4)])||(0x0,w[_0x4beec0(0x2ad)])(_0x3e857e[_0x4beec0(0x8f4)]))['map'](_0x7939c3=>({'remoteJid':_0x7939c3[_0x4beec0(0x8f4)],'fromMe':_0x7939c3[_0x4beec0(0x75e)],'id':_0x7939c3['id']}));await this[_0x4beec0(0x8d0)][_0x4beec0(0x7d3)](_0x296bc6);let _0x104c46=_0x296bc6[_0x4beec0(0x4ac)](_0x1f0dd0=>this[_0x4beec0(0x697)](_0x1f0dd0,{'status':_0x4beec0(0x929),'owner':this[_0x4beec0(0x339)][_0x4beec0(0x988)]})),_0x43239e=_0x296bc6['map'](_0xc8d09b=>this[_0x4beec0(0x89f)][_0x4beec0(0x874)][_0x4beec0(0x3e7)]({'where':{'_id':_0xc8d09b[_0x4beec0(0x8f4)]}},{'unreadcount':0x0},this[_0x4beec0(0x339)][_0x4beec0(0x988)])),[_0x4f270b,_0xe2d433]=await Promise['all']([Promise[_0x4beec0(0x200)](_0x104c46),Promise[_0x4beec0(0x200)](_0x43239e)]);return _0xe2d433[_0x4beec0(0x8cd)](_0x11dc07=>_0x11dc07!==null)[_0x4beec0(0x33d)](_0x3c5df7=>{const _0x11e1eb=_0x4beec0;F(this[_0x11e1eb(0x259)],_0x11e1eb(0x4e8),{'chat':_0x3c5df7});}),{'message':_0x4beec0(0x65a),'read':_0x4beec0(0x31a)};}catch(_0x48bf95){let _0x22ac51=_0x4beec0(0x585),_0x312842=_0x48bf95 instanceof Error?_0x48bf95[_0x4beec0(0x535)]:typeof _0x48bf95==_0x4beec0(0x20d)?JSON['stringify'](_0x48bf95):_0x48bf95,_0x1c20b0=_0x22ac51+':\x20'+_0x312842;throw this[_0x4beec0(0x23d)][_0x4beec0(0x61d)](this[_0x4beec0(0x259)]+'\x20('+this[_0x4beec0(0x339)][_0x4beec0(0x988)]+_0x4beec0(0x93d)+_0x1c20b0),new x(_0x1c20b0);}}async[a0_0x1c3883(0x8e7)](_0x5c03af){const _0x6b2a67=a0_0x1c3883;let _0xea8a1d={'where':{'key':{'remoteJid':_0x5c03af}},'limit':0x1},_0x59bfc2=await this[_0x6b2a67(0x8f9)](_0xea8a1d);return _0x59bfc2||(this[_0x6b2a67(0x23d)][_0x6b2a67(0x61d)](_0x6b2a67(0x5c2)+_0x5c03af),null);}async[a0_0x1c3883(0x538)](_0x4dac20){const _0x5e7802=a0_0x1c3883;this[_0x5e7802(0x23d)][_0x5e7802(0x990)](this[_0x5e7802(0x259)]+'\x20('+this[_0x5e7802(0x339)][_0x5e7802(0x988)]+_0x5e7802(0x754));try{let _0x48e621=_0x4dac20[_0x5e7802(0x273)],_0x254104=_0x4dac20['chat'];if(!_0x48e621&&_0x254104?_0x48e621=await this['getLastMessage'](_0x254104):(_0x48e621=_0x4dac20[_0x5e7802(0x273)],_0x48e621[_0x5e7802(0x5ab)]=_0x48e621?.[_0x5e7802(0x5ab)]??Date[_0x5e7802(0x7e8)](),_0x254104=_0x48e621?.['key']?.[_0x5e7802(0x8f4)]),!_0x48e621||Object[_0x5e7802(0x835)](_0x48e621)[_0x5e7802(0x868)]===0x0)throw new U(_0x5e7802(0x28d));this['logger'][_0x5e7802(0x990)](this[_0x5e7802(0x259)]+'\x20('+this['instance'][_0x5e7802(0x988)]+_0x5e7802(0x3bc)+_0x254104);try{await this[_0x5e7802(0x8d0)][_0x5e7802(0x288)]({'archive':_0x4dac20[_0x5e7802(0x5b9)],'lastMessages':[_0x48e621]},this[_0x5e7802(0x346)](_0x254104));}catch(_0x32a2dc){let _0x45d44e=_0x5e7802(0x28a)+_0x254104,_0x593e09=_0x32a2dc instanceof Error?_0x32a2dc[_0x5e7802(0x535)]:typeof _0x32a2dc=='object'?JSON[_0x5e7802(0x565)](_0x32a2dc):_0x32a2dc,_0x1f049a=_0x45d44e+':\x20'+_0x593e09;this[_0x5e7802(0x23d)][_0x5e7802(0x61d)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5e7802(0x93d)+_0x1f049a);}this[_0x5e7802(0x23d)][_0x5e7802(0x990)](this[_0x5e7802(0x259)]+'\x20('+this['instance'][_0x5e7802(0x988)]+_0x5e7802(0x239)+_0x254104);let _0x549aec=await this['repository'][_0x5e7802(0x874)][_0x5e7802(0x3e7)]({'where':{'_id':_0x48e621?.['key']?.[_0x5e7802(0x8f4)]}},{'archived':_0x4dac20[_0x5e7802(0x5b9)]},this[_0x5e7802(0x339)]['wuid']);return _0x549aec?(this[_0x5e7802(0x23d)][_0x5e7802(0x990)](this[_0x5e7802(0x259)]+'\x20('+this[_0x5e7802(0x339)]['wuid']+_0x5e7802(0x47d)+JSON['stringify'](_0x549aec)),F(this[_0x5e7802(0x259)],_0x5e7802(0x4e8),{'chat':_0x549aec})):this[_0x5e7802(0x23d)][_0x5e7802(0x61d)](this['instanceName']+'\x20('+this[_0x5e7802(0x339)][_0x5e7802(0x988)]+_0x5e7802(0x5ac)+_0x254104),{'chatId':_0x254104,'archived':_0x4dac20[_0x5e7802(0x5b9)]};}catch(_0x4f982e){let _0xadc7cb=_0x5e7802(0x3d3),_0x31bf8f=_0x4f982e instanceof Error?_0x4f982e[_0x5e7802(0x535)]:typeof _0x4f982e==_0x5e7802(0x20d)?JSON[_0x5e7802(0x565)](_0x4f982e):_0x4f982e,_0x1a37f1=_0xadc7cb+':\x20'+_0x31bf8f;throw this[_0x5e7802(0x23d)]['error'](this[_0x5e7802(0x259)]+'\x20('+this[_0x5e7802(0x339)][_0x5e7802(0x988)]+_0x5e7802(0x93d)+_0x1a37f1),new x(_0x1a37f1);}}async[a0_0x1c3883(0x4c4)](_0x5b4a09){const _0x40ec86=a0_0x1c3883;this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x40ec86(0x339)][_0x40ec86(0x988)]+'):Delete\x20chat');try{let _0x3a304a=await this[_0x40ec86(0x8e7)](_0x5b4a09);if(!_0x3a304a||Object[_0x40ec86(0x835)](_0x3a304a)['length']===0x0)throw new U(_0x40ec86(0x28d));let _0x17b510=_0x3a304a[0x0];this[_0x40ec86(0x23d)]['verbose'](this[_0x40ec86(0x259)]+'\x20('+this[_0x40ec86(0x339)]['wuid']+_0x40ec86(0x854)+_0x5b4a09);try{await this[_0x40ec86(0x8d0)]['chatModify']({'delete':!0x0,'lastMessages':[{'key':_0x17b510[_0x40ec86(0x205)],'messageTimestamp':_0x17b510[_0x40ec86(0x5ab)]}]},this[_0x40ec86(0x346)](_0x5b4a09));}catch(_0x9803d4){this[_0x40ec86(0x23d)][_0x40ec86(0x61d)](_0x40ec86(0x28a)+_0x5b4a09+':\x20'+_0x9803d4['toString']());}this[_0x40ec86(0x23d)][_0x40ec86(0x990)](this['instanceName']+'\x20('+this[_0x40ec86(0x339)][_0x40ec86(0x988)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x5b4a09);return;}catch(_0x1a0a64){throw this[_0x40ec86(0x23d)][_0x40ec86(0x61d)](this[_0x40ec86(0x259)]+'\x20('+this['instance'][_0x40ec86(0x988)]+_0x40ec86(0x8dd)+_0x1a0a64[_0x40ec86(0x25c)]()),new x({'archived':!0x1,'message':[_0x40ec86(0x320),_0x1a0a64['toString']()]});}}async[a0_0x1c3883(0x250)](_0x4120c5){const _0x45da3b=a0_0x1c3883;try{let _0x2dc593=await this['client']['sendMessage'](_0x4120c5[_0x45da3b(0x8f4)],{'delete':_0x4120c5});try{let _0x11144d=await this['updateMessage'](_0x4120c5,{'status':_0x45da3b(0x302),'owner':this[_0x45da3b(0x339)][_0x45da3b(0x988)]});this[_0x45da3b(0x23d)][_0x45da3b(0x990)](this[_0x45da3b(0x259)]+'\x20('+this[_0x45da3b(0x339)][_0x45da3b(0x988)]+_0x45da3b(0x36e)+_0x11144d);}catch(_0x3267ea){this[_0x45da3b(0x23d)][_0x45da3b(0x61d)](_0x45da3b(0x28b)+_0x3267ea);}return _0x2dc593;}catch(_0x471a16){throw new x(_0x45da3b(0x7e6),_0x471a16?.[_0x45da3b(0x25c)]());}}async[a0_0x1c3883(0x32e)](_0x1f323){const _0x4acce1=a0_0x1c3883;try{let _0x34010a=_0x1f323?.[_0x4acce1(0x535)]?_0x1f323:await this['getMessage'](_0x1f323[_0x4acce1(0x205)],!0x0);for(let _0x219f55 of Na)_0x34010a[_0x4acce1(0x535)][_0x219f55]&&(_0x34010a[_0x4acce1(0x535)]=_0x34010a[_0x4acce1(0x535)][_0x219f55][_0x4acce1(0x535)]);let _0x4d6e08,_0x2458fa;for(let _0x3f8276 of Ea)if(_0x4d6e08=_0x34010a[_0x4acce1(0x535)][_0x3f8276],_0x4d6e08){_0x2458fa=_0x3f8276;break;}if(!_0x4d6e08)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x4d6e08[_0x4acce1(0x4ae)]==_0x4acce1(0x20d)&&(_0x34010a[_0x4acce1(0x535)]=JSON[_0x4acce1(0x298)](JSON['stringify'](_0x34010a[_0x4acce1(0x535)])));let _0x58da5b=await(0x0,w[_0x4acce1(0x249)])({'key':_0x34010a?.[_0x4acce1(0x205)],'message':_0x34010a?.[_0x4acce1(0x535)]},'buffer',{},{'logger':(0x0,Ft['default'])({'level':_0x4acce1(0x299)}),'reuploadRequest':this[_0x4acce1(0x8d0)]['updateMediaMessage']});if(!(_0x58da5b instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x56baee=this[_0x4acce1(0x554)][_0x4acce1(0x923)](_0x4acce1(0x844)),_0xb3f9dd,_0x567766;if(_0x4d6e08['fileName'])_0xb3f9dd=_0x4d6e08[_0x4acce1(0x748)];else{let _0x122ecd=_0x4d6e08[_0x4acce1(0x917)]?.['match'](/\/(\w+)/),_0x12a985=_0x122ecd?_0x122ecd[0x1]:null;if(!_0x12a985)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0xb3f9dd=(0x0,Q['v4'])()+'.'+_0x12a985;}_0x2458fa===_0x4acce1(0x4f0)?_0x567766='/media/'+await this['convertaudioMP3'](_0x58da5b[_0x4acce1(0x25c)](_0x4acce1(0x982))):(await this[_0x4acce1(0x93e)](_0x58da5b,_0xb3f9dd),_0x567766=_0x4acce1(0x6d7)+_0xb3f9dd);let _0x4f5bed=this[_0x4acce1(0x554)]['get']('SERVER')[_0x4acce1(0x601)];if(!_0x4f5bed){let _0x55a88d=this[_0x4acce1(0x554)][_0x4acce1(0x923)](_0x4acce1(0x3c6));_0x4f5bed='https://'+(_0x55a88d&&_0x55a88d[_0x4acce1(0x428)][_0x4acce1(0x3ac)]('/')[0x4]);}_0x567766=''+_0x4f5bed+_0x567766;let _0x4958a7=0xc*0x3c*0x3c*0x3e8,_0x16d4ee={'where':{'_id':_0x34010a[_0x4acce1(0x205)]['id']}},_0x1ed86f={'message_normalized.fileUrl':_0x567766,'message_normalized.expires_fileUrl':Date[_0x4acce1(0x7e8)]()+_0x4958a7};try{let _0x3bb444=await this['repository'][_0x4acce1(0x535)][_0x4acce1(0x4f3)](_0x16d4ee,_0x1ed86f,this[_0x4acce1(0x339)][_0x4acce1(0x988)]);_0x3bb444&&F(this[_0x4acce1(0x259)],_0x4acce1(0x73d),{'message':_0x3bb444});}catch(_0x402a3b){let _0x4d3ad3=_0x4acce1(0x21a),_0x461201=_0x402a3b instanceof Error?_0x402a3b[_0x4acce1(0x535)]:typeof _0x402a3b==_0x4acce1(0x20d)?JSON['stringify'](_0x402a3b):_0x402a3b,_0x1e2355=_0x4d3ad3+':\x20'+_0x461201;this[_0x4acce1(0x23d)][_0x4acce1(0x61d)](this[_0x4acce1(0x259)]+'\x20('+this[_0x4acce1(0x339)]['wuid']+_0x4acce1(0x93d)+_0x1e2355);}return{'mediaType':_0x2458fa,'fileName':_0x4d6e08[_0x4acce1(0x748)],'caption':_0x4d6e08['caption'],'size':{'fileLength':_0x4d6e08[_0x4acce1(0x5b3)],'height':_0x4d6e08[_0x4acce1(0x90f)],'width':_0x4d6e08[_0x4acce1(0x20a)]},'mimetype':_0x4d6e08[_0x4acce1(0x917)],'base64':_0x58da5b[_0x4acce1(0x25c)](_0x4acce1(0x982)),'fileUrl':_0x567766,'expires_fileUrl':Date['now']()+_0x4958a7};}catch(_0x24457c){let _0x1db10a=_0x4acce1(0x22e),_0x4a36d9=_0x24457c instanceof Error?_0x24457c[_0x4acce1(0x535)]:typeof _0x24457c==_0x4acce1(0x20d)?JSON[_0x4acce1(0x565)](_0x24457c):_0x24457c,_0x4492a0=_0x1db10a+':\x20'+_0x4a36d9;throw this[_0x4acce1(0x23d)][_0x4acce1(0x61d)](this[_0x4acce1(0x259)]+'\x20('+this['instance'][_0x4acce1(0x988)]+_0x4acce1(0x93d)+_0x4492a0),new m(_0x4492a0);}}async[a0_0x1c3883(0x93e)](_0xe012c9,_0x385106){const _0x4f379f=a0_0x1c3883;let _0x2d2043=j[_0x4f379f(0x460)]['join'](__dirname,_0x4f379f(0x4cf));k[_0x4f379f(0x6ad)](_0x2d2043)||k[_0x4f379f(0x52f)](_0x2d2043,{'recursive':!0x0});let _0x5783ef=j[_0x4f379f(0x460)]['join'](_0x2d2043,_0x385106);return new Promise((_0x5416bc,_0x54454c)=>{const _0x110b3f=_0x4f379f;k[_0x110b3f(0x768)](_0x5783ef,_0xe012c9,_0x43b742=>{const _0x1b29af=_0x110b3f;_0x43b742?(this[_0x1b29af(0x23d)]['error'](_0x1b29af(0x964)+(_0x43b742 instanceof Error?_0x43b742[_0x1b29af(0x535)]:JSON[_0x1b29af(0x565)](_0x43b742,null,0x2))),_0x54454c(_0x43b742)):(this[_0x1b29af(0x23d)]['log'](_0x1b29af(0x549)+_0x5783ef),_0x5416bc(_0x5783ef));});});}async[a0_0x1c3883(0x445)](_0x30512d){const _0x50c2bd=a0_0x1c3883;return await this[_0x50c2bd(0x89f)][_0x50c2bd(0x788)][_0x50c2bd(0x571)](_0x30512d,this[_0x50c2bd(0x339)][_0x50c2bd(0x988)]);}async[a0_0x1c3883(0x903)](){const _0x45142e=a0_0x1c3883;return await this[_0x45142e(0x89f)]['label'][_0x45142e(0x571)]({'where':{}},this[_0x45142e(0x339)][_0x45142e(0x988)]);}async[a0_0x1c3883(0x8f9)](_0x4cd0e9){const _0x3a37c2=a0_0x1c3883;return await this[_0x3a37c2(0x89f)][_0x3a37c2(0x535)][_0x3a37c2(0x571)](_0x4cd0e9,this[_0x3a37c2(0x339)][_0x3a37c2(0x988)]);}async[a0_0x1c3883(0x280)](){const _0x13a2f5=a0_0x1c3883;return this[_0x13a2f5(0x89f)][_0x13a2f5(0x874)][_0x13a2f5(0x3b5)](this[_0x13a2f5(0x339)]['wuid']),this[_0x13a2f5(0x89f)][_0x13a2f5(0x874)][_0x13a2f5(0x77a)](this['instance'][_0x13a2f5(0x988)]),this[_0x13a2f5(0x89f)][_0x13a2f5(0x874)][_0x13a2f5(0x776)](this['instance'][_0x13a2f5(0x988)]),this[_0x13a2f5(0x89f)][_0x13a2f5(0x874)][_0x13a2f5(0x97a)](this[_0x13a2f5(0x339)]['wuid']),await this[_0x13a2f5(0x89f)]['chat'][_0x13a2f5(0x571)]({'where':{}},this[_0x13a2f5(0x339)][_0x13a2f5(0x988)]);}async[a0_0x1c3883(0x1f5)](_0x32640c){const _0x9ca52a=a0_0x1c3883;try{if(!Array[_0x9ca52a(0x37b)](_0x32640c)||_0x32640c[_0x9ca52a(0x868)]===0x0)throw new Error(_0x9ca52a(0x4b2));let _0x2780ac=[],_0x17b8ae=[];for(let _0x4e5145 of _0x32640c){if(_0x4e5145[_0x9ca52a(0x8a0)])_0x4e5145[_0x9ca52a(0x8a0)]=this[_0x9ca52a(0x346)](_0x4e5145[_0x9ca52a(0x8a0)]);else continue;await this[_0x9ca52a(0x89f)][_0x9ca52a(0x874)][_0x9ca52a(0x213)]({'where':{'_id':_0x4e5145[_0x9ca52a(0x8a0)]}},this['instance'][_0x9ca52a(0x988)])?_0x17b8ae[_0x9ca52a(0x706)]({'_id':_0x4e5145[_0x9ca52a(0x8a0)],'leadInfo':_0x4e5145[_0x9ca52a(0x53d)],'owner':this['instance'][_0x9ca52a(0x988)]}):_0x2780ac[_0x9ca52a(0x706)]({'_id':_0x4e5145[_0x9ca52a(0x8a0)],'owner':this[_0x9ca52a(0x339)][_0x9ca52a(0x988)],'leadInfo':_0x4e5145[_0x9ca52a(0x53d)],'imported':!0x0});}return _0x17b8ae['length']>0x0&&await this[_0x9ca52a(0x89f)][_0x9ca52a(0x874)][_0x9ca52a(0x286)](_0x17b8ae[_0x9ca52a(0x4ac)](_0x215ba8=>({'query':{'where':{'_id':_0x215ba8[_0x9ca52a(0x8a0)],'owner':this[_0x9ca52a(0x339)]['wuid']}},'update':_0x215ba8}))),_0x2780ac[_0x9ca52a(0x868)]>0x0&&await this['repository'][_0x9ca52a(0x874)][_0x9ca52a(0x36d)](_0x2780ac,this[_0x9ca52a(0x339)][_0x9ca52a(0x988)]),{'updated':_0x17b8ae['length'],'inserted':_0x2780ac['length']};}catch(_0x255629){let _0x1e5682=_0x9ca52a(0x7e3),_0xea6b72=_0x255629 instanceof Error?_0x255629[_0x9ca52a(0x535)]:typeof _0x255629==_0x9ca52a(0x20d)?JSON[_0x9ca52a(0x565)](_0x255629):_0x255629,_0x6f0020=_0x1e5682+':\x20'+_0xea6b72;throw this[_0x9ca52a(0x23d)][_0x9ca52a(0x61d)](this['instanceName']+'\x20('+this[_0x9ca52a(0x339)][_0x9ca52a(0x988)]+_0x9ca52a(0x93d)+_0x6f0020),new m(_0x6f0020);}}async[a0_0x1c3883(0x55d)](_0x1ad514){const _0x5d2345=a0_0x1c3883;try{if(!Array[_0x5d2345(0x37b)](_0x1ad514)||_0x1ad514['length']===0x0)throw new Error(_0x5d2345(0x4b2));let _0x53b4d0=0x64,_0x4d9277=0x0;for(let _0x454079=0x0;_0x454079<_0x1ad514[_0x5d2345(0x868)];_0x454079+=_0x53b4d0){let _0x312204=_0x1ad514[_0x5d2345(0x7a4)](_0x454079,_0x454079+_0x53b4d0),{updated:_0x1b2c7b}=await this[_0x5d2345(0x70f)](_0x312204);_0x4d9277+=_0x1b2c7b;}return{'updated':_0x4d9277};}catch(_0x509afb){let _0x2d51fe=_0x5d2345(0x7e3),_0x3ecc36=_0x509afb instanceof Error?_0x509afb['message']:typeof _0x509afb==_0x5d2345(0x20d)?JSON[_0x5d2345(0x565)](_0x509afb):_0x509afb,_0x17c898=_0x2d51fe+':\x20'+_0x3ecc36;throw this[_0x5d2345(0x23d)]['error'](this[_0x5d2345(0x259)]+'\x20('+this[_0x5d2345(0x339)][_0x5d2345(0x988)]+_0x5d2345(0x93d)+_0x17c898),new m(_0x17c898);}}async[a0_0x1c3883(0x70f)](_0x26f73b){const _0x4de837=a0_0x1c3883;try{let _0x3cb566=await this[_0x4de837(0x89f)][_0x4de837(0x67e)]['find']({'where':{}},this['instance']['wuid']),_0x542cb0=new Set(_0x3cb566['map'](_0x211236=>_0x211236['_id'])),_0x5229b5=[],_0x4e594d=[];for(let _0x6a9fce of _0x26f73b){if(!_0x6a9fce[_0x4de837(0x8a0)])continue;_0x6a9fce[_0x4de837(0x8a0)]=this[_0x4de837(0x346)](_0x6a9fce[_0x4de837(0x8a0)]);let _0x2c1b54=await this[_0x4de837(0x89f)]['chat'][_0x4de837(0x213)]({'where':{'_id':_0x6a9fce[_0x4de837(0x8a0)]}},this['instance'][_0x4de837(0x988)]),_0x3633f4={};if(Object[_0x4de837(0x5a0)](_0x6a9fce['leadInfo'])[_0x4de837(0x33d)](([_0x4fa276,_0x89a9bb])=>{const _0x4e2cc6=_0x4de837;_0x3633f4[_0x4e2cc6(0x50b)+_0x4fa276]=_0x89a9bb;}),_0x2c1b54&&!_0x2c1b54[_0x4de837(0x5c8)]){let _0x3b98fb=(_0x6a9fce[_0x4de837(0x53d)][_0x4de837(0x4d3)]||[])[_0x4de837(0x8cd)](_0x5bad91=>_0x542cb0[_0x4de837(0x59b)](_0x5bad91)),_0x57a4b4=new Set(_0x2c1b54[_0x4de837(0x53d)]['etiquetas']||[]),_0x57d015=_0x3b98fb[_0x4de837(0x8cd)](_0x35bbae=>!_0x57a4b4[_0x4de837(0x59b)](_0x35bbae)),_0x2fcf5f=[..._0x57a4b4][_0x4de837(0x8cd)](_0x5d6350=>!_0x3b98fb[_0x4de837(0x681)](_0x5d6350));_0x4e594d[_0x4de837(0x706)](..._0x57d015[_0x4de837(0x4ac)](_0x2b4426=>this['AddChatLabel'](_0x2b4426,_0x6a9fce[_0x4de837(0x8a0)]))),_0x4e594d[_0x4de837(0x706)](..._0x2fcf5f['map'](_0x42d9a0=>this[_0x4de837(0x698)](_0x42d9a0,_0x6a9fce[_0x4de837(0x8a0)]))),_0x6a9fce[_0x4de837(0x53d)]['etiquetas']=_0x3b98fb,_0x5229b5[_0x4de837(0x706)]({'query':{'where':{'_id':_0x6a9fce[_0x4de837(0x8a0)],'owner':this[_0x4de837(0x339)]['wuid']}},'update':_0x3633f4});}else _0x3633f4[_0x4de837(0x5c8)]=!0x0,_0x5229b5[_0x4de837(0x706)]({'query':{'where':{'_id':_0x6a9fce[_0x4de837(0x8a0)],'owner':this[_0x4de837(0x339)][_0x4de837(0x988)]}},'update':_0x3633f4});}let _0x5aaef0=await this['repository'][_0x4de837(0x874)]['updateMany'](_0x5229b5);return await Promise[_0x4de837(0x200)](_0x4e594d),{'updated':_0x5aaef0};}catch(_0x4e23d2){let _0x755eaa=_0x4de837(0x7e3),_0x3f9c2e=_0x4e23d2 instanceof Error?_0x4e23d2[_0x4de837(0x535)]:typeof _0x4e23d2==_0x4de837(0x20d)?JSON[_0x4de837(0x565)](_0x4e23d2):_0x4e23d2,_0x3d095f=_0x755eaa+':\x20'+_0x3f9c2e;throw this[_0x4de837(0x23d)][_0x4de837(0x61d)](this[_0x4de837(0x259)]+'\x20('+this[_0x4de837(0x339)][_0x4de837(0x988)]+_0x4de837(0x93d)+_0x3d095f),new m(_0x3d095f);}}async[a0_0x1c3883(0x355)](){const _0x42f105=a0_0x1c3883;return await this[_0x42f105(0x8d0)]['fetchPrivacySettings']();}async[a0_0x1c3883(0x5d4)](_0x53b82d){const _0x182d36=a0_0x1c3883;try{return await this[_0x182d36(0x8d0)][_0x182d36(0x769)](_0x53b82d[_0x182d36(0x78e)][_0x182d36(0x8f1)]),await this[_0x182d36(0x8d0)][_0x182d36(0x834)](_0x53b82d['privacySettings'][_0x182d36(0x5fb)]),await this['client'][_0x182d36(0x385)](_0x53b82d[_0x182d36(0x78e)]['status']),await this[_0x182d36(0x8d0)][_0x182d36(0x38a)](_0x53b82d[_0x182d36(0x78e)][_0x182d36(0x65d)]),await this[_0x182d36(0x8d0)][_0x182d36(0x93f)](_0x53b82d[_0x182d36(0x78e)][_0x182d36(0x6cc)]),await this[_0x182d36(0x8d0)][_0x182d36(0x7e5)](_0x53b82d[_0x182d36(0x78e)][_0x182d36(0x778)]),this['client']?.['ws']?.['close'](),{'update':_0x182d36(0x31a),'data':{'readreceipts':_0x53b82d['privacySettings'][_0x182d36(0x8f1)],'profile':_0x53b82d[_0x182d36(0x78e)][_0x182d36(0x5fb)],'status':_0x53b82d[_0x182d36(0x78e)][_0x182d36(0x914)],'online':_0x53b82d['privacySettings'][_0x182d36(0x65d)],'last':_0x53b82d[_0x182d36(0x78e)][_0x182d36(0x6cc)],'groupadd':_0x53b82d[_0x182d36(0x78e)][_0x182d36(0x778)]}};}catch(_0x11d6e3){let _0x365c26=_0x182d36(0x463),_0x39f914=_0x11d6e3 instanceof Error?_0x11d6e3[_0x182d36(0x535)]:typeof _0x11d6e3==_0x182d36(0x20d)?JSON[_0x182d36(0x565)](_0x11d6e3):_0x11d6e3,_0x393510=_0x365c26+':\x20'+_0x39f914;throw this[_0x182d36(0x23d)][_0x182d36(0x61d)](this[_0x182d36(0x259)]+'\x20('+this['instance'][_0x182d36(0x988)]+'):\x20'+_0x393510),new m(_0x393510);}}async[a0_0x1c3883(0x543)](_0x537a25){const _0x1b3ed7=a0_0x1c3883;let _0x5f3205=(_0x537a25?this['createJid'](_0x537a25):this['client']?.[_0x1b3ed7(0x540)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this['logger'][_0x1b3ed7(0x990)](this[_0x1b3ed7(0x259)]+'\x20('+this[_0x1b3ed7(0x339)]['wuid']+_0x1b3ed7(0x79e)+_0x5f3205);let _0x2703a6=await this[_0x1b3ed7(0x89f)][_0x1b3ed7(0x788)][_0x1b3ed7(0x213)]({'where':{'_id':_0x5f3205}},this[_0x1b3ed7(0x339)]['wuid']),_0x2f975d=_0x2703a6?_0x2703a6[_0x1b3ed7(0x733)]:null;try{let _0x3fc7c6=(await this[_0x1b3ed7(0x327)]({'numbers':[_0x5f3205]}))?.['shift'](),_0x5f3e18=(await this[_0x1b3ed7(0x3e3)](_0x5f3205,null,!0x1))['cachedContact'][_0x1b3ed7(0x6b4)],_0xa9ec40=await this[_0x1b3ed7(0x637)](_0x3fc7c6?.[_0x1b3ed7(0x7e1)]),_0x596c11=await this[_0x1b3ed7(0x981)](_0x3fc7c6?.[_0x1b3ed7(0x7e1)]),_0x15a925=(await this[_0x1b3ed7(0x3e3)](_0x5f3205,null,!0x1))[_0x1b3ed7(0x736)][_0x1b3ed7(0x1f9)],_0x561efe=await this[_0x1b3ed7(0x89f)][_0x1b3ed7(0x874)]['findOne']({'where':{'_id':_0x5f3205}},this['instance'][_0x1b3ed7(0x988)]),_0x414c59={'imagechat':_0x5f3e18,'contactname':_0x2f975d||null,'pushName':_0x15a925,'status':_0xa9ec40?.[_0x1b3ed7(0x914)],'isBusiness':_0x596c11[_0x1b3ed7(0x545)],'email':_0x596c11?.[_0x1b3ed7(0x235)],'description':_0x596c11?.[_0x1b3ed7(0x4c6)],'website':_0x596c11?.[_0x1b3ed7(0x2e9)]?.[_0x1b3ed7(0x479)](),'lastcache':Date[_0x1b3ed7(0x7e8)](),'imported':!_0x561efe},_0x98876e=await this[_0x1b3ed7(0x89f)][_0x1b3ed7(0x874)][_0x1b3ed7(0x3e7)]({'where':{'_id':_0x5f3205}},_0x414c59,this[_0x1b3ed7(0x339)]['wuid']),_0x53f150={'owner':this[_0x1b3ed7(0x339)][_0x1b3ed7(0x988)],'_id':_0x5f3205,'profilePictureUrl':_0x5f3e18,'status':_0xa9ec40?.[_0x1b3ed7(0x914)]};return this['repository'][_0x1b3ed7(0x788)][_0x1b3ed7(0x4f3)]([_0x53f150],this[_0x1b3ed7(0x339)][_0x1b3ed7(0x988)]),_0x98876e&&F(this[_0x1b3ed7(0x259)],_0x1b3ed7(0x4e8),{'chat':_0x98876e}),{'wuid':_0x3fc7c6?.['jid']||_0x5f3205,'name':_0x3fc7c6?.[_0x1b3ed7(0x1f9)],'pushName':_0x15a925,'numberExists':_0x3fc7c6?.[_0x1b3ed7(0x689)],'picture':_0x5f3e18,'status':_0xa9ec40?.[_0x1b3ed7(0x914)],'isBusiness':_0x596c11[_0x1b3ed7(0x545)],'email':_0x596c11?.[_0x1b3ed7(0x235)],'description':_0x596c11?.[_0x1b3ed7(0x4c6)],'website':_0x596c11?.[_0x1b3ed7(0x2e9)]?.[_0x1b3ed7(0x479)]()};}catch(_0x48aef1){return this[_0x1b3ed7(0x23d)][_0x1b3ed7(0x61d)](_0x1b3ed7(0x5e2)+(_0x48aef1 instanceof Error?_0x48aef1[_0x1b3ed7(0x535)]:JSON[_0x1b3ed7(0x565)](_0x48aef1,null,0x2))),{};}}async[a0_0x1c3883(0x981)](_0x2e9d32){const _0xe05ccc=a0_0x1c3883;this[_0xe05ccc(0x23d)][_0xe05ccc(0x990)](this[_0xe05ccc(0x259)]+'\x20('+this[_0xe05ccc(0x339)][_0xe05ccc(0x988)]+_0xe05ccc(0x569));try{let _0x22457d=_0x2e9d32?this['createJid'](_0x2e9d32):this[_0xe05ccc(0x339)][_0xe05ccc(0x988)],_0x3836d9=await this[_0xe05ccc(0x8d0)][_0xe05ccc(0x438)](_0x22457d);return this[_0xe05ccc(0x23d)][_0xe05ccc(0x990)](this[_0xe05ccc(0x259)]+'\x20('+this['instance'][_0xe05ccc(0x988)]+_0xe05ccc(0x630)),_0x3836d9?(this[_0xe05ccc(0x23d)][_0xe05ccc(0x990)](this['instanceName']+'\x20('+this['instance'][_0xe05ccc(0x988)]+_0xe05ccc(0x34b)),{'isBusiness':!0x0,..._0x3836d9}):{'isBusiness':!0x1,'message':_0xe05ccc(0x7a1),...(await this[_0xe05ccc(0x327)]({'numbers':[_0x22457d]}))?.[_0xe05ccc(0x479)]()};}catch(_0x2fd9df){let _0x2ba9b8=_0xe05ccc(0x8c4),_0x20ccfb=_0x2fd9df instanceof Error?_0x2fd9df['message']:typeof _0x2fd9df==_0xe05ccc(0x20d)?JSON['stringify'](_0x2fd9df):_0x2fd9df,_0x4a5724=_0x2ba9b8+':\x20'+_0x20ccfb;throw this[_0xe05ccc(0x23d)]['error'](this[_0xe05ccc(0x259)]+'\x20('+this[_0xe05ccc(0x339)][_0xe05ccc(0x988)]+_0xe05ccc(0x93d)+_0x4a5724),new x(_0x4a5724);}}async[a0_0x1c3883(0x637)](_0x2d7e0a){const _0x4edc96=a0_0x1c3883;let _0x31d923=this[_0x4edc96(0x346)](_0x2d7e0a);try{return{'wuid':_0x31d923,'status':(await this[_0x4edc96(0x8d0)]['fetchStatus'](_0x31d923))[0x0]?.[_0x4edc96(0x914)]};}catch{return{'wuid':_0x31d923,'status':null};}}async[a0_0x1c3883(0x718)](_0x352d20){const _0x3b4795=a0_0x1c3883;try{return await this[_0x3b4795(0x8d0)][_0x3b4795(0x718)](_0x352d20),{'update':_0x3b4795(0x31a)};}catch(_0x2e79ad){let _0x410503=_0x3b4795(0x44a),_0x5dd492=_0x2e79ad instanceof Error?_0x2e79ad[_0x3b4795(0x535)]:typeof _0x2e79ad==_0x3b4795(0x20d)?JSON['stringify'](_0x2e79ad):_0x2e79ad,_0x3ee129=_0x410503+':\x20'+_0x5dd492;throw this[_0x3b4795(0x23d)][_0x3b4795(0x61d)](this['instanceName']+'\x20('+this[_0x3b4795(0x339)][_0x3b4795(0x988)]+_0x3b4795(0x93d)+_0x3ee129),new x(_0x3ee129);}}async[a0_0x1c3883(0x7c9)](_0x399e46){const _0x3c229f=a0_0x1c3883;try{return await this[_0x3c229f(0x8d0)][_0x3c229f(0x7c9)](_0x399e46),{'update':_0x3c229f(0x31a)};}catch(_0x808fab){let _0x5ec2ea=_0x3c229f(0x8ef),_0x35e461=_0x808fab instanceof Error?_0x808fab[_0x3c229f(0x535)]:typeof _0x808fab==_0x3c229f(0x20d)?JSON[_0x3c229f(0x565)](_0x808fab):_0x808fab,_0x34cbb5=_0x5ec2ea+':\x20'+_0x35e461;throw this[_0x3c229f(0x23d)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+_0x34cbb5),new x(_0x34cbb5);}}async[a0_0x1c3883(0x6fe)](_0x43f4dd){const _0x56925a=a0_0x1c3883;try{let _0x5b4266;if((0x0,J[_0x56925a(0x562)])(_0x43f4dd)){let _0x4be6aa=new Date()[_0x56925a(0x255)](),_0x291ddb=_0x43f4dd+_0x56925a(0x822)+_0x4be6aa;_0x5b4266=(await K[_0x56925a(0x460)][_0x56925a(0x923)](_0x291ddb,{'responseType':_0x56925a(0x615)}))[_0x56925a(0x960)];}else{if((0x0,J[_0x56925a(0x237)])(_0x43f4dd))_0x5b4266=Buffer[_0x56925a(0x422)](_0x43f4dd,'base64');else throw new m(_0x56925a(0x76a));}return await this[_0x56925a(0x8d0)]['updateProfilePicture'](this[_0x56925a(0x339)]['wuid'],_0x5b4266),{'update':'success'};}catch(_0x2b40bc){let _0x262060=_0x56925a(0x4e9),_0x7294fe=_0x2b40bc instanceof Error?_0x2b40bc[_0x56925a(0x535)]:typeof _0x2b40bc==_0x56925a(0x20d)?JSON[_0x56925a(0x565)](_0x2b40bc):_0x2b40bc,_0x51d13d=_0x262060+':\x20'+_0x7294fe;throw this[_0x56925a(0x23d)][_0x56925a(0x61d)](this['instanceName']+'\x20('+this[_0x56925a(0x339)][_0x56925a(0x988)]+'):\x20'+_0x51d13d),new x(_0x51d13d);}}async['removeProfilePicture'](){const _0x5a876b=a0_0x1c3883;try{return await this[_0x5a876b(0x8d0)][_0x5a876b(0x240)](this[_0x5a876b(0x339)][_0x5a876b(0x988)]),{'update':_0x5a876b(0x31a)};}catch(_0x284a28){let _0x1edee2=_0x5a876b(0x4bc),_0xe5b55a=_0x284a28 instanceof Error?_0x284a28['message']:typeof _0x284a28==_0x5a876b(0x20d)?JSON[_0x5a876b(0x565)](_0x284a28):_0x284a28,_0x43579e=_0x1edee2+':\x20'+_0xe5b55a;throw this['logger'][_0x5a876b(0x61d)](this[_0x5a876b(0x259)]+'\x20('+this[_0x5a876b(0x339)]['wuid']+_0x5a876b(0x93d)+_0x43579e),new x(_0x43579e);}}async[a0_0x1c3883(0x2f0)](_0x2f44ed){const _0x312aaf=a0_0x1c3883;try{let _0xa960b4=(await this[_0x312aaf(0x327)]({'numbers':_0x2f44ed[_0x312aaf(0x2ab)]}))[_0x312aaf(0x8cd)](_0x5c198e=>_0x5c198e['exists'])[_0x312aaf(0x4ac)](_0x47db87=>_0x47db87['jid']),{id:_0x16e547}=await this[_0x312aaf(0x8d0)]['groupCreate'](_0x2f44ed[_0x312aaf(0x24f)],_0xa960b4);_0x2f44ed?.[_0x312aaf(0x4c6)]&&await this[_0x312aaf(0x8d0)][_0x312aaf(0x578)](_0x16e547,_0x2f44ed['description']);let _0x4844aa=await this[_0x312aaf(0x8d0)][_0x312aaf(0x829)](_0x16e547);return _0x4844aa[_0x312aaf(0x572)]=[],await this[_0x312aaf(0x487)](_0x4844aa),{'metadata':_0x4844aa};}catch(_0x36f917){let _0x2f320b=_0x312aaf(0x90a),_0x17bbd2=_0x36f917 instanceof Error?_0x36f917[_0x312aaf(0x535)]:typeof _0x36f917=='object'?JSON['stringify'](_0x36f917):_0x36f917,_0x530ab5=_0x2f320b+':\x20'+_0x17bbd2;throw this[_0x312aaf(0x23d)]['error'](this[_0x312aaf(0x259)]+'\x20('+this['instance'][_0x312aaf(0x988)]+'):\x20'+_0x530ab5),new x(_0x530ab5);}}async[a0_0x1c3883(0x359)](_0x31b677){const _0x12ef71=a0_0x1c3883;try{if(_0x31b677[_0x12ef71(0x853)]===!0x0&&await this[_0x12ef71(0x8d0)][_0x12ef71(0x735)](_0x31b677[_0x12ef71(0x652)],_0x12ef71(0x82b)),_0x31b677['restrict']===!0x1&&await this[_0x12ef71(0x8d0)][_0x12ef71(0x735)](_0x31b677[_0x12ef71(0x652)],'unlocked'),_0x31b677[_0x12ef71(0x4c5)]===!0x0&&await this[_0x12ef71(0x8d0)][_0x12ef71(0x735)](_0x31b677[_0x12ef71(0x652)],_0x12ef71(0x64c)),_0x31b677['announce']===!0x1&&await this[_0x12ef71(0x8d0)]['groupSettingUpdate'](_0x31b677['groupJid'],_0x12ef71(0x398)),_0x31b677[_0x12ef71(0x91c)]===!0x0&&await this[_0x12ef71(0x8d0)][_0x12ef71(0x600)](_0x31b677[_0x12ef71(0x652)],_0x12ef71(0x40d)),_0x31b677[_0x12ef71(0x91c)]===!0x1&&await this['client'][_0x12ef71(0x600)](_0x31b677[_0x12ef71(0x652)],'admin_add'),_0x31b677[_0x12ef71(0x6b0)]===!0x0&&await this[_0x12ef71(0x8d0)]['groupJoinApprovalMode'](_0x31b677[_0x12ef71(0x652)],'on'),_0x31b677[_0x12ef71(0x6b0)]===!0x1&&await this[_0x12ef71(0x8d0)]['groupJoinApprovalMode'](_0x31b677[_0x12ef71(0x652)],_0x12ef71(0x700)),typeof _0x31b677[_0x12ef71(0x50a)]<'u'&&_0x31b677[_0x12ef71(0x50a)]!==null&&await this['client'][_0x12ef71(0x48f)](_0x31b677['groupJid'],_0x31b677[_0x12ef71(0x50a)]),_0x31b677[_0x12ef71(0x1f9)]&&await this['client'][_0x12ef71(0x5b7)](_0x31b677['groupJid'],_0x31b677[_0x12ef71(0x1f9)]),_0x31b677[_0x12ef71(0x4c6)]&&await this['client'][_0x12ef71(0x578)](_0x31b677[_0x12ef71(0x652)],_0x31b677[_0x12ef71(0x4c6)]),_0x31b677[_0x12ef71(0x925)]){let _0x2ddabb;if((0x0,J['isURL'])(_0x31b677[_0x12ef71(0x925)])){let _0x2f7f1b=new Date()['getTime'](),_0x146115=_0x31b677[_0x12ef71(0x925)]+'?timestamp='+_0x2f7f1b;_0x2ddabb=(await K[_0x12ef71(0x460)][_0x12ef71(0x923)](_0x146115,{'responseType':_0x12ef71(0x615)}))['data'];}else{if((0x0,J[_0x12ef71(0x237)])(_0x31b677[_0x12ef71(0x925)]))_0x2ddabb=Buffer[_0x12ef71(0x422)](_0x31b677[_0x12ef71(0x925)],_0x12ef71(0x982));else throw new m(_0x12ef71(0x76a));}await this[_0x12ef71(0x8d0)][_0x12ef71(0x6fe)](_0x31b677['groupJid'],_0x2ddabb);}return await this[_0x12ef71(0x56b)]({'groupJid':_0x31b677['groupJid']});}catch(_0x48fa87){let _0x53007f=_0x12ef71(0x67f),_0x20358e=_0x48fa87 instanceof Error?_0x48fa87[_0x12ef71(0x535)]:typeof _0x48fa87=='object'?JSON[_0x12ef71(0x565)](_0x48fa87):_0x48fa87,_0x55af03=_0x53007f+':\x20'+_0x20358e;throw this[_0x12ef71(0x23d)][_0x12ef71(0x61d)](this[_0x12ef71(0x259)]+'\x20('+this[_0x12ef71(0x339)][_0x12ef71(0x988)]+_0x12ef71(0x93d)+_0x55af03),new x(_0x55af03);}}async[a0_0x1c3883(0x24e)](_0x101e73){const _0x37610e=a0_0x1c3883;try{let _0x35a667=_0x101e73[_0x37610e(0x2ab)][_0x37610e(0x4ac)](_0x3f54b7=>this[_0x37610e(0x346)](_0x3f54b7));if(_0x101e73[_0x37610e(0x43e)]==='approve'||_0x101e73[_0x37610e(0x43e)]===_0x37610e(0x8c8))await this['client']['groupRequestParticipantsUpdate'](_0x101e73['groupJid'],_0x35a667,_0x101e73[_0x37610e(0x43e)]);else{if(_0x101e73['action']===_0x37610e(0x3ca)){let _0x15b082=(await this[_0x37610e(0x327)]({'numbers':_0x101e73[_0x37610e(0x2ab)]}))[_0x37610e(0x8cd)](_0x5f2d0c=>_0x5f2d0c['exists'])['map'](_0xdc588a=>this[_0x37610e(0x346)](_0xdc588a[_0x37610e(0x7e1)]));if(_0x15b082[_0x37610e(0x868)]===0x0)throw new m(_0x37610e(0x419));await this[_0x37610e(0x8d0)][_0x37610e(0x8f8)](_0x101e73[_0x37610e(0x652)],_0x15b082,_0x37610e(0x3ca));}else await this['client'][_0x37610e(0x8f8)](_0x101e73[_0x37610e(0x652)],_0x35a667,_0x101e73[_0x37610e(0x43e)]);}return await this[_0x37610e(0x56b)]({'groupJid':_0x101e73[_0x37610e(0x652)]});}catch(_0x48e4dc){let _0x286829='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant',_0x504ba2=_0x48e4dc instanceof Error?_0x48e4dc[_0x37610e(0x535)]:typeof _0x48e4dc=='object'?JSON['stringify'](_0x48e4dc):_0x48e4dc,_0x53deab=_0x286829+':\x20'+_0x504ba2;throw this[_0x37610e(0x23d)][_0x37610e(0x61d)](this[_0x37610e(0x259)]+'\x20('+this[_0x37610e(0x339)][_0x37610e(0x988)]+_0x37610e(0x93d)+_0x53deab),new m(_0x53deab);}}async[a0_0x1c3883(0x8c0)](_0x527e28){const _0x3e92b9=a0_0x1c3883;try{return await this[_0x3e92b9(0x8d0)][_0x3e92b9(0x8c0)](_0x527e28['inviteCode']);}catch(_0x5b2ba5){let _0x116275='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo',_0x13b479=_0x5b2ba5 instanceof Error?_0x5b2ba5[_0x3e92b9(0x535)]:typeof _0x5b2ba5==_0x3e92b9(0x20d)?JSON[_0x3e92b9(0x565)](_0x5b2ba5):_0x5b2ba5,_0x5d1471=_0x116275+':\x20'+_0x13b479;throw this[_0x3e92b9(0x23d)]['error'](this[_0x3e92b9(0x259)]+'\x20('+this[_0x3e92b9(0x339)][_0x3e92b9(0x988)]+'):\x20'+_0x5d1471),new m(_0x5d1471);}}async['findGroup'](_0x22061b,_0x35b395='out'){const _0x71ac07=a0_0x1c3883;try{let _0x1f9a9c=await this[_0x71ac07(0x89f)][_0x71ac07(0x874)][_0x71ac07(0x213)]({'where':{'_id':_0x22061b[_0x71ac07(0x652)]}},this[_0x71ac07(0x339)]['wuid']),_0x43cf6c=_0x1f9a9c?_0x1f9a9c[_0x71ac07(0x573)]:null,_0x167161=0x18*0x3c*0x3c*0x3e8;if(!_0x43cf6c||_0x43cf6c[_0x71ac07(0x6e7)]&&Date[_0x71ac07(0x7e8)]()-_0x43cf6c[_0x71ac07(0x6e7)]>_0x167161){let _0x486942=await this[_0x71ac07(0x8d0)][_0x71ac07(0x829)](_0x22061b['groupJid']);if(_0x486942['subjectTime']=_0x486942?.[_0x71ac07(0x264)]&&_0x486942[_0x71ac07(0x264)]['toString']()['length']<0xd?_0x486942?.['subjectTime']*0x3e8:_0x486942?.[_0x71ac07(0x264)]||null,_0x486942[_0x71ac07(0x5a6)]=_0x486942?.[_0x71ac07(0x5a6)]&&_0x486942['creation'][_0x71ac07(0x25c)]()[_0x71ac07(0x868)]<0xd?_0x486942?.[_0x71ac07(0x5a6)]*0x3e8:_0x486942?.[_0x71ac07(0x5a6)]||null,_0x43cf6c={..._0x486942,'lastUpdate':Date[_0x71ac07(0x7e8)]()},!_0x486942)return;}let _0x5369b0=_0x43cf6c[_0x71ac07(0x2ab)]?.[_0x71ac07(0x7e0)](_0x9307b7=>_0x9307b7['id']===this['instance'][_0x71ac07(0x988)]+_0x71ac07(0x67c)&&_0x9307b7['admin']!=null)||!0x1;!_0x43cf6c[_0x71ac07(0x558)]&&_0x5369b0&&(_0x43cf6c['inviteCode']=(await this[_0x71ac07(0x558)](_0x22061b,!0x1))[_0x71ac07(0x813)]);let _0x593c6b=(!_0x43cf6c['announce']||_0x5369b0)&&(!_0x43cf6c[_0x71ac07(0x8af)]||_0x5369b0);_0x43cf6c[_0x71ac07(0x58a)]=_0x5369b0,_0x43cf6c[_0x71ac07(0x542)]=_0x593c6b;let _0x8aee9b=[];if(_0x5369b0&&_0x43cf6c[_0x71ac07(0x6b0)])try{_0x8aee9b=await this[_0x71ac07(0x8d0)][_0x71ac07(0x802)](_0x22061b[_0x71ac07(0x652)]),_0x43cf6c[_0x71ac07(0x84b)]=Date[_0x71ac07(0x7e8)]();}catch(_0x1d6e6d){this['logger'][_0x71ac07(0x990)](this['instanceName']+'\x20('+this['instance'][_0x71ac07(0x988)]+'):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20'+_0x22061b[_0x71ac07(0x652)]+':\x20'+(_0x1d6e6d instanceof Error?_0x1d6e6d['message']:JSON[_0x71ac07(0x565)](_0x1d6e6d,null,0x2)));}try{_0x43cf6c['image']=(await this[_0x71ac07(0x3e3)](_0x22061b[_0x71ac07(0x652)],null,!0x0))[_0x71ac07(0x736)]['pictureUrl'];}catch(_0x5d8573){this[_0x71ac07(0x23d)]['verbose'](this['instanceName']+'\x20('+this[_0x71ac07(0x339)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x22061b['groupJid']+':\x20'+(_0x5d8573 instanceof Error?_0x5d8573['message']:JSON['stringify'](_0x5d8573,null,0x2)));}let _0x240537=_0x43cf6c['participants'][_0x71ac07(0x4ac)](_0x11349c=>_0x11349c['id']),_0x1d8b0a=_0x8aee9b[_0x71ac07(0x4ac)](_0x1f79bf=>_0x1f79bf['jid']),_0x4599f6=await this[_0x71ac07(0x89f)]['cacheContact']['findManyByIds']([..._0x240537,..._0x1d8b0a]);_0x43cf6c[_0x71ac07(0x2ab)]=_0x43cf6c['participants'][_0x71ac07(0x4ac)](_0x1b235c=>{const _0x3b1208=_0x71ac07;let _0x1d88b2=_0x4599f6[_0x3b1208(0x571)](_0xba8ed9=>_0xba8ed9[_0x3b1208(0x8a0)]===_0x1b235c['id']);return{'id':_0x1b235c['id'],'isAdmin':['admin',_0x3b1208(0x84e)][_0x3b1208(0x681)](_0x1b235c[_0x3b1208(0x7de)]),'admin':_0x1b235c[_0x3b1208(0x7de)],'pushName':_0x1d88b2?.['name'],'profilePictureUrl':_0x1d88b2?.[_0x3b1208(0x6b4)]};}),_0x43cf6c['awaitingApproval']=_0x8aee9b['map'](_0x4927a4=>{const _0x45f7bb=_0x71ac07;let _0x33cf8a=_0x4599f6[_0x45f7bb(0x571)](_0xa1b85c=>_0xa1b85c[_0x45f7bb(0x8a0)]===_0x4927a4[_0x45f7bb(0x7e1)]);return{'id':_0x4927a4[_0x45f7bb(0x7e1)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x33cf8a?.[_0x45f7bb(0x1f9)],'profilePictureUrl':_0x33cf8a?.[_0x45f7bb(0x6b4)],'request_method':_0x4927a4[_0x45f7bb(0x4c7)],'request_time':_0x4927a4[_0x45f7bb(0x234)]};});let _0xa50471=await this[_0x71ac07(0x89f)][_0x71ac07(0x874)][_0x71ac07(0x3e7)]({'where':{'_id':_0x22061b[_0x71ac07(0x652)]}},{'imagechat':_0x43cf6c[_0x71ac07(0x925)],'name':_0x43cf6c[_0x71ac07(0x24f)],'lastcache':Date[_0x71ac07(0x7e8)](),'groupdata':_0x43cf6c},this['instance'][_0x71ac07(0x988)]);return F(this[_0x71ac07(0x259)],'chats',{'chat':_0xa50471}),{'metadata':_0x43cf6c};}catch(_0x28d213){if(_0x35b395===_0x71ac07(0x644))return;throw new U('Error\x20fetching\x20group',_0x28d213[_0x71ac07(0x535)]['toString']());}}async[a0_0x1c3883(0x784)](){const _0x359826=a0_0x1c3883;try{this[_0x359826(0x23d)][_0x359826(0x495)](_0x359826(0x4ec));let _0x20742a=Date['now'](),_0x16c9cf=0x3*0x3c*0x3c*0x3e8;return _0x20742a-this['lastRealGroupsFetch']>_0x16c9cf&&(this['findRealGroups'](),this['lastRealGroupsFetch']=_0x20742a),(await this[_0x359826(0x89f)][_0x359826(0x874)][_0x359826(0x7ab)]({'where':{'group':!0x0}},this[_0x359826(0x339)]['wuid']))[_0x359826(0x4ac)](_0x254231=>({..._0x254231[_0x359826(0x573)],'groupJid':_0x254231?.['_id'],'participants':_0x254231?.[_0x359826(0x573)]?.[_0x359826(0x2ab)]||[],'awaitingApproval':_0x254231?.[_0x359826(0x573)]?.['awaitingApproval']||[],'image':_0x254231?.[_0x359826(0x758)]}));}catch(_0x34b775){let _0x25422b=_0x359826(0x52e),_0x47e37b=_0x34b775 instanceof Error?_0x34b775['message']:typeof _0x34b775=='object'?JSON['stringify'](_0x34b775):_0x34b775,_0x12e206=_0x25422b+':\x20'+_0x47e37b;throw this[_0x359826(0x23d)][_0x359826(0x61d)](this['instanceName']+'\x20('+this[_0x359826(0x339)]['wuid']+_0x359826(0x93d)+_0x12e206),new U(_0x12e206);}}async['findRealGroups'](){const _0x4a1a2f=a0_0x1c3883;try{this[_0x4a1a2f(0x23d)]['info']('Retornando\x20grupos\x20SEM\x20cache');let _0x3881e0=[],_0x46c45e=await this[_0x4a1a2f(0x8d0)][_0x4a1a2f(0x6f6)](),_0x5b0a79=Object[_0x4a1a2f(0x8e2)](_0x46c45e);for(let _0x353419=0x0;_0x353419<_0x5b0a79['length'];_0x353419++){let _0x443ed2=_0x5b0a79[_0x353419];(0x0,w[_0x4a1a2f(0x5fe)])(_0x443ed2?.['id'])&&(_0x3881e0[_0x4a1a2f(0x706)]({'groupJid':_0x443ed2?.['id'],'subject':_0x443ed2?.[_0x4a1a2f(0x24f)],'subjectOwner':_0x443ed2?.[_0x4a1a2f(0x348)]?.[_0x4a1a2f(0x3ac)]('@')[0x0],'subjectTime':_0x443ed2?.[_0x4a1a2f(0x264)],'creation':_0x443ed2?.[_0x4a1a2f(0x5a6)],'size':_0x443ed2?.[_0x4a1a2f(0x2ab)]?.[_0x4a1a2f(0x868)],'owner':_0x443ed2?.[_0x4a1a2f(0x523)]?.[_0x4a1a2f(0x3ac)]('@')[0x0],'desc':_0x443ed2?.['desc'],'restrict':_0x443ed2?.[_0x4a1a2f(0x853)],'announce':_0x443ed2?.['announce'],'image':null,'isCommunity':_0x443ed2?.[_0x4a1a2f(0x8af)],'joinApprovalMode':_0x443ed2?.[_0x4a1a2f(0x6b0)],'memberCanAddParticipant':_0x443ed2?.[_0x4a1a2f(0x91c)],'participants':_0x443ed2?.['participants'],'descOwner':_0x443ed2?.['descOwner'],'descId':_0x443ed2?.[_0x4a1a2f(0x952)],'memberAddMode':_0x443ed2?.['memberAddMode'],'isCommunityAnnounce':_0x443ed2?.[_0x4a1a2f(0x59c)],'ephemeralDuration':_0x443ed2?.['ephemeralDuration']||0x0,'author':_0x443ed2?.[_0x4a1a2f(0x8f3)]}),this[_0x4a1a2f(0x487)](_0x5b0a79[_0x353419]));}return _0x3881e0;}catch(_0xf20d83){let _0x1d1e33=_0x4a1a2f(0x468),_0x481346=_0xf20d83 instanceof Error?_0xf20d83['message']:typeof _0xf20d83==_0x4a1a2f(0x20d)?JSON[_0x4a1a2f(0x565)](_0xf20d83):_0xf20d83,_0xb3afc7=_0x1d1e33+':\x20'+_0x481346;throw this[_0x4a1a2f(0x23d)]['error'](this[_0x4a1a2f(0x259)]+'\x20('+this['instance'][_0x4a1a2f(0x988)]+_0x4a1a2f(0x93d)+_0xb3afc7),new U(_0xb3afc7);}}async[a0_0x1c3883(0x487)](_0x1c8240){const _0x420734=a0_0x1c3883;let _0x135cbb=await this[_0x420734(0x89f)][_0x420734(0x874)][_0x420734(0x213)]({'where':{'_id':_0x1c8240['id']}},this[_0x420734(0x339)][_0x420734(0x988)]);if(_0x1c8240['subjectTime']=_0x1c8240?.['subjectTime']&&_0x1c8240['subjectTime'][_0x420734(0x25c)]()[_0x420734(0x868)]<0xd?_0x1c8240?.['subjectTime']*0x3e8:_0x1c8240?.[_0x420734(0x264)]||null,_0x1c8240[_0x420734(0x5a6)]=_0x1c8240?.[_0x420734(0x5a6)]&&_0x1c8240[_0x420734(0x5a6)]['toString']()['length']<0xd?_0x1c8240?.[_0x420734(0x5a6)]*0x3e8:_0x1c8240?.[_0x420734(0x5a6)]||null,!_0x1c8240[_0x420734(0x925)])try{_0x1c8240[_0x420734(0x925)]=await this[_0x420734(0x8d0)][_0x420734(0x508)](_0x1c8240['id'],_0x420734(0x499));}catch(_0x465e1f){this[_0x420734(0x23d)][_0x420734(0x990)](this[_0x420734(0x259)]+'\x20('+this[_0x420734(0x339)][_0x420734(0x988)]+_0x420734(0x36a)+_0x1c8240['id']+':\x20'+(_0x465e1f instanceof Error?_0x465e1f[_0x420734(0x535)]:JSON[_0x420734(0x565)](_0x465e1f,null,0x2)));}let _0x3027fe=_0x1c8240[_0x420734(0x2ab)][_0x420734(0x4ac)](_0x4ce5c4=>{const _0x4010fe=_0x420734;let _0x4cd1b9=_0x135cbb?.[_0x4010fe(0x573)]?.[_0x4010fe(0x2ab)][_0x4010fe(0x571)](_0x4bbf10=>_0x4bbf10['id']===_0x4ce5c4['id']);return{..._0x4ce5c4,'isAdmin':[_0x4010fe(0x7de),_0x4010fe(0x84e)][_0x4010fe(0x681)](_0x4ce5c4[_0x4010fe(0x7de)]),'admin':_0x4ce5c4[_0x4010fe(0x7de)],'name':_0x4cd1b9?.['name']||_0x4ce5c4[_0x4010fe(0x1f9)],'imgUrl':_0x4cd1b9?.[_0x4010fe(0x374)]||_0x4ce5c4[_0x4010fe(0x374)]};}),_0x136c16=_0x3027fe['some'](_0x4ba84a=>_0x4ba84a['id']===this[_0x420734(0x339)][_0x420734(0x988)]+_0x420734(0x67c)&&_0x4ba84a[_0x420734(0x7de)]!=null)||!0x1,_0x1bf33b=(!_0x1c8240[_0x420734(0x4c5)]||_0x136c16)&&(!_0x1c8240[_0x420734(0x8af)]||_0x136c16),_0x5783e8={..._0x1c8240,'participants':_0x3027fe,'awaitingApproval':_0x135cbb?.[_0x420734(0x573)]?.[_0x420734(0x572)]||[],'lastFetchAwaitingApproval':_0x135cbb?.[_0x420734(0x573)]?.[_0x420734(0x84b)],'isAdmin':_0x136c16,'canSendMessage':_0x1bf33b,'lastUpdate':Date['now']()};await this[_0x420734(0x89f)][_0x420734(0x874)][_0x420734(0x3e7)]({'where':{'_id':_0x1c8240['id']}},{'imagechat':_0x1c8240[_0x420734(0x925)],'name':_0x1c8240[_0x420734(0x24f)],'group':!0x0,'groupdata':_0x5783e8,'lastcache':Date['now']()},this[_0x420734(0x339)][_0x420734(0x988)]),F(this[_0x420734(0x259)],'chats',{'chat':_0x1c8240});}async[a0_0x1c3883(0x69d)](_0x18fe88){const _0x10e184=a0_0x1c3883;let _0x34799a=await this[_0x10e184(0x89f)][_0x10e184(0x874)][_0x10e184(0x213)]({'where':{'_id':_0x18fe88['id']}},this[_0x10e184(0x339)]['wuid']);_0x18fe88[_0x10e184(0x264)]=_0x18fe88?.['subjectTime']&&_0x18fe88[_0x10e184(0x264)]['toString']()[_0x10e184(0x868)]<0xd?_0x18fe88?.['subjectTime']*0x3e8:_0x18fe88?.[_0x10e184(0x264)]||null,_0x18fe88[_0x10e184(0x5a6)]=_0x18fe88?.[_0x10e184(0x5a6)]&&_0x18fe88['creation'][_0x10e184(0x25c)]()[_0x10e184(0x868)]<0xd?_0x18fe88?.['creation']*0x3e8:_0x18fe88?.[_0x10e184(0x5a6)]||null,_0x18fe88[_0x10e184(0x558)]&&(_0x18fe88[_0x10e184(0x558)]='https://chat.whatsapp.com/'+_0x18fe88[_0x10e184(0x558)]);let _0x1d597f=_0x34799a?.[_0x10e184(0x573)]?{..._0x34799a[_0x10e184(0x573)]}:{};Object['keys'](_0x18fe88)[_0x10e184(0x33d)](_0x5c9ca6=>{_0x5c9ca6!=='id'&&(_0x1d597f[_0x5c9ca6]=_0x18fe88[_0x5c9ca6]);});let _0x160443=_0x1d597f[_0x10e184(0x2ab)]?.[_0x10e184(0x7e0)](_0x366756=>_0x366756['id']===this['instance'][_0x10e184(0x988)]+'@s.whatsapp.net'&&_0x366756['admin']!=null)||!0x1;_0x1d597f[_0x10e184(0x58a)]=_0x160443;let _0x2af2f1=(!_0x1d597f[_0x10e184(0x4c5)]||_0x160443)&&(!_0x1d597f[_0x10e184(0x8af)]||_0x160443);_0x1d597f['canSendMessage']=_0x2af2f1;let _0x129c69={'group':!0x0,'groupdata':_0x1d597f};_0x18fe88['subject']&&(_0x129c69[_0x10e184(0x1f9)]=_0x18fe88[_0x10e184(0x24f)]),await this['repository'][_0x10e184(0x874)][_0x10e184(0x3e7)]({'where':{'_id':_0x18fe88['id']}},_0x129c69,this[_0x10e184(0x339)][_0x10e184(0x988)],{'upsert':!0x0}),F(this[_0x10e184(0x259)],_0x10e184(0x4e8),{'chat':_0x129c69});}async[a0_0x1c3883(0x447)](_0x5dce64){const _0x2a4ebf=a0_0x1c3883;let _0x336aaa=await this[_0x2a4ebf(0x89f)][_0x2a4ebf(0x874)][_0x2a4ebf(0x213)]({'where':{'_id':_0x5dce64['id']}},this['instance'][_0x2a4ebf(0x988)]);if(!_0x336aaa||!_0x336aaa[_0x2a4ebf(0x573)]){this[_0x2a4ebf(0x23d)][_0x2a4ebf(0x495)](this[_0x2a4ebf(0x259)]+'\x20('+this[_0x2a4ebf(0x339)][_0x2a4ebf(0x988)]+_0x2a4ebf(0x2d2)+_0x5dce64['id']);return;}let _0x4ed3ef=await this[_0x2a4ebf(0x89f)][_0x2a4ebf(0x6a2)][_0x2a4ebf(0x7fe)](_0x5dce64['participants']),_0x40e17d=[..._0x336aaa[_0x2a4ebf(0x573)]?.[_0x2a4ebf(0x2ab)]];switch(_0x5dce64['action']){case _0x2a4ebf(0x3ca):_0x4ed3ef[_0x2a4ebf(0x4ac)](_0x512fe4=>({'id':_0x512fe4['_id'],'isAdmin':!0x1,'name':_0x512fe4['name'],'imgUrl':_0x512fe4[_0x2a4ebf(0x6b4)]}))[_0x2a4ebf(0x33d)](_0x19c690=>{const _0x2b5f33=_0x2a4ebf;_0x40e17d['some'](_0x1fea55=>_0x1fea55['id']===_0x19c690['id'])||(_0x40e17d[_0x2b5f33(0x706)](_0x19c690),this[_0x2b5f33(0x23d)]['info'](_0x2b5f33(0x5df)+JSON[_0x2b5f33(0x565)](_0x19c690)));});break;case'remove':_0x40e17d=_0x40e17d[_0x2a4ebf(0x8cd)](_0x56948e=>!_0x5dce64['participants'][_0x2a4ebf(0x681)](_0x56948e['id']));break;case _0x2a4ebf(0x792):_0x40e17d=_0x40e17d[_0x2a4ebf(0x4ac)](_0x551886=>_0x5dce64[_0x2a4ebf(0x2ab)][_0x2a4ebf(0x681)](_0x551886['id'])?{..._0x551886,'isAdmin':!0x0,'admin':'admin'}:_0x551886);break;case'demote':_0x40e17d=_0x40e17d[_0x2a4ebf(0x4ac)](_0x3921ef=>_0x5dce64[_0x2a4ebf(0x2ab)][_0x2a4ebf(0x681)](_0x3921ef['id'])?{..._0x3921ef,'isAdmin':!0x1,'admin':null}:_0x3921ef);break;}let _0x5cc9cb=_0x40e17d[_0x2a4ebf(0x868)],_0x1ca4d0=_0x40e17d['some'](_0x357748=>_0x357748['id']===this[_0x2a4ebf(0x339)]['wuid']+_0x2a4ebf(0x67c)),_0x5aac60=_0x1ca4d0&&_0x40e17d[_0x2a4ebf(0x7e0)](_0x26db51=>_0x26db51['id']===this[_0x2a4ebf(0x339)]['wuid']+'@s.whatsapp.net'&&_0x26db51['admin']!=null)||!0x1,_0x565ae3=_0x1ca4d0&&(!_0x336aaa[_0x2a4ebf(0x573)][_0x2a4ebf(0x4c5)]||_0x5aac60)&&(!_0x336aaa['groupdata'][_0x2a4ebf(0x8af)]||_0x5aac60);await this['repository'][_0x2a4ebf(0x874)][_0x2a4ebf(0x3e7)]({'where':{'_id':_0x5dce64['id']}},{'groupdata':{..._0x336aaa['groupdata'],'participants':_0x40e17d,'size':_0x5cc9cb,'isAdmin':_0x5aac60,'canSendMessage':_0x565ae3}},this['instance'][_0x2a4ebf(0x988)]),this[_0x2a4ebf(0x23d)]['info'](this[_0x2a4ebf(0x259)]+'\x20('+this[_0x2a4ebf(0x339)][_0x2a4ebf(0x988)]+_0x2a4ebf(0x682)+_0x5dce64['id']+'\x20atualizado\x20com\x20sucesso.\x20Ação:\x20'+_0x5dce64[_0x2a4ebf(0x43e)]+_0x2a4ebf(0x88c)+_0x5cc9cb+_0x2a4ebf(0x3c4)+_0x5aac60+_0x2a4ebf(0x4b3)+_0x565ae3);}async[a0_0x1c3883(0x558)](_0x5d6a93,_0x222ef0=!0x0){const _0x5d4143=a0_0x1c3883;try{let _0x34b26c=await this[_0x5d4143(0x8d0)][_0x5d4143(0x521)](_0x5d6a93['groupJid']),_0x3114d6={'groupdata.inviteCode':_0x5d4143(0x6bb)+_0x34b26c};if(_0x222ef0){let _0x4d86f6=await this[_0x5d4143(0x89f)][_0x5d4143(0x874)][_0x5d4143(0x3e7)]({'where':{'_id':_0x5d6a93[_0x5d4143(0x652)]}},_0x3114d6,this[_0x5d4143(0x339)][_0x5d4143(0x988)]);}return{'inviteUrl':_0x5d4143(0x6bb)+_0x34b26c,'inviteCode':_0x34b26c};}catch(_0x23272d){let _0x4d8b1c='Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode',_0x396b07=_0x23272d instanceof Error?_0x23272d[_0x5d4143(0x535)]:typeof _0x23272d==_0x5d4143(0x20d)?JSON[_0x5d4143(0x565)](_0x23272d):_0x23272d,_0x514d98=_0x4d8b1c+':\x20'+_0x396b07;throw this[_0x5d4143(0x23d)]['error'](this[_0x5d4143(0x259)]+'\x20('+this[_0x5d4143(0x339)]['wuid']+'):\x20'+_0x514d98),new U(_0x514d98);}}async[a0_0x1c3883(0x413)](_0x59a2bd){const _0x3a9cb5=a0_0x1c3883;try{let _0xf5101a=await this[_0x3a9cb5(0x8d0)]['groupRevokeInvite'](_0x59a2bd[_0x3a9cb5(0x652)]);return{'revoked':!0x0,'inviteUrl':_0x3a9cb5(0x6bb)+_0xf5101a,'inviteCode':_0xf5101a};}catch(_0x1d1077){let _0x4875e1='Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode',_0x405e9d=_0x1d1077 instanceof Error?_0x1d1077[_0x3a9cb5(0x535)]:typeof _0x1d1077==_0x3a9cb5(0x20d)?JSON[_0x3a9cb5(0x565)](_0x1d1077):_0x1d1077,_0x4fd84f=_0x4875e1+':\x20'+_0x405e9d;throw this[_0x3a9cb5(0x23d)][_0x3a9cb5(0x61d)](this[_0x3a9cb5(0x259)]+'\x20('+this[_0x3a9cb5(0x339)][_0x3a9cb5(0x988)]+'):\x20'+_0x4fd84f),new U(_0x4fd84f);}}async[a0_0x1c3883(0x687)](_0x530346){const _0x12183e=a0_0x1c3883;try{if((0x0,J[_0x12183e(0x562)])(_0x530346[_0x12183e(0x558)]))var _0x39f5c6=_0x530346[_0x12183e(0x558)]['split']('/')[0x3];else var _0x39f5c6=_0x530346[_0x12183e(0x558)];let _0x387139=await this[_0x12183e(0x8d0)][_0x12183e(0x4d9)](_0x39f5c6);return this[_0x12183e(0x23d)]['verbose'](this[_0x12183e(0x259)]+'\x20('+this[_0x12183e(0x339)][_0x12183e(0x988)]+_0x12183e(0x93d)+_0x387139),{'join':!0x0,'inviteCode':_0x39f5c6,'groupJid':_0x387139};}catch(_0x49df38){let _0x243621=_0x12183e(0x2a1),_0x38938c=_0x49df38 instanceof Error?_0x49df38[_0x12183e(0x535)]:typeof _0x49df38=='object'?JSON[_0x12183e(0x565)](_0x49df38):_0x49df38,_0x5b7340=_0x243621+':\x20'+_0x38938c;throw this['logger']['error'](this[_0x12183e(0x259)]+'\x20('+this[_0x12183e(0x339)]['wuid']+'):\x20'+_0x5b7340),new U(_0x5b7340);}}async['findParticipants'](_0x2f111b){const _0xa430e7=a0_0x1c3883;try{return{'participants':(await this[_0xa430e7(0x89f)][_0xa430e7(0x874)][_0xa430e7(0x213)]({'where':{'_id':_0x2f111b[_0xa430e7(0x652)]}},this['instance'][_0xa430e7(0x988)]))[_0xa430e7(0x573)][_0xa430e7(0x2ab)]};}catch(_0x3b055a){let _0x44a486=_0xa430e7(0x763),_0x44d738=_0x3b055a instanceof Error?_0x3b055a[_0xa430e7(0x535)]:typeof _0x3b055a==_0xa430e7(0x20d)?JSON['stringify'](_0x3b055a):_0x3b055a,_0x41528e=_0x44a486+':\x20'+_0x44d738;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0xa430e7(0x339)][_0xa430e7(0x988)]+_0xa430e7(0x93d)+_0x41528e),new U(_0x41528e);}}async[a0_0x1c3883(0x953)](_0x2b3a5d){const _0x1f83f8=a0_0x1c3883;try{return await this[_0x1f83f8(0x8d0)][_0x1f83f8(0x37e)](_0x2b3a5d[_0x1f83f8(0x652)]),{'groupJid':_0x2b3a5d[_0x1f83f8(0x652)],'leave':!0x0};}catch(_0x57ede8){let _0x5aa8a1='Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup',_0x139fe0=_0x57ede8 instanceof Error?_0x57ede8['message']:typeof _0x57ede8==_0x1f83f8(0x20d)?JSON[_0x1f83f8(0x565)](_0x57ede8):_0x57ede8,_0x254139=_0x5aa8a1+':\x20'+_0x139fe0;throw this['logger'][_0x1f83f8(0x61d)](this[_0x1f83f8(0x259)]+'\x20('+this[_0x1f83f8(0x339)][_0x1f83f8(0x988)]+_0x1f83f8(0x93d)+_0x254139),new m(_0x254139);}}async[a0_0x1c3883(0x786)](_0x49b92d){const _0x4a1a18=a0_0x1c3883;return await this[_0x4a1a18(0x282)](_0x49b92d['number'],{'poll':{'name':_0x49b92d[_0x4a1a18(0x786)]?.[_0x4a1a18(0x1f9)],'selectableCount':_0x49b92d[_0x4a1a18(0x786)]['selectableCount'],'values':_0x49b92d[_0x4a1a18(0x786)][_0x4a1a18(0x8e2)]}},_0x49b92d?.[_0x4a1a18(0x33e)]);}async['listMessage'](_0x7d7ad6){const _0x14ce79=a0_0x1c3883;return await this[_0x14ce79(0x282)](_0x7d7ad6[_0x14ce79(0x418)],{'listMessage':{'title':_0x7d7ad6[_0x14ce79(0x5dc)][_0x14ce79(0x29d)],'description':_0x7d7ad6[_0x14ce79(0x5dc)][_0x14ce79(0x4c6)],'buttonText':_0x7d7ad6['listMessage']?.[_0x14ce79(0x8ff)],'footerText':_0x7d7ad6['listMessage']?.[_0x14ce79(0x840)],'sections':_0x7d7ad6['listMessage'][_0x14ce79(0x64b)],'listType':0x2}},_0x7d7ad6?.[_0x14ce79(0x33e)]);}async['menuMessage'](_0x117436){const _0x24c61d=a0_0x1c3883;this[_0x24c61d(0x339)]['isBusiness']===void 0x0&&await this[_0x24c61d(0x37f)]();let _0x25c95e;if(_0x117436[_0x24c61d(0x71c)]['type']===_0x24c61d(0x57b)||_0x117436[_0x24c61d(0x71c)]['type']===_0x24c61d(0x402)){let _0x2bfdd5=_0x117436[_0x24c61d(0x71c)]['text'][_0x24c61d(0x7ad)]('\x0a'),_0x19a72e='',_0x4e9931='';_0x2bfdd5!==-0x1?(_0x19a72e=_0x117436[_0x24c61d(0x71c)][_0x24c61d(0x931)][_0x24c61d(0x98b)](0x0,_0x2bfdd5)[_0x24c61d(0x987)](),_0x4e9931=_0x117436[_0x24c61d(0x71c)][_0x24c61d(0x931)][_0x24c61d(0x98b)](_0x2bfdd5+0x1)):_0x4e9931=_0x117436[_0x24c61d(0x71c)][_0x24c61d(0x931)];let _0x3f7c01=_0x117436['menuMessage']['choices'][_0x24c61d(0x8cd)](_0x87d321=>_0x87d321[_0x24c61d(0x987)]()!==''),_0x589719=this[_0x24c61d(0x55a)](_0x3f7c01);_0x25c95e={'listMessage':{'title':_0x19a72e,'description':_0x4e9931,'buttonText':_0x117436[_0x24c61d(0x71c)]['buttonText']||_0x24c61d(0x2a2),'footerText':_0x117436[_0x24c61d(0x71c)][_0x24c61d(0x840)],'sections':_0x589719,'listType':0x2}};}else{if(_0x117436['menuMessage'][_0x24c61d(0x52b)]===_0x24c61d(0x81f)){let _0x17ea4c=_0x117436[_0x24c61d(0x71c)]['choices'][_0x24c61d(0x8cd)](_0x3e0370=>!(_0x3e0370[_0x24c61d(0x376)]('[')&&_0x3e0370[_0x24c61d(0x4ff)](']'))&&_0x3e0370[_0x24c61d(0x987)]()!=='')[_0x24c61d(0x4ac)](_0x2ebd25=>_0x2ebd25[_0x24c61d(0x3ac)]('\x0a')[0x0]);for(;_0x17ea4c[_0x24c61d(0x868)]<0x2;)_0x17ea4c[_0x24c61d(0x706)](_0x24c61d(0x9a1)+(_0x17ea4c['length']+0x1));_0x25c95e={'poll':{'name':_0x117436[_0x24c61d(0x71c)][_0x24c61d(0x931)],'selectableCount':_0x117436['menuMessage'][_0x24c61d(0x766)]||0x1,'values':_0x17ea4c}};}else{if(_0x117436['menuMessage'][_0x24c61d(0x52b)]==='button'){let _0xa89f6c=this[_0x24c61d(0x34d)](_0x117436[_0x24c61d(0x71c)][_0x24c61d(0x785)]['filter'](_0x5687d1=>!(_0x5687d1[_0x24c61d(0x376)]('[')&&_0x5687d1[_0x24c61d(0x4ff)](']'))));return _0x25c95e={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x117436['menuMessage'][_0x24c61d(0x931)]},'footer':_0x117436['menuMessage']['footerText']?{'text':_0x117436[_0x24c61d(0x71c)][_0x24c61d(0x840)]}:void 0x0,'nativeFlowMessage':{'buttons':_0xa89f6c,'messageParamsJson':JSON[_0x24c61d(0x565)]({'from':_0x24c61d(0x65f),'templateId':_0x24c61d(0x5ae)+(0x0,oe['randomBytes'])(0x12)[_0x24c61d(0x25c)]('hex')['toUpperCase']()})}}}}},await this['sendMessageWithTypingButtons'](_0x117436[_0x24c61d(0x418)],_0x25c95e,_0x117436?.[_0x24c61d(0x33e)]);}else{if(_0x117436[_0x24c61d(0x71c)]['type']===_0x24c61d(0x522)){let _0x54e7f8=this['createButtonSectionsFromValues'](_0x117436['menuMessage'][_0x24c61d(0x785)]);return _0x25c95e={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x117436[_0x24c61d(0x71c)][_0x24c61d(0x931)]},'footer':_0x117436['menuMessage'][_0x24c61d(0x840)]?{'text':_0x117436[_0x24c61d(0x71c)]['footerText']}:void 0x0,'nativeFlowMessage':{'buttons':_0x54e7f8,'messageParamsJson':JSON[_0x24c61d(0x565)]({'from':_0x24c61d(0x65f),'templateId':'3EB0'+(0x0,oe[_0x24c61d(0x45b)])(0x12)[_0x24c61d(0x25c)]('hex')[_0x24c61d(0x6e5)]()})}}}}},await this[_0x24c61d(0x5e0)](_0x117436['number'],_0x25c95e,_0x117436?.[_0x24c61d(0x33e)]);}}}}return await this[_0x24c61d(0x282)](_0x117436['number'],_0x25c95e,_0x117436?.[_0x24c61d(0x33e)]);}[a0_0x1c3883(0x34d)](_0x20306e){return _0x20306e['map'](_0x43ec68=>{const _0x4f7b6e=a0_0x6fba;let _0x489e0c=_0x43ec68[_0x4f7b6e(0x3ac)]('\x0a')[_0x4f7b6e(0x4ac)](_0x17a3ef=>_0x17a3ef['trim']()),_0x3a2548=_0x489e0c[0x0],_0x5e4ad8=_0x489e0c[0x1]||_0x3a2548,_0x1d7b17=_0x5e4ad8[_0x4f7b6e(0x376)]('http')?_0x4f7b6e(0x89d):'quick_reply';return{'name':_0x1d7b17,'buttonParamsJson':JSON[_0x4f7b6e(0x565)]({'display_text':_0x3a2548,'id':_0x1d7b17===_0x4f7b6e(0x77c)?_0x5e4ad8:void 0x0,'url':_0x1d7b17===_0x4f7b6e(0x89d)?_0x5e4ad8:void 0x0})};});}[a0_0x1c3883(0x57c)](_0xa3bf30){const _0x11f2ac=a0_0x1c3883;let _0x38806d=[],_0x5976b0={'title':'','rows':[]};return _0xa3bf30[_0x11f2ac(0x33d)](_0x162b07=>{const _0x5a5a85=_0x11f2ac;if(_0x162b07[_0x5a5a85(0x376)]('[')&&_0x162b07[_0x5a5a85(0x4ff)](']'))_0x5976b0['rows'][_0x5a5a85(0x868)]>0x0&&_0x38806d[_0x5a5a85(0x706)](_0x5976b0),_0x5976b0={'title':_0x162b07[_0x5a5a85(0x7a4)](0x1,-0x1),'rows':[]};else{let _0x217a54=_0x162b07[_0x5a5a85(0x3ac)]('\x0a')['map'](_0x3881c3=>_0x3881c3['trim']()),_0x345027=_0x217a54[0x0],_0x2da09b=_0x217a54[0x1]?_0x217a54[0x1]:void 0x0,_0x40f9bd=_0x217a54[0x2]||_0x345027;_0x5976b0[_0x5a5a85(0x537)]['push']({'title':_0x345027,'description':_0x2da09b,'id':_0x40f9bd});}}),_0x5976b0[_0x11f2ac(0x537)]['length']>0x0&&_0x38806d[_0x11f2ac(0x706)](_0x5976b0),[{'name':'single_select','buttonParamsJson':JSON[_0x11f2ac(0x565)]({'title':'Selecione\x20uma\x20opção','sections':_0x38806d})}];}[a0_0x1c3883(0x55a)](_0x382319){const _0x4123f0=a0_0x1c3883;let _0x4d4ac9=[],_0xb57f43={'rows':[]};return _0x382319[_0x4123f0(0x33d)](_0x3301e4=>{const _0x51e3db=_0x4123f0;if(_0x3301e4[_0x51e3db(0x376)]('[')&&_0x3301e4[_0x51e3db(0x4ff)](']'))_0xb57f43[_0x51e3db(0x537)][_0x51e3db(0x868)]>0x0&&_0x4d4ac9['push'](_0xb57f43),_0xb57f43={'title':_0x3301e4[_0x51e3db(0x7a4)](0x1,-0x1),'rows':[]};else{let _0x5b144c=_0x3301e4[_0x51e3db(0x3ac)]('\x0a')['map'](_0x3136e4=>_0x3136e4[_0x51e3db(0x987)]()),_0x22e915=_0x5b144c[0x0],_0x168ccf=_0x5b144c[0x1]||null,_0x42d2f6=_0x5b144c[0x2]||_0x22e915;_0xb57f43[_0x51e3db(0x537)]['push']({'title':_0x22e915,'description':_0x168ccf,'rowId':_0x42d2f6});}}),_0xb57f43[_0x4123f0(0x537)]['length']>0x0&&_0x4d4ac9[_0x4123f0(0x706)](_0xb57f43),_0x4d4ac9;}async[a0_0x1c3883(0x697)](_0x3d0c22,_0x8f874e){const _0x23139a=a0_0x1c3883;if(await this['getMessage'](_0x3d0c22,!0x0)){let _0x435b8c={'where':{'_id':_0x3d0c22['id']}},_0x380e23={'status':[_0x8f874e[_0x23139a(0x914)]][0x0]};try{let _0x58c87e=await this[_0x23139a(0x89f)][_0x23139a(0x535)]['update'](_0x435b8c,_0x380e23,this[_0x23139a(0x339)]['wuid']);_0x58c87e&&F(this[_0x23139a(0x259)],_0x23139a(0x73d),{'message':_0x58c87e});}catch{}}}[a0_0x1c3883(0x5c9)](_0x4c3f65){const _0xc515b=a0_0x1c3883;let _0x25d65a=[];return _0x4c3f65[_0xc515b(0x33d)](_0x43e7f4=>{const _0x1c8a48=_0xc515b;_0x43e7f4['title']&&_0x25d65a[_0x1c8a48(0x706)]('['+_0x43e7f4[_0x1c8a48(0x29d)]+']'),_0x43e7f4[_0x1c8a48(0x537)][_0x1c8a48(0x33d)](_0x4ae1d4=>{const _0x10535d=_0x1c8a48;_0x25d65a[_0x10535d(0x706)](_0x4ae1d4['title']);});}),_0x25d65a[_0xc515b(0x25f)]('|');}[a0_0x1c3883(0x3ed)](_0x14a6fe){const _0x16d37b=a0_0x1c3883;let _0x5cf6eb=_0x14a6fe[_0x16d37b(0x7cb)](/\\n/g,'\x0a')['split']('\x0a')[_0x16d37b(0x8cd)](_0x10510d=>_0x10510d[_0x16d37b(0x681)]('TEL')||_0x10510d[_0x16d37b(0x681)]('EMAIL')),_0x21c97f='';return _0x5cf6eb['forEach'](_0x1cb528=>{const _0x1fe8e9=_0x16d37b;let _0x45e668=/TEL(?:.*):(.+)/,_0x457d77=/EMAIL(?:.*):(.+)/,_0xbf1f80=_0x1cb528[_0x1fe8e9(0x483)](_0x45e668),_0x31a9db=_0x1cb528[_0x1fe8e9(0x483)](_0x457d77);if(_0xbf1f80){let _0x256a66=_0xbf1f80[0x1][_0x1fe8e9(0x7cb)](/-| |\+|\(|\)/g,'')[_0x1fe8e9(0x987)]();_0x21c97f+='Telefone:\x20'+_0x256a66+'\x0a';}else{if(_0x31a9db){let _0x14547a=_0x31a9db[0x1][_0x1fe8e9(0x987)]();_0x21c97f+='E-mail:\x20'+_0x14547a+'\x0a';}}}),_0x21c97f[_0x16d37b(0x987)]();}async['updateChatWithMessage'](_0x71aacf,_0x330204,_0x3a4446,_0x5dd200=null){const _0x39756f=a0_0x1c3883;if(_0x71aacf[_0x39756f(0x82d)])try{let _0x4feb2f=_0x330204[_0x39756f(0x205)][_0x39756f(0x8f4)][_0x39756f(0x7cb)](/:\d{1,2}@/g,'@'),_0x16a5e1=_0x330204['key'][_0x39756f(0x75e)],_0xf16fd7=_0x4feb2f['endsWith'](_0x39756f(0x8b8)),_0xe31b7a=_0x330204[_0x39756f(0x3fc)]?.[_0x39756f(0x7cb)](/:\d{1,2}@/g,'@')||'',_0x583ef1=_0x330204[_0x39756f(0x30d)]?.['text']||_0x330204[_0x39756f(0x30d)]?.[_0x39756f(0x639)]||_0x330204['message_normalized']?.[_0x39756f(0x2ae)]||_0x330204['message_normalized']?.[_0x39756f(0x1f9)]||'',_0x57bff2={'_id':_0x330204['_id'],'remoteJid':_0x16a5e1?this[_0x39756f(0x339)][_0x39756f(0x988)]:_0xf16fd7?_0xe31b7a:_0x4feb2f,'pushName':_0x16a5e1?this[_0x39756f(0x339)][_0x39756f(0x559)]||'Eu':_0x330204['pushName'],'text':_0x583ef1,'type':_0x330204['messageType'],'when':_0x330204[_0x39756f(0x5ab)]||Date[_0x39756f(0x7e8)]()};_0x5dd200||(_0x5dd200=await this[_0x39756f(0x89f)][_0x39756f(0x874)][_0x39756f(0x213)]({'where':{'_id':_0x4feb2f}},this[_0x39756f(0x339)][_0x39756f(0x988)]));let _0x2d224d=_0x16a5e1?0x0:_0x5dd200?(_0x5dd200[_0x39756f(0x5ad)]||0x0)+0x1:0x1,_0x19e22a={'lastmsg':_0x330204[_0x39756f(0x5ab)]||Date[_0x39756f(0x7e8)](),'ephemeralExpiration':_0x330204['expiration'],'lastMessage':_0x57bff2,'unreadcount':_0x2d224d,..._0x16a5e1||_0xf16fd7?{}:{'name':_0x330204[_0x39756f(0x733)]},..._0xf16fd7?{'group':_0xf16fd7}:{},...!_0x16a5e1&&!_0xf16fd7&&_0x330204[_0x39756f(0x508)]?{'imagechat':_0x330204[_0x39756f(0x508)]}:{}};if(!_0xf16fd7&&(!_0x5dd200?.[_0x39756f(0x53d)]||!_0x5dd200[_0x39756f(0x53d)]['nome'])&&_0x330204[_0x39756f(0x733)]&&!_0x16a5e1&&(_0x19e22a={..._0x19e22a,'leadInfo.nome':_0x330204[_0x39756f(0x733)]}),_0x5dd200?.['leadInfo'][_0x39756f(0x4d3)]||(_0x19e22a={..._0x19e22a,'leadInfo.etiquetas':[]}),_0x5dd200?.[_0x39756f(0x53d)][_0x39756f(0x502)]||(_0x19e22a={..._0x19e22a,'leadInfo.customFields':[]}),_0x5dd200?.['leadInfo'][_0x39756f(0x3b0)]||(_0x19e22a={..._0x19e22a,'leadInfo.tags':[]}),_0x5dd200&&_0x5dd200?.[_0x39756f(0x5c8)]){let _0x1998de=await this[_0x39756f(0x89f)][_0x39756f(0x67e)][_0x39756f(0x571)]({'where':{}},this[_0x39756f(0x339)][_0x39756f(0x988)]),_0x26e1bc=new Set(_0x1998de[_0x39756f(0x4ac)](_0x3e7b23=>_0x3e7b23[_0x39756f(0x8a0)])),_0x95ebe5=(_0x5dd200[_0x39756f(0x53d)]?.[_0x39756f(0x4d3)]||[])['filter'](_0x579155=>_0x26e1bc[_0x39756f(0x59b)](_0x579155));_0x19e22a={..._0x19e22a,'imported':!0x1,'leadInfo.etiquetas':_0x95ebe5};for(let _0x5e133d of _0x95ebe5)await this['AddChatLabel'](_0x5e133d,_0x4feb2f);}if(!this[_0x39756f(0x6cf)]['flows'][_0x39756f(0x571)](_0x48f041=>_0x48f041[_0x39756f(0x76d)]&&_0x583ef1[_0x39756f(0x681)](_0x48f041[_0x39756f(0x76d)]))&&_0x3a4446==='MESSAGES_UPSERT'&&_0x16a5e1&&this['AutomateSystem']?.[_0x39756f(0x469)][_0x39756f(0x242)]&&_0x583ef1[_0x39756f(0x987)]()!==this[_0x39756f(0x6cf)]?.[_0x39756f(0x469)][_0x39756f(0x712)]['trim']()){let _0x27ed8b=(this[_0x39756f(0x6cf)]?.['flowConfig'][_0x39756f(0x7c7)]||0x0)*0xea60,_0x359261=Date['now']()+_0x27ed8b;_0x5dd200?.[_0x39756f(0x53d)]?.['desativadoFluxoAte']===0x0||(_0x19e22a={..._0x19e22a,'leadInfo.desativadoFluxoAte':_0x359261},this[_0x39756f(0x23d)][_0x39756f(0x990)](this['instanceName']+'\x20('+this[_0x39756f(0x339)][_0x39756f(0x988)]+_0x39756f(0x363)+_0x359261+'.'));}if(_0x583ef1['trim']()===this[_0x39756f(0x6cf)]?.['flowConfig']['stopConversation']['trim']()){this[_0x39756f(0x23d)]['verbose'](this['instanceName']+'\x20('+this[_0x39756f(0x339)]['wuid']+_0x39756f(0x6b9)+_0x583ef1);let _0x31dafe=Date[_0x39756f(0x7e8)]();this['AutomateSystem']?.[_0x39756f(0x469)][_0x39756f(0x640)]===0x0?_0x19e22a={..._0x19e22a,'leadInfo.desativadoFluxoAte':_0x31dafe+0x7591f6200}:_0x19e22a={..._0x19e22a,'leadInfo.desativadoFluxoAte':_0x31dafe+this[_0x39756f(0x6cf)]?.[_0x39756f(0x469)]['stopMinutes']*0x3c*0x3e8};}if(_0x5dd200=await this[_0x39756f(0x89f)][_0x39756f(0x874)][_0x39756f(0x3e7)]({'where':{'_id':_0x4feb2f}},_0x19e22a,this[_0x39756f(0x339)]['wuid'],{'new':!0x0,'upsert':!0x0}),_0x5dd200)F(this[_0x39756f(0x259)],_0x39756f(0x4e8),{'chat':_0x5dd200});else{this[_0x39756f(0x23d)][_0x39756f(0x61d)](this['instanceName']+'\x20('+this[_0x39756f(0x339)]['wuid']+_0x39756f(0x368));return;}if(_0x16a5e1)return this['logger'][_0x39756f(0x990)](this[_0x39756f(0x259)]+'\x20('+this[_0x39756f(0x339)][_0x39756f(0x988)]+_0x39756f(0x62f)),null;if(!this[_0x39756f(0x6cf)]?.[_0x39756f(0x469)][_0x39756f(0x242)])return this['logger'][_0x39756f(0x990)](this[_0x39756f(0x259)]+'\x20('+this[_0x39756f(0x339)][_0x39756f(0x988)]+_0x39756f(0x28f)),null;if(_0x5dd200[_0x39756f(0x8a0)][_0x39756f(0x681)](_0x39756f(0x8b8))&&this[_0x39756f(0x6cf)]?.['flowConfig'][_0x39756f(0x679)]===!0x0)return this[_0x39756f(0x23d)][_0x39756f(0x990)](this['instanceName']+'\x20('+this[_0x39756f(0x339)][_0x39756f(0x988)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x5dd200['leadInfo']){if(_0x5dd200['leadInfo']['desativadoFluxoAte']===0x0||_0x5dd200[_0x39756f(0x53d)]['atendimentoAberto'])return this['logger'][_0x39756f(0x990)](this[_0x39756f(0x259)]+'\x20('+this[_0x39756f(0x339)]['wuid']+_0x39756f(0x6ec)+_0x4feb2f+_0x39756f(0x9a5)),null;if(_0x5dd200[_0x39756f(0x53d)][_0x39756f(0x92e)]>Date[_0x39756f(0x7e8)]()&&!_0x330204[_0x39756f(0x30d)]?.[_0x39756f(0x2ae)])return this[_0x39756f(0x23d)][_0x39756f(0x990)](this['instanceName']+'\x20('+this['instance'][_0x39756f(0x988)]+_0x39756f(0x2de)+new Date(_0x5dd200[_0x39756f(0x53d)][_0x39756f(0x92e)])[_0x39756f(0x37a)]()+_0x39756f(0x9a5)),null;}this[_0x39756f(0x23d)][_0x39756f(0x990)](this['instanceName']+'\x20('+this[_0x39756f(0x339)][_0x39756f(0x988)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x39756f(0x942)](_0x330204,_0x3a4446);}catch(_0x6ac8b4){let _0x4ec918='Erro\x20na\x20função\x20updateChatWithMessage:\x20',_0x18a600=_0x6ac8b4 instanceof Error?_0x6ac8b4[_0x39756f(0x535)]:typeof _0x6ac8b4==_0x39756f(0x20d)?JSON[_0x39756f(0x565)](_0x6ac8b4):_0x6ac8b4,_0x1b3554=_0x4ec918+':\x20'+_0x18a600;return this[_0x39756f(0x23d)][_0x39756f(0x61d)](this['instanceName']+'\x20('+this[_0x39756f(0x339)]['wuid']+_0x39756f(0x93d)+_0x1b3554),null;}}async[a0_0x1c3883(0x68e)](_0x11dc89,_0x76433a){const _0x3d8e6c=a0_0x1c3883;if(_0x76433a[_0x3d8e6c(0x82d)]){let _0x579989=_0x11dc89[_0x3d8e6c(0x4ac)](async _0x1d183c=>{const _0x15c7a4=_0x3d8e6c;try{let _0x36f3e6={'_id':_0x1d183c[_0x15c7a4(0x8a0)],'owner':_0x1d183c[_0x15c7a4(0x523)],'lastcache':0x0};if(Object[_0x15c7a4(0x835)](_0x1d183c)[_0x15c7a4(0x33d)](_0x392bdb=>{_0x1d183c[_0x392bdb]!==null&&(_0x36f3e6[_0x392bdb]=_0x1d183c[_0x392bdb]);}),_0x36f3e6[_0x15c7a4(0x758)]===null&&(_0x36f3e6[_0x15c7a4(0x758)]=_0x15c7a4(0x3f6)),Object[_0x15c7a4(0x835)](_0x36f3e6)[_0x15c7a4(0x868)]>0x0)return await this[_0x15c7a4(0x89f)][_0x15c7a4(0x874)]['updateOne']({'where':{'_id':_0x1d183c[_0x15c7a4(0x8a0)]}},_0x36f3e6,this['instance']['wuid']);}catch(_0x1dbb98){let _0x478fc7=_0x15c7a4(0x671)+_0x1d183c[_0x15c7a4(0x8a0)],_0x52b8d4=_0x1dbb98 instanceof Error?_0x1dbb98[_0x15c7a4(0x535)]:typeof _0x1dbb98=='object'?JSON['stringify'](_0x1dbb98):_0x1dbb98,_0x5cb238=_0x478fc7+':\x20'+_0x52b8d4;return this['logger'][_0x15c7a4(0x61d)](this['instanceName']+'\x20('+this['instance'][_0x15c7a4(0x988)]+_0x15c7a4(0x93d)+_0x5cb238),null;}}),_0x2bcdc7=(await Promise[_0x3d8e6c(0x200)](_0x579989))[_0x3d8e6c(0x8cd)](_0x2c63c5=>_0x2c63c5!==null)[_0x3d8e6c(0x868)];this[_0x3d8e6c(0x23d)][_0x3d8e6c(0x990)](this[_0x3d8e6c(0x259)]+'\x20('+this[_0x3d8e6c(0x339)][_0x3d8e6c(0x988)]+_0x3d8e6c(0x93d)+_0x2bcdc7+_0x3d8e6c(0x677)+this['instance'][_0x3d8e6c(0x988)]+_0x3d8e6c(0x40e));}}async[a0_0x1c3883(0x602)](_0x165429){const _0x217aa1=a0_0x1c3883;this[_0x217aa1(0x23d)]['verbose'](this['instanceName']+'\x20('+this[_0x217aa1(0x339)]['wuid']+_0x217aa1(0x3ae));let _0x5a1949={'readMessages':[{'remoteJid':_0x165429[_0x217aa1(0x427)][_0x217aa1(0x42d)][_0x217aa1(0x205)]['remoteJid'],'fromMe':_0x165429['chatLog']['lastReceivedMessage'][_0x217aa1(0x205)][_0x217aa1(0x75e)],'id':_0x165429[_0x217aa1(0x427)]['lastReceivedMessage']['key']['id']}]};await this[_0x217aa1(0x746)](_0x5a1949);}async['StartBot'](_0x4e9e6a,_0x4678ab){const _0x2c7aa8=a0_0x1c3883;try{let {key:_0x2b7e08,message_normalized:_0x447c69}=_0x4e9e6a,_0x1bfe61=_0x447c69,_0x15a9ea=_0x447c69[_0x2c7aa8(0x931)]||_0x447c69['caption']||_0x447c69[_0x2c7aa8(0x2ae)]||_0x447c69[_0x2c7aa8(0x1f9)]||'',_0xc99004=_0x2b7e08[_0x2c7aa8(0x8f4)],_0x42eb16=null,_0x259da1=this[_0x2c7aa8(0x6cf)][_0x2c7aa8(0x7ea)][_0x2c7aa8(0x571)](_0x13d87c=>_0x13d87c[_0x2c7aa8(0x76d)]&&_0x15a9ea[_0x2c7aa8(0x681)](_0x13d87c['startCommand']));if(_0x259da1&&_0x4678ab===_0x2c7aa8(0x969)){let _0x5df817=await this[_0x2c7aa8(0x89f)][_0x2c7aa8(0x1fc)][_0x2c7aa8(0x213)]({'where':{'_id':_0x259da1[_0x2c7aa8(0x8a0)]}});if(this[_0x2c7aa8(0x23d)][_0x2c7aa8(0x990)](this['instanceName']+'\x20('+this[_0x2c7aa8(0x339)]['wuid']+_0x2c7aa8(0x99f)),_0x5df817&&_0x5df817[_0x2c7aa8(0x92a)]?.['includes'](this[_0x2c7aa8(0x339)][_0x2c7aa8(0x988)]))_0x42eb16=await this['createNewConversation'](_0x5df817,_0x2b7e08,_0x1bfe61);else return this['logger']['verbose'](this[_0x2c7aa8(0x259)]+'\x20('+this[_0x2c7aa8(0x339)][_0x2c7aa8(0x988)]+_0x2c7aa8(0x89c)),null;}else this[_0x2c7aa8(0x23d)][_0x2c7aa8(0x990)](this[_0x2c7aa8(0x259)]+'\x20('+this['instance'][_0x2c7aa8(0x988)]+_0x2c7aa8(0x920));if(_0x42eb16=await this[_0x2c7aa8(0x69c)](_0xc99004,_0x1bfe61),_0x42eb16){this[_0x2c7aa8(0x23d)]['verbose'](this['instanceName']+'\x20('+this[_0x2c7aa8(0x339)][_0x2c7aa8(0x988)]+_0x2c7aa8(0x356)),!_0x2b7e08[_0x2c7aa8(0x75e)]&&_0x42eb16[_0x2c7aa8(0x7d3)]&&this[_0x2c7aa8(0x602)](_0x42eb16);let _0x203f2c=await this[_0x2c7aa8(0x984)](_0x42eb16);_0x203f2c&&await this['processblock'](_0x42eb16,_0x203f2c);}}catch(_0x92a61c){this['logger'][_0x2c7aa8(0x61d)](this[_0x2c7aa8(0x259)]+'\x20('+this[_0x2c7aa8(0x339)][_0x2c7aa8(0x988)]+_0x2c7aa8(0x86f)+(_0x92a61c instanceof Error?_0x92a61c[_0x2c7aa8(0x535)]:JSON[_0x2c7aa8(0x565)](_0x92a61c,null,0x2)));}}[a0_0x1c3883(0x3d6)](_0x4c8588,_0x122862='',_0x549ca9={}){const _0x2f3794=a0_0x1c3883;return typeof _0x4c8588!=_0x2f3794(0x20d)||_0x4c8588===null?(_0x122862&&(_0x549ca9[_0x122862]=_0x4c8588),_0x549ca9):(Object[_0x2f3794(0x5a0)](_0x4c8588)[_0x2f3794(0x33d)](([_0x39c269,_0x47ea67])=>{const _0xf9bc5d=_0x2f3794;let _0x187a37=_0x122862?_0x122862+'.'+_0x39c269:'_'+_0x39c269;Array[_0xf9bc5d(0x37b)](_0x47ea67)?_0x47ea67['forEach']((_0x85f1b4,_0x3ee3ec)=>{this['flattenObject'](_0x85f1b4,_0x187a37+'['+_0x3ee3ec+']',_0x549ca9);}):typeof _0x47ea67=='object'&&_0x47ea67!==null?this[_0xf9bc5d(0x3d6)](_0x47ea67,_0x187a37,_0x549ca9):_0x549ca9[_0x187a37]=String(_0x47ea67);}),_0x549ca9);}['variablesToObject'](_0x223ff8){const _0x4476c9=a0_0x1c3883;let _0x7f94e4={};for(let _0x444572 of _0x223ff8)typeof _0x444572[_0x4476c9(0x1f9)]=='string'&&typeof _0x444572[_0x4476c9(0x944)]==_0x4476c9(0x33b)&&(_0x7f94e4[_0x444572[_0x4476c9(0x1f9)]]=_0x444572['value']);return _0x7f94e4;}async['NextBlock'](_0x4e0650){const _0x476ad9=a0_0x1c3883;if(!this[_0x476ad9(0x6cf)]?.[_0x476ad9(0x469)][_0x476ad9(0x242)]||_0x4e0650['status']!=='open'&&_0x4e0650['waitingMenu_id']==='')return null;let _0x1fbe5e=_0x4e0650[_0x476ad9(0x427)][_0x476ad9(0x73e)]||_0x476ad9(0x4c9);typeof _0x4e0650[_0x476ad9(0x427)][_0x476ad9(0x2e6)]>'u'&&(_0x4e0650['chatLog'][_0x476ad9(0x2e6)]=!0x0);let _0x1b3fe9=_0x4e0650['chatLog'][_0x476ad9(0x2e6)];this[_0x476ad9(0x23d)][_0x476ad9(0x990)](this['instanceName']+'\x20('+this[_0x476ad9(0x339)]['wuid']+'):\x20lastBlockId:\x20'+_0x1fbe5e+',\x20lastCondition:\x20'+_0x1b3fe9);let _0x5598eb=_0x1fbe5e==='start'?_0x4e0650[_0x476ad9(0x791)][_0x476ad9(0x571)](_0x247bd8=>_0x247bd8[_0x476ad9(0x52b)]===_0x476ad9(0x4c9)):_0x4e0650['blocks'][_0x476ad9(0x571)](_0x509390=>_0x509390[_0x476ad9(0x8a0)][_0x476ad9(0x25c)]()===_0x1fbe5e[_0x476ad9(0x25c)]());if(!_0x5598eb)return this[_0x476ad9(0x23d)]['error'](this[_0x476ad9(0x259)]+'\x20('+this[_0x476ad9(0x339)][_0x476ad9(0x988)]+_0x476ad9(0x3a7)+_0x1fbe5e),null;let _0x3a754d={'_pushName':_0x4e0650?.[_0x476ad9(0x427)]?.[_0x476ad9(0x42d)]?.[_0x476ad9(0x733)]||'','_sender':this[_0x476ad9(0x339)][_0x476ad9(0x988)]||'',..._0x4e0650[_0x476ad9(0x427)][_0x476ad9(0x78a)]},_0x315f42=new Date();_0x3a754d[_0x476ad9(0x994)]=_0x315f42[_0x476ad9(0x789)](),_0x3a754d[_0x476ad9(0x3f4)]=_0x315f42[_0x476ad9(0x7fd)]()+0x1,_0x3a754d[_0x476ad9(0x61c)]=_0x315f42['getFullYear'](),_0x3a754d[_0x476ad9(0x645)]=_0x315f42[_0x476ad9(0x49c)](),_0x3a754d[_0x476ad9(0x7b7)]=_0x315f42[_0x476ad9(0x2f3)](),_0x3a754d[_0x476ad9(0x5a8)]=_0x315f42[_0x476ad9(0x99c)]();let _0x4e96d1=null;if(_0x4e0650[_0x476ad9(0x619)]){let _0x4b1a93=_0x4e0650[_0x476ad9(0x427)][_0x476ad9(0x42d)][_0x476ad9(0x2ae)],_0x4c8f8b=_0x4e0650[_0x476ad9(0x53f)][_0x476ad9(0x571)](_0x4983d8=>_0x4983d8[_0x476ad9(0x3c8)]===_0x4b1a93);if(_0x4c8f8b){let _0x1d46d0=_0x4c8f8b['next_groupId'];if(_0x4e96d1=_0x4e0650[_0x476ad9(0x791)][_0x476ad9(0x571)](_0x221b48=>_0x221b48['groupId']===_0x1d46d0&&_0x221b48['order']===0x1),_0x5598eb[_0x476ad9(0x494)][_0x476ad9(0x389)]){let _0x2ffe0f={'id':_0x4e0650[_0x476ad9(0x619)],'remoteJid':_0x4e0650['remoteJid'],'fromMe':!0x0};await this['deleteMessage'](_0x2ffe0f);}if(_0x5598eb[_0x476ad9(0x494)][_0x476ad9(0x389)]&&_0x5598eb[_0x476ad9(0x494)]['pollMessageOnDelete']&&_0x5598eb['uazapi'][_0x476ad9(0x8a1)]===_0x476ad9(0x81f)){let _0x574d8f={'number':_0x4e0650['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x476ad9(0x25d)+_0x4e0650[_0x476ad9(0x541)]+_0x476ad9(0x42a)+_0x4b1a93}};await this[_0x476ad9(0x30e)](_0x574d8f);}_0x3a754d[_0x476ad9(0x670)]=_0x4b1a93,_0x4e0650['status']='open',_0x4e0650[_0x476ad9(0x619)]='',_0x4e0650['waitingMenu_text']='',_0x4e0650[_0x476ad9(0x53f)]=[];}else{this['logger'][_0x476ad9(0x990)](this[_0x476ad9(0x259)]+'\x20('+this[_0x476ad9(0x339)][_0x476ad9(0x988)]+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x1ce03a={'activatedCount':_0x4e0650['chatLog'][_0x476ad9(0x6a7)]['filter'](_0x196eb4=>String(_0x196eb4['blockId'])===String(_0x1fbe5e))[_0x476ad9(0x868)],'moreLogs':[_0x476ad9(0x857)]};if(_0x5598eb[_0x476ad9(0x494)][_0x476ad9(0x295)]){let _0x38c4d7={'number':_0x4e0650['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x5598eb['uazapi'][_0x476ad9(0x295)]}};await this[_0x476ad9(0x30e)](_0x38c4d7);}if(_0x5598eb[_0x476ad9(0x2c6)]!==void 0x0&&_0x1ce03a[_0x476ad9(0x629)]>=_0x5598eb[_0x476ad9(0x2c6)]){let _0x22f61a=Date[_0x476ad9(0x7e8)](),_0x4d2472=_0x5598eb['stopMinutesMaxActives']??0xa;isNaN(_0x4d2472)&&(_0x4d2472=0xa);let _0x30ee0a=_0x22f61a+_0x4d2472*0x3c*0x3e8;_0x1ce03a[_0x476ad9(0x816)]=_0x30ee0a,_0x1ce03a[_0x476ad9(0x481)][_0x476ad9(0x706)](_0x476ad9(0x78b)),this['updateStopChat'](_0x4e0650,_0x30ee0a),_0x4e0650['waitingMenu_id']='',_0x4e0650[_0x476ad9(0x541)]='',_0x4e0650[_0x476ad9(0x53f)]=[];}return this[_0x476ad9(0x759)](_0x4e0650,_0x5598eb,_0x1ce03a,!0x0),null;}}if(_0x1b3fe9&&_0x5598eb['next_groupId']&&!_0x4e0650[_0x476ad9(0x619)]){let _0x260e2c=_0x4e0650[_0x476ad9(0x791)][_0x476ad9(0x8cd)](_0x11b546=>_0x11b546['groupId']['toString']()===_0x5598eb[_0x476ad9(0x269)][_0x476ad9(0x25c)]())[_0x476ad9(0x90e)]((_0x26414f,_0x3ac903)=>_0x26414f[_0x476ad9(0x979)]-_0x3ac903['order']);_0x260e2c['length']>0x0&&(_0x4e96d1=_0x260e2c[0x0]);}if(!_0x4e96d1){let _0x560608=_0x5598eb[_0x476ad9(0x6c7)],_0x1c152c=_0x4e0650[_0x476ad9(0x791)][_0x476ad9(0x8cd)](_0x27948e=>_0x27948e[_0x476ad9(0x6c7)]===_0x560608&&_0x27948e['order']>_0x5598eb[_0x476ad9(0x979)])[_0x476ad9(0x90e)]((_0x53696c,_0x192c28)=>_0x53696c[_0x476ad9(0x979)]-_0x192c28[_0x476ad9(0x979)]);_0x1c152c[_0x476ad9(0x868)]>0x0&&(_0x4e96d1=_0x1c152c[0x0]);}if(!_0x4e96d1)return _0x4e0650[_0x476ad9(0x914)]=_0x476ad9(0x442),null;_0x4e0650[_0x476ad9(0x427)][_0x476ad9(0x78a)]=_0x3a754d;let _0xabdc23=JSON['parse'](JSON[_0x476ad9(0x565)](_0x4e96d1));return this[_0x476ad9(0x4dc)](_0xabdc23,_0x4e0650['chatLog'][_0x476ad9(0x78a)]),_0x4e0650['chatLog'][_0x476ad9(0x73e)]=_0xabdc23[_0x476ad9(0x8a0)],_0x4e0650[_0x476ad9(0x427)]['lastCondition']=!0x0,_0xabdc23;}[a0_0x1c3883(0x5be)](_0x3e97c6,_0x195bcc){const _0x514dbd=a0_0x1c3883;return _0x3e97c6[_0x514dbd(0x7cb)](/\{\{([^}]+)\}\}/g,(_0x29cdba,_0x4c364c)=>_0x195bcc[_0x4c364c]||'');}[a0_0x1c3883(0x4dc)](_0x1d188f,_0x55f932){const _0x3979e6=a0_0x1c3883;for(let _0x3d3178 in _0x1d188f)typeof _0x1d188f[_0x3d3178]=='string'?_0x1d188f[_0x3d3178]=this[_0x3979e6(0x5be)](_0x1d188f[_0x3d3178],_0x55f932):typeof _0x1d188f[_0x3d3178]==_0x3979e6(0x20d)&&this['replaceVariablesInObject'](_0x1d188f[_0x3d3178],_0x55f932);}async[a0_0x1c3883(0x804)](_0x2a3c4a,_0x592041){const _0x47a0f2=a0_0x1c3883;let _0x16e5fb=_0x592041[_0x47a0f2(0x8a0)];if(_0x2a3c4a[_0x47a0f2(0x427)]&&_0x2a3c4a[_0x47a0f2(0x427)][_0x47a0f2(0x6a7)]){let _0x1f7306=_0x2a3c4a[_0x47a0f2(0x427)][_0x47a0f2(0x6a7)][_0x47a0f2(0x8cd)](_0x51c262=>String(_0x51c262[_0x47a0f2(0x3f3)])===String(_0x16e5fb))['pop']();if(_0x1f7306&&_0x1f7306['error']&&_0x592041[_0x47a0f2(0x882)])return _0x2a3c4a[_0x47a0f2(0x914)]=_0x47a0f2(0x442),await this[_0x47a0f2(0x8ce)](_0x2a3c4a),null;}if(_0x592041[_0x47a0f2(0x52b)]===_0x47a0f2(0x494)&&_0x592041[_0x47a0f2(0x494)][_0x47a0f2(0x27e)]===_0x47a0f2(0x7a9)&&_0x2a3c4a[_0x47a0f2(0x619)])return _0x2a3c4a[_0x47a0f2(0x427)][_0x47a0f2(0x73e)]=_0x16e5fb,await this[_0x47a0f2(0x8ce)](_0x2a3c4a),null;let _0x4e99dd=await this[_0x47a0f2(0x984)](_0x2a3c4a);if(_0x2a3c4a[_0x47a0f2(0x427)]&&_0x2a3c4a[_0x47a0f2(0x427)][_0x47a0f2(0x6a7)]){let _0x5f5afb=_0x2a3c4a['chatLog'][_0x47a0f2(0x6a7)][_0x47a0f2(0x8cd)](_0x28ef3b=>String(_0x28ef3b[_0x47a0f2(0x3f3)])===String(_0x16e5fb))[_0x47a0f2(0x868)];if(_0x592041[_0x47a0f2(0x2c6)]!==void 0x0&&_0x5f5afb>=_0x592041['maxActives']){let _0xe5f583=Date[_0x47a0f2(0x7e8)](),_0x221249=_0x592041['stopMinutesMaxActives']??0xa;isNaN(_0x221249)&&(_0x221249=0xa);let _0x10977d=_0xe5f583+_0x221249*0x3c*0x3e8,_0x2655d4={'newStoppedUntil':_0x10977d};return this[_0x47a0f2(0x443)](_0x2a3c4a,_0x10977d),this[_0x47a0f2(0x759)](_0x2a3c4a,_0x592041,_0x2655d4,!0x0),null;}}_0x4e99dd&&_0x4e99dd[_0x47a0f2(0x52b)]!==_0x47a0f2(0x52a)&&await this[_0x47a0f2(0x781)](_0x2a3c4a,_0x4e99dd),_0x4e99dd||await this[_0x47a0f2(0x8ce)](_0x2a3c4a),_0x4e99dd&&_0x4e99dd[_0x47a0f2(0x52b)]===_0x47a0f2(0x52a)&&(_0x2a3c4a[_0x47a0f2(0x427)][_0x47a0f2(0x73e)]=_0x16e5fb,await this[_0x47a0f2(0x8ce)](_0x2a3c4a));}async[a0_0x1c3883(0x781)](_0x3a6fb5,_0x257125){const _0xe4d8fa=a0_0x1c3883;try{let _0x4a60cb=_0x257125[_0xe4d8fa(0x52b)];this['logger'][_0xe4d8fa(0x990)](this[_0xe4d8fa(0x259)]+'\x20('+this[_0xe4d8fa(0x339)][_0xe4d8fa(0x988)]+_0xe4d8fa(0x49a)+_0x4a60cb);let _0x444183={'uazapi':()=>this[_0xe4d8fa(0x309)](_0x3a6fb5,_0x257125),'save':()=>this[_0xe4d8fa(0x366)](_0x3a6fb5,_0x257125),'stop':()=>this['stopConversation'](_0x3a6fb5,_0x257125),'condition':()=>this[_0xe4d8fa(0x83a)](_0x3a6fb5,_0x257125),'varedit':()=>this[_0xe4d8fa(0x861)](_0x3a6fb5,_0x257125),'apirequest':()=>this['processApiRequest'](_0x3a6fb5,_0x257125),'goToFlow':()=>this[_0xe4d8fa(0x5ce)](_0x3a6fb5,_0x257125),'scheduleFlow':()=>this[_0xe4d8fa(0x517)](_0x3a6fb5,_0x257125),'awaitSeconds':()=>this[_0xe4d8fa(0x7a2)](_0x3a6fb5,_0x257125),'clearVariables':()=>this[_0xe4d8fa(0x932)](_0x3a6fb5,_0x257125)}[_0x4a60cb];_0x444183&&await _0x444183();}catch(_0x1ac66b){this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0xe4d8fa(0x988)]+_0xe4d8fa(0x7d8)+(_0x1ac66b instanceof Error?_0x1ac66b[_0xe4d8fa(0x535)]:JSON['stringify'](_0x1ac66b,null,0x2)));}}async[a0_0x1c3883(0x7a2)](_0x142435,_0x3b7c9d){const _0x16e705=a0_0x1c3883;if(this[_0x16e705(0x23d)][_0x16e705(0x990)](this[_0x16e705(0x259)]+'\x20('+this[_0x16e705(0x339)][_0x16e705(0x988)]+'):\x20Entrou\x20na\x20função\x20processawaitSeconds'),!_0x142435||!_0x3b7c9d)return this[_0x16e705(0x23d)][_0x16e705(0x61d)](this[_0x16e705(0x259)]+'\x20('+this[_0x16e705(0x339)][_0x16e705(0x988)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x41ee2b=+_0x3b7c9d[_0x16e705(0x55f)];isNaN(_0x41ee2b)&&(_0x41ee2b=0x0),_0x41ee2b=Math[_0x16e705(0x5d6)](_0x41ee2b,0x3c),await(0x0,w[_0x16e705(0x6f4)])(_0x41ee2b*0x3e8);let _0x53f2c5={'moreLogs':['Pausado\x20por\x20'+_0x41ee2b+_0x16e705(0x21e)]};return await this[_0x16e705(0x759)](_0x142435,_0x3b7c9d,_0x53f2c5),_0x41ee2b;}async[a0_0x1c3883(0x932)](_0x325deb,_0x37ac67){const _0x1d1b19=a0_0x1c3883;if(this['logger'][_0x1d1b19(0x990)](this[_0x1d1b19(0x259)]+'\x20('+this[_0x1d1b19(0x339)][_0x1d1b19(0x988)]+_0x1d1b19(0x7bc)),!_0x325deb||!_0x37ac67)return this['logger'][_0x1d1b19(0x61d)](this[_0x1d1b19(0x259)]+'\x20('+this[_0x1d1b19(0x339)][_0x1d1b19(0x988)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x5efa2b=[];if(_0x37ac67[_0x1d1b19(0x99a)][_0x1d1b19(0x987)]()===_0x1d1b19(0x7aa)){let _0x22394b=['_sender',_0x1d1b19(0x5dd),_0x1d1b19(0x2f8),'_activedCount',_0x1d1b19(0x7f0),_0x1d1b19(0x8a0),_0x1d1b19(0x45d)];_0x5efa2b=Object[_0x1d1b19(0x835)](_0x325deb[_0x1d1b19(0x427)][_0x1d1b19(0x78a)])[_0x1d1b19(0x8cd)](_0x45b19f=>_0x45b19f['startsWith']('_')&&!_0x22394b[_0x1d1b19(0x681)](_0x45b19f));}else _0x5efa2b=_0x37ac67[_0x1d1b19(0x99a)][_0x1d1b19(0x3ac)]('|')[_0x1d1b19(0x4ac)](_0x55c4ba=>(_0x55c4ba=_0x55c4ba[_0x1d1b19(0x7cb)](/[{}]/g,'')['trim'](),_0x55c4ba[_0x1d1b19(0x376)]('_')?_0x55c4ba:'_'+_0x55c4ba));let _0x1c7f75=[];_0x5efa2b['forEach'](_0x53a737=>{const _0x286c1c=_0x1d1b19;_0x53a737 in _0x325deb['chatLog'][_0x286c1c(0x78a)]&&(delete _0x325deb[_0x286c1c(0x427)][_0x286c1c(0x78a)][_0x53a737],_0x1c7f75[_0x286c1c(0x706)](_0x53a737));}),_0x1c7f75[_0x1d1b19(0x868)]>0x0?this[_0x1d1b19(0x23d)][_0x1d1b19(0x990)](this[_0x1d1b19(0x259)]+'\x20('+this[_0x1d1b19(0x339)][_0x1d1b19(0x988)]+_0x1d1b19(0x7c6)+_0x1c7f75[_0x1d1b19(0x25f)](',\x20')):this[_0x1d1b19(0x23d)][_0x1d1b19(0x990)](this['instanceName']+'\x20('+this[_0x1d1b19(0x339)][_0x1d1b19(0x988)]+_0x1d1b19(0x5f5));let _0xf7ac2e={'moreLogs':[_0x1d1b19(0x817)+_0x1c7f75[_0x1d1b19(0x25f)](',\x20')]};return await this['updateConversation'](_0x325deb,_0x37ac67,_0xf7ac2e),null;}async[a0_0x1c3883(0x517)](_0x424077,_0x554fd6){const _0x1e92db=a0_0x1c3883;if(this[_0x1e92db(0x23d)]['verbose'](this[_0x1e92db(0x259)]+'\x20('+this[_0x1e92db(0x339)][_0x1e92db(0x988)]+'):\x20Entrou\x20na\x20função\x20scheduleFlow'),!_0x424077||!_0x554fd6)return this[_0x1e92db(0x23d)][_0x1e92db(0x61d)](this[_0x1e92db(0x259)]+'\x20('+this[_0x1e92db(0x339)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x5b466b=_0x424077['remoteJid'];_0x554fd6[_0x1e92db(0x60d)][_0x1e92db(0x8f4)]&&_0x554fd6[_0x1e92db(0x60d)][_0x1e92db(0x8f4)]['trim']()!==''&&(_0x5b466b=_0x554fd6[_0x1e92db(0x494)][_0x1e92db(0x8f4)][_0x1e92db(0x987)]());let _0x4b02ac=_0x554fd6[_0x1e92db(0x60d)][_0x1e92db(0x275)]*0xea60,_0x11755a=Date['now']()+_0x4b02ac,_0x18a48e={'status':_0x1e92db(0x3ef),'info':_0x1e92db(0x665)+_0x424077[_0x1e92db(0x1f9)],'remoteJids':[_0x5b466b],'when':_0x11755a,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x1e92db(0x1fc),'flowName':_0x554fd6[_0x1e92db(0x60d)][_0x1e92db(0x410)]};this[_0x1e92db(0x760)](_0x18a48e);let _0x443a25=await this[_0x1e92db(0x984)](_0x424077);_0x443a25&&await this[_0x1e92db(0x781)](_0x424077,_0x443a25);}async[a0_0x1c3883(0x5ce)](_0x1a0737,_0x574fb7){const _0x277c3d=a0_0x1c3883;if(this[_0x277c3d(0x23d)][_0x277c3d(0x990)](this['instanceName']+'\x20('+this[_0x277c3d(0x339)][_0x277c3d(0x988)]+_0x277c3d(0x4db)),!_0x1a0737||!_0x574fb7)return this[_0x277c3d(0x23d)][_0x277c3d(0x61d)](this[_0x277c3d(0x259)]+'\x20('+this['instance'][_0x277c3d(0x988)]+_0x277c3d(0x233)),null;await this[_0x277c3d(0x759)](_0x1a0737,_0x574fb7,{},!0x0,!0x0);let _0x806181=_0x574fb7['goToFlow'];_0x1a0737=await this[_0x277c3d(0x976)](_0x806181,_0x1a0737[_0x277c3d(0x8f4)],_0x1a0737['chatLog'][_0x277c3d(0x78a)]);let _0xdbac10=await this[_0x277c3d(0x984)](_0x1a0737);_0xdbac10&&await this[_0x277c3d(0x781)](_0x1a0737,_0xdbac10);}async[a0_0x1c3883(0x976)](_0x44d301,_0x1e52da,_0x4be83c){const _0x2aacf1=a0_0x1c3883;this[_0x2aacf1(0x23d)][_0x2aacf1(0x990)](this['instanceName']+'\x20('+this[_0x2aacf1(0x339)][_0x2aacf1(0x988)]+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{let _0x69a9a3=this[_0x2aacf1(0x6cf)][_0x2aacf1(0x7ea)][_0x2aacf1(0x571)](_0x362bd5=>_0x362bd5['_id']===_0x44d301);_0x69a9a3||this[_0x2aacf1(0x23d)][_0x2aacf1(0x61d)](this[_0x2aacf1(0x259)]+'\x20('+this[_0x2aacf1(0x339)][_0x2aacf1(0x988)]+_0x2aacf1(0x858)+_0x44d301+_0x2aacf1(0x742));let _0xb8725a=await this['repository']['flow'][_0x2aacf1(0x213)]({'where':{'_id':_0x69a9a3['_id']}});if(!_0xb8725a||!_0xb8725a[_0x2aacf1(0x92a)]?.[_0x2aacf1(0x681)](this['instance'][_0x2aacf1(0x988)]))throw this[_0x2aacf1(0x23d)][_0x2aacf1(0x61d)](this[_0x2aacf1(0x259)]+'\x20('+this[_0x2aacf1(0x339)]['wuid']+_0x2aacf1(0x858)+_0x44d301+_0x2aacf1(0x432)),new m(_0x2aacf1(0x74a)+_0x44d301+_0x2aacf1(0x432));let _0x35b55d=require(_0x2aacf1(0x46b))['ObjectId'],_0x3bbf16=Date[_0x2aacf1(0x7e8)](),_0x2a3b8d=_0x2aacf1(0x4c9),_0x5e7749={},_0x144fdd={},_0xc08e71=this['AutomateSystem'][_0x2aacf1(0x7ea)][_0x2aacf1(0x571)](_0x44b5eb=>_0x44b5eb[_0x2aacf1(0x8a0)]===_0xb8725a['_id']?.[_0x2aacf1(0x25c)]()),_0x425d47=_0xc08e71?.[_0x2aacf1(0x8d8)]??_0xb8725a['minutesToClose']??0x0,_0x232c95=_0xc08e71?.[_0x2aacf1(0x7d3)]??_0xb8725a[_0x2aacf1(0x7d3)]??!0x1,_0x3214c0={'flowId':_0x69a9a3[_0x2aacf1(0x8a0)],'readMessages':_0x69a9a3[_0x2aacf1(0x7d3)],..._0xb8725a,'chatLog':null},_0x436a31={'lastReceivedMessage':_0x5e7749,'lastSendMessage':_0x144fdd,'lastBlockId':_0x2a3b8d,'lastCondition':!0x0,'realVariables':_0x4be83c};_0x3214c0[_0x2aacf1(0x427)]=_0x436a31,_0x3214c0['chatLog'][_0x2aacf1(0x78a)]={..._0x4be83c},delete _0x3214c0[_0x2aacf1(0x8a0)],_0x3214c0[_0x2aacf1(0x8a0)]=new _0x35b55d(),_0x3214c0['lastInteraction']=_0x3bbf16,_0x3214c0[_0x2aacf1(0x914)]=_0x2aacf1(0x7e9),_0x3214c0[_0x2aacf1(0x8f4)]=_0x1e52da,_0x3214c0['minutesToClose']=_0x425d47,_0x3214c0[_0x2aacf1(0x7d3)]=_0x232c95;let _0x4cf1dc=await this[_0x2aacf1(0x89f)][_0x2aacf1(0x3dd)][_0x2aacf1(0x3e7)](_0x3214c0[_0x2aacf1(0x8a0)],_0x3214c0,this[_0x2aacf1(0x339)][_0x2aacf1(0x988)]);return this[_0x2aacf1(0x23d)][_0x2aacf1(0x990)](this['instanceName']+'\x20('+this[_0x2aacf1(0x339)][_0x2aacf1(0x988)]+_0x2aacf1(0x2b8)),_0x4cf1dc?_0x3214c0:null;}catch(_0x548d13){let _0x40b4d6='Erro\x20ao\x20copiar\x20o\x20documento',_0x10f32a=_0x548d13 instanceof Error?_0x548d13['message']:typeof _0x548d13==_0x2aacf1(0x20d)?JSON[_0x2aacf1(0x565)](_0x548d13):_0x548d13,_0x2c4fcd=_0x40b4d6+':\x20'+_0x10f32a;throw this[_0x2aacf1(0x23d)][_0x2aacf1(0x61d)](this[_0x2aacf1(0x259)]+'\x20('+this['instance'][_0x2aacf1(0x988)]+_0x2aacf1(0x93d)+_0x2c4fcd),new m(_0x2c4fcd);}}async[a0_0x1c3883(0x349)](_0x34218e,_0x322aa6){const _0x361508=a0_0x1c3883;let _0x724e1a,_0x4a0afd;try{let _0xc9c6a7=_0x322aa6['apirequest'];if(!_0xc9c6a7||!_0xc9c6a7[_0x361508(0x4f8)]||!_0xc9c6a7[_0x361508(0x777)])throw new Error(_0x361508(0x3de));let _0x1b7ce5;([_0x361508(0x707),_0x361508(0x471),_0x361508(0x5ee)]['some'](_0xa9b5ca=>_0xc9c6a7[_0x361508(0x4f8)][_0x361508(0x681)](_0xa9b5ca))||_0xc9c6a7[_0x361508(0x6ca)])&&(_0x1b7ce5=_0x361508(0x615));let _0x390b0f='\u205f',_0x263752;try{_0x263752=JSON[_0x361508(0x298)](_0xc9c6a7['bodyString'][_0x361508(0x7cb)](new RegExp(_0x390b0f,'g'),''));}catch(_0x35a0a8){throw _0x35a0a8;}let _0x31bb78={'method':_0xc9c6a7[_0x361508(0x777)],'url':_0xc9c6a7['url'],'headers':_0xc9c6a7['header']||{},..._0xc9c6a7[_0x361508(0x777)][_0x361508(0x6e5)]()!==_0x361508(0x55b)&&_0xc9c6a7[_0x361508(0x49d)]?{'data':JSON['parse'](_0xc9c6a7[_0x361508(0x49d)]['replace'](new RegExp(_0x390b0f,'g'),''))}:{},..._0x1b7ce5&&{'responseType':_0x1b7ce5}},_0x559aa7=await(0x0,K[_0x361508(0x460)])(_0x31bb78),_0x376686=_0x559aa7[_0x361508(0x232)][_0x361508(0x8b7)];if(_0x376686&&_0x376686[_0x361508(0x681)](_0x361508(0x4ed))||typeof _0x559aa7[_0x361508(0x960)]==_0x361508(0x33b)){if(typeof _0x559aa7[_0x361508(0x960)]=='string'){let _0x36b591=_0x559aa7[_0x361508(0x960)][_0x361508(0x7cb)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x361508(0x987)]();try{_0x724e1a=JSON['parse'](_0x36b591);}catch(_0x4c327c){this[_0x361508(0x23d)][_0x361508(0x61d)]('Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20'+_0x4c327c[_0x361508(0x535)]),_0x724e1a={'_apiResponse':_0x559aa7[_0x361508(0x960)]};}}else _0x724e1a=_0x559aa7[_0x361508(0x960)];let _0x2c97b2=_0x34218e['chatLog']['realVariables'],_0x21a796=this[_0x361508(0x3d6)](_0x724e1a);return Object[_0x361508(0x515)](_0x2c97b2,_0x21a796),_0x34218e[_0x361508(0x427)][_0x361508(0x78a)]=_0x2c97b2,_0x4a0afd={'error':!0x1,'apiResponse':_0x724e1a},this[_0x361508(0x759)](_0x34218e,_0x322aa6,_0x4a0afd),_0x724e1a;}if(_0x376686&&(_0x376686[_0x361508(0x681)](_0x361508(0x30c))||_0x376686[_0x361508(0x681)]('image')||_0x376686[_0x361508(0x681)](_0x361508(0x2e7))||_0x376686[_0x361508(0x681)]('video'))){this[_0x361508(0x23d)]['verbose'](this[_0x361508(0x259)]+'\x20('+this[_0x361508(0x339)]['wuid']+_0x361508(0x2e5)+_0x376686);let _0x490511=(0x0,Q['v4'])(),_0x137750='',_0x1954db={'image/jpeg':_0x361508(0x51c),'image/png':_0x361508(0x99e),'image/gif':_0x361508(0x6fd),'image/webp':_0x361508(0x2cf),'image/svg+xml':_0x361508(0x8bd),'audio/mpeg':_0x361508(0x7f2),'audio/ogg':_0x361508(0x4eb),'audio/wav':_0x361508(0x8fd),'video/mp4':_0x361508(0x6f8),'video/webm':_0x361508(0x73f),'video/ogg':_0x361508(0x401),'text/plain':'.txt','application/pdf':_0x361508(0x4f1),'application/msword':_0x361508(0x963),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x361508(0x4e2),'application/vnd.ms-excel':_0x361508(0x228),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x361508(0x2c5),'application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x1954db[_0x376686]?(_0x137750=_0x1954db[_0x376686],this[_0x361508(0x23d)][_0x361508(0x990)](this[_0x361508(0x259)]+'\x20('+this[_0x361508(0x339)][_0x361508(0x988)]+_0x361508(0x90c)+_0x137750)):(_0x137750=_0x361508(0x74d),this['logger']['verbose'](this[_0x361508(0x259)]+'\x20('+this[_0x361508(0x339)][_0x361508(0x988)]+_0x361508(0x3d4)+_0x137750)),_0x490511+=_0x137750,this[_0x361508(0x23d)][_0x361508(0x990)](this[_0x361508(0x259)]+'\x20('+this[_0x361508(0x339)][_0x361508(0x988)]+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0x490511);let _0x5d42be=this[_0x361508(0x554)]['get']('SERVER')[_0x361508(0x601)];if(!_0x5d42be){let _0x483779=this[_0x361508(0x554)][_0x361508(0x923)](_0x361508(0x3c6));_0x5d42be=_0x361508(0x5ef)+(_0x483779&&_0x483779['FULLCHAIN'][_0x361508(0x3ac)]('/')[0x4]);}let _0x387b9d=Buffer[_0x361508(0x422)](_0x559aa7[_0x361508(0x960)]);await this[_0x361508(0x93e)](_0x387b9d,_0x490511);let _0x4af30c=_0x361508(0x6d7)+_0x490511;_0x4af30c=''+_0x5d42be+_0x4af30c,_0x724e1a={'fileUrl':_0x4af30c},_0x34218e[_0x361508(0x427)][_0x361508(0x78a)][_0x361508(0x6bd)]=_0x4af30c;let _0x10eb1d=_0x34218e['chatLog'][_0x361508(0x78a)],_0x2a3a72=this['flattenObject'](_0x724e1a);return Object[_0x361508(0x515)](_0x10eb1d,_0x2a3a72),_0x34218e[_0x361508(0x427)][_0x361508(0x78a)]=_0x10eb1d,_0x4a0afd={'error':!0x1,'apiResponse':{'fileUrl':_0x4af30c}},this['updateConversation'](_0x34218e,_0x322aa6,_0x4a0afd),_0x724e1a;}}catch(_0x12ee64){this[_0x361508(0x23d)][_0x361508(0x61d)](_0x361508(0x819)+_0x12ee64[_0x361508(0x535)]),_0x12ee64[_0x361508(0x678)]&&(_0x724e1a=_0x12ee64['response'][_0x361508(0x960)]);let _0x1a8a15=_0x34218e[_0x361508(0x427)][_0x361508(0x78a)],_0x2f62c4=this[_0x361508(0x3d6)](_0x724e1a);return Object[_0x361508(0x515)](_0x1a8a15,_0x2f62c4),_0x34218e['chatLog'][_0x361508(0x78a)]=_0x1a8a15,_0x4a0afd={'error':!0x0,'errorLog':_0x12ee64[_0x361508(0x25c)](),'apiResponse':_0x724e1a},this[_0x361508(0x759)](_0x34218e,_0x322aa6,_0x4a0afd),{'success':!0x1};}}[a0_0x1c3883(0x968)](_0x31c520,_0x28de21){const _0x549117=a0_0x1c3883;let _0x4ed086=_0x44e0d2=>{let _0x285259=_0x44e0d2['replace'](/[^0-9.,-]/g,'')['replace'](',','.'),_0x5328b8=parseFloat(_0x285259);return isNaN(_0x5328b8)?null:_0x5328b8;},_0x4474b9=_0x28de21[_0x549117(0x8b9)],_0x57057e=_0x28de21['secondValue'];typeof _0x4474b9=='string'&&(_0x4474b9=this[_0x549117(0x5be)](_0x4474b9,_0x31c520['chatLog']['realVariables'])??''),typeof _0x57057e=='string'&&(_0x57057e=this[_0x549117(0x5be)](_0x57057e,_0x31c520[_0x549117(0x427)][_0x549117(0x78a)])??'');let _0xb96c0a=null;if(!_0x28de21[_0x549117(0x351)])return null;switch(this['logger']['verbose'](this[_0x549117(0x259)]+'\x20('+this[_0x549117(0x339)]['wuid']+_0x549117(0x5e9)+_0x4474b9),this[_0x549117(0x23d)]['verbose'](this[_0x549117(0x259)]+'\x20('+this[_0x549117(0x339)]['wuid']+_0x549117(0x4af)+_0x57057e),_0x28de21[_0x549117(0x351)]){case'+':case'-':case'*':case'/':let _0x5796d0=_0x4ed086(_0x4474b9||'0'),_0x26b0fe=_0x4ed086(_0x57057e||'0');if(_0x5796d0===null)return null;switch(_0x28de21[_0x549117(0x351)]){case'+':_0xb96c0a=_0x5796d0+(_0x26b0fe??0x0);break;case'-':_0xb96c0a=_0x5796d0-(_0x26b0fe??0x0);break;case'*':_0xb96c0a=_0x5796d0*(_0x26b0fe??0x1);break;case'/':_0x26b0fe!==0x0&&(_0xb96c0a=_0x5796d0/(_0x26b0fe??0x1));break;}break;case _0x549117(0x783):case _0x549117(0x6b3):let _0x2c243f=_0x57057e,_0x18acc9=_0x28de21[_0x549117(0x8ae)];if(typeof _0x18acc9==_0x549117(0x33b)&&(_0x18acc9=this['replaceVariables'](_0x18acc9,_0x31c520[_0x549117(0x427)][_0x549117(0x78a)])??''),_0x2c243f&&_0x18acc9!==void 0x0){let _0x3a4d18=_0x28de21[_0x549117(0x351)]===_0x549117(0x783)?new RegExp(_0x2c243f[_0x549117(0x7cb)](/[-\/\\^$*+?.()|[\]{}]/g,_0x549117(0x7eb)),'g'):new RegExp(_0x2c243f,'g');_0xb96c0a=_0x4474b9[_0x549117(0x7cb)](_0x3a4d18,_0x18acc9);}else console[_0x549117(0x7b3)](_0x549117(0x928));break;case _0x549117(0x2f9):_0xb96c0a=_0x57057e;break;case _0x549117(0x43f):let _0x1196c1=_0x4474b9['match'](new RegExp(_0x57057e||''));_0xb96c0a=_0x1196c1?_0x1196c1[0x0]:'';break;case'truncatedto':_0xb96c0a=_0x4474b9[_0x549117(0x7a4)](0x0,parseInt(_0x57057e||'0'));break;case _0x549117(0x658):let _0x9c4a6a=parseInt(_0x57057e||'0');_0xb96c0a=_0x4474b9['slice'](_0x4474b9['length']-_0x9c4a6a);break;case _0x549117(0x970):let _0x1e633e=_0x4ed086(_0x4474b9),_0x54f04c=parseInt(_0x57057e||'0');_0x54f04c=Math[_0x549117(0x345)](_0x54f04c),_0x1e633e!==null?_0xb96c0a=_0x1e633e['toLocaleString'](_0x549117(0x606),{'minimumFractionDigits':_0x54f04c,'maximumFractionDigits':_0x54f04c}):(console[_0x549117(0x7b3)](_0x549117(0x28e)+_0x4474b9),_0xb96c0a=null);break;case'toBRL':let _0x47390d=_0x4ed086(_0x4474b9);_0x47390d!==null?_0xb96c0a=_0x47390d[_0x549117(0x37a)]('pt-BR',{'style':'currency','currency':'BRL'}):(console['warn'](_0x549117(0x761)+_0x4474b9),_0xb96c0a=null);break;case'upperCase':_0xb96c0a=_0x4474b9['toUpperCase']();break;case'lowerCase':_0xb96c0a=_0x4474b9[_0x549117(0x25e)]();break;case'capitalizedWords':_0xb96c0a=_0x4474b9['split']('\x20')[_0x549117(0x4ac)](_0x12b8c6=>_0x12b8c6[_0x549117(0x4bf)](0x0)[_0x549117(0x6e5)]()+_0x12b8c6[_0x549117(0x7a4)](0x1)['toLowerCase']())[_0x549117(0x25f)]('\x20');break;case _0x549117(0x8da):_0xb96c0a=JSON[_0x549117(0x565)](_0x4474b9);break;case _0x549117(0x38c):_0xb96c0a=_0x4474b9[_0x549117(0x987)]();break;default:_0xb96c0a=_0x4474b9;}return _0xb96c0a!==null?_0xb96c0a[_0x549117(0x25c)]():null;}async[a0_0x1c3883(0x861)](_0x20b90f,_0x4067c5){const _0x1e5abf=a0_0x1c3883;try{let _0x54f647=_0x20b90f[_0x1e5abf(0x66c)]?.[_0x1e5abf(0x8cd)](_0x48ceba=>_0x48ceba[_0x1e5abf(0x3f3)]===_0x4067c5['_id']?.[_0x1e5abf(0x25c)]())||[],_0x562d6a=_0x4067c5['saveVariable'],_0x3a35aa=null,_0x384e9a=[],_0x3637a9=_0x20b90f[_0x1e5abf(0x427)][_0x1e5abf(0x78a)][_0x562d6a];_0x384e9a[_0x1e5abf(0x706)]('Valor\x20inicial:\x20\x22'+_0x3637a9+'\x22');for(let _0x1e3573 of _0x54f647){_0x1e3573[_0x1e5abf(0x8b9)]=_0x3637a9,_0x3a35aa=_0x1e3573[_0x1e5abf(0x8b9)];let _0x58bda0;try{_0x58bda0=this[_0x1e5abf(0x968)](_0x20b90f,_0x1e3573);}catch(_0x5b787){this['logger'][_0x1e5abf(0x61d)]('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x5b787[_0x1e5abf(0x535)]);continue;}if(_0x58bda0!==null){let _0x3ccccf=_0x1e5abf(0x95b)+_0x1e3573[_0x1e5abf(0x351)]+'\x22',_0x5290f1=[_0x1e5abf(0x519),_0x1e5abf(0x901),_0x1e5abf(0x7af),_0x1e5abf(0x38d),_0x1e5abf(0x38c)];_0x1e3573[_0x1e5abf(0x351)]===_0x1e5abf(0x783)||_0x1e3573[_0x1e5abf(0x351)]==='findAndReplaceRegex'?_0x3ccccf+=_0x1e5abf(0x429)+_0x1e3573[_0x1e5abf(0x6bc)]+_0x1e5abf(0x482)+_0x1e3573[_0x1e5abf(0x8ae)]+'\x22':!_0x5290f1[_0x1e5abf(0x681)](_0x1e3573['editOperator'])&&_0x1e3573['secondValue']!==null&&_0x1e3573['secondValue']!==void 0x0&&(_0x3ccccf+=_0x1e5abf(0x370)+_0x1e3573[_0x1e5abf(0x6bc)]+'\x22'),_0x3ccccf+=_0x1e5abf(0x69b)+_0x58bda0+'.',_0x384e9a['push'](_0x3ccccf);}_0x58bda0!==null&&(_0x3637a9=_0x58bda0);}if(_0x20b90f[_0x1e5abf(0x427)]['realVariables']&&_0x4067c5[_0x1e5abf(0x898)]){_0x20b90f[_0x1e5abf(0x427)][_0x1e5abf(0x78a)][_0x4067c5[_0x1e5abf(0x898)]]=_0x3637a9;let _0x415480={'variable':_0x4067c5['saveVariable'],'oldValue':_0x3a35aa,'newValue':_0x3637a9,'moreLogs':_0x384e9a};try{this[_0x1e5abf(0x759)](_0x20b90f,_0x4067c5,_0x415480);}catch(_0x210713){this[_0x1e5abf(0x23d)][_0x1e5abf(0x61d)](_0x1e5abf(0x6d0)+_0x210713[_0x1e5abf(0x535)]);}}return _0x562d6a;}catch(_0xc9bd13){return this[_0x1e5abf(0x23d)]['error'](_0x1e5abf(0x81a)+_0xc9bd13[_0x1e5abf(0x535)]),null;}}async[a0_0x1c3883(0x83a)](_0x2e38dd,_0x4a1ddf){const _0x49487d=a0_0x1c3883;try{let _0xaba485=[],_0x735743=_0x2e38dd[_0x49487d(0x4d4)][_0x49487d(0x8cd)](_0xcfa5ed=>_0xcfa5ed['blockId']===_0x4a1ddf[_0x49487d(0x8a0)][_0x49487d(0x25c)]()),_0x4f22c0=null,_0x51d057=!0x1;for(let _0xdf2383 of _0x735743){let _0x4e0940=this[_0x49487d(0x4c2)](_0x2e38dd,_0xdf2383);_0xaba485[_0x49487d(0x706)]('Primeiro\x20Valor:\x20'+_0xdf2383['firstValue']+',\x20Comparador:\x20'+_0xdf2383[_0x49487d(0x4a7)]+_0x49487d(0x965)+_0xdf2383[_0x49487d(0x6bc)]+_0x49487d(0x65b)+_0x4e0940),_0x4f22c0===null?_0x4f22c0=_0x4e0940:_0xdf2383[_0x49487d(0x73a)]===_0x49487d(0x739)?(_0x4f22c0=_0x4f22c0&&_0x4e0940,_0x4e0940||(_0x51d057=!0x0)):_0xdf2383[_0x49487d(0x73a)]==='or'&&(_0x51d057||(_0x4f22c0=_0x4f22c0||_0x4e0940));}_0x4f22c0===null&&(_0x4f22c0=!0x0);let _0x42d036={'moreLogs':_0xaba485};_0x2e38dd[_0x49487d(0x427)]['lastCondition']=_0x4f22c0,await this[_0x49487d(0x759)](_0x2e38dd,_0x4a1ddf,_0x42d036);}catch(_0xce2946){this[_0x49487d(0x23d)]['error'](this['instanceName']+'\x20('+this[_0x49487d(0x339)][_0x49487d(0x988)]+_0x49487d(0x37c)+(_0xce2946 instanceof Error?_0xce2946['message']:JSON[_0x49487d(0x565)](_0xce2946,null,0x2)));}}['evaluateCondition'](_0x4ec109,_0x51598e){const _0x2c1bde=a0_0x1c3883;let _0x4e3a54=_0x51598e[_0x2c1bde(0x8b9)],_0x3f4cc8=_0x51598e['secondValue'];typeof _0x4e3a54==_0x2c1bde(0x33b)&&(_0x4e3a54=this[_0x2c1bde(0x5be)](_0x4e3a54,_0x4ec109[_0x2c1bde(0x427)]['realVariables'])??''),typeof _0x3f4cc8=='string'&&(_0x3f4cc8=this['replaceVariables'](_0x3f4cc8,_0x4ec109[_0x2c1bde(0x427)][_0x2c1bde(0x78a)])??'');try{switch(_0x51598e[_0x2c1bde(0x4a7)]){case _0x2c1bde(0x650):return _0x4e3a54===_0x3f4cc8;case _0x2c1bde(0x64f):return _0x4e3a54!==_0x3f4cc8;case'contains':return this['contains'](_0x4e3a54,_0x3f4cc8);case _0x2c1bde(0x87f):return!this[_0x2c1bde(0x627)](_0x4e3a54,_0x3f4cc8);case _0x2c1bde(0x636):return parseFloat(_0x4e3a54)>parseFloat(_0x3f4cc8);case _0x2c1bde(0x669):return parseFloat(_0x4e3a54)<parseFloat(_0x3f4cc8);case _0x2c1bde(0x563):return _0x4e3a54!=='';case _0x2c1bde(0x511):return _0x4e3a54==='';case'matchRegex':return new RegExp(_0x3f4cc8)[_0x2c1bde(0x6eb)](_0x4e3a54);case _0x2c1bde(0x8ac):return!new RegExp(_0x3f4cc8)[_0x2c1bde(0x6eb)](_0x4e3a54);default:return!0x1;}}catch(_0x59a2f4){return this['logger'][_0x2c1bde(0x61d)](_0x2c1bde(0x553)+_0x59a2f4),!0x1;}}[a0_0x1c3883(0x627)](_0x317b5a,_0x121037){const _0x2a8f50=a0_0x1c3883;if(_0x317b5a===_0x121037&&/^\d+$/[_0x2a8f50(0x6eb)](_0x317b5a))return!0x0;if(this['isListOfNumbers'](_0x317b5a)&&/^\d+$/[_0x2a8f50(0x6eb)](_0x121037)){let _0x4bfc1b=_0x317b5a[_0x2a8f50(0x3ac)](',')[_0x2a8f50(0x4ac)](_0x38209e=>parseInt(_0x38209e[_0x2a8f50(0x987)]())),_0x5d97f4=parseInt(_0x121037);return _0x4bfc1b[_0x2a8f50(0x681)](_0x5d97f4);}return _0x317b5a[_0x2a8f50(0x681)](_0x121037);}[a0_0x1c3883(0x959)](_0x2cf581){return/^\d+(,\d+)*$/['test'](_0x2cf581);}['processConditionsTest'](_0x253b18){const _0xaabdf0=a0_0x1c3883;let _0xfb76b4=!0x0,_0x22e4a3=null;for(let _0x3eed87 of _0x253b18){let _0xc25658=this['evaluateConditionTest'](_0x3eed87);if(_0x22e4a3==='or'&&_0xc25658){_0xfb76b4=!0x0;break;}if(_0x22e4a3===_0xaabdf0(0x739)&&!_0xc25658){_0xfb76b4=!0x1;break;}_0x22e4a3=_0x3eed87[_0xaabdf0(0x73a)];}return _0xfb76b4;}[a0_0x1c3883(0x3ec)](_0x46d15e){const _0x6c076=a0_0x1c3883;let _0x406e51=_0x46d15e[_0x6c076(0x8b9)],_0x55f484=_0x46d15e[_0x6c076(0x6bc)];try{switch(_0x46d15e[_0x6c076(0x4a7)]){case'equal':return String(_0x406e51)===String(_0x55f484);case _0x6c076(0x64f):return String(_0x406e51)!==String(_0x55f484);case _0x6c076(0x627):return String(_0x406e51)['includes'](String(_0x55f484));case'notContains':return!String(_0x406e51)['includes'](String(_0x55f484));case _0x6c076(0x636):return parseFloat(String(_0x406e51))>parseFloat(String(_0x55f484));case _0x6c076(0x669):return parseFloat(String(_0x406e51))<parseFloat(String(_0x55f484));case _0x6c076(0x563):return String(_0x406e51)!=='';case _0x6c076(0x511):return String(_0x406e51)==='';case _0x6c076(0x3b3):return new RegExp(String(_0x55f484))[_0x6c076(0x6eb)](String(_0x406e51));case _0x6c076(0x8ac):return!new RegExp(String(_0x55f484))['test'](String(_0x406e51));default:return!0x1;}}catch(_0xafd97a){return this['logger'][_0x6c076(0x61d)](_0x6c076(0x553)+_0xafd97a),!0x1;}}async[a0_0x1c3883(0x366)](_0x1ef414,_0x207205){const _0x237c51=a0_0x1c3883;if(this[_0x237c51(0x23d)]['verbose'](this[_0x237c51(0x259)]+'\x20('+this[_0x237c51(0x339)][_0x237c51(0x988)]+_0x237c51(0x4fd)),!_0x1ef414||!_0x207205)return this[_0x237c51(0x23d)][_0x237c51(0x61d)](this[_0x237c51(0x259)]+'\x20('+this[_0x237c51(0x339)][_0x237c51(0x988)]+_0x237c51(0x233)),null;let _0x3e5d6f=_0x1ef414[_0x237c51(0x427)][_0x237c51(0x42d)][_0x237c51(0x205)]['id'];this[_0x237c51(0x23d)][_0x237c51(0x990)](this[_0x237c51(0x259)]+'\x20('+this[_0x237c51(0x339)][_0x237c51(0x988)]+'):\x20mediaMessageInfoId\x20:\x20'+_0x3e5d6f);let _0x3a6de1={'key':{'id':_0x3e5d6f}},_0x562dd6=_0x207205[_0x237c51(0x898)];_0x1ef414[_0x237c51(0x427)]['realVariables']['_'+_0x562dd6+_0x237c51(0x362)]=null,_0x1ef414[_0x237c51(0x427)][_0x237c51(0x78a)]['_'+_0x562dd6+_0x237c51(0x306)]=null,_0x1ef414[_0x237c51(0x427)]['realVariables']['_'+_0x562dd6+_0x237c51(0x30b)]=null,_0x1ef414[_0x237c51(0x427)][_0x237c51(0x78a)]['_'+_0x562dd6+'.type']=_0x1ef414['chatLog']['lastReceivedMessage']['type'];try{let _0x1da0cc=await this[_0x237c51(0x32e)](_0x3a6de1);this[_0x237c51(0x23d)][_0x237c51(0x990)](this[_0x237c51(0x259)]+'\x20('+this[_0x237c51(0x339)]['wuid']+_0x237c51(0x35a)),_0x1ef414['chatLog'][_0x237c51(0x78a)]['_'+_0x562dd6+_0x237c51(0x6d5)]=_0x1da0cc['fileUrl'],_0x1ef414['chatLog'][_0x237c51(0x78a)]['_'+_0x562dd6+_0x237c51(0x306)]=_0x1da0cc[_0x237c51(0x917)];let _0x386793=_0x1da0cc[_0x237c51(0x917)][_0x237c51(0x483)](/\/(\w+)$/),_0x5539c7=_0x386793?_0x386793[0x1]:null;_0x1ef414[_0x237c51(0x427)][_0x237c51(0x78a)]['_'+_0x562dd6+_0x237c51(0x30b)]=_0x5539c7,this[_0x237c51(0x23d)]['verbose'](this[_0x237c51(0x259)]+'\x20('+this[_0x237c51(0x339)]['wuid']+_0x237c51(0x838)+_0x562dd6+'\x27.');}catch(_0x525f1f){this[_0x237c51(0x23d)][_0x237c51(0x61d)](this[_0x237c51(0x259)]+'\x20('+this['instance'][_0x237c51(0x988)]+'):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20'+_0x525f1f['message']);}let _0x1d7685=_0x1ef414[_0x237c51(0x427)][_0x237c51(0x42d)]['text']||_0x1ef414['chatLog'][_0x237c51(0x42d)][_0x237c51(0x639)]||_0x1ef414['chatLog'][_0x237c51(0x42d)]['vote'];try{_0x1ef414['chatLog'][_0x237c51(0x78a)]||(_0x1ef414[_0x237c51(0x427)][_0x237c51(0x78a)]={});let _0x1d5afe=_0x1ef414['chatLog']['realVariables'][_0x562dd6];_0x1ef414[_0x237c51(0x427)][_0x237c51(0x78a)][_0x562dd6]=_0x1d7685;let _0x421027={'variable':_0x562dd6,'oldValue':_0x1d5afe,'newValue':_0x1d7685};this[_0x237c51(0x759)](_0x1ef414,_0x207205,_0x421027),this[_0x237c51(0x23d)][_0x237c51(0x990)](this[_0x237c51(0x259)]+'\x20('+this[_0x237c51(0x339)]['wuid']+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x44d1d3){let _0x4dc402={'error':!0x0,'errorLog':_0x44d1d3['toString']()};return this[_0x237c51(0x759)](_0x1ef414,_0x207205,_0x4dc402),this[_0x237c51(0x23d)]['error'](this[_0x237c51(0x259)]+'\x20('+this['instance'][_0x237c51(0x988)]+_0x237c51(0x60a)+(_0x44d1d3 instanceof Error?_0x44d1d3[_0x237c51(0x535)]:JSON[_0x237c51(0x565)](_0x44d1d3,null,0x2))),null;}}async[a0_0x1c3883(0x712)](_0x36e860,_0x43dd90){const _0x3fc8d3=a0_0x1c3883;if(this['logger'][_0x3fc8d3(0x990)](this['instanceName']+'\x20('+this[_0x3fc8d3(0x339)][_0x3fc8d3(0x988)]+_0x3fc8d3(0x456)),!_0x36e860||!_0x43dd90)return this[_0x3fc8d3(0x23d)][_0x3fc8d3(0x61d)](this[_0x3fc8d3(0x259)]+'\x20('+this[_0x3fc8d3(0x339)][_0x3fc8d3(0x988)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x79bc32=Date[_0x3fc8d3(0x7e8)](),_0x1f353b=parseInt(_0x43dd90['stopMinutes'],0xa);if(isNaN(_0x1f353b))return this[_0x3fc8d3(0x23d)][_0x3fc8d3(0x61d)](this['instanceName']+'\x20('+this[_0x3fc8d3(0x339)][_0x3fc8d3(0x988)]+_0x3fc8d3(0x622)),null;let _0x3b71cc={'newStoppedUntil':_0x79bc32+_0x1f353b*0x3c*0x3e8};return await this[_0x3fc8d3(0x759)](_0x36e860,_0x43dd90,_0x3b71cc,!0x0),null;}async[a0_0x1c3883(0x309)](_0x53d5d7,_0x249178){const _0x438b42=a0_0x1c3883;try{switch(_0x249178[_0x438b42(0x494)]['command']){case _0x438b42(0x696):await this[_0x438b42(0x8a9)](_0x53d5d7,_0x249178);break;case _0x438b42(0x685):await this[_0x438b42(0x27d)](_0x53d5d7,_0x249178);break;case'sendLocation':await this[_0x438b42(0x883)](_0x53d5d7,_0x249178);break;case _0x438b42(0x301):await this[_0x438b42(0x279)](_0x53d5d7,_0x249178);break;case _0x438b42(0x87e):await this[_0x438b42(0x33c)](_0x53d5d7,_0x249178);break;case'sendPoll':await this[_0x438b42(0x5ec)](_0x53d5d7,_0x249178);break;case'sendMenu':await this[_0x438b42(0x5ec)](_0x53d5d7,_0x249178);break;case _0x438b42(0x250):await this[_0x438b42(0x638)](_0x53d5d7,_0x249178);break;default:this[_0x438b42(0x23d)][_0x438b42(0x61d)](this[_0x438b42(0x259)]+'\x20('+this['instance'][_0x438b42(0x988)]+_0x438b42(0x3ee)+_0x249178[_0x438b42(0x494)][_0x438b42(0x27e)]);}}catch(_0xcc6f0){this[_0x438b42(0x23d)]['error'](this[_0x438b42(0x259)]+'\x20('+this[_0x438b42(0x339)]['wuid']+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+(_0xcc6f0 instanceof Error?_0xcc6f0[_0x438b42(0x535)]:JSON[_0x438b42(0x565)](_0xcc6f0,null,0x2)));}}async[a0_0x1c3883(0x759)](_0x1290c0,_0x15ce0a,_0x24675f,_0x3e7292=!0x1,_0x475207=!0x1){const _0x4546ae=a0_0x1c3883;_0x1290c0[_0x4546ae(0x427)][_0x4546ae(0x6a7)]||(_0x1290c0['chatLog'][_0x4546ae(0x6a7)]=[]);let _0x225354=(_0x1290c0[_0x4546ae(0x427)][_0x4546ae(0x6a7)]?.[_0x4546ae(0x868)]??0x0)+0x1,_0x273985=_0x1290c0[_0x4546ae(0x427)][_0x4546ae(0x6a7)][_0x4546ae(0x8cd)](_0x246fcc=>String(_0x246fcc[_0x4546ae(0x3f3)])===String(_0x15ce0a['_id']))[_0x4546ae(0x868)]+0x1,_0x43e12a=_0x24675f?.[_0x4546ae(0x464)]??Date[_0x4546ae(0x7e8)](),_0x5c501e=_0x24675f?.['error']?_0x24675f[_0x4546ae(0x395)]??_0x24675f[_0x4546ae(0x61d)][_0x4546ae(0x25c)]():void 0x0,_0x5e6851={'onTime':_0x43e12a,'blockId':_0x15ce0a[_0x4546ae(0x8a0)],'order':_0x225354,'activatedCount':_0x273985,'error':_0x24675f?.['error']??!0x1,'messageId':_0x24675f?.[_0x4546ae(0x63e)],'apiResponse':_0x24675f?.[_0x4546ae(0x4b9)],'apiResponseString':_0x24675f?.[_0x4546ae(0x4b9)]?JSON[_0x4546ae(0x565)](_0x24675f?.[_0x4546ae(0x4b9)]):void 0x0,'variable':_0x24675f?.[_0x4546ae(0x7cf)],'oldValue':_0x24675f?.[_0x4546ae(0x44e)],'newValue':_0x24675f?.[_0x4546ae(0x4ea)],'newStoppedUntil':_0x24675f?.['newStoppedUntil'],'moreLogs':_0x24675f?.[_0x4546ae(0x481)],'errorLog':_0x5c501e};if(_0x24675f[_0x4546ae(0x481)]&&_0x24675f['moreLogs'][_0x4546ae(0x868)]>0x0){let _0x2cfc19=_0x24675f['moreLogs'][_0x4546ae(0x4ac)](_0x502165=>this[_0x4546ae(0x7d0)](_0x502165,_0x1290c0['chatLog']['realVariables']));_0x5e6851[_0x4546ae(0x481)]=_0x2cfc19;}if(_0x1290c0['chatLog'][_0x4546ae(0x78a)]||(_0x1290c0[_0x4546ae(0x427)]['realVariables']={}),_0x1290c0['chatLog'][_0x4546ae(0x78a)][_0x4546ae(0x803)]=String(_0x273985),_0x1290c0[_0x4546ae(0x427)]['realVariables'][_0x4546ae(0x2f8)]=String(_0x24675f[_0x4546ae(0x61d)]??!0x1),_0x1290c0[_0x4546ae(0x427)][_0x4546ae(0x6a7)][_0x4546ae(0x706)](_0x5e6851),_0x1290c0[_0x4546ae(0x427)]['realVariables'][_0x4546ae(0x4de)]&&_0x1290c0[_0x4546ae(0x427)][_0x4546ae(0x78a)][_0x4546ae(0x4de)]!==_0x1290c0[_0x4546ae(0x8f4)]){let _0x4a4982=(await this[_0x4546ae(0x327)]({'numbers':[_0x1290c0[_0x4546ae(0x427)][_0x4546ae(0x78a)]['telefone']]}))[0x0][_0x4546ae(0x7e1)];_0x1290c0[_0x4546ae(0x427)]['realVariables']['telefone']=_0x4a4982,_0x1290c0[_0x4546ae(0x8f4)]=_0x4a4982;try{let _0x10646b={'_id':{'$ne':_0x1290c0[_0x4546ae(0x8a0)]},'remoteJid':_0x4a4982,'status':'open'},_0x3f0854={'status':'closed'};await this[_0x4546ae(0x89f)][_0x4546ae(0x3dd)][_0x4546ae(0x286)](_0x10646b,_0x3f0854,this['instance'][_0x4546ae(0x988)]),this[_0x4546ae(0x23d)][_0x4546ae(0x990)](this[_0x4546ae(0x259)]+'\x20('+this[_0x4546ae(0x339)]['wuid']+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.');}catch(_0x385b0c){this[_0x4546ae(0x23d)]['error'](this[_0x4546ae(0x259)]+'\x20('+this[_0x4546ae(0x339)][_0x4546ae(0x988)]+_0x4546ae(0x4cb)+_0x385b0c['message']);}try{let _0x257011=_0x1290c0['chatLog'][_0x4546ae(0x78a)],_0x5e957c=await this['getVariablesChat'](_0x4a4982),_0x4bcba6={..._0x257011,..._0x5e957c,'_remoteJid':_0x4a4982};_0x1290c0[_0x4546ae(0x427)][_0x4546ae(0x78a)]=_0x4bcba6;}catch(_0x37072a){this[_0x4546ae(0x23d)]['error'](this[_0x4546ae(0x259)]+'\x20('+this[_0x4546ae(0x339)][_0x4546ae(0x988)]+_0x4546ae(0x2ef)+_0x37072a['message']);}}_0x1290c0[_0x4546ae(0x427)]['lastBlockId']=_0x15ce0a[_0x4546ae(0x8a0)][_0x4546ae(0x25c)](),_0x1290c0['chatLog'][_0x4546ae(0x821)]&&(_0x1290c0[_0x4546ae(0x427)][_0x4546ae(0x821)]=_0x1290c0[_0x4546ae(0x427)][_0x4546ae(0x821)]),_0x1290c0[_0x4546ae(0x427)][_0x4546ae(0x42d)]&&(_0x1290c0[_0x4546ae(0x427)][_0x4546ae(0x42d)]=_0x1290c0['chatLog'][_0x4546ae(0x42d)]),_0x1290c0['chatLog'][_0x4546ae(0x2e6)]&&(_0x1290c0[_0x4546ae(0x427)]['lastCondition']=_0x1290c0[_0x4546ae(0x427)][_0x4546ae(0x2e6)]),_0x475207&&(_0x1290c0['status']=_0x4546ae(0x442)),_0x3e7292?this['saveConversationToDatabase'](_0x1290c0):this['goNextblock'](_0x1290c0,_0x15ce0a);}[a0_0x1c3883(0x7d0)](_0x1d6cca,_0x5eee8b){const _0x1babb6=a0_0x1c3883;return _0x1d6cca[_0x1babb6(0x7cb)](/\{\{([^}]+)\}\}/g,(_0x1b6653,_0x9b641b)=>_0x5eee8b[_0x9b641b]?'{{'+_0x9b641b+_0x1babb6(0x8cf)+_0x5eee8b[_0x9b641b]+'\x22':'{{'+_0x9b641b+_0x1babb6(0x5f1));}async[a0_0x1c3883(0x8ce)](_0x19252d){const _0x551c6a=a0_0x1c3883;try{let _0x40ea5f=Object[_0x551c6a(0x5a0)](_0x19252d['chatLog'][_0x551c6a(0x78a)])[_0x551c6a(0x4ac)](([_0x1dda8a,_0x4479da])=>({'name':_0x1dda8a,'value':_0x4479da})),_0x222999={'status':_0x19252d[_0x551c6a(0x914)],'remoteJid':_0x19252d[_0x551c6a(0x8f4)],'blocks':_0x19252d[_0x551c6a(0x791)],'waitingMenu_id':_0x19252d[_0x551c6a(0x619)],'waitingMenu_text':_0x19252d[_0x551c6a(0x541)],'waitingMenu_replyOptions':_0x19252d[_0x551c6a(0x53f)],'chatLog':{'lastBlockId':_0x19252d[_0x551c6a(0x427)][_0x551c6a(0x73e)],'lastSendMessage':_0x19252d[_0x551c6a(0x427)][_0x551c6a(0x821)],'lastReceivedMessage':_0x19252d[_0x551c6a(0x427)][_0x551c6a(0x42d)],'lastCondition':_0x19252d['chatLog'][_0x551c6a(0x2e6)],'chatVariables':_0x40ea5f,'realVariables':_0x19252d[_0x551c6a(0x427)][_0x551c6a(0x78a)],'blockLogs':_0x19252d['chatLog'][_0x551c6a(0x6a7)]}},_0x54edbe=await this[_0x551c6a(0x89f)][_0x551c6a(0x3dd)][_0x551c6a(0x3e7)](_0x19252d[_0x551c6a(0x8a0)],_0x222999,this[_0x551c6a(0x339)][_0x551c6a(0x988)]);if(_0x54edbe){this[_0x551c6a(0x23d)][_0x551c6a(0x990)](this[_0x551c6a(0x259)]+'\x20('+this[_0x551c6a(0x339)][_0x551c6a(0x988)]+_0x551c6a(0x7ee)+_0x54edbe['_id']);try{let _0x477633=[_0x551c6a(0x403),_0x551c6a(0x3e2),'email',_0x551c6a(0x4b1),_0x551c6a(0x914),'notas',_0x551c6a(0x503),_0x551c6a(0x3b0),'etiquetas','atendimentoAberto'];if(!this[_0x551c6a(0x6cf)]&&(await this[_0x551c6a(0x5e4)](),!this[_0x551c6a(0x6cf)]))throw new Error(_0x551c6a(0x807));let _0x4da9b2=this[_0x551c6a(0x6cf)]?.[_0x551c6a(0x502)][_0x551c6a(0x4ac)](_0x3e405d=>_0x3e405d['name']),_0x5214ae={};Object[_0x551c6a(0x5a0)](_0x19252d[_0x551c6a(0x427)]['realVariables'])[_0x551c6a(0x33d)](([_0x24ed9f,_0x2de883])=>{const _0x358bf6=_0x551c6a;_0x477633[_0x358bf6(0x681)](_0x24ed9f)&&(_0x24ed9f===_0x358bf6(0x3b0)&&typeof _0x2de883==_0x358bf6(0x33b)?_0x5214ae[_0x24ed9f]=_0x2de883[_0x358bf6(0x3ac)](',')[_0x358bf6(0x4ac)](_0x47ea94=>_0x47ea94['trim']())[_0x358bf6(0x8cd)](_0x45c296=>_0x45c296!==''):_0x24ed9f===_0x358bf6(0x4d3)&&typeof _0x2de883=='string'?_0x5214ae[_0x24ed9f]=_0x2de883[_0x358bf6(0x3ac)](',')[_0x358bf6(0x4ac)](_0x2f1208=>_0x2f1208[_0x358bf6(0x987)]())[_0x358bf6(0x8cd)](_0x13fd17=>_0x13fd17!==''):_0x5214ae[_0x24ed9f]=_0x2de883);});let _0x53cfe4=_0x19252d[_0x551c6a(0x427)][_0x551c6a(0x6a7)][_0x19252d[_0x551c6a(0x427)][_0x551c6a(0x6a7)][_0x551c6a(0x868)]-0x1];if(_0x53cfe4){let _0x4b0208=_0x53cfe4['newStoppedUntil'];_0x4b0208!==void 0x0&&(_0x5214ae[_0x551c6a(0x92e)]=_0x4b0208['toString']());}let _0x35055c=_0x40ea5f[_0x551c6a(0x8cd)](_0x1d1da5=>_0x4da9b2['includes'](_0x1d1da5[_0x551c6a(0x1f9)]));this[_0x551c6a(0x23d)]['verbose'](this[_0x551c6a(0x259)]+'\x20('+this[_0x551c6a(0x339)][_0x551c6a(0x988)]+_0x551c6a(0x37d)),this[_0x551c6a(0x23d)][_0x551c6a(0x990)](_0x5214ae),this[_0x551c6a(0x23d)]['verbose'](this[_0x551c6a(0x259)]+'\x20('+this[_0x551c6a(0x339)][_0x551c6a(0x988)]+_0x551c6a(0x21b)),this[_0x551c6a(0x23d)][_0x551c6a(0x990)](_0x35055c);let _0x1cb4b8=_0x35055c[_0x551c6a(0x4ac)](_0x49487a=>{const _0x1620c9=_0x551c6a;let _0x4bd696=this[_0x1620c9(0x6cf)]?.[_0x1620c9(0x502)][_0x1620c9(0x571)](_0x2c68ad=>_0x2c68ad[_0x1620c9(0x1f9)]===_0x49487a[_0x1620c9(0x1f9)]);if(!_0x4bd696)throw new Error(_0x1620c9(0x364)+_0x49487a['name']);return{'_id':_0x4bd696[_0x1620c9(0x8a0)],'value':_0x49487a[_0x1620c9(0x944)]};});this[_0x551c6a(0x23d)][_0x551c6a(0x990)](this[_0x551c6a(0x259)]+'\x20('+this['instance'][_0x551c6a(0x988)]+'):\x20transformedCustomFieldVariables'),this[_0x551c6a(0x23d)][_0x551c6a(0x990)](_0x1cb4b8),await this[_0x551c6a(0x4b8)](_0x19252d['remoteJid'],_0x5214ae,_0x1cb4b8);}catch(_0x1fa737){this[_0x551c6a(0x23d)][_0x551c6a(0x61d)](this[_0x551c6a(0x259)]+'\x20('+this['instance'][_0x551c6a(0x988)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0x1fa737 instanceof Error?_0x1fa737[_0x551c6a(0x535)]:JSON[_0x551c6a(0x565)](_0x1fa737,null,0x2)));}}else this[_0x551c6a(0x23d)][_0x551c6a(0x61d)](this[_0x551c6a(0x259)]+'\x20('+this[_0x551c6a(0x339)]['wuid']+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x25f6d1){this[_0x551c6a(0x23d)][_0x551c6a(0x61d)](this[_0x551c6a(0x259)]+'\x20('+this[_0x551c6a(0x339)][_0x551c6a(0x988)]+_0x551c6a(0x72a)+(_0x25f6d1 instanceof Error?_0x25f6d1[_0x551c6a(0x535)]:JSON[_0x551c6a(0x565)](_0x25f6d1,null,0x2)));}}async['saveChatVariables'](_0xd3750f,_0x3918fa,_0x579c4b){const _0x46e533=a0_0x1c3883;try{let _0x4e3da1={'leadInfo.leadnome':_0x3918fa[_0x46e533(0x403)],'leadInfo.nomecompleto':_0x3918fa[_0x46e533(0x3e2)],'leadInfo.email':_0x3918fa['email'],'leadInfo.cpf':_0x3918fa[_0x46e533(0x4b1)],'leadInfo.status':_0x3918fa[_0x46e533(0x914)],'leadInfo.notas':_0x3918fa[_0x46e533(0x208)],'leadInfo.responsavelid':_0x3918fa[_0x46e533(0x503)],'leadInfo.tags':_0x3918fa[_0x46e533(0x3b0)],'leadInfo.etiquetas':_0x3918fa['etiquetas'],'leadInfo.customFields':_0x579c4b,'leadInfo.atendimentoAberto':_0x3918fa[_0x46e533(0x459)]},_0x27a09a=await this[_0x46e533(0x89f)][_0x46e533(0x874)][_0x46e533(0x213)]({'where':{'_id':_0xd3750f}},this[_0x46e533(0x339)][_0x46e533(0x988)]);if(!_0x27a09a)return _0x46e533(0x3b9);let _0x378cfb=new Set(_0x27a09a[_0x46e533(0x53d)][_0x46e533(0x4d3)]||[]),_0x3a51ea=new Set(_0x3918fa[_0x46e533(0x4d3)]||[]),_0x50e526=await this[_0x46e533(0x89f)][_0x46e533(0x67e)][_0x46e533(0x571)]({'where':{}},this[_0x46e533(0x339)][_0x46e533(0x988)]),_0x1dcf00=new Set(_0x50e526['map'](_0x374be1=>_0x374be1[_0x46e533(0x8a0)])),_0x2013f2=[..._0x3a51ea][_0x46e533(0x8cd)](_0x42f01b=>!_0x378cfb[_0x46e533(0x59b)](_0x42f01b)&&_0x1dcf00[_0x46e533(0x59b)](_0x42f01b)),_0x1aaec1=[..._0x378cfb][_0x46e533(0x8cd)](_0x5d4168=>!_0x3a51ea['has'](_0x5d4168));for(let _0x239e6b of _0x2013f2)await this[_0x46e533(0x39b)](_0x239e6b,_0x27a09a[_0x46e533(0x8a0)]),_0x378cfb[_0x46e533(0x3ca)](_0x239e6b);for(let _0xd9397d of _0x1aaec1)await this[_0x46e533(0x698)](_0xd9397d,_0x27a09a['_id']),_0x378cfb['delete'](_0xd9397d);if('desativadoFluxoAte'in _0x3918fa){let _0x5a5d99=_0x3918fa['desativadoFluxoAte'];_0x4e3da1[_0x46e533(0x51a)]=_0x5a5d99?Number(_0x5a5d99):null;}if(_0x46e533(0x459)in _0x3918fa){let _0x9d17ab=_0x3918fa[_0x46e533(0x459)][_0x46e533(0x25e)]();_0x4e3da1[_0x46e533(0x7b5)]=_0x9d17ab===_0x46e533(0x2ff)||_0x9d17ab==='1'||_0x9d17ab===_0x46e533(0x690)||_0x9d17ab===_0x46e533(0x848);}let _0x2b269d=await this[_0x46e533(0x89f)][_0x46e533(0x874)][_0x46e533(0x3e7)]({'where':{'_id':_0xd3750f}},_0x4e3da1,this['instance'][_0x46e533(0x988)]);_0x2b269d?(this['logger'][_0x46e533(0x990)](this[_0x46e533(0x259)]+'\x20('+this['instance'][_0x46e533(0x988)]+_0x46e533(0x6f1)+_0x2b269d['_id']),F(this[_0x46e533(0x259)],'chats',{'chat':_0x2b269d})):this[_0x46e533(0x23d)][_0x46e533(0x61d)](this[_0x46e533(0x259)]+'\x20('+this[_0x46e533(0x339)]['wuid']+_0x46e533(0x891));}catch(_0x3f5ef5){this[_0x46e533(0x23d)]['error'](this[_0x46e533(0x259)]+'\x20('+this[_0x46e533(0x339)][_0x46e533(0x988)]+_0x46e533(0x641)+(_0x3f5ef5 instanceof Error?_0x3f5ef5[_0x46e533(0x535)]:JSON[_0x46e533(0x565)](_0x3f5ef5,null,0x2)));}}async['updateStopChat'](_0x17c476,_0x5dbe9d){const _0x4c8cd2=a0_0x1c3883;this['logger'][_0x4c8cd2(0x990)](this[_0x4c8cd2(0x259)]+'\x20('+this[_0x4c8cd2(0x339)][_0x4c8cd2(0x988)]+_0x4c8cd2(0x7d2)+_0x5dbe9d);try{let _0x5dce47=await this[_0x4c8cd2(0x89f)]['chat']['updateOne']({'where':{'_id':_0x17c476['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x5dbe9d},this['instance']['wuid']);this[_0x4c8cd2(0x23d)][_0x4c8cd2(0x990)](this[_0x4c8cd2(0x259)]+'\x20('+this[_0x4c8cd2(0x339)][_0x4c8cd2(0x988)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x17c476[_0x4c8cd2(0x8a0)]),this[_0x4c8cd2(0x23d)]['verbose'](this[_0x4c8cd2(0x259)]+'\x20('+this[_0x4c8cd2(0x339)][_0x4c8cd2(0x988)]+_0x4c8cd2(0x7d2)+JSON['stringify'](_0x5dce47,null,0x2)),_0x5dce47&&F(this['instanceName'],_0x4c8cd2(0x4e8),{'chat':_0x5dce47});}catch(_0x44f623){this['logger']['error'](this[_0x4c8cd2(0x259)]+'\x20('+this[_0x4c8cd2(0x339)]['wuid']+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x44f623 instanceof Error?_0x44f623[_0x4c8cd2(0x535)]:JSON[_0x4c8cd2(0x565)](_0x44f623,null,0x2)));}}async['findFlow'](_0x42703d){const _0x133f07=a0_0x1c3883;try{this[_0x133f07(0x23d)][_0x133f07(0x990)](this[_0x133f07(0x259)]+'\x20('+this[_0x133f07(0x339)][_0x133f07(0x988)]+'):\x20Buscando\x20flow...');let _0x18ad26=_0x42703d[_0x133f07(0x7cb)](/\D/g,''),_0x46d94f=this[_0x133f07(0x6cf)][_0x133f07(0x7ea)][_0x133f07(0x571)](_0x4ccce1=>_0x4ccce1['testingWith']===_0x18ad26);if(_0x46d94f||(this['logger'][_0x133f07(0x990)](this[_0x133f07(0x259)]+'\x20('+this[_0x133f07(0x339)][_0x133f07(0x988)]+_0x133f07(0x88a)),_0x46d94f=this[_0x133f07(0x6cf)][_0x133f07(0x7ea)][_0x133f07(0x571)](_0x4012f9=>_0x4012f9['default']===!0x0)),!_0x46d94f)return this['logger'][_0x133f07(0x990)](this[_0x133f07(0x259)]+'\x20('+this['instance'][_0x133f07(0x988)]+_0x133f07(0x79d)),null;let _0x382047=await this[_0x133f07(0x89f)][_0x133f07(0x1fc)][_0x133f07(0x213)]({'where':{'_id':_0x46d94f[_0x133f07(0x8a0)]}});if(!_0x382047||!_0x382047[_0x133f07(0x92a)]?.[_0x133f07(0x681)](this['instance'][_0x133f07(0x988)]))throw this[_0x133f07(0x23d)][_0x133f07(0x61d)](this[_0x133f07(0x259)]+'\x20('+this[_0x133f07(0x339)][_0x133f07(0x988)]+'):\x20Flow\x20\x27'+_0x382047[_0x133f07(0x8a0)]+_0x133f07(0x432)),new m('Flow\x20\x27'+_0x382047['_id']+_0x133f07(0x432));return _0x382047;}catch(_0x4c34b2){return this[_0x133f07(0x23d)][_0x133f07(0x61d)](this[_0x133f07(0x259)]+'\x20('+this[_0x133f07(0x339)][_0x133f07(0x988)]+_0x133f07(0x341)+(_0x4c34b2 instanceof Error?_0x4c34b2[_0x133f07(0x535)]:JSON[_0x133f07(0x565)](_0x4c34b2,null,0x2))),null;}}async['findConversation'](_0x17c9a6,_0x1c36ea){const _0x2561e0=a0_0x1c3883;try{let _0x37f6bd=!!_0x1c36ea['vote'],_0x45ed7f=_0x1c36ea[_0x2561e0(0x808)],_0x326794=null;if(this[_0x2561e0(0x23d)][_0x2561e0(0x990)](this[_0x2561e0(0x259)]+'\x20('+this[_0x2561e0(0x339)][_0x2561e0(0x988)]+_0x2561e0(0x21d)+_0x37f6bd+_0x2561e0(0x863)+_0x45ed7f),_0x37f6bd){this['logger'][_0x2561e0(0x990)](this[_0x2561e0(0x259)]+'\x20('+this['instance'][_0x2561e0(0x988)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x2086c8={'where':{'remoteJid':_0x17c9a6,'waitingMenu_id':_0x45ed7f}};if(_0x326794=await this[_0x2561e0(0x89f)]['flowConversation'][_0x2561e0(0x213)](_0x2086c8,this[_0x2561e0(0x339)]['wuid']),!_0x326794)return this[_0x2561e0(0x23d)][_0x2561e0(0x990)](this[_0x2561e0(0x259)]+'\x20('+this['instance'][_0x2561e0(0x988)]+_0x2561e0(0x839)),null;let _0x144d89=Date[_0x2561e0(0x7e8)](),_0x3d70a9=_0x326794?.[_0x2561e0(0x8d8)]||0x0,_0x5801f1=_0x144d89-_0x3d70a9*0x3c*0x3e8;if(_0x326794[_0x2561e0(0x683)]<_0x5801f1){this[_0x2561e0(0x23d)][_0x2561e0(0x990)](this[_0x2561e0(0x259)]+'\x20('+this['instance'][_0x2561e0(0x988)]+_0x2561e0(0x344));let _0xfbf951={'number':_0x326794[_0x2561e0(0x8f4)],'options':{'delay':0x0},'textMessage':{'text':_0x326794[_0x2561e0(0x5e7)]}};await this[_0x2561e0(0x30e)](_0xfbf951);let _0x430e40={'status':_0x2561e0(0x442),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x2561e0(0x89f)]['flowConversation'][_0x2561e0(0x3e7)](_0x326794[_0x2561e0(0x8a0)],_0x430e40,this[_0x2561e0(0x339)][_0x2561e0(0x988)]),null;}return _0x326794[_0x2561e0(0x683)]=Date[_0x2561e0(0x7e8)](),_0x326794[_0x2561e0(0x427)]['lastReceivedMessage']=_0x1c36ea,_0x326794;}else{this[_0x2561e0(0x23d)][_0x2561e0(0x990)](this[_0x2561e0(0x259)]+'\x20('+this['instance'][_0x2561e0(0x988)]+_0x2561e0(0x93d)+this[_0x2561e0(0x339)][_0x2561e0(0x988)]+_0x2561e0(0x2a8)),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2561e0(0x339)][_0x2561e0(0x988)]+_0x2561e0(0x45c));let _0x3b2a8f={'where':{'remoteJid':_0x17c9a6,'status':_0x2561e0(0x7e9)}};if(_0x326794=await this['repository'][_0x2561e0(0x3dd)][_0x2561e0(0x213)](_0x3b2a8f,this['instance']['wuid']),!_0x326794){let _0x29ab6d=await this[_0x2561e0(0x8a4)](_0x17c9a6);if(_0x29ab6d&&(_0x326794=await this[_0x2561e0(0x2ac)](_0x29ab6d,_0x1c36ea[_0x2561e0(0x205)],_0x1c36ea)),!_0x326794)return null;}let _0x2331ef=Date[_0x2561e0(0x7e8)](),_0xce9bec=_0x326794?.[_0x2561e0(0x8d8)]||0x0,_0x17f563=_0x2331ef-_0xce9bec*0x3c*0x3e8;if(this['logger'][_0x2561e0(0x990)](this[_0x2561e0(0x259)]+'\x20('+this['instance']['wuid']+_0x2561e0(0x41b)+_0x2331ef+_0x2561e0(0x837)+_0xce9bec+',\x20Expiration\x20Time:\x20'+_0x17f563),this['logger'][_0x2561e0(0x990)](this[_0x2561e0(0x259)]+'\x20('+this[_0x2561e0(0x339)][_0x2561e0(0x988)]+_0x2561e0(0x6f7)),this[_0x2561e0(0x23d)]['verbose'](this['instanceName']+'\x20('+this[_0x2561e0(0x339)][_0x2561e0(0x988)]+_0x2561e0(0x30a)+_0x326794[_0x2561e0(0x683)]),this[_0x2561e0(0x23d)][_0x2561e0(0x990)](this[_0x2561e0(0x259)]+'\x20('+this['instance'][_0x2561e0(0x988)]+'):\x20expirationTime:\x20'+_0x17f563),_0x326794[_0x2561e0(0x683)]<_0x17f563){this[_0x2561e0(0x23d)][_0x2561e0(0x990)](this[_0x2561e0(0x259)]+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20está\x20expirada');let _0x1c6154=await this['findFlow'](_0x17c9a6);if(_0x1c6154===null)return null;_0x326794&&await this['repository'][_0x2561e0(0x3dd)][_0x2561e0(0x3e7)](_0x326794[_0x2561e0(0x8a0)],{'status':'closed'},this[_0x2561e0(0x339)][_0x2561e0(0x988)]),_0x326794=await this['createNewConversation'](_0x1c6154,_0x1c36ea[_0x2561e0(0x205)],_0x1c36ea);}return _0x326794[_0x2561e0(0x683)]=_0x2331ef,_0x326794['chatLog']['lastReceivedMessage']=_0x1c36ea,_0x326794;}}catch(_0x4aeccb){return this[_0x2561e0(0x23d)][_0x2561e0(0x61d)](this['instanceName']+'\x20('+this[_0x2561e0(0x339)]['wuid']+_0x2561e0(0x900)+(_0x4aeccb instanceof Error?_0x4aeccb[_0x2561e0(0x535)]:JSON[_0x2561e0(0x565)](_0x4aeccb,null,0x2))),null;}}async[a0_0x1c3883(0x2ac)](_0x1c0df6,_0x209cec,_0x2dcf4b){const _0x109030=a0_0x1c3883;this[_0x109030(0x23d)][_0x109030(0x990)](this[_0x109030(0x259)]+'\x20('+this[_0x109030(0x339)][_0x109030(0x988)]+_0x109030(0x940));try{let _0x2347ef=require(_0x109030(0x46b))[_0x109030(0x8f5)],_0x3a5071=Date['now'](),_0x28826d=_0x109030(0x4c9),_0x48db78=_0x209cec[_0x109030(0x75e)]?null:_0x2dcf4b,_0x5cdcc3=_0x209cec['fromMe']?_0x2dcf4b:null,_0x5d6805=_0x209cec[_0x109030(0x8f4)],_0x5c7a8b=this[_0x109030(0x6cf)][_0x109030(0x7ea)]['find'](_0x36e60e=>_0x36e60e[_0x109030(0x8a0)]===_0x1c0df6[_0x109030(0x8a0)]?.['toString']()),_0x404532=_0x5c7a8b?.[_0x109030(0x8d8)]??_0x1c0df6[_0x109030(0x8d8)]??0x0,_0x23a0e6=_0x5c7a8b?.[_0x109030(0x7d3)]??_0x1c0df6[_0x109030(0x7d3)]??!0x1;await this['closeExistingConversations'](_0x5d6805);let _0x285eae={'flowId':_0x1c0df6[_0x109030(0x8a0)],..._0x1c0df6,'chatLog':null},_0x5791c4=await this[_0x109030(0x244)](_0x285eae['variables']),_0x3eaa83=await this[_0x109030(0x2d7)](_0x5d6805),_0x252af8={..._0x5791c4,..._0x3eaa83,'_remoteJid':_0x5d6805},_0x5b3e1a={'lastReceivedMessage':_0x48db78,'lastSendMessage':_0x5cdcc3,'lastBlockId':_0x28826d,'lastCondition':!0x0,'realVariables':_0x252af8};_0x285eae['chatLog']=_0x5b3e1a,delete _0x285eae[_0x109030(0x8a0)],_0x285eae[_0x109030(0x8a0)]=new _0x2347ef(),_0x285eae['lastInteraction']=_0x3a5071,_0x285eae['status']=_0x109030(0x7e9),_0x285eae[_0x109030(0x8f4)]=_0x5d6805,_0x285eae[_0x109030(0x8d8)]=_0x404532,_0x285eae[_0x109030(0x7d3)]=_0x23a0e6;let _0x3a4123=await this['repository'][_0x109030(0x3dd)][_0x109030(0x3e7)](_0x285eae['_id'],_0x285eae,this[_0x109030(0x339)][_0x109030(0x988)]);return this[_0x109030(0x23d)][_0x109030(0x990)](this[_0x109030(0x259)]+'\x20('+this['instance'][_0x109030(0x988)]+_0x109030(0x2b8)),_0x3a4123?_0x285eae:null;}catch(_0x4ab6ed){return this[_0x109030(0x23d)]['error'](this[_0x109030(0x259)]+'\x20('+this[_0x109030(0x339)][_0x109030(0x988)]+_0x109030(0x930)+(_0x4ab6ed instanceof Error?_0x4ab6ed[_0x109030(0x535)]:JSON[_0x109030(0x565)](_0x4ab6ed,null,0x2))),_0x4ab6ed;}}async[a0_0x1c3883(0x8a9)](_0x115cc3,_0x498962){const _0x2cd4c2=a0_0x1c3883;let _0x5bba5a=_0x115cc3[_0x2cd4c2(0x8f4)];_0x498962[_0x2cd4c2(0x494)][_0x2cd4c2(0x8f4)]&&_0x498962[_0x2cd4c2(0x494)][_0x2cd4c2(0x8f4)]['trim']()!==''&&(_0x5bba5a=_0x498962[_0x2cd4c2(0x494)][_0x2cd4c2(0x8f4)]['trim']()),this[_0x2cd4c2(0x23d)][_0x2cd4c2(0x990)](this[_0x2cd4c2(0x259)]+'\x20('+this[_0x2cd4c2(0x339)][_0x2cd4c2(0x988)]+_0x2cd4c2(0x56f));let _0x5e35d1={'number':_0x5bba5a,'options':{'delay':_0x498962['uazapi']['delay'],'linkPreview':_0x498962[_0x2cd4c2(0x494)][_0x2cd4c2(0x54a)]},'textMessage':{'text':_0x498962['uazapi'][_0x2cd4c2(0x931)]}};try{let _0x3fbc35=await this[_0x2cd4c2(0x30e)](_0x5e35d1);if(_0x3fbc35){let _0x2cbf31={'_id':_0x3fbc35['key']['id'],'_fromMe':_0x3fbc35[_0x2cd4c2(0x205)][_0x2cd4c2(0x75e)],'_remoteJid':_0x3fbc35[_0x2cd4c2(0x205)][_0x2cd4c2(0x8f4)]},_0x238394=(0x0,w[_0x2cd4c2(0x797)])(_0x3fbc35[_0x2cd4c2(0x535)]),_0x1ab6f2=(0x0,w['getContentType'])(_0x238394);_0x115cc3[_0x2cd4c2(0x427)][_0x2cd4c2(0x73e)]=_0x498962[_0x2cd4c2(0x8a0)][_0x2cd4c2(0x25c)]();let {message_normalized:_0x5b8f3b}=this['normalizeMessage'](_0x238394,_0x1ab6f2,null);_0x115cc3[_0x2cd4c2(0x427)][_0x2cd4c2(0x821)]=await _0x5b8f3b;let _0x5143ab={'messageId':_0x3fbc35[_0x2cd4c2(0x205)]['id']},_0x597895=_0x115cc3['chatLog'][_0x2cd4c2(0x78a)];Object[_0x2cd4c2(0x515)](_0x597895,_0x2cbf31),_0x115cc3[_0x2cd4c2(0x427)]['realVariables']=_0x597895,this['updateConversation'](_0x115cc3,_0x498962,_0x5143ab);}else{let _0x2e2e6e={'error':!0x0};this[_0x2cd4c2(0x759)](_0x115cc3,_0x498962,_0x2e2e6e),this[_0x2cd4c2(0x23d)][_0x2cd4c2(0x61d)](this[_0x2cd4c2(0x259)]+'\x20('+this['instance'][_0x2cd4c2(0x988)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x24029b){let _0x1ee7da={'error':!0x0,'errorLog':_0x24029b[_0x2cd4c2(0x25c)]()};this['updateConversation'](_0x115cc3,_0x498962,_0x1ee7da),this[_0x2cd4c2(0x23d)][_0x2cd4c2(0x61d)](this[_0x2cd4c2(0x259)]+'\x20('+this['instance'][_0x2cd4c2(0x988)]+_0x2cd4c2(0x825)+(_0x24029b instanceof Error?_0x24029b[_0x2cd4c2(0x535)]:JSON[_0x2cd4c2(0x565)](_0x24029b,null,0x2)));}}async[a0_0x1c3883(0x27d)](_0x18171b,_0x1046fa){const _0x561981=a0_0x1c3883;let _0x3f4f41=_0x18171b[_0x561981(0x8f4)];_0x1046fa['uazapi'][_0x561981(0x8f4)]&&_0x1046fa[_0x561981(0x494)]['remoteJid'][_0x561981(0x987)]()!==''&&(_0x3f4f41=_0x1046fa[_0x561981(0x494)][_0x561981(0x8f4)]['trim']()),this[_0x561981(0x23d)][_0x561981(0x990)](this['instanceName']+'\x20('+this[_0x561981(0x339)][_0x561981(0x988)]+_0x561981(0x674));let _0x3cb2eb={'number':_0x3f4f41,'options':{'delay':_0x1046fa[_0x561981(0x494)]['delay'],'linkPreview':_0x1046fa[_0x561981(0x494)][_0x561981(0x54a)]},'mediaMessage':{'mediatype':_0x1046fa['uazapi']['mediatype'],'caption':_0x1046fa[_0x561981(0x494)][_0x561981(0x639)],'media':_0x1046fa[_0x561981(0x494)][_0x561981(0x3d1)],'fileName':_0x1046fa['uazapi'][_0x561981(0x748)]}};try{let _0x67510d=await this[_0x561981(0x962)](_0x3cb2eb);if(_0x67510d){let _0x1a5a5b={'_id':_0x67510d[_0x561981(0x205)]['id'],'_fromMe':_0x67510d['key'][_0x561981(0x75e)],'_remoteJid':_0x67510d['key'][_0x561981(0x8f4)]},_0x51794f=(0x0,w['normalizeMessageContent'])(_0x67510d['message']),_0x2a8a82=(0x0,w[_0x561981(0x824)])(_0x51794f);_0x18171b[_0x561981(0x427)][_0x561981(0x73e)]=_0x1046fa[_0x561981(0x8a0)][_0x561981(0x25c)]();let {message_normalized:_0x4d0cb7}=this[_0x561981(0x404)](_0x51794f,_0x2a8a82,null);_0x18171b[_0x561981(0x427)][_0x561981(0x821)]=await _0x4d0cb7;let _0x8819e7={'messageId':_0x67510d[_0x561981(0x205)]['id']},_0x1953ec=_0x18171b['chatLog'][_0x561981(0x78a)];Object[_0x561981(0x515)](_0x1953ec,_0x1a5a5b),_0x18171b[_0x561981(0x427)]['realVariables']=_0x1953ec,this[_0x561981(0x759)](_0x18171b,_0x1046fa,_0x8819e7);}else{let _0x483d5f={'error':!0x0};this[_0x561981(0x759)](_0x18171b,_0x1046fa,_0x483d5f),this[_0x561981(0x23d)][_0x561981(0x61d)](this[_0x561981(0x259)]+'\x20('+this['instance'][_0x561981(0x988)]+_0x561981(0x60c));}}catch(_0x4d620c){let _0x524547={'error':!0x0,'errorLog':_0x4d620c[_0x561981(0x25c)]()};this[_0x561981(0x759)](_0x18171b,_0x1046fa,_0x524547),this['logger'][_0x561981(0x61d)](this[_0x561981(0x259)]+'\x20('+this['instance'][_0x561981(0x988)]+_0x561981(0x986)+(_0x4d620c instanceof Error?_0x4d620c[_0x561981(0x535)]:JSON[_0x561981(0x565)](_0x4d620c,null,0x2)));}}async[a0_0x1c3883(0x883)](_0x78dc4e,_0xb802b9){const _0x23190a=a0_0x1c3883;let _0x306912=_0x78dc4e['remoteJid'];_0xb802b9['uazapi'][_0x23190a(0x8f4)]&&_0xb802b9[_0x23190a(0x494)][_0x23190a(0x8f4)][_0x23190a(0x987)]()!==''&&(_0x306912=_0xb802b9[_0x23190a(0x494)]['remoteJid'][_0x23190a(0x987)]()),this[_0x23190a(0x23d)][_0x23190a(0x990)](this[_0x23190a(0x259)]+'\x20('+this[_0x23190a(0x339)][_0x23190a(0x988)]+_0x23190a(0x3dc));let _0x4058c8={'number':_0x306912,'options':{'delay':_0xb802b9[_0x23190a(0x494)]['delay']},'locationMessage':{'name':_0xb802b9[_0x23190a(0x494)][_0x23190a(0x1f9)],'address':_0xb802b9[_0x23190a(0x494)][_0x23190a(0x916)],'latitude':_0xb802b9[_0x23190a(0x494)][_0x23190a(0x4fa)],'longitude':_0xb802b9[_0x23190a(0x494)][_0x23190a(0x337)]}};try{let _0x50b5eb=await this[_0x23190a(0x5b4)](_0x4058c8);if(_0x50b5eb){let _0x13679f={'_id':_0x50b5eb[_0x23190a(0x205)]['id'],'_fromMe':_0x50b5eb[_0x23190a(0x205)][_0x23190a(0x75e)],'_remoteJid':_0x50b5eb['key'][_0x23190a(0x8f4)]},_0x238cda=(0x0,w['normalizeMessageContent'])(_0x50b5eb[_0x23190a(0x535)]),_0x489bf5=(0x0,w['getContentType'])(_0x238cda);_0x78dc4e[_0x23190a(0x427)][_0x23190a(0x73e)]=_0xb802b9[_0x23190a(0x8a0)]['toString']();let {message_normalized:_0x3c3e0a}=this['normalizeMessage'](_0x238cda,_0x489bf5,null);_0x78dc4e[_0x23190a(0x427)][_0x23190a(0x821)]=await _0x3c3e0a;let _0xe7f328={'messageId':_0x50b5eb[_0x23190a(0x205)]['id']},_0x4521da=_0x78dc4e[_0x23190a(0x427)][_0x23190a(0x78a)];Object[_0x23190a(0x515)](_0x4521da,_0x13679f),_0x78dc4e[_0x23190a(0x427)]['realVariables']=_0x4521da,this['updateConversation'](_0x78dc4e,_0xb802b9,_0xe7f328);}else{let _0x47cc82={'error':!0x0};this[_0x23190a(0x759)](_0x78dc4e,_0xb802b9,_0x47cc82),this[_0x23190a(0x23d)]['error'](this[_0x23190a(0x259)]+'\x20('+this[_0x23190a(0x339)]['wuid']+_0x23190a(0x973));}}catch(_0x4faad1){let _0x401be1={'error':!0x0,'errorLog':_0x4faad1['toString']()};this[_0x23190a(0x759)](_0x78dc4e,_0xb802b9,_0x401be1),this[_0x23190a(0x23d)]['error'](this[_0x23190a(0x259)]+'\x20('+this[_0x23190a(0x339)][_0x23190a(0x988)]+_0x23190a(0x4a8)+(_0x4faad1 instanceof Error?_0x4faad1[_0x23190a(0x535)]:JSON[_0x23190a(0x565)](_0x4faad1,null,0x2)));}}async[a0_0x1c3883(0x279)](_0x229cd5,_0x43d1e){const _0x1be8db=a0_0x1c3883;let _0x3ce89e=_0x229cd5[_0x1be8db(0x8f4)];_0x43d1e['uazapi'][_0x1be8db(0x8f4)]&&_0x43d1e['uazapi'][_0x1be8db(0x8f4)][_0x1be8db(0x987)]()!==''&&(_0x3ce89e=_0x43d1e['uazapi'][_0x1be8db(0x8f4)][_0x1be8db(0x987)]()),this['logger'][_0x1be8db(0x990)](this[_0x1be8db(0x259)]+'\x20('+this[_0x1be8db(0x339)][_0x1be8db(0x988)]+_0x1be8db(0x35e));let _0xf8e377={'number':_0x3ce89e,'options':{'delay':_0x43d1e[_0x1be8db(0x494)][_0x1be8db(0x6f4)]},'audioMessage':{'audio':_0x43d1e[_0x1be8db(0x494)][_0x1be8db(0x2e7)]}};try{let _0x160a96=await this[_0x1be8db(0x550)](_0xf8e377);if(_0x160a96){let _0xceb72c={'_id':_0x160a96[_0x1be8db(0x205)]['id'],'_fromMe':_0x160a96['key'][_0x1be8db(0x75e)],'_remoteJid':_0x160a96[_0x1be8db(0x205)][_0x1be8db(0x8f4)]},_0x427dce=(0x0,w[_0x1be8db(0x797)])(_0x160a96[_0x1be8db(0x535)]),_0x209e29=(0x0,w[_0x1be8db(0x824)])(_0x427dce);_0x229cd5[_0x1be8db(0x427)]['lastBlockId']=_0x43d1e[_0x1be8db(0x8a0)][_0x1be8db(0x25c)]();let {message_normalized:_0x1fc0c9}=this['normalizeMessage'](_0x427dce,_0x209e29,null);_0x229cd5[_0x1be8db(0x427)][_0x1be8db(0x821)]=await _0x1fc0c9;let _0x5950af={'messageId':_0x160a96[_0x1be8db(0x205)]['id']},_0x68dbfb=_0x229cd5[_0x1be8db(0x427)][_0x1be8db(0x78a)];Object['assign'](_0x68dbfb,_0xceb72c),_0x229cd5['chatLog']['realVariables']=_0x68dbfb,this[_0x1be8db(0x759)](_0x229cd5,_0x43d1e,_0x5950af);}else{let _0x544f31={'error':!0x0};this[_0x1be8db(0x759)](_0x229cd5,_0x43d1e,_0x544f31),this[_0x1be8db(0x23d)][_0x1be8db(0x61d)](this[_0x1be8db(0x259)]+'\x20('+this[_0x1be8db(0x339)][_0x1be8db(0x988)]+_0x1be8db(0x384));}}catch(_0xc04283){let _0x442cfe={'error':!0x0,'errorLog':_0xc04283[_0x1be8db(0x25c)]()};this[_0x1be8db(0x759)](_0x229cd5,_0x43d1e,_0x442cfe),this[_0x1be8db(0x23d)][_0x1be8db(0x61d)](this[_0x1be8db(0x259)]+'\x20('+this[_0x1be8db(0x339)][_0x1be8db(0x988)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0xc04283 instanceof Error?_0xc04283[_0x1be8db(0x535)]:JSON[_0x1be8db(0x565)](_0xc04283,null,0x2)));}}async[a0_0x1c3883(0x33c)](_0x4853a1,_0x25a520){const _0x39cf5b=a0_0x1c3883;let _0x3037b9=_0x4853a1[_0x39cf5b(0x8f4)];_0x25a520[_0x39cf5b(0x494)]['remoteJid']&&_0x25a520[_0x39cf5b(0x494)]['remoteJid'][_0x39cf5b(0x987)]()!==''&&(_0x3037b9=_0x25a520[_0x39cf5b(0x494)][_0x39cf5b(0x8f4)][_0x39cf5b(0x987)]()),this['logger']['verbose'](this[_0x39cf5b(0x259)]+'\x20('+this[_0x39cf5b(0x339)][_0x39cf5b(0x988)]+_0x39cf5b(0x62d));let _0xfc51b6={'number':_0x3037b9,'options':{'delay':_0x25a520[_0x39cf5b(0x494)][_0x39cf5b(0x6f4)]},'contactMessage':[{'fullName':_0x25a520[_0x39cf5b(0x494)][_0x39cf5b(0x672)],'phoneNumber':_0x25a520[_0x39cf5b(0x494)]['phoneNumber']}]};try{let _0x5ca05b=await this['contactMessage'](_0xfc51b6);if(_0x5ca05b){let _0xc02163={'_id':_0x5ca05b['key']['id'],'_fromMe':_0x5ca05b[_0x39cf5b(0x205)][_0x39cf5b(0x75e)],'_remoteJid':_0x5ca05b['key'][_0x39cf5b(0x8f4)]},_0x456079=(0x0,w[_0x39cf5b(0x797)])(_0x5ca05b[_0x39cf5b(0x535)]),_0x365105=(0x0,w['getContentType'])(_0x456079);_0x4853a1['chatLog']['lastBlockId']=_0x25a520[_0x39cf5b(0x8a0)][_0x39cf5b(0x25c)]();let {message_normalized:_0x546d9d}=this[_0x39cf5b(0x404)](_0x456079,_0x365105,null);_0x4853a1[_0x39cf5b(0x427)]['lastSendMessage']=await _0x546d9d;let _0x438712={'messageId':_0x5ca05b[_0x39cf5b(0x205)]['id']},_0x4ef28d=_0x4853a1[_0x39cf5b(0x427)][_0x39cf5b(0x78a)];Object['assign'](_0x4ef28d,_0xc02163),_0x4853a1[_0x39cf5b(0x427)][_0x39cf5b(0x78a)]=_0x4ef28d,this[_0x39cf5b(0x759)](_0x4853a1,_0x25a520,_0x438712);}else{let _0x3286d8={'error':!0x0};this[_0x39cf5b(0x759)](_0x4853a1,_0x25a520,_0x3286d8),this[_0x39cf5b(0x23d)]['error'](this['instanceName']+'\x20('+this[_0x39cf5b(0x339)][_0x39cf5b(0x988)]+_0x39cf5b(0x7d6));}}catch(_0x4967dc){let _0x330362={'error':!0x0,'errorLog':_0x4967dc['toString']()};this[_0x39cf5b(0x759)](_0x4853a1,_0x25a520,_0x330362),this[_0x39cf5b(0x23d)][_0x39cf5b(0x61d)](this[_0x39cf5b(0x259)]+'\x20('+this[_0x39cf5b(0x339)][_0x39cf5b(0x988)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x4967dc instanceof Error?_0x4967dc[_0x39cf5b(0x535)]:JSON[_0x39cf5b(0x565)](_0x4967dc,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x1cc2ac,_0x5bd05b){const _0x1740be=a0_0x1c3883;for(let _0x20a8b7 of _0x1cc2ac)_0x20a8b7[_0x1740be(0x3c8)]&&(_0x20a8b7[_0x1740be(0x3c8)]=this[_0x1740be(0x5be)](_0x20a8b7[_0x1740be(0x3c8)],_0x5bd05b)),_0x20a8b7[_0x1740be(0x794)]&&(_0x20a8b7[_0x1740be(0x794)]=this[_0x1740be(0x5be)](_0x20a8b7[_0x1740be(0x794)],_0x5bd05b));}async[a0_0x1c3883(0x5ec)](_0x350113,_0x25be7e){const _0x123b3d=a0_0x1c3883;let _0x3b5f63=_0x350113[_0x123b3d(0x8f4)];_0x25be7e['uazapi'][_0x123b3d(0x8f4)]&&_0x25be7e[_0x123b3d(0x494)]['remoteJid'][_0x123b3d(0x987)]()!==''&&(_0x3b5f63=_0x25be7e['uazapi'][_0x123b3d(0x8f4)][_0x123b3d(0x987)]()),this[_0x123b3d(0x23d)][_0x123b3d(0x990)](this[_0x123b3d(0x259)]+'\x20('+this[_0x123b3d(0x339)][_0x123b3d(0x988)]+_0x123b3d(0x315));let _0x55648c=_0x350113[_0x123b3d(0x2ec)]['filter'](_0x3ced1b=>_0x3ced1b[_0x123b3d(0x3f3)]===_0x25be7e[_0x123b3d(0x8a0)])[_0x123b3d(0x90e)]((_0x2d4212,_0x537110)=>_0x2d4212['order']-_0x537110[_0x123b3d(0x979)]);this['replaceVariablesInReplyOptions'](_0x55648c,_0x350113[_0x123b3d(0x427)]['realVariables']);let _0x201971=_0x55648c['map'](_0x53d9de=>_0x53d9de[_0x123b3d(0x3c8)]),_0x4ac7fd={'number':_0x3b5f63,'menuMessage':{'type':_0x25be7e[_0x123b3d(0x494)][_0x123b3d(0x8a1)]||_0x123b3d(0x81f),'text':_0x25be7e[_0x123b3d(0x494)][_0x123b3d(0x931)]||_0x25be7e['uazapi']['name'],'footerText':_0x25be7e['uazapi'][_0x123b3d(0x840)],'buttonText':_0x25be7e[_0x123b3d(0x494)][_0x123b3d(0x8ff)],'selectableCount':0x1,'choices':_0x201971},'options':{'delay':_0x25be7e[_0x123b3d(0x494)][_0x123b3d(0x6f4)]}};try{let _0x49c8bb=await this[_0x123b3d(0x71c)](_0x4ac7fd);if(_0x49c8bb){let _0x3dea20={'_id':_0x49c8bb[_0x123b3d(0x205)]['id'],'_fromMe':_0x49c8bb['key']['fromMe'],'_remoteJid':_0x49c8bb[_0x123b3d(0x205)]['remoteJid']};_0x25be7e[_0x123b3d(0x494)]['menuIgnoreNonVotes']===!0x0&&(_0x350113['status']=_0x123b3d(0x32b),this[_0x123b3d(0x23d)]['verbose'](this[_0x123b3d(0x259)]+'\x20('+this[_0x123b3d(0x339)][_0x123b3d(0x988)]+_0x123b3d(0x8e1)+_0x350113['status'])),this[_0x123b3d(0x23d)][_0x123b3d(0x990)](this[_0x123b3d(0x259)]+'\x20('+this[_0x123b3d(0x339)]['wuid']+_0x123b3d(0x25b)+(_0x25be7e['uazapi']['name']||_0x25be7e[_0x123b3d(0x494)][_0x123b3d(0x931)])),_0x350113[_0x123b3d(0x619)]=_0x49c8bb[_0x123b3d(0x205)]['id'],_0x350113[_0x123b3d(0x541)]=_0x25be7e[_0x123b3d(0x494)][_0x123b3d(0x1f9)]||_0x25be7e['uazapi'][_0x123b3d(0x931)],_0x350113[_0x123b3d(0x53f)]=_0x55648c,_0x25be7e[_0x123b3d(0x494)]['menuExpiredMessage']&&(_0x350113['waitingMenu_ExpiredMessage']=_0x25be7e['uazapi'][_0x123b3d(0x926)]),this[_0x123b3d(0x23d)][_0x123b3d(0x990)](this[_0x123b3d(0x259)]+'\x20('+this[_0x123b3d(0x339)][_0x123b3d(0x988)]+_0x123b3d(0x3ad)+_0x350113['waitingMenu_text']);let _0x395a3d=(0x0,w[_0x123b3d(0x797)])(_0x49c8bb[_0x123b3d(0x535)]),_0x443822=(0x0,w[_0x123b3d(0x824)])(_0x395a3d);_0x350113[_0x123b3d(0x427)]['lastBlockId']=_0x25be7e[_0x123b3d(0x8a0)][_0x123b3d(0x25c)]();let {message_normalized:_0x277e4f}=this[_0x123b3d(0x404)](_0x395a3d,_0x443822,null);_0x350113[_0x123b3d(0x427)][_0x123b3d(0x821)]=await _0x277e4f;let _0x1e44b9={'messageId':_0x49c8bb['key']['id']},_0x36451a=_0x350113[_0x123b3d(0x427)][_0x123b3d(0x78a)];Object[_0x123b3d(0x515)](_0x36451a,_0x3dea20),_0x350113[_0x123b3d(0x427)]['realVariables']=_0x36451a,this[_0x123b3d(0x759)](_0x350113,_0x25be7e,_0x1e44b9);}else{let _0xbf93d7={'error':!0x0};this['updateConversation'](_0x350113,_0x25be7e,_0xbf93d7),this[_0x123b3d(0x23d)][_0x123b3d(0x61d)](this[_0x123b3d(0x259)]+'\x20('+this[_0x123b3d(0x339)]['wuid']+_0x123b3d(0x63f));}}catch(_0x2d7464){let _0x5b99be={'error':!0x0,'errorLog':_0x2d7464 instanceof Error?_0x2d7464[_0x123b3d(0x535)]:JSON[_0x123b3d(0x565)](_0x2d7464,null,0x2)};this[_0x123b3d(0x759)](_0x350113,_0x25be7e,_0x5b99be),this[_0x123b3d(0x23d)][_0x123b3d(0x61d)](this[_0x123b3d(0x259)]+'\x20('+this[_0x123b3d(0x339)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x2d7464 instanceof Error?_0x2d7464[_0x123b3d(0x535)]:JSON[_0x123b3d(0x565)](_0x2d7464,null,0x2)));}}async['uazapiDeleteMessage'](_0x3daab2,_0x557b35){const _0x541868=a0_0x1c3883;this[_0x541868(0x23d)][_0x541868(0x990)](this[_0x541868(0x259)]+'\x20('+this['instance'][_0x541868(0x988)]+_0x541868(0x555));let _0x1f9f5a=_0x3daab2[_0x541868(0x427)][_0x541868(0x6a7)][_0x541868(0x571)](_0x148e53=>_0x148e53[_0x541868(0x3f3)][_0x541868(0x25c)]()===_0x557b35[_0x541868(0x494)][_0x541868(0x3f3)][_0x541868(0x25c)]()),_0xa7d8db={'id':_0x1f9f5a['messageId'],'remoteJid':_0x1f9f5a['remoteJid'],'fromMe':_0x1f9f5a[_0x541868(0x75e)]};try{let _0x517d48=await this[_0x541868(0x250)](_0xa7d8db);if(_0x517d48){let _0x19914d=(0x0,w[_0x541868(0x797)])(_0x517d48[_0x541868(0x535)]),_0xc0c7e4=(0x0,w[_0x541868(0x824)])(_0x19914d);_0x3daab2[_0x541868(0x427)][_0x541868(0x73e)]=_0x557b35[_0x541868(0x8a0)][_0x541868(0x25c)]();let {message_normalized:_0x1f144e}=this[_0x541868(0x404)](_0x19914d,_0xc0c7e4,null);_0x3daab2[_0x541868(0x427)][_0x541868(0x821)]=await _0x1f144e;let _0x54af1b={};this['updateConversation'](_0x3daab2,_0x557b35,_0x54af1b);}else{let _0x2625a7={'error':!0x0};this['updateConversation'](_0x3daab2,_0x557b35,_0x2625a7),this['logger'][_0x541868(0x61d)](this[_0x541868(0x259)]+'\x20('+this[_0x541868(0x339)][_0x541868(0x988)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x3a042b){let _0x235003={'error':!0x0,'errorLog':_0x3a042b instanceof Error?_0x3a042b['message']:JSON[_0x541868(0x565)](_0x3a042b,null,0x2)};this[_0x541868(0x759)](_0x3daab2,_0x557b35,_0x235003),this[_0x541868(0x23d)][_0x541868(0x61d)](this[_0x541868(0x259)]+'\x20('+this['instance'][_0x541868(0x988)]+_0x541868(0x71b)+(_0x3a042b instanceof Error?_0x3a042b[_0x541868(0x535)]:JSON[_0x541868(0x565)](_0x3a042b,null,0x2)));}}async[a0_0x1c3883(0x58f)](_0x43659a,_0x23cb7a){const _0x470ce4=a0_0x1c3883;if(_0x43659a[_0x470ce4(0x1f9)]||(_0x43659a[_0x470ce4(0x1f9)]=(0x0,Q['v4'])()),_0x23cb7a!==Ri&&_0x43659a?.[_0x470ce4(0x210)])throw new m(_0x470ce4(0x50c));if('_id'in _0x43659a&&'owner'in _0x43659a)return this['AddUserFlow'](_0x43659a[_0x470ce4(0x523)],_0x43659a['_id']);this['logger'][_0x470ce4(0x990)](this[_0x470ce4(0x259)]+'\x20('+this[_0x470ce4(0x339)][_0x470ce4(0x988)]+_0x470ce4(0x399));let _0x24188d=this['getUniqueFlowName'](_0x43659a[_0x470ce4(0x1f9)]),_0x24a78e=new pe[(_0x470ce4(0x9a0))][(_0x470ce4(0x8f5))](),_0x2f9b94={'_id':_0x24a78e,'default':!0x0,'title':_0x470ce4(0x8e4),'x':0x0,'y':0x0},_0x40f8af={'_id':new pe[(_0x470ce4(0x9a0))][(_0x470ce4(0x8f5))](),'order':0x1,'groupId':_0x24a78e[_0x470ce4(0x25c)](),'type':'start'},_0xb2b288=this[_0x470ce4(0x339)][_0x470ce4(0x988)],_0x1775de={'_id':(0x0,Q['v4'])(),'owner':_0xb2b288,'name':_0x24188d,'whoCanEdit':[_0xb2b288],'whoCanUse':[_0xb2b288],'groups':[_0x2f9b94],'blocks':[_0x40f8af],..._0x43659a};try{let _0x59d9f7=await this[_0x470ce4(0x89f)][_0x470ce4(0x1fc)][_0x470ce4(0x60b)](_0x1775de);return await this[_0x470ce4(0x50f)](),_0x59d9f7;}catch(_0x2e0a7a){let _0xc48681=_0x470ce4(0x458),_0x3a3e66=_0x2e0a7a instanceof Error?_0x2e0a7a[_0x470ce4(0x535)]:typeof _0x2e0a7a==_0x470ce4(0x20d)?JSON[_0x470ce4(0x565)](_0x2e0a7a):_0x2e0a7a,_0x277d1f=_0xc48681+':\x20'+_0x3a3e66;throw this[_0x470ce4(0x23d)][_0x470ce4(0x61d)](this[_0x470ce4(0x259)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x277d1f),new m(_0x277d1f);}}async[a0_0x1c3883(0x4a3)](_0x157862,_0x56ed11){const _0x48a2ac=a0_0x1c3883;try{this[_0x48a2ac(0x23d)][_0x48a2ac(0x990)](this[_0x48a2ac(0x259)]+'\x20('+this['instance']['wuid']+_0x48a2ac(0x42e));let _0x1b2067=await this[_0x48a2ac(0x89f)][_0x48a2ac(0x1fc)][_0x48a2ac(0x213)]({'where':{'_id':_0x56ed11,'owner':_0x157862}});if(!_0x1b2067)throw new m(_0x48a2ac(0x89a));if(_0x1b2067[_0x48a2ac(0x70e)]===!0x1&&!_0x1b2067[_0x48a2ac(0x210)])throw new m(_0x48a2ac(0x47f));let _0x44e900=new Set(_0x1b2067[_0x48a2ac(0x92a)]??[]);_0x44e900['add'](this[_0x48a2ac(0x339)][_0x48a2ac(0x988)]);let _0xa3fa14=await this[_0x48a2ac(0x89f)]['flow'][_0x48a2ac(0x3e7)](_0x56ed11,{..._0x1b2067,'whoCanUse':Array[_0x48a2ac(0x422)](_0x44e900)});return await this[_0x48a2ac(0x50f)](),_0xa3fa14;}catch(_0x2eac15){let _0x3d6493=_0x48a2ac(0x34e),_0x202c9b=_0x2eac15 instanceof Error?_0x2eac15[_0x48a2ac(0x535)]:typeof _0x2eac15==_0x48a2ac(0x20d)?JSON[_0x48a2ac(0x565)](_0x2eac15):_0x2eac15,_0xdc990e=_0x3d6493+':\x20'+_0x202c9b;throw this[_0x48a2ac(0x23d)][_0x48a2ac(0x61d)](this[_0x48a2ac(0x259)]+'\x20('+this[_0x48a2ac(0x339)]['wuid']+'):\x20'+_0xdc990e),new m(_0xdc990e);}}['getUniqueFlowName'](_0x241eb4){const _0x2dae5c=a0_0x1c3883;let _0x508c15=_0x241eb4,_0x59b7d3=0x1;for(;this['AutomateSystem'][_0x2dae5c(0x7ea)]['some'](_0x371875=>_0x371875['name']===_0x508c15);)_0x59b7d3++,_0x508c15=_0x241eb4+'\x20('+_0x59b7d3+')';return _0x508c15;}async['deleteFlow'](_0x352794){const _0x17f62f=a0_0x1c3883;try{if(this[_0x17f62f(0x23d)][_0x17f62f(0x990)](this[_0x17f62f(0x259)]+'\x20('+this[_0x17f62f(0x339)]['wuid']+'):\x20\x27Deletando\x20fluxo,\x20id:\x20'+_0x352794[_0x17f62f(0x8a0)]+_0x17f62f(0x47c)+_0x352794[_0x17f62f(0x3a2)]),!this['AutomateSystem'][_0x17f62f(0x7ea)]['find'](_0x25a112=>_0x25a112[_0x17f62f(0x8a0)]===_0x352794[_0x17f62f(0x8a0)]))throw this['logger'][_0x17f62f(0x990)](this[_0x17f62f(0x259)]+'\x20('+this[_0x17f62f(0x339)][_0x17f62f(0x988)]+'):\x20Fluxo\x20\x27'+_0x352794[_0x17f62f(0x8a0)]+_0x17f62f(0x98a)),new m(_0x17f62f(0x9a7));let _0xfb08c1=await this[_0x17f62f(0x89f)]['flow'][_0x17f62f(0x213)]({'where':{'_id':_0x352794[_0x17f62f(0x8a0)]}});if(!_0xfb08c1)throw new m('Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.');if(this[_0x17f62f(0x339)]['wuid']===_0xfb08c1[_0x17f62f(0x523)]){this[_0x17f62f(0x23d)][_0x17f62f(0x990)](this[_0x17f62f(0x259)]+'\x20('+this[_0x17f62f(0x339)][_0x17f62f(0x988)]+_0x17f62f(0x343)+_0x352794['_id']+_0x17f62f(0x467));let _0x4830e4=await this[_0x17f62f(0x89f)][_0x17f62f(0x1fc)][_0x17f62f(0x2af)]({'where':{'_id':_0x352794[_0x17f62f(0x8a0)]}});return await this[_0x17f62f(0x50f)](),_0x4830e4;}return this[_0x17f62f(0x23d)][_0x17f62f(0x990)](this[_0x17f62f(0x259)]+'\x20('+this[_0x17f62f(0x339)][_0x17f62f(0x988)]+_0x17f62f(0x749)+this[_0x17f62f(0x339)][_0x17f62f(0x988)]+'\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27'+_0x352794['_id']+_0x17f62f(0x747)),_0xfb08c1[_0x17f62f(0x92a)]=(_0xfb08c1[_0x17f62f(0x92a)]??[])[_0x17f62f(0x8cd)](_0x1b4d5b=>_0x1b4d5b!==this['instance'][_0x17f62f(0x988)]),_0xfb08c1[_0x17f62f(0x894)]=(_0xfb08c1['whoCanEdit']??[])['filter'](_0x3d9f17=>_0x3d9f17!==this[_0x17f62f(0x339)][_0x17f62f(0x988)]),_0xfb08c1[_0x17f62f(0x894)][_0x17f62f(0x868)]===0x0&&_0xfb08c1[_0x17f62f(0x92a)][_0x17f62f(0x868)]>0x0&&(_0xfb08c1[_0x17f62f(0x894)][_0x17f62f(0x706)](_0xfb08c1[_0x17f62f(0x92a)][0x0]),this['logger']['verbose'](this[_0x17f62f(0x259)]+'\x20('+this[_0x17f62f(0x339)][_0x17f62f(0x988)]+'):\x20Adicionando\x20\x27'+_0xfb08c1[_0x17f62f(0x92a)][0x0]+_0x17f62f(0x7f3)+_0x352794[_0x17f62f(0x8a0)]+'\x27...')),await this[_0x17f62f(0x89f)][_0x17f62f(0x1fc)][_0x17f62f(0x3e7)](_0xfb08c1[_0x17f62f(0x8a0)],_0xfb08c1),await this[_0x17f62f(0x50f)](),{'message':_0x17f62f(0x68d)+_0x352794['name']+_0x17f62f(0x69e)};}catch(_0x4c626a){return this['logger']['error'](this[_0x17f62f(0x259)]+'\x20('+this[_0x17f62f(0x339)][_0x17f62f(0x988)]+_0x17f62f(0x62c)+(_0x4c626a instanceof Error?_0x4c626a[_0x17f62f(0x535)]:JSON[_0x17f62f(0x565)](_0x4c626a,null,0x2))),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+(_0x4c626a instanceof Error?_0x4c626a[_0x17f62f(0x535)]:JSON['stringify'](_0x4c626a,null,0x2))};}}async[a0_0x1c3883(0x79c)](_0x1ff595){const _0x14642c=a0_0x1c3883;try{if(this[_0x14642c(0x23d)]['info'](this[_0x14642c(0x259)]+'\x20('+this[_0x14642c(0x339)]['wuid']+_0x14642c(0x63c)+_0x1ff595),!this[_0x14642c(0x6cf)]&&(await this['getAutomateSystem'](),!this[_0x14642c(0x6cf)]))return null;let _0x125297=await this['repository'][_0x14642c(0x1fc)][_0x14642c(0x213)]({'where':{'_id':_0x1ff595}});if(!_0x125297)throw new m(_0x14642c(0x8d6)+_0x1ff595+_0x14642c(0x4a5));if(!(_0x125297[_0x14642c(0x210)]||_0x125297['whoCanUse']?.[_0x14642c(0x681)](this['instance'][_0x14642c(0x988)])))throw new m(_0x14642c(0x1fe)+name+'\x27');_0x125297['globalShow']&&!_0x125297['whoCanUse']?.[_0x14642c(0x681)](this[_0x14642c(0x339)]['wuid'])&&(_0x125297[_0x14642c(0x92a)]=[..._0x125297['whoCanUse']??[],this['instance'][_0x14642c(0x988)]],await this['repository'][_0x14642c(0x1fc)][_0x14642c(0x3e7)](_0x125297[_0x14642c(0x8a0)],_0x125297),this[_0x14642c(0x50f)]());let _0x1abacf=this['AutomateSystem']?.[_0x14642c(0x502)]['map'](_0x5b8a3b=>_0x5b8a3b[_0x14642c(0x1f9)]),_0x59aa2b=['nome',_0x14642c(0x3e2),_0x14642c(0x235),_0x14642c(0x4b1),_0x14642c(0x914),'notas','responsavelid',_0x14642c(0x3b0),_0x14642c(0x4d3),'telefone','atendimentoAberto'];_0x125297['variables']=_0x125297['variables'][_0x14642c(0x8cd)](_0x117bea=>!(_0x117bea[_0x14642c(0x390)]==='leadInfo'||_0x117bea[_0x14642c(0x53d)])),_0x59aa2b[_0x14642c(0x33d)](_0xedef4f=>{const _0x184a33=_0x14642c;_0x125297[_0x184a33(0x551)][_0x184a33(0x706)]({'folder':_0x184a33(0x53d),'name':_0xedef4f,'value':'','doc':'','leadInfo':!0x0});}),_0x1abacf[_0x14642c(0x33d)](_0x10758b=>{const _0x329b6e=_0x14642c;let _0x36d671=_0x125297[_0x329b6e(0x551)]['findIndex'](_0x5e302d=>_0x5e302d[_0x329b6e(0x1f9)]===_0x10758b);_0x36d671===-0x1?_0x125297[_0x329b6e(0x551)][_0x329b6e(0x706)]({'folder':_0x329b6e(0x53d),'name':_0x10758b,'value':'','doc':'','leadInfo':!0x0}):(_0x125297[_0x329b6e(0x551)][_0x36d671][_0x329b6e(0x390)]=_0x329b6e(0x53d),_0x125297[_0x329b6e(0x551)][_0x36d671][_0x329b6e(0x53d)]=!0x0);}),_0x125297[_0x14642c(0x791)]&&_0x125297[_0x14642c(0x791)][_0x14642c(0x868)]>0x0&&_0x125297[_0x14642c(0x791)][_0x14642c(0x33d)](_0x5ad52a=>{const _0x2bfa10=_0x14642c;_0x5ad52a['groupId']&&_0x5ad52a[_0x2bfa10(0x269)]&&_0x5ad52a[_0x2bfa10(0x6c7)]===_0x5ad52a[_0x2bfa10(0x269)]&&(_0x5ad52a[_0x2bfa10(0x269)]=null);});let _0x557c23=await this[_0x14642c(0x89f)][_0x14642c(0x1fc)][_0x14642c(0x3e7)](_0x125297[_0x14642c(0x8a0)],_0x125297);if(!_0x557c23)throw new Error(_0x14642c(0x4cd));return _0x557c23;}catch(_0x405157){let _0x41f8cc=_0x14642c(0x908),_0x5563a3=_0x405157 instanceof Error?_0x405157[_0x14642c(0x535)]:typeof _0x405157==_0x14642c(0x20d)?JSON[_0x14642c(0x565)](_0x405157):_0x405157,_0x189fbc=_0x41f8cc+':\x20'+_0x5563a3;throw this[_0x14642c(0x23d)][_0x14642c(0x61d)](this[_0x14642c(0x259)]+'\x20('+this[_0x14642c(0x339)][_0x14642c(0x988)]+_0x14642c(0x93d)+_0x189fbc),new m(_0x189fbc);}}async[a0_0x1c3883(0x8a3)](){const _0x172bf0=a0_0x1c3883;try{this[_0x172bf0(0x23d)][_0x172bf0(0x990)](this[_0x172bf0(0x259)]+'\x20('+this[_0x172bf0(0x339)][_0x172bf0(0x988)]+_0x172bf0(0x3e5)),await this[_0x172bf0(0x50f)]();let _0x3deabb=await this[_0x172bf0(0x89f)]['flow']['findAll']({'where':{'globalShow':!0x0}});return[...this[_0x172bf0(0x6cf)][_0x172bf0(0x7ea)],..._0x3deabb];}catch(_0x5a197b){return this[_0x172bf0(0x23d)][_0x172bf0(0x61d)](this['instanceName']+'\x20('+this[_0x172bf0(0x339)][_0x172bf0(0x988)]+'):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20'+(_0x5a197b instanceof Error?_0x5a197b[_0x172bf0(0x535)]:JSON[_0x172bf0(0x565)](_0x5a197b,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+(_0x5a197b instanceof Error?_0x5a197b['message']:String(_0x5a197b))};}}async['editFlow'](_0x1c1e5e,_0xe21f75){const _0x2ec542=a0_0x1c3883;try{this[_0x2ec542(0x23d)][_0x2ec542(0x990)](this[_0x2ec542(0x259)]+'\x20('+this[_0x2ec542(0x339)][_0x2ec542(0x988)]+_0x2ec542(0x659));let _0xdc0ebe=this[_0x2ec542(0x6cf)][_0x2ec542(0x7ea)][_0x2ec542(0x571)](_0x8e3bee=>_0x8e3bee['_id']===_0x1c1e5e[_0x2ec542(0x8a0)]);if(!_0xdc0ebe)throw this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2ec542(0x339)]['wuid']+_0x2ec542(0x500)+_0x1c1e5e[_0x2ec542(0x8a0)]+_0x2ec542(0x98a)),new m(_0x2ec542(0x9a7));let _0x2963b6=await this[_0x2ec542(0x89f)][_0x2ec542(0x1fc)][_0x2ec542(0x213)]({'where':{'_id':_0x1c1e5e[_0x2ec542(0x8a0)]}});if(!_0x2963b6||!_0x2963b6['whoCanUse']?.[_0x2ec542(0x681)](this['instance'][_0x2ec542(0x988)]))throw this[_0x2ec542(0x23d)][_0x2ec542(0x61d)](this[_0x2ec542(0x259)]+'\x20('+this[_0x2ec542(0x339)][_0x2ec542(0x988)]+_0x2ec542(0x858)+_0x1c1e5e['_id']+_0x2ec542(0x432)),new m(_0x2ec542(0x74a)+_0x1c1e5e[_0x2ec542(0x8a0)]+_0x2ec542(0x432));let _0x2a3047=this[_0x2ec542(0x6cf)]['flows'][_0x2ec542(0x8d4)](_0x28fc23=>_0x28fc23[_0x2ec542(0x8a0)]===_0xdc0ebe[_0x2ec542(0x8a0)]);if(_0x2a3047!==-0x1){let _0x43341e=this[_0x2ec542(0x6cf)][_0x2ec542(0x7ea)][_0x2a3047];if(_0x43341e['name']=_0x1c1e5e['name']??_0x43341e[_0x2ec542(0x1f9)],_0x43341e[_0x2ec542(0x460)]=_0x1c1e5e[_0x2ec542(0x460)]??_0x43341e[_0x2ec542(0x460)],_0x43341e['testingWith']=_0x1c1e5e[_0x2ec542(0x5a1)]??_0x43341e[_0x2ec542(0x5a1)],_0x43341e[_0x2ec542(0x76d)]=_0x1c1e5e[_0x2ec542(0x416)]??_0x43341e[_0x2ec542(0x76d)],_0x43341e[_0x2ec542(0x8d8)]=_0x1c1e5e['minutesToClose']??_0x43341e[_0x2ec542(0x8d8)],_0x43341e[_0x2ec542(0x7d3)]=_0x1c1e5e[_0x2ec542(0x7d3)]??_0x43341e['readMessages'],_0x1c1e5e[_0x2ec542(0x460)]&&this[_0x2ec542(0x6cf)]['flows']['forEach']((_0x3ba3aa,_0x253e5c)=>{_0x253e5c!==_0x2a3047&&(_0x3ba3aa['default']=!0x1);}),this[_0x2ec542(0x6cf)]['flows'][_0x2a3047]=_0x43341e,!await this[_0x2ec542(0x89f)][_0x2ec542(0x4b6)][_0x2ec542(0x4f3)]({'flows':this[_0x2ec542(0x6cf)][_0x2ec542(0x7ea)]},this[_0x2ec542(0x339)][_0x2ec542(0x988)]))throw new m(_0x2ec542(0x3e0));}let _0x415495=[_0x2ec542(0x3a2),_0x2ec542(0x906),'sharePass',_0x2ec542(0x663)];for(let _0x5f0604 of _0x415495)delete _0x1c1e5e[_0x5f0604];if(_0x2963b6[_0x2ec542(0x894)]?.[_0x2ec542(0x681)](this['instance'][_0x2ec542(0x988)])||(_0x1c1e5e={'_id':_0x1c1e5e[_0x2ec542(0x8a0)]}),_0xe21f75!==Ri&&_0x1c1e5e?.[_0x2ec542(0x210)]&&!_0x2963b6?.['globalShow'])throw new m(_0x2ec542(0x66d));let _0xceab06=new Set(_0x1c1e5e[_0x2ec542(0x894)]??_0x2963b6[_0x2ec542(0x894)]);_0xceab06['add'](_0x2963b6[_0x2ec542(0x523)]);let _0x5845fc=new Set(_0x1c1e5e[_0x2ec542(0x92a)]??_0x2963b6[_0x2ec542(0x92a)]??[]);_0xceab06[_0x2ec542(0x33d)](_0x1a6e76=>_0x5845fc['add'](_0x1a6e76)),_0x5845fc[_0x2ec542(0x3ca)](_0x2963b6['owner']),this[_0x2ec542(0x23d)][_0x2ec542(0x990)](this[_0x2ec542(0x259)]+'\x20('+this[_0x2ec542(0x339)][_0x2ec542(0x988)]+_0x2ec542(0x2c2)+Array[_0x2ec542(0x422)](_0xceab06)),this[_0x2ec542(0x23d)][_0x2ec542(0x990)](this[_0x2ec542(0x259)]+'\x20('+this[_0x2ec542(0x339)]['wuid']+_0x2ec542(0x642)+Array['from'](_0x5845fc));let _0x2247a8=await this['getValidWhatsAppNumbers'](Array[_0x2ec542(0x422)](_0x5845fc)),_0x25be00=Array[_0x2ec542(0x422)](_0xceab06)[_0x2ec542(0x8cd)](_0x452a70=>_0x2247a8[_0x2ec542(0x681)](_0x452a70)),_0x44899a=Array[_0x2ec542(0x422)](_0x5845fc)[_0x2ec542(0x8cd)](_0x2680bc=>_0x2247a8['includes'](_0x2680bc));this[_0x2ec542(0x23d)]['verbose'](this[_0x2ec542(0x259)]+'\x20('+this[_0x2ec542(0x339)][_0x2ec542(0x988)]+_0x2ec542(0x728)+_0x25be00),this['logger'][_0x2ec542(0x990)](this[_0x2ec542(0x259)]+'\x20('+this[_0x2ec542(0x339)]['wuid']+_0x2ec542(0x82c)+_0x44899a);let _0x34dea4={..._0x2963b6,..._0x1c1e5e,'whoCanEdit':_0x25be00,'whoCanUse':_0x44899a},_0x4f5ae1=await this[_0x2ec542(0x89f)]['flow'][_0x2ec542(0x3e7)](_0x2963b6[_0x2ec542(0x8a0)],_0x34dea4);return await this[_0x2ec542(0x50f)](),_0x4f5ae1;}catch(_0x322e9e){let _0x4d4592=_0x2ec542(0x63b),_0x48e78c=_0x322e9e instanceof Error?_0x322e9e['message']:typeof _0x322e9e==_0x2ec542(0x20d)?JSON[_0x2ec542(0x565)](_0x322e9e):_0x322e9e,_0x107f1d=_0x4d4592+':\x20'+_0x48e78c;throw this[_0x2ec542(0x23d)][_0x2ec542(0x61d)](this[_0x2ec542(0x259)]+'\x20('+this[_0x2ec542(0x339)][_0x2ec542(0x988)]+_0x2ec542(0x93d)+_0x107f1d),new m(_0x107f1d);}}async[a0_0x1c3883(0x53e)](_0x40b184){const _0x4ec4b=a0_0x1c3883;let _0x12b3b8={'numbers':_0x40b184};return(await this[_0x4ec4b(0x327)](_0x12b3b8))[_0x4ec4b(0x8cd)](_0x21a3fd=>_0x21a3fd[_0x4ec4b(0x689)])[_0x4ec4b(0x4ac)](_0x366df4=>_0x366df4['jid'])[_0x4ec4b(0x4ac)](_0x4543d2=>this[_0x4ec4b(0x4e0)](_0x4543d2));}['extractPhoneNumber'](_0x1f7f65){let _0x21977f=_0x1f7f65['match'](/\d+/);return _0x21977f?_0x21977f[0x0]:'';}async['editFlowBlock'](_0x1bafbb){const _0x40dd4e=a0_0x1c3883;try{if(this[_0x40dd4e(0x23d)][_0x40dd4e(0x990)](this[_0x40dd4e(0x259)]+'\x20('+this[_0x40dd4e(0x339)][_0x40dd4e(0x988)]+_0x40dd4e(0x6d9)),!this[_0x40dd4e(0x6cf)][_0x40dd4e(0x7ea)][_0x40dd4e(0x571)](_0x146f99=>_0x146f99[_0x40dd4e(0x8a0)]===_0x1bafbb[_0x40dd4e(0x8a0)]))throw this[_0x40dd4e(0x23d)]['verbose'](this[_0x40dd4e(0x259)]+'\x20('+this[_0x40dd4e(0x339)][_0x40dd4e(0x988)]+_0x40dd4e(0x500)+_0x1bafbb[_0x40dd4e(0x8a0)]+_0x40dd4e(0x98a)),new m(_0x40dd4e(0x9a7));let _0x97e21f=await this[_0x40dd4e(0x89f)]['flow'][_0x40dd4e(0x213)]({'where':{'_id':_0x1bafbb[_0x40dd4e(0x8a0)]}});if(!_0x97e21f||!_0x97e21f[_0x40dd4e(0x92a)]?.[_0x40dd4e(0x681)](this['instance'][_0x40dd4e(0x988)]))throw this[_0x40dd4e(0x23d)][_0x40dd4e(0x61d)](this[_0x40dd4e(0x259)]+'\x20('+this[_0x40dd4e(0x339)][_0x40dd4e(0x988)]+_0x40dd4e(0x858)+_0x1bafbb[_0x40dd4e(0x8a0)]+_0x40dd4e(0x432)),new m(_0x40dd4e(0x74a)+_0x1bafbb[_0x40dd4e(0x8a0)]+_0x40dd4e(0x432));if(!_0x97e21f[_0x40dd4e(0x894)]?.[_0x40dd4e(0x681)](this[_0x40dd4e(0x339)][_0x40dd4e(0x988)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let {block:_0x13cfed}=_0x1bafbb;_0x13cfed?.[_0x40dd4e(0x6cd)]?this[_0x40dd4e(0x799)](_0x97e21f,_0x1bafbb):_0x13cfed?.[_0x40dd4e(0x6c2)]?this[_0x40dd4e(0x2d4)](_0x97e21f,_0x1bafbb):_0x13cfed[_0x40dd4e(0x8a0)]?await this['updateBlock'](_0x97e21f,_0x1bafbb):this['addBlock'](_0x97e21f,_0x1bafbb);let _0x210438=await this['repository']['flow'][_0x40dd4e(0x3e7)](_0x97e21f['_id'],_0x97e21f);if(!_0x210438)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x210438;}catch(_0x5abaf8){this[_0x40dd4e(0x6ab)](_0x40dd4e(0x6f0)+_0x5abaf8[_0x40dd4e(0x535)]);}}async[a0_0x1c3883(0x799)](_0x36a199,_0x56f856){const _0x362f64=a0_0x1c3883;let _0x2a1f15=_0x56f856[_0x362f64(0x70d)][_0x362f64(0x8a0)],_0x48df6f=_0x36a199[_0x362f64(0x791)][_0x362f64(0x571)](_0x56d380=>_0x56d380[_0x362f64(0x8a0)][_0x362f64(0x25c)]()===_0x2a1f15);if(!_0x48df6f){this[_0x362f64(0x23d)]['error'](this['instanceName']+'\x20('+this['instance'][_0x362f64(0x988)]+_0x362f64(0x76f)+_0x2a1f15+'\x20não\x20encontrado\x20para\x20cópia');return;}this[_0x362f64(0x23d)][_0x362f64(0x990)](this['instanceName']+'\x20('+this['instance'][_0x362f64(0x988)]+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON[_0x362f64(0x565)](_0x48df6f));let _0x42e5ba=JSON[_0x362f64(0x298)](JSON[_0x362f64(0x565)](_0x48df6f));_0x42e5ba['_id']=new pe['default'][(_0x362f64(0x9a0))]['ObjectId'](),this[_0x362f64(0x23d)][_0x362f64(0x990)](this[_0x362f64(0x259)]+'\x20('+this[_0x362f64(0x339)]['wuid']+_0x362f64(0x70c)+JSON[_0x362f64(0x565)](_0x42e5ba)),_0x36a199['blocks'][_0x362f64(0x706)](_0x42e5ba),this[_0x362f64(0x8fe)](_0x36a199[_0x362f64(0x791)],_0x42e5ba['groupId']);}[a0_0x1c3883(0x6ab)](_0x3c8784){const _0x59c380=a0_0x1c3883;throw this[_0x59c380(0x23d)]['error'](this['instanceName']+'\x20('+this[_0x59c380(0x339)][_0x59c380(0x988)]+'):\x20'+_0x3c8784),new m(_0x3c8784);}['deleteBlock'](_0x4516bc,_0x3f6a7d){const _0x6b4982=a0_0x1c3883;let {block:_0x32e672}=_0x3f6a7d;if(_0x32e672[_0x6b4982(0x52b)]===_0x6b4982(0x4c9)){this[_0x6b4982(0x6ab)](_0x6b4982(0x8de));return;}if(!_0x32e672[_0x6b4982(0x8a0)]){this[_0x6b4982(0x6ab)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0x56d6ed=_0x4516bc[_0x6b4982(0x791)][_0x6b4982(0x571)](_0x1fc5a7=>_0x1fc5a7[_0x6b4982(0x8a0)][_0x6b4982(0x25c)]()===_0x3f6a7d['block']['_id'][_0x6b4982(0x25c)]());if(!_0x56d6ed){this['throwAndLogError'](_0x6b4982(0x8be)+_0x32e672[_0x6b4982(0x8a0)]+_0x6b4982(0x379));return;}_0x4516bc[_0x6b4982(0x791)]=_0x4516bc['blocks'][_0x6b4982(0x8cd)](_0xb9079b=>_0xb9079b[_0x6b4982(0x8a0)][_0x6b4982(0x25c)]()!==_0x3f6a7d[_0x6b4982(0x70d)][_0x6b4982(0x8a0)][_0x6b4982(0x25c)]()),_0x4516bc[_0x6b4982(0x4d4)]=_0x4516bc[_0x6b4982(0x4d4)][_0x6b4982(0x8cd)](_0x59b3bc=>_0x59b3bc[_0x6b4982(0x3f3)]!==_0x32e672[_0x6b4982(0x8a0)][_0x6b4982(0x25c)]()),_0x4516bc[_0x6b4982(0x66c)]=_0x4516bc[_0x6b4982(0x66c)][_0x6b4982(0x8cd)](_0x5d54b2=>_0x5d54b2[_0x6b4982(0x3f3)]!==_0x32e672[_0x6b4982(0x8a0)][_0x6b4982(0x25c)]()),_0x4516bc[_0x6b4982(0x2ec)]=_0x4516bc[_0x6b4982(0x2ec)][_0x6b4982(0x8cd)](_0x313740=>_0x313740[_0x6b4982(0x3f3)]!==_0x32e672['_id']['toString']()),this[_0x6b4982(0x8fe)](_0x4516bc['blocks'],_0x56d6ed[_0x6b4982(0x6c7)]);}async[a0_0x1c3883(0x207)](_0x356298,_0x10759f){const _0x2c4ac1=a0_0x1c3883;let _0x3b0131=_0x356298[_0x2c4ac1(0x791)]['findIndex'](_0x4468ed=>_0x4468ed[_0x2c4ac1(0x8a0)]['toString']()===_0x10759f[_0x2c4ac1(0x70d)][_0x2c4ac1(0x8a0)][_0x2c4ac1(0x25c)]());if(this['logger'][_0x2c4ac1(0x990)](this['instanceName']+'\x20('+this[_0x2c4ac1(0x339)]['wuid']+_0x2c4ac1(0x536)+_0x3b0131),_0x3b0131===-0x1){this['logger'][_0x2c4ac1(0x990)](_0x2c4ac1(0x8be)+_0x10759f[_0x2c4ac1(0x70d)][_0x2c4ac1(0x8a0)]+_0x2c4ac1(0x236));return;}if(_0x356298[_0x2c4ac1(0x791)][_0x3b0131][_0x2c4ac1(0x52b)]===_0x2c4ac1(0x4c9)){let _0x4cc2f7=Object['keys'](_0x10759f['block']);if(_0x4cc2f7[_0x2c4ac1(0x868)]>0x2||_0x4cc2f7[_0x2c4ac1(0x868)]===0x2&&!_0x4cc2f7[_0x2c4ac1(0x681)](_0x2c4ac1(0x269))){this['throwAndLogError'](_0x2c4ac1(0x61a));return;}}let _0x173b22=_0x356298[_0x2c4ac1(0x791)][_0x3b0131][_0x2c4ac1(0x6c7)];for(let _0x3bd55f in _0x10759f[_0x2c4ac1(0x70d)])_0x10759f[_0x2c4ac1(0x70d)][_0x2c4ac1(0x691)](_0x3bd55f)&&(_0x356298[_0x2c4ac1(0x791)][_0x3b0131][_0x3bd55f]=_0x10759f['block'][_0x3bd55f]);if(this['logger']['verbose'](this[_0x2c4ac1(0x259)]+'\x20('+this[_0x2c4ac1(0x339)]['wuid']+_0x2c4ac1(0x568)+JSON['stringify'](_0x356298[_0x2c4ac1(0x791)][_0x3b0131])),_0x356298[_0x2c4ac1(0x791)][_0x3b0131][_0x2c4ac1(0x8ea)]&&'header'in _0x356298['blocks'][_0x3b0131][_0x2c4ac1(0x8ea)]){this['logger'][_0x2c4ac1(0x990)](this[_0x2c4ac1(0x259)]+'\x20('+this[_0x2c4ac1(0x339)][_0x2c4ac1(0x988)]+_0x2c4ac1(0x79b));let _0x35b027=JSON[_0x2c4ac1(0x565)](_0x356298['blocks'][_0x3b0131][_0x2c4ac1(0x8ea)][_0x2c4ac1(0x756)],null,0x1);_0x35b027['length']>0x2&&(_0x35b027=_0x35b027[_0x2c4ac1(0x98b)](0x1,_0x35b027[_0x2c4ac1(0x868)]-0x1)[_0x2c4ac1(0x987)]()),_0x356298[_0x2c4ac1(0x791)][_0x3b0131]['apirequest'][_0x2c4ac1(0x6a8)]=_0x35b027;}if(_0x356298['blocks'][_0x3b0131][_0x2c4ac1(0x8ea)]&&'body'in _0x356298[_0x2c4ac1(0x791)][_0x3b0131][_0x2c4ac1(0x8ea)]&&!(_0x2c4ac1(0x49d)in _0x356298[_0x2c4ac1(0x791)][_0x3b0131][_0x2c4ac1(0x8ea)])){this[_0x2c4ac1(0x23d)][_0x2c4ac1(0x990)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2c4ac1(0x890)),_0x356298[_0x2c4ac1(0x791)][_0x3b0131][_0x2c4ac1(0x8ea)][_0x2c4ac1(0x461)]=!0x1;let _0x219f26=JSON[_0x2c4ac1(0x565)](_0x356298['blocks'][_0x3b0131]['apirequest'][_0x2c4ac1(0x347)],null,0x2);_0x356298[_0x2c4ac1(0x791)][_0x3b0131][_0x2c4ac1(0x8ea)][_0x2c4ac1(0x49d)]=_0x219f26;}if(_0x356298['blocks'][_0x3b0131][_0x2c4ac1(0x8ea)]&&_0x2c4ac1(0x49d)in _0x356298[_0x2c4ac1(0x791)][_0x3b0131][_0x2c4ac1(0x8ea)]){_0x356298[_0x2c4ac1(0x791)][_0x3b0131][_0x2c4ac1(0x8ea)][_0x2c4ac1(0x461)]=!0x1;let _0x642799=_0x356298[_0x2c4ac1(0x791)][_0x3b0131]['apirequest']['bodyString'],_0x10f8d8=this[_0x2c4ac1(0x378)](_0x642799);_0x356298[_0x2c4ac1(0x791)][_0x3b0131][_0x2c4ac1(0x8ea)]['bodyString']=_0x10f8d8[_0x2c4ac1(0x94b)],_0x356298[_0x2c4ac1(0x791)][_0x3b0131]['apirequest']['bodyStringErrorParse']=_0x10f8d8['error'];}let _0x166b68=_0x356298[_0x2c4ac1(0x791)][_0x3b0131][_0x2c4ac1(0x6c7)];_0x173b22!==_0x166b68?(this[_0x2c4ac1(0x8fe)](_0x356298[_0x2c4ac1(0x791)],_0x173b22),this['reorderBlocks'](_0x356298['blocks'],_0x166b68)):this[_0x2c4ac1(0x8fe)](_0x356298[_0x2c4ac1(0x791)],_0x173b22);}[a0_0x1c3883(0x378)](_0x3f9a06){const _0x4d3615=a0_0x1c3883;let _0x3751c1='\u205f',_0x2f6e24=!0x1,_0x1ed25e='';for(let _0x28ad3e=0x0;_0x28ad3e<_0x3f9a06['length'];_0x28ad3e++){let _0x1c584d=_0x3f9a06[_0x28ad3e];_0x1c584d==='\x22'&&(_0x28ad3e===0x0||_0x3f9a06[_0x28ad3e-0x1]!=='\x5c')&&(_0x2f6e24=!_0x2f6e24),!(!_0x2f6e24&&(_0x1c584d==='\x0a'||_0x1c584d==='\x20'||_0x1c584d===_0x3751c1))&&(_0x1ed25e+=_0x1c584d);}let _0x5aba1c={},_0x406559=9876543210.1234,_0x4a8e65=_0x1ed25e[_0x4d3615(0x7cb)](/\{\{([^}]+)\}\}/g,_0x15ad31=>{let _0x5bdf30=_0x15ad31,_0x5f4c54=''+_0x406559;return _0x5aba1c[_0x5f4c54]=_0x5bdf30,_0x406559+=0.0001,_0x5f4c54;}),_0x5d4565='',_0x4dcbd3=!0x1;try{let _0x4621e9=JSON[_0x4d3615(0x298)](_0x4a8e65);_0x5d4565=JSON[_0x4d3615(0x565)](_0x4621e9,null,0x2),_0x5d4565=_0x5d4565[_0x4d3615(0x7cb)](/\n( +)/g,(_0x52312d,_0x1e50cc)=>{const _0x54a0b7=_0x4d3615;let _0x513cc2=_0x1e50cc['length'];return'\x0a'+_0x3751c1[_0x54a0b7(0x277)](_0x513cc2*0x2);}),_0x5d4565=_0x5d4565[_0x4d3615(0x7cb)](/(\d{10,}\.\d+)/g,_0x139210=>_0x5aba1c[_0x139210]||_0x139210);}catch(_0x3741ea){this[_0x4d3615(0x23d)]['error'](_0x4d3615(0x958)+_0x3741ea),_0x5d4565=_0x3f9a06,_0x4dcbd3=!0x0;}return{'result':_0x5d4565,'error':_0x4dcbd3};}[a0_0x1c3883(0x8ed)](_0x2b8994,_0x24769d){const _0x36a10e=a0_0x1c3883;if(_0x24769d['block']['type']===_0x36a10e(0x4c9)){this[_0x36a10e(0x6ab)](_0x36a10e(0x7fc));return;}if(_0x24769d[_0x36a10e(0x70d)]['apirequest']&&_0x36a10e(0x756)in _0x24769d[_0x36a10e(0x70d)][_0x36a10e(0x8ea)]){this['logger']['verbose'](this[_0x36a10e(0x259)]+'\x20('+this[_0x36a10e(0x339)][_0x36a10e(0x988)]+_0x36a10e(0x79b));let _0x17a306=JSON[_0x36a10e(0x565)](_0x24769d[_0x36a10e(0x70d)]['apirequest'][_0x36a10e(0x756)],null,0x1);_0x17a306[_0x36a10e(0x868)]>0x2&&(_0x17a306=_0x17a306['substring'](0x1,_0x17a306[_0x36a10e(0x868)]-0x1)[_0x36a10e(0x987)]()),_0x24769d[_0x36a10e(0x70d)][_0x36a10e(0x8ea)][_0x36a10e(0x6a8)]=_0x17a306;}_0x24769d[_0x36a10e(0x70d)][_0x36a10e(0x8ea)]&&_0x36a10e(0x347)in _0x24769d[_0x36a10e(0x70d)][_0x36a10e(0x8ea)]&&(this[_0x36a10e(0x23d)][_0x36a10e(0x990)](this[_0x36a10e(0x259)]+'\x20('+this[_0x36a10e(0x339)][_0x36a10e(0x988)]+_0x36a10e(0x890)),_0x24769d[_0x36a10e(0x70d)][_0x36a10e(0x8ea)][_0x36a10e(0x49d)]=JSON['stringify'](_0x24769d[_0x36a10e(0x70d)]['apirequest'][_0x36a10e(0x347)],null,0x1)[_0x36a10e(0x987)]()),_0x2b8994['blocks'][_0x36a10e(0x706)](_0x24769d[_0x36a10e(0x70d)]),this[_0x36a10e(0x8fe)](_0x2b8994[_0x36a10e(0x791)],_0x24769d[_0x36a10e(0x70d)][_0x36a10e(0x6c7)]);}[a0_0x1c3883(0x8fe)](_0x46b1ba,_0x53f685){const _0x4bcfcb=a0_0x1c3883;let _0x67b21e=_0x46b1ba[_0x4bcfcb(0x8cd)](_0x253f5b=>_0x253f5b[_0x4bcfcb(0x6c7)]===_0x53f685);_0x67b21e[_0x4bcfcb(0x90e)]((_0xfd28fa,_0x453255)=>_0xfd28fa[_0x4bcfcb(0x979)]-_0x453255[_0x4bcfcb(0x979)]),_0x67b21e[_0x4bcfcb(0x33d)]((_0x244fd6,_0x387dce)=>_0x244fd6[_0x4bcfcb(0x979)]=_0x387dce+0x1);}async[a0_0x1c3883(0x214)](_0x45f2c7){const _0xf43b83=a0_0x1c3883;try{if(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0xf43b83(0x339)][_0xf43b83(0x988)]+'):\x20Editando\x20replyOption...'),!_0x45f2c7||!_0x45f2c7[_0xf43b83(0x2b3)]){this['throwAndLogError'](_0xf43b83(0x514));return;}if(!this[_0xf43b83(0x6cf)]['flows'][_0xf43b83(0x571)](_0x548bd3=>_0x548bd3['_id']===_0x45f2c7['_id']))throw this['logger'][_0xf43b83(0x990)](this[_0xf43b83(0x259)]+'\x20('+this[_0xf43b83(0x339)]['wuid']+_0xf43b83(0x500)+_0x45f2c7['_id']+'\x27\x20não\x20encontrado'),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x245941=await this['repository']['flow'][_0xf43b83(0x213)]({'where':{'_id':_0x45f2c7[_0xf43b83(0x8a0)]}});if(!_0x245941||!_0x245941[_0xf43b83(0x92a)]?.[_0xf43b83(0x681)](this[_0xf43b83(0x339)][_0xf43b83(0x988)]))throw this['logger'][_0xf43b83(0x61d)](this[_0xf43b83(0x259)]+'\x20('+this[_0xf43b83(0x339)]['wuid']+_0xf43b83(0x858)+_0x45f2c7[_0xf43b83(0x8a0)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0xf43b83(0x74a)+_0x45f2c7['_id']+_0xf43b83(0x432));if(!_0x245941['whoCanEdit']?.[_0xf43b83(0x681)](this['instance'][_0xf43b83(0x988)]))throw new m(_0xf43b83(0x294));let {replyOption:_0xb09233}=_0x45f2c7;_0xb09233?.[_0xf43b83(0x6c2)]?(this[_0xf43b83(0x633)](_0x245941,_0x45f2c7),this['reorderReplyOptions'](_0x245941[_0xf43b83(0x2ec)],_0x45f2c7[_0xf43b83(0x2b3)][_0xf43b83(0x3f3)])):_0xb09233[_0xf43b83(0x8a0)]?(await this['updateReplyOption'](_0x245941,_0x45f2c7),this['reorderReplyOptions'](_0x245941[_0xf43b83(0x2ec)],_0x45f2c7[_0xf43b83(0x2b3)][_0xf43b83(0x3f3)])):(this[_0xf43b83(0x45f)](_0x245941,_0x45f2c7),this[_0xf43b83(0x283)](_0x245941[_0xf43b83(0x2ec)],_0x45f2c7[_0xf43b83(0x2b3)][_0xf43b83(0x3f3)]));let _0x5a8904=await this[_0xf43b83(0x89f)][_0xf43b83(0x1fc)]['updateOne'](_0x245941[_0xf43b83(0x8a0)],_0x245941);if(!_0x5a8904)throw new Error(_0xf43b83(0x4cd));return _0x5a8904;}catch(_0x421007){this[_0xf43b83(0x6ab)](_0xf43b83(0x7a6)+_0x421007);}}[a0_0x1c3883(0x283)](_0x4b2e90,_0x21ea22){const _0x29a680=a0_0x1c3883;_0x4b2e90[_0x29a680(0x33d)](_0x425cff=>{const _0x3773d3=_0x29a680;_0x425cff['blockId']===_0x21ea22&&_0x425cff[_0x3773d3(0x979)]===void 0x0&&(_0x425cff[_0x3773d3(0x979)]=0x270f);});let _0x23c569=_0x4b2e90[_0x29a680(0x8cd)](_0x6f12ae=>_0x6f12ae[_0x29a680(0x3f3)]===_0x21ea22);_0x23c569[_0x29a680(0x90e)]((_0x10a13c,_0x52e454)=>_0x10a13c['order']-_0x52e454[_0x29a680(0x979)]),_0x23c569[_0x29a680(0x33d)]((_0x25b51e,_0x1038a4)=>{_0x25b51e['order']=_0x1038a4+0x1;}),_0x4b2e90['forEach'](_0x3730ff=>{const _0x20a373=_0x29a680;if(_0x3730ff[_0x20a373(0x3f3)]===_0x21ea22){let _0x238451=_0x23c569[_0x20a373(0x571)](_0x43db0b=>_0x43db0b[_0x20a373(0x8a0)]&&_0x3730ff[_0x20a373(0x8a0)]&&_0x43db0b[_0x20a373(0x8a0)][_0x20a373(0x25c)]()===_0x3730ff[_0x20a373(0x8a0)][_0x20a373(0x25c)]());_0x238451&&(_0x3730ff['order']=_0x238451['order']);}});}['deleteReplyOption'](_0x4ec840,_0x56110f){const _0x21be90=a0_0x1c3883;let {replyOption:_0x3673e4}=_0x56110f;if(!_0x3673e4[_0x21be90(0x8a0)]){this['throwAndLogError']('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x4ec840[_0x21be90(0x2ec)]['find'](_0x3ce317=>_0x3ce317['_id'][_0x21be90(0x25c)]()===_0x56110f[_0x21be90(0x2b3)]['_id'][_0x21be90(0x25c)]())){this[_0x21be90(0x6ab)](_0x21be90(0x226)+_0x3673e4[_0x21be90(0x8a0)]+'\x20não\x20encontrado');return;}_0x4ec840[_0x21be90(0x2ec)]=_0x4ec840[_0x21be90(0x2ec)][_0x21be90(0x8cd)](_0x2d4729=>_0x2d4729[_0x21be90(0x8a0)]['toString']()!==_0x56110f[_0x21be90(0x2b3)][_0x21be90(0x8a0)][_0x21be90(0x25c)]());}async['updateReplyOption'](_0x326cbf,_0x2baff7){const _0x581cbb=a0_0x1c3883;let _0x1078bf=_0x326cbf['replyOptions']['findIndex'](_0x40ac6d=>_0x40ac6d[_0x581cbb(0x8a0)]['toString']()===_0x2baff7[_0x581cbb(0x2b3)][_0x581cbb(0x8a0)][_0x581cbb(0x25c)]());if(_0x1078bf===-0x1){this[_0x581cbb(0x6ab)](_0x581cbb(0x226)+_0x2baff7[_0x581cbb(0x2b3)][_0x581cbb(0x8a0)]+_0x581cbb(0x236));return;}for(let _0x4e9126 in _0x2baff7['replyOption'])_0x2baff7[_0x581cbb(0x2b3)][_0x581cbb(0x691)](_0x4e9126)&&(_0x326cbf['replyOptions'][_0x1078bf][_0x4e9126]=_0x2baff7[_0x581cbb(0x2b3)][_0x4e9126]);}['addReplyOption'](_0x170d72,_0x40ec51){const _0x2b1e06=a0_0x1c3883;_0x170d72[_0x2b1e06(0x2ec)][_0x2b1e06(0x706)](_0x40ec51[_0x2b1e06(0x2b3)]);}async[a0_0x1c3883(0x938)](_0x156949){const _0x200ebd=a0_0x1c3883;this[_0x200ebd(0x23d)][_0x200ebd(0x990)](this[_0x200ebd(0x259)]+'\x20('+this[_0x200ebd(0x339)]['wuid']+_0x200ebd(0x966)+JSON[_0x200ebd(0x565)](_0x156949,null,0x2));try{if(this[_0x200ebd(0x23d)]['verbose'](this[_0x200ebd(0x259)]+'\x20('+this['instance'][_0x200ebd(0x988)]+_0x200ebd(0x373)),!this[_0x200ebd(0x6cf)]['flows'][_0x200ebd(0x571)](_0x23ab38=>_0x23ab38[_0x200ebd(0x8a0)]===_0x156949[_0x200ebd(0x8a0)]))throw this[_0x200ebd(0x23d)][_0x200ebd(0x990)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x200ebd(0x500)+_0x156949[_0x200ebd(0x8a0)]+'\x27\x20não\x20encontrado'),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x3bd1ec=await this[_0x200ebd(0x89f)][_0x200ebd(0x1fc)][_0x200ebd(0x213)]({'where':{'_id':_0x156949[_0x200ebd(0x8a0)]}});if(!_0x3bd1ec||!_0x3bd1ec[_0x200ebd(0x92a)]?.[_0x200ebd(0x681)](this[_0x200ebd(0x339)][_0x200ebd(0x988)]))throw this[_0x200ebd(0x23d)][_0x200ebd(0x61d)](this[_0x200ebd(0x259)]+'\x20('+this[_0x200ebd(0x339)]['wuid']+_0x200ebd(0x858)+_0x156949[_0x200ebd(0x8a0)]+_0x200ebd(0x432)),new m(_0x200ebd(0x74a)+_0x156949[_0x200ebd(0x8a0)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x3bd1ec['whoCanEdit']?.[_0x200ebd(0x681)](this['instance'][_0x200ebd(0x988)]))throw new m(_0x200ebd(0x294));if(_0x156949[_0x200ebd(0x227)]&&_0x156949[_0x200ebd(0x227)]?.['delete']===!0x0){if(this['logger'][_0x200ebd(0x990)](this[_0x200ebd(0x259)]+'\x20('+this[_0x200ebd(0x339)][_0x200ebd(0x988)]+_0x200ebd(0x6a1)),_0x156949[_0x200ebd(0x227)][_0x200ebd(0x460)]===!0x0)return{'message':_0x200ebd(0x308)};if(_0x3bd1ec[_0x200ebd(0x791)][_0x200ebd(0x7e0)](_0x267922=>_0x267922[_0x200ebd(0x6c7)]['toString']()===_0x156949[_0x200ebd(0x227)][_0x200ebd(0x8a0)]))return this[_0x200ebd(0x23d)][_0x200ebd(0x990)](this[_0x200ebd(0x259)]+'\x20('+this[_0x200ebd(0x339)][_0x200ebd(0x988)]+_0x200ebd(0x3bf)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x3bd1ec[_0x200ebd(0x8a2)]=_0x3bd1ec[_0x200ebd(0x8a2)][_0x200ebd(0x8cd)](_0x4c44e3=>_0x4c44e3['_id']['toString']()!==_0x156949[_0x200ebd(0x227)]['_id']);}else{if(_0x156949[_0x200ebd(0x227)]){if(_0x156949[_0x200ebd(0x227)][_0x200ebd(0x460)]===!0x0)return{'message':_0x200ebd(0x3cf)};if(_0x156949[_0x200ebd(0x227)][_0x200ebd(0x8a0)]){let _0xf66e11=_0x3bd1ec[_0x200ebd(0x8a2)][_0x200ebd(0x571)](_0x2743f2=>_0x2743f2[_0x200ebd(0x8a0)][_0x200ebd(0x25c)]()===_0x156949[_0x200ebd(0x227)][_0x200ebd(0x8a0)]);_0xf66e11&&(_0x156949['group']['x']<0x0&&(_0x156949[_0x200ebd(0x227)]['x']=0x0),_0x156949[_0x200ebd(0x227)]['y']<0x0&&(_0x156949['group']['y']=0x0),Object['assign'](_0xf66e11,_0x156949[_0x200ebd(0x227)]));}else _0x3bd1ec[_0x200ebd(0x8a2)]['push'](_0x156949[_0x200ebd(0x227)]);}}let _0x49534a=await this['repository'][_0x200ebd(0x1fc)][_0x200ebd(0x3e7)](_0x3bd1ec[_0x200ebd(0x8a0)],_0x3bd1ec);if(!_0x49534a)throw new Error(_0x200ebd(0x4cd));return _0x49534a;}catch(_0x594107){let _0x2885b1='Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo',_0xafc621=_0x594107 instanceof Error?_0x594107[_0x200ebd(0x535)]:typeof _0x594107==_0x200ebd(0x20d)?JSON[_0x200ebd(0x565)](_0x594107):_0x594107,_0x1f660d=_0x2885b1+':\x20'+_0xafc621;throw this[_0x200ebd(0x23d)][_0x200ebd(0x61d)](this[_0x200ebd(0x259)]+'\x20('+this[_0x200ebd(0x339)]['wuid']+_0x200ebd(0x93d)+_0x1f660d),new m(_0x1f660d);}}async['editFlowCondition'](_0x53dfd6){const _0x2ce051=a0_0x1c3883;try{if(this[_0x2ce051(0x23d)][_0x2ce051(0x990)](this[_0x2ce051(0x259)]+'\x20('+this[_0x2ce051(0x339)][_0x2ce051(0x988)]+_0x2ce051(0x6b5)),!this[_0x2ce051(0x6cf)][_0x2ce051(0x7ea)]['find'](_0x207ad3=>_0x207ad3[_0x2ce051(0x8a0)]===_0x53dfd6[_0x2ce051(0x8a0)]))throw this[_0x2ce051(0x23d)][_0x2ce051(0x990)](this[_0x2ce051(0x259)]+'\x20('+this['instance'][_0x2ce051(0x988)]+_0x2ce051(0x500)+_0x53dfd6[_0x2ce051(0x8a0)]+_0x2ce051(0x98a)),new m(_0x2ce051(0x9a7));let _0x19766a=await this[_0x2ce051(0x89f)][_0x2ce051(0x1fc)][_0x2ce051(0x213)]({'where':{'_id':_0x53dfd6[_0x2ce051(0x8a0)]}});if(!_0x19766a||!_0x19766a['whoCanUse']?.[_0x2ce051(0x681)](this[_0x2ce051(0x339)][_0x2ce051(0x988)]))throw this[_0x2ce051(0x23d)][_0x2ce051(0x61d)](this['instanceName']+'\x20('+this[_0x2ce051(0x339)][_0x2ce051(0x988)]+'):\x20Flow\x20\x27'+_0x53dfd6['_id']+_0x2ce051(0x432)),new m(_0x2ce051(0x74a)+_0x53dfd6[_0x2ce051(0x8a0)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x19766a[_0x2ce051(0x894)]?.[_0x2ce051(0x681)](this[_0x2ce051(0x339)][_0x2ce051(0x988)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let _0x5d5f6f=!0x1;if(_0x53dfd6['condition']?.[_0x2ce051(0x6c2)]===!0x0)_0x19766a[_0x2ce051(0x4d4)]=_0x19766a['conditions'][_0x2ce051(0x8cd)](_0x4f6c71=>_0x4f6c71&&_0x53dfd6['condition']&&_0x4f6c71[_0x2ce051(0x8a0)]&&_0x53dfd6['condition'][_0x2ce051(0x8a0)]&&_0x4f6c71[_0x2ce051(0x8a0)]['toString']()!==_0x53dfd6['condition'][_0x2ce051(0x8a0)][_0x2ce051(0x25c)]()),_0x5d5f6f=!0x0;else{let _0x92bd2c=_0x19766a['conditions'][_0x2ce051(0x571)](_0x2f31ed=>_0x2f31ed&&_0x53dfd6[_0x2ce051(0x71d)]&&_0x2f31ed[_0x2ce051(0x8a0)]&&_0x53dfd6[_0x2ce051(0x71d)][_0x2ce051(0x8a0)]&&_0x2f31ed[_0x2ce051(0x8a0)]['toString']()===_0x53dfd6[_0x2ce051(0x71d)]['_id']['toString']());_0x92bd2c?(_0x5d5f6f=_0x92bd2c[_0x2ce051(0x979)]!==_0x53dfd6['condition']['order'],Object[_0x2ce051(0x515)](_0x92bd2c,_0x53dfd6[_0x2ce051(0x71d)])):(_0x19766a['conditions']['push'](_0x53dfd6[_0x2ce051(0x71d)]),_0x5d5f6f=!0x0);}if(_0x5d5f6f){_0x19766a[_0x2ce051(0x4d4)][_0x2ce051(0x90e)]((_0x1f2e4b,_0x26b771)=>_0x1f2e4b['order']>_0x26b771[_0x2ce051(0x979)]?0x1:_0x26b771[_0x2ce051(0x979)]>_0x1f2e4b[_0x2ce051(0x979)]?-0x1:0x0);for(let _0x2a435e=0x0;_0x2a435e<_0x19766a[_0x2ce051(0x4d4)][_0x2ce051(0x868)];_0x2a435e++)_0x19766a[_0x2ce051(0x4d4)][_0x2a435e][_0x2ce051(0x979)]=_0x2a435e+0x1;_0x19766a[_0x2ce051(0x4d4)][_0x2ce051(0x868)]>0x0&&(_0x19766a[_0x2ce051(0x4d4)][0x0][_0x2ce051(0x73a)]=_0x2ce051(0x739));}let _0x2ba341=await this[_0x2ce051(0x89f)][_0x2ce051(0x1fc)][_0x2ce051(0x3e7)](_0x19766a[_0x2ce051(0x8a0)],_0x19766a);if(!_0x2ba341)throw new Error(_0x2ce051(0x4cd));return _0x2ba341;}catch(_0x323030){let _0x23087f=_0x2ce051(0x270),_0x6b3db6=_0x323030 instanceof Error?_0x323030[_0x2ce051(0x535)]:typeof _0x323030==_0x2ce051(0x20d)?JSON['stringify'](_0x323030):_0x323030,_0x50223d=_0x23087f+':\x20'+_0x6b3db6;throw this[_0x2ce051(0x23d)]['error'](this[_0x2ce051(0x259)]+'\x20('+this[_0x2ce051(0x339)]['wuid']+_0x2ce051(0x93d)+_0x50223d),new m(_0x50223d);}}async[a0_0x1c3883(0x93b)](_0x117e49){const _0x52ae28=a0_0x1c3883;try{if(this['logger'][_0x52ae28(0x990)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Editando\x20edição\x20do\x20fluxo...'),!this[_0x52ae28(0x6cf)][_0x52ae28(0x7ea)]['find'](_0x15024a=>_0x15024a[_0x52ae28(0x8a0)]===_0x117e49[_0x52ae28(0x8a0)]))throw this[_0x52ae28(0x23d)][_0x52ae28(0x990)](this[_0x52ae28(0x259)]+'\x20('+this[_0x52ae28(0x339)][_0x52ae28(0x988)]+'):\x20Fluxo\x20\x27'+_0x117e49[_0x52ae28(0x8a0)]+_0x52ae28(0x98a)),new m(_0x52ae28(0x9a7));let _0x3dd02e=await this[_0x52ae28(0x89f)][_0x52ae28(0x1fc)]['findOne']({'where':{'_id':_0x117e49[_0x52ae28(0x8a0)]}});if(!_0x3dd02e||!_0x3dd02e[_0x52ae28(0x92a)]?.[_0x52ae28(0x681)](this[_0x52ae28(0x339)]['wuid']))throw this['logger']['error'](this[_0x52ae28(0x259)]+'\x20('+this[_0x52ae28(0x339)][_0x52ae28(0x988)]+_0x52ae28(0x858)+_0x117e49['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x52ae28(0x74a)+_0x117e49['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x3dd02e[_0x52ae28(0x894)]?.[_0x52ae28(0x681)](this['instance']['wuid']))throw new m(_0x52ae28(0x294));let _0x5e6cdf=!0x1;if(_0x117e49['varedit']?.[_0x52ae28(0x6c2)]===!0x0)_0x3dd02e[_0x52ae28(0x66c)]=_0x3dd02e['varedits'][_0x52ae28(0x8cd)](_0x18cbbb=>_0x18cbbb&&_0x117e49[_0x52ae28(0x323)]&&_0x18cbbb['_id']&&_0x117e49[_0x52ae28(0x323)]['_id']&&_0x18cbbb[_0x52ae28(0x8a0)]['toString']()!==_0x117e49['varedit']['_id'][_0x52ae28(0x25c)]()),_0x5e6cdf=!0x0;else{let _0x5654ea=_0x3dd02e[_0x52ae28(0x66c)][_0x52ae28(0x571)](_0x461629=>_0x461629&&_0x117e49['varedit']&&_0x461629['_id']&&_0x117e49[_0x52ae28(0x323)][_0x52ae28(0x8a0)]&&_0x461629['_id'][_0x52ae28(0x25c)]()===_0x117e49[_0x52ae28(0x323)][_0x52ae28(0x8a0)][_0x52ae28(0x25c)]());_0x5654ea?(_0x5e6cdf=_0x5654ea[_0x52ae28(0x979)]!==_0x117e49[_0x52ae28(0x323)]['order'],Object['assign'](_0x5654ea,_0x117e49[_0x52ae28(0x323)])):(_0x3dd02e['varedits']['push'](_0x117e49[_0x52ae28(0x323)]),_0x5e6cdf=!0x0);}if(_0x5e6cdf){_0x3dd02e['varedits'][_0x52ae28(0x90e)]((_0x1cc6ff,_0x47bbfe)=>_0x1cc6ff[_0x52ae28(0x979)]>_0x47bbfe[_0x52ae28(0x979)]?0x1:_0x47bbfe[_0x52ae28(0x979)]>_0x1cc6ff['order']?-0x1:0x0);for(let _0x1f0c83=0x0;_0x1f0c83<_0x3dd02e[_0x52ae28(0x66c)][_0x52ae28(0x868)];_0x1f0c83++)_0x3dd02e[_0x52ae28(0x66c)][_0x1f0c83][_0x52ae28(0x979)]=_0x1f0c83+0x1;}let _0x3cd9a0=await this[_0x52ae28(0x89f)][_0x52ae28(0x1fc)][_0x52ae28(0x3e7)](_0x3dd02e[_0x52ae28(0x8a0)],_0x3dd02e);if(!_0x3cd9a0)throw new Error(_0x52ae28(0x4cd));return _0x3cd9a0;}catch(_0x32c31d){let _0x58ab57=_0x52ae28(0x270),_0x5b05db=_0x32c31d instanceof Error?_0x32c31d[_0x52ae28(0x535)]:typeof _0x32c31d==_0x52ae28(0x20d)?JSON['stringify'](_0x32c31d):_0x32c31d,_0x147ced=_0x58ab57+':\x20'+_0x5b05db;throw this[_0x52ae28(0x23d)][_0x52ae28(0x61d)](this[_0x52ae28(0x259)]+'\x20('+this['instance'][_0x52ae28(0x988)]+_0x52ae28(0x93d)+_0x147ced),new m(_0x147ced);}}async[a0_0x1c3883(0x1fd)](_0x34018a){const _0x2494fb=a0_0x1c3883;try{if(this[_0x2494fb(0x23d)][_0x2494fb(0x990)](this[_0x2494fb(0x259)]+'\x20('+this[_0x2494fb(0x339)][_0x2494fb(0x988)]+_0x2494fb(0x22f)),!this[_0x2494fb(0x6cf)][_0x2494fb(0x7ea)][_0x2494fb(0x571)](_0x1374c9=>_0x1374c9[_0x2494fb(0x8a0)]===_0x34018a['_id']))throw this[_0x2494fb(0x23d)][_0x2494fb(0x990)](this[_0x2494fb(0x259)]+'\x20('+this[_0x2494fb(0x339)][_0x2494fb(0x988)]+'):\x20Fluxo\x20\x27'+_0x34018a['_id']+_0x2494fb(0x98a)),new m(_0x2494fb(0x9a7));let _0x44748d=await this[_0x2494fb(0x89f)][_0x2494fb(0x1fc)][_0x2494fb(0x213)]({'where':{'_id':_0x34018a['_id']}});if(!_0x44748d||!_0x44748d[_0x2494fb(0x92a)]?.[_0x2494fb(0x681)](this[_0x2494fb(0x339)][_0x2494fb(0x988)]))throw this[_0x2494fb(0x23d)]['error'](this['instanceName']+'\x20('+this[_0x2494fb(0x339)][_0x2494fb(0x988)]+'):\x20Flow\x20\x27'+_0x34018a[_0x2494fb(0x8a0)]+_0x2494fb(0x432)),new m('Flow\x20\x27'+_0x34018a['_id']+_0x2494fb(0x432));if(!_0x44748d[_0x2494fb(0x894)]?.['includes'](this[_0x2494fb(0x339)][_0x2494fb(0x988)]))throw new m(_0x2494fb(0x294));_0x34018a[_0x2494fb(0x7cf)]['name']=_0x34018a['variable'][_0x2494fb(0x1f9)][_0x2494fb(0x987)](),_0x34018a[_0x2494fb(0x7cf)]['name'][_0x2494fb(0x376)]('_')&&(_0x34018a[_0x2494fb(0x7cf)][_0x2494fb(0x1f9)]=_0x34018a[_0x2494fb(0x7cf)]['name'][_0x2494fb(0x98b)](0x1)),_0x34018a['variable'][_0x2494fb(0x1f9)]=_0x34018a[_0x2494fb(0x7cf)][_0x2494fb(0x1f9)][_0x2494fb(0x987)]();let _0x10880d=_0x44748d[_0x2494fb(0x551)][_0x2494fb(0x571)](_0x5e5337=>_0x5e5337['name']===_0x34018a[_0x2494fb(0x7cf)][_0x2494fb(0x1f9)]);if(_0x10880d?.['leadInfo']===!0x0)throw new Error(_0x2494fb(0x950));if(_0x34018a[_0x2494fb(0x7cf)]?.['delete']===!0x0){if(!_0x10880d)return{'message':_0x2494fb(0x820)};_0x44748d[_0x2494fb(0x551)]=_0x44748d[_0x2494fb(0x551)][_0x2494fb(0x8cd)](_0x578d0f=>_0x578d0f['name']!==_0x34018a['variable'][_0x2494fb(0x1f9)]);}else _0x10880d?Object[_0x2494fb(0x515)](_0x10880d,_0x34018a[_0x2494fb(0x7cf)]):_0x44748d[_0x2494fb(0x551)][_0x2494fb(0x706)](_0x34018a[_0x2494fb(0x7cf)]);let _0xf782f6=await this[_0x2494fb(0x89f)][_0x2494fb(0x1fc)][_0x2494fb(0x3e7)](_0x44748d[_0x2494fb(0x8a0)],_0x44748d);if(!_0xf782f6)throw new Error(_0x2494fb(0x4cd));return _0xf782f6;}catch(_0x561cb4){let _0x59bdc3=_0x2494fb(0x64d),_0x483699=_0x561cb4 instanceof Error?_0x561cb4[_0x2494fb(0x535)]:typeof _0x561cb4==_0x2494fb(0x20d)?JSON[_0x2494fb(0x565)](_0x561cb4):_0x561cb4,_0x69ecc4=_0x59bdc3+':\x20'+_0x483699;throw this[_0x2494fb(0x23d)][_0x2494fb(0x61d)](this['instanceName']+'\x20('+this['instance'][_0x2494fb(0x988)]+'):\x20'+_0x69ecc4),new m(_0x69ecc4);}}async[a0_0x1c3883(0x305)](_0x2efd0f){const _0x134fdb=a0_0x1c3883;let _0x4060bd=null;try{if(!this[_0x134fdb(0x6cf)]?.[_0x134fdb(0x469)][_0x134fdb(0x242)])throw new m(_0x134fdb(0x32d));this[_0x134fdb(0x23d)][_0x134fdb(0x990)](this[_0x134fdb(0x259)]+'\x20('+this[_0x134fdb(0x339)]['wuid']+_0x134fdb(0x701));let _0x58398a=(await this[_0x134fdb(0x327)]({'numbers':[_0x2efd0f[_0x134fdb(0x8f4)]]}))[0x0];if(!_0x58398a[_0x134fdb(0x689)]&&!(0x0,w[_0x134fdb(0x5fe)])(_0x58398a[_0x134fdb(0x7e1)])&&!_0x58398a[_0x134fdb(0x7e1)]['includes'](_0x134fdb(0x5da)))throw _0x4060bd=JSON[_0x134fdb(0x565)](_0x58398a,null,0x2),new m(_0x58398a);let _0x132351;if(_0x2efd0f[_0x134fdb(0x1f9)][_0x134fdb(0x868)]===0x24&&/^[0-9a-fA-F-]{36}$/['test'](_0x2efd0f['name'])?_0x132351=this[_0x134fdb(0x6cf)][_0x134fdb(0x7ea)]['find'](_0x3955f8=>_0x3955f8[_0x134fdb(0x8a0)]===_0x2efd0f[_0x134fdb(0x1f9)]):_0x132351=this[_0x134fdb(0x6cf)]['flows']['find'](_0x1f788d=>_0x1f788d[_0x134fdb(0x1f9)]===_0x2efd0f[_0x134fdb(0x1f9)]),!_0x132351)throw this[_0x134fdb(0x23d)][_0x134fdb(0x990)](this[_0x134fdb(0x259)]+'\x20('+this[_0x134fdb(0x339)][_0x134fdb(0x988)]+_0x134fdb(0x500)+_0x2efd0f[_0x134fdb(0x1f9)]+_0x134fdb(0x98a)),new m(_0x134fdb(0x9a7));let _0x3e9e4d=await this[_0x134fdb(0x89f)][_0x134fdb(0x1fc)]['findOne']({'where':{'_id':_0x132351[_0x134fdb(0x8a0)]}});if(!_0x3e9e4d||!_0x3e9e4d['whoCanUse']?.[_0x134fdb(0x681)](this[_0x134fdb(0x339)][_0x134fdb(0x988)]))throw this[_0x134fdb(0x23d)][_0x134fdb(0x61d)](this[_0x134fdb(0x259)]+'\x20('+this['instance']['wuid']+_0x134fdb(0x858)+_0x132351[_0x134fdb(0x8a0)]+_0x134fdb(0x432)),_0x4060bd=_0x134fdb(0x74a)+_0x132351[_0x134fdb(0x8a0)]+_0x134fdb(0x432),new m(_0x4060bd);let _0x3d51c9=await this[_0x134fdb(0x762)](_0x3e9e4d,_0x58398a[_0x134fdb(0x7e1)],_0x2efd0f[_0x134fdb(0x647)]);if(_0x3d51c9){this['logger'][_0x134fdb(0x990)](this[_0x134fdb(0x259)]+'\x20('+this[_0x134fdb(0x339)][_0x134fdb(0x988)]+_0x134fdb(0x7fb));let _0x147d6e=await this[_0x134fdb(0x984)](_0x3d51c9);return _0x147d6e&&await this[_0x134fdb(0x781)](_0x3d51c9,_0x147d6e),{'message':_0x134fdb(0x5e6)+_0x2efd0f['remoteJid']};}}catch(_0x47fe01){if(this[_0x134fdb(0x23d)][_0x134fdb(0x61d)](this[_0x134fdb(0x259)]+'\x20('+this['instance'][_0x134fdb(0x988)]+_0x134fdb(0x4b0)+(_0x47fe01 instanceof Error?_0x47fe01['message']:JSON[_0x134fdb(0x565)](_0x47fe01,null,0x2))),_0x4060bd=_0x47fe01 instanceof Error?_0x47fe01['message']:JSON[_0x134fdb(0x565)](_0x47fe01,null,0x2),_0x4060bd)throw new m(_0x134fdb(0x3b6)+_0x4060bd);}}async[a0_0x1c3883(0x6e3)](_0x5ebdf7,_0x5b83d3,_0x30d6a8){const _0x39c523=a0_0x1c3883;let _0x2f4fa0=null;try{if(!this[_0x39c523(0x6cf)]?.['flowConfig'][_0x39c523(0x242)])throw new m('Fluxos\x20não\x20estão\x20ativados');if(this[_0x39c523(0x23d)][_0x39c523(0x990)](this[_0x39c523(0x259)]+'\x20('+this['instance'][_0x39c523(0x988)]+'):\x20Iniciando\x20bot...'),_0x5b83d3){let _0x1be99b=(await this['whatsappNumber']({'numbers':[_0x5b83d3]}))[0x0];if(!_0x1be99b[_0x39c523(0x689)]&&!(0x0,w[_0x39c523(0x5fe)])(_0x1be99b[_0x39c523(0x7e1)])&&!_0x1be99b[_0x39c523(0x7e1)][_0x39c523(0x681)](_0x39c523(0x5da)))throw _0x2f4fa0=JSON[_0x39c523(0x565)](_0x1be99b,null,0x2),new m(_0x1be99b);_0x5b83d3=_0x1be99b[_0x39c523(0x7e1)];}else _0x5b83d3||(_0x5b83d3=(0x0,Q['v4'])());let _0x4531f9=await this[_0x39c523(0x89f)][_0x39c523(0x1fc)]['findOne']({'where':{'_id':_0x5ebdf7}});if(!_0x4531f9||!_0x4531f9['whoCanUse']?.[_0x39c523(0x681)](this[_0x39c523(0x339)][_0x39c523(0x988)]))throw this['logger'][_0x39c523(0x61d)](this[_0x39c523(0x259)]+'\x20('+this[_0x39c523(0x339)]['wuid']+_0x39c523(0x858)+_0x5ebdf7+_0x39c523(0x432)),new m(_0x39c523(0x74a)+_0x5ebdf7+_0x39c523(0x432));let _0x408814=await this[_0x39c523(0x762)](_0x4531f9,_0x5b83d3,null);if(_0x408814){this[_0x39c523(0x23d)]['verbose'](this[_0x39c523(0x259)]+'\x20('+this[_0x39c523(0x339)]['wuid']+_0x39c523(0x2bb));let _0x19f224;if(_0x30d6a8){let _0x49b3dd=_0x408814[_0x39c523(0x427)][_0x39c523(0x78a)],_0x9f7dca=this['flattenObject'](_0x30d6a8);Object[_0x39c523(0x515)](_0x49b3dd,_0x9f7dca),_0x408814[_0x39c523(0x427)]['realVariables']=_0x49b3dd,_0x19f224={'error':!0x1,'apiResponse':_0x30d6a8};}let _0x4eea67=await this[_0x39c523(0x984)](_0x408814);return _0x4eea67&&await this[_0x39c523(0x781)](_0x408814,_0x4eea67),{'message':_0x39c523(0x51b)};}}catch(_0x3f9604){if(this[_0x39c523(0x23d)][_0x39c523(0x61d)](this['instanceName']+'\x20('+this[_0x39c523(0x339)][_0x39c523(0x988)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x3f9604 instanceof Error?_0x3f9604['message']:JSON[_0x39c523(0x565)](_0x3f9604,null,0x2))),_0x2f4fa0=_0x3f9604 instanceof Error?_0x3f9604['message']:JSON[_0x39c523(0x565)](_0x3f9604,null,0x2),_0x2f4fa0)throw new m(_0x39c523(0x3b6)+_0x2f4fa0);}}async['closeExistingConversations'](_0x42b1cb){const _0x57fe42=a0_0x1c3883;try{let _0x3ab7ce={'remoteJid':_0x42b1cb,'status':_0x57fe42(0x7e9)},_0xba6339={'status':'closed'},_0x2fab6a=await this[_0x57fe42(0x89f)][_0x57fe42(0x3dd)][_0x57fe42(0x286)](_0x3ab7ce,_0xba6339,this[_0x57fe42(0x339)][_0x57fe42(0x988)]);return this['logger'][_0x57fe42(0x990)](this[_0x57fe42(0x259)]+'\x20('+this[_0x57fe42(0x339)]['wuid']+_0x57fe42(0x5d5)),_0x2fab6a;}catch(_0x21bf2e){throw this[_0x57fe42(0x23d)][_0x57fe42(0x61d)](this['instanceName']+'\x20('+this[_0x57fe42(0x339)]['wuid']+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x21bf2e['message']),_0x21bf2e;}}async[a0_0x1c3883(0x762)](_0x3b2a2d,_0x2d9462,_0x27e5e9){const _0x57c3f2=a0_0x1c3883;this[_0x57c3f2(0x23d)][_0x57c3f2(0x990)](this[_0x57c3f2(0x259)]+'\x20('+this[_0x57c3f2(0x339)]['wuid']+_0x57c3f2(0x2dd)),await this[_0x57c3f2(0x25a)](_0x2d9462);try{let _0x1aff84=require('mongodb')[_0x57c3f2(0x8f5)],_0x5ce1cf=Date[_0x57c3f2(0x7e8)](),_0x4fe9a3='start',_0x3dbc6e={},_0x547dbb={},_0xd6557d=this[_0x57c3f2(0x6cf)][_0x57c3f2(0x7ea)][_0x57c3f2(0x571)](_0x14b62c=>_0x14b62c[_0x57c3f2(0x8a0)]===_0x3b2a2d[_0x57c3f2(0x8a0)]?.[_0x57c3f2(0x25c)]()),_0x23e2fd=_0xd6557d?.[_0x57c3f2(0x8d8)]??_0x3b2a2d[_0x57c3f2(0x8d8)]??0x0,_0x127bf7=_0xd6557d?.[_0x57c3f2(0x7d3)]??_0x3b2a2d[_0x57c3f2(0x7d3)]??!0x1,_0x2b7907={'flowId':_0x3b2a2d[_0x57c3f2(0x8a0)],..._0x3b2a2d,'chatLog':null},_0x1fac4e=await this[_0x57c3f2(0x244)](_0x2b7907[_0x57c3f2(0x551)]),_0x341793=await this[_0x57c3f2(0x2d7)](_0x2d9462),_0xf1a143={..._0x1fac4e,..._0x341793,'_remoteJid':_0x2d9462},_0x98d2b6={'lastReceivedMessage':_0x3dbc6e,'lastSendMessage':_0x547dbb,'lastBlockId':_0x4fe9a3,'lastCondition':!0x0,'realVariables':_0xf1a143};_0x2b7907[_0x57c3f2(0x427)]=_0x98d2b6,_0x2b7907[_0x57c3f2(0x427)]['realVariables']={..._0xf1a143,..._0x27e5e9},delete _0x2b7907['_id'],_0x2b7907[_0x57c3f2(0x8a0)]=new _0x1aff84(),_0x2b7907[_0x57c3f2(0x683)]=_0x5ce1cf,_0x2b7907['status']='open',_0x2b7907[_0x57c3f2(0x8f4)]=_0x2d9462,_0x2b7907['minutesToClose']=_0x23e2fd,_0x2b7907[_0x57c3f2(0x7d3)]=_0x127bf7,_0x2b7907[_0x57c3f2(0x8a0)]=_0x3b2a2d[_0x57c3f2(0x8a0)];let _0x580210=await this[_0x57c3f2(0x89f)][_0x57c3f2(0x3dd)][_0x57c3f2(0x3e7)](_0x2b7907[_0x57c3f2(0x8a0)],_0x2b7907,this['instance'][_0x57c3f2(0x988)]);return this['logger'][_0x57c3f2(0x990)](this[_0x57c3f2(0x259)]+'\x20('+this[_0x57c3f2(0x339)][_0x57c3f2(0x988)]+_0x57c3f2(0x2b8)),_0x580210?_0x2b7907:null;}catch(_0x21b3a4){let _0xd8d2c8=_0x57c3f2(0x6f9),_0x48dadf=_0x21b3a4 instanceof Error?_0x21b3a4[_0x57c3f2(0x535)]:typeof _0x21b3a4==_0x57c3f2(0x20d)?JSON[_0x57c3f2(0x565)](_0x21b3a4):_0x21b3a4,_0x8e86f5=_0xd8d2c8+':\x20'+_0x48dadf;throw this[_0x57c3f2(0x23d)]['error'](this[_0x57c3f2(0x259)]+'\x20('+this[_0x57c3f2(0x339)][_0x57c3f2(0x988)]+'):\x20'+_0x8e86f5),new m(_0x8e86f5);}}async[a0_0x1c3883(0x8f6)](_0x509354){const _0x2c228d=a0_0x1c3883;try{this[_0x2c228d(0x23d)]['verbose'](this[_0x2c228d(0x259)]+'\x20('+this[_0x2c228d(0x339)][_0x2c228d(0x988)]+_0x2c228d(0x272)),this[_0x2c228d(0x23d)][_0x2c228d(0x990)](this['instanceName']+'\x20('+this[_0x2c228d(0x339)][_0x2c228d(0x988)]+'):\x20Query\x20params:\x20'+_0x509354);let _0x1058c3={'where':{'_id':_0x509354}};return await this[_0x2c228d(0x89f)]['flowConversation'][_0x2c228d(0x213)](_0x1058c3,this[_0x2c228d(0x339)][_0x2c228d(0x988)]);}catch(_0x1aeb61){let _0x591f31=_0x2c228d(0x717),_0x2ee6a1=_0x1aeb61 instanceof Error?_0x1aeb61[_0x2c228d(0x535)]:typeof _0x1aeb61==_0x2c228d(0x20d)?JSON[_0x2c228d(0x565)](_0x1aeb61):_0x1aeb61,_0x496d03=_0x591f31+':\x20'+_0x2ee6a1;throw this[_0x2c228d(0x23d)][_0x2c228d(0x61d)](this[_0x2c228d(0x259)]+'\x20('+this[_0x2c228d(0x339)][_0x2c228d(0x988)]+_0x2c228d(0x93d)+_0x496d03),new m(_0x496d03);}}async[a0_0x1c3883(0x595)](_0x4daee8){const _0x9363c3=a0_0x1c3883;try{return this[_0x9363c3(0x23d)][_0x9363c3(0x990)](this['instanceName']+'\x20('+this['instance'][_0x9363c3(0x988)]+_0x9363c3(0x252)),await this[_0x9363c3(0x89f)][_0x9363c3(0x3dd)][_0x9363c3(0x571)](_0x4daee8,this[_0x9363c3(0x339)][_0x9363c3(0x988)]);}catch(_0x50e6db){let _0x6b50=_0x9363c3(0x3c9),_0x32ee69=_0x50e6db instanceof Error?_0x50e6db[_0x9363c3(0x535)]:typeof _0x50e6db=='object'?JSON[_0x9363c3(0x565)](_0x50e6db):_0x50e6db,_0x297380=_0x6b50+':\x20'+_0x32ee69;throw this[_0x9363c3(0x23d)][_0x9363c3(0x61d)](this[_0x9363c3(0x259)]+'\x20('+this['instance'][_0x9363c3(0x988)]+_0x9363c3(0x93d)+_0x297380),new m(_0x297380);}}async[a0_0x1c3883(0x340)](_0xcf7f1){const _0x7d2aa4=a0_0x1c3883;try{return this[_0x7d2aa4(0x23d)]['verbose'](this[_0x7d2aa4(0x259)]+'\x20('+this[_0x7d2aa4(0x339)][_0x7d2aa4(0x988)]+_0x7d2aa4(0x703)),this[_0x7d2aa4(0x23d)][_0x7d2aa4(0x990)](this[_0x7d2aa4(0x259)]+'\x20('+this[_0x7d2aa4(0x339)][_0x7d2aa4(0x988)]+_0x7d2aa4(0x42f)+_0xcf7f1),(await this[_0x7d2aa4(0x89f)][_0x7d2aa4(0x3dd)][_0x7d2aa4(0x2af)]({'where':{'_id':_0xcf7f1[_0x7d2aa4(0x8a0)]}},this[_0x7d2aa4(0x339)][_0x7d2aa4(0x988)]))[_0x7d2aa4(0x40b)]===0x0?{'message':_0x7d2aa4(0x8fa)}:{'message':_0x7d2aa4(0x317)};}catch(_0x180199){let _0x313613=_0x7d2aa4(0x218),_0x1bd65d=_0x180199 instanceof Error?_0x180199['message']:typeof _0x180199==_0x7d2aa4(0x20d)?JSON['stringify'](_0x180199):_0x180199,_0x363278=_0x313613+':\x20'+_0x1bd65d;throw this['logger'][_0x7d2aa4(0x61d)](this['instanceName']+'\x20('+this['instance'][_0x7d2aa4(0x988)]+'):\x20'+_0x363278),new m(_0x363278);}}async['editConversation'](_0x7a2b32){const _0x90a864=a0_0x1c3883;try{let {_id:_0x58831c,chatLog:_0x3bd3e5,status:_0x492d28}=_0x7a2b32;if(!_0x58831c)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0x6e1dea={};if(_0x492d28!==void 0x0&&(_0x6e1dea[_0x90a864(0x914)]=_0x492d28),Object[_0x90a864(0x835)](_0x6e1dea)[_0x90a864(0x868)]===0x0)return{'message':_0x90a864(0x32a)};let _0x2e1025=await this[_0x90a864(0x89f)][_0x90a864(0x3dd)][_0x90a864(0x3e7)](_0x58831c,_0x6e1dea,this['instance'][_0x90a864(0x988)]);return _0x2e1025||{'message':_0x90a864(0x6dc)};}catch(_0x2aaa3f){let _0x45d0cb='Erro\x20ao\x20editar\x20a\x20conversa',_0xbd2d93=_0x2aaa3f instanceof Error?_0x2aaa3f[_0x90a864(0x535)]:typeof _0x2aaa3f=='object'?JSON['stringify'](_0x2aaa3f):_0x2aaa3f,_0x90a2a1=_0x45d0cb+':\x20'+_0xbd2d93;throw this[_0x90a864(0x23d)][_0x90a864(0x61d)](this[_0x90a864(0x259)]+'\x20('+this[_0x90a864(0x339)][_0x90a864(0x988)]+'):\x20'+_0x90a2a1),new m(_0x90a2a1);}}async['editChat'](_0x1d797e){const _0x158f30=a0_0x1c3883;try{_0x1d797e[_0x158f30(0x8a0)]=this[_0x158f30(0x346)](_0x1d797e[_0x158f30(0x8a0)]);let _0x42787a=await this[_0x158f30(0x89f)][_0x158f30(0x874)][_0x158f30(0x213)]({'where':{'_id':_0x1d797e[_0x158f30(0x8a0)]}},this['instance'][_0x158f30(0x988)]);if(!_0x42787a)throw new m(_0x158f30(0x5a4));let {_id:_0x10dce5,leadInfo:_0x19af0a}=_0x1d797e;if(!_0x10dce5)throw new Error(_0x158f30(0x36f));if(_0x1d797e[_0x158f30(0x6c2)]===_0x158f30(0x200))return await this['deleteChat'](_0x1d797e[_0x158f30(0x8a0)]),await this[_0x158f30(0x89f)][_0x158f30(0x874)][_0x158f30(0x6c2)]({'where':{'_id':_0x1d797e[_0x158f30(0x8a0)]}},this[_0x158f30(0x339)][_0x158f30(0x988)]),await this['repository'][_0x158f30(0x535)][_0x158f30(0x6c2)]({'where':{'key':{'remoteJid':_0x1d797e['_id']}}},this['instance'][_0x158f30(0x988)]),_0x1d797e=await this[_0x158f30(0x89f)][_0x158f30(0x874)][_0x158f30(0x3e7)]({'where':{'_id':_0x1d797e[_0x158f30(0x8a0)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x158f30(0x339)]['wuid']),F(this[_0x158f30(0x259)],_0x158f30(0x4e8),{'chat':_0x1d797e}),{'message':_0x158f30(0x95a)};if(_0x1d797e['delete']==='messages')return await this[_0x158f30(0x89f)]['message'][_0x158f30(0x6c2)]({'where':{'key':{'remoteJid':_0x1d797e[_0x158f30(0x8a0)]}}},this['instance']['wuid']),_0x1d797e=await this[_0x158f30(0x89f)][_0x158f30(0x874)]['updateOne']({'where':{'_id':_0x1d797e['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x158f30(0x339)][_0x158f30(0x988)]),F(this[_0x158f30(0x259)],'chats',{'chat':_0x1d797e}),{'message':_0x158f30(0x6ed)};let _0x333535=(_0x5dcd3b,_0xbe4df1,_0x599f24)=>{const _0x30b10e=_0x158f30;_0x5dcd3b&&_0x599f24[_0x30b10e(0x33d)](_0x1dcf93=>{const _0x1d5ca1=_0x30b10e;_0x5dcd3b[_0x1dcf93]!==void 0x0&&(_0xbe4df1[_0x1d5ca1(0x50b)+_0x1dcf93]=_0x5dcd3b[_0x1dcf93]);});},_0x3d386b={};if(_0x158f30(0x631)in _0x1d797e&&(this['logger'][_0x158f30(0x990)](this['instanceName']+'\x20('+this[_0x158f30(0x339)][_0x158f30(0x988)]+_0x158f30(0x35b)+_0x1d797e[_0x158f30(0x8a0)]),_0x1d797e[_0x158f30(0x631)]=_0x1d797e[_0x158f30(0x631)]===0x0?null:-0x1,await this[_0x158f30(0x8d0)][_0x158f30(0x288)]({'mute':_0x1d797e[_0x158f30(0x631)]},_0x1d797e['_id']),_0x3d386b[_0x158f30(0x631)]=Number(_0x1d797e[_0x158f30(0x631)])),_0x19af0a&&(_0x333535(_0x19af0a,_0x3d386b,[_0x158f30(0x403),_0x158f30(0x3e2),_0x158f30(0x235),'cpf',_0x158f30(0x914),_0x158f30(0x208),_0x158f30(0x3b0),_0x158f30(0x459),_0x158f30(0x503),_0x158f30(0x4d3),_0x158f30(0x92e)]),Array[_0x158f30(0x37b)](_0x19af0a['customFields'])&&(_0x3d386b[_0x158f30(0x256)]=_0x19af0a[_0x158f30(0x502)][_0x158f30(0x4ac)](_0x53ce32=>({'_id':_0x53ce32[_0x158f30(0x8a0)],'value':_0x53ce32[_0x158f30(0x944)]}))),_0x1d797e[_0x158f30(0x53d)][_0x158f30(0x4d3)]!==void 0x0)){let _0x4ac85c=await this['repository'][_0x158f30(0x67e)]['find']({'where':{}},this[_0x158f30(0x339)]['wuid']),_0x45eae0=new Set(_0x1d797e[_0x158f30(0x53d)][_0x158f30(0x4d3)]||[]),_0x3e67ce=new Set(_0x1d797e['leadInfo']['etiquetas']),_0x43585c=new Set(_0x4ac85c[_0x158f30(0x4ac)](_0x25d705=>_0x25d705['_id'])),_0x5e5427=[..._0x3e67ce][_0x158f30(0x8cd)](_0x104c0f=>!_0x45eae0[_0x158f30(0x59b)](_0x104c0f)&&_0x43585c[_0x158f30(0x59b)](_0x104c0f)),_0x73a5b6=[..._0x45eae0][_0x158f30(0x8cd)](_0x9a8c24=>!_0x3e67ce[_0x158f30(0x59b)](_0x9a8c24));if(_0x3d386b[_0x158f30(0x730)]=[..._0x45eae0],_0x42787a&&!_0x42787a['imported']){for(let _0x488b59 of _0x5e5427)await this[_0x158f30(0x39b)](_0x488b59,_0x1d797e[_0x158f30(0x8a0)]),_0x45eae0[_0x158f30(0x3ca)](_0x488b59);for(let _0x594e1f of _0x73a5b6)await this[_0x158f30(0x698)](_0x594e1f,_0x1d797e[_0x158f30(0x8a0)]),_0x45eae0[_0x158f30(0x6c2)](_0x594e1f);}}if(_0x1d797e[_0x158f30(0x5ad)]!==void 0x0&&(_0x3d386b[_0x158f30(0x5ad)]=Number(_0x1d797e[_0x158f30(0x5ad)])),Object['keys'](_0x3d386b)[_0x158f30(0x868)]===0x0)throw new Error(_0x158f30(0x32a));let _0x5733b0=await this[_0x158f30(0x89f)][_0x158f30(0x874)]['updateOne']({'where':{'_id':_0x1d797e[_0x158f30(0x8a0)]}},_0x3d386b,this[_0x158f30(0x339)]['wuid']);return _0x5733b0&&F(this[_0x158f30(0x259)],_0x158f30(0x4e8),{'chat':_0x5733b0}),_0x5733b0?(this['logger']['verbose'](this[_0x158f30(0x259)]+'\x20('+this['instance'][_0x158f30(0x988)]+'):\x20'+JSON['stringify'](_0x5733b0,null,0x2)),_0x5733b0):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x4ed049){let _0x7a312=_0x158f30(0x7b2),_0x14736b=_0x4ed049 instanceof Error?_0x4ed049[_0x158f30(0x535)]:typeof _0x4ed049==_0x158f30(0x20d)?JSON[_0x158f30(0x565)](_0x4ed049):_0x4ed049,_0x5a5970=_0x7a312+':\x20'+_0x14736b;throw this[_0x158f30(0x23d)]['error'](this[_0x158f30(0x259)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x5a5970),new m(_0x5a5970);}}async[a0_0x1c3883(0x39b)](_0x59e63c,_0x3280cd){const _0x2194c4=a0_0x1c3883;try{await this['client']['addChatLabel'](_0x3280cd,_0x59e63c),this[_0x2194c4(0x23d)][_0x2194c4(0x495)](this[_0x2194c4(0x259)]+'\x20('+this['instance'][_0x2194c4(0x988)]+'):\x20Label\x20'+_0x59e63c+_0x2194c4(0x350)+_0x3280cd+_0x2194c4(0x95d));}catch(_0x48ba88){this[_0x2194c4(0x23d)][_0x2194c4(0x61d)](_0x2194c4(0x513)+_0x59e63c+'\x20ao\x20chat\x20'+_0x3280cd+':\x20'+_0x48ba88);}}async[a0_0x1c3883(0x698)](_0x4f45ed,_0x5864f5){const _0x1978fb=a0_0x1c3883;try{await this[_0x1978fb(0x8d0)][_0x1978fb(0x591)](_0x5864f5,_0x4f45ed),this[_0x1978fb(0x23d)][_0x1978fb(0x495)](this[_0x1978fb(0x259)]+'\x20('+this[_0x1978fb(0x339)][_0x1978fb(0x988)]+_0x1978fb(0x68c)+_0x4f45ed+'\x20removido\x20do\x20chat\x20'+_0x5864f5+_0x1978fb(0x95d));}catch(_0x44a7e7){this[_0x1978fb(0x23d)][_0x1978fb(0x61d)](_0x1978fb(0x465)+_0x4f45ed+_0x1978fb(0x93a)+_0x5864f5+':\x20'+_0x44a7e7);}}async[a0_0x1c3883(0x27a)](_0x390ccf){const _0x5bf9a3=a0_0x1c3883;try{let _0x12d989=await this[_0x5bf9a3(0x89f)]['automateSystem']['findOrCreate'](this['instance']['wuid']),_0x284100=_0x390ccf[_0x5bf9a3(0x8a0)]?_0x12d989[_0x5bf9a3(0x84d)][_0x5bf9a3(0x8d4)](_0x20eabd=>_0x20eabd['_id']===_0x390ccf[_0x5bf9a3(0x8a0)]):-0x1;if(_0x390ccf[_0x5bf9a3(0x6c2)]&&_0x284100>-0x1)_0x12d989[_0x5bf9a3(0x84d)]['splice'](_0x284100,0x1);else{if(_0x284100>-0x1){let _0x236475=_0x12d989['agents'][_0x284100];_0x390ccf['fone']&&(_0x236475[_0x5bf9a3(0x3be)]=_0x390ccf['fone']),_0x390ccf[_0x5bf9a3(0x1f9)]&&(_0x236475['name']=_0x390ccf[_0x5bf9a3(0x1f9)]),_0x390ccf[_0x5bf9a3(0x235)]&&(_0x236475[_0x5bf9a3(0x235)]=_0x390ccf[_0x5bf9a3(0x235)]),_0x390ccf[_0x5bf9a3(0x262)]&&(_0x236475['role']=_0x390ccf[_0x5bf9a3(0x262)]);}else _0x12d989['agents'][_0x5bf9a3(0x706)]({'_id':_0x390ccf[_0x5bf9a3(0x8a0)]||new pe[(_0x5bf9a3(0x460))]['Types'][(_0x5bf9a3(0x8f5))]()['toString'](),'fone':_0x390ccf[_0x5bf9a3(0x3be)],'name':_0x390ccf[_0x5bf9a3(0x1f9)],'email':_0x390ccf[_0x5bf9a3(0x235)],'role':_0x390ccf['role']});}let _0x38bd68={'agents':_0x12d989[_0x5bf9a3(0x84d)]},_0x5f0ee2=await this['repository'][_0x5bf9a3(0x4b6)][_0x5bf9a3(0x4f3)](_0x38bd68,this[_0x5bf9a3(0x339)][_0x5bf9a3(0x988)]);return this['AutomateSystem']=_0x5f0ee2,this[_0x5bf9a3(0x23d)][_0x5bf9a3(0x990)](this[_0x5bf9a3(0x259)]+'\x20('+this[_0x5bf9a3(0x339)][_0x5bf9a3(0x988)]+_0x5bf9a3(0x8b1)),this[_0x5bf9a3(0x23d)]['verbose'](this[_0x5bf9a3(0x259)]+'\x20('+this['instance'][_0x5bf9a3(0x988)]+_0x5bf9a3(0x93d)+this[_0x5bf9a3(0x6cf)]),_0x5f0ee2;}catch(_0x8e947){let _0x238a36=_0x5bf9a3(0x643),_0x5334ec=_0x8e947 instanceof Error?_0x8e947[_0x5bf9a3(0x535)]:typeof _0x8e947==_0x5bf9a3(0x20d)?JSON['stringify'](_0x8e947):_0x8e947,_0x5f28aa=_0x238a36+':\x20'+_0x5334ec;throw this[_0x5bf9a3(0x23d)][_0x5bf9a3(0x61d)](this[_0x5bf9a3(0x259)]+'\x20('+this[_0x5bf9a3(0x339)][_0x5bf9a3(0x988)]+_0x5bf9a3(0x93d)+_0x5f28aa),new m(_0x5f28aa);}}async['updateCustomFields'](_0x33cfff){const _0x4a4cdf=a0_0x1c3883;try{let _0x39f2f9=await this[_0x4a4cdf(0x89f)][_0x4a4cdf(0x4b6)][_0x4a4cdf(0x54d)](this[_0x4a4cdf(0x339)][_0x4a4cdf(0x988)]),_0xefa1d7=_0x33cfff[_0x4a4cdf(0x8a0)]?_0x39f2f9[_0x4a4cdf(0x502)][_0x4a4cdf(0x8d4)](_0x1e5daa=>_0x1e5daa[_0x4a4cdf(0x8a0)]===_0x33cfff[_0x4a4cdf(0x8a0)]):-0x1,_0x469c68=!0x1,_0x76006e=_0x39f2f9[_0x4a4cdf(0x502)][_0x4a4cdf(0x7e0)](_0x43d3d2=>_0x43d3d2[_0x4a4cdf(0x979)]===_0x33cfff[_0x4a4cdf(0x979)]);if(_0x33cfff['delete']&&_0xefa1d7>-0x1)_0x39f2f9['customFields'][_0x4a4cdf(0x8dc)](_0xefa1d7,0x1),_0x469c68=!0x0;else{if(_0xefa1d7>-0x1){if(_0x39f2f9[_0x4a4cdf(0x502)][_0x4a4cdf(0x7e0)](_0x187ed3=>_0x187ed3[_0x4a4cdf(0x1f9)]===_0x33cfff[_0x4a4cdf(0x1f9)]&&_0x187ed3[_0x4a4cdf(0x8a0)]!==_0x33cfff['_id']))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x18ab3e=_0x39f2f9[_0x4a4cdf(0x502)][_0xefa1d7];_0x33cfff[_0x4a4cdf(0x979)]&&(_0x76006e||!Number[_0x4a4cdf(0x621)](_0x33cfff['order']))&&(_0x18ab3e[_0x4a4cdf(0x979)]=_0x33cfff[_0x4a4cdf(0x979)],_0x469c68=!0x0),_0x33cfff[_0x4a4cdf(0x1f9)]&&(_0x18ab3e[_0x4a4cdf(0x1f9)]=_0x33cfff[_0x4a4cdf(0x1f9)]);}else{if(_0x39f2f9[_0x4a4cdf(0x502)][_0x4a4cdf(0x7e0)](_0x5d74e5=>_0x5d74e5[_0x4a4cdf(0x1f9)]===_0x33cfff[_0x4a4cdf(0x1f9)]&&_0x5d74e5[_0x4a4cdf(0x8a0)]!==_0x33cfff[_0x4a4cdf(0x8a0)]))throw new Error(_0x4a4cdf(0x8e3));_0x39f2f9[_0x4a4cdf(0x502)]['push']({'_id':_0x33cfff[_0x4a4cdf(0x8a0)]||new pe[(_0x4a4cdf(0x460))]['Types'][(_0x4a4cdf(0x8f5))]()[_0x4a4cdf(0x25c)](),'order':_0x33cfff[_0x4a4cdf(0x979)],'name':_0x33cfff[_0x4a4cdf(0x1f9)]}),_0x469c68=!0x0;}}if(_0x469c68){_0x39f2f9[_0x4a4cdf(0x502)][_0x4a4cdf(0x90e)]((_0x340216,_0x42dc11)=>_0x340216[_0x4a4cdf(0x979)]>_0x42dc11[_0x4a4cdf(0x979)]?0x1:_0x42dc11[_0x4a4cdf(0x979)]>_0x340216['order']?-0x1:0x0);for(let _0x2d43a0=0x0;_0x2d43a0<_0x39f2f9[_0x4a4cdf(0x502)][_0x4a4cdf(0x868)];_0x2d43a0++)_0x39f2f9[_0x4a4cdf(0x502)][_0x2d43a0][_0x4a4cdf(0x979)]=_0x2d43a0+0x1;}let _0x82affa=await this['repository']['automateSystem'][_0x4a4cdf(0x4f3)](_0x39f2f9,this[_0x4a4cdf(0x339)]['wuid']);return this['AutomateSystem']=_0x82affa,this['logger'][_0x4a4cdf(0x990)](this[_0x4a4cdf(0x259)]+'\x20('+this[_0x4a4cdf(0x339)][_0x4a4cdf(0x988)]+_0x4a4cdf(0x2dc)),this[_0x4a4cdf(0x23d)][_0x4a4cdf(0x990)](this[_0x4a4cdf(0x259)]+'\x20('+this['instance'][_0x4a4cdf(0x988)]+'):\x20'+this[_0x4a4cdf(0x6cf)]),_0x82affa;}catch(_0xfabaa8){let _0x488ea3=_0x4a4cdf(0x8ba),_0x2c7a1e=_0xfabaa8 instanceof Error?_0xfabaa8[_0x4a4cdf(0x535)]:typeof _0xfabaa8==_0x4a4cdf(0x20d)?JSON['stringify'](_0xfabaa8):_0xfabaa8,_0x150c40=_0x488ea3+':\x20'+_0x2c7a1e;throw this[_0x4a4cdf(0x23d)][_0x4a4cdf(0x61d)](this[_0x4a4cdf(0x259)]+'\x20('+this[_0x4a4cdf(0x339)][_0x4a4cdf(0x988)]+_0x4a4cdf(0x93d)+_0x150c40),new m(_0x150c40);}}async['updateAutoCompleteMessages'](_0x27a3e3){const _0x23bf0c=a0_0x1c3883;try{let _0x24da99=await this[_0x23bf0c(0x89f)][_0x23bf0c(0x4b6)][_0x23bf0c(0x54d)](this[_0x23bf0c(0x339)]['wuid']),_0x845c7f=_0x24da99?.[_0x23bf0c(0x420)]?.[_0x23bf0c(0x8d4)](_0x3ba638=>_0x3ba638[_0x23bf0c(0x8a0)]===_0x27a3e3?.['_id']);if(_0x27a3e3?.[_0x23bf0c(0x6c2)])_0x845c7f>-0x1&&_0x24da99?.[_0x23bf0c(0x420)]?.[_0x23bf0c(0x8dc)](_0x845c7f,0x1);else{if(_0x845c7f>-0x1){let _0x21c84d=_0x24da99[_0x23bf0c(0x420)][_0x845c7f];_0x21c84d[_0x23bf0c(0x979)]=_0x27a3e3?.[_0x23bf0c(0x979)]||_0x21c84d[_0x23bf0c(0x979)],_0x21c84d['command']=_0x27a3e3?.[_0x23bf0c(0x27e)]||_0x21c84d[_0x23bf0c(0x27e)],_0x21c84d[_0x23bf0c(0x535)]=_0x27a3e3?.[_0x23bf0c(0x535)]||_0x21c84d['message'];}else{let _0x4fcb15={'_id':_0x27a3e3?.[_0x23bf0c(0x8a0)]||new pe[(_0x23bf0c(0x460))][(_0x23bf0c(0x9a0))][(_0x23bf0c(0x8f5))]()[_0x23bf0c(0x25c)](),'order':_0x27a3e3?.[_0x23bf0c(0x979)],'command':_0x27a3e3?.[_0x23bf0c(0x27e)],'message':_0x27a3e3?.[_0x23bf0c(0x535)]};_0x24da99?.[_0x23bf0c(0x420)]?.[_0x23bf0c(0x706)](_0x4fcb15);}}_0x24da99?.[_0x23bf0c(0x420)]?.[_0x23bf0c(0x90e)]((_0x370d50,_0x6f2c26)=>_0x370d50[_0x23bf0c(0x979)]-_0x6f2c26[_0x23bf0c(0x979)]);let _0x21c49b=await this[_0x23bf0c(0x89f)][_0x23bf0c(0x4b6)][_0x23bf0c(0x4f3)](_0x24da99,this[_0x23bf0c(0x339)][_0x23bf0c(0x988)]);return this[_0x23bf0c(0x6cf)]=_0x21c49b,this[_0x23bf0c(0x23d)][_0x23bf0c(0x990)](this[_0x23bf0c(0x259)]+'\x20('+this[_0x23bf0c(0x339)]['wuid']+'):\x20debug\x20alterando\x20this.AutomateSystem'),_0x21c49b;}catch(_0x13bd8f){let _0x117573=_0x23bf0c(0x96a),_0x3f778f=_0x13bd8f instanceof Error?_0x13bd8f[_0x23bf0c(0x535)]:typeof _0x13bd8f=='object'?JSON[_0x23bf0c(0x565)](_0x13bd8f):_0x13bd8f,_0x7f20a4=_0x117573+':\x20'+_0x3f778f;throw this[_0x23bf0c(0x23d)]['error'](this[_0x23bf0c(0x259)]+'\x20('+this[_0x23bf0c(0x339)][_0x23bf0c(0x988)]+_0x23bf0c(0x93d)+_0x7f20a4),new m(_0x7f20a4);}}async[a0_0x1c3883(0x85a)](_0x1146c7){const _0x1ff200=a0_0x1c3883;try{let _0x4b029d=await this[_0x1ff200(0x89f)][_0x1ff200(0x4b6)]['findOrCreate'](this['instance']['wuid']);if(!_0x4b029d)throw new Error(_0x1ff200(0x5b5));let _0x4e7f94={'_id':_0x4b029d[_0x1ff200(0x8a0)],'flowConfig':{'enabled':_0x1146c7['enabled']??_0x4b029d[_0x1ff200(0x469)][_0x1ff200(0x242)],'ignoreGroups':_0x1146c7[_0x1ff200(0x679)]??_0x4b029d[_0x1ff200(0x469)]['ignoreGroups'],'stopConversation':_0x1146c7[_0x1ff200(0x712)][_0x1ff200(0x987)]()??_0x4b029d[_0x1ff200(0x469)][_0x1ff200(0x712)][_0x1ff200(0x987)](),'stopMinutes':_0x1146c7['stopMinutes']??_0x4b029d['flowConfig']['stopMinutes'],'stopWhenYouSendMsg':_0x1146c7['stopWhenYouSendMsg']??_0x4b029d[_0x1ff200(0x469)][_0x1ff200(0x7c7)]}},_0x310637=await this[_0x1ff200(0x89f)][_0x1ff200(0x4b6)][_0x1ff200(0x4f3)](_0x4e7f94,this[_0x1ff200(0x339)][_0x1ff200(0x988)]);return this[_0x1ff200(0x6cf)]=_0x310637,this[_0x1ff200(0x23d)]['verbose'](this[_0x1ff200(0x259)]+'\x20('+this[_0x1ff200(0x339)]['wuid']+_0x1ff200(0x8b1)),this[_0x1ff200(0x23d)][_0x1ff200(0x990)](this[_0x1ff200(0x259)]+'\x20('+this[_0x1ff200(0x339)][_0x1ff200(0x988)]+_0x1ff200(0x93d)+this['AutomateSystem']),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x310637;}catch(_0x48abb0){let _0x3586b6=_0x1ff200(0x2fa),_0x52714d=_0x48abb0 instanceof Error?_0x48abb0[_0x1ff200(0x535)]:typeof _0x48abb0==_0x1ff200(0x20d)?JSON[_0x1ff200(0x565)](_0x48abb0):_0x48abb0,_0x231d68=_0x3586b6+':\x20'+_0x52714d;throw this[_0x1ff200(0x23d)][_0x1ff200(0x61d)](this[_0x1ff200(0x259)]+'\x20('+this['instance'][_0x1ff200(0x988)]+_0x1ff200(0x93d)+_0x231d68),new m(_0x231d68);}}async[a0_0x1c3883(0x5e4)](){const _0x2e3f45=a0_0x1c3883;try{let _0x14e220=await this['repository']['automateSystem']['findOrCreate'](this[_0x2e3f45(0x339)][_0x2e3f45(0x988)]);return this[_0x2e3f45(0x6cf)]=_0x14e220,_0x14e220;}catch(_0x540225){let _0xca9c3e=_0x2e3f45(0x36c),_0x49ec84=_0x540225 instanceof Error?_0x540225[_0x2e3f45(0x535)]:typeof _0x540225=='object'?JSON[_0x2e3f45(0x565)](_0x540225):_0x540225,_0x53dbe2=_0xca9c3e+':\x20'+_0x49ec84;throw this[_0x2e3f45(0x23d)]['error'](this[_0x2e3f45(0x259)]+'\x20('+this['instance']['wuid']+_0x2e3f45(0x93d)+_0x53dbe2),new m(_0x53dbe2);}}async[a0_0x1c3883(0x3b7)](){const _0x22409e=a0_0x1c3883;let _0x49a629=(await import('p-queue'))[_0x22409e(0x460)];this['queue']=new _0x49a629({'concurrency':0x1});}async[a0_0x1c3883(0x3c0)](){const _0x2282dc=a0_0x1c3883;this['instance'][_0x2282dc(0x33f)][_0x2282dc(0x4c3)]&&clearTimeout(this['instance'][_0x2282dc(0x33f)][_0x2282dc(0x4c3)]),this[_0x2282dc(0x339)]['ScheduleMessage']['timeout']=setTimeout(()=>{const _0x7c6197=_0x2282dc;this[_0x7c6197(0x4da)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x582401=a0_0x1c3883;let _0x84b2fd=this[_0x582401(0x339)][_0x582401(0x33f)][_0x582401(0x238)];(_0x84b2fd===0x0||_0x84b2fd===null||Date[_0x582401(0x7e8)]()-_0x84b2fd>=0x1d4c0)&&(this[_0x582401(0x23d)]['verbose'](this[_0x582401(0x259)]+'\x20('+this[_0x582401(0x339)][_0x582401(0x988)]+_0x582401(0x78d)),this['instance'][_0x582401(0x33f)]['processingGroup']=null,this[_0x582401(0x339)][_0x582401(0x33f)][_0x582401(0x238)]=0x0,this[_0x582401(0x339)][_0x582401(0x33f)][_0x582401(0x336)]=0x0,await this[_0x582401(0x2eb)]());}async[a0_0x1c3883(0x2eb)](){const _0x38b113=a0_0x1c3883;this[_0x38b113(0x23d)][_0x38b113(0x7b3)](this[_0x38b113(0x259)]+'\x20('+this[_0x38b113(0x339)][_0x38b113(0x988)]+_0x38b113(0x5e3)),await this[_0x38b113(0x895)]();let _0x40bf39=await this[_0x38b113(0x5e1)]();_0x40bf39['length']>0x0&&(setTimeout(()=>this[_0x38b113(0x4da)](),0x14*0x3e8),this['logger'][_0x38b113(0x7b3)](this[_0x38b113(0x259)]+'\x20('+this[_0x38b113(0x339)]['wuid']+_0x38b113(0x2da)),this[_0x38b113(0x448)][_0x38b113(0x8fb)](),this[_0x38b113(0x448)][_0x38b113(0x3ca)](()=>this['processReadyMessages'](_0x40bf39)));let _0x5ab4e8={'where':{'status':_0x38b113(0x3ef),'when':{'$gt':Date['now']()}}},_0x51d636=await this[_0x38b113(0x89f)][_0x38b113(0x943)]['findOne'](_0x5ab4e8,this['instance'][_0x38b113(0x988)]);_0x51d636&&_0x51d636[_0x38b113(0x83c)]-Date[_0x38b113(0x7e8)]()<=0x6ddd00?this[_0x38b113(0x339)][_0x38b113(0x33f)][_0x38b113(0x336)]=_0x51d636[_0x38b113(0x83c)]-Date[_0x38b113(0x7e8)]():this['instance'][_0x38b113(0x33f)][_0x38b113(0x336)]=(0x3c+Math[_0x38b113(0x26a)](Math[_0x38b113(0x8b2)]()*0x3c))*0x3c*0x3e8,this[_0x38b113(0x339)][_0x38b113(0x33f)][_0x38b113(0x336)]=Math[_0x38b113(0x7ed)](this[_0x38b113(0x339)][_0x38b113(0x33f)][_0x38b113(0x336)],0x1*0x2*0x3e8);let _0x57475f=Math[_0x38b113(0x20c)](this['instance']['ScheduleMessage']['delayMessage']/0xea60);if(_0x51d636){let _0x4c4348=new Date(_0x51d636['when'])[_0x38b113(0x37a)]();this[_0x38b113(0x23d)][_0x38b113(0x7b3)](this[_0x38b113(0x259)]+'\x20('+this['instance'][_0x38b113(0x988)]+'):\x20Encontrado\x20próxima\x20mensagem\x20para\x20'+_0x4c4348+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x57475f+_0x38b113(0x7d4));}else this[_0x38b113(0x23d)][_0x38b113(0x7b3)](this[_0x38b113(0x259)]+'\x20('+this[_0x38b113(0x339)][_0x38b113(0x988)]+'):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x57475f+_0x38b113(0x7d4));setTimeout(()=>{const _0x28e2b1=_0x38b113;this[_0x28e2b1(0x2eb)]();},this['instance'][_0x38b113(0x33f)]['delayMessage']);}async[a0_0x1c3883(0x5e1)](){const _0x563be9=a0_0x1c3883;this[_0x563be9(0x23d)][_0x563be9(0x7b3)](this[_0x563be9(0x259)]+'\x20('+this[_0x563be9(0x339)][_0x563be9(0x988)]+'):\x20Procurando\x20PRONTAS\x20mensagens\x20para\x20envio');let _0x5e862c=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x4f2098={'where':{'status':{'$in':[_0x563be9(0x3ef),'sending']},'$or':[{'when':{'$lte':Date[_0x563be9(0x7e8)](),'$gte':_0x5e862c}},{'when':0x0}]}},_0x301664=await this[_0x563be9(0x89f)][_0x563be9(0x943)][_0x563be9(0x571)](_0x4f2098,this[_0x563be9(0x339)][_0x563be9(0x988)]);return this[_0x563be9(0x23d)]['warn'](this['instanceName']+'\x20('+this[_0x563be9(0x339)][_0x563be9(0x988)]+_0x563be9(0x204)+_0x301664[_0x563be9(0x868)]),_0x301664;}async[a0_0x1c3883(0x444)](_0x28bb07){const _0x147c66=a0_0x1c3883;this[_0x147c66(0x23d)]['warn'](this['instanceName']+'\x20('+this['instance'][_0x147c66(0x988)]+_0x147c66(0x921));let _0x58e2f4=0x3*0x3e8,_0x1e59d4=0x8*0x3e8,_0x212542=Math[_0x147c66(0x26a)](Math['random']()*(_0x1e59d4-_0x58e2f4+0x1))+_0x58e2f4,_0xd0590a=()=>this[_0x147c66(0x3a9)][_0x147c66(0x868)]===0x0?null:this[_0x147c66(0x3a9)][_0x147c66(0x4e4)]((_0x38d3bd,_0x456b36)=>(_0x38d3bd[_0x147c66(0x979)]??Number['MAX_SAFE_INTEGER'])<(_0x456b36[_0x147c66(0x979)]??Number[_0x147c66(0x4ef)])?_0x38d3bd:_0x456b36,this['pendingMessages'][0x0]);_0x28bb07=await this[_0x147c66(0x5e1)]();for(let _0x5a8d03 of _0x28bb07){await this[_0x147c66(0x3c0)]();let _0x4c352a=0x3*0x3e8,_0x4b5fc6={'_id':_0x5a8d03['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-_0x4c352a}}]},_0x3b2bfb={'startSend':Date[_0x147c66(0x7e8)](),'status':_0x147c66(0x2b9)},_0x2cd3b9=await this['repository'][_0x147c66(0x943)][_0x147c66(0x3e7)](_0x4b5fc6,_0x3b2bfb,this[_0x147c66(0x339)]['wuid']);if(this['pendingMessages']=_0x2cd3b9[_0x147c66(0x73d)][_0x147c66(0x8cd)](_0x202325=>!_0x202325['triedToSend']),!_0x2cd3b9){setTimeout(()=>this[_0x147c66(0x4da)](),0xa*0x3e8);continue;}if(this[_0x147c66(0x339)]['ScheduleMessage']['processingGroup']=_0x2cd3b9,!this['instance'][_0x147c66(0x33f)]['isConnected']){this[_0x147c66(0x23d)][_0x147c66(0x7b3)](this[_0x147c66(0x259)]+'\x20('+this[_0x147c66(0x339)][_0x147c66(0x988)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}for(;this[_0x147c66(0x3a9)][_0x147c66(0x868)]>0x0;){await this[_0x147c66(0x3c0)]();let _0x15afd8=_0xd0590a();if(!_0x15afd8)break;let _0x2cb25b=_0x5a8d03[_0x147c66(0x73d)][_0x147c66(0x571)](_0x11e9b3=>_0x11e9b3[_0x147c66(0x8a0)]===_0x15afd8['_id']);if(!_0x2cb25b)break;if(this[_0x147c66(0x339)]['ScheduleMessage'][_0x147c66(0x238)]=Date['now'](),_0x2cb25b['triedToSend']){this[_0x147c66(0x23d)][_0x147c66(0x7b3)](this[_0x147c66(0x259)]+'\x20('+this['instance'][_0x147c66(0x988)]+_0x147c66(0x1fb)+_0x2cb25b[_0x147c66(0x8f4)]+_0x147c66(0x98c)),this[_0x147c66(0x3a9)]=this[_0x147c66(0x3a9)]['filter'](_0x40463f=>_0x40463f['_id']!==_0x2cb25b[_0x147c66(0x8a0)]);continue;}if(!this[_0x147c66(0x339)][_0x147c66(0x33f)][_0x147c66(0x740)]){this['logger'][_0x147c66(0x7b3)](this[_0x147c66(0x259)]+'\x20('+this[_0x147c66(0x339)][_0x147c66(0x988)]+_0x147c66(0x22b));break;}if(!this[_0x147c66(0x339)][_0x147c66(0x33f)][_0x147c66(0x889)]){this['logger']['warn'](this[_0x147c66(0x259)]+'\x20('+this[_0x147c66(0x339)]['wuid']+_0x147c66(0x722)+_0x5a8d03['_id']+_0x147c66(0x7b8));break;}let _0x9c843a={'idControl':_0x2cb25b[_0x147c66(0x8a0)],'remoteJid':_0x2cb25b[_0x147c66(0x8f4)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x17ecd7=null;try{this[_0x147c66(0x23d)][_0x147c66(0x7b3)](this[_0x147c66(0x259)]+'\x20('+this['instance'][_0x147c66(0x988)]+_0x147c66(0x369)+_0x2cb25b[_0x147c66(0x8f4)]);let _0x5e5a8f=await Promise[_0x147c66(0x27c)]([this[_0x147c66(0x6b7)](_0x2cb25b[_0x147c66(0x8f4)],_0x2cb25b),this[_0x147c66(0x77f)](0x78*0x3e8)]);_0x9c843a['error']=_0x5e5a8f[_0x147c66(0x61d)],_0x9c843a['id']=_0x5e5a8f[_0x147c66(0x61d)]?null:_0x5e5a8f['id'],_0x9c843a[_0x147c66(0x484)]=_0x5e5a8f[_0x147c66(0x61d)]?_0x5e5a8f['detail']?_0x5e5a8f['detail'][_0x147c66(0x25c)]():'':null;let _0x4fdf55=_0x5a8d03[_0x147c66(0x73d)]['findIndex'](_0x5eda66=>_0x5eda66['_id']===_0x2cb25b[_0x147c66(0x8a0)]);_0x4fdf55!==-0x1&&(_0x5a8d03['messages'][_0x4fdf55]['triedToSend']=!0x0);let _0x5345c4={'$push':{'messagesSend':_0x9c843a},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x1ff3fc=[{'elem._id':_0x2cb25b[_0x147c66(0x8a0)]}];if(this[_0x147c66(0x23d)][_0x147c66(0x7b3)](this[_0x147c66(0x259)]+'\x20('+this['instance'][_0x147c66(0x988)]+_0x147c66(0x424)+_0x2cb25b[_0x147c66(0x8a0)]),_0x17ecd7=await this[_0x147c66(0x89f)][_0x147c66(0x943)]['updateOne']({'_id':_0x5a8d03[_0x147c66(0x8a0)]},_0x5345c4,this[_0x147c66(0x339)][_0x147c66(0x988)],{'arrayFilters':_0x1ff3fc}),_0x5e5a8f[_0x147c66(0x61d)]){this[_0x147c66(0x23d)][_0x147c66(0x61d)](this[_0x147c66(0x259)]+'\x20('+this[_0x147c66(0x339)][_0x147c66(0x988)]+_0x147c66(0x243)+_0x5e5a8f[_0x147c66(0x2e8)]);continue;}let _0x5298e3=this[_0x147c66(0x2cc)](_0x5a8d03[_0x147c66(0x806)],_0x5a8d03[_0x147c66(0x893)]);await this[_0x147c66(0x533)](_0x5298e3);}catch(_0x156434){this['logger'][_0x147c66(0x61d)](this[_0x147c66(0x259)]+'\x20('+this[_0x147c66(0x339)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20'+_0x2cb25b[_0x147c66(0x8f4)]+':\x20'+(_0x156434 instanceof Error?_0x156434[_0x147c66(0x535)]:JSON[_0x147c66(0x565)](_0x156434,null,0x2))),_0x9c843a[_0x147c66(0x61d)]=!0x0,_0x9c843a[_0x147c66(0x484)]=_0x156434['message'];let _0x4bd3bf=_0x5a8d03[_0x147c66(0x73d)]['findIndex'](_0x4712ae=>_0x4712ae[_0x147c66(0x8a0)]===_0x2cb25b[_0x147c66(0x8a0)]);_0x4bd3bf!==-0x1&&(_0x5a8d03['messages'][_0x4bd3bf][_0x147c66(0x497)]=!0x0);let _0x3f662f={'$push':{'messagesSend':_0x9c843a},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x571d2a=[{'elem._id':_0x2cb25b['_id']}];this[_0x147c66(0x23d)][_0x147c66(0x7b3)](this[_0x147c66(0x259)]+'\x20('+this[_0x147c66(0x339)][_0x147c66(0x988)]+_0x147c66(0x51f)+_0x2cb25b[_0x147c66(0x8a0)]),_0x17ecd7=await this[_0x147c66(0x89f)][_0x147c66(0x943)]['updateOne']({'_id':_0x5a8d03[_0x147c66(0x8a0)]},_0x3f662f,this[_0x147c66(0x339)][_0x147c66(0x988)],{'arrayFilters':_0x571d2a});}finally{if(_0x17ecd7&&_0x17ecd7[_0x147c66(0x914)]==='stopped'){this[_0x147c66(0x23d)]['warn'](this['instanceName']+'\x20('+this[_0x147c66(0x339)][_0x147c66(0x988)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x2cb25b[_0x147c66(0x8a0)]+_0x147c66(0x57f));break;}let _0x3570d0=_0x17ecd7[_0x147c66(0x73d)][_0x147c66(0x571)](_0x5cf75a=>_0x5cf75a[_0x147c66(0x8a0)]===_0x2cb25b[_0x147c66(0x8a0)]);if(_0x3570d0&&!_0x3570d0['triedToSend']){let _0x57530e={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x3f577c=[{'elem._id':_0x2cb25b[_0x147c66(0x8a0)]}];await this[_0x147c66(0x89f)]['scheduleMessage'][_0x147c66(0x3e7)]({'_id':_0x17ecd7[_0x147c66(0x8a0)]},_0x57530e,this[_0x147c66(0x339)]['wuid'],{'arrayFilters':_0x3f577c});}if(this[_0x147c66(0x3a9)]=_0x17ecd7['messages'][_0x147c66(0x8cd)](_0x585d52=>!_0x585d52[_0x147c66(0x497)]),!this[_0x147c66(0x339)][_0x147c66(0x33f)][_0x147c66(0x889)]){await this[_0x147c66(0x3c0)](),this[_0x147c66(0x23d)][_0x147c66(0x7b3)](this[_0x147c66(0x259)]+'\x20('+this[_0x147c66(0x339)][_0x147c66(0x988)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x5a8d03[_0x147c66(0x8a0)]+_0x147c66(0x7b8));break;}}}this[_0x147c66(0x3a9)]=[];let _0x38ea09=await this[_0x147c66(0x89f)][_0x147c66(0x943)]['findById'](_0x5a8d03[_0x147c66(0x8a0)],this['instance'][_0x147c66(0x988)]);if(_0x38ea09[_0x147c66(0x73d)][_0x147c66(0x6af)](_0x44b537=>_0x44b537[_0x147c66(0x497)])&&_0x38ea09['status']!==_0x147c66(0x584)){let _0x387f3d={'$set':{'status':_0x147c66(0x8f0)}};await this[_0x147c66(0x89f)]['scheduleMessage'][_0x147c66(0x26c)](_0x38ea09[_0x147c66(0x8a0)],_0x387f3d,this['instance'][_0x147c66(0x988)]);}await new Promise(_0x59e90f=>setTimeout(_0x59e90f,_0x212542)),global['gc']?global['gc']():console[_0x147c66(0x7b3)](_0x147c66(0x313));}}[a0_0x1c3883(0x77f)](_0x5d182c){const _0x42e607=a0_0x1c3883;return new Promise((_0x17eff5,_0xc42b4c)=>setTimeout(()=>_0xc42b4c(new Error(_0x42e607(0x648))),_0x5d182c));}['getDelay'](_0x5b23cb,_0x2ea126){const _0x5e36b5=a0_0x1c3883;return _0x5b23cb=Math['max'](0.5,_0x5b23cb),_0x2ea126=Math[_0x5e36b5(0x5d6)](Math[_0x5e36b5(0x7ed)](0x3,_0x2ea126),0x78),Math[_0x5e36b5(0x26a)](Math['random']()*(_0x2ea126-_0x5b23cb+0x1)+_0x5b23cb)*0x3e8;}[a0_0x1c3883(0x533)](_0xefefca){return new Promise(_0x2c89c4=>setTimeout(_0x2c89c4,_0xefefca));}async[a0_0x1c3883(0x2d7)](_0xb202ee){const _0x43628e=a0_0x1c3883;if(!this[_0x43628e(0x6cf)]&&(await this[_0x43628e(0x5e4)](),!this[_0x43628e(0x6cf)]))return null;_0xb202ee=this[_0x43628e(0x346)](_0xb202ee);let _0x590c46=await this['repository'][_0x43628e(0x874)][_0x43628e(0x213)]({'where':{'_id':_0xb202ee}},this[_0x43628e(0x339)][_0x43628e(0x988)]),_0x2532cd={};if(_0x590c46&&_0x590c46[_0x43628e(0x53d)]){let _0x520215=_0x590c46[_0x43628e(0x53d)];typeof _0x520215[_0x43628e(0x403)]==_0x43628e(0x33b)&&(_0x2532cd[_0x43628e(0x403)]=_0x520215['nome']),typeof _0x520215[_0x43628e(0x3e2)]==_0x43628e(0x33b)&&(_0x2532cd['nomecompleto']=_0x520215[_0x43628e(0x3e2)]),typeof _0x520215[_0x43628e(0x235)]=='string'&&(_0x2532cd[_0x43628e(0x235)]=_0x520215['email']),typeof _0x520215[_0x43628e(0x4b1)]==_0x43628e(0x33b)&&(_0x2532cd['cpf']=_0x520215[_0x43628e(0x4b1)]),typeof _0x520215[_0x43628e(0x914)]=='string'&&(_0x2532cd[_0x43628e(0x914)]=_0x520215[_0x43628e(0x914)]),typeof _0x520215[_0x43628e(0x208)]==_0x43628e(0x33b)&&(_0x2532cd['notas']=_0x520215[_0x43628e(0x208)]),typeof _0x520215[_0x43628e(0x503)]==_0x43628e(0x33b)&&(_0x2532cd[_0x43628e(0x503)]=_0x520215[_0x43628e(0x503)]),Array[_0x43628e(0x37b)](_0x520215[_0x43628e(0x3b0)])&&(_0x2532cd[_0x43628e(0x3b0)]=_0x520215['tags'][_0x43628e(0x25f)](',\x20')),Array['isArray'](_0x520215[_0x43628e(0x4d3)])&&(_0x2532cd[_0x43628e(0x4d3)]=_0x520215['etiquetas'][_0x43628e(0x25f)](',\x20'));}return _0x590c46&&_0x590c46['leadInfo']&&_0x590c46['leadInfo'][_0x43628e(0x502)]&&_0x590c46['leadInfo'][_0x43628e(0x502)]['forEach'](_0x335f8c=>{const _0x390a99=_0x43628e;let _0x4d846c=this[_0x390a99(0x6cf)]?.[_0x390a99(0x502)]['find'](_0x322231=>_0x322231[_0x390a99(0x8a0)]===_0x335f8c[_0x390a99(0x8a0)]);_0x4d846c&&(_0x2532cd[_0x4d846c[_0x390a99(0x1f9)]]=_0x335f8c[_0x390a99(0x944)]);}),_0x2532cd;}async[a0_0x1c3883(0x4dd)](_0x4de896,_0x322cfe){const _0x674c63=a0_0x1c3883;try{let _0x52c3ba=await this['getVariablesChat'](_0x322cfe);return this['replaceVariables'](_0x4de896,_0x52c3ba);}catch(_0x1b2ab8){return this[_0x674c63(0x23d)][_0x674c63(0x61d)](_0x674c63(0x8c3)+_0x322cfe+':\x20'+_0x1b2ab8),_0x4de896;}}async[a0_0x1c3883(0x895)](){const _0x201e08=a0_0x1c3883;let _0x5137fa=async(_0x12e2af,_0x4d051d)=>{const _0x9a1c00=a0_0x6fba;let _0x53360f=(await this[_0x9a1c00(0x89f)][_0x9a1c00(0x943)]['find']({'where':{'type':_0x12e2af}},this[_0x9a1c00(0x339)][_0x9a1c00(0x988)]))[_0x9a1c00(0x4ac)](async _0x29e46f=>{const _0x40f9a6=_0x9a1c00;let _0x35cbbb=_0x4d051d(_0x29e46f),_0x9c4577=_0x32c1bc=>/^\d+$/[_0x40f9a6(0x6eb)](_0x32c1bc),_0x5ecf72=_0x29e46f['remoteJids'][_0x40f9a6(0x8cd)](_0x3756f8=>_0x3756f8['endsWith'](_0x40f9a6(0x67c))?_0x3756f8[_0x40f9a6(0x868)]>0x19:_0x3756f8[_0x40f9a6(0x4ff)](_0x40f9a6(0x8b8))?_0x3756f8[_0x40f9a6(0x868)]>0xf:_0x9c4577(_0x3756f8)?_0x3756f8[_0x40f9a6(0x868)]>=0xb:!0x1)[_0x40f9a6(0x4ac)](_0xc69edc=>({'_id':(0x0,Q['v4'])(),'idSchedule':_0x29e46f[_0x40f9a6(0x8a0)],'type':_0x35cbbb,'remoteJid':_0xc69edc,'flow':_0x29e46f[_0x40f9a6(0x410)],'text':_0x29e46f[_0x40f9a6(0x535)]?.[_0x40f9a6(0x931)],'delay':_0x29e46f[_0x40f9a6(0x535)]?.['delay'],'urlOrBase64':_0x29e46f['message']?.[_0x40f9a6(0x7c3)],'linkPreview':_0x29e46f[_0x40f9a6(0x535)]?.[_0x40f9a6(0x54a)],'fileName':_0x29e46f[_0x40f9a6(0x535)]?.[_0x40f9a6(0x748)],'triedToSend':!0x1,'messagesSend':[]}));try{await this['repository'][_0x40f9a6(0x943)][_0x40f9a6(0x26c)](_0x29e46f['_id'],{'$set':{'messages':_0x5ecf72},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x40f9a6(0x339)][_0x40f9a6(0x988)]);}catch(_0x5c5563){console[_0x40f9a6(0x61d)]('Erro\x20ao\x20atualizar\x20agendamento\x20'+_0x29e46f[_0x40f9a6(0x8a0)]+':',_0x5c5563);}});await Promise[_0x9a1c00(0x200)](_0x53360f);};await _0x5137fa(_0x201e08(0x931),_0x43ca79=>_0x201e08(0x931)),await _0x5137fa(_0x201e08(0x3d1),_0x216c12=>_0x216c12['message']?.[_0x201e08(0x23f)]||'media'),await _0x5137fa(_0x201e08(0x2e7),_0x59f32b=>_0x201e08(0x2e7)),await _0x5137fa(_0x201e08(0x1fc),_0x1ed4c3=>'flow'),await _0x5137fa('image',_0x40c7a4=>_0x201e08(0x925)),await _0x5137fa(_0x201e08(0x775),_0x1f53ea=>'video'),await _0x5137fa(_0x201e08(0x666),_0x4618e0=>_0x201e08(0x666)),this[_0x201e08(0x23d)]['warn'](this[_0x201e08(0x259)]+'\x20('+this[_0x201e08(0x339)][_0x201e08(0x988)]+_0x201e08(0x342));}async['editScheduleMessage'](_0x2f7220){const _0x29120a=a0_0x1c3883;try{if(this[_0x29120a(0x23d)][_0x29120a(0x7b3)](this[_0x29120a(0x259)]+'\x20('+this[_0x29120a(0x339)][_0x29120a(0x988)]+_0x29120a(0x971)),_0x2f7220[_0x29120a(0x8a0)]||(_0x2f7220[_0x29120a(0x8a0)]=(0x0,Q['v4'])()),this[_0x29120a(0x339)]['ScheduleMessage'][_0x29120a(0x889)]?.['_id']===_0x2f7220[_0x29120a(0x8a0)]?.[_0x29120a(0x25c)]()){if(_0x2f7220[_0x29120a(0x914)]===_0x29120a(0x584))this[_0x29120a(0x339)][_0x29120a(0x33f)]['processingGroup']=null;else throw new Error(_0x29120a(0x3d2));}if(_0x2f7220[_0x29120a(0x6c2)]&&_0x2f7220['_id']){let _0xf11f72=await this[_0x29120a(0x89f)][_0x29120a(0x943)][_0x29120a(0x2af)](_0x2f7220['_id'],this[_0x29120a(0x339)][_0x29120a(0x988)]);return setTimeout(()=>this[_0x29120a(0x2eb)](),0x7d0),_0xf11f72;}let _0x4d0292=null;if(_0x2f7220[_0x29120a(0x8a0)]&&(_0x4d0292=await this['repository'][_0x29120a(0x943)][_0x29120a(0x58e)](_0x2f7220[_0x29120a(0x8a0)],this[_0x29120a(0x339)][_0x29120a(0x988)])),_0x4d0292){let {_id:_0xfa6906,owner:_0x1644ba,messages:_0x4d9489,..._0x100495}=_0x2f7220;if(_0x4d9489){let _0x3ad7ca=_0x4d9489[_0x29120a(0x8cd)](_0x93795b=>!_0x93795b[_0x29120a(0x8a0)]),_0x481ab3=_0x4d9489['filter'](_0x10b9b1=>_0x10b9b1[_0x29120a(0x8a0)]&&!_0x10b9b1['delete']),_0x595aa6=_0x4d9489[_0x29120a(0x8cd)](_0x18e952=>_0x18e952[_0x29120a(0x8a0)]&&_0x18e952[_0x29120a(0x6c2)]);if(_0x3ad7ca[_0x29120a(0x868)]>0x0&&await this[_0x29120a(0x3f9)](_0x2f7220['_id'],_0x3ad7ca),_0x481ab3[_0x29120a(0x868)]>0x0&&await this[_0x29120a(0x211)]({'_id':_0x2f7220[_0x29120a(0x8a0)],'messages':_0x481ab3}),_0x595aa6['length']>0x0){let _0x4627ae=_0x595aa6[_0x29120a(0x4ac)](_0x185752=>({'updateOne':{'filter':{'_id':_0x2f7220['_id']},'update':{'$pull':{'messages':{'_id':_0x185752['_id']}}}}}));await this[_0x29120a(0x89f)][_0x29120a(0x943)][_0x29120a(0x995)](_0x4627ae,this[_0x29120a(0x339)]['wuid']);}}let _0x48bdc6={'$set':{..._0x100495,'status':_0x2f7220[_0x29120a(0x914)]||_0x4d0292[_0x29120a(0x914)]}},_0x3cc9e2=await this[_0x29120a(0x89f)]['scheduleMessage'][_0x29120a(0x26c)](_0x2f7220[_0x29120a(0x8a0)],_0x48bdc6,this[_0x29120a(0x339)]['wuid']);return _0x3cc9e2&&(this[_0x29120a(0x76b)](_0x3cc9e2[_0x29120a(0x73d)]),await this[_0x29120a(0x89f)][_0x29120a(0x943)][_0x29120a(0x26c)](_0x3cc9e2['_id'],{'$set':{'messages':_0x3cc9e2['messages']}},this[_0x29120a(0x339)][_0x29120a(0x988)])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),await this['transformScheduledMessagesByType'](),_0x3cc9e2;}else{_0x2f7220[_0x29120a(0x523)]=this[_0x29120a(0x339)]['wuid'],_0x2f7220[_0x29120a(0x73d)]&&_0x2f7220['messages']['forEach'](_0x49df90=>{const _0x133c21=_0x29120a;_0x49df90[_0x133c21(0x8a0)]||(_0x49df90[_0x133c21(0x8a0)]=(0x0,Q['v4'])()),_0x49df90['idSchedule']||(_0x49df90[_0x133c21(0x8e0)]=_0x2f7220[_0x133c21(0x8a0)]),delete _0x49df90[_0x133c21(0x497)];});let _0xf5f0ac=await this[_0x29120a(0x89f)][_0x29120a(0x943)][_0x29120a(0x60b)](_0x2f7220,this['instance']['wuid']);return _0xf5f0ac&&(this[_0x29120a(0x76b)](_0xf5f0ac[_0x29120a(0x73d)]),await this[_0x29120a(0x89f)][_0x29120a(0x943)][_0x29120a(0x26c)](_0xf5f0ac[_0x29120a(0x8a0)],{'$set':{'messages':_0xf5f0ac[_0x29120a(0x73d)]}},this[_0x29120a(0x339)]['wuid'])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0xf5f0ac;}}catch(_0x3168ed){let _0x4b2355='Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens',_0x1981d4=_0x3168ed instanceof Error?_0x3168ed[_0x29120a(0x535)]:typeof _0x3168ed=='object'?JSON['stringify'](_0x3168ed):_0x3168ed,_0x5568d8=_0x4b2355+':\x20'+_0x1981d4;throw this[_0x29120a(0x23d)]['error'](this[_0x29120a(0x259)]+'\x20('+this[_0x29120a(0x339)]['wuid']+_0x29120a(0x93d)+_0x5568d8),new m(_0x5568d8);}}async[a0_0x1c3883(0x3f9)](_0x80e87d,_0x4d6e24){const _0x56deb6=a0_0x1c3883;try{this[_0x56deb6(0x23d)][_0x56deb6(0x990)](this[_0x56deb6(0x259)]+'\x20('+this[_0x56deb6(0x339)][_0x56deb6(0x988)]+_0x56deb6(0x975)),_0x4d6e24[_0x56deb6(0x33d)](_0x1d54fa=>{const _0x81e15a=_0x56deb6;_0x1d54fa[_0x81e15a(0x8a0)]||(_0x1d54fa[_0x81e15a(0x8a0)]=(0x0,Q['v4'])()),_0x1d54fa[_0x81e15a(0x8e0)]||(_0x1d54fa[_0x81e15a(0x8e0)]=_0x80e87d),delete _0x1d54fa[_0x81e15a(0x497)];});let _0x676fd={'$push':{'messages':{'$each':_0x4d6e24}}},_0x13e52e=await this['repository'][_0x56deb6(0x943)][_0x56deb6(0x26c)](_0x80e87d,_0x676fd,this[_0x56deb6(0x339)][_0x56deb6(0x988)]);return _0x13e52e&&(this[_0x56deb6(0x76b)](_0x13e52e['messages']),await this[_0x56deb6(0x89f)][_0x56deb6(0x943)][_0x56deb6(0x26c)](_0x13e52e[_0x56deb6(0x8a0)],{'$set':{'messages':_0x13e52e[_0x56deb6(0x73d)]}},this[_0x56deb6(0x339)][_0x56deb6(0x988)])),_0x13e52e;}catch(_0x34d169){let _0x3b6465=_0x56deb6(0x34c),_0x1221c7=_0x34d169 instanceof Error?_0x34d169[_0x56deb6(0x535)]:typeof _0x34d169=='object'?JSON[_0x56deb6(0x565)](_0x34d169):_0x34d169,_0x11a74b=_0x3b6465+':\x20'+_0x1221c7;throw this[_0x56deb6(0x23d)][_0x56deb6(0x61d)](this['instanceName']+'\x20('+this[_0x56deb6(0x339)][_0x56deb6(0x988)]+_0x56deb6(0x93d)+_0x11a74b),new m(_0x11a74b);}}async['editMessagesInGroup'](_0x3ceed6){const _0x2a1b31=a0_0x1c3883;try{if(this[_0x2a1b31(0x23d)][_0x2a1b31(0x990)](this[_0x2a1b31(0x259)]+'\x20('+this[_0x2a1b31(0x339)][_0x2a1b31(0x988)]+_0x2a1b31(0x24c)),!_0x3ceed6[_0x2a1b31(0x8a0)]||!_0x3ceed6[_0x2a1b31(0x73d)])throw new Error(_0x2a1b31(0x48e));let _0x14e01b=_0x3ceed6['_id'],_0x286767=_0x3ceed6[_0x2a1b31(0x73d)],_0x5ebef3=_0x286767[_0x2a1b31(0x8cd)](_0x3ad533=>!_0x3ad533[_0x2a1b31(0x6c2)])[_0x2a1b31(0x4ac)](_0x355e3f=>{const _0x827197=_0x2a1b31;let _0x4922e0=_0x355e3f[_0x827197(0x8a0)];if(!_0x4922e0)throw new Error(_0x827197(0x5c0));return _0x355e3f['idSchedule']||(_0x355e3f[_0x827197(0x8e0)]=_0x14e01b),delete _0x355e3f['triedToSend'],{'updateOne':{'filter':{'_id':_0x14e01b,'messages._id':_0x4922e0},'update':{'$set':{'messages.$[elem]':_0x355e3f}},'arrayFilters':[{'elem._id':_0x4922e0}]}};}),_0x2816c3=_0x286767[_0x2a1b31(0x8cd)](_0x5e5609=>_0x5e5609[_0x2a1b31(0x6c2)])[_0x2a1b31(0x4ac)](_0x9e636b=>{const _0x7eec59=_0x2a1b31;let _0x228dba=_0x9e636b[_0x7eec59(0x8a0)];if(!_0x228dba)throw new Error(_0x7eec59(0x680));return{'updateOne':{'filter':{'_id':_0x14e01b},'update':{'$pull':{'messages':{'_id':_0x228dba}}}}};}),_0x4b43fa=[..._0x5ebef3,..._0x2816c3],_0x3ddbc4=await this[_0x2a1b31(0x89f)][_0x2a1b31(0x943)]['bulkWrite'](_0x4b43fa,this['instance'][_0x2a1b31(0x988)]),_0x160600=await this[_0x2a1b31(0x89f)][_0x2a1b31(0x943)][_0x2a1b31(0x58e)](_0x14e01b,this['instance'][_0x2a1b31(0x988)]);return _0x160600&&(this[_0x2a1b31(0x76b)](_0x160600[_0x2a1b31(0x73d)]),await this['repository'][_0x2a1b31(0x943)][_0x2a1b31(0x26c)](_0x160600[_0x2a1b31(0x8a0)],{'$set':{'messages':_0x160600['messages']}},this[_0x2a1b31(0x339)][_0x2a1b31(0x988)])),_0x160600;}catch(_0x2da3a8){let _0x386f25='Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo',_0x12761b=_0x2da3a8 instanceof Error?_0x2da3a8[_0x2a1b31(0x535)]:typeof _0x2da3a8==_0x2a1b31(0x20d)?JSON['stringify'](_0x2da3a8):_0x2da3a8,_0x3d6c9d=_0x386f25+':\x20'+_0x12761b;throw this[_0x2a1b31(0x23d)][_0x2a1b31(0x61d)](this[_0x2a1b31(0x259)]+'\x20('+this[_0x2a1b31(0x339)][_0x2a1b31(0x988)]+_0x2a1b31(0x93d)+_0x3d6c9d),new m(_0x3d6c9d);}}async[a0_0x1c3883(0x62b)](){const _0x4ebd8c=a0_0x1c3883;try{let _0x2a4ff5={'status':_0x4ebd8c(0x8f0)},_0x3cf41b=await this[_0x4ebd8c(0x89f)][_0x4ebd8c(0x943)][_0x4ebd8c(0x96c)](_0x2a4ff5,this[_0x4ebd8c(0x339)][_0x4ebd8c(0x988)]);if(!_0x3cf41b[_0x4ebd8c(0x61d)])this[_0x4ebd8c(0x23d)][_0x4ebd8c(0x990)](this[_0x4ebd8c(0x259)]+'\x20('+this[_0x4ebd8c(0x339)][_0x4ebd8c(0x988)]+_0x4ebd8c(0x74f));else throw new Error(_0x3cf41b['error'][_0x4ebd8c(0x535)]||_0x4ebd8c(0x2cb));return this['getScheduleMessage']();}catch(_0x4aa0ae){let _0x33e268=_0x4ebd8c(0x451),_0x146716=_0x4aa0ae instanceof Error?_0x4aa0ae[_0x4ebd8c(0x535)]:typeof _0x4aa0ae=='object'?JSON[_0x4ebd8c(0x565)](_0x4aa0ae):_0x4aa0ae,_0x51ed89=_0x33e268+':\x20'+_0x146716;throw this[_0x4ebd8c(0x23d)][_0x4ebd8c(0x61d)](this[_0x4ebd8c(0x259)]+'\x20('+this[_0x4ebd8c(0x339)]['wuid']+'):\x20'+_0x51ed89),new m(_0x51ed89);}}async['deleteAllMessages'](){const _0x5784ef=a0_0x1c3883;try{this[_0x5784ef(0x339)][_0x5784ef(0x33f)][_0x5784ef(0x740)]=!0x1,this[_0x5784ef(0x339)][_0x5784ef(0x33f)][_0x5784ef(0x889)]=null,this[_0x5784ef(0x448)]&&this[_0x5784ef(0x448)][_0x5784ef(0x8fb)](),this[_0x5784ef(0x23d)][_0x5784ef(0x990)](this[_0x5784ef(0x259)]+'\x20('+this['instance'][_0x5784ef(0x988)]+_0x5784ef(0x561)),await new Promise(_0x3a94df=>setTimeout(_0x3a94df,0x1388)),this['logger'][_0x5784ef(0x990)](this[_0x5784ef(0x259)]+'\x20('+this[_0x5784ef(0x339)]['wuid']+_0x5784ef(0x353));let _0xf3da46=await this[_0x5784ef(0x89f)][_0x5784ef(0x943)][_0x5784ef(0x96c)]({},this['instance'][_0x5784ef(0x988)]);if(!_0xf3da46[_0x5784ef(0x61d)])this['logger'][_0x5784ef(0x990)](this[_0x5784ef(0x259)]+'\x20('+this['instance'][_0x5784ef(0x988)]+_0x5784ef(0x55c)),this[_0x5784ef(0x23d)][_0x5784ef(0x990)](this[_0x5784ef(0x259)]+'\x20('+this[_0x5784ef(0x339)]['wuid']+'):\x20Aguardando\x205\x20segundos\x20antes\x20de\x20reconectar...'),await new Promise(_0x4df541=>setTimeout(_0x4df541,0x1388)),this[_0x5784ef(0x339)]['ScheduleMessage'][_0x5784ef(0x740)]=!0x0,this[_0x5784ef(0x23d)][_0x5784ef(0x990)](this[_0x5784ef(0x259)]+'\x20('+this[_0x5784ef(0x339)]['wuid']+_0x5784ef(0x2bc)),this[_0x5784ef(0x2eb)]();else throw new Error(_0xf3da46[_0x5784ef(0x61d)][_0x5784ef(0x535)]||_0x5784ef(0x2cb));return this[_0x5784ef(0x48d)]();}catch(_0x5e0cb5){let _0x86e94a=_0x5784ef(0x924),_0x5cfc9b=_0x5e0cb5 instanceof Error?_0x5e0cb5['message']:typeof _0x5e0cb5==_0x5784ef(0x20d)?JSON['stringify'](_0x5e0cb5):_0x5e0cb5,_0x116833=_0x86e94a+':\x20'+_0x5cfc9b;throw this[_0x5784ef(0x23d)][_0x5784ef(0x61d)](this[_0x5784ef(0x259)]+'\x20('+this[_0x5784ef(0x339)][_0x5784ef(0x988)]+_0x5784ef(0x93d)+_0x116833),new m(_0x116833);}}async[a0_0x1c3883(0x48d)](){const _0x840b0a=a0_0x1c3883;try{return await this[_0x840b0a(0x89f)][_0x840b0a(0x943)][_0x840b0a(0x571)]({'where':{}},this[_0x840b0a(0x339)][_0x840b0a(0x988)]);}catch(_0x37ef34){let _0xc4ad79=_0x840b0a(0x289),_0x3b4005=_0x37ef34 instanceof Error?_0x37ef34[_0x840b0a(0x535)]:typeof _0x37ef34=='object'?JSON[_0x840b0a(0x565)](_0x37ef34):_0x37ef34,_0x1769d8=_0xc4ad79+':\x20'+_0x3b4005;throw this[_0x840b0a(0x23d)][_0x840b0a(0x61d)](this[_0x840b0a(0x259)]+'\x20('+this[_0x840b0a(0x339)][_0x840b0a(0x988)]+_0x840b0a(0x93d)+_0x1769d8),new m(_0x1769d8);}}[a0_0x1c3883(0x76b)](_0x519a18){const _0x47df73=a0_0x1c3883;_0x519a18[_0x47df73(0x90e)]((_0x423669,_0x2292a5)=>_0x423669['order']-_0x2292a5['order']),_0x519a18[_0x47df73(0x33d)]((_0x4b516a,_0x4a6641)=>{const _0x38f8c4=_0x47df73;_0x4b516a[_0x38f8c4(0x979)]=_0x4a6641+0x1;});}async[a0_0x1c3883(0x6b7)](_0x442d22,_0x2dccb8){const _0x415413=a0_0x1c3883;try{if(!_0x2dccb8)return this[_0x415413(0x23d)][_0x415413(0x61d)](this[_0x415413(0x259)]+'\x20('+this['instance'][_0x415413(0x988)]+_0x415413(0x6d1)),{'error':!0x0,'detail':_0x415413(0x4aa)};if(_0x2dccb8[_0x415413(0x52b)]===_0x415413(0x1fc)&&!this[_0x415413(0x6cf)]?.[_0x415413(0x469)]['enabled'])return this[_0x415413(0x23d)][_0x415413(0x61d)](this[_0x415413(0x259)]+'\x20('+this[_0x415413(0x339)][_0x415413(0x988)]+_0x415413(0x452)),{'error':!0x0,'detail':'Fluxos\x20não\x20estão\x20ativados'};switch(_0x2dccb8['type']){case _0x415413(0x931):return await this[_0x415413(0x99b)](_0x2dccb8,_0x442d22);case _0x415413(0x775):case _0x415413(0x925):case _0x415413(0x666):return await this[_0x415413(0x6c9)](_0x2dccb8,_0x442d22);case'audio':return await this['scheduleSendAudio'](_0x2dccb8,_0x442d22);case'flow':let _0x15fc99=new ze();return _0x15fc99[_0x415413(0x1f9)]=_0x2dccb8[_0x415413(0x1fc)],_0x15fc99[_0x415413(0x8f4)]=_0x442d22,await this[_0x415413(0x305)](_0x15fc99);default:return this[_0x415413(0x23d)][_0x415413(0x61d)](this['instanceName']+'\x20('+this[_0x415413(0x339)][_0x415413(0x988)]+_0x415413(0x3ee)+_0x2dccb8[_0x415413(0x52b)]),{'error':!0x0,'detail':_0x415413(0x618)};}}catch(_0x29f888){return this[_0x415413(0x23d)][_0x415413(0x61d)](this[_0x415413(0x259)]+'\x20('+this[_0x415413(0x339)][_0x415413(0x988)]+_0x415413(0x94d)+(_0x29f888 instanceof Error?_0x29f888['message']:JSON[_0x415413(0x565)](_0x29f888,null,0x2))),{'error':!0x0,'detail':_0x29f888['message']};}}async[a0_0x1c3883(0x99b)](_0x31c7f5,_0x1b63bf){const _0x56c802=a0_0x1c3883;if(this[_0x56c802(0x23d)][_0x56c802(0x990)](this[_0x56c802(0x259)]+'\x20('+this[_0x56c802(0x339)]['wuid']+_0x56c802(0x3d7)+_0x1b63bf+'\x27'),!_0x31c7f5[_0x56c802(0x931)]||_0x31c7f5[_0x56c802(0x931)][_0x56c802(0x868)]===0x0)return{'error':!0x0,'detail':_0x56c802(0x5f6)};let _0x415032=await this[_0x56c802(0x4dd)](_0x31c7f5[_0x56c802(0x931)],_0x1b63bf),_0x2845cb={'number':_0x1b63bf,'options':{'delay':_0x31c7f5[_0x56c802(0x6f4)],'linkPreview':_0x31c7f5[_0x56c802(0x54a)]},'textMessage':{'text':_0x415032}},_0x3579f1=null;try{let _0x21a342=await this[_0x56c802(0x30e)](_0x2845cb);if(_0x21a342&&_0x21a342[_0x56c802(0x914)])return{'error':!0x1,'id':_0x21a342[_0x56c802(0x205)]['id']};_0x3579f1=JSON[_0x56c802(0x565)](_0x21a342),this[_0x56c802(0x23d)][_0x56c802(0x990)](this[_0x56c802(0x259)]+'\x20('+this[_0x56c802(0x339)]['wuid']+_0x56c802(0x93d)+_0x3579f1);}catch(_0x4d1f85){this[_0x56c802(0x23d)]['error'](this['instanceName']+'\x20('+this[_0x56c802(0x339)]['wuid']+_0x56c802(0x3b8)+(_0x4d1f85 instanceof Error?_0x4d1f85[_0x56c802(0x535)]:JSON[_0x56c802(0x565)](_0x4d1f85,null,0x2))),_0x3579f1=_0x4d1f85[_0x56c802(0x535)];}if(_0x3579f1)return{'error':!0x0,'detail':(typeof _0x3579f1=='object'?JSON[_0x56c802(0x565)](_0x3579f1,null,0x2):_0x3579f1)[_0x56c802(0x7cb)](/[\[\]{}\n]/g,'\x20')[_0x56c802(0x7cb)](/  +/g,'\x20')};}async[a0_0x1c3883(0x6c9)](_0x43f598,_0x30015c){const _0x227be9=a0_0x1c3883;this['logger'][_0x227be9(0x990)](this['instanceName']+'\x20('+this[_0x227be9(0x339)][_0x227be9(0x988)]+_0x227be9(0x753)+_0x30015c+'\x27');let _0x2a15f6;_0x43f598[_0x227be9(0x931)]&&_0x43f598['text'][_0x227be9(0x868)]>0x0&&(_0x2a15f6=await this[_0x227be9(0x4dd)](_0x43f598[_0x227be9(0x931)],_0x30015c));let _0x345129={'number':_0x30015c,'options':{'delay':_0x43f598[_0x227be9(0x6f4)],'linkPreview':_0x43f598[_0x227be9(0x54a)]},'mediaMessage':{'mediatype':_0x43f598[_0x227be9(0x52b)],'caption':_0x2a15f6,'media':_0x43f598[_0x227be9(0x7c3)]}},_0x1aaca3=null;try{let _0x3c7251=await this[_0x227be9(0x962)](_0x345129);if(_0x3c7251&&_0x3c7251[_0x227be9(0x914)])return{'error':!0x1,'id':_0x3c7251[_0x227be9(0x205)]['id']};_0x1aaca3=JSON[_0x227be9(0x565)](_0x3c7251),this[_0x227be9(0x23d)]['verbose'](this[_0x227be9(0x259)]+'\x20('+this[_0x227be9(0x339)][_0x227be9(0x988)]+_0x227be9(0x93d)+_0x1aaca3);}catch(_0x43bc87){this[_0x227be9(0x23d)][_0x227be9(0x61d)](this[_0x227be9(0x259)]+'\x20('+this[_0x227be9(0x339)]['wuid']+_0x227be9(0x45e)+(_0x43bc87 instanceof Error?_0x43bc87['message']:JSON[_0x227be9(0x565)](_0x43bc87,null,0x2))),_0x1aaca3=_0x43bc87[_0x227be9(0x535)];}if(_0x1aaca3)return{'error':!0x0,'detail':(typeof _0x1aaca3==_0x227be9(0x20d)?JSON[_0x227be9(0x565)](_0x1aaca3,null,0x2):_0x1aaca3)[_0x227be9(0x7cb)](/[\[\]{}\n]/g,'\x20')[_0x227be9(0x7cb)](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x59671e,_0x47b79e){const _0x300f2a=a0_0x1c3883;this['logger'][_0x300f2a(0x990)](this[_0x300f2a(0x259)]+'\x20('+this[_0x300f2a(0x339)][_0x300f2a(0x988)]+_0x300f2a(0x5aa)+_0x47b79e+'\x27');let _0x36a4f0={'number':_0x47b79e,'options':{'delay':_0x59671e[_0x300f2a(0x6f4)]},'audioMessage':{'audio':_0x59671e[_0x300f2a(0x7c3)]}},_0xa41bc7=null;try{let _0x5a7e0a=await this[_0x300f2a(0x550)](_0x36a4f0);if(_0x5a7e0a&&_0x5a7e0a[_0x300f2a(0x914)])return{'error':!0x1,'id':_0x5a7e0a[_0x300f2a(0x205)]['id']};_0xa41bc7=JSON['stringify'](_0x5a7e0a),this[_0x300f2a(0x23d)][_0x300f2a(0x990)](this[_0x300f2a(0x259)]+'\x20('+this[_0x300f2a(0x339)]['wuid']+'):\x20'+_0xa41bc7);}catch(_0x483ea2){this[_0x300f2a(0x23d)]['error'](this['instanceName']+'\x20('+this['instance'][_0x300f2a(0x988)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20'+(_0x483ea2 instanceof Error?_0x483ea2['message']:JSON[_0x300f2a(0x565)](_0x483ea2,null,0x2))),_0xa41bc7=_0x483ea2[_0x300f2a(0x535)];}if(_0xa41bc7)return{'error':!0x0,'detail':(typeof _0xa41bc7==_0x300f2a(0x20d)?JSON['stringify'](_0xa41bc7,null,0x2):_0xa41bc7)[_0x300f2a(0x7cb)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x1c3883(0x999)](_0x2632a5){const _0x3c83b8=a0_0x1c3883;try{return await this[_0x3c83b8(0x8d0)][_0x3c83b8(0x578)](_0x2632a5[_0x3c83b8(0x652)],_0x2632a5['description']),{'update':'success'};}catch(_0x35d35f){let _0x29a276='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc',_0x55c2e1=_0x35d35f instanceof Error?_0x35d35f['message']:typeof _0x35d35f==_0x3c83b8(0x20d)?JSON[_0x3c83b8(0x565)](_0x35d35f):_0x35d35f,_0x4b0a93=_0x29a276+':\x20'+_0x55c2e1;throw this[_0x3c83b8(0x23d)]['error'](this[_0x3c83b8(0x259)]+'\x20('+this[_0x3c83b8(0x339)][_0x3c83b8(0x988)]+_0x3c83b8(0x93d)+_0x4b0a93),new x(_0x4b0a93);}}async[a0_0x1c3883(0x954)](_0x2d98dc){const _0x2eab2c=a0_0x1c3883;try{return await this[_0x2eab2c(0x8d0)]['groupUpdateSubject'](_0x2d98dc[_0x2eab2c(0x652)],_0x2d98dc['name']),{'update':_0x2eab2c(0x31a)};}catch(_0x2eebba){let _0x834047=_0x2eab2c(0x326),_0x477aaa=_0x2eebba instanceof Error?_0x2eebba[_0x2eab2c(0x535)]:typeof _0x2eebba==_0x2eab2c(0x20d)?JSON[_0x2eab2c(0x565)](_0x2eebba):_0x2eebba,_0xd3b627=_0x834047+':\x20'+_0x477aaa;throw this[_0x2eab2c(0x23d)]['error'](this[_0x2eab2c(0x259)]+'\x20('+this['instance'][_0x2eab2c(0x988)]+_0x2eab2c(0x93d)+_0xd3b627),new x(_0xd3b627);}}async[a0_0x1c3883(0x431)](_0x491865){const _0x64bdf=a0_0x1c3883;try{let _0x1594c9=await this[_0x64bdf(0x8d0)][_0x64bdf(0x48f)](_0x491865['groupJid'],_0x491865[_0x64bdf(0x50a)]);return{'success':!0x0};}catch(_0x4783b8){let _0x360987='Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral',_0x552093=_0x4783b8 instanceof Error?_0x4783b8[_0x64bdf(0x535)]:typeof _0x4783b8=='object'?JSON[_0x64bdf(0x565)](_0x4783b8):_0x4783b8,_0x1f84f7=_0x360987+':\x20'+_0x552093;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x64bdf(0x339)][_0x64bdf(0x988)]+'):\x20'+_0x1f84f7),new x(_0x1f84f7);}}async[a0_0x1c3883(0x6d3)](_0x5f4068){const _0x1ce68b=a0_0x1c3883;try{return await this[_0x1ce68b(0x8d0)]['groupSettingUpdate'](_0x5f4068[_0x1ce68b(0x652)],_0x5f4068[_0x1ce68b(0x570)]),{'update':_0x1ce68b(0x31a)};}catch(_0x42efcf){let _0x49330d='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting',_0x431939=_0x42efcf instanceof Error?_0x42efcf[_0x1ce68b(0x535)]:typeof _0x42efcf==_0x1ce68b(0x20d)?JSON[_0x1ce68b(0x565)](_0x42efcf):_0x42efcf,_0x1af868=_0x49330d+':\x20'+_0x431939;throw this['logger'][_0x1ce68b(0x61d)](this['instanceName']+'\x20('+this['instance'][_0x1ce68b(0x988)]+_0x1ce68b(0x93d)+_0x1af868),new x(_0x1af868);}}async[a0_0x1c3883(0x329)](_0x3dcd43){const _0x5e4866=a0_0x1c3883;try{let _0x4c73c2;if((0x0,J[_0x5e4866(0x562)])(_0x3dcd43[_0x5e4866(0x925)])){let _0x2a5c15=new Date()[_0x5e4866(0x255)](),_0x1d55cd=_0x3dcd43[_0x5e4866(0x925)]+_0x5e4866(0x822)+_0x2a5c15;_0x4c73c2=(await K[_0x5e4866(0x460)]['get'](_0x1d55cd,{'responseType':_0x5e4866(0x615)}))[_0x5e4866(0x960)];}else{if((0x0,J[_0x5e4866(0x237)])(_0x3dcd43['image']))_0x4c73c2=Buffer[_0x5e4866(0x422)](_0x3dcd43[_0x5e4866(0x925)],_0x5e4866(0x982));else throw new m(_0x5e4866(0x76a));}return await this[_0x5e4866(0x8d0)][_0x5e4866(0x6fe)](_0x3dcd43[_0x5e4866(0x652)],_0x4c73c2),{'update':_0x5e4866(0x31a)};}catch(_0x4ee850){let _0x11b22e=_0x5e4866(0x81e),_0x45d107=_0x4ee850 instanceof Error?_0x4ee850[_0x5e4866(0x535)]:typeof _0x4ee850==_0x5e4866(0x20d)?JSON[_0x5e4866(0x565)](_0x4ee850):_0x4ee850,_0x30feff=_0x11b22e+':\x20'+_0x45d107;throw this[_0x5e4866(0x23d)][_0x5e4866(0x61d)](this[_0x5e4866(0x259)]+'\x20('+this[_0x5e4866(0x339)]['wuid']+_0x5e4866(0x93d)+_0x30feff),new x(_0x30feff);}}},jt=class u{constructor(_0x1f0634,_0x8d9e09,_0x1c9196){const _0x1dd0dc=a0_0x1c3883;this[_0x1dd0dc(0x6c6)]=_0x1f0634,this[_0x1dd0dc(0x554)]=_0x8d9e09,this[_0x1dd0dc(0x89f)]=_0x1c9196,this['db']={},this[_0x1dd0dc(0x70b)]={},this[_0x1dd0dc(0x23d)]=new $(u[_0x1dd0dc(0x1f9)]),this['waInstances']={},(this['removeInstance'](),this[_0x1dd0dc(0x7a8)](),Object['assign'](this['db'],_0x8d9e09['get'](_0x1dd0dc(0x844))),Object['assign'](this[_0x1dd0dc(0x70b)],_0x8d9e09[_0x1dd0dc(0x923)](_0x1dd0dc(0x592))),this[_0x1dd0dc(0x899)]=this['db'][_0x1dd0dc(0x82d)]?this[_0x1dd0dc(0x89f)][_0x1dd0dc(0x2f5)]?.['db'](this['db']['CONNECTION'][_0x1dd0dc(0x937)]+_0x1dd0dc(0x3f8)):void 0x0,this[_0x1dd0dc(0x293)]=this[_0x1dd0dc(0x70b)][_0x1dd0dc(0x82d)]?new ue(this[_0x1dd0dc(0x70b)]):void 0x0);}async[a0_0x1c3883(0x248)](_0x22666c){const _0x4186c9=a0_0x1c3883;if(_0x22666c&&!this[_0x4186c9(0x254)][_0x22666c])throw new U('Instance\x20\x22'+_0x22666c+_0x4186c9(0x8bc));let _0x5b891d=[];for await(let [_0x53db6c,_0x731efa]of Object['entries'](this[_0x4186c9(0x254)]))if(_0x731efa&&_0x731efa[_0x4186c9(0x624)][_0x4186c9(0x589)]===_0x4186c9(0x7e9)){let _0x47cf55=await this['repository'][_0x4186c9(0x823)][_0x4186c9(0x571)](_0x53db6c);_0x5b891d[_0x4186c9(0x706)]({'instance':{'instanceName':_0x53db6c,'apikey':_0x47cf55[_0x4186c9(0x7e7)],'owner':_0x731efa[_0x4186c9(0x988)],'profileName':await _0x731efa[_0x4186c9(0x2db)]()||_0x4186c9(0x85e),'profilePictureUrl':_0x731efa[_0x4186c9(0x508)]}});}return _0x5b891d['find'](_0x4be018=>_0x4be018[_0x4186c9(0x339)]['instanceName']===_0x22666c)??_0x5b891d;}async[a0_0x1c3883(0x267)](_0x37f7a7){const _0x45cbe6=a0_0x1c3883;if(this['db']['ENABLED']&&(await this[_0x45cbe6(0x89f)][_0x45cbe6(0x2f5)][_0x45cbe6(0x68b)](),(await this[_0x45cbe6(0x899)]['collections']())['length']>0x0&&await this[_0x45cbe6(0x899)][_0x45cbe6(0x2e4)](_0x37f7a7)),this['redis'][_0x45cbe6(0x82d)]){this['cache'][_0x45cbe6(0x47b)]=_0x37f7a7,await this[_0x45cbe6(0x293)][_0x45cbe6(0x247)]();return;}}async[a0_0x1c3883(0x80c)](){const _0x19936c=a0_0x1c3883;await this[_0x19936c(0x94c)]();let _0x21ea6e=async _0x450871=>{const _0x1b4d39=_0x19936c;let _0x11ba63=new $e(this['configService'],this[_0x1b4d39(0x6c6)],this[_0x1b4d39(0x89f)]);_0x11ba63[_0x1b4d39(0x259)]=_0x450871,await _0x11ba63[_0x1b4d39(0x400)](),this[_0x1b4d39(0x254)][_0x450871]=_0x11ba63;};try{if(this['redis'][_0x19936c(0x82d)]){let _0x3e6ca7=await this[_0x19936c(0x293)][_0x19936c(0x85c)]();_0x3e6ca7?.['length']>0x0&&_0x3e6ca7[_0x19936c(0x33d)](async _0x14cc35=>await _0x21ea6e(_0x14cc35[_0x19936c(0x3ac)](':')[0x1]));return;}if(this['db'][_0x19936c(0x82d)]){await this[_0x19936c(0x89f)][_0x19936c(0x2f5)]['connect']();let _0x4c2f88=await this[_0x19936c(0x899)][_0x19936c(0x39c)]();_0x4c2f88[_0x19936c(0x868)]>0x0&&_0x4c2f88[_0x19936c(0x33d)](async _0x1c3328=>await _0x21ea6e(_0x1c3328[_0x19936c(0x675)][_0x19936c(0x7cb)](/^[\w-]+\./,'')));return;}}catch(_0x52a04b){this[_0x19936c(0x23d)]['error'](_0x52a04b);}}async[a0_0x1c3883(0x5c7)](){const _0x2a1f5d=a0_0x1c3883;try{let _0x30edf7=await this['repository'][_0x2a1f5d(0x823)]['findMany']({'online':!0x1});console[_0x2a1f5d(0x7f9)]('Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20'+_0x30edf7['length']);let _0x24cdc2={'online':!0x1},_0x3a4285=await this['repository'][_0x2a1f5d(0x823)][_0x2a1f5d(0x96c)](_0x24cdc2);console[_0x2a1f5d(0x7f9)](_0x2a1f5d(0x5fd)+_0x3a4285[_0x2a1f5d(0x6d8)]);}catch(_0x1e59d3){console['error'](_0x2a1f5d(0x2d8),_0x1e59d3);}}async[a0_0x1c3883(0x94c)](){const _0x1b9bc6=a0_0x1c3883;try{let _0x184753={'online':!0x1},_0x530471={'online':!0x1,'lastDisconnect':Date[_0x1b9bc6(0x7e8)]()},_0x39145f=await this['repository']['auth'][_0x1b9bc6(0x3ce)](_0x184753,_0x530471);await this[_0x1b9bc6(0x5c7)]();}catch(_0x64410c){console[_0x1b9bc6(0x61d)](_0x1b9bc6(0x393),_0x64410c);}}[a0_0x1c3883(0x40a)](){const _0xffbf42=a0_0x1c3883;this[_0xffbf42(0x6c6)]['on'](_0xffbf42(0x886),async _0x4d5be3=>{const _0x8eb49a=_0xffbf42;try{this[_0x8eb49a(0x254)][_0x4d5be3]=void 0x0;}catch{}try{this[_0x8eb49a(0x267)](_0x4d5be3);}finally{this[_0x8eb49a(0x23d)][_0x8eb49a(0x7b3)](_0x8eb49a(0x85f)+_0x4d5be3+'\x22\x20-\x20REMOVED');}});}[a0_0x1c3883(0x7a8)](){const _0x262baf=a0_0x1c3883;this[_0x262baf(0x6c6)]['on'](_0x262baf(0x980),async _0x4a8e47=>{const _0x2e834f=_0x262baf;try{this['waInstances'][_0x4a8e47]=void 0x0;}catch{}try{this[_0x2e834f(0x267)](_0x4a8e47);}finally{this[_0x2e834f(0x23d)][_0x2e834f(0x7b3)](_0x2e834f(0x85f)+_0x4a8e47+_0x2e834f(0x222));}});}},Jt=class extends O{['getChatModelForOwner'](_0x714f19){return ta(_0x714f19);}async[a0_0x1c3883(0x2ca)](_0x536039){const _0x79e37f=a0_0x1c3883;if(_0x536039[_0x79e37f(0x868)]!==0x0)try{return{'insertCount':(await this[_0x79e37f(0x7d5)](_0x536039[0x0][_0x79e37f(0x523)])[_0x79e37f(0x36d)]([..._0x536039]))[_0x79e37f(0x868)]};}catch(_0x4d88d9){return _0x4d88d9;}}async[a0_0x1c3883(0x571)](_0x331558,_0x146f10){const _0x2717b0=a0_0x1c3883;try{let _0x8a9e8f=this[_0x2717b0(0x7d5)](_0x146f10),_0x4619d4=A(_0x331558[_0x2717b0(0x5b0)]);return await _0x8a9e8f[_0x2717b0(0x571)](_0x4619d4)[_0x2717b0(0x90e)]({'lastmsg':-0x1})['limit'](_0x331558?.[_0x2717b0(0x845)]??0x0)['lean']();}catch{return[];}}async[a0_0x1c3883(0x7ab)](_0x4f7262,_0x3a9caf){const _0x1df4ff=a0_0x1c3883;try{let _0x39947a=this[_0x1df4ff(0x7d5)](_0x3a9caf),_0x5ddacb=A(_0x4f7262[_0x1df4ff(0x5b0)]);return _0x5ddacb['groupdata.participants']={'$ne':[]},await _0x39947a[_0x1df4ff(0x571)](_0x5ddacb)[_0x1df4ff(0x90e)]({'lastmsg':-0x1})[_0x1df4ff(0x845)](_0x4f7262?.[_0x1df4ff(0x845)]??0x0)[_0x1df4ff(0x241)]();}catch{return[];}}async[a0_0x1c3883(0x6c2)](_0x3f8d3e,_0x371559){const _0x2600e3=a0_0x1c3883;try{return{'deletedCount':(await this[_0x2600e3(0x7d5)](_0x371559)['deleteMany']({..._0x3f8d3e['where']}))[_0x2600e3(0x40b)]};}catch(_0x90b887){return{'error':_0x90b887?.[_0x2600e3(0x25c)]()};}}async['deleteAll'](_0x431493,_0x56a685){const _0x17b085=a0_0x1c3883;try{return await this[_0x17b085(0x7d5)](_0x56a685)[_0x17b085(0x96c)]({..._0x431493[_0x17b085(0x5b0)]}),[];}catch(_0x57afd0){return{'error':_0x57afd0?.[_0x17b085(0x25c)]()};}}async[a0_0x1c3883(0x213)](_0xc4675,_0x3b9e3f){const _0x237e9f=a0_0x1c3883;try{let _0x2e9574=this['getChatModelForOwner'](_0x3b9e3f),_0x5436bd=A(_0xc4675[_0x237e9f(0x5b0)]);return await _0x2e9574[_0x237e9f(0x213)](_0x5436bd)[_0x237e9f(0x241)]();}catch{return null;}}async[a0_0x1c3883(0x3e7)](_0x5e764d,_0xde83a1,_0x12d167,_0x4b7f83,_0x6b53d2=a0_0x1c3883(0x20f)){const _0x6a666c=a0_0x1c3883;try{let _0x1b59e4={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x4b7f83},_0x4d2578=this[_0x6a666c(0x7d5)](_0x12d167),_0x2560c8=A(_0x5e764d['where']);Object[_0x6a666c(0x835)](_0xde83a1)[_0x6a666c(0x33d)](_0x10b6a8=>{_0xde83a1[_0x10b6a8]==null&&delete _0xde83a1[_0x10b6a8];});let _0x117a8d={};return _0x117a8d[_0x6b53d2]=_0xde83a1,await _0x4d2578['findOneAndUpdate'](_0x2560c8,_0x117a8d,_0x1b59e4);}catch(_0x298e7c){return console['error'](_0x298e7c),null;}}async['updateMany'](_0x2baa1b){const _0x4ab727=a0_0x1c3883;try{let _0x15c0e1=this[_0x4ab727(0x7d5)](_0x2baa1b[0x0][_0x4ab727(0x6ce)]['where'][_0x4ab727(0x523)]),_0x5b069f=_0x2baa1b[_0x4ab727(0x4ac)](_0x432879=>({'updateOne':{'filter':{..._0x432879[_0x4ab727(0x6ce)][_0x4ab727(0x5b0)]},'update':{'$set':_0x432879['update']},'upsert':!0x0}})),_0x3b9463=await _0x15c0e1[_0x4ab727(0x995)](_0x5b069f);return _0x3b9463[_0x4ab727(0x5c1)]+_0x3b9463[_0x4ab727(0x5a5)];}catch(_0x27791a){return console['error'](_0x27791a),0x0;}}async['removeUnusedChatFields'](_0x562a20){const _0x5441b3=a0_0x1c3883;try{let _0x4f4552={'group_isCommunity':'','group_announce':'','group_size':''},_0x2defa0={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x326959={'$unset':_0x4f4552};return(await this[_0x5441b3(0x7d5)](_0x562a20)['updateMany'](_0x2defa0,_0x326959))[_0x5441b3(0x5c1)];}catch(_0x1f901d){return console[_0x5441b3(0x61d)](_0x5441b3(0x35c),_0x1f901d),0x0;}}async[a0_0x1c3883(0x77a)](_0x495182){const _0x188f79=a0_0x1c3883;try{let _0x318d58=this[_0x188f79(0x7d5)](_0x495182),_0x41e519={'leadInfo.etiquetas':{'$exists':!0x1}},_0x13e94e={'$set':{'leadInfo.etiquetas':[]}};return(await _0x318d58[_0x188f79(0x286)](_0x41e519,_0x13e94e))['modifiedCount'];}catch(_0x4e14e6){return console[_0x188f79(0x61d)](_0x4e14e6),0x0;}}async['updateMissingTags'](_0x28fd8b){const _0x4586cd=a0_0x1c3883;try{let _0x3df5d9=this[_0x4586cd(0x7d5)](_0x28fd8b),_0x5b8a5e={'leadInfo.tags':{'$exists':!0x1}},_0x471ca5={'$set':{'leadInfo.tags':[]}};return(await _0x3df5d9['updateMany'](_0x5b8a5e,_0x471ca5))[_0x4586cd(0x5c1)];}catch(_0x1e668c){return console[_0x4586cd(0x61d)](_0x1e668c),0x0;}}async['updateMissingCustomFields'](_0x30d378){const _0x5648e8=a0_0x1c3883;try{let _0x2a7cdd=this['getChatModelForOwner'](_0x30d378),_0x2ebdec={'leadInfo.customFields':{'$exists':!0x1}},_0x63ae94={'$set':{'leadInfo.customFields':[]}};return(await _0x2a7cdd[_0x5648e8(0x286)](_0x2ebdec,_0x63ae94))[_0x5648e8(0x5c1)];}catch(_0x56613e){return console[_0x5648e8(0x61d)](_0x56613e),0x0;}}async['insertMany'](_0x108c73,_0x3ea345){const _0xa623b9=a0_0x1c3883;if(!Array[_0xa623b9(0x37b)](_0x108c73)||_0x108c73[_0xa623b9(0x868)]===0x0)throw new Error(_0xa623b9(0x878));try{return(await this[_0xa623b9(0x7d5)](_0x3ea345)[_0xa623b9(0x36d)](_0x108c73))[_0xa623b9(0x868)];}catch(_0xd2060b){throw console['error'](_0xa623b9(0x934),_0xd2060b),_0xd2060b;}}async['deleteChat'](_0x5878f6,_0x8dcef7){const _0x573147=a0_0x1c3883;try{await this[_0x573147(0x7d5)](_0x8dcef7)['deleteOne']({'_id':_0x5878f6});}catch(_0x1a7ad4){throw console[_0x573147(0x61d)](_0x573147(0x530),_0x1a7ad4),_0x1a7ad4;}}},qt=class extends O{constructor(_0x244726,_0x54f255,_0x2e743a){const _0x411a7b=a0_0x1c3883;super(_0x54f255),this[_0x411a7b(0x47e)]=_0x244726,this[_0x411a7b(0x554)]=_0x54f255,this[_0x411a7b(0x96d)]=_0x2e743a;}async[a0_0x1c3883(0x2ca)](_0x56aeca){const _0x24b949=a0_0x1c3883;if(_0x56aeca[_0x24b949(0x868)]!==0x0)try{return{'insertCount':(await this[_0x24b949(0x47e)][_0x24b949(0x36d)]([..._0x56aeca]))[_0x24b949(0x868)]};}catch(_0x7c467c){return _0x7c467c;}}async['update'](_0x398d3f,_0x2fec54){const _0x37ccb6=a0_0x1c3883;try{let _0x37fc0f=A(_0x398d3f[_0x37ccb6(0x5b0)]);return{'updatedCount':(await this['cacheContactModel'][_0x37ccb6(0x286)](_0x37fc0f,{'$set':_0x2fec54}))[_0x37ccb6(0x5c1)]};}catch(_0x1f70f1){return console[_0x37ccb6(0x61d)](_0x37ccb6(0x869),_0x1f70f1),{'error':_0x1f70f1[_0x37ccb6(0x25c)]()};}}async[a0_0x1c3883(0x7fe)](_0x335230){const _0x19ef9d=a0_0x1c3883;try{let _0x179bf6={'_id':{'$in':_0x335230}};return await this['cacheContactModel'][_0x19ef9d(0x571)](_0x179bf6)['lean']();}catch(_0x407e83){return console[_0x19ef9d(0x61d)](_0x19ef9d(0x957),_0x407e83),[];}}async['delete'](_0xbc9764){const _0x1f8502=a0_0x1c3883;try{return{'deletedCount':(await this['cacheContactModel'][_0x1f8502(0x96c)]({..._0xbc9764[_0x1f8502(0x5b0)]}))[_0x1f8502(0x40b)]};}catch(_0x1c5e44){return{'error':_0x1c5e44?.['toString']()};}}async[a0_0x1c3883(0x571)](_0x4fea80){const _0x45d929=a0_0x1c3883;try{let _0x21bcac=A(_0x4fea80[_0x45d929(0x5b0)]);return await this[_0x45d929(0x47e)]['find'](_0x21bcac)[_0x45d929(0x845)](_0x4fea80?.['limit']??0x0)[_0x45d929(0x241)]();}catch{return[];}}async[a0_0x1c3883(0x213)](_0x55f4eb){const _0xd5398e=a0_0x1c3883;try{let _0x63fcaf=A(_0x55f4eb[_0xd5398e(0x5b0)]);return await this[_0xd5398e(0x47e)]['findOne'](_0x63fcaf)['lean']();}catch{return null;}}},Vt=class extends O{constructor(_0x5e3ea1,_0x18d96c,_0x5741cd){const _0xaf43dd=a0_0x1c3883;super(_0x18d96c),this['messageLogsModel']=_0x5e3ea1,this[_0xaf43dd(0x554)]=_0x18d96c,this[_0xaf43dd(0x96d)]=_0x5741cd;}async['insert'](_0x50fd28){const _0x358197=a0_0x1c3883;if(_0x50fd28[_0x358197(0x868)]!==0x0)try{return{'insertCount':(await this[_0x358197(0x7db)][_0x358197(0x36d)]([..._0x50fd28]))[_0x358197(0x868)]};}catch(_0x231e1d){return _0x231e1d;}}async[a0_0x1c3883(0x4f3)](_0x1b4113,_0x83cc98){const _0x1415ff=a0_0x1c3883;try{let _0x17a8c0=A(_0x1b4113[_0x1415ff(0x5b0)]);return{'updatedCount':(await this[_0x1415ff(0x7db)]['updateMany'](_0x17a8c0,{'$set':_0x83cc98}))[_0x1415ff(0x5c1)]};}catch(_0x16ff51){return console[_0x1415ff(0x61d)](_0x1415ff(0x869),_0x16ff51),{'error':_0x16ff51[_0x1415ff(0x25c)]()};}}async[a0_0x1c3883(0x6c2)](_0x2b0295){const _0x29dfde=a0_0x1c3883;try{return{'deletedCount':(await this[_0x29dfde(0x7db)][_0x29dfde(0x96c)]({..._0x2b0295[_0x29dfde(0x5b0)]}))[_0x29dfde(0x40b)]};}catch(_0x3fe853){return{'error':_0x3fe853?.['toString']()};}}async['findOne'](_0x5ac7fa){const _0x33a217=a0_0x1c3883;try{let _0x4ab2c7=A(_0x5ac7fa[_0x33a217(0x5b0)]);return await this[_0x33a217(0x7db)]['findOne'](_0x4ab2c7)[_0x33a217(0x241)]();}catch{return null;}}},Gt=class extends O{[a0_0x1c3883(0x927)](_0x44944b){return va(_0x44944b);}async[a0_0x1c3883(0x3e7)](_0x4f7e15,_0x5abd4c,_0x5492be,_0x43e249){const _0xb88506=a0_0x1c3883;try{let _0x15abe2={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x43e249},_0x43fe2e=this[_0xb88506(0x927)](_0x5492be),_0x20ea8a=A(_0x4f7e15['where']);return await _0x43fe2e[_0xb88506(0x751)](_0x20ea8a,{'$set':_0x5abd4c},_0x15abe2);}catch(_0x11a447){return console[_0xb88506(0x61d)](_0x11a447),null;}}async[a0_0x1c3883(0x571)](_0x1ed5f9,_0x16ed72){const _0x541e8e=a0_0x1c3883;try{let _0x4e17a0=this[_0x541e8e(0x927)](_0x16ed72),_0x3744b7=A(_0x1ed5f9['where']);return await _0x4e17a0['find'](_0x3744b7);}catch(_0x451773){console[_0x541e8e(0x61d)](_0x451773);}}async['delete'](_0x134890,_0x12fca3){const _0xd772e7=a0_0x1c3883;try{let _0x3fc8b0=this['getLabelModelForOwner'](_0x12fca3),_0x2a2fdb=A(_0x134890[_0xd772e7(0x5b0)]);await _0x3fc8b0[_0xd772e7(0x96c)](_0x2a2fdb);}catch(_0x5cbca7){console['error'](_0x5cbca7);}}async[a0_0x1c3883(0x3e6)](_0x3bd39f){const _0x3e9d1a=a0_0x1c3883;try{return await this[_0x3e9d1a(0x927)](_0x3bd39f)[_0x3e9d1a(0x989)][_0x3e9d1a(0x977)](),{'success':!0x0};}catch(_0x10e2a4){return console[_0x3e9d1a(0x61d)](_0x10e2a4),{'success':!0x1,'error':_0x10e2a4};}}},Bt=class{constructor(_0x195167){const _0x4d587b=a0_0x1c3883;this[_0x4d587b(0x67d)]=_0x195167;}async['editChat']({instanceName:_0x1332e8},_0x326aee){const _0x2dd549=a0_0x1c3883;return await this[_0x2dd549(0x67d)][_0x2dd549(0x254)][_0x1332e8][_0x2dd549(0x43b)](_0x326aee);}async[a0_0x1c3883(0x327)]({instanceName:_0x2efab2},_0x48f1d7){const _0x915871=a0_0x1c3883;return await this[_0x915871(0x67d)][_0x915871(0x254)][_0x2efab2][_0x915871(0x327)](_0x48f1d7);}async['importChats']({instanceName:_0x219487},_0x24a696){return await this['waMonitor']['waInstances'][_0x219487]['importChats'](_0x24a696);}async[a0_0x1c3883(0x548)]({instanceName:_0x2aab1b},_0x24a4e0){const _0x5130b0=a0_0x1c3883;return await this[_0x5130b0(0x67d)]['waInstances'][_0x2aab1b][_0x5130b0(0x746)](_0x24a4e0);}async['archiveChat']({instanceName:_0x42c0c7},_0x28152d){const _0x4583cf=a0_0x1c3883;return await this[_0x4583cf(0x67d)]['waInstances'][_0x42c0c7][_0x4583cf(0x538)](_0x28152d);}async['deleteMessage']({instanceName:_0x5a4d3f},_0x53b9d2){const _0x245691=a0_0x1c3883;return await this['waMonitor'][_0x245691(0x254)][_0x5a4d3f]['deleteMessage'](_0x53b9d2);}async[a0_0x1c3883(0x215)]({instanceName:_0x4f46cc},_0x2d7703){const _0x4210d3=a0_0x1c3883;return await this['waMonitor'][_0x4210d3(0x254)][_0x4f46cc][_0x4210d3(0x319)](_0x2d7703[_0x4210d3(0x418)]);}async[a0_0x1c3883(0x543)]({instanceName:_0x331aea},_0x1e0710){const _0x4b6a4b=a0_0x1c3883;return await this['waMonitor'][_0x4b6a4b(0x254)][_0x331aea][_0x4b6a4b(0x543)](_0x1e0710[_0x4b6a4b(0x418)]);}async[a0_0x1c3883(0x266)]({instanceName:_0x5a8b7f},_0x37a5a4){const _0x431b22=a0_0x1c3883;return await this['waMonitor'][_0x431b22(0x254)][_0x5a8b7f][_0x431b22(0x266)](_0x37a5a4);}async[a0_0x1c3883(0x445)]({instanceName:_0x231346},_0x18aa54){const _0x329466=a0_0x1c3883;return await this[_0x329466(0x67d)][_0x329466(0x254)][_0x231346][_0x329466(0x445)](_0x18aa54);}async['getBase64FromMediaMessage']({instanceName:_0xdfccdd},_0xd91e6){const _0x4a49d0=a0_0x1c3883;return await this[_0x4a49d0(0x67d)][_0x4a49d0(0x254)][_0xdfccdd]['getBase64FromMediaMessage'](_0xd91e6);}async['fetchMessages']({instanceName:_0x44325b},_0x2a8494){const _0xd0ca07=a0_0x1c3883;return await this[_0xd0ca07(0x67d)][_0xd0ca07(0x254)][_0x44325b][_0xd0ca07(0x8f9)](_0x2a8494);}async[a0_0x1c3883(0x903)]({instanceName:_0x12ddc4}){const _0x496745=a0_0x1c3883;return await this[_0x496745(0x67d)][_0x496745(0x254)][_0x12ddc4][_0x496745(0x903)]();}async[a0_0x1c3883(0x280)]({instanceName:_0x4d0f01}){const _0x52b818=a0_0x1c3883;return await this[_0x52b818(0x67d)][_0x52b818(0x254)][_0x4d0f01][_0x52b818(0x280)]();}async[a0_0x1c3883(0x355)]({instanceName:_0x2381e8}){const _0x3b108a=a0_0x1c3883;return await this['waMonitor']['waInstances'][_0x2381e8][_0x3b108a(0x355)]();}async['updatePrivacySettings']({instanceName:_0x4f544c},_0x12f1c2){const _0x1b245a=a0_0x1c3883;return await this[_0x1b245a(0x67d)][_0x1b245a(0x254)][_0x4f544c][_0x1b245a(0x5d4)](_0x12f1c2);}async[a0_0x1c3883(0x981)]({instanceName:_0x220826},_0x368c89){const _0x54b796=a0_0x1c3883;return await this[_0x54b796(0x67d)][_0x54b796(0x254)][_0x220826][_0x54b796(0x981)](_0x368c89[_0x54b796(0x418)]);}async[a0_0x1c3883(0x718)]({instanceName:_0x1f81b9},_0x5a185c){const _0x14c616=a0_0x1c3883;return await this[_0x14c616(0x67d)][_0x14c616(0x254)][_0x1f81b9][_0x14c616(0x718)](_0x5a185c[_0x14c616(0x1f9)]);}async[a0_0x1c3883(0x7c9)]({instanceName:_0x32ffa4},_0x19aa6c){const _0xe79ee=a0_0x1c3883;return await this[_0xe79ee(0x67d)]['waInstances'][_0x32ffa4][_0xe79ee(0x7c9)](_0x19aa6c['status']);}async[a0_0x1c3883(0x6fe)]({instanceName:_0x41ed74},_0x1a3e13){const _0x47cfbd=a0_0x1c3883;return await this[_0x47cfbd(0x67d)][_0x47cfbd(0x254)][_0x41ed74][_0x47cfbd(0x6fe)](_0x1a3e13[_0x47cfbd(0x388)]);}async[a0_0x1c3883(0x240)]({instanceName:_0x22ef54},_0x441a29){const _0x16b5a5=a0_0x1c3883;return await this[_0x16b5a5(0x67d)][_0x16b5a5(0x254)][_0x22ef54][_0x16b5a5(0x240)]();}},Wt=require(a0_0x1c3883(0x97e)),zt=class u{constructor(_0x29a0b3,_0x43c9fe,_0x27b0da,_0x4f0180,_0x190c37){const _0x55a300=a0_0x1c3883;this['waMonitor']=_0x29a0b3,this['configService']=_0x43c9fe,this[_0x55a300(0x89f)]=_0x27b0da,this[_0x55a300(0x6c6)]=_0x4f0180,this[_0x55a300(0x56d)]=_0x190c37,this[_0x55a300(0x23d)]=new $(u[_0x55a300(0x1f9)]);}async[a0_0x1c3883(0x36b)]({instanceName:_0x5e7e5e,apikey:_0x478542,number:_0x110db7,proxy:_0x17428a=!0x0}){const _0xdb2a05=a0_0x1c3883;try{let _0x41e2f0=new $e(this[_0xdb2a05(0x554)],this[_0xdb2a05(0x6c6)],this[_0xdb2a05(0x89f)]);_0x41e2f0[_0xdb2a05(0x259)]=_0x5e7e5e,this[_0xdb2a05(0x67d)][_0xdb2a05(0x254)][_0x41e2f0[_0xdb2a05(0x259)]]=_0x41e2f0;let _0x20de1e={};_0x478542?(await this[_0xdb2a05(0x89f)][_0xdb2a05(0x823)][_0xdb2a05(0x855)]({'apikey':_0x478542},_0x5e7e5e),_0x20de1e[_0xdb2a05(0x7e7)]=_0x478542):_0x20de1e=await this[_0xdb2a05(0x56d)][_0xdb2a05(0x45a)]({'instanceName':_0x41e2f0[_0xdb2a05(0x259)]});let _0x13eb46;if(_0x110db7){if(_0x13eb46=await this[_0xdb2a05(0x3d8)](_0x110db7),_0x13eb46[_0xdb2a05(0x61d)])throw new x(_0x13eb46[_0xdb2a05(0x61d)][_0xdb2a05(0x25c)]());_0x110db7=_0x13eb46['number'];}let _0x308cf5;return await _0x41e2f0[_0xdb2a05(0x400)](_0x110db7),await(0x0,Wt[_0xdb2a05(0x6f4)])(0xfa0),_0x110db7&&await(0x0,Wt[_0xdb2a05(0x6f4)])(0xbb8),_0x308cf5=_0x41e2f0[_0xdb2a05(0x836)],{'instance':{'instanceName':_0x41e2f0[_0xdb2a05(0x259)],'status':'created'},'hash':_0x20de1e,'qrcode':_0x308cf5};}catch(_0xbdec13){throw this[_0xdb2a05(0x23d)][_0xdb2a05(0x61d)](_0xbdec13),_0xbdec13;}}async['connectToWhatsappController']({instanceName:_0x2663a1,number:_0x46094d=null}){const _0x5b39b2=a0_0x1c3883;try{let _0x453774=this[_0x5b39b2(0x67d)][_0x5b39b2(0x254)][_0x2663a1];switch(_0x453774?.[_0x5b39b2(0x624)]?.[_0x5b39b2(0x589)]){case'close':return await _0x453774[_0x5b39b2(0x400)](_0x46094d),await(0x0,Wt[_0x5b39b2(0x6f4)])(0x7d0),_0x453774[_0x5b39b2(0x836)];case _0x5b39b2(0x206):return _0x453774[_0x5b39b2(0x836)];default:return await this[_0x5b39b2(0x544)]({'instanceName':_0x2663a1});}}catch(_0x530a5b){this[_0x5b39b2(0x23d)][_0x5b39b2(0x7f9)](_0x530a5b);}}async[a0_0x1c3883(0x544)]({instanceName:_0x249428}){const _0x563610=a0_0x1c3883;let _0x29124d=this['waMonitor'][_0x563610(0x254)][_0x249428]['connectionStatus'],_0x1417f3=null;_0x29124d['state']===_0x563610(0x7e9)&&_0x249428&&(_0x1417f3=await this['waMonitor'][_0x563610(0x248)](_0x249428));let _0x3fe739=null;return _0x29124d[_0x563610(0x589)]===_0x563610(0x206)&&_0x249428&&(_0x3fe739=this[_0x563610(0x67d)][_0x563610(0x254)][_0x249428][_0x563610(0x836)]),{'instance':_0x249428,'connectionStatus':_0x29124d,'instanceInfo':_0x1417f3,'qrcode':_0x3fe739};}async['verifyWhatsAppNumber'](_0x5aece8){const _0x570e0f=a0_0x1c3883;_0x5aece8=_0x5aece8[_0x570e0f(0x7cb)](/\D/g,'');let _0x39cdd1=Object['keys'](this[_0x570e0f(0x67d)][_0x570e0f(0x254)])[_0x570e0f(0x8cd)](_0x59000f=>{const _0x4ff14b=_0x570e0f;let _0x1eec78=this[_0x4ff14b(0x67d)][_0x4ff14b(0x254)][_0x59000f];return _0x1eec78&&_0x1eec78['connectionStatus']&&_0x1eec78[_0x4ff14b(0x624)][_0x4ff14b(0x589)]===_0x4ff14b(0x7e9);});if(_0x39cdd1['length']===0x0)return{'number':this['formatBRNumber'](_0x5aece8)};let _0x575475=Math[_0x570e0f(0x26a)](Math[_0x570e0f(0x8b2)]()*_0x39cdd1[_0x570e0f(0x868)]),_0x2872d9=_0x39cdd1[_0x575475];try{let _0x49bb03=(await this[_0x570e0f(0x67d)][_0x570e0f(0x254)][_0x2872d9][_0x570e0f(0x327)]({'numbers':[_0x5aece8]}))[_0x570e0f(0x479)]();return _0x49bb03[_0x570e0f(0x689)]?{'number':_0x49bb03['jid']['replace'](_0x570e0f(0x67c),'')}:{'number':_0x5aece8,'error':_0x570e0f(0x57a)};}catch(_0x48dbe9){return this[_0x570e0f(0x23d)]['error'](_0x570e0f(0x22c)+_0x48dbe9),{'number':_0x5aece8,'error':_0x570e0f(0x6de)};}}[a0_0x1c3883(0x727)](_0x5f2510){const _0x1af3cb=a0_0x1c3883;let _0x373160=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x1af3cb(0x2bf)](_0x5f2510);if(_0x373160&&_0x373160[0x1]==='55'){let _0x359487=_0x373160[0x2],_0x2d6ea6=_0x373160[0x3],_0x3d2d7b=_0x373160[0x4];if(parseInt(_0x359487)>=0x1f&&_0x2d6ea6==='9')return _0x373160[0x1]+_0x359487+_0x3d2d7b;}return _0x5f2510;}async['restartInstance']({instanceName:_0x1492d2}){const _0x1afaa9=a0_0x1c3883;try{return this[_0x1afaa9(0x67d)][_0x1afaa9(0x254)][_0x1492d2]?.[_0x1afaa9(0x8d0)]?.['ws']?.[_0x1afaa9(0x8e5)](),{'status':_0x1afaa9(0x919),'error':!0x1,'response':{'message':_0x1afaa9(0x6aa)}};}catch(_0x55c198){this['logger'][_0x1afaa9(0x61d)](_0x55c198);}}async[a0_0x1c3883(0x714)]({instanceName:_0x5b2f20}){const _0x46166d=a0_0x1c3883;return _0x5b2f20?this[_0x46166d(0x67d)]['instanceInfo'](_0x5b2f20):this[_0x46166d(0x67d)][_0x46166d(0x248)]();}async[a0_0x1c3883(0x91b)]({instanceName:_0x357a71}){const _0x4eb0da=a0_0x1c3883;try{return await this[_0x4eb0da(0x67d)]['waInstances'][_0x357a71]?.[_0x4eb0da(0x8d0)]?.['logout']('Log\x20out\x20instance:\x20'+_0x357a71),{'error':!0x1,'message':_0x4eb0da(0x284)};}catch(_0x3c5b92){throw new x(_0x3c5b92['toString']());}}async[a0_0x1c3883(0x476)]({instanceName:_0x250986}){const _0x35a1a8=a0_0x1c3883;if((await this[_0x35a1a8(0x544)]({'instanceName':_0x250986}))['connectionStatus']['state']===_0x35a1a8(0x7e9))throw new m(['Deletion\x20failed','The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this['waMonitor'][_0x35a1a8(0x254)][_0x250986],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x46d352){throw new m(_0x46d352[_0x35a1a8(0x25c)]());}}},re=require(a0_0x1c3883(0x377)),Ht=class{constructor(_0x38697f){const _0x51acda=a0_0x1c3883;this[_0x51acda(0x67d)]=_0x38697f;}async[a0_0x1c3883(0x696)]({instanceName:_0x11677b},_0x56f463){const _0x5ed73c=a0_0x1c3883;return await this[_0x5ed73c(0x67d)][_0x5ed73c(0x254)][_0x11677b]['textMessage'](_0x56f463);}async[a0_0x1c3883(0x8ca)]({instanceName:_0x2b317b},_0x4e3567){const _0x1fa160=a0_0x1c3883;return await this['waMonitor'][_0x1fa160(0x254)][_0x2b317b]['menuMessage'](_0x4e3567);}async['sendMedia']({instanceName:_0x7e064d},_0x334ea5){const _0x32a013=a0_0x1c3883;if((0x0,re[_0x32a013(0x237)])(_0x334ea5?.[_0x32a013(0x962)]?.[_0x32a013(0x3d1)])&&!_0x334ea5?.[_0x32a013(0x962)]?.[_0x32a013(0x748)])throw new m(_0x32a013(0x437));if((0x0,re[_0x32a013(0x562)])(_0x334ea5?.[_0x32a013(0x962)]?.['media'])||(0x0,re[_0x32a013(0x237)])(_0x334ea5?.[_0x32a013(0x962)]?.[_0x32a013(0x3d1)]))return await this[_0x32a013(0x67d)][_0x32a013(0x254)][_0x7e064d][_0x32a013(0x962)](_0x334ea5);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x1c3883(0x85d)]({instanceName:_0x271e0c},_0x2ea77f){const _0x299942=a0_0x1c3883;if((0x0,re[_0x299942(0x562)])(_0x2ea77f[_0x299942(0x2fb)][_0x299942(0x925)])||(0x0,re[_0x299942(0x237)])(_0x2ea77f[_0x299942(0x2fb)]['image']))return await this[_0x299942(0x67d)]['waInstances'][_0x271e0c][_0x299942(0x61f)](_0x2ea77f);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x1c3883(0x8c9)]({instanceName:_0x4451e4},_0x49e3c7){const _0x1b5d51=a0_0x1c3883;if((0x0,re[_0x1b5d51(0x562)])(_0x49e3c7[_0x1b5d51(0x4f0)][_0x1b5d51(0x2e7)])||(0x0,re[_0x1b5d51(0x237)])(_0x49e3c7['audioMessage']['audio']))return await this[_0x1b5d51(0x67d)]['waInstances'][_0x4451e4]['audioWhatsapp'](_0x49e3c7);throw new m(_0x1b5d51(0x582));}async[a0_0x1c3883(0x3b4)]({instanceName:_0x36d0e6},_0x2374fa){const _0x3fe132=a0_0x1c3883;return await this[_0x3fe132(0x67d)][_0x3fe132(0x254)][_0x36d0e6][_0x3fe132(0x661)](_0x2374fa);}async[a0_0x1c3883(0x98f)]({instanceName:_0x510885},_0x45872f){const _0x2c6558=a0_0x1c3883;return await this['waMonitor'][_0x2c6558(0x254)][_0x510885][_0x2c6558(0x5b4)](_0x45872f);}async[a0_0x1c3883(0x7a9)]({instanceName:_0x4b8644},_0x17ac4f){const _0x8e5561=a0_0x1c3883;return await this[_0x8e5561(0x67d)][_0x8e5561(0x254)][_0x4b8644][_0x8e5561(0x786)](_0x17ac4f);}async[a0_0x1c3883(0x412)]({instanceName:_0x277b01},_0x32efe8){const _0x3247e0=a0_0x1c3883;return await this[_0x3247e0(0x67d)][_0x3247e0(0x254)][_0x277b01][_0x3247e0(0x5dc)](_0x32efe8);}async[a0_0x1c3883(0x87e)]({instanceName:_0x27ae6d},_0x5178be){const _0x4861a8=a0_0x1c3883;return await this[_0x4861a8(0x67d)][_0x4861a8(0x254)][_0x27ae6d]['contactMessage'](_0x5178be);}async['sendReaction']({instanceName:_0x242b24},_0x24bc2e){const _0x37307b=a0_0x1c3883;if(!_0x24bc2e[_0x37307b(0x77e)]['reaction'][_0x37307b(0x483)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x37307b(0x80f));return await this[_0x37307b(0x67d)][_0x37307b(0x254)][_0x242b24][_0x37307b(0x77e)](_0x24bc2e);}async[a0_0x1c3883(0x97b)]({instanceName:_0x4f36d3},_0x31ec3e){const _0x414a89=a0_0x1c3883;return await this[_0x414a89(0x67d)][_0x414a89(0x254)][_0x4f36d3]['statusMessage'](_0x31ec3e);}},Pi=require(a0_0x1c3883(0x4e3)),js=require(a0_0x1c3883(0x53a)),Kt=class u{constructor(_0xaefc96,_0x10029c,_0x22fc67){const _0xb200fc=a0_0x1c3883;this[_0xb200fc(0x554)]=_0xaefc96,this[_0xb200fc(0x67d)]=_0x10029c,this[_0xb200fc(0x89f)]=_0x22fc67,this[_0xb200fc(0x23d)]=new $(u[_0xb200fc(0x1f9)]);}async['jwt'](_0x4b0094){const _0x65854f=a0_0x1c3883;let _0x27dfc5=this[_0x65854f(0x554)]['get']('AUTHENTICATION')['JWT'],_0x1f1728=(0x0,Pi[_0x65854f(0x41e)])({'instanceName':_0x4b0094[_0x65854f(0x259)],'apiName':ot,'tokenId':(0x0,js['v4'])()},_0x27dfc5[_0x65854f(0x635)],{'expiresIn':_0x27dfc5['EXPIRIN_IN'],'encoding':_0x65854f(0x88b),'subject':_0x65854f(0x3db)}),_0x19da4f=await this[_0x65854f(0x89f)][_0x65854f(0x823)][_0x65854f(0x855)]({'jwt':_0x1f1728},_0x4b0094[_0x65854f(0x259)]);if(_0x19da4f[_0x65854f(0x61d)])throw this[_0x65854f(0x23d)][_0x65854f(0x61d)]({'localError':u['name']+_0x65854f(0x6a4),'error':_0x19da4f['error']}),new m(_0x65854f(0x230),_0x19da4f[_0x65854f(0x61d)]?.['toString']());return{'jwt':_0x1f1728};}async[a0_0x1c3883(0x7e7)](_0xfcf04){const _0x2746e7=a0_0x1c3883;let _0x3fdb14=(0x0,js['v4'])()[_0x2746e7(0x6e5)](),_0x19ddbe=await this[_0x2746e7(0x89f)][_0x2746e7(0x823)][_0x2746e7(0x855)]({'apikey':_0x3fdb14},_0xfcf04[_0x2746e7(0x259)]);if(_0x19ddbe[_0x2746e7(0x61d)])throw this[_0x2746e7(0x23d)][_0x2746e7(0x61d)]({'localError':u['name']+'.jwt','error':_0x19ddbe[_0x2746e7(0x61d)]}),new m(_0x2746e7(0x230),_0x19ddbe[_0x2746e7(0x61d)]?.[_0x2746e7(0x25c)]());return{'apikey':_0x3fdb14};}async['generateHash'](_0x44ccf2){const _0x2d02eb=a0_0x1c3883;let _0x3af958=this[_0x2d02eb(0x554)][_0x2d02eb(0x923)]('AUTHENTICATION');return await this[_0x3af958[_0x2d02eb(0x2c0)]](_0x44ccf2);}},Qt=class{constructor(_0x55882a){const _0x373a65=a0_0x1c3883;this[_0x373a65(0x67d)]=_0x55882a;}async['createGroup'](_0xa81657,_0x2335a8){const _0x4b520a=a0_0x1c3883;return await this[_0x4b520a(0x67d)][_0x4b520a(0x254)][_0xa81657[_0x4b520a(0x259)]][_0x4b520a(0x2f0)](_0x2335a8);}async[a0_0x1c3883(0x329)](_0x174691,_0x28f368){const _0x3d2c5a=a0_0x1c3883;return await this['waMonitor'][_0x3d2c5a(0x254)][_0x174691['instanceName']][_0x3d2c5a(0x329)](_0x28f368);}async['groupDesc'](_0x475b96,_0x56b5aa){const _0x32f796=a0_0x1c3883;return await this['waMonitor'][_0x32f796(0x254)][_0x475b96['instanceName']][_0x32f796(0x999)](_0x56b5aa);}async[a0_0x1c3883(0x954)](_0x743523,_0x284802){const _0x3acd91=a0_0x1c3883;return await this['waMonitor'][_0x3acd91(0x254)][_0x743523[_0x3acd91(0x259)]][_0x3acd91(0x954)](_0x284802);}async[a0_0x1c3883(0x359)](_0xeb87d3,_0xdb3742){const _0x33fb2b=a0_0x1c3883;return await this[_0x33fb2b(0x67d)][_0x33fb2b(0x254)][_0xeb87d3[_0x33fb2b(0x259)]][_0x33fb2b(0x359)](_0xdb3742);}async[a0_0x1c3883(0x6d3)](_0x4924c4,_0x2ff4aa){const _0x3aa720=a0_0x1c3883;return await this['waMonitor'][_0x3aa720(0x254)][_0x4924c4[_0x3aa720(0x259)]]['groupSetting'](_0x2ff4aa);}async['findGroupInfo'](_0x52f84d,_0x3a04f9){const _0x15a9a0=a0_0x1c3883;return await this[_0x15a9a0(0x67d)]['waInstances'][_0x52f84d[_0x15a9a0(0x259)]][_0x15a9a0(0x56b)](_0x3a04f9);}async[a0_0x1c3883(0x784)](_0x39d0d1){const _0x5958a4=a0_0x1c3883;return await this['waMonitor']['waInstances'][_0x39d0d1['instanceName']][_0x5958a4(0x784)]();}async[a0_0x1c3883(0x558)](_0x3cf535,_0x3da166){const _0x1015df=a0_0x1c3883;return await this[_0x1015df(0x67d)][_0x1015df(0x254)][_0x3cf535['instanceName']][_0x1015df(0x558)](_0x3da166);}async[a0_0x1c3883(0x687)](_0x365dba,_0x51e050){const _0x323869=a0_0x1c3883;return await this[_0x323869(0x67d)][_0x323869(0x254)][_0x365dba[_0x323869(0x259)]]['joinGroup'](_0x51e050);}async[a0_0x1c3883(0x8c0)](_0x58fa36,_0x471dcc){const _0x348059=a0_0x1c3883;return await this['waMonitor'][_0x348059(0x254)][_0x58fa36[_0x348059(0x259)]][_0x348059(0x8c0)](_0x471dcc);}async[a0_0x1c3883(0x413)](_0x384fb5,_0x2a24ec){const _0x8d9670=a0_0x1c3883;return await this[_0x8d9670(0x67d)]['waInstances'][_0x384fb5[_0x8d9670(0x259)]][_0x8d9670(0x413)](_0x2a24ec);}async['findParticipants'](_0x4a1492,_0x2ab41f){const _0x2e732d=a0_0x1c3883;return await this['waMonitor'][_0x2e732d(0x254)][_0x4a1492[_0x2e732d(0x259)]][_0x2e732d(0x221)](_0x2ab41f);}async[a0_0x1c3883(0x2b1)](_0x26fece,_0x4c11a1){const _0x47ddd8=a0_0x1c3883;return await this['waMonitor'][_0x47ddd8(0x254)][_0x26fece[_0x47ddd8(0x259)]][_0x47ddd8(0x24e)](_0x4c11a1);}async[a0_0x1c3883(0x431)](_0x3d1e9d,_0x128d91){const _0x5012fd=a0_0x1c3883;return await this[_0x5012fd(0x67d)][_0x5012fd(0x254)][_0x3d1e9d[_0x5012fd(0x259)]]['toggleEphemeral'](_0x128d91);}async[a0_0x1c3883(0x953)](_0xd7c681,_0x174bf3){const _0x215369=a0_0x1c3883;return await this['waMonitor']['waInstances'][_0xd7c681['instanceName']][_0x215369(0x953)](_0x174bf3);}},Yt=class{constructor(_0xc67ec6){const _0xfc35ed=a0_0x1c3883;this[_0xfc35ed(0x67d)]=_0xc67ec6;}[a0_0x1c3883(0x855)](_0x2e4e60,_0x20d3f4){const _0x4fb842=a0_0x1c3883;return this[_0x4fb842(0x67d)][_0x4fb842(0x254)][_0x2e4e60[_0x4fb842(0x259)]]['setWebhook'](_0x20d3f4);}async['find'](_0x320900){const _0x2580b4=a0_0x1c3883;try{return await this['waMonitor'][_0x2580b4(0x254)][_0x320900['instanceName']][_0x2580b4(0x44b)]();}catch{return{'enabled':null,'url':''};}}},ch=new $(a0_0x1c3883(0x86a)),Xt=class{constructor(_0x340083){const _0x12fdbd=a0_0x1c3883;this[_0x12fdbd(0x67d)]=_0x340083;}async['editScheduleMessage'](_0x23b354,_0x58086e){const _0x2a41e3=a0_0x1c3883;return await this[_0x2a41e3(0x67d)]['waInstances'][_0x23b354[_0x2a41e3(0x259)]]['editScheduleMessage'](_0x58086e);}async[a0_0x1c3883(0x48d)](_0x38300f){const _0x4cfa2e=a0_0x1c3883;return await this['waMonitor'][_0x4cfa2e(0x254)][_0x38300f['instanceName']][_0x4cfa2e(0x48d)]();}async[a0_0x1c3883(0x62b)](_0x574f4e){const _0xe7b2e7=a0_0x1c3883;return await this[_0xe7b2e7(0x67d)][_0xe7b2e7(0x254)][_0x574f4e['instanceName']][_0xe7b2e7(0x62b)]();}async[a0_0x1c3883(0x71e)](_0xdc80ff){const _0x2996a0=a0_0x1c3883;return await this['waMonitor'][_0x2996a0(0x254)][_0xdc80ff[_0x2996a0(0x259)]][_0x2996a0(0x71e)]();}async[a0_0x1c3883(0x5e4)](_0x55447b){const _0x1ab071=a0_0x1c3883;return await this[_0x1ab071(0x67d)][_0x1ab071(0x254)][_0x55447b[_0x1ab071(0x259)]][_0x1ab071(0x5e4)]();}async[a0_0x1c3883(0x27a)](_0x21a962,_0xffa5e2){const _0x1796f9=a0_0x1c3883;return await this[_0x1796f9(0x67d)]['waInstances'][_0x21a962[_0x1796f9(0x259)]][_0x1796f9(0x27a)](_0xffa5e2);}async[a0_0x1c3883(0x8a6)](_0x7116de,_0x396ae9){const _0x341ffd=a0_0x1c3883;return await this[_0x341ffd(0x67d)]['waInstances'][_0x7116de['instanceName']][_0x341ffd(0x8a6)](_0x396ae9);}async['updateAutoCompleteMessages'](_0x15adaa,_0x282da8){const _0x462718=a0_0x1c3883;return await this['waMonitor'][_0x462718(0x254)][_0x15adaa[_0x462718(0x259)]]['updateAutoCompleteMessages'](_0x282da8);}async[a0_0x1c3883(0x85a)](_0x4a98d2,_0xa9e333){const _0x526022=a0_0x1c3883;return await this[_0x526022(0x67d)]['waInstances'][_0x4a98d2[_0x526022(0x259)]][_0x526022(0x85a)](_0xa9e333);}async[a0_0x1c3883(0x305)](_0x40fad3,_0x1cf6db){const _0x1d5c29=a0_0x1c3883;return await this['waMonitor'][_0x1d5c29(0x254)][_0x40fad3[_0x1d5c29(0x259)]][_0x1d5c29(0x305)](_0x1cf6db);}async[a0_0x1c3883(0x6e3)](_0x45058e,_0x1b7256,_0x2ba487,_0x147a73){const _0x4c4755=a0_0x1c3883;return await this[_0x4c4755(0x67d)][_0x4c4755(0x254)][_0x45058e]['startFlowWebhook'](_0x1b7256,_0x2ba487,_0x147a73);}async[a0_0x1c3883(0x8f6)](_0x31ddc9,_0x9d6f09){const _0x4ce22a=a0_0x1c3883;return await this[_0x4ce22a(0x67d)][_0x4ce22a(0x254)][_0x31ddc9[_0x4ce22a(0x259)]][_0x4ce22a(0x8f6)](_0x9d6f09);}async['fetchConversation'](_0x6f48a1,_0x1521a8){const _0x6c1e39=a0_0x1c3883;return await this[_0x6c1e39(0x67d)][_0x6c1e39(0x254)][_0x6f48a1[_0x6c1e39(0x259)]][_0x6c1e39(0x595)](_0x1521a8);}async[a0_0x1c3883(0x732)](_0x2aaf67,_0x586609){const _0x297c99=a0_0x1c3883;return await this[_0x297c99(0x67d)][_0x297c99(0x254)][_0x2aaf67[_0x297c99(0x259)]][_0x297c99(0x732)](_0x586609);}async[a0_0x1c3883(0x340)](_0x275515,_0x1f0014){const _0x533528=a0_0x1c3883;return await this['waMonitor'][_0x533528(0x254)][_0x275515[_0x533528(0x259)]][_0x533528(0x340)](_0x1f0014);}async[a0_0x1c3883(0x79c)](_0x5d5884,_0x4e1ec4){const _0x53c9ed=a0_0x1c3883;return await this[_0x53c9ed(0x67d)][_0x53c9ed(0x254)][_0x5d5884[_0x53c9ed(0x259)]]['getFlow'](_0x4e1ec4[_0x53c9ed(0x8a0)]);}async[a0_0x1c3883(0x58f)](_0x541d4b,_0x296eab,_0x54ca05){const _0x572ad1=a0_0x1c3883;return await this[_0x572ad1(0x67d)][_0x572ad1(0x254)][_0x541d4b[_0x572ad1(0x259)]]['createFlow'](_0x296eab,_0x54ca05);}async['editFlow'](_0x145a3f,_0xc96a46,_0x186eee){const _0xdce072=a0_0x1c3883;return await this[_0xdce072(0x67d)][_0xdce072(0x254)][_0x145a3f['instanceName']][_0xdce072(0x64e)](_0xc96a46,_0x186eee);}async[a0_0x1c3883(0x992)](_0x413257,_0x4f7455){const _0x80763e=a0_0x1c3883;return await this['waMonitor']['waInstances'][_0x413257[_0x80763e(0x259)]][_0x80763e(0x992)](_0x4f7455);}async['editFlowReply'](_0x4b65c3,_0x2a71da){const _0x2e4de9=a0_0x1c3883;return await this[_0x2e4de9(0x67d)]['waInstances'][_0x4b65c3[_0x2e4de9(0x259)]]['editFlowReply'](_0x2a71da);}async[a0_0x1c3883(0x938)](_0x5c57e5,_0x16df5c){const _0x49a1ae=a0_0x1c3883;return await this['waMonitor'][_0x49a1ae(0x254)][_0x5c57e5[_0x49a1ae(0x259)]][_0x49a1ae(0x938)](_0x16df5c);}async[a0_0x1c3883(0x5a2)](_0x8af25,_0x172361){const _0x37df82=a0_0x1c3883;return await this[_0x37df82(0x67d)][_0x37df82(0x254)][_0x8af25['instanceName']][_0x37df82(0x5a2)](_0x172361);}async[a0_0x1c3883(0x93b)](_0x24229d,_0x3a8c13){const _0xc69c2d=a0_0x1c3883;return await this[_0xc69c2d(0x67d)][_0xc69c2d(0x254)][_0x24229d[_0xc69c2d(0x259)]][_0xc69c2d(0x93b)](_0x3a8c13);}async['editFlowVariable'](_0x513e34,_0x1bad79){const _0x5736c9=a0_0x1c3883;return await this[_0x5736c9(0x67d)][_0x5736c9(0x254)][_0x513e34[_0x5736c9(0x259)]]['editFlowVariable'](_0x1bad79);}async[a0_0x1c3883(0x405)](_0x2120fe,_0xf9abca){const _0x585ef2=a0_0x1c3883;return await this[_0x585ef2(0x67d)][_0x585ef2(0x254)][_0x2120fe[_0x585ef2(0x259)]]['deleteFlow'](_0xf9abca);}async[a0_0x1c3883(0x8a3)](_0x47cc0b){const _0x2bf6f9=a0_0x1c3883;return await this[_0x2bf6f9(0x67d)][_0x2bf6f9(0x254)][_0x47cc0b['instanceName']][_0x2bf6f9(0x8a3)]();}},Zt=class{constructor(_0x26645f){const _0x36575f=a0_0x1c3883;this[_0x36575f(0x7bd)]=_0x26645f;}async[a0_0x1c3883(0x71f)](_0x42b5cb,_0x4b0d00){const _0x284e19=a0_0x1c3883;return this[_0x284e19(0x7bd)]['create'](_0x42b5cb,_0x4b0d00);}async[a0_0x1c3883(0x44b)](_0x50cbe7){const _0x5a5968=a0_0x1c3883;return this[_0x5a5968(0x7bd)]['find'](_0x50cbe7);}},es=class extends O{constructor(_0x81acc,_0x2a4663){const _0x335ae9=a0_0x1c3883;super(_0x2a4663),this[_0x335ae9(0x841)]=_0x81acc,this[_0x335ae9(0x554)]=_0x2a4663;}async[a0_0x1c3883(0x855)](_0x4c0559,_0x4a0e8d){const _0x16f398=a0_0x1c3883;try{return this[_0x16f398(0x485)][_0x16f398(0x82d)]?{'insertCount':(await this['webhookModel']['replaceOne']({'_id':_0x4a0e8d},{..._0x4c0559},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0xa1a491){return _0xa1a491;}}async[a0_0x1c3883(0x6c2)](_0x512edb){const _0x1c90b7=a0_0x1c3883;try{if(this[_0x1c90b7(0x485)]['ENABLED']){await this[_0x1c90b7(0x841)][_0x1c90b7(0x2af)]({'_id':_0x512edb});return;}}catch(_0x339215){return{'error':_0x339215};}}async['find'](_0x3f282f){const _0x4cbcdc=a0_0x1c3883;try{if(this[_0x4cbcdc(0x485)]['ENABLED'])return await this[_0x4cbcdc(0x841)]['findOne']({'_id':_0x3f282f});}catch{return{};}}},ts=class extends O{constructor(_0x17806d,_0xe89825){const _0x10ae2e=a0_0x1c3883;super(_0xe89825),this[_0x10ae2e(0x6c3)]=_0x17806d,this[_0x10ae2e(0x554)]=_0xe89825,this[_0x10ae2e(0x823)]=_0xe89825[_0x10ae2e(0x923)](_0x10ae2e(0x4d8));}async[a0_0x1c3883(0x855)](_0x467b42,_0x5a1774){const _0x361768=a0_0x1c3883;try{if(this['dbSettings'][_0x361768(0x82d)])return{'insertCount':(await this[_0x361768(0x6c3)][_0x361768(0x3e7)]({'_id':_0x5a1774},{'$set':{..._0x467b42}},{'upsert':!0x0}))[_0x361768(0x5c1)]};}catch(_0x22aadb){return{'error':_0x22aadb};}}async[a0_0x1c3883(0x3ce)](_0x57deff,_0x11e422){const _0x4c1370=a0_0x1c3883;try{if(this[_0x4c1370(0x485)][_0x4c1370(0x82d)])return{'insertCount':(await this['authModel']['updateMany'](_0x57deff,{'$set':_0x11e422},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x4c1370(0x53b));}catch(_0x3f0db7){return{'error':_0x3f0db7};}}async['deleteMany'](_0xe1f189){const _0x170cdc=a0_0x1c3883;try{if(this[_0x170cdc(0x485)][_0x170cdc(0x82d)])return{'insertCount':(await this[_0x170cdc(0x6c3)][_0x170cdc(0x96c)](_0xe1f189))[_0x170cdc(0x40b)]};throw new Error(_0x170cdc(0x2a4));}catch(_0x4c08b9){return{'error':_0x4c08b9};}}async[a0_0x1c3883(0x6c2)](_0x43466c){const _0x42ef3f=a0_0x1c3883;try{if(this[_0x42ef3f(0x485)]['ENABLED']){await this[_0x42ef3f(0x6c3)]['deleteOne']({'_id':_0x43466c});return;}}catch(_0x357d8e){return{'error':_0x357d8e};}}async[a0_0x1c3883(0x571)](_0x7d22c){const _0x21765e=a0_0x1c3883;try{if(this[_0x21765e(0x485)]['ENABLED'])return await this['authModel']['findOne']({'_id':_0x7d22c});}catch{return{};}}async[a0_0x1c3883(0x850)](){const _0x19a3f8=a0_0x1c3883;try{if(this[_0x19a3f8(0x485)][_0x19a3f8(0x82d)])return await this[_0x19a3f8(0x6c3)]['find']();}catch{return[];}}async[a0_0x1c3883(0x51e)](_0x41ce9f){const _0x58049d=a0_0x1c3883;try{if(this[_0x58049d(0x485)][_0x58049d(0x82d)])return await this[_0x58049d(0x6c3)]['find'](_0x41ce9f);}catch{return[];}}},ss=class extends O{async[a0_0x1c3883(0x2af)](_0x2f8031){const _0x4380bf=a0_0x1c3883;try{let _0x3249fc=A(_0x2f8031[_0x4380bf(0x5b0)]);return{'deletedCount':(await Me[_0x4380bf(0x2af)](_0x3249fc))[_0x4380bf(0x40b)]};}catch(_0x474aa9){return{'error':_0x474aa9?.['toString']()};}}async[a0_0x1c3883(0x3e7)](_0x51c39d,_0x5a414c){const _0x787863=a0_0x1c3883;try{let _0x38dfe4=await Me[_0x787863(0x58e)](_0x51c39d);return _0x38dfe4?(Object[_0x787863(0x515)](_0x38dfe4,_0x5a414c),await _0x38dfe4[_0x787863(0x52a)]()):(console[_0x787863(0x61d)](_0x787863(0x441),_0x51c39d),null);}catch(_0x65924d){return console[_0x787863(0x61d)](_0x787863(0x2a7),_0x65924d),null;}}async[a0_0x1c3883(0x60b)](_0xede9aa){const _0x1d1dda=a0_0x1c3883;try{return await new Me(_0xede9aa)['save']();}catch(_0xeb3901){return console[_0x1d1dda(0x61d)](_0x1d1dda(0x4b4),_0xeb3901),null;}}async[a0_0x1c3883(0x850)](_0x24f837){const _0x3588a6=a0_0x1c3883;try{let _0x3a744e=_0x24f837[_0x3588a6(0x5b0)]??{};return await Me[_0x3588a6(0x571)](_0x3a744e)['limit'](_0x24f837[_0x3588a6(0x845)]??0x0)[_0x3588a6(0x241)]();}catch(_0xa973d6){return console[_0x3588a6(0x61d)](_0x3588a6(0x251),_0xa973d6),[];}}async['findOne'](_0x499254){const _0x520a6f=a0_0x1c3883;try{let _0x2804e6=A(_0x499254[_0x520a6f(0x5b0)]);return await Me[_0x520a6f(0x213)](_0x2804e6)[_0x520a6f(0x241)]();}catch{return null;}}},as=class extends O{[a0_0x1c3883(0x68a)](_0xf527e9){return Sa(_0xf527e9);}async[a0_0x1c3883(0x2ca)](_0x189cea){const _0x9fe078=a0_0x1c3883;if(_0x189cea[_0x9fe078(0x868)]!==0x0)try{return{'insertCount':(await this[_0x9fe078(0x68a)](_0x189cea[0x0][_0x9fe078(0x523)])[_0x9fe078(0x36d)]([..._0x189cea]))[_0x9fe078(0x868)]};}catch(_0x58aaaa){return _0x58aaaa;}}async[a0_0x1c3883(0x6c2)](_0x42d57d,_0x37bea0){const _0x25cc06=a0_0x1c3883;try{let _0x1e49c2=this[_0x25cc06(0x68a)](_0x37bea0),_0x149505=A(_0x42d57d[_0x25cc06(0x5b0)]);return{'deletedCount':(await _0x1e49c2[_0x25cc06(0x96c)](_0x149505))[_0x25cc06(0x40b)]};}catch(_0xe7b216){return{'error':_0xe7b216?.[_0x25cc06(0x25c)]()};}}async[a0_0x1c3883(0x2af)](_0x3ec3dd,_0x5e49ff){const _0x56b1d2=a0_0x1c3883;try{let _0x4dba7c=this[_0x56b1d2(0x68a)](_0x5e49ff),_0xdeafca=A(_0x3ec3dd[_0x56b1d2(0x5b0)]);return{'deletedCount':(await _0x4dba7c[_0x56b1d2(0x2af)](_0xdeafca))[_0x56b1d2(0x40b)]};}catch(_0x1d1a10){return{'error':_0x1d1a10?.['toString']()};}}async['update'](_0x22e568,_0x3591b6){const _0x20972e=a0_0x1c3883;try{if(_0x22e568[_0x20972e(0x868)]===0x0)return;let _0x333eeb=this[_0x20972e(0x68a)](_0x3591b6),_0x551395=_0x22e568[_0x20972e(0x4ac)](_0x23c3c9=>({'updateOne':{'filter':{'name':_0x23c3c9[_0x20972e(0x1f9)],'owner':_0x3591b6},'update':{..._0x23c3c9}}})),{modifiedCount:_0xc1995e}=await _0x333eeb[_0x20972e(0x995)](_0x551395);return{'insertCount':_0xc1995e};}catch{return;}}async[a0_0x1c3883(0x286)](_0x5146d4,_0x175323,_0x764192){const _0x3b006a=a0_0x1c3883;try{return{'modifiedCount':(await this[_0x3b006a(0x68a)](_0x764192)[_0x3b006a(0x286)](_0x5146d4,{'$set':_0x175323})[_0x3b006a(0x2bf)]())[_0x3b006a(0x5c1)]};}catch(_0x26c0a1){return console[_0x3b006a(0x61d)]('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0x26c0a1),{'error':_0x26c0a1};}}async[a0_0x1c3883(0x3e7)](_0x487f71,_0x2f3895,_0x350a5d){const _0x3d72a7=a0_0x1c3883;try{return await this[_0x3d72a7(0x68a)](_0x350a5d)[_0x3d72a7(0x751)]({'_id':_0x487f71},{'$set':_0x2f3895},{'new':!0x0,'upsert':!0x0})[_0x3d72a7(0x241)]();}catch(_0x190a40){return console[_0x3d72a7(0x61d)](_0x190a40),null;}}async[a0_0x1c3883(0x571)](_0x5ad03b,_0x3642da){const _0x579426=a0_0x1c3883;try{return await this[_0x579426(0x68a)](_0x3642da)[_0x579426(0x571)](_0x5ad03b)['sort']({'lastInteraction':-0x1})[_0x579426(0x241)]();}catch{return[];}}async[a0_0x1c3883(0x213)](_0x171b5b,_0x490fcd){const _0x247885=a0_0x1c3883;try{return await this['getConversationModelForOwner'](_0x490fcd)[_0x247885(0x213)]({..._0x171b5b['where']})['lean']();}catch{return null;}}async[a0_0x1c3883(0x3e6)](_0x58fb81){const _0xf4b521=a0_0x1c3883;try{return await this[_0xf4b521(0x68a)](_0x58fb81)[_0xf4b521(0x989)]['drop'](),{'success':!0x0};}catch(_0x341508){return console['error'](_0x341508),{'success':!0x1,'error':_0x341508};}}},is=class extends O{[a0_0x1c3883(0x361)](_0x68468e){return Ma(_0x68468e);}async[a0_0x1c3883(0x995)](_0x24670b,_0x1cd576){const _0x34d880=a0_0x1c3883;try{return await this['getScheduleMessageModelForOwner'](_0x1cd576)[_0x34d880(0x995)](_0x24670b);}catch(_0x185fc7){return console[_0x34d880(0x61d)]('Erro\x20ao\x20executar\x20bulkWrite:',_0x185fc7),null;}}async[a0_0x1c3883(0x60b)](_0x54f92a,_0x5b900a){const _0x7428c=a0_0x1c3883;try{let _0x31def3=this[_0x7428c(0x361)](_0x5b900a);return await new _0x31def3(_0x54f92a)['save']();}catch(_0x3d85dd){return console['error'](_0x7428c(0x2c4),_0x3d85dd),null;}}async['deleteOne'](_0x5504a9,_0x431224){const _0x1105d9=a0_0x1c3883;try{return await this['getScheduleMessageModelForOwner'](_0x431224)[_0x1105d9(0x6e0)](_0x5504a9),{};}catch(_0x1e39ba){return{'error':_0x1e39ba?.[_0x1105d9(0x25c)]()};}}async[a0_0x1c3883(0x3e7)](_0x3a93ce,_0x275025,_0xab318a,_0xae4322={}){const _0x15dbea=a0_0x1c3883;try{return await this[_0x15dbea(0x361)](_0xab318a)[_0x15dbea(0x751)](_0x3a93ce,_0x275025,{..._0xae4322,'new':!0x0})[_0x15dbea(0x241)]();}catch(_0x123ab2){return console[_0x15dbea(0x61d)](_0x15dbea(0x912),_0x123ab2),null;}}async[a0_0x1c3883(0x26c)](_0x345e7e,_0x59b2b7,_0x55b863){const _0x4a2199=a0_0x1c3883;try{return await this['getScheduleMessageModelForOwner'](_0x55b863)[_0x4a2199(0x922)](_0x345e7e,_0x59b2b7,{'new':!0x0})[_0x4a2199(0x241)]();}catch(_0x2e2026){return console[_0x4a2199(0x61d)](_0x4a2199(0x912),_0x2e2026),null;}}async[a0_0x1c3883(0x571)](_0x128dcf,_0xcee65){const _0x3dd3b7=a0_0x1c3883;try{return await this[_0x3dd3b7(0x361)](_0xcee65)[_0x3dd3b7(0x571)](_0x128dcf[_0x3dd3b7(0x5b0)])[_0x3dd3b7(0x845)](_0x128dcf?.[_0x3dd3b7(0x845)]??0x0)[_0x3dd3b7(0x90e)]({'when':0x1})[_0x3dd3b7(0x241)]();}catch{return[];}}async[a0_0x1c3883(0x213)](_0x488d9b,_0x3f9b80){const _0x3f5314=a0_0x1c3883;try{return await this['getScheduleMessageModelForOwner'](_0x3f9b80)[_0x3f5314(0x213)](_0x488d9b[_0x3f5314(0x5b0)])[_0x3f5314(0x90e)]({'when':0x1})[_0x3f5314(0x241)]();}catch{return null;}}async[a0_0x1c3883(0x58e)](_0x3ec04d,_0xae600b){const _0x1832f1=a0_0x1c3883;try{return await this[_0x1832f1(0x361)](_0xae600b)[_0x1832f1(0x58e)](_0x3ec04d)[_0x1832f1(0x241)]();}catch{return null;}}async['deleteMany'](_0x2c8801,_0x2fc586){const _0x28f0d6=a0_0x1c3883;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x2fc586)[_0x28f0d6(0x96c)](_0x2c8801))['deletedCount']};}catch(_0x5dd43e){return console[_0x28f0d6(0x61d)](_0x28f0d6(0x29b),_0x5dd43e),{'error':_0x5dd43e};}}async[a0_0x1c3883(0x3e6)](_0x53f4a7){const _0x5900d2=a0_0x1c3883;try{return await this[_0x5900d2(0x361)](_0x53f4a7)[_0x5900d2(0x989)][_0x5900d2(0x977)](),{'success':!0x0};}catch(_0xf74dc7){return console[_0x5900d2(0x61d)](_0xf74dc7),{'success':!0x1,'error':_0xf74dc7};}}},os=class extends O{async['update'](_0x2449f0,_0x536ec2){const _0x59435a=a0_0x1c3883;try{if(this[_0x59435a(0x485)]['ENABLED'])return await Te[_0x59435a(0x751)]({'_id':_0x536ec2},{'$set':_0x2449f0},{'new':!0x0});}catch(_0x31142d){throw console[_0x59435a(0x61d)](_0x59435a(0x4fb),_0x31142d),_0x31142d;}}async[a0_0x1c3883(0x54d)](_0x415814){const _0x44b4b5=a0_0x1c3883;try{let _0x448f1f=await Te[_0x44b4b5(0x58e)](_0x415814);return _0x448f1f?_0x448f1f[_0x44b4b5(0x420)]||(_0x448f1f[_0x44b4b5(0x420)]=[],await _0x448f1f[_0x44b4b5(0x52a)]()):(_0x448f1f=new Te({'_id':_0x415814,'autoCompleteMessages':[]}),await _0x448f1f['save']()),_0x448f1f;}catch(_0x23aa04){return _0x23aa04[_0x44b4b5(0x744)]===0x2af8&&_0x23aa04[_0x44b4b5(0x9a6)]&&_0x23aa04[_0x44b4b5(0x9a6)][_0x44b4b5(0x69f)]?(console[_0x44b4b5(0x61d)](_0x44b4b5(0x967)),await Te['collection']['dropIndex'](_0x44b4b5(0x72b)),null):(console[_0x44b4b5(0x61d)](_0x44b4b5(0x67a),_0x23aa04),null);}}},Jo=new $(a0_0x1c3883(0x220)),qo=new Qe(S),Vo=new Jt(S),Go=new nt(S),Bo=new qt(oa,S),Wo=new Vt(na,S),zo=new es(ha,S),Ho=new ts(ua,S),Ko=new Ee(We,S),Qo=new ss(S),Yo=new Gt(S),Xo=new as(S),Zo=new is(S),er=new os(S),me=new He(qo,Vo,Go,Bo,Wo,zo,Ho,Ko,Qo,Xo,Yo,Zo,er,T?.[a0_0x1c3883(0x4b5)]()),G=new jt(hs,S,me),tr=new Kt(S,G,me),sr=new Yt(G),As=new Zt(sr),_=new Xt(G),le=new zt(G,S,me,hs,tr),B=new Ht(G),D=new Bt(G),q=new Qt(G);Jo[a0_0x1c3883(0x495)](a0_0x1c3883(0x77d));var $g=require(a0_0x1c3883(0x394)),Js=require('fs'),Di=I(require('https')),ki=I(require(a0_0x1c3883(0x632))),je=class u{static #e;static set[a0_0x1c3883(0x4fe)](_0x32a511){this.#e=_0x32a511;}static get['https'](){const _0x9e5de2=a0_0x1c3883;let {FULLCHAIN:_0x38fe3f,PRIVKEY:_0x5f0452}=S[_0x9e5de2(0x923)]('SSL_CONF');return Di[_0x9e5de2(0x2d6)]({'cert':(0x0,Js[_0x9e5de2(0x6e4)])(_0x38fe3f),'key':(0x0,Js['readFileSync'])(_0x5f0452)},u.#e);}static get['http'](){const _0xbe8a4a=a0_0x1c3883;return ki[_0xbe8a4a(0x2d6)](u.#e);}},Je=I(require('fs')),qi=I(require(a0_0x1c3883(0x5ca))),qe=I(require('axios')),ns=I(require(a0_0x1c3883(0x939))),rs=require('child_process');function ar(){const _0xd895ee=a0_0x1c3883;G[_0xd895ee(0x80c)]();let _0x140c89=ns['default']['join'](__dirname,_0xd895ee(0x4cf));Ji(_0x140c89);}var Ji=_0x598f7d=>{const _0x1f5e79=a0_0x1c3883;let _0x4c95db=Je[_0x1f5e79(0x460)][_0x1f5e79(0x26e)](_0x598f7d),_0x354039=0xc*0x3c*0x3c*0x3e8,_0xe95cc=0x2*0x3c*0x3c*0x3e8,_0x470036=new Date()[_0x1f5e79(0x255)]();_0x4c95db[_0x1f5e79(0x33d)](_0x4db3d6=>{const _0x379d20=_0x1f5e79;let _0xb795cc=ns[_0x379d20(0x460)][_0x379d20(0x25f)](_0x598f7d,_0x4db3d6),_0x306029=Je[_0x379d20(0x460)]['statSync'](_0xb795cc)[_0x379d20(0x904)][_0x379d20(0x255)]();_0x470036-_0x306029>_0x354039&&(Je['default']['unlinkSync'](_0xb795cc),console[_0x379d20(0x7f9)](_0x379d20(0x491)+_0x4db3d6));}),setTimeout(()=>Ji(_0x598f7d),_0xe95cc);};function ir(){const _0x346000=a0_0x1c3883;let _0x30ba07=new $(_0x346000(0x793)),_0x1f93b6=(0x0,we[_0x346000(0x460)])();_0x1f93b6[_0x346000(0x7f7)]((0x0,ji['default'])({'origin'(_0x4fa9fd,_0x421c99){const _0xca8ee8=_0x346000;let {ORIGIN:_0x21621c}=S['get'](_0xca8ee8(0x3a6));return _0x4fa9fd||(_0x4fa9fd='*'),_0x21621c[_0xca8ee8(0x7ad)]('*')!==-0x1||_0x21621c[_0xca8ee8(0x7ad)](_0x4fa9fd)!==-0x1?_0x421c99(null,!0x0):_0x421c99(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...S['get']('CORS')[_0x346000(0x623)]],'credentials':S[_0x346000(0x923)](_0x346000(0x3a6))[_0x346000(0x765)]}),(0x0,we['urlencoded'])({'extended':!0x0,'limit':_0x346000(0x96f)}),(0x0,we['json'])({'limit':_0x346000(0x96f)})),_0x1f93b6[_0x346000(0x7f7)]((_0x56e4b8,_0x286395,_0x3aeaf9)=>{const _0x20bac2=_0x346000;_0x56e4b8[_0x20bac2(0x939)][_0x20bac2(0x376)](_0x20bac2(0x321))?_0x3aeaf9():(0x0,Ui[_0x20bac2(0x460)])()(_0x56e4b8,_0x286395,_0x3aeaf9);}),_0x1f93b6['set'](_0x346000(0x6ef),_0x346000(0x6b6)),_0x1f93b6['set']('views',(0x0,Vs[_0x346000(0x25f)])(ne,'views')),_0x1f93b6[_0x346000(0x7f7)](we[_0x346000(0x460)][_0x346000(0x604)]((0x0,Vs['join'])(ne,_0x346000(0x312)))),_0x1f93b6[_0x346000(0x7f7)]((_0x12918c,_0x5983b3,_0x59fcc1)=>{const _0x345aa6=_0x346000;let _0x2b8ce6=_0x5983b3[_0x345aa6(0x7ef)];_0x5983b3[_0x345aa6(0x7ef)]=function(_0x228557){const _0x23c358=_0x345aa6;if(_0x12918c['query'][_0x23c358(0x5ff)]==='true'||_0x12918c[_0x23c358(0x232)][_0x23c358(0x494)]==='true'){let _0x11e0c2=JSON['parse'](_0x228557);_0x228557=JSON[_0x23c358(0x565)](_0x4c0480(_0x11e0c2));}return _0x2b8ce6[_0x23c358(0x6ac)](_0x5983b3,[_0x228557]);},_0x59fcc1();}),_0x1f93b6[_0x346000(0x7f7)]('/',ke),_0x1f93b6[_0x346000(0x7f7)]((_0x3e1e7,_0x38a938,_0x486a6e,_0x2fdb6d)=>{const _0x2952c6=_0x346000;if(_0x3e1e7)return _0x486a6e[_0x2952c6(0x914)](_0x3e1e7[_0x2952c6(0x914)]||0x1f4)[_0x2952c6(0x7ec)](_0x3e1e7);},(_0x39e3b8,_0x543949,_0x1a15fa)=>{const _0x195281=_0x346000;let {method:_0x266acd,url:_0x2e71ba}=_0x39e3b8;_0x543949[_0x195281(0x914)](0x194)[_0x195281(0x7ec)]({'status':0x194,'message':_0x195281(0x5cc)+_0x266acd[_0x195281(0x6e5)]()+'\x20'+_0x2e71ba,'error':_0x195281(0x81c)}),_0x1a15fa();});let _0x4c0480=(_0x346de9,_0x554126='_p_')=>{const _0x1a6b3a=_0x346000;let _0x1be76d=(_0x1d7c84,_0x4daebe=null,_0x417fd5=!0x1)=>{const _0x1cf44a=a0_0x6fba;let _0x3eef5={};return Object[_0x1cf44a(0x835)](_0x1d7c84)[_0x1cf44a(0x33d)](_0x4c3e7d=>{const _0x4806cb=_0x1cf44a;let _0x24aff8=_0x1d7c84[_0x4c3e7d],_0x25a09d=''+_0x554126+_0x4c3e7d;_0x4daebe&&!_0x417fd5&&(_0x25a09d=_0x4daebe+'.'+_0x4c3e7d),!_0x24aff8&&_0x24aff8!==0x0&&_0x24aff8!==!0x1||typeof _0x24aff8>'u'?_0x3eef5[_0x25a09d]=null:typeof _0x24aff8!=_0x4806cb(0x20d)&&!Array[_0x4806cb(0x37b)](_0x24aff8)?_0x3eef5[_0x25a09d]=_0x24aff8:typeof _0x24aff8==_0x4806cb(0x20d)&&!Array[_0x4806cb(0x37b)](_0x24aff8)?_0x3eef5=Object[_0x4806cb(0x515)](_0x3eef5,_0x1be76d(_0x24aff8,_0x25a09d)):Array[_0x4806cb(0x37b)](_0x24aff8)&&(typeof _0x24aff8[0x0]==_0x4806cb(0x20d)?(_0x3eef5[_0x25a09d]=[],_0x24aff8['forEach'](_0x2abbac=>{const _0x33b970=_0x4806cb;_0x3eef5[_0x25a09d][_0x33b970(0x706)](_0x1be76d(_0x2abbac,_0x25a09d,!0x0));})):_0x3eef5[_0x25a09d]=_0x24aff8);}),_0x3eef5;};return Array[_0x1a6b3a(0x37b)](_0x346de9)?_0x346de9['map'](_0x880d9d=>_0x1be76d(_0x880d9d)):typeof _0x346de9=='object'&&_0x346de9!==null?_0x1be76d(_0x346de9):{};},_0x26a74b=S[_0x346000(0x923)]('SERVER');je['app']=_0x1f93b6;let _0x7f9b1e=je[_0x26a74b[_0x346000(0x2c0)]],_0x4a02a9=_0x346000(0x7c4);_0x7f9b1e['listen'](_0x26a74b['PORT'],()=>{const _0x39b4d5=_0x346000;_0x30ba07[_0x39b4d5(0x7f9)](_0x4a02a9),_0x30ba07[_0x39b4d5(0x7f9)](_0x26a74b['TYPE']['toUpperCase']()+_0x39b4d5(0x726)+_0x26a74b['PORT']);}),ar(),Zs();}var or=a0_0x1c3883(0x7f1),rr=ns[a0_0x1c3883(0x460)]['join'](__dirname,a0_0x1c3883(0x892)),Re=null;function nr(){return new Promise((_0x5ea712,_0x49f0ad)=>{const _0x4d7245=a0_0x6fba;Je['default'][_0x4d7245(0x95f)](rr,_0x4d7245(0x539),(_0xa6a47f,_0x5ba654)=>{const _0x141428=_0x4d7245;if(_0xa6a47f){Re=_0xa6a47f,_0x5ea712();return;}qi[_0x141428(0x460)][_0x141428(0x298)](_0x5ba654)[_0x141428(0x4d1)][_0x141428(0x4f8)]===or?(Re=null,_0x5ea712()):(Re=new Error(_0x141428(0x8c5)),_0x5ea712());});});}async function cr(){const _0x452aa1=a0_0x1c3883;try{await nr(),await Bi();}catch(_0x52bc30){console[_0x452aa1(0x61d)](_0x452aa1(0x915)+_0x52bc30),process[_0x452aa1(0x909)](0x1);}}cr();async function Vi(){const _0x4e5664=a0_0x1c3883;let _0x2ce98c;try{_0x2ce98c=(await qe[_0x4e5664(0x460)]['get'](_0x4e5664(0x38e)))[_0x4e5664(0x960)]['ip'];}catch(_0x309597){console[_0x4e5664(0x61d)](_0x309597);try{_0x2ce98c=(await qe[_0x4e5664(0x460)][_0x4e5664(0x923)]('https://api.ipify.org?format=json'))['data']['ip'];}catch(_0x34e978){console[_0x4e5664(0x61d)](_0x34e978);try{_0x2ce98c=(await qe['default']['get'](_0x4e5664(0x5fa)))[_0x4e5664(0x960)][_0x4e5664(0x483)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x584486){return console[_0x4e5664(0x61d)](_0x584486),!0x1;}}}return _0x2ce98c;}var Li=0x0;async function lr(){const _0x2ee30c=a0_0x1c3883;let _0x50cfc2=await new ue(S[_0x2ee30c(0x923)](_0x2ee30c(0x592)))[_0x2ee30c(0x85c)]();return console[_0x2ee30c(0x7f9)](_0x2ee30c(0x3e8),_0x50cfc2['length']),_0x50cfc2[_0x2ee30c(0x868)];}function ur(_0x3ba70a){const _0x5ea781=a0_0x1c3883;let _0x56dc9b=_0x3ba70a[_0x5ea781(0x923)](_0x5ea781(0x793))[_0x5ea781(0x601)],_0x461610=_0x3ba70a[_0x5ea781(0x923)](_0x5ea781(0x3c6));console[_0x5ea781(0x7f9)](_0x5ea781(0x7c1),_0x56dc9b),console[_0x5ea781(0x7f9)](_0x5ea781(0x2d5),_0x461610);let _0x136f7e='',_0x12ac34=_0x56dc9b||'';if(_0x56dc9b){let _0x37a4d2=_0x56dc9b[_0x5ea781(0x483)](/\/\/(.*?)\./);console['log'](_0x5ea781(0x53c),_0x37a4d2),_0x37a4d2&&_0x37a4d2[0x1]&&(_0x136f7e=_0x37a4d2[0x1],console[_0x5ea781(0x7f9)](_0x5ea781(0x303),_0x136f7e));}if(!_0x136f7e&&_0x461610&&_0x461610[_0x5ea781(0x428)]){let _0x139adf=_0x461610['FULLCHAIN'][_0x5ea781(0x3ac)]('/');console['log'](_0x5ea781(0x375),_0x139adf);let _0x5456e8=_0x139adf[_0x139adf[_0x5ea781(0x868)]-0x2];if(console[_0x5ea781(0x7f9)](_0x5ea781(0x1fa),_0x5456e8),_0x5456e8){let _0x10cf66=_0x5456e8[_0x5ea781(0x3ac)]('.');console['log'](_0x5ea781(0x8a5),_0x10cf66),_0x10cf66[_0x5ea781(0x868)]>0x2&&(_0x136f7e=_0x10cf66[0x0],console['log'](_0x5ea781(0x741),_0x136f7e),_0x12ac34=''+_0x5456e8);}}return{'subdomain':_0x136f7e||'Subdomínio\x20não\x20encontrado','fullURL':_0x12ac34||_0x5ea781(0x76c)};}var {subdomain:he,fullURL:Gs}=ur(S);console[a0_0x1c3883(0x7f9)](a0_0x1c3883(0x72f),he),console[a0_0x1c3883(0x7f9)]('URL\x20completa:',Gs);async function dr(){const _0x3ff180=a0_0x1c3883;let _0x21d475=S[_0x3ff180(0x923)](_0x3ff180(0x592)),_0x5474d4=S['get'](_0x3ff180(0x4d8))['API_KEY'][_0x3ff180(0x3e4)],_0x381a1a=S[_0x3ff180(0x923)]('SSL_CONF'),_0x56fa74=await Vi(),_0x52eab9=S[_0x3ff180(0x923)](_0x3ff180(0x793))['PORT'],_0x3efbdf=Gs;try{let _0x1aaac5={'ip':_0x56fa74||null,'redis_enable':_0x21d475?.[_0x3ff180(0x82d)]||null,'apikey':_0x5474d4||null,'ssl':_0x381a1a?.[_0x3ff180(0x779)]||null,'lastupdate':Gi||null,'port':_0x52eab9||null,'gitInstallError':Re?.['message']||null,'url':_0x3efbdf||null,'subdomain':he};if(console[_0x3ff180(0x7f9)](_0x3ff180(0x580),_0x1aaac5['ip']),_0x21d475&&_0x21d475['ENABLED']){let _0x2923ef=await lr();_0x1aaac5['instanceCount']=_0x2923ef||null;}for(let _0x4337d4 in _0x1aaac5)_0x1aaac5['hasOwnProperty'](_0x4337d4)&&_0x4337d4!=='ip'&&(_0x1aaac5[_0x4337d4]=JSON[_0x3ff180(0x565)](_0x1aaac5[_0x4337d4]));return(await qe['default']['post'](_0x3ff180(0x5f9),_0x1aaac5))[_0x3ff180(0x960)];}catch(_0x2cfbc5){return console['error'](_0x2cfbc5),!0x1;}}var qs=!0x1,Gi=0x283,pr=0x3,Fi=0x1b7740;async function Bi(){const _0x114b91=a0_0x1c3883;let _0xbb736e='fora\x20do\x20git';Re===null&&(_0xbb736e=await Vi());let _0x4095a5=await dr();if(_0x4095a5){if(_0x4095a5['response'][_0x114b91(0x7a5)]===!0x0){Re===null&&_0x4095a5[_0x114b91(0x678)][_0x114b91(0x72c)]-Gi>0x0&&await hr(),qs||(qs=!0x0,ir());let _0x48ed41=0x24*0x3c*0x3c,_0x2284ae=_0x4095a5[_0x114b91(0x678)][_0x114b91(0x87a)]>_0x48ed41?_0x48ed41:_0x4095a5[_0x114b91(0x678)][_0x114b91(0x87a)],_0x13c12f=Number(_0x2284ae);if(isNaN(_0x13c12f)){console['error'](_0x114b91(0x32c));return;}let _0x5712a5=Math[_0x114b91(0x26a)](_0x13c12f/0xe10),_0x5e0e14=Math[_0x114b91(0x26a)](_0x13c12f%0xe10/0x3c),_0x289cd2=new Date(Date[_0x114b91(0x7e8)]()+_0x13c12f*0x3e8);setTimeout(()=>{const _0x3134aa=_0x114b91;console[_0x3134aa(0x7f9)]('Reiniciando\x20a\x20aplicação...'),process['exit'](0x0);},_0x13c12f*0x3e8);let _0xe09529=_0x3052e0=>_0x3052e0[_0x114b91(0x25c)]()[_0x114b91(0x7dd)](0x2,'0'),_0x3efbea=_0x114b91(0x525)+_0xe09529(_0x5712a5)+_0x114b91(0x46d)+_0xe09529(_0x5e0e14)+_0x114b91(0x5eb)+_0xe09529(_0x289cd2[_0x114b91(0x49c)]())+':'+_0xe09529(_0x289cd2[_0x114b91(0x2f3)]())+'.';console[_0x114b91(0x7f9)](_0x3efbea);}else return console[_0x114b91(0x7f9)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),qs&&(console[_0x114b91(0x7f9)](_0x114b91(0x5bd)),process[_0x114b91(0x909)]()),_0x114b91(0x654);}else{if(Li++,Li<pr)console[_0x114b91(0x7f9)](_0x114b91(0x7f5)+Fi/0xea60+'\x20minutos...'),setTimeout(Bi,Fi);else return console[_0x114b91(0x61d)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),_0x114b91(0x202);}}async function hr(){const _0x2109e5=a0_0x1c3883;console['log'](_0x2109e5(0x996)),console[_0x2109e5(0x7f9)](_0x2109e5(0x2f2)),(0x0,rs[_0x2109e5(0x91a)])(_0x2109e5(0x8fc),{'shell':!0x0})['on'](_0x2109e5(0x8e5),_0x3fecee=>{const _0x42a1b7=_0x2109e5;_0x3fecee!==0x0?console['error'](_0x42a1b7(0x684)):(console[_0x42a1b7(0x7f9)](_0x42a1b7(0x581)),console[_0x42a1b7(0x7f9)](_0x42a1b7(0x44c)),(0x0,rs['spawn'])(_0x42a1b7(0x5b8),{'shell':!0x0})['on'](_0x42a1b7(0x8e5),_0x44fdff=>{const _0x44528c=_0x42a1b7;if(_0x44fdff!==0x0)console[_0x44528c(0x61d)]('Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.');else{console['log'](_0x44528c(0x96b));let _0x1610fb=(0x0,rs[_0x44528c(0x91a)])(_0x44528c(0x450),{'shell':!0x0});_0x1610fb[_0x44528c(0x261)]['on'](_0x44528c(0x960),_0x11b0a9=>{const _0x2775c6=_0x44528c;console[_0x2775c6(0x7f9)](_0x2775c6(0x97c)+_0x11b0a9);}),_0x1610fb['stderr']['on'](_0x44528c(0x960),_0x32d64a=>{const _0x150602=_0x44528c;console[_0x150602(0x61d)](_0x150602(0x593)+_0x32d64a);}),_0x1610fb['on']('exit',_0x3cbaa8=>{const _0xedc365=_0x44528c;_0x3cbaa8!==0x0?console[_0xedc365(0x61d)](_0xedc365(0x61b)+_0x3cbaa8):console[_0xedc365(0x7f9)](_0xedc365(0x304)),console['log'](_0xedc365(0x478)),setTimeout(()=>process[_0xedc365(0x909)](),0x2710);});}}));});}0x0&&(module[a0_0x1c3883(0x49b)]={'fullURL':fullURL,'subdomain':subdomain});