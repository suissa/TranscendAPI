const a0_0x4ac10f=a0_0x3b98;(function(_0xb39ef5,_0x314384){const _0x3ad3a2=a0_0x3b98,_0x3f7463=_0xb39ef5();while(!![]){try{const _0x483487=parseInt(_0x3ad3a2(0x70b))/0x1*(-parseInt(_0x3ad3a2(0x67f))/0x2)+-parseInt(_0x3ad3a2(0x65e))/0x3*(-parseInt(_0x3ad3a2(0x771))/0x4)+parseInt(_0x3ad3a2(0x798))/0x5+-parseInt(_0x3ad3a2(0x52b))/0x6+parseInt(_0x3ad3a2(0x68c))/0x7+parseInt(_0x3ad3a2(0x5f0))/0x8+parseInt(_0x3ad3a2(0x539))/0x9*(-parseInt(_0x3ad3a2(0x6ce))/0xa);if(_0x483487===_0x314384)break;else _0x3f7463['push'](_0x3f7463['shift']());}catch(_0x1d8d9c){_0x3f7463['push'](_0x3f7463['shift']());}}}(a0_0x52a6,0x4792b));var Bo=Object['create'],qe=Object[a0_0x4ac10f(0x7c7)],Wo=Object[a0_0x4ac10f(0x7cf)],zo=Object['getOwnPropertyNames'],Ho=Object[a0_0x4ac10f(0x737)],Ko=Object['prototype'][a0_0x4ac10f(0x79e)],Qo=(_0x69905,_0x301d37)=>{for(var _0x5f9229 in _0x301d37)qe(_0x69905,_0x5f9229,{'get':_0x301d37[_0x5f9229],'enumerable':!0x0});},Bs=(_0x29552c,_0x15db55,_0x55cd79,_0x57142d)=>{const _0x38641f=a0_0x4ac10f;if(_0x15db55&&typeof _0x15db55==_0x38641f(0x7e5)||typeof _0x15db55==_0x38641f(0x7ce)){for(let _0x1db8a6 of zo(_0x15db55))!Ko[_0x38641f(0x7d3)](_0x29552c,_0x1db8a6)&&_0x1db8a6!==_0x55cd79&&qe(_0x29552c,_0x1db8a6,{'get':()=>_0x15db55[_0x1db8a6],'enumerable':!(_0x57142d=Wo(_0x15db55,_0x1db8a6))||_0x57142d['enumerable']});}return _0x29552c;},A=(_0x23cb0d,_0xea3c39,_0x3f77fd)=>(_0x3f77fd=_0x23cb0d!=null?Bo(Ho(_0x23cb0d)):{},Bs(_0xea3c39||!_0x23cb0d||!_0x23cb0d[a0_0x4ac10f(0x43d)]?qe(_0x3f77fd,a0_0x4ac10f(0x5b7),{'value':_0x23cb0d,'enumerable':!0x0}):_0x3f77fd,_0x23cb0d)),Yo=_0x1b8caf=>Bs(qe({},a0_0x4ac10f(0x43d),{'value':!0x0}),_0x1b8caf),mr={};Qo(mr,{'fullURL':()=>Gs,'subdomain':()=>oe}),module[a0_0x4ac10f(0x740)]=Yo(mr);var Fo=A(require(a0_0x4ac10f(0x64b))),zs=require('fs'),Hs=require(a0_0x4ac10f(0x270)),Ks=require('path'),Ve=require(a0_0x4ac10f(0x63a)),ie=process[a0_0x4ac10f(0x361)](),be=(0x0,Ve[a0_0x4ac10f(0x650)])(ie,a0_0x4ac10f(0x480)),Ws=(0x0,Ve[a0_0x4ac10f(0x650)])(ie,a0_0x4ac10f(0x5e7)),cn=(0x0,Ve['join'])(ie,a0_0x4ac10f(0x4e8),a0_0x4ac10f(0x504)),us=class{constructor(){const _0x38b3a2=a0_0x4ac10f;this[_0x38b3a2(0x3e5)]();}[a0_0x4ac10f(0x2c5)](_0x4d6d8f){const _0x594f89=a0_0x4ac10f;return this[_0x594f89(0x566)][_0x4d6d8f];}['loadEnv'](){const _0x32ac8e=a0_0x4ac10f;this['env']=process['env']?.[_0x32ac8e(0x36e)]!==_0x32ac8e(0x39e)?this[_0x32ac8e(0x4cb)]():this[_0x32ac8e(0x83e)](),process[_0x32ac8e(0x566)]?.[_0x32ac8e(0x36e)]==='true'&&(this[_0x32ac8e(0x566)][_0x32ac8e(0x32d)]['TYPE']=_0x32ac8e(0x27e),this[_0x32ac8e(0x566)][_0x32ac8e(0x32d)][_0x32ac8e(0x60d)]=Number[_0x32ac8e(0x1fc)](process[_0x32ac8e(0x566)]?.[_0x32ac8e(0x170)]??_0x32ac8e(0x2c1)));}['envYaml'](){const _0x2d9f9e=a0_0x4ac10f;return(0x0,Hs['load'])((0x0,zs['readFileSync'])((0x0,Ks[_0x2d9f9e(0x650)])(Ws,_0x2d9f9e(0x2b2)),{'encoding':_0x2d9f9e(0x530)}));}['envProcess'](){const _0x390530=a0_0x4ac10f;return{'SERVER':{'TYPE':process[_0x390530(0x566)][_0x390530(0x74d)],'PORT':Number['parseInt'](process['env'][_0x390530(0x170)]),'URL':process['env'][_0x390530(0x63e)]},'CORS':{'ORIGIN':process[_0x390530(0x566)][_0x390530(0x732)][_0x390530(0x3eb)](','),'METHODS':process[_0x390530(0x566)]['CORS_METHODS'][_0x390530(0x3eb)](','),'CREDENTIALS':process['env']?.[_0x390530(0x25e)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0x390530(0x566)]?.[_0x390530(0x7ca)],'FULLCHAIN':process[_0x390530(0x566)]?.[_0x390530(0x1a8)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process['env']?.['STORE_CLEANING_TERMINAL'])?Number[_0x390530(0x1fc)](process[_0x390530(0x566)][_0x390530(0x1aa)]):void 0x0,'MESSAGES':process[_0x390530(0x566)]?.['STORE_MESSAGE']===_0x390530(0x39e),'CONTACTS':process['env']?.['STORE_CONTACTS']===_0x390530(0x39e),'CHATS':process[_0x390530(0x566)]?.[_0x390530(0x787)]===_0x390530(0x39e)},'DATABASE':{'CONNECTION':{'HOST':process[_0x390530(0x566)]?.[_0x390530(0x233)],'PORT':Number[_0x390530(0x1fc)](process[_0x390530(0x566)]?.[_0x390530(0x233)]),'USER':process[_0x390530(0x566)]['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x390530(0x566)][_0x390530(0x78e)],'URI':process['env'][_0x390530(0x32a)],'DB_PREFIX_NAME':process[_0x390530(0x566)][_0x390530(0x58f)]},'ENABLED':process[_0x390530(0x566)]?.['DATABASE_ENABLED']===_0x390530(0x39e)},'REDIS':{'ENABLED':process['env']?.['REDIS_ENABLED']==='true','URI':process[_0x390530(0x566)][_0x390530(0x6eb)]||_0x390530(0x759),'PREFIX_KEY':process[_0x390530(0x566)][_0x390530(0x320)]||'uazapi'},'LOG':{'LEVEL':process['env']?.['LOG_LEVEL'][_0x390530(0x3eb)](','),'COLOR':process[_0x390530(0x566)]?.[_0x390530(0x3fc)]===_0x390530(0x39e)},'AUTHENTICATION':{'TYPE':process['env'][_0x390530(0x365)],'API_KEY':{'KEY':process[_0x390530(0x566)][_0x390530(0x7ba)]},'JWT':{'EXPIRIN_IN':Number[_0x390530(0x575)](process[_0x390530(0x566)]?.[_0x390530(0x819)])?Number[_0x390530(0x1fc)](process[_0x390530(0x566)][_0x390530(0x819)]):0xe10,'SECRET':process[_0x390530(0x566)][_0x390530(0x645)]}}};}},b=new us(),Uo=A(require('cors')),ye=A(require(a0_0x4ac10f(0x321))),qs=require('path'),ds=A(require('dayjs')),ps=(_0x167423=>(_0x167423['LOG']=a0_0x4ac10f(0x3a2),_0x167423[a0_0x4ac10f(0x599)]=a0_0x4ac10f(0x431),_0x167423['WARN']=a0_0x4ac10f(0x167),_0x167423['ERROR']=a0_0x4ac10f(0x5bb),_0x167423[a0_0x4ac10f(0x617)]=a0_0x4ac10f(0x302),_0x167423['VERBOSE']=a0_0x4ac10f(0x1a2),_0x167423[a0_0x4ac10f(0x66d)]='\x1b[30m',_0x167423))(ps||{}),Qs=(_0x1709e5=>(_0x1709e5[a0_0x4ac10f(0x1d4)]=a0_0x4ac10f(0x366),_0x1709e5['DARK']='\x1b[30m%s\x1b[0m',_0x1709e5[a0_0x4ac10f(0x599)]=a0_0x4ac10f(0x625),_0x1709e5[a0_0x4ac10f(0x194)]=a0_0x4ac10f(0x24b),_0x1709e5[a0_0x4ac10f(0x374)]=a0_0x4ac10f(0x137),_0x1709e5[a0_0x4ac10f(0x617)]='\x1b[36m%s\x1b[0m',_0x1709e5['VERBOSE']=a0_0x4ac10f(0x854),_0x1709e5))(Qs||{}),Ys=(_0x34c828=>(_0x34c828[a0_0x4ac10f(0x1d4)]=a0_0x4ac10f(0x1d4),_0x34c828[a0_0x4ac10f(0x194)]=a0_0x4ac10f(0x194),_0x34c828[a0_0x4ac10f(0x599)]=a0_0x4ac10f(0x599),_0x34c828['DARK']=a0_0x4ac10f(0x66d),_0x34c828['ERROR']='ERROR',_0x34c828['DEBUG']=a0_0x4ac10f(0x617),_0x34c828[a0_0x4ac10f(0x776)]='VERBOSE',_0x34c828))(Ys||{}),Xs=(_0x31f344=>(_0x31f344[a0_0x4ac10f(0x1d4)]=a0_0x4ac10f(0x2e2),_0x31f344['INFO']=a0_0x4ac10f(0x377),_0x31f344[a0_0x4ac10f(0x194)]=a0_0x4ac10f(0x400),_0x31f344[a0_0x4ac10f(0x66d)]='\x1b[40m',_0x31f344[a0_0x4ac10f(0x374)]=a0_0x4ac10f(0x2dc),_0x31f344[a0_0x4ac10f(0x617)]=a0_0x4ac10f(0x1c4),_0x31f344['VERBOSE']=a0_0x4ac10f(0x84f),_0x31f344))(Xs||{}),$=class{constructor(_0x1f4053=a0_0x4ac10f(0x44f)){this['context']=_0x1f4053,this['configService']=b;}[a0_0x4ac10f(0x637)](_0x1c733f){this['context']=_0x1c733f;}['console'](_0x2e1fe1,_0x9f3d1f){const _0xb64f08=a0_0x4ac10f;let _0x58146a=[];this[_0xb64f08(0x6de)]['get'](_0xb64f08(0x1d4))[_0xb64f08(0x698)][_0xb64f08(0x843)](_0x48fb85=>_0x58146a[_0xb64f08(0x304)](Ys[_0x48fb85]));let _0x177621=typeof _0x2e1fe1;_0x58146a[_0xb64f08(0x19a)](_0x9f3d1f)&&(b[_0xb64f08(0x2c5)](_0xb64f08(0x1d4))[_0xb64f08(0x853)]?(console[_0xb64f08(0x85b)](_0xb64f08(0x511)+Qs[_0x9f3d1f],_0xb64f08(0x179),(0x0,ds[_0xb64f08(0x5b7)])()[_0xb64f08(0x422)](_0xb64f08(0x544)),'\x1b[0m',ps[_0x9f3d1f]+Xs[_0x9f3d1f]+_0xb64f08(0x511),_0x9f3d1f+_0xb64f08(0x753),'\x1b[33m\x1b[1m',this[_0xb64f08(0x4a7)]+_0xb64f08(0x401),ps[_0x9f3d1f],_0x177621!=='object'?_0x2e1fe1:'',_0xb64f08(0x401)),_0x177621===_0xb64f08(0x7e5)&&console['log'](_0x2e1fe1,'\x0a')):console[_0xb64f08(0x85b)]((0x0,ds[_0xb64f08(0x5b7)])()[_0xb64f08(0x422)](_0xb64f08(0x747)),_0x9f3d1f+'\x20',''+this['context'],_0x2e1fe1));}['log'](_0x36e7df){const _0x254c53=a0_0x4ac10f;this['console'](_0x36e7df,_0x254c53(0x1d4));}[a0_0x4ac10f(0x653)](_0x450ba2){this['console'](_0x450ba2,'INFO');}['warn'](_0x582827){const _0x97eea3=a0_0x4ac10f;this[_0x97eea3(0x2b3)](_0x582827,_0x97eea3(0x194));}[a0_0x4ac10f(0x4f6)](_0x1dd611){const _0x365867=a0_0x4ac10f;this[_0x365867(0x2b3)](_0x1dd611,_0x365867(0x374));}[a0_0x4ac10f(0x188)](_0x167798){const _0x2bca45=a0_0x4ac10f;this[_0x2bca45(0x2b3)](_0x167798,_0x2bca45(0x776));}[a0_0x4ac10f(0x44c)](_0x2d843e){const _0xfd0077=a0_0x4ac10f;this[_0xfd0077(0x2b3)](_0x2d843e,'DEBUG');}['dark'](_0x563f4f){const _0x529e44=a0_0x4ac10f;this[_0x529e44(0x2b3)](_0x563f4f,'DARK');}};function Zs(){const _0x58c543=a0_0x4ac10f;process['on']('uncaughtException',(_0x4c1e1d,_0x54467d)=>{const _0x52980f=a0_0x3b98;new $('uncaughtException')[_0x52980f(0x4f6)]({'origin':_0x54467d,'stderr':process[_0x52980f(0x3a4)]['fd'],'error':_0x4c1e1d});}),process['on'](_0x58c543(0x14e),(_0x3e2a9a,_0x3c7165)=>{const _0x494475=_0x58c543;new $(_0x494475(0x14e))[_0x494475(0x4f6)]({'origin':_0x3c7165,'stderr':process[_0x494475(0x3a4)]['fd'],'error':_0x3e2a9a});});}var ea=A(require('eventemitter2')),hs=new ea[(a0_0x4ac10f(0x5b7))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Se=require('mongoose'),Ne=A(require(a0_0x4ac10f(0x124))),Ge=new $(a0_0x4ac10f(0x5c1)),F=b[a0_0x4ac10f(0x2c5)](a0_0x4ac10f(0x815)),R=F['ENABLED']?F[a0_0x4ac10f(0x338)][a0_0x4ac10f(0x165)]?Ne[a0_0x4ac10f(0x5b7)][a0_0x4ac10f(0x814)](F[a0_0x4ac10f(0x338)]['URI'],{'dbName':F['CONNECTION'][a0_0x4ac10f(0x83a)]+a0_0x4ac10f(0x4c0)}):Ne[a0_0x4ac10f(0x5b7)][a0_0x4ac10f(0x814)](a0_0x4ac10f(0x1e9)+F[a0_0x4ac10f(0x338)][a0_0x4ac10f(0x81d)]+':'+F[a0_0x4ac10f(0x338)][a0_0x4ac10f(0x60d)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':F[a0_0x4ac10f(0x338)][a0_0x4ac10f(0x7c3)],'pass':F[a0_0x4ac10f(0x338)]['PASSWORD'],'dbName':F[a0_0x4ac10f(0x338)]['DB_PREFIX_NAME']+'-whatsapp-api'}):null;F[a0_0x4ac10f(0x62e)]&&Ge[a0_0x4ac10f(0x653)](a0_0x4ac10f(0x59b)+R['$dbName']);var re=F[a0_0x4ac10f(0x62e)]?F[a0_0x4ac10f(0x338)][a0_0x4ac10f(0x165)]?Ne['default'][a0_0x4ac10f(0x814)](F[a0_0x4ac10f(0x338)][a0_0x4ac10f(0x165)],{'dbName':a0_0x4ac10f(0x452)}):Ne[a0_0x4ac10f(0x5b7)][a0_0x4ac10f(0x814)](a0_0x4ac10f(0x1e9)+F[a0_0x4ac10f(0x338)][a0_0x4ac10f(0x81d)]+':'+F['CONNECTION'][a0_0x4ac10f(0x60d)]+a0_0x4ac10f(0x3fb),{'user':F['CONNECTION'][a0_0x4ac10f(0x7c3)],'pass':F[a0_0x4ac10f(0x338)][a0_0x4ac10f(0x70e)],'dbName':a0_0x4ac10f(0x358)}):null;re&&Ge[a0_0x4ac10f(0x653)]('ON\x20-\x20dbName:\x20'+re['$dbName']),process['on'](a0_0x4ac10f(0x572),()=>{const _0x20c1eb=a0_0x4ac10f;R&&R[_0x20c1eb(0x37a)](()=>{const _0x8a4fb3=_0x20c1eb;Ge[_0x8a4fb3(0x653)](_0x8a4fb3(0x3b6));}),re&&re['close'](()=>{const _0x30e385=_0x20c1eb;Ge[_0x30e385(0x653)](_0x30e385(0x686));});});var Xo=new Se[(a0_0x4ac10f(0x13f))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Zo=new Se[(a0_0x4ac10f(0x13f))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),ei=new Se[(a0_0x4ac10f(0x13f))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),ti=new Se[(a0_0x4ac10f(0x13f))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Xo],'default':[]}},{'_id':!0x1}),si=new Se[(a0_0x4ac10f(0x13f))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':ti,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Zo},'groupdata':{'type':ei,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ta=_0x596836=>{const _0x255e0e=a0_0x4ac10f;let _0x2fe773='z_'+_0x596836+_0x255e0e(0x41e);return R?.[_0x255e0e(0x22b)]('ChatModel',si,_0x2fe773);},sa=require('mongoose'),ai=new sa['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=_0x4fc904=>{const _0x1af0f5=a0_0x4ac10f;let _0x299cbc='z_'+_0x4fc904+_0x1af0f5(0x1a4);return R?.[_0x1af0f5(0x22b)]('ContactModel',ai,_0x299cbc);},oa=require(a0_0x4ac10f(0x124)),gs=class{},oi=new oa[(a0_0x4ac10f(0x13f))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ia=re?.[a0_0x4ac10f(0x22b)](gs[a0_0x4ac10f(0x80a)],oi,a0_0x4ac10f(0x63b)),ra=require(a0_0x4ac10f(0x124)),ms=class{},ii=new ra[(a0_0x4ac10f(0x13f))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Be=re?.['model'](ms[a0_0x4ac10f(0x80a)],ii,'instances'),na=require(a0_0x4ac10f(0x124)),ri=new na[(a0_0x4ac10f(0x13f))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ca=_0x471b0f=>{const _0x334127=a0_0x4ac10f;let _0x1910ca='z_'+_0x471b0f+_0x334127(0x48a);return R?.[_0x334127(0x22b)](_0x334127(0x28f),ri,_0x1910ca);},la=require(a0_0x4ac10f(0x124)),fs=class{},ni=new la[(a0_0x4ac10f(0x13f))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ua=R?.[a0_0x4ac10f(0x22b)](fs[a0_0x4ac10f(0x80a)],ni,a0_0x4ac10f(0x3dc)),da=require('mongoose'),ws=class{},pa=new da[(a0_0x4ac10f(0x13f))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});pa[a0_0x4ac10f(0x1f7)](a0_0x4ac10f(0x260),function(_0x70fce3){const _0x104791=a0_0x4ac10f;delete this[_0x104791(0x5c5)],delete this[_0x104791(0x718)],delete this[_0x104791(0x55d)],delete this['flowStopConversation'],delete this[_0x104791(0x2ee)],_0x70fce3();});var ha=R?.[a0_0x4ac10f(0x22b)](ws[a0_0x4ac10f(0x80a)],pa,'webhook'),x=require(a0_0x4ac10f(0x124)),ys=require(a0_0x4ac10f(0x465)),We=class{},ga=new x[(a0_0x4ac10f(0x13f))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),bs=new x[(a0_0x4ac10f(0x13f))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),ci=new x[(a0_0x4ac10f(0x13f))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x4ac10f(0x1f6)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':a0_0x4ac10f(0x7a9)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ma=new x[(a0_0x4ac10f(0x13f))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),li=new x['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),ui=new x[(a0_0x4ac10f(0x13f))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Cs=new x[(a0_0x4ac10f(0x13f))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),di=new x[(a0_0x4ac10f(0x13f))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),fa=new x['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':ci},'apirequest':li,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':di,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),wa=new x[(a0_0x4ac10f(0x13f))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Ss=class{},Es=new x[(a0_0x4ac10f(0x13f))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Cs],'blocks':[fa],'groups':[ga],'conditions':[ma],'varedits':[wa],'replyOptions':{'type':[bs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x2d54a0=a0_0x4ac10f;return'!cmd_'+Math['random']()[_0x2d54a0(0x830)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x4ac10f(0x46e)},'startID':{'type':String,'default':()=>(0x0,ys['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,ys['v4'])()},'shareOwners':{'type':[String],'default':[]}});Es[a0_0x4ac10f(0x1f7)](a0_0x4ac10f(0x19e),function(_0x2a5cb7){const _0x471703=a0_0x4ac10f;let _0x26d9cf=this[_0x471703(0x6a3)]();if(_0x26d9cf&&typeof _0x26d9cf=='object'&&_0x471703(0x265)in _0x26d9cf){let _0x4af64c=_0x26d9cf[_0x471703(0x265)];if(_0x4af64c){let _0x3cb7a1=new Set(),_0x3ca829=new Set(_0x4af64c['variables']?.[_0x471703(0x3c7)](_0x5a8f30=>_0x5a8f30['name'])),_0x13bb05=JSON['stringify'](_0x4af64c),_0x309b68=/{{(?!_)([^}]*)}}/g,_0x581279;for(;(_0x581279=_0x309b68[_0x471703(0x60f)](_0x13bb05))!==null;)_0x3ca829[_0x471703(0x481)](_0x581279[0x1])||_0x3cb7a1['add'](_0x581279[0x1]);_0x3cb7a1['size']>0x0?(console[_0x471703(0x773)](_0x471703(0x131),Array[_0x471703(0x736)](_0x3cb7a1)),_0x4af64c[_0x471703(0x4b2)]=Array[_0x471703(0x736)](_0x3cb7a1)):_0x4af64c[_0x471703(0x4b2)]=[],this[_0x471703(0x7fc)]({'$set':_0x4af64c});}}_0x2a5cb7();});var vs=_0x3be7ce=>{const _0x42ecad=a0_0x4ac10f;let _0x176f9a='z_'+_0x3be7ce+_0x42ecad(0x474);return R?.['model'](_0x42ecad(0x598),Es,_0x176f9a);},pe=R?.['model'](Ss['name'],Es,a0_0x4ac10f(0x71f)),pi=new x[(a0_0x4ac10f(0x13f))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Cs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[ui]},{'_id':!0x1}),hi=new x[(a0_0x4ac10f(0x13f))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Cs],'blocks':[fa],'groups':[ga],'conditions':[ma],'varedits':[wa],'replyOptions':{'type':[bs],'default':[]},'chatLog':pi,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x4ac10f(0x38e)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x4ac10f(0x3d0)},'waitingMenu_replyOptions':{'type':[bs],'default':[]}}),ya=_0x2708a8=>{const _0x2a9797=a0_0x4ac10f;let _0x43bf90='z_'+_0x2708a8+_0x2a9797(0x723);return R?.[_0x2a9797(0x22b)](_0x2a9797(0x392),hi,_0x43bf90);},gi=new x[(a0_0x4ac10f(0x13f))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),mi=new x[(a0_0x4ac10f(0x13f))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),fi=new x[(a0_0x4ac10f(0x13f))]({'owner':{'type':String},'status':{'type':String,'default':'scheduled'},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':mi,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[gi],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ba=_0x2a9d34=>{const _0x230ba7=a0_0x4ac10f;let _0x1137a8='z_'+_0x2a9d34+_0x230ba7(0x121);return R?.['model'](_0x230ba7(0x2a6),fi,_0x1137a8);},Ms=class{},wi=new x[(a0_0x4ac10f(0x13f))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),yi=new x[(a0_0x4ac10f(0x13f))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),bi=new x[(a0_0x4ac10f(0x13f))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Si=new x['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x4ac10f(0x5f4)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),Mi=new x[(a0_0x4ac10f(0x13f))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Ci=new x['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Mi]},'customFields':{'type':[bi]},'flowConfig':{'type':Si,'default':{}},'flows':{'type':[yi],'default':[]},'autoCompleteMessages':{'type':[wi],'default':[]}}),$e=R?.['model'](Ms[a0_0x4ac10f(0x80a)],Ci,'AutomateSystem'),Sa=require('mongoose'),Ei=new Sa[(a0_0x4ac10f(0x13f))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ma=_0x5cf4ed=>{const _0x1b19c6=a0_0x4ac10f;let _0x4268e0='z_'+_0x5cf4ed+_0x1b19c6(0x23c);return R?.[_0x1b19c6(0x22b)]('LabelModel',Ei,_0x4268e0);},O=class{constructor(_0x53036d){const _0x3decb4=a0_0x4ac10f;this[_0x3decb4(0x214)]=_0x53036d[_0x3decb4(0x2c5)](_0x3decb4(0x815));}};function T(_0x4c4a09){const _0x728f5b=a0_0x4ac10f;let _0x411923={};for(let [_0x2eebc6,_0xb78a4f]of Object[_0x728f5b(0x58a)](_0x4c4a09))if(typeof _0xb78a4f==_0x728f5b(0x7e5)&&!Array[_0x728f5b(0x5b5)](_0xb78a4f)){for(let [_0x3653b4,_0x2b1550]of Object[_0x728f5b(0x58a)](_0xb78a4f))_0x411923[_0x2eebc6+'.'+_0x3653b4]=_0x2b1550;}else _0x411923[_0x2eebc6]=_0xb78a4f;return _0x411923;}var ze=class{constructor(_0x14f21f,_0x273ec7,_0x5eb30b,_0x249f5c,_0x197c86,_0x5590f7,_0x52b4b3,_0x34f414,_0x39e3d9,_0x2421b3,_0x4a511a,_0x16909f,_0x1af48b){const _0x5171da=a0_0x4ac10f;this[_0x5171da(0x552)]=_0x14f21f,this['chat']=_0x273ec7,this[_0x5171da(0x4b7)]=_0x5eb30b,this[_0x5171da(0x29b)]=_0x249f5c,this[_0x5171da(0x36d)]=_0x197c86,this[_0x5171da(0x504)]=_0x5590f7,this[_0x5171da(0x240)]=_0x52b4b3,this[_0x5171da(0x7fa)]=_0x34f414,this[_0x5171da(0x403)]=_0x39e3d9,this[_0x5171da(0x4da)]=_0x2421b3,this[_0x5171da(0x52a)]=_0x4a511a,this[_0x5171da(0x62b)]=_0x16909f,this[_0x5171da(0x177)]=_0x1af48b;}get[a0_0x4ac10f(0x5d5)](){const _0x1a2cfd=a0_0x4ac10f;return this[_0x1a2cfd(0x177)];}},He=class{},Ke=class extends O{['getMessageModelForOwner'](_0x2bf361){return ca(_0x2bf361);}async[a0_0x4ac10f(0x6a2)](_0x382692,_0x1ad33f){const _0x405141=a0_0x4ac10f;if(_0x382692[_0x405141(0x30c)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x405141(0x25b)](_0x1ad33f)['insertMany']([..._0x382692]))[_0x405141(0x30c)]};}catch(_0x44ba6e){return _0x44ba6e;}}async[a0_0x4ac10f(0x7c1)](_0x1c1a74,_0x4af99b){const _0x206abe=a0_0x4ac10f;try{let _0x2d6361=this[_0x206abe(0x25b)](_0x4af99b),_0x2828ef=T(_0x1c1a74[_0x206abe(0x577)]);return await _0x2d6361[_0x206abe(0x7c1)](_0x2828ef)['sort']({'messageTimestamp':-0x1})[_0x206abe(0x5c3)](_0x1c1a74?.[_0x206abe(0x5c3)]??0x0)[_0x206abe(0x1b8)]();}catch{return[];}}async[a0_0x4ac10f(0x399)](_0x4b537b,_0xbb87c2){const _0xd129eb=a0_0x4ac10f;try{let _0x594729=this[_0xd129eb(0x25b)](_0xbb87c2),_0x14d227=T(_0x4b537b[_0xd129eb(0x577)]);await _0x594729[_0xd129eb(0x630)](_0x14d227);}catch(_0x12b2d3){console[_0xd129eb(0x4f6)](_0x12b2d3);}}async[a0_0x4ac10f(0x256)](_0x87a593,_0x357dac,_0x4264d0){const _0x2740d0=a0_0x4ac10f;try{let _0x4bdda4=this[_0x2740d0(0x25b)](_0x4264d0),_0xd0ffe6=T(_0x87a593[_0x2740d0(0x577)]);return await _0x4bdda4[_0x2740d0(0x19e)](_0xd0ffe6,{'$set':_0x357dac},{'new':!0x0});}catch(_0x5d04cd){throw console[_0x2740d0(0x4f6)](_0x5d04cd),_0x5d04cd;}}async[a0_0x4ac10f(0x5eb)](_0x524c6c,_0x2de2e4){const _0x3611f1=a0_0x4ac10f;if(_0x524c6c[_0x3611f1(0x30c)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x3611f1(0x25b)](_0x2de2e4)['insertMany']([..._0x524c6c]))[_0x3611f1(0x30c)]};}catch(_0x3a05a6){return console[_0x3611f1(0x85b)]('ERROR:\x20',_0x3a05a6),_0x3a05a6;}}async[a0_0x4ac10f(0x811)](_0x26fb11){const _0x4ec6e3=a0_0x4ac10f;try{return await this[_0x4ec6e3(0x25b)](_0x26fb11)[_0x4ec6e3(0x547)][_0x4ec6e3(0x74c)](),{'success':!0x0};}catch(_0x11c083){return console[_0x4ec6e3(0x4f6)](_0x11c083),{'success':!0x1,'error':_0x11c083};}}},Ds=A(require(a0_0x4ac10f(0x591))),w=A(require(a0_0x4ac10f(0x1f8))),Pe=require('fs'),U=A(require(a0_0x4ac10f(0x63a))),Z=A(require(a0_0x4ac10f(0x464))),Ao=require('uuid'),To=A(require(a0_0x4ac10f(0x3b9))),Io=A(require(a0_0x4ac10f(0x55b))),Ca=[a0_0x4ac10f(0x7bb),a0_0x4ac10f(0x4d5),a0_0x4ac10f(0x3a5),a0_0x4ac10f(0x3c8),a0_0x4ac10f(0x32b)],Ea=[a0_0x4ac10f(0x250),'documentWithCaptionMessage','viewOnceMessage',a0_0x4ac10f(0x2c2)],Ps=require('os'),Ut=A(require(a0_0x4ac10f(0x34b))),ke=require(a0_0x4ac10f(0x532)),jt=require('node-mime-types'),de=A(require('mongoose')),k=require('class-validator'),ne=class{constructor(_0x2f33b6,_0x31bca0,_0x4fe5ec){const _0x356918=a0_0x4ac10f;this[_0x356918(0x49b)]=_0x2f33b6,this[_0x356918(0x659)]=_0x31bca0,this[_0x356918(0x80a)]=_0x4fe5ec;}},Qe=class{},Ye=class{},Re=class{},Xe=class{},Ze=class{},Me=class{},et=class{},tt=class{},st=class{},at=class{},xt=A(require('express')),va=require('fs'),Na=require(a0_0x4ac10f(0x63a));async function Ae(_0x571059){const _0x5821df=a0_0x4ac10f;let _0x1b7228=G[_0x5821df(0x5dc)][_0x571059];if(F[_0x5821df(0x62e)]){let _0x3418a9=R[_0x5821df(0x1ec)]()['db'](F[_0x5821df(0x338)][_0x5821df(0x83a)]+_0x5821df(0x79a))[_0x5821df(0x547)](_0x571059);return _0x1b7228||(await _0x3418a9[_0x5821df(0x7c1)]({})[_0x5821df(0x14c)]())['length']>0x0;}return _0x1b7228||(0x0,va[_0x5821df(0x355)])((0x0,Na['join'])(be,_0x571059));}async function $a(_0x24d425,_0x2184bc,_0x1647c3){const _0x2432dc=a0_0x4ac10f;if(_0x24d425[_0x2432dc(0x2d2)][_0x2432dc(0x19a)](_0x2432dc(0x14b))||_0x24d425[_0x2432dc(0x2d2)][_0x2432dc(0x19a)]('/instance/fetchInstances')||_0x24d425['originalUrl'][_0x2432dc(0x19a)](_0x2432dc(0x16e))||_0x24d425['originalUrl'][_0x2432dc(0x19a)]('/config')||_0x24d425[_0x2432dc(0x2d2)][_0x2432dc(0x19a)]('/instance/connect')||_0x24d425[_0x2432dc(0x2d2)][_0x2432dc(0x19a)](_0x2432dc(0x77a))||_0x24d425[_0x2432dc(0x2d2)][_0x2432dc(0x19a)](_0x2432dc(0x68a)))return _0x1647c3();let _0xcccf19=_0x24d425[_0x2432dc(0x296)];if(!_0xcccf19?.[_0x2432dc(0x82b)])throw new m(_0x2432dc(0x64c));if(!await Ae(_0xcccf19[_0x2432dc(0x82b)]))throw new J(_0x2432dc(0x2b1)+_0xcccf19[_0x2432dc(0x82b)]+_0x2432dc(0x5ae));_0x1647c3();}async function Ra(_0x42e82a,_0x367f4a,_0x127cb3){const _0x142ae5=a0_0x4ac10f;if(_0x42e82a[_0x142ae5(0x2d2)][_0x142ae5(0x19a)](_0x142ae5(0x14b))){let _0x1726cf=_0x42e82a[_0x142ae5(0x831)];if(await Ae(_0x1726cf[_0x142ae5(0x82b)]))throw new K('This\x20name\x20'+_0x1726cf[_0x142ae5(0x82b)]+_0x142ae5(0x779));G[_0x142ae5(0x5dc)][_0x1726cf[_0x142ae5(0x82b)]]&&delete G[_0x142ae5(0x5dc)][_0x1726cf[_0x142ae5(0x82b)]];}_0x127cb3();}var Aa=require(a0_0x4ac10f(0x4df)),Ta=A(require(a0_0x4ac10f(0x166))),ot=a0_0x4ac10f(0x79d),Ni=new $(a0_0x4ac10f(0x6c7));async function $i(_0x4b634d,_0x3ff1ea,_0x5748b9){const _0x248578=a0_0x4ac10f;let _0x1a94e8=_0x4b634d[_0x248578(0x2c5)](_0x248578(0x602));if(_0x1a94e8&&b[_0x248578(0x2c5)](_0x248578(0x75a))['API_KEY'][_0x248578(0x5e2)]!==_0x1a94e8)throw new se();if(b[_0x248578(0x2c5)]('AUTHENTICATION')[_0x248578(0x7f0)]['KEY']===_0x1a94e8)return _0x5748b9();if((_0x4b634d[_0x248578(0x2d2)][_0x248578(0x19a)](_0x248578(0x14b))||_0x4b634d[_0x248578(0x2d2)][_0x248578(0x19a)](_0x248578(0x7c2)))&&!_0x1a94e8)throw new K(_0x248578(0x2ad),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x1b5236=b[_0x248578(0x2c5)]('AUTHENTICATION')['JWT'];try{let [_0x2d7cc4,_0x4aa2f8]=_0x4b634d['get'](_0x248578(0x33c))[_0x248578(0x3eb)]('\x20');if(_0x2d7cc4[_0x248578(0x35c)]()!==_0x248578(0x536))throw new se();if(!(0x0,Aa[_0x248578(0x46c)])(_0x4aa2f8))throw new se();let _0x2b53de=_0x4b634d['params'],_0x23bf0b=Ta[_0x248578(0x5b7)]['verify'](_0x4aa2f8,_0x1b5236[_0x248578(0x473)],{'ignoreExpiration':_0x1b5236[_0x248578(0x83c)]===0x0});if(_0x2b53de[_0x248578(0x82b)]!==_0x23bf0b[_0x248578(0x82b)]||ot!==_0x23bf0b[_0x248578(0x2aa)])throw new se();return _0x5748b9();}catch(_0x33c3c0){throw Ni[_0x248578(0x4f6)](_0x33c3c0),new se();}}async function Ri(_0x287476,_0xbae1b,_0x4d51cd){const _0x685ffc=a0_0x4ac10f;let _0x177d2b=b[_0x685ffc(0x2c5)]('AUTHENTICATION')[_0x685ffc(0x7f0)],_0x1b4e36=_0x287476[_0x685ffc(0x2c5)]('apikey');if(_0x177d2b['KEY']===_0x1b4e36)return _0x4d51cd();if(_0x287476[_0x685ffc(0x2d2)][_0x685ffc(0x19a)](_0x685ffc(0x14b))){let _0x353394=Oa,_0x2d7d6=_0x287476[_0x685ffc(0x831)][_0x685ffc(0x82b)];if(_0x353394&&_0x2d7d6[_0x685ffc(0x35c)]()[_0x685ffc(0x231)](_0x353394[_0x685ffc(0x35c)]()))return _0x4d51cd();if(!_0x1b4e36)throw new K('Missing\x20global\x20api\x20key',_0x685ffc(0x6a0));}if(_0x287476['originalUrl']['includes']('/instance/fetchInstances')&&!_0x1b4e36)throw new K(_0x685ffc(0x2ad),_0x685ffc(0x6a0));if(_0x287476[_0x685ffc(0x2d2)][_0x685ffc(0x19a)](_0x685ffc(0x16e))&&!_0x1b4e36)throw new K(_0x685ffc(0x2ad),_0x685ffc(0x6a0));if(_0x287476[_0x685ffc(0x2d2)][_0x685ffc(0x19a)]('/config')&&!_0x1b4e36)throw new K(_0x685ffc(0x2ad),_0x685ffc(0x6a0));try{let _0x4c262c=_0x287476[_0x685ffc(0x296)],_0x15d6fd=await he['auth'][_0x685ffc(0x7c1)](_0x4c262c[_0x685ffc(0x82b)]);if(_0x15d6fd&&_0x15d6fd[_0x685ffc(0x602)]===_0x1b4e36)return _0x4d51cd();}catch{}throw new se();}var Ia={'jwt':$i,'apikey':Ri},po=require(a0_0x4ac10f(0x321)),E=require(a0_0x4ac10f(0x465)),C=(..._0x43be0e)=>{const _0x3dc845=a0_0x4ac10f;let _0x336dec={};return _0x43be0e[_0x3dc845(0x843)](_0x237e77=>_0x336dec[_0x237e77]={'minLength':0x1,'description':_0x3dc845(0x448)+_0x237e77+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x43be0e]}},'then':{'properties':_0x336dec}};},v={'$id':(0x0,E['v4'])(),'type':'object','properties':{'instanceName':{'type':a0_0x4ac10f(0x525)}},...C(a0_0x4ac10f(0x82b))},Sc={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'oldToken':{'type':'string'}},'required':[a0_0x4ac10f(0x85a)],...C(a0_0x4ac10f(0x85a))},Mc={'properties':{'key':{'type':a0_0x4ac10f(0x7e5),'properties':{'id':{'type':a0_0x4ac10f(0x525)},'remoteJid':{'type':a0_0x4ac10f(0x525)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x4ac10f(0x6e1),a0_0x4ac10f(0x31d)],...C('id',a0_0x4ac10f(0x6e1))},'message':{'type':a0_0x4ac10f(0x7e5)}}},Q={'properties':{'delay':{'type':a0_0x4ac10f(0x7e4),'description':a0_0x4ac10f(0x683)},'presence':{'type':'string','enum':[a0_0x4ac10f(0x3da),'available',a0_0x4ac10f(0x489),a0_0x4ac10f(0x5ba),a0_0x4ac10f(0x2e0)]}}},z={'type':a0_0x4ac10f(0x525),'description':a0_0x4ac10f(0x181)},_a={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0x4ac10f(0x7e5),'properties':{'text':{'type':a0_0x4ac10f(0x525)}},'required':['text'],...C(a0_0x4ac10f(0x6e7))}},'required':['textMessage',a0_0x4ac10f(0x1e2)]},xa={'type':'string','pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':'Invalid\x20format'},Cc={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'number':{...xa},'options':{...Q},'textMessage':{'type':a0_0x4ac10f(0x7e5),'properties':{'text':{'type':'string'}},'required':[a0_0x4ac10f(0x6e7)],...C(a0_0x4ac10f(0x6e7))}},'required':[a0_0x4ac10f(0x48d),'number']},Ec={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'number':{...xa},'options':{...Q},'mediaMessage':{'type':a0_0x4ac10f(0x7e5),'properties':{'mediatype':{'type':'string','enum':[a0_0x4ac10f(0x5b6),a0_0x4ac10f(0x7b6),a0_0x4ac10f(0x315),a0_0x4ac10f(0x75c)]},'media':{'type':a0_0x4ac10f(0x525)},'fileName':{'type':'string'},'caption':{'type':'string'}},'required':['mediatype',a0_0x4ac10f(0x27d)],...C(a0_0x4ac10f(0x7ec),a0_0x4ac10f(0x276),a0_0x4ac10f(0x27d))}},'required':['mediaMessage',a0_0x4ac10f(0x1e2)]},Da={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':'object','properties':{'image':{'type':a0_0x4ac10f(0x525)}},'required':[a0_0x4ac10f(0x5b6)],...C(a0_0x4ac10f(0x5b6))}},'required':[a0_0x4ac10f(0x32b),a0_0x4ac10f(0x1e2)]},Pa={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'statusMessage':{'type':a0_0x4ac10f(0x7e5),'properties':{'type':{'type':'string','enum':[a0_0x4ac10f(0x6e7),a0_0x4ac10f(0x5b6),'audio','video']},'content':{'type':'string'},'caption':{'type':a0_0x4ac10f(0x525)},'backgroundColor':{'type':a0_0x4ac10f(0x525)},'font':{'type':a0_0x4ac10f(0x7e4),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x4ac10f(0x5ee),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4ac10f(0x525),'pattern':a0_0x4ac10f(0x158),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x4ac10f(0x5e8),'enum':[!0x0,!0x1]}},'required':[a0_0x4ac10f(0x14f),a0_0x4ac10f(0x715)],...C('type',a0_0x4ac10f(0x715))}},'required':[a0_0x4ac10f(0x7dd)]},ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':a0_0x4ac10f(0x7e5),'properties':{'mediatype':{'type':a0_0x4ac10f(0x525),'enum':[a0_0x4ac10f(0x5b6),a0_0x4ac10f(0x7b6),'video',a0_0x4ac10f(0x75c)]},'media':{'type':a0_0x4ac10f(0x525)},'fileName':{'type':a0_0x4ac10f(0x525)},'caption':{'type':a0_0x4ac10f(0x525)}},'required':[a0_0x4ac10f(0x291),'media'],...C(a0_0x4ac10f(0x7ec),a0_0x4ac10f(0x276),a0_0x4ac10f(0x27d))}},'required':['mediaMessage',a0_0x4ac10f(0x1e2)]},La={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0x4ac10f(0x7e5),'properties':{'audio':{'type':a0_0x4ac10f(0x525)}},'required':[a0_0x4ac10f(0x75c)],...C(a0_0x4ac10f(0x75c))}},'required':['audioMessage',a0_0x4ac10f(0x1e2)]},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'number':{...z},'pollMessage':{'type':a0_0x4ac10f(0x7e5),'properties':{'name':{'type':a0_0x4ac10f(0x525)},'selectableCount':{'type':a0_0x4ac10f(0x1e2)},'values':{'type':a0_0x4ac10f(0x5ee),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x4ac10f(0x543),'values'],...C(a0_0x4ac10f(0x80a),a0_0x4ac10f(0x543),'values')}},'required':[a0_0x4ac10f(0x1e2),a0_0x4ac10f(0x578)]},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'number':{...z},'menuMessage':{'type':a0_0x4ac10f(0x7e5),'properties':{'text':{'type':a0_0x4ac10f(0x525)},'choices':{'type':a0_0x4ac10f(0x5ee),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x4ac10f(0x6e7),'choices'],...C(a0_0x4ac10f(0x6e7),a0_0x4ac10f(0x147))}},'required':[a0_0x4ac10f(0x1e2),'menuMessage']},ja={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0x4ac10f(0x7e5),'properties':{'title':{'type':'string'},'description':{'type':'string'},'footerText':{'type':'string'},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x4ac10f(0x525)}},'required':[a0_0x4ac10f(0x255),a0_0x4ac10f(0x5bd)],...C(a0_0x4ac10f(0x255),a0_0x4ac10f(0x5bd))}},'mediaMessage':{'type':'object','properties':{'media':{'type':a0_0x4ac10f(0x525)},'fileName':{'type':a0_0x4ac10f(0x525)},'mediatype':{'type':a0_0x4ac10f(0x525),'enum':['image',a0_0x4ac10f(0x7b6),a0_0x4ac10f(0x315)]}},'required':['media',a0_0x4ac10f(0x291)],...C(a0_0x4ac10f(0x27d),'fileName')}},'required':[a0_0x4ac10f(0x49c),a0_0x4ac10f(0x65c)],...C(a0_0x4ac10f(0x49c),a0_0x4ac10f(0x4db))}},'required':['number','buttonMessage']},Ja={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x4ac10f(0x7e5),'properties':{'latitude':{'type':a0_0x4ac10f(0x1e2)},'longitude':{'type':a0_0x4ac10f(0x1e2)},'name':{'type':a0_0x4ac10f(0x525)},'address':{'type':'string'}},'required':[a0_0x4ac10f(0x507),a0_0x4ac10f(0x6d7)],...C('name',a0_0x4ac10f(0x42e))}},'required':[a0_0x4ac10f(0x1e2),a0_0x4ac10f(0x359)]},qa={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x4ac10f(0x525)},'description':{'type':a0_0x4ac10f(0x525)},'footerText':{'type':a0_0x4ac10f(0x525)},'buttonText':{'type':a0_0x4ac10f(0x525)},'sections':{'type':a0_0x4ac10f(0x5ee),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4ac10f(0x7e5),'properties':{'title':{'type':a0_0x4ac10f(0x525)},'rows':{'type':a0_0x4ac10f(0x5ee),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4ac10f(0x7e5),'properties':{'title':{'type':a0_0x4ac10f(0x525)},'description':{'type':a0_0x4ac10f(0x525)},'rowId':{'type':a0_0x4ac10f(0x525)}},'required':[a0_0x4ac10f(0x49c),'rowId'],...C(a0_0x4ac10f(0x49c),a0_0x4ac10f(0x524))}}},'required':['title','rows'],...C(a0_0x4ac10f(0x49c))}}},'required':[a0_0x4ac10f(0x49c),a0_0x4ac10f(0x4db),'buttonText','sections'],...C('title',a0_0x4ac10f(0x4db),a0_0x4ac10f(0x255),'footerText')}},'required':[a0_0x4ac10f(0x1e2),a0_0x4ac10f(0x23a)]},Va={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0x4ac10f(0x5ee),'items':{'type':'object','properties':{'fullName':{'type':a0_0x4ac10f(0x525)},'phoneNumber':{'type':a0_0x4ac10f(0x525),'minLength':0xa}},'required':[a0_0x4ac10f(0x781),a0_0x4ac10f(0x654)],...C(a0_0x4ac10f(0x781))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x4ac10f(0x1e2),a0_0x4ac10f(0x583)]},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'reactionMessage':{'type':a0_0x4ac10f(0x7e5),'properties':{'key':{'type':a0_0x4ac10f(0x7e5),'properties':{'id':{'type':a0_0x4ac10f(0x525)},'remoteJid':{'type':a0_0x4ac10f(0x525)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x4ac10f(0x6e1),'fromMe'],...C('id',a0_0x4ac10f(0x6e1))},'reaction':{'type':'string'}},'required':[a0_0x4ac10f(0x77d),a0_0x4ac10f(0x6c0)],...C('reaction')}},'required':['reactionMessage']},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'numbers':{'type':a0_0x4ac10f(0x5ee),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x4ac10f(0x158),'description':a0_0x4ac10f(0x1e3)}}}},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'readMessages':{'type':a0_0x4ac10f(0x5ee),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x4ac10f(0x5e8),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x4ac10f(0x525)}},'required':['id',a0_0x4ac10f(0x31d),a0_0x4ac10f(0x6e1)],...C('id','remoteJid')}}},'required':[a0_0x4ac10f(0x86a)]},za={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':'string','enum':[a0_0x4ac10f(0x428),'none']},'profile':{'type':a0_0x4ac10f(0x525),'enum':['all',a0_0x4ac10f(0x128),a0_0x4ac10f(0x1a7),a0_0x4ac10f(0x241)]},'status':{'type':a0_0x4ac10f(0x525),'enum':['all','contacts',a0_0x4ac10f(0x1a7),a0_0x4ac10f(0x241)]},'online':{'type':a0_0x4ac10f(0x525),'enum':['all',a0_0x4ac10f(0x4e9)]},'last':{'type':'string','enum':[a0_0x4ac10f(0x428),a0_0x4ac10f(0x128),a0_0x4ac10f(0x1a7),'none']},'groupadd':{'type':a0_0x4ac10f(0x525),'enum':['all',a0_0x4ac10f(0x128),a0_0x4ac10f(0x1a7),a0_0x4ac10f(0x241)]}},'required':[a0_0x4ac10f(0x68e),a0_0x4ac10f(0x6ef),a0_0x4ac10f(0x1ac),'online',a0_0x4ac10f(0x5ed),a0_0x4ac10f(0x7b2)],...C(a0_0x4ac10f(0x68e),'profile',a0_0x4ac10f(0x1ac),a0_0x4ac10f(0x2b5),a0_0x4ac10f(0x5ed),a0_0x4ac10f(0x7b2))}},'required':['privacySettings']},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'lastMessage':{'type':a0_0x4ac10f(0x7e5),'properties':{'key':{'type':a0_0x4ac10f(0x7e5),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x4ac10f(0x525)},'fromMe':{'type':a0_0x4ac10f(0x5e8),'enum':[!0x0,!0x1]}},'required':['id',a0_0x4ac10f(0x31d),'remoteJid'],...C('id','remoteJid')},'messageTimestamp':{'type':a0_0x4ac10f(0x7e4),'minLength':0x1}},'required':[a0_0x4ac10f(0x77d)],...C(a0_0x4ac10f(0x18b))},'archive':{'type':a0_0x4ac10f(0x5e8),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x4ac10f(0x2a4)]},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'id':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':'string'}},'required':['id','fromMe',a0_0x4ac10f(0x6e1)],...C('id',a0_0x4ac10f(0x6e1),'participant')},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'where':{'type':a0_0x4ac10f(0x7e5),'properties':{'_id':{'type':a0_0x4ac10f(0x525),'minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':a0_0x4ac10f(0x525),'minLength':0x1}},...C(a0_0x4ac10f(0x261),'id',a0_0x4ac10f(0x364))}}},Ya={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'name':{'type':a0_0x4ac10f(0x525)}},...C(a0_0x4ac10f(0x80a))},Xa={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'status':{'type':a0_0x4ac10f(0x525)}},...C(a0_0x4ac10f(0x1ac))},Te={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{'type':a0_0x4ac10f(0x525)},'picture':{'type':a0_0x4ac10f(0x525)}}},Za={'type':a0_0x4ac10f(0x7e5),'properties':{'wuid':{'type':'string'},'name':{'type':a0_0x4ac10f(0x525)},'picture':{'type':a0_0x4ac10f(0x525)},'status':{'type':a0_0x4ac10f(0x525)},'isBusiness':{'type':a0_0x4ac10f(0x5e8)}}},eo={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x4ac10f(0x525),'minLength':0x1},'key':{'type':a0_0x4ac10f(0x7e5),'if':{'propertyNames':{'enum':[a0_0x4ac10f(0x31d),a0_0x4ac10f(0x6e1),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x4ac10f(0x525),'minLength':0x1,'description':a0_0x4ac10f(0x242)},'id':{'type':a0_0x4ac10f(0x525),'minLength':0x1,'description':a0_0x4ac10f(0x242)},'fromMe':{'type':a0_0x4ac10f(0x5e8),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x4ac10f(0x7e5)}},...C(a0_0x4ac10f(0x261))},'limit':{'type':a0_0x4ac10f(0x7e4)}}},vc={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'where':{'type':a0_0x4ac10f(0x7e5),'properties':{'_id':{'type':a0_0x4ac10f(0x525)},'remoteJid':{'type':'string'},'id':{'type':'string'},'fromMe':{'type':a0_0x4ac10f(0x5e8),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x4ac10f(0x525),'enum':[a0_0x4ac10f(0x374),a0_0x4ac10f(0x71e),a0_0x4ac10f(0x3a8),a0_0x4ac10f(0x331),a0_0x4ac10f(0x182),a0_0x4ac10f(0x6c6)]}},...C(a0_0x4ac10f(0x261),'remoteJid','id',a0_0x4ac10f(0x1ac))},'limit':{'type':a0_0x4ac10f(0x7e4)}}},to={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'number':{...z},'presence':{'type':a0_0x4ac10f(0x525),'enum':[a0_0x4ac10f(0x3da),a0_0x4ac10f(0x1e5),'composing',a0_0x4ac10f(0x5ba),a0_0x4ac10f(0x2e0)]}},'required':['presence','number']},so={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'subject':{'type':'string'},'description':{'type':a0_0x4ac10f(0x525)},'profilePicture':{'type':'string'},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4ac10f(0x525),'minLength':0xa,'pattern':a0_0x4ac10f(0x6ed),'description':a0_0x4ac10f(0x27f)}}},'required':[a0_0x4ac10f(0x5d0),a0_0x4ac10f(0x417)],...C(a0_0x4ac10f(0x5d0),a0_0x4ac10f(0x4db),'profilePicture')},Ie={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'groupJid':{'type':a0_0x4ac10f(0x525),'pattern':a0_0x4ac10f(0x5c6)}},'required':['groupJid'],...C(a0_0x4ac10f(0x2cd))},ao={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'groupJid':{'type':a0_0x4ac10f(0x525)},'action':{'type':a0_0x4ac10f(0x525),'enum':[a0_0x4ac10f(0x7c8),'remove','promote',a0_0x4ac10f(0x17e),a0_0x4ac10f(0x307),a0_0x4ac10f(0x837)]},'participants':{'type':a0_0x4ac10f(0x5ee),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4ac10f(0x525),'minLength':0xa,'pattern':a0_0x4ac10f(0x6ed),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x4ac10f(0x2cd),a0_0x4ac10f(0x678),'participants'],...C(a0_0x4ac10f(0x2cd),'action')},oo={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4ac10f(0x525)},'expiration':{'type':a0_0x4ac10f(0x1e2),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x4ac10f(0x2cd),a0_0x4ac10f(0x356)],...C(a0_0x4ac10f(0x2cd),a0_0x4ac10f(0x356))},io={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'groupJid':{'type':a0_0x4ac10f(0x525)},'image':{'type':a0_0x4ac10f(0x525)}},'required':['groupJid',a0_0x4ac10f(0x5b6)],...C('groupJid',a0_0x4ac10f(0x5b6))},ro={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4ac10f(0x525)},'description':{'type':a0_0x4ac10f(0x525)}},'required':['groupJid',a0_0x4ac10f(0x4db)],...C('groupJid',a0_0x4ac10f(0x4db))},no={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'groupJid':{'type':a0_0x4ac10f(0x525)},'name':{'type':a0_0x4ac10f(0x525)}},'required':['groupJid',a0_0x4ac10f(0x80a)],...C(a0_0x4ac10f(0x2cd),'name')},co={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x4ac10f(0x525),'enum':[a0_0x4ac10f(0x134),'not_announcement',a0_0x4ac10f(0x292),a0_0x4ac10f(0x4ba)]}},'required':['groupJid',a0_0x4ac10f(0x264)],...C(a0_0x4ac10f(0x2cd),a0_0x4ac10f(0x264))},lo={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'groupJid':{'type':a0_0x4ac10f(0x525)},'restrict':{'type':a0_0x4ac10f(0x5e8)},'announce':{'type':'boolean'},'memberAddMode':{'type':a0_0x4ac10f(0x5e8)},'joinApprovalMode':{'type':a0_0x4ac10f(0x5e8)},'expiration':{'type':a0_0x4ac10f(0x7e4),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x4ac10f(0x525)},'description':{'type':a0_0x4ac10f(0x525)},'image':{'type':a0_0x4ac10f(0x525)}}},Ns={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'inviteCode':{'type':a0_0x4ac10f(0x525)}},'required':[a0_0x4ac10f(0x57e)],...C(a0_0x4ac10f(0x57e))},uo={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'url':{'type':a0_0x4ac10f(0x525)},'enabled':{'type':a0_0x4ac10f(0x5e8),'enum':[!0x0,!0x1]}},'required':[a0_0x4ac10f(0x690),'enabled']},Nc={'$id':(0x0,E['v4'])(),'type':a0_0x4ac10f(0x7e5),'properties':{'local_map':{'type':a0_0x4ac10f(0x5e8),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x4ac10f(0x5e8),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x4ac10f(0x5e8),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x4ac10f(0x5e8),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x4ac10f(0x5e8),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x4ac10f(0x5e8),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x4ac10f(0x5e8),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x4ac10f(0x5e8),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x4ac10f(0x5e8),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x4ac10f(0x5e8),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x4ac10f(0x5e8),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x4ac10f(0x5e8),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x4ac10f(0x5e8),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x4ac10f(0x5e8),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x4ac10f(0x5e8),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x4ac10f(0x5e8),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x4ac10f(0x1df),a0_0x4ac10f(0x31c),a0_0x4ac10f(0x442),'MESSAGES_SET',a0_0x4ac10f(0x3c9),'MESSAGES_UPSERT','SEND_MESSAGE',a0_0x4ac10f(0x2d7),a0_0x4ac10f(0x50c),a0_0x4ac10f(0x569),'PRESENCE_UPDATE',a0_0x4ac10f(0x30e),a0_0x4ac10f(0x681),a0_0x4ac10f(0x3c3),'CHATS_DELETE',a0_0x4ac10f(0x468),a0_0x4ac10f(0x694),a0_0x4ac10f(0x81b),a0_0x4ac10f(0x3c4)],...C(a0_0x4ac10f(0x1df),a0_0x4ac10f(0x31c),a0_0x4ac10f(0x442),a0_0x4ac10f(0x5e1),a0_0x4ac10f(0x3c9),a0_0x4ac10f(0x33a),a0_0x4ac10f(0x164),a0_0x4ac10f(0x2d7),a0_0x4ac10f(0x50c),a0_0x4ac10f(0x569),'PRESENCE_UPDATE',a0_0x4ac10f(0x30e),'CHATS_UPSERT',a0_0x4ac10f(0x3c3),'CHATS_DELETE',a0_0x4ac10f(0x468),a0_0x4ac10f(0x694),a0_0x4ac10f(0x81b),a0_0x4ac10f(0x3c4))},it=class{},rt=class extends O{[a0_0x4ac10f(0x4ed)](_0x3989a4){return aa(_0x3989a4);}async[a0_0x4ac10f(0x6a2)](_0x5022f0){const _0x59e811=a0_0x4ac10f;if(_0x5022f0[_0x59e811(0x30c)]!==0x0)try{return{'insertCount':(await this[_0x59e811(0x4ed)](_0x5022f0[0x0]['owner'])[_0x59e811(0x5eb)]([..._0x5022f0]))['length']};}catch(_0x10c179){return _0x10c179;}}async[a0_0x4ac10f(0x399)](_0x4323b9,_0x2903ba){const _0x584256=a0_0x4ac10f;try{return{'deletedCount':(await this[_0x584256(0x4ed)](_0x2903ba)[_0x584256(0x630)]({..._0x4323b9[_0x584256(0x577)]}))['deletedCount']};}catch(_0x3cc1cb){return{'error':_0x3cc1cb?.['toString']()};}}async[a0_0x4ac10f(0x256)](_0x4e0a9c,_0x4abfb9){const _0x4bbffb=a0_0x4ac10f;try{if(_0x4e0a9c[_0x4bbffb(0x30c)]===0x0)return;let _0x529c37=this[_0x4bbffb(0x4ed)](_0x4abfb9),_0x1056d5=_0x4e0a9c[_0x4bbffb(0x3c7)](_0x493533=>({'updateOne':{'filter':{'_id':_0x493533['_id'],'owner':_0x4abfb9},'update':{..._0x493533}}})),{modifiedCount:_0x504d1f}=await _0x529c37[_0x4bbffb(0x717)](_0x1056d5);return{'insertCount':_0x504d1f};}catch{return;}}async['find'](_0x400f8e,_0x40aebf){const _0x45b3dd=a0_0x4ac10f;try{let _0x48d069=this['getContactModelForOwner'](_0x40aebf),_0x3ba7ff=T(_0x400f8e[_0x45b3dd(0x577)]);return await _0x48d069[_0x45b3dd(0x7c1)](_0x3ba7ff)['limit'](_0x400f8e?.[_0x45b3dd(0x5c3)]??0x0)[_0x45b3dd(0x1b8)]();}catch{return[];}}async[a0_0x4ac10f(0x349)](_0x5f1aed,_0x4ddd6a){const _0x339cb9=a0_0x4ac10f;try{let _0x2a1711=this[_0x339cb9(0x4ed)](_0x4ddd6a),_0x4cdb8b=T(_0x5f1aed[_0x339cb9(0x577)]);return await _0x2a1711[_0x339cb9(0x349)](_0x4cdb8b)['lean']();}catch{return null;}}async[a0_0x4ac10f(0x811)](_0x2a5e35){const _0x3c75a0=a0_0x4ac10f;try{return await this[_0x3c75a0(0x4ed)](_0x2a5e35)['collection'][_0x3c75a0(0x74c)](),{'success':!0x0};}catch(_0x48168c){return console[_0x3c75a0(0x4f6)](_0x48168c),{'success':!0x1,'error':_0x48168c};}}},nt=require(a0_0x4ac10f(0x4a9)),Dc=require(a0_0x4ac10f(0x3b7)),$s=new $('Validate'),V=class{['routerPath'](_0x25a2fb,_0x1e5da9=!0x0){const _0x1502a1=a0_0x4ac10f;let _0x1c3baa='/'+_0x25a2fb;return _0x1e5da9&&(_0x1c3baa+=_0x1502a1(0x7ad)),_0x1c3baa;}async[a0_0x4ac10f(0x551)](_0x47fbb9){const _0x30246d=a0_0x4ac10f;let {request:_0x47aae8,schema:_0x2fc12b,ClassRef:_0x837ba,execute:_0x5eaa76}=_0x47fbb9,_0x45587b=new _0x837ba(),_0x14a35f=_0x47aae8[_0x30246d(0x831)],_0x421736=_0x47aae8[_0x30246d(0x296)];_0x47aae8?.[_0x30246d(0x2bd)]&&Object['keys'](_0x47aae8[_0x30246d(0x2bd)])[_0x30246d(0x30c)]>0x0&&Object[_0x30246d(0x660)](_0x421736,_0x47aae8['query']),_0x47aae8[_0x30246d(0x2d2)][_0x30246d(0x19a)]('/instance/create')&&Object[_0x30246d(0x660)](_0x421736,_0x14a35f),Object['assign'](_0x45587b,_0x14a35f);let _0x4ee868=_0x2fc12b?(0x0,nt[_0x30246d(0x849)])(_0x45587b,_0x2fc12b):{'valid':!0x0,'errors':[]};if(!_0x4ee868['valid']){let _0x52ce7b=_0x4ee868[_0x30246d(0x2b8)][_0x30246d(0x3c7)](({property:_0x5464c0,stack:_0x493997,schema:_0x1ec39f})=>{const _0x5c7c31=_0x30246d;let _0x127941;return _0x1ec39f[_0x5c7c31(0x4db)]?_0x127941=_0x1ec39f[_0x5c7c31(0x4db)]:_0x127941=_0x493997[_0x5c7c31(0x527)](_0x5c7c31(0x160),''),{'property':_0x5464c0[_0x5c7c31(0x527)](_0x5c7c31(0x160),''),'message':_0x127941};});throw $s['error']([..._0x52ce7b]),new m(..._0x52ce7b);}return await _0x5eaa76(_0x421736,_0x45587b);}async[a0_0x4ac10f(0x498)](_0x5f116c){const _0x485569=a0_0x4ac10f;let {request:_0x1fb922,ClassRef:_0x38e5bd,schema:_0x10b2b4,execute:_0x492dbe}=_0x5f116c,_0x2f9fd9=_0x1fb922['query'];if(!_0x2f9fd9?.['groupJid'])throw new m('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','ex:\x20\x22groupJid=120362@g.us\x22');let _0x5b9f80=_0x1fb922[_0x485569(0x296)],_0x39051e=_0x1fb922['body'],_0x1f2e5c=new _0x38e5bd();Object[_0x485569(0x660)](_0x39051e,_0x2f9fd9),Object[_0x485569(0x660)](_0x1f2e5c,_0x39051e);let _0x162a35=(0x0,nt[_0x485569(0x849)])(_0x1f2e5c,_0x10b2b4);if(!_0x162a35[_0x485569(0x297)]){let _0x425eb9=_0x162a35[_0x485569(0x2b8)][_0x485569(0x3c7)](({property:_0x2341d8,stack:_0x1f7098,schema:_0x1965e4})=>{const _0x39cefd=_0x485569;let _0x5b44c8;return _0x1965e4[_0x39cefd(0x4db)]?_0x5b44c8=_0x1965e4[_0x39cefd(0x4db)]:_0x5b44c8=_0x1f7098['replace']('instance.',''),{'property':_0x2341d8[_0x39cefd(0x527)](_0x39cefd(0x160),''),'message':_0x5b44c8};});throw $s[_0x485569(0x4f6)]([..._0x425eb9]),new m(..._0x425eb9);}return await _0x492dbe(_0x5b9f80,_0x1f2e5c);}async[a0_0x4ac10f(0x3f2)](_0x24e1fc){const _0x3bada5=a0_0x4ac10f;let {request:_0x42e515,ClassRef:_0x1f88b7,schema:_0x363a08,execute:_0x26673d}=_0x24e1fc,_0x6980f2=_0x42e515[_0x3bada5(0x831)];if(!_0x6980f2?.[_0x3bada5(0x57e)])throw new m(_0x3bada5(0x34f),_0x3bada5(0x4a1));let _0x227f18=_0x42e515[_0x3bada5(0x296)],_0x5833c0=_0x42e515[_0x3bada5(0x831)],_0xe59bd5=new _0x1f88b7();Object[_0x3bada5(0x660)](_0x5833c0,_0x6980f2),Object[_0x3bada5(0x660)](_0xe59bd5,_0x5833c0);let _0x5e2dd4=(0x0,nt['validate'])(_0xe59bd5,_0x363a08);if(!_0x5e2dd4[_0x3bada5(0x297)]){let _0x5b3dc4=_0x5e2dd4[_0x3bada5(0x2b8)][_0x3bada5(0x3c7)](({property:_0x124aee,stack:_0x1fb18f,schema:_0x48bc90})=>{const _0x356f3c=_0x3bada5;let _0x5ea941;return _0x48bc90[_0x356f3c(0x4db)]?_0x5ea941=_0x48bc90['description']:_0x5ea941=_0x1fb18f[_0x356f3c(0x527)](_0x356f3c(0x160),''),{'property':_0x124aee[_0x356f3c(0x527)](_0x356f3c(0x160),''),'message':_0x5ea941};});throw $s[_0x3bada5(0x4f6)]([..._0x5b3dc4]),new m(..._0x5b3dc4);}return await _0x26673d(_0x227f18,_0xe59bd5);}},M=class{},Kc=new $(a0_0x4ac10f(0x496)),ct=class extends V{constructor(..._0x59e963){const _0x41f8cb=a0_0x4ac10f;super(),this[_0x41f8cb(0x2b0)]=(0x0,po[_0x41f8cb(0x5a2)])(),this[_0x41f8cb(0x2b0)][_0x41f8cb(0x2f0)](this[_0x41f8cb(0x562)](_0x41f8cb(0x5bc)),..._0x59e963,async(_0x204f32,_0x55e99b)=>{const _0x47b9c4=_0x41f8cb;let _0x2de10e=await this[_0x47b9c4(0x551)]({'request':_0x204f32,'schema':to,'ClassRef':Qe,'execute':(_0x1c7889,_0x1ebec3)=>P[_0x47b9c4(0x5bc)](_0x1c7889,_0x1ebec3)});return _0x55e99b['status'](0xc9)['json'](_0x2de10e);})[_0x41f8cb(0x2f0)](this['routerPath'](_0x41f8cb(0x41c)),..._0x59e963,async(_0xeb9c6d,_0x15fb3c)=>{const _0xf2608d=_0x41f8cb;let _0x474672=await this[_0xf2608d(0x551)]({'request':_0xeb9c6d,'schema':Ba,'ClassRef':Ye,'execute':(_0x4778ea,_0x1610d9)=>P[_0xf2608d(0x2a7)](_0x4778ea,_0x1610d9)});return _0x15fb3c[_0xf2608d(0x1ac)](0xc9)['json'](_0x474672);})[_0x41f8cb(0x2f0)](this[_0x41f8cb(0x562)](_0x41f8cb(0x3d1)),..._0x59e963,async(_0x464ba7,_0x14b515)=>{const _0x153948=_0x41f8cb;let _0x26d7b2=await this[_0x153948(0x551)]({'request':_0x464ba7,'schema':v,'ClassRef':M,'execute':(_0x5e5930,_0x4dbb1c)=>P[_0x153948(0x3d1)](_0x5e5930,_0x4dbb1c)});return _0x14b515[_0x153948(0x1ac)](0xc9)['json'](_0x26d7b2);})['put'](this[_0x41f8cb(0x562)](_0x41f8cb(0x67a)),..._0x59e963,async(_0x4a24b2,_0x55f385)=>{const _0x5d0f5f=_0x41f8cb;let _0x1064a6=await this['dataValidate']({'request':_0x4a24b2,'schema':Wa,'ClassRef':et,'execute':(_0x512317,_0x5babd6)=>P[_0x5d0f5f(0x6cd)](_0x512317,_0x5babd6)});return _0x55f385[_0x5d0f5f(0x1ac)](0xc9)[_0x5d0f5f(0x7d4)](_0x1064a6);})['put'](this[_0x41f8cb(0x562)]('archiveChat'),..._0x59e963,async(_0x5ba9e0,_0x28a398)=>{const _0x4b1e59=_0x41f8cb;let _0x5f4909=await this[_0x4b1e59(0x551)]({'request':_0x5ba9e0,'schema':Ha,'ClassRef':tt,'execute':(_0x59cad8,_0x2cd964)=>P[_0x4b1e59(0x281)](_0x59cad8,_0x2cd964)});return _0x28a398[_0x4b1e59(0x1ac)](0xc9)[_0x4b1e59(0x7d4)](_0x5f4909);})[_0x41f8cb(0x399)](this[_0x41f8cb(0x562)](_0x41f8cb(0x2dd)),..._0x59e963,async(_0x4b57f9,_0x2183c1)=>{const _0x298b17=_0x41f8cb;let _0x15bcd6=await this[_0x298b17(0x551)]({'request':_0x4b57f9,'schema':Ka,'ClassRef':at,'execute':(_0x7d1eab,_0x3aa3c0)=>P[_0x298b17(0x56b)](_0x7d1eab,_0x3aa3c0)});return _0x2183c1['status'](0xc9)[_0x298b17(0x7d4)](_0x15bcd6);})['post'](this[_0x41f8cb(0x562)](_0x41f8cb(0x2a9)),..._0x59e963,async(_0x8d1741,_0xf4b0f7)=>{const _0x1c1475=_0x41f8cb;let _0x3c1005=await this['dataValidate']({'request':_0x8d1741,'schema':Te,'ClassRef':Re,'execute':(_0x3fc79,_0x362496)=>P[_0x1c1475(0x533)](_0x3fc79,_0x362496)});return _0xf4b0f7[_0x1c1475(0x1ac)](0xc8)['json'](_0x3c1005);})[_0x41f8cb(0x2f0)](this['routerPath'](_0x41f8cb(0x7df)),..._0x59e963,async(_0x2378dc,_0x33e7db)=>{const _0x54cced=_0x41f8cb;let _0x3cc97d=await this[_0x54cced(0x551)]({'request':_0x2378dc,'schema':Za,'ClassRef':Re,'execute':(_0x3abdad,_0x59dd73)=>P[_0x54cced(0x7df)](_0x3abdad,_0x59dd73)});return _0x33e7db['status'](0xc8)[_0x54cced(0x7d4)](_0x3cc97d);})[_0x41f8cb(0x2f0)](this[_0x41f8cb(0x562)](_0x41f8cb(0x4b3)),..._0x59e963,async(_0x1bb0ac,_0x4039f6)=>{const _0x23b7bd=_0x41f8cb;let _0x2cf387=await this[_0x23b7bd(0x551)]({'request':_0x1bb0ac,'schema':Qa,'ClassRef':it,'execute':(_0x1a8f95,_0x5785a7)=>P[_0x23b7bd(0x80b)](_0x1a8f95,_0x5785a7)});return _0x4039f6[_0x23b7bd(0x1ac)](0xc8)[_0x23b7bd(0x7d4)](_0x2cf387);})['post'](this[_0x41f8cb(0x562)](_0x41f8cb(0x153)),..._0x59e963,async(_0x45282e,_0x1621b4)=>{const _0x1f270d=_0x41f8cb;let _0x5da8bd=await this['dataValidate']({'request':_0x45282e,'schema':null,'ClassRef':Object,'execute':(_0x29315a,_0xbef8a1)=>P[_0x1f270d(0x153)](_0x29315a,_0xbef8a1)});return _0x1621b4[_0x1f270d(0x1ac)](0xc9)['json'](_0x5da8bd);})[_0x41f8cb(0x2f0)](this[_0x41f8cb(0x562)]('findMessages'),..._0x59e963,async(_0x19ed5e,_0x3bffd2)=>{const _0x568a73=_0x41f8cb;let _0x2a4592=await this[_0x568a73(0x551)]({'request':_0x19ed5e,'schema':eo,'ClassRef':He,'execute':(_0x5dfb78,_0x532420)=>P[_0x568a73(0x26c)](_0x5dfb78,_0x532420)});return _0x3bffd2[_0x568a73(0x1ac)](0xc8)[_0x568a73(0x7d4)](_0x2a4592);})['get'](this[_0x41f8cb(0x562)](_0x41f8cb(0x7a5)),..._0x59e963,async(_0x1785ba,_0x3d368a)=>{const _0x3c815d=_0x41f8cb;let _0xfb75c=await this[_0x3c815d(0x551)]({'request':_0x1785ba,'schema':null,'ClassRef':M,'execute':_0x176786=>P[_0x3c815d(0x6e2)](_0x176786)});return _0x3d368a[_0x3c815d(0x1ac)](0xc8)['json'](_0xfb75c);})[_0x41f8cb(0x2c5)](this['routerPath'](_0x41f8cb(0x40f)),..._0x59e963,async(_0x598b01,_0x56d526)=>{const _0x3d98de=_0x41f8cb;let _0x3e6d16=await this[_0x3d98de(0x551)]({'request':_0x598b01,'schema':null,'ClassRef':M,'execute':_0x528257=>P[_0x3d98de(0x3c1)](_0x528257)});return _0x56d526[_0x3d98de(0x1ac)](0xc8)['json'](_0x3e6d16);})['put'](this['routerPath'](_0x41f8cb(0x2a1)),..._0x59e963,async(_0x5612f2,_0x187990)=>{const _0x58b72e=_0x41f8cb;let _0x3d74bb=await this[_0x58b72e(0x551)]({'request':_0x5612f2,'schema':null,'ClassRef':Array,'execute':(_0x30e3e7,_0x2bb642)=>P[_0x58b72e(0x2a1)](_0x30e3e7,_0x2bb642)});return _0x187990[_0x58b72e(0x1ac)](0xc8)[_0x58b72e(0x7d4)](_0x3d74bb);})[_0x41f8cb(0x2c5)](this[_0x41f8cb(0x562)](_0x41f8cb(0x7c0)),..._0x59e963,async(_0x543b3f,_0x2746ac)=>{const _0x144d24=_0x41f8cb;let _0x2f6156=await this[_0x144d24(0x551)]({'request':_0x543b3f,'schema':null,'ClassRef':M,'execute':_0x17bd0f=>P[_0x144d24(0x7c0)](_0x17bd0f)});return _0x2746ac[_0x144d24(0x1ac)](0xc8)['json'](_0x2f6156);})['put'](this[_0x41f8cb(0x562)](_0x41f8cb(0x3ec)),..._0x59e963,async(_0x2b63f1,_0x1d7a92)=>{const _0x548852=_0x41f8cb;let _0x164064=await this[_0x548852(0x551)]({'request':_0x2b63f1,'schema':za,'ClassRef':st,'execute':(_0x4fdd19,_0x4e68d3)=>P['updatePrivacySettings'](_0x4fdd19,_0x4e68d3)});return _0x1d7a92[_0x548852(0x1ac)](0xc9)[_0x548852(0x7d4)](_0x164064);})[_0x41f8cb(0x2f0)](this[_0x41f8cb(0x562)](_0x41f8cb(0x7e1)),..._0x59e963,async(_0x2da1df,_0x5cde60)=>{const _0x298479=_0x41f8cb;let _0x1360f6=await this['dataValidate']({'request':_0x2da1df,'schema':Te,'ClassRef':Me,'execute':(_0x3e3ba9,_0x1cc4dd)=>P[_0x298479(0x7e1)](_0x3e3ba9,_0x1cc4dd)});return _0x5cde60[_0x298479(0x1ac)](0xc8)[_0x298479(0x7d4)](_0x1360f6);})[_0x41f8cb(0x2f0)](this[_0x41f8cb(0x562)](_0x41f8cb(0x4e7)),..._0x59e963,async(_0x49b6ee,_0x175eb0)=>{const _0x50c686=_0x41f8cb;let _0x59567e=await this['dataValidate']({'request':_0x49b6ee,'schema':Ya,'ClassRef':Xe,'execute':(_0x5154ba,_0x11634a)=>P[_0x50c686(0x4e7)](_0x5154ba,_0x11634a)});return _0x175eb0[_0x50c686(0x1ac)](0xc8)[_0x50c686(0x7d4)](_0x59567e);})[_0x41f8cb(0x2f0)](this[_0x41f8cb(0x562)](_0x41f8cb(0x204)),..._0x59e963,async(_0x3e54fc,_0x3dd10c)=>{const _0x4d7781=_0x41f8cb;let _0x5b462c=await this[_0x4d7781(0x551)]({'request':_0x3e54fc,'schema':Xa,'ClassRef':Ze,'execute':(_0x4d195f,_0x497643)=>P[_0x4d7781(0x204)](_0x4d195f,_0x497643)});return _0x3dd10c[_0x4d7781(0x1ac)](0xc8)[_0x4d7781(0x7d4)](_0x5b462c);})['put'](this[_0x41f8cb(0x562)](_0x41f8cb(0x4e2)),..._0x59e963,async(_0x54c2c6,_0x234b51)=>{const _0x5a8b1b=_0x41f8cb;let _0x59b7e8=await this[_0x5a8b1b(0x551)]({'request':_0x54c2c6,'schema':Te,'ClassRef':Me,'execute':(_0x464140,_0x1a65c4)=>P[_0x5a8b1b(0x4e2)](_0x464140,_0x1a65c4)});return _0x234b51[_0x5a8b1b(0x1ac)](0xc8)[_0x5a8b1b(0x7d4)](_0x59b7e8);})[_0x41f8cb(0x399)](this[_0x41f8cb(0x562)](_0x41f8cb(0x178)),..._0x59e963,async(_0x40ffa6,_0x56eca1)=>{const _0xaf1e98=_0x41f8cb;let _0x4d874c=await this[_0xaf1e98(0x551)]({'request':_0x40ffa6,'schema':Te,'ClassRef':Me,'execute':(_0x564095,_0x350b00)=>P[_0xaf1e98(0x178)](_0x564095,_0x350b00)});return _0x56eca1[_0xaf1e98(0x1ac)](0xc8)[_0xaf1e98(0x7d4)](_0x4d874c);});}},ho=require(a0_0x4ac10f(0x321)),lt=class{},ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},Y=class{},Oe=class{},mt=class extends Y{},ft=class extends Y{},wt=class extends V{constructor(..._0x452bf2){const _0x162cbf=a0_0x4ac10f;super(),this[_0x162cbf(0x2b0)]=(0x0,ho[_0x162cbf(0x5a2)])(),this['router'][_0x162cbf(0x2f0)](this[_0x162cbf(0x562)](_0x162cbf(0x491)),..._0x452bf2,async(_0x2aca51,_0x1343b6)=>{const _0x8fcea4=_0x162cbf;let _0x19610c=await this[_0x8fcea4(0x551)]({'request':_0x2aca51,'schema':so,'ClassRef':lt,'execute':(_0x391447,_0x240dd1)=>q[_0x8fcea4(0x439)](_0x391447,_0x240dd1)});_0x1343b6[_0x8fcea4(0x1ac)](0xc9)[_0x8fcea4(0x7d4)](_0x19610c);})[_0x162cbf(0x2bb)](this['routerPath'](_0x162cbf(0x3f3)),..._0x452bf2,async(_0x45959b,_0x439c19)=>{const _0x29baeb=_0x162cbf;let _0x3c823b=await this['groupValidate']({'request':_0x45959b,'schema':io,'ClassRef':ut,'execute':(_0x44fb82,_0x25128d)=>q[_0x29baeb(0x3f3)](_0x44fb82,_0x25128d)});_0x439c19[_0x29baeb(0x1ac)](0xc9)[_0x29baeb(0x7d4)](_0x3c823b);})[_0x162cbf(0x2bb)](this[_0x162cbf(0x562)]('groupDesc'),..._0x452bf2,async(_0x20b1a6,_0x30359b)=>{const _0x431218=_0x162cbf;let _0x3d82ab=await this[_0x431218(0x498)]({'request':_0x20b1a6,'schema':ro,'ClassRef':dt,'execute':(_0x4d8b2f,_0x2bf3a0)=>q['groupDesc'](_0x4d8b2f,_0x2bf3a0)});_0x30359b[_0x431218(0x1ac)](0xc9)['json'](_0x3d82ab);})[_0x162cbf(0x2bb)](this[_0x162cbf(0x562)]('groupName'),..._0x452bf2,async(_0x124bc9,_0x1ed472)=>{const _0x2aa717=_0x162cbf;let _0x2ee7da=await this[_0x2aa717(0x498)]({'request':_0x124bc9,'schema':no,'ClassRef':pt,'execute':(_0x57fb5b,_0x2d6e0e)=>q[_0x2aa717(0x82e)](_0x57fb5b,_0x2d6e0e)});_0x1ed472[_0x2aa717(0x1ac)](0xc9)[_0x2aa717(0x7d4)](_0x2ee7da);})['put'](this[_0x162cbf(0x562)](_0x162cbf(0x421)),..._0x452bf2,async(_0x569965,_0x6034db)=>{const _0x24b9e1=_0x162cbf;let _0x15eee2=await this[_0x24b9e1(0x498)]({'request':_0x569965,'schema':lo,'ClassRef':gt,'execute':(_0x451718,_0x27758c)=>q[_0x24b9e1(0x421)](_0x451718,_0x27758c)});_0x6034db['status'](0xc9)[_0x24b9e1(0x7d4)](_0x15eee2);})['put'](this[_0x162cbf(0x562)]('groupSetting'),..._0x452bf2,async(_0x242008,_0x32142b)=>{const _0x32f21d=_0x162cbf;let _0x2f0e96=await this[_0x32f21d(0x498)]({'request':_0x242008,'schema':co,'ClassRef':ht,'execute':(_0x40f085,_0x2f072d)=>q[_0x32f21d(0x4ee)](_0x40f085,_0x2f072d)});_0x32142b[_0x32f21d(0x1ac)](0xc9)[_0x32f21d(0x7d4)](_0x2f0e96);})[_0x162cbf(0x2bb)](this[_0x162cbf(0x562)](_0x162cbf(0x142)),..._0x452bf2,async(_0x398edb,_0x551c92)=>{const _0x6196aa=_0x162cbf;let _0x17a24c=await this[_0x6196aa(0x498)]({'request':_0x398edb,'schema':oo,'ClassRef':ft,'execute':(_0xa1f5a,_0x19ea98)=>q[_0x6196aa(0x142)](_0xa1f5a,_0x19ea98)});_0x551c92[_0x6196aa(0x1ac)](0xc9)[_0x6196aa(0x7d4)](_0x17a24c);})[_0x162cbf(0x2c5)](this['routerPath']('findGroupInfos'),..._0x452bf2,async(_0x292250,_0x34c9e3)=>{const _0x56ed58=_0x162cbf;let _0x259295=await this['groupValidate']({'request':_0x292250,'schema':Ie,'ClassRef':Y,'execute':(_0x50f8ff,_0x278218)=>q['findGroupInfo'](_0x50f8ff,_0x278218)});_0x34c9e3[_0x56ed58(0x1ac)](0xc8)[_0x56ed58(0x7d4)](_0x259295);})[_0x162cbf(0x2c5)](this[_0x162cbf(0x562)](_0x162cbf(0x82c)),..._0x452bf2,async(_0x54ce4c,_0x4eb9ce)=>{const _0x38cdff=_0x162cbf;let _0x31a767=await this[_0x38cdff(0x551)]({'request':_0x54ce4c,'schema':v,'ClassRef':M,'execute':_0x43ab4f=>q[_0x38cdff(0x82c)](_0x43ab4f)});_0x4eb9ce['status'](0xc8)[_0x38cdff(0x7d4)](_0x31a767);})[_0x162cbf(0x2c5)](this[_0x162cbf(0x562)](_0x162cbf(0x417)),..._0x452bf2,async(_0x2a4de9,_0x5e5ecc)=>{const _0x396554=_0x162cbf;let _0x5d692f=await this[_0x396554(0x498)]({'request':_0x2a4de9,'schema':Ie,'ClassRef':Y,'execute':(_0x10a6e7,_0x5a461b)=>q['findParticipants'](_0x10a6e7,_0x5a461b)});_0x5e5ecc[_0x396554(0x1ac)](0xc8)[_0x396554(0x7d4)](_0x5d692f);})[_0x162cbf(0x2c5)](this[_0x162cbf(0x562)]('inviteCode'),..._0x452bf2,async(_0x236717,_0x43f9c1)=>{const _0x4de4d2=_0x162cbf;let _0x29ba6e=await this['groupValidate']({'request':_0x236717,'schema':Ie,'ClassRef':Y,'execute':(_0x478ae2,_0x4967af)=>q[_0x4de4d2(0x57e)](_0x478ae2,_0x4967af)});_0x43f9c1['status'](0xc8)[_0x4de4d2(0x7d4)](_0x29ba6e);})['post'](this['routerPath']('inviteCodeDetails'),..._0x452bf2,async(_0x2ad481,_0x1bf299)=>{const _0x579097=_0x162cbf;let _0x2b0692=await this[_0x579097(0x3f2)]({'request':_0x2ad481,'schema':Ns,'ClassRef':Oe,'execute':(_0x24c6d7,_0x116623)=>q[_0x579097(0x734)](_0x24c6d7,_0x116623)});_0x1bf299[_0x579097(0x1ac)](0xc9)['json'](_0x2b0692);})[_0x162cbf(0x2bb)](this[_0x162cbf(0x562)](_0x162cbf(0x50d)),..._0x452bf2,async(_0x51d19d,_0x5deb84)=>{const _0x19e98a=_0x162cbf;let _0x510e5c=await this['joinGroupValidate']({'request':_0x51d19d,'schema':Ns,'ClassRef':Oe,'execute':(_0x50208a,_0x3ef6d6)=>q[_0x19e98a(0x50d)](_0x50208a,_0x3ef6d6)});_0x5deb84[_0x19e98a(0x1ac)](0xc9)[_0x19e98a(0x7d4)](_0x510e5c);})[_0x162cbf(0x2bb)](this['routerPath']('revokeInviteCode'),..._0x452bf2,async(_0xf2df0c,_0x4047d4)=>{const _0x225c49=_0x162cbf;let _0x574064=await this[_0x225c49(0x498)]({'request':_0xf2df0c,'schema':Ie,'ClassRef':Y,'execute':(_0x393980,_0x91811c)=>q[_0x225c49(0x3c5)](_0x393980,_0x91811c)});_0x4047d4[_0x225c49(0x1ac)](0xc9)['json'](_0x574064);})[_0x162cbf(0x2bb)](this[_0x162cbf(0x562)](_0x162cbf(0x866)),..._0x452bf2,async(_0x5c8eaf,_0x547c06)=>{const _0x1253c9=_0x162cbf;let _0x35092f=await this[_0x1253c9(0x498)]({'request':_0x5c8eaf,'schema':ao,'ClassRef':mt,'execute':(_0x34b6c7,_0x1365e1)=>q[_0x1253c9(0x4ec)](_0x34b6c7,_0x1365e1)});_0x547c06[_0x1253c9(0x1ac)](0xc9)[_0x1253c9(0x7d4)](_0x35092f);})[_0x162cbf(0x399)](this[_0x162cbf(0x562)](_0x162cbf(0x336)),..._0x452bf2,async(_0x23d8f3,_0x179f9b)=>{const _0xaf347b=_0x162cbf;let _0x27aa69=await this['groupValidate']({'request':_0x23d8f3,'schema':{},'ClassRef':Y,'execute':(_0x3d89a7,_0x4154cb)=>q[_0xaf347b(0x336)](_0x3d89a7,_0x4154cb)});_0x179f9b['status'](0xc8)[_0xaf347b(0x7d4)](_0x27aa69);});}},go=require(a0_0x4ac10f(0x321)),yt=class extends V{constructor(_0x636e38,..._0x51c0f0){const _0x22b38f=a0_0x4ac10f;super(),this[_0x22b38f(0x6de)]=_0x636e38,this[_0x22b38f(0x2b0)]=(0x0,go[_0x22b38f(0x5a2)])();let _0x419ff3=_0x636e38['get']('AUTHENTICATION');this[_0x22b38f(0x2b0)][_0x22b38f(0x2f0)](_0x22b38f(0x7f1),..._0x51c0f0,async(_0x214000,_0x11633e)=>{const _0x38fa05=_0x22b38f;let {instanceName:_0x353f32,apikey:_0xa2bd5d,number:_0x3483ea}=_0x214000[_0x38fa05(0x831)],_0x3618c4=await ce[_0x38fa05(0x5db)]({'instanceName':_0x353f32,'apikey':_0xa2bd5d,'number':_0x3483ea});return _0x11633e[_0x38fa05(0x1ac)](0xc9)[_0x38fa05(0x7d4)](_0x3618c4);})[_0x22b38f(0x2bb)](this['routerPath'](_0x22b38f(0x3d9)),..._0x51c0f0,async(_0x2a4379,_0x22f072)=>{const _0x17f072=_0x22b38f;let _0x2b282f=await this['dataValidate']({'request':_0x2a4379,'schema':v,'ClassRef':M,'execute':_0x4bc0e6=>ce[_0x17f072(0x563)](_0x4bc0e6)});return _0x22f072['status'](0xc8)[_0x17f072(0x7d4)](_0x2b282f);})[_0x22b38f(0x2c5)](this[_0x22b38f(0x562)](_0x22b38f(0x59f)),..._0x51c0f0,async(_0x5938f0,_0x4a52bb)=>{const _0x2b62d0=_0x22b38f;let _0x3cc3f2=await this[_0x2b62d0(0x551)]({'request':_0x5938f0,'schema':v,'ClassRef':M,'execute':_0x1f6dc1=>ce['connectToWhatsappController'](_0x1f6dc1)});return _0x4a52bb['status'](0xc8)[_0x2b62d0(0x7d4)](_0x3cc3f2);})['get'](this[_0x22b38f(0x562)](_0x22b38f(0x173)),..._0x51c0f0,async(_0x77e8e4,_0x5b206c)=>{const _0x591b04=_0x22b38f;let _0x609045=await this['dataValidate']({'request':_0x77e8e4,'schema':v,'ClassRef':M,'execute':_0x655868=>ce['connectionState'](_0x655868)});return _0x5b206c['status'](0xc8)[_0x591b04(0x7d4)](_0x609045);})[_0x22b38f(0x2c5)](this[_0x22b38f(0x562)](_0x22b38f(0x1c9),!0x1),..._0x51c0f0,async(_0x413c7d,_0x4e44f5)=>{const _0x88bb9f=_0x22b38f;let _0x2c082c=await this[_0x88bb9f(0x551)]({'request':_0x413c7d,'schema':null,'ClassRef':M,'execute':_0x1723e5=>ce['fetchInstances'](_0x1723e5)});return _0x4e44f5[_0x88bb9f(0x1ac)](0xc8)['json'](_0x2c082c);})['delete'](this[_0x22b38f(0x562)](_0x22b38f(0x7f6)),..._0x51c0f0,async(_0x3627a9,_0x522026)=>{const _0x412e54=_0x22b38f;let _0x45285b=await this['dataValidate']({'request':_0x3627a9,'schema':v,'ClassRef':M,'execute':_0x23edc2=>ce[_0x412e54(0x7f6)](_0x23edc2)});return _0x522026[_0x412e54(0x1ac)](0xc8)['json'](_0x45285b);})[_0x22b38f(0x399)](this['routerPath'](_0x22b38f(0x399)),..._0x51c0f0,async(_0x114fd6,_0x460116)=>{const _0x852ecc=_0x22b38f;let _0x2bb12b=await this['dataValidate']({'request':_0x114fd6,'schema':v,'ClassRef':M,'execute':_0x2310bc=>ce['deleteInstance'](_0x2310bc)});return _0x460116['status'](0xc8)[_0x852ecc(0x7d4)](_0x2bb12b);});}},mo=require(a0_0x4ac10f(0x321)),Rs=class{},W=class extends Rs{},bt=class extends W{},St=class extends W{},Mt=class extends W{},Ct=class extends W{},_e=class extends W{},Et=class extends W{},vt=class extends W{},Nt=class extends W{},$t=class extends W{},Rt=class extends W{},At=class{},Tt=class extends V{constructor(..._0x39d967){const _0x23f6d3=a0_0x4ac10f;super(),this[_0x23f6d3(0x2b0)]=(0x0,mo[_0x23f6d3(0x5a2)])(),this[_0x23f6d3(0x2b0)][_0x23f6d3(0x2f0)](this[_0x23f6d3(0x562)](_0x23f6d3(0x508)),..._0x39d967,async(_0x3eb281,_0xb85d9d)=>{const _0x432f87=_0x23f6d3;let _0x389af3=await this['dataValidate']({'request':_0x3eb281,'schema':_a,'ClassRef':bt,'execute':(_0x570bf7,_0x13d0d0)=>B[_0x432f87(0x508)](_0x570bf7,_0x13d0d0)});return _0xb85d9d[_0x432f87(0x1ac)](0xc9)['json'](_0x389af3);})[_0x23f6d3(0x2f0)](this[_0x23f6d3(0x562)](_0x23f6d3(0x2e4)),..._0x39d967,async(_0x2e2b24,_0x13e9ff)=>{const _0x2f28d2=_0x23f6d3;let _0x12f0a9=await this[_0x2f28d2(0x551)]({'request':_0x2e2b24,'schema':ka,'ClassRef':_e,'execute':(_0x5199cd,_0x487ac2)=>B[_0x2f28d2(0x2e4)](_0x5199cd,_0x487ac2)});return _0x13e9ff[_0x2f28d2(0x1ac)](0xc9)[_0x2f28d2(0x7d4)](_0x12f0a9);})[_0x23f6d3(0x2f0)](this[_0x23f6d3(0x562)]('sendMenu'),..._0x39d967,async(_0x2d1b86,_0x10259f)=>{const _0x472fbb=_0x23f6d3;let _0x26d6e9=await this[_0x472fbb(0x551)]({'request':_0x2d1b86,'schema':Ua,'ClassRef':Ct,'execute':(_0x5ed0a9,_0x3dcc85)=>B[_0x472fbb(0x466)](_0x5ed0a9,_0x3dcc85)});return _0x10259f['status'](0xc9)[_0x472fbb(0x7d4)](_0x26d6e9);})[_0x23f6d3(0x2f0)](this['routerPath'](_0x23f6d3(0x2fa)),..._0x39d967,async(_0xb5eafc,_0x5efbff)=>{const _0x4967fe=_0x23f6d3;let _0x4884f7=await this[_0x4967fe(0x551)]({'request':_0xb5eafc,'schema':La,'ClassRef':_e,'execute':(_0x57fbd1,_0x11ddab)=>B[_0x4967fe(0x2fa)](_0x57fbd1,_0x11ddab)});return _0x5efbff[_0x4967fe(0x1ac)](0xc9)[_0x4967fe(0x7d4)](_0x4884f7);})['post'](this[_0x23f6d3(0x562)](_0x23f6d3(0x4dc)),..._0x39d967,async(_0x23d94f,_0x37d20d)=>{const _0x192897=_0x23f6d3;let _0x299259=await this[_0x192897(0x551)]({'request':_0x23d94f,'schema':ja,'ClassRef':vt,'execute':(_0x25a087,_0x250694)=>B[_0x192897(0x4dc)](_0x25a087,_0x250694)});return _0x37d20d[_0x192897(0x1ac)](0xc9)['json'](_0x299259);})['post'](this[_0x23f6d3(0x562)](_0x23f6d3(0x462)),..._0x39d967,async(_0x24224f,_0x6b3df5)=>{const _0x5ad71c=_0x23f6d3;let _0x1401fa=await this[_0x5ad71c(0x551)]({'request':_0x24224f,'schema':Ja,'ClassRef':Nt,'execute':(_0xd4fec0,_0x27e7)=>B[_0x5ad71c(0x462)](_0xd4fec0,_0x27e7)});return _0x6b3df5[_0x5ad71c(0x1ac)](0xc9)['json'](_0x1401fa);})[_0x23f6d3(0x2f0)](this[_0x23f6d3(0x562)]('sendList'),..._0x39d967,async(_0x347a3a,_0x1401e1)=>{const _0x45f8fc=_0x23f6d3;let _0x3e4abc=await this[_0x45f8fc(0x551)]({'request':_0x347a3a,'schema':qa,'ClassRef':$t,'execute':(_0xc87328,_0x31cba8)=>B[_0x45f8fc(0x6db)](_0xc87328,_0x31cba8)});return _0x1401e1[_0x45f8fc(0x1ac)](0xc9)[_0x45f8fc(0x7d4)](_0x3e4abc);})[_0x23f6d3(0x2f0)](this[_0x23f6d3(0x562)](_0x23f6d3(0x4b1)),..._0x39d967,async(_0x25803d,_0x3885be)=>{const _0x5d460d=_0x23f6d3;let _0x52a790=await this['dataValidate']({'request':_0x25803d,'schema':Va,'ClassRef':Rt,'execute':(_0x51485a,_0x45d6db)=>B[_0x5d460d(0x4b1)](_0x51485a,_0x45d6db)});return _0x3885be[_0x5d460d(0x1ac)](0xc9)[_0x5d460d(0x7d4)](_0x52a790);})[_0x23f6d3(0x2f0)](this[_0x23f6d3(0x562)](_0x23f6d3(0x300)),..._0x39d967,async(_0x599664,_0x2ba1f5)=>{const _0x545cb8=_0x23f6d3;let _0x10a342=await this[_0x545cb8(0x551)]({'request':_0x599664,'schema':Ga,'ClassRef':At,'execute':(_0x5c79d6,_0x18e7ff)=>B[_0x545cb8(0x300)](_0x5c79d6,_0x18e7ff)});return _0x2ba1f5[_0x545cb8(0x1ac)](0xc9)[_0x545cb8(0x7d4)](_0x10a342);})['post'](this[_0x23f6d3(0x562)](_0x23f6d3(0x788)),..._0x39d967,async(_0x236026,_0x37439b)=>{const _0x2fe07d=_0x23f6d3;let _0x1619c4=await this[_0x2fe07d(0x551)]({'request':_0x236026,'schema':Fa,'ClassRef':Mt,'execute':(_0xc7dd91,_0x5e7ed6)=>B[_0x2fe07d(0x788)](_0xc7dd91,_0x5e7ed6)});return _0x37439b[_0x2fe07d(0x1ac)](0xc9)['json'](_0x1619c4);})[_0x23f6d3(0x2f0)](this[_0x23f6d3(0x562)]('sendStatus'),..._0x39d967,async(_0x120c4f,_0x2ad5dc)=>{const _0x431328=_0x23f6d3;let _0x5a3e67=await this[_0x431328(0x551)]({'request':_0x120c4f,'schema':Pa,'ClassRef':St,'execute':(_0x31b5b5,_0x4528a4)=>B[_0x431328(0x492)](_0x31b5b5,_0x4528a4)});return _0x2ad5dc[_0x431328(0x1ac)](0xc9)[_0x431328(0x7d4)](_0x5a3e67);})[_0x23f6d3(0x2f0)](this[_0x23f6d3(0x562)]('sendSticker'),..._0x39d967,async(_0x3d599e,_0x3ece91)=>{const _0x58c6f4=_0x23f6d3;let _0x31e8c8=await this[_0x58c6f4(0x551)]({'request':_0x3d599e,'schema':Da,'ClassRef':Et,'execute':(_0x42f340,_0x166e8f)=>B[_0x58c6f4(0x53b)](_0x42f340,_0x166e8f)});return _0x3ece91[_0x58c6f4(0x1ac)](0xc9)[_0x58c6f4(0x7d4)](_0x31e8c8);});}},fo=require('express'),It=class{},Ot=class extends V{constructor(..._0x216aef){const _0x32a7ec=a0_0x4ac10f;super(),this[_0x32a7ec(0x2b0)]=(0x0,fo[_0x32a7ec(0x5a2)])(),this[_0x32a7ec(0x2b0)][_0x32a7ec(0x2f0)](this[_0x32a7ec(0x562)](_0x32a7ec(0x290)),..._0x216aef,async(_0x101540,_0x52e39f)=>{const _0x3b3e69=_0x32a7ec;let _0x1f1f76=await this[_0x3b3e69(0x551)]({'request':_0x101540,'schema':uo,'ClassRef':It,'execute':(_0x2ca3be,_0x4de99b)=>As[_0x3b3e69(0x4b4)](_0x2ca3be,_0x4de99b)});_0x52e39f[_0x3b3e69(0x1ac)](0xc9)[_0x3b3e69(0x7d4)](_0x1f1f76);})[_0x32a7ec(0x2c5)](this[_0x32a7ec(0x562)]('find'),..._0x216aef,async(_0x3aca39,_0x10d2a3)=>{const _0x22dd91=_0x32a7ec;let _0x227a39=await this[_0x22dd91(0x551)]({'request':_0x3aca39,'schema':v,'ClassRef':M,'execute':_0x5a4f67=>As[_0x22dd91(0x755)](_0x5a4f67)});_0x10d2a3[_0x22dd91(0x1ac)](0xc8)[_0x22dd91(0x7d4)](_0x227a39);});}},wo=require('express'),y=new $(a0_0x4ac10f(0x858)),_t=class extends V{constructor(..._0x1541e6){const _0x17e9c3=a0_0x4ac10f;super(),this[_0x17e9c3(0x2b0)]=(0x0,wo[_0x17e9c3(0x5a2)])(),this['router'][_0x17e9c3(0x2f0)](this[_0x17e9c3(0x562)]('scheduleMessage'),..._0x1541e6,async(_0x3fa3f6,_0xc32f38)=>{const _0x4a75bf=_0x17e9c3;let _0x29e416=_0x3fa3f6[_0x4a75bf(0x831)];y[_0x4a75bf(0x188)](_0x4a75bf(0x6d4)),y[_0x4a75bf(0x188)]('request\x20body:\x20'),y[_0x4a75bf(0x188)](_0x3fa3f6[_0x4a75bf(0x831)]);let _0x194601=await this['dataValidate']({'request':_0x3fa3f6,'schema':v,'ClassRef':M,'execute':_0xb13deb=>I['editScheduleMessage'](_0xb13deb,_0x29e416)});_0xc32f38[_0x4a75bf(0x1ac)](0xc8)[_0x4a75bf(0x7d4)](_0x194601);})[_0x17e9c3(0x2c5)](this[_0x17e9c3(0x562)](_0x17e9c3(0x52a)),..._0x1541e6,async(_0x5c290d,_0x10265e)=>{const _0x781c66=_0x17e9c3;let _0x491c47=await this['dataValidate']({'request':_0x5c290d,'schema':v,'ClassRef':M,'execute':_0x1b5d4e=>I[_0x781c66(0x4bc)](_0x1b5d4e)});_0x10265e[_0x781c66(0x1ac)](0xc8)[_0x781c66(0x7d4)](_0x491c47);})[_0x17e9c3(0x399)](this[_0x17e9c3(0x562)](_0x17e9c3(0x209)),..._0x1541e6,async(_0x37b885,_0x5017e1)=>{const _0x60f4db=_0x17e9c3;y[_0x60f4db(0x188)](_0x60f4db(0x3b8));let _0x392e12=await this[_0x60f4db(0x551)]({'request':_0x37b885,'schema':v,'ClassRef':M,'execute':_0x15ff30=>I[_0x60f4db(0x209)](_0x15ff30)});_0x5017e1[_0x60f4db(0x1ac)](0xc8)['json'](_0x392e12);})[_0x17e9c3(0x2f0)](this[_0x17e9c3(0x562)]('startFlow'),..._0x1541e6,async(_0x205f7c,_0x2fb4d1)=>{const _0xfdfadc=_0x17e9c3;let _0x3f6700=_0x205f7c[_0xfdfadc(0x831)];y[_0xfdfadc(0x188)](_0xfdfadc(0x605)),y[_0xfdfadc(0x188)]('request\x20body:\x20'),y['verbose'](_0x205f7c[_0xfdfadc(0x831)]);let _0x57f908=await this[_0xfdfadc(0x551)]({'request':_0x205f7c,'schema':v,'ClassRef':M,'execute':_0x3050d9=>I[_0xfdfadc(0x7a8)](_0x3050d9,_0x3f6700)});_0x2fb4d1[_0xfdfadc(0x1ac)](0xc8)[_0xfdfadc(0x7d4)](_0x57f908);})[_0x17e9c3(0x2c5)](this['routerPath'](_0x17e9c3(0x769)),..._0x1541e6,async(_0x3ab304,_0x3be7fe)=>{const _0x2c6971=_0x17e9c3;y[_0x2c6971(0x188)](_0x2c6971(0x73a));let _0x67ec87=await this[_0x2c6971(0x551)]({'request':_0x3ab304,'schema':v,'ClassRef':M,'execute':_0xa30c11=>I['getAutomateSystem'](_0xa30c11)});_0x3be7fe[_0x2c6971(0x1ac)](0xc8)[_0x2c6971(0x7d4)](_0x67ec87);})[_0x17e9c3(0x2c5)](this[_0x17e9c3(0x562)](_0x17e9c3(0x682)),..._0x1541e6,async(_0x438f00,_0x320e61)=>{const _0x43dbcd=_0x17e9c3;y[_0x43dbcd(0x188)](_0x43dbcd(0x3af));let _0x4dc1f2=await this['dataValidate']({'request':_0x438f00,'schema':v,'ClassRef':M,'execute':_0x29b3f6=>I[_0x43dbcd(0x769)](_0x29b3f6)});_0x320e61[_0x43dbcd(0x1ac)](0xc8)['json'](_0x4dc1f2);})[_0x17e9c3(0x2f0)](this['routerPath'](_0x17e9c3(0x271)),..._0x1541e6,async(_0x2c75c9,_0x1c5b6b)=>{const _0x55275f=_0x17e9c3;let _0x51e391=_0x2c75c9[_0x55275f(0x831)];y['verbose'](_0x55275f(0x6ae)),y[_0x55275f(0x188)](_0x55275f(0x450)),y[_0x55275f(0x188)](_0x2c75c9['body']);let _0x2c8380=await this['dataValidate']({'request':_0x2c75c9,'schema':v,'ClassRef':M,'execute':_0x2ec5f6=>I[_0x55275f(0x271)](_0x2ec5f6,_0x51e391)});_0x1c5b6b[_0x55275f(0x1ac)](0xc8)[_0x55275f(0x7d4)](_0x2c8380);})[_0x17e9c3(0x2f0)](this[_0x17e9c3(0x562)](_0x17e9c3(0x5c0)),..._0x1541e6,async(_0x56f35a,_0x1773b3)=>{const _0x32013b=_0x17e9c3;let _0x2d40a2=_0x56f35a[_0x32013b(0x831)];y[_0x32013b(0x188)]('request\x20received\x20in\x20updateCustomFields'),y['verbose']('request\x20body:\x20'),y[_0x32013b(0x188)](_0x56f35a['body']);let _0x38a396=await this[_0x32013b(0x551)]({'request':_0x56f35a,'schema':v,'ClassRef':M,'execute':_0x329a30=>I[_0x32013b(0x5c0)](_0x329a30,_0x2d40a2)});_0x1773b3[_0x32013b(0x1ac)](0xc8)[_0x32013b(0x7d4)](_0x38a396);})[_0x17e9c3(0x2f0)](this['routerPath'](_0x17e9c3(0x192)),..._0x1541e6,async(_0x2cbfeb,_0x528a32)=>{const _0x4464bc=_0x17e9c3;let _0x14faee=_0x2cbfeb['body'];y[_0x4464bc(0x188)]('request\x20received\x20in\x20updateAutoCompleteMessages'),y['verbose'](_0x4464bc(0x450)),y[_0x4464bc(0x188)](_0x2cbfeb['body']);let _0x2623c7=await this[_0x4464bc(0x551)]({'request':_0x2cbfeb,'schema':v,'ClassRef':M,'execute':_0x5c829b=>I[_0x4464bc(0x192)](_0x5c829b,_0x14faee)});_0x528a32[_0x4464bc(0x1ac)](0xc8)[_0x4464bc(0x7d4)](_0x2623c7);})['post'](this[_0x17e9c3(0x562)](_0x17e9c3(0x5f6)),..._0x1541e6,async(_0xc2c83b,_0xec8db0)=>{const _0x44e575=_0x17e9c3;let _0x1b0db9=_0xc2c83b[_0x44e575(0x831)];y['verbose']('request\x20received\x20in\x20updateFlowConfig'),y[_0x44e575(0x188)](_0x44e575(0x450)),y[_0x44e575(0x188)](_0xc2c83b[_0x44e575(0x831)]);let _0x31b1e4=await this[_0x44e575(0x551)]({'request':_0xc2c83b,'schema':v,'ClassRef':M,'execute':_0xdf1fcd=>I['updateFlowConfig'](_0xdf1fcd,_0x1b0db9)});_0xec8db0['status'](0xc8)['json'](_0x31b1e4);})[_0x17e9c3(0x2f0)](this[_0x17e9c3(0x562)]('getConversation'),..._0x1541e6,async(_0x27e28a,_0x19eabe)=>{const _0x20cdf2=_0x17e9c3;let _0x5cfb7a=_0x27e28a[_0x20cdf2(0x831)];y[_0x20cdf2(0x188)](_0x20cdf2(0x369)),y[_0x20cdf2(0x188)](_0x20cdf2(0x450)),y[_0x20cdf2(0x188)](_0x27e28a[_0x20cdf2(0x831)]);let _0x414b02=await this[_0x20cdf2(0x551)]({'request':_0x27e28a,'schema':v,'ClassRef':M,'execute':_0x3ebef3=>I[_0x20cdf2(0x620)](_0x3ebef3,_0x5cfb7a)});_0x19eabe[_0x20cdf2(0x1ac)](0xc8)[_0x20cdf2(0x7d4)](_0x414b02);})[_0x17e9c3(0x2f0)](this[_0x17e9c3(0x562)](_0x17e9c3(0x6bd)),..._0x1541e6,async(_0x2baf54,_0x3fefdd)=>{const _0x13cc00=_0x17e9c3;let _0x2025d5=_0x2baf54['body'];y[_0x13cc00(0x188)](_0x13cc00(0x6e0)),y[_0x13cc00(0x188)](_0x13cc00(0x450)),y[_0x13cc00(0x188)](_0x2baf54[_0x13cc00(0x831)]);let _0x264055=await this[_0x13cc00(0x551)]({'request':_0x2baf54,'schema':v,'ClassRef':M,'execute':_0x5ee5f9=>I[_0x13cc00(0x6bd)](_0x5ee5f9,_0x2025d5)});_0x3fefdd[_0x13cc00(0x1ac)](0xc8)[_0x13cc00(0x7d4)](_0x264055);})['post'](this[_0x17e9c3(0x562)](_0x17e9c3(0x1ce)),..._0x1541e6,async(_0x2a650c,_0x53d575)=>{const _0x3b314d=_0x17e9c3;let _0x49ef01=_0x2a650c[_0x3b314d(0x831)];y[_0x3b314d(0x188)]('request\x20received\x20in\x20editConversation'),y[_0x3b314d(0x188)]('request\x20body:\x20'),y[_0x3b314d(0x188)](_0x2a650c[_0x3b314d(0x831)]);let _0xfe2cb4=await this[_0x3b314d(0x551)]({'request':_0x2a650c,'schema':v,'ClassRef':M,'execute':_0x4f33f0=>I[_0x3b314d(0x1ce)](_0x4f33f0,_0x49ef01)});_0x53d575['status'](0xc8)[_0x3b314d(0x7d4)](_0xfe2cb4);})[_0x17e9c3(0x399)](this[_0x17e9c3(0x562)](_0x17e9c3(0x140)),..._0x1541e6,async(_0x33df18,_0x4d426d)=>{const _0x2c976c=_0x17e9c3;let _0x5a34b0=_0x33df18[_0x2c976c(0x831)];y[_0x2c976c(0x188)]('request\x20received\x20in\x20deleteConversation'),y[_0x2c976c(0x188)](_0x2c976c(0x450)),y[_0x2c976c(0x188)](_0x33df18['body']);let _0x27c266=await this['dataValidate']({'request':_0x33df18,'schema':v,'ClassRef':M,'execute':_0x711d89=>I[_0x2c976c(0x140)](_0x711d89,_0x5a34b0)});_0x4d426d[_0x2c976c(0x1ac)](0xc8)[_0x2c976c(0x7d4)](_0x27c266);})[_0x17e9c3(0x2f0)](this[_0x17e9c3(0x562)](_0x17e9c3(0x78a)),..._0x1541e6,async(_0x8c26ff,_0x15a40b)=>{const _0x22cd2f=_0x17e9c3;let _0x5426b3=_0x8c26ff[_0x22cd2f(0x831)],_0x14e874=_0x8c26ff[_0x22cd2f(0x279)][_0x22cd2f(0x602)];y[_0x22cd2f(0x188)](_0x22cd2f(0x393)),y[_0x22cd2f(0x188)](_0x22cd2f(0x450)),y['verbose'](_0x8c26ff['body']);let _0x17f6aa=await this[_0x22cd2f(0x551)]({'request':_0x8c26ff,'schema':v,'ClassRef':M,'execute':_0x362004=>I[_0x22cd2f(0x5d3)](_0x362004,_0x5426b3,_0x14e874)});_0x15a40b['status'](0xc8)[_0x22cd2f(0x7d4)](_0x17f6aa);})['post'](this['routerPath']('editflow'),..._0x1541e6,async(_0x59a72e,_0x41fdb3)=>{const _0x2f9321=_0x17e9c3;let _0x1edbfa=_0x59a72e[_0x2f9321(0x831)],_0xa3490a=_0x59a72e['headers'][_0x2f9321(0x602)];y[_0x2f9321(0x188)](_0x2f9321(0x624)),y[_0x2f9321(0x188)](_0x2f9321(0x450)),y[_0x2f9321(0x188)](_0x59a72e[_0x2f9321(0x831)]),delete _0x1edbfa[_0x2f9321(0x607)],delete _0x1edbfa['variables'],delete _0x1edbfa[_0x2f9321(0x323)],delete _0x1edbfa[_0x2f9321(0x647)];let _0x54a90a=await this[_0x2f9321(0x551)]({'request':_0x59a72e,'schema':v,'ClassRef':M,'execute':_0x222982=>I[_0x2f9321(0x5aa)](_0x222982,_0x1edbfa,_0xa3490a)});_0x41fdb3['status'](0xc8)[_0x2f9321(0x7d4)](_0x54a90a);})[_0x17e9c3(0x2f0)](this[_0x17e9c3(0x562)]('editflowblock'),..._0x1541e6,async(_0x886cf4,_0x2fa4c2)=>{const _0x288dab=_0x17e9c3;let _0x4d7213=_0x886cf4[_0x288dab(0x831)];y['verbose'](_0x288dab(0x624)),y[_0x288dab(0x188)]('request\x20body:\x20'),y['verbose'](_0x886cf4[_0x288dab(0x831)]);let _0x8c77b=await this[_0x288dab(0x551)]({'request':_0x886cf4,'schema':v,'ClassRef':M,'execute':_0x293489=>I[_0x288dab(0x176)](_0x293489,_0x4d7213)});_0x2fa4c2['status'](0xc8)[_0x288dab(0x7d4)](_0x8c77b);})[_0x17e9c3(0x2f0)](this['routerPath'](_0x17e9c3(0x7e8)),..._0x1541e6,async(_0x1fdbef,_0x554eed)=>{const _0x5662b9=_0x17e9c3;let _0x3f7366=_0x1fdbef[_0x5662b9(0x831)];y[_0x5662b9(0x188)]('request\x20received\x20in\x20editFlow'),y[_0x5662b9(0x188)](_0x5662b9(0x450)),y[_0x5662b9(0x188)](_0x1fdbef[_0x5662b9(0x831)]);let _0x75aea6=await this[_0x5662b9(0x551)]({'request':_0x1fdbef,'schema':v,'ClassRef':M,'execute':_0x3be695=>I['editFlowReply'](_0x3be695,_0x3f7366)});_0x554eed[_0x5662b9(0x1ac)](0xc8)['json'](_0x75aea6);})[_0x17e9c3(0x2f0)](this['routerPath']('editflowvaredit'),..._0x1541e6,async(_0x5387e4,_0x117aa0)=>{const _0x4004c4=_0x17e9c3;let _0x130dc7=_0x5387e4[_0x4004c4(0x831)];y[_0x4004c4(0x188)]('request\x20received\x20in\x20editFlow'),y['verbose'](_0x4004c4(0x450)),y['verbose'](_0x5387e4[_0x4004c4(0x831)]);let _0x48287e=await this[_0x4004c4(0x551)]({'request':_0x5387e4,'schema':v,'ClassRef':M,'execute':_0x125925=>I[_0x4004c4(0x198)](_0x125925,_0x130dc7)});_0x117aa0[_0x4004c4(0x1ac)](0xc8)[_0x4004c4(0x7d4)](_0x48287e);})[_0x17e9c3(0x2f0)](this[_0x17e9c3(0x562)](_0x17e9c3(0x6e8)),..._0x1541e6,async(_0x37bf95,_0x17ae58)=>{const _0xb7bbae=_0x17e9c3;let _0x560f55=_0x37bf95[_0xb7bbae(0x831)];y[_0xb7bbae(0x188)](_0xb7bbae(0x7f2)),y['verbose'](_0xb7bbae(0x450)),y[_0xb7bbae(0x188)](_0x37bf95[_0xb7bbae(0x831)]);let _0x4ebd5d=await this[_0xb7bbae(0x551)]({'request':_0x37bf95,'schema':v,'ClassRef':M,'execute':_0x2a304e=>I['editFlowGroup'](_0x2a304e,_0x560f55)});_0x17ae58[_0xb7bbae(0x1ac)](0xc8)[_0xb7bbae(0x7d4)](_0x4ebd5d);})[_0x17e9c3(0x2f0)](this[_0x17e9c3(0x562)](_0x17e9c3(0x744)),..._0x1541e6,async(_0x371333,_0x108221)=>{const _0x5c4e05=_0x17e9c3;let _0x5601a2=_0x371333[_0x5c4e05(0x831)];y[_0x5c4e05(0x188)](_0x5c4e05(0x402)),y[_0x5c4e05(0x188)](_0x5c4e05(0x450)),y[_0x5c4e05(0x188)](_0x371333[_0x5c4e05(0x831)]);let _0x33db33=await this[_0x5c4e05(0x551)]({'request':_0x371333,'schema':v,'ClassRef':M,'execute':_0x24a28d=>I[_0x5c4e05(0x82f)](_0x24a28d,_0x5601a2)});_0x108221[_0x5c4e05(0x1ac)](0xc8)['json'](_0x33db33);})[_0x17e9c3(0x2f0)](this[_0x17e9c3(0x562)](_0x17e9c3(0x4c4)),..._0x1541e6,async(_0x44e565,_0x5883a4)=>{const _0x58fd51=_0x17e9c3;let _0x221b33=_0x44e565[_0x58fd51(0x831)];y[_0x58fd51(0x188)](_0x58fd51(0x6f7)),y[_0x58fd51(0x188)]('request\x20body:\x20'),y['verbose'](_0x44e565[_0x58fd51(0x831)]);let _0x38d4aa=await this[_0x58fd51(0x551)]({'request':_0x44e565,'schema':v,'ClassRef':M,'execute':_0x295d0e=>I[_0x58fd51(0x42b)](_0x295d0e,_0x221b33)});_0x5883a4[_0x58fd51(0x1ac)](0xc8)[_0x58fd51(0x7d4)](_0x38d4aa);})[_0x17e9c3(0x2f0)](this['routerPath'](_0x17e9c3(0x5fb)),..._0x1541e6,async(_0x431b81,_0x4c5013)=>{const _0x32c7a0=_0x17e9c3;let _0x468798=_0x431b81[_0x32c7a0(0x831)];y[_0x32c7a0(0x188)]('request\x20received\x20in\x20getFlow'),y['verbose'](_0x32c7a0(0x450)),y['verbose'](_0x431b81[_0x32c7a0(0x831)]);let _0x5d6669=await this[_0x32c7a0(0x551)]({'request':_0x431b81,'schema':v,'ClassRef':M,'execute':_0x2a006f=>I[_0x32c7a0(0x379)](_0x2a006f,_0x468798)});_0x4c5013['status'](0xc8)[_0x32c7a0(0x7d4)](_0x5d6669);})[_0x17e9c3(0x399)](this[_0x17e9c3(0x562)](_0x17e9c3(0x2e1)),..._0x1541e6,async(_0x59d782,_0x3dc80a)=>{const _0x532089=_0x17e9c3;let _0x281a8b=_0x59d782[_0x532089(0x831)];y['verbose']('request\x20received\x20in\x20deleteFlow'),y[_0x532089(0x188)](_0x532089(0x450)),y['verbose'](_0x59d782['body']);let _0x44de8c=await this[_0x532089(0x551)]({'request':_0x59d782,'schema':v,'ClassRef':M,'execute':_0x3d6eb6=>I[_0x532089(0x138)](_0x3d6eb6,_0x281a8b)});_0x3dc80a[_0x532089(0x1ac)](0xc8)[_0x532089(0x7d4)](_0x44de8c);})['get'](this[_0x17e9c3(0x562)](_0x17e9c3(0x375)),..._0x1541e6,async(_0x172fef,_0x35eb37)=>{const _0xac089b=_0x17e9c3;y[_0xac089b(0x188)]('request\x20received\x20in\x20allFlows');let _0x1d324d=await this[_0xac089b(0x551)]({'request':_0x172fef,'schema':v,'ClassRef':M,'execute':_0x3fdd84=>I[_0xac089b(0x71f)](_0x3fdd84)});_0x35eb37[_0xac089b(0x1ac)](0xc8)[_0xac089b(0x7d4)](_0x1d324d);});}},Mo=A(require(a0_0x4ac10f(0x63a))),X={};function a0_0x3b98(_0x2a3e47,_0xc5a7f4){const _0x52a60c=a0_0x52a6();return a0_0x3b98=function(_0x3b982e,_0x28c4ac){_0x3b982e=_0x3b982e-0x11d;let _0x2f504c=_0x52a60c[_0x3b982e];return _0x2f504c;},a0_0x3b98(_0x2a3e47,_0xc5a7f4);}function yo(_0x3ef613,_0x39f57d,_0x441220,_0x554858){X[_0x3ef613]||(X[_0x3ef613]={}),X[_0x3ef613][_0x39f57d]={'id':_0x39f57d,'response':_0x441220,'events':_0x554858};}function bo(_0x257f70,_0x20e6c5){!X[_0x257f70]||!X[_0x257f70][_0x20e6c5]||delete X[_0x257f70][_0x20e6c5];}function j(_0x575a1f,_0x55eaaa,_0x1e02b3){const _0x183cca=a0_0x4ac10f;if(!X[_0x575a1f])return;let _0x45b907=_0x183cca(0x28d)+JSON[_0x183cca(0x3cc)](_0x1e02b3)+'\x0a\x0a';Object[_0x183cca(0x5ad)](X[_0x575a1f])['forEach'](_0x234b0a=>{const _0x4c2e5b=_0x183cca;_0x234b0a['events']['includes'](_0x55eaaa)&&_0x234b0a[_0x4c2e5b(0x4fa)][_0x4c2e5b(0x3fe)](_0x45b907);});}function So(){const _0x48b15a=a0_0x4ac10f;let _0x5bd4e8={};for(let _0x81fe73 in X)_0x5bd4e8[_0x81fe73]=Object[_0x48b15a(0x5ad)](X[_0x81fe73])[_0x48b15a(0x3c7)](_0x5045df=>({'id':_0x5045df['id'],'events':_0x5045df['events']}));return _0x5bd4e8;}var Co=require(a0_0x4ac10f(0x465)),Is=require(a0_0x4ac10f(0x124)),Ts=class{},Ai=new Is['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Ti=new Is['Schema']({'_id':{'type':String,'default':'config'},'WebhookGlobal':{'type':Ai},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Ce=R?.['model'](Ts[a0_0x4ac10f(0x80a)],Ti,'All_Instances_Config'),Ii=Mo['default'][a0_0x4ac10f(0x650)](__dirname,'downloads'),xe=(0x0,xt[a0_0x4ac10f(0x5a2)])(),Oi=b[a0_0x4ac10f(0x2c5)](a0_0x4ac10f(0x75a))[a0_0x4ac10f(0x2e5)],ae=[$a,Ra,Ia[Oi]];xe[a0_0x4ac10f(0x284)](a0_0x4ac10f(0x65a),xt['default'][a0_0x4ac10f(0x4d4)](Ii))['get'](a0_0x4ac10f(0x3bf),async(_0x399a31,_0x1c7775)=>{const _0x3a1e9b=a0_0x4ac10f;console['log'](_0x3a1e9b(0x368));let _0x15c3de=_0x399a31[_0x3a1e9b(0x296)][_0x3a1e9b(0x240)],_0x12def7=(_0x399a31['query'][_0x3a1e9b(0x78c)]||'')[_0x3a1e9b(0x3eb)](','),_0x5f0418=(0x0,Co['v4'])();console['log'](_0x3a1e9b(0x5cf),_0x15c3de),console[_0x3a1e9b(0x85b)](_0x3a1e9b(0x7be),_0x12def7);let _0x12fa57=b[_0x3a1e9b(0x2c5)](_0x3a1e9b(0x75a))[_0x3a1e9b(0x7f0)],_0x40bf85=_0x399a31['query'][_0x3a1e9b(0x602)];if(console['log']('API\x20Key\x20from\x20Request:',_0x40bf85),_0x12fa57[_0x3a1e9b(0x5e2)]!==_0x40bf85){console[_0x3a1e9b(0x85b)](_0x3a1e9b(0x47c));try{let _0x16453b=await he['auth'][_0x3a1e9b(0x7c1)](_0x15c3de);if(console['log'](_0x3a1e9b(0x252),_0x16453b),!_0x16453b||_0x16453b['apikey']!==_0x40bf85)return console['log']('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x1c7775['status'](0x191)[_0x3a1e9b(0x4f0)](_0x3a1e9b(0x47e));}catch(_0x296ef6){return console['error']('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x296ef6),_0x1c7775[_0x3a1e9b(0x1ac)](0x191)[_0x3a1e9b(0x4f0)](_0x3a1e9b(0x208));}}if(!await Ae(_0x15c3de))return _0x1c7775[_0x3a1e9b(0x1ac)](0x194)[_0x3a1e9b(0x4f0)]('Instância\x20não\x20encontrada.');_0x1c7775['setHeader'](_0x3a1e9b(0x7a3),_0x3a1e9b(0x258)),_0x1c7775['setHeader'](_0x3a1e9b(0x467),_0x3a1e9b(0x5ff)),_0x1c7775[_0x3a1e9b(0x7a2)](_0x3a1e9b(0x770),'keep-alive'),_0x1c7775['flushHeaders']();let _0x28daff=_0x3a1e9b(0x28d)+JSON[_0x3a1e9b(0x3cc)]({'info':_0x3a1e9b(0x529)})+'\x0a\x0a';_0x1c7775[_0x3a1e9b(0x3fe)](_0x28daff),yo(_0x15c3de,_0x5f0418,_0x1c7775,_0x12def7),_0x399a31['on'](_0x3a1e9b(0x37a),()=>{const _0x5acae7=_0x3a1e9b;console[_0x5acae7(0x85b)](_0x5acae7(0x352)+_0x15c3de),bo(_0x15c3de,_0x5f0418);});}),xe[a0_0x4ac10f(0x2f0)](a0_0x4ac10f(0x29f),async(_0x19328b,_0x692c91)=>{const _0x123943=a0_0x4ac10f;console['log'](_0x123943(0x57b));let _0x3a064b=_0x19328b[_0x123943(0x296)][_0x123943(0x240)],_0x3be9ff=_0x19328b[_0x123943(0x296)][_0x123943(0x15a)],_0x34067e=_0x19328b['query'][_0x123943(0x6e1)]||'',_0x341e30=_0x19328b[_0x123943(0x831)];console[_0x123943(0x85b)]('Instance\x20Name:',_0x3a064b),console[_0x123943(0x85b)](_0x123943(0x458),_0x3be9ff),console[_0x123943(0x85b)]('RemoteJid:',_0x34067e),console[_0x123943(0x85b)](_0x123943(0x168),_0x341e30);try{if(!await Ae(_0x3a064b))return _0x692c91[_0x123943(0x1ac)](0x194)[_0x123943(0x4f0)](_0x123943(0x6f9));let _0x1e902b=await I[_0x123943(0x864)](_0x3a064b,_0x3be9ff,_0x34067e,_0x341e30);_0x692c91['send'](_0x1e902b);}catch(_0x5598f9){console[_0x123943(0x4f6)](_0x5598f9),_0x692c91['status'](0x1f4)[_0x123943(0x4f0)](_0x123943(0x5b2));}}),xe['get'](a0_0x4ac10f(0x2cf),(_0x1eb6cd,_0x19180f)=>{const _0x46a667=a0_0x4ac10f;let _0xefd61d=So();_0x19180f[_0x46a667(0x7d4)](_0xefd61d);})['get']('/',(_0x5a9114,_0x2c5466)=>{const _0x1c4767=a0_0x4ac10f;let _0x4c2c5f=b['get'](_0x1c4767(0x32d))[_0x1c4767(0x55c)];if(_0x4c2c5f){let _0x41c26c=encodeURIComponent(''+_0x4c2c5f);_0x2c5466[_0x1c4767(0x4e5)](_0x1c4767(0x312)+_0x41c26c);return;}let _0x4ff108=b[_0x1c4767(0x2c5)]('SSL_CONF'),_0x3fe228=_0x4ff108&&_0x4ff108[_0x1c4767(0x207)][_0x1c4767(0x3eb)]('/')[0x4];if(_0x3fe228){let _0x13aea4=encodeURIComponent(_0x1c4767(0x518)+_0x3fe228);_0x2c5466['redirect'](_0x1c4767(0x312)+_0x13aea4);}else _0x2c5466[_0x1c4767(0x4e5)](_0x1c4767(0x61f));})['put']('/exit',...ae,async(_0x388f95,_0x42abe4)=>{const _0x5ea2a6=a0_0x4ac10f;try{console['log'](_0x5ea2a6(0x471)),_0x42abe4[_0x5ea2a6(0x1ac)](0xc8)['json']({'message':_0x5ea2a6(0x3dd)}),_0x42abe4['on'](_0x5ea2a6(0x1d3),()=>process[_0x5ea2a6(0x5c8)](0x0));}catch(_0x4a7e60){console[_0x5ea2a6(0x4f6)]('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x4a7e60),_0x42abe4['status'](0x1f4)['json']({'message':_0x5ea2a6(0x73c)});}})[a0_0x4ac10f(0x2bb)](a0_0x4ac10f(0x664),...ae,async(_0x3f464e,_0x5029af)=>{const _0x46ba99=a0_0x4ac10f;try{let _0x31a5cf=_0x3f464e[_0x46ba99(0x831)];await Ce[_0x46ba99(0x191)]({},{'$set':_0x31a5cf},{'upsert':!0x0});let _0x538c9b=await Ce[_0x46ba99(0x349)]();_0x5029af[_0x46ba99(0x7d4)](_0x538c9b);}catch(_0x2926af){_0x5029af[_0x46ba99(0x1ac)](0x190)['send'](_0x2926af[_0x46ba99(0x552)]);}})['get'](a0_0x4ac10f(0x664),...ae,async(_0x2325bd,_0x13b4cd)=>{const _0x1d1028=a0_0x4ac10f;try{let _0x4ef245=await Ce[_0x1d1028(0x349)]();if(!_0x4ef245)return _0x13b4cd[_0x1d1028(0x7d4)]({});_0x13b4cd[_0x1d1028(0x7d4)](_0x4ef245);}catch(_0x27037d){_0x13b4cd[_0x1d1028(0x1ac)](0x1f4)['send'](_0x27037d[_0x1d1028(0x552)]);}})[a0_0x4ac10f(0x284)]('/instance',new yt(b,...ae)[a0_0x4ac10f(0x2b0)])[a0_0x4ac10f(0x284)](a0_0x4ac10f(0x77b),new Tt(...ae)[a0_0x4ac10f(0x2b0)])[a0_0x4ac10f(0x284)](a0_0x4ac10f(0x202),new ct(...ae)[a0_0x4ac10f(0x2b0)])[a0_0x4ac10f(0x284)](a0_0x4ac10f(0x126),new wt(...ae)[a0_0x4ac10f(0x2b0)])['use']('/webhook',new Ot(...ae)[a0_0x4ac10f(0x2b0)])[a0_0x4ac10f(0x284)](a0_0x4ac10f(0x66c),new _t(...ae)[a0_0x4ac10f(0x2b0)]);var m=class{constructor(..._0x501e98){const _0x3bbcc5=a0_0x4ac10f;throw{'status':0x190,'error':_0x3bbcc5(0x337),'message':_0x501e98[_0x3bbcc5(0x30c)]>0x0?_0x501e98:void 0x0};}},se=class{constructor(..._0x52069c){const _0x4eb644=a0_0x4ac10f;throw{'status':0x191,'error':'Unauthorized','message':_0x52069c[_0x4eb644(0x30c)]>0x0?_0x52069c:void 0x0};}},K=class{constructor(..._0x505ad1){const _0x705f85=a0_0x4ac10f;throw{'status':0x193,'error':_0x705f85(0x460),'message':_0x505ad1['length']>0x0?_0x505ad1:void 0x0};}},J=class{constructor(..._0x515964){const _0x393a97=a0_0x4ac10f;throw{'status':0x194,'error':_0x393a97(0x558),'message':_0x515964[_0x393a97(0x30c)]>0x0?_0x515964:void 0x0};}},_=class{constructor(..._0x3f765f){const _0x2476a2=a0_0x4ac10f;throw{'status':0x1f4,'error':_0x2476a2(0x3bc),'message':_0x3f765f[_0x2476a2(0x30c)]>0x0?_0x3f765f:void 0x0};}},ge=require('@whiskeysockets/baileys');async function Os(_0x28dfa3){const _0x1d1eb6=a0_0x4ac10f;let _0x3f60d5=new $(Os[_0x1d1eb6(0x80a)]),_0x5eb436=R[_0x1d1eb6(0x1ec)](),_0x395fbb=_0x5eb436['db'](b[_0x1d1eb6(0x2c5)](_0x1d1eb6(0x815))[_0x1d1eb6(0x338)][_0x1d1eb6(0x83a)]+_0x1d1eb6(0x79a))[_0x1d1eb6(0x547)](_0x28dfa3),_0x5ea71d=async(_0x55ac34,_0x1454a2)=>{const _0x4f7af5=_0x1d1eb6;try{return await _0x5eb436[_0x4f7af5(0x59f)](),await _0x395fbb[_0x4f7af5(0x7d2)]({'_id':_0x1454a2},JSON[_0x4f7af5(0x1af)](JSON['stringify'](_0x55ac34,ge[_0x4f7af5(0x30a)][_0x4f7af5(0x24c)])),{'upsert':!0x0});}catch{}},_0xa987d9=async _0x16bd10=>{const _0x2ab3b8=_0x1d1eb6;try{await _0x5eb436['connect']();let _0x5b3709=await _0x395fbb[_0x2ab3b8(0x349)]({'_id':_0x16bd10}),_0x23c5b1=JSON[_0x2ab3b8(0x3cc)](_0x5b3709);return JSON['parse'](_0x23c5b1,ge[_0x2ab3b8(0x30a)][_0x2ab3b8(0x3cb)]);}catch{}},_0x4ce2c4=async _0x2f56a2=>{const _0x82e019=_0x1d1eb6;try{return await _0x5eb436['connect'](),await _0x395fbb[_0x82e019(0x1ba)]({'_id':_0x2f56a2});}catch{}},_0x2f8a5c=await _0xa987d9(_0x1d1eb6(0x4bd))||(0x0,ge[_0x1d1eb6(0x6fc)])();return{'state':{'creds':_0x2f8a5c,'keys':{'get':async(_0x2576c0,_0x529f5b)=>{const _0x11c231=_0x1d1eb6;let _0x426613={};return await Promise[_0x11c231(0x428)](_0x529f5b[_0x11c231(0x3c7)](async _0x81edef=>{const _0x4d6e85=_0x11c231;let _0x29678b=await _0xa987d9(_0x2576c0+'-'+_0x81edef);_0x2576c0===_0x4d6e85(0x6bb)&&_0x29678b&&(_0x29678b=ge[_0x4d6e85(0x50a)]['Message']['AppStateSyncKeyData'][_0x4d6e85(0x2bc)](_0x29678b)),_0x426613[_0x81edef]=_0x29678b;})),_0x426613;},'set':async _0x42f2fd=>{const _0x12dbc9=_0x1d1eb6;let _0x1867f0=[];for(let _0x3093b8 in _0x42f2fd)for(let _0x4c375c in _0x42f2fd[_0x3093b8]){let _0x48cf16=_0x42f2fd[_0x3093b8][_0x4c375c],_0x3eb7eb=_0x3093b8+'-'+_0x4c375c;_0x1867f0[_0x12dbc9(0x304)](_0x48cf16?_0x5ea71d(_0x48cf16,_0x3eb7eb):_0x4ce2c4(_0x3eb7eb));}await Promise['all'](_0x1867f0);}}},'saveCreds':async()=>_0x5ea71d(_0x2f8a5c,'creds')};}var ks=A(require(a0_0x4ac10f(0x5b9))),Ls=A(require(a0_0x4ac10f(0x388))),kt=require(a0_0x4ac10f(0x1f8)),Eo=require(a0_0x4ac10f(0x62f)),Pt=require(a0_0x4ac10f(0x1f8)),Dt;function _i(_0x931ae9){const _0x5b4245=a0_0x4ac10f;return Dt||(Dt=(0x0,Eo[_0x5b4245(0x360)])({'url':_0x931ae9[_0x5b4245(0x165)]}),Dt[_0x5b4245(0x59f)]()),Dt;}var le=class l{constructor(_0x283a74,_0x5a52fe){const _0x29f9c6=a0_0x4ac10f;this[_0x29f9c6(0x6ee)]=_0x283a74,this[_0x29f9c6(0x82b)]=_0x5a52fe,this[_0x29f9c6(0x44e)]=new $(l[_0x29f9c6(0x80a)]),this['client']=_i(_0x283a74);}set['reference'](_0x5c12a1){const _0x246c1e=a0_0x4ac10f;this[_0x246c1e(0x82b)]=_0x5c12a1;}async['instanceKeys'](){const _0x228856=a0_0x4ac10f;try{return await this[_0x228856(0x18f)][_0x228856(0x5b4)]([_0x228856(0x27b),this['redisEnv'][_0x228856(0x6bc)]+':*']);}catch(_0xbcc2b8){this[_0x228856(0x44e)][_0x228856(0x4f6)](_0xbcc2b8);}}async[a0_0x4ac10f(0x26f)](_0x15b91a,_0x3a8b84){const _0x438b69=a0_0x4ac10f;try{let _0x1e7b59=JSON[_0x438b69(0x3cc)](_0x3a8b84,Pt[_0x438b69(0x30a)][_0x438b69(0x24c)]);return await this[_0x438b69(0x18f)][_0x438b69(0x6f4)](this[_0x438b69(0x6ee)][_0x438b69(0x6bc)]+':'+this[_0x438b69(0x82b)],_0x15b91a,_0x1e7b59);}catch(_0x4d0da9){this[_0x438b69(0x44e)][_0x438b69(0x4f6)](_0x4d0da9);}}async['getAllData'](){const _0x51dd8b=a0_0x4ac10f;try{let _0xaf6736=await this[_0x51dd8b(0x18f)][_0x51dd8b(0x501)](this[_0x51dd8b(0x6ee)]['PREFIX_KEY']+':'+this[_0x51dd8b(0x82b)]);if(_0xaf6736){for(let _0x35cc3e in _0xaf6736)Object[_0x51dd8b(0x2b7)]['hasOwnProperty']['call'](_0xaf6736,_0x35cc3e)&&(_0xaf6736[_0x35cc3e]=JSON[_0x51dd8b(0x1af)](_0xaf6736[_0x35cc3e],Pt[_0x51dd8b(0x30a)][_0x51dd8b(0x3cb)]));return _0xaf6736;}}catch(_0x314c7c){this[_0x51dd8b(0x44e)][_0x51dd8b(0x4f6)](_0x314c7c);}}async['readData'](_0x1eb9e7){const _0x18b57e=a0_0x4ac10f;try{let _0x16eaeb=await this[_0x18b57e(0x18f)][_0x18b57e(0x295)](this[_0x18b57e(0x6ee)][_0x18b57e(0x6bc)]+':'+this[_0x18b57e(0x82b)],_0x1eb9e7);if(_0x16eaeb)return JSON[_0x18b57e(0x1af)](_0x16eaeb,Pt[_0x18b57e(0x30a)][_0x18b57e(0x3cb)]);}catch(_0x556de6){this[_0x18b57e(0x44e)]['error'](_0x556de6);}}async[a0_0x4ac10f(0x34a)](_0x3b98eb){const _0x2b0889=a0_0x4ac10f;try{return await this['client'][_0x2b0889(0x4a4)](this[_0x2b0889(0x6ee)][_0x2b0889(0x6bc)]+':'+this['instanceName'],_0x3b98eb);}catch(_0x4df8a7){this[_0x2b0889(0x44e)][_0x2b0889(0x4f6)](_0x4df8a7);}}async[a0_0x4ac10f(0x6e3)](_0x1f2661){const _0x1ca6d3=a0_0x4ac10f;try{return await this['client'][_0x1ca6d3(0x851)](_0x1f2661||this['redisEnv'][_0x1ca6d3(0x6bc)]+':'+this[_0x1ca6d3(0x82b)]);}catch(_0x40cadc){this['logger'][_0x1ca6d3(0x4f6)](_0x40cadc);}}};async function _s(_0x135be8,_0x5902b1){const _0x5e4b5e=a0_0x4ac10f;let _0x4754ca=new $(_s['name']),_0x42099c=new le(_0x135be8,_0x5902b1),_0x4f77b2=async(_0x4b7dc1,_0x50eeaf)=>{const _0x38f2a4=a0_0x3b98;try{return await _0x42099c[_0x38f2a4(0x26f)](_0x50eeaf,_0x4b7dc1);}catch(_0x25eccf){return _0x4754ca[_0x38f2a4(0x4f6)]({'localError':'writeData','error':_0x25eccf});}},_0x43b2d4=async _0x514413=>{const _0x215d37=a0_0x3b98;try{return await _0x42099c[_0x215d37(0x54b)](_0x514413);}catch(_0x1a681f){_0x4754ca[_0x215d37(0x4f6)]({'readData':_0x215d37(0x26f),'error':_0x1a681f});return;}},_0x5ceb0f=async _0x588610=>{const _0x17495b=a0_0x3b98;try{return await _0x42099c[_0x17495b(0x34a)](_0x588610);}catch(_0x2f6a31){_0x4754ca[_0x17495b(0x4f6)]({'readData':_0x17495b(0x34a),'error':_0x2f6a31});}},_0x453bb5=await _0x43b2d4(_0x5e4b5e(0x4bd))||(0x0,kt[_0x5e4b5e(0x6fc)])();return{'state':{'creds':_0x453bb5,'keys':{'get':async(_0x1c3d61,_0x7cc1b)=>{const _0x2d4b58=_0x5e4b5e;let _0x1bd3c6={};return await Promise['all'](_0x7cc1b[_0x2d4b58(0x3c7)](async _0x255220=>{const _0xef3c1a=_0x2d4b58;let _0x62efd5=await _0x43b2d4(_0x1c3d61+'-'+_0x255220);_0x1c3d61===_0xef3c1a(0x6bb)&&_0x62efd5&&(_0x62efd5=kt[_0xef3c1a(0x50a)][_0xef3c1a(0x1b1)][_0xef3c1a(0x76d)]['fromObject'](_0x62efd5)),_0x1bd3c6[_0x255220]=_0x62efd5;})),_0x1bd3c6;},'set':async _0x26e667=>{const _0x406eae=_0x5e4b5e;let _0x222c62=[];for(let _0x556a58 in _0x26e667)for(let _0x1b2ebb in _0x26e667[_0x556a58]){let _0x365605=_0x26e667[_0x556a58][_0x1b2ebb],_0x362707=_0x556a58+'-'+_0x1b2ebb;_0x222c62[_0x406eae(0x304)](_0x365605?await _0x4f77b2(_0x365605,_0x362707):await _0x5ceb0f(_0x362707));}await Promise[_0x406eae(0x428)](_0x222c62);}}},'saveCreds':async()=>await _0x4f77b2(_0x453bb5,'creds')};}var L=A(require('fs')),me=require('uuid'),Jt=A(require(a0_0x4ac10f(0x80e))),qt=require(a0_0x4ac10f(0x327)),vo=require('child_process'),No=require(a0_0x4ac10f(0x351)),$o=A(require(a0_0x4ac10f(0x464))),Ee=class extends O{constructor(_0x1d6067,_0x2ab4c2,_0x2da68d){const _0x398fca=a0_0x4ac10f;super(_0x2ab4c2),this[_0x398fca(0x6f1)]=_0x1d6067,this['configService']=_0x2ab4c2,this[_0x398fca(0x43b)]=_0x2da68d;}async[a0_0x4ac10f(0x1fb)](_0x10de3d,_0xf2b37b){const _0x55ccfd=a0_0x4ac10f;try{if(this[_0x55ccfd(0x214)][_0x55ccfd(0x62e)]){console[_0x55ccfd(0x85b)](_0x55ccfd(0x289)+_0xf2b37b+_0x55ccfd(0x7b0),_0x10de3d);let _0xa5baec=await this[_0x55ccfd(0x6f1)]['findOneAndUpdate']({'_id':_0xf2b37b},{'$set':_0x10de3d},{'new':!0x0,'upsert':!0x0});return console[_0x55ccfd(0x85b)]('Database\x20update\x20result:',_0xa5baec),_0xa5baec;}}catch(_0x210f53){throw console['error'](_0x55ccfd(0x5be),_0x210f53),_0x210f53;}return null;}async[a0_0x4ac10f(0x1ba)](_0x4f1c79){const _0x2c75cd=a0_0x4ac10f;try{let _0x1a9b1f=T(_0x4f1c79[_0x2c75cd(0x577)]);return{'deletedCount':(await this[_0x2c75cd(0x6f1)][_0x2c75cd(0x1ba)](_0x1a9b1f))['deletedCount']};}catch(_0xd741cf){return{'error':_0xd741cf?.[_0x2c75cd(0x830)]()};}}async[a0_0x4ac10f(0x349)](_0x445bed){const _0x254b2a=a0_0x4ac10f;try{let _0x44eda9=T(_0x445bed[_0x254b2a(0x577)]);return await this['cacheInstanceModel']['findOne'](_0x44eda9)[_0x254b2a(0x1b8)]();}catch{return null;}}},Lt=(0x0,No[a0_0x4ac10f(0x1d6)])(vo[a0_0x4ac10f(0x60f)]),xs=class{constructor(){const _0xe07074=a0_0x4ac10f;this[_0xe07074(0x863)]=new Ee(Be,b),(!this['ipv6Prefix']||!this[_0xe07074(0x1a5)])&&this['detectIPv6PrefixAndInterface']()['then'](()=>{const _0x41c1dd=_0xe07074;console[_0x41c1dd(0x85b)](_0x41c1dd(0x7c6)+this['ipv6Prefix']),console[_0x41c1dd(0x85b)](_0x41c1dd(0x11e)+this[_0x41c1dd(0x1a5)]);})[_0xe07074(0x1b5)](_0x40e393=>{const _0xa6a114=_0xe07074;console[_0xa6a114(0x4f6)](_0xa6a114(0x1b6)+_0x40e393['message']);});}async[a0_0x4ac10f(0x4de)](){const _0x58b06f=a0_0x4ac10f;try{let {stdout:_0x4953ea}=await Lt('ip\x20-br\x20link\x20show');console[_0x58b06f(0x85b)]('Network\x20interfaces\x20detected:\x20'+_0x4953ea);let _0x536856=_0x4953ea[_0x58b06f(0x3eb)]('\x0a')['map'](_0xb14223=>_0xb14223[_0x58b06f(0x3eb)]('\x20')[0x0])[_0x58b06f(0x820)](_0x5f2681=>!_0x5f2681[_0x58b06f(0x19a)]('lo')&&!_0x5f2681[_0x58b06f(0x19a)]('docker')&&!_0x5f2681[_0x58b06f(0x19a)]('vir')&&!_0x5f2681['includes']('wl')&&!_0x5f2681[_0x58b06f(0x19a)]('@'));if(console['log'](_0x58b06f(0x5f2)+_0x536856),_0x536856[_0x58b06f(0x30c)]===0x0)throw new Error('No\x20suitable\x20network\x20interface\x20found');this[_0x58b06f(0x1a5)]=_0x536856[0x0];let {stdout:_0x132c81}=await Lt(_0x58b06f(0x45e)+this['networkInterface']);console[_0x58b06f(0x85b)](_0x58b06f(0x782)+_0x132c81);let _0x4c209a=_0x132c81['split']('\x0a')[_0x58b06f(0x7c1)](_0x587a1f=>_0x587a1f[_0x58b06f(0x19a)](_0x58b06f(0x4fc))&&_0x587a1f[_0x58b06f(0x19a)](_0x58b06f(0x470)));if(!_0x4c209a)throw new Error(_0x58b06f(0x81f));let _0x51ff5f=_0x4c209a[_0x58b06f(0x579)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x51ff5f)throw new Error('Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address');let [_0x43ab67,_0x2f3608,_0x14d2d5]=_0x51ff5f,_0x6d100d=Math[_0x58b06f(0x6a9)](Number(_0x14d2d5)/0x10),_0x42ef7e=Number(_0x14d2d5)%0x10,_0x95993c=_0x2f3608[_0x58b06f(0x3eb)](':')[_0x58b06f(0x18a)](0x0,_0x6d100d)[_0x58b06f(0x650)](':');if(_0x42ef7e>0x0){let _0x12272e=_0x2f3608[_0x58b06f(0x3eb)](':')[_0x6d100d],_0x33b820=0xffff<<0x10-_0x42ef7e&0xffff,_0x416701=(parseInt(_0x12272e,0x10)&_0x33b820)[_0x58b06f(0x830)](0x10)[_0x58b06f(0x1bb)](0x4,'0');_0x95993c+=':'+_0x416701;}this['ipv6Prefix']=_0x95993c+':';}catch(_0x4e3065){console[_0x58b06f(0x4f6)](_0x58b06f(0x21c),_0x4e3065);}}async[a0_0x4ac10f(0x1e4)](_0x299c5b){const _0x3113f9=a0_0x4ac10f;let _0x3947e2=_0x3113f9(0x5fe)+_0x299c5b+_0x3113f9(0x3df)+this[_0x3113f9(0x1a5)];try{await Lt(_0x3947e2),console['log'](_0x3113f9(0x268)+_0x299c5b);}catch(_0x2f85b1){throw console[_0x3113f9(0x4f6)](_0x3113f9(0x479)+_0x2f85b1),new Error(_0x3113f9(0x479)+_0x2f85b1);}}async['removeIPv6'](_0x5550bb){const _0x39e8da=a0_0x4ac10f;let _0xcd7777='ip\x20-6\x20addr\x20del\x20'+_0x5550bb+_0x39e8da(0x3df)+this[_0x39e8da(0x1a5)];try{await Lt(_0xcd7777),console['log'](_0x39e8da(0x69e)+_0x5550bb);}catch(_0x2bd7e2){throw console[_0x39e8da(0x4f6)](_0x39e8da(0x561)+_0x2bd7e2),new Error(_0x39e8da(0x561)+_0x2bd7e2);}}['randomMac'](){const _0x536d95=a0_0x4ac10f;return _0x536d95(0x786)[_0x536d95(0x527)](/X/g,()=>'0123456789ABCDEF'[_0x536d95(0x216)](Math[_0x536d95(0x6a9)](Math[_0x536d95(0x139)]()*0x10)));}['ip6eui'](_0x271052,_0x4602f3){const _0x33e019=a0_0x4ac10f;let _0x1a40f6=_0x4602f3[_0x33e019(0x3eb)](':');return _0x1a40f6[0x0]=(parseInt(_0x1a40f6[0x0],0x10)^0x2)['toString'](0x10)[_0x33e019(0x1bb)](0x2,'0'),''+_0x271052+_0x1a40f6[0x0]+_0x1a40f6[0x1]+':'+_0x1a40f6[0x2]+'ff:fe'+_0x1a40f6[0x3]+':'+_0x1a40f6[0x4]+_0x1a40f6[0x5];}[a0_0x4ac10f(0x794)](){const _0x13a61e=a0_0x4ac10f;let _0x180720=this[_0x13a61e(0x5b3)];_0x180720[_0x13a61e(0x37c)](':')||(_0x180720+=':');let _0x56e862=this[_0x13a61e(0x245)]();return this[_0x13a61e(0x47f)](_0x180720,_0x56e862);}[a0_0x4ac10f(0x568)](_0x27eb9e){const _0x163565=a0_0x4ac10f;return new RegExp(_0x163565(0x15f))[_0x163565(0x4fb)](_0x27eb9e);}async[a0_0x4ac10f(0x76e)](_0x4a9b5b){const _0x3f4d42=a0_0x4ac10f;let _0x56a228=[{'url':'https://ipv6.jsonip.com','parse':_0x2809a3=>_0x2809a3['ip']},{'url':_0x3f4d42(0x821),'parse':_0x204595=>_0x204595['ip']},{'url':_0x3f4d42(0x29d),'parse':_0x16fec1=>_0x16fec1['trim']()},{'url':_0x3f4d42(0x7f7),'parse':_0x48a926=>_0x48a926[_0x3f4d42(0x17d)]()}],_0x572e63=_0x56a228[Math['floor'](Math[_0x3f4d42(0x139)]()*_0x56a228[_0x3f4d42(0x30c)])];try{let _0x58ab18=await $o[_0x3f4d42(0x5b7)][_0x3f4d42(0x2c5)](_0x572e63[_0x3f4d42(0x690)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x4a9b5b}}),_0x4c376d=_0x572e63['parse'](_0x58ab18[_0x3f4d42(0x123)]);return _0x4c376d[_0x3f4d42(0x35c)]()===_0x4a9b5b[_0x3f4d42(0x35c)]()?(console[_0x3f4d42(0x85b)](_0x3f4d42(0x735)+_0x4a9b5b),!0x0):(console[_0x3f4d42(0x4f6)](_0x3f4d42(0x3d6)+_0x4a9b5b+_0x3f4d42(0x4e1)+_0x4c376d),!0x1);}catch(_0x4eda80){return console['error'](_0x3f4d42(0x595)+_0x572e63['url']+':\x20'+_0x4eda80['message']),!0x1;}}async[a0_0x4ac10f(0x5f7)](_0x4bbf64,_0x53d251){const _0x579593=a0_0x4ac10f;if(!this[_0x579593(0x5b3)]||!this['networkInterface'])return console['error'](_0x579593(0x38a)),null;let _0x37fc6d;do _0x37fc6d=this[_0x579593(0x794)](),console['log'](_0x579593(0x67d)+_0x37fc6d);while(!await this['isValidAndUniqueIPv6'](_0x37fc6d));await this[_0x579593(0x1e4)](_0x37fc6d),console[_0x579593(0x85b)](_0x579593(0x57d)+_0x37fc6d);let _0x175521={'_id':_0x4bbf64+'-'+_0x53d251,'ip':_0x37fc6d},_0x15259c=await this[_0x579593(0x863)][_0x579593(0x1fb)](_0x175521,_0x175521[_0x579593(0x261)]);return console['log'](_0x579593(0x6dc)+_0x15259c),_0x37fc6d;}async[a0_0x4ac10f(0x783)](_0x3fa8a0){const _0x1e6620=a0_0x4ac10f;return this[_0x1e6620(0x568)](_0x3fa8a0)?!await this['cacheInstanceRepository'][_0x1e6620(0x349)]({'where':{'ip':_0x3fa8a0}}):!0x1;}async[a0_0x4ac10f(0x43a)](_0x521660,_0x5d92d1){const _0x40e5d8=a0_0x4ac10f;let _0x315aa8=_0x521660+'-'+_0x5d92d1,_0x579c6a=await this[_0x40e5d8(0x863)][_0x40e5d8(0x349)]({'where':{'_id':_0x315aa8}});_0x579c6a&&_0x579c6a['ip']&&(await this[_0x40e5d8(0x7aa)](_0x579c6a['ip']),await this[_0x40e5d8(0x863)][_0x40e5d8(0x1ba)]({'where':{'_id':_0x315aa8}}));}},xi=new xs(),De=xi,Fs=a0_0x4ac10f(0x6dd),Oo,ue=null,Oa=null,Di=0x3,Pi=null,Ro=b[a0_0x4ac10f(0x2c5)](a0_0x4ac10f(0x75a))[a0_0x4ac10f(0x7f0)][a0_0x4ac10f(0x5e2)];async function ki(){const _0x2364c4=a0_0x4ac10f;let _0x3979d5=await Ce['findOne']();ue=_0x3979d5?.[_0x2364c4(0x4c1)]??null,Pi=_0x3979d5?.['DaysToDelete']??null,Fs=_0x3979d5?.[_0x2364c4(0x2d1)]??_0x2364c4(0x6dd),Oo=_0x3979d5?.[_0x2364c4(0x319)]??oe??_0x2364c4(0x79d),console[_0x2364c4(0x85b)](_0x3979d5);}async function Li(){await ki();}Li();var Ft={},ve=class l{constructor(_0x22ed17,_0xefc127,_0x3efc61){const _0x1a32cb=a0_0x4ac10f;this['configService']=_0x22ed17,this[_0x1a32cb(0x232)]=_0xefc127,this[_0x1a32cb(0x37d)]=_0x3efc61,this[_0x1a32cb(0x711)]=null,this['logger']=new $(l[_0x1a32cb(0x80a)]),this[_0x1a32cb(0x240)]={},this[_0x1a32cb(0x4c6)]={},this['stateConnection']={'state':_0x1a32cb(0x37a)},this['storePath']=(0x0,U[_0x1a32cb(0x650)])(ie,'downloads'),this['msgRetryCounterCache']=new Ls[(_0x1a32cb(0x5b7))](),this['userDevicesCache']=new Ls['default'](),this[_0x1a32cb(0x1ad)]=!0x1,this['webhookMap']={'status.instance':_0x1a32cb(0x39c),'connection.update':_0x1a32cb(0x39c),'qrcode.updated':_0x1a32cb(0x81c),'messages.upsert':'/wa-message','send.message':_0x1a32cb(0x1b0),'messages.update':_0x1a32cb(0x4b6),'group.upsert':_0x1a32cb(0x45b),'group.update':'/wa-groups','group-participants.update':'/wa-groups','messages.set':_0x1a32cb(0x557),'contacts.set':'/wa-contacts','contacts.upsert':'/wa-contacts','contacts.update':_0x1a32cb(0x2ac),'presence.update':'/wa-presence','chats.set':_0x1a32cb(0x870),'chats.update':_0x1a32cb(0x870),'chats.upsert':'/wa-chats','chats.delete':'/wa-chats'},this[_0x1a32cb(0x503)]=0x0,this['reconnectTimestamps']=[],this[_0x1a32cb(0x76b)]=0xa,this['RECONNECT_TIME_FRAME']=0xea60,this['isRunning']=!0x1,this[_0x1a32cb(0x7a4)]={'chats.upsert':async(_0x3f2797,_0x549157)=>{const _0x897238=_0x1a32cb;let _0x524c4c=[];for await(let _0x235e5f of _0x3f2797)_0x524c4c[_0x897238(0x304)]({'_id':_0x235e5f['id'],'owner':this[_0x897238(0x240)]['wuid'],'group':_0x235e5f['id'][_0x897238(0x37c)](_0x897238(0x703)),'name':_0x235e5f[_0x897238(0x80a)]||_0x235e5f[_0x897238(0x623)]||null,'contactname':null,'lastmsg':_0x235e5f['conversationTimestamp']&&_0x235e5f[_0x897238(0x741)][_0x897238(0x830)]()[_0x897238(0x30c)]<0xd?_0x235e5f['conversationTimestamp']*0x3e8:_0x235e5f[_0x897238(0x741)]||null,'archived':_0x235e5f[_0x897238(0x445)]||!0x1,'unreadcount':_0x235e5f[_0x897238(0x444)]||0x0,'ephemeralExpiration':_0x235e5f['ephemeralExpiration']||0x0});this[_0x897238(0x856)](_0x897238(0x2ff),_0x524c4c);},'chats.update':async(_0x7b8a85,_0x31de31)=>{const _0x28df8e=_0x1a32cb;for(let _0x313c1b of _0x7b8a85){let _0x402912={'_id':_0x313c1b['id'],'owner':this[_0x28df8e(0x240)][_0x28df8e(0x834)],'archived':_0x313c1b['archived'],'muteEndTime':_0x313c1b[_0x28df8e(0x1e6)],'ephemeralExpiration':_0x313c1b[_0x28df8e(0x248)]},_0x4c500f=!0x1,_0x5365f6={};_0x402912[_0x28df8e(0x445)]!=null&&(this[_0x28df8e(0x44e)][_0x28df8e(0x188)](this['instanceName']+'\x20('+this[_0x28df8e(0x240)][_0x28df8e(0x834)]+_0x28df8e(0x13e)+_0x313c1b['id']+'\x20:\x20'+_0x313c1b[_0x28df8e(0x445)]),_0x4c500f=!0x0,_0x5365f6[_0x28df8e(0x445)]=_0x313c1b[_0x28df8e(0x445)]),'muteEndTime'in _0x313c1b&&(this[_0x28df8e(0x44e)][_0x28df8e(0x188)](this[_0x28df8e(0x82b)]+'\x20('+this[_0x28df8e(0x240)][_0x28df8e(0x834)]+_0x28df8e(0x34e)+_0x313c1b['id']+_0x28df8e(0x383)+(_0x313c1b[_0x28df8e(0x1e6)]??'0')),_0x4c500f=!0x0,_0x5365f6[_0x28df8e(0x1e6)]=_0x313c1b[_0x28df8e(0x1e6)]??0x0),_0x28df8e(0x248)in _0x313c1b&&(this[_0x28df8e(0x44e)]['verbose'](this[_0x28df8e(0x82b)]+'\x20('+this[_0x28df8e(0x240)][_0x28df8e(0x834)]+'):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20'+_0x313c1b['id']+_0x28df8e(0x383)+(_0x313c1b['ephemeralExpiration']!==void 0x0?_0x313c1b[_0x28df8e(0x248)]:_0x28df8e(0x3a7))),_0x5365f6[_0x28df8e(0x248)]=_0x313c1b[_0x28df8e(0x248)]===null?0x0:_0x313c1b[_0x28df8e(0x248)],_0x4c500f=!0x0);let _0x4d3fe8;_0x4c500f&&(_0x4d3fe8=await this[_0x28df8e(0x37d)][_0x28df8e(0x413)][_0x28df8e(0x191)]({'where':{'_id':_0x313c1b['id']}},_0x5365f6,this[_0x28df8e(0x240)]['wuid'])),_0x4d3fe8&&j(this[_0x28df8e(0x82b)],_0x28df8e(0x408),{'chat':_0x4d3fe8});}},'chats.delete':async _0x28a094=>{const _0x31a8bd=_0x1a32cb;for(let _0x2fe3fe of _0x28a094)if(_0x2fe3fe[_0x31a8bd(0x37c)](_0x31a8bd(0x703))){await this[_0x31a8bd(0x37d)]['chat'][_0x31a8bd(0x399)]({'where':{'_id':_0x2fe3fe}},this[_0x31a8bd(0x240)][_0x31a8bd(0x834)]);let _0x10e090={'where':{'key':{'remoteJid':_0x2fe3fe}}};await this[_0x31a8bd(0x37d)][_0x31a8bd(0x552)][_0x31a8bd(0x399)](_0x10e090,this[_0x31a8bd(0x240)][_0x31a8bd(0x834)]);}else{await this[_0x31a8bd(0x37d)]['chat'][_0x31a8bd(0x191)]({'where':{'_id':_0x2fe3fe}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x31a8bd(0x240)][_0x31a8bd(0x834)]);let _0x29a36b={'where':{'key':{'remoteJid':_0x2fe3fe}}};await this[_0x31a8bd(0x37d)][_0x31a8bd(0x552)][_0x31a8bd(0x399)](_0x29a36b,this[_0x31a8bd(0x240)][_0x31a8bd(0x834)]);}this['sendDataWebhook'](_0x31a8bd(0x57a),[..._0x28a094]);}},this[_0x1a32cb(0x7af)]={'contacts.upsert':async(_0x5b6752,_0x5a4159)=>{const _0x5216fa=_0x1a32cb;let _0x5d6cc=await this[_0x5216fa(0x37d)]['contact'][_0x5216fa(0x7c1)]({'where':{}},this[_0x5216fa(0x240)]['wuid']),_0x4b6966=[];for await(let _0x105d8b of _0x5b6752)_0x5d6cc[_0x5216fa(0x7c1)](_0x1e58de=>_0x1e58de['_id']===_0x105d8b['id'])||_0x4b6966[_0x5216fa(0x304)]({'_id':_0x105d8b['id'],'pushName':_0x105d8b?.[_0x5216fa(0x80a)]||_0x105d8b?.[_0x5216fa(0x4f8)],'owner':this['instance'][_0x5216fa(0x834)]});this[_0x5216fa(0x856)]('contacts.upsert',_0x4b6966),await this[_0x5216fa(0x37d)][_0x5216fa(0x4b7)]['insert'](_0x4b6966);},'contacts.update':async(_0x1d1781,_0x293803)=>{const _0x2699a1=_0x1a32cb;let _0x5295eb=[];for await(let _0x166b71 of _0x1d1781)_0x5295eb[_0x2699a1(0x304)]({'_id':_0x166b71['id'],'pushName':_0x166b71?.['name']??_0x166b71?.[_0x2699a1(0x4f8)],'owner':this[_0x2699a1(0x240)][_0x2699a1(0x834)]});this[_0x2699a1(0x856)]('contacts.update',_0x5295eb);}},this[_0x1a32cb(0x60a)]={'messaging-history.set':async({messages:_0x46161d,chats:_0x3cb425,isLatest:_0x2b105b},_0x55919d)=>{const _0x135dac=_0x1a32cb;if(_0x2b105b){let _0x59dd3e=await Promise[_0x135dac(0x428)](_0x3cb425[_0x135dac(0x3c7)](async _0x154672=>({'_id':_0x154672['id'],'owner':this[_0x135dac(0x240)][_0x135dac(0x834)],'group':_0x154672['id'][_0x135dac(0x37c)]('@g.us'),'name':_0x154672['name']||_0x154672[_0x135dac(0x623)]||_0x154672['username']||null,'contactname':null,'lastmsg':_0x154672[_0x135dac(0x741)]&&_0x154672[_0x135dac(0x741)][_0x135dac(0x830)]()[_0x135dac(0x30c)]<0xd?_0x154672['conversationTimestamp']*0x3e8:_0x154672[_0x135dac(0x741)]||null,'archived':_0x154672[_0x135dac(0x445)]||!0x1,'unreadcount':_0x154672[_0x135dac(0x444)]||0x0,'ephemeralExpiration':_0x154672[_0x135dac(0x248)]||0x0,'muteEndTime':_0x154672['muteEndTime']||0x0})));this['sendDataWebhook']('chats.set',_0x59dd3e),await this['upsertChats'](_0x59dd3e,_0x55919d);}let _0x3d6ee2=[],_0xb0d753=Date[_0x135dac(0x77c)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x1e343a]of Object[_0x135dac(0x58a)](_0x46161d)){if(_0x1e343a['message']?.[_0x135dac(0x6f6)]||_0x1e343a['message']?.['senderKeyDistributionMessage']||!_0x1e343a['message']||_0x1e343a[_0x135dac(0x77d)][_0x135dac(0x6e1)]===_0x135dac(0x82a)||(ks['default']['isLong'](_0x1e343a?.[_0x135dac(0x18b)])&&(_0x1e343a['messageTimestamp']=_0x1e343a['messageTimestamp']?.[_0x135dac(0x4a0)]()),_0x1e343a[_0x135dac(0x18b)]&&_0x1e343a[_0x135dac(0x18b)][_0x135dac(0x830)]()[_0x135dac(0x30c)]<0xd&&(_0x1e343a[_0x135dac(0x18b)]=_0x1e343a[_0x135dac(0x18b)]*0x3e8),_0x1e343a[_0x135dac(0x18b)]<_0xb0d753))continue;let _0xa83c8a=(0x0,w[_0x135dac(0x580)])(_0x1e343a[_0x135dac(0x552)]),_0x4fb3cc=(0x0,w[_0x135dac(0x802)])(_0xa83c8a),{message_normalized:_0x315cfc}=this['normalizeMessage'](_0xa83c8a,_0x4fb3cc,null);Object[_0x135dac(0x27b)](_0x315cfc)['length']>0x0&&_0x3d6ee2['push']({'_id':_0x1e343a[_0x135dac(0x77d)]['id'],'key':_0x1e343a[_0x135dac(0x77d)],'pushName':_0x1e343a[_0x135dac(0x364)],'participant':_0x1e343a['participant'],'message':_0xa83c8a,'messageType':_0x4fb3cc,'message_normalized':{'key':_0x1e343a[_0x135dac(0x77d)],'pushName':_0x1e343a[_0x135dac(0x364)],'messageTimestamp':_0x1e343a[_0x135dac(0x18b)],..._0x315cfc},'messageTimestamp':_0x1e343a['messageTimestamp'],'owner':this['instance'][_0x135dac(0x834)]});}_0x55919d['ENABLED']&&_0x3d6ee2[_0x135dac(0x30c)]>0x0&&(this[_0x135dac(0x44e)][_0x135dac(0x188)](this[_0x135dac(0x82b)]+'\x20('+this[_0x135dac(0x240)]['wuid']+_0x135dac(0x309)+_0x3d6ee2[_0x135dac(0x30c)]+_0x135dac(0x56f)+this[_0x135dac(0x240)]['wuid']+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this['repository']['message'][_0x135dac(0x6a2)]([..._0x3d6ee2],this['instance']['wuid'])),this[_0x135dac(0x856)](_0x135dac(0x4ce),[..._0x3d6ee2]),_0x46161d=void 0x0;},'messages.upsert':async({messages:_0x5daf9a,type:_0x2a7830},_0x5c7cb9)=>{const _0x1db7ed=_0x1a32cb;for(let _0xfc8ec4 of _0x5daf9a){if(this['localWebhook']?.['groups_ignore']&&_0xfc8ec4['key'][_0x1db7ed(0x6e1)][_0x1db7ed(0x19a)]('@g.us')){this[_0x1db7ed(0x44e)][_0x1db7ed(0x188)](this[_0x1db7ed(0x82b)]+'\x20('+this['instance']['wuid']+_0x1db7ed(0x610));return;}if(_0xfc8ec4[_0x1db7ed(0x4e3)]&&_0xfc8ec4[_0x1db7ed(0x4e3)][0x0]===_0x1db7ed(0x4f1)){console['error'](_0x1db7ed(0x129)),Ft[_0xfc8ec4[_0x1db7ed(0x77d)]['id']]=_0xfc8ec4,this[_0x1db7ed(0x6be)](_0xfc8ec4,0x0);return;}if(Ft[_0xfc8ec4[_0x1db7ed(0x77d)]['id']]&&(console['error'](_0x1db7ed(0x61a)),delete Ft[_0xfc8ec4['key']['id']]),_0x2a7830!==_0x1db7ed(0x3d7)||!_0xfc8ec4?.[_0x1db7ed(0x552)]||_0xfc8ec4[_0x1db7ed(0x552)]?.[_0x1db7ed(0x6f6)]||_0xfc8ec4[_0x1db7ed(0x552)][_0x1db7ed(0x2f1)]||_0xfc8ec4[_0x1db7ed(0x77d)][_0x1db7ed(0x6e1)]===_0x1db7ed(0x82a))return;let _0x422100=null,_0x1d8eed=null;try{_0x422100=await this[_0x1db7ed(0x21a)](_0xfc8ec4),_0x1d8eed=_0x422100?_0x422100[_0x1db7ed(0x650)](','):null;}catch(_0x58d6d0){this[_0x1db7ed(0x44e)][_0x1db7ed(0x188)](this['instanceName']+'\x20('+this[_0x1db7ed(0x240)]['wuid']+'):\x20'+(_0x58d6d0 instanceof Error?_0x58d6d0[_0x1db7ed(0x552)]:JSON[_0x1db7ed(0x3cc)](_0x58d6d0,null,0x2))),_0x1d8eed=_0x1db7ed(0x325);}this[_0x1db7ed(0x18f)]['sendPresenceUpdate'](_0x1db7ed(0x3da)),ks['default'][_0x1db7ed(0x60c)](_0xfc8ec4[_0x1db7ed(0x18b)])&&(_0xfc8ec4[_0x1db7ed(0x18b)]=_0xfc8ec4[_0x1db7ed(0x18b)]?.[_0x1db7ed(0x4a0)]()),_0xfc8ec4[_0x1db7ed(0x18b)]&&_0xfc8ec4[_0x1db7ed(0x18b)][_0x1db7ed(0x830)]()[_0x1db7ed(0x30c)]<0xd&&(_0xfc8ec4[_0x1db7ed(0x18b)]=_0xfc8ec4[_0x1db7ed(0x18b)]*0x3e8);let _0x3df3dc=_0xfc8ec4[_0x1db7ed(0x552)],_0x97d9d8=(0x0,w['normalizeMessageContent'])(_0x3df3dc),_0x21c44d=(0x0,w['getContentType'])(_0x97d9d8),{messageContent:_0x10c52f,message_normalized:_0x53bda6}=this[_0x1db7ed(0x528)](_0x97d9d8,_0x21c44d,_0x1d8eed);_0x21c44d===_0x1db7ed(0x6f6)&&_0x10c52f?.[_0x1db7ed(0x26e)]&&(_0x21c44d='editedMessage');let _0x31138c,_0x2ce435=_0xfc8ec4[_0x1db7ed(0x77d)][_0x1db7ed(0x6e1)][_0x1db7ed(0x37c)]('@g.us');if(_0xfc8ec4[_0x1db7ed(0x77d)][_0x1db7ed(0x31d)])_0x31138c=this[_0x1db7ed(0x240)][_0x1db7ed(0x224)];else{let _0x401b5b=_0x2ce435?_0xfc8ec4['key']['participant']:_0xfc8ec4[_0x1db7ed(0x77d)][_0x1db7ed(0x6e1)];_0x31138c=(await this[_0x1db7ed(0x2b4)](_0x401b5b,_0xfc8ec4['pushName'],!0x1))[_0x1db7ed(0x584)][_0x1db7ed(0x4d1)];}let _0x3b6a3d={'_id':_0xfc8ec4[_0x1db7ed(0x77d)]['id'],'key':_0xfc8ec4['key'],'isGroup':_0x2ce435,'profilePictureUrl':_0x31138c,'pushName':_0xfc8ec4[_0x1db7ed(0x364)],'message':_0x97d9d8,'messageType':_0x21c44d,'message_normalized':{'key':_0xfc8ec4[_0x1db7ed(0x77d)],'pushName':_0xfc8ec4['pushName'],'messageTimestamp':_0xfc8ec4[_0x1db7ed(0x18b)],'source':(0x0,w[_0x1db7ed(0x52f)])(_0xfc8ec4[_0x1db7ed(0x77d)]['id']),..._0x53bda6},'messageTimestamp':_0xfc8ec4['messageTimestamp'],'owner':this[_0x1db7ed(0x240)][_0x1db7ed(0x834)],'source':(0x0,w[_0x1db7ed(0x52f)])(_0xfc8ec4[_0x1db7ed(0x77d)]['id']),'expiration':_0x10c52f?.[_0x1db7ed(0x722)]?.['expiration']||0x0};_0x10c52f||(this['logger']['error'](_0x1db7ed(0x500)),this['logger']['error'](_0x3b6a3d)),this[_0x1db7ed(0x44e)][_0x1db7ed(0x85b)](this[_0x1db7ed(0x82b)]+'\x20('+this[_0x1db7ed(0x240)]['wuid']+'):\x20'+(_0x3b6a3d[_0x1db7ed(0x77d)]?.[_0x1db7ed(0x31d)]?_0x1db7ed(0x6fe):_0x1db7ed(0x710))+'\x20['+_0x3b6a3d[_0x1db7ed(0x77d)]?.[_0x1db7ed(0x6e1)]['replace']('@s.whatsapp.net','')+_0x1db7ed(0x1f3)+_0x3b6a3d[_0x1db7ed(0x390)]+')'),_0x3b6a3d[_0x1db7ed(0x3a3)]?.['text']&&this[_0x1db7ed(0x44e)][_0x1db7ed(0x85b)](_0xfc8ec4['key']['id']+':\x20'+_0x3b6a3d[_0x1db7ed(0x3a3)]?.['text']),await this[_0x1db7ed(0x37d)][_0x1db7ed(0x552)][_0x1db7ed(0x6a2)]([_0x3b6a3d],this[_0x1db7ed(0x240)][_0x1db7ed(0x834)]),this[_0x1db7ed(0x856)](_0x1db7ed(0x3ad),_0x3b6a3d),j(this[_0x1db7ed(0x82b)],_0x1db7ed(0x6a7),{'message':_0x3b6a3d}),_0xfc8ec4['key'][_0x1db7ed(0x6e1)]!==_0x1db7ed(0x82a)&&await this['updateChatWithMessage'](_0x5c7cb9,_0x3b6a3d,'MESSAGES_UPSERT');}},'messages.update':async(_0x2bfd1a,_0x9d6013)=>{const _0x4c2fc0=_0x1a32cb;let _0x400b16={0x0:'ERROR',0x1:'PENDING',0x2:'SERVER_ACK',0x3:'DELIVERY_ACK',0x4:'READ',0x5:_0x4c2fc0(0x6c6)};for await(let {key:_0x4b3f28,update:_0x7d0712}of _0x2bfd1a){if(this[_0x4c2fc0(0x4c6)]?.[_0x4c2fc0(0x28e)]&&_0x4b3f28[_0x4c2fc0(0x6e1)][_0x4c2fc0(0x19a)](_0x4c2fc0(0x703))){this[_0x4c2fc0(0x44e)][_0x4c2fc0(0x188)](this[_0x4c2fc0(0x82b)]+'\x20('+this[_0x4c2fc0(0x240)][_0x4c2fc0(0x834)]+_0x4c2fc0(0x780));return;}if(_0x4b3f28[_0x4c2fc0(0x6e1)]!==_0x4c2fc0(0x82a)){let _0x562863=Date[_0x4c2fc0(0x77c)](),_0x7db96e;_0x7d0712[_0x4c2fc0(0x552)]===null&&_0x7d0712[_0x4c2fc0(0x1ac)]===void 0x0?_0x7db96e=_0x4c2fc0(0x50b):_0x7db96e=_0x400b16[_0x7d0712['status']];let _0xc0dae5=_0x4b3f28[_0x4c2fc0(0x6e1)]['replace'](/:\d{1,2}@/g,'@'),_0xbfa731={..._0x4b3f28,'remoteJid':_0xc0dae5,'status':_0x7db96e,'datetime':_0x562863,'owner':this[_0x4c2fc0(0x240)][_0x4c2fc0(0x834)]};this['sendDataWebhook'](_0x4c2fc0(0x721),_0xbfa731),await this['updateMessage'](_0x4b3f28,_0xbfa731);}}},'labels.association':async({type:_0x25741c,association:_0xa99370})=>{const _0x2fa8f7=_0x1a32cb;if(_0xa99370[_0x2fa8f7(0x14f)]==='label_jid'){let _0x496147,_0x366ff4=0x0;for(;!_0x496147&&_0x366ff4<this['delayChatLabel_MAX_RETRIES'];)_0x496147=await this[_0x2fa8f7(0x37d)]['chat'][_0x2fa8f7(0x349)]({'where':{'_id':_0xa99370[_0x2fa8f7(0x423)]}},this['instance'][_0x2fa8f7(0x834)]),_0x496147||(_0x366ff4++,this[_0x2fa8f7(0x44e)][_0x2fa8f7(0x653)](this[_0x2fa8f7(0x82b)]+'\x20('+this[_0x2fa8f7(0x240)]['wuid']+'):\x20Chat\x20'+_0xa99370[_0x2fa8f7(0x423)]+_0x2fa8f7(0x11f)+this[_0x2fa8f7(0x330)]+'ms\x20(tentativa\x20'+_0x366ff4+'/'+this[_0x2fa8f7(0x440)]+')'),await this[_0x2fa8f7(0x456)](this['delayChatLabel_RETRY_DELAY_MS']));if(!_0x496147){this[_0x2fa8f7(0x44e)][_0x2fa8f7(0x4f6)](_0x2fa8f7(0x334)+_0xa99370['chatId']+'\x20depois\x20'+this[_0x2fa8f7(0x440)]+_0x2fa8f7(0x3ea));return;}switch(_0x25741c){case _0x2fa8f7(0x7c8):console['log'](_0xa99370),await this[_0x2fa8f7(0x37d)][_0x2fa8f7(0x413)][_0x2fa8f7(0x191)]({'where':{'_id':_0xa99370[_0x2fa8f7(0x423)]}},{'leadInfo.etiquetas':_0xa99370[_0x2fa8f7(0x451)]},this[_0x2fa8f7(0x240)]['wuid'],void 0x0,'$addToSet');break;case'remove':console[_0x2fa8f7(0x85b)](_0xa99370),await this[_0x2fa8f7(0x37d)][_0x2fa8f7(0x413)][_0x2fa8f7(0x191)]({'where':{'_id':_0xa99370[_0x2fa8f7(0x423)]}},{'leadInfo.etiquetas':_0xa99370['labelId']},this['instance'][_0x2fa8f7(0x834)],void 0x0,'$pull');break;default:this[_0x2fa8f7(0x44e)][_0x2fa8f7(0x4f6)](_0x2fa8f7(0x5a6)+_0x25741c+']');}}},'labels.edit':async _0x22813a=>{const _0x345ed3=_0x1a32cb;if(!_0x22813a||!_0x22813a['id']){this[_0x345ed3(0x44e)][_0x345ed3(0x4f6)]('Rótulo\x20inválido\x20ou\x20sem\x20ID.');return;}if(!_0x22813a[_0x345ed3(0x25f)]){let _0x552171=['#ff9484',_0x345ed3(0x2d3),_0x345ed3(0x159),_0x345ed3(0x382),'#9ab6c1',_0x345ed3(0x700),_0x345ed3(0x38c),_0x345ed3(0x757),_0x345ed3(0x326),_0x345ed3(0x669),'#01d0e2','#ffc5c7','#92ceac',_0x345ed3(0x200),_0x345ed3(0x4ea),_0x345ed3(0x827),'#ffae04',_0x345ed3(0x186),_0x345ed3(0x839),'#9568cf'],_0x4a5b90;typeof _0x22813a[_0x345ed3(0x362)]=='number'&&_0x22813a[_0x345ed3(0x362)]>=0x0&&_0x22813a[_0x345ed3(0x362)]<_0x552171['length']?_0x4a5b90=_0x552171[_0x22813a[_0x345ed3(0x362)]]:(this[_0x345ed3(0x44e)][_0x345ed3(0x4f6)]('Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20'+_0x22813a['color']),_0x4a5b90='#000000');let _0x596610={'_id':_0x22813a['id'],'colorHex':_0x4a5b90,'color':_0x22813a?.['color'],'name':_0x22813a?.[_0x345ed3(0x80a)],'owner':this[_0x345ed3(0x240)][_0x345ed3(0x834)]};await this[_0x345ed3(0x37d)][_0x345ed3(0x4da)][_0x345ed3(0x191)]({'where':{'_id':_0x22813a['id']}},_0x596610,this[_0x345ed3(0x240)][_0x345ed3(0x834)]),this[_0x345ed3(0x44e)]['info'](this[_0x345ed3(0x82b)]+'\x20('+this[_0x345ed3(0x240)][_0x345ed3(0x834)]+_0x345ed3(0x407)+_0x22813a);}_0x22813a[_0x345ed3(0x25f)]&&(await this[_0x345ed3(0x37d)][_0x345ed3(0x4da)]['delete']({'where':{'_id':_0x22813a['id']}},this[_0x345ed3(0x240)][_0x345ed3(0x834)]),this[_0x345ed3(0x44e)]['info'](_0x345ed3(0x730)+_0x22813a['id']));}},this[_0x1a32cb(0x254)]={'groups.upsert':async _0x451c0c=>{const _0x5c6a9c=_0x1a32cb;this['localWebhook']?.[_0x5c6a9c(0x28e)]||this[_0x5c6a9c(0x856)](_0x5c6a9c(0x6a4),_0x451c0c);for(let _0x5cc28a of _0x451c0c)await this['updateGroupWebhook'](_0x5cc28a);},'groups.update':async _0x354875=>{const _0x18b945=_0x1a32cb;this[_0x18b945(0x4c6)]?.[_0x18b945(0x28e)]||this[_0x18b945(0x856)](_0x18b945(0x25d),_0x354875);for(let _0x45b923 of _0x354875)await this[_0x18b945(0x3e7)](_0x45b923);},'group-participants.update':async _0x2d49cd=>{const _0x402c1d=_0x1a32cb;this[_0x402c1d(0x4c6)]?.[_0x402c1d(0x28e)]||this[_0x402c1d(0x856)](_0x402c1d(0x1c1),_0x2d49cd),await this[_0x402c1d(0x65b)](_0x2d49cd);}},this['delayChatLabel_MAX_RETRIES']=0x5,this[_0x1a32cb(0x330)]=0x1388,this[_0x1a32cb(0x21a)]=async _0x16a0dd=>{const _0x3be31e=_0x1a32cb;if(_0x16a0dd[_0x3be31e(0x552)]?.[_0x3be31e(0x171)]){let _0x5cd930=await this['getMessage'](_0x16a0dd[_0x3be31e(0x552)][_0x3be31e(0x171)]['pollCreationMessageKey'],!0x0);if(_0x5cd930){let _0x1e6397=_0x5cd930[_0x3be31e(0x77d)][_0x3be31e(0x31d)]?this[_0x3be31e(0x240)]['wuid']+'@s.whatsapp.net':_0x5cd930[_0x3be31e(0x77d)][_0x3be31e(0x55e)]||_0x5cd930[_0x3be31e(0x77d)][_0x3be31e(0x6e1)],_0xc2cd28=_0x5cd930[_0x3be31e(0x77d)]['id'],_0x3ec2f5=_0x5cd930[_0x3be31e(0x552)],_0x33bbc4=Buffer['from'](_0x3ec2f5[_0x3be31e(0x590)]['messageSecret'][_0x3be31e(0x830)](_0x3be31e(0x869)),_0x3be31e(0x869)),_0xfb3d29=(0x0,w['decryptPollVote'])(_0x16a0dd[_0x3be31e(0x552)][_0x3be31e(0x171)][_0x3be31e(0x5c4)],{'pollCreatorJid':_0x1e6397,'pollMsgId':_0xc2cd28,'pollEncKey':_0x33bbc4,'voterJid':_0x16a0dd[_0x3be31e(0x77d)][_0x3be31e(0x31d)]?this[_0x3be31e(0x240)]['wuid']+_0x3be31e(0x559):_0x16a0dd['key'][_0x3be31e(0x6e1)]['endsWith']('g.us')?_0x16a0dd['key']['participant']:_0x16a0dd[_0x3be31e(0x77d)][_0x3be31e(0x6e1)]}),_0x2141c0=[],_0x4de948=_0xfb3d29[_0x3be31e(0x406)][_0x3be31e(0x3c7)](_0x270995=>Buffer[_0x3be31e(0x736)](_0x270995)[_0x3be31e(0x830)](_0x3be31e(0x869)));for(let {optionName:_0x28a4ab}of _0x3ec2f5[_0x3be31e(0x5a5)]?.[_0x3be31e(0x697)]||_0x3ec2f5[_0x3be31e(0x674)]?.[_0x3be31e(0x697)]||_0x3ec2f5[_0x3be31e(0x6af)]?.[_0x3be31e(0x697)])_0x4de948[_0x3be31e(0x859)]((0x0,w[_0x3be31e(0x600)])(Buffer['from'](_0x28a4ab))['toString'](_0x3be31e(0x869)))>-0x1&&_0x2141c0[_0x3be31e(0x304)](_0x28a4ab);return _0x2141c0;}}return null;},this[_0x1a32cb(0x528)]=(_0xd21a16,_0x334509,_0x470bd3)=>{const _0x4020d1=_0x1a32cb;try{let _0x43f9a6=_0xd21a16?(0x0,w[_0x4020d1(0x469)])(_0xd21a16)[_0x334509]:void 0x0,_0x7831ed={},_0x18585e=null,_0x55e206=null,_0x3fe961=null;_0x334509===_0x4020d1(0x6f6)&&_0x43f9a6?.[_0x4020d1(0x26e)]&&(_0x334509=(0x0,w[_0x4020d1(0x802)])(_0x43f9a6[_0x4020d1(0x26e)]),_0x18585e=_0xd21a16['protocolMessage'][_0x4020d1(0x77d)]['id'],_0x43f9a6=_0xd21a16['protocolMessage'][_0x4020d1(0x26e)][_0x334509]),_0xd21a16[_0x334509]?.[_0x4020d1(0x722)]?.[_0x4020d1(0x828)]&&_0xd21a16[_0x334509]?.[_0x4020d1(0x722)]?.[_0x4020d1(0x541)]&&(_0x55e206=_0xd21a16[_0x334509][_0x4020d1(0x722)][_0x4020d1(0x828)]),_0xd21a16[_0x4020d1(0x3ae)]&&(_0x3fe961=_0xd21a16[_0x4020d1(0x3ae)][_0x4020d1(0x77d)]['id']);let _0x886f73;if(_0x43f9a6&&typeof _0x43f9a6==_0x4020d1(0x7e5)&&_0x4020d1(0x85e)in _0x43f9a6&&({pollCreationMessageKey:_0x886f73}=_0x43f9a6),_0x334509===_0x4020d1(0x5a5)||_0x334509===_0x4020d1(0x6af)||_0x334509==='pollCreationMessageV3'){let _0x2877d8=_0x43f9a6['options'][_0x4020d1(0x3c7)](_0x8934ba=>_0x8934ba[_0x4020d1(0x7b1)])[_0x4020d1(0x650)]('|');_0x7831ed[_0x4020d1(0x15e)]=_0x2877d8;}let _0x1bd6e1='';if(_0x43f9a6&&(_0x1bd6e1+=_0x43f9a6[_0x4020d1(0x80a)]?_0x43f9a6[_0x4020d1(0x80a)]:'',_0x1bd6e1+=_0x43f9a6[_0x4020d1(0x276)]?'\x20'+_0x43f9a6[_0x4020d1(0x276)]:'',_0x1bd6e1+=_0x43f9a6[_0x4020d1(0x1cf)]?'\x20'+_0x43f9a6[_0x4020d1(0x1cf)]:'',_0x1bd6e1+=_0x43f9a6[_0x4020d1(0x623)]?'\x20'+_0x43f9a6[_0x4020d1(0x623)]:''),_0x334509===_0x4020d1(0x23a)){_0x1bd6e1=(_0x43f9a6['title']||'')+'\x0a'+(_0x43f9a6[_0x4020d1(0x4db)]||'')+'\x0a'+(_0x43f9a6[_0x4020d1(0x775)]||'');let _0x5ae1c9=this[_0x4020d1(0x64f)](_0x43f9a6[_0x4020d1(0x4f7)]);_0x7831ed[_0x4020d1(0x15e)]=_0x5ae1c9;}if(_0x334509===_0x4020d1(0x372)&&(_0x470bd3=_0x43f9a6[_0x4020d1(0x49c)]),_0x43f9a6&&_0x43f9a6['vcard']){let _0x5b9035=this[_0x4020d1(0x71a)](JSON[_0x4020d1(0x3cc)](_0x43f9a6[_0x4020d1(0x287)],null,0x2));_0x1bd6e1=_0x1bd6e1+'\x0a'+_0x5b9035;}if(_0x43f9a6){let {sections:_0x58f9e2,listType:_0x3883a5,displayName:_0x14568c,vcard:_0x59ec67,contactVcard:_0x2aac41,name:_0xe9de1e,caption:_0x44f47d,conversation:_0x30984f,pollCreationMessageKey:_0x280e6d,footerText:_0x582ff5,contentText:_0x5f5609,pageCount:_0x2c52a3,headerType:_0x30a1dc,isAvatar:_0x45db2f,isAnimated:_0x21b19e,fallbackLc:_0x3647bf,fallbackLg:_0x3069c,namespace:_0xfef23f,elementName:_0x51c9cb,localizableParams:_0x2b09e3,viewOnce:_0x528283,height:_0x5a02f3,width:_0x4591c6,key:_0x43d722,firstScanLength:_0x5adce4,firstScanSidecar:_0x3dfcfd,gifPlayback:_0x3d196e,gifAttribution:_0x4d9bc9,midQualityFileSha256:_0x475f89,scansSidecar:_0x16e7de,streamingSidecar:_0x4cfd59,thumbnailHeight:_0x2a9b99,thumbnailWidth:_0x225b2e,thumbnailEncSha256:_0x3b248f,thumbnailDirectPath:_0xfd44c0,canonicalUrl:_0x553b7c,matchedText:_0x5e08eb,previewType:_0x41e15f,thumbnailSha256:_0x34dc9b,deviceListMetadataVersion:_0x4cc69e,inviteLinkGroupTypeV2:_0x367e81,interactiveAnnotations:_0x22bff3,scanLengths:_0x48ae06,jpegThumbnail:_0x4fd8d5,url:_0x352d10,mediaKeyTimestamp:_0xda4302,waveform:_0x4ade1,stickerSentTs:_0x410dbb,firstFrameLength:_0x9c2309,fileEncSha256:_0x1f807b,contextInfo:_0x32a596,firstFrameSidecar:_0x1c1a49,directPath:_0x144606,fileSha256:_0x8bcb80,mediaKey:_0x4dd040,senderTimestampMs:_0x1fbc7e,..._0x25da17}=_0x43f9a6;(_0x334509===_0x4020d1(0x23a)||_0x334509==='listResponseMessage')&&(delete _0x25da17['title'],delete _0x25da17[_0x4020d1(0x4db)]),typeof _0x43f9a6==_0x4020d1(0x525)?_0x7831ed={'text':_0x43f9a6,'type':_0x334509||_0x4020d1(0x1cf),..._0x18585e&&{'edited':_0x18585e},..._0x55e206&&{'quoted':_0x55e206},..._0x3fe961&&{'reaction':_0x3fe961}}:_0x7831ed={'text':_0x1bd6e1,..._0x25da17,..._0x334509==='pollUpdateMessage'?{'poll_id':_0x43f9a6[_0x4020d1(0x85e)]['id'],'quoted':_0x43f9a6[_0x4020d1(0x85e)]['id'],'vote':_0x470bd3}:{},..._0x334509===_0x4020d1(0x372)?{'vote':_0x470bd3}:{},'type':_0x334509,..._0x18585e&&{'edited':_0x18585e},..._0x55e206&&{'quoted':_0x55e206},..._0x3fe961&&{'reaction':_0x3fe961},...(_0x334509===_0x4020d1(0x5a5)||_0x334509===_0x4020d1(0x6af)||_0x334509===_0x4020d1(0x674)||_0x334509==='listMessage')&&{'convertedOptions':_0x7831ed['convertedOptions']}};}return{'messageType':_0x334509,'messageContent':_0x43f9a6,'message_normalized':_0x7831ed};}catch(_0x210a0f){return this[_0x4020d1(0x44e)][_0x4020d1(0x4f6)](_0x4020d1(0x1f2)+_0x210a0f),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x1a32cb(0x41d)](),this[_0x1a32cb(0x240)]['qrcode']={'count':0x0},this[_0x1a32cb(0x240)]['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x4ac10f(0x82b)](_0x471f26){const _0x563ace=a0_0x4ac10f;if(!_0x471f26){this['instance']['name']=(0x0,Ao['v4'])();return;}this[_0x563ace(0x240)][_0x563ace(0x80a)]=_0x471f26,this[_0x563ace(0x856)]('status.instance',{'instance':this[_0x563ace(0x240)]['name'],'status':_0x563ace(0x52d)});}get[a0_0x4ac10f(0x82b)](){const _0x45b5c1=a0_0x4ac10f;return this[_0x45b5c1(0x240)]['name'];}get[a0_0x4ac10f(0x834)](){const _0xcfccf1=a0_0x4ac10f;return this[_0xcfccf1(0x240)][_0xcfccf1(0x834)];}async['getProfileName'](){const _0x22056e=a0_0x4ac10f;let _0x333155=this[_0x22056e(0x18f)][_0x22056e(0x21d)]?.[_0x22056e(0x80a)]??this['client'][_0x22056e(0x21d)]?.[_0x22056e(0x4f8)];if(!_0x333155){if(this[_0x22056e(0x6de)]['get'](_0x22056e(0x815))[_0x22056e(0x62e)]){let _0x1069d1=await R['getClient']()['db'](this['configService']['get'](_0x22056e(0x815))[_0x22056e(0x338)][_0x22056e(0x83a)]+'-instances')['collection'](this['instanceName'])['findOne']({'_id':_0x22056e(0x4bd)});if(_0x1069d1){let _0xce7b22=JSON[_0x22056e(0x1af)](JSON[_0x22056e(0x3cc)](_0x1069d1),w['BufferJSON'][_0x22056e(0x3cb)]);_0x333155=_0xce7b22['me']?.[_0x22056e(0x80a)]||_0xce7b22['me']?.[_0x22056e(0x4f8)];}}else{if((0x0,Pe['existsSync'])((0x0,U[_0x22056e(0x650)])(be,this[_0x22056e(0x82b)],_0x22056e(0x38f)))){let _0x168fdd=JSON[_0x22056e(0x1af)]((0x0,Pe[_0x22056e(0x5a1)])((0x0,U[_0x22056e(0x650)])(be,this[_0x22056e(0x82b)],'creds.json'),{'encoding':_0x22056e(0x530)}));_0x333155=_0x168fdd['me']?.[_0x22056e(0x80a)]||_0x168fdd['me']?.[_0x22056e(0x4f8)];}}}return _0x333155;}get[a0_0x4ac10f(0x224)](){return this['instance']['profilePictureUrl'];}get[a0_0x4ac10f(0x7e2)](){const _0x3bbc8f=a0_0x4ac10f;return this[_0x3bbc8f(0x240)]['qrcode']?.[_0x3bbc8f(0x7f3)]?{'pairingCode':this[_0x3bbc8f(0x240)][_0x3bbc8f(0x3b9)]?.[_0x3bbc8f(0x7f3)]}:{'code':this[_0x3bbc8f(0x240)][_0x3bbc8f(0x3b9)]?.[_0x3bbc8f(0x51f)],'base64':this[_0x3bbc8f(0x240)][_0x3bbc8f(0x3b9)]?.[_0x3bbc8f(0x7b9)]};}async[a0_0x4ac10f(0x46b)](){const _0x374560=a0_0x4ac10f;let _0x510c4d=await this[_0x374560(0x37d)][_0x374560(0x36d)][_0x374560(0x7c1)](this[_0x374560(0x82b)]);this[_0x374560(0x4c6)][_0x374560(0x690)]=_0x510c4d?.[_0x374560(0x690)],this[_0x374560(0x4c6)][_0x374560(0x516)]=_0x510c4d?.[_0x374560(0x516)],this[_0x374560(0x4c6)][_0x374560(0x1df)]=_0x510c4d?.[_0x374560(0x1df)],this[_0x374560(0x4c6)][_0x374560(0x31c)]=_0x510c4d?.[_0x374560(0x31c)],this[_0x374560(0x4c6)][_0x374560(0x442)]=_0x510c4d?.[_0x374560(0x442)],this[_0x374560(0x4c6)]['SEND_MESSAGE']=_0x510c4d?.[_0x374560(0x164)],this[_0x374560(0x4c6)][_0x374560(0x33a)]=_0x510c4d?.[_0x374560(0x33a)],this[_0x374560(0x4c6)][_0x374560(0x3c9)]=_0x510c4d?.[_0x374560(0x3c9)],this[_0x374560(0x4c6)][_0x374560(0x694)]=_0x510c4d?.[_0x374560(0x694)],this[_0x374560(0x4c6)][_0x374560(0x81b)]=_0x510c4d?.[_0x374560(0x81b)],this[_0x374560(0x4c6)][_0x374560(0x3c4)]=_0x510c4d?.[_0x374560(0x3c4)],this['localWebhook'][_0x374560(0x30e)]=_0x510c4d?.['CHATS_SET'],this[_0x374560(0x4c6)][_0x374560(0x681)]=_0x510c4d?.['CHATS_UPSERT'],this[_0x374560(0x4c6)][_0x374560(0x3c3)]=_0x510c4d?.[_0x374560(0x3c3)],this['localWebhook'][_0x374560(0x5d1)]=_0x510c4d?.[_0x374560(0x5d1)],this[_0x374560(0x4c6)][_0x374560(0x2d7)]=_0x510c4d?.[_0x374560(0x2d7)],this[_0x374560(0x4c6)][_0x374560(0x50c)]=_0x510c4d?.[_0x374560(0x50c)],this['localWebhook'][_0x374560(0x569)]=_0x510c4d?.[_0x374560(0x569)],this['localWebhook'][_0x374560(0x61e)]=_0x510c4d?.[_0x374560(0x61e)],this[_0x374560(0x4c6)][_0x374560(0x5e1)]=_0x510c4d?.[_0x374560(0x5e1)],this[_0x374560(0x4c6)][_0x374560(0x468)]=_0x510c4d?.[_0x374560(0x468)],this[_0x374560(0x4c6)][_0x374560(0x28e)]=_0x510c4d?.[_0x374560(0x28e)];}async['setWebhook'](_0x495e37){const _0x53730d=a0_0x4ac10f;let _0x48c2b7=[_0x53730d(0x261),_0x53730d(0x690),_0x53730d(0x516),_0x53730d(0x1df),'STATUS_INSTANCE',_0x53730d(0x442),_0x53730d(0x3c9),'MESSAGES_UPSERT',_0x53730d(0x164),_0x53730d(0x694),_0x53730d(0x81b),_0x53730d(0x3c4),_0x53730d(0x30e),_0x53730d(0x681),_0x53730d(0x3c3),_0x53730d(0x5d1),_0x53730d(0x2d7),'CONTACTS_UPSERT',_0x53730d(0x569),'PRESENCE_UPDATE',_0x53730d(0x5e1),'CONNECTION_UPDATE',_0x53730d(0x28e)],_0x4f9ebb={};return _0x48c2b7[_0x53730d(0x843)](_0x1bec13=>{_0x495e37[_0x1bec13]!==void 0x0&&(_0x4f9ebb[_0x1bec13]=_0x495e37[_0x1bec13]);}),_0x4f9ebb[_0x53730d(0x690)]&&(_0x4f9ebb[_0x53730d(0x690)]=_0x4f9ebb[_0x53730d(0x690)][_0x53730d(0x17d)]()),await this[_0x53730d(0x37d)][_0x53730d(0x36d)]['create'](_0x4f9ebb,this[_0x53730d(0x82b)]),Object['assign'](this[_0x53730d(0x4c6)],_0x4f9ebb),await this[_0x53730d(0x37d)][_0x53730d(0x36d)][_0x53730d(0x7c1)](this[_0x53730d(0x82b)]);}async[a0_0x4ac10f(0x755)](){const _0x43160a=a0_0x4ac10f;return await this[_0x43160a(0x37d)][_0x43160a(0x36d)]['find'](this[_0x43160a(0x82b)]);}async['sendDataWebhook'](_0x435464,_0x3d5188){const _0x41d748=a0_0x4ac10f;let _0x571425=_0x435464[_0x41d748(0x527)](/[\.-]/gm,'_')[_0x41d748(0x46a)](),_0x5ba236=this[_0x41d748(0x4c6)][_0x41d748(0x516)]&&(0x0,k[_0x41d748(0x3db)])(this[_0x41d748(0x4c6)][_0x41d748(0x690)])?this[_0x41d748(0x4c6)][_0x41d748(0x690)]+(this['localWebhook'][_0x41d748(0x1df)]?this[_0x41d748(0x5f3)][_0x435464]:''):null,_0xb4c6de=this[_0x41d748(0x4c6)][_0x571425],_0xc10d4e=ue&&ue[_0x41d748(0x516)]&&(0x0,k[_0x41d748(0x3db)])(ue[_0x41d748(0x690)])?ue[_0x41d748(0x690)]+(ue['local_map']?this[_0x41d748(0x5f3)][_0x435464]:''):null,_0xf9743=ue?ue[_0x571425]:null;if(_0xb4c6de&&_0x5ba236)try{await Z[_0x41d748(0x5b7)][_0x41d748(0x491)]({'baseURL':_0x5ba236})[_0x41d748(0x2f0)]('',{'event':_0x435464,'instance':this[_0x41d748(0x240)][_0x41d748(0x80a)],'apikey':this[_0x41d748(0x240)][_0x41d748(0x602)],'data':_0x3d5188}),this['logger']['log'](this[_0x41d748(0x82b)]+'\x20('+this[_0x41d748(0x240)][_0x41d748(0x834)]+_0x41d748(0x199)+_0x435464+':\x20'+_0x5ba236);}catch{this[_0x41d748(0x44e)][_0x41d748(0x4f6)](this[_0x41d748(0x82b)]+'\x20('+this['instance'][_0x41d748(0x834)]+_0x41d748(0x120)+_0x435464+':\x20'+_0x5ba236);}if(_0xf9743&&_0xc10d4e)try{await Z[_0x41d748(0x5b7)][_0x41d748(0x491)]({'baseURL':_0xc10d4e})['post']('',{'event':_0x435464,'instance':this[_0x41d748(0x240)][_0x41d748(0x80a)],'apikey':this[_0x41d748(0x240)][_0x41d748(0x602)],'data':_0x3d5188}),this['logger'][_0x41d748(0x85b)](this[_0x41d748(0x82b)]+'\x20('+this[_0x41d748(0x240)][_0x41d748(0x834)]+_0x41d748(0x7ed)+_0x435464+':\x20'+_0xc10d4e);}catch{this['logger'][_0x41d748(0x4f6)](this[_0x41d748(0x82b)]+'\x20('+this['instance'][_0x41d748(0x834)]+_0x41d748(0x380)+_0x435464+':\x20'+_0xc10d4e);}}async[a0_0x4ac10f(0x6b4)]({qr:_0x4c0ca0,connection:_0x4d9f9e,lastDisconnect:_0x1de969}){const _0x40a180=a0_0x4ac10f;if(_0x4c0ca0){if(this[_0x40a180(0x240)][_0x40a180(0x3b9)]['count']===Di)return this[_0x40a180(0x856)](_0x40a180(0x80d),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':w[_0x40a180(0x668)][_0x40a180(0x848)]}),this[_0x40a180(0x707)]={'state':_0x40a180(0x234),'statusReason':w[_0x40a180(0x668)][_0x40a180(0x793)]},this[_0x40a180(0x856)](_0x40a180(0x43e),{'instance':this[_0x40a180(0x240)][_0x40a180(0x80a)],...this[_0x40a180(0x707)]}),this['sendDataWebhook'](_0x40a180(0x47a),{'instance':this['instance'][_0x40a180(0x80a)],'status':_0x40a180(0x247)}),this[_0x40a180(0x37d)][_0x40a180(0x504)][_0x40a180(0x399)](this[_0x40a180(0x240)]['name']),this[_0x40a180(0x1ad)]=!0x0,De[_0x40a180(0x43a)](oe,this[_0x40a180(0x240)]['name']),this['eventEmitter']['emit']('no.connection',this[_0x40a180(0x240)][_0x40a180(0x80a)]);this[_0x40a180(0x240)][_0x40a180(0x3b9)]['count']++;let _0x52d36a={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x40a180(0x37e),'dark':_0x40a180(0x7c5)}};To[_0x40a180(0x5b7)][_0x40a180(0x6b6)](_0x4c0ca0,_0x52d36a,(_0x4c5279,_0x485810)=>{const _0x28e804=_0x40a180;if(_0x4c5279){this['logger'][_0x28e804(0x4f6)](this[_0x28e804(0x82b)]+'\x20('+this['instance'][_0x28e804(0x834)]+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x4c5279 instanceof Error?_0x4c5279[_0x28e804(0x552)]:JSON[_0x28e804(0x3cc)](_0x4c5279,null,0x2)));return;}this[_0x28e804(0x240)]['qrcode'][_0x28e804(0x7b9)]=_0x485810,this[_0x28e804(0x240)][_0x28e804(0x3b9)]['code']=_0x4c0ca0,!this[_0x28e804(0x654)]&&this[_0x28e804(0x856)](_0x28e804(0x80d),{'qrcode':{'instance':this[_0x28e804(0x240)]['name'],'pairingCode':this[_0x28e804(0x240)]['qrcode'][_0x28e804(0x7f3)],'code':_0x4c0ca0,'base64':_0x485810}});}),this[_0x40a180(0x654)]?this[_0x40a180(0x240)][_0x40a180(0x3b9)][_0x40a180(0x7f3)]||(await(0x0,w[_0x40a180(0x3cd)])(0x7d0),this[_0x40a180(0x240)]['qrcode'][_0x40a180(0x7f3)]=await this['client'][_0x40a180(0x587)](this[_0x40a180(0x654)])):this[_0x40a180(0x240)][_0x40a180(0x3b9)][_0x40a180(0x7f3)]=null,Io[_0x40a180(0x5b7)]['generate'](_0x4c0ca0,{'small':!0x0},_0x2796c7=>this[_0x40a180(0x44e)][_0x40a180(0x85b)](_0x40a180(0x3ba)+this[_0x40a180(0x240)][_0x40a180(0x80a)]+_0x40a180(0x404)+this[_0x40a180(0x240)]['qrcode']['count']+_0x40a180(0x634)+this[_0x40a180(0x240)][_0x40a180(0x3b9)][_0x40a180(0x7f3)]+_0x40a180(0x367)+_0x2796c7));}if(_0x4d9f9e&&(this[_0x40a180(0x707)]={'state':_0x4d9f9e,'statusReason':_0x1de969?.[_0x40a180(0x4f6)]?.[_0x40a180(0x6b1)]?.['statusCode']??0xc8},this['sendDataWebhook']('connection.update',{'instance':this[_0x40a180(0x240)][_0x40a180(0x80a)],...this[_0x40a180(0x707)]})),_0x4d9f9e===_0x40a180(0x37a)){if(this[_0x40a180(0x503)]++,this[_0x40a180(0x795)]['push'](Date['now']()),this[_0x40a180(0x795)]=this[_0x40a180(0x795)]['filter'](_0x4c0c6e=>Date[_0x40a180(0x77c)]()-_0x4c0c6e<this[_0x40a180(0x3ca)]),_0x1de969['error']?.[_0x40a180(0x6b1)]?.[_0x40a180(0x4fe)]!==w[_0x40a180(0x668)][_0x40a180(0x554)]){let _0x15abc4=Math[_0x40a180(0x288)](Math['pow'](0x2,this[_0x40a180(0x503)])*0x3e8,0x493e0);console[_0x40a180(0x85b)](this['instanceName']+_0x40a180(0x67c)+this[_0x40a180(0x503)]+_0x40a180(0x29c)+_0x15abc4/0x3e8+'\x20segundos\x20antes\x20de\x20reconectar...'),await new Promise(_0xd4764=>setTimeout(_0xd4764,_0x15abc4)),console[_0x40a180(0x85b)]('Tentando\x20reconectar...'),await this[_0x40a180(0x2c9)]();}else{this['sendDataWebhook']('status.instance',{'instance':this[_0x40a180(0x240)][_0x40a180(0x80a)],'status':'removed'}),this['instance'][_0x40a180(0x397)][_0x40a180(0x857)]=!0x1,this['repository'][_0x40a180(0x36d)]['delete'](this['instanceName']),this[_0x40a180(0x37d)]['auth'][_0x40a180(0x491)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x40a180(0x77c)]()},this[_0x40a180(0x240)][_0x40a180(0x80a)]),De[_0x40a180(0x43a)](oe,this['instance']['name']);try{this['logger'][_0x40a180(0x188)](this[_0x40a180(0x82b)]+'\x20('+this[_0x40a180(0x240)][_0x40a180(0x834)]+_0x40a180(0x4e0));let _0x17554c=await this[_0x40a180(0x37d)][_0x40a180(0x552)][_0x40a180(0x811)](this[_0x40a180(0x240)][_0x40a180(0x834)]);_0x17554c[_0x40a180(0x531)]?this[_0x40a180(0x44e)]['verbose'](this[_0x40a180(0x82b)]+'\x20('+this[_0x40a180(0x240)]['wuid']+_0x40a180(0x348)):this['logger'][_0x40a180(0x4f6)](_0x40a180(0x54d)+_0x17554c['error']);}catch(_0x4e5ab3){this['logger'][_0x40a180(0x4f6)](_0x40a180(0x538)+_0x4e5ab3[_0x40a180(0x552)]);}this[_0x40a180(0x240)][_0x40a180(0x397)][_0x40a180(0x6b5)]!==null&&(this[_0x40a180(0x44e)][_0x40a180(0x188)](this['instanceName']+'\x20('+this['instance'][_0x40a180(0x834)]+_0x40a180(0x731)),clearInterval(this['instance'][_0x40a180(0x397)]['delayMessage']),this[_0x40a180(0x240)][_0x40a180(0x397)][_0x40a180(0x6b5)]=null),this[_0x40a180(0x44e)][_0x40a180(0x188)](this[_0x40a180(0x82b)]+'\x20('+this[_0x40a180(0x240)][_0x40a180(0x834)]+_0x40a180(0x627)),this[_0x40a180(0x711)]=null,this[_0x40a180(0x232)]['emit'](_0x40a180(0x75e),this['instance']['name'],_0x40a180(0x5ea)),this[_0x40a180(0x18f)]?.['ws']?.[_0x40a180(0x37a)](),this['client'][_0x40a180(0x316)](new Error('Close\x20connection'));}}if(_0x4d9f9e===_0x40a180(0x38e)){try{this['client']['ev'][_0x40a180(0x521)]();}catch(_0xf4f6ad){this[_0x40a180(0x44e)][_0x40a180(0x4f6)](_0xf4f6ad);}this[_0x40a180(0x680)],this['instance'][_0x40a180(0x834)]=this['client'][_0x40a180(0x21d)]['id'][_0x40a180(0x527)](/:\d+/,'')['replace']('@s.whatsapp.net',''),this[_0x40a180(0x240)][_0x40a180(0x224)]=(await this[_0x40a180(0x4ae)](this[_0x40a180(0x240)][_0x40a180(0x834)]+_0x40a180(0x559)))[_0x40a180(0x224)],this[_0x40a180(0x37d)][_0x40a180(0x504)][_0x40a180(0x491)]({'online':!0x0,'owner':this[_0x40a180(0x240)][_0x40a180(0x834)],'lastDisconnect':null},this[_0x40a180(0x240)]['name']);let _0x11717e=_0x40a180(0x5ce)+this[_0x40a180(0x240)][_0x40a180(0x834)],_0x552ead=0x28,_0x1cbf1a=Math[_0x40a180(0x6a9)]((_0x552ead-_0x11717e[_0x40a180(0x30c)])/0x2),_0x36e0e2='\x20'[_0x40a180(0x7ae)](_0x1cbf1a),_0xef06f5='CONECTADO\x20À\x20UAZAPI',_0x454ab9=_0x40a180(0x6f3)+this['instance']['name'],_0x3e0e3a=(''+_0x36e0e2+_0x11717e+_0x36e0e2)[_0x40a180(0x75d)](_0x552ead,'\x20'),_0x36bd0d=(''+_0x36e0e2+_0xef06f5+_0x36e0e2)[_0x40a180(0x75d)](_0x552ead,'\x20'),_0x18bd34=(''+_0x36e0e2+_0x454ab9+_0x36e0e2)['padEnd'](_0x552ead,'\x20'),_0x21cd8a=Math[_0x40a180(0x6ca)](_0x3e0e3a['length'],_0x36bd0d[_0x40a180(0x30c)],_0x18bd34['length']),_0x186128=_0x3e0e3a[_0x40a180(0x75d)](_0x21cd8a,'\x20'),_0x1d89d8=_0x36bd0d[_0x40a180(0x75d)](_0x21cd8a,'\x20'),_0x8eea16=_0x18bd34[_0x40a180(0x75d)](_0x21cd8a,'\x20');this[_0x40a180(0x44e)]['info']((_0x40a180(0x4e6)+'─'[_0x40a180(0x7ae)](_0x21cd8a)+_0x40a180(0x4f4)+_0x1d89d8+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x8eea16+_0x40a180(0x651)+_0x186128+_0x40a180(0x463)+'─'[_0x40a180(0x7ae)](_0x21cd8a)+'┘')[_0x40a180(0x527)](/^ +/gm,'\x20\x20')),this[_0x40a180(0x5b0)](),this[_0x40a180(0x240)][_0x40a180(0x397)][_0x40a180(0x857)]=!0x0;}}[a0_0x4ac10f(0x680)](){const _0x4b76fe=a0_0x4ac10f;this['reconnectAttempts']=0x0,this[_0x4b76fe(0x795)]=[];}async['getMessage'](_0x50a4e0,_0x42485a=!0x1){const _0x50272e=a0_0x4ac10f;try{let _0x4b29bb=await this[_0x50272e(0x37d)]['message']['find']({'where':{'_id':_0x50a4e0['id']}},this[_0x50272e(0x240)][_0x50272e(0x834)]);return _0x42485a?_0x4b29bb[0x0]:_0x4b29bb[0x0][_0x50272e(0x552)];}catch{return{'conversation':''};}}['cleanStore'](){const _0x34ca4a=a0_0x4ac10f;let _0x373522=this['configService'][_0x34ca4a(0x2c5)](_0x34ca4a(0x693)),_0x33ace7=this['configService'][_0x34ca4a(0x2c5)](_0x34ca4a(0x815));_0x373522?.[_0x34ca4a(0x7f5)]&&!_0x33ace7[_0x34ca4a(0x62e)]&&setInterval(()=>{const _0x3e9020=_0x34ca4a;try{for(let [_0xc9b599,_0x14892b]of Object[_0x3e9020(0x58a)](_0x373522))_0x14892b===!0x0&&(0x0,ke['execSync'])(_0x3e9020(0x6df)+(0x0,U['join'])(this[_0x3e9020(0x716)],_0xc9b599['toLowerCase'](),this[_0x3e9020(0x240)][_0x3e9020(0x834)])+_0x3e9020(0x430));}catch{}},(_0x373522?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async[a0_0x4ac10f(0x4ca)](){const _0x11a66a=a0_0x4ac10f;let _0x92e3da=this[_0x11a66a(0x6de)][_0x11a66a(0x2c5)](_0x11a66a(0x815)),_0x21fe09=this[_0x11a66a(0x6de)][_0x11a66a(0x2c5)](_0x11a66a(0x67b));return _0x21fe09?.['ENABLED']?await _s(_0x21fe09,this[_0x11a66a(0x240)][_0x11a66a(0x80a)]):_0x92e3da[_0x11a66a(0x62e)]?await Os(this[_0x11a66a(0x240)][_0x11a66a(0x80a)]):await(0x0,w[_0x11a66a(0x86c)])((0x0,U[_0x11a66a(0x650)])(be,this[_0x11a66a(0x240)]['name']));}async[a0_0x4ac10f(0x5b0)](){const _0x4d2f8c=a0_0x4ac10f;let _0x41093a=()=>Math[_0x4d2f8c(0x6a9)](Math['random']()*0x4e21)+0x7d0,_0x4d8c21=async()=>{const _0x1d597a=_0x4d2f8c;if(!this['instance'][_0x1d597a(0x397)]['isConnected']){this['logger'][_0x1d597a(0x188)](this['instanceName']+'\x20('+this[_0x1d597a(0x240)][_0x1d597a(0x834)]+'):Desconectado,\x20parando\x20execução.'),this[_0x1d597a(0x53f)]=!0x1;return;}if(this['instance']['wuid']&&this[_0x1d597a(0x711)]&&this[_0x1d597a(0x240)][_0x1d597a(0x397)][_0x1d597a(0x6b5)]!==null&&this[_0x1d597a(0x240)][_0x1d597a(0x397)][_0x1d597a(0x6b5)]!==void 0x0){let _0x5af85f=Math['round'](this[_0x1d597a(0x240)][_0x1d597a(0x397)]['delayMessage']/0xea60);this[_0x1d597a(0x44e)][_0x1d597a(0x188)](this[_0x1d597a(0x82b)]+'\x20('+this[_0x1d597a(0x240)]['wuid']+_0x1d597a(0x745)+_0x5af85f+'\x20minutos\x20verificará\x20novas\x20mensagens'),this['isRunning']=!0x1;return;}else this[_0x1d597a(0x240)][_0x1d597a(0x834)]&&(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x1d597a(0x240)][_0x1d597a(0x834)]+_0x1d597a(0x475)),this[_0x1d597a(0x711)]||(await this[_0x1d597a(0x769)](),this[_0x1d597a(0x82c)](),this[_0x1d597a(0x324)]()),(this[_0x1d597a(0x240)][_0x1d597a(0x397)]['delayMessage']===null||this[_0x1d597a(0x240)]['ScheduleMessage'][_0x1d597a(0x6b5)]===void 0x0)&&await this[_0x1d597a(0x125)]());if(this['isRunning']){let _0x230cb5=_0x41093a();this[_0x1d597a(0x44e)][_0x1d597a(0x188)](this[_0x1d597a(0x82b)]+_0x1d597a(0x2ed)+_0x230cb5/0x3e8+_0x1d597a(0x817)),setTimeout(_0x4d8c21,_0x230cb5);}};if(this[_0x4d2f8c(0x53f)])return;this[_0x4d2f8c(0x53f)]=!0x0;let _0x479017=_0x41093a();setTimeout(_0x4d8c21,_0x479017);}async[a0_0x4ac10f(0x324)](){const _0xc2023c=a0_0x4ac10f;let _0x1388ca=this[_0xc2023c(0x240)][_0xc2023c(0x834)];try{let _0x243224=await this['repository'][_0xc2023c(0x7fa)][_0xc2023c(0x841)]({'where':{'$or':[{'owner':_0x1388ca},{'whoCanUse':{'$in':[_0x1388ca]}},{'shareOwners':{'$in':[_0x1388ca]}}]}}),_0x19df8a=await this[_0xc2023c(0x37d)][_0xc2023c(0x7fa)][_0xc2023c(0x841)]({'where':{'$or':[{'owner':_0xc2023c(0x470)},{'whoCanUse':{'$in':[_0xc2023c(0x470)]}},{'shareOwners':{'$in':['global']}}]}});_0x19df8a&&_0x19df8a[_0xc2023c(0x30c)]>0x0?this[_0xc2023c(0x44e)][_0xc2023c(0x188)](this[_0xc2023c(0x82b)]+'\x20('+this[_0xc2023c(0x240)][_0xc2023c(0x834)]+_0xc2023c(0x74b)):(await this[_0xc2023c(0x37d)][_0xc2023c(0x7fa)][_0xc2023c(0x1f5)](_0xc2023c(0x470)),this[_0xc2023c(0x44e)]['verbose'](this[_0xc2023c(0x82b)]+'\x20('+this['instance']['wuid']+_0xc2023c(0x565))),_0x243224&&_0x243224[_0xc2023c(0x30c)]>0x0?this[_0xc2023c(0x44e)][_0xc2023c(0x188)](this[_0xc2023c(0x82b)]+'\x20('+this[_0xc2023c(0x240)][_0xc2023c(0x834)]+_0xc2023c(0x586)+_0x1388ca+_0xc2023c(0x643)):(await this[_0xc2023c(0x37d)][_0xc2023c(0x7fa)][_0xc2023c(0x1f5)](_0x1388ca),this[_0xc2023c(0x44e)][_0xc2023c(0x188)](this[_0xc2023c(0x82b)]+'\x20('+this[_0xc2023c(0x240)]['wuid']+_0xc2023c(0x586)+_0x1388ca+_0xc2023c(0x69c)),_0x243224=await this[_0xc2023c(0x37d)][_0xc2023c(0x7fa)]['findAll']({'where':{'$or':[{'owner':_0x1388ca},{'whoCanUse':{'$in':[_0x1388ca]}},{'shareOwners':{'$in':[_0x1388ca]}}]}}));let _0x358fa5=new Map(this[_0xc2023c(0x711)][_0xc2023c(0x649)][_0xc2023c(0x3c7)](_0x38ddb4=>[_0x38ddb4['_id'],_0x38ddb4])),_0x25b72a=_0x243224[_0xc2023c(0x3c7)](_0x2a5b0=>{const _0x16af2e=_0xc2023c;let _0x5211cf=_0x358fa5[_0x16af2e(0x2c5)](_0x2a5b0['_id']?.['toString']());return{'_id':_0x2a5b0[_0x16af2e(0x261)]?.[_0x16af2e(0x830)](),'name':_0x5211cf?.[_0x16af2e(0x80a)]??_0x2a5b0[_0x16af2e(0x80a)],'default':_0x5211cf?.[_0x16af2e(0x5b7)]??_0x2a5b0[_0x16af2e(0x5b7)]??!0x1,'startCommand':_0x5211cf?.[_0x16af2e(0x638)]??_0x2a5b0[_0x16af2e(0x746)],'minutesToClose':_0x5211cf?.[_0x16af2e(0x384)]??_0x2a5b0[_0x16af2e(0x384)]??0xa,'readMessages':_0x5211cf?.[_0x16af2e(0x86a)]??_0x2a5b0[_0x16af2e(0x86a)]??!0x1,'testingWith':_0x5211cf?.[_0x16af2e(0x5a9)]??_0x2a5b0[_0x16af2e(0x5a9)],'canEdit':_0x2a5b0[_0x16af2e(0x689)]===_0x1388ca||(_0x2a5b0[_0x16af2e(0x272)]??[])[_0x16af2e(0x19a)](_0x1388ca),'usersCount':(_0x2a5b0[_0x16af2e(0x38d)]??[])[_0x16af2e(0x30c)]??0x0};}),_0x46d926=!0x1;_0x25b72a[_0xc2023c(0x843)](_0x4cb6f1=>{const _0x2c524a=_0xc2023c;_0x4cb6f1[_0x2c524a(0x5b7)]&&(_0x46d926?_0x4cb6f1['default']=!0x1:_0x46d926=!0x0);}),this[_0xc2023c(0x711)][_0xc2023c(0x649)]=_0x25b72a;let _0x4aa535={'flows':_0x25b72a};return await this[_0xc2023c(0x37d)][_0xc2023c(0x62b)][_0xc2023c(0x256)](_0x4aa535,_0x1388ca),this['logger'][_0xc2023c(0x188)](this[_0xc2023c(0x82b)]+'\x20('+_0x1388ca+_0xc2023c(0x155)),_0x25b72a[_0xc2023c(0x30c)];}catch(_0x579664){return this[_0xc2023c(0x44e)][_0xc2023c(0x4f6)](this[_0xc2023c(0x82b)]+'\x20('+_0x1388ca+_0xc2023c(0x2d9)+(_0x579664 instanceof Error?_0x579664['message']:JSON[_0xc2023c(0x3cc)](_0x579664,null,0x2))),{'message':'Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20'+(_0x579664 instanceof Error?_0x579664[_0xc2023c(0x552)]:JSON['stringify'](_0x579664,null,0x2))};}}async[a0_0x4ac10f(0x2c9)](_0x490897){const _0x2e7524=a0_0x4ac10f;try{this[_0x2e7524(0x46b)](),this[_0x2e7524(0x240)][_0x2e7524(0x602)]=(await this[_0x2e7524(0x37d)][_0x2e7524(0x504)][_0x2e7524(0x7c1)](this[_0x2e7524(0x240)]['name']))[_0x2e7524(0x602)],this[_0x2e7524(0x240)][_0x2e7524(0x44a)]=await this[_0x2e7524(0x4ca)]();let {version:_0x5b46c4}=await(0x0,w[_0x2e7524(0x6e4)])(),_0x524005=[Oo,Fs,(0x0,Ps[_0x2e7524(0x3aa)])()],_0x2cae85={'auth':{'creds':this[_0x2e7524(0x240)][_0x2e7524(0x44a)][_0x2e7524(0x81e)][_0x2e7524(0x4bd)],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this['instance']['authState'][_0x2e7524(0x81e)][_0x2e7524(0x27b)],(0x0,Ut[_0x2e7524(0x5b7)])({'level':'error'}))},'logger':(0x0,Ut[_0x2e7524(0x5b7)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x490897?[_0x2e7524(0x60e),Fs,(0x0,Ps[_0x2e7524(0x3aa)])()]:_0x524005,'version':_0x5b46c4,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x2cca18=>{const _0x3c3598=_0x2e7524;let _0x4f428f=_0x2cca18['endsWith'](_0x3c3598(0x850)),_0x46ccb6=this[_0x3c3598(0x4c6)]?.['groups_ignore']&&_0x2cca18[_0x3c3598(0x37c)](_0x3c3598(0x703));return _0x4f428f||(0x0,w[_0x3c3598(0x513)])(_0x2cca18)||_0x46ccb6;},'msgRetryCounterCache':this[_0x2e7524(0x86e)],'getMessage':async _0x21f31a=>await this['getMessage'](_0x21f31a),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x43670f=>(_0x43670f['listMessage']?.[_0x2e7524(0x3c2)]==w[_0x2e7524(0x50a)][_0x2e7524(0x1b1)][_0x2e7524(0x5dd)][_0x2e7524(0x59e)][_0x2e7524(0x1b4)]&&(_0x43670f=JSON['parse'](JSON[_0x2e7524(0x3cc)](_0x43670f)),_0x43670f['listMessage'][_0x2e7524(0x3c2)]=w[_0x2e7524(0x50a)][_0x2e7524(0x1b1)]['ListMessage']['ListType'][_0x2e7524(0x79b)]),_0x43670f)};return this[_0x2e7524(0x1ad)]=!0x1,this[_0x2e7524(0x18f)]=(0x0,w[_0x2e7524(0x5b7)])(_0x2cae85),this['eventHandler'](),this[_0x2e7524(0x654)]=_0x490897,this[_0x2e7524(0x18f)];}catch(_0xc61db1){let _0x101b1c=_0x2e7524(0x3f0),_0x4ac712=_0xc61db1 instanceof Error?_0xc61db1[_0x2e7524(0x552)]:typeof _0xc61db1==_0x2e7524(0x7e5)?JSON[_0x2e7524(0x3cc)](_0xc61db1):_0xc61db1,_0xb020ad=_0x101b1c+':\x20'+_0x4ac712;throw this[_0x2e7524(0x44e)]['error'](this[_0x2e7524(0x82b)]+'\x20('+this['instance'][_0x2e7524(0x834)]+_0x2e7524(0x309)+_0xb020ad),new _(_0xb020ad);}}[a0_0x4ac10f(0x845)](){const _0x2222c1=a0_0x4ac10f;this[_0x2222c1(0x18f)]['ev'][_0x2222c1(0x4bf)](_0xa3c59a=>{const _0x4591e2=_0x2222c1;if(!this['endSession']){let _0x3677ed=this[_0x4591e2(0x6de)][_0x4591e2(0x2c5)]('DATABASE');if(_0xa3c59a['labels.edit']){let _0x17c795=_0xa3c59a[_0x4591e2(0x822)];this[_0x4591e2(0x60a)][_0x4591e2(0x822)](_0x17c795);}if(_0xa3c59a[_0x4591e2(0x3e8)]){let _0x4362ec=_0xa3c59a['labels.association'];this[_0x4591e2(0x60a)][_0x4591e2(0x3e8)](_0x4362ec);}if(_0xa3c59a[_0x4591e2(0x43e)]&&this['connectionUpdate'](_0xa3c59a[_0x4591e2(0x43e)]),_0xa3c59a[_0x4591e2(0x2c6)]&&this[_0x4591e2(0x240)][_0x4591e2(0x44a)][_0x4591e2(0x761)](),_0xa3c59a[_0x4591e2(0x549)]){let _0x149aa4=_0xa3c59a[_0x4591e2(0x549)];this[_0x4591e2(0x60a)][_0x4591e2(0x549)](_0x149aa4,_0x3677ed);}if(_0xa3c59a[_0x4591e2(0x3ad)]){let _0x591ae1=_0xa3c59a['messages.upsert'];this[_0x4591e2(0x60a)][_0x4591e2(0x3ad)](_0x591ae1,_0x3677ed);}if(_0xa3c59a[_0x4591e2(0x721)]){let _0x333c28=_0xa3c59a['messages.update'];this[_0x4591e2(0x60a)][_0x4591e2(0x721)](_0x333c28,_0x3677ed);}if(_0xa3c59a[_0x4591e2(0x20d)]){let _0x43bff3=_0xa3c59a[_0x4591e2(0x20d)];if(this[_0x4591e2(0x4c6)]?.[_0x4591e2(0x28e)]&&_0x43bff3['id'][_0x4591e2(0x19a)]('@g.us'))return;this[_0x4591e2(0x856)](_0x4591e2(0x20d),_0x43bff3);}if(_0xa3c59a['groups.upsert']){let _0x1fa0a5=_0xa3c59a[_0x4591e2(0x6a4)];this[_0x4591e2(0x254)][_0x4591e2(0x6a4)](_0x1fa0a5);}if(_0xa3c59a['groups.update']){let _0x38b5c6=_0xa3c59a[_0x4591e2(0x25d)];this['groupHandler'][_0x4591e2(0x25d)](_0x38b5c6);}if(_0xa3c59a['group-participants.update']){let _0x3af6b6=_0xa3c59a[_0x4591e2(0x1c1)];this[_0x4591e2(0x254)][_0x4591e2(0x1c1)](_0x3af6b6);}if(_0xa3c59a[_0x4591e2(0x2ff)]){let _0x28c04e=_0xa3c59a[_0x4591e2(0x2ff)];this[_0x4591e2(0x7a4)][_0x4591e2(0x2ff)](_0x28c04e,_0x3677ed);}if(_0xa3c59a[_0x4591e2(0x257)]){let _0x5a3f02=_0xa3c59a[_0x4591e2(0x257)];this['chatHandle'][_0x4591e2(0x257)](_0x5a3f02,_0x3677ed);}if(_0xa3c59a[_0x4591e2(0x57a)]){let _0x3c7655=_0xa3c59a[_0x4591e2(0x57a)];this['chatHandle'][_0x4591e2(0x57a)](_0x3c7655);}if(_0xa3c59a[_0x4591e2(0x2be)]){let _0x14eb4d=_0xa3c59a[_0x4591e2(0x2be)];this['contactHandle'][_0x4591e2(0x2be)](_0x14eb4d,_0x3677ed);}if(_0xa3c59a[_0x4591e2(0x1d8)]){let _0x3cddc5=_0xa3c59a[_0x4591e2(0x1d8)];this[_0x4591e2(0x7af)]['contacts.update'](_0x3cddc5,_0x3677ed);}}});}async[a0_0x4ac10f(0x6be)](_0x3f3831,_0x243f85){const _0x499ff7=a0_0x4ac10f;if(_0x243f85>=0xa){console[_0x499ff7(0x4f6)](this['instanceName']+'\x20('+this[_0x499ff7(0x240)][_0x499ff7(0x834)]+_0x499ff7(0x35f)),delete Ft[_0x3f3831[_0x499ff7(0x77d)]['id']];return;}try{console[_0x499ff7(0x4f6)](this[_0x499ff7(0x82b)]+'\x20('+this[_0x499ff7(0x240)][_0x499ff7(0x834)]+_0x499ff7(0x2bf)+(_0x243f85+0x1)),await this[_0x499ff7(0x18f)][_0x499ff7(0x69f)](JSON[_0x499ff7(0x1af)](_0x3f3831['messageStubParameters'][0x1],w[_0x499ff7(0x30a)]['reviver'])),console[_0x499ff7(0x4f6)](_0x499ff7(0x427));}catch(_0x3ec129){console['error'](this[_0x499ff7(0x82b)]+'\x20('+this['instance'][_0x499ff7(0x834)]+_0x499ff7(0x5c9)+_0x3ec129),setTimeout(()=>this['retrySendMessage'](_0x3f3831,_0x243f85+0x1),Math[_0x499ff7(0x6d0)](0x2,_0x243f85)*0x3e8);}}[a0_0x4ac10f(0x456)](_0x2f0244){return new Promise(_0x4d4700=>setTimeout(_0x4d4700,_0x2f0244));}[a0_0x4ac10f(0x23d)](_0x1ad070){const _0x40e24c=a0_0x4ac10f;_0x1ad070=_0x1ad070[_0x40e24c(0x527)](/\D/g,'');let _0x1c2d78=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x40e24c(0x60f)](_0x1ad070);if(_0x1c2d78&&_0x1c2d78[0x1]==='55'){let _0x129df0=_0x1c2d78[0x2],_0x3fb650=_0x1c2d78[0x3],_0x1d707a=_0x1c2d78[0x4];if(parseInt(_0x129df0)>=0x1f&&_0x3fb650==='9')return _0x1c2d78[0x1]+_0x129df0+_0x1d707a;}return _0x1ad070;}[a0_0x4ac10f(0x656)](_0x50a073){const _0x344b9b=a0_0x4ac10f;return _0x50a073['includes']('@g.us')||_0x50a073[_0x344b9b(0x19a)](_0x344b9b(0x559))||_0x50a073[_0x344b9b(0x19a)](_0x344b9b(0x836))?_0x50a073:(_0x50a073=_0x50a073?.['replace'](/\s/g,'')[_0x344b9b(0x527)](/\+/g,'')[_0x344b9b(0x527)](/\(/g,'')[_0x344b9b(0x527)](/\)/g,'')[_0x344b9b(0x3eb)](/\:/)[0x0][_0x344b9b(0x3eb)]('@')[0x0],_0x50a073[_0x344b9b(0x30c)]>=0x12?(_0x50a073=_0x50a073['replace'](/[^\d-]/g,''),_0x50a073+'@g.us'):(_0x50a073=_0x50a073[_0x344b9b(0x527)](/\D/g,''),_0x50a073+_0x344b9b(0x559)));}async[a0_0x4ac10f(0x5bc)](_0x365b5d){const _0xf088e1=a0_0x4ac10f;let _0x3dffd1=(await this[_0xf088e1(0x2a7)]({'numbers':[_0x365b5d[_0xf088e1(0x1e2)]]}))[0x0];if(!_0x3dffd1['exists']&&!(0x0,w['isJidGroup'])(_0x3dffd1['jid'])&&!_0x3dffd1[_0xf088e1(0x49b)]['includes'](_0xf088e1(0x836)))throw new m(_0x3dffd1);let _0x4b8fe9=_0x3dffd1[_0xf088e1(0x49b)];try{return await this['client']['presenceSubscribe'](_0x4b8fe9),await this['client'][_0xf088e1(0x792)](_0x365b5d[_0xf088e1(0x419)],_0x4b8fe9),{'status':0xc8,'presence':_0x365b5d['presence']};}catch(_0x28e934){let _0x1db013='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence',_0x21255e=_0x28e934 instanceof Error?_0x28e934[_0xf088e1(0x552)]:typeof _0x28e934==_0xf088e1(0x7e5)?JSON[_0xf088e1(0x3cc)](_0x28e934):_0x28e934,_0x49677b=_0x1db013+':\x20'+_0x21255e;throw this[_0xf088e1(0x44e)][_0xf088e1(0x4f6)](this['instanceName']+'\x20('+this[_0xf088e1(0x240)][_0xf088e1(0x834)]+'):\x20'+_0x49677b),new m(_0x49677b);}}async[a0_0x4ac10f(0x2b4)](_0x42fef6,_0xe59d6f,_0x49a34a,_0x5a7ca3=!0x0){const _0x2f33c0=a0_0x4ac10f;let _0x1d63f3=await this[_0x2f33c0(0x37d)][_0x2f33c0(0x29b)][_0x2f33c0(0x349)]({'where':{'_id':_0x42fef6}});if(!_0x1d63f3&&!_0x5a7ca3)return;let _0x3545b3={'lastUpdate':Date[_0x2f33c0(0x77c)]()};if(_0x49a34a||!_0x1d63f3?.[_0x2f33c0(0x3e0)]||Date[_0x2f33c0(0x77c)]()-_0x1d63f3['lastUpdate']>0x18*0x3c*0x3c*0x3e8)try{let _0x2fa951=(await this['profilePicture'](_0x42fef6))[_0x2f33c0(0x224)];_0x3545b3[_0x2f33c0(0x4d1)]=_0x2fa951;}catch(_0x23b22b){let _0x4f6651='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact',_0x185f66=_0x23b22b instanceof Error?_0x23b22b['message']:typeof _0x23b22b==_0x2f33c0(0x7e5)?JSON[_0x2f33c0(0x3cc)](_0x23b22b):_0x23b22b,_0x12347e=_0x4f6651+':\x20'+_0x185f66;throw this[_0x2f33c0(0x44e)][_0x2f33c0(0x4f6)](this[_0x2f33c0(0x82b)]+'\x20('+this[_0x2f33c0(0x240)][_0x2f33c0(0x834)]+'):\x20'+_0x12347e),new m(_0x12347e);}return _0xe59d6f&&_0x1d63f3?.['name']!==_0xe59d6f&&(_0x3545b3[_0x2f33c0(0x80a)]=_0xe59d6f),Object[_0x2f33c0(0x27b)](_0x3545b3)['length']>0x1&&(_0x1d63f3?await this[_0x2f33c0(0x37d)][_0x2f33c0(0x29b)][_0x2f33c0(0x256)]({'where':{'_id':_0x42fef6}},_0x3545b3):await this[_0x2f33c0(0x37d)][_0x2f33c0(0x29b)][_0x2f33c0(0x6a2)]([{'_id':_0x42fef6,..._0x3545b3}]),_0x1d63f3={..._0x1d63f3,..._0x3545b3}),{'cachedContact':_0x1d63f3};}async[a0_0x4ac10f(0x4ae)](_0x1449bd){const _0x56cf4e=a0_0x4ac10f;let _0x2cf024=this['createJid'](_0x1449bd);try{return{'wuid':_0x2cf024,'profilePictureUrl':await this[_0x56cf4e(0x18f)]['profilePictureUrl'](_0x2cf024,_0x56cf4e(0x5b6))};}catch{return{'wuid':_0x2cf024,'profilePictureUrl':null};}}async[a0_0x4ac10f(0x618)](_0x190d23,_0x521658,_0x41b10b){const _0x773e2c=a0_0x4ac10f;let _0x76e53e;try{let _0x1aae26=(await this[_0x773e2c(0x2a7)]({'numbers':[_0x190d23]}))[0x0];if(!_0x1aae26['exists']&&!(0x0,w[_0x773e2c(0x376)])(_0x1aae26[_0x773e2c(0x49b)])&&!_0x1aae26['jid'][_0x773e2c(0x19a)](_0x773e2c(0x836)))throw new m(_0x1aae26);_0x76e53e=_0x1aae26[_0x773e2c(0x49b)];}catch(_0x24684a){_0x76e53e=_0x190d23,this[_0x773e2c(0x44e)]['warn'](this[_0x773e2c(0x82b)]+'\x20('+this['instance'][_0x773e2c(0x834)]+'):\x20error:\x20'+_0x24684a[_0x773e2c(0x552)]),this[_0x773e2c(0x44e)][_0x773e2c(0x773)](this[_0x773e2c(0x82b)]+'\x20('+this[_0x773e2c(0x240)]['wuid']+'):\x20sender\x20=\x20number:\x20'+_0x76e53e);}try{if(_0x76e53e||(_0x76e53e=_0x190d23,this[_0x773e2c(0x44e)][_0x773e2c(0x773)](this[_0x773e2c(0x82b)]+'\x20('+this[_0x773e2c(0x240)][_0x773e2c(0x834)]+_0x773e2c(0x2ea)+_0x76e53e)),_0x41b10b||(_0x41b10b={}),_0x41b10b?.[_0x773e2c(0x3cd)]){await this[_0x773e2c(0x18f)][_0x773e2c(0x835)](_0x76e53e),await this[_0x773e2c(0x18f)]['sendPresenceUpdate'](_0x41b10b?.['presence']??'composing',_0x76e53e);let _0x3f390a=Math[_0x773e2c(0x288)](_0x41b10b[_0x773e2c(0x3cd)],0x2710);await(0x0,w['delay'])(_0x3f390a),await this[_0x773e2c(0x18f)][_0x773e2c(0x792)](_0x773e2c(0x2e0),_0x76e53e);}let _0x27778d=_0x41b10b?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x39912b;if(_0x41b10b?.[_0x773e2c(0x810)]){let _0x6c9155=_0x41b10b?.[_0x773e2c(0x810)],_0x5236dd=_0x6c9155?.[_0x773e2c(0x552)]?_0x6c9155:await this[_0x773e2c(0x40d)](_0x6c9155['key'],!0x0);if(!_0x5236dd)throw _0x773e2c(0x478);_0x39912b=_0x5236dd;}let _0x4ad43a;if((0x0,w[_0x773e2c(0x376)])(_0x76e53e))try{let _0x3aeeed=(await this[_0x773e2c(0x37d)][_0x773e2c(0x413)][_0x773e2c(0x349)]({'where':{'_id':_0x76e53e}},this['instance'][_0x773e2c(0x834)]))['groupdata'];if(!_0x3aeeed)throw new J(_0x773e2c(0x238));_0x41b10b?.[_0x773e2c(0x833)]&&(_0x41b10b[_0x773e2c(0x833)]?.[_0x773e2c(0x85c)]?_0x4ad43a=_0x3aeeed[_0x773e2c(0x417)][_0x773e2c(0x3c7)](_0x41ac82=>_0x41ac82['id']):_0x41b10b[_0x773e2c(0x833)]?.[_0x773e2c(0x455)]?.[_0x773e2c(0x30c)]&&(_0x4ad43a=_0x41b10b['mentions']['mentioned']['map'](_0x2b0017=>{const _0xf4134c=_0x773e2c;let _0x1b85e3=this[_0xf4134c(0x656)](_0x2b0017);return(0x0,w[_0xf4134c(0x376)])(_0x1b85e3)?null:_0x1b85e3;})));}catch{throw new J(_0x773e2c(0x238));}let _0x3b39b9=await this[_0x773e2c(0x37d)][_0x773e2c(0x413)][_0x773e2c(0x349)]({'where':{'_id':_0x76e53e}},this[_0x773e2c(0x240)]['wuid']),_0x43bd8=await((async()=>{const _0x5b1ceb=_0x773e2c;let _0xfaa42a={'quoted':_0x39912b,'ephemeralExpiration':_0x3b39b9?.[_0x5b1ceb(0x248)]??0x0};if(!_0x521658['audio']&&!_0x521658[_0x5b1ceb(0x14d)]&&!_0x521658[_0x5b1ceb(0x510)]&&!_0x521658[_0x5b1ceb(0x1cf)]&&_0x76e53e!==_0x5b1ceb(0x82a)&&!_0x521658['audio'])return await this['client']['sendMessage'](_0x76e53e,{'forward':{'key':{'remoteJid':this[_0x5b1ceb(0x240)][_0x5b1ceb(0x834)],'fromMe':!0x0},'message':_0x521658},'mentions':_0x4ad43a},_0xfaa42a);if(_0x521658[_0x5b1ceb(0x3ae)])return await this['client'][_0x5b1ceb(0x1ee)](_0x76e53e,{'react':{'text':_0x521658['reactionMessage']['text'],'key':_0x521658[_0x5b1ceb(0x3ae)][_0x5b1ceb(0x77d)]}},_0xfaa42a);if(_0x521658[_0x5b1ceb(0x1cf)]){let _0x59ea41=_0x521658[_0x5b1ceb(0x1cf)];return _0x41b10b?.[_0x5b1ceb(0x6cf)]&&(_0x59ea41=await this['replaceVariablesChat'](_0x59ea41,_0x76e53e)),await this[_0x5b1ceb(0x18f)][_0x5b1ceb(0x1ee)](_0x76e53e,{'text':_0x59ea41,'mentions':_0x4ad43a,'linkPreview':_0x27778d},_0xfaa42a);}return _0x76e53e===_0x5b1ceb(0x82a)?await this[_0x5b1ceb(0x18f)][_0x5b1ceb(0x1ee)](_0x76e53e,_0x521658[_0x5b1ceb(0x1ac)][_0x5b1ceb(0x715)],{'backgroundColor':_0x521658[_0x5b1ceb(0x1ac)][_0x5b1ceb(0x774)][_0x5b1ceb(0x4ad)],'font':_0x521658['status'][_0x5b1ceb(0x774)][_0x5b1ceb(0x4b8)],'statusJidList':_0x521658[_0x5b1ceb(0x1ac)][_0x5b1ceb(0x774)][_0x5b1ceb(0x789)]}):await this['client']['sendMessage'](_0x76e53e,_0x521658,_0xfaa42a);})()),_0xa63e1f=(0x0,w[_0x773e2c(0x580)])(_0x43bd8[_0x773e2c(0x552)]),_0x17ddfd=(0x0,w[_0x773e2c(0x802)])(_0xa63e1f),{message_normalized:_0x1fd6eb}=this[_0x773e2c(0x528)](_0xa63e1f,_0x17ddfd,null),_0x46ff9c={'_id':_0x43bd8[_0x773e2c(0x77d)]['id'],'key':_0x43bd8[_0x773e2c(0x77d)],'pushName':_0x43bd8[_0x773e2c(0x364)],'isGroup':_0x43bd8[_0x773e2c(0x77d)][_0x773e2c(0x6e1)]['endsWith']('@g.us'),'profilePictureUrl':this['instance'][_0x773e2c(0x224)],'message':_0xa63e1f,'messageType':_0x17ddfd,'message_normalized':{'key':_0x43bd8[_0x773e2c(0x77d)],'pushName':_0x43bd8[_0x773e2c(0x364)],'messageTimestamp':_0x43bd8[_0x773e2c(0x18b)]&&_0x43bd8[_0x773e2c(0x18b)][_0x773e2c(0x830)]()[_0x773e2c(0x30c)]<0xd?_0x43bd8[_0x773e2c(0x18b)]*0x3e8:_0x43bd8['messageTimestamp']||null,'source':(0x0,w['getDevice'])(_0x43bd8['key']['id']),..._0x1fd6eb},'messageTimestamp':_0x43bd8[_0x773e2c(0x18b)]&&_0x43bd8[_0x773e2c(0x18b)][_0x773e2c(0x830)]()['length']<0xd?_0x43bd8[_0x773e2c(0x18b)]*0x3e8:_0x43bd8[_0x773e2c(0x18b)]||null,'owner':this[_0x773e2c(0x240)][_0x773e2c(0x834)],'source':(0x0,w['getDevice'])(_0x43bd8['key']['id'])};return this[_0x773e2c(0x44e)][_0x773e2c(0x773)](this[_0x773e2c(0x82b)]+'\x20('+this[_0x773e2c(0x240)][_0x773e2c(0x834)]+'):\x20enviado\x20para\x20['+_0x46ff9c[_0x773e2c(0x77d)]?.[_0x773e2c(0x6e1)]['replace'](_0x773e2c(0x559),'')+_0x773e2c(0x1f3)+_0x46ff9c[_0x773e2c(0x390)]+')'),_0x46ff9c[_0x773e2c(0x3a3)]?.[_0x773e2c(0x6e7)]&&this[_0x773e2c(0x44e)][_0x773e2c(0x773)](_0x46ff9c[_0x773e2c(0x3a3)]?.[_0x773e2c(0x6e7)]),this[_0x773e2c(0x856)](_0x773e2c(0x4d7),_0x46ff9c),j(this[_0x773e2c(0x82b)],_0x773e2c(0x6a7),{'message':_0x46ff9c}),this[_0x773e2c(0x1a9)](this['configService'][_0x773e2c(0x2c5)](_0x773e2c(0x815)),_0x46ff9c,'SEND_MESSAGE',_0x3b39b9),await this[_0x773e2c(0x37d)][_0x773e2c(0x552)][_0x773e2c(0x6a2)]([_0x46ff9c],this[_0x773e2c(0x240)][_0x773e2c(0x834)]),_0x43bd8;}catch(_0x1d54e0){let _0x314efa=_0x773e2c(0x135)+_0x76e53e,_0x5b6b78=_0x1d54e0 instanceof Error?_0x1d54e0[_0x773e2c(0x552)]:typeof _0x1d54e0==_0x773e2c(0x7e5)?JSON[_0x773e2c(0x3cc)](_0x1d54e0):_0x1d54e0,_0xa34211=_0x314efa+':\x20'+_0x5b6b78;throw this[_0x773e2c(0x44e)][_0x773e2c(0x4f6)](this[_0x773e2c(0x82b)]+'\x20('+this[_0x773e2c(0x240)][_0x773e2c(0x834)]+_0x773e2c(0x309)+_0xa34211),new m(_0xa34211);}}get[a0_0x4ac10f(0x363)](){const _0x527a68=a0_0x4ac10f;return this[_0x527a68(0x707)];}async[a0_0x4ac10f(0x48d)](_0xc786e2){const _0x25e4ae=a0_0x4ac10f;return await this[_0x25e4ae(0x618)](_0xc786e2[_0x25e4ae(0x1e2)],{'conversation':_0xc786e2['textMessage'][_0x25e4ae(0x6e7)]},_0xc786e2?.[_0x25e4ae(0x697)]);}async[a0_0x4ac10f(0x387)](_0x43fb5c){const _0x236130=a0_0x4ac10f;if(!_0x43fb5c[_0x236130(0x14f)])throw new m(_0x236130(0x65f));if(!_0x43fb5c[_0x236130(0x715)])throw new m(_0x236130(0x213));if(_0x43fb5c[_0x236130(0x477)]){let _0x588590=await this[_0x236130(0x37d)][_0x236130(0x4b7)][_0x236130(0x7c1)]({'where':{}},this['instance'][_0x236130(0x834)]);if(!_0x588590[_0x236130(0x30c)])throw new m('Contacts\x20not\x20found');_0x43fb5c[_0x236130(0x789)]=_0x588590[_0x236130(0x820)](_0xdf08b8=>_0xdf08b8[_0x236130(0x364)])[_0x236130(0x3c7)](_0x21561c=>_0x21561c[_0x236130(0x261)]);}if(!_0x43fb5c[_0x236130(0x789)]?.[_0x236130(0x30c)]&&!_0x43fb5c[_0x236130(0x477)])throw new m(_0x236130(0x4d0));if(_0x43fb5c['type']===_0x236130(0x6e7)){if(!_0x43fb5c[_0x236130(0x4ad)])throw new m('Background\x20color\x20is\x20required');if(!_0x43fb5c[_0x236130(0x4b8)])throw new m('Font\x20is\x20required');return{'content':{'text':_0x43fb5c[_0x236130(0x715)]},'option':{'backgroundColor':_0x43fb5c[_0x236130(0x4ad)],'font':_0x43fb5c[_0x236130(0x4b8)],'statusJidList':_0x43fb5c[_0x236130(0x789)]}};}if(_0x43fb5c[_0x236130(0x14f)]===_0x236130(0x5b6))return{'content':{'image':{'url':_0x43fb5c[_0x236130(0x715)]},'caption':_0x43fb5c[_0x236130(0x276)]},'option':{'statusJidList':_0x43fb5c[_0x236130(0x789)]}};if(_0x43fb5c['type']==='video')return{'content':{'video':{'url':_0x43fb5c[_0x236130(0x715)]},'caption':_0x43fb5c[_0x236130(0x276)]},'option':{'statusJidList':_0x43fb5c[_0x236130(0x789)]}};if(_0x43fb5c[_0x236130(0x14f)]===_0x236130(0x75c)){this['logger']['verbose'](this[_0x236130(0x82b)]+'\x20('+this[_0x236130(0x240)][_0x236130(0x834)]+_0x236130(0x1a1)),this['logger'][_0x236130(0x188)](this[_0x236130(0x82b)]+'\x20('+this[_0x236130(0x240)][_0x236130(0x834)]+_0x236130(0x556));let _0x111a74=await this['convertaudio'](_0x43fb5c[_0x236130(0x715)]);if(typeof _0x111a74=='string'){this[_0x236130(0x44e)]['verbose'](this[_0x236130(0x82b)]+'\x20('+this[_0x236130(0x240)][_0x236130(0x834)]+'):Audio\x20processed');let _0x58398d=L[_0x236130(0x5a1)](_0x111a74)[_0x236130(0x830)](_0x236130(0x7b9));return{'content':{'audio':Buffer[_0x236130(0x736)](_0x58398d,_0x236130(0x7b9)),'ptt':!0x0,'mimetype':'audio/ogg'},'option':{'statusJidList':_0x43fb5c[_0x236130(0x789)]}};}else throw new _(_0x111a74);}throw new m('Type\x20not\x20found');}async[a0_0x4ac10f(0x7dd)](_0x52f0){const _0x54e5ab=a0_0x4ac10f;return await this[_0x54e5ab(0x618)](_0x54e5ab(0x82a),{'status':await this[_0x54e5ab(0x387)](_0x52f0[_0x54e5ab(0x7dd)])});}async[a0_0x4ac10f(0x54e)](_0xf603a2){const _0x4bf0f0=a0_0x4ac10f;try{let _0x187540=await(0x0,w[_0x4bf0f0(0x704)])({[_0xf603a2[_0x4bf0f0(0x291)]]:(0x0,k['isURL'])(_0xf603a2[_0x4bf0f0(0x27d)])?{'url':_0xf603a2[_0x4bf0f0(0x27d)]}:Buffer['from'](_0xf603a2[_0x4bf0f0(0x27d)],_0x4bf0f0(0x7b9))},{'upload':this[_0x4bf0f0(0x18f)]['waUploadToServer']}),_0x5d86a4=_0xf603a2[_0x4bf0f0(0x291)]+'Message';if(_0xf603a2['mediatype']===_0x4bf0f0(0x7b6)&&!_0xf603a2[_0x4bf0f0(0x7ec)]){let _0x4b0179=new RegExp(/.*\/(.+?)\./)['exec'](_0xf603a2['media']);_0xf603a2[_0x4bf0f0(0x7ec)]=_0x4b0179?_0x4b0179[0x1]:null;}let _0x3da857=(0x0,k['isURL'])(_0xf603a2[_0x4bf0f0(0x27d)])?_0xf603a2[_0x4bf0f0(0x27d)][_0x4bf0f0(0x3eb)]('?')[0x0]:_0xf603a2[_0x4bf0f0(0x27d)],_0x2a77bb;return(0x0,k[_0x4bf0f0(0x3db)])(_0xf603a2['media'])?_0x2a77bb=(0x0,jt[_0x4bf0f0(0x7e9)])(_0x3da857):_0xf603a2[_0x4bf0f0(0x7ec)]&&_0xf603a2[_0x4bf0f0(0x7ec)][_0x4bf0f0(0x19a)]('.')?_0x2a77bb=(0x0,jt[_0x4bf0f0(0x7e9)])(_0xf603a2[_0x4bf0f0(0x7ec)]):_0x2a77bb=(0x0,jt[_0x4bf0f0(0x7e9)])(_0xf603a2['media']),_0x187540[_0x5d86a4][_0x4bf0f0(0x276)]=_0xf603a2?.[_0x4bf0f0(0x276)],_0x187540[_0x5d86a4][_0x4bf0f0(0x4c9)]=_0x2a77bb,_0x187540[_0x5d86a4][_0x4bf0f0(0x7ec)]=_0xf603a2[_0x4bf0f0(0x7ec)],_0xf603a2['mediatype']==='video'&&(_0x187540[_0x5d86a4][_0x4bf0f0(0x7e7)]=Uint8Array['from']((0x0,Pe['readFileSync'])((0x0,U[_0x4bf0f0(0x650)])(process['cwd'](),_0x4bf0f0(0x671)))),_0x187540[_0x5d86a4][_0x4bf0f0(0x5d9)]=!0x1),(0x0,w['generateWAMessageFromContent'])('',{[_0x5d86a4]:{..._0x187540[_0x5d86a4]}},{'userJid':this[_0x4bf0f0(0x240)][_0x4bf0f0(0x834)]});}catch(_0x36418b){let _0xe674cf=_0x4bf0f0(0x636),_0x491700=_0x36418b instanceof Error?_0x36418b[_0x4bf0f0(0x552)]:typeof _0x36418b==_0x4bf0f0(0x7e5)?JSON[_0x4bf0f0(0x3cc)](_0x36418b):_0x36418b,_0x3d7ac5=_0xe674cf+':\x20'+_0x491700;throw this[_0x4bf0f0(0x44e)]['error'](this[_0x4bf0f0(0x82b)]+'\x20('+this[_0x4bf0f0(0x240)][_0x4bf0f0(0x834)]+_0x4bf0f0(0x309)+_0x3d7ac5),new _(_0x3d7ac5);}}async[a0_0x4ac10f(0x829)](_0x916320){const _0x32fe03=a0_0x4ac10f;let _0x2f7cc4=await this[_0x32fe03(0x54e)](_0x916320[_0x32fe03(0x829)]);return await this[_0x32fe03(0x618)](_0x916320[_0x32fe03(0x1e2)],{..._0x2f7cc4['message']},_0x916320?.['options']);}async['convertToWebP'](_0x174870,_0x41da4e){const _0x5b522a=a0_0x4ac10f;try{this[_0x5b522a(0x44e)][_0x5b522a(0x188)](this[_0x5b522a(0x82b)]+'\x20('+this['instance'][_0x5b522a(0x834)]+_0x5b522a(0x3e4));let _0x4230a0,_0x35e7bc=_0x41da4e+'-'+new Date()[_0x5b522a(0x2fd)]();this[_0x5b522a(0x44e)][_0x5b522a(0x188)](this[_0x5b522a(0x82b)]+'\x20('+this[_0x5b522a(0x240)][_0x5b522a(0x834)]+_0x5b522a(0x534)+_0x35e7bc);let _0x24ac36=''+(0x0,U['join'])(this[_0x5b522a(0x716)],_0x35e7bc+'.webp');if(this[_0x5b522a(0x44e)][_0x5b522a(0x188)](this[_0x5b522a(0x82b)]+'\x20('+this[_0x5b522a(0x240)][_0x5b522a(0x834)]+_0x5b522a(0x19b)+_0x24ac36),(0x0,k[_0x5b522a(0x665)])(_0x174870)){this[_0x5b522a(0x44e)]['verbose'](this['instanceName']+'\x20('+this[_0x5b522a(0x240)][_0x5b522a(0x834)]+_0x5b522a(0x72d));let _0x48d6c6=_0x174870[_0x5b522a(0x527)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x48e1a5=Buffer[_0x5b522a(0x736)](_0x48d6c6,_0x5b522a(0x7b9));_0x4230a0=''+(0x0,U[_0x5b522a(0x650)])(this[_0x5b522a(0x716)],_0x5b522a(0x2c7)+_0x35e7bc+_0x5b522a(0x6ab)),this[_0x5b522a(0x44e)][_0x5b522a(0x188)](this[_0x5b522a(0x82b)]+'\x20('+this[_0x5b522a(0x240)][_0x5b522a(0x834)]+_0x5b522a(0x3f5)+_0x4230a0),await(0x0,Jt[_0x5b522a(0x5b7)])(_0x48e1a5)[_0x5b522a(0x45d)](_0x4230a0),this['logger'][_0x5b522a(0x188)](this[_0x5b522a(0x82b)]+'\x20('+this['instance']['wuid']+'):Image\x20created');}else{this[_0x5b522a(0x44e)][_0x5b522a(0x188)](this[_0x5b522a(0x82b)]+'\x20('+this[_0x5b522a(0x240)]['wuid']+_0x5b522a(0x2e6));let _0x5af64d=new Date()[_0x5b522a(0x2fd)](),_0x2fa910=_0x174870+'?timestamp='+_0x5af64d;this[_0x5b522a(0x44e)][_0x5b522a(0x188)](this[_0x5b522a(0x82b)]+'\x20('+this['instance'][_0x5b522a(0x834)]+_0x5b522a(0x152)+_0x2fa910);let _0x3e1fb0=await Z[_0x5b522a(0x5b7)][_0x5b522a(0x2c5)](_0x2fa910,{'responseType':_0x5b522a(0x1dc)});this[_0x5b522a(0x44e)][_0x5b522a(0x188)](this[_0x5b522a(0x82b)]+'\x20('+this[_0x5b522a(0x240)][_0x5b522a(0x834)]+'):Getting\x20image\x20from\x20url');let _0x20d953=Buffer['from'](_0x3e1fb0[_0x5b522a(0x123)],_0x5b522a(0x151));_0x4230a0=''+(0x0,U[_0x5b522a(0x650)])(this[_0x5b522a(0x716)],_0x5b522a(0x2c7)+_0x35e7bc+_0x5b522a(0x6ab)),this[_0x5b522a(0x44e)][_0x5b522a(0x188)](this[_0x5b522a(0x82b)]+'\x20('+this[_0x5b522a(0x240)][_0x5b522a(0x834)]+'):Image\x20path:\x20'+_0x4230a0),await(0x0,Jt['default'])(_0x20d953)[_0x5b522a(0x45d)](_0x4230a0),this[_0x5b522a(0x44e)][_0x5b522a(0x188)](this['instanceName']+'\x20('+this[_0x5b522a(0x240)][_0x5b522a(0x834)]+_0x5b522a(0x2f5));}return await(0x0,Jt[_0x5b522a(0x5b7)])(_0x4230a0)[_0x5b522a(0x12f)]()[_0x5b522a(0x45d)](_0x24ac36),this['logger'][_0x5b522a(0x188)](this[_0x5b522a(0x82b)]+'\x20('+this['instance'][_0x5b522a(0x834)]+_0x5b522a(0x7dc)),L[_0x5b522a(0x34d)](_0x4230a0),this[_0x5b522a(0x44e)][_0x5b522a(0x188)](this['instanceName']+'\x20('+this[_0x5b522a(0x240)]['wuid']+_0x5b522a(0x661)),_0x24ac36;}catch(_0x16fd52){let _0x325706=_0x5b522a(0x7d5),_0x3c5e4a=_0x16fd52 instanceof Error?_0x16fd52[_0x5b522a(0x552)]:typeof _0x16fd52==_0x5b522a(0x7e5)?JSON[_0x5b522a(0x3cc)](_0x16fd52):_0x16fd52,_0x3fca00=_0x325706+':\x20'+_0x3c5e4a;this[_0x5b522a(0x44e)][_0x5b522a(0x4f6)](this[_0x5b522a(0x82b)]+'\x20('+this[_0x5b522a(0x240)]['wuid']+_0x5b522a(0x309)+_0x3fca00);}}async[a0_0x4ac10f(0x453)](_0x20585d){const _0x354adb=a0_0x4ac10f;let _0x111168=await this[_0x354adb(0x4f3)](_0x20585d[_0x354adb(0x32b)][_0x354adb(0x5b6)],_0x20585d[_0x354adb(0x1e2)]),_0x35a59f=await this['sendMessageWithTyping'](_0x20585d['number'],{'sticker':{'url':_0x111168}},_0x20585d?.[_0x354adb(0x697)]);return L['unlinkSync'](_0x111168),this[_0x354adb(0x44e)]['verbose'](this[_0x354adb(0x82b)]+'\x20('+this['instance'][_0x354adb(0x834)]+_0x354adb(0x3ff)),_0x35a59f;}async[a0_0x4ac10f(0x588)](_0x15a3ab){const _0x3fd06f=a0_0x4ac10f;if(this['logger'][_0x3fd06f(0x188)](this[_0x3fd06f(0x82b)]+'\x20('+this[_0x3fd06f(0x240)][_0x3fd06f(0x834)]+_0x3fd06f(0x4d6)),!_0x15a3ab['options']?.[_0x3fd06f(0x5e0)]&&_0x15a3ab[_0x3fd06f(0x697)]?.[_0x3fd06f(0x5e0)]!==!0x1&&(_0x15a3ab[_0x3fd06f(0x697)]['encoding']=!0x0),_0x15a3ab[_0x3fd06f(0x697)]?.['encoding']){let _0x1371c9=await this[_0x3fd06f(0x335)](_0x15a3ab[_0x3fd06f(0x3a5)][_0x3fd06f(0x75c)]);if(typeof _0x1371c9==_0x3fd06f(0x525)){let _0x39aa07=L[_0x3fd06f(0x5a1)](_0x1371c9)[_0x3fd06f(0x830)](_0x3fd06f(0x7b9));return this[_0x3fd06f(0x618)](_0x15a3ab[_0x3fd06f(0x1e2)],{'audio':Buffer[_0x3fd06f(0x736)](_0x39aa07,_0x3fd06f(0x7b9)),'ptt':!0x0,'mimetype':_0x3fd06f(0x3c0)},{'presence':'recording','delay':_0x15a3ab?.[_0x3fd06f(0x697)]?.[_0x3fd06f(0x3cd)]});}else throw new _(_0x1371c9);}return await this[_0x3fd06f(0x618)](_0x15a3ab[_0x3fd06f(0x1e2)],{'audio':(0x0,k[_0x3fd06f(0x3db)])(_0x15a3ab['audioMessage']['audio'])?{'url':_0x15a3ab[_0x3fd06f(0x3a5)]['audio']}:Buffer[_0x3fd06f(0x736)](_0x15a3ab[_0x3fd06f(0x3a5)]['audio'],'base64'),'ptt':!0x0,'mimetype':_0x3fd06f(0x3c0)},{'presence':_0x3fd06f(0x5ba),'delay':_0x15a3ab?.['options']?.[_0x3fd06f(0x3cd)]});}async[a0_0x4ac10f(0x335)](_0x4c8d76){const _0x49a095=a0_0x4ac10f;this[_0x49a095(0x44e)][_0x49a095(0x188)](this[_0x49a095(0x82b)]+'\x20('+this[_0x49a095(0x240)][_0x49a095(0x834)]+_0x49a095(0x556));let _0x5e268f=(0x0,k[_0x49a095(0x3db)])(_0x4c8d76)?(0x0,qt[_0x49a095(0x712)])(_0x49a095(0x600))['update'](_0x4c8d76)[_0x49a095(0x6c1)](_0x49a095(0x869)):(0x0,qt['createHash'])('sha256')[_0x49a095(0x256)](_0x4c8d76)[_0x49a095(0x6c1)](_0x49a095(0x869)),_0x119ab5=''+(0x0,U[_0x49a095(0x650)])(this[_0x49a095(0x716)],_0x5e268f+_0x49a095(0x70d));if(L[_0x49a095(0x355)](_0x119ab5))return this[_0x49a095(0x44e)][_0x49a095(0x188)](this[_0x49a095(0x82b)]+'\x20('+this[_0x49a095(0x240)]['wuid']+_0x49a095(0x3b0)),_0x119ab5;let _0x1caa19=''+(0x0,U[_0x49a095(0x650)])(this[_0x49a095(0x716)],_0x49a095(0x2c7)+(0x0,me['v4'])()+_0x49a095(0x1c5));if((0x0,k[_0x49a095(0x3db)])(_0x4c8d76)){let _0x5b3636=new Date()[_0x49a095(0x2fd)](),_0x33f527=_0x4c8d76+_0x49a095(0x63f)+_0x5b3636,_0x1979ce=await Z[_0x49a095(0x5b7)]['get'](_0x33f527,{'responseType':_0x49a095(0x1dc)});L[_0x49a095(0x24e)](_0x1caa19,_0x1979ce[_0x49a095(0x123)]);}else{let _0x4a5a32=Buffer[_0x49a095(0x736)](_0x4c8d76,'base64');L[_0x49a095(0x24e)](_0x1caa19,_0x4a5a32);}return new Promise((_0x5f40e7,_0x4ecdec)=>{const _0x420e24=_0x49a095;(0x0,ke[_0x420e24(0x60f)])(Ds[_0x420e24(0x5b7)][_0x420e24(0x63a)]+_0x420e24(0x7ab)+_0x1caa19+_0x420e24(0x68d)+_0x119ab5+_0x420e24(0x85f),_0x4a8ae8=>{const _0x4686ed=_0x420e24;if(L['unlinkSync'](_0x1caa19),_0x4a8ae8){this[_0x4686ed(0x44e)]['verbose'](this[_0x4686ed(0x82b)]+'\x20('+this['instance'][_0x4686ed(0x834)]+'):Error\x20in\x20converting\x20audio'),_0x4ecdec(_0x4a8ae8);return;}this[_0x4686ed(0x44e)][_0x4686ed(0x188)](this['instanceName']+'\x20('+this['instance'][_0x4686ed(0x834)]+_0x4686ed(0x132)),_0x5f40e7(_0x119ab5);});});}async[a0_0x4ac10f(0x19d)](_0x17e8d5){const _0xb61e0e=a0_0x4ac10f;this[_0xb61e0e(0x44e)][_0xb61e0e(0x188)](this[_0xb61e0e(0x82b)]+'\x20('+this[_0xb61e0e(0x240)][_0xb61e0e(0x834)]+_0xb61e0e(0x556));let _0x1f6d8e=(0x0,qt[_0xb61e0e(0x712)])('sha256')[_0xb61e0e(0x256)](_0x17e8d5)[_0xb61e0e(0x6c1)](_0xb61e0e(0x869)),_0x4aca1e=''+(0x0,U[_0xb61e0e(0x650)])(this[_0xb61e0e(0x716)],_0x1f6d8e+_0xb61e0e(0x1c5));if(L[_0xb61e0e(0x355)](_0x4aca1e))return this[_0xb61e0e(0x44e)][_0xb61e0e(0x188)](this[_0xb61e0e(0x82b)]+'\x20('+this[_0xb61e0e(0x240)][_0xb61e0e(0x834)]+_0xb61e0e(0x3b0)),U[_0xb61e0e(0x5b7)][_0xb61e0e(0x447)](_0x4aca1e);let _0x48988c=''+(0x0,U[_0xb61e0e(0x650)])(this[_0xb61e0e(0x716)],_0xb61e0e(0x2c7)+_0x1f6d8e+_0xb61e0e(0x70d));if((0x0,k[_0xb61e0e(0x3db)])(_0x17e8d5)){let _0x185300=new Date()[_0xb61e0e(0x2fd)](),_0x2f81c6=_0x17e8d5+_0xb61e0e(0x63f)+_0x185300,_0x5136ce=await Z[_0xb61e0e(0x5b7)]['get'](_0x2f81c6,{'responseType':_0xb61e0e(0x1dc)});L['writeFileSync'](_0x48988c,_0x5136ce[_0xb61e0e(0x123)]);}else{let _0x4a4c87=Buffer[_0xb61e0e(0x736)](_0x17e8d5,'base64');L[_0xb61e0e(0x24e)](_0x48988c,_0x4a4c87);}return new Promise((_0x398def,_0x329e2f)=>{const _0x2bf746=_0xb61e0e;(0x0,ke[_0x2bf746(0x60f)])(Ds[_0x2bf746(0x5b7)][_0x2bf746(0x63a)]+_0x2bf746(0x7ab)+_0x48988c+_0x2bf746(0x36c)+_0x4aca1e+_0x2bf746(0x85f),_0x4c0120=>{const _0x6961b0=_0x2bf746;if(L[_0x6961b0(0x34d)](_0x48988c),_0x4c0120){this[_0x6961b0(0x44e)][_0x6961b0(0x188)](this[_0x6961b0(0x82b)]+'\x20('+this[_0x6961b0(0x240)][_0x6961b0(0x834)]+_0x6961b0(0x701)),_0x329e2f(_0x4c0120);return;}this[_0x6961b0(0x44e)]['verbose'](this[_0x6961b0(0x82b)]+'\x20('+this['instance'][_0x6961b0(0x834)]+_0x6961b0(0x132)),_0x398def(U[_0x6961b0(0x5b7)][_0x6961b0(0x447)](_0x4aca1e));});});}async['buttonMessage'](_0x4b7703){const _0x6d1483=a0_0x4ac10f;let _0x22d389={},_0x5db81f=_0x6d1483(0x162);if(_0x4b7703[_0x6d1483(0x685)]?.[_0x6d1483(0x829)]){_0x5db81f=_0x4b7703[_0x6d1483(0x685)]['mediaMessage']?.['mediatype'][_0x6d1483(0x46a)]()??'TEXT',_0x22d389[_0x6d1483(0x2f7)]=_0x5db81f[_0x6d1483(0x35c)]()+'Message';let _0x368c3b=await this[_0x6d1483(0x54e)](_0x4b7703['buttonMessage'][_0x6d1483(0x829)]);_0x22d389[_0x6d1483(0x552)]=_0x368c3b[_0x6d1483(0x552)][_0x22d389['mediaKey']],_0x22d389[_0x6d1483(0x5e3)]='*'+_0x4b7703[_0x6d1483(0x685)]['title']+_0x6d1483(0x724)+_0x4b7703['buttonMessage'][_0x6d1483(0x4db)];}let _0x56455d={'text':_0x4b7703[_0x6d1483(0x685)]['buttons'][_0x6d1483(0x3c7)](_0x164d15=>_0x164d15[_0x6d1483(0x255)]),'ids':_0x4b7703['buttonMessage'][_0x6d1483(0x65c)]['map'](_0x214891=>_0x214891[_0x6d1483(0x5bd)])};if(!(0x0,k['arrayUnique'])(_0x56455d[_0x6d1483(0x6e7)])||!(0x0,k[_0x6d1483(0x73f)])(_0x56455d['ids']))throw new m(_0x6d1483(0x457),_0x6d1483(0x370));return await this['sendMessageWithTyping'](_0x4b7703['number'],{'buttonsMessage':{'text':_0x22d389?.[_0x6d1483(0x2f7)]?void 0x0:_0x4b7703[_0x6d1483(0x685)]['title'],'contentText':_0x22d389?.[_0x6d1483(0x5e3)]??_0x4b7703[_0x6d1483(0x685)]['description'],'footerText':_0x4b7703[_0x6d1483(0x685)]?.['footerText'],'buttons':_0x4b7703[_0x6d1483(0x685)][_0x6d1483(0x65c)][_0x6d1483(0x3c7)](_0x48da5f=>({'buttonText':{'displayText':_0x48da5f[_0x6d1483(0x255)]},'buttonId':_0x48da5f[_0x6d1483(0x5bd)],'type':0x1})),'headerType':w[_0x6d1483(0x50a)][_0x6d1483(0x1b1)][_0x6d1483(0x705)][_0x6d1483(0x714)][_0x5db81f],[_0x22d389?.['mediaKey']]:_0x22d389?.['message']}},_0x4b7703?.['options']);}async[a0_0x4ac10f(0x359)](_0x3cb484){const _0xeacf8b=a0_0x4ac10f;return await this['sendMessageWithTyping'](_0x3cb484[_0xeacf8b(0x1e2)],{'locationMessage':{'degreesLatitude':_0x3cb484[_0xeacf8b(0x359)][_0xeacf8b(0x507)],'degreesLongitude':_0x3cb484[_0xeacf8b(0x359)][_0xeacf8b(0x6d7)],'name':_0x3cb484[_0xeacf8b(0x359)]?.['name'],'address':_0x3cb484['locationMessage']?.['address']}},_0x3cb484?.['options']);}async[a0_0x4ac10f(0x583)](_0x1180b6){const _0x178fd5=a0_0x4ac10f;let _0x408bb1={},_0x3f067b=async _0x353015=>{const _0x205078=a0_0x3b98;let _0x364d4f='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x353015[_0x205078(0x781)]+_0x205078(0x32c)+_0x353015[_0x205078(0x781)]+'\x0a';_0x353015[_0x205078(0x26b)]&&(_0x364d4f+='ORG:'+_0x353015[_0x205078(0x26b)]+';\x0a'),_0x353015['email']&&(_0x364d4f+=_0x205078(0x201)+_0x353015[_0x205078(0x1fa)]+'\x0a'),_0x353015[_0x205078(0x690)]&&(_0x364d4f+=_0x205078(0x221)+_0x353015[_0x205078(0x690)]+'\x0a');let _0x1fc741='',_0x20f6aa=0x1;if(_0x353015['phoneNumber']){let _0x3c06b1=_0x353015[_0x205078(0x654)][_0x205078(0x3eb)]('|');for(let _0x4f2f50 of _0x3c06b1){let _0x1bd5b7=await this[_0x205078(0x2a7)]({'numbers':[_0x4f2f50]}),_0x522f95=(_0x1bd5b7['length']>0x0?_0x1bd5b7[0x0][_0x205078(0x49b)]:this[_0x205078(0x656)](_0x4f2f50))[_0x205078(0x527)](_0x205078(0x559),'');_0x1fc741+=_0x205078(0x2af)+_0x20f6aa+'.TEL;waid='+_0x522f95+':'+_0x4f2f50+'\x0aitem'+_0x20f6aa+'.X-ABLabel:Celular\x0a',_0x20f6aa++;}}return _0x364d4f+=_0x1fc741+_0x205078(0x7de),_0x364d4f;};return _0x1180b6['contactMessage']['length']===0x1?_0x408bb1[_0x178fd5(0x583)]={'displayName':_0x1180b6['contactMessage'][0x0][_0x178fd5(0x781)],'vcard':await _0x3f067b(_0x1180b6[_0x178fd5(0x583)][0x0])}:_0x408bb1[_0x178fd5(0x3a9)]={'displayName':_0x1180b6[_0x178fd5(0x583)][_0x178fd5(0x30c)]+'\x20contacts','contacts':await Promise[_0x178fd5(0x428)](_0x1180b6[_0x178fd5(0x583)][_0x178fd5(0x3c7)](async _0x5c3086=>({'displayName':_0x5c3086[_0x178fd5(0x781)],'vcard':await _0x3f067b(_0x5c3086)})))},await this[_0x178fd5(0x618)](_0x1180b6[_0x178fd5(0x1e2)],{..._0x408bb1},_0x1180b6?.[_0x178fd5(0x697)]);}async[a0_0x4ac10f(0x3ae)](_0x5629b7){const _0x142e59=a0_0x4ac10f;return await this['sendMessageWithTyping'](_0x5629b7[_0x142e59(0x3ae)][_0x142e59(0x77d)]['remoteJid'],{'reactionMessage':{'key':_0x5629b7[_0x142e59(0x3ae)]['key'],'text':_0x5629b7[_0x142e59(0x3ae)]['reaction']}});}async[a0_0x4ac10f(0x2a7)](_0x2f7d3c){const _0x365e52=a0_0x4ac10f;let _0x523173=[];for await(let _0x1c1f12 of _0x2f7d3c[_0x365e52(0x1ef)]){let _0x428da9=this[_0x365e52(0x656)](_0x1c1f12),_0x361e88=!0x1;try{if((0x0,w[_0x365e52(0x376)])(_0x428da9)){let _0x447ce3=(await this[_0x365e52(0x37d)][_0x365e52(0x413)][_0x365e52(0x349)]({'where':{'_id':_0x428da9}},this[_0x365e52(0x240)]['wuid']))['groupdata'];_0x447ce3?(_0x361e88=!0x0,_0x523173[_0x365e52(0x304)](new ne(_0x447ce3['id'],_0x361e88,_0x447ce3?.[_0x365e52(0x5d0)]))):(_0x447ce3=await this[_0x365e52(0x55a)]({'groupJid':_0x428da9},'inner'),_0x523173[_0x365e52(0x304)](new ne(_0x447ce3['id'],!!_0x447ce3?.['id'],_0x447ce3?.['subject'])));}else{if(_0x428da9['includes'](_0x365e52(0x836)))_0x523173[_0x365e52(0x304)](new ne(_0x428da9,!0x0));else{let _0x3ca60d=(await this[_0x365e52(0x18f)][_0x365e52(0x603)](_0x428da9))[0x0];_0x523173[_0x365e52(0x304)](new ne(_0x3ca60d['jid'],_0x3ca60d['exists']));}}}catch{(0x0,w[_0x365e52(0x376)])(_0x428da9)||await this[_0x365e52(0x1bc)](_0x428da9),_0x523173[_0x365e52(0x304)](new ne(_0x1c1f12,!0x1));}}return _0x523173;}async[a0_0x4ac10f(0x1bc)](_0x1165d8){const _0x3643da=a0_0x4ac10f;try{await this[_0x3643da(0x37d)][_0x3643da(0x413)][_0x3643da(0x349)]({'where':{'_id':_0x1165d8,'imported':!0x0}},this[_0x3643da(0x240)][_0x3643da(0x834)])&&(await this[_0x3643da(0x37d)][_0x3643da(0x413)][_0x3643da(0x3cf)](_0x1165d8,this[_0x3643da(0x240)][_0x3643da(0x834)]),this['logger'][_0x3643da(0x653)](_0x3643da(0x535)+_0x1165d8+_0x3643da(0x23f)));}catch(_0x36f9df){let _0x285966=_0x3643da(0x6e5),_0xc8aa6c=_0x36f9df instanceof Error?_0x36f9df['message']:typeof _0x36f9df==_0x3643da(0x7e5)?JSON[_0x3643da(0x3cc)](_0x36f9df):_0x36f9df,_0x6e56ad=_0x285966+':\x20'+_0xc8aa6c;this['logger'][_0x3643da(0x4f6)](this[_0x3643da(0x82b)]+'\x20('+this[_0x3643da(0x240)][_0x3643da(0x834)]+_0x3643da(0x309)+_0x6e56ad);}}async[a0_0x4ac10f(0x67a)](_0x199499){const _0x37777e=a0_0x4ac10f;try{let _0x1e04a8=_0x199499[_0x37777e(0x86a)][_0x37777e(0x820)](_0x44d449=>(0x0,w[_0x37777e(0x376)])(_0x44d449['remoteJid'])||(0x0,w['isJidUser'])(_0x44d449['remoteJid']))['map'](_0xd8857d=>({'remoteJid':_0xd8857d['remoteJid'],'fromMe':_0xd8857d[_0x37777e(0x31d)],'id':_0xd8857d['id']}));await this[_0x37777e(0x18f)][_0x37777e(0x86a)](_0x1e04a8);let _0x162496=_0x1e04a8[_0x37777e(0x3c7)](_0x133465=>this[_0x37777e(0x266)](_0x133465,{'status':_0x37777e(0x182),'owner':this[_0x37777e(0x240)][_0x37777e(0x834)]})),_0x356217=_0x1e04a8['map'](_0x29f39a=>this[_0x37777e(0x37d)]['chat'][_0x37777e(0x191)]({'where':{'_id':_0x29f39a[_0x37777e(0x6e1)]}},{'unreadcount':0x0},this[_0x37777e(0x240)][_0x37777e(0x834)])),[_0x493edf,_0xac1371]=await Promise[_0x37777e(0x428)]([Promise['all'](_0x162496),Promise['all'](_0x356217)]);return _0xac1371['filter'](_0x442252=>_0x442252!==null)[_0x37777e(0x843)](_0x187a9c=>{j(this['instanceName'],'chats',{'chat':_0x187a9c});}),{'message':_0x37777e(0x267),'read':_0x37777e(0x531)};}catch(_0xc74723){let _0x5a2695=_0x37777e(0x509),_0x5c790a=_0xc74723 instanceof Error?_0xc74723['message']:typeof _0xc74723==_0x37777e(0x7e5)?JSON[_0x37777e(0x3cc)](_0xc74723):_0xc74723,_0x46e762=_0x5a2695+':\x20'+_0x5c790a;throw this[_0x37777e(0x44e)][_0x37777e(0x4f6)](this[_0x37777e(0x82b)]+'\x20('+this[_0x37777e(0x240)][_0x37777e(0x834)]+_0x37777e(0x309)+_0x46e762),new _(_0x46e762);}}async[a0_0x4ac10f(0x169)](_0x1fa6fb){const _0x3af4b2=a0_0x4ac10f;let _0x2a868a={'where':{'key':{'remoteJid':_0x1fa6fb}},'limit':0x1},_0x8bf6db=await this[_0x3af4b2(0x26c)](_0x2a868a);return _0x8bf6db||(this['logger'][_0x3af4b2(0x4f6)](_0x3af4b2(0x3f9)+_0x1fa6fb),null);}async[a0_0x4ac10f(0x281)](_0x12b834){const _0x19d353=a0_0x4ac10f;this[_0x19d353(0x44e)][_0x19d353(0x188)](this['instanceName']+'\x20('+this[_0x19d353(0x240)][_0x19d353(0x834)]+_0x19d353(0x58b));try{let _0x1a4b7a=_0x12b834['lastMessage'],_0x5eda1f=_0x12b834[_0x19d353(0x413)];if(!_0x1a4b7a&&_0x5eda1f?_0x1a4b7a=await this['getLastMessage'](_0x5eda1f):(_0x1a4b7a=_0x12b834['lastMessage'],_0x1a4b7a[_0x19d353(0x18b)]=_0x1a4b7a?.['messageTimestamp']??Date[_0x19d353(0x77c)](),_0x5eda1f=_0x1a4b7a?.[_0x19d353(0x77d)]?.['remoteJid']),!_0x1a4b7a||Object['keys'](_0x1a4b7a)[_0x19d353(0x30c)]===0x0)throw new J(_0x19d353(0x31b));this[_0x19d353(0x44e)][_0x19d353(0x188)](this[_0x19d353(0x82b)]+'\x20('+this[_0x19d353(0x240)]['wuid']+_0x19d353(0x3ab)+_0x5eda1f);try{await this[_0x19d353(0x18f)][_0x19d353(0x56c)]({'archive':_0x12b834['archive'],'lastMessages':[_0x1a4b7a]},this['createJid'](_0x5eda1f));}catch(_0x3e96cf){let _0x1fbdf0=_0x19d353(0x433)+_0x5eda1f,_0x1a265a=_0x3e96cf instanceof Error?_0x3e96cf[_0x19d353(0x552)]:typeof _0x3e96cf==_0x19d353(0x7e5)?JSON[_0x19d353(0x3cc)](_0x3e96cf):_0x3e96cf,_0x3676a2=_0x1fbdf0+':\x20'+_0x1a265a;this[_0x19d353(0x44e)][_0x19d353(0x4f6)](this['instanceName']+'\x20('+this[_0x19d353(0x240)][_0x19d353(0x834)]+_0x19d353(0x309)+_0x3676a2);}this[_0x19d353(0x44e)][_0x19d353(0x188)](this[_0x19d353(0x82b)]+'\x20('+this[_0x19d353(0x240)][_0x19d353(0x834)]+_0x19d353(0x5ec)+_0x5eda1f);let _0x29afdb=await this['repository'][_0x19d353(0x413)][_0x19d353(0x191)]({'where':{'_id':_0x1a4b7a?.[_0x19d353(0x77d)]?.[_0x19d353(0x6e1)]}},{'archived':_0x12b834[_0x19d353(0x2a4)]},this[_0x19d353(0x240)][_0x19d353(0x834)]);return _0x29afdb?(this[_0x19d353(0x44e)][_0x19d353(0x188)](this[_0x19d353(0x82b)]+'\x20('+this[_0x19d353(0x240)]['wuid']+_0x19d353(0x37f)+JSON[_0x19d353(0x3cc)](_0x29afdb)),j(this[_0x19d353(0x82b)],_0x19d353(0x408),{'chat':_0x29afdb})):this['logger']['error'](this['instanceName']+'\x20('+this[_0x19d353(0x240)][_0x19d353(0x834)]+'):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x5eda1f),{'chatId':_0x5eda1f,'archived':_0x12b834['archive']};}catch(_0x2bfa3a){let _0x57a760=_0x19d353(0x6cc),_0x37d5c8=_0x2bfa3a instanceof Error?_0x2bfa3a['message']:typeof _0x2bfa3a==_0x19d353(0x7e5)?JSON['stringify'](_0x2bfa3a):_0x2bfa3a,_0x450688=_0x57a760+':\x20'+_0x37d5c8;throw this['logger'][_0x19d353(0x4f6)](this['instanceName']+'\x20('+this[_0x19d353(0x240)][_0x19d353(0x834)]+'):\x20'+_0x450688),new _(_0x450688);}}async[a0_0x4ac10f(0x3cf)](_0x3f0b77){const _0x2df47d=a0_0x4ac10f;this[_0x2df47d(0x44e)][_0x2df47d(0x188)](this[_0x2df47d(0x82b)]+'\x20('+this[_0x2df47d(0x240)][_0x2df47d(0x834)]+'):Delete\x20chat');try{let _0x16dd02=await this['getLastMessage'](_0x3f0b77);if(!_0x16dd02||Object[_0x2df47d(0x27b)](_0x16dd02)[_0x2df47d(0x30c)]===0x0)throw new J('Last\x20message\x20not\x20found');let _0x128726=_0x16dd02[0x0];this[_0x2df47d(0x44e)][_0x2df47d(0x188)](this[_0x2df47d(0x82b)]+'\x20('+this[_0x2df47d(0x240)][_0x2df47d(0x834)]+_0x2df47d(0x1c7)+_0x3f0b77);try{await this[_0x2df47d(0x18f)][_0x2df47d(0x56c)]({'delete':!0x0,'lastMessages':[{'key':_0x128726[_0x2df47d(0x77d)],'messageTimestamp':_0x128726['messageTimestamp']}]},this['createJid'](_0x3f0b77));}catch(_0x25cd1a){this[_0x2df47d(0x44e)]['error']('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x3f0b77+':\x20'+_0x25cd1a[_0x2df47d(0x830)]());}this[_0x2df47d(0x44e)][_0x2df47d(0x188)](this['instanceName']+'\x20('+this[_0x2df47d(0x240)]['wuid']+_0x2df47d(0x5ec)+_0x3f0b77);return;}catch(_0x518f50){throw this[_0x2df47d(0x44e)]['error'](this[_0x2df47d(0x82b)]+'\x20('+this[_0x2df47d(0x240)][_0x2df47d(0x834)]+_0x2df47d(0x7f8)+_0x518f50[_0x2df47d(0x830)]()),new _({'archived':!0x1,'message':[_0x2df47d(0x581),_0x518f50[_0x2df47d(0x830)]()]});}}async[a0_0x4ac10f(0x56b)](_0x436914){const _0x9981d4=a0_0x4ac10f;try{let _0x30ccc2=await this[_0x9981d4(0x18f)][_0x9981d4(0x1ee)](_0x436914['remoteJid'],{'delete':_0x436914});try{let _0x3cc977=await this['updateMessage'](_0x436914,{'status':'DELETED','owner':this['instance'][_0x9981d4(0x834)]});this[_0x9981d4(0x44e)][_0x9981d4(0x188)](this[_0x9981d4(0x82b)]+'\x20('+this[_0x9981d4(0x240)]['wuid']+_0x9981d4(0x824)+_0x3cc977);}catch(_0x7b9607){this[_0x9981d4(0x44e)][_0x9981d4(0x4f6)](_0x9981d4(0x22a)+_0x7b9607);}return _0x30ccc2;}catch(_0x4e611b){throw new _(_0x9981d4(0x6d2),_0x4e611b?.[_0x9981d4(0x830)]());}}async['getBase64FromMediaMessage'](_0x448f37){const _0x16132e=a0_0x4ac10f;try{let _0xbf208f=_0x448f37?.[_0x16132e(0x552)]?_0x448f37:await this[_0x16132e(0x40d)](_0x448f37[_0x16132e(0x77d)],!0x0);for(let _0x4f899a of Ea)_0xbf208f['message'][_0x4f899a]&&(_0xbf208f[_0x16132e(0x552)]=_0xbf208f[_0x16132e(0x552)][_0x4f899a]['message']);let _0x3fef8e,_0x4cab51;for(let _0x4bcda2 of Ca)if(_0x3fef8e=_0xbf208f[_0x16132e(0x552)][_0x4bcda2],_0x3fef8e){_0x4cab51=_0x4bcda2;break;}if(!_0x3fef8e)throw _0x16132e(0x2eb);typeof _0x3fef8e[_0x16132e(0x2f7)]==_0x16132e(0x7e5)&&(_0xbf208f[_0x16132e(0x552)]=JSON[_0x16132e(0x1af)](JSON[_0x16132e(0x3cc)](_0xbf208f[_0x16132e(0x552)])));let _0x332229=await(0x0,w[_0x16132e(0x758)])({'key':_0xbf208f?.[_0x16132e(0x77d)],'message':_0xbf208f?.[_0x16132e(0x552)]},_0x16132e(0x197),{},{'logger':(0x0,Ut[_0x16132e(0x5b7)])({'level':_0x16132e(0x69a)}),'reuploadRequest':this[_0x16132e(0x18f)][_0x16132e(0x472)]});if(!(_0x332229 instanceof Buffer))throw new Error(_0x16132e(0x4c8));let _0x476efd=this['configService'][_0x16132e(0x2c5)](_0x16132e(0x815)),_0x1aa03f,_0x2ff595;if(_0x3fef8e[_0x16132e(0x7ec)])_0x1aa03f=_0x3fef8e['fileName'];else{let _0x4dbcdf=_0x3fef8e[_0x16132e(0x4c9)]?.[_0x16132e(0x579)](/\/(\w+)/),_0x1ad2c5=_0x4dbcdf?_0x4dbcdf[0x1]:null;if(!_0x1ad2c5)throw new Error(_0x16132e(0x868));_0x1aa03f=(0x0,me['v4'])()+'.'+_0x1ad2c5;}_0x4cab51===_0x16132e(0x3a5)?_0x2ff595=_0x16132e(0x1cc)+await this[_0x16132e(0x19d)](_0x332229['toString'](_0x16132e(0x7b9))):(await this[_0x16132e(0x22d)](_0x332229,_0x1aa03f),_0x2ff595='/media/'+_0x1aa03f);let _0x2ff77f=this[_0x16132e(0x6de)][_0x16132e(0x2c5)](_0x16132e(0x32d))[_0x16132e(0x55c)];if(!_0x2ff77f){let _0x5c1717=this[_0x16132e(0x6de)]['get'](_0x16132e(0x5da));_0x2ff77f=_0x16132e(0x518)+(_0x5c1717&&_0x5c1717['FULLCHAIN'][_0x16132e(0x3eb)]('/')[0x4]);}_0x2ff595=''+_0x2ff77f+_0x2ff595;let _0x1ed16f=0xc*0x3c*0x3c*0x3e8,_0x195af7={'where':{'_id':_0xbf208f[_0x16132e(0x77d)]['id']}},_0x3078b6={'message_normalized.fileUrl':_0x2ff595,'message_normalized.expires_fileUrl':Date[_0x16132e(0x77c)]()+_0x1ed16f};try{let _0x312ad5=await this[_0x16132e(0x37d)]['message']['update'](_0x195af7,_0x3078b6,this[_0x16132e(0x240)]['wuid']);_0x312ad5&&j(this[_0x16132e(0x82b)],_0x16132e(0x6a7),{'message':_0x312ad5});}catch(_0x73404a){let _0x6a5638=_0x16132e(0x145),_0x3cb600=_0x73404a instanceof Error?_0x73404a[_0x16132e(0x552)]:typeof _0x73404a==_0x16132e(0x7e5)?JSON[_0x16132e(0x3cc)](_0x73404a):_0x73404a,_0x59a40f=_0x6a5638+':\x20'+_0x3cb600;this['logger'][_0x16132e(0x4f6)](this['instanceName']+'\x20('+this[_0x16132e(0x240)]['wuid']+'):\x20'+_0x59a40f);}return{'mediaType':_0x4cab51,'fileName':_0x3fef8e['fileName'],'caption':_0x3fef8e[_0x16132e(0x276)],'size':{'fileLength':_0x3fef8e[_0x16132e(0x259)],'height':_0x3fef8e[_0x16132e(0x763)],'width':_0x3fef8e[_0x16132e(0x6b2)]},'mimetype':_0x3fef8e['mimetype'],'base64':_0x332229[_0x16132e(0x830)](_0x16132e(0x7b9)),'fileUrl':_0x2ff595,'expires_fileUrl':Date[_0x16132e(0x77c)]()+_0x1ed16f};}catch(_0x34c8d3){let _0x35d3f3='Falha\x20ao\x20processar\x20a\x20solicitação',_0xa56a99=_0x34c8d3 instanceof Error?_0x34c8d3['message']:typeof _0x34c8d3==_0x16132e(0x7e5)?JSON[_0x16132e(0x3cc)](_0x34c8d3):_0x34c8d3,_0x16a51d=_0x35d3f3+':\x20'+_0xa56a99;throw this[_0x16132e(0x44e)][_0x16132e(0x4f6)](this['instanceName']+'\x20('+this[_0x16132e(0x240)][_0x16132e(0x834)]+_0x16132e(0x309)+_0x16a51d),new m(_0x16a51d);}}async[a0_0x4ac10f(0x22d)](_0x240d31,_0x5b2473){const _0x4200db=a0_0x4ac10f;let _0x3dc549=U[_0x4200db(0x5b7)][_0x4200db(0x650)](__dirname,_0x4200db(0x12c));L[_0x4200db(0x355)](_0x3dc549)||L[_0x4200db(0x79c)](_0x3dc549,{'recursive':!0x0});let _0x4012bf=U[_0x4200db(0x5b7)]['join'](_0x3dc549,_0x5b2473);return new Promise((_0x551d93,_0x2b496f)=>{const _0x4c38a0=_0x4200db;L[_0x4c38a0(0x64e)](_0x4012bf,_0x240d31,_0x249d42=>{const _0x5839f9=_0x4c38a0;_0x249d42?(this[_0x5839f9(0x44e)][_0x5839f9(0x4f6)](_0x5839f9(0x333)+(_0x249d42 instanceof Error?_0x249d42['message']:JSON[_0x5839f9(0x3cc)](_0x249d42,null,0x2))),_0x2b496f(_0x249d42)):(this['logger']['log'](_0x5839f9(0x71b)+_0x4012bf),_0x551d93(_0x4012bf));});});}async[a0_0x4ac10f(0x80b)](_0x3f19bc){const _0x25f59e=a0_0x4ac10f;return await this['repository'][_0x25f59e(0x4b7)]['find'](_0x3f19bc,this[_0x25f59e(0x240)][_0x25f59e(0x834)]);}async[a0_0x4ac10f(0x3c1)](){const _0x566f12=a0_0x4ac10f;return await this['repository'][_0x566f12(0x4da)][_0x566f12(0x7c1)]({'where':{}},this[_0x566f12(0x240)]['wuid']);}async['fetchMessages'](_0xf2989c){const _0x4bb5b9=a0_0x4ac10f;return await this[_0x4bb5b9(0x37d)][_0x4bb5b9(0x552)][_0x4bb5b9(0x7c1)](_0xf2989c,this[_0x4bb5b9(0x240)][_0x4bb5b9(0x834)]);}async['fetchChats'](){const _0xd6833f=a0_0x4ac10f;return this[_0xd6833f(0x37d)][_0xd6833f(0x413)][_0xd6833f(0x6fb)](this['instance']['wuid']),this[_0xd6833f(0x37d)]['chat'][_0xd6833f(0x6b3)](this[_0xd6833f(0x240)][_0xd6833f(0x834)]),this[_0xd6833f(0x37d)][_0xd6833f(0x413)][_0xd6833f(0x195)](this[_0xd6833f(0x240)][_0xd6833f(0x834)]),this[_0xd6833f(0x37d)]['chat']['updateMissingCustomFields'](this[_0xd6833f(0x240)][_0xd6833f(0x834)]),await this[_0xd6833f(0x37d)]['chat'][_0xd6833f(0x7c1)]({'where':{}},this[_0xd6833f(0x240)][_0xd6833f(0x834)]);}async[a0_0x4ac10f(0x3b5)](_0x43b433){const _0x3c91bd=a0_0x4ac10f;try{if(!Array[_0x3c91bd(0x5b5)](_0x43b433)||_0x43b433[_0x3c91bd(0x30c)]===0x0)throw new Error(_0x3c91bd(0x5a3));let _0x368b1e=[],_0x5c4f8c=[];for(let _0x35074f of _0x43b433){if(_0x35074f[_0x3c91bd(0x261)])_0x35074f[_0x3c91bd(0x261)]=this[_0x3c91bd(0x656)](_0x35074f[_0x3c91bd(0x261)]);else continue;await this[_0x3c91bd(0x37d)][_0x3c91bd(0x413)]['findOne']({'where':{'_id':_0x35074f[_0x3c91bd(0x261)]}},this[_0x3c91bd(0x240)]['wuid'])?_0x5c4f8c[_0x3c91bd(0x304)]({'_id':_0x35074f[_0x3c91bd(0x261)],'leadInfo':_0x35074f[_0x3c91bd(0x5fa)],'owner':this[_0x3c91bd(0x240)]['wuid']}):_0x368b1e['push']({'_id':_0x35074f['_id'],'owner':this['instance']['wuid'],'leadInfo':_0x35074f['leadInfo'],'imported':!0x0});}return _0x5c4f8c[_0x3c91bd(0x30c)]>0x0&&await this[_0x3c91bd(0x37d)][_0x3c91bd(0x413)][_0x3c91bd(0x130)](_0x5c4f8c[_0x3c91bd(0x3c7)](_0x260907=>({'query':{'where':{'_id':_0x260907[_0x3c91bd(0x261)],'owner':this[_0x3c91bd(0x240)][_0x3c91bd(0x834)]}},'update':_0x260907}))),_0x368b1e[_0x3c91bd(0x30c)]>0x0&&await this[_0x3c91bd(0x37d)][_0x3c91bd(0x413)][_0x3c91bd(0x5eb)](_0x368b1e,this[_0x3c91bd(0x240)]['wuid']),{'updated':_0x5c4f8c[_0x3c91bd(0x30c)],'inserted':_0x368b1e['length']};}catch(_0x158de1){let _0x4df007=_0x3c91bd(0x762),_0xbbbe64=_0x158de1 instanceof Error?_0x158de1['message']:typeof _0x158de1==_0x3c91bd(0x7e5)?JSON['stringify'](_0x158de1):_0x158de1,_0x184605=_0x4df007+':\x20'+_0xbbbe64;throw this[_0x3c91bd(0x44e)][_0x3c91bd(0x4f6)](this['instanceName']+'\x20('+this['instance'][_0x3c91bd(0x834)]+_0x3c91bd(0x309)+_0x184605),new m(_0x184605);}}async[a0_0x4ac10f(0x2a1)](_0x19e3a2){const _0x8055fb=a0_0x4ac10f;try{if(!Array[_0x8055fb(0x5b5)](_0x19e3a2)||_0x19e3a2['length']===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x202ef9=0x64,_0x3a987a=0x0;for(let _0x31c82e=0x0;_0x31c82e<_0x19e3a2[_0x8055fb(0x30c)];_0x31c82e+=_0x202ef9){let _0x4c908e=_0x19e3a2[_0x8055fb(0x18a)](_0x31c82e,_0x31c82e+_0x202ef9),{updated:_0x3002df}=await this[_0x8055fb(0x2e3)](_0x4c908e);_0x3a987a+=_0x3002df;}return{'updated':_0x3a987a};}catch(_0x4d9c66){let _0x40ab77=_0x8055fb(0x762),_0x3e5778=_0x4d9c66 instanceof Error?_0x4d9c66[_0x8055fb(0x552)]:typeof _0x4d9c66=='object'?JSON['stringify'](_0x4d9c66):_0x4d9c66,_0x528bee=_0x40ab77+':\x20'+_0x3e5778;throw this['logger'][_0x8055fb(0x4f6)](this['instanceName']+'\x20('+this[_0x8055fb(0x240)]['wuid']+_0x8055fb(0x309)+_0x528bee),new m(_0x528bee);}}async['importChatsBatch'](_0x21ca7d){const _0x53031e=a0_0x4ac10f;try{let _0x290d4e=await this['repository']['label'][_0x53031e(0x7c1)]({'where':{}},this[_0x53031e(0x240)][_0x53031e(0x834)]),_0x3d93d6=new Set(_0x290d4e[_0x53031e(0x3c7)](_0x56d8fc=>_0x56d8fc['_id'])),_0x525ccd=[],_0x41b97d=[];for(let _0x461104 of _0x21ca7d){if(!_0x461104[_0x53031e(0x261)])continue;_0x461104['_id']=this['createJid'](_0x461104[_0x53031e(0x261)]);let _0x58f832=await this[_0x53031e(0x37d)]['chat']['findOne']({'where':{'_id':_0x461104[_0x53031e(0x261)]}},this['instance'][_0x53031e(0x834)]),_0x571c01={};if(Object[_0x53031e(0x58a)](_0x461104['leadInfo'])[_0x53031e(0x843)](([_0x26ee75,_0x183b52])=>{_0x571c01['leadInfo.'+_0x26ee75]=_0x183b52;}),_0x58f832&&!_0x58f832['imported']){let _0x517770=(_0x461104[_0x53031e(0x5fa)]['etiquetas']||[])[_0x53031e(0x820)](_0x134420=>_0x3d93d6[_0x53031e(0x481)](_0x134420)),_0x2fbde4=new Set(_0x58f832[_0x53031e(0x5fa)][_0x53031e(0x58e)]||[]),_0x707539=_0x517770['filter'](_0x54c884=>!_0x2fbde4[_0x53031e(0x481)](_0x54c884)),_0x264997=[..._0x2fbde4]['filter'](_0x483c99=>!_0x517770['includes'](_0x483c99));_0x41b97d['push'](..._0x707539['map'](_0x7a326b=>this[_0x53031e(0x4ef)](_0x7a326b,_0x461104['_id']))),_0x41b97d['push'](..._0x264997['map'](_0x8ccfb7=>this[_0x53031e(0x76c)](_0x8ccfb7,_0x461104[_0x53031e(0x261)]))),_0x461104[_0x53031e(0x5fa)][_0x53031e(0x58e)]=_0x517770,_0x525ccd[_0x53031e(0x304)]({'query':{'where':{'_id':_0x461104[_0x53031e(0x261)],'owner':this[_0x53031e(0x240)][_0x53031e(0x834)]}},'update':_0x571c01});}else _0x571c01[_0x53031e(0x589)]=!0x0,_0x525ccd['push']({'query':{'where':{'_id':_0x461104[_0x53031e(0x261)],'owner':this[_0x53031e(0x240)]['wuid']}},'update':_0x571c01});}let _0x49dd8e=await this['repository'][_0x53031e(0x413)]['updateMany'](_0x525ccd);return await Promise[_0x53031e(0x428)](_0x41b97d),{'updated':_0x49dd8e};}catch(_0x174497){let _0x35106d=_0x53031e(0x762),_0x2b781b=_0x174497 instanceof Error?_0x174497[_0x53031e(0x552)]:typeof _0x174497==_0x53031e(0x7e5)?JSON[_0x53031e(0x3cc)](_0x174497):_0x174497,_0x36ca0d=_0x35106d+':\x20'+_0x2b781b;throw this[_0x53031e(0x44e)]['error'](this[_0x53031e(0x82b)]+'\x20('+this[_0x53031e(0x240)][_0x53031e(0x834)]+_0x53031e(0x309)+_0x36ca0d),new m(_0x36ca0d);}}async['fetchPrivacySettings'](){const _0x16b89d=a0_0x4ac10f;return await this[_0x16b89d(0x18f)][_0x16b89d(0x7c0)]();}async[a0_0x4ac10f(0x3ec)](_0x558c8f){const _0x44973b=a0_0x4ac10f;try{return await this['client'][_0x44973b(0x7c9)](_0x558c8f[_0x44973b(0x2a2)][_0x44973b(0x68e)]),await this['client'][_0x44973b(0x7a6)](_0x558c8f[_0x44973b(0x2a2)][_0x44973b(0x6ef)]),await this[_0x44973b(0x18f)]['updateStatusPrivacy'](_0x558c8f[_0x44973b(0x2a2)]['status']),await this[_0x44973b(0x18f)]['updateOnlinePrivacy'](_0x558c8f['privacySettings'][_0x44973b(0x2b5)]),await this[_0x44973b(0x18f)]['updateLastSeenPrivacy'](_0x558c8f[_0x44973b(0x2a2)][_0x44973b(0x5ed)]),await this[_0x44973b(0x18f)][_0x44973b(0x6ac)](_0x558c8f[_0x44973b(0x2a2)]['groupadd']),this[_0x44973b(0x18f)]?.['ws']?.[_0x44973b(0x37a)](),{'update':_0x44973b(0x531),'data':{'readreceipts':_0x558c8f[_0x44973b(0x2a2)][_0x44973b(0x68e)],'profile':_0x558c8f[_0x44973b(0x2a2)][_0x44973b(0x6ef)],'status':_0x558c8f[_0x44973b(0x2a2)][_0x44973b(0x1ac)],'online':_0x558c8f[_0x44973b(0x2a2)][_0x44973b(0x2b5)],'last':_0x558c8f[_0x44973b(0x2a2)][_0x44973b(0x5ed)],'groupadd':_0x558c8f['privacySettings']['groupadd']}};}catch(_0x5e4111){let _0x9d87bb=_0x44973b(0x604),_0xf5cd48=_0x5e4111 instanceof Error?_0x5e4111[_0x44973b(0x552)]:typeof _0x5e4111==_0x44973b(0x7e5)?JSON[_0x44973b(0x3cc)](_0x5e4111):_0x5e4111,_0x18821a=_0x9d87bb+':\x20'+_0xf5cd48;throw this[_0x44973b(0x44e)][_0x44973b(0x4f6)](this[_0x44973b(0x82b)]+'\x20('+this[_0x44973b(0x240)][_0x44973b(0x834)]+'):\x20'+_0x18821a),new m(_0x18821a);}}async[a0_0x4ac10f(0x7df)](_0x18a44f){const _0x3e2658=a0_0x4ac10f;let _0x59aeed=(_0x18a44f?this[_0x3e2658(0x656)](_0x18a44f):this[_0x3e2658(0x18f)]?.[_0x3e2658(0x21d)]?.['id'])[_0x3e2658(0x527)](/:\d{1,2}@/g,'@');this['logger'][_0x3e2658(0x188)](this[_0x3e2658(0x82b)]+'\x20('+this[_0x3e2658(0x240)][_0x3e2658(0x834)]+_0x3e2658(0x253)+_0x59aeed);let _0x5affcb=await this[_0x3e2658(0x37d)][_0x3e2658(0x4b7)][_0x3e2658(0x349)]({'where':{'_id':_0x59aeed}},this[_0x3e2658(0x240)][_0x3e2658(0x834)]),_0x5b7c62=_0x5affcb?_0x5affcb[_0x3e2658(0x364)]:null;try{let _0x5a010e=(await this['whatsappNumber']({'numbers':[_0x59aeed]}))?.[_0x3e2658(0x805)](),_0x2873c4=(await this[_0x3e2658(0x2b4)](_0x59aeed,null,!0x1))[_0x3e2658(0x584)][_0x3e2658(0x4d1)],_0xad9bf=await this[_0x3e2658(0x61c)](_0x5a010e?.['jid']),_0x385377=await this[_0x3e2658(0x7e1)](_0x5a010e?.[_0x3e2658(0x49b)]),_0x262967=(await this['findAndUpdateCacheContact'](_0x59aeed,null,!0x1))[_0x3e2658(0x584)]['name'],_0x443a9f=await this['repository'][_0x3e2658(0x413)][_0x3e2658(0x349)]({'where':{'_id':_0x59aeed}},this[_0x3e2658(0x240)][_0x3e2658(0x834)]),_0x4e3e91={'imagechat':_0x2873c4,'contactname':_0x5b7c62||null,'pushName':_0x262967,'status':_0xad9bf?.[_0x3e2658(0x1ac)],'isBusiness':_0x385377[_0x3e2658(0x719)],'email':_0x385377?.[_0x3e2658(0x1fa)],'description':_0x385377?.[_0x3e2658(0x4db)],'website':_0x385377?.['website']?.[_0x3e2658(0x805)](),'lastcache':Date['now'](),'imported':!_0x443a9f},_0x2fb59f=await this['repository'][_0x3e2658(0x413)][_0x3e2658(0x191)]({'where':{'_id':_0x59aeed}},_0x4e3e91,this[_0x3e2658(0x240)][_0x3e2658(0x834)]),_0x52bac1={'owner':this[_0x3e2658(0x240)][_0x3e2658(0x834)],'_id':_0x59aeed,'profilePictureUrl':_0x2873c4,'status':_0xad9bf?.[_0x3e2658(0x1ac)]};return this[_0x3e2658(0x37d)][_0x3e2658(0x4b7)][_0x3e2658(0x256)]([_0x52bac1],this['instance'][_0x3e2658(0x834)]),_0x2fb59f&&j(this[_0x3e2658(0x82b)],_0x3e2658(0x408),{'chat':_0x2fb59f}),{'wuid':_0x5a010e?.['jid']||_0x59aeed,'name':_0x5a010e?.[_0x3e2658(0x80a)],'pushName':_0x262967,'numberExists':_0x5a010e?.['exists'],'picture':_0x2873c4,'status':_0xad9bf?.[_0x3e2658(0x1ac)],'isBusiness':_0x385377[_0x3e2658(0x719)],'email':_0x385377?.[_0x3e2658(0x1fa)],'description':_0x385377?.[_0x3e2658(0x4db)],'website':_0x385377?.[_0x3e2658(0x34c)]?.[_0x3e2658(0x805)]()};}catch(_0x1e3566){return this['logger']['error'](_0x3e2658(0x6f5)+(_0x1e3566 instanceof Error?_0x1e3566[_0x3e2658(0x552)]:JSON[_0x3e2658(0x3cc)](_0x1e3566,null,0x2))),{};}}async[a0_0x4ac10f(0x7e1)](_0x2d5ae3){const _0x3a5ad0=a0_0x4ac10f;this[_0x3a5ad0(0x44e)][_0x3a5ad0(0x188)](this[_0x3a5ad0(0x82b)]+'\x20('+this[_0x3a5ad0(0x240)][_0x3a5ad0(0x834)]+'):Fetching\x20business\x20profile');try{let _0x33b05e=_0x2d5ae3?this['createJid'](_0x2d5ae3):this[_0x3a5ad0(0x240)][_0x3a5ad0(0x834)],_0x2aa03a=await this[_0x3a5ad0(0x18f)]['getBusinessProfile'](_0x33b05e);return this[_0x3a5ad0(0x44e)][_0x3a5ad0(0x188)](this['instanceName']+'\x20('+this[_0x3a5ad0(0x240)][_0x3a5ad0(0x834)]+_0x3a5ad0(0x2f9)),_0x2aa03a?(this['logger'][_0x3a5ad0(0x188)](this['instanceName']+'\x20('+this['instance'][_0x3a5ad0(0x834)]+_0x3a5ad0(0x6c4)),{'isBusiness':!0x0,..._0x2aa03a}):{'isBusiness':!0x1,'message':_0x3a5ad0(0x311),...(await this[_0x3a5ad0(0x2a7)]({'numbers':[_0x33b05e]}))?.['shift']()};}catch(_0x442ac9){let _0x202b42=_0x3a5ad0(0x16f),_0x3c4ef9=_0x442ac9 instanceof Error?_0x442ac9['message']:typeof _0x442ac9==_0x3a5ad0(0x7e5)?JSON[_0x3a5ad0(0x3cc)](_0x442ac9):_0x442ac9,_0xb5b5c5=_0x202b42+':\x20'+_0x3c4ef9;throw this[_0x3a5ad0(0x44e)]['error'](this['instanceName']+'\x20('+this[_0x3a5ad0(0x240)][_0x3a5ad0(0x834)]+_0x3a5ad0(0x309)+_0xb5b5c5),new _(_0xb5b5c5);}}async['getStatus'](_0x1adf70){const _0x3c08aa=a0_0x4ac10f;let _0x203e8d=this['createJid'](_0x1adf70);try{return{'wuid':_0x203e8d,'status':(await this[_0x3c08aa(0x18f)][_0x3c08aa(0x2d6)](_0x203e8d))?.[_0x3c08aa(0x1ac)]};}catch{return{'wuid':_0x203e8d,'status':null};}}async['updateProfileName'](_0x578b3f){const _0x3779c8=a0_0x4ac10f;try{return await this['client'][_0x3779c8(0x4e7)](_0x578b3f),{'update':'success'};}catch(_0x1e9303){let _0x2cea2f='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName',_0x461b0c=_0x1e9303 instanceof Error?_0x1e9303[_0x3779c8(0x552)]:typeof _0x1e9303==_0x3779c8(0x7e5)?JSON['stringify'](_0x1e9303):_0x1e9303,_0x59da44=_0x2cea2f+':\x20'+_0x461b0c;throw this[_0x3779c8(0x44e)][_0x3779c8(0x4f6)](this['instanceName']+'\x20('+this[_0x3779c8(0x240)][_0x3779c8(0x834)]+_0x3779c8(0x309)+_0x59da44),new _(_0x59da44);}}async[a0_0x4ac10f(0x204)](_0x4cd804){const _0x522363=a0_0x4ac10f;try{return await this[_0x522363(0x18f)]['updateProfileStatus'](_0x4cd804),{'update':_0x522363(0x531)};}catch(_0x4bfdcc){let _0x8baa9c=_0x522363(0x616),_0xf69719=_0x4bfdcc instanceof Error?_0x4bfdcc[_0x522363(0x552)]:typeof _0x4bfdcc==_0x522363(0x7e5)?JSON['stringify'](_0x4bfdcc):_0x4bfdcc,_0x39cc02=_0x8baa9c+':\x20'+_0xf69719;throw this[_0x522363(0x44e)][_0x522363(0x4f6)](this[_0x522363(0x82b)]+'\x20('+this[_0x522363(0x240)][_0x522363(0x834)]+_0x522363(0x309)+_0x39cc02),new _(_0x39cc02);}}async[a0_0x4ac10f(0x4e2)](_0x4d4df8){const _0x6306f6=a0_0x4ac10f;try{let _0x55568e;if((0x0,k[_0x6306f6(0x3db)])(_0x4d4df8)){let _0x5e0e79=new Date()[_0x6306f6(0x2fd)](),_0xf0c58=_0x4d4df8+'?timestamp='+_0x5e0e79;_0x55568e=(await Z[_0x6306f6(0x5b7)][_0x6306f6(0x2c5)](_0xf0c58,{'responseType':_0x6306f6(0x1dc)}))[_0x6306f6(0x123)];}else{if((0x0,k['isBase64'])(_0x4d4df8))_0x55568e=Buffer[_0x6306f6(0x736)](_0x4d4df8,_0x6306f6(0x7b9));else throw new m(_0x6306f6(0x807));}return await this[_0x6306f6(0x18f)][_0x6306f6(0x4e2)](this[_0x6306f6(0x240)][_0x6306f6(0x834)],_0x55568e),{'update':_0x6306f6(0x531)};}catch(_0x28658d){let _0x239417=_0x6306f6(0x3ef),_0x433ce4=_0x28658d instanceof Error?_0x28658d['message']:typeof _0x28658d=='object'?JSON['stringify'](_0x28658d):_0x28658d,_0x5c65fd=_0x239417+':\x20'+_0x433ce4;throw this[_0x6306f6(0x44e)][_0x6306f6(0x4f6)](this[_0x6306f6(0x82b)]+'\x20('+this[_0x6306f6(0x240)][_0x6306f6(0x834)]+_0x6306f6(0x309)+_0x5c65fd),new _(_0x5c65fd);}}async[a0_0x4ac10f(0x178)](){const _0x394033=a0_0x4ac10f;try{return await this[_0x394033(0x18f)][_0x394033(0x178)](this[_0x394033(0x240)][_0x394033(0x834)]),{'update':_0x394033(0x531)};}catch(_0x195a67){let _0xfbeb1d=_0x394033(0x20e),_0x413c0a=_0x195a67 instanceof Error?_0x195a67[_0x394033(0x552)]:typeof _0x195a67==_0x394033(0x7e5)?JSON[_0x394033(0x3cc)](_0x195a67):_0x195a67,_0x194fe6=_0xfbeb1d+':\x20'+_0x413c0a;throw this['logger'][_0x394033(0x4f6)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+_0x194fe6),new _(_0x194fe6);}}async[a0_0x4ac10f(0x439)](_0x5f0a34){const _0x8a9ab0=a0_0x4ac10f;try{let _0x270ce9=(await this[_0x8a9ab0(0x2a7)]({'numbers':_0x5f0a34['participants']}))['filter'](_0xa05be2=>_0xa05be2[_0x8a9ab0(0x659)])[_0x8a9ab0(0x3c7)](_0x345f10=>_0x345f10[_0x8a9ab0(0x49b)]),{id:_0x5629df}=await this[_0x8a9ab0(0x18f)][_0x8a9ab0(0x4f5)](_0x5f0a34[_0x8a9ab0(0x5d0)],_0x270ce9);_0x5f0a34?.[_0x8a9ab0(0x4db)]&&await this[_0x8a9ab0(0x18f)][_0x8a9ab0(0x17a)](_0x5629df,_0x5f0a34[_0x8a9ab0(0x4db)]);let _0x5bcf18=await this[_0x8a9ab0(0x18f)]['groupMetadata'](_0x5629df);return _0x5bcf18['awaitingApproval']=[],{'metadata':_0x5bcf18};}catch(_0x2f1299){let _0x35c604=_0x8a9ab0(0x23b),_0x5bd055=_0x2f1299 instanceof Error?_0x2f1299[_0x8a9ab0(0x552)]:typeof _0x2f1299==_0x8a9ab0(0x7e5)?JSON[_0x8a9ab0(0x3cc)](_0x2f1299):_0x2f1299,_0xf5b8be=_0x35c604+':\x20'+_0x5bd055;throw this[_0x8a9ab0(0x44e)]['error'](this[_0x8a9ab0(0x82b)]+'\x20('+this['instance'][_0x8a9ab0(0x834)]+_0x8a9ab0(0x309)+_0xf5b8be),new _(_0xf5b8be);}}async[a0_0x4ac10f(0x421)](_0x5bc55c){const _0xa104ea=a0_0x4ac10f;try{if(_0x5bc55c[_0xa104ea(0x38b)]===!0x0&&await this[_0xa104ea(0x18f)][_0xa104ea(0x751)](_0x5bc55c[_0xa104ea(0x2cd)],_0xa104ea(0x4ba)),_0x5bc55c['restrict']===!0x1&&await this[_0xa104ea(0x18f)][_0xa104ea(0x751)](_0x5bc55c['groupJid'],_0xa104ea(0x292)),_0x5bc55c['announce']===!0x0&&await this[_0xa104ea(0x18f)][_0xa104ea(0x751)](_0x5bc55c[_0xa104ea(0x2cd)],_0xa104ea(0x134)),_0x5bc55c['announce']===!0x1&&await this[_0xa104ea(0x18f)][_0xa104ea(0x751)](_0x5bc55c[_0xa104ea(0x2cd)],'not_announcement'),_0x5bc55c[_0xa104ea(0x49f)]===!0x0&&await this[_0xa104ea(0x18f)]['groupMemberAddMode'](_0x5bc55c['groupJid'],_0xa104ea(0x45c)),_0x5bc55c[_0xa104ea(0x49f)]===!0x1&&await this[_0xa104ea(0x18f)][_0xa104ea(0x1de)](_0x5bc55c[_0xa104ea(0x2cd)],'admin_add'),_0x5bc55c[_0xa104ea(0x1fd)]===!0x0&&await this[_0xa104ea(0x18f)][_0xa104ea(0x1b3)](_0x5bc55c[_0xa104ea(0x2cd)],'on'),_0x5bc55c[_0xa104ea(0x1fd)]===!0x1&&await this[_0xa104ea(0x18f)][_0xa104ea(0x1b3)](_0x5bc55c[_0xa104ea(0x2cd)],_0xa104ea(0x154)),typeof _0x5bc55c[_0xa104ea(0x356)]<'u'&&_0x5bc55c['expiration']!==null&&await this['client'][_0xa104ea(0x2f3)](_0x5bc55c[_0xa104ea(0x2cd)],_0x5bc55c[_0xa104ea(0x356)]),_0x5bc55c['name']&&await this[_0xa104ea(0x18f)][_0xa104ea(0x41f)](_0x5bc55c[_0xa104ea(0x2cd)],_0x5bc55c[_0xa104ea(0x80a)]),_0x5bc55c['description']&&await this[_0xa104ea(0x18f)][_0xa104ea(0x17a)](_0x5bc55c['groupJid'],_0x5bc55c[_0xa104ea(0x4db)]),_0x5bc55c[_0xa104ea(0x5b6)]){let _0x4b384a;if((0x0,k[_0xa104ea(0x3db)])(_0x5bc55c[_0xa104ea(0x5b6)])){let _0x14229b=new Date()[_0xa104ea(0x2fd)](),_0x4f9251=_0x5bc55c[_0xa104ea(0x5b6)]+_0xa104ea(0x63f)+_0x14229b;_0x4b384a=(await Z['default'][_0xa104ea(0x2c5)](_0x4f9251,{'responseType':_0xa104ea(0x1dc)}))[_0xa104ea(0x123)];}else{if((0x0,k[_0xa104ea(0x665)])(_0x5bc55c[_0xa104ea(0x5b6)]))_0x4b384a=Buffer[_0xa104ea(0x736)](_0x5bc55c[_0xa104ea(0x5b6)],_0xa104ea(0x7b9));else throw new m(_0xa104ea(0x807));}await this[_0xa104ea(0x18f)][_0xa104ea(0x4e2)](_0x5bc55c[_0xa104ea(0x2cd)],_0x4b384a);}return await this['findGroup']({'groupJid':_0x5bc55c['groupJid']});}catch(_0x5ad64a){let _0x7b83b0=_0xa104ea(0x766),_0x3b80ad=_0x5ad64a instanceof Error?_0x5ad64a['message']:typeof _0x5ad64a==_0xa104ea(0x7e5)?JSON[_0xa104ea(0x3cc)](_0x5ad64a):_0x5ad64a,_0x12d024=_0x7b83b0+':\x20'+_0x3b80ad;throw this['logger'][_0xa104ea(0x4f6)](this[_0xa104ea(0x82b)]+'\x20('+this['instance'][_0xa104ea(0x834)]+_0xa104ea(0x309)+_0x12d024),new _(_0x12d024);}}async[a0_0x4ac10f(0x662)](_0x5a5232){const _0x4c8e7d=a0_0x4ac10f;try{if(_0x5a5232['action']==='approve'||_0x5a5232[_0x4c8e7d(0x678)]===_0x4c8e7d(0x307)){let _0xdec0c3=_0x5a5232['participants'][_0x4c8e7d(0x3c7)](_0x3c3905=>this[_0x4c8e7d(0x656)](_0x3c3905));await this[_0x4c8e7d(0x18f)]['groupRequestParticipantsUpdate'](_0x5a5232[_0x4c8e7d(0x2cd)],_0xdec0c3,_0x5a5232[_0x4c8e7d(0x678)]);}else{if(_0x5a5232[_0x4c8e7d(0x678)]===_0x4c8e7d(0x7c8)){let _0x1c90b8=(await this[_0x4c8e7d(0x2a7)]({'numbers':_0x5a5232['participants']}))[_0x4c8e7d(0x820)](_0x5b5c44=>_0x5b5c44[_0x4c8e7d(0x659)])[_0x4c8e7d(0x3c7)](_0x551209=>this[_0x4c8e7d(0x656)](_0x551209[_0x4c8e7d(0x49b)]));if(_0x1c90b8[_0x4c8e7d(0x30c)]===0x0)throw new m(_0x4c8e7d(0x22f));await this[_0x4c8e7d(0x18f)][_0x4c8e7d(0x517)](_0x5a5232['groupJid'],_0x1c90b8,_0x4c8e7d(0x7c8));}else{let _0xc6e18e=_0x5a5232['participants'][_0x4c8e7d(0x3c7)](_0x1938f8=>this[_0x4c8e7d(0x656)](_0x1938f8));await this[_0x4c8e7d(0x18f)][_0x4c8e7d(0x517)](_0x5a5232['groupJid'],_0xc6e18e,_0x5a5232[_0x4c8e7d(0x678)]);}}return await this[_0x4c8e7d(0x55a)]({'groupJid':_0x5a5232[_0x4c8e7d(0x2cd)]});}catch(_0x43983e){let _0xddddf1=_0x4c8e7d(0x1d1),_0x10cf49=_0x43983e instanceof Error?_0x43983e['message']:typeof _0x43983e==_0x4c8e7d(0x7e5)?JSON['stringify'](_0x43983e):_0x43983e,_0x12dd3c=_0xddddf1+':\x20'+_0x10cf49;throw this[_0x4c8e7d(0x44e)][_0x4c8e7d(0x4f6)](this[_0x4c8e7d(0x82b)]+'\x20('+this[_0x4c8e7d(0x240)]['wuid']+_0x4c8e7d(0x309)+_0x12dd3c),new m(_0x12dd3c);}}async[a0_0x4ac10f(0x734)](_0x14b943){const _0x35e6a8=a0_0x4ac10f;try{return await this['client']['groupGetInviteInfo'](_0x14b943[_0x35e6a8(0x57e)]);}catch(_0x382efa){let _0x159513='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo',_0x3f5016=_0x382efa instanceof Error?_0x382efa['message']:typeof _0x382efa=='object'?JSON['stringify'](_0x382efa):_0x382efa,_0x119003=_0x159513+':\x20'+_0x3f5016;throw this['logger'][_0x35e6a8(0x4f6)](this['instanceName']+'\x20('+this[_0x35e6a8(0x240)][_0x35e6a8(0x834)]+'):\x20'+_0x119003),new m(_0x119003);}}async[a0_0x4ac10f(0x55a)](_0x12f073,_0xfcc98a=a0_0x4ac10f(0x1be)){const _0x30ffff=a0_0x4ac10f;try{let _0x409c60=await this[_0x30ffff(0x37d)][_0x30ffff(0x413)]['findOne']({'where':{'_id':_0x12f073[_0x30ffff(0x2cd)]}},this['instance'][_0x30ffff(0x834)]),_0x4c2e3f=_0x409c60?_0x409c60[_0x30ffff(0x146)]:null,_0x201d1a=0x18*0x3c*0x3c*0x3e8;if(!_0x4c2e3f||_0x4c2e3f['lastUpdate']&&Date[_0x30ffff(0x77c)]()-_0x4c2e3f['lastUpdate']>_0x201d1a){let _0x798f7e=await this[_0x30ffff(0x18f)][_0x30ffff(0x410)](_0x12f073[_0x30ffff(0x2cd)]);if(_0x798f7e[_0x30ffff(0x50f)]=_0x798f7e?.[_0x30ffff(0x50f)]&&_0x798f7e[_0x30ffff(0x50f)][_0x30ffff(0x830)]()[_0x30ffff(0x30c)]<0xd?_0x798f7e?.[_0x30ffff(0x50f)]*0x3e8:_0x798f7e?.[_0x30ffff(0x50f)]||null,_0x798f7e[_0x30ffff(0x285)]=_0x798f7e?.['creation']&&_0x798f7e[_0x30ffff(0x285)][_0x30ffff(0x830)]()[_0x30ffff(0x30c)]<0xd?_0x798f7e?.[_0x30ffff(0x285)]*0x3e8:_0x798f7e?.['creation']||null,_0x4c2e3f={..._0x798f7e,'lastUpdate':Date[_0x30ffff(0x77c)]()},!_0x798f7e)return;}let _0x5f1a1b=_0x4c2e3f[_0x30ffff(0x417)][_0x30ffff(0x41a)](_0x169ce6=>_0x169ce6['id']===this[_0x30ffff(0x240)][_0x30ffff(0x834)]+_0x30ffff(0x559)&&_0x169ce6['admin']!=null);!_0x4c2e3f['inviteCode']&&_0x5f1a1b&&(_0x4c2e3f['inviteCode']=(await this[_0x30ffff(0x57e)](_0x12f073,!0x1))[_0x30ffff(0x33d)]);let _0x3db2fc=(!_0x4c2e3f[_0x30ffff(0x750)]||_0x5f1a1b)&&(!_0x4c2e3f[_0x30ffff(0x537)]||_0x4c2e3f[_0x30ffff(0x537)]&&_0x4c2e3f[_0x30ffff(0x663)]&&_0x5f1a1b);_0x4c2e3f[_0x30ffff(0x708)]=_0x5f1a1b,_0x4c2e3f[_0x30ffff(0x354)]=_0x3db2fc;let _0x13f81b=[];if(_0x5f1a1b&&_0x4c2e3f[_0x30ffff(0x1fd)])try{_0x13f81b=await this['client']['groupRequestParticipantsList'](_0x12f073[_0x30ffff(0x2cd)]),_0x4c2e3f[_0x30ffff(0x78d)]=Date['now']();}catch(_0x48a7d5){this[_0x30ffff(0x44e)]['verbose'](this[_0x30ffff(0x82b)]+'\x20('+this[_0x30ffff(0x240)]['wuid']+_0x30ffff(0x163)+_0x12f073['groupJid']+':\x20'+(_0x48a7d5 instanceof Error?_0x48a7d5[_0x30ffff(0x552)]:JSON[_0x30ffff(0x3cc)](_0x48a7d5,null,0x2)));}try{_0x4c2e3f[_0x30ffff(0x5b6)]=(await this['findAndUpdateCacheContact'](_0x12f073['groupJid'],null,!0x0))[_0x30ffff(0x584)][_0x30ffff(0x4d1)];}catch(_0x48c7df){this[_0x30ffff(0x44e)][_0x30ffff(0x188)](this[_0x30ffff(0x82b)]+'\x20('+this[_0x30ffff(0x240)][_0x30ffff(0x834)]+_0x30ffff(0x24d)+_0x12f073[_0x30ffff(0x2cd)]+':\x20'+(_0x48c7df instanceof Error?_0x48c7df['message']:JSON[_0x30ffff(0x3cc)](_0x48c7df,null,0x2)));}let _0x12ef10=_0x4c2e3f[_0x30ffff(0x417)][_0x30ffff(0x3c7)](_0x1a417a=>_0x1a417a['id']),_0x1acc14=_0x13f81b['map'](_0x58223a=>_0x58223a[_0x30ffff(0x49b)]),_0x46f912=await this['repository'][_0x30ffff(0x29b)][_0x30ffff(0x42d)]([..._0x12ef10,..._0x1acc14]);_0x4c2e3f[_0x30ffff(0x417)]=_0x4c2e3f[_0x30ffff(0x417)][_0x30ffff(0x3c7)](_0x21b6b6=>{const _0x1c57ab=_0x30ffff;let _0x2cd69e=_0x46f912['find'](_0x551aac=>_0x551aac[_0x1c57ab(0x261)]===_0x21b6b6['id']);return{'id':_0x21b6b6['id'],'isAdmin':[_0x1c57ab(0x840),_0x1c57ab(0x66a)][_0x1c57ab(0x19a)](_0x21b6b6[_0x1c57ab(0x840)]),'admin':_0x21b6b6[_0x1c57ab(0x840)],'pushName':_0x2cd69e?.['name'],'profilePictureUrl':_0x2cd69e?.['pictureUrl']};}),_0x4c2e3f[_0x30ffff(0x6d3)]=_0x13f81b[_0x30ffff(0x3c7)](_0x563b30=>{const _0x26a765=_0x30ffff;let _0x493064=_0x46f912['find'](_0x509ade=>_0x509ade[_0x26a765(0x261)]===_0x563b30['jid']);return{'id':_0x563b30[_0x26a765(0x49b)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x493064?.[_0x26a765(0x80a)],'profilePictureUrl':_0x493064?.[_0x26a765(0x4d1)],'request_method':_0x563b30[_0x26a765(0x33e)],'request_time':_0x563b30[_0x26a765(0x1f9)]};});let _0x6f0223=await this[_0x30ffff(0x37d)][_0x30ffff(0x413)][_0x30ffff(0x191)]({'where':{'_id':_0x12f073[_0x30ffff(0x2cd)]}},{'imagechat':_0x4c2e3f[_0x30ffff(0x5b6)],'name':_0x4c2e3f[_0x30ffff(0x5d0)],'lastcache':Date[_0x30ffff(0x77c)](),'groupdata':_0x4c2e3f},this[_0x30ffff(0x240)]['wuid']);return j(this[_0x30ffff(0x82b)],_0x30ffff(0x408),{'chat':_0x6f0223}),{'metadata':_0x4c2e3f};}catch(_0x630e57){if(_0xfcc98a===_0x30ffff(0x5ea))return;throw new J(_0x30ffff(0x45f),_0x630e57[_0x30ffff(0x552)][_0x30ffff(0x830)]());}}async[a0_0x4ac10f(0x82c)](){const _0x92ee7=a0_0x4ac10f;try{let _0x23e6c7=[],_0x584463=await this['client']['groupFetchAllParticipating'](),_0x3a9cfc=Object[_0x92ee7(0x5ad)](_0x584463),_0xa9f69a=_0x3a9cfc[_0x92ee7(0x820)](_0x13ccd1=>(0x0,w[_0x92ee7(0x376)])(_0x13ccd1?.['id']))[_0x92ee7(0x3c7)](async _0x2cdaad=>{const _0x354663=_0x92ee7;try{return await this[_0x354663(0x18f)][_0x354663(0x224)](_0x2cdaad['id'],_0x354663(0x189));}catch(_0x3f4cb5){return this[_0x354663(0x44e)]['verbose'](this[_0x354663(0x82b)]+'\x20('+this[_0x354663(0x240)][_0x354663(0x834)]+_0x354663(0x24d)+_0x2cdaad['id']+':\x20'+(_0x3f4cb5 instanceof Error?_0x3f4cb5[_0x354663(0x552)]:JSON['stringify'](_0x3f4cb5,null,0x2))),null;}}),_0x1d4587=await Promise[_0x92ee7(0x428)](_0xa9f69a);for(let _0x4e3975=0x0;_0x4e3975<_0x3a9cfc[_0x92ee7(0x30c)];_0x4e3975++){let _0x41ef23=_0x3a9cfc[_0x4e3975];(0x0,w[_0x92ee7(0x376)])(_0x41ef23?.['id'])&&(_0x23e6c7[_0x92ee7(0x304)]({'groupJid':_0x41ef23?.['id'],'subject':_0x41ef23?.[_0x92ee7(0x5d0)],'subjectOwner':_0x41ef23?.[_0x92ee7(0x670)]?.[_0x92ee7(0x3eb)]('@')[0x0],'subjectTime':_0x41ef23?.[_0x92ee7(0x50f)],'creation':_0x41ef23?.[_0x92ee7(0x285)],'size':_0x41ef23?.[_0x92ee7(0x417)]?.[_0x92ee7(0x30c)],'owner':_0x41ef23?.[_0x92ee7(0x689)]?.[_0x92ee7(0x3eb)]('@')[0x0],'desc':_0x41ef23?.[_0x92ee7(0x5b8)],'restrict':_0x41ef23?.[_0x92ee7(0x38b)],'announce':_0x41ef23?.[_0x92ee7(0x750)],'image':_0x1d4587[_0x4e3975],'isCommunity':_0x41ef23?.[_0x92ee7(0x537)],'joinApprovalMode':_0x41ef23?.['joinApprovalMode'],'memberCanAddParticipant':_0x41ef23?.['memberAddMode'],'participants':_0x41ef23?.[_0x92ee7(0x417)],'descOwner':_0x41ef23?.['descOwner'],'descId':_0x41ef23?.[_0x92ee7(0x4c3)],'memberAddMode':_0x41ef23?.[_0x92ee7(0x49f)],'isCommunityAnnounce':_0x41ef23?.['isCommunityAnnounce'],'ephemeralDuration':_0x41ef23?.[_0x92ee7(0x706)]||0x0,'author':_0x41ef23?.[_0x92ee7(0x3e3)]}),this[_0x92ee7(0x141)](_0x3a9cfc[_0x4e3975]));}return _0x23e6c7;}catch(_0x4209ff){let _0x3dcd23=_0x92ee7(0x777),_0x12ad38=_0x4209ff instanceof Error?_0x4209ff[_0x92ee7(0x552)]:typeof _0x4209ff=='object'?JSON[_0x92ee7(0x3cc)](_0x4209ff):_0x4209ff,_0x15528a=_0x3dcd23+':\x20'+_0x12ad38;throw this[_0x92ee7(0x44e)][_0x92ee7(0x4f6)](this['instanceName']+'\x20('+this[_0x92ee7(0x240)][_0x92ee7(0x834)]+_0x92ee7(0x309)+_0x15528a),new J(_0x15528a);}}async['updateChatGroupData'](_0x8aeac2){const _0x4f0080=a0_0x4ac10f;let _0x123b7e=await this[_0x4f0080(0x37d)][_0x4f0080(0x413)][_0x4f0080(0x349)]({'where':{'_id':_0x8aeac2['id']}},this[_0x4f0080(0x240)][_0x4f0080(0x834)]);_0x8aeac2['subjectTime']=_0x8aeac2?.[_0x4f0080(0x50f)]&&_0x8aeac2[_0x4f0080(0x50f)][_0x4f0080(0x830)]()[_0x4f0080(0x30c)]<0xd?_0x8aeac2?.['subjectTime']*0x3e8:_0x8aeac2?.[_0x4f0080(0x50f)]||null,_0x8aeac2[_0x4f0080(0x285)]=_0x8aeac2?.[_0x4f0080(0x285)]&&_0x8aeac2[_0x4f0080(0x285)][_0x4f0080(0x830)]()[_0x4f0080(0x30c)]<0xd?_0x8aeac2?.[_0x4f0080(0x285)]*0x3e8:_0x8aeac2?.['creation']||null;let _0x23095a=_0x123b7e?.[_0x4f0080(0x146)]?.[_0x4f0080(0x6d3)]||[],_0x363bc1=_0x123b7e?.[_0x4f0080(0x146)]?.[_0x4f0080(0x78d)],_0x44f3b5=_0x8aeac2['participants'][_0x4f0080(0x3c7)](_0x1d6a79=>{const _0x56a63c=_0x4f0080;let _0x521a43=_0x123b7e?.['groupdata']?.[_0x56a63c(0x417)]['find'](_0x1c22d7=>_0x1c22d7['id']===_0x1d6a79['id']);return{..._0x1d6a79,'isAdmin':[_0x56a63c(0x840),_0x56a63c(0x66a)][_0x56a63c(0x19a)](_0x1d6a79[_0x56a63c(0x840)]),'admin':_0x1d6a79[_0x56a63c(0x840)],'name':_0x521a43?.['name']||_0x1d6a79['name'],'imgUrl':_0x521a43?.[_0x56a63c(0x3e1)]||_0x1d6a79[_0x56a63c(0x3e1)]};}),_0x598dcf=_0x44f3b5[_0x4f0080(0x41a)](_0x32788f=>_0x32788f['id']===this[_0x4f0080(0x240)][_0x4f0080(0x834)]+_0x4f0080(0x559)&&_0x32788f[_0x4f0080(0x708)]),_0x353b91=(!_0x8aeac2['announce']||_0x598dcf)&&(!_0x8aeac2['isCommunity']||_0x8aeac2[_0x4f0080(0x537)]&&_0x8aeac2[_0x4f0080(0x663)]&&_0x598dcf),_0x438c78={..._0x8aeac2,'participants':_0x44f3b5,'awaitingApproval':_0x23095a,'lastFetchAwaitingApproval':_0x363bc1,'isAdmin':_0x598dcf,'canSendMessage':_0x353b91,'lastUpdate':Date[_0x4f0080(0x77c)]()};await this[_0x4f0080(0x37d)][_0x4f0080(0x413)][_0x4f0080(0x191)]({'where':{'_id':_0x8aeac2['id']}},{'name':_0x8aeac2['subject'],'group':!0x0,'groupdata':_0x438c78,'lastcache':Date[_0x4f0080(0x77c)]()},this['instance'][_0x4f0080(0x834)]),j(this[_0x4f0080(0x82b)],'chats',{'chat':_0x8aeac2});}async[a0_0x4ac10f(0x3e7)](_0x21722a){const _0x2482be=a0_0x4ac10f;let _0x46aa3f=await this[_0x2482be(0x37d)][_0x2482be(0x413)]['findOne']({'where':{'_id':_0x21722a['id']}},this['instance']['wuid']);_0x21722a[_0x2482be(0x50f)]=_0x21722a?.[_0x2482be(0x50f)]&&_0x21722a[_0x2482be(0x50f)][_0x2482be(0x830)]()['length']<0xd?_0x21722a?.[_0x2482be(0x50f)]*0x3e8:_0x21722a?.[_0x2482be(0x50f)]||null,_0x21722a[_0x2482be(0x285)]=_0x21722a?.['creation']&&_0x21722a[_0x2482be(0x285)][_0x2482be(0x830)]()[_0x2482be(0x30c)]<0xd?_0x21722a?.['creation']*0x3e8:_0x21722a?.[_0x2482be(0x285)]||null,_0x21722a['inviteCode']&&(_0x21722a[_0x2482be(0x57e)]=_0x2482be(0x673)+_0x21722a['inviteCode']);let _0x3da1e6=_0x46aa3f?.[_0x2482be(0x146)]?{..._0x46aa3f[_0x2482be(0x146)]}:{};Object[_0x2482be(0x27b)](_0x21722a)[_0x2482be(0x843)](_0x8005e0=>{_0x8005e0!=='id'&&(_0x3da1e6[_0x8005e0]=_0x21722a[_0x8005e0]);});let _0x1c729f=_0x3da1e6['participants']?.[_0x2482be(0x41a)](_0x3131c5=>_0x3131c5['id']===this['instance'][_0x2482be(0x834)]+_0x2482be(0x559)&&_0x3131c5[_0x2482be(0x708)])||!0x1;_0x3da1e6[_0x2482be(0x708)]=_0x1c729f;let _0x43c607=(!_0x3da1e6[_0x2482be(0x750)]||_0x1c729f)&&(!_0x3da1e6['isCommunity']||_0x3da1e6[_0x2482be(0x537)]&&_0x3da1e6[_0x2482be(0x663)]&&_0x1c729f);_0x3da1e6[_0x2482be(0x354)]=_0x43c607;let _0x160426={'group':!0x0,'groupdata':_0x3da1e6};_0x21722a[_0x2482be(0x5d0)]&&(_0x160426[_0x2482be(0x80a)]=_0x21722a['subject']),await this[_0x2482be(0x37d)]['chat'][_0x2482be(0x191)]({'where':{'_id':_0x21722a['id']}},_0x160426,this[_0x2482be(0x240)][_0x2482be(0x834)],{'upsert':!0x0}),j(this[_0x2482be(0x82b)],_0x2482be(0x408),{'chat':_0x160426});}async['updateGroupParticipantsWebhook'](_0x1a9810){const _0x409fec=a0_0x4ac10f;let _0x4c1d91=await this[_0x409fec(0x37d)][_0x409fec(0x413)]['findOne']({'where':{'_id':_0x1a9810['id']}},this['instance'][_0x409fec(0x834)]);if(!_0x4c1d91||!_0x4c1d91['groupdata']){this[_0x409fec(0x44e)][_0x409fec(0x653)](this[_0x409fec(0x82b)]+'\x20('+this['instance'][_0x409fec(0x834)]+_0x409fec(0x15d)+_0x1a9810['id']);return;}let _0x2ef588=await this[_0x409fec(0x37d)][_0x409fec(0x29b)][_0x409fec(0x42d)](_0x1a9810[_0x409fec(0x417)]),_0x1de5d6=[..._0x4c1d91[_0x409fec(0x146)]?.['participants']];switch(_0x1a9810[_0x409fec(0x678)]){case _0x409fec(0x7c8):let _0x1b8579=_0x2ef588[_0x409fec(0x3c7)](_0x3c1bee=>({'id':_0x3c1bee[_0x409fec(0x261)],'isAdmin':!0x1,'name':_0x3c1bee[_0x409fec(0x80a)],'imgUrl':_0x3c1bee[_0x409fec(0x4d1)]}));_0x1de5d6=[..._0x1de5d6,..._0x1b8579];break;case _0x409fec(0x6ff):_0x1de5d6=_0x1de5d6['filter'](_0x10b9fa=>!_0x1a9810[_0x409fec(0x417)]['includes'](_0x10b9fa['id']));break;case'promote':case _0x409fec(0x17e):_0x1de5d6=_0x1de5d6[_0x409fec(0x3c7)](_0x2ba396=>_0x1a9810[_0x409fec(0x417)][_0x409fec(0x19a)](_0x2ba396['id'])?{..._0x2ba396,'isAdmin':_0x1a9810[_0x409fec(0x678)]==='promote'}:_0x2ba396);break;}let _0x49bfad=_0x1de5d6[_0x409fec(0x30c)],_0x8281=_0x1de5d6[_0x409fec(0x41a)](_0xb6e175=>_0xb6e175['id']===this[_0x409fec(0x240)]['wuid']+'@s.whatsapp.net'),_0x5430b7=_0x8281&&_0x1de5d6[_0x409fec(0x41a)](_0x2631ee=>_0x2631ee['id']===this[_0x409fec(0x240)]['wuid']+'@s.whatsapp.net'&&_0x2631ee[_0x409fec(0x708)]),_0x38e5b2=_0x8281&&(!_0x4c1d91[_0x409fec(0x146)][_0x409fec(0x750)]||_0x5430b7)&&(!_0x4c1d91[_0x409fec(0x146)][_0x409fec(0x537)]||_0x4c1d91[_0x409fec(0x146)][_0x409fec(0x537)]&&_0x5430b7);await this[_0x409fec(0x37d)]['chat'][_0x409fec(0x191)]({'where':{'_id':_0x1a9810['id']}},{'groupdata':{..._0x4c1d91['groupdata'],'participants':_0x1de5d6,'size':_0x49bfad,'isAdmin':_0x5430b7,'canSendMessage':_0x38e5b2}},this['instance'][_0x409fec(0x834)]),this[_0x409fec(0x44e)]['info'](this[_0x409fec(0x82b)]+'\x20('+this[_0x409fec(0x240)][_0x409fec(0x834)]+'):\x20Grupo\x20'+_0x1a9810['id']+_0x409fec(0x485)+_0x1a9810['action']+',\x20Novo\x20tamanho:\x20'+_0x49bfad+',\x20isAdmin:\x20'+_0x5430b7+_0x409fec(0x278)+_0x38e5b2);}async['inviteCode'](_0x398b94,_0x41e615=!0x0){const _0x4ba490=a0_0x4ac10f;try{let _0x57318a=await this['client'][_0x4ba490(0x48b)](_0x398b94[_0x4ba490(0x2cd)]),_0x186b2f={'groupdata.inviteCode':'https://chat.whatsapp.com/'+_0x57318a};if(_0x41e615){let _0x14f899=await this[_0x4ba490(0x37d)]['chat']['updateOne']({'where':{'_id':_0x398b94[_0x4ba490(0x2cd)]}},_0x186b2f,this[_0x4ba490(0x240)][_0x4ba490(0x834)]);}return{'inviteUrl':'https://chat.whatsapp.com/'+_0x57318a,'inviteCode':_0x57318a};}catch(_0x3c4ce5){let _0x3075ae=_0x4ba490(0x63c),_0x56e913=_0x3c4ce5 instanceof Error?_0x3c4ce5[_0x4ba490(0x552)]:typeof _0x3c4ce5==_0x4ba490(0x7e5)?JSON[_0x4ba490(0x3cc)](_0x3c4ce5):_0x3c4ce5,_0x3efe87=_0x3075ae+':\x20'+_0x56e913;throw this[_0x4ba490(0x44e)][_0x4ba490(0x4f6)](this[_0x4ba490(0x82b)]+'\x20('+this[_0x4ba490(0x240)][_0x4ba490(0x834)]+_0x4ba490(0x309)+_0x3efe87),new J(_0x3efe87);}}async['revokeInviteCode'](_0x3ac677){const _0x2b902e=a0_0x4ac10f;try{let _0x15a4c9=await this[_0x2b902e(0x18f)]['groupRevokeInvite'](_0x3ac677[_0x2b902e(0x2cd)]);return{'revoked':!0x0,'inviteUrl':_0x2b902e(0x673)+_0x15a4c9,'inviteCode':_0x15a4c9};}catch(_0x33cf7f){let _0x138568=_0x2b902e(0x5d7),_0x383a3d=_0x33cf7f instanceof Error?_0x33cf7f[_0x2b902e(0x552)]:typeof _0x33cf7f==_0x2b902e(0x7e5)?JSON[_0x2b902e(0x3cc)](_0x33cf7f):_0x33cf7f,_0x2ee2be=_0x138568+':\x20'+_0x383a3d;throw this[_0x2b902e(0x44e)][_0x2b902e(0x4f6)](this[_0x2b902e(0x82b)]+'\x20('+this[_0x2b902e(0x240)][_0x2b902e(0x834)]+_0x2b902e(0x309)+_0x2ee2be),new J(_0x2ee2be);}}async['joinGroup'](_0x1886c0){const _0x53381d=a0_0x4ac10f;try{if((0x0,k[_0x53381d(0x3db)])(_0x1886c0[_0x53381d(0x57e)]))var _0x80ace1=_0x1886c0[_0x53381d(0x57e)][_0x53381d(0x3eb)]('/')[0x3];else var _0x80ace1=_0x1886c0[_0x53381d(0x57e)];let _0x164321=await this[_0x53381d(0x18f)]['groupAcceptInvite'](_0x80ace1);return this[_0x53381d(0x44e)][_0x53381d(0x188)](this[_0x53381d(0x82b)]+'\x20('+this[_0x53381d(0x240)]['wuid']+_0x53381d(0x309)+_0x164321),{'join':!0x0,'inviteCode':_0x80ace1,'groupJid':_0x164321};}catch(_0x167d58){let _0x6b3e1e=_0x53381d(0x486),_0x1fe1d0=_0x167d58 instanceof Error?_0x167d58[_0x53381d(0x552)]:typeof _0x167d58==_0x53381d(0x7e5)?JSON[_0x53381d(0x3cc)](_0x167d58):_0x167d58,_0x36e460=_0x6b3e1e+':\x20'+_0x1fe1d0;throw this[_0x53381d(0x44e)][_0x53381d(0x4f6)](this['instanceName']+'\x20('+this['instance'][_0x53381d(0x834)]+_0x53381d(0x309)+_0x36e460),new J(_0x36e460);}}async[a0_0x4ac10f(0x52e)](_0x345b51){const _0x262694=a0_0x4ac10f;try{return{'participants':(await this['repository'][_0x262694(0x413)][_0x262694(0x349)]({'where':{'_id':_0x345b51[_0x262694(0x2cd)]}},this[_0x262694(0x240)]['wuid']))[_0x262694(0x146)]['participants']};}catch(_0x51ac4a){let _0x43551f=_0x262694(0x6a6),_0xd56fc1=_0x51ac4a instanceof Error?_0x51ac4a[_0x262694(0x552)]:typeof _0x51ac4a==_0x262694(0x7e5)?JSON[_0x262694(0x3cc)](_0x51ac4a):_0x51ac4a,_0x2d1f2f=_0x43551f+':\x20'+_0xd56fc1;throw this[_0x262694(0x44e)]['error'](this['instanceName']+'\x20('+this[_0x262694(0x240)]['wuid']+_0x262694(0x309)+_0x2d1f2f),new J(_0x2d1f2f);}}async['leaveGroup'](_0x3e9ac7){const _0x388451=a0_0x4ac10f;try{return await this[_0x388451(0x18f)]['groupLeave'](_0x3e9ac7[_0x388451(0x2cd)]),{'groupJid':_0x3e9ac7[_0x388451(0x2cd)],'leave':!0x0};}catch(_0x39ea08){let _0x591131=_0x388451(0x657),_0x5200ad=_0x39ea08 instanceof Error?_0x39ea08[_0x388451(0x552)]:typeof _0x39ea08=='object'?JSON[_0x388451(0x3cc)](_0x39ea08):_0x39ea08,_0x450811=_0x591131+':\x20'+_0x5200ad;throw this[_0x388451(0x44e)]['error'](this['instanceName']+'\x20('+this[_0x388451(0x240)][_0x388451(0x834)]+_0x388451(0x309)+_0x450811),new m(_0x450811);}}async[a0_0x4ac10f(0x578)](_0x48ff79){const _0x89fd2a=a0_0x4ac10f;return await this[_0x89fd2a(0x618)](_0x48ff79[_0x89fd2a(0x1e2)],{'poll':{'name':_0x48ff79['pollMessage']?.[_0x89fd2a(0x80a)],'selectableCount':_0x48ff79['pollMessage'][_0x89fd2a(0x543)],'values':_0x48ff79['pollMessage'][_0x89fd2a(0x5ad)]}},_0x48ff79?.[_0x89fd2a(0x697)]);}async['listMessage'](_0x2a051f){const _0x1b71b3=a0_0x4ac10f;return await this[_0x1b71b3(0x618)](_0x2a051f[_0x1b71b3(0x1e2)],{'listMessage':{'title':_0x2a051f[_0x1b71b3(0x23a)][_0x1b71b3(0x49c)],'description':_0x2a051f[_0x1b71b3(0x23a)][_0x1b71b3(0x4db)],'buttonText':_0x2a051f[_0x1b71b3(0x23a)]?.[_0x1b71b3(0x255)],'footerText':_0x2a051f[_0x1b71b3(0x23a)]?.[_0x1b71b3(0x775)],'sections':_0x2a051f[_0x1b71b3(0x23a)][_0x1b71b3(0x4f7)],'listType':0x2}},_0x2a051f?.[_0x1b71b3(0x697)]);}async[a0_0x4ac10f(0x12d)](_0x53a81a){const _0x43104d=a0_0x4ac10f;let _0x54b85b;if(_0x53a81a['menuMessage']['type']===_0x43104d(0x61b)){let _0x364365=_0x53a81a[_0x43104d(0x12d)]['text'][_0x43104d(0x859)]('\x0a'),_0x5e3033='',_0x62d576='';_0x364365!==-0x1?(_0x5e3033=_0x53a81a[_0x43104d(0x12d)][_0x43104d(0x6e7)][_0x43104d(0x27a)](0x0,_0x364365)[_0x43104d(0x17d)](),_0x62d576=_0x53a81a[_0x43104d(0x12d)][_0x43104d(0x6e7)][_0x43104d(0x27a)](_0x364365+0x1)):_0x62d576=_0x53a81a[_0x43104d(0x12d)]['text'];let _0x25d87f=_0x53a81a[_0x43104d(0x12d)][_0x43104d(0x147)][_0x43104d(0x820)](_0x190491=>_0x190491[_0x43104d(0x17d)]()!==''),_0x205964=this['createSectionsFromValues'](_0x25d87f);_0x54b85b={'listMessage':{'title':_0x5e3033,'description':_0x62d576,'buttonText':_0x53a81a[_0x43104d(0x12d)][_0x43104d(0x255)]||'Selecione','footerText':_0x53a81a[_0x43104d(0x12d)]['footerText'],'sections':_0x205964,'listType':0x2}};}else{if(_0x53a81a[_0x43104d(0x12d)][_0x43104d(0x14f)]===_0x43104d(0x14d)){let _0x38ae41=_0x53a81a[_0x43104d(0x12d)]['choices'][_0x43104d(0x820)](_0x5abede=>!(_0x5abede[_0x43104d(0x231)]('[')&&_0x5abede['endsWith'](']'))&&_0x5abede[_0x43104d(0x17d)]()!=='')['map'](_0x384146=>_0x384146[_0x43104d(0x3eb)]('\x0a')[0x0]);_0x54b85b={'poll':{'name':_0x53a81a[_0x43104d(0x12d)][_0x43104d(0x6e7)],'selectableCount':_0x53a81a[_0x43104d(0x12d)][_0x43104d(0x543)]||0x1,'values':_0x38ae41}};}}return await this[_0x43104d(0x618)](_0x53a81a['number'],_0x54b85b,_0x53a81a?.[_0x43104d(0x697)]);}[a0_0x4ac10f(0x742)](_0x5603c0){const _0x479f90=a0_0x4ac10f;let _0x21a291=[],_0x5d1f16={'rows':[]};return _0x5603c0['forEach'](_0x456d7b=>{const _0x145c19=a0_0x3b98;if(_0x456d7b[_0x145c19(0x231)]('[')&&_0x456d7b[_0x145c19(0x37c)](']'))_0x5d1f16[_0x145c19(0x149)][_0x145c19(0x30c)]>0x0&&_0x21a291[_0x145c19(0x304)](_0x5d1f16),_0x5d1f16={'title':_0x456d7b[_0x145c19(0x18a)](0x1,-0x1),'rows':[]};else{let _0x376b38=_0x456d7b[_0x145c19(0x3eb)]('\x0a')[_0x145c19(0x3c7)](_0x3b8c1c=>_0x3b8c1c[_0x145c19(0x17d)]()),_0x58a691=_0x376b38[0x0],_0x49a2f9=_0x376b38[0x1]||null,_0x26c6f0=_0x376b38[0x2]||_0x58a691;_0x5d1f16['rows'][_0x145c19(0x304)]({'title':_0x58a691,'description':_0x49a2f9,'rowId':_0x26c6f0});}}),_0x5d1f16[_0x479f90(0x149)][_0x479f90(0x30c)]>0x0&&_0x21a291['push'](_0x5d1f16),_0x21a291;}async[a0_0x4ac10f(0x266)](_0x5e060d,_0x42b027){const _0x289f2c=a0_0x4ac10f;if(await this[_0x289f2c(0x40d)](_0x5e060d,!0x0)){let _0x597410={'where':{'_id':_0x5e060d['id']}},_0x518bba={'status':[_0x42b027['status']][0x0]};try{let _0x1f41e5=await this[_0x289f2c(0x37d)]['message'][_0x289f2c(0x256)](_0x597410,_0x518bba,this['instance'][_0x289f2c(0x834)]);_0x1f41e5&&j(this['instanceName'],_0x289f2c(0x6a7),{'message':_0x1f41e5});}catch{}}}[a0_0x4ac10f(0x64f)](_0x191a43){const _0xabe454=a0_0x4ac10f;let _0x561560=[];return _0x191a43[_0xabe454(0x843)](_0x154b53=>{const _0x59b87b=_0xabe454;_0x154b53[_0x59b87b(0x49c)]&&_0x561560[_0x59b87b(0x304)]('['+_0x154b53[_0x59b87b(0x49c)]+']'),_0x154b53[_0x59b87b(0x149)][_0x59b87b(0x843)](_0x2f812a=>{const _0x164395=_0x59b87b;_0x561560[_0x164395(0x304)](_0x2f812a[_0x164395(0x49c)]);});}),_0x561560[_0xabe454(0x650)]('|');}['formatVCard'](_0x8556ed){const _0x401150=a0_0x4ac10f;let _0x4164ae=_0x8556ed[_0x401150(0x527)](/\\n/g,'\x0a')[_0x401150(0x3eb)]('\x0a')[_0x401150(0x820)](_0x20ce14=>_0x20ce14[_0x401150(0x19a)]('TEL')||_0x20ce14[_0x401150(0x19a)](_0x401150(0x4d9))),_0x30e9e4='';return _0x4164ae['forEach'](_0x1b0936=>{const _0x5387d9=_0x401150;let _0x54e741=/TEL(?:.*):(.+)/,_0x34d08e=/EMAIL(?:.*):(.+)/,_0x1002f8=_0x1b0936[_0x5387d9(0x579)](_0x54e741),_0x2a177f=_0x1b0936['match'](_0x34d08e);if(_0x1002f8){let _0x3479ba=_0x1002f8[0x1]['replace'](/-| |\+|\(|\)/g,'')['trim']();_0x30e9e4+=_0x5387d9(0x1c2)+_0x3479ba+'\x0a';}else{if(_0x2a177f){let _0x5911b3=_0x2a177f[0x1][_0x5387d9(0x17d)]();_0x30e9e4+=_0x5387d9(0x6d9)+_0x5911b3+'\x0a';}}}),_0x30e9e4[_0x401150(0x17d)]();}async[a0_0x4ac10f(0x1a9)](_0x2348b3,_0x5bd8b3,_0x25ba33,_0x2b1107=null){const _0x5ba767=a0_0x4ac10f;if(_0x2348b3[_0x5ba767(0x62e)])try{let _0x526511=_0x5bd8b3[_0x5ba767(0x77d)][_0x5ba767(0x6e1)][_0x5ba767(0x527)](/:\d{1,2}@/g,'@'),_0x9b3e1c=_0x5bd8b3[_0x5ba767(0x77d)]['fromMe'],_0x1d05fa=_0x526511[_0x5ba767(0x37c)](_0x5ba767(0x703)),_0xa969a6=_0x5bd8b3[_0x5ba767(0x55e)]?.['replace'](/:\d{1,2}@/g,'@')||'',_0x5bfea6=_0x5bd8b3[_0x5ba767(0x3a3)]?.['text']||_0x5bd8b3[_0x5ba767(0x3a3)]?.['caption']||_0x5bd8b3[_0x5ba767(0x3a3)]?.[_0x5ba767(0x5c4)]||_0x5bd8b3[_0x5ba767(0x3a3)]?.[_0x5ba767(0x80a)]||'',_0x192de6={'_id':_0x5bd8b3[_0x5ba767(0x261)],'remoteJid':_0x9b3e1c?this[_0x5ba767(0x240)][_0x5ba767(0x834)]:_0x1d05fa?_0xa969a6:_0x526511,'pushName':_0x9b3e1c?this['instance'][_0x5ba767(0x237)]||'Eu':_0x5bd8b3[_0x5ba767(0x364)],'text':_0x5bfea6,'type':_0x5bd8b3[_0x5ba767(0x390)],'when':_0x5bd8b3[_0x5ba767(0x18b)]||Date[_0x5ba767(0x77c)]()};_0x2b1107||(_0x2b1107=await this['repository']['chat'][_0x5ba767(0x349)]({'where':{'_id':_0x526511}},this[_0x5ba767(0x240)][_0x5ba767(0x834)]));let _0x4df24d=_0x2b1107?_0x9b3e1c?_0x2b1107['unreadcount']:(_0x2b1107[_0x5ba767(0x3c6)]||0x0)+0x1:_0x9b3e1c?0x0:0x1,_0x433053={'lastmsg':_0x5bd8b3[_0x5ba767(0x18b)]||Date[_0x5ba767(0x77c)](),'ephemeralExpiration':_0x5bd8b3[_0x5ba767(0x356)],'lastMessage':_0x192de6,'unreadcount':_0x4df24d,..._0x9b3e1c||_0x1d05fa?{}:{'name':_0x5bd8b3[_0x5ba767(0x364)]},..._0x1d05fa?{'group':_0x1d05fa}:{},...!_0x9b3e1c&&!_0x1d05fa&&_0x5bd8b3['profilePictureUrl']?{'imagechat':_0x5bd8b3['profilePictureUrl']}:{}};if(!_0x1d05fa&&(!_0x2b1107?.[_0x5ba767(0x5fa)]||!_0x2b1107[_0x5ba767(0x5fa)][_0x5ba767(0x45a)])&&_0x5bd8b3[_0x5ba767(0x364)]&&!_0x9b3e1c&&(_0x433053={..._0x433053,'leadInfo.nome':_0x5bd8b3[_0x5ba767(0x364)]}),_0x2b1107?.[_0x5ba767(0x5fa)][_0x5ba767(0x58e)]||(_0x433053={..._0x433053,'leadInfo.etiquetas':[]}),_0x2b1107?.[_0x5ba767(0x5fa)][_0x5ba767(0x4c5)]||(_0x433053={..._0x433053,'leadInfo.customFields':[]}),_0x2b1107?.[_0x5ba767(0x5fa)]['tags']||(_0x433053={..._0x433053,'leadInfo.tags':[]}),_0x2b1107&&_0x2b1107?.[_0x5ba767(0x589)]){let _0xec061b=await this[_0x5ba767(0x37d)][_0x5ba767(0x4da)]['find']({'where':{}},this[_0x5ba767(0x240)]['wuid']),_0x1052b7=new Set(_0xec061b[_0x5ba767(0x3c7)](_0x4238ed=>_0x4238ed['_id'])),_0x42eec4=(_0x2b1107[_0x5ba767(0x5fa)]?.[_0x5ba767(0x58e)]||[])['filter'](_0xa49c13=>_0x1052b7['has'](_0xa49c13));_0x433053={..._0x433053,'imported':!0x1,'leadInfo.etiquetas':_0x42eec4};for(let _0x398aa9 of _0x42eec4)await this['AddChatLabel'](_0x398aa9,_0x526511);}if(!this[_0x5ba767(0x711)][_0x5ba767(0x649)]['find'](_0x26108d=>_0x26108d['startCommand']&&_0x5bfea6['includes'](_0x26108d[_0x5ba767(0x638)]))&&_0x25ba33==='MESSAGES_UPSERT'&&_0x9b3e1c&&this[_0x5ba767(0x711)]?.['flowConfig'][_0x5ba767(0x516)]&&_0x5bfea6[_0x5ba767(0x17d)]()!==this[_0x5ba767(0x711)]?.[_0x5ba767(0x639)]['stopConversation'][_0x5ba767(0x17d)]()){let _0x453366=(this[_0x5ba767(0x711)]?.[_0x5ba767(0x639)][_0x5ba767(0x283)]||0x0)*0xea60,_0x4f02ff=Date[_0x5ba767(0x77c)]()+_0x453366;_0x2b1107?.[_0x5ba767(0x5fa)]?.['desativadoFluxoAte']===0x0||(_0x433053={..._0x433053,'leadInfo.desativadoFluxoAte':_0x4f02ff},this[_0x5ba767(0x44e)][_0x5ba767(0x188)](this[_0x5ba767(0x82b)]+'\x20('+this['instance'][_0x5ba767(0x834)]+_0x5ba767(0x4ab)+_0x4f02ff+'.'));}if(_0x5bfea6[_0x5ba767(0x17d)]()===this[_0x5ba767(0x711)]?.['flowConfig'][_0x5ba767(0x299)]['trim']()){this[_0x5ba767(0x44e)]['verbose'](this[_0x5ba767(0x82b)]+'\x20('+this[_0x5ba767(0x240)][_0x5ba767(0x834)]+_0x5ba767(0x235)+_0x5bfea6);let _0x55a086=Date[_0x5ba767(0x77c)]();this[_0x5ba767(0x711)]?.[_0x5ba767(0x639)][_0x5ba767(0x546)]===0x0?_0x433053={..._0x433053,'leadInfo.desativadoFluxoAte':_0x55a086+0x7591f6200}:_0x433053={..._0x433053,'leadInfo.desativadoFluxoAte':_0x55a086+this[_0x5ba767(0x711)]?.[_0x5ba767(0x639)]['stopMinutes']*0x3c*0x3e8};}if(_0x2b1107=await this[_0x5ba767(0x37d)][_0x5ba767(0x413)]['updateOne']({'where':{'_id':_0x526511}},_0x433053,this[_0x5ba767(0x240)][_0x5ba767(0x834)],{'new':!0x0,'upsert':!0x0}),_0x2b1107)j(this[_0x5ba767(0x82b)],_0x5ba767(0x408),{'chat':_0x2b1107});else{this[_0x5ba767(0x44e)][_0x5ba767(0x4f6)](this[_0x5ba767(0x82b)]+'\x20('+this[_0x5ba767(0x240)][_0x5ba767(0x834)]+_0x5ba767(0x305));return;}if(_0x9b3e1c)return this[_0x5ba767(0x44e)][_0x5ba767(0x188)](this[_0x5ba767(0x82b)]+'\x20('+this['instance'][_0x5ba767(0x834)]+_0x5ba767(0x446)),null;if(!this['AutomateSystem']?.['flowConfig'][_0x5ba767(0x516)])return this[_0x5ba767(0x44e)][_0x5ba767(0x188)](this[_0x5ba767(0x82b)]+'\x20('+this[_0x5ba767(0x240)][_0x5ba767(0x834)]+_0x5ba767(0x345)),null;if(_0x2b1107['_id'][_0x5ba767(0x19a)]('@g.us')&&this[_0x5ba767(0x711)]?.[_0x5ba767(0x639)][_0x5ba767(0x174)]===!0x0)return this[_0x5ba767(0x44e)][_0x5ba767(0x188)](this[_0x5ba767(0x82b)]+'\x20('+this[_0x5ba767(0x240)][_0x5ba767(0x834)]+_0x5ba767(0x434)),null;if(_0x2b1107[_0x5ba767(0x5fa)]){if(_0x2b1107['leadInfo'][_0x5ba767(0x24f)]===0x0||_0x2b1107['leadInfo'][_0x5ba767(0x812)])return this[_0x5ba767(0x44e)][_0x5ba767(0x188)](this[_0x5ba767(0x82b)]+'\x20('+this[_0x5ba767(0x240)][_0x5ba767(0x834)]+_0x5ba767(0x2f4)+_0x526511+_0x5ba767(0x713)),null;if(_0x2b1107['leadInfo'][_0x5ba767(0x24f)]>Date['now']()&&!_0x5bd8b3[_0x5ba767(0x3a3)]?.['vote'])return this['logger']['verbose'](this[_0x5ba767(0x82b)]+'\x20('+this[_0x5ba767(0x240)][_0x5ba767(0x834)]+_0x5ba767(0x59a)+new Date(_0x2b1107[_0x5ba767(0x5fa)][_0x5ba767(0x24f)])[_0x5ba767(0x684)]()+_0x5ba767(0x713)),null;}this[_0x5ba767(0x44e)][_0x5ba767(0x188)](this['instanceName']+'\x20('+this['instance'][_0x5ba767(0x834)]+_0x5ba767(0x709)),this['StartBot'](_0x5bd8b3,_0x25ba33);}catch(_0x392a75){let _0x39c469=_0x5ba767(0x6a1),_0x4bec33=_0x392a75 instanceof Error?_0x392a75[_0x5ba767(0x552)]:typeof _0x392a75=='object'?JSON[_0x5ba767(0x3cc)](_0x392a75):_0x392a75,_0x119e19=_0x39c469+':\x20'+_0x4bec33;return this[_0x5ba767(0x44e)][_0x5ba767(0x4f6)](this[_0x5ba767(0x82b)]+'\x20('+this[_0x5ba767(0x240)]['wuid']+'):\x20'+_0x119e19),null;}}async[a0_0x4ac10f(0x122)](_0x52dd4f,_0x4ab205){const _0x2ba1fc=a0_0x4ac10f;if(_0x4ab205['ENABLED']){let _0x3bacda=_0x52dd4f[_0x2ba1fc(0x3c7)](async _0x4adfea=>{const _0x23eebe=_0x2ba1fc;try{let _0x3b4d68={'_id':_0x4adfea[_0x23eebe(0x261)],'owner':_0x4adfea['owner'],'lastcache':0x0};if(Object[_0x23eebe(0x27b)](_0x4adfea)[_0x23eebe(0x843)](_0xc75b40=>{_0x4adfea[_0xc75b40]!==null&&(_0x3b4d68[_0xc75b40]=_0x4adfea[_0xc75b40]);}),_0x3b4d68[_0x23eebe(0x6da)]===null&&(_0x3b4d68[_0x23eebe(0x6da)]=_0x23eebe(0x184)),Object['keys'](_0x3b4d68)[_0x23eebe(0x30c)]>0x0)return await this[_0x23eebe(0x37d)][_0x23eebe(0x413)][_0x23eebe(0x191)]({'where':{'_id':_0x4adfea[_0x23eebe(0x261)]}},_0x3b4d68,this['instance'][_0x23eebe(0x834)]);}catch(_0x1ccc0f){let _0x4a85be=_0x23eebe(0x6ea)+_0x4adfea[_0x23eebe(0x261)],_0x130cd3=_0x1ccc0f instanceof Error?_0x1ccc0f[_0x23eebe(0x552)]:typeof _0x1ccc0f==_0x23eebe(0x7e5)?JSON[_0x23eebe(0x3cc)](_0x1ccc0f):_0x1ccc0f,_0x28a981=_0x4a85be+':\x20'+_0x130cd3;return this[_0x23eebe(0x44e)]['error'](this[_0x23eebe(0x82b)]+'\x20('+this[_0x23eebe(0x240)]['wuid']+_0x23eebe(0x309)+_0x28a981),null;}}),_0x3c1622=(await Promise['all'](_0x3bacda))[_0x2ba1fc(0x820)](_0x334c92=>_0x334c92!==null)[_0x2ba1fc(0x30c)];this[_0x2ba1fc(0x44e)][_0x2ba1fc(0x188)](this[_0x2ba1fc(0x82b)]+'\x20('+this[_0x2ba1fc(0x240)][_0x2ba1fc(0x834)]+_0x2ba1fc(0x309)+_0x3c1622+_0x2ba1fc(0x277)+this[_0x2ba1fc(0x240)][_0x2ba1fc(0x834)]+_0x2ba1fc(0x443));}}async['readMessageBot'](_0x56c04a){const _0x717907=a0_0x4ac10f;this['logger'][_0x717907(0x188)](this[_0x717907(0x82b)]+'\x20('+this[_0x717907(0x240)][_0x717907(0x834)]+_0x717907(0x7a0));let _0x2979f1={'readMessages':[{'remoteJid':_0x56c04a[_0x717907(0x7f9)][_0x717907(0x2b6)][_0x717907(0x77d)][_0x717907(0x6e1)],'fromMe':_0x56c04a[_0x717907(0x7f9)][_0x717907(0x2b6)][_0x717907(0x77d)][_0x717907(0x31d)],'id':_0x56c04a['chatLog'][_0x717907(0x2b6)][_0x717907(0x77d)]['id']}]};await this[_0x717907(0x67a)](_0x2979f1);}async[a0_0x4ac10f(0x6c5)](_0x42c590,_0x136107){const _0x55b7b9=a0_0x4ac10f;try{let {key:_0x4a55ee,message_normalized:_0x49b72c}=_0x42c590,_0x108e76=_0x49b72c,_0x37644a=_0x49b72c[_0x55b7b9(0x6e7)]||_0x49b72c['caption']||_0x49b72c['vote']||_0x49b72c[_0x55b7b9(0x80a)]||'',_0x3d0780=_0x4a55ee[_0x55b7b9(0x6e1)],_0x5656db=null,_0x6b0659=this['AutomateSystem'][_0x55b7b9(0x649)][_0x55b7b9(0x7c1)](_0xbae7a4=>_0xbae7a4['startCommand']&&_0x37644a[_0x55b7b9(0x19a)](_0xbae7a4['startCommand']));if(_0x6b0659&&_0x136107==='MESSAGES_UPSERT'){let _0x1ce9af=await this[_0x55b7b9(0x37d)][_0x55b7b9(0x7fa)]['findOne']({'where':{'_id':_0x6b0659[_0x55b7b9(0x261)]}});if(this[_0x55b7b9(0x44e)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x55b7b9(0x834)]+_0x55b7b9(0x520)),_0x1ce9af&&_0x1ce9af[_0x55b7b9(0x865)]?.[_0x55b7b9(0x19a)](this['instance']['wuid']))_0x5656db=await this[_0x55b7b9(0x6ad)](_0x1ce9af,_0x4a55ee,_0x108e76);else return this[_0x55b7b9(0x44e)][_0x55b7b9(0x188)](this['instanceName']+'\x20('+this['instance'][_0x55b7b9(0x834)]+_0x55b7b9(0x1fe)),null;}else this[_0x55b7b9(0x44e)][_0x55b7b9(0x188)](this[_0x55b7b9(0x82b)]+'\x20('+this['instance']['wuid']+_0x55b7b9(0x84c));if(_0x5656db=await this[_0x55b7b9(0x432)](_0x3d0780,_0x108e76),_0x5656db){this[_0x55b7b9(0x44e)]['verbose'](this[_0x55b7b9(0x82b)]+'\x20('+this[_0x55b7b9(0x240)]['wuid']+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x4a55ee['fromMe']&&_0x5656db[_0x55b7b9(0x86a)]&&this[_0x55b7b9(0x614)](_0x5656db);let _0x225d6a=await this[_0x55b7b9(0x6d6)](_0x5656db);_0x225d6a&&await this[_0x55b7b9(0x185)](_0x5656db,_0x225d6a);}}catch(_0x1105b1){this['logger']['error'](this[_0x55b7b9(0x82b)]+'\x20('+this[_0x55b7b9(0x240)][_0x55b7b9(0x834)]+_0x55b7b9(0x4be)+(_0x1105b1 instanceof Error?_0x1105b1[_0x55b7b9(0x552)]:JSON['stringify'](_0x1105b1,null,0x2)));}}[a0_0x4ac10f(0x1f4)](_0x2553aa,_0x1284c0='',_0x19cb64={}){const _0x4cc03f=a0_0x4ac10f;return typeof _0x2553aa!=_0x4cc03f(0x7e5)||_0x2553aa===null?(_0x1284c0&&(_0x19cb64[_0x1284c0]=_0x2553aa),_0x19cb64):(Object[_0x4cc03f(0x58a)](_0x2553aa)['forEach'](([_0x1a7c72,_0x3d512f])=>{const _0x23cfed=_0x4cc03f;let _0x49d11b=_0x1284c0?_0x1284c0+'.'+_0x1a7c72:'_'+_0x1a7c72;Array[_0x23cfed(0x5b5)](_0x3d512f)?_0x3d512f[_0x23cfed(0x843)]((_0x301a24,_0x5443db)=>{this['flattenObject'](_0x301a24,_0x49d11b+'['+_0x5443db+']',_0x19cb64);}):typeof _0x3d512f==_0x23cfed(0x7e5)&&_0x3d512f!==null?this[_0x23cfed(0x1f4)](_0x3d512f,_0x49d11b,_0x19cb64):_0x19cb64[_0x49d11b]=String(_0x3d512f);}),_0x19cb64);}['variablesToObject'](_0x3385df){const _0x56281b=a0_0x4ac10f;let _0x4a8170={};for(let _0x2d5a9c of _0x3385df)typeof _0x2d5a9c['name']==_0x56281b(0x525)&&typeof _0x2d5a9c[_0x56281b(0x203)]=='string'&&(_0x4a8170[_0x2d5a9c[_0x56281b(0x80a)]]=_0x2d5a9c[_0x56281b(0x203)]);return _0x4a8170;}async['NextBlock'](_0xee71f9){const _0x2ca612=a0_0x4ac10f;if(!this['AutomateSystem']?.['flowConfig'][_0x2ca612(0x516)]||_0xee71f9['status']!=='open'&&_0xee71f9[_0x2ca612(0x2c0)]==='')return null;let _0x50dfa9=_0xee71f9[_0x2ca612(0x7f9)][_0x2ca612(0x74a)]||_0x2ca612(0x1d2);typeof _0xee71f9[_0x2ca612(0x7f9)][_0x2ca612(0x7d7)]>'u'&&(_0xee71f9[_0x2ca612(0x7f9)][_0x2ca612(0x7d7)]=!0x0);let _0x383ae4=_0xee71f9[_0x2ca612(0x7f9)]['lastCondition'];this[_0x2ca612(0x44e)][_0x2ca612(0x188)](this[_0x2ca612(0x82b)]+'\x20('+this[_0x2ca612(0x240)]['wuid']+_0x2ca612(0x298)+_0x50dfa9+_0x2ca612(0x7bc)+_0x383ae4);let _0x2cbec5=_0x50dfa9==='start'?_0xee71f9[_0x2ca612(0x607)][_0x2ca612(0x7c1)](_0x5b88a8=>_0x5b88a8[_0x2ca612(0x14f)]==='start'):_0xee71f9[_0x2ca612(0x607)][_0x2ca612(0x7c1)](_0x5e2c79=>_0x5e2c79['_id'][_0x2ca612(0x830)]()===_0x50dfa9[_0x2ca612(0x830)]());if(!_0x2cbec5)return this[_0x2ca612(0x44e)][_0x2ca612(0x4f6)](this[_0x2ca612(0x82b)]+'\x20('+this['instance'][_0x2ca612(0x834)]+_0x2ca612(0x6b7)+_0x50dfa9),null;let _0x35dc72={'_pushName':_0xee71f9?.[_0x2ca612(0x7f9)]?.[_0x2ca612(0x2b6)]?.[_0x2ca612(0x364)]||'','_sender':this[_0x2ca612(0x240)]['wuid']||'',..._0xee71f9[_0x2ca612(0x7f9)][_0x2ca612(0x72a)]},_0x37fdf8=null;if(_0xee71f9[_0x2ca612(0x2c0)]){let _0x3389cd=_0xee71f9[_0x2ca612(0x7f9)][_0x2ca612(0x2b6)]['vote'],_0x103c73=_0xee71f9[_0x2ca612(0x476)]['find'](_0x5501cd=>_0x5501cd[_0x2ca612(0x774)]===_0x3389cd);if(_0x103c73){let _0x2f2483=_0x103c73[_0x2ca612(0x635)];if(_0x37fdf8=_0xee71f9[_0x2ca612(0x607)][_0x2ca612(0x7c1)](_0x5d3191=>_0x5d3191[_0x2ca612(0x5d4)]===_0x2f2483&&_0x5d3191[_0x2ca612(0x82d)]===0x1),_0x2cbec5[_0x2ca612(0x79d)][_0x2ca612(0x6ec)]){let _0x7c7b81={'id':_0xee71f9[_0x2ca612(0x2c0)],'remoteJid':_0xee71f9[_0x2ca612(0x6e1)],'fromMe':!0x0};await this[_0x2ca612(0x56b)](_0x7c7b81);}if(_0x2cbec5[_0x2ca612(0x79d)]['pollOnReplyDelete']&&_0x2cbec5[_0x2ca612(0x79d)]['pollMessageOnDelete']&&_0x2cbec5[_0x2ca612(0x79d)][_0x2ca612(0x6c9)]===_0x2ca612(0x14d)){let _0x1ead5a={'number':_0xee71f9['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x2ca612(0x4a2)+_0xee71f9[_0x2ca612(0x2c4)]+_0x2ca612(0x144)+_0x3389cd}};await this['textMessage'](_0x1ead5a);}_0xee71f9[_0x2ca612(0x1ac)]=_0x2ca612(0x38e),_0xee71f9[_0x2ca612(0x2c0)]='',_0xee71f9[_0x2ca612(0x2c4)]='',_0xee71f9['waitingMenu_replyOptions']=[];}else{this[_0x2ca612(0x44e)]['verbose'](this['instanceName']+'\x20('+this[_0x2ca612(0x240)][_0x2ca612(0x834)]+_0x2ca612(0x303));let _0x4eab94={'activatedCount':_0xee71f9['chatLog'][_0x2ca612(0x497)][_0x2ca612(0x820)](_0x44812f=>String(_0x44812f['blockId'])===String(_0x50dfa9))['length'],'moreLogs':[_0x2ca612(0x6f0)]};if(_0x2cbec5[_0x2ca612(0x79d)][_0x2ca612(0x823)]){let _0x5c7279={'number':_0xee71f9[_0x2ca612(0x6e1)],'options':{'delay':0x0},'textMessage':{'text':_0x2cbec5[_0x2ca612(0x79d)][_0x2ca612(0x823)]}};await this['textMessage'](_0x5c7279);}if(_0x2cbec5[_0x2ca612(0x35e)]!==void 0x0&&_0x4eab94[_0x2ca612(0x70a)]>=_0x2cbec5['maxActives']){let _0x2aa338=Date[_0x2ca612(0x77c)](),_0x33497b=_0x2cbec5[_0x2ca612(0x767)]??0xa;isNaN(_0x33497b)&&(_0x33497b=0xa);let _0x55226d=_0x2aa338+_0x33497b*0x3c*0x3e8;_0x4eab94['newStoppedUntil']=_0x55226d,_0x4eab94[_0x2ca612(0x43c)][_0x2ca612(0x304)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x2ca612(0x54c)](_0xee71f9,_0x55226d),_0xee71f9[_0x2ca612(0x2c0)]='',_0xee71f9['waitingMenu_text']='',_0xee71f9['waitingMenu_replyOptions']=[];}return this['updateConversation'](_0xee71f9,_0x2cbec5,_0x4eab94,!0x0),null;}}if(_0x383ae4&&_0x2cbec5['next_groupId']&&!_0xee71f9['waitingMenu_id']){let _0x4b1fdd=_0xee71f9[_0x2ca612(0x607)][_0x2ca612(0x820)](_0x6d8412=>_0x6d8412[_0x2ca612(0x5d4)][_0x2ca612(0x830)]()===_0x2cbec5[_0x2ca612(0x635)][_0x2ca612(0x830)]())[_0x2ca612(0x733)]((_0x50b2d5,_0x5ea2ac)=>_0x50b2d5[_0x2ca612(0x82d)]-_0x5ea2ac[_0x2ca612(0x82d)]);_0x4b1fdd[_0x2ca612(0x30c)]>0x0&&(_0x37fdf8=_0x4b1fdd[0x0]);}if(!_0x37fdf8){let _0x3a3a04=_0x2cbec5['groupId'],_0x478e80=_0xee71f9[_0x2ca612(0x607)][_0x2ca612(0x820)](_0x4d1c22=>_0x4d1c22['groupId']===_0x3a3a04&&_0x4d1c22[_0x2ca612(0x82d)]>_0x2cbec5[_0x2ca612(0x82d)])['sort']((_0xffb040,_0x59636b)=>_0xffb040['order']-_0x59636b[_0x2ca612(0x82d)]);_0x478e80[_0x2ca612(0x30c)]>0x0&&(_0x37fdf8=_0x478e80[0x0]);}if(!_0x37fdf8)return _0xee71f9[_0x2ca612(0x1ac)]='closed',null;_0xee71f9[_0x2ca612(0x7f9)][_0x2ca612(0x72a)]=_0x35dc72;let _0x59945b=JSON[_0x2ca612(0x1af)](JSON[_0x2ca612(0x3cc)](_0x37fdf8));return this[_0x2ca612(0x2d5)](_0x59945b,_0xee71f9[_0x2ca612(0x7f9)][_0x2ca612(0x72a)]),_0xee71f9[_0x2ca612(0x7f9)]['lastBlockId']=_0x59945b['_id'],_0xee71f9[_0x2ca612(0x7f9)][_0x2ca612(0x7d7)]=!0x0,_0x59945b;}[a0_0x4ac10f(0x642)](_0x4653fe,_0x298b8e){const _0x4d6c27=a0_0x4ac10f;return _0x4653fe[_0x4d6c27(0x527)](/\{\{([^}]+)\}\}/g,(_0x2356ed,_0x4518cb)=>_0x298b8e[_0x4518cb]||'');}[a0_0x4ac10f(0x2d5)](_0xc518ae,_0x3e7a80){const _0x2ee1ce=a0_0x4ac10f;for(let _0x22f38f in _0xc518ae)typeof _0xc518ae[_0x22f38f]==_0x2ee1ce(0x525)?_0xc518ae[_0x22f38f]=this[_0x2ee1ce(0x642)](_0xc518ae[_0x22f38f],_0x3e7a80):typeof _0xc518ae[_0x22f38f]==_0x2ee1ce(0x7e5)&&this[_0x2ee1ce(0x2d5)](_0xc518ae[_0x22f38f],_0x3e7a80);}async[a0_0x4ac10f(0x66f)](_0x4cd392,_0x5b4b9a){const _0x2545f1=a0_0x4ac10f;let _0x255bad=_0x5b4b9a[_0x2545f1(0x261)];if(_0x4cd392[_0x2545f1(0x7f9)]&&_0x4cd392[_0x2545f1(0x7f9)]['blockLogs']){let _0x57107f=_0x4cd392[_0x2545f1(0x7f9)][_0x2545f1(0x497)][_0x2545f1(0x820)](_0x33fcff=>String(_0x33fcff[_0x2545f1(0x30f)])===String(_0x255bad))[_0x2545f1(0x7e6)]();if(_0x57107f&&_0x57107f['error']&&_0x5b4b9a[_0x2545f1(0x46f)])return _0x4cd392[_0x2545f1(0x1ac)]='closed',await this[_0x2545f1(0x675)](_0x4cd392),null;}if(_0x5b4b9a['type']==='uazapi'&&_0x5b4b9a['uazapi'][_0x2545f1(0x229)]===_0x2545f1(0x788)&&_0x4cd392[_0x2545f1(0x2c0)])return _0x4cd392[_0x2545f1(0x7f9)]['lastBlockId']=_0x255bad,await this[_0x2545f1(0x675)](_0x4cd392),null;let _0x13f223=await this[_0x2545f1(0x6d6)](_0x4cd392);if(_0x4cd392[_0x2545f1(0x7f9)]&&_0x4cd392[_0x2545f1(0x7f9)][_0x2545f1(0x497)]){let _0xfabb1a=_0x4cd392['chatLog']['blockLogs'][_0x2545f1(0x820)](_0x38b8f0=>String(_0x38b8f0[_0x2545f1(0x30f)])===String(_0x255bad))[_0x2545f1(0x30c)];if(_0x5b4b9a[_0x2545f1(0x35e)]!==void 0x0&&_0xfabb1a>=_0x5b4b9a['maxActives']){let _0x3dfed8=Date[_0x2545f1(0x77c)](),_0xb12bbe=_0x5b4b9a['stopMinutesMaxActives']??0xa;isNaN(_0xb12bbe)&&(_0xb12bbe=0xa);let _0x2d4a11=_0x3dfed8+_0xb12bbe*0x3c*0x3e8,_0x15900d={'newStoppedUntil':_0x2d4a11};return this[_0x2545f1(0x54c)](_0x4cd392,_0x2d4a11),this[_0x2545f1(0x847)](_0x4cd392,_0x5b4b9a,_0x15900d,!0x0),null;}}_0x13f223&&_0x13f223[_0x2545f1(0x14f)]!==_0x2545f1(0x260)&&await this[_0x2545f1(0x185)](_0x4cd392,_0x13f223),_0x13f223||await this['saveConversationToDatabase'](_0x4cd392),_0x13f223&&_0x13f223[_0x2545f1(0x14f)]===_0x2545f1(0x260)&&(_0x4cd392[_0x2545f1(0x7f9)][_0x2545f1(0x74a)]=_0x255bad,await this['saveConversationToDatabase'](_0x4cd392));}async['processblock'](_0x376ebe,_0xb2c989){const _0x3196ca=a0_0x4ac10f;try{let _0x5b8c0c=_0xb2c989[_0x3196ca(0x14f)];this[_0x3196ca(0x44e)][_0x3196ca(0x188)](this[_0x3196ca(0x82b)]+'\x20('+this[_0x3196ca(0x240)]['wuid']+_0x3196ca(0x1d0)+_0x5b8c0c);let _0xf65bd0={'uazapi':()=>this[_0x3196ca(0x806)](_0x376ebe,_0xb2c989),'save':()=>this['saveTextReply'](_0x376ebe,_0xb2c989),'stop':()=>this[_0x3196ca(0x299)](_0x376ebe,_0xb2c989),'condition':()=>this[_0x3196ca(0x855)](_0x376ebe,_0xb2c989),'varedit':()=>this[_0x3196ca(0x57f)](_0x376ebe,_0xb2c989),'apirequest':()=>this['processApiRequest'](_0x376ebe,_0xb2c989),'goToFlow':()=>this['processgoToFlow'](_0x376ebe,_0xb2c989),'scheduleFlow':()=>this[_0x3196ca(0x55f)](_0x376ebe,_0xb2c989),'awaitSeconds':()=>this[_0x3196ca(0x3ed)](_0x376ebe,_0xb2c989),'clearVariables':()=>this[_0x3196ca(0x150)](_0x376ebe,_0xb2c989)}[_0x5b8c0c];_0xf65bd0&&await _0xf65bd0();}catch(_0x3d5118){this[_0x3196ca(0x44e)]['error'](this['instanceName']+'\x20('+this[_0x3196ca(0x240)][_0x3196ca(0x834)]+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x3d5118 instanceof Error?_0x3d5118[_0x3196ca(0x552)]:JSON[_0x3196ca(0x3cc)](_0x3d5118,null,0x2)));}}async[a0_0x4ac10f(0x3ed)](_0x29e36d,_0x365ac5){const _0x187535=a0_0x4ac10f;if(this[_0x187535(0x44e)][_0x187535(0x188)](this[_0x187535(0x82b)]+'\x20('+this[_0x187535(0x240)]['wuid']+'):\x20Entrou\x20na\x20função\x20processawaitSeconds'),!_0x29e36d||!_0x365ac5)return this[_0x187535(0x44e)][_0x187535(0x4f6)](this[_0x187535(0x82b)]+'\x20('+this['instance'][_0x187535(0x834)]+_0x187535(0x1ff)),null;let _0x160388=+_0x365ac5[_0x187535(0x436)];isNaN(_0x160388)&&(_0x160388=0x0),_0x160388=Math[_0x187535(0x288)](_0x160388,0x3c),await(0x0,w['delay'])(_0x160388*0x3e8);let _0x4616e3={'moreLogs':[_0x187535(0x43f)+_0x160388+_0x187535(0x817)]};return await this[_0x187535(0x847)](_0x29e36d,_0x365ac5,_0x4616e3),_0x160388;}async[a0_0x4ac10f(0x150)](_0x866949,_0x152dff){const _0x2a10b3=a0_0x4ac10f;if(this[_0x2a10b3(0x44e)][_0x2a10b3(0x188)](this[_0x2a10b3(0x82b)]+'\x20('+this['instance'][_0x2a10b3(0x834)]+_0x2a10b3(0x621)),!_0x866949||!_0x152dff)return this[_0x2a10b3(0x44e)]['error'](this['instanceName']+'\x20('+this['instance'][_0x2a10b3(0x834)]+_0x2a10b3(0x1ff)),null;let _0x4144dc=[];if(_0x152dff[_0x2a10b3(0x75f)][_0x2a10b3(0x17d)]()===_0x2a10b3(0x752)){let _0x123ba4=[_0x2a10b3(0x1ca),_0x2a10b3(0x3d8),_0x2a10b3(0x488),_0x2a10b3(0x22c),_0x2a10b3(0x844),_0x2a10b3(0x261),_0x2a10b3(0x784)];_0x4144dc=Object['keys'](_0x866949[_0x2a10b3(0x7f9)][_0x2a10b3(0x72a)])[_0x2a10b3(0x820)](_0x2785c6=>_0x2785c6[_0x2a10b3(0x231)]('_')&&!_0x123ba4[_0x2a10b3(0x19a)](_0x2785c6));}else _0x4144dc=_0x152dff[_0x2a10b3(0x75f)]['split']('|')[_0x2a10b3(0x3c7)](_0x1337ae=>(_0x1337ae=_0x1337ae['replace'](/[{}]/g,'')[_0x2a10b3(0x17d)](),_0x1337ae[_0x2a10b3(0x231)]('_')?_0x1337ae:'_'+_0x1337ae));let _0xa79bf9=[];_0x4144dc[_0x2a10b3(0x843)](_0x12289e=>{const _0x5554ac=_0x2a10b3;_0x12289e in _0x866949[_0x5554ac(0x7f9)][_0x5554ac(0x72a)]&&(delete _0x866949[_0x5554ac(0x7f9)][_0x5554ac(0x72a)][_0x12289e],_0xa79bf9['push'](_0x12289e));}),_0xa79bf9[_0x2a10b3(0x30c)]>0x0?this['logger']['verbose'](this[_0x2a10b3(0x82b)]+'\x20('+this['instance'][_0x2a10b3(0x834)]+_0x2a10b3(0x2de)+_0xa79bf9[_0x2a10b3(0x650)](',\x20')):this[_0x2a10b3(0x44e)][_0x2a10b3(0x188)](this['instanceName']+'\x20('+this[_0x2a10b3(0x240)][_0x2a10b3(0x834)]+_0x2a10b3(0x239));let _0x3d6201={'moreLogs':['Removidas\x20as\x20variáveis:\x20'+_0xa79bf9[_0x2a10b3(0x650)](',\x20')]};return await this['updateConversation'](_0x866949,_0x152dff,_0x3d6201),null;}async[a0_0x4ac10f(0x55f)](_0x2e5252,_0x7eb6c6){const _0x1e67c2=a0_0x4ac10f;if(this[_0x1e67c2(0x44e)][_0x1e67c2(0x188)](this[_0x1e67c2(0x82b)]+'\x20('+this[_0x1e67c2(0x240)][_0x1e67c2(0x834)]+_0x1e67c2(0x72f)),!_0x2e5252||!_0x7eb6c6)return this[_0x1e67c2(0x44e)][_0x1e67c2(0x4f6)](this['instanceName']+'\x20('+this[_0x1e67c2(0x240)][_0x1e67c2(0x834)]+_0x1e67c2(0x1ff)),null;let _0x46b6b1=_0x2e5252[_0x1e67c2(0x6e1)];_0x7eb6c6[_0x1e67c2(0x205)]['remoteJid']&&_0x7eb6c6[_0x1e67c2(0x205)][_0x1e67c2(0x6e1)][_0x1e67c2(0x17d)]()!==''&&(_0x46b6b1=_0x7eb6c6[_0x1e67c2(0x79d)][_0x1e67c2(0x6e1)][_0x1e67c2(0x17d)]());let _0x5658e8=_0x7eb6c6[_0x1e67c2(0x205)][_0x1e67c2(0x3ee)]*0xea60,_0x47a724=Date[_0x1e67c2(0x77c)]()+_0x5658e8,_0x3610cd={'status':'scheduled','info':_0x1e67c2(0x282)+_0x2e5252['name'],'remoteJids':[_0x46b6b1],'when':_0x47a724,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x1e67c2(0x7fa),'flowName':_0x7eb6c6['scheduleFlow'][_0x1e67c2(0x210)]};this[_0x1e67c2(0x438)](_0x3610cd);let _0x226128=await this[_0x1e67c2(0x6d6)](_0x2e5252);_0x226128&&await this['processblock'](_0x2e5252,_0x226128);}async[a0_0x4ac10f(0x25c)](_0x5a8493,_0x2628b0){const _0x49a1bf=a0_0x4ac10f;if(this[_0x49a1bf(0x44e)][_0x49a1bf(0x188)](this[_0x49a1bf(0x82b)]+'\x20('+this[_0x49a1bf(0x240)][_0x49a1bf(0x834)]+_0x49a1bf(0x54a)),!_0x5a8493||!_0x2628b0)return this['logger']['error'](this[_0x49a1bf(0x82b)]+'\x20('+this[_0x49a1bf(0x240)][_0x49a1bf(0x834)]+_0x49a1bf(0x1ff)),null;await this['updateConversation'](_0x5a8493,_0x2628b0,{},!0x0,!0x0);let _0x2a8a48=_0x2628b0[_0x49a1bf(0x4cd)];_0x5a8493=await this[_0x49a1bf(0x51e)](_0x2a8a48,_0x5a8493['remoteJid'],_0x5a8493[_0x49a1bf(0x7f9)][_0x49a1bf(0x72a)]);let _0x1dad39=await this[_0x49a1bf(0x6d6)](_0x5a8493);_0x1dad39&&await this['processblock'](_0x5a8493,_0x1dad39);}async[a0_0x4ac10f(0x51e)](_0x501b7e,_0x3f5684,_0x4ed128){const _0x31b171=a0_0x4ac10f;this[_0x31b171(0x44e)]['verbose'](this[_0x31b171(0x82b)]+'\x20('+this[_0x31b171(0x240)][_0x31b171(0x834)]+_0x31b171(0x826));try{let _0x3ed633=this['AutomateSystem'][_0x31b171(0x649)][_0x31b171(0x7c1)](_0x28c877=>_0x28c877[_0x31b171(0x261)]===_0x501b7e);_0x3ed633||this[_0x31b171(0x44e)][_0x31b171(0x4f6)](this['instanceName']+'\x20('+this[_0x31b171(0x240)][_0x31b171(0x834)]+'):\x20Flow\x20\x27'+_0x501b7e+'\x27\x20não\x20encontrado\x20na\x20memória');let _0x386229=await this['repository'][_0x31b171(0x7fa)]['findOne']({'where':{'_id':_0x3ed633[_0x31b171(0x261)]}});if(!_0x386229||!_0x386229[_0x31b171(0x865)]?.['includes'](this[_0x31b171(0x240)][_0x31b171(0x834)]))throw this['logger'][_0x31b171(0x4f6)](this[_0x31b171(0x82b)]+'\x20('+this[_0x31b171(0x240)]['wuid']+_0x31b171(0x86d)+_0x501b7e+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x31b171(0x2cb)+_0x501b7e+_0x31b171(0x2df));let _0x12ab04=require(_0x31b171(0x613))[_0x31b171(0x2ae)],_0x25a1df=Date['now'](),_0x3046ce='start',_0x3a4284={},_0x4feea1={},_0x57f2bf=this[_0x31b171(0x711)][_0x31b171(0x649)]['find'](_0x325c56=>_0x325c56['_id']===_0x386229['_id']?.[_0x31b171(0x830)]()),_0x3568ba=_0x57f2bf?.['minutesToClose']??_0x386229[_0x31b171(0x384)]??0x0,_0x173051=_0x57f2bf?.[_0x31b171(0x86a)]??_0x386229[_0x31b171(0x86a)]??!0x1,_0x5238cf={'flowId':_0x3ed633[_0x31b171(0x261)],'readMessages':_0x3ed633[_0x31b171(0x86a)],..._0x386229,'chatLog':null},_0x1601c7={'lastReceivedMessage':_0x3a4284,'lastSendMessage':_0x4feea1,'lastBlockId':_0x3046ce,'lastCondition':!0x0,'realVariables':_0x4ed128};_0x5238cf['chatLog']=_0x1601c7,_0x5238cf[_0x31b171(0x7f9)]['realVariables']={..._0x4ed128},delete _0x5238cf[_0x31b171(0x261)],_0x5238cf[_0x31b171(0x261)]=new _0x12ab04(),_0x5238cf[_0x31b171(0x4d3)]=_0x25a1df,_0x5238cf[_0x31b171(0x1ac)]='open',_0x5238cf['remoteJid']=_0x3f5684,_0x5238cf[_0x31b171(0x384)]=_0x3568ba,_0x5238cf['readMessages']=_0x173051;let _0xb9e8e3=await this['repository'][_0x31b171(0x403)][_0x31b171(0x191)](_0x5238cf[_0x31b171(0x261)],_0x5238cf,this['instance'][_0x31b171(0x834)]);return this['logger'][_0x31b171(0x188)](this[_0x31b171(0x82b)]+'\x20('+this[_0x31b171(0x240)]['wuid']+_0x31b171(0x449)),_0xb9e8e3?_0x5238cf:null;}catch(_0xc58a3){let _0xf6b8b0='Erro\x20ao\x20copiar\x20o\x20documento',_0x1db39d=_0xc58a3 instanceof Error?_0xc58a3[_0x31b171(0x552)]:typeof _0xc58a3==_0x31b171(0x7e5)?JSON[_0x31b171(0x3cc)](_0xc58a3):_0xc58a3,_0x5c9582=_0xf6b8b0+':\x20'+_0x1db39d;throw this[_0x31b171(0x44e)][_0x31b171(0x4f6)](this[_0x31b171(0x82b)]+'\x20('+this['instance'][_0x31b171(0x834)]+'):\x20'+_0x5c9582),new m(_0x5c9582);}}async[a0_0x4ac10f(0x33b)](_0x31e0db,_0x2ec8d1){const _0x33d732=a0_0x4ac10f;let _0x30a2a0,_0x4134c8;try{let _0x21fcba=_0x2ec8d1[_0x33d732(0x1e0)];if(!_0x21fcba||!_0x21fcba[_0x33d732(0x690)]||!_0x21fcba[_0x33d732(0x3d5)])throw new Error(_0x33d732(0x42a));let _0x1b91df;([_0x33d732(0x31a),_0x33d732(0x676),'https://api.elevenlabs.io/v1/text-to-speech/'][_0x33d732(0x41a)](_0x36684e=>_0x21fcba[_0x33d732(0x690)][_0x33d732(0x19a)](_0x36684e))||_0x21fcba[_0x33d732(0x1a6)])&&(_0x1b91df=_0x33d732(0x1dc));let _0x1db42d='\u205f',_0x52ef74;try{_0x52ef74=JSON[_0x33d732(0x1af)](_0x21fcba[_0x33d732(0x7eb)][_0x33d732(0x527)](new RegExp(_0x1db42d,'g'),''));}catch(_0x41fe7e){throw _0x41fe7e;}let _0x4f3e74={'method':_0x21fcba[_0x33d732(0x3d5)],'url':_0x21fcba['url'],'headers':_0x21fcba['header']||{},..._0x21fcba['method'][_0x33d732(0x46a)]()!==_0x33d732(0x46d)&&_0x21fcba[_0x33d732(0x7eb)]?{'data':JSON[_0x33d732(0x1af)](_0x21fcba[_0x33d732(0x7eb)]['replace'](new RegExp(_0x1db42d,'g'),''))}:{},..._0x1b91df&&{'responseType':_0x1b91df}},_0x25f5b9=await(0x0,Z['default'])(_0x4f3e74),_0x44d1f2=_0x25f5b9[_0x33d732(0x279)][_0x33d732(0x17c)];if(_0x44d1f2&&_0x44d1f2[_0x33d732(0x19a)]('application/json')||typeof _0x25f5b9[_0x33d732(0x123)]==_0x33d732(0x525)){if(typeof _0x25f5b9[_0x33d732(0x123)]==_0x33d732(0x525)){let _0x1dc67c=_0x25f5b9[_0x33d732(0x123)][_0x33d732(0x527)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x33d732(0x17d)]();try{_0x30a2a0=JSON[_0x33d732(0x1af)](_0x1dc67c);}catch(_0x3952fd){this[_0x33d732(0x44e)][_0x33d732(0x4f6)](_0x33d732(0x3b2)+_0x3952fd['message']),_0x30a2a0={'_apiResponse':_0x25f5b9[_0x33d732(0x123)]};}}else _0x30a2a0=_0x25f5b9[_0x33d732(0x123)];let _0x18e694=_0x31e0db[_0x33d732(0x7f9)][_0x33d732(0x72a)],_0xe48ec6=this[_0x33d732(0x1f4)](_0x30a2a0);return Object[_0x33d732(0x660)](_0x18e694,_0xe48ec6),_0x31e0db[_0x33d732(0x7f9)][_0x33d732(0x72a)]=_0x18e694,_0x4134c8={'error':!0x1,'apiResponse':_0x30a2a0},this[_0x33d732(0x847)](_0x31e0db,_0x2ec8d1,_0x4134c8),_0x30a2a0;}if(_0x44d1f2&&(_0x44d1f2[_0x33d732(0x19a)](_0x33d732(0x4ff))||_0x44d1f2[_0x33d732(0x19a)](_0x33d732(0x5b6))||_0x44d1f2[_0x33d732(0x19a)]('audio')||_0x44d1f2[_0x33d732(0x19a)]('video'))){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x33d732(0x240)][_0x33d732(0x834)]+_0x33d732(0x74e)+_0x44d1f2);let _0x472b16=(0x0,me['v4'])(),_0xee68aa='',_0x4999e8={'image/jpeg':_0x33d732(0x218),'image/png':'.png','image/gif':'.gif','image/webp':_0x33d732(0x318),'image/svg+xml':'.svg','audio/mpeg':_0x33d732(0x1c5),'audio/ogg':_0x33d732(0x70d),'audio/wav':'.wav','video/mp4':_0x33d732(0x729),'video/webm':_0x33d732(0x7cb),'video/ogg':_0x33d732(0x74f),'text/plain':_0x33d732(0x2a3),'application/pdf':_0x33d732(0x48e),'application/msword':_0x33d732(0x677),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x33d732(0x416),'application/vnd.ms-excel':_0x33d732(0x190),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x33d732(0x18e),'application/vnd.ms-powerpoint':_0x33d732(0x679),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x4999e8[_0x44d1f2]?(_0xee68aa=_0x4999e8[_0x44d1f2],this[_0x33d732(0x44e)][_0x33d732(0x188)](this[_0x33d732(0x82b)]+'\x20('+this['instance'][_0x33d732(0x834)]+_0x33d732(0x553)+_0xee68aa)):(_0xee68aa=_0x33d732(0x13b),this[_0x33d732(0x44e)][_0x33d732(0x188)](this[_0x33d732(0x82b)]+'\x20('+this[_0x33d732(0x240)]['wuid']+_0x33d732(0x391)+_0xee68aa)),_0x472b16+=_0xee68aa,this[_0x33d732(0x44e)][_0x33d732(0x188)](this['instanceName']+'\x20('+this[_0x33d732(0x240)]['wuid']+_0x33d732(0x56d)+_0x472b16);let _0x58a617=this[_0x33d732(0x6de)][_0x33d732(0x2c5)]('SERVER')[_0x33d732(0x55c)];if(!_0x58a617){let _0x145e26=this[_0x33d732(0x6de)][_0x33d732(0x2c5)](_0x33d732(0x5da));_0x58a617=_0x33d732(0x518)+(_0x145e26&&_0x145e26[_0x33d732(0x207)][_0x33d732(0x3eb)]('/')[0x4]);}let _0x4aaa4d=Buffer[_0x33d732(0x736)](_0x25f5b9[_0x33d732(0x123)]);await this[_0x33d732(0x22d)](_0x4aaa4d,_0x472b16);let _0x575d46=_0x33d732(0x1cc)+_0x472b16;_0x575d46=''+_0x58a617+_0x575d46,_0x30a2a0={'fileUrl':_0x575d46},_0x31e0db[_0x33d732(0x7f9)]['realVariables'][_0x33d732(0x220)]=_0x575d46;let _0x3e85e6=_0x31e0db[_0x33d732(0x7f9)][_0x33d732(0x72a)],_0x4c378a=this[_0x33d732(0x1f4)](_0x30a2a0);return Object[_0x33d732(0x660)](_0x3e85e6,_0x4c378a),_0x31e0db[_0x33d732(0x7f9)][_0x33d732(0x72a)]=_0x3e85e6,_0x4134c8={'error':!0x1,'apiResponse':{'fileUrl':_0x575d46}},this[_0x33d732(0x847)](_0x31e0db,_0x2ec8d1,_0x4134c8),_0x30a2a0;}}catch(_0x5a6059){this[_0x33d732(0x44e)][_0x33d732(0x4f6)](_0x33d732(0x567)+_0x5a6059['message']),_0x5a6059[_0x33d732(0x4fa)]&&(_0x30a2a0=_0x5a6059[_0x33d732(0x4fa)][_0x33d732(0x123)]);let _0x2c52ff=_0x31e0db[_0x33d732(0x7f9)][_0x33d732(0x72a)],_0x13a935=this[_0x33d732(0x1f4)](_0x30a2a0);return Object['assign'](_0x2c52ff,_0x13a935),_0x31e0db['chatLog'][_0x33d732(0x72a)]=_0x2c52ff,_0x4134c8={'error':!0x0,'errorLog':_0x5a6059[_0x33d732(0x830)](),'apiResponse':_0x30a2a0},this[_0x33d732(0x847)](_0x31e0db,_0x2ec8d1,_0x4134c8),{'success':!0x1};}}[a0_0x4ac10f(0x1e7)](_0x2bf374,_0x54041a){const _0x83aaab=a0_0x4ac10f;let _0x1ccebd=_0x5f540e=>{const _0x2d4c45=a0_0x3b98;let _0x1f4cc8=_0x5f540e[_0x2d4c45(0x527)](/[^0-9.,-]/g,'')[_0x2d4c45(0x527)](',','.'),_0x1ed092=parseFloat(_0x1f4cc8);return isNaN(_0x1ed092)?null:_0x1ed092;},_0x5b9438=_0x54041a['firstValue'],_0x41862b=_0x54041a['secondValue'];typeof _0x5b9438==_0x83aaab(0x525)&&(_0x5b9438=this[_0x83aaab(0x642)](_0x5b9438,_0x2bf374[_0x83aaab(0x7f9)][_0x83aaab(0x72a)])??''),typeof _0x41862b==_0x83aaab(0x525)&&(_0x41862b=this[_0x83aaab(0x642)](_0x41862b,_0x2bf374[_0x83aaab(0x7f9)][_0x83aaab(0x72a)])??'');let _0x55546f=null;if(!_0x54041a[_0x83aaab(0x84d)])return null;switch(this[_0x83aaab(0x44e)][_0x83aaab(0x188)](this[_0x83aaab(0x82b)]+'\x20('+this[_0x83aaab(0x240)][_0x83aaab(0x834)]+_0x83aaab(0x502)+_0x5b9438),this[_0x83aaab(0x44e)]['verbose'](this[_0x83aaab(0x82b)]+'\x20('+this['instance'][_0x83aaab(0x834)]+_0x83aaab(0x28b)+_0x41862b),_0x54041a[_0x83aaab(0x84d)]){case'+':case'-':case'*':case'/':let _0xba4c86=_0x1ccebd(_0x5b9438||'0'),_0x39b34a=_0x1ccebd(_0x41862b||'0');if(_0xba4c86===null)return null;switch(_0x54041a[_0x83aaab(0x84d)]){case'+':_0x55546f=_0xba4c86+(_0x39b34a??0x0);break;case'-':_0x55546f=_0xba4c86-(_0x39b34a??0x0);break;case'*':_0x55546f=_0xba4c86*(_0x39b34a??0x1);break;case'/':_0x39b34a!==0x0&&(_0x55546f=_0xba4c86/(_0x39b34a??0x1));break;}break;case'findAndReplace':case _0x83aaab(0x5c7):let _0x2db139=_0x41862b,_0x44e4b0=_0x54041a['replaceValue'];if(typeof _0x44e4b0=='string'&&(_0x44e4b0=this[_0x83aaab(0x642)](_0x44e4b0,_0x2bf374['chatLog'][_0x83aaab(0x72a)])??''),_0x2db139&&_0x44e4b0!==void 0x0){let _0x134a40=_0x54041a['editOperator']==='findAndReplace'?new RegExp(_0x2db139[_0x83aaab(0x527)](/[-\/\\^$*+?.()|[\]{}]/g,_0x83aaab(0x555)),'g'):new RegExp(_0x2db139,'g');_0x55546f=_0x5b9438[_0x83aaab(0x527)](_0x134a40,_0x44e4b0);}else console[_0x83aaab(0x773)](_0x83aaab(0x308));break;case _0x83aaab(0x6a5):_0x55546f=_0x41862b;break;case _0x83aaab(0x31f):let _0x544261=_0x5b9438[_0x83aaab(0x579)](new RegExp(_0x41862b||''));_0x55546f=_0x544261?_0x544261[0x0]:'';break;case _0x83aaab(0x29e):_0x55546f=_0x5b9438[_0x83aaab(0x18a)](0x0,parseInt(_0x41862b||'0'));break;case _0x83aaab(0x273):let _0x34ef12=parseInt(_0x41862b||'0');_0x55546f=_0x5b9438['slice'](_0x5b9438[_0x83aaab(0x30c)]-_0x34ef12);break;case _0x83aaab(0x357):let _0x17a83d=_0x1ccebd(_0x5b9438),_0x1da1a4=parseInt(_0x41862b||'0');_0x1da1a4=Math[_0x83aaab(0x760)](_0x1da1a4),_0x17a83d!==null?_0x55546f=_0x17a83d[_0x83aaab(0x684)](_0x83aaab(0x692),{'minimumFractionDigits':_0x1da1a4,'maximumFractionDigits':_0x1da1a4}):(console['warn'](_0x83aaab(0x2a8)+_0x5b9438),_0x55546f=null);break;case _0x83aaab(0x7c4):let _0x2ae1df=_0x1ccebd(_0x5b9438);_0x2ae1df!==null?_0x55546f=_0x2ae1df['toLocaleString'](_0x83aaab(0x692),{'style':_0x83aaab(0x842),'currency':_0x83aaab(0x342)}):(console[_0x83aaab(0x773)](_0x83aaab(0x395)+_0x5b9438),_0x55546f=null);break;case'upperCase':_0x55546f=_0x5b9438[_0x83aaab(0x46a)]();break;case _0x83aaab(0x13a):_0x55546f=_0x5b9438[_0x83aaab(0x35c)]();break;case'capitalizedWords':_0x55546f=_0x5b9438[_0x83aaab(0x3eb)]('\x20')[_0x83aaab(0x3c7)](_0x4509d7=>_0x4509d7[_0x83aaab(0x216)](0x0)['toUpperCase']()+_0x4509d7[_0x83aaab(0x18a)](0x1)[_0x83aaab(0x35c)]())[_0x83aaab(0x650)]('\x20');break;case _0x83aaab(0x84b):_0x55546f=_0x5b9438['trim']();break;default:_0x55546f=_0x5b9438;}return _0x55546f!==null?_0x55546f[_0x83aaab(0x830)]():null;}async[a0_0x4ac10f(0x57f)](_0x50be0d,_0x382506){const _0xe67067=a0_0x4ac10f;try{let _0x482297=_0x50be0d['varedits']?.['filter'](_0x82cda2=>_0x82cda2[_0xe67067(0x30f)]===_0x382506[_0xe67067(0x261)]?.[_0xe67067(0x830)]())||[],_0x29f3a4=_0x382506[_0xe67067(0x652)],_0x44dfc7=null,_0x6f705=[],_0x3510f5=_0x50be0d[_0xe67067(0x7f9)][_0xe67067(0x72a)][_0x29f3a4];_0x6f705[_0xe67067(0x304)]('Valor\x20inicial:\x20\x22'+_0x3510f5+'\x22');for(let _0x1f9958 of _0x482297){_0x1f9958[_0xe67067(0x832)]=_0x3510f5,_0x44dfc7=_0x1f9958[_0xe67067(0x832)];let _0x3298d2;try{_0x3298d2=this[_0xe67067(0x1e7)](_0x50be0d,_0x1f9958);}catch(_0x32ea94){this[_0xe67067(0x44e)][_0xe67067(0x4f6)](_0xe67067(0x40c)+_0x32ea94['message']);continue;}if(_0x3298d2!==null){let _0x293eba='Operador:\x20\x22'+_0x1f9958[_0xe67067(0x84d)]+'\x22',_0x65bd17=[_0xe67067(0x7c4),_0xe67067(0x861),_0xe67067(0x13a),_0xe67067(0x796),_0xe67067(0x84b)];_0x1f9958[_0xe67067(0x84d)]===_0xe67067(0x77e)||_0x1f9958[_0xe67067(0x84d)]===_0xe67067(0x5c7)?_0x293eba+=_0xe67067(0x5f9)+_0x1f9958['secondValue']+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x1f9958['replaceValue']+'\x22':!_0x65bd17[_0xe67067(0x19a)](_0x1f9958[_0xe67067(0x84d)])&&_0x1f9958[_0xe67067(0x378)]!==null&&_0x1f9958[_0xe67067(0x378)]!==void 0x0&&(_0x293eba+=',\x20valor\x20passado:\x20\x22'+_0x1f9958['secondValue']+'\x22'),_0x293eba+=',\x20resultado:\x20'+_0x3298d2+'.',_0x6f705['push'](_0x293eba);}_0x3298d2!==null&&(_0x3510f5=_0x3298d2);}if(_0x50be0d[_0xe67067(0x7f9)][_0xe67067(0x72a)]&&_0x382506[_0xe67067(0x652)]){_0x50be0d[_0xe67067(0x7f9)][_0xe67067(0x72a)][_0x382506[_0xe67067(0x652)]]=_0x3510f5;let _0x33c396={'variable':_0x382506['saveVariable'],'oldValue':_0x44dfc7,'newValue':_0x3510f5,'moreLogs':_0x6f705};try{this[_0xe67067(0x847)](_0x50be0d,_0x382506,_0x33c396);}catch(_0x5a0622){this[_0xe67067(0x44e)][_0xe67067(0x4f6)](_0xe67067(0x70f)+_0x5a0622[_0xe67067(0x552)]);}}return _0x29f3a4;}catch(_0x4fe200){return this[_0xe67067(0x44e)][_0xe67067(0x4f6)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x4fe200['message']),null;}}async['processConditions'](_0x49d6f0,_0x2af414){const _0xa1a835=a0_0x4ac10f;try{let _0x55e1f2=[],_0x386d2b=_0x49d6f0[_0xa1a835(0x647)]['filter'](_0xc3ffeb=>_0xc3ffeb[_0xa1a835(0x30f)]===_0x2af414['_id']['toString']()),_0x396002=null,_0x2453e5=!0x1;for(let _0x2f5867 of _0x386d2b){let _0x1b0a3d=this[_0xa1a835(0x646)](_0x49d6f0,_0x2f5867);_0x55e1f2[_0xa1a835(0x304)](_0xa1a835(0x67e)+_0x2f5867[_0xa1a835(0x832)]+_0xa1a835(0x16a)+_0x2f5867['expression']+_0xa1a835(0x371)+_0x2f5867[_0xa1a835(0x378)]+',\x20Resultado:\x20'+_0x1b0a3d),_0x396002===null?_0x396002=_0x1b0a3d:_0x2f5867['OrAnd']===_0xa1a835(0x7fe)?(_0x396002=_0x396002&&_0x1b0a3d,_0x1b0a3d||(_0x2453e5=!0x0)):_0x2f5867[_0xa1a835(0x622)]==='or'&&(_0x2453e5||(_0x396002=_0x396002||_0x1b0a3d));}_0x396002===null&&(_0x396002=!0x0);let _0x4d17d5={'moreLogs':_0x55e1f2};_0x49d6f0['chatLog'][_0xa1a835(0x7d7)]=_0x396002,await this['updateConversation'](_0x49d6f0,_0x2af414,_0x4d17d5);}catch(_0x13132c){this['logger'][_0xa1a835(0x4f6)](this[_0xa1a835(0x82b)]+'\x20('+this[_0xa1a835(0x240)][_0xa1a835(0x834)]+_0xa1a835(0x5e5)+(_0x13132c instanceof Error?_0x13132c['message']:JSON[_0xa1a835(0x3cc)](_0x13132c,null,0x2)));}}[a0_0x4ac10f(0x646)](_0x5c4dbb,_0x5cef7c){const _0xf9503e=a0_0x4ac10f;let _0x21123=_0x5cef7c[_0xf9503e(0x832)],_0x2d770e=_0x5cef7c['secondValue'];typeof _0x21123==_0xf9503e(0x525)&&(_0x21123=this[_0xf9503e(0x642)](_0x21123,_0x5c4dbb['chatLog'][_0xf9503e(0x72a)])??''),typeof _0x2d770e==_0xf9503e(0x525)&&(_0x2d770e=this[_0xf9503e(0x642)](_0x2d770e,_0x5c4dbb[_0xf9503e(0x7f9)][_0xf9503e(0x72a)])??'');try{switch(_0x5cef7c[_0xf9503e(0x666)]){case _0xf9503e(0x187):return _0x21123===_0x2d770e;case _0xf9503e(0x2c3):return _0x21123!==_0x2d770e;case _0xf9503e(0x5cb):return this[_0xf9503e(0x5cb)](_0x21123,_0x2d770e);case _0xf9503e(0x628):return!this[_0xf9503e(0x5cb)](_0x21123,_0x2d770e);case _0xf9503e(0x2ec):return parseFloat(_0x21123)>parseFloat(_0x2d770e);case _0xf9503e(0x219):return parseFloat(_0x21123)<parseFloat(_0x2d770e);case _0xf9503e(0x3fd):return _0x21123!=='';case _0xf9503e(0x396):return _0x21123==='';case'matchRegex':return new RegExp(_0x2d770e)[_0xf9503e(0x4fb)](_0x21123);case'notMatchRegex':return!new RegExp(_0x2d770e)[_0xf9503e(0x4fb)](_0x21123);default:return!0x1;}}catch(_0x4d2fe0){return this[_0xf9503e(0x44e)][_0xf9503e(0x4f6)](_0xf9503e(0x332)+_0x4d2fe0),!0x1;}}[a0_0x4ac10f(0x5cb)](_0x5175e2,_0x59b497){const _0x300450=a0_0x4ac10f;if(_0x5175e2===_0x59b497&&/^\d+$/[_0x300450(0x4fb)](_0x5175e2))return!0x0;if(this[_0x300450(0x797)](_0x5175e2)&&/^\d+$/[_0x300450(0x4fb)](_0x59b497)){let _0x22ef05=_0x5175e2['split'](',')[_0x300450(0x3c7)](_0xde3795=>parseInt(_0xde3795['trim']())),_0x5e8c47=parseInt(_0x59b497);return _0x22ef05[_0x300450(0x19a)](_0x5e8c47);}return _0x5175e2['includes'](_0x59b497);}[a0_0x4ac10f(0x797)](_0x3ed524){const _0x4e0c9d=a0_0x4ac10f;return/^\d+(,\d+)*$/[_0x4e0c9d(0x4fb)](_0x3ed524);}[a0_0x4ac10f(0x70c)](_0xd24423){const _0x302ff5=a0_0x4ac10f;let _0x1ae4d2=!0x0,_0x5983d7=null;for(let _0x378b03 of _0xd24423){let _0x3b05f0=this[_0x302ff5(0x39a)](_0x378b03);if(_0x5983d7==='or'&&_0x3b05f0){_0x1ae4d2=!0x0;break;}if(_0x5983d7==='and'&&!_0x3b05f0){_0x1ae4d2=!0x1;break;}_0x5983d7=_0x378b03[_0x302ff5(0x622)];}return _0x1ae4d2;}[a0_0x4ac10f(0x39a)](_0x1b47bf){const _0x46bdd7=a0_0x4ac10f;let _0x13692e=_0x1b47bf['firstValue'],_0x1d7fb7=_0x1b47bf[_0x46bdd7(0x378)];try{switch(_0x1b47bf[_0x46bdd7(0x666)]){case _0x46bdd7(0x187):return String(_0x13692e)===String(_0x1d7fb7);case _0x46bdd7(0x2c3):return String(_0x13692e)!==String(_0x1d7fb7);case _0x46bdd7(0x5cb):return String(_0x13692e)[_0x46bdd7(0x19a)](String(_0x1d7fb7));case _0x46bdd7(0x628):return!String(_0x13692e)['includes'](String(_0x1d7fb7));case _0x46bdd7(0x2ec):return parseFloat(String(_0x13692e))>parseFloat(String(_0x1d7fb7));case _0x46bdd7(0x219):return parseFloat(String(_0x13692e))<parseFloat(String(_0x1d7fb7));case'notEmpty':return String(_0x13692e)!=='';case _0x46bdd7(0x396):return String(_0x13692e)==='';case'matchRegex':return new RegExp(String(_0x1d7fb7))['test'](String(_0x13692e));case'notMatchRegex':return!new RegExp(String(_0x1d7fb7))[_0x46bdd7(0x4fb)](String(_0x13692e));default:return!0x1;}}catch(_0x105d34){return this[_0x46bdd7(0x44e)]['error'](_0x46bdd7(0x332)+_0x105d34),!0x1;}}async[a0_0x4ac10f(0x212)](_0x8da373,_0x4ac4ec){const _0x224e49=a0_0x4ac10f;if(this['logger'][_0x224e49(0x188)](this[_0x224e49(0x82b)]+'\x20('+this[_0x224e49(0x240)][_0x224e49(0x834)]+_0x224e49(0x3f1)),!_0x8da373||!_0x4ac4ec)return this[_0x224e49(0x44e)]['error'](this[_0x224e49(0x82b)]+'\x20('+this[_0x224e49(0x240)][_0x224e49(0x834)]+_0x224e49(0x1ff)),null;let _0x5cfd36=_0x8da373['chatLog'][_0x224e49(0x2b6)][_0x224e49(0x77d)]['id'];this[_0x224e49(0x44e)][_0x224e49(0x188)](this['instanceName']+'\x20('+this[_0x224e49(0x240)]['wuid']+'):\x20mediaMessageInfoId\x20:\x20'+_0x5cfd36);let _0x2e824c={'key':{'id':_0x5cfd36}},_0x258b61=_0x4ac4ec['saveVariable'];_0x8da373[_0x224e49(0x7f9)][_0x224e49(0x72a)]['_'+_0x258b61+_0x224e49(0x51b)]=null,_0x8da373[_0x224e49(0x7f9)][_0x224e49(0x72a)]['_'+_0x258b61+'.mimetype']=null,_0x8da373[_0x224e49(0x7f9)][_0x224e49(0x72a)]['_'+_0x258b61+'.extension']=null,_0x8da373[_0x224e49(0x7f9)]['realVariables']['_'+_0x258b61+'.type']=_0x8da373[_0x224e49(0x7f9)]['lastReceivedMessage'][_0x224e49(0x14f)];try{let _0x14d694=await this[_0x224e49(0x153)](_0x2e824c);this[_0x224e49(0x44e)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x224e49(0x834)]+_0x224e49(0x5de)),_0x8da373[_0x224e49(0x7f9)][_0x224e49(0x72a)]['_'+_0x258b61+_0x224e49(0x5b1)]=_0x14d694[_0x224e49(0x220)],_0x8da373[_0x224e49(0x7f9)][_0x224e49(0x72a)]['_'+_0x258b61+_0x224e49(0x5ac)]=_0x14d694[_0x224e49(0x4c9)];let _0x2fc7ba=_0x14d694[_0x224e49(0x4c9)]['match'](/\/(\w+)$/),_0x5ccd43=_0x2fc7ba?_0x2fc7ba[0x1]:null;_0x8da373[_0x224e49(0x7f9)][_0x224e49(0x72a)]['_'+_0x258b61+'.extension']=_0x5ccd43,this[_0x224e49(0x44e)]['verbose'](this[_0x224e49(0x82b)]+'\x20('+this['instance'][_0x224e49(0x834)]+_0x224e49(0x83b)+_0x258b61+'\x27.');}catch(_0x1b8531){this[_0x224e49(0x44e)]['error'](this[_0x224e49(0x82b)]+'\x20('+this['instance']['wuid']+_0x224e49(0x754)+_0x1b8531['message']);}let _0x4387f4=_0x8da373[_0x224e49(0x7f9)]['lastReceivedMessage']['text']||_0x8da373[_0x224e49(0x7f9)][_0x224e49(0x2b6)][_0x224e49(0x276)]||_0x8da373[_0x224e49(0x7f9)][_0x224e49(0x2b6)][_0x224e49(0x5c4)];try{_0x8da373['chatLog'][_0x224e49(0x72a)]||(_0x8da373[_0x224e49(0x7f9)]['realVariables']={});let _0x25d249=_0x8da373['chatLog']['realVariables'][_0x258b61];_0x8da373['chatLog'][_0x224e49(0x72a)][_0x258b61]=_0x4387f4;let _0x5d8eaa={'variable':_0x258b61,'oldValue':_0x25d249,'newValue':_0x4387f4};this[_0x224e49(0x847)](_0x8da373,_0x4ac4ec,_0x5d8eaa),this[_0x224e49(0x44e)][_0x224e49(0x188)](this[_0x224e49(0x82b)]+'\x20('+this[_0x224e49(0x240)][_0x224e49(0x834)]+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x51aeb5){let _0x4d06fa={'error':!0x0,'errorLog':_0x51aeb5[_0x224e49(0x830)]()};return this[_0x224e49(0x847)](_0x8da373,_0x4ac4ec,_0x4d06fa),this[_0x224e49(0x44e)][_0x224e49(0x4f6)](this[_0x224e49(0x82b)]+'\x20('+this[_0x224e49(0x240)][_0x224e49(0x834)]+_0x224e49(0x748)+(_0x51aeb5 instanceof Error?_0x51aeb5[_0x224e49(0x552)]:JSON[_0x224e49(0x3cc)](_0x51aeb5,null,0x2))),null;}}async[a0_0x4ac10f(0x299)](_0x490989,_0x321f7a){const _0x3107de=a0_0x4ac10f;if(this[_0x3107de(0x44e)][_0x3107de(0x188)](this[_0x3107de(0x82b)]+'\x20('+this[_0x3107de(0x240)][_0x3107de(0x834)]+_0x3107de(0x75b)),!_0x490989||!_0x321f7a)return this['logger'][_0x3107de(0x4f6)](this[_0x3107de(0x82b)]+'\x20('+this['instance'][_0x3107de(0x834)]+_0x3107de(0x1ff)),null;let _0x54866f=Date[_0x3107de(0x77c)](),_0x1c2222=parseInt(_0x321f7a[_0x3107de(0x546)],0xa);if(isNaN(_0x1c2222))return this[_0x3107de(0x44e)][_0x3107de(0x4f6)](this[_0x3107de(0x82b)]+'\x20('+this[_0x3107de(0x240)]['wuid']+_0x3107de(0x7d0)),null;let _0x120c4d={'newStoppedUntil':_0x54866f+_0x1c2222*0x3c*0x3e8};return await this[_0x3107de(0x847)](_0x490989,_0x321f7a,_0x120c4d,!0x0),null;}async['processUazapi'](_0x14a580,_0x32b0cb){const _0x52511a=a0_0x4ac10f;try{switch(_0x32b0cb[_0x52511a(0x79d)][_0x52511a(0x229)]){case _0x52511a(0x508):await this['uazapiSendText'](_0x14a580,_0x32b0cb);break;case'sendMedia':await this[_0x52511a(0x280)](_0x14a580,_0x32b0cb);break;case _0x52511a(0x462):await this[_0x52511a(0x4b9)](_0x14a580,_0x32b0cb);break;case _0x52511a(0x5af):await this[_0x52511a(0x4a6)](_0x14a580,_0x32b0cb);break;case _0x52511a(0x4b1):await this[_0x52511a(0x133)](_0x14a580,_0x32b0cb);break;case'sendPoll':await this['uazapiSendMenu'](_0x14a580,_0x32b0cb);break;case _0x52511a(0x466):await this['uazapiSendMenu'](_0x14a580,_0x32b0cb);break;case _0x52511a(0x56b):await this[_0x52511a(0x35a)](_0x14a580,_0x32b0cb);break;default:this[_0x52511a(0x44e)]['error'](this[_0x52511a(0x82b)]+'\x20('+this['instance'][_0x52511a(0x834)]+_0x52511a(0x2d8)+_0x32b0cb[_0x52511a(0x79d)][_0x52511a(0x229)]);}}catch(_0x2eefe9){this[_0x52511a(0x44e)][_0x52511a(0x4f6)](this[_0x52511a(0x82b)]+'\x20('+this[_0x52511a(0x240)][_0x52511a(0x834)]+_0x52511a(0x156)+(_0x2eefe9 instanceof Error?_0x2eefe9[_0x52511a(0x552)]:JSON['stringify'](_0x2eefe9,null,0x2)));}}async[a0_0x4ac10f(0x847)](_0x4ed5c4,_0x3f69c1,_0x2c9e6e,_0x56d2e2=!0x1,_0x3028d8=!0x1){const _0x57f394=a0_0x4ac10f;_0x4ed5c4[_0x57f394(0x7f9)][_0x57f394(0x497)]||(_0x4ed5c4[_0x57f394(0x7f9)][_0x57f394(0x497)]=[]);let _0x11b606=(_0x4ed5c4[_0x57f394(0x7f9)][_0x57f394(0x497)]?.[_0x57f394(0x30c)]??0x0)+0x1,_0x42e4c9=_0x4ed5c4['chatLog'][_0x57f394(0x497)][_0x57f394(0x820)](_0x449bb5=>String(_0x449bb5['blockId'])===String(_0x3f69c1[_0x57f394(0x261)]))[_0x57f394(0x30c)]+0x1,_0x2ee07f=_0x2c9e6e?.['onTime']??Date[_0x57f394(0x77c)](),_0x4229af=_0x2c9e6e?.[_0x57f394(0x4f6)]?_0x2c9e6e['errorLog']??_0x2c9e6e[_0x57f394(0x4f6)][_0x57f394(0x830)]():void 0x0,_0xadf45a={'onTime':_0x2ee07f,'blockId':_0x3f69c1['_id'],'order':_0x11b606,'activatedCount':_0x42e4c9,'error':_0x2c9e6e?.[_0x57f394(0x4f6)]??!0x1,'messageId':_0x2c9e6e?.[_0x57f394(0x18c)],'apiResponse':_0x2c9e6e?.[_0x57f394(0x801)],'apiResponseString':_0x2c9e6e?.['apiResponse']?JSON[_0x57f394(0x3cc)](_0x2c9e6e?.['apiResponse']):void 0x0,'variable':_0x2c9e6e?.[_0x57f394(0x314)],'oldValue':_0x2c9e6e?.[_0x57f394(0x73d)],'newValue':_0x2c9e6e?.[_0x57f394(0x1ed)],'newStoppedUntil':_0x2c9e6e?.[_0x57f394(0x2a5)],'moreLogs':_0x2c9e6e?.[_0x57f394(0x43c)],'errorLog':_0x4229af};if(_0x2c9e6e[_0x57f394(0x43c)]&&_0x2c9e6e[_0x57f394(0x43c)]['length']>0x0){let _0xf6cb7a=_0x2c9e6e[_0x57f394(0x43c)][_0x57f394(0x3c7)](_0x29df78=>this[_0x57f394(0x58d)](_0x29df78,_0x4ed5c4[_0x57f394(0x7f9)][_0x57f394(0x72a)]));_0xadf45a[_0x57f394(0x43c)]=_0xf6cb7a;}if(_0x4ed5c4[_0x57f394(0x7f9)][_0x57f394(0x72a)]||(_0x4ed5c4[_0x57f394(0x7f9)][_0x57f394(0x72a)]={}),_0x4ed5c4['chatLog'][_0x57f394(0x72a)]['_activatedCount']=String(_0x42e4c9),_0x4ed5c4[_0x57f394(0x7f9)][_0x57f394(0x72a)][_0x57f394(0x488)]=String(_0x2c9e6e[_0x57f394(0x4f6)]??!0x1),_0x4ed5c4[_0x57f394(0x7f9)]['blockLogs'][_0x57f394(0x304)](_0xadf45a),_0x4ed5c4['chatLog'][_0x57f394(0x72a)][_0x57f394(0x2d0)]&&_0x4ed5c4[_0x57f394(0x7f9)]['realVariables'][_0x57f394(0x2d0)]!==_0x4ed5c4[_0x57f394(0x6e1)]){let _0x20fa9a=(await this['whatsappNumber']({'numbers':[_0x4ed5c4[_0x57f394(0x7f9)][_0x57f394(0x72a)][_0x57f394(0x2d0)]]}))[0x0][_0x57f394(0x49b)];_0x4ed5c4[_0x57f394(0x7f9)][_0x57f394(0x72a)]['telefone']=_0x20fa9a,_0x4ed5c4[_0x57f394(0x6e1)]=_0x20fa9a;try{let _0x597a40={'_id':{'$ne':_0x4ed5c4[_0x57f394(0x261)]},'remoteJid':_0x20fa9a,'status':_0x57f394(0x38e)},_0x47c1dc={'status':_0x57f394(0x804)};await this[_0x57f394(0x37d)][_0x57f394(0x403)]['updateMany'](_0x597a40,_0x47c1dc,this[_0x57f394(0x240)][_0x57f394(0x834)]),this[_0x57f394(0x44e)][_0x57f394(0x188)](this[_0x57f394(0x82b)]+'\x20('+this[_0x57f394(0x240)][_0x57f394(0x834)]+_0x57f394(0x5cd));}catch(_0x3fb74f){this[_0x57f394(0x44e)][_0x57f394(0x4f6)](this[_0x57f394(0x82b)]+'\x20('+this[_0x57f394(0x240)][_0x57f394(0x834)]+_0x57f394(0x37b)+_0x3fb74f[_0x57f394(0x552)]);}try{let _0x14ca8d=_0x4ed5c4[_0x57f394(0x7f9)][_0x57f394(0x72a)],_0x5589ff=await this[_0x57f394(0x594)](_0x20fa9a),_0x1d239d={..._0x14ca8d,..._0x5589ff,'_remoteJid':_0x20fa9a};_0x4ed5c4[_0x57f394(0x7f9)][_0x57f394(0x72a)]=_0x1d239d;}catch(_0x475b76){this[_0x57f394(0x44e)][_0x57f394(0x4f6)](this[_0x57f394(0x82b)]+'\x20('+this['instance'][_0x57f394(0x834)]+'):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20'+_0x475b76['message']);}}_0x4ed5c4[_0x57f394(0x7f9)][_0x57f394(0x74a)]=_0x3f69c1[_0x57f394(0x261)][_0x57f394(0x830)](),_0x4ed5c4['chatLog']['lastSendMessage']&&(_0x4ed5c4[_0x57f394(0x7f9)][_0x57f394(0x3a1)]=_0x4ed5c4[_0x57f394(0x7f9)]['lastSendMessage']),_0x4ed5c4['chatLog'][_0x57f394(0x2b6)]&&(_0x4ed5c4['chatLog'][_0x57f394(0x2b6)]=_0x4ed5c4['chatLog']['lastReceivedMessage']),_0x4ed5c4[_0x57f394(0x7f9)][_0x57f394(0x7d7)]&&(_0x4ed5c4[_0x57f394(0x7f9)][_0x57f394(0x7d7)]=_0x4ed5c4['chatLog']['lastCondition']),_0x3028d8&&(_0x4ed5c4['status']=_0x57f394(0x804)),_0x56d2e2?this[_0x57f394(0x675)](_0x4ed5c4):this['goNextblock'](_0x4ed5c4,_0x3f69c1);}[a0_0x4ac10f(0x58d)](_0x2bec4c,_0x4f93b3){const _0x4de782=a0_0x4ac10f;return _0x2bec4c[_0x4de782(0x527)](/\{\{([^}]+)\}\}/g,(_0x220399,_0x169595)=>_0x4f93b3[_0x169595]?'{{'+_0x169595+_0x4de782(0x47b)+_0x4f93b3[_0x169595]+'\x22':'{{'+_0x169595+_0x4de782(0x6a8));}async[a0_0x4ac10f(0x675)](_0x1ddfb9){const _0x115f83=a0_0x4ac10f;try{let _0x415c35=Object[_0x115f83(0x58a)](_0x1ddfb9[_0x115f83(0x7f9)][_0x115f83(0x72a)])[_0x115f83(0x3c7)](([_0x26f3d1,_0xc6abe7])=>({'name':_0x26f3d1,'value':_0xc6abe7})),_0xb08af0={'status':_0x1ddfb9['status'],'remoteJid':_0x1ddfb9[_0x115f83(0x6e1)],'blocks':_0x1ddfb9[_0x115f83(0x607)],'waitingMenu_id':_0x1ddfb9['waitingMenu_id'],'waitingMenu_text':_0x1ddfb9['waitingMenu_text'],'waitingMenu_replyOptions':_0x1ddfb9[_0x115f83(0x476)],'chatLog':{'lastBlockId':_0x1ddfb9['chatLog'][_0x115f83(0x74a)],'lastSendMessage':_0x1ddfb9[_0x115f83(0x7f9)]['lastSendMessage'],'lastReceivedMessage':_0x1ddfb9['chatLog'][_0x115f83(0x2b6)],'lastCondition':_0x1ddfb9[_0x115f83(0x7f9)]['lastCondition'],'chatVariables':_0x415c35,'realVariables':_0x1ddfb9[_0x115f83(0x7f9)][_0x115f83(0x72a)],'blockLogs':_0x1ddfb9['chatLog']['blockLogs']}},_0x57b2fe=await this[_0x115f83(0x37d)][_0x115f83(0x403)][_0x115f83(0x191)](_0x1ddfb9[_0x115f83(0x261)],_0xb08af0,this[_0x115f83(0x240)]['wuid']);if(_0x57b2fe){this[_0x115f83(0x44e)]['verbose'](this[_0x115f83(0x82b)]+'\x20('+this['instance']['wuid']+_0x115f83(0x720)+_0x57b2fe[_0x115f83(0x261)]);try{let _0x306ae5=[_0x115f83(0x45a),_0x115f83(0x6c2),_0x115f83(0x1fa),_0x115f83(0x20b),'status',_0x115f83(0x695),'responsavelid','tags',_0x115f83(0x58e),_0x115f83(0x812)];if(!this[_0x115f83(0x711)]&&(await this[_0x115f83(0x769)](),!this[_0x115f83(0x711)]))throw new Error(_0x115f83(0x4eb));let _0x35a175=this['AutomateSystem']?.['customFields'][_0x115f83(0x3c7)](_0x31f059=>_0x31f059[_0x115f83(0x80a)]),_0x73a84f={};Object[_0x115f83(0x58a)](_0x1ddfb9[_0x115f83(0x7f9)]['realVariables'])['forEach'](([_0x54a4b7,_0x4ad1e7])=>{const _0x47784a=_0x115f83;_0x306ae5[_0x47784a(0x19a)](_0x54a4b7)&&(_0x54a4b7===_0x47784a(0x494)&&typeof _0x4ad1e7=='string'?_0x73a84f[_0x54a4b7]=_0x4ad1e7[_0x47784a(0x3eb)](',')['map'](_0x32a58b=>_0x32a58b['trim']())[_0x47784a(0x820)](_0x2b87c5=>_0x2b87c5!==''):_0x54a4b7==='etiquetas'&&typeof _0x4ad1e7=='string'?_0x73a84f[_0x54a4b7]=_0x4ad1e7['split'](',')[_0x47784a(0x3c7)](_0x356bf5=>_0x356bf5[_0x47784a(0x17d)]())[_0x47784a(0x820)](_0x310482=>_0x310482!==''):_0x73a84f[_0x54a4b7]=_0x4ad1e7);});let _0x49b908=_0x1ddfb9[_0x115f83(0x7f9)][_0x115f83(0x497)][_0x1ddfb9[_0x115f83(0x7f9)]['blockLogs'][_0x115f83(0x30c)]-0x1];if(_0x49b908){let _0x175c4e=_0x49b908['newStoppedUntil'];_0x175c4e!==void 0x0&&(_0x73a84f[_0x115f83(0x24f)]=_0x175c4e[_0x115f83(0x830)]());}let _0x300b54=_0x415c35[_0x115f83(0x820)](_0x496090=>_0x35a175[_0x115f83(0x19a)](_0x496090['name']));this[_0x115f83(0x44e)][_0x115f83(0x188)](this[_0x115f83(0x82b)]+'\x20('+this[_0x115f83(0x240)][_0x115f83(0x834)]+_0x115f83(0x78f)),this[_0x115f83(0x44e)]['verbose'](_0x73a84f),this[_0x115f83(0x44e)][_0x115f83(0x188)](this[_0x115f83(0x82b)]+'\x20('+this['instance']['wuid']+'):\x20customFieldVariables'),this[_0x115f83(0x44e)]['verbose'](_0x300b54);let _0x16b3ab=_0x300b54[_0x115f83(0x3c7)](_0x470f39=>{const _0x3e4b92=_0x115f83;let _0x3b2385=this['AutomateSystem']?.['customFields'][_0x3e4b92(0x7c1)](_0x307de8=>_0x307de8[_0x3e4b92(0x80a)]===_0x470f39['name']);if(!_0x3b2385)throw new Error(_0x3e4b92(0x3de)+_0x470f39['name']);return{'_id':_0x3b2385['_id'],'value':_0x470f39[_0x3e4b92(0x203)]};});this[_0x115f83(0x44e)][_0x115f83(0x188)](this[_0x115f83(0x82b)]+'\x20('+this[_0x115f83(0x240)][_0x115f83(0x834)]+_0x115f83(0x76f)),this[_0x115f83(0x44e)]['verbose'](_0x16b3ab),await this[_0x115f83(0x772)](_0x1ddfb9[_0x115f83(0x6e1)],_0x73a84f,_0x16b3ab);}catch(_0x879fe3){this['logger']['error'](this['instanceName']+'\x20('+this[_0x115f83(0x240)][_0x115f83(0x834)]+_0x115f83(0x172)+(_0x879fe3 instanceof Error?_0x879fe3[_0x115f83(0x552)]:JSON[_0x115f83(0x3cc)](_0x879fe3,null,0x2)));}}else this[_0x115f83(0x44e)]['error'](this[_0x115f83(0x82b)]+'\x20('+this['instance'][_0x115f83(0x834)]+_0x115f83(0x71d));}catch(_0x542b57){this[_0x115f83(0x44e)][_0x115f83(0x4f6)](this['instanceName']+'\x20('+this['instance'][_0x115f83(0x834)]+_0x115f83(0x435)+(_0x542b57 instanceof Error?_0x542b57[_0x115f83(0x552)]:JSON['stringify'](_0x542b57,null,0x2)));}}async['saveChatVariables'](_0x86c3f3,_0x45b90e,_0x578014){const _0x3935ac=a0_0x4ac10f;try{let _0x28cee8={'leadInfo.leadnome':_0x45b90e[_0x3935ac(0x45a)],'leadInfo.nomecompleto':_0x45b90e[_0x3935ac(0x6c2)],'leadInfo.email':_0x45b90e[_0x3935ac(0x1fa)],'leadInfo.cpf':_0x45b90e[_0x3935ac(0x20b)],'leadInfo.status':_0x45b90e['status'],'leadInfo.notas':_0x45b90e[_0x3935ac(0x695)],'leadInfo.responsavelid':_0x45b90e[_0x3935ac(0x7ea)],'leadInfo.tags':_0x45b90e[_0x3935ac(0x494)],'leadInfo.etiquetas':_0x45b90e[_0x3935ac(0x58e)],'leadInfo.customFields':_0x578014,'leadInfo.atendimentoAberto':_0x45b90e[_0x3935ac(0x812)]},_0x382fc7=await this['repository'][_0x3935ac(0x413)][_0x3935ac(0x349)]({'where':{'_id':_0x86c3f3}},this[_0x3935ac(0x240)][_0x3935ac(0x834)]);if(!_0x382fc7)return'chat\x20não\x20encontrado';let _0xfcae4b=new Set(_0x382fc7[_0x3935ac(0x5fa)][_0x3935ac(0x58e)]||[]),_0xd4e5d8=new Set(_0x45b90e[_0x3935ac(0x58e)]||[]),_0x362883=await this['repository'][_0x3935ac(0x4da)][_0x3935ac(0x7c1)]({'where':{}},this[_0x3935ac(0x240)][_0x3935ac(0x834)]),_0x347bf8=new Set(_0x362883['map'](_0x2a1182=>_0x2a1182[_0x3935ac(0x261)])),_0x2971ab=[..._0xd4e5d8][_0x3935ac(0x820)](_0x3f1c20=>!_0xfcae4b['has'](_0x3f1c20)&&_0x347bf8[_0x3935ac(0x481)](_0x3f1c20)),_0x4d0fa3=[..._0xfcae4b][_0x3935ac(0x820)](_0x555947=>!_0xd4e5d8[_0x3935ac(0x481)](_0x555947));for(let _0x1b5eb6 of _0x2971ab)await this[_0x3935ac(0x4ef)](_0x1b5eb6,_0x382fc7[_0x3935ac(0x261)]),_0xfcae4b[_0x3935ac(0x7c8)](_0x1b5eb6);for(let _0x4996c3 of _0x4d0fa3)await this[_0x3935ac(0x76c)](_0x4996c3,_0x382fc7['_id']),_0xfcae4b[_0x3935ac(0x399)](_0x4996c3);if('desativadoFluxoAte'in _0x45b90e){let _0x4e48aa=_0x45b90e['desativadoFluxoAte'];_0x28cee8[_0x3935ac(0x5ca)]=_0x4e48aa?Number(_0x4e48aa):null;}if('atendimentoAberto'in _0x45b90e){let _0x23e06f=_0x45b90e['atendimentoAberto']['toLowerCase']();_0x28cee8[_0x3935ac(0x27c)]=_0x23e06f===_0x3935ac(0x39e)||_0x23e06f==='1'||_0x23e06f==='yes'||_0x23e06f===_0x3935ac(0x86f);}let _0x31f7d8=await this[_0x3935ac(0x37d)]['chat'][_0x3935ac(0x191)]({'where':{'_id':_0x86c3f3}},_0x28cee8,this[_0x3935ac(0x240)][_0x3935ac(0x834)]);_0x31f7d8?(this[_0x3935ac(0x44e)][_0x3935ac(0x188)](this[_0x3935ac(0x82b)]+'\x20('+this[_0x3935ac(0x240)][_0x3935ac(0x834)]+_0x3935ac(0x1cb)+_0x31f7d8[_0x3935ac(0x261)]),j(this[_0x3935ac(0x82b)],_0x3935ac(0x408),{'chat':_0x31f7d8})):this[_0x3935ac(0x44e)]['error'](this['instanceName']+'\x20('+this[_0x3935ac(0x240)][_0x3935ac(0x834)]+_0x3935ac(0x505));}catch(_0x25960e){this['logger'][_0x3935ac(0x4f6)](this['instanceName']+'\x20('+this[_0x3935ac(0x240)][_0x3935ac(0x834)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x25960e instanceof Error?_0x25960e['message']:JSON[_0x3935ac(0x3cc)](_0x25960e,null,0x2)));}}async[a0_0x4ac10f(0x54c)](_0x459874,_0xcd2b38){const _0x365243=a0_0x4ac10f;this[_0x365243(0x44e)][_0x365243(0x188)](this[_0x365243(0x82b)]+'\x20('+this['instance'][_0x365243(0x834)]+_0x365243(0x816)+_0xcd2b38);try{let _0x28802a=await this[_0x365243(0x37d)][_0x365243(0x413)][_0x365243(0x191)]({'where':{'_id':_0x459874[_0x365243(0x6e1)]}},{'leadInfo.desativadoFluxoAte':_0xcd2b38},this['instance'][_0x365243(0x834)]);this['logger'][_0x365243(0x188)](this[_0x365243(0x82b)]+'\x20('+this['instance'][_0x365243(0x834)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x459874[_0x365243(0x261)]),this['logger'][_0x365243(0x188)](this[_0x365243(0x82b)]+'\x20('+this[_0x365243(0x240)][_0x365243(0x834)]+_0x365243(0x816)+JSON['stringify'](_0x28802a,null,0x2)),_0x28802a&&j(this[_0x365243(0x82b)],_0x365243(0x408),{'chat':_0x28802a});}catch(_0x54c5e1){this[_0x365243(0x44e)]['error'](this[_0x365243(0x82b)]+'\x20('+this[_0x365243(0x240)][_0x365243(0x834)]+_0x365243(0x3b4)+(_0x54c5e1 instanceof Error?_0x54c5e1[_0x365243(0x552)]:JSON[_0x365243(0x3cc)](_0x54c5e1,null,0x2)));}}async[a0_0x4ac10f(0x687)](_0x2b825a){const _0x5d82c3=a0_0x4ac10f;try{this['logger'][_0x5d82c3(0x188)](this[_0x5d82c3(0x82b)]+'\x20('+this[_0x5d82c3(0x240)][_0x5d82c3(0x834)]+'):\x20Buscando\x20flow...');let _0x2d9184=_0x2b825a[_0x5d82c3(0x527)](/\D/g,''),_0x13f0bb=this[_0x5d82c3(0x711)][_0x5d82c3(0x649)][_0x5d82c3(0x7c1)](_0x29eb33=>_0x29eb33['testingWith']===_0x2d9184);if(_0x13f0bb||(this['logger'][_0x5d82c3(0x188)](this['instanceName']+'\x20('+this[_0x5d82c3(0x240)]['wuid']+_0x5d82c3(0x728)),_0x13f0bb=this[_0x5d82c3(0x711)][_0x5d82c3(0x649)][_0x5d82c3(0x7c1)](_0xeeae22=>_0xeeae22[_0x5d82c3(0x5b7)]===!0x0)),!_0x13f0bb)return this[_0x5d82c3(0x44e)][_0x5d82c3(0x188)](this[_0x5d82c3(0x82b)]+'\x20('+this['instance']['wuid']+'):\x20Não\x20achou\x20nenhum\x20flow'),null;let _0x23175d=await this['repository'][_0x5d82c3(0x7fa)][_0x5d82c3(0x349)]({'where':{'_id':_0x13f0bb[_0x5d82c3(0x261)]}});if(!_0x23175d||!_0x23175d['whoCanUse']?.[_0x5d82c3(0x19a)](this['instance'][_0x5d82c3(0x834)]))throw this['logger'][_0x5d82c3(0x4f6)](this[_0x5d82c3(0x82b)]+'\x20('+this['instance'][_0x5d82c3(0x834)]+_0x5d82c3(0x86d)+_0x23175d[_0x5d82c3(0x261)]+_0x5d82c3(0x2df)),new m(_0x5d82c3(0x2cb)+_0x23175d[_0x5d82c3(0x261)]+_0x5d82c3(0x2df));return _0x23175d;}catch(_0x5ba4d5){return this[_0x5d82c3(0x44e)][_0x5d82c3(0x4f6)](this['instanceName']+'\x20('+this[_0x5d82c3(0x240)][_0x5d82c3(0x834)]+_0x5d82c3(0x5bf)+(_0x5ba4d5 instanceof Error?_0x5ba4d5['message']:JSON['stringify'](_0x5ba4d5,null,0x2))),null;}}async[a0_0x4ac10f(0x432)](_0xf5b17f,_0x17eb8f){const _0x2c7d05=a0_0x4ac10f;try{let _0x19c7cf=!!_0x17eb8f[_0x2c7d05(0x5c4)],_0x116ce0=_0x17eb8f[_0x2c7d05(0x810)],_0x8dc1aa=null;if(this['logger'][_0x2c7d05(0x188)](this[_0x2c7d05(0x82b)]+'\x20('+this[_0x2c7d05(0x240)][_0x2c7d05(0x834)]+'):\x20isVote:\x20'+_0x19c7cf+'\x20quoted:\x20'+_0x116ce0),_0x19c7cf){this['logger'][_0x2c7d05(0x188)](this[_0x2c7d05(0x82b)]+'\x20('+this['instance']['wuid']+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x58c5b2={'where':{'remoteJid':_0xf5b17f,'waitingMenu_id':_0x116ce0}};if(_0x8dc1aa=await this['repository'][_0x2c7d05(0x403)]['findOne'](_0x58c5b2,this[_0x2c7d05(0x240)][_0x2c7d05(0x834)]),!_0x8dc1aa)return this[_0x2c7d05(0x44e)][_0x2c7d05(0x188)](this[_0x2c7d05(0x82b)]+'\x20('+this[_0x2c7d05(0x240)]['wuid']+_0x2c7d05(0x2e9)),null;let _0x380f1b=Date[_0x2c7d05(0x77c)](),_0x4b587a=_0x8dc1aa?.[_0x2c7d05(0x384)]||0x0,_0x360ff1=_0x380f1b-_0x4b587a*0x3c*0x3e8;if(_0x8dc1aa['lastInteraction']<_0x360ff1){this[_0x2c7d05(0x44e)][_0x2c7d05(0x188)](this[_0x2c7d05(0x82b)]+'\x20('+this[_0x2c7d05(0x240)][_0x2c7d05(0x834)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x4f4fd2={'number':_0x8dc1aa[_0x2c7d05(0x6e1)],'options':{'delay':0x0},'textMessage':{'text':_0x8dc1aa[_0x2c7d05(0x5f1)]}};await this['textMessage'](_0x4f4fd2);let _0x12ecf9={'status':_0x2c7d05(0x804),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x2c7d05(0x37d)]['flowConversation'][_0x2c7d05(0x191)](_0x8dc1aa[_0x2c7d05(0x261)],_0x12ecf9,this['instance'][_0x2c7d05(0x834)]),null;}return _0x8dc1aa['lastInteraction']=Date[_0x2c7d05(0x77c)](),_0x8dc1aa[_0x2c7d05(0x7f9)]['lastReceivedMessage']=_0x17eb8f,_0x8dc1aa;}else{this[_0x2c7d05(0x44e)][_0x2c7d05(0x188)](this[_0x2c7d05(0x82b)]+'\x20('+this[_0x2c7d05(0x240)][_0x2c7d05(0x834)]+_0x2c7d05(0x309)+this[_0x2c7d05(0x240)][_0x2c7d05(0x834)]+_0x2c7d05(0x3e6)),this[_0x2c7d05(0x44e)][_0x2c7d05(0x188)](this[_0x2c7d05(0x82b)]+'\x20('+this[_0x2c7d05(0x240)][_0x2c7d05(0x834)]+_0x2c7d05(0x394));let _0xcac3c0={'where':{'remoteJid':_0xf5b17f,'status':'open'}};if(_0x8dc1aa=await this['repository'][_0x2c7d05(0x403)][_0x2c7d05(0x349)](_0xcac3c0,this[_0x2c7d05(0x240)][_0x2c7d05(0x834)]),!_0x8dc1aa){let _0x1091aa=await this['findFlow'](_0xf5b17f);if(_0x1091aa&&(_0x8dc1aa=await this['createNewConversation'](_0x1091aa,_0x17eb8f['key'],_0x17eb8f)),!_0x8dc1aa)return null;}let _0x44546a=Date[_0x2c7d05(0x77c)](),_0x2ddfb9=_0x8dc1aa?.[_0x2c7d05(0x384)]||0x0,_0x48d8d5=_0x44546a-_0x2ddfb9*0x3c*0x3e8;if(this[_0x2c7d05(0x44e)][_0x2c7d05(0x188)](this[_0x2c7d05(0x82b)]+'\x20('+this[_0x2c7d05(0x240)]['wuid']+_0x2c7d05(0x389)+_0x44546a+',\x20Minutes\x20to\x20Close:\x20'+_0x2ddfb9+_0x2c7d05(0x576)+_0x48d8d5),this[_0x2c7d05(0x44e)]['verbose'](this[_0x2c7d05(0x82b)]+'\x20('+this[_0x2c7d05(0x240)][_0x2c7d05(0x834)]+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this[_0x2c7d05(0x44e)]['verbose'](this[_0x2c7d05(0x82b)]+'\x20('+this[_0x2c7d05(0x240)][_0x2c7d05(0x834)]+_0x2c7d05(0x585)+_0x8dc1aa[_0x2c7d05(0x4d3)]),this[_0x2c7d05(0x44e)]['verbose'](this[_0x2c7d05(0x82b)]+'\x20('+this[_0x2c7d05(0x240)][_0x2c7d05(0x834)]+'):\x20expirationTime:\x20'+_0x48d8d5),_0x8dc1aa[_0x2c7d05(0x4d3)]<_0x48d8d5){this[_0x2c7d05(0x44e)][_0x2c7d05(0x188)](this['instanceName']+'\x20('+this[_0x2c7d05(0x240)]['wuid']+_0x2c7d05(0x3e9));let _0x11304d=await this[_0x2c7d05(0x687)](_0xf5b17f);if(_0x11304d===null)return null;_0x8dc1aa&&await this[_0x2c7d05(0x37d)][_0x2c7d05(0x403)][_0x2c7d05(0x191)](_0x8dc1aa[_0x2c7d05(0x261)],{'status':_0x2c7d05(0x804)},this[_0x2c7d05(0x240)][_0x2c7d05(0x834)]),_0x8dc1aa=await this[_0x2c7d05(0x6ad)](_0x11304d,_0x17eb8f[_0x2c7d05(0x77d)],_0x17eb8f);}return _0x8dc1aa[_0x2c7d05(0x4d3)]=_0x44546a,_0x8dc1aa['chatLog'][_0x2c7d05(0x2b6)]=_0x17eb8f,_0x8dc1aa;}}catch(_0x1ec6bc){return this['logger']['error'](this[_0x2c7d05(0x82b)]+'\x20('+this[_0x2c7d05(0x240)][_0x2c7d05(0x834)]+_0x2c7d05(0x548)+(_0x1ec6bc instanceof Error?_0x1ec6bc[_0x2c7d05(0x552)]:JSON['stringify'](_0x1ec6bc,null,0x2))),null;}}async[a0_0x4ac10f(0x6ad)](_0x1f0ce0,_0x527a25,_0x1b38fc){const _0x4028fc=a0_0x4ac10f;this[_0x4028fc(0x44e)]['verbose'](this[_0x4028fc(0x82b)]+'\x20('+this[_0x4028fc(0x240)][_0x4028fc(0x834)]+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x127108=require(_0x4028fc(0x613))['ObjectId'],_0x43b4b5=Date[_0x4028fc(0x77c)](),_0x3fd0bf=_0x4028fc(0x1d2),_0x3a267b=_0x527a25[_0x4028fc(0x31d)]?null:_0x1b38fc,_0xa4dbbf=_0x527a25[_0x4028fc(0x31d)]?_0x1b38fc:null,_0x4142c9=_0x527a25[_0x4028fc(0x6e1)],_0x52f0a4=this[_0x4028fc(0x711)][_0x4028fc(0x649)][_0x4028fc(0x7c1)](_0x21f959=>_0x21f959[_0x4028fc(0x261)]===_0x1f0ce0['_id']?.[_0x4028fc(0x830)]()),_0x58187d=_0x52f0a4?.[_0x4028fc(0x384)]??_0x1f0ce0['minutesToClose']??0x0,_0x306096=_0x52f0a4?.[_0x4028fc(0x86a)]??_0x1f0ce0[_0x4028fc(0x86a)]??!0x1;await this['closeExistingConversations'](_0x4142c9);let _0x49f87e={'flowId':_0x1f0ce0['_id'],..._0x1f0ce0,'chatLog':null},_0x46cf56=await this[_0x4028fc(0x5e6)](_0x49f87e[_0x4028fc(0x386)]),_0x1c3412=await this[_0x4028fc(0x594)](_0x4142c9),_0x873d2d={..._0x46cf56,..._0x1c3412,'_remoteJid':_0x4142c9},_0x54c2bd={'lastReceivedMessage':_0x3a267b,'lastSendMessage':_0xa4dbbf,'lastBlockId':_0x3fd0bf,'lastCondition':!0x0,'realVariables':_0x873d2d};_0x49f87e[_0x4028fc(0x7f9)]=_0x54c2bd,delete _0x49f87e['_id'],_0x49f87e[_0x4028fc(0x261)]=new _0x127108(),_0x49f87e[_0x4028fc(0x4d3)]=_0x43b4b5,_0x49f87e[_0x4028fc(0x1ac)]=_0x4028fc(0x38e),_0x49f87e[_0x4028fc(0x6e1)]=_0x4142c9,_0x49f87e['minutesToClose']=_0x58187d,_0x49f87e[_0x4028fc(0x86a)]=_0x306096;let _0x2a0ba2=await this[_0x4028fc(0x37d)][_0x4028fc(0x403)][_0x4028fc(0x191)](_0x49f87e[_0x4028fc(0x261)],_0x49f87e,this[_0x4028fc(0x240)][_0x4028fc(0x834)]);return this[_0x4028fc(0x44e)]['verbose'](this[_0x4028fc(0x82b)]+'\x20('+this[_0x4028fc(0x240)][_0x4028fc(0x834)]+_0x4028fc(0x449)),_0x2a0ba2?_0x49f87e:null;}catch(_0x443df4){return this['logger']['error'](this['instanceName']+'\x20('+this[_0x4028fc(0x240)][_0x4028fc(0x834)]+_0x4028fc(0x49a)+(_0x443df4 instanceof Error?_0x443df4['message']:JSON[_0x4028fc(0x3cc)](_0x443df4,null,0x2))),_0x443df4;}}async[a0_0x4ac10f(0x5c2)](_0x2f5699,_0x3fb763){const _0x1eaf76=a0_0x4ac10f;let _0x564a97=_0x2f5699[_0x1eaf76(0x6e1)];_0x3fb763[_0x1eaf76(0x79d)][_0x1eaf76(0x6e1)]&&_0x3fb763[_0x1eaf76(0x79d)][_0x1eaf76(0x6e1)][_0x1eaf76(0x17d)]()!==''&&(_0x564a97=_0x3fb763[_0x1eaf76(0x79d)]['remoteJid'][_0x1eaf76(0x17d)]()),this[_0x1eaf76(0x44e)][_0x1eaf76(0x188)](this[_0x1eaf76(0x82b)]+'\x20('+this[_0x1eaf76(0x240)][_0x1eaf76(0x834)]+_0x1eaf76(0x39b));let _0x56e26b={'number':_0x564a97,'options':{'delay':_0x3fb763[_0x1eaf76(0x79d)][_0x1eaf76(0x3cd)],'linkPreview':_0x3fb763[_0x1eaf76(0x79d)][_0x1eaf76(0x50e)]},'textMessage':{'text':_0x3fb763[_0x1eaf76(0x79d)][_0x1eaf76(0x6e7)]}};try{let _0x134b79=await this[_0x1eaf76(0x48d)](_0x56e26b);if(_0x134b79){let _0x5c752f={'_id':_0x134b79[_0x1eaf76(0x77d)]['id'],'_fromMe':_0x134b79[_0x1eaf76(0x77d)][_0x1eaf76(0x31d)],'_remoteJid':_0x134b79[_0x1eaf76(0x77d)][_0x1eaf76(0x6e1)]},_0x1d127b=(0x0,w[_0x1eaf76(0x580)])(_0x134b79['message']),_0x1797f2=(0x0,w['getContentType'])(_0x1d127b);_0x2f5699['chatLog'][_0x1eaf76(0x74a)]=_0x3fb763[_0x1eaf76(0x261)][_0x1eaf76(0x830)]();let {message_normalized:_0x42fb7f}=this['normalizeMessage'](_0x1d127b,_0x1797f2,null);_0x2f5699['chatLog'][_0x1eaf76(0x3a1)]=await _0x42fb7f;let _0x4b46d5={'messageId':_0x134b79[_0x1eaf76(0x77d)]['id']},_0x200435=_0x2f5699[_0x1eaf76(0x7f9)][_0x1eaf76(0x72a)];Object['assign'](_0x200435,_0x5c752f),_0x2f5699[_0x1eaf76(0x7f9)][_0x1eaf76(0x72a)]=_0x200435,this[_0x1eaf76(0x847)](_0x2f5699,_0x3fb763,_0x4b46d5);}else{let _0x52a342={'error':!0x0};this['updateConversation'](_0x2f5699,_0x3fb763,_0x52a342),this[_0x1eaf76(0x44e)][_0x1eaf76(0x4f6)](this[_0x1eaf76(0x82b)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x4cdf32){let _0x169c03={'error':!0x0,'errorLog':_0x4cdf32['toString']()};this['updateConversation'](_0x2f5699,_0x3fb763,_0x169c03),this['logger'][_0x1eaf76(0x4f6)](this['instanceName']+'\x20('+this[_0x1eaf76(0x240)][_0x1eaf76(0x834)]+_0x1eaf76(0x1f1)+(_0x4cdf32 instanceof Error?_0x4cdf32[_0x1eaf76(0x552)]:JSON[_0x1eaf76(0x3cc)](_0x4cdf32,null,0x2)));}}async[a0_0x4ac10f(0x280)](_0x3b4a3a,_0x175876){const _0x27ae74=a0_0x4ac10f;let _0x49ada4=_0x3b4a3a[_0x27ae74(0x6e1)];_0x175876[_0x27ae74(0x79d)][_0x27ae74(0x6e1)]&&_0x175876['uazapi'][_0x27ae74(0x6e1)][_0x27ae74(0x17d)]()!==''&&(_0x49ada4=_0x175876['uazapi'][_0x27ae74(0x6e1)][_0x27ae74(0x17d)]()),this['logger'][_0x27ae74(0x188)](this[_0x27ae74(0x82b)]+'\x20('+this[_0x27ae74(0x240)][_0x27ae74(0x834)]+_0x27ae74(0x275));let _0x110d30={'number':_0x49ada4,'options':{'delay':_0x175876[_0x27ae74(0x79d)][_0x27ae74(0x3cd)],'linkPreview':_0x175876[_0x27ae74(0x79d)][_0x27ae74(0x50e)]},'mediaMessage':{'mediatype':_0x175876[_0x27ae74(0x79d)][_0x27ae74(0x291)],'caption':_0x175876[_0x27ae74(0x79d)]['caption'],'media':_0x175876[_0x27ae74(0x79d)][_0x27ae74(0x27d)],'fileName':_0x175876[_0x27ae74(0x79d)][_0x27ae74(0x7ec)]}};try{let _0x22437e=await this[_0x27ae74(0x829)](_0x110d30);if(_0x22437e){let _0x1d8940={'_id':_0x22437e['key']['id'],'_fromMe':_0x22437e[_0x27ae74(0x77d)][_0x27ae74(0x31d)],'_remoteJid':_0x22437e[_0x27ae74(0x77d)][_0x27ae74(0x6e1)]},_0x15c308=(0x0,w[_0x27ae74(0x580)])(_0x22437e['message']),_0x335e78=(0x0,w[_0x27ae74(0x802)])(_0x15c308);_0x3b4a3a[_0x27ae74(0x7f9)][_0x27ae74(0x74a)]=_0x175876[_0x27ae74(0x261)]['toString']();let {message_normalized:_0x89cd87}=this[_0x27ae74(0x528)](_0x15c308,_0x335e78,null);_0x3b4a3a[_0x27ae74(0x7f9)][_0x27ae74(0x3a1)]=await _0x89cd87;let _0x2d436a={'messageId':_0x22437e[_0x27ae74(0x77d)]['id']},_0xb9c44d=_0x3b4a3a['chatLog'][_0x27ae74(0x72a)];Object[_0x27ae74(0x660)](_0xb9c44d,_0x1d8940),_0x3b4a3a['chatLog'][_0x27ae74(0x72a)]=_0xb9c44d,this[_0x27ae74(0x847)](_0x3b4a3a,_0x175876,_0x2d436a);}else{let _0x5d6496={'error':!0x0};this[_0x27ae74(0x847)](_0x3b4a3a,_0x175876,_0x5d6496),this[_0x27ae74(0x44e)][_0x27ae74(0x4f6)](this[_0x27ae74(0x82b)]+'\x20('+this[_0x27ae74(0x240)][_0x27ae74(0x834)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x1f8cfe){let _0x34a657={'error':!0x0,'errorLog':_0x1f8cfe[_0x27ae74(0x830)]()};this[_0x27ae74(0x847)](_0x3b4a3a,_0x175876,_0x34a657),this[_0x27ae74(0x44e)][_0x27ae74(0x4f6)](this[_0x27ae74(0x82b)]+'\x20('+this[_0x27ae74(0x240)][_0x27ae74(0x834)]+_0x27ae74(0x3a6)+(_0x1f8cfe instanceof Error?_0x1f8cfe[_0x27ae74(0x552)]:JSON[_0x27ae74(0x3cc)](_0x1f8cfe,null,0x2)));}}async[a0_0x4ac10f(0x4b9)](_0x331efb,_0x50ea00){const _0x3c8df0=a0_0x4ac10f;let _0x4107c4=_0x331efb[_0x3c8df0(0x6e1)];_0x50ea00[_0x3c8df0(0x79d)][_0x3c8df0(0x6e1)]&&_0x50ea00['uazapi'][_0x3c8df0(0x6e1)][_0x3c8df0(0x17d)]()!==''&&(_0x4107c4=_0x50ea00[_0x3c8df0(0x79d)][_0x3c8df0(0x6e1)][_0x3c8df0(0x17d)]()),this[_0x3c8df0(0x44e)][_0x3c8df0(0x188)](this[_0x3c8df0(0x82b)]+'\x20('+this[_0x3c8df0(0x240)]['wuid']+_0x3c8df0(0x5f5));let _0x4115ca={'number':_0x4107c4,'options':{'delay':_0x50ea00[_0x3c8df0(0x79d)][_0x3c8df0(0x3cd)]},'locationMessage':{'name':_0x50ea00[_0x3c8df0(0x79d)]['name'],'address':_0x50ea00['uazapi'][_0x3c8df0(0x7fb)],'latitude':_0x50ea00['uazapi'][_0x3c8df0(0x507)],'longitude':_0x50ea00[_0x3c8df0(0x79d)][_0x3c8df0(0x6d7)]}};try{let _0x3be780=await this[_0x3c8df0(0x359)](_0x4115ca);if(_0x3be780){let _0x52f256={'_id':_0x3be780[_0x3c8df0(0x77d)]['id'],'_fromMe':_0x3be780[_0x3c8df0(0x77d)][_0x3c8df0(0x31d)],'_remoteJid':_0x3be780[_0x3c8df0(0x77d)][_0x3c8df0(0x6e1)]},_0x51d07e=(0x0,w[_0x3c8df0(0x580)])(_0x3be780['message']),_0x5aae69=(0x0,w[_0x3c8df0(0x802)])(_0x51d07e);_0x331efb[_0x3c8df0(0x7f9)][_0x3c8df0(0x74a)]=_0x50ea00[_0x3c8df0(0x261)][_0x3c8df0(0x830)]();let {message_normalized:_0x3487c4}=this[_0x3c8df0(0x528)](_0x51d07e,_0x5aae69,null);_0x331efb[_0x3c8df0(0x7f9)][_0x3c8df0(0x3a1)]=await _0x3487c4;let _0x255d33={'messageId':_0x3be780[_0x3c8df0(0x77d)]['id']},_0x4e6e1b=_0x331efb[_0x3c8df0(0x7f9)][_0x3c8df0(0x72a)];Object[_0x3c8df0(0x660)](_0x4e6e1b,_0x52f256),_0x331efb['chatLog'][_0x3c8df0(0x72a)]=_0x4e6e1b,this['updateConversation'](_0x331efb,_0x50ea00,_0x255d33);}else{let _0x7277fc={'error':!0x0};this[_0x3c8df0(0x847)](_0x331efb,_0x50ea00,_0x7277fc),this[_0x3c8df0(0x44e)]['error'](this['instanceName']+'\x20('+this['instance'][_0x3c8df0(0x834)]+_0x3c8df0(0x4d2));}}catch(_0x3f91a1){let _0x292659={'error':!0x0,'errorLog':_0x3f91a1['toString']()};this[_0x3c8df0(0x847)](_0x331efb,_0x50ea00,_0x292659),this[_0x3c8df0(0x44e)][_0x3c8df0(0x4f6)](this[_0x3c8df0(0x82b)]+'\x20('+this[_0x3c8df0(0x240)][_0x3c8df0(0x834)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x3f91a1 instanceof Error?_0x3f91a1[_0x3c8df0(0x552)]:JSON['stringify'](_0x3f91a1,null,0x2)));}}async[a0_0x4ac10f(0x4a6)](_0x181779,_0x5b3d42){const _0x237ba6=a0_0x4ac10f;let _0x5c551b=_0x181779['remoteJid'];_0x5b3d42[_0x237ba6(0x79d)]['remoteJid']&&_0x5b3d42[_0x237ba6(0x79d)][_0x237ba6(0x6e1)][_0x237ba6(0x17d)]()!==''&&(_0x5c551b=_0x5b3d42[_0x237ba6(0x79d)][_0x237ba6(0x6e1)][_0x237ba6(0x17d)]()),this[_0x237ba6(0x44e)][_0x237ba6(0x188)](this[_0x237ba6(0x82b)]+'\x20('+this['instance'][_0x237ba6(0x834)]+_0x237ba6(0x2e8));let _0x80b7d2={'number':_0x5c551b,'options':{'delay':_0x5b3d42[_0x237ba6(0x79d)][_0x237ba6(0x3cd)]},'audioMessage':{'audio':_0x5b3d42[_0x237ba6(0x79d)][_0x237ba6(0x75c)]}};try{let _0x19e8e6=await this[_0x237ba6(0x588)](_0x80b7d2);if(_0x19e8e6){let _0x3db060={'_id':_0x19e8e6['key']['id'],'_fromMe':_0x19e8e6[_0x237ba6(0x77d)]['fromMe'],'_remoteJid':_0x19e8e6['key'][_0x237ba6(0x6e1)]},_0x520987=(0x0,w[_0x237ba6(0x580)])(_0x19e8e6[_0x237ba6(0x552)]),_0x279a15=(0x0,w['getContentType'])(_0x520987);_0x181779['chatLog'][_0x237ba6(0x74a)]=_0x5b3d42['_id'][_0x237ba6(0x830)]();let {message_normalized:_0x238a4d}=this[_0x237ba6(0x528)](_0x520987,_0x279a15,null);_0x181779[_0x237ba6(0x7f9)]['lastSendMessage']=await _0x238a4d;let _0x281448={'messageId':_0x19e8e6[_0x237ba6(0x77d)]['id']},_0x1ca315=_0x181779[_0x237ba6(0x7f9)]['realVariables'];Object[_0x237ba6(0x660)](_0x1ca315,_0x3db060),_0x181779[_0x237ba6(0x7f9)]['realVariables']=_0x1ca315,this[_0x237ba6(0x847)](_0x181779,_0x5b3d42,_0x281448);}else{let _0x1c3ee6={'error':!0x0};this[_0x237ba6(0x847)](_0x181779,_0x5b3d42,_0x1c3ee6),this['logger'][_0x237ba6(0x4f6)](this[_0x237ba6(0x82b)]+'\x20('+this[_0x237ba6(0x240)][_0x237ba6(0x834)]+_0x237ba6(0x739));}}catch(_0x100e10){let _0x3d0bf9={'error':!0x0,'errorLog':_0x100e10['toString']()};this[_0x237ba6(0x847)](_0x181779,_0x5b3d42,_0x3d0bf9),this[_0x237ba6(0x44e)][_0x237ba6(0x4f6)](this[_0x237ba6(0x82b)]+'\x20('+this[_0x237ba6(0x240)][_0x237ba6(0x834)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0x100e10 instanceof Error?_0x100e10[_0x237ba6(0x552)]:JSON[_0x237ba6(0x3cc)](_0x100e10,null,0x2)));}}async[a0_0x4ac10f(0x133)](_0x1f1541,_0x2d1c4f){const _0x146139=a0_0x4ac10f;let _0x461456=_0x1f1541[_0x146139(0x6e1)];_0x2d1c4f[_0x146139(0x79d)][_0x146139(0x6e1)]&&_0x2d1c4f[_0x146139(0x79d)]['remoteJid']['trim']()!==''&&(_0x461456=_0x2d1c4f[_0x146139(0x79d)][_0x146139(0x6e1)][_0x146139(0x17d)]()),this['logger'][_0x146139(0x188)](this[_0x146139(0x82b)]+'\x20('+this['instance'][_0x146139(0x834)]+_0x146139(0x483));let _0x470e19={'number':_0x461456,'options':{'delay':_0x2d1c4f['uazapi'][_0x146139(0x3cd)]},'contactMessage':[{'fullName':_0x2d1c4f[_0x146139(0x79d)][_0x146139(0x781)],'phoneNumber':_0x2d1c4f[_0x146139(0x79d)][_0x146139(0x654)]}]};try{let _0x42e521=await this[_0x146139(0x583)](_0x470e19);if(_0x42e521){let _0x584330={'_id':_0x42e521[_0x146139(0x77d)]['id'],'_fromMe':_0x42e521[_0x146139(0x77d)][_0x146139(0x31d)],'_remoteJid':_0x42e521['key'][_0x146139(0x6e1)]},_0x37d659=(0x0,w[_0x146139(0x580)])(_0x42e521['message']),_0x23a436=(0x0,w['getContentType'])(_0x37d659);_0x1f1541['chatLog']['lastBlockId']=_0x2d1c4f[_0x146139(0x261)]['toString']();let {message_normalized:_0x2f8427}=this[_0x146139(0x528)](_0x37d659,_0x23a436,null);_0x1f1541[_0x146139(0x7f9)][_0x146139(0x3a1)]=await _0x2f8427;let _0x36d250={'messageId':_0x42e521[_0x146139(0x77d)]['id']},_0xa4fd54=_0x1f1541[_0x146139(0x7f9)][_0x146139(0x72a)];Object[_0x146139(0x660)](_0xa4fd54,_0x584330),_0x1f1541[_0x146139(0x7f9)][_0x146139(0x72a)]=_0xa4fd54,this['updateConversation'](_0x1f1541,_0x2d1c4f,_0x36d250);}else{let _0x51ad2a={'error':!0x0};this[_0x146139(0x847)](_0x1f1541,_0x2d1c4f,_0x51ad2a),this[_0x146139(0x44e)][_0x146139(0x4f6)](this[_0x146139(0x82b)]+'\x20('+this[_0x146139(0x240)][_0x146139(0x834)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0xa7857a){let _0x1179db={'error':!0x0,'errorLog':_0xa7857a[_0x146139(0x830)]()};this[_0x146139(0x847)](_0x1f1541,_0x2d1c4f,_0x1179db),this[_0x146139(0x44e)][_0x146139(0x4f6)](this[_0x146139(0x82b)]+'\x20('+this[_0x146139(0x240)][_0x146139(0x834)]+_0x146139(0x183)+(_0xa7857a instanceof Error?_0xa7857a[_0x146139(0x552)]:JSON['stringify'](_0xa7857a,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x586c6c,_0x4c4bbb){const _0x1be2f0=a0_0x4ac10f;for(let _0x24a09e of _0x586c6c)_0x24a09e[_0x1be2f0(0x774)]&&(_0x24a09e[_0x1be2f0(0x774)]=this[_0x1be2f0(0x642)](_0x24a09e[_0x1be2f0(0x774)],_0x4c4bbb)),_0x24a09e[_0x1be2f0(0x223)]&&(_0x24a09e[_0x1be2f0(0x223)]=this[_0x1be2f0(0x642)](_0x24a09e['optionDescription'],_0x4c4bbb));}async[a0_0x4ac10f(0x2f8)](_0x370fca,_0x1ee26d){const _0x1d0785=a0_0x4ac10f;let _0x449b78=_0x370fca[_0x1d0785(0x6e1)];_0x1ee26d['uazapi'][_0x1d0785(0x6e1)]&&_0x1ee26d[_0x1d0785(0x79d)][_0x1d0785(0x6e1)]['trim']()!==''&&(_0x449b78=_0x1ee26d[_0x1d0785(0x79d)][_0x1d0785(0x6e1)][_0x1d0785(0x17d)]()),this[_0x1d0785(0x44e)][_0x1d0785(0x188)](this[_0x1d0785(0x82b)]+'\x20('+this[_0x1d0785(0x240)]['wuid']+_0x1d0785(0x23e));let _0x288690=_0x370fca[_0x1d0785(0x592)][_0x1d0785(0x820)](_0x4b2d2f=>_0x4b2d2f[_0x1d0785(0x30f)]===_0x1ee26d[_0x1d0785(0x261)])[_0x1d0785(0x733)]((_0x424aab,_0xa030f2)=>_0x424aab[_0x1d0785(0x82d)]-_0xa030f2[_0x1d0785(0x82d)]);this[_0x1d0785(0x522)](_0x288690,_0x370fca[_0x1d0785(0x7f9)][_0x1d0785(0x72a)]);let _0xb15484=_0x288690[_0x1d0785(0x3c7)](_0x45e8f7=>_0x45e8f7[_0x1d0785(0x774)]),_0x4e1184={'number':_0x449b78,'menuMessage':{'type':_0x1ee26d['uazapi'][_0x1d0785(0x6c9)]||_0x1d0785(0x14d),'text':_0x1ee26d['uazapi'][_0x1d0785(0x6e7)]||_0x1ee26d[_0x1d0785(0x79d)][_0x1d0785(0x80a)],'footerText':_0x1ee26d[_0x1d0785(0x79d)][_0x1d0785(0x775)],'buttonText':_0x1ee26d[_0x1d0785(0x79d)][_0x1d0785(0x255)],'selectableCount':0x1,'choices':_0xb15484},'options':{'delay':_0x1ee26d[_0x1d0785(0x79d)][_0x1d0785(0x3cd)]}};try{let _0x2b9adb=await this[_0x1d0785(0x12d)](_0x4e1184);if(_0x2b9adb){let _0x177a97={'_id':_0x2b9adb['key']['id'],'_fromMe':_0x2b9adb[_0x1d0785(0x77d)]['fromMe'],'_remoteJid':_0x2b9adb[_0x1d0785(0x77d)][_0x1d0785(0x6e1)]};_0x1ee26d['uazapi'][_0x1d0785(0x7a1)]===!0x0&&(_0x370fca['status']='waitingForReplyMenu',this[_0x1d0785(0x44e)][_0x1d0785(0x188)](this[_0x1d0785(0x82b)]+'\x20('+this[_0x1d0785(0x240)][_0x1d0785(0x834)]+_0x1d0785(0x29a)+_0x370fca[_0x1d0785(0x1ac)])),this[_0x1d0785(0x44e)][_0x1d0785(0x188)](this[_0x1d0785(0x82b)]+'\x20('+this[_0x1d0785(0x240)][_0x1d0785(0x834)]+_0x1d0785(0x36b)+(_0x1ee26d[_0x1d0785(0x79d)][_0x1d0785(0x80a)]||_0x1ee26d[_0x1d0785(0x79d)][_0x1d0785(0x6e7)])),_0x370fca[_0x1d0785(0x2c0)]=_0x2b9adb['key']['id'],_0x370fca[_0x1d0785(0x2c4)]=_0x1ee26d[_0x1d0785(0x79d)][_0x1d0785(0x80a)]||_0x1ee26d[_0x1d0785(0x79d)][_0x1d0785(0x6e7)],_0x370fca[_0x1d0785(0x476)]=_0x288690,_0x1ee26d[_0x1d0785(0x79d)][_0x1d0785(0x523)]&&(_0x370fca[_0x1d0785(0x5f1)]=_0x1ee26d['uazapi']['menuExpiredMessage']),this[_0x1d0785(0x44e)][_0x1d0785(0x188)](this[_0x1d0785(0x82b)]+'\x20('+this[_0x1d0785(0x240)][_0x1d0785(0x834)]+_0x1d0785(0x1d7)+_0x370fca['waitingMenu_text']);let _0x5a61de=(0x0,w[_0x1d0785(0x580)])(_0x2b9adb[_0x1d0785(0x552)]),_0x3d064b=(0x0,w[_0x1d0785(0x802)])(_0x5a61de);_0x370fca['chatLog'][_0x1d0785(0x74a)]=_0x1ee26d['_id'][_0x1d0785(0x830)]();let {message_normalized:_0x18f2f6}=this[_0x1d0785(0x528)](_0x5a61de,_0x3d064b,null);_0x370fca[_0x1d0785(0x7f9)][_0x1d0785(0x3a1)]=await _0x18f2f6;let _0xeb91d2={'messageId':_0x2b9adb['key']['id']},_0x4e25e9=_0x370fca[_0x1d0785(0x7f9)][_0x1d0785(0x72a)];Object[_0x1d0785(0x660)](_0x4e25e9,_0x177a97),_0x370fca[_0x1d0785(0x7f9)][_0x1d0785(0x72a)]=_0x4e25e9,this[_0x1d0785(0x847)](_0x370fca,_0x1ee26d,_0xeb91d2);}else{let _0x130811={'error':!0x0};this[_0x1d0785(0x847)](_0x370fca,_0x1ee26d,_0x130811),this['logger'][_0x1d0785(0x4f6)](this[_0x1d0785(0x82b)]+'\x20('+this['instance'][_0x1d0785(0x834)]+_0x1d0785(0x7f4));}}catch(_0x8f2402){let _0x3ff8dd={'error':!0x0,'errorLog':_0x8f2402 instanceof Error?_0x8f2402[_0x1d0785(0x552)]:JSON['stringify'](_0x8f2402,null,0x2)};this['updateConversation'](_0x370fca,_0x1ee26d,_0x3ff8dd),this[_0x1d0785(0x44e)][_0x1d0785(0x4f6)](this[_0x1d0785(0x82b)]+'\x20('+this[_0x1d0785(0x240)]['wuid']+_0x1d0785(0x696)+(_0x8f2402 instanceof Error?_0x8f2402[_0x1d0785(0x552)]:JSON[_0x1d0785(0x3cc)](_0x8f2402,null,0x2)));}}async[a0_0x4ac10f(0x35a)](_0x525689,_0xe51066){const _0x506607=a0_0x4ac10f;this[_0x506607(0x44e)][_0x506607(0x188)](this[_0x506607(0x82b)]+'\x20('+this['instance'][_0x506607(0x834)]+'):\x20Deletando\x20mensagem');let _0x4584ca=_0x525689[_0x506607(0x7f9)]['blockLogs']['find'](_0x346572=>_0x346572[_0x506607(0x30f)][_0x506607(0x830)]()===_0xe51066[_0x506607(0x79d)][_0x506607(0x30f)][_0x506607(0x830)]()),_0x4c2061={'id':_0x4584ca[_0x506607(0x18c)],'remoteJid':_0x4584ca[_0x506607(0x6e1)],'fromMe':_0x4584ca[_0x506607(0x31d)]};try{let _0x399bb=await this['deleteMessage'](_0x4c2061);if(_0x399bb){let _0x49f746=(0x0,w['normalizeMessageContent'])(_0x399bb['message']),_0xc69ad8=(0x0,w[_0x506607(0x802)])(_0x49f746);_0x525689['chatLog']['lastBlockId']=_0xe51066['_id'][_0x506607(0x830)]();let {message_normalized:_0x3e5797}=this['normalizeMessage'](_0x49f746,_0xc69ad8,null);_0x525689[_0x506607(0x7f9)][_0x506607(0x3a1)]=await _0x3e5797;let _0x40294c={};this['updateConversation'](_0x525689,_0xe51066,_0x40294c);}else{let _0xd5884b={'error':!0x0};this['updateConversation'](_0x525689,_0xe51066,_0xd5884b),this[_0x506607(0x44e)][_0x506607(0x4f6)](this[_0x506607(0x82b)]+'\x20('+this[_0x506607(0x240)][_0x506607(0x834)]+_0x506607(0x48c));}}catch(_0x10b337){let _0x56ecae={'error':!0x0,'errorLog':_0x10b337 instanceof Error?_0x10b337['message']:JSON[_0x506607(0x3cc)](_0x10b337,null,0x2)};this[_0x506607(0x847)](_0x525689,_0xe51066,_0x56ecae),this[_0x506607(0x44e)][_0x506607(0x4f6)](this[_0x506607(0x82b)]+'\x20('+this[_0x506607(0x240)][_0x506607(0x834)]+_0x506607(0x825)+(_0x10b337 instanceof Error?_0x10b337['message']:JSON[_0x506607(0x3cc)](_0x10b337,null,0x2)));}}async[a0_0x4ac10f(0x5d3)](_0x122f38,_0x1802bb){const _0x44fb9c=a0_0x4ac10f;if(_0x122f38[_0x44fb9c(0x80a)]||(_0x122f38[_0x44fb9c(0x80a)]=(0x0,me['v4'])()),_0x1802bb!==Ro&&_0x122f38?.[_0x44fb9c(0x222)])throw new m('Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global');if(_0x44fb9c(0x261)in _0x122f38&&_0x44fb9c(0x689)in _0x122f38)return this[_0x44fb9c(0x809)](_0x122f38['owner'],_0x122f38['_id']);this[_0x44fb9c(0x44e)][_0x44fb9c(0x188)](this[_0x44fb9c(0x82b)]+'\x20('+this[_0x44fb9c(0x240)][_0x44fb9c(0x834)]+_0x44fb9c(0x1f0));let _0x4f528c=this[_0x44fb9c(0x7a7)](_0x122f38[_0x44fb9c(0x80a)]),_0x43add7=new de['Types'][(_0x44fb9c(0x2ae))](),_0x527369={'_id':_0x43add7,'default':!0x0,'title':_0x44fb9c(0x611),'x':0x0,'y':0x0},_0x437f95={'_id':new de['Types'][(_0x44fb9c(0x2ae))](),'order':0x1,'groupId':_0x43add7[_0x44fb9c(0x830)](),'type':'start'},_0x2005bd=this[_0x44fb9c(0x240)]['wuid'],_0x57e038={'_id':(0x0,me['v4'])(),'owner':_0x2005bd,'name':_0x4f528c,'whoCanEdit':[_0x2005bd],'whoCanUse':[_0x2005bd],'groups':[_0x527369],'blocks':[_0x437f95],..._0x122f38};try{let _0xc42a14=await this['repository'][_0x44fb9c(0x7fa)][_0x44fb9c(0x7d8)](_0x57e038);return await this[_0x44fb9c(0x324)](),_0xc42a14;}catch(_0x4b3ab2){let _0x651cc0=_0x44fb9c(0x514),_0x34d5ac=_0x4b3ab2 instanceof Error?_0x4b3ab2[_0x44fb9c(0x552)]:typeof _0x4b3ab2==_0x44fb9c(0x7e5)?JSON[_0x44fb9c(0x3cc)](_0x4b3ab2):_0x4b3ab2,_0x546ad4=_0x651cc0+':\x20'+_0x34d5ac;throw this[_0x44fb9c(0x44e)][_0x44fb9c(0x4f6)](this['instanceName']+'\x20('+this[_0x44fb9c(0x240)][_0x44fb9c(0x834)]+_0x44fb9c(0x309)+_0x546ad4),new m(_0x546ad4);}}async[a0_0x4ac10f(0x809)](_0xd8745c,_0x100aec){const _0x5f074e=a0_0x4ac10f;try{this[_0x5f074e(0x44e)][_0x5f074e(0x188)](this[_0x5f074e(0x82b)]+'\x20('+this[_0x5f074e(0x240)][_0x5f074e(0x834)]+_0x5f074e(0x53c));let _0x3b18d2=await this['repository'][_0x5f074e(0x7fa)][_0x5f074e(0x349)]({'where':{'_id':_0x100aec,'owner':_0xd8745c}});if(!_0x3b18d2)throw new m(_0x5f074e(0x4af));if(_0x3b18d2[_0x5f074e(0x5fc)]===!0x1&&!_0x3b18d2[_0x5f074e(0x222)])throw new m(_0x5f074e(0x596));let _0x34e2b9=new Set(_0x3b18d2[_0x5f074e(0x865)]??[]);_0x34e2b9[_0x5f074e(0x7c8)](this[_0x5f074e(0x240)][_0x5f074e(0x834)]);let _0x577109=await this[_0x5f074e(0x37d)][_0x5f074e(0x7fa)][_0x5f074e(0x191)](_0x100aec,{..._0x3b18d2,'whoCanUse':Array[_0x5f074e(0x736)](_0x34e2b9)});return await this[_0x5f074e(0x324)](),_0x577109;}catch(_0x3a83a3){let _0xffba5=_0x5f074e(0x7e0),_0x3c6506=_0x3a83a3 instanceof Error?_0x3a83a3[_0x5f074e(0x552)]:typeof _0x3a83a3==_0x5f074e(0x7e5)?JSON[_0x5f074e(0x3cc)](_0x3a83a3):_0x3a83a3,_0x356b3f=_0xffba5+':\x20'+_0x3c6506;throw this[_0x5f074e(0x44e)][_0x5f074e(0x4f6)](this[_0x5f074e(0x82b)]+'\x20('+this[_0x5f074e(0x240)][_0x5f074e(0x834)]+_0x5f074e(0x309)+_0x356b3f),new m(_0x356b3f);}}[a0_0x4ac10f(0x7a7)](_0x59a923){const _0x4d435a=a0_0x4ac10f;let _0x261554=_0x59a923,_0x1fcede=0x1;for(;this[_0x4d435a(0x711)][_0x4d435a(0x649)][_0x4d435a(0x41a)](_0x46d384=>_0x46d384[_0x4d435a(0x80a)]===_0x261554);)_0x1fcede++,_0x261554=_0x59a923+'\x20('+_0x1fcede+')';return _0x261554;}async[a0_0x4ac10f(0x138)](_0x476450){const _0x53126e=a0_0x4ac10f;try{if(this[_0x53126e(0x44e)][_0x53126e(0x188)](this[_0x53126e(0x82b)]+'\x20('+this[_0x53126e(0x240)][_0x53126e(0x834)]+'):\x20\x27Deletando\x20fluxo,\x20id:\x20'+_0x476450[_0x53126e(0x261)]+_0x53126e(0x1d5)+_0x476450[_0x53126e(0x470)]),!this[_0x53126e(0x711)][_0x53126e(0x649)][_0x53126e(0x7c1)](_0x1bc15b=>_0x1bc15b[_0x53126e(0x261)]===_0x476450['_id']))throw this['logger'][_0x53126e(0x188)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x53126e(0x2cc)+_0x476450['_id']+_0x53126e(0x84e)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x587efa=await this[_0x53126e(0x37d)][_0x53126e(0x7fa)]['findOne']({'where':{'_id':_0x476450[_0x53126e(0x261)]}});if(!_0x587efa)throw new m(_0x53126e(0x818));if(this[_0x53126e(0x240)][_0x53126e(0x834)]===_0x587efa[_0x53126e(0x689)]){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x53126e(0x240)][_0x53126e(0x834)]+'):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27'+_0x476450['_id']+_0x53126e(0x7b4));let _0x159d3f=await this[_0x53126e(0x37d)][_0x53126e(0x7fa)][_0x53126e(0x1ba)]({'where':{'_id':_0x476450[_0x53126e(0x261)]}});return await this[_0x53126e(0x324)](),_0x159d3f;}return this[_0x53126e(0x44e)][_0x53126e(0x188)](this[_0x53126e(0x82b)]+'\x20('+this[_0x53126e(0x240)][_0x53126e(0x834)]+_0x53126e(0x4b0)+this['instance'][_0x53126e(0x834)]+'\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27'+_0x476450[_0x53126e(0x261)]+_0x53126e(0x68b)),_0x587efa[_0x53126e(0x865)]=(_0x587efa['whoCanUse']??[])[_0x53126e(0x820)](_0x572bf8=>_0x572bf8!==this[_0x53126e(0x240)][_0x53126e(0x834)]),_0x587efa[_0x53126e(0x272)]=(_0x587efa[_0x53126e(0x272)]??[])[_0x53126e(0x820)](_0x1d0ab1=>_0x1d0ab1!==this['instance']['wuid']),_0x587efa[_0x53126e(0x272)][_0x53126e(0x30c)]===0x0&&_0x587efa[_0x53126e(0x865)]['length']>0x0&&(_0x587efa[_0x53126e(0x272)][_0x53126e(0x304)](_0x587efa['whoCanUse'][0x0]),this['logger'][_0x53126e(0x188)](this[_0x53126e(0x82b)]+'\x20('+this[_0x53126e(0x240)][_0x53126e(0x834)]+_0x53126e(0x1a0)+_0x587efa[_0x53126e(0x865)][0x0]+_0x53126e(0x317)+_0x476450[_0x53126e(0x261)]+_0x53126e(0x68b))),await this['repository'][_0x53126e(0x7fa)]['updateOne'](_0x587efa[_0x53126e(0x261)],_0x587efa),await this[_0x53126e(0x324)](),{'message':_0x53126e(0x7bd)+_0x476450[_0x53126e(0x80a)]+'\x27\x20removido\x20do\x20AutomateSystem.'};}catch(_0x281f00){return this['logger']['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x53126e(0x4c2)+(_0x281f00 instanceof Error?_0x281f00[_0x53126e(0x552)]:JSON[_0x53126e(0x3cc)](_0x281f00,null,0x2))),{'message':_0x53126e(0x306)+(_0x281f00 instanceof Error?_0x281f00[_0x53126e(0x552)]:JSON[_0x53126e(0x3cc)](_0x281f00,null,0x2))};}}async[a0_0x4ac10f(0x379)](_0x2f7765){const _0x55076b=a0_0x4ac10f;try{if(this[_0x55076b(0x44e)][_0x55076b(0x653)](this[_0x55076b(0x82b)]+'\x20('+this[_0x55076b(0x240)][_0x55076b(0x834)]+_0x55076b(0x78b)+_0x2f7765),!this[_0x55076b(0x711)]&&(await this[_0x55076b(0x769)](),!this['AutomateSystem']))return null;let _0x1ef9ca=await this[_0x55076b(0x37d)][_0x55076b(0x7fa)][_0x55076b(0x349)]({'where':{'_id':_0x2f7765}});if(!_0x1ef9ca)throw new m(_0x55076b(0x5a7)+_0x2f7765+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.');if(!(_0x1ef9ca[_0x55076b(0x222)]||_0x1ef9ca['whoCanUse']?.[_0x55076b(0x19a)](this[_0x55076b(0x240)][_0x55076b(0x834)])))throw new m(_0x55076b(0x6fa)+name+'\x27');_0x1ef9ca[_0x55076b(0x222)]&&!_0x1ef9ca[_0x55076b(0x865)]?.['includes'](this[_0x55076b(0x240)][_0x55076b(0x834)])&&(_0x1ef9ca['whoCanUse']=[..._0x1ef9ca[_0x55076b(0x865)]??[],this[_0x55076b(0x240)][_0x55076b(0x834)]],await this[_0x55076b(0x37d)][_0x55076b(0x7fa)][_0x55076b(0x191)](_0x1ef9ca[_0x55076b(0x261)],_0x1ef9ca),this[_0x55076b(0x324)]());let _0x375a86=this[_0x55076b(0x711)]?.['customFields'][_0x55076b(0x3c7)](_0x90479e=>_0x90479e[_0x55076b(0x80a)]),_0x251e54=[_0x55076b(0x45a),_0x55076b(0x6c2),_0x55076b(0x1fa),_0x55076b(0x20b),'status',_0x55076b(0x695),_0x55076b(0x7ea),'tags',_0x55076b(0x58e),_0x55076b(0x2d0),_0x55076b(0x812)];_0x1ef9ca[_0x55076b(0x386)]=_0x1ef9ca[_0x55076b(0x386)][_0x55076b(0x820)](_0x14473b=>!(_0x14473b['folder']==='leadInfo'||_0x14473b[_0x55076b(0x5fa)])),_0x251e54['forEach'](_0x4cc8b6=>{const _0x57ae09=_0x55076b;_0x1ef9ca[_0x57ae09(0x386)][_0x57ae09(0x304)]({'folder':_0x57ae09(0x5fa),'name':_0x4cc8b6,'value':'','doc':'','leadInfo':!0x0});}),_0x375a86['forEach'](_0x267517=>{const _0x19084f=_0x55076b;let _0x41f7b4=_0x1ef9ca[_0x19084f(0x386)][_0x19084f(0x7d9)](_0xf3f579=>_0xf3f579[_0x19084f(0x80a)]===_0x267517);_0x41f7b4===-0x1?_0x1ef9ca[_0x19084f(0x386)]['push']({'folder':_0x19084f(0x5fa),'name':_0x267517,'value':'','doc':'','leadInfo':!0x0}):(_0x1ef9ca['variables'][_0x41f7b4]['folder']=_0x19084f(0x5fa),_0x1ef9ca['variables'][_0x41f7b4][_0x19084f(0x5fa)]=!0x0);}),_0x1ef9ca['blocks']&&_0x1ef9ca[_0x55076b(0x607)][_0x55076b(0x30c)]>0x0&&_0x1ef9ca[_0x55076b(0x607)][_0x55076b(0x843)](_0x5e58f2=>{const _0x409cb0=_0x55076b;_0x5e58f2[_0x409cb0(0x5d4)]&&_0x5e58f2[_0x409cb0(0x635)]&&_0x5e58f2[_0x409cb0(0x5d4)]===_0x5e58f2[_0x409cb0(0x635)]&&(_0x5e58f2[_0x409cb0(0x635)]=null);});let _0x5d4358=await this[_0x55076b(0x37d)][_0x55076b(0x7fa)]['updateOne'](_0x1ef9ca[_0x55076b(0x261)],_0x1ef9ca);if(!_0x5d4358)throw new Error(_0x55076b(0x3d2));return _0x5d4358;}catch(_0x2b9d5c){let _0x3ada4c=_0x55076b(0x13c),_0x4eac34=_0x2b9d5c instanceof Error?_0x2b9d5c[_0x55076b(0x552)]:typeof _0x2b9d5c==_0x55076b(0x7e5)?JSON[_0x55076b(0x3cc)](_0x2b9d5c):_0x2b9d5c,_0x467b6a=_0x3ada4c+':\x20'+_0x4eac34;throw this[_0x55076b(0x44e)]['error'](this[_0x55076b(0x82b)]+'\x20('+this[_0x55076b(0x240)][_0x55076b(0x834)]+_0x55076b(0x309)+_0x467b6a),new m(_0x467b6a);}}async[a0_0x4ac10f(0x71f)](){const _0x5569a4=a0_0x4ac10f;try{this['logger'][_0x5569a4(0x188)](this[_0x5569a4(0x82b)]+'\x20('+this[_0x5569a4(0x240)][_0x5569a4(0x834)]+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this['synchronizeAndMapFlows']();let _0xa229c6=await this[_0x5569a4(0x37d)][_0x5569a4(0x7fa)][_0x5569a4(0x841)]({'where':{'globalShow':!0x0}});return[...this['AutomateSystem'][_0x5569a4(0x649)],..._0xa229c6];}catch(_0x36aed){return this[_0x5569a4(0x44e)][_0x5569a4(0x4f6)](this[_0x5569a4(0x82b)]+'\x20('+this[_0x5569a4(0x240)][_0x5569a4(0x834)]+'):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20'+(_0x36aed instanceof Error?_0x36aed[_0x5569a4(0x552)]:JSON[_0x5569a4(0x3cc)](_0x36aed,null,0x2))),{'message':_0x5569a4(0x626)+(_0x36aed instanceof Error?_0x36aed[_0x5569a4(0x552)]:String(_0x36aed))};}}async[a0_0x4ac10f(0x5aa)](_0x17497,_0x26e263){const _0x3b72f7=a0_0x4ac10f;try{this[_0x3b72f7(0x44e)]['verbose'](this[_0x3b72f7(0x82b)]+'\x20('+this[_0x3b72f7(0x240)]['wuid']+'):\x20Alterando\x20fluxo...');let _0x489822=this[_0x3b72f7(0x711)][_0x3b72f7(0x649)][_0x3b72f7(0x7c1)](_0x94f43d=>_0x94f43d[_0x3b72f7(0x261)]===_0x17497['_id']);if(!_0x489822)throw this['logger'][_0x3b72f7(0x188)](this[_0x3b72f7(0x82b)]+'\x20('+this[_0x3b72f7(0x240)][_0x3b72f7(0x834)]+_0x3b72f7(0x2cc)+_0x17497[_0x3b72f7(0x261)]+'\x27\x20não\x20encontrado'),new m(_0x3b72f7(0x40a));let _0x4d97cb=await this[_0x3b72f7(0x37d)][_0x3b72f7(0x7fa)][_0x3b72f7(0x349)]({'where':{'_id':_0x17497[_0x3b72f7(0x261)]}});if(!_0x4d97cb||!_0x4d97cb['whoCanUse']?.[_0x3b72f7(0x19a)](this[_0x3b72f7(0x240)]['wuid']))throw this[_0x3b72f7(0x44e)][_0x3b72f7(0x4f6)](this[_0x3b72f7(0x82b)]+'\x20('+this[_0x3b72f7(0x240)][_0x3b72f7(0x834)]+'):\x20Flow\x20\x27'+_0x17497[_0x3b72f7(0x261)]+_0x3b72f7(0x2df)),new m(_0x3b72f7(0x2cb)+_0x17497[_0x3b72f7(0x261)]+_0x3b72f7(0x2df));let _0x7f0691=this[_0x3b72f7(0x711)]['flows'][_0x3b72f7(0x7d9)](_0x25e508=>_0x25e508[_0x3b72f7(0x261)]===_0x489822[_0x3b72f7(0x261)]);if(_0x7f0691!==-0x1){let _0x33a670=this[_0x3b72f7(0x711)][_0x3b72f7(0x649)][_0x7f0691];if(_0x33a670['name']=_0x17497[_0x3b72f7(0x80a)]??_0x33a670['name'],_0x33a670[_0x3b72f7(0x5b7)]=_0x17497['default']??_0x33a670[_0x3b72f7(0x5b7)],_0x33a670[_0x3b72f7(0x5a9)]=_0x17497[_0x3b72f7(0x5a9)]??_0x33a670[_0x3b72f7(0x5a9)],_0x33a670[_0x3b72f7(0x638)]=_0x17497['startCommandWord']??_0x33a670[_0x3b72f7(0x638)],_0x33a670[_0x3b72f7(0x384)]=_0x17497[_0x3b72f7(0x384)]??_0x33a670[_0x3b72f7(0x384)],_0x33a670[_0x3b72f7(0x86a)]=_0x17497['readMessages']??_0x33a670[_0x3b72f7(0x86a)],_0x17497[_0x3b72f7(0x5b7)]&&this[_0x3b72f7(0x711)][_0x3b72f7(0x649)][_0x3b72f7(0x843)]((_0x3a2f60,_0x179914)=>{const _0x27a29f=_0x3b72f7;_0x179914!==_0x7f0691&&(_0x3a2f60[_0x27a29f(0x5b7)]=!0x1);}),this[_0x3b72f7(0x711)][_0x3b72f7(0x649)][_0x7f0691]=_0x33a670,!await this[_0x3b72f7(0x37d)][_0x3b72f7(0x62b)][_0x3b72f7(0x256)]({'flows':this[_0x3b72f7(0x711)][_0x3b72f7(0x649)]},this['instance']['wuid']))throw new m(_0x3b72f7(0x4b5));}let _0x31a89e=[_0x3b72f7(0x470),_0x3b72f7(0x15a),_0x3b72f7(0x68f),_0x3b72f7(0x38d)];for(let _0x151e09 of _0x31a89e)delete _0x17497[_0x151e09];if(_0x4d97cb[_0x3b72f7(0x272)]?.[_0x3b72f7(0x19a)](this['instance'][_0x3b72f7(0x834)])||(_0x17497={'_id':_0x17497['_id']}),_0x26e263!==Ro&&_0x17497?.[_0x3b72f7(0x222)]&&!_0x4d97cb?.[_0x3b72f7(0x222)])throw new m('Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.');let _0xdf0055=new Set(_0x17497[_0x3b72f7(0x272)]??_0x4d97cb[_0x3b72f7(0x272)]);_0xdf0055[_0x3b72f7(0x7c8)](_0x4d97cb[_0x3b72f7(0x689)]);let _0x3b89c0=new Set(_0x17497['whoCanUse']??_0x4d97cb['whoCanUse']??[]);_0xdf0055[_0x3b72f7(0x843)](_0x1c08a1=>_0x3b89c0[_0x3b72f7(0x7c8)](_0x1c08a1)),_0x3b89c0[_0x3b72f7(0x7c8)](_0x4d97cb[_0x3b72f7(0x689)]),this[_0x3b72f7(0x44e)]['verbose'](this[_0x3b72f7(0x82b)]+'\x20('+this[_0x3b72f7(0x240)]['wuid']+'):\x20whoCanEdit\x20before\x20validation:\x20'+Array['from'](_0xdf0055)),this[_0x3b72f7(0x44e)][_0x3b72f7(0x188)](this['instanceName']+'\x20('+this[_0x3b72f7(0x240)]['wuid']+_0x3b72f7(0x7da)+Array[_0x3b72f7(0x736)](_0x3b89c0));let _0x57b004=await this[_0x3b72f7(0x161)](Array[_0x3b72f7(0x736)](_0x3b89c0)),_0x7a8618=Array[_0x3b72f7(0x736)](_0xdf0055)[_0x3b72f7(0x820)](_0x321cc0=>_0x57b004['includes'](_0x321cc0)),_0x4a94c6=Array[_0x3b72f7(0x736)](_0x3b89c0)[_0x3b72f7(0x820)](_0x6262a5=>_0x57b004[_0x3b72f7(0x19a)](_0x6262a5));this[_0x3b72f7(0x44e)][_0x3b72f7(0x188)](this[_0x3b72f7(0x82b)]+'\x20('+this['instance'][_0x3b72f7(0x834)]+_0x3b72f7(0x808)+_0x7a8618),this[_0x3b72f7(0x44e)][_0x3b72f7(0x188)](this[_0x3b72f7(0x82b)]+'\x20('+this[_0x3b72f7(0x240)][_0x3b72f7(0x834)]+_0x3b72f7(0x52c)+_0x4a94c6);let _0x40b720={..._0x4d97cb,..._0x17497,'whoCanEdit':_0x7a8618,'whoCanUse':_0x4a94c6},_0x326f4d=await this[_0x3b72f7(0x37d)]['flow']['updateOne'](_0x4d97cb[_0x3b72f7(0x261)],_0x40b720);return await this[_0x3b72f7(0x324)](),_0x326f4d;}catch(_0x14046f){let _0x3a6349=_0x3b72f7(0x573),_0xa6ac14=_0x14046f instanceof Error?_0x14046f[_0x3b72f7(0x552)]:typeof _0x14046f=='object'?JSON[_0x3b72f7(0x3cc)](_0x14046f):_0x14046f,_0x3d05c2=_0x3a6349+':\x20'+_0xa6ac14;throw this[_0x3b72f7(0x44e)]['error'](this['instanceName']+'\x20('+this['instance'][_0x3b72f7(0x834)]+'):\x20'+_0x3d05c2),new m(_0x3d05c2);}}async['getValidWhatsAppNumbers'](_0x3888d2){const _0x460e1c=a0_0x4ac10f;let _0x3a61bb={'numbers':_0x3888d2};return(await this[_0x460e1c(0x2a7)](_0x3a61bb))[_0x460e1c(0x820)](_0x2607f9=>_0x2607f9[_0x460e1c(0x659)])[_0x460e1c(0x3c7)](_0x17b258=>_0x17b258['jid'])[_0x460e1c(0x3c7)](_0x5542b7=>this['extractPhoneNumber'](_0x5542b7));}['extractPhoneNumber'](_0x104117){let _0x12fa9a=_0x104117['match'](/\d+/);return _0x12fa9a?_0x12fa9a[0x0]:'';}async[a0_0x4ac10f(0x176)](_0x3ba83c){const _0x5d9bd2=a0_0x4ac10f;try{if(this[_0x5d9bd2(0x44e)]['verbose'](this[_0x5d9bd2(0x82b)]+'\x20('+this[_0x5d9bd2(0x240)]['wuid']+_0x5d9bd2(0x778)),!this['AutomateSystem']['flows'][_0x5d9bd2(0x7c1)](_0x27052e=>_0x27052e[_0x5d9bd2(0x261)]===_0x3ba83c[_0x5d9bd2(0x261)]))throw this[_0x5d9bd2(0x44e)]['verbose'](this[_0x5d9bd2(0x82b)]+'\x20('+this[_0x5d9bd2(0x240)][_0x5d9bd2(0x834)]+_0x5d9bd2(0x2cc)+_0x3ba83c[_0x5d9bd2(0x261)]+_0x5d9bd2(0x84e)),new m(_0x5d9bd2(0x40a));let _0x19ce60=await this[_0x5d9bd2(0x37d)][_0x5d9bd2(0x7fa)][_0x5d9bd2(0x349)]({'where':{'_id':_0x3ba83c[_0x5d9bd2(0x261)]}});if(!_0x19ce60||!_0x19ce60['whoCanUse']?.[_0x5d9bd2(0x19a)](this[_0x5d9bd2(0x240)][_0x5d9bd2(0x834)]))throw this[_0x5d9bd2(0x44e)][_0x5d9bd2(0x4f6)](this['instanceName']+'\x20('+this[_0x5d9bd2(0x240)][_0x5d9bd2(0x834)]+_0x5d9bd2(0x86d)+_0x3ba83c['_id']+_0x5d9bd2(0x2df)),new m('Flow\x20\x27'+_0x3ba83c[_0x5d9bd2(0x261)]+_0x5d9bd2(0x2df));if(!_0x19ce60[_0x5d9bd2(0x272)]?.[_0x5d9bd2(0x19a)](this[_0x5d9bd2(0x240)]['wuid']))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let {block:_0x54affa}=_0x3ba83c;_0x54affa?.['copy']?this[_0x5d9bd2(0x5d6)](_0x19ce60,_0x3ba83c):_0x54affa?.[_0x5d9bd2(0x399)]?this[_0x5d9bd2(0x852)](_0x19ce60,_0x3ba83c):_0x54affa[_0x5d9bd2(0x261)]?await this[_0x5d9bd2(0x16b)](_0x19ce60,_0x3ba83c):this['addBlock'](_0x19ce60,_0x3ba83c);let _0x52596e=await this[_0x5d9bd2(0x37d)][_0x5d9bd2(0x7fa)][_0x5d9bd2(0x191)](_0x19ce60[_0x5d9bd2(0x261)],_0x19ce60);if(!_0x52596e)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x52596e;}catch(_0x346780){this['throwAndLogError'](_0x5d9bd2(0x143)+_0x346780[_0x5d9bd2(0x552)]);}}async[a0_0x4ac10f(0x5d6)](_0x5dd0f0,_0x58a288){const _0x1d5e23=a0_0x4ac10f;let _0x4e2999=_0x58a288[_0x1d5e23(0x293)][_0x1d5e23(0x261)],_0x3e3588=_0x5dd0f0[_0x1d5e23(0x607)][_0x1d5e23(0x7c1)](_0x407f05=>_0x407f05[_0x1d5e23(0x261)][_0x1d5e23(0x830)]()===_0x4e2999);if(!_0x3e3588){this[_0x1d5e23(0x44e)][_0x1d5e23(0x4f6)](this[_0x1d5e23(0x82b)]+'\x20('+this[_0x1d5e23(0x240)][_0x1d5e23(0x834)]+'):\x20Bloco\x20com\x20ID\x20'+_0x4e2999+_0x1d5e23(0x454));return;}this[_0x1d5e23(0x44e)][_0x1d5e23(0x188)](this[_0x1d5e23(0x82b)]+'\x20('+this[_0x1d5e23(0x240)]['wuid']+_0x1d5e23(0x862)+JSON[_0x1d5e23(0x3cc)](_0x3e3588));let _0x47ca31=JSON[_0x1d5e23(0x1af)](JSON['stringify'](_0x3e3588));_0x47ca31['_id']=new de['default'][(_0x1d5e23(0x28c))][(_0x1d5e23(0x2ae))](),this[_0x1d5e23(0x44e)]['verbose'](this[_0x1d5e23(0x82b)]+'\x20('+this[_0x1d5e23(0x240)][_0x1d5e23(0x834)]+_0x1d5e23(0x6e9)+JSON[_0x1d5e23(0x3cc)](_0x47ca31)),_0x5dd0f0['blocks'][_0x1d5e23(0x304)](_0x47ca31),this[_0x1d5e23(0x1e1)](_0x5dd0f0[_0x1d5e23(0x607)],_0x47ca31[_0x1d5e23(0x5d4)]);}['throwAndLogError'](_0x464d94){const _0x433d83=a0_0x4ac10f;throw this[_0x433d83(0x44e)][_0x433d83(0x4f6)](this['instanceName']+'\x20('+this['instance'][_0x433d83(0x834)]+'):\x20'+_0x464d94),new m(_0x464d94);}[a0_0x4ac10f(0x852)](_0x59e9c5,_0x31f405){const _0x14e12a=a0_0x4ac10f;let {block:_0x3069e6}=_0x31f405;if(_0x3069e6['type']===_0x14e12a(0x1d2)){this[_0x14e12a(0x5a0)](_0x14e12a(0x373));return;}if(!_0x3069e6[_0x14e12a(0x261)]){this[_0x14e12a(0x5a0)](_0x14e12a(0x738));return;}let _0x5a7098=_0x59e9c5[_0x14e12a(0x607)][_0x14e12a(0x7c1)](_0x128621=>_0x128621['_id'][_0x14e12a(0x830)]()===_0x31f405[_0x14e12a(0x293)][_0x14e12a(0x261)][_0x14e12a(0x830)]());if(!_0x5a7098){this[_0x14e12a(0x5a0)](_0x14e12a(0x424)+_0x3069e6[_0x14e12a(0x261)]+_0x14e12a(0x12b));return;}_0x59e9c5['blocks']=_0x59e9c5[_0x14e12a(0x607)]['filter'](_0x4c7d2b=>_0x4c7d2b[_0x14e12a(0x261)][_0x14e12a(0x830)]()!==_0x31f405['block'][_0x14e12a(0x261)]['toString']()),_0x59e9c5[_0x14e12a(0x647)]=_0x59e9c5[_0x14e12a(0x647)][_0x14e12a(0x820)](_0x561620=>_0x561620['blockId']!==_0x3069e6[_0x14e12a(0x261)][_0x14e12a(0x830)]()),_0x59e9c5[_0x14e12a(0x803)]=_0x59e9c5[_0x14e12a(0x803)][_0x14e12a(0x820)](_0x18e272=>_0x18e272[_0x14e12a(0x30f)]!==_0x3069e6[_0x14e12a(0x261)][_0x14e12a(0x830)]()),_0x59e9c5[_0x14e12a(0x592)]=_0x59e9c5[_0x14e12a(0x592)][_0x14e12a(0x820)](_0x47b6f1=>_0x47b6f1['blockId']!==_0x3069e6[_0x14e12a(0x261)][_0x14e12a(0x830)]()),this[_0x14e12a(0x1e1)](_0x59e9c5[_0x14e12a(0x607)],_0x5a7098['groupId']);}async['updateBlock'](_0x4b55bc,_0x262cbc){const _0x344e23=a0_0x4ac10f;let _0x4ed099=_0x4b55bc['blocks']['findIndex'](_0x59371e=>_0x59371e[_0x344e23(0x261)]['toString']()===_0x262cbc['block'][_0x344e23(0x261)]['toString']());if(this[_0x344e23(0x44e)]['verbose'](this['instanceName']+'\x20('+this[_0x344e23(0x240)][_0x344e23(0x834)]+_0x344e23(0x629)+_0x4ed099),_0x4ed099===-0x1){this[_0x344e23(0x44e)]['verbose'](_0x344e23(0x424)+_0x262cbc[_0x344e23(0x293)]['_id']+_0x344e23(0x1eb));return;}if(_0x4b55bc[_0x344e23(0x607)][_0x4ed099]['type']==='start'){let _0x44937f=Object[_0x344e23(0x27b)](_0x262cbc[_0x344e23(0x293)]);if(_0x44937f[_0x344e23(0x30c)]>0x2||_0x44937f[_0x344e23(0x30c)]===0x2&&!_0x44937f['includes'](_0x344e23(0x635))){this[_0x344e23(0x5a0)]('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x2a66c2=_0x4b55bc['blocks'][_0x4ed099]['groupId'];for(let _0x1e36e1 in _0x262cbc[_0x344e23(0x293)])_0x262cbc[_0x344e23(0x293)][_0x344e23(0x79e)](_0x1e36e1)&&(_0x4b55bc['blocks'][_0x4ed099][_0x1e36e1]=_0x262cbc[_0x344e23(0x293)][_0x1e36e1]);if(this['logger'][_0x344e23(0x188)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x344e23(0x3cc)](_0x4b55bc[_0x344e23(0x607)][_0x4ed099])),_0x4b55bc[_0x344e23(0x607)][_0x4ed099]['apirequest']&&_0x344e23(0x800)in _0x4b55bc[_0x344e23(0x607)][_0x4ed099][_0x344e23(0x1e0)]){this['logger']['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x344e23(0x420));let _0xced4b1=JSON['stringify'](_0x4b55bc[_0x344e23(0x607)][_0x4ed099][_0x344e23(0x1e0)][_0x344e23(0x800)],null,0x1);_0xced4b1['length']>0x2&&(_0xced4b1=_0xced4b1[_0x344e23(0x27a)](0x1,_0xced4b1['length']-0x1)[_0x344e23(0x17d)]()),_0x4b55bc['blocks'][_0x4ed099][_0x344e23(0x1e0)][_0x344e23(0x7b3)]=_0xced4b1;}if(_0x4b55bc[_0x344e23(0x607)][_0x4ed099]['apirequest']&&_0x344e23(0x831)in _0x4b55bc['blocks'][_0x4ed099][_0x344e23(0x1e0)]&&!(_0x344e23(0x7eb)in _0x4b55bc[_0x344e23(0x607)][_0x4ed099][_0x344e23(0x1e0)])){this[_0x344e23(0x44e)][_0x344e23(0x188)](this[_0x344e23(0x82b)]+'\x20('+this['instance'][_0x344e23(0x834)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x4b55bc[_0x344e23(0x607)][_0x4ed099][_0x344e23(0x1e0)][_0x344e23(0x570)]=!0x1;let _0x5ddbaa=JSON[_0x344e23(0x3cc)](_0x4b55bc[_0x344e23(0x607)][_0x4ed099][_0x344e23(0x1e0)][_0x344e23(0x831)],null,0x2);_0x4b55bc[_0x344e23(0x607)][_0x4ed099]['apirequest']['bodyString']=_0x5ddbaa;}if(_0x4b55bc[_0x344e23(0x607)][_0x4ed099][_0x344e23(0x1e0)]&&_0x344e23(0x7eb)in _0x4b55bc[_0x344e23(0x607)][_0x4ed099]['apirequest']){_0x4b55bc[_0x344e23(0x607)][_0x4ed099]['apirequest'][_0x344e23(0x570)]=!0x1;let _0x2c7c50=_0x4b55bc[_0x344e23(0x607)][_0x4ed099][_0x344e23(0x1e0)][_0x344e23(0x7eb)],_0x46e8ed=this[_0x344e23(0x7cd)](_0x2c7c50);_0x4b55bc['blocks'][_0x4ed099]['apirequest'][_0x344e23(0x7eb)]=_0x46e8ed['result'],_0x4b55bc[_0x344e23(0x607)][_0x4ed099][_0x344e23(0x1e0)][_0x344e23(0x570)]=_0x46e8ed[_0x344e23(0x4f6)];}let _0x4197d6=_0x4b55bc['blocks'][_0x4ed099][_0x344e23(0x5d4)];_0x2a66c2!==_0x4197d6?(this[_0x344e23(0x1e1)](_0x4b55bc[_0x344e23(0x607)],_0x2a66c2),this['reorderBlocks'](_0x4b55bc[_0x344e23(0x607)],_0x4197d6)):this[_0x344e23(0x1e1)](_0x4b55bc[_0x344e23(0x607)],_0x2a66c2);}[a0_0x4ac10f(0x7cd)](_0x5c9c4f){const _0x443676=a0_0x4ac10f;let _0x9f812f='\u205f',_0x2d2fa9=!0x1,_0x33a400='';for(let _0x2fb6c2=0x0;_0x2fb6c2<_0x5c9c4f[_0x443676(0x30c)];_0x2fb6c2++){let _0xff35cb=_0x5c9c4f[_0x2fb6c2];_0xff35cb==='\x22'&&(_0x2fb6c2===0x0||_0x5c9c4f[_0x2fb6c2-0x1]!=='\x5c')&&(_0x2d2fa9=!_0x2d2fa9),!(!_0x2d2fa9&&(_0xff35cb==='\x0a'||_0xff35cb==='\x20'||_0xff35cb===_0x9f812f))&&(_0x33a400+=_0xff35cb);}let _0x2cc4dc={},_0x87b329=9876543210.1234,_0x2016f2=_0x33a400[_0x443676(0x527)](/\{\{([^}]+)\}\}/g,_0x47494a=>{let _0x3ee8ec=_0x47494a,_0x58c0eb=''+_0x87b329;return _0x2cc4dc[_0x58c0eb]=_0x3ee8ec,_0x87b329+=0.0001,_0x58c0eb;}),_0xb96c24='',_0x4697df=!0x1;try{let _0x3b193f=JSON[_0x443676(0x1af)](_0x2016f2);_0xb96c24=JSON['stringify'](_0x3b193f,null,0x2),_0xb96c24=_0xb96c24[_0x443676(0x527)](/\n( +)/g,(_0x54a1e1,_0x389c74)=>{const _0x1c948a=_0x443676;let _0x158894=_0x389c74[_0x1c948a(0x30c)];return'\x0a'+_0x9f812f['repeat'](_0x158894*0x2);}),_0xb96c24=_0xb96c24[_0x443676(0x527)](/(\d{10,}\.\d+)/g,_0x487232=>_0x2cc4dc[_0x487232]||_0x487232);}catch(_0x4f6004){this[_0x443676(0x44e)][_0x443676(0x4f6)](_0x443676(0x47d)+_0x4f6004),_0xb96c24=_0x5c9c4f,_0x4697df=!0x0;}return{'result':_0xb96c24,'error':_0x4697df};}[a0_0x4ac10f(0x3f8)](_0x481af9,_0x3e3f97){const _0x5764cf=a0_0x4ac10f;if(_0x3e3f97[_0x5764cf(0x293)][_0x5764cf(0x14f)]==='start'){this[_0x5764cf(0x5a0)](_0x5764cf(0x1d9));return;}if(_0x3e3f97[_0x5764cf(0x293)]['apirequest']&&_0x5764cf(0x800)in _0x3e3f97['block'][_0x5764cf(0x1e0)]){this[_0x5764cf(0x44e)][_0x5764cf(0x188)](this[_0x5764cf(0x82b)]+'\x20('+this[_0x5764cf(0x240)]['wuid']+_0x5764cf(0x420));let _0x70fb5a=JSON['stringify'](_0x3e3f97['block'][_0x5764cf(0x1e0)][_0x5764cf(0x800)],null,0x1);_0x70fb5a[_0x5764cf(0x30c)]>0x2&&(_0x70fb5a=_0x70fb5a['substring'](0x1,_0x70fb5a[_0x5764cf(0x30c)]-0x1)[_0x5764cf(0x17d)]()),_0x3e3f97['block'][_0x5764cf(0x1e0)][_0x5764cf(0x7b3)]=_0x70fb5a;}_0x3e3f97[_0x5764cf(0x293)][_0x5764cf(0x1e0)]&&'body'in _0x3e3f97[_0x5764cf(0x293)][_0x5764cf(0x1e0)]&&(this[_0x5764cf(0x44e)][_0x5764cf(0x188)](this[_0x5764cf(0x82b)]+'\x20('+this[_0x5764cf(0x240)]['wuid']+_0x5764cf(0x4aa)),_0x3e3f97[_0x5764cf(0x293)][_0x5764cf(0x1e0)][_0x5764cf(0x7eb)]=JSON[_0x5764cf(0x3cc)](_0x3e3f97[_0x5764cf(0x293)][_0x5764cf(0x1e0)][_0x5764cf(0x831)],null,0x1)[_0x5764cf(0x17d)]()),_0x481af9[_0x5764cf(0x607)][_0x5764cf(0x304)](_0x3e3f97['block']),this['reorderBlocks'](_0x481af9[_0x5764cf(0x607)],_0x3e3f97[_0x5764cf(0x293)]['groupId']);}['reorderBlocks'](_0x13316f,_0xe36947){const _0xee6bf8=a0_0x4ac10f;let _0x19aaec=_0x13316f['filter'](_0x324a9b=>_0x324a9b[_0xee6bf8(0x5d4)]===_0xe36947);_0x19aaec[_0xee6bf8(0x733)]((_0x43edef,_0x4e8e74)=>_0x43edef[_0xee6bf8(0x82d)]-_0x4e8e74[_0xee6bf8(0x82d)]),_0x19aaec[_0xee6bf8(0x843)]((_0x1968aa,_0xe4471c)=>_0x1968aa[_0xee6bf8(0x82d)]=_0xe4471c+0x1);}async[a0_0x4ac10f(0x1b9)](_0x5b44f5){const _0x4b54e3=a0_0x4ac10f;try{if(this['logger'][_0x4b54e3(0x188)](this[_0x4b54e3(0x82b)]+'\x20('+this[_0x4b54e3(0x240)][_0x4b54e3(0x834)]+_0x4b54e3(0x59d)),!_0x5b44f5||!_0x5b44f5[_0x4b54e3(0x5fd)]){this[_0x4b54e3(0x5a0)](_0x4b54e3(0x30b));return;}if(!this[_0x4b54e3(0x711)][_0x4b54e3(0x649)][_0x4b54e3(0x7c1)](_0x2128a0=>_0x2128a0[_0x4b54e3(0x261)]===_0x5b44f5[_0x4b54e3(0x261)]))throw this[_0x4b54e3(0x44e)][_0x4b54e3(0x188)](this[_0x4b54e3(0x82b)]+'\x20('+this[_0x4b54e3(0x240)][_0x4b54e3(0x834)]+_0x4b54e3(0x2cc)+_0x5b44f5[_0x4b54e3(0x261)]+_0x4b54e3(0x84e)),new m(_0x4b54e3(0x40a));let _0x46a6bc=await this['repository'][_0x4b54e3(0x7fa)][_0x4b54e3(0x349)]({'where':{'_id':_0x5b44f5['_id']}});if(!_0x46a6bc||!_0x46a6bc['whoCanUse']?.['includes'](this[_0x4b54e3(0x240)][_0x4b54e3(0x834)]))throw this[_0x4b54e3(0x44e)][_0x4b54e3(0x4f6)](this[_0x4b54e3(0x82b)]+'\x20('+this[_0x4b54e3(0x240)][_0x4b54e3(0x834)]+_0x4b54e3(0x86d)+_0x5b44f5[_0x4b54e3(0x261)]+_0x4b54e3(0x2df)),new m('Flow\x20\x27'+_0x5b44f5['_id']+_0x4b54e3(0x2df));if(!_0x46a6bc[_0x4b54e3(0x272)]?.[_0x4b54e3(0x19a)](this[_0x4b54e3(0x240)]['wuid']))throw new m(_0x4b54e3(0x838));let {replyOption:_0x2f2da1}=_0x5b44f5;_0x2f2da1?.[_0x4b54e3(0x399)]?(this[_0x4b54e3(0x4bb)](_0x46a6bc,_0x5b44f5),this[_0x4b54e3(0x12a)](_0x46a6bc[_0x4b54e3(0x592)],_0x5b44f5[_0x4b54e3(0x5fd)][_0x4b54e3(0x30f)])):_0x2f2da1['_id']?(await this[_0x4b54e3(0x691)](_0x46a6bc,_0x5b44f5),this['reorderReplyOptions'](_0x46a6bc[_0x4b54e3(0x592)],_0x5b44f5[_0x4b54e3(0x5fd)]['blockId'])):(this[_0x4b54e3(0x3b1)](_0x46a6bc,_0x5b44f5),this[_0x4b54e3(0x12a)](_0x46a6bc[_0x4b54e3(0x592)],_0x5b44f5[_0x4b54e3(0x5fd)][_0x4b54e3(0x30f)]));let _0x202316=await this[_0x4b54e3(0x37d)]['flow']['updateOne'](_0x46a6bc[_0x4b54e3(0x261)],_0x46a6bc);if(!_0x202316)throw new Error(_0x4b54e3(0x3d2));return _0x202316;}catch(_0x57d829){this[_0x4b54e3(0x5a0)]('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x57d829);}}[a0_0x4ac10f(0x12a)](_0x2752e1,_0x314590){const _0x323060=a0_0x4ac10f;_0x2752e1[_0x323060(0x843)](_0x344d1a=>{const _0x12ac11=_0x323060;_0x344d1a[_0x12ac11(0x30f)]===_0x314590&&_0x344d1a[_0x12ac11(0x82d)]===void 0x0&&(_0x344d1a[_0x12ac11(0x82d)]=0x270f);});let _0x5c9dcb=_0x2752e1[_0x323060(0x820)](_0x3d4c4c=>_0x3d4c4c[_0x323060(0x30f)]===_0x314590);_0x5c9dcb[_0x323060(0x733)]((_0x33f329,_0x3b58ef)=>_0x33f329[_0x323060(0x82d)]-_0x3b58ef[_0x323060(0x82d)]),_0x5c9dcb[_0x323060(0x843)]((_0x47e65f,_0x4b71ba)=>{const _0x21cfed=_0x323060;_0x47e65f[_0x21cfed(0x82d)]=_0x4b71ba+0x1;}),_0x2752e1[_0x323060(0x843)](_0x361966=>{const _0x523a28=_0x323060;if(_0x361966[_0x523a28(0x30f)]===_0x314590){let _0x13d94b=_0x5c9dcb[_0x523a28(0x7c1)](_0x17fb60=>_0x17fb60['_id']&&_0x361966[_0x523a28(0x261)]&&_0x17fb60[_0x523a28(0x261)][_0x523a28(0x830)]()===_0x361966[_0x523a28(0x261)][_0x523a28(0x830)]());_0x13d94b&&(_0x361966['order']=_0x13d94b[_0x523a28(0x82d)]);}});}[a0_0x4ac10f(0x4bb)](_0x4f3abb,_0x39ae5a){const _0x172f07=a0_0x4ac10f;let {replyOption:_0x50f0bb}=_0x39ae5a;if(!_0x50f0bb[_0x172f07(0x261)]){this[_0x172f07(0x5a0)](_0x172f07(0x791));return;}if(!_0x4f3abb[_0x172f07(0x592)][_0x172f07(0x7c1)](_0x175523=>_0x175523[_0x172f07(0x261)][_0x172f07(0x830)]()===_0x39ae5a['replyOption'][_0x172f07(0x261)][_0x172f07(0x830)]())){this[_0x172f07(0x5a0)](_0x172f07(0x3bd)+_0x50f0bb['_id']+_0x172f07(0x12b));return;}_0x4f3abb['replyOptions']=_0x4f3abb['replyOptions'][_0x172f07(0x820)](_0x937dae=>_0x937dae[_0x172f07(0x261)]['toString']()!==_0x39ae5a['replyOption'][_0x172f07(0x261)]['toString']());}async[a0_0x4ac10f(0x691)](_0x577c89,_0xbe4a7f){const _0x3c5432=a0_0x4ac10f;let _0x3eff93=_0x577c89['replyOptions']['findIndex'](_0xd005cf=>_0xd005cf['_id'][_0x3c5432(0x830)]()===_0xbe4a7f[_0x3c5432(0x5fd)][_0x3c5432(0x261)][_0x3c5432(0x830)]());if(_0x3eff93===-0x1){this[_0x3c5432(0x5a0)](_0x3c5432(0x3bd)+_0xbe4a7f[_0x3c5432(0x5fd)][_0x3c5432(0x261)]+_0x3c5432(0x1eb));return;}for(let _0x5d34b1 in _0xbe4a7f['replyOption'])_0xbe4a7f[_0x3c5432(0x5fd)]['hasOwnProperty'](_0x5d34b1)&&(_0x577c89['replyOptions'][_0x3eff93][_0x5d34b1]=_0xbe4a7f[_0x3c5432(0x5fd)][_0x5d34b1]);}[a0_0x4ac10f(0x3b1)](_0x1f81ab,_0x54bdf7){const _0x239f21=a0_0x4ac10f;_0x1f81ab[_0x239f21(0x592)][_0x239f21(0x304)](_0x54bdf7[_0x239f21(0x5fd)]);}async['editFlowGroup'](_0xb8e0a3){const _0x4c94a8=a0_0x4ac10f;this[_0x4c94a8(0x44e)][_0x4c94a8(0x188)](this[_0x4c94a8(0x82b)]+'\x20('+this[_0x4c94a8(0x240)]['wuid']+_0x4c94a8(0x1cd)+JSON[_0x4c94a8(0x3cc)](_0xb8e0a3,null,0x2));try{if(this['logger']['verbose'](this[_0x4c94a8(0x82b)]+'\x20('+this['instance']['wuid']+'):\x20Editando\x20grupo\x20do\x20fluxo...'),!this[_0x4c94a8(0x711)][_0x4c94a8(0x649)][_0x4c94a8(0x7c1)](_0x283569=>_0x283569['_id']===_0xb8e0a3['_id']))throw this[_0x4c94a8(0x44e)][_0x4c94a8(0x188)](this['instanceName']+'\x20('+this[_0x4c94a8(0x240)][_0x4c94a8(0x834)]+_0x4c94a8(0x2cc)+_0xb8e0a3[_0x4c94a8(0x261)]+_0x4c94a8(0x84e)),new m(_0x4c94a8(0x40a));let _0x3cc122=await this['repository']['flow'][_0x4c94a8(0x349)]({'where':{'_id':_0xb8e0a3[_0x4c94a8(0x261)]}});if(!_0x3cc122||!_0x3cc122[_0x4c94a8(0x865)]?.[_0x4c94a8(0x19a)](this[_0x4c94a8(0x240)]['wuid']))throw this[_0x4c94a8(0x44e)][_0x4c94a8(0x4f6)](this[_0x4c94a8(0x82b)]+'\x20('+this['instance']['wuid']+_0x4c94a8(0x86d)+_0xb8e0a3[_0x4c94a8(0x261)]+_0x4c94a8(0x2df)),new m(_0x4c94a8(0x2cb)+_0xb8e0a3[_0x4c94a8(0x261)]+_0x4c94a8(0x2df));if(!_0x3cc122[_0x4c94a8(0x272)]?.['includes'](this[_0x4c94a8(0x240)][_0x4c94a8(0x834)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');if(_0xb8e0a3[_0x4c94a8(0x53d)]&&_0xb8e0a3[_0x4c94a8(0x53d)]?.[_0x4c94a8(0x399)]===!0x0){if(this[_0x4c94a8(0x44e)][_0x4c94a8(0x188)](this[_0x4c94a8(0x82b)]+'\x20('+this['instance'][_0x4c94a8(0x834)]+_0x4c94a8(0x5d2)),_0xb8e0a3[_0x4c94a8(0x53d)]['default']===!0x0)return{'message':_0x4c94a8(0x73b)};if(_0x3cc122['blocks'][_0x4c94a8(0x41a)](_0x3a505f=>_0x3a505f['groupId']['toString']()===_0xb8e0a3[_0x4c94a8(0x53d)][_0x4c94a8(0x261)]))return this[_0x4c94a8(0x44e)][_0x4c94a8(0x188)](this[_0x4c94a8(0x82b)]+'\x20('+this[_0x4c94a8(0x240)][_0x4c94a8(0x834)]+_0x4c94a8(0x44d)),{'message':_0x4c94a8(0x215)};_0x3cc122[_0x4c94a8(0x323)]=_0x3cc122[_0x4c94a8(0x323)][_0x4c94a8(0x820)](_0x4df6f9=>_0x4df6f9[_0x4c94a8(0x261)]['toString']()!==_0xb8e0a3['group']['_id']);}else{if(_0xb8e0a3[_0x4c94a8(0x53d)]){if(_0xb8e0a3[_0x4c94a8(0x53d)]['default']===!0x0)return{'message':_0x4c94a8(0x340)};if(_0xb8e0a3[_0x4c94a8(0x53d)][_0x4c94a8(0x261)]){let _0x5a7cb7=_0x3cc122[_0x4c94a8(0x323)][_0x4c94a8(0x7c1)](_0x3e29b1=>_0x3e29b1[_0x4c94a8(0x261)][_0x4c94a8(0x830)]()===_0xb8e0a3['group']['_id']);_0x5a7cb7&&(_0xb8e0a3[_0x4c94a8(0x53d)]['x']<0x0&&(_0xb8e0a3[_0x4c94a8(0x53d)]['x']=0x0),_0xb8e0a3[_0x4c94a8(0x53d)]['y']<0x0&&(_0xb8e0a3[_0x4c94a8(0x53d)]['y']=0x0),Object['assign'](_0x5a7cb7,_0xb8e0a3[_0x4c94a8(0x53d)]));}else _0x3cc122[_0x4c94a8(0x323)][_0x4c94a8(0x304)](_0xb8e0a3['group']);}}let _0x539ed5=await this['repository']['flow'][_0x4c94a8(0x191)](_0x3cc122[_0x4c94a8(0x261)],_0x3cc122);if(!_0x539ed5)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x539ed5;}catch(_0x2a1b7b){let _0x46d411=_0x4c94a8(0x60b),_0x1a16fe=_0x2a1b7b instanceof Error?_0x2a1b7b[_0x4c94a8(0x552)]:typeof _0x2a1b7b==_0x4c94a8(0x7e5)?JSON[_0x4c94a8(0x3cc)](_0x2a1b7b):_0x2a1b7b,_0x4a5a43=_0x46d411+':\x20'+_0x1a16fe;throw this['logger'][_0x4c94a8(0x4f6)](this[_0x4c94a8(0x82b)]+'\x20('+this[_0x4c94a8(0x240)]['wuid']+_0x4c94a8(0x309)+_0x4a5a43),new m(_0x4a5a43);}}async['editFlowCondition'](_0x768d0c){const _0x223e50=a0_0x4ac10f;try{if(this[_0x223e50(0x44e)][_0x223e50(0x188)](this[_0x223e50(0x82b)]+'\x20('+this[_0x223e50(0x240)][_0x223e50(0x834)]+_0x223e50(0x56e)),!this[_0x223e50(0x711)][_0x223e50(0x649)]['find'](_0x5aba56=>_0x5aba56[_0x223e50(0x261)]===_0x768d0c[_0x223e50(0x261)]))throw this['logger'][_0x223e50(0x188)](this['instanceName']+'\x20('+this[_0x223e50(0x240)][_0x223e50(0x834)]+_0x223e50(0x2cc)+_0x768d0c[_0x223e50(0x261)]+_0x223e50(0x84e)),new m(_0x223e50(0x40a));let _0x594707=await this[_0x223e50(0x37d)][_0x223e50(0x7fa)][_0x223e50(0x349)]({'where':{'_id':_0x768d0c[_0x223e50(0x261)]}});if(!_0x594707||!_0x594707[_0x223e50(0x865)]?.[_0x223e50(0x19a)](this[_0x223e50(0x240)]['wuid']))throw this[_0x223e50(0x44e)]['error'](this[_0x223e50(0x82b)]+'\x20('+this['instance'][_0x223e50(0x834)]+'):\x20Flow\x20\x27'+_0x768d0c[_0x223e50(0x261)]+_0x223e50(0x2df)),new m(_0x223e50(0x2cb)+_0x768d0c[_0x223e50(0x261)]+_0x223e50(0x2df));if(!_0x594707[_0x223e50(0x272)]?.[_0x223e50(0x19a)](this['instance'][_0x223e50(0x834)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let _0x1ec6c3=!0x1;if(_0x768d0c[_0x223e50(0x24a)]?.['delete']===!0x0)_0x594707[_0x223e50(0x647)]=_0x594707['conditions'][_0x223e50(0x820)](_0x235cbb=>_0x235cbb&&_0x768d0c[_0x223e50(0x24a)]&&_0x235cbb[_0x223e50(0x261)]&&_0x768d0c['condition']['_id']&&_0x235cbb['_id'][_0x223e50(0x830)]()!==_0x768d0c[_0x223e50(0x24a)][_0x223e50(0x261)][_0x223e50(0x830)]()),_0x1ec6c3=!0x0;else{let _0x9d039b=_0x594707[_0x223e50(0x647)]['find'](_0x5c718d=>_0x5c718d&&_0x768d0c[_0x223e50(0x24a)]&&_0x5c718d[_0x223e50(0x261)]&&_0x768d0c[_0x223e50(0x24a)][_0x223e50(0x261)]&&_0x5c718d['_id'][_0x223e50(0x830)]()===_0x768d0c[_0x223e50(0x24a)][_0x223e50(0x261)]['toString']());_0x9d039b?(_0x1ec6c3=_0x9d039b['order']!==_0x768d0c[_0x223e50(0x24a)][_0x223e50(0x82d)],Object[_0x223e50(0x660)](_0x9d039b,_0x768d0c[_0x223e50(0x24a)])):(_0x594707[_0x223e50(0x647)][_0x223e50(0x304)](_0x768d0c['condition']),_0x1ec6c3=!0x0);}if(_0x1ec6c3){_0x594707[_0x223e50(0x647)][_0x223e50(0x733)]((_0x224d52,_0x2f5378)=>_0x224d52[_0x223e50(0x82d)]>_0x2f5378['order']?0x1:_0x2f5378[_0x223e50(0x82d)]>_0x224d52[_0x223e50(0x82d)]?-0x1:0x0);for(let _0x55ea98=0x0;_0x55ea98<_0x594707[_0x223e50(0x647)][_0x223e50(0x30c)];_0x55ea98++)_0x594707[_0x223e50(0x647)][_0x55ea98]['order']=_0x55ea98+0x1;_0x594707[_0x223e50(0x647)][_0x223e50(0x30c)]>0x0&&(_0x594707['conditions'][0x0][_0x223e50(0x622)]='and');}let _0x3d834f=await this[_0x223e50(0x37d)][_0x223e50(0x7fa)][_0x223e50(0x191)](_0x594707[_0x223e50(0x261)],_0x594707);if(!_0x3d834f)throw new Error(_0x223e50(0x3d2));return _0x3d834f;}catch(_0x1b5357){let _0x32ced1='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0xc3dd78=_0x1b5357 instanceof Error?_0x1b5357[_0x223e50(0x552)]:typeof _0x1b5357=='object'?JSON['stringify'](_0x1b5357):_0x1b5357,_0x4acb8c=_0x32ced1+':\x20'+_0xc3dd78;throw this[_0x223e50(0x44e)][_0x223e50(0x4f6)](this[_0x223e50(0x82b)]+'\x20('+this[_0x223e50(0x240)][_0x223e50(0x834)]+_0x223e50(0x309)+_0x4acb8c),new m(_0x4acb8c);}}async[a0_0x4ac10f(0x198)](_0x1fac02){const _0x3dcdf1=a0_0x4ac10f;try{if(this['logger'][_0x3dcdf1(0x188)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3dcdf1(0x49d)),!this[_0x3dcdf1(0x711)][_0x3dcdf1(0x649)][_0x3dcdf1(0x7c1)](_0xa35c54=>_0xa35c54[_0x3dcdf1(0x261)]===_0x1fac02[_0x3dcdf1(0x261)]))throw this[_0x3dcdf1(0x44e)]['verbose'](this[_0x3dcdf1(0x82b)]+'\x20('+this[_0x3dcdf1(0x240)]['wuid']+'):\x20Fluxo\x20\x27'+_0x1fac02['_id']+_0x3dcdf1(0x84e)),new m(_0x3dcdf1(0x40a));let _0x551489=await this[_0x3dcdf1(0x37d)][_0x3dcdf1(0x7fa)][_0x3dcdf1(0x349)]({'where':{'_id':_0x1fac02[_0x3dcdf1(0x261)]}});if(!_0x551489||!_0x551489[_0x3dcdf1(0x865)]?.['includes'](this[_0x3dcdf1(0x240)][_0x3dcdf1(0x834)]))throw this['logger'][_0x3dcdf1(0x4f6)](this['instanceName']+'\x20('+this[_0x3dcdf1(0x240)][_0x3dcdf1(0x834)]+_0x3dcdf1(0x86d)+_0x1fac02[_0x3dcdf1(0x261)]+_0x3dcdf1(0x2df)),new m('Flow\x20\x27'+_0x1fac02['_id']+_0x3dcdf1(0x2df));if(!_0x551489[_0x3dcdf1(0x272)]?.[_0x3dcdf1(0x19a)](this[_0x3dcdf1(0x240)][_0x3dcdf1(0x834)]))throw new m(_0x3dcdf1(0x838));let _0x498a82=!0x1;if(_0x1fac02[_0x3dcdf1(0x228)]?.[_0x3dcdf1(0x399)]===!0x0)_0x551489[_0x3dcdf1(0x803)]=_0x551489[_0x3dcdf1(0x803)]['filter'](_0x593eb5=>_0x593eb5&&_0x1fac02['varedit']&&_0x593eb5['_id']&&_0x1fac02[_0x3dcdf1(0x228)][_0x3dcdf1(0x261)]&&_0x593eb5['_id'][_0x3dcdf1(0x830)]()!==_0x1fac02[_0x3dcdf1(0x228)]['_id'][_0x3dcdf1(0x830)]()),_0x498a82=!0x0;else{let _0x2610a5=_0x551489[_0x3dcdf1(0x803)][_0x3dcdf1(0x7c1)](_0x117d84=>_0x117d84&&_0x1fac02['varedit']&&_0x117d84[_0x3dcdf1(0x261)]&&_0x1fac02[_0x3dcdf1(0x228)][_0x3dcdf1(0x261)]&&_0x117d84['_id'][_0x3dcdf1(0x830)]()===_0x1fac02['varedit'][_0x3dcdf1(0x261)]['toString']());_0x2610a5?(_0x498a82=_0x2610a5[_0x3dcdf1(0x82d)]!==_0x1fac02['varedit'][_0x3dcdf1(0x82d)],Object[_0x3dcdf1(0x660)](_0x2610a5,_0x1fac02[_0x3dcdf1(0x228)])):(_0x551489['varedits']['push'](_0x1fac02[_0x3dcdf1(0x228)]),_0x498a82=!0x0);}if(_0x498a82){_0x551489[_0x3dcdf1(0x803)][_0x3dcdf1(0x733)]((_0x3d36e3,_0x4f5e66)=>_0x3d36e3[_0x3dcdf1(0x82d)]>_0x4f5e66[_0x3dcdf1(0x82d)]?0x1:_0x4f5e66[_0x3dcdf1(0x82d)]>_0x3d36e3['order']?-0x1:0x0);for(let _0x245dd8=0x0;_0x245dd8<_0x551489[_0x3dcdf1(0x803)][_0x3dcdf1(0x30c)];_0x245dd8++)_0x551489[_0x3dcdf1(0x803)][_0x245dd8][_0x3dcdf1(0x82d)]=_0x245dd8+0x1;}let _0x2c306f=await this[_0x3dcdf1(0x37d)]['flow'][_0x3dcdf1(0x191)](_0x551489[_0x3dcdf1(0x261)],_0x551489);if(!_0x2c306f)throw new Error(_0x3dcdf1(0x3d2));return _0x2c306f;}catch(_0x1136f0){let _0x22dea9=_0x3dcdf1(0x7e3),_0x5e7078=_0x1136f0 instanceof Error?_0x1136f0['message']:typeof _0x1136f0=='object'?JSON['stringify'](_0x1136f0):_0x1136f0,_0x5558d0=_0x22dea9+':\x20'+_0x5e7078;throw this[_0x3dcdf1(0x44e)][_0x3dcdf1(0x4f6)](this[_0x3dcdf1(0x82b)]+'\x20('+this[_0x3dcdf1(0x240)][_0x3dcdf1(0x834)]+_0x3dcdf1(0x309)+_0x5558d0),new m(_0x5558d0);}}async[a0_0x4ac10f(0x42b)](_0x3bf064){const _0x4f4df1=a0_0x4ac10f;try{if(this[_0x4f4df1(0x44e)]['verbose'](this[_0x4f4df1(0x82b)]+'\x20('+this[_0x4f4df1(0x240)][_0x4f4df1(0x834)]+'):\x20Editando\x20variável\x20do\x20fluxo...'),!this['AutomateSystem'][_0x4f4df1(0x649)]['find'](_0xb5e187=>_0xb5e187['_id']===_0x3bf064[_0x4f4df1(0x261)]))throw this[_0x4f4df1(0x44e)][_0x4f4df1(0x188)](this[_0x4f4df1(0x82b)]+'\x20('+this['instance'][_0x4f4df1(0x834)]+_0x4f4df1(0x2cc)+_0x3bf064['_id']+'\x27\x20não\x20encontrado'),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x380553=await this['repository']['flow'][_0x4f4df1(0x349)]({'where':{'_id':_0x3bf064[_0x4f4df1(0x261)]}});if(!_0x380553||!_0x380553[_0x4f4df1(0x865)]?.['includes'](this[_0x4f4df1(0x240)][_0x4f4df1(0x834)]))throw this[_0x4f4df1(0x44e)][_0x4f4df1(0x4f6)](this[_0x4f4df1(0x82b)]+'\x20('+this[_0x4f4df1(0x240)][_0x4f4df1(0x834)]+_0x4f4df1(0x86d)+_0x3bf064[_0x4f4df1(0x261)]+_0x4f4df1(0x2df)),new m('Flow\x20\x27'+_0x3bf064[_0x4f4df1(0x261)]+_0x4f4df1(0x2df));if(!_0x380553['whoCanEdit']?.['includes'](this['instance'][_0x4f4df1(0x834)]))throw new m(_0x4f4df1(0x838));_0x3bf064[_0x4f4df1(0x314)][_0x4f4df1(0x80a)]=_0x3bf064[_0x4f4df1(0x314)][_0x4f4df1(0x80a)][_0x4f4df1(0x17d)](),_0x3bf064[_0x4f4df1(0x314)][_0x4f4df1(0x80a)][_0x4f4df1(0x231)]('_')&&(_0x3bf064[_0x4f4df1(0x314)][_0x4f4df1(0x80a)]=_0x3bf064[_0x4f4df1(0x314)][_0x4f4df1(0x80a)][_0x4f4df1(0x27a)](0x1)),_0x3bf064['variable'][_0x4f4df1(0x80a)]=_0x3bf064[_0x4f4df1(0x314)]['name'][_0x4f4df1(0x17d)]();let _0x5cce95=_0x380553[_0x4f4df1(0x386)][_0x4f4df1(0x7c1)](_0x47d2f7=>_0x47d2f7[_0x4f4df1(0x80a)]===_0x3bf064['variable'][_0x4f4df1(0x80a)]);if(_0x5cce95?.['leadInfo']===!0x0)throw new Error(_0x4f4df1(0x4a8));if(_0x3bf064[_0x4f4df1(0x314)]?.[_0x4f4df1(0x399)]===!0x0){if(!_0x5cce95)return{'message':_0x4f4df1(0x2fe)};_0x380553[_0x4f4df1(0x386)]=_0x380553[_0x4f4df1(0x386)][_0x4f4df1(0x820)](_0x15ba82=>_0x15ba82[_0x4f4df1(0x80a)]!==_0x3bf064[_0x4f4df1(0x314)][_0x4f4df1(0x80a)]);}else _0x5cce95?Object['assign'](_0x5cce95,_0x3bf064[_0x4f4df1(0x314)]):_0x380553['variables']['push'](_0x3bf064[_0x4f4df1(0x314)]);let _0x11d0fe=await this['repository'][_0x4f4df1(0x7fa)][_0x4f4df1(0x191)](_0x380553[_0x4f4df1(0x261)],_0x380553);if(!_0x11d0fe)throw new Error(_0x4f4df1(0x3d2));return _0x11d0fe;}catch(_0x4200be){let _0x32c4f2=_0x4f4df1(0x16d),_0x5b6479=_0x4200be instanceof Error?_0x4200be[_0x4f4df1(0x552)]:typeof _0x4200be=='object'?JSON['stringify'](_0x4200be):_0x4200be,_0x1249cb=_0x32c4f2+':\x20'+_0x5b6479;throw this[_0x4f4df1(0x44e)][_0x4f4df1(0x4f6)](this[_0x4f4df1(0x82b)]+'\x20('+this['instance'][_0x4f4df1(0x834)]+'):\x20'+_0x1249cb),new m(_0x1249cb);}}async['startFlow'](_0xe82984){const _0x1de62c=a0_0x4ac10f;let _0x4b7eea=null;try{if(!this[_0x1de62c(0x711)]?.[_0x1de62c(0x639)]['enabled'])throw new m(_0x1de62c(0x3e2));this[_0x1de62c(0x44e)]['verbose'](this[_0x1de62c(0x82b)]+'\x20('+this['instance'][_0x1de62c(0x834)]+_0x1de62c(0x597));let _0x493660=(await this['whatsappNumber']({'numbers':[_0xe82984[_0x1de62c(0x6e1)]]}))[0x0];if(!_0x493660[_0x1de62c(0x659)]&&!(0x0,w['isJidGroup'])(_0x493660[_0x1de62c(0x49b)])&&!_0x493660[_0x1de62c(0x49b)][_0x1de62c(0x19a)](_0x1de62c(0x836)))throw _0x4b7eea=JSON['stringify'](_0x493660,null,0x2),new m(_0x493660);let _0x47c39e;if(_0xe82984[_0x1de62c(0x80a)]['length']===0x24&&/^[0-9a-fA-F-]{36}$/[_0x1de62c(0x4fb)](_0xe82984[_0x1de62c(0x80a)])?_0x47c39e=this['AutomateSystem'][_0x1de62c(0x649)][_0x1de62c(0x7c1)](_0x4d9a40=>_0x4d9a40[_0x1de62c(0x261)]===_0xe82984['name']):_0x47c39e=this[_0x1de62c(0x711)][_0x1de62c(0x649)][_0x1de62c(0x7c1)](_0x616920=>_0x616920[_0x1de62c(0x80a)]===_0xe82984[_0x1de62c(0x80a)]),!_0x47c39e)throw this['logger']['verbose'](this[_0x1de62c(0x82b)]+'\x20('+this[_0x1de62c(0x240)][_0x1de62c(0x834)]+_0x1de62c(0x2cc)+_0xe82984[_0x1de62c(0x80a)]+_0x1de62c(0x84e)),new m(_0x1de62c(0x40a));let _0x10fc1e=await this['repository'][_0x1de62c(0x7fa)][_0x1de62c(0x349)]({'where':{'_id':_0x47c39e[_0x1de62c(0x261)]}});if(!_0x10fc1e||!_0x10fc1e[_0x1de62c(0x865)]?.[_0x1de62c(0x19a)](this['instance'][_0x1de62c(0x834)]))throw this[_0x1de62c(0x44e)][_0x1de62c(0x4f6)](this['instanceName']+'\x20('+this[_0x1de62c(0x240)]['wuid']+_0x1de62c(0x86d)+_0x47c39e[_0x1de62c(0x261)]+_0x1de62c(0x2df)),_0x4b7eea=_0x1de62c(0x2cb)+_0x47c39e['_id']+_0x1de62c(0x2df),new m(_0x4b7eea);let _0x4a2713=await this[_0x1de62c(0x3a0)](_0x10fc1e,_0x493660[_0x1de62c(0x49b)],_0xe82984[_0x1de62c(0x6cf)]);if(_0x4a2713){this[_0x1de62c(0x44e)][_0x1de62c(0x188)](this[_0x1de62c(0x82b)]+'\x20('+this[_0x1de62c(0x240)][_0x1de62c(0x834)]+_0x1de62c(0x175));let _0x1ff938=await this[_0x1de62c(0x6d6)](_0x4a2713);return _0x1ff938&&await this[_0x1de62c(0x185)](_0x4a2713,_0x1ff938),{'message':'Flow\x20iniciado\x20com\x20'+_0xe82984[_0x1de62c(0x6e1)]};}}catch(_0x49f4f8){if(this['logger'][_0x1de62c(0x4f6)](this[_0x1de62c(0x82b)]+'\x20('+this[_0x1de62c(0x240)][_0x1de62c(0x834)]+_0x1de62c(0x540)+(_0x49f4f8 instanceof Error?_0x49f4f8[_0x1de62c(0x552)]:JSON[_0x1de62c(0x3cc)](_0x49f4f8,null,0x2))),_0x4b7eea=_0x49f4f8 instanceof Error?_0x49f4f8[_0x1de62c(0x552)]:JSON['stringify'](_0x49f4f8,null,0x2),_0x4b7eea)throw new m(_0x1de62c(0x632)+_0x4b7eea);}}async['startFlowWebhook'](_0x2bff42,_0x3bd781,_0x4404a1){const _0x20ba26=a0_0x4ac10f;let _0xde5dc8=null;try{if(!this[_0x20ba26(0x711)]?.[_0x20ba26(0x639)][_0x20ba26(0x516)])throw new m('Fluxos\x20não\x20estão\x20ativados');if(this[_0x20ba26(0x44e)][_0x20ba26(0x188)](this[_0x20ba26(0x82b)]+'\x20('+this[_0x20ba26(0x240)][_0x20ba26(0x834)]+_0x20ba26(0x597)),_0x3bd781){let _0x484810=(await this[_0x20ba26(0x2a7)]({'numbers':[_0x3bd781]}))[0x0];if(!_0x484810[_0x20ba26(0x659)]&&!(0x0,w[_0x20ba26(0x376)])(_0x484810['jid'])&&!_0x484810[_0x20ba26(0x49b)][_0x20ba26(0x19a)](_0x20ba26(0x836)))throw _0xde5dc8=JSON[_0x20ba26(0x3cc)](_0x484810,null,0x2),new m(_0x484810);_0x3bd781=_0x484810[_0x20ba26(0x49b)];}else _0x3bd781||(_0x3bd781=(0x0,me['v4'])());let _0x34c96a=await this[_0x20ba26(0x37d)][_0x20ba26(0x7fa)][_0x20ba26(0x349)]({'where':{'_id':_0x2bff42}});if(!_0x34c96a||!_0x34c96a[_0x20ba26(0x865)]?.['includes'](this[_0x20ba26(0x240)]['wuid']))throw this['logger'][_0x20ba26(0x4f6)](this[_0x20ba26(0x82b)]+'\x20('+this[_0x20ba26(0x240)][_0x20ba26(0x834)]+_0x20ba26(0x86d)+_0x2bff42+_0x20ba26(0x2df)),new m(_0x20ba26(0x2cb)+_0x2bff42+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x375ba8=await this['createConversationforStartFlow'](_0x34c96a,_0x3bd781,null);if(_0x375ba8){this[_0x20ba26(0x44e)][_0x20ba26(0x188)](this[_0x20ba26(0x82b)]+'\x20('+this['instance'][_0x20ba26(0x834)]+_0x20ba26(0x6cb));let _0x76c578;if(_0x4404a1){let _0x5ebb42=_0x375ba8['chatLog'][_0x20ba26(0x72a)],_0x5e7449=this[_0x20ba26(0x1f4)](_0x4404a1);Object[_0x20ba26(0x660)](_0x5ebb42,_0x5e7449),_0x375ba8[_0x20ba26(0x7f9)][_0x20ba26(0x72a)]=_0x5ebb42,_0x76c578={'error':!0x1,'apiResponse':_0x4404a1};}let _0x48ee96=await this[_0x20ba26(0x6d6)](_0x375ba8);return _0x48ee96&&await this['processblock'](_0x375ba8,_0x48ee96),{'message':'Flow\x20iniciado'};}}catch(_0x37067d){if(this[_0x20ba26(0x44e)][_0x20ba26(0x4f6)](this[_0x20ba26(0x82b)]+'\x20('+this[_0x20ba26(0x240)]['wuid']+_0x20ba26(0x540)+(_0x37067d instanceof Error?_0x37067d[_0x20ba26(0x552)]:JSON[_0x20ba26(0x3cc)](_0x37067d,null,0x2))),_0xde5dc8=_0x37067d instanceof Error?_0x37067d['message']:JSON['stringify'](_0x37067d,null,0x2),_0xde5dc8)throw new m(_0x20ba26(0x632)+_0xde5dc8);}}async[a0_0x4ac10f(0x51c)](_0x51da42){const _0x332750=a0_0x4ac10f;try{let _0x54c52c={'remoteJid':_0x51da42,'status':'open'},_0xd5377f={'status':_0x332750(0x804)},_0x4f2a53=await this['repository']['flowConversation'][_0x332750(0x130)](_0x54c52c,_0xd5377f,this[_0x332750(0x240)][_0x332750(0x834)]);return this[_0x332750(0x44e)]['verbose'](this[_0x332750(0x82b)]+'\x20('+this['instance']['wuid']+_0x332750(0x5cd)),_0x4f2a53;}catch(_0x4a51c7){throw this[_0x332750(0x44e)][_0x332750(0x4f6)](this['instanceName']+'\x20('+this[_0x332750(0x240)][_0x332750(0x834)]+_0x332750(0x37b)+_0x4a51c7[_0x332750(0x552)]),_0x4a51c7;}}async[a0_0x4ac10f(0x3a0)](_0x328902,_0x167340,_0x30943f){const _0x18f1d7=a0_0x4ac10f;this['logger'][_0x18f1d7(0x188)](this[_0x18f1d7(0x82b)]+'\x20('+this[_0x18f1d7(0x240)][_0x18f1d7(0x834)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this[_0x18f1d7(0x51c)](_0x167340);try{let _0x4022ef=require(_0x18f1d7(0x613))[_0x18f1d7(0x2ae)],_0x269b9a=Date[_0x18f1d7(0x77c)](),_0x4170db=_0x18f1d7(0x1d2),_0x56a2b3={},_0x5f5ada={},_0x1c2bf1=this[_0x18f1d7(0x711)][_0x18f1d7(0x649)][_0x18f1d7(0x7c1)](_0x50e1ad=>_0x50e1ad['_id']===_0x328902[_0x18f1d7(0x261)]?.['toString']()),_0xabcbcf=_0x1c2bf1?.['minutesToClose']??_0x328902[_0x18f1d7(0x384)]??0x0,_0x49e73e=_0x1c2bf1?.['readMessages']??_0x328902['readMessages']??!0x1,_0x3e0639={'flowId':_0x328902[_0x18f1d7(0x261)],..._0x328902,'chatLog':null},_0x2c25fd=await this[_0x18f1d7(0x5e6)](_0x3e0639[_0x18f1d7(0x386)]),_0x37026f=await this[_0x18f1d7(0x594)](_0x167340),_0x366146={..._0x2c25fd,..._0x37026f,'_remoteJid':_0x167340},_0x55498c={'lastReceivedMessage':_0x56a2b3,'lastSendMessage':_0x5f5ada,'lastBlockId':_0x4170db,'lastCondition':!0x0,'realVariables':_0x366146};_0x3e0639['chatLog']=_0x55498c,_0x3e0639[_0x18f1d7(0x7f9)][_0x18f1d7(0x72a)]={..._0x366146,..._0x30943f},delete _0x3e0639[_0x18f1d7(0x261)],_0x3e0639[_0x18f1d7(0x261)]=new _0x4022ef(),_0x3e0639['lastInteraction']=_0x269b9a,_0x3e0639[_0x18f1d7(0x1ac)]=_0x18f1d7(0x38e),_0x3e0639['remoteJid']=_0x167340,_0x3e0639[_0x18f1d7(0x384)]=_0xabcbcf,_0x3e0639['readMessages']=_0x49e73e,_0x3e0639[_0x18f1d7(0x261)]=_0x328902['_id'];let _0x2d6a04=await this['repository'][_0x18f1d7(0x403)][_0x18f1d7(0x191)](_0x3e0639[_0x18f1d7(0x261)],_0x3e0639,this[_0x18f1d7(0x240)][_0x18f1d7(0x834)]);return this[_0x18f1d7(0x44e)][_0x18f1d7(0x188)](this[_0x18f1d7(0x82b)]+'\x20('+this[_0x18f1d7(0x240)][_0x18f1d7(0x834)]+_0x18f1d7(0x449)),_0x2d6a04?_0x3e0639:null;}catch(_0x49beee){let _0xdfb352=_0x18f1d7(0x329),_0x3946f1=_0x49beee instanceof Error?_0x49beee[_0x18f1d7(0x552)]:typeof _0x49beee==_0x18f1d7(0x7e5)?JSON['stringify'](_0x49beee):_0x49beee,_0x1414d3=_0xdfb352+':\x20'+_0x3946f1;throw this['logger'][_0x18f1d7(0x4f6)](this[_0x18f1d7(0x82b)]+'\x20('+this[_0x18f1d7(0x240)][_0x18f1d7(0x834)]+_0x18f1d7(0x309)+_0x1414d3),new m(_0x1414d3);}}async[a0_0x4ac10f(0x620)](_0x1aad47){const _0x21cce8=a0_0x4ac10f;try{this[_0x21cce8(0x44e)][_0x21cce8(0x188)](this['instanceName']+'\x20('+this[_0x21cce8(0x240)]['wuid']+_0x21cce8(0x58c)),this['logger'][_0x21cce8(0x188)](this[_0x21cce8(0x82b)]+'\x20('+this[_0x21cce8(0x240)][_0x21cce8(0x834)]+_0x21cce8(0x6d1)+_0x1aad47);let _0x43d0b1={'where':{'_id':_0x1aad47}};return await this['repository'][_0x21cce8(0x403)][_0x21cce8(0x349)](_0x43d0b1,this[_0x21cce8(0x240)][_0x21cce8(0x834)]);}catch(_0x42a416){let _0x2d6295=_0x21cce8(0x65d),_0x12b947=_0x42a416 instanceof Error?_0x42a416[_0x21cce8(0x552)]:typeof _0x42a416=='object'?JSON['stringify'](_0x42a416):_0x42a416,_0x1b19f1=_0x2d6295+':\x20'+_0x12b947;throw this[_0x21cce8(0x44e)][_0x21cce8(0x4f6)](this[_0x21cce8(0x82b)]+'\x20('+this[_0x21cce8(0x240)]['wuid']+'):\x20'+_0x1b19f1),new m(_0x1b19f1);}}async[a0_0x4ac10f(0x6bd)](_0x5cb4d9){const _0x39bff7=a0_0x4ac10f;try{return this['logger']['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x39bff7(0x42c)),await this['repository'][_0x39bff7(0x403)][_0x39bff7(0x7c1)](_0x5cb4d9,this[_0x39bff7(0x240)][_0x39bff7(0x834)]);}catch(_0x3cb06f){let _0x138f7e=_0x39bff7(0x5e9),_0x28af62=_0x3cb06f instanceof Error?_0x3cb06f[_0x39bff7(0x552)]:typeof _0x3cb06f==_0x39bff7(0x7e5)?JSON[_0x39bff7(0x3cc)](_0x3cb06f):_0x3cb06f,_0x164bc7=_0x138f7e+':\x20'+_0x28af62;throw this['logger'][_0x39bff7(0x4f6)](this['instanceName']+'\x20('+this[_0x39bff7(0x240)][_0x39bff7(0x834)]+'):\x20'+_0x164bc7),new m(_0x164bc7);}}async[a0_0x4ac10f(0x140)](_0x1c794e){const _0x252850=a0_0x4ac10f;try{return this[_0x252850(0x44e)][_0x252850(0x188)](this['instanceName']+'\x20('+this[_0x252850(0x240)][_0x252850(0x834)]+_0x252850(0x346)),this[_0x252850(0x44e)][_0x252850(0x188)](this[_0x252850(0x82b)]+'\x20('+this[_0x252850(0x240)][_0x252850(0x834)]+_0x252850(0x2db)+_0x1c794e),(await this[_0x252850(0x37d)][_0x252850(0x403)][_0x252850(0x1ba)]({'where':{'_id':_0x1c794e[_0x252850(0x261)]}},this[_0x252850(0x240)][_0x252850(0x834)]))[_0x252850(0x127)]===0x0?{'message':_0x252850(0x725)}:{'message':_0x252850(0x21b)};}catch(_0x3e54e2){let _0x204d6e='Erro\x20ao\x20deletar\x20a\x20conversa',_0x4d80f9=_0x3e54e2 instanceof Error?_0x3e54e2[_0x252850(0x552)]:typeof _0x3e54e2==_0x252850(0x7e5)?JSON['stringify'](_0x3e54e2):_0x3e54e2,_0x43fb2e=_0x204d6e+':\x20'+_0x4d80f9;throw this[_0x252850(0x44e)][_0x252850(0x4f6)](this[_0x252850(0x82b)]+'\x20('+this[_0x252850(0x240)][_0x252850(0x834)]+_0x252850(0x309)+_0x43fb2e),new m(_0x43fb2e);}}async[a0_0x4ac10f(0x1ce)](_0x21fe4b){const _0x23d3ed=a0_0x4ac10f;try{let {_id:_0x116560,chatLog:_0x203cad,status:_0x4fff42}=_0x21fe4b;if(!_0x116560)return{'message':_0x23d3ed(0x71c)};let _0x2c716b={};if(_0x4fff42!==void 0x0&&(_0x2c716b[_0x23d3ed(0x1ac)]=_0x4fff42),Object['keys'](_0x2c716b)[_0x23d3ed(0x30c)]===0x0)return{'message':_0x23d3ed(0x405)};let _0x327c43=await this[_0x23d3ed(0x37d)][_0x23d3ed(0x403)]['updateOne'](_0x116560,_0x2c716b,this[_0x23d3ed(0x240)][_0x23d3ed(0x834)]);return _0x327c43||{'message':_0x23d3ed(0x7b8)};}catch(_0x17d14b){let _0x2a686f='Erro\x20ao\x20editar\x20a\x20conversa',_0x47588a=_0x17d14b instanceof Error?_0x17d14b[_0x23d3ed(0x552)]:typeof _0x17d14b=='object'?JSON[_0x23d3ed(0x3cc)](_0x17d14b):_0x17d14b,_0x2254a9=_0x2a686f+':\x20'+_0x47588a;throw this[_0x23d3ed(0x44e)][_0x23d3ed(0x4f6)](this['instanceName']+'\x20('+this[_0x23d3ed(0x240)][_0x23d3ed(0x834)]+_0x23d3ed(0x309)+_0x2254a9),new m(_0x2254a9);}}async['editChat'](_0x4fe51e){const _0x24eba9=a0_0x4ac10f;try{_0x4fe51e[_0x24eba9(0x261)]=this[_0x24eba9(0x656)](_0x4fe51e[_0x24eba9(0x261)]);let _0x42ec4e=await this[_0x24eba9(0x37d)][_0x24eba9(0x413)]['findOne']({'where':{'_id':_0x4fe51e['_id']}},this['instance'][_0x24eba9(0x834)]);if(!_0x42ec4e)throw new m(_0x24eba9(0x582));let {_id:_0x7b97ba,leadInfo:_0x4b8d80}=_0x4fe51e;if(!_0x7b97ba)throw new Error(_0x24eba9(0x39d));if(_0x4fe51e['delete']===_0x24eba9(0x428))return await this[_0x24eba9(0x3cf)](_0x4fe51e[_0x24eba9(0x261)]),await this[_0x24eba9(0x37d)][_0x24eba9(0x413)][_0x24eba9(0x399)]({'where':{'_id':_0x4fe51e[_0x24eba9(0x261)]}},this[_0x24eba9(0x240)][_0x24eba9(0x834)]),await this[_0x24eba9(0x37d)][_0x24eba9(0x552)][_0x24eba9(0x399)]({'where':{'key':{'remoteJid':_0x4fe51e['_id']}}},this[_0x24eba9(0x240)][_0x24eba9(0x834)]),_0x4fe51e=await this[_0x24eba9(0x37d)][_0x24eba9(0x413)][_0x24eba9(0x191)]({'where':{'_id':_0x4fe51e['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x24eba9(0x240)][_0x24eba9(0x834)]),j(this[_0x24eba9(0x82b)],_0x24eba9(0x408),{'chat':_0x4fe51e}),{'message':'Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.'};if(_0x4fe51e[_0x24eba9(0x399)]===_0x24eba9(0x6a7))return await this[_0x24eba9(0x37d)][_0x24eba9(0x552)][_0x24eba9(0x399)]({'where':{'key':{'remoteJid':_0x4fe51e[_0x24eba9(0x261)]}}},this[_0x24eba9(0x240)]['wuid']),_0x4fe51e=await this['repository']['chat'][_0x24eba9(0x191)]({'where':{'_id':_0x4fe51e[_0x24eba9(0x261)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x24eba9(0x240)][_0x24eba9(0x834)]),j(this['instanceName'],_0x24eba9(0x408),{'chat':_0x4fe51e}),{'message':_0x24eba9(0x196)};let _0x4fe3ee=(_0x2e5175,_0x5aa0e0,_0x1cab23)=>{const _0x58b5e5=_0x24eba9;_0x2e5175&&_0x1cab23[_0x58b5e5(0x843)](_0x71e0a1=>{_0x2e5175[_0x71e0a1]!==void 0x0&&(_0x5aa0e0['leadInfo.'+_0x71e0a1]=_0x2e5175[_0x71e0a1]);});},_0x34de43={};if(_0x24eba9(0x1e6)in _0x4fe51e&&(this[_0x24eba9(0x44e)][_0x24eba9(0x188)](this[_0x24eba9(0x82b)]+'\x20('+this[_0x24eba9(0x240)]['wuid']+_0x24eba9(0x18d)+_0x4fe51e['_id']),_0x4fe51e['muteEndTime']=_0x4fe51e['muteEndTime']===0x0?null:-0x1,await this[_0x24eba9(0x18f)][_0x24eba9(0x56c)]({'mute':_0x4fe51e[_0x24eba9(0x1e6)]},_0x4fe51e['_id']),_0x34de43['muteEndTime']=Number(_0x4fe51e[_0x24eba9(0x1e6)])),_0x4b8d80&&(_0x4fe3ee(_0x4b8d80,_0x34de43,['nome',_0x24eba9(0x6c2),_0x24eba9(0x1fa),'cpf',_0x24eba9(0x1ac),_0x24eba9(0x695),_0x24eba9(0x494),_0x24eba9(0x812),_0x24eba9(0x7ea),_0x24eba9(0x58e),'desativadoFluxoAte']),Array[_0x24eba9(0x5b5)](_0x4b8d80[_0x24eba9(0x4c5)])&&(_0x34de43[_0x24eba9(0x7ff)]=_0x4b8d80[_0x24eba9(0x4c5)][_0x24eba9(0x3c7)](_0x4c1a6d=>({'_id':_0x4c1a6d['_id'],'value':_0x4c1a6d[_0x24eba9(0x203)]}))),_0x4fe51e[_0x24eba9(0x5fa)][_0x24eba9(0x58e)]!==void 0x0)){let _0x5ef6b4=await this['repository'][_0x24eba9(0x4da)][_0x24eba9(0x7c1)]({'where':{}},this['instance'][_0x24eba9(0x834)]),_0x368c8f=new Set(_0x4fe51e[_0x24eba9(0x5fa)]['etiquetas']||[]),_0x50bde1=new Set(_0x4fe51e[_0x24eba9(0x5fa)]['etiquetas']),_0x49829f=new Set(_0x5ef6b4[_0x24eba9(0x3c7)](_0x3508bb=>_0x3508bb[_0x24eba9(0x261)])),_0x1f0e79=[..._0x50bde1][_0x24eba9(0x820)](_0x3e859b=>!_0x368c8f['has'](_0x3e859b)&&_0x49829f[_0x24eba9(0x481)](_0x3e859b)),_0xf91b89=[..._0x368c8f][_0x24eba9(0x820)](_0x50b309=>!_0x50bde1[_0x24eba9(0x481)](_0x50b309));if(_0x34de43['leadInfo.etiquetas']=[..._0x368c8f],_0x42ec4e&&!_0x42ec4e['imported']){for(let _0x7426aa of _0x1f0e79)await this['AddChatLabel'](_0x7426aa,_0x4fe51e[_0x24eba9(0x261)]),_0x368c8f[_0x24eba9(0x7c8)](_0x7426aa);for(let _0x51ab5b of _0xf91b89)await this['RemoveChatLabel'](_0x51ab5b,_0x4fe51e[_0x24eba9(0x261)]),_0x368c8f[_0x24eba9(0x399)](_0x51ab5b);}}if(_0x4fe51e['unreadcount']!==void 0x0&&(_0x34de43[_0x24eba9(0x3c6)]=Number(_0x4fe51e[_0x24eba9(0x3c6)])),Object['keys'](_0x34de43)['length']===0x0)throw new Error(_0x24eba9(0x405));let _0x159f7e=await this[_0x24eba9(0x37d)][_0x24eba9(0x413)]['updateOne']({'where':{'_id':_0x4fe51e[_0x24eba9(0x261)]}},_0x34de43,this[_0x24eba9(0x240)][_0x24eba9(0x834)]);return _0x159f7e&&j(this['instanceName'],_0x24eba9(0x408),{'chat':_0x159f7e}),_0x159f7e?(this[_0x24eba9(0x44e)][_0x24eba9(0x188)](this[_0x24eba9(0x82b)]+'\x20('+this[_0x24eba9(0x240)][_0x24eba9(0x834)]+_0x24eba9(0x309)+JSON['stringify'](_0x159f7e,null,0x2)),_0x159f7e):{'message':_0x24eba9(0x727)};}catch(_0x483e10){let _0x2c3433=_0x24eba9(0x262),_0x299a22=_0x483e10 instanceof Error?_0x483e10[_0x24eba9(0x552)]:typeof _0x483e10==_0x24eba9(0x7e5)?JSON['stringify'](_0x483e10):_0x483e10,_0x2d6fcb=_0x2c3433+':\x20'+_0x299a22;throw this[_0x24eba9(0x44e)][_0x24eba9(0x4f6)](this[_0x24eba9(0x82b)]+'\x20('+this['instance'][_0x24eba9(0x834)]+_0x24eba9(0x309)+_0x2d6fcb),new m(_0x2d6fcb);}}async[a0_0x4ac10f(0x4ef)](_0xd6baf5,_0xaf94bf){const _0x31e0bc=a0_0x4ac10f;try{await this[_0x31e0bc(0x18f)][_0x31e0bc(0x3d3)](_0xaf94bf,_0xd6baf5),this[_0x31e0bc(0x44e)][_0x31e0bc(0x653)](this['instanceName']+'\x20('+this[_0x31e0bc(0x240)][_0x31e0bc(0x834)]+_0x31e0bc(0x40b)+_0xd6baf5+_0x31e0bc(0x226)+_0xaf94bf+_0x31e0bc(0x411));}catch(_0x500850){this['logger']['error'](_0x31e0bc(0x437)+_0xd6baf5+_0x31e0bc(0x85d)+_0xaf94bf+':\x20'+_0x500850);}}async['RemoveChatLabel'](_0x3f0a90,_0x47478f){const _0x577133=a0_0x4ac10f;try{await this[_0x577133(0x18f)][_0x577133(0x7b7)](_0x47478f,_0x3f0a90),this[_0x577133(0x44e)][_0x577133(0x653)](this[_0x577133(0x82b)]+'\x20('+this[_0x577133(0x240)][_0x577133(0x834)]+_0x577133(0x40b)+_0x3f0a90+_0x577133(0x3b3)+_0x47478f+'\x20com\x20sucesso.');}catch(_0x2a4486){this[_0x577133(0x44e)][_0x577133(0x4f6)](_0x577133(0x48f)+_0x3f0a90+_0x577133(0x4cc)+_0x47478f+':\x20'+_0x2a4486);}}async[a0_0x4ac10f(0x271)](_0xfec390){const _0x4313de=a0_0x4ac10f;try{let _0x219ba8=await this[_0x4313de(0x37d)][_0x4313de(0x62b)][_0x4313de(0x1dd)](this[_0x4313de(0x240)][_0x4313de(0x834)]),_0x40c375=_0xfec390['_id']?_0x219ba8['agents'][_0x4313de(0x7d9)](_0x500214=>_0x500214[_0x4313de(0x261)]===_0xfec390['_id']):-0x1;if(_0xfec390['delete']&&_0x40c375>-0x1)_0x219ba8['agents'][_0x4313de(0x606)](_0x40c375,0x1);else{if(_0x40c375>-0x1){let _0x458b8f=_0x219ba8['agents'][_0x40c375];_0xfec390[_0x4313de(0x36f)]&&(_0x458b8f[_0x4313de(0x36f)]=_0xfec390[_0x4313de(0x36f)]),_0xfec390['name']&&(_0x458b8f['name']=_0xfec390[_0x4313de(0x80a)]),_0xfec390[_0x4313de(0x1fa)]&&(_0x458b8f[_0x4313de(0x1fa)]=_0xfec390[_0x4313de(0x1fa)]),_0xfec390[_0x4313de(0x350)]&&(_0x458b8f[_0x4313de(0x350)]=_0xfec390[_0x4313de(0x350)]);}else _0x219ba8['agents'][_0x4313de(0x304)]({'_id':_0xfec390['_id']||new de[(_0x4313de(0x5b7))][(_0x4313de(0x28c))][(_0x4313de(0x2ae))]()[_0x4313de(0x830)](),'fone':_0xfec390[_0x4313de(0x36f)],'name':_0xfec390['name'],'email':_0xfec390['email'],'role':_0xfec390[_0x4313de(0x350)]});}let _0x55484d={'agents':_0x219ba8['agents']},_0x1333dc=await this[_0x4313de(0x37d)][_0x4313de(0x62b)][_0x4313de(0x256)](_0x55484d,this[_0x4313de(0x240)]['wuid']);return this[_0x4313de(0x711)]=_0x1333dc,this[_0x4313de(0x44e)][_0x4313de(0x188)](this['instanceName']+'\x20('+this['instance'][_0x4313de(0x834)]+_0x4313de(0x7ac)),this[_0x4313de(0x44e)][_0x4313de(0x188)](this['instanceName']+'\x20('+this[_0x4313de(0x240)][_0x4313de(0x834)]+_0x4313de(0x309)+this[_0x4313de(0x711)]),_0x1333dc;}catch(_0x29375a){let _0x59e6ba=_0x4313de(0x441),_0x223019=_0x29375a instanceof Error?_0x29375a[_0x4313de(0x552)]:typeof _0x29375a==_0x4313de(0x7e5)?JSON['stringify'](_0x29375a):_0x29375a,_0x1e2f0f=_0x59e6ba+':\x20'+_0x223019;throw this['logger']['error'](this[_0x4313de(0x82b)]+'\x20('+this[_0x4313de(0x240)][_0x4313de(0x834)]+_0x4313de(0x309)+_0x1e2f0f),new m(_0x1e2f0f);}}async['updateCustomFields'](_0x581623){const _0x99d45=a0_0x4ac10f;try{let _0x5e3bf9=await this[_0x99d45(0x37d)][_0x99d45(0x62b)][_0x99d45(0x1dd)](this[_0x99d45(0x240)][_0x99d45(0x834)]),_0x27d6fe=_0x581623[_0x99d45(0x261)]?_0x5e3bf9['customFields'][_0x99d45(0x7d9)](_0x3a6dfb=>_0x3a6dfb['_id']===_0x581623['_id']):-0x1,_0x38a912=!0x1,_0x192a53=_0x5e3bf9[_0x99d45(0x4c5)][_0x99d45(0x41a)](_0xc7e742=>_0xc7e742[_0x99d45(0x82d)]===_0x581623[_0x99d45(0x82d)]);if(_0x581623[_0x99d45(0x399)]&&_0x27d6fe>-0x1)_0x5e3bf9[_0x99d45(0x4c5)][_0x99d45(0x606)](_0x27d6fe,0x1),_0x38a912=!0x0;else{if(_0x27d6fe>-0x1){if(_0x5e3bf9['customFields'][_0x99d45(0x41a)](_0xba9f5b=>_0xba9f5b[_0x99d45(0x80a)]===_0x581623[_0x99d45(0x80a)]&&_0xba9f5b[_0x99d45(0x261)]!==_0x581623[_0x99d45(0x261)]))throw new Error(_0x99d45(0x2da));let _0xb6e567=_0x5e3bf9[_0x99d45(0x4c5)][_0x27d6fe];_0x581623[_0x99d45(0x82d)]&&(_0x192a53||!Number[_0x99d45(0x575)](_0x581623[_0x99d45(0x82d)]))&&(_0xb6e567[_0x99d45(0x82d)]=_0x581623[_0x99d45(0x82d)],_0x38a912=!0x0),_0x581623['name']&&(_0xb6e567[_0x99d45(0x80a)]=_0x581623[_0x99d45(0x80a)]);}else{if(_0x5e3bf9['customFields'][_0x99d45(0x41a)](_0x216cb7=>_0x216cb7[_0x99d45(0x80a)]===_0x581623[_0x99d45(0x80a)]&&_0x216cb7[_0x99d45(0x261)]!==_0x581623[_0x99d45(0x261)]))throw new Error(_0x99d45(0x2da));_0x5e3bf9['customFields'][_0x99d45(0x304)]({'_id':_0x581623[_0x99d45(0x261)]||new de[(_0x99d45(0x5b7))][(_0x99d45(0x28c))][(_0x99d45(0x2ae))]()[_0x99d45(0x830)](),'order':_0x581623[_0x99d45(0x82d)],'name':_0x581623[_0x99d45(0x80a)]}),_0x38a912=!0x0;}}if(_0x38a912){_0x5e3bf9['customFields'][_0x99d45(0x733)]((_0x3373ec,_0x4e5eb7)=>_0x3373ec[_0x99d45(0x82d)]>_0x4e5eb7[_0x99d45(0x82d)]?0x1:_0x4e5eb7[_0x99d45(0x82d)]>_0x3373ec[_0x99d45(0x82d)]?-0x1:0x0);for(let _0x59a65e=0x0;_0x59a65e<_0x5e3bf9[_0x99d45(0x4c5)]['length'];_0x59a65e++)_0x5e3bf9['customFields'][_0x59a65e][_0x99d45(0x82d)]=_0x59a65e+0x1;}let _0x3e31ea=await this[_0x99d45(0x37d)][_0x99d45(0x62b)][_0x99d45(0x256)](_0x5e3bf9,this['instance']['wuid']);return this['AutomateSystem']=_0x3e31ea,this[_0x99d45(0x44e)][_0x99d45(0x188)](this[_0x99d45(0x82b)]+'\x20('+this[_0x99d45(0x240)][_0x99d45(0x834)]+_0x99d45(0x313)),this[_0x99d45(0x44e)]['verbose'](this['instanceName']+'\x20('+this[_0x99d45(0x240)][_0x99d45(0x834)]+_0x99d45(0x309)+this[_0x99d45(0x711)]),_0x3e31ea;}catch(_0x39f240){let _0x164ab1=_0x99d45(0x2ef),_0x1d5ad8=_0x39f240 instanceof Error?_0x39f240[_0x99d45(0x552)]:typeof _0x39f240==_0x99d45(0x7e5)?JSON[_0x99d45(0x3cc)](_0x39f240):_0x39f240,_0x2d7544=_0x164ab1+':\x20'+_0x1d5ad8;throw this[_0x99d45(0x44e)][_0x99d45(0x4f6)](this[_0x99d45(0x82b)]+'\x20('+this['instance'][_0x99d45(0x834)]+'):\x20'+_0x2d7544),new m(_0x2d7544);}}async[a0_0x4ac10f(0x192)](_0x11e918){const _0x25af3d=a0_0x4ac10f;try{let _0x226d9a=await this['repository'][_0x25af3d(0x62b)][_0x25af3d(0x1dd)](this['instance'][_0x25af3d(0x834)]),_0x3bddeb=_0x226d9a?.[_0x25af3d(0x19c)]?.[_0x25af3d(0x7d9)](_0x3f42cc=>_0x3f42cc[_0x25af3d(0x261)]===_0x11e918?.[_0x25af3d(0x261)]);if(_0x11e918?.['delete'])_0x3bddeb>-0x1&&_0x226d9a?.[_0x25af3d(0x19c)]?.[_0x25af3d(0x606)](_0x3bddeb,0x1);else{if(_0x3bddeb>-0x1){let _0x4d853f=_0x226d9a[_0x25af3d(0x19c)][_0x3bddeb];_0x4d853f['order']=_0x11e918?.[_0x25af3d(0x82d)]||_0x4d853f['order'],_0x4d853f[_0x25af3d(0x229)]=_0x11e918?.[_0x25af3d(0x229)]||_0x4d853f['command'],_0x4d853f[_0x25af3d(0x552)]=_0x11e918?.[_0x25af3d(0x552)]||_0x4d853f['message'];}else{let _0x52dbfa={'_id':_0x11e918?.[_0x25af3d(0x261)]||new de[(_0x25af3d(0x5b7))][(_0x25af3d(0x28c))][(_0x25af3d(0x2ae))]()['toString'](),'order':_0x11e918?.[_0x25af3d(0x82d)],'command':_0x11e918?.[_0x25af3d(0x229)],'message':_0x11e918?.[_0x25af3d(0x552)]};_0x226d9a?.[_0x25af3d(0x19c)]?.['push'](_0x52dbfa);}}_0x226d9a?.[_0x25af3d(0x19c)]?.['sort']((_0x24befc,_0x261d70)=>_0x24befc['order']-_0x261d70[_0x25af3d(0x82d)]);let _0x29b7be=await this[_0x25af3d(0x37d)][_0x25af3d(0x62b)]['update'](_0x226d9a,this['instance'][_0x25af3d(0x834)]);return this[_0x25af3d(0x711)]=_0x29b7be,this[_0x25af3d(0x44e)][_0x25af3d(0x188)](this['instanceName']+'\x20('+this['instance'][_0x25af3d(0x834)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),_0x29b7be;}catch(_0x5aff23){let _0xd1de63='Erro\x20ao\x20tentar\x20autoCompleteMessages',_0x2a6008=_0x5aff23 instanceof Error?_0x5aff23[_0x25af3d(0x552)]:typeof _0x5aff23==_0x25af3d(0x7e5)?JSON[_0x25af3d(0x3cc)](_0x5aff23):_0x5aff23,_0x31137f=_0xd1de63+':\x20'+_0x2a6008;throw this[_0x25af3d(0x44e)][_0x25af3d(0x4f6)](this[_0x25af3d(0x82b)]+'\x20('+this[_0x25af3d(0x240)][_0x25af3d(0x834)]+_0x25af3d(0x309)+_0x31137f),new m(_0x31137f);}}async[a0_0x4ac10f(0x5f6)](_0x3cff83){const _0x31a470=a0_0x4ac10f;try{let _0x5e34eb=await this[_0x31a470(0x37d)][_0x31a470(0x62b)][_0x31a470(0x1dd)](this[_0x31a470(0x240)][_0x31a470(0x834)]);if(!_0x5e34eb)throw new Error('Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.');let _0x5803dd={'_id':_0x5e34eb['_id'],'flowConfig':{'enabled':_0x3cff83[_0x31a470(0x516)]??_0x5e34eb[_0x31a470(0x639)][_0x31a470(0x516)],'ignoreGroups':_0x3cff83['ignoreGroups']??_0x5e34eb[_0x31a470(0x639)][_0x31a470(0x174)],'stopConversation':_0x3cff83[_0x31a470(0x299)]['trim']()??_0x5e34eb[_0x31a470(0x639)][_0x31a470(0x299)]['trim'](),'stopMinutes':_0x3cff83['stopMinutes']??_0x5e34eb[_0x31a470(0x639)][_0x31a470(0x546)],'stopWhenYouSendMsg':_0x3cff83['stopWhenYouSendMsg']??_0x5e34eb[_0x31a470(0x639)][_0x31a470(0x283)]}},_0x3238fd=await this[_0x31a470(0x37d)][_0x31a470(0x62b)][_0x31a470(0x256)](_0x5803dd,this[_0x31a470(0x240)][_0x31a470(0x834)]);return this[_0x31a470(0x711)]=_0x3238fd,this[_0x31a470(0x44e)][_0x31a470(0x188)](this['instanceName']+'\x20('+this[_0x31a470(0x240)][_0x31a470(0x834)]+_0x31a470(0x7ac)),this[_0x31a470(0x44e)][_0x31a470(0x188)](this['instanceName']+'\x20('+this[_0x31a470(0x240)][_0x31a470(0x834)]+'):\x20'+this[_0x31a470(0x711)]),setTimeout(()=>this[_0x31a470(0x125)](),0x7d0),_0x3238fd;}catch(_0x1bb3b9){let _0x1a414a=_0x31a470(0x4a3),_0x2b650a=_0x1bb3b9 instanceof Error?_0x1bb3b9['message']:typeof _0x1bb3b9=='object'?JSON['stringify'](_0x1bb3b9):_0x1bb3b9,_0x3b22c5=_0x1a414a+':\x20'+_0x2b650a;throw this[_0x31a470(0x44e)][_0x31a470(0x4f6)](this[_0x31a470(0x82b)]+'\x20('+this[_0x31a470(0x240)][_0x31a470(0x834)]+_0x31a470(0x309)+_0x3b22c5),new m(_0x3b22c5);}}async[a0_0x4ac10f(0x769)](){const _0x5a5775=a0_0x4ac10f;try{let _0x2695c1=await this['repository'][_0x5a5775(0x62b)][_0x5a5775(0x1dd)](this['instance']['wuid']);return this[_0x5a5775(0x711)]=_0x2695c1,this['logger'][_0x5a5775(0x188)](this[_0x5a5775(0x82b)]+'\x20('+this[_0x5a5775(0x240)]['wuid']+_0x5a5775(0x6b0)),this['logger'][_0x5a5775(0x188)](this[_0x5a5775(0x711)]),_0x2695c1;}catch(_0x1ca654){let _0x2f94ee=_0x5a5775(0x62c),_0x1ecce3=_0x1ca654 instanceof Error?_0x1ca654[_0x5a5775(0x552)]:typeof _0x1ca654==_0x5a5775(0x7e5)?JSON[_0x5a5775(0x3cc)](_0x1ca654):_0x1ca654,_0x183757=_0x2f94ee+':\x20'+_0x1ecce3;throw this[_0x5a5775(0x44e)]['error'](this[_0x5a5775(0x82b)]+'\x20('+this['instance'][_0x5a5775(0x834)]+_0x5a5775(0x309)+_0x183757),new m(_0x183757);}}async[a0_0x4ac10f(0x4fd)](){const _0x33be60=a0_0x4ac10f;this[_0x33be60(0x240)][_0x33be60(0x397)]['timeout']&&clearTimeout(this[_0x33be60(0x240)][_0x33be60(0x397)]['timeout']),this[_0x33be60(0x240)][_0x33be60(0x397)]['timeout']=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x4ac10f(0x1a3)](){const _0x1a3a2b=a0_0x4ac10f;Date['now']()-this['instance']['ScheduleMessage']['lastSend']>=0x1d4c0&&(this[_0x1a3a2b(0x44e)]['verbose'](this[_0x1a3a2b(0x82b)]+'\x20('+this['instance']['wuid']+_0x1a3a2b(0x726)),this['instance'][_0x1a3a2b(0x397)][_0x1a3a2b(0x225)]=null,this[_0x1a3a2b(0x240)][_0x1a3a2b(0x397)][_0x1a3a2b(0x560)]=0x0,this[_0x1a3a2b(0x240)]['ScheduleMessage'][_0x1a3a2b(0x6b5)]=0x0,await this[_0x1a3a2b(0x125)]());}async['scheduleNextCheck'](){const _0x350225=a0_0x4ac10f;let _0x149e32=()=>{const _0x5cd46a=a0_0x3b98;this[_0x5cd46a(0x44e)][_0x5cd46a(0x188)](this[_0x5cd46a(0x82b)]+'\x20('+this[_0x5cd46a(0x240)][_0x5cd46a(0x834)]+_0x5cd46a(0x41b)+this[_0x5cd46a(0x240)]['ScheduleMessage']['processing_id']+'\x20saindo\x20da\x20função');},_0x16c388=async()=>{const _0x53765f=a0_0x3b98;this[_0x53765f(0x44e)][_0x53765f(0x188)](this[_0x53765f(0x82b)]+'\x20('+this[_0x53765f(0x240)][_0x53765f(0x834)]+_0x53765f(0x35b));let _0x19463e=Date[_0x53765f(0x77c)]()-0xc*0x3c*0x3c*0x3e8,_0x397d1a={'where':{'status':{'$in':[_0x53765f(0x353),_0x53765f(0x310)]},'$or':[{'when':{'$lte':Date[_0x53765f(0x77c)](),'$gte':_0x19463e}},{'when':0x0}]}};return await this['repository'][_0x53765f(0x52a)][_0x53765f(0x7c1)](_0x397d1a,this[_0x53765f(0x240)]['wuid']);},_0x48cd00=async _0x134929=>{const _0x528784=a0_0x3b98;for(let _0x1d1d86 of _0x134929){let _0x143e43={'_id':_0x1d1d86[_0x528784(0x261)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x528784(0x77c)]()-0x1770}}]},_0x3ca0b4={'startSend':Date[_0x528784(0x77c)]()};if(!await this['repository'][_0x528784(0x52a)][_0x528784(0x191)](_0x143e43,_0x3ca0b4,this[_0x528784(0x240)][_0x528784(0x834)]))return;if(!this[_0x528784(0x240)][_0x528784(0x397)][_0x528784(0x857)]){this[_0x528784(0x44e)][_0x528784(0x188)](this[_0x528784(0x82b)]+'\x20('+this['instance'][_0x528784(0x834)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}if(_0x1d1d86[_0x528784(0x14f)]===_0x528784(0x7fa)&&!this[_0x528784(0x711)]?.[_0x528784(0x639)]['enabled']){this[_0x528784(0x44e)][_0x528784(0x4f6)](this[_0x528784(0x82b)]+'\x20('+this[_0x528784(0x240)][_0x528784(0x834)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');continue;}(!_0x1d1d86[_0x528784(0x25a)]||_0x1d1d86[_0x528784(0x25a)][_0x528784(0x30c)]===0x0)&&(_0x1d1d86=await this[_0x528784(0x37d)][_0x528784(0x52a)][_0x528784(0x1bd)](_0x1d1d86[_0x528784(0x261)],{'status':_0x528784(0x310),'remoteJidsRemaining':[..._0x1d1d86['remoteJids']]},this[_0x528784(0x240)][_0x528784(0x834)]));for(let _0x33eff7 of _0x1d1d86['remoteJidsRemaining']){if(await this[_0x528784(0x4fd)](),this[_0x528784(0x240)][_0x528784(0x397)][_0x528784(0x560)]=Date[_0x528784(0x77c)](),this['instance'][_0x528784(0x397)][_0x528784(0x2fb)]===_0x33eff7){this[_0x528784(0x44e)][_0x528784(0x4f6)](this['instanceName']+'\x20('+this[_0x528784(0x240)][_0x528784(0x834)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20'+_0x33eff7+'.\x20Removendo\x20da\x20lista\x20de\x20tentativas.');let _0x16231f={'$push':{'messagesSend':{'remoteJid':_0x33eff7,'error':!0x0,'id':null,'error_log':'Falha\x20após\x20várias\x20tentativas.','log_timestamp':Date[_0x528784(0x77c)]()}},'$pull':{'remoteJidsRemaining':_0x33eff7}};await this[_0x528784(0x37d)][_0x528784(0x52a)][_0x528784(0x1bd)](_0x1d1d86['_id'],_0x16231f,this[_0x528784(0x240)]['wuid']);continue;}if(this[_0x528784(0x240)]['ScheduleMessage'][_0x528784(0x2fb)]=_0x33eff7,_0x1d1d86[_0x528784(0x7bf)][_0x528784(0x41a)](_0x542592=>_0x542592[_0x528784(0x6e1)]===_0x33eff7)){this[_0x528784(0x44e)][_0x528784(0x188)](this['instanceName']+'\x20('+this[_0x528784(0x240)][_0x528784(0x834)]+_0x528784(0x6f8)+_0x33eff7+_0x528784(0x545));continue;}if(!this[_0x528784(0x240)][_0x528784(0x397)][_0x528784(0x857)]){this[_0x528784(0x44e)]['verbose'](this['instanceName']+'\x20('+this[_0x528784(0x240)]['wuid']+_0x528784(0x322));break;}if(!this[_0x528784(0x240)]['ScheduleMessage'][_0x528784(0x225)]){this[_0x528784(0x44e)][_0x528784(0x188)](this[_0x528784(0x82b)]+'\x20('+this[_0x528784(0x240)]['wuid']+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x1d1d86[_0x528784(0x261)]+_0x528784(0x7d6));break;}if(_0x1d1d86[_0x528784(0x14f)]===_0x528784(0x7fa)&&!this[_0x528784(0x711)]?.[_0x528784(0x639)][_0x528784(0x516)]){this[_0x528784(0x44e)][_0x528784(0x4f6)](this[_0x528784(0x82b)]+'\x20('+this[_0x528784(0x240)][_0x528784(0x834)]+_0x528784(0x482));break;}let _0x36385d={'remoteJid':_0x33eff7,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x528784(0x77c)]()},_0x8b6a73=null;try{let _0x3a2f4b=await this[_0x528784(0x7db)](_0x33eff7,_0x1d1d86);_0x36385d['error']=_0x3a2f4b[_0x528784(0x4f6)],_0x36385d['id']=_0x3a2f4b[_0x528784(0x4f6)]?null:_0x3a2f4b['id'],_0x36385d[_0x528784(0x230)]=_0x3a2f4b[_0x528784(0x4f6)]?_0x3a2f4b['detail']?_0x3a2f4b[_0x528784(0x294)][_0x528784(0x830)]():'':null;let _0x110a42={'$push':{'messagesSend':_0x36385d},'$pull':{'remoteJidsRemaining':_0x33eff7}},_0x6a57e6=_0x1d1d86[_0x528784(0x261)];if(_0x8b6a73=await this[_0x528784(0x37d)]['scheduleMessage']['updateOneById'](_0x6a57e6,_0x110a42,this[_0x528784(0x240)]['wuid']),_0x3a2f4b[_0x528784(0x4f6)])continue;let _0x278c43=this[_0x528784(0x672)](_0x1d1d86[_0x528784(0x39f)],_0x1d1d86['delaySecMax']);await this['sleep'](_0x278c43);}catch(_0x5ec57f){this[_0x528784(0x44e)][_0x528784(0x4f6)](this[_0x528784(0x82b)]+'\x20('+this['instance'][_0x528784(0x834)]+_0x528784(0x343)+_0x33eff7+':\x20'+(_0x5ec57f instanceof Error?_0x5ec57f[_0x528784(0x552)]:JSON[_0x528784(0x3cc)](_0x5ec57f,null,0x2))),_0x36385d[_0x528784(0x4f6)]=!0x0,_0x36385d[_0x528784(0x230)]=_0x5ec57f[_0x528784(0x552)];let _0x704f44={'$push':{'messagesSend':_0x36385d},'$pull':{'remoteJidsRemaining':_0x33eff7}},_0xbfd1f8=_0x1d1d86['_id'];_0x8b6a73=await this[_0x528784(0x37d)][_0x528784(0x52a)][_0x528784(0x1bd)](_0xbfd1f8,_0x704f44,this[_0x528784(0x240)][_0x528784(0x834)]);}finally{if(_0x8b6a73&&_0x8b6a73['status']===_0x528784(0x59c)){this['logger']['verbose'](this[_0x528784(0x82b)]+'\x20('+this['instance'][_0x528784(0x834)]+_0x528784(0x7cc)+_0x1d1d86['_id']+_0x528784(0x251));break;}}}let _0x5d730d=await this[_0x528784(0x37d)][_0x528784(0x52a)][_0x528784(0x193)](_0x1d1d86['_id'],this[_0x528784(0x240)][_0x528784(0x834)]);if(_0x5d730d[_0x528784(0x25a)][_0x528784(0x30c)]===0x0&&_0x5d730d[_0x528784(0x1ac)]!==_0x528784(0x59c)){this[_0x528784(0x240)][_0x528784(0x397)]['ultimaTentativaRemoteJid']=null;let _0x3a4ed8={'$set':{'status':'done'}},_0x4b9f7d=_0x5d730d[_0x528784(0x261)];await this[_0x528784(0x37d)][_0x528784(0x52a)][_0x528784(0x1bd)](_0x4b9f7d,_0x3a4ed8,this[_0x528784(0x240)][_0x528784(0x834)]);}await new Promise(_0x167de9=>setTimeout(_0x167de9,0x1388));}},_0x479829=async()=>{const _0x19a65a=a0_0x3b98;let _0x5a1900={'where':{'status':_0x19a65a(0x353),'when':{'$gt':Date[_0x19a65a(0x77c)]()}}},_0x288f87=await this[_0x19a65a(0x37d)][_0x19a65a(0x52a)][_0x19a65a(0x349)](_0x5a1900,this[_0x19a65a(0x240)][_0x19a65a(0x834)]);_0x288f87&&_0x288f87['when']-Date[_0x19a65a(0x77c)]()<=0x5265c00?this[_0x19a65a(0x240)][_0x19a65a(0x397)][_0x19a65a(0x6b5)]=_0x288f87[_0x19a65a(0x13d)]-Date[_0x19a65a(0x77c)]():this['instance'][_0x19a65a(0x397)][_0x19a65a(0x6b5)]=(0x3c+Math[_0x19a65a(0x6a9)](Math[_0x19a65a(0x139)]()*0x3c))*0x3c*0x3e8,this['instance']['ScheduleMessage'][_0x19a65a(0x6b5)]=Math['max'](this['instance'][_0x19a65a(0x397)][_0x19a65a(0x6b5)],0x7d0);let _0x17b81a=Math[_0x19a65a(0x63d)](this[_0x19a65a(0x240)]['ScheduleMessage'][_0x19a65a(0x6b5)]/0xea60);if(_0x288f87){let _0x4d4632=new Date(_0x288f87[_0x19a65a(0x13d)])['toLocaleString']();this[_0x19a65a(0x44e)]['verbose'](this[_0x19a65a(0x82b)]+'\x20('+this['instance'][_0x19a65a(0x834)]+_0x19a65a(0x490)+_0x4d4632+_0x19a65a(0x66e)+_0x17b81a+_0x19a65a(0x44b));}else this['logger']['verbose'](this[_0x19a65a(0x82b)]+'\x20('+this['instance'][_0x19a65a(0x834)]+_0x19a65a(0x51d)+_0x17b81a+'\x20minutos');setTimeout(()=>this[_0x19a65a(0x125)](),this['instance'][_0x19a65a(0x397)]['delayMessage']);};if(this['instance'][_0x350225(0x397)]['processing_id']){await this[_0x350225(0x4fd)](),_0x149e32();return;}if(!this[_0x350225(0x240)]['ScheduleMessage'][_0x350225(0x857)]){this[_0x350225(0x44e)][_0x350225(0x188)](this['instanceName']+'\x20('+this[_0x350225(0x240)][_0x350225(0x834)]+_0x350225(0x867)),this[_0x350225(0x240)][_0x350225(0x397)][_0x350225(0x225)]=null,this[_0x350225(0x240)][_0x350225(0x397)][_0x350225(0x560)]=0x0,this['instance'][_0x350225(0x397)][_0x350225(0x6b5)]=0x0,this[_0x350225(0x240)][_0x350225(0x397)][_0x350225(0x2fb)]=null;return;}try{let _0x558f8e=await _0x16c388();_0x558f8e[_0x350225(0x30c)]===0x0?this[_0x350225(0x44e)][_0x350225(0x188)](this['instanceName']+'\x20('+this[_0x350225(0x240)][_0x350225(0x834)]+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this[_0x350225(0x240)][_0x350225(0x397)]['processing_id']=_0x558f8e[0x0][_0x350225(0x261)],await _0x48cd00(_0x558f8e)),await _0x479829(),this[_0x350225(0x240)]['ScheduleMessage'][_0x350225(0x225)]=null,this['instance']['ScheduleMessage'][_0x350225(0x2fb)]=null;}catch(_0x504493){this[_0x350225(0x44e)][_0x350225(0x4f6)](_0x350225(0x4d8)+(_0x504493 instanceof Error?_0x504493[_0x350225(0x552)]:JSON[_0x350225(0x3cc)](_0x504493,null,0x2)));}}['getDelay'](_0xabf50c,_0x3607b5){const _0x230e24=a0_0x4ac10f;return _0xabf50c=Math[_0x230e24(0x6ca)](0.5,_0xabf50c),_0x3607b5=Math[_0x230e24(0x288)](Math[_0x230e24(0x6ca)](0x3,_0x3607b5),0x78),Math['floor'](Math['random']()*(_0x3607b5-_0xabf50c+0x1)+_0xabf50c)*0x3e8;}[a0_0x4ac10f(0x1b7)](_0x1c4c10){return new Promise(_0x15aca9=>setTimeout(_0x15aca9,_0x1c4c10));}async['getVariablesChat'](_0x1def51){const _0x138b86=a0_0x4ac10f;if(!this[_0x138b86(0x711)]&&(await this[_0x138b86(0x769)](),!this[_0x138b86(0x711)]))return null;_0x1def51=this['createJid'](_0x1def51);let _0xf8621c=await this[_0x138b86(0x37d)][_0x138b86(0x413)][_0x138b86(0x349)]({'where':{'_id':_0x1def51}},this[_0x138b86(0x240)][_0x138b86(0x834)]),_0x2f39b8={};if(_0xf8621c&&_0xf8621c[_0x138b86(0x5fa)]){let _0x1b0163=_0xf8621c[_0x138b86(0x5fa)];typeof _0x1b0163[_0x138b86(0x45a)]==_0x138b86(0x525)&&(_0x2f39b8[_0x138b86(0x45a)]=_0x1b0163[_0x138b86(0x45a)]),typeof _0x1b0163[_0x138b86(0x6c2)]==_0x138b86(0x525)&&(_0x2f39b8[_0x138b86(0x6c2)]=_0x1b0163[_0x138b86(0x6c2)]),typeof _0x1b0163[_0x138b86(0x1fa)]=='string'&&(_0x2f39b8[_0x138b86(0x1fa)]=_0x1b0163[_0x138b86(0x1fa)]),typeof _0x1b0163[_0x138b86(0x20b)]=='string'&&(_0x2f39b8[_0x138b86(0x20b)]=_0x1b0163[_0x138b86(0x20b)]),typeof _0x1b0163[_0x138b86(0x1ac)]==_0x138b86(0x525)&&(_0x2f39b8['status']=_0x1b0163[_0x138b86(0x1ac)]),typeof _0x1b0163['notas']==_0x138b86(0x525)&&(_0x2f39b8[_0x138b86(0x695)]=_0x1b0163[_0x138b86(0x695)]),typeof _0x1b0163[_0x138b86(0x7ea)]==_0x138b86(0x525)&&(_0x2f39b8[_0x138b86(0x7ea)]=_0x1b0163[_0x138b86(0x7ea)]),Array[_0x138b86(0x5b5)](_0x1b0163[_0x138b86(0x494)])&&(_0x2f39b8[_0x138b86(0x494)]=_0x1b0163[_0x138b86(0x494)]['join'](',\x20')),Array[_0x138b86(0x5b5)](_0x1b0163[_0x138b86(0x58e)])&&(_0x2f39b8[_0x138b86(0x58e)]=_0x1b0163['etiquetas'][_0x138b86(0x650)](',\x20'));}return _0xf8621c&&_0xf8621c[_0x138b86(0x5fa)]&&_0xf8621c[_0x138b86(0x5fa)]['customFields']&&_0xf8621c[_0x138b86(0x5fa)]['customFields'][_0x138b86(0x843)](_0x48e079=>{const _0x2c3cea=_0x138b86;let _0x2155ff=this[_0x2c3cea(0x711)]?.['customFields'][_0x2c3cea(0x7c1)](_0x4726e0=>_0x4726e0[_0x2c3cea(0x261)]===_0x48e079[_0x2c3cea(0x261)]);_0x2155ff&&(_0x2f39b8[_0x2155ff[_0x2c3cea(0x80a)]]=_0x48e079['value']);}),_0x2f39b8;}async['replaceVariablesChat'](_0xe1d57e,_0x195337){const _0x27bad0=a0_0x4ac10f;try{let _0x4c4671=await this['getVariablesChat'](_0x195337);return this[_0x27bad0(0x642)](_0xe1d57e,_0x4c4671);}catch(_0x315086){return this[_0x27bad0(0x44e)]['error'](_0x27bad0(0x15c)+_0x195337+':\x20'+_0x315086),_0xe1d57e;}}async[a0_0x4ac10f(0x438)](_0x22e7c0){const _0x4fc030=a0_0x4ac10f;try{if(this['logger'][_0x4fc030(0x188)](this['instanceName']+'\x20('+this[_0x4fc030(0x240)][_0x4fc030(0x834)]+_0x4fc030(0x22e)),_0x22e7c0[_0x4fc030(0x399)]&&_0x22e7c0[_0x4fc030(0x261)]){if(this[_0x4fc030(0x240)][_0x4fc030(0x397)]['processing_id']===_0x22e7c0[_0x4fc030(0x261)]['toString']())throw new Error(_0x4fc030(0x631));let _0xcb16dc=await this[_0x4fc030(0x37d)]['scheduleMessage'][_0x4fc030(0x1ba)](_0x22e7c0[_0x4fc030(0x261)],this[_0x4fc030(0x240)][_0x4fc030(0x834)]);return setTimeout(()=>this[_0x4fc030(0x125)](),0x7d0),_0xcb16dc;}let _0x5de7a3;if(_0x22e7c0[_0x4fc030(0x261)]&&(_0x5de7a3=await this[_0x4fc030(0x37d)][_0x4fc030(0x52a)]['findById'](_0x22e7c0['_id'],this['instance']['wuid'])),_0x5de7a3){let _0x5c55f7;if(this[_0x4fc030(0x240)][_0x4fc030(0x397)][_0x4fc030(0x225)]===_0x5de7a3[_0x4fc030(0x261)][_0x4fc030(0x830)]())_0x5c55f7={'$set':{'status':_0x22e7c0[_0x4fc030(0x1ac)]}};else{let {_id:_0x2ef47f,..._0x205ffe}=_0x22e7c0;_0x5c55f7={'$set':_0x205ffe};}let _0x3d8502=await this['repository'][_0x4fc030(0x52a)][_0x4fc030(0x1bd)](_0x22e7c0[_0x4fc030(0x261)],_0x5c55f7,this[_0x4fc030(0x240)]['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x3d8502;}else{_0x22e7c0[_0x4fc030(0x689)]=this['instance'][_0x4fc030(0x834)];let _0x4a4fcb=await this[_0x4fc030(0x37d)][_0x4fc030(0x52a)][_0x4fc030(0x7d8)](_0x22e7c0,this[_0x4fc030(0x240)][_0x4fc030(0x834)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x4a4fcb;}}catch(_0xf5e5d5){let _0x393dc8='Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message',_0x2bf977=_0xf5e5d5 instanceof Error?_0xf5e5d5[_0x4fc030(0x552)]:typeof _0xf5e5d5==_0x4fc030(0x7e5)?JSON[_0x4fc030(0x3cc)](_0xf5e5d5):_0xf5e5d5,_0x29bfe3=_0x393dc8+':\x20'+_0x2bf977;throw this[_0x4fc030(0x44e)][_0x4fc030(0x4f6)](this['instanceName']+'\x20('+this['instance'][_0x4fc030(0x834)]+'):\x20'+_0x29bfe3),new m(_0x29bfe3);}}async['getScheduleMessage'](){const _0x4eab32=a0_0x4ac10f;try{return await this['repository'][_0x4eab32(0x52a)][_0x4eab32(0x7c1)]({'where':{}},this[_0x4eab32(0x240)][_0x4eab32(0x834)]);}catch(_0x1c4574){let _0x218d5f=_0x4eab32(0x519),_0x96aa53=_0x1c4574 instanceof Error?_0x1c4574[_0x4eab32(0x552)]:typeof _0x1c4574==_0x4eab32(0x7e5)?JSON['stringify'](_0x1c4574):_0x1c4574,_0xbc1966=_0x218d5f+':\x20'+_0x96aa53;throw this['logger'][_0x4eab32(0x4f6)](this['instanceName']+'\x20('+this[_0x4eab32(0x240)][_0x4eab32(0x834)]+_0x4eab32(0x309)+_0xbc1966),new m(_0xbc1966);}}async['deleteDoneMessages'](){const _0x27a6f8=a0_0x4ac10f;try{let _0x7b78c4={'status':'done'},_0x5732e3=await this[_0x27a6f8(0x37d)][_0x27a6f8(0x52a)]['deleteMany'](_0x7b78c4,this[_0x27a6f8(0x240)][_0x27a6f8(0x834)]);if(!_0x5732e3[_0x27a6f8(0x4f6)])this[_0x27a6f8(0x44e)][_0x27a6f8(0x188)](this[_0x27a6f8(0x82b)]+'\x20('+this[_0x27a6f8(0x240)][_0x27a6f8(0x834)]+_0x27a6f8(0x1e8));else throw new Error(_0x5732e3[_0x27a6f8(0x4f6)][_0x27a6f8(0x552)]||_0x27a6f8(0x211));return this[_0x27a6f8(0x4bc)]();}catch(_0xafdfc3){let _0x5fa2a1='Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done',_0x27a1a1=_0xafdfc3 instanceof Error?_0xafdfc3[_0x27a6f8(0x552)]:typeof _0xafdfc3=='object'?JSON['stringify'](_0xafdfc3):_0xafdfc3,_0xc59cda=_0x5fa2a1+':\x20'+_0x27a1a1;throw this[_0x27a6f8(0x44e)][_0x27a6f8(0x4f6)](this[_0x27a6f8(0x82b)]+'\x20('+this[_0x27a6f8(0x240)]['wuid']+_0x27a6f8(0x309)+_0xc59cda),new m(_0xc59cda);}}async[a0_0x4ac10f(0x7db)](_0x515c84,_0x2098f4){const _0x134463=a0_0x4ac10f;try{if(_0x2098f4['type']===_0x134463(0x7fa)&&!this[_0x134463(0x711)]?.[_0x134463(0x639)][_0x134463(0x516)])return this[_0x134463(0x44e)][_0x134463(0x4f6)](this[_0x134463(0x82b)]+'\x20('+this[_0x134463(0x240)][_0x134463(0x834)]+_0x134463(0x619)),{'error':!0x0,'detail':_0x134463(0x3e2)};switch(_0x2098f4[_0x134463(0x14f)]){case _0x134463(0x6e7):return await this['scheduleSendText'](_0x2098f4,_0x515c84);case _0x134463(0x27d):return await this[_0x134463(0x5d8)](_0x2098f4,_0x515c84);case _0x134463(0x75c):return await this['scheduleSendAudio'](_0x2098f4,_0x515c84);case'flow':let _0x563af7=new We();return _0x563af7['name']=_0x2098f4[_0x134463(0x210)],_0x563af7[_0x134463(0x6e1)]=_0x515c84,await this[_0x134463(0x7a8)](_0x563af7);break;default:return this['logger'][_0x134463(0x4f6)](this[_0x134463(0x82b)]+'\x20('+this[_0x134463(0x240)][_0x134463(0x834)]+_0x134463(0x2d8)+_0x2098f4[_0x134463(0x14f)]),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x3d65f4){return this[_0x134463(0x44e)][_0x134463(0x4f6)](this[_0x134463(0x82b)]+'\x20('+this[_0x134463(0x240)]['wuid']+_0x134463(0x6aa)+(_0x3d65f4 instanceof Error?_0x3d65f4[_0x134463(0x552)]:JSON[_0x134463(0x3cc)](_0x3d65f4,null,0x2))),{'error':!0x0,'detail':_0x3d65f4[_0x134463(0x552)]};}}[a0_0x4ac10f(0x36a)](_0x5cb8ac){const _0x391b63=a0_0x4ac10f;let _0x25b52c=_0x5cb8ac[_0x391b63(0x3eb)]('|'),_0x37fab6=Math[_0x391b63(0x6a9)](Math['random']()*_0x25b52c[_0x391b63(0x30c)]);return _0x25b52c[_0x37fab6]['trim']();}async[a0_0x4ac10f(0x5ab)](_0x17ba5d,_0x462c4e){const _0x57078b=a0_0x4ac10f;if(this['logger'][_0x57078b(0x188)](this[_0x57078b(0x82b)]+'\x20('+this[_0x57078b(0x240)]['wuid']+_0x57078b(0x4dd)+_0x462c4e+'\x27'),!_0x17ba5d[_0x57078b(0x552)]['text']||_0x17ba5d[_0x57078b(0x552)]['text'][_0x57078b(0x30c)]===0x0)return{'error':!0x0,'detail':_0x57078b(0x542)};let _0x1af66a=this[_0x57078b(0x36a)](_0x17ba5d[_0x57078b(0x552)]['text']),_0x5af121=await this['replaceVariablesChat'](_0x1af66a,_0x462c4e),_0x3323e1={'number':_0x462c4e,'options':{'delay':_0x17ba5d[_0x57078b(0x552)]['delay'],'linkPreview':_0x17ba5d[_0x57078b(0x552)][_0x57078b(0x50e)]},'textMessage':{'text':_0x5af121}},_0x1e0d5b=null;try{let _0x4490ba=await this['textMessage'](_0x3323e1);if(_0x4490ba&&_0x4490ba[_0x57078b(0x1ac)])return{'error':!0x1,'id':_0x4490ba['key']['id']};_0x1e0d5b=JSON['stringify'](_0x4490ba),this[_0x57078b(0x44e)]['verbose'](this['instanceName']+'\x20('+this[_0x57078b(0x240)]['wuid']+_0x57078b(0x309)+_0x1e0d5b);}catch(_0x8a028a){this[_0x57078b(0x44e)][_0x57078b(0x4f6)](this[_0x57078b(0x82b)]+'\x20('+this[_0x57078b(0x240)][_0x57078b(0x834)]+_0x57078b(0x347)+(_0x8a028a instanceof Error?_0x8a028a[_0x57078b(0x552)]:JSON[_0x57078b(0x3cc)](_0x8a028a,null,0x2))),_0x1e0d5b=_0x8a028a[_0x57078b(0x552)];}if(_0x1e0d5b)return{'error':!0x0,'detail':(typeof _0x1e0d5b==_0x57078b(0x7e5)?JSON[_0x57078b(0x3cc)](_0x1e0d5b,null,0x2):_0x1e0d5b)[_0x57078b(0x527)](/[\[\]{}\n]/g,'\x20')[_0x57078b(0x527)](/  +/g,'\x20')};}async[a0_0x4ac10f(0x5d8)](_0xdaa2b9,_0x149eb0){const _0x3a7a63=a0_0x4ac10f;this[_0x3a7a63(0x44e)][_0x3a7a63(0x188)](this['instanceName']+'\x20('+this[_0x3a7a63(0x240)]['wuid']+_0x3a7a63(0x1c3)+_0x149eb0+'\x27');let _0x5ec045;if(_0xdaa2b9['message'][_0x3a7a63(0x6e7)]&&_0xdaa2b9[_0x3a7a63(0x552)][_0x3a7a63(0x6e7)][_0x3a7a63(0x30c)]>0x0){let _0x93179e=this['getRandomText'](_0xdaa2b9[_0x3a7a63(0x552)][_0x3a7a63(0x6e7)]);_0x5ec045=await this[_0x3a7a63(0x26d)](_0x93179e,_0x149eb0);}let _0x4e13c0={'number':_0x149eb0,'options':{'delay':_0xdaa2b9[_0x3a7a63(0x552)][_0x3a7a63(0x3cd)],'linkPreview':_0xdaa2b9[_0x3a7a63(0x552)][_0x3a7a63(0x50e)]},'mediaMessage':{'mediatype':_0xdaa2b9['message'][_0x3a7a63(0x291)],'caption':_0x5ec045,'media':_0xdaa2b9[_0x3a7a63(0x552)][_0x3a7a63(0x62a)]}},_0x5be717=null;try{let _0x538269=await this[_0x3a7a63(0x829)](_0x4e13c0);if(_0x538269&&_0x538269['status'])return{'error':!0x1,'id':_0x538269[_0x3a7a63(0x77d)]['id']};_0x5be717=JSON[_0x3a7a63(0x3cc)](_0x538269),this[_0x3a7a63(0x44e)][_0x3a7a63(0x188)](this['instanceName']+'\x20('+this[_0x3a7a63(0x240)][_0x3a7a63(0x834)]+_0x3a7a63(0x309)+_0x5be717);}catch(_0x376ed0){this[_0x3a7a63(0x44e)][_0x3a7a63(0x4f6)](this[_0x3a7a63(0x82b)]+'\x20('+this[_0x3a7a63(0x240)][_0x3a7a63(0x834)]+_0x3a7a63(0x4c7)+(_0x376ed0 instanceof Error?_0x376ed0[_0x3a7a63(0x552)]:JSON['stringify'](_0x376ed0,null,0x2))),_0x5be717=_0x376ed0[_0x3a7a63(0x552)];}if(_0x5be717)return{'error':!0x0,'detail':(typeof _0x5be717==_0x3a7a63(0x7e5)?JSON[_0x3a7a63(0x3cc)](_0x5be717,null,0x2):_0x5be717)['replace'](/[\[\]{}\n]/g,'\x20')[_0x3a7a63(0x527)](/  +/g,'\x20')};}async[a0_0x4ac10f(0x6f2)](_0x3b9079,_0x317187){const _0xe085c2=a0_0x4ac10f;this['logger'][_0xe085c2(0x188)](this[_0xe085c2(0x82b)]+'\x20('+this[_0xe085c2(0x240)][_0xe085c2(0x834)]+'):\x20\x27Enviando\x20audio\x20para\x20\x27'+_0x317187+'\x27');let _0x357c8c={'number':_0x317187,'options':{'delay':_0x3b9079[_0xe085c2(0x552)][_0xe085c2(0x3cd)]},'audioMessage':{'audio':_0x3b9079[_0xe085c2(0x552)]['urlOrBase64']}},_0x42226f=null;try{let _0xe8bdac=await this['audioWhatsapp'](_0x357c8c);if(_0xe8bdac&&_0xe8bdac[_0xe085c2(0x1ac)])return{'error':!0x1,'id':_0xe8bdac[_0xe085c2(0x77d)]['id']};_0x42226f=JSON['stringify'](_0xe8bdac),this[_0xe085c2(0x44e)]['verbose'](this[_0xe085c2(0x82b)]+'\x20('+this[_0xe085c2(0x240)][_0xe085c2(0x834)]+_0xe085c2(0x309)+_0x42226f);}catch(_0x34143d){this[_0xe085c2(0x44e)][_0xe085c2(0x4f6)](this[_0xe085c2(0x82b)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20'+(_0x34143d instanceof Error?_0x34143d[_0xe085c2(0x552)]:JSON[_0xe085c2(0x3cc)](_0x34143d,null,0x2))),_0x42226f=_0x34143d[_0xe085c2(0x552)];}if(_0x42226f)return{'error':!0x0,'detail':(typeof _0x42226f==_0xe085c2(0x7e5)?JSON['stringify'](_0x42226f,null,0x2):_0x42226f)[_0xe085c2(0x527)](/[\[\]{}\n]/g,'\x20')[_0xe085c2(0x527)](/  +/g,'\x20')};}async[a0_0x4ac10f(0x7ef)](_0x1e4027){const _0x67133e=a0_0x4ac10f;try{return await this[_0x67133e(0x18f)][_0x67133e(0x17a)](_0x1e4027[_0x67133e(0x2cd)],_0x1e4027[_0x67133e(0x4db)]),{'update':_0x67133e(0x531)};}catch(_0x82e2e1){let _0x244acf=_0x67133e(0x2d4),_0x16d982=_0x82e2e1 instanceof Error?_0x82e2e1[_0x67133e(0x552)]:typeof _0x82e2e1==_0x67133e(0x7e5)?JSON[_0x67133e(0x3cc)](_0x82e2e1):_0x82e2e1,_0x44c40f=_0x244acf+':\x20'+_0x16d982;throw this[_0x67133e(0x44e)][_0x67133e(0x4f6)](this[_0x67133e(0x82b)]+'\x20('+this[_0x67133e(0x240)][_0x67133e(0x834)]+_0x67133e(0x309)+_0x44c40f),new _(_0x44c40f);}}async[a0_0x4ac10f(0x82e)](_0x142a17){const _0x28501b=a0_0x4ac10f;try{return await this[_0x28501b(0x18f)][_0x28501b(0x41f)](_0x142a17[_0x28501b(0x2cd)],_0x142a17[_0x28501b(0x80a)]),{'update':_0x28501b(0x531)};}catch(_0x64692b){let _0x1ed949=_0x28501b(0x785),_0x2e7ace=_0x64692b instanceof Error?_0x64692b['message']:typeof _0x64692b==_0x28501b(0x7e5)?JSON[_0x28501b(0x3cc)](_0x64692b):_0x64692b,_0x154485=_0x1ed949+':\x20'+_0x2e7ace;throw this['logger'][_0x28501b(0x4f6)](this[_0x28501b(0x82b)]+'\x20('+this[_0x28501b(0x240)][_0x28501b(0x834)]+_0x28501b(0x309)+_0x154485),new _(_0x154485);}}async[a0_0x4ac10f(0x142)](_0x388df8){const _0x17cd56=a0_0x4ac10f;try{let _0x586c72=await this[_0x17cd56(0x18f)]['groupToggleEphemeral'](_0x388df8['groupJid'],_0x388df8['expiration']);return{'success':!0x0};}catch(_0x1bfa72){let _0x39cae7=_0x17cd56(0x790),_0x353bdd=_0x1bfa72 instanceof Error?_0x1bfa72[_0x17cd56(0x552)]:typeof _0x1bfa72=='object'?JSON['stringify'](_0x1bfa72):_0x1bfa72,_0x3bc6bd=_0x39cae7+':\x20'+_0x353bdd;throw this[_0x17cd56(0x44e)]['error'](this[_0x17cd56(0x82b)]+'\x20('+this[_0x17cd56(0x240)][_0x17cd56(0x834)]+_0x17cd56(0x309)+_0x3bc6bd),new _(_0x3bc6bd);}}async[a0_0x4ac10f(0x4ee)](_0x1ff66a){const _0x223b03=a0_0x4ac10f;try{return await this['client'][_0x223b03(0x751)](_0x1ff66a[_0x223b03(0x2cd)],_0x1ff66a[_0x223b03(0x264)]),{'update':'success'};}catch(_0x343446){let _0xd14782='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting',_0x43a23c=_0x343446 instanceof Error?_0x343446['message']:typeof _0x343446==_0x223b03(0x7e5)?JSON[_0x223b03(0x3cc)](_0x343446):_0x343446,_0x291b53=_0xd14782+':\x20'+_0x43a23c;throw this[_0x223b03(0x44e)][_0x223b03(0x4f6)](this[_0x223b03(0x82b)]+'\x20('+this[_0x223b03(0x240)]['wuid']+_0x223b03(0x309)+_0x291b53),new _(_0x291b53);}}async['updateGroupPicture'](_0x152882){const _0x2fa7ab=a0_0x4ac10f;try{let _0x152873;if((0x0,k[_0x2fa7ab(0x3db)])(_0x152882['image'])){let _0x2bd5a9=new Date()[_0x2fa7ab(0x2fd)](),_0x17b9e6=_0x152882[_0x2fa7ab(0x5b6)]+_0x2fa7ab(0x63f)+_0x2bd5a9;_0x152873=(await Z[_0x2fa7ab(0x5b7)][_0x2fa7ab(0x2c5)](_0x17b9e6,{'responseType':_0x2fa7ab(0x1dc)}))['data'];}else{if((0x0,k[_0x2fa7ab(0x665)])(_0x152882[_0x2fa7ab(0x5b6)]))_0x152873=Buffer['from'](_0x152882[_0x2fa7ab(0x5b6)],_0x2fa7ab(0x7b9));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x2fa7ab(0x18f)][_0x2fa7ab(0x4e2)](_0x152882[_0x2fa7ab(0x2cd)],_0x152873),{'update':'success'};}catch(_0x4888c7){let _0x289bcd=_0x2fa7ab(0x72c),_0x4f2991=_0x4888c7 instanceof Error?_0x4888c7['message']:typeof _0x4888c7==_0x2fa7ab(0x7e5)?JSON[_0x2fa7ab(0x3cc)](_0x4888c7):_0x4888c7,_0x599fbc=_0x289bcd+':\x20'+_0x4f2991;throw this[_0x2fa7ab(0x44e)][_0x2fa7ab(0x4f6)](this[_0x2fa7ab(0x82b)]+'\x20('+this['instance'][_0x2fa7ab(0x834)]+_0x2fa7ab(0x309)+_0x599fbc),new _(_0x599fbc);}}},Vt=class l{constructor(_0x395332,_0x40b3b6,_0x2dd02){const _0x5d9894=a0_0x4ac10f;this['eventEmitter']=_0x395332,this['configService']=_0x40b3b6,this['repository']=_0x2dd02,this['db']={},this['redis']={},this[_0x5d9894(0x44e)]=new $(l['name']),this[_0x5d9894(0x5dc)]={},(this['removeInstance'](),this[_0x5d9894(0x574)](),Object['assign'](this['db'],_0x40b3b6['get'](_0x5d9894(0x815))),Object[_0x5d9894(0x660)](this[_0x5d9894(0x564)],_0x40b3b6['get'](_0x5d9894(0x67b))),this[_0x5d9894(0x66b)]=this['db']['ENABLED']?this[_0x5d9894(0x37d)]['dbServer']?.['db'](this['db'][_0x5d9894(0x338)][_0x5d9894(0x83a)]+'-instances'):void 0x0,this[_0x5d9894(0x743)]=this[_0x5d9894(0x564)][_0x5d9894(0x62e)]?new le(this[_0x5d9894(0x564)]):void 0x0);}async[a0_0x4ac10f(0x846)](_0x100d48){const _0x5b79e0=a0_0x4ac10f;if(_0x100d48&&!this[_0x5b79e0(0x5dc)][_0x100d48])throw new J(_0x5b79e0(0x1b2)+_0x100d48+_0x5b79e0(0x571));let _0x500dd6=[];for await(let [_0x2a62bf,_0x25e1a3]of Object[_0x5b79e0(0x58a)](this[_0x5b79e0(0x5dc)]))if(_0x25e1a3&&_0x25e1a3['connectionStatus'][_0x5b79e0(0x81e)]==='open'){let _0x58632b=await this[_0x5b79e0(0x37d)][_0x5b79e0(0x504)][_0x5b79e0(0x7c1)](_0x2a62bf);_0x500dd6[_0x5b79e0(0x304)]({'instance':{'instanceName':_0x2a62bf,'apikey':_0x58632b['apikey'],'owner':_0x25e1a3[_0x5b79e0(0x834)],'profileName':await _0x25e1a3[_0x5b79e0(0x688)]()||'not\x20loaded','profilePictureUrl':_0x25e1a3[_0x5b79e0(0x224)]}});}return _0x500dd6[_0x5b79e0(0x7c1)](_0x85a30a=>_0x85a30a['instance'][_0x5b79e0(0x82b)]===_0x100d48)??_0x500dd6;}async[a0_0x4ac10f(0x56a)](_0x55f15f){const _0x2dcd4a=a0_0x4ac10f;if(this['db'][_0x2dcd4a(0x62e)]&&(await this[_0x2dcd4a(0x37d)][_0x2dcd4a(0x5d5)][_0x2dcd4a(0x59f)](),(await this[_0x2dcd4a(0x66b)][_0x2dcd4a(0x3d4)]())[_0x2dcd4a(0x30c)]>0x0&&await this[_0x2dcd4a(0x66b)]['dropCollection'](_0x55f15f)),this[_0x2dcd4a(0x564)][_0x2dcd4a(0x62e)]){this[_0x2dcd4a(0x743)][_0x2dcd4a(0x385)]=_0x55f15f,await this[_0x2dcd4a(0x743)]['delAll']();return;}}async['loadInstance'](){const _0x438738=a0_0x4ac10f;await this[_0x438738(0x33f)]();let _0x4e00fd=async _0x5880cf=>{const _0x3aae6f=_0x438738;let _0x59c0b0=new ve(this[_0x3aae6f(0x6de)],this[_0x3aae6f(0x232)],this[_0x3aae6f(0x37d)]);_0x59c0b0[_0x3aae6f(0x82b)]=_0x5880cf,await _0x59c0b0[_0x3aae6f(0x2c9)](),this['waInstances'][_0x5880cf]=_0x59c0b0;};try{if(this[_0x438738(0x564)]['ENABLED']){let _0x28eb7c=await this['cache']['instanceKeys']();_0x28eb7c?.['length']>0x0&&_0x28eb7c[_0x438738(0x843)](async _0x1ca0d4=>await _0x4e00fd(_0x1ca0d4[_0x438738(0x3eb)](':')[0x1]));return;}if(this['db'][_0x438738(0x62e)]){await this[_0x438738(0x37d)][_0x438738(0x5d5)][_0x438738(0x59f)]();let _0x2bfd08=await this['dbInstance'][_0x438738(0x3d4)]();_0x2bfd08[_0x438738(0x30c)]>0x0&&_0x2bfd08['forEach'](async _0x385d99=>await _0x4e00fd(_0x385d99['namespace'][_0x438738(0x527)](/^[\w-]+\./,'')));return;}}catch(_0x5ef22b){this['logger']['error'](_0x5ef22b);}}async['cleanDisconnectedInstances'](){const _0x36f8bb=a0_0x4ac10f;try{let _0x3e3e10=await this['repository'][_0x36f8bb(0x504)][_0x36f8bb(0x506)]({'online':!0x1});for(let _0x5ec4b7 of _0x3e3e10){let _0x506853=_0x5ec4b7[_0x36f8bb(0x261)];await De[_0x36f8bb(0x43a)](oe,_0x506853);}console['log'](_0x36f8bb(0x81a)+_0x3e3e10[_0x36f8bb(0x30c)]);let _0x2542e9={'online':!0x1},_0x49e8dc=await this['repository'][_0x36f8bb(0x504)][_0x36f8bb(0x630)](_0x2542e9);console[_0x36f8bb(0x85b)](_0x36f8bb(0x3be)+_0x49e8dc[_0x36f8bb(0x206)]);}catch(_0x3af473){console[_0x36f8bb(0x4f6)](_0x36f8bb(0x64d),_0x3af473);}}async['InstancesAlterarTodas'](){const _0x487ac3=a0_0x4ac10f;try{let _0x3d9297={'online':!0x1},_0x5de801={'online':!0x1,'lastDisconnect':Date[_0x487ac3(0x77c)]()},_0x47181=await this[_0x487ac3(0x37d)][_0x487ac3(0x504)]['updateAll'](_0x3d9297,_0x5de801);await this[_0x487ac3(0x269)]();}catch(_0x1202ed){console[_0x487ac3(0x4f6)](_0x487ac3(0x17f),_0x1202ed);}}[a0_0x4ac10f(0x2ce)](){const _0x1a024e=a0_0x4ac10f;this[_0x1a024e(0x232)]['on'](_0x1a024e(0x75e),async _0x46231e=>{const _0x27ebc6=_0x1a024e;try{this[_0x27ebc6(0x5dc)][_0x46231e]=void 0x0;}catch{}try{this[_0x27ebc6(0x56a)](_0x46231e);}finally{this[_0x27ebc6(0x44e)][_0x27ebc6(0x773)]('Instance\x20\x22'+_0x46231e+_0x27ebc6(0x4cf));}});}['noConnection'](){const _0x24bda2=a0_0x4ac10f;this['eventEmitter']['on'](_0x24bda2(0x2ca),async _0x40a694=>{const _0x472a80=_0x24bda2;try{this['waInstances'][_0x40a694]=void 0x0;}catch{}try{this[_0x472a80(0x56a)](_0x40a694);}finally{this[_0x472a80(0x44e)]['warn'](_0x472a80(0x1b2)+_0x40a694+'\x22\x20-\x20NOT\x20CONNECTION');}});}},Gt=class extends O{[a0_0x4ac10f(0x6c3)](_0xf6b9b1){return ta(_0xf6b9b1);}async[a0_0x4ac10f(0x6a2)](_0x5f1fe3){const _0x572817=a0_0x4ac10f;if(_0x5f1fe3['length']!==0x0)try{return{'insertCount':(await this[_0x572817(0x6c3)](_0x5f1fe3[0x0][_0x572817(0x689)])[_0x572817(0x5eb)]([..._0x5f1fe3]))[_0x572817(0x30c)]};}catch(_0x2aadd7){return _0x2aadd7;}}async[a0_0x4ac10f(0x7c1)](_0x8c5a7b,_0x42f28d){const _0x74839c=a0_0x4ac10f;try{let _0xd0c7ac=this[_0x74839c(0x6c3)](_0x42f28d),_0x31a42b=T(_0x8c5a7b['where']);return await _0xd0c7ac[_0x74839c(0x7c1)](_0x31a42b)['sort']({'lastmsg':-0x1})['limit'](_0x8c5a7b?.[_0x74839c(0x5c3)]??0x0)[_0x74839c(0x1b8)]();}catch{return[];}}async[a0_0x4ac10f(0x399)](_0x3ac4b7,_0x2911e9){const _0x407bb1=a0_0x4ac10f;try{return{'deletedCount':(await this[_0x407bb1(0x6c3)](_0x2911e9)[_0x407bb1(0x630)]({..._0x3ac4b7[_0x407bb1(0x577)]}))[_0x407bb1(0x127)]};}catch(_0xa5397f){return{'error':_0xa5397f?.[_0x407bb1(0x830)]()};}}async[a0_0x4ac10f(0x811)](_0x36e5b3,_0x526bd5){const _0x3b02de=a0_0x4ac10f;try{return await this[_0x3b02de(0x6c3)](_0x526bd5)[_0x3b02de(0x630)]({..._0x36e5b3['where']}),[];}catch(_0x2941da){return{'error':_0x2941da?.['toString']()};}}async['findOne'](_0x4d07ed,_0xd1abe9){const _0x18f35b=a0_0x4ac10f;try{let _0x24d786=this[_0x18f35b(0x6c3)](_0xd1abe9),_0x5e2f6a=T(_0x4d07ed['where']);return await _0x24d786[_0x18f35b(0x349)](_0x5e2f6a)['lean']();}catch{return null;}}async[a0_0x4ac10f(0x191)](_0x50937b,_0xfcaab6,_0x348755,_0x5b0642,_0x238f8d='$set'){const _0x210d7e=a0_0x4ac10f;try{let _0xd28e5d={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5b0642},_0x5257f7=this['getChatModelForOwner'](_0x348755),_0x42db26=T(_0x50937b[_0x210d7e(0x577)]);Object['keys'](_0xfcaab6)[_0x210d7e(0x843)](_0x491e25=>{_0xfcaab6[_0x491e25]==null&&delete _0xfcaab6[_0x491e25];});let _0x1788f0={};return _0x1788f0[_0x238f8d]=_0xfcaab6,await _0x5257f7[_0x210d7e(0x19e)](_0x42db26,_0x1788f0,_0xd28e5d);}catch(_0x58728c){return console[_0x210d7e(0x4f6)](_0x58728c),null;}}async[a0_0x4ac10f(0x130)](_0x2d0599){const _0x447b90=a0_0x4ac10f;try{let _0x5171eb=this['getChatModelForOwner'](_0x2d0599[0x0][_0x447b90(0x2bd)][_0x447b90(0x577)][_0x447b90(0x689)]),_0x591033=_0x2d0599[_0x447b90(0x3c7)](_0x13bb17=>({'updateOne':{'filter':{..._0x13bb17['query'][_0x447b90(0x577)]},'update':{'$set':_0x13bb17[_0x447b90(0x256)]},'upsert':!0x0}})),_0x5c1610=await _0x5171eb[_0x447b90(0x717)](_0x591033);return _0x5c1610['modifiedCount']+_0x5c1610[_0x447b90(0x813)];}catch(_0x4b6678){return console[_0x447b90(0x4f6)](_0x4b6678),0x0;}}async[a0_0x4ac10f(0x6fb)](_0x137854){const _0x5b5b0c=a0_0x4ac10f;try{let _0x3f657a={'group_isCommunity':'','group_announce':'','group_size':''},_0x6f069={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0xef24ac={'$unset':_0x3f657a};return(await this[_0x5b5b0c(0x6c3)](_0x137854)[_0x5b5b0c(0x130)](_0x6f069,_0xef24ac))['modifiedCount'];}catch(_0x101248){return console[_0x5b5b0c(0x4f6)](_0x5b5b0c(0x3f4),_0x101248),0x0;}}async['updateMissingEtiquetas'](_0xa6465f){const _0x44eae6=a0_0x4ac10f;try{let _0x5608d2=this['getChatModelForOwner'](_0xa6465f),_0x27b05c={'leadInfo.etiquetas':{'$exists':!0x1}},_0x3b0053={'$set':{'leadInfo.etiquetas':[]}};return(await _0x5608d2['updateMany'](_0x27b05c,_0x3b0053))[_0x44eae6(0x2ba)];}catch(_0xfd061d){return console[_0x44eae6(0x4f6)](_0xfd061d),0x0;}}async[a0_0x4ac10f(0x195)](_0xecb39a){const _0x35cfe1=a0_0x4ac10f;try{let _0x2a7f7e=this[_0x35cfe1(0x6c3)](_0xecb39a),_0x241b5c={'leadInfo.tags':{'$exists':!0x1}},_0x17c2af={'$set':{'leadInfo.tags':[]}};return(await _0x2a7f7e[_0x35cfe1(0x130)](_0x241b5c,_0x17c2af))[_0x35cfe1(0x2ba)];}catch(_0x2844e2){return console[_0x35cfe1(0x4f6)](_0x2844e2),0x0;}}async[a0_0x4ac10f(0x136)](_0x204cdb){const _0x1fb446=a0_0x4ac10f;try{let _0x4dd510=this['getChatModelForOwner'](_0x204cdb),_0x2ec074={'leadInfo.customFields':{'$exists':!0x1}},_0x44fd3a={'$set':{'leadInfo.customFields':[]}};return(await _0x4dd510[_0x1fb446(0x130)](_0x2ec074,_0x44fd3a))['modifiedCount'];}catch(_0xef720b){return console[_0x1fb446(0x4f6)](_0xef720b),0x0;}}async[a0_0x4ac10f(0x5eb)](_0x118a39,_0x1a3fc9){const _0x4c0495=a0_0x4ac10f;if(!Array[_0x4c0495(0x5b5)](_0x118a39)||_0x118a39['length']===0x0)throw new Error(_0x4c0495(0x3bb));try{return(await this[_0x4c0495(0x6c3)](_0x1a3fc9)['insertMany'](_0x118a39))['length'];}catch(_0x2ee7b7){throw console[_0x4c0495(0x4f6)](_0x4c0495(0x5a4),_0x2ee7b7),_0x2ee7b7;}}async[a0_0x4ac10f(0x3cf)](_0x2db82b,_0x13060c){const _0x49645b=a0_0x4ac10f;try{await this[_0x49645b(0x6c3)](_0x13060c)[_0x49645b(0x1ba)]({'_id':_0x2db82b});}catch(_0x11613c){throw console[_0x49645b(0x4f6)](_0x49645b(0x648),_0x11613c),_0x11613c;}}},Bt=class extends O{constructor(_0x408261,_0x1d0466,_0xc22e69){const _0x5d1b59=a0_0x4ac10f;super(_0x1d0466),this['cacheContactModel']=_0x408261,this[_0x5d1b59(0x6de)]=_0x1d0466,this['dbConnection']=_0xc22e69;}async[a0_0x4ac10f(0x6a2)](_0x130f8f){const _0x555a42=a0_0x4ac10f;if(_0x130f8f['length']!==0x0)try{return{'insertCount':(await this[_0x555a42(0x4f9)][_0x555a42(0x5eb)]([..._0x130f8f]))[_0x555a42(0x30c)]};}catch(_0x4a88a1){return _0x4a88a1;}}async[a0_0x4ac10f(0x256)](_0x1c5051,_0x16605b){const _0x444f95=a0_0x4ac10f;try{let _0x328cad=T(_0x1c5051[_0x444f95(0x577)]);return{'updatedCount':(await this[_0x444f95(0x4f9)][_0x444f95(0x130)](_0x328cad,{'$set':_0x16605b}))[_0x444f95(0x2ba)]};}catch(_0x25de07){return console[_0x444f95(0x4f6)](_0x444f95(0x4ac),_0x25de07),{'error':_0x25de07[_0x444f95(0x830)]()};}}async[a0_0x4ac10f(0x42d)](_0xcccc11){const _0x59d23c=a0_0x4ac10f;try{let _0x2ec34c={'_id':{'$in':_0xcccc11}};return await this[_0x59d23c(0x4f9)][_0x59d23c(0x7c1)](_0x2ec34c)['lean']();}catch(_0x90d5e8){return console[_0x59d23c(0x4f6)](_0x59d23c(0x49e),_0x90d5e8),[];}}async[a0_0x4ac10f(0x399)](_0x13f877){const _0xbf5629=a0_0x4ac10f;try{return{'deletedCount':(await this[_0xbf5629(0x4f9)][_0xbf5629(0x630)]({..._0x13f877[_0xbf5629(0x577)]}))[_0xbf5629(0x127)]};}catch(_0x5a850a){return{'error':_0x5a850a?.[_0xbf5629(0x830)]()};}}async[a0_0x4ac10f(0x7c1)](_0x47eca1){const _0x39770e=a0_0x4ac10f;try{let _0x1a48e4=T(_0x47eca1[_0x39770e(0x577)]);return await this[_0x39770e(0x4f9)][_0x39770e(0x7c1)](_0x1a48e4)[_0x39770e(0x5c3)](_0x47eca1?.[_0x39770e(0x5c3)]??0x0)[_0x39770e(0x1b8)]();}catch{return[];}}async[a0_0x4ac10f(0x349)](_0x2dec7c){const _0x49364e=a0_0x4ac10f;try{let _0x4f5c5c=T(_0x2dec7c[_0x49364e(0x577)]);return await this[_0x49364e(0x4f9)][_0x49364e(0x349)](_0x4f5c5c)[_0x49364e(0x1b8)]();}catch{return null;}}},Wt=class extends O{[a0_0x4ac10f(0x526)](_0x31ff85){return Ma(_0x31ff85);}async[a0_0x4ac10f(0x191)](_0x49e8b5,_0x2c25f3,_0x436113,_0x5b2593){const _0x501372=a0_0x4ac10f;try{let _0x498233={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5b2593},_0x30735e=this[_0x501372(0x526)](_0x436113),_0x2ba01c=T(_0x49e8b5[_0x501372(0x577)]);return await _0x30735e[_0x501372(0x19e)](_0x2ba01c,{'$set':_0x2c25f3},_0x498233);}catch(_0x5eb2c4){return console[_0x501372(0x4f6)](_0x5eb2c4),null;}}async['find'](_0x148bcf,_0x44ca01){const _0x11612c=a0_0x4ac10f;try{let _0x2e223d=this[_0x11612c(0x526)](_0x44ca01),_0x21a817=T(_0x148bcf['where']);return await _0x2e223d[_0x11612c(0x7c1)](_0x21a817);}catch(_0x40755f){console[_0x11612c(0x4f6)](_0x40755f);}}async[a0_0x4ac10f(0x399)](_0x20a101,_0x731e98){const _0x15753f=a0_0x4ac10f;try{let _0x47b9c0=this[_0x15753f(0x526)](_0x731e98),_0x437da5=T(_0x20a101[_0x15753f(0x577)]);await _0x47b9c0['deleteMany'](_0x437da5);}catch(_0x1a3427){console[_0x15753f(0x4f6)](_0x1a3427);}}async['deleteAll'](_0x37fd8b){const _0x1d1645=a0_0x4ac10f;try{return await this['getLabelModelForOwner'](_0x37fd8b)[_0x1d1645(0x547)][_0x1d1645(0x74c)](),{'success':!0x0};}catch(_0x5392be){return console['error'](_0x5392be),{'success':!0x1,'error':_0x5392be};}}},zt=class{constructor(_0x162430){const _0x312fab=a0_0x4ac10f;this[_0x312fab(0x72e)]=_0x162430;}async[a0_0x4ac10f(0x3d1)]({instanceName:_0x14dcb5},_0x22d7df){const _0x5bc97d=a0_0x4ac10f;return await this['waMonitor'][_0x5bc97d(0x5dc)][_0x14dcb5][_0x5bc97d(0x3d1)](_0x22d7df);}async[a0_0x4ac10f(0x2a7)]({instanceName:_0xed7c61},_0x56e8c3){const _0x11f50f=a0_0x4ac10f;return await this['waMonitor'][_0x11f50f(0x5dc)][_0xed7c61][_0x11f50f(0x2a7)](_0x56e8c3);}async[a0_0x4ac10f(0x2a1)]({instanceName:_0x244083},_0x18460d){const _0xaf181e=a0_0x4ac10f;return await this[_0xaf181e(0x72e)]['waInstances'][_0x244083][_0xaf181e(0x2a1)](_0x18460d);}async[a0_0x4ac10f(0x6cd)]({instanceName:_0x1ed7af},_0x1f1e97){const _0x5de9be=a0_0x4ac10f;return await this[_0x5de9be(0x72e)][_0x5de9be(0x5dc)][_0x1ed7af][_0x5de9be(0x67a)](_0x1f1e97);}async[a0_0x4ac10f(0x281)]({instanceName:_0x427fce},_0x158f8f){const _0x4e41ee=a0_0x4ac10f;return await this[_0x4e41ee(0x72e)][_0x4e41ee(0x5dc)][_0x427fce][_0x4e41ee(0x281)](_0x158f8f);}async[a0_0x4ac10f(0x56b)]({instanceName:_0x1ffb26},_0x142a35){const _0x12ee5d=a0_0x4ac10f;return await this[_0x12ee5d(0x72e)]['waInstances'][_0x1ffb26][_0x12ee5d(0x56b)](_0x142a35);}async[a0_0x4ac10f(0x533)]({instanceName:_0x4c20ea},_0x5f186e){const _0x1c482a=a0_0x4ac10f;return await this[_0x1c482a(0x72e)]['waInstances'][_0x4c20ea][_0x1c482a(0x4ae)](_0x5f186e[_0x1c482a(0x1e2)]);}async['fetchProfile']({instanceName:_0x474df1},_0xff5078){const _0x108c4e=a0_0x4ac10f;return await this[_0x108c4e(0x72e)][_0x108c4e(0x5dc)][_0x474df1][_0x108c4e(0x7df)](_0xff5078[_0x108c4e(0x1e2)]);}async[a0_0x4ac10f(0x5bc)]({instanceName:_0x47f05c},_0x4ab366){const _0x3dcd2e=a0_0x4ac10f;return await this[_0x3dcd2e(0x72e)][_0x3dcd2e(0x5dc)][_0x47f05c][_0x3dcd2e(0x5bc)](_0x4ab366);}async[a0_0x4ac10f(0x80b)]({instanceName:_0x12c716},_0x3928fe){const _0x1fa322=a0_0x4ac10f;return await this[_0x1fa322(0x72e)][_0x1fa322(0x5dc)][_0x12c716]['fetchContacts'](_0x3928fe);}async[a0_0x4ac10f(0x153)]({instanceName:_0x371093},_0x912fc2){const _0x37ad5=a0_0x4ac10f;return await this[_0x37ad5(0x72e)]['waInstances'][_0x371093]['getBase64FromMediaMessage'](_0x912fc2);}async[a0_0x4ac10f(0x26c)]({instanceName:_0x58a120},_0x4f6fa4){const _0x4566b7=a0_0x4ac10f;return await this[_0x4566b7(0x72e)]['waInstances'][_0x58a120][_0x4566b7(0x26c)](_0x4f6fa4);}async[a0_0x4ac10f(0x3c1)]({instanceName:_0x4c331d}){const _0x1360ca=a0_0x4ac10f;return await this[_0x1360ca(0x72e)][_0x1360ca(0x5dc)][_0x4c331d][_0x1360ca(0x3c1)]();}async[a0_0x4ac10f(0x6e2)]({instanceName:_0x50e043}){const _0xbd1925=a0_0x4ac10f;return await this['waMonitor'][_0xbd1925(0x5dc)][_0x50e043][_0xbd1925(0x6e2)]();}async[a0_0x4ac10f(0x7c0)]({instanceName:_0x77f20e}){const _0x2437c2=a0_0x4ac10f;return await this[_0x2437c2(0x72e)][_0x2437c2(0x5dc)][_0x77f20e][_0x2437c2(0x7c0)]();}async[a0_0x4ac10f(0x3ec)]({instanceName:_0x41f40b},_0x2f6a37){const _0x44494d=a0_0x4ac10f;return await this[_0x44494d(0x72e)][_0x44494d(0x5dc)][_0x41f40b][_0x44494d(0x3ec)](_0x2f6a37);}async[a0_0x4ac10f(0x7e1)]({instanceName:_0x895321},_0x1664cd){const _0x2e2402=a0_0x4ac10f;return await this[_0x2e2402(0x72e)][_0x2e2402(0x5dc)][_0x895321][_0x2e2402(0x7e1)](_0x1664cd['number']);}async['updateProfileName']({instanceName:_0x5008fb},_0x199d85){const _0x2f2429=a0_0x4ac10f;return await this[_0x2f2429(0x72e)][_0x2f2429(0x5dc)][_0x5008fb][_0x2f2429(0x4e7)](_0x199d85['name']);}async[a0_0x4ac10f(0x204)]({instanceName:_0xc3cdf1},_0x2c6f84){const _0x2e4c1c=a0_0x4ac10f;return await this[_0x2e4c1c(0x72e)][_0x2e4c1c(0x5dc)][_0xc3cdf1][_0x2e4c1c(0x204)](_0x2c6f84[_0x2e4c1c(0x1ac)]);}async['updateProfilePicture']({instanceName:_0x251fc5},_0x564537){const _0x3c1f76=a0_0x4ac10f;return await this[_0x3c1f76(0x72e)][_0x3c1f76(0x5dc)][_0x251fc5]['updateProfilePicture'](_0x564537[_0x3c1f76(0x83d)]);}async[a0_0x4ac10f(0x178)]({instanceName:_0x46fd22},_0x134448){const _0x4818f9=a0_0x4ac10f;return await this[_0x4818f9(0x72e)]['waInstances'][_0x46fd22][_0x4818f9(0x178)]();}},Ht=require(a0_0x4ac10f(0x1f8)),Kt=class l{constructor(_0x3d7e10,_0x214388,_0x52b7ee,_0x1c6042,_0x8d0c48){const _0x1099f7=a0_0x4ac10f;this['waMonitor']=_0x3d7e10,this[_0x1099f7(0x6de)]=_0x214388,this[_0x1099f7(0x37d)]=_0x52b7ee,this['eventEmitter']=_0x1c6042,this[_0x1099f7(0x702)]=_0x8d0c48,this[_0x1099f7(0x44e)]=new $(l['name']);}async[a0_0x4ac10f(0x5db)]({instanceName:_0x11fe05,apikey:_0x52dd20,number:_0x52d44c,proxy:_0x4bdb73=!0x0}){const _0x47bbb9=a0_0x4ac10f;try{let _0x551752=new ve(this[_0x47bbb9(0x6de)],this[_0x47bbb9(0x232)],this[_0x47bbb9(0x37d)]);_0x551752[_0x47bbb9(0x82b)]=_0x11fe05,this[_0x47bbb9(0x72e)][_0x47bbb9(0x5dc)][_0x551752[_0x47bbb9(0x82b)]]=_0x551752;let _0x5aefe6={};_0x52dd20?(await this[_0x47bbb9(0x37d)][_0x47bbb9(0x504)][_0x47bbb9(0x491)]({'apikey':_0x52dd20},_0x11fe05),_0x5aefe6[_0x47bbb9(0x602)]=_0x52dd20):_0x5aefe6=await this[_0x47bbb9(0x702)][_0x47bbb9(0x415)]({'instanceName':_0x551752[_0x47bbb9(0x82b)]});let _0xc11925;if(_0x52d44c){if(_0xc11925=await this[_0x47bbb9(0x5cc)](_0x52d44c),_0xc11925['error'])throw new _(_0xc11925[_0x47bbb9(0x4f6)][_0x47bbb9(0x830)]());_0x52d44c=_0xc11925[_0x47bbb9(0x1e2)];}let _0x2ed5e9;return await _0x551752[_0x47bbb9(0x2c9)](_0x52d44c),await(0x0,Ht[_0x47bbb9(0x3cd)])(0xfa0),_0x52d44c&&await(0x0,Ht[_0x47bbb9(0x3cd)])(0xbb8),_0x2ed5e9=_0x551752[_0x47bbb9(0x7e2)],{'instance':{'instanceName':_0x551752[_0x47bbb9(0x82b)],'status':_0x47bbb9(0x52d)},'hash':_0x5aefe6,'qrcode':_0x2ed5e9};}catch(_0x14b094){throw this['logger'][_0x47bbb9(0x4f6)](_0x14b094),_0x14b094;}}async[a0_0x4ac10f(0x1ea)]({instanceName:_0x5c26a6,number:_0x210a92=null}){const _0x4cff19=a0_0x4ac10f;try{let _0xc9b1a3=this['waMonitor'][_0x4cff19(0x5dc)][_0x5c26a6];switch(_0xc9b1a3?.[_0x4cff19(0x363)]?.[_0x4cff19(0x81e)]){case'close':return await _0xc9b1a3['connectToWhatsapp'](_0x210a92),await(0x0,Ht[_0x4cff19(0x3cd)])(0x7d0),_0xc9b1a3[_0x4cff19(0x7e2)];case'connecting':return _0xc9b1a3['qrCode'];default:return await this[_0x4cff19(0x173)]({'instanceName':_0x5c26a6});}}catch(_0x21378c){this['logger'][_0x4cff19(0x85b)](_0x21378c);}}async[a0_0x4ac10f(0x173)]({instanceName:_0x403526}){const _0x2d967e=a0_0x4ac10f;let _0x161354=this[_0x2d967e(0x72e)][_0x2d967e(0x5dc)][_0x403526][_0x2d967e(0x363)],_0x46b2f2=null;_0x161354[_0x2d967e(0x81e)]===_0x2d967e(0x38e)&&_0x403526&&(_0x46b2f2=await this['waMonitor']['instanceInfo'](_0x403526));let _0x3d4ee4=null;return _0x161354[_0x2d967e(0x81e)]===_0x2d967e(0x21f)&&_0x403526&&(_0x3d4ee4=this[_0x2d967e(0x72e)][_0x2d967e(0x5dc)][_0x403526][_0x2d967e(0x7e2)]),{'instance':_0x403526,'connectionStatus':_0x161354,'instanceInfo':_0x46b2f2,'qrcode':_0x3d4ee4};}async['verifyWhatsAppNumber'](_0xdcf620){const _0x5c7e40=a0_0x4ac10f;_0xdcf620=_0xdcf620[_0x5c7e40(0x527)](/\D/g,'');let _0x598f4b=Object[_0x5c7e40(0x27b)](this[_0x5c7e40(0x72e)]['waInstances'])[_0x5c7e40(0x820)](_0x1abf11=>{const _0x525e94=_0x5c7e40;let _0x213614=this[_0x525e94(0x72e)]['waInstances'][_0x1abf11];return _0x213614&&_0x213614['connectionStatus']&&_0x213614[_0x525e94(0x363)][_0x525e94(0x81e)]==='open';});if(_0x598f4b[_0x5c7e40(0x30c)]===0x0)return{'number':this[_0x5c7e40(0x23d)](_0xdcf620)};let _0x1fa739=Math[_0x5c7e40(0x6a9)](Math['random']()*_0x598f4b['length']),_0x4ba038=_0x598f4b[_0x1fa739];try{let _0x396ae2=(await this[_0x5c7e40(0x72e)]['waInstances'][_0x4ba038][_0x5c7e40(0x2a7)]({'numbers':[_0xdcf620]}))[_0x5c7e40(0x805)]();return _0x396ae2[_0x5c7e40(0x659)]?{'number':_0x396ae2[_0x5c7e40(0x49b)][_0x5c7e40(0x527)](_0x5c7e40(0x559),'')}:{'number':_0xdcf620,'error':'Número\x20não\x20possui\x20WhatsApp.'};}catch(_0x68c67f){return this['logger'][_0x5c7e40(0x4f6)](_0x5c7e40(0x16c)+_0x68c67f),{'number':_0xdcf620,'error':'Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.'};}}[a0_0x4ac10f(0x23d)](_0xa6234c){let _0x47cc11=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0xa6234c);if(_0x47cc11&&_0x47cc11[0x1]==='55'){let _0x18e594=_0x47cc11[0x2],_0x409fca=_0x47cc11[0x3],_0x36207b=_0x47cc11[0x4];if(parseInt(_0x18e594)>=0x1f&&_0x409fca==='9')return _0x47cc11[0x1]+_0x18e594+_0x36207b;}return _0xa6234c;}async[a0_0x4ac10f(0x563)]({instanceName:_0x2e77dd}){const _0x122b13=a0_0x4ac10f;try{return this[_0x122b13(0x72e)]['waInstances'][_0x2e77dd]?.[_0x122b13(0x18f)]?.['ws']?.['close'](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x122b13(0x1c8)}};}catch(_0x178164){this[_0x122b13(0x44e)][_0x122b13(0x4f6)](_0x178164);}}async[a0_0x4ac10f(0x1c9)]({instanceName:_0x52104b}){const _0xffafac=a0_0x4ac10f;return _0x52104b?this[_0xffafac(0x72e)][_0xffafac(0x846)](_0x52104b):this[_0xffafac(0x72e)][_0xffafac(0x846)]();}async[a0_0x4ac10f(0x7f6)]({instanceName:_0x25c416}){const _0x1d4d0f=a0_0x4ac10f;try{return await this[_0x1d4d0f(0x72e)]['waInstances'][_0x25c416]?.['client']?.[_0x1d4d0f(0x7f6)](_0x1d4d0f(0x3f6)+_0x25c416),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x3cb3b5){throw new _(_0x3cb3b5[_0x1d4d0f(0x830)]());}}async[a0_0x4ac10f(0x1db)]({instanceName:_0x5ee3bb}){const _0x17e0c0=a0_0x4ac10f;if((await this['connectionState']({'instanceName':_0x5ee3bb}))[_0x17e0c0(0x363)][_0x17e0c0(0x81e)]==='open')throw new m(['Deletion\x20failed',_0x17e0c0(0x425)]);try{return delete this['waMonitor']['waInstances'][_0x5ee3bb],{'error':!0x1,'message':_0x17e0c0(0x76a)};}catch(_0x6209db){throw new m(_0x6209db[_0x17e0c0(0x830)]());}}},ee=require(a0_0x4ac10f(0x4df)),Qt=class{constructor(_0x378a12){const _0x4de3bd=a0_0x4ac10f;this[_0x4de3bd(0x72e)]=_0x378a12;}async[a0_0x4ac10f(0x508)]({instanceName:_0x37e9fa},_0x66bf2a){const _0x5b1d3b=a0_0x4ac10f;return await this[_0x5b1d3b(0x72e)]['waInstances'][_0x37e9fa][_0x5b1d3b(0x48d)](_0x66bf2a);}async[a0_0x4ac10f(0x466)]({instanceName:_0x13e0c7},_0x582cfe){const _0x3a05e5=a0_0x4ac10f;return await this[_0x3a05e5(0x72e)][_0x3a05e5(0x5dc)][_0x13e0c7][_0x3a05e5(0x12d)](_0x582cfe);}async[a0_0x4ac10f(0x2e4)]({instanceName:_0x1fd6f8},_0x551851){const _0x1671f8=a0_0x4ac10f;if((0x0,ee[_0x1671f8(0x665)])(_0x551851?.[_0x1671f8(0x829)]?.['media'])&&!_0x551851?.['mediaMessage']?.['fileName'])throw new m(_0x1671f8(0x7b5));if((0x0,ee[_0x1671f8(0x3db)])(_0x551851?.['mediaMessage']?.[_0x1671f8(0x27d)])||(0x0,ee[_0x1671f8(0x665)])(_0x551851?.[_0x1671f8(0x829)]?.[_0x1671f8(0x27d)]))return await this[_0x1671f8(0x72e)][_0x1671f8(0x5dc)][_0x1fd6f8]['mediaMessage'](_0x551851);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendSticker']({instanceName:_0x49ca52},_0x1f5e33){const _0x32bd16=a0_0x4ac10f;if((0x0,ee[_0x32bd16(0x3db)])(_0x1f5e33[_0x32bd16(0x32b)][_0x32bd16(0x5b6)])||(0x0,ee[_0x32bd16(0x665)])(_0x1f5e33[_0x32bd16(0x32b)][_0x32bd16(0x5b6)]))return await this[_0x32bd16(0x72e)]['waInstances'][_0x49ca52][_0x32bd16(0x453)](_0x1f5e33);throw new m(_0x32bd16(0x644));}async[a0_0x4ac10f(0x2fa)]({instanceName:_0x254a33},_0x1836d2){const _0x450dea=a0_0x4ac10f;if((0x0,ee[_0x450dea(0x3db)])(_0x1836d2['audioMessage'][_0x450dea(0x75c)])||(0x0,ee[_0x450dea(0x665)])(_0x1836d2[_0x450dea(0x3a5)][_0x450dea(0x75c)]))return await this['waMonitor'][_0x450dea(0x5dc)][_0x254a33][_0x450dea(0x588)](_0x1836d2);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x4ac10f(0x4dc)]({instanceName:_0x5d41a3},_0x3c3a84){const _0xe27a18=a0_0x4ac10f;if((0x0,ee[_0xe27a18(0x665)])(_0x3c3a84[_0xe27a18(0x685)]['mediaMessage']?.[_0xe27a18(0x27d)])&&!_0x3c3a84[_0xe27a18(0x685)][_0xe27a18(0x829)]?.[_0xe27a18(0x7ec)])throw new m(_0xe27a18(0x7b5));return await this[_0xe27a18(0x72e)][_0xe27a18(0x5dc)][_0x5d41a3][_0xe27a18(0x685)](_0x3c3a84);}async[a0_0x4ac10f(0x462)]({instanceName:_0x2b9dff},_0x155183){const _0x29f502=a0_0x4ac10f;return await this[_0x29f502(0x72e)]['waInstances'][_0x2b9dff][_0x29f502(0x359)](_0x155183);}async[a0_0x4ac10f(0x788)]({instanceName:_0x9c5a21},_0x2b944c){return await this['waMonitor']['waInstances'][_0x9c5a21]['pollMessage'](_0x2b944c);}async[a0_0x4ac10f(0x6db)]({instanceName:_0x10d9fe},_0x9bede2){const _0x4c116c=a0_0x4ac10f;return await this[_0x4c116c(0x72e)]['waInstances'][_0x10d9fe]['listMessage'](_0x9bede2);}async[a0_0x4ac10f(0x4b1)]({instanceName:_0x7e628e},_0x12d4c1){const _0x4eea6a=a0_0x4ac10f;return await this[_0x4eea6a(0x72e)][_0x4eea6a(0x5dc)][_0x7e628e][_0x4eea6a(0x583)](_0x12d4c1);}async[a0_0x4ac10f(0x300)]({instanceName:_0x198131},_0x4bba1a){const _0x2e4fbd=a0_0x4ac10f;if(!_0x4bba1a['reactionMessage']['reaction'][_0x2e4fbd(0x579)](/[^\(\)\w\sà-ú"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x2e4fbd(0x72e)][_0x2e4fbd(0x5dc)][_0x198131][_0x2e4fbd(0x3ae)](_0x4bba1a);}async[a0_0x4ac10f(0x492)]({instanceName:_0x4e5b8a},_0xe783e3){const _0x414526=a0_0x4ac10f;return await this[_0x414526(0x72e)][_0x414526(0x5dc)][_0x4e5b8a][_0x414526(0x7dd)](_0xe783e3);}},_o=require('jsonwebtoken'),Us=require('uuid'),Yt=class l{constructor(_0x4b9398,_0x34161c,_0x2037da){const _0x3cb6e6=a0_0x4ac10f;this[_0x3cb6e6(0x6de)]=_0x4b9398,this['waMonitor']=_0x34161c,this['repository']=_0x2037da,this[_0x3cb6e6(0x44e)]=new $(l['name']);}async['jwt'](_0x3138f6){const _0x1b508f=a0_0x4ac10f;let _0x5d6328=this['configService']['get'](_0x1b508f(0x75a))[_0x1b508f(0x667)],_0x458b34=(0x0,_o[_0x1b508f(0x20a)])({'instanceName':_0x3138f6['instanceName'],'apiName':ot,'tokenId':(0x0,Us['v4'])()},_0x5d6328[_0x1b508f(0x473)],{'expiresIn':_0x5d6328[_0x1b508f(0x83c)],'encoding':_0x1b508f(0x53e),'subject':_0x1b508f(0x6c8)}),_0x251d5d=await this[_0x1b508f(0x37d)]['auth'][_0x1b508f(0x491)]({'jwt':_0x458b34},_0x3138f6[_0x1b508f(0x82b)]);if(_0x251d5d[_0x1b508f(0x4f6)])throw this[_0x1b508f(0x44e)][_0x1b508f(0x4f6)]({'localError':l[_0x1b508f(0x80a)]+'.jwt','error':_0x251d5d[_0x1b508f(0x4f6)]}),new m(_0x1b508f(0x398),_0x251d5d[_0x1b508f(0x4f6)]?.['toString']());return{'jwt':_0x458b34};}async[a0_0x4ac10f(0x602)](_0x50980b){const _0x28ed5e=a0_0x4ac10f;let _0x2b5d50=(0x0,Us['v4'])()[_0x28ed5e(0x46a)](),_0x42201d=await this[_0x28ed5e(0x37d)][_0x28ed5e(0x504)][_0x28ed5e(0x491)]({'apikey':_0x2b5d50},_0x50980b[_0x28ed5e(0x82b)]);if(_0x42201d[_0x28ed5e(0x4f6)])throw this['logger'][_0x28ed5e(0x4f6)]({'localError':l[_0x28ed5e(0x80a)]+_0x28ed5e(0x227),'error':_0x42201d['error']}),new m(_0x28ed5e(0x398),_0x42201d[_0x28ed5e(0x4f6)]?.[_0x28ed5e(0x830)]());return{'apikey':_0x2b5d50};}async['generateHash'](_0x2b6894){const _0x51499d=a0_0x4ac10f;let _0x4e1fea=this['configService']['get'](_0x51499d(0x75a));return await this[_0x4e1fea['TYPE']](_0x2b6894);}},Xt=class{constructor(_0x332d3a){const _0x3f6ce4=a0_0x4ac10f;this[_0x3f6ce4(0x72e)]=_0x332d3a;}async['createGroup'](_0x5d537a,_0x4d57c1){const _0x5792e1=a0_0x4ac10f;return await this[_0x5792e1(0x72e)][_0x5792e1(0x5dc)][_0x5d537a[_0x5792e1(0x82b)]][_0x5792e1(0x439)](_0x4d57c1);}async['updateGroupPicture'](_0x4328ac,_0x244b51){const _0x16038c=a0_0x4ac10f;return await this[_0x16038c(0x72e)][_0x16038c(0x5dc)][_0x4328ac['instanceName']][_0x16038c(0x3f3)](_0x244b51);}async['groupDesc'](_0x922c2e,_0x4091db){const _0x215d65=a0_0x4ac10f;return await this[_0x215d65(0x72e)]['waInstances'][_0x922c2e[_0x215d65(0x82b)]][_0x215d65(0x7ef)](_0x4091db);}async[a0_0x4ac10f(0x82e)](_0x478ec0,_0x304b9f){const _0x513a0f=a0_0x4ac10f;return await this['waMonitor'][_0x513a0f(0x5dc)][_0x478ec0[_0x513a0f(0x82b)]]['groupName'](_0x304b9f);}async['groupBetterSetting'](_0x291cb9,_0x3ae15b){const _0x742899=a0_0x4ac10f;return await this[_0x742899(0x72e)]['waInstances'][_0x291cb9[_0x742899(0x82b)]][_0x742899(0x421)](_0x3ae15b);}async[a0_0x4ac10f(0x4ee)](_0x278aae,_0x3e372f){const _0x540e02=a0_0x4ac10f;return await this[_0x540e02(0x72e)][_0x540e02(0x5dc)][_0x278aae[_0x540e02(0x82b)]]['groupSetting'](_0x3e372f);}async[a0_0x4ac10f(0x14a)](_0x4c2dac,_0x3f0479){const _0x1c8224=a0_0x4ac10f;return await this[_0x1c8224(0x72e)]['waInstances'][_0x4c2dac[_0x1c8224(0x82b)]]['findGroup'](_0x3f0479);}async[a0_0x4ac10f(0x82c)](_0x54ff74){const _0x41150b=a0_0x4ac10f;return await this[_0x41150b(0x72e)]['waInstances'][_0x54ff74[_0x41150b(0x82b)]][_0x41150b(0x82c)]();}async[a0_0x4ac10f(0x57e)](_0x360c26,_0x320753){const _0xadea45=a0_0x4ac10f;return await this[_0xadea45(0x72e)][_0xadea45(0x5dc)][_0x360c26[_0xadea45(0x82b)]]['inviteCode'](_0x320753);}async[a0_0x4ac10f(0x50d)](_0x51703b,_0x54d88a){const _0x2def4c=a0_0x4ac10f;return await this[_0x2def4c(0x72e)][_0x2def4c(0x5dc)][_0x51703b['instanceName']][_0x2def4c(0x50d)](_0x54d88a);}async[a0_0x4ac10f(0x734)](_0xba1c8,_0xfe3b74){const _0x3dcc4f=a0_0x4ac10f;return await this[_0x3dcc4f(0x72e)]['waInstances'][_0xba1c8[_0x3dcc4f(0x82b)]][_0x3dcc4f(0x734)](_0xfe3b74);}async[a0_0x4ac10f(0x3c5)](_0x3b73ab,_0x1f3fcf){const _0x226d69=a0_0x4ac10f;return await this[_0x226d69(0x72e)][_0x226d69(0x5dc)][_0x3b73ab['instanceName']][_0x226d69(0x3c5)](_0x1f3fcf);}async['findParticipants'](_0x4d22cc,_0xb8dbca){const _0x3f06d3=a0_0x4ac10f;return await this[_0x3f06d3(0x72e)][_0x3f06d3(0x5dc)][_0x4d22cc['instanceName']][_0x3f06d3(0x52e)](_0xb8dbca);}async['updateGParticipate'](_0x1f05b7,_0x56e983){const _0x12b226=a0_0x4ac10f;return await this['waMonitor']['waInstances'][_0x1f05b7[_0x12b226(0x82b)]][_0x12b226(0x662)](_0x56e983);}async[a0_0x4ac10f(0x142)](_0x55d62e,_0x5e7b58){const _0x11d094=a0_0x4ac10f;return await this['waMonitor']['waInstances'][_0x55d62e[_0x11d094(0x82b)]][_0x11d094(0x142)](_0x5e7b58);}async['leaveGroup'](_0x3074d5,_0x245d9c){const _0x13855d=a0_0x4ac10f;return await this[_0x13855d(0x72e)][_0x13855d(0x5dc)][_0x3074d5[_0x13855d(0x82b)]][_0x13855d(0x336)](_0x245d9c);}},Zt=class{constructor(_0x25d8c2){this['waMonitor']=_0x25d8c2;}['create'](_0x26a447,_0x231fc5){const _0x596bcd=a0_0x4ac10f;return this[_0x596bcd(0x72e)][_0x596bcd(0x5dc)][_0x26a447[_0x596bcd(0x82b)]][_0x596bcd(0x328)](_0x231fc5);}async['find'](_0x3851a8){const _0x577a31=a0_0x4ac10f;try{return await this[_0x577a31(0x72e)][_0x577a31(0x5dc)][_0x3851a8[_0x577a31(0x82b)]][_0x577a31(0x755)]();}catch{return{'enabled':null,'url':''};}}},Hp=new $(a0_0x4ac10f(0x21e)),es=class{constructor(_0x3cde3a){const _0x3a731c=a0_0x4ac10f;this[_0x3a731c(0x72e)]=_0x3cde3a;}async[a0_0x4ac10f(0x438)](_0x272ab5,_0x15f548){const _0x4755b2=a0_0x4ac10f;return await this[_0x4755b2(0x72e)][_0x4755b2(0x5dc)][_0x272ab5[_0x4755b2(0x82b)]][_0x4755b2(0x438)](_0x15f548);}async[a0_0x4ac10f(0x4bc)](_0xcfa4b6){const _0x1d3ce3=a0_0x4ac10f;return await this[_0x1d3ce3(0x72e)][_0x1d3ce3(0x5dc)][_0xcfa4b6[_0x1d3ce3(0x82b)]][_0x1d3ce3(0x4bc)]();}async[a0_0x4ac10f(0x209)](_0x1cd658){const _0x28146c=a0_0x4ac10f;return await this[_0x28146c(0x72e)][_0x28146c(0x5dc)][_0x1cd658['instanceName']]['deleteDoneMessages']();}async['getAutomateSystem'](_0x218248){const _0x5159c7=a0_0x4ac10f;return await this[_0x5159c7(0x72e)][_0x5159c7(0x5dc)][_0x218248[_0x5159c7(0x82b)]][_0x5159c7(0x769)]();}async['updateAgent'](_0xbaba9d,_0x314843){const _0x133e4a=a0_0x4ac10f;return await this[_0x133e4a(0x72e)]['waInstances'][_0xbaba9d[_0x133e4a(0x82b)]][_0x133e4a(0x271)](_0x314843);}async[a0_0x4ac10f(0x5c0)](_0x3dc286,_0x5ac3ab){const _0xfc90c3=a0_0x4ac10f;return await this['waMonitor'][_0xfc90c3(0x5dc)][_0x3dc286['instanceName']][_0xfc90c3(0x5c0)](_0x5ac3ab);}async[a0_0x4ac10f(0x192)](_0x385d30,_0xbf649e){const _0x16741d=a0_0x4ac10f;return await this[_0x16741d(0x72e)][_0x16741d(0x5dc)][_0x385d30[_0x16741d(0x82b)]][_0x16741d(0x192)](_0xbf649e);}async[a0_0x4ac10f(0x5f6)](_0x4730f2,_0x35e284){const _0x322550=a0_0x4ac10f;return await this[_0x322550(0x72e)][_0x322550(0x5dc)][_0x4730f2['instanceName']][_0x322550(0x5f6)](_0x35e284);}async[a0_0x4ac10f(0x7a8)](_0x5833d4,_0x5433fc){const _0x4ef371=a0_0x4ac10f;return await this['waMonitor'][_0x4ef371(0x5dc)][_0x5833d4[_0x4ef371(0x82b)]][_0x4ef371(0x7a8)](_0x5433fc);}async['startFlowWebhook'](_0x1ab078,_0xc7dded,_0x269a86,_0x6e2ca3){const _0x17156c=a0_0x4ac10f;return await this[_0x17156c(0x72e)][_0x17156c(0x5dc)][_0x1ab078][_0x17156c(0x864)](_0xc7dded,_0x269a86,_0x6e2ca3);}async[a0_0x4ac10f(0x620)](_0x63d2a3,_0x2b3eb1){const _0x8e4030=a0_0x4ac10f;return await this['waMonitor']['waInstances'][_0x63d2a3[_0x8e4030(0x82b)]][_0x8e4030(0x620)](_0x2b3eb1);}async['fetchConversation'](_0x217caf,_0x2b9de4){const _0x2ab085=a0_0x4ac10f;return await this['waMonitor'][_0x2ab085(0x5dc)][_0x217caf[_0x2ab085(0x82b)]][_0x2ab085(0x6bd)](_0x2b9de4);}async['editConversation'](_0x1ee7d1,_0x3f42bf){const _0x2924f0=a0_0x4ac10f;return await this[_0x2924f0(0x72e)]['waInstances'][_0x1ee7d1['instanceName']][_0x2924f0(0x1ce)](_0x3f42bf);}async[a0_0x4ac10f(0x140)](_0x3c342c,_0xf81555){const _0x3c2dee=a0_0x4ac10f;return await this[_0x3c2dee(0x72e)][_0x3c2dee(0x5dc)][_0x3c342c[_0x3c2dee(0x82b)]][_0x3c2dee(0x140)](_0xf81555);}async['getFlow'](_0x827f69,_0x19c7dc){const _0x4e13fa=a0_0x4ac10f;return await this[_0x4e13fa(0x72e)]['waInstances'][_0x827f69[_0x4e13fa(0x82b)]][_0x4e13fa(0x379)](_0x19c7dc['_id']);}async[a0_0x4ac10f(0x5d3)](_0x580c5c,_0x73273,_0xe41311){const _0x2f2dc0=a0_0x4ac10f;return await this['waMonitor'][_0x2f2dc0(0x5dc)][_0x580c5c[_0x2f2dc0(0x82b)]][_0x2f2dc0(0x5d3)](_0x73273,_0xe41311);}async[a0_0x4ac10f(0x5aa)](_0x151539,_0x1348aa,_0x16656d){return await this['waMonitor']['waInstances'][_0x151539['instanceName']]['editFlow'](_0x1348aa,_0x16656d);}async[a0_0x4ac10f(0x176)](_0x410d21,_0x7a51a0){const _0x4af44f=a0_0x4ac10f;return await this[_0x4af44f(0x72e)]['waInstances'][_0x410d21[_0x4af44f(0x82b)]][_0x4af44f(0x176)](_0x7a51a0);}async[a0_0x4ac10f(0x1b9)](_0x2c5b0d,_0x2ef0a0){const _0x36c69f=a0_0x4ac10f;return await this[_0x36c69f(0x72e)][_0x36c69f(0x5dc)][_0x2c5b0d[_0x36c69f(0x82b)]][_0x36c69f(0x1b9)](_0x2ef0a0);}async[a0_0x4ac10f(0x236)](_0x5578e6,_0x3a2ae5){const _0x5821e2=a0_0x4ac10f;return await this[_0x5821e2(0x72e)]['waInstances'][_0x5578e6[_0x5821e2(0x82b)]][_0x5821e2(0x236)](_0x3a2ae5);}async[a0_0x4ac10f(0x82f)](_0x5f4702,_0xd4f560){const _0x4cf91e=a0_0x4ac10f;return await this[_0x4cf91e(0x72e)][_0x4cf91e(0x5dc)][_0x5f4702[_0x4cf91e(0x82b)]][_0x4cf91e(0x82f)](_0xd4f560);}async['editFlowVaredit'](_0x21502a,_0x8748bb){const _0x444a51=a0_0x4ac10f;return await this['waMonitor'][_0x444a51(0x5dc)][_0x21502a['instanceName']]['editFlowVaredit'](_0x8748bb);}async['editFlowVariable'](_0x322cb7,_0x254587){const _0x2faebd=a0_0x4ac10f;return await this['waMonitor'][_0x2faebd(0x5dc)][_0x322cb7[_0x2faebd(0x82b)]]['editFlowVariable'](_0x254587);}async['deleteFlow'](_0x525d3e,_0x43ea9a){const _0x9fa75e=a0_0x4ac10f;return await this['waMonitor'][_0x9fa75e(0x5dc)][_0x525d3e[_0x9fa75e(0x82b)]][_0x9fa75e(0x138)](_0x43ea9a);}async['allFlows'](_0x9e0352){const _0x15091b=a0_0x4ac10f;return await this[_0x15091b(0x72e)]['waInstances'][_0x9e0352[_0x15091b(0x82b)]]['allFlows']();}},ts=class{constructor(_0x396e6a){const _0x14ab92=a0_0x4ac10f;this[_0x14ab92(0x4e4)]=_0x396e6a;}async['createWebhook'](_0xe5a469,_0x150ef7){const _0x22c749=a0_0x4ac10f;return this[_0x22c749(0x4e4)][_0x22c749(0x491)](_0xe5a469,_0x150ef7);}async['findWebhook'](_0x4db547){const _0x245697=a0_0x4ac10f;return this[_0x245697(0x4e4)][_0x245697(0x7c1)](_0x4db547);}},ss=class extends O{constructor(_0x1a1f96,_0x45a7c6){const _0x1be547=a0_0x4ac10f;super(_0x45a7c6),this[_0x1be547(0x20f)]=_0x1a1f96,this[_0x1be547(0x6de)]=_0x45a7c6;}async[a0_0x4ac10f(0x491)](_0x90ec48,_0x3fb7bf){const _0x11b05d=a0_0x4ac10f;try{return this[_0x11b05d(0x214)][_0x11b05d(0x62e)]?{'insertCount':(await this['webhookModel']['replaceOne']({'_id':_0x3fb7bf},{..._0x90ec48},{'upsert':!0x0}))[_0x11b05d(0x2ba)]}:{'insertCount':0x1};}catch(_0x4a52e4){return _0x4a52e4;}}async['delete'](_0x1a94ee){const _0x1df39c=a0_0x4ac10f;try{if(this['dbSettings'][_0x1df39c(0x62e)]){await this[_0x1df39c(0x20f)]['deleteOne']({'_id':_0x1a94ee});return;}}catch(_0x5eaa40){return{'error':_0x5eaa40};}}async[a0_0x4ac10f(0x7c1)](_0x318f15){const _0x1d77bb=a0_0x4ac10f;try{if(this[_0x1d77bb(0x214)][_0x1d77bb(0x62e)])return await this[_0x1d77bb(0x20f)][_0x1d77bb(0x349)]({'_id':_0x318f15});}catch{return{};}}},as=class extends O{constructor(_0x379c4a,_0x39b879){const _0x15039b=a0_0x4ac10f;super(_0x39b879),this[_0x15039b(0x51a)]=_0x379c4a,this[_0x15039b(0x6de)]=_0x39b879,this['auth']=_0x39b879[_0x15039b(0x2c5)]('AUTHENTICATION');}async[a0_0x4ac10f(0x491)](_0xb627c7,_0x3c82de){const _0x358d63=a0_0x4ac10f;try{if(this[_0x358d63(0x214)][_0x358d63(0x62e)])return{'insertCount':(await this[_0x358d63(0x51a)][_0x358d63(0x191)]({'_id':_0x3c82de},{'$set':{..._0xb627c7}},{'upsert':!0x0}))[_0x358d63(0x2ba)]};}catch(_0x74a1d8){return{'error':_0x74a1d8};}}async[a0_0x4ac10f(0x655)](_0x58470a,_0x1cc111){const _0x2991e9=a0_0x4ac10f;try{if(this[_0x2991e9(0x214)][_0x2991e9(0x62e)])return{'insertCount':(await this[_0x2991e9(0x51a)][_0x2991e9(0x130)](_0x58470a,{'$set':_0x1cc111},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x2991e9(0x495));}catch(_0x13541f){return{'error':_0x13541f};}}async[a0_0x4ac10f(0x630)](_0x44fec0){const _0x2bb2ff=a0_0x4ac10f;try{if(this[_0x2bb2ff(0x214)][_0x2bb2ff(0x62e)])return{'insertCount':(await this[_0x2bb2ff(0x51a)][_0x2bb2ff(0x630)](_0x44fec0))[_0x2bb2ff(0x127)]};throw new Error(_0x2bb2ff(0x35d));}catch(_0x1c73cd){return{'error':_0x1c73cd};}}async[a0_0x4ac10f(0x399)](_0x3bfe96){const _0x2922ea=a0_0x4ac10f;try{if(this['dbSettings']['ENABLED']){await this['authModel'][_0x2922ea(0x1ba)]({'_id':_0x3bfe96});return;}}catch(_0x53ce82){return{'error':_0x53ce82};}}async[a0_0x4ac10f(0x7c1)](_0x2097a5){const _0x3e5e9f=a0_0x4ac10f;try{if(this[_0x3e5e9f(0x214)][_0x3e5e9f(0x62e)])return await this['authModel'][_0x3e5e9f(0x349)]({'_id':_0x2097a5});}catch{return{};}}async['findAll'](){const _0x533f62=a0_0x4ac10f;try{if(this[_0x533f62(0x214)][_0x533f62(0x62e)])return await this[_0x533f62(0x51a)][_0x533f62(0x7c1)]();}catch{return[];}}async['findMany'](_0x5db980){const _0x422c80=a0_0x4ac10f;try{if(this['dbSettings'][_0x422c80(0x62e)])return await this[_0x422c80(0x51a)][_0x422c80(0x7c1)](_0x5db980);}catch{return[];}}},xo=require(a0_0x4ac10f(0x465)),os=class extends O{async[a0_0x4ac10f(0x1ba)](_0x507a8c){const _0x2bf70c=a0_0x4ac10f;try{let _0x52b430=T(_0x507a8c[_0x2bf70c(0x577)]);return{'deletedCount':(await pe[_0x2bf70c(0x1ba)](_0x52b430))[_0x2bf70c(0x127)]};}catch(_0x20d1b3){return{'error':_0x20d1b3?.[_0x2bf70c(0x830)]()};}}async['updateOne'](_0x34cc70,_0x4721b8){const _0x16d84b=a0_0x4ac10f;try{let _0x3478fb=await pe[_0x16d84b(0x193)](_0x34cc70);return _0x3478fb?(Object[_0x16d84b(0x660)](_0x3478fb,_0x4721b8),await _0x3478fb[_0x16d84b(0x260)]()):(console['error'](_0x16d84b(0x42f),_0x34cc70),null);}catch(_0x1f5f56){return console[_0x16d84b(0x4f6)](_0x16d84b(0x3ce),_0x1f5f56),null;}}async[a0_0x4ac10f(0x7d8)](_0x58156c){const _0x209551=a0_0x4ac10f;try{return await new pe(_0x58156c)[_0x209551(0x260)]();}catch(_0x27dc59){return console['error'](_0x209551(0x1ab),_0x27dc59),null;}}async[a0_0x4ac10f(0x841)](_0x483d21){const _0x2f7d68=a0_0x4ac10f;try{let _0x47707c=_0x483d21[_0x2f7d68(0x577)]??{};return await pe['find'](_0x47707c)[_0x2f7d68(0x5c3)](_0x483d21[_0x2f7d68(0x5c3)]??0x0)[_0x2f7d68(0x1b8)]();}catch(_0x40f6c5){return console['error']('Erro\x20ao\x20buscar\x20fluxos:',_0x40f6c5),[];}}async['findOne'](_0x1c3a51){const _0xecdbd1=a0_0x4ac10f;try{let _0x5639c4=T(_0x1c3a51['where']);return await pe[_0xecdbd1(0x349)](_0x5639c4)[_0xecdbd1(0x1b8)]();}catch{return null;}}async['deleteAll'](_0x35a4ee){const _0x1aec6f=a0_0x4ac10f;try{let _0x516395=vs(_0x35a4ee);if(!_0x516395){let _0xf2dfd4=_0x1aec6f(0x62d)+_0x35a4ee;return console[_0x1aec6f(0x4f6)](_0xf2dfd4),{'success':!0x1,'error':new Error(_0xf2dfd4)};}return await _0x516395[_0x1aec6f(0x547)][_0x1aec6f(0x74c)](),{'success':!0x0};}catch(_0x486c9d){return console[_0x1aec6f(0x4f6)](_0x486c9d),{'success':!0x1,'error':_0x486c9d instanceof Error?_0x486c9d:new Error(String(_0x486c9d))};}}async[a0_0x4ac10f(0x1f5)](_0x24fcd2){const _0x96915a=a0_0x4ac10f;try{let _0x2130d9=vs(_0x24fcd2);if(!_0x2130d9)return console[_0x96915a(0x4f6)](_0x96915a(0x62d)+_0x24fcd2),0x0;let _0x9765c=await _0x2130d9[_0x96915a(0x7c1)]({})['lean']();if(console['log'](_0x96915a(0x6d5)+_0x24fcd2+_0x96915a(0x1bf)+_0x9765c[_0x96915a(0x30c)]),!_0x9765c||_0x9765c[_0x96915a(0x30c)]===0x0)return console[_0x96915a(0x85b)](_0x96915a(0x249)+_0x24fcd2),0x0;let _0x47793f=_0x9765c[_0x96915a(0x3c7)](_0x49d14f=>{const _0x4e2d33=_0x96915a;let {global:_0x228d5b,startID:_0x32da15,sharePass:_0x27b593,shareOwners:_0x5e117b,minutesToClose:_0x314c01,readMessages:_0x43669f,testingWith:_0x57dbc0,startCommandWord:_0x40f15d,default:_0x33b014,..._0x11b193}=_0x49d14f,_0x3d5dbd=Array[_0x4e2d33(0x736)](new Set([..._0x5e117b,_0x24fcd2])),_0x566568=Array['from'](new Set([..._0x5e117b,_0x24fcd2]));return{..._0x11b193,'_id':(0x0,xo['v4'])(),'owner':_0x24fcd2,'globalShow':_0x49d14f[_0x4e2d33(0x470)]==='true','whoCanEdit':_0x3d5dbd,'whoCanUse':_0x566568};});return await pe['insertMany'](_0x47793f),await _0x2130d9[_0x96915a(0x547)][_0x96915a(0x74c)](),console[_0x96915a(0x85b)](_0x96915a(0x244)+_0x24fcd2+_0x96915a(0x381)),_0x47793f[_0x96915a(0x30c)];}catch(_0x312994){return console[_0x96915a(0x4f6)](_0x96915a(0x6fd)+_0x24fcd2+'\x27:',_0x312994),0x0;}}async[a0_0x4ac10f(0x69b)](_0x4df59c){const _0x2b2133=a0_0x4ac10f;let _0x4b740e=0x0;for(let _0x1002e6 of _0x4df59c){let _0xb8b408=await this[_0x2b2133(0x1f5)](_0x1002e6);_0x4b740e+=_0xb8b408;}return console[_0x2b2133(0x85b)](_0x2b2133(0x459)+_0x4b740e),_0x4b740e;}},is=class extends O{[a0_0x4ac10f(0x77f)](_0x1c8ebe){return ya(_0x1c8ebe);}async[a0_0x4ac10f(0x6a2)](_0xf30646){const _0x2cfe8d=a0_0x4ac10f;if(_0xf30646[_0x2cfe8d(0x30c)]!==0x0)try{return{'insertCount':(await this[_0x2cfe8d(0x77f)](_0xf30646[0x0]['owner'])[_0x2cfe8d(0x5eb)]([..._0xf30646]))[_0x2cfe8d(0x30c)]};}catch(_0x32b686){return _0x32b686;}}async[a0_0x4ac10f(0x399)](_0x27291a,_0x30b3c4){const _0x29f9f9=a0_0x4ac10f;try{let _0x1d15a5=this[_0x29f9f9(0x77f)](_0x30b3c4),_0x1a1a37=T(_0x27291a[_0x29f9f9(0x577)]);return{'deletedCount':(await _0x1d15a5['deleteMany'](_0x1a1a37))['deletedCount']};}catch(_0x171d03){return{'error':_0x171d03?.['toString']()};}}async[a0_0x4ac10f(0x1ba)](_0xec3a1e,_0x4fa906){const _0x5e20f9=a0_0x4ac10f;try{let _0x211ae1=this[_0x5e20f9(0x77f)](_0x4fa906),_0x1e9a9f=T(_0xec3a1e[_0x5e20f9(0x577)]);return{'deletedCount':(await _0x211ae1[_0x5e20f9(0x1ba)](_0x1e9a9f))[_0x5e20f9(0x127)]};}catch(_0x7af626){return{'error':_0x7af626?.[_0x5e20f9(0x830)]()};}}async[a0_0x4ac10f(0x256)](_0x4397bc,_0x425e97){const _0xc4401f=a0_0x4ac10f;try{if(_0x4397bc['length']===0x0)return;let _0x24d434=this[_0xc4401f(0x77f)](_0x425e97),_0x18b3ec=_0x4397bc[_0xc4401f(0x3c7)](_0x4ce8e0=>({'updateOne':{'filter':{'name':_0x4ce8e0[_0xc4401f(0x80a)],'owner':_0x425e97},'update':{..._0x4ce8e0}}})),{modifiedCount:_0x2c1445}=await _0x24d434['bulkWrite'](_0x18b3ec);return{'insertCount':_0x2c1445};}catch{return;}}async['updateMany'](_0x2b7779,_0x278f92,_0x7fea6){const _0x5ab195=a0_0x4ac10f;try{return{'modifiedCount':(await this[_0x5ab195(0x77f)](_0x7fea6)[_0x5ab195(0x130)](_0x2b7779,{'$set':_0x278f92})['exec']())[_0x5ab195(0x2ba)]};}catch(_0x4d4924){return console[_0x5ab195(0x4f6)]('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0x4d4924),{'error':_0x4d4924};}}async[a0_0x4ac10f(0x191)](_0x3d3f4a,_0x34b569,_0x28b607){const _0x4d30d1=a0_0x4ac10f;try{return await this[_0x4d30d1(0x77f)](_0x28b607)[_0x4d30d1(0x19e)]({'_id':_0x3d3f4a},{'$set':_0x34b569},{'new':!0x0,'upsert':!0x0})[_0x4d30d1(0x1b8)]();}catch(_0x154d11){return console[_0x4d30d1(0x4f6)](_0x154d11),null;}}async[a0_0x4ac10f(0x7c1)](_0x578da2,_0x59d4af){const _0x1f7d4f=a0_0x4ac10f;try{return await this[_0x1f7d4f(0x77f)](_0x59d4af)[_0x1f7d4f(0x7c1)](_0x578da2)[_0x1f7d4f(0x733)]({'lastInteraction':-0x1})[_0x1f7d4f(0x1b8)]();}catch{return[];}}async[a0_0x4ac10f(0x349)](_0x475c07,_0xec201d){const _0x360b4e=a0_0x4ac10f;try{return await this[_0x360b4e(0x77f)](_0xec201d)['findOne']({..._0x475c07['where']})['lean']();}catch{return null;}}async['deleteAll'](_0x5201a4){const _0x175a7d=a0_0x4ac10f;try{return await this['getConversationModelForOwner'](_0x5201a4)[_0x175a7d(0x547)][_0x175a7d(0x74c)](),{'success':!0x0};}catch(_0xb3a919){return console[_0x175a7d(0x4f6)](_0xb3a919),{'success':!0x1,'error':_0xb3a919};}}},rs=class extends O{[a0_0x4ac10f(0x53a)](_0x123b18){return ba(_0x123b18);}async[a0_0x4ac10f(0x7d8)](_0x1f8a2a,_0x5cb5f2){const _0x2e02cb=a0_0x4ac10f;try{let _0x39d5da=this[_0x2e02cb(0x53a)](_0x5cb5f2);return await new _0x39d5da(_0x1f8a2a)[_0x2e02cb(0x260)]();}catch(_0x5ebb0a){return console[_0x2e02cb(0x4f6)](_0x2e02cb(0x286),_0x5ebb0a),null;}}async[a0_0x4ac10f(0x1ba)](_0x518311,_0x266339){const _0x40e311=a0_0x4ac10f;try{return await this['getScheduleMessageModelForOwner'](_0x266339)[_0x40e311(0x6b8)](_0x518311),{};}catch(_0x21eea2){return{'error':_0x21eea2?.[_0x40e311(0x830)]()};}}async['updateOne'](_0x2457fe,_0x2b7685,_0x1a755e){const _0x2ec263=a0_0x4ac10f;try{return await this[_0x2ec263(0x53a)](_0x1a755e)[_0x2ec263(0x19e)](_0x2457fe,{'$set':_0x2b7685},{'new':!0x0})[_0x2ec263(0x1b8)]();}catch(_0xba2286){return console[_0x2ec263(0x4f6)](_0x2ec263(0x69d),_0xba2286),null;}}async['updateOneById'](_0x4fe140,_0x573635,_0x14b326){const _0x4dcda3=a0_0x4ac10f;try{return await this[_0x4dcda3(0x53a)](_0x14b326)[_0x4dcda3(0x157)](_0x4fe140,_0x573635,{'new':!0x0})[_0x4dcda3(0x1b8)]();}catch(_0x5cb9cb){return console[_0x4dcda3(0x4f6)](_0x4dcda3(0x69d),_0x5cb9cb),null;}}async[a0_0x4ac10f(0x7c1)](_0x3c7705,_0x1198a8){const _0xcd6110=a0_0x4ac10f;try{return await this[_0xcd6110(0x53a)](_0x1198a8)[_0xcd6110(0x7c1)](_0x3c7705[_0xcd6110(0x577)])[_0xcd6110(0x5c3)](_0x3c7705?.[_0xcd6110(0x5c3)]??0x0)[_0xcd6110(0x733)]({'when':0x1})['lean']();}catch{return[];}}async[a0_0x4ac10f(0x349)](_0x36ffe7,_0x5f0799){const _0x53dd2f=a0_0x4ac10f;try{return await this['getScheduleMessageModelForOwner'](_0x5f0799)[_0x53dd2f(0x349)](_0x36ffe7['where'])[_0x53dd2f(0x733)]({'when':0x1})[_0x53dd2f(0x1b8)]();}catch{return null;}}async[a0_0x4ac10f(0x193)](_0x451a21,_0x564f4a){const _0x249888=a0_0x4ac10f;try{return await this[_0x249888(0x53a)](_0x564f4a)[_0x249888(0x193)](_0x451a21)[_0x249888(0x1b8)]();}catch{return null;}}async[a0_0x4ac10f(0x630)](_0x1b5259,_0x49b19c){const _0x245bd7=a0_0x4ac10f;try{return{'deletedCount':(await this[_0x245bd7(0x53a)](_0x49b19c)[_0x245bd7(0x630)](_0x1b5259))[_0x245bd7(0x127)]};}catch(_0x114497){return console[_0x245bd7(0x4f6)](_0x245bd7(0x2a0),_0x114497),{'error':_0x114497};}}async['deleteAll'](_0x35934e){const _0x481486=a0_0x4ac10f;try{return await this[_0x481486(0x53a)](_0x35934e)[_0x481486(0x547)][_0x481486(0x74c)](),{'success':!0x0};}catch(_0x37850d){return console[_0x481486(0x4f6)](_0x37850d),{'success':!0x1,'error':_0x37850d};}}},ns=class extends O{async[a0_0x4ac10f(0x256)](_0x3886c6,_0x1b73ef){const _0x5f6c78=a0_0x4ac10f;try{if(this[_0x5f6c78(0x214)][_0x5f6c78(0x62e)]){let _0x4d1fb1=await $e[_0x5f6c78(0x19e)]({'_id':_0x1b73ef},{'$set':_0x3886c6},{'new':!0x0});return console[_0x5f6c78(0x85b)](_0x5f6c78(0x493),_0x4d1fb1),_0x4d1fb1;}}catch(_0x3557b2){throw console['error'](_0x5f6c78(0x180),_0x3557b2),_0x3557b2;}}async[a0_0x4ac10f(0x1dd)](_0x35583a){const _0x5740f5=a0_0x4ac10f;try{let _0x563ede=await $e['findById'](_0x35583a);return _0x563ede?_0x563ede[_0x5740f5(0x19c)]||(_0x563ede[_0x5740f5(0x19c)]=[],await _0x563ede[_0x5740f5(0x260)]()):(_0x563ede=new $e({'_id':_0x35583a,'autoCompleteMessages':[]}),await _0x563ede[_0x5740f5(0x260)]()),_0x563ede;}catch(_0x3bc797){return _0x3bc797[_0x5740f5(0x51f)]===0x2af8&&_0x3bc797[_0x5740f5(0x3f7)]&&_0x3bc797[_0x5740f5(0x3f7)][_0x5740f5(0x601)]?(console[_0x5740f5(0x4f6)](_0x5740f5(0x1ae)),await $e[_0x5740f5(0x547)][_0x5740f5(0x487)](_0x5740f5(0x2fc)),null):(console[_0x5740f5(0x4f6)](_0x5740f5(0x7d1),_0x3bc797),null);}}},Fi=new $(a0_0x4ac10f(0x414)),Ui=new Ke(b),ji=new Gt(b),Ji=new rt(b),qi=new Bt(ia,b),Vi=new ss(ha,b),Gi=new as(ua,b),Bi=new Ee(Be,b),Wi=new os(b),zi=new Wt(b),Hi=new is(b),Ki=new rs(b),Qi=new ns(b),he=new ze(Ui,ji,Ji,qi,Vi,Gi,Bi,Wi,Hi,zi,Ki,Qi,R?.['getClient']()),G=new Vt(hs,b,he),Yi=new Yt(b,G,he),Xi=new Zt(G),As=new ts(Xi),I=new es(G),ce=new Kt(G,b,he,hs,Yi),B=new Qt(G),P=new zt(G),q=new Xt(G);Fi['info']('Module\x20-\x20ON');var dg=require(a0_0x4ac10f(0x3b7)),js=require('fs'),Do=A(require(a0_0x4ac10f(0x5ef))),Po=A(require(a0_0x4ac10f(0x27e))),Le=class l{static #e;static set['app'](_0x5c5ccf){this.#e=_0x5c5ccf;}static get['https'](){const _0x173fcf=a0_0x4ac10f;let {FULLCHAIN:_0x1b8357,PRIVKEY:_0x1910e0}=b[_0x173fcf(0x2c5)](_0x173fcf(0x5da));return Do[_0x173fcf(0x40e)]({'cert':(0x0,js['readFileSync'])(_0x1b8357),'key':(0x0,js[_0x173fcf(0x5a1)])(_0x1910e0)},l.#e);}static get['http'](){return Po['createServer'](l.#e);}},fe=A(require('fs')),Jo=A(require(a0_0x4ac10f(0x301))),Fe=A(require(a0_0x4ac10f(0x464))),je=A(require(a0_0x4ac10f(0x63a))),we=require('child_process');function Zi(){const _0x261847=a0_0x4ac10f;G[_0x261847(0x550)]();let _0x66522f=je['default'][_0x261847(0x650)](__dirname,'downloads');jo(_0x66522f);}var jo=_0x569feb=>{const _0x4bb9c0=a0_0x4ac10f;let _0x278bb0=fe[_0x4bb9c0(0x5b7)][_0x4bb9c0(0x633)](_0x569feb),_0x2566d9=0xc*0x3c*0x3c*0x3e8,_0x4fe28a=0x2*0x3c*0x3c*0x3e8,_0x144c5b=new Date()[_0x4bb9c0(0x2fd)]();_0x278bb0[_0x4bb9c0(0x843)](_0x41c65b=>{const _0x280970=_0x4bb9c0;let _0x1bba92=je[_0x280970(0x5b7)][_0x280970(0x650)](_0x569feb,_0x41c65b),_0x5608d5=fe[_0x280970(0x5b7)][_0x280970(0x641)](_0x1bba92)[_0x280970(0x73e)][_0x280970(0x2fd)]();_0x144c5b-_0x5608d5>_0x2566d9&&(fe['default'][_0x280970(0x34d)](_0x1bba92),console['log'](_0x280970(0x429)+_0x41c65b));}),setTimeout(()=>jo(_0x569feb),_0x4fe28a);};function er(){const _0x463396=a0_0x4ac10f;let _0x242561=new $(_0x463396(0x32d)),_0x269095=(0x0,ye[_0x463396(0x5b7)])();_0x269095[_0x463396(0x284)]((0x0,Uo['default'])({'origin'(_0x572e01,_0xe0c714){const _0x1adf13=_0x463396;let {ORIGIN:_0x10697d}=b[_0x1adf13(0x2c5)](_0x1adf13(0x72b));return _0x572e01||(_0x572e01='*'),_0x10697d[_0x1adf13(0x859)]('*')!==-0x1||_0x10697d['indexOf'](_0x572e01)!==-0x1?_0xe0c714(null,!0x0):_0xe0c714(new Error(_0x1adf13(0x499)));},'methods':[...b[_0x463396(0x2c5)](_0x463396(0x72b))[_0x463396(0x11d)]],'credentials':b['get']('CORS')['CREDENTIALS']}),(0x0,ye[_0x463396(0x515)])({'extended':!0x0,'limit':'50mb'}),(0x0,ye[_0x463396(0x7d4)])({'limit':_0x463396(0x274)})),_0x269095[_0x463396(0x284)]((_0x243d70,_0x2f30d1,_0x24b8f6)=>{const _0x17fc03=_0x463396;_0x243d70['path'][_0x17fc03(0x231)](_0x17fc03(0x5f8))?_0x24b8f6():(0x0,Fo[_0x17fc03(0x5b7)])()(_0x243d70,_0x2f30d1,_0x24b8f6);}),_0x269095[_0x463396(0x290)](_0x463396(0x344),_0x463396(0x860)),_0x269095[_0x463396(0x290)]('views',(0x0,qs[_0x463396(0x650)])(ie,_0x463396(0x409))),_0x269095['use'](ye[_0x463396(0x5b7)]['static']((0x0,qs[_0x463396(0x650)])(ie,_0x463396(0x749)))),_0x269095[_0x463396(0x284)]((_0xec7e37,_0x47ddf9,_0x3cae40)=>{const _0x2d4ff9=_0x463396;let _0x3744e1=_0x47ddf9['send'];_0x47ddf9[_0x2d4ff9(0x4f0)]=function(_0x4e85e8){const _0x3d3683=_0x2d4ff9;if(_0xec7e37['query'][_0x3d3683(0x461)]==='true'||_0xec7e37[_0x3d3683(0x279)][_0x3d3683(0x79d)]===_0x3d3683(0x39e)){let _0x52be63=JSON[_0x3d3683(0x1af)](_0x4e85e8);_0x4e85e8=JSON[_0x3d3683(0x3cc)](_0x25a459(_0x52be63));}return _0x3744e1['apply'](_0x47ddf9,[_0x4e85e8]);},_0x3cae40();}),_0x269095[_0x463396(0x284)]('/',xe),_0x269095[_0x463396(0x284)]((_0x1fba7c,_0x28ae4c,_0x29cd09,_0x3de707)=>{const _0x490a2b=_0x463396;if(_0x1fba7c)return _0x29cd09[_0x490a2b(0x1ac)](_0x1fba7c[_0x490a2b(0x1ac)]||0x1f4)[_0x490a2b(0x7d4)](_0x1fba7c);},(_0x2ffac7,_0x3060eb,_0x22064b)=>{const _0x9d8ddc=_0x463396;let {method:_0x2da5ab,url:_0x4b99ab}=_0x2ffac7;_0x3060eb[_0x9d8ddc(0x1ac)](0x194)['json']({'status':0x194,'message':_0x9d8ddc(0x57c)+_0x2da5ab[_0x9d8ddc(0x46a)]()+'\x20'+_0x4b99ab,'error':_0x9d8ddc(0x558)}),_0x22064b();});let _0x25a459=(_0x52da0a,_0x265256=_0x463396(0x31e))=>{const _0x4b68fa=_0x463396;let _0x4c6617=(_0x28b7a2,_0x291830=null,_0x176ed6=!0x1)=>{const _0x3adb60=a0_0x3b98;let _0x79c588={};return Object[_0x3adb60(0x27b)](_0x28b7a2)[_0x3adb60(0x843)](_0x2bb57e=>{const _0x536f87=_0x3adb60;let _0x327cfc=_0x28b7a2[_0x2bb57e],_0x403278=''+_0x265256+_0x2bb57e;_0x291830&&!_0x176ed6&&(_0x403278=_0x291830+'.'+_0x2bb57e),!_0x327cfc&&_0x327cfc!==0x0&&_0x327cfc!==!0x1||typeof _0x327cfc>'u'?_0x79c588[_0x403278]=null:typeof _0x327cfc!=_0x536f87(0x7e5)&&!Array[_0x536f87(0x5b5)](_0x327cfc)?_0x79c588[_0x403278]=_0x327cfc:typeof _0x327cfc==_0x536f87(0x7e5)&&!Array[_0x536f87(0x5b5)](_0x327cfc)?_0x79c588=Object[_0x536f87(0x660)](_0x79c588,_0x4c6617(_0x327cfc,_0x403278)):Array[_0x536f87(0x5b5)](_0x327cfc)&&(typeof _0x327cfc[0x0]==_0x536f87(0x7e5)?(_0x79c588[_0x403278]=[],_0x327cfc[_0x536f87(0x843)](_0x5a3b69=>{const _0x57953e=_0x536f87;_0x79c588[_0x403278][_0x57953e(0x304)](_0x4c6617(_0x5a3b69,_0x403278,!0x0));})):_0x79c588[_0x403278]=_0x327cfc);}),_0x79c588;};return Array[_0x4b68fa(0x5b5)](_0x52da0a)?_0x52da0a['map'](_0x5dc747=>_0x4c6617(_0x5dc747)):typeof _0x52da0a=='object'&&_0x52da0a!==null?_0x4c6617(_0x52da0a):{};},_0x4c0bc9=b[_0x463396(0x2c5)](_0x463396(0x32d));Le[_0x463396(0x640)]=_0x269095;let _0x47bf8a=Le[_0x4c0bc9['TYPE']],_0x3d88b2=_0x463396(0x26a);_0x47bf8a[_0x463396(0x512)](_0x4c0bc9[_0x463396(0x60d)],()=>{const _0x294097=_0x463396;_0x242561['log'](_0x3d88b2),_0x242561[_0x294097(0x85b)](_0x4c0bc9['TYPE']['toUpperCase']()+_0x294097(0x2f6)+_0x4c0bc9[_0x294097(0x60d)]);}),Zi(),Zs();}var tr=a0_0x4ac10f(0x6bf),sr=je[a0_0x4ac10f(0x5b7)]['join'](__dirname,'./.git/config'),Ue=null;function ar(){return new Promise((_0x5ca7cd,_0x23c3a6)=>{const _0x12180d=a0_0x3b98;fe[_0x12180d(0x5b7)]['readFile'](sr,_0x12180d(0x530),(_0x274096,_0x627b03)=>{const _0x398b6e=_0x12180d;if(_0x274096){Ue=_0x274096,_0x5ca7cd();return;}Jo[_0x398b6e(0x5b7)][_0x398b6e(0x1af)](_0x627b03)[_0x398b6e(0x32f)]['url']===tr?(Ue=null,_0x5ca7cd()):(Ue=new Error(_0x398b6e(0x6ba)),_0x5ca7cd());});});}async function or(){const _0x240468=a0_0x4ac10f;try{await ar(),await Vs();}catch(_0xd6142d){console['error'](_0x240468(0x3ac)+_0xd6142d),process[_0x240468(0x5c8)](0x1);}}or();async function qo(){const _0x30ad49=a0_0x4ac10f;let _0x4b8655;try{_0x4b8655=(await Fe[_0x30ad49(0x5b7)][_0x30ad49(0x2c5)](_0x30ad49(0x243)))[_0x30ad49(0x123)]['ip'];}catch(_0x474e9e){console['error'](_0x474e9e);try{_0x4b8655=(await Fe[_0x30ad49(0x5b7)][_0x30ad49(0x2c5)]('https://api.ipify.org?format=json'))[_0x30ad49(0x123)]['ip'];}catch(_0x8ccb4b){console[_0x30ad49(0x4f6)](_0x8ccb4b);try{_0x4b8655=(await Fe[_0x30ad49(0x5b7)][_0x30ad49(0x2c5)]('http://checkip.dyndns.org'))['data'][_0x30ad49(0x579)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x3e484c){return console[_0x30ad49(0x4f6)](_0x3e484c),!0x1;}}}return _0x4b8655;}function a0_0x52a6(){const _0x1f6723=['blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','request\x20received\x20in\x20getAutomateSystem','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','Erro\x20ao\x20encerrar\x20a\x20API','oldValue','birthtime','arrayUnique','exports','conversationTimestamp','createSectionsFromValues','cache','editflowcondition','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','startCommandWord','HH:mm:ss','):\x20Erro\x20durante\x20a\x20atualização:\x20','public','lastBlockId','):\x20Fluxos\x20do\x20proprietário\x20\x27global\x27\x20já\x20existem\x20na\x20coleção\x20centralizada.','drop','SERVER_TYPE','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','.ogv','announce','groupSettingUpdate','[all]','\x20\x1b[0m','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','findWebhook','Reinicialização\x20iniciada:\x20','#d3a91f','downloadMediaMessage','redis://127.0.0.1:6379','AUTHENTICATION','):\x20Entrou\x20na\x20função\x20stop','audio','padEnd','remove.instance','clearVariables','abs','saveCreds','Erro\x20ao\x20importar\x20chats','height','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','stopMinutesMaxActives','interval\x20não\x20é\x20um\x20número','getAutomateSystem','Instance\x20deleted','MAX_RECONNECT_ATTEMPTS','RemoveChatLabel','AppStateSyncKeyData','testIPv6','):\x20transformedCustomFieldVariables','Connection','60oPAbnW','saveChatVariables','warn','option','footerText','VERBOSE','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','):\x20Editando\x20bloco...','\x20is\x20already\x20in\x20use.','/instance/connectionState','/message','now','key','findAndReplace','getConversationModelForOwner','):\x20[messages.update]\x20group\x20ignored','fullName','IPv6\x20addresses\x20detected:\x20','isValidAndUniqueIPv6','_fromMe','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','XX:XX:XX:XX:XX:XX','STORE_CHATS','sendPoll','statusJidList','createflow','):\x20Buscando\x20flow,\x20id:\x20','events','lastFetchAwaitingApproval','DATABASE_CONNECTION_PASSWORD','):\x20leadInfoVariables','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','sendPresenceUpdate','connectionClosed','generateRandomIPv6','reconnectTimestamps','capitalizedWords','isListOfNumbers','2029700noKZou','certonly','-instances','SINGLE_SELECT','mkdirSync','uazapi','hasOwnProperty','Certbot\x20executado\x20com\x20sucesso.','):\x20Ler\x20mensagem','menuIgnoreNonVotes','setHeader','Content-Type','chatHandle','findChats','updateProfilePicturePrivacy','getUniqueFlowName','startFlow','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','removeIPv6','\x20-i\x20','):\x20alterando\x20this.AutomateSystem','/:instanceName','repeat','contactHandle','\x20and\x20data:','optionName','groupadd','headerString','\x27\x20do\x20banco\x20de\x20dados...','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','document','removeChatLabel','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','base64','AUTHENTICATION_API_KEY','imageMessage',',\x20lastCondition:\x20','Fluxo\x20\x27','Subscribed\x20Events:','messagesSend','fetchPrivacySettings','find','/instance/fetchInstances','USER','toBRL','#000000','IPv6\x20Prefix\x20detected:\x20','defineProperty','add','updateReadReceiptsPrivacy','SSL_CONF_PRIVKEY','.webm','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','beautifyWithPlaceholders','function','getOwnPropertyDescriptor','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','replaceOne','call','json','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','\x20foi\x20interrompido\x20pelo\x20usuário.','lastCondition','createAndSave','findIndex','):\x20whoCanUse\x20before\x20validation:\x20','SendScheduleMessage','):Image\x20converted\x20to\x20WebP','statusMessage','END:VCARD','fetchProfile','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','fetchBusinessProfile','qrCode','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','integer','object','pop','jpegThumbnail','editflowreply','getMIMEType','responsavelid','bodyString','fileName','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','groupDesc','API_KEY','/create','request\x20received\x20in\x20editFlowgroup','pairingCode','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','CLEANING_INTERVAL','logout','https://v6.ident.me','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','chatLog','flow','address','setUpdate','certbot','and','leadInfo.customFields','header','apiResponse','getContentType','varedits','closed','shift','processUazapi','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','):\x20whoCanEdit\x20after\x20validation:\x20','AddUserFlow','name','fetchContacts','Subdomínio\x20extraído\x20da\x20URL:','qrcode.updated','sharp','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','quoted','deleteAll','atendimentoAberto','upsertedCount','createConnection','DATABASE','):\x20atualização\x20chat:\x20','\x20segundos','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','AUTHENTICATION_JWT_EXPIRIN_IN','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','GROUPS_UPDATE','/wa-qrcode','HOST','state','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','filter','https://api64.ipify.org?format=json','labels.edit','pollErrorMessage','):\x20updateResult:','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','#83e421','stanzaId','mediaMessage','status@broadcast','instanceName','findGroups','order','groupName','editFlowCondition','toString','body','firstValue','mentions','wuid','presenceSubscribe','@broadcast','approve','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','#9ba6ff','DB_PREFIX_NAME','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','EXPIRIN_IN','picture','envProcess','Parando\x20aplicação...','admin','findAll','currency','forEach','_remoteJid','eventHandler','instanceInfo','updateConversation','badSession','validate','Resultado\x20da\x20correspondência\x20de\x20URL:','trimmed','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','editOperator','\x27\x20não\x20encontrado','\x1b[47m','@newsletter','del','deleteBlock','COLOR','\x1b[37m%s\x1b[0m','processConditions','sendDataWebhook','isConnected','FlowRouter','indexOf','oldToken','log','everyOne','\x20ao\x20chat\x20','pollCreationMessageKey','\x20-y','hbs','upperCase','):\x20Bloco\x20original\x20para\x20cópia:\x20','cacheInstanceRepository','startFlowWebhook','whoCanUse','updateParticipant','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','hex','readMessages','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','useMultiFileAuthState','):\x20Flow\x20\x27','msgRetryCounterCache','sim','/wa-chats','METHODS','Network\x20Interface\x20detected:\x20','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','_ScheduleMessages','upsertChats','data','mongoose','scheduleNextCheck','/group','deletedCount','contacts','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','reorderReplyOptions','\x20não\x20encontrado','downloads','menuMessage','Sistema\x20atualizado\x20com\x20sucesso!','webp','updateMany','Variáveis\x20não\x20encontradas:','):Audio\x20converted\x20and\x20stored\x20in\x20cache','uazapiSendContact','announcement','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','updateMissingCustomFields','\x1b[31m%s\x1b[0m','deleteFlow','random','lowerCase','.error','Erro\x20ao\x20buscar\x20o\x20fluxo','when','):\x20teve\x20mudanças\x20chat.archived:\x20','Schema','deleteConversation','updateChatGroupData','toggleEphemeral','Erro\x20ao\x20editar\x20o\x20bloco:\x20','\x0a*Você\x20respondeu*:\x0a','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','groupdata','choices','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','rows','findGroupInfo','/instance/create','toArray','poll','unhandledRejection','type','processclearVariables','binary','):including\x20timestamp\x20in\x20url:\x20','getBase64FromMediaMessage','off','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','findByIdAndUpdate','^\x5cd+','#fed428','startID','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','convertedOptions','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','instance.','getValidWhatsAppNumbers','TEXT','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','SEND_MESSAGE','URI','jsonwebtoken','\x1b[33m','Request\x20Body:','getLastMessage',',\x20Comparador:\x20','updateBlock','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','/exit','Falha\x20ao\x20processar\x20fetchBusinessProfile','SERVER_PORT','pollUpdateMessage','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','connectionState','ignoreGroups','):\x20Criou\x20conversa\x20no\x20startFlow','editFlowBlock','dbClient','removeProfilePicture','\x1b[1m\x1b[37m','groupUpdateDescription','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','content-type','trim','demote','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','Erro\x20ao\x20atualizar\x20AutomateSystem:','Invalid\x20format','READ','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','Imagem\x20não\x20encontrada','processblock','#b4ebff','equal','verbose','preview','slice','messageTimestamp','messageId','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','.xlsx','client','.xls','updateOne','updateAutoCompleteMessages','findById','WARN','updateMissingTags','Mensagens\x20deletadas\x20com\x20sucesso.','buffer','editFlowVaredit','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','includes','):Output\x20path:\x20','autoCompleteMessages','convertaudioMP3','findOneAndUpdate','Atualização:\x20','):\x20Adicionando\x20\x27','):Type\x20defined\x20as\x20audio','\x1b[37m','checkAndRestartProcess','_Contacts','networkInterface','requestFile','contact_blacklist','SSL_CONF_FULLCHAIN','updateChatWithMessage','STORE_CLEANING_TERMINAL','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','status','endSession','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','parse','/wa-message','Message','Instance\x20\x22','groupJoinApprovalMode','PRODUCT_LIST','catch','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','sleep','lean','editFlowReply','deleteOne','padStart','deleteImportedChat','updateOneById','out','\x27\x20->\x20','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','group-participants.update','Telefone:\x20','):\x20\x27Enviando\x20mídia\x20para\x20\x27','\x1b[46m','.mp3','.uazapi.dev','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','Instance\x20restarted','fetchInstances','_sender','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','/media/','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','editConversation','conversation','):\x20Going\x20to\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','start','finish','LOG',',\x20global:\x20','promisify','):\x20conversation.waitingMenu_name','contacts.update','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','deleteInstance','arraybuffer','findOrCreate','groupMemberAddMode','local_map','apirequest','reorderBlocks','number','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','configureIPv6','available','muteEndTime','applyvaredit','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','mongodb://','connectToWhatsappController','\x20não\x20encontrado\x20para\x20atualização.','getClient','newValue','sendMessage','numbers','):\x20Criando\x20fluxo...','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Erro\x20ao\x20normalizar\x20a\x20mensagem:',']\x20(','flattenObject','migrateFlowsToCentralizedCollection','Selecione','pre','@whiskeysockets/baileys','request_time','email','createOrUpdate','parseInt','joinApprovalMode','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','#f64847','EMAIL:','/chat','value','updateProfileStatus','scheduleFlow','insertCount','FULLCHAIN','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','deleteDoneMessages','sign','cpf','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','presence.update','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','webhookModel','flowName','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','saveTextReply','Content\x20is\x20required','dbSettings','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','charAt','Partes\x20do\x20domínio:','.jpg','less','processPollUpdateMessage','Conversa\x20deletada\x20com\x20sucesso.','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','user','FlowController','connecting','fileUrl','URL:','globalShow','optionDescription','profilePictureUrl','processing_id','\x20adicionado\x20ao\x20chat\x20','.jwt','varedit','command','Error\x20updating\x20message\x20status:','model','_activedCount','saveMediaToFile','):\x20Edit\x20schedule\x20message...','Nenhum\x20participante\x20válido\x20encontrado.','error_log','startsWith','eventEmitter','DATABASE_CONNECTION_HOST','refused','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','editFlowGroup','profileName','Group\x20not\x20found','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','listMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','_Labels','formatBRNumber','):\x20Enviando\x20enquete','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','instance','none','The\x20property\x20cannot\x20be\x20empty','https://jsonip.com','Fluxos\x20transferidos\x20do\x20proprietário\x20\x27','randomMac','subdomain','removed','ephemeralExpiration','Nenhum\x20fluxo\x20encontrado\x20para:\x20','condition','\x1b[33m%s\x1b[0m','replacer','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','writeFileSync','desativadoFluxoAte','ephemeralMessage','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','Instance\x20Key\x20from\x20DB:','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','groupHandler','buttonText','update','chats.update','text/event-stream','fileLength','remoteJidsRemaining','getMessageModelForOwner','processgoToFlow','groups.update','CORS_CREDENTIALS','deleted','save','_id','Erro\x20ao\x20editar\x20o\x20chat','shutdown\x20-r\x20now','setting','$set','updateMessage','Read\x20messages','IPv6\x20address\x20configured:\x20','cleanDisconnectedInstances','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','organization','fetchMessages','replaceVariablesChat','editedMessage','writeData','js-yaml','updateAgent','whoCanEdit','truncatedtoEnd','50mb','):\x20Enviando\x20mídia','caption','\x20chats\x20de\x20',',\x20canSendMessage:\x20','headers','substring','keys','leadInfo.atendimentoAberto','media','http','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','uazapiSendMedia','archiveChat','Fluxo\x20agendado\x20pelo\x20fluxo\x20','stopWhenYouSendMsg','use','creation','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','vcard','min','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','SERVER_OFFLINE','):\x20newSecondValue\x20após\x20replaceVariables:','Types','data:\x20','groups_ignore','MessageModel','set','mediatype','unlocked','block','detail','hGet','params','valid','):\x20lastBlockId:\x20','stopConversation','):\x20conversation.status:\x20','cacheContact','.\x20Aguardando\x20','https://ifconfig.me/ip','truncatedto','/startFlow/:instance/:startID','Erro\x20ao\x20deletar\x20mensagens:','importChats','privacySettings','.txt','archive','newStoppedUntil','ScheduleMessageModel','whatsappNumber','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','fetchProfilePictureUrl','apiName','getHours','/wa-contacts','Missing\x20global\x20api\x20key','ObjectId','item','router','The\x20','../env.yml','console','findAndUpdateCacheContact','online','lastReceivedMessage','prototype','errors','Limpando\x20logs\x20do\x20PM2...','modifiedCount','put','fromObject','query','contacts.upsert','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','waitingMenu_id','8080','viewOnceMessageV2','notEqual','waitingMenu_text','get','creds.update','temp-','instancias:\x20','connectToWhatsapp','no.connection','Flow\x20\x27','):\x20Fluxo\x20\x27','groupJid','removeInstance','/clients-info','telefone','connectedClient','originalUrl','#64c4ff','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','replaceVariablesInObject','fetchStatus','CONTACTS_SET','):\x20Comando\x20desconhecido:\x20','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','):\x20Query\x20params:','\x1b[41m','deleteMessageForEveryone','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','paused','deleteflow','\x1b[42m','importChatsBatch','sendMedia','TYPE','):Image\x20is\x20url','URL\x20não\x20disponível','):\x20Enviando\x20áudio','):\x20não\x20encontrou','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','greater',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','flowStopMinutes','Erro\x20ao\x20tentar\x20updateCustomFields','post','senderKeyDistributionMessage','Erro\x20de\x20atualização:\x20','groupToggleEphemeral','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','):Image\x20created','\x20-\x20ON:\x20','mediaKey','uazapiSendMenu','):Trying\x20to\x20get\x20business\x20profile','sendWhatsAppAudio','ultimaTentativaRemoteJid','autoCompleteMessages.command_1','getTime','Variável\x20não\x20encontrada!','chats.upsert','sendReaction','ini','\x1b[36m','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','push','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','reject','Valor\x20de\x20find\x20ou\x20replace\x20ausente','):\x20','BufferJSON','Data\x20inválida\x20fornecida','length','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','CHATS_SET','blockId','sending','Not\x20is\x20business\x20profile','https://uazapi-plugin.bubbleapps.io/?url=','):\x20debug\x20alterando\x20this.AutomateSystem','variable','video','end','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','.webp','connectedName','https://api.openai.com/v1/audio/speech','Last\x20message\x20not\x20found','STATUS_INSTANCE','fromMe','_p_','extractRegex','REDIS_PREFIX_KEY','express','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','groups','synchronizeAndMapFlows','error\x20get\x20vote','#6f7bcf','crypto','setWebhook','Erro\x20ao\x20copiar\x20o\x20documento','DATABASE_CONNECTION_URI','stickerMessage','\x0aFN:','SERVER','ip:\x20','remote\x20\x22origin\x22','delayChatLabel_RETRY_DELAY_MS','DELIVERY_ACK','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','Error\x20writing\x20file:\x20','Falhou\x20ao\x20encontrar\x20chat\x20','convertaudio','leaveGroup','Bad\x20Request','CONNECTION','Subdomínio\x20final:','MESSAGES_UPSERT','processApiRequest','authorization','inviteUrl','request_method','InstancesAlterarTodas','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','BRL','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','view\x20engine','):\x20Flow\x20desativado','):\x20Deletando\x20conversa...','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','findOne','removeData','pino','website','unlinkSync','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','role','util','Connection\x20closed\x20for\x20instance:\x20','scheduled','canSendMessage','existsSync','expiration','toBrazilianNumberFormat','cachedContacts-whatsapp','locationMessage','uazapiDeleteMessage','):\x20Procurando\x20mensagens\x20para\x20envio','toLowerCase','[AUTH]\x20Database\x20is\x20not\x20enabled','maxActives','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','createClient','cwd','color','connectionStatus','pushName','AUTHENTICATION_TYPE','\x1b[32m%s\x1b[0m','\x20}\x0a','bateu\x20events','request\x20received\x20in\x20getConversation','getRandomText','):\x20nextBlock.uazapi.name','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','webhook','DOCKER_ENV','fone','Button\x20IDs\x20cannot\x20be\x20repeated.',',\x20Segundo\x20Valor:\x20','listResponseMessage','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','ERROR','allflows','isJidGroup','\x1b[44m','secondValue','getFlow','close','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','endsWith','repository','#ffffff','):Notifying\x20clients\x20for\x20chat:\x20','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','\x27\x20para\x20a\x20coleção\x20centralizada.','#dfaef0','\x20:\x20','minutesToClose','reference','variables','formatStatusMessage','node-cache','):\x20Current\x20Time:\x20','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','restrict','#fe9dfe','shareOwners','open','creds.json','messageType','):\x20Usando\x20extensão\x20padrão:\x20','ConversationModel','request\x20received\x20in\x20createFlow','):\x20Procurando\x20conversa','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','empty','ScheduleMessage','Authentication\x20error','delete','evaluateConditionTest','):\x20Enviando\x20texto','/wa-connection-update','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','true','delaySecMin','createConversationforStartFlow','lastSendMessage','\x1b[32m','message_normalized','stderr','audioMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','undefined','SERVER_ACK','contactsArrayMessage','release','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','messages.upsert','reactionMessage','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','addReplyOption','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','\x20removido\x20do\x20chat\x20','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','importChatsAntigo','Database\x20connection\x20closed.','express-async-errors','request\x20received\x20in\x20deleteDoneMessages','qrcode','\x0a{\x20instance:\x20','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','Internal\x20Server\x20Error','ReplyOption\x20com\x20ID\x20','Instâncias\x20removidas:\x20','/events/:instance','audio/ogg;\x20codecs=opus','fetchLabels','listType','CHATS_UPDATE','GROUP_PARTICIPANTS_UPDATE','revokeInviteCode','unreadcount','map','videoMessage','MESSAGES_UPDATE','RECONNECT_TIME_FRAME','reviver','stringify','delay','Erro\x20ao\x20atualizar\x20o\x20fluxo:','deleteChat','Esse\x20fluxo\x20expirou','editChat','Erro\x20ao\x20atualizar\x20o\x20flow.','addChatLabel','collections','method','IP\x20mismatch:\x20configured\x20','notify','_pushName','restart','unavailable','isURL','authentication','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','/64\x20dev\x20','lastUpdate','imgUrl','Fluxos\x20não\x20estão\x20ativados','author','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','loadEnv','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','updateGroupWebhook','labels.association','):\x20Conversa\x20está\x20expirada','\x20tentativas.','split','updatePrivacySettings','processawaitSeconds','timeInMinutes','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','):\x20Entrou\x20na\x20função\x20saveReply','joinGroupValidate','updateGroupPicture','Error\x20removing\x20unused\x20chat\x20fields:','):Image\x20path:\x20','Log\x20out\x20instance:\x20','keyPattern','addBlock','Last\x20message\x20not\x20found\x20for\x20number:\x20','segundos','?authSource=admin&readPreference=primary&directConnection=true','LOG_COLOR','notEmpty','write','):Converted\x20image\x20deleted','\x1b[43m','\x1b[0m','request\x20received\x20in\x20editFlowcondition','flowConversation',',\x20qrcodeCount:\x20','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','selectedOptions','):\x20Rótulo\x20atualizado:\x20','chats','views','Fluxo\x20não\x20encontrado\x20na\x20memória.','):\x20Label\x20','Erro\x20ao\x20aplicar\x20varedit:\x20','getMessage','createServer','findLabels','groupMetadata','\x20com\x20sucesso.','NO_IP','chat','WA\x20MODULE','generateHash','.docx','participants','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','presence','some','):\x20this.processing_id:\x20','whatsappNumbers','cleanStore','_Chats','groupUpdateSubject','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','groupBetterSetting','format','chatId','Bloco\x20com\x20ID\x20','The\x20instance\x20needs\x20to\x20be\x20disconnected','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','all','Deleted\x20','Falta\x20informação\x20para\x20a\x20chamada\x20API','editFlowVariable','):\x20Buscando\x20conversas...','findManyByIds','addresss','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','/*.json','\x1b[34m','findConversation','Error\x20in\x20chatModify\x20for\x20number\x20','):\x20Ignoring\x20group\x20messages.','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','awaitSeconds','Erro\x20ao\x20adicionar\x20label\x20','editScheduleMessage','createGroup','removeIPv6ById','dbConnection','moreLogs','__esModule','connection.update','Pausado\x20por\x20','delayChatLabel_MAX_RETRIES','Erro\x20ao\x20editar\x20agentes','QRCODE_UPDATED','\x20inseridos\x20no\x20banco\x20de\x20dados...','unreadCount','archived','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','basename','The\x20\x22','):\x20Conversa\x20inserida\x20com\x20sucesso.','authState','\x20minutos','debug','):\x20tem\x20blocks','logger','Logger','request\x20body:\x20','labelId','cachedData-whatsapp','mediaSticker','\x20não\x20encontrado\x20para\x20cópia','mentioned','delayChatLabel','Button\x20texts\x20cannot\x20be\x20repeated','StartID:','Total\x20de\x20fluxos\x20transferidos\x20para\x20a\x20coleção\x20centralizada:\x20','nome','/wa-groups','all_member_add','toFile','ip\x20-6\x20addr\x20show\x20dev\x20','Error\x20fetching\x20group','Forbidden','convert','sendLocation','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','axios','uuid','sendMenu','Cache-Control','CONNECTION_UPDATE','extractMessageContent','toUpperCase','loadWebhook','isJWT','GET','false','stopIfLastReturnedError','global','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','updateMediaMessage','SECRET','_Flows','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','waitingMenu_replyOptions','allContacts','Message\x20not\x20found','Error\x20adding\x20IPv6\x20address:\x20','status.instance','}}\x20->\x20\x22','env.KEY\x20!==\x20key','Error\x20parsing\x20JSON:','API\x20Key\x20inválida.','ip6eui','instances','has','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','):\x20Enviando\x20contato','URL\x20completa:','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','dropIndex','_error','composing','_Messages','groupInviteCode','):\x20Falha\x20ao\x20deletar\x20mensagem.','textMessage','.pdf','Erro\x20ao\x20remover\x20label\x20','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','create','sendStatus','Resultado\x20da\x20atualização:','tags','Database\x20is\x20not\x20enabled','ChatRouter','blockLogs','groupValidate','Not\x20allowed\x20by\x20CORS','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','jid','title','):\x20Editando\x20edição\x20do\x20fluxo...','Error\x20finding\x20many\x20contacts:','memberAddMode','toNumber','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','*Pergunta*:\x20\x0a','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','hDel','Partes\x20do\x20caminho\x20FULLCHAIN:','uazapiSendAudio','context','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','jsonschema','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','Error\x20updating\x20cache\x20contact:','backgroundColor','profilePicture','Nenhum\x20fluxo\x20correspondente\x20encontrado.','):\x20Removendo\x20\x27','sendContact','variablesNotFound','findContacts','createWebhook','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','/wa-message-update','contact','font','uazapiSendLocation','locked','deleteReplyOption','getScheduleMessage','creds','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','process','-whatsapp-api','WebhookGlobal','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','descId','editflowvariable','customFields','localWebhook','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','mimetype','defineAuthState','envYaml','\x20do\x20chat\x20','goToFlow','messages.set','\x22\x20-\x20REMOVED','StatusJidList\x20is\x20required','pictureUrl','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','lastInteraction','static','documentMessage','):Sending\x20audio\x20whatsapp','send.message','Error\x20in\x20scheduleNextCheck:\x20','EMAIL','label','description','sendButtons','):\x20\x27Enviando\x20texto\x20para\x20\x27','detectIPv6PrefixAndInterface','class-validator','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...',',\x20received\x20','updateProfilePicture','messageStubParameters','webhookService','redirect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','updateProfileName','store','match_last_seen','#00a1f2','AutomateSystem\x20não\x20foi\x20inicializado','updateGParticipate','getContactModelForOwner','groupSetting','AddChatLabel','send','Message\x20absent\x20from\x20node','Erro\x20de\x20reinicialização:\x20','convertToWebP','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','groupCreate','error','sections','verifiedName','cacheContactModel','response','test','inet6','setRestartTimeout','statusCode','application/octet-stream','Mensagem\x20não\x20suportada','hGetAll','):\x20newFirstValue\x20após\x20replaceVariables:','reconnectAttempts','auth','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','findMany','latitude','sendText','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','proto','DELETED','CONTACTS_UPSERT','joinGroup','linkPreview','subjectTime','sticker','\x1b[1m','listen','isJidBroadcast','Erro\x20ao\x20criar\x20fluxo','urlencoded','enabled','groupParticipantsUpdate','https://','Erro\x20ao\x20buscar\x20Schedule\x20Messages','authModel','.fileUrl','closeExistingConversations','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','createConversationforgoToFlow','code','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','flush','replaceVariablesInReplyOptions','menuExpiredMessage','rowId','string','getLabelModelForOwner','replace','normalizeMessage','Conexão\x20estabelecida','scheduleMessage','3315564eIOTWE','):\x20whoCanUse\x20after\x20validation:\x20','created','findParticipants','getDevice','utf-8','success','child_process','fetchProfilePicture','):Hash\x20to\x20image\x20name:\x20','Chat\x20com\x20ID\x20','bearer','isCommunity','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','5782284PDuMLi','getScheduleMessageModelForOwner','sendSticker','):\x20Criando\x20fluxo\x20compartilhado...','group','utf8','isRunning','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','quotedMessage','sem\x20texto\x20na\x20mensagem','selectableCount','DD/MM\x20HH:mm:ss','.\x20Pulando.','stopMinutes','collection','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','messaging-history.set','):\x20Entrou\x20na\x20função\x20goToFlow','readData','updateStopChat','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','prepareMediaMessage','--standalone','loadInstance','dataValidate','message','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','loggedOut','\x5c$&','):Processing\x20audio','/wa-all-message','Not\x20Found','@s.whatsapp.net','findGroup','qrcode-terminal','URL','flowPrefixCommand','participant','processScheduleFlow','lastSend','Error\x20removing\x20IPv6\x20address:\x20','routerPath','restartInstance','redis','):\x20Fluxos\x20do\x20proprietário\x20\x27global\x27\x20transferidos\x20para\x20a\x20coleção\x20centralizada.','env','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','isValidIPv6Config','CONTACTS_UPDATE','cleaningUp','deleteMessage','chatModify','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','):\x20Editando\x20condição\x20do\x20fluxo...','\x20mensagens\x20de\x20','bodyStringErrorParse','\x22\x20not\x20found','beforeExit','Erro\x20ao\x20alterar\x20fluxo','noConnection','isInteger',',\x20Expiration\x20Time:\x20','where','pollMessage','match','chats.delete','iniciando\x20fluxo\x20router','Cannot\x20','Configured\x20IPv6:\x20','inviteCode','processvaredits','normalizeMessageContent','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','contactMessage','cachedContact','):\x20conversation.lastInteraction:\x20','):\x20Fluxos\x20do\x20proprietário\x20\x27','requestPairingCode','audioWhatsapp','imported','entries','):Archiving\x20chat','):\x20Buscando\x20conversa...','replaceVariablesLogs','etiquetas','DATABASE_CONNECTION_DB_PREFIX_NAME','messageContextInfo','@ffmpeg-installer/ffmpeg','replyOptions','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','getVariablesChat','Error\x20testing\x20IP\x20with\x20','Esse\x20fluxo\x20não\x20permite\x20importação.','):\x20Iniciando\x20bot...','FlowModel','INFO','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','ON\x20-\x20dbName:\x20','stopped','):\x20Editando\x20replyOption...','ListType','connect','throwAndLogError','readFileSync','Router','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','Erro\x20ao\x20inserir\x20chats:','pollCreationMessage','unknown\x20operation\x20type\x20[','Fluxo\x20id\x20\x27','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','testingWith','editFlow','scheduleSendText','.mimetype','values','\x20instance\x20does\x20not\x20exist','sendAudio','AutomateFunctions','.url','Erro\x20ao\x20iniciar\x20o\x20fluxo.','ipv6Prefix','sendCommand','isArray','image','default','desc','long','recording','\x1b[31m','updatePresence','buttonId','Erro\x20ao\x20atualizar\x20cacheInstance:','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','updateCustomFields','Db\x20Connection','uazapiSendText','limit','vote','flowActive','^\x5cd+([-]\x5cd+)*@g.us$','findAndReplaceRegex','exit','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','leadInfo.desativadoFluxoAte','contains','verifyWhatsAppNumber','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','Número:\x20','Instance\x20ID:','subject','CHATS_DELETE','):\x20delete\x20=\x20true','createFlow','groupId','dbServer','copyBlock','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','scheduleSendMedia','gifPlayback','SSL_CONF','createInstance','waInstances','ListMessage','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','last_update','encoding','MESSAGES_SET','KEY','contentText','licenca','):\x20Error\x20processing\x20conditions:\x20','variablesToObject','src','boolean','Erro\x20ao\x20buscar\x20conversas','inner','insertMany','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','last','array','https','2389560dhdMMn','waitingMenu_ExpiredMessage','Filtered\x20network\x20interfaces:\x20','webhookMap','!stop','):\x20Enviando\x20localização','updateFlowConfig','createIPv6','/events',',\x20valor\x20a\x20encontrar:\x20\x22','leadInfo','getflow','shareFlow','replyOption','ip\x20-6\x20addr\x20add\x20','no-cache','sha256','autoCompleteMessages.command','apikey','onWhatsApp','Erro\x20ao\x20alterar\x20privacidade','request\x20received\x20in\x20starFlow','splice','blocks','augusto.fcs@gmail.com','Certbot:\x20','messageHandle','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','isLong','PORT','Mac\x20OS','exec','):\x20[messages.upsert]\x20group\x20ignored','Início','stdout','mongodb','readMessageBot','Configuração\x20SSL\x20recuperada:','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','DEBUG','sendMessageWithTyping','):\x20Fluxos\x20não\x20estão\x20ativados','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','list','getStatus','\x20minutos.\x20Será\x20às\x20','PRESENCE_UPDATE','https://uazapi-plugin.bubbleapps.io/','getConversation','):\x20Entrou\x20na\x20função\x20clearVariables','OrAnd','displayName','request\x20received\x20in\x20editFlow','\x1b[34m%s\x1b[0m','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','):\x20Limpando\x20AutomateSystem','notContains','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','urlOrBase64','automateSystem','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','Modelo\x20de\x20proprietário\x20não\x20pôde\x20ser\x20criado\x20para:\x20','ENABLED','@redis/client','deleteMany','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','Erro\x20ao\x20iniciar\x20fluxo:\x20','readdirSync',',\x20pairCode:\x20','next_groupId','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','setContext','startCommand','flowConfig','path','ContactsAndGroups','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','round','SERVER_URL','?timestamp=','app','statSync','replaceVariables','\x27\x20já\x20existem\x20na\x20coleção\x20centralizada.','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','AUTHENTICATION_JWT_SECRET','evaluateCondition','conditions','Erro\x20ao\x20deletar\x20chat:','flows','Valor\x20da\x20URL\x20recuperada:','compression','instanceName\x20not\x20provided.','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','writeFile','sectionsToString','join','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','saveVariable','info','phoneNumber','updateAll','createJid','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','Erro\x20do\x20Certbot:\x20','exists','/media','updateGroupParticipantsWebhook','buttons','Erro\x20ao\x20buscar\x20a\x20conversa','105261WCDYXS','Type\x20is\x20required','assign','):Temp\x20image\x20deleted','updateGParticipant','isCommunityAnnounce','/config','isBase64','expression','JWT','DisconnectReason','#d8e651','superadmin','dbInstance','/automate','DARK',',\x20fará\x20nova\x20verificação\x20em\x20','goNextblock','subjectOwner','video-cover.png','getDelay','https://chat.whatsapp.com/','pollCreationMessageV3','saveConversationToDatabase','https://api.openai.com/v1/images/generations','.doc','action','.ppt','markMessageAsRead','REDIS','\x20Tentativa\x20de\x20reconexão\x20','Generated\x20IPv6:\x20','Primeiro\x20Valor:\x20','886LruyWd','resetReconnectionVariables','CHATS_UPSERT','getTicketSystem','Enter\x20a\x20value\x20in\x20milliseconds','toLocaleString','buttonMessage','CacheContacts\x20database\x20connection\x20closed.','findFlow','getProfileName','owner','/instance/delete','\x27...','2529786xEXDej','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','readreceipts','sharePass','url','updateReplyOption','pt-BR','STORE','GROUPS_UPSERT','notas','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','options','LEVEL','pm2\x20flush','silent','migrateAllOwnersFlowsToCentralizedCollection','\x27\x20transferidos\x20para\x20a\x20coleção\x20centralizada.','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','IPv6\x20address\x20removed:\x20','sendMessageAck','The\x20global\x20api\x20key\x20must\x20be\x20set','Erro\x20na\x20função\x20updateChatWithMessage:\x20','insert','getUpdate','groups.upsert','setNewValue','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','messages','}}\x20->\x20valor\x20não\x20encontrado','floor','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','.png','updateGroupsAddPrivacy','createNewConversation','request\x20received\x20in\x20updateAgent','pollCreationMessageV2','):\x20Visualizando\x20AutomateSystem','output','width','updateMissingEtiquetas','connectionUpdate','delayMessage','toDataURL','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','findByIdAndDelete','instanceKeys','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','app-state-sync-key','PREFIX_KEY','fetchConversation','retrySendMessage','https://github.com/uazapi/uazapi.git','reaction','digest','nomecompleto','getChatModelForOwner','):Business\x20profile\x20fetched','StartBot','PLAYED','GUARD','g-t','menuType','max','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','Erro\x20ao\x20arquivar\x20chat','readMessage','10XmtKlk','changeVariables','pow','):\x20Query\x20params:\x20','Error\x20while\x20deleting\x20message\x20for\x20everyone','awaitingApproval','request\x20received\x20in\x20scheduleMessage','Fluxos\x20encontrados\x20de\x20\x27','NextBlock','longitude','spawn','E-mail:\x20','imagechat','sendList','Cache\x20instance\x20update\x20result:\x20','Safari','configService','rm\x20-rf\x20','request\x20received\x20in\x20fetchConversation','remoteJid','fetchChats','delAll','fetchLatestBaileysVersion','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','text','editflowgroup','):\x20Bloco\x20copiado:\x20','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','REDIS_URI','pollOnReplyDelete','\x5cd+','redisEnv','profile','Não\x20respondeu\x20com\x20a\x20enquete.','cacheInstanceModel','scheduleSendAudio','Instância:\x20','hSet','Error\x20fetching\x20and\x20updating\x20profile:\x20','protocolMessage','request\x20received\x20in\x20editFlowvariable','):\x20Mensagem\x20já\x20enviada\x20para\x20','Instância\x20não\x20encontrada.','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','removeUnusedChatFields','initAuthCreds','Erro\x20ao\x20migrar\x20fluxos\x20do\x20proprietário\x20\x27','enviado\x20para','remove','#56ccb4','):Error\x20in\x20converting\x20audio','authService','@g.us','prepareWAMessageMedia','ButtonsMessage','ephemeralDuration','stateConnection','isAdmin','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','activatedCount','235jvZlnh','processConditionsTest','.ogg','PASSWORD','Erro\x20ao\x20atualizar\x20conversa:\x20','recebido\x20de','AutomateSystem','createHash',',\x20saindo.','HeaderType','content','storePath','bulkWrite','flowIgnoreGroups','isBusiness','formatVCard','File\x20written\x20to\x20path:\x20','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','PENDING','allFlows','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','messages.update','contextInfo','_FlowHistorico','*\x0a\x0a','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','Nenhum\x20chat\x20encontrado\x20para\x20editar.','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','.mp4','realVariables','CORS','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','):Image\x20is\x20base64','waMonitor','):\x20Entrou\x20na\x20função\x20scheduleFlow','Rótulo\x20deletado:\x27,\x20','):\x20Limpando\x20delayMessage','CORS_ORIGIN','sort','groupGetInviteInfo','IP\x20confirmed:\x20','from','getPrototypeOf'];a0_0x52a6=function(){return _0x1f6723;};return a0_0x52a6();}var ko=0x0;async function ir(){const _0xd4d500=a0_0x4ac10f;let _0x4bb2c2=await new le(b['get'](_0xd4d500(0x67b)))[_0xd4d500(0x6b9)]();return console[_0xd4d500(0x85b)](_0xd4d500(0x2c8),_0x4bb2c2[_0xd4d500(0x30c)]),_0x4bb2c2[_0xd4d500(0x30c)];}function rr(_0x1ace4b){const _0x2528e7=a0_0x4ac10f;let _0xfbc3ea=_0x1ace4b[_0x2528e7(0x2c5)](_0x2528e7(0x32d))['URL'],_0x2a7fa8=_0x1ace4b[_0x2528e7(0x2c5)](_0x2528e7(0x5da));console['log'](_0x2528e7(0x64a),_0xfbc3ea),console[_0x2528e7(0x85b)](_0x2528e7(0x615),_0x2a7fa8);let _0x20be8a='',_0x3bf8b0=_0xfbc3ea||'';if(_0xfbc3ea){let _0xe306bc=_0xfbc3ea[_0x2528e7(0x579)](/\/\/(.*?)\./);console['log'](_0x2528e7(0x84a),_0xe306bc),_0xe306bc&&_0xe306bc[0x1]&&(_0x20be8a=_0xe306bc[0x1],console[_0x2528e7(0x85b)](_0x2528e7(0x80c),_0x20be8a));}if(!_0x20be8a&&_0x2a7fa8&&_0x2a7fa8['FULLCHAIN']){let _0x243fd6=_0x2a7fa8[_0x2528e7(0x207)][_0x2528e7(0x3eb)]('/');console[_0x2528e7(0x85b)](_0x2528e7(0x4a5),_0x243fd6);let _0x46c862=_0x243fd6[_0x243fd6[_0x2528e7(0x30c)]-0x2];if(console[_0x2528e7(0x85b)](_0x2528e7(0x765),_0x46c862),_0x46c862){let _0x17f7a8=_0x46c862[_0x2528e7(0x3eb)]('.');console[_0x2528e7(0x85b)](_0x2528e7(0x217),_0x17f7a8),_0x17f7a8[_0x2528e7(0x30c)]>0x2&&(_0x20be8a=_0x17f7a8[0x0],console[_0x2528e7(0x85b)](_0x2528e7(0x80f),_0x20be8a),_0x3bf8b0=''+_0x46c862);}}return{'subdomain':_0x20be8a||'Subdomínio\x20não\x20encontrado','fullURL':_0x3bf8b0||_0x2528e7(0x2e7)};}var {subdomain:oe,fullURL:Gs}=rr(b);console[a0_0x4ac10f(0x85b)](a0_0x4ac10f(0x339),oe),console[a0_0x4ac10f(0x85b)](a0_0x4ac10f(0x484),Gs);async function nr(){const _0x116540=a0_0x4ac10f;let _0x446c10=b[_0x116540(0x2c5)](_0x116540(0x67b)),_0xe07a8=b[_0x116540(0x2c5)]('AUTHENTICATION')['API_KEY']['KEY'],_0x1d75a5=b['get'](_0x116540(0x5da)),_0x2c27cc=await qo(),_0x21bbad=b[_0x116540(0x2c5)]('SERVER')[_0x116540(0x60d)],_0x4bc37a=Gs;try{let _0x27e5ec={'ip':_0x2c27cc||null,'redis_enable':_0x446c10?.[_0x116540(0x62e)]||null,'apikey':_0xe07a8||null,'ssl':_0x1d75a5?.['PRIVKEY']||null,'lastupdate':Vo||null,'port':_0x21bbad||null,'gitInstallError':Ue?.['message']||null,'url':_0x4bc37a||null,'subdomain':oe};if(console[_0x116540(0x85b)](_0x116540(0x32e),_0x27e5ec['ip']),_0x446c10&&_0x446c10[_0x116540(0x62e)]){let _0x1f95ca=await ir();_0x27e5ec['instanceCount']=_0x1f95ca||null;}for(let _0x57cfad in _0x27e5ec)_0x27e5ec[_0x116540(0x79e)](_0x57cfad)&&_0x57cfad!=='ip'&&(_0x27e5ec[_0x57cfad]=JSON['stringify'](_0x27e5ec[_0x57cfad]));return(await Fe[_0x116540(0x5b7)][_0x116540(0x2f0)](_0x116540(0x1da),_0x27e5ec))['data'];}catch(_0x73efd8){return console[_0x116540(0x4f6)](_0x73efd8),!0x1;}}var Js=!0x1,Vo=0x24d,cr=0x3,Lo=0x1b7740;async function Vs(){const _0x1cb68e=a0_0x4ac10f;if(!await qo())return console[_0x1cb68e(0x4f6)](_0x1cb68e(0x17b)),_0x1cb68e(0x412);let _0x5a5f14=await nr();if(_0x5a5f14){if(_0x5a5f14[_0x1cb68e(0x4fa)][_0x1cb68e(0x5e4)]===!0x0){let _0x1b44c7=b['get'](_0x1cb68e(0x5da)),_0x24631a=b['get'](_0x1cb68e(0x32d))['URL'];_0x1b44c7&&_0x1b44c7?.['PRIVKEY']?.[_0x1cb68e(0x19a)]('<subdomain>')&&_0x5a5f14['response'][_0x1cb68e(0x246)]&&!_0x24631a&&(await dr(_0x5a5f14[_0x1cb68e(0x4fa)][_0x1cb68e(0x246)],ur),await pr(_0x1cb68e(0x608),_0x5a5f14[_0x1cb68e(0x4fa)]['subdomain']),console['log'](_0x1cb68e(0x5a8)),setTimeout(()=>gr(),0x2710)),Ue===null&&_0x5a5f14['response'][_0x1cb68e(0x5df)]-Vo>0x0&&await lr(),Js||(Js=!0x0,er());let _0xd5b042=0x24*0x3c*0x3c,_0x3a42c2=_0x5a5f14[_0x1cb68e(0x4fa)][_0x1cb68e(0x3fa)]>_0xd5b042?_0xd5b042:_0x5a5f14[_0x1cb68e(0x4fa)]['segundos'],_0x5aa6b8=Number(_0x3a42c2);if(isNaN(_0x5aa6b8)){console['error'](_0x1cb68e(0x768));return;}let _0x51b5d0=Math[_0x1cb68e(0x6a9)](_0x5aa6b8/0xe10),_0x3a3f41=Math[_0x1cb68e(0x6a9)](_0x5aa6b8%0xe10/0x3c),_0x363495=new Date(Date[_0x1cb68e(0x77c)]()+_0x5aa6b8*0x3e8);setTimeout(Vs,_0x5aa6b8*0x3e8);let _0x4bc7a6=_0x33a0bf=>_0x33a0bf[_0x1cb68e(0x830)]()[_0x1cb68e(0x1bb)](0x2,'0'),_0x20d1f8=_0x1cb68e(0x593)+_0x4bc7a6(_0x51b5d0)+'\x20horas\x20e\x20'+_0x4bc7a6(_0x3a3f41)+_0x1cb68e(0x61d)+_0x4bc7a6(_0x363495[_0x1cb68e(0x2ab)]())+':'+_0x4bc7a6(_0x363495['getMinutes']())+'.';console[_0x1cb68e(0x85b)](_0x20d1f8);}else return console[_0x1cb68e(0x85b)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),Js&&(console[_0x1cb68e(0x85b)]('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process[_0x1cb68e(0x5c8)]()),'LICENSE_INVALID';}else{if(ko++,ko<cr)console[_0x1cb68e(0x85b)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+Lo/0xea60+'\x20minutos...'),setTimeout(Vs,Lo);else return console[_0x1cb68e(0x4f6)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),_0x1cb68e(0x28a);}}async function lr(){const _0x55fce0=a0_0x4ac10f;console['log']('Parando\x20aplicação,\x20atualização\x20recebida'),console[_0x55fce0(0x85b)](_0x55fce0(0x2b9)),(0x0,we[_0x55fce0(0x6d8)])(_0x55fce0(0x699),{'shell':!0x0})['on']('close',_0x383274=>{const _0x1331fc=_0x55fce0;_0x383274!==0x0?console['error'](_0x1331fc(0x426)):(console[_0x1331fc(0x85b)](_0x1331fc(0x15b)),console[_0x1331fc(0x85b)](_0x1331fc(0x1c0)),(0x0,we['spawn'])(_0x1331fc(0x418),{'shell':!0x0})['on']('close',_0x3c5984=>{const _0x38658e=_0x1331fc;if(_0x3c5984!==0x0)console[_0x38658e(0x4f6)](_0x38658e(0x764));else{console[_0x38658e(0x85b)](_0x38658e(0x20c));let _0x197b68=(0x0,we[_0x38658e(0x6d8)])(_0x38658e(0x341),{'shell':!0x0});_0x197b68[_0x38658e(0x612)]['on'](_0x38658e(0x123),_0xadf270=>{const _0x571c9d=_0x38658e;console[_0x571c9d(0x85b)](_0x571c9d(0x19f)+_0xadf270);}),_0x197b68['stderr']['on'](_0x38658e(0x123),_0x108d37=>{const _0x459412=_0x38658e;console['error'](_0x459412(0x2f2)+_0x108d37);}),_0x197b68['on']('exit',_0x96c7db=>{const _0x3b8daf=_0x38658e;_0x96c7db!==0x0?console[_0x3b8daf(0x4f6)](_0x3b8daf(0x30d)+_0x96c7db):console['log'](_0x3b8daf(0x12e)),console[_0x3b8daf(0x85b)](_0x3b8daf(0x83f)),setTimeout(()=>process['exit'](),0x2710);});}}));});}var ur=je[a0_0x4ac10f(0x5b7)][a0_0x4ac10f(0x650)](__dirname,'env.yml');async function dr(_0x32f125,_0x374c90){const _0x136d83=a0_0x4ac10f;let _0x59eb4f=hr();_0x32f125=_0x32f125[_0x136d83(0x527)](_0x136d83(0x1c6),'');try{let _0x316ba7=fe['default'][_0x136d83(0x5a1)](_0x374c90,_0x136d83(0x53e));_0x316ba7=_0x316ba7[_0x136d83(0x527)](/<apikey>/,_0x59eb4f),_0x316ba7=_0x316ba7[_0x136d83(0x527)](/<subdomain>/g,_0x32f125),fe['default'][_0x136d83(0x24e)](_0x374c90,_0x316ba7,_0x136d83(0x53e)),console['log'](_0x136d83(0x86b));}catch(_0x2e1bed){console[_0x136d83(0x4f6)](_0x136d83(0x6e6),_0x2e1bed);}}function pr(_0x165db0,_0x35e510){return new Promise((_0x830c72,_0x2d9dbb)=>{const _0x427f9c=a0_0x3b98;let _0x520866=(0x0,we[_0x427f9c(0x6d8)])(_0x427f9c(0x7fd),[_0x427f9c(0x799),_0x427f9c(0x54f),'-m',_0x165db0,'--agree-tos','-d',_0x35e510]);_0x520866['stdout']['on'](_0x427f9c(0x123),_0x31bc99=>{const _0x4e880=_0x427f9c;console['log'](_0x4e880(0x609)+_0x31bc99[_0x4e880(0x830)]());}),_0x520866[_0x427f9c(0x3a4)]['on'](_0x427f9c(0x123),_0xef0e33=>{const _0xc80094=_0x427f9c;console[_0xc80094(0x4f6)](_0xc80094(0x658)+_0xef0e33[_0xc80094(0x830)]());}),_0x520866['on']('close',_0x42345f=>{const _0x263e07=_0x427f9c;_0x42345f!==0x0?(console[_0x263e07(0x4f6)]('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x42345f),_0x2d9dbb(_0x263e07(0x148)+_0x42345f)):(console[_0x263e07(0x85b)](_0x263e07(0x79f)),_0x830c72());});});}function hr(_0x168110=0x32){const _0x427791=a0_0x4ac10f;let _0x7b5455='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x30577d='';for(let _0x2774ef=0x0;_0x2774ef<_0x168110;_0x2774ef++)_0x30577d+=_0x7b5455['charAt'](Math[_0x427791(0x6a9)](Math[_0x427791(0x139)]()*_0x7b5455[_0x427791(0x30c)]));return _0x30577d;}function gr(){const _0x1a064b=a0_0x4ac10f;(0x0,we[_0x1a064b(0x60f)])(_0x1a064b(0x263),(_0x4cf565,_0x562f92,_0x4f4443)=>{const _0x2396d8=_0x1a064b;if(_0x4cf565){console[_0x2396d8(0x4f6)](_0x2396d8(0x7ee)+_0x4cf565);return;}if(_0x4f4443){console[_0x2396d8(0x4f6)](_0x2396d8(0x4f2)+_0x4f4443);return;}console[_0x2396d8(0x85b)](_0x2396d8(0x756)+_0x562f92);});}0x0&&(module[a0_0x4ac10f(0x740)]={'fullURL':fullURL,'subdomain':subdomain});