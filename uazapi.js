const a0_0xe54586=a0_0x4692;(function(_0x2aa488,_0x2b13fa){const _0x27f980=a0_0x4692,_0x1c75a4=_0x2aa488();while(!![]){try{const _0x2a551c=parseInt(_0x27f980(0x1ba))/0x1+-parseInt(_0x27f980(0x590))/0x2*(-parseInt(_0x27f980(0xbf))/0x3)+-parseInt(_0x27f980(0x2c0))/0x4+parseInt(_0x27f980(0x25a))/0x5*(parseInt(_0x27f980(0x56c))/0x6)+parseInt(_0x27f980(0x352))/0x7+parseInt(_0x27f980(0x29b))/0x8*(parseInt(_0x27f980(0x2b6))/0x9)+-parseInt(_0x27f980(0xa1))/0xa*(parseInt(_0x27f980(0x121))/0xb);if(_0x2a551c===_0x2b13fa)break;else _0x1c75a4['push'](_0x1c75a4['shift']());}catch(_0x2a9a4f){_0x1c75a4['push'](_0x1c75a4['shift']());}}}(a0_0x27c6,0x82e57));var Pi=Object[a0_0xe54586(0x54a)],Fe=Object[a0_0xe54586(0x432)],ki=Object['getOwnPropertyDescriptor'],ji=Object[a0_0xe54586(0x241)],Li=Object[a0_0xe54586(0x10e)],Fi=Object[a0_0xe54586(0x782)]['hasOwnProperty'],Ji=(_0x33ed4f,_0x10b268)=>{for(var _0x1b5ad5 in _0x10b268)Fe(_0x33ed4f,_0x1b5ad5,{'get':_0x10b268[_0x1b5ad5],'enumerable':!0x0});},Fs=(_0x4dbf8d,_0x5ab0ff,_0x2ba797,_0x3ba0ba)=>{const _0x3bb15d=a0_0xe54586;if(_0x5ab0ff&&typeof _0x5ab0ff=='object'||typeof _0x5ab0ff==_0x3bb15d(0x101)){for(let _0x23c32a of ji(_0x5ab0ff))!Fi[_0x3bb15d(0x536)](_0x4dbf8d,_0x23c32a)&&_0x23c32a!==_0x2ba797&&Fe(_0x4dbf8d,_0x23c32a,{'get':()=>_0x5ab0ff[_0x23c32a],'enumerable':!(_0x3ba0ba=ki(_0x5ab0ff,_0x23c32a))||_0x3ba0ba[_0x3bb15d(0x517)]});}return _0x4dbf8d;},O=(_0x157266,_0x325ef0,_0x213753)=>(_0x213753=_0x157266!=null?Pi(Li(_0x157266)):{},Fs(_0x325ef0||!_0x157266||!_0x157266[a0_0xe54586(0x2ca)]?Fe(_0x213753,a0_0xe54586(0x2f8),{'value':_0x157266,'enumerable':!0x0}):_0x213753,_0x157266)),Ui=_0x34ed22=>Fs(Fe({},'__esModule',{'value':!0x0}),_0x34ed22),ar={};Ji(ar,{'subdomain':()=>xs}),module['exports']=Ui(ar);var Ai=O(require(a0_0xe54586(0x5c6))),Us=require('fs'),qs=require(a0_0xe54586(0x620)),Vs=require(a0_0xe54586(0x65c)),Je=require(a0_0xe54586(0x65c)),re=process[a0_0xe54586(0x776)](),me=(0x0,Je[a0_0xe54586(0x569)])(re,a0_0xe54586(0x540)),Js=(0x0,Je[a0_0xe54586(0x569)])(re,a0_0xe54586(0x634)),Kr=(0x0,Je[a0_0xe54586(0x569)])(re,'store','auth'),rs=class{constructor(){const _0x24f1c5=a0_0xe54586;this[_0x24f1c5(0x6be)]();}[a0_0xe54586(0x6a4)](_0x26fb55){const _0x37c93d=a0_0xe54586;return this[_0x37c93d(0xe2)][_0x26fb55];}[a0_0xe54586(0x6be)](){const _0x571fe9=a0_0xe54586;this[_0x571fe9(0xe2)]=process[_0x571fe9(0xe2)]?.[_0x571fe9(0x63e)]!==_0x571fe9(0x3e1)?this['envYaml']():this[_0x571fe9(0x70f)](),process[_0x571fe9(0xe2)]?.[_0x571fe9(0x63e)]==='true'&&(this['env'][_0x571fe9(0x355)]['TYPE']=_0x571fe9(0x65b),this[_0x571fe9(0xe2)][_0x571fe9(0x355)][_0x571fe9(0x221)]=Number[_0x571fe9(0x303)](process['env']?.[_0x571fe9(0x449)]??_0x571fe9(0x45b)));}[a0_0xe54586(0x35c)](){const _0x4cc215=a0_0xe54586;return(0x0,qs[_0x4cc215(0x1c8)])((0x0,Us[_0x4cc215(0x722)])((0x0,Vs['join'])(Js,_0x4cc215(0x232)),{'encoding':'utf-8'}));}[a0_0xe54586(0x70f)](){const _0x1f2e18=a0_0xe54586;return{'SERVER':{'TYPE':process[_0x1f2e18(0xe2)][_0x1f2e18(0x4e6)],'PORT':Number[_0x1f2e18(0x303)](process[_0x1f2e18(0xe2)][_0x1f2e18(0x449)]),'URL':process[_0x1f2e18(0xe2)]['SERVER_URL']},'CORS':{'ORIGIN':process[_0x1f2e18(0xe2)][_0x1f2e18(0x316)][_0x1f2e18(0x6fa)](','),'METHODS':process[_0x1f2e18(0xe2)][_0x1f2e18(0x504)][_0x1f2e18(0x6fa)](','),'CREDENTIALS':process['env']?.[_0x1f2e18(0x123)]===_0x1f2e18(0x3e1)},'SSL_CONF':{'PRIVKEY':process['env']?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x1f2e18(0xe2)]?.[_0x1f2e18(0x359)]},'STORE':{'CLEANING_INTERVAL':Number[_0x1f2e18(0x25c)](process[_0x1f2e18(0xe2)]?.[_0x1f2e18(0x5a2)])?Number['parseInt'](process[_0x1f2e18(0xe2)][_0x1f2e18(0x5a2)]):void 0x0,'MESSAGES':process['env']?.[_0x1f2e18(0x254)]===_0x1f2e18(0x3e1),'CONTACTS':process[_0x1f2e18(0xe2)]?.[_0x1f2e18(0x735)]==='true','CHATS':process[_0x1f2e18(0xe2)]?.[_0x1f2e18(0x568)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0x1f2e18(0xe2)]?.['DATABASE_CONNECTION_HOST'],'PORT':Number[_0x1f2e18(0x303)](process['env']?.[_0x1f2e18(0xe1)]),'USER':process[_0x1f2e18(0xe2)][_0x1f2e18(0x1b5)],'PASSWORD':process[_0x1f2e18(0xe2)]['DATABASE_CONNECTION_PASSWORD'],'URI':process[_0x1f2e18(0xe2)][_0x1f2e18(0x657)],'DB_PREFIX_NAME':process[_0x1f2e18(0xe2)][_0x1f2e18(0x4da)]},'ENABLED':process[_0x1f2e18(0xe2)]?.[_0x1f2e18(0x1cb)]===_0x1f2e18(0x3e1)},'REDIS':{'ENABLED':process[_0x1f2e18(0xe2)]?.[_0x1f2e18(0x40e)]===_0x1f2e18(0x3e1),'URI':process[_0x1f2e18(0xe2)][_0x1f2e18(0x14a)]||_0x1f2e18(0x1cc),'PREFIX_KEY':process[_0x1f2e18(0xe2)][_0x1f2e18(0x1f3)]||_0x1f2e18(0x433)},'LOG':{'LEVEL':process[_0x1f2e18(0xe2)]?.[_0x1f2e18(0x714)][_0x1f2e18(0x6fa)](','),'COLOR':process[_0x1f2e18(0xe2)]?.[_0x1f2e18(0x117)]==='true'},'PROXY':Number[_0x1f2e18(0x303)](process['env']?.[_0x1f2e18(0x69c)]),'AUTHENTICATION':{'TYPE':process['env'][_0x1f2e18(0x14d)],'API_KEY':{'KEY':process[_0x1f2e18(0xe2)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x1f2e18(0x25c)](process[_0x1f2e18(0xe2)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x1f2e18(0x303)](process[_0x1f2e18(0xe2)][_0x1f2e18(0x52b)]):0xe10,'SECRET':process[_0x1f2e18(0xe2)]['AUTHENTICATION_JWT_SECRET']}}};}},S=new rs(),Oi=O(require(a0_0xe54586(0x3df))),he=O(require(a0_0xe54586(0x6f5))),js=require(a0_0xe54586(0x65c)),ns=O(require(a0_0xe54586(0x509))),cs=(_0xdeec4c=>(_0xdeec4c[a0_0xe54586(0xc5)]='\x1b[32m',_0xdeec4c[a0_0xe54586(0x8e)]=a0_0xe54586(0x1f4),_0xdeec4c[a0_0xe54586(0x6c4)]=a0_0xe54586(0x171),_0xdeec4c[a0_0xe54586(0x52d)]=a0_0xe54586(0x458),_0xdeec4c[a0_0xe54586(0x4a2)]=a0_0xe54586(0x173),_0xdeec4c['VERBOSE']='\x1b[37m',_0xdeec4c['DARK']=a0_0xe54586(0x415),_0xdeec4c))(cs||{}),Gs=(_0x39ce9c=>(_0x39ce9c['LOG']=a0_0xe54586(0x3b2),_0x39ce9c[a0_0xe54586(0x21a)]='\x1b[30m%s\x1b[0m',_0x39ce9c[a0_0xe54586(0x8e)]=a0_0xe54586(0x650),_0x39ce9c['WARN']='\x1b[33m%s\x1b[0m',_0x39ce9c['ERROR']=a0_0xe54586(0x49e),_0x39ce9c['DEBUG']='\x1b[36m%s\x1b[0m',_0x39ce9c[a0_0xe54586(0x407)]='\x1b[37m%s\x1b[0m',_0x39ce9c))(Gs||{}),Bs=(_0x2e6ed9=>(_0x2e6ed9[a0_0xe54586(0xc5)]=a0_0xe54586(0xc5),_0x2e6ed9[a0_0xe54586(0x6c4)]=a0_0xe54586(0x6c4),_0x2e6ed9[a0_0xe54586(0x8e)]='INFO',_0x2e6ed9[a0_0xe54586(0x21a)]=a0_0xe54586(0x21a),_0x2e6ed9[a0_0xe54586(0x52d)]=a0_0xe54586(0x52d),_0x2e6ed9[a0_0xe54586(0x4a2)]='DEBUG',_0x2e6ed9[a0_0xe54586(0x407)]='VERBOSE',_0x2e6ed9))(Bs||{}),Ws=(_0x1d0654=>(_0x1d0654[a0_0xe54586(0xc5)]=a0_0xe54586(0x646),_0x1d0654['INFO']=a0_0xe54586(0x561),_0x1d0654[a0_0xe54586(0x6c4)]=a0_0xe54586(0x1ce),_0x1d0654['DARK']=a0_0xe54586(0x524),_0x1d0654[a0_0xe54586(0x52d)]='\x1b[41m',_0x1d0654[a0_0xe54586(0x4a2)]=a0_0xe54586(0xeb),_0x1d0654[a0_0xe54586(0x407)]=a0_0xe54586(0x728),_0x1d0654))(Ws||{}),R=class{constructor(_0x38ebc8=a0_0xe54586(0x656)){const _0x1d3dcb=a0_0xe54586;this[_0x1d3dcb(0x1ae)]=_0x38ebc8,this[_0x1d3dcb(0x291)]=S;}[a0_0xe54586(0x2e0)](_0x3a4355){const _0x4d3ba9=a0_0xe54586;this[_0x4d3ba9(0x1ae)]=_0x3a4355;}[a0_0xe54586(0x32b)](_0x47778b,_0x5e8879){const _0x5c685a=a0_0xe54586;let _0x1522f4=[];this[_0x5c685a(0x291)][_0x5c685a(0x6a4)](_0x5c685a(0xc5))[_0x5c685a(0xcf)][_0x5c685a(0x110)](_0x381fef=>_0x1522f4[_0x5c685a(0x2d6)](Bs[_0x381fef]));let _0x5ed650=typeof _0x47778b;_0x1522f4[_0x5c685a(0x1d8)](_0x5e8879)&&(S[_0x5c685a(0x6a4)](_0x5c685a(0xc5))['COLOR']?(console[_0x5c685a(0x2c6)]('\x1b[1m'+Gs[_0x5e8879],_0x5c685a(0x56b),(0x0,ns[_0x5c685a(0x2f8)])()[_0x5c685a(0x202)](_0x5c685a(0x64c)),_0x5c685a(0x5cb),cs[_0x5e8879]+Ws[_0x5e8879]+'\x1b[1m',_0x5e8879+'\x20\x1b[0m','\x1b[33m\x1b[1m',this[_0x5c685a(0x1ae)]+_0x5c685a(0x5cb),cs[_0x5e8879],_0x5ed650!==_0x5c685a(0x6c9)?_0x47778b:'',_0x5c685a(0x5cb)),_0x5ed650===_0x5c685a(0x6c9)&&console['log'](_0x47778b,'\x0a')):console[_0x5c685a(0x2c6)]((0x0,ns[_0x5c685a(0x2f8)])()[_0x5c685a(0x202)]('HH:mm:ss'),_0x5e8879+'\x20',''+this['context'],_0x47778b));}[a0_0xe54586(0x2c6)](_0x55c4e0){const _0x4e57db=a0_0xe54586;this[_0x4e57db(0x32b)](_0x55c4e0,_0x4e57db(0xc5));}[a0_0xe54586(0x6e5)](_0xc2af6f){const _0xc6ccc5=a0_0xe54586;this['console'](_0xc2af6f,_0xc6ccc5(0x8e));}[a0_0xe54586(0x286)](_0x5bced9){const _0x193af9=a0_0xe54586;this['console'](_0x5bced9,_0x193af9(0x6c4));}['error'](_0x2826d8){const _0x168074=a0_0xe54586;this[_0x168074(0x32b)](_0x2826d8,'ERROR');}['verbose'](_0x3315cf){const _0x1798f6=a0_0xe54586;this[_0x1798f6(0x32b)](_0x3315cf,_0x1798f6(0x407));}[a0_0xe54586(0x5be)](_0x22592d){this['console'](_0x22592d,'DEBUG');}[a0_0xe54586(0x741)](_0x19efdd){const _0x4d398f=a0_0xe54586;this[_0x4d398f(0x32b)](_0x19efdd,'DARK');}};function zs(){const _0x316220=a0_0xe54586;process['on'](_0x316220(0x4c5),(_0x2bf4a5,_0x658b6c)=>{const _0x3fc8ad=_0x316220;new R('uncaughtException')[_0x3fc8ad(0x418)]({'origin':_0x658b6c,'stderr':process[_0x3fc8ad(0x6bb)]['fd'],'error':_0x2bf4a5});}),process['on'](_0x316220(0xfa),(_0x9fa940,_0xb18805)=>{const _0x46949f=_0x316220;new R('unhandledRejection')[_0x46949f(0x418)]({'origin':_0xb18805,'stderr':process[_0x46949f(0x6bb)]['fd'],'error':_0x9fa940});});}var Hs=O(require(a0_0xe54586(0x3b6))),ls=new Hs[(a0_0xe54586(0x2f8))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),we=require(a0_0xe54586(0x31e)),Ee=O(require(a0_0xe54586(0x31e))),Ue=new R(a0_0xe54586(0x74e)),L=S[a0_0xe54586(0x6a4)](a0_0xe54586(0x435)),$=L[a0_0xe54586(0x4f6)]?L['CONNECTION'][a0_0xe54586(0x765)]?Ee['default']['createConnection'](L[a0_0xe54586(0x41f)][a0_0xe54586(0x765)],{'dbName':L['CONNECTION'][a0_0xe54586(0x65e)]+a0_0xe54586(0x1d4)}):Ee[a0_0xe54586(0x2f8)]['createConnection']('mongodb://'+L['CONNECTION'][a0_0xe54586(0x5d2)]+':'+L[a0_0xe54586(0x41f)][a0_0xe54586(0x221)]+a0_0xe54586(0x10d),{'user':L[a0_0xe54586(0x41f)][a0_0xe54586(0x587)],'pass':L['CONNECTION'][a0_0xe54586(0x5ae)],'dbName':L[a0_0xe54586(0x41f)]['DB_PREFIX_NAME']+'-whatsapp-api'}):null;L[a0_0xe54586(0x4f6)]&&Ue[a0_0xe54586(0x6e5)](a0_0xe54586(0x1d0)+$[a0_0xe54586(0x266)]);var fe=L[a0_0xe54586(0x4f6)]?L[a0_0xe54586(0x41f)][a0_0xe54586(0x765)]?Ee['default']['createConnection'](L[a0_0xe54586(0x41f)][a0_0xe54586(0x765)],{'dbName':a0_0xe54586(0x1cd)}):Ee[a0_0xe54586(0x2f8)][a0_0xe54586(0x3ca)](a0_0xe54586(0x380)+L[a0_0xe54586(0x41f)][a0_0xe54586(0x5d2)]+':'+L[a0_0xe54586(0x41f)][a0_0xe54586(0x221)]+a0_0xe54586(0x10d),{'user':L[a0_0xe54586(0x41f)][a0_0xe54586(0x587)],'pass':L[a0_0xe54586(0x41f)][a0_0xe54586(0x5ae)],'dbName':a0_0xe54586(0x4af)}):null;fe&&Ue[a0_0xe54586(0x6e5)](a0_0xe54586(0x1d0)+fe[a0_0xe54586(0x266)]),process['on'](a0_0xe54586(0x4cf),()=>{const _0x558f33=a0_0xe54586;$&&$[_0x558f33(0x29c)](()=>{const _0x2d9853=_0x558f33;Ue[_0x2d9853(0x6e5)](_0x2d9853(0x344));}),fe&&fe[_0x558f33(0x29c)](()=>{const _0x22e71e=_0x558f33;Ue[_0x22e71e(0x6e5)](_0x22e71e(0x3cb));});});var qi=new we[(a0_0xe54586(0x4dd))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Vi=new we[(a0_0xe54586(0x4dd))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),Gi=new we[(a0_0xe54586(0x4dd))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),Bi=new we[(a0_0xe54586(0x4dd))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[qi],'default':[]}},{'_id':!0x1}),Wi=new we[(a0_0xe54586(0x4dd))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Bi,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Vi},'groupdata':{'type':Gi,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Ks=_0x52b8d4=>{const _0x3bc7f8=a0_0xe54586;let _0x276d0d='z_'+_0x52b8d4+_0x3bc7f8(0x748);return $?.[_0x3bc7f8(0x1c6)]('ChatModel',Wi,_0x276d0d);},Qs=require(a0_0xe54586(0x31e)),zi=new Qs[(a0_0xe54586(0x4dd))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Ys=_0x5a118b=>{const _0x5d71d4=a0_0xe54586;let _0xe42ba5='z_'+_0x5a118b+_0x5d71d4(0x3db);return $?.['model']('ContactModel',zi,_0xe42ba5);},Xs=require(a0_0xe54586(0x31e)),us=class{},Hi=new Xs['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=fe?.[a0_0xe54586(0x1c6)](us[a0_0xe54586(0x3dc)],Hi,a0_0xe54586(0x69d)),ea=require(a0_0xe54586(0x31e)),Ki=new ea[(a0_0xe54586(0x4dd))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ta=_0x1dd4a8=>{const _0x3a74f8=a0_0xe54586;let _0x237508='z_'+_0x1dd4a8+_0x3a74f8(0x3e7);return $?.['model'](_0x3a74f8(0x2d1),Ki,_0x237508);},sa=require(a0_0xe54586(0x31e)),ds=class{},Qi=new sa[(a0_0xe54586(0x4dd))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),aa=$?.[a0_0xe54586(0x1c6)](ds[a0_0xe54586(0x3dc)],Qi,a0_0xe54586(0x100)),ia=require(a0_0xe54586(0x31e)),ps=class{},oa=new ia[(a0_0xe54586(0x4dd))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});oa[a0_0xe54586(0x557)](a0_0xe54586(0x6c3),function(_0x448bac){const _0x24cdf5=a0_0xe54586;delete this[_0x24cdf5(0x626)],delete this[_0x24cdf5(0xf7)],delete this[_0x24cdf5(0x3e4)],delete this['flowStopConversation'],delete this['flowStopMinutes'],_0x448bac();});var ra=$?.[a0_0xe54586(0x1c6)](ps[a0_0xe54586(0x3dc)],oa,a0_0xe54586(0x26b)),D=require('mongoose'),hs=require('uuid'),qe=class{},na=new D[(a0_0xe54586(0x4dd))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),gs=new D[(a0_0xe54586(0x4dd))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Yi=new D[(a0_0xe54586(0x4dd))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0xe54586(0x11c)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0xe54586(0x1e2)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0xe54586(0x24b)},'pollErrorMessage':{'type':String,'default':a0_0xe54586(0x6e6)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ca=new D[(a0_0xe54586(0x4dd))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Xi=new D[(a0_0xe54586(0x4dd))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),Zi=new D[(a0_0xe54586(0x4dd))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),fs=new D[(a0_0xe54586(0x4dd))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),eo=new D[(a0_0xe54586(0x4dd))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),la=new D['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Yi},'apirequest':Xi,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':eo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ua=new D[(a0_0xe54586(0x4dd))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ws=new D['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,hs['v4'])()},'startID':{'type':String,'default':()=>(0x0,hs['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'global':{'type':String,'default':a0_0xe54586(0x466)},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x208414=a0_0xe54586;return _0x208414(0x357)+Math[_0x208414(0x6f2)]()[_0x208414(0x27f)](0x24)[_0x208414(0x2ce)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[fs],'variablesNotFound':{'type':[String]},'blocks':[la],'groups':[na],'conditions':[ca],'varedits':[ua],'replyOptions':{'type':[gs],'default':[]}});ws[a0_0xe54586(0x557)](a0_0xe54586(0x6c3),function(_0x22c833){const _0x3bdaa1=a0_0xe54586;let _0x1541e2=new Set(),_0x99f1d9=new Set(this[_0x3bdaa1(0x7a1)]?.['map'](_0x3a1865=>_0x3a1865[_0x3bdaa1(0x3dc)])),_0x26ff4a=JSON[_0x3bdaa1(0x548)](this),_0x5d6b62=/{{(?!_)([^}]*)}}/g,_0x3100ca;for(;(_0x3100ca=_0x5d6b62['exec'](_0x26ff4a))!==null;)_0x99f1d9[_0x3bdaa1(0x3af)](_0x3100ca[0x1])||_0x1541e2[_0x3bdaa1(0x3fd)](_0x3100ca[0x1]);_0x1541e2[_0x3bdaa1(0xd5)]>0x0?(console['warn'](_0x3bdaa1(0x747),Array[_0x3bdaa1(0x40f)](_0x1541e2)),this['variablesNotFound']=Array[_0x3bdaa1(0x40f)](_0x1541e2)):this['variablesNotFound']=[],_0x22c833();}),ws[a0_0xe54586(0x557)]('findOneAndUpdate',function(_0x4c878a){const _0x1008c7=a0_0xe54586;let _0x467c8f=this[_0x1008c7(0x59b)]();if(_0x467c8f&&typeof _0x467c8f==_0x1008c7(0x6c9)&&_0x1008c7(0x18b)in _0x467c8f){let _0x402dc2=_0x467c8f[_0x1008c7(0x18b)];if(_0x402dc2){let _0x2fa9cb=new Set(),_0x572ec5=new Set(_0x402dc2[_0x1008c7(0x7a1)]?.[_0x1008c7(0x588)](_0x2836bb=>_0x2836bb['name'])),_0x2406e6=JSON[_0x1008c7(0x548)](_0x402dc2),_0x1fc048=/{{(?!_)([^}]*)}}/g,_0x145300;for(;(_0x145300=_0x1fc048[_0x1008c7(0x77b)](_0x2406e6))!==null;)_0x572ec5[_0x1008c7(0x3af)](_0x145300[0x1])||_0x2fa9cb[_0x1008c7(0x3fd)](_0x145300[0x1]);_0x2fa9cb[_0x1008c7(0xd5)]>0x0?(console[_0x1008c7(0x286)](_0x1008c7(0x747),Array[_0x1008c7(0x40f)](_0x2fa9cb)),_0x402dc2[_0x1008c7(0x61d)]=Array['from'](_0x2fa9cb)):_0x402dc2[_0x1008c7(0x61d)]=[],this[_0x1008c7(0x58d)]({'$set':_0x402dc2});}}_0x4c878a();});var da=_0x39b14e=>{const _0x50f5de=a0_0xe54586;let _0x1649b5='z_'+_0x39b14e+'_Flows';return $?.[_0x50f5de(0x1c6)](_0x50f5de(0xf3),ws,_0x1649b5);},to=new D[(a0_0xe54586(0x4dd))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[fs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Zi]},{'_id':!0x1}),so=new D[(a0_0xe54586(0x4dd))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[fs],'blocks':[la],'groups':[na],'conditions':[ca],'varedits':[ua],'replyOptions':{'type':[gs],'default':[]},'chatLog':to,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0xe54586(0x13d)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'waitingMenu_replyOptions':{'type':[gs],'default':[]}}),pa=_0x1b453a=>{let _0x38f156='z_'+_0x1b453a+'_FlowHistorico';return $?.['model']('ConversationModel',so,_0x38f156);},ao=new D[(a0_0xe54586(0x4dd))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),io=new D[(a0_0xe54586(0x4dd))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),oo=new D[(a0_0xe54586(0x4dd))]({'owner':{'type':String},'status':{'type':String,'default':a0_0xe54586(0x74d)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':io,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[ao],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ha=_0x39cfe1=>{const _0x3c8e49=a0_0xe54586;let _0x53afe1='z_'+_0x39cfe1+'_ScheduleMessages';return $?.['model'](_0x3c8e49(0x604),oo,_0x53afe1);},ms=class{},ro=new D[(a0_0xe54586(0x4dd))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),no=new D[(a0_0xe54586(0x4dd))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),co=new D[(a0_0xe54586(0x4dd))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0xe54586(0x6bc)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),lo=new D[(a0_0xe54586(0x4dd))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),uo=new D['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[lo]},'customFields':{'type':[no]},'flowConfig':{'type':co,'default':{}},'autoCompleteMessages':{'type':[ro],'default':[]}}),ve=$?.[a0_0xe54586(0x1c6)](ms[a0_0xe54586(0x3dc)],uo,a0_0xe54586(0x665)),ga=require('mongoose'),po=new ga['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ma=_0x34375b=>{const _0x5826d0=a0_0xe54586;let _0x560287='z_'+_0x34375b+_0x5826d0(0x5a1);return $?.['model'](_0x5826d0(0x777),po,_0x560287);},x=class{constructor(_0x50cf79){const _0x165b33=a0_0xe54586;this[_0x165b33(0x62e)]=_0x50cf79[_0x165b33(0x6a4)](_0x165b33(0x435));}};function T(_0x576d1d){const _0x40354f=a0_0xe54586;let _0x53f630={};for(let [_0x1281f8,_0x44ddbc]of Object[_0x40354f(0x1ed)](_0x576d1d))if(typeof _0x44ddbc==_0x40354f(0x6c9)&&!Array[_0x40354f(0x404)](_0x44ddbc)){for(let [_0x3a560d,_0x382d23]of Object[_0x40354f(0x1ed)](_0x44ddbc))_0x53f630[_0x1281f8+'.'+_0x3a560d]=_0x382d23;}else _0x53f630[_0x1281f8]=_0x44ddbc;return _0x53f630;}var Ve=class{constructor(_0x1387cf,_0x390f4a,_0x1cbc11,_0x5506dd,_0x176afd,_0x1d5ad5,_0x4ddd74,_0x2cc381,_0x5c3235,_0x32be7c,_0xc4465b,_0x2eb0cb){const _0x27407d=a0_0xe54586;this[_0x27407d(0x406)]=_0x1387cf,this[_0x27407d(0x556)]=_0x390f4a,this[_0x27407d(0x51f)]=_0x1cbc11,this[_0x27407d(0x36d)]=_0x5506dd,this[_0x27407d(0x26b)]=_0x176afd,this[_0x27407d(0x1a1)]=_0x1d5ad5,this[_0x27407d(0x3f7)]=_0x4ddd74,this['flowConversation']=_0x2cc381,this[_0x27407d(0x259)]=_0x5c3235,this[_0x27407d(0x675)]=_0x32be7c,this['automateSystem']=_0xc4465b,this[_0x27407d(0x4e8)]=_0x2eb0cb;}get[a0_0xe54586(0x125)](){const _0x413a28=a0_0xe54586;return this[_0x413a28(0x4e8)];}},Ge=class{},Be=class extends x{[a0_0xe54586(0x192)](_0x896d2e){return ta(_0x896d2e);}async[a0_0xe54586(0x1b7)](_0xd4ff1e,_0x4ccb9f){const _0x2aa49b=a0_0xe54586;if(_0xd4ff1e[_0x2aa49b(0x767)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x2aa49b(0x192)](_0x4ccb9f)[_0x2aa49b(0x36a)]([..._0xd4ff1e]))[_0x2aa49b(0x767)]};}catch(_0x52d2b6){return _0x52d2b6;}}async['find'](_0x1af98b,_0x4e87c9){const _0x102589=a0_0xe54586;try{let _0x3a832d=this[_0x102589(0x192)](_0x4e87c9),_0x5986dd=T(_0x1af98b['where']);return await _0x3a832d['find'](_0x5986dd)[_0x102589(0x489)]({'messageTimestamp':-0x1})['limit'](_0x1af98b?.[_0x102589(0x1c5)]??0x0)[_0x102589(0x793)]();}catch{return[];}}async[a0_0xe54586(0x790)](_0x4deb2b,_0x1c1b47){const _0x5e745a=a0_0xe54586;try{let _0x5667e8=this[_0x5e745a(0x192)](_0x1c1b47),_0x1e006a=T(_0x4deb2b[_0x5e745a(0x1b0)]);await _0x5667e8[_0x5e745a(0x228)](_0x1e006a);}catch(_0x1477ac){console['error'](_0x1477ac);}}async[a0_0xe54586(0x2e3)](_0x4f7158,_0x5eb5bd,_0x6a4b63){const _0x360297=a0_0xe54586;try{let _0x118581=this['getMessageModelForOwner'](_0x6a4b63),_0x2c8868=T(_0x4f7158[_0x360297(0x1b0)]);return await _0x118581[_0x360297(0x9d)](_0x2c8868,{'$set':_0x5eb5bd},{'new':!0x0});}catch(_0x3badd6){throw console[_0x360297(0x418)](_0x3badd6),_0x3badd6;}}async[a0_0xe54586(0x36a)](_0x20ba65,_0x4df4e5){const _0x4bb721=a0_0xe54586;if(_0x20ba65[_0x4bb721(0x767)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x4bb721(0x192)](_0x4df4e5)[_0x4bb721(0x36a)]([..._0x20ba65]))[_0x4bb721(0x767)]};}catch(_0x39c979){return console['log'](_0x4bb721(0x32a),_0x39c979),_0x39c979;}}async[a0_0xe54586(0x5e8)](_0x1f75c1){const _0x251a97=a0_0xe54586;try{return await this[_0x251a97(0x192)](_0x1f75c1)[_0x251a97(0x562)][_0x251a97(0x382)](),{'success':!0x0};}catch(_0x6046a0){return console[_0x251a97(0x418)](_0x6046a0),{'success':!0x1,'error':_0x6046a0};}}},$s=O(require(a0_0xe54586(0x743))),w=O(require(a0_0xe54586(0x5d0))),xe=require('fs'),F=O(require(a0_0xe54586(0x65c))),K=O(require(a0_0xe54586(0x658))),bi=require(a0_0xe54586(0x28b)),Si=O(require('qrcode')),Mi=O(require(a0_0xe54586(0x78e))),fa=[a0_0xe54586(0x6bf),a0_0xe54586(0x79e),a0_0xe54586(0x2b9),a0_0xe54586(0x294),'stickerMessage'],wa=[a0_0xe54586(0x58b),a0_0xe54586(0x38e),'viewOnceMessage',a0_0xe54586(0x4d3)],As=require('os'),Pt=O(require(a0_0xe54586(0x54e))),De=require('child_process'),kt=require(a0_0xe54586(0x3b1)),oe=O(require('mongoose')),P=require(a0_0xe54586(0x5f6)),ye=class{constructor(_0x5907c8,_0x987b17,_0x2cabec){const _0x27c209=a0_0xe54586;this[_0x27c209(0x106)]=_0x5907c8,this[_0x27c209(0x45a)]=_0x987b17,this[_0x27c209(0x3dc)]=_0x2cabec;}},We=class{},ze=class{},Ne=class{},He=class{},Ke=class{},be=class{},Qe=class{},Ye=class{},Xe=class{},Ze=class{},Tt=O(require(a0_0xe54586(0x6f5))),ya=require('fs'),ba=require(a0_0xe54586(0x65c));async function Re(_0x2b1e1e){const _0x3d99e2=a0_0xe54586;let _0x398b8b=G[_0x3d99e2(0x231)][_0x2b1e1e];if(L[_0x3d99e2(0x4f6)]){let _0x17412d=$[_0x3d99e2(0x5a5)]()['db'](L[_0x3d99e2(0x41f)]['DB_PREFIX_NAME']+_0x3d99e2(0x34e))['collection'](_0x2b1e1e);return _0x398b8b||(await _0x17412d[_0x3d99e2(0x43d)]({})[_0x3d99e2(0x478)]())[_0x3d99e2(0x767)]>0x0;}return _0x398b8b||(0x0,ya['existsSync'])((0x0,ba[_0x3d99e2(0x569)])(me,_0x2b1e1e));}async function Sa(_0x48c139,_0x89d1b7,_0xae35b4){const _0x273676=a0_0xe54586;if(_0x48c139['originalUrl'][_0x273676(0x1d8)]('/instance/create')||_0x48c139[_0x273676(0x596)]['includes'](_0x273676(0x196))||_0x48c139[_0x273676(0x596)][_0x273676(0x1d8)](_0x273676(0x618))||_0x48c139[_0x273676(0x596)][_0x273676(0x1d8)]('/config')||_0x48c139[_0x273676(0x596)]['includes'](_0x273676(0x275))||_0x48c139[_0x273676(0x596)][_0x273676(0x1d8)](_0x273676(0x1fe))||_0x48c139[_0x273676(0x596)]['includes'](_0x273676(0x53d)))return _0xae35b4();let _0x42eee0=_0x48c139['params'];if(!_0x42eee0?.['instanceName'])throw new m('instanceName\x20not\x20provided.');if(!await Re(_0x42eee0[_0x273676(0x5bf)]))throw new U('The\x20'+_0x42eee0[_0x273676(0x5bf)]+_0x273676(0x600));_0xae35b4();}async function Ma(_0x59d36d,_0xee180a,_0x288dcc){const _0x34c570=a0_0xe54586;if(_0x59d36d['originalUrl'][_0x34c570(0x1d8)](_0x34c570(0x238))){let _0x39d6dc=_0x59d36d[_0x34c570(0x185)];if(await Re(_0x39d6dc[_0x34c570(0x5bf)]))throw new Q(_0x34c570(0x222)+_0x39d6dc[_0x34c570(0x5bf)]+_0x34c570(0xff));G[_0x34c570(0x231)][_0x39d6dc[_0x34c570(0x5bf)]]&&delete G[_0x34c570(0x231)][_0x39d6dc[_0x34c570(0x5bf)]];}_0x288dcc();}var Ca=require('class-validator'),Ea=O(require(a0_0xe54586(0x6a7))),et=a0_0xe54586(0x433),go=new R(a0_0xe54586(0x336));function a0_0x4692(_0xbb9c3e,_0x2dbe75){const _0x27c6d7=a0_0x27c6();return a0_0x4692=function(_0x469297,_0x48ae2c){_0x469297=_0x469297-0x88;let _0x39d0ff=_0x27c6d7[_0x469297];return _0x39d0ff;},a0_0x4692(_0xbb9c3e,_0x2dbe75);}async function mo(_0x16b8c0,_0x100d22,_0x4fb3e5){const _0x318379=a0_0xe54586;let _0x253436=_0x16b8c0[_0x318379(0x6a4)]('apikey');if(_0x253436&&S[_0x318379(0x6a4)](_0x318379(0x411))[_0x318379(0x93)]['KEY']!==_0x253436)throw new ae();if(S['get']('AUTHENTICATION')[_0x318379(0x93)]['KEY']===_0x253436)return _0x4fb3e5();if((_0x16b8c0['originalUrl']['includes'](_0x318379(0x238))||_0x16b8c0['originalUrl']['includes']('/instance/fetchInstances'))&&!_0x253436)throw new Q(_0x318379(0x75b),_0x318379(0x799));let _0x664b12=S['get'](_0x318379(0x411))[_0x318379(0x57f)];try{let [_0x4fbcef,_0x2d122d]=_0x16b8c0[_0x318379(0x6a4)](_0x318379(0x12e))[_0x318379(0x6fa)]('\x20');if(_0x4fbcef[_0x318379(0x4b5)]()!==_0x318379(0x31f))throw new ae();if(!(0x0,Ca['isJWT'])(_0x2d122d))throw new ae();let _0x3fbe80=_0x16b8c0[_0x318379(0x1ca)],_0x3fdff6=Ea['default'][_0x318379(0x751)](_0x2d122d,_0x664b12[_0x318379(0x4e2)],{'ignoreExpiration':_0x664b12[_0x318379(0x22a)]===0x0});if(_0x3fbe80[_0x318379(0x5bf)]!==_0x3fdff6[_0x318379(0x5bf)]||et!==_0x3fdff6[_0x318379(0x453)])throw new ae();return _0x4fb3e5();}catch(_0x3d9e4b){throw go[_0x318379(0x418)](_0x3d9e4b),new ae();}}function a0_0x27c6(){const _0x4cac2b=['/exit','Button\x20texts\x20cannot\x20be\x20repeated','Erro\x20ao\x20adicionar\x20label\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','whatsappNumber','variablesNotFound','result','waitingMenu_ExpiredMessage','js-yaml','#6f7bcf','Authentication\x20error','flowName','organization','locked','flowActive','/wa-all-message','match','delayChatLabel','presenceSubscribe',':\x20IP\x20configurado:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','pop','dbSettings','fileUrl','uazapiSendContact','createClient','deleteFlow','Router','src','Parando\x20aplicação...','Connection\x20closed\x20for\x20instance:\x20','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','HeaderType','pollMessageOnDelete','@redis/client','getProfileName','#9ba6ff','selectedOptions','DOCKER_ENV','connectedClient','):\x20A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','rows','audio','replaceVariablesLogs','labels.edit','_fromMe','\x1b[42m','mentions','):\x20Enviando\x20mídia','/webhook','dropCollection','trimmed','DD/MM\x20HH:mm:ss','#ffae04','groupUpdateDescription','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','\x1b[34m%s\x1b[0m','.wav','evaluateCondition','endSession','inner','leadInfo.','Logger','DATABASE_CONNECTION_URI','axios','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','Erro\x20na\x20função\x20updateChatWithMessage:\x20','http','path','imported','DB_PREFIX_NAME','picture','editflowvaredit','Parando\x20aplicação,\x20atualização\x20recebida','valid','removeOlderDisconnectedInstances','):\x20Criando\x20fluxo\x20compartilhado...','AutomateSystem','lastUpdate','saveConversationToDatabase','http://icanhazip.com/','recebido\x20de','Falta\x20informação\x20para\x20a\x20chamada\x20API','$addToSet','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','password','empty','groupId','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','Error\x20in\x20chatModify\x20for\x20number\x20','Operador:\x20\x22','fileName','eventHandler','scheduleMessage','webhookModel','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','The\x20property\x20cannot\x20be\x20empty','profileName','chats.delete','updateLastSeenPrivacy','fetchContacts','):\x20updateResult:','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','/:instanceName','webp','conditions','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','getRandomText','sign','Falha\x20ao\x20processar\x20a\x20solicitação\x20messages.upsert','groupSetting','announce','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','lastFetchAwaitingApproval','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','findOne','connectedName','pairingCode','saveMediaToFile','):\x20Query\x20params:\x20','editFlow','CONTACTS_UPSERT','removeProfilePicture','importChatsBatch','Erro\x20inesperado\x20em\x20processvaredits:\x20','getBusinessProfile','scheduleFlow','findWebhook','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','routerPath','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','PROXY','ContactsAndGroups','editFlowBlock','/media/','trim','findParticipants','.svg','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','get','listMessage','toBrazilianNumberFormat','jsonwebtoken','.jpg','uazapiSendAudio','agents','last_update','mediaSticker','max','defineAuthState','repository','when','):\x20Enviando\x20texto','updateOnlinePrivacy','sendPoll','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','temp-','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','DisconnectReason','\x20ao\x20chat\x20','Variável\x20não\x20encontrada!','sendDataWebhook','stderr','!stop','currency','loadEnv','imageMessage','Font\x20is\x20required','checkAndRestartProcess','):\x20leadInfoVariables','save','WARN','toBRL','Falhou\x20ao\x20encontrar\x20chat\x20','replacer','urlOrBase64','object','#9ab6c1','requestPairingCode','sendSticker','.mp4','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','contacts','contact_blacklist','presence','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','flowConversation','getConversationModelForOwner','leadInfo.atendimentoAberto','https://api.openai.com/v1/images/generations','StartID:','createConversationforgoToFlow','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','admin','/wa-message','generateWAMessageFromContent','webhookService','buttonId','chatLog','no-cache','remoteJids','#00a1f2','convertToWebP','info','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','data','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','request\x20received\x20in\x20fetchConversation','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','reorderReplyOptions','unreadCount','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','firstValue','binary','responsavelid','updateAutoCompleteMessages','random','equal','fetchBusinessProfile','express','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','errors','Mensagem\x20não\x20suportada','deleteMessage','split','conversation','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','replace','spawn','unknown\x20operation\x20type\x20[','CHATS_UPSERT','Bad\x20Request','\x22\x20-\x20REMOVED','createSharedFlow','Chat\x20com\x20ID\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','restrict','fetchProfile','success','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','prepareMediaMessage','abs','.\x20Aguardando\x20antes\x20de\x20reconectar...','reviver','envProcess','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','/wa-qrcode','editflowcondition','messagesSend','LOG_LEVEL','gifPlayback','Read\x20messages','chatId','):Converted\x20image\x20deleted','_p_','\x20}\x0a','REDIS','hSet','uazapiSendMenu','statusMessage','leaveGroup','errorLog','@g.us','readFileSync','Forbidden','match_last_seen','\x20minutos\x20verificará\x20novas\x20mensagens','):Notifying\x20clients\x20for\x20chat:\x20','URL:','\x1b[47m','Erro\x20ao\x20atualizar\x20AutomateSystem:','request_time','\x20contacts','EMAIL:','updateGroupPicture','STATUS_INSTANCE','refused','groups','modifiedCount','useMultiFileAuthState','findConversation','realVariables','STORE_CONTACTS','):\x20newSecondValue\x20após\x20replaceVariables:','loadWebhook','updateAll','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','birthtime','getChatModelForOwner','groups.upsert','Safari','Instance\x20\x22','/instance','request\x20received\x20in\x20updateCustomFields','dark','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','@ffmpeg-installer/ffmpeg','senderKeyDistributionMessage','status@broadcast','\x20Tentativa\x20de\x20reconexão\x20','Variáveis\x20não\x20encontradas:','_Chats','):\x20Going\x20to\x20','sendStatus','optionName','round','scheduled','Db\x20Connection','OrAnd','getConversation','verify','.webp','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','API\x20Key\x20from\x20Request:','now','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','bateu\x20events','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','owner','instance','Missing\x20global\x20api\x20key','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','assign','padEnd','address','.\x20Pulando.','_id','Falha\x20após\x20várias\x20tentativas.','processgoToFlow','quoted','URI','scheduleNextCheck','length','listen','messageHandle','floor','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','copy','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','put','groupUpdateSubject','groupBetterSetting','scheduleSendText','type','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','):Temp\x20image\x20deleted','groupAcceptInvite','cwd','LabelModel','\x20tentativas.','):\x20Entrou\x20na\x20função\x20processawaitSeconds','):\x20Comando\x20desconhecido:\x20','exec','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','getLastMessage','imgUrl','app','groupSettingUpdate','shutdown\x20-r\x20now','prototype','.type','send','all_member_add','Validate','unreadcount','all','CORS','readMessage','isJidBroadcast','node-cache','archiveChat','qrcode-terminal','replaceValue','delete','fetchChats','isLong','lean','TYPE','createAndSave','CREDENTIALS','not\x20loaded','KEY','The\x20global\x20api\x20key\x20must\x20be\x20set','sendPresenceUpdate','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','):\x20Buscando\x20conversas...','Erro\x20ao\x20editar\x20a\x20conversa','documentMessage','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','variables','local_map','FlowRouter','composing','Close\x20connection','):\x20Enviando\x20localização','newValue','request\x20received\x20in\x20scheduleMessage','pollUpdateMessage','statusCode','processApiRequest','INFO','#56ccb4','isCommunity','):Getting\x20image\x20from\x20url','inviteCode','API_KEY','GROUPS_UPDATE','PRIVKEY','CHATS_SET','joinGroup','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','unavailable','website','):\x20Rótulo\x20atualizado:\x20','findOneAndUpdate','height','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','29790mQXQwP',',\x20resultado:\x20','created','pictureUrl','FlowController','editflow','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','repeat','latitude','participant','SUCCESS','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','):\x20Criou\x20conversa\x20no\x20startFlow','role','findContacts','\x20e\x20proprietário\x20','replaceVariablesChat','/wa-message-update','Rótulo\x20deletado:\x27,\x20','bodyString','http://ipecho.net/plain','):\x20Label\x20','buffer','formatBRNumber','block','.ogg','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','\x20mensagens\x20de\x20','1137IOQqun','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','label_jid','startsWith','Erro\x20ao\x20editar\x20agentes','readMessages','LOG','isBase64','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','no.connection','chats','fetchPrivacySettings','startID','customFields','utf-8','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','LEVEL','emit','connectionStatus','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','):\x20Enviando\x20enquete','writeFile','size','applyvaredit',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','sendMenu','updateMediaMessage','document','augusto.fcs@gmail.com','Fluxo\x20agendado\x20pelo\x20fluxo\x20','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','chats.update','stopWhenYouSendMsg','DATABASE_CONNECTION_HOST','env','deleteInstance',',\x20saindo.','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','ip:\x20','):\x20Deletando\x20mensagem','processScheduleFlow','secondValue','messages','\x1b[46m','mimetype','CLEANING_INTERVAL','):Fetching\x20business\x20profile','protocolMessage','allFlows','):Image\x20converted\x20to\x20WebP','createConversationforStartFlow','FlowModel','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','messageStubParameters','statusJidList','flowIgnoreGroups','):\x20Limpando\x20AutomateSystem','online','unhandledRejection','variable','sharePass','instanceKeys','request\x20body:\x20','\x20is\x20already\x20in\x20use.','authentication','function','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','sem\x20texto\x20na\x20mensagem','message_normalized','contacts.update','jid','groupToggleEphemeral','setHeader','stateConnection','MESSAGES_SET','updateMissingTags','jsonschema','?authSource=admin&readPreference=primary&directConnection=true','getPrototypeOf','Not\x20is\x20business\x20profile','forEach','uazapiDeleteMessage','GROUP_PARTICIPANTS_UPDATE','Erro\x20do\x20Certbot:\x20','):\x20Entrou\x20na\x20função\x20stop','caption','fetchMessages','LOG_COLOR','audio/ogg;\x20codecs=opus','Falha\x20ao\x20processar\x20fetchBusinessProfile','http://ip-api.com/json','options','list','):\x20Enviando\x20contato','):Delete\x20chat','generateHash','groupGetInviteInfo','4554iLwifd','Error\x20while\x20deleting\x20message\x20for\x20everyone','CORS_CREDENTIALS','stopMinutesMaxActives','dbServer','creds','readFile','varedits','Data\x20inválida\x20fornecida','METHODS','condition','createJid','ReplyOption\x20com\x20ID\x20','authorization','Error\x20fetching\x20group','Erro\x20ao\x20aplicar\x20varedit:\x20','.X-ABLabel:Celular\x0a','post','entrou\x20na\x20função\x20de\x20sincronizar\x20fluxos','importChats','.gif','replyOptions','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Sistema\x20atualizado\x20com\x20sucesso!','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','decryptPollVote','profile','createNewConversation','open','/startFlow/:instance/:startID','flattenObject','revokeInviteCode','Instance\x20ID:','#ff9484','beautifyWithPlaceholders','unlocked','startCommandWord','lastDisconnect','contextInfo','uazapiSendText','\x20segundos','REDIS_URI','isRunning','):\x20Entrou\x20na\x20função\x20clearVariables','AUTHENTICATION_TYPE','whatsappNumbers','backgroundColor','child_process','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','cacheContactModel','qrcode','Erro\x20ao\x20iniciar\x20fluxo:\x20','messages.set','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','sections',':\x20Erro\x20durante\x20loadproxy\x20-\x20','Request\x20Body:','upperCase','extractMessageContent','):Error\x20in\x20converting\x20audio','http://checkip.dyndns.org','fetchConversation','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','AutomateFunctions','https://uazapi-plugin.bubbleapps.io/','updateStatusPrivacy','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','fetchInstances','menuMessage','Erro\x20ao\x20inserir\x20chats:','item','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','createGroup','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','markMessageAsRead','Conversa\x20deletada\x20com\x20sucesso.','getScheduleMessage','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','):\x20não\x20encontrou','Erro\x20ao\x20remover\x20label\x20','\x1b[33m','groupMetadata','\x1b[36m','reaction','_error','dbInstance','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','sleep','updateProfilePicture','events','folder','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','saveVariable','profilePicture','pushName','getFlowModelForOwner','muteEndTime','contactsArrayMessage','deleteOne','sending','body','creation','Comando\x20desconhecido','connectionUpdate','off','findByIdAndUpdate','$set','isURL','\x22,\x20valor\x20a\x20substituir:\x20\x22','setting','storePath','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','@broadcast','getMessageModelForOwner','pt-BR','archive','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','/instance/fetchInstances','closed','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','Pausado\x20por\x20','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','deleteChat','autoCompleteMessages.command_1','waUploadToServer','readMessageBot','fetchStatus','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','auth','startFlowWebhook','editChat','sticker','connect','noConnection','Reinicialização\x20iniciada:\x20','router','statSync','response','replaceVariablesInReplyOptions','sendMessageAck','jwt','context','Error\x20fetching\x20and\x20updating\x20profile:\x20','where','isJidGroup','BRL','findAndUpdateCacheContact','port','DATABASE_CONNECTION_USER','sha256','insert','superadmin','deleted','440467EjmliN','verbose','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','MESSAGES_UPDATE','delayChatLabel_MAX_RETRIES','order','connectToWhatsapp','Número\x20não\x20possui\x20WhatsApp.','listType','getDelay','hDel','limit','model','application/json','load','loggedOut','params','DATABASE_ENABLED','redis://127.0.0.1:6379','cachedData-whatsapp','\x1b[43m','Instance\x20deleted','ON\x20-\x20dbName:\x20','\x0aitem','isConnected','Error\x20writing\x20file:\x20','-whatsapp-api','isJidUser','arrayUnique','Instance\x20Name:','includes','state','initAuthCreds','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','):\x20Enviando\x20áudio','startFlow','description','synchronizeFlows','editFlowVariable','exit','Selecione','redirect','textMessage','TEXT','closeExistingConversations','linkPreview','headers','lowerCase','reference','):Image\x20path:\x20','updateGroupWebhook','entries','normalizeMessageContent','\x20inseridos\x20no\x20banco\x20de\x20dados...','):\x20conversation.lastInteraction:\x20','validate','Mensagens\x20deletadas\x20com\x20sucesso.','REDIS_PREFIX_KEY','\x1b[34m','/automate','done','):Processing\x20audio','process','truncatedto','):\x20atualização\x20chat:\x20','desc','Group\x20not\x20found','updateOne','/instance/connectionState','SEND_MESSAGE','):\x20Mensagem\x20já\x20enviada\x20para\x20','status','format','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','getAllData','\x20foi\x20interrompido\x20pelo\x20usuário.','getScheduleMessageModelForOwner','user','NO_IP','Erro\x20ao\x20importar\x20chats','request\x20received\x20in\x20deleteDoneMessages','groupJoinApprovalMode','authModel',',\x20Novo\x20tamanho:\x20','updateChatGroupData','autoCompleteMessages','variablesToObject','):Image\x20is\x20base64','):Archiving\x20chat','):\x20Fluxos\x20não\x20estão\x20ativados','writeData','editFlowCondition','hasOwnProperty','CHATS_DELETE','findGroupInfos','end','DARK','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','Type\x20is\x20required','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','processing_id','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','Erro\x20ao\x20deletar\x20mensagens:','PORT','This\x20name\x20','waitingForReplyMenu','isBusiness',',\x20Segundo\x20Valor:\x20','Erro\x20ao\x20atualizar\x20o\x20flow.','processclearVariables','deleteMany','parse','EXPIRIN_IN','Last\x20message\x20not\x20found','\x20de\x20conectar\x20com\x20IP\x20extra.','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','setNewValue','pollMessage','waInstances','../env.yml','canSendMessage','toFile','qrcode.updated','\x20tentativas.\x20(','substring','/instance/create','toggleEphemeral','updateProfilePicturePrivacy','):\x20Falha\x20ao\x20deletar\x20mensagem.','PREFIX_KEY','mkdirSync','@newsletter','editFlowGroup','error_log','getOwnPropertyNames','):Output\x20path:\x20','InstancesAsDisconnectedX','updateMissingShareOwners','and','readData','PENDING','stopConversation',',\x20canSendMessage:\x20',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','Esse\x20fluxo\x20expirou','Error\x20updating\x20message\x20status:','memberAddMode','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','request\x20received\x20in\x20getConversation','https://chat.whatsapp.com/','LICENSE_INVALID','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','updateMissingEtiquetas','STORE_MESSAGE','userDevicesCache','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','base64','dropIndex','label','5ZdhbuC','enabled','isInteger','keys','--standalone','\x20-y','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','):\x20Conversas\x20encontradas:','^\x5cd+([-]\x5cd+)*@g.us$','activatedCount','Flow\x20não\x20encontrado','fromObject','$dbName','delay','request\x20received\x20in\x20editFlow','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','sendAudio','webhook','telefone','downloads','Erro\x20ao\x20atualizar\x20o\x20fluxo:','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','Erro\x20ao\x20tentar\x20autoCompleteMessages','StartBot','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','MAX_RECONNECT_ATTEMPTS','updateProfileName','/instance/connect','SendScheduleMessage','none','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','contactMessage','authService','findManyByIds','getTicketSystem','execSync','title','toString','WebhookGlobal','#fe9dfe','NextBlock','getFlow','}}\x20->\x20\x22','archived','warn','\x20-\x20retornado:\x20','conversationTimestamp','cachedContact','stopped','uuid','loadInstance','updateReplyOption','not_announcement','updateMissingCustomFields','toUpperCase','configService','ephemeralDuration','cleanStore','videoMessage','/create','findGroupInfo','#64c4ff','Erro\x20ao\x20normalizar\x20a\x20mensagem:','automateSystem','choices','5282672bkiaKY','close','Bloco\x20com\x20ID\x20','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','min','):\x20Procurando\x20mensagens\x20para\x20envio','Documento\x20com\x20ID\x20','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','getMinutes','lastSendMessage','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','loadproxy','TEL','Instance\x20Key\x20from\x20DB:','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','findFlow','):\x20Bloco\x20copiado:\x20','/chat','findAndUpdate','$pull',',\x20Resultado:\x20','count','test','Erro\x20ao\x20copiar\x20o\x20documento','getMessage','locationMessage','removeUnusedChatFields','9WHLRxe','connectionClosed','scheduleSendAudio','audioMessage','Message\x20absent\x20from\x20node','\x20depois\x20','global','remote\x20\x22origin\x22','Erro\x20de\x20reinicialização:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','3625244vgCLxo','longitude','moreLogs','Enter\x20a\x20value\x20in\x20milliseconds','GROUPS_UPSERT',',\x20apikey:\x20','log','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','writeFileSync','__esModule','delayMessage','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','digest','slice','evaluateConditionTest','notEqual','MessageModel','mongodb','less','/events/:instance','Error\x20removing\x20unused\x20chat\x20fields:','push','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','CONECTADO\x20À\x20UAZAPI','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message','logger','removeChatLabel','cpf','atendimentoAberto','waitingMenu_id','blockId','setContext','set','fone','update','Removidas\x20as\x20variáveis:\x20','):\x20Editando\x20bloco...','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','restart','<subdomain>','Contacts\x20not\x20found','varedit','groups.update','messageType','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','ButtonsMessage','public','.uazapi.dev','capitalizedWords','labels.association','remoteJid','contentText','audioWhatsapp','Erro\x20ao\x20arquivar\x20chat','isListOfNumbers','default','ScheduleMessage','sendWhatsAppAudio','readreceipts','findChats','protocol','group','oldToken','privacySettings','updatePresence','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','parseInt','buttonMessage','vcard','value','.extension','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','Not\x20Found','Erro\x20ao\x20deletar\x20chat:','getMIMEType','joinApprovalMode','Error\x20parsing\x20JSON:','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','processawaitSeconds','CHATS_UPDATE','email','apirequest','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','selectableCount','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','CORS_ORIGIN','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','mentioned','.xlsx','updateAgent','basename','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','updateParticipant','mongoose','bearer','Valor\x20de\x20find\x20ou\x20replace\x20ausente','font','licenca','output','):\x20Limpando\x20delayMessage','):\x20Alterando\x20fluxo...','sendText','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','ERROR:\x20','console','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','\x0a{\x20instance:\x20','image','concat','50mb',':\x20IP\x20funcionando!','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','indexOf','number','GUARD','detail','getLabelModelForOwner','SSL_CONF','addresss','):\x20Query\x20params:','etiquetas',',\x20isAdmin:\x20','Cache-Control','.txt','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','instance.','out','delaySecMin','Database\x20connection\x20closed.','http://myexternalip.com/raw','next_groupId','findLabels','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','Erro\x20ao\x20buscar\x20Schedule\x20Messages','deleteMessageForEveryone','SERVER_ACK','https://api.ipify.org?format=json','Cannot\x20','-instances','messageTimestamp','delAll','):\x20Campos\x20a\x20serem\x20atualizados:','5275956NgnKUT','Erro\x20ao\x20deletar\x20a\x20conversa','deleteDoneMessages','SERVER','.jwt','!cmd_','*Pergunta*:\x20\x0a','SSL_CONF_FULLCHAIN','):Sending\x20audio\x20whatsapp','connection.update','envYaml',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','#9568cf','messages.update','Primeiro\x20Valor:\x20','replaceVariablesInObject','CONTACTS_SET','https-proxy-agent','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','available','findMessages','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','\x20com\x20sucesso.','insertMany','ObjectId','\x20global:\x20','cacheContact','):\x20newFirstValue\x20após\x20replaceVariables:','arraybuffer','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','\x20horas\x20e\x20','Não\x20respondeu\x20com\x20a\x20enquete.','_activedCount','stdout','cleaningUp','\x20do\x20chat\x20','):Image\x20is\x20url','changeVariables',',\x20valor\x20a\x20encontrar:\x20\x22','createFlow','connectToWhatsappController','text','Tentando\x20reconectar...','--agree-tos','delaySecMax','mongodb://','#83e421','drop','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','send.message','start','lastSend','processPollUpdateMessage',',\x20global:\x20','goNextblock','):Desconectado,\x20parando\x20execução.','://','mediaMessage','#ffc5c7','documentWithCaptionMessage','addBlock','bulkWrite','dataValidate','replyOption','pollCreationMessageKey','splice','Instance\x20restarted','array','\x20não\x20encontrado\x20para\x20cópia','joinGroupValidate','HttpsProxyAgent','error\x20get\x20vote','namespace','getHours','sync','ListType','participants','https://github.com/uazapi/uazapi.git','chatModify','timeInMinutes','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','pollErrorMessage','chatHandle','interval\x20não\x20é\x20um\x20número','updateStopChat','Internal\x20Server\x20Error','waitingMenu_text','[all]','The\x20instance\x20needs\x20to\x20be\x20disconnected','lastMessage','presence.update','exports','has','processConditions','node-mime-types','\x1b[32m%s\x1b[0m','MESSAGES_UPSERT','updateMessage','updateConversation','eventemitter2','stoppedUntil','stopMinutes','updateGParticipant','Erro\x20ao\x20buscar\x20a\x20conversa','oldValue','certonly','use','Número:\x20','Error\x20updating\x20cache\x20contact:','remove.instance','):\x20Criando\x20fluxo\x20regular...','buttons','labelId','updateOneById','groupName','):\x20Buscando\x20todos\x20os\x20fluxos...','phoneNumber','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','BufferJSON','createConnection','CacheContacts\x20database\x20connection\x20closed.','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','editedMessage','buttonText','groupInviteCode','shift','menuExpiredMessage','Database\x20is\x20not\x20enabled','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','URL','removeData','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','deletedCount','):\x20Entrou\x20na\x20função\x20goToFlow','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','connectionState','_Contacts','name','long','displayName','cors','):\x20Ignoring\x20group\x20messages.','true','ListMessage','Message\x20not\x20found','flowPrefixCommand','rowId','.png','_Messages','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','):\x20lastBlockId:\x20','DELETED',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','.\x20(',',\x20Comparador:\x20','ms\x20(tentativa\x20','request\x20received\x20in\x20deleteFlow','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','keyPattern','uazapiSendMedia','upsertedCount','paused','updateMany','groups_ignore','flow','content-type','PRESENCE_UPDATE','endsWith','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','\x22\x20-\x20NOT\x20CONNECTION','add','\x20-i\x20','getBase64FromMediaMessage','RECONNECT_TIME_FRAME','reorderBlocks','json','header','isArray','sendMessage','message','VERBOSE','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','Erro\x20ao\x20remover\x20instâncias\x20antigas:','#000000','createflow','getVariablesChat','E-mail:\x20','REDIS_ENABLED','from','headerString','AUTHENTICATION','onTime','editFlowReply','blocks','\x1b[30m','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','processblock','error','greater',']\x20(','existsSync','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','):\x20Conversa\x20inserida\x20com\x20sucesso.','pollCreationMessage','CONNECTION','@s.whatsapp.net','\x5cd+','values','allflows','):\x20isVote:\x20','Erro\x20de\x20atualização:\x20','):\x20Ler\x20mensagem','):\x20Editando\x20variável\x20do\x20fluxo...','video','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','ephemeralExpiration','preview','client','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','request\x20received\x20in\x20updateAutoCompleteMessages','Invalid\x20format','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','):\x20debug\x20alterando\x20this.AutomateSystem','defineProperty','uazapi','createRegularFlow','DATABASE','Erro\x20ao\x20editar\x20o\x20chat','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','delayChatLabel_RETRY_DELAY_MS','connecting','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','):\x20Edit\x20schedule\x20message...','sendReaction','find','updateReadReceiptsPrivacy','allContacts','Mac\x20OS','Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done','groupHandler','Type\x20not\x20found','subjectTime','./.git/config','chat\x20não\x20encontrado','remove','findGroup','SERVER_PORT','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','):\x20Chat\x20','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','undefined','Nenhum\x20participante\x20válido\x20encontrado.','RemoteJid:','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','mediaKey','localWebhook','apiName','editFlowVaredit','):Audio\x20converted\x20and\x20stored\x20in\x20cache','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','\x1b[31m','stanzaId','exists','8080','):\x20Flow\x20não\x20encontrado','apply','tags','/config','createInstance','chats.upsert','replaceOne','\x0a*Você\x20respondeu*:\x0a','API\x20Key\x20inválida.','imagechat','false','eventEmitter','reactionMessage','fullName','findById','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','rm\x20-rf\x20','application/octet-stream','formatVCard','PRODUCT_LIST','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','listResponseMessage','.ogv','CONNECTION_UPDATE','):\x20Grupo\x20','descOwner','mediatype','content','toArray','app-state-sync-key','verifiedName','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','query','fetchLatestBaileysVersion','messages.upsert','deleteConversation','\x20-\x20','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','_activatedCount','Fluxo\x20não\x20encontrado','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','announcement','notEmpty','isCommunityAnnounce','sort','ORG:','verifyWhatsAppNumber','bodyStringErrorParse','fetchLabels','.pptx','InstancesAlterarTodas','https://uazapi-plugin.bubbleapps.io/?url=','boolean','https','#dfaef0','wuid','formatStatusMessage','Flow\x20iniciado','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','AddChatLabel','silent','Message','sendMedia','notMatchRegex','Content-Type','\x1b[31m%s\x1b[0m','convertedOptions','findGroups','#01d0e2','DEBUG','numbers','segundos','request\x20received\x20in\x20editFlowcondition','findAll','PLAYED','waMonitor','/message','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','https://','updateGParticipate','instancias:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','cachedContacts-whatsapp','request_method','vote','request\x20received\x20in\x20editConversation','status.instance','getContentType','toLowerCase','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','restartInstance','hGetAll','views','addChatLabel','):\x20Current\x20Time:\x20','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','utf8','url','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','extractRegex','Deleted\x20','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','deleteReplyOption','uncaughtException','addReplyOption','Erro\x20ao\x20encerrar\x20a\x20API','string','ex:\x20\x22groupJid=120362@g.us\x22','groupRequestParticipantsUpdate','importChatsAntigo','apikey','Button\x20IDs\x20cannot\x20be\x20repeated.','\x20não\x20encontrado','beforeExit','STORE','video-cover.png','}}\x20->\x20valor\x20não\x20encontrado','viewOnceMessageV2','creds.json','waitingMenu_replyOptions','Background\x20color\x20is\x20required','):\x20Conversa\x20está\x20expirada\x20-\x20voto','crypto','):\x20alterando\x20this.AutomateSystem','DATABASE_CONNECTION_DB_PREFIX_NAME','groupValidate','scheduleSendMedia','Schema','host','awaitingApproval','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','createServer','SECRET','Connection','_remoteJid','groupParticipantsUpdate','SERVER_TYPE','onWhatsApp','dbClient','command','updateChatWithMessage','getTime','contains','nomecompleto','lastBlockId','Erro\x20ao\x20buscar\x20conversas','Erro\x20ao\x20criar\x20fluxo\x20regular','uazapiSendLocation','):\x20Flow\x20desativado','\x22reaction\x22\x20must\x20be\x20an\x20emoji','ChatRouter','Rótulo\x20inválido\x20ou\x20sem\x20ID.','ENABLED','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','messaging-history.set','some','Erro\x20ao\x20alterar\x20fluxo','env.yml','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','*\x0a\x0a','#92ceac','shareOwners','deleteImportedChat','insertCount',',\x20data:\x20','CORS_METHODS','sendContact','proto','Erro\x20ao\x20buscar\x20o\x20fluxo','username','dayjs','SINGLE_SELECT','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','Instance\x20logged\x20out','sendLocation','media','saveChatVariables','Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','.error','timeout','DELIVERY_ACK','\x20adicionado\x20ao\x20chat\x20','#ffffff','.pdf','enumerable','newStoppedUntil','\x20:\x20','prefixCommand','https://jsonip.com','getContactModelForOwner','minutesToClose','?timestamp=','contact','):\x20Conversa\x20está\x20expirada','optionDescription','hGet','lastReceivedMessage','\x1b[40m','unlinkSync','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','blockLogs','FULLCHAIN','webhookMap','AUTHENTICATION_JWT_EXPIRIN_IN','editOperator','ERROR','GET','action','ultimaTentativaRemoteJid','code','menuType','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','logout','call','removeInstance','All_Instances_Config','clearVariables','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20',',\x20pairCode:\x20','reconnectAttempts','/instance/delete','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','instances','READ','Nenhum\x20chat\x20encontrado\x20para\x20editar.','#fed428','\x22\x20not\x20found','updateGroupParticipantsWebhook','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','/wa-chats','stringify','lastInteraction','create','\x20quoted:\x20','hex','ignoreGroups','pino','groupadd','nome','replaceVariables','QRCODE_UPDATED','sendButtons','flush','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','chat','pre','generate','redis','subdomain','):\x20Conversa\x20atualizada\x20em\x20memória','promote','isAdmin','keep-alive','flowConfig','editflowvariable','\x1b[44m','collection','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','leadInfo','sectionsToString','updateProfileStatus','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','STORE_CHATS','join','/clients-info','\x1b[1m\x1b[37m','3203862ygYcah','request\x20received\x20in\x20starFlow','sendList','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:\x20flowOnwer:\x20','editflowreply','):\x20this.processing_id:\x20','resetReconnectionVariables','request\x20received\x20in\x20allFlows','processUazapi','):\x20Iniciando\x20bot...','):\x20Deletando\x20conversa...','upsertChats','createSectionsFromValues','notas','group-participants.update','key','profilePictureUrl','awaitSeconds','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','JWT','editConversation','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','):\x20Bloco\x20com\x20ID\x20','RemoveChatLabel','deleteBlock','/wa-contacts','groupDesc','USER','map','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','findAndReplaceRegex','ephemeralMessage','\x20-\x20ON:\x20','setUpdate','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','Valor\x20inicial:\x20\x22','1516TMxJIz','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','qrCode','fromMe','expiration','option','originalUrl','groupRevokeInvite','certbot','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','demote','getUpdate','charAt','):\x20Bloco\x20original\x20para\x20cópia:\x20','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','/wa-connection-update','recording','_Labels','STORE_CLEANING_TERMINAL','editflowgroup','Instância:\x20','getClient','fetchProfilePicture','processConditionsTest',':\x20Tentativa\x20','):Trying\x20to\x20get\x20business\x20profile','poll','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','^\x5cd+','expression','PASSWORD','setRestartTimeout','filter','removed','stickerMessage','sendMessageWithTyping','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','menuIgnoreNonVotes','DaysToDelete','Fluxos\x20não\x20estão\x20ativados','setWebhook','updateBlock','integer','updateFlowConfig','CONTACTS_UPDATE','contacts.upsert','debug','instanceName','cache','sim','editScheduleMessage','convertaudio','reconnectTimestamps','redisEnv','compression','updateCustomFields','findAndReplace','):\x20Editando\x20grupo\x20do\x20fluxo...','lastCondition','\x1b[0m','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','messageId','testProxy','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','@whiskeysockets/baileys','):\x20Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','HOST','END:VCARD','write','desativadoFluxoAte','editflowblock','last','toLocaleString','normalizeMessage','/wa-groups','method','throwAndLogError','Content\x20is\x20required','data:\x20','audio/ogg','matchRegex','processvaredits','findOrCreate','convertaudioMP3','copyBlock','Types','.TEL;waid=','testingWith','deleteAll','):\x20conversation.status:\x20','reject','chats.set','subject','\x20não\x20encontrado\x20para\x20atualização.','color','SERVER_OFFLINE','createWebhook','apiResponse','pollCreationMessageV3','release','footerText','getflow','class-validator','goToFlow','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','/*.json','.webm','getAutomateSystem','findIndex','remoteJidsRemaining','authState','groupJid','\x20instance\x20does\x20not\x20exist','):\x20','maxActives','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','ScheduleMessageModel','getStatus','updatePrivacySettings','badSession','getDevice','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','inviteCodeDetails','static','saveTextReply','pollOnReplyDelete','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit',',\x20Expiration\x20Time:\x20','):\x20Editando\x20condição\x20do\x20fluxo...','groupdata','pollCreationMessageV2','encoding','Instância\x20não\x20encontrada.','.mp3','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','instanceInfo'];a0_0x27c6=function(){return _0x4cac2b;};return a0_0x27c6();}async function fo(_0x575b89,_0x708f6b,_0x531a7b){const _0x1c13a8=a0_0xe54586;let _0x3a5eed=S[_0x1c13a8(0x6a4)](_0x1c13a8(0x411))[_0x1c13a8(0x93)],_0x34cd6b=_0x575b89[_0x1c13a8(0x6a4)](_0x1c13a8(0x4cc));if(_0x3a5eed[_0x1c13a8(0x798)]===_0x34cd6b)return _0x531a7b();if(_0x575b89['originalUrl'][_0x1c13a8(0x1d8)](_0x1c13a8(0x238))){let _0x2ca519=tt,_0x397523=_0x575b89[_0x1c13a8(0x185)][_0x1c13a8(0x5bf)];if(_0x2ca519&&_0x397523[_0x1c13a8(0x4b5)]()[_0x1c13a8(0xc2)](_0x2ca519['toLowerCase']()))return _0x531a7b();if(!_0x34cd6b)throw new Q(_0x1c13a8(0x75b),_0x1c13a8(0x799));}if(_0x575b89[_0x1c13a8(0x596)][_0x1c13a8(0x1d8)](_0x1c13a8(0x196))&&!_0x34cd6b)throw new Q(_0x1c13a8(0x75b),_0x1c13a8(0x799));if(_0x575b89[_0x1c13a8(0x596)]['includes'](_0x1c13a8(0x618))&&!_0x34cd6b)throw new Q(_0x1c13a8(0x75b),_0x1c13a8(0x799));if(_0x575b89[_0x1c13a8(0x596)][_0x1c13a8(0x1d8)]('/config')&&!_0x34cd6b)throw new Q(_0x1c13a8(0x75b),'The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x33f41d=_0x575b89[_0x1c13a8(0x1ca)],_0x5a1a00=await ue[_0x1c13a8(0x1a1)][_0x1c13a8(0x43d)](_0x33f41d[_0x1c13a8(0x5bf)]);if(_0x5a1a00&&_0x5a1a00['apikey']===_0x34cd6b)return _0x531a7b();}catch{}throw new ae();}var va={'jwt':mo,'apikey':fo},ii=require(a0_0xe54586(0x6f5)),E=require('uuid'),C=(..._0x1da3e0)=>{const _0x122674=a0_0xe54586;let _0x2923de={};return _0x1da3e0[_0x122674(0x110)](_0x6ce813=>_0x2923de[_0x6ce813]={'minLength':0x1,'description':'The\x20\x22'+_0x6ce813+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x1da3e0]}},'then':{'properties':_0x2923de}};},v={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'instanceName':{'type':a0_0xe54586(0x4c8)}},...C(a0_0xe54586(0x5bf))},oc={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'oldToken':{'type':a0_0xe54586(0x4c8)}},'required':[a0_0xe54586(0x2ff)],...C(a0_0xe54586(0x2ff))},rc={'properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0xe54586(0x4c8)},'fromMe':{'type':a0_0xe54586(0x491),'enum':[!0x0,!0x1]}},'required':['id',a0_0xe54586(0x2f3),a0_0xe54586(0x593)],...C('id',a0_0xe54586(0x2f3))},'message':{'type':'object'}}},Y={'properties':{'delay':{'type':a0_0xe54586(0x5ba),'description':a0_0xe54586(0x2c3)},'presence':{'type':a0_0xe54586(0x4c8),'enum':[a0_0xe54586(0x9a),a0_0xe54586(0x366),a0_0xe54586(0x7a4),a0_0xe54586(0x5a0),'paused']}}},z={'type':a0_0xe54586(0x4c8),'description':a0_0xe54586(0x42f)},Na={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'number':{...z},'options':{...Y},'textMessage':{'type':a0_0xe54586(0x6c9),'properties':{'text':{'type':a0_0xe54586(0x4c8)}},'required':[a0_0xe54586(0x37c)],...C('text')}},'required':[a0_0xe54586(0x1e4),a0_0xe54586(0x335)]},Ra={'type':a0_0xe54586(0x4c8),'pattern':a0_0xe54586(0x3a3),'description':'Invalid\x20format'},nc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Ra},'options':{...Y},'textMessage':{'type':a0_0xe54586(0x6c9),'properties':{'text':{'type':a0_0xe54586(0x4c8)}},'required':[a0_0xe54586(0x37c)],...C(a0_0xe54586(0x37c))}},'required':[a0_0xe54586(0x1e4),a0_0xe54586(0x335)]},cc={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'number':{...Ra},'options':{...Y},'mediaMessage':{'type':a0_0xe54586(0x6c9),'properties':{'mediatype':{'type':a0_0xe54586(0x4c8),'enum':['image','document',a0_0xe54586(0x428),a0_0xe54586(0x642)]},'media':{'type':a0_0xe54586(0x4c8)},'fileName':{'type':a0_0xe54586(0x4c8)},'caption':{'type':a0_0xe54586(0x4c8)}},'required':[a0_0xe54586(0x476),a0_0xe54586(0x50e)],...C(a0_0xe54586(0x673),a0_0xe54586(0x115),a0_0xe54586(0x50e))}},'required':['mediaMessage','number']},$a={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'number':{...z},'options':{...Y},'stickerMessage':{'type':'object','properties':{'image':{'type':'string'}},'required':['image'],...C('image')}},'required':[a0_0xe54586(0x5b2),'number']},Aa={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0xe54586(0x4c8),'enum':[a0_0xe54586(0x37c),a0_0xe54586(0x32e),a0_0xe54586(0x642),a0_0xe54586(0x428)]},'content':{'type':'string'},'caption':{'type':a0_0xe54586(0x4c8)},'backgroundColor':{'type':a0_0xe54586(0x4c8)},'font':{'type':a0_0xe54586(0x5ba),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xe54586(0x4c8),'pattern':'^\x5cd+','description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0xe54586(0x491),'enum':[!0x0,!0x1]}},'required':[a0_0xe54586(0x772),a0_0xe54586(0x477)],...C(a0_0xe54586(0x772),a0_0xe54586(0x477))}},'required':[a0_0xe54586(0x71e)]},Oa={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'number':{...z},'options':{...Y},'mediaMessage':{'type':a0_0xe54586(0x6c9),'properties':{'mediatype':{'type':a0_0xe54586(0x4c8),'enum':[a0_0xe54586(0x32e),'document','video',a0_0xe54586(0x642)]},'media':{'type':a0_0xe54586(0x4c8)},'fileName':{'type':a0_0xe54586(0x4c8)},'caption':{'type':a0_0xe54586(0x4c8)}},'required':[a0_0xe54586(0x476),a0_0xe54586(0x50e)],...C(a0_0xe54586(0x673),'caption','media')}},'required':[a0_0xe54586(0x38c),'number']},Ta={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'number':{...z},'options':{...Y},'audioMessage':{'type':a0_0xe54586(0x6c9),'properties':{'audio':{'type':a0_0xe54586(0x4c8)}},'required':[a0_0xe54586(0x642)],...C(a0_0xe54586(0x642))}},'required':[a0_0xe54586(0x2b9),'number']},Ia={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'number':{...z},'pollMessage':{'type':a0_0xe54586(0x6c9),'properties':{'name':{'type':a0_0xe54586(0x4c8)},'selectableCount':{'type':a0_0xe54586(0x335)},'values':{'type':a0_0xe54586(0x396),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0xe54586(0x3dc),a0_0xe54586(0x314),a0_0xe54586(0x422)],...C(a0_0xe54586(0x3dc),a0_0xe54586(0x314),'values')}},'required':[a0_0xe54586(0x335),a0_0xe54586(0x230)]},xa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'menuMessage':{'type':a0_0xe54586(0x6c9),'properties':{'text':{'type':'string'},'choices':{'type':a0_0xe54586(0x396),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0xe54586(0x37c),'choices'],...C('text',a0_0xe54586(0x29a))}},'required':[a0_0xe54586(0x335),a0_0xe54586(0x165)]},Da={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'number':{...z},'options':{...Y},'buttonMessage':{'type':a0_0xe54586(0x6c9),'properties':{'title':{'type':a0_0xe54586(0x4c8)},'description':{'type':a0_0xe54586(0x4c8)},'footerText':{'type':'string'},'buttons':{'type':a0_0xe54586(0x396),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':a0_0xe54586(0x4c8)},'buttonId':{'type':'string'}},'required':['buttonText','buttonId'],...C(a0_0xe54586(0x3ce),a0_0xe54586(0x6df))}},'mediaMessage':{'type':'object','properties':{'media':{'type':'string'},'fileName':{'type':a0_0xe54586(0x4c8)},'mediatype':{'type':a0_0xe54586(0x4c8),'enum':[a0_0xe54586(0x32e),a0_0xe54586(0xda),'video']}},'required':[a0_0xe54586(0x50e),a0_0xe54586(0x476)],...C(a0_0xe54586(0x50e),'fileName')}},'required':[a0_0xe54586(0x27e),a0_0xe54586(0x3c2)],...C(a0_0xe54586(0x27e),'description')}},'required':['number','buttonMessage']},_a={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'number':{...z},'options':{...Y},'locationMessage':{'type':a0_0xe54586(0x6c9),'properties':{'latitude':{'type':a0_0xe54586(0x335)},'longitude':{'type':a0_0xe54586(0x335)},'name':{'type':a0_0xe54586(0x4c8)},'address':{'type':a0_0xe54586(0x4c8)}},'required':[a0_0xe54586(0xab),a0_0xe54586(0x2c1)],...C(a0_0xe54586(0x3dc),a0_0xe54586(0x33a))}},'required':[a0_0xe54586(0x335),a0_0xe54586(0x2b4)]},Pa={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'number':{...z},'options':{...Y},'listMessage':{'type':a0_0xe54586(0x6c9),'properties':{'title':{'type':a0_0xe54586(0x4c8)},'description':{'type':a0_0xe54586(0x4c8)},'footerText':{'type':a0_0xe54586(0x4c8)},'buttonText':{'type':a0_0xe54586(0x4c8)},'sections':{'type':a0_0xe54586(0x396),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xe54586(0x6c9),'properties':{'title':{'type':a0_0xe54586(0x4c8)},'rows':{'type':a0_0xe54586(0x396),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0xe54586(0x4c8)},'description':{'type':a0_0xe54586(0x4c8)},'rowId':{'type':a0_0xe54586(0x4c8)}},'required':[a0_0xe54586(0x27e),a0_0xe54586(0x3e5)],...C(a0_0xe54586(0x27e),a0_0xe54586(0x3e5))}}},'required':[a0_0xe54586(0x27e),'rows'],...C(a0_0xe54586(0x27e))}}},'required':[a0_0xe54586(0x27e),a0_0xe54586(0x1de),'buttonText',a0_0xe54586(0x157)],...C(a0_0xe54586(0x27e),a0_0xe54586(0x1de),a0_0xe54586(0x3ce),a0_0xe54586(0x5f4))}},'required':['number',a0_0xe54586(0x6a5)]},ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'contactMessage':{'type':a0_0xe54586(0x396),'items':{'type':a0_0xe54586(0x6c9),'properties':{'fullName':{'type':a0_0xe54586(0x4c8)},'phoneNumber':{'type':a0_0xe54586(0x4c8),'minLength':0xa}},'required':[a0_0xe54586(0x469),'phoneNumber'],...C('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0xe54586(0x335),a0_0xe54586(0x279)]},ja={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0xe54586(0x6c9),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0xe54586(0x4c8)},'fromMe':{'type':a0_0xe54586(0x491),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0xe54586(0x593)],...C('id',a0_0xe54586(0x2f3))},'reaction':{'type':'string'}},'required':[a0_0xe54586(0x57b),a0_0xe54586(0x174)],...C(a0_0xe54586(0x174))}},'required':[a0_0xe54586(0x468)]},La={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'numbers':{'type':a0_0xe54586(0x396),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xe54586(0x4c8),'pattern':a0_0xe54586(0x5ac),'description':a0_0xe54586(0x450)}}}},Fa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0xe54586(0x396),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0xe54586(0x4c8)},'fromMe':{'type':a0_0xe54586(0x491),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0xe54586(0x4c8)}},'required':['id','fromMe',a0_0xe54586(0x2f3)],...C('id','remoteJid')}}},'required':[a0_0xe54586(0xc4)]},Ja={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'privacySettings':{'type':a0_0xe54586(0x6c9),'properties':{'readreceipts':{'type':'string','enum':['all',a0_0xe54586(0x277)]},'profile':{'type':a0_0xe54586(0x4c8),'enum':[a0_0xe54586(0x788),a0_0xe54586(0x6cf),a0_0xe54586(0x6d0),'none']},'status':{'type':a0_0xe54586(0x4c8),'enum':['all','contacts',a0_0xe54586(0x6d0),'none']},'online':{'type':a0_0xe54586(0x4c8),'enum':['all',a0_0xe54586(0x724)]},'last':{'type':a0_0xe54586(0x4c8),'enum':[a0_0xe54586(0x788),a0_0xe54586(0x6cf),'contact_blacklist','none']},'groupadd':{'type':'string','enum':[a0_0xe54586(0x788),'contacts',a0_0xe54586(0x6d0),a0_0xe54586(0x277)]}},'required':[a0_0xe54586(0x2fb),a0_0xe54586(0x13b),'status',a0_0xe54586(0xf9),a0_0xe54586(0x5d7),a0_0xe54586(0x54f)],...C(a0_0xe54586(0x2fb),a0_0xe54586(0x13b),a0_0xe54586(0x201),a0_0xe54586(0xf9),a0_0xe54586(0x5d7),a0_0xe54586(0x54f))}},'required':[a0_0xe54586(0x300)]},Ua={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'lastMessage':{'type':a0_0xe54586(0x6c9),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0xe54586(0x4c8)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0xe54586(0x491),'enum':[!0x0,!0x1]}},'required':['id',a0_0xe54586(0x593),a0_0xe54586(0x2f3)],...C('id',a0_0xe54586(0x2f3))},'messageTimestamp':{'type':a0_0xe54586(0x5ba),'minLength':0x1}},'required':[a0_0xe54586(0x57b)],...C(a0_0xe54586(0x34f))},'archive':{'type':a0_0xe54586(0x491),'enum':[!0x0,!0x1]}},'required':[a0_0xe54586(0x3ac),a0_0xe54586(0x194)]},qa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'id':{'type':a0_0xe54586(0x4c8)},'fromMe':{'type':a0_0xe54586(0x491),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0xe54586(0x4c8)},'participant':{'type':a0_0xe54586(0x4c8)}},'required':['id',a0_0xe54586(0x593),a0_0xe54586(0x2f3)],...C('id','remoteJid',a0_0xe54586(0xac))},Va={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'where':{'type':a0_0xe54586(0x6c9),'properties':{'_id':{'type':a0_0xe54586(0x4c8),'minLength':0x1},'pushName':{'type':a0_0xe54586(0x4c8),'minLength':0x1},'id':{'type':a0_0xe54586(0x4c8),'minLength':0x1}},...C(a0_0xe54586(0x761),'id',a0_0xe54586(0x17f))}}},Ga={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'name':{'type':a0_0xe54586(0x4c8)}},...C(a0_0xe54586(0x3dc))},Ba={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'status':{'type':a0_0xe54586(0x4c8)}},...C(a0_0xe54586(0x201))},$e={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'number':{'type':a0_0xe54586(0x4c8)},'picture':{'type':'string'}}},Wa={'type':a0_0xe54586(0x6c9),'properties':{'wuid':{'type':'string'},'name':{'type':a0_0xe54586(0x4c8)},'picture':{'type':a0_0xe54586(0x4c8)},'status':{'type':a0_0xe54586(0x4c8)},'isBusiness':{'type':a0_0xe54586(0x491)}}},za={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0xe54586(0x4c8),'minLength':0x1},'key':{'type':a0_0xe54586(0x6c9),'if':{'propertyNames':{'enum':['fromMe','remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0xe54586(0x678)},'id':{'type':a0_0xe54586(0x4c8),'minLength':0x1,'description':a0_0xe54586(0x678)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0xe54586(0x6c9)}},...C('_id')},'limit':{'type':a0_0xe54586(0x5ba)}}},lc={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'where':{'type':a0_0xe54586(0x6c9),'properties':{'_id':{'type':a0_0xe54586(0x4c8)},'remoteJid':{'type':a0_0xe54586(0x4c8)},'id':{'type':'string'},'fromMe':{'type':a0_0xe54586(0x491),'enum':[!0x0,!0x1]},'participant':{'type':a0_0xe54586(0x4c8)},'status':{'type':'string','enum':[a0_0xe54586(0x52d),a0_0xe54586(0x247),'SERVER_ACK',a0_0xe54586(0x513),'READ',a0_0xe54586(0x4a7)]}},...C('_id',a0_0xe54586(0x2f3),'id',a0_0xe54586(0x201))},'limit':{'type':a0_0xe54586(0x5ba)}}},Ha={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'presence':{'type':'string','enum':[a0_0xe54586(0x9a),'available',a0_0xe54586(0x7a4),a0_0xe54586(0x5a0),a0_0xe54586(0x3f4)]}},'required':['presence',a0_0xe54586(0x335)]},Ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'subject':{'type':a0_0xe54586(0x4c8)},'description':{'type':'string'},'profilePicture':{'type':a0_0xe54586(0x4c8)},'participants':{'type':a0_0xe54586(0x396),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':'\x5cd+','description':a0_0xe54586(0x69b)}}},'required':[a0_0xe54586(0x5ec),a0_0xe54586(0x39f)],...C(a0_0xe54586(0x5ec),a0_0xe54586(0x1de),a0_0xe54586(0x17e))},Ae={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0xe54586(0x4c8),'pattern':a0_0xe54586(0x262)}},'required':[a0_0xe54586(0x5ff)],...C(a0_0xe54586(0x5ff))},Qa={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'groupJid':{'type':a0_0xe54586(0x4c8)},'action':{'type':'string','enum':[a0_0xe54586(0x3fd),a0_0xe54586(0x447),a0_0xe54586(0x55c),a0_0xe54586(0x59a),a0_0xe54586(0x5ea),'approve']},'participants':{'type':a0_0xe54586(0x396),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xe54586(0x4c8),'minLength':0xa,'pattern':a0_0xe54586(0x421),'description':a0_0xe54586(0x69b)}}},'required':['groupJid','action',a0_0xe54586(0x39f)],...C(a0_0xe54586(0x5ff),a0_0xe54586(0x52f))},Ya={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0xe54586(0x335),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0xe54586(0x5ff),a0_0xe54586(0x594)],...C(a0_0xe54586(0x5ff),a0_0xe54586(0x594))},Xa={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'groupJid':{'type':a0_0xe54586(0x4c8)},'image':{'type':'string'}},'required':['groupJid','image'],...C(a0_0xe54586(0x5ff),a0_0xe54586(0x32e))},Za={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'groupJid':{'type':a0_0xe54586(0x4c8)},'description':{'type':a0_0xe54586(0x4c8)}},'required':[a0_0xe54586(0x5ff),'description'],...C('groupJid',a0_0xe54586(0x1de))},ei={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'groupJid':{'type':a0_0xe54586(0x4c8)},'name':{'type':a0_0xe54586(0x4c8)}},'required':[a0_0xe54586(0x5ff),a0_0xe54586(0x3dc)],...C(a0_0xe54586(0x5ff),a0_0xe54586(0x3dc))},ti={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'groupJid':{'type':a0_0xe54586(0x4c8)},'setting':{'type':'string','enum':[a0_0xe54586(0x486),'not_announcement',a0_0xe54586(0x144),a0_0xe54586(0x625)]}},'required':['groupJid','setting'],...C(a0_0xe54586(0x5ff),a0_0xe54586(0x18e))},si={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'groupJid':{'type':'string'},'restrict':{'type':a0_0xe54586(0x491)},'announce':{'type':'boolean'},'memberAddMode':{'type':a0_0xe54586(0x491)},'joinApprovalMode':{'type':a0_0xe54586(0x491)},'expiration':{'type':'integer','enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0xe54586(0x4c8)},'description':{'type':'string'},'image':{'type':a0_0xe54586(0x4c8)}}},ys={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'inviteCode':{'type':a0_0xe54586(0x4c8)}},'required':['inviteCode'],...C(a0_0xe54586(0x92))},ai={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'url':{'type':a0_0xe54586(0x4c8)},'enabled':{'type':a0_0xe54586(0x491),'enum':[!0x0,!0x1]}},'required':['url',a0_0xe54586(0x25b)]},uc={'$id':(0x0,E['v4'])(),'type':a0_0xe54586(0x6c9),'properties':{'local_map':{'type':a0_0xe54586(0x491),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0xe54586(0x491),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0xe54586(0x491),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0xe54586(0x491),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0xe54586(0x491),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0xe54586(0x491),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0xe54586(0x491),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0xe54586(0x491),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0xe54586(0x491),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0xe54586(0x491),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0xe54586(0x491),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0xe54586(0x491),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0xe54586(0x491),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0xe54586(0x491),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0xe54586(0x7a2),'STATUS_INSTANCE',a0_0xe54586(0x552),a0_0xe54586(0x10a),a0_0xe54586(0x1bd),a0_0xe54586(0x3b3),'SEND_MESSAGE',a0_0xe54586(0x363),a0_0xe54586(0x692),a0_0xe54586(0x5bc),a0_0xe54586(0x3f9),a0_0xe54586(0x96),a0_0xe54586(0x700),'CHATS_UPDATE',a0_0xe54586(0x217),a0_0xe54586(0x473),a0_0xe54586(0x2c4),a0_0xe54586(0x94),a0_0xe54586(0x112)],...C(a0_0xe54586(0x7a2),'STATUS_INSTANCE','QRCODE_UPDATED','MESSAGES_SET',a0_0xe54586(0x1bd),a0_0xe54586(0x3b3),'SEND_MESSAGE',a0_0xe54586(0x363),a0_0xe54586(0x692),'CONTACTS_UPDATE',a0_0xe54586(0x3f9),a0_0xe54586(0x96),a0_0xe54586(0x700),a0_0xe54586(0x310),a0_0xe54586(0x217),a0_0xe54586(0x473),a0_0xe54586(0x2c4),a0_0xe54586(0x94),'GROUP_PARTICIPANTS_UPDATE')},st=class{},at=class extends x{['getContactModelForOwner'](_0x3ca3c2){return Ys(_0x3ca3c2);}async[a0_0xe54586(0x1b7)](_0x272e66){const _0x3e2b57=a0_0xe54586;if(_0x272e66['length']!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x272e66[0x0][_0x3e2b57(0x759)])[_0x3e2b57(0x36a)]([..._0x272e66]))[_0x3e2b57(0x767)]};}catch(_0x45c948){return _0x45c948;}}async['delete'](_0x428205,_0x25f1d3){const _0x5d2a10=a0_0xe54586;try{return{'deletedCount':(await this[_0x5d2a10(0x51c)](_0x25f1d3)[_0x5d2a10(0x228)]({..._0x428205[_0x5d2a10(0x1b0)]}))['deletedCount']};}catch(_0x57724c){return{'error':_0x57724c?.[_0x5d2a10(0x27f)]()};}}async[a0_0xe54586(0x2e3)](_0x1ed92a,_0x3ba78d){const _0x5a739a=a0_0xe54586;try{if(_0x1ed92a[_0x5a739a(0x767)]===0x0)return;let _0x44a7e1=this[_0x5a739a(0x51c)](_0x3ba78d),_0x265f40=_0x1ed92a[_0x5a739a(0x588)](_0x2481d6=>({'updateOne':{'filter':{'_id':_0x2481d6[_0x5a739a(0x761)],'owner':_0x3ba78d},'update':{..._0x2481d6}}})),{modifiedCount:_0x2db4d3}=await _0x44a7e1[_0x5a739a(0x390)](_0x265f40);return{'insertCount':_0x2db4d3};}catch{return;}}async[a0_0xe54586(0x43d)](_0x41adf4,_0x599fd5){const _0x48bd39=a0_0xe54586;try{let _0x36e933=this['getContactModelForOwner'](_0x599fd5),_0x1a1498=T(_0x41adf4[_0x48bd39(0x1b0)]);return await _0x36e933['find'](_0x1a1498)[_0x48bd39(0x1c5)](_0x41adf4?.[_0x48bd39(0x1c5)]??0x0)[_0x48bd39(0x793)]();}catch{return[];}}async[a0_0xe54586(0x68c)](_0x24cb99,_0x40e71){const _0x3cea5a=a0_0xe54586;try{let _0x4c2a1d=this[_0x3cea5a(0x51c)](_0x40e71),_0x4077d8=T(_0x24cb99[_0x3cea5a(0x1b0)]);return await _0x4c2a1d[_0x3cea5a(0x68c)](_0x4077d8)['lean']();}catch{return null;}}async[a0_0xe54586(0x5e8)](_0xd851b9){const _0x45a5eb=a0_0xe54586;try{return await this[_0x45a5eb(0x51c)](_0xd851b9)[_0x45a5eb(0x562)][_0x45a5eb(0x382)](),{'success':!0x0};}catch(_0x9ba56f){return console[_0x45a5eb(0x418)](_0x9ba56f),{'success':!0x1,'error':_0x9ba56f};}}},it=require(a0_0xe54586(0x10c)),bc=require('express-async-errors'),bs=new R(a0_0xe54586(0x786)),V=class{['routerPath'](_0x2dde83,_0x1a5c9a=!0x0){const _0x4ab522=a0_0xe54586;let _0x3801c7='/'+_0x2dde83;return _0x1a5c9a&&(_0x3801c7+=_0x4ab522(0x680)),_0x3801c7;}async[a0_0xe54586(0x391)](_0x197759){const _0x49cad2=a0_0xe54586;let {request:_0x3906ab,schema:_0x2f65e6,ClassRef:_0x287e58,execute:_0x22bcea}=_0x197759,_0xa050b1=new _0x287e58(),_0x84ba62=_0x3906ab[_0x49cad2(0x185)],_0x302d54=_0x3906ab[_0x49cad2(0x1ca)];_0x3906ab?.[_0x49cad2(0x47c)]&&Object[_0x49cad2(0x25d)](_0x3906ab['query'])['length']>0x0&&Object['assign'](_0x302d54,_0x3906ab[_0x49cad2(0x47c)]),_0x3906ab[_0x49cad2(0x596)]['includes'](_0x49cad2(0x238))&&Object[_0x49cad2(0x75d)](_0x302d54,_0x84ba62),Object[_0x49cad2(0x75d)](_0xa050b1,_0x84ba62);let _0x1f66ee=_0x2f65e6?(0x0,it[_0x49cad2(0x1f1)])(_0xa050b1,_0x2f65e6):{'valid':!0x0,'errors':[]};if(!_0x1f66ee[_0x49cad2(0x662)]){let _0x5b986c=_0x1f66ee[_0x49cad2(0x6f7)][_0x49cad2(0x588)](({property:_0x3920ba,stack:_0x4efa84,schema:_0x58b00c})=>{const _0x4d6dc8=_0x49cad2;let _0xf380d8;return _0x58b00c[_0x4d6dc8(0x1de)]?_0xf380d8=_0x58b00c['description']:_0xf380d8=_0x4efa84['replace'](_0x4d6dc8(0x341),''),{'property':_0x3920ba['replace'](_0x4d6dc8(0x341),''),'message':_0xf380d8};});throw bs['error']([..._0x5b986c]),new m(..._0x5b986c);}return await _0x22bcea(_0x302d54,_0xa050b1);}async[a0_0xe54586(0x4db)](_0x26ddfc){const _0x301c11=a0_0xe54586;let {request:_0x54cffa,ClassRef:_0x5a8920,schema:_0x4f6fa8,execute:_0x157872}=_0x26ddfc,_0x4105c7=_0x54cffa[_0x301c11(0x47c)];if(!_0x4105c7?.[_0x301c11(0x5ff)])throw new m(_0x301c11(0x58e),_0x301c11(0x4c9));let _0x2634c1=_0x54cffa[_0x301c11(0x1ca)],_0x20cccb=_0x54cffa['body'],_0x4d4bd8=new _0x5a8920();Object[_0x301c11(0x75d)](_0x20cccb,_0x4105c7),Object['assign'](_0x4d4bd8,_0x20cccb);let _0x40e886=(0x0,it['validate'])(_0x4d4bd8,_0x4f6fa8);if(!_0x40e886[_0x301c11(0x662)]){let _0xbd5f4=_0x40e886[_0x301c11(0x6f7)][_0x301c11(0x588)](({property:_0x4011a1,stack:_0xdca70a,schema:_0x5ca898})=>{const _0x4bf2ac=_0x301c11;let _0x245d3d;return _0x5ca898[_0x4bf2ac(0x1de)]?_0x245d3d=_0x5ca898['description']:_0x245d3d=_0xdca70a[_0x4bf2ac(0x6fd)]('instance.',''),{'property':_0x4011a1[_0x4bf2ac(0x6fd)]('instance.',''),'message':_0x245d3d};});throw bs[_0x301c11(0x418)]([..._0xbd5f4]),new m(..._0xbd5f4);}return await _0x157872(_0x2634c1,_0x4d4bd8);}async['joinGroupValidate'](_0x4438ef){const _0x1487be=a0_0xe54586;let {request:_0x459ecf,ClassRef:_0x405af6,schema:_0x4f8a96,execute:_0xb99060}=_0x4438ef,_0x3f20e5=_0x459ecf['body'];if(!_0x3f20e5?.[_0x1487be(0x92)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x1487be(0x683));let _0x57261f=_0x459ecf[_0x1487be(0x1ca)],_0x558c92=_0x459ecf[_0x1487be(0x185)],_0x3d3292=new _0x405af6();Object['assign'](_0x558c92,_0x3f20e5),Object[_0x1487be(0x75d)](_0x3d3292,_0x558c92);let _0x5532ab=(0x0,it[_0x1487be(0x1f1)])(_0x3d3292,_0x4f8a96);if(!_0x5532ab[_0x1487be(0x662)]){let _0x43d06a=_0x5532ab[_0x1487be(0x6f7)][_0x1487be(0x588)](({property:_0x330030,stack:_0x2581e5,schema:_0x2e5c03})=>{const _0x4b5b56=_0x1487be;let _0x426ba3;return _0x2e5c03[_0x4b5b56(0x1de)]?_0x426ba3=_0x2e5c03[_0x4b5b56(0x1de)]:_0x426ba3=_0x2581e5['replace']('instance.',''),{'property':_0x330030[_0x4b5b56(0x6fd)](_0x4b5b56(0x341),''),'message':_0x426ba3};});throw bs['error']([..._0x43d06a]),new m(..._0x43d06a);}return await _0xb99060(_0x57261f,_0x3d3292);}},M=class{},_c=new R(a0_0xe54586(0x4f4)),ot=class extends V{constructor(..._0x27bd5e){const _0x975509=a0_0xe54586;super(),this[_0x975509(0x1a8)]=(0x0,ii[_0x975509(0x633)])(),this[_0x975509(0x1a8)][_0x975509(0x132)](this[_0x975509(0x69a)](_0x975509(0x301)),..._0x27bd5e,async(_0x3c775b,_0x5ca783)=>{const _0x32f8a7=_0x975509;let _0x403afd=await this[_0x32f8a7(0x391)]({'request':_0x3c775b,'schema':Ha,'ClassRef':We,'execute':(_0x37316e,_0x3fe394)=>_[_0x32f8a7(0x301)](_0x37316e,_0x3fe394)});return _0x5ca783['status'](0xc9)[_0x32f8a7(0x402)](_0x403afd);})[_0x975509(0x132)](this[_0x975509(0x69a)](_0x975509(0x14e)),..._0x27bd5e,async(_0x1f5cf7,_0x136077)=>{const _0x5caffe=_0x975509;let _0x1ca32c=await this[_0x5caffe(0x391)]({'request':_0x1f5cf7,'schema':La,'ClassRef':ze,'execute':(_0x5d4fbd,_0x4a41db)=>_['whatsappNumber'](_0x5d4fbd,_0x4a41db)});return _0x136077['status'](0xc9)[_0x5caffe(0x402)](_0x1ca32c);})[_0x975509(0x132)](this[_0x975509(0x69a)](_0x975509(0x1a3)),..._0x27bd5e,async(_0x487cc5,_0x41a2b1)=>{const _0x57075d=_0x975509;let _0x596732=await this['dataValidate']({'request':_0x487cc5,'schema':v,'ClassRef':M,'execute':(_0x4d6793,_0x49a857)=>_['editChat'](_0x4d6793,_0x49a857)});return _0x41a2b1[_0x57075d(0x201)](0xc9)[_0x57075d(0x402)](_0x596732);})[_0x975509(0x76e)](this[_0x975509(0x69a)](_0x975509(0x16b)),..._0x27bd5e,async(_0x56033c,_0x1420a7)=>{const _0x91b20=_0x975509;let _0x23594c=await this[_0x91b20(0x391)]({'request':_0x56033c,'schema':Fa,'ClassRef':Qe,'execute':(_0x1d3693,_0x2d6ed4)=>_[_0x91b20(0x78a)](_0x1d3693,_0x2d6ed4)});return _0x1420a7[_0x91b20(0x201)](0xc9)['json'](_0x23594c);})['put'](this[_0x975509(0x69a)](_0x975509(0x78d)),..._0x27bd5e,async(_0xc9b48,_0x22f38d)=>{const _0xd0ebd0=_0x975509;let _0x5c64d7=await this[_0xd0ebd0(0x391)]({'request':_0xc9b48,'schema':Ua,'ClassRef':Ye,'execute':(_0x1d703f,_0x1c9b71)=>_[_0xd0ebd0(0x78d)](_0x1d703f,_0x1c9b71)});return _0x22f38d[_0xd0ebd0(0x201)](0xc9)[_0xd0ebd0(0x402)](_0x5c64d7);})[_0x975509(0x790)](this['routerPath'](_0x975509(0x34a)),..._0x27bd5e,async(_0x260fd8,_0x624432)=>{const _0x29f94a=_0x975509;let _0x399835=await this[_0x29f94a(0x391)]({'request':_0x260fd8,'schema':qa,'ClassRef':Ze,'execute':(_0x4a00d4,_0x249c7e)=>_[_0x29f94a(0x6f9)](_0x4a00d4,_0x249c7e)});return _0x624432['status'](0xc9)[_0x29f94a(0x402)](_0x399835);})[_0x975509(0x132)](this[_0x975509(0x69a)]('fetchProfilePictureUrl'),..._0x27bd5e,async(_0x4a9180,_0x19cc2b)=>{const _0x17185a=_0x975509;let _0x2c44e7=await this['dataValidate']({'request':_0x4a9180,'schema':$e,'ClassRef':Ne,'execute':(_0x124965,_0x35f4de)=>_[_0x17185a(0x5a6)](_0x124965,_0x35f4de)});return _0x19cc2b[_0x17185a(0x201)](0xc8)[_0x17185a(0x402)](_0x2c44e7);})[_0x975509(0x132)](this['routerPath'](_0x975509(0x707)),..._0x27bd5e,async(_0x20b434,_0x5cdfca)=>{const _0x514b3c=_0x975509;let _0x228ba9=await this[_0x514b3c(0x391)]({'request':_0x20b434,'schema':Wa,'ClassRef':Ne,'execute':(_0x4bf442,_0x45be87)=>_[_0x514b3c(0x707)](_0x4bf442,_0x45be87)});return _0x5cdfca[_0x514b3c(0x201)](0xc8)[_0x514b3c(0x402)](_0x228ba9);})[_0x975509(0x132)](this['routerPath'](_0x975509(0xb1)),..._0x27bd5e,async(_0x179b6b,_0x3615e9)=>{const _0x256788=_0x975509;let _0x25e79b=await this['dataValidate']({'request':_0x179b6b,'schema':Va,'ClassRef':st,'execute':(_0xa2f6bf,_0x13d504)=>_['fetchContacts'](_0xa2f6bf,_0x13d504)});return _0x3615e9[_0x256788(0x201)](0xc8)[_0x256788(0x402)](_0x25e79b);})[_0x975509(0x132)](this[_0x975509(0x69a)](_0x975509(0x3ff)),..._0x27bd5e,async(_0x3a4419,_0xa92c71)=>{const _0x55836a=_0x975509;let _0x31d444=await this[_0x55836a(0x391)]({'request':_0x3a4419,'schema':null,'ClassRef':Object,'execute':(_0x30e7eb,_0x49e987)=>_['getBase64FromMediaMessage'](_0x30e7eb,_0x49e987)});return _0xa92c71[_0x55836a(0x201)](0xc9)[_0x55836a(0x402)](_0x31d444);})[_0x975509(0x132)](this[_0x975509(0x69a)](_0x975509(0x367)),..._0x27bd5e,async(_0x46daaf,_0x228d3b)=>{const _0x29e4b5=_0x975509;let _0xad4b9b=await this[_0x29e4b5(0x391)]({'request':_0x46daaf,'schema':za,'ClassRef':Ge,'execute':(_0x2315b8,_0xb0308b)=>_[_0x29e4b5(0x116)](_0x2315b8,_0xb0308b)});return _0x228d3b['status'](0xc8)[_0x29e4b5(0x402)](_0xad4b9b);})['get'](this[_0x975509(0x69a)](_0x975509(0x2fc)),..._0x27bd5e,async(_0xd91f27,_0x18011c)=>{const _0x24cd00=_0x975509;let _0x49f361=await this[_0x24cd00(0x391)]({'request':_0xd91f27,'schema':null,'ClassRef':M,'execute':_0x548642=>_[_0x24cd00(0x791)](_0x548642)});return _0x18011c['status'](0xc8)['json'](_0x49f361);})['get'](this[_0x975509(0x69a)](_0x975509(0x347)),..._0x27bd5e,async(_0x53e36c,_0xb3f51d)=>{const _0x28b0b3=_0x975509;let _0x401095=await this[_0x28b0b3(0x391)]({'request':_0x53e36c,'schema':null,'ClassRef':M,'execute':_0x45886a=>_[_0x28b0b3(0x48d)](_0x45886a)});return _0xb3f51d[_0x28b0b3(0x201)](0xc8)['json'](_0x401095);})[_0x975509(0x76e)](this['routerPath'](_0x975509(0x134)),..._0x27bd5e,async(_0x1b0c44,_0x50a0a7)=>{const _0x569e90=_0x975509;let _0x30b216=await this['dataValidate']({'request':_0x1b0c44,'schema':null,'ClassRef':Array,'execute':(_0x47cfd4,_0xf97746)=>_[_0x569e90(0x134)](_0x47cfd4,_0xf97746)});return _0x50a0a7[_0x569e90(0x201)](0xc8)['json'](_0x30b216);})['get'](this[_0x975509(0x69a)](_0x975509(0xca)),..._0x27bd5e,async(_0x1e0711,_0x4c4b99)=>{const _0x31b8c3=_0x975509;let _0x185881=await this[_0x31b8c3(0x391)]({'request':_0x1e0711,'schema':null,'ClassRef':M,'execute':_0x581be8=>_[_0x31b8c3(0xca)](_0x581be8)});return _0x4c4b99[_0x31b8c3(0x201)](0xc8)[_0x31b8c3(0x402)](_0x185881);})[_0x975509(0x76e)](this[_0x975509(0x69a)](_0x975509(0x606)),..._0x27bd5e,async(_0x5b6c44,_0x24c293)=>{const _0x430a32=_0x975509;let _0x35db80=await this[_0x430a32(0x391)]({'request':_0x5b6c44,'schema':Ja,'ClassRef':Xe,'execute':(_0x1a597c,_0x27d451)=>_[_0x430a32(0x606)](_0x1a597c,_0x27d451)});return _0x24c293[_0x430a32(0x201)](0xc9)[_0x430a32(0x402)](_0x35db80);})['post'](this[_0x975509(0x69a)](_0x975509(0x6f4)),..._0x27bd5e,async(_0x368173,_0x216012)=>{const _0x5415f8=_0x975509;let _0x140993=await this[_0x5415f8(0x391)]({'request':_0x368173,'schema':$e,'ClassRef':be,'execute':(_0x174cb9,_0x5908a4)=>_[_0x5415f8(0x6f4)](_0x174cb9,_0x5908a4)});return _0x216012['status'](0xc8)['json'](_0x140993);})[_0x975509(0x132)](this[_0x975509(0x69a)](_0x975509(0x274)),..._0x27bd5e,async(_0x1dda16,_0x1ae66d)=>{const _0x11dd43=_0x975509;let _0x4901ab=await this['dataValidate']({'request':_0x1dda16,'schema':Ga,'ClassRef':He,'execute':(_0x57bcce,_0x50224e)=>_[_0x11dd43(0x274)](_0x57bcce,_0x50224e)});return _0x1ae66d[_0x11dd43(0x201)](0xc8)[_0x11dd43(0x402)](_0x4901ab);})[_0x975509(0x132)](this[_0x975509(0x69a)]('updateProfileStatus'),..._0x27bd5e,async(_0x4eabd9,_0x2761d0)=>{const _0x37d27c=_0x975509;let _0x15ae47=await this[_0x37d27c(0x391)]({'request':_0x4eabd9,'schema':Ba,'ClassRef':Ke,'execute':(_0x52ce7b,_0x2a41d4)=>_[_0x37d27c(0x566)](_0x52ce7b,_0x2a41d4)});return _0x2761d0[_0x37d27c(0x201)](0xc8)[_0x37d27c(0x402)](_0x15ae47);})[_0x975509(0x76e)](this[_0x975509(0x69a)]('updateProfilePicture'),..._0x27bd5e,async(_0x4ea7a0,_0x126046)=>{const _0x254840=_0x975509;let _0x3b2048=await this[_0x254840(0x391)]({'request':_0x4ea7a0,'schema':$e,'ClassRef':be,'execute':(_0x24a8bf,_0x352b10)=>_['updateProfilePicture'](_0x24a8bf,_0x352b10)});return _0x126046['status'](0xc8)['json'](_0x3b2048);})[_0x975509(0x790)](this[_0x975509(0x69a)]('removeProfilePicture'),..._0x27bd5e,async(_0x3dc6c7,_0x344419)=>{const _0x3f5161=_0x975509;let _0xa71af5=await this[_0x3f5161(0x391)]({'request':_0x3dc6c7,'schema':$e,'ClassRef':be,'execute':(_0x23d9e3,_0xb71f30)=>_['removeProfilePicture'](_0x23d9e3,_0xb71f30)});return _0x344419[_0x3f5161(0x201)](0xc8)[_0x3f5161(0x402)](_0xa71af5);});}},oi=require(a0_0xe54586(0x6f5)),rt=class{},nt=class{},ct=class{},lt=class{},ut=class{},dt=class{},X=class{},Oe=class{},pt=class extends X{},ht=class extends X{},gt=class extends V{constructor(..._0x410051){const _0x243d93=a0_0xe54586;super(),this[_0x243d93(0x1a8)]=(0x0,oi[_0x243d93(0x633)])(),this['router'][_0x243d93(0x132)](this[_0x243d93(0x69a)](_0x243d93(0x54a)),..._0x410051,async(_0x3e9054,_0xdd1047)=>{const _0x5abd6d=_0x243d93;let _0x38715d=await this[_0x5abd6d(0x391)]({'request':_0x3e9054,'schema':Ka,'ClassRef':rt,'execute':(_0x4d1a9a,_0x46f707)=>q[_0x5abd6d(0x169)](_0x4d1a9a,_0x46f707)});_0xdd1047[_0x5abd6d(0x201)](0xc9)[_0x5abd6d(0x402)](_0x38715d);})[_0x243d93(0x76e)](this[_0x243d93(0x69a)](_0x243d93(0x72d)),..._0x410051,async(_0x169b07,_0x4ee00d)=>{const _0x48a265=_0x243d93;let _0x437886=await this[_0x48a265(0x4db)]({'request':_0x169b07,'schema':Xa,'ClassRef':nt,'execute':(_0x3626b9,_0x382b49)=>q[_0x48a265(0x72d)](_0x3626b9,_0x382b49)});_0x4ee00d[_0x48a265(0x201)](0xc9)[_0x48a265(0x402)](_0x437886);})[_0x243d93(0x76e)](this[_0x243d93(0x69a)](_0x243d93(0x586)),..._0x410051,async(_0x22a8a8,_0x418fcd)=>{const _0x2b9919=_0x243d93;let _0x5215f7=await this[_0x2b9919(0x4db)]({'request':_0x22a8a8,'schema':Za,'ClassRef':ct,'execute':(_0x47dc96,_0x441d28)=>q['groupDesc'](_0x47dc96,_0x441d28)});_0x418fcd[_0x2b9919(0x201)](0xc9)['json'](_0x5215f7);})[_0x243d93(0x76e)](this[_0x243d93(0x69a)](_0x243d93(0x3c5)),..._0x410051,async(_0x52842d,_0x459af9)=>{const _0x1b67de=_0x243d93;let _0x3d7d6f=await this[_0x1b67de(0x4db)]({'request':_0x52842d,'schema':ei,'ClassRef':lt,'execute':(_0x33bb99,_0x52365a)=>q[_0x1b67de(0x3c5)](_0x33bb99,_0x52365a)});_0x459af9[_0x1b67de(0x201)](0xc9)['json'](_0x3d7d6f);})[_0x243d93(0x76e)](this[_0x243d93(0x69a)](_0x243d93(0x770)),..._0x410051,async(_0x118bf0,_0x3bcfc8)=>{const _0xe7c012=_0x243d93;let _0x5a9159=await this[_0xe7c012(0x4db)]({'request':_0x118bf0,'schema':si,'ClassRef':dt,'execute':(_0x4025e2,_0x1d15b7)=>q['groupBetterSetting'](_0x4025e2,_0x1d15b7)});_0x3bcfc8[_0xe7c012(0x201)](0xc9)[_0xe7c012(0x402)](_0x5a9159);})[_0x243d93(0x76e)](this[_0x243d93(0x69a)](_0x243d93(0x687)),..._0x410051,async(_0x1521fa,_0x275b1e)=>{const _0x2e7cec=_0x243d93;let _0x4595a2=await this['groupValidate']({'request':_0x1521fa,'schema':ti,'ClassRef':ut,'execute':(_0x492e6c,_0x40889e)=>q[_0x2e7cec(0x687)](_0x492e6c,_0x40889e)});_0x275b1e[_0x2e7cec(0x201)](0xc9)['json'](_0x4595a2);})['put'](this[_0x243d93(0x69a)](_0x243d93(0x239)),..._0x410051,async(_0x4c635a,_0x239449)=>{const _0x52ad17=_0x243d93;let _0x28efa7=await this[_0x52ad17(0x4db)]({'request':_0x4c635a,'schema':Ya,'ClassRef':ht,'execute':(_0x386270,_0xcd1adb)=>q[_0x52ad17(0x239)](_0x386270,_0xcd1adb)});_0x239449['status'](0xc9)[_0x52ad17(0x402)](_0x28efa7);})[_0x243d93(0x6a4)](this['routerPath'](_0x243d93(0x218)),..._0x410051,async(_0x118ed5,_0x337f4f)=>{const _0x1eabbf=_0x243d93;let _0xed8cd7=await this[_0x1eabbf(0x4db)]({'request':_0x118ed5,'schema':Ae,'ClassRef':X,'execute':(_0x32dccd,_0x730e7b)=>q[_0x1eabbf(0x296)](_0x32dccd,_0x730e7b)});_0x337f4f['status'](0xc8)['json'](_0xed8cd7);})[_0x243d93(0x6a4)](this[_0x243d93(0x69a)]('findGroups'),..._0x410051,async(_0x5002b6,_0x270792)=>{const _0x32670b=_0x243d93;let _0x40a203=await this[_0x32670b(0x391)]({'request':_0x5002b6,'schema':v,'ClassRef':M,'execute':_0x473d8c=>q[_0x32670b(0x4a0)](_0x473d8c)});_0x270792[_0x32670b(0x201)](0xc8)[_0x32670b(0x402)](_0x40a203);})['get'](this[_0x243d93(0x69a)](_0x243d93(0x39f)),..._0x410051,async(_0x416695,_0x5b4330)=>{const _0x4dc3c5=_0x243d93;let _0x624f8d=await this[_0x4dc3c5(0x4db)]({'request':_0x416695,'schema':Ae,'ClassRef':X,'execute':(_0x328f93,_0x4ace81)=>q[_0x4dc3c5(0x6a1)](_0x328f93,_0x4ace81)});_0x5b4330[_0x4dc3c5(0x201)](0xc8)[_0x4dc3c5(0x402)](_0x624f8d);})[_0x243d93(0x6a4)](this[_0x243d93(0x69a)](_0x243d93(0x92)),..._0x410051,async(_0x4348a2,_0xb1bfbe)=>{const _0x4064ff=_0x243d93;let _0x32da55=await this[_0x4064ff(0x4db)]({'request':_0x4348a2,'schema':Ae,'ClassRef':X,'execute':(_0x112166,_0x2a5f63)=>q[_0x4064ff(0x92)](_0x112166,_0x2a5f63)});_0xb1bfbe['status'](0xc8)[_0x4064ff(0x402)](_0x32da55);})[_0x243d93(0x132)](this[_0x243d93(0x69a)](_0x243d93(0x60a)),..._0x410051,async(_0x28f14e,_0x25c742)=>{const _0x1f9b03=_0x243d93;let _0x510034=await this[_0x1f9b03(0x398)]({'request':_0x28f14e,'schema':ys,'ClassRef':Oe,'execute':(_0x2aeb2c,_0x198489)=>q['groupGetInviteInfo'](_0x2aeb2c,_0x198489)});_0x25c742[_0x1f9b03(0x201)](0xc9)[_0x1f9b03(0x402)](_0x510034);})[_0x243d93(0x76e)](this[_0x243d93(0x69a)]('joinGroup'),..._0x410051,async(_0x34c1a3,_0x55aadd)=>{const _0x86c6e5=_0x243d93;let _0x54838a=await this[_0x86c6e5(0x398)]({'request':_0x34c1a3,'schema':ys,'ClassRef':Oe,'execute':(_0x5922ba,_0x38c596)=>q[_0x86c6e5(0x97)](_0x5922ba,_0x38c596)});_0x55aadd[_0x86c6e5(0x201)](0xc9)[_0x86c6e5(0x402)](_0x54838a);})[_0x243d93(0x76e)](this[_0x243d93(0x69a)](_0x243d93(0x140)),..._0x410051,async(_0x4e962a,_0x104533)=>{const _0x366130=_0x243d93;let _0x5c40ed=await this[_0x366130(0x4db)]({'request':_0x4e962a,'schema':Ae,'ClassRef':X,'execute':(_0x641181,_0xc65e71)=>q[_0x366130(0x140)](_0x641181,_0xc65e71)});_0x104533[_0x366130(0x201)](0xc9)[_0x366130(0x402)](_0x5c40ed);})['put'](this['routerPath'](_0x243d93(0x31d)),..._0x410051,async(_0x4efce7,_0x56140c)=>{const _0x3cf4a5=_0x243d93;let _0x406461=await this[_0x3cf4a5(0x4db)]({'request':_0x4efce7,'schema':Qa,'ClassRef':pt,'execute':(_0x2d46ef,_0x4a1a7c)=>q[_0x3cf4a5(0x4ac)](_0x2d46ef,_0x4a1a7c)});_0x56140c['status'](0xc9)[_0x3cf4a5(0x402)](_0x406461);})['delete'](this[_0x243d93(0x69a)](_0x243d93(0x71f)),..._0x410051,async(_0x2306e2,_0x4de404)=>{const _0x4fbb06=_0x243d93;let _0x3b539e=await this[_0x4fbb06(0x4db)]({'request':_0x2306e2,'schema':{},'ClassRef':X,'execute':(_0xaede7b,_0x2283af)=>q[_0x4fbb06(0x71f)](_0xaede7b,_0x2283af)});_0x4de404[_0x4fbb06(0x201)](0xc8)['json'](_0x3b539e);});}},ri=require(a0_0xe54586(0x6f5)),mt=class extends V{constructor(_0x24a68f,..._0x247940){const _0x355590=a0_0xe54586;super(),this[_0x355590(0x291)]=_0x24a68f,this[_0x355590(0x1a8)]=(0x0,ri[_0x355590(0x633)])();let _0x22940f=_0x24a68f[_0x355590(0x6a4)]('AUTHENTICATION');this[_0x355590(0x1a8)][_0x355590(0x132)](_0x355590(0x295),..._0x247940,async(_0xb59e99,_0x5ede42)=>{const _0x5d2f49=_0x355590;let {instanceName:_0x2035c7,apikey:_0x40db4b,number:_0x2c0cda}=_0xb59e99['body'],_0x48daa3=await ne[_0x5d2f49(0x460)]({'instanceName':_0x2035c7,'apikey':_0x40db4b,'number':_0x2c0cda});return _0x5ede42[_0x5d2f49(0x201)](0xc9)[_0x5d2f49(0x402)](_0x48daa3);})[_0x355590(0x76e)](this[_0x355590(0x69a)](_0x355590(0x2e7)),..._0x247940,async(_0x3cb0e3,_0x1a6792)=>{const _0x392d1a=_0x355590;let _0x4df1ec=await this[_0x392d1a(0x391)]({'request':_0x3cb0e3,'schema':v,'ClassRef':M,'execute':_0x1c654e=>ne[_0x392d1a(0x4b7)](_0x1c654e)});return _0x1a6792[_0x392d1a(0x201)](0xc8)[_0x392d1a(0x402)](_0x4df1ec);})['get'](this[_0x355590(0x69a)](_0x355590(0x1a5)),..._0x247940,async(_0x281116,_0x351159)=>{const _0x518131=_0x355590;let _0x4b7cdc=await this[_0x518131(0x391)]({'request':_0x281116,'schema':v,'ClassRef':M,'execute':_0x164b30=>ne[_0x518131(0x37b)](_0x164b30)});return _0x351159[_0x518131(0x201)](0xc8)[_0x518131(0x402)](_0x4b7cdc);})['get'](this[_0x355590(0x69a)](_0x355590(0x3da)),..._0x247940,async(_0x5d34f4,_0xa3eb6e)=>{const _0x41337f=_0x355590;let _0x2c83af=await this[_0x41337f(0x391)]({'request':_0x5d34f4,'schema':v,'ClassRef':M,'execute':_0x1b0abc=>ne['connectionState'](_0x1b0abc)});return _0xa3eb6e['status'](0xc8)[_0x41337f(0x402)](_0x2c83af);})[_0x355590(0x6a4)](this['routerPath'](_0x355590(0x164),!0x1),..._0x247940,async(_0x38fda3,_0x458ed8)=>{const _0x17ddf0=_0x355590;let _0x59a41e=await this[_0x17ddf0(0x391)]({'request':_0x38fda3,'schema':null,'ClassRef':M,'execute':_0x24bce8=>ne['fetchInstances'](_0x24bce8)});return _0x458ed8[_0x17ddf0(0x201)](0xc8)['json'](_0x59a41e);})['delete'](this[_0x355590(0x69a)](_0x355590(0x535)),..._0x247940,async(_0x1126d9,_0x5cf83e)=>{const _0x7c7362=_0x355590;let _0x2380b0=await this['dataValidate']({'request':_0x1126d9,'schema':v,'ClassRef':M,'execute':_0x53ff87=>ne[_0x7c7362(0x535)](_0x53ff87)});return _0x5cf83e[_0x7c7362(0x201)](0xc8)[_0x7c7362(0x402)](_0x2380b0);})[_0x355590(0x790)](this[_0x355590(0x69a)]('delete'),..._0x247940,async(_0x433bb6,_0x5aa02c)=>{const _0x5f2619=_0x355590;let _0x274dce=await this[_0x5f2619(0x391)]({'request':_0x433bb6,'schema':v,'ClassRef':M,'execute':_0x3f3542=>ne[_0x5f2619(0xe3)](_0x3f3542)});return _0x5aa02c[_0x5f2619(0x201)](0xc8)[_0x5f2619(0x402)](_0x274dce);});}},ni=require(a0_0xe54586(0x6f5)),Ss=class{},W=class extends Ss{},ft=class extends W{},wt=class extends W{},yt=class extends W{},bt=class extends W{},Te=class extends W{},St=class extends W{},Mt=class extends W{},Ct=class extends W{},Et=class extends W{},vt=class extends W{},Nt=class{},Rt=class extends V{constructor(..._0x57a115){const _0x48e1e9=a0_0xe54586;super(),this[_0x48e1e9(0x1a8)]=(0x0,ni[_0x48e1e9(0x633)])(),this[_0x48e1e9(0x1a8)][_0x48e1e9(0x132)](this[_0x48e1e9(0x69a)](_0x48e1e9(0x326)),..._0x57a115,async(_0x4d95d2,_0x2f0e09)=>{const _0x1bf059=_0x48e1e9;let _0x260404=await this[_0x1bf059(0x391)]({'request':_0x4d95d2,'schema':Na,'ClassRef':ft,'execute':(_0x3ae5d8,_0x8a488b)=>B[_0x1bf059(0x326)](_0x3ae5d8,_0x8a488b)});return _0x2f0e09[_0x1bf059(0x201)](0xc9)[_0x1bf059(0x402)](_0x260404);})[_0x48e1e9(0x132)](this[_0x48e1e9(0x69a)](_0x48e1e9(0x49b)),..._0x57a115,async(_0x25629c,_0x31aa25)=>{const _0x25cbb7=_0x48e1e9;let _0x8a9ce2=await this[_0x25cbb7(0x391)]({'request':_0x25629c,'schema':Oa,'ClassRef':Te,'execute':(_0x1bb395,_0x99446d)=>B['sendMedia'](_0x1bb395,_0x99446d)});return _0x31aa25[_0x25cbb7(0x201)](0xc9)[_0x25cbb7(0x402)](_0x8a9ce2);})[_0x48e1e9(0x132)](this[_0x48e1e9(0x69a)](_0x48e1e9(0xd8)),..._0x57a115,async(_0x24714a,_0x53334c)=>{const _0x1379d0=_0x48e1e9;let _0x7428d0=await this[_0x1379d0(0x391)]({'request':_0x24714a,'schema':xa,'ClassRef':bt,'execute':(_0x4868ee,_0x4e9683)=>B[_0x1379d0(0xd8)](_0x4868ee,_0x4e9683)});return _0x53334c[_0x1379d0(0x201)](0xc9)[_0x1379d0(0x402)](_0x7428d0);})[_0x48e1e9(0x132)](this['routerPath']('sendWhatsAppAudio'),..._0x57a115,async(_0x1a7960,_0x23438b)=>{const _0x26f305=_0x48e1e9;let _0x565eb2=await this['dataValidate']({'request':_0x1a7960,'schema':Ta,'ClassRef':Te,'execute':(_0x32136d,_0x3979f2)=>B[_0x26f305(0x2fa)](_0x32136d,_0x3979f2)});return _0x23438b[_0x26f305(0x201)](0xc9)['json'](_0x565eb2);})[_0x48e1e9(0x132)](this[_0x48e1e9(0x69a)](_0x48e1e9(0x553)),..._0x57a115,async(_0x22f564,_0x2eb8f4)=>{const _0x44bd6e=_0x48e1e9;let _0x5196e2=await this[_0x44bd6e(0x391)]({'request':_0x22f564,'schema':Da,'ClassRef':Mt,'execute':(_0x52e671,_0xc5507f)=>B[_0x44bd6e(0x553)](_0x52e671,_0xc5507f)});return _0x2eb8f4['status'](0xc9)[_0x44bd6e(0x402)](_0x5196e2);})[_0x48e1e9(0x132)](this[_0x48e1e9(0x69a)](_0x48e1e9(0x50d)),..._0x57a115,async(_0x19f499,_0x46f6e2)=>{const _0x4fc7cb=_0x48e1e9;let _0x3c758d=await this['dataValidate']({'request':_0x19f499,'schema':_a,'ClassRef':Ct,'execute':(_0x298549,_0x1ade70)=>B[_0x4fc7cb(0x50d)](_0x298549,_0x1ade70)});return _0x46f6e2[_0x4fc7cb(0x201)](0xc9)[_0x4fc7cb(0x402)](_0x3c758d);})['post'](this[_0x48e1e9(0x69a)](_0x48e1e9(0x56e)),..._0x57a115,async(_0x9a226f,_0x319882)=>{const _0x22730f=_0x48e1e9;let _0x49af3d=await this[_0x22730f(0x391)]({'request':_0x9a226f,'schema':Pa,'ClassRef':Et,'execute':(_0xdc61ff,_0x5b4f58)=>B[_0x22730f(0x56e)](_0xdc61ff,_0x5b4f58)});return _0x319882[_0x22730f(0x201)](0xc9)[_0x22730f(0x402)](_0x49af3d);})[_0x48e1e9(0x132)](this[_0x48e1e9(0x69a)](_0x48e1e9(0x505)),..._0x57a115,async(_0x9ff940,_0x304cf7)=>{const _0x378842=_0x48e1e9;let _0xf485ee=await this[_0x378842(0x391)]({'request':_0x9ff940,'schema':ka,'ClassRef':vt,'execute':(_0x6e9ac3,_0x349cff)=>B['sendContact'](_0x6e9ac3,_0x349cff)});return _0x304cf7[_0x378842(0x201)](0xc9)[_0x378842(0x402)](_0xf485ee);})[_0x48e1e9(0x132)](this[_0x48e1e9(0x69a)]('sendReaction'),..._0x57a115,async(_0x856eec,_0xf97974)=>{const _0x19683d=_0x48e1e9;let _0x5353be=await this[_0x19683d(0x391)]({'request':_0x856eec,'schema':ja,'ClassRef':Nt,'execute':(_0x2a2be6,_0x2337e2)=>B[_0x19683d(0x43c)](_0x2a2be6,_0x2337e2)});return _0xf97974['status'](0xc9)[_0x19683d(0x402)](_0x5353be);})[_0x48e1e9(0x132)](this[_0x48e1e9(0x69a)](_0x48e1e9(0x6b3)),..._0x57a115,async(_0x1278d5,_0x5db156)=>{const _0x1b933a=_0x48e1e9;let _0x171f70=await this[_0x1b933a(0x391)]({'request':_0x1278d5,'schema':Ia,'ClassRef':yt,'execute':(_0x35e0ad,_0x377a53)=>B[_0x1b933a(0x6b3)](_0x35e0ad,_0x377a53)});return _0x5db156[_0x1b933a(0x201)](0xc9)[_0x1b933a(0x402)](_0x171f70);})['post'](this[_0x48e1e9(0x69a)](_0x48e1e9(0x74a)),..._0x57a115,async(_0x21cfc1,_0x230b10)=>{const _0x5f15e0=_0x48e1e9;let _0x19b4fe=await this[_0x5f15e0(0x391)]({'request':_0x21cfc1,'schema':Aa,'ClassRef':wt,'execute':(_0x2f9039,_0x2944f6)=>B['sendStatus'](_0x2f9039,_0x2944f6)});return _0x230b10[_0x5f15e0(0x201)](0xc9)[_0x5f15e0(0x402)](_0x19b4fe);})[_0x48e1e9(0x132)](this[_0x48e1e9(0x69a)](_0x48e1e9(0x6cc)),..._0x57a115,async(_0x465294,_0x4942c3)=>{const _0x5abca8=_0x48e1e9;let _0x5736f1=await this[_0x5abca8(0x391)]({'request':_0x465294,'schema':$a,'ClassRef':St,'execute':(_0x5e98d6,_0x218708)=>B['sendSticker'](_0x5e98d6,_0x218708)});return _0x4942c3['status'](0xc9)[_0x5abca8(0x402)](_0x5736f1);});}},ci=require(a0_0xe54586(0x6f5)),$t=class{},At=class extends V{constructor(..._0x294073){const _0x274afb=a0_0xe54586;super(),this[_0x274afb(0x1a8)]=(0x0,ci[_0x274afb(0x633)])(),this[_0x274afb(0x1a8)][_0x274afb(0x132)](this['routerPath']('set'),..._0x294073,async(_0x175584,_0x5d5598)=>{const _0x42944b=_0x274afb;let _0xb6fd46=await this[_0x42944b(0x391)]({'request':_0x175584,'schema':ai,'ClassRef':$t,'execute':(_0x113f68,_0x1a6db9)=>Ms[_0x42944b(0x5f0)](_0x113f68,_0x1a6db9)});_0x5d5598['status'](0xc9)[_0x42944b(0x402)](_0xb6fd46);})[_0x274afb(0x6a4)](this[_0x274afb(0x69a)](_0x274afb(0x43d)),..._0x294073,async(_0x453d39,_0x1e526a)=>{const _0x4c6b68=_0x274afb;let _0x5c26f0=await this[_0x4c6b68(0x391)]({'request':_0x453d39,'schema':v,'ClassRef':M,'execute':_0x2c2b6a=>Ms[_0x4c6b68(0x698)](_0x2c2b6a)});_0x1e526a[_0x4c6b68(0x201)](0xc8)[_0x4c6b68(0x402)](_0x5c26f0);});}},li=require(a0_0xe54586(0x6f5)),y=new R(a0_0xe54586(0x7a3)),Ot=class extends V{constructor(..._0x23b1b8){const _0x3c1955=a0_0xe54586;super(),this[_0x3c1955(0x1a8)]=(0x0,li[_0x3c1955(0x633)])(),this['router'][_0x3c1955(0x132)](this[_0x3c1955(0x69a)](_0x3c1955(0x675)),..._0x23b1b8,async(_0x26049d,_0x5b89cd)=>{const _0x48f5dd=_0x3c1955;let _0x2c2c16=_0x26049d['body'];y[_0x48f5dd(0x1bb)](_0x48f5dd(0x8a)),y[_0x48f5dd(0x1bb)](_0x48f5dd(0xfe)),y[_0x48f5dd(0x1bb)](_0x26049d[_0x48f5dd(0x185)]);let _0x37b864=await this[_0x48f5dd(0x391)]({'request':_0x26049d,'schema':v,'ClassRef':M,'execute':_0x5f3b48=>A[_0x48f5dd(0x5c2)](_0x5f3b48,_0x2c2c16)});_0x5b89cd['status'](0xc8)[_0x48f5dd(0x402)](_0x37b864);})[_0x3c1955(0x6a4)](this[_0x3c1955(0x69a)](_0x3c1955(0x675)),..._0x23b1b8,async(_0x5ff88a,_0x1c9f3a)=>{const _0x589251=_0x3c1955;let _0x32b05c=await this[_0x589251(0x391)]({'request':_0x5ff88a,'schema':v,'ClassRef':M,'execute':_0x292b09=>A[_0x589251(0x16d)](_0x292b09)});_0x1c9f3a[_0x589251(0x201)](0xc8)['json'](_0x32b05c);})[_0x3c1955(0x790)](this['routerPath'](_0x3c1955(0x354)),..._0x23b1b8,async(_0x3703c3,_0x5dcce4)=>{const _0x5ccacf=_0x3c1955;y[_0x5ccacf(0x1bb)](_0x5ccacf(0x20a));let _0x5c108a=await this[_0x5ccacf(0x391)]({'request':_0x3703c3,'schema':v,'ClassRef':M,'execute':_0x444903=>A['deleteDoneMessages'](_0x444903)});_0x5dcce4['status'](0xc8)['json'](_0x5c108a);})[_0x3c1955(0x132)](this[_0x3c1955(0x69a)](_0x3c1955(0x1dd)),..._0x23b1b8,async(_0x3f069a,_0x9cdef3)=>{const _0x87c515=_0x3c1955;let _0x26f9aa=_0x3f069a[_0x87c515(0x185)];y[_0x87c515(0x1bb)](_0x87c515(0x56d)),y[_0x87c515(0x1bb)](_0x87c515(0xfe)),y[_0x87c515(0x1bb)](_0x3f069a['body']);let _0x5f4ad7=await this[_0x87c515(0x391)]({'request':_0x3f069a,'schema':v,'ClassRef':M,'execute':_0x12d95a=>A[_0x87c515(0x1dd)](_0x12d95a,_0x26f9aa)});_0x9cdef3[_0x87c515(0x201)](0xc8)[_0x87c515(0x402)](_0x5f4ad7);})[_0x3c1955(0x6a4)](this[_0x3c1955(0x69a)]('getAutomateSystem'),..._0x23b1b8,async(_0x3a87ca,_0x30a7d6)=>{const _0x12ae68=_0x3c1955;y['verbose']('request\x20received\x20in\x20getAutomateSystem');let _0x428c55=await this['dataValidate']({'request':_0x3a87ca,'schema':v,'ClassRef':M,'execute':_0x59010c=>A[_0x12ae68(0x5fb)](_0x59010c)});_0x30a7d6[_0x12ae68(0x201)](0xc8)[_0x12ae68(0x402)](_0x428c55);})[_0x3c1955(0x6a4)](this[_0x3c1955(0x69a)](_0x3c1955(0x27c)),..._0x23b1b8,async(_0x1406d3,_0x5af8ce)=>{const _0x16755b=_0x3c1955;y['verbose'](_0x16755b(0x79b));let _0x543455=await this[_0x16755b(0x391)]({'request':_0x1406d3,'schema':v,'ClassRef':M,'execute':_0x4a1076=>A['getAutomateSystem'](_0x4a1076)});_0x5af8ce[_0x16755b(0x201)](0xc8)[_0x16755b(0x402)](_0x543455);})['post'](this['routerPath']('updateAgent'),..._0x23b1b8,async(_0x15389b,_0x46ce03)=>{const _0x26fa58=_0x3c1955;let _0x5733ac=_0x15389b[_0x26fa58(0x185)];y[_0x26fa58(0x1bb)]('request\x20received\x20in\x20updateAgent'),y[_0x26fa58(0x1bb)](_0x26fa58(0xfe)),y[_0x26fa58(0x1bb)](_0x15389b[_0x26fa58(0x185)]);let _0x175151=await this[_0x26fa58(0x391)]({'request':_0x15389b,'schema':v,'ClassRef':M,'execute':_0x1cf0c0=>A[_0x26fa58(0x31a)](_0x1cf0c0,_0x5733ac)});_0x46ce03[_0x26fa58(0x201)](0xc8)[_0x26fa58(0x402)](_0x175151);})[_0x3c1955(0x132)](this[_0x3c1955(0x69a)](_0x3c1955(0x5c7)),..._0x23b1b8,async(_0x3eb5bc,_0x1af945)=>{const _0xf573e=_0x3c1955;let _0x20a672=_0x3eb5bc[_0xf573e(0x185)];y['verbose'](_0xf573e(0x740)),y[_0xf573e(0x1bb)](_0xf573e(0xfe)),y[_0xf573e(0x1bb)](_0x3eb5bc[_0xf573e(0x185)]);let _0x7ae6e8=await this[_0xf573e(0x391)]({'request':_0x3eb5bc,'schema':v,'ClassRef':M,'execute':_0x2fd655=>A[_0xf573e(0x5c7)](_0x2fd655,_0x20a672)});_0x1af945['status'](0xc8)[_0xf573e(0x402)](_0x7ae6e8);})['post'](this[_0x3c1955(0x69a)]('updateAutoCompleteMessages'),..._0x23b1b8,async(_0x972f2b,_0x3ebcae)=>{const _0x102f41=_0x3c1955;let _0x7c1f5c=_0x972f2b[_0x102f41(0x185)];y['verbose'](_0x102f41(0x42e)),y[_0x102f41(0x1bb)](_0x102f41(0xfe)),y[_0x102f41(0x1bb)](_0x972f2b[_0x102f41(0x185)]);let _0x59bc0b=await this[_0x102f41(0x391)]({'request':_0x972f2b,'schema':v,'ClassRef':M,'execute':_0x2350d5=>A[_0x102f41(0x6f1)](_0x2350d5,_0x7c1f5c)});_0x3ebcae['status'](0xc8)['json'](_0x59bc0b);})[_0x3c1955(0x132)](this['routerPath'](_0x3c1955(0x5bb)),..._0x23b1b8,async(_0x11bd3f,_0x10bd94)=>{const _0x2a38a7=_0x3c1955;let _0x58029d=_0x11bd3f[_0x2a38a7(0x185)];y[_0x2a38a7(0x1bb)]('request\x20received\x20in\x20updateFlowConfig'),y[_0x2a38a7(0x1bb)](_0x2a38a7(0xfe)),y[_0x2a38a7(0x1bb)](_0x11bd3f[_0x2a38a7(0x185)]);let _0x75f2f7=await this[_0x2a38a7(0x391)]({'request':_0x11bd3f,'schema':v,'ClassRef':M,'execute':_0x116081=>A['updateFlowConfig'](_0x116081,_0x58029d)});_0x10bd94[_0x2a38a7(0x201)](0xc8)['json'](_0x75f2f7);})[_0x3c1955(0x132)](this[_0x3c1955(0x69a)](_0x3c1955(0x750)),..._0x23b1b8,async(_0x1d64f8,_0x46d837)=>{const _0x213474=_0x3c1955;let _0x114920=_0x1d64f8[_0x213474(0x185)];y['verbose'](_0x213474(0x24f)),y[_0x213474(0x1bb)](_0x213474(0xfe)),y[_0x213474(0x1bb)](_0x1d64f8[_0x213474(0x185)]);let _0x16a584=await this[_0x213474(0x391)]({'request':_0x1d64f8,'schema':v,'ClassRef':M,'execute':_0x39ffd8=>A['getConversation'](_0x39ffd8,_0x114920)});_0x46d837[_0x213474(0x201)](0xc8)[_0x213474(0x402)](_0x16a584);})['post'](this[_0x3c1955(0x69a)]('fetchConversation'),..._0x23b1b8,async(_0x4afb59,_0x25cc54)=>{const _0x38ec06=_0x3c1955;let _0x2d7e60=_0x4afb59[_0x38ec06(0x185)];y[_0x38ec06(0x1bb)](_0x38ec06(0x6e9)),y['verbose'](_0x38ec06(0xfe)),y['verbose'](_0x4afb59['body']);let _0x343d8f=await this[_0x38ec06(0x391)]({'request':_0x4afb59,'schema':v,'ClassRef':M,'execute':_0x38d76e=>A['fetchConversation'](_0x38d76e,_0x2d7e60)});_0x25cc54[_0x38ec06(0x201)](0xc8)[_0x38ec06(0x402)](_0x343d8f);})['post'](this['routerPath'](_0x3c1955(0x580)),..._0x23b1b8,async(_0x5bd548,_0x32effc)=>{const _0x25dda7=_0x3c1955;let _0x1f94ec=_0x5bd548[_0x25dda7(0x185)];y[_0x25dda7(0x1bb)](_0x25dda7(0x4b2)),y[_0x25dda7(0x1bb)]('request\x20body:\x20'),y[_0x25dda7(0x1bb)](_0x5bd548[_0x25dda7(0x185)]);let _0x1f39a7=await this['dataValidate']({'request':_0x5bd548,'schema':v,'ClassRef':M,'execute':_0x4eb0e0=>A['editConversation'](_0x4eb0e0,_0x1f94ec)});_0x32effc['status'](0xc8)[_0x25dda7(0x402)](_0x1f39a7);})['delete'](this['routerPath'](_0x3c1955(0x47f)),..._0x23b1b8,async(_0x4e2963,_0x32f416)=>{const _0x147758=_0x3c1955;let _0x384abe=_0x4e2963['body'];y[_0x147758(0x1bb)]('request\x20received\x20in\x20deleteConversation'),y[_0x147758(0x1bb)](_0x147758(0xfe)),y[_0x147758(0x1bb)](_0x4e2963[_0x147758(0x185)]);let _0x1e837b=await this[_0x147758(0x391)]({'request':_0x4e2963,'schema':v,'ClassRef':M,'execute':_0x33c1d6=>A[_0x147758(0x47f)](_0x33c1d6,_0x384abe)});_0x32f416[_0x147758(0x201)](0xc8)[_0x147758(0x402)](_0x1e837b);})['post'](this[_0x3c1955(0x69a)](_0x3c1955(0x40b)),..._0x23b1b8,async(_0x399eea,_0x402f67)=>{const _0x112da5=_0x3c1955;let _0x72a7b7=_0x399eea[_0x112da5(0x185)],_0x4ec2c2=_0x399eea['headers'][_0x112da5(0x4cc)];y['verbose']('request\x20received\x20in\x20createFlow'),y[_0x112da5(0x1bb)]('request\x20body:\x20'),y[_0x112da5(0x1bb)](_0x399eea[_0x112da5(0x185)]);let _0xa4dc16=await this['dataValidate']({'request':_0x399eea,'schema':v,'ClassRef':M,'execute':_0x39333d=>A[_0x112da5(0x37a)](_0x39333d,_0x72a7b7,_0x4ec2c2)});_0x402f67[_0x112da5(0x201)](0xc8)[_0x112da5(0x402)](_0xa4dc16);})['post'](this[_0x3c1955(0x69a)](_0x3c1955(0xa6)),..._0x23b1b8,async(_0x4d1305,_0x23a3e1)=>{const _0x2cfc54=_0x3c1955;let _0x1ee239=_0x4d1305[_0x2cfc54(0x185)],_0xdb3240=_0x4d1305['headers'][_0x2cfc54(0x4cc)];y['verbose'](_0x2cfc54(0x268)),y[_0x2cfc54(0x1bb)](_0x2cfc54(0xfe)),y[_0x2cfc54(0x1bb)](_0x4d1305[_0x2cfc54(0x185)]),delete _0x1ee239[_0x2cfc54(0x414)],delete _0x1ee239[_0x2cfc54(0x7a1)],delete _0x1ee239[_0x2cfc54(0x730)],delete _0x1ee239['conditions'];let _0x18de6d=await this['dataValidate']({'request':_0x4d1305,'schema':v,'ClassRef':M,'execute':_0x42d04a=>A['editFlow'](_0x42d04a,_0x1ee239,_0xdb3240)});_0x23a3e1[_0x2cfc54(0x201)](0xc8)[_0x2cfc54(0x402)](_0x18de6d);})[_0x3c1955(0x132)](this[_0x3c1955(0x69a)](_0x3c1955(0x5d6)),..._0x23b1b8,async(_0x338877,_0x4db06e)=>{const _0x332256=_0x3c1955;let _0x59da65=_0x338877[_0x332256(0x185)],_0x37c827=_0x338877[_0x332256(0x1e8)]['apikey'];y[_0x332256(0x1bb)]('request\x20received\x20in\x20editFlow'),y[_0x332256(0x1bb)]('request\x20body:\x20'),y[_0x332256(0x1bb)](_0x338877['body']);let _0x2a9c9f=await this[_0x332256(0x391)]({'request':_0x338877,'schema':v,'ClassRef':M,'execute':_0x1b83ed=>A[_0x332256(0x69e)](_0x1b83ed,_0x59da65,_0x37c827)});_0x4db06e[_0x332256(0x201)](0xc8)[_0x332256(0x402)](_0x2a9c9f);})['post'](this[_0x3c1955(0x69a)](_0x3c1955(0x570)),..._0x23b1b8,async(_0x563fb5,_0x378796)=>{const _0x39eed1=_0x3c1955;let _0x156511=_0x563fb5['body'],_0x390cc1=_0x563fb5['headers'][_0x39eed1(0x4cc)];y[_0x39eed1(0x1bb)]('request\x20received\x20in\x20editFlow'),y[_0x39eed1(0x1bb)]('request\x20body:\x20'),y[_0x39eed1(0x1bb)](_0x563fb5[_0x39eed1(0x185)]);let _0x121cb8=await this[_0x39eed1(0x391)]({'request':_0x563fb5,'schema':v,'ClassRef':M,'execute':_0x2a318f=>A[_0x39eed1(0x413)](_0x2a318f,_0x156511,_0x390cc1)});_0x378796['status'](0xc8)[_0x39eed1(0x402)](_0x121cb8);})['post'](this[_0x3c1955(0x69a)](_0x3c1955(0x660)),..._0x23b1b8,async(_0xb81a91,_0x19ee6b)=>{const _0x5e860d=_0x3c1955;let _0x3eb764=_0xb81a91[_0x5e860d(0x185)],_0x3898d0=_0xb81a91[_0x5e860d(0x1e8)][_0x5e860d(0x4cc)];y[_0x5e860d(0x1bb)](_0x5e860d(0x268)),y[_0x5e860d(0x1bb)](_0x5e860d(0xfe)),y[_0x5e860d(0x1bb)](_0xb81a91[_0x5e860d(0x185)]);let _0x4c0bad=await this[_0x5e860d(0x391)]({'request':_0xb81a91,'schema':v,'ClassRef':M,'execute':_0xd10223=>A['editFlowVaredit'](_0xd10223,_0x3eb764,_0x3898d0)});_0x19ee6b[_0x5e860d(0x201)](0xc8)[_0x5e860d(0x402)](_0x4c0bad);})['post'](this[_0x3c1955(0x69a)](_0x3c1955(0x5a3)),..._0x23b1b8,async(_0x4bcac5,_0x3df2ff)=>{const _0x4e2dc5=_0x3c1955;let _0x11996d=_0x4bcac5['body'],_0x192ee5=_0x4bcac5[_0x4e2dc5(0x1e8)]['apikey'];y[_0x4e2dc5(0x1bb)]('request\x20received\x20in\x20editFlowgroup'),y[_0x4e2dc5(0x1bb)](_0x4e2dc5(0xfe)),y[_0x4e2dc5(0x1bb)](_0x4bcac5['body']);let _0x2df50c=await this[_0x4e2dc5(0x391)]({'request':_0x4bcac5,'schema':v,'ClassRef':M,'execute':_0x322128=>A[_0x4e2dc5(0x23f)](_0x322128,_0x11996d,_0x192ee5)});_0x3df2ff[_0x4e2dc5(0x201)](0xc8)[_0x4e2dc5(0x402)](_0x2df50c);})[_0x3c1955(0x132)](this[_0x3c1955(0x69a)](_0x3c1955(0x712)),..._0x23b1b8,async(_0x1f000d,_0xa2e1ca)=>{const _0x284efc=_0x3c1955;let _0x45f6d4=_0x1f000d[_0x284efc(0x185)],_0xea10a5=_0x1f000d[_0x284efc(0x1e8)]['apikey'];y[_0x284efc(0x1bb)](_0x284efc(0x4a5)),y['verbose'](_0x284efc(0xfe)),y[_0x284efc(0x1bb)](_0x1f000d[_0x284efc(0x185)]);let _0x4458ac=await this[_0x284efc(0x391)]({'request':_0x1f000d,'schema':v,'ClassRef':M,'execute':_0x3e6502=>A['editFlowCondition'](_0x3e6502,_0x45f6d4,_0xea10a5)});_0xa2e1ca[_0x284efc(0x201)](0xc8)[_0x284efc(0x402)](_0x4458ac);})[_0x3c1955(0x132)](this[_0x3c1955(0x69a)](_0x3c1955(0x560)),..._0x23b1b8,async(_0x2294ee,_0x468e89)=>{const _0x2d9c18=_0x3c1955;let _0x596415=_0x2294ee['body'],_0x5d1e3a=_0x2294ee[_0x2d9c18(0x1e8)][_0x2d9c18(0x4cc)];y[_0x2d9c18(0x1bb)]('request\x20received\x20in\x20editFlowvariable'),y[_0x2d9c18(0x1bb)]('request\x20body:\x20'),y[_0x2d9c18(0x1bb)](_0x2294ee[_0x2d9c18(0x185)]);let _0x215888=await this[_0x2d9c18(0x391)]({'request':_0x2294ee,'schema':v,'ClassRef':M,'execute':_0x364c54=>A['editFlowVariable'](_0x364c54,_0x596415,_0x5d1e3a)});_0x468e89['status'](0xc8)[_0x2d9c18(0x402)](_0x215888);})[_0x3c1955(0x132)](this[_0x3c1955(0x69a)](_0x3c1955(0x5f5)),..._0x23b1b8,async(_0x8746e7,_0x1c18ed)=>{const _0x541e17=_0x3c1955;let _0x3e0a4d=_0x8746e7[_0x541e17(0x185)];y[_0x541e17(0x1bb)]('request\x20received\x20in\x20getFlow'),y['verbose'](_0x541e17(0xfe)),y[_0x541e17(0x1bb)](_0x8746e7[_0x541e17(0x185)]);let _0x5c2b54=await this[_0x541e17(0x391)]({'request':_0x8746e7,'schema':v,'ClassRef':M,'execute':_0x33e984=>A[_0x541e17(0x283)](_0x33e984,_0x3e0a4d)});_0x1c18ed['status'](0xc8)[_0x541e17(0x402)](_0x5c2b54);})[_0x3c1955(0x790)](this[_0x3c1955(0x69a)]('deleteflow'),..._0x23b1b8,async(_0x5181e9,_0x3ba6f3)=>{const _0x3eaf01=_0x3c1955;let _0x50e75e=_0x5181e9[_0x3eaf01(0x185)],_0x188ef9=_0x5181e9[_0x3eaf01(0x1e8)][_0x3eaf01(0x4cc)];y[_0x3eaf01(0x1bb)](_0x3eaf01(0x3ef)),y[_0x3eaf01(0x1bb)](_0x3eaf01(0xfe)),y[_0x3eaf01(0x1bb)](_0x5181e9[_0x3eaf01(0x185)]);let _0x35c518=await this[_0x3eaf01(0x391)]({'request':_0x5181e9,'schema':v,'ClassRef':M,'execute':_0x45f0d2=>A[_0x3eaf01(0x632)](_0x45f0d2,_0x50e75e,_0x188ef9)});_0x3ba6f3[_0x3eaf01(0x201)](0xc8)[_0x3eaf01(0x402)](_0x35c518);})['get'](this[_0x3c1955(0x69a)](_0x3c1955(0x423)),..._0x23b1b8,async(_0x2f7fad,_0x5e2a12)=>{const _0x2f3844=_0x3c1955;y[_0x2f3844(0x1bb)](_0x2f3844(0x573));let _0x3ef7fe=await this['dataValidate']({'request':_0x2f7fad,'schema':v,'ClassRef':M,'execute':_0x24aae7=>A['allFlows'](_0x24aae7)});_0x5e2a12[_0x2f3844(0x201)](0xc8)[_0x2f3844(0x402)](_0x3ef7fe);});}},hi=O(require(a0_0xe54586(0x65c))),Z={};function ui(_0x6a818b,_0x399765,_0x3d0fe7,_0x47cc3b){Z[_0x6a818b]||(Z[_0x6a818b]={}),Z[_0x6a818b][_0x399765]={'id':_0x399765,'response':_0x3d0fe7,'events':_0x47cc3b};}function di(_0x2a399f,_0x29f956){!Z[_0x2a399f]||!Z[_0x2a399f][_0x29f956]||delete Z[_0x2a399f][_0x29f956];}function J(_0x2ae2d6,_0x4be1e8,_0x2b9786){const _0xdf6ff6=a0_0xe54586;if(!Z[_0x2ae2d6])return;let _0x856ed6=_0xdf6ff6(0x5de)+JSON[_0xdf6ff6(0x548)](_0x2b9786)+'\x0a\x0a';Object[_0xdf6ff6(0x422)](Z[_0x2ae2d6])[_0xdf6ff6(0x110)](_0x31f510=>{const _0x3c886d=_0xdf6ff6;_0x31f510[_0x3c886d(0x17a)][_0x3c886d(0x1d8)](_0x4be1e8)&&_0x31f510[_0x3c886d(0x1aa)][_0x3c886d(0x5d4)](_0x856ed6);});}function pi(){const _0x320464=a0_0xe54586;let _0x40c410={};for(let _0x4a020f in Z)_0x40c410[_0x4a020f]=Object[_0x320464(0x422)](Z[_0x4a020f])[_0x320464(0x588)](_0x6b845f=>({'id':_0x6b845f['id'],'events':_0x6b845f['events']}));return _0x40c410;}var gi=require(a0_0xe54586(0x28b)),Es=require(a0_0xe54586(0x31e)),Cs=class{},wo=new Es[(a0_0xe54586(0x4dd))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),yo=new Es[(a0_0xe54586(0x4dd))]({'_id':{'type':String,'default':'config'},'WebhookGlobal':{'type':wo},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Se=$?.[a0_0xe54586(0x1c6)](Cs[a0_0xe54586(0x3dc)],yo,a0_0xe54586(0x538)),bo=hi[a0_0xe54586(0x2f8)][a0_0xe54586(0x569)](__dirname,'downloads'),Ie=(0x0,Tt[a0_0xe54586(0x633)])(),So=S[a0_0xe54586(0x6a4)](a0_0xe54586(0x411))[a0_0xe54586(0x794)],ie=[Sa,Ma,va[So]];Ie[a0_0xe54586(0x3bd)]('/media',Tt[a0_0xe54586(0x2f8)][a0_0xe54586(0x60b)](bo))[a0_0xe54586(0x6a4)](a0_0xe54586(0x2d4),async(_0x13fb93,_0x32d3c5)=>{const _0x50a466=a0_0xe54586;console[_0x50a466(0x2c6)](_0x50a466(0x757));let _0x37d946=_0x13fb93[_0x50a466(0x1ca)][_0x50a466(0x75a)],_0x224a88=(_0x13fb93['query'][_0x50a466(0x17a)]||'')['split'](','),_0x6ea74a=(0x0,gi['v4'])();console[_0x50a466(0x2c6)](_0x50a466(0x141),_0x37d946),console['log']('Subscribed\x20Events:',_0x224a88);let _0x5a407f=S[_0x50a466(0x6a4)](_0x50a466(0x411))[_0x50a466(0x93)],_0x3c3c97=_0x13fb93['query']['apikey'];if(console[_0x50a466(0x2c6)](_0x50a466(0x754),_0x3c3c97),_0x5a407f[_0x50a466(0x798)]!==_0x3c3c97){console['log']('env.KEY\x20!==\x20key');try{let _0x39d1a0=await ue[_0x50a466(0x1a1)]['find'](_0x37d946);if(console[_0x50a466(0x2c6)](_0x50a466(0x2a8),_0x39d1a0),!_0x39d1a0||_0x39d1a0['apikey']!==_0x3c3c97)return console['log'](_0x50a466(0x3c8)),_0x32d3c5['status'](0x191)[_0x50a466(0x784)](_0x50a466(0x464));}catch(_0x2dc9f8){return console[_0x50a466(0x418)](_0x50a466(0x599),_0x2dc9f8),_0x32d3c5[_0x50a466(0x201)](0x191)[_0x50a466(0x784)](_0x50a466(0x1bc));}}if(!await Re(_0x37d946))return _0x32d3c5[_0x50a466(0x201)](0x194)[_0x50a466(0x784)](_0x50a466(0x614));_0x32d3c5[_0x50a466(0x108)](_0x50a466(0x49d),'text/event-stream'),_0x32d3c5['setHeader'](_0x50a466(0x33e),_0x50a466(0x6e1)),_0x32d3c5[_0x50a466(0x108)](_0x50a466(0x4e3),_0x50a466(0x55e)),_0x32d3c5['flushHeaders']();let _0x550c9d='data:\x20'+JSON['stringify']({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x32d3c5[_0x50a466(0x5d4)](_0x550c9d),ui(_0x37d946,_0x6ea74a,_0x32d3c5,_0x224a88),_0x13fb93['on'](_0x50a466(0x29c),()=>{const _0x41b992=_0x50a466;console[_0x41b992(0x2c6)](_0x41b992(0x636)+_0x37d946),di(_0x37d946,_0x6ea74a);});}),Ie[a0_0xe54586(0x132)](a0_0xe54586(0x13e),async(_0x47c138,_0x1c4bbc)=>{const _0x576371=a0_0xe54586;console[_0x576371(0x2c6)]('iniciando\x20fluxo\x20router');let _0x48957b=_0x47c138['params']['instance'],_0x24a352=_0x47c138[_0x576371(0x1ca)]['startID'],_0x527c39=_0x47c138[_0x576371(0x47c)][_0x576371(0x2f3)]||'',_0x334cf9=_0x47c138[_0x576371(0x185)];console[_0x576371(0x2c6)](_0x576371(0x1d7),_0x48957b),console[_0x576371(0x2c6)](_0x576371(0x6d7),_0x24a352),console[_0x576371(0x2c6)](_0x576371(0x44f),_0x527c39),console[_0x576371(0x2c6)](_0x576371(0x159),_0x334cf9);try{if(!await Re(_0x48957b))return _0x1c4bbc[_0x576371(0x201)](0x194)['send'](_0x576371(0x614));let _0x1a195d=await A['startFlowWebhook'](_0x48957b,_0x24a352,_0x527c39,_0x334cf9);_0x1c4bbc[_0x576371(0x784)](_0x1a195d);}catch(_0x71ab3a){console[_0x576371(0x418)](_0x71ab3a),_0x1c4bbc[_0x576371(0x201)](0x1f4)[_0x576371(0x784)]('Erro\x20ao\x20iniciar\x20o\x20fluxo.');}}),Ie[a0_0xe54586(0x6a4)](a0_0xe54586(0x56a),(_0x48532e,_0x37f0af)=>{const _0x58e9e5=a0_0xe54586;let _0x153dc1=pi();_0x37f0af[_0x58e9e5(0x402)](_0x153dc1);})[a0_0xe54586(0x6a4)]('/',(_0x3c2ca3,_0x5df12a)=>{const _0x1e3c19=a0_0xe54586;let _0x11bfc2=S[_0x1e3c19(0x6a4)](_0x1e3c19(0x355))[_0x1e3c19(0x3d4)];if(_0x11bfc2){let _0x13ff86=encodeURIComponent(''+_0x11bfc2);_0x5df12a[_0x1e3c19(0x1e3)](_0x1e3c19(0x490)+_0x13ff86);return;}let _0x59608c=S[_0x1e3c19(0x6a4)](_0x1e3c19(0x339)),_0x52506e=_0x59608c&&_0x59608c[_0x1e3c19(0x529)][_0x1e3c19(0x6fa)]('/')[0x4];if(_0x52506e){let _0xa2f96e=encodeURIComponent(_0x1e3c19(0x4ab)+_0x52506e);_0x5df12a[_0x1e3c19(0x1e3)](_0x1e3c19(0x490)+_0xa2f96e);}else _0x5df12a[_0x1e3c19(0x1e3)](_0x1e3c19(0x161));})[a0_0xe54586(0x76e)](a0_0xe54586(0x618),...ie,async(_0x48cdb1,_0x3fd419)=>{const _0x4f0bcf=a0_0xe54586;try{console[_0x4f0bcf(0x2c6)](_0x4f0bcf(0x60e)),_0x3fd419[_0x4f0bcf(0x201)](0xc8)[_0x4f0bcf(0x402)]({'message':_0x4f0bcf(0x710)}),_0x3fd419['on']('finish',()=>process[_0x4f0bcf(0x1e1)](0x0));}catch(_0x55c0ed){console[_0x4f0bcf(0x418)](_0x4f0bcf(0xa9),_0x55c0ed),_0x3fd419[_0x4f0bcf(0x201)](0x1f4)[_0x4f0bcf(0x402)]({'message':_0x4f0bcf(0x4c7)});}})[a0_0xe54586(0x76e)]('/config',...ie,async(_0x1ac540,_0x366313)=>{const _0x193d02=a0_0xe54586;try{let _0x35853c=_0x1ac540[_0x193d02(0x185)];await Se[_0x193d02(0x1fd)]({},{'$set':_0x35853c},{'upsert':!0x0});let _0x572598=await Se[_0x193d02(0x68c)]();_0x366313[_0x193d02(0x402)](_0x572598);}catch(_0x158f10){_0x366313[_0x193d02(0x201)](0x190)[_0x193d02(0x784)](_0x158f10[_0x193d02(0x406)]);}})[a0_0xe54586(0x6a4)](a0_0xe54586(0x45f),...ie,async(_0x4c9f15,_0x1b5b72)=>{const _0xfcc711=a0_0xe54586;try{let _0x222f51=await Se[_0xfcc711(0x68c)]();if(!_0x222f51)return _0x1b5b72[_0xfcc711(0x402)]({});_0x1b5b72[_0xfcc711(0x402)](_0x222f51);}catch(_0x53d947){_0x1b5b72['status'](0x1f4)[_0xfcc711(0x784)](_0x53d947[_0xfcc711(0x406)]);}})['use'](a0_0xe54586(0x73f),new mt(S,...ie)[a0_0xe54586(0x1a8)])['use'](a0_0xe54586(0x4a9),new Rt(...ie)[a0_0xe54586(0x1a8)])['use'](a0_0xe54586(0x2ac),new ot(...ie)[a0_0xe54586(0x1a8)])['use']('/group',new gt(...ie)['router'])[a0_0xe54586(0x3bd)](a0_0xe54586(0x649),new At(...ie)[a0_0xe54586(0x1a8)])[a0_0xe54586(0x3bd)](a0_0xe54586(0x1f5),new Ot(...ie)[a0_0xe54586(0x1a8)]);var m=class{constructor(..._0x2cfceb){const _0x4859fc=a0_0xe54586;throw{'status':0x190,'error':_0x4859fc(0x701),'message':_0x2cfceb[_0x4859fc(0x767)]>0x0?_0x2cfceb:void 0x0};}},ae=class{constructor(..._0x17bd54){const _0x59602b=a0_0xe54586;throw{'status':0x191,'error':'Unauthorized','message':_0x17bd54[_0x59602b(0x767)]>0x0?_0x17bd54:void 0x0};}},Q=class{constructor(..._0x43cb52){const _0xd89859=a0_0xe54586;throw{'status':0x193,'error':_0xd89859(0x723),'message':_0x43cb52[_0xd89859(0x767)]>0x0?_0x43cb52:void 0x0};}},U=class{constructor(..._0x24b941){const _0x4a2896=a0_0xe54586;throw{'status':0x194,'error':_0x4a2896(0x309),'message':_0x24b941['length']>0x0?_0x24b941:void 0x0};}},I=class{constructor(..._0x2e5cd1){const _0xda8d00=a0_0xe54586;throw{'status':0x1f4,'error':_0xda8d00(0x3a8),'message':_0x2e5cd1[_0xda8d00(0x767)]>0x0?_0x2e5cd1:void 0x0};}},de=require(a0_0xe54586(0x5d0));async function vs(_0x55eb57){const _0x5147e6=a0_0xe54586;let _0x3eb87e=new R(vs[_0x5147e6(0x3dc)]),_0x45ebec=$[_0x5147e6(0x5a5)](),_0x41b1ca=_0x45ebec['db'](S['get'](_0x5147e6(0x435))['CONNECTION'][_0x5147e6(0x65e)]+_0x5147e6(0x34e))[_0x5147e6(0x562)](_0x55eb57),_0x2ae165=async(_0x2755d7,_0x1e2f58)=>{const _0x13389c=_0x5147e6;try{return await _0x45ebec[_0x13389c(0x1a5)](),await _0x41b1ca['replaceOne']({'_id':_0x1e2f58},JSON[_0x13389c(0x229)](JSON['stringify'](_0x2755d7,de[_0x13389c(0x3c9)][_0x13389c(0x6c7)])),{'upsert':!0x0});}catch{}},_0x5f19ea=async _0x300a33=>{const _0x4c7ce8=_0x5147e6;try{await _0x45ebec['connect']();let _0xbd2ed1=await _0x41b1ca[_0x4c7ce8(0x68c)]({'_id':_0x300a33}),_0x41b08e=JSON[_0x4c7ce8(0x548)](_0xbd2ed1);return JSON[_0x4c7ce8(0x229)](_0x41b08e,de[_0x4c7ce8(0x3c9)][_0x4c7ce8(0x70e)]);}catch{}},_0x5be1f7=async _0xe8f8d=>{const _0x3c94f1=_0x5147e6;try{return await _0x45ebec['connect'](),await _0x41b1ca[_0x3c94f1(0x183)]({'_id':_0xe8f8d});}catch{}},_0x812c51=await _0x5f19ea(_0x5147e6(0x126))||(0x0,de[_0x5147e6(0x1da)])();return{'state':{'creds':_0x812c51,'keys':{'get':async(_0x5ce315,_0x285014)=>{const _0x38e52d=_0x5147e6;let _0x32e5d6={};return await Promise[_0x38e52d(0x788)](_0x285014[_0x38e52d(0x588)](async _0x5e2a7f=>{const _0x4ca162=_0x38e52d;let _0x231f59=await _0x5f19ea(_0x5ce315+'-'+_0x5e2a7f);_0x5ce315===_0x4ca162(0x479)&&_0x231f59&&(_0x231f59=de[_0x4ca162(0x506)][_0x4ca162(0x49a)]['AppStateSyncKeyData'][_0x4ca162(0x265)](_0x231f59)),_0x32e5d6[_0x5e2a7f]=_0x231f59;})),_0x32e5d6;},'set':async _0x42310b=>{const _0xb12333=_0x5147e6;let _0x9c2d14=[];for(let _0x12e6e3 in _0x42310b)for(let _0x25b7c7 in _0x42310b[_0x12e6e3]){let _0x512ef6=_0x42310b[_0x12e6e3][_0x25b7c7],_0x1e45eb=_0x12e6e3+'-'+_0x25b7c7;_0x9c2d14[_0xb12333(0x2d6)](_0x512ef6?_0x2ae165(_0x512ef6,_0x1e45eb):_0x5be1f7(_0x1e45eb));}await Promise['all'](_0x9c2d14);}}},'saveCreds':async()=>_0x2ae165(_0x812c51,_0x5147e6(0x126))};}var Os=O(require(a0_0xe54586(0x3dd))),Ts=O(require(a0_0xe54586(0x78c))),Dt=require(a0_0xe54586(0x5d0)),mi=require(a0_0xe54586(0x63a)),xt=require('@whiskeysockets/baileys'),It;function Mo(_0xd934b6){const _0x46e1a6=a0_0xe54586;return It||(It=(0x0,mi[_0x46e1a6(0x631)])({'url':_0xd934b6[_0x46e1a6(0x765)]}),It[_0x46e1a6(0x1a5)]()),It;}var ce=class c{constructor(_0x1f86a0,_0x54f3db){const _0x58c641=a0_0xe54586;this[_0x58c641(0x5c5)]=_0x1f86a0,this[_0x58c641(0x5bf)]=_0x54f3db,this['logger']=new R(c[_0x58c641(0x3dc)]),this['client']=Mo(_0x1f86a0);}set[a0_0xe54586(0x1ea)](_0x21b8da){this['instanceName']=_0x21b8da;}async[a0_0xe54586(0xfd)](){const _0x498032=a0_0xe54586;try{return await this[_0x498032(0x42c)]['sendCommand']([_0x498032(0x25d),this[_0x498032(0x5c5)][_0x498032(0x23c)]+':*']);}catch(_0x1e240d){this['logger']['error'](_0x1e240d);}}async['writeData'](_0xa00fa8,_0x4009ab){const _0x5045d0=a0_0xe54586;try{let _0x797ef2=JSON[_0x5045d0(0x548)](_0x4009ab,xt[_0x5045d0(0x3c9)]['replacer']);return await this[_0x5045d0(0x42c)][_0x5045d0(0x71c)](this['redisEnv'][_0x5045d0(0x23c)]+':'+this[_0x5045d0(0x5bf)],_0xa00fa8,_0x797ef2);}catch(_0x5d7386){this[_0x5045d0(0x2da)][_0x5045d0(0x418)](_0x5d7386);}}async[a0_0xe54586(0x204)](){const _0x51e7f6=a0_0xe54586;try{let _0x2e83bf=await this['client'][_0x51e7f6(0x4b8)](this[_0x51e7f6(0x5c5)][_0x51e7f6(0x23c)]+':'+this[_0x51e7f6(0x5bf)]);if(_0x2e83bf){for(let _0x5f022e in _0x2e83bf)Object[_0x51e7f6(0x782)]['hasOwnProperty'][_0x51e7f6(0x536)](_0x2e83bf,_0x5f022e)&&(_0x2e83bf[_0x5f022e]=JSON['parse'](_0x2e83bf[_0x5f022e],xt['BufferJSON'][_0x51e7f6(0x70e)]));return _0x2e83bf;}}catch(_0x4a3c0e){this[_0x51e7f6(0x2da)][_0x51e7f6(0x418)](_0x4a3c0e);}}async['readData'](_0x398120){const _0x30ca66=a0_0xe54586;try{let _0x52e16a=await this[_0x30ca66(0x42c)][_0x30ca66(0x522)](this['redisEnv'][_0x30ca66(0x23c)]+':'+this[_0x30ca66(0x5bf)],_0x398120);if(_0x52e16a)return JSON[_0x30ca66(0x229)](_0x52e16a,xt[_0x30ca66(0x3c9)][_0x30ca66(0x70e)]);}catch(_0x116426){this[_0x30ca66(0x2da)][_0x30ca66(0x418)](_0x116426);}}async['removeData'](_0x2bf0a2){const _0x2ba987=a0_0xe54586;try{return await this[_0x2ba987(0x42c)][_0x2ba987(0x1c4)](this[_0x2ba987(0x5c5)][_0x2ba987(0x23c)]+':'+this[_0x2ba987(0x5bf)],_0x2bf0a2);}catch(_0x2fdabf){this[_0x2ba987(0x2da)][_0x2ba987(0x418)](_0x2fdabf);}}async[a0_0xe54586(0x350)](_0x3d0a7e){const _0x4100fa=a0_0xe54586;try{return await this[_0x4100fa(0x42c)]['del'](_0x3d0a7e||this[_0x4100fa(0x5c5)]['PREFIX_KEY']+':'+this[_0x4100fa(0x5bf)]);}catch(_0x180654){this[_0x4100fa(0x2da)][_0x4100fa(0x418)](_0x180654);}}};async function Ns(_0x573df3,_0x48f6e6){const _0x524b38=a0_0xe54586;let _0x4d6bc7=new R(Ns['name']),_0x2f779d=new ce(_0x573df3,_0x48f6e6),_0x493bb1=async(_0x10793a,_0xbbd34e)=>{const _0x3372a9=a0_0x4692;try{return await _0x2f779d['writeData'](_0xbbd34e,_0x10793a);}catch(_0x1ae3a9){return _0x4d6bc7['error']({'localError':_0x3372a9(0x214),'error':_0x1ae3a9});}},_0x98830a=async _0x3f190d=>{const _0x59cd00=a0_0x4692;try{return await _0x2f779d[_0x59cd00(0x246)](_0x3f190d);}catch(_0x3da267){_0x4d6bc7[_0x59cd00(0x418)]({'readData':_0x59cd00(0x214),'error':_0x3da267});return;}},_0x2e42bb=async _0x50fbdf=>{const _0x130779=a0_0x4692;try{return await _0x2f779d['removeData'](_0x50fbdf);}catch(_0x2eb59c){_0x4d6bc7[_0x130779(0x418)]({'readData':_0x130779(0x3d5),'error':_0x2eb59c});}},_0x4452b2=await _0x98830a(_0x524b38(0x126))||(0x0,Dt[_0x524b38(0x1da)])();return{'state':{'creds':_0x4452b2,'keys':{'get':async(_0x4b727d,_0x5099ee)=>{let _0x432f6f={};return await Promise['all'](_0x5099ee['map'](async _0x3823b9=>{const _0x2e4188=a0_0x4692;let _0x469c02=await _0x98830a(_0x4b727d+'-'+_0x3823b9);_0x4b727d===_0x2e4188(0x479)&&_0x469c02&&(_0x469c02=Dt[_0x2e4188(0x506)][_0x2e4188(0x49a)]['AppStateSyncKeyData'][_0x2e4188(0x265)](_0x469c02)),_0x432f6f[_0x3823b9]=_0x469c02;})),_0x432f6f;},'set':async _0x47ca06=>{const _0x2e2e80=_0x524b38;let _0x39eede=[];for(let _0x483125 in _0x47ca06)for(let _0x365cc7 in _0x47ca06[_0x483125]){let _0x2bf237=_0x47ca06[_0x483125][_0x365cc7],_0x513132=_0x483125+'-'+_0x365cc7;_0x39eede['push'](_0x2bf237?await _0x493bb1(_0x2bf237,_0x513132):await _0x2e42bb(_0x513132));}await Promise[_0x2e2e80(0x788)](_0x39eede);}}},'saveCreds':async()=>await _0x493bb1(_0x4452b2,'creds')};}var j=O(require('fs')),Me=require('uuid'),jt=O(require('sharp')),Lt=require(a0_0xe54586(0x364)),Co=a0_0xe54586(0x6ea)['trim'](),_t=Co['split']('\x0a')[a0_0xe54586(0x588)](_0x3a0440=>{const _0x3ae4d0=a0_0xe54586;let _0x29f420=_0x3a0440[_0x3ae4d0(0x6fa)](':'),_0x310304={'host':_0x29f420[0x0],'port':_0x29f420[0x1],'protocol':'http'};return _0x29f420[_0x3ae4d0(0x767)]===0x4&&(_0x310304['username']=_0x29f420[0x2],_0x310304[_0x3ae4d0(0x66d)]=_0x29f420[0x3]),_0x310304;});function fi(_0x5bd868){const _0x270037=a0_0xe54586;return _t[_0x270037(0x43d)](_0x4c3758=>_0x4c3758['host']===_0x5bd868)||null;}function wi(){const _0x209bdf=a0_0xe54586;if(_t[_0x209bdf(0x767)]===0x0)return null;let _0x68c721=Math['floor'](Math[_0x209bdf(0x6f2)]()*_t[_0x209bdf(0x767)]);return _t[_0x68c721];}function Rs(_0x578c07){const _0x2e4f0a=a0_0xe54586;let _0x1e05c3=_0x3f5c0d=>typeof _0x3f5c0d=='string'&&_0x3f5c0d['length']>0x0,_0x39e978=_0x1cd9e0=>{let _0x52b622=parseInt(_0x1cd9e0,0xa);return!isNaN(_0x52b622)&&_0x52b622>0x0&&_0x52b622<=0xffff;},_0x90c7ef=_0x3f299e=>typeof _0x3f299e==_0x2e4f0a(0x4c8)&&_0x3f299e[_0x2e4f0a(0x767)]>0x0;return _0x578c07&&_0x1e05c3(_0x578c07[_0x2e4f0a(0x4de)])&&_0x39e978(_0x578c07[_0x2e4f0a(0x1b4)])&&(!_0x578c07[_0x2e4f0a(0x508)]||_0x90c7ef(_0x578c07[_0x2e4f0a(0x508)]))&&(!_0x578c07[_0x2e4f0a(0x66d)]||_0x90c7ef(_0x578c07[_0x2e4f0a(0x66d)]))&&(_0x578c07[_0x2e4f0a(0x2fd)]===_0x2e4f0a(0x65b)||_0x578c07[_0x2e4f0a(0x2fd)]===_0x2e4f0a(0x492));}var Ft=require(a0_0xe54586(0x4d8)),Is=a0_0xe54586(0x73d),Ci,le=null,yi=null,tt=null,Eo=0x3,vo=null,ee=S[a0_0xe54586(0x6a4)](a0_0xe54586(0x411))[a0_0xe54586(0x93)][a0_0xe54586(0x798)];async function No(){const _0x21ebe3=a0_0xe54586;let _0x4cbcee=await Se['findOne']();le=_0x4cbcee?.[_0x21ebe3(0x280)]??null,vo=_0x4cbcee?.[_0x21ebe3(0x5b6)]??null,Is=_0x4cbcee?.[_0x21ebe3(0x63f)]??_0x21ebe3(0x73d),Ci=_0x4cbcee?.[_0x21ebe3(0x68d)]??xs??'uazapi',console[_0x21ebe3(0x2c6)](_0x4cbcee);}async function Ro(){await No();}Ro();var Ce=class c{constructor(_0x21b5a5,_0x45fd33,_0x1009c2){const _0x5a7a89=a0_0xe54586;this[_0x5a7a89(0x291)]=_0x21b5a5,this[_0x5a7a89(0x467)]=_0x45fd33,this[_0x5a7a89(0x6af)]=_0x1009c2,this[_0x5a7a89(0x665)]=null,this[_0x5a7a89(0x2da)]=new R(c[_0x5a7a89(0x3dc)]),this['instance']={},this[_0x5a7a89(0x452)]={},this[_0x5a7a89(0x109)]={'state':_0x5a7a89(0x29c)},this[_0x5a7a89(0x18f)]=(0x0,F['join'])(re,_0x5a7a89(0x26d)),this['msgRetryCounterCache']=new Ts[(_0x5a7a89(0x2f8))](),this[_0x5a7a89(0x255)]=new Ts[(_0x5a7a89(0x2f8))](),this['endSession']=!0x1,this[_0x5a7a89(0x52a)]={'status.instance':_0x5a7a89(0x59f),'connection.update':'/wa-connection-update','qrcode.updated':_0x5a7a89(0x711),'messages.upsert':'/wa-message','send.message':_0x5a7a89(0x6dc),'messages.update':_0x5a7a89(0xb4),'group.upsert':_0x5a7a89(0x5da),'group.update':_0x5a7a89(0x5da),'group-participants.update':_0x5a7a89(0x5da),'messages.set':_0x5a7a89(0x627),'contacts.set':_0x5a7a89(0x585),'contacts.upsert':'/wa-contacts','contacts.update':_0x5a7a89(0x585),'presence.update':'/wa-presence','chats.set':_0x5a7a89(0x547),'chats.update':_0x5a7a89(0x547),'chats.upsert':_0x5a7a89(0x547),'chats.delete':_0x5a7a89(0x547)},this[_0x5a7a89(0x53c)]=0x0,this[_0x5a7a89(0x5c4)]=[],this[_0x5a7a89(0x273)]=0xa,this[_0x5a7a89(0x400)]=0xea60,this['isRunning']=!0x1,this[_0x5a7a89(0x3a5)]={'chats.upsert':async(_0x170032,_0x5f59ca)=>{const _0xe5d2d7=_0x5a7a89;let _0x44c138=[];for await(let _0x44c015 of _0x170032)_0x44c138['push']({'_id':_0x44c015['id'],'owner':this['instance'][_0xe5d2d7(0x494)],'group':_0x44c015['id'][_0xe5d2d7(0x3fa)](_0xe5d2d7(0x721)),'name':_0x44c015[_0xe5d2d7(0x3dc)]||_0x44c015[_0xe5d2d7(0x3de)]||null,'contactname':null,'lastmsg':_0x44c015[_0xe5d2d7(0x288)]&&_0x44c015[_0xe5d2d7(0x288)][_0xe5d2d7(0x27f)]()[_0xe5d2d7(0x767)]<0xd?_0x44c015['conversationTimestamp']*0x3e8:_0x44c015['conversationTimestamp']||null,'archived':_0x44c015[_0xe5d2d7(0x285)]||!0x1,'unreadcount':_0x44c015[_0xe5d2d7(0x6ec)]||0x0,'ephemeralExpiration':_0x44c015[_0xe5d2d7(0x42a)]||0x0});this[_0xe5d2d7(0x6ba)]('chats.upsert',_0x44c138);},'chats.update':async(_0x34e8d3,_0x4bca5e)=>{const _0x1d63df=_0x5a7a89;for(let _0x40b504 of _0x34e8d3){let _0x116581={'_id':_0x40b504['id'],'owner':this[_0x1d63df(0x75a)][_0x1d63df(0x494)],'archived':_0x40b504['archived'],'muteEndTime':_0x40b504[_0x1d63df(0x181)],'ephemeralExpiration':_0x40b504[_0x1d63df(0x42a)]},_0x3698fa=!0x1,_0x4dc565={};_0x116581[_0x1d63df(0x285)]!=null&&(this[_0x1d63df(0x2da)][_0x1d63df(0x1bb)](this[_0x1d63df(0x5bf)]+'\x20('+this[_0x1d63df(0x75a)]['wuid']+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x40b504['id']+_0x1d63df(0x519)+_0x40b504[_0x1d63df(0x285)]),_0x3698fa=!0x0,_0x4dc565[_0x1d63df(0x285)]=_0x40b504[_0x1d63df(0x285)]),_0x1d63df(0x181)in _0x40b504&&(this[_0x1d63df(0x2da)][_0x1d63df(0x1bb)](this[_0x1d63df(0x5bf)]+'\x20('+this[_0x1d63df(0x75a)]['wuid']+_0x1d63df(0xdd)+_0x40b504['id']+_0x1d63df(0x519)+(_0x40b504[_0x1d63df(0x181)]??'0')),_0x3698fa=!0x0,_0x4dc565[_0x1d63df(0x181)]=_0x40b504['muteEndTime']??0x0),_0x1d63df(0x42a)in _0x40b504&&(this['logger']['verbose'](this[_0x1d63df(0x5bf)]+'\x20('+this[_0x1d63df(0x75a)][_0x1d63df(0x494)]+_0x1d63df(0x555)+_0x40b504['id']+_0x1d63df(0x519)+(_0x40b504[_0x1d63df(0x42a)]!==void 0x0?_0x40b504[_0x1d63df(0x42a)]:_0x1d63df(0x44d))),_0x4dc565[_0x1d63df(0x42a)]=_0x40b504[_0x1d63df(0x42a)]===null?0x0:_0x40b504[_0x1d63df(0x42a)],_0x3698fa=!0x0);let _0x3c09ae;_0x3698fa&&(_0x3c09ae=await this['repository'][_0x1d63df(0x556)][_0x1d63df(0x1fd)]({'where':{'_id':_0x40b504['id']}},_0x4dc565,this[_0x1d63df(0x75a)][_0x1d63df(0x494)])),_0x3c09ae&&J(this['instanceName'],_0x1d63df(0xc9),{'chat':_0x3c09ae});}},'chats.delete':async _0x2db61b=>{const _0x317deb=_0x5a7a89;for(let _0x442549 of _0x2db61b)if(_0x442549[_0x317deb(0x3fa)]('@g.us')){await this['repository'][_0x317deb(0x556)][_0x317deb(0x790)]({'where':{'_id':_0x442549}},this[_0x317deb(0x75a)]['wuid']);let _0x58aa37={'where':{'key':{'remoteJid':_0x442549}}};await this[_0x317deb(0x6af)]['message'][_0x317deb(0x790)](_0x58aa37,this[_0x317deb(0x75a)][_0x317deb(0x494)]);}else{await this[_0x317deb(0x6af)][_0x317deb(0x556)]['updateOne']({'where':{'_id':_0x442549}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x317deb(0x494)]);let _0x151cdf={'where':{'key':{'remoteJid':_0x442549}}};await this[_0x317deb(0x6af)][_0x317deb(0x406)][_0x317deb(0x790)](_0x151cdf,this[_0x317deb(0x75a)][_0x317deb(0x494)]);}this['sendDataWebhook'](_0x317deb(0x67a),[..._0x2db61b]);}},this['contactHandle']={'contacts.upsert':async(_0x6adfeb,_0xb63d2e)=>{const _0x541e80=_0x5a7a89;let _0x5bf7ca=await this[_0x541e80(0x6af)][_0x541e80(0x51f)][_0x541e80(0x43d)]({'where':{}},this['instance'][_0x541e80(0x494)]),_0x2e23b4=[];for await(let _0x814114 of _0x6adfeb)_0x5bf7ca[_0x541e80(0x43d)](_0x2a2619=>_0x2a2619[_0x541e80(0x761)]===_0x814114['id'])||_0x2e23b4['push']({'_id':_0x814114['id'],'pushName':_0x814114?.['name']||_0x814114?.['verifiedName'],'owner':this['instance'][_0x541e80(0x494)]});this[_0x541e80(0x6ba)](_0x541e80(0x5bd),_0x2e23b4),await this['repository']['contact'][_0x541e80(0x1b7)](_0x2e23b4);},'contacts.update':async(_0x194613,_0x182788)=>{const _0x174afd=_0x5a7a89;let _0x45c3e5=[];for await(let _0xa5076c of _0x194613)_0x45c3e5['push']({'_id':_0xa5076c['id'],'pushName':_0xa5076c?.[_0x174afd(0x3dc)]??_0xa5076c?.[_0x174afd(0x47a)],'owner':this[_0x174afd(0x75a)]['wuid']});this[_0x174afd(0x6ba)]('contacts.update',_0x45c3e5);}},this[_0x5a7a89(0x769)]={'messaging-history.set':async({messages:_0x41c434,chats:_0x276688,isLatest:_0x112d01},_0x4b3a3b)=>{const _0x5b698b=_0x5a7a89;if(_0x112d01){let _0x29cd41=await Promise['all'](_0x276688[_0x5b698b(0x588)](async _0x10409=>({'_id':_0x10409['id'],'owner':this[_0x5b698b(0x75a)][_0x5b698b(0x494)],'group':_0x10409['id'][_0x5b698b(0x3fa)](_0x5b698b(0x721)),'name':_0x10409['name']||_0x10409[_0x5b698b(0x3de)]||_0x10409[_0x5b698b(0x508)]||null,'contactname':null,'lastmsg':_0x10409[_0x5b698b(0x288)]&&_0x10409[_0x5b698b(0x288)]['toString']()[_0x5b698b(0x767)]<0xd?_0x10409[_0x5b698b(0x288)]*0x3e8:_0x10409['conversationTimestamp']||null,'archived':_0x10409[_0x5b698b(0x285)]||!0x1,'unreadcount':_0x10409[_0x5b698b(0x6ec)]||0x0,'ephemeralExpiration':_0x10409['ephemeralExpiration']||0x0,'muteEndTime':_0x10409[_0x5b698b(0x181)]||0x0})));this[_0x5b698b(0x6ba)](_0x5b698b(0x5eb),_0x29cd41),await this[_0x5b698b(0x577)](_0x29cd41,_0x4b3a3b);}let _0x170ab1=[],_0x41f70e=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x5da246]of Object[_0x5b698b(0x1ed)](_0x41c434)){if(_0x5da246[_0x5b698b(0x406)]?.[_0x5b698b(0xef)]||_0x5da246[_0x5b698b(0x406)]?.[_0x5b698b(0x744)]||!_0x5da246[_0x5b698b(0x406)]||_0x5da246[_0x5b698b(0x57b)][_0x5b698b(0x2f3)]==='status@broadcast'||(Os['default'][_0x5b698b(0x792)](_0x5da246?.[_0x5b698b(0x34f)])&&(_0x5da246[_0x5b698b(0x34f)]=_0x5da246[_0x5b698b(0x34f)]?.['toNumber']()),_0x5da246[_0x5b698b(0x34f)]&&_0x5da246[_0x5b698b(0x34f)][_0x5b698b(0x27f)]()['length']<0xd&&(_0x5da246[_0x5b698b(0x34f)]=_0x5da246[_0x5b698b(0x34f)]*0x3e8),_0x5da246['messageTimestamp']<_0x41f70e))continue;let _0x5626fe=(0x0,w[_0x5b698b(0x1ee)])(_0x5da246['message']),_0x2ae122=(0x0,w[_0x5b698b(0x4b4)])(_0x5626fe),{message_normalized:_0x2a9c79}=this[_0x5b698b(0x5d9)](_0x5626fe,_0x2ae122,null);Object[_0x5b698b(0x25d)](_0x2a9c79)[_0x5b698b(0x767)]>0x0&&_0x170ab1[_0x5b698b(0x2d6)]({'_id':_0x5da246['key']['id'],'key':_0x5da246[_0x5b698b(0x57b)],'pushName':_0x5da246[_0x5b698b(0x17f)],'participant':_0x5da246[_0x5b698b(0xac)],'message':_0x5626fe,'messageType':_0x2ae122,'message_normalized':{'key':_0x5da246[_0x5b698b(0x57b)],'pushName':_0x5da246[_0x5b698b(0x17f)],'messageTimestamp':_0x5da246['messageTimestamp'],..._0x2a9c79},'messageTimestamp':_0x5da246[_0x5b698b(0x34f)],'owner':this[_0x5b698b(0x75a)][_0x5b698b(0x494)]});}_0x4b3a3b[_0x5b698b(0x4f6)]&&_0x170ab1[_0x5b698b(0x767)]>0x0&&(this[_0x5b698b(0x2da)][_0x5b698b(0x1bb)](this['instanceName']+'\x20('+this[_0x5b698b(0x75a)][_0x5b698b(0x494)]+_0x5b698b(0x601)+_0x170ab1[_0x5b698b(0x767)]+_0x5b698b(0xbe)+this[_0x5b698b(0x75a)][_0x5b698b(0x494)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x5b698b(0x6af)][_0x5b698b(0x406)][_0x5b698b(0x1b7)]([..._0x170ab1],this['instance'][_0x5b698b(0x494)])),this[_0x5b698b(0x6ba)](_0x5b698b(0x155),[..._0x170ab1]),_0x41c434=void 0x0;},'messages.upsert':async({messages:_0x226f2c,type:_0x38fc18},_0x3dfe77)=>{const _0x2775ed=_0x5a7a89;let _0x15b683=_0x226f2c[0x0],_0x456843=_0x15b683['messageStubParameters']&&_0x15b683[_0x2775ed(0xf5)][0x0]===_0x2775ed(0x2ba);if(this['localWebhook']?.['groups_ignore']&&_0x15b683[_0x2775ed(0x57b)][_0x2775ed(0x2f3)][_0x2775ed(0x1d8)](_0x2775ed(0x721))){this[_0x2775ed(0x2da)]['verbose'](this[_0x2775ed(0x5bf)]+'\x20('+this[_0x2775ed(0x75a)]['wuid']+'):\x20[messages.upsert]\x20group\x20ignored');return;}if(_0x456843){for(let _0x3f0552=0x0;_0x3f0552<0x5;_0x3f0552++)try{await this[_0x2775ed(0x42c)][_0x2775ed(0x1ac)](JSON[_0x2775ed(0x229)](_0x15b683['messageStubParameters'][0x1],w[_0x2775ed(0x3c9)][_0x2775ed(0x70e)])),this[_0x2775ed(0x2da)][_0x2775ed(0x6e5)](this[_0x2775ed(0x5bf)]+'\x20('+this[_0x2775ed(0x75a)][_0x2775ed(0x494)]+'):\x20Mensagem\x20recuperada\x20após\x20'+(_0x3f0552+0x1)+_0x2775ed(0x236)+_0x15b683[_0x2775ed(0x57b)]['id']+'\x20-\x20'+_0x15b683['key'][_0x2775ed(0x2f3)]+')');break;}catch(_0x24c969){if(this[_0x2775ed(0x2da)]['error'](this[_0x2775ed(0x5bf)]+'\x20('+this[_0x2775ed(0x75a)]['wuid']+'):\x20Erro\x20ao\x20tentar\x20recuperar\x20a\x20mensagem.\x20Tentativa\x20'+(_0x3f0552+0x1)+_0x2775ed(0x3ec)+_0x15b683[_0x2775ed(0x57b)]['id']+_0x2775ed(0x480)+_0x15b683[_0x2775ed(0x57b)]['remoteJid']+')'),_0x3f0552===0x4)throw _0x24c969;await new Promise(_0xe684d8=>setTimeout(_0xe684d8,0x7d0));}}if(_0x38fc18!=='notify'||!_0x15b683?.[_0x2775ed(0x406)]||_0x15b683[_0x2775ed(0x406)]?.[_0x2775ed(0xef)]||_0x15b683[_0x2775ed(0x406)]['senderKeyDistributionMessage']||_0x15b683[_0x2775ed(0x57b)][_0x2775ed(0x2f3)]===_0x2775ed(0x745))return;let _0x5ece51=null,_0x557179=null;try{_0x5ece51=await this[_0x2775ed(0x387)](_0x15b683),_0x557179=_0x5ece51?_0x5ece51[_0x2775ed(0x569)](','):null;}catch(_0x4c50b2){this[_0x2775ed(0x2da)]['verbose'](this['instanceName']+'\x20('+this[_0x2775ed(0x75a)]['wuid']+_0x2775ed(0x601)+(_0x4c50b2 instanceof Error?_0x4c50b2[_0x2775ed(0x406)]:JSON['stringify'](_0x4c50b2,null,0x2))),_0x557179=_0x2775ed(0x39a);}this[_0x2775ed(0x42c)]['sendPresenceUpdate'](_0x2775ed(0x9a)),Os[_0x2775ed(0x2f8)]['isLong'](_0x15b683['messageTimestamp'])&&(_0x15b683['messageTimestamp']=_0x15b683[_0x2775ed(0x34f)]?.['toNumber']()),_0x15b683[_0x2775ed(0x34f)]&&_0x15b683['messageTimestamp'][_0x2775ed(0x27f)]()[_0x2775ed(0x767)]<0xd&&(_0x15b683[_0x2775ed(0x34f)]=_0x15b683['messageTimestamp']*0x3e8);let _0x14d381=_0x15b683[_0x2775ed(0x406)],_0x4cdf26=(0x0,w[_0x2775ed(0x1ee)])(_0x14d381),_0x540293=(0x0,w[_0x2775ed(0x4b4)])(_0x4cdf26),{messageContent:_0x46d889,message_normalized:_0x4ddca0}=this['normalizeMessage'](_0x4cdf26,_0x540293,_0x557179);_0x540293===_0x2775ed(0xef)&&_0x46d889?.[_0x2775ed(0x3cd)]&&(_0x540293='editedMessage');let _0x1929f8,_0x220441=_0x15b683[_0x2775ed(0x57b)][_0x2775ed(0x2f3)][_0x2775ed(0x3fa)](_0x2775ed(0x721));if(_0x15b683[_0x2775ed(0x57b)][_0x2775ed(0x593)])_0x1929f8=this[_0x2775ed(0x75a)]['profilePictureUrl'];else{let _0x3f0c8e=_0x220441?_0x15b683['key'][_0x2775ed(0xac)]:_0x15b683[_0x2775ed(0x57b)][_0x2775ed(0x2f3)];_0x1929f8=(await this[_0x2775ed(0x1b3)](_0x3f0c8e,_0x15b683['pushName'],!0x1))[_0x2775ed(0x289)][_0x2775ed(0xa4)];}let _0x17eab4={'_id':_0x15b683[_0x2775ed(0x57b)]['id'],'key':_0x15b683[_0x2775ed(0x57b)],'isGroup':_0x220441,'profilePictureUrl':_0x1929f8,'pushName':_0x15b683[_0x2775ed(0x17f)],'message':_0x4cdf26,'messageType':_0x540293,'message_normalized':{'key':_0x15b683[_0x2775ed(0x57b)],'pushName':_0x15b683['pushName'],'messageTimestamp':_0x15b683[_0x2775ed(0x34f)],'source':(0x0,w[_0x2775ed(0x608)])(_0x15b683[_0x2775ed(0x57b)]['id']),..._0x4ddca0},'messageTimestamp':_0x15b683[_0x2775ed(0x34f)],'owner':this[_0x2775ed(0x75a)][_0x2775ed(0x494)],'source':(0x0,w['getDevice'])(_0x15b683[_0x2775ed(0x57b)]['id']),'expiration':_0x46d889?.['contextInfo']?.[_0x2775ed(0x594)]||0x0};_0x46d889||(console[_0x2775ed(0x418)](_0x2775ed(0x6f8)),this[_0x2775ed(0x2da)][_0x2775ed(0x418)](_0x17eab4)),this['logger'][_0x2775ed(0x2c6)](this[_0x2775ed(0x5bf)]+'\x20('+this[_0x2775ed(0x75a)][_0x2775ed(0x494)]+_0x2775ed(0x601)+(_0x17eab4[_0x2775ed(0x57b)]?.[_0x2775ed(0x593)]?'enviado\x20para':_0x2775ed(0x669))+'\x20['+_0x17eab4['key']?.[_0x2775ed(0x2f3)][_0x2775ed(0x6fd)](_0x2775ed(0x420),'')+_0x2775ed(0x41a)+_0x17eab4[_0x2775ed(0x2ec)]+')'),_0x17eab4[_0x2775ed(0x104)]?.[_0x2775ed(0x37c)]&&this['logger'][_0x2775ed(0x2c6)](_0x15b683['key']['id']+':\x20'+_0x17eab4['message_normalized']?.[_0x2775ed(0x37c)]),await this[_0x2775ed(0x6af)][_0x2775ed(0x406)]['insert']([_0x17eab4],this[_0x2775ed(0x75a)][_0x2775ed(0x494)]),this[_0x2775ed(0x6ba)]('messages.upsert',_0x17eab4),J(this[_0x2775ed(0x5bf)],'messages',{'message':_0x17eab4}),_0x15b683[_0x2775ed(0x57b)][_0x2775ed(0x2f3)]!==_0x2775ed(0x745)&&await this[_0x2775ed(0x4ea)](_0x3dfe77,_0x17eab4,'MESSAGES_UPSERT');},'messages.update':async(_0x3579b2,_0x379823)=>{const _0x4b0512=_0x5a7a89;let _0x3ae0da={0x0:_0x4b0512(0x52d),0x1:_0x4b0512(0x247),0x2:_0x4b0512(0x34b),0x3:_0x4b0512(0x513),0x4:_0x4b0512(0x541),0x5:_0x4b0512(0x4a7)};for await(let {key:_0x524a18,update:_0x23f766}of _0x3579b2){if(this['localWebhook']?.[_0x4b0512(0x3f6)]&&_0x524a18[_0x4b0512(0x2f3)]['includes']('@g.us')){this['logger'][_0x4b0512(0x1bb)](this['instanceName']+'\x20('+this['instance'][_0x4b0512(0x494)]+'):\x20[messages.update]\x20group\x20ignored');return;}if(_0x524a18[_0x4b0512(0x2f3)]!=='status@broadcast'){let _0x45ed2f=Date['now'](),_0x3ad3e6;_0x23f766[_0x4b0512(0x406)]===null&&_0x23f766[_0x4b0512(0x201)]===void 0x0?_0x3ad3e6=_0x4b0512(0x3ea):_0x3ad3e6=_0x3ae0da[_0x23f766[_0x4b0512(0x201)]];let _0x2c7a44=_0x524a18[_0x4b0512(0x2f3)][_0x4b0512(0x6fd)](/:\d{1,2}@/g,'@'),_0x320022={..._0x524a18,'remoteJid':_0x2c7a44,'status':_0x3ad3e6,'datetime':_0x45ed2f,'owner':this['instance'][_0x4b0512(0x494)]};this[_0x4b0512(0x6ba)](_0x4b0512(0x360),_0x320022),await this[_0x4b0512(0x3b4)](_0x524a18,_0x320022);}}},'labels.association':async({type:_0x282c12,association:_0x30c300})=>{const _0x127845=_0x5a7a89;if(_0x30c300[_0x127845(0x772)]===_0x127845(0xc1)){let _0x452cbf,_0x5a8f5b=0x0;for(;!_0x452cbf&&_0x5a8f5b<this[_0x127845(0x1be)];)_0x452cbf=await this[_0x127845(0x6af)]['chat'][_0x127845(0x68c)]({'where':{'_id':_0x30c300[_0x127845(0x717)]}},this['instance'][_0x127845(0x494)]),_0x452cbf||(_0x5a8f5b++,this[_0x127845(0x2da)][_0x127845(0x6e5)](this['instanceName']+'\x20('+this[_0x127845(0x75a)][_0x127845(0x494)]+_0x127845(0x44b)+_0x30c300[_0x127845(0x717)]+_0x127845(0x53a)+this['delayChatLabel_RETRY_DELAY_MS']+_0x127845(0x3ee)+_0x5a8f5b+'/'+this[_0x127845(0x1be)]+')'),await this[_0x127845(0x629)](this[_0x127845(0x438)]));if(!_0x452cbf){console[_0x127845(0x418)](_0x127845(0x6c6)+_0x30c300[_0x127845(0x717)]+_0x127845(0x2bb)+this[_0x127845(0x1be)]+_0x127845(0x778));return;}switch(_0x282c12){case _0x127845(0x3fd):console['log'](_0x30c300),await this['repository'][_0x127845(0x556)]['updateOne']({'where':{'_id':_0x30c300[_0x127845(0x717)]}},{'leadInfo.etiquetas':_0x30c300['labelId']},this[_0x127845(0x75a)][_0x127845(0x494)],void 0x0,_0x127845(0x66b));break;case'remove':console['log'](_0x30c300),await this[_0x127845(0x6af)][_0x127845(0x556)][_0x127845(0x1fd)]({'where':{'_id':_0x30c300[_0x127845(0x717)]}},{'leadInfo.etiquetas':_0x30c300[_0x127845(0x3c3)]},this['instance']['wuid'],void 0x0,_0x127845(0x2ae));break;default:console[_0x127845(0x418)](_0x127845(0x6ff)+_0x282c12+']');}}},'labels.edit':async _0x4ee921=>{const _0x3f2726=_0x5a7a89;if(!_0x4ee921||!_0x4ee921['id']){console[_0x3f2726(0x418)](_0x3f2726(0x4f5));return;}if(!_0x4ee921[_0x3f2726(0x1b9)]){let _0x4704db=[_0x3f2726(0x142),_0x3f2726(0x297),_0x3f2726(0x543),_0x3f2726(0x493),_0x3f2726(0x6ca),_0x3f2726(0x8f),_0x3f2726(0x281),'#d3a91f',_0x3f2726(0x621),'#d8e651',_0x3f2726(0x4a1),_0x3f2726(0x38d),_0x3f2726(0x4ff),'#f64847',_0x3f2726(0x6e3),_0x3f2726(0x381),_0x3f2726(0x64d),'#b4ebff',_0x3f2726(0x63c),_0x3f2726(0x35f)],_0x1f3908;typeof _0x4ee921[_0x3f2726(0x5ee)]==_0x3f2726(0x335)&&_0x4ee921[_0x3f2726(0x5ee)]>=0x0&&_0x4ee921['color']<_0x4704db[_0x3f2726(0x767)]?_0x1f3908=_0x4704db[_0x4ee921['color']]:(console[_0x3f2726(0x418)](_0x3f2726(0x6e8),_0x4ee921['color']),_0x1f3908='#000000');let _0x2c20e6={'_id':_0x4ee921['id'],'colorHex':_0x1f3908,'color':_0x4ee921?.['color'],'name':_0x4ee921?.[_0x3f2726(0x3dc)],'owner':this[_0x3f2726(0x75a)]['wuid']};await this[_0x3f2726(0x6af)]['label']['updateOne']({'where':{'_id':_0x4ee921['id']}},_0x2c20e6,this[_0x3f2726(0x75a)][_0x3f2726(0x494)]),this[_0x3f2726(0x2da)][_0x3f2726(0x6e5)](this[_0x3f2726(0x5bf)]+'\x20('+this['instance'][_0x3f2726(0x494)]+_0x3f2726(0x9c)+_0x4ee921);}_0x4ee921['deleted']&&(await this[_0x3f2726(0x6af)][_0x3f2726(0x259)][_0x3f2726(0x790)]({'where':{'_id':_0x4ee921['id']}},this[_0x3f2726(0x75a)][_0x3f2726(0x494)]),this[_0x3f2726(0x2da)]['info'](_0x3f2726(0xb5)+_0x4ee921['id']));}},this[_0x5a7a89(0x442)]={'groups.upsert':async _0x55b722=>{const _0x3235a0=_0x5a7a89;this[_0x3235a0(0x452)]?.[_0x3235a0(0x3f6)]||this['sendDataWebhook'](_0x3235a0(0x73c),_0x55b722);for(let _0xc9c4c7 of _0x55b722)await this[_0x3235a0(0x1ec)](_0xc9c4c7);},'groups.update':async _0x29c26f=>{const _0x3e721c=_0x5a7a89;this['localWebhook']?.[_0x3e721c(0x3f6)]||this[_0x3e721c(0x6ba)](_0x3e721c(0x2eb),_0x29c26f);for(let _0x11954b of _0x29c26f)await this['updateGroupWebhook'](_0x11954b);},'group-participants.update':async _0x543995=>{const _0x2eb227=_0x5a7a89;this[_0x2eb227(0x452)]?.[_0x2eb227(0x3f6)]||this[_0x2eb227(0x6ba)](_0x2eb227(0x57a),_0x543995),await this[_0x2eb227(0x545)](_0x543995);}},this[_0x5a7a89(0x1be)]=0x5,this['delayChatLabel_RETRY_DELAY_MS']=0x1388,this['processPollUpdateMessage']=async _0x19df12=>{const _0x223ef6=_0x5a7a89;if(_0x19df12[_0x223ef6(0x406)]?.['pollUpdateMessage']){let _0x4c0f1c=await this[_0x223ef6(0x2b3)](_0x19df12[_0x223ef6(0x406)][_0x223ef6(0x8b)][_0x223ef6(0x393)],!0x0);if(_0x4c0f1c){let _0x474a34=_0x4c0f1c[_0x223ef6(0x57b)]['fromMe']?this['instance']['wuid']+'@s.whatsapp.net':_0x4c0f1c[_0x223ef6(0x57b)]['participant']||_0x4c0f1c[_0x223ef6(0x57b)][_0x223ef6(0x2f3)],_0x2f7c8f=_0x4c0f1c['key']['id'],_0x50ca13=_0x4c0f1c[_0x223ef6(0x406)],_0x1f1484=Buffer['from'](_0x50ca13['messageContextInfo']['messageSecret'][_0x223ef6(0x27f)](_0x223ef6(0x54c)),_0x223ef6(0x54c)),_0x1340fd=(0x0,w[_0x223ef6(0x13a)])(_0x19df12['message'][_0x223ef6(0x8b)][_0x223ef6(0x4b1)],{'pollCreatorJid':_0x474a34,'pollMsgId':_0x2f7c8f,'pollEncKey':_0x1f1484,'voterJid':_0x19df12[_0x223ef6(0x57b)][_0x223ef6(0x593)]?this[_0x223ef6(0x75a)][_0x223ef6(0x494)]+_0x223ef6(0x420):_0x19df12[_0x223ef6(0x57b)][_0x223ef6(0x2f3)][_0x223ef6(0x3fa)]('g.us')?_0x19df12['key'][_0x223ef6(0xac)]:_0x19df12[_0x223ef6(0x57b)][_0x223ef6(0x2f3)]}),_0x2630c7=[],_0x4b04c3=_0x1340fd[_0x223ef6(0x63d)][_0x223ef6(0x588)](_0x3d7098=>Buffer[_0x223ef6(0x40f)](_0x3d7098)[_0x223ef6(0x27f)]('hex'));for(let {optionName:_0x4f4e36}of _0x50ca13[_0x223ef6(0x41e)]?.['options']||_0x50ca13[_0x223ef6(0x5f2)]?.[_0x223ef6(0x11b)]||_0x50ca13[_0x223ef6(0x612)]?.['options'])_0x4b04c3[_0x223ef6(0x334)]((0x0,w[_0x223ef6(0x1b6)])(Buffer[_0x223ef6(0x40f)](_0x4f4e36))[_0x223ef6(0x27f)](_0x223ef6(0x54c)))>-0x1&&_0x2630c7[_0x223ef6(0x2d6)](_0x4f4e36);return _0x2630c7;}}return null;},this[_0x5a7a89(0x5d9)]=(_0x3ee0f7,_0x441d16,_0x23c5a5)=>{const _0x4d5056=_0x5a7a89;try{let _0x46224d=_0x3ee0f7?(0x0,w[_0x4d5056(0x15b)])(_0x3ee0f7)[_0x441d16]:void 0x0,_0x45131={},_0x309bba=null,_0x19d68d=null,_0x27f27d=null;_0x441d16===_0x4d5056(0xef)&&_0x46224d?.[_0x4d5056(0x3cd)]&&(_0x441d16=(0x0,w[_0x4d5056(0x4b4)])(_0x46224d['editedMessage']),_0x309bba=_0x3ee0f7[_0x4d5056(0xef)][_0x4d5056(0x57b)]['id'],_0x46224d=_0x3ee0f7['protocolMessage'][_0x4d5056(0x3cd)][_0x441d16]),_0x3ee0f7[_0x441d16]?.['contextInfo']?.[_0x4d5056(0x459)]&&_0x3ee0f7[_0x441d16]?.[_0x4d5056(0x147)]?.['quotedMessage']&&(_0x19d68d=_0x3ee0f7[_0x441d16][_0x4d5056(0x147)]['stanzaId']),_0x3ee0f7[_0x4d5056(0x468)]&&(_0x27f27d=_0x3ee0f7[_0x4d5056(0x468)][_0x4d5056(0x57b)]['id']);let _0x52bc68;if(_0x46224d&&typeof _0x46224d==_0x4d5056(0x6c9)&&_0x4d5056(0x393)in _0x46224d&&({pollCreationMessageKey:_0x52bc68}=_0x46224d),_0x441d16===_0x4d5056(0x41e)||_0x441d16===_0x4d5056(0x612)||_0x441d16===_0x4d5056(0x5f2)){let _0x260877=_0x46224d['options']['map'](_0x4b9e81=>_0x4b9e81[_0x4d5056(0x74b)])[_0x4d5056(0x569)]('|');_0x45131['convertedOptions']=_0x260877;}let _0x482489='';if(_0x46224d&&(_0x482489+=_0x46224d[_0x4d5056(0x3dc)]?_0x46224d[_0x4d5056(0x3dc)]:'',_0x482489+=_0x46224d[_0x4d5056(0x115)]?'\x20'+_0x46224d[_0x4d5056(0x115)]:'',_0x482489+=_0x46224d[_0x4d5056(0x6fb)]?'\x20'+_0x46224d[_0x4d5056(0x6fb)]:'',_0x482489+=_0x46224d[_0x4d5056(0x3de)]?'\x20'+_0x46224d[_0x4d5056(0x3de)]:''),_0x441d16===_0x4d5056(0x6a5)){_0x482489=(_0x46224d['title']||'')+'\x0a'+(_0x46224d[_0x4d5056(0x1de)]||'')+'\x0a'+(_0x46224d[_0x4d5056(0x5f4)]||'');let _0x4edc97=this[_0x4d5056(0x565)](_0x46224d[_0x4d5056(0x157)]);_0x45131[_0x4d5056(0x49f)]=_0x4edc97;}if(_0x441d16===_0x4d5056(0x471)&&(_0x23c5a5=_0x46224d[_0x4d5056(0x27e)]),_0x46224d&&_0x46224d[_0x4d5056(0x305)]){let _0x218e01=this[_0x4d5056(0x46e)](JSON[_0x4d5056(0x548)](_0x46224d['vcard'],null,0x2));_0x482489=_0x482489+'\x0a'+_0x218e01;}if(_0x46224d){let {sections:_0x397ef9,listType:_0x131aaf,displayName:_0x1ca0d5,vcard:_0x22709d,contactVcard:_0x418d37,name:_0x13cf4a,caption:_0x33dac6,conversation:_0xb32286,pollCreationMessageKey:_0x340d00,footerText:_0x536368,contentText:_0x11b612,pageCount:_0x58ac37,headerType:_0x1f0c57,isAvatar:_0x2dd161,isAnimated:_0x479dbe,fallbackLc:_0x5d70b8,fallbackLg:_0x1365cd,namespace:_0x5e6e7a,elementName:_0x2f629d,localizableParams:_0x439c39,viewOnce:_0x52ad0e,height:_0x2d5384,width:_0x1c7287,key:_0x324504,firstScanLength:_0x31f5e0,firstScanSidecar:_0x172b2a,gifPlayback:_0x2b4810,gifAttribution:_0x1ced91,midQualityFileSha256:_0x2449c6,scansSidecar:_0x4e0893,streamingSidecar:_0x445cbd,thumbnailHeight:_0x50f056,thumbnailWidth:_0x108149,thumbnailEncSha256:_0xd1edf,thumbnailDirectPath:_0x3028f2,canonicalUrl:_0x4853a4,matchedText:_0x25672d,previewType:_0x286145,thumbnailSha256:_0x3dde4a,deviceListMetadataVersion:_0x39bdf8,inviteLinkGroupTypeV2:_0x3dd2bb,interactiveAnnotations:_0x313db7,scanLengths:_0x151692,jpegThumbnail:_0x2b2f7e,url:_0x535779,mediaKeyTimestamp:_0x1538fa,waveform:_0x10d94c,stickerSentTs:_0x5b7e69,firstFrameLength:_0x2a3923,fileEncSha256:_0x4b3289,contextInfo:_0x42665e,firstFrameSidecar:_0x24d2c3,directPath:_0x4e204f,fileSha256:_0x55361e,mediaKey:_0x430e42,senderTimestampMs:_0x22b47c,..._0x3baf88}=_0x46224d;(_0x441d16===_0x4d5056(0x6a5)||_0x441d16===_0x4d5056(0x471))&&(delete _0x3baf88[_0x4d5056(0x27e)],delete _0x3baf88[_0x4d5056(0x1de)]),typeof _0x46224d==_0x4d5056(0x4c8)?_0x45131={'text':_0x46224d,'type':_0x441d16||_0x4d5056(0x6fb),..._0x309bba&&{'edited':_0x309bba},..._0x19d68d&&{'quoted':_0x19d68d},..._0x27f27d&&{'reaction':_0x27f27d}}:_0x45131={'text':_0x482489,..._0x3baf88,..._0x441d16===_0x4d5056(0x8b)?{'poll_id':_0x46224d['pollCreationMessageKey']['id'],'quoted':_0x46224d[_0x4d5056(0x393)]['id'],'vote':_0x23c5a5}:{},..._0x441d16===_0x4d5056(0x471)?{'vote':_0x23c5a5}:{},'type':_0x441d16,..._0x309bba&&{'edited':_0x309bba},..._0x19d68d&&{'quoted':_0x19d68d},..._0x27f27d&&{'reaction':_0x27f27d},...(_0x441d16===_0x4d5056(0x41e)||_0x441d16===_0x4d5056(0x612)||_0x441d16==='pollCreationMessageV3'||_0x441d16===_0x4d5056(0x6a5))&&{'convertedOptions':_0x45131[_0x4d5056(0x49f)]}};}return{'messageType':_0x441d16,'messageContent':_0x46224d,'message_normalized':_0x45131};}catch(_0x9d1b14){return console[_0x4d5056(0x418)](_0x4d5056(0x298),_0x9d1b14),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x5a7a89(0x293)](),this[_0x5a7a89(0x75a)]['qrcode']={'count':0x0},this['instance'][_0x5a7a89(0x2f9)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0xe54586(0x5bf)](_0x34aa17){const _0x201285=a0_0xe54586;if(!_0x34aa17){this[_0x201285(0x75a)][_0x201285(0x3dc)]=(0x0,bi['v4'])();return;}this['instance']['name']=_0x34aa17,this[_0x201285(0x6ba)](_0x201285(0x4b3),{'instance':this['instance']['name'],'status':_0x201285(0xa3)});}get['instanceName'](){const _0x51f051=a0_0xe54586;return this[_0x51f051(0x75a)]['name'];}get[a0_0xe54586(0x494)](){const _0x37d2c6=a0_0xe54586;return this[_0x37d2c6(0x75a)][_0x37d2c6(0x494)];}async[a0_0xe54586(0x63b)](){const _0x14118f=a0_0xe54586;let _0x4d6107=this[_0x14118f(0x42c)]['user']?.[_0x14118f(0x3dc)]??this[_0x14118f(0x42c)][_0x14118f(0x207)]?.['verifiedName'];if(!_0x4d6107){if(this[_0x14118f(0x291)][_0x14118f(0x6a4)]('DATABASE')['ENABLED']){let _0x3081a4=await $['getClient']()['db'](this[_0x14118f(0x291)][_0x14118f(0x6a4)](_0x14118f(0x435))[_0x14118f(0x41f)]['DB_PREFIX_NAME']+'-instances')['collection'](this[_0x14118f(0x5bf)])[_0x14118f(0x68c)]({'_id':_0x14118f(0x126)});if(_0x3081a4){let _0x1c6ed6=JSON[_0x14118f(0x229)](JSON[_0x14118f(0x548)](_0x3081a4),w[_0x14118f(0x3c9)][_0x14118f(0x70e)]);_0x4d6107=_0x1c6ed6['me']?.['name']||_0x1c6ed6['me']?.[_0x14118f(0x47a)];}}else{if((0x0,xe[_0x14118f(0x41b)])((0x0,F[_0x14118f(0x569)])(me,this[_0x14118f(0x5bf)],_0x14118f(0x4d4)))){let _0x4162de=JSON[_0x14118f(0x229)]((0x0,xe[_0x14118f(0x722)])((0x0,F[_0x14118f(0x569)])(me,this[_0x14118f(0x5bf)],'creds.json'),{'encoding':'utf-8'}));_0x4d6107=_0x4162de['me']?.['name']||_0x4162de['me']?.[_0x14118f(0x47a)];}}}return _0x4d6107;}get[a0_0xe54586(0x57c)](){return this['instance']['profilePictureUrl'];}get['qrCode'](){const _0x5ee69f=a0_0xe54586;return this[_0x5ee69f(0x75a)][_0x5ee69f(0x153)]?.[_0x5ee69f(0x68e)]?{'pairingCode':this[_0x5ee69f(0x75a)][_0x5ee69f(0x153)]?.['pairingCode']}:{'code':this['instance']['qrcode']?.['code'],'base64':this[_0x5ee69f(0x75a)][_0x5ee69f(0x153)]?.['base64']};}async[a0_0xe54586(0x737)](){const _0x32c161=a0_0xe54586;let _0x3c84f5=await this[_0x32c161(0x6af)][_0x32c161(0x26b)]['find'](this[_0x32c161(0x5bf)]);this[_0x32c161(0x452)]['url']=_0x3c84f5?.['url'],this[_0x32c161(0x452)][_0x32c161(0x25b)]=_0x3c84f5?.[_0x32c161(0x25b)],this[_0x32c161(0x452)]['local_map']=_0x3c84f5?.['local_map'],this[_0x32c161(0x452)][_0x32c161(0x72e)]=_0x3c84f5?.[_0x32c161(0x72e)],this[_0x32c161(0x452)]['QRCODE_UPDATED']=_0x3c84f5?.[_0x32c161(0x552)],this[_0x32c161(0x452)]['SEND_MESSAGE']=_0x3c84f5?.[_0x32c161(0x1ff)],this[_0x32c161(0x452)][_0x32c161(0x3b3)]=_0x3c84f5?.[_0x32c161(0x3b3)],this[_0x32c161(0x452)][_0x32c161(0x1bd)]=_0x3c84f5?.[_0x32c161(0x1bd)],this['localWebhook'][_0x32c161(0x2c4)]=_0x3c84f5?.[_0x32c161(0x2c4)],this['localWebhook'][_0x32c161(0x94)]=_0x3c84f5?.[_0x32c161(0x94)],this[_0x32c161(0x452)]['GROUP_PARTICIPANTS_UPDATE']=_0x3c84f5?.[_0x32c161(0x112)],this[_0x32c161(0x452)][_0x32c161(0x96)]=_0x3c84f5?.[_0x32c161(0x96)],this['localWebhook'][_0x32c161(0x700)]=_0x3c84f5?.[_0x32c161(0x700)],this[_0x32c161(0x452)][_0x32c161(0x310)]=_0x3c84f5?.[_0x32c161(0x310)],this[_0x32c161(0x452)][_0x32c161(0x217)]=_0x3c84f5?.[_0x32c161(0x217)],this['localWebhook']['CONTACTS_SET']=_0x3c84f5?.[_0x32c161(0x363)],this[_0x32c161(0x452)]['CONTACTS_UPSERT']=_0x3c84f5?.[_0x32c161(0x692)],this['localWebhook'][_0x32c161(0x5bc)]=_0x3c84f5?.['CONTACTS_UPDATE'],this[_0x32c161(0x452)][_0x32c161(0x3f9)]=_0x3c84f5?.['PRESENCE_UPDATE'],this['localWebhook']['MESSAGES_SET']=_0x3c84f5?.['MESSAGES_SET'],this[_0x32c161(0x452)][_0x32c161(0x473)]=_0x3c84f5?.[_0x32c161(0x473)],this[_0x32c161(0x452)]['groups_ignore']=_0x3c84f5?.[_0x32c161(0x3f6)];}async[a0_0xe54586(0x5b8)](_0x3ebe8e){const _0x581aaf=a0_0xe54586;let _0x5bf0ba=['_id',_0x581aaf(0x4be),_0x581aaf(0x25b),_0x581aaf(0x7a2),_0x581aaf(0x72e),_0x581aaf(0x552),_0x581aaf(0x1bd),_0x581aaf(0x3b3),_0x581aaf(0x1ff),_0x581aaf(0x2c4),_0x581aaf(0x94),'GROUP_PARTICIPANTS_UPDATE',_0x581aaf(0x96),'CHATS_UPSERT',_0x581aaf(0x310),'CHATS_DELETE',_0x581aaf(0x363),_0x581aaf(0x692),_0x581aaf(0x5bc),_0x581aaf(0x3f9),'MESSAGES_SET','CONNECTION_UPDATE','groups_ignore'],_0x2d8543={};return _0x5bf0ba[_0x581aaf(0x110)](_0x42a6d4=>{_0x3ebe8e[_0x42a6d4]!==void 0x0&&(_0x2d8543[_0x42a6d4]=_0x3ebe8e[_0x42a6d4]);}),_0x2d8543[_0x581aaf(0x4be)]&&(_0x2d8543[_0x581aaf(0x4be)]=_0x2d8543[_0x581aaf(0x4be)]['trim']()),await this['repository'][_0x581aaf(0x26b)]['create'](_0x2d8543,this[_0x581aaf(0x5bf)]),Object[_0x581aaf(0x75d)](this[_0x581aaf(0x452)],_0x2d8543),await this[_0x581aaf(0x6af)][_0x581aaf(0x26b)][_0x581aaf(0x43d)](this[_0x581aaf(0x5bf)]);}async[a0_0xe54586(0x698)](){const _0x3e5793=a0_0xe54586;return await this[_0x3e5793(0x6af)]['webhook'][_0x3e5793(0x43d)](this[_0x3e5793(0x5bf)]);}async['sendDataWebhook'](_0x343820,_0x557fe2){const _0x1b4711=a0_0xe54586;let _0x419210=_0x343820[_0x1b4711(0x6fd)](/[\.-]/gm,'_')[_0x1b4711(0x290)](),_0x598bbe=this['localWebhook'][_0x1b4711(0x25b)]&&(0x0,P[_0x1b4711(0x18c)])(this['localWebhook'][_0x1b4711(0x4be)])?this['localWebhook'][_0x1b4711(0x4be)]+(this[_0x1b4711(0x452)][_0x1b4711(0x7a2)]?this[_0x1b4711(0x52a)][_0x343820]:''):null,_0x444143=this[_0x1b4711(0x452)][_0x419210],_0x46b994=le&&le['enabled']&&(0x0,P[_0x1b4711(0x18c)])(le[_0x1b4711(0x4be)])?le['url']+(le[_0x1b4711(0x7a2)]?this[_0x1b4711(0x52a)][_0x343820]:''):null,_0x4bfec2=le?le[_0x419210]:null;if(_0x444143&&_0x598bbe)try{await K['default'][_0x1b4711(0x54a)]({'baseURL':_0x598bbe})['post']('',{'event':_0x343820,'instance':this['instance'][_0x1b4711(0x3dc)],'apikey':this[_0x1b4711(0x75a)]['apikey'],'data':_0x557fe2}),this[_0x1b4711(0x2da)][_0x1b4711(0x2c6)](this[_0x1b4711(0x5bf)]+'\x20('+this[_0x1b4711(0x75a)][_0x1b4711(0x494)]+_0x1b4711(0x163)+_0x343820+':\x20'+_0x598bbe);}catch{this[_0x1b4711(0x2da)]['error'](this[_0x1b4711(0x5bf)]+'\x20('+this[_0x1b4711(0x75a)]['wuid']+_0x1b4711(0x6d9)+_0x343820+':\x20'+_0x598bbe);}if(_0x4bfec2&&_0x46b994)try{await K[_0x1b4711(0x2f8)]['create']({'baseURL':_0x46b994})['post']('',{'event':_0x343820,'instance':this[_0x1b4711(0x75a)][_0x1b4711(0x3dc)],'apikey':this[_0x1b4711(0x75a)][_0x1b4711(0x4cc)],'data':_0x557fe2}),this['logger'][_0x1b4711(0x2c6)](this['instanceName']+'\x20('+this['instance'][_0x1b4711(0x494)]+_0x1b4711(0x31c)+_0x343820+':\x20'+_0x46b994);}catch{this[_0x1b4711(0x2da)][_0x1b4711(0x418)](this['instanceName']+'\x20('+this[_0x1b4711(0x75a)][_0x1b4711(0x494)]+_0x1b4711(0x328)+_0x343820+':\x20'+_0x46b994);}}async[a0_0xe54586(0x188)]({qr:_0x3051cb,connection:_0xff0f0c,lastDisconnect:_0x3fa13b}){const _0x5bf7ea=a0_0xe54586;if(_0x3051cb){if(this[_0x5bf7ea(0x75a)][_0x5bf7ea(0x153)][_0x5bf7ea(0x2b0)]===Eo)return this[_0x5bf7ea(0x6ba)](_0x5bf7ea(0x235),{'message':_0x5bf7ea(0x756),'statusCode':w[_0x5bf7ea(0x6b7)][_0x5bf7ea(0x607)]}),this['stateConnection']={'state':_0x5bf7ea(0x72f),'statusReason':w[_0x5bf7ea(0x6b7)][_0x5bf7ea(0x2b7)]},this[_0x5bf7ea(0x6ba)](_0x5bf7ea(0x35b),{'instance':this[_0x5bf7ea(0x75a)]['name'],...this[_0x5bf7ea(0x109)]}),this[_0x5bf7ea(0x6ba)](_0x5bf7ea(0x4b3),{'instance':this[_0x5bf7ea(0x75a)]['name'],'status':_0x5bf7ea(0x5b1)}),this[_0x5bf7ea(0x6af)]['auth'][_0x5bf7ea(0x54a)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x5bf7ea(0x755)]()},this[_0x5bf7ea(0x75a)]['name']),this['endSession']=!0x0,this[_0x5bf7ea(0x467)]['emit'](_0x5bf7ea(0xc8),this[_0x5bf7ea(0x75a)][_0x5bf7ea(0x3dc)]);this[_0x5bf7ea(0x75a)]['qrcode'][_0x5bf7ea(0x2b0)]++;let _0x41fd75={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x5bf7ea(0x515),'dark':_0x5bf7ea(0x40a)}};Si[_0x5bf7ea(0x2f8)]['toDataURL'](_0x3051cb,_0x41fd75,(_0x261e87,_0x737490)=>{const _0x20f7cf=_0x5bf7ea;if(_0x261e87){this[_0x20f7cf(0x2da)][_0x20f7cf(0x418)](this[_0x20f7cf(0x5bf)]+'\x20('+this['instance'][_0x20f7cf(0x494)]+_0x20f7cf(0x315)+(_0x261e87 instanceof Error?_0x261e87[_0x20f7cf(0x406)]:JSON[_0x20f7cf(0x548)](_0x261e87,null,0x2)));return;}this[_0x20f7cf(0x75a)][_0x20f7cf(0x153)][_0x20f7cf(0x257)]=_0x737490,this[_0x20f7cf(0x75a)][_0x20f7cf(0x153)][_0x20f7cf(0x531)]=_0x3051cb,!this[_0x20f7cf(0x3c7)]&&this[_0x20f7cf(0x6ba)](_0x20f7cf(0x235),{'qrcode':{'instance':this[_0x20f7cf(0x75a)]['name'],'pairingCode':this[_0x20f7cf(0x75a)][_0x20f7cf(0x153)]['pairingCode'],'code':_0x3051cb,'base64':_0x737490}});}),this[_0x5bf7ea(0x3c7)]?this[_0x5bf7ea(0x75a)][_0x5bf7ea(0x153)][_0x5bf7ea(0x68e)]||(await(0x0,w[_0x5bf7ea(0x267)])(0x7d0),this[_0x5bf7ea(0x75a)][_0x5bf7ea(0x153)][_0x5bf7ea(0x68e)]=await this[_0x5bf7ea(0x42c)][_0x5bf7ea(0x6cb)](this[_0x5bf7ea(0x3c7)])):this[_0x5bf7ea(0x75a)][_0x5bf7ea(0x153)][_0x5bf7ea(0x68e)]=null,Mi[_0x5bf7ea(0x2f8)][_0x5bf7ea(0x558)](_0x3051cb,{'small':!0x0},_0x2cc5fa=>this[_0x5bf7ea(0x2da)][_0x5bf7ea(0x2c6)](_0x5bf7ea(0x32d)+this['instance'][_0x5bf7ea(0x3dc)]+',\x20qrcodeCount:\x20'+this[_0x5bf7ea(0x75a)][_0x5bf7ea(0x153)]['count']+_0x5bf7ea(0x53b)+this[_0x5bf7ea(0x75a)][_0x5bf7ea(0x153)][_0x5bf7ea(0x68e)]+_0x5bf7ea(0x71a)+_0x2cc5fa));}if(_0xff0f0c&&(this['stateConnection']={'state':_0xff0f0c,'statusReason':_0x3fa13b?.[_0x5bf7ea(0x418)]?.['output']?.[_0x5bf7ea(0x8c)]??0xc8},this['sendDataWebhook'](_0x5bf7ea(0x35b),{'instance':this[_0x5bf7ea(0x75a)][_0x5bf7ea(0x3dc)],...this['stateConnection']})),_0xff0f0c===_0x5bf7ea(0x29c)){if(this[_0x5bf7ea(0x53c)]++,this[_0x5bf7ea(0x5c4)][_0x5bf7ea(0x2d6)](Date[_0x5bf7ea(0x755)]()),this[_0x5bf7ea(0x5c4)]=this[_0x5bf7ea(0x5c4)]['filter'](_0x57504c=>Date['now']()-_0x57504c<this[_0x5bf7ea(0x400)]),_0x3fa13b[_0x5bf7ea(0x418)]?.[_0x5bf7ea(0x323)]?.[_0x5bf7ea(0x8c)]!==w[_0x5bf7ea(0x6b7)][_0x5bf7ea(0x1c9)]&&this[_0x5bf7ea(0x5c4)][_0x5bf7ea(0x767)]<=this[_0x5bf7ea(0x273)])console[_0x5bf7ea(0x2c6)](this[_0x5bf7ea(0x5bf)]+_0x5bf7ea(0x746)+this['reconnectAttempts']+'/'+this['MAX_RECONNECT_ATTEMPTS']+_0x5bf7ea(0x70d)),console['log'](_0x5bf7ea(0x37d)),await this[_0x5bf7ea(0x1c0)]();else{this['sendDataWebhook']('status.instance',{'instance':this[_0x5bf7ea(0x75a)][_0x5bf7ea(0x3dc)],'status':'removed'}),this[_0x5bf7ea(0x75a)]['ScheduleMessage'][_0x5bf7ea(0x1d2)]=!0x1,this[_0x5bf7ea(0x6af)]['webhook'][_0x5bf7ea(0x790)](this['instanceName']),this[_0x5bf7ea(0x6af)][_0x5bf7ea(0x1a1)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x5bf7ea(0x75a)]['name']);try{this[_0x5bf7ea(0x2da)][_0x5bf7ea(0x1bb)](this[_0x5bf7ea(0x5bf)]+'\x20('+this[_0x5bf7ea(0x75a)][_0x5bf7ea(0x494)]+_0x5bf7ea(0x753));let _0x4ad0ce=await this[_0x5bf7ea(0x6af)][_0x5bf7ea(0x406)][_0x5bf7ea(0x5e8)](this[_0x5bf7ea(0x75a)][_0x5bf7ea(0x494)]);_0x4ad0ce[_0x5bf7ea(0x708)]?this[_0x5bf7ea(0x2da)][_0x5bf7ea(0x1bb)](this[_0x5bf7ea(0x5bf)]+'\x20('+this[_0x5bf7ea(0x75a)][_0x5bf7ea(0x494)]+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):console[_0x5bf7ea(0x418)](_0x5bf7ea(0x313),_0x4ad0ce[_0x5bf7ea(0x418)]);}catch(_0x574349){console[_0x5bf7ea(0x418)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:',_0x574349[_0x5bf7ea(0x406)]);}this['instance'][_0x5bf7ea(0x2f9)][_0x5bf7ea(0x2cb)]!==null&&(this[_0x5bf7ea(0x2da)]['verbose'](this[_0x5bf7ea(0x5bf)]+'\x20('+this[_0x5bf7ea(0x75a)][_0x5bf7ea(0x494)]+_0x5bf7ea(0x324)),clearInterval(this[_0x5bf7ea(0x75a)]['ScheduleMessage']['delayMessage']),this['instance'][_0x5bf7ea(0x2f9)][_0x5bf7ea(0x2cb)]=null),this[_0x5bf7ea(0x2da)][_0x5bf7ea(0x1bb)](this['instanceName']+'\x20('+this[_0x5bf7ea(0x75a)]['wuid']+_0x5bf7ea(0xf8)),this[_0x5bf7ea(0x665)]=null,this[_0x5bf7ea(0x467)][_0x5bf7ea(0xd0)]('remove.instance',this['instance'][_0x5bf7ea(0x3dc)],_0x5bf7ea(0x654)),this[_0x5bf7ea(0x42c)]?.['ws']?.[_0x5bf7ea(0x29c)](),this['client'][_0x5bf7ea(0x219)](new Error(_0x5bf7ea(0x7a5)));}}if(_0xff0f0c==='open'){this[_0x5bf7ea(0x42c)]['ev'][_0x5bf7ea(0x554)](),this[_0x5bf7ea(0x572)],this[_0x5bf7ea(0x75a)]['wuid']=this[_0x5bf7ea(0x42c)][_0x5bf7ea(0x207)]['id'][_0x5bf7ea(0x6fd)](/:\d+/,'')[_0x5bf7ea(0x6fd)](_0x5bf7ea(0x420),''),this[_0x5bf7ea(0x75a)][_0x5bf7ea(0x57c)]=(await this[_0x5bf7ea(0x17e)](this[_0x5bf7ea(0x75a)]['wuid']+_0x5bf7ea(0x420)))[_0x5bf7ea(0x57c)],this['repository'][_0x5bf7ea(0x1a1)]['create']({'online':!0x0,'owner':this[_0x5bf7ea(0x75a)][_0x5bf7ea(0x494)],'lastDisconnect':null},this[_0x5bf7ea(0x75a)][_0x5bf7ea(0x3dc)]);let _0x3167d5=_0x5bf7ea(0x3be)+this[_0x5bf7ea(0x75a)][_0x5bf7ea(0x494)],_0x2c8f60=0x28,_0x42c1de=Math[_0x5bf7ea(0x76a)]((_0x2c8f60-_0x3167d5['length'])/0x2),_0x473a1b='\x20'[_0x5bf7ea(0xaa)](_0x42c1de),_0x4b427d=_0x5bf7ea(0x2d8),_0x482e40=_0x5bf7ea(0x5a4)+this[_0x5bf7ea(0x75a)]['name'],_0x262b94=(''+_0x473a1b+_0x3167d5+_0x473a1b)[_0x5bf7ea(0x75e)](_0x2c8f60,'\x20'),_0x164ac6=(''+_0x473a1b+_0x4b427d+_0x473a1b)[_0x5bf7ea(0x75e)](_0x2c8f60,'\x20'),_0x1eb5b3=(''+_0x473a1b+_0x482e40+_0x473a1b)[_0x5bf7ea(0x75e)](_0x2c8f60,'\x20'),_0x316a1e=Math[_0x5bf7ea(0x6ad)](_0x262b94[_0x5bf7ea(0x767)],_0x164ac6[_0x5bf7ea(0x767)],_0x1eb5b3[_0x5bf7ea(0x767)]),_0x52eeef=_0x262b94[_0x5bf7ea(0x75e)](_0x316a1e,'\x20'),_0xb23e1c=_0x164ac6[_0x5bf7ea(0x75e)](_0x316a1e,'\x20'),_0x4bb9d3=_0x1eb5b3[_0x5bf7ea(0x75e)](_0x316a1e,'\x20');this['logger']['info']((_0x5bf7ea(0x485)+'─'[_0x5bf7ea(0xaa)](_0x316a1e)+_0x5bf7ea(0x5ab)+_0xb23e1c+_0x5bf7ea(0x591)+_0x4bb9d3+_0x5bf7ea(0x591)+_0x52eeef+_0x5bf7ea(0x1db)+'─'[_0x5bf7ea(0xaa)](_0x316a1e)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x5bf7ea(0x160)](),this[_0x5bf7ea(0x75a)][_0x5bf7ea(0x2f9)][_0x5bf7ea(0x1d2)]=!0x0;}}[a0_0xe54586(0x572)](){const _0x484e76=a0_0xe54586;this[_0x484e76(0x53c)]=0x0,this[_0x484e76(0x5c4)]=[];}async[a0_0xe54586(0x2b3)](_0x55c158,_0x477338=!0x1){const _0x352f68=a0_0xe54586;try{let _0x5d6854=await this['repository'][_0x352f68(0x406)][_0x352f68(0x43d)]({'where':{'_id':_0x55c158['id']}},this[_0x352f68(0x75a)][_0x352f68(0x494)]);return _0x477338?_0x5d6854[0x0]:_0x5d6854[0x0][_0x352f68(0x406)];}catch{return{'conversation':''};}}[a0_0xe54586(0x293)](){const _0x4fc10c=a0_0xe54586;let _0x1ea6b0=this['configService']['get'](_0x4fc10c(0x4d0)),_0x18e7bf=this['configService'][_0x4fc10c(0x6a4)](_0x4fc10c(0x435));_0x1ea6b0?.['CLEANING_INTERVAL']&&!_0x18e7bf[_0x4fc10c(0x4f6)]&&setInterval(()=>{const _0x9f5548=_0x4fc10c;try{for(let [_0x9b763f,_0x527002]of Object[_0x9f5548(0x1ed)](_0x1ea6b0))_0x527002===!0x0&&(0x0,De[_0x9f5548(0x27d)])(_0x9f5548(0x46c)+(0x0,F[_0x9f5548(0x569)])(this[_0x9f5548(0x18f)],_0x9b763f['toLowerCase'](),this['instance']['wuid'])+_0x9f5548(0x5f9));}catch{}},(_0x1ea6b0?.[_0x4fc10c(0xed)]??0xe10)*0x3e8);}async[a0_0xe54586(0x6ae)](){const _0x16e02a=a0_0xe54586;let _0xe31099=this[_0x16e02a(0x291)][_0x16e02a(0x6a4)](_0x16e02a(0x435)),_0x5c6ff2=this[_0x16e02a(0x291)][_0x16e02a(0x6a4)](_0x16e02a(0x71b));return _0x5c6ff2?.[_0x16e02a(0x4f6)]?await Ns(_0x5c6ff2,this['instance'][_0x16e02a(0x3dc)]):_0xe31099[_0x16e02a(0x4f6)]?await vs(this[_0x16e02a(0x75a)][_0x16e02a(0x3dc)]):await(0x0,w[_0x16e02a(0x732)])((0x0,F[_0x16e02a(0x569)])(me,this['instance'][_0x16e02a(0x3dc)]));}async['AutomateFunctions'](){const _0x38efeb=a0_0xe54586;let _0x8bc5a7=()=>Math[_0x38efeb(0x76a)](Math[_0x38efeb(0x6f2)]()*0x2711)+0x7d0,_0x30b332=async()=>{const _0x206256=_0x38efeb;if(!this['instance'][_0x206256(0x2f9)]['isConnected']){this[_0x206256(0x2da)][_0x206256(0x1bb)](this[_0x206256(0x5bf)]+'\x20('+this[_0x206256(0x75a)][_0x206256(0x494)]+_0x206256(0x38a)),this[_0x206256(0x14b)]=!0x1;return;}if(this['instance'][_0x206256(0x494)]&&this['AutomateSystem']&&this['instance'][_0x206256(0x2f9)]['delayMessage']!==null&&this[_0x206256(0x75a)][_0x206256(0x2f9)][_0x206256(0x2cb)]!==void 0x0){let _0x4786fa=Math[_0x206256(0x74c)](this[_0x206256(0x75a)][_0x206256(0x2f9)]['delayMessage']/0xea60);this[_0x206256(0x2da)]['verbose'](this[_0x206256(0x5bf)]+'\x20('+this['instance'][_0x206256(0x494)]+_0x206256(0x2c7)+_0x4786fa+_0x206256(0x725)),this[_0x206256(0x14b)]=!0x1;return;}else this['instance'][_0x206256(0x494)]&&(this['logger']['verbose'](this[_0x206256(0x5bf)]+'\x20('+this['instance'][_0x206256(0x494)]+_0x206256(0x75c)),this[_0x206256(0x665)]||(await this[_0x206256(0x5fb)](),this[_0x206256(0x4a0)]()),(this[_0x206256(0x75a)][_0x206256(0x2f9)][_0x206256(0x2cb)]===null||this['instance'][_0x206256(0x2f9)]['delayMessage']===void 0x0)&&await this[_0x206256(0x766)]());if(this[_0x206256(0x14b)]){let _0x528e39=_0x8bc5a7();this[_0x206256(0x2da)][_0x206256(0x1bb)](this[_0x206256(0x5bf)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x528e39/0x3e8+_0x206256(0x149)),setTimeout(_0x30b332,_0x528e39);}};if(this[_0x38efeb(0x14b)])return;this[_0x38efeb(0x14b)]=!0x0;let _0x769f1f=_0x8bc5a7();setTimeout(_0x30b332,_0x769f1f);}async['loadproxy'](_0x30c7fa=0x0,_0x159fbc=!0x1){const _0xbfb30e=a0_0xe54586;try{let _0x819b44=this[_0xbfb30e(0x291)][_0xbfb30e(0x6a4)]('PROXY');if(_0x819b44!==0x1||typeof _0x819b44>'u'||_0x30c7fa>=0x5)return this['logger'][_0xbfb30e(0x286)](_0xbfb30e(0x4c3)),this[_0xbfb30e(0x6af)][_0xbfb30e(0x1a1)]['create']({'ip':null},this[_0xbfb30e(0x75a)][_0xbfb30e(0x3dc)]),{};this[_0xbfb30e(0x2da)][_0xbfb30e(0x1bb)](this[_0xbfb30e(0x5bf)]+_0xbfb30e(0x5a8)+(_0x30c7fa+0x1)+_0xbfb30e(0x22c));let _0x23ec07;if(!_0x159fbc){let _0x2d0d64=await this[_0xbfb30e(0x6af)]['auth'][_0xbfb30e(0x43d)](this[_0xbfb30e(0x5bf)]);_0x2d0d64&&_0x2d0d64['ip']&&(_0x23ec07=fi(_0x2d0d64['ip']));}if((!_0x23ec07||!Rs(_0x23ec07))&&(this[_0xbfb30e(0x2da)][_0xbfb30e(0x286)](this[_0xbfb30e(0x5bf)]+_0xbfb30e(0x24a)),_0x23ec07=wi()),_0x23ec07&&Rs(_0x23ec07)){let _0x47c5d1=_0x23ec07['username']&&_0x23ec07[_0xbfb30e(0x66d)]?_0x23ec07['protocol']+_0xbfb30e(0x38b)+_0x23ec07[_0xbfb30e(0x508)]+':'+_0x23ec07['password']+'@'+_0x23ec07['host']+':'+_0x23ec07[_0xbfb30e(0x1b4)]:_0x23ec07['protocol']+_0xbfb30e(0x38b)+_0x23ec07[_0xbfb30e(0x4de)]+':'+_0x23ec07['port'];return await this[_0xbfb30e(0x5ce)](_0x47c5d1,_0x23ec07['host'])?(this[_0xbfb30e(0x2da)][_0xbfb30e(0x1bb)](this[_0xbfb30e(0x5bf)]+_0xbfb30e(0x331)),this['repository'][_0xbfb30e(0x1a1)]['create']({'ip':_0x23ec07['host']},this[_0xbfb30e(0x75a)][_0xbfb30e(0x3dc)]),{'agent':new Lt[(_0xbfb30e(0x399))](_0x47c5d1),'fetchAgent':new Lt['HttpsProxyAgent'](_0x47c5d1)}):(this['logger'][_0xbfb30e(0x286)](this[_0xbfb30e(0x5bf)]+_0xbfb30e(0x3eb)),await(0x0,w[_0xbfb30e(0x267)])(0xc8),this[_0xbfb30e(0x2a6)](_0x30c7fa+0x1,!0x0));}else return this[_0xbfb30e(0x2da)]['warn'](this['instanceName']+_0xbfb30e(0xd7)),await(0x0,w[_0xbfb30e(0x267)])(0xc8),this[_0xbfb30e(0x2a6)](_0x30c7fa+0x1,!0x0);}catch(_0xf7b068){return this[_0xbfb30e(0x2da)][_0xbfb30e(0x418)](this[_0xbfb30e(0x5bf)]+_0xbfb30e(0x158)+_0xf7b068['message']),{};}}async[a0_0xe54586(0x5ce)](_0x3ed16b,_0xf64530){const _0x30e450=a0_0xe54586;let _0x1d33ac=new Lt[(_0x30e450(0x399))](_0x3ed16b),_0xa1d8b=0x1388,_0x43fc11=[{'url':_0x30e450(0x51b),'parse':_0x262939=>_0x262939['ip']},{'url':_0x30e450(0x34c),'parse':_0x5d0325=>_0x5d0325['ip']},{'url':_0x30e450(0x15d),'parse':_0x2e53c0=>_0x2e53c0[_0x30e450(0x628)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':'https://ipinfo.io/json','parse':_0x531d0d=>_0x531d0d['ip']},{'url':'http://ifconfig.me/ip','parse':_0x18e0e5=>_0x18e0e5[_0x30e450(0x6a0)]()},{'url':_0x30e450(0xb7),'parse':_0x1e581b=>_0x1e581b[_0x30e450(0x6a0)]()},{'url':_0x30e450(0x11a),'parse':_0x24e4f4=>_0x24e4f4[_0x30e450(0x47c)]},{'url':_0x30e450(0x345),'parse':_0x474207=>_0x474207['trim']()},{'url':_0x30e450(0x668),'parse':_0x414a37=>_0x414a37[_0x30e450(0x6a0)]()}],_0x7d036f=_0x43fc11[Math[_0x30e450(0x76a)](Math[_0x30e450(0x6f2)]()*_0x43fc11[_0x30e450(0x767)])];try{let _0x476fe7=await K[_0x30e450(0x2f8)][_0x30e450(0x6a4)](_0x7d036f['url'],{'httpsAgent':_0x1d33ac,'timeout':_0xa1d8b}),_0x21612c=_0x7d036f[_0x30e450(0x229)](_0x476fe7[_0x30e450(0x6e7)]);return _0x21612c===_0xf64530?(this[_0x30e450(0x2da)][_0x30e450(0x1bb)](this[_0x30e450(0x5bf)]+_0x30e450(0x62b)+_0xf64530+_0x30e450(0x287)+_0x21612c+'\x20->\x20CONFIRMADO.'),!0x0):(this[_0x30e450(0x2da)][_0x30e450(0x418)](this[_0x30e450(0x5bf)]+_0x30e450(0x62b)+_0xf64530+'\x20-\x20retornado:\x20'+_0x21612c+'\x20->\x20NÃO\x20CORRESPONDE.'),!0x1);}catch(_0x2c0f62){return this['logger'][_0x30e450(0x418)](this[_0x30e450(0x5bf)]+_0x30e450(0x35d)+_0x7d036f[_0x30e450(0x4be)]+':\x20'+_0x2c0f62['message']),!0x1;}}async[a0_0xe54586(0x1c0)](_0x603c11){const _0xe73c9f=a0_0xe54586;try{let _0x589327=await this[_0xe73c9f(0x2a6)]();this['loadWebhook'](),this['instance']['apikey']=(await this[_0xe73c9f(0x6af)][_0xe73c9f(0x1a1)][_0xe73c9f(0x43d)](this[_0xe73c9f(0x75a)]['name']))['apikey'],this['instance'][_0xe73c9f(0x5fe)]=await this[_0xe73c9f(0x6ae)]();let {version:_0x5cff3e}=await(0x0,w[_0xe73c9f(0x47d)])(),_0x1062c5=[Ci,Is,(0x0,As[_0xe73c9f(0x5f3)])()],_0x1e049e={..._0x589327,'auth':{'creds':this['instance'][_0xe73c9f(0x5fe)][_0xe73c9f(0x1d9)][_0xe73c9f(0x126)],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this['instance'][_0xe73c9f(0x5fe)][_0xe73c9f(0x1d9)]['keys'],(0x0,Pt[_0xe73c9f(0x2f8)])({'level':_0xe73c9f(0x418)}))},'logger':(0x0,Pt['default'])({'level':_0xe73c9f(0x418)}),'printQRInTerminal':!0x1,'browser':_0x603c11?[_0xe73c9f(0x440),Is,(0x0,As[_0xe73c9f(0x5f3)])()]:_0x1062c5,'version':_0x5cff3e,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x2bc2b6=>{const _0x2589b7=_0xe73c9f;let _0x3e92b4=_0x2bc2b6[_0x2589b7(0x3fa)](_0x2589b7(0x23e)),_0x21cdf7=this['localWebhook']?.[_0x2589b7(0x3f6)]&&_0x2bc2b6[_0x2589b7(0x3fa)](_0x2589b7(0x721));return _0x3e92b4||(0x0,w[_0x2589b7(0x78b)])(_0x2bc2b6)||_0x21cdf7;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x400a94=>await this[_0xe73c9f(0x2b3)](_0x400a94),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x1a9660=>(_0x1a9660[_0xe73c9f(0x6a5)]?.[_0xe73c9f(0x1c2)]==w[_0xe73c9f(0x506)][_0xe73c9f(0x49a)][_0xe73c9f(0x3e2)][_0xe73c9f(0x39e)][_0xe73c9f(0x46f)]&&(_0x1a9660=JSON[_0xe73c9f(0x229)](JSON[_0xe73c9f(0x548)](_0x1a9660)),_0x1a9660[_0xe73c9f(0x6a5)][_0xe73c9f(0x1c2)]=w['proto']['Message'][_0xe73c9f(0x3e2)][_0xe73c9f(0x39e)][_0xe73c9f(0x50a)]),_0x1a9660)};return this[_0xe73c9f(0x653)]=!0x1,this[_0xe73c9f(0x42c)]=(0x0,w['default'])(_0x1e049e),this[_0xe73c9f(0x674)](),this[_0xe73c9f(0x3c7)]=_0x603c11,this['client'];}catch(_0x5ed520){let _0x2195f9=_0xe73c9f(0x677),_0x564da9=_0x5ed520 instanceof Error?_0x5ed520[_0xe73c9f(0x406)]:typeof _0x5ed520==_0xe73c9f(0x6c9)?JSON['stringify'](_0x5ed520):_0x5ed520,_0x4bdc4a=_0x2195f9+':\x20'+_0x564da9;throw this[_0xe73c9f(0x2da)][_0xe73c9f(0x418)](this[_0xe73c9f(0x5bf)]+'\x20('+this[_0xe73c9f(0x75a)][_0xe73c9f(0x494)]+'):\x20'+_0x4bdc4a),new I(_0x4bdc4a);}}[a0_0xe54586(0x674)](){const _0x5de527=a0_0xe54586;this[_0x5de527(0x42c)]['ev'][_0x5de527(0x1f8)](_0x3b7237=>{const _0xbb5595=_0x5de527;if(!this['endSession']){let _0x10abf6=this['configService'][_0xbb5595(0x6a4)]('DATABASE');if(_0x3b7237['labels.edit']){let _0x3765f9=_0x3b7237[_0xbb5595(0x644)];this[_0xbb5595(0x769)][_0xbb5595(0x644)](_0x3765f9);}if(_0x3b7237['labels.association']){let _0x2432ad=_0x3b7237[_0xbb5595(0x2f2)];this[_0xbb5595(0x769)][_0xbb5595(0x2f2)](_0x2432ad);}if(_0x3b7237[_0xbb5595(0x35b)]&&this[_0xbb5595(0x188)](_0x3b7237[_0xbb5595(0x35b)]),_0x3b7237['creds.update']&&this[_0xbb5595(0x75a)][_0xbb5595(0x5fe)]['saveCreds'](),_0x3b7237[_0xbb5595(0x4f8)]){let _0x483930=_0x3b7237[_0xbb5595(0x4f8)];this[_0xbb5595(0x769)][_0xbb5595(0x4f8)](_0x483930,_0x10abf6);}if(_0x3b7237[_0xbb5595(0x47e)]){let _0x3e3bdf=_0x3b7237[_0xbb5595(0x47e)];this[_0xbb5595(0x769)][_0xbb5595(0x47e)](_0x3e3bdf,_0x10abf6);}if(_0x3b7237[_0xbb5595(0x360)]){let _0x3179ab=_0x3b7237[_0xbb5595(0x360)];this[_0xbb5595(0x769)][_0xbb5595(0x360)](_0x3179ab,_0x10abf6);}if(_0x3b7237['presence.update']){let _0x1a4636=_0x3b7237['presence.update'];if(this['localWebhook']?.[_0xbb5595(0x3f6)]&&_0x1a4636['id'][_0xbb5595(0x1d8)](_0xbb5595(0x721)))return;this[_0xbb5595(0x6ba)](_0xbb5595(0x3ad),_0x1a4636);}if(_0x3b7237[_0xbb5595(0x73c)]){let _0x2d3863=_0x3b7237[_0xbb5595(0x73c)];this['groupHandler'][_0xbb5595(0x73c)](_0x2d3863);}if(_0x3b7237[_0xbb5595(0x2eb)]){let _0x9eb0ce=_0x3b7237[_0xbb5595(0x2eb)];this[_0xbb5595(0x442)]['groups.update'](_0x9eb0ce);}if(_0x3b7237[_0xbb5595(0x57a)]){let _0xd7feea=_0x3b7237['group-participants.update'];this[_0xbb5595(0x442)][_0xbb5595(0x57a)](_0xd7feea);}if(_0x3b7237[_0xbb5595(0x461)]){let _0x5ef906=_0x3b7237['chats.upsert'];this[_0xbb5595(0x3a5)][_0xbb5595(0x461)](_0x5ef906,_0x10abf6);}if(_0x3b7237[_0xbb5595(0xdf)]){let _0x100abf=_0x3b7237['chats.update'];this[_0xbb5595(0x3a5)]['chats.update'](_0x100abf,_0x10abf6);}if(_0x3b7237['chats.delete']){let _0xfe0671=_0x3b7237['chats.delete'];this[_0xbb5595(0x3a5)][_0xbb5595(0x67a)](_0xfe0671);}if(_0x3b7237['contacts.upsert']){let _0x5354b1=_0x3b7237[_0xbb5595(0x5bd)];this['contactHandle'][_0xbb5595(0x5bd)](_0x5354b1,_0x10abf6);}if(_0x3b7237['contacts.update']){let _0xa641a2=_0x3b7237['contacts.update'];this['contactHandle'][_0xbb5595(0x105)](_0xa641a2,_0x10abf6);}}});}[a0_0xe54586(0x629)](_0x28619f){return new Promise(_0x50a857=>setTimeout(_0x50a857,_0x28619f));}[a0_0xe54586(0xba)](_0x5e1136){const _0x42f2fc=a0_0xe54586;_0x5e1136=_0x5e1136['replace'](/\D/g,'');let _0x16f9b0=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x42f2fc(0x77b)](_0x5e1136);if(_0x16f9b0&&_0x16f9b0[0x1]==='55'){let _0x568074=_0x16f9b0[0x2],_0x278274=_0x16f9b0[0x3],_0x391c7d=_0x16f9b0[0x4];if(parseInt(_0x568074)>=0x1f&&_0x278274==='9')return _0x16f9b0[0x1]+_0x568074+_0x391c7d;}return _0x5e1136;}[a0_0xe54586(0x12c)](_0xd0fe4d){const _0x4e330a=a0_0xe54586;return _0xd0fe4d['includes'](_0x4e330a(0x721))||_0xd0fe4d[_0x4e330a(0x1d8)](_0x4e330a(0x420))||_0xd0fe4d[_0x4e330a(0x1d8)](_0x4e330a(0x191))?_0xd0fe4d:(_0xd0fe4d=_0xd0fe4d?.[_0x4e330a(0x6fd)](/\s/g,'')[_0x4e330a(0x6fd)](/\+/g,'')[_0x4e330a(0x6fd)](/\(/g,'')[_0x4e330a(0x6fd)](/\)/g,'')[_0x4e330a(0x6fa)](/\:/)[0x0]['split']('@')[0x0],_0xd0fe4d[_0x4e330a(0x767)]>=0x12?(_0xd0fe4d=_0xd0fe4d[_0x4e330a(0x6fd)](/[^\d-]/g,''),_0xd0fe4d+_0x4e330a(0x721)):(_0xd0fe4d=_0xd0fe4d[_0x4e330a(0x6fd)](/\D/g,''),_0xd0fe4d+_0x4e330a(0x420)));}async[a0_0xe54586(0x301)](_0x1508a3){const _0x4fd15c=a0_0xe54586;let _0x49e327=(await this['whatsappNumber']({'numbers':[_0x1508a3[_0x4fd15c(0x335)]]}))[0x0];if(!_0x49e327[_0x4fd15c(0x45a)]&&!(0x0,w[_0x4fd15c(0x1b1)])(_0x49e327[_0x4fd15c(0x106)])&&!_0x49e327[_0x4fd15c(0x106)][_0x4fd15c(0x1d8)](_0x4fd15c(0x191)))throw new m(_0x49e327);let _0x3747a4=_0x49e327[_0x4fd15c(0x106)];try{return await this[_0x4fd15c(0x42c)][_0x4fd15c(0x62a)](_0x3747a4),await this[_0x4fd15c(0x42c)][_0x4fd15c(0x79a)](_0x1508a3['presence'],_0x3747a4),{'status':0xc8,'presence':_0x1508a3[_0x4fd15c(0x6d1)]};}catch(_0x4508fd){let _0xd02310=_0x4fd15c(0x616),_0x559b1d=_0x4508fd instanceof Error?_0x4508fd['message']:typeof _0x4508fd=='object'?JSON[_0x4fd15c(0x548)](_0x4508fd):_0x4508fd,_0x44f728=_0xd02310+':\x20'+_0x559b1d;throw this[_0x4fd15c(0x2da)][_0x4fd15c(0x418)](this['instanceName']+'\x20('+this[_0x4fd15c(0x75a)][_0x4fd15c(0x494)]+'):\x20'+_0x44f728),new m(_0x44f728);}}async[a0_0xe54586(0x1b3)](_0x15aa87,_0x3fc10e,_0x3099ed,_0x2c4462=!0x0){const _0x53d105=a0_0xe54586;let _0x31c06c=await this[_0x53d105(0x6af)][_0x53d105(0x36d)][_0x53d105(0x68c)]({'where':{'_id':_0x15aa87}});if(!_0x31c06c&&!_0x2c4462)return;let _0x459f41={'lastUpdate':Date[_0x53d105(0x755)]()};if(_0x3099ed||!_0x31c06c?.[_0x53d105(0x666)]||Date[_0x53d105(0x755)]()-_0x31c06c[_0x53d105(0x666)]>0x18*0x3c*0x3c*0x3e8)try{let _0x351a27=(await this[_0x53d105(0x17e)](_0x15aa87))[_0x53d105(0x57c)];_0x459f41[_0x53d105(0xa4)]=_0x351a27;}catch(_0x3fcfde){let _0x306cae='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact',_0x5dd1bb=_0x3fcfde instanceof Error?_0x3fcfde['message']:typeof _0x3fcfde=='object'?JSON[_0x53d105(0x548)](_0x3fcfde):_0x3fcfde,_0x20d43e=_0x306cae+':\x20'+_0x5dd1bb;throw this[_0x53d105(0x2da)][_0x53d105(0x418)](this['instanceName']+'\x20('+this[_0x53d105(0x75a)]['wuid']+_0x53d105(0x601)+_0x20d43e),new m(_0x20d43e);}return _0x3fc10e&&_0x31c06c?.[_0x53d105(0x3dc)]!==_0x3fc10e&&(_0x459f41[_0x53d105(0x3dc)]=_0x3fc10e),Object[_0x53d105(0x25d)](_0x459f41)[_0x53d105(0x767)]>0x1&&(_0x31c06c?await this[_0x53d105(0x6af)][_0x53d105(0x36d)][_0x53d105(0x2e3)]({'where':{'_id':_0x15aa87}},_0x459f41):await this[_0x53d105(0x6af)][_0x53d105(0x36d)]['insert']([{'_id':_0x15aa87,..._0x459f41}]),_0x31c06c={..._0x31c06c,..._0x459f41}),{'cachedContact':_0x31c06c};}async[a0_0xe54586(0x17e)](_0x2a689e){const _0x27bd32=a0_0xe54586;let _0x2d6d0d=this[_0x27bd32(0x12c)](_0x2a689e);try{return{'wuid':_0x2d6d0d,'profilePictureUrl':await this[_0x27bd32(0x42c)][_0x27bd32(0x57c)](_0x2d6d0d,_0x27bd32(0x32e))};}catch{return{'wuid':_0x2d6d0d,'profilePictureUrl':null};}}async[a0_0xe54586(0x5b3)](_0x3cf6dd,_0x5cb537,_0x4de38b){const _0x5a3b4b=a0_0xe54586;try{_0x4de38b||(_0x4de38b={});let _0x555fc5=(await this[_0x5a3b4b(0x61c)]({'numbers':[_0x3cf6dd]}))[0x0];if(!_0x555fc5['exists']&&!(0x0,w[_0x5a3b4b(0x1b1)])(_0x555fc5[_0x5a3b4b(0x106)])&&!_0x555fc5[_0x5a3b4b(0x106)][_0x5a3b4b(0x1d8)](_0x5a3b4b(0x191)))throw new m(_0x555fc5);let _0x336297=_0x555fc5['jid'];if(_0x4de38b?.['delay']){await this[_0x5a3b4b(0x42c)][_0x5a3b4b(0x62a)](_0x336297),await this[_0x5a3b4b(0x42c)][_0x5a3b4b(0x79a)](_0x4de38b?.[_0x5a3b4b(0x6d1)]??_0x5a3b4b(0x7a4),_0x336297);let _0x319026=Math[_0x5a3b4b(0x29f)](_0x4de38b[_0x5a3b4b(0x267)],0x2710);await(0x0,w[_0x5a3b4b(0x267)])(_0x319026),await this[_0x5a3b4b(0x42c)][_0x5a3b4b(0x79a)](_0x5a3b4b(0x3f4),_0x336297);}let _0x5aae64=_0x4de38b?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x18b2e5;if(_0x4de38b?.['quoted']){let _0x14a014=_0x4de38b?.['quoted'],_0x2c7b7f=_0x14a014?.[_0x5a3b4b(0x406)]?_0x14a014:await this['getMessage'](_0x14a014[_0x5a3b4b(0x57b)],!0x0);if(!_0x2c7b7f)throw _0x5a3b4b(0x3e3);_0x18b2e5=_0x2c7b7f;}let _0x2abf57;if((0x0,w[_0x5a3b4b(0x1b1)])(_0x336297))try{let _0xf5ccc2=(await this['repository'][_0x5a3b4b(0x556)][_0x5a3b4b(0x68c)]({'where':{'_id':_0x336297}},this['instance'][_0x5a3b4b(0x494)]))[_0x5a3b4b(0x611)];if(!_0xf5ccc2)throw new U(_0x5a3b4b(0x1fc));_0x4de38b?.[_0x5a3b4b(0x647)]&&(_0x4de38b[_0x5a3b4b(0x647)]?.['everyOne']?_0x2abf57=_0xf5ccc2[_0x5a3b4b(0x39f)][_0x5a3b4b(0x588)](_0x382c2b=>_0x382c2b['id']):_0x4de38b[_0x5a3b4b(0x647)]?.['mentioned']?.[_0x5a3b4b(0x767)]&&(_0x2abf57=_0x4de38b[_0x5a3b4b(0x647)][_0x5a3b4b(0x318)][_0x5a3b4b(0x588)](_0x3ebbb8=>{const _0x3d7d92=_0x5a3b4b;let _0x42307c=this[_0x3d7d92(0x12c)](_0x3ebbb8);return(0x0,w[_0x3d7d92(0x1b1)])(_0x42307c)?null:_0x42307c;})));}catch{throw new U(_0x5a3b4b(0x1fc));}let _0x2002f6=await this['repository'][_0x5a3b4b(0x556)]['findOne']({'where':{'_id':_0x336297}},this[_0x5a3b4b(0x75a)][_0x5a3b4b(0x494)]),_0x417c0b=await((async()=>{const _0x82e9ae=_0x5a3b4b;let _0x5e7058={'quoted':_0x18b2e5,'ephemeralExpiration':_0x2002f6?.[_0x82e9ae(0x42a)]??0x0};if(!_0x5cb537[_0x82e9ae(0x642)]&&!_0x5cb537[_0x82e9ae(0x5aa)]&&!_0x5cb537[_0x82e9ae(0x1a4)]&&!_0x5cb537[_0x82e9ae(0x6fb)]&&_0x336297!=='status@broadcast'&&!_0x5cb537[_0x82e9ae(0x642)])return await this['client']['sendMessage'](_0x336297,{'forward':{'key':{'remoteJid':this[_0x82e9ae(0x75a)][_0x82e9ae(0x494)],'fromMe':!0x0},'message':_0x5cb537},'mentions':_0x2abf57},_0x5e7058);if(_0x5cb537['reactionMessage'])return await this[_0x82e9ae(0x42c)][_0x82e9ae(0x405)](_0x336297,{'react':{'text':_0x5cb537[_0x82e9ae(0x468)]['text'],'key':_0x5cb537[_0x82e9ae(0x468)][_0x82e9ae(0x57b)]}},_0x5e7058);if(_0x5cb537[_0x82e9ae(0x6fb)]){let _0xf54b54=_0x5cb537[_0x82e9ae(0x6fb)];return _0x4de38b?.[_0x82e9ae(0x378)]&&(_0xf54b54=await this[_0x82e9ae(0xb3)](_0xf54b54,_0x336297)),await this['client'][_0x82e9ae(0x405)](_0x336297,{'text':_0xf54b54,'mentions':_0x2abf57,'linkPreview':_0x5aae64},_0x5e7058);}return _0x336297===_0x82e9ae(0x745)?await this[_0x82e9ae(0x42c)][_0x82e9ae(0x405)](_0x336297,_0x5cb537['status']['content'],{'backgroundColor':_0x5cb537[_0x82e9ae(0x201)][_0x82e9ae(0x595)][_0x82e9ae(0x14f)],'font':_0x5cb537[_0x82e9ae(0x201)][_0x82e9ae(0x595)][_0x82e9ae(0x321)],'statusJidList':_0x5cb537[_0x82e9ae(0x201)][_0x82e9ae(0x595)][_0x82e9ae(0xf6)]}):await this[_0x82e9ae(0x42c)][_0x82e9ae(0x405)](_0x336297,_0x5cb537,_0x5e7058);})()),_0x418e7c=(0x0,w[_0x5a3b4b(0x1ee)])(_0x417c0b['message']),_0x3b35c8=(0x0,w[_0x5a3b4b(0x4b4)])(_0x418e7c),{message_normalized:_0x37a9d3}=this[_0x5a3b4b(0x5d9)](_0x418e7c,_0x3b35c8,null),_0x4de69f={'_id':_0x417c0b[_0x5a3b4b(0x57b)]['id'],'key':_0x417c0b[_0x5a3b4b(0x57b)],'pushName':_0x417c0b[_0x5a3b4b(0x17f)],'isGroup':_0x417c0b[_0x5a3b4b(0x57b)][_0x5a3b4b(0x2f3)][_0x5a3b4b(0x3fa)](_0x5a3b4b(0x721)),'profilePictureUrl':this[_0x5a3b4b(0x75a)][_0x5a3b4b(0x57c)],'message':_0x418e7c,'messageType':_0x3b35c8,'message_normalized':{'key':_0x417c0b['key'],'pushName':_0x417c0b[_0x5a3b4b(0x17f)],'messageTimestamp':_0x417c0b['messageTimestamp']&&_0x417c0b['messageTimestamp'][_0x5a3b4b(0x27f)]()[_0x5a3b4b(0x767)]<0xd?_0x417c0b['messageTimestamp']*0x3e8:_0x417c0b[_0x5a3b4b(0x34f)]||null,'source':(0x0,w[_0x5a3b4b(0x608)])(_0x417c0b['key']['id']),..._0x37a9d3},'messageTimestamp':_0x417c0b[_0x5a3b4b(0x34f)]&&_0x417c0b[_0x5a3b4b(0x34f)][_0x5a3b4b(0x27f)]()['length']<0xd?_0x417c0b[_0x5a3b4b(0x34f)]*0x3e8:_0x417c0b[_0x5a3b4b(0x34f)]||null,'owner':this[_0x5a3b4b(0x75a)]['wuid'],'source':(0x0,w[_0x5a3b4b(0x608)])(_0x417c0b[_0x5a3b4b(0x57b)]['id'])};return this['logger']['warn'](this[_0x5a3b4b(0x5bf)]+'\x20('+this[_0x5a3b4b(0x75a)][_0x5a3b4b(0x494)]+'):\x20enviado\x20para\x20['+_0x4de69f[_0x5a3b4b(0x57b)]?.[_0x5a3b4b(0x2f3)][_0x5a3b4b(0x6fd)](_0x5a3b4b(0x420),'')+_0x5a3b4b(0x41a)+_0x4de69f['messageType']+')'),_0x4de69f[_0x5a3b4b(0x104)]?.[_0x5a3b4b(0x37c)]&&this[_0x5a3b4b(0x2da)]['warn'](_0x4de69f[_0x5a3b4b(0x104)]?.[_0x5a3b4b(0x37c)]),this[_0x5a3b4b(0x6ba)](_0x5a3b4b(0x384),_0x4de69f),J(this[_0x5a3b4b(0x5bf)],_0x5a3b4b(0xea),{'message':_0x4de69f}),this[_0x5a3b4b(0x4ea)](this[_0x5a3b4b(0x291)]['get']('DATABASE'),_0x4de69f,_0x5a3b4b(0x1ff),_0x2002f6),await this['repository']['message'][_0x5a3b4b(0x1b7)]([_0x4de69f],this[_0x5a3b4b(0x75a)][_0x5a3b4b(0x494)]),_0x417c0b;}catch(_0x25b7a0){let _0x550074=_0x5a3b4b(0x686),_0x1e7d3f=_0x25b7a0 instanceof Error?_0x25b7a0[_0x5a3b4b(0x406)]:typeof _0x25b7a0=='object'?JSON[_0x5a3b4b(0x548)](_0x25b7a0):_0x25b7a0,_0x595fa1=_0x550074+':\x20'+_0x1e7d3f;throw this['logger'][_0x5a3b4b(0x418)](this[_0x5a3b4b(0x5bf)]+'\x20('+this[_0x5a3b4b(0x75a)]['wuid']+_0x5a3b4b(0x601)+_0x595fa1),new m(_0x595fa1);}}get[a0_0xe54586(0xd1)](){const _0x2311c1=a0_0xe54586;return this[_0x2311c1(0x109)];}async[a0_0xe54586(0x1e4)](_0xed2304){const _0x271d88=a0_0xe54586;let _0xc5d2ec=yi,_0x2bba95=tt;return _0x2bba95&&this[_0x271d88(0x5bf)][_0x271d88(0x4b5)]()['includes'](_0x2bba95[_0x271d88(0x4b5)]())&&(_0xed2304[_0x271d88(0x1e4)][_0x271d88(0x37c)]+='\x0a\x0a'+_0xc5d2ec),await this['sendMessageWithTyping'](_0xed2304['number'],{'conversation':_0xed2304[_0x271d88(0x1e4)][_0x271d88(0x37c)]},_0xed2304?.['options']);}async[a0_0xe54586(0x495)](_0x3dd487){const _0x285a04=a0_0xe54586;if(!_0x3dd487[_0x285a04(0x772)])throw new m(_0x285a04(0x21c));if(!_0x3dd487['content'])throw new m(_0x285a04(0x5dd));if(_0x3dd487[_0x285a04(0x43f)]){let _0x2e3086=await this[_0x285a04(0x6af)]['contact'][_0x285a04(0x43d)]({'where':{}},this[_0x285a04(0x75a)][_0x285a04(0x494)]);if(!_0x2e3086[_0x285a04(0x767)])throw new m(_0x285a04(0x2e9));_0x3dd487[_0x285a04(0xf6)]=_0x2e3086['filter'](_0x524697=>_0x524697['pushName'])[_0x285a04(0x588)](_0x5cec7c=>_0x5cec7c[_0x285a04(0x761)]);}if(!_0x3dd487[_0x285a04(0xf6)]?.[_0x285a04(0x767)]&&!_0x3dd487['allContacts'])throw new m('StatusJidList\x20is\x20required');if(_0x3dd487[_0x285a04(0x772)]===_0x285a04(0x37c)){if(!_0x3dd487[_0x285a04(0x14f)])throw new m(_0x285a04(0x4d6));if(!_0x3dd487[_0x285a04(0x321)])throw new m(_0x285a04(0x6c0));return{'content':{'text':_0x3dd487['content']},'option':{'backgroundColor':_0x3dd487['backgroundColor'],'font':_0x3dd487['font'],'statusJidList':_0x3dd487['statusJidList']}};}if(_0x3dd487[_0x285a04(0x772)]===_0x285a04(0x32e))return{'content':{'image':{'url':_0x3dd487['content']},'caption':_0x3dd487[_0x285a04(0x115)]},'option':{'statusJidList':_0x3dd487[_0x285a04(0xf6)]}};if(_0x3dd487[_0x285a04(0x772)]===_0x285a04(0x428))return{'content':{'video':{'url':_0x3dd487[_0x285a04(0x477)]},'caption':_0x3dd487[_0x285a04(0x115)]},'option':{'statusJidList':_0x3dd487[_0x285a04(0xf6)]}};if(_0x3dd487['type']===_0x285a04(0x642)){this[_0x285a04(0x2da)][_0x285a04(0x1bb)](this[_0x285a04(0x5bf)]+'\x20('+this[_0x285a04(0x75a)][_0x285a04(0x494)]+'):Type\x20defined\x20as\x20audio'),this['logger'][_0x285a04(0x1bb)](this[_0x285a04(0x5bf)]+'\x20('+this[_0x285a04(0x75a)][_0x285a04(0x494)]+_0x285a04(0x1f7));let _0x1acc43=await this['convertaudio'](_0x3dd487['content']);if(typeof _0x1acc43==_0x285a04(0x4c8)){this[_0x285a04(0x2da)][_0x285a04(0x1bb)](this[_0x285a04(0x5bf)]+'\x20('+this['instance'][_0x285a04(0x494)]+'):Audio\x20processed');let _0xe4a679=j[_0x285a04(0x722)](_0x1acc43)[_0x285a04(0x27f)](_0x285a04(0x257));return{'content':{'audio':Buffer[_0x285a04(0x40f)](_0xe4a679,_0x285a04(0x257)),'ptt':!0x0,'mimetype':_0x285a04(0x5df)},'option':{'statusJidList':_0x3dd487[_0x285a04(0xf6)]}};}else throw new I(_0x1acc43);}throw new m(_0x285a04(0x443));}async[a0_0xe54586(0x71e)](_0x2c0269){const _0x449ca4=a0_0xe54586;return await this[_0x449ca4(0x5b3)](_0x449ca4(0x745),{'status':await this[_0x449ca4(0x495)](_0x2c0269[_0x449ca4(0x71e)])});}async[a0_0xe54586(0x70b)](_0x26a479){const _0x1d9f03=a0_0xe54586;try{let _0x398094=await(0x0,w['prepareWAMessageMedia'])({[_0x26a479[_0x1d9f03(0x476)]]:(0x0,P[_0x1d9f03(0x18c)])(_0x26a479['media'])?{'url':_0x26a479[_0x1d9f03(0x50e)]}:Buffer[_0x1d9f03(0x40f)](_0x26a479[_0x1d9f03(0x50e)],'base64')},{'upload':this[_0x1d9f03(0x42c)][_0x1d9f03(0x19d)]}),_0x55b22b=_0x26a479[_0x1d9f03(0x476)]+_0x1d9f03(0x49a);if(_0x26a479[_0x1d9f03(0x476)]===_0x1d9f03(0xda)&&!_0x26a479[_0x1d9f03(0x673)]){let _0x4c9160=new RegExp(/.*\/(.+?)\./)[_0x1d9f03(0x77b)](_0x26a479[_0x1d9f03(0x50e)]);_0x26a479['fileName']=_0x4c9160?_0x4c9160[0x1]:null;}let _0x5256ed=(0x0,P[_0x1d9f03(0x18c)])(_0x26a479[_0x1d9f03(0x50e)])?_0x26a479[_0x1d9f03(0x50e)][_0x1d9f03(0x6fa)]('?')[0x0]:_0x26a479['media'],_0x1f1950;(0x0,P['isURL'])(_0x26a479['media'])?_0x1f1950=(0x0,kt[_0x1d9f03(0x30b)])(_0x5256ed):_0x26a479[_0x1d9f03(0x673)]&&_0x26a479[_0x1d9f03(0x673)][_0x1d9f03(0x1d8)]('.')?_0x1f1950=(0x0,kt[_0x1d9f03(0x30b)])(_0x26a479[_0x1d9f03(0x673)]):_0x1f1950=(0x0,kt[_0x1d9f03(0x30b)])(_0x26a479['media']);let _0x1afab8=yi,_0x36bcb3=tt;return _0x36bcb3&&this['instanceName'][_0x1d9f03(0x4b5)]()['includes'](_0x36bcb3['toLowerCase']())&&(_0x26a479[_0x1d9f03(0x115)]+='\x0a\x0a'+_0x1afab8),_0x398094[_0x55b22b][_0x1d9f03(0x115)]=_0x26a479?.[_0x1d9f03(0x115)],_0x398094[_0x55b22b][_0x1d9f03(0xec)]=_0x1f1950,_0x398094[_0x55b22b][_0x1d9f03(0x673)]=_0x26a479['fileName'],_0x26a479[_0x1d9f03(0x476)]===_0x1d9f03(0x428)&&(_0x398094[_0x55b22b]['jpegThumbnail']=Uint8Array[_0x1d9f03(0x40f)]((0x0,xe[_0x1d9f03(0x722)])((0x0,F[_0x1d9f03(0x569)])(process[_0x1d9f03(0x776)](),_0x1d9f03(0x4d1)))),_0x398094[_0x55b22b][_0x1d9f03(0x715)]=!0x1),(0x0,w[_0x1d9f03(0x6dd)])('',{[_0x55b22b]:{..._0x398094[_0x55b22b]}},{'userJid':this[_0x1d9f03(0x75a)][_0x1d9f03(0x494)]});}catch(_0x49c7b1){let _0x1a639d='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage',_0x5be1f9=_0x49c7b1 instanceof Error?_0x49c7b1[_0x1d9f03(0x406)]:typeof _0x49c7b1==_0x1d9f03(0x6c9)?JSON[_0x1d9f03(0x548)](_0x49c7b1):_0x49c7b1,_0x217993=_0x1a639d+':\x20'+_0x5be1f9;throw this[_0x1d9f03(0x2da)]['error'](this[_0x1d9f03(0x5bf)]+'\x20('+this[_0x1d9f03(0x75a)][_0x1d9f03(0x494)]+_0x1d9f03(0x601)+_0x217993),new I(_0x217993);}}async[a0_0xe54586(0x38c)](_0x14286b){const _0x54b41b=a0_0xe54586;let _0x2aba2f=await this[_0x54b41b(0x70b)](_0x14286b['mediaMessage']);return await this[_0x54b41b(0x5b3)](_0x14286b[_0x54b41b(0x335)],{..._0x2aba2f['message']},_0x14286b?.[_0x54b41b(0x11b)]);}async[a0_0xe54586(0x6e4)](_0x3e1661,_0x2e67a7){const _0x111d16=a0_0xe54586;try{this[_0x111d16(0x2da)][_0x111d16(0x1bb)](this[_0x111d16(0x5bf)]+'\x20('+this[_0x111d16(0x75a)][_0x111d16(0x494)]+_0x111d16(0x53e));let _0x4d79cd,_0x317a4a=_0x2e67a7+'-'+new Date()['getTime']();this[_0x111d16(0x2da)][_0x111d16(0x1bb)](this['instanceName']+'\x20('+this[_0x111d16(0x75a)][_0x111d16(0x494)]+'):Hash\x20to\x20image\x20name:\x20'+_0x317a4a);let _0x1eee94=''+(0x0,F['join'])(this[_0x111d16(0x18f)],_0x317a4a+_0x111d16(0x752));if(this[_0x111d16(0x2da)][_0x111d16(0x1bb)](this['instanceName']+'\x20('+this[_0x111d16(0x75a)][_0x111d16(0x494)]+_0x111d16(0x242)+_0x1eee94),(0x0,P[_0x111d16(0xc6)])(_0x3e1661)){this[_0x111d16(0x2da)][_0x111d16(0x1bb)](this['instanceName']+'\x20('+this[_0x111d16(0x75a)]['wuid']+_0x111d16(0x211));let _0x2bdff6=_0x3e1661['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x510ba0=Buffer[_0x111d16(0x40f)](_0x2bdff6,_0x111d16(0x257));_0x4d79cd=''+(0x0,F[_0x111d16(0x569)])(this['storePath'],_0x111d16(0x6b5)+_0x317a4a+_0x111d16(0x3e6)),this[_0x111d16(0x2da)]['verbose'](this[_0x111d16(0x5bf)]+'\x20('+this[_0x111d16(0x75a)][_0x111d16(0x494)]+'):Image\x20path:\x20'+_0x4d79cd),await(0x0,jt[_0x111d16(0x2f8)])(_0x510ba0)[_0x111d16(0x234)](_0x4d79cd),this[_0x111d16(0x2da)][_0x111d16(0x1bb)](this['instanceName']+'\x20('+this[_0x111d16(0x75a)]['wuid']+'):Image\x20created');}else{this[_0x111d16(0x2da)][_0x111d16(0x1bb)](this[_0x111d16(0x5bf)]+'\x20('+this[_0x111d16(0x75a)][_0x111d16(0x494)]+_0x111d16(0x377));let _0x198a8e=new Date()['getTime'](),_0x323e51=_0x3e1661+_0x111d16(0x51e)+_0x198a8e;this['logger'][_0x111d16(0x1bb)](this[_0x111d16(0x5bf)]+'\x20('+this[_0x111d16(0x75a)][_0x111d16(0x494)]+'):including\x20timestamp\x20in\x20url:\x20'+_0x323e51);let _0x54bea4=await K[_0x111d16(0x2f8)][_0x111d16(0x6a4)](_0x323e51,{'responseType':_0x111d16(0x36f)});this[_0x111d16(0x2da)][_0x111d16(0x1bb)](this['instanceName']+'\x20('+this['instance'][_0x111d16(0x494)]+_0x111d16(0x91));let _0x1b71f1=Buffer[_0x111d16(0x40f)](_0x54bea4[_0x111d16(0x6e7)],_0x111d16(0x6ef));_0x4d79cd=''+(0x0,F[_0x111d16(0x569)])(this[_0x111d16(0x18f)],_0x111d16(0x6b5)+_0x317a4a+'.png'),this['logger'][_0x111d16(0x1bb)](this[_0x111d16(0x5bf)]+'\x20('+this[_0x111d16(0x75a)][_0x111d16(0x494)]+_0x111d16(0x1eb)+_0x4d79cd),await(0x0,jt[_0x111d16(0x2f8)])(_0x1b71f1)[_0x111d16(0x234)](_0x4d79cd),this[_0x111d16(0x2da)][_0x111d16(0x1bb)](this[_0x111d16(0x5bf)]+'\x20('+this[_0x111d16(0x75a)]['wuid']+'):Image\x20created');}return await(0x0,jt[_0x111d16(0x2f8)])(_0x4d79cd)[_0x111d16(0x681)]()['toFile'](_0x1eee94),this['logger'][_0x111d16(0x1bb)](this[_0x111d16(0x5bf)]+'\x20('+this[_0x111d16(0x75a)][_0x111d16(0x494)]+_0x111d16(0xf1)),j[_0x111d16(0x525)](_0x4d79cd),this[_0x111d16(0x2da)][_0x111d16(0x1bb)](this[_0x111d16(0x5bf)]+'\x20('+this[_0x111d16(0x75a)]['wuid']+_0x111d16(0x774)),_0x1eee94;}catch(_0x22dafb){let _0x392488=_0x111d16(0x6a3),_0x12028e=_0x22dafb instanceof Error?_0x22dafb[_0x111d16(0x406)]:typeof _0x22dafb=='object'?JSON[_0x111d16(0x548)](_0x22dafb):_0x22dafb,_0x504f10=_0x392488+':\x20'+_0x12028e;this[_0x111d16(0x2da)][_0x111d16(0x418)](this[_0x111d16(0x5bf)]+'\x20('+this[_0x111d16(0x75a)][_0x111d16(0x494)]+_0x111d16(0x601)+_0x504f10);}}async[a0_0xe54586(0x6ac)](_0x546bf4){const _0x140cd4=a0_0xe54586;let _0x319868=await this[_0x140cd4(0x6e4)](_0x546bf4[_0x140cd4(0x5b2)][_0x140cd4(0x32e)],_0x546bf4[_0x140cd4(0x335)]),_0x157a54=await this['sendMessageWithTyping'](_0x546bf4[_0x140cd4(0x335)],{'sticker':{'url':_0x319868}},_0x546bf4?.['options']);return j[_0x140cd4(0x525)](_0x319868),this['logger'][_0x140cd4(0x1bb)](this[_0x140cd4(0x5bf)]+'\x20('+this[_0x140cd4(0x75a)][_0x140cd4(0x494)]+_0x140cd4(0x718)),_0x157a54;}async[a0_0xe54586(0x2f5)](_0x32b5ea){const _0x24ad8c=a0_0xe54586;if(this[_0x24ad8c(0x2da)][_0x24ad8c(0x1bb)](this[_0x24ad8c(0x5bf)]+'\x20('+this[_0x24ad8c(0x75a)][_0x24ad8c(0x494)]+_0x24ad8c(0x35a)),!_0x32b5ea[_0x24ad8c(0x11b)]?.[_0x24ad8c(0x613)]&&_0x32b5ea[_0x24ad8c(0x11b)]?.[_0x24ad8c(0x613)]!==!0x1&&(_0x32b5ea['options'][_0x24ad8c(0x613)]=!0x0),_0x32b5ea[_0x24ad8c(0x11b)]?.[_0x24ad8c(0x613)]){let _0x3b84cf=await this[_0x24ad8c(0x5c3)](_0x32b5ea[_0x24ad8c(0x2b9)][_0x24ad8c(0x642)]);if(typeof _0x3b84cf==_0x24ad8c(0x4c8)){let _0x15de29=j[_0x24ad8c(0x722)](_0x3b84cf)[_0x24ad8c(0x27f)](_0x24ad8c(0x257));return this[_0x24ad8c(0x5b3)](_0x32b5ea['number'],{'audio':Buffer[_0x24ad8c(0x40f)](_0x15de29,_0x24ad8c(0x257)),'ptt':!0x0,'mimetype':_0x24ad8c(0x118)},{'presence':'recording','delay':_0x32b5ea?.[_0x24ad8c(0x11b)]?.[_0x24ad8c(0x267)]});}else throw new I(_0x3b84cf);}return await this['sendMessageWithTyping'](_0x32b5ea['number'],{'audio':(0x0,P[_0x24ad8c(0x18c)])(_0x32b5ea[_0x24ad8c(0x2b9)][_0x24ad8c(0x642)])?{'url':_0x32b5ea[_0x24ad8c(0x2b9)][_0x24ad8c(0x642)]}:Buffer['from'](_0x32b5ea[_0x24ad8c(0x2b9)][_0x24ad8c(0x642)],_0x24ad8c(0x257)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':'recording','delay':_0x32b5ea?.[_0x24ad8c(0x11b)]?.[_0x24ad8c(0x267)]});}async[a0_0xe54586(0x5c3)](_0x37014b){const _0x5b8fdf=a0_0xe54586;this[_0x5b8fdf(0x2da)][_0x5b8fdf(0x1bb)](this[_0x5b8fdf(0x5bf)]+'\x20('+this['instance']['wuid']+_0x5b8fdf(0x1f7));let _0x1655a7=(0x0,P[_0x5b8fdf(0x18c)])(_0x37014b)?(0x0,Ft['createHash'])(_0x5b8fdf(0x1b6))['update'](_0x37014b)[_0x5b8fdf(0x2cd)]('hex'):(0x0,Ft['createHash'])(_0x5b8fdf(0x1b6))[_0x5b8fdf(0x2e3)](_0x37014b)['digest'](_0x5b8fdf(0x54c)),_0x3f8b66=''+(0x0,F[_0x5b8fdf(0x569)])(this[_0x5b8fdf(0x18f)],_0x1655a7+_0x5b8fdf(0xbc));if(j[_0x5b8fdf(0x41b)](_0x3f8b66))return this['logger'][_0x5b8fdf(0x1bb)](this[_0x5b8fdf(0x5bf)]+'\x20('+this[_0x5b8fdf(0x75a)][_0x5b8fdf(0x494)]+_0x5b8fdf(0x190)),_0x3f8b66;let _0x288892=''+(0x0,F['join'])(this[_0x5b8fdf(0x18f)],_0x5b8fdf(0x6b5)+(0x0,Me['v4'])()+_0x5b8fdf(0x615));if((0x0,P[_0x5b8fdf(0x18c)])(_0x37014b)){let _0x52c9cb=new Date()[_0x5b8fdf(0x4eb)](),_0x36ede6=_0x37014b+_0x5b8fdf(0x51e)+_0x52c9cb,_0x7266f=await K[_0x5b8fdf(0x2f8)][_0x5b8fdf(0x6a4)](_0x36ede6,{'responseType':_0x5b8fdf(0x36f)});j[_0x5b8fdf(0x2c9)](_0x288892,_0x7266f[_0x5b8fdf(0x6e7)]);}else{let _0x122337=Buffer[_0x5b8fdf(0x40f)](_0x37014b,_0x5b8fdf(0x257));j[_0x5b8fdf(0x2c9)](_0x288892,_0x122337);}return new Promise((_0x2a8460,_0x25335a)=>{const _0x4c4be1=_0x5b8fdf;(0x0,De[_0x4c4be1(0x77b)])($s[_0x4c4be1(0x2f8)][_0x4c4be1(0x65c)]+_0x4c4be1(0x3fe)+_0x288892+_0x4c4be1(0x6ed)+_0x3f8b66+_0x4c4be1(0x25f),_0x5d6693=>{const _0x56dbd7=_0x4c4be1;if(j[_0x56dbd7(0x525)](_0x288892),_0x5d6693){this[_0x56dbd7(0x2da)]['verbose'](this[_0x56dbd7(0x5bf)]+'\x20('+this[_0x56dbd7(0x75a)][_0x56dbd7(0x494)]+_0x56dbd7(0x15c)),_0x25335a(_0x5d6693);return;}this[_0x56dbd7(0x2da)][_0x56dbd7(0x1bb)](this[_0x56dbd7(0x5bf)]+'\x20('+this[_0x56dbd7(0x75a)][_0x56dbd7(0x494)]+'):Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x2a8460(_0x3f8b66);});});}async[a0_0xe54586(0x5e3)](_0x3b4a00){const _0x102ffd=a0_0xe54586;this[_0x102ffd(0x2da)][_0x102ffd(0x1bb)](this[_0x102ffd(0x5bf)]+'\x20('+this[_0x102ffd(0x75a)][_0x102ffd(0x494)]+'):Processing\x20audio');let _0x19f409=(0x0,Ft['createHash'])(_0x102ffd(0x1b6))['update'](_0x3b4a00)[_0x102ffd(0x2cd)]('hex'),_0x28eb45=''+(0x0,F[_0x102ffd(0x569)])(this[_0x102ffd(0x18f)],_0x19f409+_0x102ffd(0x615));if(j['existsSync'](_0x28eb45))return this[_0x102ffd(0x2da)]['verbose'](this[_0x102ffd(0x5bf)]+'\x20('+this[_0x102ffd(0x75a)]['wuid']+_0x102ffd(0x190)),F[_0x102ffd(0x2f8)][_0x102ffd(0x31b)](_0x28eb45);let _0x569def=''+(0x0,F[_0x102ffd(0x569)])(this[_0x102ffd(0x18f)],_0x102ffd(0x6b5)+_0x19f409+_0x102ffd(0xbc));if((0x0,P[_0x102ffd(0x18c)])(_0x3b4a00)){let _0x44fc4f=new Date()[_0x102ffd(0x4eb)](),_0x2f8b9f=_0x3b4a00+_0x102ffd(0x51e)+_0x44fc4f,_0x2203f8=await K[_0x102ffd(0x2f8)][_0x102ffd(0x6a4)](_0x2f8b9f,{'responseType':'arraybuffer'});j[_0x102ffd(0x2c9)](_0x569def,_0x2203f8[_0x102ffd(0x6e7)]);}else{let _0x2c3ca1=Buffer[_0x102ffd(0x40f)](_0x3b4a00,_0x102ffd(0x257));j[_0x102ffd(0x2c9)](_0x569def,_0x2c3ca1);}return new Promise((_0x480e9b,_0x1ecfde)=>{const _0x111ca4=_0x102ffd;(0x0,De[_0x111ca4(0x77b)])($s[_0x111ca4(0x2f8)][_0x111ca4(0x65c)]+'\x20-i\x20'+_0x569def+_0x111ca4(0x329)+_0x28eb45+_0x111ca4(0x25f),_0x1d5dcb=>{const _0x5c1400=_0x111ca4;if(j[_0x5c1400(0x525)](_0x569def),_0x1d5dcb){this[_0x5c1400(0x2da)]['verbose'](this[_0x5c1400(0x5bf)]+'\x20('+this[_0x5c1400(0x75a)]['wuid']+_0x5c1400(0x15c)),_0x1ecfde(_0x1d5dcb);return;}this[_0x5c1400(0x2da)][_0x5c1400(0x1bb)](this[_0x5c1400(0x5bf)]+'\x20('+this[_0x5c1400(0x75a)][_0x5c1400(0x494)]+_0x5c1400(0x455)),_0x480e9b(F[_0x5c1400(0x2f8)]['basename'](_0x28eb45));});});}async[a0_0xe54586(0x304)](_0x3cc323){const _0x44769a=a0_0xe54586;let _0x12b645={},_0x3a5159=_0x44769a(0x1e5);if(_0x3cc323[_0x44769a(0x304)]?.[_0x44769a(0x38c)]){_0x3a5159=_0x3cc323[_0x44769a(0x304)][_0x44769a(0x38c)]?.[_0x44769a(0x476)][_0x44769a(0x290)]()??_0x44769a(0x1e5),_0x12b645['mediaKey']=_0x3a5159[_0x44769a(0x4b5)]()+_0x44769a(0x49a);let _0x47b9ca=await this[_0x44769a(0x70b)](_0x3cc323['buttonMessage']['mediaMessage']);_0x12b645[_0x44769a(0x406)]=_0x47b9ca[_0x44769a(0x406)][_0x12b645[_0x44769a(0x451)]],_0x12b645[_0x44769a(0x2f4)]='*'+_0x3cc323[_0x44769a(0x304)][_0x44769a(0x27e)]+_0x44769a(0x4fe)+_0x3cc323[_0x44769a(0x304)][_0x44769a(0x1de)];}let _0x47f1a3={'text':_0x3cc323[_0x44769a(0x304)][_0x44769a(0x3c2)][_0x44769a(0x588)](_0x1fa2e5=>_0x1fa2e5[_0x44769a(0x3ce)]),'ids':_0x3cc323['buttonMessage'][_0x44769a(0x3c2)][_0x44769a(0x588)](_0x149a86=>_0x149a86[_0x44769a(0x6df)])};if(!(0x0,P[_0x44769a(0x1d6)])(_0x47f1a3[_0x44769a(0x37c)])||!(0x0,P['arrayUnique'])(_0x47f1a3['ids']))throw new m(_0x44769a(0x619),_0x44769a(0x4cd));return await this['sendMessageWithTyping'](_0x3cc323['number'],{'buttonsMessage':{'text':_0x12b645?.[_0x44769a(0x451)]?void 0x0:_0x3cc323['buttonMessage'][_0x44769a(0x27e)],'contentText':_0x12b645?.[_0x44769a(0x2f4)]??_0x3cc323['buttonMessage'][_0x44769a(0x1de)],'footerText':_0x3cc323[_0x44769a(0x304)]?.[_0x44769a(0x5f4)],'buttons':_0x3cc323['buttonMessage'][_0x44769a(0x3c2)]['map'](_0x560dd4=>({'buttonText':{'displayText':_0x560dd4[_0x44769a(0x3ce)]},'buttonId':_0x560dd4[_0x44769a(0x6df)],'type':0x1})),'headerType':w[_0x44769a(0x506)][_0x44769a(0x49a)][_0x44769a(0x2ee)][_0x44769a(0x638)][_0x3a5159],[_0x12b645?.[_0x44769a(0x451)]]:_0x12b645?.[_0x44769a(0x406)]}},_0x3cc323?.[_0x44769a(0x11b)]);}async[a0_0xe54586(0x2b4)](_0x1f83cb){const _0x3c412b=a0_0xe54586;return await this['sendMessageWithTyping'](_0x1f83cb[_0x3c412b(0x335)],{'locationMessage':{'degreesLatitude':_0x1f83cb[_0x3c412b(0x2b4)][_0x3c412b(0xab)],'degreesLongitude':_0x1f83cb[_0x3c412b(0x2b4)]['longitude'],'name':_0x1f83cb['locationMessage']?.[_0x3c412b(0x3dc)],'address':_0x1f83cb[_0x3c412b(0x2b4)]?.[_0x3c412b(0x75f)]}},_0x1f83cb?.[_0x3c412b(0x11b)]);}async[a0_0xe54586(0x279)](_0x4602d0){const _0x3fc63e=a0_0xe54586;let _0x30c3f1={},_0x28028c=async _0x1d1562=>{const _0x537bd7=a0_0x4692;let _0x346ade=_0x537bd7(0x99)+_0x1d1562[_0x537bd7(0x469)]+'\x0aFN:'+_0x1d1562[_0x537bd7(0x469)]+'\x0a';_0x1d1562[_0x537bd7(0x624)]&&(_0x346ade+=_0x537bd7(0x48a)+_0x1d1562[_0x537bd7(0x624)]+';\x0a'),_0x1d1562[_0x537bd7(0x311)]&&(_0x346ade+=_0x537bd7(0x72c)+_0x1d1562[_0x537bd7(0x311)]+'\x0a'),_0x1d1562['url']&&(_0x346ade+=_0x537bd7(0x727)+_0x1d1562[_0x537bd7(0x4be)]+'\x0a');let _0x579db0='',_0x286d89=0x1;if(_0x1d1562[_0x537bd7(0x3c7)]){let _0x5d0289=_0x1d1562[_0x537bd7(0x3c7)][_0x537bd7(0x6fa)]('|');for(let _0x4975ce of _0x5d0289){let _0x5bfdb8=await this[_0x537bd7(0x61c)]({'numbers':[_0x4975ce]}),_0x529b0a=(_0x5bfdb8[_0x537bd7(0x767)]>0x0?_0x5bfdb8[0x0][_0x537bd7(0x106)]:this[_0x537bd7(0x12c)](_0x4975ce))[_0x537bd7(0x6fd)](_0x537bd7(0x420),'');_0x579db0+=_0x537bd7(0x167)+_0x286d89+_0x537bd7(0x5e6)+_0x529b0a+':'+_0x4975ce+_0x537bd7(0x1d1)+_0x286d89+_0x537bd7(0x131),_0x286d89++;}}return _0x346ade+=_0x579db0+_0x537bd7(0x5d3),_0x346ade;};return _0x4602d0['contactMessage'][_0x3fc63e(0x767)]===0x1?_0x30c3f1[_0x3fc63e(0x279)]={'displayName':_0x4602d0[_0x3fc63e(0x279)][0x0]['fullName'],'vcard':await _0x28028c(_0x4602d0['contactMessage'][0x0])}:_0x30c3f1[_0x3fc63e(0x182)]={'displayName':_0x4602d0[_0x3fc63e(0x279)]['length']+_0x3fc63e(0x72b),'contacts':await Promise['all'](_0x4602d0[_0x3fc63e(0x279)]['map'](async _0x2d5dba=>({'displayName':_0x2d5dba['fullName'],'vcard':await _0x28028c(_0x2d5dba)})))},await this['sendMessageWithTyping'](_0x4602d0['number'],{..._0x30c3f1},_0x4602d0?.['options']);}async[a0_0xe54586(0x468)](_0x290be2){const _0x5dde0a=a0_0xe54586;return await this[_0x5dde0a(0x5b3)](_0x290be2[_0x5dde0a(0x468)][_0x5dde0a(0x57b)][_0x5dde0a(0x2f3)],{'reactionMessage':{'key':_0x290be2[_0x5dde0a(0x468)][_0x5dde0a(0x57b)],'text':_0x290be2[_0x5dde0a(0x468)][_0x5dde0a(0x174)]}});}async['whatsappNumber'](_0x42627b){const _0x13b79f=a0_0xe54586;let _0x4dbf44=[];for await(let _0x586bd5 of _0x42627b[_0x13b79f(0x4a3)]){let _0x527506=this[_0x13b79f(0x12c)](_0x586bd5),_0xe3d6f7=!0x1;try{if((0x0,w[_0x13b79f(0x1b1)])(_0x527506)){let _0x5691b4=(await this[_0x13b79f(0x6af)][_0x13b79f(0x556)][_0x13b79f(0x68c)]({'where':{'_id':_0x527506}},this['instance'][_0x13b79f(0x494)]))[_0x13b79f(0x611)];_0xe3d6f7=!!_0x5691b4?.['id']&&!!_0x5691b4?.[_0x13b79f(0x233)],_0x4dbf44[_0x13b79f(0x2d6)](new ye(_0x5691b4['id'],_0xe3d6f7,_0x5691b4?.['subject']));}else{let _0x3a9fb9=(await this[_0x13b79f(0x42c)][_0x13b79f(0x4e7)](_0x527506))[0x0];_0xe3d6f7=_0x3a9fb9[_0x13b79f(0x45a)],_0x4dbf44[_0x13b79f(0x2d6)](new ye(_0x3a9fb9[_0x13b79f(0x106)],_0xe3d6f7));}}catch{(0x0,w['isJidGroup'])(_0x527506)||await this['deleteImportedChat'](_0x527506,_0xe3d6f7),_0x4dbf44[_0x13b79f(0x2d6)](new ye(_0x586bd5,!0x1));}}return _0x4dbf44;}async[a0_0xe54586(0x501)](_0x4e7377,_0x1c4e7d){const _0x1284bf=a0_0xe54586;try{await this[_0x1284bf(0x6af)][_0x1284bf(0x556)][_0x1284bf(0x68c)]({'where':{'_id':_0x4e7377,'imported':!0x0}},this[_0x1284bf(0x75a)][_0x1284bf(0x494)])&&(_0x1c4e7d||(await this[_0x1284bf(0x6af)]['chat']['deleteChat'](_0x4e7377,this[_0x1284bf(0x75a)][_0x1284bf(0x494)]),this[_0x1284bf(0x2da)][_0x1284bf(0x6e5)](_0x1284bf(0x704)+_0x4e7377+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.')));}catch(_0x2aea0a){let _0x145fd4='Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat',_0xa1e109=_0x2aea0a instanceof Error?_0x2aea0a[_0x1284bf(0x406)]:typeof _0x2aea0a==_0x1284bf(0x6c9)?JSON['stringify'](_0x2aea0a):_0x2aea0a,_0x1bea98=_0x145fd4+':\x20'+_0xa1e109;this['logger'][_0x1284bf(0x418)](this['instanceName']+'\x20('+this[_0x1284bf(0x75a)][_0x1284bf(0x494)]+_0x1284bf(0x601)+_0x1bea98);}}async[a0_0xe54586(0x16b)](_0xab0107){const _0xfdbb00=a0_0xe54586;try{let _0x3f2f7b=_0xab0107[_0xfdbb00(0xc4)][_0xfdbb00(0x5b0)](_0x1a442c=>(0x0,w[_0xfdbb00(0x1b1)])(_0x1a442c[_0xfdbb00(0x2f3)])||(0x0,w[_0xfdbb00(0x1d5)])(_0x1a442c[_0xfdbb00(0x2f3)]))[_0xfdbb00(0x588)](_0x36a8ca=>({'remoteJid':_0x36a8ca['remoteJid'],'fromMe':_0x36a8ca[_0xfdbb00(0x593)],'id':_0x36a8ca['id']}));await this['client'][_0xfdbb00(0xc4)](_0x3f2f7b);let _0x2a3363=_0x3f2f7b[_0xfdbb00(0x588)](_0x3076c4=>this['updateMessage'](_0x3076c4,{'status':_0xfdbb00(0x541),'owner':this[_0xfdbb00(0x75a)][_0xfdbb00(0x494)]})),_0x65ab57=_0x3f2f7b['map'](_0x6fd070=>this['repository'][_0xfdbb00(0x556)]['updateOne']({'where':{'_id':_0x6fd070[_0xfdbb00(0x2f3)]}},{'unreadcount':0x0},this['instance']['wuid'])),[_0x40f5e0,_0x4bff8f]=await Promise['all']([Promise[_0xfdbb00(0x788)](_0x2a3363),Promise['all'](_0x65ab57)]);return _0x4bff8f['filter'](_0x170e66=>_0x170e66!==null)['forEach'](_0x2bed8b=>{const _0x5af0ec=_0xfdbb00;J(this[_0x5af0ec(0x5bf)],_0x5af0ec(0xc9),{'chat':_0x2bed8b});}),{'message':_0xfdbb00(0x716),'read':_0xfdbb00(0x708)};}catch(_0x7a30b8){let _0x2bb6a9='Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida',_0x16fdfe=_0x7a30b8 instanceof Error?_0x7a30b8[_0xfdbb00(0x406)]:typeof _0x7a30b8==_0xfdbb00(0x6c9)?JSON['stringify'](_0x7a30b8):_0x7a30b8,_0x34d3cc=_0x2bb6a9+':\x20'+_0x16fdfe;throw this[_0xfdbb00(0x2da)][_0xfdbb00(0x418)](this[_0xfdbb00(0x5bf)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x34d3cc),new I(_0x34d3cc);}}async[a0_0xe54586(0x77d)](_0x199c8d){const _0x40b636=a0_0xe54586;let _0x4fbe99={'where':{'key':{'remoteJid':_0x199c8d}},'limit':0x1},_0x3c1e10=await this['fetchMessages'](_0x4fbe99);return _0x3c1e10||(console[_0x40b636(0x418)]('Last\x20message\x20not\x20found\x20for\x20number:',_0x199c8d),null);}async[a0_0xe54586(0x78d)](_0x23b319){const _0x53806f=a0_0xe54586;this[_0x53806f(0x2da)]['verbose'](this[_0x53806f(0x5bf)]+'\x20('+this['instance'][_0x53806f(0x494)]+_0x53806f(0x212));try{let _0x136593=_0x23b319['lastMessage'],_0x275061=_0x23b319['chat'];if(!_0x136593&&_0x275061?_0x136593=await this['getLastMessage'](_0x275061):(_0x136593=_0x23b319[_0x53806f(0x3ac)],_0x136593[_0x53806f(0x34f)]=_0x136593?.[_0x53806f(0x34f)]??Date['now'](),_0x275061=_0x136593?.[_0x53806f(0x57b)]?.[_0x53806f(0x2f3)]),!_0x136593||Object[_0x53806f(0x25d)](_0x136593)['length']===0x0)throw new U(_0x53806f(0x22b));this[_0x53806f(0x2da)][_0x53806f(0x1bb)](this[_0x53806f(0x5bf)]+'\x20('+this[_0x53806f(0x75a)][_0x53806f(0x494)]+_0x53806f(0x408)+_0x275061);try{await this['client']['chatModify']({'archive':_0x23b319[_0x53806f(0x194)],'lastMessages':[_0x136593]},this[_0x53806f(0x12c)](_0x275061));}catch(_0xf12b9b){let _0x5a574d=_0x53806f(0x671)+_0x275061,_0x1ce988=_0xf12b9b instanceof Error?_0xf12b9b[_0x53806f(0x406)]:typeof _0xf12b9b==_0x53806f(0x6c9)?JSON[_0x53806f(0x548)](_0xf12b9b):_0xf12b9b,_0x142091=_0x5a574d+':\x20'+_0x1ce988;this['logger'][_0x53806f(0x418)](this[_0x53806f(0x5bf)]+'\x20('+this[_0x53806f(0x75a)][_0x53806f(0x494)]+_0x53806f(0x601)+_0x142091);}this['logger'][_0x53806f(0x1bb)](this['instanceName']+'\x20('+this[_0x53806f(0x75a)][_0x53806f(0x494)]+_0x53806f(0x563)+_0x275061);let _0x5a11b1=await this[_0x53806f(0x6af)][_0x53806f(0x556)]['updateOne']({'where':{'_id':_0x136593?.[_0x53806f(0x57b)]?.[_0x53806f(0x2f3)]}},{'archived':_0x23b319[_0x53806f(0x194)]},this['instance'][_0x53806f(0x494)]);return _0x5a11b1?(this[_0x53806f(0x2da)][_0x53806f(0x1bb)](this[_0x53806f(0x5bf)]+'\x20('+this[_0x53806f(0x75a)][_0x53806f(0x494)]+_0x53806f(0x726)+JSON['stringify'](_0x5a11b1)),J(this[_0x53806f(0x5bf)],_0x53806f(0xc9),{'chat':_0x5a11b1})):this['logger'][_0x53806f(0x418)](this[_0x53806f(0x5bf)]+'\x20('+this[_0x53806f(0x75a)]['wuid']+_0x53806f(0x3e8)+_0x275061),{'chatId':_0x275061,'archived':_0x23b319[_0x53806f(0x194)]};}catch(_0x47d7ae){let _0x506783=_0x53806f(0x2f6),_0x150cce=_0x47d7ae instanceof Error?_0x47d7ae[_0x53806f(0x406)]:typeof _0x47d7ae=='object'?JSON[_0x53806f(0x548)](_0x47d7ae):_0x47d7ae,_0xe4a94=_0x506783+':\x20'+_0x150cce;throw this[_0x53806f(0x2da)][_0x53806f(0x418)](this[_0x53806f(0x5bf)]+'\x20('+this[_0x53806f(0x75a)]['wuid']+_0x53806f(0x601)+_0xe4a94),new I(_0xe4a94);}}async[a0_0xe54586(0x19b)](_0x1ffaf9){const _0x8f1c19=a0_0xe54586;this[_0x8f1c19(0x2da)]['verbose'](this[_0x8f1c19(0x5bf)]+'\x20('+this[_0x8f1c19(0x75a)]['wuid']+_0x8f1c19(0x11e));try{let _0x28b8c5=await this[_0x8f1c19(0x77d)](_0x1ffaf9);if(!_0x28b8c5||Object[_0x8f1c19(0x25d)](_0x28b8c5)[_0x8f1c19(0x767)]===0x0)throw new U(_0x8f1c19(0x22b));let _0x2cc7e3=_0x28b8c5[0x0];this['logger']['verbose'](this[_0x8f1c19(0x5bf)]+'\x20('+this[_0x8f1c19(0x75a)][_0x8f1c19(0x494)]+'):Delete\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x1ffaf9);try{await this[_0x8f1c19(0x42c)][_0x8f1c19(0x3a1)]({'delete':!0x0,'lastMessages':[{'key':_0x2cc7e3['key'],'messageTimestamp':_0x2cc7e3[_0x8f1c19(0x34f)]}]},this['createJid'](_0x1ffaf9));}catch(_0x1cec8e){this[_0x8f1c19(0x2da)][_0x8f1c19(0x418)](_0x8f1c19(0x671)+_0x1ffaf9+':\x20'+_0x1cec8e[_0x8f1c19(0x27f)]());}this['logger']['verbose'](this[_0x8f1c19(0x5bf)]+'\x20('+this[_0x8f1c19(0x75a)][_0x8f1c19(0x494)]+_0x8f1c19(0x563)+_0x1ffaf9);return;}catch(_0x421986){throw this[_0x8f1c19(0x2da)][_0x8f1c19(0x418)](this[_0x8f1c19(0x5bf)]+'\x20('+this[_0x8f1c19(0x75a)]['wuid']+_0x8f1c19(0x19a)+_0x421986[_0x8f1c19(0x27f)]()),new I({'archived':!0x1,'message':[_0x8f1c19(0x98),_0x421986[_0x8f1c19(0x27f)]()]});}}async[a0_0xe54586(0x6f9)](_0x6651f){const _0xa1d071=a0_0xe54586;try{let _0x58ccc0=await this['client'][_0xa1d071(0x405)](_0x6651f[_0xa1d071(0x2f3)],{'delete':_0x6651f});try{let _0x1f2424=await this[_0xa1d071(0x3b4)](_0x6651f,{'status':_0xa1d071(0x3ea),'owner':this[_0xa1d071(0x75a)][_0xa1d071(0x494)]});this['logger'][_0xa1d071(0x1bb)](this['instanceName']+'\x20('+this['instance'][_0xa1d071(0x494)]+_0xa1d071(0x67d)+_0x1f2424);}catch(_0x222bda){console['error'](_0xa1d071(0x24c),_0x222bda);}return _0x58ccc0;}catch(_0x4a1f63){throw new I(_0xa1d071(0x122),_0x4a1f63?.[_0xa1d071(0x27f)]());}}async[a0_0xe54586(0x3ff)](_0x31d458){const _0x1884e7=a0_0xe54586;try{let _0x2d8d7a=_0x31d458?.[_0x1884e7(0x406)]?_0x31d458:await this['getMessage'](_0x31d458['key'],!0x0);for(let _0x2c9048 of wa)_0x2d8d7a[_0x1884e7(0x406)][_0x2c9048]&&(_0x2d8d7a[_0x1884e7(0x406)]=_0x2d8d7a[_0x1884e7(0x406)][_0x2c9048][_0x1884e7(0x406)]);let _0x3750ca,_0x397786;for(let _0x2efff7 of fa)if(_0x3750ca=_0x2d8d7a[_0x1884e7(0x406)][_0x2efff7],_0x3750ca){_0x397786=_0x2efff7;break;}if(!_0x3750ca)throw _0x1884e7(0xa0);typeof _0x3750ca[_0x1884e7(0x451)]==_0x1884e7(0x6c9)&&(_0x2d8d7a[_0x1884e7(0x406)]=JSON[_0x1884e7(0x229)](JSON[_0x1884e7(0x548)](_0x2d8d7a[_0x1884e7(0x406)])));let _0x544fc0=await(0x0,w['downloadMediaMessage'])({'key':_0x2d8d7a?.[_0x1884e7(0x57b)],'message':_0x2d8d7a?.[_0x1884e7(0x406)]},_0x1884e7(0xb9),{},{'logger':(0x0,Pt[_0x1884e7(0x2f8)])({'level':_0x1884e7(0x499)}),'reuploadRequest':this[_0x1884e7(0x42c)][_0x1884e7(0xd9)]});if(!(_0x544fc0 instanceof Buffer))throw new Error(_0x1884e7(0x670));let _0x8e210=this[_0x1884e7(0x291)][_0x1884e7(0x6a4)](_0x1884e7(0x435)),_0x1a2bdb,_0x21553a;if(_0x3750ca[_0x1884e7(0x673)])_0x1a2bdb=_0x3750ca[_0x1884e7(0x673)];else{let _0x10b9fa=_0x3750ca['mimetype']?.['match'](/\/(\w+)/),_0x2465f3=_0x10b9fa?_0x10b9fa[0x1]:null;if(!_0x2465f3)throw new Error(_0x1884e7(0x21d));_0x1a2bdb=(0x0,Me['v4'])()+'.'+_0x2465f3;}_0x397786==='audioMessage'?_0x21553a=_0x1884e7(0x69f)+await this[_0x1884e7(0x5e3)](_0x544fc0[_0x1884e7(0x27f)](_0x1884e7(0x257))):(await this['saveMediaToFile'](_0x544fc0,_0x1a2bdb),_0x21553a=_0x1884e7(0x69f)+_0x1a2bdb);let _0x55f52f=this[_0x1884e7(0x291)][_0x1884e7(0x6a4)](_0x1884e7(0x355))[_0x1884e7(0x3d4)];if(!_0x55f52f){let _0x24f8ab=this[_0x1884e7(0x291)][_0x1884e7(0x6a4)]('SSL_CONF');_0x55f52f=_0x1884e7(0x4ab)+(_0x24f8ab&&_0x24f8ab[_0x1884e7(0x529)][_0x1884e7(0x6fa)]('/')[0x4]);}_0x21553a=''+_0x55f52f+_0x21553a;let _0x29fead=0xc*0x3c*0x3c*0x3e8,_0x37be9d={'where':{'_id':_0x2d8d7a['key']['id']}},_0x113f7e={'message_normalized.fileUrl':_0x21553a,'message_normalized.expires_fileUrl':Date[_0x1884e7(0x755)]()+_0x29fead};try{let _0x139eb5=await this['repository']['message']['update'](_0x37be9d,_0x113f7e,this[_0x1884e7(0x75a)]['wuid']);_0x139eb5&&J(this[_0x1884e7(0x5bf)],_0x1884e7(0xea),{'message':_0x139eb5});}catch(_0x29c1c7){let _0x3bb24c=_0x1884e7(0x156),_0x34d6c3=_0x29c1c7 instanceof Error?_0x29c1c7[_0x1884e7(0x406)]:typeof _0x29c1c7==_0x1884e7(0x6c9)?JSON[_0x1884e7(0x548)](_0x29c1c7):_0x29c1c7,_0x4ef2b5=_0x3bb24c+':\x20'+_0x34d6c3;this[_0x1884e7(0x2da)]['error'](this[_0x1884e7(0x5bf)]+'\x20('+this['instance'][_0x1884e7(0x494)]+_0x1884e7(0x601)+_0x4ef2b5);}return{'mediaType':_0x397786,'fileName':_0x3750ca[_0x1884e7(0x673)],'caption':_0x3750ca['caption'],'size':{'fileLength':_0x3750ca['fileLength'],'height':_0x3750ca[_0x1884e7(0x9e)],'width':_0x3750ca['width']},'mimetype':_0x3750ca[_0x1884e7(0xec)],'base64':_0x544fc0[_0x1884e7(0x27f)](_0x1884e7(0x257)),'fileUrl':_0x21553a,'expires_fileUrl':Date[_0x1884e7(0x755)]()+_0x29fead};}catch(_0x68f8c4){let _0x12fa6c='Falha\x20ao\x20processar\x20a\x20solicitação',_0x5bf41a=_0x68f8c4 instanceof Error?_0x68f8c4[_0x1884e7(0x406)]:typeof _0x68f8c4==_0x1884e7(0x6c9)?JSON[_0x1884e7(0x548)](_0x68f8c4):_0x68f8c4,_0x4c45ed=_0x12fa6c+':\x20'+_0x5bf41a;throw this['logger']['error'](this[_0x1884e7(0x5bf)]+'\x20('+this[_0x1884e7(0x75a)][_0x1884e7(0x494)]+'):\x20'+_0x4c45ed),new m(_0x4c45ed);}}async[a0_0xe54586(0x68f)](_0x19e624,_0x2c2b44){const _0x40db79=a0_0xe54586;let _0x12b91a=F[_0x40db79(0x2f8)][_0x40db79(0x569)](__dirname,'downloads');j['existsSync'](_0x12b91a)||j[_0x40db79(0x23d)](_0x12b91a,{'recursive':!0x0});let _0x42b280=F[_0x40db79(0x2f8)][_0x40db79(0x569)](_0x12b91a,_0x2c2b44);return new Promise((_0x12022e,_0x5a4418)=>{const _0x6a9bbb=_0x40db79;j[_0x6a9bbb(0xd4)](_0x42b280,_0x19e624,_0x336c49=>{const _0xbf4cdc=_0x6a9bbb;_0x336c49?(this[_0xbf4cdc(0x2da)][_0xbf4cdc(0x418)](_0xbf4cdc(0x1d3)+(_0x336c49 instanceof Error?_0x336c49['message']:JSON[_0xbf4cdc(0x548)](_0x336c49,null,0x2))),_0x5a4418(_0x336c49)):(this[_0xbf4cdc(0x2da)][_0xbf4cdc(0x2c6)]('File\x20written\x20to\x20path:\x20'+_0x42b280),_0x12022e(_0x42b280));});});}async[a0_0xe54586(0x67c)](_0x40123f){const _0x18ecec=a0_0xe54586;return await this['repository'][_0x18ecec(0x51f)][_0x18ecec(0x43d)](_0x40123f,this[_0x18ecec(0x75a)][_0x18ecec(0x494)]);}async['fetchLabels'](){const _0x2c707d=a0_0xe54586;return await this[_0x2c707d(0x6af)][_0x2c707d(0x259)]['find']({'where':{}},this[_0x2c707d(0x75a)][_0x2c707d(0x494)]);}async[a0_0xe54586(0x116)](_0x3fb23b){const _0x4262e1=a0_0xe54586;return await this[_0x4262e1(0x6af)][_0x4262e1(0x406)][_0x4262e1(0x43d)](_0x3fb23b,this[_0x4262e1(0x75a)][_0x4262e1(0x494)]);}async[a0_0xe54586(0x791)](){const _0x1be704=a0_0xe54586;return this[_0x1be704(0x6af)][_0x1be704(0x556)][_0x1be704(0x2b5)](this['instance'][_0x1be704(0x494)]),this[_0x1be704(0x6af)][_0x1be704(0x556)][_0x1be704(0x253)](this[_0x1be704(0x75a)]['wuid']),this[_0x1be704(0x6af)][_0x1be704(0x556)][_0x1be704(0x10b)](this[_0x1be704(0x75a)][_0x1be704(0x494)]),this['repository'][_0x1be704(0x556)][_0x1be704(0x28f)](this['instance'][_0x1be704(0x494)]),await this[_0x1be704(0x6af)][_0x1be704(0x556)][_0x1be704(0x43d)]({'where':{}},this[_0x1be704(0x75a)][_0x1be704(0x494)]);}async[a0_0xe54586(0x4cb)](_0x290558){const _0x2a2533=a0_0xe54586;try{if(!Array[_0x2a2533(0x404)](_0x290558)||_0x290558[_0x2a2533(0x767)]===0x0)throw new Error(_0x2a2533(0x35e));let _0x4b8aec=[],_0x4394e6=[];for(let _0xe328c0 of _0x290558){if(_0xe328c0[_0x2a2533(0x761)])_0xe328c0[_0x2a2533(0x761)]=this[_0x2a2533(0x12c)](_0xe328c0[_0x2a2533(0x761)]);else continue;await this['repository']['chat'][_0x2a2533(0x68c)]({'where':{'_id':_0xe328c0[_0x2a2533(0x761)]}},this[_0x2a2533(0x75a)][_0x2a2533(0x494)])?_0x4394e6[_0x2a2533(0x2d6)]({'_id':_0xe328c0['_id'],'leadInfo':_0xe328c0['leadInfo'],'owner':this[_0x2a2533(0x75a)][_0x2a2533(0x494)]}):_0x4b8aec['push']({'_id':_0xe328c0[_0x2a2533(0x761)],'owner':this['instance']['wuid'],'leadInfo':_0xe328c0[_0x2a2533(0x564)],'imported':!0x0});}return _0x4394e6['length']>0x0&&await this[_0x2a2533(0x6af)][_0x2a2533(0x556)][_0x2a2533(0x3f5)](_0x4394e6[_0x2a2533(0x588)](_0x80608f=>({'query':{'where':{'_id':_0x80608f['_id'],'owner':this['instance'][_0x2a2533(0x494)]}},'update':_0x80608f}))),_0x4b8aec[_0x2a2533(0x767)]>0x0&&await this[_0x2a2533(0x6af)][_0x2a2533(0x556)]['insertMany'](_0x4b8aec,this['instance'][_0x2a2533(0x494)]),{'updated':_0x4394e6[_0x2a2533(0x767)],'inserted':_0x4b8aec[_0x2a2533(0x767)]};}catch(_0x3d777d){let _0x46c678=_0x2a2533(0x209),_0x262981=_0x3d777d instanceof Error?_0x3d777d[_0x2a2533(0x406)]:typeof _0x3d777d==_0x2a2533(0x6c9)?JSON['stringify'](_0x3d777d):_0x3d777d,_0x57d48e=_0x46c678+':\x20'+_0x262981;throw this[_0x2a2533(0x2da)][_0x2a2533(0x418)](this[_0x2a2533(0x5bf)]+'\x20('+this[_0x2a2533(0x75a)]['wuid']+'):\x20'+_0x57d48e),new m(_0x57d48e);}}async['importChats'](_0x1f1deb){const _0x3ea756=a0_0xe54586;try{if(!Array[_0x3ea756(0x404)](_0x1f1deb)||_0x1f1deb[_0x3ea756(0x767)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x42016d=0x64,_0x2d9602=0x0;for(let _0x6f4a52=0x0;_0x6f4a52<_0x1f1deb[_0x3ea756(0x767)];_0x6f4a52+=_0x42016d){let _0x4d2887=_0x1f1deb['slice'](_0x6f4a52,_0x6f4a52+_0x42016d),{updated:_0x55c5e6}=await this[_0x3ea756(0x694)](_0x4d2887);_0x2d9602+=_0x55c5e6;}return{'updated':_0x2d9602};}catch(_0x239431){let _0x4bd0ce=_0x3ea756(0x209),_0x16efcc=_0x239431 instanceof Error?_0x239431[_0x3ea756(0x406)]:typeof _0x239431==_0x3ea756(0x6c9)?JSON[_0x3ea756(0x548)](_0x239431):_0x239431,_0x3be622=_0x4bd0ce+':\x20'+_0x16efcc;throw this[_0x3ea756(0x2da)]['error'](this['instanceName']+'\x20('+this[_0x3ea756(0x75a)][_0x3ea756(0x494)]+_0x3ea756(0x601)+_0x3be622),new m(_0x3be622);}}async['importChatsBatch'](_0x66a326){const _0x5c514f=a0_0xe54586;try{let _0x308b42=await this[_0x5c514f(0x6af)][_0x5c514f(0x259)][_0x5c514f(0x43d)]({'where':{}},this[_0x5c514f(0x75a)][_0x5c514f(0x494)]),_0x5e8ef6=new Set(_0x308b42[_0x5c514f(0x588)](_0x2afe1b=>_0x2afe1b['_id'])),_0xd6cd08=[],_0xfc980a=[];for(let _0x37dfe1 of _0x66a326){if(!_0x37dfe1[_0x5c514f(0x761)])continue;_0x37dfe1[_0x5c514f(0x761)]=this['createJid'](_0x37dfe1[_0x5c514f(0x761)]);let _0x44e87d=await this['repository'][_0x5c514f(0x556)]['findOne']({'where':{'_id':_0x37dfe1['_id']}},this[_0x5c514f(0x75a)][_0x5c514f(0x494)]),_0x5f30ce={};if(Object['entries'](_0x37dfe1[_0x5c514f(0x564)])['forEach'](([_0x5b6528,_0x4ccc81])=>{const _0x4429b1=_0x5c514f;_0x5f30ce[_0x4429b1(0x655)+_0x5b6528]=_0x4ccc81;}),_0x44e87d&&!_0x44e87d[_0x5c514f(0x65d)]){let _0x2894b1=(_0x37dfe1[_0x5c514f(0x564)][_0x5c514f(0x33c)]||[])[_0x5c514f(0x5b0)](_0x34f2c1=>_0x5e8ef6['has'](_0x34f2c1)),_0x3a9093=new Set(_0x44e87d[_0x5c514f(0x564)][_0x5c514f(0x33c)]||[]),_0x286e0c=_0x2894b1[_0x5c514f(0x5b0)](_0x31ee89=>!_0x3a9093[_0x5c514f(0x3af)](_0x31ee89)),_0x392881=[..._0x3a9093][_0x5c514f(0x5b0)](_0x18dc07=>!_0x2894b1['includes'](_0x18dc07));_0xfc980a[_0x5c514f(0x2d6)](..._0x286e0c[_0x5c514f(0x588)](_0x2848f=>this[_0x5c514f(0x498)](_0x2848f,_0x37dfe1[_0x5c514f(0x761)]))),_0xfc980a[_0x5c514f(0x2d6)](..._0x392881[_0x5c514f(0x588)](_0x394ddf=>this[_0x5c514f(0x583)](_0x394ddf,_0x37dfe1['_id']))),_0x37dfe1[_0x5c514f(0x564)][_0x5c514f(0x33c)]=_0x2894b1,_0xd6cd08[_0x5c514f(0x2d6)]({'query':{'where':{'_id':_0x37dfe1[_0x5c514f(0x761)],'owner':this[_0x5c514f(0x75a)][_0x5c514f(0x494)]}},'update':_0x5f30ce});}else _0x5f30ce[_0x5c514f(0x65d)]=!0x0,_0xd6cd08[_0x5c514f(0x2d6)]({'query':{'where':{'_id':_0x37dfe1[_0x5c514f(0x761)],'owner':this[_0x5c514f(0x75a)][_0x5c514f(0x494)]}},'update':_0x5f30ce});}let _0x2444ef=await this[_0x5c514f(0x6af)][_0x5c514f(0x556)][_0x5c514f(0x3f5)](_0xd6cd08);return await Promise[_0x5c514f(0x788)](_0xfc980a),{'updated':_0x2444ef};}catch(_0x158548){let _0x249e67=_0x5c514f(0x209),_0x19ac48=_0x158548 instanceof Error?_0x158548['message']:typeof _0x158548==_0x5c514f(0x6c9)?JSON[_0x5c514f(0x548)](_0x158548):_0x158548,_0x48b7a7=_0x249e67+':\x20'+_0x19ac48;throw this[_0x5c514f(0x2da)][_0x5c514f(0x418)](this[_0x5c514f(0x5bf)]+'\x20('+this[_0x5c514f(0x75a)][_0x5c514f(0x494)]+_0x5c514f(0x601)+_0x48b7a7),new m(_0x48b7a7);}}async[a0_0xe54586(0xca)](){const _0x3d9d4f=a0_0xe54586;return await this[_0x3d9d4f(0x42c)][_0x3d9d4f(0xca)]();}async[a0_0xe54586(0x606)](_0x233d84){const _0x3c75e5=a0_0xe54586;try{return await this[_0x3c75e5(0x42c)][_0x3c75e5(0x43e)](_0x233d84['privacySettings'][_0x3c75e5(0x2fb)]),await this[_0x3c75e5(0x42c)][_0x3c75e5(0x23a)](_0x233d84[_0x3c75e5(0x300)]['profile']),await this[_0x3c75e5(0x42c)][_0x3c75e5(0x162)](_0x233d84[_0x3c75e5(0x300)]['status']),await this[_0x3c75e5(0x42c)][_0x3c75e5(0x6b2)](_0x233d84[_0x3c75e5(0x300)][_0x3c75e5(0xf9)]),await this[_0x3c75e5(0x42c)][_0x3c75e5(0x67b)](_0x233d84[_0x3c75e5(0x300)]['last']),await this['client']['updateGroupsAddPrivacy'](_0x233d84[_0x3c75e5(0x300)][_0x3c75e5(0x54f)]),this[_0x3c75e5(0x42c)]?.['ws']?.[_0x3c75e5(0x29c)](),{'update':_0x3c75e5(0x708),'data':{'readreceipts':_0x233d84['privacySettings'][_0x3c75e5(0x2fb)],'profile':_0x233d84[_0x3c75e5(0x300)]['profile'],'status':_0x233d84[_0x3c75e5(0x300)][_0x3c75e5(0x201)],'online':_0x233d84[_0x3c75e5(0x300)][_0x3c75e5(0xf9)],'last':_0x233d84['privacySettings'][_0x3c75e5(0x5d7)],'groupadd':_0x233d84[_0x3c75e5(0x300)][_0x3c75e5(0x54f)]}};}catch(_0x89799d){let _0x1b1f32='Erro\x20ao\x20alterar\x20privacidade',_0x4fc366=_0x89799d instanceof Error?_0x89799d[_0x3c75e5(0x406)]:typeof _0x89799d==_0x3c75e5(0x6c9)?JSON['stringify'](_0x89799d):_0x89799d,_0x410280=_0x1b1f32+':\x20'+_0x4fc366;throw this['logger'][_0x3c75e5(0x418)](this[_0x3c75e5(0x5bf)]+'\x20('+this[_0x3c75e5(0x75a)][_0x3c75e5(0x494)]+_0x3c75e5(0x601)+_0x410280),new m(_0x410280);}}async[a0_0xe54586(0x707)](_0x4fc5e7){const _0x2a5102=a0_0xe54586;let _0x12192a=(_0x4fc5e7?this[_0x2a5102(0x12c)](_0x4fc5e7):this['client']?.[_0x2a5102(0x207)]?.['id'])[_0x2a5102(0x6fd)](/:\d{1,2}@/g,'@');this['logger'][_0x2a5102(0x1bb)](this[_0x2a5102(0x5bf)]+'\x20('+this['instance'][_0x2a5102(0x494)]+'):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x12192a);let _0x2f12cc=await this['repository'][_0x2a5102(0x51f)][_0x2a5102(0x68c)]({'where':{'_id':_0x12192a}},this[_0x2a5102(0x75a)][_0x2a5102(0x494)]),_0xbb53ab=_0x2f12cc?_0x2f12cc[_0x2a5102(0x17f)]:null;try{let _0x31b707=(await this[_0x2a5102(0x61c)]({'numbers':[_0x12192a]}))?.['shift'](),_0x5966ff=(await this[_0x2a5102(0x1b3)](_0x12192a,null,!0x1))[_0x2a5102(0x289)][_0x2a5102(0xa4)],_0x1b3073=await this[_0x2a5102(0x605)](_0x31b707?.[_0x2a5102(0x106)]),_0x502395=await this[_0x2a5102(0x6f4)](_0x31b707?.[_0x2a5102(0x106)]),_0x45782a=(await this[_0x2a5102(0x1b3)](_0x12192a,null,!0x1))[_0x2a5102(0x289)][_0x2a5102(0x3dc)],_0x4a0ca5=await this[_0x2a5102(0x6af)][_0x2a5102(0x556)][_0x2a5102(0x68c)]({'where':{'_id':_0x12192a}},this[_0x2a5102(0x75a)]['wuid']),_0x2cf20e={'imagechat':_0x5966ff,'contactname':_0xbb53ab||null,'pushName':_0x45782a,'status':_0x1b3073?.[_0x2a5102(0x201)],'isBusiness':_0x502395['isBusiness'],'email':_0x502395?.[_0x2a5102(0x311)],'description':_0x502395?.[_0x2a5102(0x1de)],'website':_0x502395?.[_0x2a5102(0x9b)]?.[_0x2a5102(0x3d0)](),'lastcache':Date['now'](),'imported':!_0x4a0ca5},_0x1aac7d=await this['repository'][_0x2a5102(0x556)][_0x2a5102(0x1fd)]({'where':{'_id':_0x12192a}},_0x2cf20e,this[_0x2a5102(0x75a)][_0x2a5102(0x494)]),_0x17c0b2={'owner':this[_0x2a5102(0x75a)]['wuid'],'_id':_0x12192a,'profilePictureUrl':_0x5966ff,'status':_0x1b3073?.[_0x2a5102(0x201)]};return this[_0x2a5102(0x6af)]['contact'][_0x2a5102(0x2e3)]([_0x17c0b2],this[_0x2a5102(0x75a)]['wuid']),_0x1aac7d&&J(this[_0x2a5102(0x5bf)],'chats',{'chat':_0x1aac7d}),{'wuid':_0x31b707?.['jid']||_0x12192a,'name':_0x31b707?.[_0x2a5102(0x3dc)],'pushName':_0x45782a,'numberExists':_0x31b707?.[_0x2a5102(0x45a)],'picture':_0x5966ff,'status':_0x1b3073?.['status'],'isBusiness':_0x502395[_0x2a5102(0x224)],'email':_0x502395?.['email'],'description':_0x502395?.[_0x2a5102(0x1de)],'website':_0x502395?.[_0x2a5102(0x9b)]?.[_0x2a5102(0x3d0)]()};}catch(_0x1dfe20){return this[_0x2a5102(0x2da)][_0x2a5102(0x418)](_0x2a5102(0x1af)+(_0x1dfe20 instanceof Error?_0x1dfe20[_0x2a5102(0x406)]:JSON['stringify'](_0x1dfe20,null,0x2))),{};}}async[a0_0xe54586(0x6f4)](_0x2a7d88){const _0x3859ac=a0_0xe54586;this[_0x3859ac(0x2da)][_0x3859ac(0x1bb)](this[_0x3859ac(0x5bf)]+'\x20('+this[_0x3859ac(0x75a)][_0x3859ac(0x494)]+_0x3859ac(0xee));try{let _0x1a88a9=_0x2a7d88?this['createJid'](_0x2a7d88):this[_0x3859ac(0x75a)][_0x3859ac(0x494)],_0x51d8c3=await this[_0x3859ac(0x42c)][_0x3859ac(0x696)](_0x1a88a9);return this[_0x3859ac(0x2da)][_0x3859ac(0x1bb)](this['instanceName']+'\x20('+this[_0x3859ac(0x75a)]['wuid']+_0x3859ac(0x5a9)),_0x51d8c3?(this[_0x3859ac(0x2da)][_0x3859ac(0x1bb)](this['instanceName']+'\x20('+this[_0x3859ac(0x75a)][_0x3859ac(0x494)]+'):Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x51d8c3}):{'isBusiness':!0x1,'message':_0x3859ac(0x10f),...(await this[_0x3859ac(0x61c)]({'numbers':[_0x1a88a9]}))?.[_0x3859ac(0x3d0)]()};}catch(_0x1dfae2){let _0x29da34=_0x3859ac(0x119),_0x1ad946=_0x1dfae2 instanceof Error?_0x1dfae2[_0x3859ac(0x406)]:typeof _0x1dfae2==_0x3859ac(0x6c9)?JSON[_0x3859ac(0x548)](_0x1dfae2):_0x1dfae2,_0x161f6b=_0x29da34+':\x20'+_0x1ad946;throw this[_0x3859ac(0x2da)]['error'](this[_0x3859ac(0x5bf)]+'\x20('+this['instance'][_0x3859ac(0x494)]+_0x3859ac(0x601)+_0x161f6b),new I(_0x161f6b);}}async[a0_0xe54586(0x605)](_0x5ce0fb){const _0x539a40=a0_0xe54586;let _0x434136=this['createJid'](_0x5ce0fb);try{return{'wuid':_0x434136,'status':(await this[_0x539a40(0x42c)][_0x539a40(0x19f)](_0x434136))?.[_0x539a40(0x201)]};}catch{return{'wuid':_0x434136,'status':null};}}async[a0_0xe54586(0x274)](_0xa8e418){const _0x206fc2=a0_0xe54586;try{return await this[_0x206fc2(0x42c)][_0x206fc2(0x274)](_0xa8e418),{'update':'success'};}catch(_0x316140){let _0x372dee=_0x206fc2(0x4f7),_0x5f21d8=_0x316140 instanceof Error?_0x316140[_0x206fc2(0x406)]:typeof _0x316140==_0x206fc2(0x6c9)?JSON[_0x206fc2(0x548)](_0x316140):_0x316140,_0x414c61=_0x372dee+':\x20'+_0x5f21d8;throw this[_0x206fc2(0x2da)][_0x206fc2(0x418)](this[_0x206fc2(0x5bf)]+'\x20('+this[_0x206fc2(0x75a)][_0x206fc2(0x494)]+'):\x20'+_0x414c61),new I(_0x414c61);}}async[a0_0xe54586(0x566)](_0x51308f){const _0x50d03c=a0_0xe54586;try{return await this[_0x50d03c(0x42c)]['updateProfileStatus'](_0x51308f),{'update':_0x50d03c(0x708)};}catch(_0x30f298){let _0x2b32ea=_0x50d03c(0x773),_0x6f6d34=_0x30f298 instanceof Error?_0x30f298['message']:typeof _0x30f298=='object'?JSON['stringify'](_0x30f298):_0x30f298,_0x38c5b0=_0x2b32ea+':\x20'+_0x6f6d34;throw this['logger'][_0x50d03c(0x418)](this[_0x50d03c(0x5bf)]+'\x20('+this[_0x50d03c(0x75a)][_0x50d03c(0x494)]+_0x50d03c(0x601)+_0x38c5b0),new I(_0x38c5b0);}}async[a0_0xe54586(0x179)](_0x4d1e45){const _0x1691bf=a0_0xe54586;try{let _0x17a632;if((0x0,P['isURL'])(_0x4d1e45)){let _0x353ef0=new Date()[_0x1691bf(0x4eb)](),_0x298a8b=_0x4d1e45+_0x1691bf(0x51e)+_0x353ef0;_0x17a632=(await K[_0x1691bf(0x2f8)][_0x1691bf(0x6a4)](_0x298a8b,{'responseType':_0x1691bf(0x36f)}))[_0x1691bf(0x6e7)];}else{if((0x0,P['isBase64'])(_0x4d1e45))_0x17a632=Buffer['from'](_0x4d1e45,_0x1691bf(0x257));else throw new m(_0x1691bf(0x3cc));}return await this['client'][_0x1691bf(0x179)](this[_0x1691bf(0x75a)][_0x1691bf(0x494)],_0x17a632),{'update':_0x1691bf(0x708)};}catch(_0x136706){let _0x465f8d=_0x1691bf(0xbd),_0x4a80f2=_0x136706 instanceof Error?_0x136706['message']:typeof _0x136706==_0x1691bf(0x6c9)?JSON[_0x1691bf(0x548)](_0x136706):_0x136706,_0x4d7d08=_0x465f8d+':\x20'+_0x4a80f2;throw this[_0x1691bf(0x2da)]['error'](this[_0x1691bf(0x5bf)]+'\x20('+this[_0x1691bf(0x75a)][_0x1691bf(0x494)]+_0x1691bf(0x601)+_0x4d7d08),new I(_0x4d7d08);}}async[a0_0xe54586(0x693)](){const _0x298f6d=a0_0xe54586;try{return await this['client'][_0x298f6d(0x693)](this[_0x298f6d(0x75a)][_0x298f6d(0x494)]),{'update':'success'};}catch(_0x2e6634){let _0x3bc960=_0x298f6d(0x15f),_0x1229fc=_0x2e6634 instanceof Error?_0x2e6634[_0x298f6d(0x406)]:typeof _0x2e6634==_0x298f6d(0x6c9)?JSON['stringify'](_0x2e6634):_0x2e6634,_0x393dbe=_0x3bc960+':\x20'+_0x1229fc;throw this[_0x298f6d(0x2da)][_0x298f6d(0x418)](this[_0x298f6d(0x5bf)]+'\x20('+this[_0x298f6d(0x75a)]['wuid']+_0x298f6d(0x601)+_0x393dbe),new I(_0x393dbe);}}async[a0_0xe54586(0x169)](_0x27faa0){const _0x2e6bbf=a0_0xe54586;try{let _0x472e9e=(await this['whatsappNumber']({'numbers':_0x27faa0[_0x2e6bbf(0x39f)]}))['filter'](_0x1875d0=>_0x1875d0[_0x2e6bbf(0x45a)])[_0x2e6bbf(0x588)](_0x55043c=>_0x55043c[_0x2e6bbf(0x106)]),{id:_0x4669eb}=await this[_0x2e6bbf(0x42c)]['groupCreate'](_0x27faa0[_0x2e6bbf(0x5ec)],_0x472e9e);_0x27faa0?.[_0x2e6bbf(0x1de)]&&await this[_0x2e6bbf(0x42c)][_0x2e6bbf(0x64e)](_0x4669eb,_0x27faa0[_0x2e6bbf(0x1de)]);let _0x1fce58=await this[_0x2e6bbf(0x42c)][_0x2e6bbf(0x172)](_0x4669eb);return _0x1fce58['awaitingApproval']=[],{'metadata':_0x1fce58};}catch(_0x328b75){let _0x124955=_0x2e6bbf(0x43a),_0x1eb619=_0x328b75 instanceof Error?_0x328b75[_0x2e6bbf(0x406)]:typeof _0x328b75==_0x2e6bbf(0x6c9)?JSON['stringify'](_0x328b75):_0x328b75,_0x48b28c=_0x124955+':\x20'+_0x1eb619;throw this[_0x2e6bbf(0x2da)]['error'](this[_0x2e6bbf(0x5bf)]+'\x20('+this[_0x2e6bbf(0x75a)]['wuid']+'):\x20'+_0x48b28c),new I(_0x48b28c);}}async[a0_0xe54586(0x770)](_0x24c51d){const _0x4b590c=a0_0xe54586;try{if(_0x24c51d[_0x4b590c(0x706)]===!0x0&&await this['client'][_0x4b590c(0x780)](_0x24c51d[_0x4b590c(0x5ff)],_0x4b590c(0x625)),_0x24c51d[_0x4b590c(0x706)]===!0x1&&await this[_0x4b590c(0x42c)]['groupSettingUpdate'](_0x24c51d[_0x4b590c(0x5ff)],'unlocked'),_0x24c51d[_0x4b590c(0x688)]===!0x0&&await this[_0x4b590c(0x42c)][_0x4b590c(0x780)](_0x24c51d[_0x4b590c(0x5ff)],_0x4b590c(0x486)),_0x24c51d[_0x4b590c(0x688)]===!0x1&&await this[_0x4b590c(0x42c)][_0x4b590c(0x780)](_0x24c51d[_0x4b590c(0x5ff)],_0x4b590c(0x28e)),_0x24c51d['memberAddMode']===!0x0&&await this['client']['groupMemberAddMode'](_0x24c51d[_0x4b590c(0x5ff)],_0x4b590c(0x785)),_0x24c51d[_0x4b590c(0x24d)]===!0x1&&await this[_0x4b590c(0x42c)]['groupMemberAddMode'](_0x24c51d[_0x4b590c(0x5ff)],'admin_add'),_0x24c51d['joinApprovalMode']===!0x0&&await this[_0x4b590c(0x42c)][_0x4b590c(0x20b)](_0x24c51d[_0x4b590c(0x5ff)],'on'),_0x24c51d['joinApprovalMode']===!0x1&&await this['client'][_0x4b590c(0x20b)](_0x24c51d[_0x4b590c(0x5ff)],_0x4b590c(0x189)),typeof _0x24c51d[_0x4b590c(0x594)]<'u'&&_0x24c51d[_0x4b590c(0x594)]!==null&&await this[_0x4b590c(0x42c)][_0x4b590c(0x107)](_0x24c51d[_0x4b590c(0x5ff)],_0x24c51d[_0x4b590c(0x594)]),_0x24c51d['name']&&await this[_0x4b590c(0x42c)][_0x4b590c(0x76f)](_0x24c51d[_0x4b590c(0x5ff)],_0x24c51d[_0x4b590c(0x3dc)]),_0x24c51d['description']&&await this[_0x4b590c(0x42c)]['groupUpdateDescription'](_0x24c51d[_0x4b590c(0x5ff)],_0x24c51d[_0x4b590c(0x1de)]),_0x24c51d[_0x4b590c(0x32e)]){let _0x1ce87e;if((0x0,P[_0x4b590c(0x18c)])(_0x24c51d[_0x4b590c(0x32e)])){let _0x5e4e7a=new Date()[_0x4b590c(0x4eb)](),_0x2a3e8b=_0x24c51d[_0x4b590c(0x32e)]+'?timestamp='+_0x5e4e7a;_0x1ce87e=(await K[_0x4b590c(0x2f8)][_0x4b590c(0x6a4)](_0x2a3e8b,{'responseType':_0x4b590c(0x36f)}))[_0x4b590c(0x6e7)];}else{if((0x0,P[_0x4b590c(0xc6)])(_0x24c51d[_0x4b590c(0x32e)]))_0x1ce87e=Buffer[_0x4b590c(0x40f)](_0x24c51d[_0x4b590c(0x32e)],_0x4b590c(0x257));else throw new m(_0x4b590c(0x3cc));}await this[_0x4b590c(0x42c)][_0x4b590c(0x179)](_0x24c51d['groupJid'],_0x1ce87e);}return await this[_0x4b590c(0x448)]({'groupJid':_0x24c51d[_0x4b590c(0x5ff)]});}catch(_0x25c4a2){let _0x4501dc='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting',_0x35f9c4=_0x25c4a2 instanceof Error?_0x25c4a2[_0x4b590c(0x406)]:typeof _0x25c4a2==_0x4b590c(0x6c9)?JSON[_0x4b590c(0x548)](_0x25c4a2):_0x25c4a2,_0x46ca38=_0x4501dc+':\x20'+_0x35f9c4;throw this['logger'][_0x4b590c(0x418)](this['instanceName']+'\x20('+this['instance'][_0x4b590c(0x494)]+_0x4b590c(0x601)+_0x46ca38),new I(_0x46ca38);}}async['updateGParticipant'](_0x107472){const _0x20578e=a0_0xe54586;try{if(_0x107472['action']==='approve'||_0x107472['action']===_0x20578e(0x5ea)){let _0x582b99=_0x107472['participants']['map'](_0x57ad10=>this[_0x20578e(0x12c)](_0x57ad10));await this[_0x20578e(0x42c)][_0x20578e(0x4ca)](_0x107472[_0x20578e(0x5ff)],_0x582b99,_0x107472[_0x20578e(0x52f)]);}else{if(_0x107472[_0x20578e(0x52f)]===_0x20578e(0x3fd)){let _0xe59377=(await this['whatsappNumber']({'numbers':_0x107472['participants']}))[_0x20578e(0x5b0)](_0xa9f8cf=>_0xa9f8cf[_0x20578e(0x45a)])['map'](_0x589b8=>this['createJid'](_0x589b8[_0x20578e(0x106)]));if(_0xe59377[_0x20578e(0x767)]===0x0)throw new m(_0x20578e(0x44e));await this['client'][_0x20578e(0x4e5)](_0x107472[_0x20578e(0x5ff)],_0xe59377,_0x20578e(0x3fd));}else{let _0x47477d=_0x107472[_0x20578e(0x39f)][_0x20578e(0x588)](_0x3e33fc=>this['createJid'](_0x3e33fc));await this[_0x20578e(0x42c)][_0x20578e(0x4e5)](_0x107472['groupJid'],_0x47477d,_0x107472[_0x20578e(0x52f)]);}}return await this[_0x20578e(0x448)]({'groupJid':_0x107472[_0x20578e(0x5ff)]});}catch(_0x3865e6){let _0x48ddfd='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant',_0x4422f4=_0x3865e6 instanceof Error?_0x3865e6[_0x20578e(0x406)]:typeof _0x3865e6=='object'?JSON[_0x20578e(0x548)](_0x3865e6):_0x3865e6,_0x2845ea=_0x48ddfd+':\x20'+_0x4422f4;throw this[_0x20578e(0x2da)][_0x20578e(0x418)](this[_0x20578e(0x5bf)]+'\x20('+this[_0x20578e(0x75a)][_0x20578e(0x494)]+'):\x20'+_0x2845ea),new m(_0x2845ea);}}async[a0_0xe54586(0x120)](_0x4b872b){const _0x541bd6=a0_0xe54586;try{return await this[_0x541bd6(0x42c)][_0x541bd6(0x120)](_0x4b872b[_0x541bd6(0x92)]);}catch(_0x10853e){let _0x5defad=_0x541bd6(0x6fc),_0x5e9ceb=_0x10853e instanceof Error?_0x10853e[_0x541bd6(0x406)]:typeof _0x10853e==_0x541bd6(0x6c9)?JSON[_0x541bd6(0x548)](_0x10853e):_0x10853e,_0x435720=_0x5defad+':\x20'+_0x5e9ceb;throw this['logger'][_0x541bd6(0x418)](this[_0x541bd6(0x5bf)]+'\x20('+this['instance'][_0x541bd6(0x494)]+_0x541bd6(0x601)+_0x435720),new m(_0x435720);}}async[a0_0xe54586(0x448)](_0x4b161c,_0x54f9db=a0_0xe54586(0x342)){const _0x333008=a0_0xe54586;try{let _0x367568=await this[_0x333008(0x6af)][_0x333008(0x556)][_0x333008(0x68c)]({'where':{'_id':_0x4b161c[_0x333008(0x5ff)]}},this[_0x333008(0x75a)][_0x333008(0x494)]),_0x436e8f=_0x367568?_0x367568[_0x333008(0x611)]:null,_0x60821d=0x18*0x3c*0x3c*0x3e8;if(!_0x436e8f||_0x436e8f[_0x333008(0x666)]&&Date[_0x333008(0x755)]()-_0x436e8f[_0x333008(0x666)]>_0x60821d){let _0x308655=await this[_0x333008(0x42c)][_0x333008(0x172)](_0x4b161c[_0x333008(0x5ff)]);if(_0x308655[_0x333008(0x444)]=_0x308655?.[_0x333008(0x444)]&&_0x308655[_0x333008(0x444)][_0x333008(0x27f)]()[_0x333008(0x767)]<0xd?_0x308655?.['subjectTime']*0x3e8:_0x308655?.[_0x333008(0x444)]||null,_0x308655[_0x333008(0x186)]=_0x308655?.[_0x333008(0x186)]&&_0x308655['creation'][_0x333008(0x27f)]()[_0x333008(0x767)]<0xd?_0x308655?.[_0x333008(0x186)]*0x3e8:_0x308655?.[_0x333008(0x186)]||null,_0x436e8f={..._0x308655,'lastUpdate':Date['now']()},!_0x308655)return;}let _0x476f54=_0x436e8f[_0x333008(0x39f)][_0x333008(0x4f9)](_0x45d823=>_0x45d823['id']===this[_0x333008(0x75a)][_0x333008(0x494)]+_0x333008(0x420)&&_0x45d823[_0x333008(0x6db)]!=null);!_0x436e8f[_0x333008(0x92)]&&_0x476f54&&(_0x436e8f[_0x333008(0x92)]=(await this['inviteCode'](_0x4b161c,!0x1))['inviteUrl']);let _0x3991cd=(!_0x436e8f[_0x333008(0x688)]||_0x476f54)&&(!_0x436e8f[_0x333008(0x90)]||_0x436e8f[_0x333008(0x90)]&&_0x436e8f[_0x333008(0x488)]&&_0x476f54);_0x436e8f[_0x333008(0x55d)]=_0x476f54,_0x436e8f[_0x333008(0x233)]=_0x3991cd;let _0x4244f4=[];if(_0x476f54&&_0x436e8f['joinApprovalMode'])try{_0x4244f4=await this[_0x333008(0x42c)]['groupRequestParticipantsList'](_0x4b161c[_0x333008(0x5ff)]),_0x436e8f[_0x333008(0x68a)]=Date[_0x333008(0x755)]();}catch(_0x4ed71d){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x333008(0x75a)][_0x333008(0x494)]+_0x333008(0x456)+_0x4b161c[_0x333008(0x5ff)]+':\x20'+(_0x4ed71d instanceof Error?_0x4ed71d['message']:JSON[_0x333008(0x548)](_0x4ed71d,null,0x2)));}try{_0x436e8f['image']=(await this[_0x333008(0x1b3)](_0x4b161c['groupJid'],null,!0x0))['cachedContact']['pictureUrl'];}catch(_0x3e675c){this[_0x333008(0x2da)][_0x333008(0x1bb)](this[_0x333008(0x5bf)]+'\x20('+this[_0x333008(0x75a)][_0x333008(0x494)]+_0x333008(0x533)+_0x4b161c[_0x333008(0x5ff)]+':\x20'+(_0x3e675c instanceof Error?_0x3e675c[_0x333008(0x406)]:JSON[_0x333008(0x548)](_0x3e675c,null,0x2)));}let _0x2c9277=_0x436e8f[_0x333008(0x39f)][_0x333008(0x588)](_0x37e8ca=>_0x37e8ca['id']),_0x3e75aa=_0x4244f4['map'](_0x14a62=>_0x14a62[_0x333008(0x106)]),_0x3707bb=await this[_0x333008(0x6af)][_0x333008(0x36d)][_0x333008(0x27b)]([..._0x2c9277,..._0x3e75aa]);_0x436e8f[_0x333008(0x39f)]=_0x436e8f['participants']['map'](_0x557c18=>{const _0x59bfad=_0x333008;let _0x34d42a=_0x3707bb[_0x59bfad(0x43d)](_0x39e763=>_0x39e763['_id']===_0x557c18['id']);return{'id':_0x557c18['id'],'isAdmin':[_0x59bfad(0x6db),_0x59bfad(0x1b8)][_0x59bfad(0x1d8)](_0x557c18['admin']),'admin':_0x557c18[_0x59bfad(0x6db)],'pushName':_0x34d42a?.[_0x59bfad(0x3dc)],'profilePictureUrl':_0x34d42a?.[_0x59bfad(0xa4)]};}),_0x436e8f[_0x333008(0x4df)]=_0x4244f4['map'](_0x109d50=>{const _0x114677=_0x333008;let _0x265194=_0x3707bb[_0x114677(0x43d)](_0x850a=>_0x850a[_0x114677(0x761)]===_0x109d50[_0x114677(0x106)]);return{'id':_0x109d50[_0x114677(0x106)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x265194?.['name'],'profilePictureUrl':_0x265194?.[_0x114677(0xa4)],'request_method':_0x109d50[_0x114677(0x4b0)],'request_time':_0x109d50[_0x114677(0x72a)]};});let _0x4e2f5d=await this[_0x333008(0x6af)][_0x333008(0x556)][_0x333008(0x1fd)]({'where':{'_id':_0x4b161c[_0x333008(0x5ff)]}},{'imagechat':_0x436e8f[_0x333008(0x32e)],'name':_0x436e8f[_0x333008(0x5ec)],'lastcache':Date[_0x333008(0x755)](),'groupdata':_0x436e8f},this[_0x333008(0x75a)][_0x333008(0x494)]);return J(this[_0x333008(0x5bf)],_0x333008(0xc9),{'chat':_0x4e2f5d}),{'metadata':_0x436e8f};}catch(_0x3d55d1){if(_0x54f9db===_0x333008(0x654))return;throw new U(_0x333008(0x12f),_0x3d55d1[_0x333008(0x406)]['toString']());}}async[a0_0xe54586(0x4a0)](){const _0x311829=a0_0xe54586;try{let _0x1a3447=[],_0x1afe2c=await this['client']['groupFetchAllParticipating'](),_0x1675da=Object[_0x311829(0x422)](_0x1afe2c),_0x3e266c=_0x1675da['filter'](_0x17f518=>(0x0,w[_0x311829(0x1b1)])(_0x17f518?.['id']))[_0x311829(0x588)](async _0x2c3e7d=>{const _0xe51372=_0x311829;try{return await this['client'][_0xe51372(0x57c)](_0x2c3e7d['id'],_0xe51372(0x42b));}catch(_0x5bdb2c){return this[_0xe51372(0x2da)][_0xe51372(0x1bb)](this['instanceName']+'\x20('+this[_0xe51372(0x75a)][_0xe51372(0x494)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x2c3e7d['id']+':\x20'+(_0x5bdb2c instanceof Error?_0x5bdb2c[_0xe51372(0x406)]:JSON[_0xe51372(0x548)](_0x5bdb2c,null,0x2))),null;}}),_0x196137=await Promise['all'](_0x3e266c);for(let _0x36c436=0x0;_0x36c436<_0x1675da[_0x311829(0x767)];_0x36c436++){let _0x5d540a=_0x1675da[_0x36c436];(0x0,w[_0x311829(0x1b1)])(_0x5d540a?.['id'])&&(_0x1a3447[_0x311829(0x2d6)]({'groupJid':_0x5d540a?.['id'],'subject':_0x5d540a?.[_0x311829(0x5ec)],'subjectOwner':_0x5d540a?.['subjectOwner']?.[_0x311829(0x6fa)]('@')[0x0],'subjectTime':_0x5d540a?.[_0x311829(0x444)],'creation':_0x5d540a?.[_0x311829(0x186)],'size':_0x5d540a?.[_0x311829(0x39f)]?.['length'],'owner':_0x5d540a?.[_0x311829(0x759)]?.[_0x311829(0x6fa)]('@')[0x0],'desc':_0x5d540a?.[_0x311829(0x1fb)],'restrict':_0x5d540a?.[_0x311829(0x706)],'announce':_0x5d540a?.[_0x311829(0x688)],'image':_0x196137[_0x36c436],'isCommunity':_0x5d540a?.[_0x311829(0x90)],'joinApprovalMode':_0x5d540a?.[_0x311829(0x30c)],'memberCanAddParticipant':_0x5d540a?.[_0x311829(0x24d)],'participants':_0x5d540a?.['participants'],'descOwner':_0x5d540a?.[_0x311829(0x475)],'descId':_0x5d540a?.['descId'],'memberAddMode':_0x5d540a?.[_0x311829(0x24d)],'isCommunityAnnounce':_0x5d540a?.[_0x311829(0x488)],'ephemeralDuration':_0x5d540a?.[_0x311829(0x292)]||0x0,'author':_0x5d540a?.['author']}),this[_0x311829(0x20e)](_0x1675da[_0x36c436]));}return _0x1a3447;}catch(_0x5b95d2){let _0x1593ad=_0x311829(0x68b),_0x250b81=_0x5b95d2 instanceof Error?_0x5b95d2[_0x311829(0x406)]:typeof _0x5b95d2==_0x311829(0x6c9)?JSON['stringify'](_0x5b95d2):_0x5b95d2,_0x5d5ecc=_0x1593ad+':\x20'+_0x250b81;throw this[_0x311829(0x2da)]['error'](this[_0x311829(0x5bf)]+'\x20('+this['instance'][_0x311829(0x494)]+_0x311829(0x601)+_0x5d5ecc),new U(_0x5d5ecc);}}async[a0_0xe54586(0x20e)](_0x786777){const _0xbdc685=a0_0xe54586;let _0x32c88d=await this['repository']['chat'][_0xbdc685(0x68c)]({'where':{'_id':_0x786777['id']}},this[_0xbdc685(0x75a)][_0xbdc685(0x494)]);_0x786777[_0xbdc685(0x444)]=_0x786777?.[_0xbdc685(0x444)]&&_0x786777[_0xbdc685(0x444)][_0xbdc685(0x27f)]()[_0xbdc685(0x767)]<0xd?_0x786777?.['subjectTime']*0x3e8:_0x786777?.[_0xbdc685(0x444)]||null,_0x786777[_0xbdc685(0x186)]=_0x786777?.['creation']&&_0x786777['creation'][_0xbdc685(0x27f)]()[_0xbdc685(0x767)]<0xd?_0x786777?.[_0xbdc685(0x186)]*0x3e8:_0x786777?.[_0xbdc685(0x186)]||null;let _0x106f26=_0x32c88d?.[_0xbdc685(0x611)]?.[_0xbdc685(0x4df)]||[],_0x2fb7db=_0x32c88d?.[_0xbdc685(0x611)]?.[_0xbdc685(0x68a)],_0x259a5a=_0x786777[_0xbdc685(0x39f)][_0xbdc685(0x588)](_0x1376ac=>{const _0x476bd1=_0xbdc685;let _0x3298db=_0x32c88d?.['groupdata']?.[_0x476bd1(0x39f)][_0x476bd1(0x43d)](_0x483386=>_0x483386['id']===_0x1376ac['id']);return{..._0x1376ac,'isAdmin':[_0x476bd1(0x6db),_0x476bd1(0x1b8)]['includes'](_0x1376ac[_0x476bd1(0x6db)]),'admin':_0x1376ac['admin'],'name':_0x3298db?.[_0x476bd1(0x3dc)]||_0x1376ac['name'],'imgUrl':_0x3298db?.[_0x476bd1(0x77e)]||_0x1376ac[_0x476bd1(0x77e)]};}),_0x3c533a=_0x259a5a[_0xbdc685(0x4f9)](_0x3db00d=>_0x3db00d['id']===this['instance'][_0xbdc685(0x494)]+_0xbdc685(0x420)&&_0x3db00d[_0xbdc685(0x55d)]),_0x29f618=(!_0x786777['announce']||_0x3c533a)&&(!_0x786777[_0xbdc685(0x90)]||_0x786777[_0xbdc685(0x90)]&&_0x786777[_0xbdc685(0x488)]&&_0x3c533a),_0x254a05={..._0x786777,'participants':_0x259a5a,'awaitingApproval':_0x106f26,'lastFetchAwaitingApproval':_0x2fb7db,'isAdmin':_0x3c533a,'canSendMessage':_0x29f618,'lastUpdate':Date[_0xbdc685(0x755)]()};await this[_0xbdc685(0x6af)][_0xbdc685(0x556)]['updateOne']({'where':{'_id':_0x786777['id']}},{'name':_0x786777[_0xbdc685(0x5ec)],'group':!0x0,'groupdata':_0x254a05,'lastcache':Date[_0xbdc685(0x755)]()},this[_0xbdc685(0x75a)][_0xbdc685(0x494)]),J(this[_0xbdc685(0x5bf)],_0xbdc685(0xc9),{'chat':_0x786777});}async[a0_0xe54586(0x1ec)](_0x24fad7){const _0x349884=a0_0xe54586;let _0x4ba4e5=await this[_0x349884(0x6af)][_0x349884(0x556)][_0x349884(0x68c)]({'where':{'_id':_0x24fad7['id']}},this[_0x349884(0x75a)]['wuid']);_0x24fad7[_0x349884(0x444)]=_0x24fad7?.[_0x349884(0x444)]&&_0x24fad7[_0x349884(0x444)][_0x349884(0x27f)]()[_0x349884(0x767)]<0xd?_0x24fad7?.[_0x349884(0x444)]*0x3e8:_0x24fad7?.[_0x349884(0x444)]||null,_0x24fad7[_0x349884(0x186)]=_0x24fad7?.[_0x349884(0x186)]&&_0x24fad7[_0x349884(0x186)][_0x349884(0x27f)]()['length']<0xd?_0x24fad7?.['creation']*0x3e8:_0x24fad7?.[_0x349884(0x186)]||null,_0x24fad7[_0x349884(0x92)]&&(_0x24fad7[_0x349884(0x92)]=_0x349884(0x250)+_0x24fad7[_0x349884(0x92)]);let _0x171d60=_0x4ba4e5?.[_0x349884(0x611)]?{..._0x4ba4e5[_0x349884(0x611)]}:{};Object[_0x349884(0x25d)](_0x24fad7)[_0x349884(0x110)](_0x3bcade=>{_0x3bcade!=='id'&&(_0x171d60[_0x3bcade]=_0x24fad7[_0x3bcade]);});let _0x1bb895=_0x171d60[_0x349884(0x39f)]?.[_0x349884(0x4f9)](_0x409e94=>_0x409e94['id']===this[_0x349884(0x75a)]['wuid']+_0x349884(0x420)&&_0x409e94['isAdmin'])||!0x1;_0x171d60[_0x349884(0x55d)]=_0x1bb895;let _0x1fbc77=(!_0x171d60[_0x349884(0x688)]||_0x1bb895)&&(!_0x171d60[_0x349884(0x90)]||_0x171d60[_0x349884(0x90)]&&_0x171d60[_0x349884(0x488)]&&_0x1bb895);_0x171d60[_0x349884(0x233)]=_0x1fbc77;let _0x2b9dc4={'group':!0x0,'groupdata':_0x171d60};_0x24fad7[_0x349884(0x5ec)]&&(_0x2b9dc4[_0x349884(0x3dc)]=_0x24fad7[_0x349884(0x5ec)]),await this[_0x349884(0x6af)][_0x349884(0x556)][_0x349884(0x1fd)]({'where':{'_id':_0x24fad7['id']}},_0x2b9dc4,this[_0x349884(0x75a)][_0x349884(0x494)],{'upsert':!0x0}),J(this[_0x349884(0x5bf)],_0x349884(0xc9),{'chat':_0x2b9dc4});}async[a0_0xe54586(0x545)](_0x57c797){const _0x35ae4b=a0_0xe54586;let _0x25c578=await this[_0x35ae4b(0x6af)][_0x35ae4b(0x556)][_0x35ae4b(0x68c)]({'where':{'_id':_0x57c797['id']}},this['instance'][_0x35ae4b(0x494)]);if(!_0x25c578||!_0x25c578[_0x35ae4b(0x611)]){this[_0x35ae4b(0x2da)][_0x35ae4b(0x6e5)](this[_0x35ae4b(0x5bf)]+'\x20('+this['instance'][_0x35ae4b(0x494)]+_0x35ae4b(0x77c)+_0x57c797['id']);return;}let _0x12c043=await this[_0x35ae4b(0x6af)][_0x35ae4b(0x36d)][_0x35ae4b(0x27b)](_0x57c797[_0x35ae4b(0x39f)]),_0x14fea8=[..._0x25c578[_0x35ae4b(0x611)]?.['participants']];switch(_0x57c797[_0x35ae4b(0x52f)]){case _0x35ae4b(0x3fd):let _0x2d5494=_0x12c043['map'](_0x425a67=>({'id':_0x425a67[_0x35ae4b(0x761)],'isAdmin':!0x1,'name':_0x425a67[_0x35ae4b(0x3dc)],'imgUrl':_0x425a67[_0x35ae4b(0xa4)]}));_0x14fea8=[..._0x14fea8,..._0x2d5494];break;case _0x35ae4b(0x447):_0x14fea8=_0x14fea8[_0x35ae4b(0x5b0)](_0x39e5ac=>!_0x57c797[_0x35ae4b(0x39f)][_0x35ae4b(0x1d8)](_0x39e5ac['id']));break;case _0x35ae4b(0x55c):case _0x35ae4b(0x59a):_0x14fea8=_0x14fea8[_0x35ae4b(0x588)](_0xeb8249=>_0x57c797['participants'][_0x35ae4b(0x1d8)](_0xeb8249['id'])?{..._0xeb8249,'isAdmin':_0x57c797[_0x35ae4b(0x52f)]===_0x35ae4b(0x55c)}:_0xeb8249);break;}let _0xadda72=_0x14fea8[_0x35ae4b(0x767)],_0x193b46=_0x14fea8[_0x35ae4b(0x4f9)](_0x424eeb=>_0x424eeb['id']===this[_0x35ae4b(0x75a)][_0x35ae4b(0x494)]+'@s.whatsapp.net'),_0x85f488=_0x193b46&&_0x14fea8['some'](_0x5db6de=>_0x5db6de['id']===this[_0x35ae4b(0x75a)][_0x35ae4b(0x494)]+'@s.whatsapp.net'&&_0x5db6de[_0x35ae4b(0x55d)]),_0xbc3104=_0x193b46&&(!_0x25c578[_0x35ae4b(0x611)][_0x35ae4b(0x688)]||_0x85f488)&&(!_0x25c578[_0x35ae4b(0x611)]['isCommunity']||_0x25c578[_0x35ae4b(0x611)][_0x35ae4b(0x90)]&&_0x85f488);await this[_0x35ae4b(0x6af)][_0x35ae4b(0x556)][_0x35ae4b(0x1fd)]({'where':{'_id':_0x57c797['id']}},{'groupdata':{..._0x25c578[_0x35ae4b(0x611)],'participants':_0x14fea8,'size':_0xadda72,'isAdmin':_0x85f488,'canSendMessage':_0xbc3104}},this[_0x35ae4b(0x75a)][_0x35ae4b(0x494)]),this[_0x35ae4b(0x2da)]['info'](this[_0x35ae4b(0x5bf)]+'\x20('+this[_0x35ae4b(0x75a)][_0x35ae4b(0x494)]+_0x35ae4b(0x474)+_0x57c797['id']+_0x35ae4b(0x4bc)+_0x57c797[_0x35ae4b(0x52f)]+_0x35ae4b(0x20d)+_0xadda72+_0x35ae4b(0x33d)+_0x85f488+_0x35ae4b(0x249)+_0xbc3104);}async[a0_0xe54586(0x92)](_0x1982a5,_0x5490d0=!0x0){const _0x23c8ba=a0_0xe54586;try{let _0x295664=await this['client'][_0x23c8ba(0x3cf)](_0x1982a5[_0x23c8ba(0x5ff)]),_0x9a1c95={'groupdata.inviteCode':'https://chat.whatsapp.com/'+_0x295664};if(_0x5490d0){let _0xa04936=await this[_0x23c8ba(0x6af)][_0x23c8ba(0x556)][_0x23c8ba(0x1fd)]({'where':{'_id':_0x1982a5[_0x23c8ba(0x5ff)]}},_0x9a1c95,this[_0x23c8ba(0x75a)][_0x23c8ba(0x494)]);}return{'inviteUrl':'https://chat.whatsapp.com/'+_0x295664,'inviteCode':_0x295664};}catch(_0xf9e426){let _0xa092af=_0x23c8ba(0x4fd),_0x1a0fc0=_0xf9e426 instanceof Error?_0xf9e426['message']:typeof _0xf9e426==_0x23c8ba(0x6c9)?JSON[_0x23c8ba(0x548)](_0xf9e426):_0xf9e426,_0x5514e0=_0xa092af+':\x20'+_0x1a0fc0;throw this[_0x23c8ba(0x2da)][_0x23c8ba(0x418)](this[_0x23c8ba(0x5bf)]+'\x20('+this[_0x23c8ba(0x75a)]['wuid']+_0x23c8ba(0x601)+_0x5514e0),new U(_0x5514e0);}}async[a0_0xe54586(0x140)](_0x418e6f){const _0xb48068=a0_0xe54586;try{let _0x36b497=await this[_0xb48068(0x42c)][_0xb48068(0x597)](_0x418e6f[_0xb48068(0x5ff)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x36b497,'inviteCode':_0x36b497};}catch(_0x566372){let _0x27ab60=_0xb48068(0x64f),_0x116051=_0x566372 instanceof Error?_0x566372['message']:typeof _0x566372=='object'?JSON[_0xb48068(0x548)](_0x566372):_0x566372,_0x5df86b=_0x27ab60+':\x20'+_0x116051;throw this[_0xb48068(0x2da)][_0xb48068(0x418)](this[_0xb48068(0x5bf)]+'\x20('+this[_0xb48068(0x75a)][_0xb48068(0x494)]+_0xb48068(0x601)+_0x5df86b),new U(_0x5df86b);}}async[a0_0xe54586(0x97)](_0x28ee5e){const _0x5f03f3=a0_0xe54586;try{if((0x0,P[_0x5f03f3(0x18c)])(_0x28ee5e[_0x5f03f3(0x92)]))var _0x1df8e4=_0x28ee5e[_0x5f03f3(0x92)]['split']('/')[0x3];else var _0x1df8e4=_0x28ee5e['inviteCode'];let _0x269143=await this[_0x5f03f3(0x42c)][_0x5f03f3(0x775)](_0x1df8e4);return this[_0x5f03f3(0x2da)][_0x5f03f3(0x1bb)](this[_0x5f03f3(0x5bf)]+'\x20('+this['instance'][_0x5f03f3(0x494)]+_0x5f03f3(0x601)+_0x269143),{'join':!0x0,'inviteCode':_0x1df8e4,'groupJid':_0x269143};}catch(_0x234212){let _0x2daec2=_0x5f03f3(0xce),_0x1d2f9f=_0x234212 instanceof Error?_0x234212['message']:typeof _0x234212==_0x5f03f3(0x6c9)?JSON[_0x5f03f3(0x548)](_0x234212):_0x234212,_0x18dbdc=_0x2daec2+':\x20'+_0x1d2f9f;throw this[_0x5f03f3(0x2da)][_0x5f03f3(0x418)](this[_0x5f03f3(0x5bf)]+'\x20('+this[_0x5f03f3(0x75a)][_0x5f03f3(0x494)]+_0x5f03f3(0x601)+_0x18dbdc),new U(_0x18dbdc);}}async[a0_0xe54586(0x6a1)](_0x2922b8){const _0x237e3a=a0_0xe54586;try{return{'participants':(await this[_0x237e3a(0x6af)][_0x237e3a(0x556)][_0x237e3a(0x68c)]({'where':{'_id':_0x2922b8['groupJid']}},this[_0x237e3a(0x75a)][_0x237e3a(0x494)]))['groupdata'][_0x237e3a(0x39f)]};}catch(_0x40e54d){let _0x5ead52=_0x237e3a(0x76d),_0x4ccfb4=_0x40e54d instanceof Error?_0x40e54d[_0x237e3a(0x406)]:typeof _0x40e54d=='object'?JSON[_0x237e3a(0x548)](_0x40e54d):_0x40e54d,_0x4d3bd4=_0x5ead52+':\x20'+_0x4ccfb4;throw this[_0x237e3a(0x2da)][_0x237e3a(0x418)](this[_0x237e3a(0x5bf)]+'\x20('+this[_0x237e3a(0x75a)]['wuid']+_0x237e3a(0x601)+_0x4d3bd4),new U(_0x4d3bd4);}}async[a0_0xe54586(0x71f)](_0x553787){const _0x73ec04=a0_0xe54586;try{return await this[_0x73ec04(0x42c)]['groupLeave'](_0x553787[_0x73ec04(0x5ff)]),{'groupJid':_0x553787['groupJid'],'leave':!0x0};}catch(_0x31ba06){let _0x370f98=_0x73ec04(0x22e),_0x556f7b=_0x31ba06 instanceof Error?_0x31ba06[_0x73ec04(0x406)]:typeof _0x31ba06==_0x73ec04(0x6c9)?JSON['stringify'](_0x31ba06):_0x31ba06,_0x3fbe1e=_0x370f98+':\x20'+_0x556f7b;throw this[_0x73ec04(0x2da)]['error'](this[_0x73ec04(0x5bf)]+'\x20('+this[_0x73ec04(0x75a)][_0x73ec04(0x494)]+_0x73ec04(0x601)+_0x3fbe1e),new m(_0x3fbe1e);}}async[a0_0xe54586(0x230)](_0x5b2b64){const _0x3f603d=a0_0xe54586;return await this[_0x3f603d(0x5b3)](_0x5b2b64[_0x3f603d(0x335)],{'poll':{'name':_0x5b2b64[_0x3f603d(0x230)]?.['name'],'selectableCount':_0x5b2b64['pollMessage'][_0x3f603d(0x314)],'values':_0x5b2b64[_0x3f603d(0x230)][_0x3f603d(0x422)]}},_0x5b2b64?.[_0x3f603d(0x11b)]);}async[a0_0xe54586(0x6a5)](_0x388a6e){const _0x184a99=a0_0xe54586;return await this[_0x184a99(0x5b3)](_0x388a6e[_0x184a99(0x335)],{'listMessage':{'title':_0x388a6e[_0x184a99(0x6a5)][_0x184a99(0x27e)],'description':_0x388a6e[_0x184a99(0x6a5)][_0x184a99(0x1de)],'buttonText':_0x388a6e[_0x184a99(0x6a5)]?.[_0x184a99(0x3ce)],'footerText':_0x388a6e[_0x184a99(0x6a5)]?.[_0x184a99(0x5f4)],'sections':_0x388a6e[_0x184a99(0x6a5)][_0x184a99(0x157)],'listType':0x2}},_0x388a6e?.[_0x184a99(0x11b)]);}async['menuMessage'](_0x3cab65){const _0x2d1e8a=a0_0xe54586;let _0x34e503;if(_0x3cab65[_0x2d1e8a(0x165)]['type']===_0x2d1e8a(0x11c)){let _0x41617b=_0x3cab65['menuMessage'][_0x2d1e8a(0x37c)][_0x2d1e8a(0x334)]('\x0a'),_0x96397a='',_0xe3236d='';_0x41617b!==-0x1?(_0x96397a=_0x3cab65[_0x2d1e8a(0x165)]['text'][_0x2d1e8a(0x237)](0x0,_0x41617b)[_0x2d1e8a(0x6a0)](),_0xe3236d=_0x3cab65['menuMessage']['text'][_0x2d1e8a(0x237)](_0x41617b+0x1)):_0xe3236d=_0x3cab65[_0x2d1e8a(0x165)][_0x2d1e8a(0x37c)];let _0x26d75d=_0x3cab65[_0x2d1e8a(0x165)][_0x2d1e8a(0x29a)][_0x2d1e8a(0x5b0)](_0x579a85=>_0x579a85[_0x2d1e8a(0x6a0)]()!==''),_0x170603=this[_0x2d1e8a(0x578)](_0x26d75d);_0x34e503={'listMessage':{'title':_0x96397a,'description':_0xe3236d,'buttonText':_0x3cab65[_0x2d1e8a(0x165)][_0x2d1e8a(0x3ce)]||_0x2d1e8a(0x1e2),'footerText':_0x3cab65[_0x2d1e8a(0x165)][_0x2d1e8a(0x5f4)],'sections':_0x170603,'listType':0x2}};}else{if(_0x3cab65[_0x2d1e8a(0x165)][_0x2d1e8a(0x772)]===_0x2d1e8a(0x5aa)){let _0x11349e=_0x3cab65['menuMessage']['choices'][_0x2d1e8a(0x5b0)](_0x2d2bee=>!(_0x2d2bee['startsWith']('[')&&_0x2d2bee[_0x2d1e8a(0x3fa)](']'))&&_0x2d2bee[_0x2d1e8a(0x6a0)]()!=='')[_0x2d1e8a(0x588)](_0x40b320=>_0x40b320['split']('\x0a')[0x0]);_0x34e503={'poll':{'name':_0x3cab65[_0x2d1e8a(0x165)][_0x2d1e8a(0x37c)],'selectableCount':_0x3cab65['menuMessage']['selectableCount']||0x1,'values':_0x11349e}};}}return await this['sendMessageWithTyping'](_0x3cab65[_0x2d1e8a(0x335)],_0x34e503,_0x3cab65?.['options']);}['createSectionsFromValues'](_0x19784b){const _0x9d8df4=a0_0xe54586;let _0x5f493d=[],_0xfaf830={'rows':[]};return _0x19784b[_0x9d8df4(0x110)](_0x184f82=>{const _0x3733b2=_0x9d8df4;if(_0x184f82[_0x3733b2(0xc2)]('[')&&_0x184f82[_0x3733b2(0x3fa)](']'))_0xfaf830[_0x3733b2(0x641)][_0x3733b2(0x767)]>0x0&&_0x5f493d[_0x3733b2(0x2d6)](_0xfaf830),_0xfaf830={'title':_0x184f82[_0x3733b2(0x2ce)](0x1,-0x1),'rows':[]};else{let _0x5c12f3=_0x184f82['split']('\x0a')[_0x3733b2(0x588)](_0x2a81fd=>_0x2a81fd[_0x3733b2(0x6a0)]()),_0x25b468=_0x5c12f3[0x0],_0x3752ae=_0x5c12f3[0x1]||null,_0x394e2b=_0x5c12f3[0x2]||_0x25b468;_0xfaf830[_0x3733b2(0x641)][_0x3733b2(0x2d6)]({'title':_0x25b468,'description':_0x3752ae,'rowId':_0x394e2b});}}),_0xfaf830[_0x9d8df4(0x641)][_0x9d8df4(0x767)]>0x0&&_0x5f493d[_0x9d8df4(0x2d6)](_0xfaf830),_0x5f493d;}async[a0_0xe54586(0x3b4)](_0x17716b,_0xa847ca){const _0x1905d=a0_0xe54586;if(await this['getMessage'](_0x17716b,!0x0)){let _0x510df6={'where':{'_id':_0x17716b['id']}},_0x8c5454={'status':[_0xa847ca[_0x1905d(0x201)]][0x0]};try{let _0x1bb371=await this[_0x1905d(0x6af)]['message'][_0x1905d(0x2e3)](_0x510df6,_0x8c5454,this['instance']['wuid']);_0x1bb371&&J(this[_0x1905d(0x5bf)],_0x1905d(0xea),{'message':_0x1bb371});}catch{}}}[a0_0xe54586(0x565)](_0x28231e){const _0x30307d=a0_0xe54586;let _0xa4268a=[];return _0x28231e['forEach'](_0x399b02=>{const _0x40c150=a0_0x4692;_0x399b02[_0x40c150(0x27e)]&&_0xa4268a['push']('['+_0x399b02['title']+']'),_0x399b02[_0x40c150(0x641)][_0x40c150(0x110)](_0x3a6589=>{const _0x207fb5=_0x40c150;_0xa4268a[_0x207fb5(0x2d6)](_0x3a6589[_0x207fb5(0x27e)]);});}),_0xa4268a[_0x30307d(0x569)]('|');}[a0_0xe54586(0x46e)](_0x57e703){const _0x349271=a0_0xe54586;let _0x1d3de8=_0x57e703[_0x349271(0x6fd)](/\\n/g,'\x0a')[_0x349271(0x6fa)]('\x0a')[_0x349271(0x5b0)](_0x1fb864=>_0x1fb864[_0x349271(0x1d8)](_0x349271(0x2a7))||_0x1fb864[_0x349271(0x1d8)]('EMAIL')),_0x1cd5d5='';return _0x1d3de8[_0x349271(0x110)](_0x3ddd2f=>{const _0x34b608=_0x349271;let _0x258ed4=/TEL(?:.*):(.+)/,_0x27e9da=/EMAIL(?:.*):(.+)/,_0x2be2b2=_0x3ddd2f['match'](_0x258ed4),_0x1cd25f=_0x3ddd2f[_0x34b608(0x628)](_0x27e9da);if(_0x2be2b2){let _0xe09b13=_0x2be2b2[0x1][_0x34b608(0x6fd)](/-| |\+|\(|\)/g,'')[_0x34b608(0x6a0)]();_0x1cd5d5+='Telefone:\x20'+_0xe09b13+'\x0a';}else{if(_0x1cd25f){let _0x4ad881=_0x1cd25f[0x1][_0x34b608(0x6a0)]();_0x1cd5d5+=_0x34b608(0x40d)+_0x4ad881+'\x0a';}}}),_0x1cd5d5[_0x349271(0x6a0)]();}async[a0_0xe54586(0x4ea)](_0x29a79a,_0xc4dad7,_0xcf20ea,_0x4665f7=null){const _0x4425f0=a0_0xe54586;if(_0x29a79a['ENABLED'])try{let _0x155e49=_0xc4dad7[_0x4425f0(0x57b)][_0x4425f0(0x2f3)][_0x4425f0(0x6fd)](/:\d{1,2}@/g,'@'),_0x1a372e=_0xc4dad7[_0x4425f0(0x57b)][_0x4425f0(0x593)],_0x1ff241=_0x155e49[_0x4425f0(0x3fa)](_0x4425f0(0x721)),_0x56c3a6=_0xc4dad7[_0x4425f0(0xac)]?.[_0x4425f0(0x6fd)](/:\d{1,2}@/g,'@')||'',_0x1c3172=_0xc4dad7[_0x4425f0(0x104)]?.['text']||_0xc4dad7[_0x4425f0(0x104)]?.[_0x4425f0(0x115)]||_0xc4dad7[_0x4425f0(0x104)]?.[_0x4425f0(0x4b1)]||_0xc4dad7[_0x4425f0(0x104)]?.[_0x4425f0(0x3dc)]||'',_0x11f83d={'_id':_0xc4dad7[_0x4425f0(0x761)],'remoteJid':_0x1a372e?this[_0x4425f0(0x75a)][_0x4425f0(0x494)]:_0x1ff241?_0x56c3a6:_0x155e49,'pushName':_0x1a372e?this[_0x4425f0(0x75a)][_0x4425f0(0x679)]||'Eu':_0xc4dad7[_0x4425f0(0x17f)],'text':_0x1c3172,'type':_0xc4dad7['messageType'],'when':_0xc4dad7[_0x4425f0(0x34f)]||Date[_0x4425f0(0x755)]()};_0x4665f7||(_0x4665f7=await this[_0x4425f0(0x6af)][_0x4425f0(0x556)]['findOne']({'where':{'_id':_0x155e49}},this['instance'][_0x4425f0(0x494)]));let _0x46c365=_0x4665f7?_0x1a372e?_0x4665f7[_0x4425f0(0x787)]:(_0x4665f7[_0x4425f0(0x787)]||0x0)+0x1:_0x1a372e?0x0:0x1,_0x5d906b={'lastmsg':_0xc4dad7['messageTimestamp']||Date[_0x4425f0(0x755)](),'ephemeralExpiration':_0xc4dad7['expiration'],'lastMessage':_0x11f83d,'unreadcount':_0x46c365,..._0x1a372e||_0x1ff241?{}:{'name':_0xc4dad7[_0x4425f0(0x17f)]},..._0x1ff241?{'group':_0x1ff241}:{},...!_0x1a372e&&!_0x1ff241&&_0xc4dad7[_0x4425f0(0x57c)]?{'imagechat':_0xc4dad7[_0x4425f0(0x57c)]}:{}};if(!_0x1ff241&&(!_0x4665f7?.[_0x4425f0(0x564)]||!_0x4665f7['leadInfo'][_0x4425f0(0x550)])&&_0xc4dad7['pushName']&&!_0x1a372e&&(_0x5d906b={..._0x5d906b,'leadInfo.nome':_0xc4dad7[_0x4425f0(0x17f)]}),_0x4665f7?.['leadInfo'][_0x4425f0(0x33c)]||(_0x5d906b={..._0x5d906b,'leadInfo.etiquetas':[]}),_0x4665f7?.[_0x4425f0(0x564)][_0x4425f0(0xcc)]||(_0x5d906b={..._0x5d906b,'leadInfo.customFields':[]}),_0x4665f7?.[_0x4425f0(0x564)]['tags']||(_0x5d906b={..._0x5d906b,'leadInfo.tags':[]}),_0x4665f7&&_0x4665f7?.[_0x4425f0(0x65d)]){let _0x438b12=await this[_0x4425f0(0x6af)][_0x4425f0(0x259)][_0x4425f0(0x43d)]({'where':{}},this[_0x4425f0(0x75a)][_0x4425f0(0x494)]),_0x17a856=new Set(_0x438b12[_0x4425f0(0x588)](_0x2bf360=>_0x2bf360['_id'])),_0x1daf8d=(_0x4665f7[_0x4425f0(0x564)]?.[_0x4425f0(0x33c)]||[])[_0x4425f0(0x5b0)](_0x51c186=>_0x17a856['has'](_0x51c186));_0x5d906b={..._0x5d906b,'imported':!0x1,'leadInfo.etiquetas':_0x1daf8d};for(let _0x34a8ae of _0x1daf8d)await this[_0x4425f0(0x498)](_0x34a8ae,_0x155e49);}if(_0xcf20ea===_0x4425f0(0x3b3)&&_0x1a372e&&this['AutomateSystem']?.[_0x4425f0(0x55f)][_0x4425f0(0x25b)]&&!_0x1c3172[_0x4425f0(0xc2)](this[_0x4425f0(0x665)]?.[_0x4425f0(0x55f)][_0x4425f0(0x51a)])){let _0x47d41a=(this[_0x4425f0(0x665)]?.[_0x4425f0(0x55f)][_0x4425f0(0xe0)]||0x5)*0xea60,_0x57a691=Date[_0x4425f0(0x755)]()+_0x47d41a;_0x4665f7?.[_0x4425f0(0x564)]?.[_0x4425f0(0x5d5)]===0x0||(_0x5d906b={..._0x5d906b,'leadInfo.desativadoFluxoAte':_0x57a691},this[_0x4425f0(0x2da)][_0x4425f0(0x1bb)](this['instanceName']+'\x20('+this[_0x4425f0(0x75a)][_0x4425f0(0x494)]+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x57a691+'.'));}if(_0x4665f7=await this[_0x4425f0(0x6af)][_0x4425f0(0x556)]['updateOne']({'where':{'_id':_0x155e49}},_0x5d906b,this[_0x4425f0(0x75a)]['wuid'],{'new':!0x0,'upsert':!0x0}),_0x4665f7)J(this[_0x4425f0(0x5bf)],_0x4425f0(0xc9),{'chat':_0x4665f7});else{this[_0x4425f0(0x2da)][_0x4425f0(0x418)](this['instanceName']+'\x20('+this[_0x4425f0(0x75a)][_0x4425f0(0x494)]+_0x4425f0(0x32c));return;}if(!this['AutomateSystem']?.[_0x4425f0(0x55f)][_0x4425f0(0x25b)])return this['logger'][_0x4425f0(0x1bb)](this['instanceName']+'\x20('+this[_0x4425f0(0x75a)][_0x4425f0(0x494)]+_0x4425f0(0x4f2)),null;if(_0x4665f7['_id'][_0x4425f0(0x1d8)]('@g.us')&&this[_0x4425f0(0x665)]?.[_0x4425f0(0x55f)][_0x4425f0(0x54d)]===!0x0)return this['logger']['verbose'](this[_0x4425f0(0x5bf)]+'\x20('+this[_0x4425f0(0x75a)][_0x4425f0(0x494)]+_0x4425f0(0x3e0)),null;if(_0x4665f7[_0x4425f0(0x564)]){if(_0x4665f7[_0x4425f0(0x564)][_0x4425f0(0x5d5)]===0x0||_0x4665f7[_0x4425f0(0x564)][_0x4425f0(0x2dd)])return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4425f0(0x75a)][_0x4425f0(0x494)]+_0x4425f0(0x3fb)+_0x155e49+_0x4425f0(0xe4)),null;if(_0x4665f7['leadInfo'][_0x4425f0(0x5d5)]>Date[_0x4425f0(0x755)]()&&!_0xc4dad7[_0x4425f0(0x104)]?.[_0x4425f0(0x4b1)])return this['logger'][_0x4425f0(0x1bb)](this[_0x4425f0(0x5bf)]+'\x20('+this[_0x4425f0(0x75a)]['wuid']+_0x4425f0(0x603)+new Date(_0x4665f7['leadInfo'][_0x4425f0(0x5d5)])[_0x4425f0(0x5d8)]()+_0x4425f0(0xe4)),null;}this[_0x4425f0(0x2da)]['verbose'](this[_0x4425f0(0x5bf)]+'\x20('+this[_0x4425f0(0x75a)]['wuid']+_0x4425f0(0x546)),this[_0x4425f0(0x271)](_0xcf20ea,_0xc4dad7);}catch(_0x325313){let _0x115198=_0x4425f0(0x65a),_0x279d98=_0x325313 instanceof Error?_0x325313[_0x4425f0(0x406)]:typeof _0x325313==_0x4425f0(0x6c9)?JSON[_0x4425f0(0x548)](_0x325313):_0x325313,_0x59de7f=_0x115198+':\x20'+_0x279d98;return this['logger']['error'](this['instanceName']+'\x20('+this[_0x4425f0(0x75a)][_0x4425f0(0x494)]+_0x4425f0(0x601)+_0x59de7f),null;}}async[a0_0xe54586(0x577)](_0x5ddd14,_0x28f625){const _0x560a89=a0_0xe54586;if(_0x28f625[_0x560a89(0x4f6)]){let _0x30b5ad=_0x5ddd14['map'](async _0xbe2baa=>{const _0x16da08=_0x560a89;try{let _0x393338={'_id':_0xbe2baa[_0x16da08(0x761)],'owner':_0xbe2baa[_0x16da08(0x759)],'lastcache':0x0};if(Object[_0x16da08(0x25d)](_0xbe2baa)['forEach'](_0x11fa4f=>{_0xbe2baa[_0x11fa4f]!==null&&(_0x393338[_0x11fa4f]=_0xbe2baa[_0x11fa4f]);}),_0x393338[_0x16da08(0x465)]===null&&(_0x393338[_0x16da08(0x465)]='Imagem\x20não\x20encontrada'),Object[_0x16da08(0x25d)](_0x393338)[_0x16da08(0x767)]>0x0)return await this[_0x16da08(0x6af)][_0x16da08(0x556)]['updateOne']({'where':{'_id':_0xbe2baa[_0x16da08(0x761)]}},_0x393338,this[_0x16da08(0x75a)][_0x16da08(0x494)]);}catch(_0x1d8121){let _0xbc742c=_0x16da08(0x260)+_0xbe2baa['_id'],_0x185626=_0x1d8121 instanceof Error?_0x1d8121[_0x16da08(0x406)]:typeof _0x1d8121==_0x16da08(0x6c9)?JSON[_0x16da08(0x548)](_0x1d8121):_0x1d8121,_0x1f54b2=_0xbc742c+':\x20'+_0x185626;return this['logger']['error'](this[_0x16da08(0x5bf)]+'\x20('+this[_0x16da08(0x75a)][_0x16da08(0x494)]+_0x16da08(0x601)+_0x1f54b2),null;}}),_0x3d7ef6=(await Promise[_0x560a89(0x788)](_0x30b5ad))[_0x560a89(0x5b0)](_0x2a04af=>_0x2a04af!==null)[_0x560a89(0x767)];this[_0x560a89(0x2da)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x560a89(0x494)]+_0x560a89(0x601)+_0x3d7ef6+'\x20chats\x20de\x20'+this[_0x560a89(0x75a)][_0x560a89(0x494)]+_0x560a89(0x1ef));}}async[a0_0xe54586(0x19e)](_0x3df8ac){const _0x5d45ad=a0_0xe54586;this[_0x5d45ad(0x2da)][_0x5d45ad(0x1bb)](this['instanceName']+'\x20('+this[_0x5d45ad(0x75a)][_0x5d45ad(0x494)]+_0x5d45ad(0x426));let _0x5112cc={'readMessages':[{'remoteJid':_0x3df8ac[_0x5d45ad(0x6e0)]['lastReceivedMessage']['key'][_0x5d45ad(0x2f3)],'fromMe':_0x3df8ac['chatLog'][_0x5d45ad(0x523)]['key'][_0x5d45ad(0x593)],'id':_0x3df8ac['chatLog'][_0x5d45ad(0x523)]['key']['id']}]};await this[_0x5d45ad(0x16b)](_0x5112cc);}async[a0_0xe54586(0x271)](_0x362ab9,_0x24caab){const _0xa5cab8=a0_0xe54586;try{let {key:_0x1898da,message_normalized:_0x5be389}=_0x24caab,_0x2dd11b=_0x5be389,_0x30dff3=_0x5be389[_0xa5cab8(0x37c)]||_0x5be389[_0xa5cab8(0x115)]||_0x5be389['vote']||_0x5be389['name']||'',_0x4e09ff=_0x1898da[_0xa5cab8(0x2f3)],_0x1ceb30;if(_0x2dd11b[_0xa5cab8(0x57b)][_0xa5cab8(0x593)]&&_0x30dff3[_0xa5cab8(0x6a0)]()!==this[_0xa5cab8(0x665)]?.[_0xa5cab8(0x55f)][_0xa5cab8(0x248)][_0xa5cab8(0x6a0)]())return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0xa5cab8(0x75a)][_0xa5cab8(0x494)]+_0xa5cab8(0x368)),null;if(_0x2dd11b[_0xa5cab8(0x57b)][_0xa5cab8(0x593)]&&_0x30dff3[_0xa5cab8(0x6a0)]()===this['AutomateSystem']?.[_0xa5cab8(0x55f)][_0xa5cab8(0x248)][_0xa5cab8(0x6a0)]()){this[_0xa5cab8(0x2da)][_0xa5cab8(0x1bb)](this[_0xa5cab8(0x5bf)]+'\x20('+this[_0xa5cab8(0x75a)][_0xa5cab8(0x494)]+_0xa5cab8(0x139));let _0x4ad860=await this['repository'][_0xa5cab8(0x6d3)]['find']({'remoteJid':_0x4e09ff,'status':_0xa5cab8(0x13d)},this[_0xa5cab8(0x75a)][_0xa5cab8(0x494)]);this[_0xa5cab8(0x2da)][_0xa5cab8(0x1bb)](this[_0xa5cab8(0x5bf)]+'\x20('+this[_0xa5cab8(0x75a)]['wuid']+_0xa5cab8(0x261)+_0x4ad860);let _0x14cde3=Date[_0xa5cab8(0x755)](),_0x552d0b;return this[_0xa5cab8(0x665)]?.['flowConfig']['stopMinutes']===0x0?_0x552d0b={'stoppedUntil':_0x14cde3+0x7591f6200}:_0x552d0b={'stoppedUntil':_0x14cde3+this[_0xa5cab8(0x665)]?.['flowConfig']['stopMinutes']*0x3c*0x3e8},this[_0xa5cab8(0x2da)][_0xa5cab8(0x1bb)](this[_0xa5cab8(0x5bf)]+'\x20('+this[_0xa5cab8(0x75a)]['wuid']+_0xa5cab8(0x351)+_0x552d0b),this['updateStopChat'](_0x1ceb30,_0x552d0b[_0xa5cab8(0x3b7)]),null;}if(_0x30dff3&&_0x30dff3[_0xa5cab8(0xc2)](this['AutomateSystem']?.[_0xa5cab8(0x55f)][_0xa5cab8(0x51a)])&&_0x30dff3['length']>0x4){let _0x19f9ce=await this['repository']['flow'][_0xa5cab8(0x68c)]({'where':{'startCommandWord':_0x30dff3}},this['instance'][_0xa5cab8(0x494)]);if(this[_0xa5cab8(0x2da)][_0xa5cab8(0x1bb)](this['instanceName']+'\x20('+this['instance'][_0xa5cab8(0x494)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x19f9ce)_0x1ceb30=await this[_0xa5cab8(0x13c)](_0x19f9ce,_0x2dd11b['key'],_0x2dd11b);else return this['logger']['verbose'](this[_0xa5cab8(0x5bf)]+'\x20('+this[_0xa5cab8(0x75a)][_0xa5cab8(0x494)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand'),null;}else _0x1ceb30=await this[_0xa5cab8(0x733)](_0x4e09ff,_0x2dd11b);if(_0x1ceb30){this[_0xa5cab8(0x2da)][_0xa5cab8(0x1bb)](this[_0xa5cab8(0x5bf)]+'\x20('+this[_0xa5cab8(0x75a)][_0xa5cab8(0x494)]+_0xa5cab8(0x44a)),!_0x1898da[_0xa5cab8(0x593)]&&_0x1ceb30[_0xa5cab8(0xc4)]&&this[_0xa5cab8(0x19e)](_0x1ceb30);let _0x2aea95=await this[_0xa5cab8(0x282)](_0x1ceb30);_0x2aea95&&await this[_0xa5cab8(0x417)](_0x1ceb30,_0x2aea95);}}catch(_0x3fc198){this['logger'][_0xa5cab8(0x418)](this[_0xa5cab8(0x5bf)]+'\x20('+this['instance']['wuid']+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x3fc198 instanceof Error?_0x3fc198[_0xa5cab8(0x406)]:JSON[_0xa5cab8(0x548)](_0x3fc198,null,0x2)));}}[a0_0xe54586(0x13f)](_0x48169a,_0x4a80a5='',_0xf3c9cc={}){const _0x243ff0=a0_0xe54586;return typeof _0x48169a!=_0x243ff0(0x6c9)||_0x48169a===null?(_0x4a80a5&&(_0xf3c9cc[_0x4a80a5]=_0x48169a),_0xf3c9cc):(Object['entries'](_0x48169a)['forEach'](([_0x2ae04f,_0x4d9f6d])=>{const _0x5f312d=_0x243ff0;let _0xfc781f=_0x4a80a5?_0x4a80a5+'.'+_0x2ae04f:'_'+_0x2ae04f;Array['isArray'](_0x4d9f6d)?_0x4d9f6d[_0x5f312d(0x110)]((_0x883e8f,_0xcf5b9a)=>{this['flattenObject'](_0x883e8f,_0xfc781f+'['+_0xcf5b9a+']',_0xf3c9cc);}):typeof _0x4d9f6d==_0x5f312d(0x6c9)&&_0x4d9f6d!==null?this[_0x5f312d(0x13f)](_0x4d9f6d,_0xfc781f,_0xf3c9cc):_0xf3c9cc[_0xfc781f]=String(_0x4d9f6d);}),_0xf3c9cc);}['variablesToObject'](_0x22d1fc){const _0x5aa4c4=a0_0xe54586;let _0x51b01a={};for(let _0x4ce457 of _0x22d1fc)typeof _0x4ce457['name']==_0x5aa4c4(0x4c8)&&typeof _0x4ce457[_0x5aa4c4(0x306)]==_0x5aa4c4(0x4c8)&&(_0x51b01a[_0x4ce457['name']]=_0x4ce457['value']);return _0x51b01a;}async['NextBlock'](_0x11e4ce){const _0x265530=a0_0xe54586;if(!this['AutomateSystem']?.['flowConfig'][_0x265530(0x25b)]||_0x11e4ce[_0x265530(0x201)]!=='open'&&_0x11e4ce[_0x265530(0x2de)]==='')return null;let _0x5a7002=_0x11e4ce['chatLog'][_0x265530(0x4ee)]||_0x265530(0x385);typeof _0x11e4ce[_0x265530(0x6e0)]['lastCondition']>'u'&&(_0x11e4ce[_0x265530(0x6e0)][_0x265530(0x5ca)]=!0x0);let _0x3d6860=_0x11e4ce[_0x265530(0x6e0)][_0x265530(0x5ca)];this[_0x265530(0x2da)][_0x265530(0x1bb)](this[_0x265530(0x5bf)]+'\x20('+this[_0x265530(0x75a)][_0x265530(0x494)]+_0x265530(0x3e9)+_0x5a7002+',\x20lastCondition:\x20'+_0x3d6860);let _0x7b817=_0x5a7002===_0x265530(0x385)?_0x11e4ce[_0x265530(0x414)][_0x265530(0x43d)](_0x2e28d0=>_0x2e28d0[_0x265530(0x772)]===_0x265530(0x385)):_0x11e4ce[_0x265530(0x414)][_0x265530(0x43d)](_0x1e4452=>_0x1e4452[_0x265530(0x761)][_0x265530(0x27f)]()===_0x5a7002['toString']());if(!_0x7b817)return this[_0x265530(0x2da)]['error'](this[_0x265530(0x5bf)]+'\x20('+this[_0x265530(0x75a)][_0x265530(0x494)]+_0x265530(0x59e)+_0x5a7002),null;let _0x18eb91={'_pushName':_0x11e4ce?.[_0x265530(0x6e0)]?.['lastReceivedMessage']?.[_0x265530(0x17f)]||'',..._0x11e4ce[_0x265530(0x6e0)][_0x265530(0x734)]},_0x208288=null;if(_0x11e4ce[_0x265530(0x2de)]){let _0x56d2c1=_0x11e4ce[_0x265530(0x6e0)]['lastReceivedMessage'][_0x265530(0x4b1)],_0x152cdf=_0x11e4ce[_0x265530(0x4d5)][_0x265530(0x43d)](_0x475df3=>_0x475df3[_0x265530(0x595)]===_0x56d2c1);if(_0x152cdf){let _0x8d810b=_0x152cdf['next_groupId'];if(_0x208288=_0x11e4ce[_0x265530(0x414)]['find'](_0x10e8bc=>_0x10e8bc['groupId']===_0x8d810b&&_0x10e8bc[_0x265530(0x1bf)]===0x1),_0x7b817[_0x265530(0x433)][_0x265530(0x60d)]){let _0x3890dd={'id':_0x11e4ce[_0x265530(0x2de)],'remoteJid':_0x11e4ce[_0x265530(0x2f3)],'fromMe':!0x0};await this['deleteMessage'](_0x3890dd);}if(_0x7b817['uazapi'][_0x265530(0x60d)]&&_0x7b817[_0x265530(0x433)][_0x265530(0x639)]&&_0x7b817['uazapi'][_0x265530(0x532)]===_0x265530(0x5aa)){let _0x195883={'number':_0x11e4ce[_0x265530(0x2f3)],'options':{'delay':0x0},'textMessage':{'text':_0x265530(0x358)+_0x11e4ce[_0x265530(0x3a9)]+_0x265530(0x463)+_0x56d2c1}};await this[_0x265530(0x1e4)](_0x195883);}_0x11e4ce[_0x265530(0x201)]=_0x265530(0x13d),_0x11e4ce['waitingMenu_id']='',_0x11e4ce[_0x265530(0x3a9)]='',_0x11e4ce['waitingMenu_replyOptions']=[];}else{this[_0x265530(0x2da)][_0x265530(0x1bb)](this[_0x265530(0x5bf)]+'\x20('+this[_0x265530(0x75a)][_0x265530(0x494)]+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x110608={'activatedCount':_0x11e4ce[_0x265530(0x6e0)][_0x265530(0x528)][_0x265530(0x5b0)](_0x288f7e=>String(_0x288f7e[_0x265530(0x2df)])===String(_0x5a7002))[_0x265530(0x767)],'moreLogs':[_0x265530(0x372)]};if(_0x7b817[_0x265530(0x433)][_0x265530(0x3a4)]){let _0x335cb3={'number':_0x11e4ce[_0x265530(0x2f3)],'options':{'delay':0x0},'textMessage':{'text':_0x7b817[_0x265530(0x433)]['pollErrorMessage']}};await this[_0x265530(0x1e4)](_0x335cb3);}if(_0x7b817['maxActives']!==void 0x0&&_0x110608[_0x265530(0x263)]>=_0x7b817[_0x265530(0x602)]){let _0x3ff0cc=Date[_0x265530(0x755)](),_0x137770=_0x7b817[_0x265530(0x124)]??0xa;isNaN(_0x137770)&&(_0x137770=0xa);let _0x2e7a08=_0x3ff0cc+_0x137770*0x3c*0x3e8;_0x110608['newStoppedUntil']=_0x2e7a08,_0x110608['moreLogs'][_0x265530(0x2d6)](_0x265530(0x340)),this[_0x265530(0x3a7)](_0x11e4ce,_0x2e7a08),_0x11e4ce[_0x265530(0x2de)]='',_0x11e4ce['waitingMenu_text']='',_0x11e4ce[_0x265530(0x4d5)]=[];}return this[_0x265530(0x3b5)](_0x11e4ce,_0x7b817,_0x110608,!0x0),null;}}if(_0x3d6860&&_0x7b817[_0x265530(0x346)]&&!_0x11e4ce['waitingMenu_id']){let _0x4def55=_0x11e4ce[_0x265530(0x414)][_0x265530(0x5b0)](_0x28711e=>_0x28711e[_0x265530(0x66f)]['toString']()===_0x7b817[_0x265530(0x346)][_0x265530(0x27f)]())[_0x265530(0x489)]((_0x59b9af,_0x5c3a66)=>_0x59b9af['order']-_0x5c3a66['order']);_0x4def55[_0x265530(0x767)]>0x0&&(_0x208288=_0x4def55[0x0]);}if(!_0x208288){let _0x4d6ca1=_0x7b817['groupId'],_0x402d64=_0x11e4ce[_0x265530(0x414)][_0x265530(0x5b0)](_0x93255f=>_0x93255f[_0x265530(0x66f)]===_0x4d6ca1&&_0x93255f[_0x265530(0x1bf)]>_0x7b817[_0x265530(0x1bf)])[_0x265530(0x489)]((_0x151a82,_0xa99c2d)=>_0x151a82['order']-_0xa99c2d[_0x265530(0x1bf)]);_0x402d64[_0x265530(0x767)]>0x0&&(_0x208288=_0x402d64[0x0]);}if(!_0x208288)return _0x11e4ce[_0x265530(0x201)]='closed',null;_0x11e4ce[_0x265530(0x6e0)][_0x265530(0x734)]=_0x18eb91;let _0x19c83e=JSON[_0x265530(0x229)](JSON[_0x265530(0x548)](_0x208288));return this['replaceVariablesInObject'](_0x19c83e,_0x11e4ce['chatLog'][_0x265530(0x734)]),_0x11e4ce[_0x265530(0x6e0)][_0x265530(0x4ee)]=_0x19c83e['_id'],_0x11e4ce[_0x265530(0x6e0)]['lastCondition']=!0x0,_0x19c83e;}[a0_0xe54586(0x551)](_0x8eb2ed,_0x31ecac){return _0x8eb2ed['replace'](/\{\{([^}]+)\}\}/g,(_0x573b54,_0x3fa691)=>_0x31ecac[_0x3fa691]||'');}[a0_0xe54586(0x362)](_0x40bb14,_0x462101){const _0x300366=a0_0xe54586;for(let _0x364027 in _0x40bb14)typeof _0x40bb14[_0x364027]==_0x300366(0x4c8)?_0x40bb14[_0x364027]=this[_0x300366(0x551)](_0x40bb14[_0x364027],_0x462101):typeof _0x40bb14[_0x364027]==_0x300366(0x6c9)&&this[_0x300366(0x362)](_0x40bb14[_0x364027],_0x462101);}async[a0_0xe54586(0x389)](_0x1cf43f,_0x167066){const _0x24cde2=a0_0xe54586;let _0xf9712b=_0x167066[_0x24cde2(0x761)];if(_0x1cf43f[_0x24cde2(0x6e0)]&&_0x1cf43f[_0x24cde2(0x6e0)][_0x24cde2(0x528)]){let _0x4b57e9=_0x1cf43f[_0x24cde2(0x6e0)][_0x24cde2(0x528)][_0x24cde2(0x5b0)](_0x385f00=>String(_0x385f00['blockId'])===String(_0xf9712b))[_0x24cde2(0x62d)]();if(_0x4b57e9&&_0x4b57e9[_0x24cde2(0x418)]&&_0x167066['stopIfLastReturnedError'])return _0x1cf43f[_0x24cde2(0x201)]=_0x24cde2(0x197),await this[_0x24cde2(0x667)](_0x1cf43f),null;}if(_0x167066[_0x24cde2(0x772)]===_0x24cde2(0x433)&&_0x167066[_0x24cde2(0x433)]['command']===_0x24cde2(0x6b3)&&_0x1cf43f[_0x24cde2(0x2de)])return _0x1cf43f[_0x24cde2(0x6e0)][_0x24cde2(0x4ee)]=_0xf9712b,await this[_0x24cde2(0x667)](_0x1cf43f),null;let _0xeed163=await this[_0x24cde2(0x282)](_0x1cf43f);if(_0x1cf43f[_0x24cde2(0x6e0)]&&_0x1cf43f[_0x24cde2(0x6e0)][_0x24cde2(0x528)]){let _0x50d272=_0x1cf43f['chatLog']['blockLogs'][_0x24cde2(0x5b0)](_0x1957ea=>String(_0x1957ea[_0x24cde2(0x2df)])===String(_0xf9712b))[_0x24cde2(0x767)];if(_0x167066['maxActives']!==void 0x0&&_0x50d272>=_0x167066[_0x24cde2(0x602)]){let _0x345664=Date[_0x24cde2(0x755)](),_0x424218=_0x167066['stopMinutesMaxActives']??0xa;isNaN(_0x424218)&&(_0x424218=0xa);let _0x37d7b1=_0x345664+_0x424218*0x3c*0x3e8,_0x5937d9={'newStoppedUntil':_0x37d7b1};return this[_0x24cde2(0x3a7)](_0x1cf43f,_0x37d7b1),this[_0x24cde2(0x3b5)](_0x1cf43f,_0x167066,_0x5937d9,!0x0),null;}}_0xeed163&&_0xeed163[_0x24cde2(0x772)]!==_0x24cde2(0x6c3)&&await this[_0x24cde2(0x417)](_0x1cf43f,_0xeed163),_0xeed163||await this[_0x24cde2(0x667)](_0x1cf43f),_0xeed163&&_0xeed163['type']===_0x24cde2(0x6c3)&&(_0x1cf43f[_0x24cde2(0x6e0)][_0x24cde2(0x4ee)]=_0xf9712b,await this[_0x24cde2(0x667)](_0x1cf43f));}async[a0_0xe54586(0x417)](_0x3a1705,_0x4d1b62){const _0x4a0c0d=a0_0xe54586;try{let _0x549575=_0x4d1b62[_0x4a0c0d(0x772)];this[_0x4a0c0d(0x2da)][_0x4a0c0d(0x1bb)](this[_0x4a0c0d(0x5bf)]+'\x20('+this['instance']['wuid']+_0x4a0c0d(0x749)+_0x549575);let _0x18f647={'uazapi':()=>this[_0x4a0c0d(0x574)](_0x3a1705,_0x4d1b62),'save':()=>this[_0x4a0c0d(0x60c)](_0x3a1705,_0x4d1b62),'stop':()=>this[_0x4a0c0d(0x248)](_0x3a1705,_0x4d1b62),'condition':()=>this[_0x4a0c0d(0x3b0)](_0x3a1705,_0x4d1b62),'varedit':()=>this[_0x4a0c0d(0x5e1)](_0x3a1705,_0x4d1b62),'apirequest':()=>this[_0x4a0c0d(0x8d)](_0x3a1705,_0x4d1b62),'goToFlow':()=>this[_0x4a0c0d(0x763)](_0x3a1705,_0x4d1b62),'scheduleFlow':()=>this[_0x4a0c0d(0xe8)](_0x3a1705,_0x4d1b62),'awaitSeconds':()=>this[_0x4a0c0d(0x30f)](_0x3a1705,_0x4d1b62),'clearVariables':()=>this[_0x4a0c0d(0x227)](_0x3a1705,_0x4d1b62)}[_0x549575];_0x18f647&&await _0x18f647();}catch(_0x561f2b){this['logger'][_0x4a0c0d(0x418)](this[_0x4a0c0d(0x5bf)]+'\x20('+this[_0x4a0c0d(0x75a)][_0x4a0c0d(0x494)]+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x561f2b instanceof Error?_0x561f2b[_0x4a0c0d(0x406)]:JSON[_0x4a0c0d(0x548)](_0x561f2b,null,0x2)));}}async['processawaitSeconds'](_0x40424c,_0x79f74){const _0x2271b3=a0_0xe54586;if(this['logger'][_0x2271b3(0x1bb)](this[_0x2271b3(0x5bf)]+'\x20('+this[_0x2271b3(0x75a)][_0x2271b3(0x494)]+_0x2271b3(0x779)),!_0x40424c||!_0x79f74)return this['logger'][_0x2271b3(0x418)](this[_0x2271b3(0x5bf)]+'\x20('+this[_0x2271b3(0x75a)][_0x2271b3(0x494)]+_0x2271b3(0x457)),null;let _0x5471d6=+_0x79f74[_0x2271b3(0x57d)];isNaN(_0x5471d6)&&(_0x5471d6=0x0),_0x5471d6=Math[_0x2271b3(0x29f)](_0x5471d6,0x3c),await(0x0,w[_0x2271b3(0x267)])(_0x5471d6*0x3e8);let _0x7c4756={'moreLogs':[_0x2271b3(0x199)+_0x5471d6+_0x2271b3(0x149)]};return await this[_0x2271b3(0x3b5)](_0x40424c,_0x79f74,_0x7c4756),_0x5471d6;}async[a0_0xe54586(0x227)](_0x3ac4f0,_0x41b0ae){const _0x34f1bc=a0_0xe54586;if(this[_0x34f1bc(0x2da)]['verbose'](this['instanceName']+'\x20('+this[_0x34f1bc(0x75a)][_0x34f1bc(0x494)]+_0x34f1bc(0x14c)),!_0x3ac4f0||!_0x41b0ae)return this[_0x34f1bc(0x2da)][_0x34f1bc(0x418)](this[_0x34f1bc(0x5bf)]+'\x20('+this[_0x34f1bc(0x75a)][_0x34f1bc(0x494)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x5038bf=[];if(_0x41b0ae[_0x34f1bc(0x539)][_0x34f1bc(0x6a0)]()===_0x34f1bc(0x3aa)){let _0x13d184=['_pushName',_0x34f1bc(0x175),_0x34f1bc(0x373),_0x34f1bc(0x4e4),'_id',_0x34f1bc(0x645)];_0x5038bf=Object[_0x34f1bc(0x25d)](_0x3ac4f0[_0x34f1bc(0x6e0)][_0x34f1bc(0x734)])[_0x34f1bc(0x5b0)](_0x748bca=>_0x748bca[_0x34f1bc(0xc2)]('_')&&!_0x13d184[_0x34f1bc(0x1d8)](_0x748bca));}else _0x5038bf=_0x41b0ae['clearVariables']['split']('|')[_0x34f1bc(0x588)](_0x5598a5=>(_0x5598a5=_0x5598a5[_0x34f1bc(0x6fd)](/[{}]/g,'')[_0x34f1bc(0x6a0)](),_0x5598a5['startsWith']('_')?_0x5598a5:'_'+_0x5598a5));let _0x5c05ba=[];_0x5038bf[_0x34f1bc(0x110)](_0x32adb6=>{const _0x4bbb23=_0x34f1bc;_0x32adb6 in _0x3ac4f0[_0x4bbb23(0x6e0)][_0x4bbb23(0x734)]&&(delete _0x3ac4f0[_0x4bbb23(0x6e0)][_0x4bbb23(0x734)][_0x32adb6],_0x5c05ba['push'](_0x32adb6));}),_0x5c05ba[_0x34f1bc(0x767)]>0x0?this[_0x34f1bc(0x2da)][_0x34f1bc(0x1bb)](this[_0x34f1bc(0x5bf)]+'\x20('+this[_0x34f1bc(0x75a)]['wuid']+_0x34f1bc(0x365)+_0x5c05ba[_0x34f1bc(0x569)](',\x20')):this['logger'][_0x34f1bc(0x1bb)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x34f1bc(0x6da));let _0x15e021={'moreLogs':[_0x34f1bc(0x2e4)+_0x5c05ba[_0x34f1bc(0x569)](',\x20')]};return await this[_0x34f1bc(0x3b5)](_0x3ac4f0,_0x41b0ae,_0x15e021),null;}async[a0_0xe54586(0xe8)](_0x296501,_0x390eb0){const _0x1144ee=a0_0xe54586;if(this[_0x1144ee(0x2da)][_0x1144ee(0x1bb)](this['instanceName']+'\x20('+this[_0x1144ee(0x75a)][_0x1144ee(0x494)]+'):\x20Entrou\x20na\x20função\x20scheduleFlow'),!_0x296501||!_0x390eb0)return this[_0x1144ee(0x2da)][_0x1144ee(0x418)](this[_0x1144ee(0x5bf)]+'\x20('+this[_0x1144ee(0x75a)][_0x1144ee(0x494)]+_0x1144ee(0x457)),null;let _0x5b3434=_0x296501[_0x1144ee(0x2f3)];_0x390eb0[_0x1144ee(0x697)][_0x1144ee(0x2f3)]&&_0x390eb0[_0x1144ee(0x697)][_0x1144ee(0x2f3)][_0x1144ee(0x6a0)]()!==''&&(_0x5b3434=_0x390eb0[_0x1144ee(0x433)][_0x1144ee(0x2f3)][_0x1144ee(0x6a0)]());let _0x3f1f43=_0x390eb0[_0x1144ee(0x697)][_0x1144ee(0x3a2)]*0xea60,_0xf22f17=Date[_0x1144ee(0x755)]()+_0x3f1f43,_0x5c0b6a={'status':_0x1144ee(0x74d),'info':_0x1144ee(0xdc)+_0x296501[_0x1144ee(0x3dc)],'remoteJids':[_0x5b3434],'when':_0xf22f17,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x1144ee(0x3f7),'flowName':_0x390eb0[_0x1144ee(0x697)][_0x1144ee(0x623)]};this['editScheduleMessage'](_0x5c0b6a);let _0x34e1bc=await this['NextBlock'](_0x296501);_0x34e1bc&&await this[_0x1144ee(0x417)](_0x296501,_0x34e1bc);}async[a0_0xe54586(0x763)](_0x22525d,_0x27fce2){const _0x27d7ec=a0_0xe54586;if(this[_0x27d7ec(0x2da)][_0x27d7ec(0x1bb)](this[_0x27d7ec(0x5bf)]+'\x20('+this[_0x27d7ec(0x75a)]['wuid']+_0x27d7ec(0x3d8)),!_0x22525d||!_0x27fce2)return this[_0x27d7ec(0x2da)][_0x27d7ec(0x418)](this['instanceName']+'\x20('+this[_0x27d7ec(0x75a)][_0x27d7ec(0x494)]+_0x27d7ec(0x457)),null;await this[_0x27d7ec(0x3b5)](_0x22525d,_0x27fce2,{},!0x0,!0x0);let _0x5e61ba=_0x27fce2[_0x27d7ec(0x5f7)];_0x22525d=await this[_0x27d7ec(0x6d8)](_0x5e61ba,_0x22525d[_0x27d7ec(0x2f3)],_0x22525d[_0x27d7ec(0x6e0)][_0x27d7ec(0x734)]);let _0x5522f7=await this['NextBlock'](_0x22525d);_0x5522f7&&await this[_0x27d7ec(0x417)](_0x22525d,_0x5522f7);}async['createConversationforgoToFlow'](_0x542d3c,_0xb71765,_0x5c7ede){const _0x355afd=a0_0xe54586;this[_0x355afd(0x2da)][_0x355afd(0x1bb)](this[_0x355afd(0x5bf)]+'\x20('+this[_0x355afd(0x75a)]['wuid']+_0x355afd(0x203));try{if(_0x542d3c=await this[_0x355afd(0x6af)]['flow'][_0x355afd(0x68c)]({'where':{'name':_0x542d3c}},this[_0x355afd(0x75a)][_0x355afd(0x494)]),!_0x542d3c)return this[_0x355afd(0x2da)][_0x355afd(0x418)](this[_0x355afd(0x5bf)]+'\x20('+this[_0x355afd(0x75a)]['wuid']+'):\x20Flow\x20não\x20encontrado'),null;let _0x325988=require('mongodb')['ObjectId'],_0xd4b21e=Date[_0x355afd(0x755)](),_0x4ceaad=_0x355afd(0x385),_0x483948={},_0x107400={},_0x2b0095={..._0x542d3c,'chatLog':null},_0x3c8504={'lastReceivedMessage':_0x483948,'lastSendMessage':_0x107400,'lastBlockId':_0x4ceaad,'lastCondition':!0x0,'realVariables':_0x5c7ede};_0x2b0095[_0x355afd(0x6e0)]=_0x3c8504,_0x2b0095[_0x355afd(0x6e0)][_0x355afd(0x734)]={..._0x5c7ede},delete _0x2b0095[_0x355afd(0x761)],_0x2b0095['_id']=new _0x325988(),_0x2b0095['lastInteraction']=_0xd4b21e,_0x2b0095[_0x355afd(0x201)]='open',_0x2b0095[_0x355afd(0x2f3)]=_0xb71765;let _0x20b3fc=await this[_0x355afd(0x6af)]['flowConversation']['updateOne'](_0x2b0095[_0x355afd(0x761)],_0x2b0095,this['instance']['wuid']);return this['logger'][_0x355afd(0x1bb)](this[_0x355afd(0x5bf)]+'\x20('+this[_0x355afd(0x75a)]['wuid']+_0x355afd(0x41d)),_0x20b3fc?_0x2b0095:null;}catch(_0x56ac68){let _0x38ddb4=_0x355afd(0x2b2),_0x562e32=_0x56ac68 instanceof Error?_0x56ac68[_0x355afd(0x406)]:typeof _0x56ac68==_0x355afd(0x6c9)?JSON[_0x355afd(0x548)](_0x56ac68):_0x56ac68,_0x211982=_0x38ddb4+':\x20'+_0x562e32;throw this[_0x355afd(0x2da)][_0x355afd(0x418)](this['instanceName']+'\x20('+this[_0x355afd(0x75a)][_0x355afd(0x494)]+_0x355afd(0x601)+_0x211982),new m(_0x211982);}}async[a0_0xe54586(0x8d)](_0x8763d9,_0xcda293){const _0x1eff1c=a0_0xe54586;let _0x2cb8fc,_0xf1dab8;try{let _0x105b13=_0xcda293[_0x1eff1c(0x312)];if(!_0x105b13||!_0x105b13[_0x1eff1c(0x4be)]||!_0x105b13[_0x1eff1c(0x5db)])throw new Error(_0x1eff1c(0x66a));let _0x4494d4;(['https://api.openai.com/v1/audio/speech',_0x1eff1c(0x6d6),'https://api.elevenlabs.io/v1/text-to-speech/'][_0x1eff1c(0x4f9)](_0x422635=>_0x105b13['url']['includes'](_0x422635))||_0x105b13['requestFile'])&&(_0x4494d4='arraybuffer');let _0x4adca2='\u205f',_0x179e71;try{_0x179e71=JSON[_0x1eff1c(0x229)](_0x105b13[_0x1eff1c(0xb6)][_0x1eff1c(0x6fd)](new RegExp(_0x4adca2,'g'),''));}catch(_0xbb8ea8){throw _0xbb8ea8;}let _0x281595={'method':_0x105b13['method'],'url':_0x105b13[_0x1eff1c(0x4be)],'headers':_0x105b13['header']||{},..._0x105b13['method'][_0x1eff1c(0x290)]()!==_0x1eff1c(0x52e)&&_0x105b13[_0x1eff1c(0xb6)]?{'data':JSON[_0x1eff1c(0x229)](_0x105b13[_0x1eff1c(0xb6)][_0x1eff1c(0x6fd)](new RegExp(_0x4adca2,'g'),''))}:{},..._0x4494d4&&{'responseType':_0x4494d4}},_0x189e6a=await(0x0,K['default'])(_0x281595),_0x4f54bb=_0x189e6a[_0x1eff1c(0x1e8)][_0x1eff1c(0x3f8)];if(_0x4f54bb&&_0x4f54bb[_0x1eff1c(0x1d8)](_0x1eff1c(0x1c7))||typeof _0x189e6a[_0x1eff1c(0x6e7)]=='string'){if(typeof _0x189e6a[_0x1eff1c(0x6e7)]=='string'){let _0x151dc8=_0x189e6a[_0x1eff1c(0x6e7)][_0x1eff1c(0x6fd)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x1eff1c(0x6a0)]();try{_0x2cb8fc=JSON[_0x1eff1c(0x229)](_0x151dc8);}catch(_0x1520ea){console[_0x1eff1c(0x418)](_0x1eff1c(0x317)+_0x1520ea['message']),_0x2cb8fc={'_apiResponse':_0x189e6a[_0x1eff1c(0x6e7)]};}}else _0x2cb8fc=_0x189e6a['data'];let _0x4521b4=_0x8763d9[_0x1eff1c(0x6e0)]['realVariables'],_0x1ad1e7=this[_0x1eff1c(0x13f)](_0x2cb8fc);return Object[_0x1eff1c(0x75d)](_0x4521b4,_0x1ad1e7),_0x8763d9[_0x1eff1c(0x6e0)][_0x1eff1c(0x734)]=_0x4521b4,_0xf1dab8={'error':!0x1,'apiResponse':_0x2cb8fc},this[_0x1eff1c(0x3b5)](_0x8763d9,_0xcda293,_0xf1dab8),_0x2cb8fc;}if(_0x4f54bb&&(_0x4f54bb[_0x1eff1c(0x1d8)](_0x1eff1c(0x46d))||_0x4f54bb[_0x1eff1c(0x1d8)](_0x1eff1c(0x32e))||_0x4f54bb[_0x1eff1c(0x1d8)]('audio')||_0x4f54bb[_0x1eff1c(0x1d8)]('video'))){this[_0x1eff1c(0x2da)][_0x1eff1c(0x1bb)](this[_0x1eff1c(0x5bf)]+'\x20('+this['instance'][_0x1eff1c(0x494)]+_0x1eff1c(0x2ed)+_0x4f54bb);let _0x4b5ad4=(0x0,Me['v4'])(),_0x3d9b19='',_0x34a0be={'image/jpeg':_0x1eff1c(0x6a8),'image/png':_0x1eff1c(0x3e6),'image/gif':_0x1eff1c(0x135),'image/webp':_0x1eff1c(0x752),'image/svg+xml':_0x1eff1c(0x6a2),'audio/mpeg':'.mp3','audio/ogg':'.ogg','audio/wav':_0x1eff1c(0x651),'video/mp4':_0x1eff1c(0x6cd),'video/webm':_0x1eff1c(0x5fa),'video/ogg':_0x1eff1c(0x472),'text/plain':_0x1eff1c(0x33f),'application/pdf':_0x1eff1c(0x516),'application/msword':'.doc','application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x1eff1c(0x319),'application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x1eff1c(0x48e)};_0x34a0be[_0x4f54bb]?(_0x3d9b19=_0x34a0be[_0x4f54bb],this[_0x1eff1c(0x2da)][_0x1eff1c(0x1bb)](this[_0x1eff1c(0x5bf)]+'\x20('+this[_0x1eff1c(0x75a)][_0x1eff1c(0x494)]+'):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20'+_0x3d9b19)):(_0x3d9b19=_0x1eff1c(0x511),this[_0x1eff1c(0x2da)]['verbose'](this[_0x1eff1c(0x5bf)]+'\x20('+this[_0x1eff1c(0x75a)][_0x1eff1c(0x494)]+'):\x20Usando\x20extensão\x20padrão:\x20'+_0x3d9b19)),_0x4b5ad4+=_0x3d9b19,this['logger'][_0x1eff1c(0x1bb)](this[_0x1eff1c(0x5bf)]+'\x20('+this[_0x1eff1c(0x75a)][_0x1eff1c(0x494)]+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0x4b5ad4);let _0x62e5f6=this[_0x1eff1c(0x291)][_0x1eff1c(0x6a4)](_0x1eff1c(0x355))['URL'];if(!_0x62e5f6){let _0x1aa763=this[_0x1eff1c(0x291)][_0x1eff1c(0x6a4)](_0x1eff1c(0x339));_0x62e5f6=_0x1eff1c(0x4ab)+(_0x1aa763&&_0x1aa763[_0x1eff1c(0x529)][_0x1eff1c(0x6fa)]('/')[0x4]);}let _0x3b4e9f=Buffer['from'](_0x189e6a[_0x1eff1c(0x6e7)]);await this['saveMediaToFile'](_0x3b4e9f,_0x4b5ad4);let _0x50974c=_0x1eff1c(0x69f)+_0x4b5ad4;_0x50974c=''+_0x62e5f6+_0x50974c,_0x2cb8fc={'fileUrl':_0x50974c},_0x8763d9[_0x1eff1c(0x6e0)][_0x1eff1c(0x734)][_0x1eff1c(0x62f)]=_0x50974c;let _0x1bc889=_0x8763d9[_0x1eff1c(0x6e0)][_0x1eff1c(0x734)],_0x456061=this[_0x1eff1c(0x13f)](_0x2cb8fc);return Object['assign'](_0x1bc889,_0x456061),_0x8763d9[_0x1eff1c(0x6e0)][_0x1eff1c(0x734)]=_0x1bc889,_0xf1dab8={'error':!0x1,'apiResponse':{'fileUrl':_0x50974c}},this[_0x1eff1c(0x3b5)](_0x8763d9,_0xcda293,_0xf1dab8),_0x2cb8fc;}}catch(_0x213146){console[_0x1eff1c(0x418)](_0x1eff1c(0x437),_0x213146['message']),_0x213146[_0x1eff1c(0x1aa)]&&(_0x2cb8fc=_0x213146['response'][_0x1eff1c(0x6e7)]);let _0x1910ec=_0x8763d9[_0x1eff1c(0x6e0)][_0x1eff1c(0x734)],_0x5d67d2=this[_0x1eff1c(0x13f)](_0x2cb8fc);return Object[_0x1eff1c(0x75d)](_0x1910ec,_0x5d67d2),_0x8763d9[_0x1eff1c(0x6e0)][_0x1eff1c(0x734)]=_0x1910ec,_0xf1dab8={'error':!0x0,'errorLog':_0x213146[_0x1eff1c(0x27f)](),'apiResponse':_0x2cb8fc},this['updateConversation'](_0x8763d9,_0xcda293,_0xf1dab8),{'success':!0x1};}}[a0_0xe54586(0xd6)](_0x30b40e,_0x4e1661){const _0x136b6e=a0_0xe54586;let _0x5bf34a=_0x5d713f=>{const _0x3217d6=a0_0x4692;let _0x488506=_0x5d713f[_0x3217d6(0x6fd)](/[^0-9.,-]/g,'')[_0x3217d6(0x6fd)](',','.'),_0x47e92b=parseFloat(_0x488506);return isNaN(_0x47e92b)?null:_0x47e92b;},_0x334202=_0x4e1661[_0x136b6e(0x6ee)],_0xe7ce35=_0x4e1661['secondValue'];typeof _0x334202=='string'&&(_0x334202=this[_0x136b6e(0x551)](_0x334202,_0x30b40e[_0x136b6e(0x6e0)][_0x136b6e(0x734)])??''),typeof _0xe7ce35==_0x136b6e(0x4c8)&&(_0xe7ce35=this['replaceVariables'](_0xe7ce35,_0x30b40e['chatLog'][_0x136b6e(0x734)])??'');let _0x1006a2=null;if(!_0x4e1661[_0x136b6e(0x52c)])return null;switch(this[_0x136b6e(0x2da)][_0x136b6e(0x1bb)](this[_0x136b6e(0x5bf)]+'\x20('+this['instance']['wuid']+_0x136b6e(0x36e)+_0x334202),this[_0x136b6e(0x2da)][_0x136b6e(0x1bb)](this[_0x136b6e(0x5bf)]+'\x20('+this['instance']['wuid']+_0x136b6e(0x736)+_0xe7ce35),_0x4e1661[_0x136b6e(0x52c)]){case'+':case'-':case'*':case'/':let _0x4867b5=_0x5bf34a(_0x334202||'0'),_0x5d2dc9=_0x5bf34a(_0xe7ce35||'0');if(_0x4867b5===null)return null;switch(_0x4e1661[_0x136b6e(0x52c)]){case'+':_0x1006a2=_0x4867b5+(_0x5d2dc9??0x0);break;case'-':_0x1006a2=_0x4867b5-(_0x5d2dc9??0x0);break;case'*':_0x1006a2=_0x4867b5*(_0x5d2dc9??0x1);break;case'/':_0x5d2dc9!==0x0&&(_0x1006a2=_0x4867b5/(_0x5d2dc9??0x1));break;}break;case'findAndReplace':case _0x136b6e(0x58a):let _0x51a777=_0xe7ce35,_0x22906e=_0x4e1661[_0x136b6e(0x78f)];if(typeof _0x22906e=='string'&&(_0x22906e=this[_0x136b6e(0x551)](_0x22906e,_0x30b40e[_0x136b6e(0x6e0)][_0x136b6e(0x734)])??''),_0x51a777&&_0x22906e!==void 0x0){let _0x1e5b33=_0x4e1661['editOperator']==='findAndReplace'?new RegExp(_0x51a777[_0x136b6e(0x6fd)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x51a777,'g');_0x1006a2=_0x334202[_0x136b6e(0x6fd)](_0x1e5b33,_0x22906e);}else console['warn'](_0x136b6e(0x320));break;case _0x136b6e(0x22f):_0x1006a2=_0xe7ce35;break;case _0x136b6e(0x4c0):let _0x3d4146=_0x334202[_0x136b6e(0x628)](new RegExp(_0xe7ce35||''));_0x1006a2=_0x3d4146?_0x3d4146[0x0]:'';break;case _0x136b6e(0x1f9):_0x1006a2=_0x334202[_0x136b6e(0x2ce)](0x0,parseInt(_0xe7ce35||'0'));break;case'truncatedtoEnd':let _0x2afc5b=parseInt(_0xe7ce35||'0');_0x1006a2=_0x334202['slice'](_0x334202[_0x136b6e(0x767)]-_0x2afc5b);break;case _0x136b6e(0x6a6):let _0x35a003=_0x5bf34a(_0x334202),_0x1eb6c7=parseInt(_0xe7ce35||'0');_0x1eb6c7=Math[_0x136b6e(0x70c)](_0x1eb6c7),_0x35a003!==null?_0x1006a2=_0x35a003[_0x136b6e(0x5d8)](_0x136b6e(0x193),{'minimumFractionDigits':_0x1eb6c7,'maximumFractionDigits':_0x1eb6c7}):(console[_0x136b6e(0x286)](_0x136b6e(0x637)+_0x334202),_0x1006a2=null);break;case'toBRL':let _0x4d1d6b=_0x5bf34a(_0x334202);_0x4d1d6b!==null?_0x1006a2=_0x4d1d6b['toLocaleString'](_0x136b6e(0x193),{'style':_0x136b6e(0x6bd),'currency':_0x136b6e(0x1b2)}):(console[_0x136b6e(0x286)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x334202),_0x1006a2=null);break;case _0x136b6e(0x15a):_0x1006a2=_0x334202['toUpperCase']();break;case'lowerCase':_0x1006a2=_0x334202['toLowerCase']();break;case _0x136b6e(0x2f1):_0x1006a2=_0x334202[_0x136b6e(0x6fa)]('\x20')['map'](_0x17c4f6=>_0x17c4f6[_0x136b6e(0x59c)](0x0)['toUpperCase']()+_0x17c4f6[_0x136b6e(0x2ce)](0x1)[_0x136b6e(0x4b5)]())[_0x136b6e(0x569)]('\x20');break;case _0x136b6e(0x64b):_0x1006a2=_0x334202['trim']();break;default:_0x1006a2=_0x334202;}return _0x1006a2!==null?_0x1006a2['toString']():null;}async['processvaredits'](_0x4f5caa,_0x1b509d){const _0x1ebe0d=a0_0xe54586;try{let _0x4d8ed4=_0x4f5caa[_0x1ebe0d(0x128)]?.[_0x1ebe0d(0x5b0)](_0x48b8c1=>_0x48b8c1['blockId']===_0x1b509d[_0x1ebe0d(0x761)]?.[_0x1ebe0d(0x27f)]())||[],_0x2bb7ac=_0x1b509d[_0x1ebe0d(0x17d)],_0x132eb4=null,_0x16e5dd=[],_0x28ee71=_0x4f5caa['chatLog'][_0x1ebe0d(0x734)][_0x2bb7ac];_0x16e5dd[_0x1ebe0d(0x2d6)](_0x1ebe0d(0x58f)+_0x28ee71+'\x22');for(let _0x113f4e of _0x4d8ed4){_0x113f4e['firstValue']=_0x28ee71,_0x132eb4=_0x113f4e['firstValue'];let _0x5804b9;try{_0x5804b9=this['applyvaredit'](_0x4f5caa,_0x113f4e);}catch(_0x482c4b){console['error'](_0x1ebe0d(0x130)+_0x482c4b[_0x1ebe0d(0x406)]);continue;}if(_0x5804b9!==null){let _0x505011=_0x1ebe0d(0x672)+_0x113f4e[_0x1ebe0d(0x52c)]+'\x22',_0xc0df95=[_0x1ebe0d(0x6c5),_0x1ebe0d(0x15a),_0x1ebe0d(0x1e9),_0x1ebe0d(0x2f1),_0x1ebe0d(0x64b)];_0x113f4e['editOperator']===_0x1ebe0d(0x5c8)||_0x113f4e[_0x1ebe0d(0x52c)]===_0x1ebe0d(0x58a)?_0x505011+=_0x1ebe0d(0x379)+_0x113f4e[_0x1ebe0d(0xe9)]+_0x1ebe0d(0x18d)+_0x113f4e[_0x1ebe0d(0x78f)]+'\x22':!_0xc0df95['includes'](_0x113f4e[_0x1ebe0d(0x52c)])&&_0x113f4e[_0x1ebe0d(0xe9)]!==null&&_0x113f4e['secondValue']!==void 0x0&&(_0x505011+=',\x20valor\x20passado:\x20\x22'+_0x113f4e[_0x1ebe0d(0xe9)]+'\x22'),_0x505011+=_0x1ebe0d(0xa2)+_0x5804b9+'.',_0x16e5dd[_0x1ebe0d(0x2d6)](_0x505011);}_0x5804b9!==null&&(_0x28ee71=_0x5804b9);}if(_0x4f5caa[_0x1ebe0d(0x6e0)][_0x1ebe0d(0x734)]&&_0x1b509d[_0x1ebe0d(0x17d)]){_0x4f5caa['chatLog']['realVariables'][_0x1b509d[_0x1ebe0d(0x17d)]]=_0x28ee71;let _0x1cfab1={'variable':_0x1b509d[_0x1ebe0d(0x17d)],'oldValue':_0x132eb4,'newValue':_0x28ee71,'moreLogs':_0x16e5dd};try{this[_0x1ebe0d(0x3b5)](_0x4f5caa,_0x1b509d,_0x1cfab1);}catch(_0x16a9d2){console['error']('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x16a9d2['message']);}}return _0x2bb7ac;}catch(_0x3fd31f){return console[_0x1ebe0d(0x418)](_0x1ebe0d(0x695)+_0x3fd31f['message']),null;}}async['processConditions'](_0x689cf2,_0x9c787c){const _0x44e7cc=a0_0xe54586;try{let _0x346621=[],_0x33aad6=_0x689cf2['conditions'][_0x44e7cc(0x5b0)](_0x27a40e=>_0x27a40e[_0x44e7cc(0x2df)]===_0x9c787c[_0x44e7cc(0x761)][_0x44e7cc(0x27f)]()),_0x11786a=null,_0x303eae=!0x1;for(let _0x5ab096 of _0x33aad6){let _0x1f50d8=this[_0x44e7cc(0x652)](_0x689cf2,_0x5ab096);_0x346621['push'](_0x44e7cc(0x361)+_0x5ab096[_0x44e7cc(0x6ee)]+_0x44e7cc(0x3ed)+_0x5ab096[_0x44e7cc(0x5ad)]+_0x44e7cc(0x225)+_0x5ab096[_0x44e7cc(0xe9)]+_0x44e7cc(0x2af)+_0x1f50d8),_0x11786a===null?_0x11786a=_0x1f50d8:_0x5ab096[_0x44e7cc(0x74f)]===_0x44e7cc(0x245)?(_0x11786a=_0x11786a&&_0x1f50d8,_0x1f50d8||(_0x303eae=!0x0)):_0x5ab096[_0x44e7cc(0x74f)]==='or'&&(_0x303eae||(_0x11786a=_0x11786a||_0x1f50d8));}_0x11786a===null&&(_0x11786a=!0x0);let _0x5b5224={'moreLogs':_0x346621};_0x689cf2[_0x44e7cc(0x6e0)]['lastCondition']=_0x11786a,await this['updateConversation'](_0x689cf2,_0x9c787c,_0x5b5224);}catch(_0x684c34){this['logger']['error'](this[_0x44e7cc(0x5bf)]+'\x20('+this[_0x44e7cc(0x75a)]['wuid']+'):\x20Error\x20processing\x20conditions:\x20'+(_0x684c34 instanceof Error?_0x684c34[_0x44e7cc(0x406)]:JSON[_0x44e7cc(0x548)](_0x684c34,null,0x2)));}}['evaluateCondition'](_0xee7483,_0x33fcf4){const _0x1f324c=a0_0xe54586;let _0x1c807d=_0x33fcf4[_0x1f324c(0x6ee)],_0x5b5250=_0x33fcf4[_0x1f324c(0xe9)];typeof _0x1c807d==_0x1f324c(0x4c8)&&(_0x1c807d=this[_0x1f324c(0x551)](_0x1c807d,_0xee7483['chatLog'][_0x1f324c(0x734)])??''),typeof _0x5b5250==_0x1f324c(0x4c8)&&(_0x5b5250=this[_0x1f324c(0x551)](_0x5b5250,_0xee7483[_0x1f324c(0x6e0)][_0x1f324c(0x734)])??'');try{switch(_0x33fcf4['expression']){case _0x1f324c(0x6f3):return _0x1c807d===_0x5b5250;case _0x1f324c(0x2d0):return _0x1c807d!==_0x5b5250;case'contains':return this['contains'](_0x1c807d,_0x5b5250);case'notContains':return!this[_0x1f324c(0x4ec)](_0x1c807d,_0x5b5250);case _0x1f324c(0x419):return parseFloat(_0x1c807d)>parseFloat(_0x5b5250);case'less':return parseFloat(_0x1c807d)<parseFloat(_0x5b5250);case _0x1f324c(0x487):return _0x1c807d!=='';case _0x1f324c(0x66e):return _0x1c807d==='';case'matchRegex':return new RegExp(_0x5b5250)[_0x1f324c(0x2b1)](_0x1c807d);case _0x1f324c(0x49c):return!new RegExp(_0x5b5250)[_0x1f324c(0x2b1)](_0x1c807d);default:return!0x1;}}catch(_0x5e9db1){return console[_0x1f324c(0x418)](_0x1f324c(0x742)+_0x5e9db1),!0x1;}}[a0_0xe54586(0x4ec)](_0x516c77,_0x48f41c){const _0x36111e=a0_0xe54586;if(_0x516c77===_0x48f41c&&/^\d+$/[_0x36111e(0x2b1)](_0x516c77))return!0x0;if(this[_0x36111e(0x2f7)](_0x516c77)&&/^\d+$/['test'](_0x48f41c)){let _0x15a5df=_0x516c77[_0x36111e(0x6fa)](',')[_0x36111e(0x588)](_0x5a4c4c=>parseInt(_0x5a4c4c[_0x36111e(0x6a0)]())),_0x151bff=parseInt(_0x48f41c);return _0x15a5df[_0x36111e(0x1d8)](_0x151bff);}return _0x516c77[_0x36111e(0x1d8)](_0x48f41c);}[a0_0xe54586(0x2f7)](_0x14aa81){const _0x328617=a0_0xe54586;return/^\d+(,\d+)*$/[_0x328617(0x2b1)](_0x14aa81);}[a0_0xe54586(0x5a7)](_0x5efaba){const _0x4a51d6=a0_0xe54586;let _0x1beb7a=!0x0,_0x53d7d4=null;for(let _0x1c9451 of _0x5efaba){let _0x233de2=this[_0x4a51d6(0x2cf)](_0x1c9451);if(_0x53d7d4==='or'&&_0x233de2){_0x1beb7a=!0x0;break;}if(_0x53d7d4===_0x4a51d6(0x245)&&!_0x233de2){_0x1beb7a=!0x1;break;}_0x53d7d4=_0x1c9451[_0x4a51d6(0x74f)];}return _0x1beb7a;}['evaluateConditionTest'](_0x109245){const _0x389147=a0_0xe54586;let _0x2fdc2d=_0x109245[_0x389147(0x6ee)],_0x4d3232=_0x109245[_0x389147(0xe9)];try{switch(_0x109245[_0x389147(0x5ad)]){case _0x389147(0x6f3):return String(_0x2fdc2d)===String(_0x4d3232);case _0x389147(0x2d0):return String(_0x2fdc2d)!==String(_0x4d3232);case _0x389147(0x4ec):return String(_0x2fdc2d)[_0x389147(0x1d8)](String(_0x4d3232));case'notContains':return!String(_0x2fdc2d)['includes'](String(_0x4d3232));case _0x389147(0x419):return parseFloat(String(_0x2fdc2d))>parseFloat(String(_0x4d3232));case _0x389147(0x2d3):return parseFloat(String(_0x2fdc2d))<parseFloat(String(_0x4d3232));case _0x389147(0x487):return String(_0x2fdc2d)!=='';case _0x389147(0x66e):return String(_0x2fdc2d)==='';case _0x389147(0x5e0):return new RegExp(String(_0x4d3232))[_0x389147(0x2b1)](String(_0x2fdc2d));case _0x389147(0x49c):return!new RegExp(String(_0x4d3232))[_0x389147(0x2b1)](String(_0x2fdc2d));default:return!0x1;}}catch(_0x5eba7a){return console[_0x389147(0x418)](_0x389147(0x742)+_0x5eba7a),!0x1;}}async['saveTextReply'](_0x588fff,_0x2d0aa9){const _0x499c29=a0_0xe54586;if(this[_0x499c29(0x2da)][_0x499c29(0x1bb)](this[_0x499c29(0x5bf)]+'\x20('+this[_0x499c29(0x75a)][_0x499c29(0x494)]+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x588fff||!_0x2d0aa9)return this[_0x499c29(0x2da)][_0x499c29(0x418)](this[_0x499c29(0x5bf)]+'\x20('+this[_0x499c29(0x75a)][_0x499c29(0x494)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x29fb5e=_0x588fff[_0x499c29(0x6e0)][_0x499c29(0x523)][_0x499c29(0x57b)]['id'];this[_0x499c29(0x2da)][_0x499c29(0x1bb)](this[_0x499c29(0x5bf)]+'\x20('+this[_0x499c29(0x75a)][_0x499c29(0x494)]+'):\x20mediaMessageInfoId\x20:\x20'+_0x29fb5e);let _0x487732={'key':{'id':_0x29fb5e}},_0x4c5b9e=_0x2d0aa9[_0x499c29(0x17d)];_0x588fff['chatLog']['realVariables']['_'+_0x4c5b9e+'.fileUrl']=null,_0x588fff[_0x499c29(0x6e0)][_0x499c29(0x734)]['_'+_0x4c5b9e+'.mimetype']=null,_0x588fff['chatLog'][_0x499c29(0x734)]['_'+_0x4c5b9e+_0x499c29(0x307)]=null,_0x588fff[_0x499c29(0x6e0)][_0x499c29(0x734)]['_'+_0x4c5b9e+_0x499c29(0x783)]=_0x588fff['chatLog'][_0x499c29(0x523)][_0x499c29(0x772)];try{let _0x3ecaaa=await this[_0x499c29(0x3ff)](_0x487732);this[_0x499c29(0x2da)][_0x499c29(0x1bb)](this[_0x499c29(0x5bf)]+'\x20('+this[_0x499c29(0x75a)][_0x499c29(0x494)]+_0x499c29(0x589)),_0x588fff[_0x499c29(0x6e0)]['realVariables']['_'+_0x4c5b9e+'.url']=_0x3ecaaa[_0x499c29(0x62f)],_0x588fff[_0x499c29(0x6e0)][_0x499c29(0x734)]['_'+_0x4c5b9e+'.mimetype']=_0x3ecaaa[_0x499c29(0xec)];let _0x69c61d=_0x3ecaaa[_0x499c29(0xec)][_0x499c29(0x628)](/\/(\w+)$/),_0x186d76=_0x69c61d?_0x69c61d[0x1]:null;_0x588fff[_0x499c29(0x6e0)][_0x499c29(0x734)]['_'+_0x4c5b9e+_0x499c29(0x307)]=_0x186d76,this[_0x499c29(0x2da)][_0x499c29(0x1bb)](this[_0x499c29(0x5bf)]+'\x20('+this[_0x499c29(0x75a)][_0x499c29(0x494)]+_0x499c29(0xc0)+_0x4c5b9e+'\x27.');}catch(_0x4b749b){this[_0x499c29(0x2da)]['error'](this[_0x499c29(0x5bf)]+'\x20('+this[_0x499c29(0x75a)][_0x499c29(0x494)]+'):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20'+_0x4b749b[_0x499c29(0x406)]);}let _0x594e1a=_0x588fff['chatLog']['lastReceivedMessage']['text']||_0x588fff[_0x499c29(0x6e0)][_0x499c29(0x523)][_0x499c29(0x115)]||_0x588fff[_0x499c29(0x6e0)][_0x499c29(0x523)][_0x499c29(0x4b1)];try{_0x588fff['chatLog'][_0x499c29(0x734)]||(_0x588fff[_0x499c29(0x6e0)]['realVariables']={});let _0x2ebfee=_0x588fff['chatLog'][_0x499c29(0x734)][_0x4c5b9e];_0x588fff['chatLog'][_0x499c29(0x734)][_0x4c5b9e]=_0x594e1a;let _0x3c7d8f={'variable':_0x4c5b9e,'oldValue':_0x2ebfee,'newValue':_0x594e1a};this[_0x499c29(0x3b5)](_0x588fff,_0x2d0aa9,_0x3c7d8f),this[_0x499c29(0x2da)][_0x499c29(0x1bb)](this[_0x499c29(0x5bf)]+'\x20('+this[_0x499c29(0x75a)][_0x499c29(0x494)]+_0x499c29(0x55b));}catch(_0x5af3c3){let _0x57d770={'error':!0x0,'errorLog':_0x5af3c3[_0x499c29(0x27f)]()};return this[_0x499c29(0x3b5)](_0x588fff,_0x2d0aa9,_0x57d770),this['logger'][_0x499c29(0x418)](this[_0x499c29(0x5bf)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+(_0x5af3c3 instanceof Error?_0x5af3c3['message']:JSON['stringify'](_0x5af3c3,null,0x2))),null;}}async[a0_0xe54586(0x248)](_0x2554f7,_0x2d0b80){const _0x5bc5bb=a0_0xe54586;if(this['logger'][_0x5bc5bb(0x1bb)](this[_0x5bc5bb(0x5bf)]+'\x20('+this['instance'][_0x5bc5bb(0x494)]+_0x5bc5bb(0x114)),!_0x2554f7||!_0x2d0b80)return this[_0x5bc5bb(0x2da)][_0x5bc5bb(0x418)](this[_0x5bc5bb(0x5bf)]+'\x20('+this['instance'][_0x5bc5bb(0x494)]+_0x5bc5bb(0x457)),null;let _0x21203f=Date[_0x5bc5bb(0x755)](),_0xb87a76=parseInt(_0x2d0b80[_0x5bc5bb(0x3b8)],0xa);if(isNaN(_0xb87a76))return this[_0x5bc5bb(0x2da)][_0x5bc5bb(0x418)](this[_0x5bc5bb(0x5bf)]+'\x20('+this[_0x5bc5bb(0x75a)][_0x5bc5bb(0x494)]+_0x5bc5bb(0x252)),null;let _0x86c0a6={'newStoppedUntil':_0x21203f+_0xb87a76*0x3c*0x3e8};return await this[_0x5bc5bb(0x3b5)](_0x2554f7,_0x2d0b80,_0x86c0a6,!0x0),null;}async[a0_0xe54586(0x574)](_0x335e8,_0x34590e){const _0x152c3b=a0_0xe54586;try{switch(_0x34590e['uazapi']['command']){case _0x152c3b(0x326):await this[_0x152c3b(0x148)](_0x335e8,_0x34590e);break;case'sendMedia':await this[_0x152c3b(0x3f2)](_0x335e8,_0x34590e);break;case _0x152c3b(0x50d):await this[_0x152c3b(0x4f1)](_0x335e8,_0x34590e);break;case _0x152c3b(0x26a):await this['uazapiSendAudio'](_0x335e8,_0x34590e);break;case _0x152c3b(0x505):await this[_0x152c3b(0x630)](_0x335e8,_0x34590e);break;case _0x152c3b(0x6b3):await this[_0x152c3b(0x71d)](_0x335e8,_0x34590e);break;case _0x152c3b(0xd8):await this[_0x152c3b(0x71d)](_0x335e8,_0x34590e);break;case _0x152c3b(0x6f9):await this['uazapiDeleteMessage'](_0x335e8,_0x34590e);break;default:this[_0x152c3b(0x2da)][_0x152c3b(0x418)](this['instanceName']+'\x20('+this['instance'][_0x152c3b(0x494)]+_0x152c3b(0x77a)+_0x34590e[_0x152c3b(0x433)]['command']);}}catch(_0x4a27ab){this[_0x152c3b(0x2da)][_0x152c3b(0x418)](this[_0x152c3b(0x5bf)]+'\x20('+this[_0x152c3b(0x75a)][_0x152c3b(0x494)]+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+(_0x4a27ab instanceof Error?_0x4a27ab[_0x152c3b(0x406)]:JSON[_0x152c3b(0x548)](_0x4a27ab,null,0x2)));}}async['updateConversation'](_0x878f02,_0x7db6d4,_0x2c1151,_0x5da5c7=!0x1,_0x1c94be=!0x1){const _0x1a4e20=a0_0xe54586;_0x878f02['chatLog'][_0x1a4e20(0x528)]||(_0x878f02['chatLog'][_0x1a4e20(0x528)]=[]);let _0x252ef1=(_0x878f02['chatLog'][_0x1a4e20(0x528)]?.[_0x1a4e20(0x767)]??0x0)+0x1,_0x16b946=_0x878f02[_0x1a4e20(0x6e0)][_0x1a4e20(0x528)]['filter'](_0x3b336b=>String(_0x3b336b[_0x1a4e20(0x2df)])===String(_0x7db6d4[_0x1a4e20(0x761)]))[_0x1a4e20(0x767)]+0x1,_0x25d604=_0x2c1151?.[_0x1a4e20(0x412)]??Date[_0x1a4e20(0x755)](),_0x4b3fd5=_0x2c1151?.[_0x1a4e20(0x418)]?_0x2c1151[_0x1a4e20(0x720)]??_0x2c1151[_0x1a4e20(0x418)][_0x1a4e20(0x27f)]():void 0x0,_0xc0d854={'onTime':_0x25d604,'blockId':_0x7db6d4[_0x1a4e20(0x761)],'order':_0x252ef1,'activatedCount':_0x16b946,'error':_0x2c1151?.[_0x1a4e20(0x418)]??!0x1,'messageId':_0x2c1151?.['messageId'],'apiResponse':_0x2c1151?.[_0x1a4e20(0x5f1)],'apiResponseString':_0x2c1151?.[_0x1a4e20(0x5f1)]?JSON[_0x1a4e20(0x548)](_0x2c1151?.[_0x1a4e20(0x5f1)]):void 0x0,'variable':_0x2c1151?.[_0x1a4e20(0xfb)],'oldValue':_0x2c1151?.[_0x1a4e20(0x3bb)],'newValue':_0x2c1151?.[_0x1a4e20(0x89)],'newStoppedUntil':_0x2c1151?.[_0x1a4e20(0x518)],'moreLogs':_0x2c1151?.[_0x1a4e20(0x2c2)],'errorLog':_0x4b3fd5};if(_0x2c1151['moreLogs']&&_0x2c1151['moreLogs']['length']>0x0){let _0x58ce83=_0x2c1151['moreLogs'][_0x1a4e20(0x588)](_0x53948c=>this[_0x1a4e20(0x643)](_0x53948c,_0x878f02[_0x1a4e20(0x6e0)]['realVariables']));_0xc0d854[_0x1a4e20(0x2c2)]=_0x58ce83;}if(_0x878f02[_0x1a4e20(0x6e0)]['realVariables']||(_0x878f02[_0x1a4e20(0x6e0)][_0x1a4e20(0x734)]={}),_0x878f02[_0x1a4e20(0x6e0)]['realVariables'][_0x1a4e20(0x482)]=String(_0x16b946),_0x878f02[_0x1a4e20(0x6e0)][_0x1a4e20(0x734)][_0x1a4e20(0x175)]=String(_0x2c1151['error']??!0x1),_0x878f02[_0x1a4e20(0x6e0)][_0x1a4e20(0x528)][_0x1a4e20(0x2d6)](_0xc0d854),_0x878f02[_0x1a4e20(0x6e0)][_0x1a4e20(0x734)][_0x1a4e20(0x26c)]&&_0x878f02[_0x1a4e20(0x6e0)][_0x1a4e20(0x734)][_0x1a4e20(0x26c)]!==_0x878f02[_0x1a4e20(0x2f3)]){let _0x13165c=(await this[_0x1a4e20(0x61c)]({'numbers':[_0x878f02[_0x1a4e20(0x6e0)]['realVariables']['telefone']]}))[0x0][_0x1a4e20(0x106)];_0x878f02['chatLog'][_0x1a4e20(0x734)][_0x1a4e20(0x26c)]=_0x13165c,_0x878f02[_0x1a4e20(0x2f3)]=_0x13165c;try{let _0x5639d6={'_id':{'$ne':_0x878f02[_0x1a4e20(0x761)]},'remoteJid':_0x13165c,'status':_0x1a4e20(0x13d)},_0x50d5b2={'status':'closed'};await this[_0x1a4e20(0x6af)][_0x1a4e20(0x6d3)][_0x1a4e20(0x3f5)](_0x5639d6,_0x50d5b2,this[_0x1a4e20(0x75a)][_0x1a4e20(0x494)]),this[_0x1a4e20(0x2da)][_0x1a4e20(0x1bb)](this['instanceName']+'\x20('+this[_0x1a4e20(0x75a)]['wuid']+_0x1a4e20(0x758));}catch(_0x130acd){this[_0x1a4e20(0x2da)][_0x1a4e20(0x418)](this['instanceName']+'\x20('+this[_0x1a4e20(0x75a)]['wuid']+_0x1a4e20(0x2a2)+_0x130acd['message']);}try{let _0x41a20b=_0x878f02[_0x1a4e20(0x6e0)][_0x1a4e20(0x734)],_0x8e4575=await this['getVariablesChat'](_0x13165c),_0x39e415={..._0x41a20b,..._0x8e4575,'_remoteJid':_0x13165c};_0x878f02[_0x1a4e20(0x6e0)][_0x1a4e20(0x734)]=_0x39e415;}catch(_0x3fda8a){this[_0x1a4e20(0x2da)][_0x1a4e20(0x418)](this[_0x1a4e20(0x5bf)]+'\x20('+this[_0x1a4e20(0x75a)]['wuid']+_0x1a4e20(0x272)+_0x3fda8a[_0x1a4e20(0x406)]);}}_0x878f02['chatLog']['lastBlockId']=_0x7db6d4[_0x1a4e20(0x761)][_0x1a4e20(0x27f)](),_0x878f02[_0x1a4e20(0x6e0)][_0x1a4e20(0x2a4)]&&(_0x878f02['chatLog'][_0x1a4e20(0x2a4)]=_0x878f02[_0x1a4e20(0x6e0)][_0x1a4e20(0x2a4)]),_0x878f02[_0x1a4e20(0x6e0)][_0x1a4e20(0x523)]&&(_0x878f02[_0x1a4e20(0x6e0)][_0x1a4e20(0x523)]=_0x878f02['chatLog'][_0x1a4e20(0x523)]),_0x878f02[_0x1a4e20(0x6e0)]['lastCondition']&&(_0x878f02['chatLog'][_0x1a4e20(0x5ca)]=_0x878f02[_0x1a4e20(0x6e0)][_0x1a4e20(0x5ca)]),_0x1c94be&&(_0x878f02[_0x1a4e20(0x201)]='closed'),_0x5da5c7?this[_0x1a4e20(0x667)](_0x878f02):this[_0x1a4e20(0x389)](_0x878f02,_0x7db6d4);}[a0_0xe54586(0x643)](_0x28a9a5,_0x2af8a6){const _0x3342d7=a0_0xe54586;return _0x28a9a5['replace'](/\{\{([^}]+)\}\}/g,(_0x293ea6,_0x1294d4)=>_0x2af8a6[_0x1294d4]?'{{'+_0x1294d4+_0x3342d7(0x284)+_0x2af8a6[_0x1294d4]+'\x22':'{{'+_0x1294d4+_0x3342d7(0x4d2));}async[a0_0xe54586(0x667)](_0x34dfd2){const _0x64b88e=a0_0xe54586;try{let _0x225b92=Object[_0x64b88e(0x1ed)](_0x34dfd2[_0x64b88e(0x6e0)]['realVariables'])[_0x64b88e(0x588)](([_0x44fcf8,_0xb072fc])=>({'name':_0x44fcf8,'value':_0xb072fc})),_0x3ae529={'status':_0x34dfd2[_0x64b88e(0x201)],'remoteJid':_0x34dfd2[_0x64b88e(0x2f3)],'blocks':_0x34dfd2[_0x64b88e(0x414)],'waitingMenu_id':_0x34dfd2[_0x64b88e(0x2de)],'waitingMenu_text':_0x34dfd2[_0x64b88e(0x3a9)],'waitingMenu_replyOptions':_0x34dfd2[_0x64b88e(0x4d5)],'chatLog':{'lastBlockId':_0x34dfd2[_0x64b88e(0x6e0)][_0x64b88e(0x4ee)],'lastSendMessage':_0x34dfd2[_0x64b88e(0x6e0)][_0x64b88e(0x2a4)],'lastReceivedMessage':_0x34dfd2[_0x64b88e(0x6e0)][_0x64b88e(0x523)],'lastCondition':_0x34dfd2[_0x64b88e(0x6e0)]['lastCondition'],'chatVariables':_0x225b92,'realVariables':_0x34dfd2['chatLog']['realVariables'],'blockLogs':_0x34dfd2[_0x64b88e(0x6e0)][_0x64b88e(0x528)]}},_0x38f3a7=await this[_0x64b88e(0x6af)]['flowConversation'][_0x64b88e(0x1fd)](_0x34dfd2[_0x64b88e(0x761)],_0x3ae529,this[_0x64b88e(0x75a)][_0x64b88e(0x494)]);if(_0x38f3a7){this[_0x64b88e(0x2da)][_0x64b88e(0x1bb)](this['instanceName']+'\x20('+this[_0x64b88e(0x75a)][_0x64b88e(0x494)]+_0x64b88e(0xae)+_0x38f3a7['_id']);try{let _0x360f4f=['nome',_0x64b88e(0x4ed),_0x64b88e(0x311),'cpf',_0x64b88e(0x201),_0x64b88e(0x579),_0x64b88e(0x6f0),_0x64b88e(0x45e),_0x64b88e(0x33c),'atendimentoAberto'];if(!this[_0x64b88e(0x665)]&&(await this[_0x64b88e(0x5fb)](),!this[_0x64b88e(0x665)]))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x5c32cb=this[_0x64b88e(0x665)]?.[_0x64b88e(0xcc)][_0x64b88e(0x588)](_0x4b7096=>_0x4b7096[_0x64b88e(0x3dc)]),_0x36fb40={};Object[_0x64b88e(0x1ed)](_0x34dfd2[_0x64b88e(0x6e0)]['realVariables'])[_0x64b88e(0x110)](([_0x2c68cd,_0x3469b9])=>{const _0x5ae325=_0x64b88e;_0x360f4f['includes'](_0x2c68cd)&&(_0x2c68cd===_0x5ae325(0x45e)&&typeof _0x3469b9=='string'?_0x36fb40[_0x2c68cd]=_0x3469b9['split'](',')['map'](_0x5e20d3=>_0x5e20d3[_0x5ae325(0x6a0)]())['filter'](_0x3e68a5=>_0x3e68a5!==''):_0x2c68cd===_0x5ae325(0x33c)&&typeof _0x3469b9==_0x5ae325(0x4c8)?_0x36fb40[_0x2c68cd]=_0x3469b9[_0x5ae325(0x6fa)](',')['map'](_0x13e58b=>_0x13e58b[_0x5ae325(0x6a0)]())[_0x5ae325(0x5b0)](_0x5b5e33=>_0x5b5e33!==''):_0x36fb40[_0x2c68cd]=_0x3469b9);});let _0x1ee34b=_0x34dfd2[_0x64b88e(0x6e0)][_0x64b88e(0x528)][_0x34dfd2[_0x64b88e(0x6e0)]['blockLogs'][_0x64b88e(0x767)]-0x1];if(_0x1ee34b){let _0xa377a=_0x1ee34b['newStoppedUntil'];_0xa377a!==void 0x0&&(_0x36fb40[_0x64b88e(0x5d5)]=_0xa377a[_0x64b88e(0x27f)]());}let _0x16cc89=_0x225b92['filter'](_0x2fe329=>_0x5c32cb['includes'](_0x2fe329[_0x64b88e(0x3dc)]));this[_0x64b88e(0x2da)][_0x64b88e(0x1bb)](this[_0x64b88e(0x5bf)]+'\x20('+this[_0x64b88e(0x75a)][_0x64b88e(0x494)]+_0x64b88e(0x6c2)),this[_0x64b88e(0x2da)][_0x64b88e(0x1bb)](_0x36fb40),this[_0x64b88e(0x2da)][_0x64b88e(0x1bb)](this[_0x64b88e(0x5bf)]+'\x20('+this[_0x64b88e(0x75a)][_0x64b88e(0x494)]+'):\x20customFieldVariables'),this[_0x64b88e(0x2da)][_0x64b88e(0x1bb)](_0x16cc89);let _0x572715=_0x16cc89[_0x64b88e(0x588)](_0xe56446=>{const _0x4ee6b3=_0x64b88e;let _0x55494c=this[_0x4ee6b3(0x665)]?.[_0x4ee6b3(0xcc)][_0x4ee6b3(0x43d)](_0x5914c4=>_0x5914c4[_0x4ee6b3(0x3dc)]===_0xe56446['name']);if(!_0x55494c)throw new Error(_0x4ee6b3(0x430)+_0xe56446[_0x4ee6b3(0x3dc)]);return{'_id':_0x55494c[_0x4ee6b3(0x761)],'value':_0xe56446[_0x4ee6b3(0x306)]};});this[_0x64b88e(0x2da)]['verbose'](this[_0x64b88e(0x5bf)]+'\x20('+this[_0x64b88e(0x75a)][_0x64b88e(0x494)]+'):\x20transformedCustomFieldVariables'),this[_0x64b88e(0x2da)][_0x64b88e(0x1bb)](_0x572715),await this['saveChatVariables'](_0x34dfd2[_0x64b88e(0x2f3)],_0x36fb40,_0x572715);}catch(_0x6ed280){this[_0x64b88e(0x2da)][_0x64b88e(0x418)](this[_0x64b88e(0x5bf)]+'\x20('+this['instance']['wuid']+_0x64b88e(0x689)+(_0x6ed280 instanceof Error?_0x6ed280['message']:JSON[_0x64b88e(0x548)](_0x6ed280,null,0x2)));}}else this['logger'][_0x64b88e(0x418)](this[_0x64b88e(0x5bf)]+'\x20('+this['instance'][_0x64b88e(0x494)]+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x528f2a){this[_0x64b88e(0x2da)][_0x64b88e(0x418)](this[_0x64b88e(0x5bf)]+'\x20('+this['instance'][_0x64b88e(0x494)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0x528f2a instanceof Error?_0x528f2a[_0x64b88e(0x406)]:JSON['stringify'](_0x528f2a,null,0x2)));}}async[a0_0xe54586(0x50f)](_0x362637,_0x48b889,_0x10d077){const _0x30ed5c=a0_0xe54586;try{let _0x14d157={'leadInfo.leadnome':_0x48b889[_0x30ed5c(0x550)],'leadInfo.nomecompleto':_0x48b889[_0x30ed5c(0x4ed)],'leadInfo.email':_0x48b889[_0x30ed5c(0x311)],'leadInfo.cpf':_0x48b889[_0x30ed5c(0x2dc)],'leadInfo.status':_0x48b889[_0x30ed5c(0x201)],'leadInfo.notas':_0x48b889[_0x30ed5c(0x579)],'leadInfo.responsavelid':_0x48b889[_0x30ed5c(0x6f0)],'leadInfo.tags':_0x48b889[_0x30ed5c(0x45e)],'leadInfo.etiquetas':_0x48b889[_0x30ed5c(0x33c)],'leadInfo.customFields':_0x10d077,'leadInfo.atendimentoAberto':_0x48b889[_0x30ed5c(0x2dd)]},_0x281998=await this[_0x30ed5c(0x6af)][_0x30ed5c(0x556)][_0x30ed5c(0x68c)]({'where':{'_id':_0x362637}},this['instance'][_0x30ed5c(0x494)]);if(!_0x281998)return _0x30ed5c(0x446);let _0x26c64a=new Set(_0x281998['leadInfo'][_0x30ed5c(0x33c)]||[]),_0x35235f=new Set(_0x48b889[_0x30ed5c(0x33c)]||[]),_0x18792e=await this[_0x30ed5c(0x6af)]['label'][_0x30ed5c(0x43d)]({'where':{}},this[_0x30ed5c(0x75a)]['wuid']),_0x15aa01=new Set(_0x18792e['map'](_0x5b3823=>_0x5b3823[_0x30ed5c(0x761)])),_0x1a942e=[..._0x35235f]['filter'](_0x126b37=>!_0x26c64a[_0x30ed5c(0x3af)](_0x126b37)&&_0x15aa01['has'](_0x126b37)),_0x58a2ae=[..._0x26c64a][_0x30ed5c(0x5b0)](_0x57a5ea=>!_0x35235f[_0x30ed5c(0x3af)](_0x57a5ea));for(let _0x36b261 of _0x1a942e)await this[_0x30ed5c(0x498)](_0x36b261,_0x281998[_0x30ed5c(0x761)]),_0x26c64a['add'](_0x36b261);for(let _0x16e5e1 of _0x58a2ae)await this[_0x30ed5c(0x583)](_0x16e5e1,_0x281998['_id']),_0x26c64a[_0x30ed5c(0x790)](_0x16e5e1);if('desativadoFluxoAte'in _0x48b889){let _0x2070d7=_0x48b889[_0x30ed5c(0x5d5)];_0x14d157['leadInfo.desativadoFluxoAte']=_0x2070d7?Number(_0x2070d7):null;}if(_0x30ed5c(0x2dd)in _0x48b889){let _0x2a31bc=_0x48b889['atendimentoAberto']['toLowerCase']();_0x14d157[_0x30ed5c(0x6d5)]=_0x2a31bc==='true'||_0x2a31bc==='1'||_0x2a31bc==='yes'||_0x2a31bc===_0x30ed5c(0x5c1);}let _0x2ff09d=await this['repository'][_0x30ed5c(0x556)][_0x30ed5c(0x1fd)]({'where':{'_id':_0x362637}},_0x14d157,this[_0x30ed5c(0x75a)][_0x30ed5c(0x494)]);_0x2ff09d?(this[_0x30ed5c(0x2da)][_0x30ed5c(0x1bb)](this['instanceName']+'\x20('+this[_0x30ed5c(0x75a)]['wuid']+_0x30ed5c(0x24e)+_0x2ff09d[_0x30ed5c(0x761)]),J(this['instanceName'],'chats',{'chat':_0x2ff09d})):this['logger']['error'](this[_0x30ed5c(0x5bf)]+'\x20('+this[_0x30ed5c(0x75a)][_0x30ed5c(0x494)]+_0x30ed5c(0x4e0));}catch(_0x35531a){this[_0x30ed5c(0x2da)][_0x30ed5c(0x418)](this[_0x30ed5c(0x5bf)]+'\x20('+this[_0x30ed5c(0x75a)][_0x30ed5c(0x494)]+_0x30ed5c(0x151)+(_0x35531a instanceof Error?_0x35531a[_0x30ed5c(0x406)]:JSON[_0x30ed5c(0x548)](_0x35531a,null,0x2)));}}async[a0_0xe54586(0x3a7)](_0x32466a,_0x151337){const _0x2e58cf=a0_0xe54586;this[_0x2e58cf(0x2da)][_0x2e58cf(0x1bb)](this['instanceName']+'\x20('+this[_0x2e58cf(0x75a)][_0x2e58cf(0x494)]+_0x2e58cf(0x1fa)+_0x151337);try{let _0x3b4504=await this['repository'][_0x2e58cf(0x556)][_0x2e58cf(0x1fd)]({'where':{'_id':_0x32466a['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x151337},this['instance'][_0x2e58cf(0x494)]);this[_0x2e58cf(0x2da)][_0x2e58cf(0x1bb)](this[_0x2e58cf(0x5bf)]+'\x20('+this[_0x2e58cf(0x75a)]['wuid']+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x32466a[_0x2e58cf(0x761)]),this[_0x2e58cf(0x2da)][_0x2e58cf(0x1bb)](this[_0x2e58cf(0x5bf)]+'\x20('+this[_0x2e58cf(0x75a)][_0x2e58cf(0x494)]+_0x2e58cf(0x1fa)+JSON[_0x2e58cf(0x548)](_0x3b4504,null,0x2)),_0x3b4504&&J(this[_0x2e58cf(0x5bf)],_0x2e58cf(0xc9),{'chat':_0x3b4504});}catch(_0x41727e){this['logger'][_0x2e58cf(0x418)](this['instanceName']+'\x20('+this[_0x2e58cf(0x75a)][_0x2e58cf(0x494)]+_0x2e58cf(0x50b)+(_0x41727e instanceof Error?_0x41727e['message']:JSON[_0x2e58cf(0x548)](_0x41727e,null,0x2)));}}async[a0_0xe54586(0x2aa)](_0x4b0b91){const _0x1feecf=a0_0xe54586;try{this[_0x1feecf(0x2da)][_0x1feecf(0x1bb)](this[_0x1feecf(0x5bf)]+'\x20('+this['instance'][_0x1feecf(0x494)]+'):\x20Buscando\x20flow...');let _0x129843=_0x4b0b91[_0x1feecf(0x6fd)](/\D/g,''),_0x5638cc=await this['repository']['flow'][_0x1feecf(0x68c)]({'where':{'testingWith':_0x129843}},this['instance'][_0x1feecf(0x494)]);return _0x5638cc||(this[_0x1feecf(0x2da)][_0x1feecf(0x1bb)](this['instanceName']+'\x20('+this['instance'][_0x1feecf(0x494)]+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x5638cc=await this['repository'][_0x1feecf(0x3f7)][_0x1feecf(0x68c)]({'where':{'default':!0x0}},this[_0x1feecf(0x75a)]['wuid'])),_0x5638cc||(this[_0x1feecf(0x2da)][_0x1feecf(0x1bb)](this[_0x1feecf(0x5bf)]+'\x20('+this[_0x1feecf(0x75a)][_0x1feecf(0x494)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null);}catch(_0x165ea4){return this[_0x1feecf(0x2da)][_0x1feecf(0x418)](this[_0x1feecf(0x5bf)]+'\x20('+this[_0x1feecf(0x75a)]['wuid']+_0x1feecf(0x2c8)+(_0x165ea4 instanceof Error?_0x165ea4[_0x1feecf(0x406)]:JSON[_0x1feecf(0x548)](_0x165ea4,null,0x2))),null;}}async[a0_0xe54586(0x733)](_0x319b12,_0x3926ea){const _0xbe3485=a0_0xe54586;try{let _0x4b071b=!!_0x3926ea[_0xbe3485(0x4b1)],_0x3b2045=_0x3926ea[_0xbe3485(0x764)],_0xf473fb=null;if(this[_0xbe3485(0x2da)][_0xbe3485(0x1bb)](this[_0xbe3485(0x5bf)]+'\x20('+this[_0xbe3485(0x75a)]['wuid']+_0xbe3485(0x424)+_0x4b071b+_0xbe3485(0x54b)+_0x3b2045),_0x4b071b){this['logger'][_0xbe3485(0x1bb)](this[_0xbe3485(0x5bf)]+'\x20('+this['instance']['wuid']+_0xbe3485(0x1a0));let _0x3972a2={'where':{'remoteJid':_0x319b12,'waitingMenu_id':_0x3b2045}};if(_0xf473fb=await this['repository'][_0xbe3485(0x6d3)]['findOne'](_0x3972a2,this[_0xbe3485(0x75a)][_0xbe3485(0x494)]),!_0xf473fb)return this[_0xbe3485(0x2da)][_0xbe3485(0x1bb)](this[_0xbe3485(0x5bf)]+'\x20('+this['instance']['wuid']+_0xbe3485(0x16f)),null;let _0x60edb=Date[_0xbe3485(0x755)](),_0x25943d=_0xf473fb?.['minutesToClose']||0x0,_0xcfa0c0=_0x60edb-_0x25943d*0x3c*0x3e8;if(_0xf473fb['lastInteraction']<_0xcfa0c0){this[_0xbe3485(0x2da)][_0xbe3485(0x1bb)](this[_0xbe3485(0x5bf)]+'\x20('+this['instance'][_0xbe3485(0x494)]+_0xbe3485(0x4d7));let _0x3ed317={'number':_0xf473fb[_0xbe3485(0x2f3)],'options':{'delay':0x0},'textMessage':{'text':_0xf473fb[_0xbe3485(0x61f)]}};await this[_0xbe3485(0x1e4)](_0x3ed317);let _0x191f95={'status':_0xbe3485(0x197),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository']['flowConversation'][_0xbe3485(0x1fd)](_0xf473fb[_0xbe3485(0x761)],_0x191f95,this['instance']['wuid']),null;}return _0xf473fb[_0xbe3485(0x549)]=Date[_0xbe3485(0x755)](),_0xf473fb[_0xbe3485(0x6e0)]['lastReceivedMessage']=_0x3926ea,_0xf473fb;}else{this[_0xbe3485(0x2da)][_0xbe3485(0x1bb)](this[_0xbe3485(0x5bf)]+'\x20('+this[_0xbe3485(0x75a)][_0xbe3485(0x494)]+_0xbe3485(0x601)+this[_0xbe3485(0x75a)]['wuid']+_0xbe3485(0x42d)),this[_0xbe3485(0x2da)][_0xbe3485(0x1bb)](this[_0xbe3485(0x5bf)]+'\x20('+this[_0xbe3485(0x75a)][_0xbe3485(0x494)]+'):\x20Procurando\x20conversa');let _0x51c909={'where':{'remoteJid':_0x319b12,'status':_0xbe3485(0x13d)}};if(_0xf473fb=await this[_0xbe3485(0x6af)]['flowConversation'][_0xbe3485(0x68c)](_0x51c909,this[_0xbe3485(0x75a)]['wuid']),!_0xf473fb){let _0x420607=await this[_0xbe3485(0x2aa)](_0x319b12);if(_0x420607&&(_0xf473fb=await this['createNewConversation'](_0x420607,_0x3926ea[_0xbe3485(0x57b)],_0x3926ea)),!_0xf473fb)return null;}let _0x537947=Date['now'](),_0x3ce260=_0xf473fb?.['minutesToClose']||0x0,_0x53776d=_0x537947-_0x3ce260*0x3c*0x3e8;if(this[_0xbe3485(0x2da)]['verbose'](this[_0xbe3485(0x5bf)]+'\x20('+this[_0xbe3485(0x75a)][_0xbe3485(0x494)]+_0xbe3485(0x4bb)+_0x537947+',\x20Minutes\x20to\x20Close:\x20'+_0x3ce260+_0xbe3485(0x60f)+_0x53776d),this[_0xbe3485(0x2da)][_0xbe3485(0x1bb)](this['instanceName']+'\x20('+this['instance'][_0xbe3485(0x494)]+_0xbe3485(0x527)),this[_0xbe3485(0x2da)][_0xbe3485(0x1bb)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xbe3485(0x1f0)+_0xf473fb['lastInteraction']),this[_0xbe3485(0x2da)][_0xbe3485(0x1bb)](this[_0xbe3485(0x5bf)]+'\x20('+this['instance'][_0xbe3485(0x494)]+'):\x20expirationTime:\x20'+_0x53776d),_0xf473fb[_0xbe3485(0x549)]<_0x53776d){this[_0xbe3485(0x2da)][_0xbe3485(0x1bb)](this[_0xbe3485(0x5bf)]+'\x20('+this[_0xbe3485(0x75a)][_0xbe3485(0x494)]+_0xbe3485(0x520));let _0x38de0d=await this['findFlow'](_0x319b12);if(_0x38de0d===null)return null;_0xf473fb&&await this[_0xbe3485(0x6af)][_0xbe3485(0x6d3)][_0xbe3485(0x1fd)](_0xf473fb[_0xbe3485(0x761)],{'status':_0xbe3485(0x197)},this['instance'][_0xbe3485(0x494)]),_0xf473fb=await this[_0xbe3485(0x13c)](_0x38de0d,_0x3926ea[_0xbe3485(0x57b)],_0x3926ea);}return _0xf473fb[_0xbe3485(0x549)]=_0x537947,_0xf473fb[_0xbe3485(0x6e0)][_0xbe3485(0x523)]=_0x3926ea,_0xf473fb;}}catch(_0x33887d){return this['logger'][_0xbe3485(0x418)](this[_0xbe3485(0x5bf)]+'\x20('+this[_0xbe3485(0x75a)][_0xbe3485(0x494)]+_0xbe3485(0x5cf)+(_0x33887d instanceof Error?_0x33887d[_0xbe3485(0x406)]:JSON[_0xbe3485(0x548)](_0x33887d,null,0x2))),null;}}async[a0_0xe54586(0x13c)](_0x47d3c7,_0x4ea6e6,_0x3d9c9d){const _0x5d69c5=a0_0xe54586;this['logger'][_0x5d69c5(0x1bb)](this[_0x5d69c5(0x5bf)]+'\x20('+this[_0x5d69c5(0x75a)][_0x5d69c5(0x494)]+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x3e4625=require('mongodb')[_0x5d69c5(0x36b)],_0x5e796b=Date[_0x5d69c5(0x755)](),_0x349d3a=_0x5d69c5(0x385),_0x5e1897=_0x4ea6e6[_0x5d69c5(0x593)]?null:_0x3d9c9d,_0x39e1a8=_0x4ea6e6[_0x5d69c5(0x593)]?_0x3d9c9d:null,_0xb6167b=_0x4ea6e6[_0x5d69c5(0x2f3)];await this['closeExistingConversations'](_0xb6167b);let _0x343841={..._0x47d3c7,'chatLog':null},_0x3903be=await this['variablesToObject'](_0x343841[_0x5d69c5(0x7a1)]),_0x61b686=await this['getVariablesChat'](_0xb6167b),_0x21d1d2={..._0x3903be,..._0x61b686,'_remoteJid':_0xb6167b},_0x446443={'lastReceivedMessage':_0x5e1897,'lastSendMessage':_0x39e1a8,'lastBlockId':_0x349d3a,'lastCondition':!0x0,'realVariables':_0x21d1d2};_0x343841[_0x5d69c5(0x6e0)]=_0x446443,delete _0x343841[_0x5d69c5(0x761)],_0x343841[_0x5d69c5(0x761)]=new _0x3e4625(),_0x343841[_0x5d69c5(0x549)]=_0x5e796b,_0x343841[_0x5d69c5(0x201)]=_0x5d69c5(0x13d),_0x343841['remoteJid']=_0xb6167b;let _0x21512a=await this[_0x5d69c5(0x6af)][_0x5d69c5(0x6d3)][_0x5d69c5(0x1fd)](_0x343841[_0x5d69c5(0x761)],_0x343841,this[_0x5d69c5(0x75a)][_0x5d69c5(0x494)]);return this[_0x5d69c5(0x2da)][_0x5d69c5(0x1bb)](this[_0x5d69c5(0x5bf)]+'\x20('+this[_0x5d69c5(0x75a)][_0x5d69c5(0x494)]+_0x5d69c5(0x41d)),_0x21512a?_0x343841:null;}catch(_0x23d518){return this[_0x5d69c5(0x2da)][_0x5d69c5(0x418)](this[_0x5d69c5(0x5bf)]+'\x20('+this[_0x5d69c5(0x75a)]['wuid']+_0x5d69c5(0x308)+(_0x23d518 instanceof Error?_0x23d518[_0x5d69c5(0x406)]:JSON['stringify'](_0x23d518,null,0x2))),_0x23d518;}}async[a0_0xe54586(0x148)](_0x137d5a,_0x2297e1){const _0x53a9e4=a0_0xe54586;let _0x528d3c=_0x137d5a[_0x53a9e4(0x2f3)];_0x2297e1[_0x53a9e4(0x433)][_0x53a9e4(0x2f3)]&&_0x2297e1[_0x53a9e4(0x433)]['remoteJid'][_0x53a9e4(0x6a0)]()!==''&&(_0x528d3c=_0x2297e1[_0x53a9e4(0x433)]['remoteJid'][_0x53a9e4(0x6a0)]()),this['logger']['verbose'](this[_0x53a9e4(0x5bf)]+'\x20('+this[_0x53a9e4(0x75a)][_0x53a9e4(0x494)]+_0x53a9e4(0x6b1));let _0x32ab39={'number':_0x528d3c,'options':{'delay':_0x2297e1[_0x53a9e4(0x433)]['delay'],'linkPreview':_0x2297e1[_0x53a9e4(0x433)][_0x53a9e4(0x1e7)]},'textMessage':{'text':_0x2297e1['uazapi'][_0x53a9e4(0x37c)]}};try{let _0x1674bf=await this[_0x53a9e4(0x1e4)](_0x32ab39);if(_0x1674bf){let _0x49a4a2={'_id':_0x1674bf[_0x53a9e4(0x57b)]['id'],'_fromMe':_0x1674bf['key'][_0x53a9e4(0x593)],'_remoteJid':_0x1674bf['key'][_0x53a9e4(0x2f3)]},_0x4f4891=(0x0,w['normalizeMessageContent'])(_0x1674bf[_0x53a9e4(0x406)]),_0x2b13ba=(0x0,w[_0x53a9e4(0x4b4)])(_0x4f4891);_0x137d5a[_0x53a9e4(0x6e0)]['lastBlockId']=_0x2297e1[_0x53a9e4(0x761)][_0x53a9e4(0x27f)]();let {message_normalized:_0x5a0cc3}=this[_0x53a9e4(0x5d9)](_0x4f4891,_0x2b13ba,null);_0x137d5a[_0x53a9e4(0x6e0)][_0x53a9e4(0x2a4)]=await _0x5a0cc3;let _0x51d05c={'messageId':_0x1674bf['key']['id']},_0x4b908f=_0x137d5a[_0x53a9e4(0x6e0)][_0x53a9e4(0x734)];Object['assign'](_0x4b908f,_0x49a4a2),_0x137d5a[_0x53a9e4(0x6e0)][_0x53a9e4(0x734)]=_0x4b908f,this['updateConversation'](_0x137d5a,_0x2297e1,_0x51d05c);}else{let _0x205fc3={'error':!0x0};this['updateConversation'](_0x137d5a,_0x2297e1,_0x205fc3),this[_0x53a9e4(0x2da)][_0x53a9e4(0x418)](this['instanceName']+'\x20('+this[_0x53a9e4(0x75a)][_0x53a9e4(0x494)]+_0x53a9e4(0x62c));}}catch(_0x377ec8){let _0x2c46ef={'error':!0x0,'errorLog':_0x377ec8['toString']()};this[_0x53a9e4(0x3b5)](_0x137d5a,_0x2297e1,_0x2c46ef),this['logger'][_0x53a9e4(0x418)](this[_0x53a9e4(0x5bf)]+'\x20('+this[_0x53a9e4(0x75a)]['wuid']+_0x53a9e4(0x137)+(_0x377ec8 instanceof Error?_0x377ec8[_0x53a9e4(0x406)]:JSON[_0x53a9e4(0x548)](_0x377ec8,null,0x2)));}}async[a0_0xe54586(0x3f2)](_0x13f78b,_0x5f4803){const _0x14696a=a0_0xe54586;let _0x3bbf2f=_0x13f78b[_0x14696a(0x2f3)];_0x5f4803[_0x14696a(0x433)][_0x14696a(0x2f3)]&&_0x5f4803[_0x14696a(0x433)][_0x14696a(0x2f3)][_0x14696a(0x6a0)]()!==''&&(_0x3bbf2f=_0x5f4803[_0x14696a(0x433)][_0x14696a(0x2f3)][_0x14696a(0x6a0)]()),this[_0x14696a(0x2da)]['verbose'](this[_0x14696a(0x5bf)]+'\x20('+this[_0x14696a(0x75a)][_0x14696a(0x494)]+_0x14696a(0x648));let _0x18a40d={'number':_0x3bbf2f,'options':{'delay':_0x5f4803[_0x14696a(0x433)][_0x14696a(0x267)],'linkPreview':_0x5f4803['uazapi'][_0x14696a(0x1e7)]},'mediaMessage':{'mediatype':_0x5f4803[_0x14696a(0x433)][_0x14696a(0x476)],'caption':_0x5f4803['uazapi']['caption'],'media':_0x5f4803[_0x14696a(0x433)]['media'],'fileName':_0x5f4803[_0x14696a(0x433)][_0x14696a(0x673)]}};try{let _0x51eafd=await this['mediaMessage'](_0x18a40d);if(_0x51eafd){let _0x113eff={'_id':_0x51eafd['key']['id'],'_fromMe':_0x51eafd[_0x14696a(0x57b)][_0x14696a(0x593)],'_remoteJid':_0x51eafd[_0x14696a(0x57b)][_0x14696a(0x2f3)]},_0x1a7297=(0x0,w[_0x14696a(0x1ee)])(_0x51eafd[_0x14696a(0x406)]),_0x5b3932=(0x0,w[_0x14696a(0x4b4)])(_0x1a7297);_0x13f78b[_0x14696a(0x6e0)][_0x14696a(0x4ee)]=_0x5f4803['_id']['toString']();let {message_normalized:_0x523460}=this[_0x14696a(0x5d9)](_0x1a7297,_0x5b3932,null);_0x13f78b[_0x14696a(0x6e0)][_0x14696a(0x2a4)]=await _0x523460;let _0x589849={'messageId':_0x51eafd['key']['id']},_0x18d077=_0x13f78b['chatLog']['realVariables'];Object['assign'](_0x18d077,_0x113eff),_0x13f78b[_0x14696a(0x6e0)][_0x14696a(0x734)]=_0x18d077,this[_0x14696a(0x3b5)](_0x13f78b,_0x5f4803,_0x589849);}else{let _0x536828={'error':!0x0};this[_0x14696a(0x3b5)](_0x13f78b,_0x5f4803,_0x536828),this[_0x14696a(0x2da)][_0x14696a(0x418)](this[_0x14696a(0x5bf)]+'\x20('+this[_0x14696a(0x75a)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x43e5f9){let _0x599107={'error':!0x0,'errorLog':_0x43e5f9[_0x14696a(0x27f)]()};this[_0x14696a(0x3b5)](_0x13f78b,_0x5f4803,_0x599107),this['logger'][_0x14696a(0x418)](this[_0x14696a(0x5bf)]+'\x20('+this[_0x14696a(0x75a)][_0x14696a(0x494)]+_0x14696a(0x470)+(_0x43e5f9 instanceof Error?_0x43e5f9[_0x14696a(0x406)]:JSON[_0x14696a(0x548)](_0x43e5f9,null,0x2)));}}async[a0_0xe54586(0x4f1)](_0x3ba02b,_0x3594f7){const _0x46b3ab=a0_0xe54586;let _0xdb4271=_0x3ba02b[_0x46b3ab(0x2f3)];_0x3594f7[_0x46b3ab(0x433)][_0x46b3ab(0x2f3)]&&_0x3594f7[_0x46b3ab(0x433)][_0x46b3ab(0x2f3)][_0x46b3ab(0x6a0)]()!==''&&(_0xdb4271=_0x3594f7[_0x46b3ab(0x433)][_0x46b3ab(0x2f3)][_0x46b3ab(0x6a0)]()),this[_0x46b3ab(0x2da)][_0x46b3ab(0x1bb)](this[_0x46b3ab(0x5bf)]+'\x20('+this[_0x46b3ab(0x75a)][_0x46b3ab(0x494)]+_0x46b3ab(0x88));let _0x4c7eba={'number':_0xdb4271,'options':{'delay':_0x3594f7[_0x46b3ab(0x433)][_0x46b3ab(0x267)]},'locationMessage':{'name':_0x3594f7[_0x46b3ab(0x433)][_0x46b3ab(0x3dc)],'address':_0x3594f7['uazapi'][_0x46b3ab(0x75f)],'latitude':_0x3594f7[_0x46b3ab(0x433)][_0x46b3ab(0xab)],'longitude':_0x3594f7[_0x46b3ab(0x433)][_0x46b3ab(0x2c1)]}};try{let _0xdd486d=await this['locationMessage'](_0x4c7eba);if(_0xdd486d){let _0x302d4e={'_id':_0xdd486d[_0x46b3ab(0x57b)]['id'],'_fromMe':_0xdd486d['key'][_0x46b3ab(0x593)],'_remoteJid':_0xdd486d[_0x46b3ab(0x57b)][_0x46b3ab(0x2f3)]},_0x1e1009=(0x0,w[_0x46b3ab(0x1ee)])(_0xdd486d['message']),_0x19312d=(0x0,w[_0x46b3ab(0x4b4)])(_0x1e1009);_0x3ba02b[_0x46b3ab(0x6e0)][_0x46b3ab(0x4ee)]=_0x3594f7[_0x46b3ab(0x761)][_0x46b3ab(0x27f)]();let {message_normalized:_0x2e26a1}=this[_0x46b3ab(0x5d9)](_0x1e1009,_0x19312d,null);_0x3ba02b['chatLog']['lastSendMessage']=await _0x2e26a1;let _0x2d1554={'messageId':_0xdd486d[_0x46b3ab(0x57b)]['id']},_0x153cbb=_0x3ba02b[_0x46b3ab(0x6e0)][_0x46b3ab(0x734)];Object['assign'](_0x153cbb,_0x302d4e),_0x3ba02b[_0x46b3ab(0x6e0)][_0x46b3ab(0x734)]=_0x153cbb,this[_0x46b3ab(0x3b5)](_0x3ba02b,_0x3594f7,_0x2d1554);}else{let _0x305c6c={'error':!0x0};this[_0x46b3ab(0x3b5)](_0x3ba02b,_0x3594f7,_0x305c6c),this[_0x46b3ab(0x2da)]['error'](this[_0x46b3ab(0x5bf)]+'\x20('+this[_0x46b3ab(0x75a)][_0x46b3ab(0x494)]+_0x46b3ab(0x705));}}catch(_0x1b1088){let _0x5c8f34={'error':!0x0,'errorLog':_0x1b1088['toString']()};this['updateConversation'](_0x3ba02b,_0x3594f7,_0x5c8f34),this[_0x46b3ab(0x2da)][_0x46b3ab(0x418)](this[_0x46b3ab(0x5bf)]+'\x20('+this[_0x46b3ab(0x75a)][_0x46b3ab(0x494)]+_0x46b3ab(0x484)+(_0x1b1088 instanceof Error?_0x1b1088[_0x46b3ab(0x406)]:JSON[_0x46b3ab(0x548)](_0x1b1088,null,0x2)));}}async[a0_0xe54586(0x6a9)](_0x1b4c8d,_0x4bcc8e){const _0x1371b2=a0_0xe54586;let _0x242452=_0x1b4c8d[_0x1371b2(0x2f3)];_0x4bcc8e['uazapi'][_0x1371b2(0x2f3)]&&_0x4bcc8e[_0x1371b2(0x433)][_0x1371b2(0x2f3)][_0x1371b2(0x6a0)]()!==''&&(_0x242452=_0x4bcc8e['uazapi']['remoteJid'][_0x1371b2(0x6a0)]()),this[_0x1371b2(0x2da)][_0x1371b2(0x1bb)](this[_0x1371b2(0x5bf)]+'\x20('+this[_0x1371b2(0x75a)][_0x1371b2(0x494)]+_0x1371b2(0x1dc));let _0x233cd7={'number':_0x242452,'options':{'delay':_0x4bcc8e[_0x1371b2(0x433)][_0x1371b2(0x267)]},'audioMessage':{'audio':_0x4bcc8e[_0x1371b2(0x433)][_0x1371b2(0x642)]}};try{let _0x277b9=await this[_0x1371b2(0x2f5)](_0x233cd7);if(_0x277b9){let _0x3f6e71={'_id':_0x277b9[_0x1371b2(0x57b)]['id'],'_fromMe':_0x277b9[_0x1371b2(0x57b)][_0x1371b2(0x593)],'_remoteJid':_0x277b9[_0x1371b2(0x57b)][_0x1371b2(0x2f3)]},_0x3572a9=(0x0,w[_0x1371b2(0x1ee)])(_0x277b9[_0x1371b2(0x406)]),_0x519235=(0x0,w[_0x1371b2(0x4b4)])(_0x3572a9);_0x1b4c8d['chatLog'][_0x1371b2(0x4ee)]=_0x4bcc8e[_0x1371b2(0x761)][_0x1371b2(0x27f)]();let {message_normalized:_0x207d0b}=this['normalizeMessage'](_0x3572a9,_0x519235,null);_0x1b4c8d[_0x1371b2(0x6e0)][_0x1371b2(0x2a4)]=await _0x207d0b;let _0x545053={'messageId':_0x277b9[_0x1371b2(0x57b)]['id']},_0x4e6aad=_0x1b4c8d['chatLog'][_0x1371b2(0x734)];Object[_0x1371b2(0x75d)](_0x4e6aad,_0x3f6e71),_0x1b4c8d['chatLog'][_0x1371b2(0x734)]=_0x4e6aad,this[_0x1371b2(0x3b5)](_0x1b4c8d,_0x4bcc8e,_0x545053);}else{let _0x1a1957={'error':!0x0};this['updateConversation'](_0x1b4c8d,_0x4bcc8e,_0x1a1957),this['logger'][_0x1371b2(0x418)](this[_0x1371b2(0x5bf)]+'\x20('+this[_0x1371b2(0x75a)][_0x1371b2(0x494)]+_0x1371b2(0x327));}}catch(_0xbaf995){let _0x37566c={'error':!0x0,'errorLog':_0xbaf995[_0x1371b2(0x27f)]()};this[_0x1371b2(0x3b5)](_0x1b4c8d,_0x4bcc8e,_0x37566c),this[_0x1371b2(0x2da)]['error'](this['instanceName']+'\x20('+this[_0x1371b2(0x75a)][_0x1371b2(0x494)]+_0x1371b2(0x383)+(_0xbaf995 instanceof Error?_0xbaf995[_0x1371b2(0x406)]:JSON['stringify'](_0xbaf995,null,0x2)));}}async[a0_0xe54586(0x630)](_0x5b4fe6,_0x2f8e6f){const _0x8bd475=a0_0xe54586;let _0x4f69d5=_0x5b4fe6[_0x8bd475(0x2f3)];_0x2f8e6f[_0x8bd475(0x433)][_0x8bd475(0x2f3)]&&_0x2f8e6f[_0x8bd475(0x433)][_0x8bd475(0x2f3)][_0x8bd475(0x6a0)]()!==''&&(_0x4f69d5=_0x2f8e6f['uazapi']['remoteJid'][_0x8bd475(0x6a0)]()),this[_0x8bd475(0x2da)][_0x8bd475(0x1bb)](this['instanceName']+'\x20('+this[_0x8bd475(0x75a)][_0x8bd475(0x494)]+_0x8bd475(0x11d));let _0x3b61d8={'number':_0x4f69d5,'options':{'delay':_0x2f8e6f[_0x8bd475(0x433)][_0x8bd475(0x267)]},'contactMessage':[{'fullName':_0x2f8e6f['uazapi'][_0x8bd475(0x469)],'phoneNumber':_0x2f8e6f[_0x8bd475(0x433)][_0x8bd475(0x3c7)]}]};try{let _0x15eec1=await this[_0x8bd475(0x279)](_0x3b61d8);if(_0x15eec1){let _0x20f50e={'_id':_0x15eec1[_0x8bd475(0x57b)]['id'],'_fromMe':_0x15eec1['key']['fromMe'],'_remoteJid':_0x15eec1[_0x8bd475(0x57b)][_0x8bd475(0x2f3)]},_0x2453c9=(0x0,w[_0x8bd475(0x1ee)])(_0x15eec1['message']),_0x307bd9=(0x0,w[_0x8bd475(0x4b4)])(_0x2453c9);_0x5b4fe6['chatLog'][_0x8bd475(0x4ee)]=_0x2f8e6f['_id'][_0x8bd475(0x27f)]();let {message_normalized:_0xd21ccf}=this['normalizeMessage'](_0x2453c9,_0x307bd9,null);_0x5b4fe6[_0x8bd475(0x6e0)][_0x8bd475(0x2a4)]=await _0xd21ccf;let _0x131c4c={'messageId':_0x15eec1['key']['id']},_0x596b35=_0x5b4fe6[_0x8bd475(0x6e0)][_0x8bd475(0x734)];Object['assign'](_0x596b35,_0x20f50e),_0x5b4fe6[_0x8bd475(0x6e0)][_0x8bd475(0x734)]=_0x596b35,this[_0x8bd475(0x3b5)](_0x5b4fe6,_0x2f8e6f,_0x131c4c);}else{let _0x98f8bc={'error':!0x0};this[_0x8bd475(0x3b5)](_0x5b4fe6,_0x2f8e6f,_0x98f8bc),this[_0x8bd475(0x2da)][_0x8bd475(0x418)](this[_0x8bd475(0x5bf)]+'\x20('+this[_0x8bd475(0x75a)][_0x8bd475(0x494)]+_0x8bd475(0x497));}}catch(_0x48a6c7){let _0x352369={'error':!0x0,'errorLog':_0x48a6c7['toString']()};this[_0x8bd475(0x3b5)](_0x5b4fe6,_0x2f8e6f,_0x352369),this[_0x8bd475(0x2da)][_0x8bd475(0x418)](this['instanceName']+'\x20('+this[_0x8bd475(0x75a)][_0x8bd475(0x494)]+_0x8bd475(0x46b)+(_0x48a6c7 instanceof Error?_0x48a6c7['message']:JSON[_0x8bd475(0x548)](_0x48a6c7,null,0x2)));}}[a0_0xe54586(0x1ab)](_0x2eadf5,_0x963511){const _0x345831=a0_0xe54586;for(let _0x4a2fdd of _0x2eadf5)_0x4a2fdd[_0x345831(0x595)]&&(_0x4a2fdd['option']=this['replaceVariables'](_0x4a2fdd['option'],_0x963511)),_0x4a2fdd[_0x345831(0x521)]&&(_0x4a2fdd[_0x345831(0x521)]=this[_0x345831(0x551)](_0x4a2fdd[_0x345831(0x521)],_0x963511));}async[a0_0xe54586(0x71d)](_0x301a57,_0x3fae13){const _0x518a51=a0_0xe54586;let _0x52f0f5=_0x301a57['remoteJid'];_0x3fae13[_0x518a51(0x433)]['remoteJid']&&_0x3fae13[_0x518a51(0x433)][_0x518a51(0x2f3)]['trim']()!==''&&(_0x52f0f5=_0x3fae13[_0x518a51(0x433)][_0x518a51(0x2f3)][_0x518a51(0x6a0)]()),this[_0x518a51(0x2da)]['verbose'](this[_0x518a51(0x5bf)]+'\x20('+this['instance'][_0x518a51(0x494)]+_0x518a51(0xd3));let _0x4d59d7=_0x301a57[_0x518a51(0x136)][_0x518a51(0x5b0)](_0x5aa393=>_0x5aa393['blockId']===_0x3fae13[_0x518a51(0x761)])[_0x518a51(0x489)]((_0x2303bc,_0x4722de)=>_0x2303bc[_0x518a51(0x1bf)]-_0x4722de[_0x518a51(0x1bf)]);this[_0x518a51(0x1ab)](_0x4d59d7,_0x301a57[_0x518a51(0x6e0)][_0x518a51(0x734)]);let _0x3f94d9=_0x4d59d7[_0x518a51(0x588)](_0x361f34=>_0x361f34['option']),_0x4b1e6e={'number':_0x52f0f5,'menuMessage':{'type':_0x3fae13['uazapi'][_0x518a51(0x532)]||_0x518a51(0x5aa),'text':_0x3fae13[_0x518a51(0x433)][_0x518a51(0x37c)]||_0x3fae13[_0x518a51(0x433)][_0x518a51(0x3dc)],'footerText':_0x3fae13['uazapi'][_0x518a51(0x5f4)],'buttonText':_0x3fae13[_0x518a51(0x433)]['buttonText'],'selectableCount':0x1,'choices':_0x3f94d9},'options':{'delay':_0x3fae13['uazapi']['delay']}};try{let _0x1d1f58=await this[_0x518a51(0x165)](_0x4b1e6e);if(_0x1d1f58){let _0x33c5d8={'_id':_0x1d1f58[_0x518a51(0x57b)]['id'],'_fromMe':_0x1d1f58['key'][_0x518a51(0x593)],'_remoteJid':_0x1d1f58['key'][_0x518a51(0x2f3)]};_0x3fae13[_0x518a51(0x433)][_0x518a51(0x5b5)]===!0x0&&(_0x301a57[_0x518a51(0x201)]=_0x518a51(0x223),this['logger'][_0x518a51(0x1bb)](this[_0x518a51(0x5bf)]+'\x20('+this['instance'][_0x518a51(0x494)]+_0x518a51(0x5e9)+_0x301a57[_0x518a51(0x201)])),this[_0x518a51(0x2da)][_0x518a51(0x1bb)](this[_0x518a51(0x5bf)]+'\x20('+this[_0x518a51(0x75a)][_0x518a51(0x494)]+'):\x20nextBlock.uazapi.name'+(_0x3fae13[_0x518a51(0x433)][_0x518a51(0x3dc)]||_0x3fae13[_0x518a51(0x433)][_0x518a51(0x37c)])),_0x301a57[_0x518a51(0x2de)]=_0x1d1f58[_0x518a51(0x57b)]['id'],_0x301a57['waitingMenu_text']=_0x3fae13[_0x518a51(0x433)][_0x518a51(0x3dc)]||_0x3fae13[_0x518a51(0x433)][_0x518a51(0x37c)],_0x301a57[_0x518a51(0x4d5)]=_0x4d59d7,_0x3fae13[_0x518a51(0x433)]['menuExpiredMessage']&&(_0x301a57[_0x518a51(0x61f)]=_0x3fae13[_0x518a51(0x433)][_0x518a51(0x3d1)]),this[_0x518a51(0x2da)][_0x518a51(0x1bb)](this[_0x518a51(0x5bf)]+'\x20('+this['instance']['wuid']+'):\x20conversation.waitingMenu_name'+_0x301a57[_0x518a51(0x3a9)]);let _0x52111a=(0x0,w[_0x518a51(0x1ee)])(_0x1d1f58[_0x518a51(0x406)]),_0x10cc74=(0x0,w[_0x518a51(0x4b4)])(_0x52111a);_0x301a57[_0x518a51(0x6e0)]['lastBlockId']=_0x3fae13[_0x518a51(0x761)][_0x518a51(0x27f)]();let {message_normalized:_0x4fb6ae}=this[_0x518a51(0x5d9)](_0x52111a,_0x10cc74,null);_0x301a57[_0x518a51(0x6e0)][_0x518a51(0x2a4)]=await _0x4fb6ae;let _0x47e931={'messageId':_0x1d1f58[_0x518a51(0x57b)]['id']},_0x232208=_0x301a57[_0x518a51(0x6e0)][_0x518a51(0x734)];Object[_0x518a51(0x75d)](_0x232208,_0x33c5d8),_0x301a57[_0x518a51(0x6e0)][_0x518a51(0x734)]=_0x232208,this[_0x518a51(0x3b5)](_0x301a57,_0x3fae13,_0x47e931);}else{let _0xd3ec0={'error':!0x0};this[_0x518a51(0x3b5)](_0x301a57,_0x3fae13,_0xd3ec0),this['logger']['error'](this[_0x518a51(0x5bf)]+'\x20('+this[_0x518a51(0x75a)]['wuid']+_0x518a51(0x177));}}catch(_0x5adde4){let _0x2c99fb={'error':!0x0,'errorLog':_0x5adde4 instanceof Error?_0x5adde4['message']:JSON[_0x518a51(0x548)](_0x5adde4,null,0x2)};this[_0x518a51(0x3b5)](_0x301a57,_0x3fae13,_0x2c99fb),this[_0x518a51(0x2da)][_0x518a51(0x418)](this[_0x518a51(0x5bf)]+'\x20('+this[_0x518a51(0x75a)][_0x518a51(0x494)]+_0x518a51(0x2e6)+(_0x5adde4 instanceof Error?_0x5adde4[_0x518a51(0x406)]:JSON[_0x518a51(0x548)](_0x5adde4,null,0x2)));}}async[a0_0xe54586(0x111)](_0xe104ae,_0x3e4725){const _0x2c8431=a0_0xe54586;this[_0x2c8431(0x2da)][_0x2c8431(0x1bb)](this[_0x2c8431(0x5bf)]+'\x20('+this[_0x2c8431(0x75a)]['wuid']+_0x2c8431(0xe7));let _0x24849b=_0xe104ae[_0x2c8431(0x6e0)][_0x2c8431(0x528)][_0x2c8431(0x43d)](_0x31400f=>_0x31400f['blockId'][_0x2c8431(0x27f)]()===_0x3e4725['uazapi']['blockId']['toString']()),_0x9da8da={'id':_0x24849b[_0x2c8431(0x5cd)],'remoteJid':_0x24849b[_0x2c8431(0x2f3)],'fromMe':_0x24849b[_0x2c8431(0x593)]};try{let _0x4061a6=await this[_0x2c8431(0x6f9)](_0x9da8da);if(_0x4061a6){let _0x32d40b=(0x0,w[_0x2c8431(0x1ee)])(_0x4061a6['message']),_0x5abe62=(0x0,w['getContentType'])(_0x32d40b);_0xe104ae[_0x2c8431(0x6e0)][_0x2c8431(0x4ee)]=_0x3e4725['_id'][_0x2c8431(0x27f)]();let {message_normalized:_0x420200}=this[_0x2c8431(0x5d9)](_0x32d40b,_0x5abe62,null);_0xe104ae[_0x2c8431(0x6e0)][_0x2c8431(0x2a4)]=await _0x420200;let _0x517cb5={};this[_0x2c8431(0x3b5)](_0xe104ae,_0x3e4725,_0x517cb5);}else{let _0x183f0d={'error':!0x0};this[_0x2c8431(0x3b5)](_0xe104ae,_0x3e4725,_0x183f0d),this[_0x2c8431(0x2da)][_0x2c8431(0x418)](this['instanceName']+'\x20('+this['instance'][_0x2c8431(0x494)]+_0x2c8431(0x23b));}}catch(_0x1a5dff){let _0x8c48b3={'error':!0x0,'errorLog':_0x1a5dff instanceof Error?_0x1a5dff['message']:JSON[_0x2c8431(0x548)](_0x1a5dff,null,0x2)};this[_0x2c8431(0x3b5)](_0xe104ae,_0x3e4725,_0x8c48b3),this[_0x2c8431(0x2da)][_0x2c8431(0x418)](this['instanceName']+'\x20('+this[_0x2c8431(0x75a)]['wuid']+_0x2c8431(0x256)+(_0x1a5dff instanceof Error?_0x1a5dff['message']:JSON[_0x2c8431(0x548)](_0x1a5dff,null,0x2)));}}async[a0_0xe54586(0x37a)](_0x5c6883,_0xbfa005){const _0x37fff5=a0_0xe54586;if(!_0x5c6883['name'])throw new m(_0x37fff5(0x709));let _0xddca47=_0x5c6883?.['global']?.[_0x37fff5(0x6a0)]()==='true'?_0x37fff5(0x2bc):this[_0x37fff5(0x75a)][_0x37fff5(0x494)],_0x5ab5bd=await this['repository']['flow'][_0x37fff5(0x68c)]({'where':{'name':_0x5c6883['name']}},_0xddca47);if(_0xbfa005!==ee&&_0x5c6883?.[_0x37fff5(0x2bc)]===_0x37fff5(0x3e1))throw new m(_0x37fff5(0x581));if(_0x5c6883?.['global']!=='true'&&(_0x5c6883['global']=_0x37fff5(0x466)),_0x5ab5bd)throw new m('Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome');return _0x37fff5(0x3dc)in _0x5c6883&&_0x37fff5(0xfc)in _0x5c6883&&_0x37fff5(0x759)in _0x5c6883?this[_0x37fff5(0x703)](_0x5c6883['owner'],_0x5c6883['sharePass'],_0x5c6883[_0x37fff5(0x3dc)]):this[_0x37fff5(0x434)](_0x5c6883);}async[a0_0xe54586(0x703)](_0x5ac1c8,_0x49349e,_0x178fd0){const _0x416eb3=a0_0xe54586;try{this[_0x416eb3(0x2da)][_0x416eb3(0x1bb)](this[_0x416eb3(0x5bf)]+'\x20('+this[_0x416eb3(0x75a)][_0x416eb3(0x494)]+_0x416eb3(0x664));let _0x514480=await this[_0x416eb3(0x6af)][_0x416eb3(0x3f7)][_0x416eb3(0x68c)]({'where':{'sharePass':_0x49349e}},_0x5ac1c8);if(!_0x514480)throw new m(_0x416eb3(0x79f));let _0x2fda95={..._0x514480},_0x4e9710=_0x514480[_0x416eb3(0x2bc)]==='true'?_0x416eb3(0x2bc):_0x514480[_0x416eb3(0x759)];return(_0x5ac1c8===_0x416eb3(0x2bc)||_0x514480[_0x416eb3(0x2bc)]===_0x416eb3(0x3e1))&&(_0x2fda95[_0x416eb3(0x2bc)]=_0x416eb3(0x39d),_0x2fda95[_0x416eb3(0x759)]=_0x416eb3(0x2bc)),_0x2fda95[_0x416eb3(0x500)]=Array[_0x416eb3(0x40f)](new Set([..._0x514480[_0x416eb3(0x500)]||[],_0x4e9710,this['instance'][_0x416eb3(0x494)]])),_0x514480['shareOwners']=_0x2fda95[_0x416eb3(0x500)],await this[_0x416eb3(0x6af)][_0x416eb3(0x3f7)][_0x416eb3(0x1fd)](_0x514480[_0x416eb3(0x761)],{'shareOwners':_0x514480[_0x416eb3(0x500)]},_0x4e9710),_0x514480[_0x416eb3(0x2f8)]===!0x0&&await this[_0x416eb3(0x6af)][_0x416eb3(0x3f7)][_0x416eb3(0x3f5)]({},{'default':!0x1},this[_0x416eb3(0x75a)][_0x416eb3(0x494)]),_0x2fda95[_0x416eb3(0x759)]=this[_0x416eb3(0x75a)][_0x416eb3(0x494)],await this[_0x416eb3(0x6af)][_0x416eb3(0x3f7)]['createAndSave'](_0x2fda95,this[_0x416eb3(0x75a)]['wuid']);}catch(_0x4feb96){let _0x5e648c=_0x416eb3(0x41c),_0x267973=_0x4feb96 instanceof Error?_0x4feb96[_0x416eb3(0x406)]:typeof _0x4feb96==_0x416eb3(0x6c9)?JSON[_0x416eb3(0x548)](_0x4feb96):_0x4feb96,_0x57c3db=_0x5e648c+':\x20'+_0x267973;throw this[_0x416eb3(0x2da)][_0x416eb3(0x418)](this[_0x416eb3(0x5bf)]+'\x20('+this[_0x416eb3(0x75a)][_0x416eb3(0x494)]+_0x416eb3(0x601)+_0x57c3db),new m(_0x57c3db);}}async[a0_0xe54586(0x434)](_0x2b7717){const _0x390872=a0_0xe54586;try{this[_0x390872(0x2da)][_0x390872(0x1bb)](this[_0x390872(0x5bf)]+'\x20('+this['instance']['wuid']+_0x390872(0x3c1));let _0x49f71c=_0x2b7717?.['global']==='true'?_0x390872(0x2bc):this[_0x390872(0x75a)][_0x390872(0x494)];delete _0x2b7717['shareOwners'],delete _0x2b7717[_0x390872(0xfc)],delete _0x2b7717[_0x390872(0x759)],_0x2b7717[_0x390872(0x2f8)]===!0x0&&await this[_0x390872(0x6af)][_0x390872(0x3f7)]['updateMany']({},{'default':!0x1},this[_0x390872(0x75a)]['wuid']);let _0xb2d91b=new oe['Types'][(_0x390872(0x36b))](),_0x1fc92f={'_id':_0xb2d91b,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x439104={'_id':new oe[(_0x390872(0x5e5))][(_0x390872(0x36b))](),'order':0x1,'groupId':_0xb2d91b['toString'](),'type':_0x390872(0x385)},_0xd3d81b={'_id':new oe[(_0x390872(0x5e5))][(_0x390872(0x36b))](),'owner':this[_0x390872(0x75a)]['wuid'],'name':_0x2b7717[_0x390872(0x3dc)],'groups':[_0x1fc92f],'blocks':[_0x439104],..._0x2b7717};return await this['repository'][_0x390872(0x3f7)]['createAndSave'](_0xd3d81b,_0x49f71c);}catch(_0x5dd839){let _0x417031=_0x390872(0x4f0),_0x157692=_0x5dd839 instanceof Error?_0x5dd839[_0x390872(0x406)]:typeof _0x5dd839==_0x390872(0x6c9)?JSON['stringify'](_0x5dd839):_0x5dd839,_0x30d926=_0x417031+':\x20'+_0x157692;throw this[_0x390872(0x2da)][_0x390872(0x418)](this[_0x390872(0x5bf)]+'\x20('+this[_0x390872(0x75a)][_0x390872(0x494)]+_0x390872(0x601)+_0x30d926),new m(_0x30d926);}}async[a0_0xe54586(0x1df)](_0x2f7cbe,_0xb474d7){const _0x2a4f70=a0_0xe54586;this['logger']['info'](_0x2a4f70(0x133));try{let _0x5d9892=await this[_0x2a4f70(0x6af)][_0x2a4f70(0x3f7)][_0x2a4f70(0x68c)]({'where':{'_id':_0x2f7cbe}},_0xb474d7);if(delete _0x5d9892[_0x2a4f70(0x2f8)],delete _0x5d9892[_0x2a4f70(0x145)],delete _0x5d9892[_0x2a4f70(0x5e7)],delete _0x5d9892[_0x2a4f70(0x51d)],delete _0x5d9892[_0x2a4f70(0xc4)],_0x5d9892[_0x2a4f70(0x2bc)]===_0x2a4f70(0x3e1)&&(_0x5d9892[_0x2a4f70(0x2bc)]='sync'),_0x5d9892&&_0x5d9892[_0x2a4f70(0x500)]){for(let _0x1425e0 of _0x5d9892[_0x2a4f70(0x500)])if(_0x1425e0!==_0xb474d7){let _0x4d8377={..._0x5d9892,'owner':_0x1425e0};await this[_0x2a4f70(0x6af)][_0x2a4f70(0x3f7)][_0x2a4f70(0x2ad)](_0x5d9892[_0x2a4f70(0x761)],_0x4d8377,_0x1425e0);}}}catch(_0x57faad){this['logger'][_0x2a4f70(0x418)]('Erro\x20ao\x20sincronizar\x20fluxos:\x20'+_0x57faad);}}async[a0_0xe54586(0x632)](_0x49d8c8,_0x3a6970){const _0x518cd3=a0_0xe54586;try{this[_0x518cd3(0x2da)][_0x518cd3(0x1bb)](this[_0x518cd3(0x5bf)]+'\x20('+this[_0x518cd3(0x75a)]['wuid']+'):\x20\x27Deletando\x20fluxo,\x20name:\x20'+_0x49d8c8[_0x518cd3(0x3dc)]+_0x518cd3(0x388)+_0x49d8c8[_0x518cd3(0x2bc)]);let _0x3a16c8=_0x49d8c8[_0x518cd3(0x2bc)]==='true'?_0x518cd3(0x2bc):this['instance'][_0x518cd3(0x494)],_0x50d96e=await this[_0x518cd3(0x6af)][_0x518cd3(0x3f7)][_0x518cd3(0x68c)]({'where':{'name':_0x49d8c8[_0x518cd3(0x3dc)]}},_0x3a16c8);if(!_0x50d96e)throw new m('Fluxo\x20não\x20encontrado.');if(_0x3a6970!==ee&&_0x50d96e?.['global']===_0x518cd3(0x3e1)&&_0x50d96e?.[_0x518cd3(0x759)]!==this[_0x518cd3(0x75a)][_0x518cd3(0x494)])throw new m('Esse\x20fluxo\x20é\x20global,\x20para\x20deletá-lo\x20você\x20precisa\x20ser\x20o\x20criador\x20ou\x20usar\x20a\x20apikey\x20global');if(_0x50d96e&&_0x50d96e['shareOwners']&&_0x50d96e[_0x518cd3(0x500)][_0x518cd3(0x767)]>0x0){for(let _0x227b54 of _0x50d96e['shareOwners'])if(_0x227b54!==_0x3a16c8){let _0x406d56=await this['repository'][_0x518cd3(0x3f7)][_0x518cd3(0x68c)]({'where':{'sharePass':_0x50d96e[_0x518cd3(0xfc)]}},_0x227b54);if(_0x406d56){_0x406d56[_0x518cd3(0x500)]=_0x406d56[_0x518cd3(0x500)][_0x518cd3(0x5b0)](_0xd385b0=>_0xd385b0!==_0x50d96e['owner']);let _0x420582={'shareOwners':_0x406d56[_0x518cd3(0x500)]};_0x50d96e[_0x518cd3(0x2bc)]===_0x518cd3(0x3e1)&&(_0x420582[_0x518cd3(0x2bc)]=_0x518cd3(0x466)),await this[_0x518cd3(0x6af)]['flow'][_0x518cd3(0x1fd)](_0x406d56['_id'],_0x420582,_0x227b54);}}}return await this[_0x518cd3(0x6af)][_0x518cd3(0x3f7)][_0x518cd3(0x183)]({'where':{'name':_0x49d8c8[_0x518cd3(0x3dc)]}},_0x3a16c8);}catch(_0x3dd597){return this[_0x518cd3(0x2da)]['error'](this['instanceName']+'\x20('+this['instance'][_0x518cd3(0x494)]+_0x518cd3(0x5cc)+(_0x3dd597 instanceof Error?_0x3dd597[_0x518cd3(0x406)]:JSON[_0x518cd3(0x548)](_0x3dd597,null,0x2))),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+_0x3dd597[_0x518cd3(0x406)]};}}async[a0_0xe54586(0x283)](_0x20a0af,_0x37b265){const _0x46dea3=a0_0xe54586;try{this[_0x46dea3(0x2da)][_0x46dea3(0x6e5)](this[_0x46dea3(0x5bf)]+'\x20('+this[_0x46dea3(0x75a)][_0x46dea3(0x494)]+'):\x20Buscando\x20flow,\x20name:\x20'+_0x20a0af+_0x46dea3(0x36c)+_0x37b265);let _0x2d2328=_0x37b265?.['trim']()===_0x46dea3(0x3e1)?'global':this[_0x46dea3(0x75a)][_0x46dea3(0x494)],_0x12af22=await this[_0x46dea3(0x6af)][_0x46dea3(0x3f7)]['findOne']({'where':{'name':_0x20a0af}},_0x2d2328);if(!_0x12af22)throw new Error(_0x46dea3(0x264));if(_0x12af22[_0x46dea3(0xcb)]||(_0x12af22[_0x46dea3(0xcb)]=(0x0,Me['v4'])()),!this[_0x46dea3(0x665)]&&(await this[_0x46dea3(0x5fb)](),!this['AutomateSystem']))return null;let _0x24f41e=this[_0x46dea3(0x665)]?.[_0x46dea3(0xcc)]['map'](_0x2feff0=>_0x2feff0['name']),_0x33abe6=['nome','nomecompleto',_0x46dea3(0x311),_0x46dea3(0x2dc),_0x46dea3(0x201),'notas',_0x46dea3(0x6f0),_0x46dea3(0x45e),_0x46dea3(0x33c),_0x46dea3(0x26c),_0x46dea3(0x2dd)];_0x12af22[_0x46dea3(0x7a1)]=_0x12af22['variables'][_0x46dea3(0x5b0)](_0x441a14=>!(_0x441a14[_0x46dea3(0x17b)]==='leadInfo'||_0x441a14['leadInfo'])),_0x33abe6['forEach'](_0x1bff83=>{const _0x4688f7=_0x46dea3;_0x12af22['variables'][_0x4688f7(0x2d6)]({'folder':_0x4688f7(0x564),'name':_0x1bff83,'value':'','doc':'','leadInfo':!0x0});}),_0x24f41e[_0x46dea3(0x110)](_0x4df45b=>{const _0x270da5=_0x46dea3;let _0x1e5ded=_0x12af22[_0x270da5(0x7a1)][_0x270da5(0x5fc)](_0x2dafc1=>_0x2dafc1[_0x270da5(0x3dc)]===_0x4df45b);_0x1e5ded===-0x1?_0x12af22['variables']['push']({'folder':_0x270da5(0x564),'name':_0x4df45b,'value':'','doc':'','leadInfo':!0x0}):(_0x12af22[_0x270da5(0x7a1)][_0x1e5ded]['folder']=_0x270da5(0x564),_0x12af22['variables'][_0x1e5ded]['leadInfo']=!0x0);}),_0x12af22[_0x46dea3(0x414)]&&_0x12af22[_0x46dea3(0x414)][_0x46dea3(0x767)]>0x0&&_0x12af22['blocks'][_0x46dea3(0x110)](_0x2f1cf6=>{const _0x3585cc=_0x46dea3;_0x2f1cf6[_0x3585cc(0x66f)]&&_0x2f1cf6[_0x3585cc(0x346)]&&_0x2f1cf6[_0x3585cc(0x66f)]===_0x2f1cf6[_0x3585cc(0x346)]&&(_0x2f1cf6[_0x3585cc(0x346)]=null);});let _0xa48f11=await this[_0x46dea3(0x6af)][_0x46dea3(0x3f7)][_0x46dea3(0x1fd)](_0x12af22['_id'],_0x12af22,_0x2d2328);if(!_0xa48f11)throw new Error(_0x46dea3(0x226));return _0xa48f11;}catch(_0x3a4db7){let _0x2276f8=_0x46dea3(0x507),_0x38e065=_0x3a4db7 instanceof Error?_0x3a4db7[_0x46dea3(0x406)]:typeof _0x3a4db7==_0x46dea3(0x6c9)?JSON[_0x46dea3(0x548)](_0x3a4db7):_0x3a4db7,_0x88640c=_0x2276f8+':\x20'+_0x38e065;throw this[_0x46dea3(0x2da)][_0x46dea3(0x418)](this[_0x46dea3(0x5bf)]+'\x20('+this[_0x46dea3(0x75a)][_0x46dea3(0x494)]+'):\x20'+_0x88640c),new m(_0x88640c);}}async[a0_0xe54586(0xf0)](){const _0x385879=a0_0xe54586;try{this[_0x385879(0x2da)][_0x385879(0x1bb)](this[_0x385879(0x5bf)]+'\x20('+this['instance']['wuid']+_0x385879(0x3c6)),await this[_0x385879(0x6af)][_0x385879(0x3f7)]['updateMissingShareOwners'](this[_0x385879(0x75a)][_0x385879(0x494)]);let _0x24936a=await this[_0x385879(0x6af)][_0x385879(0x3f7)][_0x385879(0x4a6)]({'where':{}},this[_0x385879(0x75a)]['wuid']),_0x258b3f=await this['repository']['flow'][_0x385879(0x4a6)]({'where':{}},'global');return _0x24936a[_0x385879(0x32f)](_0x258b3f);}catch(_0x39b9a1){return this[_0x385879(0x2da)][_0x385879(0x418)](this[_0x385879(0x5bf)]+'\x20('+this[_0x385879(0x75a)][_0x385879(0x494)]+_0x385879(0x47b)+(_0x39b9a1 instanceof Error?_0x39b9a1[_0x385879(0x406)]:JSON[_0x385879(0x548)](_0x39b9a1,null,0x2))),{'message':_0x385879(0x16e)+_0x39b9a1[_0x385879(0x406)]};}}async[a0_0xe54586(0x691)](_0x461c9a,_0x19d795){const _0xe68517=a0_0xe54586;try{this[_0xe68517(0x2da)][_0xe68517(0x1bb)](this[_0xe68517(0x5bf)]+'\x20('+this['instance']['wuid']+_0xe68517(0x325));let _0x15cfeb=_0x461c9a?.['global']?.[_0xe68517(0x6a0)]()===_0xe68517(0x3e1)?'global':this[_0xe68517(0x75a)][_0xe68517(0x494)],_0xb8cf9f=await this[_0xe68517(0x6af)][_0xe68517(0x3f7)][_0xe68517(0x68c)]({'where':{'name':_0x461c9a[_0xe68517(0x3dc)]}},_0x15cfeb);if(!_0xb8cf9f)return{'message':_0xe68517(0x483)};if(_0x19d795!==ee&&_0xb8cf9f?.[_0xe68517(0x2bc)]==='true'&&_0xb8cf9f?.['owner']!==this[_0xe68517(0x75a)][_0xe68517(0x494)])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');_0xb8cf9f?.[_0xe68517(0x2bc)]===_0xe68517(0x39d)&&(_0x461c9a={'default':_0x461c9a['default'],'minutesToClose':_0x461c9a[_0xe68517(0x51d)],'readMessages':_0x461c9a['readMessages'],'testingWith':_0x461c9a[_0xe68517(0x5e7)],'startCommandWord':_0x461c9a[_0xe68517(0x145)]}),_0x461c9a[_0xe68517(0x2f8)]===!0x0&&_0xb8cf9f?.[_0xe68517(0x2bc)]!==_0xe68517(0x3e1)&&await this['repository'][_0xe68517(0x3f7)][_0xe68517(0x3f5)]({},{'default':!0x1},_0x15cfeb),delete _0x461c9a[_0xe68517(0x500)],delete _0x461c9a[_0xe68517(0xfc)],delete _0x461c9a[_0xe68517(0x2bc)];let _0x4866c7=await this[_0xe68517(0x6af)][_0xe68517(0x3f7)][_0xe68517(0x1fd)](_0xb8cf9f[_0xe68517(0x761)],_0x461c9a,_0x15cfeb);return _0x4866c7&&_0x4866c7['shareOwners']&&_0x4866c7['shareOwners'][_0xe68517(0x767)]>0x1&&_0x4866c7[_0xe68517(0x2bc)]!=='sync'&&this[_0xe68517(0x1df)](_0x4866c7[_0xe68517(0x761)],_0x15cfeb),_0x4866c7;}catch(_0x38f0b1){let _0x4ff500=_0xe68517(0x4fa),_0x4ddea7=_0x38f0b1 instanceof Error?_0x38f0b1[_0xe68517(0x406)]:typeof _0x38f0b1==_0xe68517(0x6c9)?JSON[_0xe68517(0x548)](_0x38f0b1):_0x38f0b1,_0x23146f=_0x4ff500+':\x20'+_0x4ddea7;throw this['logger'][_0xe68517(0x418)](this[_0xe68517(0x5bf)]+'\x20('+this['instance'][_0xe68517(0x494)]+_0xe68517(0x601)+_0x23146f),new m(_0x23146f);}}async[a0_0xe54586(0x69e)](_0x39d95a,_0x4972b4){const _0xce4e6=a0_0xe54586;try{this[_0xce4e6(0x2da)][_0xce4e6(0x1bb)](this['instanceName']+'\x20('+this[_0xce4e6(0x75a)][_0xce4e6(0x494)]+_0xce4e6(0x2e5));let _0x5dc8e7=_0x39d95a?.[_0xce4e6(0x2bc)]?.[_0xce4e6(0x6a0)]()===_0xce4e6(0x3e1)?_0xce4e6(0x2bc):this[_0xce4e6(0x75a)][_0xce4e6(0x494)],_0x2eb7d0=await this[_0xce4e6(0x6af)][_0xce4e6(0x3f7)][_0xce4e6(0x68c)]({'where':{'name':_0x39d95a[_0xce4e6(0x3dc)]}},_0x5dc8e7);if(_0x2eb7d0||this['throwAndLogError'](_0xce4e6(0x264)),_0x2eb7d0?.[_0xce4e6(0x2bc)]===_0xce4e6(0x39d))throw new m(_0xce4e6(0x269));if(_0x4972b4!==ee&&_0x2eb7d0?.[_0xce4e6(0x2bc)]===_0xce4e6(0x3e1)&&_0x2eb7d0?.[_0xce4e6(0x759)]!==this[_0xce4e6(0x75a)][_0xce4e6(0x494)])throw new m(_0xce4e6(0x510));let {block:_0x1569fb}=_0x39d95a;_0x1569fb?.[_0xce4e6(0x76c)]?this['copyBlock'](_0x2eb7d0,_0x39d95a):_0x1569fb?.['delete']?this[_0xce4e6(0x584)](_0x2eb7d0,_0x39d95a):_0x1569fb[_0xce4e6(0x761)]?await this[_0xce4e6(0x5b9)](_0x2eb7d0,_0x39d95a):this['addBlock'](_0x2eb7d0,_0x39d95a);let _0x1c43c3=await this[_0xce4e6(0x6af)][_0xce4e6(0x3f7)]['updateOne'](_0x2eb7d0[_0xce4e6(0x761)],_0x2eb7d0,_0x5dc8e7);if(_0x1c43c3&&_0x1c43c3[_0xce4e6(0x500)]&&_0x1c43c3[_0xce4e6(0x500)][_0xce4e6(0x767)]>0x1&&this['synchronizeFlows'](_0x1c43c3['_id'],this[_0xce4e6(0x75a)][_0xce4e6(0x494)]),!_0x1c43c3)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x1c43c3;}catch(_0x336e57){this[_0xce4e6(0x5dc)]('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x336e57[_0xce4e6(0x406)]);}}async[a0_0xe54586(0x5e4)](_0x5693f9,_0x4bfd36){const _0x2e6ea8=a0_0xe54586;let _0x5ecba8=_0x4bfd36[_0x2e6ea8(0xbb)][_0x2e6ea8(0x761)],_0x13bc49=_0x5693f9[_0x2e6ea8(0x414)][_0x2e6ea8(0x43d)](_0x13ac38=>_0x13ac38['_id'][_0x2e6ea8(0x27f)]()===_0x5ecba8);if(!_0x13bc49){this['logger'][_0x2e6ea8(0x418)](this['instanceName']+'\x20('+this[_0x2e6ea8(0x75a)][_0x2e6ea8(0x494)]+_0x2e6ea8(0x582)+_0x5ecba8+_0x2e6ea8(0x397));return;}this[_0x2e6ea8(0x2da)]['verbose'](this['instanceName']+'\x20('+this[_0x2e6ea8(0x75a)][_0x2e6ea8(0x494)]+_0x2e6ea8(0x59d)+JSON[_0x2e6ea8(0x548)](_0x13bc49));let _0x29f847=JSON[_0x2e6ea8(0x229)](JSON[_0x2e6ea8(0x548)](_0x13bc49));_0x29f847[_0x2e6ea8(0x761)]=new oe['default'][(_0x2e6ea8(0x5e5))][(_0x2e6ea8(0x36b))](),this[_0x2e6ea8(0x2da)][_0x2e6ea8(0x1bb)](this[_0x2e6ea8(0x5bf)]+'\x20('+this[_0x2e6ea8(0x75a)]['wuid']+_0x2e6ea8(0x2ab)+JSON[_0x2e6ea8(0x548)](_0x29f847)),_0x5693f9[_0x2e6ea8(0x414)][_0x2e6ea8(0x2d6)](_0x29f847),this[_0x2e6ea8(0x401)](_0x5693f9[_0x2e6ea8(0x414)],_0x29f847[_0x2e6ea8(0x66f)]);}['throwAndLogError'](_0x152987){const _0x4765bd=a0_0xe54586;throw this[_0x4765bd(0x2da)][_0x4765bd(0x418)](this[_0x4765bd(0x5bf)]+'\x20('+this[_0x4765bd(0x75a)][_0x4765bd(0x494)]+_0x4765bd(0x601)+_0x152987),new m(_0x152987);}['deleteBlock'](_0x1aa099,_0x397265){const _0xcae066=a0_0xe54586;let {block:_0x4d5cb9}=_0x397265;if(_0x4d5cb9[_0xcae066(0x772)]==='start'){this['throwAndLogError'](_0xcae066(0x567));return;}if(!_0x4d5cb9['_id']){this[_0xcae066(0x5dc)](_0xcae066(0x4bf));return;}let _0x212ee8=_0x1aa099['blocks'][_0xcae066(0x43d)](_0xe67dfc=>_0xe67dfc[_0xcae066(0x761)]['toString']()===_0x397265[_0xcae066(0xbb)]['_id'][_0xcae066(0x27f)]());if(!_0x212ee8){this[_0xcae066(0x5dc)](_0xcae066(0x29d)+_0x4d5cb9[_0xcae066(0x761)]+_0xcae066(0x4ce));return;}_0x1aa099[_0xcae066(0x414)]=_0x1aa099[_0xcae066(0x414)][_0xcae066(0x5b0)](_0x18adfe=>_0x18adfe['_id'][_0xcae066(0x27f)]()!==_0x397265[_0xcae066(0xbb)]['_id'][_0xcae066(0x27f)]()),_0x1aa099[_0xcae066(0x682)]=_0x1aa099['conditions']['filter'](_0x3b26be=>_0x3b26be[_0xcae066(0x2df)]!==_0x4d5cb9[_0xcae066(0x761)][_0xcae066(0x27f)]()),_0x1aa099[_0xcae066(0x128)]=_0x1aa099[_0xcae066(0x128)][_0xcae066(0x5b0)](_0x74e879=>_0x74e879[_0xcae066(0x2df)]!==_0x4d5cb9[_0xcae066(0x761)][_0xcae066(0x27f)]()),_0x1aa099[_0xcae066(0x136)]=_0x1aa099[_0xcae066(0x136)][_0xcae066(0x5b0)](_0x2ebcd0=>_0x2ebcd0[_0xcae066(0x2df)]!==_0x4d5cb9['_id']['toString']()),this[_0xcae066(0x401)](_0x1aa099[_0xcae066(0x414)],_0x212ee8[_0xcae066(0x66f)]);}async[a0_0xe54586(0x5b9)](_0x95ae3c,_0xb5924){const _0x16158c=a0_0xe54586;let _0x4ed13c=_0x95ae3c['blocks']['findIndex'](_0x5d5075=>_0x5d5075['_id']['toString']()===_0xb5924[_0x16158c(0xbb)][_0x16158c(0x761)][_0x16158c(0x27f)]());if(this['logger']['verbose'](this[_0x16158c(0x5bf)]+'\x20('+this['instance'][_0x16158c(0x494)]+_0x16158c(0x609)+_0x4ed13c),_0x4ed13c===-0x1){this[_0x16158c(0x2da)][_0x16158c(0x1bb)](_0x16158c(0x29d)+_0xb5924[_0x16158c(0xbb)][_0x16158c(0x761)]+_0x16158c(0x5ed));return;}if(_0x95ae3c['blocks'][_0x4ed13c][_0x16158c(0x772)]==='start'){let _0x561a77=Object['keys'](_0xb5924['block']);if(_0x561a77['length']>0x2||_0x561a77[_0x16158c(0x767)]===0x2&&!_0x561a77[_0x16158c(0x1d8)](_0x16158c(0x346))){this['throwAndLogError'](_0x16158c(0x6d2));return;}}let _0x5d9b37=_0x95ae3c['blocks'][_0x4ed13c]['groupId'];for(let _0x427554 in _0xb5924[_0x16158c(0xbb)])_0xb5924[_0x16158c(0xbb)][_0x16158c(0x216)](_0x427554)&&(_0x95ae3c[_0x16158c(0x414)][_0x4ed13c][_0x427554]=_0xb5924[_0x16158c(0xbb)][_0x427554]);if(this['logger'][_0x16158c(0x1bb)](this[_0x16158c(0x5bf)]+'\x20('+this[_0x16158c(0x75a)][_0x16158c(0x494)]+_0x16158c(0x6ce)+JSON[_0x16158c(0x548)](_0x95ae3c[_0x16158c(0x414)][_0x4ed13c])),_0x95ae3c[_0x16158c(0x414)][_0x4ed13c][_0x16158c(0x312)]&&_0x16158c(0x403)in _0x95ae3c[_0x16158c(0x414)][_0x4ed13c][_0x16158c(0x312)]){this[_0x16158c(0x2da)][_0x16158c(0x1bb)](this[_0x16158c(0x5bf)]+'\x20('+this[_0x16158c(0x75a)][_0x16158c(0x494)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x360dad=JSON[_0x16158c(0x548)](_0x95ae3c[_0x16158c(0x414)][_0x4ed13c][_0x16158c(0x312)][_0x16158c(0x403)],null,0x1);_0x360dad[_0x16158c(0x767)]>0x2&&(_0x360dad=_0x360dad[_0x16158c(0x237)](0x1,_0x360dad[_0x16158c(0x767)]-0x1)[_0x16158c(0x6a0)]()),_0x95ae3c[_0x16158c(0x414)][_0x4ed13c][_0x16158c(0x312)][_0x16158c(0x410)]=_0x360dad;}if(_0x95ae3c['blocks'][_0x4ed13c]['apirequest']&&'body'in _0x95ae3c[_0x16158c(0x414)][_0x4ed13c][_0x16158c(0x312)]&&!(_0x16158c(0xb6)in _0x95ae3c[_0x16158c(0x414)][_0x4ed13c]['apirequest'])){this[_0x16158c(0x2da)]['verbose'](this[_0x16158c(0x5bf)]+'\x20('+this[_0x16158c(0x75a)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x95ae3c['blocks'][_0x4ed13c][_0x16158c(0x312)][_0x16158c(0x48c)]=!0x1;let _0x5c8fec=JSON['stringify'](_0x95ae3c[_0x16158c(0x414)][_0x4ed13c][_0x16158c(0x312)][_0x16158c(0x185)],null,0x2);_0x95ae3c[_0x16158c(0x414)][_0x4ed13c][_0x16158c(0x312)][_0x16158c(0xb6)]=_0x5c8fec;}if(_0x95ae3c[_0x16158c(0x414)][_0x4ed13c][_0x16158c(0x312)]&&_0x16158c(0xb6)in _0x95ae3c[_0x16158c(0x414)][_0x4ed13c][_0x16158c(0x312)]){_0x95ae3c['blocks'][_0x4ed13c]['apirequest'][_0x16158c(0x48c)]=!0x1;let _0x1b235f=_0x95ae3c['blocks'][_0x4ed13c][_0x16158c(0x312)][_0x16158c(0xb6)],_0x3fe9fd=this[_0x16158c(0x143)](_0x1b235f);_0x95ae3c['blocks'][_0x4ed13c][_0x16158c(0x312)][_0x16158c(0xb6)]=_0x3fe9fd[_0x16158c(0x61e)],_0x95ae3c[_0x16158c(0x414)][_0x4ed13c][_0x16158c(0x312)]['bodyStringErrorParse']=_0x3fe9fd['error'];}let _0x3aa4c9=_0x95ae3c[_0x16158c(0x414)][_0x4ed13c][_0x16158c(0x66f)];_0x5d9b37!==_0x3aa4c9?(this[_0x16158c(0x401)](_0x95ae3c['blocks'],_0x5d9b37),this[_0x16158c(0x401)](_0x95ae3c[_0x16158c(0x414)],_0x3aa4c9)):this[_0x16158c(0x401)](_0x95ae3c['blocks'],_0x5d9b37);}[a0_0xe54586(0x143)](_0x3564ef){const _0x17517b=a0_0xe54586;let _0x221d65='\u205f',_0x387341=!0x1,_0x2ecd73='';for(let _0x4bf7e1=0x0;_0x4bf7e1<_0x3564ef[_0x17517b(0x767)];_0x4bf7e1++){let _0x3f26e3=_0x3564ef[_0x4bf7e1];_0x3f26e3==='\x22'&&(_0x4bf7e1===0x0||_0x3564ef[_0x4bf7e1-0x1]!=='\x5c')&&(_0x387341=!_0x387341),!(!_0x387341&&(_0x3f26e3==='\x0a'||_0x3f26e3==='\x20'||_0x3f26e3===_0x221d65))&&(_0x2ecd73+=_0x3f26e3);}let _0x64694e={},_0x455fa4=9876543210.1234,_0x38c53c=_0x2ecd73[_0x17517b(0x6fd)](/\{\{([^}]+)\}\}/g,_0x147c27=>{let _0x28dfd4=_0x147c27,_0x5a7ae7=''+_0x455fa4;return _0x64694e[_0x5a7ae7]=_0x28dfd4,_0x455fa4+=0.0001,_0x5a7ae7;}),_0x36cdb5='',_0x49f39a=!0x1;try{let _0x5876cf=JSON[_0x17517b(0x229)](_0x38c53c);_0x36cdb5=JSON[_0x17517b(0x548)](_0x5876cf,null,0x2),_0x36cdb5=_0x36cdb5['replace'](/\n( +)/g,(_0xcb3c96,_0x5119d5)=>{const _0x436276=_0x17517b;let _0x3d55d5=_0x5119d5[_0x436276(0x767)];return'\x0a'+_0x221d65[_0x436276(0xaa)](_0x3d55d5*0x2);}),_0x36cdb5=_0x36cdb5[_0x17517b(0x6fd)](/(\d{10,}\.\d+)/g,_0x44442c=>_0x64694e[_0x44442c]||_0x44442c);}catch(_0x513eb0){console[_0x17517b(0x418)](_0x17517b(0x30d),_0x513eb0),_0x36cdb5=_0x3564ef,_0x49f39a=!0x0;}return{'result':_0x36cdb5,'error':_0x49f39a};}[a0_0xe54586(0x38f)](_0x8819d4,_0x5b8414){const _0x23101d=a0_0xe54586;if(_0x5b8414[_0x23101d(0xbb)]['type']==='start'){this['throwAndLogError']('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x5b8414[_0x23101d(0xbb)][_0x23101d(0x312)]&&_0x23101d(0x403)in _0x5b8414[_0x23101d(0xbb)][_0x23101d(0x312)]){this[_0x23101d(0x2da)][_0x23101d(0x1bb)](this[_0x23101d(0x5bf)]+'\x20('+this[_0x23101d(0x75a)][_0x23101d(0x494)]+_0x23101d(0x5f8));let _0x2fca5a=JSON['stringify'](_0x5b8414[_0x23101d(0xbb)]['apirequest'][_0x23101d(0x403)],null,0x1);_0x2fca5a[_0x23101d(0x767)]>0x2&&(_0x2fca5a=_0x2fca5a[_0x23101d(0x237)](0x1,_0x2fca5a[_0x23101d(0x767)]-0x1)[_0x23101d(0x6a0)]()),_0x5b8414['block'][_0x23101d(0x312)][_0x23101d(0x410)]=_0x2fca5a;}_0x5b8414['block'][_0x23101d(0x312)]&&_0x23101d(0x185)in _0x5b8414[_0x23101d(0xbb)][_0x23101d(0x312)]&&(this['logger'][_0x23101d(0x1bb)](this[_0x23101d(0x5bf)]+'\x20('+this[_0x23101d(0x75a)][_0x23101d(0x494)]+_0x23101d(0x332)),_0x5b8414[_0x23101d(0xbb)][_0x23101d(0x312)][_0x23101d(0xb6)]=JSON[_0x23101d(0x548)](_0x5b8414[_0x23101d(0xbb)][_0x23101d(0x312)][_0x23101d(0x185)],null,0x1)[_0x23101d(0x6a0)]()),_0x8819d4[_0x23101d(0x414)][_0x23101d(0x2d6)](_0x5b8414[_0x23101d(0xbb)]),this['reorderBlocks'](_0x8819d4['blocks'],_0x5b8414[_0x23101d(0xbb)]['groupId']);}[a0_0xe54586(0x401)](_0x48fda3,_0x6f1338){const _0x723e55=a0_0xe54586;let _0x10ec3f=_0x48fda3[_0x723e55(0x5b0)](_0x411d87=>_0x411d87['groupId']===_0x6f1338);_0x10ec3f['sort']((_0x425d7c,_0x98206c)=>_0x425d7c[_0x723e55(0x1bf)]-_0x98206c[_0x723e55(0x1bf)]),_0x10ec3f['forEach']((_0x98c15,_0x235cb8)=>_0x98c15[_0x723e55(0x1bf)]=_0x235cb8+0x1);}async[a0_0xe54586(0x413)](_0x58591e,_0xe6e233){const _0x153c16=a0_0xe54586;try{this[_0x153c16(0x2da)][_0x153c16(0x1bb)](this['instanceName']+'\x20('+this[_0x153c16(0x75a)][_0x153c16(0x494)]+'):\x20Editando\x20replyOption...');let _0x122a55=_0x58591e?.[_0x153c16(0x2bc)][_0x153c16(0x6a0)]()===_0x153c16(0x3e1)?'global':this[_0x153c16(0x75a)][_0x153c16(0x494)];if(!_0x58591e||!_0x58591e[_0x153c16(0x392)]){this[_0x153c16(0x5dc)](_0x153c16(0x129));return;}let _0x20e40e=await this[_0x153c16(0x6af)][_0x153c16(0x3f7)][_0x153c16(0x68c)]({'where':{'name':_0x58591e[_0x153c16(0x3dc)]}},_0x122a55);if(_0x20e40e||this[_0x153c16(0x5dc)](_0x153c16(0x264)),_0x20e40e?.[_0x153c16(0x2bc)]===_0x153c16(0x39d))throw new m(_0x153c16(0x269));if(_0xe6e233!==ee&&_0x20e40e?.['global']===_0x153c16(0x3e1)&&_0x20e40e?.[_0x153c16(0x759)]!==this[_0x153c16(0x75a)][_0x153c16(0x494)])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');let {replyOption:_0x211b96}=_0x58591e;_0x211b96?.[_0x153c16(0x790)]?(this[_0x153c16(0x4c4)](_0x20e40e,_0x58591e),this[_0x153c16(0x6eb)](_0x20e40e[_0x153c16(0x136)],_0x58591e[_0x153c16(0x392)][_0x153c16(0x2df)])):_0x211b96[_0x153c16(0x761)]?(await this[_0x153c16(0x28d)](_0x20e40e,_0x58591e),this[_0x153c16(0x6eb)](_0x20e40e[_0x153c16(0x136)],_0x58591e[_0x153c16(0x392)][_0x153c16(0x2df)])):(this[_0x153c16(0x4c6)](_0x20e40e,_0x58591e),this[_0x153c16(0x6eb)](_0x20e40e[_0x153c16(0x136)],_0x58591e[_0x153c16(0x392)][_0x153c16(0x2df)]));let _0x320348=await this[_0x153c16(0x6af)]['flow']['updateOne'](_0x20e40e['_id'],_0x20e40e,_0x122a55);if(_0x320348&&_0x320348[_0x153c16(0x500)]&&_0x320348[_0x153c16(0x500)][_0x153c16(0x767)]>0x1&&_0x320348[_0x153c16(0x2bc)]!=='sync'&&this['synchronizeFlows'](_0x320348['_id'],_0x122a55),!_0x320348)throw new Error(_0x153c16(0x226));return _0x320348;}catch(_0x16156a){this[_0x153c16(0x5dc)]('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x16156a);}}[a0_0xe54586(0x6eb)](_0x23ef1f,_0x394e33){const _0x36007d=a0_0xe54586;_0x23ef1f['forEach'](_0x5a86e1=>{const _0x1cd842=a0_0x4692;_0x5a86e1['blockId']===_0x394e33&&_0x5a86e1[_0x1cd842(0x1bf)]===void 0x0&&(_0x5a86e1[_0x1cd842(0x1bf)]=0x270f);});let _0x250a91=_0x23ef1f[_0x36007d(0x5b0)](_0xfd5e73=>_0xfd5e73[_0x36007d(0x2df)]===_0x394e33);_0x250a91['sort']((_0x578a4f,_0x44e277)=>_0x578a4f[_0x36007d(0x1bf)]-_0x44e277[_0x36007d(0x1bf)]),_0x250a91[_0x36007d(0x110)]((_0x17e23d,_0x2158d1)=>{const _0x14bc8f=_0x36007d;_0x17e23d[_0x14bc8f(0x1bf)]=_0x2158d1+0x1;}),_0x23ef1f[_0x36007d(0x110)](_0x38f782=>{const _0x151271=_0x36007d;if(_0x38f782[_0x151271(0x2df)]===_0x394e33){let _0x26c514=_0x250a91[_0x151271(0x43d)](_0x21ac9a=>_0x21ac9a[_0x151271(0x761)]&&_0x38f782[_0x151271(0x761)]&&_0x21ac9a[_0x151271(0x761)][_0x151271(0x27f)]()===_0x38f782[_0x151271(0x761)][_0x151271(0x27f)]());_0x26c514&&(_0x38f782[_0x151271(0x1bf)]=_0x26c514[_0x151271(0x1bf)]);}});}[a0_0xe54586(0x4c4)](_0x1e99de,_0x58b511){const _0x2b18c5=a0_0xe54586;let {replyOption:_0x32e5a9}=_0x58b511;if(!_0x32e5a9[_0x2b18c5(0x761)]){this['throwAndLogError'](_0x2b18c5(0x21b));return;}if(!_0x1e99de[_0x2b18c5(0x136)]['find'](_0x5682c8=>_0x5682c8[_0x2b18c5(0x761)][_0x2b18c5(0x27f)]()===_0x58b511[_0x2b18c5(0x392)][_0x2b18c5(0x761)]['toString']())){this[_0x2b18c5(0x5dc)](_0x2b18c5(0x12d)+_0x32e5a9[_0x2b18c5(0x761)]+_0x2b18c5(0x4ce));return;}_0x1e99de[_0x2b18c5(0x136)]=_0x1e99de[_0x2b18c5(0x136)][_0x2b18c5(0x5b0)](_0x2a9f96=>_0x2a9f96[_0x2b18c5(0x761)][_0x2b18c5(0x27f)]()!==_0x58b511[_0x2b18c5(0x392)][_0x2b18c5(0x761)]['toString']());}async[a0_0xe54586(0x28d)](_0x476bf8,_0x5f19ac){const _0x51a3c2=a0_0xe54586;let _0x45f25c=_0x476bf8['replyOptions']['findIndex'](_0x144f49=>_0x144f49[_0x51a3c2(0x761)][_0x51a3c2(0x27f)]()===_0x5f19ac[_0x51a3c2(0x392)]['_id']['toString']());if(_0x45f25c===-0x1){this[_0x51a3c2(0x5dc)](_0x51a3c2(0x12d)+_0x5f19ac[_0x51a3c2(0x392)][_0x51a3c2(0x761)]+_0x51a3c2(0x5ed));return;}for(let _0x361457 in _0x5f19ac[_0x51a3c2(0x392)])_0x5f19ac[_0x51a3c2(0x392)]['hasOwnProperty'](_0x361457)&&(_0x476bf8[_0x51a3c2(0x136)][_0x45f25c][_0x361457]=_0x5f19ac['replyOption'][_0x361457]);}[a0_0xe54586(0x4c6)](_0x32e8df,_0x247af3){_0x32e8df['replyOptions']['push'](_0x247af3['replyOption']);}async[a0_0xe54586(0x23f)](_0x19bec2,_0x29d45e){const _0x215cc1=a0_0xe54586;let _0xc3d2f5=_0x19bec2?.['global']['trim']()==='true'?'global':this[_0x215cc1(0x75a)][_0x215cc1(0x494)];this[_0x215cc1(0x2da)]['verbose'](this[_0x215cc1(0x5bf)]+'\x20('+this['instance'][_0x215cc1(0x494)]+_0x215cc1(0x56f)+_0xc3d2f5+_0x215cc1(0x2c5)+_0x29d45e+_0x215cc1(0x503)+JSON['stringify'](_0x19bec2,null,0x2));try{this[_0x215cc1(0x2da)]['verbose'](this[_0x215cc1(0x5bf)]+'\x20('+this[_0x215cc1(0x75a)][_0x215cc1(0x494)]+_0x215cc1(0x5c9));let _0x5ebc4c=await this[_0x215cc1(0x6af)][_0x215cc1(0x3f7)][_0x215cc1(0x68c)]({'where':{'name':_0x19bec2[_0x215cc1(0x3dc)]}},_0xc3d2f5);if(!_0x5ebc4c)throw this['logger'][_0x215cc1(0x1bb)](this[_0x215cc1(0x5bf)]+'\x20('+this[_0x215cc1(0x75a)][_0x215cc1(0x494)]+_0x215cc1(0x45c)),new Error('Flow\x20não\x20encontrado');if(_0x5ebc4c?.[_0x215cc1(0x2bc)]===_0x215cc1(0x39d))throw this['logger'][_0x215cc1(0x1bb)](this[_0x215cc1(0x5bf)]+'\x20('+this[_0x215cc1(0x75a)]['wuid']+_0x215cc1(0x640)),new m(_0x215cc1(0x7a0));if(_0x29d45e!==ee&&_0x5ebc4c?.['global']==='true'&&_0x5ebc4c?.[_0x215cc1(0x759)]!==this[_0x215cc1(0x75a)]['wuid'])throw this[_0x215cc1(0x2da)][_0x215cc1(0x1bb)](this[_0x215cc1(0x5bf)]+'\x20('+this[_0x215cc1(0x75a)][_0x215cc1(0x494)]+_0x215cc1(0x5d1)),new m(_0x215cc1(0x510));if(_0x19bec2[_0x215cc1(0x2fe)]&&_0x19bec2['group']?.['delete']===!0x0){if(this[_0x215cc1(0x2da)][_0x215cc1(0x1bb)](this['instanceName']+'\x20('+this[_0x215cc1(0x75a)][_0x215cc1(0x494)]+'):\x20delete\x20=\x20true'),_0x19bec2['group'][_0x215cc1(0x2f8)]===!0x0)return{'message':_0x215cc1(0x4c2)};if(_0x5ebc4c[_0x215cc1(0x414)]['some'](_0x1afebb=>_0x1afebb['groupId']['toString']()===_0x19bec2[_0x215cc1(0x2fe)]['_id']))return this['logger']['verbose'](this[_0x215cc1(0x5bf)]+'\x20('+this['instance'][_0x215cc1(0x494)]+'):\x20tem\x20blocks'),{'message':_0x215cc1(0x57e)};_0x5ebc4c['groups']=_0x5ebc4c['groups'][_0x215cc1(0x5b0)](_0x2d80cf=>_0x2d80cf[_0x215cc1(0x761)][_0x215cc1(0x27f)]()!==_0x19bec2[_0x215cc1(0x2fe)]['_id']);}else{if(_0x19bec2[_0x215cc1(0x2fe)]){if(_0x19bec2[_0x215cc1(0x2fe)][_0x215cc1(0x2f8)]===!0x0)return{'message':_0x215cc1(0x3d9)};if(_0x19bec2['group'][_0x215cc1(0x761)]){let _0x4bf280=_0x5ebc4c['groups'][_0x215cc1(0x43d)](_0x4c8ade=>_0x4c8ade[_0x215cc1(0x761)][_0x215cc1(0x27f)]()===_0x19bec2[_0x215cc1(0x2fe)][_0x215cc1(0x761)]);_0x4bf280&&(_0x19bec2[_0x215cc1(0x2fe)]['x']<0x0&&(_0x19bec2[_0x215cc1(0x2fe)]['x']=0x0),_0x19bec2[_0x215cc1(0x2fe)]['y']<0x0&&(_0x19bec2[_0x215cc1(0x2fe)]['y']=0x0),Object[_0x215cc1(0x75d)](_0x4bf280,_0x19bec2[_0x215cc1(0x2fe)]));}else _0x5ebc4c[_0x215cc1(0x730)]['push'](_0x19bec2[_0x215cc1(0x2fe)]);}}let _0x1d84bd=await this[_0x215cc1(0x6af)][_0x215cc1(0x3f7)][_0x215cc1(0x1fd)](_0x5ebc4c[_0x215cc1(0x761)],_0x5ebc4c,_0xc3d2f5);if(_0x1d84bd&&_0x1d84bd[_0x215cc1(0x500)]&&_0x1d84bd['shareOwners'][_0x215cc1(0x767)]>0x1&&_0x1d84bd[_0x215cc1(0x2bc)]!=='sync'&&this[_0x215cc1(0x1df)](_0x1d84bd['_id'],_0xc3d2f5),!_0x1d84bd)throw new Error(_0x215cc1(0x226));return _0x1d84bd;}catch(_0x202575){let _0x500ba5=_0x215cc1(0x21f),_0x35e910=_0x202575 instanceof Error?_0x202575[_0x215cc1(0x406)]:typeof _0x202575==_0x215cc1(0x6c9)?JSON[_0x215cc1(0x548)](_0x202575):_0x202575,_0x4133ba=_0x500ba5+':\x20'+_0x35e910;throw this[_0x215cc1(0x2da)][_0x215cc1(0x418)](this[_0x215cc1(0x5bf)]+'\x20('+this['instance'][_0x215cc1(0x494)]+'):\x20'+_0x4133ba),new m(_0x4133ba);}}async[a0_0xe54586(0x215)](_0x1c7e5d,_0xf0ef19){const _0x2f5d9d=a0_0xe54586;try{this[_0x2f5d9d(0x2da)]['verbose'](this[_0x2f5d9d(0x5bf)]+'\x20('+this[_0x2f5d9d(0x75a)][_0x2f5d9d(0x494)]+_0x2f5d9d(0x610));let _0x2468c6=_0x1c7e5d?.[_0x2f5d9d(0x2bc)]['trim']()===_0x2f5d9d(0x3e1)?_0x2f5d9d(0x2bc):this[_0x2f5d9d(0x75a)][_0x2f5d9d(0x494)],_0x3e8238=await this[_0x2f5d9d(0x6af)][_0x2f5d9d(0x3f7)][_0x2f5d9d(0x68c)]({'where':{'name':_0x1c7e5d[_0x2f5d9d(0x3dc)]}},_0x2468c6);if(!_0x3e8238)throw new Error(_0x2f5d9d(0x264));if(_0x3e8238?.[_0x2f5d9d(0x2bc)]===_0x2f5d9d(0x39d))throw new m(_0x2f5d9d(0x269));if(_0xf0ef19!==ee&&_0x3e8238?.[_0x2f5d9d(0x2bc)]===_0x2f5d9d(0x3e1)&&_0x3e8238?.[_0x2f5d9d(0x759)]!==this['instance'][_0x2f5d9d(0x494)])throw new m(_0x2f5d9d(0x510));let _0x1b74a3=!0x1;if(_0x1c7e5d[_0x2f5d9d(0x12b)]?.[_0x2f5d9d(0x790)]===!0x0)_0x3e8238[_0x2f5d9d(0x682)]=_0x3e8238[_0x2f5d9d(0x682)][_0x2f5d9d(0x5b0)](_0x2cfcc2=>_0x2cfcc2&&_0x1c7e5d[_0x2f5d9d(0x12b)]&&_0x2cfcc2['_id']&&_0x1c7e5d[_0x2f5d9d(0x12b)][_0x2f5d9d(0x761)]&&_0x2cfcc2[_0x2f5d9d(0x761)][_0x2f5d9d(0x27f)]()!==_0x1c7e5d[_0x2f5d9d(0x12b)]['_id'][_0x2f5d9d(0x27f)]()),_0x1b74a3=!0x0;else{let _0x4595f0=_0x3e8238['conditions'][_0x2f5d9d(0x43d)](_0x2631d2=>_0x2631d2&&_0x1c7e5d[_0x2f5d9d(0x12b)]&&_0x2631d2['_id']&&_0x1c7e5d[_0x2f5d9d(0x12b)][_0x2f5d9d(0x761)]&&_0x2631d2['_id']['toString']()===_0x1c7e5d[_0x2f5d9d(0x12b)][_0x2f5d9d(0x761)][_0x2f5d9d(0x27f)]());_0x4595f0?(_0x1b74a3=_0x4595f0['order']!==_0x1c7e5d[_0x2f5d9d(0x12b)][_0x2f5d9d(0x1bf)],Object[_0x2f5d9d(0x75d)](_0x4595f0,_0x1c7e5d[_0x2f5d9d(0x12b)])):(_0x3e8238[_0x2f5d9d(0x682)][_0x2f5d9d(0x2d6)](_0x1c7e5d[_0x2f5d9d(0x12b)]),_0x1b74a3=!0x0);}if(_0x1b74a3){_0x3e8238[_0x2f5d9d(0x682)][_0x2f5d9d(0x489)]((_0x48a7a5,_0x4cef27)=>_0x48a7a5[_0x2f5d9d(0x1bf)]>_0x4cef27[_0x2f5d9d(0x1bf)]?0x1:_0x4cef27[_0x2f5d9d(0x1bf)]>_0x48a7a5[_0x2f5d9d(0x1bf)]?-0x1:0x0);for(let _0x45b7e7=0x0;_0x45b7e7<_0x3e8238[_0x2f5d9d(0x682)][_0x2f5d9d(0x767)];_0x45b7e7++)_0x3e8238['conditions'][_0x45b7e7]['order']=_0x45b7e7+0x1;_0x3e8238[_0x2f5d9d(0x682)][_0x2f5d9d(0x767)]>0x0&&(_0x3e8238[_0x2f5d9d(0x682)][0x0][_0x2f5d9d(0x74f)]=_0x2f5d9d(0x245));}let _0x228f46=await this['repository'][_0x2f5d9d(0x3f7)][_0x2f5d9d(0x1fd)](_0x3e8238['_id'],_0x3e8238,_0x2468c6);if(_0x228f46&&_0x228f46[_0x2f5d9d(0x500)]&&_0x228f46[_0x2f5d9d(0x500)][_0x2f5d9d(0x767)]>0x1&&_0x228f46['global']!==_0x2f5d9d(0x39d)&&this[_0x2f5d9d(0x1df)](_0x228f46['_id'],_0x2468c6),!_0x228f46)throw new Error(_0x2f5d9d(0x226));return _0x228f46;}catch(_0x4a2f43){let _0x179e83='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x586116=_0x4a2f43 instanceof Error?_0x4a2f43[_0x2f5d9d(0x406)]:typeof _0x4a2f43==_0x2f5d9d(0x6c9)?JSON[_0x2f5d9d(0x548)](_0x4a2f43):_0x4a2f43,_0x5e7de9=_0x179e83+':\x20'+_0x586116;throw this[_0x2f5d9d(0x2da)][_0x2f5d9d(0x418)](this[_0x2f5d9d(0x5bf)]+'\x20('+this[_0x2f5d9d(0x75a)][_0x2f5d9d(0x494)]+'):\x20'+_0x5e7de9),new m(_0x5e7de9);}}async['editFlowVaredit'](_0x5ad3ea,_0x26f802){const _0x38b817=a0_0xe54586;try{this['logger']['verbose'](this[_0x38b817(0x5bf)]+'\x20('+this['instance'][_0x38b817(0x494)]+'):\x20Editando\x20edição\x20do\x20fluxo...');let _0x116bc3=_0x5ad3ea?.[_0x38b817(0x2bc)][_0x38b817(0x6a0)]()===_0x38b817(0x3e1)?'global':this['instance'][_0x38b817(0x494)],_0x35683a=await this[_0x38b817(0x6af)]['flow']['findOne']({'where':{'name':_0x5ad3ea['name']}},_0x116bc3);if(!_0x35683a)throw new Error(_0x38b817(0x264));if(_0x35683a?.[_0x38b817(0x2bc)]==='sync')throw new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0x26f802!==ee&&_0x35683a?.[_0x38b817(0x2bc)]===_0x38b817(0x3e1)&&_0x35683a?.[_0x38b817(0x759)]!==this[_0x38b817(0x75a)]['wuid'])throw new m(_0x38b817(0x510));let _0x3cd688=!0x1;if(_0x5ad3ea[_0x38b817(0x2ea)]?.[_0x38b817(0x790)]===!0x0)_0x35683a[_0x38b817(0x128)]=_0x35683a[_0x38b817(0x128)]['filter'](_0x35007d=>_0x35007d&&_0x5ad3ea[_0x38b817(0x2ea)]&&_0x35007d['_id']&&_0x5ad3ea[_0x38b817(0x2ea)]['_id']&&_0x35007d['_id'][_0x38b817(0x27f)]()!==_0x5ad3ea[_0x38b817(0x2ea)][_0x38b817(0x761)]['toString']()),_0x3cd688=!0x0;else{let _0x574e8f=_0x35683a[_0x38b817(0x128)]['find'](_0x4e499a=>_0x4e499a&&_0x5ad3ea[_0x38b817(0x2ea)]&&_0x4e499a[_0x38b817(0x761)]&&_0x5ad3ea[_0x38b817(0x2ea)][_0x38b817(0x761)]&&_0x4e499a[_0x38b817(0x761)]['toString']()===_0x5ad3ea['varedit'][_0x38b817(0x761)][_0x38b817(0x27f)]());_0x574e8f?(_0x3cd688=_0x574e8f[_0x38b817(0x1bf)]!==_0x5ad3ea[_0x38b817(0x2ea)][_0x38b817(0x1bf)],Object[_0x38b817(0x75d)](_0x574e8f,_0x5ad3ea[_0x38b817(0x2ea)])):(_0x35683a[_0x38b817(0x128)][_0x38b817(0x2d6)](_0x5ad3ea['varedit']),_0x3cd688=!0x0);}if(_0x3cd688){_0x35683a[_0x38b817(0x128)]['sort']((_0x36cd10,_0x33df03)=>_0x36cd10[_0x38b817(0x1bf)]>_0x33df03['order']?0x1:_0x33df03[_0x38b817(0x1bf)]>_0x36cd10[_0x38b817(0x1bf)]?-0x1:0x0);for(let _0x184317=0x0;_0x184317<_0x35683a[_0x38b817(0x128)][_0x38b817(0x767)];_0x184317++)_0x35683a[_0x38b817(0x128)][_0x184317][_0x38b817(0x1bf)]=_0x184317+0x1;}let _0x59633e=await this[_0x38b817(0x6af)][_0x38b817(0x3f7)]['updateOne'](_0x35683a[_0x38b817(0x761)],_0x35683a,_0x116bc3);if(_0x59633e&&_0x59633e[_0x38b817(0x500)]&&_0x59633e['shareOwners'][_0x38b817(0x767)]>0x1&&_0x59633e[_0x38b817(0x2bc)]!=='sync'&&this['synchronizeFlows'](_0x59633e['_id'],_0x116bc3),!_0x59633e)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x59633e;}catch(_0x260896){let _0x555652=_0x38b817(0x5b4),_0x5ba8cf=_0x260896 instanceof Error?_0x260896[_0x38b817(0x406)]:typeof _0x260896==_0x38b817(0x6c9)?JSON['stringify'](_0x260896):_0x260896,_0x54f1b7=_0x555652+':\x20'+_0x5ba8cf;throw this[_0x38b817(0x2da)][_0x38b817(0x418)](this[_0x38b817(0x5bf)]+'\x20('+this[_0x38b817(0x75a)][_0x38b817(0x494)]+_0x38b817(0x601)+_0x54f1b7),new m(_0x54f1b7);}}async['editFlowVariable'](_0x4da0bd,_0x2faba0){const _0x491a70=a0_0xe54586;try{this['logger']['verbose'](this[_0x491a70(0x5bf)]+'\x20('+this[_0x491a70(0x75a)][_0x491a70(0x494)]+_0x491a70(0x427));let _0x58a621=_0x4da0bd?.[_0x491a70(0x2bc)][_0x491a70(0x6a0)]()===_0x491a70(0x3e1)?_0x491a70(0x2bc):this['instance'][_0x491a70(0x494)],_0x251d51=await this[_0x491a70(0x6af)][_0x491a70(0x3f7)][_0x491a70(0x68c)]({'where':{'name':_0x4da0bd[_0x491a70(0x3dc)]}},_0x58a621);if(!_0x251d51)throw new Error(_0x491a70(0x264));if(_0x251d51?.[_0x491a70(0x2bc)]===_0x491a70(0x39d))throw new m(_0x491a70(0x269));if(_0x2faba0!==ee&&_0x251d51?.[_0x491a70(0x2bc)]==='true'&&_0x251d51?.[_0x491a70(0x759)]!==this[_0x491a70(0x75a)]['wuid'])throw new m(_0x491a70(0x510));if(_0x2faba0!==ee&&_0x251d51?.['global']===_0x491a70(0x3e1)&&_0x251d51?.[_0x491a70(0x759)]!==this[_0x491a70(0x75a)][_0x491a70(0x494)])throw new m(_0x491a70(0x510));_0x4da0bd[_0x491a70(0xfb)][_0x491a70(0x3dc)]=_0x4da0bd['variable'][_0x491a70(0x3dc)]['trim'](),_0x4da0bd[_0x491a70(0xfb)][_0x491a70(0x3dc)]['startsWith']('_')&&(_0x4da0bd[_0x491a70(0xfb)][_0x491a70(0x3dc)]=_0x4da0bd[_0x491a70(0xfb)][_0x491a70(0x3dc)]['substring'](0x1)),_0x4da0bd['variable'][_0x491a70(0x3dc)]=_0x4da0bd['variable'][_0x491a70(0x3dc)]['trim']();let _0x395101=_0x251d51[_0x491a70(0x7a1)][_0x491a70(0x43d)](_0x5afb70=>_0x5afb70[_0x491a70(0x3dc)]===_0x4da0bd['variable'][_0x491a70(0x3dc)]);if(_0x395101?.['leadInfo']===!0x0)throw new Error(_0x491a70(0x4b6));if(_0x4da0bd[_0x491a70(0xfb)]?.[_0x491a70(0x790)]===!0x0){if(!_0x395101)return{'message':_0x491a70(0x6b9)};_0x251d51[_0x491a70(0x7a1)]=_0x251d51[_0x491a70(0x7a1)]['filter'](_0x3851aa=>_0x3851aa[_0x491a70(0x3dc)]!==_0x4da0bd[_0x491a70(0xfb)][_0x491a70(0x3dc)]);}else _0x395101?Object[_0x491a70(0x75d)](_0x395101,_0x4da0bd[_0x491a70(0xfb)]):_0x251d51[_0x491a70(0x7a1)][_0x491a70(0x2d6)](_0x4da0bd[_0x491a70(0xfb)]);let _0x2b7fc0=await this[_0x491a70(0x6af)]['flow'][_0x491a70(0x1fd)](_0x251d51[_0x491a70(0x761)],_0x251d51,_0x58a621);if(_0x2b7fc0&&_0x2b7fc0['shareOwners']&&_0x2b7fc0[_0x491a70(0x500)]['length']>0x1&&_0x2b7fc0['global']!=='sync'&&this[_0x491a70(0x1df)](_0x2b7fc0['_id'],_0x58a621),!_0x2b7fc0)throw new Error(_0x491a70(0x226));return _0x2b7fc0;}catch(_0x24f583){let _0x15115c=_0x491a70(0x70a),_0x48f481=_0x24f583 instanceof Error?_0x24f583[_0x491a70(0x406)]:typeof _0x24f583==_0x491a70(0x6c9)?JSON[_0x491a70(0x548)](_0x24f583):_0x24f583,_0x5eaf41=_0x15115c+':\x20'+_0x48f481;throw this[_0x491a70(0x2da)]['error'](this[_0x491a70(0x5bf)]+'\x20('+this['instance'][_0x491a70(0x494)]+_0x491a70(0x601)+_0x5eaf41),new m(_0x5eaf41);}}async[a0_0xe54586(0x1dd)](_0x4c3c28){const _0x1e5b01=a0_0xe54586;let _0x2c2ff6=null;try{if(!this[_0x1e5b01(0x665)]?.['flowConfig'][_0x1e5b01(0x25b)])throw new m(_0x1e5b01(0x5b7));this[_0x1e5b01(0x2da)][_0x1e5b01(0x1bb)](this[_0x1e5b01(0x5bf)]+'\x20('+this[_0x1e5b01(0x75a)][_0x1e5b01(0x494)]+_0x1e5b01(0x575));let _0x2e9287=(await this[_0x1e5b01(0x61c)]({'numbers':[_0x4c3c28[_0x1e5b01(0x2f3)]]}))[0x0];if(!_0x2e9287[_0x1e5b01(0x45a)]&&!(0x0,w[_0x1e5b01(0x1b1)])(_0x2e9287[_0x1e5b01(0x106)])&&!_0x2e9287[_0x1e5b01(0x106)][_0x1e5b01(0x1d8)](_0x1e5b01(0x191)))throw _0x2c2ff6=JSON['stringify'](_0x2e9287,null,0x2),new m(_0x2e9287);let _0x3d50d8=await this[_0x1e5b01(0x6af)][_0x1e5b01(0x3f7)]['findOne']({'where':{'name':_0x4c3c28[_0x1e5b01(0x3dc)]}},this[_0x1e5b01(0x75a)][_0x1e5b01(0x494)]);if(!_0x3d50d8)return this[_0x1e5b01(0x2da)][_0x1e5b01(0x418)](this[_0x1e5b01(0x5bf)]+'\x20('+this[_0x1e5b01(0x75a)][_0x1e5b01(0x494)]+_0x1e5b01(0x45c)),{'message':_0x1e5b01(0x264)};let _0x25ac94=await this[_0x1e5b01(0xf2)](_0x3d50d8,_0x2e9287[_0x1e5b01(0x106)],_0x4c3c28['changeVariables']);if(_0x25ac94){this[_0x1e5b01(0x2da)][_0x1e5b01(0x1bb)](this[_0x1e5b01(0x5bf)]+'\x20('+this['instance']['wuid']+_0x1e5b01(0xaf));let _0x184352=await this[_0x1e5b01(0x282)](_0x25ac94);return _0x184352&&await this[_0x1e5b01(0x417)](_0x25ac94,_0x184352),{'message':'Flow\x20iniciado\x20com\x20'+_0x4c3c28['remoteJid']};}}catch(_0x34b487){if(this[_0x1e5b01(0x2da)]['error'](this[_0x1e5b01(0x5bf)]+'\x20('+this[_0x1e5b01(0x75a)][_0x1e5b01(0x494)]+_0x1e5b01(0x29e)+(_0x34b487 instanceof Error?_0x34b487[_0x1e5b01(0x406)]:JSON[_0x1e5b01(0x548)](_0x34b487,null,0x2))),_0x2c2ff6=_0x34b487 instanceof Error?_0x34b487[_0x1e5b01(0x406)]:JSON['stringify'](_0x34b487,null,0x2),_0x2c2ff6)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x2c2ff6);}}async[a0_0xe54586(0x1a2)](_0x374e73,_0x31b8bd,_0x234e97){const _0x2da338=a0_0xe54586;let _0x501e02=null;try{if(!this[_0x2da338(0x665)]?.[_0x2da338(0x55f)][_0x2da338(0x25b)])throw new m(_0x2da338(0x5b7));if(this[_0x2da338(0x2da)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x2da338(0x494)]+_0x2da338(0x575)),_0x31b8bd){let _0x27202c=(await this[_0x2da338(0x61c)]({'numbers':[_0x31b8bd]}))[0x0];if(!_0x27202c[_0x2da338(0x45a)]&&!(0x0,w['isJidGroup'])(_0x27202c[_0x2da338(0x106)])&&!_0x27202c['jid'][_0x2da338(0x1d8)](_0x2da338(0x191)))throw _0x501e02=JSON[_0x2da338(0x548)](_0x27202c,null,0x2),new m(_0x27202c);_0x31b8bd=_0x27202c['jid'];}else _0x31b8bd||(_0x31b8bd=(0x0,Me['v4'])());let _0x4f07cc=await this[_0x2da338(0x6af)][_0x2da338(0x3f7)]['findOne']({'where':{'startID':_0x374e73}},this[_0x2da338(0x75a)][_0x2da338(0x494)]);if(!_0x4f07cc)throw this['logger'][_0x2da338(0x418)](this[_0x2da338(0x5bf)]+'\x20('+this['instance'][_0x2da338(0x494)]+_0x2da338(0x45c)),new m(_0x2da338(0x264));let _0x128516=await this['createConversationforStartFlow'](_0x4f07cc,_0x31b8bd,null);if(_0x128516){this[_0x2da338(0x2da)]['verbose'](this[_0x2da338(0x5bf)]+'\x20('+this[_0x2da338(0x75a)][_0x2da338(0x494)]+'):\x20Criou\x20conversa\x20no\x20startFlowWebhook');let _0x756e0a;if(_0x234e97){let _0x3994b9=_0x128516[_0x2da338(0x6e0)][_0x2da338(0x734)],_0x282b9b=this['flattenObject'](_0x234e97);Object[_0x2da338(0x75d)](_0x3994b9,_0x282b9b),_0x128516[_0x2da338(0x6e0)][_0x2da338(0x734)]=_0x3994b9,_0x756e0a={'error':!0x1,'apiResponse':_0x234e97};}let _0x461515=await this[_0x2da338(0x282)](_0x128516);return _0x461515&&await this['processblock'](_0x128516,_0x461515),{'message':_0x2da338(0x496)};}}catch(_0x14141d){if(this[_0x2da338(0x2da)]['error'](this[_0x2da338(0x5bf)]+'\x20('+this[_0x2da338(0x75a)]['wuid']+_0x2da338(0x29e)+(_0x14141d instanceof Error?_0x14141d[_0x2da338(0x406)]:JSON[_0x2da338(0x548)](_0x14141d,null,0x2))),_0x501e02=_0x14141d instanceof Error?_0x14141d[_0x2da338(0x406)]:JSON[_0x2da338(0x548)](_0x14141d,null,0x2),_0x501e02)throw new m(_0x2da338(0x154)+_0x501e02);}}async[a0_0xe54586(0x1e6)](_0x59f649){const _0x485353=a0_0xe54586;try{let _0x2afbf1={'remoteJid':_0x59f649,'status':_0x485353(0x13d)},_0xc97e7e={'status':'closed'},_0x10d7ee=await this[_0x485353(0x6af)]['flowConversation']['updateMany'](_0x2afbf1,_0xc97e7e,this[_0x485353(0x75a)][_0x485353(0x494)]);return this[_0x485353(0x2da)][_0x485353(0x1bb)](this[_0x485353(0x5bf)]+'\x20('+this['instance'][_0x485353(0x494)]+_0x485353(0x758)),_0x10d7ee;}catch(_0x4233c5){throw this[_0x485353(0x2da)][_0x485353(0x418)](this['instanceName']+'\x20('+this[_0x485353(0x75a)]['wuid']+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x4233c5[_0x485353(0x406)]),_0x4233c5;}}async['createConversationforStartFlow'](_0x562963,_0x573baf,_0x28b486){const _0x45cf07=a0_0xe54586;this[_0x45cf07(0x2da)]['verbose'](this[_0x45cf07(0x5bf)]+'\x20('+this[_0x45cf07(0x75a)][_0x45cf07(0x494)]+_0x45cf07(0x3d6)),await this[_0x45cf07(0x1e6)](_0x573baf);try{let _0x2c66c0=require(_0x45cf07(0x2d2))[_0x45cf07(0x36b)],_0x29e081=Date[_0x45cf07(0x755)](),_0x317f07=_0x45cf07(0x385),_0x30afde={},_0x145e23={},_0x33a3b4={..._0x562963,'chatLog':null},_0x5cb28e=await this[_0x45cf07(0x210)](_0x33a3b4[_0x45cf07(0x7a1)]),_0x323134=await this[_0x45cf07(0x40c)](_0x573baf),_0x2bb278={..._0x5cb28e,..._0x323134,'_remoteJid':_0x573baf},_0x1a04f9={'lastReceivedMessage':_0x30afde,'lastSendMessage':_0x145e23,'lastBlockId':_0x317f07,'lastCondition':!0x0,'realVariables':_0x2bb278};_0x33a3b4[_0x45cf07(0x6e0)]=_0x1a04f9,_0x33a3b4[_0x45cf07(0x6e0)][_0x45cf07(0x734)]={..._0x2bb278,..._0x28b486},delete _0x33a3b4['_id'],_0x33a3b4[_0x45cf07(0x761)]=new _0x2c66c0(),_0x33a3b4[_0x45cf07(0x549)]=_0x29e081,_0x33a3b4[_0x45cf07(0x201)]='open',_0x33a3b4[_0x45cf07(0x2f3)]=_0x573baf;let _0x7b2988=await this[_0x45cf07(0x6af)]['flowConversation'][_0x45cf07(0x1fd)](_0x33a3b4['_id'],_0x33a3b4,this[_0x45cf07(0x75a)]['wuid']);return this[_0x45cf07(0x2da)][_0x45cf07(0x1bb)](this[_0x45cf07(0x5bf)]+'\x20('+this[_0x45cf07(0x75a)][_0x45cf07(0x494)]+_0x45cf07(0x41d)),_0x7b2988?_0x33a3b4:null;}catch(_0x206c9c){let _0x55e67a=_0x45cf07(0x2b2),_0x3494df=_0x206c9c instanceof Error?_0x206c9c[_0x45cf07(0x406)]:typeof _0x206c9c==_0x45cf07(0x6c9)?JSON[_0x45cf07(0x548)](_0x206c9c):_0x206c9c,_0xecedc5=_0x55e67a+':\x20'+_0x3494df;throw this[_0x45cf07(0x2da)]['error'](this[_0x45cf07(0x5bf)]+'\x20('+this[_0x45cf07(0x75a)]['wuid']+_0x45cf07(0x601)+_0xecedc5),new m(_0xecedc5);}}async[a0_0xe54586(0x750)](_0x3fc652){const _0x6c5de8=a0_0xe54586;try{this['logger'][_0x6c5de8(0x1bb)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Buscando\x20conversa...'),this[_0x6c5de8(0x2da)][_0x6c5de8(0x1bb)](this[_0x6c5de8(0x5bf)]+'\x20('+this['instance'][_0x6c5de8(0x494)]+_0x6c5de8(0x690)+_0x3fc652);let _0x5c83ff={'where':{'_id':_0x3fc652}};return await this['repository']['flowConversation']['findOne'](_0x5c83ff,this[_0x6c5de8(0x75a)]['wuid']);}catch(_0x55b7b2){let _0xb5fba1=_0x6c5de8(0x3ba),_0x22962e=_0x55b7b2 instanceof Error?_0x55b7b2[_0x6c5de8(0x406)]:typeof _0x55b7b2==_0x6c5de8(0x6c9)?JSON['stringify'](_0x55b7b2):_0x55b7b2,_0x6b6d61=_0xb5fba1+':\x20'+_0x22962e;throw this[_0x6c5de8(0x2da)][_0x6c5de8(0x418)](this[_0x6c5de8(0x5bf)]+'\x20('+this[_0x6c5de8(0x75a)][_0x6c5de8(0x494)]+_0x6c5de8(0x601)+_0x6b6d61),new m(_0x6b6d61);}}async[a0_0xe54586(0x15e)](_0x5e19f9){const _0x3ce918=a0_0xe54586;try{return this['logger']['verbose'](this[_0x3ce918(0x5bf)]+'\x20('+this[_0x3ce918(0x75a)][_0x3ce918(0x494)]+_0x3ce918(0x79c)),await this[_0x3ce918(0x6af)][_0x3ce918(0x6d3)]['find'](_0x5e19f9,this[_0x3ce918(0x75a)][_0x3ce918(0x494)]);}catch(_0x232238){let _0x453227=_0x3ce918(0x4ef),_0x21de0f=_0x232238 instanceof Error?_0x232238['message']:typeof _0x232238=='object'?JSON[_0x3ce918(0x548)](_0x232238):_0x232238,_0x141680=_0x453227+':\x20'+_0x21de0f;throw this['logger'][_0x3ce918(0x418)](this[_0x3ce918(0x5bf)]+'\x20('+this[_0x3ce918(0x75a)][_0x3ce918(0x494)]+_0x3ce918(0x601)+_0x141680),new m(_0x141680);}}async[a0_0xe54586(0x47f)](_0x42ebba){const _0x2730bf=a0_0xe54586;try{return this['logger'][_0x2730bf(0x1bb)](this[_0x2730bf(0x5bf)]+'\x20('+this['instance'][_0x2730bf(0x494)]+_0x2730bf(0x576)),this['logger']['verbose'](this[_0x2730bf(0x5bf)]+'\x20('+this['instance'][_0x2730bf(0x494)]+_0x2730bf(0x33b)+_0x42ebba),(await this[_0x2730bf(0x6af)][_0x2730bf(0x6d3)][_0x2730bf(0x183)]({'where':{'_id':_0x42ebba[_0x2730bf(0x761)]}},this['instance'][_0x2730bf(0x494)]))[_0x2730bf(0x3d7)]===0x0?{'message':_0x2730bf(0x2d7)}:{'message':_0x2730bf(0x16c)};}catch(_0xddd7cd){let _0x18ea40=_0x2730bf(0x353),_0x49f66c=_0xddd7cd instanceof Error?_0xddd7cd['message']:typeof _0xddd7cd==_0x2730bf(0x6c9)?JSON['stringify'](_0xddd7cd):_0xddd7cd,_0xbfc990=_0x18ea40+':\x20'+_0x49f66c;throw this[_0x2730bf(0x2da)][_0x2730bf(0x418)](this[_0x2730bf(0x5bf)]+'\x20('+this['instance'][_0x2730bf(0x494)]+_0x2730bf(0x601)+_0xbfc990),new m(_0xbfc990);}}async[a0_0xe54586(0x580)](_0x1a6e54){const _0x2575d1=a0_0xe54586;try{let {_id:_0x2a57af,chatLog:_0x59704f,status:_0x1f34fa}=_0x1a6e54;if(!_0x2a57af)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0x14e6ac={};if(_0x1f34fa!==void 0x0&&(_0x14e6ac['status']=_0x1f34fa),Object['keys'](_0x14e6ac)[_0x2575d1(0x767)]===0x0)return{'message':_0x2575d1(0x6b4)};let _0x1f1e11=await this[_0x2575d1(0x6af)][_0x2575d1(0x6d3)][_0x2575d1(0x1fd)](_0x2a57af,_0x14e6ac,this['instance'][_0x2575d1(0x494)]);return _0x1f1e11||{'message':_0x2575d1(0x102)};}catch(_0x1008c8){let _0x5ad540=_0x2575d1(0x79d),_0x48d68d=_0x1008c8 instanceof Error?_0x1008c8[_0x2575d1(0x406)]:typeof _0x1008c8==_0x2575d1(0x6c9)?JSON['stringify'](_0x1008c8):_0x1008c8,_0x3f2b58=_0x5ad540+':\x20'+_0x48d68d;throw this['logger'][_0x2575d1(0x418)](this[_0x2575d1(0x5bf)]+'\x20('+this['instance']['wuid']+_0x2575d1(0x601)+_0x3f2b58),new m(_0x3f2b58);}}async[a0_0xe54586(0x1a3)](_0x41c5e1){const _0x581744=a0_0xe54586;try{_0x41c5e1[_0x581744(0x761)]=this[_0x581744(0x12c)](_0x41c5e1[_0x581744(0x761)]);let _0x1af186=await this[_0x581744(0x6af)][_0x581744(0x556)][_0x581744(0x68c)]({'where':{'_id':_0x41c5e1[_0x581744(0x761)]}},this['instance']['wuid']);if(!_0x1af186)throw new m('Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo');let {_id:_0x40c5c8,leadInfo:_0x27d00e}=_0x41c5e1;if(!_0x40c5c8)throw new Error(_0x581744(0x4fc));if(_0x41c5e1[_0x581744(0x790)]===_0x581744(0x788))return await this[_0x581744(0x19b)](_0x41c5e1[_0x581744(0x761)]),await this[_0x581744(0x6af)]['chat'][_0x581744(0x790)]({'where':{'_id':_0x41c5e1[_0x581744(0x761)]}},this[_0x581744(0x75a)][_0x581744(0x494)]),await this[_0x581744(0x6af)][_0x581744(0x406)][_0x581744(0x790)]({'where':{'key':{'remoteJid':_0x41c5e1[_0x581744(0x761)]}}},this[_0x581744(0x75a)]['wuid']),_0x41c5e1=await this[_0x581744(0x6af)][_0x581744(0x556)][_0x581744(0x1fd)]({'where':{'_id':_0x41c5e1[_0x581744(0x761)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x581744(0x75a)][_0x581744(0x494)]),J(this[_0x581744(0x5bf)],_0x581744(0xc9),{'chat':_0x41c5e1}),{'message':'Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.'};if(_0x41c5e1[_0x581744(0x790)]===_0x581744(0xea))return await this['repository'][_0x581744(0x406)]['delete']({'where':{'key':{'remoteJid':_0x41c5e1[_0x581744(0x761)]}}},this[_0x581744(0x75a)][_0x581744(0x494)]),_0x41c5e1=await this[_0x581744(0x6af)][_0x581744(0x556)][_0x581744(0x1fd)]({'where':{'_id':_0x41c5e1[_0x581744(0x761)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x581744(0x75a)][_0x581744(0x494)]),J(this[_0x581744(0x5bf)],_0x581744(0xc9),{'chat':_0x41c5e1}),{'message':_0x581744(0x1f2)};let _0x265c1e=(_0x231422,_0xe95b12,_0x514204)=>{_0x231422&&_0x514204['forEach'](_0x4e09f2=>{const _0x26e8d1=a0_0x4692;_0x231422[_0x4e09f2]!==void 0x0&&(_0xe95b12[_0x26e8d1(0x655)+_0x4e09f2]=_0x231422[_0x4e09f2]);});},_0x20c7fb={};if(_0x581744(0x181)in _0x41c5e1&&(this['logger'][_0x581744(0x1bb)](this[_0x581744(0x5bf)]+'\x20('+this['instance']['wuid']+_0x581744(0x168)+_0x41c5e1[_0x581744(0x761)]),_0x41c5e1[_0x581744(0x181)]=_0x41c5e1[_0x581744(0x181)]===0x0?null:-0x1,await this['client'][_0x581744(0x3a1)]({'mute':_0x41c5e1['muteEndTime']},_0x41c5e1[_0x581744(0x761)]),_0x20c7fb[_0x581744(0x181)]=Number(_0x41c5e1[_0x581744(0x181)])),_0x27d00e&&(_0x265c1e(_0x27d00e,_0x20c7fb,[_0x581744(0x550),_0x581744(0x4ed),_0x581744(0x311),_0x581744(0x2dc),_0x581744(0x201),_0x581744(0x579),_0x581744(0x45e),_0x581744(0x2dd),_0x581744(0x6f0),'etiquetas']),Array[_0x581744(0x404)](_0x27d00e[_0x581744(0xcc)])&&(_0x20c7fb['leadInfo.customFields']=_0x27d00e[_0x581744(0xcc)][_0x581744(0x588)](_0x28cf87=>({'_id':_0x28cf87[_0x581744(0x761)],'value':_0x28cf87[_0x581744(0x306)]}))),_0x41c5e1['leadInfo'][_0x581744(0x33c)]!==void 0x0)){let _0x255aa6=await this[_0x581744(0x6af)]['label']['find']({'where':{}},this['instance'][_0x581744(0x494)]),_0x481d24=new Set(_0x41c5e1['leadInfo'][_0x581744(0x33c)]||[]),_0x3ee5c1=new Set(_0x41c5e1['leadInfo'][_0x581744(0x33c)]),_0x53d56f=new Set(_0x255aa6['map'](_0x1d708a=>_0x1d708a[_0x581744(0x761)])),_0xc91c2f=[..._0x3ee5c1]['filter'](_0x2c9fda=>!_0x481d24[_0x581744(0x3af)](_0x2c9fda)&&_0x53d56f[_0x581744(0x3af)](_0x2c9fda)),_0xfdb9aa=[..._0x481d24][_0x581744(0x5b0)](_0x5c3245=>!_0x3ee5c1[_0x581744(0x3af)](_0x5c3245));if(_0x20c7fb['leadInfo.etiquetas']=[..._0x481d24],_0x1af186&&!_0x1af186[_0x581744(0x65d)]){for(let _0x220fca of _0xc91c2f)await this[_0x581744(0x498)](_0x220fca,_0x41c5e1[_0x581744(0x761)]),_0x481d24[_0x581744(0x3fd)](_0x220fca);for(let _0x536e7e of _0xfdb9aa)await this[_0x581744(0x583)](_0x536e7e,_0x41c5e1['_id']),_0x481d24[_0x581744(0x790)](_0x536e7e);}}if(_0x41c5e1[_0x581744(0x787)]!==void 0x0&&(_0x20c7fb['unreadcount']=Number(_0x41c5e1['unreadcount'])),Object[_0x581744(0x25d)](_0x20c7fb)[_0x581744(0x767)]===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0x1cd0f8=await this[_0x581744(0x6af)][_0x581744(0x556)][_0x581744(0x1fd)]({'where':{'_id':_0x41c5e1[_0x581744(0x761)]}},_0x20c7fb,this[_0x581744(0x75a)][_0x581744(0x494)]);return _0x1cd0f8&&J(this[_0x581744(0x5bf)],_0x581744(0xc9),{'chat':_0x1cd0f8}),_0x1cd0f8?(this[_0x581744(0x2da)][_0x581744(0x1bb)](this[_0x581744(0x5bf)]+'\x20('+this[_0x581744(0x75a)][_0x581744(0x494)]+_0x581744(0x601)+JSON[_0x581744(0x548)](_0x1cd0f8,null,0x2)),_0x1cd0f8):{'message':_0x581744(0x542)};}catch(_0x47bf6d){let _0x13987c=_0x581744(0x436),_0x25b137=_0x47bf6d instanceof Error?_0x47bf6d[_0x581744(0x406)]:typeof _0x47bf6d==_0x581744(0x6c9)?JSON['stringify'](_0x47bf6d):_0x47bf6d,_0x1a6544=_0x13987c+':\x20'+_0x25b137;throw this[_0x581744(0x2da)][_0x581744(0x418)](this[_0x581744(0x5bf)]+'\x20('+this[_0x581744(0x75a)][_0x581744(0x494)]+_0x581744(0x601)+_0x1a6544),new m(_0x1a6544);}}async[a0_0xe54586(0x498)](_0x17748b,_0x4a3b8e){const _0x43ba3a=a0_0xe54586;try{await this['client'][_0x43ba3a(0x4ba)](_0x4a3b8e,_0x17748b),this[_0x43ba3a(0x2da)][_0x43ba3a(0x6e5)](this[_0x43ba3a(0x5bf)]+'\x20('+this[_0x43ba3a(0x75a)]['wuid']+_0x43ba3a(0xb8)+_0x17748b+_0x43ba3a(0x514)+_0x4a3b8e+'\x20com\x20sucesso.');}catch(_0x4a700d){console[_0x43ba3a(0x418)](_0x43ba3a(0x61a)+_0x17748b+_0x43ba3a(0x6b8)+_0x4a3b8e+':',_0x4a700d);}}async[a0_0xe54586(0x583)](_0x36f222,_0x12bb07){const _0x38950d=a0_0xe54586;try{await this[_0x38950d(0x42c)][_0x38950d(0x2db)](_0x12bb07,_0x36f222),this[_0x38950d(0x2da)]['info'](this[_0x38950d(0x5bf)]+'\x20('+this[_0x38950d(0x75a)][_0x38950d(0x494)]+_0x38950d(0xb8)+_0x36f222+'\x20removido\x20do\x20chat\x20'+_0x12bb07+_0x38950d(0x369));}catch(_0x454411){console[_0x38950d(0x418)](_0x38950d(0x170)+_0x36f222+_0x38950d(0x376)+_0x12bb07+':',_0x454411);}}async[a0_0xe54586(0x31a)](_0xd4b72b){const _0x238775=a0_0xe54586;try{let _0x1a730f=await this[_0x238775(0x6af)][_0x238775(0x299)][_0x238775(0x5e2)](this[_0x238775(0x75a)][_0x238775(0x494)]),_0x473d4d=_0xd4b72b[_0x238775(0x761)]?_0x1a730f['agents']['findIndex'](_0xc61eed=>_0xc61eed[_0x238775(0x761)]===_0xd4b72b[_0x238775(0x761)]):-0x1;if(_0xd4b72b['delete']&&_0x473d4d>-0x1)_0x1a730f['agents'][_0x238775(0x394)](_0x473d4d,0x1);else{if(_0x473d4d>-0x1){let _0x10d31f=_0x1a730f[_0x238775(0x6aa)][_0x473d4d];_0xd4b72b['fone']&&(_0x10d31f['fone']=_0xd4b72b[_0x238775(0x2e2)]),_0xd4b72b['name']&&(_0x10d31f[_0x238775(0x3dc)]=_0xd4b72b[_0x238775(0x3dc)]),_0xd4b72b[_0x238775(0x311)]&&(_0x10d31f[_0x238775(0x311)]=_0xd4b72b[_0x238775(0x311)]),_0xd4b72b['role']&&(_0x10d31f[_0x238775(0xb0)]=_0xd4b72b[_0x238775(0xb0)]);}else _0x1a730f[_0x238775(0x6aa)][_0x238775(0x2d6)]({'_id':_0xd4b72b[_0x238775(0x761)]||new oe[(_0x238775(0x2f8))][(_0x238775(0x5e5))][(_0x238775(0x36b))]()[_0x238775(0x27f)](),'fone':_0xd4b72b['fone'],'name':_0xd4b72b[_0x238775(0x3dc)],'email':_0xd4b72b[_0x238775(0x311)],'role':_0xd4b72b[_0x238775(0xb0)]});}let _0xa90e9c={'agents':_0x1a730f[_0x238775(0x6aa)]},_0x3b2391=await this['repository'][_0x238775(0x299)][_0x238775(0x2e3)](_0xa90e9c,this['instance'][_0x238775(0x494)]);return this[_0x238775(0x665)]=_0x3b2391,this['logger']['verbose'](this[_0x238775(0x5bf)]+'\x20('+this['instance'][_0x238775(0x494)]+_0x238775(0x4d9)),this[_0x238775(0x2da)]['verbose'](this[_0x238775(0x5bf)]+'\x20('+this[_0x238775(0x75a)][_0x238775(0x494)]+_0x238775(0x601)+this[_0x238775(0x665)]),_0x3b2391;}catch(_0xd27fa6){let _0x525c0b=_0x238775(0xc3),_0x504f66=_0xd27fa6 instanceof Error?_0xd27fa6[_0x238775(0x406)]:typeof _0xd27fa6==_0x238775(0x6c9)?JSON[_0x238775(0x548)](_0xd27fa6):_0xd27fa6,_0x29ffb8=_0x525c0b+':\x20'+_0x504f66;throw this[_0x238775(0x2da)]['error'](this[_0x238775(0x5bf)]+'\x20('+this[_0x238775(0x75a)][_0x238775(0x494)]+_0x238775(0x601)+_0x29ffb8),new m(_0x29ffb8);}}async[a0_0xe54586(0x5c7)](_0x4e244f){const _0x140693=a0_0xe54586;try{let _0x3e94f5=await this[_0x140693(0x6af)][_0x140693(0x299)]['findOrCreate'](this[_0x140693(0x75a)][_0x140693(0x494)]),_0x2a7d44=_0x4e244f[_0x140693(0x761)]?_0x3e94f5[_0x140693(0xcc)][_0x140693(0x5fc)](_0xb95bb4=>_0xb95bb4[_0x140693(0x761)]===_0x4e244f[_0x140693(0x761)]):-0x1,_0x3788cd=!0x1,_0x53dfee=_0x3e94f5['customFields']['some'](_0x5e4198=>_0x5e4198[_0x140693(0x1bf)]===_0x4e244f['order']);if(_0x4e244f['delete']&&_0x2a7d44>-0x1)_0x3e94f5['customFields'][_0x140693(0x394)](_0x2a7d44,0x1),_0x3788cd=!0x0;else{if(_0x2a7d44>-0x1){if(_0x3e94f5[_0x140693(0xcc)]['some'](_0x208f88=>_0x208f88[_0x140693(0x3dc)]===_0x4e244f[_0x140693(0x3dc)]&&_0x208f88[_0x140693(0x761)]!==_0x4e244f[_0x140693(0x761)]))throw new Error(_0x140693(0x22d));let _0x3cf0bb=_0x3e94f5['customFields'][_0x2a7d44];_0x4e244f['order']&&(_0x53dfee||!Number[_0x140693(0x25c)](_0x4e244f[_0x140693(0x1bf)]))&&(_0x3cf0bb[_0x140693(0x1bf)]=_0x4e244f[_0x140693(0x1bf)],_0x3788cd=!0x0),_0x4e244f['name']&&(_0x3cf0bb['name']=_0x4e244f['name']);}else{if(_0x3e94f5[_0x140693(0xcc)][_0x140693(0x4f9)](_0x25546c=>_0x25546c[_0x140693(0x3dc)]===_0x4e244f[_0x140693(0x3dc)]&&_0x25546c[_0x140693(0x761)]!==_0x4e244f['_id']))throw new Error(_0x140693(0x22d));_0x3e94f5['customFields'][_0x140693(0x2d6)]({'_id':_0x4e244f[_0x140693(0x761)]||new oe['default']['Types'][(_0x140693(0x36b))]()[_0x140693(0x27f)](),'order':_0x4e244f[_0x140693(0x1bf)],'name':_0x4e244f[_0x140693(0x3dc)]}),_0x3788cd=!0x0;}}if(_0x3788cd){_0x3e94f5[_0x140693(0xcc)][_0x140693(0x489)]((_0x1b2932,_0x362ee1)=>_0x1b2932[_0x140693(0x1bf)]>_0x362ee1[_0x140693(0x1bf)]?0x1:_0x362ee1[_0x140693(0x1bf)]>_0x1b2932[_0x140693(0x1bf)]?-0x1:0x0);for(let _0x6d1252=0x0;_0x6d1252<_0x3e94f5['customFields'][_0x140693(0x767)];_0x6d1252++)_0x3e94f5[_0x140693(0xcc)][_0x6d1252][_0x140693(0x1bf)]=_0x6d1252+0x1;}let _0xa95b58=await this[_0x140693(0x6af)]['automateSystem'][_0x140693(0x2e3)](_0x3e94f5,this[_0x140693(0x75a)]['wuid']);return this[_0x140693(0x665)]=_0xa95b58,this['logger'][_0x140693(0x1bb)](this[_0x140693(0x5bf)]+'\x20('+this[_0x140693(0x75a)]['wuid']+_0x140693(0x431)),this['logger'][_0x140693(0x1bb)](this[_0x140693(0x5bf)]+'\x20('+this['instance'][_0x140693(0x494)]+_0x140693(0x601)+this['AutomateSystem']),_0xa95b58;}catch(_0x2e57b2){let _0x4a39e1='Erro\x20ao\x20tentar\x20updateCustomFields',_0x4d7ab0=_0x2e57b2 instanceof Error?_0x2e57b2[_0x140693(0x406)]:typeof _0x2e57b2=='object'?JSON[_0x140693(0x548)](_0x2e57b2):_0x2e57b2,_0x486247=_0x4a39e1+':\x20'+_0x4d7ab0;throw this[_0x140693(0x2da)]['error'](this['instanceName']+'\x20('+this[_0x140693(0x75a)]['wuid']+'):\x20'+_0x486247),new m(_0x486247);}}async[a0_0xe54586(0x6f1)](_0x534bff){const _0x5ea5f6=a0_0xe54586;try{let _0x37c52e=await this['repository'][_0x5ea5f6(0x299)][_0x5ea5f6(0x5e2)](this['instance'][_0x5ea5f6(0x494)]),_0x9bd567=_0x37c52e?.[_0x5ea5f6(0x20f)]?.[_0x5ea5f6(0x5fc)](_0x56d05f=>_0x56d05f[_0x5ea5f6(0x761)]===_0x534bff?.[_0x5ea5f6(0x761)]);if(_0x534bff?.[_0x5ea5f6(0x790)])_0x9bd567>-0x1&&_0x37c52e?.[_0x5ea5f6(0x20f)]?.[_0x5ea5f6(0x394)](_0x9bd567,0x1);else{if(_0x9bd567>-0x1){let _0x281b95=_0x37c52e[_0x5ea5f6(0x20f)][_0x9bd567];_0x281b95[_0x5ea5f6(0x1bf)]=_0x534bff?.[_0x5ea5f6(0x1bf)]||_0x281b95['order'],_0x281b95['command']=_0x534bff?.[_0x5ea5f6(0x4e9)]||_0x281b95[_0x5ea5f6(0x4e9)],_0x281b95['message']=_0x534bff?.[_0x5ea5f6(0x406)]||_0x281b95[_0x5ea5f6(0x406)];}else{let _0x23c5d1={'_id':_0x534bff?.[_0x5ea5f6(0x761)]||new oe[(_0x5ea5f6(0x2f8))][(_0x5ea5f6(0x5e5))][(_0x5ea5f6(0x36b))]()[_0x5ea5f6(0x27f)](),'order':_0x534bff?.[_0x5ea5f6(0x1bf)],'command':_0x534bff?.['command'],'message':_0x534bff?.[_0x5ea5f6(0x406)]};_0x37c52e?.[_0x5ea5f6(0x20f)]?.[_0x5ea5f6(0x2d6)](_0x23c5d1);}}_0x37c52e?.[_0x5ea5f6(0x20f)]?.[_0x5ea5f6(0x489)]((_0x4314a2,_0xa4e937)=>_0x4314a2[_0x5ea5f6(0x1bf)]-_0xa4e937[_0x5ea5f6(0x1bf)]);let _0x40cf8a=await this[_0x5ea5f6(0x6af)]['automateSystem'][_0x5ea5f6(0x2e3)](_0x37c52e,this['instance'][_0x5ea5f6(0x494)]);return this[_0x5ea5f6(0x665)]=_0x40cf8a,this[_0x5ea5f6(0x2da)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x5ea5f6(0x494)]+_0x5ea5f6(0x431)),_0x40cf8a;}catch(_0x3bec98){let _0x1b597a=_0x5ea5f6(0x270),_0xbfbedf=_0x3bec98 instanceof Error?_0x3bec98['message']:typeof _0x3bec98==_0x5ea5f6(0x6c9)?JSON[_0x5ea5f6(0x548)](_0x3bec98):_0x3bec98,_0x1deef4=_0x1b597a+':\x20'+_0xbfbedf;throw this[_0x5ea5f6(0x2da)][_0x5ea5f6(0x418)](this['instanceName']+'\x20('+this['instance'][_0x5ea5f6(0x494)]+_0x5ea5f6(0x601)+_0x1deef4),new m(_0x1deef4);}}async[a0_0xe54586(0x5bb)](_0x53f0e1){const _0x2a8c2b=a0_0xe54586;try{let _0x1a0783=await this[_0x2a8c2b(0x6af)][_0x2a8c2b(0x299)][_0x2a8c2b(0x5e2)](this[_0x2a8c2b(0x75a)][_0x2a8c2b(0x494)]);if(!_0x1a0783)throw new Error(_0x2a8c2b(0x2a5));let _0x4406a8={'_id':_0x1a0783[_0x2a8c2b(0x761)],'flowConfig':{'enabled':_0x53f0e1[_0x2a8c2b(0x25b)]??_0x1a0783['flowConfig']['enabled'],'ignoreGroups':_0x53f0e1[_0x2a8c2b(0x54d)]??_0x1a0783[_0x2a8c2b(0x55f)][_0x2a8c2b(0x54d)],'prefixCommand':_0x53f0e1[_0x2a8c2b(0x51a)]??_0x1a0783['flowConfig'][_0x2a8c2b(0x51a)],'stopConversation':_0x53f0e1[_0x2a8c2b(0x248)]??_0x1a0783[_0x2a8c2b(0x55f)][_0x2a8c2b(0x248)],'stopMinutes':_0x53f0e1[_0x2a8c2b(0x3b8)]??_0x1a0783[_0x2a8c2b(0x55f)][_0x2a8c2b(0x3b8)],'stopWhenYouSendMsg':_0x53f0e1[_0x2a8c2b(0xe0)]??_0x1a0783[_0x2a8c2b(0x55f)][_0x2a8c2b(0xe0)]}},_0x55d10c=await this[_0x2a8c2b(0x6af)]['automateSystem']['update'](_0x4406a8,this[_0x2a8c2b(0x75a)][_0x2a8c2b(0x494)]);return this[_0x2a8c2b(0x665)]=_0x55d10c,this[_0x2a8c2b(0x2da)][_0x2a8c2b(0x1bb)](this[_0x2a8c2b(0x5bf)]+'\x20('+this['instance'][_0x2a8c2b(0x494)]+_0x2a8c2b(0x4d9)),this[_0x2a8c2b(0x2da)][_0x2a8c2b(0x1bb)](this['instanceName']+'\x20('+this[_0x2a8c2b(0x75a)][_0x2a8c2b(0x494)]+_0x2a8c2b(0x601)+this['AutomateSystem']),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x55d10c;}catch(_0x4ee35a){let _0x56cfe4=_0x2a8c2b(0x2cc),_0xb0fb2e=_0x4ee35a instanceof Error?_0x4ee35a[_0x2a8c2b(0x406)]:typeof _0x4ee35a==_0x2a8c2b(0x6c9)?JSON[_0x2a8c2b(0x548)](_0x4ee35a):_0x4ee35a,_0x3cb05c=_0x56cfe4+':\x20'+_0xb0fb2e;throw this['logger'][_0x2a8c2b(0x418)](this[_0x2a8c2b(0x5bf)]+'\x20('+this[_0x2a8c2b(0x75a)]['wuid']+_0x2a8c2b(0x601)+_0x3cb05c),new m(_0x3cb05c);}}async['getAutomateSystem'](){const _0x466ebd=a0_0xe54586;try{let _0x5e53ec=await this[_0x466ebd(0x6af)][_0x466ebd(0x299)][_0x466ebd(0x5e2)](this[_0x466ebd(0x75a)]['wuid']);return this[_0x466ebd(0x665)]=_0x5e53ec,this['logger'][_0x466ebd(0x1bb)](this[_0x466ebd(0x5bf)]+'\x20('+this[_0x466ebd(0x75a)][_0x466ebd(0x494)]+'):\x20Visualizando\x20AutomateSystem'),this[_0x466ebd(0x2da)]['verbose'](this[_0x466ebd(0x665)]),_0x5e53ec;}catch(_0x223717){let _0x4b847e='Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem',_0x5ea758=_0x223717 instanceof Error?_0x223717['message']:typeof _0x223717==_0x466ebd(0x6c9)?JSON[_0x466ebd(0x548)](_0x223717):_0x223717,_0x35176a=_0x4b847e+':\x20'+_0x5ea758;throw this[_0x466ebd(0x2da)][_0x466ebd(0x418)](this[_0x466ebd(0x5bf)]+'\x20('+this[_0x466ebd(0x75a)][_0x466ebd(0x494)]+_0x466ebd(0x601)+_0x35176a),new m(_0x35176a);}}async[a0_0xe54586(0x5af)](){const _0x32cac1=a0_0xe54586;this[_0x32cac1(0x75a)][_0x32cac1(0x2f9)][_0x32cac1(0x512)]&&clearTimeout(this['instance'][_0x32cac1(0x2f9)][_0x32cac1(0x512)]),this[_0x32cac1(0x75a)]['ScheduleMessage'][_0x32cac1(0x512)]=setTimeout(()=>{const _0x369bf7=_0x32cac1;this[_0x369bf7(0x6c1)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0xe54586(0x6c1)](){const _0x1e3876=a0_0xe54586;Date[_0x1e3876(0x755)]()-this[_0x1e3876(0x75a)][_0x1e3876(0x2f9)][_0x1e3876(0x386)]>=0x1d4c0&&(this[_0x1e3876(0x2da)]['verbose'](this[_0x1e3876(0x5bf)]+'\x20('+this['instance'][_0x1e3876(0x494)]+_0x1e3876(0x17c)),this[_0x1e3876(0x75a)][_0x1e3876(0x2f9)][_0x1e3876(0x21e)]=null,this['instance'][_0x1e3876(0x2f9)]['lastSend']=0x0,this['instance'][_0x1e3876(0x2f9)][_0x1e3876(0x2cb)]=0x0,await this[_0x1e3876(0x766)]());}async[a0_0xe54586(0x766)](){const _0x7b8cec=a0_0xe54586;let _0x5448fa=()=>{const _0x58c767=a0_0x4692;this[_0x58c767(0x2da)][_0x58c767(0x1bb)](this[_0x58c767(0x5bf)]+'\x20('+this[_0x58c767(0x75a)][_0x58c767(0x494)]+_0x58c767(0x571)+this['instance'][_0x58c767(0x2f9)][_0x58c767(0x21e)]+'\x20saindo\x20da\x20função');},_0x3b37ef=async()=>{const _0x413faf=a0_0x4692;this[_0x413faf(0x2da)][_0x413faf(0x1bb)](this[_0x413faf(0x5bf)]+'\x20('+this['instance'][_0x413faf(0x494)]+_0x413faf(0x2a0));let _0x43cd71=Date[_0x413faf(0x755)]()-0xc*0x3c*0x3c*0x3e8,_0x18daf9={'where':{'status':{'$in':[_0x413faf(0x74d),_0x413faf(0x184)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x43cd71}},{'when':0x0}]}};return await this[_0x413faf(0x6af)][_0x413faf(0x675)]['find'](_0x18daf9,this['instance'][_0x413faf(0x494)]);},_0x6f7694=async _0x32a48d=>{const _0x43bbdf=a0_0x4692;for(let _0x5c17d5 of _0x32a48d){let _0x4c766e={'_id':_0x5c17d5[_0x43bbdf(0x761)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-0x1770}}]},_0x5ccc42={'startSend':Date[_0x43bbdf(0x755)]()};if(!await this[_0x43bbdf(0x6af)][_0x43bbdf(0x675)][_0x43bbdf(0x1fd)](_0x4c766e,_0x5ccc42,this[_0x43bbdf(0x75a)][_0x43bbdf(0x494)]))return;if(!this[_0x43bbdf(0x75a)][_0x43bbdf(0x2f9)][_0x43bbdf(0x1d2)]){this[_0x43bbdf(0x2da)][_0x43bbdf(0x1bb)](this[_0x43bbdf(0x5bf)]+'\x20('+this[_0x43bbdf(0x75a)][_0x43bbdf(0x494)]+_0x43bbdf(0x67f));break;}if(_0x5c17d5[_0x43bbdf(0x772)]===_0x43bbdf(0x3f7)&&!this[_0x43bbdf(0x665)]?.[_0x43bbdf(0x55f)][_0x43bbdf(0x25b)]){this[_0x43bbdf(0x2da)][_0x43bbdf(0x418)](this['instanceName']+'\x20('+this[_0x43bbdf(0x75a)][_0x43bbdf(0x494)]+_0x43bbdf(0xa7));continue;}(!_0x5c17d5['remoteJidsRemaining']||_0x5c17d5[_0x43bbdf(0x5fd)]['length']===0x0)&&(_0x5c17d5=await this['repository']['scheduleMessage'][_0x43bbdf(0x3c4)](_0x5c17d5['_id'],{'status':'sending','remoteJidsRemaining':[..._0x5c17d5[_0x43bbdf(0x6e2)]]},this[_0x43bbdf(0x75a)]['wuid']));for(let _0x5726f2 of _0x5c17d5[_0x43bbdf(0x5fd)]){if(await this[_0x43bbdf(0x5af)](),this[_0x43bbdf(0x75a)][_0x43bbdf(0x2f9)][_0x43bbdf(0x386)]=Date[_0x43bbdf(0x755)](),this[_0x43bbdf(0x75a)][_0x43bbdf(0x2f9)]['ultimaTentativaRemoteJid']===_0x5726f2){this[_0x43bbdf(0x2da)][_0x43bbdf(0x418)](this[_0x43bbdf(0x5bf)]+'\x20('+this[_0x43bbdf(0x75a)][_0x43bbdf(0x494)]+_0x43bbdf(0x198)+_0x5726f2+_0x43bbdf(0x9f));let _0x15ef54={'$push':{'messagesSend':{'remoteJid':_0x5726f2,'error':!0x0,'id':null,'error_log':_0x43bbdf(0x762),'log_timestamp':Date['now']()}},'$pull':{'remoteJidsRemaining':_0x5726f2}};await this[_0x43bbdf(0x6af)][_0x43bbdf(0x675)][_0x43bbdf(0x3c4)](_0x5c17d5[_0x43bbdf(0x761)],_0x15ef54,this['instance'][_0x43bbdf(0x494)]);continue;}if(this[_0x43bbdf(0x75a)][_0x43bbdf(0x2f9)]['ultimaTentativaRemoteJid']=_0x5726f2,_0x5c17d5[_0x43bbdf(0x713)][_0x43bbdf(0x4f9)](_0x531df2=>_0x531df2[_0x43bbdf(0x2f3)]===_0x5726f2)){this[_0x43bbdf(0x2da)][_0x43bbdf(0x1bb)](this[_0x43bbdf(0x5bf)]+'\x20('+this[_0x43bbdf(0x75a)][_0x43bbdf(0x494)]+_0x43bbdf(0x200)+_0x5726f2+_0x43bbdf(0x760));continue;}if(!this['instance'][_0x43bbdf(0x2f9)][_0x43bbdf(0x1d2)]){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x43bbdf(0x75a)][_0x43bbdf(0x494)]+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this[_0x43bbdf(0x75a)]['ScheduleMessage'][_0x43bbdf(0x21e)]){this[_0x43bbdf(0x2da)]['verbose'](this[_0x43bbdf(0x5bf)]+'\x20('+this[_0x43bbdf(0x75a)]['wuid']+_0x43bbdf(0x739)+_0x5c17d5[_0x43bbdf(0x761)]+_0x43bbdf(0x205));break;}if(_0x5c17d5[_0x43bbdf(0x772)]==='flow'&&!this[_0x43bbdf(0x665)]?.[_0x43bbdf(0x55f)][_0x43bbdf(0x25b)]){this[_0x43bbdf(0x2da)][_0x43bbdf(0x418)](this[_0x43bbdf(0x5bf)]+'\x20('+this[_0x43bbdf(0x75a)][_0x43bbdf(0x494)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');break;}let _0x1cd95f={'remoteJid':_0x5726f2,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x43bbdf(0x755)]()},_0x589d6c=null;try{let _0x216327=await this['SendScheduleMessage'](_0x5726f2,_0x5c17d5);_0x1cd95f[_0x43bbdf(0x418)]=_0x216327[_0x43bbdf(0x418)],_0x1cd95f['id']=_0x216327['error']?null:_0x216327['id'],_0x1cd95f[_0x43bbdf(0x240)]=_0x216327[_0x43bbdf(0x418)]?_0x216327['detail']?_0x216327[_0x43bbdf(0x337)][_0x43bbdf(0x27f)]():'':null;let _0x1771f7={'$push':{'messagesSend':_0x1cd95f},'$pull':{'remoteJidsRemaining':_0x5726f2}},_0x1da7e2=_0x5c17d5[_0x43bbdf(0x761)];if(_0x589d6c=await this[_0x43bbdf(0x6af)][_0x43bbdf(0x675)]['updateOneById'](_0x1da7e2,_0x1771f7,this[_0x43bbdf(0x75a)][_0x43bbdf(0x494)]),_0x216327[_0x43bbdf(0x418)])continue;let _0x254bc0=this[_0x43bbdf(0x1c3)](_0x5c17d5[_0x43bbdf(0x343)],_0x5c17d5[_0x43bbdf(0x37f)]);await this[_0x43bbdf(0x178)](_0x254bc0);}catch(_0x7925a){this[_0x43bbdf(0x2da)][_0x43bbdf(0x418)](this['instanceName']+'\x20('+this[_0x43bbdf(0x75a)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20'+_0x5726f2+':\x20'+(_0x7925a instanceof Error?_0x7925a['message']:JSON[_0x43bbdf(0x548)](_0x7925a,null,0x2))),_0x1cd95f['error']=!0x0,_0x1cd95f[_0x43bbdf(0x240)]=_0x7925a[_0x43bbdf(0x406)];let _0x271049={'$push':{'messagesSend':_0x1cd95f},'$pull':{'remoteJidsRemaining':_0x5726f2}},_0x570b7a=_0x5c17d5[_0x43bbdf(0x761)];_0x589d6c=await this[_0x43bbdf(0x6af)][_0x43bbdf(0x675)]['updateOneById'](_0x570b7a,_0x271049,this['instance']['wuid']);}finally{if(_0x589d6c&&_0x589d6c[_0x43bbdf(0x201)]===_0x43bbdf(0x28a)){this['logger'][_0x43bbdf(0x1bb)](this[_0x43bbdf(0x5bf)]+'\x20('+this[_0x43bbdf(0x75a)]['wuid']+_0x43bbdf(0x739)+_0x5c17d5['_id']+_0x43bbdf(0x278));break;}}}let _0x3350a4=await this[_0x43bbdf(0x6af)][_0x43bbdf(0x675)][_0x43bbdf(0x46a)](_0x5c17d5[_0x43bbdf(0x761)],this[_0x43bbdf(0x75a)]['wuid']);if(_0x3350a4[_0x43bbdf(0x5fd)][_0x43bbdf(0x767)]===0x0&&_0x3350a4[_0x43bbdf(0x201)]!==_0x43bbdf(0x28a)){this['instance'][_0x43bbdf(0x2f9)][_0x43bbdf(0x530)]=null;let _0xf5cc72={'$set':{'status':_0x43bbdf(0x1f6)}},_0x3cb827=_0x3350a4[_0x43bbdf(0x761)];await this['repository'][_0x43bbdf(0x675)][_0x43bbdf(0x3c4)](_0x3cb827,_0xf5cc72,this[_0x43bbdf(0x75a)][_0x43bbdf(0x494)]);}await new Promise(_0x4e1f5d=>setTimeout(_0x4e1f5d,0x1388));}},_0x45053f=async()=>{const _0x33c201=a0_0x4692;let _0x1e2b54={'where':{'status':'scheduled','when':{'$gt':Date['now']()}}},_0x1272e6=await this[_0x33c201(0x6af)][_0x33c201(0x675)][_0x33c201(0x68c)](_0x1e2b54,this[_0x33c201(0x75a)][_0x33c201(0x494)]);_0x1272e6&&_0x1272e6[_0x33c201(0x6b0)]-Date[_0x33c201(0x755)]()<=0x5265c00?this[_0x33c201(0x75a)][_0x33c201(0x2f9)][_0x33c201(0x2cb)]=_0x1272e6[_0x33c201(0x6b0)]-Date[_0x33c201(0x755)]():this[_0x33c201(0x75a)][_0x33c201(0x2f9)][_0x33c201(0x2cb)]=(0x3c+Math[_0x33c201(0x76a)](Math[_0x33c201(0x6f2)]()*0x3c))*0x3c*0x3e8,this[_0x33c201(0x75a)][_0x33c201(0x2f9)][_0x33c201(0x2cb)]=Math[_0x33c201(0x6ad)](this[_0x33c201(0x75a)]['ScheduleMessage'][_0x33c201(0x2cb)],0x7d0);let _0x1da986=Math[_0x33c201(0x74c)](this['instance'][_0x33c201(0x2f9)][_0x33c201(0x2cb)]/0xea60);if(_0x1272e6){let _0x11a6b3=new Date(_0x1272e6[_0x33c201(0x6b0)])['toLocaleString']();this[_0x33c201(0x2da)]['verbose'](this[_0x33c201(0x5bf)]+'\x20('+this[_0x33c201(0x75a)][_0x33c201(0x494)]+_0x33c201(0x30e)+_0x11a6b3+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x1da986+'\x20minutos');}else this[_0x33c201(0x2da)][_0x33c201(0x1bb)](this[_0x33c201(0x5bf)]+'\x20('+this[_0x33c201(0x75a)][_0x33c201(0x494)]+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x1da986+'\x20minutos');setTimeout(()=>this['scheduleNextCheck'](),this[_0x33c201(0x75a)][_0x33c201(0x2f9)][_0x33c201(0x2cb)]);};if(this[_0x7b8cec(0x75a)][_0x7b8cec(0x2f9)]['processing_id']){await this['setRestartTimeout'](),_0x5448fa();return;}if(!this[_0x7b8cec(0x75a)][_0x7b8cec(0x2f9)][_0x7b8cec(0x1d2)]){this['logger'][_0x7b8cec(0x1bb)](this[_0x7b8cec(0x5bf)]+'\x20('+this[_0x7b8cec(0x75a)][_0x7b8cec(0x494)]+'):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado'),this[_0x7b8cec(0x75a)]['ScheduleMessage'][_0x7b8cec(0x21e)]=null,this[_0x7b8cec(0x75a)][_0x7b8cec(0x2f9)][_0x7b8cec(0x386)]=0x0,this[_0x7b8cec(0x75a)][_0x7b8cec(0x2f9)][_0x7b8cec(0x2cb)]=0x0,this[_0x7b8cec(0x75a)][_0x7b8cec(0x2f9)]['ultimaTentativaRemoteJid']=null;return;}try{let _0x232c4e=await _0x3b37ef();_0x232c4e[_0x7b8cec(0x767)]===0x0?this[_0x7b8cec(0x2da)][_0x7b8cec(0x1bb)](this[_0x7b8cec(0x5bf)]+'\x20('+this[_0x7b8cec(0x75a)][_0x7b8cec(0x494)]+_0x7b8cec(0xa8)):(this[_0x7b8cec(0x75a)]['ScheduleMessage']['processing_id']=_0x232c4e[0x0][_0x7b8cec(0x761)],await _0x6f7694(_0x232c4e)),await _0x45053f(),this[_0x7b8cec(0x75a)][_0x7b8cec(0x2f9)][_0x7b8cec(0x21e)]=null,this[_0x7b8cec(0x75a)][_0x7b8cec(0x2f9)]['ultimaTentativaRemoteJid']=null;}catch(_0x3813bf){this[_0x7b8cec(0x2da)][_0x7b8cec(0x418)]('Error\x20in\x20scheduleNextCheck:\x20'+(_0x3813bf instanceof Error?_0x3813bf[_0x7b8cec(0x406)]:JSON[_0x7b8cec(0x548)](_0x3813bf,null,0x2)));}}[a0_0xe54586(0x1c3)](_0x2c1b8c,_0x261be1){const _0xd2eca9=a0_0xe54586;return _0x2c1b8c=Math[_0xd2eca9(0x6ad)](0.5,_0x2c1b8c),_0x261be1=Math[_0xd2eca9(0x29f)](Math['max'](0x3,_0x261be1),0x78),Math[_0xd2eca9(0x76a)](Math['random']()*(_0x261be1-_0x2c1b8c+0x1)+_0x2c1b8c)*0x3e8;}[a0_0xe54586(0x178)](_0x3cd9a3){return new Promise(_0xebab65=>setTimeout(_0xebab65,_0x3cd9a3));}async[a0_0xe54586(0x40c)](_0xe84865){const _0xdb988f=a0_0xe54586;if(!this['AutomateSystem']&&(await this[_0xdb988f(0x5fb)](),!this[_0xdb988f(0x665)]))return null;_0xe84865=this[_0xdb988f(0x12c)](_0xe84865);let _0x1f08f4=await this[_0xdb988f(0x6af)]['chat'][_0xdb988f(0x68c)]({'where':{'_id':_0xe84865}},this[_0xdb988f(0x75a)][_0xdb988f(0x494)]),_0x57b368={};if(_0x1f08f4&&_0x1f08f4['leadInfo']){let _0x5bd81b=_0x1f08f4[_0xdb988f(0x564)];typeof _0x5bd81b[_0xdb988f(0x550)]==_0xdb988f(0x4c8)&&(_0x57b368['nome']=_0x5bd81b[_0xdb988f(0x550)]),typeof _0x5bd81b[_0xdb988f(0x4ed)]==_0xdb988f(0x4c8)&&(_0x57b368[_0xdb988f(0x4ed)]=_0x5bd81b['nomecompleto']),typeof _0x5bd81b[_0xdb988f(0x311)]==_0xdb988f(0x4c8)&&(_0x57b368[_0xdb988f(0x311)]=_0x5bd81b[_0xdb988f(0x311)]),typeof _0x5bd81b['cpf']==_0xdb988f(0x4c8)&&(_0x57b368[_0xdb988f(0x2dc)]=_0x5bd81b['cpf']),typeof _0x5bd81b[_0xdb988f(0x201)]==_0xdb988f(0x4c8)&&(_0x57b368[_0xdb988f(0x201)]=_0x5bd81b[_0xdb988f(0x201)]),typeof _0x5bd81b[_0xdb988f(0x579)]=='string'&&(_0x57b368[_0xdb988f(0x579)]=_0x5bd81b[_0xdb988f(0x579)]),typeof _0x5bd81b[_0xdb988f(0x6f0)]==_0xdb988f(0x4c8)&&(_0x57b368[_0xdb988f(0x6f0)]=_0x5bd81b[_0xdb988f(0x6f0)]),Array[_0xdb988f(0x404)](_0x5bd81b[_0xdb988f(0x45e)])&&(_0x57b368['tags']=_0x5bd81b[_0xdb988f(0x45e)][_0xdb988f(0x569)](',\x20')),Array[_0xdb988f(0x404)](_0x5bd81b[_0xdb988f(0x33c)])&&(_0x57b368[_0xdb988f(0x33c)]=_0x5bd81b[_0xdb988f(0x33c)][_0xdb988f(0x569)](',\x20'));}return _0x1f08f4&&_0x1f08f4[_0xdb988f(0x564)]&&_0x1f08f4[_0xdb988f(0x564)][_0xdb988f(0xcc)]&&_0x1f08f4['leadInfo'][_0xdb988f(0xcc)]['forEach'](_0x186268=>{const _0x3c2744=_0xdb988f;let _0x384aa6=this[_0x3c2744(0x665)]?.[_0x3c2744(0xcc)][_0x3c2744(0x43d)](_0x3f8e41=>_0x3f8e41[_0x3c2744(0x761)]===_0x186268['_id']);_0x384aa6&&(_0x57b368[_0x384aa6[_0x3c2744(0x3dc)]]=_0x186268[_0x3c2744(0x306)]);}),_0x57b368;}async[a0_0xe54586(0xb3)](_0x3f9c67,_0x16ea18){const _0x22fa3f=a0_0xe54586;try{let _0x342517=await this['getVariablesChat'](_0x16ea18);return this[_0x22fa3f(0x551)](_0x3f9c67,_0x342517);}catch(_0x82c6ec){return this[_0x22fa3f(0x2da)]['error'](_0x22fa3f(0x76b)+_0x16ea18+':\x20'+_0x82c6ec),_0x3f9c67;}}async[a0_0xe54586(0x5c2)](_0x49530c){const _0x1c7760=a0_0xe54586;try{if(this['logger']['verbose'](this[_0x1c7760(0x5bf)]+'\x20('+this['instance'][_0x1c7760(0x494)]+_0x1c7760(0x43b)),_0x49530c['delete']&&_0x49530c[_0x1c7760(0x761)]){if(this[_0x1c7760(0x75a)][_0x1c7760(0x2f9)][_0x1c7760(0x21e)]===_0x49530c['_id']['toString']())throw new Error('Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar');let _0x4b2a93=await this[_0x1c7760(0x6af)][_0x1c7760(0x675)][_0x1c7760(0x183)](_0x49530c['_id'],this[_0x1c7760(0x75a)][_0x1c7760(0x494)]);return setTimeout(()=>this[_0x1c7760(0x766)](),0x7d0),_0x4b2a93;}let _0x6251b;if(_0x49530c[_0x1c7760(0x761)]&&(_0x6251b=await this[_0x1c7760(0x6af)]['scheduleMessage'][_0x1c7760(0x46a)](_0x49530c[_0x1c7760(0x761)],this[_0x1c7760(0x75a)]['wuid'])),_0x6251b){let _0x5758a1;if(this[_0x1c7760(0x75a)][_0x1c7760(0x2f9)]['processing_id']===_0x6251b[_0x1c7760(0x761)][_0x1c7760(0x27f)]())_0x5758a1={'$set':{'status':_0x49530c['status']}};else{let {_id:_0x3ea7c4,..._0x5a3056}=_0x49530c;_0x5758a1={'$set':_0x5a3056};}let _0x290703=await this[_0x1c7760(0x6af)][_0x1c7760(0x675)][_0x1c7760(0x3c4)](_0x49530c[_0x1c7760(0x761)],_0x5758a1,this[_0x1c7760(0x75a)][_0x1c7760(0x494)]);return setTimeout(()=>this[_0x1c7760(0x766)](),0x7d0),_0x290703;}else{_0x49530c[_0x1c7760(0x759)]=this[_0x1c7760(0x75a)][_0x1c7760(0x494)];let _0x1c1ad6=await this[_0x1c7760(0x6af)][_0x1c7760(0x675)][_0x1c7760(0x795)](_0x49530c,this[_0x1c7760(0x75a)][_0x1c7760(0x494)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x1c1ad6;}}catch(_0x982da4){let _0x55dc28=_0x1c7760(0x2d9),_0x5e4e99=_0x982da4 instanceof Error?_0x982da4[_0x1c7760(0x406)]:typeof _0x982da4=='object'?JSON[_0x1c7760(0x548)](_0x982da4):_0x982da4,_0x304669=_0x55dc28+':\x20'+_0x5e4e99;throw this[_0x1c7760(0x2da)]['error'](this[_0x1c7760(0x5bf)]+'\x20('+this[_0x1c7760(0x75a)][_0x1c7760(0x494)]+_0x1c7760(0x601)+_0x304669),new m(_0x304669);}}async['getScheduleMessage'](){const _0x5d22ee=a0_0xe54586;try{return await this[_0x5d22ee(0x6af)][_0x5d22ee(0x675)][_0x5d22ee(0x43d)]({'where':{}},this['instance'][_0x5d22ee(0x494)]);}catch(_0x5841e2){let _0x41f2c5=_0x5d22ee(0x349),_0x5d00ad=_0x5841e2 instanceof Error?_0x5841e2[_0x5d22ee(0x406)]:typeof _0x5841e2=='object'?JSON['stringify'](_0x5841e2):_0x5841e2,_0x8abfe7=_0x41f2c5+':\x20'+_0x5d00ad;throw this[_0x5d22ee(0x2da)][_0x5d22ee(0x418)](this['instanceName']+'\x20('+this[_0x5d22ee(0x75a)][_0x5d22ee(0x494)]+'):\x20'+_0x8abfe7),new m(_0x8abfe7);}}async[a0_0xe54586(0x354)](){const _0x50f297=a0_0xe54586;try{let _0x4797cc={'status':_0x50f297(0x1f6)},_0x4ae78f=await this[_0x50f297(0x6af)]['scheduleMessage'][_0x50f297(0x228)](_0x4797cc,this['instance'][_0x50f297(0x494)]);if(!_0x4ae78f[_0x50f297(0x418)])this['logger'][_0x50f297(0x1bb)](this['instanceName']+'\x20('+this[_0x50f297(0x75a)]['wuid']+_0x50f297(0x53f));else throw new Error(_0x4ae78f['error'][_0x50f297(0x406)]||'Erro\x20desconhecido\x20ao\x20deletar\x20mensagens');return this['getScheduleMessage']();}catch(_0x264e32){let _0x69151d=_0x50f297(0x441),_0xe7740a=_0x264e32 instanceof Error?_0x264e32[_0x50f297(0x406)]:typeof _0x264e32=='object'?JSON[_0x50f297(0x548)](_0x264e32):_0x264e32,_0x436134=_0x69151d+':\x20'+_0xe7740a;throw this['logger'][_0x50f297(0x418)](this[_0x50f297(0x5bf)]+'\x20('+this[_0x50f297(0x75a)][_0x50f297(0x494)]+_0x50f297(0x601)+_0x436134),new m(_0x436134);}}async[a0_0xe54586(0x276)](_0x605a4d,_0xcbc624){const _0x268cf6=a0_0xe54586;try{if(_0xcbc624[_0x268cf6(0x772)]==='flow'&&!this[_0x268cf6(0x665)]?.[_0x268cf6(0x55f)][_0x268cf6(0x25b)])return this['logger']['error'](this[_0x268cf6(0x5bf)]+'\x20('+this[_0x268cf6(0x75a)][_0x268cf6(0x494)]+_0x268cf6(0x213)),{'error':!0x0,'detail':_0x268cf6(0x5b7)};switch(_0xcbc624[_0x268cf6(0x772)]){case _0x268cf6(0x37c):return await this[_0x268cf6(0x771)](_0xcbc624,_0x605a4d);case _0x268cf6(0x50e):return await this[_0x268cf6(0x4dc)](_0xcbc624,_0x605a4d);case'audio':return await this[_0x268cf6(0x2b8)](_0xcbc624,_0x605a4d);case'flow':let _0x4db9ed=new qe();return _0x4db9ed[_0x268cf6(0x3dc)]=_0xcbc624[_0x268cf6(0x623)],_0x4db9ed['remoteJid']=_0x605a4d,await this[_0x268cf6(0x1dd)](_0x4db9ed);break;default:return this[_0x268cf6(0x2da)][_0x268cf6(0x418)](this[_0x268cf6(0x5bf)]+'\x20('+this[_0x268cf6(0x75a)][_0x268cf6(0x494)]+'):\x20Comando\x20desconhecido:\x20'+_0xcbc624['type']),{'error':!0x0,'detail':_0x268cf6(0x187)};}}catch(_0x386643){return this[_0x268cf6(0x2da)][_0x268cf6(0x418)](this[_0x268cf6(0x5bf)]+'\x20('+this['instance'][_0x268cf6(0x494)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x386643 instanceof Error?_0x386643[_0x268cf6(0x406)]:JSON[_0x268cf6(0x548)](_0x386643,null,0x2))),{'error':!0x0,'detail':_0x386643['message']};}}[a0_0xe54586(0x684)](_0x20f250){const _0xe1546=a0_0xe54586;let _0x237e09=_0x20f250[_0xe1546(0x6fa)]('|'),_0xc484d=Math[_0xe1546(0x76a)](Math[_0xe1546(0x6f2)]()*_0x237e09[_0xe1546(0x767)]);return _0x237e09[_0xc484d]['trim']();}async[a0_0xe54586(0x771)](_0x1e5d0b,_0x2f069f){const _0x7d7f50=a0_0xe54586;if(this[_0x7d7f50(0x2da)][_0x7d7f50(0x1bb)](this[_0x7d7f50(0x5bf)]+'\x20('+this[_0x7d7f50(0x75a)][_0x7d7f50(0x494)]+_0x7d7f50(0x6b1)),!_0x1e5d0b['message'][_0x7d7f50(0x37c)]||_0x1e5d0b[_0x7d7f50(0x406)][_0x7d7f50(0x37c)]['length']===0x0)return{'error':!0x0,'detail':_0x7d7f50(0x103)};let _0x2b900d=this[_0x7d7f50(0x684)](_0x1e5d0b['message']['text']),_0x164ca5=await this[_0x7d7f50(0xb3)](_0x2b900d,_0x2f069f),_0x13097e={'number':_0x2f069f,'options':{'delay':_0x1e5d0b['message']['delay'],'linkPreview':_0x1e5d0b[_0x7d7f50(0x406)]['linkPreview']},'textMessage':{'text':_0x164ca5}},_0x1ab3e2=null;try{let _0x2a3943=await this[_0x7d7f50(0x1e4)](_0x13097e);if(_0x2a3943&&_0x2a3943[_0x7d7f50(0x201)])return{'error':!0x1,'id':_0x2a3943[_0x7d7f50(0x57b)]['id']};_0x1ab3e2=JSON['stringify'](_0x2a3943),this['logger']['verbose'](this[_0x7d7f50(0x5bf)]+'\x20('+this['instance'][_0x7d7f50(0x494)]+_0x7d7f50(0x601)+_0x1ab3e2);}catch(_0x2716bf){this[_0x7d7f50(0x2da)][_0x7d7f50(0x418)](this['instanceName']+'\x20('+this['instance'][_0x7d7f50(0x494)]+_0x7d7f50(0x2bf)+(_0x2716bf instanceof Error?_0x2716bf[_0x7d7f50(0x406)]:JSON[_0x7d7f50(0x548)](_0x2716bf,null,0x2))),_0x1ab3e2=_0x2716bf['message'];}if(_0x1ab3e2)return{'error':!0x0,'detail':(typeof _0x1ab3e2==_0x7d7f50(0x6c9)?JSON[_0x7d7f50(0x548)](_0x1ab3e2,null,0x2):_0x1ab3e2)[_0x7d7f50(0x6fd)](/[\[\]{}\n]/g,'\x20')[_0x7d7f50(0x6fd)](/  +/g,'\x20')};}async[a0_0xe54586(0x4dc)](_0x35a7af,_0x2b6ddb){const _0x40c223=a0_0xe54586;this[_0x40c223(0x2da)]['verbose'](this[_0x40c223(0x5bf)]+'\x20('+this[_0x40c223(0x75a)]['wuid']+_0x40c223(0x648));let _0x4d141e;if(_0x35a7af[_0x40c223(0x406)]['text']&&_0x35a7af[_0x40c223(0x406)][_0x40c223(0x37c)]['length']>0x0){let _0x3f327a=this[_0x40c223(0x684)](_0x35a7af[_0x40c223(0x406)][_0x40c223(0x37c)]);_0x4d141e=await this[_0x40c223(0xb3)](_0x3f327a,_0x2b6ddb);}let _0x48b1d2={'number':_0x2b6ddb,'options':{'delay':_0x35a7af[_0x40c223(0x406)][_0x40c223(0x267)],'linkPreview':_0x35a7af['message']['linkPreview']},'mediaMessage':{'mediatype':_0x35a7af[_0x40c223(0x406)][_0x40c223(0x476)],'caption':_0x4d141e,'media':_0x35a7af[_0x40c223(0x406)][_0x40c223(0x6c8)]}},_0xf6f3ca=null;try{let _0x736b8f=await this['mediaMessage'](_0x48b1d2);if(_0x736b8f&&_0x736b8f[_0x40c223(0x201)])return{'error':!0x1,'id':_0x736b8f[_0x40c223(0x57b)]['id']};_0xf6f3ca=JSON[_0x40c223(0x548)](_0x736b8f),this[_0x40c223(0x2da)][_0x40c223(0x1bb)](this[_0x40c223(0x5bf)]+'\x20('+this[_0x40c223(0x75a)][_0x40c223(0x494)]+_0x40c223(0x601)+_0xf6f3ca);}catch(_0x652bbf){this[_0x40c223(0x2da)][_0x40c223(0x418)](this[_0x40c223(0x5bf)]+'\x20('+this['instance']['wuid']+_0x40c223(0x3d3)+(_0x652bbf instanceof Error?_0x652bbf['message']:JSON[_0x40c223(0x548)](_0x652bbf,null,0x2))),_0xf6f3ca=_0x652bbf['message'];}if(_0xf6f3ca)return{'error':!0x0,'detail':(typeof _0xf6f3ca=='object'?JSON['stringify'](_0xf6f3ca,null,0x2):_0xf6f3ca)[_0x40c223(0x6fd)](/[\[\]{}\n]/g,'\x20')[_0x40c223(0x6fd)](/  +/g,'\x20')};}async[a0_0xe54586(0x2b8)](_0x2500c7,_0x1b040f){const _0x3d43b7=a0_0xe54586;this[_0x3d43b7(0x2da)]['verbose'](this[_0x3d43b7(0x5bf)]+'\x20('+this[_0x3d43b7(0x75a)][_0x3d43b7(0x494)]+'):\x20Enviando\x20áudio');let _0x3fc14f={'number':_0x1b040f,'options':{'delay':_0x2500c7[_0x3d43b7(0x406)][_0x3d43b7(0x267)]},'audioMessage':{'audio':_0x2500c7['message'][_0x3d43b7(0x6c8)]}},_0x2cf779=null;try{let _0x408862=await this[_0x3d43b7(0x2f5)](_0x3fc14f);if(_0x408862&&_0x408862[_0x3d43b7(0x201)])return{'error':!0x1,'id':_0x408862[_0x3d43b7(0x57b)]['id']};_0x2cf779=JSON[_0x3d43b7(0x548)](_0x408862),this['logger'][_0x3d43b7(0x1bb)](this['instanceName']+'\x20('+this[_0x3d43b7(0x75a)][_0x3d43b7(0x494)]+_0x3d43b7(0x601)+_0x2cf779);}catch(_0x3f6c71){this[_0x3d43b7(0x2da)][_0x3d43b7(0x418)](this[_0x3d43b7(0x5bf)]+'\x20('+this[_0x3d43b7(0x75a)][_0x3d43b7(0x494)]+_0x3d43b7(0x195)+(_0x3f6c71 instanceof Error?_0x3f6c71[_0x3d43b7(0x406)]:JSON[_0x3d43b7(0x548)](_0x3f6c71,null,0x2))),_0x2cf779=_0x3f6c71['message'];}if(_0x2cf779)return{'error':!0x0,'detail':(typeof _0x2cf779=='object'?JSON[_0x3d43b7(0x548)](_0x2cf779,null,0x2):_0x2cf779)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async['groupDesc'](_0x461200){const _0xc6ff53=a0_0xe54586;try{return await this['client'][_0xc6ff53(0x64e)](_0x461200['groupJid'],_0x461200[_0xc6ff53(0x1de)]),{'update':'success'};}catch(_0x25627a){let _0x3c1246=_0xc6ff53(0x699),_0x144df1=_0x25627a instanceof Error?_0x25627a[_0xc6ff53(0x406)]:typeof _0x25627a==_0xc6ff53(0x6c9)?JSON[_0xc6ff53(0x548)](_0x25627a):_0x25627a,_0x240202=_0x3c1246+':\x20'+_0x144df1;throw this[_0xc6ff53(0x2da)]['error'](this[_0xc6ff53(0x5bf)]+'\x20('+this[_0xc6ff53(0x75a)][_0xc6ff53(0x494)]+_0xc6ff53(0x601)+_0x240202),new I(_0x240202);}}async['groupName'](_0x58dfbd){const _0x212854=a0_0xe54586;try{return await this[_0x212854(0x42c)][_0x212854(0x76f)](_0x58dfbd[_0x212854(0x5ff)],_0x58dfbd[_0x212854(0x3dc)]),{'update':_0x212854(0x708)};}catch(_0x3d721d){let _0xe34ecc=_0x212854(0x4ae),_0x163535=_0x3d721d instanceof Error?_0x3d721d['message']:typeof _0x3d721d==_0x212854(0x6c9)?JSON['stringify'](_0x3d721d):_0x3d721d,_0x5359d2=_0xe34ecc+':\x20'+_0x163535;throw this[_0x212854(0x2da)]['error'](this['instanceName']+'\x20('+this['instance'][_0x212854(0x494)]+_0x212854(0x601)+_0x5359d2),new I(_0x5359d2);}}async[a0_0xe54586(0x239)](_0x7c7ea4){const _0x43f04f=a0_0xe54586;try{let _0x1a122d=await this[_0x43f04f(0x42c)][_0x43f04f(0x107)](_0x7c7ea4[_0x43f04f(0x5ff)],_0x7c7ea4[_0x43f04f(0x594)]);return{'success':!0x0};}catch(_0x1011b9){let _0x490262=_0x43f04f(0x429),_0x392980=_0x1011b9 instanceof Error?_0x1011b9[_0x43f04f(0x406)]:typeof _0x1011b9==_0x43f04f(0x6c9)?JSON['stringify'](_0x1011b9):_0x1011b9,_0x243c4d=_0x490262+':\x20'+_0x392980;throw this[_0x43f04f(0x2da)][_0x43f04f(0x418)](this[_0x43f04f(0x5bf)]+'\x20('+this[_0x43f04f(0x75a)][_0x43f04f(0x494)]+_0x43f04f(0x601)+_0x243c4d),new I(_0x243c4d);}}async[a0_0xe54586(0x687)](_0x1dd267){const _0x2b9eda=a0_0xe54586;try{return await this[_0x2b9eda(0x42c)][_0x2b9eda(0x780)](_0x1dd267['groupJid'],_0x1dd267[_0x2b9eda(0x18e)]),{'update':_0x2b9eda(0x708)};}catch(_0x2b1251){let _0x3fa00f=_0x2b9eda(0x66c),_0x38c96a=_0x2b1251 instanceof Error?_0x2b1251[_0x2b9eda(0x406)]:typeof _0x2b1251==_0x2b9eda(0x6c9)?JSON[_0x2b9eda(0x548)](_0x2b1251):_0x2b1251,_0x3b2829=_0x3fa00f+':\x20'+_0x38c96a;throw this[_0x2b9eda(0x2da)][_0x2b9eda(0x418)](this[_0x2b9eda(0x5bf)]+'\x20('+this[_0x2b9eda(0x75a)][_0x2b9eda(0x494)]+_0x2b9eda(0x601)+_0x3b2829),new I(_0x3b2829);}}async[a0_0xe54586(0x72d)](_0x42c417){const _0x46e5dc=a0_0xe54586;try{let _0x3f0e6f;if((0x0,P[_0x46e5dc(0x18c)])(_0x42c417[_0x46e5dc(0x32e)])){let _0x17ff5b=new Date()[_0x46e5dc(0x4eb)](),_0x104c63=_0x42c417[_0x46e5dc(0x32e)]+_0x46e5dc(0x51e)+_0x17ff5b;_0x3f0e6f=(await K[_0x46e5dc(0x2f8)]['get'](_0x104c63,{'responseType':'arraybuffer'}))[_0x46e5dc(0x6e7)];}else{if((0x0,P['isBase64'])(_0x42c417[_0x46e5dc(0x32e)]))_0x3f0e6f=Buffer[_0x46e5dc(0x40f)](_0x42c417[_0x46e5dc(0x32e)],_0x46e5dc(0x257));else throw new m(_0x46e5dc(0x3cc));}return await this['client'][_0x46e5dc(0x179)](_0x42c417['groupJid'],_0x3f0e6f),{'update':'success'};}catch(_0x23327a){let _0x47676d=_0x46e5dc(0x61b),_0x1f4342=_0x23327a instanceof Error?_0x23327a[_0x46e5dc(0x406)]:typeof _0x23327a==_0x46e5dc(0x6c9)?JSON['stringify'](_0x23327a):_0x23327a,_0x5b9330=_0x47676d+':\x20'+_0x1f4342;throw this[_0x46e5dc(0x2da)][_0x46e5dc(0x418)](this[_0x46e5dc(0x5bf)]+'\x20('+this['instance'][_0x46e5dc(0x494)]+_0x46e5dc(0x601)+_0x5b9330),new I(_0x5b9330);}}},Jt=class c{constructor(_0x5edf4e,_0x125ebe,_0x39a084){const _0x3c8ca2=a0_0xe54586;this['eventEmitter']=_0x5edf4e,this[_0x3c8ca2(0x291)]=_0x125ebe,this[_0x3c8ca2(0x6af)]=_0x39a084,this['db']={},this[_0x3c8ca2(0x559)]={},this['logger']=new R(c[_0x3c8ca2(0x3dc)]),this['waInstances']={},(this[_0x3c8ca2(0x537)](),this['noConnection'](),Object['assign'](this['db'],_0x125ebe[_0x3c8ca2(0x6a4)](_0x3c8ca2(0x435))),Object['assign'](this[_0x3c8ca2(0x559)],_0x125ebe['get'](_0x3c8ca2(0x71b))),this['dbInstance']=this['db'][_0x3c8ca2(0x4f6)]?this['repository'][_0x3c8ca2(0x125)]?.['db'](this['db']['CONNECTION'][_0x3c8ca2(0x65e)]+_0x3c8ca2(0x34e)):void 0x0,this[_0x3c8ca2(0x5c0)]=this[_0x3c8ca2(0x559)][_0x3c8ca2(0x4f6)]?new ce(this[_0x3c8ca2(0x559)]):void 0x0);}async['instanceInfo'](_0x4a06d9){const _0x151687=a0_0xe54586;if(_0x4a06d9&&!this[_0x151687(0x231)][_0x4a06d9])throw new U(_0x151687(0x73e)+_0x4a06d9+_0x151687(0x544));let _0x2aa51e=[];for await(let [_0x3c98ef,_0x5da340]of Object[_0x151687(0x1ed)](this[_0x151687(0x231)]))if(_0x5da340&&_0x5da340[_0x151687(0xd1)][_0x151687(0x1d9)]===_0x151687(0x13d)){let _0x10354c=await this['repository'][_0x151687(0x1a1)][_0x151687(0x43d)](_0x3c98ef);_0x2aa51e['push']({'instance':{'instanceName':_0x3c98ef,'apikey':_0x10354c[_0x151687(0x4cc)],'owner':_0x5da340[_0x151687(0x494)],'profileName':await _0x5da340[_0x151687(0x63b)]()||_0x151687(0x797),'profilePictureUrl':_0x5da340['profilePictureUrl']}});}return _0x2aa51e[_0x151687(0x43d)](_0x3e30e5=>_0x3e30e5[_0x151687(0x75a)][_0x151687(0x5bf)]===_0x4a06d9)??_0x2aa51e;}async[a0_0xe54586(0x375)](_0x36ebb9){const _0x81373f=a0_0xe54586;if(this['db'][_0x81373f(0x4f6)]&&(await this['repository'][_0x81373f(0x125)][_0x81373f(0x1a5)](),(await this[_0x81373f(0x176)]['collections']())['length']>0x0&&await this[_0x81373f(0x176)][_0x81373f(0x64a)](_0x36ebb9)),this[_0x81373f(0x559)][_0x81373f(0x4f6)]){this[_0x81373f(0x5c0)][_0x81373f(0x1ea)]=_0x36ebb9,await this[_0x81373f(0x5c0)][_0x81373f(0x350)]();return;}}async[a0_0xe54586(0x28c)](){const _0x2bb012=a0_0xe54586;await this['InstancesAlterarTodas']();let _0x52af8d=async _0x53e063=>{const _0x5bbe63=a0_0x4692;let _0x261fe9=new Ce(this[_0x5bbe63(0x291)],this['eventEmitter'],this[_0x5bbe63(0x6af)]);_0x261fe9[_0x5bbe63(0x5bf)]=_0x53e063,await _0x261fe9['connectToWhatsapp'](),this[_0x5bbe63(0x231)][_0x53e063]=_0x261fe9;};try{if(this[_0x2bb012(0x559)]['ENABLED']){let _0x561ef7=await this['cache']['instanceKeys']();_0x561ef7?.[_0x2bb012(0x767)]>0x0&&_0x561ef7[_0x2bb012(0x110)](async _0x1d7a5f=>await _0x52af8d(_0x1d7a5f[_0x2bb012(0x6fa)](':')[0x1]));return;}if(this['db']['ENABLED']){await this[_0x2bb012(0x6af)][_0x2bb012(0x125)][_0x2bb012(0x1a5)]();let _0x205781=await this[_0x2bb012(0x176)]['collections']();_0x205781[_0x2bb012(0x767)]>0x0&&_0x205781['forEach'](async _0x439872=>await _0x52af8d(_0x439872[_0x2bb012(0x39b)][_0x2bb012(0x6fd)](/^[\w-]+\./,'')));return;}}catch(_0x1275be){this[_0x2bb012(0x2da)][_0x2bb012(0x418)](_0x1275be);}}async[a0_0xe54586(0x243)](){const _0x100372=a0_0xe54586;let _0x5daf55=await this['repository']['auth'][_0x100372(0x4a6)](),_0x488dee=_0x5daf55['filter'](_0x59a6e4=>!this['waInstances'][_0x59a6e4['_id']]&&(_0x59a6e4[_0x100372(0xf9)]||typeof _0x59a6e4[_0x100372(0xf9)]>'u'));_0x488dee['length']>0x0&&await Promise[_0x100372(0x788)](_0x488dee[_0x100372(0x588)](async _0x478c7b=>{const _0x45cb22=_0x100372;let _0x3d2268={'online':!0x1,'lastDisconnect':Date[_0x45cb22(0x755)]()};await this[_0x45cb22(0x6af)][_0x45cb22(0x1a1)]['create'](_0x3d2268,_0x478c7b[_0x45cb22(0x761)]);}));let _0x3a4bc5=Date['now']()-0xa*0x18*0x3c*0x3c*0x3e8,_0x2064bc=_0x5daf55[_0x100372(0x5b0)](_0x3820c3=>!this[_0x100372(0x231)][_0x3820c3[_0x100372(0x761)]]&&typeof _0x3820c3[_0x100372(0x146)]<'u'&&_0x3820c3[_0x100372(0x146)]<_0x3a4bc5);_0x2064bc['length']>0x0&&await Promise[_0x100372(0x788)](_0x2064bc['map'](async _0x5899ac=>{}));}async[a0_0xe54586(0x48f)](){const _0x2b8077=a0_0xe54586;try{let _0x24158e={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x281d4f={'online':!0x1,'lastDisconnect':Date[_0x2b8077(0x755)]()},_0x55755a=await this['repository'][_0x2b8077(0x1a1)][_0x2b8077(0x738)](_0x24158e,_0x281d4f);console[_0x2b8077(0x2c6)](_0x2b8077(0x4aa)+_0x55755a['insertCount']),await this['removeOlderDisconnectedInstances']();}catch(_0x2fa2fa){console['error']('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x2fa2fa);}}async[a0_0xe54586(0x663)](){const _0x2fae88=a0_0xe54586;try{let _0x2ec684={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x15ee6f=await this['repository'][_0x2fae88(0x1a1)][_0x2fae88(0x228)](_0x2ec684);console[_0x2fae88(0x2c6)]('Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20'+_0x15ee6f[_0x2fae88(0x502)]);}catch(_0x45e9f2){console[_0x2fae88(0x418)](_0x2fae88(0x409),_0x45e9f2);}}[a0_0xe54586(0x537)](){const _0x4b1f5a=a0_0xe54586;this['eventEmitter']['on'](_0x4b1f5a(0x3c0),async _0x12f14d=>{const _0x30a955=_0x4b1f5a;try{this[_0x30a955(0x231)][_0x12f14d]=void 0x0;}catch{}try{this['cleaningUp'](_0x12f14d);}finally{this[_0x30a955(0x2da)][_0x30a955(0x286)](_0x30a955(0x73e)+_0x12f14d+_0x30a955(0x702));}});}[a0_0xe54586(0x1a6)](){const _0x5382b3=a0_0xe54586;this['eventEmitter']['on'](_0x5382b3(0xc8),async _0x9d21e4=>{const _0x31a541=_0x5382b3;try{this['waInstances'][_0x9d21e4]=void 0x0;}catch{}try{this[_0x31a541(0x375)](_0x9d21e4);}finally{this['logger'][_0x31a541(0x286)](_0x31a541(0x73e)+_0x9d21e4+_0x31a541(0x3fc));}});}},Ut=class extends x{[a0_0xe54586(0x73b)](_0x188c2e){return Ks(_0x188c2e);}async[a0_0xe54586(0x1b7)](_0x57d352){const _0x1e21fd=a0_0xe54586;if(_0x57d352[_0x1e21fd(0x767)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x57d352[0x0][_0x1e21fd(0x759)])[_0x1e21fd(0x36a)]([..._0x57d352]))[_0x1e21fd(0x767)]};}catch(_0x1eb9eb){return _0x1eb9eb;}}async[a0_0xe54586(0x43d)](_0x1c7a31,_0x5173b6){const _0x5a35c7=a0_0xe54586;try{let _0x29efb6=this[_0x5a35c7(0x73b)](_0x5173b6),_0x40e375=T(_0x1c7a31[_0x5a35c7(0x1b0)]);return await _0x29efb6['find'](_0x40e375)[_0x5a35c7(0x489)]({'lastmsg':-0x1})['limit'](_0x1c7a31?.['limit']??0x0)[_0x5a35c7(0x793)]();}catch{return[];}}async['delete'](_0x5a68f7,_0x5b325c){const _0x2dbd8a=a0_0xe54586;try{return{'deletedCount':(await this['getChatModelForOwner'](_0x5b325c)[_0x2dbd8a(0x228)]({..._0x5a68f7[_0x2dbd8a(0x1b0)]}))[_0x2dbd8a(0x3d7)]};}catch(_0x51e33f){return{'error':_0x51e33f?.[_0x2dbd8a(0x27f)]()};}}async['deleteAll'](_0x50a34d,_0x3805e9){const _0x7bb17a=a0_0xe54586;try{return await this['getChatModelForOwner'](_0x3805e9)[_0x7bb17a(0x228)]({..._0x50a34d[_0x7bb17a(0x1b0)]}),[];}catch(_0x2678fc){return{'error':_0x2678fc?.['toString']()};}}async[a0_0xe54586(0x68c)](_0x329fea,_0x29bf42){const _0x2ac5aa=a0_0xe54586;try{let _0x49f69d=this[_0x2ac5aa(0x73b)](_0x29bf42),_0x495ec3=T(_0x329fea[_0x2ac5aa(0x1b0)]);return await _0x49f69d[_0x2ac5aa(0x68c)](_0x495ec3)[_0x2ac5aa(0x793)]();}catch{return null;}}async['updateOne'](_0x466c14,_0x2c21c5,_0xe6d8ac,_0x130da,_0x1a17dc='$set'){const _0x1e1098=a0_0xe54586;try{let _0x4a2c4d={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x130da},_0x37f7b=this['getChatModelForOwner'](_0xe6d8ac),_0x1759a5=T(_0x466c14[_0x1e1098(0x1b0)]);Object[_0x1e1098(0x25d)](_0x2c21c5)[_0x1e1098(0x110)](_0x1c5f0d=>{_0x2c21c5[_0x1c5f0d]==null&&delete _0x2c21c5[_0x1c5f0d];});let _0x265d05={};return _0x265d05[_0x1a17dc]=_0x2c21c5,await _0x37f7b[_0x1e1098(0x9d)](_0x1759a5,_0x265d05,_0x4a2c4d);}catch(_0x5017c0){return console[_0x1e1098(0x418)](_0x5017c0),null;}}async[a0_0xe54586(0x3f5)](_0x3a389a){const _0xb1b264=a0_0xe54586;try{let _0x2e2816=this['getChatModelForOwner'](_0x3a389a[0x0][_0xb1b264(0x47c)]['where'][_0xb1b264(0x759)]),_0x1a62b2=_0x3a389a[_0xb1b264(0x588)](_0x304da0=>({'updateOne':{'filter':{..._0x304da0[_0xb1b264(0x47c)][_0xb1b264(0x1b0)]},'update':{'$set':_0x304da0[_0xb1b264(0x2e3)]},'upsert':!0x0}})),_0x55cdd4=await _0x2e2816[_0xb1b264(0x390)](_0x1a62b2);return _0x55cdd4[_0xb1b264(0x731)]+_0x55cdd4[_0xb1b264(0x3f3)];}catch(_0x4ac0f7){return console[_0xb1b264(0x418)](_0x4ac0f7),0x0;}}async[a0_0xe54586(0x2b5)](_0xdd6cc4){const _0x446738=a0_0xe54586;try{let _0x1366fd={'group_isCommunity':'','group_announce':'','group_size':''},_0x373e0f={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x360cb9={'$unset':_0x1366fd};return(await this[_0x446738(0x73b)](_0xdd6cc4)['updateMany'](_0x373e0f,_0x360cb9))[_0x446738(0x731)];}catch(_0x145557){return console[_0x446738(0x418)](_0x446738(0x2d5),_0x145557),0x0;}}async[a0_0xe54586(0x253)](_0x454cda){const _0x4083b3=a0_0xe54586;try{let _0x2cc083=this[_0x4083b3(0x73b)](_0x454cda),_0x41aab3={'leadInfo.etiquetas':{'$exists':!0x1}},_0x31d54d={'$set':{'leadInfo.etiquetas':[]}};return(await _0x2cc083[_0x4083b3(0x3f5)](_0x41aab3,_0x31d54d))[_0x4083b3(0x731)];}catch(_0x5e9b34){return console[_0x4083b3(0x418)](_0x5e9b34),0x0;}}async[a0_0xe54586(0x10b)](_0x130008){const _0x2f3f99=a0_0xe54586;try{let _0xe4f666=this[_0x2f3f99(0x73b)](_0x130008),_0x24e7b9={'leadInfo.tags':{'$exists':!0x1}},_0x580207={'$set':{'leadInfo.tags':[]}};return(await _0xe4f666[_0x2f3f99(0x3f5)](_0x24e7b9,_0x580207))[_0x2f3f99(0x731)];}catch(_0x5f8119){return console['error'](_0x5f8119),0x0;}}async[a0_0xe54586(0x28f)](_0x59f2fd){const _0x20669c=a0_0xe54586;try{let _0x144f65=this[_0x20669c(0x73b)](_0x59f2fd),_0x4308ec={'leadInfo.customFields':{'$exists':!0x1}},_0x4bc2cc={'$set':{'leadInfo.customFields':[]}};return(await _0x144f65[_0x20669c(0x3f5)](_0x4308ec,_0x4bc2cc))[_0x20669c(0x731)];}catch(_0x2397ae){return console[_0x20669c(0x418)](_0x2397ae),0x0;}}async[a0_0xe54586(0x36a)](_0x247f5a,_0x5d4b86){const _0x15ec93=a0_0xe54586;if(!Array[_0x15ec93(0x404)](_0x247f5a)||_0x247f5a['length']===0x0)throw new Error(_0x15ec93(0x416));try{return(await this[_0x15ec93(0x73b)](_0x5d4b86)[_0x15ec93(0x36a)](_0x247f5a))[_0x15ec93(0x767)];}catch(_0x589e8d){throw console['error'](_0x15ec93(0x166),_0x589e8d),_0x589e8d;}}async[a0_0xe54586(0x19b)](_0x4194ff,_0x20fbc0){const _0x1aac0f=a0_0xe54586;try{await this[_0x1aac0f(0x73b)](_0x20fbc0)[_0x1aac0f(0x183)]({'_id':_0x4194ff});}catch(_0x36bf5c){throw console['error'](_0x1aac0f(0x30a),_0x36bf5c),_0x36bf5c;}}},qt=class extends x{constructor(_0x4fd1b9,_0xf07784,_0x2d71d4){const _0x42efc6=a0_0xe54586;super(_0xf07784),this[_0x42efc6(0x152)]=_0x4fd1b9,this[_0x42efc6(0x291)]=_0xf07784,this['dbConnection']=_0x2d71d4;}async[a0_0xe54586(0x1b7)](_0x5983ab){const _0x2ec47e=a0_0xe54586;if(_0x5983ab[_0x2ec47e(0x767)]!==0x0)try{return{'insertCount':(await this['cacheContactModel'][_0x2ec47e(0x36a)]([..._0x5983ab]))[_0x2ec47e(0x767)]};}catch(_0x3a51f8){return _0x3a51f8;}}async['update'](_0x959e86,_0x2dfe98){const _0xce0d28=a0_0xe54586;try{let _0x2fa476=T(_0x959e86[_0xce0d28(0x1b0)]);return{'updatedCount':(await this[_0xce0d28(0x152)]['updateMany'](_0x2fa476,{'$set':_0x2dfe98}))['modifiedCount']};}catch(_0x110a14){return console[_0xce0d28(0x418)](_0xce0d28(0x3bf),_0x110a14),{'error':_0x110a14[_0xce0d28(0x27f)]()};}}async[a0_0xe54586(0x27b)](_0x679fab){const _0x41dca2=a0_0xe54586;try{let _0x3dfae1={'_id':{'$in':_0x679fab}};return await this[_0x41dca2(0x152)][_0x41dca2(0x43d)](_0x3dfae1)['lean']();}catch(_0x51af32){return console[_0x41dca2(0x418)]('Error\x20finding\x20many\x20contacts:',_0x51af32),[];}}async[a0_0xe54586(0x790)](_0x4eb25f){const _0x22450e=a0_0xe54586;try{return{'deletedCount':(await this[_0x22450e(0x152)]['deleteMany']({..._0x4eb25f[_0x22450e(0x1b0)]}))[_0x22450e(0x3d7)]};}catch(_0x575eaa){return{'error':_0x575eaa?.[_0x22450e(0x27f)]()};}}async[a0_0xe54586(0x43d)](_0x5da6a4){const _0x208e26=a0_0xe54586;try{let _0x4e13b6=T(_0x5da6a4['where']);return await this['cacheContactModel'][_0x208e26(0x43d)](_0x4e13b6)[_0x208e26(0x1c5)](_0x5da6a4?.[_0x208e26(0x1c5)]??0x0)['lean']();}catch{return[];}}async['findOne'](_0x20c87d){const _0x495823=a0_0xe54586;try{let _0x5ecfa5=T(_0x20c87d['where']);return await this[_0x495823(0x152)][_0x495823(0x68c)](_0x5ecfa5)[_0x495823(0x793)]();}catch{return null;}}},Vt=class extends x{[a0_0xe54586(0x338)](_0x16bc3e){return ma(_0x16bc3e);}async[a0_0xe54586(0x1fd)](_0x23d66a,_0x5daf77,_0x509cbf,_0x2f57b4){const _0x112be7=a0_0xe54586;try{let _0x24897d={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x2f57b4},_0x1c5818=this[_0x112be7(0x338)](_0x509cbf),_0x571c02=T(_0x23d66a[_0x112be7(0x1b0)]);return await _0x1c5818['findOneAndUpdate'](_0x571c02,{'$set':_0x5daf77},_0x24897d);}catch(_0x55cf0c){return console['error'](_0x55cf0c),null;}}async['find'](_0x5522f1,_0x2f8f81){const _0x512f03=a0_0xe54586;try{let _0x591319=this[_0x512f03(0x338)](_0x2f8f81),_0x3755b5=T(_0x5522f1[_0x512f03(0x1b0)]);return await _0x591319[_0x512f03(0x43d)](_0x3755b5);}catch(_0x50ec84){console['error'](_0x50ec84);}}async[a0_0xe54586(0x790)](_0x2cdd72,_0x283c17){const _0x3e3d6b=a0_0xe54586;try{let _0x4b4fce=this[_0x3e3d6b(0x338)](_0x283c17),_0x116241=T(_0x2cdd72[_0x3e3d6b(0x1b0)]);await _0x4b4fce[_0x3e3d6b(0x228)](_0x116241);}catch(_0xd57439){console['error'](_0xd57439);}}async[a0_0xe54586(0x5e8)](_0x251a16){const _0x2cd03e=a0_0xe54586;try{return await this[_0x2cd03e(0x338)](_0x251a16)[_0x2cd03e(0x562)]['drop'](),{'success':!0x0};}catch(_0x996a7a){return console[_0x2cd03e(0x418)](_0x996a7a),{'success':!0x1,'error':_0x996a7a};}}},Gt=class{constructor(_0x1c6adb){const _0x5b16c6=a0_0xe54586;this[_0x5b16c6(0x4a8)]=_0x1c6adb;}async[a0_0xe54586(0x1a3)]({instanceName:_0x2cd957},_0x2250ca){const _0x4650d7=a0_0xe54586;return await this[_0x4650d7(0x4a8)][_0x4650d7(0x231)][_0x2cd957]['editChat'](_0x2250ca);}async['whatsappNumber']({instanceName:_0x55d0ca},_0x2c2d6d){const _0x35ca96=a0_0xe54586;return await this[_0x35ca96(0x4a8)][_0x35ca96(0x231)][_0x55d0ca][_0x35ca96(0x61c)](_0x2c2d6d);}async[a0_0xe54586(0x134)]({instanceName:_0x283f88},_0x34dbb6){const _0x32a88f=a0_0xe54586;return await this[_0x32a88f(0x4a8)][_0x32a88f(0x231)][_0x283f88][_0x32a88f(0x134)](_0x34dbb6);}async[a0_0xe54586(0x78a)]({instanceName:_0x226aec},_0x1274cf){const _0x311012=a0_0xe54586;return await this[_0x311012(0x4a8)]['waInstances'][_0x226aec][_0x311012(0x16b)](_0x1274cf);}async[a0_0xe54586(0x78d)]({instanceName:_0x4868b9},_0x3ec657){const _0xf9e2e6=a0_0xe54586;return await this[_0xf9e2e6(0x4a8)][_0xf9e2e6(0x231)][_0x4868b9][_0xf9e2e6(0x78d)](_0x3ec657);}async[a0_0xe54586(0x6f9)]({instanceName:_0x4b8493},_0xfec29c){return await this['waMonitor']['waInstances'][_0x4b8493]['deleteMessage'](_0xfec29c);}async[a0_0xe54586(0x5a6)]({instanceName:_0x6325ae},_0x1ce03e){const _0x1a77af=a0_0xe54586;return await this[_0x1a77af(0x4a8)]['waInstances'][_0x6325ae]['profilePicture'](_0x1ce03e[_0x1a77af(0x335)]);}async[a0_0xe54586(0x707)]({instanceName:_0xd3080a},_0x3c6317){const _0x4b4359=a0_0xe54586;return await this['waMonitor'][_0x4b4359(0x231)][_0xd3080a][_0x4b4359(0x707)](_0x3c6317[_0x4b4359(0x335)]);}async['updatePresence']({instanceName:_0x4b05d7},_0x99978e){const _0x47981a=a0_0xe54586;return await this[_0x47981a(0x4a8)]['waInstances'][_0x4b05d7][_0x47981a(0x301)](_0x99978e);}async['fetchContacts']({instanceName:_0x4027b1},_0x3f5257){const _0x106719=a0_0xe54586;return await this['waMonitor'][_0x106719(0x231)][_0x4027b1]['fetchContacts'](_0x3f5257);}async[a0_0xe54586(0x3ff)]({instanceName:_0x697bc6},_0x5d30bc){const _0x5cc4e3=a0_0xe54586;return await this['waMonitor'][_0x5cc4e3(0x231)][_0x697bc6][_0x5cc4e3(0x3ff)](_0x5d30bc);}async[a0_0xe54586(0x116)]({instanceName:_0x54ca39},_0x53678f){const _0x4d9bc=a0_0xe54586;return await this[_0x4d9bc(0x4a8)]['waInstances'][_0x54ca39][_0x4d9bc(0x116)](_0x53678f);}async[a0_0xe54586(0x48d)]({instanceName:_0x321e8e}){const _0x1a8d77=a0_0xe54586;return await this[_0x1a8d77(0x4a8)][_0x1a8d77(0x231)][_0x321e8e][_0x1a8d77(0x48d)]();}async['fetchChats']({instanceName:_0x4aa548}){const _0x4741d1=a0_0xe54586;return await this[_0x4741d1(0x4a8)][_0x4741d1(0x231)][_0x4aa548]['fetchChats']();}async[a0_0xe54586(0xca)]({instanceName:_0x323249}){const _0x33434a=a0_0xe54586;return await this[_0x33434a(0x4a8)]['waInstances'][_0x323249][_0x33434a(0xca)]();}async[a0_0xe54586(0x606)]({instanceName:_0x4bff11},_0x4ee66d){const _0x1039f4=a0_0xe54586;return await this[_0x1039f4(0x4a8)][_0x1039f4(0x231)][_0x4bff11][_0x1039f4(0x606)](_0x4ee66d);}async['fetchBusinessProfile']({instanceName:_0x38b5c3},_0x5bcfce){const _0x58311f=a0_0xe54586;return await this[_0x58311f(0x4a8)][_0x58311f(0x231)][_0x38b5c3][_0x58311f(0x6f4)](_0x5bcfce[_0x58311f(0x335)]);}async[a0_0xe54586(0x274)]({instanceName:_0x408c18},_0x10b77d){const _0x294b03=a0_0xe54586;return await this[_0x294b03(0x4a8)][_0x294b03(0x231)][_0x408c18][_0x294b03(0x274)](_0x10b77d['name']);}async['updateProfileStatus']({instanceName:_0x39384f},_0x20aa2c){const _0x5c3e34=a0_0xe54586;return await this[_0x5c3e34(0x4a8)]['waInstances'][_0x39384f]['updateProfileStatus'](_0x20aa2c['status']);}async[a0_0xe54586(0x179)]({instanceName:_0x330fce},_0x1a7619){const _0x3258ce=a0_0xe54586;return await this['waMonitor'][_0x3258ce(0x231)][_0x330fce]['updateProfilePicture'](_0x1a7619[_0x3258ce(0x65f)]);}async[a0_0xe54586(0x693)]({instanceName:_0x34fc83},_0x5c1964){const _0x48d4e5=a0_0xe54586;return await this[_0x48d4e5(0x4a8)][_0x48d4e5(0x231)][_0x34fc83][_0x48d4e5(0x693)]();}},Ds=require('@whiskeysockets/baileys'),Bt=class c{constructor(_0x3ca7bb,_0x14090c,_0x4995c4,_0x2b85a1,_0x10b7cb){const _0x1988b5=a0_0xe54586;this[_0x1988b5(0x4a8)]=_0x3ca7bb,this[_0x1988b5(0x291)]=_0x14090c,this[_0x1988b5(0x6af)]=_0x4995c4,this[_0x1988b5(0x467)]=_0x2b85a1,this[_0x1988b5(0x27a)]=_0x10b7cb,this['logger']=new R(c[_0x1988b5(0x3dc)]);}async[a0_0xe54586(0x460)]({instanceName:_0x130e96,apikey:_0x13558e,number:_0x298ddd,proxy:_0x2334f=!0x0}){const _0x1577d5=a0_0xe54586;try{let _0x18fc42=new Ce(this['configService'],this[_0x1577d5(0x467)],this['repository']);_0x18fc42[_0x1577d5(0x5bf)]=_0x130e96,this[_0x1577d5(0x4a8)][_0x1577d5(0x231)][_0x18fc42[_0x1577d5(0x5bf)]]=_0x18fc42;let _0x1b515d={};_0x13558e?(await this[_0x1577d5(0x6af)][_0x1577d5(0x1a1)][_0x1577d5(0x54a)]({'apikey':_0x13558e},_0x130e96),_0x1b515d[_0x1577d5(0x4cc)]=_0x13558e):_0x1b515d=await this[_0x1577d5(0x27a)][_0x1577d5(0x11f)]({'instanceName':_0x18fc42[_0x1577d5(0x5bf)]});let _0x14d0f2;if(_0x298ddd){if(_0x14d0f2=await this[_0x1577d5(0x48b)](_0x298ddd),_0x14d0f2[_0x1577d5(0x418)])throw new I(_0x14d0f2['error'][_0x1577d5(0x27f)]());_0x298ddd=_0x14d0f2[_0x1577d5(0x335)];}let _0x112844;return await _0x18fc42[_0x1577d5(0x1c0)](_0x298ddd),await(0x0,Ds[_0x1577d5(0x267)])(0x7d0),_0x112844=_0x18fc42[_0x1577d5(0x592)],{'instance':{'instanceName':_0x18fc42[_0x1577d5(0x5bf)],'status':'created'},'hash':_0x1b515d,'qrcode':_0x112844};}catch(_0x3ff3c7){throw this['logger'][_0x1577d5(0x418)](_0x3ff3c7),_0x3ff3c7;}}async[a0_0xe54586(0x37b)]({instanceName:_0x799601,number:_0x244d33=null}){const _0x5d0757=a0_0xe54586;try{let _0x253cd0=this['waMonitor'][_0x5d0757(0x231)][_0x799601];switch(_0x253cd0?.[_0x5d0757(0xd1)]?.[_0x5d0757(0x1d9)]){case _0x5d0757(0x29c):return await _0x253cd0[_0x5d0757(0x1c0)](_0x244d33),await(0x0,Ds[_0x5d0757(0x267)])(0x7d0),_0x253cd0['qrCode'];case'connecting':return _0x253cd0['qrCode'];default:return await this[_0x5d0757(0x3da)]({'instanceName':_0x799601});}}catch(_0xdaf2c){this[_0x5d0757(0x2da)][_0x5d0757(0x2c6)](_0xdaf2c);}}async[a0_0xe54586(0x3da)]({instanceName:_0x2a0997}){const _0x9dd5d8=a0_0xe54586;let _0x62b809=this['waMonitor'][_0x9dd5d8(0x231)][_0x2a0997][_0x9dd5d8(0xd1)],_0x5a0f21=null;_0x62b809[_0x9dd5d8(0x1d9)]===_0x9dd5d8(0x13d)&&_0x2a0997&&(_0x5a0f21=await this[_0x9dd5d8(0x4a8)][_0x9dd5d8(0x617)](_0x2a0997));let _0x353f76=null;return _0x62b809[_0x9dd5d8(0x1d9)]===_0x9dd5d8(0x439)&&_0x2a0997&&(_0x353f76=this[_0x9dd5d8(0x4a8)][_0x9dd5d8(0x231)][_0x2a0997][_0x9dd5d8(0x592)]),{'instance':_0x2a0997,'connectionStatus':_0x62b809,'instanceInfo':_0x5a0f21,'qrcode':_0x353f76};}async['verifyWhatsAppNumber'](_0x137629){const _0x21d613=a0_0xe54586;_0x137629=_0x137629[_0x21d613(0x6fd)](/\D/g,'');let _0xc8721=Object[_0x21d613(0x25d)](this['waMonitor']['waInstances'])[_0x21d613(0x5b0)](_0x527a50=>{const _0x5c49fa=_0x21d613;let _0x509c73=this[_0x5c49fa(0x4a8)][_0x5c49fa(0x231)][_0x527a50];return _0x509c73&&_0x509c73[_0x5c49fa(0xd1)]&&_0x509c73[_0x5c49fa(0xd1)][_0x5c49fa(0x1d9)]===_0x5c49fa(0x13d);});if(_0xc8721[_0x21d613(0x767)]===0x0)return{'number':this[_0x21d613(0xba)](_0x137629)};let _0x6e91b3=Math[_0x21d613(0x76a)](Math['random']()*_0xc8721[_0x21d613(0x767)]),_0x1cfd57=_0xc8721[_0x6e91b3];try{let _0x372b08=(await this[_0x21d613(0x4a8)][_0x21d613(0x231)][_0x1cfd57]['whatsappNumber']({'numbers':[_0x137629]}))[_0x21d613(0x3d0)]();return _0x372b08['exists']?{'number':_0x372b08[_0x21d613(0x106)][_0x21d613(0x6fd)](_0x21d613(0x420),'')}:{'number':_0x137629,'error':_0x21d613(0x1c1)};}catch(_0x43ace3){return this[_0x21d613(0x2da)][_0x21d613(0x418)]('Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:'+_0x43ace3),{'number':_0x137629,'error':'Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.'};}}['formatBRNumber'](_0x1a39e8){const _0x1c6377=a0_0xe54586;let _0x37fe2f=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x1c6377(0x77b)](_0x1a39e8);if(_0x37fe2f&&_0x37fe2f[0x1]==='55'){let _0x3fddb3=_0x37fe2f[0x2],_0x393a36=_0x37fe2f[0x3],_0x150330=_0x37fe2f[0x4];if(parseInt(_0x3fddb3)>=0x1f&&_0x393a36==='9')return _0x37fe2f[0x1]+_0x3fddb3+_0x150330;}return _0x1a39e8;}async[a0_0xe54586(0x4b7)]({instanceName:_0xc7388e}){const _0x349e0a=a0_0xe54586;try{return this[_0x349e0a(0x4a8)][_0x349e0a(0x231)][_0xc7388e]?.[_0x349e0a(0x42c)]?.['ws']?.['close'](),{'status':_0x349e0a(0xad),'error':!0x1,'response':{'message':_0x349e0a(0x395)}};}catch(_0x1f5d74){this[_0x349e0a(0x2da)][_0x349e0a(0x418)](_0x1f5d74);}}async[a0_0xe54586(0x164)]({instanceName:_0x43e8f8}){const _0x187282=a0_0xe54586;return _0x43e8f8?this[_0x187282(0x4a8)][_0x187282(0x617)](_0x43e8f8):this[_0x187282(0x4a8)][_0x187282(0x617)]();}async[a0_0xe54586(0x535)]({instanceName:_0x1056a8}){const _0xfb0bdf=a0_0xe54586;try{return await this[_0xfb0bdf(0x4a8)][_0xfb0bdf(0x231)][_0x1056a8]?.[_0xfb0bdf(0x42c)]?.['logout']('Log\x20out\x20instance:\x20'+_0x1056a8),{'error':!0x1,'message':_0xfb0bdf(0x50c)};}catch(_0x52fc4a){throw new I(_0x52fc4a['toString']());}}async[a0_0xe54586(0xe3)]({instanceName:_0x2b5e68}){const _0x41e14a=a0_0xe54586;if((await this[_0x41e14a(0x3da)]({'instanceName':_0x2b5e68}))[_0x41e14a(0xd1)][_0x41e14a(0x1d9)]===_0x41e14a(0x13d))throw new m(['Deletion\x20failed',_0x41e14a(0x3ab)]);try{return delete this['waMonitor']['waInstances'][_0x2b5e68],{'error':!0x1,'message':_0x41e14a(0x1cf)};}catch(_0x399b65){throw new m(_0x399b65[_0x41e14a(0x27f)]());}}},te=require(a0_0xe54586(0x5f6)),Wt=class{constructor(_0x5b2a63){const _0x4c91d9=a0_0xe54586;this[_0x4c91d9(0x4a8)]=_0x5b2a63;}async[a0_0xe54586(0x326)]({instanceName:_0x583ae7},_0x3c667f){const _0x41c1d8=a0_0xe54586;return await this[_0x41c1d8(0x4a8)]['waInstances'][_0x583ae7][_0x41c1d8(0x1e4)](_0x3c667f);}async[a0_0xe54586(0xd8)]({instanceName:_0x5f4199},_0x351c69){const _0x2fe7eb=a0_0xe54586;return await this[_0x2fe7eb(0x4a8)][_0x2fe7eb(0x231)][_0x5f4199][_0x2fe7eb(0x165)](_0x351c69);}async[a0_0xe54586(0x49b)]({instanceName:_0x203220},_0x43f960){const _0x36d489=a0_0xe54586;if((0x0,te['isBase64'])(_0x43f960?.[_0x36d489(0x38c)]?.['media'])&&!_0x43f960?.[_0x36d489(0x38c)]?.[_0x36d489(0x673)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,te['isURL'])(_0x43f960?.[_0x36d489(0x38c)]?.[_0x36d489(0x50e)])||(0x0,te[_0x36d489(0xc6)])(_0x43f960?.[_0x36d489(0x38c)]?.['media']))return await this[_0x36d489(0x4a8)][_0x36d489(0x231)][_0x203220][_0x36d489(0x38c)](_0x43f960);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0xe54586(0x6cc)]({instanceName:_0x414824},_0x4649aa){const _0x2a4148=a0_0xe54586;if((0x0,te[_0x2a4148(0x18c)])(_0x4649aa[_0x2a4148(0x5b2)][_0x2a4148(0x32e)])||(0x0,te[_0x2a4148(0xc6)])(_0x4649aa[_0x2a4148(0x5b2)][_0x2a4148(0x32e)]))return await this[_0x2a4148(0x4a8)][_0x2a4148(0x231)][_0x414824][_0x2a4148(0x6ac)](_0x4649aa);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendWhatsAppAudio']({instanceName:_0x50ab88},_0x17dc33){const _0x3b362e=a0_0xe54586;if((0x0,te[_0x3b362e(0x18c)])(_0x17dc33[_0x3b362e(0x2b9)][_0x3b362e(0x642)])||(0x0,te[_0x3b362e(0xc6)])(_0x17dc33[_0x3b362e(0x2b9)]['audio']))return await this[_0x3b362e(0x4a8)]['waInstances'][_0x50ab88][_0x3b362e(0x2f5)](_0x17dc33);throw new m(_0x3b362e(0xf4));}async[a0_0xe54586(0x553)]({instanceName:_0x51c3ce},_0xbe565b){const _0x3e680e=a0_0xe54586;if((0x0,te[_0x3e680e(0xc6)])(_0xbe565b[_0x3e680e(0x304)][_0x3e680e(0x38c)]?.['media'])&&!_0xbe565b[_0x3e680e(0x304)][_0x3e680e(0x38c)]?.['fileName'])throw new m(_0x3e680e(0xd2));return await this['waMonitor'][_0x3e680e(0x231)][_0x51c3ce]['buttonMessage'](_0xbe565b);}async['sendLocation']({instanceName:_0x478deb},_0x2e7693){const _0x5c0186=a0_0xe54586;return await this[_0x5c0186(0x4a8)]['waInstances'][_0x478deb]['locationMessage'](_0x2e7693);}async[a0_0xe54586(0x6b3)]({instanceName:_0x1b26b6},_0x23cf50){const _0x3cf161=a0_0xe54586;return await this[_0x3cf161(0x4a8)][_0x3cf161(0x231)][_0x1b26b6][_0x3cf161(0x230)](_0x23cf50);}async[a0_0xe54586(0x56e)]({instanceName:_0x35dca8},_0x1d41f7){const _0x1cd61a=a0_0xe54586;return await this[_0x1cd61a(0x4a8)][_0x1cd61a(0x231)][_0x35dca8][_0x1cd61a(0x6a5)](_0x1d41f7);}async[a0_0xe54586(0x505)]({instanceName:_0x377b83},_0x55182c){const _0xdd0523=a0_0xe54586;return await this[_0xdd0523(0x4a8)][_0xdd0523(0x231)][_0x377b83][_0xdd0523(0x279)](_0x55182c);}async['sendReaction']({instanceName:_0x51089a},_0x2463f5){const _0x342db7=a0_0xe54586;if(!_0x2463f5[_0x342db7(0x468)]['reaction'][_0x342db7(0x628)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x342db7(0x4f3));return await this[_0x342db7(0x4a8)][_0x342db7(0x231)][_0x51089a][_0x342db7(0x468)](_0x2463f5);}async[a0_0xe54586(0x74a)]({instanceName:_0x176651},_0xc087c0){const _0x32442e=a0_0xe54586;return await this[_0x32442e(0x4a8)][_0x32442e(0x231)][_0x176651][_0x32442e(0x71e)](_0xc087c0);}},Ei=require(a0_0xe54586(0x6a7)),_s=require('uuid'),zt=class c{constructor(_0x36bdca,_0x2aecf0,_0x10f731){const _0x358d79=a0_0xe54586;this[_0x358d79(0x291)]=_0x36bdca,this[_0x358d79(0x4a8)]=_0x2aecf0,this['repository']=_0x10f731,this['logger']=new R(c[_0x358d79(0x3dc)]);}async[a0_0xe54586(0x1ad)](_0x14cbd4){const _0x559f8e=a0_0xe54586;let _0x3e6697=this['configService'][_0x559f8e(0x6a4)](_0x559f8e(0x411))[_0x559f8e(0x57f)],_0x54603a=(0x0,Ei[_0x559f8e(0x685)])({'instanceName':_0x14cbd4[_0x559f8e(0x5bf)],'apiName':et,'tokenId':(0x0,_s['v4'])()},_0x3e6697['SECRET'],{'expiresIn':_0x3e6697[_0x559f8e(0x22a)],'encoding':_0x559f8e(0x4bd),'subject':'g-t'}),_0x34792f=await this[_0x559f8e(0x6af)]['auth'][_0x559f8e(0x54a)]({'jwt':_0x54603a},_0x14cbd4[_0x559f8e(0x5bf)]);if(_0x34792f[_0x559f8e(0x418)])throw this['logger'][_0x559f8e(0x418)]({'localError':c[_0x559f8e(0x3dc)]+_0x559f8e(0x356),'error':_0x34792f[_0x559f8e(0x418)]}),new m(_0x559f8e(0x622),_0x34792f[_0x559f8e(0x418)]?.[_0x559f8e(0x27f)]());return{'jwt':_0x54603a};}async['apikey'](_0x382479){const _0x5ebc27=a0_0xe54586;let _0x9b302=(0x0,_s['v4'])()[_0x5ebc27(0x290)](),_0x535930=await this['repository'][_0x5ebc27(0x1a1)][_0x5ebc27(0x54a)]({'apikey':_0x9b302},_0x382479[_0x5ebc27(0x5bf)]);if(_0x535930[_0x5ebc27(0x418)])throw this[_0x5ebc27(0x2da)]['error']({'localError':c[_0x5ebc27(0x3dc)]+_0x5ebc27(0x356),'error':_0x535930['error']}),new m(_0x5ebc27(0x622),_0x535930['error']?.[_0x5ebc27(0x27f)]());return{'apikey':_0x9b302};}async[a0_0xe54586(0x11f)](_0x3a0591){const _0x4d128f=a0_0xe54586;let _0x22b6b2=this['configService'][_0x4d128f(0x6a4)](_0x4d128f(0x411));return await this[_0x22b6b2[_0x4d128f(0x794)]](_0x3a0591);}},Ht=class{constructor(_0x438bf7){this['waMonitor']=_0x438bf7;}async[a0_0xe54586(0x169)](_0x455fc6,_0x65b554){const _0x5ce3f7=a0_0xe54586;return await this[_0x5ce3f7(0x4a8)]['waInstances'][_0x455fc6[_0x5ce3f7(0x5bf)]][_0x5ce3f7(0x169)](_0x65b554);}async[a0_0xe54586(0x72d)](_0x54ebdf,_0x245078){const _0x3012e6=a0_0xe54586;return await this[_0x3012e6(0x4a8)][_0x3012e6(0x231)][_0x54ebdf[_0x3012e6(0x5bf)]][_0x3012e6(0x72d)](_0x245078);}async[a0_0xe54586(0x586)](_0x4e3f7e,_0x445672){const _0x2bb6bc=a0_0xe54586;return await this['waMonitor']['waInstances'][_0x4e3f7e['instanceName']][_0x2bb6bc(0x586)](_0x445672);}async[a0_0xe54586(0x3c5)](_0xe4a608,_0x1ebb97){const _0x40976a=a0_0xe54586;return await this[_0x40976a(0x4a8)]['waInstances'][_0xe4a608[_0x40976a(0x5bf)]]['groupName'](_0x1ebb97);}async[a0_0xe54586(0x770)](_0x45aee7,_0x370714){const _0x2ff550=a0_0xe54586;return await this[_0x2ff550(0x4a8)]['waInstances'][_0x45aee7[_0x2ff550(0x5bf)]]['groupBetterSetting'](_0x370714);}async[a0_0xe54586(0x687)](_0x623b1d,_0x1ccdcf){const _0x5693db=a0_0xe54586;return await this[_0x5693db(0x4a8)][_0x5693db(0x231)][_0x623b1d[_0x5693db(0x5bf)]]['groupSetting'](_0x1ccdcf);}async[a0_0xe54586(0x296)](_0x2d0fe,_0x5343ea){const _0xe6782d=a0_0xe54586;return await this[_0xe6782d(0x4a8)]['waInstances'][_0x2d0fe[_0xe6782d(0x5bf)]][_0xe6782d(0x448)](_0x5343ea);}async[a0_0xe54586(0x4a0)](_0x25e853){const _0x352d51=a0_0xe54586;return await this[_0x352d51(0x4a8)][_0x352d51(0x231)][_0x25e853[_0x352d51(0x5bf)]][_0x352d51(0x4a0)]();}async['inviteCode'](_0x4978de,_0x1bba66){const _0x34af93=a0_0xe54586;return await this[_0x34af93(0x4a8)][_0x34af93(0x231)][_0x4978de[_0x34af93(0x5bf)]]['inviteCode'](_0x1bba66);}async['joinGroup'](_0x566f56,_0x311656){const _0x1c8e49=a0_0xe54586;return await this[_0x1c8e49(0x4a8)][_0x1c8e49(0x231)][_0x566f56['instanceName']][_0x1c8e49(0x97)](_0x311656);}async[a0_0xe54586(0x120)](_0x44c034,_0x3d6285){const _0x2e3d35=a0_0xe54586;return await this['waMonitor'][_0x2e3d35(0x231)][_0x44c034[_0x2e3d35(0x5bf)]][_0x2e3d35(0x120)](_0x3d6285);}async[a0_0xe54586(0x140)](_0x3d73a3,_0xa289e5){const _0x5b59fc=a0_0xe54586;return await this[_0x5b59fc(0x4a8)][_0x5b59fc(0x231)][_0x3d73a3[_0x5b59fc(0x5bf)]][_0x5b59fc(0x140)](_0xa289e5);}async['findParticipants'](_0x3e0a99,_0x395457){const _0x5c69f1=a0_0xe54586;return await this['waMonitor'][_0x5c69f1(0x231)][_0x3e0a99['instanceName']]['findParticipants'](_0x395457);}async['updateGParticipate'](_0x3b3abe,_0x293ae4){const _0x14d596=a0_0xe54586;return await this[_0x14d596(0x4a8)][_0x14d596(0x231)][_0x3b3abe[_0x14d596(0x5bf)]][_0x14d596(0x3b9)](_0x293ae4);}async[a0_0xe54586(0x239)](_0x596d9e,_0x4bfb12){const _0x26d6c2=a0_0xe54586;return await this[_0x26d6c2(0x4a8)]['waInstances'][_0x596d9e[_0x26d6c2(0x5bf)]][_0x26d6c2(0x239)](_0x4bfb12);}async[a0_0xe54586(0x71f)](_0x3f2239,_0x46c3f9){const _0x5d408c=a0_0xe54586;return await this[_0x5d408c(0x4a8)][_0x5d408c(0x231)][_0x3f2239[_0x5d408c(0x5bf)]]['leaveGroup'](_0x46c3f9);}},Kt=class{constructor(_0x4167a1){const _0x3659db=a0_0xe54586;this[_0x3659db(0x4a8)]=_0x4167a1;}['create'](_0xae814b,_0x580119){const _0x12e3d0=a0_0xe54586;return this[_0x12e3d0(0x4a8)][_0x12e3d0(0x231)][_0xae814b[_0x12e3d0(0x5bf)]][_0x12e3d0(0x5b8)](_0x580119);}async['find'](_0x3016e9){const _0x1b9645=a0_0xe54586;try{return await this[_0x1b9645(0x4a8)][_0x1b9645(0x231)][_0x3016e9[_0x1b9645(0x5bf)]][_0x1b9645(0x698)]();}catch{return{'enabled':null,'url':''};}}},Cp=new R(a0_0xe54586(0xa5)),Qt=class{constructor(_0x4325d1){const _0x36e63f=a0_0xe54586;this[_0x36e63f(0x4a8)]=_0x4325d1;}async['editScheduleMessage'](_0xf578f5,_0x58fc82){const _0x23a4c2=a0_0xe54586;return await this[_0x23a4c2(0x4a8)][_0x23a4c2(0x231)][_0xf578f5[_0x23a4c2(0x5bf)]][_0x23a4c2(0x5c2)](_0x58fc82);}async[a0_0xe54586(0x16d)](_0x5592cf){const _0x50db36=a0_0xe54586;return await this[_0x50db36(0x4a8)][_0x50db36(0x231)][_0x5592cf[_0x50db36(0x5bf)]][_0x50db36(0x16d)]();}async[a0_0xe54586(0x354)](_0x3f3f81){const _0x29a40f=a0_0xe54586;return await this[_0x29a40f(0x4a8)][_0x29a40f(0x231)][_0x3f3f81['instanceName']][_0x29a40f(0x354)]();}async[a0_0xe54586(0x5fb)](_0x15e867){const _0x1bedf8=a0_0xe54586;return await this[_0x1bedf8(0x4a8)]['waInstances'][_0x15e867[_0x1bedf8(0x5bf)]][_0x1bedf8(0x5fb)]();}async[a0_0xe54586(0x31a)](_0xecb9fe,_0x4b065f){const _0x290942=a0_0xe54586;return await this[_0x290942(0x4a8)]['waInstances'][_0xecb9fe['instanceName']][_0x290942(0x31a)](_0x4b065f);}async[a0_0xe54586(0x5c7)](_0x4dc323,_0x235175){const _0x2dbba2=a0_0xe54586;return await this[_0x2dbba2(0x4a8)][_0x2dbba2(0x231)][_0x4dc323[_0x2dbba2(0x5bf)]]['updateCustomFields'](_0x235175);}async[a0_0xe54586(0x6f1)](_0x265765,_0x91ff9c){const _0x30d3cd=a0_0xe54586;return await this[_0x30d3cd(0x4a8)][_0x30d3cd(0x231)][_0x265765[_0x30d3cd(0x5bf)]]['updateAutoCompleteMessages'](_0x91ff9c);}async['updateFlowConfig'](_0x3b9ec7,_0x53c4fa){const _0x18a146=a0_0xe54586;return await this['waMonitor'][_0x18a146(0x231)][_0x3b9ec7['instanceName']]['updateFlowConfig'](_0x53c4fa);}async[a0_0xe54586(0x1dd)](_0x5d4988,_0x3bd440){const _0x4c6950=a0_0xe54586;return await this[_0x4c6950(0x4a8)][_0x4c6950(0x231)][_0x5d4988[_0x4c6950(0x5bf)]]['startFlow'](_0x3bd440);}async[a0_0xe54586(0x1a2)](_0x2c3e42,_0xfc38b3,_0x53caa2,_0x4fd2d9){const _0x35c3af=a0_0xe54586;return await this[_0x35c3af(0x4a8)][_0x35c3af(0x231)][_0x2c3e42]['startFlowWebhook'](_0xfc38b3,_0x53caa2,_0x4fd2d9);}async[a0_0xe54586(0x750)](_0x41404a,_0x16d0d6){const _0x134186=a0_0xe54586;return await this['waMonitor'][_0x134186(0x231)][_0x41404a['instanceName']][_0x134186(0x750)](_0x16d0d6);}async[a0_0xe54586(0x15e)](_0xf7aca,_0x532c51){const _0x3e1386=a0_0xe54586;return await this['waMonitor'][_0x3e1386(0x231)][_0xf7aca[_0x3e1386(0x5bf)]][_0x3e1386(0x15e)](_0x532c51);}async['editConversation'](_0x2ecb83,_0x234fd5){const _0x2ce449=a0_0xe54586;return await this[_0x2ce449(0x4a8)][_0x2ce449(0x231)][_0x2ecb83['instanceName']][_0x2ce449(0x580)](_0x234fd5);}async[a0_0xe54586(0x47f)](_0xeef1d1,_0x5cea5c){const _0x375045=a0_0xe54586;return await this[_0x375045(0x4a8)][_0x375045(0x231)][_0xeef1d1[_0x375045(0x5bf)]][_0x375045(0x47f)](_0x5cea5c);}async[a0_0xe54586(0x283)](_0x2ee53f,_0x495e59){const _0x2bec57=a0_0xe54586;return await this[_0x2bec57(0x4a8)][_0x2bec57(0x231)][_0x2ee53f[_0x2bec57(0x5bf)]]['getFlow'](_0x495e59[_0x2bec57(0x3dc)],_0x495e59[_0x2bec57(0x2bc)]);}async[a0_0xe54586(0x37a)](_0x50b423,_0x2a262c,_0x50b96e){const _0x320eb7=a0_0xe54586;return await this['waMonitor'][_0x320eb7(0x231)][_0x50b423[_0x320eb7(0x5bf)]][_0x320eb7(0x37a)](_0x2a262c,_0x50b96e);}async[a0_0xe54586(0x691)](_0x1625aa,_0x1d5d48,_0x38eb9a){const _0x824961=a0_0xe54586;return await this['waMonitor'][_0x824961(0x231)][_0x1625aa[_0x824961(0x5bf)]][_0x824961(0x691)](_0x1d5d48,_0x38eb9a);}async[a0_0xe54586(0x69e)](_0x528f4b,_0x4125f0,_0x21d131){const _0x12529c=a0_0xe54586;return await this[_0x12529c(0x4a8)][_0x12529c(0x231)][_0x528f4b[_0x12529c(0x5bf)]][_0x12529c(0x69e)](_0x4125f0,_0x21d131);}async[a0_0xe54586(0x413)](_0x3c313f,_0x3f7899,_0x3bfeb7){const _0x1b1898=a0_0xe54586;return await this['waMonitor'][_0x1b1898(0x231)][_0x3c313f[_0x1b1898(0x5bf)]][_0x1b1898(0x413)](_0x3f7899,_0x3bfeb7);}async[a0_0xe54586(0x23f)](_0x14a121,_0xd42060,_0x3081c5){const _0x25dcff=a0_0xe54586;return await this[_0x25dcff(0x4a8)][_0x25dcff(0x231)][_0x14a121['instanceName']][_0x25dcff(0x23f)](_0xd42060,_0x3081c5);}async[a0_0xe54586(0x215)](_0x4b46c0,_0x47aa57,_0x5899a1){const _0x3115a9=a0_0xe54586;return await this[_0x3115a9(0x4a8)]['waInstances'][_0x4b46c0[_0x3115a9(0x5bf)]]['editFlowCondition'](_0x47aa57,_0x5899a1);}async[a0_0xe54586(0x454)](_0x1a5a9c,_0x56bcd2,_0x5067b4){const _0x16b2fc=a0_0xe54586;return await this[_0x16b2fc(0x4a8)][_0x16b2fc(0x231)][_0x1a5a9c[_0x16b2fc(0x5bf)]][_0x16b2fc(0x454)](_0x56bcd2,_0x5067b4);}async[a0_0xe54586(0x1e0)](_0x4c2f8d,_0x2f9e29,_0x56d763){const _0x3f7e88=a0_0xe54586;return await this[_0x3f7e88(0x4a8)]['waInstances'][_0x4c2f8d[_0x3f7e88(0x5bf)]][_0x3f7e88(0x1e0)](_0x2f9e29,_0x56d763);}async['deleteFlow'](_0x5094a8,_0x849d1b,_0x1fdf7e){const _0x3160cc=a0_0xe54586;return await this[_0x3160cc(0x4a8)][_0x3160cc(0x231)][_0x5094a8[_0x3160cc(0x5bf)]][_0x3160cc(0x632)](_0x849d1b,_0x1fdf7e);}async[a0_0xe54586(0xf0)](_0x5edb30){const _0xbdc4f=a0_0xe54586;return await this[_0xbdc4f(0x4a8)][_0xbdc4f(0x231)][_0x5edb30[_0xbdc4f(0x5bf)]][_0xbdc4f(0xf0)]();}},Yt=class{constructor(_0x540aee){const _0x20a37f=a0_0xe54586;this[_0x20a37f(0x6de)]=_0x540aee;}async[a0_0xe54586(0x5f0)](_0x5ddc41,_0x30bebf){const _0x378f1a=a0_0xe54586;return this[_0x378f1a(0x6de)][_0x378f1a(0x54a)](_0x5ddc41,_0x30bebf);}async['findWebhook'](_0x4473ec){const _0x375276=a0_0xe54586;return this[_0x375276(0x6de)][_0x375276(0x43d)](_0x4473ec);}},Xt=class extends x{constructor(_0x2709a8,_0x2ae80d){const _0x3d93f9=a0_0xe54586;super(_0x2ae80d),this[_0x3d93f9(0x676)]=_0x2709a8,this[_0x3d93f9(0x291)]=_0x2ae80d;}async[a0_0xe54586(0x54a)](_0x40d576,_0xee2483){const _0x11ebc7=a0_0xe54586;try{return this['dbSettings'][_0x11ebc7(0x4f6)]?{'insertCount':(await this[_0x11ebc7(0x676)][_0x11ebc7(0x462)]({'_id':_0xee2483},{..._0x40d576},{'upsert':!0x0}))[_0x11ebc7(0x731)]}:{'insertCount':0x1};}catch(_0x3b7f9a){return _0x3b7f9a;}}async[a0_0xe54586(0x790)](_0x2c9463){const _0x575c20=a0_0xe54586;try{if(this[_0x575c20(0x62e)][_0x575c20(0x4f6)]){await this['webhookModel'][_0x575c20(0x183)]({'_id':_0x2c9463});return;}}catch(_0xa3161e){return{'error':_0xa3161e};}}async[a0_0xe54586(0x43d)](_0x338611){const _0x95146f=a0_0xe54586;try{if(this[_0x95146f(0x62e)]['ENABLED'])return await this['webhookModel']['findOne']({'_id':_0x338611});}catch{return{};}}},Zt=class extends x{constructor(_0x4ec88c,_0x2945af){const _0x42a659=a0_0xe54586;super(_0x2945af),this[_0x42a659(0x20c)]=_0x4ec88c,this[_0x42a659(0x291)]=_0x2945af,this['auth']=_0x2945af[_0x42a659(0x6a4)](_0x42a659(0x411));}async[a0_0xe54586(0x54a)](_0x2d5707,_0x1a78cd){const _0x3e3d38=a0_0xe54586;try{if(this[_0x3e3d38(0x62e)]['ENABLED'])return{'insertCount':(await this[_0x3e3d38(0x20c)][_0x3e3d38(0x1fd)]({'_id':_0x1a78cd},{'$set':{..._0x2d5707}},{'upsert':!0x0}))[_0x3e3d38(0x731)]};}catch(_0x3cbad1){return{'error':_0x3cbad1};}}async[a0_0xe54586(0x738)](_0x1807cf,_0xaf9fc4){const _0x330915=a0_0xe54586;try{if(this['dbSettings'][_0x330915(0x4f6)])return{'insertCount':(await this[_0x330915(0x20c)]['updateMany'](_0x1807cf,{'$set':_0xaf9fc4},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x330915(0x3d2));}catch(_0x4df826){return{'error':_0x4df826};}}async[a0_0xe54586(0x228)](_0xa6bc6c){const _0x101528=a0_0xe54586;try{if(this[_0x101528(0x62e)][_0x101528(0x4f6)])return{'insertCount':(await this[_0x101528(0x20c)]['deleteMany'](_0xa6bc6c))['deletedCount']};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x3f4036){return{'error':_0x3f4036};}}async['delete'](_0x9b2afa){const _0x574255=a0_0xe54586;try{if(this['dbSettings'][_0x574255(0x4f6)]){await this[_0x574255(0x20c)][_0x574255(0x183)]({'_id':_0x9b2afa});return;}}catch(_0x45ae64){return{'error':_0x45ae64};}}async[a0_0xe54586(0x43d)](_0x23ec5b){const _0x9a8c10=a0_0xe54586;try{if(this[_0x9a8c10(0x62e)][_0x9a8c10(0x4f6)])return await this[_0x9a8c10(0x20c)][_0x9a8c10(0x68c)]({'_id':_0x23ec5b});}catch{return{};}}async[a0_0xe54586(0x4a6)](){const _0x525d89=a0_0xe54586;try{if(this[_0x525d89(0x62e)]['ENABLED'])return await this['authModel'][_0x525d89(0x43d)]();}catch{return[];}}},es=class extends x{[a0_0xe54586(0x180)](_0x188359){return da(_0x188359);}async[a0_0xe54586(0x790)](_0x439340,_0x36d0da){const _0x2ee9a7=a0_0xe54586;try{let _0x5aaecf=this[_0x2ee9a7(0x180)](_0x36d0da),_0x3000e2=T(_0x439340[_0x2ee9a7(0x1b0)]);return{'deletedCount':(await _0x5aaecf['deleteMany'](_0x3000e2))[_0x2ee9a7(0x3d7)]};}catch(_0x69a204){return{'error':_0x69a204?.['toString']()};}}async['deleteOne'](_0x173b86,_0x58e1f9){const _0x20ab3e=a0_0xe54586;try{let _0x3f130f=this[_0x20ab3e(0x180)](_0x58e1f9),_0x19622f=T(_0x173b86[_0x20ab3e(0x1b0)]);return{'deletedCount':(await _0x3f130f[_0x20ab3e(0x183)](_0x19622f))[_0x20ab3e(0x3d7)]};}catch(_0x33a4d1){return{'error':_0x33a4d1?.[_0x20ab3e(0x27f)]()};}}async[a0_0xe54586(0x462)](_0x1a5d36,_0x17236c,_0x45ad4b){const _0x46ab1f=a0_0xe54586;try{let _0x1428d7=await this[_0x46ab1f(0x180)](_0x45ad4b)[_0x46ab1f(0x18a)](_0x1a5d36,_0x17236c,{'overwrite':!0x0,'new':!0x0});return _0x1428d7||(console['error'](_0x46ab1f(0x2a9),_0x1a5d36),null);}catch(_0x54eb91){return console[_0x46ab1f(0x418)](_0x46ab1f(0x26e),_0x54eb91),null;}}async[a0_0xe54586(0x1fd)](_0x55e027,_0x2dca31,_0x70e1d2){const _0xaf5552=a0_0xe54586;try{let _0x434842=await this[_0xaf5552(0x180)](_0x70e1d2)[_0xaf5552(0x46a)](_0x55e027);return _0x434842?(Object[_0xaf5552(0x75d)](_0x434842,_0x2dca31),await _0x434842[_0xaf5552(0x6c3)]()):(console[_0xaf5552(0x418)]('Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:',_0x55e027),null);}catch(_0x22791f){return console[_0xaf5552(0x418)]('Erro\x20ao\x20atualizar\x20o\x20fluxo:',_0x22791f),null;}}async[a0_0xe54586(0x2ad)](_0x3f9af,_0x53dd0d,_0x2afc7b){const _0x197c7c=a0_0xe54586;try{let _0x2c232d=this['getFlowModelForOwner'](_0x2afc7b),_0x23c889=await _0x2c232d[_0x197c7c(0x46a)](_0x3f9af),_0x44092d=await _0x2c232d[_0x197c7c(0x9d)]({'_id':_0x3f9af},_0x53dd0d,{'new':!0x0,'runValidators':!0x0});return _0x44092d||(console[_0x197c7c(0x2c6)](_0x197c7c(0x2a1)+_0x3f9af+_0x197c7c(0xb2)+_0x2afc7b+'\x20não\x20encontrado.'),null);}catch(_0x247553){throw console[_0x197c7c(0x418)]('Erro\x20ao\x20atualizar\x20o\x20documento:',_0x247553),_0x247553;}}async[a0_0xe54586(0x244)](_0x3aaba4){const _0x9f5819=a0_0xe54586;try{let _0x5cc0ff=this[_0x9f5819(0x180)](_0x3aaba4),_0x176e6d={'shareOwners':{'$exists':!0x1}},_0x2f7a0d={'$set':{'shareOwners':[]}};return(await _0x5cc0ff['updateMany'](_0x176e6d,_0x2f7a0d))[_0x9f5819(0x731)];}catch(_0x431a90){return console[_0x9f5819(0x418)](_0x431a90),0x0;}}async['createAndSave'](_0x57d8a8,_0x5c7861){const _0x657d44=a0_0xe54586;try{let _0x93959a=this[_0x657d44(0x180)](_0x5c7861);return await new _0x93959a(_0x57d8a8)[_0x657d44(0x6c3)]();}catch(_0xa57a71){return console['error'](_0x657d44(0x6b6),_0xa57a71),null;}}async[a0_0xe54586(0x3f5)](_0x274c0c,_0x35551d,_0x431ade){const _0x143cd1=a0_0xe54586;try{return{'modifiedCount':(await this[_0x143cd1(0x180)](_0x431ade)[_0x143cd1(0x3f5)](_0x274c0c,{'$set':_0x35551d}))[_0x143cd1(0x731)]};}catch(_0x30b972){return console[_0x143cd1(0x418)](_0x143cd1(0x534),_0x30b972),{'error':_0x30b972};}}async['findAll'](_0x4e5618,_0x1c6e57){const _0x532903=a0_0xe54586;try{let _0x2a8661=this['getFlowModelForOwner'](_0x1c6e57),_0x2d977b=T(_0x4e5618['where']);return await _0x2a8661[_0x532903(0x43d)](_0x2d977b)[_0x532903(0x1c5)](_0x4e5618?.[_0x532903(0x1c5)]??0x0)[_0x532903(0x793)]();}catch{return[];}}async[a0_0xe54586(0x68c)](_0x375ba5,_0x21b45d){const _0x18cbce=a0_0xe54586;try{let _0x18ad66=this[_0x18cbce(0x180)](_0x21b45d),_0x41cdaa=T(_0x375ba5[_0x18cbce(0x1b0)]);return await _0x18ad66[_0x18cbce(0x68c)](_0x41cdaa)[_0x18cbce(0x793)]();}catch{return null;}}async[a0_0xe54586(0x5e8)](_0x5f09b0){const _0x440242=a0_0xe54586;try{return await this[_0x440242(0x180)](_0x5f09b0)['collection'][_0x440242(0x382)](),{'success':!0x0};}catch(_0x4abad3){return console[_0x440242(0x418)](_0x4abad3),{'success':!0x1,'error':_0x4abad3};}}},ts=class extends x{[a0_0xe54586(0x6d4)](_0x5267db){return pa(_0x5267db);}async[a0_0xe54586(0x1b7)](_0x8c5d15){const _0x5ac8e5=a0_0xe54586;if(_0x8c5d15[_0x5ac8e5(0x767)]!==0x0)try{return{'insertCount':(await this[_0x5ac8e5(0x6d4)](_0x8c5d15[0x0][_0x5ac8e5(0x759)])[_0x5ac8e5(0x36a)]([..._0x8c5d15]))[_0x5ac8e5(0x767)]};}catch(_0x5eac88){return _0x5eac88;}}async['delete'](_0x2ae166,_0x5377ca){const _0x35932d=a0_0xe54586;try{let _0x1f2289=this[_0x35932d(0x6d4)](_0x5377ca),_0x415207=T(_0x2ae166[_0x35932d(0x1b0)]);return{'deletedCount':(await _0x1f2289[_0x35932d(0x228)](_0x415207))['deletedCount']};}catch(_0x34801c){return{'error':_0x34801c?.['toString']()};}}async[a0_0xe54586(0x183)](_0x483741,_0x25e28a){const _0x318e2a=a0_0xe54586;try{let _0x11681b=this['getConversationModelForOwner'](_0x25e28a),_0x8bcf80=T(_0x483741[_0x318e2a(0x1b0)]);return{'deletedCount':(await _0x11681b[_0x318e2a(0x183)](_0x8bcf80))['deletedCount']};}catch(_0x2e4ca2){return{'error':_0x2e4ca2?.[_0x318e2a(0x27f)]()};}}async[a0_0xe54586(0x2e3)](_0x2058cd,_0x463028){const _0x4e0912=a0_0xe54586;try{if(_0x2058cd[_0x4e0912(0x767)]===0x0)return;let _0x69fd63=this['getConversationModelForOwner'](_0x463028),_0x46fc46=_0x2058cd['map'](_0x30ec48=>({'updateOne':{'filter':{'name':_0x30ec48[_0x4e0912(0x3dc)],'owner':_0x463028},'update':{..._0x30ec48}}})),{modifiedCount:_0x1148d6}=await _0x69fd63['bulkWrite'](_0x46fc46);return{'insertCount':_0x1148d6};}catch{return;}}async[a0_0xe54586(0x3f5)](_0x5e170c,_0x5bca0f,_0x57bc67){const _0x5ad9f7=a0_0xe54586;try{return{'modifiedCount':(await this[_0x5ad9f7(0x6d4)](_0x57bc67)[_0x5ad9f7(0x3f5)](_0x5e170c,{'$set':_0x5bca0f})[_0x5ad9f7(0x77b)]())[_0x5ad9f7(0x731)]};}catch(_0x356b3d){return console[_0x5ad9f7(0x418)](_0x5ad9f7(0x67e),_0x356b3d),{'error':_0x356b3d};}}async[a0_0xe54586(0x1fd)](_0x5a4c39,_0x401e74,_0x570932){const _0x2e1752=a0_0xe54586;try{return await this[_0x2e1752(0x6d4)](_0x570932)['findOneAndUpdate']({'_id':_0x5a4c39},{'$set':_0x401e74},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x2cd15f){return console[_0x2e1752(0x418)](_0x2cd15f),null;}}async[a0_0xe54586(0x43d)](_0x43721e,_0x2d09bf){const _0x1a7faa=a0_0xe54586;try{return await this['getConversationModelForOwner'](_0x2d09bf)[_0x1a7faa(0x43d)](_0x43721e)[_0x1a7faa(0x489)]({'lastInteraction':-0x1})[_0x1a7faa(0x793)]();}catch{return[];}}async[a0_0xe54586(0x68c)](_0x340af4,_0xf31bfb){const _0x1b5b4c=a0_0xe54586;try{return await this[_0x1b5b4c(0x6d4)](_0xf31bfb)['findOne']({..._0x340af4[_0x1b5b4c(0x1b0)]})[_0x1b5b4c(0x793)]();}catch{return null;}}async['deleteAll'](_0x2d973c){const _0x24d510=a0_0xe54586;try{return await this['getConversationModelForOwner'](_0x2d973c)['collection'][_0x24d510(0x382)](),{'success':!0x0};}catch(_0x316c61){return console[_0x24d510(0x418)](_0x316c61),{'success':!0x1,'error':_0x316c61};}}},ss=class extends x{[a0_0xe54586(0x206)](_0x1759b6){return ha(_0x1759b6);}async[a0_0xe54586(0x795)](_0xa7f46a,_0xa68d78){const _0x10bd90=a0_0xe54586;try{let _0x3a31e5=this[_0x10bd90(0x206)](_0xa68d78);return await new _0x3a31e5(_0xa7f46a)[_0x10bd90(0x6c3)]();}catch(_0x1c93a0){return console[_0x10bd90(0x418)](_0x10bd90(0x6b6),_0x1c93a0),null;}}async[a0_0xe54586(0x183)](_0x3164e8,_0x5048f5){const _0x291f0b=a0_0xe54586;try{return await this['getScheduleMessageModelForOwner'](_0x5048f5)['findByIdAndDelete'](_0x3164e8),{};}catch(_0x3200f5){return{'error':_0x3200f5?.[_0x291f0b(0x27f)]()};}}async[a0_0xe54586(0x1fd)](_0x5e6c7c,_0x3d02d0,_0x4b002d){const _0x397e04=a0_0xe54586;try{return await this[_0x397e04(0x206)](_0x4b002d)[_0x397e04(0x9d)](_0x5e6c7c,{'$set':_0x3d02d0},{'new':!0x0})[_0x397e04(0x793)]();}catch(_0x429016){return console[_0x397e04(0x418)](_0x397e04(0x659),_0x429016),null;}}async['updateOneById'](_0x305d6f,_0x298100,_0x4d6653){const _0x54edf3=a0_0xe54586;try{return await this[_0x54edf3(0x206)](_0x4d6653)[_0x54edf3(0x18a)](_0x305d6f,_0x298100,{'new':!0x0})['lean']();}catch(_0x3cfdac){return console['error'](_0x54edf3(0x659),_0x3cfdac),null;}}async[a0_0xe54586(0x43d)](_0x20db31,_0x412aa2){const _0x72803c=a0_0xe54586;try{return await this[_0x72803c(0x206)](_0x412aa2)[_0x72803c(0x43d)](_0x20db31[_0x72803c(0x1b0)])[_0x72803c(0x1c5)](_0x20db31?.[_0x72803c(0x1c5)]??0x0)['sort']({'when':0x1})['lean']();}catch{return[];}}async[a0_0xe54586(0x68c)](_0x5f4d22,_0x87ffb6){const _0x5963bc=a0_0xe54586;try{return await this[_0x5963bc(0x206)](_0x87ffb6)[_0x5963bc(0x68c)](_0x5f4d22[_0x5963bc(0x1b0)])[_0x5963bc(0x489)]({'when':0x1})[_0x5963bc(0x793)]();}catch{return null;}}async['findById'](_0x41fd0d,_0x1822cc){const _0x2105a7=a0_0xe54586;try{return await this[_0x2105a7(0x206)](_0x1822cc)[_0x2105a7(0x46a)](_0x41fd0d)[_0x2105a7(0x793)]();}catch{return null;}}async[a0_0xe54586(0x228)](_0x1995fc,_0x157961){const _0x5298f9=a0_0xe54586;try{return{'deletedCount':(await this[_0x5298f9(0x206)](_0x157961)[_0x5298f9(0x228)](_0x1995fc))['deletedCount']};}catch(_0x1d7a29){return console[_0x5298f9(0x418)](_0x5298f9(0x220),_0x1d7a29),{'error':_0x1d7a29};}}async[a0_0xe54586(0x5e8)](_0x33403c){const _0x31400a=a0_0xe54586;try{return await this[_0x31400a(0x206)](_0x33403c)[_0x31400a(0x562)][_0x31400a(0x382)](),{'success':!0x0};}catch(_0x4c5a48){return console[_0x31400a(0x418)](_0x4c5a48),{'success':!0x1,'error':_0x4c5a48};}}},as=class extends x{async['update'](_0x3fe151,_0x56fe57){const _0x189157=a0_0xe54586;try{if(this[_0x189157(0x62e)][_0x189157(0x4f6)]){let _0x2f7c46=await ve[_0x189157(0x9d)]({'_id':_0x56fe57},{'$set':_0x3fe151},{'new':!0x0});return console['log']('Resultado\x20da\x20atualização:',_0x2f7c46),_0x2f7c46;}}catch(_0x45e006){throw console[_0x189157(0x418)](_0x189157(0x729),_0x45e006),_0x45e006;}}async[a0_0xe54586(0x5e2)](_0x1db83c){const _0x5267e2=a0_0xe54586;try{let _0x5538fc=await ve[_0x5267e2(0x46a)](_0x1db83c);return _0x5538fc?_0x5538fc['autoCompleteMessages']||(_0x5538fc[_0x5267e2(0x20f)]=[],await _0x5538fc[_0x5267e2(0x6c3)]()):(_0x5538fc=new ve({'_id':_0x1db83c,'autoCompleteMessages':[]}),await _0x5538fc[_0x5267e2(0x6c3)]()),_0x5538fc;}catch(_0x644dae){return _0x644dae['code']===0x2af8&&_0x644dae[_0x5267e2(0x3f1)]&&_0x644dae['keyPattern']['autoCompleteMessages.command']?(console[_0x5267e2(0x418)](_0x5267e2(0x6f6)),await ve[_0x5267e2(0x562)][_0x5267e2(0x258)](_0x5267e2(0x19c)),null):(console[_0x5267e2(0x418)](_0x5267e2(0x526),_0x644dae),null);}}},$o=new R('WA\x20MODULE'),Ao=new Be(S),Oo=new Ut(S),To=new at(S),Io=new qt(Zs,S),xo=new Xt(ra,S),Do=new Zt(aa,S),_o=new es(S),Po=new Vt(S),ko=new ts(S),jo=new ss(S),Lo=new as(S),ue=new Ve(Ao,Oo,To,Io,xo,Do,_o,ko,Po,jo,Lo,$?.[a0_0xe54586(0x5a5)]()),G=new Jt(ls,S,ue),Fo=new zt(S,G,ue),Jo=new Kt(G),Ms=new Yt(Jo),A=new Qt(G),ne=new Bt(G,S,ue,ls,Fo),B=new Wt(G),_=new Gt(G),q=new Ht(G);$o[a0_0xe54586(0x6e5)]('Module\x20-\x20ON');var Fh=require('express-async-errors'),Ps=require('fs'),vi=O(require('https')),Ni=O(require('http')),_e=class c{static #e;static set[a0_0xe54586(0x77f)](_0x4d2a60){this.#e=_0x4d2a60;}static get[a0_0xe54586(0x492)](){const _0x5ee11a=a0_0xe54586;let {FULLCHAIN:_0x48c5bd,PRIVKEY:_0x475f1a}=S[_0x5ee11a(0x6a4)](_0x5ee11a(0x339));return vi[_0x5ee11a(0x4e1)]({'cert':(0x0,Ps[_0x5ee11a(0x722)])(_0x48c5bd),'key':(0x0,Ps[_0x5ee11a(0x722)])(_0x475f1a)},c.#e);}static get[a0_0xe54586(0x65b)](){const _0x3383a9=a0_0xe54586;return Ni[_0x3383a9(0x4e1)](c.#e);}},pe=O(require('fs')),Ii=O(require('ini')),Pe=O(require('axios')),je=O(require('path')),Le=require(a0_0xe54586(0x150));function Uo(){const _0x2e95c8=a0_0xe54586;G['loadInstance']();let _0x1a6d92=je[_0x2e95c8(0x2f8)][_0x2e95c8(0x569)](__dirname,_0x2e95c8(0x26d));Ti(_0x1a6d92);}var Ti=_0x393ce7=>{const _0x5d4ff0=a0_0xe54586;let _0x354e7b=pe['default']['readdirSync'](_0x393ce7),_0xeb84b3=0xc*0x3c*0x3c*0x3e8,_0x25006e=0x2*0x3c*0x3c*0x3e8,_0x767d7b=new Date()[_0x5d4ff0(0x4eb)]();_0x354e7b[_0x5d4ff0(0x110)](_0x167d4e=>{const _0xd2b96=_0x5d4ff0;let _0x5213fa=je['default'][_0xd2b96(0x569)](_0x393ce7,_0x167d4e),_0x12c0d4=pe['default'][_0xd2b96(0x1a9)](_0x5213fa)[_0xd2b96(0x73a)][_0xd2b96(0x4eb)]();_0x767d7b-_0x12c0d4>_0xeb84b3&&(pe['default'][_0xd2b96(0x525)](_0x5213fa),console[_0xd2b96(0x2c6)](_0xd2b96(0x4c1)+_0x167d4e));}),setTimeout(()=>Ti(_0x393ce7),_0x25006e);};function qo(){const _0x28985d=a0_0xe54586;let _0xb86d1a=new R(_0x28985d(0x355)),_0x28b3f7=(0x0,he[_0x28985d(0x2f8)])();_0x28b3f7[_0x28985d(0x3bd)]((0x0,Oi[_0x28985d(0x2f8)])({'origin'(_0x4bed7f,_0x1e68d1){const _0x1ee260=_0x28985d;let {ORIGIN:_0x4ee455}=S['get']('CORS');return _0x4bed7f||(_0x4bed7f='*'),_0x4ee455[_0x1ee260(0x334)]('*')!==-0x1||_0x4ee455['indexOf'](_0x4bed7f)!==-0x1?_0x1e68d1(null,!0x0):_0x1e68d1(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...S[_0x28985d(0x6a4)](_0x28985d(0x789))[_0x28985d(0x12a)]],'credentials':S[_0x28985d(0x6a4)]('CORS')[_0x28985d(0x796)]}),(0x0,he['urlencoded'])({'extended':!0x0,'limit':_0x28985d(0x330)}),(0x0,he[_0x28985d(0x402)])({'limit':_0x28985d(0x330)})),_0x28b3f7['use']((_0x3870d3,_0x3a7e12,_0x58dd93)=>{const _0x25e66e=_0x28985d;_0x3870d3[_0x25e66e(0x65c)][_0x25e66e(0xc2)]('/events')?_0x58dd93():(0x0,Ai['default'])()(_0x3870d3,_0x3a7e12,_0x58dd93);}),_0x28b3f7[_0x28985d(0x2e1)]('view\x20engine','hbs'),_0x28b3f7['set']('views',(0x0,js['join'])(re,_0x28985d(0x4b9))),_0x28b3f7[_0x28985d(0x3bd)](he[_0x28985d(0x2f8)]['static']((0x0,js[_0x28985d(0x569)])(re,_0x28985d(0x2ef)))),_0x28b3f7[_0x28985d(0x3bd)]((_0x4e713e,_0x510c7d,_0x5d6e3f)=>{let _0x1cfa6e=_0x510c7d['send'];_0x510c7d['send']=function(_0x5c514c){const _0x4ab695=a0_0x4692;if(_0x4e713e['query']['convert']===_0x4ab695(0x3e1)||_0x4e713e[_0x4ab695(0x1e8)][_0x4ab695(0x433)]==='true'){let _0x4fdbce=JSON[_0x4ab695(0x229)](_0x5c514c);_0x5c514c=JSON[_0x4ab695(0x548)](_0x9a6805(_0x4fdbce));}return _0x1cfa6e[_0x4ab695(0x45d)](_0x510c7d,[_0x5c514c]);},_0x5d6e3f();}),_0x28b3f7['use']('/',Ie),_0x28b3f7['use']((_0x7cb613,_0xb1eec7,_0x550f89,_0x518f93)=>{const _0x528e3b=_0x28985d;if(_0x7cb613)return _0x550f89['status'](_0x7cb613[_0x528e3b(0x201)]||0x1f4)[_0x528e3b(0x402)](_0x7cb613);},(_0x5abad2,_0x511245,_0x439855)=>{const _0x5eef5a=_0x28985d;let {method:_0xbd4222,url:_0x2b6ef3}=_0x5abad2;_0x511245[_0x5eef5a(0x201)](0x194)[_0x5eef5a(0x402)]({'status':0x194,'message':_0x5eef5a(0x34d)+_0xbd4222[_0x5eef5a(0x290)]()+'\x20'+_0x2b6ef3,'error':_0x5eef5a(0x309)}),_0x439855();});let _0x9a6805=(_0x20990c,_0x5d0e27=_0x28985d(0x719))=>{const _0x2a9d80=_0x28985d;let _0x10935a=(_0x446a46,_0x428baf=null,_0x43484a=!0x1)=>{const _0x528650=a0_0x4692;let _0x49c832={};return Object[_0x528650(0x25d)](_0x446a46)[_0x528650(0x110)](_0x31f3fa=>{const _0x115a29=_0x528650;let _0x5a56de=_0x446a46[_0x31f3fa],_0x1071e8=''+_0x5d0e27+_0x31f3fa;_0x428baf&&!_0x43484a&&(_0x1071e8=_0x428baf+'.'+_0x31f3fa),!_0x5a56de&&_0x5a56de!==0x0&&_0x5a56de!==!0x1||typeof _0x5a56de>'u'?_0x49c832[_0x1071e8]=null:typeof _0x5a56de!='object'&&!Array[_0x115a29(0x404)](_0x5a56de)?_0x49c832[_0x1071e8]=_0x5a56de:typeof _0x5a56de==_0x115a29(0x6c9)&&!Array[_0x115a29(0x404)](_0x5a56de)?_0x49c832=Object['assign'](_0x49c832,_0x10935a(_0x5a56de,_0x1071e8)):Array[_0x115a29(0x404)](_0x5a56de)&&(typeof _0x5a56de[0x0]=='object'?(_0x49c832[_0x1071e8]=[],_0x5a56de['forEach'](_0x2ea3ba=>{const _0x41e4fb=_0x115a29;_0x49c832[_0x1071e8][_0x41e4fb(0x2d6)](_0x10935a(_0x2ea3ba,_0x1071e8,!0x0));})):_0x49c832[_0x1071e8]=_0x5a56de);}),_0x49c832;};return Array[_0x2a9d80(0x404)](_0x20990c)?_0x20990c['map'](_0xf667e5=>_0x10935a(_0xf667e5)):typeof _0x20990c==_0x2a9d80(0x6c9)&&_0x20990c!==null?_0x10935a(_0x20990c):{};},_0x425aab=S[_0x28985d(0x6a4)](_0x28985d(0x355));_e[_0x28985d(0x77f)]=_0x28b3f7;let _0x4c22cd=_e[_0x425aab[_0x28985d(0x794)]],_0x15a6c0=_0x28985d(0x16a);_0x4c22cd[_0x28985d(0x768)](_0x425aab[_0x28985d(0x221)],()=>{const _0x3f92e0=_0x28985d;_0xb86d1a[_0x3f92e0(0x2c6)](_0x15a6c0),_0xb86d1a[_0x3f92e0(0x2c6)](_0x425aab[_0x3f92e0(0x794)][_0x3f92e0(0x290)]()+_0x3f92e0(0x58c)+_0x425aab[_0x3f92e0(0x221)]);}),Uo(),zs();}var Vo=a0_0xe54586(0x3a0),Go=je[a0_0xe54586(0x2f8)]['join'](__dirname,a0_0xe54586(0x445)),ke=null;function Bo(){return new Promise((_0x1f9464,_0x14d1c4)=>{const _0x2ea4f1=a0_0x4692;pe[_0x2ea4f1(0x2f8)][_0x2ea4f1(0x127)](Go,_0x2ea4f1(0xcd),(_0x52abb5,_0x6a14b1)=>{const _0x5c519a=_0x2ea4f1;if(_0x52abb5){ke=_0x52abb5,_0x1f9464();return;}Ii[_0x5c519a(0x2f8)][_0x5c519a(0x229)](_0x6a14b1)[_0x5c519a(0x2bd)][_0x5c519a(0x4be)]===Vo?(ke=null,_0x1f9464()):(ke=new Error(_0x5c519a(0x44c)),_0x1f9464());});});}async function Wo(){const _0x5322bc=a0_0xe54586;try{await Bo(),await Ls();}catch(_0x1de32e){console[_0x5322bc(0x418)](_0x5322bc(0xc7)+_0x1de32e),process['exit'](0x1);}}Wo();async function xi(){const _0x5177cb=a0_0xe54586;let _0xb95118;try{_0xb95118=(await Pe[_0x5177cb(0x2f8)][_0x5177cb(0x6a4)](_0x5177cb(0x51b)))['data']['ip'];}catch(_0x5728a3){console[_0x5177cb(0x418)](_0x5728a3);try{_0xb95118=(await Pe[_0x5177cb(0x2f8)]['get'](_0x5177cb(0x34c)))['data']['ip'];}catch(_0x288192){console[_0x5177cb(0x418)](_0x288192);try{_0xb95118=(await Pe[_0x5177cb(0x2f8)]['get']('http://checkip.dyndns.org'))['data'][_0x5177cb(0x628)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x2f9bec){return console[_0x5177cb(0x418)](_0x2f9bec),!0x1;}}}return _0xb95118;}var Ri=0x0;async function zo(){const _0x3e9ff2=a0_0xe54586;let _0x2f9638=await new ce(S['get'](_0x3e9ff2(0x71b)))[_0x3e9ff2(0xfd)]();return console[_0x3e9ff2(0x2c6)](_0x3e9ff2(0x4ad),_0x2f9638[_0x3e9ff2(0x767)]),_0x2f9638[_0x3e9ff2(0x767)];}function Ho(_0x57a839){const _0x35716c=a0_0xe54586;let _0x1314f0=_0x57a839[_0x35716c(0x6a4)](_0x35716c(0x355))['URL'],_0x399ce8=_0x57a839['get']('SSL_CONF'),_0x336158;if(_0x1314f0){let _0x44fb99=_0x1314f0['match'](/\/\/(.*?)\./);_0x44fb99&&_0x44fb99[0x1]&&(_0x336158=_0x44fb99[0x1]);}if(!_0x336158&&_0x399ce8&&_0x399ce8[_0x35716c(0x529)]){let _0x3ebf26=_0x399ce8[_0x35716c(0x529)][_0x35716c(0x6fa)]('/'),_0x1521ff=_0x3ebf26[_0x3ebf26['length']-0x2];if(_0x1521ff){let _0x36e9e4=_0x1521ff['split']('.');_0x36e9e4[_0x35716c(0x767)]>0x2&&(_0x336158=_0x36e9e4[0x0]);}}return _0x336158;}var xs=Ho(S);async function Ko(){const _0x2d3909=a0_0xe54586;let _0x2d9335=S[_0x2d3909(0x6a4)](_0x2d3909(0x71b)),_0x52bd3a=S[_0x2d3909(0x6a4)](_0x2d3909(0x411))['API_KEY'][_0x2d3909(0x798)],_0x2e4b4d=S['get'](_0x2d3909(0x339)),_0xd812f5=await xi(),_0x4b6e07=S[_0x2d3909(0x6a4)]('SERVER')['PORT'],_0x4d19ec=S[_0x2d3909(0x6a4)](_0x2d3909(0x355))[_0x2d3909(0x3d4)];try{let _0x302064={'ip':_0xd812f5||null,'redis_enable':_0x2d9335?.[_0x2d3909(0x4f6)]||null,'apikey':_0x52bd3a||null,'ssl':_0x2e4b4d?.[_0x2d3909(0x95)]||null,'lastupdate':Di||null,'port':_0x4b6e07||null,'gitInstallError':ke?.[_0x2d3909(0x406)]||null,'url':_0x4d19ec||null};if(console[_0x2d3909(0x2c6)](_0x2d3909(0xe6),_0x302064['ip']),_0x2d9335&&_0x2d9335[_0x2d3909(0x4f6)]){let _0x2726bb=await zo();_0x302064['instanceCount']=_0x2726bb||null;}for(let _0x3b0bda in _0x302064)_0x302064[_0x2d3909(0x216)](_0x3b0bda)&&_0x3b0bda!=='ip'&&(_0x302064[_0x3b0bda]=JSON['stringify'](_0x302064[_0x3b0bda]));return(await Pe[_0x2d3909(0x2f8)]['post']('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0x302064))[_0x2d3909(0x6e7)];}catch(_0x13d483){return console[_0x2d3909(0x418)](_0x13d483),!0x1;}}var ks=!0x1,Di=0x244,Qo=0x3,$i=0x1b7740;async function Ls(){const _0x22f56f=a0_0xe54586;if(!await xi())return console[_0x22f56f(0x418)]('Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.'),_0x22f56f(0x208);let _0x4c6635=await Ko();if(_0x4c6635){if(_0x4c6635[_0x22f56f(0x1aa)][_0x22f56f(0x322)]===!0x0){let _0x5b7618=S[_0x22f56f(0x6a4)]('SSL_CONF'),_0xdd5a8a=S[_0x22f56f(0x6a4)](_0x22f56f(0x355))[_0x22f56f(0x3d4)];_0x5b7618&&_0x5b7618?.[_0x22f56f(0x95)]?.[_0x22f56f(0x1d8)](_0x22f56f(0x2e8))&&_0x4c6635[_0x22f56f(0x1aa)][_0x22f56f(0x55a)]&&!_0xdd5a8a&&(await Zo(_0x4c6635[_0x22f56f(0x1aa)]['subdomain'],Xo),await er(_0x22f56f(0xdb),_0x4c6635[_0x22f56f(0x1aa)]['subdomain']),console[_0x22f56f(0x2c6)](_0x22f56f(0x3f0)),setTimeout(()=>sr(),0x2710)),ke===null&&_0x4c6635[_0x22f56f(0x1aa)][_0x22f56f(0x6ab)]-Di>0x0&&await Yo(),ks||(ks=!0x0,qo());let _0x334ab1=0x24*0x3c*0x3c,_0x2090d5=_0x4c6635[_0x22f56f(0x1aa)][_0x22f56f(0x4a4)]>_0x334ab1?_0x334ab1:_0x4c6635[_0x22f56f(0x1aa)][_0x22f56f(0x4a4)],_0x3c6053=Number(_0x2090d5);if(isNaN(_0x3c6053)){console[_0x22f56f(0x418)](_0x22f56f(0x3a6));return;}let _0x2e8c11=Math[_0x22f56f(0x76a)](_0x3c6053/0xe10),_0x295ebf=Math[_0x22f56f(0x76a)](_0x3c6053%0xe10/0x3c),_0x6eb4a9=new Date(Date['now']()+_0x3c6053*0x3e8);setTimeout(Ls,_0x3c6053*0x3e8);let _0x43261f=_0x2a822f=>_0x2a822f[_0x22f56f(0x27f)]()['padStart'](0x2,'0'),_0x1e0885=_0x22f56f(0x481)+_0x43261f(_0x2e8c11)+_0x22f56f(0x371)+_0x43261f(_0x295ebf)+'\x20minutos.\x20Será\x20às\x20'+_0x43261f(_0x6eb4a9[_0x22f56f(0x39c)]())+':'+_0x43261f(_0x6eb4a9[_0x22f56f(0x2a3)]())+'.';console['log'](_0x1e0885);}else return console[_0x22f56f(0x2c6)](_0x22f56f(0x370)),ks&&(console[_0x22f56f(0x2c6)](_0x22f56f(0xde)),process[_0x22f56f(0x1e1)]()),_0x22f56f(0x251);}else{if(Ri++,Ri<Qo)console[_0x22f56f(0x2c6)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+$i/0xea60+'\x20minutos...'),setTimeout(Ls,$i);else return console[_0x22f56f(0x418)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),_0x22f56f(0x5ef);}}async function Yo(){const _0x42a018=a0_0xe54586;console['log'](_0x42a018(0x661));let _0x5b9dc1=(0x0,Le[_0x42a018(0x6fe)])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x5b9dc1['stdout']['on'](_0x42a018(0x6e7),_0x44aab7=>{console['log']('Atualização:\x20'+_0x44aab7);}),_0x5b9dc1[_0x42a018(0x6bb)]['on']('data',_0x420c22=>{const _0x2f25d8=_0x42a018;console['error'](_0x2f25d8(0x425)+_0x420c22);}),_0x5b9dc1['on'](_0x42a018(0x1e1),_0x30deff=>{const _0x54f04b=_0x42a018;_0x30deff!==0x0?console['error']('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x30deff):console[_0x54f04b(0x2c6)](_0x54f04b(0x138)),console[_0x54f04b(0x2c6)](_0x54f04b(0x635)),setTimeout(()=>process[_0x54f04b(0x1e1)](),0x2710);});}var Xo=je['default']['join'](__dirname,a0_0xe54586(0x4fb));async function Zo(_0x3a411a,_0x44dc06){const _0x50e49e=a0_0xe54586;let _0x2bf2c3=tr();_0x3a411a=_0x3a411a[_0x50e49e(0x6fd)](_0x50e49e(0x2f0),'');try{let _0x1b107c=pe['default'][_0x50e49e(0x722)](_0x44dc06,_0x50e49e(0x4bd));_0x1b107c=_0x1b107c[_0x50e49e(0x6fd)](/<apikey>/,_0x2bf2c3),_0x1b107c=_0x1b107c['replace'](/<subdomain>/g,_0x3a411a),pe[_0x50e49e(0x2f8)]['writeFileSync'](_0x44dc06,_0x1b107c,'utf8'),console['log'](_0x50e49e(0x333));}catch(_0xa19b26){console[_0x50e49e(0x418)](_0x50e49e(0xe5),_0xa19b26);}}function er(_0x2f460e,_0x1a332c){return new Promise((_0x57dffe,_0x2f5476)=>{const _0x4fa5bc=a0_0x4692;let _0x44eed1=(0x0,Le['spawn'])(_0x4fa5bc(0x598),[_0x4fa5bc(0x3bc),_0x4fa5bc(0x25e),'-m',_0x2f460e,_0x4fa5bc(0x37e),'-d',_0x1a332c]);_0x44eed1[_0x4fa5bc(0x374)]['on'](_0x4fa5bc(0x6e7),_0x2d5660=>{const _0xeb153d=_0x4fa5bc;console['log']('Certbot:\x20'+_0x2d5660[_0xeb153d(0x27f)]());}),_0x44eed1[_0x4fa5bc(0x6bb)]['on'](_0x4fa5bc(0x6e7),_0x4f78bc=>{const _0x3f58c3=_0x4fa5bc;console[_0x3f58c3(0x418)](_0x3f58c3(0x113)+_0x4f78bc[_0x3f58c3(0x27f)]());}),_0x44eed1['on'](_0x4fa5bc(0x29c),_0x508032=>{const _0x3dd1b3=_0x4fa5bc;_0x508032!==0x0?(console[_0x3dd1b3(0x418)](_0x3dd1b3(0x302)+_0x508032),_0x2f5476(_0x3dd1b3(0x302)+_0x508032)):(console[_0x3dd1b3(0x2c6)]('Certbot\x20executado\x20com\x20sucesso.'),_0x57dffe());});});}function tr(_0x3fbd35=0x32){const _0x5585a7=a0_0xe54586;let _0x2aebe1=_0x5585a7(0x348),_0x22116b='';for(let _0x5eda7a=0x0;_0x5eda7a<_0x3fbd35;_0x5eda7a++)_0x22116b+=_0x2aebe1[_0x5585a7(0x59c)](Math['floor'](Math[_0x5585a7(0x6f2)]()*_0x2aebe1[_0x5585a7(0x767)]));return _0x22116b;}function sr(){const _0x786ebf=a0_0xe54586;(0x0,Le[_0x786ebf(0x77b)])(_0x786ebf(0x781),(_0x59fd7d,_0x40f136,_0x447454)=>{const _0x54ff33=_0x786ebf;if(_0x59fd7d){console[_0x54ff33(0x418)](_0x54ff33(0x26f)+_0x59fd7d);return;}if(_0x447454){console[_0x54ff33(0x418)](_0x54ff33(0x2be)+_0x447454);return;}console[_0x54ff33(0x2c6)](_0x54ff33(0x1a7)+_0x40f136);});}0x0&&(module[a0_0xe54586(0x3ae)]={'subdomain':subdomain});