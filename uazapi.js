const a0_0x200bc3=a0_0x3e29;(function(_0x131bb5,_0xc49077){const _0x1bc70b=a0_0x3e29,_0x5cfc7b=_0x131bb5();while(!![]){try{const _0x15025f=-parseInt(_0x1bc70b(0x326))/0x1*(parseInt(_0x1bc70b(0x256))/0x2)+parseInt(_0x1bc70b(0x58a))/0x3+-parseInt(_0x1bc70b(0x758))/0x4*(-parseInt(_0x1bc70b(0x28c))/0x5)+-parseInt(_0x1bc70b(0x2da))/0x6+parseInt(_0x1bc70b(0x36d))/0x7*(-parseInt(_0x1bc70b(0x441))/0x8)+parseInt(_0x1bc70b(0x5d3))/0x9+parseInt(_0x1bc70b(0x2be))/0xa;if(_0x15025f===_0xc49077)break;else _0x5cfc7b['push'](_0x5cfc7b['shift']());}catch(_0x39e9db){_0x5cfc7b['push'](_0x5cfc7b['shift']());}}}(a0_0x1d20,0x70d95));var Uo=Object[a0_0x200bc3(0x57d)],Bs=Object[a0_0x200bc3(0x4b1)],Vo=Object[a0_0x200bc3(0x55a)],jo=Object[a0_0x200bc3(0x6ba)],Bo=Object[a0_0x200bc3(0x41a)],Fo=Object[a0_0x200bc3(0x329)][a0_0x200bc3(0x223)],Jo=(_0xdc7996,_0x50e7d4,_0x513971,_0x45ce68)=>{const _0x1e0971=a0_0x200bc3;if(_0x50e7d4&&typeof _0x50e7d4=='object'||typeof _0x50e7d4==_0x1e0971(0x258)){for(let _0x39e925 of jo(_0x50e7d4))!Fo[_0x1e0971(0x371)](_0xdc7996,_0x39e925)&&_0x39e925!==_0x513971&&Bs(_0xdc7996,_0x39e925,{'get':()=>_0x50e7d4[_0x39e925],'enumerable':!(_0x45ce68=Vo(_0x50e7d4,_0x39e925))||_0x45ce68[_0x1e0971(0x406)]});}return _0xdc7996;},T=(_0xae85d7,_0x462535,_0x41274b)=>(_0x41274b=_0xae85d7!=null?Uo(Bo(_0xae85d7)):{},Jo(_0x462535||!_0xae85d7||!_0xae85d7[a0_0x200bc3(0x2a3)]?Bs(_0x41274b,'default',{'value':_0xae85d7,'enumerable':!0x0}):_0x41274b,_0xae85d7)),Do=T(require(a0_0x200bc3(0x513))),Js=require('fs'),Gs=require(a0_0x200bc3(0x3a5)),qs=require(a0_0x200bc3(0x230)),Ue=require('path'),Y=process['cwd'](),j=(0x0,Ue[a0_0x200bc3(0x62e)])(Y,'instances'),Fs=(0x0,Ue['join'])(Y,'src'),es=(0x0,Ue['join'])(Y,'store',a0_0x200bc3(0x5f5)),Ws=require(a0_0x200bc3(0x6c7)),ts=class{constructor(){this['loadEnv']();}['get'](_0x2c473a){const _0x2c8e7e=a0_0x200bc3;return this[_0x2c8e7e(0x352)][_0x2c473a];}[a0_0x200bc3(0x4bf)](){const _0x24a425=a0_0x200bc3;this[_0x24a425(0x352)]=process[_0x24a425(0x352)]?.[_0x24a425(0x369)]!=='true'?this[_0x24a425(0x3b9)]():this[_0x24a425(0x3b8)](),this[_0x24a425(0x352)][_0x24a425(0x65d)]=process[_0x24a425(0x352)]?.[_0x24a425(0x428)]===_0x24a425(0x6e1),process[_0x24a425(0x352)]?.[_0x24a425(0x369)]===_0x24a425(0x564)&&(this['env']['SERVER'][_0x24a425(0x400)]=_0x24a425(0x5d4),this[_0x24a425(0x352)][_0x24a425(0x575)][_0x24a425(0x5ad)]=Number[_0x24a425(0x553)](process['env']?.['SERVER_PORT']??_0x24a425(0x336)));}[a0_0x200bc3(0x3b9)](){const _0xadd1d9=a0_0x200bc3;return(0x0,Gs[_0xadd1d9(0x52c)])((0x0,Js[_0xadd1d9(0x1b8)])((0x0,qs['join'])(Fs,_0xadd1d9(0x594)),{'encoding':_0xadd1d9(0x264)}));}[a0_0x200bc3(0x3b8)](){const _0x52bc32=a0_0x200bc3;return{'SERVER':{'TYPE':process[_0x52bc32(0x352)]['SERVER_TYPE'],'PORT':Number['parseInt'](process[_0x52bc32(0x352)][_0x52bc32(0x64c)])},'CORS':{'ORIGIN':process[_0x52bc32(0x352)][_0x52bc32(0x3db)][_0x52bc32(0x5a8)](','),'METHODS':process[_0x52bc32(0x352)][_0x52bc32(0x651)][_0x52bc32(0x5a8)](','),'CREDENTIALS':process[_0x52bc32(0x352)]?.[_0x52bc32(0x663)]==='true'},'SSL_CONF':{'PRIVKEY':process['env']?.[_0x52bc32(0x4c3)],'FULLCHAIN':process['env']?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number[_0x52bc32(0x380)](process[_0x52bc32(0x352)]?.[_0x52bc32(0x4fc)])?Number[_0x52bc32(0x553)](process[_0x52bc32(0x352)][_0x52bc32(0x4fc)]):void 0x0,'MESSAGES':process['env']?.[_0x52bc32(0x3a8)]===_0x52bc32(0x564),'CONTACTS':process[_0x52bc32(0x352)]?.['STORE_CONTACTS']===_0x52bc32(0x564),'CHATS':process[_0x52bc32(0x352)]?.[_0x52bc32(0x4c2)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0x52bc32(0x352)]?.['DATABASE_CONNECTION_HOST'],'PORT':Number[_0x52bc32(0x553)](process[_0x52bc32(0x352)]?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x52bc32(0x352)][_0x52bc32(0x1e1)],'PASSWORD':process[_0x52bc32(0x352)][_0x52bc32(0x41d)],'URI':process[_0x52bc32(0x352)][_0x52bc32(0x444)],'DB_PREFIX_NAME':process[_0x52bc32(0x352)][_0x52bc32(0x33c)]},'ENABLED':process[_0x52bc32(0x352)]?.['DATABASE_ENABLED']===_0x52bc32(0x564)},'REDIS':{'ENABLED':process[_0x52bc32(0x352)]?.[_0x52bc32(0x68d)]===_0x52bc32(0x564),'URI':process['env'][_0x52bc32(0x434)],'PREFIX_KEY':process['env']['REDIS_PREFIX_KEY']},'LOG':{'LEVEL':process[_0x52bc32(0x352)]?.[_0x52bc32(0x516)]['split'](','),'COLOR':process['env']?.['LOG_COLOR']==='true'},'DEL_INSTANCE':(0x0,Ws[_0x52bc32(0x410)])(process['env']?.['DEL_INSTANCE'])?process['env'][_0x52bc32(0x246)]===_0x52bc32(0x564):Number['parseInt'](process[_0x52bc32(0x352)][_0x52bc32(0x246)])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process[_0x52bc32(0x352)][_0x52bc32(0x274)]?process[_0x52bc32(0x352)][_0x52bc32(0x274)]==='true':!0x1,'GLOBAL':{'URL':process[_0x52bc32(0x352)]?.[_0x52bc32(0x2d8)],'ENABLED':process[_0x52bc32(0x352)]?.[_0x52bc32(0x748)]==='true'},'EVENTS':{'STATUS_INSTANCE':process['env']?.['WEBHOOK_EVENTS_STATUS_INSTANCE']==='true','QRCODE_UPDATED':process[_0x52bc32(0x352)]?.[_0x52bc32(0x37a)]===_0x52bc32(0x564),'MESSAGES_SET':process[_0x52bc32(0x352)]?.[_0x52bc32(0x2e9)]===_0x52bc32(0x564),'MESSAGES_UPSERT':process[_0x52bc32(0x352)]?.[_0x52bc32(0x27d)]==='true','MESSAGES_UPDATE':process['env']?.[_0x52bc32(0x28d)]==='true','SEND_MESSAGE':process[_0x52bc32(0x352)]?.[_0x52bc32(0x6b8)]===_0x52bc32(0x564),'CONTACTS_SET':process[_0x52bc32(0x352)]?.[_0x52bc32(0x619)]==='true','CONTACTS_UPDATE':process['env']?.[_0x52bc32(0x481)]==='true','CONTACTS_UPSERT':process[_0x52bc32(0x352)]?.[_0x52bc32(0x315)]===_0x52bc32(0x564),'PRESENCE_UPDATE':process[_0x52bc32(0x352)]?.['WEBHOOK_EVENTS_PRESENCE_UPDATE']===_0x52bc32(0x564),'CHATS_SET':process[_0x52bc32(0x352)]?.[_0x52bc32(0x6a9)]===_0x52bc32(0x564),'CHATS_UPDATE':process[_0x52bc32(0x352)]?.['WEBHOOK_EVENTS_CHATS_UPDATE']==='true','CHATS_UPSERT':process[_0x52bc32(0x352)]?.['WEBHOOK_EVENTS_CHATS_UPSERT']===_0x52bc32(0x564),'CHATS_DELETE':process[_0x52bc32(0x352)]?.[_0x52bc32(0x490)]===_0x52bc32(0x564),'CONNECTION_UPDATE':process[_0x52bc32(0x352)]?.[_0x52bc32(0x7a2)]===_0x52bc32(0x564),'GROUPS_UPSERT':process[_0x52bc32(0x352)]?.['WEBHOOK_EVENTS_GROUPS_UPSERT']===_0x52bc32(0x564),'GROUP_UPDATE':process[_0x52bc32(0x352)]?.[_0x52bc32(0x242)]===_0x52bc32(0x564),'GROUP_PARTICIPANTS_UPDATE':process[_0x52bc32(0x352)]?.[_0x52bc32(0x58e)]===_0x52bc32(0x564),'NEW_JWT_TOKEN':process[_0x52bc32(0x352)]?.[_0x52bc32(0x56e)]===_0x52bc32(0x564)}},'CONFIG_SESSION_PHONE':{'CLIENT':process[_0x52bc32(0x352)]?.[_0x52bc32(0x51b)]||_0x52bc32(0x4b7),'NAME':process[_0x52bc32(0x352)]?.[_0x52bc32(0x689)]||'chrome'},'QRCODE':{'LIMIT':Number[_0x52bc32(0x553)](process[_0x52bc32(0x352)][_0x52bc32(0x427)])||0x5},'TRIAL_AD':process['env']?.['TRIAL_AD'],'TRIAL_INSTANCE_NAME':process[_0x52bc32(0x352)]?.[_0x52bc32(0x6b5)],'AUTOUPDATE':process['env']?.[_0x52bc32(0x705)]==='true','PHONE':process['env']?.[_0x52bc32(0x402)],'AUTHENTICATION':{'TYPE':process[_0x52bc32(0x352)][_0x52bc32(0x29d)],'API_KEY':{'KEY':process[_0x52bc32(0x352)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x52bc32(0x380)](process[_0x52bc32(0x352)]?.[_0x52bc32(0x5ba)])?Number[_0x52bc32(0x553)](process[_0x52bc32(0x352)][_0x52bc32(0x5ba)]):0xe10,'SECRET':process[_0x52bc32(0x352)][_0x52bc32(0x385)]}}};}},y=new ts(),Po=T(require(a0_0x200bc3(0x4ed))),me=T(require('express')),ks=require('path'),ss=T(require('dayjs')),as=(_0x63bc49=>(_0x63bc49[a0_0x200bc3(0x628)]=a0_0x200bc3(0x2de),_0x63bc49[a0_0x200bc3(0x2b1)]=a0_0x200bc3(0x32d),_0x63bc49['WARN']='\x1b[33m',_0x63bc49['ERROR']=a0_0x200bc3(0x1e4),_0x63bc49[a0_0x200bc3(0x63d)]='\x1b[36m',_0x63bc49[a0_0x200bc3(0x4fd)]=a0_0x200bc3(0x318),_0x63bc49[a0_0x200bc3(0x67c)]='\x1b[30m',_0x63bc49))(as||{}),Hs=(_0x1b400d=>(_0x1b400d[a0_0x200bc3(0x628)]=a0_0x200bc3(0x4fb),_0x1b400d[a0_0x200bc3(0x67c)]=a0_0x200bc3(0x626),_0x1b400d['INFO']=a0_0x200bc3(0x34b),_0x1b400d[a0_0x200bc3(0x62b)]=a0_0x200bc3(0x358),_0x1b400d[a0_0x200bc3(0x32a)]=a0_0x200bc3(0x75a),_0x1b400d[a0_0x200bc3(0x63d)]=a0_0x200bc3(0x3f4),_0x1b400d[a0_0x200bc3(0x4fd)]=a0_0x200bc3(0x26b),_0x1b400d))(Hs||{}),Ks=(_0x4f9bef=>(_0x4f9bef['LOG']='LOG',_0x4f9bef['WARN']=a0_0x200bc3(0x62b),_0x4f9bef[a0_0x200bc3(0x2b1)]=a0_0x200bc3(0x2b1),_0x4f9bef[a0_0x200bc3(0x67c)]=a0_0x200bc3(0x67c),_0x4f9bef[a0_0x200bc3(0x32a)]=a0_0x200bc3(0x32a),_0x4f9bef[a0_0x200bc3(0x63d)]='DEBUG',_0x4f9bef[a0_0x200bc3(0x4fd)]='VERBOSE',_0x4f9bef))(Ks||{}),zs=(_0x87af3f=>(_0x87af3f[a0_0x200bc3(0x628)]=a0_0x200bc3(0x5ff),_0x87af3f[a0_0x200bc3(0x2b1)]=a0_0x200bc3(0x5ed),_0x87af3f[a0_0x200bc3(0x62b)]='\x1b[43m',_0x87af3f[a0_0x200bc3(0x67c)]=a0_0x200bc3(0x523),_0x87af3f[a0_0x200bc3(0x32a)]=a0_0x200bc3(0x60a),_0x87af3f['DEBUG']=a0_0x200bc3(0x7a9),_0x87af3f[a0_0x200bc3(0x4fd)]=a0_0x200bc3(0x73f),_0x87af3f))(zs||{}),C=class{constructor(_0x45ecc3=a0_0x200bc3(0x763)){const _0x45e8ba=a0_0x200bc3;this[_0x45e8ba(0x24e)]=_0x45ecc3,this['configService']=y;}[a0_0x200bc3(0x241)](_0x1fb9f5){const _0x5b12a4=a0_0x200bc3;this[_0x5b12a4(0x24e)]=_0x1fb9f5;}[a0_0x200bc3(0x6bf)](_0x125736,_0x34be00){const _0x5042d8=a0_0x200bc3;let _0x562ed9=[];this[_0x5042d8(0x712)][_0x5042d8(0x313)](_0x5042d8(0x628))[_0x5042d8(0x5a6)]['forEach'](_0x495b05=>_0x562ed9[_0x5042d8(0x20a)](Ks[_0x495b05]));let _0x5be1e7=typeof _0x125736;_0x562ed9[_0x5042d8(0x46e)](_0x34be00)&&(y[_0x5042d8(0x313)](_0x5042d8(0x628))[_0x5042d8(0x6d2)]?(console[_0x5042d8(0x23f)]('\x1b[1m'+Hs[_0x34be00],_0x5042d8(0x469),(0x0,ss[_0x5042d8(0x2bb)])()[_0x5042d8(0x4c6)]('DD/MM\x20HH:mm:ss'),_0x5042d8(0x74a),as[_0x34be00]+zs[_0x34be00]+_0x5042d8(0x688),_0x34be00+'\x20\x1b[0m','\x1b[33m\x1b[1m',this[_0x5042d8(0x24e)]+_0x5042d8(0x74a),as[_0x34be00],_0x5be1e7!==_0x5042d8(0x29a)?_0x125736:'',_0x5042d8(0x74a)),_0x5be1e7===_0x5042d8(0x29a)&&console[_0x5042d8(0x23f)](_0x125736,'\x0a')):console[_0x5042d8(0x23f)]((0x0,ss[_0x5042d8(0x2bb)])()[_0x5042d8(0x4c6)]('HH:mm:ss'),_0x34be00+'\x20',''+this[_0x5042d8(0x24e)],_0x125736));}[a0_0x200bc3(0x23f)](_0x2871af){const _0x46dd36=a0_0x200bc3;this[_0x46dd36(0x6bf)](_0x2871af,_0x46dd36(0x628));}[a0_0x200bc3(0x253)](_0x230550){const _0x266d54=a0_0x200bc3;this[_0x266d54(0x6bf)](_0x230550,_0x266d54(0x2b1));}[a0_0x200bc3(0x514)](_0x53ec5d){this['console'](_0x53ec5d,'WARN');}['error'](_0x40931f){const _0x5cb4a2=a0_0x200bc3;this['console'](_0x40931f,_0x5cb4a2(0x32a));}[a0_0x200bc3(0x6d7)](_0x3ef2b2){const _0x580445=a0_0x200bc3;this[_0x580445(0x6bf)](_0x3ef2b2,'VERBOSE');}[a0_0x200bc3(0x417)](_0x1ee92f){const _0x377cc5=a0_0x200bc3;this[_0x377cc5(0x6bf)](_0x1ee92f,_0x377cc5(0x63d));}[a0_0x200bc3(0x200)](_0x28b533){const _0x4bb6da=a0_0x200bc3;this[_0x4bb6da(0x6bf)](_0x28b533,_0x4bb6da(0x67c));}};function Qs(){process['on']('uncaughtException',(_0x41f068,_0x3e8060)=>{const _0x29e8c3=a0_0x3e29;new C(_0x29e8c3(0x6e3))['error']({'origin':_0x3e8060,'stderr':process[_0x29e8c3(0x22f)]['fd'],'error':_0x41f068});}),process['on']('unhandledRejection',(_0x337c40,_0x23a5ef)=>{const _0x3b8ac4=a0_0x3e29;new C(_0x3b8ac4(0x715))[_0x3b8ac4(0x22d)]({'origin':_0x23a5ef,'stderr':process[_0x3b8ac4(0x22f)]['fd'],'error':_0x337c40});});}var Ys=T(require(a0_0x200bc3(0x79f))),os=new Ys[(a0_0x200bc3(0x2bb))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),le=require('path'),he=require('fs'),is=require(a0_0x200bc3(0x230)),B=class{constructor(_0x4f45b9){const _0x2dc5c0=a0_0x200bc3;this[_0x2dc5c0(0x5bd)]=(0x0,is[_0x2dc5c0(0x62e)])(Y,'store'),this[_0x2dc5c0(0x76d)]=_0x394dd7=>{const _0x2c4630=_0x2dc5c0;(0x0,he[_0x2c4630(0x266)])(_0x394dd7[_0x2c4630(0x230)])||(0x0,he[_0x2c4630(0x467)])(_0x394dd7[_0x2c4630(0x230)],{'recursive':!0x0});try{return(0x0,he[_0x2c4630(0x695)])((0x0,is[_0x2c4630(0x62e)])(_0x394dd7[_0x2c4630(0x230)],_0x394dd7['fileName']+_0x2c4630(0x70e)),JSON['stringify']({..._0x394dd7[_0x2c4630(0x69b)]}),{'encoding':_0x2c4630(0x264)}),{'message':_0x2c4630(0x409)};}finally{_0x394dd7['data']=void 0x0;}},this[_0x2dc5c0(0x527)]=_0x4f45b9[_0x2dc5c0(0x313)](_0x2dc5c0(0x496));}['insert'](_0x2fad80,_0xe1597=!0x1){const _0x38b863=a0_0x200bc3;throw new Error(_0x38b863(0x686));}[a0_0x200bc3(0x487)](_0x4d8e89){const _0x2c79ca=a0_0x200bc3;throw new Error(_0x2c79ca(0x686));}[a0_0x200bc3(0x3e3)](_0x5483e5,_0x21d3f3){const _0xbf6cda=a0_0x200bc3;throw new Error(_0xbf6cda(0x686));}},oe=require('fs'),Ve=class{},je=class extends B{constructor(_0xe35f88,_0x4edbf9){const _0x51c364=a0_0x200bc3;super(_0x4edbf9),this[_0x51c364(0x592)]=_0xe35f88,this[_0x51c364(0x712)]=_0x4edbf9;}async[a0_0x200bc3(0x3fd)](_0x1e3f7a,_0x13a064=!0x1){const _0x481d78=a0_0x200bc3;if(_0x1e3f7a[_0x481d78(0x306)]!==0x0)try{return this[_0x481d78(0x527)][_0x481d78(0x2ea)]&&_0x13a064?{'insertCount':(await this[_0x481d78(0x592)][_0x481d78(0x682)]([..._0x1e3f7a]))[_0x481d78(0x306)]}:_0x13a064?(_0x1e3f7a[_0x481d78(0x5c6)](_0x3920bc=>this[_0x481d78(0x76d)]({'path':(0x0,le['join'])(this[_0x481d78(0x5bd)],_0x481d78(0x64d),_0x3920bc[_0x481d78(0x332)]),'fileName':_0x3920bc[_0x481d78(0x781)]['id'],'data':_0x3920bc})),{'insertCount':_0x1e3f7a['length']}):{'insertCount':0x0};}catch(_0x5923ba){return console[_0x481d78(0x23f)](_0x481d78(0x547),_0x5923ba),_0x5923ba;}finally{_0x1e3f7a=void 0x0;}}async['find'](_0x1270ab){const _0x2d924e=a0_0x200bc3;try{if(this[_0x2d924e(0x527)][_0x2d924e(0x2ea)]){if(_0x1270ab?.['where']?.[_0x2d924e(0x781)]){for(let [_0x42f68f,_0x2e6c65]of Object['entries'](_0x1270ab['where'][_0x2d924e(0x781)]))_0x1270ab[_0x2d924e(0x6cb)][_0x2d924e(0x75c)+_0x42f68f]=_0x2e6c65;delete _0x1270ab?.[_0x2d924e(0x6cb)]?.[_0x2d924e(0x781)];}return await this[_0x2d924e(0x592)][_0x2d924e(0x487)]({..._0x1270ab[_0x2d924e(0x6cb)]})['sort']({'messageTimestamp':-0x1})[_0x2d924e(0x2e7)](_0x1270ab?.[_0x2d924e(0x2e7)]??0x0);}let _0x6b72d0=[];if(_0x1270ab?.[_0x2d924e(0x6cb)]?.[_0x2d924e(0x781)]?.['id'])_0x6b72d0[_0x2d924e(0x20a)](JSON[_0x2d924e(0x654)]((0x0,oe['readFileSync'])((0x0,le['join'])(this[_0x2d924e(0x5bd)],_0x2d924e(0x64d),_0x1270ab[_0x2d924e(0x6cb)][_0x2d924e(0x332)],_0x1270ab[_0x2d924e(0x6cb)]['key']['id']+_0x2d924e(0x70e)),{'encoding':_0x2d924e(0x264)})));else{let _0x4a9b4e=(0x0,oe[_0x2d924e(0x6ad)])((0x0,le['join'])(this['storePath'],'messages',_0x1270ab[_0x2d924e(0x6cb)][_0x2d924e(0x332)]),{'encoding':_0x2d924e(0x264)});for await(let _0x5720f7 of _0x4a9b4e)_0x5720f7[_0x2d924e(0x5be)]()&&_0x6b72d0[_0x2d924e(0x20a)](JSON[_0x2d924e(0x654)]((0x0,oe[_0x2d924e(0x1b8)])((0x0,le[_0x2d924e(0x62e)])(this['storePath'],'messages',_0x1270ab[_0x2d924e(0x6cb)][_0x2d924e(0x332)],_0x5720f7[_0x2d924e(0x31b)]),{'encoding':_0x2d924e(0x264)})));}return _0x6b72d0[_0x2d924e(0x2e2)]((_0x4b7804,_0x448e07)=>_0x448e07[_0x2d924e(0x613)]-_0x4b7804[_0x2d924e(0x613)])['splice'](0x0,_0x1270ab?.[_0x2d924e(0x2e7)]??_0x6b72d0[_0x2d924e(0x306)]);}catch{return[];}}async['delete'](_0x343ec9){const _0x36f854=a0_0x200bc3;try{if(this[_0x36f854(0x527)][_0x36f854(0x2ea)])await this[_0x36f854(0x592)][_0x36f854(0x5cc)]({..._0x343ec9[_0x36f854(0x6cb)]});else{let {owner:_0x525fae}=_0x343ec9[_0x36f854(0x6cb)];(0x0,oe[_0x36f854(0x1c7)])((0x0,le[_0x36f854(0x62e)])(this[_0x36f854(0x5bd)],'messages',_0x525fae))[_0x36f854(0x5c6)](_0x3b1f63=>{const _0x28a7d4=_0x36f854;let _0x16b3a2=(0x0,le['join'])(this[_0x28a7d4(0x5bd)],_0x28a7d4(0x64d),_0x525fae,_0x3b1f63);(0x0,oe[_0x28a7d4(0x6ed)])(_0x16b3a2);});}}catch(_0x7f5f60){console[_0x36f854(0x22d)](_0x7f5f60);}}async[a0_0x200bc3(0x511)](_0x3a136c,_0x19c5b9){const _0x2a6c64=a0_0x200bc3;try{let _0x8408b1=null;if(this[_0x2a6c64(0x527)]['ENABLED'])return _0x8408b1=await this['messageModel'][_0x2a6c64(0x570)]({..._0x3a136c['where']},{'$set':_0x19c5b9},{'new':!0x0}),_0x8408b1;}catch(_0x158e36){throw console['error'](_0x158e36),_0x158e36;}}async['insertMany'](_0x3d35e1,_0x28971f=!0x1){const _0x2a7f10=a0_0x200bc3;if(_0x3d35e1[_0x2a7f10(0x306)]!==0x0)try{return this['dbSettings'][_0x2a7f10(0x2ea)]&&_0x28971f?{'insertCount':(await this[_0x2a7f10(0x592)][_0x2a7f10(0x682)]([..._0x3d35e1]))[_0x2a7f10(0x306)]}:_0x28971f?(_0x3d35e1[_0x2a7f10(0x5c6)](_0x86cfbc=>this[_0x2a7f10(0x76d)]({'path':(0x0,le[_0x2a7f10(0x62e)])(this[_0x2a7f10(0x5bd)],_0x2a7f10(0x64d),_0x86cfbc['owner']),'fileName':_0x86cfbc[_0x2a7f10(0x781)]['id'],'data':_0x86cfbc})),{'insertCount':_0x3d35e1[_0x2a7f10(0x306)]}):{'insertCount':0x0};}catch(_0x4c026c){return console['log'](_0x2a7f10(0x547),_0x4c026c),_0x4c026c;}finally{_0x3d35e1=void 0x0;}}},se=require('fs'),uo=T(require(a0_0x200bc3(0x446))),w=T(require(a0_0x200bc3(0x42d))),_e=require('fs'),$=T(require(a0_0x200bc3(0x230))),ue=T(require(a0_0x200bc3(0x508))),po=require(a0_0x200bc3(0x74d)),go=T(require(a0_0x200bc3(0x45b))),mo=T(require(a0_0x200bc3(0x767))),Xs=['imageMessage','documentMessage','audioMessage',a0_0x200bc3(0x48c),a0_0x200bc3(0x6f0)],Zs=[a0_0x200bc3(0x5f9),a0_0x200bc3(0x1d9),'viewOnceMessage','viewOnceMessageV2'],ho=require('os'),kt=T(require('pino')),Vt=require(a0_0x200bc3(0x1e3)),Ns=require('node-mime-types'),Be=require(a0_0x200bc3(0x604)),rs=T(require(a0_0x200bc3(0x604))),ea=new C(a0_0x200bc3(0x46a)),G=y[a0_0x200bc3(0x313)]('DATABASE'),M=G['ENABLED']?G['CONNECTION']['URI']?rs[a0_0x200bc3(0x2bb)][a0_0x200bc3(0x665)](G['CONNECTION'][a0_0x200bc3(0x436)],{'dbName':G[a0_0x200bc3(0x76e)]['DB_PREFIX_NAME']+a0_0x200bc3(0x33f)}):rs[a0_0x200bc3(0x2bb)]['createConnection'](a0_0x200bc3(0x583)+G[a0_0x200bc3(0x76e)]['HOST']+':'+G[a0_0x200bc3(0x76e)][a0_0x200bc3(0x5ad)]+a0_0x200bc3(0x5bf),{'user':G[a0_0x200bc3(0x76e)][a0_0x200bc3(0x38a)],'pass':G[a0_0x200bc3(0x76e)][a0_0x200bc3(0x237)],'dbName':G[a0_0x200bc3(0x76e)][a0_0x200bc3(0x63e)]+a0_0x200bc3(0x33f)}):null;G['ENABLED']&&ea[a0_0x200bc3(0x253)](a0_0x200bc3(0x1dd)+M['$dbName']);async function Go(){const _0xb58193=a0_0x200bc3;await D[_0xb58193(0x579)]({'leadInfo.tags':{'$exists':!0x1}},{'$set':{'leadInfo.tags':[]}}),await D['updateMany']({'leadInfo.customFields':{'$exists':!0x1}},{'$set':{'leadInfo.customFields':[]}}),await D[_0xb58193(0x579)]({},{'$unset':{'lastUpdate':0x1,'lastMsgUpdate':0x1}});}M?.['on'](a0_0x200bc3(0x431),()=>{const _0x1d4603=a0_0x200bc3;D&&Go()[_0x1d4603(0x245)](_0x387afe=>ea['error'](_0x1d4603(0x5f1)+_0x387afe));});var ns=class{},qo=new Be[(a0_0x200bc3(0x580))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Wo=new Be[(a0_0x200bc3(0x580))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[qo],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Ho=new Be[(a0_0x200bc3(0x580))]({'_id':{'type':String,'_id':!0x0},'id':{'type':String,'required':!0x0,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Wo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'lastUpdate':{'type':Number},'lastMsgUpdate':{'type':Number}}),D=M?.[a0_0x200bc3(0x1e9)](ns['name'],Ho,'chats'),ta=require('mongoose'),cs=class{},Ko=new ta[(a0_0x200bc3(0x580))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'id':{'type':String,'required':!0x0,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Fe=M?.[a0_0x200bc3(0x1e9)](cs[a0_0x200bc3(0x31b)],Ko,a0_0x200bc3(0x518)),O=require(a0_0x200bc3(0x604)),sa=new O[(a0_0x200bc3(0x580))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ls=new O[(a0_0x200bc3(0x580))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),zo=new O['Schema']({'command':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'pollErrorMessage':{'type':String,'default':a0_0x200bc3(0x5b7)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),aa=new O[(a0_0x200bc3(0x580))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),oa=new O[(a0_0x200bc3(0x580))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),Qo=new O['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ia=new O[(a0_0x200bc3(0x580))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':zo},'apirequest':oa,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),hs=new O[(a0_0x200bc3(0x580))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ra=new O[(a0_0x200bc3(0x580))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),us=class{},na=new O[(a0_0x200bc3(0x580))]({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x2ee5e1=a0_0x200bc3;return _0x2ee5e1(0x204)+Math['random']()[_0x2ee5e1(0x3d6)](0x24)[_0x2ee5e1(0x641)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[hs],'variablesNotFound':{'type':[String]},'blocks':[ia],'groups':[sa],'conditions':[aa],'varedits':[ra],'replyOptions':{'type':[ls],'default':[]}});na[a0_0x200bc3(0x3dc)]('save',function(_0x5a1667){const _0x5152bf=a0_0x200bc3;let _0x4132d4=new Set(),_0x85cfa0=new Set(this[_0x5152bf(0x3f7)]?.[_0x5152bf(0x43b)](_0xd11523=>_0xd11523[_0x5152bf(0x31b)])),_0x323f5b=JSON['stringify'](this),_0x4df85e=/{{(?!_)([^}]*)}}/g,_0x383070;for(;(_0x383070=_0x4df85e[_0x5152bf(0x531)](_0x323f5b))!==null;)_0x85cfa0[_0x5152bf(0x54a)](_0x383070[0x1])||_0x4132d4[_0x5152bf(0x465)](_0x383070[0x1]);_0x4132d4[_0x5152bf(0x401)]>0x0?(console[_0x5152bf(0x514)](_0x5152bf(0x345),Array['from'](_0x4132d4)),this[_0x5152bf(0x2ae)]=Array[_0x5152bf(0x693)](_0x4132d4)):this['variablesNotFound']=[],_0x5a1667();});function a0_0x3e29(_0x5d953b,_0xd1d56d){const _0x1d20a0=a0_0x1d20();return a0_0x3e29=function(_0x3e29fe,_0x2d8248){_0x3e29fe=_0x3e29fe-0x1b7;let _0x34d3ca=_0x1d20a0[_0x3e29fe];return _0x34d3ca;},a0_0x3e29(_0x5d953b,_0xd1d56d);}var I=M?.['model'](us['name'],na,a0_0x200bc3(0x713)),Yo=new O[(a0_0x200bc3(0x580))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[hs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Qo]},{'_id':!0x1}),ds=class{},Xo=new O[(a0_0x200bc3(0x580))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[hs],'blocks':[ia],'groups':[sa],'conditions':[aa],'varedits':[ra],'replyOptions':{'type':[ls],'default':[]},'chatLog':Yo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingPoll_id':{'type':String},'waitingPoll_name':{'type':String},'waitingPoll_replyOptions':{'type':[ls],'default':[]}}),F=M?.[a0_0x200bc3(0x1e9)](ds[a0_0x200bc3(0x31b)],Xo,'flowConversation'),ps=class{},Zo=new O[(a0_0x200bc3(0x580))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ei=new O['Schema']({'owner':{'type':String},'status':{'type':String,'default':a0_0x200bc3(0x70a)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Zo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Object],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),U=M?.['model'](ps[a0_0x200bc3(0x31b)],ei,a0_0x200bc3(0x321)),gs=class{},ti=new O['Schema']({'name':{'type':String},'requests':[oa],'owner':{'type':String}}),en=M?.[a0_0x200bc3(0x1e9)](gs[a0_0x200bc3(0x31b)],ti,'saveAPI'),ms=class{},si=new O[(a0_0x200bc3(0x580))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),ai=new O[(a0_0x200bc3(0x580))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x200bc3(0x659)},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),oi=new O[(a0_0x200bc3(0x580))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),ii=new O['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[oi]},'customFields':{'type':[si]},'flowConfig':{'type':ai,'default':{}}}),ie=M?.['model'](ms[a0_0x200bc3(0x31b)],ii,a0_0x200bc3(0x582)),be=T(require(a0_0x200bc3(0x604))),k=require(a0_0x200bc3(0x6c7)),fe=class{constructor(_0x3a35e3,_0x12d0f7,_0x4cde12){const _0x5bb6d2=a0_0x200bc3;this['jid']=_0x3a35e3,this[_0x5bb6d2(0x47c)]=_0x12d0f7,this[_0x5bb6d2(0x31b)]=_0x4cde12;}},Je=class{},Ge=class{},Ce=class{},qe=class{},We=class{},we=class{},He=class{},Ke=class{},ze=class{},Qe=class{},Pt=T(require(a0_0x200bc3(0x311))),ca=require('fs'),la=require(a0_0x200bc3(0x230));async function Ye(_0x1cb65f){const _0x2dfeca=a0_0x200bc3;let _0x38f60c=J[_0x2dfeca(0x1eb)][_0x1cb65f];if(G['ENABLED']){let _0x1bcb9a=M[_0x2dfeca(0x6bb)]()['db'](G[_0x2dfeca(0x76e)]['DB_PREFIX_NAME']+_0x2dfeca(0x2ad))[_0x2dfeca(0x3cf)](_0x1cb65f);return _0x38f60c||(await _0x1bcb9a[_0x2dfeca(0x487)]({})[_0x2dfeca(0x25a)]())[_0x2dfeca(0x306)]>0x0;}return _0x38f60c||(0x0,ca[_0x2dfeca(0x266)])((0x0,la['join'])(j,_0x1cb65f));}async function fs(_0x52a306,_0x5199cc,_0x5b29f4){const _0x1c561e=a0_0x200bc3;if(_0x52a306[_0x1c561e(0x2bc)][_0x1c561e(0x46e)](_0x1c561e(0x21a))||_0x52a306[_0x1c561e(0x2bc)][_0x1c561e(0x46e)]('/instance/fetchInstances')||_0x52a306[_0x1c561e(0x2bc)][_0x1c561e(0x46e)](_0x1c561e(0x36b)))return _0x5b29f4();let _0x2200f7=_0x52a306[_0x1c561e(0x411)];if(!_0x2200f7?.[_0x1c561e(0x526)])throw new g(_0x1c561e(0x26a));if(!await Ye(_0x2200f7['instanceName']))throw new x(_0x1c561e(0x35b)+_0x2200f7['instanceName']+_0x1c561e(0x1c3));_0x5b29f4();}async function ua(_0x4a690f,_0x19016c,_0x5abe99){const _0x1624dd=a0_0x200bc3;if(_0x4a690f[_0x1624dd(0x2bc)][_0x1624dd(0x46e)](_0x1624dd(0x21a))){let _0x26edcf=_0x4a690f['body'];if(await Ye(_0x26edcf[_0x1624dd(0x526)]))throw new re(_0x1624dd(0x324)+_0x26edcf[_0x1624dd(0x526)]+'\x20is\x20already\x20in\x20use.');J['waInstances'][_0x26edcf['instanceName']]&&delete J['waInstances'][_0x26edcf[_0x1624dd(0x526)]];}_0x5abe99();}var da=require(a0_0x200bc3(0x6c7)),pa=T(require(a0_0x200bc3(0x37e))),Xe=a0_0x200bc3(0x4b7),ni=new C(a0_0x200bc3(0x4d7));async function ci(_0x30ae7e,_0x3f2d4e,_0xfc0a33){const _0x369054=a0_0x200bc3;let _0xc2d97f=_0x30ae7e[_0x369054(0x313)]('apikey');if(_0xc2d97f&&y[_0x369054(0x313)](_0x369054(0x299))[_0x369054(0x470)][_0x369054(0x233)]!==_0xc2d97f)throw new ne();if(y[_0x369054(0x313)]('AUTHENTICATION')['API_KEY']['KEY']===_0xc2d97f)return _0xfc0a33();if((_0x30ae7e[_0x369054(0x2bc)][_0x369054(0x46e)](_0x369054(0x21a))||_0x30ae7e[_0x369054(0x2bc)][_0x369054(0x46e)](_0x369054(0x353)))&&!_0xc2d97f)throw new re(_0x369054(0x605),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x3c6d3c=y[_0x369054(0x313)](_0x369054(0x299))[_0x369054(0x555)];try{let [_0x5f5b9b,_0x8c692d]=_0x30ae7e['get'](_0x369054(0x35e))[_0x369054(0x5a8)]('\x20');if(_0x5f5b9b['toLowerCase']()!==_0x369054(0x6ea))throw new ne();if(!(0x0,da[_0x369054(0x706)])(_0x8c692d))throw new ne();let _0x5af850=_0x30ae7e[_0x369054(0x411)],_0xf91eb5=pa['default'][_0x369054(0x2f4)](_0x8c692d,_0x3c6d3c[_0x369054(0x2f6)],{'ignoreExpiration':_0x3c6d3c[_0x369054(0x3c4)]===0x0});if(_0x5af850[_0x369054(0x526)]!==_0xf91eb5['instanceName']||Xe!==_0xf91eb5[_0x369054(0x4f9)])throw new ne();return _0xfc0a33();}catch(_0x120499){throw ni[_0x369054(0x22d)](_0x120499),new ne();}}async function li(_0x4e27ff,_0x3f60d5,_0x2d43c8){const _0xa4604b=a0_0x200bc3;let _0xa56d8f=y['get'](_0xa4604b(0x299))[_0xa4604b(0x470)],_0x54c518=_0x4e27ff['get'](_0xa4604b(0x2d4));if(_0xa56d8f[_0xa4604b(0x233)]===_0x54c518)return _0x2d43c8();if(_0x4e27ff[_0xa4604b(0x2bc)][_0xa4604b(0x46e)](_0xa4604b(0x21a))){let _0x5a9b87=y[_0xa4604b(0x313)](_0xa4604b(0x6b5)),_0x15dc3a=_0x4e27ff[_0xa4604b(0x4ea)]['instanceName'];if(_0x5a9b87&&_0x15dc3a['toLowerCase']()['startsWith'](_0x5a9b87[_0xa4604b(0x2d0)]()))return _0x2d43c8();if(!_0x54c518)throw new re('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x4e27ff[_0xa4604b(0x2bc)][_0xa4604b(0x46e)](_0xa4604b(0x353))&&!_0x54c518)throw new re(_0xa4604b(0x605),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x4e27ff[_0xa4604b(0x2bc)][_0xa4604b(0x46e)](_0xa4604b(0x36b))&&!_0x54c518)throw new re('Missing\x20global\x20api\x20key',_0xa4604b(0x3b0));try{let _0x147cf3=_0x4e27ff[_0xa4604b(0x411)];if((await de[_0xa4604b(0x5f5)][_0xa4604b(0x487)](_0x147cf3[_0xa4604b(0x526)]))[_0xa4604b(0x2d4)]===_0x54c518)return _0x2d43c8();}catch{}throw new ne();}var ga={'jwt':ci,'apikey':li},Ka=require(a0_0x200bc3(0x311)),E=require(a0_0x200bc3(0x74d)),S=(..._0x14b6d5)=>{const _0x15ac64=a0_0x200bc3;let _0x2d9ee5={};return _0x14b6d5[_0x15ac64(0x5c6)](_0x32954f=>_0x2d9ee5[_0x32954f]={'minLength':0x1,'description':_0x15ac64(0x33a)+_0x32954f+_0x15ac64(0x297)}),{'if':{'propertyNames':{'enum':[..._0x14b6d5]}},'then':{'properties':_0x2d9ee5}};},v={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'instanceName':{'type':a0_0x200bc3(0x40e)}},...S(a0_0x200bc3(0x526))},ma={'$id':(0x0,E['v4'])(),'type':'object','properties':{'oldToken':{'type':'string'}},'required':[a0_0x200bc3(0x52f)],...S(a0_0x200bc3(0x52f))},wn={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x200bc3(0x40e)},'remoteJid':{'type':a0_0x200bc3(0x40e)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x200bc3(0x302),a0_0x200bc3(0x2cf)],...S('id','remoteJid')},'message':{'type':a0_0x200bc3(0x29a)}}},X={'properties':{'delay':{'type':a0_0x200bc3(0x722),'description':a0_0x200bc3(0x540)},'presence':{'type':a0_0x200bc3(0x40e),'enum':[a0_0x200bc3(0x793),a0_0x200bc3(0x1e8),a0_0x200bc3(0x24f),a0_0x200bc3(0x498),a0_0x200bc3(0x22a)]}}},Z={'type':a0_0x200bc3(0x40e),'pattern':a0_0x200bc3(0x5f3),'description':a0_0x200bc3(0x5b8)},ha={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'number':{...Z},'options':{...X},'textMessage':{'type':a0_0x200bc3(0x29a),'properties':{'text':{'type':a0_0x200bc3(0x40e)}},'required':[a0_0x200bc3(0x5f4)],...S(a0_0x200bc3(0x5f4))}},'required':[a0_0x200bc3(0x72b),a0_0x200bc3(0x370)]},fa={'type':'string','pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x200bc3(0x5b8)},yn={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'number':{...fa},'options':{...X},'textMessage':{'type':a0_0x200bc3(0x29a),'properties':{'text':{'type':a0_0x200bc3(0x40e)}},'required':[a0_0x200bc3(0x5f4)],...S('text')}},'required':[a0_0x200bc3(0x72b),a0_0x200bc3(0x370)]},bn={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...fa},'options':{...X},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x200bc3(0x40e),'enum':['image',a0_0x200bc3(0x737),'video',a0_0x200bc3(0x649)]},'media':{'type':a0_0x200bc3(0x40e)},'fileName':{'type':a0_0x200bc3(0x40e)},'caption':{'type':a0_0x200bc3(0x40e)}},'required':[a0_0x200bc3(0x454),a0_0x200bc3(0x750)],...S(a0_0x200bc3(0x559),a0_0x200bc3(0x76f),a0_0x200bc3(0x750))}},'required':[a0_0x200bc3(0x451),a0_0x200bc3(0x370)]},wa={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'number':{...Z},'options':{...X},'stickerMessage':{'type':a0_0x200bc3(0x29a),'properties':{'image':{'type':a0_0x200bc3(0x40e)}},'required':[a0_0x200bc3(0x6d1)],...S('image')}},'required':['stickerMessage',a0_0x200bc3(0x370)]},ya={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'statusMessage':{'type':a0_0x200bc3(0x29a),'properties':{'type':{'type':a0_0x200bc3(0x40e),'enum':[a0_0x200bc3(0x5f4),a0_0x200bc3(0x6d1),a0_0x200bc3(0x649),a0_0x200bc3(0x3f0)]},'content':{'type':a0_0x200bc3(0x40e)},'caption':{'type':'string'},'backgroundColor':{'type':a0_0x200bc3(0x40e)},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x200bc3(0x301),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x200bc3(0x288),'description':a0_0x200bc3(0x419)}},'allContacts':{'type':a0_0x200bc3(0x4f2),'enum':[!0x0,!0x1]}},'required':[a0_0x200bc3(0x757),a0_0x200bc3(0x389)],...S(a0_0x200bc3(0x757),a0_0x200bc3(0x389))}},'required':[a0_0x200bc3(0x36a)]},ba={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'number':{...Z},'options':{...X},'mediaMessage':{'type':a0_0x200bc3(0x29a),'properties':{'mediatype':{'type':a0_0x200bc3(0x40e),'enum':[a0_0x200bc3(0x6d1),a0_0x200bc3(0x737),a0_0x200bc3(0x3f0),'audio']},'media':{'type':a0_0x200bc3(0x40e)},'fileName':{'type':'string'},'caption':{'type':'string'}},'required':[a0_0x200bc3(0x454),a0_0x200bc3(0x750)],...S(a0_0x200bc3(0x559),a0_0x200bc3(0x76f),a0_0x200bc3(0x750))}},'required':[a0_0x200bc3(0x451),a0_0x200bc3(0x370)]},Sa={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'number':{...Z},'options':{...X},'audioMessage':{'type':a0_0x200bc3(0x29a),'properties':{'audio':{'type':a0_0x200bc3(0x40e)}},'required':[a0_0x200bc3(0x649)],...S(a0_0x200bc3(0x649))}},'required':[a0_0x200bc3(0x51f),'number']},Ea={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'number':{...Z},'pollMessage':{'type':'object','properties':{'name':{'type':a0_0x200bc3(0x40e)},'selectableCount':{'type':a0_0x200bc3(0x370)},'values':{'type':a0_0x200bc3(0x301),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x200bc3(0x3c0),a0_0x200bc3(0x3d1)],...S(a0_0x200bc3(0x31b),a0_0x200bc3(0x3c0),a0_0x200bc3(0x3d1))}},'required':[a0_0x200bc3(0x370),a0_0x200bc3(0x6c2)]},va={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'number':{...Z},'options':{...X},'buttonMessage':{'type':'object','properties':{'title':{'type':a0_0x200bc3(0x40e)},'description':{'type':a0_0x200bc3(0x40e)},'footerText':{'type':a0_0x200bc3(0x40e)},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x200bc3(0x29a),'properties':{'buttonText':{'type':a0_0x200bc3(0x40e)},'buttonId':{'type':a0_0x200bc3(0x40e)}},'required':[a0_0x200bc3(0x678),a0_0x200bc3(0x759)],...S(a0_0x200bc3(0x678),a0_0x200bc3(0x759))}},'mediaMessage':{'type':'object','properties':{'media':{'type':a0_0x200bc3(0x40e)},'fileName':{'type':'string'},'mediatype':{'type':a0_0x200bc3(0x40e),'enum':[a0_0x200bc3(0x6d1),a0_0x200bc3(0x737),a0_0x200bc3(0x3f0)]}},'required':[a0_0x200bc3(0x750),a0_0x200bc3(0x454)],...S(a0_0x200bc3(0x750),a0_0x200bc3(0x559))}},'required':[a0_0x200bc3(0x35c),a0_0x200bc3(0x33e)],...S(a0_0x200bc3(0x35c),'description')}},'required':[a0_0x200bc3(0x370),a0_0x200bc3(0x72d)]},Na={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'number':{...Z},'options':{...X},'locationMessage':{'type':a0_0x200bc3(0x29a),'properties':{'latitude':{'type':a0_0x200bc3(0x370)},'longitude':{'type':'number'},'name':{'type':a0_0x200bc3(0x40e)},'address':{'type':a0_0x200bc3(0x40e)}},'required':[a0_0x200bc3(0x1cf),a0_0x200bc3(0x3ea)],...S(a0_0x200bc3(0x31b),a0_0x200bc3(0x3bf))}},'required':['number',a0_0x200bc3(0x49c)]},Ca={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'number':{...Z},'options':{...X},'listMessage':{'type':a0_0x200bc3(0x29a),'properties':{'title':{'type':a0_0x200bc3(0x40e)},'description':{'type':a0_0x200bc3(0x40e)},'footerText':{'type':a0_0x200bc3(0x40e)},'buttonText':{'type':a0_0x200bc3(0x40e)},'sections':{'type':a0_0x200bc3(0x301),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x200bc3(0x29a),'properties':{'title':{'type':'string'},'rows':{'type':a0_0x200bc3(0x301),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x200bc3(0x29a),'properties':{'title':{'type':a0_0x200bc3(0x40e)},'description':{'type':'string'},'rowId':{'type':'string'}},'required':[a0_0x200bc3(0x35c),a0_0x200bc3(0x5a3),a0_0x200bc3(0x537)],...S('title',a0_0x200bc3(0x5a3),a0_0x200bc3(0x537))}}},'required':[a0_0x200bc3(0x35c),a0_0x200bc3(0x76c)],...S('title')}}},'required':[a0_0x200bc3(0x35c),a0_0x200bc3(0x5a3),'buttonText',a0_0x200bc3(0x747)],...S(a0_0x200bc3(0x35c),a0_0x200bc3(0x5a3),a0_0x200bc3(0x678),a0_0x200bc3(0x473))}},'required':[a0_0x200bc3(0x370),a0_0x200bc3(0x1f1)]},Ta={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'number':{...Z},'options':{...X},'contactMessage':{'type':'array','items':{'type':'object','properties':{'fullName':{'type':a0_0x200bc3(0x40e)},'phoneNumber':{'type':a0_0x200bc3(0x40e),'minLength':0xa}},'required':[a0_0x200bc3(0x596),a0_0x200bc3(0x64f)],...S('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x200bc3(0x6aa)]},Ma={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'reactionMessage':{'type':a0_0x200bc3(0x29a),'properties':{'key':{'type':a0_0x200bc3(0x29a),'properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x200bc3(0x4f2),'enum':[!0x0,!0x1]}},'required':['id',a0_0x200bc3(0x302),a0_0x200bc3(0x2cf)],...S('id',a0_0x200bc3(0x302))},'reaction':{'type':'string'}},'required':[a0_0x200bc3(0x781),'reaction'],...S(a0_0x200bc3(0x273))}},'required':['reactionMessage']},Ra={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'numbers':{'type':a0_0x200bc3(0x301),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':'^\x5cd+','description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},Aa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x200bc3(0x301),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x200bc3(0x40e)}},'required':['id',a0_0x200bc3(0x2cf),a0_0x200bc3(0x302)],...S('id',a0_0x200bc3(0x302))}}},'required':[a0_0x200bc3(0x1bb)]},Ia={'$id':(0x0,E['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x200bc3(0x29a),'properties':{'readreceipts':{'type':a0_0x200bc3(0x40e),'enum':[a0_0x200bc3(0x33d),'none']},'profile':{'type':a0_0x200bc3(0x40e),'enum':[a0_0x200bc3(0x33d),'contacts',a0_0x200bc3(0x764),a0_0x200bc3(0x4b6)]},'status':{'type':a0_0x200bc3(0x40e),'enum':[a0_0x200bc3(0x33d),a0_0x200bc3(0x518),a0_0x200bc3(0x764),'none']},'online':{'type':a0_0x200bc3(0x40e),'enum':[a0_0x200bc3(0x33d),a0_0x200bc3(0x50f)]},'last':{'type':a0_0x200bc3(0x40e),'enum':[a0_0x200bc3(0x33d),a0_0x200bc3(0x518),a0_0x200bc3(0x764),a0_0x200bc3(0x4b6)]},'groupadd':{'type':a0_0x200bc3(0x40e),'enum':[a0_0x200bc3(0x33d),a0_0x200bc3(0x518),'contact_blacklist','none']}},'required':['readreceipts',a0_0x200bc3(0x339),a0_0x200bc3(0x354),'online',a0_0x200bc3(0x342),'groupadd'],...S(a0_0x200bc3(0x49b),'profile',a0_0x200bc3(0x354),'online',a0_0x200bc3(0x342),a0_0x200bc3(0x60d))}},'required':['privacySettings']},Da={'$id':(0x0,E['v4'])(),'type':'object','properties':{'lastMessage':{'type':'object','properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x200bc3(0x40e)},'remoteJid':{'type':a0_0x200bc3(0x40e)},'fromMe':{'type':a0_0x200bc3(0x4f2),'enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x200bc3(0x302)],...S('id',a0_0x200bc3(0x302))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':['key'],...S(a0_0x200bc3(0x613))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x200bc3(0x4aa),a0_0x200bc3(0x269)]},Pa={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'id':{'type':a0_0x200bc3(0x40e)},'fromMe':{'type':a0_0x200bc3(0x4f2),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x200bc3(0x40e)},'participant':{'type':a0_0x200bc3(0x40e)}},'required':['id',a0_0x200bc3(0x2cf),a0_0x200bc3(0x302)],...S('id','remoteJid',a0_0x200bc3(0x536))},Oa={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x200bc3(0x40e),'minLength':0x1},'pushName':{'type':a0_0x200bc3(0x40e),'minLength':0x1},'id':{'type':a0_0x200bc3(0x40e),'minLength':0x1}},...S(a0_0x200bc3(0x54e),'id',a0_0x200bc3(0x4f1))}}},_a={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'name':{'type':a0_0x200bc3(0x40e)}},...S(a0_0x200bc3(0x31b))},xa={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'status':{'type':a0_0x200bc3(0x40e)}},...S('status')},Te={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'number':{'type':'string'},'picture':{'type':a0_0x200bc3(0x40e)}}},$a={'type':a0_0x200bc3(0x29a),'properties':{'wuid':{'type':a0_0x200bc3(0x40e)},'name':{'type':'string'},'picture':{'type':a0_0x200bc3(0x40e)},'status':{'type':a0_0x200bc3(0x40e)},'isBusiness':{'type':a0_0x200bc3(0x4f2)}}},ka={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x200bc3(0x29a),'if':{'propertyNames':{'enum':[a0_0x200bc3(0x2cf),a0_0x200bc3(0x302),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x200bc3(0x40e),'minLength':0x1,'description':a0_0x200bc3(0x55c)},'id':{'type':a0_0x200bc3(0x40e),'minLength':0x1,'description':a0_0x200bc3(0x55c)},'fromMe':{'type':a0_0x200bc3(0x4f2),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x200bc3(0x29a)}},...S(a0_0x200bc3(0x54e))},'limit':{'type':a0_0x200bc3(0x722)}}},La={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'where':{'type':a0_0x200bc3(0x29a),'properties':{'_id':{'type':a0_0x200bc3(0x40e)},'remoteJid':{'type':'string'},'id':{'type':a0_0x200bc3(0x40e)},'fromMe':{'type':a0_0x200bc3(0x4f2),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':'string','enum':[a0_0x200bc3(0x32a),a0_0x200bc3(0x5e6),a0_0x200bc3(0x576),a0_0x200bc3(0x48e),'READ',a0_0x200bc3(0x794)]}},...S('_id',a0_0x200bc3(0x302),'id',a0_0x200bc3(0x354))},'limit':{'type':a0_0x200bc3(0x722)}}},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'number':{...Z},'presence':{'type':a0_0x200bc3(0x40e),'enum':[a0_0x200bc3(0x793),'available',a0_0x200bc3(0x24f),a0_0x200bc3(0x498),'paused']}},'required':[a0_0x200bc3(0x2f0),'number']},Va={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'subject':{'type':a0_0x200bc3(0x40e)},'description':{'type':a0_0x200bc3(0x40e)},'profilePicture':{'type':a0_0x200bc3(0x40e)},'participants':{'type':a0_0x200bc3(0x301),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x200bc3(0x40e),'minLength':0xa,'pattern':a0_0x200bc3(0x44a),'description':a0_0x200bc3(0x38c)}}},'required':[a0_0x200bc3(0x2b3),a0_0x200bc3(0x21d)],...S(a0_0x200bc3(0x2b3),a0_0x200bc3(0x5a3),a0_0x200bc3(0x779))},Me={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'groupJid':{'type':'string','pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0x200bc3(0x1d2)],...S(a0_0x200bc3(0x1d2))},ja={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'groupJid':{'type':a0_0x200bc3(0x40e)},'action':{'type':a0_0x200bc3(0x40e),'enum':[a0_0x200bc3(0x465),a0_0x200bc3(0x221),a0_0x200bc3(0x7a8),a0_0x200bc3(0x3c7)]},'participants':{'type':a0_0x200bc3(0x301),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x200bc3(0x40e),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x200bc3(0x38c)}}},'required':[a0_0x200bc3(0x1d2),a0_0x200bc3(0x3ef),a0_0x200bc3(0x21d)],...S(a0_0x200bc3(0x1d2),a0_0x200bc3(0x3ef))},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'groupJid':{'type':a0_0x200bc3(0x40e)},'expiration':{'type':a0_0x200bc3(0x370),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x200bc3(0x1d2),a0_0x200bc3(0x57f)],...S(a0_0x200bc3(0x1d2),a0_0x200bc3(0x57f))},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'groupJid':{'type':a0_0x200bc3(0x40e)},'image':{'type':a0_0x200bc3(0x40e)}},'required':[a0_0x200bc3(0x1d2),a0_0x200bc3(0x6d1)],...S(a0_0x200bc3(0x1d2),a0_0x200bc3(0x6d1))},Ja={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x200bc3(0x40e)},'description':{'type':a0_0x200bc3(0x40e)}},'required':[a0_0x200bc3(0x1d2),a0_0x200bc3(0x5a3)],...S('groupJid',a0_0x200bc3(0x5a3))},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'groupJid':{'type':a0_0x200bc3(0x40e)},'name':{'type':a0_0x200bc3(0x40e)}},'required':['groupJid',a0_0x200bc3(0x31b)],...S('groupJid',a0_0x200bc3(0x31b))},qa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x200bc3(0x40e)},'setting':{'type':a0_0x200bc3(0x40e),'enum':['announcement',a0_0x200bc3(0x5ea),'unlocked',a0_0x200bc3(0x6b1)]}},'required':[a0_0x200bc3(0x1d2),a0_0x200bc3(0x234)],...S(a0_0x200bc3(0x1d2),a0_0x200bc3(0x234))},Wa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x200bc3(0x40e)}},'required':[a0_0x200bc3(0x314)],...S('inviteCode')},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'url':{'type':'string'},'enabled':{'type':a0_0x200bc3(0x4f2),'enum':[!0x0,!0x1]}},'required':[a0_0x200bc3(0x205),a0_0x200bc3(0x603)]},Sn={'$id':(0x0,E['v4'])(),'type':a0_0x200bc3(0x29a),'properties':{'local_map':{'type':a0_0x200bc3(0x4f2),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x200bc3(0x4f2),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x200bc3(0x4f2),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x200bc3(0x4f2),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x200bc3(0x4f2),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x200bc3(0x4f2),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x200bc3(0x4f2),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x200bc3(0x4f2),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x200bc3(0x4f2),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x200bc3(0x4f2),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x200bc3(0x4f2),'enum':[!0x0,!0x1]}},'required':[a0_0x200bc3(0x49d),a0_0x200bc3(0x73b),a0_0x200bc3(0x2a0),a0_0x200bc3(0x5b3),'MESSAGES_UPDATE',a0_0x200bc3(0x2aa),a0_0x200bc3(0x289),'CONTACTS_SET',a0_0x200bc3(0x4ac),a0_0x200bc3(0x4db),a0_0x200bc3(0x378),a0_0x200bc3(0x348),a0_0x200bc3(0x714),a0_0x200bc3(0x3ce),a0_0x200bc3(0x41e),a0_0x200bc3(0x3e7),a0_0x200bc3(0x572),a0_0x200bc3(0x48f),a0_0x200bc3(0x725)],...S(a0_0x200bc3(0x49d),a0_0x200bc3(0x73b),'QRCODE_UPDATED',a0_0x200bc3(0x5b3),a0_0x200bc3(0x368),'MESSAGES_UPSERT',a0_0x200bc3(0x289),'CONTACTS_SET',a0_0x200bc3(0x4ac),a0_0x200bc3(0x4db),a0_0x200bc3(0x378),'CHATS_SET',a0_0x200bc3(0x714),a0_0x200bc3(0x3ce),'CHATS_DELETE','CONNECTION_UPDATE',a0_0x200bc3(0x572),a0_0x200bc3(0x48f),a0_0x200bc3(0x725))},Ae=require('fs'),Re=require(a0_0x200bc3(0x230)),Ze=class{},et=class extends B{constructor(_0x3855f4,_0x3e446b){super(_0x3e446b),this['contactModel']=_0x3855f4,this['configService']=_0x3e446b;}async[a0_0x200bc3(0x3fd)](_0x219298,_0x3fe3d9=!0x1){const _0x127c6=a0_0x200bc3;if(_0x219298['length']!==0x0)try{return this[_0x127c6(0x527)][_0x127c6(0x2ea)]&&_0x3fe3d9?{'insertCount':(await this[_0x127c6(0x541)][_0x127c6(0x682)]([..._0x219298]))[_0x127c6(0x306)]}:(_0x219298[_0x127c6(0x5c6)](_0x4551e0=>{const _0x3dc356=_0x127c6;this[_0x3dc356(0x76d)]({'path':(0x0,Re['join'])(this[_0x3dc356(0x5bd)],_0x3dc356(0x518),_0x4551e0[_0x3dc356(0x332)]),'fileName':_0x4551e0['id'],'data':_0x4551e0});}),{'insertCount':_0x219298[_0x127c6(0x306)]});}catch(_0x16adaf){return _0x16adaf;}finally{_0x219298=void 0x0;}}async[a0_0x200bc3(0x3e3)](_0x3d9882){const _0x28ec19=a0_0x200bc3;try{return this[_0x28ec19(0x527)][_0x28ec19(0x2ea)]?await this[_0x28ec19(0x541)][_0x28ec19(0x5cc)]({..._0x3d9882[_0x28ec19(0x6cb)]}):{'deleted':{'contact':_0x3d9882[_0x28ec19(0x6cb)]['id']}};}catch(_0x202c73){return{'error':_0x202c73?.[_0x28ec19(0x3d6)]()};}}async[a0_0x200bc3(0x511)](_0x558924,_0x375ee5,_0x18bc8a=!0x1){const _0x2c090a=a0_0x200bc3;try{if(_0x558924[_0x2c090a(0x306)]===0x0)return;if(this['dbSettings'][_0x2c090a(0x2ea)]&&_0x18bc8a){let _0x2e4001=_0x558924['map'](_0x349094=>({'updateOne':{'filter':{'id':_0x349094['id'],'owner':_0x375ee5},'update':{..._0x349094},'upsert':!0x0}})),{nModified:_0x5b63e5}=await this['contactModel']['bulkWrite'](_0x2e4001);return{'insertCount':_0x5b63e5};}}catch{return;}}async[a0_0x200bc3(0x487)](_0x4d04f1){const _0x15a575=a0_0x200bc3;try{if(this['dbSettings'][_0x15a575(0x2ea)])return await this['contactModel']['find']({..._0x4d04f1[_0x15a575(0x6cb)]});let _0x3a2cd3=[];if(_0x4d04f1?.[_0x15a575(0x6cb)]?.['id'])_0x3a2cd3[_0x15a575(0x20a)](JSON['parse']((0x0,Ae[_0x15a575(0x1b8)])((0x0,Re['join'])(this[_0x15a575(0x5bd)],_0x15a575(0x518),_0x4d04f1[_0x15a575(0x6cb)][_0x15a575(0x332)],_0x4d04f1['where']['id']+_0x15a575(0x70e)),{'encoding':_0x15a575(0x264)})));else{let _0x430c66=(0x0,Ae['opendirSync'])((0x0,Re[_0x15a575(0x62e)])(this['storePath'],_0x15a575(0x518),_0x4d04f1[_0x15a575(0x6cb)][_0x15a575(0x332)]),{'encoding':_0x15a575(0x264)});for await(let _0x2dbd62 of _0x430c66)_0x2dbd62[_0x15a575(0x5be)]()&&_0x3a2cd3[_0x15a575(0x20a)](JSON[_0x15a575(0x654)]((0x0,Ae['readFileSync'])((0x0,Re[_0x15a575(0x62e)])(this[_0x15a575(0x5bd)],'contacts',_0x4d04f1[_0x15a575(0x6cb)]['owner'],_0x2dbd62[_0x15a575(0x31b)]),{'encoding':'utf-8'})));}return _0x3a2cd3;}catch{return[];}}},tt=require(a0_0x200bc3(0x702)),Mn=require(a0_0x200bc3(0x55e)),ws=new C(a0_0x200bc3(0x54c)),L=class{constructor(){}['routerPath'](_0x2a82ce,_0x46addd=!0x0){let _0x4c0e88='/'+_0x2a82ce;return _0x46addd&&(_0x4c0e88+='/:instanceName'),_0x4c0e88;}async[a0_0x200bc3(0x3fc)](_0x30cc9a){const _0x348aba=a0_0x200bc3;let {request:_0x13ac03,schema:_0x4a911d,ClassRef:_0x2fe058,execute:_0x18f054}=_0x30cc9a,_0x450fdf=new _0x2fe058(),_0x180a1f=_0x13ac03['body'],_0x555ea0=_0x13ac03[_0x348aba(0x411)];_0x13ac03?.[_0x348aba(0x373)]&&Object[_0x348aba(0x72a)](_0x13ac03[_0x348aba(0x373)])[_0x348aba(0x306)]>0x0&&Object[_0x348aba(0x4b0)](_0x555ea0,_0x13ac03[_0x348aba(0x373)]),_0x13ac03[_0x348aba(0x2bc)]['includes'](_0x348aba(0x21a))&&Object[_0x348aba(0x4b0)](_0x555ea0,_0x180a1f),Object[_0x348aba(0x4b0)](_0x450fdf,_0x180a1f);let _0x5c95dd=_0x4a911d?(0x0,tt[_0x348aba(0x3c9)])(_0x450fdf,_0x4a911d):{'valid':!0x0,'errors':[]};if(!_0x5c95dd['valid']){let _0x4d5664=_0x5c95dd[_0x348aba(0x4ce)][_0x348aba(0x43b)](({property:_0x207045,stack:_0x20d05,schema:_0x8aa501})=>{const _0x5303a9=_0x348aba;let _0xa4cbec;return _0x8aa501[_0x5303a9(0x5a3)]?_0xa4cbec=_0x8aa501[_0x5303a9(0x5a3)]:_0xa4cbec=_0x20d05['replace']('instance.',''),{'property':_0x207045['replace']('instance.',''),'message':_0xa4cbec};});throw ws['error']([..._0x4d5664]),new g(..._0x4d5664);}return await _0x18f054(_0x555ea0,_0x450fdf);}async[a0_0x200bc3(0x66f)](_0xb3f1ba){const _0x48ec55=a0_0x200bc3;let {request:_0x524d5e,ClassRef:_0xe8dc1e,schema:_0x51744b,execute:_0x5b2db9}=_0xb3f1ba,_0x53df69=_0x524d5e[_0x48ec55(0x373)];if(!_0x53df69?.[_0x48ec55(0x1d2)])throw new g(_0x48ec55(0x452),_0x48ec55(0x60e));let _0xb4ba3c=_0x524d5e['params'],_0xf3f964=_0x524d5e[_0x48ec55(0x4ea)],_0x4ae6a6=new _0xe8dc1e();Object[_0x48ec55(0x4b0)](_0xf3f964,_0x53df69),Object[_0x48ec55(0x4b0)](_0x4ae6a6,_0xf3f964);let _0x1b24c1=(0x0,tt[_0x48ec55(0x3c9)])(_0x4ae6a6,_0x51744b);if(!_0x1b24c1['valid']){let _0x4d2364=_0x1b24c1[_0x48ec55(0x4ce)][_0x48ec55(0x43b)](({property:_0x1c6d89,stack:_0x1f060b,schema:_0x5ed22c})=>{const _0x25ae74=_0x48ec55;let _0x312ca5;return _0x5ed22c['description']?_0x312ca5=_0x5ed22c[_0x25ae74(0x5a3)]:_0x312ca5=_0x1f060b[_0x25ae74(0x2c9)](_0x25ae74(0x284),''),{'property':_0x1c6d89['replace'](_0x25ae74(0x284),''),'message':_0x312ca5};});throw ws[_0x48ec55(0x22d)]([..._0x4d2364]),new g(..._0x4d2364);}return await _0x5b2db9(_0xb4ba3c,_0x4ae6a6);}async[a0_0x200bc3(0x586)](_0x2b03fe){const _0x234dcb=a0_0x200bc3;let {request:_0x320c98,ClassRef:_0x129e50,schema:_0xe6e6ff,execute:_0x4611b8}=_0x2b03fe,_0x3fc379=_0x320c98['body'];if(!_0x3fc379?.[_0x234dcb(0x314)])throw new g('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x234dcb(0x337));let _0x32f0e9=_0x320c98[_0x234dcb(0x411)],_0x43c382=_0x320c98[_0x234dcb(0x4ea)],_0x20189f=new _0x129e50();Object[_0x234dcb(0x4b0)](_0x43c382,_0x3fc379),Object[_0x234dcb(0x4b0)](_0x20189f,_0x43c382);let _0x7fb9e=(0x0,tt['validate'])(_0x20189f,_0xe6e6ff);if(!_0x7fb9e['valid']){let _0x37b122=_0x7fb9e['errors'][_0x234dcb(0x43b)](({property:_0x4b169c,stack:_0x3d5b81,schema:_0x32fc7d})=>{const _0x5a39dc=_0x234dcb;let _0x32e979;return _0x32fc7d[_0x5a39dc(0x5a3)]?_0x32e979=_0x32fc7d[_0x5a39dc(0x5a3)]:_0x32e979=_0x3d5b81[_0x5a39dc(0x2c9)](_0x5a39dc(0x284),''),{'property':_0x4b169c[_0x5a39dc(0x2c9)](_0x5a39dc(0x284),''),'message':_0x32e979};});throw ws[_0x234dcb(0x22d)]([..._0x37b122]),new g(..._0x37b122);}return await _0x4611b8(_0x32f0e9,_0x20189f);}},Ie=require(a0_0x200bc3(0x230)),De=require('fs'),st=class{},at=class extends B{constructor(_0x58bd17,_0x38c713){const _0xeadf0f=a0_0x200bc3;super(_0x38c713),this[_0xeadf0f(0x236)]=_0x58bd17,this[_0xeadf0f(0x712)]=_0x38c713;}async[a0_0x200bc3(0x3fd)](_0xbb4183,_0x3017f3){const _0xce917b=a0_0x200bc3;if(_0xbb4183[_0xce917b(0x306)]!==0x0)try{if(this['dbSettings']['ENABLED']&&_0x3017f3)return{'insertCount':(await this[_0xce917b(0x236)][_0xce917b(0x682)]([..._0xbb4183]))[_0xce917b(0x306)]};_0xbb4183[_0xce917b(0x5c6)](_0x5366bf=>{const _0x39c62b=_0xce917b;this[_0x39c62b(0x76d)]({'path':(0x0,Ie[_0x39c62b(0x62e)])(this[_0x39c62b(0x5bd)],_0x39c62b(0x1e7),_0x5366bf[_0x39c62b(0x332)]),'fileName':_0x5366bf['id'],'data':_0x5366bf});});}catch(_0xfdf90f){return _0xfdf90f;}}async[a0_0x200bc3(0x487)](_0xe6922e){const _0x3797b5=a0_0x200bc3;try{if(this['dbSettings']['ENABLED'])return await this[_0x3797b5(0x236)]['find']({..._0xe6922e[_0x3797b5(0x6cb)]})[_0x3797b5(0x2e2)]({'datetime':-0x1})[_0x3797b5(0x2e7)](_0xe6922e?.[_0x3797b5(0x2e7)]??0x0);let _0x224dbe=[];if(_0xe6922e?.['where']?.['id'])_0x224dbe[_0x3797b5(0x20a)](JSON[_0x3797b5(0x654)]((0x0,De[_0x3797b5(0x1b8)])((0x0,Ie[_0x3797b5(0x62e)])(this[_0x3797b5(0x5bd)],_0x3797b5(0x1e7),_0xe6922e[_0x3797b5(0x6cb)][_0x3797b5(0x332)],_0xe6922e[_0x3797b5(0x6cb)]['id']+'.json'),{'encoding':'utf-8'})));else{let _0x56caca=(0x0,De['opendirSync'])((0x0,Ie[_0x3797b5(0x62e)])(this[_0x3797b5(0x5bd)],_0x3797b5(0x1e7),_0xe6922e[_0x3797b5(0x6cb)][_0x3797b5(0x332)]),{'encoding':_0x3797b5(0x264)});for await(let _0x535c67 of _0x56caca)_0x535c67[_0x3797b5(0x5be)]()&&_0x224dbe[_0x3797b5(0x20a)](JSON[_0x3797b5(0x654)]((0x0,De[_0x3797b5(0x1b8)])((0x0,Ie[_0x3797b5(0x62e)])(this[_0x3797b5(0x5bd)],_0x3797b5(0x1e7),_0xe6922e[_0x3797b5(0x6cb)][_0x3797b5(0x332)],_0x535c67[_0x3797b5(0x31b)]),{'encoding':'utf-8'})));}return _0x224dbe[_0x3797b5(0x2e2)]((_0x1b6970,_0x460042)=>_0x460042[_0x3797b5(0x749)]-_0x1b6970[_0x3797b5(0x749)])['splice'](0x0,_0xe6922e?.[_0x3797b5(0x2e7)]??_0x224dbe[_0x3797b5(0x306)]);}catch{return[];}}async['delete'](_0xce6992){const _0x1f6a3c=a0_0x200bc3;try{if(this['dbSettings'][_0x1f6a3c(0x2ea)])return await this[_0x1f6a3c(0x236)]['deleteMany']({..._0xce6992['where']});}catch(_0x5cbfa7){return console[_0x1f6a3c(0x22d)](_0x1f6a3c(0x38e),_0x5cbfa7),_0x5cbfa7;}}},b=class{},ot=class extends L{constructor(..._0x14f93b){const _0x5bc5d7=a0_0x200bc3;super(),this[_0x5bc5d7(0x721)]=(0x0,Ka['Router'])(),this[_0x5bc5d7(0x721)][_0x5bc5d7(0x2f2)](this['routerPath'](_0x5bc5d7(0x201)),..._0x14f93b,async(_0x4e2ddf,_0x4d385e)=>{const _0xfdb178=_0x5bc5d7;let _0x45ecaf=await this[_0xfdb178(0x3fc)]({'request':_0x4e2ddf,'schema':Ua,'ClassRef':Je,'execute':(_0x4e1169,_0x38fafa)=>P[_0xfdb178(0x201)](_0x4e1169,_0x38fafa)});return _0x4d385e[_0xfdb178(0x354)](0xc9)['json'](_0x45ecaf);})['post'](this[_0x5bc5d7(0x696)](_0x5bc5d7(0x432)),..._0x14f93b,async(_0x47fad2,_0x20327b)=>{const _0x4ee785=_0x5bc5d7;let _0x1be373=await this['dataValidate']({'request':_0x47fad2,'schema':Ra,'ClassRef':Ge,'execute':(_0x22a67c,_0x2f2d0d)=>P['whatsappNumber'](_0x22a67c,_0x2f2d0d)});return _0x20327b[_0x4ee785(0x354)](0xc9)[_0x4ee785(0x3e1)](_0x1be373);})[_0x5bc5d7(0x2f2)](this[_0x5bc5d7(0x696)](_0x5bc5d7(0x3f3)),..._0x14f93b,async(_0x2d7ba7,_0x1f3b17)=>{const _0x40324b=_0x5bc5d7;let _0x19b717=await this[_0x40324b(0x3fc)]({'request':_0x2d7ba7,'schema':v,'ClassRef':b,'execute':(_0x1d973e,_0x5f21d4)=>P[_0x40324b(0x3f3)](_0x1d973e,_0x5f21d4)});return _0x1f3b17[_0x40324b(0x354)](0xc9)['json'](_0x19b717);})[_0x5bc5d7(0x70f)](this['routerPath']('markMessageAsRead'),..._0x14f93b,async(_0x20aa95,_0x813c0c)=>{const _0x3b10e7=_0x5bc5d7;let _0xfd106b=await this['dataValidate']({'request':_0x20aa95,'schema':Aa,'ClassRef':He,'execute':(_0x343543,_0x221fe8)=>P[_0x3b10e7(0x325)](_0x343543,_0x221fe8)});return _0x813c0c[_0x3b10e7(0x354)](0xc9)[_0x3b10e7(0x3e1)](_0xfd106b);})[_0x5bc5d7(0x70f)](this[_0x5bc5d7(0x696)](_0x5bc5d7(0x331)),..._0x14f93b,async(_0xf2090d,_0xe39ac8)=>{const _0x25ac33=_0x5bc5d7;let _0x53f9aa=await this[_0x25ac33(0x3fc)]({'request':_0xf2090d,'schema':Da,'ClassRef':Ke,'execute':(_0x32c107,_0x12f0ea)=>P['archiveChat'](_0x32c107,_0x12f0ea)});return _0xe39ac8[_0x25ac33(0x354)](0xc9)[_0x25ac33(0x3e1)](_0x53f9aa);})['delete'](this[_0x5bc5d7(0x696)](_0x5bc5d7(0x589)),..._0x14f93b,async(_0x4290a9,_0x472a06)=>{const _0x3eec30=_0x5bc5d7;let _0x471719=await this[_0x3eec30(0x3fc)]({'request':_0x4290a9,'schema':Pa,'ClassRef':Qe,'execute':(_0xec0df7,_0x42b5a9)=>P[_0x3eec30(0x756)](_0xec0df7,_0x42b5a9)});return _0x472a06[_0x3eec30(0x354)](0xc9)[_0x3eec30(0x3e1)](_0x471719);})[_0x5bc5d7(0x2f2)](this[_0x5bc5d7(0x696)](_0x5bc5d7(0x23d)),..._0x14f93b,async(_0x3fdec9,_0x208475)=>{const _0x48cc4f=_0x5bc5d7;let _0x2924bb=await this[_0x48cc4f(0x3fc)]({'request':_0x3fdec9,'schema':Te,'ClassRef':Ce,'execute':(_0x5071af,_0x49a66d)=>P[_0x48cc4f(0x5ee)](_0x5071af,_0x49a66d)});return _0x208475[_0x48cc4f(0x354)](0xc8)[_0x48cc4f(0x3e1)](_0x2924bb);})[_0x5bc5d7(0x2f2)](this[_0x5bc5d7(0x696)](_0x5bc5d7(0x382)),..._0x14f93b,async(_0x83e16f,_0x1ac5d0)=>{const _0x26662e=_0x5bc5d7;let _0x292dbb=await this['dataValidate']({'request':_0x83e16f,'schema':$a,'ClassRef':Ce,'execute':(_0x52e5d5,_0x31aa10)=>P[_0x26662e(0x382)](_0x52e5d5,_0x31aa10)});return _0x1ac5d0[_0x26662e(0x354)](0xc8)[_0x26662e(0x3e1)](_0x292dbb);})[_0x5bc5d7(0x2f2)](this[_0x5bc5d7(0x696)](_0x5bc5d7(0x5de)),..._0x14f93b,async(_0x57db5e,_0xbe074e)=>{const _0x5e5bcf=_0x5bc5d7;let _0x6062c9=await this[_0x5e5bcf(0x3fc)]({'request':_0x57db5e,'schema':Oa,'ClassRef':Ze,'execute':(_0x177fa2,_0x548b60)=>P['fetchContacts'](_0x177fa2,_0x548b60)});return _0xbe074e[_0x5e5bcf(0x354)](0xc8)[_0x5e5bcf(0x3e1)](_0x6062c9);})[_0x5bc5d7(0x2f2)](this[_0x5bc5d7(0x696)](_0x5bc5d7(0x364)),..._0x14f93b,async(_0x38d188,_0x54b120)=>{const _0x569118=_0x5bc5d7;let _0x4ff028=await this['dataValidate']({'request':_0x38d188,'schema':null,'ClassRef':Object,'execute':(_0x2a895b,_0xf408b6)=>P[_0x569118(0x364)](_0x2a895b,_0xf408b6)});return _0x54b120[_0x569118(0x354)](0xc9)[_0x569118(0x3e1)](_0x4ff028);})[_0x5bc5d7(0x2f2)](this[_0x5bc5d7(0x696)](_0x5bc5d7(0x71f)),..._0x14f93b,async(_0x44c624,_0xf57383)=>{const _0x2b2d47=_0x5bc5d7;let _0x329001=await this[_0x2b2d47(0x3fc)]({'request':_0x44c624,'schema':ka,'ClassRef':Ve,'execute':(_0x362363,_0x2fab9a)=>P['fetchMessages'](_0x362363,_0x2fab9a)});return _0xf57383['status'](0xc8)['json'](_0x329001);})['post'](this[_0x5bc5d7(0x696)](_0x5bc5d7(0x624)),..._0x14f93b,async(_0x31528a,_0x1fbcfc)=>{const _0x6e2e00=_0x5bc5d7;let _0x41c99c=await this[_0x6e2e00(0x3fc)]({'request':_0x31528a,'schema':La,'ClassRef':st,'execute':(_0x6fe4da,_0x4cffc3)=>P[_0x6e2e00(0x471)](_0x6fe4da,_0x4cffc3)});return _0x1fbcfc[_0x6e2e00(0x354)](0xc8)['json'](_0x41c99c);})[_0x5bc5d7(0x313)](this['routerPath']('findChats'),..._0x14f93b,async(_0x313d2a,_0x31eaa6)=>{const _0x19a07e=_0x5bc5d7;let _0x5b1001=await this[_0x19a07e(0x3fc)]({'request':_0x313d2a,'schema':null,'ClassRef':b,'execute':_0x41dd12=>P['fetchChats'](_0x41dd12)});return _0x31eaa6[_0x19a07e(0x354)](0xc8)[_0x19a07e(0x3e1)](_0x5b1001);})[_0x5bc5d7(0x313)](this['routerPath']('fetchPrivacySettings'),..._0x14f93b,async(_0x1fc632,_0x3c78b3)=>{const _0x4f1d29=_0x5bc5d7;let _0x403d65=await this[_0x4f1d29(0x3fc)]({'request':_0x1fc632,'schema':null,'ClassRef':b,'execute':_0x5e40ef=>P[_0x4f1d29(0x6f1)](_0x5e40ef)});return _0x3c78b3[_0x4f1d29(0x354)](0xc8)['json'](_0x403d65);})['put'](this[_0x5bc5d7(0x696)](_0x5bc5d7(0x2a6)),..._0x14f93b,async(_0x360f37,_0x1b01f7)=>{const _0x1e4a3b=_0x5bc5d7;let _0x4d9a0e=await this['dataValidate']({'request':_0x360f37,'schema':Ia,'ClassRef':ze,'execute':(_0x51bc4a,_0x8eb542)=>P[_0x1e4a3b(0x2a6)](_0x51bc4a,_0x8eb542)});return _0x1b01f7[_0x1e4a3b(0x354)](0xc9)['json'](_0x4d9a0e);})[_0x5bc5d7(0x2f2)](this[_0x5bc5d7(0x696)]('fetchBusinessProfile'),..._0x14f93b,async(_0x82fc6c,_0x54b15c)=>{const _0xc1e78=_0x5bc5d7;let _0x2bd729=await this['dataValidate']({'request':_0x82fc6c,'schema':Te,'ClassRef':we,'execute':(_0x51d023,_0x3c5f60)=>P[_0xc1e78(0x35a)](_0x51d023,_0x3c5f60)});return _0x54b15c[_0xc1e78(0x354)](0xc8)[_0xc1e78(0x3e1)](_0x2bd729);})[_0x5bc5d7(0x2f2)](this[_0x5bc5d7(0x696)](_0x5bc5d7(0x47b)),..._0x14f93b,async(_0x13f62b,_0x1f0e00)=>{const _0x21a7d4=_0x5bc5d7;let _0x6d096b=await this[_0x21a7d4(0x3fc)]({'request':_0x13f62b,'schema':_a,'ClassRef':qe,'execute':(_0x46b703,_0x55d5b6)=>P['updateProfileName'](_0x46b703,_0x55d5b6)});return _0x1f0e00[_0x21a7d4(0x354)](0xc8)[_0x21a7d4(0x3e1)](_0x6d096b);})[_0x5bc5d7(0x2f2)](this[_0x5bc5d7(0x696)](_0x5bc5d7(0x4b2)),..._0x14f93b,async(_0x54c4ee,_0x38a619)=>{const _0x548bd2=_0x5bc5d7;let _0x28ed93=await this[_0x548bd2(0x3fc)]({'request':_0x54c4ee,'schema':xa,'ClassRef':We,'execute':(_0x12f0bf,_0x14e510)=>P[_0x548bd2(0x4b2)](_0x12f0bf,_0x14e510)});return _0x38a619[_0x548bd2(0x354)](0xc8)[_0x548bd2(0x3e1)](_0x28ed93);})[_0x5bc5d7(0x70f)](this['routerPath'](_0x5bc5d7(0x6bd)),..._0x14f93b,async(_0x9cd79b,_0xc56560)=>{const _0x1c3069=_0x5bc5d7;let _0x565bb8=await this[_0x1c3069(0x3fc)]({'request':_0x9cd79b,'schema':Te,'ClassRef':we,'execute':(_0x58401a,_0x1e3214)=>P[_0x1c3069(0x6bd)](_0x58401a,_0x1e3214)});return _0xc56560['status'](0xc8)['json'](_0x565bb8);})[_0x5bc5d7(0x3e3)](this[_0x5bc5d7(0x696)](_0x5bc5d7(0x37f)),..._0x14f93b,async(_0x24580c,_0x56139a)=>{const _0x4fc6e5=_0x5bc5d7;let _0x2ecf00=await this[_0x4fc6e5(0x3fc)]({'request':_0x24580c,'schema':Te,'ClassRef':we,'execute':(_0x52498c,_0x1c1cd3)=>P['removeProfilePicture'](_0x52498c,_0x1c1cd3)});return _0x56139a[_0x4fc6e5(0x354)](0xc8)['json'](_0x2ecf00);});}},za=require('express'),it=class{},rt=class{},nt=class{},ct=class{},lt=class{},ee=class{},ut=class{},dt=class extends ee{},pt=class extends ee{},gt=class extends L{constructor(..._0x2b0237){const _0x10c63d=a0_0x200bc3;super(),this['router']=(0x0,za['Router'])(),this['router']['post'](this[_0x10c63d(0x696)]('create'),..._0x2b0237,async(_0x5223d,_0x463913)=>{const _0x5c673a=_0x10c63d;let _0x232f5b=await this[_0x5c673a(0x3fc)]({'request':_0x5223d,'schema':Va,'ClassRef':it,'execute':(_0x384459,_0x3b583e)=>V[_0x5c673a(0x2ca)](_0x384459,_0x3b583e)});_0x463913[_0x5c673a(0x354)](0xc9)[_0x5c673a(0x3e1)](_0x232f5b);})[_0x10c63d(0x70f)](this[_0x10c63d(0x696)](_0x10c63d(0x542)),..._0x2b0237,async(_0x192212,_0x2c8e5c)=>{const _0x1cbc24=_0x10c63d;let _0x14f905=await this['groupValidate']({'request':_0x192212,'schema':Fa,'ClassRef':rt,'execute':(_0x5a273d,_0x570f5c)=>V[_0x1cbc24(0x542)](_0x5a273d,_0x570f5c)});_0x2c8e5c[_0x1cbc24(0x354)](0xc9)['json'](_0x14f905);})[_0x10c63d(0x70f)](this[_0x10c63d(0x696)](_0x10c63d(0x262)),..._0x2b0237,async(_0x127299,_0x48913d)=>{const _0x201ec9=_0x10c63d;let _0x4a0201=await this[_0x201ec9(0x66f)]({'request':_0x127299,'schema':Ja,'ClassRef':nt,'execute':(_0x27257e,_0x13bf12)=>V[_0x201ec9(0x262)](_0x27257e,_0x13bf12)});_0x48913d[_0x201ec9(0x354)](0xc9)['json'](_0x4a0201);})[_0x10c63d(0x70f)](this[_0x10c63d(0x696)]('groupName'),..._0x2b0237,async(_0x549cd6,_0x3e31f2)=>{const _0xb67cdd=_0x10c63d;let _0x225d3f=await this[_0xb67cdd(0x66f)]({'request':_0x549cd6,'schema':Ga,'ClassRef':ct,'execute':(_0x57b0d3,_0x295532)=>V[_0xb67cdd(0x3d4)](_0x57b0d3,_0x295532)});_0x3e31f2['status'](0xc9)[_0xb67cdd(0x3e1)](_0x225d3f);})[_0x10c63d(0x70f)](this[_0x10c63d(0x696)](_0x10c63d(0x203)),..._0x2b0237,async(_0xcfc3b0,_0x286626)=>{const _0x3f6bda=_0x10c63d;let _0x42d9de=await this['groupValidate']({'request':_0xcfc3b0,'schema':qa,'ClassRef':lt,'execute':(_0xd64df8,_0x36e510)=>V[_0x3f6bda(0x203)](_0xd64df8,_0x36e510)});_0x286626['status'](0xc9)[_0x3f6bda(0x3e1)](_0x42d9de);})[_0x10c63d(0x70f)](this[_0x10c63d(0x696)](_0x10c63d(0x4e5)),..._0x2b0237,async(_0x17013f,_0x17fd24)=>{const _0x419cae=_0x10c63d;let _0x16eef7=await this[_0x419cae(0x66f)]({'request':_0x17013f,'schema':Ba,'ClassRef':pt,'execute':(_0x374feb,_0x1d8792)=>V['toggleEphemeral'](_0x374feb,_0x1d8792)});_0x17fd24['status'](0xc9)['json'](_0x16eef7);})[_0x10c63d(0x313)](this['routerPath'](_0x10c63d(0x4d1)),..._0x2b0237,async(_0x1a99e0,_0x42fb3f)=>{const _0x435473=_0x10c63d;let _0x51bcfb=await this[_0x435473(0x66f)]({'request':_0x1a99e0,'schema':Me,'ClassRef':ee,'execute':(_0xfb3404,_0x2d44fc)=>V[_0x435473(0x1e6)](_0xfb3404,_0x2d44fc)});_0x42fb3f[_0x435473(0x354)](0xc8)[_0x435473(0x3e1)](_0x51bcfb);})['get'](this[_0x10c63d(0x696)](_0x10c63d(0x2b9)),..._0x2b0237,async(_0x1fb49e,_0x55b945)=>{const _0x42740e=_0x10c63d;let _0xc3352=await this[_0x42740e(0x3fc)]({'request':_0x1fb49e,'schema':v,'ClassRef':b,'execute':_0x29853b=>V['findGroups'](_0x29853b)});_0x55b945['status'](0xc8)[_0x42740e(0x3e1)](_0xc3352);})[_0x10c63d(0x313)](this[_0x10c63d(0x696)](_0x10c63d(0x21d)),..._0x2b0237,async(_0x52ab60,_0x4784bf)=>{const _0x369baa=_0x10c63d;let _0x1219c0=await this[_0x369baa(0x66f)]({'request':_0x52ab60,'schema':Me,'ClassRef':ee,'execute':(_0x282293,_0x2c2a68)=>V[_0x369baa(0x3d3)](_0x282293,_0x2c2a68)});_0x4784bf[_0x369baa(0x354)](0xc8)[_0x369baa(0x3e1)](_0x1219c0);})[_0x10c63d(0x313)](this['routerPath'](_0x10c63d(0x314)),..._0x2b0237,async(_0x59c4dc,_0x394c6d)=>{const _0x4a1c9f=_0x10c63d;let _0x1a862d=await this[_0x4a1c9f(0x66f)]({'request':_0x59c4dc,'schema':Me,'ClassRef':ee,'execute':(_0x4b788e,_0x238863)=>V[_0x4a1c9f(0x314)](_0x4b788e,_0x238863)});_0x394c6d[_0x4a1c9f(0x354)](0xc8)[_0x4a1c9f(0x3e1)](_0x1a862d);})[_0x10c63d(0x70f)](this[_0x10c63d(0x696)](_0x10c63d(0x65c)),..._0x2b0237,async(_0x2b72e0,_0x179d87)=>{const _0x2cac16=_0x10c63d;let _0x1cc2ae=await this[_0x2cac16(0x586)]({'request':_0x2b72e0,'schema':Wa,'ClassRef':ut,'execute':(_0x23bca0,_0x1eaa4a)=>V['joinGroup'](_0x23bca0,_0x1eaa4a)});_0x179d87[_0x2cac16(0x354)](0xc9)[_0x2cac16(0x3e1)](_0x1cc2ae);})[_0x10c63d(0x70f)](this[_0x10c63d(0x696)]('revokeInviteCode'),..._0x2b0237,async(_0x5a9fd9,_0x1a9c09)=>{const _0x550120=_0x10c63d;let _0x1d2513=await this['groupValidate']({'request':_0x5a9fd9,'schema':Me,'ClassRef':ee,'execute':(_0x3faff4,_0x322d93)=>V[_0x550120(0x6de)](_0x3faff4,_0x322d93)});_0x1a9c09['status'](0xc9)[_0x550120(0x3e1)](_0x1d2513);})['put'](this[_0x10c63d(0x696)]('updateParticipant'),..._0x2b0237,async(_0x38b6cf,_0x2b5407)=>{const _0x46d0af=_0x10c63d;let _0x36f6ce=await this['groupValidate']({'request':_0x38b6cf,'schema':ja,'ClassRef':dt,'execute':(_0x9731d8,_0x47c34d)=>V[_0x46d0af(0x5cd)](_0x9731d8,_0x47c34d)});_0x2b5407[_0x46d0af(0x354)](0xc9)[_0x46d0af(0x3e1)](_0x36f6ce);})[_0x10c63d(0x3e3)](this[_0x10c63d(0x696)](_0x10c63d(0x231)),..._0x2b0237,async(_0x531155,_0x52137c)=>{const _0x4189b1=_0x10c63d;let _0xa51eec=await this[_0x4189b1(0x66f)]({'request':_0x531155,'schema':{},'ClassRef':ee,'execute':(_0x1546d9,_0x2f6e1f)=>V[_0x4189b1(0x231)](_0x1546d9,_0x2f6e1f)});_0x52137c[_0x4189b1(0x354)](0xc8)[_0x4189b1(0x3e1)](_0xa51eec);});}},Xa=require(a0_0x200bc3(0x311)),Pe=require(a0_0x200bc3(0x37e)),ys=require(a0_0x200bc3(0x74d)),Qa=require('class-validator'),Ya=T(require('axios')),mt=class{},ht=class l{constructor(_0x2d3bf9,_0x406447,_0x5db892){const _0x39dd22=a0_0x200bc3;this[_0x39dd22(0x712)]=_0x2d3bf9,this[_0x39dd22(0x3df)]=_0x406447,this[_0x39dd22(0x6eb)]=_0x5db892,this[_0x39dd22(0x593)]=new C(l[_0x39dd22(0x31b)]);}async[a0_0x200bc3(0x39a)](_0x43a3bf){const _0x223eab=a0_0x200bc3;let _0x7ca889=this[_0x223eab(0x712)][_0x223eab(0x313)](_0x223eab(0x299))[_0x223eab(0x555)],_0x4efb5d=(0x0,Pe[_0x223eab(0x6d8)])({'instanceName':_0x43a3bf[_0x223eab(0x526)],'apiName':Xe,'tokenId':(0x0,ys['v4'])()},_0x7ca889[_0x223eab(0x2f6)],{'expiresIn':_0x7ca889[_0x223eab(0x3c4)],'encoding':_0x223eab(0x609),'subject':_0x223eab(0x6ff)}),_0xa308b1=await this[_0x223eab(0x6eb)][_0x223eab(0x5f5)][_0x223eab(0x57d)]({'jwt':_0x4efb5d},_0x43a3bf[_0x223eab(0x526)]);if(_0xa308b1[_0x223eab(0x22d)])throw this[_0x223eab(0x593)][_0x223eab(0x22d)]({'localError':l[_0x223eab(0x31b)]+_0x223eab(0x501),'error':_0xa308b1['error']}),new g('Authentication\x20error',_0xa308b1[_0x223eab(0x22d)]?.['toString']());return{'jwt':_0x4efb5d};}async[a0_0x200bc3(0x2d4)](_0x192d6d){const _0x3a059a=a0_0x200bc3;let _0x90b830=(0x0,ys['v4'])()[_0x3a059a(0x4ba)](),_0x48e03e=await this[_0x3a059a(0x6eb)][_0x3a059a(0x5f5)][_0x3a059a(0x57d)]({'apikey':_0x90b830},_0x192d6d[_0x3a059a(0x526)]);if(_0x48e03e['error'])throw this[_0x3a059a(0x593)]['error']({'localError':l[_0x3a059a(0x31b)]+_0x3a059a(0x501),'error':_0x48e03e['error']}),new g('Authentication\x20error',_0x48e03e[_0x3a059a(0x22d)]?.[_0x3a059a(0x3d6)]());return{'apikey':_0x90b830};}async[a0_0x200bc3(0x745)](_0x32625d){const _0x15eaaf=a0_0x200bc3;let _0x4b2806=this['configService'][_0x15eaaf(0x313)](_0x15eaaf(0x299));return await this[_0x4b2806[_0x15eaaf(0x400)]](_0x32625d);}async[a0_0x200bc3(0x5b5)]({oldToken:_0x128018}){const _0xe3f600=a0_0x200bc3;if(!(0x0,Qa['isJWT'])(_0x128018))throw new g(_0xe3f600(0x2e1));try{let _0x5671dd=this[_0xe3f600(0x712)]['get'](_0xe3f600(0x299))['JWT'],_0x505dac=(0x0,Pe[_0xe3f600(0x2f4)])(_0x128018,_0x5671dd[_0xe3f600(0x2f6)],{'ignoreExpiration':!0x0}),_0x2584f8=await this[_0xe3f600(0x6eb)][_0xe3f600(0x5f5)][_0xe3f600(0x487)](_0x505dac[_0xe3f600(0x526)]),_0x25eaaf=(0x0,Pe[_0xe3f600(0x2f4)])(_0x2584f8[_0xe3f600(0x39a)],_0x5671dd['SECRET'],{'ignoreExpiration':!0x0});if(_0x505dac['tokenId']!==_0x25eaaf[_0xe3f600(0x3bc)])throw new g('Invalid\x20\x22oldToken\x22');let _0x42e7d4={'jwt':(await this[_0xe3f600(0x39a)]({'instanceName':_0x505dac[_0xe3f600(0x526)]}))[_0xe3f600(0x39a)],'instanceName':_0x505dac['instanceName']};try{let _0x3e367d=await this['repository']['webhook'][_0xe3f600(0x487)](_0x505dac[_0xe3f600(0x526)]);_0x3e367d?.[_0xe3f600(0x603)]&&this[_0xe3f600(0x712)][_0xe3f600(0x313)](_0xe3f600(0x4ad))[_0xe3f600(0x50c)][_0xe3f600(0x207)]&&await Ya[_0xe3f600(0x2bb)][_0xe3f600(0x57d)]({'baseURL':_0x3e367d['url']})[_0xe3f600(0x2f2)]('',{'event':_0xe3f600(0x5b2),'instance':_0x505dac[_0xe3f600(0x526)],'data':_0x42e7d4},{'params':{'owner':this[_0xe3f600(0x3df)][_0xe3f600(0x1eb)][_0x505dac[_0xe3f600(0x526)]][_0xe3f600(0x42c)]}});}catch(_0x4d09ce){this[_0xe3f600(0x593)][_0xe3f600(0x22d)](_0x4d09ce);}return _0x42e7d4;}catch(_0x2949c1){throw this[_0xe3f600(0x593)][_0xe3f600(0x22d)]({'localError':l[_0xe3f600(0x31b)]+_0xe3f600(0x278),'error':_0x2949c1}),new g(_0xe3f600(0x2e1));}}},ft=class extends L{constructor(_0x313412,..._0x2f3a80){const _0xc12d28=a0_0x200bc3;super(),this[_0xc12d28(0x712)]=_0x313412,this[_0xc12d28(0x721)]=(0x0,Xa[_0xc12d28(0x491)])();let _0x123211=_0x313412['get'](_0xc12d28(0x299));this['router'][_0xc12d28(0x2f2)](_0xc12d28(0x683),..._0x2f3a80,async(_0x1c9ca0,_0x2132a8)=>{const _0x520e9=_0xc12d28;let {instanceName:_0x5c5152,apikey:_0x52dc73}=_0x1c9ca0[_0x520e9(0x4ea)],_0x2754c2=await ce[_0x520e9(0x77b)]({'instanceName':_0x5c5152,'apikey':_0x52dc73});return _0x2132a8[_0x520e9(0x354)](0xc9)[_0x520e9(0x3e1)](_0x2754c2);})[_0xc12d28(0x70f)](this['routerPath'](_0xc12d28(0x59c)),..._0x2f3a80,async(_0x23003f,_0x36dcce)=>{const _0x400db8=_0xc12d28;let _0x2bec5d=await this[_0x400db8(0x3fc)]({'request':_0x23003f,'schema':v,'ClassRef':b,'execute':_0x1b162c=>ce['restartInstance'](_0x1b162c)});return _0x36dcce['status'](0xc8)[_0x400db8(0x3e1)](_0x2bec5d);})[_0xc12d28(0x313)](this[_0xc12d28(0x696)]('connect'),..._0x2f3a80,async(_0x3acdff,_0x401cbd)=>{const _0x36be5b=_0xc12d28;let _0x36ea38=await this[_0x36be5b(0x3fc)]({'request':_0x3acdff,'schema':v,'ClassRef':b,'execute':_0x3e2669=>ce[_0x36be5b(0x550)](_0x3e2669)});return _0x401cbd[_0x36be5b(0x354)](0xc8)[_0x36be5b(0x3e1)](_0x36ea38);})[_0xc12d28(0x313)](this[_0xc12d28(0x696)](_0xc12d28(0x7a4)),..._0x2f3a80,async(_0x2fd200,_0x237e55)=>{const _0x40836c=_0xc12d28;let _0x10406e=await this['dataValidate']({'request':_0x2fd200,'schema':v,'ClassRef':b,'execute':_0x1d8c6c=>ce[_0x40836c(0x7a4)](_0x1d8c6c)});return _0x237e55[_0x40836c(0x354)](0xc8)[_0x40836c(0x3e1)](_0x10406e);})['get'](this['routerPath'](_0xc12d28(0x55d),!0x1),..._0x2f3a80,async(_0x1566e8,_0xe2de0e)=>{const _0x3c14aa=_0xc12d28;let _0x20b906=await this[_0x3c14aa(0x3fc)]({'request':_0x1566e8,'schema':null,'ClassRef':b,'execute':_0x397769=>ce['fetchInstances'](_0x397769)});return _0xe2de0e[_0x3c14aa(0x354)](0xc8)[_0x3c14aa(0x3e1)](_0x20b906);})[_0xc12d28(0x3e3)](this['routerPath'](_0xc12d28(0x4be)),..._0x2f3a80,async(_0x4e588b,_0x57bee4)=>{const _0x4f7650=_0xc12d28;let _0x41f702=await this[_0x4f7650(0x3fc)]({'request':_0x4e588b,'schema':v,'ClassRef':b,'execute':_0x25a3be=>ce[_0x4f7650(0x4be)](_0x25a3be)});return _0x57bee4[_0x4f7650(0x354)](0xc8)[_0x4f7650(0x3e1)](_0x41f702);})[_0xc12d28(0x3e3)](this['routerPath'](_0xc12d28(0x3e3)),..._0x2f3a80,async(_0x50fdc5,_0xaf4d0c)=>{const _0x53f05a=_0xc12d28;let _0x55a216=await this[_0x53f05a(0x3fc)]({'request':_0x50fdc5,'schema':v,'ClassRef':b,'execute':_0x1ca03c=>ce[_0x53f05a(0x658)](_0x1ca03c)});return _0xaf4d0c[_0x53f05a(0x354)](0xc8)['json'](_0x55a216);}),_0x123211[_0xc12d28(0x400)]===_0xc12d28(0x39a)&&this['router']['put'](_0xc12d28(0x598),async(_0x371420,_0x1ff8d0)=>{const _0x20e96d=_0xc12d28;let _0x1e6adb=await this['dataValidate']({'request':_0x371420,'schema':ma,'ClassRef':mt,'execute':(_0x10f8d0,_0xd56efa)=>ce[_0x20e96d(0x5b5)](_0x10f8d0,_0xd56efa)});return _0x1ff8d0[_0x20e96d(0x354)](0xc9)[_0x20e96d(0x3e1)](_0x1e6adb);});}},Za=require(a0_0x200bc3(0x311)),bs=class{},z=class extends bs{},wt=class extends z{},yt=class extends z{},bt=class extends z{},Oe=class extends z{},St=class extends z{},Et=class extends z{},vt=class extends z{},Nt=class extends z{},Ct=class extends z{},Tt=class{},Mt=class extends L{constructor(..._0x24f432){const _0x3267a=a0_0x200bc3;super(),this[_0x3267a(0x721)]=(0x0,Za[_0x3267a(0x491)])(),this[_0x3267a(0x721)][_0x3267a(0x2f2)](this[_0x3267a(0x696)](_0x3267a(0x6cf)),..._0x24f432,async(_0x3da494,_0x5c90d5)=>{const _0x1284ea=_0x3267a;let _0x3acbe5=await this['dataValidate']({'request':_0x3da494,'schema':ha,'ClassRef':wt,'execute':(_0xde4fda,_0x26f4fa)=>K[_0x1284ea(0x6cf)](_0xde4fda,_0x26f4fa)});return _0x5c90d5[_0x1284ea(0x354)](0xc9)[_0x1284ea(0x3e1)](_0x3acbe5);})[_0x3267a(0x2f2)](this[_0x3267a(0x696)]('sendMedia'),..._0x24f432,async(_0x3969e3,_0x16b597)=>{const _0x23ec72=_0x3267a;let _0x2baf93=await this[_0x23ec72(0x3fc)]({'request':_0x3969e3,'schema':ba,'ClassRef':Oe,'execute':(_0x3952f4,_0x1fd339)=>K[_0x23ec72(0x34a)](_0x3952f4,_0x1fd339)});return _0x16b597[_0x23ec72(0x354)](0xc9)[_0x23ec72(0x3e1)](_0x2baf93);})[_0x3267a(0x2f2)](this[_0x3267a(0x696)](_0x3267a(0x494)),..._0x24f432,async(_0x22b6ba,_0x67bced)=>{const _0x2f67a3=_0x3267a;let _0x39d4f5=await this[_0x2f67a3(0x3fc)]({'request':_0x22b6ba,'schema':Sa,'ClassRef':Oe,'execute':(_0x2219db,_0x1fc917)=>K[_0x2f67a3(0x494)](_0x2219db,_0x1fc917)});return _0x67bced[_0x2f67a3(0x354)](0xc9)[_0x2f67a3(0x3e1)](_0x39d4f5);})['post'](this[_0x3267a(0x696)]('sendButtons'),..._0x24f432,async(_0x3e5a23,_0xa2a5f5)=>{const _0x3b6e86=_0x3267a;let _0x5aacae=await this[_0x3b6e86(0x3fc)]({'request':_0x3e5a23,'schema':va,'ClassRef':Et,'execute':(_0x21b3f9,_0xd955b1)=>K[_0x3b6e86(0x667)](_0x21b3f9,_0xd955b1)});return _0xa2a5f5[_0x3b6e86(0x354)](0xc9)[_0x3b6e86(0x3e1)](_0x5aacae);})[_0x3267a(0x2f2)](this[_0x3267a(0x696)](_0x3267a(0x567)),..._0x24f432,async(_0x99caa8,_0x21cacf)=>{const _0x2795ad=_0x3267a;let _0x109182=await this[_0x2795ad(0x3fc)]({'request':_0x99caa8,'schema':Na,'ClassRef':vt,'execute':(_0x14f0ac,_0x7f7744)=>K[_0x2795ad(0x567)](_0x14f0ac,_0x7f7744)});return _0x21cacf[_0x2795ad(0x354)](0xc9)[_0x2795ad(0x3e1)](_0x109182);})['post'](this['routerPath'](_0x3267a(0x772)),..._0x24f432,async(_0x59c066,_0x1dee55)=>{const _0x30985b=_0x3267a;let _0x1ba5a2=await this[_0x30985b(0x3fc)]({'request':_0x59c066,'schema':Ca,'ClassRef':Nt,'execute':(_0x323aff,_0x19ab7e)=>K[_0x30985b(0x772)](_0x323aff,_0x19ab7e)});return _0x1dee55[_0x30985b(0x354)](0xc9)[_0x30985b(0x3e1)](_0x1ba5a2);})[_0x3267a(0x2f2)](this[_0x3267a(0x696)](_0x3267a(0x457)),..._0x24f432,async(_0x1b3c47,_0x32e1da)=>{const _0x125283=_0x3267a;let _0x1f0b56=await this[_0x125283(0x3fc)]({'request':_0x1b3c47,'schema':Ta,'ClassRef':Ct,'execute':(_0x10cfee,_0x25691a)=>K[_0x125283(0x457)](_0x10cfee,_0x25691a)});return _0x32e1da[_0x125283(0x354)](0xc9)[_0x125283(0x3e1)](_0x1f0b56);})[_0x3267a(0x2f2)](this[_0x3267a(0x696)](_0x3267a(0x6a3)),..._0x24f432,async(_0x36cadd,_0x575840)=>{const _0x4dc55d=_0x3267a;let _0x51b75b=await this[_0x4dc55d(0x3fc)]({'request':_0x36cadd,'schema':Ma,'ClassRef':Tt,'execute':(_0x3a22ab,_0x56046a)=>K[_0x4dc55d(0x6a3)](_0x3a22ab,_0x56046a)});return _0x575840[_0x4dc55d(0x354)](0xc9)['json'](_0x51b75b);})['post'](this[_0x3267a(0x696)](_0x3267a(0x6d5)),..._0x24f432,async(_0x2c816b,_0x38b90e)=>{const _0x209926=_0x3267a;let _0x45eb67=await this['dataValidate']({'request':_0x2c816b,'schema':Ea,'ClassRef':bt,'execute':(_0x236c04,_0xc6b0a6)=>K['sendPoll'](_0x236c04,_0xc6b0a6)});return _0x38b90e[_0x209926(0x354)](0xc9)[_0x209926(0x3e1)](_0x45eb67);})['post'](this[_0x3267a(0x696)](_0x3267a(0x578)),..._0x24f432,async(_0x18fb66,_0x444acd)=>{const _0x14f688=_0x3267a;let _0x2d8c53=await this[_0x14f688(0x3fc)]({'request':_0x18fb66,'schema':ya,'ClassRef':yt,'execute':(_0x2acfc4,_0x1f7ee2)=>K['sendStatus'](_0x2acfc4,_0x1f7ee2)});return _0x444acd[_0x14f688(0x354)](0xc9)[_0x14f688(0x3e1)](_0x2d8c53);})[_0x3267a(0x2f2)](this['routerPath'](_0x3267a(0x535)),..._0x24f432,async(_0x15ce67,_0x33e734)=>{const _0x5bc999=_0x3267a;let _0x5629db=await this['dataValidate']({'request':_0x15ce67,'schema':wa,'ClassRef':St,'execute':(_0x26f0aa,_0x26f2b1)=>K[_0x5bc999(0x535)](_0x26f0aa,_0x26f2b1)});return _0x33e734['status'](0xc9)[_0x5bc999(0x3e1)](_0x5629db);});}},eo=require('express'),Rt=class extends L{constructor(..._0x278cab){const _0x1ddd56=a0_0x200bc3;super(),this[_0x1ddd56(0x721)]=(0x0,eo[_0x1ddd56(0x491)])(),this[_0x1ddd56(0x721)]['get'](this[_0x1ddd56(0x696)](_0x1ddd56(0x45b)),..._0x278cab,(_0x164ac7,_0x41b536)=>to[_0x1ddd56(0x45b)](_0x164ac7,_0x41b536));}},so=require(a0_0x200bc3(0x311)),At=class{},It=class extends L{constructor(..._0x2c428b){const _0x78d61=a0_0x200bc3;super(),this[_0x78d61(0x721)]=(0x0,so[_0x78d61(0x491)])(),this[_0x78d61(0x721)]['post'](this[_0x78d61(0x696)]('set'),..._0x2c428b,async(_0x11a10a,_0xa2d8c)=>{const _0x411e1f=_0x78d61;let _0x546c8a=await this[_0x411e1f(0x3fc)]({'request':_0x11a10a,'schema':Ha,'ClassRef':At,'execute':(_0x5035f9,_0x4417eb)=>Ss['createWebhook'](_0x5035f9,_0x4417eb)});_0xa2d8c[_0x411e1f(0x354)](0xc9)[_0x411e1f(0x3e1)](_0x546c8a);})[_0x78d61(0x313)](this['routerPath'](_0x78d61(0x487)),..._0x2c428b,async(_0x33ab81,_0xc2067e)=>{const _0x13f4a4=_0x78d61;let _0x6c1299=await this[_0x13f4a4(0x3fc)]({'request':_0x33ab81,'schema':v,'ClassRef':b,'execute':_0xc3a9f1=>Ss[_0x13f4a4(0x716)](_0xc3a9f1)});_0xc2067e['status'](0xc8)['json'](_0x6c1299);});}},ao=require('express'),f=new C('FlowRouter'),Dt=class extends L{constructor(..._0x3a7ef4){const _0xc4d438=a0_0x200bc3;super(),this[_0xc4d438(0x721)]=(0x0,ao[_0xc4d438(0x491)])(),this['router'][_0xc4d438(0x2f2)](this[_0xc4d438(0x696)](_0xc4d438(0x6ce)),..._0x3a7ef4,async(_0x3afbaa,_0x5ac4b0)=>{const _0x3a3d57=_0xc4d438;let _0x2948a1=_0x3afbaa[_0x3a3d57(0x4ea)];f[_0x3a3d57(0x6d7)]('request\x20received\x20in\x20scheduleMessage'),f['verbose']('request\x20body:\x20'),f['verbose'](_0x3afbaa['body']);let _0xf46b4=await this['dataValidate']({'request':_0x3afbaa,'schema':v,'ClassRef':b,'execute':_0x3c43cc=>R[_0x3a3d57(0x52b)](_0x3c43cc,_0x2948a1)});_0x5ac4b0[_0x3a3d57(0x354)](0xc8)[_0x3a3d57(0x3e1)](_0xf46b4);})[_0xc4d438(0x313)](this[_0xc4d438(0x696)](_0xc4d438(0x6ce)),..._0x3a7ef4,async(_0x1d912a,_0x3fb85e)=>{const _0xa3ee39=_0xc4d438;let _0x160579=await this['dataValidate']({'request':_0x1d912a,'schema':v,'ClassRef':b,'execute':_0x352911=>R[_0xa3ee39(0x3fa)](_0x352911)});_0x3fb85e[_0xa3ee39(0x354)](0xc8)[_0xa3ee39(0x3e1)](_0x160579);})[_0xc4d438(0x3e3)](this['routerPath']('deleteDoneMessages'),..._0x3a7ef4,async(_0x185aa4,_0x5cfa03)=>{const _0x2ac1d5=_0xc4d438;f[_0x2ac1d5(0x6d7)](_0x2ac1d5(0x4ee));let _0x149463=await this[_0x2ac1d5(0x3fc)]({'request':_0x185aa4,'schema':v,'ClassRef':b,'execute':_0x2bd4f0=>R['deleteDoneMessages'](_0x2bd4f0)});_0x5cfa03['status'](0xc8)[_0x2ac1d5(0x3e1)](_0x149463);})[_0xc4d438(0x2f2)](this[_0xc4d438(0x696)](_0xc4d438(0x398)),..._0x3a7ef4,async(_0xc68f7e,_0x33ff98)=>{const _0x38f056=_0xc4d438;let _0x4ed49c=_0xc68f7e[_0x38f056(0x4ea)];f[_0x38f056(0x6d7)](_0x38f056(0x1bd)),f[_0x38f056(0x6d7)](_0x38f056(0x3ee)),f[_0x38f056(0x6d7)](_0xc68f7e[_0x38f056(0x4ea)]);let _0x205693=await this[_0x38f056(0x3fc)]({'request':_0xc68f7e,'schema':v,'ClassRef':b,'execute':_0xd93cdb=>R[_0x38f056(0x398)](_0xd93cdb,_0x4ed49c)});_0x33ff98[_0x38f056(0x354)](0xc8)[_0x38f056(0x3e1)](_0x205693);})['get'](this[_0xc4d438(0x696)](_0xc4d438(0x751)),..._0x3a7ef4,async(_0x5c684d,_0x7027b9)=>{const _0x19741f=_0xc4d438;f[_0x19741f(0x6d7)]('request\x20received\x20in\x20getAutomateSystem');let _0x182a4e=await this[_0x19741f(0x3fc)]({'request':_0x5c684d,'schema':v,'ClassRef':b,'execute':_0xdb8bce=>R[_0x19741f(0x751)](_0xdb8bce)});_0x7027b9[_0x19741f(0x354)](0xc8)[_0x19741f(0x3e1)](_0x182a4e);})[_0xc4d438(0x313)](this[_0xc4d438(0x696)]('getTicketSystem'),..._0x3a7ef4,async(_0x4d86d5,_0x33ffd8)=>{const _0x5c4340=_0xc4d438;f['verbose'](_0x5c4340(0x39e));let _0x5b3365=await this[_0x5c4340(0x3fc)]({'request':_0x4d86d5,'schema':v,'ClassRef':b,'execute':_0x572c06=>R[_0x5c4340(0x751)](_0x572c06)});_0x33ffd8[_0x5c4340(0x354)](0xc8)[_0x5c4340(0x3e1)](_0x5b3365);})['post'](this['routerPath'](_0xc4d438(0x4d8)),..._0x3a7ef4,async(_0x195968,_0x7b2365)=>{const _0x114126=_0xc4d438;let _0x2f85fc=_0x195968['body'];f[_0x114126(0x6d7)](_0x114126(0x6a7)),f[_0x114126(0x6d7)](_0x114126(0x3ee)),f['verbose'](_0x195968[_0x114126(0x4ea)]);let _0x17f62d=await this[_0x114126(0x3fc)]({'request':_0x195968,'schema':v,'ClassRef':b,'execute':_0x5044d9=>R[_0x114126(0x4d8)](_0x5044d9,_0x2f85fc)});_0x7b2365[_0x114126(0x354)](0xc8)[_0x114126(0x3e1)](_0x17f62d);})[_0xc4d438(0x2f2)](this[_0xc4d438(0x696)]('updateCustomFields'),..._0x3a7ef4,async(_0x132ebb,_0x500769)=>{const _0x3b4455=_0xc4d438;let _0x2426ad=_0x132ebb[_0x3b4455(0x4ea)];f[_0x3b4455(0x6d7)](_0x3b4455(0x443)),f[_0x3b4455(0x6d7)]('request\x20body:\x20'),f['verbose'](_0x132ebb[_0x3b4455(0x4ea)]);let _0x52294c=await this[_0x3b4455(0x3fc)]({'request':_0x132ebb,'schema':v,'ClassRef':b,'execute':_0x572351=>R[_0x3b4455(0x3fe)](_0x572351,_0x2426ad)});_0x500769['status'](0xc8)[_0x3b4455(0x3e1)](_0x52294c);})[_0xc4d438(0x2f2)](this[_0xc4d438(0x696)]('updateFlowConfig'),..._0x3a7ef4,async(_0x5a6644,_0x36230c)=>{const _0x99ec02=_0xc4d438;let _0x838a81=_0x5a6644[_0x99ec02(0x4ea)];f[_0x99ec02(0x6d7)](_0x99ec02(0x23a)),f[_0x99ec02(0x6d7)](_0x99ec02(0x3ee)),f[_0x99ec02(0x6d7)](_0x5a6644['body']);let _0x363dde=await this[_0x99ec02(0x3fc)]({'request':_0x5a6644,'schema':v,'ClassRef':b,'execute':_0x6bb5d3=>R['updateFlowConfig'](_0x6bb5d3,_0x838a81)});_0x36230c[_0x99ec02(0x354)](0xc8)['json'](_0x363dde);})[_0xc4d438(0x2f2)](this['routerPath'](_0xc4d438(0x383)),..._0x3a7ef4,async(_0x50192d,_0x4d2c20)=>{const _0x394091=_0xc4d438;let _0x5c46ea=_0x50192d['body'];f['verbose'](_0x394091(0x3c6)),f[_0x394091(0x6d7)](_0x394091(0x3ee)),f[_0x394091(0x6d7)](_0x50192d[_0x394091(0x4ea)]);let _0x234b83=await this['dataValidate']({'request':_0x50192d,'schema':v,'ClassRef':b,'execute':_0x47469b=>R[_0x394091(0x383)](_0x47469b,_0x5c46ea)});_0x4d2c20[_0x394091(0x354)](0xc8)['json'](_0x234b83);})[_0xc4d438(0x2f2)](this[_0xc4d438(0x696)]('fetchConversation'),..._0x3a7ef4,async(_0x454cbc,_0x2bde9b)=>{const _0x3c67a6=_0xc4d438;let _0x513cca=_0x454cbc[_0x3c67a6(0x4ea)];f['verbose'](_0x3c67a6(0x72e)),f[_0x3c67a6(0x6d7)](_0x3c67a6(0x3ee)),f[_0x3c67a6(0x6d7)](_0x454cbc[_0x3c67a6(0x4ea)]);let _0x395c9a=await this['dataValidate']({'request':_0x454cbc,'schema':v,'ClassRef':b,'execute':_0x202a43=>R['fetchConversation'](_0x202a43,_0x513cca)});_0x2bde9b[_0x3c67a6(0x354)](0xc8)[_0x3c67a6(0x3e1)](_0x395c9a);})[_0xc4d438(0x2f2)](this['routerPath'](_0xc4d438(0x485)),..._0x3a7ef4,async(_0x130796,_0x4e8ef8)=>{const _0x50645b=_0xc4d438;let _0x2ab0dc=_0x130796['body'];f[_0x50645b(0x6d7)](_0x50645b(0x1ff)),f[_0x50645b(0x6d7)]('request\x20body:\x20'),f[_0x50645b(0x6d7)](_0x130796[_0x50645b(0x4ea)]);let _0x42cccc=await this[_0x50645b(0x3fc)]({'request':_0x130796,'schema':v,'ClassRef':b,'execute':_0x553743=>R[_0x50645b(0x485)](_0x553743,_0x2ab0dc)});_0x4e8ef8[_0x50645b(0x354)](0xc8)['json'](_0x42cccc);})[_0xc4d438(0x3e3)](this[_0xc4d438(0x696)](_0xc4d438(0x3a0)),..._0x3a7ef4,async(_0x14ed10,_0x56de0d)=>{const _0x36dd56=_0xc4d438;let _0x58554d=_0x14ed10[_0x36dd56(0x4ea)];f['verbose']('request\x20received\x20in\x20deleteConversation'),f[_0x36dd56(0x6d7)]('request\x20body:\x20'),f[_0x36dd56(0x6d7)](_0x14ed10['body']);let _0xa31e96=await this[_0x36dd56(0x3fc)]({'request':_0x14ed10,'schema':v,'ClassRef':b,'execute':_0x12faff=>R[_0x36dd56(0x3a0)](_0x12faff,_0x58554d)});_0x56de0d[_0x36dd56(0x354)](0xc8)[_0x36dd56(0x3e1)](_0xa31e96);})[_0xc4d438(0x2f2)](this[_0xc4d438(0x696)](_0xc4d438(0x4e3)),..._0x3a7ef4,async(_0x5ca77a,_0x5e37e3)=>{const _0x2b514c=_0xc4d438;let _0xcad952=_0x5ca77a[_0x2b514c(0x4ea)];f[_0x2b514c(0x6d7)](_0x2b514c(0x27a)),f['verbose'](_0x2b514c(0x3ee)),f[_0x2b514c(0x6d7)](_0x5ca77a[_0x2b514c(0x4ea)]);let _0x5e4b31=await this['dataValidate']({'request':_0x5ca77a,'schema':v,'ClassRef':b,'execute':_0x2dd78d=>R[_0x2b514c(0x73a)](_0x2dd78d,_0xcad952)});_0x5e37e3[_0x2b514c(0x354)](0xc8)[_0x2b514c(0x3e1)](_0x5e4b31);})[_0xc4d438(0x2f2)](this[_0xc4d438(0x696)](_0xc4d438(0x762)),..._0x3a7ef4,async(_0x3c0e29,_0x5b030c)=>{const _0xd4426f=_0xc4d438;let _0x4ac225=_0x3c0e29[_0xd4426f(0x4ea)];f['verbose'](_0xd4426f(0x1c9)),f[_0xd4426f(0x6d7)]('request\x20body:\x20'),f[_0xd4426f(0x6d7)](_0x3c0e29[_0xd4426f(0x4ea)]),delete _0x4ac225['blocks'],delete _0x4ac225[_0xd4426f(0x3f7)],delete _0x4ac225[_0xd4426f(0x1c0)],delete _0x4ac225[_0xd4426f(0x355)];let _0xb48458=await this[_0xd4426f(0x3fc)]({'request':_0x3c0e29,'schema':v,'ClassRef':b,'execute':_0x34fa09=>R[_0xd4426f(0x79e)](_0x34fa09,_0x4ac225)});_0x5b030c[_0xd4426f(0x354)](0xc8)['json'](_0xb48458);})[_0xc4d438(0x2f2)](this[_0xc4d438(0x696)](_0xc4d438(0x3f9)),..._0x3a7ef4,async(_0x2f4208,_0x28ed30)=>{const _0x1afefa=_0xc4d438;let _0x6e0589=_0x2f4208[_0x1afefa(0x4ea)];f[_0x1afefa(0x6d7)]('request\x20received\x20in\x20editFlow'),f[_0x1afefa(0x6d7)](_0x1afefa(0x3ee)),f[_0x1afefa(0x6d7)](_0x2f4208['body']);let _0xa97f8e=await this[_0x1afefa(0x3fc)]({'request':_0x2f4208,'schema':v,'ClassRef':b,'execute':_0xc2a082=>R[_0x1afefa(0x280)](_0xc2a082,_0x6e0589)});_0x28ed30[_0x1afefa(0x354)](0xc8)[_0x1afefa(0x3e1)](_0xa97f8e);})['post'](this[_0xc4d438(0x696)]('editflowreply'),..._0x3a7ef4,async(_0x3d2e7f,_0xbeb13d)=>{const _0x3a603d=_0xc4d438;let _0x26ff43=_0x3d2e7f['body'];f[_0x3a603d(0x6d7)](_0x3a603d(0x1c9)),f[_0x3a603d(0x6d7)](_0x3a603d(0x3ee)),f[_0x3a603d(0x6d7)](_0x3d2e7f[_0x3a603d(0x4ea)]);let _0x159a1b=await this[_0x3a603d(0x3fc)]({'request':_0x3d2e7f,'schema':v,'ClassRef':b,'execute':_0x52b033=>R[_0x3a603d(0x5a9)](_0x52b033,_0x26ff43)});_0xbeb13d[_0x3a603d(0x354)](0xc8)[_0x3a603d(0x3e1)](_0x159a1b);})[_0xc4d438(0x2f2)](this[_0xc4d438(0x696)](_0xc4d438(0x21e)),..._0x3a7ef4,async(_0x4cf881,_0xd28e9b)=>{const _0xdba144=_0xc4d438;let _0x5d03c0=_0x4cf881[_0xdba144(0x4ea)];f[_0xdba144(0x6d7)](_0xdba144(0x1c9)),f['verbose'](_0xdba144(0x3ee)),f[_0xdba144(0x6d7)](_0x4cf881['body']);let _0x586612=await this[_0xdba144(0x3fc)]({'request':_0x4cf881,'schema':v,'ClassRef':b,'execute':_0x185fac=>R[_0xdba144(0x521)](_0x185fac,_0x5d03c0)});_0xd28e9b['status'](0xc8)['json'](_0x586612);})[_0xc4d438(0x2f2)](this[_0xc4d438(0x696)](_0xc4d438(0x312)),..._0x3a7ef4,async(_0x320b05,_0x525acd)=>{const _0x2cf47b=_0xc4d438;let _0x147416=_0x320b05[_0x2cf47b(0x4ea)];f[_0x2cf47b(0x6d7)](_0x2cf47b(0x3a6)),f[_0x2cf47b(0x6d7)](_0x2cf47b(0x3ee)),f['verbose'](_0x320b05[_0x2cf47b(0x4ea)]);let _0xe28312=await this['dataValidate']({'request':_0x320b05,'schema':v,'ClassRef':b,'execute':_0x284a5a=>R['editFlowGroup'](_0x284a5a,_0x147416)});_0x525acd['status'](0xc8)[_0x2cf47b(0x3e1)](_0xe28312);})[_0xc4d438(0x2f2)](this[_0xc4d438(0x696)]('editflowcondition'),..._0x3a7ef4,async(_0x2313f9,_0x215ebf)=>{const _0x3f4cd7=_0xc4d438;let _0x3250ff=_0x2313f9[_0x3f4cd7(0x4ea)];f[_0x3f4cd7(0x6d7)](_0x3f4cd7(0x376)),f[_0x3f4cd7(0x6d7)]('request\x20body:\x20'),f[_0x3f4cd7(0x6d7)](_0x2313f9['body']);let _0x5df3df=await this[_0x3f4cd7(0x3fc)]({'request':_0x2313f9,'schema':v,'ClassRef':b,'execute':_0x3f2fb6=>R['editFlowCondition'](_0x3f2fb6,_0x3250ff)});_0x215ebf[_0x3f4cd7(0x354)](0xc8)[_0x3f4cd7(0x3e1)](_0x5df3df);})[_0xc4d438(0x2f2)](this[_0xc4d438(0x696)](_0xc4d438(0x493)),..._0x3a7ef4,async(_0x1370e0,_0x4819f5)=>{const _0x4acd42=_0xc4d438;let _0x2cf90e=_0x1370e0['body'];f[_0x4acd42(0x6d7)]('request\x20received\x20in\x20editFlowvariable'),f['verbose']('request\x20body:\x20'),f['verbose'](_0x1370e0[_0x4acd42(0x4ea)]);let _0x55049c=await this['dataValidate']({'request':_0x1370e0,'schema':v,'ClassRef':b,'execute':_0x539b80=>R[_0x4acd42(0x4bc)](_0x539b80,_0x2cf90e)});_0x4819f5[_0x4acd42(0x354)](0xc8)[_0x4acd42(0x3e1)](_0x55049c);})[_0xc4d438(0x2f2)](this[_0xc4d438(0x696)](_0xc4d438(0x308)),..._0x3a7ef4,async(_0xb2b61a,_0x56037d)=>{const _0x3a784e=_0xc4d438;let _0xdfcc7d=_0xb2b61a[_0x3a784e(0x4ea)];f[_0x3a784e(0x6d7)](_0x3a784e(0x2d1)),f[_0x3a784e(0x6d7)](_0x3a784e(0x3ee)),f[_0x3a784e(0x6d7)](_0xb2b61a[_0x3a784e(0x4ea)]);let _0x39e71d=await this[_0x3a784e(0x3fc)]({'request':_0xb2b61a,'schema':v,'ClassRef':b,'execute':_0x5dcee4=>R['getFlow'](_0x5dcee4,_0xdfcc7d)});_0x56037d[_0x3a784e(0x354)](0xc8)[_0x3a784e(0x3e1)](_0x39e71d);})[_0xc4d438(0x3e3)](this[_0xc4d438(0x696)](_0xc4d438(0x66d)),..._0x3a7ef4,async(_0x13ec6d,_0x1f3f8f)=>{const _0x508626=_0xc4d438;let _0x2a41e0=_0x13ec6d[_0x508626(0x4ea)];f[_0x508626(0x6d7)]('request\x20received\x20in\x20createFlow'),f[_0x508626(0x6d7)](_0x508626(0x3ee)),f['verbose'](_0x13ec6d[_0x508626(0x4ea)]);let _0x31738f=await this[_0x508626(0x3fc)]({'request':_0x13ec6d,'schema':v,'ClassRef':b,'execute':_0x333517=>R['deleteFlow'](_0x333517,_0x2a41e0)});_0x1f3f8f['status'](0xc8)[_0x508626(0x3e1)](_0x31738f);})[_0xc4d438(0x313)](this[_0xc4d438(0x696)]('allflows'),..._0x3a7ef4,async(_0x1af6b8,_0x4a219e)=>{const _0x57b002=_0xc4d438;f[_0x57b002(0x6d7)](_0x57b002(0x52e));let _0x49653a=await this['dataValidate']({'request':_0x1af6b8,'schema':v,'ClassRef':b,'execute':_0x5a146b=>R[_0x57b002(0x723)](_0x5a146b)});_0x4a219e[_0x57b002(0x354)](0xc8)[_0x57b002(0x3e1)](_0x49653a);});}},no=T(require(a0_0x200bc3(0x230))),te={};function oo(_0x21aed2,_0x204700,_0x3eeaf5,_0x410efd){te[_0x21aed2]||(te[_0x21aed2]={}),te[_0x21aed2][_0x204700]={'id':_0x204700,'response':_0x3eeaf5,'events':_0x410efd};}function io(_0xcadbaa,_0x2c6fea){!te[_0xcadbaa]||!te[_0xcadbaa][_0x2c6fea]||delete te[_0xcadbaa][_0x2c6fea];}function q(_0x2a013e,_0x5502bb,_0x4aaa08){const _0x3f03d8=a0_0x200bc3;if(!te[_0x2a013e])return;let _0x221d43=_0x3f03d8(0x4c0)+JSON[_0x3f03d8(0x76b)](_0x4aaa08)+'\x0a\x0a';Object[_0x3f03d8(0x3d1)](te[_0x2a013e])[_0x3f03d8(0x5c6)](_0x101952=>{const _0x2d18ae=_0x3f03d8;_0x101952[_0x2d18ae(0x283)]['includes'](_0x5502bb)&&_0x101952['response'][_0x2d18ae(0x6cc)](_0x221d43);});}function ro(){const _0x450172=a0_0x200bc3;let _0x5967aa={};for(let _0x558905 in te)_0x5967aa[_0x558905]=Object[_0x450172(0x3d1)](te[_0x558905])[_0x450172(0x43b)](_0x58bd31=>({'id':_0x58bd31['id'],'events':_0x58bd31[_0x450172(0x283)]}));return _0x5967aa;}var co=require(a0_0x200bc3(0x74d)),ui=no[a0_0x200bc3(0x2bb)][a0_0x200bc3(0x62e)](__dirname,'downloads'),Ot=(0x0,Pt[a0_0x200bc3(0x491)])(),di=y[a0_0x200bc3(0x313)]('AUTHENTICATION')[a0_0x200bc3(0x400)],pe=[fs,ua,ga[di]];Ot[a0_0x200bc3(0x3ed)](a0_0x200bc3(0x668),Pt[a0_0x200bc3(0x2bb)][a0_0x200bc3(0x73d)](ui))['get'](a0_0x200bc3(0x21c),async(_0x439266,_0x263294)=>{const _0x52bd91=a0_0x200bc3;console[_0x52bd91(0x23f)](_0x52bd91(0x270));let _0x40d161=_0x439266['params'][_0x52bd91(0x390)],_0x4383a2=(_0x439266[_0x52bd91(0x373)]['events']||'')[_0x52bd91(0x5a8)](','),_0x1adef4=(0x0,co['v4'])();console[_0x52bd91(0x23f)](_0x52bd91(0x3f1),_0x40d161),console['log'](_0x52bd91(0x5f0),_0x4383a2);let _0x198921=y['get'](_0x52bd91(0x299))[_0x52bd91(0x470)],_0x41363f=_0x439266[_0x52bd91(0x373)]['apikey'];if(console[_0x52bd91(0x23f)](_0x52bd91(0x252),_0x41363f),_0x198921[_0x52bd91(0x233)]!==_0x41363f){console[_0x52bd91(0x23f)]('env.KEY\x20!==\x20key');try{let _0x46e9bb=await de[_0x52bd91(0x5f5)][_0x52bd91(0x487)](_0x40d161);if(console[_0x52bd91(0x23f)](_0x52bd91(0x44d),_0x46e9bb),!_0x46e9bb||_0x46e9bb[_0x52bd91(0x2d4)]!==_0x41363f)return console[_0x52bd91(0x23f)](_0x52bd91(0x218)),_0x263294[_0x52bd91(0x354)](0x191)[_0x52bd91(0x3b2)](_0x52bd91(0x328));}catch(_0x32f711){return console[_0x52bd91(0x22d)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x32f711),_0x263294[_0x52bd91(0x354)](0x191)['send'](_0x52bd91(0x1e5));}}if(!await Ye(_0x40d161))return _0x263294['status'](0x194)[_0x52bd91(0x3b2)]('Instância\x20não\x20encontrada.');_0x263294[_0x52bd91(0x711)](_0x52bd91(0x217),'text/event-stream'),_0x263294[_0x52bd91(0x711)](_0x52bd91(0x62c),'no-cache'),_0x263294[_0x52bd91(0x711)](_0x52bd91(0x546),_0x52bd91(0x622)),_0x263294[_0x52bd91(0x5af)]();let _0x5bb3e9=_0x52bd91(0x4c0)+JSON[_0x52bd91(0x76b)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x263294[_0x52bd91(0x6cc)](_0x5bb3e9),oo(_0x40d161,_0x1adef4,_0x263294,_0x4383a2),_0x439266['on']('close',()=>{const _0x1f7d51=_0x52bd91;console[_0x1f7d51(0x23f)](_0x1f7d51(0x6c6)+_0x40d161),io(_0x40d161,_0x1adef4);});}),Ot['get'](a0_0x200bc3(0x4b5),(_0x65982b,_0x3ca3e1)=>{let _0x507ac5=ro();_0x3ca3e1['json'](_0x507ac5);})['get']('/',(_0x141a80,_0x4308de)=>{const _0x21c024=a0_0x200bc3;let _0x4f6701=y['get'](_0x21c024(0x791)),_0x35ef18=_0x4f6701&&_0x4f6701[_0x21c024(0x548)][_0x21c024(0x5a8)]('/')[0x4];if(_0x35ef18){let _0x396816=encodeURIComponent(_0x21c024(0x5a4)+_0x35ef18);_0x4308de[_0x21c024(0x6c8)](_0x21c024(0x6b4)+_0x396816);}else _0x4308de[_0x21c024(0x6c8)]('https://uazapi-plugin.bubbleapps.io/');})[a0_0x200bc3(0x70f)](a0_0x200bc3(0x36b),...pe,async(_0x392c79,_0x1e2c1d)=>{const _0x34b4ea=a0_0x200bc3;try{console[_0x34b4ea(0x23f)](_0x34b4ea(0x2b7)),_0x1e2c1d[_0x34b4ea(0x354)](0xc8)[_0x34b4ea(0x3e1)]({'message':_0x34b4ea(0x32c)}),_0x1e2c1d['on'](_0x34b4ea(0x43e),()=>process[_0x34b4ea(0x4a1)](0x0));}catch(_0x15776e){console['error'](_0x34b4ea(0x3a3),_0x15776e),_0x1e2c1d[_0x34b4ea(0x354)](0x1f4)['json']({'message':_0x34b4ea(0x1bc)});}})[a0_0x200bc3(0x3ed)](a0_0x200bc3(0x6c1),new ft(y,...pe)[a0_0x200bc3(0x721)],new Rt(fs)[a0_0x200bc3(0x721)])[a0_0x200bc3(0x3ed)](a0_0x200bc3(0x65e),new Mt(...pe)[a0_0x200bc3(0x721)])[a0_0x200bc3(0x3ed)]('/chat',new ot(...pe)[a0_0x200bc3(0x721)])[a0_0x200bc3(0x3ed)]('/group',new gt(...pe)['router'])[a0_0x200bc3(0x3ed)](a0_0x200bc3(0x718),new It(...pe)['router'])['use'](a0_0x200bc3(0x54f),new Dt(...pe)[a0_0x200bc3(0x721)]);var g=class{constructor(..._0x55f2e5){const _0x2fb946=a0_0x200bc3;throw{'status':0x190,'error':_0x2fb946(0x571),'message':_0x55f2e5['length']>0x0?_0x55f2e5:void 0x0};}},ne=class{constructor(..._0x219a57){const _0x3bb710=a0_0x200bc3;throw{'status':0x191,'error':_0x3bb710(0x557),'message':_0x219a57[_0x3bb710(0x306)]>0x0?_0x219a57:void 0x0};}},re=class{constructor(..._0x536b1f){const _0x59b22a=a0_0x200bc3;throw{'status':0x193,'error':_0x59b22a(0x524),'message':_0x536b1f[_0x59b22a(0x306)]>0x0?_0x536b1f:void 0x0};}},x=class{constructor(..._0x3d6b65){const _0x55d764=a0_0x200bc3;throw{'status':0x194,'error':'Not\x20Found','message':_0x3d6b65[_0x55d764(0x306)]>0x0?_0x3d6b65:void 0x0};}},A=class{constructor(..._0x563b27){const _0x2471d8=a0_0x200bc3;throw{'status':0x1f4,'error':_0x2471d8(0x565),'message':_0x563b27[_0x2471d8(0x306)]>0x0?_0x563b27:void 0x0};}},ge=require('@whiskeysockets/baileys');async function Es(_0x5531ce){const _0x467456=a0_0x200bc3;let _0x54f1aa=new C(Es['name']),_0x100ff9=M[_0x467456(0x6bb)](),_0x1446ff=_0x100ff9['db'](y[_0x467456(0x313)](_0x467456(0x496))[_0x467456(0x76e)][_0x467456(0x63e)]+_0x467456(0x2ad))[_0x467456(0x3cf)](_0x5531ce),_0x15de03=async(_0x3fbaf5,_0x225f1c)=>{const _0x2c8171=_0x467456;try{return await _0x100ff9[_0x2c8171(0x5f8)](),await _0x1446ff[_0x2c8171(0x4c7)]({'_id':_0x225f1c},JSON['parse'](JSON[_0x2c8171(0x76b)](_0x3fbaf5,ge[_0x2c8171(0x7a3)][_0x2c8171(0x684)])),{'upsert':!0x0});}catch{}},_0x936832=async _0xc057cc=>{const _0x10b487=_0x467456;try{await _0x100ff9[_0x10b487(0x5f8)]();let _0x2bbe17=await _0x1446ff['findOne']({'_id':_0xc057cc}),_0xa12a92=JSON[_0x10b487(0x76b)](_0x2bbe17);return JSON[_0x10b487(0x654)](_0xa12a92,ge[_0x10b487(0x7a3)][_0x10b487(0x4c9)]);}catch{}},_0x294474=async _0x175af2=>{const _0x3c17ed=_0x467456;try{return await _0x100ff9[_0x3c17ed(0x5f8)](),await _0x1446ff['deleteOne']({'_id':_0x175af2});}catch{}},_0x250320=await _0x936832(_0x467456(0x6e7))||(0x0,ge['initAuthCreds'])();return{'state':{'creds':_0x250320,'keys':{'get':async(_0x582377,_0x18f2b4)=>{const _0x14a1f1=_0x467456;let _0xfe564f={};return await Promise[_0x14a1f1(0x33d)](_0x18f2b4[_0x14a1f1(0x43b)](async _0xa4381a=>{const _0x5ddc9c=_0x14a1f1;let _0x595d21=await _0x936832(_0x582377+'-'+_0xa4381a);_0x582377===_0x5ddc9c(0x70b)&&_0x595d21&&(_0x595d21=ge[_0x5ddc9c(0x28a)][_0x5ddc9c(0x79d)][_0x5ddc9c(0x213)][_0x5ddc9c(0x6af)](_0x595d21)),_0xfe564f[_0xa4381a]=_0x595d21;})),_0xfe564f;},'set':async _0x12b09=>{const _0x402b9f=_0x467456;let _0x152ec8=[];for(let _0x4e7734 in _0x12b09)for(let _0x5047e3 in _0x12b09[_0x4e7734]){let _0x4a46bc=_0x12b09[_0x4e7734][_0x5047e3],_0x305464=_0x4e7734+'-'+_0x5047e3;_0x152ec8[_0x402b9f(0x20a)](_0x4a46bc?_0x15de03(_0x4a46bc,_0x305464):_0x294474(_0x305464));}await Promise[_0x402b9f(0x33d)](_0x152ec8);}}},'saveCreds':async()=>_0x15de03(_0x250320,_0x467456(0x6e7))};}var Cs=T(require(a0_0x200bc3(0x671))),Ts=T(require('node-cache')),$t=require(a0_0x200bc3(0x42d)),lo=require('@redis/client'),xt=require(a0_0x200bc3(0x42d)),_t;function pi(_0x5effbb){const _0x1dca57=a0_0x200bc3;return _t||(_t=(0x0,lo[_0x1dca57(0x32e)])({'url':_0x5effbb[_0x1dca57(0x436)]}),_t['connect']()),_t;}var ye=class l{constructor(_0x365cc4,_0x55ecec){const _0x2504e6=a0_0x200bc3;this['redisEnv']=_0x365cc4,this[_0x2504e6(0x526)]=_0x55ecec,this[_0x2504e6(0x593)]=new C(l[_0x2504e6(0x31b)]),this[_0x2504e6(0x47f)]=pi(_0x365cc4);}set[a0_0x200bc3(0x2dc)](_0xbcec7b){const _0x4eaef2=a0_0x200bc3;this[_0x4eaef2(0x526)]=_0xbcec7b;}async[a0_0x200bc3(0x2d9)](){const _0x44c241=a0_0x200bc3;try{return await this[_0x44c241(0x47f)][_0x44c241(0x61f)]([_0x44c241(0x72a),this[_0x44c241(0x67f)][_0x44c241(0x46c)]+':*']);}catch(_0x2dcebc){this['logger']['error'](_0x2dcebc);}}async[a0_0x200bc3(0x681)](_0x4cb5ee,_0x529e83){const _0x101761=a0_0x200bc3;try{let _0x44e445=JSON[_0x101761(0x76b)](_0x529e83,xt['BufferJSON'][_0x101761(0x684)]);return await this[_0x101761(0x47f)][_0x101761(0x7a1)](this[_0x101761(0x67f)][_0x101761(0x46c)]+':'+this[_0x101761(0x526)],_0x4cb5ee,_0x44e445);}catch(_0xe6da7d){this[_0x101761(0x593)][_0x101761(0x22d)](_0xe6da7d);}}async['getAllData'](){const _0x535772=a0_0x200bc3;try{let _0x58b489=await this[_0x535772(0x47f)][_0x535772(0x1d5)](this[_0x535772(0x67f)][_0x535772(0x46c)]+':'+this[_0x535772(0x526)]);if(_0x58b489){for(let _0x35eb2d in _0x58b489)Object['prototype'][_0x535772(0x223)][_0x535772(0x371)](_0x58b489,_0x35eb2d)&&(_0x58b489[_0x35eb2d]=JSON['parse'](_0x58b489[_0x35eb2d],xt['BufferJSON'][_0x535772(0x4c9)]));return _0x58b489;}}catch(_0x9fd255){this[_0x535772(0x593)][_0x535772(0x22d)](_0x9fd255);}}async[a0_0x200bc3(0x739)](_0x1178a2){const _0x418c4c=a0_0x200bc3;try{let _0x2268e2=await this[_0x418c4c(0x47f)][_0x418c4c(0x1b7)](this[_0x418c4c(0x67f)][_0x418c4c(0x46c)]+':'+this['instanceName'],_0x1178a2);if(_0x2268e2)return JSON[_0x418c4c(0x654)](_0x2268e2,xt[_0x418c4c(0x7a3)]['reviver']);}catch(_0x1dc488){this[_0x418c4c(0x593)][_0x418c4c(0x22d)](_0x1dc488);}}async[a0_0x200bc3(0x3eb)](_0x5589e3){const _0x517315=a0_0x200bc3;try{return await this[_0x517315(0x47f)][_0x517315(0x709)](this[_0x517315(0x67f)]['PREFIX_KEY']+':'+this[_0x517315(0x526)],_0x5589e3);}catch(_0x5c05af){this['logger'][_0x517315(0x22d)](_0x5c05af);}}async['delAll'](_0x38fad3){const _0x297ac4=a0_0x200bc3;try{return await this[_0x297ac4(0x47f)][_0x297ac4(0x2c7)](_0x38fad3||this[_0x297ac4(0x67f)][_0x297ac4(0x46c)]+':'+this[_0x297ac4(0x526)]);}catch(_0x38f430){this[_0x297ac4(0x593)][_0x297ac4(0x22d)](_0x38f430);}}};async function vs(_0x548bdd,_0x54eba5){const _0x1c9bf0=a0_0x200bc3;let _0x14d637=new C(vs[_0x1c9bf0(0x31b)]),_0x374c96=new ye(_0x548bdd,_0x54eba5),_0x2d2e64=async(_0x407df1,_0x16935e)=>{const _0x26a326=_0x1c9bf0;try{return await _0x374c96[_0x26a326(0x681)](_0x16935e,_0x407df1);}catch(_0x2d9089){return _0x14d637['error']({'localError':'writeData','error':_0x2d9089});}},_0x7aad03=async _0x2e2a00=>{const _0x5de8f0=_0x1c9bf0;try{return await _0x374c96[_0x5de8f0(0x739)](_0x2e2a00);}catch(_0xb1695f){_0x14d637[_0x5de8f0(0x22d)]({'readData':_0x5de8f0(0x681),'error':_0xb1695f});return;}},_0x30bd57=async _0x143876=>{const _0x8e1cf1=_0x1c9bf0;try{return await _0x374c96[_0x8e1cf1(0x3eb)](_0x143876);}catch(_0x4ad93d){_0x14d637[_0x8e1cf1(0x22d)]({'readData':_0x8e1cf1(0x3eb),'error':_0x4ad93d});}},_0x132eb4=await _0x7aad03(_0x1c9bf0(0x6e7))||(0x0,$t[_0x1c9bf0(0x30e)])();return{'state':{'creds':_0x132eb4,'keys':{'get':async(_0x3cee83,_0x200b4b)=>{const _0x5e6084=_0x1c9bf0;let _0x4e2bca={};return await Promise['all'](_0x200b4b[_0x5e6084(0x43b)](async _0x11a753=>{const _0xb9a199=_0x5e6084;let _0x4a4cc5=await _0x7aad03(_0x3cee83+'-'+_0x11a753);_0x3cee83===_0xb9a199(0x70b)&&_0x4a4cc5&&(_0x4a4cc5=$t['proto']['Message'][_0xb9a199(0x213)][_0xb9a199(0x6af)](_0x4a4cc5)),_0x4e2bca[_0x11a753]=_0x4a4cc5;})),_0x4e2bca;},'set':async _0x2bcbce=>{const _0x1a4f2d=_0x1c9bf0;let _0x23d916=[];for(let _0x584489 in _0x2bcbce)for(let _0x20600e in _0x2bcbce[_0x584489]){let _0x559907=_0x2bcbce[_0x584489][_0x20600e],_0x553106=_0x584489+'-'+_0x20600e;_0x23d916[_0x1a4f2d(0x20a)](_0x559907?await _0x2d2e64(_0x559907,_0x553106):await _0x30bd57(_0x553106));}await Promise[_0x1a4f2d(0x33d)](_0x23d916);}}},'saveCreds':async()=>await _0x2d2e64(_0x132eb4,_0x1c9bf0(0x6e7))};}var _=T(require('fs')),Lt=require(a0_0x200bc3(0x74d)),Ut=T(require(a0_0x200bc3(0x463)));function W(_0x5c806f){const _0x5c13b7=a0_0x200bc3;if(_0x5c806f[_0x5c13b7(0x655)]||_0x5c806f[_0x5c13b7(0x48d)]){let _0x23d364=_0x5c806f['viewOnceMessage']?_0x5c806f[_0x5c13b7(0x655)][_0x5c13b7(0x646)]:_0x5c806f[_0x5c13b7(0x48d)][_0x5c13b7(0x646)];return(0x0,w[_0x5c13b7(0x792)])(_0x23d364);}return _0x5c806f[_0x5c13b7(0x74e)]?'pollCreationMessageV3':_0x5c806f[_0x5c13b7(0x64e)]?'pollCreationMessageV2':(0x0,w['getContentType'])(_0x5c806f);}var Se=class l{constructor(_0x51ab37,_0x12cd25,_0x426a1f){const _0x2bc194=a0_0x200bc3;this[_0x2bc194(0x712)]=_0x51ab37,this['eventEmitter']=_0x12cd25,this[_0x2bc194(0x6eb)]=_0x426a1f,this[_0x2bc194(0x582)]=null,this['logger']=new C(l[_0x2bc194(0x31b)]),this[_0x2bc194(0x390)]={},this['localWebhook']={},this[_0x2bc194(0x42b)]={'state':_0x2bc194(0x40c)},this['storePath']=(0x0,$[_0x2bc194(0x62e)])(Y,_0x2bc194(0x6b2)),this[_0x2bc194(0x31e)]=new Ts[(_0x2bc194(0x2bb))](),this['userDevicesCache']=new Ts['default'](),this[_0x2bc194(0x40d)]=!0x1,this[_0x2bc194(0x2e0)]={'status.instance':'/wa-connection-update','qrcode.updated':_0x2bc194(0x6e2),'messages.upsert':_0x2bc194(0x607),'messages.update':_0x2bc194(0x407),'send.message':_0x2bc194(0x607),'group.upsert':_0x2bc194(0x296),'group.update':_0x2bc194(0x296),'group-participants.update':_0x2bc194(0x296),'connection.update':_0x2bc194(0x442),'messages.set':_0x2bc194(0x607),'contacts.set':'/wa-contacts','contacts.upsert':_0x2bc194(0x21b),'contacts.update':_0x2bc194(0x21b),'presence.update':'/wa-presence','chats.set':_0x2bc194(0x53a),'chats.update':_0x2bc194(0x53a),'chats.upsert':_0x2bc194(0x53a),'chats.delete':_0x2bc194(0x53a)},this['reconnectAttempts']=0x0,this[_0x2bc194(0x5e0)]=[],this[_0x2bc194(0x24d)]=0xf,this[_0x2bc194(0x51d)]=0x7530,this['isRunning']=!0x1,this[_0x2bc194(0x2dd)]={'chats.upsert':async(_0x10a1cc,_0x4fd0c8)=>{const _0xbcfea0=_0x2bc194;let _0x2b2ad4=await this[_0xbcfea0(0x6eb)]['chat']['find']({'where':{'owner':this[_0xbcfea0(0x390)]['wuid']}}),_0x223b98=[];for await(let _0x534a72 of _0x10a1cc)_0x2b2ad4[_0xbcfea0(0x487)](_0xadf961=>_0xadf961['id']===_0x534a72['id'])||_0x223b98[_0xbcfea0(0x20a)]({'id':_0x534a72['id'],'owner':this['instance']['wuid'],'group':_0x534a72['id']['endsWith'](_0xbcfea0(0x2d7)),'name':_0x534a72[_0xbcfea0(0x31b)]||_0x534a72[_0xbcfea0(0x365)]||null,'contactname':null,'lastmsg':_0x534a72[_0xbcfea0(0x2b5)]&&_0x534a72[_0xbcfea0(0x2b5)][_0xbcfea0(0x3d6)]()['length']<0xd?_0x534a72['conversationTimestamp']*0x3e8:_0x534a72[_0xbcfea0(0x2b5)]||null,'archived':_0x534a72[_0xbcfea0(0x53f)]||!0x1,'unreadcount':_0x534a72[_0xbcfea0(0x769)]||0x0});await this[_0xbcfea0(0x3bd)]('chats.upsert',_0x223b98);},'chats.update':async(_0x57a1ca,_0x304f89)=>{const _0x1f6af9=_0x2bc194;for(let _0x1f3bf8 of _0x57a1ca){let _0x3b7d70={'id':_0x1f3bf8['id'],'owner':this[_0x1f6af9(0x390)][_0x1f6af9(0x42c)],'group':_0x1f3bf8['id'][_0x1f6af9(0x60c)](_0x1f6af9(0x2d7)),'name':_0x1f3bf8['name']||_0x1f3bf8[_0x1f6af9(0x365)],'archived':_0x1f3bf8[_0x1f6af9(0x53f)]},_0x30e1e3=!0x1,_0x25192={'id':_0x1f3bf8['id'],'owner':this[_0x1f6af9(0x390)][_0x1f6af9(0x42c)]},_0x5888e2={};_0x3b7d70[_0x1f6af9(0x53f)]!=null&&(this[_0x1f6af9(0x593)]['verbose'](this[_0x1f6af9(0x526)]+'\x20('+this[_0x1f6af9(0x390)][_0x1f6af9(0x42c)]+_0x1f6af9(0x49e)+_0x1f3bf8[_0x1f6af9(0x53f)]),_0x30e1e3=!0x0,_0x5888e2[_0x1f6af9(0x53f)]=_0x1f3bf8[_0x1f6af9(0x53f)]),_0x1f3bf8[_0x1f6af9(0x31b)]!=null&&(this[_0x1f6af9(0x593)][_0x1f6af9(0x6d7)](this['instanceName']+'\x20('+this[_0x1f6af9(0x390)][_0x1f6af9(0x42c)]+_0x1f6af9(0x5e7)+_0x1f3bf8[_0x1f6af9(0x31b)]),_0x30e1e3=!0x0,_0x5888e2['name']=_0x1f3bf8[_0x1f6af9(0x31b)]),_0x1f3bf8[_0x1f6af9(0x365)]!=null&&(this[_0x1f6af9(0x593)]['verbose'](this[_0x1f6af9(0x526)]+'\x20('+this[_0x1f6af9(0x390)]['wuid']+_0x1f6af9(0x1fd)+_0x1f3bf8[_0x1f6af9(0x365)]),_0x30e1e3=!0x0,_0x5888e2[_0x1f6af9(0x31b)]=_0x1f3bf8['displayName']);let _0x457496;_0x30e1e3&&_0x304f89[_0x1f6af9(0x2ea)]&&(_0x457496=await D[_0x1f6af9(0x570)](_0x25192,{'$set':_0x5888e2},{'new':!0x0})),_0x457496&&q(this[_0x1f6af9(0x526)],_0x1f6af9(0x64a),{'chat':_0x457496});}},'chats.delete':async _0x39ef59=>{const _0x1dc99b=_0x2bc194;await this[_0x1dc99b(0x3bd)](_0x1dc99b(0x4bb),[..._0x39ef59]);}},this['contactHandle']={'contacts.upsert':async(_0x25b202,_0x2dc10f)=>{const _0x246c38=_0x2bc194;let _0xf1f4c4=_0x25b202[_0x246c38(0x43b)](_0x5c1f2b=>({'id':_0x5c1f2b['id'],'pushName':_0x5c1f2b?.[_0x246c38(0x31b)]||_0x5c1f2b?.[_0x246c38(0x78e)],'owner':this[_0x246c38(0x390)][_0x246c38(0x42c)]}));await this[_0x246c38(0x6eb)][_0x246c38(0x5ef)][_0x246c38(0x3fd)](_0xf1f4c4,_0x2dc10f[_0x246c38(0x2ea)]),this['logger'][_0x246c38(0x6d7)](this[_0x246c38(0x526)]+'\x20('+this[_0x246c38(0x390)]['wuid']+_0x246c38(0x73e)+_0xf1f4c4[_0x246c38(0x306)]+'\x20contatos\x20inseridos');let _0x509685=0x64,_0x455110=0xbb8,_0x28eba8=0x0;for(let _0x5d6672=0x0;_0x5d6672<_0x25b202[_0x246c38(0x306)];_0x5d6672+=_0x509685){let _0x53dc75=_0x25b202[_0x246c38(0x641)](_0x5d6672,_0x5d6672+_0x509685),_0x355a4d=[];for(let _0x47fc63 of _0x53dc75){let [_0x1fd300,_0x266979]=await Promise['all']([this['profilePicture'](_0x47fc63['id']),this[_0x246c38(0x447)](_0x47fc63['id'])]);_0x355a4d[_0x246c38(0x20a)]({'id':_0x47fc63['id'],'pushName':_0x47fc63?.[_0x246c38(0x31b)]||_0x47fc63?.[_0x246c38(0x78e)],'owner':this[_0x246c38(0x390)][_0x246c38(0x42c)],'profilePictureUrl':_0x1fd300[_0x246c38(0x65f)],'status':_0x266979['status']});}await this['repository'][_0x246c38(0x5ef)]['update'](_0x355a4d,this[_0x246c38(0x390)][_0x246c38(0x42c)],_0x2dc10f['ENABLED']),_0x28eba8+=_0x355a4d[_0x246c38(0x306)],await new Promise(_0x40befd=>setTimeout(_0x40befd,_0x455110));}this[_0x246c38(0x593)][_0x246c38(0x6d7)](this[_0x246c38(0x526)]+'\x20('+this[_0x246c38(0x390)][_0x246c38(0x42c)]+_0x246c38(0x73e)+_0x28eba8+'\x20contatos\x20processados\x20com\x20imagens\x20e\x20status'),await this[_0x246c38(0x3bd)](_0x246c38(0x6b3),_0x25b202),await this[_0x246c38(0x58c)]();},'contacts.update':async(_0x1b8ae4,_0x58b850)=>{const _0x10b895=_0x2bc194;let _0x3e643c=[];for await(let _0x278d86 of _0x1b8ae4)_0x3e643c[_0x10b895(0x20a)]({'id':_0x278d86['id'],'pushName':_0x278d86?.[_0x10b895(0x31b)]??_0x278d86?.['verifiedName'],'profilePictureUrl':(await this[_0x10b895(0x779)](_0x278d86['id']))['profilePictureUrl'],'owner':this['instance']['wuid']});await this['sendDataWebhook'](_0x10b895(0x6f4),_0x3e643c);}},this[_0x2bc194(0x2cb)]={'messaging-history.set':async({messages:_0x229111,chats:_0xbb11a0,isLatest:_0x65cd1d},_0x472608)=>{const _0x13ec9d=_0x2bc194;if(_0x65cd1d){let _0x1d339f=await Promise['all'](_0xbb11a0[_0x13ec9d(0x43b)](async _0x318496=>({'id':_0x318496['id'],'owner':this[_0x13ec9d(0x390)][_0x13ec9d(0x42c)],'group':_0x318496['id'][_0x13ec9d(0x60c)](_0x13ec9d(0x2d7)),'name':_0x318496[_0x13ec9d(0x31b)]||_0x318496[_0x13ec9d(0x365)]||null,'contactname':null,'imagechat':(await this[_0x13ec9d(0x779)](_0x318496['id']))['profilePictureUrl'],'lastmsg':_0x318496[_0x13ec9d(0x2b5)]&&_0x318496[_0x13ec9d(0x2b5)][_0x13ec9d(0x3d6)]()[_0x13ec9d(0x306)]<0xd?_0x318496['conversationTimestamp']*0x3e8:_0x318496[_0x13ec9d(0x2b5)]||null,'archived':_0x318496[_0x13ec9d(0x53f)]||!0x1,'unreadcount':_0x318496[_0x13ec9d(0x769)]||0x0})));await this[_0x13ec9d(0x3bd)](_0x13ec9d(0x41b),_0x1d339f),await this['upsertChats'](_0x1d339f,_0x472608),await this[_0x13ec9d(0x58c)]();}let _0x518e51=[],_0xc63b20=Date[_0x13ec9d(0x5f7)]()-0x7*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x511606]of Object[_0x13ec9d(0x30a)](_0x229111)){if(_0x511606[_0x13ec9d(0x646)]?.['protocolMessage']||_0x511606['message']?.[_0x13ec9d(0x3de)]||!_0x511606[_0x13ec9d(0x646)]||_0x511606[_0x13ec9d(0x781)][_0x13ec9d(0x302)]===_0x13ec9d(0x40a)||(Cs[_0x13ec9d(0x2bb)][_0x13ec9d(0x534)](_0x511606?.[_0x13ec9d(0x613)])&&(_0x511606[_0x13ec9d(0x613)]=_0x511606['messageTimestamp']?.[_0x13ec9d(0x729)]()),_0x511606[_0x13ec9d(0x613)]&&_0x511606[_0x13ec9d(0x613)][_0x13ec9d(0x3d6)]()['length']<0xd&&(_0x511606['messageTimestamp']=_0x511606[_0x13ec9d(0x613)]*0x3e8),_0x511606['messageTimestamp']<_0xc63b20))continue;let {message_normalized:_0x2b3e5b}=this[_0x13ec9d(0x2c0)](_0x511606[_0x13ec9d(0x646)],W(_0x511606['message']),null);_0x518e51['push']({'key':_0x511606['key'],'pushName':_0x511606[_0x13ec9d(0x4f1)],'participant':_0x511606[_0x13ec9d(0x536)],'message':{..._0x511606[_0x13ec9d(0x646)]},'messageType':W(_0x511606[_0x13ec9d(0x646)]),'message_normalized':{'key':_0x511606[_0x13ec9d(0x781)],'pushName':_0x511606['pushName'],'messageTimestamp':_0x511606[_0x13ec9d(0x613)],..._0x2b3e5b},'messageTimestamp':_0x511606['messageTimestamp'],'owner':this[_0x13ec9d(0x390)][_0x13ec9d(0x42c)]});}_0x472608[_0x13ec9d(0x2ea)]&&_0x518e51[_0x13ec9d(0x306)]>0x0&&(this[_0x13ec9d(0x593)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x13ec9d(0x42c)]+_0x13ec9d(0x73e)+_0x518e51['length']+_0x13ec9d(0x304)+this[_0x13ec9d(0x390)][_0x13ec9d(0x42c)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x13ec9d(0x6eb)][_0x13ec9d(0x646)][_0x13ec9d(0x3fd)]([..._0x518e51],_0x472608['ENABLED'])),this[_0x13ec9d(0x3bd)](_0x13ec9d(0x2b0),[..._0x518e51]),_0x229111=void 0x0;},'messages.upsert':async({messages:_0x49ad14,type:_0x2544ee},_0x48d5fc)=>{const _0x2b9602=_0x2bc194;let _0x370dfa=_0x49ad14[0x0];if(_0x2544ee!==_0x2b9602(0x2c5)||!_0x370dfa?.[_0x2b9602(0x646)]||_0x370dfa[_0x2b9602(0x646)]?.[_0x2b9602(0x4cc)]||_0x370dfa[_0x2b9602(0x646)]['senderKeyDistributionMessage']||_0x370dfa['key']['remoteJid']===_0x2b9602(0x40a))return;let _0x208818=null,_0x3d1062=null;try{_0x208818=await this[_0x2b9602(0x251)](_0x370dfa),_0x3d1062=_0x208818?_0x208818[_0x2b9602(0x62e)](','):null;}catch(_0x2b0267){this[_0x2b9602(0x593)][_0x2b9602(0x6d7)](this[_0x2b9602(0x526)]+'\x20('+this[_0x2b9602(0x390)][_0x2b9602(0x42c)]+_0x2b9602(0x73e)+_0x2b0267[_0x2b9602(0x646)]),_0x3d1062=_0x2b9602(0x206);}if(this[_0x2b9602(0x47f)][_0x2b9602(0x42a)]('unavailable'),Cs[_0x2b9602(0x2bb)][_0x2b9602(0x534)](_0x370dfa[_0x2b9602(0x613)])&&(_0x370dfa[_0x2b9602(0x613)]=_0x370dfa[_0x2b9602(0x613)]?.['toNumber']()),this['localWebhook']?.[_0x2b9602(0x2a8)]&&_0x370dfa[_0x2b9602(0x781)][_0x2b9602(0x302)][_0x2b9602(0x46e)](_0x2b9602(0x2d7))){this[_0x2b9602(0x593)][_0x2b9602(0x6d7)](_0x2b9602(0x6a5));return;}_0x370dfa[_0x2b9602(0x613)]&&_0x370dfa[_0x2b9602(0x613)][_0x2b9602(0x3d6)]()[_0x2b9602(0x306)]<0xd&&(_0x370dfa[_0x2b9602(0x613)]=_0x370dfa[_0x2b9602(0x613)]*0x3e8);let _0x459009=_0x370dfa[_0x2b9602(0x646)],{messageContent:_0x23c0a4,message_normalized:_0x471203}=this[_0x2b9602(0x2c0)](_0x459009,W(_0x370dfa[_0x2b9602(0x646)]),_0x3d1062);_0x23c0a4||console[_0x2b9602(0x22d)]('Mensagem\x20não\x20suportada');let _0x1429a1={'key':_0x370dfa['key'],'pushName':_0x370dfa[_0x2b9602(0x4f1)],'message':{..._0x370dfa['message']},'messageType':W(_0x370dfa[_0x2b9602(0x646)]),'message_normalized':{'key':_0x370dfa[_0x2b9602(0x781)],'pushName':_0x370dfa[_0x2b9602(0x4f1)],'messageTimestamp':_0x370dfa[_0x2b9602(0x613)],'source':(0x0,w[_0x2b9602(0x780)])(_0x370dfa[_0x2b9602(0x781)]['id']),..._0x471203},'messageTimestamp':_0x370dfa[_0x2b9602(0x613)],'owner':this[_0x2b9602(0x390)][_0x2b9602(0x42c)]};this[_0x2b9602(0x593)]['log'](_0x1429a1),await this[_0x2b9602(0x6eb)][_0x2b9602(0x646)]['insert']([_0x1429a1],_0x48d5fc['ENABLED']),await this[_0x2b9602(0x3bd)](_0x2b9602(0x438),_0x1429a1),q(this[_0x2b9602(0x526)],_0x2b9602(0x64d),{'message':_0x1429a1}),_0x370dfa[_0x2b9602(0x781)][_0x2b9602(0x302)]!==_0x2b9602(0x40a)&&await this[_0x2b9602(0x343)](_0x48d5fc,_0x1429a1,_0x2b9602(0x2aa));},'messages.update':async(_0xfd6014,_0x4d41c4)=>{const _0x4b7c7f=_0x2bc194;let _0x2f9ab1={0x0:_0x4b7c7f(0x32a),0x1:_0x4b7c7f(0x5e6),0x2:_0x4b7c7f(0x576),0x3:'DELIVERY_ACK',0x4:'READ',0x5:_0x4b7c7f(0x794)};for await(let {key:_0x32d9c0,update:_0x23dff7}of _0xfd6014){if(this[_0x4b7c7f(0x2fc)]?.['groups_ignore']&&_0x32d9c0[_0x4b7c7f(0x302)]['includes']('@g.us')){this[_0x4b7c7f(0x593)][_0x4b7c7f(0x6d7)](_0x4b7c7f(0x6a5));return;}if(_0x32d9c0[_0x4b7c7f(0x302)]!==_0x4b7c7f(0x40a)){let _0x2737aa=Date[_0x4b7c7f(0x5f7)](),_0x32acd8;_0x23dff7[_0x4b7c7f(0x646)]===null&&_0x23dff7[_0x4b7c7f(0x354)]===void 0x0?_0x32acd8=_0x4b7c7f(0x4b9):_0x32acd8=_0x2f9ab1[_0x23dff7[_0x4b7c7f(0x354)]];let _0x46ea1d=_0x32d9c0[_0x4b7c7f(0x302)][_0x4b7c7f(0x2c9)](/:\d{1,2}@/g,'@'),_0x511c9b={..._0x32d9c0,'remoteJid':_0x46ea1d,'status':_0x32acd8,'datetime':_0x2737aa,'owner':this[_0x4b7c7f(0x390)][_0x4b7c7f(0x42c)]};await this[_0x4b7c7f(0x3bd)](_0x4b7c7f(0x505),_0x511c9b),await this[_0x4b7c7f(0x6eb)][_0x4b7c7f(0x477)][_0x4b7c7f(0x3fd)]([_0x511c9b],_0x4d41c4['ENABLED']),await this['updateMessage'](_0x32d9c0,_0x46ea1d,_0x511c9b);}}}},this[_0x2bc194(0x1fb)]={'groups.upsert':_0x4adc8a=>{const _0x5e4fd7=_0x2bc194;this[_0x5e4fd7(0x3bd)](_0x5e4fd7(0x544),_0x4adc8a);},'groups.update':_0x190e71=>{const _0x5a135a=_0x2bc194;this['sendDataWebhook'](_0x5a135a(0x6fd),_0x190e71);},'group-participants.update':_0x56a9e6=>{const _0x45a830=_0x2bc194;this['sendDataWebhook'](_0x45a830(0x644),_0x56a9e6);}},this['processPollUpdateMessage']=async _0x57a9b8=>{const _0x4a274c=_0x2bc194;if(_0x57a9b8[_0x4a274c(0x646)]?.[_0x4a274c(0x4f5)]){let _0x48f95a=await this[_0x4a274c(0x69d)](_0x57a9b8[_0x4a274c(0x646)][_0x4a274c(0x4f5)][_0x4a274c(0x440)],!0x0);if(_0x48f95a){let _0x15d461=_0x48f95a['key']['fromMe']?this['instance'][_0x4a274c(0x42c)]+_0x4a274c(0x5d1):_0x48f95a[_0x4a274c(0x781)][_0x4a274c(0x536)]||_0x48f95a['key']['remoteJid'],_0x27e9b5=_0x48f95a['key']['id'],_0x49249d=_0x48f95a[_0x4a274c(0x646)],_0x414b5e=Buffer[_0x4a274c(0x693)](_0x49249d[_0x4a274c(0x760)][_0x4a274c(0x361)]['toString'](_0x4a274c(0x282)),_0x4a274c(0x282)),_0x3943e7=(0x0,w[_0x4a274c(0x59b)])(_0x57a9b8[_0x4a274c(0x646)]['pollUpdateMessage'][_0x4a274c(0x6db)],{'pollCreatorJid':_0x15d461,'pollMsgId':_0x27e9b5,'pollEncKey':_0x414b5e,'voterJid':_0x57a9b8[_0x4a274c(0x781)][_0x4a274c(0x2cf)]?this[_0x4a274c(0x390)][_0x4a274c(0x42c)]+_0x4a274c(0x5d1):_0x57a9b8[_0x4a274c(0x781)]['remoteJid'][_0x4a274c(0x60c)](_0x4a274c(0x248))?_0x57a9b8['key'][_0x4a274c(0x536)]:_0x57a9b8[_0x4a274c(0x781)][_0x4a274c(0x302)]}),_0x973f69=[],_0xa4ec2f=_0x3943e7[_0x4a274c(0x3a2)]['map'](_0x12fa46=>Buffer[_0x4a274c(0x693)](_0x12fa46)['toString'](_0x4a274c(0x282)));for(let {optionName:_0x458fff}of _0x49249d[_0x4a274c(0x4a8)]?.[_0x4a274c(0x20c)]||_0x49249d['pollCreationMessageV3']?.[_0x4a274c(0x20c)]||_0x49249d['pollCreationMessageV2']?.[_0x4a274c(0x20c)])_0xa4ec2f['indexOf']((0x0,w[_0x4a274c(0x768)])(Buffer[_0x4a274c(0x693)](_0x458fff))['toString'](_0x4a274c(0x282)))>-0x1&&_0x973f69['push'](_0x458fff);return _0x973f69;}}return null;},this[_0x2bc194(0x2c0)]=(_0x3d4421,_0x4cadfe,_0x494b4a)=>{const _0x21fd3d=_0x2bc194;let _0x3e1f9b=_0x4cadfe?_0x3d4421[_0x4cadfe]:void 0x0,_0x2b0475={},_0x20c7e2=null,_0x2e2140=null,_0xdd7ae=null;if(_0x3d4421[_0x21fd3d(0x48d)]?_0x3e1f9b=_0x3d4421['viewOnceMessageV2'][_0x21fd3d(0x646)][_0x4cadfe]:_0x3d4421[_0x21fd3d(0x655)]?_0x3e1f9b=_0x3d4421[_0x21fd3d(0x655)][_0x21fd3d(0x646)][_0x4cadfe]:_0x3d4421[_0x21fd3d(0x5f9)]?_0x3e1f9b=_0x3d4421[_0x21fd3d(0x5f9)][_0x21fd3d(0x646)][_0x4cadfe]:_0x3d4421['editedMessage']?.['message']?.[_0x21fd3d(0x4cc)]?.['editedMessage']?(_0x20c7e2=_0x3d4421[_0x21fd3d(0x5d5)]['message'][_0x21fd3d(0x4cc)]['key']['id'],_0x3d4421['editedMessage'][_0x21fd3d(0x646)][_0x21fd3d(0x4cc)][_0x21fd3d(0x5d5)][_0x21fd3d(0x445)]?_0x3e1f9b=_0x3d4421[_0x21fd3d(0x5d5)][_0x21fd3d(0x646)][_0x21fd3d(0x4cc)][_0x21fd3d(0x5d5)][_0x21fd3d(0x445)]:_0x3d4421['editedMessage'][_0x21fd3d(0x646)][_0x21fd3d(0x4cc)][_0x21fd3d(0x5d5)][_0x21fd3d(0x255)]?_0x3e1f9b=_0x3d4421[_0x21fd3d(0x5d5)][_0x21fd3d(0x646)][_0x21fd3d(0x4cc)][_0x21fd3d(0x5d5)][_0x21fd3d(0x255)][_0x21fd3d(0x76f)]:_0x3d4421[_0x21fd3d(0x5d5)][_0x21fd3d(0x646)][_0x21fd3d(0x4cc)][_0x21fd3d(0x5d5)][_0x21fd3d(0x48c)]?_0x3e1f9b=_0x3d4421[_0x21fd3d(0x5d5)]['message'][_0x21fd3d(0x4cc)][_0x21fd3d(0x5d5)]['videoMessage']['caption']:_0x3d4421[_0x21fd3d(0x5d5)][_0x21fd3d(0x646)][_0x21fd3d(0x4cc)]['editedMessage'][_0x21fd3d(0x1d9)]?_0x3e1f9b=_0x3d4421[_0x21fd3d(0x5d5)][_0x21fd3d(0x646)][_0x21fd3d(0x4cc)]['editedMessage'][_0x21fd3d(0x1d9)][_0x21fd3d(0x646)][_0x21fd3d(0x6be)][_0x21fd3d(0x76f)]:_0x3e1f9b=_0x3d4421[_0x21fd3d(0x5d5)][_0x21fd3d(0x646)][_0x21fd3d(0x4cc)][_0x21fd3d(0x5d5)]):_0x3e1f9b=_0x3d4421[_0x4cadfe],!_0x4cadfe||!_0x3e1f9b){console['error'](_0x21fd3d(0x37d),_0x3d4421);return;}_0x3d4421[_0x4cadfe]?.[_0x21fd3d(0x724)]?.[_0x21fd3d(0x44c)]&&_0x3d4421[_0x4cadfe]?.[_0x21fd3d(0x724)]?.[_0x21fd3d(0x275)]&&(_0x2e2140=_0x3d4421[_0x4cadfe][_0x21fd3d(0x724)]['stanzaId']),_0x3d4421['reactionMessage']&&(_0xdd7ae=_0x3d4421[_0x21fd3d(0x323)][_0x21fd3d(0x781)]['id']);let _0x49a585;if(_0x3e1f9b&&typeof _0x3e1f9b==_0x21fd3d(0x29a)&&_0x21fd3d(0x440)in _0x3e1f9b&&({pollCreationMessageKey:_0x49a585}=_0x3e1f9b),_0x4cadfe===_0x21fd3d(0x1d9)){let _0x5c5258=_0x3e1f9b?.[_0x21fd3d(0x646)]?.[_0x21fd3d(0x6be)];_0x5c5258&&(_0x3e1f9b=_0x5c5258);}if(_0x4cadfe===_0x21fd3d(0x4a8)||_0x4cadfe==='pollCreationMessageV2'||_0x4cadfe==='pollCreationMessageV3'){let _0x2deac2=_0x3e1f9b[_0x21fd3d(0x20c)][_0x21fd3d(0x43b)](_0x449f2a=>_0x449f2a[_0x21fd3d(0x532)])[_0x21fd3d(0x62e)]('|');_0x2b0475[_0x21fd3d(0x5b9)]=_0x2deac2;}let _0x431384=_0x3e1f9b['name']||_0x3e1f9b['caption']||_0x3e1f9b[_0x21fd3d(0x445)]||_0x3e1f9b[_0x21fd3d(0x365)];if(_0x3e1f9b['vcard']){let _0x49556d=this[_0x21fd3d(0x3b3)](JSON['stringify'](_0x3e1f9b['vcard'],null,0x2));_0x431384=_0x431384+'\x0a'+_0x49556d;}if(_0x3e1f9b){let {displayName:_0x377303,vcard:_0x103e33,contactVcard:_0x5f390e,name:_0xaa3a11,caption:_0x62c392,conversation:_0x54c21d,pollCreationMessageKey:_0x537b9c,footerText:_0x1e06a1,contentText:_0x347734,pageCount:_0x2bd7cb,headerType:_0x4cff38,isAvatar:_0x5b9cd6,isAnimated:_0x5a7d9c,fallbackLc:_0x25c195,fallbackLg:_0x5c11ac,namespace:_0x201ba5,elementName:_0x41ef99,localizableParams:_0x4dc3c1,viewOnce:_0x5d2ac5,height:_0xf8f415,width:_0x1d10e8,key:_0x21b9f8,firstScanLength:_0x4fd735,firstScanSidecar:_0x196790,gifPlayback:_0x2387f5,gifAttribution:_0x120ade,midQualityFileSha256:_0xa37144,scansSidecar:_0x2e08be,streamingSidecar:_0x2f0e43,thumbnailHeight:_0x3df1c1,thumbnailWidth:_0x4dee62,thumbnailEncSha256:_0x34497d,thumbnailDirectPath:_0x2d4a1c,canonicalUrl:_0x222748,matchedText:_0x19c285,previewType:_0x3a25f5,thumbnailSha256:_0x2c18d3,deviceListMetadataVersion:_0x3eb01e,inviteLinkGroupTypeV2:_0x3b3db2,interactiveAnnotations:_0x5f57ed,scanLengths:_0x59ba4d,jpegThumbnail:_0x503bbf,url:_0x5f2cfb,mediaKeyTimestamp:_0x96cd51,waveform:_0xf64bd8,stickerSentTs:_0x52e16c,firstFrameLength:_0xdb5966,fileEncSha256:_0x16037b,contextInfo:_0x2c39b4,firstFrameSidecar:_0x14f401,directPath:_0x3ee1ff,fileSha256:_0x3255e6,mediaKey:_0x495962,senderTimestampMs:_0x1d2349,..._0x31ed34}=_0x3e1f9b;typeof _0x3e1f9b=='string'?_0x2b0475={'text':_0x3e1f9b,'type':_0x4cadfe||'conversation',..._0x20c7e2&&{'edited':_0x20c7e2},..._0x2e2140&&{'quoted':_0x2e2140},..._0xdd7ae&&{'reaction':_0xdd7ae}}:_0x2b0475={'text':_0x431384,..._0x31ed34,..._0x4cadfe==='pollUpdateMessage'?{'poll_id':_0x3e1f9b[_0x21fd3d(0x440)]['id'],'vote':_0x494b4a}:{},'type':_0x4cadfe,..._0x20c7e2&&{'edited':_0x20c7e2},..._0x2e2140&&{'quoted':_0x2e2140},..._0xdd7ae&&{'reaction':_0xdd7ae},...(_0x4cadfe===_0x21fd3d(0x4a8)||_0x4cadfe===_0x21fd3d(0x64e)||_0x4cadfe===_0x21fd3d(0x74e))&&{'convertedOptions':_0x2b0475[_0x21fd3d(0x5b9)]}};}return{'messageType':_0x4cadfe,'messageContent':_0x3e1f9b,'message_normalized':_0x2b0475};},this[_0x2bc194(0x58d)]=null,this[_0x2bc194(0x5ac)]=0x0,(this['cleanStore'](),this[_0x2bc194(0x390)][_0x2bc194(0x45b)]={'count':0x0});}set[a0_0x200bc3(0x526)](_0x600cc8){const _0x24e1a=a0_0x200bc3;if(!_0x600cc8){this[_0x24e1a(0x390)][_0x24e1a(0x31b)]=(0x0,po['v4'])();return;}this[_0x24e1a(0x390)][_0x24e1a(0x31b)]=_0x600cc8,this[_0x24e1a(0x3bd)](_0x24e1a(0x459),{'instance':this[_0x24e1a(0x390)][_0x24e1a(0x31b)],'status':'created'});}get[a0_0x200bc3(0x526)](){const _0x3ff02d=a0_0x200bc3;return this['instance'][_0x3ff02d(0x31b)];}get[a0_0x200bc3(0x42c)](){const _0x53689d=a0_0x200bc3;return this[_0x53689d(0x390)][_0x53689d(0x42c)];}async[a0_0x200bc3(0x484)](){const _0x159a05=a0_0x200bc3;let _0x4793db=this[_0x159a05(0x47f)][_0x159a05(0x4ca)]?.[_0x159a05(0x31b)]??this[_0x159a05(0x47f)][_0x159a05(0x4ca)]?.['verifiedName'];if(!_0x4793db){if(this['configService'][_0x159a05(0x313)](_0x159a05(0x496))['ENABLED']){let _0x591e92=await M['getClient']()['db'](this[_0x159a05(0x712)]['get'](_0x159a05(0x496))['CONNECTION'][_0x159a05(0x63e)]+_0x159a05(0x2ad))['collection'](this[_0x159a05(0x526)])[_0x159a05(0x1ed)]({'_id':_0x159a05(0x6e7)});if(_0x591e92){let _0x38a2b3=JSON[_0x159a05(0x654)](JSON[_0x159a05(0x76b)](_0x591e92),w[_0x159a05(0x7a3)][_0x159a05(0x4c9)]);_0x4793db=_0x38a2b3['me']?.[_0x159a05(0x31b)]||_0x38a2b3['me']?.[_0x159a05(0x78e)];}}else{if((0x0,_e[_0x159a05(0x266)])((0x0,$['join'])(j,this[_0x159a05(0x526)],_0x159a05(0x408)))){let _0x3b21b4=JSON[_0x159a05(0x654)]((0x0,_e['readFileSync'])((0x0,$[_0x159a05(0x62e)])(j,this[_0x159a05(0x526)],_0x159a05(0x408)),{'encoding':_0x159a05(0x264)}));_0x4793db=_0x3b21b4['me']?.[_0x159a05(0x31b)]||_0x3b21b4['me']?.[_0x159a05(0x78e)];}}}return _0x4793db;}get[a0_0x200bc3(0x65f)](){const _0x50db73=a0_0x200bc3;return this['instance'][_0x50db73(0x65f)];}get['qrCode'](){const _0xc015f2=a0_0x200bc3;return{'code':this[_0xc015f2(0x390)]['qrcode']?.[_0xc015f2(0x634)],'base64':this[_0xc015f2(0x390)][_0xc015f2(0x45b)]?.[_0xc015f2(0x692)]};}async[a0_0x200bc3(0x2f9)](){const _0x49f8cc=a0_0x200bc3;let _0x3a1f76=await this[_0x49f8cc(0x6eb)]['webhook']['find'](this[_0x49f8cc(0x526)]);this['localWebhook'][_0x49f8cc(0x205)]=_0x3a1f76?.['url'],this[_0x49f8cc(0x2fc)][_0x49f8cc(0x603)]=_0x3a1f76?.[_0x49f8cc(0x603)],this[_0x49f8cc(0x2fc)][_0x49f8cc(0x49d)]=_0x3a1f76?.['local_map'],this[_0x49f8cc(0x2fc)][_0x49f8cc(0x73b)]=_0x3a1f76?.[_0x49f8cc(0x73b)],this[_0x49f8cc(0x2fc)][_0x49f8cc(0x2a0)]=_0x3a1f76?.['QRCODE_UPDATED'],this['localWebhook']['SEND_MESSAGE']=_0x3a1f76?.[_0x49f8cc(0x289)],this['localWebhook']['MESSAGES_UPSERT']=_0x3a1f76?.[_0x49f8cc(0x2aa)],this['localWebhook'][_0x49f8cc(0x368)]=_0x3a1f76?.['MESSAGES_UPDATE'],this['localWebhook']['GROUPS_UPSERT']=_0x3a1f76?.[_0x49f8cc(0x572)],this['localWebhook'][_0x49f8cc(0x48f)]=_0x3a1f76?.[_0x49f8cc(0x48f)],this['localWebhook'][_0x49f8cc(0x725)]=_0x3a1f76?.[_0x49f8cc(0x725)],this[_0x49f8cc(0x2fc)][_0x49f8cc(0x348)]=_0x3a1f76?.['CHATS_SET'],this[_0x49f8cc(0x2fc)][_0x49f8cc(0x714)]=_0x3a1f76?.[_0x49f8cc(0x714)],this[_0x49f8cc(0x2fc)][_0x49f8cc(0x3ce)]=_0x3a1f76?.[_0x49f8cc(0x3ce)],this['localWebhook'][_0x49f8cc(0x41e)]=_0x3a1f76?.[_0x49f8cc(0x41e)],this['localWebhook'][_0x49f8cc(0x271)]=_0x3a1f76?.[_0x49f8cc(0x271)],this[_0x49f8cc(0x2fc)][_0x49f8cc(0x4ac)]=_0x3a1f76?.[_0x49f8cc(0x4ac)],this['localWebhook']['CONTACTS_UPDATE']=_0x3a1f76?.['CONTACTS_UPDATE'],this[_0x49f8cc(0x2fc)][_0x49f8cc(0x378)]=_0x3a1f76?.[_0x49f8cc(0x378)],this['localWebhook']['MESSAGES_SET']=_0x3a1f76?.['MESSAGES_SET'],this['localWebhook'][_0x49f8cc(0x3e7)]=_0x3a1f76?.[_0x49f8cc(0x3e7)],this['localWebhook'][_0x49f8cc(0x2a8)]=_0x3a1f76?.[_0x49f8cc(0x2a8)];}async[a0_0x200bc3(0x226)](_0x5f0200){const _0x491976=a0_0x200bc3;let _0x45c96e=[_0x491976(0x54e),'url','enabled',_0x491976(0x49d),_0x491976(0x73b),'QRCODE_UPDATED',_0x491976(0x368),_0x491976(0x2aa),_0x491976(0x289),_0x491976(0x572),_0x491976(0x48f),'GROUP_PARTICIPANTS_UPDATE',_0x491976(0x348),_0x491976(0x714),_0x491976(0x3ce),_0x491976(0x41e),'CONTACTS_SET','CONTACTS_UPSERT',_0x491976(0x4db),_0x491976(0x378),_0x491976(0x5b3),_0x491976(0x3e7),_0x491976(0x2a8)],_0x296267={};return _0x45c96e[_0x491976(0x5c6)](_0x201aff=>{_0x5f0200[_0x201aff]!==void 0x0&&(_0x296267[_0x201aff]=_0x5f0200[_0x201aff]);}),await this[_0x491976(0x6eb)][_0x491976(0x64b)][_0x491976(0x57d)](_0x296267,this[_0x491976(0x526)]),Object[_0x491976(0x4b0)](this['localWebhook'],_0x296267),await this[_0x491976(0x6eb)][_0x491976(0x64b)][_0x491976(0x487)](this['instanceName']);}async[a0_0x200bc3(0x716)](){const _0x48babe=a0_0x200bc3;return await this['repository'][_0x48babe(0x64b)][_0x48babe(0x487)](this[_0x48babe(0x526)]);}async[a0_0x200bc3(0x3bd)](_0x2c655c,_0x4595b4){const _0x13d8b6=a0_0x200bc3;let _0x5ab6af=this[_0x13d8b6(0x712)][_0x13d8b6(0x313)](_0x13d8b6(0x4ad)),_0x2cc8ed=_0x2c655c[_0x13d8b6(0x2c9)](/[\.-]/gm,'_')['toUpperCase'](),_0x12cdea=this[_0x13d8b6(0x2fc)][_0x13d8b6(0x603)]&&(0x0,k[_0x13d8b6(0x775)])(this['localWebhook']['url'])?this[_0x13d8b6(0x2fc)]['url']+(this[_0x13d8b6(0x2fc)][_0x13d8b6(0x49d)]?this[_0x13d8b6(0x2e0)][_0x2c655c]:''):null,_0x5be154=_0x5ab6af?.[_0x13d8b6(0x4e2)],_0x24d123=_0x5be154&&_0x5be154?.[_0x13d8b6(0x2ea)]&&(0x0,k[_0x13d8b6(0x775)])(_0x5be154[_0x13d8b6(0x782)])?_0x5be154[_0x13d8b6(0x782)]+(_0x5ab6af[_0x13d8b6(0x274)]?this[_0x13d8b6(0x2e0)][_0x2c655c]:''):null,_0x1e5c0e=this[_0x13d8b6(0x2fc)][_0x2cc8ed],_0x2cadde=_0x5ab6af?.[_0x13d8b6(0x50c)]?.[_0x2cc8ed];if(_0x1e5c0e&&_0x12cdea)try{await ue[_0x13d8b6(0x2bb)][_0x13d8b6(0x57d)]({'baseURL':_0x12cdea})[_0x13d8b6(0x2f2)]('',{'event':_0x2c655c,'instance':this[_0x13d8b6(0x390)][_0x13d8b6(0x31b)],'data':_0x4595b4}),this[_0x13d8b6(0x593)][_0x13d8b6(0x23f)](_0x13d8b6(0x377)+_0x2c655c+':\x20'+_0x12cdea);}catch(_0x33a781){this['logger'][_0x13d8b6(0x22d)](this[_0x13d8b6(0x526)]+'\x20('+this[_0x13d8b6(0x390)][_0x13d8b6(0x42c)]+_0x13d8b6(0x73e)+{'local':l['name']+_0x13d8b6(0x208),'message':_0x33a781?.[_0x13d8b6(0x646)],'hostName':_0x33a781?.['hostname'],'syscall':_0x33a781?.[_0x13d8b6(0x738)],'code':_0x33a781?.[_0x13d8b6(0x634)],'error':_0x33a781?.[_0x13d8b6(0x1df)],'stack':_0x33a781?.[_0x13d8b6(0x359)],'name':_0x33a781?.[_0x13d8b6(0x31b)]});}if(_0x2cadde&&_0x24d123)try{await ue['default'][_0x13d8b6(0x57d)]({'baseURL':_0x24d123})[_0x13d8b6(0x2f2)]('',{'event':_0x2c655c,'instance':this[_0x13d8b6(0x390)][_0x13d8b6(0x31b)],'data':_0x4595b4}),this['logger'][_0x13d8b6(0x23f)](_0x13d8b6(0x486)+_0x2c655c+':\x20'+_0x24d123);}catch(_0x325133){this[_0x13d8b6(0x593)]['error'](this[_0x13d8b6(0x526)]+'\x20('+this[_0x13d8b6(0x390)][_0x13d8b6(0x42c)]+_0x13d8b6(0x73e)+{'local':l[_0x13d8b6(0x31b)]+_0x13d8b6(0x741),'message':_0x325133?.[_0x13d8b6(0x646)],'hostName':_0x325133?.['hostname'],'syscall':_0x325133?.[_0x13d8b6(0x738)],'code':_0x325133?.[_0x13d8b6(0x634)],'error':_0x325133?.[_0x13d8b6(0x1df)],'stack':_0x325133?.[_0x13d8b6(0x359)],'name':_0x325133?.[_0x13d8b6(0x31b)]});}}async[a0_0x200bc3(0x3cd)]({qr:_0x20469,connection:_0x57d954,lastDisconnect:_0x476ed7}){const _0x31fc44=a0_0x200bc3;if(_0x20469){if(this[_0x31fc44(0x390)][_0x31fc44(0x45b)][_0x31fc44(0x7a6)]===this[_0x31fc44(0x712)]['get']('QRCODE')[_0x31fc44(0x56a)])return this[_0x31fc44(0x3bd)](_0x31fc44(0x4fa),{'message':_0x31fc44(0x2cd),'statusCode':w[_0x31fc44(0x67a)][_0x31fc44(0x462)]}),this[_0x31fc44(0x3bd)]('connection.update',{'instance':this[_0x31fc44(0x390)][_0x31fc44(0x31b)],'state':'refused','statusReason':w['DisconnectReason']['connectionClosed']}),this['sendDataWebhook'](_0x31fc44(0x459),{'instance':this[_0x31fc44(0x390)][_0x31fc44(0x31b)],'status':_0x31fc44(0x627)}),this[_0x31fc44(0x40d)]=!0x0,this['eventEmitter'][_0x31fc44(0x316)](_0x31fc44(0x556),this[_0x31fc44(0x390)]['name']);this[_0x31fc44(0x390)][_0x31fc44(0x45b)]['count']++;let _0x3a0c8c={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x31fc44(0x39d),'dark':_0x31fc44(0x69e)}};go[_0x31fc44(0x2bb)][_0x31fc44(0x61a)](_0x20469,_0x3a0c8c,(_0x4e9659,_0x26014f)=>{const _0x5f4ad5=_0x31fc44;if(_0x4e9659){this[_0x5f4ad5(0x593)][_0x5f4ad5(0x22d)](this[_0x5f4ad5(0x526)]+'\x20('+this[_0x5f4ad5(0x390)][_0x5f4ad5(0x42c)]+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+_0x4e9659[_0x5f4ad5(0x3d6)]());return;}this['instance'][_0x5f4ad5(0x45b)][_0x5f4ad5(0x692)]=_0x26014f,this[_0x5f4ad5(0x390)][_0x5f4ad5(0x45b)][_0x5f4ad5(0x634)]=_0x20469,this[_0x5f4ad5(0x3bd)]('qrcode.updated',{'qrcode':{'instance':this['instance'][_0x5f4ad5(0x31b)],'code':_0x20469,'base64':_0x26014f}});}),mo[_0x31fc44(0x2bb)][_0x31fc44(0x63c)](_0x20469,{'small':!0x0},_0x163d4e=>this[_0x31fc44(0x593)][_0x31fc44(0x23f)](_0x31fc44(0x37b)+this[_0x31fc44(0x390)][_0x31fc44(0x31b)]+',\x20qrcodeCount:\x20'+this[_0x31fc44(0x390)][_0x31fc44(0x45b)]['count']+_0x31fc44(0x2c1)+_0x163d4e));}if(_0x57d954&&(this['stateConnection']={'state':_0x57d954,'statusReason':_0x476ed7?.[_0x31fc44(0x22d)]?.[_0x31fc44(0x552)]?.[_0x31fc44(0x22b)]??0xc8},this[_0x31fc44(0x3bd)](_0x31fc44(0x1f2),{'instance':this[_0x31fc44(0x390)][_0x31fc44(0x31b)],...this[_0x31fc44(0x42b)]})),_0x57d954==='close'){if(this[_0x31fc44(0x263)]++,this[_0x31fc44(0x5e0)][_0x31fc44(0x20a)](Date['now']()),this[_0x31fc44(0x5e0)]=this[_0x31fc44(0x5e0)][_0x31fc44(0x38d)](_0x584f45=>Date[_0x31fc44(0x5f7)]()-_0x584f45<this[_0x31fc44(0x51d)]),_0x476ed7['error']?.[_0x31fc44(0x552)]?.[_0x31fc44(0x22b)]!==w['DisconnectReason'][_0x31fc44(0x34e)]&&this[_0x31fc44(0x5e0)]['length']<=this[_0x31fc44(0x24d)])await this['connectToWhatsapp']();else{this[_0x31fc44(0x3bd)]('status.instance',{'instance':this[_0x31fc44(0x390)]['name'],'status':_0x31fc44(0x627)}),this[_0x31fc44(0x4a5)]=!0x1;try{this['logger'][_0x31fc44(0x6d7)](this[_0x31fc44(0x526)]+'\x20('+this[_0x31fc44(0x390)]['wuid']+_0x31fc44(0x27e));let _0x1067b1={'where':{'owner':this[_0x31fc44(0x390)][_0x31fc44(0x42c)]}},_0x501a28=(await this[_0x31fc44(0x6eb)]['messageUpdate'][_0x31fc44(0x487)](_0x1067b1))[_0x31fc44(0x306)];await this['repository']['messageUpdate'][_0x31fc44(0x3e3)](_0x1067b1),this[_0x31fc44(0x593)]['verbose'](this[_0x31fc44(0x526)]+'\x20('+this[_0x31fc44(0x390)]['wuid']+_0x31fc44(0x3d8)+_0x501a28+'\x20messages.update.');}catch(_0x1da837){console['error'](_0x31fc44(0x215),_0x1da837);}try{this['logger'][_0x31fc44(0x6d7)](this[_0x31fc44(0x526)]+'\x20('+this[_0x31fc44(0x390)][_0x31fc44(0x42c)]+_0x31fc44(0x20f));let _0x30a113={'where':{'owner':this[_0x31fc44(0x390)][_0x31fc44(0x42c)]}},_0x5db744=(await this[_0x31fc44(0x6eb)][_0x31fc44(0x646)][_0x31fc44(0x487)](_0x30a113))['length'];await this[_0x31fc44(0x6eb)][_0x31fc44(0x646)][_0x31fc44(0x3e3)](_0x30a113),this[_0x31fc44(0x593)][_0x31fc44(0x6d7)](this[_0x31fc44(0x526)]+'\x20('+this['instance']['wuid']+_0x31fc44(0x3d8)+_0x5db744+_0x31fc44(0x790));}catch(_0x185517){console[_0x31fc44(0x22d)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:',_0x185517);}try{this['logger']['verbose'](this[_0x31fc44(0x526)]+'\x20('+this[_0x31fc44(0x390)][_0x31fc44(0x42c)]+_0x31fc44(0x3e4));let _0x1a32fc={'where':{'owner':this[_0x31fc44(0x390)][_0x31fc44(0x42c)]}},_0x4ecc0e=(await this[_0x31fc44(0x6eb)][_0x31fc44(0x5ef)][_0x31fc44(0x487)](_0x1a32fc))[_0x31fc44(0x306)];await this[_0x31fc44(0x6eb)][_0x31fc44(0x5ef)][_0x31fc44(0x3e3)](_0x1a32fc),this[_0x31fc44(0x593)][_0x31fc44(0x6d7)](this[_0x31fc44(0x526)]+'\x20('+this[_0x31fc44(0x390)][_0x31fc44(0x42c)]+'):\x20Deletados\x20'+_0x4ecc0e+_0x31fc44(0x3ab));}catch(_0x5cdd94){console[_0x31fc44(0x22d)](_0x31fc44(0x2fa),_0x5cdd94);}this[_0x31fc44(0x687)]!==null&&(this['logger'][_0x31fc44(0x6d7)](this[_0x31fc44(0x526)]+'\x20('+this['instance'][_0x31fc44(0x42c)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x31fc44(0x687)]),this['delayMessage']=null),this[_0x31fc44(0x593)][_0x31fc44(0x6d7)](this[_0x31fc44(0x526)]+'\x20('+this[_0x31fc44(0x390)][_0x31fc44(0x42c)]+'):\x20Limpando\x20AutomateSystem'),this[_0x31fc44(0x582)]=null,this[_0x31fc44(0x362)][_0x31fc44(0x316)]('remove.instance',this[_0x31fc44(0x390)][_0x31fc44(0x31b)],_0x31fc44(0x366)),this[_0x31fc44(0x47f)]?.['ws']?.['close'](),this[_0x31fc44(0x47f)][_0x31fc44(0x5fb)](new Error(_0x31fc44(0x3da)));}}if(_0x57d954==='open'){this[_0x31fc44(0x74b)],this[_0x31fc44(0x390)][_0x31fc44(0x42c)]=this['client']['user']['id'][_0x31fc44(0x2c9)](/:\d+/,'')['replace']('@s.whatsapp.net',''),this[_0x31fc44(0x390)]['profilePictureUrl']=(await this[_0x31fc44(0x779)](this[_0x31fc44(0x390)][_0x31fc44(0x42c)]+_0x31fc44(0x5d1)))[_0x31fc44(0x65f)];let _0x413f3f=_0x31fc44(0x7a0)+this[_0x31fc44(0x390)][_0x31fc44(0x42c)],_0x4f0e05=0x28,_0x1d5ea4=Math[_0x31fc44(0x32f)]((_0x4f0e05-_0x413f3f[_0x31fc44(0x306)])/0x2),_0x3524c3='\x20'[_0x31fc44(0x42e)](_0x1d5ea4),_0x33038a='CONECTADO\x20À\x20UAZAPI',_0x43abf9=_0x31fc44(0x2b2)+this[_0x31fc44(0x390)][_0x31fc44(0x31b)],_0x366525=(''+_0x3524c3+_0x413f3f+_0x3524c3)['padEnd'](_0x4f0e05,'\x20'),_0x586602=(''+_0x3524c3+_0x33038a+_0x3524c3)[_0x31fc44(0x4f3)](_0x4f0e05,'\x20'),_0x42acde=(''+_0x3524c3+_0x43abf9+_0x3524c3)['padEnd'](_0x4f0e05,'\x20'),_0xe72e1=Math[_0x31fc44(0x51e)](_0x366525['length'],_0x586602[_0x31fc44(0x306)],_0x42acde[_0x31fc44(0x306)]),_0x53aa60=_0x366525[_0x31fc44(0x4f3)](_0xe72e1,'\x20'),_0x51648f=_0x586602['padEnd'](_0xe72e1,'\x20'),_0x580e10=_0x42acde[_0x31fc44(0x4f3)](_0xe72e1,'\x20');this[_0x31fc44(0x593)]['info'](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'[_0x31fc44(0x42e)](_0xe72e1)+_0x31fc44(0x4a6)+_0x51648f+_0x31fc44(0x1d4)+_0x580e10+_0x31fc44(0x1d4)+_0x53aa60+_0x31fc44(0x35d)+'─'[_0x31fc44(0x42e)](_0xe72e1)+'┘')['replace'](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x31fc44(0x4a5)]=!0x0;}}[a0_0x200bc3(0x74b)](){const _0x12ede4=a0_0x200bc3;this[_0x12ede4(0x263)]=0x0,this[_0x12ede4(0x5e0)]=[];}async[a0_0x200bc3(0x69d)](_0x514ddc,_0x620f7=!0x1){const _0x507e79=a0_0x200bc3;try{let _0x1c24e5=await this['repository'][_0x507e79(0x646)]['find']({'where':{'owner':this['instance'][_0x507e79(0x42c)],'key':{'id':_0x514ddc['id']}}});return _0x620f7?_0x1c24e5[0x0]:_0x1c24e5[0x0][_0x507e79(0x646)];}catch{return{'conversation':''};}}[a0_0x200bc3(0x254)](){const _0x3d5ae1=a0_0x200bc3;let _0x56e832=this[_0x3d5ae1(0x712)][_0x3d5ae1(0x313)](_0x3d5ae1(0x4e8)),_0x2cadcc=this[_0x3d5ae1(0x712)]['get'](_0x3d5ae1(0x496));_0x56e832?.[_0x3d5ae1(0x6ee)]&&!_0x2cadcc['ENABLED']&&setInterval(()=>{const _0x44ba2f=_0x3d5ae1;try{for(let [_0x3fd34a,_0x437dd7]of Object[_0x44ba2f(0x30a)](_0x56e832))_0x437dd7===!0x0&&(0x0,Vt[_0x44ba2f(0x423)])(_0x44ba2f(0x584)+(0x0,$['join'])(this['storePath'],_0x3fd34a[_0x44ba2f(0x2d0)](),this[_0x44ba2f(0x390)]['wuid'])+_0x44ba2f(0x216));}catch{}},(_0x56e832?.[_0x3d5ae1(0x6ee)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x3ecabd=a0_0x200bc3;let _0x4b86a0=this[_0x3ecabd(0x712)]['get'](_0x3ecabd(0x496)),_0x3e9c49=this[_0x3ecabd(0x712)]['get'](_0x3ecabd(0x1f7));return _0x3e9c49?.['ENABLED']?await vs(_0x3e9c49,this[_0x3ecabd(0x390)][_0x3ecabd(0x31b)]):_0x4b86a0['ENABLED']?await Es(this[_0x3ecabd(0x390)][_0x3ecabd(0x31b)]):await(0x0,w[_0x3ecabd(0x327)])((0x0,$[_0x3ecabd(0x62e)])(j,this[_0x3ecabd(0x390)][_0x3ecabd(0x31b)]));}async[a0_0x200bc3(0x71c)](){const _0x3c7783=a0_0x200bc3;let _0x5bdea0=()=>Math[_0x3c7783(0x32f)](Math[_0x3c7783(0x44b)]()*0x2711)+0x7d0,_0x489049=async()=>{const _0x35ff5a=_0x3c7783;if(!this[_0x35ff5a(0x4a5)]){this[_0x35ff5a(0x593)][_0x35ff5a(0x6d7)](_0x35ff5a(0x1c8)),this[_0x35ff5a(0x698)]=!0x1;return;}if(this[_0x35ff5a(0x390)][_0x35ff5a(0x42c)]&&this['AutomateSystem']&&this[_0x35ff5a(0x687)]!==null&&this[_0x35ff5a(0x687)]!==void 0x0){let _0x1102dc=Math[_0x35ff5a(0x551)](this[_0x35ff5a(0x687)]/0xea60);this[_0x35ff5a(0x593)]['verbose'](this[_0x35ff5a(0x526)]+'\x20('+this['instance']['wuid']+_0x35ff5a(0x260)+_0x1102dc+'\x20minutos\x20verificará\x20novas\x20mensagens'),this[_0x35ff5a(0x698)]=!0x1;return;}else this[_0x35ff5a(0x390)][_0x35ff5a(0x42c)]&&(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x35ff5a(0x390)][_0x35ff5a(0x42c)]+_0x35ff5a(0x259)),this['AutomateSystem']||await this[_0x35ff5a(0x751)](),(this[_0x35ff5a(0x687)]===null||this[_0x35ff5a(0x687)]===void 0x0)&&await this['scheduleNextCheck']());if(this['isRunning']){let _0x256598=_0x5bdea0();this[_0x35ff5a(0x593)][_0x35ff5a(0x6d7)](this[_0x35ff5a(0x526)]+_0x35ff5a(0x5a1)+_0x256598/0x3e8+_0x35ff5a(0x279)),setTimeout(_0x489049,_0x256598);}};if(this['isRunning'])return;this['isRunning']=!0x0;let _0x439a4a=_0x5bdea0();setTimeout(_0x489049,_0x439a4a);}async['connectToWhatsapp'](){const _0x8ec11e=a0_0x200bc3;try{this[_0x8ec11e(0x2f9)](),this['instance'][_0x8ec11e(0x3c3)]=await this[_0x8ec11e(0x3ec)]();let {version:_0x5a4ec9}=await(0x0,w[_0x8ec11e(0x3b6)])(),_0x412ece=this['configService']['get']('CONFIG_SESSION_PHONE'),_0x42637f=[_0x412ece[_0x8ec11e(0x47d)],_0x412ece[_0x8ec11e(0x3f5)],(0x0,ho[_0x8ec11e(0x3e2)])()],_0x5902c4={'auth':{'creds':this[_0x8ec11e(0x390)][_0x8ec11e(0x3c3)][_0x8ec11e(0x379)]['creds'],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this[_0x8ec11e(0x390)]['authState']['state'][_0x8ec11e(0x72a)],(0x0,kt[_0x8ec11e(0x2bb)])({'level':_0x8ec11e(0x22d)}))},'logger':(0x0,kt[_0x8ec11e(0x2bb)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x42637f,'version':_0x5a4ec9,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x8ec11e(0x31e)],'getMessage':async _0x55d721=>await this[_0x8ec11e(0x69d)](_0x55d721),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x0,'userDevicesCache':this[_0x8ec11e(0x3c8)],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending':_0x52bc69=>(!!(_0x52bc69[_0x8ec11e(0x661)]||_0x52bc69[_0x8ec11e(0x1f1)])&&(_0x52bc69={'viewOnceMessageV2':{'message':{'messageContextInfo':{'deviceListMetadataVersion':0x2,'deviceListMetadata':{}},..._0x52bc69}}}),_0x52bc69)};return this[_0x8ec11e(0x40d)]=!0x1,this['client']=(0x0,w[_0x8ec11e(0x2bb)])(_0x5902c4),this['eventHandler'](),this[_0x8ec11e(0x47f)];}catch(_0x44aacc){throw this[_0x8ec11e(0x593)]['error'](this['instanceName']+'\x20('+this[_0x8ec11e(0x390)][_0x8ec11e(0x42c)]+'):\x20'+_0x44aacc),new A(_0x44aacc?.[_0x8ec11e(0x3d6)]());}}[a0_0x200bc3(0x726)](){const _0x8364f6=a0_0x200bc3;this[_0x8364f6(0x47f)]['ev']['process'](_0x912bdd=>{const _0x51e761=_0x8364f6;if(!this[_0x51e761(0x40d)]){let _0x4d8225=this[_0x51e761(0x712)][_0x51e761(0x313)]('DATABASE');if(_0x912bdd[_0x51e761(0x1f2)]&&this['connectionUpdate'](_0x912bdd[_0x51e761(0x1f2)]),_0x912bdd[_0x51e761(0x4ae)]&&this['instance'][_0x51e761(0x3c3)]['saveCreds'](),_0x912bdd[_0x51e761(0x268)]){let _0x1a4be7=_0x912bdd[_0x51e761(0x268)];this[_0x51e761(0x2cb)][_0x51e761(0x268)](_0x1a4be7,_0x4d8225);}if(_0x912bdd[_0x51e761(0x438)]){let _0xc37ec7=_0x912bdd[_0x51e761(0x438)];this[_0x51e761(0x2cb)]['messages.upsert'](_0xc37ec7,_0x4d8225);}if(_0x912bdd['messages.update']){let _0x165bc6=_0x912bdd['messages.update'];this[_0x51e761(0x2cb)]['messages.update'](_0x165bc6,_0x4d8225);}if(_0x912bdd['presence.update']){let _0x4ea6eb=_0x912bdd['presence.update'];if(this[_0x51e761(0x2fc)]?.[_0x51e761(0x2a8)]&&_0x4ea6eb['id'][_0x51e761(0x46e)](_0x51e761(0x2d7)))return;this[_0x51e761(0x3bd)](_0x51e761(0x704),_0x4ea6eb);}if(!this[_0x51e761(0x2fc)]?.[_0x51e761(0x2a8)]){if(_0x912bdd['groups.upsert']){let _0x428ad3=_0x912bdd[_0x51e761(0x544)];this[_0x51e761(0x1fb)]['groups.upsert'](_0x428ad3);}if(_0x912bdd[_0x51e761(0x6fd)]){let _0x251bc1=_0x912bdd['groups.update'];this[_0x51e761(0x1fb)][_0x51e761(0x6fd)](_0x251bc1);}if(_0x912bdd[_0x51e761(0x644)]){let _0x17b52c=_0x912bdd['group-participants.update'];this[_0x51e761(0x1fb)][_0x51e761(0x644)](_0x17b52c);}}if(_0x912bdd['chats.upsert']){let _0x5a6221=_0x912bdd[_0x51e761(0x61d)];this[_0x51e761(0x2dd)][_0x51e761(0x61d)](_0x5a6221,_0x4d8225);}if(_0x912bdd[_0x51e761(0x272)]){let _0x2ffee6=_0x912bdd[_0x51e761(0x272)];this[_0x51e761(0x2dd)][_0x51e761(0x272)](_0x2ffee6,_0x4d8225);}if(_0x912bdd[_0x51e761(0x4bb)]){let _0x23d76e=_0x912bdd['chats.delete'];this[_0x51e761(0x2dd)]['chats.delete'](_0x23d76e);}if(_0x912bdd[_0x51e761(0x6b3)]){let _0x382fb8=_0x912bdd[_0x51e761(0x6b3)];this[_0x51e761(0x28e)][_0x51e761(0x6b3)](_0x382fb8,_0x4d8225);}if(_0x912bdd[_0x51e761(0x6f4)]){let _0x5192bb=_0x912bdd['contacts.update'];this[_0x51e761(0x28e)]['contacts.update'](_0x5192bb,_0x4d8225);}}});}[a0_0x200bc3(0x742)](_0x4892d5){let _0xcefa68=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x4892d5);if(_0xcefa68&&_0xcefa68[0x1]==='55'){let _0x3d82e1=_0xcefa68[0x2],_0x8b2623=_0xcefa68[0x3],_0x213b4b=_0xcefa68[0x4];if(_0x3d82e1>='31'&&_0x8b2623==='9')return _0xcefa68[0x1]+_0x3d82e1+_0x213b4b;}return _0x4892d5;}['createJid'](_0x3c0e32){const _0x2514f1=a0_0x200bc3;return _0x3c0e32[_0x2514f1(0x46e)](_0x2514f1(0x2d7))||_0x3c0e32['includes'](_0x2514f1(0x5d1))||_0x3c0e32[_0x2514f1(0x46e)](_0x2514f1(0x41c))?_0x3c0e32:(_0x3c0e32=_0x3c0e32?.['replace'](/\s/g,'')[_0x2514f1(0x2c9)](/\+/g,'')['replace'](/\(/g,'')[_0x2514f1(0x2c9)](/\)/g,'')['split'](/\:/)[0x0][_0x2514f1(0x5a8)]('@')[0x0],_0x3c0e32[_0x2514f1(0x306)]>=0x12?(_0x3c0e32=_0x3c0e32[_0x2514f1(0x2c9)](/[^\d-]/g,''),_0x3c0e32+'@g.us'):(_0x3c0e32=_0x3c0e32['replace'](/\D/g,''),this[_0x2514f1(0x742)](_0x3c0e32)+_0x2514f1(0x5d1)));}async[a0_0x200bc3(0x201)](_0x48c220){const _0x57116c=a0_0x200bc3;let _0x1b4b2b=this[_0x57116c(0x601)](_0x48c220[_0x57116c(0x370)]),_0x36740a=(await this['whatsappNumber']({'numbers':[_0x1b4b2b]}))[0x0];if(!_0x36740a[_0x57116c(0x47c)]&&!(0x0,w[_0x57116c(0x3ca)])(_0x36740a[_0x57116c(0x6a8)]))throw new g(_0x36740a);let _0xf45065=(0x0,w[_0x57116c(0x3ca)])(_0x1b4b2b)?_0x1b4b2b:_0x36740a[_0x57116c(0x6a8)];if((0x0,w[_0x57116c(0x3ca)])(_0xf45065))try{await this['client'][_0x57116c(0x5fe)](_0xf45065);}catch{throw new x(_0x57116c(0x789));}try{return await this[_0x57116c(0x47f)]['presenceSubscribe'](_0xf45065),await this[_0x57116c(0x47f)]['sendPresenceUpdate'](_0x48c220['presence'],_0x1b4b2b),{'status':0xc8,'presence':_0x48c220[_0x57116c(0x2f0)]};}catch(_0x3e3f73){throw new g(_0x3e3f73[_0x57116c(0x3d6)]());}}async[a0_0x200bc3(0x779)](_0x4bffc2){const _0x2e3b59=a0_0x200bc3;let _0x1bf00e=this[_0x2e3b59(0x601)](_0x4bffc2);try{return{'wuid':_0x1bf00e,'profilePictureUrl':await this['client'][_0x2e3b59(0x65f)](_0x1bf00e,_0x2e3b59(0x6d1))};}catch{return{'wuid':_0x1bf00e,'profilePictureUrl':null};}}async[a0_0x200bc3(0x68f)](_0x3b36b4,_0x27680f,_0x5f482e){const _0xddd215=a0_0x200bc3;let _0x136028=(await this['whatsappNumber']({'numbers':[_0x3b36b4]}))[0x0];if(!_0x136028[_0xddd215(0x47c)]&&!(0x0,w['isJidGroup'])(_0x136028['jid'])&&!_0x136028[_0xddd215(0x6a8)][_0xddd215(0x46e)](_0xddd215(0x41c)))throw new g(_0x136028);let _0x5e74cb=_0x136028[_0xddd215(0x6a8)];try{_0x5f482e?.[_0xddd215(0x44f)]&&(await this[_0xddd215(0x47f)][_0xddd215(0x4e6)](_0x5e74cb),await this['client'][_0xddd215(0x42a)](_0x5f482e?.[_0xddd215(0x2f0)]??_0xddd215(0x24f),_0x5e74cb),await(0x0,w['delay'])(_0x5f482e[_0xddd215(0x44f)]),await this[_0xddd215(0x47f)][_0xddd215(0x42a)](_0xddd215(0x22a),_0x5e74cb));let _0x10a00d=_0x5f482e?.[_0xddd215(0x319)]!=!0x1?void 0x0:!0x1,_0x29b626;if(_0x5f482e?.['quoted']){let _0x48ed2e=_0x5f482e?.['quoted'],_0x17d8c4=_0x48ed2e?.[_0xddd215(0x646)]?_0x48ed2e:await this[_0xddd215(0x69d)](_0x48ed2e[_0xddd215(0x781)],!0x0);if(!_0x17d8c4)throw _0xddd215(0x211);_0x29b626=_0x17d8c4;}let _0x83c55a;if((0x0,w[_0xddd215(0x3ca)])(_0x5e74cb))try{let _0x258ab4=await this['client'][_0xddd215(0x5fe)](_0x5e74cb);if(!_0x258ab4)throw new x('Group\x20not\x20found');_0x5f482e?.[_0xddd215(0x4a9)]&&(_0x5f482e[_0xddd215(0x4a9)]?.[_0xddd215(0x36c)]?_0x83c55a=_0x258ab4['participants'][_0xddd215(0x43b)](_0x4d3747=>_0x4d3747['id']):_0x5f482e[_0xddd215(0x4a9)]?.[_0xddd215(0x4a2)]?.[_0xddd215(0x306)]&&(_0x83c55a=_0x5f482e[_0xddd215(0x4a9)][_0xddd215(0x4a2)]['map'](_0x5cdfcf=>{const _0x7e7260=_0xddd215;let _0x36125f=this[_0x7e7260(0x601)](_0x5cdfcf);return(0x0,w[_0x7e7260(0x3ca)])(_0x36125f)?null:_0x36125f;})));}catch{throw new x('Group\x20not\x20found');}let _0x4ef7fa=await((async()=>{const _0x1d6ce7=_0xddd215;let _0x2e71ba={'quoted':_0x29b626};if(!_0x27680f[_0x1d6ce7(0x649)]&&!_0x27680f[_0x1d6ce7(0x372)]&&!_0x27680f['sticker']&&!_0x27680f['conversation']&&_0x5e74cb!==_0x1d6ce7(0x40a)&&!_0x27680f[_0x1d6ce7(0x649)])return await this[_0x1d6ce7(0x47f)]['sendMessage'](_0x5e74cb,{'forward':{'key':{'remoteJid':this[_0x1d6ce7(0x390)][_0x1d6ce7(0x42c)],'fromMe':!0x0},'message':_0x27680f},'mentions':_0x83c55a},_0x2e71ba);if(_0x27680f[_0x1d6ce7(0x445)]){let _0x20cb9c=_0x27680f[_0x1d6ce7(0x445)];return _0x5f482e?.['changeVariables']&&(_0x20cb9c=await this[_0x1d6ce7(0x74f)](_0x20cb9c,_0x5e74cb)),await this[_0x1d6ce7(0x47f)][_0x1d6ce7(0x47a)](_0x5e74cb,{'text':_0x20cb9c,'mentions':_0x83c55a,'linkPreview':_0x10a00d},_0x2e71ba);}return _0x5e74cb==='status@broadcast'?await this[_0x1d6ce7(0x47f)][_0x1d6ce7(0x47a)](_0x5e74cb,_0x27680f[_0x1d6ce7(0x354)][_0x1d6ce7(0x389)],{'backgroundColor':_0x27680f[_0x1d6ce7(0x354)][_0x1d6ce7(0x5ab)][_0x1d6ce7(0x29b)],'font':_0x27680f[_0x1d6ce7(0x354)][_0x1d6ce7(0x5ab)][_0x1d6ce7(0x45f)],'statusJidList':_0x27680f[_0x1d6ce7(0x354)]['option'][_0x1d6ce7(0x340)]}):await this['client'][_0x1d6ce7(0x47a)](_0x5e74cb,_0x27680f,_0x2e71ba);})()),{message_normalized:_0x3c8201}=this['normalizeMessage'](_0x4ef7fa['message'],W(_0x4ef7fa[_0xddd215(0x646)]),null),_0x54bd4e={'key':_0x4ef7fa[_0xddd215(0x781)],'pushName':_0x4ef7fa[_0xddd215(0x4f1)],'message':{..._0x4ef7fa[_0xddd215(0x646)]},'messageType':W(_0x4ef7fa[_0xddd215(0x646)]),'message_normalized':{'key':_0x4ef7fa[_0xddd215(0x781)],'pushName':_0x4ef7fa[_0xddd215(0x4f1)],'messageTimestamp':_0x4ef7fa['messageTimestamp']&&_0x4ef7fa[_0xddd215(0x613)][_0xddd215(0x3d6)]()[_0xddd215(0x306)]<0xd?_0x4ef7fa[_0xddd215(0x613)]*0x3e8:_0x4ef7fa[_0xddd215(0x613)]||null,'source':(0x0,w[_0xddd215(0x780)])(_0x4ef7fa['key']['id']),..._0x3c8201},'messageTimestamp':_0x4ef7fa[_0xddd215(0x613)]&&_0x4ef7fa['messageTimestamp'][_0xddd215(0x3d6)]()[_0xddd215(0x306)]<0xd?_0x4ef7fa[_0xddd215(0x613)]*0x3e8:_0x4ef7fa['messageTimestamp']||null,'owner':this[_0xddd215(0x390)][_0xddd215(0x42c)],'source':(0x0,w[_0xddd215(0x780)])(_0x4ef7fa[_0xddd215(0x781)]['id'])};return this[_0xddd215(0x593)][_0xddd215(0x23f)](_0x54bd4e),await this[_0xddd215(0x3bd)]('send.message',_0x54bd4e),q(this['instanceName'],_0xddd215(0x64d),{'message':_0x54bd4e}),this[_0xddd215(0x343)](this[_0xddd215(0x712)][_0xddd215(0x313)](_0xddd215(0x496)),_0x54bd4e,_0xddd215(0x289)),await this[_0xddd215(0x6eb)][_0xddd215(0x646)][_0xddd215(0x3fd)]([_0x54bd4e],this[_0xddd215(0x712)]['get'](_0xddd215(0x496))[_0xddd215(0x2ea)]),_0x4ef7fa;}catch(_0x560e7f){throw this[_0xddd215(0x593)][_0xddd215(0x22d)](this['instanceName']+'\x20('+this[_0xddd215(0x390)]['wuid']+_0xddd215(0x73e)+_0x560e7f[_0xddd215(0x3d6)]()),new g(_0x560e7f[_0xddd215(0x3d6)]());}}get[a0_0x200bc3(0x24b)](){const _0x70987c=a0_0x200bc3;return this[_0x70987c(0x42b)];}async[a0_0x200bc3(0x72b)](_0x2b736d){const _0x171e0f=a0_0x200bc3;let _0x395a76=this['configService'][_0x171e0f(0x313)](_0x171e0f(0x66e)),_0x8743b3=this['configService']['get'](_0x171e0f(0x6b5));return _0x8743b3&&this['instanceName'][_0x171e0f(0x2d0)]()['includes'](_0x8743b3[_0x171e0f(0x2d0)]())&&(_0x2b736d[_0x171e0f(0x72b)][_0x171e0f(0x5f4)]+='\x0a\x0a'+_0x395a76),await this[_0x171e0f(0x68f)](_0x2b736d['number'],{'conversation':_0x2b736d['textMessage'][_0x171e0f(0x5f4)]},_0x2b736d?.[_0x171e0f(0x20c)]);}async[a0_0x200bc3(0x591)](_0x43b048){const _0x3e4c24=a0_0x200bc3;if(!_0x43b048[_0x3e4c24(0x757)])throw new g('Type\x20is\x20required');if(!_0x43b048['content'])throw new g(_0x3e4c24(0x677));if(_0x43b048[_0x3e4c24(0x754)]){let _0x59ea96=await this[_0x3e4c24(0x6eb)][_0x3e4c24(0x5ef)]['find']({'where':{'owner':this[_0x3e4c24(0x390)][_0x3e4c24(0x42c)]}});if(!_0x59ea96[_0x3e4c24(0x306)])throw new g(_0x3e4c24(0x5e8));_0x43b048[_0x3e4c24(0x340)]=_0x59ea96['filter'](_0x3d8065=>_0x3d8065[_0x3e4c24(0x4f1)])['map'](_0x57e3fb=>_0x57e3fb['id']);}if(!_0x43b048[_0x3e4c24(0x340)]?.[_0x3e4c24(0x306)]&&!_0x43b048[_0x3e4c24(0x754)])throw new g('StatusJidList\x20is\x20required');if(_0x43b048[_0x3e4c24(0x757)]==='text'){if(!_0x43b048['backgroundColor'])throw new g(_0x3e4c24(0x599));if(!_0x43b048[_0x3e4c24(0x45f)])throw new g(_0x3e4c24(0x784));return{'content':{'text':_0x43b048['content']},'option':{'backgroundColor':_0x43b048[_0x3e4c24(0x29b)],'font':_0x43b048[_0x3e4c24(0x45f)],'statusJidList':_0x43b048[_0x3e4c24(0x340)]}};}if(_0x43b048[_0x3e4c24(0x757)]==='image')return{'content':{'image':{'url':_0x43b048['content']},'caption':_0x43b048[_0x3e4c24(0x76f)]},'option':{'statusJidList':_0x43b048[_0x3e4c24(0x340)]}};if(_0x43b048['type']==='video')return{'content':{'video':{'url':_0x43b048[_0x3e4c24(0x389)]},'caption':_0x43b048[_0x3e4c24(0x76f)]},'option':{'statusJidList':_0x43b048['statusJidList']}};if(_0x43b048[_0x3e4c24(0x757)]===_0x3e4c24(0x649)){this['logger'][_0x3e4c24(0x6d7)](_0x3e4c24(0x700)),this[_0x3e4c24(0x593)][_0x3e4c24(0x6d7)](_0x3e4c24(0x37c));let _0x113ecc=await this[_0x3e4c24(0x1c2)](_0x43b048[_0x3e4c24(0x389)]);if(typeof _0x113ecc==_0x3e4c24(0x40e)){this[_0x3e4c24(0x593)]['verbose'](_0x3e4c24(0x1ec));let _0x38e00e=_['readFileSync'](_0x113ecc)[_0x3e4c24(0x3d6)]('base64'),_0x5671e9={'content':{'audio':Buffer[_0x3e4c24(0x693)](_0x38e00e,_0x3e4c24(0x692)),'ptt':!0x0,'mimetype':_0x3e4c24(0x39b)},'option':{'statusJidList':_0x43b048[_0x3e4c24(0x340)]}};return _[_0x3e4c24(0x6ed)](_0x113ecc),_0x5671e9;}else throw new A(_0x113ecc);}throw new g(_0x3e4c24(0x36f));}async[a0_0x200bc3(0x36a)](_0x186d41){const _0x3a4431=a0_0x200bc3;return await this[_0x3a4431(0x68f)]('status@broadcast',{'status':await this['formatStatusMessage'](_0x186d41[_0x3a4431(0x36a)])});}async[a0_0x200bc3(0x65b)](_0x11734c){const _0x54c207=a0_0x200bc3;try{let _0x15df89=await(0x0,w[_0x54c207(0x34d)])({[_0x11734c[_0x54c207(0x454)]]:(0x0,k['isURL'])(_0x11734c['media'])?{'url':_0x11734c[_0x54c207(0x750)]}:Buffer[_0x54c207(0x693)](_0x11734c[_0x54c207(0x750)],_0x54c207(0x692))},{'upload':this[_0x54c207(0x47f)][_0x54c207(0x2af)]}),_0x42fe54=_0x11734c[_0x54c207(0x454)]+_0x54c207(0x79d);if(_0x11734c['mediatype']==='document'&&!_0x11734c[_0x54c207(0x559)]){let _0x711223=new RegExp(/.*\/(.+?)\./)[_0x54c207(0x531)](_0x11734c[_0x54c207(0x750)]);_0x11734c[_0x54c207(0x559)]=_0x711223[0x1];}let _0x303ffd;(0x0,k[_0x54c207(0x775)])(_0x11734c[_0x54c207(0x750)])?_0x303ffd=(0x0,Ns[_0x54c207(0x375)])(_0x11734c['media']):_0x303ffd=(0x0,Ns[_0x54c207(0x375)])(_0x11734c[_0x54c207(0x559)]);let _0x114d72=this[_0x54c207(0x712)][_0x54c207(0x313)](_0x54c207(0x66e)),_0x2d778a=this[_0x54c207(0x712)]['get'](_0x54c207(0x6b5));return _0x2d778a&&this['instanceName'][_0x54c207(0x2d0)]()[_0x54c207(0x46e)](_0x2d778a['toLowerCase']())&&(_0x11734c[_0x54c207(0x76f)]+='\x0a\x0a'+_0x114d72),_0x15df89[_0x42fe54][_0x54c207(0x76f)]=_0x11734c?.[_0x54c207(0x76f)],_0x15df89[_0x42fe54][_0x54c207(0x6ec)]=_0x303ffd,_0x15df89[_0x42fe54][_0x54c207(0x559)]=_0x11734c[_0x54c207(0x559)],_0x11734c[_0x54c207(0x454)]===_0x54c207(0x3f0)&&(_0x15df89[_0x42fe54][_0x54c207(0x23e)]=Uint8Array[_0x54c207(0x693)]((0x0,_e[_0x54c207(0x1b8)])((0x0,$[_0x54c207(0x62e)])(process[_0x54c207(0x31a)](),'video-cover.png'))),_0x15df89[_0x42fe54][_0x54c207(0x29c)]=!0x1),(0x0,w['generateWAMessageFromContent'])('',{[_0x42fe54]:{..._0x15df89[_0x42fe54]}},{'userJid':this[_0x54c207(0x390)][_0x54c207(0x42c)]});}catch(_0x332c28){throw this[_0x54c207(0x593)][_0x54c207(0x22d)](this[_0x54c207(0x526)]+'\x20('+this[_0x54c207(0x390)][_0x54c207(0x42c)]+_0x54c207(0x73e)+_0x332c28),new A(_0x332c28?.[_0x54c207(0x3d6)]()||_0x332c28);}}async[a0_0x200bc3(0x451)](_0x2657fe){const _0x3d26d9=a0_0x200bc3;let _0x2b4f70=await this[_0x3d26d9(0x65b)](_0x2657fe['mediaMessage']);return await this['sendMessageWithTyping'](_0x2657fe[_0x3d26d9(0x370)],{..._0x2b4f70[_0x3d26d9(0x646)]},_0x2657fe?.['options']);}async[a0_0x200bc3(0x30b)](_0x473925,_0x59a1d4){const _0x5d5911=a0_0x200bc3;try{this[_0x5d5911(0x593)][_0x5d5911(0x6d7)](_0x5d5911(0x250));let _0x5e896c,_0x40b0e2=_0x59a1d4+'-'+new Date()[_0x5d5911(0x728)]();this[_0x5d5911(0x593)][_0x5d5911(0x6d7)](_0x5d5911(0x3d0)+_0x40b0e2);let _0x388691=''+(0x0,$[_0x5d5911(0x62e)])(this[_0x5d5911(0x5bd)],_0x40b0e2+'.webp');if(this['logger'][_0x5d5911(0x6d7)](_0x5d5911(0x3dd)+_0x388691),(0x0,k[_0x5d5911(0x3d7)])(_0x473925)){this[_0x5d5911(0x593)]['verbose']('Image\x20is\x20base64');let _0x135cfe=_0x473925['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x265dbd=Buffer[_0x5d5911(0x693)](_0x135cfe,_0x5d5911(0x692));_0x5e896c=''+(0x0,$['join'])(this[_0x5d5911(0x5bd)],'temp-'+_0x40b0e2+'.png'),this['logger'][_0x5d5911(0x6d7)]('Image\x20path:\x20'+_0x5e896c),await(0x0,Ut[_0x5d5911(0x2bb)])(_0x265dbd)[_0x5d5911(0x2d5)](_0x5e896c),this[_0x5d5911(0x593)][_0x5d5911(0x6d7)](_0x5d5911(0x257));}else{this[_0x5d5911(0x593)][_0x5d5911(0x6d7)]('Image\x20is\x20url');let _0x147a6c=new Date()[_0x5d5911(0x728)](),_0x1bb3fb=_0x473925+_0x5d5911(0x420)+_0x147a6c;this['logger'][_0x5d5911(0x6d7)](_0x5d5911(0x631)+_0x1bb3fb);let _0x454694=await ue['default']['get'](_0x1bb3fb,{'responseType':_0x5d5911(0x1fc)});this[_0x5d5911(0x593)][_0x5d5911(0x6d7)](_0x5d5911(0x4a4));let _0x48fa38=Buffer['from'](_0x454694[_0x5d5911(0x69b)],_0x5d5911(0x29e));_0x5e896c=''+(0x0,$[_0x5d5911(0x62e)])(this[_0x5d5911(0x5bd)],'temp-'+_0x40b0e2+'.png'),this[_0x5d5911(0x593)][_0x5d5911(0x6d7)]('Image\x20path:\x20'+_0x5e896c),await(0x0,Ut['default'])(_0x48fa38)[_0x5d5911(0x2d5)](_0x5e896c),this[_0x5d5911(0x593)][_0x5d5911(0x6d7)]('Image\x20created');}return await(0x0,Ut[_0x5d5911(0x2bb)])(_0x5e896c)['webp']()[_0x5d5911(0x2d5)](_0x388691),this[_0x5d5911(0x593)][_0x5d5911(0x6d7)](_0x5d5911(0x638)),_['unlinkSync'](_0x5e896c),this['logger'][_0x5d5911(0x6d7)](_0x5d5911(0x798)),_0x388691;}catch(_0x5ebb78){console[_0x5d5911(0x22d)](_0x5d5911(0x5fd),_0x5ebb78);}}async[a0_0x200bc3(0x460)](_0x433429){const _0x3ae87e=a0_0x200bc3;let _0x25e6b5=await this[_0x3ae87e(0x30b)](_0x433429[_0x3ae87e(0x6f0)][_0x3ae87e(0x6d1)],_0x433429[_0x3ae87e(0x370)]),_0x8aac56=await this[_0x3ae87e(0x68f)](_0x433429['number'],{'sticker':{'url':_0x25e6b5}},_0x433429?.['options']);return _[_0x3ae87e(0x6ed)](_0x25e6b5),this[_0x3ae87e(0x593)][_0x3ae87e(0x6d7)]('Converted\x20image\x20deleted'),_0x8aac56;}async[a0_0x200bc3(0x20e)](_0x1f8900){const _0x1d00b5=a0_0x200bc3;if(this[_0x1d00b5(0x593)][_0x1d00b5(0x6d7)]('Sending\x20audio\x20whatsapp'),!_0x1f8900[_0x1d00b5(0x20c)]?.[_0x1d00b5(0x450)]&&_0x1f8900[_0x1d00b5(0x20c)]?.[_0x1d00b5(0x450)]!==!0x1&&(_0x1f8900['options'][_0x1d00b5(0x450)]=!0x0),_0x1f8900['options']?.[_0x1d00b5(0x450)]){let _0x5f037f=await this[_0x1d00b5(0x1c2)](_0x1f8900[_0x1d00b5(0x51f)]['audio']);if(typeof _0x5f037f==_0x1d00b5(0x40e)){let _0x2adf8e=_[_0x1d00b5(0x1b8)](_0x5f037f)['toString'](_0x1d00b5(0x692)),_0x249161=this[_0x1d00b5(0x68f)](_0x1f8900[_0x1d00b5(0x370)],{'audio':Buffer[_0x1d00b5(0x693)](_0x2adf8e,_0x1d00b5(0x692)),'ptt':!0x0,'mimetype':_0x1d00b5(0x39b)},{'presence':_0x1d00b5(0x498),'delay':_0x1f8900?.[_0x1d00b5(0x20c)]?.['delay']});return _[_0x1d00b5(0x6ed)](_0x5f037f),this[_0x1d00b5(0x593)]['verbose'](_0x1d00b5(0x77e)),_0x249161;}else throw new A(_0x5f037f);}return await this[_0x1d00b5(0x68f)](_0x1f8900[_0x1d00b5(0x370)],{'audio':(0x0,k[_0x1d00b5(0x775)])(_0x1f8900['audioMessage'][_0x1d00b5(0x649)])?{'url':_0x1f8900[_0x1d00b5(0x51f)][_0x1d00b5(0x649)]}:Buffer['from'](_0x1f8900['audioMessage'][_0x1d00b5(0x649)],'base64'),'ptt':!0x0,'mimetype':_0x1d00b5(0x320)},{'presence':_0x1d00b5(0x498),'delay':_0x1f8900?.[_0x1d00b5(0x20c)]?.[_0x1d00b5(0x44f)]});}async[a0_0x200bc3(0x1c2)](_0x1c6d54){const _0x34cf7c=a0_0x200bc3;this['logger']['verbose'](_0x34cf7c(0x37c));let _0x20c50a,_0x4c5cbc,_0x114ffd=(0x0,Lt['v4'])();if(this['logger'][_0x34cf7c(0x6d7)](_0x34cf7c(0x73c)+_0x114ffd),(0x0,k[_0x34cf7c(0x775)])(_0x1c6d54)){this[_0x34cf7c(0x593)][_0x34cf7c(0x6d7)]('Audio\x20is\x20url'),_0x4c5cbc=''+(0x0,$['join'])(this[_0x34cf7c(0x5bd)],_0x114ffd+_0x34cf7c(0x388)),_0x20c50a=''+(0x0,$[_0x34cf7c(0x62e)])(this[_0x34cf7c(0x5bd)],_0x34cf7c(0x466)+_0x114ffd+_0x34cf7c(0x483)),this['logger'][_0x34cf7c(0x6d7)](_0x34cf7c(0x6c5)+_0x4c5cbc),this['logger'][_0x34cf7c(0x6d7)](_0x34cf7c(0x79c)+_0x20c50a);let _0x19a8e1=new Date()['getTime'](),_0x4f4e85=_0x1c6d54+'?timestamp='+_0x19a8e1;this[_0x34cf7c(0x593)][_0x34cf7c(0x6d7)]('Including\x20timestamp\x20in\x20url:\x20'+_0x4f4e85);let _0x3c57b8=await ue[_0x34cf7c(0x2bb)]['get'](_0x4f4e85,{'responseType':'arraybuffer'});this['logger'][_0x34cf7c(0x6d7)](_0x34cf7c(0x26d)),_[_0x34cf7c(0x695)](_0x20c50a,_0x3c57b8['data']);}else{this['logger']['verbose'](_0x34cf7c(0x36e)),_0x4c5cbc=''+(0x0,$[_0x34cf7c(0x62e)])(this[_0x34cf7c(0x5bd)],_0x114ffd+'.mp4'),_0x20c50a=''+(0x0,$[_0x34cf7c(0x62e)])(this[_0x34cf7c(0x5bd)],_0x34cf7c(0x466)+_0x114ffd+_0x34cf7c(0x483)),this[_0x34cf7c(0x593)]['verbose'](_0x34cf7c(0x6c5)+_0x4c5cbc),this[_0x34cf7c(0x593)][_0x34cf7c(0x6d7)](_0x34cf7c(0x79c)+_0x20c50a);let _0x399d58=Buffer[_0x34cf7c(0x693)](_0x1c6d54,'base64');_[_0x34cf7c(0x695)](_0x20c50a,_0x399d58),this['logger'][_0x34cf7c(0x6d7)](_0x34cf7c(0x25e));}return this[_0x34cf7c(0x593)][_0x34cf7c(0x6d7)]('Converting\x20audio\x20to\x20mp4'),new Promise((_0x24af34,_0x328f9a)=>{const _0x4485af=_0x34cf7c;(0x0,Vt[_0x4485af(0x531)])(uo['default']['path']+'\x20-i\x20'+_0x20c50a+_0x4485af(0x35f)+_0x4c5cbc+_0x4485af(0x4e9),_0x2c0fa6=>{const _0x2e7617=_0x4485af;_[_0x2e7617(0x6ed)](_0x20c50a),this[_0x2e7617(0x593)]['verbose'](_0x2e7617(0x656)),_0x2c0fa6&&_0x328f9a(_0x2c0fa6),this[_0x2e7617(0x593)][_0x2e7617(0x6d7)](_0x2e7617(0x4bd)),_0x24af34(_0x4c5cbc);});});}async[a0_0x200bc3(0x72d)](_0x36d75c){const _0x522c36=a0_0x200bc3;let _0x21f5be={},_0x44b43a=_0x522c36(0x56c);if(_0x36d75c[_0x522c36(0x72d)]?.[_0x522c36(0x451)]){_0x44b43a=_0x36d75c[_0x522c36(0x72d)][_0x522c36(0x451)]?.[_0x522c36(0x454)][_0x522c36(0x4ba)]()??_0x522c36(0x56c),_0x21f5be[_0x522c36(0x1b9)]=_0x44b43a[_0x522c36(0x2d0)]()+_0x522c36(0x79d);let _0x3eb4e6=await this[_0x522c36(0x65b)](_0x36d75c[_0x522c36(0x72d)][_0x522c36(0x451)]);_0x21f5be[_0x522c36(0x646)]=_0x3eb4e6[_0x522c36(0x646)][_0x21f5be[_0x522c36(0x1b9)]],_0x21f5be[_0x522c36(0x4eb)]='*'+_0x36d75c[_0x522c36(0x72d)][_0x522c36(0x35c)]+_0x522c36(0x6f6)+_0x36d75c[_0x522c36(0x72d)][_0x522c36(0x5a3)];}let _0x1e79fa={'text':_0x36d75c[_0x522c36(0x72d)][_0x522c36(0x33e)][_0x522c36(0x43b)](_0x35ff6f=>_0x35ff6f[_0x522c36(0x678)]),'ids':_0x36d75c[_0x522c36(0x72d)]['buttons']['map'](_0x1925a1=>_0x1925a1[_0x522c36(0x759)])};if(!(0x0,k['arrayUnique'])(_0x1e79fa[_0x522c36(0x5f4)])||!(0x0,k[_0x522c36(0x1d3)])(_0x1e79fa[_0x522c36(0x1da)]))throw new g(_0x522c36(0x568),_0x522c36(0x350));return await this[_0x522c36(0x68f)](_0x36d75c[_0x522c36(0x370)],{'buttonsMessage':{'text':_0x21f5be?.[_0x522c36(0x1b9)]?void 0x0:_0x36d75c[_0x522c36(0x72d)][_0x522c36(0x35c)],'contentText':_0x21f5be?.[_0x522c36(0x4eb)]??_0x36d75c['buttonMessage'][_0x522c36(0x5a3)],'footerText':_0x36d75c[_0x522c36(0x72d)]?.[_0x522c36(0x473)],'buttons':_0x36d75c[_0x522c36(0x72d)]['buttons'][_0x522c36(0x43b)](_0x504481=>({'buttonText':{'displayText':_0x504481[_0x522c36(0x678)]},'buttonId':_0x504481[_0x522c36(0x759)],'type':0x1})),'headerType':w[_0x522c36(0x28a)][_0x522c36(0x79d)][_0x522c36(0x783)][_0x522c36(0x53b)][_0x44b43a],[_0x21f5be?.['mediaKey']]:_0x21f5be?.[_0x522c36(0x646)]}},_0x36d75c?.[_0x522c36(0x20c)]);}async[a0_0x200bc3(0x49c)](_0x2de4fe){const _0x45d919=a0_0x200bc3;return await this[_0x45d919(0x68f)](_0x2de4fe[_0x45d919(0x370)],{'locationMessage':{'degreesLatitude':_0x2de4fe['locationMessage'][_0x45d919(0x1cf)],'degreesLongitude':_0x2de4fe[_0x45d919(0x49c)][_0x45d919(0x3ea)],'name':_0x2de4fe['locationMessage']?.[_0x45d919(0x31b)],'address':_0x2de4fe['locationMessage']?.[_0x45d919(0x635)]}},_0x2de4fe?.[_0x45d919(0x20c)]);}async[a0_0x200bc3(0x1f1)](_0x117133){const _0xa7af79=a0_0x200bc3;return await this['sendMessageWithTyping'](_0x117133[_0xa7af79(0x370)],{'listMessage':{'title':_0x117133[_0xa7af79(0x1f1)][_0xa7af79(0x35c)],'description':_0x117133[_0xa7af79(0x1f1)]['description'],'buttonText':_0x117133[_0xa7af79(0x1f1)]?.[_0xa7af79(0x678)],'footerText':_0x117133[_0xa7af79(0x1f1)]?.[_0xa7af79(0x473)],'sections':_0x117133[_0xa7af79(0x1f1)][_0xa7af79(0x747)],'listType':0x1}},_0x117133?.['options']);}async[a0_0x200bc3(0x6aa)](_0x1dc1aa){const _0x53359d=a0_0x200bc3;let _0x3de15b={},_0xde9a9d=_0x391fca=>{const _0x167a39=a0_0x3e29;let _0x5d61fd=_0x167a39(0x2ef)+_0x391fca[_0x167a39(0x596)]+_0x167a39(0x38b)+_0x391fca[_0x167a39(0x596)]+'\x0a';_0x391fca[_0x167a39(0x26f)]&&(_0x5d61fd+=_0x167a39(0x2df)+_0x391fca['organization']+';\x0a'),_0x391fca['email']&&(_0x5d61fd+=_0x167a39(0x590)+_0x391fca['email']+'\x0a'),_0x391fca[_0x167a39(0x205)]&&(_0x5d61fd+=_0x167a39(0x512)+_0x391fca[_0x167a39(0x205)]+'\x0a');let _0x19765f='';return _0x391fca[_0x167a39(0x64f)]&&_0x391fca[_0x167a39(0x64f)][_0x167a39(0x5a8)]('|')[_0x167a39(0x5c6)]((_0x299c98,_0x2e0f00)=>{const _0x559cf3=_0x167a39;let _0x59380c=this[_0x559cf3(0x601)](_0x299c98)[_0x559cf3(0x2c9)]('@s.whatsapp.net','');_0x19765f+=_0x559cf3(0x50d)+(_0x2e0f00+0x1)+'.TEL;waid='+_0x59380c+':'+_0x299c98+_0x559cf3(0x32b)+(_0x2e0f00+0x1)+_0x559cf3(0x2e3);}),_0x5d61fd+=_0x19765f+_0x167a39(0x694),_0x5d61fd;};return _0x1dc1aa[_0x53359d(0x6aa)][_0x53359d(0x306)]===0x1?_0x3de15b[_0x53359d(0x6aa)]={'displayName':_0x1dc1aa['contactMessage'][0x0][_0x53359d(0x596)],'vcard':_0xde9a9d(_0x1dc1aa['contactMessage'][0x0])}:_0x3de15b[_0x53359d(0x504)]={'displayName':_0x1dc1aa['contactMessage']['length']+_0x53359d(0x3e6),'contacts':_0x1dc1aa[_0x53359d(0x6aa)]['map'](_0x81284f=>({'displayName':_0x81284f['fullName'],'vcard':_0xde9a9d(_0x81284f)}))},await this['sendMessageWithTyping'](_0x1dc1aa[_0x53359d(0x370)],{..._0x3de15b},_0x1dc1aa?.[_0x53359d(0x20c)]);}async[a0_0x200bc3(0x323)](_0x33a4e3){const _0x1d43fc=a0_0x200bc3;return await this[_0x1d43fc(0x68f)](_0x33a4e3[_0x1d43fc(0x323)]['key'][_0x1d43fc(0x302)],{'reactionMessage':{'key':_0x33a4e3[_0x1d43fc(0x323)]['key'],'text':_0x33a4e3[_0x1d43fc(0x323)]['reaction']}});}async[a0_0x200bc3(0x502)](_0x575ec9){const _0x5e2b53=a0_0x200bc3;let _0x153a7a=[];for await(let _0x4ec9cc of _0x575ec9['numbers']){let _0x4b9395=this[_0x5e2b53(0x601)](_0x4ec9cc);if((0x0,w['isJidGroup'])(_0x4b9395)){let _0x31570d=await this[_0x5e2b53(0x1db)]({'groupJid':_0x4b9395},'inner');_0x153a7a[_0x5e2b53(0x20a)](new fe(_0x31570d[_0x5e2b53(0x386)]['id'],!!_0x31570d?.[_0x5e2b53(0x386)]['id'],_0x31570d?.[_0x5e2b53(0x386)][_0x5e2b53(0x2b3)]));}else try{let _0x1a74a2=(await this[_0x5e2b53(0x47f)]['onWhatsApp'](_0x4b9395))[0x0];_0x153a7a[_0x5e2b53(0x20a)](new fe(_0x1a74a2[_0x5e2b53(0x6a8)],_0x1a74a2[_0x5e2b53(0x47c)]));}catch{_0x153a7a[_0x5e2b53(0x20a)](new fe(_0x4ec9cc,!0x1));}}return _0x153a7a;}async[a0_0x200bc3(0x6fa)](_0x165fb1){const _0x64b380=a0_0x200bc3;try{let _0x27d157=_0x165fb1[_0x64b380(0x1bb)]['filter'](_0x1d6471=>(0x0,w['isJidGroup'])(_0x1d6471['remoteJid'])||(0x0,w['isJidUser'])(_0x1d6471['remoteJid']))[_0x64b380(0x43b)](_0x3a63fc=>({'remoteJid':_0x3a63fc[_0x64b380(0x302)],'fromMe':_0x3a63fc['fromMe'],'id':_0x3a63fc['id']}));await this[_0x64b380(0x47f)][_0x64b380(0x1bb)](_0x27d157);let _0x28e43f=_0x27d157[_0x64b380(0x43b)](_0xa1e04d=>this[_0x64b380(0x430)](_0xa1e04d,_0xa1e04d[_0x64b380(0x302)],{'status':'READ','owner':this[_0x64b380(0x390)][_0x64b380(0x42c)]})),_0x3099fa=_0x27d157[_0x64b380(0x43b)](_0x375b2a=>D[_0x64b380(0x570)]({'id':_0x375b2a[_0x64b380(0x302)],'owner':this[_0x64b380(0x390)]['wuid']},{'$set':{'unreadcount':0x0}},{'new':!0x0})),[_0x186367,_0x369242]=await Promise[_0x64b380(0x33d)]([Promise['all'](_0x28e43f),Promise['all'](_0x3099fa)]);return _0x369242[_0x64b380(0x38d)](_0x4bf346=>_0x4bf346!==null)[_0x64b380(0x5c6)](_0x38c62f=>{const _0x49bb1a=_0x64b380;q(this[_0x49bb1a(0x526)],'chats',{'chat':_0x38c62f});}),{'message':'Read\x20messages','read':'success'};}catch(_0x5ae7f2){throw console[_0x64b380(0x22d)](_0x64b380(0x1bf),_0x5ae7f2),new A(_0x64b380(0x68a),_0x5ae7f2[_0x64b380(0x3d6)]());}}async[a0_0x200bc3(0x24c)](_0x93b0ed){const _0x2cf63c=a0_0x200bc3;let _0x3bd7c9=await this[_0x2cf63c(0x23c)]({'where':{'key':{'remoteJid':_0x93b0ed},'owner':this['instance'][_0x2cf63c(0x31b)]}}),_0x477266=_0x3bd7c9['pop']();for(let _0x271d34 of _0x3bd7c9)_0x271d34[_0x2cf63c(0x613)]>=_0x477266[_0x2cf63c(0x613)]&&(_0x477266=_0x271d34);return _0x477266;}async[a0_0x200bc3(0x331)](_0x58b933){const _0x3dd751=a0_0x200bc3;this[_0x3dd751(0x593)]['verbose']('Archiving\x20chat');try{let _0x1c7cb0=_0x58b933[_0x3dd751(0x4aa)],_0x5c8019=_0x58b933[_0x3dd751(0x4e0)];if(!_0x1c7cb0&&_0x5c8019?_0x1c7cb0=await this[_0x3dd751(0x24c)](_0x5c8019):(_0x1c7cb0=_0x58b933[_0x3dd751(0x4aa)],_0x1c7cb0[_0x3dd751(0x613)]=_0x1c7cb0?.['messageTimestamp']??Date['now'](),_0x5c8019=_0x1c7cb0?.['key']?.[_0x3dd751(0x302)]),!_0x1c7cb0||Object[_0x3dd751(0x72a)](_0x1c7cb0)['length']===0x0)throw new x(_0x3dd751(0x57a));return await this[_0x3dd751(0x47f)]['chatModify']({'archive':_0x58b933[_0x3dd751(0x269)],'lastMessages':[_0x1c7cb0]},this['createJid'](_0x5c8019)),{'chatId':_0x5c8019,'archived':!0x0};}catch(_0x47d7ad){throw new A({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x47d7ad['toString']()]});}}async[a0_0x200bc3(0x756)](_0x14f240){const _0x28c00a=a0_0x200bc3;try{let _0x575534=await this[_0x28c00a(0x47f)][_0x28c00a(0x47a)](_0x14f240['remoteJid'],{'delete':_0x14f240});try{let _0x3adde5=await this[_0x28c00a(0x430)](_0x14f240,_0x14f240[_0x28c00a(0x302)],{'status':_0x28c00a(0x4b9),'owner':this[_0x28c00a(0x390)][_0x28c00a(0x42c)]});this[_0x28c00a(0x593)][_0x28c00a(0x6d7)](this[_0x28c00a(0x526)]+'\x20('+this[_0x28c00a(0x390)][_0x28c00a(0x42c)]+_0x28c00a(0x673)+_0x3adde5);}catch(_0xe22616){console['error']('Error\x20updating\x20message\x20status:',_0xe22616);}return _0x575534;}catch(_0x10ba25){throw new A('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x10ba25?.['toString']());}}async['getBase64FromMediaMessage'](_0x1a22f5){const _0x23b400=a0_0x200bc3;try{let _0x5c39a7=_0x1a22f5?.[_0x23b400(0x646)]?_0x1a22f5:await this['getMessage'](_0x1a22f5[_0x23b400(0x781)],!0x0);for(let _0x424efb of Zs)_0x5c39a7[_0x23b400(0x646)][_0x424efb]&&(_0x5c39a7['message']=_0x5c39a7['message'][_0x424efb][_0x23b400(0x646)]);let _0x2c30c5,_0x184161;for(let _0x538785 of Xs)if(_0x2c30c5=_0x5c39a7[_0x23b400(0x646)][_0x538785],_0x2c30c5){_0x184161=_0x538785;break;}if(!_0x2c30c5)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x2c30c5['mediaKey']==_0x23b400(0x29a)&&(_0x5c39a7[_0x23b400(0x646)]=JSON[_0x23b400(0x654)](JSON[_0x23b400(0x76b)](_0x5c39a7[_0x23b400(0x646)])));let _0x110274=await(0x0,w['downloadMediaMessage'])({'key':_0x5c39a7?.[_0x23b400(0x781)],'message':_0x5c39a7?.[_0x23b400(0x646)]},'buffer',{},{'logger':(0x0,kt[_0x23b400(0x2bb)])({'level':_0x23b400(0x22d)}),'reuploadRequest':this[_0x23b400(0x47f)][_0x23b400(0x415)]});if(!(_0x110274 instanceof Buffer))throw new Error(_0x23b400(0x636));let _0x2b45e2=this[_0x23b400(0x712)][_0x23b400(0x313)]('DATABASE'),_0x3cc9e0,_0x3e6025;if(_0x2c30c5['fileName'])_0x3cc9e0=_0x2c30c5[_0x23b400(0x559)];else{let _0x127da5=_0x2c30c5[_0x23b400(0x6ec)]?.[_0x23b400(0x4b8)](/\/(\w+)/),_0x24bf13=_0x127da5?_0x127da5[0x1]:null;if(!_0x24bf13)throw new Error(_0x23b400(0x45d));_0x3cc9e0=(0x0,Lt['v4'])()+'.'+_0x24bf13;}_0x184161==='audioMessage'&&_0x2c30c5[_0x23b400(0x6ec)]===_0x23b400(0x57b)?(_0x3cc9e0=(0x0,Lt['v4'])()+_0x23b400(0x743),_0x3e6025=_0x23b400(0x492)+await this['convertaudio'](_0x110274[_0x23b400(0x3d6)]('base64'))):(await this[_0x23b400(0x1cb)](_0x110274,_0x3cc9e0),_0x3e6025=_0x23b400(0x492)+_0x3cc9e0);let _0xbba0db=this[_0x23b400(0x712)][_0x23b400(0x313)]('SSL_CONF'),_0xdd6612=this[_0x23b400(0x712)]['get'](_0x23b400(0x575))[_0x23b400(0x5ad)],_0x362ab5=_0xbba0db&&_0xbba0db[_0x23b400(0x548)][_0x23b400(0x5a8)]('/')[0x4];_0xdd6612===0x1bb&&(_0x3e6025=''+(_0x23b400(0x5a4)+_0x362ab5)+_0x3e6025);let _0x5f129c=0xc*0x3c*0x3c*0x3e8;if(_0x2b45e2[_0x23b400(0x2ea)]){let _0x2de11c={'where':{'key':{'id':_0x5c39a7['key']['id'],'remoteJid':_0x5c39a7[_0x23b400(0x781)][_0x23b400(0x302)],'fromMe':_0x5c39a7[_0x23b400(0x781)][_0x23b400(0x2cf)]},'owner':this[_0x23b400(0x390)]['wuid']}};_0x5c39a7[_0x23b400(0x781)][_0x23b400(0x302)][_0x23b400(0x60c)](_0x23b400(0x2d7))&&(_0x2de11c['where'][_0x23b400(0x781)][_0x23b400(0x536)]=_0x5c39a7['key'][_0x23b400(0x536)]);let _0x4047cf={'message_normalized.fileUrl':_0x3e6025,'message_normalized.expires_fileUrl':Date['now']()+_0x5f129c};try{let _0x11ef5e=await this[_0x23b400(0x6eb)][_0x23b400(0x646)][_0x23b400(0x511)](_0x2de11c,_0x4047cf);_0x11ef5e&&q(this[_0x23b400(0x526)],_0x23b400(0x64d),{'message':_0x11ef5e});}catch{}}return{'mediaType':_0x184161,'fileName':_0x2c30c5[_0x23b400(0x559)],'caption':_0x2c30c5[_0x23b400(0x76f)],'size':{'fileLength':_0x2c30c5[_0x23b400(0x1be)],'height':_0x2c30c5[_0x23b400(0x4dc)],'width':_0x2c30c5[_0x23b400(0x44e)]},'mimetype':_0x2c30c5[_0x23b400(0x6ec)],'base64':_0x110274[_0x23b400(0x3d6)](_0x23b400(0x692)),'fileUrl':_0x3e6025,'expires_fileUrl':Date[_0x23b400(0x5f7)]()+_0x5f129c};}catch(_0x1f3ab3){throw this['logger']['error'](this[_0x23b400(0x526)]+'\x20('+this[_0x23b400(0x390)][_0x23b400(0x42c)]+_0x23b400(0x73e)+_0x1f3ab3),new g(_0x1f3ab3['toString']());}}async[a0_0x200bc3(0x1cb)](_0xfafeb7,_0x5cd433){const _0x3219a3=a0_0x200bc3;console[_0x3219a3(0x23f)](_0x3219a3(0x533),__dirname),console['log'](_0x3219a3(0x21f),_0x5cd433);let _0x413784=$[_0x3219a3(0x2bb)][_0x3219a3(0x62e)](__dirname,'downloads');console[_0x3219a3(0x23f)]('Media\x20folder\x20path:',_0x413784),_['existsSync'](_0x413784)||(this[_0x3219a3(0x593)][_0x3219a3(0x23f)](_0x3219a3(0x5bc)),_['mkdirSync'](_0x413784,{'recursive':!0x0}));let _0x2f9638=$[_0x3219a3(0x2bb)]['join'](_0x413784,_0x5cd433);return console[_0x3219a3(0x23f)](_0x3219a3(0x374),_0x2f9638),new Promise((_0x121db5,_0x568012)=>{const _0x3d3039=_0x3219a3;_[_0x3d3039(0x2ac)](_0x2f9638,_0xfafeb7,_0x1413ec=>{const _0x2cd7ed=_0x3d3039;_0x1413ec?(this[_0x2cd7ed(0x593)][_0x2cd7ed(0x22d)]('Error\x20writing\x20file:\x20'+_0x1413ec[_0x2cd7ed(0x646)]),_0x568012(_0x1413ec)):(this['logger']['log'](_0x2cd7ed(0x2ab)+_0x2f9638),_0x121db5(_0x2f9638));});});}async[a0_0x200bc3(0x4e7)](_0x3e2ce4){const _0x1bb73c=a0_0x200bc3;return _0x3e2ce4?.[_0x1bb73c(0x6cb)]?_0x3e2ce4['where'][_0x1bb73c(0x332)]=this[_0x1bb73c(0x390)][_0x1bb73c(0x42c)]:_0x3e2ce4={'where':{'owner':this[_0x1bb73c(0x390)][_0x1bb73c(0x42c)]}},await this[_0x1bb73c(0x6eb)][_0x1bb73c(0x5ef)][_0x1bb73c(0x487)](_0x3e2ce4);}async[a0_0x200bc3(0x23c)](_0x54890d){const _0x4b9cff=a0_0x200bc3;return _0x54890d?.[_0x4b9cff(0x6cb)]?_0x54890d['where'][_0x4b9cff(0x332)]=this[_0x4b9cff(0x390)][_0x4b9cff(0x42c)]:_0x54890d={'where':{'owner':this[_0x4b9cff(0x390)][_0x4b9cff(0x42c)]},'limit':_0x54890d?.[_0x4b9cff(0x2e7)]},await this[_0x4b9cff(0x6eb)][_0x4b9cff(0x646)]['find'](_0x54890d);}async[a0_0x200bc3(0x471)](_0x16844b){const _0x2302fe=a0_0x200bc3;return _0x16844b?.[_0x2302fe(0x6cb)]?_0x16844b[_0x2302fe(0x6cb)][_0x2302fe(0x332)]=this[_0x2302fe(0x390)][_0x2302fe(0x42c)]:_0x16844b={'where':{'owner':this['instance']['wuid']},'limit':_0x16844b?.['limit']},await this[_0x2302fe(0x6eb)][_0x2302fe(0x477)][_0x2302fe(0x487)](_0x16844b);}async[a0_0x200bc3(0x418)](){const _0x4e50e9=a0_0x200bc3;return await this[_0x4e50e9(0x6eb)][_0x4e50e9(0x4e0)][_0x4e50e9(0x487)]({'where':{'owner':this[_0x4e50e9(0x390)][_0x4e50e9(0x42c)]}});}async[a0_0x200bc3(0x6f1)](){const _0x5999d0=a0_0x200bc3;return await this[_0x5999d0(0x47f)][_0x5999d0(0x6f1)]();}async[a0_0x200bc3(0x2a6)](_0x290f1a){const _0x33e6d5=a0_0x200bc3;try{return await this['client'][_0x33e6d5(0x4f7)](_0x290f1a['privacySettings'][_0x33e6d5(0x49b)]),await this[_0x33e6d5(0x47f)][_0x33e6d5(0x799)](_0x290f1a[_0x33e6d5(0x6e5)][_0x33e6d5(0x339)]),await this[_0x33e6d5(0x47f)]['updateStatusPrivacy'](_0x290f1a['privacySettings'][_0x33e6d5(0x354)]),await this[_0x33e6d5(0x47f)][_0x33e6d5(0x5e1)](_0x290f1a[_0x33e6d5(0x6e5)][_0x33e6d5(0x25f)]),await this[_0x33e6d5(0x47f)][_0x33e6d5(0x2a5)](_0x290f1a[_0x33e6d5(0x6e5)][_0x33e6d5(0x342)]),await this['client'][_0x33e6d5(0x530)](_0x290f1a[_0x33e6d5(0x6e5)][_0x33e6d5(0x60d)]),this[_0x33e6d5(0x47f)]?.['ws']?.[_0x33e6d5(0x40c)](),{'update':'success','data':{'readreceipts':_0x290f1a[_0x33e6d5(0x6e5)][_0x33e6d5(0x49b)],'profile':_0x290f1a[_0x33e6d5(0x6e5)]['profile'],'status':_0x290f1a[_0x33e6d5(0x6e5)][_0x33e6d5(0x354)],'online':_0x290f1a[_0x33e6d5(0x6e5)]['online'],'last':_0x290f1a['privacySettings'][_0x33e6d5(0x342)],'groupadd':_0x290f1a[_0x33e6d5(0x6e5)]['groupadd']}};}catch(_0x5cd3ea){throw new A(_0x33e6d5(0x5aa),_0x5cd3ea['toString']());}}async[a0_0x200bc3(0x717)](_0x14256c){const _0x292977=a0_0x200bc3;let _0xabb65a=_0x14256c?this[_0x292977(0x601)](_0x14256c):this['client']?.['user']?.['id'];this[_0x292977(0x593)]['verbose'](_0x292977(0x30f)+_0xabb65a);try{if(this[_0x292977(0x593)][_0x292977(0x6d7)](_0x292977(0x3be)),_0x14256c){let _0x319eb4=(await this[_0x292977(0x502)]({'numbers':[_0xabb65a]}))?.[_0x292977(0x640)](),_0x11ae1e=await this['profilePicture'](_0x319eb4?.[_0x292977(0x6a8)]),_0x41ffc3=await this[_0x292977(0x447)](_0x319eb4?.[_0x292977(0x6a8)]),_0x453dee=await this[_0x292977(0x35a)](_0x319eb4?.[_0x292977(0x6a8)]);return{'wuid':_0x319eb4?.[_0x292977(0x6a8)]||_0xabb65a,'name':_0x319eb4?.[_0x292977(0x31b)],'numberExists':_0x319eb4?.[_0x292977(0x47c)],'picture':_0x11ae1e?.[_0x292977(0x65f)],'status':_0x41ffc3?.['status'],'isBusiness':_0x453dee[_0x292977(0x2d6)],'email':_0x453dee?.[_0x292977(0x645)],'description':_0x453dee?.[_0x292977(0x5a3)],'website':_0x453dee?.[_0x292977(0x648)]?.[_0x292977(0x640)]()};}}catch{return this[_0x292977(0x593)][_0x292977(0x6d7)](_0x292977(0x1f8)),{'wuid':_0xabb65a,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x200bc3(0x382)](_0x5c3a2b){const _0x18f30c=a0_0x200bc3;let _0x2c839a=_0x5c3a2b?this[_0x18f30c(0x601)](_0x5c3a2b):this['client']?.[_0x18f30c(0x4ca)]?.['id'];this[_0x18f30c(0x593)]['verbose'](_0x18f30c(0x68b)+_0x2c839a);let _0x44c2c9=await Fe[_0x18f30c(0x1ed)]({'id':_0x2c839a}),_0x422c7d=_0x44c2c9?_0x44c2c9[_0x18f30c(0x4f1)]:null;try{let _0x3c490a=(await this[_0x18f30c(0x502)]({'numbers':[_0x2c839a]}))?.['shift'](),_0x4e364a=await this[_0x18f30c(0x779)](_0x3c490a?.['jid']),_0x4ee338=await this[_0x18f30c(0x447)](_0x3c490a?.[_0x18f30c(0x6a8)]),_0x5732c3=await this[_0x18f30c(0x35a)](_0x3c490a?.['jid']),_0x39e7b2={'imagechat':_0x4e364a?.[_0x18f30c(0x65f)],'contactname':_0x422c7d||null,'status':_0x4ee338?.['status'],'isBusiness':_0x5732c3[_0x18f30c(0x2d6)],'email':_0x5732c3?.[_0x18f30c(0x645)],'description':_0x5732c3?.[_0x18f30c(0x5a3)],'website':_0x5732c3?.[_0x18f30c(0x648)]?.['shift'](),'lastcache':Date[_0x18f30c(0x5f7)]()},_0x32c96d=await D[_0x18f30c(0x570)]({'id':_0x2c839a,'owner':this['instance'][_0x18f30c(0x42c)]},{'$set':_0x39e7b2,'$setOnInsert':{'name':_0x3c490a?.['name']||null}},{'upsert':!0x0,'new':!0x0});return _0x32c96d&&q(this[_0x18f30c(0x526)],_0x18f30c(0x64a),{'chat':_0x32c96d}),{'wuid':_0x3c490a?.[_0x18f30c(0x6a8)]||_0x2c839a,'name':_0x3c490a?.[_0x18f30c(0x31b)],'numberExists':_0x3c490a?.['exists'],'picture':_0x4e364a?.[_0x18f30c(0x65f)],'status':_0x4ee338?.[_0x18f30c(0x354)],'isBusiness':_0x5732c3[_0x18f30c(0x2d6)],'email':_0x5732c3?.[_0x18f30c(0x645)],'description':_0x5732c3?.['description'],'website':_0x5732c3?.[_0x18f30c(0x648)]?.['shift']()};}catch(_0x30e46b){return this['logger']['error'](_0x18f30c(0x212)+_0x30e46b),{};}}async[a0_0x200bc3(0x35a)](_0x45d1c4){const _0x5610a0=a0_0x200bc3;this[_0x5610a0(0x593)][_0x5610a0(0x6d7)](_0x5610a0(0x247));try{let _0x1587cf=_0x45d1c4?this['createJid'](_0x45d1c4):this[_0x5610a0(0x390)][_0x5610a0(0x42c)],_0x18e49b=await this['client'][_0x5610a0(0x28b)](_0x1587cf);return this['logger'][_0x5610a0(0x6d7)]('Trying\x20to\x20get\x20business\x20profile'),_0x18e49b?(this[_0x5610a0(0x593)][_0x5610a0(0x6d7)](_0x5610a0(0x1e0)),{'isBusiness':!0x0,..._0x18e49b}):{'isBusiness':!0x1,'message':_0x5610a0(0x34c),...(await this[_0x5610a0(0x502)]({'numbers':[_0x1587cf]}))?.[_0x5610a0(0x640)]()};}catch(_0xc3c560){throw new A(_0x5610a0(0x349),_0xc3c560[_0x5610a0(0x3d6)]());}}async[a0_0x200bc3(0x447)](_0x2452e6){const _0x2befd5=a0_0x200bc3;let _0x6d7a84=this[_0x2befd5(0x601)](_0x2452e6);try{return{'wuid':_0x6d7a84,'status':(await this[_0x2befd5(0x47f)][_0x2befd5(0x425)](_0x6d7a84))?.[_0x2befd5(0x354)]};}catch{return{'wuid':_0x6d7a84,'status':null};}}async[a0_0x200bc3(0x47b)](_0x3066f7){const _0x3f56a5=a0_0x200bc3;try{return await this[_0x3f56a5(0x47f)]['updateProfileName'](_0x3066f7),{'update':'success'};}catch(_0x386bab){throw new A(_0x3f56a5(0x349),_0x386bab[_0x3f56a5(0x3d6)]());}}async[a0_0x200bc3(0x4b2)](_0x1b2a30){const _0x1f0c41=a0_0x200bc3;try{return await this[_0x1f0c41(0x47f)]['updateProfileStatus'](_0x1b2a30),{'update':_0x1f0c41(0x6c0)};}catch(_0x21f107){throw new A(_0x1f0c41(0x68e),_0x21f107[_0x1f0c41(0x3d6)]());}}async[a0_0x200bc3(0x6bd)](_0x4919a4){const _0x11eb40=a0_0x200bc3;try{let _0x2319a6;if((0x0,k[_0x11eb40(0x775)])(_0x4919a4)){let _0x40b0a2=new Date()[_0x11eb40(0x728)](),_0x469a14=_0x4919a4+_0x11eb40(0x420)+_0x40b0a2;_0x2319a6=(await ue[_0x11eb40(0x2bb)]['get'](_0x469a14,{'responseType':'arraybuffer'}))[_0x11eb40(0x69b)];}else{if((0x0,k[_0x11eb40(0x3d7)])(_0x4919a4))_0x2319a6=Buffer['from'](_0x4919a4,_0x11eb40(0x692));else throw new g(_0x11eb40(0x5e3));}return await this[_0x11eb40(0x47f)]['updateProfilePicture'](this[_0x11eb40(0x390)][_0x11eb40(0x42c)],_0x2319a6),{'update':_0x11eb40(0x6c0)};}catch(_0x1db3b0){throw new A(_0x11eb40(0x265),_0x1db3b0[_0x11eb40(0x3d6)]());}}async[a0_0x200bc3(0x37f)](){const _0x2d3e3d=a0_0x200bc3;try{return await this[_0x2d3e3d(0x47f)][_0x2d3e3d(0x37f)](this[_0x2d3e3d(0x390)][_0x2d3e3d(0x42c)]),{'update':_0x2d3e3d(0x6c0)};}catch(_0x4902d2){throw new A('Error\x20removing\x20profile\x20picture',_0x4902d2[_0x2d3e3d(0x3d6)]());}}async['createGroup'](_0x1a5033){const _0x3fd12a=a0_0x200bc3;try{let _0x50e82a=_0x1a5033['participants'][_0x3fd12a(0x43b)](_0x22bd9a=>this[_0x3fd12a(0x601)](_0x22bd9a)),{id:_0x176387}=await this[_0x3fd12a(0x47f)]['groupCreate'](_0x1a5033['subject'],_0x50e82a);return _0x1a5033?.[_0x3fd12a(0x5a3)]&&await this[_0x3fd12a(0x47f)][_0x3fd12a(0x61c)](_0x176387,_0x1a5033[_0x3fd12a(0x5a3)]),{'metadata':await this[_0x3fd12a(0x47f)][_0x3fd12a(0x5fe)](_0x176387)};}catch(_0x1502ee){throw this[_0x3fd12a(0x593)][_0x3fd12a(0x22d)](this[_0x3fd12a(0x526)]+'\x20('+this['instance']['wuid']+_0x3fd12a(0x73e)+_0x1502ee),new A(_0x3fd12a(0x5a0),_0x1502ee[_0x3fd12a(0x3d6)]());}}async[a0_0x200bc3(0x542)](_0x187993){const _0x57098a=a0_0x200bc3;try{let _0xd01c6e;if((0x0,k[_0x57098a(0x775)])(_0x187993[_0x57098a(0x6d1)])){let _0x15af04=new Date()[_0x57098a(0x728)](),_0xb028ff=_0x187993['image']+'?timestamp='+_0x15af04;_0xd01c6e=(await ue[_0x57098a(0x2bb)][_0x57098a(0x313)](_0xb028ff,{'responseType':_0x57098a(0x1fc)}))[_0x57098a(0x69b)];}else{if((0x0,k[_0x57098a(0x3d7)])(_0x187993['image']))_0xd01c6e=Buffer['from'](_0x187993['image'],_0x57098a(0x692));else throw new g(_0x57098a(0x5e3));}return await this[_0x57098a(0x47f)][_0x57098a(0x6bd)](_0x187993[_0x57098a(0x1d2)],_0xd01c6e),{'update':'success'};}catch(_0x30d52){throw new A(_0x57098a(0x243),_0x30d52[_0x57098a(0x3d6)]());}}async[a0_0x200bc3(0x1db)](_0x45bef5,_0x433bb4=a0_0x200bc3(0x6dc)){const _0x5c2d75=a0_0x200bc3;try{let _0x1860e2=await this[_0x5c2d75(0x47f)][_0x5c2d75(0x5fe)](_0x45bef5[_0x5c2d75(0x1d2)]),_0x2759ea=null;try{_0x2759ea=await this['client'][_0x5c2d75(0x65f)](_0x45bef5[_0x5c2d75(0x1d2)],'image');}catch(_0x464d00){this[_0x5c2d75(0x593)][_0x5c2d75(0x6d7)](this['instanceName']+'\x20('+this[_0x5c2d75(0x390)][_0x5c2d75(0x42c)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x45bef5[_0x5c2d75(0x1d2)]+':\x20'+_0x464d00[_0x5c2d75(0x3d6)]());}let _0x2fa50f=await D[_0x5c2d75(0x570)]({'id':_0x45bef5[_0x5c2d75(0x1d2)],'owner':this[_0x5c2d75(0x390)][_0x5c2d75(0x42c)]},{'$set':{'imagechat':_0x2759ea,'name':_0x1860e2['subject'],'group_size':_0x1860e2['size'],'group_announce':_0x1860e2[_0x5c2d75(0x238)],'lastcache':Date[_0x5c2d75(0x5f7)]()}},{'new':!0x0,'upsert':!0x0});return _0x2fa50f&&q(this['instanceName'],_0x5c2d75(0x64a),{'chat':_0x2fa50f}),{'metadata':_0x1860e2,'image':_0x2759ea};}catch(_0x109c6e){if(_0x433bb4===_0x5c2d75(0x366))return;throw new x(_0x5c2d75(0x2f3),_0x109c6e[_0x5c2d75(0x3d6)]());}}async['groupDesc'](_0x491585){const _0x13e270=a0_0x200bc3;try{return await this['client'][_0x13e270(0x61c)](_0x491585[_0x13e270(0x1d2)],_0x491585[_0x13e270(0x5a3)]),{'update':'success'};}catch(_0x2dbf6d){throw new A(_0x13e270(0x1f0),_0x2dbf6d[_0x13e270(0x3d6)]());}}async['groupName'](_0x2e7f4b){const _0x20dae1=a0_0x200bc3;try{return await this['client'][_0x20dae1(0x6f3)](_0x2e7f4b['groupJid'],_0x2e7f4b['name']),{'update':_0x20dae1(0x6c0)};}catch(_0x245fb8){throw new A(_0x20dae1(0x4ff),_0x245fb8['toString']());}}async[a0_0x200bc3(0x203)](_0x587fde){const _0x2605b4=a0_0x200bc3;try{return await this['client'][_0x2605b4(0x435)](_0x587fde[_0x2605b4(0x1d2)],_0x587fde[_0x2605b4(0x234)]),{'update':_0x2605b4(0x6c0)};}catch(_0x59a237){throw new A(_0x2605b4(0x3ba),_0x59a237[_0x2605b4(0x3d6)]());}}async[a0_0x200bc3(0x2b9)](){const _0x25cab0=a0_0x200bc3;try{let _0x8f5ea6=[],_0x2dfbcb=await this['client'][_0x25cab0(0x621)](),_0x57c1ab=Object['values'](_0x2dfbcb),_0x3ebdac=_0x57c1ab['filter'](_0xb23f13=>(0x0,w['isJidGroup'])(_0xb23f13?.['id']))[_0x25cab0(0x43b)](async _0x550c2d=>{const _0x3e77bc=_0x25cab0;try{return await this[_0x3e77bc(0x47f)][_0x3e77bc(0x65f)](_0x550c2d['id'],'image');}catch(_0x5ded59){return this[_0x3e77bc(0x593)]['verbose'](this[_0x3e77bc(0x526)]+'\x20('+this[_0x3e77bc(0x390)][_0x3e77bc(0x42c)]+_0x3e77bc(0x1fe)+_0x550c2d['id']+':\x20'+_0x5ded59[_0x3e77bc(0x3d6)]()),null;}}),_0x1008e8=await Promise['all'](_0x3ebdac);for(let _0x22a158=0x0;_0x22a158<_0x57c1ab[_0x25cab0(0x306)];_0x22a158++){let _0x25f310=_0x57c1ab[_0x22a158];(0x0,w['isJidGroup'])(_0x25f310?.['id'])&&_0x8f5ea6[_0x25cab0(0x20a)]({'groupJid':_0x25f310?.['id'],'subject':_0x25f310?.[_0x25cab0(0x2b3)],'subjectOwner':_0x25f310?.[_0x25cab0(0x281)]?.[_0x25cab0(0x5a8)]('@')[0x0],'subjectTime':_0x25f310?.[_0x25cab0(0x4d6)],'size':_0x25f310?.['participants']?.['length'],'owner':_0x25f310?.['owner']?.['split']('@')[0x0],'creation':_0x25f310?.[_0x25cab0(0x574)],'desc':_0x25f310?.[_0x25cab0(0x72c)],'restrict':_0x25f310?.['restrict'],'announce':_0x25f310?.[_0x25cab0(0x238)],'image':_0x1008e8[_0x22a158]});}return _0x8f5ea6;}catch(_0x52a7fc){throw new x('Error\x20fetching\x20group',_0x52a7fc['toString']());}}async[a0_0x200bc3(0x314)](_0x599989){const _0x478f47=a0_0x200bc3;try{let _0x28e161=await this[_0x478f47(0x47f)]['groupInviteCode'](_0x599989[_0x478f47(0x1d2)]);return{'inviteUrl':'https://chat.whatsapp.com/'+_0x28e161,'inviteCode':_0x28e161};}catch(_0x5e2fcd){throw new x(_0x478f47(0x344),_0x5e2fcd['toString']());}}async[a0_0x200bc3(0x6de)](_0x5256d2){const _0x3dc151=a0_0x200bc3;try{let _0x1a453c=await this['client']['groupRevokeInvite'](_0x5256d2['groupJid']);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x1a453c,'inviteCode':_0x1a453c};}catch(_0x657bbd){throw new x(_0x3dc151(0x45a),_0x657bbd[_0x3dc151(0x3d6)]());}}async['joinGroup'](_0x468b4d){const _0x2f4bdf=a0_0x200bc3;try{if((0x0,k['isURL'])(_0x468b4d[_0x2f4bdf(0x314)]))var _0x187b9d=_0x468b4d[_0x2f4bdf(0x314)]['split']('/')[0x3];else var _0x187b9d=_0x468b4d[_0x2f4bdf(0x314)];let _0x415a1f=await this[_0x2f4bdf(0x47f)][_0x2f4bdf(0x295)](_0x187b9d);return this[_0x2f4bdf(0x593)][_0x2f4bdf(0x6d7)](this['instanceName']+'\x20('+this['instance'][_0x2f4bdf(0x42c)]+_0x2f4bdf(0x73e)+_0x415a1f),{'join':!0x0,'inviteCode':_0x187b9d,'groupJid':_0x415a1f};}catch(_0x2551d1){throw new x(_0x2f4bdf(0x2db),_0x2551d1[_0x2f4bdf(0x3d6)]());}}async[a0_0x200bc3(0x3d3)](_0x5436b5){const _0x45012f=a0_0x200bc3;try{return{'participants':(await this[_0x45012f(0x47f)][_0x45012f(0x5fe)](_0x5436b5['groupJid']))[_0x45012f(0x21d)]};}catch(_0x100a96){throw new x(_0x45012f(0x4a0),_0x100a96[_0x45012f(0x3d6)]());}}async[a0_0x200bc3(0x46b)](_0x29cba1){const _0x10a255=a0_0x200bc3;try{let _0x3fb163=_0x29cba1[_0x10a255(0x21d)][_0x10a255(0x43b)](_0x1048bc=>this['createJid'](_0x1048bc));return{'updateParticipants':await this[_0x10a255(0x47f)][_0x10a255(0x2c8)](_0x29cba1[_0x10a255(0x1d2)],_0x3fb163,_0x29cba1['action'])};}catch(_0x29b57d){throw new g(_0x10a255(0x588),_0x29b57d[_0x10a255(0x3d6)]());}}async[a0_0x200bc3(0x4e5)](_0x4f8f3d){const _0x290995=a0_0x200bc3;try{let _0x116269=await this[_0x290995(0x47f)][_0x290995(0x49f)](_0x4f8f3d['groupJid'],_0x4f8f3d['expiration']);return{'success':!0x0};}catch(_0x2eb8a7){throw new g(_0x290995(0x30c),_0x2eb8a7[_0x290995(0x3d6)]());}}async['leaveGroup'](_0x78c43b){const _0x266ac4=a0_0x200bc3;try{return await this[_0x266ac4(0x47f)][_0x266ac4(0x4da)](_0x78c43b[_0x266ac4(0x1d2)]),{'groupJid':_0x78c43b[_0x266ac4(0x1d2)],'leave':!0x0};}catch(_0x1d9e18){throw new g(_0x266ac4(0x495),_0x1d9e18[_0x266ac4(0x3d6)]());}}async['pollMessage'](_0x2ae52e){const _0x5e9b53=a0_0x200bc3;return await this[_0x5e9b53(0x68f)](_0x2ae52e[_0x5e9b53(0x370)],{'poll':{'name':_0x2ae52e[_0x5e9b53(0x6c2)]?.[_0x5e9b53(0x31b)],'selectableCount':_0x2ae52e[_0x5e9b53(0x6c2)]['selectableCount'],'values':_0x2ae52e[_0x5e9b53(0x6c2)]['values']}},_0x2ae52e?.['options']);}async['updateMessage'](_0x10ee2e,_0x2d444b,_0x4cfac6){const _0x55a839=a0_0x200bc3;if(await this[_0x55a839(0x69d)](_0x10ee2e,!0x0)){let _0x2b0a69={'where':{'key':{'id':_0x10ee2e['id'],'remoteJid':_0x2d444b,'fromMe':_0x10ee2e[_0x55a839(0x2cf)]},'owner':this[_0x55a839(0x390)][_0x55a839(0x42c)]}},_0x21d0d5={'status':[_0x4cfac6[_0x55a839(0x354)]][0x0]};try{let _0x4daef2=await this[_0x55a839(0x6eb)][_0x55a839(0x646)][_0x55a839(0x511)](_0x2b0a69,_0x21d0d5);_0x4daef2&&q(this[_0x55a839(0x526)],'messages',{'message':_0x4daef2});}catch{}}}['formatVCard'](_0xfcc96e){const _0x567119=a0_0x200bc3;let _0x685355=_0xfcc96e['replace'](/\\n/g,'\x0a')['split']('\x0a')[_0x567119(0x38d)](_0x553c7a=>_0x553c7a[_0x567119(0x46e)](_0x567119(0x31f))||_0x553c7a[_0x567119(0x46e)](_0x567119(0x2a7))),_0x3abfe5='';return _0x685355['forEach'](_0x438bba=>{const _0x581295=_0x567119;let _0x46809b=/TEL(?:.*):(.+)/,_0x5dce05=/EMAIL(?:.*):(.+)/,_0x3c7754=_0x438bba[_0x581295(0x4b8)](_0x46809b),_0x36732f=_0x438bba[_0x581295(0x4b8)](_0x5dce05);if(_0x3c7754){let _0x5c2e96=_0x3c7754[0x1][_0x581295(0x2c9)](/-| |\+|\(|\)/g,'')[_0x581295(0x2f8)]();_0x3abfe5+=_0x581295(0x416)+_0x5c2e96+'\x0a';}else{if(_0x36732f){let _0x369144=_0x36732f[0x1][_0x581295(0x2f8)]();_0x3abfe5+=_0x581295(0x235)+_0x369144+'\x0a';}}}),_0x3abfe5[_0x567119(0x2f8)]();}async[a0_0x200bc3(0x343)](_0x411236,_0x4e2fc5,_0x584e4b){const _0x2bd879=a0_0x200bc3;let _0xf81a03=_0x4e2fc5['key'][_0x2bd879(0x302)],_0x55fef5=_0x4e2fc5['key']['fromMe'],_0x3d33ab=_0xf81a03['endsWith'](_0x2bd879(0x2d7));if(!_0x411236[_0x2bd879(0x2ea)])return;let _0x12bfb5={'$set':{..._0x55fef5?{'unreadcount':0x0,'lastmsg':_0x4e2fc5[_0x2bd879(0x613)]||Date[_0x2bd879(0x5f7)]()}:{'lastmsg':_0x4e2fc5[_0x2bd879(0x613)]||Date[_0x2bd879(0x5f7)]()},..._0x55fef5||_0x3d33ab?{}:{'name':_0x4e2fc5[_0x2bd879(0x4f1)]}},'$setOnInsert':{'group':_0x3d33ab,'leadInfo.tags':[],'leadInfo.customFields':[],...!_0x55fef5&&!_0x3d33ab?{'leadInfo.nome':_0x4e2fc5['pushName']}:{}},..._0x55fef5?{}:{'$inc':{'unreadcount':0x1}}},_0x1b6de7={'new':!0x0,'upsert':!0x0,'setDefaultsOnInsert':!0x0},_0x5d97c5=await D[_0x2bd879(0x570)]({'id':_0xf81a03,'owner':this['instance'][_0x2bd879(0x42c)]},_0x12bfb5,_0x1b6de7);if(_0x5d97c5?(!_0x3d33ab&&(!_0x5d97c5[_0x2bd879(0x2c6)]||!_0x5d97c5[_0x2bd879(0x2c6)]['nome'])&&_0x4e2fc5['pushName']&&!_0x55fef5&&(_0x12bfb5={'$set':{'leadInfo.nome':_0x4e2fc5[_0x2bd879(0x4f1)]}},_0x5d97c5=await D[_0x2bd879(0x570)]({'id':_0xf81a03,'owner':this[_0x2bd879(0x390)][_0x2bd879(0x42c)]},_0x12bfb5,_0x1b6de7)),q(this[_0x2bd879(0x526)],_0x2bd879(0x64a),{'chat':_0x5d97c5})):this[_0x2bd879(0x593)][_0x2bd879(0x22d)](this['instanceName']+'\x20('+this[_0x2bd879(0x390)][_0x2bd879(0x42c)]+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat'),!this['AutomateSystem']?.[_0x2bd879(0x3ad)][_0x2bd879(0x603)])return this[_0x2bd879(0x593)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x2bd879(0x42c)]+'):\x20Flow\x20desativado'),null;if(_0x5d97c5['id'][_0x2bd879(0x46e)](_0x2bd879(0x2d7))&&this['AutomateSystem']?.[_0x2bd879(0x3ad)][_0x2bd879(0x40f)]===!0x0)return this[_0x2bd879(0x593)][_0x2bd879(0x6d7)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2bd879(0x569)),null;if(_0x5d97c5['leadInfo']){if(_0x5d97c5[_0x2bd879(0x2c6)]['desativadoFluxoAte']===0x0||_0x5d97c5[_0x2bd879(0x2c6)][_0x2bd879(0x61b)])return this[_0x2bd879(0x593)][_0x2bd879(0x6d7)](this[_0x2bd879(0x526)]+'\x20('+this['instance']['wuid']+_0x2bd879(0x4fe)+_0xf81a03+',\x20saindo.'),null;if(_0x5d97c5['leadInfo'][_0x2bd879(0x773)]>Date[_0x2bd879(0x5f7)]())return this[_0x2bd879(0x593)][_0x2bd879(0x6d7)](this[_0x2bd879(0x526)]+'\x20('+this[_0x2bd879(0x390)][_0x2bd879(0x42c)]+_0x2bd879(0x468)+new Date(_0x5d97c5[_0x2bd879(0x2c6)][_0x2bd879(0x773)])['toLocaleString']()+_0x2bd879(0x59d)),null;}this[_0x2bd879(0x593)][_0x2bd879(0x6d7)](this[_0x2bd879(0x526)]+'\x20('+this['instance'][_0x2bd879(0x42c)]+_0x2bd879(0x488)),this[_0x2bd879(0x48a)](_0x584e4b,_0x4e2fc5,this['instance']['wuid']);}async[a0_0x200bc3(0x58c)](){const _0x4630d5=a0_0x200bc3;let _0x15f0bd=await this[_0x4630d5(0x6eb)][_0x4630d5(0x5ef)][_0x4630d5(0x487)]({'where':{'owner':this[_0x4630d5(0x390)][_0x4630d5(0x42c)]}}),_0x49d40c=0x0,_0x40b64e=[];for(let _0xd18f74 of _0x15f0bd)_0x40b64e['push']({'updateOne':{'filter':{'id':_0xd18f74['id'],'owner':this[_0x4630d5(0x390)][_0x4630d5(0x42c)]},'update':{'$set':{'contactname':_0xd18f74[_0x4630d5(0x4f1)]}}}}),_0x40b64e['length']===0x1f4&&(_0x49d40c+=await this[_0x4630d5(0x54d)](_0x40b64e),_0x40b64e=[]);_0x40b64e[_0x4630d5(0x306)]>0x0&&(_0x49d40c+=await this[_0x4630d5(0x54d)](_0x40b64e)),this['logger'][_0x4630d5(0x6d7)](this[_0x4630d5(0x526)]+'\x20('+this[_0x4630d5(0x390)][_0x4630d5(0x42c)]+_0x4630d5(0x73e)+_0x49d40c+_0x4630d5(0x650)+this[_0x4630d5(0x390)][_0x4630d5(0x42c)]+'\x20foram\x20adicionados\x20\x22contactname\x22\x20');}async[a0_0x200bc3(0x54d)](_0x5032b1){const _0x2a4fb9=a0_0x200bc3;return(await D['bulkWrite'](_0x5032b1))[_0x2a4fb9(0x394)];}async[a0_0x200bc3(0x1c1)](_0x42d8ca,_0x50b563){const _0x23720c=a0_0x200bc3;if(_0x50b563['ENABLED']){let _0x4e79c4=_0x42d8ca[_0x23720c(0x43b)](async _0x258ed6=>{const _0x2e969d=_0x23720c;try{let _0x74083a={'$set':{'id':_0x258ed6['id'],'owner':_0x258ed6['owner'],'lastcache':0x0}};if(_0x258ed6['group']!==null&&(_0x74083a[_0x2e969d(0x5b0)][_0x2e969d(0x5d7)]=_0x258ed6[_0x2e969d(0x5d7)]),_0x258ed6[_0x2e969d(0x31b)]!==null&&(_0x74083a['$set'][_0x2e969d(0x31b)]=_0x258ed6[_0x2e969d(0x31b)]),_0x258ed6['contactname']!==null&&(_0x74083a[_0x2e969d(0x5b0)][_0x2e969d(0x6d6)]=_0x258ed6[_0x2e969d(0x6d6)]),_0x258ed6[_0x2e969d(0x5b1)]!==null&&(_0x74083a['$set'][_0x2e969d(0x5b1)]=_0x258ed6['imagechat']),_0x258ed6[_0x2e969d(0x5b1)]===null&&(_0x74083a[_0x2e969d(0x5b0)][_0x2e969d(0x5b1)]=_0x2e969d(0x351)),_0x258ed6[_0x2e969d(0x267)]!==null&&(_0x74083a[_0x2e969d(0x5b0)][_0x2e969d(0x267)]=_0x258ed6[_0x2e969d(0x267)]),_0x258ed6[_0x2e969d(0x53f)]!==null&&(_0x74083a[_0x2e969d(0x5b0)][_0x2e969d(0x53f)]=_0x258ed6[_0x2e969d(0x53f)]),_0x258ed6[_0x2e969d(0x6d0)]!==null&&(_0x74083a[_0x2e969d(0x5b0)][_0x2e969d(0x6d0)]=_0x258ed6[_0x2e969d(0x6d0)]),Object[_0x2e969d(0x72a)](_0x74083a[_0x2e969d(0x5b0)])[_0x2e969d(0x306)]>0x0)return await D[_0x2e969d(0x570)]({'id':_0x258ed6['id'],'owner':_0x258ed6[_0x2e969d(0x332)]},_0x74083a,{'new':!0x0,'upsert':!0x0});}catch(_0x1e46c5){return console['error'](_0x2e969d(0x20d)+_0x258ed6['id']+':',_0x1e46c5),null;}}),_0x34a6ff=(await Promise[_0x23720c(0x33d)](_0x4e79c4))[_0x23720c(0x38d)](_0x2e22a9=>_0x2e22a9!==null)[_0x23720c(0x306)];this[_0x23720c(0x593)][_0x23720c(0x6d7)](this[_0x23720c(0x526)]+'\x20('+this[_0x23720c(0x390)]['wuid']+'):\x20'+_0x34a6ff+'\x20chats\x20de\x20'+this[_0x23720c(0x390)][_0x23720c(0x42c)]+_0x23720c(0x6c3));}}async[a0_0x200bc3(0x597)](_0x2de11d){const _0x4d5f61=a0_0x200bc3;this[_0x4d5f61(0x593)][_0x4d5f61(0x6d7)](this[_0x4d5f61(0x526)]+'\x20('+this[_0x4d5f61(0x390)][_0x4d5f61(0x42c)]+_0x4d5f61(0x771));let _0x54e2e6={'readMessages':[{'remoteJid':_0x2de11d[_0x4d5f61(0x429)][_0x4d5f61(0x6d4)][_0x4d5f61(0x781)]['remoteJid'],'fromMe':_0x2de11d[_0x4d5f61(0x429)]['lastReceivedMessage'][_0x4d5f61(0x781)][_0x4d5f61(0x2cf)],'id':_0x2de11d['chatLog'][_0x4d5f61(0x6d4)][_0x4d5f61(0x781)]['id']}]};await this[_0x4d5f61(0x6fa)](_0x54e2e6);}async['StartBot'](_0x3010c7,_0xd8cdf5,_0x2c8f6c){const _0x7cb0c8=a0_0x200bc3;try{let {key:_0x1a695b,message_normalized:_0xe06962}=_0xd8cdf5,_0x117af1=_0xe06962,_0x216b20=_0xe06962[_0x7cb0c8(0x5f4)]||_0xe06962[_0x7cb0c8(0x76f)]||_0xe06962[_0x7cb0c8(0x6db)]||_0xe06962[_0x7cb0c8(0x31b)],_0x519697=_0x1a695b[_0x7cb0c8(0x302)],_0x2e0e1d;if(_0x117af1[_0x7cb0c8(0x781)][_0x7cb0c8(0x2cf)]&&_0x216b20[_0x7cb0c8(0x2f8)]()!==this[_0x7cb0c8(0x582)]?.['flowConfig'][_0x7cb0c8(0x22e)][_0x7cb0c8(0x2f8)]())return this['logger'][_0x7cb0c8(0x6d7)](this[_0x7cb0c8(0x526)]+'\x20('+this['instance'][_0x7cb0c8(0x42c)]+_0x7cb0c8(0x5c1)),null;if(_0x117af1[_0x7cb0c8(0x781)]['fromMe']&&_0x216b20[_0x7cb0c8(0x2f8)]()===this['AutomateSystem']?.[_0x7cb0c8(0x3ad)]['stopConversation'][_0x7cb0c8(0x2f8)]()){this['logger']['verbose'](this[_0x7cb0c8(0x526)]+'\x20('+this[_0x7cb0c8(0x390)][_0x7cb0c8(0x42c)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo');let _0x8909ab=await F['find']({'owner':_0x2c8f6c,'remoteJid':_0x519697,'status':_0x7cb0c8(0x5b4)});this[_0x7cb0c8(0x593)][_0x7cb0c8(0x6d7)](this[_0x7cb0c8(0x526)]+'\x20('+this[_0x7cb0c8(0x390)][_0x7cb0c8(0x42c)]+'):\x20Conversas\x20encontradas:'+_0x8909ab);let _0xfc2d07=Date[_0x7cb0c8(0x5f7)](),_0x31018c;return this['AutomateSystem']?.['flowConfig'][_0x7cb0c8(0x2c3)]===0x0?_0x31018c={'stoppedUntil':_0xfc2d07+0x7591f6200}:_0x31018c={'stoppedUntil':_0xfc2d07+this[_0x7cb0c8(0x582)]?.[_0x7cb0c8(0x3ad)][_0x7cb0c8(0x2c3)]*0x3c*0x3e8},this['logger'][_0x7cb0c8(0x6d7)](this[_0x7cb0c8(0x526)]+'\x20('+this['instance'][_0x7cb0c8(0x42c)]+'):\x20Campos\x20a\x20serem\x20atualizados:'+_0x31018c),this['updateStopChat'](_0x2e0e1d,_0x31018c[_0x7cb0c8(0x766)]),null;}if(_0x216b20&&_0x216b20['startsWith'](this['AutomateSystem']?.['flowConfig'][_0x7cb0c8(0x615)])&&_0x216b20[_0x7cb0c8(0x306)]>0x4){let _0x2964ec=await I['findOne']({'owner':_0x2c8f6c,'startCommandWord':_0x216b20});if(this[_0x7cb0c8(0x593)][_0x7cb0c8(0x6d7)](this[_0x7cb0c8(0x526)]+'\x20('+this[_0x7cb0c8(0x390)][_0x7cb0c8(0x42c)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x2964ec)_0x2e0e1d=await this[_0x7cb0c8(0x730)](_0x2964ec,_0x117af1[_0x7cb0c8(0x781)],_0x117af1);else return this[_0x7cb0c8(0x593)][_0x7cb0c8(0x6d7)](this[_0x7cb0c8(0x526)]+'\x20('+this['instance'][_0x7cb0c8(0x42c)]+_0x7cb0c8(0x538)),null;}else _0x2e0e1d=await this['findConversation'](_0x2c8f6c,_0x519697,_0x117af1);if(_0x2e0e1d){this[_0x7cb0c8(0x593)]['verbose'](this[_0x7cb0c8(0x526)]+'\x20('+this[_0x7cb0c8(0x390)][_0x7cb0c8(0x42c)]+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x1a695b[_0x7cb0c8(0x2cf)]&&_0x2e0e1d[_0x7cb0c8(0x1bb)]&&this[_0x7cb0c8(0x597)](_0x2e0e1d);let _0x1352a1=await this['NextBlock'](_0x2e0e1d);_0x1352a1&&await this[_0x7cb0c8(0x391)](_0x2e0e1d,_0x1352a1,_0x2e0e1d['remoteJid']);}}catch(_0x2214a5){this[_0x7cb0c8(0x593)]['error'](this[_0x7cb0c8(0x526)]+'\x20('+this[_0x7cb0c8(0x390)][_0x7cb0c8(0x42c)]+_0x7cb0c8(0x543)+_0x2214a5);}}[a0_0x200bc3(0x637)](_0x26ee54,_0x4bf818='',_0x298af4={},_0x286edb=!0x0){const _0x227fbb=a0_0x200bc3;for(let _0x2c2dea in _0x26ee54){let _0x5e8b4d=_0x286edb?'_'+_0x2c2dea:''+_0x4bf818+_0x2c2dea;typeof _0x26ee54[_0x2c2dea]==_0x227fbb(0x29a)&&_0x26ee54[_0x2c2dea]!==null?this[_0x227fbb(0x637)](_0x26ee54[_0x2c2dea],_0x5e8b4d+'.',_0x298af4,!0x1):_0x298af4[_0x5e8b4d]=_0x26ee54[_0x2c2dea];}return _0x298af4;}['variablesToObject'](_0x188ee5){const _0x3f8979=a0_0x200bc3;let _0x15996d={};for(let _0x5c909a of _0x188ee5)typeof _0x5c909a[_0x3f8979(0x31b)]=='string'&&typeof _0x5c909a[_0x3f8979(0x5ec)]==_0x3f8979(0x40e)&&(_0x15996d[_0x5c909a[_0x3f8979(0x31b)]]=_0x5c909a[_0x3f8979(0x5ec)]);return _0x15996d;}async[a0_0x200bc3(0x70d)](_0x3937b3){const _0x4d344f=a0_0x200bc3;if(!this['AutomateSystem']?.[_0x4d344f(0x3ad)][_0x4d344f(0x603)]||_0x3937b3['status']!==_0x4d344f(0x5b4)&&_0x3937b3['waitingPoll_id']==='')return null;let _0x5c0b72=_0x3937b3[_0x4d344f(0x429)]['lastBlockId']||'start';typeof _0x3937b3[_0x4d344f(0x429)]['lastCondition']>'u'&&(_0x3937b3[_0x4d344f(0x429)]['lastCondition']=!0x0);let _0x53e11f=_0x3937b3[_0x4d344f(0x429)][_0x4d344f(0x24a)];this['logger'][_0x4d344f(0x6d7)](this['instanceName']+'\x20('+this[_0x4d344f(0x390)][_0x4d344f(0x42c)]+_0x4d344f(0x6e6)+_0x5c0b72+_0x4d344f(0x71b)+_0x53e11f);let _0x3e470f=_0x5c0b72===_0x4d344f(0x360)?_0x3937b3['blocks'][_0x4d344f(0x487)](_0x2453b8=>_0x2453b8[_0x4d344f(0x757)]===_0x4d344f(0x360)):_0x3937b3['blocks']['find'](_0x11e4cf=>_0x11e4cf[_0x4d344f(0x54e)][_0x4d344f(0x3d6)]()===_0x5c0b72[_0x4d344f(0x3d6)]());if(!_0x3e470f)return this[_0x4d344f(0x593)]['error'](this['instanceName']+'\x20('+this[_0x4d344f(0x390)]['wuid']+_0x4d344f(0x6d9)+_0x5c0b72),null;let _0x4b21db={'_pushName':_0x3937b3[_0x4d344f(0x429)][_0x4d344f(0x6d4)][_0x4d344f(0x4f1)],..._0x3937b3[_0x4d344f(0x429)]['realVariables']},_0x5b9a99=null;if(_0x3937b3[_0x4d344f(0x735)]){let _0x3fcba6=_0x3937b3['chatLog']['lastReceivedMessage'][_0x4d344f(0x6db)],_0x58b16b=_0x3937b3[_0x4d344f(0x669)]['find'](_0x1007ef=>_0x1007ef[_0x4d344f(0x5ab)]===_0x3fcba6);if(_0x58b16b){let _0x7f5fb4=_0x58b16b['next_groupId'];if(_0x5b9a99=_0x3937b3['blocks'][_0x4d344f(0x487)](_0x51dfe2=>_0x51dfe2['groupId']===_0x7f5fb4&&_0x51dfe2[_0x4d344f(0x1d6)]===0x1),_0x3e470f[_0x4d344f(0x4b7)][_0x4d344f(0x482)]){let _0x2c9e79={'id':_0x3937b3[_0x4d344f(0x735)],'remoteJid':_0x3937b3[_0x4d344f(0x302)],'fromMe':!0x0};await this['deleteMessage'](_0x2c9e79);}if(_0x3e470f['uazapi'][_0x4d344f(0x482)]&&_0x3e470f[_0x4d344f(0x4b7)][_0x4d344f(0x381)]){let _0x4a82b8={'number':_0x3937b3[_0x4d344f(0x302)],'options':{'delay':0x0},'textMessage':{'text':_0x4d344f(0x341)+_0x3937b3[_0x4d344f(0x60f)]+_0x4d344f(0x5cb)+_0x3fcba6}};await this[_0x4d344f(0x72b)](_0x4a82b8);}_0x3937b3[_0x4d344f(0x354)]=_0x4d344f(0x5b4),_0x3937b3[_0x4d344f(0x735)]='',_0x3937b3[_0x4d344f(0x60f)]='',_0x3937b3[_0x4d344f(0x669)]=[];}else{this[_0x4d344f(0x593)][_0x4d344f(0x6d7)](this[_0x4d344f(0x526)]+'\x20('+this[_0x4d344f(0x390)]['wuid']+_0x4d344f(0x67d));let _0x439cae={'activatedCount':_0x3937b3['chatLog'][_0x4d344f(0x520)][_0x4d344f(0x38d)](_0x2a82e4=>String(_0x2a82e4[_0x4d344f(0x3d5)])===String(_0x5c0b72))[_0x4d344f(0x306)],'moreLogs':[_0x4d344f(0x2bf)]};if(_0x3e470f[_0x4d344f(0x4b7)][_0x4d344f(0x227)]){let _0x3b699a={'number':_0x3937b3['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x3e470f['uazapi'][_0x4d344f(0x227)]}};await this[_0x4d344f(0x72b)](_0x3b699a);}if(_0x3e470f['maxActives']!==void 0x0&&_0x439cae[_0x4d344f(0x549)]>=_0x3e470f['maxActives']){let _0x2488a1=Date[_0x4d344f(0x5f7)](),_0x4f45a7=_0x3e470f[_0x4d344f(0x727)]??0xa;isNaN(_0x4f45a7)&&(_0x4f45a7=0xa);let _0x43835c=_0x2488a1+_0x4f45a7*0x3c*0x3e8;_0x439cae[_0x4d344f(0x69a)]=_0x43835c,_0x439cae[_0x4d344f(0x736)]['push'](_0x4d344f(0x5c4)),this['updateStopChat'](_0x3937b3,_0x43835c),_0x3937b3[_0x4d344f(0x735)]='',_0x3937b3[_0x4d344f(0x60f)]='',_0x3937b3[_0x4d344f(0x669)]=[];}return this['updateConversation'](_0x3937b3,_0x3e470f,_0x439cae,!0x0),null;}}if(_0x53e11f&&_0x3e470f[_0x4d344f(0x31d)]&&!_0x3937b3[_0x4d344f(0x735)]){let _0x28db76=_0x3937b3[_0x4d344f(0x4d3)]['filter'](_0x1c8b16=>_0x1c8b16[_0x4d344f(0x2ed)][_0x4d344f(0x3d6)]()===_0x3e470f[_0x4d344f(0x31d)][_0x4d344f(0x3d6)]())[_0x4d344f(0x2e2)]((_0x1faaef,_0x22d5ff)=>_0x1faaef[_0x4d344f(0x1d6)]-_0x22d5ff[_0x4d344f(0x1d6)]);_0x28db76[_0x4d344f(0x306)]>0x0&&(_0x5b9a99=_0x28db76[0x0]);}if(!_0x5b9a99){let _0x20409e=_0x3e470f[_0x4d344f(0x2ed)],_0x216746=_0x3937b3[_0x4d344f(0x4d3)]['filter'](_0x1fdf24=>_0x1fdf24[_0x4d344f(0x2ed)]===_0x20409e&&_0x1fdf24['order']>_0x3e470f['order'])[_0x4d344f(0x2e2)]((_0x1f02c4,_0x366f1b)=>_0x1f02c4[_0x4d344f(0x1d6)]-_0x366f1b[_0x4d344f(0x1d6)]);_0x216746[_0x4d344f(0x306)]>0x0&&(_0x5b9a99=_0x216746[0x0]);}if(!_0x5b9a99)return _0x3937b3[_0x4d344f(0x354)]='closed',null;_0x3937b3[_0x4d344f(0x429)][_0x4d344f(0x3ae)]=_0x4b21db;let _0x33f18c=JSON[_0x4d344f(0x654)](JSON[_0x4d344f(0x76b)](_0x5b9a99));return this[_0x4d344f(0x670)](_0x33f18c,_0x3937b3[_0x4d344f(0x429)][_0x4d344f(0x3ae)]),_0x3937b3[_0x4d344f(0x429)][_0x4d344f(0x510)]=_0x33f18c[_0x4d344f(0x54e)],_0x3937b3[_0x4d344f(0x429)]['lastCondition']=!0x0,_0x33f18c;}[a0_0x200bc3(0x335)](_0x1b119f,_0x34ebca){const _0xfc4b08=a0_0x200bc3;return _0x1b119f[_0xfc4b08(0x2c9)](/\{\{([^}]+)\}\}/g,(_0x3ebaef,_0x10ae56)=>_0x34ebca[_0x10ae56]||'');}['replaceVariablesInObject'](_0x57ad21,_0x414768){const _0x5cf1a7=a0_0x200bc3;for(let _0x4ef965 in _0x57ad21)typeof _0x57ad21[_0x4ef965]==_0x5cf1a7(0x40e)?_0x57ad21[_0x4ef965]=this['replaceVariables'](_0x57ad21[_0x4ef965],_0x414768):typeof _0x57ad21[_0x4ef965]==_0x5cf1a7(0x29a)&&this['replaceVariablesInObject'](_0x57ad21[_0x4ef965],_0x414768);}async['goNextblock'](_0x45549b,_0x7e7f39){const _0x277005=a0_0x200bc3;let _0xe318cb=_0x7e7f39[_0x277005(0x54e)];if(_0x45549b[_0x277005(0x429)]&&_0x45549b[_0x277005(0x429)][_0x277005(0x520)]){let _0x1b4a6c=_0x45549b[_0x277005(0x429)][_0x277005(0x520)][_0x277005(0x38d)](_0x57d1b7=>String(_0x57d1b7[_0x277005(0x3d5)])===String(_0xe318cb))[_0x277005(0x338)]();if(_0x1b4a6c&&_0x1b4a6c[_0x277005(0x22d)]&&_0x7e7f39['stopIfLastReturnedError'])return _0x45549b['status']='closed',await this[_0x277005(0x558)](_0x45549b),null;}if(_0x7e7f39[_0x277005(0x757)]===_0x277005(0x4b7)&&_0x7e7f39[_0x277005(0x4b7)][_0x277005(0x393)]===_0x277005(0x6d5)&&_0x45549b[_0x277005(0x735)])return _0x45549b['chatLog'][_0x277005(0x510)]=_0xe318cb,await this[_0x277005(0x558)](_0x45549b),null;let _0x46a88a=await this[_0x277005(0x70d)](_0x45549b);if(_0x45549b[_0x277005(0x429)]&&_0x45549b[_0x277005(0x429)][_0x277005(0x520)]){let _0xd2dc84=_0x45549b[_0x277005(0x429)][_0x277005(0x520)]['filter'](_0x374304=>String(_0x374304[_0x277005(0x3d5)])===String(_0xe318cb))[_0x277005(0x306)];if(_0x7e7f39[_0x277005(0x25c)]!==void 0x0&&_0xd2dc84>=_0x7e7f39[_0x277005(0x25c)]){let _0x46d3b2=Date[_0x277005(0x5f7)](),_0x5e5f01=_0x7e7f39['stopMinutesMaxActives']??0xa;isNaN(_0x5e5f01)&&(_0x5e5f01=0xa);let _0x213559=_0x46d3b2+_0x5e5f01*0x3c*0x3e8,_0x411ed8={'newStoppedUntil':_0x213559};return this[_0x277005(0x45c)](_0x45549b,_0x213559),this['updateConversation'](_0x45549b,_0x7e7f39,_0x411ed8,!0x0),null;}}_0x46a88a&&_0x46a88a[_0x277005(0x757)]!==_0x277005(0x660)&&await this[_0x277005(0x391)](_0x45549b,_0x46a88a,_0x45549b[_0x277005(0x302)]),_0x46a88a||await this[_0x277005(0x558)](_0x45549b),_0x46a88a&&_0x46a88a['type']===_0x277005(0x660)&&(_0x45549b[_0x277005(0x429)][_0x277005(0x510)]=_0xe318cb,await this[_0x277005(0x558)](_0x45549b));}async['processblock'](_0x261619,_0x1fae54,_0x327eb6){const _0x37a79c=a0_0x200bc3;try{let _0x11d200=_0x1fae54[_0x37a79c(0x757)];this[_0x37a79c(0x593)][_0x37a79c(0x6d7)](this['instanceName']+'\x20('+this['instance'][_0x37a79c(0x42c)]+_0x37a79c(0x6e4)+_0x11d200);let _0x752eb2={'uazapi':()=>this['processUazapi'](_0x261619,_0x1fae54,_0x327eb6),'save':()=>this[_0x37a79c(0x797)](_0x261619,_0x1fae54),'stop':()=>this[_0x37a79c(0x22e)](_0x261619,_0x1fae54),'condition':()=>this[_0x37a79c(0x209)](_0x261619,_0x1fae54),'varedit':()=>this[_0x37a79c(0x225)](_0x261619,_0x1fae54),'apirequest':()=>this[_0x37a79c(0x28f)](_0x261619,_0x1fae54),'goToFlow':()=>this[_0x37a79c(0x539)](_0x261619,_0x1fae54)}[_0x11d200];_0x752eb2&&await _0x752eb2();}catch(_0x107d5f){this[_0x37a79c(0x593)][_0x37a79c(0x22d)](this['instanceName']+'\x20('+this[_0x37a79c(0x390)]['wuid']+_0x37a79c(0x50b)+_0x107d5f);}}async['processgoToFlow'](_0x44d945,_0x35b153){const _0x25314f=a0_0x200bc3;if(this[_0x25314f(0x593)]['verbose'](this[_0x25314f(0x526)]+'\x20('+this['instance'][_0x25314f(0x42c)]+_0x25314f(0x41f)),!_0x44d945||!_0x35b153)return this['logger'][_0x25314f(0x22d)](this[_0x25314f(0x526)]+'\x20('+this[_0x25314f(0x390)][_0x25314f(0x42c)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0x25314f(0x699)](_0x44d945,_0x35b153,{},!0x0,!0x0),console[_0x25314f(0x23f)](_0x25314f(0x2eb)),console[_0x25314f(0x23f)](_0x35b153);let _0x2bc54e=_0x35b153[_0x25314f(0x49a)];console[_0x25314f(0x23f)](_0x25314f(0x6e0),_0x2bc54e),_0x44d945=await this[_0x25314f(0x78f)](_0x2bc54e,_0x44d945[_0x25314f(0x302)],_0x44d945[_0x25314f(0x429)][_0x25314f(0x3ae)]),this[_0x25314f(0x593)][_0x25314f(0x6d7)](this[_0x25314f(0x526)]+'\x20('+this[_0x25314f(0x390)][_0x25314f(0x42c)]+_0x25314f(0x740));let _0x5d9c53=await this[_0x25314f(0x70d)](_0x44d945);_0x5d9c53&&await this[_0x25314f(0x391)](_0x44d945,_0x5d9c53,_0x44d945[_0x25314f(0x302)]);}async['createConversationforgoToFlow'](_0x2ab8aa,_0xb0e82e,_0x15be2b){const _0x5c19a6=a0_0x200bc3;this['logger'][_0x5c19a6(0x6d7)](this[_0x5c19a6(0x526)]+'\x20('+this[_0x5c19a6(0x390)]['wuid']+_0x5c19a6(0x1d1));try{if(_0x2ab8aa=await I[_0x5c19a6(0x1ed)]({'owner':this['instance'][_0x5c19a6(0x42c)],'name':_0x2ab8aa}),!_0x2ab8aa)return this[_0x5c19a6(0x593)]['error'](this['instanceName']+'\x20('+this[_0x5c19a6(0x390)]['wuid']+_0x5c19a6(0x6f9)),null;let _0x44cb2b=require(_0x5c19a6(0x23b))[_0x5c19a6(0x479)],_0x40e1f4=Date[_0x5c19a6(0x5f7)](),_0x7a08ce=_0x5c19a6(0x360),_0x5ac3ca={},_0x425aad={},_0x483583={..._0x2ab8aa[_0x5c19a6(0x2d3)],'chatLog':null},_0x218a41={'lastReceivedMessage':_0x5ac3ca,'lastSendMessage':_0x425aad,'lastBlockId':_0x7a08ce,'lastCondition':!0x0,'realVariables':_0x15be2b};_0x483583['chatLog']=_0x218a41,_0x483583[_0x5c19a6(0x429)][_0x5c19a6(0x3ae)]={..._0x15be2b},delete _0x483583['_id'],_0x483583['_id']=new _0x44cb2b(),_0x483583[_0x5c19a6(0x4cb)]=_0x40e1f4,_0x483583[_0x5c19a6(0x354)]='open',_0x483583[_0x5c19a6(0x302)]=_0xb0e82e;let _0x5b71c4=await F[_0x5c19a6(0x57d)](_0x483583);return this[_0x5c19a6(0x593)][_0x5c19a6(0x6d7)](this[_0x5c19a6(0x526)]+'\x20('+this['instance'][_0x5c19a6(0x42c)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x5b71c4?_0x483583:null;}catch(_0x5e8172){throw this['logger'][_0x5c19a6(0x22d)](this['instanceName']+'\x20('+this[_0x5c19a6(0x390)][_0x5c19a6(0x42c)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+_0x5e8172),new g(_0x5e8172['message']);}}async[a0_0x200bc3(0x28f)](_0x5f41b5,_0x1dff1b){const _0x1e5261=a0_0x200bc3;let _0x19d928,_0x1350d1;try{let _0x2a0886=_0x1dff1b[_0x1e5261(0x3fb)];if(!_0x2a0886||!_0x2a0886[_0x1e5261(0x205)]||!_0x2a0886[_0x1e5261(0x755)])throw new Error(_0x1e5261(0x2a9));let _0x3e4399={'method':_0x2a0886[_0x1e5261(0x755)],'url':_0x2a0886['url'],'headers':_0x2a0886['header']||{},'data':_0x2a0886[_0x1e5261(0x4ea)]||{}};_0x19d928=(await(0x0,ue['default'])(_0x3e4399))[_0x1e5261(0x69b)];let _0x11196c=_0x5f41b5[_0x1e5261(0x429)]['realVariables'],_0x1f1ace=this[_0x1e5261(0x637)](_0x19d928);return Object[_0x1e5261(0x4b0)](_0x11196c,_0x1f1ace),_0x5f41b5['chatLog']['realVariables']=_0x11196c,_0x1350d1={'error':!0x1,'apiResponse':_0x19d928},this[_0x1e5261(0x699)](_0x5f41b5,_0x1dff1b,_0x1350d1),_0x19d928;}catch(_0x520e24){console[_0x1e5261(0x22d)](_0x1e5261(0x27c),_0x520e24),_0x520e24['response']&&(_0x19d928=_0x520e24[_0x1e5261(0x437)][_0x1e5261(0x69b)]);let _0x4e2110=_0x5f41b5[_0x1e5261(0x429)][_0x1e5261(0x3ae)],_0x2ed67a=this[_0x1e5261(0x637)](_0x19d928);return Object[_0x1e5261(0x4b0)](_0x4e2110,_0x2ed67a),_0x5f41b5[_0x1e5261(0x429)][_0x1e5261(0x3ae)]=_0x4e2110,_0x1350d1={'error':!0x0,'errorLog':_0x520e24[_0x1e5261(0x3d6)](),'apiResponse':_0x19d928},this[_0x1e5261(0x699)](_0x5f41b5,_0x1dff1b,_0x1350d1),{'success':!0x1};}}[a0_0x200bc3(0x623)](_0x155f02,_0x5eebe1){const _0x3f920d=a0_0x200bc3;let _0xa6b623=_0x3bbb2e=>{const _0x8c7bb3=a0_0x3e29;let _0x3e52af=_0x3bbb2e[_0x8c7bb3(0x2c9)](/[^0-9.,-]/g,'')['replace'](',','.'),_0xe20817=parseFloat(_0x3e52af);return isNaN(_0xe20817)?null:_0xe20817;},_0x14f369=_0x5eebe1[_0x3f920d(0x1dc)],_0x105a85=_0x5eebe1[_0x3f920d(0x357)];typeof _0x14f369=='string'&&(_0x14f369=this[_0x3f920d(0x335)](_0x14f369,_0x155f02[_0x3f920d(0x429)]['realVariables'])??''),typeof _0x105a85=='string'&&(_0x105a85=this[_0x3f920d(0x335)](_0x105a85,_0x155f02[_0x3f920d(0x429)][_0x3f920d(0x3ae)])??'');let _0x59e684=null;if(!_0x14f369||!_0x5eebe1[_0x3f920d(0x664)])return null;switch(this[_0x3f920d(0x593)][_0x3f920d(0x6d7)](this[_0x3f920d(0x526)]+'\x20('+this[_0x3f920d(0x390)][_0x3f920d(0x42c)]+_0x3f920d(0x595)+_0x14f369),this[_0x3f920d(0x593)][_0x3f920d(0x6d7)](this[_0x3f920d(0x526)]+'\x20('+this[_0x3f920d(0x390)][_0x3f920d(0x42c)]+_0x3f920d(0x577)+_0x105a85),_0x5eebe1[_0x3f920d(0x664)]){case'+':case'-':case'*':case'/':let _0x1fd3c0=_0xa6b623(_0x14f369),_0x586c3c=_0xa6b623(_0x105a85||'0');if(_0x1fd3c0===null)return null;switch(_0x5eebe1[_0x3f920d(0x664)]){case'+':_0x59e684=_0x1fd3c0+(_0x586c3c??0x0);break;case'-':_0x59e684=_0x1fd3c0-(_0x586c3c??0x0);break;case'*':_0x59e684=_0x1fd3c0*(_0x586c3c??0x1);break;case'/':_0x586c3c!==0x0&&(_0x59e684=_0x1fd3c0/(_0x586c3c??0x1));break;}break;case _0x3f920d(0x522):case _0x3f920d(0x1f6):let _0x3f516b=_0x105a85,_0x28e260=_0x5eebe1['replaceValue'];if(typeof _0x28e260=='string'&&(_0x28e260=this['replaceVariables'](_0x28e260,_0x155f02['chatLog'][_0x3f920d(0x3ae)])??''),_0x3f516b&&_0x28e260!==void 0x0){let _0x5cd018=_0x5eebe1[_0x3f920d(0x664)]==='findAndReplace'?new RegExp(_0x3f516b[_0x3f920d(0x2c9)](/[-\/\\^$*+?.()|[\]{}]/g,_0x3f920d(0x69c)),'g'):new RegExp(_0x3f516b,'g');_0x59e684=_0x14f369['replace'](_0x5cd018,_0x28e260);}else console[_0x3f920d(0x514)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case'setNewValue':_0x59e684=_0x105a85;break;case _0x3f920d(0x30d):let _0x268c3e=_0x14f369[_0x3f920d(0x4b8)](new RegExp(_0x105a85||''));_0x59e684=_0x268c3e?_0x268c3e[0x0]:'';break;case'truncatedto':_0x59e684=_0x14f369[_0x3f920d(0x641)](0x0,parseInt(_0x105a85||'0'));break;case _0x3f920d(0x3e9):let _0x551aad=parseInt(_0x105a85||'0');_0x59e684=_0x14f369['slice'](_0x14f369[_0x3f920d(0x306)]-_0x551aad);break;case _0x3f920d(0x249):let _0x3dec27=_0xa6b623(_0x14f369),_0x462f72=parseInt(_0x105a85||'0');_0x462f72=Math['abs'](_0x462f72),_0x3dec27!==null?_0x59e684=_0x3dec27[_0x3f920d(0x62f)]('pt-BR',{'minimumFractionDigits':_0x462f72,'maximumFractionDigits':_0x462f72}):(console[_0x3f920d(0x514)](_0x3f920d(0x26e)+_0x14f369),_0x59e684=null);break;case _0x3f920d(0x43d):let _0x3d0ed5=_0xa6b623(_0x14f369);_0x3d0ed5!==null?_0x59e684=_0x3d0ed5[_0x3f920d(0x62f)](_0x3f920d(0x6da),{'style':_0x3f920d(0x774),'currency':_0x3f920d(0x62d)}):(console['warn'](_0x3f920d(0x581)+_0x14f369),_0x59e684=null);break;case _0x3f920d(0x2fb):_0x59e684=_0x14f369[_0x3f920d(0x4ba)]();break;case _0x3f920d(0x3c2):_0x59e684=_0x14f369[_0x3f920d(0x2d0)]();break;case _0x3f920d(0x4cf):_0x59e684=_0x14f369['split']('\x20')['map'](_0x371fb5=>_0x371fb5[_0x3f920d(0x5c8)](0x0)[_0x3f920d(0x4ba)]()+_0x371fb5[_0x3f920d(0x641)](0x1)[_0x3f920d(0x2d0)]())[_0x3f920d(0x62e)]('\x20');break;case _0x3f920d(0x708):_0x59e684=_0x14f369[_0x3f920d(0x2f8)]();break;default:_0x59e684=_0x14f369;}return _0x59e684!==null?_0x59e684[_0x3f920d(0x3d6)]():null;}async[a0_0x200bc3(0x225)](_0xc4310e,_0x22061a){const _0x26702e=a0_0x200bc3;try{let _0x482dde=_0xc4310e['varedits']?.['filter'](_0x394dcf=>_0x394dcf[_0x26702e(0x3d5)]===_0x22061a[_0x26702e(0x54e)]?.[_0x26702e(0x3d6)]())||[],_0x54871e=_0x22061a['saveVariable'],_0x3c3a35=null,_0x46bfca=[],_0x584db7=_0xc4310e['chatLog'][_0x26702e(0x3ae)][_0x54871e];_0x46bfca[_0x26702e(0x20a)](_0x26702e(0x680)+_0x584db7+'\x22');for(let _0x1d505c of _0x482dde){_0x1d505c[_0x26702e(0x1dc)]=_0x584db7,_0x3c3a35=_0x1d505c[_0x26702e(0x1dc)];let _0x5679e1;try{_0x5679e1=this[_0x26702e(0x623)](_0xc4310e,_0x1d505c);}catch(_0x2f28c3){console['error'](_0x26702e(0x5c9)+_0x2f28c3[_0x26702e(0x646)]);continue;}if(_0x5679e1!==null){let _0xfcee24=_0x26702e(0x703)+_0x1d505c['editOperator']+'\x22',_0x5cfb0f=[_0x26702e(0x43d),_0x26702e(0x2fb),_0x26702e(0x3c2),_0x26702e(0x4cf),_0x26702e(0x708)];_0x1d505c['editOperator']==='findAndReplace'||_0x1d505c['editOperator']===_0x26702e(0x1f6)?_0xfcee24+=_0x26702e(0x56f)+_0x1d505c[_0x26702e(0x357)]+_0x26702e(0x6c4)+_0x1d505c['replaceValue']+'\x22':!_0x5cfb0f[_0x26702e(0x46e)](_0x1d505c[_0x26702e(0x664)])&&_0x1d505c[_0x26702e(0x357)]!==null&&_0x1d505c[_0x26702e(0x357)]!==void 0x0&&(_0xfcee24+=',\x20valor\x20passado:\x20\x22'+_0x1d505c[_0x26702e(0x357)]+'\x22'),_0xfcee24+=_0x26702e(0x367)+_0x5679e1+'.',_0x46bfca[_0x26702e(0x20a)](_0xfcee24);}_0x5679e1!==null&&(_0x584db7=_0x5679e1);}if(_0xc4310e[_0x26702e(0x429)][_0x26702e(0x3ae)]&&_0x22061a[_0x26702e(0x630)]){_0xc4310e[_0x26702e(0x429)][_0x26702e(0x3ae)][_0x22061a[_0x26702e(0x630)]]=_0x584db7;let _0x36b840={'variable':_0x22061a['saveVariable'],'oldValue':_0x3c3a35,'newValue':_0x584db7,'moreLogs':_0x46bfca};try{this[_0x26702e(0x699)](_0xc4310e,_0x22061a,_0x36b840);}catch(_0x302ced){console[_0x26702e(0x22d)](_0x26702e(0x6f7)+_0x302ced[_0x26702e(0x646)]);}}return _0x54871e;}catch(_0x2cc994){return console[_0x26702e(0x22d)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x2cc994[_0x26702e(0x646)]),null;}}async[a0_0x200bc3(0x209)](_0x4f3ce1,_0x3f00b8){const _0x41762b=a0_0x200bc3;try{let _0x34f9c1=[],_0x39491a=_0x4f3ce1[_0x41762b(0x355)]['filter'](_0x506ba6=>_0x506ba6[_0x41762b(0x3d5)]===_0x3f00b8[_0x41762b(0x54e)][_0x41762b(0x3d6)]()),_0x277f97=null,_0x160401=!0x1;for(let _0x2f7c1c of _0x39491a){let _0x38402c=this[_0x41762b(0x78a)](_0x4f3ce1,_0x2f7c1c);_0x34f9c1['push'](_0x41762b(0x499)+_0x2f7c1c[_0x41762b(0x1dc)]+_0x41762b(0x404)+_0x2f7c1c[_0x41762b(0x719)]+_0x41762b(0x1ce)+_0x2f7c1c['secondValue']+_0x41762b(0x4d5)+_0x38402c),_0x277f97===null?_0x277f97=_0x38402c:_0x2f7c1c['OrAnd']===_0x41762b(0x2ba)?(_0x277f97=_0x277f97&&_0x38402c,_0x38402c||(_0x160401=!0x0)):_0x2f7c1c[_0x41762b(0x59e)]==='or'&&(_0x160401||(_0x277f97=_0x277f97||_0x38402c));}_0x277f97===null&&(_0x277f97=!0x0);let _0x2d4a5a={'moreLogs':_0x34f9c1};_0x277f97?(_0x4f3ce1[_0x41762b(0x429)]['lastCondition']=!0x0,this[_0x41762b(0x699)](_0x4f3ce1,_0x3f00b8,_0x2d4a5a)):(_0x4f3ce1[_0x41762b(0x429)][_0x41762b(0x24a)]=!0x1,this['updateConversation'](_0x4f3ce1,_0x3f00b8,_0x2d4a5a));}catch(_0x48e9b4){this[_0x41762b(0x593)]['error'](this['instanceName']+'\x20('+this[_0x41762b(0x390)][_0x41762b(0x42c)]+_0x41762b(0x5d6)+_0x48e9b4);}}[a0_0x200bc3(0x78a)](_0x32e50b,_0x32cb20){const _0x41ba0c=a0_0x200bc3;let _0x26447f=_0x32cb20[_0x41ba0c(0x1dc)],_0x3f9baa=_0x32cb20[_0x41ba0c(0x357)];typeof _0x26447f==_0x41ba0c(0x40e)&&(_0x26447f=this[_0x41ba0c(0x335)](_0x26447f,_0x32e50b[_0x41ba0c(0x429)][_0x41ba0c(0x3ae)])??''),typeof _0x3f9baa==_0x41ba0c(0x40e)&&(_0x3f9baa=this[_0x41ba0c(0x335)](_0x3f9baa,_0x32e50b[_0x41ba0c(0x429)][_0x41ba0c(0x3ae)])??'');try{switch(_0x32cb20[_0x41ba0c(0x719)]){case _0x41ba0c(0x6b0):return _0x26447f===_0x3f9baa;case _0x41ba0c(0x3e5):return _0x26447f!==_0x3f9baa;case _0x41ba0c(0x77a):return _0x26447f['includes'](_0x3f9baa);case _0x41ba0c(0x776):return!_0x26447f['includes'](_0x3f9baa);case _0x41ba0c(0x474):return parseFloat(_0x26447f)>parseFloat(_0x3f9baa);case _0x41ba0c(0x679):return parseFloat(_0x26447f)<parseFloat(_0x3f9baa);case _0x41ba0c(0x2fd):return _0x26447f!=='';case'empty':return _0x26447f==='';case _0x41ba0c(0x701):return new RegExp(_0x3f9baa)[_0x41ba0c(0x276)](_0x26447f);case'notMatchRegex':return!new RegExp(_0x3f9baa)['test'](_0x26447f);default:return!0x1;}}catch(_0x21c779){return console[_0x41ba0c(0x22d)](_0x41ba0c(0x2ce)+_0x21c779),!0x1;}}[a0_0x200bc3(0x1f3)](_0x29d888){const _0x3d9aec=a0_0x200bc3;let _0x1fb5b3=!0x0,_0x378d1e=null;for(let _0xdaea0e of _0x29d888){let _0x527b0b=this[_0x3d9aec(0x3e0)](_0xdaea0e);if(_0x378d1e==='or'&&_0x527b0b){_0x1fb5b3=!0x0;break;}if(_0x378d1e===_0x3d9aec(0x2ba)&&!_0x527b0b){_0x1fb5b3=!0x1;break;}_0x378d1e=_0xdaea0e['OrAnd'];}return _0x1fb5b3;}['evaluateConditionTest'](_0x11960f){const _0x276339=a0_0x200bc3;let _0x232f5e=_0x11960f[_0x276339(0x1dc)],_0xfe792=_0x11960f[_0x276339(0x357)];try{switch(_0x11960f[_0x276339(0x719)]){case _0x276339(0x6b0):return String(_0x232f5e)===String(_0xfe792);case'notEqual':return String(_0x232f5e)!==String(_0xfe792);case'contains':return String(_0x232f5e)[_0x276339(0x46e)](String(_0xfe792));case _0x276339(0x776):return!String(_0x232f5e)[_0x276339(0x46e)](String(_0xfe792));case _0x276339(0x474):return parseFloat(String(_0x232f5e))>parseFloat(String(_0xfe792));case _0x276339(0x679):return parseFloat(String(_0x232f5e))<parseFloat(String(_0xfe792));case _0x276339(0x2fd):return String(_0x232f5e)!=='';case _0x276339(0x4d9):return String(_0x232f5e)==='';case'matchRegex':return new RegExp(String(_0xfe792))[_0x276339(0x276)](String(_0x232f5e));case _0x276339(0x612):return!new RegExp(String(_0xfe792))['test'](String(_0x232f5e));default:return!0x1;}}catch(_0x3a90b2){return console[_0x276339(0x22d)](_0x276339(0x2ce)+_0x3a90b2),!0x1;}}async[a0_0x200bc3(0x797)](_0x8a47c3,_0x3d742b){const _0x1fc816=a0_0x200bc3;if(this[_0x1fc816(0x593)][_0x1fc816(0x6d7)](this[_0x1fc816(0x526)]+'\x20('+this[_0x1fc816(0x390)][_0x1fc816(0x42c)]+_0x1fc816(0x676)),!_0x8a47c3||!_0x3d742b)return this[_0x1fc816(0x593)][_0x1fc816(0x22d)](this[_0x1fc816(0x526)]+'\x20('+this['instance'][_0x1fc816(0x42c)]+_0x1fc816(0x3ff)),null;let _0x3edca3=_0x3d742b['saveVariable'],_0x61da13=_0x8a47c3[_0x1fc816(0x429)][_0x1fc816(0x6d4)][_0x1fc816(0x5f4)]||_0x8a47c3['chatLog'][_0x1fc816(0x6d4)]['caption']||_0x8a47c3['chatLog']['lastReceivedMessage'][_0x1fc816(0x6db)];try{_0x8a47c3[_0x1fc816(0x429)][_0x1fc816(0x3ae)]||(_0x8a47c3[_0x1fc816(0x429)][_0x1fc816(0x3ae)]={});let _0x4bc70a=_0x8a47c3['chatLog'][_0x1fc816(0x3ae)][_0x3edca3];_0x8a47c3[_0x1fc816(0x429)][_0x1fc816(0x3ae)][_0x3edca3]=_0x61da13;let _0x13d0a7={'variable':_0x3edca3,'oldValue':_0x4bc70a,'newValue':_0x61da13};this[_0x1fc816(0x699)](_0x8a47c3,_0x3d742b,_0x13d0a7),this[_0x1fc816(0x593)][_0x1fc816(0x6d7)](this[_0x1fc816(0x526)]+'\x20('+this['instance']['wuid']+_0x1fc816(0x356));}catch(_0x56b7db){let _0x1641b7={'error':!0x0,'errorLog':_0x56b7db[_0x1fc816(0x3d6)]()};return this[_0x1fc816(0x699)](_0x8a47c3,_0x3d742b,_0x1641b7),this[_0x1fc816(0x593)]['error'](this[_0x1fc816(0x526)]+'\x20('+this[_0x1fc816(0x390)]['wuid']+_0x1fc816(0x6e8)+_0x56b7db[_0x1fc816(0x646)]),null;}}async['stopConversation'](_0x22b466,_0x3f2bf1){const _0xbe4502=a0_0x200bc3;if(this[_0xbe4502(0x593)]['verbose'](this[_0xbe4502(0x526)]+'\x20('+this[_0xbe4502(0x390)][_0xbe4502(0x42c)]+_0xbe4502(0x2c4)),!_0x22b466||!_0x3f2bf1)return this['logger']['error'](this[_0xbe4502(0x526)]+'\x20('+this['instance']['wuid']+_0xbe4502(0x3ff)),null;let _0x469055=Date[_0xbe4502(0x5f7)](),_0x33d674=parseInt(_0x3f2bf1['stopMinutes'],0xa);if(isNaN(_0x33d674))return this[_0xbe4502(0x593)]['error'](this[_0xbe4502(0x526)]+'\x20('+this[_0xbe4502(0x390)]['wuid']+_0xbe4502(0x71d)),null;let _0x2b0fff={'newStoppedUntil':_0x469055+_0x33d674*0x3c*0x3e8};return await this[_0xbe4502(0x699)](_0x22b466,_0x3f2bf1,_0x2b0fff,!0x0),null;}async[a0_0x200bc3(0x43a)](_0xefc39e,_0x1d76c3,_0x36de0b){const _0x42a88f=a0_0x200bc3;try{switch(_0x1d76c3[_0x42a88f(0x4b7)][_0x42a88f(0x393)]){case _0x42a88f(0x6cf):await this[_0x42a88f(0x697)](_0xefc39e,_0x1d76c3,_0x36de0b);break;case _0x42a88f(0x34a):await this[_0x42a88f(0x625)](_0xefc39e,_0x1d76c3,_0x36de0b);break;case _0x42a88f(0x567):await this[_0x42a88f(0x25d)](_0xefc39e,_0x1d76c3,_0x36de0b);break;case _0x42a88f(0x633):await this[_0x42a88f(0x529)](_0xefc39e,_0x1d76c3,_0x36de0b);break;case'sendContact':await this['uazapiSendContact'](_0xefc39e,_0x1d76c3,_0x36de0b);break;case _0x42a88f(0x6d5):await this['uazapiSendPoll'](_0xefc39e,_0x1d76c3,_0x36de0b);break;case _0x42a88f(0x756):await this[_0x42a88f(0x55b)](_0xefc39e,_0x1d76c3,_0x36de0b);break;default:this['logger']['error'](this[_0x42a88f(0x526)]+'\x20('+this[_0x42a88f(0x390)][_0x42a88f(0x42c)]+'):\x20Comando\x20desconhecido:\x20'+_0x1d76c3[_0x42a88f(0x4b7)]['command']);}}catch(_0x425ebc){this[_0x42a88f(0x593)][_0x42a88f(0x22d)](this['instanceName']+'\x20('+this[_0x42a88f(0x390)][_0x42a88f(0x42c)]+_0x42a88f(0x330)+_0x425ebc);}}async[a0_0x200bc3(0x699)](_0xd595ad,_0x142d08,_0x5cd105,_0x2eb464=!0x1,_0x1f0a9a=!0x1){const _0x2c0498=a0_0x200bc3;_0xd595ad[_0x2c0498(0x429)][_0x2c0498(0x520)]||(_0xd595ad[_0x2c0498(0x429)][_0x2c0498(0x520)]=[]);let _0x205856=(_0xd595ad[_0x2c0498(0x429)][_0x2c0498(0x520)]?.[_0x2c0498(0x306)]??0x0)+0x1,_0x4e3205=_0xd595ad[_0x2c0498(0x429)]['blockLogs'][_0x2c0498(0x38d)](_0x179517=>String(_0x179517[_0x2c0498(0x3d5)])===String(_0x142d08[_0x2c0498(0x54e)]))[_0x2c0498(0x306)]+0x1,_0x5234bb=_0x5cd105?.[_0x2c0498(0x291)]??Date[_0x2c0498(0x5f7)](),_0x46536d=_0x5cd105?.[_0x2c0498(0x22d)]?_0x5cd105[_0x2c0498(0x1c4)]??_0x5cd105[_0x2c0498(0x22d)][_0x2c0498(0x3d6)]():void 0x0,_0x2d3103={'onTime':_0x5234bb,'blockId':_0x142d08[_0x2c0498(0x54e)],'order':_0x205856,'activatedCount':_0x4e3205,'error':_0x5cd105?.[_0x2c0498(0x22d)]??!0x1,'messageId':_0x5cd105?.[_0x2c0498(0x653)],'apiResponse':_0x5cd105?.[_0x2c0498(0x448)],'apiResponseString':_0x5cd105?.['apiResponse']?JSON[_0x2c0498(0x76b)](_0x5cd105?.[_0x2c0498(0x448)]):void 0x0,'variable':_0x5cd105?.[_0x2c0498(0x7a7)],'oldValue':_0x5cd105?.[_0x2c0498(0x614)],'newValue':_0x5cd105?.[_0x2c0498(0x6c9)],'newStoppedUntil':_0x5cd105?.[_0x2c0498(0x69a)],'moreLogs':_0x5cd105?.[_0x2c0498(0x736)],'errorLog':_0x46536d};if(_0x5cd105[_0x2c0498(0x736)]&&_0x5cd105[_0x2c0498(0x736)]['length']>0x0){let _0x38479d=_0x5cd105[_0x2c0498(0x736)]['map'](_0x5c1abb=>this[_0x2c0498(0x643)](_0x5c1abb,_0xd595ad['chatLog']['realVariables']));_0x2d3103['moreLogs']=_0x38479d;}_0xd595ad[_0x2c0498(0x429)][_0x2c0498(0x3ae)]||(_0xd595ad[_0x2c0498(0x429)][_0x2c0498(0x3ae)]={}),_0xd595ad[_0x2c0498(0x429)][_0x2c0498(0x3ae)]['_activatedCount']=String(_0x4e3205),_0xd595ad[_0x2c0498(0x429)][_0x2c0498(0x3ae)][_0x2c0498(0x785)]=String(_0x5cd105[_0x2c0498(0x22d)]??!0x1),_0xd595ad['chatLog']['blockLogs'][_0x2c0498(0x20a)](_0x2d3103),_0xd595ad['chatLog'][_0x2c0498(0x510)]=_0x142d08[_0x2c0498(0x54e)][_0x2c0498(0x3d6)](),_0xd595ad[_0x2c0498(0x429)]['lastSendMessage']&&(_0xd595ad['chatLog']['lastSendMessage']=_0xd595ad[_0x2c0498(0x429)]['lastSendMessage']),_0xd595ad[_0x2c0498(0x429)][_0x2c0498(0x6d4)]&&(_0xd595ad['chatLog'][_0x2c0498(0x6d4)]=_0xd595ad[_0x2c0498(0x429)][_0x2c0498(0x6d4)]),_0xd595ad[_0x2c0498(0x429)]['lastCondition']&&(_0xd595ad[_0x2c0498(0x429)][_0x2c0498(0x24a)]=_0xd595ad[_0x2c0498(0x429)]['lastCondition']),_0x1f0a9a&&(_0xd595ad[_0x2c0498(0x354)]=_0x2c0498(0x642)),_0x2eb464?this[_0x2c0498(0x558)](_0xd595ad):this[_0x2c0498(0x4d4)](_0xd595ad,_0x142d08);}['replaceVariablesLogs'](_0x236cdb,_0x22beea){const _0x288e8d=a0_0x200bc3;return _0x236cdb[_0x288e8d(0x2c9)](/\{\{([^}]+)\}\}/g,(_0x1972b8,_0xc751b)=>_0x22beea[_0xc751b]?'{{'+_0xc751b+_0x288e8d(0x554)+_0x22beea[_0xc751b]+'\x22':'{{'+_0xc751b+'}}\x20->\x20valor\x20não\x20encontrado');}async[a0_0x200bc3(0x558)](_0x115d2c){const _0x1711ea=a0_0x200bc3;try{let _0x1d80d9=Object['entries'](_0x115d2c[_0x1711ea(0x429)]['realVariables'])[_0x1711ea(0x43b)](([_0x429dd2,_0x4375b3])=>({'name':_0x429dd2,'value':_0x4375b3})),_0x1f7980=await F[_0x1711ea(0x570)]({'_id':_0x115d2c[_0x1711ea(0x54e)]},{'$set':{'chatLog.lastBlockId':_0x115d2c[_0x1711ea(0x429)][_0x1711ea(0x510)],'blocks':_0x115d2c['blocks'],'chatLog.lastSendMessage':_0x115d2c['chatLog'][_0x1711ea(0x71a)],'chatLog.lastReceivedMessage':_0x115d2c[_0x1711ea(0x429)][_0x1711ea(0x6d4)],'chatLog.lastCondition':_0x115d2c[_0x1711ea(0x429)]['lastCondition'],'chatLog.chatVariables':_0x1d80d9,'chatLog.realVariables':_0x115d2c['chatLog'][_0x1711ea(0x3ae)],'status':_0x115d2c[_0x1711ea(0x354)],'chatLog.blockLogs':_0x115d2c[_0x1711ea(0x429)][_0x1711ea(0x520)],'waitingPoll_id':_0x115d2c[_0x1711ea(0x735)],'waitingPoll_name':_0x115d2c[_0x1711ea(0x60f)],'waitingPoll_replyOptions':_0x115d2c[_0x1711ea(0x669)]}},{'new':!0x0});if(_0x1f7980){this[_0x1711ea(0x593)][_0x1711ea(0x6d7)](this[_0x1711ea(0x526)]+'\x20('+this[_0x1711ea(0x390)][_0x1711ea(0x42c)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x1f7980['_id']);try{let _0xa78b8b=[_0x1711ea(0x778),_0x1711ea(0x4f4),'email','cpf',_0x1711ea(0x354),_0x1711ea(0x652),_0x1711ea(0x286),_0x1711ea(0x4af)];if(!this[_0x1711ea(0x582)]&&(await this[_0x1711ea(0x751)](),!this[_0x1711ea(0x582)]))throw new Error(_0x1711ea(0x50e));let _0x381047=this['AutomateSystem']?.[_0x1711ea(0x528)]['map'](_0x3a280f=>_0x3a280f[_0x1711ea(0x31b)]),_0x5cfd17={};Object[_0x1711ea(0x30a)](_0x115d2c[_0x1711ea(0x429)][_0x1711ea(0x3ae)])['forEach'](([_0x14fc5b,_0x20864b])=>{const _0x2d4e5e=_0x1711ea;_0xa78b8b['includes'](_0x14fc5b)&&(_0x14fc5b===_0x2d4e5e(0x4af)&&typeof _0x20864b=='string'?_0x5cfd17[_0x14fc5b]=_0x20864b[_0x2d4e5e(0x5a8)](',')[_0x2d4e5e(0x43b)](_0x2d4f0a=>_0x2d4f0a[_0x2d4e5e(0x2f8)]())[_0x2d4e5e(0x38d)](_0x56b6ef=>_0x56b6ef!==''):_0x5cfd17[_0x14fc5b]=_0x20864b);});let _0x1c958a=_0x115d2c['chatLog'][_0x1711ea(0x520)][_0x115d2c[_0x1711ea(0x429)][_0x1711ea(0x520)][_0x1711ea(0x306)]-0x1];if(_0x1c958a){let _0x50c486=_0x1c958a[_0x1711ea(0x69a)];_0x50c486!==void 0x0&&(_0x5cfd17['desativadoFluxoAte']=_0x50c486[_0x1711ea(0x3d6)]());}let _0x3037c5=_0x1d80d9[_0x1711ea(0x38d)](_0x53b715=>_0x381047[_0x1711ea(0x46e)](_0x53b715[_0x1711ea(0x31b)]));this[_0x1711ea(0x593)][_0x1711ea(0x6d7)](this[_0x1711ea(0x526)]+'\x20('+this[_0x1711ea(0x390)]['wuid']+_0x1711ea(0x363)),this[_0x1711ea(0x593)][_0x1711ea(0x6d7)](_0x5cfd17),this[_0x1711ea(0x593)][_0x1711ea(0x6d7)](this[_0x1711ea(0x526)]+'\x20('+this[_0x1711ea(0x390)]['wuid']+_0x1711ea(0x5a5)),this['logger'][_0x1711ea(0x6d7)](_0x3037c5);let _0x2475f8=_0x3037c5['map'](_0x20a3d3=>{const _0x367418=_0x1711ea;let _0xb7a21b=this[_0x367418(0x582)]?.[_0x367418(0x528)][_0x367418(0x487)](_0x3a6a12=>_0x3a6a12[_0x367418(0x31b)]===_0x20a3d3[_0x367418(0x31b)]);if(!_0xb7a21b)throw new Error(_0x367418(0x3b7)+_0x20a3d3['name']);return{'_id':_0xb7a21b[_0x367418(0x54e)],'value':_0x20a3d3[_0x367418(0x5ec)]};});this[_0x1711ea(0x593)][_0x1711ea(0x6d7)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1711ea(0x765)),this[_0x1711ea(0x593)][_0x1711ea(0x6d7)](_0x2475f8),await this[_0x1711ea(0x6bc)](_0x115d2c[_0x1711ea(0x302)],_0x5cfd17,_0x2475f8);}catch(_0x41cbe6){this['logger']['error'](this[_0x1711ea(0x526)]+'\x20('+this[_0x1711ea(0x390)][_0x1711ea(0x42c)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+JSON[_0x1711ea(0x76b)](_0x41cbe6));}}else this[_0x1711ea(0x593)][_0x1711ea(0x22d)](this[_0x1711ea(0x526)]+'\x20('+this['instance']['wuid']+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x447624){this['logger'][_0x1711ea(0x22d)](this[_0x1711ea(0x526)]+'\x20('+this[_0x1711ea(0x390)][_0x1711ea(0x42c)]+_0x1711ea(0x5e5)+JSON['stringify'](_0x447624));}}async['saveChatVariables'](_0x315911,_0x371ab3,_0x492255){const _0x2640e1=a0_0x200bc3;try{let _0x10ed5d={'leadInfo.leadnome':_0x371ab3[_0x2640e1(0x778)],'leadInfo.nomecompleto':_0x371ab3[_0x2640e1(0x4f4)],'leadInfo.email':_0x371ab3[_0x2640e1(0x645)],'leadInfo.cpf':_0x371ab3[_0x2640e1(0x27f)],'leadInfo.status':_0x371ab3[_0x2640e1(0x354)],'leadInfo.notas':_0x371ab3[_0x2640e1(0x652)],'leadInfo.responsavelid':_0x371ab3[_0x2640e1(0x286)],'leadInfo.tags':_0x371ab3['tags'],'leadInfo.customFields':_0x492255};if('desativadoFluxoAte'in _0x371ab3){let _0x337372=_0x371ab3[_0x2640e1(0x773)];_0x10ed5d['leadInfo.desativadoFluxoAte']=_0x337372?Number(_0x337372):null;}let _0x1199b7=await D[_0x2640e1(0x570)]({'id':_0x315911,'owner':this['instance'][_0x2640e1(0x42c)]},{'$set':_0x10ed5d},{'new':!0x0,'upsert':!0x0});_0x1199b7?(this[_0x2640e1(0x593)]['verbose'](this[_0x2640e1(0x526)]+'\x20('+this[_0x2640e1(0x390)][_0x2640e1(0x42c)]+_0x2640e1(0x53c)+_0x1199b7[_0x2640e1(0x54e)]),q(this[_0x2640e1(0x526)],_0x2640e1(0x64a),{'chat':_0x1199b7})):this['logger'][_0x2640e1(0x22d)](this[_0x2640e1(0x526)]+'\x20('+this[_0x2640e1(0x390)][_0x2640e1(0x42c)]+_0x2640e1(0x79b));}catch(_0x514c7f){this[_0x2640e1(0x593)][_0x2640e1(0x22d)](this[_0x2640e1(0x526)]+'\x20('+this[_0x2640e1(0x390)][_0x2640e1(0x42c)]+_0x2640e1(0x277)+_0x514c7f);}}async[a0_0x200bc3(0x45c)](_0x45ec4e,_0xc30fcd){const _0x20a3c7=a0_0x200bc3;this['logger'][_0x20a3c7(0x6d7)](this['instanceName']+'\x20('+this[_0x20a3c7(0x390)][_0x20a3c7(0x42c)]+_0x20a3c7(0x77f)+_0xc30fcd);try{let _0x2b3fb1=await D['findOneAndUpdate']({'id':_0x45ec4e[_0x20a3c7(0x302)],'owner':_0x45ec4e[_0x20a3c7(0x332)]},{'$set':{'leadInfo.desativadoFluxoAte':_0xc30fcd}},{'new':!0x0});this[_0x20a3c7(0x593)]['verbose'](this[_0x20a3c7(0x526)]+'\x20('+this[_0x20a3c7(0x390)][_0x20a3c7(0x42c)]+_0x20a3c7(0x6ca)+_0x45ec4e[_0x20a3c7(0x54e)]),this[_0x20a3c7(0x593)][_0x20a3c7(0x6d7)](this[_0x20a3c7(0x526)]+'\x20('+this[_0x20a3c7(0x390)][_0x20a3c7(0x42c)]+_0x20a3c7(0x77f)+JSON[_0x20a3c7(0x76b)](_0x2b3fb1,null,0x2)),_0x2b3fb1&&q(this[_0x20a3c7(0x526)],_0x20a3c7(0x64a),{'chat':_0x2b3fb1});}catch(_0x588e8b){this[_0x20a3c7(0x593)][_0x20a3c7(0x22d)](this['instanceName']+'\x20('+this[_0x20a3c7(0x390)][_0x20a3c7(0x42c)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+JSON['stringify'](_0x588e8b));}}async[a0_0x200bc3(0x573)](_0x55d25d,_0x2d1127){const _0x326d54=a0_0x200bc3;try{this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x326d54(0x390)][_0x326d54(0x42c)]+_0x326d54(0x53e));let _0x2ff5c3=_0x2d1127['replace'](/\D/g,''),_0x558169=await I[_0x326d54(0x1ed)]({'owner':_0x55d25d,'testingWith':_0x2ff5c3});return _0x558169||(this[_0x326d54(0x593)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x326d54(0x42c)]+_0x326d54(0x4c1)),_0x558169=await I['findOne']({'owner':_0x55d25d,'default':!0x0})),_0x558169||(this[_0x326d54(0x593)]['verbose'](this['instanceName']+'\x20('+this[_0x326d54(0x390)]['wuid']+'):\x20Não\x20achou\x20nenhum\x20flow'),null);}catch(_0x274024){return this['logger'][_0x326d54(0x22d)](this['instanceName']+'\x20('+this[_0x326d54(0x390)][_0x326d54(0x42c)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+_0x274024),null;}}async[a0_0x200bc3(0x66a)](_0x38114b,_0xce8f02,_0x1db985){const _0x2c4425=a0_0x200bc3;try{let _0x3c2845=!!_0x1db985[_0x2c4425(0x6db)],_0x5b41cd=_0x1db985[_0x2c4425(0x34f)],_0x162f75=null;if(this[_0x2c4425(0x593)][_0x2c4425(0x6d7)](this[_0x2c4425(0x526)]+'\x20('+this['instance'][_0x2c4425(0x42c)]+_0x2c4425(0x1ea)+_0x3c2845+_0x2c4425(0x34f)+_0x5b41cd),_0x3c2845)return this[_0x2c4425(0x593)][_0x2c4425(0x6d7)](this[_0x2c4425(0x526)]+'\x20('+this[_0x2c4425(0x390)][_0x2c4425(0x42c)]+_0x2c4425(0x4e1)),_0x162f75=await F[_0x2c4425(0x1ed)]({'owner':_0x38114b,'remoteJid':_0xce8f02,'waitingPoll_id':_0x5b41cd}),_0x162f75?(_0x162f75[_0x2c4425(0x4cb)]=Date['now'](),_0x162f75['chatLog'][_0x2c4425(0x6d4)]=_0x1db985,_0x162f75):(this[_0x2c4425(0x593)][_0x2c4425(0x6d7)](this[_0x2c4425(0x526)]+'\x20('+this[_0x2c4425(0x390)]['wuid']+_0x2c4425(0x500)),null);{if(this['logger']['verbose'](this[_0x2c4425(0x526)]+'\x20('+this['instance'][_0x2c4425(0x42c)]+_0x2c4425(0x73e)+this[_0x2c4425(0x390)][_0x2c4425(0x42c)]+_0x2c4425(0x6ab)),this['logger'][_0x2c4425(0x6d7)](this['instanceName']+'\x20('+this[_0x2c4425(0x390)]['wuid']+_0x2c4425(0x3a9)),_0x162f75=await F[_0x2c4425(0x1ed)]({'owner':_0x38114b,'remoteJid':_0xce8f02,'status':_0x2c4425(0x5b4)}),!_0x162f75){let _0x618757=await this[_0x2c4425(0x573)](_0x38114b,_0xce8f02);if(_0x618757&&(_0x162f75=await this[_0x2c4425(0x730)](_0x618757,_0x1db985[_0x2c4425(0x781)],_0x1db985)),!_0x162f75)return null;}let _0x1f9e55=Date[_0x2c4425(0x5f7)](),_0xb9eaa6=_0x162f75?.[_0x2c4425(0x52d)]||0x0,_0x5fdea3=_0x1f9e55-_0xb9eaa6*0x3c*0x3e8;if(this[_0x2c4425(0x593)][_0x2c4425(0x6d7)](this[_0x2c4425(0x526)]+'\x20('+this['instance'][_0x2c4425(0x42c)]+_0x2c4425(0x2ff)+_0x1f9e55+_0x2c4425(0x78c)+_0xb9eaa6+',\x20Expiration\x20Time:\x20'+_0x5fdea3),this[_0x2c4425(0x593)][_0x2c4425(0x6d7)](this['instanceName']+'\x20('+this[_0x2c4425(0x390)]['wuid']+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this[_0x2c4425(0x593)][_0x2c4425(0x6d7)](this[_0x2c4425(0x526)]+'\x20('+this['instance'][_0x2c4425(0x42c)]+_0x2c4425(0x1c6)+_0x162f75[_0x2c4425(0x4cb)]),this[_0x2c4425(0x593)][_0x2c4425(0x6d7)](this[_0x2c4425(0x526)]+'\x20('+this['instance']['wuid']+_0x2c4425(0x5f2)+_0x5fdea3),_0x162f75['lastInteraction']<_0x5fdea3){this['logger'][_0x2c4425(0x6d7)](this['instanceName']+'\x20('+this[_0x2c4425(0x390)]['wuid']+'):\x20Conversa\x20está\x20expirada');let _0x3c779c=await this['findFlow'](_0x38114b,_0xce8f02);if(_0x3c779c===null)return null;_0x162f75&&await F[_0x2c4425(0x4b3)]({'_id':_0x162f75[_0x2c4425(0x54e)]},{'status':'closed'}),_0x162f75=await this[_0x2c4425(0x730)](_0x3c779c,_0x1db985[_0x2c4425(0x781)],_0x1db985);}return _0x162f75[_0x2c4425(0x4cb)]=_0x1f9e55,_0x162f75['chatLog']['lastReceivedMessage']=_0x1db985,_0x162f75;}}catch(_0x15871b){return this['logger'][_0x2c4425(0x22d)](this[_0x2c4425(0x526)]+'\x20('+this['instance']['wuid']+_0x2c4425(0x5d8)+_0x15871b),null;}}async['createNewConversation'](_0x509c80,_0x3f0d04,_0x3c0a2a){const _0x2b58f3=a0_0x200bc3;this[_0x2b58f3(0x593)][_0x2b58f3(0x6d7)](this['instanceName']+'\x20('+this[_0x2b58f3(0x390)][_0x2b58f3(0x42c)]+'):\x20Criando\x20nova\x20conversa');try{let _0x45db75=require(_0x2b58f3(0x23b))[_0x2b58f3(0x479)],_0x3b2c6b=Date['now'](),_0x118017='start',_0x54b770=_0x3f0d04[_0x2b58f3(0x2cf)]?null:_0x3c0a2a,_0x3b572a=_0x3f0d04[_0x2b58f3(0x2cf)]?_0x3c0a2a:null,_0x1f978b=_0x3f0d04[_0x2b58f3(0x302)];await this[_0x2b58f3(0x60b)](_0x1f978b);let _0x3d39ab={..._0x509c80[_0x2b58f3(0x2d3)],'chatLog':null},_0x37ec65=await this[_0x2b58f3(0x3c5)](_0x3d39ab[_0x2b58f3(0x3f7)]),_0xa0dae3=await this['getVariablesChat'](_0x1f978b),_0x1e2002={..._0x37ec65,..._0xa0dae3,'_remoteJid':_0x1f978b},_0x7173a5={'lastReceivedMessage':_0x54b770,'lastSendMessage':_0x3b572a,'lastBlockId':_0x118017,'lastCondition':!0x0,'realVariables':_0x1e2002};_0x3d39ab[_0x2b58f3(0x429)]=_0x7173a5,delete _0x3d39ab[_0x2b58f3(0x54e)],_0x3d39ab[_0x2b58f3(0x54e)]=new _0x45db75(),_0x3d39ab[_0x2b58f3(0x4cb)]=_0x3b2c6b,_0x3d39ab[_0x2b58f3(0x354)]=_0x2b58f3(0x5b4),_0x3d39ab[_0x2b58f3(0x302)]=_0x1f978b;let _0xfa53f=await F[_0x2b58f3(0x57d)](_0x3d39ab);return this[_0x2b58f3(0x593)]['verbose'](this[_0x2b58f3(0x526)]+'\x20('+this[_0x2b58f3(0x390)][_0x2b58f3(0x42c)]+_0x2b58f3(0x497)),_0xfa53f?_0x3d39ab:null;}catch(_0x526375){return this[_0x2b58f3(0x593)][_0x2b58f3(0x22d)](this[_0x2b58f3(0x526)]+'\x20('+this[_0x2b58f3(0x390)]['wuid']+_0x2b58f3(0x4c4)+_0x526375),_0x526375;}}async['uazapiSendText'](_0x1a89a9,_0x3050a1,_0x43bb8f){const _0x1907d0=a0_0x200bc3;this['logger'][_0x1907d0(0x6d7)](this[_0x1907d0(0x526)]+'\x20('+this[_0x1907d0(0x390)][_0x1907d0(0x42c)]+'):\x20Enviando\x20texto');let _0x319aed={'number':_0x43bb8f,'options':{'delay':_0x3050a1['uazapi']['delay']},'textMessage':{'text':_0x3050a1[_0x1907d0(0x4b7)][_0x1907d0(0x5f4)]}};try{let _0x273e08=await this['textMessage'](_0x319aed);if(_0x273e08){let _0x3d02c1={'_id':_0x273e08[_0x1907d0(0x781)]['id'],'_fromMe':_0x273e08[_0x1907d0(0x781)][_0x1907d0(0x2cf)],'_remoteJid':_0x273e08[_0x1907d0(0x781)][_0x1907d0(0x302)]};_0x1a89a9[_0x1907d0(0x429)]['lastBlockId']=_0x3050a1[_0x1907d0(0x54e)][_0x1907d0(0x3d6)]();let {message_normalized:_0x266520}=this[_0x1907d0(0x2c0)](_0x273e08[_0x1907d0(0x646)],W(_0x273e08[_0x1907d0(0x646)]),null);_0x1a89a9['chatLog'][_0x1907d0(0x71a)]=await _0x266520;let _0x1f63b7={'messageId':_0x273e08[_0x1907d0(0x781)]['id']},_0x59eaef=_0x1a89a9['chatLog']['realVariables'];Object[_0x1907d0(0x4b0)](_0x59eaef,_0x3d02c1),_0x1a89a9[_0x1907d0(0x429)]['realVariables']=_0x59eaef,this['updateConversation'](_0x1a89a9,_0x3050a1,_0x1f63b7);}else{let _0x118949={'error':!0x0};this[_0x1907d0(0x699)](_0x1a89a9,_0x3050a1,_0x118949),this[_0x1907d0(0x593)]['error'](this[_0x1907d0(0x526)]+'\x20('+this[_0x1907d0(0x390)][_0x1907d0(0x42c)]+_0x1907d0(0x503));}}catch(_0x43fdcd){let _0x350d1f={'error':!0x0,'errorLog':_0x43fdcd['toString']()};this[_0x1907d0(0x699)](_0x1a89a9,_0x3050a1,_0x350d1f),this[_0x1907d0(0x593)][_0x1907d0(0x22d)](this[_0x1907d0(0x526)]+'\x20('+this[_0x1907d0(0x390)][_0x1907d0(0x42c)]+_0x1907d0(0x476)+_0x43fdcd[_0x1907d0(0x3d6)]());}}async[a0_0x200bc3(0x625)](_0x4ebe3b,_0x578c7b,_0x43de6c){const _0x55e6b9=a0_0x200bc3;this['logger'][_0x55e6b9(0x6d7)](this[_0x55e6b9(0x526)]+'\x20('+this[_0x55e6b9(0x390)][_0x55e6b9(0x42c)]+'):\x20Enviando\x20mídia');let _0xc0dd91={'number':_0x43de6c,'options':{'delay':_0x578c7b[_0x55e6b9(0x4b7)]['delay']},'mediaMessage':{'mediatype':_0x578c7b[_0x55e6b9(0x4b7)][_0x55e6b9(0x454)],'caption':_0x578c7b['uazapi'][_0x55e6b9(0x76f)],'media':_0x578c7b[_0x55e6b9(0x4b7)][_0x55e6b9(0x750)]}};try{let _0x51bc86=await this['mediaMessage'](_0xc0dd91);if(_0x51bc86){let _0x3934e5={'_id':_0x51bc86[_0x55e6b9(0x781)]['id'],'_fromMe':_0x51bc86[_0x55e6b9(0x781)][_0x55e6b9(0x2cf)],'_remoteJid':_0x51bc86[_0x55e6b9(0x781)][_0x55e6b9(0x302)]};_0x4ebe3b[_0x55e6b9(0x429)][_0x55e6b9(0x510)]=_0x578c7b[_0x55e6b9(0x54e)][_0x55e6b9(0x3d6)]();let {message_normalized:_0x29528e}=this[_0x55e6b9(0x2c0)](_0x51bc86[_0x55e6b9(0x646)],W(_0x51bc86[_0x55e6b9(0x646)]),null);_0x4ebe3b[_0x55e6b9(0x429)][_0x55e6b9(0x71a)]=await _0x29528e;let _0x213763={'messageId':_0x51bc86[_0x55e6b9(0x781)]['id']},_0xaa7103=_0x4ebe3b[_0x55e6b9(0x429)][_0x55e6b9(0x3ae)];Object[_0x55e6b9(0x4b0)](_0xaa7103,_0x3934e5),_0x4ebe3b[_0x55e6b9(0x429)][_0x55e6b9(0x3ae)]=_0xaa7103,this[_0x55e6b9(0x699)](_0x4ebe3b,_0x578c7b,_0x213763);}else{let _0x3a916b={'error':!0x0};this[_0x55e6b9(0x699)](_0x4ebe3b,_0x578c7b,_0x3a916b),this[_0x55e6b9(0x593)]['error'](this[_0x55e6b9(0x526)]+'\x20('+this[_0x55e6b9(0x390)][_0x55e6b9(0x42c)]+_0x55e6b9(0x347));}}catch(_0x3891b6){let _0x3a3f81={'error':!0x0,'errorLog':_0x3891b6['toString']()};this[_0x55e6b9(0x699)](_0x4ebe3b,_0x578c7b,_0x3a3f81),this[_0x55e6b9(0x593)][_0x55e6b9(0x22d)](this[_0x55e6b9(0x526)]+'\x20('+this[_0x55e6b9(0x390)][_0x55e6b9(0x42c)]+_0x55e6b9(0x4f8)+_0x3891b6[_0x55e6b9(0x3d6)]());}}async[a0_0x200bc3(0x25d)](_0x11550b,_0x761e9a,_0x2393f2){const _0x3e8020=a0_0x200bc3;this[_0x3e8020(0x593)][_0x3e8020(0x6d7)](this[_0x3e8020(0x526)]+'\x20('+this[_0x3e8020(0x390)][_0x3e8020(0x42c)]+_0x3e8020(0x5b6));let _0x67f199={'number':_0x2393f2,'options':{'delay':_0x761e9a['uazapi'][_0x3e8020(0x44f)]},'locationMessage':{'name':_0x761e9a[_0x3e8020(0x4b7)]['name'],'address':_0x761e9a[_0x3e8020(0x4b7)][_0x3e8020(0x635)],'latitude':_0x761e9a['uazapi'][_0x3e8020(0x1cf)],'longitude':_0x761e9a[_0x3e8020(0x4b7)][_0x3e8020(0x3ea)]}};try{let _0x9c067b=await this[_0x3e8020(0x49c)](_0x67f199);if(_0x9c067b){let _0x1765bd={'_id':_0x9c067b[_0x3e8020(0x781)]['id'],'_fromMe':_0x9c067b[_0x3e8020(0x781)][_0x3e8020(0x2cf)],'_remoteJid':_0x9c067b[_0x3e8020(0x781)][_0x3e8020(0x302)]};_0x11550b['chatLog']['lastBlockId']=_0x761e9a[_0x3e8020(0x54e)][_0x3e8020(0x3d6)]();let {message_normalized:_0x4817a6}=this[_0x3e8020(0x2c0)](_0x9c067b[_0x3e8020(0x646)],W(_0x9c067b[_0x3e8020(0x646)]),null);_0x11550b[_0x3e8020(0x429)][_0x3e8020(0x71a)]=await _0x4817a6;let _0x416a20={'messageId':_0x9c067b[_0x3e8020(0x781)]['id']},_0x196ec3=_0x11550b[_0x3e8020(0x429)][_0x3e8020(0x3ae)];Object[_0x3e8020(0x4b0)](_0x196ec3,_0x1765bd),_0x11550b[_0x3e8020(0x429)][_0x3e8020(0x3ae)]=_0x196ec3,this[_0x3e8020(0x699)](_0x11550b,_0x761e9a,_0x416a20);}else{let _0x5e375d={'error':!0x0};this[_0x3e8020(0x699)](_0x11550b,_0x761e9a,_0x5e375d),this[_0x3e8020(0x593)][_0x3e8020(0x22d)](this[_0x3e8020(0x526)]+'\x20('+this[_0x3e8020(0x390)]['wuid']+_0x3e8020(0x5ae));}}catch(_0xaa1095){let _0x236c3e={'error':!0x0,'errorLog':_0xaa1095[_0x3e8020(0x3d6)]()};this[_0x3e8020(0x699)](_0x11550b,_0x761e9a,_0x236c3e),this[_0x3e8020(0x593)][_0x3e8020(0x22d)](this['instanceName']+'\x20('+this[_0x3e8020(0x390)][_0x3e8020(0x42c)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+_0xaa1095['toString']());}}async[a0_0x200bc3(0x529)](_0x1f6062,_0xf8abc1,_0x31a4f8){const _0x3e4bcc=a0_0x200bc3;this[_0x3e4bcc(0x593)][_0x3e4bcc(0x6d7)](this[_0x3e4bcc(0x526)]+'\x20('+this[_0x3e4bcc(0x390)]['wuid']+'):\x20Enviando\x20áudio');let _0x4674e8={'number':_0x31a4f8,'options':{'delay':_0xf8abc1[_0x3e4bcc(0x4b7)][_0x3e4bcc(0x44f)]},'audioMessage':{'audio':_0xf8abc1[_0x3e4bcc(0x4b7)][_0x3e4bcc(0x649)]}};try{let _0x15175d=await this[_0x3e4bcc(0x20e)](_0x4674e8);if(_0x15175d){let _0xa1c6e1={'_id':_0x15175d['key']['id'],'_fromMe':_0x15175d[_0x3e4bcc(0x781)][_0x3e4bcc(0x2cf)],'_remoteJid':_0x15175d[_0x3e4bcc(0x781)][_0x3e4bcc(0x302)]};_0x1f6062[_0x3e4bcc(0x429)][_0x3e4bcc(0x510)]=_0xf8abc1[_0x3e4bcc(0x54e)][_0x3e4bcc(0x3d6)]();let {message_normalized:_0x2a4107}=this['normalizeMessage'](_0x15175d[_0x3e4bcc(0x646)],W(_0x15175d[_0x3e4bcc(0x646)]),null);_0x1f6062[_0x3e4bcc(0x429)][_0x3e4bcc(0x71a)]=await _0x2a4107;let _0x608f7e={'messageId':_0x15175d['key']['id']},_0x126a38=_0x1f6062[_0x3e4bcc(0x429)]['realVariables'];Object['assign'](_0x126a38,_0xa1c6e1),_0x1f6062[_0x3e4bcc(0x429)][_0x3e4bcc(0x3ae)]=_0x126a38,this[_0x3e4bcc(0x699)](_0x1f6062,_0xf8abc1,_0x608f7e);}else{let _0x5c5d44={'error':!0x0};this['updateConversation'](_0x1f6062,_0xf8abc1,_0x5c5d44),this[_0x3e4bcc(0x593)][_0x3e4bcc(0x22d)](this[_0x3e4bcc(0x526)]+'\x20('+this[_0x3e4bcc(0x390)][_0x3e4bcc(0x42c)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x58294f){let _0x29f16c={'error':!0x0,'errorLog':_0x58294f[_0x3e4bcc(0x3d6)]()};this[_0x3e4bcc(0x699)](_0x1f6062,_0xf8abc1,_0x29f16c),this[_0x3e4bcc(0x593)]['error'](this['instanceName']+'\x20('+this[_0x3e4bcc(0x390)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+_0x58294f[_0x3e4bcc(0x3d6)]());}}async[a0_0x200bc3(0x6fb)](_0xb5c07d,_0x1ea553,_0x4c414e){const _0x4fa954=a0_0x200bc3;this[_0x4fa954(0x593)][_0x4fa954(0x6d7)](this[_0x4fa954(0x526)]+'\x20('+this[_0x4fa954(0x390)][_0x4fa954(0x42c)]+_0x4fa954(0x506));let _0x2dc522={'number':_0x4c414e,'options':{'delay':_0x1ea553[_0x4fa954(0x4b7)]['delay']},'contactMessage':[{'fullName':_0x1ea553[_0x4fa954(0x4b7)][_0x4fa954(0x596)],'phoneNumber':_0x1ea553['uazapi'][_0x4fa954(0x64f)]}]};try{let _0x113cd0=await this['contactMessage'](_0x2dc522);if(_0x113cd0){let _0x435187={'_id':_0x113cd0[_0x4fa954(0x781)]['id'],'_fromMe':_0x113cd0['key'][_0x4fa954(0x2cf)],'_remoteJid':_0x113cd0[_0x4fa954(0x781)]['remoteJid']};_0xb5c07d['chatLog'][_0x4fa954(0x510)]=_0x1ea553[_0x4fa954(0x54e)][_0x4fa954(0x3d6)]();let {message_normalized:_0x51a6df}=this[_0x4fa954(0x2c0)](_0x113cd0[_0x4fa954(0x646)],W(_0x113cd0[_0x4fa954(0x646)]),null);_0xb5c07d[_0x4fa954(0x429)][_0x4fa954(0x71a)]=await _0x51a6df;let _0x59939a={'messageId':_0x113cd0[_0x4fa954(0x781)]['id']},_0x36c27a=_0xb5c07d[_0x4fa954(0x429)][_0x4fa954(0x3ae)];Object['assign'](_0x36c27a,_0x435187),_0xb5c07d['chatLog']['realVariables']=_0x36c27a,this[_0x4fa954(0x699)](_0xb5c07d,_0x1ea553,_0x59939a);}else{let _0x5ce46e={'error':!0x0};this[_0x4fa954(0x699)](_0xb5c07d,_0x1ea553,_0x5ce46e),this['logger'][_0x4fa954(0x22d)](this['instanceName']+'\x20('+this[_0x4fa954(0x390)]['wuid']+_0x4fa954(0x515));}}catch(_0x58cfd7){let _0x3ed73e={'error':!0x0,'errorLog':_0x58cfd7['toString']()};this[_0x4fa954(0x699)](_0xb5c07d,_0x1ea553,_0x3ed73e),this[_0x4fa954(0x593)]['error'](this['instanceName']+'\x20('+this['instance'][_0x4fa954(0x42c)]+_0x4fa954(0x2fe)+_0x58cfd7[_0x4fa954(0x3d6)]());}}[a0_0x200bc3(0x334)](_0x55cc2b,_0x51a8bf){const _0x8dff93=a0_0x200bc3;for(let _0xf948e6 of _0x55cc2b)_0xf948e6[_0x8dff93(0x5ab)]&&(_0xf948e6[_0x8dff93(0x5ab)]=this[_0x8dff93(0x335)](_0xf948e6['option'],_0x51a8bf)),_0xf948e6[_0x8dff93(0x608)]&&(_0xf948e6['optionDescription']=this[_0x8dff93(0x335)](_0xf948e6[_0x8dff93(0x608)],_0x51a8bf));}async[a0_0x200bc3(0x67b)](_0x131191,_0x3ff317,_0x3cb3f1){const _0x4ac303=a0_0x200bc3;this[_0x4ac303(0x593)][_0x4ac303(0x6d7)](this[_0x4ac303(0x526)]+'\x20('+this[_0x4ac303(0x390)][_0x4ac303(0x42c)]+_0x4ac303(0x25b));let _0x22bc61=_0x131191['replyOptions'][_0x4ac303(0x38d)](_0x4f4413=>_0x4f4413[_0x4ac303(0x3d5)]===_0x3ff317['_id']);this[_0x4ac303(0x334)](_0x22bc61,_0x131191['chatLog'][_0x4ac303(0x3ae)]);let _0x248d56=_0x22bc61['map'](_0x5a816a=>_0x5a816a['option']),_0x2ea053={'number':_0x3cb3f1,'options':{'delay':_0x3ff317[_0x4ac303(0x4b7)]['delay']},'pollMessage':{'name':_0x3ff317[_0x4ac303(0x4b7)][_0x4ac303(0x31b)],'selectableCount':0x1,'values':_0x248d56}};try{let _0x4b5b75=await this[_0x4ac303(0x6c2)](_0x2ea053);if(_0x4b5b75){let _0x4dd2a0={'_id':_0x4b5b75[_0x4ac303(0x781)]['id'],'_fromMe':_0x4b5b75[_0x4ac303(0x781)][_0x4ac303(0x2cf)],'_remoteJid':_0x4b5b75[_0x4ac303(0x781)][_0x4ac303(0x302)]};this[_0x4ac303(0x593)]['verbose'](this['instanceName']+'\x20('+this[_0x4ac303(0x390)][_0x4ac303(0x42c)]+_0x4ac303(0x78b)+_0x3ff317['uazapi'][_0x4ac303(0x31b)]),_0x131191[_0x4ac303(0x735)]=_0x4b5b75[_0x4ac303(0x781)]['id'],_0x131191[_0x4ac303(0x60f)]=_0x3ff317[_0x4ac303(0x4b7)]['name'],_0x131191[_0x4ac303(0x669)]=_0x22bc61,this[_0x4ac303(0x593)][_0x4ac303(0x6d7)](this[_0x4ac303(0x526)]+'\x20('+this[_0x4ac303(0x390)][_0x4ac303(0x42c)]+_0x4ac303(0x752)+_0x131191['waitingPoll_name']),_0x131191[_0x4ac303(0x429)][_0x4ac303(0x510)]=_0x3ff317[_0x4ac303(0x54e)][_0x4ac303(0x3d6)]();let {message_normalized:_0x2047bb}=this['normalizeMessage'](_0x4b5b75[_0x4ac303(0x646)],W(_0x4b5b75['message']),null);_0x131191[_0x4ac303(0x429)]['lastSendMessage']=await _0x2047bb;let _0x181329={'messageId':_0x4b5b75[_0x4ac303(0x781)]['id']},_0x54e92f=_0x131191[_0x4ac303(0x429)]['realVariables'];Object[_0x4ac303(0x4b0)](_0x54e92f,_0x4dd2a0),_0x131191[_0x4ac303(0x429)][_0x4ac303(0x3ae)]=_0x54e92f,this[_0x4ac303(0x699)](_0x131191,_0x3ff317,_0x181329);}else{let _0x309d83={'error':!0x0};this[_0x4ac303(0x699)](_0x131191,_0x3ff317,_0x309d83),this['logger'][_0x4ac303(0x22d)](this[_0x4ac303(0x526)]+'\x20('+this['instance'][_0x4ac303(0x42c)]+_0x4ac303(0x239));}}catch(_0x5b79a3){let _0x467c1c={'error':!0x0,'errorLog':_0x5b79a3['toString']()};this['updateConversation'](_0x131191,_0x3ff317,_0x467c1c),this[_0x4ac303(0x593)][_0x4ac303(0x22d)](this[_0x4ac303(0x526)]+'\x20('+this[_0x4ac303(0x390)][_0x4ac303(0x42c)]+_0x4ac303(0x397)+_0x5b79a3[_0x4ac303(0x3d6)]());}}async[a0_0x200bc3(0x55b)](_0xd5e934,_0x5f208c,_0x182b74){const _0x46b5ea=a0_0x200bc3;this[_0x46b5ea(0x593)][_0x46b5ea(0x6d7)](this[_0x46b5ea(0x526)]+'\x20('+this[_0x46b5ea(0x390)][_0x46b5ea(0x42c)]+'):\x20Deletando\x20mensagem');let _0x3a6c59=_0xd5e934[_0x46b5ea(0x429)][_0x46b5ea(0x520)]['find'](_0x3d0cb0=>_0x3d0cb0[_0x46b5ea(0x3d5)][_0x46b5ea(0x3d6)]()===_0x5f208c[_0x46b5ea(0x4b7)][_0x46b5ea(0x3d5)][_0x46b5ea(0x3d6)]()),_0x3a13a9={'id':_0x3a6c59[_0x46b5ea(0x653)],'remoteJid':_0x3a6c59[_0x46b5ea(0x302)],'fromMe':_0x3a6c59['fromMe']};try{let _0x5a3098=await this[_0x46b5ea(0x756)](_0x3a13a9);if(_0x5a3098){_0xd5e934[_0x46b5ea(0x429)][_0x46b5ea(0x510)]=_0x5f208c['_id'][_0x46b5ea(0x3d6)]();let {message_normalized:_0x3068f0}=this[_0x46b5ea(0x2c0)](_0x5a3098['message'],W(_0x5a3098[_0x46b5ea(0x646)]),null);_0xd5e934[_0x46b5ea(0x429)][_0x46b5ea(0x71a)]=await _0x3068f0;let _0xa1b5c5={};this[_0x46b5ea(0x699)](_0xd5e934,_0x5f208c,_0xa1b5c5);}else{let _0x431744={'error':!0x0};this[_0x46b5ea(0x699)](_0xd5e934,_0x5f208c,_0x431744),this['logger'][_0x46b5ea(0x22d)](this[_0x46b5ea(0x526)]+'\x20('+this[_0x46b5ea(0x390)][_0x46b5ea(0x42c)]+_0x46b5ea(0x2b6));}}catch(_0x4e20c6){let _0x1cb26a={'error':!0x0,'errorLog':_0x4e20c6[_0x46b5ea(0x3d6)]()};this[_0x46b5ea(0x699)](_0xd5e934,_0x5f208c,_0x1cb26a),this[_0x46b5ea(0x593)][_0x46b5ea(0x22d)](this[_0x46b5ea(0x526)]+'\x20('+this[_0x46b5ea(0x390)][_0x46b5ea(0x42c)]+_0x46b5ea(0x70c)+_0x4e20c6['toString']());}}async[a0_0x200bc3(0x73a)](_0x3379ce){const _0x966325=a0_0x200bc3;try{if(this['logger']['verbose'](this[_0x966325(0x526)]+'\x20('+this[_0x966325(0x390)][_0x966325(0x42c)]+_0x966325(0x4c5)),await I[_0x966325(0x1ed)]({'owner':this[_0x966325(0x390)][_0x966325(0x42c)],'name':_0x3379ce[_0x966325(0x31b)]}))return{'message':_0x966325(0x290)};_0x3379ce[_0x966325(0x2bb)]===!0x0&&await I[_0x966325(0x579)]({'owner':this[_0x966325(0x390)][_0x966325(0x42c)]},{'default':!0x1});let _0xf4556b=new be[(_0x966325(0x74c))][(_0x966325(0x479))](),_0x3f994e={'_id':_0xf4556b,'default':!0x0,'title':_0x966325(0x3c1),'x':0x0,'y':0x0},_0x19c05c={'_id':new be[(_0x966325(0x74c))][(_0x966325(0x479))](),'order':0x1,'groupId':_0xf4556b[_0x966325(0x3d6)](),'type':_0x966325(0x360)};return await I[_0x966325(0x57d)]({'owner':this['instance'][_0x966325(0x42c)],'name':_0x3379ce[_0x966325(0x31b)],'groups':[_0x3f994e],'blocks':[_0x19c05c],..._0x3379ce});}catch(_0x41bfae){throw this[_0x966325(0x593)]['error'](this[_0x966325(0x526)]+'\x20('+this[_0x966325(0x390)][_0x966325(0x42c)]+_0x966325(0x480)+_0x41bfae),new g('Erro\x20ao\x20criar\x20o\x20fluxo:\x20'+_0x41bfae);}}async[a0_0x200bc3(0x232)](_0x4b8ce3){const _0x31f17d=a0_0x200bc3;try{return this[_0x31f17d(0x593)][_0x31f17d(0x6d7)](this[_0x31f17d(0x526)]+'\x20('+this['instance'][_0x31f17d(0x42c)]+_0x31f17d(0x1c5)),await I[_0x31f17d(0x1f5)]({'owner':this['instance'][_0x31f17d(0x42c)],'name':_0x4b8ce3});}catch(_0x450f2e){return this[_0x31f17d(0x593)][_0x31f17d(0x22d)](this[_0x31f17d(0x526)]+'\x20('+this[_0x31f17d(0x390)][_0x31f17d(0x42c)]+_0x31f17d(0x395)+_0x450f2e),{'message':_0x31f17d(0x4e4)+_0x450f2e};}}async['getFlow'](_0x25efc7){const _0x15daa7=a0_0x200bc3;try{this[_0x15daa7(0x593)]['verbose'](this[_0x15daa7(0x526)]+'\x20('+this[_0x15daa7(0x390)]['wuid']+'):\x20Buscando\x20flow...');let _0x4a0981=await I['findOne']({'owner':this[_0x15daa7(0x390)][_0x15daa7(0x42c)],'name':_0x25efc7});if(!_0x4a0981)throw new Error(_0x15daa7(0x58f));if(!this[_0x15daa7(0x582)]&&(await this[_0x15daa7(0x751)](),!this[_0x15daa7(0x582)]))return null;let _0x44d6ee=this[_0x15daa7(0x582)]?.[_0x15daa7(0x528)]['map'](_0x3f3186=>_0x3f3186[_0x15daa7(0x31b)]),_0x57145c=[_0x15daa7(0x778),'nomecompleto','email',_0x15daa7(0x27f),'status',_0x15daa7(0x652),'responsavelid',_0x15daa7(0x4af)];return _0x4a0981[_0x15daa7(0x3f7)]=_0x4a0981[_0x15daa7(0x3f7)][_0x15daa7(0x38d)](_0x26f021=>!(_0x26f021['folder']===_0x15daa7(0x2c6)||_0x26f021['leadInfo'])),_0x57145c['forEach'](_0x5f0d3a=>{const _0x8087e3=_0x15daa7;_0x4a0981[_0x8087e3(0x3f7)]['push']({'folder':_0x8087e3(0x2c6),'name':_0x5f0d3a,'value':'','doc':'','leadInfo':!0x0});}),_0x44d6ee['forEach'](_0x4fa3d3=>{const _0x20bfe1=_0x15daa7;let _0x3d9c37=_0x4a0981['variables'][_0x20bfe1(0x2b8)](_0x362c30=>_0x362c30[_0x20bfe1(0x31b)]===_0x4fa3d3);_0x3d9c37===-0x1?_0x4a0981[_0x20bfe1(0x3f7)]['push']({'folder':_0x20bfe1(0x2c6),'name':_0x4fa3d3,'value':'','doc':'','leadInfo':!0x0}):(_0x4a0981['variables'][_0x3d9c37][_0x20bfe1(0x1cd)]=_0x20bfe1(0x2c6),_0x4a0981[_0x20bfe1(0x3f7)][_0x3d9c37]['leadInfo']=!0x0);}),await _0x4a0981[_0x15daa7(0x660)](),_0x4a0981;}catch(_0x4a6a0a){throw this[_0x15daa7(0x593)][_0x15daa7(0x22d)](this['instanceName']+'\x20('+this[_0x15daa7(0x390)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20'+_0x4a6a0a),new g(_0x15daa7(0x1ee)+_0x4a6a0a);}}async['allFlows'](){const _0x54c878=a0_0x200bc3;try{return this[_0x54c878(0x593)][_0x54c878(0x6d7)](this['instanceName']+'\x20('+this['instance'][_0x54c878(0x42c)]+_0x54c878(0x424)),await I[_0x54c878(0x487)]({'owner':this[_0x54c878(0x390)][_0x54c878(0x42c)]});}catch(_0x189b1d){return this[_0x54c878(0x593)]['error'](this[_0x54c878(0x526)]+'\x20('+this[_0x54c878(0x390)][_0x54c878(0x42c)]+_0x54c878(0x519)+_0x189b1d),{'message':_0x54c878(0x3b5)+_0x189b1d};}}async[a0_0x200bc3(0x79e)](_0x175090){const _0x3dddc2=a0_0x200bc3;try{this[_0x3dddc2(0x593)][_0x3dddc2(0x6d7)](this[_0x3dddc2(0x526)]+'\x20('+this[_0x3dddc2(0x390)][_0x3dddc2(0x42c)]+_0x3dddc2(0x78d));let _0x523347=await I[_0x3dddc2(0x1ed)]({'owner':this[_0x3dddc2(0x390)][_0x3dddc2(0x42c)],'name':_0x175090[_0x3dddc2(0x31b)]});if(!_0x523347)return{'message':_0x3dddc2(0x39f)};if(_0x175090['default']===!0x0&&await I[_0x3dddc2(0x579)]({'owner':this[_0x3dddc2(0x390)][_0x3dddc2(0x42c)]},{'default':!0x1}),_0x175090[_0x3dddc2(0x43f)]){if(await I[_0x3dddc2(0x1ed)]({'owner':this['instance'][_0x3dddc2(0x42c)],'name':_0x175090['newName']}))return{'message':'Já\x20existe\x20fluxo\x20com\x20esse\x20nome'};_0x175090['name']=_0x175090[_0x3dddc2(0x43f)],delete _0x175090[_0x3dddc2(0x43f)];}return await I[_0x3dddc2(0x674)](_0x523347['_id'],{'$set':_0x175090},{'new':!0x0});}catch(_0x198119){throw this[_0x3dddc2(0x593)]['error'](this[_0x3dddc2(0x526)]+'\x20('+this['instance'][_0x3dddc2(0x42c)]+_0x3dddc2(0x6e9)+_0x198119),new g(_0x3dddc2(0x2e4)+_0x198119);}}async['editFlowBlock'](_0x934fc5){const _0x51bd1f=a0_0x200bc3;try{this[_0x51bd1f(0x593)][_0x51bd1f(0x6d7)](this['instanceName']+'\x20('+this[_0x51bd1f(0x390)][_0x51bd1f(0x42c)]+_0x51bd1f(0x79a));let _0x424bae={'owner':this[_0x51bd1f(0x390)]['wuid'],'name':_0x934fc5['name']},_0x5a939b=await I[_0x51bd1f(0x1ed)](_0x424bae);_0x5a939b||this[_0x51bd1f(0x600)](_0x51bd1f(0x58f));let {block:_0x9a0049}=_0x934fc5;return _0x9a0049?.[_0x51bd1f(0x3e3)]?this[_0x51bd1f(0x672)](_0x5a939b,_0x934fc5):_0x9a0049[_0x51bd1f(0x54e)]?await this[_0x51bd1f(0x40b)](_0x5a939b,_0x934fc5):this[_0x51bd1f(0x5db)](_0x5a939b,_0x934fc5),await _0x5a939b[_0x51bd1f(0x660)](),_0x5a939b;}catch(_0x1e289a){this['throwAndLogError'](_0x51bd1f(0x710)+_0x1e289a);}}[a0_0x200bc3(0x600)](_0x34ebd2){const _0x1fcefe=a0_0x200bc3;throw this[_0x1fcefe(0x593)][_0x1fcefe(0x22d)](this[_0x1fcefe(0x526)]+'\x20('+this[_0x1fcefe(0x390)]['wuid']+_0x1fcefe(0x73e)+_0x34ebd2),new g(_0x34ebd2);}['deleteBlock'](_0x427096,_0x48cfdb){const _0x59214f=a0_0x200bc3;let {block:_0x417030}=_0x48cfdb;if(_0x417030[_0x59214f(0x757)]===_0x59214f(0x360)){this[_0x59214f(0x600)](_0x59214f(0x3ac));return;}if(!_0x417030[_0x59214f(0x54e)]){this['throwAndLogError'](_0x59214f(0x57c));return;}let _0x46f2cf=_0x427096[_0x59214f(0x4d3)][_0x59214f(0x487)](_0x597cb7=>_0x597cb7[_0x59214f(0x54e)][_0x59214f(0x3d6)]()===_0x48cfdb[_0x59214f(0x77d)]['_id'][_0x59214f(0x3d6)]());if(!_0x46f2cf){this['throwAndLogError'](_0x59214f(0x561)+_0x417030[_0x59214f(0x54e)]+_0x59214f(0x6fc));return;}_0x427096[_0x59214f(0x4d3)]=_0x427096['blocks'][_0x59214f(0x38d)](_0x229c48=>_0x229c48['_id'][_0x59214f(0x3d6)]()!==_0x48cfdb[_0x59214f(0x77d)][_0x59214f(0x54e)][_0x59214f(0x3d6)]()),_0x427096[_0x59214f(0x355)]=_0x427096[_0x59214f(0x355)][_0x59214f(0x38d)](_0x3c3824=>_0x3c3824['blockId']!==_0x417030[_0x59214f(0x54e)]['toString']()),_0x427096['varedits']=_0x427096[_0x59214f(0x47e)][_0x59214f(0x38d)](_0x11ac95=>_0x11ac95[_0x59214f(0x3d5)]!==_0x417030['_id'][_0x59214f(0x3d6)]()),_0x427096[_0x59214f(0x63f)]=_0x427096[_0x59214f(0x63f)]['filter'](_0x180ceb=>_0x180ceb[_0x59214f(0x3d5)]!==_0x417030[_0x59214f(0x54e)]['toString']()),this['reorderBlocks'](_0x427096[_0x59214f(0x4d3)],_0x46f2cf[_0x59214f(0x2ed)]);}async[a0_0x200bc3(0x40b)](_0x5b56f1,_0x1e4965){const _0x28507c=a0_0x200bc3;let _0x59bd47=_0x5b56f1[_0x28507c(0x4d3)][_0x28507c(0x2b8)](_0x4d178f=>_0x4d178f['_id'][_0x28507c(0x3d6)]()===_0x1e4965[_0x28507c(0x77d)]['_id'][_0x28507c(0x3d6)]());if(this[_0x28507c(0x593)][_0x28507c(0x6d7)](this['instanceName']+'\x20('+this['instance'][_0x28507c(0x42c)]+_0x28507c(0x4b4)+_0x59bd47),_0x59bd47===-0x1){this['logger']['verbose'](_0x28507c(0x561)+_0x1e4965[_0x28507c(0x77d)][_0x28507c(0x54e)]+_0x28507c(0x317));return;}if(_0x5b56f1['blocks'][_0x59bd47][_0x28507c(0x757)]===_0x28507c(0x360)){let _0x1cd553=Object[_0x28507c(0x72a)](_0x1e4965[_0x28507c(0x77d)]);if(_0x1cd553[_0x28507c(0x306)]>0x2||_0x1cd553[_0x28507c(0x306)]===0x2&&!_0x1cd553['includes'](_0x28507c(0x31d))){this[_0x28507c(0x600)]('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x272994=_0x5b56f1[_0x28507c(0x4d3)][_0x59bd47][_0x28507c(0x2ed)];for(let _0xe6ef3d in _0x1e4965[_0x28507c(0x77d)])_0x1e4965[_0x28507c(0x77d)][_0x28507c(0x223)](_0xe6ef3d)&&(_0x5b56f1['blocks'][_0x59bd47][_0xe6ef3d]=_0x1e4965[_0x28507c(0x77d)][_0xe6ef3d]);if(this[_0x28507c(0x593)][_0x28507c(0x6d7)](this[_0x28507c(0x526)]+'\x20('+this['instance'][_0x28507c(0x42c)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x28507c(0x76b)](_0x5b56f1['blocks'][_0x59bd47])),_0x5b56f1['blocks'][_0x59bd47][_0x28507c(0x3fb)]&&'header'in _0x5b56f1[_0x28507c(0x4d3)][_0x59bd47][_0x28507c(0x3fb)]){this[_0x28507c(0x593)][_0x28507c(0x6d7)](this[_0x28507c(0x526)]+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0xf1f448=JSON[_0x28507c(0x76b)](_0x5b56f1[_0x28507c(0x4d3)][_0x59bd47][_0x28507c(0x3fb)][_0x28507c(0x51c)],null,0x1);_0xf1f448[_0x28507c(0x306)]>0x2&&(_0xf1f448=_0xf1f448[_0x28507c(0x4cd)](0x1,_0xf1f448[_0x28507c(0x306)]-0x1)[_0x28507c(0x2f8)]()),_0x5b56f1[_0x28507c(0x4d3)][_0x59bd47][_0x28507c(0x3fb)][_0x28507c(0x734)]=_0xf1f448;}if(_0x5b56f1[_0x28507c(0x4d3)][_0x59bd47][_0x28507c(0x3fb)]&&_0x28507c(0x4ea)in _0x5b56f1[_0x28507c(0x4d3)][_0x59bd47][_0x28507c(0x3fb)]){this['logger'][_0x28507c(0x6d7)](this['instanceName']+'\x20('+this[_0x28507c(0x390)][_0x28507c(0x42c)]+_0x28507c(0x4ab));let _0x19f319=JSON[_0x28507c(0x76b)](_0x5b56f1['blocks'][_0x59bd47][_0x28507c(0x3fb)][_0x28507c(0x4ea)],null,0x1);_0x19f319[_0x28507c(0x306)]>0x2&&(_0x19f319=_0x19f319[_0x28507c(0x4cd)](0x1,_0x19f319[_0x28507c(0x306)]-0x1)['trim']()),_0x5b56f1[_0x28507c(0x4d3)][_0x59bd47]['apirequest'][_0x28507c(0x59a)]=_0x19f319;}let _0x59ae4d=_0x5b56f1[_0x28507c(0x4d3)][_0x59bd47][_0x28507c(0x2ed)];_0x272994!==_0x59ae4d?(this[_0x28507c(0x6a0)](_0x5b56f1[_0x28507c(0x4d3)],_0x272994),this['reorderBlocks'](_0x5b56f1[_0x28507c(0x4d3)],_0x59ae4d)):this[_0x28507c(0x6a0)](_0x5b56f1[_0x28507c(0x4d3)],_0x272994);}[a0_0x200bc3(0x5db)](_0x1c65ba,_0x177ed8){const _0xab9da9=a0_0x200bc3;if(_0x177ed8['block'][_0xab9da9(0x757)]===_0xab9da9(0x360)){this[_0xab9da9(0x600)](_0xab9da9(0x51a));return;}if(_0x177ed8[_0xab9da9(0x77d)][_0xab9da9(0x3fb)]&&'header'in _0x177ed8[_0xab9da9(0x77d)]['apirequest']){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0xab9da9(0x390)]['wuid']+_0xab9da9(0x5c7));let _0x135e70=JSON[_0xab9da9(0x76b)](_0x177ed8[_0xab9da9(0x77d)][_0xab9da9(0x3fb)][_0xab9da9(0x51c)],null,0x1);_0x135e70[_0xab9da9(0x306)]>0x2&&(_0x135e70=_0x135e70['substring'](0x1,_0x135e70[_0xab9da9(0x306)]-0x1)[_0xab9da9(0x2f8)]()),_0x177ed8[_0xab9da9(0x77d)][_0xab9da9(0x3fb)][_0xab9da9(0x734)]=_0x135e70;}_0x177ed8[_0xab9da9(0x77d)]['apirequest']&&_0xab9da9(0x4ea)in _0x177ed8[_0xab9da9(0x77d)]['apirequest']&&(this[_0xab9da9(0x593)][_0xab9da9(0x6d7)](this[_0xab9da9(0x526)]+'\x20('+this[_0xab9da9(0x390)][_0xab9da9(0x42c)]+_0xab9da9(0x4ab)),_0x177ed8['block'][_0xab9da9(0x3fb)][_0xab9da9(0x59a)]=JSON[_0xab9da9(0x76b)](_0x177ed8['block'][_0xab9da9(0x3fb)][_0xab9da9(0x4ea)],null,0x1)[_0xab9da9(0x2f8)]()),_0x1c65ba['blocks'][_0xab9da9(0x20a)](_0x177ed8[_0xab9da9(0x77d)]),this[_0xab9da9(0x6a0)](_0x1c65ba[_0xab9da9(0x4d3)],_0x177ed8[_0xab9da9(0x77d)][_0xab9da9(0x2ed)]);}[a0_0x200bc3(0x6a0)](_0x43fef9,_0x42917b){const _0x56a9bd=a0_0x200bc3;let _0x3867c5=_0x43fef9['filter'](_0x4309dc=>_0x4309dc[_0x56a9bd(0x2ed)]===_0x42917b);_0x3867c5[_0x56a9bd(0x2e2)]((_0x26e8a0,_0x27e218)=>_0x26e8a0[_0x56a9bd(0x1d6)]-_0x27e218[_0x56a9bd(0x1d6)]),_0x3867c5[_0x56a9bd(0x5c6)]((_0x1041bb,_0x15b3a5)=>_0x1041bb[_0x56a9bd(0x1d6)]=_0x15b3a5+0x1);}async[a0_0x200bc3(0x5a9)](_0x58f8ad){const _0x33cbe2=a0_0x200bc3;try{if(this[_0x33cbe2(0x593)]['verbose'](this['instanceName']+'\x20('+this[_0x33cbe2(0x390)][_0x33cbe2(0x42c)]+_0x33cbe2(0x240)),!_0x58f8ad||!_0x58f8ad[_0x33cbe2(0x1de)]){this['throwAndLogError'](_0x33cbe2(0x690));return;}let _0x374067={'owner':this[_0x33cbe2(0x390)]['wuid'],'name':_0x58f8ad[_0x33cbe2(0x31b)]},_0x51026f=await I[_0x33cbe2(0x1ed)](_0x374067);_0x51026f||this['throwAndLogError'](_0x33cbe2(0x58f));let {replyOption:_0x39851e}=_0x58f8ad;return _0x39851e?.[_0x33cbe2(0x3e3)]?this[_0x33cbe2(0x56d)](_0x51026f,_0x58f8ad):_0x39851e[_0x33cbe2(0x54e)]?await this['updateReplyOption'](_0x51026f,_0x58f8ad):this[_0x33cbe2(0x66c)](_0x51026f,_0x58f8ad),await _0x51026f[_0x33cbe2(0x660)](),_0x51026f;}catch(_0x309c96){this[_0x33cbe2(0x600)](_0x33cbe2(0x387)+_0x309c96);}}[a0_0x200bc3(0x56d)](_0x22959a,_0x303d1f){const _0x38fee3=a0_0x200bc3;let {replyOption:_0x530dbe}=_0x303d1f;if(!_0x530dbe[_0x38fee3(0x54e)]){this[_0x38fee3(0x600)](_0x38fee3(0x293));return;}if(!_0x22959a[_0x38fee3(0x63f)][_0x38fee3(0x487)](_0x3dd8c0=>_0x3dd8c0[_0x38fee3(0x54e)][_0x38fee3(0x3d6)]()===_0x303d1f[_0x38fee3(0x1de)][_0x38fee3(0x54e)][_0x38fee3(0x3d6)]())){this[_0x38fee3(0x600)](_0x38fee3(0x346)+_0x530dbe['_id']+_0x38fee3(0x6fc));return;}_0x22959a['replyOptions']=_0x22959a[_0x38fee3(0x63f)]['filter'](_0xf3cd62=>_0xf3cd62[_0x38fee3(0x54e)][_0x38fee3(0x3d6)]()!==_0x303d1f[_0x38fee3(0x1de)][_0x38fee3(0x54e)][_0x38fee3(0x3d6)]());}async[a0_0x200bc3(0x795)](_0x30024d,_0x3e646f){const _0x38928b=a0_0x200bc3;let _0x57a750=_0x30024d[_0x38928b(0x63f)][_0x38928b(0x2b8)](_0x5df03f=>_0x5df03f[_0x38928b(0x54e)][_0x38928b(0x3d6)]()===_0x3e646f[_0x38928b(0x1de)][_0x38928b(0x54e)][_0x38928b(0x3d6)]());if(_0x57a750===-0x1){this[_0x38928b(0x600)]('ReplyOption\x20com\x20ID\x20'+_0x3e646f[_0x38928b(0x1de)][_0x38928b(0x54e)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x50ff23 in _0x3e646f['replyOption'])_0x3e646f['replyOption'][_0x38928b(0x223)](_0x50ff23)&&(_0x30024d[_0x38928b(0x63f)][_0x57a750][_0x50ff23]=_0x3e646f[_0x38928b(0x1de)][_0x50ff23]);}[a0_0x200bc3(0x66c)](_0x255903,_0xa42f9a){const _0x335d3a=a0_0x200bc3;_0x255903[_0x335d3a(0x63f)][_0x335d3a(0x20a)](_0xa42f9a['replyOption']);}async['editFlowGroup'](_0x88ce1d){const _0x204445=a0_0x200bc3;this[_0x204445(0x593)]['verbose'](this[_0x204445(0x526)]+'\x20('+this[_0x204445(0x390)][_0x204445(0x42c)]+_0x204445(0x54b)+_0x88ce1d);try{this[_0x204445(0x593)][_0x204445(0x6d7)](this[_0x204445(0x526)]+'\x20('+this[_0x204445(0x390)]['wuid']+'):\x20Editando\x20grupo\x20do\x20fluxo...');let _0x180163={'owner':this[_0x204445(0x390)][_0x204445(0x42c)],'name':_0x88ce1d['name']},_0x378af3=await I[_0x204445(0x1ed)](_0x180163);if(!_0x378af3)throw new Error(_0x204445(0x58f));if(_0x88ce1d[_0x204445(0x5d7)]&&_0x88ce1d[_0x204445(0x5d7)]?.[_0x204445(0x3e3)]===!0x0){if(this['logger'][_0x204445(0x6d7)](this[_0x204445(0x526)]+'\x20('+this[_0x204445(0x390)][_0x204445(0x42c)]+_0x204445(0x5e4)),_0x88ce1d['group'][_0x204445(0x2bb)]===!0x0)return{'message':_0x204445(0x72f)};if(_0x378af3[_0x204445(0x4d3)][_0x204445(0x3f2)](_0x3efedd=>_0x3efedd[_0x204445(0x2ed)]['toString']()===_0x88ce1d[_0x204445(0x5d7)][_0x204445(0x54e)]))return this[_0x204445(0x593)][_0x204445(0x6d7)](this[_0x204445(0x526)]+'\x20('+this[_0x204445(0x390)][_0x204445(0x42c)]+'):\x20tem\x20blocks'),{'message':_0x204445(0x475)};_0x378af3[_0x204445(0x1c0)]=_0x378af3[_0x204445(0x1c0)]['filter'](_0x3839c4=>_0x3839c4['_id'][_0x204445(0x3d6)]()!==_0x88ce1d[_0x204445(0x5d7)][_0x204445(0x54e)]);}else{if(_0x88ce1d[_0x204445(0x5d7)]){if(_0x88ce1d[_0x204445(0x5d7)][_0x204445(0x2bb)]===!0x0)return{'message':_0x204445(0x6a1)};if(_0x88ce1d['group'][_0x204445(0x54e)]){let _0x10bb25=_0x378af3[_0x204445(0x1c0)]['find'](_0x3f602a=>_0x3f602a[_0x204445(0x54e)][_0x204445(0x3d6)]()===_0x88ce1d['group'][_0x204445(0x54e)]);_0x10bb25&&(_0x88ce1d[_0x204445(0x5d7)]['x']<0x0&&(_0x88ce1d[_0x204445(0x5d7)]['x']=0x0),_0x88ce1d['group']['y']<0x0&&(_0x88ce1d[_0x204445(0x5d7)]['y']=0x0),Object[_0x204445(0x4b0)](_0x10bb25,_0x88ce1d['group']));}else _0x378af3['groups']['push'](_0x88ce1d['group']);}}return await _0x378af3['save'](),_0x378af3;}catch(_0xf5bc2a){throw this[_0x204445(0x593)][_0x204445(0x22d)](this['instanceName']+'\x20('+this['instance'][_0x204445(0x42c)]+_0x204445(0x399)+_0xf5bc2a),new g(_0x204445(0x46d)+_0xf5bc2a);}}async[a0_0x200bc3(0x307)](_0x1123c7){const _0x42dc96=a0_0x200bc3;try{this['logger'][_0x42dc96(0x6d7)](this['instanceName']+'\x20('+this[_0x42dc96(0x390)]['wuid']+_0x42dc96(0x412));let _0x1111c2={'owner':this[_0x42dc96(0x390)][_0x42dc96(0x42c)],'name':_0x1123c7['name']},_0x413993=await I[_0x42dc96(0x1ed)](_0x1111c2);if(!_0x413993)throw new Error(_0x42dc96(0x58f));let _0x3446c0=!0x1;if(_0x1123c7['condition']?.[_0x42dc96(0x3e3)]===!0x0)_0x413993[_0x42dc96(0x355)]=_0x413993['conditions'][_0x42dc96(0x38d)](_0x507dbc=>_0x507dbc&&_0x1123c7[_0x42dc96(0x731)]&&_0x507dbc['_id']&&_0x1123c7[_0x42dc96(0x731)]['_id']&&_0x507dbc[_0x42dc96(0x54e)][_0x42dc96(0x3d6)]()!==_0x1123c7[_0x42dc96(0x731)][_0x42dc96(0x54e)]['toString']()),_0x3446c0=!0x0;else{let _0x3dd7ea=_0x413993[_0x42dc96(0x355)][_0x42dc96(0x487)](_0x2121dc=>_0x2121dc&&_0x1123c7[_0x42dc96(0x731)]&&_0x2121dc['_id']&&_0x1123c7[_0x42dc96(0x731)][_0x42dc96(0x54e)]&&_0x2121dc['_id']['toString']()===_0x1123c7['condition'][_0x42dc96(0x54e)][_0x42dc96(0x3d6)]());_0x3dd7ea?(_0x3446c0=_0x3dd7ea['order']!==_0x1123c7[_0x42dc96(0x731)][_0x42dc96(0x1d6)],Object[_0x42dc96(0x4b0)](_0x3dd7ea,_0x1123c7[_0x42dc96(0x731)])):(_0x413993[_0x42dc96(0x355)][_0x42dc96(0x20a)](_0x1123c7[_0x42dc96(0x731)]),_0x3446c0=!0x0);}if(_0x3446c0){_0x413993[_0x42dc96(0x355)][_0x42dc96(0x2e2)]((_0x59035d,_0x3a3d05)=>_0x59035d['order']>_0x3a3d05[_0x42dc96(0x1d6)]?0x1:_0x3a3d05['order']>_0x59035d['order']?-0x1:0x0);for(let _0x4d42dd=0x0;_0x4d42dd<_0x413993[_0x42dc96(0x355)][_0x42dc96(0x306)];_0x4d42dd++)_0x413993[_0x42dc96(0x355)][_0x4d42dd]['order']=_0x4d42dd+0x1;_0x413993[_0x42dc96(0x355)]['length']>0x0&&(_0x413993['conditions'][0x0][_0x42dc96(0x59e)]=_0x42dc96(0x2ba));}return await _0x413993['save'](),_0x413993;}catch(_0x7f9a10){throw this[_0x42dc96(0x593)][_0x42dc96(0x22d)](this[_0x42dc96(0x526)]+'\x20('+this['instance'][_0x42dc96(0x42c)]+_0x42dc96(0x4ec)+_0x7f9a10),new Error(_0x42dc96(0x75f)+_0x7f9a10);}}async[a0_0x200bc3(0x521)](_0x3e6005){const _0x4a03a3=a0_0x200bc3;try{this[_0x4a03a3(0x593)][_0x4a03a3(0x6d7)](this[_0x4a03a3(0x526)]+'\x20('+this[_0x4a03a3(0x390)][_0x4a03a3(0x42c)]+_0x4a03a3(0x4d2));let _0x29592a={'owner':this[_0x4a03a3(0x390)][_0x4a03a3(0x42c)],'name':_0x3e6005[_0x4a03a3(0x31b)]},_0x28ba65=await I[_0x4a03a3(0x1ed)](_0x29592a);if(!_0x28ba65)throw new Error(_0x4a03a3(0x58f));let _0x60e6be=!0x1;if(_0x3e6005[_0x4a03a3(0x478)]?.[_0x4a03a3(0x3e3)]===!0x0)_0x28ba65['varedits']=_0x28ba65['varedits']['filter'](_0x10d592=>_0x10d592&&_0x3e6005[_0x4a03a3(0x478)]&&_0x10d592[_0x4a03a3(0x54e)]&&_0x3e6005[_0x4a03a3(0x478)]['_id']&&_0x10d592['_id'][_0x4a03a3(0x3d6)]()!==_0x3e6005[_0x4a03a3(0x478)][_0x4a03a3(0x54e)]['toString']()),_0x60e6be=!0x0;else{let _0x3133d0=_0x28ba65[_0x4a03a3(0x47e)][_0x4a03a3(0x487)](_0x5a741e=>_0x5a741e&&_0x3e6005[_0x4a03a3(0x478)]&&_0x5a741e[_0x4a03a3(0x54e)]&&_0x3e6005[_0x4a03a3(0x478)][_0x4a03a3(0x54e)]&&_0x5a741e[_0x4a03a3(0x54e)][_0x4a03a3(0x3d6)]()===_0x3e6005['varedit'][_0x4a03a3(0x54e)]['toString']());_0x3133d0?(_0x60e6be=_0x3133d0[_0x4a03a3(0x1d6)]!==_0x3e6005['varedit'][_0x4a03a3(0x1d6)],Object[_0x4a03a3(0x4b0)](_0x3133d0,_0x3e6005[_0x4a03a3(0x478)])):(_0x28ba65[_0x4a03a3(0x47e)]['push'](_0x3e6005[_0x4a03a3(0x478)]),_0x60e6be=!0x0);}if(_0x60e6be){_0x28ba65[_0x4a03a3(0x47e)]['sort']((_0xab0e42,_0x434434)=>_0xab0e42[_0x4a03a3(0x1d6)]>_0x434434['order']?0x1:_0x434434[_0x4a03a3(0x1d6)]>_0xab0e42[_0x4a03a3(0x1d6)]?-0x1:0x0);for(let _0x1c5ac4=0x0;_0x1c5ac4<_0x28ba65['varedits'][_0x4a03a3(0x306)];_0x1c5ac4++)_0x28ba65[_0x4a03a3(0x47e)][_0x1c5ac4][_0x4a03a3(0x1d6)]=_0x1c5ac4+0x1;}return await _0x28ba65[_0x4a03a3(0x660)](),_0x28ba65;}catch(_0x425694){throw this[_0x4a03a3(0x593)]['error'](this[_0x4a03a3(0x526)]+'\x20('+this[_0x4a03a3(0x390)][_0x4a03a3(0x42c)]+_0x4a03a3(0x4ec)+_0x425694),new g('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+_0x425694);}}async[a0_0x200bc3(0x4bc)](_0xc3fb5d){const _0x5213a6=a0_0x200bc3;try{this['logger'][_0x5213a6(0x6d7)](this[_0x5213a6(0x526)]+'\x20('+this[_0x5213a6(0x390)][_0x5213a6(0x42c)]+'):\x20Editando\x20variável\x20do\x20fluxo...');let _0x177f03={'owner':this[_0x5213a6(0x390)][_0x5213a6(0x42c)],'name':_0xc3fb5d[_0x5213a6(0x31b)]},_0x421f39=await I['findOne'](_0x177f03);if(!_0x421f39)throw new Error('Flow\x20não\x20encontrado');_0xc3fb5d[_0x5213a6(0x7a7)][_0x5213a6(0x31b)]=_0xc3fb5d[_0x5213a6(0x7a7)][_0x5213a6(0x31b)][_0x5213a6(0x2f8)](),_0xc3fb5d[_0x5213a6(0x7a7)][_0x5213a6(0x31b)][_0x5213a6(0x75d)]('_')&&(_0xc3fb5d[_0x5213a6(0x7a7)][_0x5213a6(0x31b)]=_0xc3fb5d['variable'][_0x5213a6(0x31b)][_0x5213a6(0x4cd)](0x1)),_0xc3fb5d['variable'][_0x5213a6(0x31b)]=_0xc3fb5d[_0x5213a6(0x7a7)][_0x5213a6(0x31b)][_0x5213a6(0x2f8)]();let _0x37a671=_0x421f39['variables']['find'](_0x3d0550=>_0x3d0550['name']===_0xc3fb5d['variable'][_0x5213a6(0x31b)]);if(_0x37a671?.[_0x5213a6(0x2c6)]===!0x0)throw new Error(_0x5213a6(0x563));if(_0xc3fb5d['variable']?.[_0x5213a6(0x3e3)]===!0x0){if(!_0x37a671)return{'message':'Variável\x20não\x20encontrada!'};_0x421f39[_0x5213a6(0x3f7)]=_0x421f39[_0x5213a6(0x3f7)][_0x5213a6(0x38d)](_0x36684b=>_0x36684b[_0x5213a6(0x31b)]!==_0xc3fb5d['variable']['name']);}else _0x37a671?Object['assign'](_0x37a671,_0xc3fb5d[_0x5213a6(0x7a7)]):_0x421f39[_0x5213a6(0x3f7)][_0x5213a6(0x20a)](_0xc3fb5d[_0x5213a6(0x7a7)]);return await _0x421f39['save'](),_0x421f39;}catch(_0x3aaa93){throw this[_0x5213a6(0x593)]['error'](this[_0x5213a6(0x526)]+'\x20('+this[_0x5213a6(0x390)][_0x5213a6(0x42c)]+_0x5213a6(0x2c2)+_0x3aaa93),new g(_0x5213a6(0x4a3)+_0x3aaa93);}}async[a0_0x200bc3(0x398)](_0x2d66cd){const _0x394cf8=a0_0x200bc3;try{if(!this['AutomateSystem']?.['flowConfig']['enabled'])throw new g(_0x394cf8(0x5c5));this[_0x394cf8(0x593)][_0x394cf8(0x6d7)](this[_0x394cf8(0x526)]+'\x20('+this[_0x394cf8(0x390)][_0x394cf8(0x42c)]+_0x394cf8(0x45e));let _0x450bb3=(await this[_0x394cf8(0x502)]({'numbers':[_0x2d66cd[_0x394cf8(0x302)]]}))[0x0];if(!_0x450bb3[_0x394cf8(0x47c)]&&!(0x0,w[_0x394cf8(0x3ca)])(_0x450bb3[_0x394cf8(0x6a8)])&&!_0x450bb3[_0x394cf8(0x6a8)][_0x394cf8(0x46e)](_0x394cf8(0x41c)))throw new g(_0x450bb3);let _0x2cb501=await I[_0x394cf8(0x1ed)]({'owner':this['instance'][_0x394cf8(0x42c)],'name':_0x2d66cd['name']});if(!_0x2cb501)return this[_0x394cf8(0x593)][_0x394cf8(0x22d)](this[_0x394cf8(0x526)]+'\x20('+this[_0x394cf8(0x390)][_0x394cf8(0x42c)]+_0x394cf8(0x6f9)),{'message':_0x394cf8(0x58f)};let _0x1fc72c=await this[_0x394cf8(0x42f)](_0x2cb501,_0x450bb3['jid'],_0x2d66cd[_0x394cf8(0x5c0)]);if(_0x1fc72c){this['logger']['verbose'](this[_0x394cf8(0x526)]+'\x20('+this['instance'][_0x394cf8(0x42c)]+_0x394cf8(0x1ef));let _0x367b10=await this['NextBlock'](_0x1fc72c);return _0x367b10&&await this['processblock'](_0x1fc72c,_0x367b10,_0x1fc72c['remoteJid']),{'message':_0x394cf8(0x5bb)+_0x2d66cd['remoteJid']};}}catch(_0x45815d){if(this[_0x394cf8(0x593)][_0x394cf8(0x22d)](this[_0x394cf8(0x526)]+'\x20('+this[_0x394cf8(0x390)]['wuid']+_0x394cf8(0x39c)+_0x45815d),_0x45815d&&_0x45815d[_0x394cf8(0x646)]&&Array['isArray'](_0x45815d[_0x394cf8(0x646)])&&_0x45815d[_0x394cf8(0x646)][0x0]){let {jid:_0x7919bd,exists:_0x1b6067}=_0x45815d[_0x394cf8(0x646)][0x0];}throw new g(_0x394cf8(0x333)+_0x45815d[_0x394cf8(0x646)]);}}async[a0_0x200bc3(0x60b)](_0x284275){const _0x2358b3=a0_0x200bc3;let _0x56f47e=await F[_0x2358b3(0x579)]({'owner':this[_0x2358b3(0x390)][_0x2358b3(0x42c)],'remoteJid':_0x284275,'status':_0x2358b3(0x5b4)},{'$set':{'status':'closed'}});return this[_0x2358b3(0x593)][_0x2358b3(0x6d7)](this[_0x2358b3(0x526)]+'\x20('+this['instance'][_0x2358b3(0x42c)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x56f47e;}async[a0_0x200bc3(0x42f)](_0x1cf16f,_0x51eaea,_0x297702){const _0x25092d=a0_0x200bc3;this[_0x25092d(0x593)][_0x25092d(0x6d7)](this[_0x25092d(0x526)]+'\x20('+this[_0x25092d(0x390)][_0x25092d(0x42c)]+_0x25092d(0x1d1)),await this['closeExistingConversations'](_0x51eaea);try{let _0x3b911b=require(_0x25092d(0x23b))[_0x25092d(0x479)],_0x1f3284=Date[_0x25092d(0x5f7)](),_0x2ecbf8='start',_0x422cb6={},_0xeecf5={},_0xa91083={..._0x1cf16f[_0x25092d(0x2d3)],'chatLog':null},_0x4b3793=await this['variablesToObject'](_0xa91083[_0x25092d(0x3f7)]),_0x319f81=await this['getVariablesChat'](_0x51eaea),_0x5c268d={..._0x4b3793,..._0x319f81,'_remoteJid':_0x51eaea},_0x576439={'lastReceivedMessage':_0x422cb6,'lastSendMessage':_0xeecf5,'lastBlockId':_0x2ecbf8,'lastCondition':!0x0,'realVariables':_0x5c268d};_0xa91083[_0x25092d(0x429)]=_0x576439,_0xa91083[_0x25092d(0x429)][_0x25092d(0x3ae)]={..._0x5c268d,..._0x297702},delete _0xa91083[_0x25092d(0x54e)],_0xa91083[_0x25092d(0x54e)]=new _0x3b911b(),_0xa91083[_0x25092d(0x4cb)]=_0x1f3284,_0xa91083['status']=_0x25092d(0x5b4),_0xa91083[_0x25092d(0x302)]=_0x51eaea;let _0x348191=await F[_0x25092d(0x57d)](_0xa91083);return this[_0x25092d(0x593)]['verbose'](this['instanceName']+'\x20('+this[_0x25092d(0x390)]['wuid']+_0x25092d(0x497)),_0x348191?_0xa91083:null;}catch(_0x16a62e){throw this[_0x25092d(0x593)][_0x25092d(0x22d)](this[_0x25092d(0x526)]+'\x20('+this[_0x25092d(0x390)][_0x25092d(0x42c)]+_0x25092d(0x4c4)+_0x16a62e),new g(_0x16a62e['message']);}}async[a0_0x200bc3(0x383)](_0x3de237){const _0x42d0cd=a0_0x200bc3;try{return this['logger']['verbose'](this[_0x42d0cd(0x526)]+'\x20('+this['instance'][_0x42d0cd(0x42c)]+_0x42d0cd(0x292)),this['logger'][_0x42d0cd(0x6d7)](this[_0x42d0cd(0x526)]+'\x20('+this[_0x42d0cd(0x390)][_0x42d0cd(0x42c)]+_0x42d0cd(0x310)+{'owner':this[_0x42d0cd(0x390)][_0x42d0cd(0x42c)],'_id':_0x3de237}),await F['findOne']({'owner':this[_0x42d0cd(0x390)][_0x42d0cd(0x42c)],'_id':_0x3de237});}catch(_0x23dbf2){throw this[_0x42d0cd(0x593)][_0x42d0cd(0x22d)](this[_0x42d0cd(0x526)]+'\x20('+this[_0x42d0cd(0x390)]['wuid']+_0x42d0cd(0x639)+_0x23dbf2),new g(_0x42d0cd(0x6a4)+_0x23dbf2[_0x42d0cd(0x646)]);}}async[a0_0x200bc3(0x455)](_0x3db070,_0x150e21=0x64){const _0xa693a6=a0_0x200bc3;try{this[_0xa693a6(0x593)]['verbose'](this[_0xa693a6(0x526)]+'\x20('+this[_0xa693a6(0x390)]['wuid']+_0xa693a6(0x5ca));let _0xacf4f4={..._0x3db070,'owner':this[_0xa693a6(0x390)][_0xa693a6(0x42c)]};return this['logger'][_0xa693a6(0x6d7)](_0xacf4f4),await F[_0xa693a6(0x487)](_0xacf4f4)[_0xa693a6(0x2e7)](_0x150e21)[_0xa693a6(0x2e2)]({'lastInteraction':-0x1});}catch(_0x4aa827){throw this[_0xa693a6(0x593)]['error'](this[_0xa693a6(0x526)]+'\x20('+this[_0xa693a6(0x390)][_0xa693a6(0x42c)]+_0xa693a6(0x464)+_0x4aa827),new g('Erro\x20ao\x20buscar\x20conversas:\x20'+_0x4aa827['message']);}}async['deleteConversation'](_0x21b54f){const _0x388345=a0_0x200bc3;try{return this[_0x388345(0x593)][_0x388345(0x6d7)](this['instanceName']+'\x20('+this[_0x388345(0x390)][_0x388345(0x42c)]+_0x388345(0x75e)),this['logger'][_0x388345(0x6d7)](this[_0x388345(0x526)]+'\x20('+this['instance']['wuid']+_0x388345(0x310)+{'owner':this['instance'][_0x388345(0x42c)],'_id':_0x21b54f}),(await F[_0x388345(0x1f5)]({'owner':this[_0x388345(0x390)][_0x388345(0x42c)],'_id':_0x21b54f}))[_0x388345(0x287)]===0x0?{'message':_0x388345(0x3cc)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x1f6a59){throw this[_0x388345(0x593)][_0x388345(0x22d)](this[_0x388345(0x526)]+'\x20('+this['instance'][_0x388345(0x42c)]+_0x388345(0x517)+_0x1f6a59),new g('Erro\x20ao\x20deletar\x20a\x20conversa:\x20'+_0x1f6a59['message']);}}async[a0_0x200bc3(0x485)](_0x6cbc7c){const _0xbfc138=a0_0x200bc3;try{let {_id:_0x581f87,chatLog:_0x58670a,status:_0x16426e}=_0x6cbc7c;if(!_0x581f87)return{'message':_0xbfc138(0x3b4)};let _0x54ced6={};if(_0x16426e!==void 0x0&&(_0x54ced6[_0xbfc138(0x354)]=_0x16426e),Object[_0xbfc138(0x72a)](_0x54ced6)[_0xbfc138(0x306)]===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x120f6c=this['instance'][_0xbfc138(0x42c)],_0x2c97e9=await F[_0xbfc138(0x570)]({'_id':_0x581f87,'owner':_0x120f6c},{'$set':_0x54ced6},{'new':!0x0});return _0x2c97e9||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x10b2ea){throw this[_0xbfc138(0x593)][_0xbfc138(0x22d)](this[_0xbfc138(0x526)]+'\x20('+this['instance'][_0xbfc138(0x42c)]+_0xbfc138(0x56b)+_0x10b2ea),new g('Erro\x20ao\x20editar\x20a\x20conversa:\x20'+_0x10b2ea[_0xbfc138(0x646)]);}}async[a0_0x200bc3(0x3f3)](_0x39ca37){const _0x4020d5=a0_0x200bc3;try{_0x39ca37['id']=this[_0x4020d5(0x601)](_0x39ca37['id']);let {id:_0x4ffae,leadInfo:_0x5bc3dc}=_0x39ca37;if(!_0x4ffae)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');let _0x2d9a41=(_0x20ac34,_0x141ea3,_0x47725f)=>{_0x47725f['forEach'](_0x1521e4=>{_0x20ac34[_0x1521e4]!==void 0x0&&(_0x141ea3['leadInfo.'+_0x1521e4]=_0x20ac34[_0x1521e4]);});},_0x1965cc={};if(_0x2d9a41(_0x5bc3dc,_0x1965cc,[_0x4020d5(0x778),'nomecompleto',_0x4020d5(0x645),_0x4020d5(0x27f),_0x4020d5(0x354),'notas',_0x4020d5(0x4af),_0x4020d5(0x61b),_0x4020d5(0x286)]),Array['isArray'](_0x5bc3dc[_0x4020d5(0x528)])&&(_0x1965cc[_0x4020d5(0x5d9)]=_0x5bc3dc[_0x4020d5(0x528)][_0x4020d5(0x43b)](_0xa55b3a=>({'_id':_0xa55b3a[_0x4020d5(0x54e)],'value':_0xa55b3a[_0x4020d5(0x5ec)]}))),_0x39ca37[_0x4020d5(0x2c6)][_0x4020d5(0x773)]!==void 0x0&&(_0x1965cc['leadInfo.desativadoFluxoAte']=Number(_0x39ca37[_0x4020d5(0x2c6)][_0x4020d5(0x773)])),_0x39ca37[_0x4020d5(0x6d0)]!==void 0x0&&(_0x1965cc[_0x4020d5(0x6d0)]=Number(_0x39ca37['unreadcount'])),Object[_0x4020d5(0x72a)](_0x1965cc)[_0x4020d5(0x306)]===0x0)throw new Error(_0x4020d5(0x6b9));let _0x574816=this[_0x4020d5(0x390)][_0x4020d5(0x42c)];if(!_0x574816)throw new Error('Tanto\x20id\x20quanto\x20owner\x20são\x20necessários\x20para\x20criar\x20ou\x20editar\x20um\x20chat.');if(!await D[_0x4020d5(0x1ed)]({'id':_0x39ca37['id'],'owner':_0x574816})){let _0x320c0b=(await this[_0x4020d5(0x502)]({'numbers':[_0x39ca37['id']]}))[0x0];if(!_0x320c0b['exists']&&!(0x0,w[_0x4020d5(0x3ca)])(_0x320c0b[_0x4020d5(0x6a8)])&&!_0x320c0b[_0x4020d5(0x6a8)]['includes'](_0x4020d5(0x41c)))throw new g(_0x320c0b);_0x39ca37['id']=_0x320c0b[_0x4020d5(0x6a8)];}let _0x1a1f7e=await D[_0x4020d5(0x570)]({'id':_0x39ca37['id'],'owner':_0x574816},{'$set':_0x1965cc},{'new':!0x0,'upsert':!0x0});return _0x1a1f7e&&q(this[_0x4020d5(0x526)],'chats',{'chat':_0x1a1f7e}),_0x1a1f7e?(this[_0x4020d5(0x593)][_0x4020d5(0x6d7)](this['instanceName']+'\x20('+this[_0x4020d5(0x390)][_0x4020d5(0x42c)]+_0x4020d5(0x73e)+_0x1a1f7e),_0x1a1f7e):{'message':_0x4020d5(0x6f2)};}catch(_0x2eb8db){throw this[_0x4020d5(0x593)][_0x4020d5(0x22d)](this[_0x4020d5(0x526)]+'\x20('+this[_0x4020d5(0x390)][_0x4020d5(0x42c)]+'):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20'+_0x2eb8db),new g('Erro\x20ao\x20editar\x20o\x20chat:\x20'+_0x2eb8db[_0x4020d5(0x646)]);}}async[a0_0x200bc3(0x4d8)](_0x30e8f1){const _0x2418cd=a0_0x200bc3;let _0x274aa9=this[_0x2418cd(0x390)][_0x2418cd(0x42c)];try{let _0x142634=await ie[_0x2418cd(0x5d0)](_0x274aa9);_0x142634||(_0x142634=new ie({'_id':_0x274aa9}),await _0x142634[_0x2418cd(0x660)]());let _0x388527=_0x30e8f1[_0x2418cd(0x54e)]?_0x142634['agents'][_0x2418cd(0x2b8)](_0x54f255=>_0x54f255['_id']===_0x30e8f1[_0x2418cd(0x54e)]):-0x1;if(_0x30e8f1[_0x2418cd(0x3e3)]&&_0x388527>-0x1)_0x142634[_0x2418cd(0x22c)][_0x2418cd(0x5da)](_0x388527,0x1);else{if(_0x388527>-0x1){let _0x5aef71=_0x142634[_0x2418cd(0x22c)][_0x388527];_0x30e8f1[_0x2418cd(0x545)]&&(_0x5aef71['fone']=_0x30e8f1[_0x2418cd(0x545)]),_0x30e8f1[_0x2418cd(0x31b)]&&(_0x5aef71['name']=_0x30e8f1[_0x2418cd(0x31b)]),_0x30e8f1['email']&&(_0x5aef71[_0x2418cd(0x645)]=_0x30e8f1[_0x2418cd(0x645)]),_0x30e8f1[_0x2418cd(0x4d0)]&&(_0x5aef71[_0x2418cd(0x4d0)]=_0x30e8f1[_0x2418cd(0x4d0)]);}else _0x142634[_0x2418cd(0x22c)][_0x2418cd(0x20a)]({'_id':_0x30e8f1[_0x2418cd(0x54e)]||new be[(_0x2418cd(0x2bb))]['Types'][(_0x2418cd(0x479))]()[_0x2418cd(0x3d6)](),'fone':_0x30e8f1[_0x2418cd(0x545)],'name':_0x30e8f1['name'],'email':_0x30e8f1['email'],'role':_0x30e8f1[_0x2418cd(0x4d0)]});}let _0x20cef1=await _0x142634[_0x2418cd(0x660)]();return this[_0x2418cd(0x582)]=_0x20cef1,this['logger'][_0x2418cd(0x6d7)](this['instanceName']+'\x20('+this[_0x2418cd(0x390)][_0x2418cd(0x42c)]+_0x2418cd(0x691)),this['logger'][_0x2418cd(0x6d7)](this[_0x2418cd(0x526)]+'\x20('+this[_0x2418cd(0x390)][_0x2418cd(0x42c)]+_0x2418cd(0x73e)+this['AutomateSystem']),_0x20cef1;}catch(_0x44569d){throw this[_0x2418cd(0x593)]['error'](this[_0x2418cd(0x526)]+'\x20('+this[_0x2418cd(0x390)][_0x2418cd(0x42c)]+_0x2418cd(0x6a6)+_0x44569d),new g(_0x2418cd(0x210)+_0x44569d['message']);}}async[a0_0x200bc3(0x3fe)](_0x4f1f29){const _0x1766d9=a0_0x200bc3;let _0x269bca=this[_0x1766d9(0x390)]['wuid'];try{let _0x476fc3=await ie[_0x1766d9(0x5d0)](_0x269bca);_0x476fc3||(_0x476fc3=new ie({'_id':_0x269bca}),await _0x476fc3[_0x1766d9(0x660)]());let _0x56592e=_0x4f1f29['_id']?_0x476fc3[_0x1766d9(0x528)][_0x1766d9(0x2b8)](_0x5c6ec5=>_0x5c6ec5['_id']===_0x4f1f29[_0x1766d9(0x54e)]):-0x1,_0x2136b4=!0x1,_0x3237ad=_0x476fc3['customFields'][_0x1766d9(0x3f2)](_0x91f28b=>_0x91f28b['order']===_0x4f1f29[_0x1766d9(0x1d6)]);if(_0x4f1f29[_0x1766d9(0x3e3)]&&_0x56592e>-0x1)_0x476fc3['customFields']['splice'](_0x56592e,0x1),_0x2136b4=!0x0;else{if(_0x56592e>-0x1){if(_0x476fc3[_0x1766d9(0x528)]['some'](_0x1cc55f=>_0x1cc55f['name']===_0x4f1f29['name']&&_0x1cc55f[_0x1766d9(0x54e)]!==_0x4f1f29['_id']))throw new Error(_0x1766d9(0x3b1));let _0x39ecf2=_0x476fc3[_0x1766d9(0x528)][_0x56592e];_0x4f1f29[_0x1766d9(0x1d6)]&&(_0x3237ad||!Number[_0x1766d9(0x380)](_0x4f1f29['order']))&&(_0x39ecf2[_0x1766d9(0x1d6)]=_0x4f1f29[_0x1766d9(0x1d6)],_0x2136b4=!0x0),_0x4f1f29[_0x1766d9(0x31b)]&&(_0x39ecf2[_0x1766d9(0x31b)]=_0x4f1f29[_0x1766d9(0x31b)]);}else{if(_0x476fc3[_0x1766d9(0x528)][_0x1766d9(0x3f2)](_0xf95404=>_0xf95404['name']===_0x4f1f29[_0x1766d9(0x31b)]&&_0xf95404[_0x1766d9(0x54e)]!==_0x4f1f29['_id']))throw new Error(_0x1766d9(0x3b1));_0x476fc3[_0x1766d9(0x528)]['push']({'_id':_0x4f1f29['_id']||new be[(_0x1766d9(0x2bb))][(_0x1766d9(0x74c))][(_0x1766d9(0x479))]()['toString'](),'order':_0x4f1f29['order'],'name':_0x4f1f29[_0x1766d9(0x31b)]}),_0x2136b4=!0x0;}}if(_0x2136b4){_0x476fc3['customFields'][_0x1766d9(0x2e2)]((_0x27363c,_0x5d5cc4)=>_0x27363c['order']>_0x5d5cc4[_0x1766d9(0x1d6)]?0x1:_0x5d5cc4['order']>_0x27363c[_0x1766d9(0x1d6)]?-0x1:0x0);for(let _0x56ae4b=0x0;_0x56ae4b<_0x476fc3[_0x1766d9(0x528)][_0x1766d9(0x306)];_0x56ae4b++)_0x476fc3['customFields'][_0x56ae4b][_0x1766d9(0x1d6)]=_0x56ae4b+0x1;}let _0x2c659b=await _0x476fc3['save']();return this[_0x1766d9(0x582)]=_0x2c659b,this[_0x1766d9(0x593)][_0x1766d9(0x6d7)](this[_0x1766d9(0x526)]+'\x20('+this[_0x1766d9(0x390)][_0x1766d9(0x42c)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x1766d9(0x593)][_0x1766d9(0x6d7)](this[_0x1766d9(0x526)]+'\x20('+this[_0x1766d9(0x390)][_0x1766d9(0x42c)]+_0x1766d9(0x73e)+this[_0x1766d9(0x582)]),_0x2c659b;}catch(_0x13c8f0){throw this[_0x1766d9(0x593)][_0x1766d9(0x22d)](this['instanceName']+'\x20('+this[_0x1766d9(0x390)]['wuid']+_0x1766d9(0x587)+_0x13c8f0),new g(_0x1766d9(0x5eb)+_0x13c8f0[_0x1766d9(0x646)]);}}async[a0_0x200bc3(0x2e5)](_0x8148dd){const _0x3f0eda=a0_0x200bc3;let _0x23b08b=this[_0x3f0eda(0x390)][_0x3f0eda(0x42c)];try{let _0x3b4a0d=await ie[_0x3f0eda(0x5d0)](_0x23b08b);_0x3b4a0d||(_0x3b4a0d=new ie({'_id':_0x23b08b}),await _0x3b4a0d[_0x3f0eda(0x660)]()),_0x3b4a0d[_0x3f0eda(0x3ad)][_0x3f0eda(0x603)]=_0x8148dd?.[_0x3f0eda(0x603)]!==void 0x0?_0x8148dd?.[_0x3f0eda(0x603)]:_0x3b4a0d[_0x3f0eda(0x3ad)]['enabled'],_0x3b4a0d[_0x3f0eda(0x3ad)][_0x3f0eda(0x40f)]=_0x8148dd?.['ignoreGroups']!==void 0x0?_0x8148dd?.[_0x3f0eda(0x40f)]:_0x3b4a0d['flowConfig'][_0x3f0eda(0x40f)],_0x3b4a0d[_0x3f0eda(0x3ad)]['prefixCommand']=_0x8148dd?.[_0x3f0eda(0x615)]??_0x3b4a0d[_0x3f0eda(0x3ad)]['prefixCommand'],_0x3b4a0d[_0x3f0eda(0x3ad)]['stopConversation']=_0x8148dd?.[_0x3f0eda(0x22e)]??_0x3b4a0d[_0x3f0eda(0x3ad)][_0x3f0eda(0x22e)],_0x3b4a0d[_0x3f0eda(0x3ad)][_0x3f0eda(0x2c3)]=_0x8148dd?.['stopMinutes']??_0x3b4a0d[_0x3f0eda(0x3ad)]['stopMinutes'];let _0x58c91f=await _0x3b4a0d[_0x3f0eda(0x660)]();return this[_0x3f0eda(0x582)]=_0x58c91f,this[_0x3f0eda(0x593)][_0x3f0eda(0x6d7)](this[_0x3f0eda(0x526)]+'\x20('+this['instance'][_0x3f0eda(0x42c)]+_0x3f0eda(0x691)),this[_0x3f0eda(0x593)][_0x3f0eda(0x6d7)](this[_0x3f0eda(0x526)]+'\x20('+this[_0x3f0eda(0x390)][_0x3f0eda(0x42c)]+'):\x20'+this[_0x3f0eda(0x582)]),_0x58c91f;}catch(_0x4deafb){throw this[_0x3f0eda(0x593)]['error'](this[_0x3f0eda(0x526)]+'\x20('+this[_0x3f0eda(0x390)]['wuid']+_0x3f0eda(0x6a6)+_0x4deafb),new g(_0x3f0eda(0x210)+_0x4deafb[_0x3f0eda(0x646)]);}}async[a0_0x200bc3(0x751)](){const _0x3c2fa8=a0_0x200bc3;let _0x234c02=this['instance'][_0x3c2fa8(0x42c)];try{let _0x233942=await ie[_0x3c2fa8(0x5d0)](_0x234c02);return _0x233942||(_0x233942=new ie({'_id':_0x234c02})),_0x233942[_0x3c2fa8(0x3ad)]=_0x233942[_0x3c2fa8(0x3ad)]||{},_0x233942[_0x3c2fa8(0x3ad)][_0x3c2fa8(0x603)]===void 0x0&&(_0x233942[_0x3c2fa8(0x3ad)][_0x3c2fa8(0x603)]=!0x1),_0x233942['flowConfig'][_0x3c2fa8(0x40f)]===void 0x0&&(_0x233942['flowConfig'][_0x3c2fa8(0x40f)]=!0x0),_0x233942[_0x3c2fa8(0x3ad)][_0x3c2fa8(0x615)]===void 0x0&&(_0x233942[_0x3c2fa8(0x3ad)][_0x3c2fa8(0x615)]='!'),_0x233942[_0x3c2fa8(0x3ad)][_0x3c2fa8(0x22e)]===void 0x0&&(_0x233942[_0x3c2fa8(0x3ad)]['stopConversation']=_0x3c2fa8(0x659)),_0x233942['flowConfig']['stopMinutes']===void 0x0&&(_0x233942[_0x3c2fa8(0x3ad)]['stopMinutes']=0x14),await _0x233942[_0x3c2fa8(0x660)](),this['AutomateSystem']=_0x233942,this[_0x3c2fa8(0x593)][_0x3c2fa8(0x6d7)](this[_0x3c2fa8(0x526)]+'\x20('+this[_0x3c2fa8(0x390)][_0x3c2fa8(0x42c)]+_0x3c2fa8(0x63a)),this['logger'][_0x3c2fa8(0x6d7)](this['AutomateSystem']),_0x233942;}catch(_0x5722d4){throw this[_0x3c2fa8(0x593)][_0x3c2fa8(0x22d)](this['instanceName']+'\x20('+this['instance'][_0x3c2fa8(0x42c)]+_0x3c2fa8(0x219)+_0x5722d4[_0x3c2fa8(0x646)]),new g(_0x3c2fa8(0x610)+_0x5722d4[_0x3c2fa8(0x646)]);}}async[a0_0x200bc3(0x405)](){const _0x12f484=a0_0x200bc3;let _0x2cb405=()=>{const _0x2133d0=a0_0x3e29;this[_0x2133d0(0x593)][_0x2133d0(0x6d7)](this['instanceName']+'\x20('+this[_0x2133d0(0x390)][_0x2133d0(0x42c)]+_0x2133d0(0x422)+this[_0x2133d0(0x58d)]+_0x2133d0(0x1f9));},_0x35b90b=async()=>{const _0x40d3d0=a0_0x3e29;this[_0x40d3d0(0x593)][_0x40d3d0(0x6d7)](this[_0x40d3d0(0x526)]+'\x20('+this['instance'][_0x40d3d0(0x42c)]+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x1d6534=Date[_0x40d3d0(0x5f7)]()-0xc*0x3c*0x3c*0x3e8;return await U[_0x40d3d0(0x487)]({'owner':this[_0x40d3d0(0x390)][_0x40d3d0(0x42c)],'status':{'$in':[_0x40d3d0(0x70a),'sending']},'$or':[{'when':{'$lte':Date[_0x40d3d0(0x5f7)](),'$gte':_0x1d6534}},{'when':0x0}]});},_0xa44893=async _0x5559dd=>{const _0x19b210=a0_0x3e29;for(let _0x3ee209 of _0x5559dd){if(!await U[_0x19b210(0x570)]({'_id':_0x3ee209[_0x19b210(0x54e)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x19b210(0x5f7)]()-0x1770}}]},{'$set':{'startSend':Date[_0x19b210(0x5f7)]()}}))return;if(!this['isConnected']){this[_0x19b210(0x593)][_0x19b210(0x6d7)](this['instanceName']+'\x20('+this['instance'][_0x19b210(0x42c)]+_0x19b210(0x31c));break;}(!_0x3ee209[_0x19b210(0x3f6)]||_0x3ee209[_0x19b210(0x3f6)]['length']===0x0)&&(_0x3ee209=await U['findByIdAndUpdate'](_0x3ee209[_0x19b210(0x54e)],{'$set':{'status':_0x19b210(0x66b),'remoteJidsRemaining':[..._0x3ee209[_0x19b210(0x46f)]]}},{'new':!0x0}));for(let _0x246b2b of _0x3ee209[_0x19b210(0x3f6)]){if(this[_0x19b210(0x5ac)]=Date['now'](),_0x3ee209[_0x19b210(0x685)]['some'](_0x1bf721=>_0x1bf721[_0x19b210(0x302)]===_0x246b2b)){this[_0x19b210(0x593)][_0x19b210(0x6d7)](this[_0x19b210(0x526)]+'\x20('+this[_0x19b210(0x390)]['wuid']+_0x19b210(0x616)+_0x246b2b+_0x19b210(0x3d9));continue;}try{let _0x2fb578=await this['SendScheduleMessage'](_0x246b2b,_0x3ee209),_0x1254d1={'remoteJid':_0x246b2b,'error':_0x2fb578[_0x19b210(0x22d)],'id':_0x2fb578['id']||null,'error_log':_0x2fb578[_0x19b210(0x3d2)]||null,'log_timestamp':Date[_0x19b210(0x5f7)]()};if((await U[_0x19b210(0x674)](_0x3ee209[_0x19b210(0x54e)],{'$push':{'messagesSend':_0x1254d1},'$pull':{'remoteJidsRemaining':_0x246b2b}},{'new':!0x0}))[_0x19b210(0x354)]===_0x19b210(0x585)){this[_0x19b210(0x593)][_0x19b210(0x6d7)](this[_0x19b210(0x526)]+'\x20('+this[_0x19b210(0x390)][_0x19b210(0x42c)]+_0x19b210(0x611)+_0x3ee209[_0x19b210(0x54e)]+_0x19b210(0x4c8));break;}if(!this[_0x19b210(0x4a5)]){this[_0x19b210(0x593)]['verbose'](this[_0x19b210(0x526)]+'\x20('+this[_0x19b210(0x390)][_0x19b210(0x42c)]+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this[_0x19b210(0x58d)]){this[_0x19b210(0x593)][_0x19b210(0x6d7)](this[_0x19b210(0x526)]+'\x20('+this[_0x19b210(0x390)]['wuid']+_0x19b210(0x611)+_0x3ee209['_id']+_0x19b210(0x720));break;}let _0x25b0bb=this[_0x19b210(0x796)](_0x3ee209[_0x19b210(0x76a)],_0x3ee209[_0x19b210(0x298)]);await this[_0x19b210(0x57e)](_0x25b0bb);}catch(_0x12908a){this[_0x19b210(0x593)][_0x19b210(0x22d)](this['instanceName']+'\x20('+this[_0x19b210(0x390)][_0x19b210(0x42c)]+_0x19b210(0x489)+_0x246b2b+':\x20'+_0x12908a[_0x19b210(0x646)]);let _0x2aa0a1={'remoteJid':_0x246b2b,'status':'error','timestamp':Date[_0x19b210(0x5f7)](),'error':_0x12908a[_0x19b210(0x646)]};await U[_0x19b210(0x674)](_0x3ee209[_0x19b210(0x54e)],{'$push':{'messagesSend':_0x2aa0a1},'$pull':{'remoteJidsRemaining':_0x246b2b}},{'new':!0x0});}}let _0x4db1e6=await U['findById'](_0x3ee209['_id']);_0x4db1e6['remoteJidsRemaining'][_0x19b210(0x306)]===0x0&&_0x4db1e6['status']!==_0x19b210(0x585)&&await U[_0x19b210(0x674)](_0x3ee209[_0x19b210(0x54e)],{'$set':{'status':_0x19b210(0x6f5)}},{'new':!0x0}),await new Promise(_0x3d7958=>setTimeout(_0x3d7958,0x1388));}},_0x13ef0f=async()=>{const _0x33ef0b=a0_0x3e29;let _0x48f441=await U[_0x33ef0b(0x1ed)]({'owner':this[_0x33ef0b(0x390)][_0x33ef0b(0x42c)],'status':'scheduled','when':{'$gt':Date[_0x33ef0b(0x5f7)]()}})['sort']({'when':0x1});_0x48f441&&_0x48f441[_0x33ef0b(0x55f)]-Date[_0x33ef0b(0x5f7)]()<=0x5265c00?this[_0x33ef0b(0x687)]=_0x48f441[_0x33ef0b(0x55f)]-Date[_0x33ef0b(0x5f7)]():this[_0x33ef0b(0x687)]=(0x3c+Math[_0x33ef0b(0x32f)](Math[_0x33ef0b(0x44b)]()*0x3c))*0x3c*0x3e8,this['delayMessage']=Math[_0x33ef0b(0x51e)](this[_0x33ef0b(0x687)],0x7d0);let _0x2dbd0b=Math['round'](this['delayMessage']/0xea60);if(_0x48f441){let _0x4818a5=new Date(_0x48f441[_0x33ef0b(0x55f)])[_0x33ef0b(0x62f)]();this[_0x33ef0b(0x593)]['verbose'](this[_0x33ef0b(0x526)]+'\x20('+this[_0x33ef0b(0x390)][_0x33ef0b(0x42c)]+_0x33ef0b(0x2ec)+_0x4818a5+_0x33ef0b(0x732)+_0x2dbd0b+_0x33ef0b(0x617));}else this[_0x33ef0b(0x593)]['verbose'](this[_0x33ef0b(0x526)]+'\x20('+this['instance'][_0x33ef0b(0x42c)]+_0x33ef0b(0x3a4)+_0x2dbd0b+'\x20minutos');setTimeout(()=>this[_0x33ef0b(0x405)](),this[_0x33ef0b(0x687)]);};if(this[_0x12f484(0x58d)]&&Date['now']()-this[_0x12f484(0x5ac)]<0x1d4c0){_0x2cb405();return;}try{let _0x4909f5=await _0x35b90b();_0x4909f5[_0x12f484(0x306)]===0x0?this[_0x12f484(0x593)][_0x12f484(0x6d7)](this['instanceName']+'\x20('+this[_0x12f484(0x390)][_0x12f484(0x42c)]+_0x12f484(0x509)):(this['processingScheduleMessageId']=_0x4909f5[0x0][_0x12f484(0x54e)],await _0xa44893(_0x4909f5)),await _0x13ef0f(),this[_0x12f484(0x58d)]=null;}catch(_0x1e8784){this[_0x12f484(0x593)][_0x12f484(0x22d)](_0x12f484(0x6cd)+_0x1e8784[_0x12f484(0x646)]);}}['getDelay'](_0x4a92e1,_0x244941){const _0x2c6989=a0_0x200bc3;return _0x4a92e1=Math[_0x2c6989(0x51e)](0.5,_0x4a92e1),_0x244941=Math[_0x2c6989(0x51e)](0x3,_0x244941),Math['floor'](Math[_0x2c6989(0x44b)]()*(_0x244941-_0x4a92e1+0x1)+_0x4a92e1)*0x3e8;}[a0_0x200bc3(0x57e)](_0x56758b){return new Promise(_0x52b6e6=>setTimeout(_0x52b6e6,_0x56758b));}async[a0_0x200bc3(0x7aa)](_0x506932){const _0xc7325b=a0_0x200bc3;if(!this[_0xc7325b(0x582)]&&(await this['getAutomateSystem'](),!this[_0xc7325b(0x582)]))return null;_0x506932=this[_0xc7325b(0x601)](_0x506932);let _0x32b87a=await D[_0xc7325b(0x1ed)]({'id':_0x506932,'owner':this[_0xc7325b(0x390)][_0xc7325b(0x42c)]}),_0x9eaf89={};if(_0x32b87a&&_0x32b87a[_0xc7325b(0x2c6)]){let _0x4442dc=_0x32b87a[_0xc7325b(0x2c6)];typeof _0x4442dc[_0xc7325b(0x778)]==_0xc7325b(0x40e)&&(_0x9eaf89[_0xc7325b(0x778)]=_0x4442dc['nome']),typeof _0x4442dc[_0xc7325b(0x4f4)]==_0xc7325b(0x40e)&&(_0x9eaf89['nomecompleto']=_0x4442dc['nomecompleto']),typeof _0x4442dc['email']==_0xc7325b(0x40e)&&(_0x9eaf89['email']=_0x4442dc[_0xc7325b(0x645)]),typeof _0x4442dc[_0xc7325b(0x27f)]==_0xc7325b(0x40e)&&(_0x9eaf89[_0xc7325b(0x27f)]=_0x4442dc[_0xc7325b(0x27f)]),typeof _0x4442dc[_0xc7325b(0x354)]==_0xc7325b(0x40e)&&(_0x9eaf89['status']=_0x4442dc[_0xc7325b(0x354)]),typeof _0x4442dc[_0xc7325b(0x652)]==_0xc7325b(0x40e)&&(_0x9eaf89[_0xc7325b(0x652)]=_0x4442dc[_0xc7325b(0x652)]),typeof _0x4442dc['responsavelid']==_0xc7325b(0x40e)&&(_0x9eaf89[_0xc7325b(0x286)]=_0x4442dc[_0xc7325b(0x286)]),Array[_0xc7325b(0x6dd)](_0x4442dc[_0xc7325b(0x4af)])&&(_0x9eaf89[_0xc7325b(0x4af)]=_0x4442dc['tags'][_0xc7325b(0x62e)](',\x20'));}return _0x32b87a&&_0x32b87a[_0xc7325b(0x2c6)]&&_0x32b87a[_0xc7325b(0x2c6)][_0xc7325b(0x528)]&&_0x32b87a[_0xc7325b(0x2c6)]['customFields'][_0xc7325b(0x5c6)](_0x5be839=>{const _0x5bf96c=_0xc7325b;let _0x34185d=this[_0x5bf96c(0x582)]?.[_0x5bf96c(0x528)]['find'](_0xafaad=>_0xafaad[_0x5bf96c(0x54e)]===_0x5be839['_id']);_0x34185d&&(_0x9eaf89[_0x34185d['name']]=_0x5be839[_0x5bf96c(0x5ec)]);}),_0x9eaf89;}async['replaceVariablesChat'](_0x23d740,_0x33e664){const _0x23c82e=a0_0x200bc3;let _0x1f38b4=await this['getVariablesChat'](_0x33e664);return this[_0x23c82e(0x335)](_0x23d740,_0x1f38b4);}async[a0_0x200bc3(0x52b)](_0x52f5a0){const _0x1da814=a0_0x200bc3;try{if(this[_0x1da814(0x593)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1da814(0x1cc)),_0x52f5a0['delete']&&_0x52f5a0[_0x1da814(0x54e)]){if(this['processingScheduleMessageId']===_0x52f5a0[_0x1da814(0x54e)][_0x1da814(0x3d6)]())throw new Error(_0x1da814(0x426));let _0x21d1c4=await U[_0x1da814(0x6b7)](_0x52f5a0[_0x1da814(0x54e)]);return setTimeout(()=>this[_0x1da814(0x405)](),0x7d0),_0x21d1c4;}let _0x234ad9;if(_0x52f5a0[_0x1da814(0x54e)]&&(_0x234ad9=await U[_0x1da814(0x1ed)]({'owner':this[_0x1da814(0x390)][_0x1da814(0x42c)],'_id':_0x52f5a0[_0x1da814(0x54e)]})),_0x234ad9){let _0x105704=_0x52f5a0;this['processingScheduleMessageId']===_0x234ad9[_0x1da814(0x54e)][_0x1da814(0x3d6)]()&&(_0x105704={'status':_0x52f5a0[_0x1da814(0x354)],'_id':_0x52f5a0[_0x1da814(0x54e)]});let _0x2322a9=await U[_0x1da814(0x674)](_0x234ad9[_0x1da814(0x54e)],{'$set':_0x105704},{'new':!0x0});return setTimeout(()=>this[_0x1da814(0x405)](),0x7d0),_0x2322a9;}else{_0x52f5a0['owner']=this[_0x1da814(0x390)][_0x1da814(0x42c)];let _0x3e3daf=await new U(_0x52f5a0)[_0x1da814(0x660)]();return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x3e3daf;}}catch(_0x4e992d){throw this[_0x1da814(0x593)][_0x1da814(0x22d)](this[_0x1da814(0x526)]+'\x20('+this['instance'][_0x1da814(0x42c)]+_0x1da814(0x7a5)+_0x4e992d),new g(_0x1da814(0x1d0)+_0x4e992d[_0x1da814(0x646)]);}}async[a0_0x200bc3(0x3fa)](){const _0xb2c4c3=a0_0x200bc3;try{return await U[_0xb2c4c3(0x487)]({'owner':this['instance'][_0xb2c4c3(0x42c)]})[_0xb2c4c3(0x2e2)]({'when':0x1});}catch(_0x1b34e3){throw this[_0xb2c4c3(0x593)][_0xb2c4c3(0x22d)](this[_0xb2c4c3(0x526)]+'\x20('+this[_0xb2c4c3(0x390)][_0xb2c4c3(0x42c)]+_0xb2c4c3(0x71e)+_0x1b34e3),new g(_0xb2c4c3(0x1d0)+_0x1b34e3[_0xb2c4c3(0x646)]);}}async['deleteDoneMessages'](){const _0x4e751a=a0_0x200bc3;try{return await U[_0x4e751a(0x5cc)]({'owner':this['instance'][_0x4e751a(0x42c)],'status':_0x4e751a(0x6f5)}),this[_0x4e751a(0x593)][_0x4e751a(0x6d7)](this[_0x4e751a(0x526)]+'\x20('+this[_0x4e751a(0x390)]['wuid']+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.'),this['getScheduleMessage']();}catch(_0x501a3f){throw this[_0x4e751a(0x593)][_0x4e751a(0x22d)](this[_0x4e751a(0x526)]+'\x20('+this[_0x4e751a(0x390)][_0x4e751a(0x42c)]+_0x4e751a(0x244)+_0x501a3f),new g('Erro:'+_0x501a3f[_0x4e751a(0x646)]);}}async[a0_0x200bc3(0x629)](_0x4519dd,_0x1f632c){const _0x3a0088=a0_0x200bc3;try{switch(_0x1f632c[_0x3a0088(0x757)]){case _0x3a0088(0x5f4):return await this[_0x3a0088(0x675)](_0x1f632c,_0x4519dd);case'media':return await this[_0x3a0088(0x3aa)](_0x1f632c,_0x4519dd);case _0x3a0088(0x649):return await this[_0x3a0088(0x2f7)](_0x1f632c,_0x4519dd);default:return this[_0x3a0088(0x593)][_0x3a0088(0x22d)](this[_0x3a0088(0x526)]+'\x20('+this[_0x3a0088(0x390)][_0x3a0088(0x42c)]+'):\x20Comando\x20desconhecido:\x20'+_0x1f632c[_0x3a0088(0x757)]),{'status':_0x3a0088(0x22d),'detail':_0x3a0088(0x5d2)};}}catch(_0x398eb7){return this[_0x3a0088(0x593)][_0x3a0088(0x22d)](this['instanceName']+'\x20('+this[_0x3a0088(0x390)][_0x3a0088(0x42c)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+_0x398eb7),{'status':'error','detail':_0x398eb7[_0x3a0088(0x646)]};}}[a0_0x200bc3(0x3cb)](_0x4fb07){const _0x4fc7be=a0_0x200bc3;let _0x18bf92=_0x4fb07['split']('|'),_0x2ac0d4=Math[_0x4fc7be(0x32f)](Math[_0x4fc7be(0x44b)]()*_0x18bf92[_0x4fc7be(0x306)]);return _0x18bf92[_0x2ac0d4][_0x4fc7be(0x2f8)]();}async[a0_0x200bc3(0x675)](_0x3dfdda,_0x461602){const _0x2e3938=a0_0x200bc3;if(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2e3938(0x390)]['wuid']+_0x2e3938(0x20b)),!_0x3dfdda[_0x2e3938(0x646)][_0x2e3938(0x5f4)]||_0x3dfdda[_0x2e3938(0x646)][_0x2e3938(0x5f4)]['length']===0x0)return{'error':!0x0,'error_log':'sem\x20texto\x20na\x20mensagem'};let _0x4f5a7d=this[_0x2e3938(0x3cb)](_0x3dfdda[_0x2e3938(0x646)][_0x2e3938(0x5f4)]),_0x38c11a=await this[_0x2e3938(0x74f)](_0x4f5a7d,_0x461602),_0x260237={'number':_0x461602,'options':{'delay':_0x3dfdda[_0x2e3938(0x646)]['delay']},'textMessage':{'text':_0x38c11a}},_0x6f34db=null;try{let _0x489f01=await this[_0x2e3938(0x72b)](_0x260237);if(_0x489f01&&_0x489f01[_0x2e3938(0x354)])return{'error':!0x1,'id':_0x489f01[_0x2e3938(0x781)]['id']};_0x6f34db=JSON[_0x2e3938(0x76b)](_0x489f01),this[_0x2e3938(0x593)]['verbose'](this[_0x2e3938(0x526)]+'\x20('+this[_0x2e3938(0x390)]['wuid']+_0x2e3938(0x73e)+_0x6f34db);}catch(_0x3c44e8){this[_0x2e3938(0x593)][_0x2e3938(0x22d)](this['instanceName']+'\x20('+this[_0x2e3938(0x390)]['wuid']+_0x2e3938(0x5fa)+_0x3c44e8),_0x6f34db=_0x3c44e8[_0x2e3938(0x646)];}if(_0x6f34db)return{'error':!0x0,'error_log':(typeof _0x6f34db==_0x2e3938(0x29a)?JSON[_0x2e3938(0x76b)](_0x6f34db,null,0x2):_0x6f34db)['replace'](/[\[\]{}\n]/g,'\x20')[_0x2e3938(0x2c9)](/  +/g,'\x20')};}async[a0_0x200bc3(0x3aa)](_0xbc234c,_0x4c042d){const _0xb9b640=a0_0x200bc3;this[_0xb9b640(0x593)][_0xb9b640(0x6d7)](this['instanceName']+'\x20('+this['instance'][_0xb9b640(0x42c)]+'):\x20Enviando\x20mídia');let _0x33f134;if(_0xbc234c[_0xb9b640(0x646)]['text']&&_0xbc234c[_0xb9b640(0x646)][_0xb9b640(0x5f4)][_0xb9b640(0x306)]>0x0){let _0x3a39c7=this[_0xb9b640(0x3cb)](_0xbc234c[_0xb9b640(0x646)]['text']);_0x33f134=await this[_0xb9b640(0x74f)](_0x3a39c7,_0x4c042d);}let _0x29013a={'number':_0x4c042d,'options':{'delay':_0xbc234c[_0xb9b640(0x646)]['delay']},'mediaMessage':{'mediatype':_0xbc234c[_0xb9b640(0x646)][_0xb9b640(0x454)],'caption':_0x33f134,'media':_0xbc234c[_0xb9b640(0x646)][_0xb9b640(0x65a)]}},_0x431523=null;try{let _0x799159=await this[_0xb9b640(0x451)](_0x29013a);if(_0x799159&&_0x799159[_0xb9b640(0x354)])return{'error':!0x1,'id':_0x799159['key']['id']};_0x431523=JSON[_0xb9b640(0x76b)](_0x799159),this['logger']['verbose'](this[_0xb9b640(0x526)]+'\x20('+this[_0xb9b640(0x390)][_0xb9b640(0x42c)]+_0xb9b640(0x73e)+_0x431523);}catch(_0x1f6f6f){this[_0xb9b640(0x593)][_0xb9b640(0x22d)](this[_0xb9b640(0x526)]+'\x20('+this[_0xb9b640(0x390)][_0xb9b640(0x42c)]+_0xb9b640(0x3f8)+_0x1f6f6f[_0xb9b640(0x646)]),_0x431523=_0x1f6f6f[_0xb9b640(0x646)];}if(_0x431523)return{'error':!0x0,'error_log':(typeof _0x431523==_0xb9b640(0x29a)?JSON['stringify'](_0x431523,null,0x2):_0x431523)['replace'](/[\[\]{}\n]/g,'\x20')[_0xb9b640(0x2c9)](/  +/g,'\x20')};}async[a0_0x200bc3(0x2f7)](_0xf1c4d8,_0x5e03c5){const _0x454e3a=a0_0x200bc3;this['logger'][_0x454e3a(0x6d7)](this['instanceName']+'\x20('+this[_0x454e3a(0x390)][_0x454e3a(0x42c)]+_0x454e3a(0x300));let _0x2ba7f1={'number':_0x5e03c5,'options':{'delay':_0xf1c4d8['message'][_0x454e3a(0x44f)]},'audioMessage':{'audio':_0xf1c4d8[_0x454e3a(0x646)][_0x454e3a(0x65a)]}},_0x551d72=null;try{let _0xa1d182=await this[_0x454e3a(0x20e)](_0x2ba7f1);if(_0xa1d182&&_0xa1d182[_0x454e3a(0x354)])return{'error':!0x1,'id':_0xa1d182[_0x454e3a(0x781)]['id']};_0x551d72=JSON[_0x454e3a(0x76b)](_0xa1d182),this[_0x454e3a(0x593)][_0x454e3a(0x6d7)](this[_0x454e3a(0x526)]+'\x20('+this[_0x454e3a(0x390)][_0x454e3a(0x42c)]+'):\x20'+_0x551d72);}catch(_0xda9f1f){this['logger']['error'](this[_0x454e3a(0x526)]+'\x20('+this['instance'][_0x454e3a(0x42c)]+_0x454e3a(0x2f1)+_0xda9f1f),_0x551d72=_0xda9f1f['message'];}if(_0x551d72)return{'error':!0x0,'error_log':(typeof _0x551d72=='object'?JSON[_0x454e3a(0x76b)](_0x551d72,null,0x2):_0x551d72)[_0x454e3a(0x2c9)](/[\[\]{}\n]/g,'\x20')[_0x454e3a(0x2c9)](/  +/g,'\x20')};}},Ee=require(a0_0x200bc3(0x230)),jt=class l{constructor(_0x177e62,_0x3330e9,_0x429c65){const _0x4b8dee=a0_0x200bc3;this['eventEmitter']=_0x177e62,this['configService']=_0x3330e9,this[_0x4b8dee(0x6eb)]=_0x429c65,this['db']={},this[_0x4b8dee(0x6df)]={},this['logger']=new C(l[_0x4b8dee(0x31b)]),this[_0x4b8dee(0x1eb)]={},(this[_0x4b8dee(0x5dd)](),this['noConnection'](),this[_0x4b8dee(0x77c)](),Object['assign'](this['db'],_0x3330e9[_0x4b8dee(0x313)](_0x4b8dee(0x496))),Object[_0x4b8dee(0x4b0)](this[_0x4b8dee(0x6df)],_0x3330e9['get'](_0x4b8dee(0x1f7))),this['dbInstance']=this['db']['ENABLED']?this[_0x4b8dee(0x6eb)][_0x4b8dee(0x294)]?.['db'](this['db']['CONNECTION'][_0x4b8dee(0x63e)]+_0x4b8dee(0x2ad)):void 0x0,this[_0x4b8dee(0x456)]=this[_0x4b8dee(0x6df)][_0x4b8dee(0x2ea)]?new ye(this[_0x4b8dee(0x6df)]):void 0x0);}[a0_0x200bc3(0x27b)](_0x51207c){const _0x39b235=a0_0x200bc3;let _0x2a3ed8=this[_0x39b235(0x712)][_0x39b235(0x313)](_0x39b235(0x246));typeof _0x2a3ed8=='number'&&_0x2a3ed8>0x0&&setTimeout(()=>{const _0x453df1=_0x39b235;this['waInstances'][_0x51207c]?.[_0x453df1(0x24b)]?.[_0x453df1(0x379)]!==_0x453df1(0x5b4)&&delete this[_0x453df1(0x1eb)][_0x51207c];},0x3e8*0x3c*_0x2a3ed8);}async[a0_0x200bc3(0x4df)](_0x26e595){const _0x896836=a0_0x200bc3;if(_0x26e595&&!this[_0x896836(0x1eb)][_0x26e595])throw new x(_0x896836(0x43c)+_0x26e595+_0x896836(0x62a));let _0x3d158b=[];for await(let [_0x1ee01a,_0x5c0d46]of Object[_0x896836(0x30a)](this[_0x896836(0x1eb)]))if(_0x5c0d46&&_0x5c0d46[_0x896836(0x24b)][_0x896836(0x379)]===_0x896836(0x5b4)){let _0x545724=await this[_0x896836(0x6eb)]['auth'][_0x896836(0x487)](_0x1ee01a);_0x3d158b[_0x896836(0x20a)]({'instance':{'instanceName':_0x1ee01a,'apikey':_0x545724['apikey'],'owner':_0x5c0d46['wuid'],'profileName':await _0x5c0d46[_0x896836(0x484)]()||_0x896836(0x733),'profilePictureUrl':_0x5c0d46[_0x896836(0x65f)]}});}return _0x3d158b[_0x896836(0x487)](_0x5a2180=>_0x5a2180[_0x896836(0x390)][_0x896836(0x526)]===_0x26e595)??_0x3d158b;}[a0_0x200bc3(0x77c)](){setInterval(async()=>{const _0x235654=a0_0x3e29;if(this['db'][_0x235654(0x2ea)])(await this[_0x235654(0x4f0)]['collections']())[_0x235654(0x5c6)](async _0x25348a=>{const _0x28eef7=_0x235654;let _0x1b72cb=_0x25348a[_0x28eef7(0x3a7)][_0x28eef7(0x2c9)](/^[\w-]+./,'');await this['dbInstance']['collection'](_0x1b72cb)[_0x28eef7(0x5cc)]({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0x4525fc=(0x0,se[_0x235654(0x6ad)])(j,{'encoding':_0x235654(0x264)});for await(let _0x5f39c2 of _0x4525fc)_0x5f39c2['isDirectory']()&&(0x0,se[_0x235654(0x1c7)])((0x0,Ee[_0x235654(0x62e)])(j,_0x5f39c2['name']),{'encoding':_0x235654(0x264)})[_0x235654(0x5c6)](async _0x33ea7e=>{const _0x21bb83=_0x235654;(_0x33ea7e['match'](/^app.state.*/)||_0x33ea7e[_0x21bb83(0x4b8)](/^session-.*/))&&(0x0,se[_0x21bb83(0x48b)])((0x0,Ee[_0x21bb83(0x62e)])(j,_0x5f39c2['name'],_0x33ea7e),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async[a0_0x200bc3(0x421)](_0x5ac46c){const _0x48e820=a0_0x200bc3;this['db'][_0x48e820(0x2ea)]&&(await this[_0x48e820(0x6eb)][_0x48e820(0x294)][_0x48e820(0x5f8)](),(await this['dbInstance'][_0x48e820(0x1ca)]())[_0x48e820(0x306)]>0x0&&await this[_0x48e820(0x4f0)][_0x48e820(0x6b6)](_0x5ac46c)),this[_0x48e820(0x6df)][_0x48e820(0x2ea)]&&(this[_0x48e820(0x456)][_0x48e820(0x2dc)]=_0x5ac46c,await this['redisCache']['delAll']()),!this['db'][_0x48e820(0x2ea)]&&!this['redis'][_0x48e820(0x2ea)]&&(0x0,se['rmSync'])((0x0,Ee[_0x48e820(0x62e)])(j,_0x5ac46c),{'recursive':!0x0,'force':!0x0});}async[a0_0x200bc3(0x5f6)](){const _0x740452=a0_0x200bc3;let _0x489881=async _0x43721d=>{const _0x2d3148=a0_0x3e29;let _0xbec862=new Se(this['configService'],this[_0x2d3148(0x362)],this['repository']);_0xbec862[_0x2d3148(0x526)]=_0x43721d,await _0xbec862[_0x2d3148(0x550)](),this[_0x2d3148(0x1eb)][_0x43721d]=_0xbec862;};try{if(this[_0x740452(0x6df)][_0x740452(0x2ea)]){let _0x105734=await this['redisCache'][_0x740452(0x2d9)]();_0x105734?.[_0x740452(0x306)]>0x0&&_0x105734['forEach'](async _0x2a6ae2=>await _0x489881(_0x2a6ae2['split'](':')[0x1]));}if(this['db'][_0x740452(0x2ea)]){await this[_0x740452(0x6eb)]['dbServer'][_0x740452(0x5f8)]();let _0x53f566=await this[_0x740452(0x4f0)][_0x740452(0x1ca)]();_0x53f566[_0x740452(0x306)]>0x0&&_0x53f566['forEach'](async _0x9343e0=>await _0x489881(_0x9343e0[_0x740452(0x3a7)][_0x740452(0x2c9)](/^[\w-]+\./,'')));return;}let _0x2de5be=(0x0,se[_0x740452(0x6ad)])(j,{'encoding':_0x740452(0x264)});for await(let _0x189677 of _0x2de5be)if(_0x189677[_0x740452(0x3e8)]()){if((0x0,se['readdirSync'])((0x0,Ee[_0x740452(0x62e)])(j,_0x189677[_0x740452(0x31b)]),{'encoding':_0x740452(0x264)})[_0x740452(0x306)]===0x0){(0x0,se[_0x740452(0x48b)])((0x0,Ee['join'])(j,_0x189677[_0x740452(0x31b)]),{'recursive':!0x0,'force':!0x0});break;}await _0x489881(_0x189677[_0x740452(0x31b)]);}}catch(_0x1a8b65){this[_0x740452(0x593)][_0x740452(0x22d)](_0x1a8b65);}}[a0_0x200bc3(0x5dd)](){this['eventEmitter']['on']('remove.instance',async _0x1d66ba=>{const _0xdb74a4=a0_0x3e29;try{this[_0xdb74a4(0x1eb)][_0x1d66ba]=void 0x0;}catch{}try{this[_0xdb74a4(0x421)](_0x1d66ba);}finally{this[_0xdb74a4(0x593)][_0xdb74a4(0x514)]('Instance\x20\x22'+_0x1d66ba+'\x22\x20-\x20REMOVED');}});}['noConnection'](){const _0x2e5e09=a0_0x200bc3;this[_0x2e5e09(0x362)]['on'](_0x2e5e09(0x556),async _0x3e5096=>{const _0xc57d8=_0x2e5e09;try{this['waInstances'][_0x3e5096]=void 0x0,this['cleaningUp'](_0x3e5096);}catch(_0x44a037){this[_0xc57d8(0x593)][_0xc57d8(0x22d)]({'localError':_0xc57d8(0x618),'warn':_0xc57d8(0x403),'error':_0x44a037});}finally{this[_0xc57d8(0x593)]['warn'](_0xc57d8(0x43c)+_0x3e5096+_0xc57d8(0x5c3));}});}},xe=require(a0_0x200bc3(0x230)),ve=require('fs'),Bt=class extends B{constructor(_0xccbc8c,_0x12c736){const _0x2bdf0c=a0_0x200bc3;super(_0x12c736),this[_0x2bdf0c(0x2e6)]=_0xccbc8c,this[_0x2bdf0c(0x712)]=_0x12c736;}async[a0_0x200bc3(0x3fd)](_0x3250ea,_0x12ad53=!0x1){const _0x70fa74=a0_0x200bc3;if(_0x3250ea[_0x70fa74(0x306)]!==0x0)try{return this[_0x70fa74(0x527)][_0x70fa74(0x2ea)]&&_0x12ad53?{'insertCount':(await this[_0x70fa74(0x2e6)][_0x70fa74(0x682)]([..._0x3250ea]))[_0x70fa74(0x306)]}:(_0x3250ea[_0x70fa74(0x5c6)](_0x43bbc5=>{const _0xab5712=_0x70fa74;this[_0xab5712(0x76d)]({'path':(0x0,xe[_0xab5712(0x62e)])(this[_0xab5712(0x5bd)],_0xab5712(0x64a),_0x43bbc5['owner']),'fileName':_0x43bbc5['id'],'data':_0x43bbc5});}),{'insertCount':_0x3250ea[_0x70fa74(0x306)]});}catch(_0x57bb96){return _0x57bb96;}finally{_0x3250ea=void 0x0;}}async['find'](_0x518724){const _0x5a251f=a0_0x200bc3;try{if(this['dbSettings']['ENABLED'])return await this[_0x5a251f(0x2e6)]['find']({'owner':_0x518724[_0x5a251f(0x6cb)]['owner']})[_0x5a251f(0x2e2)]({'lastmsg':-0x1})[_0x5a251f(0x2e7)](_0x518724?.['limit']??0x0)['lean']();let _0x4bba8b=[],_0x247ba3=(0x0,ve[_0x5a251f(0x6ad)])((0x0,xe[_0x5a251f(0x62e)])(this[_0x5a251f(0x5bd)],_0x5a251f(0x64a),_0x518724['where'][_0x5a251f(0x332)]));for await(let _0x437480 of _0x247ba3)_0x437480['isFile']()&&_0x4bba8b[_0x5a251f(0x20a)](JSON[_0x5a251f(0x654)]((0x0,ve[_0x5a251f(0x1b8)])((0x0,xe['join'])(this[_0x5a251f(0x5bd)],_0x5a251f(0x64a),_0x518724[_0x5a251f(0x6cb)][_0x5a251f(0x332)],_0x437480[_0x5a251f(0x31b)]),{'encoding':_0x5a251f(0x264)})));return _0x4bba8b;}catch{return[];}}async[a0_0x200bc3(0x3e3)](_0x47f4d2){const _0x3753ac=a0_0x200bc3;try{return this[_0x3753ac(0x527)]['ENABLED']?await this[_0x3753ac(0x2e6)][_0x3753ac(0x5cc)]({..._0x47f4d2['where']}):((0x0,ve[_0x3753ac(0x48b)])((0x0,xe[_0x3753ac(0x62e)])(this[_0x3753ac(0x5bd)],'chats',_0x47f4d2[_0x3753ac(0x6cb)][_0x3753ac(0x332)],_0x47f4d2[_0x3753ac(0x6cb)]['id']+_0x3753ac(0x1f4)),{'force':!0x0,'recursive':!0x0}),{'deleted':{'chatId':_0x47f4d2[_0x3753ac(0x6cb)]['id']}});}catch(_0x592920){return{'error':_0x592920?.[_0x3753ac(0x3d6)]()};}}async[a0_0x200bc3(0x1ed)](_0x351f0c){const _0x4fe60b=a0_0x200bc3;try{if(this[_0x4fe60b(0x527)][_0x4fe60b(0x2ea)])return await this[_0x4fe60b(0x2e6)][_0x4fe60b(0x1ed)]({'owner':_0x351f0c[_0x4fe60b(0x6cb)][_0x4fe60b(0x332)]})['lean']();}catch{return null;}}async[a0_0x200bc3(0x511)](_0x417e0d,_0x2f843f){const _0x3e1cae=a0_0x200bc3;try{this['dbSettings'][_0x3e1cae(0x2ea)]&&await this[_0x3e1cae(0x2e6)][_0x3e1cae(0x4b3)]({..._0x417e0d[_0x3e1cae(0x6cb)]},{'$set':_0x2f843f});}catch(_0x34a77d){console[_0x3e1cae(0x22d)](_0x34a77d);}}async[a0_0x200bc3(0x579)](_0x5530d9,_0x2f0d69){const _0x114b1f=a0_0x200bc3;try{if(this[_0x114b1f(0x527)][_0x114b1f(0x2ea)]){let _0x5acc72=_0x5530d9['map']((_0x4b7f07,_0x31ab1c)=>({'updateOne':{'filter':{..._0x4b7f07[_0x114b1f(0x6cb)]},'update':{'$set':_0x2f0d69[_0x31ab1c]}}}));await this['chatModel']['bulkWrite'](_0x5acc72);}}catch(_0x4ed974){console[_0x114b1f(0x22d)](_0x4ed974);}}},Ft=class{constructor(_0x23ae1){const _0x285188=a0_0x200bc3;this[_0x285188(0x3df)]=_0x23ae1;}async[a0_0x200bc3(0x3f3)]({instanceName:_0x3af94},_0x1fb3b8){const _0x3964fb=a0_0x200bc3;return await this['waMonitor'][_0x3964fb(0x1eb)][_0x3af94][_0x3964fb(0x3f3)](_0x1fb3b8);}async['whatsappNumber']({instanceName:_0x1e8b25},_0x5a9f96){const _0x121473=a0_0x200bc3;return await this[_0x121473(0x3df)][_0x121473(0x1eb)][_0x1e8b25][_0x121473(0x502)](_0x5a9f96);}async[a0_0x200bc3(0x325)]({instanceName:_0x44e72a},_0x2b1f58){const _0x247416=a0_0x200bc3;return await this[_0x247416(0x3df)]['waInstances'][_0x44e72a][_0x247416(0x6fa)](_0x2b1f58);}async['archiveChat']({instanceName:_0x1bdc33},_0x13f09c){const _0x2f058b=a0_0x200bc3;return await this[_0x2f058b(0x3df)][_0x2f058b(0x1eb)][_0x1bdc33][_0x2f058b(0x331)](_0x13f09c);}async[a0_0x200bc3(0x756)]({instanceName:_0xf0ef13},_0x41ef55){const _0x51bb59=a0_0x200bc3;return await this[_0x51bb59(0x3df)][_0x51bb59(0x1eb)][_0xf0ef13][_0x51bb59(0x756)](_0x41ef55);}async[a0_0x200bc3(0x5ee)]({instanceName:_0x146a33},_0x5bbed4){const _0x340d45=a0_0x200bc3;return await this[_0x340d45(0x3df)]['waInstances'][_0x146a33][_0x340d45(0x779)](_0x5bbed4['number']);}async[a0_0x200bc3(0x382)]({instanceName:_0x19b7b5},_0x5901a6){const _0x463e6b=a0_0x200bc3;return await this[_0x463e6b(0x3df)]['waInstances'][_0x19b7b5]['fetchProfile'](_0x5901a6[_0x463e6b(0x370)]);}async[a0_0x200bc3(0x201)]({instanceName:_0x583c61},_0x42f49a){const _0xf68324=a0_0x200bc3;return await this[_0xf68324(0x3df)][_0xf68324(0x1eb)][_0x583c61]['updatePresence'](_0x42f49a);}async[a0_0x200bc3(0x4e7)]({instanceName:_0x35b193},_0x140033){const _0x5f0ded=a0_0x200bc3;return await this[_0x5f0ded(0x3df)][_0x5f0ded(0x1eb)][_0x35b193][_0x5f0ded(0x4e7)](_0x140033);}async[a0_0x200bc3(0x364)]({instanceName:_0x124e3e},_0xdf28a8){const _0xae1d2=a0_0x200bc3;return await this[_0xae1d2(0x3df)][_0xae1d2(0x1eb)][_0x124e3e]['getBase64FromMediaMessage'](_0xdf28a8);}async[a0_0x200bc3(0x23c)]({instanceName:_0x3189ce},_0x324fbc){const _0x19d274=a0_0x200bc3;return await this[_0x19d274(0x3df)][_0x19d274(0x1eb)][_0x3189ce][_0x19d274(0x23c)](_0x324fbc);}async[a0_0x200bc3(0x471)]({instanceName:_0x22cf92},_0x400ab5){const _0x4a91c8=a0_0x200bc3;return await this[_0x4a91c8(0x3df)][_0x4a91c8(0x1eb)][_0x22cf92]['fetchStatusMessage'](_0x400ab5);}async[a0_0x200bc3(0x418)]({instanceName:_0xb8419e}){const _0x1a0759=a0_0x200bc3;return await this[_0x1a0759(0x3df)][_0x1a0759(0x1eb)][_0xb8419e][_0x1a0759(0x418)]();}async['fetchPrivacySettings']({instanceName:_0x2af802}){const _0xb6c997=a0_0x200bc3;return await this[_0xb6c997(0x3df)]['waInstances'][_0x2af802]['fetchPrivacySettings']();}async[a0_0x200bc3(0x2a6)]({instanceName:_0x5808b1},_0x53d34e){const _0x58507c=a0_0x200bc3;return await this[_0x58507c(0x3df)][_0x58507c(0x1eb)][_0x5808b1]['updatePrivacySettings'](_0x53d34e);}async[a0_0x200bc3(0x35a)]({instanceName:_0x54211a},_0x581973){const _0x5f5062=a0_0x200bc3;return await this['waMonitor'][_0x5f5062(0x1eb)][_0x54211a][_0x5f5062(0x35a)](_0x581973[_0x5f5062(0x370)]);}async[a0_0x200bc3(0x47b)]({instanceName:_0x5897ab},_0x44fbc0){const _0xbc42bd=a0_0x200bc3;return await this[_0xbc42bd(0x3df)]['waInstances'][_0x5897ab][_0xbc42bd(0x47b)](_0x44fbc0[_0xbc42bd(0x31b)]);}async[a0_0x200bc3(0x4b2)]({instanceName:_0x3b7713},_0x3700eb){const _0x470835=a0_0x200bc3;return await this[_0x470835(0x3df)][_0x470835(0x1eb)][_0x3b7713][_0x470835(0x4b2)](_0x3700eb[_0x470835(0x354)]);}async[a0_0x200bc3(0x6bd)]({instanceName:_0x1d223b},_0x2b794f){const _0xba324=a0_0x200bc3;return await this[_0xba324(0x3df)][_0xba324(0x1eb)][_0x1d223b][_0xba324(0x6bd)](_0x2b794f[_0xba324(0x396)]);}async[a0_0x200bc3(0x37f)]({instanceName:_0x3220c8},_0x3de277){const _0x3f4e35=a0_0x200bc3;return await this[_0x3f4e35(0x3df)][_0x3f4e35(0x1eb)][_0x3220c8][_0x3f4e35(0x37f)]();}},Ms=require(a0_0x200bc3(0x42d)),Jt=class l{constructor(_0x5b7dda,_0x340479,_0x403214,_0x418c44,_0x5b8ccf){const _0x1bec20=a0_0x200bc3;this[_0x1bec20(0x3df)]=_0x5b7dda,this[_0x1bec20(0x712)]=_0x340479,this[_0x1bec20(0x6eb)]=_0x403214,this[_0x1bec20(0x362)]=_0x418c44,this[_0x1bec20(0x4ef)]=_0x5b8ccf,this[_0x1bec20(0x593)]=new C(l['name']);}async[a0_0x200bc3(0x77b)]({instanceName:_0x531e12,apikey:_0x54dec0}){const _0x4beb0c=a0_0x200bc3;let _0x2266c7=new Se(this[_0x4beb0c(0x712)],this[_0x4beb0c(0x362)],this[_0x4beb0c(0x6eb)]);_0x2266c7['instanceName']=_0x531e12,this['waMonitor'][_0x4beb0c(0x1eb)][_0x2266c7['instanceName']]=_0x2266c7,this[_0x4beb0c(0x3df)][_0x4beb0c(0x27b)](_0x2266c7[_0x4beb0c(0x526)]);let _0xa0a80={};_0x54dec0?(await this[_0x4beb0c(0x6eb)][_0x4beb0c(0x5f5)]['create']({'apikey':_0x54dec0},_0x531e12),_0xa0a80['apikey']=_0x54dec0):_0xa0a80=await this['authService']['generateHash']({'instanceName':_0x2266c7[_0x4beb0c(0x526)]});let _0x35a1ba;return await _0x2266c7[_0x4beb0c(0x550)](),await(0x0,Ms[_0x4beb0c(0x44f)])(0x7d0),_0x35a1ba=_0x2266c7[_0x4beb0c(0x261)],{'instance':{'instanceName':_0x2266c7[_0x4beb0c(0x526)],'status':_0x4beb0c(0x63b)},'hash':_0xa0a80,'qrcode':_0x35a1ba};}async['connectToWhatsapp']({instanceName:_0x70e4c9}){const _0x3947aa=a0_0x200bc3;try{let _0x30d351=this[_0x3947aa(0x3df)][_0x3947aa(0x1eb)][_0x70e4c9];switch(_0x30d351['connectionStatus']?.[_0x3947aa(0x379)]){case'close':return await _0x30d351[_0x3947aa(0x550)](),await(0x0,Ms[_0x3947aa(0x44f)])(0x7d0),_0x30d351[_0x3947aa(0x261)];case'connecting':return _0x30d351[_0x3947aa(0x261)];default:return await this['connectionState']({'instanceName':_0x70e4c9});}}catch(_0x348342){this['logger']['log'](_0x348342);}}async[a0_0x200bc3(0x7a4)]({instanceName:_0x58bf9a}){const _0x223657=a0_0x200bc3;let _0x121d39=this[_0x223657(0x3df)][_0x223657(0x1eb)][_0x58bf9a][_0x223657(0x24b)],_0x3f3d1e=null;_0x121d39[_0x223657(0x379)]===_0x223657(0x5b4)&&_0x58bf9a&&(_0x3f3d1e=await this[_0x223657(0x3df)]['instanceInfo'](_0x58bf9a));let _0x2bd8ef=null;return _0x121d39[_0x223657(0x379)]===_0x223657(0x59f)&&_0x58bf9a&&(_0x2bd8ef=this[_0x223657(0x3df)][_0x223657(0x1eb)][_0x58bf9a]['qrCode']),{'instance':_0x58bf9a,'connectionStatus':_0x121d39,'instanceInfo':_0x3f3d1e,'qrcode':_0x2bd8ef};}async[a0_0x200bc3(0x439)]({instanceName:_0x4b8c14}){const _0x4629e8=a0_0x200bc3;try{return this[_0x4629e8(0x3df)][_0x4629e8(0x1eb)][_0x4b8c14]?.[_0x4629e8(0x47f)]?.['ws']?.[_0x4629e8(0x40c)](),{'status':_0x4629e8(0x228),'error':!0x1,'response':{'message':_0x4629e8(0x305)}};}catch(_0x411258){this[_0x4629e8(0x593)][_0x4629e8(0x22d)](_0x411258);}}async[a0_0x200bc3(0x55d)]({instanceName:_0x5a7cac}){const _0x1307e9=a0_0x200bc3;return _0x5a7cac?this[_0x1307e9(0x3df)][_0x1307e9(0x4df)](_0x5a7cac):this[_0x1307e9(0x3df)]['instanceInfo']();}async[a0_0x200bc3(0x4be)]({instanceName:_0x24f5e8}){const _0x4e3442=a0_0x200bc3;try{return await this[_0x4e3442(0x3df)][_0x4e3442(0x1eb)][_0x24f5e8]?.['client']?.[_0x4e3442(0x4be)](_0x4e3442(0x5df)+_0x24f5e8),{'error':!0x1,'message':_0x4e3442(0x2a2)};}catch(_0x180989){throw new A(_0x180989[_0x4e3442(0x3d6)]());}}async[a0_0x200bc3(0x658)]({instanceName:_0x5a4e70}){const _0x5cfc60=a0_0x200bc3;if((await this[_0x5cfc60(0x7a4)]({'instanceName':_0x5a4e70}))['connectionStatus']['state']==='open')throw new g([_0x5cfc60(0x458),_0x5cfc60(0x58b)]);try{return delete this[_0x5cfc60(0x3df)][_0x5cfc60(0x1eb)][_0x5a4e70],{'error':!0x1,'message':_0x5cfc60(0x744)};}catch(_0xb9d208){throw new g(_0xb9d208[_0x5cfc60(0x3d6)]());}}async[a0_0x200bc3(0x5b5)](_0x564695,_0x4aa0b5){const _0x4e4ea5=a0_0x200bc3;return await this[_0x4e4ea5(0x4ef)]['refreshToken'](_0x4aa0b5);}},ae=require('class-validator'),Gt=class{constructor(_0x48d999){this['waMonitor']=_0x48d999;}async[a0_0x200bc3(0x6cf)]({instanceName:_0x46943c},_0x5b557d){const _0x5184a3=a0_0x200bc3;return await this[_0x5184a3(0x3df)][_0x5184a3(0x1eb)][_0x46943c][_0x5184a3(0x72b)](_0x5b557d);}async[a0_0x200bc3(0x34a)]({instanceName:_0x31cedd},_0x26152b){const _0x55946b=a0_0x200bc3;if((0x0,ae[_0x55946b(0x3d7)])(_0x26152b?.[_0x55946b(0x451)]?.[_0x55946b(0x750)])&&!_0x26152b?.[_0x55946b(0x451)]?.[_0x55946b(0x559)])throw new g(_0x55946b(0x38f));if((0x0,ae[_0x55946b(0x775)])(_0x26152b?.[_0x55946b(0x451)]?.[_0x55946b(0x750)])||(0x0,ae[_0x55946b(0x3d7)])(_0x26152b?.[_0x55946b(0x451)]?.[_0x55946b(0x750)]))return await this[_0x55946b(0x3df)]['waInstances'][_0x31cedd][_0x55946b(0x451)](_0x26152b);throw new g('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x200bc3(0x535)]({instanceName:_0x49f673},_0x247abd){const _0x346f06=a0_0x200bc3;if((0x0,ae[_0x346f06(0x775)])(_0x247abd[_0x346f06(0x6f0)]['image'])||(0x0,ae[_0x346f06(0x3d7)])(_0x247abd[_0x346f06(0x6f0)][_0x346f06(0x6d1)]))return await this[_0x346f06(0x3df)]['waInstances'][_0x49f673]['mediaSticker'](_0x247abd);throw new g('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendWhatsAppAudio']({instanceName:_0x15f349},_0x4b51c2){const _0x386205=a0_0x200bc3;if((0x0,ae[_0x386205(0x775)])(_0x4b51c2[_0x386205(0x51f)]['audio'])||(0x0,ae[_0x386205(0x3d7)])(_0x4b51c2[_0x386205(0x51f)][_0x386205(0x649)]))return await this['waMonitor'][_0x386205(0x1eb)][_0x15f349][_0x386205(0x20e)](_0x4b51c2);throw new g(_0x386205(0x472));}async[a0_0x200bc3(0x667)]({instanceName:_0x2f8c0a},_0x20bed0){const _0x3ce527=a0_0x200bc3;if((0x0,ae['isBase64'])(_0x20bed0['buttonMessage'][_0x3ce527(0x451)]?.[_0x3ce527(0x750)])&&!_0x20bed0[_0x3ce527(0x72d)][_0x3ce527(0x451)]?.[_0x3ce527(0x559)])throw new g('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this[_0x3ce527(0x3df)]['waInstances'][_0x2f8c0a][_0x3ce527(0x72d)](_0x20bed0);}async[a0_0x200bc3(0x567)]({instanceName:_0x32896b},_0x1913db){const _0x155b63=a0_0x200bc3;return await this[_0x155b63(0x3df)]['waInstances'][_0x32896b][_0x155b63(0x49c)](_0x1913db);}async[a0_0x200bc3(0x6d5)]({instanceName:_0x38ac6e},_0x2c00f3){const _0x1bc5a4=a0_0x200bc3;return await this[_0x1bc5a4(0x3df)][_0x1bc5a4(0x1eb)][_0x38ac6e][_0x1bc5a4(0x6c2)](_0x2c00f3);}async[a0_0x200bc3(0x772)]({instanceName:_0x45b8a4},_0x54a8fd){const _0xf18c1e=a0_0x200bc3;return await this[_0xf18c1e(0x3df)][_0xf18c1e(0x1eb)][_0x45b8a4][_0xf18c1e(0x1f1)](_0x54a8fd);}async[a0_0x200bc3(0x457)]({instanceName:_0x35adb8},_0x2a8fcf){const _0x3a8db5=a0_0x200bc3;return await this[_0x3a8db5(0x3df)][_0x3a8db5(0x1eb)][_0x35adb8]['contactMessage'](_0x2a8fcf);}async[a0_0x200bc3(0x6a3)]({instanceName:_0x4d8918},_0x275a75){const _0x274072=a0_0x200bc3;if(!_0x275a75[_0x274072(0x323)]['reaction'][_0x274072(0x4b8)](/[^\(\)\w\sà-ú"-\+]+/))throw new g(_0x274072(0x29f));return await this[_0x274072(0x3df)][_0x274072(0x1eb)][_0x4d8918]['reactionMessage'](_0x275a75);}async[a0_0x200bc3(0x578)]({instanceName:_0x502e0e},_0x11551d){const _0x524de8=a0_0x200bc3;return await this['waMonitor'][_0x524de8(0x1eb)][_0x502e0e][_0x524de8(0x36a)](_0x11551d);}},qt=class{constructor(_0x3dc40c){const _0x263d22=a0_0x200bc3;this[_0x263d22(0x3df)]=_0x3dc40c;}async[a0_0x200bc3(0x2ca)](_0x2c66ec,_0x257834){const _0x4e7afc=a0_0x200bc3;return await this[_0x4e7afc(0x3df)][_0x4e7afc(0x1eb)][_0x2c66ec[_0x4e7afc(0x526)]]['createGroup'](_0x257834);}async[a0_0x200bc3(0x542)](_0x22b9c9,_0x242a6a){const _0x21e961=a0_0x200bc3;return await this[_0x21e961(0x3df)]['waInstances'][_0x22b9c9[_0x21e961(0x526)]][_0x21e961(0x542)](_0x242a6a);}async['groupDesc'](_0x58ac85,_0x5506ca){const _0x1ebe58=a0_0x200bc3;return await this[_0x1ebe58(0x3df)][_0x1ebe58(0x1eb)][_0x58ac85[_0x1ebe58(0x526)]]['groupDesc'](_0x5506ca);}async[a0_0x200bc3(0x3d4)](_0x3e5b1d,_0x3b1f39){const _0x15fac7=a0_0x200bc3;return await this[_0x15fac7(0x3df)][_0x15fac7(0x1eb)][_0x3e5b1d[_0x15fac7(0x526)]]['groupName'](_0x3b1f39);}async[a0_0x200bc3(0x203)](_0x5d9d16,_0x3174f5){const _0x5b0c14=a0_0x200bc3;return await this['waMonitor'][_0x5b0c14(0x1eb)][_0x5d9d16[_0x5b0c14(0x526)]]['groupSetting'](_0x3174f5);}async[a0_0x200bc3(0x1e6)](_0x428e0f,_0x17edc4){const _0xb18b71=a0_0x200bc3;return await this[_0xb18b71(0x3df)][_0xb18b71(0x1eb)][_0x428e0f['instanceName']]['findGroup'](_0x17edc4);}async[a0_0x200bc3(0x2b9)](_0x44c7a5){const _0x1c8d4e=a0_0x200bc3;return await this[_0x1c8d4e(0x3df)][_0x1c8d4e(0x1eb)][_0x44c7a5[_0x1c8d4e(0x526)]]['findGroups']();}async[a0_0x200bc3(0x314)](_0x35734d,_0x5713cc){const _0x36e909=a0_0x200bc3;return await this['waMonitor'][_0x36e909(0x1eb)][_0x35734d[_0x36e909(0x526)]][_0x36e909(0x314)](_0x5713cc);}async[a0_0x200bc3(0x65c)](_0x280f61,_0x46c916){const _0x27563c=a0_0x200bc3;return await this[_0x27563c(0x3df)][_0x27563c(0x1eb)][_0x280f61['instanceName']][_0x27563c(0x65c)](_0x46c916);}async[a0_0x200bc3(0x6de)](_0x430178,_0x5c8112){const _0x4e6ff2=a0_0x200bc3;return await this[_0x4e6ff2(0x3df)]['waInstances'][_0x430178[_0x4e6ff2(0x526)]][_0x4e6ff2(0x6de)](_0x5c8112);}async[a0_0x200bc3(0x3d3)](_0x45f874,_0x2703ec){const _0x5139d9=a0_0x200bc3;return await this['waMonitor']['waInstances'][_0x45f874[_0x5139d9(0x526)]]['findParticipants'](_0x2703ec);}async[a0_0x200bc3(0x5cd)](_0x50e3e9,_0x5f375a){const _0x375e5e=a0_0x200bc3;return await this[_0x375e5e(0x3df)][_0x375e5e(0x1eb)][_0x50e3e9['instanceName']][_0x375e5e(0x46b)](_0x5f375a);}async[a0_0x200bc3(0x4e5)](_0x4fab00,_0x59a67c){const _0xff4bd3=a0_0x200bc3;return await this['waMonitor']['waInstances'][_0x4fab00[_0xff4bd3(0x526)]][_0xff4bd3(0x4e5)](_0x59a67c);}async['leaveGroup'](_0x2db699,_0x287833){const _0x42ffc3=a0_0x200bc3;return await this['waMonitor']['waInstances'][_0x2db699[_0x42ffc3(0x526)]][_0x42ffc3(0x231)](_0x287833);}},Wt=class{constructor(_0x3ca9c1,_0x36e2f5){const _0x1099ab=a0_0x200bc3;this[_0x1099ab(0x222)]=_0x3ca9c1,this[_0x1099ab(0x712)]=_0x36e2f5;}async[a0_0x200bc3(0x45b)](_0x9b56ac,_0x2299ef){const _0x559f1f=a0_0x200bc3;try{let _0x5b7c3a=_0x9b56ac[_0x559f1f(0x411)];if(this[_0x559f1f(0x222)]['waInstances'][_0x5b7c3a['instanceName']][_0x559f1f(0x24b)][_0x559f1f(0x379)]===_0x559f1f(0x5b4))throw new g('The\x20instance\x20is\x20already\x20connected');let _0x416689=this[_0x559f1f(0x712)][_0x559f1f(0x313)](_0x559f1f(0x299))[_0x559f1f(0x400)];return _0x2299ef[_0x559f1f(0x354)](0xc8)[_0x559f1f(0x33b)](_0x559f1f(0x45b),{'type':_0x416689,..._0x5b7c3a});}catch(_0x586a01){console['log'](_0x559f1f(0x547),_0x586a01);}}},Ht=class{constructor(_0x536eee){const _0x4a433a=a0_0x200bc3;this[_0x4a433a(0x3df)]=_0x536eee;}[a0_0x200bc3(0x57d)](_0x27867b,_0x19c0ce){const _0x5d1ce5=a0_0x200bc3;return this[_0x5d1ce5(0x3df)][_0x5d1ce5(0x1eb)][_0x27867b[_0x5d1ce5(0x526)]]['setWebhook'](_0x19c0ce);}async[a0_0x200bc3(0x487)](_0x31fc05){const _0x3b5054=a0_0x200bc3;try{return await this[_0x3b5054(0x3df)]['waInstances'][_0x31fc05['instanceName']][_0x3b5054(0x716)]();}catch{return{'enabled':null,'url':''};}}},ld=new C(a0_0x200bc3(0x453)),Kt=class{constructor(_0x30c80d){this['waMonitor']=_0x30c80d;}async[a0_0x200bc3(0x52b)](_0x52c4ed,_0xe34664){const _0x2c199d=a0_0x200bc3;return await this[_0x2c199d(0x3df)]['waInstances'][_0x52c4ed[_0x2c199d(0x526)]][_0x2c199d(0x52b)](_0xe34664);}async[a0_0x200bc3(0x3fa)](_0x5527d1){const _0x3ebb5b=a0_0x200bc3;return await this['waMonitor'][_0x3ebb5b(0x1eb)][_0x5527d1['instanceName']][_0x3ebb5b(0x3fa)]();}async[a0_0x200bc3(0x602)](_0x6a6da){const _0x2e8918=a0_0x200bc3;return await this[_0x2e8918(0x3df)][_0x2e8918(0x1eb)][_0x6a6da[_0x2e8918(0x526)]][_0x2e8918(0x602)]();}async[a0_0x200bc3(0x751)](_0x221e8f){const _0x113054=a0_0x200bc3;return await this['waMonitor']['waInstances'][_0x221e8f[_0x113054(0x526)]][_0x113054(0x751)]();}async[a0_0x200bc3(0x4d8)](_0x46f159,_0x7325c5){const _0x1f2bf6=a0_0x200bc3;return await this[_0x1f2bf6(0x3df)]['waInstances'][_0x46f159['instanceName']][_0x1f2bf6(0x4d8)](_0x7325c5);}async[a0_0x200bc3(0x3fe)](_0x3ca283,_0x28d7f9){const _0x50af75=a0_0x200bc3;return await this[_0x50af75(0x3df)]['waInstances'][_0x3ca283[_0x50af75(0x526)]][_0x50af75(0x3fe)](_0x28d7f9);}async[a0_0x200bc3(0x2e5)](_0x52ee89,_0x392d73){const _0x19058c=a0_0x200bc3;return await this[_0x19058c(0x3df)][_0x19058c(0x1eb)][_0x52ee89['instanceName']][_0x19058c(0x2e5)](_0x392d73);}async[a0_0x200bc3(0x398)](_0x406a4a,_0x3f0ca4){const _0x1f219c=a0_0x200bc3;return await this[_0x1f219c(0x3df)][_0x1f219c(0x1eb)][_0x406a4a[_0x1f219c(0x526)]][_0x1f219c(0x398)](_0x3f0ca4);}async['getConversation'](_0x3bcd69,_0x19b4b5){const _0x169709=a0_0x200bc3;return await this[_0x169709(0x3df)][_0x169709(0x1eb)][_0x3bcd69[_0x169709(0x526)]]['getConversation'](_0x19b4b5);}async[a0_0x200bc3(0x455)](_0x1e095f,_0x3ea85a){const _0x181da8=a0_0x200bc3;return await this[_0x181da8(0x3df)][_0x181da8(0x1eb)][_0x1e095f[_0x181da8(0x526)]][_0x181da8(0x455)](_0x3ea85a);}async['editConversation'](_0x2354f3,_0x2ca59e){const _0x470542=a0_0x200bc3;return await this[_0x470542(0x3df)][_0x470542(0x1eb)][_0x2354f3['instanceName']]['editConversation'](_0x2ca59e);}async[a0_0x200bc3(0x3a0)](_0x51eb59,_0xb016c7){const _0x2611e8=a0_0x200bc3;return await this[_0x2611e8(0x3df)][_0x2611e8(0x1eb)][_0x51eb59[_0x2611e8(0x526)]][_0x2611e8(0x3a0)](_0xb016c7);}async[a0_0x200bc3(0x285)](_0x474c21,_0x244fdf){const _0x451210=a0_0x200bc3;return await this[_0x451210(0x3df)][_0x451210(0x1eb)][_0x474c21[_0x451210(0x526)]][_0x451210(0x285)](_0x244fdf[_0x451210(0x31b)]);}async[a0_0x200bc3(0x73a)](_0xc95a84,_0x22bd2f){const _0x5b2341=a0_0x200bc3;return await this[_0x5b2341(0x3df)][_0x5b2341(0x1eb)][_0xc95a84['instanceName']][_0x5b2341(0x73a)](_0x22bd2f);}async[a0_0x200bc3(0x79e)](_0x318594,_0x107c67){const _0x3bf73b=a0_0x200bc3;return await this[_0x3bf73b(0x3df)][_0x3bf73b(0x1eb)][_0x318594[_0x3bf73b(0x526)]][_0x3bf73b(0x79e)](_0x107c67);}async[a0_0x200bc3(0x280)](_0x584752,_0x3ddba4){const _0x35e80b=a0_0x200bc3;return await this[_0x35e80b(0x3df)][_0x35e80b(0x1eb)][_0x584752['instanceName']][_0x35e80b(0x280)](_0x3ddba4);}async[a0_0x200bc3(0x5a9)](_0xddd8d3,_0x2b83e9){const _0x56230e=a0_0x200bc3;return await this[_0x56230e(0x3df)][_0x56230e(0x1eb)][_0xddd8d3[_0x56230e(0x526)]]['editFlowReply'](_0x2b83e9);}async[a0_0x200bc3(0x413)](_0x7bd384,_0xf59b37){const _0x188545=a0_0x200bc3;return await this[_0x188545(0x3df)][_0x188545(0x1eb)][_0x7bd384[_0x188545(0x526)]]['editFlowGroup'](_0xf59b37);}async[a0_0x200bc3(0x307)](_0x27fea2,_0x3bd640){const _0x4cf44e=a0_0x200bc3;return await this['waMonitor'][_0x4cf44e(0x1eb)][_0x27fea2[_0x4cf44e(0x526)]][_0x4cf44e(0x307)](_0x3bd640);}async[a0_0x200bc3(0x521)](_0xfc482e,_0x156cda){const _0x3d595f=a0_0x200bc3;return await this[_0x3d595f(0x3df)][_0x3d595f(0x1eb)][_0xfc482e[_0x3d595f(0x526)]][_0x3d595f(0x521)](_0x156cda);}async[a0_0x200bc3(0x4bc)](_0x4a0f3e,_0x110a1d){const _0x30d8c8=a0_0x200bc3;return await this['waMonitor'][_0x30d8c8(0x1eb)][_0x4a0f3e[_0x30d8c8(0x526)]]['editFlowVariable'](_0x110a1d);}async[a0_0x200bc3(0x232)](_0x44a323,_0x173f78){const _0xa9bd00=a0_0x200bc3;return await this['waMonitor'][_0xa9bd00(0x1eb)][_0x44a323[_0xa9bd00(0x526)]][_0xa9bd00(0x232)](_0x173f78[_0xa9bd00(0x31b)]);}async[a0_0x200bc3(0x723)](_0xd47682){const _0x31b129=a0_0x200bc3;return await this[_0x31b129(0x3df)][_0x31b129(0x1eb)][_0xd47682['instanceName']]['allFlows']();}},zt=class{constructor(_0x564ff0){const _0x24919c=a0_0x200bc3;this[_0x24919c(0x5ce)]=_0x564ff0;}async[a0_0x200bc3(0x2bd)](_0xaf44fb,_0x201cef){const _0x1b026f=a0_0x200bc3;return this[_0x1b026f(0x5ce)][_0x1b026f(0x57d)](_0xaf44fb,_0x201cef);}async['findWebhook'](_0x393ea7){const _0x46e4ff=a0_0x200bc3;return this[_0x46e4ff(0x5ce)][_0x46e4ff(0x487)](_0x393ea7);}},Qt=class{constructor(_0x309265,_0x16cc5d,_0x471777,_0x47ff4d,_0x5ab79e,_0x1273d7,_0x28abc4){const _0x539199=a0_0x200bc3;this[_0x539199(0x646)]=_0x309265,this[_0x539199(0x4e0)]=_0x16cc5d,this[_0x539199(0x5ef)]=_0x471777,this[_0x539199(0x477)]=_0x47ff4d,this[_0x539199(0x64b)]=_0x5ab79e,this['auth']=_0x1273d7,this[_0x539199(0x5e9)]=_0x28abc4;}get[a0_0x200bc3(0x294)](){const _0x2e57d7=a0_0x200bc3;return this[_0x2e57d7(0x5e9)];}},Is=require(a0_0x200bc3(0x604)),Rs=class{},gi=new Is[(a0_0x200bc3(0x580))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':[a0_0x200bc3(0x2e8),a0_0x200bc3(0x68c),'ios']},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),fo=M?.[a0_0x200bc3(0x1e9)](Rs['name'],gi,'messages'),As=class{},mi=new Is[(a0_0x200bc3(0x580))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String,'required':!0x0,'min':0x1},'id':{'type':String,'required':!0x0,'min':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'min':0x1},'datetime':{'type':Number,'required':!0x0,'min':0x1},'status':{'type':String,'required':!0x0},'owner':{'type':String,'required':!0x0,'min':0x1}}),wo=M?.[a0_0x200bc3(0x1e9)](As[a0_0x200bc3(0x31b)],mi,a0_0x200bc3(0x477)),yo=require(a0_0x200bc3(0x604)),Ds=class{},hi=new yo['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),bo=M?.['model'](Ds['name'],hi,a0_0x200bc3(0x786)),So=require('mongoose'),Ps=class{},Eo=new So[(a0_0x200bc3(0x580))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Eo[a0_0x200bc3(0x3dc)](a0_0x200bc3(0x660),function(_0x3702f2){const _0x379b9d=a0_0x200bc3;delete this[_0x379b9d(0x5fc)],delete this[_0x379b9d(0x5c2)],delete this[_0x379b9d(0x220)],delete this[_0x379b9d(0x2b4)],delete this[_0x379b9d(0x4f6)],_0x3702f2();});var vo=M?.['model'](Ps[a0_0x200bc3(0x31b)],Eo,a0_0x200bc3(0x64b)),Os=require('path'),No=require('fs'),Yt=class extends B{constructor(_0x445f91,_0x378a13){const _0x5591ab=a0_0x200bc3;super(_0x378a13),this[_0x5591ab(0x6ac)]=_0x445f91,this[_0x5591ab(0x712)]=_0x378a13;}async[a0_0x200bc3(0x57d)](_0x1b6ac1,_0x15b234){const _0xc62865=a0_0x200bc3;try{return this[_0xc62865(0x527)][_0xc62865(0x2ea)]?{'insertCount':(await this[_0xc62865(0x6ac)][_0xc62865(0x4c7)]({'_id':_0x15b234},{..._0x1b6ac1},{'upsert':!0x0}))[_0xc62865(0x394)]}:(this[_0xc62865(0x76d)]({'path':(0x0,Os[_0xc62865(0x62e)])(this[_0xc62865(0x5bd)],_0xc62865(0x64b)),'fileName':_0x15b234,'data':_0x1b6ac1}),{'insertCount':0x1});}catch(_0x2a3926){return _0x2a3926;}}async[a0_0x200bc3(0x487)](_0x4b93ce){const _0x37f2a2=a0_0x200bc3;try{return this[_0x37f2a2(0x527)]['ENABLED']?await this[_0x37f2a2(0x6ac)][_0x37f2a2(0x1ed)]({'_id':_0x4b93ce}):JSON[_0x37f2a2(0x654)]((0x0,No[_0x37f2a2(0x1b8)])((0x0,Os[_0x37f2a2(0x62e)])(this[_0x37f2a2(0x5bd)],_0x37f2a2(0x64b),_0x4b93ce+_0x37f2a2(0x70e)),{'encoding':_0x37f2a2(0x264)}));}catch{return{};}}},_s=require(a0_0x200bc3(0x230)),Co=require('fs'),Xt=class extends B{constructor(_0x66cf0c,_0x3ac942){const _0x4b0467=a0_0x200bc3;super(_0x3ac942),this[_0x4b0467(0x67e)]=_0x66cf0c,this['configService']=_0x3ac942,this[_0x4b0467(0x5f5)]=_0x3ac942['get'](_0x4b0467(0x299));}async[a0_0x200bc3(0x57d)](_0x25b82b,_0xbb4a24){const _0x335575=a0_0x200bc3;try{return this[_0x335575(0x527)][_0x335575(0x2ea)]?{'insertCount':(await this[_0x335575(0x67e)][_0x335575(0x4c7)]({'_id':_0xbb4a24},{..._0x25b82b},{'upsert':!0x0}))[_0x335575(0x394)]}:(this['writeStore']({'path':(0x0,_s[_0x335575(0x62e)])(es,this['auth']['TYPE']),'fileName':_0xbb4a24,'data':_0x25b82b}),{'insertCount':0x1});}catch(_0x1a9b8b){return{'error':_0x1a9b8b};}}async[a0_0x200bc3(0x487)](_0x266cfb){const _0x23df20=a0_0x200bc3;try{return this[_0x23df20(0x527)][_0x23df20(0x2ea)]?await this[_0x23df20(0x67e)][_0x23df20(0x1ed)]({'_id':_0x266cfb}):JSON[_0x23df20(0x654)]((0x0,Co['readFileSync'])((0x0,_s[_0x23df20(0x62e)])(es,this[_0x23df20(0x5f5)][_0x23df20(0x400)],_0x266cfb+'.json'),{'encoding':_0x23df20(0x264)}));}catch{return{};}}},fi=new C(a0_0x200bc3(0x53d)),wi=new je(fo,y),yi=new Bt(D,y),bi=new et(Fe,y),Si=new at(wo,y),Ei=new Yt(vo,y),vi=new Xt(bo,y),de=new Qt(wi,yi,bi,Si,Ei,vi,M?.[a0_0x200bc3(0x6bb)]()),J=new jt(os,y,de),Ni=new ht(y,J,de),Ci=new Ht(J),Ss=new zt(Ci),R=new Kt(J),ce=new Jt(J,y,de,os,Ni),to=new Wt(J,y),K=new Gt(J),P=new Ft(J),V=new qt(J);fi[a0_0x200bc3(0x253)](a0_0x200bc3(0x6d3));var Sp=require(a0_0x200bc3(0x55e)),xs=require('fs'),To=T(require(a0_0x200bc3(0x1ba))),Mo=T(require(a0_0x200bc3(0x5d4))),$e=class l{static #e;static set[a0_0x200bc3(0x6ae)](_0x538d9d){this.#e=_0x538d9d;}static get[a0_0x200bc3(0x1ba)](){const _0x5066e0=a0_0x200bc3;let {FULLCHAIN:_0x43d0d8,PRIVKEY:_0xefdfd2}=y[_0x5066e0(0x313)](_0x5066e0(0x791));return To[_0x5066e0(0x507)]({'cert':(0x0,xs[_0x5066e0(0x1b8)])(_0x43d0d8),'key':(0x0,xs['readFileSync'])(_0xefdfd2)},l.#e);}static get[a0_0x200bc3(0x5d4)](){const _0x537cf5=a0_0x200bc3;return Mo[_0x537cf5(0x507)](l.#e);}},ke=T(require('fs')),_o=T(require(a0_0x200bc3(0x6f8))),Le=T(require(a0_0x200bc3(0x508))),Zt=T(require(a0_0x200bc3(0x230))),xo=require(a0_0x200bc3(0x1e3)),Vs=require(a0_0x200bc3(0x1e3));function Ti(){const _0x1b767c=a0_0x200bc3;J[_0x1b767c(0x5f6)]();let _0x2f7edd=Zt[_0x1b767c(0x2bb)][_0x1b767c(0x62e)](__dirname,'downloads');Oo(_0x2f7edd);}var Oo=_0x3e1ec2=>{const _0x17b088=a0_0x200bc3;let _0x4cbb74=ke[_0x17b088(0x2bb)][_0x17b088(0x1c7)](_0x3e1ec2),_0x5cc05a=0xc*0x3c*0x3c*0x3e8,_0x138d55=0x2*0x3c*0x3c*0x3e8,_0x152b33=new Date()[_0x17b088(0x728)]();_0x4cbb74['forEach'](_0x3be539=>{const _0x31f476=_0x17b088;let _0xd0cee9=Zt[_0x31f476(0x2bb)][_0x31f476(0x62e)](_0x3e1ec2,_0x3be539),_0x2ddd7b=ke[_0x31f476(0x2bb)][_0x31f476(0x606)](_0xd0cee9)[_0x31f476(0x5a7)][_0x31f476(0x728)]();_0x152b33-_0x2ddd7b>_0x5cc05a&&(ke[_0x31f476(0x2bb)][_0x31f476(0x6ed)](_0xd0cee9),console[_0x31f476(0x23f)](_0x31f476(0x5a2)+_0x3be539));}),setTimeout(()=>Oo(_0x3e1ec2),_0x138d55);};function Mi(){const _0x56a15c=a0_0x200bc3;let _0x58dbe4=new C(_0x56a15c(0x575)),_0x2bed4d=(0x0,me['default'])();_0x2bed4d['use']((0x0,Po[_0x56a15c(0x2bb)])({'origin'(_0x3ac093,_0x37c3bc){const _0x4c33ca=_0x56a15c;let {ORIGIN:_0x49f2ad}=y['get']('CORS');return _0x3ac093||(_0x3ac093='*'),_0x49f2ad['indexOf']('*')!==-0x1||_0x49f2ad[_0x4c33ca(0x229)](_0x3ac093)!==-0x1?_0x37c3bc(null,!0x0):_0x37c3bc(new Error(_0x4c33ca(0x61e)));},'methods':[...y[_0x56a15c(0x313)](_0x56a15c(0x647))[_0x56a15c(0x620)]],'credentials':y[_0x56a15c(0x313)]('CORS')['CREDENTIALS']}),(0x0,me[_0x56a15c(0x2d2)])({'extended':!0x0,'limit':_0x56a15c(0x2a1)}),(0x0,me[_0x56a15c(0x3e1)])({'limit':_0x56a15c(0x2a1)})),_0x2bed4d[_0x56a15c(0x3ed)]((_0xcbb0e2,_0x3bdc88,_0x21e2d1)=>{const _0x918fc5=_0x56a15c;_0xcbb0e2[_0x918fc5(0x230)][_0x918fc5(0x75d)](_0x918fc5(0x761))?_0x21e2d1():(0x0,Do['default'])()(_0xcbb0e2,_0x3bdc88,_0x21e2d1);}),_0x2bed4d[_0x56a15c(0x392)](_0x56a15c(0x566),_0x56a15c(0x746)),_0x2bed4d[_0x56a15c(0x392)](_0x56a15c(0x787),(0x0,ks['join'])(Y,'views')),_0x2bed4d['use'](me[_0x56a15c(0x2bb)][_0x56a15c(0x73d)]((0x0,ks[_0x56a15c(0x62e)])(Y,_0x56a15c(0x69f)))),_0x2bed4d[_0x56a15c(0x3ed)]((_0x73935,_0x2b535b,_0x205f37)=>{const _0x1fe946=_0x56a15c;let _0x5cef66=_0x2b535b[_0x1fe946(0x3b2)];_0x2b535b[_0x1fe946(0x3b2)]=function(_0x4f4c1d){const _0x2931c3=_0x1fe946;if(_0x73935[_0x2931c3(0x373)][_0x2931c3(0x52a)]==='true'||_0x73935[_0x2931c3(0x777)][_0x2931c3(0x4b7)]===_0x2931c3(0x564)){let _0x477ac7=JSON[_0x2931c3(0x654)](_0x4f4c1d);_0x4f4c1d=JSON[_0x2931c3(0x76b)](_0x5e975a(_0x477ac7));}return _0x5cef66[_0x2931c3(0x2a4)](_0x2b535b,[_0x4f4c1d]);},_0x205f37();}),_0x2bed4d['use']('/',Ot),_0x2bed4d['use']((_0x4e876c,_0x9c13bf,_0x5a978e,_0x55793d)=>{const _0x1106ea=_0x56a15c;if(_0x4e876c)return _0x5a978e[_0x1106ea(0x354)](_0x4e876c[_0x1106ea(0x354)]||0x1f4)[_0x1106ea(0x3e1)](_0x4e876c);},(_0x2ca7d9,_0x3aedc3,_0x2b72e4)=>{const _0x29761d=_0x56a15c;let {method:_0x2e2b3a,url:_0x283979}=_0x2ca7d9;_0x3aedc3[_0x29761d(0x354)](0x194)[_0x29761d(0x3e1)]({'status':0x194,'message':_0x29761d(0x1d8)+_0x2e2b3a[_0x29761d(0x4ba)]()+'\x20'+_0x283979,'error':_0x29761d(0x50a)}),_0x2b72e4();});let _0x5e975a=(_0x5dbee3,_0x119de9=_0x56a15c(0x75b))=>{const _0x376606=_0x56a15c;let _0x28a611=(_0x390b51,_0x357f16=null,_0x590b86=!0x1)=>{const _0x44d58a=a0_0x3e29;let _0xb36fff={};return Object[_0x44d58a(0x72a)](_0x390b51)[_0x44d58a(0x5c6)](_0x3ec7a1=>{const _0xda2316=_0x44d58a;let _0x3e6ed3=_0x390b51[_0x3ec7a1],_0x14f934=''+_0x119de9+_0x3ec7a1;_0x357f16&&!_0x590b86&&(_0x14f934=_0x357f16+'.'+_0x3ec7a1),!_0x3e6ed3&&_0x3e6ed3!==0x0&&_0x3e6ed3!==!0x1||typeof _0x3e6ed3>'u'?_0xb36fff[_0x14f934]=null:typeof _0x3e6ed3!=_0xda2316(0x29a)&&!Array[_0xda2316(0x6dd)](_0x3e6ed3)?_0xb36fff[_0x14f934]=_0x3e6ed3:typeof _0x3e6ed3==_0xda2316(0x29a)&&!Array[_0xda2316(0x6dd)](_0x3e6ed3)?_0xb36fff=Object[_0xda2316(0x4b0)](_0xb36fff,_0x28a611(_0x3e6ed3,_0x14f934)):Array['isArray'](_0x3e6ed3)&&(typeof _0x3e6ed3[0x0]==_0xda2316(0x29a)?(_0xb36fff[_0x14f934]=[],_0x3e6ed3[_0xda2316(0x5c6)](_0x27d51e=>{_0xb36fff[_0x14f934]['push'](_0x28a611(_0x27d51e,_0x14f934,!0x0));})):_0xb36fff[_0x14f934]=_0x3e6ed3);}),_0xb36fff;};return Array[_0x376606(0x6dd)](_0x5dbee3)?_0x5dbee3[_0x376606(0x43b)](_0x58ea66=>_0x28a611(_0x58ea66)):typeof _0x5dbee3=='object'&&_0x5dbee3!==null?_0x28a611(_0x5dbee3):{};},_0x22c9f5=y['get'](_0x56a15c(0x575));$e[_0x56a15c(0x6ae)]=_0x2bed4d;let _0x34d2f1=$e[_0x22c9f5[_0x56a15c(0x400)]],_0x2aa6c9=_0x56a15c(0x666);_0x34d2f1[_0x56a15c(0x4de)](_0x22c9f5[_0x56a15c(0x5ad)],()=>{const _0x162bf2=_0x56a15c;_0x58dbe4['log'](_0x2aa6c9),_0x58dbe4[_0x162bf2(0x23f)](_0x22c9f5['TYPE'][_0x162bf2(0x4ba)]()+_0x162bf2(0x202)+_0x22c9f5[_0x162bf2(0x5ad)]);}),Ti(),Qs();}function Ls(_0x87e99e,_0x225fff){return new Promise(_0xef5598=>{const _0x4ea357=a0_0x3e29;(0x0,xo[_0x4ea357(0x531)])(_0x87e99e+'\x20'+_0x225fff,_0x3013eb=>{_0xef5598(!_0x3013eb);});});}function Ro(_0x17981e,_0x2aad65,_0x1000ba){return new Promise(_0x4babc2=>{const _0x3469ef=a0_0x3e29;Ls(_0x17981e,_0x1000ba)[_0x3469ef(0x5dc)](_0x3ec5c1=>{const _0x5ebe2e=_0x3469ef;if(_0x3ec5c1)_0x4babc2(!0x0);else{let [_0x259446,..._0x492c51]=_0x2aad65['split']('\x20'),_0x2da104=(0x0,Vs[_0x5ebe2e(0x3a1)])(_0x259446,_0x492c51,{'shell':!0x0});_0x2da104[_0x5ebe2e(0x2f5)]['on'](_0x5ebe2e(0x69b),_0x5933f2=>{const _0x20d3eb=_0x5ebe2e;console[_0x20d3eb(0x23f)](_0x17981e+_0x20d3eb(0x214)+_0x5933f2);}),_0x2da104[_0x5ebe2e(0x22f)]['on'](_0x5ebe2e(0x69b),_0x568a9e=>{console['error'](_0x17981e+'\x20install\x20error:\x20'+_0x568a9e);}),_0x2da104['on'](_0x5ebe2e(0x4a1),_0x33ac70=>{const _0x5ec98b=_0x5ebe2e;_0x33ac70!==0x0?(console[_0x5ec98b(0x22d)](_0x5ec98b(0x4a7)+_0x17981e+_0x5ec98b(0x562)+_0x33ac70),_0x4babc2(!0x1)):_0x4babc2(!0x0);});}});});}var Ri=a0_0x200bc3(0x414),Ai=Zt[a0_0x200bc3(0x2bb)][a0_0x200bc3(0x62e)](__dirname,a0_0x200bc3(0x662)),Ne=null;function a0_0x1d20(){const _0x55f585=['deleteDoneMessages','enabled','mongoose','Missing\x20global\x20api\x20key','statSync','/wa-message','optionDescription','utf8','\x1b[41m','closeExistingConversations','endsWith','groupadd','ex:\x20\x22groupJid=120362@g.us\x22','waitingPoll_name','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','notMatchRegex','messageTimestamp','oldValue','prefixCommand','):\x20Mensagem\x20já\x20enviada\x20para\x20','\x20minutos','noConnection','WEBHOOK_EVENTS_CONTACTS_SET','toDataURL','atendimentoAberto','groupUpdateDescription','chats.upsert','Not\x20allowed\x20by\x20CORS','sendCommand','METHODS','groupFetchAllParticipating','keep-alive','applyvaredit','findStatusMessage','uazapiSendMedia','\x1b[30m%s\x1b[0m','removed','LOG','SendScheduleMessage','\x22\x20not\x20found','WARN','Cache-Control','BRL','join','toLocaleString','saveVariable','including\x20timestamp\x20in\x20url:\x20','Erro\x20de\x20atualização:\x20','sendAudio','code','address','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','flattenObject','Image\x20converted\x20to\x20WebP','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','):\x20Visualizando\x20AutomateSystem','created','generate','DEBUG','DB_PREFIX_NAME','replyOptions','shift','slice','closed','replaceVariablesLogs','group-participants.update','email','message','CORS','website','audio','chats','webhook','SERVER_PORT','messages','pollCreationMessageV2','phoneNumber','\x20chats\x20de\x20','CORS_METHODS','notas','messageId','parse','viewOnceMessage','Temp\x20audio\x20deleted','false','deleteInstance','!stop','urlOrBase64','prepareMediaMessage','joinGroup','PRODUCTION','/message','profilePictureUrl','save','buttonsMessage','./.git/config','CORS_CREDENTIALS','editOperator','createConnection','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','sendButtons','/media','waitingPoll_replyOptions','findConversation','sending','addReplyOption','deleteflow','TRIAL_AD','groupValidate','replaceVariablesInObject','long','deleteBlock','):\x20updateResult:','findByIdAndUpdate','scheduleSendText','):\x20Entrou\x20na\x20função\x20saveReply','Content\x20is\x20required','buttonText','less','DisconnectReason','uazapiSendPoll','DARK','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','authModel','redisEnv','Valor\x20inicial:\x20\x22','writeData','insertMany','/create','replacer','messagesSend','Method\x20not\x20implemented.','delayMessage','\x1b[1m','CONFIG_SESSION_PHONE_NAME','Read\x20messages\x20fail','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','web','REDIS_ENABLED','Error\x20updating\x20profile\x20status','sendMessageWithTyping','Data\x20inválida\x20fornecida','):\x20alterando\x20this.AutomateSystem','base64','from','END:VCARD','writeFileSync','routerPath','uazapiSendText','isRunning','updateConversation','newStoppedUntil','data','\x5c$&','getMessage','#000000','public','reorderBlocks','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','getMinutes','sendReaction','Erro\x20ao\x20buscar\x20conversa:\x20','group\x20ignored','):\x20Erro\x20ao\x20editar\x20agentes:\x20','request\x20received\x20in\x20updateAgent','jid','WEBHOOK_EVENTS_CHATS_SET','contactMessage','não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','webhookModel','opendirSync','app','fromObject','equal','locked','downloads','contacts.upsert','https://uazapi-plugin.bubbleapps.io/?url=','TRIAL_INSTANCE_NAME','dropCollection','findByIdAndDelete','WEBHOOK_EVENTS_SEND_MESSAGE','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','getOwnPropertyNames','getClient','saveChatVariables','updateProfilePicture','documentMessage','console','success','/instance','pollMessage','\x20inseridos\x20no\x20banco\x20de\x20dados...','\x22,\x20valor\x20a\x20substituir:\x20\x22','Output\x20audio\x20path:\x20','Connection\x20closed\x20for\x20instance:\x20','class-validator','redirect','newValue','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','where','write','Error\x20in\x20scheduleNextCheck:\x20','scheduleMessage','sendText','unreadcount','image','COLOR','Module\x20-\x20ON','lastReceivedMessage','sendPoll','contactname','verbose','sign','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','pt-BR','vote','out','isArray','revokeInviteCode','redis','flowname:\x20','PROD','/wa-qrcode','uncaughtException','):\x20Going\x20to\x20','privacySettings','):\x20lastBlockId:\x20','creds','):\x20Erro\x20durante\x20a\x20atualização:\x20','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','bearer','repository','mimetype','unlinkSync','CLEANING_INTERVAL','PRIVKEY','stickerMessage','fetchPrivacySettings','Nenhum\x20chat\x20encontrado\x20para\x20editar.','groupUpdateSubject','contacts.update','done','*\x0a\x0a','Erro\x20ao\x20atualizar\x20conversa:\x20','ini','):\x20Flow\x20não\x20encontrado','markMessageAsRead','uazapiSendContact','\x20não\x20encontrado','groups.update','sudo\x20apt\x20install\x20-y\x20ffmpeg','g-t','Type\x20defined\x20as\x20audio','matchRegex','jsonschema','Operador:\x20\x22','presence.update','AUTOUPDATE','isJWT','Próxima\x20verificação\x20em\x20','trimmed','hDel','scheduled','app-state-sync-key','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','NextBlock','.json','put','Erro\x20ao\x20editar\x20o\x20bloco:\x20','setHeader','configService','flow','CHATS_UPSERT','unhandledRejection','findWebhook','fetchProfile2','/webhook','expression','lastSendMessage',',\x20lastCondition:\x20','AutomateFunctions','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','findMessages','\x20foi\x20interrompido\x20pelo\x20usuário.','router','integer','allFlows','contextInfo','GROUP_PARTICIPANTS_UPDATE','eventHandler','stopMinutesMaxActives','getTime','toNumber','keys','textMessage','desc','buttonMessage','request\x20received\x20in\x20fetchConversation','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','createNewConversation','condition',',\x20fará\x20nova\x20verificação\x20em\x20','not\x20loaded','headerString','waitingPoll_id','moreLogs','document','syscall','readData','createFlow','STATUS_INSTANCE','Hash\x20to\x20audio\x20name:\x20','static','):\x20','\x1b[47m','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','.sendDataWebhook-global','formatBRNumber','.ogg','Instance\x20deleted','generateHash','hbs','sections','WEBHOOK_GLOBAL_ENABLED','datetime','\x1b[0m','resetReconnectionVariables','Types','uuid','pollCreationMessageV3','replaceVariablesChat','media','getAutomateSystem','):\x20conversation.waitingPollname','https://jsonip.com','allContacts','method','deleteMessage','type','404ZfClMM','buttonId','\x1b[31m%s\x1b[0m','_p_','key.','startsWith','):\x20Deletando\x20conversa...','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','messageContextInfo','/events','editflow','Logger','contact_blacklist','):\x20transformedCustomFieldVariables','stoppedUntil','qrcode-terminal','sha256','unreadCount','delaySecMin','stringify','rows','writeStore','CONNECTION','caption','ip:\x20','):\x20Ler\x20mensagem','sendList','desativadoFluxoAte','currency','isURL','notContains','headers','nome','profilePicture','contains','createInstance','delInstanceFiles','block','Converted\x20audio\x20deleted','):\x20atualização\x20chat:\x20','getDevice','key','URL','ButtonsMessage','Font\x20is\x20required','_error','authentication','views','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','Group\x20not\x20found','evaluateCondition','):\x20nextBlock.uazapi.name',',\x20Minutes\x20to\x20Close:\x20','):\x20Alterando\x20fluxo...','verifiedName','createConversationforgoToFlow','\x20messages.','SSL_CONF','getContentType','unavailable','PLAYED','updateReplyOption','getDelay','saveTextReply','Temp\x20image\x20deleted','updateProfilePicturePrivacy','):\x20Editando\x20bloco...','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','Temp\x20audio\x20path:\x20','Message','editFlow','eventemitter2','Número:\x20','hSet','WEBHOOK_EVENTS_CONNECTION_UPDATE','BufferJSON','connectionState','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','count','variable','promote','\x1b[46m','getVariablesChat','hGet','readFileSync','mediaKey','https','readMessages','Erro\x20ao\x20encerrar\x20a\x20API','request\x20received\x20in\x20starFlow','fileLength','Error\x20in\x20markMessageAsRead:','groups','upsertChats','convertaudio','\x20instance\x20does\x20not\x20exist','errorLog','):\x20Deletando\x20fluxo...','):\x20conversation.lastInteraction:\x20','readdirSync','Desconectado,\x20parando\x20execução.','request\x20received\x20in\x20editFlow','collections','saveMediaToFile','):\x20Edit\x20schedule\x20message...','folder',',\x20Segundo\x20Valor:\x20','latitude','Erro:','):\x20Criando\x20nova\x20conversa','groupJid','arrayUnique','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','hGetAll','order','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','Cannot\x20','documentWithCaptionMessage','ids','findGroup','firstValue','ON\x20-\x20dbName:\x20','replyOption','errno','Business\x20profile\x20fetched','DATABASE_CONNECTION_USER','licenca','child_process','\x1b[31m','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','findGroupInfo','message-up','available','model','):\x20isVote','waInstances','Audio\x20processed','findOne','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','):\x20Criou\x20conversa\x20no\x20startFlow:','Error\x20change\x20group\x20description','listMessage','connection.update','processConditionsTest','.josn','deleteOne','findAndReplaceRegex','REDIS','Profile\x20not\x20found','\x20saindo\x20da\x20função','redis-server','groupHandler','arraybuffer','):\x20teve\x20mudanças\x20chat.displayName:\x20','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','request\x20received\x20in\x20editConversation','dark','updatePresence','\x20-\x20ON:\x20','groupSetting','!cmd_','url','error\x20get\x20vote','NEW_JWT_TOKEN','.sendDataWebhook-local','processConditions','push','):\x20Enviando\x20texto','options','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','audioWhatsapp','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','Erro\x20ao\x20editar\x20agentes:\x20','Message\x20not\x20found','Error\x20fetching\x20and\x20updating\x20profile:\x20','AppStateSyncKeyData','\x20install\x20output:\x20','Falha\x20ao\x20deletar\x20mensagens\x20updates:','/*.json','Content-Type','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','/instance/create','/wa-contacts','/events/:instance','participants','editflowvaredit','Original\x20filename:','flowPrefixCommand','remove','waMonit','hasOwnProperty','\x20minutos.\x20Será\x20às\x20','processvaredits','setWebhook','pollErrorMessage','SUCCESS','indexOf','paused','statusCode','agents','error','stopConversation','stderr','path','leaveGroup','deleteFlow','KEY','setting','E-mail:\x20','messageUpModel','PASSWORD','announce','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','request\x20received\x20in\x20updateFlowConfig','mongodb','fetchMessages','fetchProfilePictureUrl','jpegThumbnail','log','):\x20Editando\x20replyOption...','setContext','WEBHOOK_EVENTS_GROUPS_UPDATE','Error\x20update\x20group\x20picture','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','catch','DEL_INSTANCE','Fetching\x20business\x20profile','g.us','toBrazilianNumberFormat','lastCondition','connectionStatus','getLastMessage','MAX_RECONNECT_ATTEMPTS','context','composing','Converting\x20image\x20to\x20WebP\x20to\x20sticker','processPollUpdateMessage','API\x20Key\x20from\x20Request:','info','cleanStore','imageMessage','66084JPEBar','Image\x20created','function','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','toArray','):\x20Enviando\x20enquete','maxActives','uazapiSendLocation','Temp\x20audio\x20created','online','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','qrCode','groupDesc','reconnectAttempts','utf-8','Error\x20updating\x20profile\x20picture','existsSync','lastmsg','messaging-history.set','archive','instanceName\x20not\x20provided.','\x1b[37m%s\x1b[0m','https://api.ipify.org?format=json','Getting\x20audio\x20from\x20url','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','organization','bateu\x20events','CONTACTS_SET','chats.update','reaction','WEBHOOK_MAP','quotedMessage','test','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','.refreshToken','\x20segundos','request\x20received\x20in\x20createFlow','delInstanceTime','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','WEBHOOK_EVENTS_MESSAGES_UPSERT','):\x20Tentando\x20deletar\x20todas\x20mensagens\x20updates...','cpf','editFlowBlock','subjectOwner','hex','events','instance.','getFlow','responsavelid','deletedCount','^\x5cd+','SEND_MESSAGE','proto','getBusinessProfile','14440pLzfFo','WEBHOOK_EVENTS_MESSAGES_UPDATE','contactHandle','processApiRequest','Flow\x20already\x20exists','onTime','):\x20Buscando\x20conversa...','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','dbServer','groupAcceptInvite','/wa-groups','\x22\x20cannot\x20be\x20empty','delaySecMax','AUTHENTICATION','object','backgroundColor','gifPlayback','AUTHENTICATION_TYPE','binary','\x22reaction\x22\x20must\x20be\x20an\x20emoji','QRCODE_UPDATED','50mb','Instance\x20logged\x20out','__esModule','apply','updateLastSeenPrivacy','updatePrivacySettings','EMAIL','groups_ignore','Falta\x20informação\x20para\x20a\x20chamada\x20API','MESSAGES_UPSERT','File\x20written\x20to\x20path:\x20','writeFile','-instances','variablesNotFound','waUploadToServer','messages.set','INFO','Instância:\x20','subject','flowStopConversation','conversationTimestamp','):\x20Falha\x20ao\x20deletar\x20mensagem.','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','findIndex','findGroups','and','default','originalUrl','createWebhook','3686650KwOiWa','Não\x20respondeu\x20com\x20a\x20enquete.','normalizeMessage','\x20}\x0a','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','stopMinutes','):\x20Entrou\x20na\x20função\x20stop','notify','leadInfo','del','groupParticipantsUpdate','replace','createGroup','messageHandle','-version','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','fromMe','toLowerCase','request\x20received\x20in\x20getFlow','urlencoded','_doc','apikey','toFile','isBusiness','@g.us','WEBHOOK_GLOBAL_URL','instanceKeys','1743870UXngit','No\x20join\x20group\x20invite\x20code\x20or\x20url','reference','chatHandle','\x1b[32m','ORG:','webhookMap','Invalid\x20\x22oldToken\x22','sort','.X-ABLabel:Celular\x0a','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','updateFlowConfig','chatModel','limit','android','WEBHOOK_EVENTS_MESSAGES_SET','ENABLED','nextBlock:','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','groupId','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','presence','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20áudio:','post','Error\x20fetching\x20group','verify','stdout','SECRET','scheduleSendAudio','trim','loadWebhook','Falha\x20ao\x20deletar\x20contatos:','upperCase','localWebhook','notEmpty','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','):\x20Current\x20Time:\x20','):\x20Enviando\x20áudio','array','remoteJid','ffmpeg','\x20mensagens\x20de\x20','Instance\x20restarted','length','editFlowCondition','getflow','Atualização:\x20','entries','convertToWebP','Error\x20updating\x20setting','extractRegex','initAuthCreds','Getting\x20profile\x20with\x20jid:\x20','):\x20Query\x20params:','express','editflowgroup','get','inviteCode','WEBHOOK_EVENTS_CONTACTS_UPSERT','emit','\x20não\x20encontrado\x20para\x20atualização.','\x1b[37m','linkPreview','cwd','name','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','next_groupId','msgRetryCounterCache','TEL','audio/ogg;\x20codecs=opus','scheduleMessages','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','reactionMessage','This\x20name\x20','readMessage','11OSeQHN','useMultiFileAuthState','API\x20Key\x20inválida.','prototype','ERROR','\x0aitem','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','\x1b[34m','createClient','floor','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','archiveChat','owner','Erro\x20ao\x20iniciar\x20fluxo:\x20','replaceVariablesInReplyOptions','replaceVariables','8080','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','pop','profile','The\x20\x22','render','DATABASE_CONNECTION_DB_PREFIX_NAME','all','buttons','-whatsapp-api','statusJidList','*Pergunta*:\x20\x0a','last','updateChatWithMessage','No\x20invite\x20code','Variáveis\x20não\x20encontradas:','ReplyOption\x20com\x20ID\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','CHATS_SET','Error\x20updating\x20profile\x20name','sendMedia','\x1b[34m%s\x1b[0m','Not\x20is\x20business\x20profile','prepareWAMessageMedia','loggedOut','poll_id','Button\x20IDs\x20cannot\x20be\x20repeated.','Imagem\x20não\x20encontrada','env','/instance/fetchInstances','status','conditions','):\x20Conversa\x20atualizada\x20em\x20memória','secondValue','\x1b[33m%s\x1b[0m','stack','fetchBusinessProfile','The\x20','title','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','authorization','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','start','messageSecret','eventEmitter','):\x20leadInfoVariables','getBase64FromMediaMessage','displayName','inner',',\x20resultado:\x20','MESSAGES_UPDATE','DOCKER_ENV','statusMessage','/exit','everyOne','96369GYXRvo','Audio\x20is\x20base64','Type\x20not\x20found','number','call','poll','query','Full\x20file\x20path:','getMIMEType','request\x20received\x20in\x20editFlowcondition','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','PRESENCE_UPDATE','state','WEBHOOK_EVENTS_QRCODE_UPDATED','\x0a{\x20instance:\x20','Processing\x20audio','Unknown\x20message\x20type\x20encountered','jsonwebtoken','removeProfilePicture','isInteger','pollMessageOnDelete','fetchProfile','getConversation','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','AUTHENTICATION_JWT_SECRET','metadata','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','.mp4','content','USER','\x0aFN:','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','filter','Falha\x20ao\x20deletar\x20mensagens:','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','instance','processblock','set','command','modifiedCount','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','picture','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','startFlow','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','jwt','audio/mp4','):\x20Erro\x20ao\x20iniciar\x20fluxo\x20','#ffffff','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','Fluxo\x20não\x20encontrado','deleteConversation','spawn','selectedOptions','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','js-yaml','request\x20received\x20in\x20editFlowgroup','namespace','STORE_MESSAGE','):\x20Procurando\x20conversa','scheduleSendMedia','\x20contatos.','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','flowConfig','realVariables','getHours','The\x20global\x20api\x20key\x20must\x20be\x20set','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','send','formatVCard','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','fetchLatestBaileysVersion','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','envProcess','envYaml','Error\x20change\x20group\x20setting','sudo\x20apt\x20install\x20-y\x20redis-server','tokenId','sendDataWebhook','Getting\x20profile\x20info','addresss','selectableCount','Início','lowerCase','authState','EXPIRIN_IN','variablesToObject','request\x20received\x20in\x20getConversation','demote','userDevicesCache','validate','isJidGroup','getRandomText','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','connectionUpdate','CHATS_UPDATE','collection','Hash\x20to\x20image\x20name:\x20','values','error_log','findParticipants','groupName','blockId','toString','isBase64','):\x20Deletados\x20','.\x20Pulando.','Close\x20connection','CORS_ORIGIN','pre','Output\x20path:\x20','senderKeyDistributionMessage','waMonitor','evaluateConditionTest','json','release','delete','):\x20Tentando\x20deletar\x20todas\x20os\x20contatos...','notEqual','\x20contacts','CONNECTION_UPDATE','isDirectory','truncatedtoEnd','longitude','removeData','defineAuthState','use','request\x20body:\x20','action','video','Instance\x20ID:','some','editChat','\x1b[36m%s\x1b[0m','NAME','remoteJidsRemaining','variables','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:','editflowblock','getScheduleMessage','apirequest','dataValidate','insert','updateCustomFields','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','TYPE','size','PHONE','Error\x20deleting\x20instance\x20from\x20memory.',',\x20Comparador:\x20','scheduleNextCheck','enumerable','/wa-message-update','creds.json','create\x20-\x20success','status@broadcast','updateBlock','close','endSession','string','ignoreGroups','isBooleanString','params','):\x20Editando\x20condição\x20do\x20fluxo...','editFlowGroup','https://github.com/uazapi/uazapi.git','updateMediaMessage','Telefone:\x20','debug','fetchChats','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','getPrototypeOf','chats.set','@broadcast','DATABASE_CONNECTION_PASSWORD','CHATS_DELETE','):\x20Entrou\x20na\x20função\x20goToFlow','?timestamp=','cleaningUp','):\x20this.processingScheduleMessageId:\x20','execSync','):\x20Buscando\x20todos\x20os\x20fluxos...','fetchStatus','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','QRCODE_LIMIT','NODE_ENV','chatLog','sendPresenceUpdate','stateConnection','wuid','@whiskeysockets/baileys','repeat','createConversationforStartFlow','updateMessage','connected','whatsappNumbers','readFile','REDIS_URI','groupSettingUpdate','URI','response','messages.upsert','restartInstance','processUazapi','map','Instance\x20\x22','toBRL','finish','newName','pollCreationMessageKey','16ChNOwm','/wa-connection-update','request\x20received\x20in\x20updateCustomFields','DATABASE_CONNECTION_URI','conversation','@ffmpeg-installer/ffmpeg','getStatus','apiResponse','remote\x20\x22origin\x22','\x5cd+','random','stanzaId','Instance\x20Key\x20from\x20DB:','width','delay','encoding','mediaMessage','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','FlowController','mediatype','fetchConversation','redisCache','sendContact','Deletion\x20failed','status.instance','Revoke\x20error','qrcode','updateStopChat','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','):\x20Iniciando\x20bot...','font','mediaSticker','Sistema\x20atualizado\x20com\x20sucesso!','badSession','sharp','):\x20Erro\x20ao\x20buscar\x20conversas\x20','add','temp-','mkdirSync','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','\x1b[1m\x1b[37m','Db\x20Connection','updateGParticipant','PREFIX_KEY','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','includes','remoteJids','API_KEY','fetchStatusMessage','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','footerText','greater','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','messageUpdate','varedit','ObjectId','sendMessage','updateProfileName','exists','CLIENT','varedits','client','):\x20Erro\x20ao\x20criar\x20fluxo\x20','WEBHOOK_EVENTS_CONTACTS_UPDATE','pollOnReplyDelete','.mp3','getProfileName','editConversation','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','find','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','StartBot','rmSync','videoMessage','viewOnceMessageV2','DELIVERY_ACK','GROUPS_UPDATE','WEBHOOK_EVENTS_CHATS_DELETE','Router','/media/','editflowvariable','sendWhatsAppAudio','Unable\x20to\x20leave\x20the\x20group','DATABASE','):\x20Conversa\x20inserida\x20com\x20sucesso.','recording','Primeiro\x20Valor:\x20','goToFlow','readreceipts','locationMessage','local_map','):\x20teve\x20mudanças\x20chat.archived:\x20','groupToggleEphemeral','No\x20participants','exit','mentioned','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','Getting\x20image\x20from\x20url','isConnected','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Erro\x20ao\x20instalar\x20','pollCreationMessage','mentions','lastMessage','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','CONTACTS_UPSERT','WEBHOOK','creds.update','tags','assign','defineProperty','updateProfileStatus','updateOne','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','/clients-info','none','uazapi','match','DELETED','toUpperCase','chats.delete','editFlowVariable','Audio\x20converted\x20to\x20mp4','logout','loadEnv','data:\x20','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','STORE_CHATS','SSL_CONF_PRIVKEY','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','):\x20Criando\x20fluxo...','format','replaceOne','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','reviver','user','lastInteraction','protocolMessage','substring','errors','capitalizedWords','role','findGroupInfos','):\x20Editando\x20edição\x20do\x20fluxo...','blocks','goNextblock',',\x20Resultado:\x20','subjectTime','GUARD','updateAgent','empty','groupLeave','CONTACTS_UPDATE','height','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','listen','instanceInfo','chat','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','GLOBAL','createflow','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','toggleEphemeral','presenceSubscribe','fetchContacts','STORE','\x20-y','body','contentText','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','cors','request\x20received\x20in\x20deleteDoneMessages','authService','dbInstance','pushName','boolean','padEnd','nomecompleto','pollUpdateMessage','flowStopMinutes','updateReadReceiptsPrivacy','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','apiName','qrcode.updated','\x1b[32m%s\x1b[0m','STORE_CLEANING_TERMINAL','VERBOSE','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','Error\x20change\x20group\x20name','):\x20não\x20encontrou','.jwt','whatsappNumber','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','contactsArrayMessage','messages.update','):\x20Enviando\x20contato','createServer','axios','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','Not\x20Found','):\x20Error\x20processing\x20the\x20block:\x20','EVENTS','item','AutomateSystem\x20não\x20foi\x20inicializado','match_last_seen','lastBlockId','update','URL:','compression','warn','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','LOG_LEVEL','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','contacts','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','CONFIG_SESSION_PHONE_CLIENT','header','RECONNECT_TIME_FRAME','max','audioMessage','blockLogs','editFlowVaredit','findAndReplace','\x1b[40m','Forbidden','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','instanceName','dbSettings','customFields','uazapiSendAudio','convert','editScheduleMessage','load','minutesToClose','request\x20received\x20in\x20allFlows','oldToken','updateGroupsAddPrivacy','exec','optionName','Initial\x20__dirname:','isLong','sendSticker','participant','rowId','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','processgoToFlow','/wa-chats','HeaderType','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','WA\x20MODULE','):\x20Buscando\x20flow...','archived','Enter\x20a\x20value\x20in\x20milliseconds','contactModel','updateGroupPicture','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','groups.upsert','fone','Connection','ERROR:\x20','FULLCHAIN','activatedCount','has','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','Validate','performBulkUpdate','_id','/automate','connectToWhatsapp','round','output','parseInt','}}\x20->\x20\x22','JWT','no.connection','Unauthorized','saveConversationToDatabase','fileName','getOwnPropertyDescriptor','uazapiDeleteMessage','The\x20property\x20cannot\x20be\x20empty','fetchInstances','express-async-errors','when','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','Bloco\x20com\x20ID\x20','.\x20Código\x20de\x20saída\x20','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','true','Internal\x20Server\x20Error','view\x20engine','sendLocation','Button\x20texts\x20cannot\x20be\x20repeated','):\x20Ignoring\x20group\x20messages.','LIMIT','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','TEXT','deleteReplyOption','WEBHOOK_EVENTS_NEW_JWT_TOKEN',',\x20valor\x20a\x20encontrar:\x20\x22','findOneAndUpdate','Bad\x20Request','GROUPS_UPSERT','findFlow','creation','SERVER','SERVER_ACK','):\x20newSecondValue\x20após\x20replaceVariables:','sendStatus','updateMany','Last\x20message\x20not\x20found','audio/ogg','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','create','sleep','expiration','Schema','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','AutomateSystem','mongodb://','rm\x20-rf\x20','stopped','joinGroupValidate','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','Error\x20updating\x20participants','deleteMessageForEveryone','232035xSTtZZ','The\x20instance\x20needs\x20to\x20be\x20disconnected','checkAndUpdateChats','processingScheduleMessageId','WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE','Flow\x20não\x20encontrado','EMAIL:','formatStatusMessage','messageModel','logger','../env.yml','):\x20newFirstValue\x20após\x20replaceVariables:','fullName','readMessageBot','/refreshToken','Background\x20color\x20is\x20required','bodyString','decryptPollVote','restart',',\x20saindo.','OrAnd','connecting','Error\x20creating\x20group',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','Deleted\x20','description','https://','):\x20customFieldVariables','LEVEL','birthtime','split','editFlowReply','Error\x20updating\x20privacy\x20settings','option','lastSend','PORT','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','flushHeaders','$set','imagechat','new.jwt','MESSAGES_SET','open','refreshToken','):\x20Enviando\x20localização','Por\x20favor,\x20responda\x20à\x20última\x20enquete\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','Invalid\x20format','convertedOptions','AUTHENTICATION_JWT_EXPIRIN_IN','Flow\x20iniciado\x20com\x20','Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...','storePath','isFile','?authSource=admin&readPreference=primary&directConnection=true','changeVariables','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','flowIgnoreGroups','\x22\x20-\x20NOT\x20CONNECTION','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','Fluxos\x20não\x20estão\x20ativados','forEach','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','charAt','Erro\x20ao\x20aplicar\x20varedit:\x20','):\x20Buscando\x20conversas...','\x0a*Você\x20respondeu*:\x0a','deleteMany','updateGParticipate','webhookService','interval\x20não\x20é\x20um\x20número','findById','@s.whatsapp.net','Comando\x20desconhecido','3655548fcnfDq','http','editedMessage','):\x20Error\x20processing\x20conditions:\x20','group','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','leadInfo.customFields','splice','addBlock','then','removeInstance','findContacts','Log\x20out\x20instance:\x20','reconnectTimestamps','updateOnlinePrivacy','NO_IP','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','):\x20delete\x20=\x20true','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','PENDING','):\x20teve\x20mudanças\x20chat.name:\x20','Contacts\x20not\x20found','dbClient','not_announcement','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','value','\x1b[44m','fetchProfilePicture','contact','Subscribed\x20Events:','Erro\x20na\x20migração:','):\x20expirationTime:\x20','^\x5cd+[\x5c.@\x5cw-]+','text','auth','loadInstance','now','connect','ephemeralMessage','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:','end','flowActive','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','groupMetadata','\x1b[42m','throwAndLogError','createJid'];a0_0x1d20=function(){return _0x55f585;};return a0_0x1d20();}function Ii(){return new Promise((_0x536306,_0x4fc603)=>{const _0xdddfca=a0_0x3e29;ke[_0xdddfca(0x2bb)][_0xdddfca(0x433)](Ai,_0xdddfca(0x264),(_0x59cdf4,_0x2dfa81)=>{const _0x4a12d4=_0xdddfca;if(_0x59cdf4){Ne=_0x59cdf4,_0x536306();return;}_o['default'][_0x4a12d4(0x654)](_0x2dfa81)[_0x4a12d4(0x449)][_0x4a12d4(0x205)]===Ri?(Ne=null,_0x536306()):(Ne=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x536306());});});}async function Di(){const _0x3c4eb1=a0_0x200bc3;try{await Ii(),await Us();}catch(_0x32a0a2){console[_0x3c4eb1(0x22d)](_0x3c4eb1(0x2ee)+_0x32a0a2),process[_0x3c4eb1(0x4a1)](0x1);}}Di();async function $o(){const _0x7a0bbc=a0_0x200bc3;let _0x1601dc;try{_0x1601dc=(await Le[_0x7a0bbc(0x2bb)][_0x7a0bbc(0x313)](_0x7a0bbc(0x753)))[_0x7a0bbc(0x69b)]['ip'];}catch(_0x303ecc){console[_0x7a0bbc(0x22d)](_0x303ecc);try{_0x1601dc=(await Le[_0x7a0bbc(0x2bb)][_0x7a0bbc(0x313)](_0x7a0bbc(0x26c)))[_0x7a0bbc(0x69b)]['ip'];}catch(_0x1f1868){console[_0x7a0bbc(0x22d)](_0x1f1868);try{_0x1601dc=(await Le[_0x7a0bbc(0x2bb)]['get']('http://checkip.dyndns.org'))[_0x7a0bbc(0x69b)][_0x7a0bbc(0x4b8)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x58a91b){return console[_0x7a0bbc(0x22d)](_0x58a91b),!0x1;}}}return _0x1601dc;}async function Pi(){const _0xd6703=a0_0x200bc3;Ne||(await Ro('redis-server',_0xd6703(0x3bb),'--version'),await Ro('ffmpeg',_0xd6703(0x6fe),_0xd6703(0x2cc)));}var Ao=0x0;async function Oi(){const _0x1d6199=a0_0x200bc3;Pi();let _0xfc3ff3=await Ls(_0x1d6199(0x1fa),'--version'),_0x2c2ea4=await Ls(_0x1d6199(0x303),_0x1d6199(0x2cc)),_0x15df7f=y[_0x1d6199(0x313)](_0x1d6199(0x1f7)),_0x511447=y[_0x1d6199(0x313)](_0x1d6199(0x705)),_0x2db805=y[_0x1d6199(0x313)](_0x1d6199(0x299))['API_KEY'][_0x1d6199(0x233)],_0x8696e8=y[_0x1d6199(0x313)]('SSL_CONF'),_0xa5bedd=await $o(),_0x42e707=y['get'](_0x1d6199(0x575))[_0x1d6199(0x5ad)],_0x8c94d3=y[_0x1d6199(0x313)](_0x1d6199(0x402));try{let _0x4a5690={'ip':_0xa5bedd||null,'redis_instalado':_0xfc3ff3||null,'ffmpeg_instalado':_0x2c2ea4||null,'redis_enable':_0x15df7f?.[_0x1d6199(0x2ea)]||null,'autoupdate':_0x511447||null,'apikey':_0x2db805||null,'ssl':_0x8696e8?.[_0x1d6199(0x6ef)]||null,'lastupdate':ko||null,'port':_0x42e707||null,'phone':_0x8c94d3||null,'gitInstallError':Ne?.[_0x1d6199(0x646)]||null};console['log'](_0x1d6199(0x770),_0x4a5690['ip']);for(let _0x13ebe1 in _0x4a5690)_0x4a5690[_0x1d6199(0x223)](_0x13ebe1)&&_0x13ebe1!=='ip'&&(_0x4a5690[_0x13ebe1]=JSON['stringify'](_0x4a5690[_0x13ebe1]));return(await Le['default'][_0x1d6199(0x2f2)](_0x1d6199(0x4dd),_0x4a5690))['data'];}catch(_0x241fe9){return console['error'](_0x241fe9),!0x1;}finally{}}var $s=!0x1,ko=0x20b,_i=0x3,Io=0x1b7740;async function Us(){const _0x217ab8=a0_0x200bc3;if(!await $o())return console[_0x217ab8(0x22d)](_0x217ab8(0x560)),_0x217ab8(0x5e2);let _0x289071=await Oi();if(_0x289071){if(_0x289071[_0x217ab8(0x437)][_0x217ab8(0x1e2)]===!0x0){let _0xf9cfe7=y[_0x217ab8(0x313)](_0x217ab8(0x705));Ne===null&&_0xf9cfe7!==_0x217ab8(0x657)&&_0x289071[_0x217ab8(0x437)]['last_update']-ko>0x0&&await xi(),$s||($s=!0x0,Mi());}else return console['log'](_0x217ab8(0x788)),$s&&(console['log'](_0x217ab8(0x322)),process[_0x217ab8(0x4a1)]()),'LICENSE_INVALID';let _0x1ba4cf=0x24*0x3c*0x3c,_0x28e8e8=_0x289071[_0x217ab8(0x437)]['segundos']>_0x1ba4cf?_0x1ba4cf:_0x289071['response']['segundos'],_0x18019c=Number(_0x28e8e8);if(isNaN(_0x18019c)){console['error'](_0x217ab8(0x5cf));return;}let _0x152110=Math[_0x217ab8(0x32f)](_0x18019c/0xe10),_0x4a0fc2=Math[_0x217ab8(0x32f)](_0x18019c%0xe10/0x3c),_0x2f3d6a=new Date(Date[_0x217ab8(0x5f7)]()+_0x18019c*0x3e8);setTimeout(Us,_0x18019c*0x3e8);let _0x537e87=_0x1b48a7=>_0x1b48a7['toString']()['padStart'](0x2,'0'),_0x5ba6db=_0x217ab8(0x707)+_0x537e87(_0x152110)+'\x20horas\x20e\x20'+_0x537e87(_0x4a0fc2)+_0x217ab8(0x224)+_0x537e87(_0x2f3d6a[_0x217ab8(0x3af)]())+':'+_0x537e87(_0x2f3d6a[_0x217ab8(0x6a2)]());console[_0x217ab8(0x23f)](_0x5ba6db);}else{if(Ao++,Ao<_i)console['log']('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+Io/0xea60+'\x20minutos...'),setTimeout(Us,Io);else return console['error'](_0x217ab8(0x1d7)),'SERVER_OFFLINE';}}async function xi(){const _0x98dfd6=a0_0x200bc3;console[_0x98dfd6(0x23f)]('Parando\x20aplicação,\x20atualização\x20recebida');let _0x1d2e25=(0x0,Vs['spawn'])(_0x98dfd6(0x384),{'shell':!0x0});_0x1d2e25[_0x98dfd6(0x2f5)]['on'](_0x98dfd6(0x69b),_0x1c12a5=>{const _0x50df4e=_0x98dfd6;console[_0x50df4e(0x23f)](_0x50df4e(0x309)+_0x1c12a5);}),_0x1d2e25['stderr']['on']('data',_0x41c462=>{const _0x5bf143=_0x98dfd6;console[_0x5bf143(0x22d)](_0x5bf143(0x632)+_0x41c462);}),_0x1d2e25['on']('exit',_0x20f2e6=>{const _0x198cdc=_0x98dfd6;_0x20f2e6!==0x0?console[_0x198cdc(0x22d)](_0x198cdc(0x525)+_0x20f2e6):console[_0x198cdc(0x23f)](_0x198cdc(0x461)),console['log']('Parando\x20aplicação...'),setTimeout(()=>process[_0x198cdc(0x4a1)](),0x2710);});}