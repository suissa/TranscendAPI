const a0_0x26e249=a0_0x3705;(function(_0xb8a657,_0x134cdf){const _0x4a0c9c=a0_0x3705,_0x4c5540=_0xb8a657();while(!![]){try{const _0x383c12=-parseInt(_0x4a0c9c(0x81a))/0x1*(parseInt(_0x4a0c9c(0x662))/0x2)+-parseInt(_0x4a0c9c(0x4dd))/0x3*(parseInt(_0x4a0c9c(0x279))/0x4)+parseInt(_0x4a0c9c(0x4fc))/0x5+parseInt(_0x4a0c9c(0x5d4))/0x6*(-parseInt(_0x4a0c9c(0x306))/0x7)+-parseInt(_0x4a0c9c(0x708))/0x8+parseInt(_0x4a0c9c(0x3ff))/0x9+-parseInt(_0x4a0c9c(0x3dc))/0xa*(-parseInt(_0x4a0c9c(0x4f6))/0xb);if(_0x383c12===_0x134cdf)break;else _0x4c5540['push'](_0x4c5540['shift']());}catch(_0x548056){_0x4c5540['push'](_0x4c5540['shift']());}}}(a0_0x46e5,0xa0154));var Pi=Object['create'],Fe=Object[a0_0x26e249(0x440)],ki=Object[a0_0x26e249(0x6ef)],ji=Object[a0_0x26e249(0x2c5)],Li=Object['getPrototypeOf'],Fi=Object['prototype'][a0_0x26e249(0x1b6)],Ji=(_0x154c3f,_0xbd4ecc)=>{for(var _0xdb0840 in _0xbd4ecc)Fe(_0x154c3f,_0xdb0840,{'get':_0xbd4ecc[_0xdb0840],'enumerable':!0x0});},Fs=(_0x19f940,_0x1e7119,_0x39bb36,_0x3f02d4)=>{const _0x2607d9=a0_0x26e249;if(_0x1e7119&&typeof _0x1e7119==_0x2607d9(0x232)||typeof _0x1e7119==_0x2607d9(0x3d3)){for(let _0x4f410f of ji(_0x1e7119))!Fi[_0x2607d9(0x7c0)](_0x19f940,_0x4f410f)&&_0x4f410f!==_0x39bb36&&Fe(_0x19f940,_0x4f410f,{'get':()=>_0x1e7119[_0x4f410f],'enumerable':!(_0x3f02d4=ki(_0x1e7119,_0x4f410f))||_0x3f02d4[_0x2607d9(0x5f1)]});}return _0x19f940;},O=(_0x11242b,_0x183fc6,_0x2230e8)=>(_0x2230e8=_0x11242b!=null?Pi(Li(_0x11242b)):{},Fs(_0x183fc6||!_0x11242b||!_0x11242b[a0_0x26e249(0x7ec)]?Fe(_0x2230e8,a0_0x26e249(0x6f9),{'value':_0x11242b,'enumerable':!0x0}):_0x2230e8,_0x11242b)),Ui=_0x11b963=>Fs(Fe({},'__esModule',{'value':!0x0}),_0x11b963),ar={};Ji(ar,{'subdomain':()=>Ds}),module['exports']=Ui(ar);var Ai=O(require('compression')),Us=require('fs'),qs=require(a0_0x26e249(0x6d2)),Vs=require('path'),Je=require(a0_0x26e249(0x206)),re=process[a0_0x26e249(0x664)](),me=(0x0,Je[a0_0x26e249(0x619)])(re,a0_0x26e249(0x229)),Js=(0x0,Je[a0_0x26e249(0x619)])(re,a0_0x26e249(0x7be)),Kr=(0x0,Je['join'])(re,a0_0x26e249(0x3ca),a0_0x26e249(0x454)),ns=class{constructor(){const _0x46b05f=a0_0x26e249;this[_0x46b05f(0x7e5)]();}[a0_0x26e249(0x6c0)](_0x155ada){const _0x52e38f=a0_0x26e249;return this[_0x52e38f(0x486)][_0x155ada];}['loadEnv'](){const _0x4fa8a2=a0_0x26e249;this[_0x4fa8a2(0x486)]=process['env']?.[_0x4fa8a2(0x6ee)]!==_0x4fa8a2(0x441)?this[_0x4fa8a2(0x5fe)]():this[_0x4fa8a2(0x226)](),process[_0x4fa8a2(0x486)]?.[_0x4fa8a2(0x6ee)]===_0x4fa8a2(0x441)&&(this[_0x4fa8a2(0x486)][_0x4fa8a2(0x1fd)]['TYPE']=_0x4fa8a2(0x57f),this[_0x4fa8a2(0x486)][_0x4fa8a2(0x1fd)]['PORT']=Number['parseInt'](process[_0x4fa8a2(0x486)]?.['SERVER_PORT']??_0x4fa8a2(0x832)));}[a0_0x26e249(0x5fe)](){const _0x402133=a0_0x26e249;return(0x0,qs['load'])((0x0,Us[_0x402133(0x592)])((0x0,Vs[_0x402133(0x619)])(Js,'../env.yml'),{'encoding':_0x402133(0x2c4)}));}[a0_0x26e249(0x226)](){const _0x4fec51=a0_0x26e249;return{'SERVER':{'TYPE':process[_0x4fec51(0x486)]['SERVER_TYPE'],'PORT':Number['parseInt'](process[_0x4fec51(0x486)][_0x4fec51(0x674)]),'URL':process[_0x4fec51(0x486)][_0x4fec51(0x436)]},'CORS':{'ORIGIN':process[_0x4fec51(0x486)][_0x4fec51(0x82a)][_0x4fec51(0x510)](','),'METHODS':process[_0x4fec51(0x486)][_0x4fec51(0x5be)][_0x4fec51(0x510)](','),'CREDENTIALS':process[_0x4fec51(0x486)]?.[_0x4fec51(0x1de)]===_0x4fec51(0x441)},'SSL_CONF':{'PRIVKEY':process[_0x4fec51(0x486)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process['env']?.[_0x4fec51(0x2f7)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process['env']?.[_0x4fec51(0x222)])?Number[_0x4fec51(0x5df)](process[_0x4fec51(0x486)][_0x4fec51(0x222)]):void 0x0,'MESSAGES':process['env']?.[_0x4fec51(0x289)]===_0x4fec51(0x441),'CONTACTS':process[_0x4fec51(0x486)]?.[_0x4fec51(0x563)]===_0x4fec51(0x441),'CHATS':process[_0x4fec51(0x486)]?.[_0x4fec51(0x464)]===_0x4fec51(0x441)},'DATABASE':{'CONNECTION':{'HOST':process[_0x4fec51(0x486)]?.[_0x4fec51(0x1e5)],'PORT':Number[_0x4fec51(0x5df)](process[_0x4fec51(0x486)]?.[_0x4fec51(0x1e5)]),'USER':process[_0x4fec51(0x486)]['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x4fec51(0x486)][_0x4fec51(0x1e7)],'URI':process[_0x4fec51(0x486)][_0x4fec51(0x807)],'DB_PREFIX_NAME':process[_0x4fec51(0x486)][_0x4fec51(0x310)]},'ENABLED':process[_0x4fec51(0x486)]?.[_0x4fec51(0x79c)]===_0x4fec51(0x441)},'REDIS':{'ENABLED':process[_0x4fec51(0x486)]?.[_0x4fec51(0x2d4)]===_0x4fec51(0x441),'URI':process[_0x4fec51(0x486)][_0x4fec51(0x462)]||_0x4fec51(0x325),'PREFIX_KEY':process[_0x4fec51(0x486)][_0x4fec51(0x300)]||_0x4fec51(0x694)},'LOG':{'LEVEL':process[_0x4fec51(0x486)]?.[_0x4fec51(0x84e)][_0x4fec51(0x510)](','),'COLOR':process[_0x4fec51(0x486)]?.[_0x4fec51(0x561)]===_0x4fec51(0x441)},'PROXY':Number[_0x4fec51(0x5df)](process[_0x4fec51(0x486)]?.['PROXY']),'AUTHENTICATION':{'TYPE':process[_0x4fec51(0x486)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process['env']['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x4fec51(0x76a)](process[_0x4fec51(0x486)]?.[_0x4fec51(0x427)])?Number[_0x4fec51(0x5df)](process['env']['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x4fec51(0x486)][_0x4fec51(0x496)]}}};}},S=new ns(),Oi=O(require(a0_0x26e249(0x23f))),he=O(require(a0_0x26e249(0x81e))),js=require(a0_0x26e249(0x206)),cs=O(require('dayjs')),ls=(_0x532b75=>(_0x532b75[a0_0x26e249(0x6c7)]=a0_0x26e249(0x838),_0x532b75['INFO']=a0_0x26e249(0x3ec),_0x532b75[a0_0x26e249(0x246)]='\x1b[33m',_0x532b75[a0_0x26e249(0x3ea)]=a0_0x26e249(0x862),_0x532b75[a0_0x26e249(0x5d5)]=a0_0x26e249(0x21c),_0x532b75[a0_0x26e249(0x1d1)]=a0_0x26e249(0x15b),_0x532b75['DARK']=a0_0x26e249(0x7bc),_0x532b75))(ls||{}),Gs=(_0x26d250=>(_0x26d250[a0_0x26e249(0x6c7)]=a0_0x26e249(0x7d9),_0x26d250[a0_0x26e249(0x63c)]='\x1b[30m%s\x1b[0m',_0x26d250['INFO']='\x1b[34m%s\x1b[0m',_0x26d250[a0_0x26e249(0x246)]=a0_0x26e249(0x31f),_0x26d250[a0_0x26e249(0x3ea)]='\x1b[31m%s\x1b[0m',_0x26d250[a0_0x26e249(0x5d5)]='\x1b[36m%s\x1b[0m',_0x26d250[a0_0x26e249(0x1d1)]=a0_0x26e249(0x183),_0x26d250))(Gs||{}),Bs=(_0x280282=>(_0x280282[a0_0x26e249(0x6c7)]='LOG',_0x280282[a0_0x26e249(0x246)]=a0_0x26e249(0x246),_0x280282[a0_0x26e249(0x2f6)]=a0_0x26e249(0x2f6),_0x280282['DARK']=a0_0x26e249(0x63c),_0x280282[a0_0x26e249(0x3ea)]=a0_0x26e249(0x3ea),_0x280282[a0_0x26e249(0x5d5)]='DEBUG',_0x280282['VERBOSE']='VERBOSE',_0x280282))(Bs||{}),Ws=(_0x3368c6=>(_0x3368c6[a0_0x26e249(0x6c7)]=a0_0x26e249(0x6ed),_0x3368c6[a0_0x26e249(0x2f6)]='\x1b[44m',_0x3368c6[a0_0x26e249(0x246)]='\x1b[43m',_0x3368c6[a0_0x26e249(0x63c)]=a0_0x26e249(0x7e6),_0x3368c6[a0_0x26e249(0x3ea)]=a0_0x26e249(0x503),_0x3368c6[a0_0x26e249(0x5d5)]=a0_0x26e249(0x245),_0x3368c6[a0_0x26e249(0x1d1)]=a0_0x26e249(0x594),_0x3368c6))(Ws||{}),R=class{constructor(_0x28cbe9='Logger'){const _0x1c8fa2=a0_0x26e249;this[_0x1c8fa2(0x584)]=_0x28cbe9,this['configService']=S;}[a0_0x26e249(0x3a2)](_0x4b87d2){this['context']=_0x4b87d2;}['console'](_0xcda825,_0x3ed57){const _0xcebeeb=a0_0x26e249;let _0x31c46b=[];this[_0xcebeeb(0x189)]['get'](_0xcebeeb(0x6c7))['LEVEL'][_0xcebeeb(0x522)](_0x3e0dd0=>_0x31c46b[_0xcebeeb(0x65e)](Bs[_0x3e0dd0]));let _0x24fdcb=typeof _0xcda825;_0x31c46b['includes'](_0x3ed57)&&(S[_0xcebeeb(0x6c0)]('LOG')[_0xcebeeb(0x5d2)]?(console['log'](_0xcebeeb(0x691)+Gs[_0x3ed57],'\x1b[1m\x1b[37m',(0x0,cs['default'])()[_0xcebeeb(0x6bd)](_0xcebeeb(0x30b)),_0xcebeeb(0x37b),ls[_0x3ed57]+Ws[_0x3ed57]+_0xcebeeb(0x691),_0x3ed57+_0xcebeeb(0x25d),_0xcebeeb(0x5e1),this['context']+_0xcebeeb(0x37b),ls[_0x3ed57],_0x24fdcb!==_0xcebeeb(0x232)?_0xcda825:'',_0xcebeeb(0x37b)),_0x24fdcb===_0xcebeeb(0x232)&&console[_0xcebeeb(0x61f)](_0xcda825,'\x0a')):console[_0xcebeeb(0x61f)]((0x0,cs[_0xcebeeb(0x6f9)])()[_0xcebeeb(0x6bd)]('HH:mm:ss'),_0x3ed57+'\x20',''+this[_0xcebeeb(0x584)],_0xcda825));}['log'](_0xbdcc97){const _0x3dd576=a0_0x26e249;this[_0x3dd576(0x372)](_0xbdcc97,_0x3dd576(0x6c7));}[a0_0x26e249(0x4a0)](_0x47aac5){const _0x4e220f=a0_0x26e249;this['console'](_0x47aac5,_0x4e220f(0x2f6));}[a0_0x26e249(0x37a)](_0x585bfd){const _0x28cc40=a0_0x26e249;this[_0x28cc40(0x372)](_0x585bfd,_0x28cc40(0x246));}['error'](_0x41d423){const _0x5ccceb=a0_0x26e249;this[_0x5ccceb(0x372)](_0x41d423,_0x5ccceb(0x3ea));}['verbose'](_0x1770bd){const _0x4cee86=a0_0x26e249;this[_0x4cee86(0x372)](_0x1770bd,_0x4cee86(0x1d1));}['debug'](_0x1d6a1){const _0x44392d=a0_0x26e249;this[_0x44392d(0x372)](_0x1d6a1,_0x44392d(0x5d5));}[a0_0x26e249(0x5e6)](_0x4f86ae){const _0x56925b=a0_0x26e249;this[_0x56925b(0x372)](_0x4f86ae,_0x56925b(0x63c));}};function zs(){const _0x13bd1d=a0_0x26e249;process['on'](_0x13bd1d(0x491),(_0x19ca66,_0x4c0799)=>{const _0x258a8d=_0x13bd1d;new R(_0x258a8d(0x491))[_0x258a8d(0x819)]({'origin':_0x4c0799,'stderr':process[_0x258a8d(0x79f)]['fd'],'error':_0x19ca66});}),process['on'](_0x13bd1d(0x7b6),(_0x1ab2ce,_0x9d97e6)=>{const _0xa4837d=_0x13bd1d;new R(_0xa4837d(0x7b6))[_0xa4837d(0x819)]({'origin':_0x9d97e6,'stderr':process[_0xa4837d(0x79f)]['fd'],'error':_0x1ab2ce});});}var Hs=O(require('eventemitter2')),us=new Hs['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),we=require('mongoose'),Ee=O(require(a0_0x26e249(0x7b1))),Ue=new R(a0_0x26e249(0x73b)),L=S['get'](a0_0x26e249(0x505)),$=L[a0_0x26e249(0x467)]?L[a0_0x26e249(0x363)][a0_0x26e249(0x3f7)]?Ee[a0_0x26e249(0x6f9)][a0_0x26e249(0x315)](L['CONNECTION'][a0_0x26e249(0x3f7)],{'dbName':L[a0_0x26e249(0x363)][a0_0x26e249(0x7c1)]+'-whatsapp-api'}):Ee[a0_0x26e249(0x6f9)][a0_0x26e249(0x315)](a0_0x26e249(0x51f)+L[a0_0x26e249(0x363)][a0_0x26e249(0x71a)]+':'+L[a0_0x26e249(0x363)]['PORT']+a0_0x26e249(0x5b1),{'user':L['CONNECTION'][a0_0x26e249(0x72c)],'pass':L[a0_0x26e249(0x363)][a0_0x26e249(0x4e5)],'dbName':L[a0_0x26e249(0x363)]['DB_PREFIX_NAME']+a0_0x26e249(0x230)}):null;L['ENABLED']&&Ue[a0_0x26e249(0x4a0)]('ON\x20-\x20dbName:\x20'+$[a0_0x26e249(0x78b)]);var fe=L['ENABLED']?L[a0_0x26e249(0x363)][a0_0x26e249(0x3f7)]?Ee['default'][a0_0x26e249(0x315)](L['CONNECTION']['URI'],{'dbName':a0_0x26e249(0x4ac)}):Ee[a0_0x26e249(0x6f9)][a0_0x26e249(0x315)](a0_0x26e249(0x51f)+L[a0_0x26e249(0x363)][a0_0x26e249(0x71a)]+':'+L['CONNECTION']['PORT']+a0_0x26e249(0x5b1),{'user':L[a0_0x26e249(0x363)][a0_0x26e249(0x72c)],'pass':L['CONNECTION'][a0_0x26e249(0x4e5)],'dbName':a0_0x26e249(0x219)}):null;fe&&Ue['info'](a0_0x26e249(0x525)+fe[a0_0x26e249(0x78b)]),process['on'](a0_0x26e249(0x1ea),()=>{const _0x22c8a3=a0_0x26e249;$&&$[_0x22c8a3(0x1da)](()=>{const _0x387198=_0x22c8a3;Ue[_0x387198(0x4a0)]('Database\x20connection\x20closed.');}),fe&&fe[_0x22c8a3(0x1da)](()=>{const _0x3cfca6=_0x22c8a3;Ue[_0x3cfca6(0x4a0)]('CacheContacts\x20database\x20connection\x20closed.');});});var qi=new we[(a0_0x26e249(0x7d5))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Vi=new we[(a0_0x26e249(0x7d5))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),Gi=new we[(a0_0x26e249(0x7d5))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),Bi=new we[(a0_0x26e249(0x7d5))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[qi],'default':[]}},{'_id':!0x1}),Wi=new we['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Bi,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Vi},'groupdata':{'type':Gi,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Ks=_0x26da74=>{let _0x3eb54d='z_'+_0x26da74+'_Chats';return $?.['model']('ChatModel',Wi,_0x3eb54d);},Qs=require(a0_0x26e249(0x7b1)),zi=new Qs[(a0_0x26e249(0x7d5))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Ys=_0x587bc3=>{const _0x45d8de=a0_0x26e249;let _0x2998ee='z_'+_0x587bc3+_0x45d8de(0x667);return $?.[_0x45d8de(0x679)](_0x45d8de(0x5ac),zi,_0x2998ee);},Xs=require(a0_0x26e249(0x7b1)),ds=class{},Hi=new Xs['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=fe?.[a0_0x26e249(0x679)](ds[a0_0x26e249(0x452)],Hi,'ContactsAndGroups'),ea=require(a0_0x26e249(0x7b1)),Ki=new ea[(a0_0x26e249(0x7d5))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ta=_0x1cac3c=>{const _0x307fac=a0_0x26e249;let _0x770cd1='z_'+_0x1cac3c+_0x307fac(0x75c);return $?.[_0x307fac(0x679)](_0x307fac(0x2d2),Ki,_0x770cd1);},sa=require('mongoose'),ps=class{},Qi=new sa[(a0_0x26e249(0x7d5))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),aa=$?.[a0_0x26e249(0x679)](ps['name'],Qi,a0_0x26e249(0x37c)),ia=require(a0_0x26e249(0x7b1)),hs=class{},oa=new ia['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});oa[a0_0x26e249(0x627)](a0_0x26e249(0x2e3),function(_0x40f273){const _0x17ad00=a0_0x26e249;delete this[_0x17ad00(0x487)],delete this['flowIgnoreGroups'],delete this[_0x17ad00(0x863)],delete this[_0x17ad00(0x1a5)],delete this[_0x17ad00(0x821)],_0x40f273();});var ra=$?.[a0_0x26e249(0x679)](hs[a0_0x26e249(0x452)],oa,'webhook'),D=require('mongoose'),gs=require(a0_0x26e249(0x7c2)),qe=class{},na=new D['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ms=new D[(a0_0x26e249(0x7d5))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Yi=new D['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x26e249(0x56d)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x26e249(0x3ac)},'pollErrorMessage':{'type':String,'default':a0_0x26e249(0x727)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ca=new D[(a0_0x26e249(0x7d5))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Xi=new D['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),Zi=new D[(a0_0x26e249(0x7d5))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ws=new D[(a0_0x26e249(0x7d5))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),eo=new D['Schema']({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),la=new D[(a0_0x26e249(0x7d5))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Yi},'apirequest':Xi,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':eo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ua=new D[(a0_0x26e249(0x7d5))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ys=new D[(a0_0x26e249(0x7d5))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,gs['v4'])()},'startID':{'type':String,'default':()=>(0x0,gs['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'global':{'type':String,'default':'false'},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x5459a0=a0_0x26e249;return _0x5459a0(0x55f)+Math[_0x5459a0(0x517)]()[_0x5459a0(0x76f)](0x24)[_0x5459a0(0x51b)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ws],'variablesNotFound':{'type':[String]},'blocks':[la],'groups':[na],'conditions':[ca],'varedits':[ua],'replyOptions':{'type':[ms],'default':[]}});ys[a0_0x26e249(0x627)](a0_0x26e249(0x2e3),function(_0x2e7c4a){const _0x3ab64a=a0_0x26e249;let _0x45c032=new Set(),_0x51d04c=new Set(this[_0x3ab64a(0x849)]?.[_0x3ab64a(0x261)](_0x15e373=>_0x15e373[_0x3ab64a(0x452)])),_0x442da5=JSON[_0x3ab64a(0x395)](this),_0x1a0a39=/{{(?!_)([^}]*)}}/g,_0x36ee08;for(;(_0x36ee08=_0x1a0a39[_0x3ab64a(0x6b6)](_0x442da5))!==null;)_0x51d04c[_0x3ab64a(0x4c6)](_0x36ee08[0x1])||_0x45c032[_0x3ab64a(0x2b0)](_0x36ee08[0x1]);_0x45c032[_0x3ab64a(0x51c)]>0x0?(console[_0x3ab64a(0x37a)]('Variáveis\x20não\x20encontradas:',Array[_0x3ab64a(0x7fb)](_0x45c032)),this['variablesNotFound']=Array[_0x3ab64a(0x7fb)](_0x45c032)):this['variablesNotFound']=[],_0x2e7c4a();}),ys[a0_0x26e249(0x627)](a0_0x26e249(0x45d),function(_0x50429f){const _0x3dc2d8=a0_0x26e249;let _0x1d13d6=this[_0x3dc2d8(0x69c)]();if(_0x1d13d6&&typeof _0x1d13d6==_0x3dc2d8(0x232)&&'$set'in _0x1d13d6){let _0x4a2c9f=_0x1d13d6['$set'];if(_0x4a2c9f){let _0x143327=new Set(),_0x4fa745=new Set(_0x4a2c9f['variables']?.[_0x3dc2d8(0x261)](_0x335cc8=>_0x335cc8['name'])),_0x4b9609=JSON['stringify'](_0x4a2c9f),_0x234e17=/{{(?!_)([^}]*)}}/g,_0x244d22;for(;(_0x244d22=_0x234e17['exec'](_0x4b9609))!==null;)_0x4fa745[_0x3dc2d8(0x4c6)](_0x244d22[0x1])||_0x143327[_0x3dc2d8(0x2b0)](_0x244d22[0x1]);_0x143327[_0x3dc2d8(0x51c)]>0x0?(console[_0x3dc2d8(0x37a)](_0x3dc2d8(0x75e),Array[_0x3dc2d8(0x7fb)](_0x143327)),_0x4a2c9f['variablesNotFound']=Array[_0x3dc2d8(0x7fb)](_0x143327)):_0x4a2c9f['variablesNotFound']=[],this['setUpdate']({'$set':_0x4a2c9f});}}_0x50429f();});var da=_0x335b42=>{const _0x33412e=a0_0x26e249;let _0x22c803='z_'+_0x335b42+_0x33412e(0x22a);return $?.[_0x33412e(0x679)]('FlowModel',ys,_0x22c803);},to=new D[(a0_0x26e249(0x7d5))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ws],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Zi]},{'_id':!0x1}),so=new D[(a0_0x26e249(0x7d5))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ws],'blocks':[la],'groups':[na],'conditions':[ca],'varedits':[ua],'replyOptions':{'type':[ms],'default':[]},'chatLog':to,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x26e249(0x178)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'waitingMenu_replyOptions':{'type':[ms],'default':[]}}),pa=_0x25655f=>{const _0x23bbb9=a0_0x26e249;let _0x316bb9='z_'+_0x25655f+'_FlowHistorico';return $?.['model'](_0x23bbb9(0x239),so,_0x316bb9);},ao=new D[(a0_0x26e249(0x7d5))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),io=new D[(a0_0x26e249(0x7d5))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),oo=new D['Schema']({'owner':{'type':String},'status':{'type':String,'default':a0_0x26e249(0x22f)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':io,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[ao],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ha=_0x52e513=>{const _0x355908=a0_0x26e249;let _0x2d6b31='z_'+_0x52e513+'_ScheduleMessages';return $?.[_0x355908(0x679)](_0x355908(0x4be),oo,_0x2d6b31);},fs=class{},ro=new D[(a0_0x26e249(0x7d5))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),no=new D[(a0_0x26e249(0x7d5))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),co=new D[(a0_0x26e249(0x7d5))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x26e249(0x565)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),lo=new D[(a0_0x26e249(0x7d5))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),uo=new D[(a0_0x26e249(0x7d5))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[lo]},'customFields':{'type':[no]},'flowConfig':{'type':co,'default':{}},'autoCompleteMessages':{'type':[ro],'default':[]}}),ve=$?.[a0_0x26e249(0x679)](fs[a0_0x26e249(0x452)],uo,a0_0x26e249(0x68b)),ga=require('mongoose'),po=new ga[(a0_0x26e249(0x7d5))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ma=_0x578165=>{const _0x2091c9=a0_0x26e249;let _0x18dd6b='z_'+_0x578165+_0x2091c9(0x4c2);return $?.['model'](_0x2091c9(0x387),po,_0x18dd6b);},x=class{constructor(_0x486733){const _0x94fb06=a0_0x26e249;this[_0x94fb06(0x41f)]=_0x486733['get'](_0x94fb06(0x505));}};function T(_0xcf01c3){const _0x24b3af=a0_0x26e249;let _0x3be66c={};for(let [_0x5c28a3,_0xd3e010]of Object[_0x24b3af(0x29f)](_0xcf01c3))if(typeof _0xd3e010==_0x24b3af(0x232)&&!Array[_0x24b3af(0x304)](_0xd3e010)){for(let [_0x4965d0,_0x26108d]of Object['entries'](_0xd3e010))_0x3be66c[_0x5c28a3+'.'+_0x4965d0]=_0x26108d;}else _0x3be66c[_0x5c28a3]=_0xd3e010;return _0x3be66c;}var Ve=class{constructor(_0x473c85,_0x572159,_0x124fd4,_0x2609b0,_0x483d7e,_0x55d280,_0x488f7a,_0x36a60b,_0x42bf79,_0x4494f5,_0x2b6bec,_0xe27c97){const _0x48371d=a0_0x26e249;this[_0x48371d(0x3e1)]=_0x473c85,this[_0x48371d(0x3b6)]=_0x572159,this[_0x48371d(0x1b1)]=_0x124fd4,this[_0x48371d(0x851)]=_0x2609b0,this[_0x48371d(0x7ee)]=_0x483d7e,this['auth']=_0x55d280,this[_0x48371d(0x394)]=_0x488f7a,this['flowConversation']=_0x36a60b,this[_0x48371d(0x488)]=_0x42bf79,this[_0x48371d(0x466)]=_0x4494f5,this[_0x48371d(0x562)]=_0x2b6bec,this['dbClient']=_0xe27c97;}get[a0_0x26e249(0x40c)](){const _0x2e164a=a0_0x26e249;return this[_0x2e164a(0x3b4)];}},Ge=class{},Be=class extends x{['getMessageModelForOwner'](_0x23b509){return ta(_0x23b509);}async['insert'](_0x8edd77,_0x216898){const _0x5467f3=a0_0x26e249;if(_0x8edd77['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x5467f3(0x46a)](_0x216898)[_0x5467f3(0x3ab)]([..._0x8edd77]))[_0x5467f3(0x62e)]};}catch(_0x45981c){return _0x45981c;}}async[a0_0x26e249(0x288)](_0x206e9b,_0x49848b){const _0x130ee9=a0_0x26e249;try{let _0x3a19d5=this['getMessageModelForOwner'](_0x49848b),_0x5c1490=T(_0x206e9b[_0x130ee9(0x2a7)]);return await _0x3a19d5[_0x130ee9(0x288)](_0x5c1490)[_0x130ee9(0x1e4)]({'messageTimestamp':-0x1})['limit'](_0x206e9b?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x26e249(0x72e)](_0x50fdf4,_0x5d0a32){const _0x515e23=a0_0x26e249;try{let _0x48356d=this['getMessageModelForOwner'](_0x5d0a32),_0x4c6a3a=T(_0x50fdf4['where']);await _0x48356d['deleteMany'](_0x4c6a3a);}catch(_0x310001){console[_0x515e23(0x819)](_0x310001);}}async[a0_0x26e249(0x3e2)](_0x6724fd,_0x7c8e33,_0x3a8cf3){const _0x1c9b0d=a0_0x26e249;try{let _0x129c90=this[_0x1c9b0d(0x46a)](_0x3a8cf3),_0x473fab=T(_0x6724fd[_0x1c9b0d(0x2a7)]);return await _0x129c90['findOneAndUpdate'](_0x473fab,{'$set':_0x7c8e33},{'new':!0x0});}catch(_0x5bc03f){throw console[_0x1c9b0d(0x819)](_0x5bc03f),_0x5bc03f;}}async[a0_0x26e249(0x3ab)](_0x8fbd52,_0x5d426f){const _0x217e6c=a0_0x26e249;if(_0x8fbd52[_0x217e6c(0x62e)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x5d426f)['insertMany']([..._0x8fbd52]))[_0x217e6c(0x62e)]};}catch(_0x242a5b){return console[_0x217e6c(0x61f)](_0x217e6c(0x7a2),_0x242a5b),_0x242a5b;}}async[a0_0x26e249(0x6f0)](_0x2f3edf){const _0x3ead9b=a0_0x26e249;try{return await this[_0x3ead9b(0x46a)](_0x2f3edf)[_0x3ead9b(0x2da)][_0x3ead9b(0x805)](),{'success':!0x0};}catch(_0x5d4a14){return console[_0x3ead9b(0x819)](_0x5d4a14),{'success':!0x1,'error':_0x5d4a14};}}},As=O(require(a0_0x26e249(0x19b))),w=O(require(a0_0x26e249(0x5ca))),xe=require('fs'),F=O(require('path')),K=O(require('axios')),bi=require(a0_0x26e249(0x7c2)),Si=O(require(a0_0x26e249(0x7a9))),Mi=O(require(a0_0x26e249(0x543))),fa=[a0_0x26e249(0x6e6),a0_0x26e249(0x6ad),a0_0x26e249(0x4e3),a0_0x26e249(0x4d3),a0_0x26e249(0x401)],wa=[a0_0x26e249(0x211),'documentWithCaptionMessage',a0_0x26e249(0x36c),a0_0x26e249(0x766)],Os=require('os'),Pt=O(require(a0_0x26e249(0x43e))),De=require(a0_0x26e249(0x358)),kt=require(a0_0x26e249(0x6ce)),oe=O(require(a0_0x26e249(0x7b1))),P=require(a0_0x26e249(0x61d)),ye=class{constructor(_0x1c6dd4,_0x5a17e,_0xe38f87){const _0x351cac=a0_0x26e249;this[_0x351cac(0x7d1)]=_0x1c6dd4,this['exists']=_0x5a17e,this[_0x351cac(0x452)]=_0xe38f87;}},We=class{},ze=class{},Ne=class{},He=class{},Ke=class{},be=class{},Qe=class{},Ye=class{},Xe=class{},Ze=class{},Tt=O(require(a0_0x26e249(0x81e))),ya=require('fs'),ba=require(a0_0x26e249(0x206));async function Re(_0x16f7b0){const _0x18e1b8=a0_0x26e249;let _0x8b1bd2=G[_0x18e1b8(0x73a)][_0x16f7b0];if(L['ENABLED']){let _0x42a620=$[_0x18e1b8(0x332)]()['db'](L[_0x18e1b8(0x363)]['DB_PREFIX_NAME']+_0x18e1b8(0x78e))['collection'](_0x16f7b0);return _0x8b1bd2||(await _0x42a620[_0x18e1b8(0x288)]({})[_0x18e1b8(0x79b)]())[_0x18e1b8(0x62e)]>0x0;}return _0x8b1bd2||(0x0,ya[_0x18e1b8(0x743)])((0x0,ba['join'])(me,_0x16f7b0));}async function Sa(_0x7ab695,_0x328e5c,_0x47135a){const _0x4c72ac=a0_0x26e249;if(_0x7ab695['originalUrl'][_0x4c72ac(0x5d9)](_0x4c72ac(0x864))||_0x7ab695[_0x4c72ac(0x7fe)][_0x4c72ac(0x5d9)](_0x4c72ac(0x3af))||_0x7ab695['originalUrl'][_0x4c72ac(0x5d9)](_0x4c72ac(0x4fd))||_0x7ab695[_0x4c72ac(0x7fe)]['includes'](_0x4c72ac(0x82c))||_0x7ab695[_0x4c72ac(0x7fe)][_0x4c72ac(0x5d9)](_0x4c72ac(0x373))||_0x7ab695['originalUrl'][_0x4c72ac(0x5d9)](_0x4c72ac(0x1ee))||_0x7ab695['originalUrl'][_0x4c72ac(0x5d9)](_0x4c72ac(0x857)))return _0x47135a();let _0x321110=_0x7ab695[_0x4c72ac(0x3b3)];if(!_0x321110?.[_0x4c72ac(0x156)])throw new m(_0x4c72ac(0x301));if(!await Re(_0x321110[_0x4c72ac(0x156)]))throw new U('The\x20'+_0x321110['instanceName']+_0x4c72ac(0x657));_0x47135a();}async function Ma(_0x1a3d48,_0x3106b5,_0x3d2b62){const _0x4390bf=a0_0x26e249;if(_0x1a3d48[_0x4390bf(0x7fe)][_0x4390bf(0x5d9)](_0x4390bf(0x864))){let _0x195f6e=_0x1a3d48[_0x4390bf(0x498)];if(await Re(_0x195f6e['instanceName']))throw new Q(_0x4390bf(0x459)+_0x195f6e[_0x4390bf(0x156)]+_0x4390bf(0x439));G[_0x4390bf(0x73a)][_0x195f6e[_0x4390bf(0x156)]]&&delete G[_0x4390bf(0x73a)][_0x195f6e[_0x4390bf(0x156)]];}_0x3d2b62();}var Ca=require(a0_0x26e249(0x61d)),Ea=O(require(a0_0x26e249(0x3f6))),et='uazapi',go=new R(a0_0x26e249(0x28c));async function mo(_0xa11d0,_0x55dcce,_0x3746f5){const _0x186eed=a0_0x26e249;let _0x5c875e=_0xa11d0[_0x186eed(0x6c0)](_0x186eed(0x22c));if(_0x5c875e&&S['get'](_0x186eed(0x786))['API_KEY'][_0x186eed(0x58a)]!==_0x5c875e)throw new ae();if(S[_0x186eed(0x6c0)](_0x186eed(0x786))[_0x186eed(0x65b)][_0x186eed(0x58a)]===_0x5c875e)return _0x3746f5();if((_0xa11d0[_0x186eed(0x7fe)][_0x186eed(0x5d9)](_0x186eed(0x864))||_0xa11d0[_0x186eed(0x7fe)][_0x186eed(0x5d9)](_0x186eed(0x3af)))&&!_0x5c875e)throw new Q(_0x186eed(0x7b9),_0x186eed(0x35d));let _0x4f5609=S[_0x186eed(0x6c0)]('AUTHENTICATION')[_0x186eed(0x255)];try{let [_0x3a6e85,_0x42e209]=_0xa11d0[_0x186eed(0x6c0)]('authorization')[_0x186eed(0x510)]('\x20');if(_0x3a6e85[_0x186eed(0x322)]()!=='bearer')throw new ae();if(!(0x0,Ca['isJWT'])(_0x42e209))throw new ae();let _0x49b37c=_0xa11d0[_0x186eed(0x3b3)],_0x413ea6=Ea[_0x186eed(0x6f9)][_0x186eed(0x4c7)](_0x42e209,_0x4f5609[_0x186eed(0x576)],{'ignoreExpiration':_0x4f5609[_0x186eed(0x5e0)]===0x0});if(_0x49b37c[_0x186eed(0x156)]!==_0x413ea6[_0x186eed(0x156)]||et!==_0x413ea6[_0x186eed(0x842)])throw new ae();return _0x3746f5();}catch(_0x3d639b){throw go[_0x186eed(0x819)](_0x3d639b),new ae();}}async function fo(_0x580163,_0x29008b,_0x49bb2d){const _0x42e3d7=a0_0x26e249;let _0x42c615=S[_0x42e3d7(0x6c0)](_0x42e3d7(0x786))['API_KEY'],_0x32d30c=_0x580163[_0x42e3d7(0x6c0)](_0x42e3d7(0x22c));if(_0x42c615[_0x42e3d7(0x58a)]===_0x32d30c)return _0x49bb2d();if(_0x580163[_0x42e3d7(0x7fe)][_0x42e3d7(0x5d9)](_0x42e3d7(0x864))){let _0x2c95cf=tt,_0x4c39f7=_0x580163[_0x42e3d7(0x498)]['instanceName'];if(_0x2c95cf&&_0x4c39f7[_0x42e3d7(0x322)]()[_0x42e3d7(0x29c)](_0x2c95cf[_0x42e3d7(0x322)]()))return _0x49bb2d();if(!_0x32d30c)throw new Q(_0x42e3d7(0x7b9),_0x42e3d7(0x35d));}if(_0x580163[_0x42e3d7(0x7fe)][_0x42e3d7(0x5d9)]('/instance/fetchInstances')&&!_0x32d30c)throw new Q(_0x42e3d7(0x7b9),_0x42e3d7(0x35d));if(_0x580163['originalUrl'][_0x42e3d7(0x5d9)](_0x42e3d7(0x4fd))&&!_0x32d30c)throw new Q(_0x42e3d7(0x7b9),_0x42e3d7(0x35d));if(_0x580163[_0x42e3d7(0x7fe)][_0x42e3d7(0x5d9)]('/config')&&!_0x32d30c)throw new Q(_0x42e3d7(0x7b9),_0x42e3d7(0x35d));try{let _0x31bfa9=_0x580163[_0x42e3d7(0x3b3)],_0x324f06=await ue['auth']['find'](_0x31bfa9[_0x42e3d7(0x156)]);if(_0x324f06&&_0x324f06[_0x42e3d7(0x22c)]===_0x32d30c)return _0x49bb2d();}catch{}throw new ae();}var va={'jwt':mo,'apikey':fo},ii=require(a0_0x26e249(0x81e)),E=require('uuid'),C=(..._0x197170)=>{const _0x321431=a0_0x26e249;let _0x59a5d8={};return _0x197170[_0x321431(0x522)](_0x402d1=>_0x59a5d8[_0x402d1]={'minLength':0x1,'description':_0x321431(0x722)+_0x402d1+_0x321431(0x856)}),{'if':{'propertyNames':{'enum':[..._0x197170]}},'then':{'properties':_0x59a5d8}};},v={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'instanceName':{'type':a0_0x26e249(0x681)}},...C('instanceName')},oc={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'oldToken':{'type':a0_0x26e249(0x681)}},'required':['oldToken'],...C(a0_0x26e249(0x1ef))},rc={'properties':{'key':{'type':a0_0x26e249(0x232),'properties':{'id':{'type':a0_0x26e249(0x681)},'remoteJid':{'type':a0_0x26e249(0x681)},'fromMe':{'type':a0_0x26e249(0x172),'enum':[!0x0,!0x1]}},'required':['id',a0_0x26e249(0x1e8),a0_0x26e249(0x483)],...C('id',a0_0x26e249(0x1e8))},'message':{'type':'object'}}},Y={'properties':{'delay':{'type':a0_0x26e249(0x33e),'description':a0_0x26e249(0x61c)},'presence':{'type':'string','enum':[a0_0x26e249(0x783),a0_0x26e249(0x34a),a0_0x26e249(0x47e),a0_0x26e249(0x2a6),a0_0x26e249(0x456)]}}},z={'type':a0_0x26e249(0x681),'description':a0_0x26e249(0x2d9)},Na={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'textMessage':{'type':a0_0x26e249(0x232),'properties':{'text':{'type':a0_0x26e249(0x681)}},'required':[a0_0x26e249(0x346)],...C(a0_0x26e249(0x346))}},'required':[a0_0x26e249(0x3e8),a0_0x26e249(0x36e)]},Ra={'type':a0_0x26e249(0x681),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x26e249(0x2d9)},nc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Ra},'options':{...Y},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x26e249(0x681)}},'required':[a0_0x26e249(0x346)],...C('text')}},'required':[a0_0x26e249(0x3e8),a0_0x26e249(0x36e)]},cc={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'number':{...Ra},'options':{...Y},'mediaMessage':{'type':a0_0x26e249(0x232),'properties':{'mediatype':{'type':a0_0x26e249(0x681),'enum':[a0_0x26e249(0x7a5),a0_0x26e249(0x1a2),a0_0x26e249(0x223),a0_0x26e249(0x2f0)]},'media':{'type':a0_0x26e249(0x681)},'fileName':{'type':'string'},'caption':{'type':a0_0x26e249(0x681)}},'required':['mediatype',a0_0x26e249(0x4f2)],...C(a0_0x26e249(0x771),a0_0x26e249(0x2eb),'media')}},'required':[a0_0x26e249(0x48c),a0_0x26e249(0x36e)]},$a={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'number':{...z},'options':{...Y},'stickerMessage':{'type':a0_0x26e249(0x232),'properties':{'image':{'type':a0_0x26e249(0x681)}},'required':[a0_0x26e249(0x7a5)],...C(a0_0x26e249(0x7a5))}},'required':['stickerMessage',a0_0x26e249(0x36e)]},Aa={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'statusMessage':{'type':a0_0x26e249(0x232),'properties':{'type':{'type':'string','enum':[a0_0x26e249(0x346),'image',a0_0x26e249(0x2f0),'video']},'content':{'type':a0_0x26e249(0x681)},'caption':{'type':'string'},'backgroundColor':{'type':a0_0x26e249(0x681)},'font':{'type':a0_0x26e249(0x33e),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x26e249(0x681),'pattern':a0_0x26e249(0x25b),'description':a0_0x26e249(0x4f5)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x26e249(0x599),a0_0x26e249(0x455)],...C(a0_0x26e249(0x599),a0_0x26e249(0x455))}},'required':[a0_0x26e249(0x788)]},Oa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'mediaMessage':{'type':a0_0x26e249(0x232),'properties':{'mediatype':{'type':'string','enum':['image',a0_0x26e249(0x1a2),a0_0x26e249(0x223),a0_0x26e249(0x2f0)]},'media':{'type':a0_0x26e249(0x681)},'fileName':{'type':a0_0x26e249(0x681)},'caption':{'type':a0_0x26e249(0x681)}},'required':['mediatype',a0_0x26e249(0x4f2)],...C(a0_0x26e249(0x771),a0_0x26e249(0x2eb),'media')}},'required':['mediaMessage',a0_0x26e249(0x36e)]},Ta={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0x26e249(0x681)}},'required':['audio'],...C('audio')}},'required':[a0_0x26e249(0x4e3),a0_0x26e249(0x36e)]},Ia={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'number':{...z},'pollMessage':{'type':a0_0x26e249(0x232),'properties':{'name':{'type':'string'},'selectableCount':{'type':'number'},'values':{'type':a0_0x26e249(0x5a9),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x26e249(0x452),a0_0x26e249(0x6b8),a0_0x26e249(0x589)],...C(a0_0x26e249(0x452),a0_0x26e249(0x6b8),a0_0x26e249(0x589))}},'required':[a0_0x26e249(0x36e),a0_0x26e249(0x33c)]},xa={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'number':{...z},'menuMessage':{'type':a0_0x26e249(0x232),'properties':{'text':{'type':'string'},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x26e249(0x346),a0_0x26e249(0x20f)],...C('text',a0_0x26e249(0x20f))}},'required':[a0_0x26e249(0x36e),a0_0x26e249(0x393)]},Da={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'number':{...z},'options':{...Y},'buttonMessage':{'type':a0_0x26e249(0x232),'properties':{'title':{'type':'string'},'description':{'type':a0_0x26e249(0x681)},'footerText':{'type':a0_0x26e249(0x681)},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x26e249(0x232),'properties':{'buttonText':{'type':a0_0x26e249(0x681)},'buttonId':{'type':'string'}},'required':[a0_0x26e249(0x368),'buttonId'],...C('buttonText',a0_0x26e249(0x2e0))}},'mediaMessage':{'type':a0_0x26e249(0x232),'properties':{'media':{'type':a0_0x26e249(0x681)},'fileName':{'type':a0_0x26e249(0x681)},'mediatype':{'type':a0_0x26e249(0x681),'enum':['image','document',a0_0x26e249(0x223)]}},'required':[a0_0x26e249(0x4f2),a0_0x26e249(0x263)],...C('media',a0_0x26e249(0x771))}},'required':[a0_0x26e249(0x598),a0_0x26e249(0x673)],...C(a0_0x26e249(0x598),a0_0x26e249(0x46b))}},'required':[a0_0x26e249(0x36e),a0_0x26e249(0x354)]},_a={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'number':{...z},'options':{...Y},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0x26e249(0x36e)},'longitude':{'type':'number'},'name':{'type':a0_0x26e249(0x681)},'address':{'type':'string'}},'required':[a0_0x26e249(0x767),a0_0x26e249(0x56b)],...C(a0_0x26e249(0x452),'addresss')}},'required':[a0_0x26e249(0x36e),a0_0x26e249(0x416)]},Pa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'listMessage':{'type':a0_0x26e249(0x232),'properties':{'title':{'type':a0_0x26e249(0x681)},'description':{'type':a0_0x26e249(0x681)},'footerText':{'type':a0_0x26e249(0x681)},'buttonText':{'type':'string'},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x26e249(0x232),'properties':{'title':{'type':a0_0x26e249(0x681)},'rows':{'type':a0_0x26e249(0x5a9),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x26e249(0x232),'properties':{'title':{'type':a0_0x26e249(0x681)},'description':{'type':a0_0x26e249(0x681)},'rowId':{'type':a0_0x26e249(0x681)}},'required':[a0_0x26e249(0x598),a0_0x26e249(0x5c8)],...C('title','rowId')}}},'required':[a0_0x26e249(0x598),a0_0x26e249(0x3da)],...C(a0_0x26e249(0x598))}}},'required':[a0_0x26e249(0x598),a0_0x26e249(0x46b),a0_0x26e249(0x368),a0_0x26e249(0x167)],...C('title',a0_0x26e249(0x46b),a0_0x26e249(0x368),a0_0x26e249(0x20c))}},'required':[a0_0x26e249(0x36e),a0_0x26e249(0x685)]},ka={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'number':{...z},'options':{...Y},'contactMessage':{'type':a0_0x26e249(0x5a9),'items':{'type':a0_0x26e249(0x232),'properties':{'fullName':{'type':a0_0x26e249(0x681)},'phoneNumber':{'type':a0_0x26e249(0x681),'minLength':0xa}},'required':[a0_0x26e249(0x275),a0_0x26e249(0x49e)],...C(a0_0x26e249(0x275))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x26e249(0x36e),a0_0x26e249(0x38f)]},ja={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x26e249(0x681)},'remoteJid':{'type':a0_0x26e249(0x681)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x26e249(0x1e8),'fromMe'],...C('id',a0_0x26e249(0x1e8))},'reaction':{'type':a0_0x26e249(0x681)}},'required':['key','reaction'],...C(a0_0x26e249(0x4eb))}},'required':[a0_0x26e249(0x214)]},La={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x26e249(0x681),'pattern':a0_0x26e249(0x25b),'description':a0_0x26e249(0x2e5)}}}},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'readMessages':{'type':a0_0x26e249(0x5a9),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x26e249(0x172),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x26e249(0x681)}},'required':['id','fromMe',a0_0x26e249(0x1e8)],...C('id',a0_0x26e249(0x1e8))}}},'required':[a0_0x26e249(0x340)]},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'privacySettings':{'type':a0_0x26e249(0x232),'properties':{'readreceipts':{'type':'string','enum':[a0_0x26e249(0x574),a0_0x26e249(0x49d)]},'profile':{'type':a0_0x26e249(0x681),'enum':[a0_0x26e249(0x574),a0_0x26e249(0x7e3),a0_0x26e249(0x559),a0_0x26e249(0x49d)]},'status':{'type':a0_0x26e249(0x681),'enum':['all',a0_0x26e249(0x7e3),a0_0x26e249(0x559),a0_0x26e249(0x49d)]},'online':{'type':a0_0x26e249(0x681),'enum':['all',a0_0x26e249(0x696)]},'last':{'type':a0_0x26e249(0x681),'enum':[a0_0x26e249(0x574),a0_0x26e249(0x7e3),a0_0x26e249(0x559),a0_0x26e249(0x49d)]},'groupadd':{'type':a0_0x26e249(0x681),'enum':[a0_0x26e249(0x574),a0_0x26e249(0x7e3),a0_0x26e249(0x559),a0_0x26e249(0x49d)]}},'required':['readreceipts',a0_0x26e249(0x4b0),'status',a0_0x26e249(0x572),a0_0x26e249(0x16e),a0_0x26e249(0x4b7)],...C(a0_0x26e249(0x501),'profile','status',a0_0x26e249(0x572),'last',a0_0x26e249(0x4b7))}},'required':[a0_0x26e249(0x5a0)]},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'lastMessage':{'type':a0_0x26e249(0x232),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x26e249(0x681)},'remoteJid':{'type':a0_0x26e249(0x681)},'fromMe':{'type':a0_0x26e249(0x172),'enum':[!0x0,!0x1]}},'required':['id',a0_0x26e249(0x483),'remoteJid'],...C('id',a0_0x26e249(0x1e8))},'messageTimestamp':{'type':a0_0x26e249(0x33e),'minLength':0x1}},'required':[a0_0x26e249(0x7dd)],...C('messageTimestamp')},'archive':{'type':a0_0x26e249(0x172),'enum':[!0x0,!0x1]}},'required':[a0_0x26e249(0x374),a0_0x26e249(0x42a)]},qa={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'id':{'type':a0_0x26e249(0x681)},'fromMe':{'type':a0_0x26e249(0x172),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x26e249(0x681)},'participant':{'type':a0_0x26e249(0x681)}},'required':['id','fromMe',a0_0x26e249(0x1e8)],...C('id',a0_0x26e249(0x1e8),a0_0x26e249(0x653))},Va={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':a0_0x26e249(0x232),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':a0_0x26e249(0x681),'minLength':0x1}},...C(a0_0x26e249(0x68e),'id',a0_0x26e249(0x6a9))}}},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'name':{'type':a0_0x26e249(0x681)}},...C(a0_0x26e249(0x452))},Ba={'$id':(0x0,E['v4'])(),'type':'object','properties':{'status':{'type':a0_0x26e249(0x681)}},...C('status')},$e={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'number':{'type':a0_0x26e249(0x681)},'picture':{'type':'string'}}},Wa={'type':a0_0x26e249(0x232),'properties':{'wuid':{'type':a0_0x26e249(0x681)},'name':{'type':a0_0x26e249(0x681)},'picture':{'type':'string'},'status':{'type':'string'},'isBusiness':{'type':a0_0x26e249(0x172)}}},za={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'where':{'type':a0_0x26e249(0x232),'properties':{'_id':{'type':a0_0x26e249(0x681),'minLength':0x1},'key':{'type':a0_0x26e249(0x232),'if':{'propertyNames':{'enum':['fromMe',a0_0x26e249(0x1e8),'id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x26e249(0x681),'minLength':0x1,'description':a0_0x26e249(0x556)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x26e249(0x232)}},...C(a0_0x26e249(0x68e))},'limit':{'type':a0_0x26e249(0x33e)}}},lc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x26e249(0x681)},'remoteJid':{'type':a0_0x26e249(0x681)},'id':{'type':a0_0x26e249(0x681)},'fromMe':{'type':a0_0x26e249(0x172),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x26e249(0x681)},'status':{'type':a0_0x26e249(0x681),'enum':[a0_0x26e249(0x3ea),a0_0x26e249(0x51e),'SERVER_ACK','DELIVERY_ACK','READ',a0_0x26e249(0x555)]}},...C('_id',a0_0x26e249(0x1e8),'id',a0_0x26e249(0x228))},'limit':{'type':a0_0x26e249(0x33e)}}},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'number':{...z},'presence':{'type':a0_0x26e249(0x681),'enum':[a0_0x26e249(0x783),a0_0x26e249(0x34a),a0_0x26e249(0x47e),'recording','paused']}},'required':[a0_0x26e249(0x1fc),'number']},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'subject':{'type':a0_0x26e249(0x681)},'description':{'type':a0_0x26e249(0x681)},'profilePicture':{'type':a0_0x26e249(0x681)},'participants':{'type':a0_0x26e249(0x5a9),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x26e249(0x681),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x26e249(0x1f4)}}},'required':[a0_0x26e249(0x523),a0_0x26e249(0x3a6)],...C('subject','description',a0_0x26e249(0x720))},Ae={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'groupJid':{'type':'string','pattern':a0_0x26e249(0x1a3)}},'required':[a0_0x26e249(0x67c)],...C(a0_0x26e249(0x67c))},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'groupJid':{'type':'string'},'action':{'type':'string','enum':['add','remove','promote',a0_0x26e249(0x5d3),a0_0x26e249(0x5fb),'approve']},'participants':{'type':a0_0x26e249(0x5a9),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x26e249(0x681),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x26e249(0x1f4)}}},'required':[a0_0x26e249(0x67c),a0_0x26e249(0x203),a0_0x26e249(0x3a6)],...C(a0_0x26e249(0x67c),a0_0x26e249(0x203))},Ya={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0x26e249(0x36e),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x26e249(0x371)],...C(a0_0x26e249(0x67c),'expiration')},Xa={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'groupJid':{'type':a0_0x26e249(0x681)},'image':{'type':a0_0x26e249(0x681)}},'required':['groupJid','image'],...C(a0_0x26e249(0x67c),a0_0x26e249(0x7a5))},Za={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'groupJid':{'type':a0_0x26e249(0x681)},'description':{'type':'string'}},'required':['groupJid',a0_0x26e249(0x46b)],...C(a0_0x26e249(0x67c),a0_0x26e249(0x46b))},ei={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x26e249(0x681)},'name':{'type':a0_0x26e249(0x681)}},'required':['groupJid',a0_0x26e249(0x452)],...C(a0_0x26e249(0x67c),a0_0x26e249(0x452))},ti={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'groupJid':{'type':a0_0x26e249(0x681)},'setting':{'type':a0_0x26e249(0x681),'enum':[a0_0x26e249(0x644),a0_0x26e249(0x730),'unlocked',a0_0x26e249(0x789)]}},'required':[a0_0x26e249(0x67c),a0_0x26e249(0x472)],...C(a0_0x26e249(0x67c),a0_0x26e249(0x472))},si={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'groupJid':{'type':'string'},'restrict':{'type':a0_0x26e249(0x172)},'announce':{'type':a0_0x26e249(0x172)},'memberAddMode':{'type':a0_0x26e249(0x172)},'joinApprovalMode':{'type':a0_0x26e249(0x172)},'expiration':{'type':a0_0x26e249(0x33e),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':'string'},'description':{'type':a0_0x26e249(0x681)},'image':{'type':'string'}}},bs={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'inviteCode':{'type':a0_0x26e249(0x681)}},'required':[a0_0x26e249(0x68a)],...C('inviteCode')},ai={'$id':(0x0,E['v4'])(),'type':'object','properties':{'url':{'type':a0_0x26e249(0x681)},'enabled':{'type':a0_0x26e249(0x172),'enum':[!0x0,!0x1]}},'required':[a0_0x26e249(0x2fa),a0_0x26e249(0x46e)]},uc={'$id':(0x0,E['v4'])(),'type':a0_0x26e249(0x232),'properties':{'local_map':{'type':a0_0x26e249(0x172),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x26e249(0x172),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x26e249(0x172),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x26e249(0x172),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x26e249(0x172),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x26e249(0x172),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x26e249(0x172),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x26e249(0x172),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x26e249(0x172),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x26e249(0x172),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x26e249(0x172),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x26e249(0x172),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x26e249(0x172),'enum':[!0x0,!0x1]}},'required':[a0_0x26e249(0x492),a0_0x26e249(0x4d5),a0_0x26e249(0x6d5),a0_0x26e249(0x5da),a0_0x26e249(0x76c),a0_0x26e249(0x23a),a0_0x26e249(0x73d),a0_0x26e249(0x30a),'CONTACTS_UPSERT','CONTACTS_UPDATE',a0_0x26e249(0x202),a0_0x26e249(0x48d),a0_0x26e249(0x190),a0_0x26e249(0x328),'CHATS_DELETE',a0_0x26e249(0x1a0),a0_0x26e249(0x521),a0_0x26e249(0x735),a0_0x26e249(0x433)],...C(a0_0x26e249(0x492),a0_0x26e249(0x4d5),a0_0x26e249(0x6d5),a0_0x26e249(0x5da),'MESSAGES_UPDATE',a0_0x26e249(0x23a),a0_0x26e249(0x73d),'CONTACTS_SET',a0_0x26e249(0x212),a0_0x26e249(0x7f5),a0_0x26e249(0x202),'CHATS_SET',a0_0x26e249(0x190),a0_0x26e249(0x328),a0_0x26e249(0x2fb),a0_0x26e249(0x1a0),'GROUPS_UPSERT',a0_0x26e249(0x735),a0_0x26e249(0x433))},st=class{},at=class extends x{[a0_0x26e249(0x4b8)](_0x552d46){return Ys(_0x552d46);}async[a0_0x26e249(0x1bc)](_0xa35b7e){const _0x5f09e8=a0_0x26e249;if(_0xa35b7e[_0x5f09e8(0x62e)]!==0x0)try{return{'insertCount':(await this[_0x5f09e8(0x4b8)](_0xa35b7e[0x0][_0x5f09e8(0x4fa)])[_0x5f09e8(0x3ab)]([..._0xa35b7e]))[_0x5f09e8(0x62e)]};}catch(_0x3aa721){return _0x3aa721;}}async[a0_0x26e249(0x72e)](_0x218cb6,_0x44bd96){const _0xae3b=a0_0x26e249;try{return{'deletedCount':(await this[_0xae3b(0x4b8)](_0x44bd96)['deleteMany']({..._0x218cb6[_0xae3b(0x2a7)]}))[_0xae3b(0x553)]};}catch(_0x4bb249){return{'error':_0x4bb249?.[_0xae3b(0x76f)]()};}}async[a0_0x26e249(0x3e2)](_0xa8ef10,_0x5c6992){const _0x1d2b2c=a0_0x26e249;try{if(_0xa8ef10[_0x1d2b2c(0x62e)]===0x0)return;let _0x4a0c7f=this[_0x1d2b2c(0x4b8)](_0x5c6992),_0x26c993=_0xa8ef10['map'](_0x20c072=>({'updateOne':{'filter':{'_id':_0x20c072['_id'],'owner':_0x5c6992},'update':{..._0x20c072}}})),{modifiedCount:_0x1b3021}=await _0x4a0c7f[_0x1d2b2c(0x635)](_0x26c993);return{'insertCount':_0x1b3021};}catch{return;}}async[a0_0x26e249(0x288)](_0x3468ea,_0xe5b130){const _0x353f4f=a0_0x26e249;try{let _0x27e826=this['getContactModelForOwner'](_0xe5b130),_0x4d79b0=T(_0x3468ea[_0x353f4f(0x2a7)]);return await _0x27e826['find'](_0x4d79b0)['limit'](_0x3468ea?.[_0x353f4f(0x3ad)]??0x0)[_0x353f4f(0x4ed)]();}catch{return[];}}async[a0_0x26e249(0x49c)](_0x497813,_0x236fb6){const _0x3ade94=a0_0x26e249;try{let _0x5583d4=this['getContactModelForOwner'](_0x236fb6),_0x12f7d2=T(_0x497813[_0x3ade94(0x2a7)]);return await _0x5583d4[_0x3ade94(0x49c)](_0x12f7d2)[_0x3ade94(0x4ed)]();}catch{return null;}}async[a0_0x26e249(0x6f0)](_0x149f44){const _0x857ae0=a0_0x26e249;try{return await this[_0x857ae0(0x4b8)](_0x149f44)[_0x857ae0(0x2da)][_0x857ae0(0x805)](),{'success':!0x0};}catch(_0x408c1a){return console[_0x857ae0(0x819)](_0x408c1a),{'success':!0x1,'error':_0x408c1a};}}},it=require(a0_0x26e249(0x4f7)),bc=require('express-async-errors'),Ss=new R('Validate'),V=class{['routerPath'](_0x4cefe6,_0x39d769=!0x0){const _0x1eab45=a0_0x26e249;let _0x39ceb0='/'+_0x4cefe6;return _0x39d769&&(_0x39ceb0+=_0x1eab45(0x158)),_0x39ceb0;}async['dataValidate'](_0x23a4c8){const _0x131ce5=a0_0x26e249;let {request:_0x3a8383,schema:_0x464818,ClassRef:_0x29d877,execute:_0x9a4c7c}=_0x23a4c8,_0x2ff5f2=new _0x29d877(),_0x40384f=_0x3a8383[_0x131ce5(0x498)],_0x331417=_0x3a8383['params'];_0x3a8383?.['query']&&Object[_0x131ce5(0x4a9)](_0x3a8383[_0x131ce5(0x426)])[_0x131ce5(0x62e)]>0x0&&Object[_0x131ce5(0x5ec)](_0x331417,_0x3a8383[_0x131ce5(0x426)]),_0x3a8383[_0x131ce5(0x7fe)][_0x131ce5(0x5d9)]('/instance/create')&&Object['assign'](_0x331417,_0x40384f),Object[_0x131ce5(0x5ec)](_0x2ff5f2,_0x40384f);let _0x2467da=_0x464818?(0x0,it[_0x131ce5(0x56f)])(_0x2ff5f2,_0x464818):{'valid':!0x0,'errors':[]};if(!_0x2467da[_0x131ce5(0x296)]){let _0x2db4ef=_0x2467da[_0x131ce5(0x697)][_0x131ce5(0x261)](({property:_0x44c69d,stack:_0x62e81b,schema:_0x3661ef})=>{const _0x104f52=_0x131ce5;let _0x5a4f24;return _0x3661ef[_0x104f52(0x46b)]?_0x5a4f24=_0x3661ef[_0x104f52(0x46b)]:_0x5a4f24=_0x62e81b[_0x104f52(0x38e)](_0x104f52(0x4c0),''),{'property':_0x44c69d['replace'](_0x104f52(0x4c0),''),'message':_0x5a4f24};});throw Ss[_0x131ce5(0x819)]([..._0x2db4ef]),new m(..._0x2db4ef);}return await _0x9a4c7c(_0x331417,_0x2ff5f2);}async['groupValidate'](_0x1266fc){const _0x1fa92b=a0_0x26e249;let {request:_0x596f9c,ClassRef:_0x28dbb4,schema:_0x2a69db,execute:_0x21a254}=_0x1266fc,_0x561393=_0x596f9c[_0x1fa92b(0x426)];if(!_0x561393?.[_0x1fa92b(0x67c)])throw new m(_0x1fa92b(0x74d),_0x1fa92b(0x414));let _0x50da5e=_0x596f9c['params'],_0x37cbc9=_0x596f9c[_0x1fa92b(0x498)],_0x3625ec=new _0x28dbb4();Object[_0x1fa92b(0x5ec)](_0x37cbc9,_0x561393),Object[_0x1fa92b(0x5ec)](_0x3625ec,_0x37cbc9);let _0x40a013=(0x0,it[_0x1fa92b(0x56f)])(_0x3625ec,_0x2a69db);if(!_0x40a013[_0x1fa92b(0x296)]){let _0x102b7d=_0x40a013[_0x1fa92b(0x697)][_0x1fa92b(0x261)](({property:_0xa64e57,stack:_0x9af14,schema:_0x8a8ccf})=>{const _0x435a1c=_0x1fa92b;let _0x32dd91;return _0x8a8ccf['description']?_0x32dd91=_0x8a8ccf[_0x435a1c(0x46b)]:_0x32dd91=_0x9af14[_0x435a1c(0x38e)]('instance.',''),{'property':_0xa64e57['replace'](_0x435a1c(0x4c0),''),'message':_0x32dd91};});throw Ss['error']([..._0x102b7d]),new m(..._0x102b7d);}return await _0x21a254(_0x50da5e,_0x3625ec);}async[a0_0x26e249(0x1ae)](_0x38c9ef){const _0x54c207=a0_0x26e249;let {request:_0x1ecab7,ClassRef:_0x6491ee,schema:_0x5eb4f1,execute:_0x4facac}=_0x38c9ef,_0x2cc779=_0x1ecab7[_0x54c207(0x498)];if(!_0x2cc779?.[_0x54c207(0x68a)])throw new m(_0x54c207(0x268),_0x54c207(0x497));let _0x570433=_0x1ecab7[_0x54c207(0x3b3)],_0x54f9ed=_0x1ecab7[_0x54c207(0x498)],_0x424c38=new _0x6491ee();Object[_0x54c207(0x5ec)](_0x54f9ed,_0x2cc779),Object[_0x54c207(0x5ec)](_0x424c38,_0x54f9ed);let _0x462158=(0x0,it[_0x54c207(0x56f)])(_0x424c38,_0x5eb4f1);if(!_0x462158[_0x54c207(0x296)]){let _0x4aa465=_0x462158['errors'][_0x54c207(0x261)](({property:_0x4caea1,stack:_0x4371e1,schema:_0x3d182c})=>{const _0x39b9ae=_0x54c207;let _0x229779;return _0x3d182c[_0x39b9ae(0x46b)]?_0x229779=_0x3d182c[_0x39b9ae(0x46b)]:_0x229779=_0x4371e1[_0x39b9ae(0x38e)](_0x39b9ae(0x4c0),''),{'property':_0x4caea1[_0x39b9ae(0x38e)](_0x39b9ae(0x4c0),''),'message':_0x229779};});throw Ss['error']([..._0x4aa465]),new m(..._0x4aa465);}return await _0x4facac(_0x570433,_0x424c38);}},M=class{},_c=new R(a0_0x26e249(0x7b5)),ot=class extends V{constructor(..._0x561a17){const _0x40743d=a0_0x26e249;super(),this[_0x40743d(0x81b)]=(0x0,ii[_0x40743d(0x3e9)])(),this['router'][_0x40743d(0x854)](this[_0x40743d(0x52f)](_0x40743d(0x2df)),..._0x561a17,async(_0x359260,_0x3789b7)=>{const _0x2eadde=_0x40743d;let _0x5a586e=await this[_0x2eadde(0x7ea)]({'request':_0x359260,'schema':Ha,'ClassRef':We,'execute':(_0x5b6c16,_0xcd6a08)=>_[_0x2eadde(0x2df)](_0x5b6c16,_0xcd6a08)});return _0x3789b7[_0x2eadde(0x228)](0xc9)[_0x2eadde(0x639)](_0x5a586e);})[_0x40743d(0x854)](this[_0x40743d(0x52f)](_0x40743d(0x680)),..._0x561a17,async(_0x5f57b9,_0x47ff33)=>{const _0x3b038c=_0x40743d;let _0x30b17f=await this[_0x3b038c(0x7ea)]({'request':_0x5f57b9,'schema':La,'ClassRef':ze,'execute':(_0x24ae70,_0xb40d68)=>_['whatsappNumber'](_0x24ae70,_0xb40d68)});return _0x47ff33[_0x3b038c(0x228)](0xc9)['json'](_0x30b17f);})[_0x40743d(0x854)](this[_0x40743d(0x52f)]('editChat'),..._0x561a17,async(_0x4598c6,_0xd1288f)=>{const _0x5777c0=_0x40743d;let _0x44eaa8=await this[_0x5777c0(0x7ea)]({'request':_0x4598c6,'schema':v,'ClassRef':M,'execute':(_0x26199d,_0x4d992b)=>_['editChat'](_0x26199d,_0x4d992b)});return _0xd1288f[_0x5777c0(0x228)](0xc9)[_0x5777c0(0x639)](_0x44eaa8);})[_0x40743d(0x5cf)](this[_0x40743d(0x52f)](_0x40743d(0x840)),..._0x561a17,async(_0x13aa9d,_0x3df7bb)=>{const _0x1d3e6c=_0x40743d;let _0x5d410b=await this[_0x1d3e6c(0x7ea)]({'request':_0x13aa9d,'schema':Fa,'ClassRef':Qe,'execute':(_0x5337fc,_0x51f84f)=>_[_0x1d3e6c(0x201)](_0x5337fc,_0x51f84f)});return _0x3df7bb[_0x1d3e6c(0x228)](0xc9)[_0x1d3e6c(0x639)](_0x5d410b);})[_0x40743d(0x5cf)](this[_0x40743d(0x52f)](_0x40743d(0x4b2)),..._0x561a17,async(_0x3165be,_0x10170a)=>{const _0x3c24d0=_0x40743d;let _0x218ab8=await this['dataValidate']({'request':_0x3165be,'schema':Ua,'ClassRef':Ye,'execute':(_0x369c99,_0x460b78)=>_[_0x3c24d0(0x4b2)](_0x369c99,_0x460b78)});return _0x10170a[_0x3c24d0(0x228)](0xc9)['json'](_0x218ab8);})['delete'](this[_0x40743d(0x52f)](_0x40743d(0x36a)),..._0x561a17,async(_0x1d8e0d,_0x1d90e6)=>{const _0x2c0006=_0x40743d;let _0xe35e1a=await this['dataValidate']({'request':_0x1d8e0d,'schema':qa,'ClassRef':Ze,'execute':(_0x5df28f,_0x5b534f)=>_[_0x2c0006(0x54d)](_0x5df28f,_0x5b534f)});return _0x1d90e6[_0x2c0006(0x228)](0xc9)['json'](_0xe35e1a);})[_0x40743d(0x854)](this[_0x40743d(0x52f)](_0x40743d(0x7a7)),..._0x561a17,async(_0x1d1d08,_0x233fca)=>{const _0xc2766=_0x40743d;let _0x5bf753=await this['dataValidate']({'request':_0x1d1d08,'schema':$e,'ClassRef':Ne,'execute':(_0xd55d46,_0x54c7ab)=>_[_0xc2766(0x481)](_0xd55d46,_0x54c7ab)});return _0x233fca[_0xc2766(0x228)](0xc8)['json'](_0x5bf753);})['post'](this[_0x40743d(0x52f)](_0x40743d(0x391)),..._0x561a17,async(_0x64da19,_0x171ba7)=>{const _0x4c3d13=_0x40743d;let _0x5c60d8=await this['dataValidate']({'request':_0x64da19,'schema':Wa,'ClassRef':Ne,'execute':(_0x2ff651,_0x1a589f)=>_[_0x4c3d13(0x391)](_0x2ff651,_0x1a589f)});return _0x171ba7[_0x4c3d13(0x228)](0xc8)['json'](_0x5c60d8);})[_0x40743d(0x854)](this[_0x40743d(0x52f)]('findContacts'),..._0x561a17,async(_0x229961,_0x4da211)=>{const _0x3b4e5b=_0x40743d;let _0x28d833=await this['dataValidate']({'request':_0x229961,'schema':Va,'ClassRef':st,'execute':(_0x3c5ec6,_0x57514d)=>_[_0x3b4e5b(0x18f)](_0x3c5ec6,_0x57514d)});return _0x4da211['status'](0xc8)[_0x3b4e5b(0x639)](_0x28d833);})[_0x40743d(0x854)](this[_0x40743d(0x52f)](_0x40743d(0x6de)),..._0x561a17,async(_0x1f42a5,_0x9bbb25)=>{const _0x3d1a70=_0x40743d;let _0x26267c=await this['dataValidate']({'request':_0x1f42a5,'schema':null,'ClassRef':Object,'execute':(_0x588edd,_0x148c9a)=>_[_0x3d1a70(0x6de)](_0x588edd,_0x148c9a)});return _0x9bbb25[_0x3d1a70(0x228)](0xc9)['json'](_0x26267c);})[_0x40743d(0x854)](this[_0x40743d(0x52f)](_0x40743d(0x83c)),..._0x561a17,async(_0x5d1409,_0xcfe978)=>{const _0x584a0a=_0x40743d;let _0x32900f=await this['dataValidate']({'request':_0x5d1409,'schema':za,'ClassRef':Ge,'execute':(_0x4c6dcd,_0x50d7cd)=>_[_0x584a0a(0x829)](_0x4c6dcd,_0x50d7cd)});return _0xcfe978[_0x584a0a(0x228)](0xc8)[_0x584a0a(0x639)](_0x32900f);})[_0x40743d(0x6c0)](this[_0x40743d(0x52f)](_0x40743d(0x70f)),..._0x561a17,async(_0x26e05c,_0x5bd141)=>{let _0x5bf466=await this['dataValidate']({'request':_0x26e05c,'schema':null,'ClassRef':M,'execute':_0x5af884=>_['fetchChats'](_0x5af884)});return _0x5bd141['status'](0xc8)['json'](_0x5bf466);})[_0x40743d(0x6c0)](this[_0x40743d(0x52f)](_0x40743d(0x1aa)),..._0x561a17,async(_0x214b0e,_0x546158)=>{const _0x5d426e=_0x40743d;let _0x5e7748=await this[_0x5d426e(0x7ea)]({'request':_0x214b0e,'schema':null,'ClassRef':M,'execute':_0x31cc4c=>_['fetchLabels'](_0x31cc4c)});return _0x546158['status'](0xc8)['json'](_0x5e7748);})[_0x40743d(0x5cf)](this[_0x40743d(0x52f)](_0x40743d(0x57e)),..._0x561a17,async(_0x3fdb9d,_0x2c1698)=>{const _0x58eba2=_0x40743d;let _0x60a225=await this[_0x58eba2(0x7ea)]({'request':_0x3fdb9d,'schema':null,'ClassRef':Array,'execute':(_0x1718a2,_0xe71b58)=>_[_0x58eba2(0x57e)](_0x1718a2,_0xe71b58)});return _0x2c1698[_0x58eba2(0x228)](0xc8)[_0x58eba2(0x639)](_0x60a225);})['get'](this[_0x40743d(0x52f)](_0x40743d(0x7d8)),..._0x561a17,async(_0x318165,_0x31660a)=>{const _0x4a2b7b=_0x40743d;let _0x28850f=await this['dataValidate']({'request':_0x318165,'schema':null,'ClassRef':M,'execute':_0x5a4faf=>_['fetchPrivacySettings'](_0x5a4faf)});return _0x31660a[_0x4a2b7b(0x228)](0xc8)[_0x4a2b7b(0x639)](_0x28850f);})[_0x40743d(0x5cf)](this[_0x40743d(0x52f)](_0x40743d(0x7d7)),..._0x561a17,async(_0x1f4bd5,_0x2118fc)=>{const _0x4e6320=_0x40743d;let _0x4af809=await this['dataValidate']({'request':_0x1f4bd5,'schema':Ja,'ClassRef':Xe,'execute':(_0x50277c,_0xe78ced)=>_[_0x4e6320(0x7d7)](_0x50277c,_0xe78ced)});return _0x2118fc['status'](0xc9)[_0x4e6320(0x639)](_0x4af809);})[_0x40743d(0x854)](this[_0x40743d(0x52f)](_0x40743d(0x385)),..._0x561a17,async(_0x165082,_0x300b61)=>{const _0x20ac99=_0x40743d;let _0x15e878=await this[_0x20ac99(0x7ea)]({'request':_0x165082,'schema':$e,'ClassRef':be,'execute':(_0x21de29,_0x57306f)=>_[_0x20ac99(0x385)](_0x21de29,_0x57306f)});return _0x300b61[_0x20ac99(0x228)](0xc8)['json'](_0x15e878);})[_0x40743d(0x854)](this[_0x40743d(0x52f)](_0x40743d(0x20a)),..._0x561a17,async(_0x3e3434,_0x18a2d1)=>{const _0x31f06a=_0x40743d;let _0x32b531=await this[_0x31f06a(0x7ea)]({'request':_0x3e3434,'schema':Ga,'ClassRef':He,'execute':(_0x53fe4e,_0x4b8393)=>_[_0x31f06a(0x20a)](_0x53fe4e,_0x4b8393)});return _0x18a2d1[_0x31f06a(0x228)](0xc8)['json'](_0x32b531);})['post'](this[_0x40743d(0x52f)]('updateProfileStatus'),..._0x561a17,async(_0x35ad7c,_0x3fd9fa)=>{const _0x2e98fc=_0x40743d;let _0x571a35=await this[_0x2e98fc(0x7ea)]({'request':_0x35ad7c,'schema':Ba,'ClassRef':Ke,'execute':(_0x16692f,_0x3b8446)=>_[_0x2e98fc(0x194)](_0x16692f,_0x3b8446)});return _0x3fd9fa[_0x2e98fc(0x228)](0xc8)[_0x2e98fc(0x639)](_0x571a35);})[_0x40743d(0x5cf)](this[_0x40743d(0x52f)]('updateProfilePicture'),..._0x561a17,async(_0x4558f4,_0x678632)=>{const _0x29ebe3=_0x40743d;let _0x1cc689=await this[_0x29ebe3(0x7ea)]({'request':_0x4558f4,'schema':$e,'ClassRef':be,'execute':(_0x45f88e,_0x2fbccd)=>_[_0x29ebe3(0x26c)](_0x45f88e,_0x2fbccd)});return _0x678632[_0x29ebe3(0x228)](0xc8)[_0x29ebe3(0x639)](_0x1cc689);})[_0x40743d(0x72e)](this[_0x40743d(0x52f)]('removeProfilePicture'),..._0x561a17,async(_0x350ba8,_0x4660f5)=>{const _0x2ee16a=_0x40743d;let _0x180523=await this[_0x2ee16a(0x7ea)]({'request':_0x350ba8,'schema':$e,'ClassRef':be,'execute':(_0x2dee18,_0x36415a)=>_[_0x2ee16a(0x39d)](_0x2dee18,_0x36415a)});return _0x4660f5[_0x2ee16a(0x228)](0xc8)[_0x2ee16a(0x639)](_0x180523);});}},oi=require('express'),rt=class{},nt=class{},ct=class{},lt=class{},ut=class{},dt=class{},X=class{},Oe=class{},pt=class extends X{},ht=class extends X{},gt=class extends V{constructor(..._0x24da8f){const _0x3ddc6f=a0_0x26e249;super(),this[_0x3ddc6f(0x81b)]=(0x0,oi[_0x3ddc6f(0x3e9)])(),this['router']['post'](this[_0x3ddc6f(0x52f)](_0x3ddc6f(0x2e2)),..._0x24da8f,async(_0x2ef96b,_0x173d31)=>{const _0xfd66d=_0x3ddc6f;let _0x5ecd15=await this[_0xfd66d(0x7ea)]({'request':_0x2ef96b,'schema':Ka,'ClassRef':rt,'execute':(_0x3b3702,_0x567ef9)=>q['createGroup'](_0x3b3702,_0x567ef9)});_0x173d31[_0xfd66d(0x228)](0xc9)[_0xfd66d(0x639)](_0x5ecd15);})[_0x3ddc6f(0x5cf)](this[_0x3ddc6f(0x52f)](_0x3ddc6f(0x704)),..._0x24da8f,async(_0x3b1a3f,_0x5c26c1)=>{const _0xffad74=_0x3ddc6f;let _0x3d9b6b=await this['groupValidate']({'request':_0x3b1a3f,'schema':Xa,'ClassRef':nt,'execute':(_0x514309,_0x21df5a)=>q[_0xffad74(0x704)](_0x514309,_0x21df5a)});_0x5c26c1['status'](0xc9)[_0xffad74(0x639)](_0x3d9b6b);})[_0x3ddc6f(0x5cf)](this['routerPath'](_0x3ddc6f(0x5bb)),..._0x24da8f,async(_0x350c55,_0x4bee81)=>{const _0x58ea84=_0x3ddc6f;let _0x5dff62=await this[_0x58ea84(0x25a)]({'request':_0x350c55,'schema':Za,'ClassRef':ct,'execute':(_0x1403d1,_0x514420)=>q[_0x58ea84(0x5bb)](_0x1403d1,_0x514420)});_0x4bee81['status'](0xc9)[_0x58ea84(0x639)](_0x5dff62);})[_0x3ddc6f(0x5cf)](this[_0x3ddc6f(0x52f)](_0x3ddc6f(0x5f0)),..._0x24da8f,async(_0x1e97ee,_0x4212a7)=>{const _0x326e86=_0x3ddc6f;let _0x3715b3=await this[_0x326e86(0x25a)]({'request':_0x1e97ee,'schema':ei,'ClassRef':lt,'execute':(_0x459c25,_0x29b67a)=>q[_0x326e86(0x5f0)](_0x459c25,_0x29b67a)});_0x4212a7[_0x326e86(0x228)](0xc9)[_0x326e86(0x639)](_0x3715b3);})[_0x3ddc6f(0x5cf)](this[_0x3ddc6f(0x52f)](_0x3ddc6f(0x80f)),..._0x24da8f,async(_0x104287,_0x858bf2)=>{const _0x1ea670=_0x3ddc6f;let _0x57a063=await this[_0x1ea670(0x25a)]({'request':_0x104287,'schema':si,'ClassRef':dt,'execute':(_0x2ff0d6,_0x2a5168)=>q[_0x1ea670(0x80f)](_0x2ff0d6,_0x2a5168)});_0x858bf2[_0x1ea670(0x228)](0xc9)[_0x1ea670(0x639)](_0x57a063);})['put'](this[_0x3ddc6f(0x52f)](_0x3ddc6f(0x26f)),..._0x24da8f,async(_0x87043e,_0x30ef77)=>{const _0x4e9559=_0x3ddc6f;let _0x86ce96=await this['groupValidate']({'request':_0x87043e,'schema':ti,'ClassRef':ut,'execute':(_0x46de62,_0x42aead)=>q[_0x4e9559(0x26f)](_0x46de62,_0x42aead)});_0x30ef77[_0x4e9559(0x228)](0xc9)[_0x4e9559(0x639)](_0x86ce96);})['put'](this['routerPath'](_0x3ddc6f(0x3dd)),..._0x24da8f,async(_0x1a5d50,_0x366833)=>{const _0x1af339=_0x3ddc6f;let _0x11cc76=await this[_0x1af339(0x25a)]({'request':_0x1a5d50,'schema':Ya,'ClassRef':ht,'execute':(_0x5d5440,_0x4cea50)=>q[_0x1af339(0x3dd)](_0x5d5440,_0x4cea50)});_0x366833[_0x1af339(0x228)](0xc9)[_0x1af339(0x639)](_0x11cc76);})['get'](this[_0x3ddc6f(0x52f)]('findGroupInfos'),..._0x24da8f,async(_0x4d47da,_0x333a79)=>{let _0x54ec99=await this['groupValidate']({'request':_0x4d47da,'schema':Ae,'ClassRef':X,'execute':(_0x292d42,_0x4e63d8)=>q['findGroupInfo'](_0x292d42,_0x4e63d8)});_0x333a79['status'](0xc8)['json'](_0x54ec99);})[_0x3ddc6f(0x6c0)](this[_0x3ddc6f(0x52f)](_0x3ddc6f(0x58b)),..._0x24da8f,async(_0x259016,_0x112289)=>{const _0x274e2f=_0x3ddc6f;let _0x2ad406=await this[_0x274e2f(0x7ea)]({'request':_0x259016,'schema':v,'ClassRef':M,'execute':_0x559f03=>q[_0x274e2f(0x58b)](_0x559f03)});_0x112289[_0x274e2f(0x228)](0xc8)[_0x274e2f(0x639)](_0x2ad406);})[_0x3ddc6f(0x6c0)](this['routerPath'](_0x3ddc6f(0x3a6)),..._0x24da8f,async(_0x23ddae,_0x3454ca)=>{const _0x1ac444=_0x3ddc6f;let _0x123113=await this['groupValidate']({'request':_0x23ddae,'schema':Ae,'ClassRef':X,'execute':(_0x1b7565,_0x483c1a)=>q[_0x1ac444(0x5c1)](_0x1b7565,_0x483c1a)});_0x3454ca[_0x1ac444(0x228)](0xc8)[_0x1ac444(0x639)](_0x123113);})[_0x3ddc6f(0x6c0)](this['routerPath']('inviteCode'),..._0x24da8f,async(_0x25ca37,_0x2ac523)=>{const _0x3de710=_0x3ddc6f;let _0x440408=await this['groupValidate']({'request':_0x25ca37,'schema':Ae,'ClassRef':X,'execute':(_0x2c2334,_0x579187)=>q[_0x3de710(0x68a)](_0x2c2334,_0x579187)});_0x2ac523['status'](0xc8)[_0x3de710(0x639)](_0x440408);})[_0x3ddc6f(0x854)](this[_0x3ddc6f(0x52f)]('inviteCodeDetails'),..._0x24da8f,async(_0x21ebb3,_0xefbcb3)=>{const _0x498e53=_0x3ddc6f;let _0x1cd89a=await this[_0x498e53(0x1ae)]({'request':_0x21ebb3,'schema':bs,'ClassRef':Oe,'execute':(_0x2f3e97,_0xdca23a)=>q[_0x498e53(0x364)](_0x2f3e97,_0xdca23a)});_0xefbcb3[_0x498e53(0x228)](0xc9)[_0x498e53(0x639)](_0x1cd89a);})[_0x3ddc6f(0x5cf)](this[_0x3ddc6f(0x52f)]('joinGroup'),..._0x24da8f,async(_0x153e6e,_0xc99bdd)=>{const _0x1565bf=_0x3ddc6f;let _0x3f8c76=await this[_0x1565bf(0x1ae)]({'request':_0x153e6e,'schema':bs,'ClassRef':Oe,'execute':(_0x50ff25,_0x167883)=>q[_0x1565bf(0x5d7)](_0x50ff25,_0x167883)});_0xc99bdd[_0x1565bf(0x228)](0xc9)[_0x1565bf(0x639)](_0x3f8c76);})[_0x3ddc6f(0x5cf)](this[_0x3ddc6f(0x52f)](_0x3ddc6f(0x669)),..._0x24da8f,async(_0x2bc7ee,_0x539cd1)=>{const _0x201642=_0x3ddc6f;let _0x5d9a37=await this[_0x201642(0x25a)]({'request':_0x2bc7ee,'schema':Ae,'ClassRef':X,'execute':(_0x9a8086,_0x212c85)=>q[_0x201642(0x669)](_0x9a8086,_0x212c85)});_0x539cd1[_0x201642(0x228)](0xc9)['json'](_0x5d9a37);})[_0x3ddc6f(0x5cf)](this[_0x3ddc6f(0x52f)]('updateParticipant'),..._0x24da8f,async(_0x5f06cb,_0x180228)=>{const _0x378dd7=_0x3ddc6f;let _0x1bd409=await this[_0x378dd7(0x25a)]({'request':_0x5f06cb,'schema':Qa,'ClassRef':pt,'execute':(_0x1561d4,_0x5465ff)=>q[_0x378dd7(0x4cd)](_0x1561d4,_0x5465ff)});_0x180228[_0x378dd7(0x228)](0xc9)[_0x378dd7(0x639)](_0x1bd409);})[_0x3ddc6f(0x72e)](this[_0x3ddc6f(0x52f)](_0x3ddc6f(0x2ef)),..._0x24da8f,async(_0x283dd8,_0x3ede51)=>{const _0x594533=_0x3ddc6f;let _0x45fadc=await this[_0x594533(0x25a)]({'request':_0x283dd8,'schema':{},'ClassRef':X,'execute':(_0x26fa77,_0x5e1080)=>q[_0x594533(0x2ef)](_0x26fa77,_0x5e1080)});_0x3ede51[_0x594533(0x228)](0xc8)[_0x594533(0x639)](_0x45fadc);});}},ri=require(a0_0x26e249(0x81e)),mt=class extends V{constructor(_0x568a70,..._0x2c1ef4){const _0x5b8acb=a0_0x26e249;super(),this[_0x5b8acb(0x189)]=_0x568a70,this[_0x5b8acb(0x81b)]=(0x0,ri[_0x5b8acb(0x3e9)])();let _0x1d2a63=_0x568a70[_0x5b8acb(0x6c0)](_0x5b8acb(0x786));this[_0x5b8acb(0x81b)]['post'](_0x5b8acb(0x4e0),..._0x2c1ef4,async(_0x218cc7,_0x190a7f)=>{const _0xe49047=_0x5b8acb;let {instanceName:_0x3e2701,apikey:_0x35f769,number:_0x5bdac9}=_0x218cc7[_0xe49047(0x498)],_0x6b47df=await ne[_0xe49047(0x40b)]({'instanceName':_0x3e2701,'apikey':_0x35f769,'number':_0x5bdac9});return _0x190a7f[_0xe49047(0x228)](0xc9)[_0xe49047(0x639)](_0x6b47df);})[_0x5b8acb(0x5cf)](this[_0x5b8acb(0x52f)](_0x5b8acb(0x520)),..._0x2c1ef4,async(_0x597856,_0x55f4e4)=>{const _0x28d78e=_0x5b8acb;let _0x1a4d5b=await this['dataValidate']({'request':_0x597856,'schema':v,'ClassRef':M,'execute':_0x20aec5=>ne[_0x28d78e(0x274)](_0x20aec5)});return _0x55f4e4['status'](0xc8)[_0x28d78e(0x639)](_0x1a4d5b);})[_0x5b8acb(0x6c0)](this['routerPath'](_0x5b8acb(0x1c5)),..._0x2c1ef4,async(_0x2aab6c,_0x5b6d10)=>{const _0x199e28=_0x5b8acb;let _0x3cbdfb=await this['dataValidate']({'request':_0x2aab6c,'schema':v,'ClassRef':M,'execute':_0x436531=>ne[_0x199e28(0x16b)](_0x436531)});return _0x5b6d10['status'](0xc8)[_0x199e28(0x639)](_0x3cbdfb);})['get'](this['routerPath'](_0x5b8acb(0x4fb)),..._0x2c1ef4,async(_0x57f474,_0x4d287e)=>{const _0x2265a9=_0x5b8acb;let _0x2fc62d=await this[_0x2265a9(0x7ea)]({'request':_0x57f474,'schema':v,'ClassRef':M,'execute':_0x3469ca=>ne[_0x2265a9(0x4fb)](_0x3469ca)});return _0x4d287e[_0x2265a9(0x228)](0xc8)[_0x2265a9(0x639)](_0x2fc62d);})['get'](this[_0x5b8acb(0x52f)]('fetchInstances',!0x1),..._0x2c1ef4,async(_0x1809ab,_0x375c8b)=>{const _0x4f3191=_0x5b8acb;let _0xcdf2a5=await this[_0x4f3191(0x7ea)]({'request':_0x1809ab,'schema':null,'ClassRef':M,'execute':_0x13ac72=>ne[_0x4f3191(0x595)](_0x13ac72)});return _0x375c8b[_0x4f3191(0x228)](0xc8)['json'](_0xcdf2a5);})[_0x5b8acb(0x72e)](this[_0x5b8acb(0x52f)](_0x5b8acb(0x242)),..._0x2c1ef4,async(_0x1ff46f,_0x1684fa)=>{const _0x233a61=_0x5b8acb;let _0x5d8334=await this[_0x233a61(0x7ea)]({'request':_0x1ff46f,'schema':v,'ClassRef':M,'execute':_0x321b68=>ne['logout'](_0x321b68)});return _0x1684fa[_0x233a61(0x228)](0xc8)[_0x233a61(0x639)](_0x5d8334);})[_0x5b8acb(0x72e)](this[_0x5b8acb(0x52f)](_0x5b8acb(0x72e)),..._0x2c1ef4,async(_0xd7f77f,_0x2d7683)=>{const _0x43cc73=_0x5b8acb;let _0x1a1a8d=await this[_0x43cc73(0x7ea)]({'request':_0xd7f77f,'schema':v,'ClassRef':M,'execute':_0x4d0d52=>ne[_0x43cc73(0x423)](_0x4d0d52)});return _0x2d7683['status'](0xc8)[_0x43cc73(0x639)](_0x1a1a8d);});}},ni=require('express'),Ms=class{},W=class extends Ms{},ft=class extends W{},wt=class extends W{},yt=class extends W{},bt=class extends W{},Te=class extends W{},St=class extends W{},Mt=class extends W{},Ct=class extends W{},Et=class extends W{},vt=class extends W{},Nt=class{},Rt=class extends V{constructor(..._0x1d28b4){const _0x4764e2=a0_0x26e249;super(),this[_0x4764e2(0x81b)]=(0x0,ni['Router'])(),this[_0x4764e2(0x81b)]['post'](this[_0x4764e2(0x52f)](_0x4764e2(0x69e)),..._0x1d28b4,async(_0x18e502,_0x12c3a0)=>{const _0x13e077=_0x4764e2;let _0x49a7c=await this[_0x13e077(0x7ea)]({'request':_0x18e502,'schema':Na,'ClassRef':ft,'execute':(_0x3ee800,_0x4dc550)=>B[_0x13e077(0x69e)](_0x3ee800,_0x4dc550)});return _0x12c3a0['status'](0xc9)[_0x13e077(0x639)](_0x49a7c);})[_0x4764e2(0x854)](this[_0x4764e2(0x52f)]('sendMedia'),..._0x1d28b4,async(_0x3a2237,_0x5e0f83)=>{const _0x59536d=_0x4764e2;let _0x126214=await this[_0x59536d(0x7ea)]({'request':_0x3a2237,'schema':Oa,'ClassRef':Te,'execute':(_0x535d1e,_0x4691f6)=>B[_0x59536d(0x1fa)](_0x535d1e,_0x4691f6)});return _0x5e0f83[_0x59536d(0x228)](0xc9)[_0x59536d(0x639)](_0x126214);})[_0x4764e2(0x854)](this[_0x4764e2(0x52f)](_0x4764e2(0x463)),..._0x1d28b4,async(_0xa87d7,_0x46c64)=>{const _0x2def4c=_0x4764e2;let _0x4e61ff=await this[_0x2def4c(0x7ea)]({'request':_0xa87d7,'schema':xa,'ClassRef':bt,'execute':(_0x454f92,_0x5c436b)=>B[_0x2def4c(0x463)](_0x454f92,_0x5c436b)});return _0x46c64['status'](0xc9)[_0x2def4c(0x639)](_0x4e61ff);})[_0x4764e2(0x854)](this[_0x4764e2(0x52f)](_0x4764e2(0x709)),..._0x1d28b4,async(_0x51d27b,_0x1fce38)=>{const _0x56a154=_0x4764e2;let _0x447d7e=await this[_0x56a154(0x7ea)]({'request':_0x51d27b,'schema':Ta,'ClassRef':Te,'execute':(_0x4d8f54,_0x1ac414)=>B[_0x56a154(0x709)](_0x4d8f54,_0x1ac414)});return _0x1fce38['status'](0xc9)[_0x56a154(0x639)](_0x447d7e);})[_0x4764e2(0x854)](this[_0x4764e2(0x52f)]('sendButtons'),..._0x1d28b4,async(_0x4b0d6b,_0x566b6f)=>{const _0x551743=_0x4764e2;let _0x1e6c4b=await this['dataValidate']({'request':_0x4b0d6b,'schema':Da,'ClassRef':Mt,'execute':(_0x22b8af,_0x257e84)=>B[_0x551743(0x162)](_0x22b8af,_0x257e84)});return _0x566b6f[_0x551743(0x228)](0xc9)[_0x551743(0x639)](_0x1e6c4b);})[_0x4764e2(0x854)](this[_0x4764e2(0x52f)](_0x4764e2(0x70a)),..._0x1d28b4,async(_0x35cae1,_0x400520)=>{const _0x2c7656=_0x4764e2;let _0x11dfc8=await this[_0x2c7656(0x7ea)]({'request':_0x35cae1,'schema':_a,'ClassRef':Ct,'execute':(_0x442aaf,_0x15c56b)=>B[_0x2c7656(0x70a)](_0x442aaf,_0x15c56b)});return _0x400520[_0x2c7656(0x228)](0xc9)[_0x2c7656(0x639)](_0x11dfc8);})[_0x4764e2(0x854)](this['routerPath']('sendList'),..._0x1d28b4,async(_0x30bf55,_0x4ea34a)=>{const _0x1d2630=_0x4764e2;let _0x562d48=await this[_0x1d2630(0x7ea)]({'request':_0x30bf55,'schema':Pa,'ClassRef':Et,'execute':(_0x139d69,_0x3846c7)=>B['sendList'](_0x139d69,_0x3846c7)});return _0x4ea34a['status'](0xc9)[_0x1d2630(0x639)](_0x562d48);})['post'](this[_0x4764e2(0x52f)](_0x4764e2(0x537)),..._0x1d28b4,async(_0x5eddab,_0x485f3f)=>{const _0x118be1=_0x4764e2;let _0x55bae8=await this[_0x118be1(0x7ea)]({'request':_0x5eddab,'schema':ka,'ClassRef':vt,'execute':(_0x345ada,_0x47209e)=>B[_0x118be1(0x537)](_0x345ada,_0x47209e)});return _0x485f3f[_0x118be1(0x228)](0xc9)[_0x118be1(0x639)](_0x55bae8);})[_0x4764e2(0x854)](this[_0x4764e2(0x52f)](_0x4764e2(0x335)),..._0x1d28b4,async(_0x2fe20b,_0x21e4d4)=>{const _0x534f40=_0x4764e2;let _0x5e4b37=await this[_0x534f40(0x7ea)]({'request':_0x2fe20b,'schema':ja,'ClassRef':Nt,'execute':(_0x3e4bab,_0x1cad8c)=>B[_0x534f40(0x335)](_0x3e4bab,_0x1cad8c)});return _0x21e4d4[_0x534f40(0x228)](0xc9)[_0x534f40(0x639)](_0x5e4b37);})[_0x4764e2(0x854)](this[_0x4764e2(0x52f)](_0x4764e2(0x442)),..._0x1d28b4,async(_0x42b43a,_0x2b7e58)=>{const _0x35f971=_0x4764e2;let _0x1d65cc=await this['dataValidate']({'request':_0x42b43a,'schema':Ia,'ClassRef':yt,'execute':(_0x4a0d88,_0x3e6b4a)=>B[_0x35f971(0x442)](_0x4a0d88,_0x3e6b4a)});return _0x2b7e58[_0x35f971(0x228)](0xc9)['json'](_0x1d65cc);})[_0x4764e2(0x854)](this[_0x4764e2(0x52f)](_0x4764e2(0x3fc)),..._0x1d28b4,async(_0x444aea,_0x375fdb)=>{const _0x4a9edd=_0x4764e2;let _0x170550=await this['dataValidate']({'request':_0x444aea,'schema':Aa,'ClassRef':wt,'execute':(_0x16cc49,_0x55ae56)=>B[_0x4a9edd(0x3fc)](_0x16cc49,_0x55ae56)});return _0x375fdb[_0x4a9edd(0x228)](0xc9)['json'](_0x170550);})['post'](this[_0x4764e2(0x52f)](_0x4764e2(0x45c)),..._0x1d28b4,async(_0x71b70d,_0x33b5c7)=>{const _0x14f909=_0x4764e2;let _0x339c18=await this[_0x14f909(0x7ea)]({'request':_0x71b70d,'schema':$a,'ClassRef':St,'execute':(_0x58151b,_0x4760e3)=>B[_0x14f909(0x45c)](_0x58151b,_0x4760e3)});return _0x33b5c7[_0x14f909(0x228)](0xc9)[_0x14f909(0x639)](_0x339c18);});}},ci=require(a0_0x26e249(0x81e)),$t=class{},At=class extends V{constructor(..._0x549b56){const _0x34600a=a0_0x26e249;super(),this[_0x34600a(0x81b)]=(0x0,ci[_0x34600a(0x3e9)])(),this[_0x34600a(0x81b)][_0x34600a(0x854)](this['routerPath']('set'),..._0x549b56,async(_0x5a3bf8,_0xd13200)=>{const _0x3166fe=_0x34600a;let _0xfce9f3=await this['dataValidate']({'request':_0x5a3bf8,'schema':ai,'ClassRef':$t,'execute':(_0x26121c,_0x4c5a31)=>Cs[_0x3166fe(0x7a3)](_0x26121c,_0x4c5a31)});_0xd13200[_0x3166fe(0x228)](0xc9)['json'](_0xfce9f3);})['get'](this[_0x34600a(0x52f)]('find'),..._0x549b56,async(_0x314d68,_0x372d59)=>{const _0x5d8094=_0x34600a;let _0x4df8a0=await this[_0x5d8094(0x7ea)]({'request':_0x314d68,'schema':v,'ClassRef':M,'execute':_0x53ea5f=>Cs['findWebhook'](_0x53ea5f)});_0x372d59['status'](0xc8)[_0x5d8094(0x639)](_0x4df8a0);});}},li=require(a0_0x26e249(0x81e)),y=new R(a0_0x26e249(0x2bb)),Ot=class extends V{constructor(..._0x2434e1){const _0x446c43=a0_0x26e249;super(),this[_0x446c43(0x81b)]=(0x0,li[_0x446c43(0x3e9)])(),this['router']['post'](this['routerPath'](_0x446c43(0x466)),..._0x2434e1,async(_0x4ebffa,_0x334adb)=>{const _0xc6c9d5=_0x446c43;let _0x50211c=_0x4ebffa['body'];y['verbose'](_0xc6c9d5(0x63d)),y[_0xc6c9d5(0x57c)](_0xc6c9d5(0x53b)),y[_0xc6c9d5(0x57c)](_0x4ebffa[_0xc6c9d5(0x498)]);let _0x1160cb=await this[_0xc6c9d5(0x7ea)]({'request':_0x4ebffa,'schema':v,'ClassRef':M,'execute':_0x40b46a=>A[_0xc6c9d5(0x614)](_0x40b46a,_0x50211c)});_0x334adb[_0xc6c9d5(0x228)](0xc8)['json'](_0x1160cb);})[_0x446c43(0x6c0)](this[_0x446c43(0x52f)]('scheduleMessage'),..._0x2434e1,async(_0x2bb09e,_0x1606eb)=>{const _0x3d5a5e=_0x446c43;let _0x475244=await this['dataValidate']({'request':_0x2bb09e,'schema':v,'ClassRef':M,'execute':_0x438b91=>A[_0x3d5a5e(0x612)](_0x438b91)});_0x1606eb[_0x3d5a5e(0x228)](0xc8)['json'](_0x475244);})[_0x446c43(0x72e)](this[_0x446c43(0x52f)](_0x446c43(0x4d2)),..._0x2434e1,async(_0x552d0a,_0x1d01c5)=>{const _0x1b49e0=_0x446c43;y[_0x1b49e0(0x57c)](_0x1b49e0(0x43f));let _0x49d1d6=await this[_0x1b49e0(0x7ea)]({'request':_0x552d0a,'schema':v,'ClassRef':M,'execute':_0x3fb64d=>A[_0x1b49e0(0x4d2)](_0x3fb64d)});_0x1d01c5['status'](0xc8)[_0x1b49e0(0x639)](_0x49d1d6);})[_0x446c43(0x854)](this['routerPath']('startFlow'),..._0x2434e1,async(_0x1c28c3,_0x39aa6a)=>{const _0x194864=_0x446c43;let _0x1eb25c=_0x1c28c3[_0x194864(0x498)];y[_0x194864(0x57c)](_0x194864(0x50a)),y['verbose'](_0x194864(0x53b)),y[_0x194864(0x57c)](_0x1c28c3['body']);let _0x2f7856=await this[_0x194864(0x7ea)]({'request':_0x1c28c3,'schema':v,'ClassRef':M,'execute':_0x46a865=>A[_0x194864(0x26a)](_0x46a865,_0x1eb25c)});_0x39aa6a[_0x194864(0x228)](0xc8)[_0x194864(0x639)](_0x2f7856);})[_0x446c43(0x6c0)](this['routerPath'](_0x446c43(0x53c)),..._0x2434e1,async(_0x4f7355,_0x21a17e)=>{const _0x4f4f45=_0x446c43;y[_0x4f4f45(0x57c)]('request\x20received\x20in\x20getAutomateSystem');let _0x2e83cb=await this[_0x4f4f45(0x7ea)]({'request':_0x4f7355,'schema':v,'ClassRef':M,'execute':_0x3bc1c4=>A[_0x4f4f45(0x53c)](_0x3bc1c4)});_0x21a17e[_0x4f4f45(0x228)](0xc8)[_0x4f4f45(0x639)](_0x2e83cb);})[_0x446c43(0x6c0)](this[_0x446c43(0x52f)]('getTicketSystem'),..._0x2434e1,async(_0x549532,_0x4c8f62)=>{const _0x58b3c7=_0x446c43;y[_0x58b3c7(0x57c)]('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x44a6c9=await this[_0x58b3c7(0x7ea)]({'request':_0x549532,'schema':v,'ClassRef':M,'execute':_0x210345=>A[_0x58b3c7(0x53c)](_0x210345)});_0x4c8f62['status'](0xc8)[_0x58b3c7(0x639)](_0x44a6c9);})[_0x446c43(0x854)](this[_0x446c43(0x52f)](_0x446c43(0x4e4)),..._0x2434e1,async(_0x5aa9c4,_0x5eb199)=>{const _0xfd4f7b=_0x446c43;let _0x330c2d=_0x5aa9c4['body'];y[_0xfd4f7b(0x57c)](_0xfd4f7b(0x5dd)),y[_0xfd4f7b(0x57c)]('request\x20body:\x20'),y['verbose'](_0x5aa9c4[_0xfd4f7b(0x498)]);let _0x11358c=await this['dataValidate']({'request':_0x5aa9c4,'schema':v,'ClassRef':M,'execute':_0x1a2d21=>A[_0xfd4f7b(0x4e4)](_0x1a2d21,_0x330c2d)});_0x5eb199[_0xfd4f7b(0x228)](0xc8)[_0xfd4f7b(0x639)](_0x11358c);})['post'](this[_0x446c43(0x52f)](_0x446c43(0x6d9)),..._0x2434e1,async(_0x2c5138,_0x5100d5)=>{const _0x514ee9=_0x446c43;let _0x391ab2=_0x2c5138[_0x514ee9(0x498)];y[_0x514ee9(0x57c)](_0x514ee9(0x479)),y['verbose'](_0x514ee9(0x53b)),y['verbose'](_0x2c5138[_0x514ee9(0x498)]);let _0x4af1fb=await this['dataValidate']({'request':_0x2c5138,'schema':v,'ClassRef':M,'execute':_0xce57ed=>A[_0x514ee9(0x6d9)](_0xce57ed,_0x391ab2)});_0x5100d5['status'](0xc8)[_0x514ee9(0x639)](_0x4af1fb);})[_0x446c43(0x854)](this['routerPath']('updateAutoCompleteMessages'),..._0x2434e1,async(_0x4f1564,_0x35f393)=>{const _0x58eaa8=_0x446c43;let _0x29027b=_0x4f1564[_0x58eaa8(0x498)];y[_0x58eaa8(0x57c)](_0x58eaa8(0x50d)),y[_0x58eaa8(0x57c)](_0x58eaa8(0x53b)),y['verbose'](_0x4f1564[_0x58eaa8(0x498)]);let _0x3e007f=await this[_0x58eaa8(0x7ea)]({'request':_0x4f1564,'schema':v,'ClassRef':M,'execute':_0x28c04b=>A[_0x58eaa8(0x824)](_0x28c04b,_0x29027b)});_0x35f393[_0x58eaa8(0x228)](0xc8)[_0x58eaa8(0x639)](_0x3e007f);})[_0x446c43(0x854)](this[_0x446c43(0x52f)](_0x446c43(0x5f6)),..._0x2434e1,async(_0x5bdc54,_0x27daba)=>{const _0x430da3=_0x446c43;let _0x2ab0b2=_0x5bdc54[_0x430da3(0x498)];y[_0x430da3(0x57c)]('request\x20received\x20in\x20updateFlowConfig'),y[_0x430da3(0x57c)](_0x430da3(0x53b)),y[_0x430da3(0x57c)](_0x5bdc54[_0x430da3(0x498)]);let _0x27363f=await this[_0x430da3(0x7ea)]({'request':_0x5bdc54,'schema':v,'ClassRef':M,'execute':_0x31215c=>A['updateFlowConfig'](_0x31215c,_0x2ab0b2)});_0x27daba['status'](0xc8)[_0x430da3(0x639)](_0x27363f);})[_0x446c43(0x854)](this[_0x446c43(0x52f)](_0x446c43(0x7d6)),..._0x2434e1,async(_0x30394d,_0x4ffc1a)=>{const _0x1ba158=_0x446c43;let _0xc6579e=_0x30394d[_0x1ba158(0x498)];y['verbose'](_0x1ba158(0x198)),y[_0x1ba158(0x57c)](_0x1ba158(0x53b)),y['verbose'](_0x30394d[_0x1ba158(0x498)]);let _0x1146ff=await this['dataValidate']({'request':_0x30394d,'schema':v,'ClassRef':M,'execute':_0x9787dd=>A[_0x1ba158(0x7d6)](_0x9787dd,_0xc6579e)});_0x4ffc1a[_0x1ba158(0x228)](0xc8)[_0x1ba158(0x639)](_0x1146ff);})[_0x446c43(0x854)](this[_0x446c43(0x52f)](_0x446c43(0x4aa)),..._0x2434e1,async(_0x21dfff,_0x10df6c)=>{const _0x3389dc=_0x446c43;let _0x53cc39=_0x21dfff[_0x3389dc(0x498)];y[_0x3389dc(0x57c)](_0x3389dc(0x7d0)),y[_0x3389dc(0x57c)](_0x3389dc(0x53b)),y[_0x3389dc(0x57c)](_0x21dfff['body']);let _0x300a88=await this['dataValidate']({'request':_0x21dfff,'schema':v,'ClassRef':M,'execute':_0x1b90f6=>A[_0x3389dc(0x4aa)](_0x1b90f6,_0x53cc39)});_0x10df6c[_0x3389dc(0x228)](0xc8)['json'](_0x300a88);})[_0x446c43(0x854)](this[_0x446c43(0x52f)](_0x446c43(0x52b)),..._0x2434e1,async(_0x3ede4f,_0x260032)=>{const _0x90c04a=_0x446c43;let _0x57d1fb=_0x3ede4f['body'];y[_0x90c04a(0x57c)](_0x90c04a(0x210)),y['verbose'](_0x90c04a(0x53b)),y[_0x90c04a(0x57c)](_0x3ede4f['body']);let _0x3f89e4=await this[_0x90c04a(0x7ea)]({'request':_0x3ede4f,'schema':v,'ClassRef':M,'execute':_0x5f233c=>A['editConversation'](_0x5f233c,_0x57d1fb)});_0x260032[_0x90c04a(0x228)](0xc8)['json'](_0x3f89e4);})['delete'](this['routerPath'](_0x446c43(0x700)),..._0x2434e1,async(_0x408325,_0x164935)=>{const _0x1cd85c=_0x446c43;let _0x507df5=_0x408325['body'];y[_0x1cd85c(0x57c)]('request\x20received\x20in\x20deleteConversation'),y[_0x1cd85c(0x57c)](_0x1cd85c(0x53b)),y['verbose'](_0x408325[_0x1cd85c(0x498)]);let _0x44d018=await this[_0x1cd85c(0x7ea)]({'request':_0x408325,'schema':v,'ClassRef':M,'execute':_0x15abd5=>A[_0x1cd85c(0x700)](_0x15abd5,_0x507df5)});_0x164935[_0x1cd85c(0x228)](0xc8)[_0x1cd85c(0x639)](_0x44d018);})[_0x446c43(0x854)](this[_0x446c43(0x52f)](_0x446c43(0x37d)),..._0x2434e1,async(_0x1e5735,_0x54f773)=>{const _0x2a1f6c=_0x446c43;let _0xf3f5c6=_0x1e5735['body'],_0x12b015=_0x1e5735['headers'][_0x2a1f6c(0x22c)];y[_0x2a1f6c(0x57c)](_0x2a1f6c(0x171)),y['verbose'](_0x2a1f6c(0x53b)),y['verbose'](_0x1e5735['body']);let _0x11b6da=await this[_0x2a1f6c(0x7ea)]({'request':_0x1e5735,'schema':v,'ClassRef':M,'execute':_0x4b12a7=>A[_0x2a1f6c(0x6cd)](_0x4b12a7,_0xf3f5c6,_0x12b015)});_0x54f773[_0x2a1f6c(0x228)](0xc8)['json'](_0x11b6da);})[_0x446c43(0x854)](this[_0x446c43(0x52f)](_0x446c43(0x20e)),..._0x2434e1,async(_0x1fdd5c,_0x262699)=>{const _0x4108b2=_0x446c43;let _0x1f28a0=_0x1fdd5c[_0x4108b2(0x498)],_0x1fbfc7=_0x1fdd5c[_0x4108b2(0x1a6)]['apikey'];y[_0x4108b2(0x57c)](_0x4108b2(0x38a)),y[_0x4108b2(0x57c)](_0x4108b2(0x53b)),y[_0x4108b2(0x57c)](_0x1fdd5c[_0x4108b2(0x498)]),delete _0x1f28a0['blocks'],delete _0x1f28a0['variables'],delete _0x1f28a0[_0x4108b2(0x38c)],delete _0x1f28a0[_0x4108b2(0x2b5)];let _0x3acea0=await this[_0x4108b2(0x7ea)]({'request':_0x1fdd5c,'schema':v,'ClassRef':M,'execute':_0x48a154=>A[_0x4108b2(0x6c3)](_0x48a154,_0x1f28a0,_0x1fbfc7)});_0x262699[_0x4108b2(0x228)](0xc8)[_0x4108b2(0x639)](_0x3acea0);})[_0x446c43(0x854)](this['routerPath'](_0x446c43(0x2ac)),..._0x2434e1,async(_0xdf5874,_0x551a34)=>{const _0x2ab940=_0x446c43;let _0x20cd2e=_0xdf5874[_0x2ab940(0x498)],_0x1d908a=_0xdf5874[_0x2ab940(0x1a6)][_0x2ab940(0x22c)];y[_0x2ab940(0x57c)](_0x2ab940(0x38a)),y['verbose']('request\x20body:\x20'),y[_0x2ab940(0x57c)](_0xdf5874['body']);let _0x5e2936=await this['dataValidate']({'request':_0xdf5874,'schema':v,'ClassRef':M,'execute':_0x56e8fa=>A[_0x2ab940(0x3a1)](_0x56e8fa,_0x20cd2e,_0x1d908a)});_0x551a34[_0x2ab940(0x228)](0xc8)['json'](_0x5e2936);})['post'](this['routerPath']('editflowreply'),..._0x2434e1,async(_0x5d5d23,_0x354614)=>{const _0x279fe8=_0x446c43;let _0x3c6206=_0x5d5d23[_0x279fe8(0x498)],_0x355bcd=_0x5d5d23[_0x279fe8(0x1a6)][_0x279fe8(0x22c)];y[_0x279fe8(0x57c)](_0x279fe8(0x38a)),y[_0x279fe8(0x57c)](_0x279fe8(0x53b)),y['verbose'](_0x5d5d23[_0x279fe8(0x498)]);let _0xd91e28=await this['dataValidate']({'request':_0x5d5d23,'schema':v,'ClassRef':M,'execute':_0x5ed5ae=>A[_0x279fe8(0x6b0)](_0x5ed5ae,_0x3c6206,_0x355bcd)});_0x354614['status'](0xc8)[_0x279fe8(0x639)](_0xd91e28);})[_0x446c43(0x854)](this[_0x446c43(0x52f)](_0x446c43(0x5cd)),..._0x2434e1,async(_0x27811f,_0x23feb3)=>{const _0x3303b3=_0x446c43;let _0xa838d5=_0x27811f['body'],_0x4e16c3=_0x27811f[_0x3303b3(0x1a6)]['apikey'];y[_0x3303b3(0x57c)](_0x3303b3(0x38a)),y[_0x3303b3(0x57c)](_0x3303b3(0x53b)),y[_0x3303b3(0x57c)](_0x27811f[_0x3303b3(0x498)]);let _0x2811e2=await this[_0x3303b3(0x7ea)]({'request':_0x27811f,'schema':v,'ClassRef':M,'execute':_0x92f2fd=>A[_0x3303b3(0x54f)](_0x92f2fd,_0xa838d5,_0x4e16c3)});_0x23feb3[_0x3303b3(0x228)](0xc8)['json'](_0x2811e2);})[_0x446c43(0x854)](this[_0x446c43(0x52f)](_0x446c43(0x77b)),..._0x2434e1,async(_0x230867,_0x2428c4)=>{const _0x5a77b7=_0x446c43;let _0x4489aa=_0x230867[_0x5a77b7(0x498)],_0x3c6df8=_0x230867[_0x5a77b7(0x1a6)]['apikey'];y[_0x5a77b7(0x57c)](_0x5a77b7(0x19d)),y[_0x5a77b7(0x57c)](_0x5a77b7(0x53b)),y[_0x5a77b7(0x57c)](_0x230867['body']);let _0x1074f4=await this['dataValidate']({'request':_0x230867,'schema':v,'ClassRef':M,'execute':_0x525ca1=>A[_0x5a77b7(0x579)](_0x525ca1,_0x4489aa,_0x3c6df8)});_0x2428c4[_0x5a77b7(0x228)](0xc8)[_0x5a77b7(0x639)](_0x1074f4);})[_0x446c43(0x854)](this['routerPath'](_0x446c43(0x78c)),..._0x2434e1,async(_0x5b95d6,_0xe6e1f1)=>{const _0x51c972=_0x446c43;let _0x29579e=_0x5b95d6[_0x51c972(0x498)],_0x2b04d5=_0x5b95d6[_0x51c972(0x1a6)][_0x51c972(0x22c)];y[_0x51c972(0x57c)](_0x51c972(0x527)),y[_0x51c972(0x57c)](_0x51c972(0x53b)),y[_0x51c972(0x57c)](_0x5b95d6[_0x51c972(0x498)]);let _0x3d203e=await this[_0x51c972(0x7ea)]({'request':_0x5b95d6,'schema':v,'ClassRef':M,'execute':_0x2d7bb8=>A[_0x51c972(0x7a8)](_0x2d7bb8,_0x29579e,_0x2b04d5)});_0xe6e1f1[_0x51c972(0x228)](0xc8)[_0x51c972(0x639)](_0x3d203e);})[_0x446c43(0x854)](this[_0x446c43(0x52f)](_0x446c43(0x637)),..._0x2434e1,async(_0x30796b,_0x307bbd)=>{const _0x2e588f=_0x446c43;let _0x17ffca=_0x30796b['body'],_0x29c89a=_0x30796b[_0x2e588f(0x1a6)][_0x2e588f(0x22c)];y[_0x2e588f(0x57c)]('request\x20received\x20in\x20editFlowvariable'),y[_0x2e588f(0x57c)](_0x2e588f(0x53b)),y[_0x2e588f(0x57c)](_0x30796b[_0x2e588f(0x498)]);let _0x5ca552=await this[_0x2e588f(0x7ea)]({'request':_0x30796b,'schema':v,'ClassRef':M,'execute':_0x111a5c=>A[_0x2e588f(0x84c)](_0x111a5c,_0x17ffca,_0x29c89a)});_0x307bbd['status'](0xc8)[_0x2e588f(0x639)](_0x5ca552);})[_0x446c43(0x854)](this[_0x446c43(0x52f)]('getflow'),..._0x2434e1,async(_0x4b43ef,_0x386691)=>{const _0x195577=_0x446c43;let _0x22c27f=_0x4b43ef[_0x195577(0x498)];y[_0x195577(0x57c)](_0x195577(0x621)),y[_0x195577(0x57c)](_0x195577(0x53b)),y[_0x195577(0x57c)](_0x4b43ef[_0x195577(0x498)]);let _0x1dec66=await this[_0x195577(0x7ea)]({'request':_0x4b43ef,'schema':v,'ClassRef':M,'execute':_0x2d0df9=>A[_0x195577(0x3d0)](_0x2d0df9,_0x22c27f)});_0x386691[_0x195577(0x228)](0xc8)[_0x195577(0x639)](_0x1dec66);})[_0x446c43(0x72e)](this[_0x446c43(0x52f)](_0x446c43(0x3b8)),..._0x2434e1,async(_0x2b9bec,_0x2fcbee)=>{const _0xce22a6=_0x446c43;let _0x150d26=_0x2b9bec[_0xce22a6(0x498)],_0x2ace00=_0x2b9bec[_0xce22a6(0x1a6)][_0xce22a6(0x22c)];y['verbose'](_0xce22a6(0x745)),y[_0xce22a6(0x57c)](_0xce22a6(0x53b)),y['verbose'](_0x2b9bec[_0xce22a6(0x498)]);let _0x33b0a8=await this[_0xce22a6(0x7ea)]({'request':_0x2b9bec,'schema':v,'ClassRef':M,'execute':_0x3296dc=>A[_0xce22a6(0x28f)](_0x3296dc,_0x150d26,_0x2ace00)});_0x2fcbee[_0xce22a6(0x228)](0xc8)[_0xce22a6(0x639)](_0x33b0a8);})[_0x446c43(0x6c0)](this[_0x446c43(0x52f)](_0x446c43(0x6bb)),..._0x2434e1,async(_0x230c0b,_0x4f8282)=>{const _0x37dd96=_0x446c43;y[_0x37dd96(0x57c)](_0x37dd96(0x671));let _0x4b4404=await this[_0x37dd96(0x7ea)]({'request':_0x230c0b,'schema':v,'ClassRef':M,'execute':_0x10e5b5=>A[_0x37dd96(0x299)](_0x10e5b5)});_0x4f8282[_0x37dd96(0x228)](0xc8)[_0x37dd96(0x639)](_0x4b4404);});}},hi=O(require(a0_0x26e249(0x206))),Z={};function ui(_0x505e4c,_0x14dced,_0x4f13e6,_0x4b6064){Z[_0x505e4c]||(Z[_0x505e4c]={}),Z[_0x505e4c][_0x14dced]={'id':_0x14dced,'response':_0x4f13e6,'events':_0x4b6064};}function di(_0x486acd,_0x2b0acc){!Z[_0x486acd]||!Z[_0x486acd][_0x2b0acc]||delete Z[_0x486acd][_0x2b0acc];}function J(_0x16239a,_0x5ee89b,_0x442865){const _0x58ce5b=a0_0x26e249;if(!Z[_0x16239a])return;let _0x3f46c9=_0x58ce5b(0x17a)+JSON[_0x58ce5b(0x395)](_0x442865)+'\x0a\x0a';Object[_0x58ce5b(0x589)](Z[_0x16239a])[_0x58ce5b(0x522)](_0x4508bf=>{const _0x39adf1=_0x58ce5b;_0x4508bf[_0x39adf1(0x256)][_0x39adf1(0x5d9)](_0x5ee89b)&&_0x4508bf[_0x39adf1(0x541)]['write'](_0x3f46c9);});}function pi(){const _0x1c0f58=a0_0x26e249;let _0x29d1fe={};for(let _0x22b326 in Z)_0x29d1fe[_0x22b326]=Object[_0x1c0f58(0x589)](Z[_0x22b326])[_0x1c0f58(0x261)](_0x4a1d0c=>({'id':_0x4a1d0c['id'],'events':_0x4a1d0c[_0x1c0f58(0x256)]}));return _0x29d1fe;}var gi=require('uuid'),vs=require(a0_0x26e249(0x7b1)),Es=class{},wo=new vs[(a0_0x26e249(0x7d5))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),yo=new vs[(a0_0x26e249(0x7d5))]({'_id':{'type':String,'default':a0_0x26e249(0x6e4)},'WebhookGlobal':{'type':wo},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Se=$?.['model'](Es[a0_0x26e249(0x452)],yo,'All_Instances_Config'),bo=hi[a0_0x26e249(0x6f9)][a0_0x26e249(0x619)](__dirname,a0_0x26e249(0x35e)),Ie=(0x0,Tt['Router'])(),So=S[a0_0x26e249(0x6c0)](a0_0x26e249(0x786))[a0_0x26e249(0x72d)],ie=[Sa,Ma,va[So]];Ie[a0_0x26e249(0x686)](a0_0x26e249(0x2bc),Tt[a0_0x26e249(0x6f9)][a0_0x26e249(0x447)](bo))[a0_0x26e249(0x6c0)]('/events/:instance',async(_0x2a2e98,_0x5e45ec)=>{const _0x58899c=a0_0x26e249;console[_0x58899c(0x61f)](_0x58899c(0x2e8));let _0x38e7f8=_0x2a2e98[_0x58899c(0x3b3)][_0x58899c(0x848)],_0x8c6b88=(_0x2a2e98['query'][_0x58899c(0x256)]||'')['split'](','),_0x586dd9=(0x0,gi['v4'])();console['log'](_0x58899c(0x2b7),_0x38e7f8),console['log'](_0x58899c(0x3d7),_0x8c6b88);let _0x1f2018=S[_0x58899c(0x6c0)](_0x58899c(0x786))[_0x58899c(0x65b)],_0x5e430b=_0x2a2e98['query'][_0x58899c(0x22c)];if(console[_0x58899c(0x61f)](_0x58899c(0x7dc),_0x5e430b),_0x1f2018[_0x58899c(0x58a)]!==_0x5e430b){console[_0x58899c(0x61f)](_0x58899c(0x27e));try{let _0x2fe516=await ue[_0x58899c(0x454)][_0x58899c(0x288)](_0x38e7f8);if(console[_0x58899c(0x61f)](_0x58899c(0x2cb),_0x2fe516),!_0x2fe516||_0x2fe516[_0x58899c(0x22c)]!==_0x5e430b)return console['log']('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x5e45ec[_0x58899c(0x228)](0x191)[_0x58899c(0x6fc)](_0x58899c(0x4ec));}catch(_0x503c4e){return console[_0x58899c(0x819)](_0x58899c(0x4d0),_0x503c4e),_0x5e45ec[_0x58899c(0x228)](0x191)[_0x58899c(0x6fc)](_0x58899c(0x3d9));}}if(!await Re(_0x38e7f8))return _0x5e45ec['status'](0x194)[_0x58899c(0x6fc)](_0x58899c(0x1ce));_0x5e45ec[_0x58899c(0x1af)]('Content-Type',_0x58899c(0x34e)),_0x5e45ec[_0x58899c(0x1af)](_0x58899c(0x82f),_0x58899c(0x31e)),_0x5e45ec[_0x58899c(0x1af)]('Connection',_0x58899c(0x567)),_0x5e45ec['flushHeaders']();let _0x15651d=_0x58899c(0x17a)+JSON[_0x58899c(0x395)]({'info':_0x58899c(0x77e)})+'\x0a\x0a';_0x5e45ec['write'](_0x15651d),ui(_0x38e7f8,_0x586dd9,_0x5e45ec,_0x8c6b88),_0x2a2e98['on'](_0x58899c(0x1da),()=>{const _0x400f5f=_0x58899c;console[_0x400f5f(0x61f)](_0x400f5f(0x410)+_0x38e7f8),di(_0x38e7f8,_0x586dd9);});}),Ie['post'](a0_0x26e249(0x40e),async(_0x48befe,_0x3b6810)=>{const _0x4a9842=a0_0x26e249;console[_0x4a9842(0x61f)](_0x4a9842(0x15c));let _0xfaa076=_0x48befe[_0x4a9842(0x3b3)][_0x4a9842(0x848)],_0x4541a3=_0x48befe[_0x4a9842(0x3b3)][_0x4a9842(0x754)],_0x4ee950=_0x48befe[_0x4a9842(0x426)][_0x4a9842(0x1e8)]||'',_0x2d1152=_0x48befe['body'];console[_0x4a9842(0x61f)]('Instance\x20Name:',_0xfaa076),console[_0x4a9842(0x61f)](_0x4a9842(0x74b),_0x4541a3),console['log'](_0x4a9842(0x624),_0x4ee950),console[_0x4a9842(0x61f)]('Request\x20Body:',_0x2d1152);try{if(!await Re(_0xfaa076))return _0x3b6810[_0x4a9842(0x228)](0x194)['send']('Instância\x20não\x20encontrada.');let _0xa2e566=await A[_0x4a9842(0x4cb)](_0xfaa076,_0x4541a3,_0x4ee950,_0x2d1152);_0x3b6810[_0x4a9842(0x6fc)](_0xa2e566);}catch(_0x3a76a2){console[_0x4a9842(0x819)](_0x3a76a2),_0x3b6810[_0x4a9842(0x228)](0x1f4)[_0x4a9842(0x6fc)](_0x4a9842(0x5a5));}}),Ie[a0_0x26e249(0x6c0)](a0_0x26e249(0x360),(_0x1e96ca,_0x359516)=>{let _0x5602fa=pi();_0x359516['json'](_0x5602fa);})[a0_0x26e249(0x6c0)]('/',(_0x14068b,_0x2bfc50)=>{const _0x3b800f=a0_0x26e249;let _0x402bf2=S[_0x3b800f(0x6c0)]('SERVER')[_0x3b800f(0x852)];if(_0x402bf2){let _0x22b0cf=encodeURIComponent(''+_0x402bf2);_0x2bfc50[_0x3b800f(0x349)](_0x3b800f(0x663)+_0x22b0cf);return;}let _0x52fe21=S[_0x3b800f(0x6c0)](_0x3b800f(0x238)),_0x24ffcd=_0x52fe21&&_0x52fe21[_0x3b800f(0x3e7)][_0x3b800f(0x510)]('/')[0x4];if(_0x24ffcd){let _0x6d755c=encodeURIComponent(_0x3b800f(0x18d)+_0x24ffcd);_0x2bfc50[_0x3b800f(0x349)](_0x3b800f(0x663)+_0x6d755c);}else _0x2bfc50['redirect'](_0x3b800f(0x5d8));})[a0_0x26e249(0x5cf)](a0_0x26e249(0x4fd),...ie,async(_0x13506d,_0x4c5ffd)=>{const _0x32352f=a0_0x26e249;try{console['log']('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x4c5ffd[_0x32352f(0x228)](0xc8)[_0x32352f(0x639)]({'message':_0x32352f(0x243)}),_0x4c5ffd['on'](_0x32352f(0x381),()=>process[_0x32352f(0x1cc)](0x0));}catch(_0x3fa21d){console[_0x32352f(0x819)](_0x32352f(0x217),_0x3fa21d),_0x4c5ffd['status'](0x1f4)[_0x32352f(0x639)]({'message':_0x32352f(0x493)});}})['put'](a0_0x26e249(0x82c),...ie,async(_0x4b4917,_0x5b42f9)=>{const _0x59ff31=a0_0x26e249;try{let _0x3652ed=_0x4b4917[_0x59ff31(0x498)];await Se[_0x59ff31(0x68c)]({},{'$set':_0x3652ed},{'upsert':!0x0});let _0x3f88fb=await Se[_0x59ff31(0x49c)]();_0x5b42f9[_0x59ff31(0x639)](_0x3f88fb);}catch(_0x413227){_0x5b42f9[_0x59ff31(0x228)](0x190)[_0x59ff31(0x6fc)](_0x413227[_0x59ff31(0x3e1)]);}})[a0_0x26e249(0x6c0)]('/config',...ie,async(_0x5a5973,_0x252977)=>{const _0x4576cf=a0_0x26e249;try{let _0x5256e5=await Se[_0x4576cf(0x49c)]();if(!_0x5256e5)return _0x252977[_0x4576cf(0x639)]({});_0x252977[_0x4576cf(0x639)](_0x5256e5);}catch(_0x8b179e){_0x252977['status'](0x1f4)[_0x4576cf(0x6fc)](_0x8b179e[_0x4576cf(0x3e1)]);}})['use']('/instance',new mt(S,...ie)[a0_0x26e249(0x81b)])[a0_0x26e249(0x686)]('/message',new Rt(...ie)[a0_0x26e249(0x81b)])[a0_0x26e249(0x686)](a0_0x26e249(0x57a),new ot(...ie)[a0_0x26e249(0x81b)])[a0_0x26e249(0x686)](a0_0x26e249(0x5d0),new gt(...ie)[a0_0x26e249(0x81b)])[a0_0x26e249(0x686)](a0_0x26e249(0x4ce),new At(...ie)[a0_0x26e249(0x81b)])[a0_0x26e249(0x686)](a0_0x26e249(0x197),new Ot(...ie)[a0_0x26e249(0x81b)]);var m=class{constructor(..._0x2f75f1){const _0x362054=a0_0x26e249;throw{'status':0x190,'error':'Bad\x20Request','message':_0x2f75f1[_0x362054(0x62e)]>0x0?_0x2f75f1:void 0x0};}},ae=class{constructor(..._0xcdc566){const _0x27effa=a0_0x26e249;throw{'status':0x191,'error':'Unauthorized','message':_0xcdc566[_0x27effa(0x62e)]>0x0?_0xcdc566:void 0x0};}},Q=class{constructor(..._0x51078b){const _0x4bcf1a=a0_0x26e249;throw{'status':0x193,'error':_0x4bcf1a(0x1c2),'message':_0x51078b[_0x4bcf1a(0x62e)]>0x0?_0x51078b:void 0x0};}},U=class{constructor(..._0x58661f){const _0x2e4deb=a0_0x26e249;throw{'status':0x194,'error':_0x2e4deb(0x3eb),'message':_0x58661f['length']>0x0?_0x58661f:void 0x0};}},I=class{constructor(..._0x529ebf){const _0x3b2ec6=a0_0x26e249;throw{'status':0x1f4,'error':_0x3b2ec6(0x6e0),'message':_0x529ebf[_0x3b2ec6(0x62e)]>0x0?_0x529ebf:void 0x0};}},de=require(a0_0x26e249(0x5ca));async function Ns(_0x9c382){const _0x32c60a=a0_0x26e249;let _0x4df509=new R(Ns['name']),_0x31e81e=$[_0x32c60a(0x332)](),_0x2142d2=_0x31e81e['db'](S[_0x32c60a(0x6c0)](_0x32c60a(0x505))[_0x32c60a(0x363)][_0x32c60a(0x7c1)]+_0x32c60a(0x78e))[_0x32c60a(0x2da)](_0x9c382),_0x33f008=async(_0x21dd91,_0x19d2a2)=>{const _0x5c0137=_0x32c60a;try{return await _0x31e81e['connect'](),await _0x2142d2[_0x5c0137(0x213)]({'_id':_0x19d2a2},JSON[_0x5c0137(0x311)](JSON['stringify'](_0x21dd91,de[_0x5c0137(0x2af)]['replacer'])),{'upsert':!0x0});}catch{}},_0x3009fb=async _0x2ddb4c=>{const _0x38ca0c=_0x32c60a;try{await _0x31e81e[_0x38ca0c(0x1c5)]();let _0x5289e5=await _0x2142d2[_0x38ca0c(0x49c)]({'_id':_0x2ddb4c}),_0x83408b=JSON[_0x38ca0c(0x395)](_0x5289e5);return JSON[_0x38ca0c(0x311)](_0x83408b,de[_0x38ca0c(0x2af)][_0x38ca0c(0x326)]);}catch{}},_0x2b3fbe=async _0x15a23e=>{const _0x412a25=_0x32c60a;try{return await _0x31e81e[_0x412a25(0x1c5)](),await _0x2142d2[_0x412a25(0x409)]({'_id':_0x15a23e});}catch{}},_0x21ac84=await _0x3009fb(_0x32c60a(0x719))||(0x0,de[_0x32c60a(0x675)])();return{'state':{'creds':_0x21ac84,'keys':{'get':async(_0x53c8dd,_0x56b781)=>{const _0x27af45=_0x32c60a;let _0x42e8e3={};return await Promise[_0x27af45(0x574)](_0x56b781[_0x27af45(0x261)](async _0x180032=>{const _0x2d6ad1=_0x27af45;let _0x4497f7=await _0x3009fb(_0x53c8dd+'-'+_0x180032);_0x53c8dd===_0x2d6ad1(0x2ca)&&_0x4497f7&&(_0x4497f7=de['proto'][_0x2d6ad1(0x6f3)][_0x2d6ad1(0x689)]['fromObject'](_0x4497f7)),_0x42e8e3[_0x180032]=_0x4497f7;})),_0x42e8e3;},'set':async _0x1a4662=>{let _0x304280=[];for(let _0x19584d in _0x1a4662)for(let _0x5ec4bb in _0x1a4662[_0x19584d]){let _0x22be51=_0x1a4662[_0x19584d][_0x5ec4bb],_0x534552=_0x19584d+'-'+_0x5ec4bb;_0x304280['push'](_0x22be51?_0x33f008(_0x22be51,_0x534552):_0x2b3fbe(_0x534552));}await Promise['all'](_0x304280);}}},'saveCreds':async()=>_0x33f008(_0x21ac84,_0x32c60a(0x719))};}var Ts=O(require(a0_0x26e249(0x18e))),Is=O(require(a0_0x26e249(0x4e2))),Dt=require(a0_0x26e249(0x5ca)),mi=require(a0_0x26e249(0x1bd)),xt=require(a0_0x26e249(0x5ca)),It;function Mo(_0x53e535){const _0x594b31=a0_0x26e249;return It||(It=(0x0,mi['createClient'])({'url':_0x53e535[_0x594b31(0x3f7)]}),It[_0x594b31(0x1c5)]()),It;}var ce=class c{constructor(_0x5a4569,_0x1eee8d){const _0x52b7b7=a0_0x26e249;this['redisEnv']=_0x5a4569,this['instanceName']=_0x1eee8d,this['logger']=new R(c[_0x52b7b7(0x452)]),this[_0x52b7b7(0x39e)]=Mo(_0x5a4569);}set[a0_0x26e249(0x1ad)](_0xb7770d){const _0x5dbd97=a0_0x26e249;this[_0x5dbd97(0x156)]=_0xb7770d;}async['instanceKeys'](){const _0x58d659=a0_0x26e249;try{return await this['client'][_0x58d659(0x3b2)]([_0x58d659(0x4a9),this[_0x58d659(0x3c3)][_0x58d659(0x293)]+':*']);}catch(_0x5516cc){this[_0x58d659(0x392)][_0x58d659(0x819)](_0x5516cc);}}async[a0_0x26e249(0x7fa)](_0x344e22,_0x1a9ddd){const _0x494d88=a0_0x26e249;try{let _0x2eeb81=JSON[_0x494d88(0x395)](_0x1a9ddd,xt[_0x494d88(0x2af)][_0x494d88(0x3c0)]);return await this[_0x494d88(0x39e)]['hSet'](this[_0x494d88(0x3c3)]['PREFIX_KEY']+':'+this[_0x494d88(0x156)],_0x344e22,_0x2eeb81);}catch(_0x323c2f){this['logger'][_0x494d88(0x819)](_0x323c2f);}}async['getAllData'](){const _0x591778=a0_0x26e249;try{let _0x513842=await this[_0x591778(0x39e)][_0x591778(0x516)](this[_0x591778(0x3c3)][_0x591778(0x293)]+':'+this[_0x591778(0x156)]);if(_0x513842){for(let _0xfd68f0 in _0x513842)Object[_0x591778(0x757)][_0x591778(0x1b6)]['call'](_0x513842,_0xfd68f0)&&(_0x513842[_0xfd68f0]=JSON[_0x591778(0x311)](_0x513842[_0xfd68f0],xt[_0x591778(0x2af)][_0x591778(0x326)]));return _0x513842;}}catch(_0x2042c5){this['logger'][_0x591778(0x819)](_0x2042c5);}}async[a0_0x26e249(0x622)](_0x588a7){const _0x28130d=a0_0x26e249;try{let _0x255f21=await this[_0x28130d(0x39e)][_0x28130d(0x19f)](this['redisEnv'][_0x28130d(0x293)]+':'+this[_0x28130d(0x156)],_0x588a7);if(_0x255f21)return JSON[_0x28130d(0x311)](_0x255f21,xt[_0x28130d(0x2af)]['reviver']);}catch(_0x343ff7){this[_0x28130d(0x392)][_0x28130d(0x819)](_0x343ff7);}}async['removeData'](_0x57e8f7){const _0x289b68=a0_0x26e249;try{return await this[_0x289b68(0x39e)][_0x289b68(0x692)](this[_0x289b68(0x3c3)][_0x289b68(0x293)]+':'+this[_0x289b68(0x156)],_0x57e8f7);}catch(_0x1604c6){this[_0x289b68(0x392)]['error'](_0x1604c6);}}async[a0_0x26e249(0x616)](_0x4651ea){const _0x2ca9b5=a0_0x26e249;try{return await this[_0x2ca9b5(0x39e)][_0x2ca9b5(0x19a)](_0x4651ea||this[_0x2ca9b5(0x3c3)][_0x2ca9b5(0x293)]+':'+this[_0x2ca9b5(0x156)]);}catch(_0x3f0126){this['logger'][_0x2ca9b5(0x819)](_0x3f0126);}}};async function Rs(_0x3a4249,_0x2c20bd){const _0x5985d2=a0_0x26e249;let _0x330e0e=new R(Rs[_0x5985d2(0x452)]),_0x57b255=new ce(_0x3a4249,_0x2c20bd),_0x4c2c86=async(_0xd4ca7b,_0x476676)=>{const _0x32e9f5=_0x5985d2;try{return await _0x57b255['writeData'](_0x476676,_0xd4ca7b);}catch(_0x39daa1){return _0x330e0e['error']({'localError':_0x32e9f5(0x7fa),'error':_0x39daa1});}},_0x180cf1=async _0x5b89bc=>{const _0x552a37=_0x5985d2;try{return await _0x57b255['readData'](_0x5b89bc);}catch(_0xa3d2e8){_0x330e0e[_0x552a37(0x819)]({'readData':_0x552a37(0x7fa),'error':_0xa3d2e8});return;}},_0x1e6251=async _0x2582b8=>{const _0x2ce42a=_0x5985d2;try{return await _0x57b255[_0x2ce42a(0x5e4)](_0x2582b8);}catch(_0x323e0b){_0x330e0e[_0x2ce42a(0x819)]({'readData':_0x2ce42a(0x5e4),'error':_0x323e0b});}},_0x3869f4=await _0x180cf1(_0x5985d2(0x719))||(0x0,Dt['initAuthCreds'])();return{'state':{'creds':_0x3869f4,'keys':{'get':async(_0x2f7281,_0x572a22)=>{const _0x2f007f=_0x5985d2;let _0x29f0ba={};return await Promise[_0x2f007f(0x574)](_0x572a22[_0x2f007f(0x261)](async _0x494c59=>{const _0x37d8af=_0x2f007f;let _0x2260ce=await _0x180cf1(_0x2f7281+'-'+_0x494c59);_0x2f7281==='app-state-sync-key'&&_0x2260ce&&(_0x2260ce=Dt[_0x37d8af(0x542)]['Message'][_0x37d8af(0x689)]['fromObject'](_0x2260ce)),_0x29f0ba[_0x494c59]=_0x2260ce;})),_0x29f0ba;},'set':async _0x387463=>{const _0x3c9345=_0x5985d2;let _0x4108ca=[];for(let _0x1edbe7 in _0x387463)for(let _0x248ba8 in _0x387463[_0x1edbe7]){let _0x3e02a2=_0x387463[_0x1edbe7][_0x248ba8],_0x8c4eb8=_0x1edbe7+'-'+_0x248ba8;_0x4108ca[_0x3c9345(0x65e)](_0x3e02a2?await _0x4c2c86(_0x3e02a2,_0x8c4eb8):await _0x1e6251(_0x8c4eb8));}await Promise[_0x3c9345(0x574)](_0x4108ca);}}},'saveCreds':async()=>await _0x4c2c86(_0x3869f4,_0x5985d2(0x719))};}var j=O(require('fs')),Me=require('uuid'),jt=O(require(a0_0x26e249(0x855))),Lt=require('https-proxy-agent'),Co=a0_0x26e249(0x688)[a0_0x26e249(0x4fe)](),_t=Co[a0_0x26e249(0x510)]('\x0a')[a0_0x26e249(0x261)](_0x35d536=>{const _0x1b8630=a0_0x26e249;let _0x4d9504=_0x35d536['split'](':'),_0x3db011={'host':_0x4d9504[0x0],'port':_0x4d9504[0x1],'protocol':_0x1b8630(0x57f)};return _0x4d9504[_0x1b8630(0x62e)]===0x4&&(_0x3db011[_0x1b8630(0x215)]=_0x4d9504[0x2],_0x3db011[_0x1b8630(0x6d3)]=_0x4d9504[0x3]),_0x3db011;});function fi(_0xfd1f1b){const _0x403a90=a0_0x26e249;return _t[_0x403a90(0x288)](_0x48a8d1=>_0x48a8d1['host']===_0xfd1f1b)||null;}function wi(){const _0x2fcb5f=a0_0x26e249;if(_t[_0x2fcb5f(0x62e)]===0x0)return null;let _0x5ea5a5=Math[_0x2fcb5f(0x465)](Math[_0x2fcb5f(0x517)]()*_t[_0x2fcb5f(0x62e)]);return _t[_0x5ea5a5];}function $s(_0x176f70){const _0x31d05d=a0_0x26e249;let _0x53ac31=_0x21caa1=>typeof _0x21caa1==_0x31d05d(0x681)&&_0x21caa1[_0x31d05d(0x62e)]>0x0,_0xc18287=_0x589544=>{let _0x51c22c=parseInt(_0x589544,0xa);return!isNaN(_0x51c22c)&&_0x51c22c>0x0&&_0x51c22c<=0xffff;},_0x664495=_0x3db823=>typeof _0x3db823=='string'&&_0x3db823[_0x31d05d(0x62e)]>0x0;return _0x176f70&&_0x53ac31(_0x176f70[_0x31d05d(0x4d4)])&&_0xc18287(_0x176f70['port'])&&(!_0x176f70[_0x31d05d(0x215)]||_0x664495(_0x176f70[_0x31d05d(0x215)]))&&(!_0x176f70[_0x31d05d(0x6d3)]||_0x664495(_0x176f70['password']))&&(_0x176f70[_0x31d05d(0x33a)]==='http'||_0x176f70['protocol']==='https');}var Ft=require('crypto'),xs=a0_0x26e249(0x45e),Ci,le=null,yi=null,tt=null,Eo=0x3,vo=null,ee=S[a0_0x26e249(0x6c0)](a0_0x26e249(0x786))['API_KEY']['KEY'];async function No(){const _0x429691=a0_0x26e249;let _0x2a3c7b=await Se[_0x429691(0x49c)]();le=_0x2a3c7b?.[_0x429691(0x5f2)]??null,vo=_0x2a3c7b?.['DaysToDelete']??null,xs=_0x2a3c7b?.['connectedClient']??'Safari',Ci=_0x2a3c7b?.[_0x429691(0x1c8)]??Ds??_0x429691(0x694),console[_0x429691(0x61f)](_0x2a3c7b);}function a0_0x3705(_0x519c7f,_0x2dca15){const _0x46e5d7=a0_0x46e5();return a0_0x3705=function(_0x3705d6,_0x101ca1){_0x3705d6=_0x3705d6-0x150;let _0x3ac171=_0x46e5d7[_0x3705d6];return _0x3ac171;},a0_0x3705(_0x519c7f,_0x2dca15);}async function Ro(){await No();}Ro();var Ce=class c{constructor(_0x469c0b,_0x30d3d6,_0x39d82f){const _0x24be48=a0_0x26e249;this[_0x24be48(0x189)]=_0x469c0b,this['eventEmitter']=_0x30d3d6,this[_0x24be48(0x1e2)]=_0x39d82f,this[_0x24be48(0x68b)]=null,this[_0x24be48(0x392)]=new R(c[_0x24be48(0x452)]),this['instance']={},this['localWebhook']={},this[_0x24be48(0x550)]={'state':_0x24be48(0x1da)},this[_0x24be48(0x384)]=(0x0,F[_0x24be48(0x619)])(re,_0x24be48(0x35e)),this[_0x24be48(0x1b9)]=new Is[(_0x24be48(0x6f9))](),this['userDevicesCache']=new Is[(_0x24be48(0x6f9))](),this[_0x24be48(0x723)]=!0x1,this[_0x24be48(0x324)]={'status.instance':'/wa-connection-update','connection.update':_0x24be48(0x4ea),'qrcode.updated':_0x24be48(0x367),'messages.upsert':'/wa-message','send.message':_0x24be48(0x469),'messages.update':'/wa-message-update','group.upsert':'/wa-groups','group.update':'/wa-groups','group-participants.update':'/wa-groups','messages.set':_0x24be48(0x4e8),'contacts.set':_0x24be48(0x338),'contacts.upsert':_0x24be48(0x338),'contacts.update':'/wa-contacts','presence.update':_0x24be48(0x84d),'chats.set':_0x24be48(0x603),'chats.update':_0x24be48(0x603),'chats.upsert':'/wa-chats','chats.delete':_0x24be48(0x603)},this['reconnectAttempts']=0x0,this[_0x24be48(0x16c)]=[],this[_0x24be48(0x833)]=0xa,this[_0x24be48(0x1f3)]=0xea60,this['isRunning']=!0x1,this[_0x24be48(0x313)]={'chats.upsert':async(_0x3b194c,_0x223fd5)=>{const _0x5d0125=_0x24be48;let _0x360324=[];for await(let _0x5f2a2c of _0x3b194c)_0x360324['push']({'_id':_0x5f2a2c['id'],'owner':this[_0x5d0125(0x848)][_0x5d0125(0x2bd)],'group':_0x5f2a2c['id'][_0x5d0125(0x55e)]('@g.us'),'name':_0x5f2a2c[_0x5d0125(0x452)]||_0x5f2a2c[_0x5d0125(0x3fe)]||null,'contactname':null,'lastmsg':_0x5f2a2c[_0x5d0125(0x44c)]&&_0x5f2a2c[_0x5d0125(0x44c)][_0x5d0125(0x76f)]()[_0x5d0125(0x62e)]<0xd?_0x5f2a2c[_0x5d0125(0x44c)]*0x3e8:_0x5f2a2c[_0x5d0125(0x44c)]||null,'archived':_0x5f2a2c[_0x5d0125(0x79e)]||!0x1,'unreadcount':_0x5f2a2c[_0x5d0125(0x3e3)]||0x0,'ephemeralExpiration':_0x5f2a2c[_0x5d0125(0x606)]||0x0});this[_0x5d0125(0x7eb)](_0x5d0125(0x6af),_0x360324);},'chats.update':async(_0x5aed7c,_0x245ad6)=>{const _0x5f0728=_0x24be48;for(let _0x272512 of _0x5aed7c){let _0x4944c1={'_id':_0x272512['id'],'owner':this[_0x5f0728(0x848)][_0x5f0728(0x2bd)],'archived':_0x272512[_0x5f0728(0x79e)],'muteEndTime':_0x272512['muteEndTime'],'ephemeralExpiration':_0x272512[_0x5f0728(0x606)]},_0x32ef00=!0x1,_0x191189={};_0x4944c1[_0x5f0728(0x79e)]!=null&&(this[_0x5f0728(0x392)]['verbose'](this[_0x5f0728(0x156)]+'\x20('+this[_0x5f0728(0x848)][_0x5f0728(0x2bd)]+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x272512['id']+_0x5f0728(0x71e)+_0x272512[_0x5f0728(0x79e)]),_0x32ef00=!0x0,_0x191189['archived']=_0x272512['archived']),'muteEndTime'in _0x272512&&(this[_0x5f0728(0x392)][_0x5f0728(0x57c)](this['instanceName']+'\x20('+this[_0x5f0728(0x848)][_0x5f0728(0x2bd)]+'):\x20teve\x20mudanças\x20chat.muteEndTime:\x20'+_0x272512['id']+_0x5f0728(0x71e)+(_0x272512[_0x5f0728(0x3a8)]??'0')),_0x32ef00=!0x0,_0x191189[_0x5f0728(0x3a8)]=_0x272512[_0x5f0728(0x3a8)]??0x0),_0x5f0728(0x606)in _0x272512&&(this[_0x5f0728(0x392)]['verbose'](this[_0x5f0728(0x156)]+'\x20('+this[_0x5f0728(0x848)][_0x5f0728(0x2bd)]+_0x5f0728(0x746)+_0x272512['id']+'\x20:\x20'+(_0x272512[_0x5f0728(0x606)]!==void 0x0?_0x272512[_0x5f0728(0x606)]:_0x5f0728(0x53f))),_0x191189[_0x5f0728(0x606)]=_0x272512[_0x5f0728(0x606)]===null?0x0:_0x272512[_0x5f0728(0x606)],_0x32ef00=!0x0);let _0x3d4077;_0x32ef00&&(_0x3d4077=await this[_0x5f0728(0x1e2)][_0x5f0728(0x3b6)][_0x5f0728(0x68c)]({'where':{'_id':_0x272512['id']}},_0x191189,this['instance'][_0x5f0728(0x2bd)])),_0x3d4077&&J(this['instanceName'],_0x5f0728(0x596),{'chat':_0x3d4077});}},'chats.delete':async _0x4a87b9=>{const _0x1e1b90=_0x24be48;for(let _0x962faf of _0x4a87b9)if(_0x962faf[_0x1e1b90(0x55e)](_0x1e1b90(0x703))){await this[_0x1e1b90(0x1e2)][_0x1e1b90(0x3b6)][_0x1e1b90(0x72e)]({'where':{'_id':_0x962faf}},this[_0x1e1b90(0x848)][_0x1e1b90(0x2bd)]);let _0x5cc477={'where':{'key':{'remoteJid':_0x962faf}}};await this[_0x1e1b90(0x1e2)][_0x1e1b90(0x3e1)][_0x1e1b90(0x72e)](_0x5cc477,this['instance'][_0x1e1b90(0x2bd)]);}else{await this['repository'][_0x1e1b90(0x3b6)]['updateOne']({'where':{'_id':_0x962faf}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x1e1b90(0x848)][_0x1e1b90(0x2bd)]);let _0x6e8831={'where':{'key':{'remoteJid':_0x962faf}}};await this['repository']['message']['delete'](_0x6e8831,this[_0x1e1b90(0x848)][_0x1e1b90(0x2bd)]);}this[_0x1e1b90(0x7eb)](_0x1e1b90(0x375),[..._0x4a87b9]);}},this[_0x24be48(0x341)]={'contacts.upsert':async(_0x1aaf5e,_0x30c5db)=>{const _0x11958c=_0x24be48;let _0x497a15=await this[_0x11958c(0x1e2)]['contact']['find']({'where':{}},this['instance'][_0x11958c(0x2bd)]),_0xc2c1ef=[];for await(let _0x26d5f4 of _0x1aaf5e)_0x497a15[_0x11958c(0x288)](_0x246f87=>_0x246f87[_0x11958c(0x68e)]===_0x26d5f4['id'])||_0xc2c1ef[_0x11958c(0x65e)]({'_id':_0x26d5f4['id'],'pushName':_0x26d5f4?.[_0x11958c(0x452)]||_0x26d5f4?.[_0x11958c(0x780)],'owner':this[_0x11958c(0x848)][_0x11958c(0x2bd)]});this[_0x11958c(0x7eb)](_0x11958c(0x1ca),_0xc2c1ef),await this[_0x11958c(0x1e2)][_0x11958c(0x1b1)][_0x11958c(0x1bc)](_0xc2c1ef);},'contacts.update':async(_0x4cd33c,_0x596337)=>{const _0x5992da=_0x24be48;let _0x4611ef=[];for await(let _0x28d356 of _0x4cd33c)_0x4611ef[_0x5992da(0x65e)]({'_id':_0x28d356['id'],'pushName':_0x28d356?.['name']??_0x28d356?.[_0x5992da(0x780)],'owner':this[_0x5992da(0x848)]['wuid']});this[_0x5992da(0x7eb)](_0x5992da(0x7cb),_0x4611ef);}},this[_0x24be48(0x40f)]={'messaging-history.set':async({messages:_0x235022,chats:_0x3a538d,isLatest:_0x32068c},_0xa63e7)=>{const _0x549c70=_0x24be48;if(_0x32068c){let _0x2e3c12=await Promise['all'](_0x3a538d['map'](async _0x1064ad=>({'_id':_0x1064ad['id'],'owner':this[_0x549c70(0x848)]['wuid'],'group':_0x1064ad['id'][_0x549c70(0x55e)](_0x549c70(0x703)),'name':_0x1064ad[_0x549c70(0x452)]||_0x1064ad[_0x549c70(0x3fe)]||_0x1064ad[_0x549c70(0x215)]||null,'contactname':null,'lastmsg':_0x1064ad['conversationTimestamp']&&_0x1064ad[_0x549c70(0x44c)][_0x549c70(0x76f)]()[_0x549c70(0x62e)]<0xd?_0x1064ad[_0x549c70(0x44c)]*0x3e8:_0x1064ad[_0x549c70(0x44c)]||null,'archived':_0x1064ad[_0x549c70(0x79e)]||!0x1,'unreadcount':_0x1064ad[_0x549c70(0x3e3)]||0x0,'ephemeralExpiration':_0x1064ad[_0x549c70(0x606)]||0x0,'muteEndTime':_0x1064ad[_0x549c70(0x3a8)]||0x0})));this['sendDataWebhook'](_0x549c70(0x803),_0x2e3c12),await this[_0x549c70(0x294)](_0x2e3c12,_0xa63e7);}let _0x11de90=[],_0x46f5e7=Date[_0x549c70(0x80b)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x4cb271]of Object['entries'](_0x235022)){if(_0x4cb271['message']?.[_0x549c70(0x770)]||_0x4cb271[_0x549c70(0x3e1)]?.[_0x549c70(0x641)]||!_0x4cb271['message']||_0x4cb271[_0x549c70(0x7dd)]['remoteJid']===_0x549c70(0x443)||(Ts[_0x549c70(0x6f9)][_0x549c70(0x64e)](_0x4cb271?.['messageTimestamp'])&&(_0x4cb271[_0x549c70(0x6cb)]=_0x4cb271[_0x549c70(0x6cb)]?.[_0x549c70(0x15e)]()),_0x4cb271[_0x549c70(0x6cb)]&&_0x4cb271[_0x549c70(0x6cb)][_0x549c70(0x76f)]()['length']<0xd&&(_0x4cb271[_0x549c70(0x6cb)]=_0x4cb271[_0x549c70(0x6cb)]*0x3e8),_0x4cb271[_0x549c70(0x6cb)]<_0x46f5e7))continue;let _0x554b4e=(0x0,w['normalizeMessageContent'])(_0x4cb271['message']),_0x872ea9=(0x0,w[_0x549c70(0x7d2)])(_0x554b4e),{message_normalized:_0x30a3dd}=this[_0x549c70(0x151)](_0x554b4e,_0x872ea9,null);Object[_0x549c70(0x4a9)](_0x30a3dd)['length']>0x0&&_0x11de90[_0x549c70(0x65e)]({'_id':_0x4cb271['key']['id'],'key':_0x4cb271[_0x549c70(0x7dd)],'pushName':_0x4cb271['pushName'],'participant':_0x4cb271[_0x549c70(0x653)],'message':_0x554b4e,'messageType':_0x872ea9,'message_normalized':{'key':_0x4cb271[_0x549c70(0x7dd)],'pushName':_0x4cb271[_0x549c70(0x6a9)],'messageTimestamp':_0x4cb271[_0x549c70(0x6cb)],..._0x30a3dd},'messageTimestamp':_0x4cb271['messageTimestamp'],'owner':this[_0x549c70(0x848)][_0x549c70(0x2bd)]});}_0xa63e7['ENABLED']&&_0x11de90[_0x549c70(0x62e)]>0x0&&(this[_0x549c70(0x392)][_0x549c70(0x57c)](this[_0x549c70(0x156)]+'\x20('+this[_0x549c70(0x848)][_0x549c70(0x2bd)]+_0x549c70(0x69f)+_0x11de90[_0x549c70(0x62e)]+_0x549c70(0x196)+this[_0x549c70(0x848)][_0x549c70(0x2bd)]+_0x549c70(0x5ad)),await this[_0x549c70(0x1e2)][_0x549c70(0x3e1)][_0x549c70(0x1bc)]([..._0x11de90],this['instance'][_0x549c70(0x2bd)])),this[_0x549c70(0x7eb)](_0x549c70(0x4ee),[..._0x11de90]),_0x235022=void 0x0;},'messages.upsert':async({messages:_0x2c13b2,type:_0xa7f7a2},_0x136af0)=>{const _0x538e5b=_0x24be48;let _0x44e567=_0x2c13b2[0x0],_0x4d37a1=_0x44e567[_0x538e5b(0x859)]&&_0x44e567[_0x538e5b(0x859)][0x0]===_0x538e5b(0x835);if(this[_0x538e5b(0x350)]?.[_0x538e5b(0x5bc)]&&_0x44e567[_0x538e5b(0x7dd)][_0x538e5b(0x1e8)][_0x538e5b(0x5d9)](_0x538e5b(0x703))){this[_0x538e5b(0x392)][_0x538e5b(0x57c)](this[_0x538e5b(0x156)]+'\x20('+this['instance'][_0x538e5b(0x2bd)]+_0x538e5b(0x160));return;}if(_0x4d37a1){for(let _0x1686b2=0x0;_0x1686b2<0x5;_0x1686b2++)try{await this[_0x538e5b(0x39e)][_0x538e5b(0x65a)](JSON['parse'](_0x44e567[_0x538e5b(0x859)][0x1],w['BufferJSON'][_0x538e5b(0x326)])),this[_0x538e5b(0x392)][_0x538e5b(0x4a0)](this[_0x538e5b(0x156)]+'\x20('+this[_0x538e5b(0x848)][_0x538e5b(0x2bd)]+'):\x20Mensagem\x20recuperada\x20após\x20'+(_0x1686b2+0x1)+'\x20tentativas.\x20(ID:\x20'+_0x44e567[_0x538e5b(0x7dd)]['id']+_0x538e5b(0x3fb)+_0x44e567[_0x538e5b(0x7dd)][_0x538e5b(0x1e8)]+')');break;}catch(_0x21c732){if(this[_0x538e5b(0x392)]['error'](this[_0x538e5b(0x156)]+'\x20('+this[_0x538e5b(0x848)][_0x538e5b(0x2bd)]+_0x538e5b(0x33b)+(_0x1686b2+0x1)+_0x538e5b(0x2dc)+_0x44e567[_0x538e5b(0x7dd)]['id']+'\x20-\x20JID:\x20'+_0x44e567[_0x538e5b(0x7dd)][_0x538e5b(0x1e8)]+')'),_0x1686b2===0x4)throw _0x21c732;await new Promise(_0x507848=>setTimeout(_0x507848,0x7d0));}}if(_0xa7f7a2!=='notify'||!_0x44e567?.['message']||_0x44e567['message']?.[_0x538e5b(0x770)]||_0x44e567[_0x538e5b(0x3e1)][_0x538e5b(0x641)]||_0x44e567['key']['remoteJid']===_0x538e5b(0x443))return;let _0x4dfd2b=null,_0x37a2b7=null;try{_0x4dfd2b=await this[_0x538e5b(0x40a)](_0x44e567),_0x37a2b7=_0x4dfd2b?_0x4dfd2b[_0x538e5b(0x619)](','):null;}catch(_0x37fc25){this[_0x538e5b(0x392)][_0x538e5b(0x57c)](this[_0x538e5b(0x156)]+'\x20('+this[_0x538e5b(0x848)]['wuid']+_0x538e5b(0x69f)+(_0x37fc25 instanceof Error?_0x37fc25[_0x538e5b(0x3e1)]:JSON['stringify'](_0x37fc25,null,0x2))),_0x37a2b7=_0x538e5b(0x320);}this['client'][_0x538e5b(0x4ab)](_0x538e5b(0x783)),Ts[_0x538e5b(0x6f9)][_0x538e5b(0x64e)](_0x44e567['messageTimestamp'])&&(_0x44e567[_0x538e5b(0x6cb)]=_0x44e567['messageTimestamp']?.[_0x538e5b(0x15e)]()),_0x44e567[_0x538e5b(0x6cb)]&&_0x44e567[_0x538e5b(0x6cb)]['toString']()['length']<0xd&&(_0x44e567['messageTimestamp']=_0x44e567['messageTimestamp']*0x3e8);let _0x33e6b5=_0x44e567[_0x538e5b(0x3e1)],_0x51b5df=(0x0,w[_0x538e5b(0x20d)])(_0x33e6b5),_0x414c33=(0x0,w['getContentType'])(_0x51b5df),{messageContent:_0x4fe2a4,message_normalized:_0x193695}=this[_0x538e5b(0x151)](_0x51b5df,_0x414c33,_0x37a2b7);_0x414c33===_0x538e5b(0x770)&&_0x4fe2a4?.[_0x538e5b(0x3ed)]&&(_0x414c33=_0x538e5b(0x3ed));let _0x3d9d1c,_0x48fd84=_0x44e567['key']['remoteJid'][_0x538e5b(0x55e)](_0x538e5b(0x703));if(_0x44e567[_0x538e5b(0x7dd)][_0x538e5b(0x483)])_0x3d9d1c=this[_0x538e5b(0x848)][_0x538e5b(0x2cf)];else{let _0x13f670=_0x48fd84?_0x44e567[_0x538e5b(0x7dd)][_0x538e5b(0x653)]:_0x44e567[_0x538e5b(0x7dd)][_0x538e5b(0x1e8)];_0x3d9d1c=(await this[_0x538e5b(0x6d7)](_0x13f670,_0x44e567[_0x538e5b(0x6a9)],!0x1))['cachedContact'][_0x538e5b(0x237)];}let _0x546f5a={'_id':_0x44e567['key']['id'],'key':_0x44e567[_0x538e5b(0x7dd)],'isGroup':_0x48fd84,'profilePictureUrl':_0x3d9d1c,'pushName':_0x44e567['pushName'],'message':_0x51b5df,'messageType':_0x414c33,'message_normalized':{'key':_0x44e567[_0x538e5b(0x7dd)],'pushName':_0x44e567['pushName'],'messageTimestamp':_0x44e567[_0x538e5b(0x6cb)],'source':(0x0,w[_0x538e5b(0x3a9)])(_0x44e567[_0x538e5b(0x7dd)]['id']),..._0x193695},'messageTimestamp':_0x44e567[_0x538e5b(0x6cb)],'owner':this[_0x538e5b(0x848)][_0x538e5b(0x2bd)],'source':(0x0,w[_0x538e5b(0x3a9)])(_0x44e567[_0x538e5b(0x7dd)]['id']),'expiration':_0x4fe2a4?.[_0x538e5b(0x254)]?.[_0x538e5b(0x371)]||0x0};_0x4fe2a4||(console[_0x538e5b(0x819)](_0x538e5b(0x408)),console['error'](_0x546f5a)),this[_0x538e5b(0x392)][_0x538e5b(0x61f)](this['instanceName']+'\x20('+this[_0x538e5b(0x848)]['wuid']+_0x538e5b(0x69f)+(_0x546f5a[_0x538e5b(0x7dd)]?.[_0x538e5b(0x483)]?_0x538e5b(0x221):_0x538e5b(0x445))+'\x20['+_0x546f5a[_0x538e5b(0x7dd)]?.['remoteJid']['replace'](_0x538e5b(0x7c8),'')+']\x20('+_0x546f5a[_0x538e5b(0x71f)]+')'),_0x546f5a['message_normalized']?.['text']&&this[_0x538e5b(0x392)][_0x538e5b(0x61f)](_0x44e567['key']['id']+':\x20'+_0x546f5a[_0x538e5b(0x23d)]?.[_0x538e5b(0x346)]),await this[_0x538e5b(0x1e2)]['message']['insert']([_0x546f5a],this[_0x538e5b(0x848)][_0x538e5b(0x2bd)]),this[_0x538e5b(0x7eb)]('messages.upsert',_0x546f5a),J(this['instanceName'],_0x538e5b(0x6e9),{'message':_0x546f5a}),_0x44e567[_0x538e5b(0x7dd)][_0x538e5b(0x1e8)]!==_0x538e5b(0x443)&&await this['updateChatWithMessage'](_0x136af0,_0x546f5a,'MESSAGES_UPSERT');},'messages.update':async(_0x3835df,_0x586db2)=>{const _0x18330=_0x24be48;let _0x34c3fe={0x0:_0x18330(0x3ea),0x1:_0x18330(0x51e),0x2:_0x18330(0x65c),0x3:_0x18330(0x53d),0x4:_0x18330(0x28b),0x5:_0x18330(0x555)};for await(let {key:_0x2a5531,update:_0x36c158}of _0x3835df){if(this['localWebhook']?.['groups_ignore']&&_0x2a5531[_0x18330(0x1e8)][_0x18330(0x5d9)](_0x18330(0x703))){this[_0x18330(0x392)]['verbose'](this[_0x18330(0x156)]+'\x20('+this[_0x18330(0x848)][_0x18330(0x2bd)]+_0x18330(0x6ac));return;}if(_0x2a5531[_0x18330(0x1e8)]!==_0x18330(0x443)){let _0x45d7c5=Date['now'](),_0xd2d55f;_0x36c158[_0x18330(0x3e1)]===null&&_0x36c158[_0x18330(0x228)]===void 0x0?_0xd2d55f=_0x18330(0x827):_0xd2d55f=_0x34c3fe[_0x36c158['status']];let _0x34fab8=_0x2a5531['remoteJid'][_0x18330(0x38e)](/:\d{1,2}@/g,'@'),_0x3bd35a={..._0x2a5531,'remoteJid':_0x34fab8,'status':_0xd2d55f,'datetime':_0x45d7c5,'owner':this[_0x18330(0x848)][_0x18330(0x2bd)]};this[_0x18330(0x7eb)](_0x18330(0x836),_0x3bd35a),await this[_0x18330(0x166)](_0x2a5531,_0x3bd35a);}}},'labels.association':async({type:_0x1bb9a0,association:_0x34f419})=>{const _0x1c5155=_0x24be48;if(_0x34f419[_0x1c5155(0x599)]==='label_jid'){let _0x356e0c,_0x177584=0x0;for(;!_0x356e0c&&_0x177584<this[_0x1c5155(0x1cb)];)_0x356e0c=await this[_0x1c5155(0x1e2)][_0x1c5155(0x3b6)][_0x1c5155(0x49c)]({'where':{'_id':_0x34f419[_0x1c5155(0x83d)]}},this[_0x1c5155(0x848)][_0x1c5155(0x2bd)]),_0x356e0c||(_0x177584++,this[_0x1c5155(0x392)][_0x1c5155(0x4a0)](this[_0x1c5155(0x156)]+'\x20('+this['instance']['wuid']+'):\x20Chat\x20'+_0x34f419['chatId']+_0x1c5155(0x450)+this[_0x1c5155(0x4f0)]+_0x1c5155(0x628)+_0x177584+'/'+this[_0x1c5155(0x1cb)]+')'),await this[_0x1c5155(0x514)](this[_0x1c5155(0x4f0)]));if(!_0x356e0c){console['error'](_0x1c5155(0x577)+_0x34f419[_0x1c5155(0x83d)]+_0x1c5155(0x560)+this['delayChatLabel_MAX_RETRIES']+_0x1c5155(0x1dd));return;}switch(_0x1bb9a0){case'add':console[_0x1c5155(0x61f)](_0x34f419),await this[_0x1c5155(0x1e2)]['chat']['updateOne']({'where':{'_id':_0x34f419[_0x1c5155(0x83d)]}},{'leadInfo.etiquetas':_0x34f419['labelId']},this[_0x1c5155(0x848)][_0x1c5155(0x2bd)],void 0x0,_0x1c5155(0x1ba));break;case'remove':console[_0x1c5155(0x61f)](_0x34f419),await this[_0x1c5155(0x1e2)][_0x1c5155(0x3b6)]['updateOne']({'where':{'_id':_0x34f419['chatId']}},{'leadInfo.etiquetas':_0x34f419[_0x1c5155(0x714)]},this[_0x1c5155(0x848)][_0x1c5155(0x2bd)],void 0x0,'$pull');break;default:console[_0x1c5155(0x819)]('unknown\x20operation\x20type\x20['+_0x1bb9a0+']');}}},'labels.edit':async _0x5ad895=>{const _0x2e9683=_0x24be48;if(!_0x5ad895||!_0x5ad895['id']){console[_0x2e9683(0x819)](_0x2e9683(0x1bf));return;}if(!_0x5ad895[_0x2e9683(0x495)]){let _0x103cc9=[_0x2e9683(0x683),_0x2e9683(0x57d),_0x2e9683(0x339),'#dfaef0',_0x2e9683(0x7b8),_0x2e9683(0x38b),'#fe9dfe','#d3a91f','#6f7bcf',_0x2e9683(0x154),_0x2e9683(0x2ae),_0x2e9683(0x187),_0x2e9683(0x659),_0x2e9683(0x7b4),_0x2e9683(0x425),_0x2e9683(0x39b),_0x2e9683(0x359),'#b4ebff','#9ba6ff','#9568cf'],_0x2956e8;typeof _0x5ad895['color']==_0x2e9683(0x36e)&&_0x5ad895['color']>=0x0&&_0x5ad895[_0x2e9683(0x59d)]<_0x103cc9[_0x2e9683(0x62e)]?_0x2956e8=_0x103cc9[_0x5ad895[_0x2e9683(0x59d)]]:(console[_0x2e9683(0x819)]('Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:',_0x5ad895[_0x2e9683(0x59d)]),_0x2956e8=_0x2e9683(0x41c));let _0x5b04fb={'_id':_0x5ad895['id'],'colorHex':_0x2956e8,'color':_0x5ad895?.['color'],'name':_0x5ad895?.[_0x2e9683(0x452)],'owner':this['instance']['wuid']};await this[_0x2e9683(0x1e2)]['label'][_0x2e9683(0x68c)]({'where':{'_id':_0x5ad895['id']}},_0x5b04fb,this[_0x2e9683(0x848)][_0x2e9683(0x2bd)]),this['logger'][_0x2e9683(0x4a0)](this[_0x2e9683(0x156)]+'\x20('+this[_0x2e9683(0x848)][_0x2e9683(0x2bd)]+'):\x20Rótulo\x20atualizado:\x20'+_0x5ad895);}_0x5ad895[_0x2e9683(0x495)]&&(await this[_0x2e9683(0x1e2)][_0x2e9683(0x488)][_0x2e9683(0x72e)]({'where':{'_id':_0x5ad895['id']}},this['instance'][_0x2e9683(0x2bd)]),this[_0x2e9683(0x392)][_0x2e9683(0x4a0)](_0x2e9683(0x480)+_0x5ad895['id']));}},this[_0x24be48(0x6ea)]={'groups.upsert':async _0x245811=>{const _0x4ee45c=_0x24be48;this[_0x4ee45c(0x350)]?.[_0x4ee45c(0x5bc)]||this[_0x4ee45c(0x7eb)](_0x4ee45c(0x270),_0x245811);for(let _0x4b073b of _0x245811)await this[_0x4ee45c(0x21b)](_0x4b073b);},'groups.update':async _0x19cb4d=>{const _0x22a9d5=_0x24be48;this[_0x22a9d5(0x350)]?.[_0x22a9d5(0x5bc)]||this[_0x22a9d5(0x7eb)](_0x22a9d5(0x725),_0x19cb4d);for(let _0x1c1ac3 of _0x19cb4d)await this[_0x22a9d5(0x21b)](_0x1c1ac3);},'group-participants.update':async _0x1e9ca1=>{const _0x46bfc8=_0x24be48;this['localWebhook']?.[_0x46bfc8(0x5bc)]||this[_0x46bfc8(0x7eb)](_0x46bfc8(0x19c),_0x1e9ca1),await this[_0x46bfc8(0x2ab)](_0x1e9ca1);}},this[_0x24be48(0x1cb)]=0x5,this[_0x24be48(0x4f0)]=0x1388,this[_0x24be48(0x40a)]=async _0x50774c=>{const _0x4a6a82=_0x24be48;if(_0x50774c['message']?.['pollUpdateMessage']){let _0x2473a6=await this[_0x4a6a82(0x4af)](_0x50774c[_0x4a6a82(0x3e1)][_0x4a6a82(0x482)][_0x4a6a82(0x529)],!0x0);if(_0x2473a6){let _0x3febc8=_0x2473a6[_0x4a6a82(0x7dd)][_0x4a6a82(0x483)]?this[_0x4a6a82(0x848)]['wuid']+_0x4a6a82(0x7c8):_0x2473a6[_0x4a6a82(0x7dd)][_0x4a6a82(0x653)]||_0x2473a6[_0x4a6a82(0x7dd)][_0x4a6a82(0x1e8)],_0x99a5cd=_0x2473a6[_0x4a6a82(0x7dd)]['id'],_0x5ce0bc=_0x2473a6[_0x4a6a82(0x3e1)],_0x41e571=Buffer[_0x4a6a82(0x7fb)](_0x5ce0bc[_0x4a6a82(0x741)][_0x4a6a82(0x7cf)][_0x4a6a82(0x76f)]('hex'),_0x4a6a82(0x4d9)),_0x1d70f8=(0x0,w['decryptPollVote'])(_0x50774c[_0x4a6a82(0x3e1)]['pollUpdateMessage']['vote'],{'pollCreatorJid':_0x3febc8,'pollMsgId':_0x99a5cd,'pollEncKey':_0x41e571,'voterJid':_0x50774c[_0x4a6a82(0x7dd)][_0x4a6a82(0x483)]?this[_0x4a6a82(0x848)]['wuid']+_0x4a6a82(0x7c8):_0x50774c[_0x4a6a82(0x7dd)][_0x4a6a82(0x1e8)][_0x4a6a82(0x55e)](_0x4a6a82(0x284))?_0x50774c[_0x4a6a82(0x7dd)][_0x4a6a82(0x653)]:_0x50774c[_0x4a6a82(0x7dd)]['remoteJid']}),_0x458cfb=[],_0x2740b0=_0x1d70f8['selectedOptions'][_0x4a6a82(0x261)](_0x3c6127=>Buffer['from'](_0x3c6127)['toString']('hex'));for(let {optionName:_0x4d4121}of _0x5ce0bc['pollCreationMessage']?.[_0x4a6a82(0x3c8)]||_0x5ce0bc[_0x4a6a82(0x407)]?.[_0x4a6a82(0x3c8)]||_0x5ce0bc[_0x4a6a82(0x608)]?.[_0x4a6a82(0x3c8)])_0x2740b0['indexOf']((0x0,w[_0x4a6a82(0x3f4)])(Buffer[_0x4a6a82(0x7fb)](_0x4d4121))[_0x4a6a82(0x76f)](_0x4a6a82(0x4d9)))>-0x1&&_0x458cfb[_0x4a6a82(0x65e)](_0x4d4121);return _0x458cfb;}}return null;},this[_0x24be48(0x151)]=(_0xcb4b92,_0x3805ce,_0x2875df)=>{const _0x159367=_0x24be48;try{let _0x50b357=_0xcb4b92?(0x0,w[_0x159367(0x27d)])(_0xcb4b92)[_0x3805ce]:void 0x0,_0x3111ab={},_0x1a1649=null,_0x3d5fa8=null,_0x39fbaf=null;_0x3805ce===_0x159367(0x770)&&_0x50b357?.[_0x159367(0x3ed)]&&(_0x3805ce=(0x0,w[_0x159367(0x7d2)])(_0x50b357['editedMessage']),_0x1a1649=_0xcb4b92['protocolMessage'][_0x159367(0x7dd)]['id'],_0x50b357=_0xcb4b92['protocolMessage']['editedMessage'][_0x3805ce]),_0xcb4b92[_0x3805ce]?.[_0x159367(0x254)]?.['stanzaId']&&_0xcb4b92[_0x3805ce]?.[_0x159367(0x254)]?.[_0x159367(0x1a4)]&&(_0x3d5fa8=_0xcb4b92[_0x3805ce][_0x159367(0x254)]['stanzaId']),_0xcb4b92[_0x159367(0x214)]&&(_0x39fbaf=_0xcb4b92['reactionMessage'][_0x159367(0x7dd)]['id']);let _0xd656e4;if(_0x50b357&&typeof _0x50b357==_0x159367(0x232)&&_0x159367(0x529)in _0x50b357&&({pollCreationMessageKey:_0xd656e4}=_0x50b357),_0x3805ce===_0x159367(0x7b0)||_0x3805ce===_0x159367(0x608)||_0x3805ce===_0x159367(0x407)){let _0x4e18cb=_0x50b357[_0x159367(0x3c8)][_0x159367(0x261)](_0x10f4fa=>_0x10f4fa[_0x159367(0x38d)])[_0x159367(0x619)]('|');_0x3111ab[_0x159367(0x718)]=_0x4e18cb;}let _0xaab845='';if(_0x50b357&&(_0xaab845+=_0x50b357[_0x159367(0x452)]?_0x50b357[_0x159367(0x452)]:'',_0xaab845+=_0x50b357[_0x159367(0x2eb)]?'\x20'+_0x50b357[_0x159367(0x2eb)]:'',_0xaab845+=_0x50b357[_0x159367(0x5aa)]?'\x20'+_0x50b357['conversation']:'',_0xaab845+=_0x50b357[_0x159367(0x3fe)]?'\x20'+_0x50b357['displayName']:''),_0x3805ce==='listMessage'){_0xaab845=(_0x50b357[_0x159367(0x598)]||'')+'\x0a'+(_0x50b357[_0x159367(0x46b)]||'')+'\x0a'+(_0x50b357[_0x159367(0x20c)]||'');let _0x176605=this[_0x159367(0x331)](_0x50b357[_0x159367(0x167)]);_0x3111ab[_0x159367(0x718)]=_0x176605;}if(_0x3805ce==='listResponseMessage'&&(_0x2875df=_0x50b357[_0x159367(0x598)]),_0x50b357&&_0x50b357['vcard']){let _0x302ce4=this[_0x159367(0x50f)](JSON[_0x159367(0x395)](_0x50b357['vcard'],null,0x2));_0xaab845=_0xaab845+'\x0a'+_0x302ce4;}if(_0x50b357){let {sections:_0x316751,listType:_0x41135a,displayName:_0x43fe43,vcard:_0x225cfc,contactVcard:_0x3c5b46,name:_0x24f3ee,caption:_0x187324,conversation:_0x380bae,pollCreationMessageKey:_0x2e2051,footerText:_0x5c4871,contentText:_0x2ab5f9,pageCount:_0x5d477c,headerType:_0x22bc01,isAvatar:_0x360b80,isAnimated:_0x876da9,fallbackLc:_0x124a9e,fallbackLg:_0x4905b5,namespace:_0x210367,elementName:_0x119780,localizableParams:_0x3982e4,viewOnce:_0x17d360,height:_0x199c5c,width:_0x1a5d65,key:_0x58a17d,firstScanLength:_0x5b94a9,firstScanSidecar:_0x166ba5,gifPlayback:_0x1195c7,gifAttribution:_0x5d78de,midQualityFileSha256:_0x5d8734,scansSidecar:_0x32c021,streamingSidecar:_0x5441a1,thumbnailHeight:_0x23a2e4,thumbnailWidth:_0x51b558,thumbnailEncSha256:_0x96e8f9,thumbnailDirectPath:_0x15b7d8,canonicalUrl:_0x162596,matchedText:_0xd10f12,previewType:_0xe9c772,thumbnailSha256:_0x2d1285,deviceListMetadataVersion:_0x395a45,inviteLinkGroupTypeV2:_0x36f864,interactiveAnnotations:_0xef275b,scanLengths:_0x396dc9,jpegThumbnail:_0x27c97d,url:_0x4cfe15,mediaKeyTimestamp:_0x3a3789,waveform:_0x2fabe9,stickerSentTs:_0x3b09e8,firstFrameLength:_0x26dc0b,fileEncSha256:_0x27ed42,contextInfo:_0x37931a,firstFrameSidecar:_0x27bf5c,directPath:_0x287f8f,fileSha256:_0x18dcc5,mediaKey:_0x25ee29,senderTimestampMs:_0x2edc72,..._0x384e08}=_0x50b357;(_0x3805ce==='listMessage'||_0x3805ce===_0x159367(0x352))&&(delete _0x384e08[_0x159367(0x598)],delete _0x384e08['description']),typeof _0x50b357==_0x159367(0x681)?_0x3111ab={'text':_0x50b357,'type':_0x3805ce||_0x159367(0x5aa),..._0x1a1649&&{'edited':_0x1a1649},..._0x3d5fa8&&{'quoted':_0x3d5fa8},..._0x39fbaf&&{'reaction':_0x39fbaf}}:_0x3111ab={'text':_0xaab845,..._0x384e08,..._0x3805ce===_0x159367(0x482)?{'poll_id':_0x50b357[_0x159367(0x529)]['id'],'quoted':_0x50b357[_0x159367(0x529)]['id'],'vote':_0x2875df}:{},..._0x3805ce==='listResponseMessage'?{'vote':_0x2875df}:{},'type':_0x3805ce,..._0x1a1649&&{'edited':_0x1a1649},..._0x3d5fa8&&{'quoted':_0x3d5fa8},..._0x39fbaf&&{'reaction':_0x39fbaf},...(_0x3805ce===_0x159367(0x7b0)||_0x3805ce==='pollCreationMessageV2'||_0x3805ce===_0x159367(0x407)||_0x3805ce===_0x159367(0x685))&&{'convertedOptions':_0x3111ab[_0x159367(0x718)]}};}return{'messageType':_0x3805ce,'messageContent':_0x50b357,'message_normalized':_0x3111ab};}catch(_0xa4e0d9){return console['error']('Erro\x20ao\x20normalizar\x20a\x20mensagem:',_0xa4e0d9),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x24be48(0x604)](),this['instance'][_0x24be48(0x7a9)]={'count':0x0},this[_0x24be48(0x848)][_0x24be48(0x17f)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set['instanceName'](_0x382ddb){const _0x35a943=a0_0x26e249;if(!_0x382ddb){this[_0x35a943(0x848)][_0x35a943(0x452)]=(0x0,bi['v4'])();return;}this['instance'][_0x35a943(0x452)]=_0x382ddb,this[_0x35a943(0x7eb)]('status.instance',{'instance':this['instance'][_0x35a943(0x452)],'status':_0x35a943(0x5eb)});}get['instanceName'](){const _0x357d10=a0_0x26e249;return this[_0x357d10(0x848)]['name'];}get[a0_0x26e249(0x2bd)](){const _0xdf46d1=a0_0x26e249;return this[_0xdf46d1(0x848)][_0xdf46d1(0x2bd)];}async[a0_0x26e249(0x15d)](){const _0x3b7d0b=a0_0x26e249;let _0x4bb142=this['client'][_0x3b7d0b(0x4f1)]?.[_0x3b7d0b(0x452)]??this[_0x3b7d0b(0x39e)][_0x3b7d0b(0x4f1)]?.[_0x3b7d0b(0x780)];if(!_0x4bb142){if(this[_0x3b7d0b(0x189)][_0x3b7d0b(0x6c0)]('DATABASE')['ENABLED']){let _0x348e7f=await $[_0x3b7d0b(0x332)]()['db'](this[_0x3b7d0b(0x189)][_0x3b7d0b(0x6c0)](_0x3b7d0b(0x505))['CONNECTION'][_0x3b7d0b(0x7c1)]+_0x3b7d0b(0x78e))[_0x3b7d0b(0x2da)](this['instanceName'])[_0x3b7d0b(0x49c)]({'_id':_0x3b7d0b(0x719)});if(_0x348e7f){let _0x500d26=JSON[_0x3b7d0b(0x311)](JSON['stringify'](_0x348e7f),w[_0x3b7d0b(0x2af)][_0x3b7d0b(0x326)]);_0x4bb142=_0x500d26['me']?.[_0x3b7d0b(0x452)]||_0x500d26['me']?.[_0x3b7d0b(0x780)];}}else{if((0x0,xe[_0x3b7d0b(0x743)])((0x0,F[_0x3b7d0b(0x619)])(me,this[_0x3b7d0b(0x156)],_0x3b7d0b(0x2ba)))){let _0x4ff2fd=JSON[_0x3b7d0b(0x311)]((0x0,xe[_0x3b7d0b(0x592)])((0x0,F['join'])(me,this[_0x3b7d0b(0x156)],'creds.json'),{'encoding':_0x3b7d0b(0x2c4)}));_0x4bb142=_0x4ff2fd['me']?.[_0x3b7d0b(0x452)]||_0x4ff2fd['me']?.[_0x3b7d0b(0x780)];}}}return _0x4bb142;}get[a0_0x26e249(0x2cf)](){return this['instance']['profilePictureUrl'];}get[a0_0x26e249(0x244)](){const _0x50793a=a0_0x26e249;return this['instance'][_0x50793a(0x7a9)]?.[_0x50793a(0x6be)]?{'pairingCode':this['instance'][_0x50793a(0x7a9)]?.[_0x50793a(0x6be)]}:{'code':this[_0x50793a(0x848)][_0x50793a(0x7a9)]?.[_0x50793a(0x23c)],'base64':this['instance'][_0x50793a(0x7a9)]?.[_0x50793a(0x5e7)]};}async[a0_0x26e249(0x35c)](){const _0xad3a60=a0_0x26e249;let _0x4b97a3=await this[_0xad3a60(0x1e2)][_0xad3a60(0x7ee)][_0xad3a60(0x288)](this[_0xad3a60(0x156)]);this[_0xad3a60(0x350)][_0xad3a60(0x2fa)]=_0x4b97a3?.[_0xad3a60(0x2fa)],this[_0xad3a60(0x350)][_0xad3a60(0x46e)]=_0x4b97a3?.['enabled'],this[_0xad3a60(0x350)][_0xad3a60(0x492)]=_0x4b97a3?.[_0xad3a60(0x492)],this[_0xad3a60(0x350)][_0xad3a60(0x4d5)]=_0x4b97a3?.[_0xad3a60(0x4d5)],this[_0xad3a60(0x350)][_0xad3a60(0x6d5)]=_0x4b97a3?.['QRCODE_UPDATED'],this['localWebhook'][_0xad3a60(0x73d)]=_0x4b97a3?.[_0xad3a60(0x73d)],this[_0xad3a60(0x350)]['MESSAGES_UPSERT']=_0x4b97a3?.[_0xad3a60(0x23a)],this[_0xad3a60(0x350)][_0xad3a60(0x76c)]=_0x4b97a3?.['MESSAGES_UPDATE'],this['localWebhook'][_0xad3a60(0x521)]=_0x4b97a3?.[_0xad3a60(0x521)],this[_0xad3a60(0x350)][_0xad3a60(0x735)]=_0x4b97a3?.[_0xad3a60(0x735)],this[_0xad3a60(0x350)][_0xad3a60(0x433)]=_0x4b97a3?.[_0xad3a60(0x433)],this[_0xad3a60(0x350)][_0xad3a60(0x48d)]=_0x4b97a3?.['CHATS_SET'],this[_0xad3a60(0x350)]['CHATS_UPSERT']=_0x4b97a3?.[_0xad3a60(0x190)],this[_0xad3a60(0x350)][_0xad3a60(0x328)]=_0x4b97a3?.[_0xad3a60(0x328)],this[_0xad3a60(0x350)]['CHATS_DELETE']=_0x4b97a3?.[_0xad3a60(0x2fb)],this[_0xad3a60(0x350)][_0xad3a60(0x30a)]=_0x4b97a3?.[_0xad3a60(0x30a)],this[_0xad3a60(0x350)][_0xad3a60(0x212)]=_0x4b97a3?.[_0xad3a60(0x212)],this['localWebhook'][_0xad3a60(0x7f5)]=_0x4b97a3?.[_0xad3a60(0x7f5)],this[_0xad3a60(0x350)][_0xad3a60(0x202)]=_0x4b97a3?.['PRESENCE_UPDATE'],this[_0xad3a60(0x350)][_0xad3a60(0x5da)]=_0x4b97a3?.[_0xad3a60(0x5da)],this[_0xad3a60(0x350)][_0xad3a60(0x1a0)]=_0x4b97a3?.['CONNECTION_UPDATE'],this[_0xad3a60(0x350)][_0xad3a60(0x5bc)]=_0x4b97a3?.['groups_ignore'];}async[a0_0x26e249(0x323)](_0x2b82b6){const _0x28c782=a0_0x26e249;let _0x16cb70=[_0x28c782(0x68e),'url',_0x28c782(0x46e),_0x28c782(0x492),_0x28c782(0x4d5),'QRCODE_UPDATED',_0x28c782(0x76c),_0x28c782(0x23a),_0x28c782(0x73d),_0x28c782(0x521),_0x28c782(0x735),_0x28c782(0x433),_0x28c782(0x48d),_0x28c782(0x190),_0x28c782(0x328),_0x28c782(0x2fb),_0x28c782(0x30a),'CONTACTS_UPSERT',_0x28c782(0x7f5),_0x28c782(0x202),_0x28c782(0x5da),_0x28c782(0x1a0),_0x28c782(0x5bc)],_0x3701af={};return _0x16cb70[_0x28c782(0x522)](_0x31b585=>{_0x2b82b6[_0x31b585]!==void 0x0&&(_0x3701af[_0x31b585]=_0x2b82b6[_0x31b585]);}),_0x3701af[_0x28c782(0x2fa)]&&(_0x3701af[_0x28c782(0x2fa)]=_0x3701af[_0x28c782(0x2fa)]['trim']()),await this[_0x28c782(0x1e2)][_0x28c782(0x7ee)][_0x28c782(0x2e2)](_0x3701af,this['instanceName']),Object[_0x28c782(0x5ec)](this[_0x28c782(0x350)],_0x3701af),await this[_0x28c782(0x1e2)][_0x28c782(0x7ee)]['find'](this[_0x28c782(0x156)]);}async[a0_0x26e249(0x85d)](){const _0x29388d=a0_0x26e249;return await this[_0x29388d(0x1e2)][_0x29388d(0x7ee)][_0x29388d(0x288)](this[_0x29388d(0x156)]);}async[a0_0x26e249(0x7eb)](_0x2cbdaa,_0x3ce0c6){const _0x245c58=a0_0x26e249;let _0x16855c=_0x2cbdaa[_0x245c58(0x38e)](/[\.-]/gm,'_')['toUpperCase'](),_0x153830=this['localWebhook'][_0x245c58(0x46e)]&&(0x0,P[_0x245c58(0x66d)])(this[_0x245c58(0x350)][_0x245c58(0x2fa)])?this[_0x245c58(0x350)][_0x245c58(0x2fa)]+(this[_0x245c58(0x350)][_0x245c58(0x492)]?this['webhookMap'][_0x2cbdaa]:''):null,_0x50497c=this[_0x245c58(0x350)][_0x16855c],_0x52baf7=le&&le[_0x245c58(0x46e)]&&(0x0,P[_0x245c58(0x66d)])(le['url'])?le[_0x245c58(0x2fa)]+(le['local_map']?this[_0x245c58(0x324)][_0x2cbdaa]:''):null,_0x52dfed=le?le[_0x16855c]:null;if(_0x50497c&&_0x153830)try{await K['default'][_0x245c58(0x2e2)]({'baseURL':_0x153830})[_0x245c58(0x854)]('',{'event':_0x2cbdaa,'instance':this['instance'][_0x245c58(0x452)],'apikey':this[_0x245c58(0x848)][_0x245c58(0x22c)],'data':_0x3ce0c6}),this[_0x245c58(0x392)]['log'](this[_0x245c58(0x156)]+'\x20('+this[_0x245c58(0x848)][_0x245c58(0x2bd)]+_0x245c58(0x2d5)+_0x2cbdaa+':\x20'+_0x153830);}catch{this[_0x245c58(0x392)][_0x245c58(0x819)](this['instanceName']+'\x20('+this[_0x245c58(0x848)][_0x245c58(0x2bd)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x2cbdaa+':\x20'+_0x153830);}if(_0x52dfed&&_0x52baf7)try{await K[_0x245c58(0x6f9)][_0x245c58(0x2e2)]({'baseURL':_0x52baf7})[_0x245c58(0x854)]('',{'event':_0x2cbdaa,'instance':this['instance'][_0x245c58(0x452)],'apikey':this['instance'][_0x245c58(0x22c)],'data':_0x3ce0c6}),this[_0x245c58(0x392)][_0x245c58(0x61f)](this['instanceName']+'\x20('+this[_0x245c58(0x848)][_0x245c58(0x2bd)]+_0x245c58(0x81f)+_0x2cbdaa+':\x20'+_0x52baf7);}catch{this[_0x245c58(0x392)][_0x245c58(0x819)](this['instanceName']+'\x20('+this['instance'][_0x245c58(0x2bd)]+_0x245c58(0x26d)+_0x2cbdaa+':\x20'+_0x52baf7);}}async[a0_0x26e249(0x209)]({qr:_0x51f0a5,connection:_0x268983,lastDisconnect:_0x57da31}){const _0x169305=a0_0x26e249;if(_0x51f0a5){if(this['instance'][_0x169305(0x7a9)][_0x169305(0x742)]===Eo)return this[_0x169305(0x7eb)](_0x169305(0x6db),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':w[_0x169305(0x772)][_0x169305(0x42d)]}),this[_0x169305(0x550)]={'state':_0x169305(0x6dd),'statusReason':w[_0x169305(0x772)]['connectionClosed']},this[_0x169305(0x7eb)]('connection.update',{'instance':this[_0x169305(0x848)]['name'],...this['stateConnection']}),this[_0x169305(0x7eb)](_0x169305(0x631),{'instance':this[_0x169305(0x848)][_0x169305(0x452)],'status':_0x169305(0x850)}),this[_0x169305(0x1e2)][_0x169305(0x454)][_0x169305(0x2e2)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x169305(0x848)][_0x169305(0x452)]),this[_0x169305(0x723)]=!0x0,this[_0x169305(0x251)][_0x169305(0x1d9)](_0x169305(0x351),this['instance'][_0x169305(0x452)]);this['instance'][_0x169305(0x7a9)][_0x169305(0x742)]++;let _0x3efae1={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x169305(0x308),'dark':_0x169305(0x41c)}};Si['default'][_0x169305(0x85b)](_0x51f0a5,_0x3efae1,(_0x219330,_0x4b030c)=>{const _0x1eb289=_0x169305;if(_0x219330){this['logger'][_0x1eb289(0x819)](this[_0x1eb289(0x156)]+'\x20('+this['instance'][_0x1eb289(0x2bd)]+_0x1eb289(0x528)+(_0x219330 instanceof Error?_0x219330['message']:JSON[_0x1eb289(0x395)](_0x219330,null,0x2)));return;}this['instance'][_0x1eb289(0x7a9)]['base64']=_0x4b030c,this[_0x1eb289(0x848)][_0x1eb289(0x7a9)][_0x1eb289(0x23c)]=_0x51f0a5,!this[_0x1eb289(0x49e)]&&this['sendDataWebhook'](_0x1eb289(0x6db),{'qrcode':{'instance':this[_0x1eb289(0x848)][_0x1eb289(0x452)],'pairingCode':this['instance']['qrcode']['pairingCode'],'code':_0x51f0a5,'base64':_0x4b030c}});}),this[_0x169305(0x49e)]?this['instance'][_0x169305(0x7a9)][_0x169305(0x6be)]||(await(0x0,w['delay'])(0x7d0),this['instance']['qrcode'][_0x169305(0x6be)]=await this[_0x169305(0x39e)][_0x169305(0x432)](this[_0x169305(0x49e)])):this[_0x169305(0x848)][_0x169305(0x7a9)][_0x169305(0x6be)]=null,Mi[_0x169305(0x6f9)][_0x169305(0x6b4)](_0x51f0a5,{'small':!0x0},_0x5621fc=>this[_0x169305(0x392)][_0x169305(0x61f)](_0x169305(0x4c1)+this['instance'][_0x169305(0x452)]+',\x20qrcodeCount:\x20'+this['instance']['qrcode'][_0x169305(0x742)]+_0x169305(0x21e)+this['instance']['qrcode']['pairingCode']+_0x169305(0x5fc)+_0x5621fc));}if(_0x268983&&(this[_0x169305(0x550)]={'state':_0x268983,'statusReason':_0x57da31?.['error']?.[_0x169305(0x6bf)]?.[_0x169305(0x43b)]??0xc8},this[_0x169305(0x7eb)](_0x169305(0x1f7),{'instance':this[_0x169305(0x848)][_0x169305(0x452)],...this[_0x169305(0x550)]})),_0x268983==='close'){if(this['reconnectAttempts']++,this['reconnectTimestamps'][_0x169305(0x65e)](Date['now']()),this[_0x169305(0x16c)]=this[_0x169305(0x16c)][_0x169305(0x27f)](_0x41fdb7=>Date[_0x169305(0x80b)]()-_0x41fdb7<this['RECONNECT_TIME_FRAME']),_0x57da31[_0x169305(0x819)]?.[_0x169305(0x6bf)]?.[_0x169305(0x43b)]!==w['DisconnectReason']['loggedOut']&&this[_0x169305(0x16c)][_0x169305(0x62e)]<=this['MAX_RECONNECT_ATTEMPTS'])console['log'](this[_0x169305(0x156)]+_0x169305(0x1ec)+this['reconnectAttempts']+'/'+this['MAX_RECONNECT_ATTEMPTS']+_0x169305(0x61a)),console[_0x169305(0x61f)](_0x169305(0x825)),await this[_0x169305(0x3bc)]();else{this[_0x169305(0x7eb)](_0x169305(0x631),{'instance':this[_0x169305(0x848)]['name'],'status':'removed'}),this['instance'][_0x169305(0x17f)][_0x169305(0x2a2)]=!0x1,this[_0x169305(0x1e2)]['webhook'][_0x169305(0x72e)](this['instanceName']),this[_0x169305(0x1e2)]['auth'][_0x169305(0x2e2)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this['instance'][_0x169305(0x452)]);try{this['logger'][_0x169305(0x57c)](this[_0x169305(0x156)]+'\x20('+this['instance'][_0x169305(0x2bd)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x372740=await this['repository']['message'][_0x169305(0x6f0)](this[_0x169305(0x848)][_0x169305(0x2bd)]);_0x372740['success']?this[_0x169305(0x392)][_0x169305(0x57c)](this[_0x169305(0x156)]+'\x20('+this[_0x169305(0x848)]['wuid']+_0x169305(0x5c9)):console['error'](_0x169305(0x184),_0x372740[_0x169305(0x819)]);}catch(_0x20a746){console[_0x169305(0x819)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:',_0x20a746[_0x169305(0x3e1)]);}this[_0x169305(0x848)]['ScheduleMessage']['delayMessage']!==null&&(this[_0x169305(0x392)]['verbose'](this[_0x169305(0x156)]+'\x20('+this[_0x169305(0x848)][_0x169305(0x2bd)]+_0x169305(0x30e)),clearInterval(this[_0x169305(0x848)]['ScheduleMessage'][_0x169305(0x26e)]),this[_0x169305(0x848)][_0x169305(0x17f)][_0x169305(0x26e)]=null),this[_0x169305(0x392)][_0x169305(0x57c)](this[_0x169305(0x156)]+'\x20('+this[_0x169305(0x848)][_0x169305(0x2bd)]+_0x169305(0x755)),this[_0x169305(0x68b)]=null,this['eventEmitter'][_0x169305(0x1d9)]('remove.instance',this[_0x169305(0x848)][_0x169305(0x452)],_0x169305(0x35b)),this[_0x169305(0x39e)]?.['ws']?.['close'](),this[_0x169305(0x39e)]['end'](new Error(_0x169305(0x5e9)));}}if(_0x268983==='open'){this[_0x169305(0x39e)]['ev'][_0x169305(0x6dc)](),this['resetReconnectionVariables'],this[_0x169305(0x848)][_0x169305(0x2bd)]=this['client'][_0x169305(0x4f1)]['id']['replace'](/:\d+/,'')[_0x169305(0x38e)](_0x169305(0x7c8),''),this[_0x169305(0x848)][_0x169305(0x2cf)]=(await this[_0x169305(0x720)](this[_0x169305(0x848)][_0x169305(0x2bd)]+_0x169305(0x7c8)))['profilePictureUrl'],this['repository'][_0x169305(0x454)][_0x169305(0x2e2)]({'online':!0x0,'owner':this[_0x169305(0x848)][_0x169305(0x2bd)],'lastDisconnect':null},this['instance'][_0x169305(0x452)]);let _0x38f792=_0x169305(0x762)+this[_0x169305(0x848)][_0x169305(0x2bd)],_0x6004ce=0x28,_0xfe457c=Math[_0x169305(0x465)]((_0x6004ce-_0x38f792[_0x169305(0x62e)])/0x2),_0x3813e6='\x20'[_0x169305(0x1c3)](_0xfe457c),_0x5406ae='CONECTADO\x20À\x20UAZAPI',_0x418c78=_0x169305(0x24b)+this[_0x169305(0x848)][_0x169305(0x452)],_0xdbf172=(''+_0x3813e6+_0x38f792+_0x3813e6)['padEnd'](_0x6004ce,'\x20'),_0x4d3e8c=(''+_0x3813e6+_0x5406ae+_0x3813e6)[_0x169305(0x5de)](_0x6004ce,'\x20'),_0x5da0a9=(''+_0x3813e6+_0x418c78+_0x3813e6)[_0x169305(0x5de)](_0x6004ce,'\x20'),_0xc9d8c8=Math[_0x169305(0x236)](_0xdbf172['length'],_0x4d3e8c[_0x169305(0x62e)],_0x5da0a9['length']),_0x487199=_0xdbf172[_0x169305(0x5de)](_0xc9d8c8,'\x20'),_0x3b5fe2=_0x4d3e8c[_0x169305(0x5de)](_0xc9d8c8,'\x20'),_0x4cd8a7=_0x5da0a9[_0x169305(0x5de)](_0xc9d8c8,'\x20');this['logger'][_0x169305(0x4a0)]((_0x169305(0x532)+'─'[_0x169305(0x1c3)](_0xc9d8c8)+_0x169305(0x7ac)+_0x3b5fe2+_0x169305(0x52c)+_0x4cd8a7+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x487199+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'['repeat'](_0xc9d8c8)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x169305(0x823)](),this[_0x169305(0x848)][_0x169305(0x17f)]['isConnected']=!0x0;}}[a0_0x26e249(0x65f)](){const _0x2c31c1=a0_0x26e249;this[_0x2c31c1(0x3cb)]=0x0,this[_0x2c31c1(0x16c)]=[];}async[a0_0x26e249(0x4af)](_0x4dd917,_0x5402d6=!0x1){const _0x51f596=a0_0x26e249;try{let _0x52d8ab=await this['repository']['message'][_0x51f596(0x288)]({'where':{'_id':_0x4dd917['id']}},this[_0x51f596(0x848)][_0x51f596(0x2bd)]);return _0x5402d6?_0x52d8ab[0x0]:_0x52d8ab[0x0][_0x51f596(0x3e1)];}catch{return{'conversation':''};}}[a0_0x26e249(0x604)](){const _0x1aa236=a0_0x26e249;let _0x35a89d=this[_0x1aa236(0x189)][_0x1aa236(0x6c0)](_0x1aa236(0x4a5)),_0x2803a5=this['configService'][_0x1aa236(0x6c0)](_0x1aa236(0x505));_0x35a89d?.[_0x1aa236(0x193)]&&!_0x2803a5[_0x1aa236(0x467)]&&setInterval(()=>{const _0xe1d61b=_0x1aa236;try{for(let [_0x3db40a,_0x220b93]of Object[_0xe1d61b(0x29f)](_0x35a89d))_0x220b93===!0x0&&(0x0,De[_0xe1d61b(0x49b)])(_0xe1d61b(0x3c5)+(0x0,F[_0xe1d61b(0x619)])(this[_0xe1d61b(0x384)],_0x3db40a[_0xe1d61b(0x322)](),this[_0xe1d61b(0x848)][_0xe1d61b(0x2bd)])+_0xe1d61b(0x54b));}catch{}},(_0x35a89d?.[_0x1aa236(0x193)]??0xe10)*0x3e8);}async[a0_0x26e249(0x699)](){const _0x58cfb9=a0_0x26e249;let _0x5a5ccb=this[_0x58cfb9(0x189)][_0x58cfb9(0x6c0)](_0x58cfb9(0x505)),_0x5dda2f=this[_0x58cfb9(0x189)]['get'](_0x58cfb9(0x2c1));return _0x5dda2f?.[_0x58cfb9(0x467)]?await Rs(_0x5dda2f,this[_0x58cfb9(0x848)]['name']):_0x5a5ccb[_0x58cfb9(0x467)]?await Ns(this[_0x58cfb9(0x848)][_0x58cfb9(0x452)]):await(0x0,w[_0x58cfb9(0x747)])((0x0,F[_0x58cfb9(0x619)])(me,this[_0x58cfb9(0x848)][_0x58cfb9(0x452)]));}async[a0_0x26e249(0x823)](){const _0x33dbcf=a0_0x26e249;let _0x4944c3=()=>Math[_0x33dbcf(0x465)](Math[_0x33dbcf(0x517)]()*0x2711)+0x7d0,_0x4dde1c=async()=>{const _0x59fd97=_0x33dbcf;if(!this['instance'][_0x59fd97(0x17f)][_0x59fd97(0x2a2)]){this[_0x59fd97(0x392)][_0x59fd97(0x57c)](this[_0x59fd97(0x156)]+'\x20('+this[_0x59fd97(0x848)]['wuid']+'):Desconectado,\x20parando\x20execução.'),this[_0x59fd97(0x790)]=!0x1;return;}if(this[_0x59fd97(0x848)][_0x59fd97(0x2bd)]&&this[_0x59fd97(0x68b)]&&this[_0x59fd97(0x848)][_0x59fd97(0x17f)][_0x59fd97(0x26e)]!==null&&this['instance']['ScheduleMessage'][_0x59fd97(0x26e)]!==void 0x0){let _0x2ffbb4=Math[_0x59fd97(0x3f8)](this[_0x59fd97(0x848)]['ScheduleMessage'][_0x59fd97(0x26e)]/0xea60);this[_0x59fd97(0x392)][_0x59fd97(0x57c)](this[_0x59fd97(0x156)]+'\x20('+this[_0x59fd97(0x848)]['wuid']+_0x59fd97(0x2fe)+_0x2ffbb4+_0x59fd97(0x2a4)),this['isRunning']=!0x1;return;}else this['instance']['wuid']&&(this[_0x59fd97(0x392)][_0x59fd97(0x57c)](this[_0x59fd97(0x156)]+'\x20('+this['instance']['wuid']+_0x59fd97(0x7a4)),this[_0x59fd97(0x68b)]||(await this[_0x59fd97(0x53c)](),this[_0x59fd97(0x58b)]()),(this[_0x59fd97(0x848)][_0x59fd97(0x17f)][_0x59fd97(0x26e)]===null||this[_0x59fd97(0x848)]['ScheduleMessage']['delayMessage']===void 0x0)&&await this[_0x59fd97(0x5ed)]());if(this[_0x59fd97(0x790)]){let _0x1df53f=_0x4944c3();this[_0x59fd97(0x392)][_0x59fd97(0x57c)](this[_0x59fd97(0x156)]+_0x59fd97(0x715)+_0x1df53f/0x3e8+'\x20segundos'),setTimeout(_0x4dde1c,_0x1df53f);}};if(this['isRunning'])return;this[_0x33dbcf(0x790)]=!0x0;let _0x127176=_0x4944c3();setTimeout(_0x4dde1c,_0x127176);}async[a0_0x26e249(0x53e)](_0x22072a=0x0,_0x57ac7c=!0x1){const _0x596d15=a0_0x26e249;try{let _0x3c3f77=this['configService'][_0x596d15(0x6c0)]('PROXY');if(_0x3c3f77!==0x1||typeof _0x3c3f77>'u'||_0x22072a>=0x5)return this[_0x596d15(0x392)][_0x596d15(0x37a)]('Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.'),this['repository'][_0x596d15(0x454)]['create']({'ip':null},this[_0x596d15(0x848)][_0x596d15(0x452)]),{};this[_0x596d15(0x392)][_0x596d15(0x57c)](this[_0x596d15(0x156)]+_0x596d15(0x415)+(_0x22072a+0x1)+_0x596d15(0x77f));let _0x25dda5;if(!_0x57ac7c){let _0x579b4c=await this[_0x596d15(0x1e2)][_0x596d15(0x454)][_0x596d15(0x288)](this['instanceName']);_0x579b4c&&_0x579b4c['ip']&&(_0x25dda5=fi(_0x579b4c['ip']));}if((!_0x25dda5||!$s(_0x25dda5))&&(this[_0x596d15(0x392)]['warn'](this[_0x596d15(0x156)]+_0x596d15(0x695)),_0x25dda5=wi()),_0x25dda5&&$s(_0x25dda5)){let _0x198e00=_0x25dda5[_0x596d15(0x215)]&&_0x25dda5[_0x596d15(0x6d3)]?_0x25dda5[_0x596d15(0x33a)]+'://'+_0x25dda5[_0x596d15(0x215)]+':'+_0x25dda5[_0x596d15(0x6d3)]+'@'+_0x25dda5['host']+':'+_0x25dda5[_0x596d15(0x1dc)]:_0x25dda5['protocol']+_0x596d15(0x1f5)+_0x25dda5[_0x596d15(0x4d4)]+':'+_0x25dda5[_0x596d15(0x1dc)];return await this[_0x596d15(0x1e1)](_0x198e00,_0x25dda5['host'])?(this[_0x596d15(0x392)][_0x596d15(0x57c)](this[_0x596d15(0x156)]+_0x596d15(0x200)),this['repository'][_0x596d15(0x454)][_0x596d15(0x2e2)]({'ip':_0x25dda5['host']},this[_0x596d15(0x848)]['name']),{'agent':new Lt['HttpsProxyAgent'](_0x198e00),'fetchAgent':new Lt['HttpsProxyAgent'](_0x198e00)}):(this[_0x596d15(0x392)][_0x596d15(0x37a)](this[_0x596d15(0x156)]+':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...'),await(0x0,w[_0x596d15(0x5af)])(0xc8),this[_0x596d15(0x53e)](_0x22072a+0x1,!0x0));}else return this['logger'][_0x596d15(0x37a)](this[_0x596d15(0x156)]+_0x596d15(0x3e0)),await(0x0,w[_0x596d15(0x5af)])(0xc8),this[_0x596d15(0x53e)](_0x22072a+0x1,!0x0);}catch(_0x12e038){return this[_0x596d15(0x392)]['error'](this[_0x596d15(0x156)]+_0x596d15(0x610)+_0x12e038['message']),{};}}async[a0_0x26e249(0x1e1)](_0x5e7b56,_0x3eaca9){const _0x5609d4=a0_0x26e249;let _0x1d748f=new Lt['HttpsProxyAgent'](_0x5e7b56),_0x3a2bd7=0x1388,_0x538671=[{'url':_0x5609d4(0x585),'parse':_0x194dde=>_0x194dde['ip']},{'url':_0x5609d4(0x485),'parse':_0x136b04=>_0x136b04['ip']},{'url':_0x5609d4(0x5bd),'parse':_0x417de3=>_0x417de3['match'](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x5609d4(0x7f7),'parse':_0x232c84=>_0x232c84['ip']},{'url':'http://ifconfig.me/ip','parse':_0x458f23=>_0x458f23[_0x5609d4(0x4fe)]()},{'url':_0x5609d4(0x71b),'parse':_0x35736c=>_0x35736c[_0x5609d4(0x4fe)]()},{'url':_0x5609d4(0x396),'parse':_0x208ca2=>_0x208ca2['query']},{'url':'http://myexternalip.com/raw','parse':_0x36d638=>_0x36d638[_0x5609d4(0x4fe)]()},{'url':_0x5609d4(0x5b3),'parse':_0x3e1190=>_0x3e1190[_0x5609d4(0x4fe)]()}],_0x2cb84b=_0x538671[Math[_0x5609d4(0x465)](Math[_0x5609d4(0x517)]()*_0x538671['length'])];try{let _0x3cb0d3=await K[_0x5609d4(0x6f9)][_0x5609d4(0x6c0)](_0x2cb84b[_0x5609d4(0x2fa)],{'httpsAgent':_0x1d748f,'timeout':_0x3a2bd7}),_0x240b2e=_0x2cb84b['parse'](_0x3cb0d3[_0x5609d4(0x7c6)]);return _0x240b2e===_0x3eaca9?(this[_0x5609d4(0x392)][_0x5609d4(0x57c)](this[_0x5609d4(0x156)]+_0x5609d4(0x3cd)+_0x3eaca9+_0x5609d4(0x6c6)+_0x240b2e+'\x20->\x20CONFIRMADO.'),!0x0):(this['logger']['error'](this[_0x5609d4(0x156)]+_0x5609d4(0x3cd)+_0x3eaca9+_0x5609d4(0x6c6)+_0x240b2e+_0x5609d4(0x5b2)),!0x1);}catch(_0x45823b){return this['logger'][_0x5609d4(0x819)](this[_0x5609d4(0x156)]+_0x5609d4(0x716)+_0x2cb84b[_0x5609d4(0x2fa)]+':\x20'+_0x45823b[_0x5609d4(0x3e1)]),!0x1;}}async[a0_0x26e249(0x3bc)](_0x35dc69){const _0xde7348=a0_0x26e249;try{let _0x1562d6=await this['loadproxy']();this[_0xde7348(0x35c)](),this[_0xde7348(0x848)][_0xde7348(0x22c)]=(await this[_0xde7348(0x1e2)][_0xde7348(0x454)][_0xde7348(0x288)](this[_0xde7348(0x848)][_0xde7348(0x452)]))[_0xde7348(0x22c)],this['instance'][_0xde7348(0x617)]=await this[_0xde7348(0x699)]();let {version:_0x19f0af}=await(0x0,w['fetchLatestBaileysVersion'])(),_0x172126=[Ci,xs,(0x0,Os[_0xde7348(0x678)])()],_0x1dec53={..._0x1562d6,'auth':{'creds':this[_0xde7348(0x848)]['authState'][_0xde7348(0x793)][_0xde7348(0x719)],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this[_0xde7348(0x848)][_0xde7348(0x617)][_0xde7348(0x793)][_0xde7348(0x4a9)],(0x0,Pt[_0xde7348(0x6f9)])({'level':'error'}))},'logger':(0x0,Pt[_0xde7348(0x6f9)])({'level':_0xde7348(0x819)}),'printQRInTerminal':!0x1,'browser':_0x35dc69?[_0xde7348(0x605),xs,(0x0,Os[_0xde7348(0x678)])()]:_0x172126,'version':_0x19f0af,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x3f8821=>{const _0x4736ac=_0xde7348;let _0x532f62=_0x3f8821[_0x4736ac(0x55e)]('@newsletter'),_0x3b53ef=this['localWebhook']?.[_0x4736ac(0x5bc)]&&_0x3f8821[_0x4736ac(0x55e)](_0x4736ac(0x703));return _0x532f62||(0x0,w[_0x4736ac(0x84f)])(_0x3f8821)||_0x3b53ef;},'msgRetryCounterCache':this[_0xde7348(0x1b9)],'getMessage':async _0x458aae=>await this['getMessage'](_0x458aae),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0xde7348(0x6f5)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x4a378d=>(_0x4a378d['listMessage']?.[_0xde7348(0x6f1)]==w[_0xde7348(0x542)][_0xde7348(0x6f3)]['ListMessage'][_0xde7348(0x5c3)]['PRODUCT_LIST']&&(_0x4a378d=JSON[_0xde7348(0x311)](JSON[_0xde7348(0x395)](_0x4a378d)),_0x4a378d['listMessage'][_0xde7348(0x6f1)]=w[_0xde7348(0x542)][_0xde7348(0x6f3)]['ListMessage']['ListType'][_0xde7348(0x420)]),_0x4a378d)};return this[_0xde7348(0x723)]=!0x1,this['client']=(0x0,w[_0xde7348(0x6f9)])(_0x1dec53),this[_0xde7348(0x186)](),this[_0xde7348(0x49e)]=_0x35dc69,this['client'];}catch(_0x29f797){let _0x3a4e2b='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp',_0x2f5ecc=_0x29f797 instanceof Error?_0x29f797[_0xde7348(0x3e1)]:typeof _0x29f797=='object'?JSON['stringify'](_0x29f797):_0x29f797,_0x2de5ea=_0x3a4e2b+':\x20'+_0x2f5ecc;throw this[_0xde7348(0x392)][_0xde7348(0x819)](this[_0xde7348(0x156)]+'\x20('+this[_0xde7348(0x848)]['wuid']+'):\x20'+_0x2de5ea),new I(_0x2de5ea);}}[a0_0x26e249(0x186)](){this['client']['ev']['process'](_0x1100e6=>{const _0x29171d=a0_0x3705;if(!this[_0x29171d(0x723)]){let _0x2088ee=this[_0x29171d(0x189)][_0x29171d(0x6c0)]('DATABASE');if(_0x1100e6['labels.edit']){let _0x51ca7a=_0x1100e6[_0x29171d(0x3f2)];this[_0x29171d(0x40f)][_0x29171d(0x3f2)](_0x51ca7a);}if(_0x1100e6[_0x29171d(0x34f)]){let _0x479ba3=_0x1100e6[_0x29171d(0x34f)];this[_0x29171d(0x40f)][_0x29171d(0x34f)](_0x479ba3);}if(_0x1100e6[_0x29171d(0x1f7)]&&this[_0x29171d(0x209)](_0x1100e6['connection.update']),_0x1100e6[_0x29171d(0x59e)]&&this['instance'][_0x29171d(0x617)]['saveCreds'](),_0x1100e6[_0x29171d(0x7f0)]){let _0x4df935=_0x1100e6[_0x29171d(0x7f0)];this[_0x29171d(0x40f)][_0x29171d(0x7f0)](_0x4df935,_0x2088ee);}if(_0x1100e6['messages.upsert']){let _0x21b4b6=_0x1100e6[_0x29171d(0x711)];this[_0x29171d(0x40f)][_0x29171d(0x711)](_0x21b4b6,_0x2088ee);}if(_0x1100e6['messages.update']){let _0x244c2b=_0x1100e6[_0x29171d(0x836)];this['messageHandle'][_0x29171d(0x836)](_0x244c2b,_0x2088ee);}if(_0x1100e6[_0x29171d(0x50b)]){let _0x5770d7=_0x1100e6[_0x29171d(0x50b)];if(this[_0x29171d(0x350)]?.[_0x29171d(0x5bc)]&&_0x5770d7['id'][_0x29171d(0x5d9)](_0x29171d(0x703)))return;this[_0x29171d(0x7eb)](_0x29171d(0x50b),_0x5770d7);}if(_0x1100e6['groups.upsert']){let _0x57aead=_0x1100e6[_0x29171d(0x270)];this['groupHandler']['groups.upsert'](_0x57aead);}if(_0x1100e6[_0x29171d(0x725)]){let _0x2fa270=_0x1100e6[_0x29171d(0x725)];this[_0x29171d(0x6ea)]['groups.update'](_0x2fa270);}if(_0x1100e6[_0x29171d(0x19c)]){let _0x4b512b=_0x1100e6[_0x29171d(0x19c)];this[_0x29171d(0x6ea)][_0x29171d(0x19c)](_0x4b512b);}if(_0x1100e6[_0x29171d(0x6af)]){let _0x4baaa7=_0x1100e6[_0x29171d(0x6af)];this[_0x29171d(0x313)][_0x29171d(0x6af)](_0x4baaa7,_0x2088ee);}if(_0x1100e6[_0x29171d(0x83a)]){let _0x44455d=_0x1100e6[_0x29171d(0x83a)];this[_0x29171d(0x313)]['chats.update'](_0x44455d,_0x2088ee);}if(_0x1100e6['chats.delete']){let _0x3bee5d=_0x1100e6['chats.delete'];this[_0x29171d(0x313)][_0x29171d(0x375)](_0x3bee5d);}if(_0x1100e6[_0x29171d(0x1ca)]){let _0x4a13a7=_0x1100e6[_0x29171d(0x1ca)];this[_0x29171d(0x341)][_0x29171d(0x1ca)](_0x4a13a7,_0x2088ee);}if(_0x1100e6[_0x29171d(0x7cb)]){let _0x1759b3=_0x1100e6[_0x29171d(0x7cb)];this['contactHandle'][_0x29171d(0x7cb)](_0x1759b3,_0x2088ee);}}});}[a0_0x26e249(0x514)](_0x409064){return new Promise(_0x25400e=>setTimeout(_0x25400e,_0x409064));}['formatBRNumber'](_0xaa6e61){const _0x63aeb=a0_0x26e249;_0xaa6e61=_0xaa6e61['replace'](/\D/g,'');let _0x3c93f2=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x63aeb(0x6b6)](_0xaa6e61);if(_0x3c93f2&&_0x3c93f2[0x1]==='55'){let _0xa56f06=_0x3c93f2[0x2],_0xda5894=_0x3c93f2[0x3],_0x3f143c=_0x3c93f2[0x4];if(parseInt(_0xa56f06)>=0x1f&&_0xda5894==='9')return _0x3c93f2[0x1]+_0xa56f06+_0x3f143c;}return _0xaa6e61;}[a0_0x26e249(0x49f)](_0x1cfd57){const _0x1a12de=a0_0x26e249;return _0x1cfd57[_0x1a12de(0x5d9)]('@g.us')||_0x1cfd57[_0x1a12de(0x5d9)]('@s.whatsapp.net')||_0x1cfd57[_0x1a12de(0x5d9)]('@broadcast')?_0x1cfd57:(_0x1cfd57=_0x1cfd57?.[_0x1a12de(0x38e)](/\s/g,'')[_0x1a12de(0x38e)](/\+/g,'')[_0x1a12de(0x38e)](/\(/g,'')[_0x1a12de(0x38e)](/\)/g,'')[_0x1a12de(0x510)](/\:/)[0x0]['split']('@')[0x0],_0x1cfd57[_0x1a12de(0x62e)]>=0x12?(_0x1cfd57=_0x1cfd57[_0x1a12de(0x38e)](/[^\d-]/g,''),_0x1cfd57+'@g.us'):(_0x1cfd57=_0x1cfd57[_0x1a12de(0x38e)](/\D/g,''),_0x1cfd57+_0x1a12de(0x7c8)));}async[a0_0x26e249(0x2df)](_0x474431){const _0x100079=a0_0x26e249;let _0x2e36e7=(await this[_0x100079(0x269)]({'numbers':[_0x474431[_0x100079(0x36e)]]}))[0x0];if(!_0x2e36e7[_0x100079(0x7fd)]&&!(0x0,w['isJidGroup'])(_0x2e36e7['jid'])&&!_0x2e36e7[_0x100079(0x7d1)][_0x100079(0x5d9)](_0x100079(0x419)))throw new m(_0x2e36e7);let _0x2c7073=_0x2e36e7['jid'];try{return await this[_0x100079(0x39e)][_0x100079(0x7f3)](_0x2c7073),await this[_0x100079(0x39e)][_0x100079(0x4ab)](_0x474431[_0x100079(0x1fc)],_0x2c7073),{'status':0xc8,'presence':_0x474431['presence']};}catch(_0x4e0a2d){let _0x4d64c5=_0x100079(0x70c),_0xf51fbd=_0x4e0a2d instanceof Error?_0x4e0a2d[_0x100079(0x3e1)]:typeof _0x4e0a2d==_0x100079(0x232)?JSON[_0x100079(0x395)](_0x4e0a2d):_0x4e0a2d,_0x5371b6=_0x4d64c5+':\x20'+_0xf51fbd;throw this['logger'][_0x100079(0x819)](this['instanceName']+'\x20('+this[_0x100079(0x848)][_0x100079(0x2bd)]+'):\x20'+_0x5371b6),new m(_0x5371b6);}}async['findAndUpdateCacheContact'](_0x426a90,_0x42c1a3,_0x58f046,_0x387b70=!0x0){const _0x29546e=a0_0x26e249;let _0x382fbf=await this[_0x29546e(0x1e2)]['cacheContact'][_0x29546e(0x49c)]({'where':{'_id':_0x426a90}});if(!_0x382fbf&&!_0x387b70)return;let _0x21227b={'lastUpdate':Date[_0x29546e(0x80b)]()};if(_0x58f046||!_0x382fbf?.[_0x29546e(0x661)]||Date[_0x29546e(0x80b)]()-_0x382fbf[_0x29546e(0x661)]>0x18*0x3c*0x3c*0x3e8)try{let _0x30efa4=(await this['profilePicture'](_0x426a90))['profilePictureUrl'];_0x21227b[_0x29546e(0x237)]=_0x30efa4;}catch(_0xbc6543){let _0x56082c=_0x29546e(0x297),_0x38c040=_0xbc6543 instanceof Error?_0xbc6543[_0x29546e(0x3e1)]:typeof _0xbc6543==_0x29546e(0x232)?JSON[_0x29546e(0x395)](_0xbc6543):_0xbc6543,_0x2307af=_0x56082c+':\x20'+_0x38c040;throw this[_0x29546e(0x392)][_0x29546e(0x819)](this[_0x29546e(0x156)]+'\x20('+this[_0x29546e(0x848)][_0x29546e(0x2bd)]+'):\x20'+_0x2307af),new m(_0x2307af);}return _0x42c1a3&&_0x382fbf?.['name']!==_0x42c1a3&&(_0x21227b[_0x29546e(0x452)]=_0x42c1a3),Object[_0x29546e(0x4a9)](_0x21227b)[_0x29546e(0x62e)]>0x1&&(_0x382fbf?await this[_0x29546e(0x1e2)][_0x29546e(0x851)]['update']({'where':{'_id':_0x426a90}},_0x21227b):await this[_0x29546e(0x1e2)]['cacheContact'][_0x29546e(0x1bc)]([{'_id':_0x426a90,..._0x21227b}]),_0x382fbf={..._0x382fbf,..._0x21227b}),{'cachedContact':_0x382fbf};}async[a0_0x26e249(0x720)](_0x20f903){const _0x51de4a=a0_0x26e249;let _0x5dda8e=this[_0x51de4a(0x49f)](_0x20f903);try{return{'wuid':_0x5dda8e,'profilePictureUrl':await this[_0x51de4a(0x39e)][_0x51de4a(0x2cf)](_0x5dda8e,_0x51de4a(0x7a5))};}catch{return{'wuid':_0x5dda8e,'profilePictureUrl':null};}}async[a0_0x26e249(0x817)](_0x1bbbc9,_0x140e3e,_0xfb0962){const _0x39d9f5=a0_0x26e249;try{_0xfb0962||(_0xfb0962={});let _0xe5e2b5=(await this[_0x39d9f5(0x269)]({'numbers':[_0x1bbbc9]}))[0x0];if(!_0xe5e2b5[_0x39d9f5(0x7fd)]&&!(0x0,w['isJidGroup'])(_0xe5e2b5[_0x39d9f5(0x7d1)])&&!_0xe5e2b5[_0x39d9f5(0x7d1)][_0x39d9f5(0x5d9)](_0x39d9f5(0x419)))throw new m(_0xe5e2b5);let _0x4afa2b=_0xe5e2b5[_0x39d9f5(0x7d1)];if(_0xfb0962?.[_0x39d9f5(0x5af)]){await this[_0x39d9f5(0x39e)]['presenceSubscribe'](_0x4afa2b),await this[_0x39d9f5(0x39e)]['sendPresenceUpdate'](_0xfb0962?.[_0x39d9f5(0x1fc)]??'composing',_0x4afa2b);let _0x364463=Math[_0x39d9f5(0x78d)](_0xfb0962['delay'],0x2710);await(0x0,w[_0x39d9f5(0x5af)])(_0x364463),await this['client'][_0x39d9f5(0x4ab)](_0x39d9f5(0x456),_0x4afa2b);}let _0x51ae0d=_0xfb0962?.[_0x39d9f5(0x62c)]!=!0x1?void 0x0:!0x1,_0x176c50;if(_0xfb0962?.[_0x39d9f5(0x847)]){let _0x5381a6=_0xfb0962?.['quoted'],_0x4d2388=_0x5381a6?.['message']?_0x5381a6:await this[_0x39d9f5(0x4af)](_0x5381a6['key'],!0x0);if(!_0x4d2388)throw _0x39d9f5(0x2f3);_0x176c50=_0x4d2388;}let _0x5128f4;if((0x0,w['isJidGroup'])(_0x4afa2b))try{let _0x696d37=(await this[_0x39d9f5(0x1e2)][_0x39d9f5(0x3b6)][_0x39d9f5(0x49c)]({'where':{'_id':_0x4afa2b}},this[_0x39d9f5(0x848)][_0x39d9f5(0x2bd)]))[_0x39d9f5(0x706)];if(!_0x696d37)throw new U(_0x39d9f5(0x7ca));_0xfb0962?.['mentions']&&(_0xfb0962[_0x39d9f5(0x630)]?.[_0x39d9f5(0x768)]?_0x5128f4=_0x696d37[_0x39d9f5(0x3a6)]['map'](_0x1eb4de=>_0x1eb4de['id']):_0xfb0962[_0x39d9f5(0x630)]?.[_0x39d9f5(0x70d)]?.[_0x39d9f5(0x62e)]&&(_0x5128f4=_0xfb0962[_0x39d9f5(0x630)][_0x39d9f5(0x70d)]['map'](_0x3e5501=>{const _0x451577=_0x39d9f5;let _0x55cea1=this['createJid'](_0x3e5501);return(0x0,w[_0x451577(0x4f8)])(_0x55cea1)?null:_0x55cea1;})));}catch{throw new U(_0x39d9f5(0x7ca));}let _0x4e0e54=await this[_0x39d9f5(0x1e2)]['chat'][_0x39d9f5(0x49c)]({'where':{'_id':_0x4afa2b}},this[_0x39d9f5(0x848)][_0x39d9f5(0x2bd)]),_0x404336=await((async()=>{const _0xc7cdf6=_0x39d9f5;let _0x590013={'quoted':_0x176c50,'ephemeralExpiration':_0x4e0e54?.[_0xc7cdf6(0x606)]??0x0};if(!_0x140e3e[_0xc7cdf6(0x2f0)]&&!_0x140e3e['poll']&&!_0x140e3e[_0xc7cdf6(0x3e5)]&&!_0x140e3e[_0xc7cdf6(0x5aa)]&&_0x4afa2b!==_0xc7cdf6(0x443)&&!_0x140e3e[_0xc7cdf6(0x2f0)])return await this[_0xc7cdf6(0x39e)]['sendMessage'](_0x4afa2b,{'forward':{'key':{'remoteJid':this['instance'][_0xc7cdf6(0x2bd)],'fromMe':!0x0},'message':_0x140e3e},'mentions':_0x5128f4},_0x590013);if(_0x140e3e['reactionMessage'])return await this['client'][_0xc7cdf6(0x2c9)](_0x4afa2b,{'react':{'text':_0x140e3e[_0xc7cdf6(0x214)][_0xc7cdf6(0x346)],'key':_0x140e3e[_0xc7cdf6(0x214)]['key']}},_0x590013);if(_0x140e3e[_0xc7cdf6(0x5aa)]){let _0x7d37f6=_0x140e3e[_0xc7cdf6(0x5aa)];return _0xfb0962?.[_0xc7cdf6(0x6a1)]&&(_0x7d37f6=await this[_0xc7cdf6(0x468)](_0x7d37f6,_0x4afa2b)),await this['client'][_0xc7cdf6(0x2c9)](_0x4afa2b,{'text':_0x7d37f6,'mentions':_0x5128f4,'linkPreview':_0x51ae0d},_0x590013);}return _0x4afa2b===_0xc7cdf6(0x443)?await this[_0xc7cdf6(0x39e)][_0xc7cdf6(0x2c9)](_0x4afa2b,_0x140e3e[_0xc7cdf6(0x228)][_0xc7cdf6(0x455)],{'backgroundColor':_0x140e3e['status']['option']['backgroundColor'],'font':_0x140e3e[_0xc7cdf6(0x228)][_0xc7cdf6(0x60e)]['font'],'statusJidList':_0x140e3e[_0xc7cdf6(0x228)]['option'][_0xc7cdf6(0x65d)]}):await this[_0xc7cdf6(0x39e)][_0xc7cdf6(0x2c9)](_0x4afa2b,_0x140e3e,_0x590013);})()),_0x51e62c=(0x0,w[_0x39d9f5(0x20d)])(_0x404336[_0x39d9f5(0x3e1)]),_0x1984be=(0x0,w['getContentType'])(_0x51e62c),{message_normalized:_0x374afa}=this[_0x39d9f5(0x151)](_0x51e62c,_0x1984be,null),_0x102941={'_id':_0x404336['key']['id'],'key':_0x404336[_0x39d9f5(0x7dd)],'pushName':_0x404336['pushName'],'isGroup':_0x404336['key']['remoteJid'][_0x39d9f5(0x55e)](_0x39d9f5(0x703)),'profilePictureUrl':this[_0x39d9f5(0x848)][_0x39d9f5(0x2cf)],'message':_0x51e62c,'messageType':_0x1984be,'message_normalized':{'key':_0x404336[_0x39d9f5(0x7dd)],'pushName':_0x404336[_0x39d9f5(0x6a9)],'messageTimestamp':_0x404336['messageTimestamp']&&_0x404336[_0x39d9f5(0x6cb)]['toString']()[_0x39d9f5(0x62e)]<0xd?_0x404336[_0x39d9f5(0x6cb)]*0x3e8:_0x404336['messageTimestamp']||null,'source':(0x0,w[_0x39d9f5(0x3a9)])(_0x404336[_0x39d9f5(0x7dd)]['id']),..._0x374afa},'messageTimestamp':_0x404336[_0x39d9f5(0x6cb)]&&_0x404336['messageTimestamp'][_0x39d9f5(0x76f)]()['length']<0xd?_0x404336[_0x39d9f5(0x6cb)]*0x3e8:_0x404336['messageTimestamp']||null,'owner':this['instance']['wuid'],'source':(0x0,w['getDevice'])(_0x404336[_0x39d9f5(0x7dd)]['id'])};return this[_0x39d9f5(0x392)]['warn'](this[_0x39d9f5(0x156)]+'\x20('+this[_0x39d9f5(0x848)][_0x39d9f5(0x2bd)]+_0x39d9f5(0x62d)+_0x102941[_0x39d9f5(0x7dd)]?.[_0x39d9f5(0x1e8)][_0x39d9f5(0x38e)]('@s.whatsapp.net','')+_0x39d9f5(0x68f)+_0x102941[_0x39d9f5(0x71f)]+')'),_0x102941['message_normalized']?.[_0x39d9f5(0x346)]&&this[_0x39d9f5(0x392)][_0x39d9f5(0x37a)](_0x102941[_0x39d9f5(0x23d)]?.[_0x39d9f5(0x346)]),this['sendDataWebhook']('send.message',_0x102941),J(this[_0x39d9f5(0x156)],_0x39d9f5(0x6e9),{'message':_0x102941}),this[_0x39d9f5(0x342)](this[_0x39d9f5(0x189)][_0x39d9f5(0x6c0)](_0x39d9f5(0x505)),_0x102941,'SEND_MESSAGE',_0x4e0e54),await this[_0x39d9f5(0x1e2)][_0x39d9f5(0x3e1)][_0x39d9f5(0x1bc)]([_0x102941],this[_0x39d9f5(0x848)]['wuid']),_0x404336;}catch(_0x1a3ca6){let _0x390c85=_0x39d9f5(0x7f4),_0x28882f=_0x1a3ca6 instanceof Error?_0x1a3ca6[_0x39d9f5(0x3e1)]:typeof _0x1a3ca6==_0x39d9f5(0x232)?JSON[_0x39d9f5(0x395)](_0x1a3ca6):_0x1a3ca6,_0x2e3942=_0x390c85+':\x20'+_0x28882f;throw this[_0x39d9f5(0x392)][_0x39d9f5(0x819)](this[_0x39d9f5(0x156)]+'\x20('+this[_0x39d9f5(0x848)][_0x39d9f5(0x2bd)]+_0x39d9f5(0x69f)+_0x2e3942),new m(_0x2e3942);}}get[a0_0x26e249(0x2f8)](){return this['stateConnection'];}async[a0_0x26e249(0x3e8)](_0x7f70f6){const _0x29b2b0=a0_0x26e249;let _0x2fbd31=yi,_0x7deb4=tt;return _0x7deb4&&this['instanceName']['toLowerCase']()[_0x29b2b0(0x5d9)](_0x7deb4[_0x29b2b0(0x322)]())&&(_0x7f70f6[_0x29b2b0(0x3e8)][_0x29b2b0(0x346)]+='\x0a\x0a'+_0x2fbd31),await this['sendMessageWithTyping'](_0x7f70f6[_0x29b2b0(0x36e)],{'conversation':_0x7f70f6[_0x29b2b0(0x3e8)][_0x29b2b0(0x346)]},_0x7f70f6?.[_0x29b2b0(0x3c8)]);}async['formatStatusMessage'](_0x5ebdb8){const _0x2b8b84=a0_0x26e249;if(!_0x5ebdb8['type'])throw new m(_0x2b8b84(0x779));if(!_0x5ebdb8[_0x2b8b84(0x455)])throw new m(_0x2b8b84(0x7de));if(_0x5ebdb8[_0x2b8b84(0x1c0)]){let _0x402b03=await this[_0x2b8b84(0x1e2)]['contact'][_0x2b8b84(0x288)]({'where':{}},this[_0x2b8b84(0x848)][_0x2b8b84(0x2bd)]);if(!_0x402b03[_0x2b8b84(0x62e)])throw new m(_0x2b8b84(0x64a));_0x5ebdb8[_0x2b8b84(0x65d)]=_0x402b03[_0x2b8b84(0x27f)](_0xabd822=>_0xabd822[_0x2b8b84(0x6a9)])[_0x2b8b84(0x261)](_0x836441=>_0x836441['_id']);}if(!_0x5ebdb8['statusJidList']?.[_0x2b8b84(0x62e)]&&!_0x5ebdb8['allContacts'])throw new m(_0x2b8b84(0x4cc));if(_0x5ebdb8[_0x2b8b84(0x599)]===_0x2b8b84(0x346)){if(!_0x5ebdb8['backgroundColor'])throw new m(_0x2b8b84(0x74f));if(!_0x5ebdb8[_0x2b8b84(0x518)])throw new m(_0x2b8b84(0x267));return{'content':{'text':_0x5ebdb8['content']},'option':{'backgroundColor':_0x5ebdb8[_0x2b8b84(0x30f)],'font':_0x5ebdb8[_0x2b8b84(0x518)],'statusJidList':_0x5ebdb8[_0x2b8b84(0x65d)]}};}if(_0x5ebdb8[_0x2b8b84(0x599)]===_0x2b8b84(0x7a5))return{'content':{'image':{'url':_0x5ebdb8[_0x2b8b84(0x455)]},'caption':_0x5ebdb8[_0x2b8b84(0x2eb)]},'option':{'statusJidList':_0x5ebdb8['statusJidList']}};if(_0x5ebdb8[_0x2b8b84(0x599)]===_0x2b8b84(0x223))return{'content':{'video':{'url':_0x5ebdb8['content']},'caption':_0x5ebdb8[_0x2b8b84(0x2eb)]},'option':{'statusJidList':_0x5ebdb8['statusJidList']}};if(_0x5ebdb8[_0x2b8b84(0x599)]===_0x2b8b84(0x2f0)){this[_0x2b8b84(0x392)][_0x2b8b84(0x57c)](this['instanceName']+'\x20('+this[_0x2b8b84(0x848)]['wuid']+'):Type\x20defined\x20as\x20audio'),this[_0x2b8b84(0x392)][_0x2b8b84(0x57c)](this[_0x2b8b84(0x156)]+'\x20('+this['instance'][_0x2b8b84(0x2bd)]+_0x2b8b84(0x16d));let _0x5237ed=await this['convertaudio'](_0x5ebdb8[_0x2b8b84(0x455)]);if(typeof _0x5237ed==_0x2b8b84(0x681)){this[_0x2b8b84(0x392)][_0x2b8b84(0x57c)](this['instanceName']+'\x20('+this[_0x2b8b84(0x848)]['wuid']+_0x2b8b84(0x756));let _0x275b0e=j[_0x2b8b84(0x592)](_0x5237ed)['toString'](_0x2b8b84(0x5e7));return{'content':{'audio':Buffer[_0x2b8b84(0x7fb)](_0x275b0e,_0x2b8b84(0x5e7)),'ptt':!0x0,'mimetype':_0x2b8b84(0x4a3)},'option':{'statusJidList':_0x5ebdb8[_0x2b8b84(0x65d)]}};}else throw new I(_0x5237ed);}throw new m(_0x2b8b84(0x7e7));}async[a0_0x26e249(0x788)](_0x54b8af){const _0x2a9e3e=a0_0x26e249;return await this[_0x2a9e3e(0x817)](_0x2a9e3e(0x443),{'status':await this[_0x2a9e3e(0x822)](_0x54b8af['statusMessage'])});}async[a0_0x26e249(0x1b2)](_0x32ab7d){const _0x2e9366=a0_0x26e249;try{let _0x5af2fa=await(0x0,w[_0x2e9366(0x59b)])({[_0x32ab7d[_0x2e9366(0x263)]]:(0x0,P[_0x2e9366(0x66d)])(_0x32ab7d[_0x2e9366(0x4f2)])?{'url':_0x32ab7d[_0x2e9366(0x4f2)]}:Buffer[_0x2e9366(0x7fb)](_0x32ab7d[_0x2e9366(0x4f2)],_0x2e9366(0x5e7))},{'upload':this[_0x2e9366(0x39e)][_0x2e9366(0x357)]}),_0x5ae2b7=_0x32ab7d[_0x2e9366(0x263)]+'Message';if(_0x32ab7d['mediatype']===_0x2e9366(0x1a2)&&!_0x32ab7d['fileName']){let _0x2a1a87=new RegExp(/.*\/(.+?)\./)['exec'](_0x32ab7d[_0x2e9366(0x4f2)]);_0x32ab7d[_0x2e9366(0x771)]=_0x2a1a87?_0x2a1a87[0x1]:null;}let _0x54fd9a=(0x0,P['isURL'])(_0x32ab7d[_0x2e9366(0x4f2)])?_0x32ab7d[_0x2e9366(0x4f2)][_0x2e9366(0x510)]('?')[0x0]:_0x32ab7d['media'],_0x4ee1f8;(0x0,P[_0x2e9366(0x66d)])(_0x32ab7d['media'])?_0x4ee1f8=(0x0,kt['getMIMEType'])(_0x54fd9a):_0x32ab7d[_0x2e9366(0x771)]&&_0x32ab7d[_0x2e9366(0x771)][_0x2e9366(0x5d9)]('.')?_0x4ee1f8=(0x0,kt[_0x2e9366(0x27b)])(_0x32ab7d[_0x2e9366(0x771)]):_0x4ee1f8=(0x0,kt[_0x2e9366(0x27b)])(_0x32ab7d[_0x2e9366(0x4f2)]);let _0x364c9c=yi,_0x2a2e0c=tt;return _0x2a2e0c&&this[_0x2e9366(0x156)][_0x2e9366(0x322)]()[_0x2e9366(0x5d9)](_0x2a2e0c[_0x2e9366(0x322)]())&&(_0x32ab7d[_0x2e9366(0x2eb)]+='\x0a\x0a'+_0x364c9c),_0x5af2fa[_0x5ae2b7][_0x2e9366(0x2eb)]=_0x32ab7d?.[_0x2e9366(0x2eb)],_0x5af2fa[_0x5ae2b7][_0x2e9366(0x386)]=_0x4ee1f8,_0x5af2fa[_0x5ae2b7]['fileName']=_0x32ab7d[_0x2e9366(0x771)],_0x32ab7d[_0x2e9366(0x263)]==='video'&&(_0x5af2fa[_0x5ae2b7][_0x2e9366(0x640)]=Uint8Array[_0x2e9366(0x7fb)]((0x0,xe[_0x2e9366(0x592)])((0x0,F[_0x2e9366(0x619)])(process[_0x2e9366(0x664)](),_0x2e9366(0x713)))),_0x5af2fa[_0x5ae2b7][_0x2e9366(0x41a)]=!0x1),(0x0,w[_0x2e9366(0x319)])('',{[_0x5ae2b7]:{..._0x5af2fa[_0x5ae2b7]}},{'userJid':this[_0x2e9366(0x848)][_0x2e9366(0x2bd)]});}catch(_0x2aabb9){let _0x33732b=_0x2e9366(0x15f),_0x2b8bff=_0x2aabb9 instanceof Error?_0x2aabb9['message']:typeof _0x2aabb9==_0x2e9366(0x232)?JSON[_0x2e9366(0x395)](_0x2aabb9):_0x2aabb9,_0x173e49=_0x33732b+':\x20'+_0x2b8bff;throw this[_0x2e9366(0x392)][_0x2e9366(0x819)](this['instanceName']+'\x20('+this['instance'][_0x2e9366(0x2bd)]+'):\x20'+_0x173e49),new I(_0x173e49);}}async[a0_0x26e249(0x48c)](_0x5c1d0e){const _0x57a1ce=a0_0x26e249;let _0xd09a72=await this[_0x57a1ce(0x1b2)](_0x5c1d0e[_0x57a1ce(0x48c)]);return await this['sendMessageWithTyping'](_0x5c1d0e['number'],{..._0xd09a72[_0x57a1ce(0x3e1)]},_0x5c1d0e?.[_0x57a1ce(0x3c8)]);}async[a0_0x26e249(0x853)](_0x166edb,_0x7d51d8){const _0x572b01=a0_0x26e249;try{this[_0x572b01(0x392)][_0x572b01(0x57c)](this[_0x572b01(0x156)]+'\x20('+this[_0x572b01(0x848)][_0x572b01(0x2bd)]+_0x572b01(0x73c));let _0xacf370,_0x172b78=_0x7d51d8+'-'+new Date()[_0x572b01(0x634)]();this['logger'][_0x572b01(0x57c)](this[_0x572b01(0x156)]+'\x20('+this[_0x572b01(0x848)][_0x572b01(0x2bd)]+_0x572b01(0x218)+_0x172b78);let _0x464cd6=''+(0x0,F['join'])(this[_0x572b01(0x384)],_0x172b78+_0x572b01(0x6c1));if(this[_0x572b01(0x392)]['verbose'](this[_0x572b01(0x156)]+'\x20('+this[_0x572b01(0x848)][_0x572b01(0x2bd)]+_0x572b01(0x5c0)+_0x464cd6),(0x0,P[_0x572b01(0x273)])(_0x166edb)){this['logger'][_0x572b01(0x57c)](this['instanceName']+'\x20('+this[_0x572b01(0x848)]['wuid']+_0x572b01(0x164));let _0x49fe63=_0x166edb[_0x572b01(0x38e)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x5ed709=Buffer[_0x572b01(0x7fb)](_0x49fe63,_0x572b01(0x5e7));_0xacf370=''+(0x0,F['join'])(this[_0x572b01(0x384)],_0x572b01(0x831)+_0x172b78+_0x572b01(0x52d)),this[_0x572b01(0x392)][_0x572b01(0x57c)](this[_0x572b01(0x156)]+'\x20('+this[_0x572b01(0x848)]['wuid']+_0x572b01(0x6f4)+_0xacf370),await(0x0,jt[_0x572b01(0x6f9)])(_0x5ed709)[_0x572b01(0x281)](_0xacf370),this[_0x572b01(0x392)][_0x572b01(0x57c)](this[_0x572b01(0x156)]+'\x20('+this[_0x572b01(0x848)]['wuid']+_0x572b01(0x44a));}else{this[_0x572b01(0x392)][_0x572b01(0x57c)](this[_0x572b01(0x156)]+'\x20('+this[_0x572b01(0x848)][_0x572b01(0x2bd)]+'):Image\x20is\x20url');let _0x15d344=new Date()[_0x572b01(0x634)](),_0x167338=_0x166edb+_0x572b01(0x4e9)+_0x15d344;this['logger']['verbose'](this[_0x572b01(0x156)]+'\x20('+this['instance'][_0x572b01(0x2bd)]+_0x572b01(0x473)+_0x167338);let _0x1b4b74=await K[_0x572b01(0x6f9)][_0x572b01(0x6c0)](_0x167338,{'responseType':_0x572b01(0x334)});this[_0x572b01(0x392)][_0x572b01(0x57c)](this['instanceName']+'\x20('+this[_0x572b01(0x848)][_0x572b01(0x2bd)]+_0x572b01(0x698));let _0x1dadc7=Buffer[_0x572b01(0x7fb)](_0x1b4b74[_0x572b01(0x7c6)],_0x572b01(0x763));_0xacf370=''+(0x0,F['join'])(this[_0x572b01(0x384)],_0x572b01(0x831)+_0x172b78+_0x572b01(0x52d)),this[_0x572b01(0x392)][_0x572b01(0x57c)](this['instanceName']+'\x20('+this[_0x572b01(0x848)][_0x572b01(0x2bd)]+_0x572b01(0x6f4)+_0xacf370),await(0x0,jt[_0x572b01(0x6f9)])(_0x1dadc7)[_0x572b01(0x281)](_0xacf370),this[_0x572b01(0x392)]['verbose'](this[_0x572b01(0x156)]+'\x20('+this[_0x572b01(0x848)]['wuid']+'):Image\x20created');}return await(0x0,jt[_0x572b01(0x6f9)])(_0xacf370)[_0x572b01(0x1ff)]()[_0x572b01(0x281)](_0x464cd6),this['logger'][_0x572b01(0x57c)](this[_0x572b01(0x156)]+'\x20('+this['instance'][_0x572b01(0x2bd)]+'):Image\x20converted\x20to\x20WebP'),j[_0x572b01(0x1c6)](_0xacf370),this[_0x572b01(0x392)]['verbose'](this[_0x572b01(0x156)]+'\x20('+this[_0x572b01(0x848)]['wuid']+_0x572b01(0x23b)),_0x464cd6;}catch(_0x3f3f03){let _0x338d11=_0x572b01(0x3bf),_0x2eef78=_0x3f3f03 instanceof Error?_0x3f3f03[_0x572b01(0x3e1)]:typeof _0x3f3f03=='object'?JSON[_0x572b01(0x395)](_0x3f3f03):_0x3f3f03,_0xe5ef13=_0x338d11+':\x20'+_0x2eef78;this['logger'][_0x572b01(0x819)](this[_0x572b01(0x156)]+'\x20('+this[_0x572b01(0x848)][_0x572b01(0x2bd)]+_0x572b01(0x69f)+_0xe5ef13);}}async[a0_0x26e249(0x602)](_0x414e0c){const _0x23aba6=a0_0x26e249;let _0x19766b=await this[_0x23aba6(0x853)](_0x414e0c[_0x23aba6(0x401)]['image'],_0x414e0c[_0x23aba6(0x36e)]),_0x4cca02=await this['sendMessageWithTyping'](_0x414e0c[_0x23aba6(0x36e)],{'sticker':{'url':_0x19766b}},_0x414e0c?.['options']);return j[_0x23aba6(0x1c6)](_0x19766b),this[_0x23aba6(0x392)][_0x23aba6(0x57c)](this[_0x23aba6(0x156)]+'\x20('+this['instance'][_0x23aba6(0x2bd)]+_0x23aba6(0x76e)),_0x4cca02;}async[a0_0x26e249(0x4b6)](_0x24966a){const _0x21daee=a0_0x26e249;if(this[_0x21daee(0x392)][_0x21daee(0x57c)](this[_0x21daee(0x156)]+'\x20('+this['instance'][_0x21daee(0x2bd)]+'):Sending\x20audio\x20whatsapp'),!_0x24966a[_0x21daee(0x3c8)]?.[_0x21daee(0x3b7)]&&_0x24966a[_0x21daee(0x3c8)]?.['encoding']!==!0x1&&(_0x24966a['options'][_0x21daee(0x3b7)]=!0x0),_0x24966a[_0x21daee(0x3c8)]?.[_0x21daee(0x3b7)]){let _0x21f0f3=await this['convertaudio'](_0x24966a[_0x21daee(0x4e3)][_0x21daee(0x2f0)]);if(typeof _0x21f0f3=='string'){let _0x3b4d7b=j[_0x21daee(0x592)](_0x21f0f3)[_0x21daee(0x76f)]('base64');return this['sendMessageWithTyping'](_0x24966a[_0x21daee(0x36e)],{'audio':Buffer[_0x21daee(0x7fb)](_0x3b4d7b,_0x21daee(0x5e7)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x21daee(0x2a6),'delay':_0x24966a?.[_0x21daee(0x3c8)]?.[_0x21daee(0x5af)]});}else throw new I(_0x21f0f3);}return await this[_0x21daee(0x817)](_0x24966a[_0x21daee(0x36e)],{'audio':(0x0,P[_0x21daee(0x66d)])(_0x24966a[_0x21daee(0x4e3)]['audio'])?{'url':_0x24966a[_0x21daee(0x4e3)][_0x21daee(0x2f0)]}:Buffer[_0x21daee(0x7fb)](_0x24966a[_0x21daee(0x4e3)]['audio'],'base64'),'ptt':!0x0,'mimetype':_0x21daee(0x752)},{'presence':'recording','delay':_0x24966a?.['options']?.[_0x21daee(0x5af)]});}async[a0_0x26e249(0x75a)](_0x11b33f){const _0x3a00c9=a0_0x26e249;this[_0x3a00c9(0x392)][_0x3a00c9(0x57c)](this['instanceName']+'\x20('+this['instance']['wuid']+'):Processing\x20audio');let _0x17b071=(0x0,P[_0x3a00c9(0x66d)])(_0x11b33f)?(0x0,Ft['createHash'])(_0x3a00c9(0x3f4))[_0x3a00c9(0x3e2)](_0x11b33f)['digest'](_0x3a00c9(0x4d9)):(0x0,Ft[_0x3a00c9(0x475)])(_0x3a00c9(0x3f4))['update'](_0x11b33f)['digest'](_0x3a00c9(0x4d9)),_0x10fac5=''+(0x0,F[_0x3a00c9(0x619)])(this['storePath'],_0x17b071+_0x3a00c9(0x2c2));if(j[_0x3a00c9(0x743)](_0x10fac5))return this[_0x3a00c9(0x392)][_0x3a00c9(0x57c)](this[_0x3a00c9(0x156)]+'\x20('+this[_0x3a00c9(0x848)]['wuid']+_0x3a00c9(0x174)),_0x10fac5;let _0x344391=''+(0x0,F[_0x3a00c9(0x619)])(this[_0x3a00c9(0x384)],_0x3a00c9(0x831)+(0x0,Me['v4'])()+_0x3a00c9(0x6e1));if((0x0,P['isURL'])(_0x11b33f)){let _0x1b061=new Date()[_0x3a00c9(0x634)](),_0x109cb0=_0x11b33f+_0x3a00c9(0x4e9)+_0x1b061,_0x343d50=await K['default'][_0x3a00c9(0x6c0)](_0x109cb0,{'responseType':'arraybuffer'});j[_0x3a00c9(0x1a9)](_0x344391,_0x343d50[_0x3a00c9(0x7c6)]);}else{let _0x1dc58e=Buffer[_0x3a00c9(0x7fb)](_0x11b33f,'base64');j[_0x3a00c9(0x1a9)](_0x344391,_0x1dc58e);}return new Promise((_0x52efed,_0x2d3531)=>{const _0x351e7e=_0x3a00c9;(0x0,De[_0x351e7e(0x6b6)])(As[_0x351e7e(0x6f9)]['path']+'\x20-i\x20'+_0x344391+'\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20'+_0x10fac5+'\x20-y',_0x2d86c6=>{const _0x1264a3=_0x351e7e;if(j[_0x1264a3(0x1c6)](_0x344391),_0x2d86c6){this['logger'][_0x1264a3(0x57c)](this[_0x1264a3(0x156)]+'\x20('+this[_0x1264a3(0x848)]['wuid']+_0x1264a3(0x3ef)),_0x2d3531(_0x2d86c6);return;}this[_0x1264a3(0x392)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1264a3(0x1d6)),_0x52efed(_0x10fac5);});});}async[a0_0x26e249(0x6eb)](_0xfb2e18){const _0x110587=a0_0x26e249;this[_0x110587(0x392)][_0x110587(0x57c)](this['instanceName']+'\x20('+this[_0x110587(0x848)][_0x110587(0x2bd)]+_0x110587(0x16d));let _0x258dfb=(0x0,Ft['createHash'])(_0x110587(0x3f4))[_0x110587(0x3e2)](_0xfb2e18)[_0x110587(0x4a1)]('hex'),_0xc84d65=''+(0x0,F['join'])(this[_0x110587(0x384)],_0x258dfb+_0x110587(0x6e1));if(j[_0x110587(0x743)](_0xc84d65))return this[_0x110587(0x392)][_0x110587(0x57c)](this[_0x110587(0x156)]+'\x20('+this[_0x110587(0x848)][_0x110587(0x2bd)]+_0x110587(0x174)),F['default'][_0x110587(0x802)](_0xc84d65);let _0x254da0=''+(0x0,F[_0x110587(0x619)])(this[_0x110587(0x384)],_0x110587(0x831)+_0x258dfb+_0x110587(0x2c2));if((0x0,P[_0x110587(0x66d)])(_0xfb2e18)){let _0x128236=new Date()[_0x110587(0x634)](),_0x643042=_0xfb2e18+_0x110587(0x4e9)+_0x128236,_0x2a4fab=await K[_0x110587(0x6f9)][_0x110587(0x6c0)](_0x643042,{'responseType':_0x110587(0x334)});j['writeFileSync'](_0x254da0,_0x2a4fab[_0x110587(0x7c6)]);}else{let _0x32cb0e=Buffer[_0x110587(0x7fb)](_0xfb2e18,_0x110587(0x5e7));j[_0x110587(0x1a9)](_0x254da0,_0x32cb0e);}return new Promise((_0x471a53,_0x279d2a)=>{const _0x26407e=_0x110587;(0x0,De[_0x26407e(0x6b6)])(As[_0x26407e(0x6f9)][_0x26407e(0x206)]+_0x26407e(0x7fc)+_0x254da0+_0x26407e(0x731)+_0xc84d65+_0x26407e(0x489),_0x4bf2aa=>{const _0x54825b=_0x26407e;if(j['unlinkSync'](_0x254da0),_0x4bf2aa){this[_0x54825b(0x392)][_0x54825b(0x57c)](this[_0x54825b(0x156)]+'\x20('+this[_0x54825b(0x848)]['wuid']+_0x54825b(0x3ef)),_0x279d2a(_0x4bf2aa);return;}this['logger']['verbose'](this[_0x54825b(0x156)]+'\x20('+this[_0x54825b(0x848)][_0x54825b(0x2bd)]+_0x54825b(0x1d6)),_0x471a53(F[_0x54825b(0x6f9)][_0x54825b(0x802)](_0xc84d65));});});}async[a0_0x26e249(0x354)](_0x2f6361){const _0x16f17d=a0_0x26e249;let _0x4b48d4={},_0x1bed67=_0x16f17d(0x5dc);if(_0x2f6361['buttonMessage']?.[_0x16f17d(0x48c)]){_0x1bed67=_0x2f6361[_0x16f17d(0x354)][_0x16f17d(0x48c)]?.[_0x16f17d(0x263)]['toUpperCase']()??_0x16f17d(0x5dc),_0x4b48d4[_0x16f17d(0x376)]=_0x1bed67['toLowerCase']()+_0x16f17d(0x6f3);let _0x2f75f6=await this['prepareMediaMessage'](_0x2f6361[_0x16f17d(0x354)]['mediaMessage']);_0x4b48d4[_0x16f17d(0x3e1)]=_0x2f75f6['message'][_0x4b48d4[_0x16f17d(0x376)]],_0x4b48d4[_0x16f17d(0x29b)]='*'+_0x2f6361[_0x16f17d(0x354)][_0x16f17d(0x598)]+_0x16f17d(0x6c2)+_0x2f6361['buttonMessage']['description'];}let _0x305a6a={'text':_0x2f6361[_0x16f17d(0x354)][_0x16f17d(0x673)][_0x16f17d(0x261)](_0x29ba8b=>_0x29ba8b[_0x16f17d(0x368)]),'ids':_0x2f6361[_0x16f17d(0x354)][_0x16f17d(0x673)][_0x16f17d(0x261)](_0x3b8748=>_0x3b8748[_0x16f17d(0x2e0)])};if(!(0x0,P['arrayUnique'])(_0x305a6a['text'])||!(0x0,P[_0x16f17d(0x5a4)])(_0x305a6a['ids']))throw new m(_0x16f17d(0x6f7),_0x16f17d(0x476));return await this[_0x16f17d(0x817)](_0x2f6361[_0x16f17d(0x36e)],{'buttonsMessage':{'text':_0x4b48d4?.[_0x16f17d(0x376)]?void 0x0:_0x2f6361['buttonMessage'][_0x16f17d(0x598)],'contentText':_0x4b48d4?.[_0x16f17d(0x29b)]??_0x2f6361[_0x16f17d(0x354)]['description'],'footerText':_0x2f6361['buttonMessage']?.[_0x16f17d(0x20c)],'buttons':_0x2f6361[_0x16f17d(0x354)]['buttons']['map'](_0x3ac287=>({'buttonText':{'displayText':_0x3ac287['buttonText']},'buttonId':_0x3ac287['buttonId'],'type':0x1})),'headerType':w['proto'][_0x16f17d(0x6f3)]['ButtonsMessage'][_0x16f17d(0x1db)][_0x1bed67],[_0x4b48d4?.[_0x16f17d(0x376)]]:_0x4b48d4?.[_0x16f17d(0x3e1)]}},_0x2f6361?.[_0x16f17d(0x3c8)]);}async['locationMessage'](_0x1b985b){const _0x227106=a0_0x26e249;return await this[_0x227106(0x817)](_0x1b985b['number'],{'locationMessage':{'degreesLatitude':_0x1b985b[_0x227106(0x416)][_0x227106(0x767)],'degreesLongitude':_0x1b985b[_0x227106(0x416)][_0x227106(0x56b)],'name':_0x1b985b[_0x227106(0x416)]?.['name'],'address':_0x1b985b[_0x227106(0x416)]?.[_0x227106(0x7d3)]}},_0x1b985b?.[_0x227106(0x3c8)]);}async['contactMessage'](_0x4bbb4b){const _0x5c2f45=a0_0x26e249;let _0x41e360={},_0x58923b=async _0x4cb31b=>{const _0x117011=a0_0x3705;let _0x3b6ba0=_0x117011(0x5a2)+_0x4cb31b[_0x117011(0x275)]+_0x117011(0x5ab)+_0x4cb31b[_0x117011(0x275)]+'\x0a';_0x4cb31b[_0x117011(0x7f1)]&&(_0x3b6ba0+=_0x117011(0x72a)+_0x4cb31b[_0x117011(0x7f1)]+';\x0a'),_0x4cb31b[_0x117011(0x56c)]&&(_0x3b6ba0+=_0x117011(0x6e8)+_0x4cb31b[_0x117011(0x56c)]+'\x0a'),_0x4cb31b[_0x117011(0x2fa)]&&(_0x3b6ba0+='URL:'+_0x4cb31b['url']+'\x0a');let _0xfa6da6='',_0x4f1511=0x1;if(_0x4cb31b['phoneNumber']){let _0x1215c9=_0x4cb31b[_0x117011(0x49e)][_0x117011(0x510)]('|');for(let _0x48c0de of _0x1215c9){let _0x22d120=await this[_0x117011(0x269)]({'numbers':[_0x48c0de]}),_0x1e435a=(_0x22d120[_0x117011(0x62e)]>0x0?_0x22d120[0x0][_0x117011(0x7d1)]:this[_0x117011(0x49f)](_0x48c0de))['replace']('@s.whatsapp.net','');_0xfa6da6+=_0x117011(0x63e)+_0x4f1511+_0x117011(0x52a)+_0x1e435a+':'+_0x48c0de+_0x117011(0x7cc)+_0x4f1511+_0x117011(0x51d),_0x4f1511++;}}return _0x3b6ba0+=_0xfa6da6+_0x117011(0x638),_0x3b6ba0;};return _0x4bbb4b['contactMessage']['length']===0x1?_0x41e360[_0x5c2f45(0x38f)]={'displayName':_0x4bbb4b[_0x5c2f45(0x38f)][0x0][_0x5c2f45(0x275)],'vcard':await _0x58923b(_0x4bbb4b[_0x5c2f45(0x38f)][0x0])}:_0x41e360[_0x5c2f45(0x47b)]={'displayName':_0x4bbb4b[_0x5c2f45(0x38f)]['length']+'\x20contacts','contacts':await Promise[_0x5c2f45(0x574)](_0x4bbb4b[_0x5c2f45(0x38f)][_0x5c2f45(0x261)](async _0x17ac11=>({'displayName':_0x17ac11[_0x5c2f45(0x275)],'vcard':await _0x58923b(_0x17ac11)})))},await this[_0x5c2f45(0x817)](_0x4bbb4b['number'],{..._0x41e360},_0x4bbb4b?.[_0x5c2f45(0x3c8)]);}async[a0_0x26e249(0x214)](_0x3d9ef3){const _0x3a82e3=a0_0x26e249;return await this[_0x3a82e3(0x817)](_0x3d9ef3[_0x3a82e3(0x214)][_0x3a82e3(0x7dd)][_0x3a82e3(0x1e8)],{'reactionMessage':{'key':_0x3d9ef3[_0x3a82e3(0x214)]['key'],'text':_0x3d9ef3['reactionMessage']['reaction']}});}[a0_0x26e249(0x18a)](_0x2d5929){const _0x6d0933=a0_0x26e249;return[this[_0x6d0933(0x1b8)](_0x2d5929),_0x2d5929];}async['whatsappNumber'](_0x42d364){const _0xb8b38a=a0_0x26e249;let _0x1f9f71=[];for await(let _0x281e63 of _0x42d364[_0xb8b38a(0x843)]){let _0x54e2c2=this[_0xb8b38a(0x49f)](_0x281e63),_0x20e13f=!0x1;try{if((0x0,w['isJidGroup'])(_0x54e2c2)){let _0x3a7fda=(await this[_0xb8b38a(0x1e2)][_0xb8b38a(0x3b6)][_0xb8b38a(0x49c)]({'where':{'_id':_0x54e2c2}},this[_0xb8b38a(0x848)]['wuid']))[_0xb8b38a(0x706)];_0x20e13f=!!_0x3a7fda?.['id']&&!!_0x3a7fda?.[_0xb8b38a(0x1f2)],_0x1f9f71[_0xb8b38a(0x65e)](new ye(_0x3a7fda['id'],_0x20e13f,_0x3a7fda?.[_0xb8b38a(0x523)]));}else{let _0x5bce34=(await this[_0xb8b38a(0x39e)][_0xb8b38a(0x474)](_0x54e2c2))[0x0];_0x20e13f=_0x5bce34[_0xb8b38a(0x7fd)],_0x1f9f71[_0xb8b38a(0x65e)](new ye(_0x5bce34[_0xb8b38a(0x7d1)],_0x20e13f));}}catch{(0x0,w[_0xb8b38a(0x4f8)])(_0x54e2c2)||await this['deleteImportedChat'](_0x54e2c2,_0x20e13f),_0x1f9f71[_0xb8b38a(0x65e)](new ye(_0x281e63,!0x1));}}return _0x1f9f71;}async[a0_0x26e249(0x558)](_0x14705a,_0x2e993c){const _0x209df5=a0_0x26e249;try{await this[_0x209df5(0x1e2)][_0x209df5(0x3b6)][_0x209df5(0x49c)]({'where':{'_id':_0x14705a,'imported':!0x0}},this['instance'][_0x209df5(0x2bd)])&&(_0x2e993c||(await this[_0x209df5(0x1e2)][_0x209df5(0x3b6)][_0x209df5(0x41b)](_0x14705a,this[_0x209df5(0x848)][_0x209df5(0x2bd)]),this['logger']['info'](_0x209df5(0x570)+_0x14705a+_0x209df5(0x3df))));}catch(_0x1a8dc4){let _0x29986c=_0x209df5(0x2ff),_0x57e592=_0x1a8dc4 instanceof Error?_0x1a8dc4['message']:typeof _0x1a8dc4==_0x209df5(0x232)?JSON[_0x209df5(0x395)](_0x1a8dc4):_0x1a8dc4,_0x3babfd=_0x29986c+':\x20'+_0x57e592;this['logger']['error'](this[_0x209df5(0x156)]+'\x20('+this[_0x209df5(0x848)][_0x209df5(0x2bd)]+_0x209df5(0x69f)+_0x3babfd);}}async[a0_0x26e249(0x840)](_0x514057){const _0x2eddbd=a0_0x26e249;try{let _0x109796=_0x514057[_0x2eddbd(0x340)]['filter'](_0x2a4aa6=>(0x0,w['isJidGroup'])(_0x2a4aa6[_0x2eddbd(0x1e8)])||(0x0,w[_0x2eddbd(0x568)])(_0x2a4aa6[_0x2eddbd(0x1e8)]))['map'](_0x2d8e51=>({'remoteJid':_0x2d8e51[_0x2eddbd(0x1e8)],'fromMe':_0x2d8e51['fromMe'],'id':_0x2d8e51['id']}));await this[_0x2eddbd(0x39e)][_0x2eddbd(0x340)](_0x109796);let _0x5104fa=_0x109796[_0x2eddbd(0x261)](_0x16cf2b=>this[_0x2eddbd(0x166)](_0x16cf2b,{'status':_0x2eddbd(0x28b),'owner':this[_0x2eddbd(0x848)][_0x2eddbd(0x2bd)]})),_0x501642=_0x109796[_0x2eddbd(0x261)](_0x2e38c4=>this[_0x2eddbd(0x1e2)][_0x2eddbd(0x3b6)]['updateOne']({'where':{'_id':_0x2e38c4[_0x2eddbd(0x1e8)]}},{'unreadcount':0x0},this[_0x2eddbd(0x848)]['wuid'])),[_0x55c50d,_0x34916b]=await Promise[_0x2eddbd(0x574)]([Promise[_0x2eddbd(0x574)](_0x5104fa),Promise[_0x2eddbd(0x574)](_0x501642)]);return _0x34916b[_0x2eddbd(0x27f)](_0x1a5687=>_0x1a5687!==null)[_0x2eddbd(0x522)](_0x153400=>{const _0x5711a1=_0x2eddbd;J(this[_0x5711a1(0x156)],_0x5711a1(0x596),{'chat':_0x153400});}),{'message':_0x2eddbd(0x702),'read':_0x2eddbd(0x540)};}catch(_0x6484c1){let _0x4b1a7e=_0x2eddbd(0x28e),_0x429ba8=_0x6484c1 instanceof Error?_0x6484c1[_0x2eddbd(0x3e1)]:typeof _0x6484c1==_0x2eddbd(0x232)?JSON[_0x2eddbd(0x395)](_0x6484c1):_0x6484c1,_0x36a7e6=_0x4b1a7e+':\x20'+_0x429ba8;throw this[_0x2eddbd(0x392)]['error'](this[_0x2eddbd(0x156)]+'\x20('+this[_0x2eddbd(0x848)][_0x2eddbd(0x2bd)]+'):\x20'+_0x36a7e6),new I(_0x36a7e6);}}async[a0_0x26e249(0x460)](_0x469ffb){const _0x32a701=a0_0x26e249;let _0x257efb={'where':{'key':{'remoteJid':_0x469ffb}},'limit':0x1},_0x3673b3=await this[_0x32a701(0x829)](_0x257efb);return _0x3673b3||(console[_0x32a701(0x819)](_0x32a701(0x48f),_0x469ffb),null);}async[a0_0x26e249(0x4b2)](_0xb32e6f){const _0x46f63b=a0_0x26e249;this[_0x46f63b(0x392)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x46f63b(0x2bd)]+_0x46f63b(0x4b5));try{let _0x2959f2=_0xb32e6f['lastMessage'],_0x4f1f4d=_0xb32e6f[_0x46f63b(0x3b6)];if(!_0x2959f2&&_0x4f1f4d?_0x2959f2=await this[_0x46f63b(0x460)](_0x4f1f4d):(_0x2959f2=_0xb32e6f[_0x46f63b(0x374)],_0x2959f2[_0x46f63b(0x6cb)]=_0x2959f2?.['messageTimestamp']??Date[_0x46f63b(0x80b)](),_0x4f1f4d=_0x2959f2?.[_0x46f63b(0x7dd)]?.[_0x46f63b(0x1e8)]),!_0x2959f2||Object[_0x46f63b(0x4a9)](_0x2959f2)[_0x46f63b(0x62e)]===0x0)throw new U('Last\x20message\x20not\x20found');this[_0x46f63b(0x392)]['verbose'](this[_0x46f63b(0x156)]+'\x20('+this['instance'][_0x46f63b(0x2bd)]+_0x46f63b(0x7e0)+_0x4f1f4d);try{await this[_0x46f63b(0x39e)][_0x46f63b(0x448)]({'archive':_0xb32e6f[_0x46f63b(0x42a)],'lastMessages':[_0x2959f2]},this[_0x46f63b(0x49f)](_0x4f1f4d));}catch(_0x35e414){let _0x3c3846='Error\x20in\x20chatModify\x20for\x20number\x20'+_0x4f1f4d,_0x32d546=_0x35e414 instanceof Error?_0x35e414[_0x46f63b(0x3e1)]:typeof _0x35e414==_0x46f63b(0x232)?JSON['stringify'](_0x35e414):_0x35e414,_0x3b44c5=_0x3c3846+':\x20'+_0x32d546;this['logger'][_0x46f63b(0x819)](this['instanceName']+'\x20('+this[_0x46f63b(0x848)]['wuid']+_0x46f63b(0x69f)+_0x3b44c5);}this['logger']['verbose'](this[_0x46f63b(0x156)]+'\x20('+this[_0x46f63b(0x848)][_0x46f63b(0x2bd)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x4f1f4d);let _0x197303=await this['repository'][_0x46f63b(0x3b6)][_0x46f63b(0x68c)]({'where':{'_id':_0x2959f2?.[_0x46f63b(0x7dd)]?.[_0x46f63b(0x1e8)]}},{'archived':_0xb32e6f[_0x46f63b(0x42a)]},this[_0x46f63b(0x848)]['wuid']);return _0x197303?(this[_0x46f63b(0x392)][_0x46f63b(0x57c)](this['instanceName']+'\x20('+this[_0x46f63b(0x848)][_0x46f63b(0x2bd)]+'):Notifying\x20clients\x20for\x20chat:\x20'+JSON[_0x46f63b(0x395)](_0x197303)),J(this[_0x46f63b(0x156)],_0x46f63b(0x596),{'chat':_0x197303})):this[_0x46f63b(0x392)][_0x46f63b(0x819)](this[_0x46f63b(0x156)]+'\x20('+this['instance']['wuid']+'):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x4f1f4d),{'chatId':_0x4f1f4d,'archived':_0xb32e6f[_0x46f63b(0x42a)]};}catch(_0x29428b){let _0x5a7861=_0x46f63b(0x74a),_0x39d05e=_0x29428b instanceof Error?_0x29428b[_0x46f63b(0x3e1)]:typeof _0x29428b==_0x46f63b(0x232)?JSON[_0x46f63b(0x395)](_0x29428b):_0x29428b,_0x2b6a65=_0x5a7861+':\x20'+_0x39d05e;throw this[_0x46f63b(0x392)][_0x46f63b(0x819)](this[_0x46f63b(0x156)]+'\x20('+this['instance'][_0x46f63b(0x2bd)]+_0x46f63b(0x69f)+_0x2b6a65),new I(_0x2b6a65);}}async[a0_0x26e249(0x41b)](_0x217d3a){const _0x1ae7e0=a0_0x26e249;this['logger'][_0x1ae7e0(0x57c)](this['instanceName']+'\x20('+this['instance'][_0x1ae7e0(0x2bd)]+'):Delete\x20chat');try{let _0x453a1d=await this[_0x1ae7e0(0x460)](_0x217d3a);if(!_0x453a1d||Object[_0x1ae7e0(0x4a9)](_0x453a1d)['length']===0x0)throw new U(_0x1ae7e0(0x4bb));let _0x56d078=_0x453a1d[0x0];this['logger'][_0x1ae7e0(0x57c)](this[_0x1ae7e0(0x156)]+'\x20('+this['instance']['wuid']+'):Delete\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x217d3a);try{await this[_0x1ae7e0(0x39e)]['chatModify']({'delete':!0x0,'lastMessages':[{'key':_0x56d078[_0x1ae7e0(0x7dd)],'messageTimestamp':_0x56d078[_0x1ae7e0(0x6cb)]}]},this[_0x1ae7e0(0x49f)](_0x217d3a));}catch(_0x1d0374){this['logger'][_0x1ae7e0(0x819)](_0x1ae7e0(0x60c)+_0x217d3a+':\x20'+_0x1d0374['toString']());}this[_0x1ae7e0(0x392)][_0x1ae7e0(0x57c)](this[_0x1ae7e0(0x156)]+'\x20('+this[_0x1ae7e0(0x848)][_0x1ae7e0(0x2bd)]+_0x1ae7e0(0x24d)+_0x217d3a);return;}catch(_0x360140){throw this['logger'][_0x1ae7e0(0x819)](this[_0x1ae7e0(0x156)]+'\x20('+this['instance']['wuid']+_0x1ae7e0(0x651)+_0x360140[_0x1ae7e0(0x76f)]()),new I({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x360140[_0x1ae7e0(0x76f)]()]});}}async[a0_0x26e249(0x54d)](_0x5bc124){const _0x1630d7=a0_0x26e249;try{let _0x2d928c=await this[_0x1630d7(0x39e)][_0x1630d7(0x2c9)](_0x5bc124[_0x1630d7(0x1e8)],{'delete':_0x5bc124});try{let _0x2b6958=await this['updateMessage'](_0x5bc124,{'status':_0x1630d7(0x827),'owner':this[_0x1630d7(0x848)][_0x1630d7(0x2bd)]});this[_0x1630d7(0x392)][_0x1630d7(0x57c)](this[_0x1630d7(0x156)]+'\x20('+this[_0x1630d7(0x848)][_0x1630d7(0x2bd)]+_0x1630d7(0x526)+_0x2b6958);}catch(_0xb01311){console[_0x1630d7(0x819)](_0x1630d7(0x307),_0xb01311);}return _0x2d928c;}catch(_0x5e39fb){throw new I(_0x1630d7(0x4b4),_0x5e39fb?.[_0x1630d7(0x76f)]());}}async[a0_0x26e249(0x6de)](_0x2dbdcf){const _0x2f736a=a0_0x26e249;try{let _0x56f68b=_0x2dbdcf?.[_0x2f736a(0x3e1)]?_0x2dbdcf:await this['getMessage'](_0x2dbdcf[_0x2f736a(0x7dd)],!0x0);for(let _0x9b83cc of wa)_0x56f68b['message'][_0x9b83cc]&&(_0x56f68b[_0x2f736a(0x3e1)]=_0x56f68b[_0x2f736a(0x3e1)][_0x9b83cc][_0x2f736a(0x3e1)]);let _0x13a12c,_0x147fe2;for(let _0xb4ad87 of fa)if(_0x13a12c=_0x56f68b[_0x2f736a(0x3e1)][_0xb4ad87],_0x13a12c){_0x147fe2=_0xb4ad87;break;}if(!_0x13a12c)throw _0x2f736a(0x2c6);typeof _0x13a12c[_0x2f736a(0x376)]==_0x2f736a(0x232)&&(_0x56f68b['message']=JSON[_0x2f736a(0x311)](JSON[_0x2f736a(0x395)](_0x56f68b['message'])));let _0x3dee4f=await(0x0,w[_0x2f736a(0x5e2)])({'key':_0x56f68b?.[_0x2f736a(0x7dd)],'message':_0x56f68b?.[_0x2f736a(0x3e1)]},_0x2f736a(0x539),{},{'logger':(0x0,Pt['default'])({'level':_0x2f736a(0x66f)}),'reuploadRequest':this[_0x2f736a(0x39e)]['updateMediaMessage']});if(!(_0x3dee4f instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x35caa4=this['configService'][_0x2f736a(0x6c0)]('DATABASE'),_0x594807,_0x1c725d;if(_0x13a12c['fileName'])_0x594807=_0x13a12c['fileName'];else{let _0x3a92b4=_0x13a12c[_0x2f736a(0x386)]?.[_0x2f736a(0x83b)](/\/(\w+)/),_0xed861c=_0x3a92b4?_0x3a92b4[0x1]:null;if(!_0xed861c)throw new Error(_0x2f736a(0x4bf));_0x594807=(0x0,Me['v4'])()+'.'+_0xed861c;}_0x147fe2===_0x2f736a(0x4e3)?_0x1c725d=_0x2f736a(0x36d)+await this[_0x2f736a(0x6eb)](_0x3dee4f[_0x2f736a(0x76f)](_0x2f736a(0x5e7))):(await this[_0x2f736a(0x67a)](_0x3dee4f,_0x594807),_0x1c725d=_0x2f736a(0x36d)+_0x594807);let _0xf36992=this['configService'][_0x2f736a(0x6c0)]('SERVER')['URL'];if(!_0xf36992){let _0x331cfa=this[_0x2f736a(0x189)]['get'](_0x2f736a(0x238));_0xf36992=_0x2f736a(0x18d)+(_0x331cfa&&_0x331cfa[_0x2f736a(0x3e7)]['split']('/')[0x4]);}_0x1c725d=''+_0xf36992+_0x1c725d;let _0x3c4a97=0xc*0x3c*0x3c*0x3e8,_0x30acb1={'where':{'_id':_0x56f68b[_0x2f736a(0x7dd)]['id']}},_0x41822b={'message_normalized.fileUrl':_0x1c725d,'message_normalized.expires_fileUrl':Date['now']()+_0x3c4a97};try{let _0x117fc3=await this['repository'][_0x2f736a(0x3e1)][_0x2f736a(0x3e2)](_0x30acb1,_0x41822b,this[_0x2f736a(0x848)]['wuid']);_0x117fc3&&J(this[_0x2f736a(0x156)],'messages',{'message':_0x117fc3});}catch(_0x493aec){let _0x303e52=_0x2f736a(0x860),_0x32c383=_0x493aec instanceof Error?_0x493aec[_0x2f736a(0x3e1)]:typeof _0x493aec==_0x2f736a(0x232)?JSON[_0x2f736a(0x395)](_0x493aec):_0x493aec,_0x411f3d=_0x303e52+':\x20'+_0x32c383;this['logger'][_0x2f736a(0x819)](this[_0x2f736a(0x156)]+'\x20('+this[_0x2f736a(0x848)][_0x2f736a(0x2bd)]+'):\x20'+_0x411f3d);}return{'mediaType':_0x147fe2,'fileName':_0x13a12c[_0x2f736a(0x771)],'caption':_0x13a12c[_0x2f736a(0x2eb)],'size':{'fileLength':_0x13a12c[_0x2f736a(0x378)],'height':_0x13a12c[_0x2f736a(0x7f2)],'width':_0x13a12c[_0x2f736a(0x58d)]},'mimetype':_0x13a12c['mimetype'],'base64':_0x3dee4f[_0x2f736a(0x76f)](_0x2f736a(0x5e7)),'fileUrl':_0x1c725d,'expires_fileUrl':Date[_0x2f736a(0x80b)]()+_0x3c4a97};}catch(_0x57c96e){let _0x57b3cb='Falha\x20ao\x20processar\x20a\x20solicitação',_0x46c2c6=_0x57c96e instanceof Error?_0x57c96e[_0x2f736a(0x3e1)]:typeof _0x57c96e=='object'?JSON[_0x2f736a(0x395)](_0x57c96e):_0x57c96e,_0x32d537=_0x57b3cb+':\x20'+_0x46c2c6;throw this['logger'][_0x2f736a(0x819)](this['instanceName']+'\x20('+this['instance'][_0x2f736a(0x2bd)]+_0x2f736a(0x69f)+_0x32d537),new m(_0x32d537);}}async[a0_0x26e249(0x67a)](_0x19e886,_0x1ab797){const _0x283cd9=a0_0x26e249;let _0x205dd9=F[_0x283cd9(0x6f9)][_0x283cd9(0x619)](__dirname,'downloads');j['existsSync'](_0x205dd9)||j['mkdirSync'](_0x205dd9,{'recursive':!0x0});let _0x1637c8=F[_0x283cd9(0x6f9)][_0x283cd9(0x619)](_0x205dd9,_0x1ab797);return new Promise((_0x2071ff,_0xbe7f44)=>{const _0x7a894f=_0x283cd9;j[_0x7a894f(0x4c5)](_0x1637c8,_0x19e886,_0x3d06ce=>{const _0x5def51=_0x7a894f;_0x3d06ce?(this[_0x5def51(0x392)][_0x5def51(0x819)]('Error\x20writing\x20file:\x20'+(_0x3d06ce instanceof Error?_0x3d06ce[_0x5def51(0x3e1)]:JSON['stringify'](_0x3d06ce,null,0x2))),_0xbe7f44(_0x3d06ce)):(this[_0x5def51(0x392)][_0x5def51(0x61f)]('File\x20written\x20to\x20path:\x20'+_0x1637c8),_0x2071ff(_0x1637c8));});});}async['fetchContacts'](_0x3c1d3d){const _0x4cdf7b=a0_0x26e249;return await this[_0x4cdf7b(0x1e2)][_0x4cdf7b(0x1b1)]['find'](_0x3c1d3d,this[_0x4cdf7b(0x848)][_0x4cdf7b(0x2bd)]);}async[a0_0x26e249(0x5bf)](){const _0x566c92=a0_0x26e249;return await this[_0x566c92(0x1e2)][_0x566c92(0x488)]['find']({'where':{}},this[_0x566c92(0x848)][_0x566c92(0x2bd)]);}async['fetchMessages'](_0xad2898){const _0x3c87e3=a0_0x26e249;return await this[_0x3c87e3(0x1e2)][_0x3c87e3(0x3e1)][_0x3c87e3(0x288)](_0xad2898,this[_0x3c87e3(0x848)][_0x3c87e3(0x2bd)]);}async['fetchChats'](){const _0x2b61c8=a0_0x26e249;return this['repository']['chat']['removeUnusedChatFields'](this[_0x2b61c8(0x848)][_0x2b61c8(0x2bd)]),this[_0x2b61c8(0x1e2)][_0x2b61c8(0x3b6)][_0x2b61c8(0x369)](this[_0x2b61c8(0x848)]['wuid']),this[_0x2b61c8(0x1e2)][_0x2b61c8(0x3b6)][_0x2b61c8(0x227)](this[_0x2b61c8(0x848)][_0x2b61c8(0x2bd)]),this[_0x2b61c8(0x1e2)][_0x2b61c8(0x3b6)][_0x2b61c8(0x2f2)](this[_0x2b61c8(0x848)][_0x2b61c8(0x2bd)]),await this['repository']['chat']['find']({'where':{}},this[_0x2b61c8(0x848)][_0x2b61c8(0x2bd)]);}async[a0_0x26e249(0x37e)](_0x4b0c81){const _0x563197=a0_0x26e249;try{if(!Array['isArray'](_0x4b0c81)||_0x4b0c81[_0x563197(0x62e)]===0x0)throw new Error(_0x563197(0x365));let _0x137364=[],_0x56badc=[];for(let _0x4f1a59 of _0x4b0c81){if(_0x4f1a59[_0x563197(0x68e)])_0x4f1a59[_0x563197(0x68e)]=this[_0x563197(0x49f)](_0x4f1a59['_id']);else continue;await this[_0x563197(0x1e2)][_0x563197(0x3b6)][_0x563197(0x49c)]({'where':{'_id':_0x4f1a59['_id']}},this[_0x563197(0x848)]['wuid'])?_0x56badc[_0x563197(0x65e)]({'_id':_0x4f1a59['_id'],'leadInfo':_0x4f1a59[_0x563197(0x484)],'owner':this[_0x563197(0x848)]['wuid']}):_0x137364[_0x563197(0x65e)]({'_id':_0x4f1a59[_0x563197(0x68e)],'owner':this['instance'][_0x563197(0x2bd)],'leadInfo':_0x4f1a59[_0x563197(0x484)],'imported':!0x0});}return _0x56badc[_0x563197(0x62e)]>0x0&&await this[_0x563197(0x1e2)][_0x563197(0x3b6)][_0x563197(0x180)](_0x56badc[_0x563197(0x261)](_0x5baa94=>({'query':{'where':{'_id':_0x5baa94[_0x563197(0x68e)],'owner':this[_0x563197(0x848)][_0x563197(0x2bd)]}},'update':_0x5baa94}))),_0x137364[_0x563197(0x62e)]>0x0&&await this['repository'][_0x563197(0x3b6)][_0x563197(0x3ab)](_0x137364,this[_0x563197(0x848)][_0x563197(0x2bd)]),{'updated':_0x56badc[_0x563197(0x62e)],'inserted':_0x137364[_0x563197(0x62e)]};}catch(_0x289bd8){let _0x132ceb=_0x563197(0x6a7),_0x24b614=_0x289bd8 instanceof Error?_0x289bd8[_0x563197(0x3e1)]:typeof _0x289bd8=='object'?JSON[_0x563197(0x395)](_0x289bd8):_0x289bd8,_0xddc7b9=_0x132ceb+':\x20'+_0x24b614;throw this[_0x563197(0x392)][_0x563197(0x819)](this[_0x563197(0x156)]+'\x20('+this[_0x563197(0x848)][_0x563197(0x2bd)]+'):\x20'+_0xddc7b9),new m(_0xddc7b9);}}async['importChats'](_0x1ed1b5){const _0x245cdb=a0_0x26e249;try{if(!Array[_0x245cdb(0x304)](_0x1ed1b5)||_0x1ed1b5['length']===0x0)throw new Error(_0x245cdb(0x365));let _0x46cdb3=0x64,_0x5b89dc=0x0;for(let _0x14c0c6=0x0;_0x14c0c6<_0x1ed1b5[_0x245cdb(0x62e)];_0x14c0c6+=_0x46cdb3){let _0x4f138a=_0x1ed1b5['slice'](_0x14c0c6,_0x14c0c6+_0x46cdb3),{updated:_0x51a2b6}=await this[_0x245cdb(0x6da)](_0x4f138a);_0x5b89dc+=_0x51a2b6;}return{'updated':_0x5b89dc};}catch(_0x5518d9){let _0x199b23=_0x245cdb(0x6a7),_0x551e28=_0x5518d9 instanceof Error?_0x5518d9[_0x245cdb(0x3e1)]:typeof _0x5518d9==_0x245cdb(0x232)?JSON[_0x245cdb(0x395)](_0x5518d9):_0x5518d9,_0x1d6040=_0x199b23+':\x20'+_0x551e28;throw this[_0x245cdb(0x392)]['error'](this[_0x245cdb(0x156)]+'\x20('+this[_0x245cdb(0x848)][_0x245cdb(0x2bd)]+_0x245cdb(0x69f)+_0x1d6040),new m(_0x1d6040);}}async[a0_0x26e249(0x6da)](_0x142f60){const _0x3a91c4=a0_0x26e249;try{let _0x25e98b=await this[_0x3a91c4(0x1e2)]['label'][_0x3a91c4(0x288)]({'where':{}},this[_0x3a91c4(0x848)]['wuid']),_0x51017a=new Set(_0x25e98b[_0x3a91c4(0x261)](_0x44fafd=>_0x44fafd['_id'])),_0x31c700=[],_0x2a5dfe=[];for(let _0x4aaf36 of _0x142f60){if(!_0x4aaf36['_id'])continue;_0x4aaf36['_id']=this[_0x3a91c4(0x49f)](_0x4aaf36[_0x3a91c4(0x68e)]);let _0x229085=await this[_0x3a91c4(0x1e2)][_0x3a91c4(0x3b6)][_0x3a91c4(0x49c)]({'where':{'_id':_0x4aaf36[_0x3a91c4(0x68e)]}},this[_0x3a91c4(0x848)][_0x3a91c4(0x2bd)]),_0x1fb4da={};if(Object['entries'](_0x4aaf36[_0x3a91c4(0x484)])[_0x3a91c4(0x522)](([_0x1c5339,_0x62461d])=>{const _0x1985c5=_0x3a91c4;_0x1fb4da[_0x1985c5(0x2a0)+_0x1c5339]=_0x62461d;}),_0x229085&&!_0x229085[_0x3a91c4(0x769)]){let _0x1debcc=(_0x4aaf36[_0x3a91c4(0x484)]['etiquetas']||[])[_0x3a91c4(0x27f)](_0x4315ea=>_0x51017a[_0x3a91c4(0x4c6)](_0x4315ea)),_0x7b791d=new Set(_0x229085[_0x3a91c4(0x484)][_0x3a91c4(0x7ff)]||[]),_0x515f44=_0x1debcc['filter'](_0x41b84b=>!_0x7b791d[_0x3a91c4(0x4c6)](_0x41b84b)),_0x273c62=[..._0x7b791d]['filter'](_0x536ffb=>!_0x1debcc[_0x3a91c4(0x5d9)](_0x536ffb));_0x2a5dfe[_0x3a91c4(0x65e)](..._0x515f44[_0x3a91c4(0x261)](_0x567142=>this['AddChatLabel'](_0x567142,_0x4aaf36[_0x3a91c4(0x68e)]))),_0x2a5dfe[_0x3a91c4(0x65e)](..._0x273c62[_0x3a91c4(0x261)](_0xa611cb=>this[_0x3a91c4(0x3fd)](_0xa611cb,_0x4aaf36['_id']))),_0x4aaf36[_0x3a91c4(0x484)]['etiquetas']=_0x1debcc,_0x31c700[_0x3a91c4(0x65e)]({'query':{'where':{'_id':_0x4aaf36[_0x3a91c4(0x68e)],'owner':this[_0x3a91c4(0x848)][_0x3a91c4(0x2bd)]}},'update':_0x1fb4da});}else _0x1fb4da[_0x3a91c4(0x769)]=!0x0,_0x31c700[_0x3a91c4(0x65e)]({'query':{'where':{'_id':_0x4aaf36[_0x3a91c4(0x68e)],'owner':this['instance']['wuid']}},'update':_0x1fb4da});}let _0x1f7c06=await this[_0x3a91c4(0x1e2)]['chat']['updateMany'](_0x31c700);return await Promise[_0x3a91c4(0x574)](_0x2a5dfe),{'updated':_0x1f7c06};}catch(_0x1c45d4){let _0x43e7d4=_0x3a91c4(0x6a7),_0x4b9ee5=_0x1c45d4 instanceof Error?_0x1c45d4['message']:typeof _0x1c45d4=='object'?JSON[_0x3a91c4(0x395)](_0x1c45d4):_0x1c45d4,_0x49f07f=_0x43e7d4+':\x20'+_0x4b9ee5;throw this[_0x3a91c4(0x392)][_0x3a91c4(0x819)](this[_0x3a91c4(0x156)]+'\x20('+this[_0x3a91c4(0x848)][_0x3a91c4(0x2bd)]+'):\x20'+_0x49f07f),new m(_0x49f07f);}}async[a0_0x26e249(0x7d8)](){const _0x473ee5=a0_0x26e249;return await this[_0x473ee5(0x39e)][_0x473ee5(0x7d8)]();}async[a0_0x26e249(0x7d7)](_0xf48413){const _0x3f586c=a0_0x26e249;try{return await this[_0x3f586c(0x39e)][_0x3f586c(0x811)](_0xf48413[_0x3f586c(0x5a0)]['readreceipts']),await this[_0x3f586c(0x39e)]['updateProfilePicturePrivacy'](_0xf48413[_0x3f586c(0x5a0)][_0x3f586c(0x4b0)]),await this[_0x3f586c(0x39e)][_0x3f586c(0x3f5)](_0xf48413[_0x3f586c(0x5a0)][_0x3f586c(0x228)]),await this[_0x3f586c(0x39e)][_0x3f586c(0x49a)](_0xf48413[_0x3f586c(0x5a0)][_0x3f586c(0x572)]),await this[_0x3f586c(0x39e)][_0x3f586c(0x405)](_0xf48413[_0x3f586c(0x5a0)][_0x3f586c(0x16e)]),await this['client'][_0x3f586c(0x347)](_0xf48413['privacySettings'][_0x3f586c(0x4b7)]),this[_0x3f586c(0x39e)]?.['ws']?.[_0x3f586c(0x1da)](),{'update':_0x3f586c(0x540),'data':{'readreceipts':_0xf48413[_0x3f586c(0x5a0)]['readreceipts'],'profile':_0xf48413['privacySettings']['profile'],'status':_0xf48413['privacySettings']['status'],'online':_0xf48413[_0x3f586c(0x5a0)][_0x3f586c(0x572)],'last':_0xf48413[_0x3f586c(0x5a0)][_0x3f586c(0x16e)],'groupadd':_0xf48413['privacySettings'][_0x3f586c(0x4b7)]}};}catch(_0x40dc20){let _0x5548b8=_0x3f586c(0x295),_0x9a20da=_0x40dc20 instanceof Error?_0x40dc20[_0x3f586c(0x3e1)]:typeof _0x40dc20=='object'?JSON[_0x3f586c(0x395)](_0x40dc20):_0x40dc20,_0x4561a4=_0x5548b8+':\x20'+_0x9a20da;throw this['logger'][_0x3f586c(0x819)](this['instanceName']+'\x20('+this[_0x3f586c(0x848)][_0x3f586c(0x2bd)]+_0x3f586c(0x69f)+_0x4561a4),new m(_0x4561a4);}}async[a0_0x26e249(0x391)](_0x576479){const _0x37fe72=a0_0x26e249;let _0x3289a2=(_0x576479?this[_0x37fe72(0x49f)](_0x576479):this[_0x37fe72(0x39e)]?.[_0x37fe72(0x4f1)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x37fe72(0x392)][_0x37fe72(0x57c)](this[_0x37fe72(0x156)]+'\x20('+this[_0x37fe72(0x848)][_0x37fe72(0x2bd)]+_0x37fe72(0x734)+_0x3289a2);let _0x57c2d4=await this['repository'][_0x37fe72(0x1b1)][_0x37fe72(0x49c)]({'where':{'_id':_0x3289a2}},this['instance'][_0x37fe72(0x2bd)]),_0x387eb9=_0x57c2d4?_0x57c2d4[_0x37fe72(0x6a9)]:null;try{let _0x33525e=(await this[_0x37fe72(0x269)]({'numbers':[_0x3289a2]}))?.[_0x37fe72(0x1c7)](),_0x4d1da1=(await this[_0x37fe72(0x6d7)](_0x3289a2,null,!0x1))['cachedContact'][_0x37fe72(0x237)],_0x187074=await this[_0x37fe72(0x777)](_0x33525e?.['jid']),_0x267884=await this['fetchBusinessProfile'](_0x33525e?.[_0x37fe72(0x7d1)]),_0x2e304f=(await this[_0x37fe72(0x6d7)](_0x3289a2,null,!0x1))['cachedContact']['name'],_0x10acac=await this[_0x37fe72(0x1e2)][_0x37fe72(0x3b6)][_0x37fe72(0x49c)]({'where':{'_id':_0x3289a2}},this[_0x37fe72(0x848)][_0x37fe72(0x2bd)]),_0x3ad16c={'imagechat':_0x4d1da1,'contactname':_0x387eb9||null,'pushName':_0x2e304f,'status':_0x187074?.['status'],'isBusiness':_0x267884[_0x37fe72(0x2f1)],'email':_0x267884?.[_0x37fe72(0x56c)],'description':_0x267884?.[_0x37fe72(0x46b)],'website':_0x267884?.[_0x37fe72(0x78f)]?.[_0x37fe72(0x1c7)](),'lastcache':Date[_0x37fe72(0x80b)](),'imported':!_0x10acac},_0x5d879c=await this[_0x37fe72(0x1e2)][_0x37fe72(0x3b6)][_0x37fe72(0x68c)]({'where':{'_id':_0x3289a2}},_0x3ad16c,this[_0x37fe72(0x848)][_0x37fe72(0x2bd)]),_0x2ca53f={'owner':this['instance'][_0x37fe72(0x2bd)],'_id':_0x3289a2,'profilePictureUrl':_0x4d1da1,'status':_0x187074?.[_0x37fe72(0x228)]};return this['repository']['contact'][_0x37fe72(0x3e2)]([_0x2ca53f],this[_0x37fe72(0x848)][_0x37fe72(0x2bd)]),_0x5d879c&&J(this[_0x37fe72(0x156)],_0x37fe72(0x596),{'chat':_0x5d879c}),{'wuid':_0x33525e?.[_0x37fe72(0x7d1)]||_0x3289a2,'name':_0x33525e?.['name'],'pushName':_0x2e304f,'numberExists':_0x33525e?.[_0x37fe72(0x7fd)],'picture':_0x4d1da1,'status':_0x187074?.['status'],'isBusiness':_0x267884['isBusiness'],'email':_0x267884?.[_0x37fe72(0x56c)],'description':_0x267884?.[_0x37fe72(0x46b)],'website':_0x267884?.[_0x37fe72(0x78f)]?.[_0x37fe72(0x1c7)]()};}catch(_0x1ad20d){return this[_0x37fe72(0x392)][_0x37fe72(0x819)](_0x37fe72(0x6a0)+(_0x1ad20d instanceof Error?_0x1ad20d[_0x37fe72(0x3e1)]:JSON[_0x37fe72(0x395)](_0x1ad20d,null,0x2))),{};}}async[a0_0x26e249(0x385)](_0x2be233){const _0x58e709=a0_0x26e249;this['logger'][_0x58e709(0x57c)](this[_0x58e709(0x156)]+'\x20('+this[_0x58e709(0x848)]['wuid']+_0x58e709(0x513));try{let _0x108834=_0x2be233?this[_0x58e709(0x49f)](_0x2be233):this[_0x58e709(0x848)][_0x58e709(0x2bd)],_0x1a062f=await this['client'][_0x58e709(0x3c2)](_0x108834);return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x58e709(0x848)]['wuid']+_0x58e709(0x801)),_0x1a062f?(this[_0x58e709(0x392)][_0x58e709(0x57c)](this[_0x58e709(0x156)]+'\x20('+this['instance'][_0x58e709(0x2bd)]+'):Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x1a062f}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this['whatsappNumber']({'numbers':[_0x108834]}))?.[_0x58e709(0x1c7)]()};}catch(_0x31e383){let _0x14c392='Falha\x20ao\x20processar\x20fetchBusinessProfile',_0x5419ee=_0x31e383 instanceof Error?_0x31e383[_0x58e709(0x3e1)]:typeof _0x31e383==_0x58e709(0x232)?JSON[_0x58e709(0x395)](_0x31e383):_0x31e383,_0x1ab9fb=_0x14c392+':\x20'+_0x5419ee;throw this[_0x58e709(0x392)][_0x58e709(0x819)](this[_0x58e709(0x156)]+'\x20('+this[_0x58e709(0x848)]['wuid']+_0x58e709(0x69f)+_0x1ab9fb),new I(_0x1ab9fb);}}async[a0_0x26e249(0x777)](_0x2dc665){const _0x261b16=a0_0x26e249;let _0x226357=this[_0x261b16(0x49f)](_0x2dc665);try{return{'wuid':_0x226357,'status':(await this['client'][_0x261b16(0x5cb)](_0x226357))?.[_0x261b16(0x228)]};}catch{return{'wuid':_0x226357,'status':null};}}async['updateProfileName'](_0x38a811){const _0x46cc31=a0_0x26e249;try{return await this['client']['updateProfileName'](_0x38a811),{'update':_0x46cc31(0x540)};}catch(_0x48a3ac){let _0x7bd294=_0x46cc31(0x63f),_0x833e41=_0x48a3ac instanceof Error?_0x48a3ac[_0x46cc31(0x3e1)]:typeof _0x48a3ac=='object'?JSON[_0x46cc31(0x395)](_0x48a3ac):_0x48a3ac,_0x17368a=_0x7bd294+':\x20'+_0x833e41;throw this[_0x46cc31(0x392)][_0x46cc31(0x819)](this[_0x46cc31(0x156)]+'\x20('+this[_0x46cc31(0x848)][_0x46cc31(0x2bd)]+_0x46cc31(0x69f)+_0x17368a),new I(_0x17368a);}}async[a0_0x26e249(0x194)](_0x32876c){const _0x40fb75=a0_0x26e249;try{return await this[_0x40fb75(0x39e)]['updateProfileStatus'](_0x32876c),{'update':_0x40fb75(0x540)};}catch(_0x13d35f){let _0x4925d7=_0x40fb75(0x3d5),_0x50594a=_0x13d35f instanceof Error?_0x13d35f[_0x40fb75(0x3e1)]:typeof _0x13d35f=='object'?JSON[_0x40fb75(0x395)](_0x13d35f):_0x13d35f,_0x405065=_0x4925d7+':\x20'+_0x50594a;throw this[_0x40fb75(0x392)][_0x40fb75(0x819)](this[_0x40fb75(0x156)]+'\x20('+this['instance'][_0x40fb75(0x2bd)]+'):\x20'+_0x405065),new I(_0x405065);}}async['updateProfilePicture'](_0x3adc88){const _0x4857c4=a0_0x26e249;try{let _0x34db7a;if((0x0,P['isURL'])(_0x3adc88)){let _0x9f7c96=new Date()[_0x4857c4(0x634)](),_0x46113f=_0x3adc88+_0x4857c4(0x4e9)+_0x9f7c96;_0x34db7a=(await K[_0x4857c4(0x6f9)][_0x4857c4(0x6c0)](_0x46113f,{'responseType':_0x4857c4(0x334)}))['data'];}else{if((0x0,P[_0x4857c4(0x273)])(_0x3adc88))_0x34db7a=Buffer[_0x4857c4(0x7fb)](_0x3adc88,_0x4857c4(0x5e7));else throw new m(_0x4857c4(0x1b7));}return await this['client'][_0x4857c4(0x26c)](this[_0x4857c4(0x848)][_0x4857c4(0x2bd)],_0x34db7a),{'update':_0x4857c4(0x540)};}catch(_0x25fb5c){let _0x4f3acb='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture',_0x31082c=_0x25fb5c instanceof Error?_0x25fb5c[_0x4857c4(0x3e1)]:typeof _0x25fb5c==_0x4857c4(0x232)?JSON[_0x4857c4(0x395)](_0x25fb5c):_0x25fb5c,_0x5cdbe1=_0x4f3acb+':\x20'+_0x31082c;throw this[_0x4857c4(0x392)][_0x4857c4(0x819)](this[_0x4857c4(0x156)]+'\x20('+this[_0x4857c4(0x848)][_0x4857c4(0x2bd)]+_0x4857c4(0x69f)+_0x5cdbe1),new I(_0x5cdbe1);}}async['removeProfilePicture'](){const _0xa192e4=a0_0x26e249;try{return await this['client']['removeProfilePicture'](this[_0xa192e4(0x848)][_0xa192e4(0x2bd)]),{'update':_0xa192e4(0x540)};}catch(_0x428ac1){let _0x4e7bba='Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture',_0x190b8d=_0x428ac1 instanceof Error?_0x428ac1[_0xa192e4(0x3e1)]:typeof _0x428ac1=='object'?JSON[_0xa192e4(0x395)](_0x428ac1):_0x428ac1,_0xcdf786=_0x4e7bba+':\x20'+_0x190b8d;throw this['logger'][_0xa192e4(0x819)](this['instanceName']+'\x20('+this[_0xa192e4(0x848)][_0xa192e4(0x2bd)]+'):\x20'+_0xcdf786),new I(_0xcdf786);}}async[a0_0x26e249(0x377)](_0x340914){const _0x253cb1=a0_0x26e249;try{let _0x18320d=(await this[_0x253cb1(0x269)]({'numbers':_0x340914[_0x253cb1(0x3a6)]}))[_0x253cb1(0x27f)](_0x50d7a0=>_0x50d7a0[_0x253cb1(0x7fd)])['map'](_0x318bd8=>_0x318bd8['jid']),{id:_0x1d6053}=await this['client']['groupCreate'](_0x340914[_0x253cb1(0x523)],_0x18320d);_0x340914?.['description']&&await this[_0x253cb1(0x39e)][_0x253cb1(0x1f8)](_0x1d6053,_0x340914['description']);let _0x2867f7=await this[_0x253cb1(0x39e)][_0x253cb1(0x7c4)](_0x1d6053);return _0x2867f7[_0x253cb1(0x312)]=[],{'metadata':_0x2867f7};}catch(_0x36a259){let _0x50ba14=_0x253cb1(0x2de),_0x535460=_0x36a259 instanceof Error?_0x36a259[_0x253cb1(0x3e1)]:typeof _0x36a259==_0x253cb1(0x232)?JSON[_0x253cb1(0x395)](_0x36a259):_0x36a259,_0x447665=_0x50ba14+':\x20'+_0x535460;throw this[_0x253cb1(0x392)][_0x253cb1(0x819)](this[_0x253cb1(0x156)]+'\x20('+this[_0x253cb1(0x848)][_0x253cb1(0x2bd)]+_0x253cb1(0x69f)+_0x447665),new I(_0x447665);}}async[a0_0x26e249(0x80f)](_0x31f5b1){const _0x3f7496=a0_0x26e249;try{if(_0x31f5b1['restrict']===!0x0&&await this[_0x3f7496(0x39e)][_0x3f7496(0x4c9)](_0x31f5b1['groupJid'],_0x3f7496(0x789)),_0x31f5b1[_0x3f7496(0x71c)]===!0x1&&await this[_0x3f7496(0x39e)][_0x3f7496(0x4c9)](_0x31f5b1[_0x3f7496(0x67c)],_0x3f7496(0x509)),_0x31f5b1[_0x3f7496(0x5b7)]===!0x0&&await this[_0x3f7496(0x39e)][_0x3f7496(0x4c9)](_0x31f5b1[_0x3f7496(0x67c)],_0x3f7496(0x644)),_0x31f5b1[_0x3f7496(0x5b7)]===!0x1&&await this[_0x3f7496(0x39e)][_0x3f7496(0x4c9)](_0x31f5b1[_0x3f7496(0x67c)],_0x3f7496(0x730)),_0x31f5b1[_0x3f7496(0x406)]===!0x0&&await this[_0x3f7496(0x39e)][_0x3f7496(0x400)](_0x31f5b1[_0x3f7496(0x67c)],'all_member_add'),_0x31f5b1[_0x3f7496(0x406)]===!0x1&&await this[_0x3f7496(0x39e)][_0x3f7496(0x400)](_0x31f5b1['groupJid'],_0x3f7496(0x625)),_0x31f5b1['joinApprovalMode']===!0x0&&await this[_0x3f7496(0x39e)][_0x3f7496(0x1f0)](_0x31f5b1[_0x3f7496(0x67c)],'on'),_0x31f5b1[_0x3f7496(0x636)]===!0x1&&await this[_0x3f7496(0x39e)][_0x3f7496(0x1f0)](_0x31f5b1[_0x3f7496(0x67c)],_0x3f7496(0x1d2)),typeof _0x31f5b1['expiration']<'u'&&_0x31f5b1['expiration']!==null&&await this[_0x3f7496(0x39e)][_0x3f7496(0x2e6)](_0x31f5b1[_0x3f7496(0x67c)],_0x31f5b1[_0x3f7496(0x371)]),_0x31f5b1[_0x3f7496(0x452)]&&await this[_0x3f7496(0x39e)][_0x3f7496(0x784)](_0x31f5b1[_0x3f7496(0x67c)],_0x31f5b1[_0x3f7496(0x452)]),_0x31f5b1[_0x3f7496(0x46b)]&&await this[_0x3f7496(0x39e)][_0x3f7496(0x1f8)](_0x31f5b1[_0x3f7496(0x67c)],_0x31f5b1[_0x3f7496(0x46b)]),_0x31f5b1['image']){let _0x33cf63;if((0x0,P[_0x3f7496(0x66d)])(_0x31f5b1[_0x3f7496(0x7a5)])){let _0x44654b=new Date()[_0x3f7496(0x634)](),_0x155608=_0x31f5b1['image']+'?timestamp='+_0x44654b;_0x33cf63=(await K[_0x3f7496(0x6f9)][_0x3f7496(0x6c0)](_0x155608,{'responseType':_0x3f7496(0x334)}))['data'];}else{if((0x0,P[_0x3f7496(0x273)])(_0x31f5b1[_0x3f7496(0x7a5)]))_0x33cf63=Buffer[_0x3f7496(0x7fb)](_0x31f5b1['image'],'base64');else throw new m(_0x3f7496(0x1b7));}await this[_0x3f7496(0x39e)][_0x3f7496(0x26c)](_0x31f5b1['groupJid'],_0x33cf63);}return await this[_0x3f7496(0x5c4)]({'groupJid':_0x31f5b1[_0x3f7496(0x67c)]});}catch(_0x3c43ca){let _0x305a71=_0x3f7496(0x85c),_0x21b1bb=_0x3c43ca instanceof Error?_0x3c43ca[_0x3f7496(0x3e1)]:typeof _0x3c43ca==_0x3f7496(0x232)?JSON[_0x3f7496(0x395)](_0x3c43ca):_0x3c43ca,_0x1bc273=_0x305a71+':\x20'+_0x21b1bb;throw this['logger'][_0x3f7496(0x819)](this['instanceName']+'\x20('+this['instance'][_0x3f7496(0x2bd)]+_0x3f7496(0x69f)+_0x1bc273),new I(_0x1bc273);}}async['updateGParticipant'](_0x22d18c){const _0xb565a7=a0_0x26e249;try{if(_0x22d18c['action']===_0xb565a7(0x749)||_0x22d18c[_0xb565a7(0x203)]===_0xb565a7(0x5fb)){let _0x5e5ed5=_0x22d18c[_0xb565a7(0x3a6)][_0xb565a7(0x261)](_0x1e85fb=>this[_0xb565a7(0x49f)](_0x1e85fb));await this[_0xb565a7(0x39e)][_0xb565a7(0x5f8)](_0x22d18c[_0xb565a7(0x67c)],_0x5e5ed5,_0x22d18c[_0xb565a7(0x203)]);}else{if(_0x22d18c[_0xb565a7(0x203)]===_0xb565a7(0x2b0)){let _0x5aac7f=(await this[_0xb565a7(0x269)]({'numbers':_0x22d18c[_0xb565a7(0x3a6)]}))[_0xb565a7(0x27f)](_0x32a605=>_0x32a605[_0xb565a7(0x7fd)])[_0xb565a7(0x261)](_0x23acfd=>this[_0xb565a7(0x49f)](_0x23acfd['jid']));if(_0x5aac7f['length']===0x0)throw new m(_0xb565a7(0x647));await this[_0xb565a7(0x39e)]['groupParticipantsUpdate'](_0x22d18c[_0xb565a7(0x67c)],_0x5aac7f,_0xb565a7(0x2b0));}else{let _0x4437b3=_0x22d18c[_0xb565a7(0x3a6)]['map'](_0x594e1a=>this[_0xb565a7(0x49f)](_0x594e1a));await this[_0xb565a7(0x39e)][_0xb565a7(0x6b1)](_0x22d18c[_0xb565a7(0x67c)],_0x4437b3,_0x22d18c[_0xb565a7(0x203)]);}}return await this[_0xb565a7(0x5c4)]({'groupJid':_0x22d18c['groupJid']});}catch(_0x1d9251){let _0x456c56='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant',_0x4e2207=_0x1d9251 instanceof Error?_0x1d9251['message']:typeof _0x1d9251==_0xb565a7(0x232)?JSON[_0xb565a7(0x395)](_0x1d9251):_0x1d9251,_0x5a0e3c=_0x456c56+':\x20'+_0x4e2207;throw this[_0xb565a7(0x392)][_0xb565a7(0x819)](this[_0xb565a7(0x156)]+'\x20('+this[_0xb565a7(0x848)][_0xb565a7(0x2bd)]+_0xb565a7(0x69f)+_0x5a0e3c),new m(_0x5a0e3c);}}async[a0_0x26e249(0x364)](_0x1490d4){const _0x38b7c5=a0_0x26e249;try{return await this['client']['groupGetInviteInfo'](_0x1490d4[_0x38b7c5(0x68a)]);}catch(_0x569b5d){let _0x396d12=_0x38b7c5(0x7bb),_0x3d7ab4=_0x569b5d instanceof Error?_0x569b5d[_0x38b7c5(0x3e1)]:typeof _0x569b5d==_0x38b7c5(0x232)?JSON['stringify'](_0x569b5d):_0x569b5d,_0x3f3764=_0x396d12+':\x20'+_0x3d7ab4;throw this[_0x38b7c5(0x392)][_0x38b7c5(0x819)](this[_0x38b7c5(0x156)]+'\x20('+this[_0x38b7c5(0x848)][_0x38b7c5(0x2bd)]+_0x38b7c5(0x69f)+_0x3f3764),new m(_0x3f3764);}}async[a0_0x26e249(0x5c4)](_0x5b1044,_0x5b5e90='out'){const _0x2caaf2=a0_0x26e249;try{let _0x42de9a=await this[_0x2caaf2(0x1e2)][_0x2caaf2(0x3b6)][_0x2caaf2(0x49c)]({'where':{'_id':_0x5b1044[_0x2caaf2(0x67c)]}},this[_0x2caaf2(0x848)][_0x2caaf2(0x2bd)]),_0x20a218=_0x42de9a?_0x42de9a[_0x2caaf2(0x706)]:null,_0x250aa6=0x18*0x3c*0x3c*0x3e8;if(!_0x20a218||_0x20a218['lastUpdate']&&Date[_0x2caaf2(0x80b)]()-_0x20a218[_0x2caaf2(0x661)]>_0x250aa6){let _0x25917e=await this[_0x2caaf2(0x39e)][_0x2caaf2(0x7c4)](_0x5b1044[_0x2caaf2(0x67c)]);if(_0x25917e['subjectTime']=_0x25917e?.[_0x2caaf2(0x633)]&&_0x25917e['subjectTime'][_0x2caaf2(0x76f)]()[_0x2caaf2(0x62e)]<0xd?_0x25917e?.[_0x2caaf2(0x633)]*0x3e8:_0x25917e?.['subjectTime']||null,_0x25917e[_0x2caaf2(0x399)]=_0x25917e?.[_0x2caaf2(0x399)]&&_0x25917e[_0x2caaf2(0x399)][_0x2caaf2(0x76f)]()[_0x2caaf2(0x62e)]<0xd?_0x25917e?.[_0x2caaf2(0x399)]*0x3e8:_0x25917e?.[_0x2caaf2(0x399)]||null,_0x20a218={..._0x25917e,'lastUpdate':Date[_0x2caaf2(0x80b)]()},!_0x25917e)return;}let _0x524972=_0x20a218[_0x2caaf2(0x3a6)][_0x2caaf2(0x30d)](_0x20a1ae=>_0x20a1ae['id']===this[_0x2caaf2(0x848)][_0x2caaf2(0x2bd)]+_0x2caaf2(0x7c8)&&_0x20a1ae['admin']!=null);!_0x20a218[_0x2caaf2(0x68a)]&&_0x524972&&(_0x20a218['inviteCode']=(await this[_0x2caaf2(0x68a)](_0x5b1044,!0x1))['inviteUrl']);let _0x319fce=(!_0x20a218['announce']||_0x524972)&&(!_0x20a218[_0x2caaf2(0x7b3)]||_0x20a218[_0x2caaf2(0x7b3)]&&_0x20a218['isCommunityAnnounce']&&_0x524972);_0x20a218[_0x2caaf2(0x3cf)]=_0x524972,_0x20a218['canSendMessage']=_0x319fce;let _0x190a8f=[];if(_0x524972&&_0x20a218['joinApprovalMode'])try{_0x190a8f=await this[_0x2caaf2(0x39e)][_0x2caaf2(0x27a)](_0x5b1044['groupJid']),_0x20a218[_0x2caaf2(0x3c9)]=Date[_0x2caaf2(0x80b)]();}catch(_0x35dd6c){this[_0x2caaf2(0x392)][_0x2caaf2(0x57c)](this[_0x2caaf2(0x156)]+'\x20('+this[_0x2caaf2(0x848)][_0x2caaf2(0x2bd)]+_0x2caaf2(0x32a)+_0x5b1044[_0x2caaf2(0x67c)]+':\x20'+(_0x35dd6c instanceof Error?_0x35dd6c['message']:JSON['stringify'](_0x35dd6c,null,0x2)));}try{_0x20a218[_0x2caaf2(0x7a5)]=(await this[_0x2caaf2(0x6d7)](_0x5b1044['groupJid'],null,!0x0))[_0x2caaf2(0x4b1)][_0x2caaf2(0x237)];}catch(_0x8898a6){this[_0x2caaf2(0x392)][_0x2caaf2(0x57c)](this[_0x2caaf2(0x156)]+'\x20('+this[_0x2caaf2(0x848)][_0x2caaf2(0x2bd)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x5b1044['groupJid']+':\x20'+(_0x8898a6 instanceof Error?_0x8898a6[_0x2caaf2(0x3e1)]:JSON[_0x2caaf2(0x395)](_0x8898a6,null,0x2)));}let _0xab5bce=_0x20a218[_0x2caaf2(0x3a6)][_0x2caaf2(0x261)](_0x244c2c=>_0x244c2c['id']),_0x509d1e=_0x190a8f[_0x2caaf2(0x261)](_0x1d8aa6=>_0x1d8aa6[_0x2caaf2(0x7d1)]),_0x10b6ed=await this[_0x2caaf2(0x1e2)][_0x2caaf2(0x851)]['findManyByIds']([..._0xab5bce,..._0x509d1e]);_0x20a218['participants']=_0x20a218[_0x2caaf2(0x3a6)][_0x2caaf2(0x261)](_0x5bc28c=>{const _0x3332ee=_0x2caaf2;let _0x3bd857=_0x10b6ed[_0x3332ee(0x288)](_0x32874a=>_0x32874a[_0x3332ee(0x68e)]===_0x5bc28c['id']);return{'id':_0x5bc28c['id'],'isAdmin':['admin',_0x3332ee(0x575)][_0x3332ee(0x5d9)](_0x5bc28c[_0x3332ee(0x737)]),'admin':_0x5bc28c[_0x3332ee(0x737)],'pushName':_0x3bd857?.[_0x3332ee(0x452)],'profilePictureUrl':_0x3bd857?.[_0x3332ee(0x237)]};}),_0x20a218[_0x2caaf2(0x312)]=_0x190a8f[_0x2caaf2(0x261)](_0x47e00f=>{const _0x4b92ac=_0x2caaf2;let _0x442ce7=_0x10b6ed[_0x4b92ac(0x288)](_0x860e15=>_0x860e15[_0x4b92ac(0x68e)]===_0x47e00f[_0x4b92ac(0x7d1)]);return{'id':_0x47e00f['jid'],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x442ce7?.[_0x4b92ac(0x452)],'profilePictureUrl':_0x442ce7?.[_0x4b92ac(0x237)],'request_method':_0x47e00f[_0x4b92ac(0x2e4)],'request_time':_0x47e00f[_0x4b92ac(0x677)]};});let _0x2d9c76=await this['repository'][_0x2caaf2(0x3b6)][_0x2caaf2(0x68c)]({'where':{'_id':_0x5b1044[_0x2caaf2(0x67c)]}},{'imagechat':_0x20a218[_0x2caaf2(0x7a5)],'name':_0x20a218['subject'],'lastcache':Date[_0x2caaf2(0x80b)](),'groupdata':_0x20a218},this[_0x2caaf2(0x848)][_0x2caaf2(0x2bd)]);return J(this[_0x2caaf2(0x156)],_0x2caaf2(0x596),{'chat':_0x2d9c76}),{'metadata':_0x20a218};}catch(_0x4fcf64){if(_0x5b5e90===_0x2caaf2(0x35b))return;throw new U(_0x2caaf2(0x4ae),_0x4fcf64[_0x2caaf2(0x3e1)][_0x2caaf2(0x76f)]());}}async['findGroups'](){const _0x2986a1=a0_0x26e249;try{let _0x2ebef7=[],_0x14d0a2=await this[_0x2986a1(0x39e)][_0x2986a1(0x220)](),_0x8354fe=Object[_0x2986a1(0x589)](_0x14d0a2),_0xa8ae55=_0x8354fe[_0x2986a1(0x27f)](_0x4a9c46=>(0x0,w[_0x2986a1(0x4f8)])(_0x4a9c46?.['id']))[_0x2986a1(0x261)](async _0x7790d4=>{const _0x4a3d4a=_0x2986a1;try{return await this[_0x4a3d4a(0x39e)][_0x4a3d4a(0x2cf)](_0x7790d4['id'],_0x4a3d4a(0x753));}catch(_0x2daa42){return this[_0x4a3d4a(0x392)]['verbose'](this[_0x4a3d4a(0x156)]+'\x20('+this[_0x4a3d4a(0x848)][_0x4a3d4a(0x2bd)]+_0x4a3d4a(0x78a)+_0x7790d4['id']+':\x20'+(_0x2daa42 instanceof Error?_0x2daa42[_0x4a3d4a(0x3e1)]:JSON[_0x4a3d4a(0x395)](_0x2daa42,null,0x2))),null;}}),_0x17d28f=await Promise[_0x2986a1(0x574)](_0xa8ae55);for(let _0x3956c7=0x0;_0x3956c7<_0x8354fe[_0x2986a1(0x62e)];_0x3956c7++){let _0x393a1a=_0x8354fe[_0x3956c7];(0x0,w[_0x2986a1(0x4f8)])(_0x393a1a?.['id'])&&(_0x2ebef7['push']({'groupJid':_0x393a1a?.['id'],'subject':_0x393a1a?.[_0x2986a1(0x523)],'subjectOwner':_0x393a1a?.['subjectOwner']?.[_0x2986a1(0x510)]('@')[0x0],'subjectTime':_0x393a1a?.[_0x2986a1(0x633)],'creation':_0x393a1a?.[_0x2986a1(0x399)],'size':_0x393a1a?.[_0x2986a1(0x3a6)]?.[_0x2986a1(0x62e)],'owner':_0x393a1a?.[_0x2986a1(0x4fa)]?.[_0x2986a1(0x510)]('@')[0x0],'desc':_0x393a1a?.['desc'],'restrict':_0x393a1a?.[_0x2986a1(0x71c)],'announce':_0x393a1a?.[_0x2986a1(0x5b7)],'image':_0x17d28f[_0x3956c7],'isCommunity':_0x393a1a?.[_0x2986a1(0x7b3)],'joinApprovalMode':_0x393a1a?.[_0x2986a1(0x636)],'memberCanAddParticipant':_0x393a1a?.['memberAddMode'],'participants':_0x393a1a?.[_0x2986a1(0x3a6)],'descOwner':_0x393a1a?.[_0x2986a1(0x7cd)],'descId':_0x393a1a?.['descId'],'memberAddMode':_0x393a1a?.['memberAddMode'],'isCommunityAnnounce':_0x393a1a?.['isCommunityAnnounce'],'ephemeralDuration':_0x393a1a?.[_0x2986a1(0x22b)]||0x0,'author':_0x393a1a?.[_0x2986a1(0x4cf)]}),this[_0x2986a1(0x533)](_0x8354fe[_0x3956c7]));}return _0x2ebef7;}catch(_0x5dad7b){let _0x3ab046=_0x2986a1(0x271),_0x2c4dec=_0x5dad7b instanceof Error?_0x5dad7b[_0x2986a1(0x3e1)]:typeof _0x5dad7b=='object'?JSON['stringify'](_0x5dad7b):_0x5dad7b,_0x53d244=_0x3ab046+':\x20'+_0x2c4dec;throw this['logger'][_0x2986a1(0x819)](this[_0x2986a1(0x156)]+'\x20('+this['instance'][_0x2986a1(0x2bd)]+'):\x20'+_0x53d244),new U(_0x53d244);}}async[a0_0x26e249(0x533)](_0x357bf6){const _0x285702=a0_0x26e249;let _0x19426b=await this['repository'][_0x285702(0x3b6)][_0x285702(0x49c)]({'where':{'_id':_0x357bf6['id']}},this[_0x285702(0x848)][_0x285702(0x2bd)]);_0x357bf6['subjectTime']=_0x357bf6?.['subjectTime']&&_0x357bf6[_0x285702(0x633)][_0x285702(0x76f)]()['length']<0xd?_0x357bf6?.[_0x285702(0x633)]*0x3e8:_0x357bf6?.['subjectTime']||null,_0x357bf6[_0x285702(0x399)]=_0x357bf6?.[_0x285702(0x399)]&&_0x357bf6[_0x285702(0x399)][_0x285702(0x76f)]()[_0x285702(0x62e)]<0xd?_0x357bf6?.[_0x285702(0x399)]*0x3e8:_0x357bf6?.[_0x285702(0x399)]||null;let _0x4c74de=_0x19426b?.[_0x285702(0x706)]?.[_0x285702(0x312)]||[],_0x4c8309=_0x19426b?.[_0x285702(0x706)]?.[_0x285702(0x3c9)],_0x1fc3f8=_0x357bf6[_0x285702(0x3a6)][_0x285702(0x261)](_0x31ad11=>{const _0x51913e=_0x285702;let _0x228a0b=_0x19426b?.[_0x51913e(0x706)]?.[_0x51913e(0x3a6)][_0x51913e(0x288)](_0x462c9e=>_0x462c9e['id']===_0x31ad11['id']);return{..._0x31ad11,'isAdmin':[_0x51913e(0x737),_0x51913e(0x575)][_0x51913e(0x5d9)](_0x31ad11[_0x51913e(0x737)]),'admin':_0x31ad11['admin'],'name':_0x228a0b?.['name']||_0x31ad11[_0x51913e(0x452)],'imgUrl':_0x228a0b?.[_0x51913e(0x361)]||_0x31ad11[_0x51913e(0x361)]};}),_0x2963e5=_0x1fc3f8[_0x285702(0x30d)](_0xf8fb19=>_0xf8fb19['id']===this[_0x285702(0x848)][_0x285702(0x2bd)]+_0x285702(0x7c8)&&_0xf8fb19['isAdmin']),_0x2ab70d=(!_0x357bf6[_0x285702(0x5b7)]||_0x2963e5)&&(!_0x357bf6[_0x285702(0x7b3)]||_0x357bf6['isCommunity']&&_0x357bf6[_0x285702(0x1cf)]&&_0x2963e5),_0x7acdec={..._0x357bf6,'participants':_0x1fc3f8,'awaitingApproval':_0x4c74de,'lastFetchAwaitingApproval':_0x4c8309,'isAdmin':_0x2963e5,'canSendMessage':_0x2ab70d,'lastUpdate':Date[_0x285702(0x80b)]()};await this[_0x285702(0x1e2)][_0x285702(0x3b6)][_0x285702(0x68c)]({'where':{'_id':_0x357bf6['id']}},{'name':_0x357bf6['subject'],'group':!0x0,'groupdata':_0x7acdec,'lastcache':Date[_0x285702(0x80b)]()},this[_0x285702(0x848)][_0x285702(0x2bd)]),J(this[_0x285702(0x156)],_0x285702(0x596),{'chat':_0x357bf6});}async[a0_0x26e249(0x21b)](_0x584eaa){const _0x243664=a0_0x26e249;let _0x49f6d9=await this[_0x243664(0x1e2)][_0x243664(0x3b6)][_0x243664(0x49c)]({'where':{'_id':_0x584eaa['id']}},this[_0x243664(0x848)]['wuid']);_0x584eaa['subjectTime']=_0x584eaa?.[_0x243664(0x633)]&&_0x584eaa[_0x243664(0x633)]['toString']()[_0x243664(0x62e)]<0xd?_0x584eaa?.[_0x243664(0x633)]*0x3e8:_0x584eaa?.[_0x243664(0x633)]||null,_0x584eaa[_0x243664(0x399)]=_0x584eaa?.[_0x243664(0x399)]&&_0x584eaa[_0x243664(0x399)]['toString']()[_0x243664(0x62e)]<0xd?_0x584eaa?.[_0x243664(0x399)]*0x3e8:_0x584eaa?.[_0x243664(0x399)]||null,_0x584eaa[_0x243664(0x68a)]&&(_0x584eaa[_0x243664(0x68a)]=_0x243664(0x581)+_0x584eaa['inviteCode']);let _0x1b8018=_0x49f6d9?.[_0x243664(0x706)]?{..._0x49f6d9[_0x243664(0x706)]}:{};Object[_0x243664(0x4a9)](_0x584eaa)[_0x243664(0x522)](_0x57aecd=>{_0x57aecd!=='id'&&(_0x1b8018[_0x57aecd]=_0x584eaa[_0x57aecd]);});let _0x5a7a2c=_0x1b8018[_0x243664(0x3a6)]?.[_0x243664(0x30d)](_0x105450=>_0x105450['id']===this[_0x243664(0x848)][_0x243664(0x2bd)]+_0x243664(0x7c8)&&_0x105450[_0x243664(0x3cf)])||!0x1;_0x1b8018[_0x243664(0x3cf)]=_0x5a7a2c;let _0x876aba=(!_0x1b8018['announce']||_0x5a7a2c)&&(!_0x1b8018['isCommunity']||_0x1b8018[_0x243664(0x7b3)]&&_0x1b8018[_0x243664(0x1cf)]&&_0x5a7a2c);_0x1b8018[_0x243664(0x1f2)]=_0x876aba;let _0xe0623b={'group':!0x0,'groupdata':_0x1b8018};_0x584eaa['subject']&&(_0xe0623b[_0x243664(0x452)]=_0x584eaa['subject']),await this[_0x243664(0x1e2)]['chat'][_0x243664(0x68c)]({'where':{'_id':_0x584eaa['id']}},_0xe0623b,this[_0x243664(0x848)]['wuid'],{'upsert':!0x0}),J(this['instanceName'],_0x243664(0x596),{'chat':_0xe0623b});}async['updateGroupParticipantsWebhook'](_0x7a6523){const _0x219e2d=a0_0x26e249;let _0x25ffea=await this[_0x219e2d(0x1e2)][_0x219e2d(0x3b6)]['findOne']({'where':{'_id':_0x7a6523['id']}},this['instance'][_0x219e2d(0x2bd)]);if(!_0x25ffea||!_0x25ffea[_0x219e2d(0x706)]){this[_0x219e2d(0x392)][_0x219e2d(0x4a0)](this[_0x219e2d(0x156)]+'\x20('+this['instance']['wuid']+_0x219e2d(0x216)+_0x7a6523['id']);return;}let _0x30165b=await this[_0x219e2d(0x1e2)][_0x219e2d(0x851)][_0x219e2d(0x411)](_0x7a6523[_0x219e2d(0x3a6)]),_0x488f83=[..._0x25ffea[_0x219e2d(0x706)]?.[_0x219e2d(0x3a6)]];switch(_0x7a6523[_0x219e2d(0x203)]){case _0x219e2d(0x2b0):let _0x2d3cbc=_0x30165b[_0x219e2d(0x261)](_0x4f67ef=>({'id':_0x4f67ef[_0x219e2d(0x68e)],'isAdmin':!0x1,'name':_0x4f67ef[_0x219e2d(0x452)],'imgUrl':_0x4f67ef[_0x219e2d(0x237)]}));_0x488f83=[..._0x488f83,..._0x2d3cbc];break;case _0x219e2d(0x4de):_0x488f83=_0x488f83[_0x219e2d(0x27f)](_0x9ed7bf=>!_0x7a6523[_0x219e2d(0x3a6)][_0x219e2d(0x5d9)](_0x9ed7bf['id']));break;case _0x219e2d(0x775):case _0x219e2d(0x5d3):_0x488f83=_0x488f83['map'](_0x5cfbd1=>_0x7a6523['participants']['includes'](_0x5cfbd1['id'])?{..._0x5cfbd1,'isAdmin':_0x7a6523[_0x219e2d(0x203)]===_0x219e2d(0x775)}:_0x5cfbd1);break;}let _0x685a71=_0x488f83['length'],_0x1b9a6f=_0x488f83['some'](_0x572699=>_0x572699['id']===this['instance'][_0x219e2d(0x2bd)]+'@s.whatsapp.net'),_0x4716bc=_0x1b9a6f&&_0x488f83['some'](_0x5b95c9=>_0x5b95c9['id']===this[_0x219e2d(0x848)][_0x219e2d(0x2bd)]+_0x219e2d(0x7c8)&&_0x5b95c9['isAdmin']),_0x577eee=_0x1b9a6f&&(!_0x25ffea[_0x219e2d(0x706)][_0x219e2d(0x5b7)]||_0x4716bc)&&(!_0x25ffea['groupdata']['isCommunity']||_0x25ffea[_0x219e2d(0x706)][_0x219e2d(0x7b3)]&&_0x4716bc);await this[_0x219e2d(0x1e2)]['chat']['updateOne']({'where':{'_id':_0x7a6523['id']}},{'groupdata':{..._0x25ffea[_0x219e2d(0x706)],'participants':_0x488f83,'size':_0x685a71,'isAdmin':_0x4716bc,'canSendMessage':_0x577eee}},this['instance']['wuid']),this[_0x219e2d(0x392)][_0x219e2d(0x4a0)](this[_0x219e2d(0x156)]+'\x20('+this['instance'][_0x219e2d(0x2bd)]+_0x219e2d(0x6b2)+_0x7a6523['id']+_0x219e2d(0x163)+_0x7a6523[_0x219e2d(0x203)]+_0x219e2d(0x25f)+_0x685a71+_0x219e2d(0x6b3)+_0x4716bc+',\x20canSendMessage:\x20'+_0x577eee);}async['inviteCode'](_0x12eec2,_0x1bfc02=!0x0){const _0x2dc35a=a0_0x26e249;try{let _0x13351b=await this[_0x2dc35a(0x39e)][_0x2dc35a(0x169)](_0x12eec2[_0x2dc35a(0x67c)]),_0xa0d94d={'groupdata.inviteCode':_0x2dc35a(0x581)+_0x13351b};if(_0x1bfc02){let _0x29ded7=await this['repository'][_0x2dc35a(0x3b6)][_0x2dc35a(0x68c)]({'where':{'_id':_0x12eec2['groupJid']}},_0xa0d94d,this['instance'][_0x2dc35a(0x2bd)]);}return{'inviteUrl':'https://chat.whatsapp.com/'+_0x13351b,'inviteCode':_0x13351b};}catch(_0x2a9e84){let _0x9db414='Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode',_0x182613=_0x2a9e84 instanceof Error?_0x2a9e84[_0x2dc35a(0x3e1)]:typeof _0x2a9e84=='object'?JSON[_0x2dc35a(0x395)](_0x2a9e84):_0x2a9e84,_0x3a7e67=_0x9db414+':\x20'+_0x182613;throw this[_0x2dc35a(0x392)][_0x2dc35a(0x819)](this['instanceName']+'\x20('+this[_0x2dc35a(0x848)][_0x2dc35a(0x2bd)]+_0x2dc35a(0x69f)+_0x3a7e67),new U(_0x3a7e67);}}async['revokeInviteCode'](_0x558820){const _0x548bbb=a0_0x26e249;try{let _0x5aa9dc=await this[_0x548bbb(0x39e)][_0x548bbb(0x42e)](_0x558820[_0x548bbb(0x67c)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x5aa9dc,'inviteCode':_0x5aa9dc};}catch(_0x316d52){let _0x395343=_0x548bbb(0x429),_0x6b4c48=_0x316d52 instanceof Error?_0x316d52[_0x548bbb(0x3e1)]:typeof _0x316d52==_0x548bbb(0x232)?JSON[_0x548bbb(0x395)](_0x316d52):_0x316d52,_0x16fd9f=_0x395343+':\x20'+_0x6b4c48;throw this[_0x548bbb(0x392)][_0x548bbb(0x819)](this[_0x548bbb(0x156)]+'\x20('+this[_0x548bbb(0x848)][_0x548bbb(0x2bd)]+_0x548bbb(0x69f)+_0x16fd9f),new U(_0x16fd9f);}}async['joinGroup'](_0x20cb64){const _0x44b5f7=a0_0x26e249;try{if((0x0,P[_0x44b5f7(0x66d)])(_0x20cb64[_0x44b5f7(0x68a)]))var _0x300c67=_0x20cb64['inviteCode']['split']('/')[0x3];else var _0x300c67=_0x20cb64[_0x44b5f7(0x68a)];let _0x1f038e=await this[_0x44b5f7(0x39e)][_0x44b5f7(0x2d8)](_0x300c67);return this[_0x44b5f7(0x392)][_0x44b5f7(0x57c)](this[_0x44b5f7(0x156)]+'\x20('+this[_0x44b5f7(0x848)][_0x44b5f7(0x2bd)]+_0x44b5f7(0x69f)+_0x1f038e),{'join':!0x0,'inviteCode':_0x300c67,'groupJid':_0x1f038e};}catch(_0x14d70f){let _0x3275a3='Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x3ffc81=_0x14d70f instanceof Error?_0x14d70f[_0x44b5f7(0x3e1)]:typeof _0x14d70f=='object'?JSON['stringify'](_0x14d70f):_0x14d70f,_0x47d6c9=_0x3275a3+':\x20'+_0x3ffc81;throw this[_0x44b5f7(0x392)][_0x44b5f7(0x819)](this[_0x44b5f7(0x156)]+'\x20('+this['instance'][_0x44b5f7(0x2bd)]+'):\x20'+_0x47d6c9),new U(_0x47d6c9);}}async['findParticipants'](_0x22bdc1){const _0x44402e=a0_0x26e249;try{return{'participants':(await this[_0x44402e(0x1e2)]['chat'][_0x44402e(0x49c)]({'where':{'_id':_0x22bdc1[_0x44402e(0x67c)]}},this[_0x44402e(0x848)][_0x44402e(0x2bd)]))['groupdata']['participants']};}catch(_0x576221){let _0x49a659=_0x44402e(0x3ce),_0x21a967=_0x576221 instanceof Error?_0x576221['message']:typeof _0x576221==_0x44402e(0x232)?JSON[_0x44402e(0x395)](_0x576221):_0x576221,_0x4eff15=_0x49a659+':\x20'+_0x21a967;throw this[_0x44402e(0x392)]['error'](this[_0x44402e(0x156)]+'\x20('+this[_0x44402e(0x848)]['wuid']+_0x44402e(0x69f)+_0x4eff15),new U(_0x4eff15);}}async['leaveGroup'](_0x28b106){const _0x486fd0=a0_0x26e249;try{return await this[_0x486fd0(0x39e)]['groupLeave'](_0x28b106[_0x486fd0(0x67c)]),{'groupJid':_0x28b106[_0x486fd0(0x67c)],'leave':!0x0};}catch(_0x31998c){let _0x39ff16=_0x486fd0(0x54a),_0xd04932=_0x31998c instanceof Error?_0x31998c[_0x486fd0(0x3e1)]:typeof _0x31998c==_0x486fd0(0x232)?JSON[_0x486fd0(0x395)](_0x31998c):_0x31998c,_0xed4880=_0x39ff16+':\x20'+_0xd04932;throw this[_0x486fd0(0x392)][_0x486fd0(0x819)](this[_0x486fd0(0x156)]+'\x20('+this['instance'][_0x486fd0(0x2bd)]+_0x486fd0(0x69f)+_0xed4880),new m(_0xed4880);}}async[a0_0x26e249(0x33c)](_0x2aa852){const _0x5230d5=a0_0x26e249;return await this[_0x5230d5(0x817)](_0x2aa852[_0x5230d5(0x36e)],{'poll':{'name':_0x2aa852[_0x5230d5(0x33c)]?.[_0x5230d5(0x452)],'selectableCount':_0x2aa852['pollMessage'][_0x5230d5(0x6b8)],'values':_0x2aa852[_0x5230d5(0x33c)][_0x5230d5(0x589)]}},_0x2aa852?.[_0x5230d5(0x3c8)]);}async['listMessage'](_0x129e81){const _0xb402b1=a0_0x26e249;return await this[_0xb402b1(0x817)](_0x129e81['number'],{'listMessage':{'title':_0x129e81[_0xb402b1(0x685)][_0xb402b1(0x598)],'description':_0x129e81[_0xb402b1(0x685)][_0xb402b1(0x46b)],'buttonText':_0x129e81[_0xb402b1(0x685)]?.['buttonText'],'footerText':_0x129e81[_0xb402b1(0x685)]?.[_0xb402b1(0x20c)],'sections':_0x129e81[_0xb402b1(0x685)][_0xb402b1(0x167)],'listType':0x2}},_0x129e81?.['options']);}async[a0_0x26e249(0x393)](_0x36c53d){const _0x242460=a0_0x26e249;let _0x10cd54;if(_0x36c53d[_0x242460(0x393)]['type']===_0x242460(0x658)){let _0x5c2f28=_0x36c53d[_0x242460(0x393)]['text'][_0x242460(0x739)]('\x0a'),_0x432978='',_0x5e1f12='';_0x5c2f28!==-0x1?(_0x432978=_0x36c53d['menuMessage'][_0x242460(0x346)][_0x242460(0x609)](0x0,_0x5c2f28)[_0x242460(0x4fe)](),_0x5e1f12=_0x36c53d[_0x242460(0x393)][_0x242460(0x346)]['substring'](_0x5c2f28+0x1)):_0x5e1f12=_0x36c53d[_0x242460(0x393)][_0x242460(0x346)];let _0x3b5aa6=_0x36c53d['menuMessage']['choices']['filter'](_0x52ac1b=>_0x52ac1b[_0x242460(0x4fe)]()!==''),_0x2fd227=this[_0x242460(0x272)](_0x3b5aa6);_0x10cd54={'listMessage':{'title':_0x432978,'description':_0x5e1f12,'buttonText':_0x36c53d[_0x242460(0x393)][_0x242460(0x368)]||_0x242460(0x56d),'footerText':_0x36c53d[_0x242460(0x393)]['footerText'],'sections':_0x2fd227,'listType':0x2}};}else{if(_0x36c53d['menuMessage'][_0x242460(0x599)]===_0x242460(0x546)){let _0x515118=_0x36c53d[_0x242460(0x393)][_0x242460(0x20f)][_0x242460(0x27f)](_0x222049=>!(_0x222049['startsWith']('[')&&_0x222049[_0x242460(0x55e)](']'))&&_0x222049[_0x242460(0x4fe)]()!=='')[_0x242460(0x261)](_0x5f9802=>_0x5f9802[_0x242460(0x510)]('\x0a')[0x0]);_0x10cd54={'poll':{'name':_0x36c53d[_0x242460(0x393)][_0x242460(0x346)],'selectableCount':_0x36c53d[_0x242460(0x393)]['selectableCount']||0x1,'values':_0x515118}};}}return await this[_0x242460(0x817)](_0x36c53d[_0x242460(0x36e)],_0x10cd54,_0x36c53d?.[_0x242460(0x3c8)]);}['createSectionsFromValues'](_0x4f582c){const _0x4f9c39=a0_0x26e249;let _0x335adc=[],_0x2e6bb7={'rows':[]};return _0x4f582c[_0x4f9c39(0x522)](_0x27c21b=>{const _0x514ccd=_0x4f9c39;if(_0x27c21b[_0x514ccd(0x29c)]('[')&&_0x27c21b[_0x514ccd(0x55e)](']'))_0x2e6bb7['rows'][_0x514ccd(0x62e)]>0x0&&_0x335adc['push'](_0x2e6bb7),_0x2e6bb7={'title':_0x27c21b[_0x514ccd(0x51b)](0x1,-0x1),'rows':[]};else{let _0xd9dc5e=_0x27c21b[_0x514ccd(0x510)]('\x0a')[_0x514ccd(0x261)](_0x5e6579=>_0x5e6579[_0x514ccd(0x4fe)]()),_0x258932=_0xd9dc5e[0x0],_0x2cdd0f=_0xd9dc5e[0x1]||null,_0x19756e=_0xd9dc5e[0x2]||_0x258932;_0x2e6bb7['rows'][_0x514ccd(0x65e)]({'title':_0x258932,'description':_0x2cdd0f,'rowId':_0x19756e});}}),_0x2e6bb7[_0x4f9c39(0x3da)][_0x4f9c39(0x62e)]>0x0&&_0x335adc[_0x4f9c39(0x65e)](_0x2e6bb7),_0x335adc;}async[a0_0x26e249(0x166)](_0xb94add,_0x3459cb){const _0x462c1f=a0_0x26e249;if(await this[_0x462c1f(0x4af)](_0xb94add,!0x0)){let _0x3b1571={'where':{'_id':_0xb94add['id']}},_0x23c90d={'status':[_0x3459cb['status']][0x0]};try{let _0x59b71f=await this[_0x462c1f(0x1e2)][_0x462c1f(0x3e1)][_0x462c1f(0x3e2)](_0x3b1571,_0x23c90d,this['instance'][_0x462c1f(0x2bd)]);_0x59b71f&&J(this[_0x462c1f(0x156)],_0x462c1f(0x6e9),{'message':_0x59b71f});}catch{}}}[a0_0x26e249(0x331)](_0x1966bc){const _0x5a45c5=a0_0x26e249;let _0x4544b3=[];return _0x1966bc[_0x5a45c5(0x522)](_0x105ee1=>{const _0x874e54=_0x5a45c5;_0x105ee1['title']&&_0x4544b3[_0x874e54(0x65e)]('['+_0x105ee1[_0x874e54(0x598)]+']'),_0x105ee1['rows']['forEach'](_0x35b655=>{const _0x134127=_0x874e54;_0x4544b3['push'](_0x35b655[_0x134127(0x598)]);});}),_0x4544b3[_0x5a45c5(0x619)]('|');}[a0_0x26e249(0x50f)](_0x37b34a){const _0x534f54=a0_0x26e249;let _0x595d01=_0x37b34a[_0x534f54(0x38e)](/\\n/g,'\x0a')[_0x534f54(0x510)]('\x0a')[_0x534f54(0x27f)](_0x4525d8=>_0x4525d8[_0x534f54(0x5d9)](_0x534f54(0x22d))||_0x4525d8[_0x534f54(0x5d9)](_0x534f54(0x157))),_0x2811b0='';return _0x595d01[_0x534f54(0x522)](_0x3e044c=>{const _0x571a1a=_0x534f54;let _0x2a6ce5=/TEL(?:.*):(.+)/,_0x2f3540=/EMAIL(?:.*):(.+)/,_0x2cb63a=_0x3e044c['match'](_0x2a6ce5),_0x19ed7c=_0x3e044c[_0x571a1a(0x83b)](_0x2f3540);if(_0x2cb63a){let _0x3bcb7a=_0x2cb63a[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x571a1a(0x4fe)]();_0x2811b0+=_0x571a1a(0x287)+_0x3bcb7a+'\x0a';}else{if(_0x19ed7c){let _0xd45cb7=_0x19ed7c[0x1][_0x571a1a(0x4fe)]();_0x2811b0+=_0x571a1a(0x732)+_0xd45cb7+'\x0a';}}}),_0x2811b0['trim']();}async[a0_0x26e249(0x342)](_0x31d0a0,_0x352d49,_0x532b71,_0x42e09d=null){const _0x421022=a0_0x26e249;if(_0x31d0a0['ENABLED'])try{let _0x3bc19e=_0x352d49[_0x421022(0x7dd)][_0x421022(0x1e8)]['replace'](/:\d{1,2}@/g,'@'),_0x24ed19=_0x352d49[_0x421022(0x7dd)][_0x421022(0x483)],_0x431954=_0x3bc19e[_0x421022(0x55e)](_0x421022(0x703)),_0x3b536f=_0x352d49['participant']?.[_0x421022(0x38e)](/:\d{1,2}@/g,'@')||'',_0xc149fe=_0x352d49[_0x421022(0x23d)]?.[_0x421022(0x346)]||_0x352d49[_0x421022(0x23d)]?.[_0x421022(0x2eb)]||_0x352d49[_0x421022(0x23d)]?.[_0x421022(0x153)]||_0x352d49[_0x421022(0x23d)]?.[_0x421022(0x452)]||'',_0x9954a9={'_id':_0x352d49[_0x421022(0x68e)],'remoteJid':_0x24ed19?this[_0x421022(0x848)][_0x421022(0x2bd)]:_0x431954?_0x3b536f:_0x3bc19e,'pushName':_0x24ed19?this['instance'][_0x421022(0x1b4)]||'Eu':_0x352d49[_0x421022(0x6a9)],'text':_0xc149fe,'type':_0x352d49[_0x421022(0x71f)],'when':_0x352d49[_0x421022(0x6cb)]||Date[_0x421022(0x80b)]()};_0x42e09d||(_0x42e09d=await this[_0x421022(0x1e2)]['chat'][_0x421022(0x49c)]({'where':{'_id':_0x3bc19e}},this['instance']['wuid']));let _0x245646=_0x42e09d?_0x24ed19?_0x42e09d[_0x421022(0x6a6)]:(_0x42e09d['unreadcount']||0x0)+0x1:_0x24ed19?0x0:0x1,_0x5cb897={'lastmsg':_0x352d49[_0x421022(0x6cb)]||Date[_0x421022(0x80b)](),'ephemeralExpiration':_0x352d49['expiration'],'lastMessage':_0x9954a9,'unreadcount':_0x245646,..._0x24ed19||_0x431954?{}:{'name':_0x352d49[_0x421022(0x6a9)]},..._0x431954?{'group':_0x431954}:{},...!_0x24ed19&&!_0x431954&&_0x352d49[_0x421022(0x2cf)]?{'imagechat':_0x352d49[_0x421022(0x2cf)]}:{}};if(!_0x431954&&(!_0x42e09d?.['leadInfo']||!_0x42e09d[_0x421022(0x484)][_0x421022(0x22e)])&&_0x352d49[_0x421022(0x6a9)]&&!_0x24ed19&&(_0x5cb897={..._0x5cb897,'leadInfo.nome':_0x352d49['pushName']}),_0x42e09d?.['leadInfo'][_0x421022(0x7ff)]||(_0x5cb897={..._0x5cb897,'leadInfo.etiquetas':[]}),_0x42e09d?.[_0x421022(0x484)][_0x421022(0x552)]||(_0x5cb897={..._0x5cb897,'leadInfo.customFields':[]}),_0x42e09d?.[_0x421022(0x484)][_0x421022(0x3f1)]||(_0x5cb897={..._0x5cb897,'leadInfo.tags':[]}),_0x42e09d&&_0x42e09d?.[_0x421022(0x769)]){let _0x1337f2=await this['repository'][_0x421022(0x488)][_0x421022(0x288)]({'where':{}},this[_0x421022(0x848)][_0x421022(0x2bd)]),_0x33232f=new Set(_0x1337f2['map'](_0x4e3e86=>_0x4e3e86[_0x421022(0x68e)])),_0x31d2b1=(_0x42e09d[_0x421022(0x484)]?.[_0x421022(0x7ff)]||[])[_0x421022(0x27f)](_0x27e76b=>_0x33232f[_0x421022(0x4c6)](_0x27e76b));_0x5cb897={..._0x5cb897,'imported':!0x1,'leadInfo.etiquetas':_0x31d2b1};for(let _0xfefc8e of _0x31d2b1)await this[_0x421022(0x50e)](_0xfefc8e,_0x3bc19e);}if(_0x532b71===_0x421022(0x23a)&&_0x24ed19&&this[_0x421022(0x68b)]?.[_0x421022(0x6b9)][_0x421022(0x46e)]&&!_0xc149fe[_0x421022(0x29c)](this[_0x421022(0x68b)]?.[_0x421022(0x6b9)][_0x421022(0x3a3)])){let _0x5b42ac=(this[_0x421022(0x68b)]?.[_0x421022(0x6b9)][_0x421022(0x1a8)]||0x5)*0xea60,_0x9e210=Date[_0x421022(0x80b)]()+_0x5b42ac;_0x42e09d?.[_0x421022(0x484)]?.[_0x421022(0x499)]===0x0||(_0x5cb897={..._0x5cb897,'leadInfo.desativadoFluxoAte':_0x9e210},this[_0x421022(0x392)][_0x421022(0x57c)](this[_0x421022(0x156)]+'\x20('+this[_0x421022(0x848)][_0x421022(0x2bd)]+_0x421022(0x66c)+_0x9e210+'.'));}if(_0x42e09d=await this[_0x421022(0x1e2)]['chat']['updateOne']({'where':{'_id':_0x3bc19e}},_0x5cb897,this[_0x421022(0x848)]['wuid'],{'new':!0x0,'upsert':!0x0}),_0x42e09d)J(this[_0x421022(0x156)],_0x421022(0x596),{'chat':_0x42e09d});else{this[_0x421022(0x392)]['error'](this[_0x421022(0x156)]+'\x20('+this[_0x421022(0x848)][_0x421022(0x2bd)]+_0x421022(0x17e));return;}if(!this[_0x421022(0x68b)]?.[_0x421022(0x6b9)][_0x421022(0x46e)])return this[_0x421022(0x392)][_0x421022(0x57c)](this[_0x421022(0x156)]+'\x20('+this['instance'][_0x421022(0x2bd)]+_0x421022(0x7c5)),null;if(_0x42e09d[_0x421022(0x68e)][_0x421022(0x5d9)]('@g.us')&&this[_0x421022(0x68b)]?.[_0x421022(0x6b9)][_0x421022(0x181)]===!0x0)return this[_0x421022(0x392)][_0x421022(0x57c)](this[_0x421022(0x156)]+'\x20('+this[_0x421022(0x848)]['wuid']+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x42e09d[_0x421022(0x484)]){if(_0x42e09d[_0x421022(0x484)]['desativadoFluxoAte']===0x0||_0x42e09d[_0x421022(0x484)][_0x421022(0x353)])return this[_0x421022(0x392)][_0x421022(0x57c)](this[_0x421022(0x156)]+'\x20('+this[_0x421022(0x848)][_0x421022(0x2bd)]+_0x421022(0x6d1)+_0x3bc19e+_0x421022(0x418)),null;if(_0x42e09d['leadInfo']['desativadoFluxoAte']>Date['now']()&&!_0x352d49[_0x421022(0x23d)]?.['vote'])return this['logger'][_0x421022(0x57c)](this[_0x421022(0x156)]+'\x20('+this['instance'][_0x421022(0x2bd)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x42e09d[_0x421022(0x484)]['desativadoFluxoAte'])[_0x421022(0x3b9)]()+',\x20saindo.'),null;}this[_0x421022(0x392)][_0x421022(0x57c)](this['instanceName']+'\x20('+this[_0x421022(0x848)][_0x421022(0x2bd)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x421022(0x6c4)](_0x532b71,_0x352d49);}catch(_0xf40fe){let _0x880c18='Erro\x20na\x20função\x20updateChatWithMessage:\x20',_0x54a84e=_0xf40fe instanceof Error?_0xf40fe[_0x421022(0x3e1)]:typeof _0xf40fe==_0x421022(0x232)?JSON[_0x421022(0x395)](_0xf40fe):_0xf40fe,_0x252730=_0x880c18+':\x20'+_0x54a84e;return this[_0x421022(0x392)]['error'](this['instanceName']+'\x20('+this[_0x421022(0x848)][_0x421022(0x2bd)]+_0x421022(0x69f)+_0x252730),null;}}async['upsertChats'](_0x5ca2b5,_0x2b5a9a){const _0x3bcb1c=a0_0x26e249;if(_0x2b5a9a[_0x3bcb1c(0x467)]){let _0x559387=_0x5ca2b5['map'](async _0x50200a=>{const _0x2bd6db=_0x3bcb1c;try{let _0x4499cf={'_id':_0x50200a['_id'],'owner':_0x50200a[_0x2bd6db(0x4fa)],'lastcache':0x0};if(Object[_0x2bd6db(0x4a9)](_0x50200a)[_0x2bd6db(0x522)](_0x5f1104=>{_0x50200a[_0x5f1104]!==null&&(_0x4499cf[_0x5f1104]=_0x50200a[_0x5f1104]);}),_0x4499cf[_0x2bd6db(0x2e9)]===null&&(_0x4499cf[_0x2bd6db(0x2e9)]=_0x2bd6db(0x248)),Object[_0x2bd6db(0x4a9)](_0x4499cf)[_0x2bd6db(0x62e)]>0x0)return await this[_0x2bd6db(0x1e2)][_0x2bd6db(0x3b6)][_0x2bd6db(0x68c)]({'where':{'_id':_0x50200a[_0x2bd6db(0x68e)]}},_0x4499cf,this[_0x2bd6db(0x848)][_0x2bd6db(0x2bd)]);}catch(_0x4e3324){let _0x54f86a=_0x2bd6db(0x1b0)+_0x50200a[_0x2bd6db(0x68e)],_0x35297b=_0x4e3324 instanceof Error?_0x4e3324['message']:typeof _0x4e3324==_0x2bd6db(0x232)?JSON[_0x2bd6db(0x395)](_0x4e3324):_0x4e3324,_0x148ce0=_0x54f86a+':\x20'+_0x35297b;return this[_0x2bd6db(0x392)][_0x2bd6db(0x819)](this[_0x2bd6db(0x156)]+'\x20('+this[_0x2bd6db(0x848)][_0x2bd6db(0x2bd)]+_0x2bd6db(0x69f)+_0x148ce0),null;}}),_0x37d476=(await Promise['all'](_0x559387))[_0x3bcb1c(0x27f)](_0x48853e=>_0x48853e!==null)['length'];this[_0x3bcb1c(0x392)]['verbose'](this[_0x3bcb1c(0x156)]+'\x20('+this[_0x3bcb1c(0x848)][_0x3bcb1c(0x2bd)]+_0x3bcb1c(0x69f)+_0x37d476+_0x3bcb1c(0x4bc)+this[_0x3bcb1c(0x848)]['wuid']+_0x3bcb1c(0x24e));}}async[a0_0x26e249(0x7ed)](_0x167a41){const _0x24312c=a0_0x26e249;this[_0x24312c(0x392)][_0x24312c(0x57c)](this[_0x24312c(0x156)]+'\x20('+this['instance'][_0x24312c(0x2bd)]+'):\x20Ler\x20mensagem');let _0x378210={'readMessages':[{'remoteJid':_0x167a41[_0x24312c(0x3b5)][_0x24312c(0x4f9)]['key'][_0x24312c(0x1e8)],'fromMe':_0x167a41['chatLog']['lastReceivedMessage'][_0x24312c(0x7dd)][_0x24312c(0x483)],'id':_0x167a41[_0x24312c(0x3b5)][_0x24312c(0x4f9)][_0x24312c(0x7dd)]['id']}]};await this['markMessageAsRead'](_0x378210);}async[a0_0x26e249(0x6c4)](_0x37e5db,_0x3e9bee){const _0x1bb444=a0_0x26e249;try{let {key:_0x835314,message_normalized:_0x48e964}=_0x3e9bee,_0x3cb59c=_0x48e964,_0x3b896b=_0x48e964[_0x1bb444(0x346)]||_0x48e964[_0x1bb444(0x2eb)]||_0x48e964[_0x1bb444(0x153)]||_0x48e964['name']||'',_0x54088b=_0x835314[_0x1bb444(0x1e8)],_0x120568;if(_0x3cb59c[_0x1bb444(0x7dd)][_0x1bb444(0x483)]&&_0x3b896b[_0x1bb444(0x4fe)]()!==this['AutomateSystem']?.[_0x1bb444(0x6b9)]['stopConversation'][_0x1bb444(0x4fe)]())return this[_0x1bb444(0x392)][_0x1bb444(0x57c)](this[_0x1bb444(0x156)]+'\x20('+this[_0x1bb444(0x848)][_0x1bb444(0x2bd)]+_0x1bb444(0x660)),null;if(_0x3cb59c[_0x1bb444(0x7dd)][_0x1bb444(0x483)]&&_0x3b896b[_0x1bb444(0x4fe)]()===this[_0x1bb444(0x68b)]?.[_0x1bb444(0x6b9)]['stopConversation'][_0x1bb444(0x4fe)]()){this[_0x1bb444(0x392)][_0x1bb444(0x57c)](this[_0x1bb444(0x156)]+'\x20('+this[_0x1bb444(0x848)][_0x1bb444(0x2bd)]+_0x1bb444(0x344));let _0x41769a=await this[_0x1bb444(0x1e2)][_0x1bb444(0x650)][_0x1bb444(0x288)]({'remoteJid':_0x54088b,'status':_0x1bb444(0x178)},this[_0x1bb444(0x848)]['wuid']);this[_0x1bb444(0x392)][_0x1bb444(0x57c)](this[_0x1bb444(0x156)]+'\x20('+this[_0x1bb444(0x848)][_0x1bb444(0x2bd)]+_0x1bb444(0x620)+_0x41769a);let _0x418cee=Date[_0x1bb444(0x80b)](),_0x46c36b;return this[_0x1bb444(0x68b)]?.['flowConfig'][_0x1bb444(0x536)]===0x0?_0x46c36b={'stoppedUntil':_0x418cee+0x7591f6200}:_0x46c36b={'stoppedUntil':_0x418cee+this[_0x1bb444(0x68b)]?.['flowConfig'][_0x1bb444(0x536)]*0x3c*0x3e8},this['logger'][_0x1bb444(0x57c)](this[_0x1bb444(0x156)]+'\x20('+this['instance']['wuid']+_0x1bb444(0x4df)+_0x46c36b),this[_0x1bb444(0x1be)](_0x120568,_0x46c36b[_0x1bb444(0x6e3)]),null;}if(_0x3b896b&&_0x3b896b[_0x1bb444(0x29c)](this[_0x1bb444(0x68b)]?.[_0x1bb444(0x6b9)][_0x1bb444(0x3a3)])&&_0x3b896b['length']>0x4){let _0x421e24=await this[_0x1bb444(0x1e2)][_0x1bb444(0x394)]['findOne']({'where':{'startCommandWord':_0x3b896b}},this[_0x1bb444(0x848)]['wuid']);if(this[_0x1bb444(0x392)]['verbose'](this[_0x1bb444(0x156)]+'\x20('+this[_0x1bb444(0x848)][_0x1bb444(0x2bd)]+_0x1bb444(0x551)),_0x421e24)_0x120568=await this[_0x1bb444(0x3d6)](_0x421e24,_0x3cb59c[_0x1bb444(0x7dd)],_0x3cb59c);else return this['logger'][_0x1bb444(0x57c)](this['instanceName']+'\x20('+this[_0x1bb444(0x848)][_0x1bb444(0x2bd)]+_0x1bb444(0x798)),null;}else _0x120568=await this[_0x1bb444(0x241)](_0x54088b,_0x3cb59c);if(_0x120568){this[_0x1bb444(0x392)][_0x1bb444(0x57c)](this[_0x1bb444(0x156)]+'\x20('+this[_0x1bb444(0x848)][_0x1bb444(0x2bd)]+_0x1bb444(0x74e)),!_0x835314[_0x1bb444(0x483)]&&_0x120568['readMessages']&&this[_0x1bb444(0x7ed)](_0x120568);let _0x5a201f=await this[_0x1bb444(0x2cc)](_0x120568);_0x5a201f&&await this[_0x1bb444(0x165)](_0x120568,_0x5a201f);}}catch(_0x5c1bbb){this[_0x1bb444(0x392)][_0x1bb444(0x819)](this[_0x1bb444(0x156)]+'\x20('+this['instance'][_0x1bb444(0x2bd)]+_0x1bb444(0x44b)+(_0x5c1bbb instanceof Error?_0x5c1bbb[_0x1bb444(0x3e1)]:JSON[_0x1bb444(0x395)](_0x5c1bbb,null,0x2)));}}[a0_0x26e249(0x155)](_0x4becd6,_0x170eaf='',_0x2367e1={}){const _0x1b0e79=a0_0x26e249;return typeof _0x4becd6!=_0x1b0e79(0x232)||_0x4becd6===null?(_0x170eaf&&(_0x2367e1[_0x170eaf]=_0x4becd6),_0x2367e1):(Object[_0x1b0e79(0x29f)](_0x4becd6)['forEach'](([_0x5e2b1a,_0x414ab7])=>{const _0x26101e=_0x1b0e79;let _0x621267=_0x170eaf?_0x170eaf+'.'+_0x5e2b1a:'_'+_0x5e2b1a;Array[_0x26101e(0x304)](_0x414ab7)?_0x414ab7[_0x26101e(0x522)]((_0x38d99d,_0x1e9f1b)=>{this['flattenObject'](_0x38d99d,_0x621267+'['+_0x1e9f1b+']',_0x2367e1);}):typeof _0x414ab7==_0x26101e(0x232)&&_0x414ab7!==null?this[_0x26101e(0x155)](_0x414ab7,_0x621267,_0x2367e1):_0x2367e1[_0x621267]=String(_0x414ab7);}),_0x2367e1);}[a0_0x26e249(0x6f2)](_0x34ba96){const _0x288bcd=a0_0x26e249;let _0x54b1f4={};for(let _0x263816 of _0x34ba96)typeof _0x263816[_0x288bcd(0x452)]==_0x288bcd(0x681)&&typeof _0x263816['value']=='string'&&(_0x54b1f4[_0x263816[_0x288bcd(0x452)]]=_0x263816[_0x288bcd(0x298)]);return _0x54b1f4;}async[a0_0x26e249(0x2cc)](_0x3377de){const _0x35dfdc=a0_0x26e249;if(!this[_0x35dfdc(0x68b)]?.['flowConfig'][_0x35dfdc(0x46e)]||_0x3377de[_0x35dfdc(0x228)]!==_0x35dfdc(0x178)&&_0x3377de['waitingMenu_id']==='')return null;let _0x493cb6=_0x3377de['chatLog'][_0x35dfdc(0x18c)]||_0x35dfdc(0x2d3);typeof _0x3377de[_0x35dfdc(0x3b5)][_0x35dfdc(0x1cd)]>'u'&&(_0x3377de[_0x35dfdc(0x3b5)][_0x35dfdc(0x1cd)]=!0x0);let _0x4c4c88=_0x3377de[_0x35dfdc(0x3b5)][_0x35dfdc(0x1cd)];this['logger']['verbose'](this[_0x35dfdc(0x156)]+'\x20('+this['instance'][_0x35dfdc(0x2bd)]+_0x35dfdc(0x3f3)+_0x493cb6+',\x20lastCondition:\x20'+_0x4c4c88);let _0x1791fa=_0x493cb6==='start'?_0x3377de[_0x35dfdc(0x1c9)]['find'](_0x18b0c9=>_0x18b0c9[_0x35dfdc(0x599)]===_0x35dfdc(0x2d3)):_0x3377de[_0x35dfdc(0x1c9)][_0x35dfdc(0x288)](_0xf0246=>_0xf0246[_0x35dfdc(0x68e)][_0x35dfdc(0x76f)]()===_0x493cb6[_0x35dfdc(0x76f)]());if(!_0x1791fa)return this[_0x35dfdc(0x392)]['error'](this['instanceName']+'\x20('+this[_0x35dfdc(0x848)]['wuid']+_0x35dfdc(0x55b)+_0x493cb6),null;let _0x3f0b74={'_pushName':_0x3377de?.['chatLog']?.['lastReceivedMessage']?.['pushName']||'',..._0x3377de[_0x35dfdc(0x3b5)][_0x35dfdc(0x712)]},_0x53e817=null;if(_0x3377de[_0x35dfdc(0x29d)]){let _0x4e41da=_0x3377de['chatLog'][_0x35dfdc(0x4f9)][_0x35dfdc(0x153)],_0x4485ee=_0x3377de[_0x35dfdc(0x77d)][_0x35dfdc(0x288)](_0x3e1731=>_0x3e1731['option']===_0x4e41da);if(_0x4485ee){let _0x6aa6e7=_0x4485ee['next_groupId'];if(_0x53e817=_0x3377de[_0x35dfdc(0x1c9)][_0x35dfdc(0x288)](_0x52d0e2=>_0x52d0e2[_0x35dfdc(0x7c3)]===_0x6aa6e7&&_0x52d0e2['order']===0x1),_0x1791fa['uazapi']['pollOnReplyDelete']){let _0x4c51ca={'id':_0x3377de['waitingMenu_id'],'remoteJid':_0x3377de[_0x35dfdc(0x1e8)],'fromMe':!0x0};await this[_0x35dfdc(0x54d)](_0x4c51ca);}if(_0x1791fa['uazapi'][_0x35dfdc(0x3f0)]&&_0x1791fa[_0x35dfdc(0x694)][_0x35dfdc(0x4ba)]&&_0x1791fa[_0x35dfdc(0x694)][_0x35dfdc(0x4a6)]==='poll'){let _0x3117a8={'number':_0x3377de['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x3377de[_0x35dfdc(0x590)]+_0x35dfdc(0x504)+_0x4e41da}};await this[_0x35dfdc(0x3e8)](_0x3117a8);}_0x3377de[_0x35dfdc(0x228)]=_0x35dfdc(0x178),_0x3377de[_0x35dfdc(0x29d)]='',_0x3377de[_0x35dfdc(0x590)]='',_0x3377de[_0x35dfdc(0x77d)]=[];}else{this['logger'][_0x35dfdc(0x57c)](this['instanceName']+'\x20('+this[_0x35dfdc(0x848)][_0x35dfdc(0x2bd)]+_0x35dfdc(0x58f));let _0x5e141b={'activatedCount':_0x3377de[_0x35dfdc(0x3b5)][_0x35dfdc(0x52e)]['filter'](_0x22ce73=>String(_0x22ce73['blockId'])===String(_0x493cb6))[_0x35dfdc(0x62e)],'moreLogs':[_0x35dfdc(0x5a7)]};if(_0x1791fa[_0x35dfdc(0x694)][_0x35dfdc(0x282)]){let _0x5618a5={'number':_0x3377de['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x1791fa[_0x35dfdc(0x694)]['pollErrorMessage']}};await this[_0x35dfdc(0x3e8)](_0x5618a5);}if(_0x1791fa[_0x35dfdc(0x43c)]!==void 0x0&&_0x5e141b[_0x35dfdc(0x34d)]>=_0x1791fa[_0x35dfdc(0x43c)]){let _0x186276=Date[_0x35dfdc(0x80b)](),_0x19eccc=_0x1791fa[_0x35dfdc(0x286)]??0xa;isNaN(_0x19eccc)&&(_0x19eccc=0xa);let _0xae99a5=_0x186276+_0x19eccc*0x3c*0x3e8;_0x5e141b[_0x35dfdc(0x185)]=_0xae99a5,_0x5e141b[_0x35dfdc(0x684)][_0x35dfdc(0x65e)](_0x35dfdc(0x444)),this[_0x35dfdc(0x1be)](_0x3377de,_0xae99a5),_0x3377de[_0x35dfdc(0x29d)]='',_0x3377de['waitingMenu_text']='',_0x3377de[_0x35dfdc(0x77d)]=[];}return this[_0x35dfdc(0x632)](_0x3377de,_0x1791fa,_0x5e141b,!0x0),null;}}if(_0x4c4c88&&_0x1791fa[_0x35dfdc(0x397)]&&!_0x3377de[_0x35dfdc(0x29d)]){let _0x4b4c96=_0x3377de[_0x35dfdc(0x1c9)][_0x35dfdc(0x27f)](_0x44ca49=>_0x44ca49[_0x35dfdc(0x7c3)]['toString']()===_0x1791fa[_0x35dfdc(0x397)][_0x35dfdc(0x76f)]())[_0x35dfdc(0x1e4)]((_0x1b1823,_0x3e4697)=>_0x1b1823[_0x35dfdc(0x47d)]-_0x3e4697['order']);_0x4b4c96['length']>0x0&&(_0x53e817=_0x4b4c96[0x0]);}if(!_0x53e817){let _0x4e8162=_0x1791fa[_0x35dfdc(0x7c3)],_0x4399c3=_0x3377de[_0x35dfdc(0x1c9)][_0x35dfdc(0x27f)](_0x381661=>_0x381661[_0x35dfdc(0x7c3)]===_0x4e8162&&_0x381661['order']>_0x1791fa[_0x35dfdc(0x47d)])[_0x35dfdc(0x1e4)]((_0x45b6e7,_0x590c56)=>_0x45b6e7[_0x35dfdc(0x47d)]-_0x590c56[_0x35dfdc(0x47d)]);_0x4399c3[_0x35dfdc(0x62e)]>0x0&&(_0x53e817=_0x4399c3[0x0]);}if(!_0x53e817)return _0x3377de[_0x35dfdc(0x228)]='closed',null;_0x3377de[_0x35dfdc(0x3b5)][_0x35dfdc(0x712)]=_0x3f0b74;let _0x17882c=JSON[_0x35dfdc(0x311)](JSON[_0x35dfdc(0x395)](_0x53e817));return this[_0x35dfdc(0x2be)](_0x17882c,_0x3377de['chatLog'][_0x35dfdc(0x712)]),_0x3377de[_0x35dfdc(0x3b5)][_0x35dfdc(0x18c)]=_0x17882c['_id'],_0x3377de[_0x35dfdc(0x3b5)][_0x35dfdc(0x1cd)]=!0x0,_0x17882c;}[a0_0x26e249(0x3bb)](_0x8fa279,_0x1e5a06){const _0x5868c0=a0_0x26e249;return _0x8fa279[_0x5868c0(0x38e)](/\{\{([^}]+)\}\}/g,(_0x24a649,_0x11dd5c)=>_0x1e5a06[_0x11dd5c]||'');}[a0_0x26e249(0x2be)](_0x3924ee,_0x668d66){const _0x489f93=a0_0x26e249;for(let _0x168e97 in _0x3924ee)typeof _0x3924ee[_0x168e97]==_0x489f93(0x681)?_0x3924ee[_0x168e97]=this['replaceVariables'](_0x3924ee[_0x168e97],_0x668d66):typeof _0x3924ee[_0x168e97]==_0x489f93(0x232)&&this['replaceVariablesInObject'](_0x3924ee[_0x168e97],_0x668d66);}async['goNextblock'](_0x16d3e7,_0x179a46){const _0x4c2a01=a0_0x26e249;let _0x57f021=_0x179a46[_0x4c2a01(0x68e)];if(_0x16d3e7[_0x4c2a01(0x3b5)]&&_0x16d3e7[_0x4c2a01(0x3b5)][_0x4c2a01(0x52e)]){let _0x47e2aa=_0x16d3e7[_0x4c2a01(0x3b5)][_0x4c2a01(0x52e)][_0x4c2a01(0x27f)](_0x55799c=>String(_0x55799c['blockId'])===String(_0x57f021))[_0x4c2a01(0x81c)]();if(_0x47e2aa&&_0x47e2aa[_0x4c2a01(0x819)]&&_0x179a46['stopIfLastReturnedError'])return _0x16d3e7['status']='closed',await this[_0x4c2a01(0x5d1)](_0x16d3e7),null;}if(_0x179a46[_0x4c2a01(0x599)]===_0x4c2a01(0x694)&&_0x179a46[_0x4c2a01(0x694)][_0x4c2a01(0x161)]===_0x4c2a01(0x442)&&_0x16d3e7['waitingMenu_id'])return _0x16d3e7[_0x4c2a01(0x3b5)]['lastBlockId']=_0x57f021,await this[_0x4c2a01(0x5d1)](_0x16d3e7),null;let _0x4bbf8f=await this['NextBlock'](_0x16d3e7);if(_0x16d3e7[_0x4c2a01(0x3b5)]&&_0x16d3e7['chatLog'][_0x4c2a01(0x52e)]){let _0x51f81f=_0x16d3e7['chatLog'][_0x4c2a01(0x52e)][_0x4c2a01(0x27f)](_0x404936=>String(_0x404936[_0x4c2a01(0x812)])===String(_0x57f021))[_0x4c2a01(0x62e)];if(_0x179a46[_0x4c2a01(0x43c)]!==void 0x0&&_0x51f81f>=_0x179a46[_0x4c2a01(0x43c)]){let _0x3c15ce=Date['now'](),_0x3d1619=_0x179a46[_0x4c2a01(0x286)]??0xa;isNaN(_0x3d1619)&&(_0x3d1619=0xa);let _0x3f2c85=_0x3c15ce+_0x3d1619*0x3c*0x3e8,_0x120ec1={'newStoppedUntil':_0x3f2c85};return this[_0x4c2a01(0x1be)](_0x16d3e7,_0x3f2c85),this['updateConversation'](_0x16d3e7,_0x179a46,_0x120ec1,!0x0),null;}}_0x4bbf8f&&_0x4bbf8f[_0x4c2a01(0x599)]!==_0x4c2a01(0x2e3)&&await this[_0x4c2a01(0x165)](_0x16d3e7,_0x4bbf8f),_0x4bbf8f||await this[_0x4c2a01(0x5d1)](_0x16d3e7),_0x4bbf8f&&_0x4bbf8f[_0x4c2a01(0x599)]===_0x4c2a01(0x2e3)&&(_0x16d3e7[_0x4c2a01(0x3b5)]['lastBlockId']=_0x57f021,await this['saveConversationToDatabase'](_0x16d3e7));}async['processblock'](_0x1d0410,_0x973c01){const _0x21b53e=a0_0x26e249;try{let _0x93a7e6=_0x973c01[_0x21b53e(0x599)];this[_0x21b53e(0x392)]['verbose'](this[_0x21b53e(0x156)]+'\x20('+this[_0x21b53e(0x848)][_0x21b53e(0x2bd)]+_0x21b53e(0x41d)+_0x93a7e6);let _0x3eacc1={'uazapi':()=>this['processUazapi'](_0x1d0410,_0x973c01),'save':()=>this[_0x21b53e(0x6c8)](_0x1d0410,_0x973c01),'stop':()=>this[_0x21b53e(0x787)](_0x1d0410,_0x973c01),'condition':()=>this['processConditions'](_0x1d0410,_0x973c01),'varedit':()=>this['processvaredits'](_0x1d0410,_0x973c01),'apirequest':()=>this['processApiRequest'](_0x1d0410,_0x973c01),'goToFlow':()=>this[_0x21b53e(0x4dc)](_0x1d0410,_0x973c01),'scheduleFlow':()=>this['processScheduleFlow'](_0x1d0410,_0x973c01),'awaitSeconds':()=>this[_0x21b53e(0x207)](_0x1d0410,_0x973c01),'clearVariables':()=>this[_0x21b53e(0x5f5)](_0x1d0410,_0x973c01)}[_0x93a7e6];_0x3eacc1&&await _0x3eacc1();}catch(_0x4f6fcf){this[_0x21b53e(0x392)][_0x21b53e(0x819)](this[_0x21b53e(0x156)]+'\x20('+this[_0x21b53e(0x848)]['wuid']+_0x21b53e(0x224)+(_0x4f6fcf instanceof Error?_0x4f6fcf[_0x21b53e(0x3e1)]:JSON['stringify'](_0x4f6fcf,null,0x2)));}}async['processawaitSeconds'](_0x18f928,_0x449952){const _0x582272=a0_0x26e249;if(this[_0x582272(0x392)][_0x582272(0x57c)](this[_0x582272(0x156)]+'\x20('+this[_0x582272(0x848)]['wuid']+_0x582272(0x292)),!_0x18f928||!_0x449952)return this[_0x582272(0x392)]['error'](this[_0x582272(0x156)]+'\x20('+this[_0x582272(0x848)]['wuid']+_0x582272(0x818)),null;let _0x4461a7=+_0x449952[_0x582272(0x6a4)];isNaN(_0x4461a7)&&(_0x4461a7=0x0),_0x4461a7=Math['min'](_0x4461a7,0x3c),await(0x0,w[_0x582272(0x5af)])(_0x4461a7*0x3e8);let _0x55bc26={'moreLogs':[_0x582272(0x329)+_0x4461a7+_0x582272(0x2d6)]};return await this[_0x582272(0x632)](_0x18f928,_0x449952,_0x55bc26),_0x4461a7;}async['processclearVariables'](_0x1aa56a,_0x4e0d79){const _0x13ed6b=a0_0x26e249;if(this['logger'][_0x13ed6b(0x57c)](this[_0x13ed6b(0x156)]+'\x20('+this[_0x13ed6b(0x848)]['wuid']+_0x13ed6b(0x437)),!_0x1aa56a||!_0x4e0d79)return this['logger'][_0x13ed6b(0x819)](this[_0x13ed6b(0x156)]+'\x20('+this['instance'][_0x13ed6b(0x2bd)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x96e48d=[];if(_0x4e0d79[_0x13ed6b(0x815)]['trim']()===_0x13ed6b(0x2b3)){let _0x1668d6=[_0x13ed6b(0x28d),_0x13ed6b(0x380),_0x13ed6b(0x231),_0x13ed6b(0x6cc),_0x13ed6b(0x68e),'_fromMe'];_0x96e48d=Object['keys'](_0x1aa56a[_0x13ed6b(0x3b5)][_0x13ed6b(0x712)])['filter'](_0x4c75b4=>_0x4c75b4['startsWith']('_')&&!_0x1668d6[_0x13ed6b(0x5d9)](_0x4c75b4));}else _0x96e48d=_0x4e0d79[_0x13ed6b(0x815)][_0x13ed6b(0x510)]('|')[_0x13ed6b(0x261)](_0x126981=>(_0x126981=_0x126981[_0x13ed6b(0x38e)](/[{}]/g,'')[_0x13ed6b(0x4fe)](),_0x126981[_0x13ed6b(0x29c)]('_')?_0x126981:'_'+_0x126981));let _0x2ee5a0=[];_0x96e48d[_0x13ed6b(0x522)](_0x75a677=>{const _0x3cf17e=_0x13ed6b;_0x75a677 in _0x1aa56a[_0x3cf17e(0x3b5)][_0x3cf17e(0x712)]&&(delete _0x1aa56a[_0x3cf17e(0x3b5)]['realVariables'][_0x75a677],_0x2ee5a0[_0x3cf17e(0x65e)](_0x75a677));}),_0x2ee5a0['length']>0x0?this[_0x13ed6b(0x392)][_0x13ed6b(0x57c)](this[_0x13ed6b(0x156)]+'\x20('+this[_0x13ed6b(0x848)]['wuid']+_0x13ed6b(0x1a7)+_0x2ee5a0[_0x13ed6b(0x619)](',\x20')):this['logger'][_0x13ed6b(0x57c)](this[_0x13ed6b(0x156)]+'\x20('+this['instance']['wuid']+_0x13ed6b(0x1d8));let _0x5508d8={'moreLogs':[_0x13ed6b(0x2c0)+_0x2ee5a0[_0x13ed6b(0x619)](',\x20')]};return await this[_0x13ed6b(0x632)](_0x1aa56a,_0x4e0d79,_0x5508d8),null;}async[a0_0x26e249(0x7aa)](_0x1809bd,_0x1d5028){const _0x37ec94=a0_0x26e249;if(this[_0x37ec94(0x392)]['verbose'](this['instanceName']+'\x20('+this[_0x37ec94(0x848)][_0x37ec94(0x2bd)]+'):\x20Entrou\x20na\x20função\x20scheduleFlow'),!_0x1809bd||!_0x1d5028)return this['logger']['error'](this[_0x37ec94(0x156)]+'\x20('+this[_0x37ec94(0x848)]['wuid']+_0x37ec94(0x818)),null;let _0x392591=_0x1809bd[_0x37ec94(0x1e8)];_0x1d5028[_0x37ec94(0x31c)][_0x37ec94(0x1e8)]&&_0x1d5028[_0x37ec94(0x31c)][_0x37ec94(0x1e8)][_0x37ec94(0x4fe)]()!==''&&(_0x392591=_0x1d5028[_0x37ec94(0x694)][_0x37ec94(0x1e8)][_0x37ec94(0x4fe)]());let _0x290617=_0x1d5028['scheduleFlow'][_0x37ec94(0x175)]*0xea60,_0x5db0cd=Date[_0x37ec94(0x80b)]()+_0x290617,_0x3b8eb5={'status':'scheduled','info':_0x37ec94(0x2c8)+_0x1809bd[_0x37ec94(0x452)],'remoteJids':[_0x392591],'when':_0x5db0cd,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x37ec94(0x394),'flowName':_0x1d5028[_0x37ec94(0x31c)]['flowName']};this[_0x37ec94(0x614)](_0x3b8eb5);let _0xefab3=await this[_0x37ec94(0x2cc)](_0x1809bd);_0xefab3&&await this[_0x37ec94(0x165)](_0x1809bd,_0xefab3);}async['processgoToFlow'](_0x2e2466,_0x35b99c){const _0x5393d8=a0_0x26e249;if(this[_0x5393d8(0x392)][_0x5393d8(0x57c)](this['instanceName']+'\x20('+this[_0x5393d8(0x848)][_0x5393d8(0x2bd)]+_0x5393d8(0x45a)),!_0x2e2466||!_0x35b99c)return this['logger']['error'](this[_0x5393d8(0x156)]+'\x20('+this[_0x5393d8(0x848)][_0x5393d8(0x2bd)]+_0x5393d8(0x818)),null;await this[_0x5393d8(0x632)](_0x2e2466,_0x35b99c,{},!0x0,!0x0);let _0x1332cb=_0x35b99c[_0x5393d8(0x262)];_0x2e2466=await this[_0x5393d8(0x2b8)](_0x1332cb,_0x2e2466[_0x5393d8(0x1e8)],_0x2e2466['chatLog']['realVariables']);let _0x19ec94=await this[_0x5393d8(0x2cc)](_0x2e2466);_0x19ec94&&await this['processblock'](_0x2e2466,_0x19ec94);}async[a0_0x26e249(0x2b8)](_0x40a96b,_0xccf7be,_0x4c75e5){const _0x1c2fd6=a0_0x26e249;this['logger'][_0x1c2fd6(0x57c)](this[_0x1c2fd6(0x156)]+'\x20('+this[_0x1c2fd6(0x848)][_0x1c2fd6(0x2bd)]+_0x1c2fd6(0x451));try{if(_0x40a96b=await this[_0x1c2fd6(0x1e2)][_0x1c2fd6(0x394)]['findOne']({'where':{'name':_0x40a96b}},this[_0x1c2fd6(0x848)][_0x1c2fd6(0x2bd)]),!_0x40a96b)return this[_0x1c2fd6(0x392)][_0x1c2fd6(0x819)](this[_0x1c2fd6(0x156)]+'\x20('+this['instance'][_0x1c2fd6(0x2bd)]+_0x1c2fd6(0x54e)),null;let _0x3f1a81=require('mongodb')[_0x1c2fd6(0x330)],_0x222ff5=Date['now'](),_0x440eb9=_0x1c2fd6(0x2d3),_0x4a2ee6={},_0x311109={},_0x29e6d0={..._0x40a96b,'chatLog':null},_0x2dcb69={'lastReceivedMessage':_0x4a2ee6,'lastSendMessage':_0x311109,'lastBlockId':_0x440eb9,'lastCondition':!0x0,'realVariables':_0x4c75e5};_0x29e6d0[_0x1c2fd6(0x3b5)]=_0x2dcb69,_0x29e6d0[_0x1c2fd6(0x3b5)][_0x1c2fd6(0x712)]={..._0x4c75e5},delete _0x29e6d0[_0x1c2fd6(0x68e)],_0x29e6d0['_id']=new _0x3f1a81(),_0x29e6d0['lastInteraction']=_0x222ff5,_0x29e6d0['status']='open',_0x29e6d0[_0x1c2fd6(0x1e8)]=_0xccf7be;let _0x4e62b7=await this[_0x1c2fd6(0x1e2)][_0x1c2fd6(0x650)][_0x1c2fd6(0x68c)](_0x29e6d0[_0x1c2fd6(0x68e)],_0x29e6d0,this['instance'][_0x1c2fd6(0x2bd)]);return this[_0x1c2fd6(0x392)][_0x1c2fd6(0x57c)](this[_0x1c2fd6(0x156)]+'\x20('+this[_0x1c2fd6(0x848)][_0x1c2fd6(0x2bd)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x4e62b7?_0x29e6d0:null;}catch(_0x448b6e){let _0x5ea65c=_0x1c2fd6(0x58e),_0x475c62=_0x448b6e instanceof Error?_0x448b6e[_0x1c2fd6(0x3e1)]:typeof _0x448b6e==_0x1c2fd6(0x232)?JSON[_0x1c2fd6(0x395)](_0x448b6e):_0x448b6e,_0x421326=_0x5ea65c+':\x20'+_0x475c62;throw this[_0x1c2fd6(0x392)]['error'](this[_0x1c2fd6(0x156)]+'\x20('+this[_0x1c2fd6(0x848)]['wuid']+_0x1c2fd6(0x69f)+_0x421326),new m(_0x421326);}}async[a0_0x26e249(0x55d)](_0x296b02,_0x56b54d){const _0x20f27c=a0_0x26e249;let _0x799d6b,_0x33e907;try{let _0x3e0b0b=_0x56b54d[_0x20f27c(0x259)];if(!_0x3e0b0b||!_0x3e0b0b[_0x20f27c(0x2fa)]||!_0x3e0b0b[_0x20f27c(0x6ca)])throw new Error(_0x20f27c(0x7c9));let _0xf43a86;([_0x20f27c(0x5d6),_0x20f27c(0x413),_0x20f27c(0x42f)][_0x20f27c(0x30d)](_0x521bf6=>_0x3e0b0b['url'][_0x20f27c(0x5d9)](_0x521bf6))||_0x3e0b0b[_0x20f27c(0x2bf)])&&(_0xf43a86=_0x20f27c(0x334));let _0x275893='\u205f',_0x5ed816;try{_0x5ed816=JSON[_0x20f27c(0x311)](_0x3e0b0b[_0x20f27c(0x67d)][_0x20f27c(0x38e)](new RegExp(_0x275893,'g'),''));}catch(_0x403637){throw _0x403637;}let _0x19fab5={'method':_0x3e0b0b[_0x20f27c(0x6ca)],'url':_0x3e0b0b[_0x20f27c(0x2fa)],'headers':_0x3e0b0b['header']||{},..._0x3e0b0b[_0x20f27c(0x6ca)][_0x20f27c(0x422)]()!==_0x20f27c(0x240)&&_0x3e0b0b['bodyString']?{'data':JSON[_0x20f27c(0x311)](_0x3e0b0b[_0x20f27c(0x67d)]['replace'](new RegExp(_0x275893,'g'),''))}:{},..._0xf43a86&&{'responseType':_0xf43a86}},_0x3285ce=await(0x0,K['default'])(_0x19fab5),_0x5892df=_0x3285ce[_0x20f27c(0x1a6)][_0x20f27c(0x858)];if(_0x5892df&&_0x5892df['includes']('application/json')||typeof _0x3285ce['data']==_0x20f27c(0x681)){if(typeof _0x3285ce[_0x20f27c(0x7c6)]==_0x20f27c(0x681)){let _0x19f81b=_0x3285ce[_0x20f27c(0x7c6)][_0x20f27c(0x38e)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x20f27c(0x4fe)]();try{_0x799d6b=JSON[_0x20f27c(0x311)](_0x19f81b);}catch(_0x238a9e){console['error'](_0x20f27c(0x64b)+_0x238a9e[_0x20f27c(0x3e1)]),_0x799d6b={'_apiResponse':_0x3285ce[_0x20f27c(0x7c6)]};}}else _0x799d6b=_0x3285ce['data'];let _0x3e5d8f=_0x296b02[_0x20f27c(0x3b5)]['realVariables'],_0x21e265=this[_0x20f27c(0x155)](_0x799d6b);return Object['assign'](_0x3e5d8f,_0x21e265),_0x296b02[_0x20f27c(0x3b5)]['realVariables']=_0x3e5d8f,_0x33e907={'error':!0x1,'apiResponse':_0x799d6b},this[_0x20f27c(0x632)](_0x296b02,_0x56b54d,_0x33e907),_0x799d6b;}if(_0x5892df&&(_0x5892df[_0x20f27c(0x5d9)](_0x20f27c(0x648))||_0x5892df['includes'](_0x20f27c(0x7a5))||_0x5892df['includes'](_0x20f27c(0x2f0))||_0x5892df[_0x20f27c(0x5d9)](_0x20f27c(0x223)))){this[_0x20f27c(0x392)][_0x20f27c(0x57c)](this[_0x20f27c(0x156)]+'\x20('+this[_0x20f27c(0x848)][_0x20f27c(0x2bd)]+_0x20f27c(0x47c)+_0x5892df);let _0x37fdfb=(0x0,Me['v4'])(),_0x24586f='',_0x204ad9={'image/jpeg':'.jpg','image/png':'.png','image/gif':_0x20f27c(0x1ab),'image/webp':_0x20f27c(0x6c1),'image/svg+xml':'.svg','audio/mpeg':_0x20f27c(0x6e1),'audio/ogg':_0x20f27c(0x2c2),'audio/wav':_0x20f27c(0x758),'video/mp4':_0x20f27c(0x317),'video/webm':_0x20f27c(0x6ae),'video/ogg':_0x20f27c(0x7b7),'text/plain':_0x20f27c(0x31a),'application/pdf':_0x20f27c(0x530),'application/msword':'.doc','application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x20f27c(0x80a),'application/vnd.ms-excel':_0x20f27c(0x1fe),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x20f27c(0x591),'application/vnd.ms-powerpoint':_0x20f27c(0x278),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x20f27c(0x6ab)};_0x204ad9[_0x5892df]?(_0x24586f=_0x204ad9[_0x5892df],this[_0x20f27c(0x392)][_0x20f27c(0x57c)](this[_0x20f27c(0x156)]+'\x20('+this[_0x20f27c(0x848)][_0x20f27c(0x2bd)]+_0x20f27c(0x21f)+_0x24586f)):(_0x24586f=_0x20f27c(0x643),this['logger'][_0x20f27c(0x57c)](this[_0x20f27c(0x156)]+'\x20('+this['instance']['wuid']+_0x20f27c(0x626)+_0x24586f)),_0x37fdfb+=_0x24586f,this[_0x20f27c(0x392)][_0x20f27c(0x57c)](this['instanceName']+'\x20('+this[_0x20f27c(0x848)][_0x20f27c(0x2bd)]+_0x20f27c(0x25c)+_0x37fdfb);let _0x452617=this[_0x20f27c(0x189)]['get'](_0x20f27c(0x1fd))['URL'];if(!_0x452617){let _0xa47ac7=this[_0x20f27c(0x189)]['get'](_0x20f27c(0x238));_0x452617=_0x20f27c(0x18d)+(_0xa47ac7&&_0xa47ac7[_0x20f27c(0x3e7)][_0x20f27c(0x510)]('/')[0x4]);}let _0x42f5c6=Buffer[_0x20f27c(0x7fb)](_0x3285ce[_0x20f27c(0x7c6)]);await this[_0x20f27c(0x67a)](_0x42f5c6,_0x37fdfb);let _0x271a52=_0x20f27c(0x36d)+_0x37fdfb;_0x271a52=''+_0x452617+_0x271a52,_0x799d6b={'fileUrl':_0x271a52},_0x296b02['chatLog']['realVariables'][_0x20f27c(0x80d)]=_0x271a52;let _0x2e68e2=_0x296b02[_0x20f27c(0x3b5)][_0x20f27c(0x712)],_0xd30b33=this[_0x20f27c(0x155)](_0x799d6b);return Object[_0x20f27c(0x5ec)](_0x2e68e2,_0xd30b33),_0x296b02[_0x20f27c(0x3b5)][_0x20f27c(0x712)]=_0x2e68e2,_0x33e907={'error':!0x1,'apiResponse':{'fileUrl':_0x271a52}},this['updateConversation'](_0x296b02,_0x56b54d,_0x33e907),_0x799d6b;}}catch(_0x2dd122){console[_0x20f27c(0x819)](_0x20f27c(0x336),_0x2dd122[_0x20f27c(0x3e1)]),_0x2dd122[_0x20f27c(0x541)]&&(_0x799d6b=_0x2dd122['response']['data']);let _0x5a3bfa=_0x296b02[_0x20f27c(0x3b5)][_0x20f27c(0x712)],_0x1988fe=this['flattenObject'](_0x799d6b);return Object[_0x20f27c(0x5ec)](_0x5a3bfa,_0x1988fe),_0x296b02[_0x20f27c(0x3b5)]['realVariables']=_0x5a3bfa,_0x33e907={'error':!0x0,'errorLog':_0x2dd122[_0x20f27c(0x76f)](),'apiResponse':_0x799d6b},this['updateConversation'](_0x296b02,_0x56b54d,_0x33e907),{'success':!0x1};}}[a0_0x26e249(0x152)](_0x13cdd6,_0x29f6a4){const _0x5e41c5=a0_0x26e249;let _0xa82629=_0x51d8f5=>{const _0x47263f=a0_0x3705;let _0x4e0754=_0x51d8f5[_0x47263f(0x38e)](/[^0-9.,-]/g,'')[_0x47263f(0x38e)](',','.'),_0x41e882=parseFloat(_0x4e0754);return isNaN(_0x41e882)?null:_0x41e882;},_0x3af674=_0x29f6a4[_0x5e41c5(0x60f)],_0x21ec87=_0x29f6a4[_0x5e41c5(0x5ef)];typeof _0x3af674==_0x5e41c5(0x681)&&(_0x3af674=this[_0x5e41c5(0x3bb)](_0x3af674,_0x13cdd6[_0x5e41c5(0x3b5)][_0x5e41c5(0x712)])??''),typeof _0x21ec87==_0x5e41c5(0x681)&&(_0x21ec87=this[_0x5e41c5(0x3bb)](_0x21ec87,_0x13cdd6[_0x5e41c5(0x3b5)][_0x5e41c5(0x712)])??'');let _0xb069a2=null;if(!_0x29f6a4[_0x5e41c5(0x69b)])return null;switch(this['logger'][_0x5e41c5(0x57c)](this[_0x5e41c5(0x156)]+'\x20('+this['instance']['wuid']+_0x5e41c5(0x7d4)+_0x3af674),this[_0x5e41c5(0x392)][_0x5e41c5(0x57c)](this[_0x5e41c5(0x156)]+'\x20('+this[_0x5e41c5(0x848)][_0x5e41c5(0x2bd)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x21ec87),_0x29f6a4[_0x5e41c5(0x69b)]){case'+':case'-':case'*':case'/':let _0x322b22=_0xa82629(_0x3af674||'0'),_0x5de389=_0xa82629(_0x21ec87||'0');if(_0x322b22===null)return null;switch(_0x29f6a4[_0x5e41c5(0x69b)]){case'+':_0xb069a2=_0x322b22+(_0x5de389??0x0);break;case'-':_0xb069a2=_0x322b22-(_0x5de389??0x0);break;case'*':_0xb069a2=_0x322b22*(_0x5de389??0x1);break;case'/':_0x5de389!==0x0&&(_0xb069a2=_0x322b22/(_0x5de389??0x1));break;}break;case'findAndReplace':case _0x5e41c5(0x4f4):let _0x4fc386=_0x21ec87,_0x3f06ed=_0x29f6a4[_0x5e41c5(0x80c)];if(typeof _0x3f06ed=='string'&&(_0x3f06ed=this[_0x5e41c5(0x3bb)](_0x3f06ed,_0x13cdd6[_0x5e41c5(0x3b5)][_0x5e41c5(0x712)])??''),_0x4fc386&&_0x3f06ed!==void 0x0){let _0xd86aab=_0x29f6a4[_0x5e41c5(0x69b)]===_0x5e41c5(0x54c)?new RegExp(_0x4fc386[_0x5e41c5(0x38e)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x4fc386,'g');_0xb069a2=_0x3af674[_0x5e41c5(0x38e)](_0xd86aab,_0x3f06ed);}else console[_0x5e41c5(0x37a)](_0x5e41c5(0x733));break;case _0x5e41c5(0x235):_0xb069a2=_0x21ec87;break;case _0x5e41c5(0x446):let _0x27aae1=_0x3af674[_0x5e41c5(0x83b)](new RegExp(_0x21ec87||''));_0xb069a2=_0x27aae1?_0x27aae1[0x0]:'';break;case'truncatedto':_0xb069a2=_0x3af674[_0x5e41c5(0x51b)](0x0,parseInt(_0x21ec87||'0'));break;case'truncatedtoEnd':let _0x3b85ec=parseInt(_0x21ec87||'0');_0xb069a2=_0x3af674['slice'](_0x3af674[_0x5e41c5(0x62e)]-_0x3b85ec);break;case _0x5e41c5(0x3db):let _0x39672b=_0xa82629(_0x3af674),_0x2997fc=parseInt(_0x21ec87||'0');_0x2997fc=Math[_0x5e41c5(0x538)](_0x2997fc),_0x39672b!==null?_0xb069a2=_0x39672b[_0x5e41c5(0x3b9)](_0x5e41c5(0x535),{'minimumFractionDigits':_0x2997fc,'maximumFractionDigits':_0x2997fc}):(console[_0x5e41c5(0x37a)]('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x3af674),_0xb069a2=null);break;case _0x5e41c5(0x234):let _0x1ffb5d=_0xa82629(_0x3af674);_0x1ffb5d!==null?_0xb069a2=_0x1ffb5d[_0x5e41c5(0x3b9)](_0x5e41c5(0x535),{'style':'currency','currency':_0x5e41c5(0x3ba)}):(console['warn'](_0x5e41c5(0x7bd)+_0x3af674),_0xb069a2=null);break;case _0x5e41c5(0x841):_0xb069a2=_0x3af674[_0x5e41c5(0x422)]();break;case _0x5e41c5(0x302):_0xb069a2=_0x3af674[_0x5e41c5(0x322)]();break;case _0x5e41c5(0x7ef):_0xb069a2=_0x3af674[_0x5e41c5(0x510)]('\x20')[_0x5e41c5(0x261)](_0x3a3aa6=>_0x3a3aa6[_0x5e41c5(0x2aa)](0x0)[_0x5e41c5(0x422)]()+_0x3a3aa6[_0x5e41c5(0x51b)](0x1)[_0x5e41c5(0x322)]())[_0x5e41c5(0x619)]('\x20');break;case _0x5e41c5(0x283):_0xb069a2=_0x3af674['trim']();break;default:_0xb069a2=_0x3af674;}return _0xb069a2!==null?_0xb069a2[_0x5e41c5(0x76f)]():null;}async[a0_0x26e249(0x781)](_0x5df4ce,_0xb539d3){const _0x77c49d=a0_0x26e249;try{let _0x38f815=_0x5df4ce['varedits']?.[_0x77c49d(0x27f)](_0xd64c16=>_0xd64c16[_0x77c49d(0x812)]===_0xb539d3[_0x77c49d(0x68e)]?.[_0x77c49d(0x76f)]())||[],_0x24d1ae=_0xb539d3['saveVariable'],_0x1c7eed=null,_0x3fc7f5=[],_0x1fce69=_0x5df4ce[_0x77c49d(0x3b5)][_0x77c49d(0x712)][_0x24d1ae];_0x3fc7f5[_0x77c49d(0x65e)](_0x77c49d(0x5b5)+_0x1fce69+'\x22');for(let _0x1d00bb of _0x38f815){_0x1d00bb[_0x77c49d(0x60f)]=_0x1fce69,_0x1c7eed=_0x1d00bb[_0x77c49d(0x60f)];let _0x517213;try{_0x517213=this[_0x77c49d(0x152)](_0x5df4ce,_0x1d00bb);}catch(_0x498d2f){console[_0x77c49d(0x819)](_0x77c49d(0x3a0)+_0x498d2f[_0x77c49d(0x3e1)]);continue;}if(_0x517213!==null){let _0x4aea87=_0x77c49d(0x383)+_0x1d00bb[_0x77c49d(0x69b)]+'\x22',_0x18fad7=['toBRL','upperCase',_0x77c49d(0x302),_0x77c49d(0x7ef),_0x77c49d(0x283)];_0x1d00bb[_0x77c49d(0x69b)]===_0x77c49d(0x54c)||_0x1d00bb['editOperator']===_0x77c49d(0x4f4)?_0x4aea87+=_0x77c49d(0x59f)+_0x1d00bb[_0x77c49d(0x5ef)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x1d00bb[_0x77c49d(0x80c)]+'\x22':!_0x18fad7[_0x77c49d(0x5d9)](_0x1d00bb['editOperator'])&&_0x1d00bb[_0x77c49d(0x5ef)]!==null&&_0x1d00bb['secondValue']!==void 0x0&&(_0x4aea87+=_0x77c49d(0x4db)+_0x1d00bb[_0x77c49d(0x5ef)]+'\x22'),_0x4aea87+=_0x77c49d(0x85f)+_0x517213+'.',_0x3fc7f5[_0x77c49d(0x65e)](_0x4aea87);}_0x517213!==null&&(_0x1fce69=_0x517213);}if(_0x5df4ce['chatLog'][_0x77c49d(0x712)]&&_0xb539d3[_0x77c49d(0x177)]){_0x5df4ce[_0x77c49d(0x3b5)][_0x77c49d(0x712)][_0xb539d3[_0x77c49d(0x177)]]=_0x1fce69;let _0x2db623={'variable':_0xb539d3[_0x77c49d(0x177)],'oldValue':_0x1c7eed,'newValue':_0x1fce69,'moreLogs':_0x3fc7f5};try{this[_0x77c49d(0x632)](_0x5df4ce,_0xb539d3,_0x2db623);}catch(_0x3d5ddd){console[_0x77c49d(0x819)](_0x77c49d(0x199)+_0x3d5ddd['message']);}}return _0x24d1ae;}catch(_0x1893be){return console[_0x77c49d(0x819)](_0x77c49d(0x740)+_0x1893be[_0x77c49d(0x3e1)]),null;}}async['processConditions'](_0x509c3c,_0x400466){const _0x2f83a5=a0_0x26e249;try{let _0x477023=[],_0x2c6531=_0x509c3c['conditions']['filter'](_0x343817=>_0x343817[_0x2f83a5(0x812)]===_0x400466[_0x2f83a5(0x68e)]['toString']()),_0x35739b=null,_0x4dfb4d=!0x1;for(let _0x4aa670 of _0x2c6531){let _0x5a7f99=this[_0x2f83a5(0x7c7)](_0x509c3c,_0x4aa670);_0x477023[_0x2f83a5(0x65e)]('Primeiro\x20Valor:\x20'+_0x4aa670[_0x2f83a5(0x60f)]+_0x2f83a5(0x34c)+_0x4aa670[_0x2f83a5(0x2dd)]+_0x2f83a5(0x291)+_0x4aa670[_0x2f83a5(0x5ef)]+',\x20Resultado:\x20'+_0x5a7f99),_0x35739b===null?_0x35739b=_0x5a7f99:_0x4aa670[_0x2f83a5(0x2b1)]===_0x2f83a5(0x191)?(_0x35739b=_0x35739b&&_0x5a7f99,_0x5a7f99||(_0x4dfb4d=!0x0)):_0x4aa670[_0x2f83a5(0x2b1)]==='or'&&(_0x4dfb4d||(_0x35739b=_0x35739b||_0x5a7f99));}_0x35739b===null&&(_0x35739b=!0x0);let _0x38d174={'moreLogs':_0x477023};_0x509c3c[_0x2f83a5(0x3b5)][_0x2f83a5(0x1cd)]=_0x35739b,await this[_0x2f83a5(0x632)](_0x509c3c,_0x400466,_0x38d174);}catch(_0x3bf145){this[_0x2f83a5(0x392)][_0x2f83a5(0x819)](this[_0x2f83a5(0x156)]+'\x20('+this['instance'][_0x2f83a5(0x2bd)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x3bf145 instanceof Error?_0x3bf145['message']:JSON[_0x2f83a5(0x395)](_0x3bf145,null,0x2)));}}[a0_0x26e249(0x7c7)](_0x5e170a,_0x1610ed){const _0x143d9b=a0_0x26e249;let _0x373044=_0x1610ed[_0x143d9b(0x60f)],_0x547126=_0x1610ed[_0x143d9b(0x5ef)];typeof _0x373044==_0x143d9b(0x681)&&(_0x373044=this[_0x143d9b(0x3bb)](_0x373044,_0x5e170a[_0x143d9b(0x3b5)]['realVariables'])??''),typeof _0x547126==_0x143d9b(0x681)&&(_0x547126=this[_0x143d9b(0x3bb)](_0x547126,_0x5e170a[_0x143d9b(0x3b5)][_0x143d9b(0x712)])??'');try{switch(_0x1610ed[_0x143d9b(0x2dd)]){case _0x143d9b(0x724):return _0x373044===_0x547126;case'notEqual':return _0x373044!==_0x547126;case'contains':return this[_0x143d9b(0x7e9)](_0x373044,_0x547126);case _0x143d9b(0x382):return!this['contains'](_0x373044,_0x547126);case _0x143d9b(0x586):return parseFloat(_0x373044)>parseFloat(_0x547126);case _0x143d9b(0x168):return parseFloat(_0x373044)<parseFloat(_0x547126);case _0x143d9b(0x3d2):return _0x373044!=='';case _0x143d9b(0x85e):return _0x373044==='';case _0x143d9b(0x42b):return new RegExp(_0x547126)[_0x143d9b(0x1b5)](_0x373044);case _0x143d9b(0x390):return!new RegExp(_0x547126)[_0x143d9b(0x1b5)](_0x373044);default:return!0x1;}}catch(_0x50ed72){return console[_0x143d9b(0x819)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x50ed72),!0x1;}}[a0_0x26e249(0x7e9)](_0x3325ba,_0x57a6b1){const _0x2974a2=a0_0x26e249;if(_0x3325ba===_0x57a6b1&&/^\d+$/['test'](_0x3325ba))return!0x0;if(this[_0x2974a2(0x30c)](_0x3325ba)&&/^\d+$/['test'](_0x57a6b1)){let _0x1559ee=_0x3325ba[_0x2974a2(0x510)](',')[_0x2974a2(0x261)](_0x24f681=>parseInt(_0x24f681['trim']())),_0x10916c=parseInt(_0x57a6b1);return _0x1559ee[_0x2974a2(0x5d9)](_0x10916c);}return _0x3325ba[_0x2974a2(0x5d9)](_0x57a6b1);}[a0_0x26e249(0x30c)](_0xc5435b){const _0xd73d38=a0_0x26e249;return/^\d+(,\d+)*$/[_0xd73d38(0x1b5)](_0xc5435b);}[a0_0x26e249(0x666)](_0x5188d0){let _0x45f18c=!0x0,_0x56ea65=null;for(let _0x5b17f5 of _0x5188d0){let _0x336cc1=this['evaluateConditionTest'](_0x5b17f5);if(_0x56ea65==='or'&&_0x336cc1){_0x45f18c=!0x0;break;}if(_0x56ea65==='and'&&!_0x336cc1){_0x45f18c=!0x1;break;}_0x56ea65=_0x5b17f5['OrAnd'];}return _0x45f18c;}[a0_0x26e249(0x309)](_0x5e8660){const _0x55f010=a0_0x26e249;let _0x5c6005=_0x5e8660[_0x55f010(0x60f)],_0x188ec1=_0x5e8660[_0x55f010(0x5ef)];try{switch(_0x5e8660[_0x55f010(0x2dd)]){case _0x55f010(0x724):return String(_0x5c6005)===String(_0x188ec1);case _0x55f010(0x404):return String(_0x5c6005)!==String(_0x188ec1);case _0x55f010(0x7e9):return String(_0x5c6005)[_0x55f010(0x5d9)](String(_0x188ec1));case'notContains':return!String(_0x5c6005)[_0x55f010(0x5d9)](String(_0x188ec1));case'greater':return parseFloat(String(_0x5c6005))>parseFloat(String(_0x188ec1));case'less':return parseFloat(String(_0x5c6005))<parseFloat(String(_0x188ec1));case'notEmpty':return String(_0x5c6005)!=='';case'empty':return String(_0x5c6005)==='';case _0x55f010(0x42b):return new RegExp(String(_0x188ec1))[_0x55f010(0x1b5)](String(_0x5c6005));case'notMatchRegex':return!new RegExp(String(_0x188ec1))[_0x55f010(0x1b5)](String(_0x5c6005));default:return!0x1;}}catch(_0xe37a1a){return console[_0x55f010(0x819)](_0x55f010(0x729)+_0xe37a1a),!0x1;}}async[a0_0x26e249(0x6c8)](_0x12472e,_0x4bda09){const _0x27e67c=a0_0x26e249;if(this[_0x27e67c(0x392)][_0x27e67c(0x57c)](this[_0x27e67c(0x156)]+'\x20('+this[_0x27e67c(0x848)][_0x27e67c(0x2bd)]+_0x27e67c(0x611)),!_0x12472e||!_0x4bda09)return this[_0x27e67c(0x392)]['error'](this[_0x27e67c(0x156)]+'\x20('+this['instance'][_0x27e67c(0x2bd)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x458efd=_0x12472e[_0x27e67c(0x3b5)][_0x27e67c(0x4f9)][_0x27e67c(0x7dd)]['id'];this[_0x27e67c(0x392)][_0x27e67c(0x57c)](this[_0x27e67c(0x156)]+'\x20('+this['instance'][_0x27e67c(0x2bd)]+_0x27e67c(0x182)+_0x458efd);let _0x36200d={'key':{'id':_0x458efd}},_0x35d8c5=_0x4bda09[_0x27e67c(0x177)];_0x12472e[_0x27e67c(0x3b5)][_0x27e67c(0x712)]['_'+_0x35d8c5+_0x27e67c(0x438)]=null,_0x12472e[_0x27e67c(0x3b5)][_0x27e67c(0x712)]['_'+_0x35d8c5+_0x27e67c(0x17b)]=null,_0x12472e[_0x27e67c(0x3b5)][_0x27e67c(0x712)]['_'+_0x35d8c5+_0x27e67c(0x6ff)]=null,_0x12472e[_0x27e67c(0x3b5)][_0x27e67c(0x712)]['_'+_0x35d8c5+_0x27e67c(0x43d)]=_0x12472e['chatLog']['lastReceivedMessage']['type'];try{let _0xa27b28=await this[_0x27e67c(0x6de)](_0x36200d);this[_0x27e67c(0x392)]['verbose'](this[_0x27e67c(0x156)]+'\x20('+this[_0x27e67c(0x848)][_0x27e67c(0x2bd)]+'):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.'),_0x12472e[_0x27e67c(0x3b5)][_0x27e67c(0x712)]['_'+_0x35d8c5+_0x27e67c(0x774)]=_0xa27b28[_0x27e67c(0x80d)],_0x12472e['chatLog']['realVariables']['_'+_0x35d8c5+_0x27e67c(0x17b)]=_0xa27b28['mimetype'];let _0x52f681=_0xa27b28[_0x27e67c(0x386)][_0x27e67c(0x83b)](/\/(\w+)$/),_0xdf1d10=_0x52f681?_0x52f681[0x1]:null;_0x12472e[_0x27e67c(0x3b5)][_0x27e67c(0x712)]['_'+_0x35d8c5+_0x27e67c(0x6ff)]=_0xdf1d10,this[_0x27e67c(0x392)]['verbose'](this[_0x27e67c(0x156)]+'\x20('+this['instance'][_0x27e67c(0x2bd)]+_0x27e67c(0x808)+_0x35d8c5+'\x27.');}catch(_0x53f469){this['logger'][_0x27e67c(0x819)](this['instanceName']+'\x20('+this[_0x27e67c(0x848)][_0x27e67c(0x2bd)]+_0x27e67c(0x844)+_0x53f469['message']);}let _0x4a2a9d=_0x12472e[_0x27e67c(0x3b5)][_0x27e67c(0x4f9)]['text']||_0x12472e[_0x27e67c(0x3b5)]['lastReceivedMessage'][_0x27e67c(0x2eb)]||_0x12472e[_0x27e67c(0x3b5)]['lastReceivedMessage'][_0x27e67c(0x153)];try{_0x12472e[_0x27e67c(0x3b5)][_0x27e67c(0x712)]||(_0x12472e[_0x27e67c(0x3b5)][_0x27e67c(0x712)]={});let _0x195bc7=_0x12472e[_0x27e67c(0x3b5)]['realVariables'][_0x35d8c5];_0x12472e[_0x27e67c(0x3b5)][_0x27e67c(0x712)][_0x35d8c5]=_0x4a2a9d;let _0x5def08={'variable':_0x35d8c5,'oldValue':_0x195bc7,'newValue':_0x4a2a9d};this['updateConversation'](_0x12472e,_0x4bda09,_0x5def08),this['logger'][_0x27e67c(0x57c)](this[_0x27e67c(0x156)]+'\x20('+this['instance'][_0x27e67c(0x2bd)]+_0x27e67c(0x569));}catch(_0x59857e){let _0x45953c={'error':!0x0,'errorLog':_0x59857e[_0x27e67c(0x76f)]()};return this[_0x27e67c(0x632)](_0x12472e,_0x4bda09,_0x45953c),this['logger'][_0x27e67c(0x819)](this[_0x27e67c(0x156)]+'\x20('+this[_0x27e67c(0x848)]['wuid']+_0x27e67c(0x5a6)+(_0x59857e instanceof Error?_0x59857e['message']:JSON[_0x27e67c(0x395)](_0x59857e,null,0x2))),null;}}async[a0_0x26e249(0x787)](_0x50329f,_0x317714){const _0x5bd499=a0_0x26e249;if(this[_0x5bd499(0x392)][_0x5bd499(0x57c)](this[_0x5bd499(0x156)]+'\x20('+this[_0x5bd499(0x848)][_0x5bd499(0x2bd)]+_0x5bd499(0x776)),!_0x50329f||!_0x317714)return this[_0x5bd499(0x392)][_0x5bd499(0x819)](this['instanceName']+'\x20('+this[_0x5bd499(0x848)][_0x5bd499(0x2bd)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x3dc9af=Date[_0x5bd499(0x80b)](),_0x114dfd=parseInt(_0x317714['stopMinutes'],0xa);if(isNaN(_0x114dfd))return this['logger'][_0x5bd499(0x819)](this['instanceName']+'\x20('+this[_0x5bd499(0x848)]['wuid']+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x4e5c52={'newStoppedUntil':_0x3dc9af+_0x114dfd*0x3c*0x3e8};return await this['updateConversation'](_0x50329f,_0x317714,_0x4e5c52,!0x0),null;}async[a0_0x26e249(0x554)](_0x529b64,_0x3799da){const _0x82ba18=a0_0x26e249;try{switch(_0x3799da[_0x82ba18(0x694)][_0x82ba18(0x161)]){case _0x82ba18(0x69e):await this[_0x82ba18(0x61e)](_0x529b64,_0x3799da);break;case _0x82ba18(0x1fa):await this['uazapiSendMedia'](_0x529b64,_0x3799da);break;case _0x82ba18(0x70a):await this['uazapiSendLocation'](_0x529b64,_0x3799da);break;case _0x82ba18(0x5b0):await this[_0x82ba18(0x249)](_0x529b64,_0x3799da);break;case'sendContact':await this[_0x82ba18(0x39f)](_0x529b64,_0x3799da);break;case _0x82ba18(0x442):await this[_0x82ba18(0x74c)](_0x529b64,_0x3799da);break;case _0x82ba18(0x463):await this['uazapiSendMenu'](_0x529b64,_0x3799da);break;case _0x82ba18(0x54d):await this['uazapiDeleteMessage'](_0x529b64,_0x3799da);break;default:this[_0x82ba18(0x392)][_0x82ba18(0x819)](this[_0x82ba18(0x156)]+'\x20('+this['instance'][_0x82ba18(0x2bd)]+_0x82ba18(0x6b7)+_0x3799da['uazapi']['command']);}}catch(_0x594d35){this[_0x82ba18(0x392)][_0x82ba18(0x819)](this[_0x82ba18(0x156)]+'\x20('+this[_0x82ba18(0x848)][_0x82ba18(0x2bd)]+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+(_0x594d35 instanceof Error?_0x594d35[_0x82ba18(0x3e1)]:JSON[_0x82ba18(0x395)](_0x594d35,null,0x2)));}}async[a0_0x26e249(0x632)](_0x4a4da9,_0x160a3e,_0x5eb5a7,_0xcb578e=!0x1,_0xf41919=!0x1){const _0x407efa=a0_0x26e249;_0x4a4da9[_0x407efa(0x3b5)]['blockLogs']||(_0x4a4da9[_0x407efa(0x3b5)][_0x407efa(0x52e)]=[]);let _0x44bb5a=(_0x4a4da9['chatLog'][_0x407efa(0x52e)]?.[_0x407efa(0x62e)]??0x0)+0x1,_0x2f37dc=_0x4a4da9['chatLog'][_0x407efa(0x52e)][_0x407efa(0x27f)](_0x1be0a5=>String(_0x1be0a5[_0x407efa(0x812)])===String(_0x160a3e[_0x407efa(0x68e)]))['length']+0x1,_0x3799cb=_0x5eb5a7?.[_0x407efa(0x318)]??Date['now'](),_0x36c1de=_0x5eb5a7?.['error']?_0x5eb5a7['errorLog']??_0x5eb5a7['error'][_0x407efa(0x76f)]():void 0x0,_0x5b980b={'onTime':_0x3799cb,'blockId':_0x160a3e[_0x407efa(0x68e)],'order':_0x44bb5a,'activatedCount':_0x2f37dc,'error':_0x5eb5a7?.[_0x407efa(0x819)]??!0x1,'messageId':_0x5eb5a7?.[_0x407efa(0x7a1)],'apiResponse':_0x5eb5a7?.[_0x407efa(0x60b)],'apiResponseString':_0x5eb5a7?.[_0x407efa(0x60b)]?JSON[_0x407efa(0x395)](_0x5eb5a7?.[_0x407efa(0x60b)]):void 0x0,'variable':_0x5eb5a7?.[_0x407efa(0x7ce)],'oldValue':_0x5eb5a7?.[_0x407efa(0x2ea)],'newValue':_0x5eb5a7?.[_0x407efa(0x618)],'newStoppedUntil':_0x5eb5a7?.['newStoppedUntil'],'moreLogs':_0x5eb5a7?.['moreLogs'],'errorLog':_0x36c1de};if(_0x5eb5a7['moreLogs']&&_0x5eb5a7[_0x407efa(0x684)][_0x407efa(0x62e)]>0x0){let _0x378b15=_0x5eb5a7[_0x407efa(0x684)]['map'](_0x1758cc=>this['replaceVariablesLogs'](_0x1758cc,_0x4a4da9[_0x407efa(0x3b5)][_0x407efa(0x712)]));_0x5b980b[_0x407efa(0x684)]=_0x378b15;}if(_0x4a4da9[_0x407efa(0x3b5)][_0x407efa(0x712)]||(_0x4a4da9[_0x407efa(0x3b5)][_0x407efa(0x712)]={}),_0x4a4da9[_0x407efa(0x3b5)]['realVariables'][_0x407efa(0x4a2)]=String(_0x2f37dc),_0x4a4da9[_0x407efa(0x3b5)][_0x407efa(0x712)][_0x407efa(0x380)]=String(_0x5eb5a7[_0x407efa(0x819)]??!0x1),_0x4a4da9[_0x407efa(0x3b5)][_0x407efa(0x52e)][_0x407efa(0x65e)](_0x5b980b),_0x4a4da9[_0x407efa(0x3b5)][_0x407efa(0x712)][_0x407efa(0x607)]&&_0x4a4da9[_0x407efa(0x3b5)]['realVariables']['telefone']!==_0x4a4da9[_0x407efa(0x1e8)]){let _0x79d328=(await this[_0x407efa(0x269)]({'numbers':[_0x4a4da9[_0x407efa(0x3b5)][_0x407efa(0x712)][_0x407efa(0x607)]]}))[0x0][_0x407efa(0x7d1)];_0x4a4da9[_0x407efa(0x3b5)][_0x407efa(0x712)][_0x407efa(0x607)]=_0x79d328,_0x4a4da9[_0x407efa(0x1e8)]=_0x79d328;try{let _0x5278f2={'_id':{'$ne':_0x4a4da9[_0x407efa(0x68e)]},'remoteJid':_0x79d328,'status':_0x407efa(0x178)},_0x498b98={'status':_0x407efa(0x1d0)};await this['repository'][_0x407efa(0x650)][_0x407efa(0x180)](_0x5278f2,_0x498b98,this[_0x407efa(0x848)][_0x407efa(0x2bd)]),this[_0x407efa(0x392)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x407efa(0x2bd)]+_0x407efa(0x534));}catch(_0x7dbb4d){this[_0x407efa(0x392)][_0x407efa(0x819)](this['instanceName']+'\x20('+this[_0x407efa(0x848)][_0x407efa(0x2bd)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x7dbb4d[_0x407efa(0x3e1)]);}try{let _0x11ad02=_0x4a4da9[_0x407efa(0x3b5)][_0x407efa(0x712)],_0x49e41a=await this[_0x407efa(0x60a)](_0x79d328),_0x529c06={..._0x11ad02,..._0x49e41a,'_remoteJid':_0x79d328};_0x4a4da9[_0x407efa(0x3b5)][_0x407efa(0x712)]=_0x529c06;}catch(_0x13ae49){this[_0x407efa(0x392)][_0x407efa(0x819)](this[_0x407efa(0x156)]+'\x20('+this['instance'][_0x407efa(0x2bd)]+'):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20'+_0x13ae49[_0x407efa(0x3e1)]);}}_0x4a4da9[_0x407efa(0x3b5)]['lastBlockId']=_0x160a3e[_0x407efa(0x68e)][_0x407efa(0x76f)](),_0x4a4da9[_0x407efa(0x3b5)][_0x407efa(0x70e)]&&(_0x4a4da9[_0x407efa(0x3b5)]['lastSendMessage']=_0x4a4da9[_0x407efa(0x3b5)]['lastSendMessage']),_0x4a4da9['chatLog'][_0x407efa(0x4f9)]&&(_0x4a4da9['chatLog'][_0x407efa(0x4f9)]=_0x4a4da9[_0x407efa(0x3b5)]['lastReceivedMessage']),_0x4a4da9[_0x407efa(0x3b5)][_0x407efa(0x1cd)]&&(_0x4a4da9[_0x407efa(0x3b5)]['lastCondition']=_0x4a4da9[_0x407efa(0x3b5)][_0x407efa(0x1cd)]),_0xf41919&&(_0x4a4da9[_0x407efa(0x228)]=_0x407efa(0x1d0)),_0xcb578e?this[_0x407efa(0x5d1)](_0x4a4da9):this[_0x407efa(0x321)](_0x4a4da9,_0x160a3e);}[a0_0x26e249(0x7a6)](_0x2784e9,_0x91676d){const _0x116494=a0_0x26e249;return _0x2784e9[_0x116494(0x38e)](/\{\{([^}]+)\}\}/g,(_0x1f5aeb,_0x364fb7)=>_0x91676d[_0x364fb7]?'{{'+_0x364fb7+_0x116494(0x21d)+_0x91676d[_0x364fb7]+'\x22':'{{'+_0x364fb7+_0x116494(0x70b));}async[a0_0x26e249(0x5d1)](_0x4ad393){const _0x2feab5=a0_0x26e249;try{let _0xb16a91=Object[_0x2feab5(0x29f)](_0x4ad393[_0x2feab5(0x3b5)][_0x2feab5(0x712)])['map'](([_0x20c5dd,_0x464e2c])=>({'name':_0x20c5dd,'value':_0x464e2c})),_0x5db482={'status':_0x4ad393[_0x2feab5(0x228)],'remoteJid':_0x4ad393[_0x2feab5(0x1e8)],'blocks':_0x4ad393[_0x2feab5(0x1c9)],'waitingMenu_id':_0x4ad393[_0x2feab5(0x29d)],'waitingMenu_text':_0x4ad393[_0x2feab5(0x590)],'waitingMenu_replyOptions':_0x4ad393[_0x2feab5(0x77d)],'chatLog':{'lastBlockId':_0x4ad393[_0x2feab5(0x3b5)][_0x2feab5(0x18c)],'lastSendMessage':_0x4ad393[_0x2feab5(0x3b5)][_0x2feab5(0x70e)],'lastReceivedMessage':_0x4ad393[_0x2feab5(0x3b5)]['lastReceivedMessage'],'lastCondition':_0x4ad393[_0x2feab5(0x3b5)][_0x2feab5(0x1cd)],'chatVariables':_0xb16a91,'realVariables':_0x4ad393[_0x2feab5(0x3b5)]['realVariables'],'blockLogs':_0x4ad393[_0x2feab5(0x3b5)][_0x2feab5(0x52e)]}},_0xc768df=await this[_0x2feab5(0x1e2)][_0x2feab5(0x650)][_0x2feab5(0x68c)](_0x4ad393[_0x2feab5(0x68e)],_0x5db482,this[_0x2feab5(0x848)][_0x2feab5(0x2bd)]);if(_0xc768df){this[_0x2feab5(0x392)]['verbose'](this[_0x2feab5(0x156)]+'\x20('+this['instance']['wuid']+_0x2feab5(0x765)+_0xc768df['_id']);try{let _0x54ecf3=[_0x2feab5(0x22e),'nomecompleto','email',_0x2feab5(0x721),_0x2feab5(0x228),_0x2feab5(0x6e7),_0x2feab5(0x265),_0x2feab5(0x3f1),_0x2feab5(0x7ff),_0x2feab5(0x353)];if(!this[_0x2feab5(0x68b)]&&(await this[_0x2feab5(0x53c)](),!this[_0x2feab5(0x68b)]))throw new Error(_0x2feab5(0x507));let _0x1ba5c2=this[_0x2feab5(0x68b)]?.['customFields']['map'](_0x430e5e=>_0x430e5e[_0x2feab5(0x452)]),_0x117e1a={};Object[_0x2feab5(0x29f)](_0x4ad393[_0x2feab5(0x3b5)][_0x2feab5(0x712)])['forEach'](([_0x599640,_0xfe67b3])=>{const _0x27fd5f=_0x2feab5;_0x54ecf3['includes'](_0x599640)&&(_0x599640==='tags'&&typeof _0xfe67b3=='string'?_0x117e1a[_0x599640]=_0xfe67b3[_0x27fd5f(0x510)](',')[_0x27fd5f(0x261)](_0x259b2b=>_0x259b2b[_0x27fd5f(0x4fe)]())[_0x27fd5f(0x27f)](_0x3d8cd0=>_0x3d8cd0!==''):_0x599640===_0x27fd5f(0x7ff)&&typeof _0xfe67b3==_0x27fd5f(0x681)?_0x117e1a[_0x599640]=_0xfe67b3['split'](',')[_0x27fd5f(0x261)](_0xc0daf1=>_0xc0daf1['trim']())['filter'](_0x13816f=>_0x13816f!==''):_0x117e1a[_0x599640]=_0xfe67b3);});let _0x2d0e5a=_0x4ad393[_0x2feab5(0x3b5)][_0x2feab5(0x52e)][_0x4ad393[_0x2feab5(0x3b5)]['blockLogs'][_0x2feab5(0x62e)]-0x1];if(_0x2d0e5a){let _0x10575b=_0x2d0e5a['newStoppedUntil'];_0x10575b!==void 0x0&&(_0x117e1a[_0x2feab5(0x499)]=_0x10575b[_0x2feab5(0x76f)]());}let _0x184787=_0xb16a91['filter'](_0x39c3c9=>_0x1ba5c2[_0x2feab5(0x5d9)](_0x39c3c9[_0x2feab5(0x452)]));this[_0x2feab5(0x392)][_0x2feab5(0x57c)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2feab5(0x75f)),this[_0x2feab5(0x392)][_0x2feab5(0x57c)](_0x117e1a),this[_0x2feab5(0x392)]['verbose'](this[_0x2feab5(0x156)]+'\x20('+this['instance'][_0x2feab5(0x2bd)]+'):\x20customFieldVariables'),this[_0x2feab5(0x392)][_0x2feab5(0x57c)](_0x184787);let _0x55fec4=_0x184787[_0x2feab5(0x261)](_0x3e9151=>{const _0x4e2bbd=_0x2feab5;let _0x4df529=this['AutomateSystem']?.['customFields'][_0x4e2bbd(0x288)](_0x49d6f3=>_0x49d6f3[_0x4e2bbd(0x452)]===_0x3e9151['name']);if(!_0x4df529)throw new Error(_0x4e2bbd(0x3be)+_0x3e9151['name']);return{'_id':_0x4df529[_0x4e2bbd(0x68e)],'value':_0x3e9151[_0x4e2bbd(0x298)]};});this['logger'][_0x2feab5(0x57c)](this[_0x2feab5(0x156)]+'\x20('+this[_0x2feab5(0x848)]['wuid']+_0x2feab5(0x68d)),this[_0x2feab5(0x392)][_0x2feab5(0x57c)](_0x55fec4),await this[_0x2feab5(0x208)](_0x4ad393[_0x2feab5(0x1e8)],_0x117e1a,_0x55fec4);}catch(_0x5ac70a){this[_0x2feab5(0x392)][_0x2feab5(0x819)](this['instanceName']+'\x20('+this[_0x2feab5(0x848)][_0x2feab5(0x2bd)]+_0x2feab5(0x4ff)+(_0x5ac70a instanceof Error?_0x5ac70a[_0x2feab5(0x3e1)]:JSON[_0x2feab5(0x395)](_0x5ac70a,null,0x2)));}}else this[_0x2feab5(0x392)][_0x2feab5(0x819)](this['instanceName']+'\x20('+this[_0x2feab5(0x848)][_0x2feab5(0x2bd)]+_0x2feab5(0x2a8));}catch(_0x1ad737){this[_0x2feab5(0x392)][_0x2feab5(0x819)](this[_0x2feab5(0x156)]+'\x20('+this[_0x2feab5(0x848)][_0x2feab5(0x2bd)]+_0x2feab5(0x316)+(_0x1ad737 instanceof Error?_0x1ad737[_0x2feab5(0x3e1)]:JSON['stringify'](_0x1ad737,null,0x2)));}}async['saveChatVariables'](_0x37505b,_0x2e60b6,_0x229fdc){const _0x597992=a0_0x26e249;try{let _0x37e262={'leadInfo.leadnome':_0x2e60b6['nome'],'leadInfo.nomecompleto':_0x2e60b6[_0x597992(0x4ef)],'leadInfo.email':_0x2e60b6[_0x597992(0x56c)],'leadInfo.cpf':_0x2e60b6['cpf'],'leadInfo.status':_0x2e60b6[_0x597992(0x228)],'leadInfo.notas':_0x2e60b6[_0x597992(0x6e7)],'leadInfo.responsavelid':_0x2e60b6[_0x597992(0x265)],'leadInfo.tags':_0x2e60b6[_0x597992(0x3f1)],'leadInfo.etiquetas':_0x2e60b6['etiquetas'],'leadInfo.customFields':_0x229fdc,'leadInfo.atendimentoAberto':_0x2e60b6['atendimentoAberto']},_0x3617ba=await this['repository'][_0x597992(0x3b6)]['findOne']({'where':{'_id':_0x37505b}},this[_0x597992(0x848)][_0x597992(0x2bd)]);if(!_0x3617ba)return'chat\x20não\x20encontrado';let _0x438de1=new Set(_0x3617ba[_0x597992(0x484)][_0x597992(0x7ff)]||[]),_0x5ebd0c=new Set(_0x2e60b6[_0x597992(0x7ff)]||[]),_0x173c82=await this[_0x597992(0x1e2)][_0x597992(0x488)][_0x597992(0x288)]({'where':{}},this['instance'][_0x597992(0x2bd)]),_0x5b7972=new Set(_0x173c82[_0x597992(0x261)](_0x4d120a=>_0x4d120a[_0x597992(0x68e)])),_0x52f235=[..._0x5ebd0c][_0x597992(0x27f)](_0x27f693=>!_0x438de1[_0x597992(0x4c6)](_0x27f693)&&_0x5b7972[_0x597992(0x4c6)](_0x27f693)),_0x4df62c=[..._0x438de1]['filter'](_0x4d9b6f=>!_0x5ebd0c[_0x597992(0x4c6)](_0x4d9b6f));for(let _0x483ef5 of _0x52f235)await this[_0x597992(0x50e)](_0x483ef5,_0x3617ba[_0x597992(0x68e)]),_0x438de1[_0x597992(0x2b0)](_0x483ef5);for(let _0x5f5ca7 of _0x4df62c)await this['RemoveChatLabel'](_0x5f5ca7,_0x3617ba['_id']),_0x438de1[_0x597992(0x72e)](_0x5f5ca7);if(_0x597992(0x499)in _0x2e60b6){let _0x1bb079=_0x2e60b6['desativadoFluxoAte'];_0x37e262[_0x597992(0x73f)]=_0x1bb079?Number(_0x1bb079):null;}if(_0x597992(0x353)in _0x2e60b6){let _0x148712=_0x2e60b6[_0x597992(0x353)][_0x597992(0x322)]();_0x37e262[_0x597992(0x2ce)]=_0x148712===_0x597992(0x441)||_0x148712==='1'||_0x148712===_0x597992(0x826)||_0x148712===_0x597992(0x79d);}let _0x15114c=await this[_0x597992(0x1e2)][_0x597992(0x3b6)][_0x597992(0x68c)]({'where':{'_id':_0x37505b}},_0x37e262,this[_0x597992(0x848)][_0x597992(0x2bd)]);_0x15114c?(this[_0x597992(0x392)][_0x597992(0x57c)](this['instanceName']+'\x20('+this[_0x597992(0x848)][_0x597992(0x2bd)]+_0x597992(0x55c)+_0x15114c[_0x597992(0x68e)]),J(this[_0x597992(0x156)],_0x597992(0x596),{'chat':_0x15114c})):this[_0x597992(0x392)][_0x597992(0x819)](this[_0x597992(0x156)]+'\x20('+this[_0x597992(0x848)][_0x597992(0x2bd)]+_0x597992(0x32c));}catch(_0x5bb66e){this[_0x597992(0x392)][_0x597992(0x819)](this['instanceName']+'\x20('+this[_0x597992(0x848)]['wuid']+_0x597992(0x58c)+(_0x5bb66e instanceof Error?_0x5bb66e[_0x597992(0x3e1)]:JSON[_0x597992(0x395)](_0x5bb66e,null,0x2)));}}async['updateStopChat'](_0x26e449,_0x40d4cb){const _0x585d49=a0_0x26e249;this[_0x585d49(0x392)]['verbose'](this['instanceName']+'\x20('+this[_0x585d49(0x848)][_0x585d49(0x2bd)]+_0x585d49(0x846)+_0x40d4cb);try{let _0x2d2bfa=await this[_0x585d49(0x1e2)][_0x585d49(0x3b6)][_0x585d49(0x68c)]({'where':{'_id':_0x26e449[_0x585d49(0x1e8)]}},{'leadInfo.desativadoFluxoAte':_0x40d4cb},this[_0x585d49(0x848)][_0x585d49(0x2bd)]);this['logger'][_0x585d49(0x57c)](this[_0x585d49(0x156)]+'\x20('+this[_0x585d49(0x848)][_0x585d49(0x2bd)]+_0x585d49(0x7ae)+_0x26e449[_0x585d49(0x68e)]),this[_0x585d49(0x392)]['verbose'](this[_0x585d49(0x156)]+'\x20('+this[_0x585d49(0x848)]['wuid']+'):\x20atualização\x20chat:\x20'+JSON[_0x585d49(0x395)](_0x2d2bfa,null,0x2)),_0x2d2bfa&&J(this[_0x585d49(0x156)],'chats',{'chat':_0x2d2bfa});}catch(_0x4f3f56){this['logger']['error'](this[_0x585d49(0x156)]+'\x20('+this[_0x585d49(0x848)][_0x585d49(0x2bd)]+_0x585d49(0x828)+(_0x4f3f56 instanceof Error?_0x4f3f56[_0x585d49(0x3e1)]:JSON[_0x585d49(0x395)](_0x4f3f56,null,0x2)));}}async[a0_0x26e249(0x56a)](_0x1696c2){const _0xbb1da8=a0_0x26e249;try{this[_0xbb1da8(0x392)][_0xbb1da8(0x57c)](this[_0xbb1da8(0x156)]+'\x20('+this[_0xbb1da8(0x848)]['wuid']+_0xbb1da8(0x388));let _0xb3677f=_0x1696c2['replace'](/\D/g,''),_0x4e2ced=await this['repository'][_0xbb1da8(0x394)]['findOne']({'where':{'testingWith':_0xb3677f}},this[_0xbb1da8(0x848)]['wuid']);return _0x4e2ced||(this[_0xbb1da8(0x392)][_0xbb1da8(0x57c)](this['instanceName']+'\x20('+this[_0xbb1da8(0x848)][_0xbb1da8(0x2bd)]+_0xbb1da8(0x77c)),_0x4e2ced=await this[_0xbb1da8(0x1e2)]['flow']['findOne']({'where':{'default':!0x0}},this[_0xbb1da8(0x848)][_0xbb1da8(0x2bd)])),_0x4e2ced||(this[_0xbb1da8(0x392)][_0xbb1da8(0x57c)](this['instanceName']+'\x20('+this[_0xbb1da8(0x848)]['wuid']+_0xbb1da8(0x79a)),null);}catch(_0x5312f6){return this[_0xbb1da8(0x392)]['error'](this[_0xbb1da8(0x156)]+'\x20('+this[_0xbb1da8(0x848)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x5312f6 instanceof Error?_0x5312f6[_0xbb1da8(0x3e1)]:JSON[_0xbb1da8(0x395)](_0x5312f6,null,0x2))),null;}}async['findConversation'](_0x244bdb,_0x306c72){const _0x149068=a0_0x26e249;try{let _0x1dfedc=!!_0x306c72[_0x149068(0x153)],_0x4d0f87=_0x306c72[_0x149068(0x847)],_0x3f348a=null;if(this[_0x149068(0x392)][_0x149068(0x57c)](this['instanceName']+'\x20('+this[_0x149068(0x848)]['wuid']+_0x149068(0x36b)+_0x1dfedc+_0x149068(0x7ab)+_0x4d0f87),_0x1dfedc){this['logger'][_0x149068(0x57c)](this['instanceName']+'\x20('+this[_0x149068(0x848)][_0x149068(0x2bd)]+_0x149068(0x337));let _0x2b1661={'where':{'remoteJid':_0x244bdb,'waitingMenu_id':_0x4d0f87}};if(_0x3f348a=await this[_0x149068(0x1e2)][_0x149068(0x650)][_0x149068(0x49c)](_0x2b1661,this[_0x149068(0x848)][_0x149068(0x2bd)]),!_0x3f348a)return this[_0x149068(0x392)][_0x149068(0x57c)](this[_0x149068(0x156)]+'\x20('+this[_0x149068(0x848)][_0x149068(0x2bd)]+_0x149068(0x4e6)),null;let _0x1218c7=Date[_0x149068(0x80b)](),_0x311e31=_0x3f348a?.[_0x149068(0x46d)]||0x0,_0x299f97=_0x1218c7-_0x311e31*0x3c*0x3e8;if(_0x3f348a[_0x149068(0x398)]<_0x299f97){this[_0x149068(0x392)][_0x149068(0x57c)](this[_0x149068(0x156)]+'\x20('+this[_0x149068(0x848)][_0x149068(0x2bd)]+_0x149068(0x4ca));let _0x15ea37={'number':_0x3f348a['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x3f348a['waitingMenu_ExpiredMessage']}};await this[_0x149068(0x3e8)](_0x15ea37);let _0x2cf460={'status':_0x149068(0x1d0),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository'][_0x149068(0x650)][_0x149068(0x68c)](_0x3f348a[_0x149068(0x68e)],_0x2cf460,this['instance']['wuid']),null;}return _0x3f348a['lastInteraction']=Date[_0x149068(0x80b)](),_0x3f348a[_0x149068(0x3b5)]['lastReceivedMessage']=_0x306c72,_0x3f348a;}else{this[_0x149068(0x392)][_0x149068(0x57c)](this[_0x149068(0x156)]+'\x20('+this['instance'][_0x149068(0x2bd)]+'):\x20'+this[_0x149068(0x848)][_0x149068(0x2bd)]+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this[_0x149068(0x392)][_0x149068(0x57c)](this[_0x149068(0x156)]+'\x20('+this[_0x149068(0x848)][_0x149068(0x2bd)]+_0x149068(0x23e));let _0x161fd4={'where':{'remoteJid':_0x244bdb,'status':_0x149068(0x178)}};if(_0x3f348a=await this['repository'][_0x149068(0x650)]['findOne'](_0x161fd4,this[_0x149068(0x848)][_0x149068(0x2bd)]),!_0x3f348a){let _0xa599f3=await this['findFlow'](_0x244bdb);if(_0xa599f3&&(_0x3f348a=await this[_0x149068(0x3d6)](_0xa599f3,_0x306c72[_0x149068(0x7dd)],_0x306c72)),!_0x3f348a)return null;}let _0x5a44e1=Date[_0x149068(0x80b)](),_0x34ee11=_0x3f348a?.[_0x149068(0x46d)]||0x0,_0x426190=_0x5a44e1-_0x34ee11*0x3c*0x3e8;if(this[_0x149068(0x392)][_0x149068(0x57c)](this[_0x149068(0x156)]+'\x20('+this['instance'][_0x149068(0x2bd)]+_0x149068(0x744)+_0x5a44e1+',\x20Minutes\x20to\x20Close:\x20'+_0x34ee11+_0x149068(0x3aa)+_0x426190),this['logger'][_0x149068(0x57c)](this[_0x149068(0x156)]+'\x20('+this[_0x149068(0x848)][_0x149068(0x2bd)]+_0x149068(0x4d6)),this[_0x149068(0x392)]['verbose'](this[_0x149068(0x156)]+'\x20('+this[_0x149068(0x848)][_0x149068(0x2bd)]+_0x149068(0x7e2)+_0x3f348a[_0x149068(0x398)]),this[_0x149068(0x392)][_0x149068(0x57c)](this['instanceName']+'\x20('+this[_0x149068(0x848)][_0x149068(0x2bd)]+_0x149068(0x470)+_0x426190),_0x3f348a[_0x149068(0x398)]<_0x426190){this[_0x149068(0x392)][_0x149068(0x57c)](this[_0x149068(0x156)]+'\x20('+this[_0x149068(0x848)][_0x149068(0x2bd)]+'):\x20Conversa\x20está\x20expirada');let _0x39aee=await this['findFlow'](_0x244bdb);if(_0x39aee===null)return null;_0x3f348a&&await this[_0x149068(0x1e2)][_0x149068(0x650)][_0x149068(0x68c)](_0x3f348a[_0x149068(0x68e)],{'status':'closed'},this['instance'][_0x149068(0x2bd)]),_0x3f348a=await this[_0x149068(0x3d6)](_0x39aee,_0x306c72[_0x149068(0x7dd)],_0x306c72);}return _0x3f348a[_0x149068(0x398)]=_0x5a44e1,_0x3f348a['chatLog'][_0x149068(0x4f9)]=_0x306c72,_0x3f348a;}}catch(_0xc182d2){return this[_0x149068(0x392)][_0x149068(0x819)](this[_0x149068(0x156)]+'\x20('+this['instance']['wuid']+_0x149068(0x593)+(_0xc182d2 instanceof Error?_0xc182d2[_0x149068(0x3e1)]:JSON[_0x149068(0x395)](_0xc182d2,null,0x2))),null;}}async['createNewConversation'](_0x20ecbd,_0x1aa2cd,_0x52fc25){const _0x419372=a0_0x26e249;this['logger'][_0x419372(0x57c)](this[_0x419372(0x156)]+'\x20('+this['instance'][_0x419372(0x2bd)]+_0x419372(0x2ee));try{let _0x289d53=require('mongodb')[_0x419372(0x330)],_0x5d0f61=Date[_0x419372(0x80b)](),_0x2f6572=_0x419372(0x2d3),_0x186976=_0x1aa2cd['fromMe']?null:_0x52fc25,_0x3aece9=_0x1aa2cd[_0x419372(0x483)]?_0x52fc25:null,_0x3d121d=_0x1aa2cd[_0x419372(0x1e8)];await this[_0x419372(0x461)](_0x3d121d);let _0x49df7c={..._0x20ecbd,'chatLog':null},_0x57accf=await this[_0x419372(0x6f2)](_0x49df7c[_0x419372(0x849)]),_0x1323a7=await this[_0x419372(0x60a)](_0x3d121d),_0x4cdf75={..._0x57accf,..._0x1323a7,'_remoteJid':_0x3d121d},_0x54fda8={'lastReceivedMessage':_0x186976,'lastSendMessage':_0x3aece9,'lastBlockId':_0x2f6572,'lastCondition':!0x0,'realVariables':_0x4cdf75};_0x49df7c[_0x419372(0x3b5)]=_0x54fda8,delete _0x49df7c[_0x419372(0x68e)],_0x49df7c['_id']=new _0x289d53(),_0x49df7c[_0x419372(0x398)]=_0x5d0f61,_0x49df7c[_0x419372(0x228)]='open',_0x49df7c['remoteJid']=_0x3d121d;let _0x2bd156=await this[_0x419372(0x1e2)][_0x419372(0x650)]['updateOne'](_0x49df7c[_0x419372(0x68e)],_0x49df7c,this['instance'][_0x419372(0x2bd)]);return this['logger'][_0x419372(0x57c)](this[_0x419372(0x156)]+'\x20('+this[_0x419372(0x848)]['wuid']+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x2bd156?_0x49df7c:null;}catch(_0x4bf96b){return this[_0x419372(0x392)][_0x419372(0x819)](this[_0x419372(0x156)]+'\x20('+this['instance'][_0x419372(0x2bd)]+_0x419372(0x6b5)+(_0x4bf96b instanceof Error?_0x4bf96b[_0x419372(0x3e1)]:JSON[_0x419372(0x395)](_0x4bf96b,null,0x2))),_0x4bf96b;}}async[a0_0x26e249(0x61e)](_0x1dab97,_0x38c546){const _0x174ef5=a0_0x26e249;let _0x13d181=_0x1dab97[_0x174ef5(0x1e8)];_0x38c546[_0x174ef5(0x694)]['remoteJid']&&_0x38c546[_0x174ef5(0x694)][_0x174ef5(0x1e8)][_0x174ef5(0x4fe)]()!==''&&(_0x13d181=_0x38c546[_0x174ef5(0x694)][_0x174ef5(0x1e8)][_0x174ef5(0x4fe)]()),this['logger'][_0x174ef5(0x57c)](this['instanceName']+'\x20('+this[_0x174ef5(0x848)]['wuid']+_0x174ef5(0x26b));let _0x4a2fc7={'number':_0x13d181,'options':{'delay':_0x38c546['uazapi'][_0x174ef5(0x5af)],'linkPreview':_0x38c546['uazapi']['linkPreview']},'textMessage':{'text':_0x38c546['uazapi'][_0x174ef5(0x346)]}};try{let _0x55e31=await this[_0x174ef5(0x3e8)](_0x4a2fc7);if(_0x55e31){let _0x4ff510={'_id':_0x55e31[_0x174ef5(0x7dd)]['id'],'_fromMe':_0x55e31[_0x174ef5(0x7dd)][_0x174ef5(0x483)],'_remoteJid':_0x55e31[_0x174ef5(0x7dd)][_0x174ef5(0x1e8)]},_0x467eb5=(0x0,w['normalizeMessageContent'])(_0x55e31[_0x174ef5(0x3e1)]),_0x226a26=(0x0,w['getContentType'])(_0x467eb5);_0x1dab97[_0x174ef5(0x3b5)][_0x174ef5(0x18c)]=_0x38c546[_0x174ef5(0x68e)][_0x174ef5(0x76f)]();let {message_normalized:_0x4e5100}=this[_0x174ef5(0x151)](_0x467eb5,_0x226a26,null);_0x1dab97[_0x174ef5(0x3b5)][_0x174ef5(0x70e)]=await _0x4e5100;let _0x1ce58f={'messageId':_0x55e31[_0x174ef5(0x7dd)]['id']},_0x5613b2=_0x1dab97[_0x174ef5(0x3b5)]['realVariables'];Object[_0x174ef5(0x5ec)](_0x5613b2,_0x4ff510),_0x1dab97[_0x174ef5(0x3b5)][_0x174ef5(0x712)]=_0x5613b2,this['updateConversation'](_0x1dab97,_0x38c546,_0x1ce58f);}else{let _0x3eda52={'error':!0x0};this[_0x174ef5(0x632)](_0x1dab97,_0x38c546,_0x3eda52),this['logger'][_0x174ef5(0x819)](this[_0x174ef5(0x156)]+'\x20('+this[_0x174ef5(0x848)][_0x174ef5(0x2bd)]+_0x174ef5(0x6a5));}}catch(_0x4f1879){let _0x1b1d76={'error':!0x0,'errorLog':_0x4f1879[_0x174ef5(0x76f)]()};this['updateConversation'](_0x1dab97,_0x38c546,_0x1b1d76),this['logger'][_0x174ef5(0x819)](this['instanceName']+'\x20('+this[_0x174ef5(0x848)][_0x174ef5(0x2bd)]+_0x174ef5(0x266)+(_0x4f1879 instanceof Error?_0x4f1879[_0x174ef5(0x3e1)]:JSON['stringify'](_0x4f1879,null,0x2)));}}async[a0_0x26e249(0x57b)](_0x49eeb9,_0x171c9f){const _0x3951fa=a0_0x26e249;let _0x2b3591=_0x49eeb9[_0x3951fa(0x1e8)];_0x171c9f[_0x3951fa(0x694)][_0x3951fa(0x1e8)]&&_0x171c9f[_0x3951fa(0x694)][_0x3951fa(0x1e8)][_0x3951fa(0x4fe)]()!==''&&(_0x2b3591=_0x171c9f[_0x3951fa(0x694)][_0x3951fa(0x1e8)]['trim']()),this['logger']['verbose'](this[_0x3951fa(0x156)]+'\x20('+this[_0x3951fa(0x848)][_0x3951fa(0x2bd)]+_0x3951fa(0x6f8));let _0x54888f={'number':_0x2b3591,'options':{'delay':_0x171c9f[_0x3951fa(0x694)]['delay'],'linkPreview':_0x171c9f[_0x3951fa(0x694)]['linkPreview']},'mediaMessage':{'mediatype':_0x171c9f[_0x3951fa(0x694)]['mediatype'],'caption':_0x171c9f['uazapi'][_0x3951fa(0x2eb)],'media':_0x171c9f[_0x3951fa(0x694)][_0x3951fa(0x4f2)],'fileName':_0x171c9f[_0x3951fa(0x694)][_0x3951fa(0x771)]}};try{let _0x226499=await this[_0x3951fa(0x48c)](_0x54888f);if(_0x226499){let _0x2ba4a1={'_id':_0x226499[_0x3951fa(0x7dd)]['id'],'_fromMe':_0x226499['key'][_0x3951fa(0x483)],'_remoteJid':_0x226499['key'][_0x3951fa(0x1e8)]},_0x14f125=(0x0,w[_0x3951fa(0x20d)])(_0x226499[_0x3951fa(0x3e1)]),_0x211ca3=(0x0,w[_0x3951fa(0x7d2)])(_0x14f125);_0x49eeb9['chatLog'][_0x3951fa(0x18c)]=_0x171c9f[_0x3951fa(0x68e)][_0x3951fa(0x76f)]();let {message_normalized:_0x1f419a}=this[_0x3951fa(0x151)](_0x14f125,_0x211ca3,null);_0x49eeb9[_0x3951fa(0x3b5)]['lastSendMessage']=await _0x1f419a;let _0x37fb9e={'messageId':_0x226499[_0x3951fa(0x7dd)]['id']},_0x479569=_0x49eeb9['chatLog'][_0x3951fa(0x712)];Object[_0x3951fa(0x5ec)](_0x479569,_0x2ba4a1),_0x49eeb9[_0x3951fa(0x3b5)]['realVariables']=_0x479569,this[_0x3951fa(0x632)](_0x49eeb9,_0x171c9f,_0x37fb9e);}else{let _0x222423={'error':!0x0};this['updateConversation'](_0x49eeb9,_0x171c9f,_0x222423),this[_0x3951fa(0x392)][_0x3951fa(0x819)](this[_0x3951fa(0x156)]+'\x20('+this['instance']['wuid']+_0x3951fa(0x7df));}}catch(_0x46de1d){let _0x43a536={'error':!0x0,'errorLog':_0x46de1d[_0x3951fa(0x76f)]()};this[_0x3951fa(0x632)](_0x49eeb9,_0x171c9f,_0x43a536),this[_0x3951fa(0x392)][_0x3951fa(0x819)](this[_0x3951fa(0x156)]+'\x20('+this[_0x3951fa(0x848)][_0x3951fa(0x2bd)]+_0x3951fa(0x51a)+(_0x46de1d instanceof Error?_0x46de1d[_0x3951fa(0x3e1)]:JSON[_0x3951fa(0x395)](_0x46de1d,null,0x2)));}}async[a0_0x26e249(0x3fa)](_0x202eba,_0x390fd9){const _0x3e636b=a0_0x26e249;let _0x3a4140=_0x202eba[_0x3e636b(0x1e8)];_0x390fd9['uazapi'][_0x3e636b(0x1e8)]&&_0x390fd9[_0x3e636b(0x694)]['remoteJid']['trim']()!==''&&(_0x3a4140=_0x390fd9['uazapi'][_0x3e636b(0x1e8)][_0x3e636b(0x4fe)]()),this[_0x3e636b(0x392)][_0x3e636b(0x57c)](this[_0x3e636b(0x156)]+'\x20('+this[_0x3e636b(0x848)][_0x3e636b(0x2bd)]+_0x3e636b(0x760));let _0x2fc7f5={'number':_0x3a4140,'options':{'delay':_0x390fd9['uazapi'][_0x3e636b(0x5af)]},'locationMessage':{'name':_0x390fd9[_0x3e636b(0x694)][_0x3e636b(0x452)],'address':_0x390fd9['uazapi'][_0x3e636b(0x7d3)],'latitude':_0x390fd9[_0x3e636b(0x694)][_0x3e636b(0x767)],'longitude':_0x390fd9[_0x3e636b(0x694)]['longitude']}};try{let _0x2a3567=await this[_0x3e636b(0x416)](_0x2fc7f5);if(_0x2a3567){let _0x356f45={'_id':_0x2a3567[_0x3e636b(0x7dd)]['id'],'_fromMe':_0x2a3567[_0x3e636b(0x7dd)][_0x3e636b(0x483)],'_remoteJid':_0x2a3567[_0x3e636b(0x7dd)][_0x3e636b(0x1e8)]},_0x2c8ab3=(0x0,w[_0x3e636b(0x20d)])(_0x2a3567['message']),_0x5c5b33=(0x0,w[_0x3e636b(0x7d2)])(_0x2c8ab3);_0x202eba[_0x3e636b(0x3b5)][_0x3e636b(0x18c)]=_0x390fd9[_0x3e636b(0x68e)][_0x3e636b(0x76f)]();let {message_normalized:_0x2021ae}=this[_0x3e636b(0x151)](_0x2c8ab3,_0x5c5b33,null);_0x202eba[_0x3e636b(0x3b5)]['lastSendMessage']=await _0x2021ae;let _0xf84f39={'messageId':_0x2a3567[_0x3e636b(0x7dd)]['id']},_0x4f5157=_0x202eba[_0x3e636b(0x3b5)]['realVariables'];Object[_0x3e636b(0x5ec)](_0x4f5157,_0x356f45),_0x202eba['chatLog']['realVariables']=_0x4f5157,this['updateConversation'](_0x202eba,_0x390fd9,_0xf84f39);}else{let _0x488353={'error':!0x0};this[_0x3e636b(0x632)](_0x202eba,_0x390fd9,_0x488353),this[_0x3e636b(0x392)]['error'](this[_0x3e636b(0x156)]+'\x20('+this[_0x3e636b(0x848)]['wuid']+_0x3e636b(0x458));}}catch(_0x14fdf5){let _0x6a9f6e={'error':!0x0,'errorLog':_0x14fdf5['toString']()};this[_0x3e636b(0x632)](_0x202eba,_0x390fd9,_0x6a9f6e),this[_0x3e636b(0x392)]['error'](this[_0x3e636b(0x156)]+'\x20('+this[_0x3e636b(0x848)][_0x3e636b(0x2bd)]+_0x3e636b(0x75d)+(_0x14fdf5 instanceof Error?_0x14fdf5['message']:JSON[_0x3e636b(0x395)](_0x14fdf5,null,0x2)));}}async[a0_0x26e249(0x249)](_0x2f3812,_0x2ea019){const _0x8daed9=a0_0x26e249;let _0x895941=_0x2f3812[_0x8daed9(0x1e8)];_0x2ea019['uazapi']['remoteJid']&&_0x2ea019[_0x8daed9(0x694)]['remoteJid'][_0x8daed9(0x4fe)]()!==''&&(_0x895941=_0x2ea019[_0x8daed9(0x694)][_0x8daed9(0x1e8)][_0x8daed9(0x4fe)]()),this[_0x8daed9(0x392)][_0x8daed9(0x57c)](this['instanceName']+'\x20('+this['instance'][_0x8daed9(0x2bd)]+_0x8daed9(0x613));let _0x1d675a={'number':_0x895941,'options':{'delay':_0x2ea019['uazapi'][_0x8daed9(0x5af)]},'audioMessage':{'audio':_0x2ea019[_0x8daed9(0x694)][_0x8daed9(0x2f0)]}};try{let _0xfaa9a6=await this[_0x8daed9(0x4b6)](_0x1d675a);if(_0xfaa9a6){let _0x3a0b29={'_id':_0xfaa9a6[_0x8daed9(0x7dd)]['id'],'_fromMe':_0xfaa9a6[_0x8daed9(0x7dd)]['fromMe'],'_remoteJid':_0xfaa9a6[_0x8daed9(0x7dd)][_0x8daed9(0x1e8)]},_0xeaa2a8=(0x0,w[_0x8daed9(0x20d)])(_0xfaa9a6[_0x8daed9(0x3e1)]),_0xf84b5c=(0x0,w[_0x8daed9(0x7d2)])(_0xeaa2a8);_0x2f3812[_0x8daed9(0x3b5)][_0x8daed9(0x18c)]=_0x2ea019[_0x8daed9(0x68e)][_0x8daed9(0x76f)]();let {message_normalized:_0x4d48b8}=this['normalizeMessage'](_0xeaa2a8,_0xf84b5c,null);_0x2f3812[_0x8daed9(0x3b5)]['lastSendMessage']=await _0x4d48b8;let _0x370448={'messageId':_0xfaa9a6[_0x8daed9(0x7dd)]['id']},_0x5b328d=_0x2f3812['chatLog'][_0x8daed9(0x712)];Object[_0x8daed9(0x5ec)](_0x5b328d,_0x3a0b29),_0x2f3812['chatLog'][_0x8daed9(0x712)]=_0x5b328d,this[_0x8daed9(0x632)](_0x2f3812,_0x2ea019,_0x370448);}else{let _0x1dc8a6={'error':!0x0};this[_0x8daed9(0x632)](_0x2f3812,_0x2ea019,_0x1dc8a6),this[_0x8daed9(0x392)][_0x8daed9(0x819)](this[_0x8daed9(0x156)]+'\x20('+this[_0x8daed9(0x848)][_0x8daed9(0x2bd)]+_0x8daed9(0x5fd));}}catch(_0x10079a){let _0x1e0c00={'error':!0x0,'errorLog':_0x10079a[_0x8daed9(0x76f)]()};this[_0x8daed9(0x632)](_0x2f3812,_0x2ea019,_0x1e0c00),this[_0x8daed9(0x392)][_0x8daed9(0x819)](this[_0x8daed9(0x156)]+'\x20('+this[_0x8daed9(0x848)][_0x8daed9(0x2bd)]+_0x8daed9(0x515)+(_0x10079a instanceof Error?_0x10079a[_0x8daed9(0x3e1)]:JSON['stringify'](_0x10079a,null,0x2)));}}async['uazapiSendContact'](_0x7cf1c,_0x3a797d){const _0x2539c6=a0_0x26e249;let _0x48e0c5=_0x7cf1c['remoteJid'];_0x3a797d[_0x2539c6(0x694)]['remoteJid']&&_0x3a797d[_0x2539c6(0x694)][_0x2539c6(0x1e8)][_0x2539c6(0x4fe)]()!==''&&(_0x48e0c5=_0x3a797d[_0x2539c6(0x694)]['remoteJid'][_0x2539c6(0x4fe)]()),this[_0x2539c6(0x392)][_0x2539c6(0x57c)](this[_0x2539c6(0x156)]+'\x20('+this[_0x2539c6(0x848)][_0x2539c6(0x2bd)]+'):\x20Enviando\x20contato');let _0x75acb0={'number':_0x48e0c5,'options':{'delay':_0x3a797d[_0x2539c6(0x694)][_0x2539c6(0x5af)]},'contactMessage':[{'fullName':_0x3a797d[_0x2539c6(0x694)][_0x2539c6(0x275)],'phoneNumber':_0x3a797d[_0x2539c6(0x694)][_0x2539c6(0x49e)]}]};try{let _0x28aa01=await this[_0x2539c6(0x38f)](_0x75acb0);if(_0x28aa01){let _0x16ecdb={'_id':_0x28aa01[_0x2539c6(0x7dd)]['id'],'_fromMe':_0x28aa01[_0x2539c6(0x7dd)][_0x2539c6(0x483)],'_remoteJid':_0x28aa01[_0x2539c6(0x7dd)][_0x2539c6(0x1e8)]},_0x156111=(0x0,w[_0x2539c6(0x20d)])(_0x28aa01[_0x2539c6(0x3e1)]),_0x3d1466=(0x0,w[_0x2539c6(0x7d2)])(_0x156111);_0x7cf1c[_0x2539c6(0x3b5)][_0x2539c6(0x18c)]=_0x3a797d[_0x2539c6(0x68e)]['toString']();let {message_normalized:_0x297854}=this[_0x2539c6(0x151)](_0x156111,_0x3d1466,null);_0x7cf1c[_0x2539c6(0x3b5)][_0x2539c6(0x70e)]=await _0x297854;let _0x5ae9f3={'messageId':_0x28aa01['key']['id']},_0x26e27a=_0x7cf1c[_0x2539c6(0x3b5)][_0x2539c6(0x712)];Object[_0x2539c6(0x5ec)](_0x26e27a,_0x16ecdb),_0x7cf1c[_0x2539c6(0x3b5)][_0x2539c6(0x712)]=_0x26e27a,this[_0x2539c6(0x632)](_0x7cf1c,_0x3a797d,_0x5ae9f3);}else{let _0x4ff035={'error':!0x0};this[_0x2539c6(0x632)](_0x7cf1c,_0x3a797d,_0x4ff035),this[_0x2539c6(0x392)][_0x2539c6(0x819)](this[_0x2539c6(0x156)]+'\x20('+this['instance'][_0x2539c6(0x2bd)]+_0x2539c6(0x46f));}}catch(_0x221b52){let _0x5aeb74={'error':!0x0,'errorLog':_0x221b52['toString']()};this[_0x2539c6(0x632)](_0x7cf1c,_0x3a797d,_0x5aeb74),this[_0x2539c6(0x392)][_0x2539c6(0x819)](this[_0x2539c6(0x156)]+'\x20('+this[_0x2539c6(0x848)][_0x2539c6(0x2bd)]+_0x2539c6(0x40d)+(_0x221b52 instanceof Error?_0x221b52[_0x2539c6(0x3e1)]:JSON[_0x2539c6(0x395)](_0x221b52,null,0x2)));}}[a0_0x26e249(0x2fd)](_0x3a23fb,_0x361cea){const _0x4271ce=a0_0x26e249;for(let _0x1427cc of _0x3a23fb)_0x1427cc['option']&&(_0x1427cc[_0x4271ce(0x60e)]=this[_0x4271ce(0x3bb)](_0x1427cc[_0x4271ce(0x60e)],_0x361cea)),_0x1427cc[_0x4271ce(0x39a)]&&(_0x1427cc[_0x4271ce(0x39a)]=this[_0x4271ce(0x3bb)](_0x1427cc[_0x4271ce(0x39a)],_0x361cea));}async[a0_0x26e249(0x74c)](_0x4bbcd1,_0x273b2f){const _0x4f3bf3=a0_0x26e249;let _0x9993ef=_0x4bbcd1[_0x4f3bf3(0x1e8)];_0x273b2f[_0x4f3bf3(0x694)]['remoteJid']&&_0x273b2f[_0x4f3bf3(0x694)][_0x4f3bf3(0x1e8)][_0x4f3bf3(0x4fe)]()!==''&&(_0x9993ef=_0x273b2f[_0x4f3bf3(0x694)][_0x4f3bf3(0x1e8)][_0x4f3bf3(0x4fe)]()),this[_0x4f3bf3(0x392)][_0x4f3bf3(0x57c)](this[_0x4f3bf3(0x156)]+'\x20('+this['instance'][_0x4f3bf3(0x2bd)]+_0x4f3bf3(0x778));let _0x448461=_0x4bbcd1[_0x4f3bf3(0x16f)][_0x4f3bf3(0x27f)](_0x5f465b=>_0x5f465b['blockId']===_0x273b2f[_0x4f3bf3(0x68e)])[_0x4f3bf3(0x1e4)]((_0x39bd29,_0x287960)=>_0x39bd29['order']-_0x287960[_0x4f3bf3(0x47d)]);this[_0x4f3bf3(0x2fd)](_0x448461,_0x4bbcd1[_0x4f3bf3(0x3b5)][_0x4f3bf3(0x712)]);let _0x3eb3d7=_0x448461[_0x4f3bf3(0x261)](_0x2f9243=>_0x2f9243[_0x4f3bf3(0x60e)]),_0x4aa682={'number':_0x9993ef,'menuMessage':{'type':_0x273b2f[_0x4f3bf3(0x694)]['menuType']||_0x4f3bf3(0x546),'text':_0x273b2f[_0x4f3bf3(0x694)]['text']||_0x273b2f[_0x4f3bf3(0x694)][_0x4f3bf3(0x452)],'footerText':_0x273b2f[_0x4f3bf3(0x694)][_0x4f3bf3(0x20c)],'buttonText':_0x273b2f[_0x4f3bf3(0x694)][_0x4f3bf3(0x368)],'selectableCount':0x1,'choices':_0x3eb3d7},'options':{'delay':_0x273b2f['uazapi'][_0x4f3bf3(0x5af)]}};try{let _0x1bfdfc=await this[_0x4f3bf3(0x393)](_0x4aa682);if(_0x1bfdfc){let _0x466112={'_id':_0x1bfdfc[_0x4f3bf3(0x7dd)]['id'],'_fromMe':_0x1bfdfc[_0x4f3bf3(0x7dd)]['fromMe'],'_remoteJid':_0x1bfdfc['key'][_0x4f3bf3(0x1e8)]};_0x273b2f[_0x4f3bf3(0x694)][_0x4f3bf3(0x791)]===!0x0&&(_0x4bbcd1[_0x4f3bf3(0x228)]=_0x4f3bf3(0x646),this[_0x4f3bf3(0x392)]['verbose'](this[_0x4f3bf3(0x156)]+'\x20('+this[_0x4f3bf3(0x848)][_0x4f3bf3(0x2bd)]+_0x4f3bf3(0x490)+_0x4bbcd1[_0x4f3bf3(0x228)])),this[_0x4f3bf3(0x392)][_0x4f3bf3(0x57c)](this[_0x4f3bf3(0x156)]+'\x20('+this[_0x4f3bf3(0x848)]['wuid']+_0x4f3bf3(0x645)+(_0x273b2f[_0x4f3bf3(0x694)][_0x4f3bf3(0x452)]||_0x273b2f[_0x4f3bf3(0x694)]['text'])),_0x4bbcd1[_0x4f3bf3(0x29d)]=_0x1bfdfc[_0x4f3bf3(0x7dd)]['id'],_0x4bbcd1['waitingMenu_text']=_0x273b2f[_0x4f3bf3(0x694)][_0x4f3bf3(0x452)]||_0x273b2f[_0x4f3bf3(0x694)][_0x4f3bf3(0x346)],_0x4bbcd1[_0x4f3bf3(0x77d)]=_0x448461,_0x273b2f['uazapi']['menuExpiredMessage']&&(_0x4bbcd1[_0x4f3bf3(0x545)]=_0x273b2f['uazapi'][_0x4f3bf3(0x672)]),this[_0x4f3bf3(0x392)][_0x4f3bf3(0x57c)](this[_0x4f3bf3(0x156)]+'\x20('+this[_0x4f3bf3(0x848)][_0x4f3bf3(0x2bd)]+'):\x20conversation.waitingMenu_name'+_0x4bbcd1[_0x4f3bf3(0x590)]);let _0x109251=(0x0,w[_0x4f3bf3(0x20d)])(_0x1bfdfc['message']),_0x1bfcc3=(0x0,w[_0x4f3bf3(0x7d2)])(_0x109251);_0x4bbcd1['chatLog'][_0x4f3bf3(0x18c)]=_0x273b2f[_0x4f3bf3(0x68e)][_0x4f3bf3(0x76f)]();let {message_normalized:_0x277674}=this[_0x4f3bf3(0x151)](_0x109251,_0x1bfcc3,null);_0x4bbcd1['chatLog']['lastSendMessage']=await _0x277674;let _0x156de6={'messageId':_0x1bfdfc[_0x4f3bf3(0x7dd)]['id']},_0x543a53=_0x4bbcd1['chatLog'][_0x4f3bf3(0x712)];Object[_0x4f3bf3(0x5ec)](_0x543a53,_0x466112),_0x4bbcd1[_0x4f3bf3(0x3b5)]['realVariables']=_0x543a53,this['updateConversation'](_0x4bbcd1,_0x273b2f,_0x156de6);}else{let _0x554459={'error':!0x0};this['updateConversation'](_0x4bbcd1,_0x273b2f,_0x554459),this[_0x4f3bf3(0x392)][_0x4f3bf3(0x819)](this['instanceName']+'\x20('+this[_0x4f3bf3(0x848)][_0x4f3bf3(0x2bd)]+_0x4f3bf3(0x583));}}catch(_0x13f998){let _0x1f02c7={'error':!0x0,'errorLog':_0x13f998 instanceof Error?_0x13f998[_0x4f3bf3(0x3e1)]:JSON['stringify'](_0x13f998,null,0x2)};this[_0x4f3bf3(0x632)](_0x4bbcd1,_0x273b2f,_0x1f02c7),this['logger'][_0x4f3bf3(0x819)](this[_0x4f3bf3(0x156)]+'\x20('+this[_0x4f3bf3(0x848)][_0x4f3bf3(0x2bd)]+_0x4f3bf3(0x810)+(_0x13f998 instanceof Error?_0x13f998[_0x4f3bf3(0x3e1)]:JSON[_0x4f3bf3(0x395)](_0x13f998,null,0x2)));}}async[a0_0x26e249(0x3e4)](_0x3d78a4,_0x560909){const _0x6bb3e2=a0_0x26e249;this['logger'][_0x6bb3e2(0x57c)](this[_0x6bb3e2(0x156)]+'\x20('+this[_0x6bb3e2(0x848)][_0x6bb3e2(0x2bd)]+_0x6bb3e2(0x29e));let _0x19b8e7=_0x3d78a4[_0x6bb3e2(0x3b5)][_0x6bb3e2(0x52e)]['find'](_0x3a7e63=>_0x3a7e63['blockId']['toString']()===_0x560909[_0x6bb3e2(0x694)]['blockId']['toString']()),_0x2bcf8b={'id':_0x19b8e7[_0x6bb3e2(0x7a1)],'remoteJid':_0x19b8e7[_0x6bb3e2(0x1e8)],'fromMe':_0x19b8e7[_0x6bb3e2(0x483)]};try{let _0x4b148c=await this['deleteMessage'](_0x2bcf8b);if(_0x4b148c){let _0xb1084d=(0x0,w[_0x6bb3e2(0x20d)])(_0x4b148c[_0x6bb3e2(0x3e1)]),_0x4b7f9a=(0x0,w[_0x6bb3e2(0x7d2)])(_0xb1084d);_0x3d78a4[_0x6bb3e2(0x3b5)][_0x6bb3e2(0x18c)]=_0x560909[_0x6bb3e2(0x68e)][_0x6bb3e2(0x76f)]();let {message_normalized:_0x1a1c65}=this[_0x6bb3e2(0x151)](_0xb1084d,_0x4b7f9a,null);_0x3d78a4[_0x6bb3e2(0x3b5)][_0x6bb3e2(0x70e)]=await _0x1a1c65;let _0x387581={};this[_0x6bb3e2(0x632)](_0x3d78a4,_0x560909,_0x387581);}else{let _0x4afd88={'error':!0x0};this['updateConversation'](_0x3d78a4,_0x560909,_0x4afd88),this['logger'][_0x6bb3e2(0x819)](this[_0x6bb3e2(0x156)]+'\x20('+this['instance'][_0x6bb3e2(0x2bd)]+_0x6bb3e2(0x2db));}}catch(_0x2388ce){let _0x5bdb6f={'error':!0x0,'errorLog':_0x2388ce instanceof Error?_0x2388ce['message']:JSON[_0x6bb3e2(0x395)](_0x2388ce,null,0x2)};this[_0x6bb3e2(0x632)](_0x3d78a4,_0x560909,_0x5bdb6f),this[_0x6bb3e2(0x392)][_0x6bb3e2(0x819)](this[_0x6bb3e2(0x156)]+'\x20('+this['instance'][_0x6bb3e2(0x2bd)]+_0x6bb3e2(0x72b)+(_0x2388ce instanceof Error?_0x2388ce['message']:JSON['stringify'](_0x2388ce,null,0x2)));}}async[a0_0x26e249(0x6cd)](_0x292192,_0xd7bb78){const _0x34df13=a0_0x26e249;if(!_0x292192[_0x34df13(0x452)])throw new m('O\x20nome\x20do\x20fluxo\x20é\x20obrigatório');let _0x25a4e2=_0x292192?.['global']?.[_0x34df13(0x4fe)]()===_0x34df13(0x441)?_0x34df13(0x6fe):this['instance'][_0x34df13(0x2bd)],_0x132333=await this[_0x34df13(0x1e2)][_0x34df13(0x394)][_0x34df13(0x49c)]({'where':{'name':_0x292192['name']}},_0x25a4e2);if(_0xd7bb78!==ee&&_0x292192?.[_0x34df13(0x6fe)]==='true')throw new m(_0x34df13(0x6d6));if(_0x292192?.[_0x34df13(0x6fe)]!==_0x34df13(0x441)&&(_0x292192[_0x34df13(0x6fe)]='false'),_0x132333)throw new m('Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome');return'name'in _0x292192&&_0x34df13(0x25e)in _0x292192&&_0x34df13(0x4fa)in _0x292192?this[_0x34df13(0x3cc)](_0x292192[_0x34df13(0x4fa)],_0x292192[_0x34df13(0x25e)],_0x292192[_0x34df13(0x452)]):this['createRegularFlow'](_0x292192);}async[a0_0x26e249(0x3cc)](_0x4080bd,_0x154410,_0x471738){const _0x46b3aa=a0_0x26e249;try{this[_0x46b3aa(0x392)]['verbose'](this[_0x46b3aa(0x156)]+'\x20('+this[_0x46b3aa(0x848)]['wuid']+_0x46b3aa(0x4e7));let _0x33c556=await this[_0x46b3aa(0x1e2)][_0x46b3aa(0x394)][_0x46b3aa(0x49c)]({'where':{'sharePass':_0x154410}},_0x4080bd);if(!_0x33c556)throw new m(_0x46b3aa(0x670));let _0x1044f9={..._0x33c556},_0x36da70=_0x33c556[_0x46b3aa(0x6fe)]===_0x46b3aa(0x441)?_0x46b3aa(0x6fe):_0x33c556[_0x46b3aa(0x4fa)];return(_0x4080bd==='global'||_0x33c556[_0x46b3aa(0x6fe)]===_0x46b3aa(0x441))&&(_0x1044f9[_0x46b3aa(0x6fe)]=_0x46b3aa(0x2e1),_0x1044f9[_0x46b3aa(0x4fa)]=_0x46b3aa(0x6fe)),_0x1044f9[_0x46b3aa(0x6a3)]=Array['from'](new Set([..._0x33c556[_0x46b3aa(0x6a3)]||[],_0x36da70,this['instance'][_0x46b3aa(0x2bd)]])),_0x33c556[_0x46b3aa(0x6a3)]=_0x1044f9['shareOwners'],await this['repository'][_0x46b3aa(0x394)]['updateOne'](_0x33c556[_0x46b3aa(0x68e)],{'shareOwners':_0x33c556[_0x46b3aa(0x6a3)]},_0x36da70),_0x33c556['default']===!0x0&&await this['repository'][_0x46b3aa(0x394)][_0x46b3aa(0x180)]({},{'default':!0x1},this[_0x46b3aa(0x848)][_0x46b3aa(0x2bd)]),_0x1044f9[_0x46b3aa(0x4fa)]=this[_0x46b3aa(0x848)][_0x46b3aa(0x2bd)],await this[_0x46b3aa(0x1e2)]['flow'][_0x46b3aa(0x5fa)](_0x1044f9,this[_0x46b3aa(0x848)][_0x46b3aa(0x2bd)]);}catch(_0x2c19be){let _0x2fb9ef=_0x46b3aa(0x4b9),_0x37742f=_0x2c19be instanceof Error?_0x2c19be[_0x46b3aa(0x3e1)]:typeof _0x2c19be==_0x46b3aa(0x232)?JSON[_0x46b3aa(0x395)](_0x2c19be):_0x2c19be,_0x25d4c2=_0x2fb9ef+':\x20'+_0x37742f;throw this['logger'][_0x46b3aa(0x819)](this['instanceName']+'\x20('+this[_0x46b3aa(0x848)][_0x46b3aa(0x2bd)]+_0x46b3aa(0x69f)+_0x25d4c2),new m(_0x25d4c2);}}async[a0_0x26e249(0x471)](_0x19ef9a){const _0x2ef8d8=a0_0x26e249;try{this[_0x2ef8d8(0x392)][_0x2ef8d8(0x57c)](this['instanceName']+'\x20('+this[_0x2ef8d8(0x848)][_0x2ef8d8(0x2bd)]+'):\x20Criando\x20fluxo\x20regular...');let _0x113de7=_0x19ef9a?.['global']===_0x2ef8d8(0x441)?_0x2ef8d8(0x6fe):this[_0x2ef8d8(0x848)][_0x2ef8d8(0x2bd)];delete _0x19ef9a[_0x2ef8d8(0x6a3)],delete _0x19ef9a[_0x2ef8d8(0x25e)],delete _0x19ef9a['owner'],_0x19ef9a[_0x2ef8d8(0x6f9)]===!0x0&&await this[_0x2ef8d8(0x1e2)][_0x2ef8d8(0x394)]['updateMany']({},{'default':!0x1},this[_0x2ef8d8(0x848)][_0x2ef8d8(0x2bd)]);let _0x1de1a0=new oe[(_0x2ef8d8(0x5ae))][(_0x2ef8d8(0x330))](),_0x108163={'_id':_0x1de1a0,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x3c2267={'_id':new oe[(_0x2ef8d8(0x5ae))][(_0x2ef8d8(0x330))](),'order':0x1,'groupId':_0x1de1a0[_0x2ef8d8(0x76f)](),'type':_0x2ef8d8(0x2d3)},_0xb8dd2b={'_id':new oe['Types'][(_0x2ef8d8(0x330))](),'owner':this[_0x2ef8d8(0x848)][_0x2ef8d8(0x2bd)],'name':_0x19ef9a['name'],'groups':[_0x108163],'blocks':[_0x3c2267],..._0x19ef9a};return await this[_0x2ef8d8(0x1e2)][_0x2ef8d8(0x394)][_0x2ef8d8(0x5fa)](_0xb8dd2b,_0x113de7);}catch(_0x5764f1){let _0x45ddcb=_0x2ef8d8(0x508),_0x4cdc2c=_0x5764f1 instanceof Error?_0x5764f1[_0x2ef8d8(0x3e1)]:typeof _0x5764f1==_0x2ef8d8(0x232)?JSON[_0x2ef8d8(0x395)](_0x5764f1):_0x5764f1,_0x2ad73d=_0x45ddcb+':\x20'+_0x4cdc2c;throw this[_0x2ef8d8(0x392)][_0x2ef8d8(0x819)](this[_0x2ef8d8(0x156)]+'\x20('+this['instance'][_0x2ef8d8(0x2bd)]+'):\x20'+_0x2ad73d),new m(_0x2ad73d);}}async[a0_0x26e249(0x188)](_0x2dece0,_0x224c09){const _0x3c6395=a0_0x26e249;this[_0x3c6395(0x392)][_0x3c6395(0x4a0)](_0x3c6395(0x2b4));try{let _0x273831=await this[_0x3c6395(0x1e2)][_0x3c6395(0x394)][_0x3c6395(0x49c)]({'where':{'_id':_0x2dece0}},_0x224c09);if(delete _0x273831[_0x3c6395(0x6f9)],delete _0x273831['startCommandWord'],delete _0x273831[_0x3c6395(0x449)],delete _0x273831[_0x3c6395(0x46d)],delete _0x273831['readMessages'],_0x273831[_0x3c6395(0x6fe)]===_0x3c6395(0x441)&&(_0x273831['global']='sync'),_0x273831&&_0x273831['shareOwners']){for(let _0x3033d3 of _0x273831[_0x3c6395(0x6a3)])if(_0x3033d3!==_0x224c09){let _0x4353e3={..._0x273831,'owner':_0x3033d3};await this[_0x3c6395(0x1e2)][_0x3c6395(0x394)]['findAndUpdate'](_0x273831[_0x3c6395(0x68e)],_0x4353e3,_0x3033d3);}}}catch(_0x47ad6b){this[_0x3c6395(0x392)][_0x3c6395(0x819)](_0x3c6395(0x580)+_0x47ad6b);}}async[a0_0x26e249(0x28f)](_0x18b47e,_0x2f8c05){const _0x2ad3a9=a0_0x26e249;try{this['logger'][_0x2ad3a9(0x57c)](this[_0x2ad3a9(0x156)]+'\x20('+this[_0x2ad3a9(0x848)][_0x2ad3a9(0x2bd)]+_0x2ad3a9(0x60d)+_0x18b47e[_0x2ad3a9(0x452)]+_0x2ad3a9(0x32f)+_0x18b47e[_0x2ad3a9(0x6fe)]);let _0x4a64af=_0x18b47e[_0x2ad3a9(0x6fe)]==='true'?_0x2ad3a9(0x6fe):this[_0x2ad3a9(0x848)][_0x2ad3a9(0x2bd)],_0x13eb82=await this[_0x2ad3a9(0x1e2)][_0x2ad3a9(0x394)][_0x2ad3a9(0x49c)]({'where':{'name':_0x18b47e['name']}},_0x4a64af);if(!_0x13eb82)throw new m(_0x2ad3a9(0x736));if(_0x2f8c05!==ee&&_0x13eb82?.[_0x2ad3a9(0x6fe)]===_0x2ad3a9(0x441)&&_0x13eb82?.[_0x2ad3a9(0x4fa)]!==this[_0x2ad3a9(0x848)][_0x2ad3a9(0x2bd)])throw new m(_0x2ad3a9(0x738));if(_0x13eb82&&_0x13eb82[_0x2ad3a9(0x6a3)]&&_0x13eb82[_0x2ad3a9(0x6a3)][_0x2ad3a9(0x62e)]>0x0){for(let _0x290a5e of _0x13eb82[_0x2ad3a9(0x6a3)])if(_0x290a5e!==_0x4a64af){let _0x5e8cb1=await this[_0x2ad3a9(0x1e2)][_0x2ad3a9(0x394)][_0x2ad3a9(0x49c)]({'where':{'sharePass':_0x13eb82['sharePass']}},_0x290a5e);if(_0x5e8cb1){_0x5e8cb1[_0x2ad3a9(0x6a3)]=_0x5e8cb1[_0x2ad3a9(0x6a3)]['filter'](_0x4f07c6=>_0x4f07c6!==_0x13eb82['owner']);let _0x3dabf0={'shareOwners':_0x5e8cb1[_0x2ad3a9(0x6a3)]};_0x13eb82[_0x2ad3a9(0x6fe)]===_0x2ad3a9(0x441)&&(_0x3dabf0[_0x2ad3a9(0x6fe)]=_0x2ad3a9(0x3ae)),await this[_0x2ad3a9(0x1e2)][_0x2ad3a9(0x394)][_0x2ad3a9(0x68c)](_0x5e8cb1[_0x2ad3a9(0x68e)],_0x3dabf0,_0x290a5e);}}}return await this[_0x2ad3a9(0x1e2)][_0x2ad3a9(0x394)]['deleteOne']({'where':{'name':_0x18b47e[_0x2ad3a9(0x452)]}},_0x4a64af);}catch(_0x2f4e5e){return this[_0x2ad3a9(0x392)][_0x2ad3a9(0x819)](this['instanceName']+'\x20('+this[_0x2ad3a9(0x848)][_0x2ad3a9(0x2bd)]+_0x2ad3a9(0x64c)+(_0x2f4e5e instanceof Error?_0x2f4e5e[_0x2ad3a9(0x3e1)]:JSON[_0x2ad3a9(0x395)](_0x2f4e5e,null,0x2))),{'message':_0x2ad3a9(0x785)+_0x2f4e5e[_0x2ad3a9(0x3e1)]};}}async['getFlow'](_0x2fbb28,_0x52ae33){const _0x1083f6=a0_0x26e249;try{this[_0x1083f6(0x392)]['info'](this[_0x1083f6(0x156)]+'\x20('+this[_0x1083f6(0x848)]['wuid']+_0x1083f6(0x3a5)+_0x2fbb28+_0x1083f6(0x2a3)+_0x52ae33);let _0x13a0f8=_0x52ae33?.[_0x1083f6(0x4fe)]()===_0x1083f6(0x441)?'global':this['instance'][_0x1083f6(0x2bd)],_0x41b685=await this['repository']['flow'][_0x1083f6(0x49c)]({'where':{'name':_0x2fbb28}},_0x13a0f8);if(!_0x41b685)throw new Error('Flow\x20não\x20encontrado');if(_0x41b685[_0x1083f6(0x754)]||(_0x41b685[_0x1083f6(0x754)]=(0x0,Me['v4'])()),!this['AutomateSystem']&&(await this[_0x1083f6(0x53c)](),!this['AutomateSystem']))return null;let _0x34048e=this[_0x1083f6(0x68b)]?.[_0x1083f6(0x552)][_0x1083f6(0x261)](_0x22010e=>_0x22010e[_0x1083f6(0x452)]),_0x24db88=[_0x1083f6(0x22e),_0x1083f6(0x4ef),_0x1083f6(0x56c),'cpf',_0x1083f6(0x228),'notas',_0x1083f6(0x265),_0x1083f6(0x3f1),'etiquetas',_0x1083f6(0x607),_0x1083f6(0x353)];_0x41b685[_0x1083f6(0x849)]=_0x41b685[_0x1083f6(0x849)][_0x1083f6(0x27f)](_0x47a46b=>!(_0x47a46b[_0x1083f6(0x2ad)]===_0x1083f6(0x484)||_0x47a46b[_0x1083f6(0x484)])),_0x24db88['forEach'](_0x3cd59b=>{const _0x45aa0a=_0x1083f6;_0x41b685[_0x45aa0a(0x849)][_0x45aa0a(0x65e)]({'folder':_0x45aa0a(0x484),'name':_0x3cd59b,'value':'','doc':'','leadInfo':!0x0});}),_0x34048e['forEach'](_0x477b93=>{const _0x4c9d31=_0x1083f6;let _0x21c553=_0x41b685[_0x4c9d31(0x849)][_0x4c9d31(0x264)](_0x4a86b4=>_0x4a86b4[_0x4c9d31(0x452)]===_0x477b93);_0x21c553===-0x1?_0x41b685[_0x4c9d31(0x849)]['push']({'folder':_0x4c9d31(0x484),'name':_0x477b93,'value':'','doc':'','leadInfo':!0x0}):(_0x41b685[_0x4c9d31(0x849)][_0x21c553]['folder']=_0x4c9d31(0x484),_0x41b685[_0x4c9d31(0x849)][_0x21c553][_0x4c9d31(0x484)]=!0x0);}),_0x41b685[_0x1083f6(0x1c9)]&&_0x41b685[_0x1083f6(0x1c9)][_0x1083f6(0x62e)]>0x0&&_0x41b685[_0x1083f6(0x1c9)][_0x1083f6(0x522)](_0x4072b3=>{const _0x483700=_0x1083f6;_0x4072b3['groupId']&&_0x4072b3[_0x483700(0x397)]&&_0x4072b3['groupId']===_0x4072b3[_0x483700(0x397)]&&(_0x4072b3[_0x483700(0x397)]=null);});let _0x17332d=await this['repository'][_0x1083f6(0x394)][_0x1083f6(0x68c)](_0x41b685[_0x1083f6(0x68e)],_0x41b685,_0x13a0f8);if(!_0x17332d)throw new Error(_0x1083f6(0x549));return _0x17332d;}catch(_0x25f412){let _0x51d716=_0x1083f6(0x5b9),_0x27403d=_0x25f412 instanceof Error?_0x25f412['message']:typeof _0x25f412==_0x1083f6(0x232)?JSON[_0x1083f6(0x395)](_0x25f412):_0x25f412,_0x5ef74d=_0x51d716+':\x20'+_0x27403d;throw this[_0x1083f6(0x392)][_0x1083f6(0x819)](this[_0x1083f6(0x156)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x5ef74d),new m(_0x5ef74d);}}async[a0_0x26e249(0x299)](){const _0x594e6f=a0_0x26e249;try{this['logger'][_0x594e6f(0x57c)](this[_0x594e6f(0x156)]+'\x20('+this[_0x594e6f(0x848)]['wuid']+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this[_0x594e6f(0x1e2)][_0x594e6f(0x394)][_0x594e6f(0x257)](this[_0x594e6f(0x848)][_0x594e6f(0x2bd)]);let _0x1cba76=await this[_0x594e6f(0x1e2)][_0x594e6f(0x394)]['findAll']({'where':{}},this[_0x594e6f(0x848)][_0x594e6f(0x2bd)]),_0x56d890=await this[_0x594e6f(0x1e2)][_0x594e6f(0x394)]['findAll']({'where':{}},'global');return _0x1cba76[_0x594e6f(0x24a)](_0x56d890);}catch(_0x1646ec){return this['logger'][_0x594e6f(0x819)](this[_0x594e6f(0x156)]+'\x20('+this['instance'][_0x594e6f(0x2bd)]+_0x594e6f(0x82d)+(_0x1646ec instanceof Error?_0x1646ec[_0x594e6f(0x3e1)]:JSON[_0x594e6f(0x395)](_0x1646ec,null,0x2))),{'message':_0x594e6f(0x24c)+_0x1646ec[_0x594e6f(0x3e1)]};}}async[a0_0x26e249(0x6c3)](_0x2261df,_0x377b32){const _0x1e29a6=a0_0x26e249;try{this[_0x1e29a6(0x392)][_0x1e29a6(0x57c)](this[_0x1e29a6(0x156)]+'\x20('+this[_0x1e29a6(0x848)]['wuid']+_0x1e29a6(0x4bd));let _0x4caa2c=_0x2261df?.[_0x1e29a6(0x6fe)]?.[_0x1e29a6(0x4fe)]()===_0x1e29a6(0x441)?_0x1e29a6(0x6fe):this[_0x1e29a6(0x848)]['wuid'],_0x255bcc=await this[_0x1e29a6(0x1e2)]['flow']['findOne']({'where':{'name':_0x2261df[_0x1e29a6(0x452)]}},_0x4caa2c);if(!_0x255bcc)return{'message':'Fluxo\x20não\x20encontrado'};if(_0x377b32!==ee&&_0x255bcc?.[_0x1e29a6(0x6fe)]===_0x1e29a6(0x441)&&_0x255bcc?.[_0x1e29a6(0x4fa)]!==this[_0x1e29a6(0x848)]['wuid'])throw new m(_0x1e29a6(0x1e0));_0x255bcc?.['global']==='sync'&&(_0x2261df={'default':_0x2261df['default'],'minutesToClose':_0x2261df['minutesToClose'],'readMessages':_0x2261df['readMessages'],'testingWith':_0x2261df['testingWith'],'startCommandWord':_0x2261df['startCommandWord']}),_0x2261df[_0x1e29a6(0x6f9)]===!0x0&&_0x255bcc?.[_0x1e29a6(0x6fe)]!==_0x1e29a6(0x441)&&await this[_0x1e29a6(0x1e2)][_0x1e29a6(0x394)][_0x1e29a6(0x180)]({},{'default':!0x1},_0x4caa2c),delete _0x2261df[_0x1e29a6(0x6a3)],delete _0x2261df[_0x1e29a6(0x25e)],delete _0x2261df[_0x1e29a6(0x6fe)];let _0x1ec12a=await this[_0x1e29a6(0x1e2)][_0x1e29a6(0x394)][_0x1e29a6(0x68c)](_0x255bcc[_0x1e29a6(0x68e)],_0x2261df,_0x4caa2c);return _0x1ec12a&&_0x1ec12a[_0x1e29a6(0x6a3)]&&_0x1ec12a[_0x1e29a6(0x6a3)][_0x1e29a6(0x62e)]>0x1&&_0x1ec12a[_0x1e29a6(0x6fe)]!=='sync'&&this[_0x1e29a6(0x188)](_0x1ec12a[_0x1e29a6(0x68e)],_0x4caa2c),_0x1ec12a;}catch(_0x66e4fc){let _0x588968='Erro\x20ao\x20alterar\x20fluxo',_0xb43f35=_0x66e4fc instanceof Error?_0x66e4fc[_0x1e29a6(0x3e1)]:typeof _0x66e4fc=='object'?JSON[_0x1e29a6(0x395)](_0x66e4fc):_0x66e4fc,_0x25fc29=_0x588968+':\x20'+_0xb43f35;throw this[_0x1e29a6(0x392)][_0x1e29a6(0x819)](this[_0x1e29a6(0x156)]+'\x20('+this[_0x1e29a6(0x848)]['wuid']+_0x1e29a6(0x69f)+_0x25fc29),new m(_0x25fc29);}}async['editFlowBlock'](_0xe464b4,_0x2af9b1){const _0x11097f=a0_0x26e249;try{this[_0x11097f(0x392)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x11097f(0x2bd)]+_0x11097f(0x5b6));let _0x28bba8=_0xe464b4?.[_0x11097f(0x6fe)]?.[_0x11097f(0x4fe)]()===_0x11097f(0x441)?'global':this['instance'][_0x11097f(0x2bd)],_0x21c82e=await this['repository']['flow']['findOne']({'where':{'name':_0xe464b4['name']}},_0x28bba8);if(_0x21c82e||this[_0x11097f(0x792)]('Flow\x20não\x20encontrado'),_0x21c82e?.[_0x11097f(0x6fe)]==='sync')throw new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0x2af9b1!==ee&&_0x21c82e?.[_0x11097f(0x6fe)]==='true'&&_0x21c82e?.[_0x11097f(0x4fa)]!==this[_0x11097f(0x848)][_0x11097f(0x2bd)])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');let {block:_0x51960f}=_0xe464b4;_0x51960f?.['copy']?this[_0x11097f(0x861)](_0x21c82e,_0xe464b4):_0x51960f?.[_0x11097f(0x72e)]?this[_0x11097f(0x355)](_0x21c82e,_0xe464b4):_0x51960f[_0x11097f(0x68e)]?await this[_0x11097f(0x41e)](_0x21c82e,_0xe464b4):this['addBlock'](_0x21c82e,_0xe464b4);let _0x384ea3=await this[_0x11097f(0x1e2)][_0x11097f(0x394)][_0x11097f(0x68c)](_0x21c82e[_0x11097f(0x68e)],_0x21c82e,_0x28bba8);if(_0x384ea3&&_0x384ea3[_0x11097f(0x6a3)]&&_0x384ea3['shareOwners']['length']>0x1&&this[_0x11097f(0x188)](_0x384ea3[_0x11097f(0x68e)],this[_0x11097f(0x848)]['wuid']),!_0x384ea3)throw new Error(_0x11097f(0x549));return _0x384ea3;}catch(_0x50d21d){this[_0x11097f(0x792)](_0x11097f(0x1a1)+_0x50d21d[_0x11097f(0x3e1)]);}}async[a0_0x26e249(0x861)](_0x9766d8,_0x35c31f){const _0x47b5d2=a0_0x26e249;let _0xeb2144=_0x35c31f['block']['_id'],_0xd5f9de=_0x9766d8[_0x47b5d2(0x1c9)][_0x47b5d2(0x288)](_0x3998c5=>_0x3998c5[_0x47b5d2(0x68e)][_0x47b5d2(0x76f)]()===_0xeb2144);if(!_0xd5f9de){this[_0x47b5d2(0x392)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x47b5d2(0x837)+_0xeb2144+_0x47b5d2(0x1c1));return;}this[_0x47b5d2(0x392)][_0x47b5d2(0x57c)](this['instanceName']+'\x20('+this[_0x47b5d2(0x848)]['wuid']+_0x47b5d2(0x3f9)+JSON[_0x47b5d2(0x395)](_0xd5f9de));let _0x247383=JSON['parse'](JSON[_0x47b5d2(0x395)](_0xd5f9de));_0x247383[_0x47b5d2(0x68e)]=new oe[(_0x47b5d2(0x6f9))][(_0x47b5d2(0x5ae))][(_0x47b5d2(0x330))](),this[_0x47b5d2(0x392)][_0x47b5d2(0x57c)](this[_0x47b5d2(0x156)]+'\x20('+this[_0x47b5d2(0x848)][_0x47b5d2(0x2bd)]+_0x47b5d2(0x253)+JSON['stringify'](_0x247383)),_0x9766d8[_0x47b5d2(0x1c9)]['push'](_0x247383),this[_0x47b5d2(0x59c)](_0x9766d8[_0x47b5d2(0x1c9)],_0x247383[_0x47b5d2(0x7c3)]);}['throwAndLogError'](_0x722346){const _0x57e3dd=a0_0x26e249;throw this[_0x57e3dd(0x392)][_0x57e3dd(0x819)](this[_0x57e3dd(0x156)]+'\x20('+this[_0x57e3dd(0x848)][_0x57e3dd(0x2bd)]+_0x57e3dd(0x69f)+_0x722346),new m(_0x722346);}[a0_0x26e249(0x355)](_0x453608,_0xb70fb2){const _0x4e247c=a0_0x26e249;let {block:_0x4df7e6}=_0xb70fb2;if(_0x4df7e6[_0x4e247c(0x599)]===_0x4e247c(0x2d3)){this[_0x4e247c(0x792)](_0x4e247c(0x389));return;}if(!_0x4df7e6['_id']){this[_0x4e247c(0x792)](_0x4e247c(0x348));return;}let _0x1bfefe=_0x453608[_0x4e247c(0x1c9)][_0x4e247c(0x288)](_0x1d4d57=>_0x1d4d57[_0x4e247c(0x68e)]['toString']()===_0xb70fb2[_0x4e247c(0x748)][_0x4e247c(0x68e)]['toString']());if(!_0x1bfefe){this[_0x4e247c(0x792)](_0x4e247c(0x5c6)+_0x4df7e6['_id']+'\x20não\x20encontrado');return;}_0x453608[_0x4e247c(0x1c9)]=_0x453608[_0x4e247c(0x1c9)][_0x4e247c(0x27f)](_0x3339b8=>_0x3339b8[_0x4e247c(0x68e)]['toString']()!==_0xb70fb2[_0x4e247c(0x748)][_0x4e247c(0x68e)][_0x4e247c(0x76f)]()),_0x453608[_0x4e247c(0x2b5)]=_0x453608[_0x4e247c(0x2b5)][_0x4e247c(0x27f)](_0x4ecfd8=>_0x4ecfd8[_0x4e247c(0x812)]!==_0x4df7e6[_0x4e247c(0x68e)][_0x4e247c(0x76f)]()),_0x453608[_0x4e247c(0x5a8)]=_0x453608['varedits'][_0x4e247c(0x27f)](_0x4bcafb=>_0x4bcafb['blockId']!==_0x4df7e6[_0x4e247c(0x68e)][_0x4e247c(0x76f)]()),_0x453608[_0x4e247c(0x16f)]=_0x453608['replyOptions'][_0x4e247c(0x27f)](_0x5ea92b=>_0x5ea92b[_0x4e247c(0x812)]!==_0x4df7e6[_0x4e247c(0x68e)][_0x4e247c(0x76f)]()),this[_0x4e247c(0x59c)](_0x453608['blocks'],_0x1bfefe[_0x4e247c(0x7c3)]);}async[a0_0x26e249(0x41e)](_0x58677f,_0x47f4d6){const _0xd1243f=a0_0x26e249;let _0x379aeb=_0x58677f['blocks'][_0xd1243f(0x264)](_0x653d10=>_0x653d10['_id']['toString']()===_0x47f4d6[_0xd1243f(0x748)][_0xd1243f(0x68e)][_0xd1243f(0x76f)]());if(this[_0xd1243f(0x392)][_0xd1243f(0x57c)](this[_0xd1243f(0x156)]+'\x20('+this[_0xd1243f(0x848)][_0xd1243f(0x2bd)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x379aeb),_0x379aeb===-0x1){this[_0xd1243f(0x392)]['verbose'](_0xd1243f(0x5c6)+_0x47f4d6[_0xd1243f(0x748)][_0xd1243f(0x68e)]+_0xd1243f(0x2c7));return;}if(_0x58677f[_0xd1243f(0x1c9)][_0x379aeb][_0xd1243f(0x599)]==='start'){let _0x5f4842=Object[_0xd1243f(0x4a9)](_0x47f4d6[_0xd1243f(0x748)]);if(_0x5f4842[_0xd1243f(0x62e)]>0x2||_0x5f4842[_0xd1243f(0x62e)]===0x2&&!_0x5f4842[_0xd1243f(0x5d9)](_0xd1243f(0x397))){this[_0xd1243f(0x792)](_0xd1243f(0x48b));return;}}let _0x5d2793=_0x58677f[_0xd1243f(0x1c9)][_0x379aeb][_0xd1243f(0x7c3)];for(let _0x165828 in _0x47f4d6[_0xd1243f(0x748)])_0x47f4d6[_0xd1243f(0x748)][_0xd1243f(0x1b6)](_0x165828)&&(_0x58677f['blocks'][_0x379aeb][_0x165828]=_0x47f4d6[_0xd1243f(0x748)][_0x165828]);if(this['logger'][_0xd1243f(0x57c)](this[_0xd1243f(0x156)]+'\x20('+this[_0xd1243f(0x848)]['wuid']+_0xd1243f(0x76b)+JSON[_0xd1243f(0x395)](_0x58677f[_0xd1243f(0x1c9)][_0x379aeb])),_0x58677f[_0xd1243f(0x1c9)][_0x379aeb][_0xd1243f(0x259)]&&_0xd1243f(0x582)in _0x58677f[_0xd1243f(0x1c9)][_0x379aeb][_0xd1243f(0x259)]){this[_0xd1243f(0x392)][_0xd1243f(0x57c)](this[_0xd1243f(0x156)]+'\x20('+this[_0xd1243f(0x848)]['wuid']+_0xd1243f(0x5c2));let _0x4f9d76=JSON[_0xd1243f(0x395)](_0x58677f[_0xd1243f(0x1c9)][_0x379aeb][_0xd1243f(0x259)][_0xd1243f(0x582)],null,0x1);_0x4f9d76[_0xd1243f(0x62e)]>0x2&&(_0x4f9d76=_0x4f9d76[_0xd1243f(0x609)](0x1,_0x4f9d76['length']-0x1)['trim']()),_0x58677f[_0xd1243f(0x1c9)][_0x379aeb]['apirequest'][_0xd1243f(0x5c5)]=_0x4f9d76;}if(_0x58677f[_0xd1243f(0x1c9)][_0x379aeb]['apirequest']&&_0xd1243f(0x498)in _0x58677f[_0xd1243f(0x1c9)][_0x379aeb][_0xd1243f(0x259)]&&!(_0xd1243f(0x67d)in _0x58677f[_0xd1243f(0x1c9)][_0x379aeb]['apirequest'])){this[_0xd1243f(0x392)][_0xd1243f(0x57c)](this['instanceName']+'\x20('+this[_0xd1243f(0x848)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x58677f[_0xd1243f(0x1c9)][_0x379aeb][_0xd1243f(0x259)][_0xd1243f(0x46c)]=!0x1;let _0x36888e=JSON[_0xd1243f(0x395)](_0x58677f[_0xd1243f(0x1c9)][_0x379aeb][_0xd1243f(0x259)][_0xd1243f(0x498)],null,0x2);_0x58677f[_0xd1243f(0x1c9)][_0x379aeb][_0xd1243f(0x259)][_0xd1243f(0x67d)]=_0x36888e;}if(_0x58677f['blocks'][_0x379aeb][_0xd1243f(0x259)]&&_0xd1243f(0x67d)in _0x58677f[_0xd1243f(0x1c9)][_0x379aeb][_0xd1243f(0x259)]){_0x58677f[_0xd1243f(0x1c9)][_0x379aeb]['apirequest']['bodyStringErrorParse']=!0x1;let _0x32b7a7=_0x58677f[_0xd1243f(0x1c9)][_0x379aeb]['apirequest'][_0xd1243f(0x67d)],_0x4606f8=this['beautifyWithPlaceholders'](_0x32b7a7);_0x58677f[_0xd1243f(0x1c9)][_0x379aeb][_0xd1243f(0x259)]['bodyString']=_0x4606f8[_0xd1243f(0x5e8)],_0x58677f[_0xd1243f(0x1c9)][_0x379aeb]['apirequest']['bodyStringErrorParse']=_0x4606f8[_0xd1243f(0x819)];}let _0x427900=_0x58677f[_0xd1243f(0x1c9)][_0x379aeb][_0xd1243f(0x7c3)];_0x5d2793!==_0x427900?(this['reorderBlocks'](_0x58677f[_0xd1243f(0x1c9)],_0x5d2793),this[_0xd1243f(0x59c)](_0x58677f[_0xd1243f(0x1c9)],_0x427900)):this[_0xd1243f(0x59c)](_0x58677f[_0xd1243f(0x1c9)],_0x5d2793);}[a0_0x26e249(0x5ee)](_0x254274){const _0x2710c7=a0_0x26e249;let _0x965593='\u205f',_0x295241=!0x1,_0x4d3e29='';for(let _0x50362a=0x0;_0x50362a<_0x254274[_0x2710c7(0x62e)];_0x50362a++){let _0x88f49=_0x254274[_0x50362a];_0x88f49==='\x22'&&(_0x50362a===0x0||_0x254274[_0x50362a-0x1]!=='\x5c')&&(_0x295241=!_0x295241),!(!_0x295241&&(_0x88f49==='\x0a'||_0x88f49==='\x20'||_0x88f49===_0x965593))&&(_0x4d3e29+=_0x88f49);}let _0x1658b1={},_0xd6b577=9876543210.1234,_0x5cd4d0=_0x4d3e29[_0x2710c7(0x38e)](/\{\{([^}]+)\}\}/g,_0x54816f=>{let _0x453ece=_0x54816f,_0x3f19dd=''+_0xd6b577;return _0x1658b1[_0x3f19dd]=_0x453ece,_0xd6b577+=0.0001,_0x3f19dd;}),_0x442ee6='',_0x5b87d7=!0x1;try{let _0x297987=JSON[_0x2710c7(0x311)](_0x5cd4d0);_0x442ee6=JSON[_0x2710c7(0x395)](_0x297987,null,0x2),_0x442ee6=_0x442ee6[_0x2710c7(0x38e)](/\n( +)/g,(_0x14bc31,_0x24804a)=>{const _0x360608=_0x2710c7;let _0x23b1cd=_0x24804a[_0x360608(0x62e)];return'\x0a'+_0x965593[_0x360608(0x1c3)](_0x23b1cd*0x2);}),_0x442ee6=_0x442ee6['replace'](/(\d{10,}\.\d+)/g,_0x596c42=>_0x1658b1[_0x596c42]||_0x596c42);}catch(_0x1c39d6){console[_0x2710c7(0x819)](_0x2710c7(0x32d),_0x1c39d6),_0x442ee6=_0x254274,_0x5b87d7=!0x0;}return{'result':_0x442ee6,'error':_0x5b87d7};}[a0_0x26e249(0x417)](_0x3992aa,_0x16f77e){const _0x44a5b1=a0_0x26e249;if(_0x16f77e['block'][_0x44a5b1(0x599)]===_0x44a5b1(0x2d3)){this['throwAndLogError'](_0x44a5b1(0x2f9));return;}if(_0x16f77e['block'][_0x44a5b1(0x259)]&&_0x44a5b1(0x582)in _0x16f77e[_0x44a5b1(0x748)][_0x44a5b1(0x259)]){this[_0x44a5b1(0x392)][_0x44a5b1(0x57c)](this[_0x44a5b1(0x156)]+'\x20('+this[_0x44a5b1(0x848)][_0x44a5b1(0x2bd)]+_0x44a5b1(0x5c2));let _0x337f10=JSON[_0x44a5b1(0x395)](_0x16f77e[_0x44a5b1(0x748)][_0x44a5b1(0x259)][_0x44a5b1(0x582)],null,0x1);_0x337f10['length']>0x2&&(_0x337f10=_0x337f10['substring'](0x1,_0x337f10[_0x44a5b1(0x62e)]-0x1)[_0x44a5b1(0x4fe)]()),_0x16f77e[_0x44a5b1(0x748)]['apirequest']['headerString']=_0x337f10;}_0x16f77e[_0x44a5b1(0x748)][_0x44a5b1(0x259)]&&'body'in _0x16f77e[_0x44a5b1(0x748)]['apirequest']&&(this[_0x44a5b1(0x392)][_0x44a5b1(0x57c)](this[_0x44a5b1(0x156)]+'\x20('+this[_0x44a5b1(0x848)][_0x44a5b1(0x2bd)]+_0x44a5b1(0x27c)),_0x16f77e[_0x44a5b1(0x748)][_0x44a5b1(0x259)]['bodyString']=JSON['stringify'](_0x16f77e['block'][_0x44a5b1(0x259)][_0x44a5b1(0x498)],null,0x1)['trim']()),_0x3992aa[_0x44a5b1(0x1c9)][_0x44a5b1(0x65e)](_0x16f77e[_0x44a5b1(0x748)]),this['reorderBlocks'](_0x3992aa[_0x44a5b1(0x1c9)],_0x16f77e[_0x44a5b1(0x748)][_0x44a5b1(0x7c3)]);}[a0_0x26e249(0x59c)](_0x104b32,_0x20224f){const _0x2b7b0c=a0_0x26e249;let _0x560afc=_0x104b32['filter'](_0x4a4485=>_0x4a4485[_0x2b7b0c(0x7c3)]===_0x20224f);_0x560afc[_0x2b7b0c(0x1e4)]((_0x204c9b,_0x366ded)=>_0x204c9b[_0x2b7b0c(0x47d)]-_0x366ded[_0x2b7b0c(0x47d)]),_0x560afc[_0x2b7b0c(0x522)]((_0x32c3c4,_0x541c23)=>_0x32c3c4['order']=_0x541c23+0x1);}async[a0_0x26e249(0x6b0)](_0x3ea0e7,_0x38b394){const _0x53a7ba=a0_0x26e249;try{this['logger'][_0x53a7ba(0x57c)](this[_0x53a7ba(0x156)]+'\x20('+this[_0x53a7ba(0x848)][_0x53a7ba(0x2bd)]+_0x53a7ba(0x1ac));let _0x36a4f4=_0x3ea0e7?.['global'][_0x53a7ba(0x4fe)]()===_0x53a7ba(0x441)?_0x53a7ba(0x6fe):this[_0x53a7ba(0x848)]['wuid'];if(!_0x3ea0e7||!_0x3ea0e7['replyOption']){this[_0x53a7ba(0x792)](_0x53a7ba(0x3b0));return;}let _0x579a40=await this[_0x53a7ba(0x1e2)]['flow'][_0x53a7ba(0x49c)]({'where':{'name':_0x3ea0e7[_0x53a7ba(0x452)]}},_0x36a4f4);if(_0x579a40||this[_0x53a7ba(0x792)](_0x53a7ba(0x629)),_0x579a40?.['global']===_0x53a7ba(0x2e1))throw new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0x38b394!==ee&&_0x579a40?.[_0x53a7ba(0x6fe)]===_0x53a7ba(0x441)&&_0x579a40?.[_0x53a7ba(0x4fa)]!==this[_0x53a7ba(0x848)][_0x53a7ba(0x2bd)])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');let {replyOption:_0x11ce38}=_0x3ea0e7;_0x11ce38?.['delete']?(this['deleteReplyOption'](_0x579a40,_0x3ea0e7),this[_0x53a7ba(0x2d1)](_0x579a40[_0x53a7ba(0x16f)],_0x3ea0e7[_0x53a7ba(0x1f9)][_0x53a7ba(0x812)])):_0x11ce38[_0x53a7ba(0x68e)]?(await this['updateReplyOption'](_0x579a40,_0x3ea0e7),this[_0x53a7ba(0x2d1)](_0x579a40[_0x53a7ba(0x16f)],_0x3ea0e7[_0x53a7ba(0x1f9)][_0x53a7ba(0x812)])):(this['addReplyOption'](_0x579a40,_0x3ea0e7),this[_0x53a7ba(0x2d1)](_0x579a40[_0x53a7ba(0x16f)],_0x3ea0e7['replyOption'][_0x53a7ba(0x812)]));let _0x1d9878=await this[_0x53a7ba(0x1e2)][_0x53a7ba(0x394)]['updateOne'](_0x579a40['_id'],_0x579a40,_0x36a4f4);if(_0x1d9878&&_0x1d9878[_0x53a7ba(0x6a3)]&&_0x1d9878['shareOwners'][_0x53a7ba(0x62e)]>0x1&&_0x1d9878[_0x53a7ba(0x6fe)]!=='sync'&&this[_0x53a7ba(0x188)](_0x1d9878[_0x53a7ba(0x68e)],_0x36a4f4),!_0x1d9878)throw new Error(_0x53a7ba(0x549));return _0x1d9878;}catch(_0x3c7f17){this[_0x53a7ba(0x792)](_0x53a7ba(0x84b)+_0x3c7f17);}}[a0_0x26e249(0x2d1)](_0x5958d6,_0x21e442){const _0xbcc7a7=a0_0x26e249;_0x5958d6[_0xbcc7a7(0x522)](_0x53d870=>{const _0x8d9af=_0xbcc7a7;_0x53d870[_0x8d9af(0x812)]===_0x21e442&&_0x53d870[_0x8d9af(0x47d)]===void 0x0&&(_0x53d870[_0x8d9af(0x47d)]=0x270f);});let _0x485e98=_0x5958d6['filter'](_0x3f05fc=>_0x3f05fc[_0xbcc7a7(0x812)]===_0x21e442);_0x485e98[_0xbcc7a7(0x1e4)]((_0xe42f12,_0x3f0a2c)=>_0xe42f12[_0xbcc7a7(0x47d)]-_0x3f0a2c['order']),_0x485e98[_0xbcc7a7(0x522)]((_0x57a3da,_0x561945)=>{const _0x26a4df=_0xbcc7a7;_0x57a3da[_0x26a4df(0x47d)]=_0x561945+0x1;}),_0x5958d6['forEach'](_0x1205af=>{const _0xc5f97b=_0xbcc7a7;if(_0x1205af[_0xc5f97b(0x812)]===_0x21e442){let _0x4b65c2=_0x485e98[_0xc5f97b(0x288)](_0x318578=>_0x318578[_0xc5f97b(0x68e)]&&_0x1205af[_0xc5f97b(0x68e)]&&_0x318578[_0xc5f97b(0x68e)][_0xc5f97b(0x76f)]()===_0x1205af[_0xc5f97b(0x68e)][_0xc5f97b(0x76f)]());_0x4b65c2&&(_0x1205af[_0xc5f97b(0x47d)]=_0x4b65c2[_0xc5f97b(0x47d)]);}});}[a0_0x26e249(0x4d1)](_0x1852b6,_0x34b47b){const _0xdc4b50=a0_0x26e249;let {replyOption:_0x3cfaf7}=_0x34b47b;if(!_0x3cfaf7[_0xdc4b50(0x68e)]){this[_0xdc4b50(0x792)]('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x1852b6[_0xdc4b50(0x16f)][_0xdc4b50(0x288)](_0x1fdd35=>_0x1fdd35['_id'][_0xdc4b50(0x76f)]()===_0x34b47b[_0xdc4b50(0x1f9)][_0xdc4b50(0x68e)][_0xdc4b50(0x76f)]())){this[_0xdc4b50(0x792)](_0xdc4b50(0x7bf)+_0x3cfaf7[_0xdc4b50(0x68e)]+_0xdc4b50(0x519));return;}_0x1852b6['replyOptions']=_0x1852b6[_0xdc4b50(0x16f)]['filter'](_0x38b11c=>_0x38b11c['_id'][_0xdc4b50(0x76f)]()!==_0x34b47b[_0xdc4b50(0x1f9)][_0xdc4b50(0x68e)]['toString']());}async[a0_0x26e249(0x75b)](_0x111408,_0x10472e){const _0x385baa=a0_0x26e249;let _0x193400=_0x111408[_0x385baa(0x16f)][_0x385baa(0x264)](_0x15c822=>_0x15c822['_id'][_0x385baa(0x76f)]()===_0x10472e[_0x385baa(0x1f9)][_0x385baa(0x68e)][_0x385baa(0x76f)]());if(_0x193400===-0x1){this[_0x385baa(0x792)](_0x385baa(0x7bf)+_0x10472e[_0x385baa(0x1f9)][_0x385baa(0x68e)]+_0x385baa(0x2c7));return;}for(let _0x4dc1c8 in _0x10472e[_0x385baa(0x1f9)])_0x10472e['replyOption']['hasOwnProperty'](_0x4dc1c8)&&(_0x111408[_0x385baa(0x16f)][_0x193400][_0x4dc1c8]=_0x10472e[_0x385baa(0x1f9)][_0x4dc1c8]);}['addReplyOption'](_0x1f8e2c,_0x5a9067){const _0x660533=a0_0x26e249;_0x1f8e2c[_0x660533(0x16f)][_0x660533(0x65e)](_0x5a9067[_0x660533(0x1f9)]);}async[a0_0x26e249(0x579)](_0x5017aa,_0x59509b){const _0x1d1ec9=a0_0x26e249;let _0x18612a=_0x5017aa?.[_0x1d1ec9(0x6fe)][_0x1d1ec9(0x4fe)]()===_0x1d1ec9(0x441)?_0x1d1ec9(0x6fe):this[_0x1d1ec9(0x848)][_0x1d1ec9(0x2bd)];this['logger']['verbose'](this[_0x1d1ec9(0x156)]+'\x20('+this[_0x1d1ec9(0x848)][_0x1d1ec9(0x2bd)]+_0x1d1ec9(0x6fb)+_0x18612a+_0x1d1ec9(0x285)+_0x59509b+_0x1d1ec9(0x61b)+JSON[_0x1d1ec9(0x395)](_0x5017aa,null,0x2));try{this[_0x1d1ec9(0x392)][_0x1d1ec9(0x57c)](this[_0x1d1ec9(0x156)]+'\x20('+this[_0x1d1ec9(0x848)][_0x1d1ec9(0x2bd)]+_0x1d1ec9(0x2e7));let _0x295769=await this['repository'][_0x1d1ec9(0x394)][_0x1d1ec9(0x49c)]({'where':{'name':_0x5017aa[_0x1d1ec9(0x452)]}},_0x18612a);if(!_0x295769)throw this[_0x1d1ec9(0x392)][_0x1d1ec9(0x57c)](this['instanceName']+'\x20('+this[_0x1d1ec9(0x848)][_0x1d1ec9(0x2bd)]+_0x1d1ec9(0x54e)),new Error(_0x1d1ec9(0x629));if(_0x295769?.[_0x1d1ec9(0x6fe)]===_0x1d1ec9(0x2e1))throw this[_0x1d1ec9(0x392)][_0x1d1ec9(0x57c)](this['instanceName']+'\x20('+this[_0x1d1ec9(0x848)]['wuid']+_0x1d1ec9(0x50c)),new m(_0x1d1ec9(0x2a1));if(_0x59509b!==ee&&_0x295769?.[_0x1d1ec9(0x6fe)]===_0x1d1ec9(0x441)&&_0x295769?.[_0x1d1ec9(0x4fa)]!==this[_0x1d1ec9(0x848)][_0x1d1ec9(0x2bd)])throw this['logger']['verbose'](this[_0x1d1ec9(0x156)]+'\x20('+this[_0x1d1ec9(0x848)][_0x1d1ec9(0x2bd)]+_0x1d1ec9(0x830)),new m(_0x1d1ec9(0x1e0));if(_0x5017aa[_0x1d1ec9(0x707)]&&_0x5017aa[_0x1d1ec9(0x707)]?.[_0x1d1ec9(0x72e)]===!0x0){if(this[_0x1d1ec9(0x392)][_0x1d1ec9(0x57c)](this[_0x1d1ec9(0x156)]+'\x20('+this[_0x1d1ec9(0x848)][_0x1d1ec9(0x2bd)]+'):\x20delete\x20=\x20true'),_0x5017aa[_0x1d1ec9(0x707)][_0x1d1ec9(0x6f9)]===!0x0)return{'message':_0x1d1ec9(0x62f)};if(_0x295769[_0x1d1ec9(0x1c9)][_0x1d1ec9(0x30d)](_0x3dd1a7=>_0x3dd1a7[_0x1d1ec9(0x7c3)][_0x1d1ec9(0x76f)]()===_0x5017aa[_0x1d1ec9(0x707)]['_id']))return this['logger'][_0x1d1ec9(0x57c)](this[_0x1d1ec9(0x156)]+'\x20('+this['instance'][_0x1d1ec9(0x2bd)]+_0x1d1ec9(0x717)),{'message':_0x1d1ec9(0x750)};_0x295769[_0x1d1ec9(0x38c)]=_0x295769['groups'][_0x1d1ec9(0x27f)](_0x5a49ee=>_0x5a49ee['_id'][_0x1d1ec9(0x76f)]()!==_0x5017aa['group'][_0x1d1ec9(0x68e)]);}else{if(_0x5017aa[_0x1d1ec9(0x707)]){if(_0x5017aa[_0x1d1ec9(0x707)][_0x1d1ec9(0x6f9)]===!0x0)return{'message':_0x1d1ec9(0x176)};if(_0x5017aa[_0x1d1ec9(0x707)][_0x1d1ec9(0x68e)]){let _0x9a0035=_0x295769[_0x1d1ec9(0x38c)][_0x1d1ec9(0x288)](_0x2d2fe2=>_0x2d2fe2[_0x1d1ec9(0x68e)][_0x1d1ec9(0x76f)]()===_0x5017aa[_0x1d1ec9(0x707)][_0x1d1ec9(0x68e)]);_0x9a0035&&(_0x5017aa['group']['x']<0x0&&(_0x5017aa[_0x1d1ec9(0x707)]['x']=0x0),_0x5017aa[_0x1d1ec9(0x707)]['y']<0x0&&(_0x5017aa['group']['y']=0x0),Object[_0x1d1ec9(0x5ec)](_0x9a0035,_0x5017aa[_0x1d1ec9(0x707)]));}else _0x295769['groups']['push'](_0x5017aa[_0x1d1ec9(0x707)]);}}let _0x3b4ec2=await this[_0x1d1ec9(0x1e2)][_0x1d1ec9(0x394)][_0x1d1ec9(0x68c)](_0x295769[_0x1d1ec9(0x68e)],_0x295769,_0x18612a);if(_0x3b4ec2&&_0x3b4ec2[_0x1d1ec9(0x6a3)]&&_0x3b4ec2['shareOwners'][_0x1d1ec9(0x62e)]>0x1&&_0x3b4ec2[_0x1d1ec9(0x6fe)]!=='sync'&&this[_0x1d1ec9(0x188)](_0x3b4ec2['_id'],_0x18612a),!_0x3b4ec2)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x3b4ec2;}catch(_0x3b909c){let _0x270377=_0x1d1ec9(0x179),_0x3019e7=_0x3b909c instanceof Error?_0x3b909c['message']:typeof _0x3b909c==_0x1d1ec9(0x232)?JSON[_0x1d1ec9(0x395)](_0x3b909c):_0x3b909c,_0x372289=_0x270377+':\x20'+_0x3019e7;throw this[_0x1d1ec9(0x392)][_0x1d1ec9(0x819)](this[_0x1d1ec9(0x156)]+'\x20('+this[_0x1d1ec9(0x848)][_0x1d1ec9(0x2bd)]+_0x1d1ec9(0x69f)+_0x372289),new m(_0x372289);}}async[a0_0x26e249(0x7a8)](_0x2964cb,_0x5d05d4){const _0x4fc9d8=a0_0x26e249;try{this[_0x4fc9d8(0x392)][_0x4fc9d8(0x57c)](this[_0x4fc9d8(0x156)]+'\x20('+this['instance'][_0x4fc9d8(0x2bd)]+'):\x20Editando\x20condição\x20do\x20fluxo...');let _0x42e218=_0x2964cb?.[_0x4fc9d8(0x6fe)][_0x4fc9d8(0x4fe)]()==='true'?'global':this[_0x4fc9d8(0x848)][_0x4fc9d8(0x2bd)],_0x575ff1=await this[_0x4fc9d8(0x1e2)][_0x4fc9d8(0x394)][_0x4fc9d8(0x49c)]({'where':{'name':_0x2964cb['name']}},_0x42e218);if(!_0x575ff1)throw new Error(_0x4fc9d8(0x629));if(_0x575ff1?.[_0x4fc9d8(0x6fe)]===_0x4fc9d8(0x2e1))throw new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0x5d05d4!==ee&&_0x575ff1?.[_0x4fc9d8(0x6fe)]==='true'&&_0x575ff1?.[_0x4fc9d8(0x4fa)]!==this[_0x4fc9d8(0x848)][_0x4fc9d8(0x2bd)])throw new m(_0x4fc9d8(0x1e0));let _0xe20065=!0x1;if(_0x2964cb[_0x4fc9d8(0x6c5)]?.[_0x4fc9d8(0x72e)]===!0x0)_0x575ff1[_0x4fc9d8(0x2b5)]=_0x575ff1[_0x4fc9d8(0x2b5)]['filter'](_0x21cf42=>_0x21cf42&&_0x2964cb[_0x4fc9d8(0x6c5)]&&_0x21cf42[_0x4fc9d8(0x68e)]&&_0x2964cb[_0x4fc9d8(0x6c5)][_0x4fc9d8(0x68e)]&&_0x21cf42['_id'][_0x4fc9d8(0x76f)]()!==_0x2964cb['condition'][_0x4fc9d8(0x68e)][_0x4fc9d8(0x76f)]()),_0xe20065=!0x0;else{let _0x36ae31=_0x575ff1[_0x4fc9d8(0x2b5)][_0x4fc9d8(0x288)](_0x2c1564=>_0x2c1564&&_0x2964cb['condition']&&_0x2c1564[_0x4fc9d8(0x68e)]&&_0x2964cb['condition'][_0x4fc9d8(0x68e)]&&_0x2c1564['_id'][_0x4fc9d8(0x76f)]()===_0x2964cb[_0x4fc9d8(0x6c5)]['_id'][_0x4fc9d8(0x76f)]());_0x36ae31?(_0xe20065=_0x36ae31['order']!==_0x2964cb['condition'][_0x4fc9d8(0x47d)],Object[_0x4fc9d8(0x5ec)](_0x36ae31,_0x2964cb[_0x4fc9d8(0x6c5)])):(_0x575ff1[_0x4fc9d8(0x2b5)][_0x4fc9d8(0x65e)](_0x2964cb[_0x4fc9d8(0x6c5)]),_0xe20065=!0x0);}if(_0xe20065){_0x575ff1['conditions'][_0x4fc9d8(0x1e4)]((_0x440010,_0x59be09)=>_0x440010[_0x4fc9d8(0x47d)]>_0x59be09[_0x4fc9d8(0x47d)]?0x1:_0x59be09[_0x4fc9d8(0x47d)]>_0x440010['order']?-0x1:0x0);for(let _0xa9e6c0=0x0;_0xa9e6c0<_0x575ff1[_0x4fc9d8(0x2b5)]['length'];_0xa9e6c0++)_0x575ff1[_0x4fc9d8(0x2b5)][_0xa9e6c0]['order']=_0xa9e6c0+0x1;_0x575ff1[_0x4fc9d8(0x2b5)][_0x4fc9d8(0x62e)]>0x0&&(_0x575ff1[_0x4fc9d8(0x2b5)][0x0][_0x4fc9d8(0x2b1)]=_0x4fc9d8(0x191));}let _0x2157c1=await this[_0x4fc9d8(0x1e2)][_0x4fc9d8(0x394)][_0x4fc9d8(0x68c)](_0x575ff1[_0x4fc9d8(0x68e)],_0x575ff1,_0x42e218);if(_0x2157c1&&_0x2157c1[_0x4fc9d8(0x6a3)]&&_0x2157c1['shareOwners'][_0x4fc9d8(0x62e)]>0x1&&_0x2157c1[_0x4fc9d8(0x6fe)]!=='sync'&&this['synchronizeFlows'](_0x2157c1[_0x4fc9d8(0x68e)],_0x42e218),!_0x2157c1)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x2157c1;}catch(_0x418996){let _0x5683ca='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x44ec24=_0x418996 instanceof Error?_0x418996[_0x4fc9d8(0x3e1)]:typeof _0x418996=='object'?JSON[_0x4fc9d8(0x395)](_0x418996):_0x418996,_0x4315e3=_0x5683ca+':\x20'+_0x44ec24;throw this[_0x4fc9d8(0x392)][_0x4fc9d8(0x819)](this[_0x4fc9d8(0x156)]+'\x20('+this[_0x4fc9d8(0x848)][_0x4fc9d8(0x2bd)]+_0x4fc9d8(0x69f)+_0x4315e3),new m(_0x4315e3);}}async[a0_0x26e249(0x54f)](_0x5ea257,_0x33a173){const _0x17cf14=a0_0x26e249;try{this[_0x17cf14(0x392)][_0x17cf14(0x57c)](this[_0x17cf14(0x156)]+'\x20('+this[_0x17cf14(0x848)][_0x17cf14(0x2bd)]+_0x17cf14(0x2fc));let _0x2792b1=_0x5ea257?.[_0x17cf14(0x6fe)][_0x17cf14(0x4fe)]()==='true'?_0x17cf14(0x6fe):this[_0x17cf14(0x848)][_0x17cf14(0x2bd)],_0x1fc4bd=await this[_0x17cf14(0x1e2)]['flow']['findOne']({'where':{'name':_0x5ea257[_0x17cf14(0x452)]}},_0x2792b1);if(!_0x1fc4bd)throw new Error(_0x17cf14(0x629));if(_0x1fc4bd?.['global']===_0x17cf14(0x2e1))throw new m(_0x17cf14(0x796));if(_0x33a173!==ee&&_0x1fc4bd?.[_0x17cf14(0x6fe)]===_0x17cf14(0x441)&&_0x1fc4bd?.['owner']!==this['instance'][_0x17cf14(0x2bd)])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');let _0x173b82=!0x1;if(_0x5ea257[_0x17cf14(0x477)]?.[_0x17cf14(0x72e)]===!0x0)_0x1fc4bd[_0x17cf14(0x5a8)]=_0x1fc4bd[_0x17cf14(0x5a8)]['filter'](_0x23fd81=>_0x23fd81&&_0x5ea257['varedit']&&_0x23fd81['_id']&&_0x5ea257[_0x17cf14(0x477)][_0x17cf14(0x68e)]&&_0x23fd81[_0x17cf14(0x68e)][_0x17cf14(0x76f)]()!==_0x5ea257[_0x17cf14(0x477)][_0x17cf14(0x68e)][_0x17cf14(0x76f)]()),_0x173b82=!0x0;else{let _0x352278=_0x1fc4bd['varedits'][_0x17cf14(0x288)](_0x2afaa7=>_0x2afaa7&&_0x5ea257[_0x17cf14(0x477)]&&_0x2afaa7[_0x17cf14(0x68e)]&&_0x5ea257[_0x17cf14(0x477)][_0x17cf14(0x68e)]&&_0x2afaa7[_0x17cf14(0x68e)][_0x17cf14(0x76f)]()===_0x5ea257['varedit'][_0x17cf14(0x68e)]['toString']());_0x352278?(_0x173b82=_0x352278[_0x17cf14(0x47d)]!==_0x5ea257[_0x17cf14(0x477)][_0x17cf14(0x47d)],Object[_0x17cf14(0x5ec)](_0x352278,_0x5ea257['varedit'])):(_0x1fc4bd['varedits'][_0x17cf14(0x65e)](_0x5ea257['varedit']),_0x173b82=!0x0);}if(_0x173b82){_0x1fc4bd[_0x17cf14(0x5a8)][_0x17cf14(0x1e4)]((_0x3a232a,_0x1438e7)=>_0x3a232a[_0x17cf14(0x47d)]>_0x1438e7[_0x17cf14(0x47d)]?0x1:_0x1438e7[_0x17cf14(0x47d)]>_0x3a232a[_0x17cf14(0x47d)]?-0x1:0x0);for(let _0x208b57=0x0;_0x208b57<_0x1fc4bd[_0x17cf14(0x5a8)]['length'];_0x208b57++)_0x1fc4bd[_0x17cf14(0x5a8)][_0x208b57][_0x17cf14(0x47d)]=_0x208b57+0x1;}let _0x58db77=await this[_0x17cf14(0x1e2)][_0x17cf14(0x394)][_0x17cf14(0x68c)](_0x1fc4bd[_0x17cf14(0x68e)],_0x1fc4bd,_0x2792b1);if(_0x58db77&&_0x58db77[_0x17cf14(0x6a3)]&&_0x58db77[_0x17cf14(0x6a3)][_0x17cf14(0x62e)]>0x1&&_0x58db77[_0x17cf14(0x6fe)]!==_0x17cf14(0x2e1)&&this['synchronizeFlows'](_0x58db77['_id'],_0x2792b1),!_0x58db77)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x58db77;}catch(_0x18e5ff){let _0x5a1b31=_0x17cf14(0x500),_0x2f9166=_0x18e5ff instanceof Error?_0x18e5ff[_0x17cf14(0x3e1)]:typeof _0x18e5ff=='object'?JSON[_0x17cf14(0x395)](_0x18e5ff):_0x18e5ff,_0x5756f6=_0x5a1b31+':\x20'+_0x2f9166;throw this['logger'][_0x17cf14(0x819)](this[_0x17cf14(0x156)]+'\x20('+this[_0x17cf14(0x848)][_0x17cf14(0x2bd)]+_0x17cf14(0x69f)+_0x5756f6),new m(_0x5756f6);}}async['editFlowVariable'](_0x711af5,_0x4830f4){const _0x147bb5=a0_0x26e249;try{this[_0x147bb5(0x392)]['verbose'](this[_0x147bb5(0x156)]+'\x20('+this[_0x147bb5(0x848)][_0x147bb5(0x2bd)]+_0x147bb5(0x7e4));let _0x2e3829=_0x711af5?.['global']['trim']()===_0x147bb5(0x441)?_0x147bb5(0x6fe):this[_0x147bb5(0x848)][_0x147bb5(0x2bd)],_0x279383=await this[_0x147bb5(0x1e2)][_0x147bb5(0x394)][_0x147bb5(0x49c)]({'where':{'name':_0x711af5[_0x147bb5(0x452)]}},_0x2e3829);if(!_0x279383)throw new Error(_0x147bb5(0x629));if(_0x279383?.[_0x147bb5(0x6fe)]===_0x147bb5(0x2e1))throw new m(_0x147bb5(0x796));if(_0x4830f4!==ee&&_0x279383?.[_0x147bb5(0x6fe)]==='true'&&_0x279383?.['owner']!==this['instance'][_0x147bb5(0x2bd)])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');if(_0x4830f4!==ee&&_0x279383?.[_0x147bb5(0x6fe)]==='true'&&_0x279383?.['owner']!==this[_0x147bb5(0x848)]['wuid'])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');_0x711af5[_0x147bb5(0x7ce)][_0x147bb5(0x452)]=_0x711af5[_0x147bb5(0x7ce)][_0x147bb5(0x452)][_0x147bb5(0x4fe)](),_0x711af5['variable'][_0x147bb5(0x452)][_0x147bb5(0x29c)]('_')&&(_0x711af5['variable'][_0x147bb5(0x452)]=_0x711af5[_0x147bb5(0x7ce)][_0x147bb5(0x452)][_0x147bb5(0x609)](0x1)),_0x711af5[_0x147bb5(0x7ce)][_0x147bb5(0x452)]=_0x711af5['variable'][_0x147bb5(0x452)][_0x147bb5(0x4fe)]();let _0x59aaeb=_0x279383[_0x147bb5(0x849)]['find'](_0x384d18=>_0x384d18[_0x147bb5(0x452)]===_0x711af5[_0x147bb5(0x7ce)]['name']);if(_0x59aaeb?.[_0x147bb5(0x484)]===!0x0)throw new Error(_0x147bb5(0x434));if(_0x711af5[_0x147bb5(0x7ce)]?.[_0x147bb5(0x72e)]===!0x0){if(!_0x59aaeb)return{'message':'Variável\x20não\x20encontrada!'};_0x279383['variables']=_0x279383[_0x147bb5(0x849)][_0x147bb5(0x27f)](_0x37ed75=>_0x37ed75[_0x147bb5(0x452)]!==_0x711af5[_0x147bb5(0x7ce)][_0x147bb5(0x452)]);}else _0x59aaeb?Object[_0x147bb5(0x5ec)](_0x59aaeb,_0x711af5[_0x147bb5(0x7ce)]):_0x279383[_0x147bb5(0x849)][_0x147bb5(0x65e)](_0x711af5[_0x147bb5(0x7ce)]);let _0xbedad8=await this[_0x147bb5(0x1e2)]['flow'][_0x147bb5(0x68c)](_0x279383[_0x147bb5(0x68e)],_0x279383,_0x2e3829);if(_0xbedad8&&_0xbedad8[_0x147bb5(0x6a3)]&&_0xbedad8[_0x147bb5(0x6a3)][_0x147bb5(0x62e)]>0x1&&_0xbedad8[_0x147bb5(0x6fe)]!==_0x147bb5(0x2e1)&&this[_0x147bb5(0x188)](_0xbedad8[_0x147bb5(0x68e)],_0x2e3829),!_0xbedad8)throw new Error(_0x147bb5(0x549));return _0xbedad8;}catch(_0x4a10a0){let _0x31cffb=_0x147bb5(0x424),_0x78e3a9=_0x4a10a0 instanceof Error?_0x4a10a0[_0x147bb5(0x3e1)]:typeof _0x4a10a0==_0x147bb5(0x232)?JSON[_0x147bb5(0x395)](_0x4a10a0):_0x4a10a0,_0x1e761c=_0x31cffb+':\x20'+_0x78e3a9;throw this[_0x147bb5(0x392)][_0x147bb5(0x819)](this['instanceName']+'\x20('+this['instance'][_0x147bb5(0x2bd)]+'):\x20'+_0x1e761c),new m(_0x1e761c);}}async[a0_0x26e249(0x26a)](_0xb8c824){const _0xd44b4=a0_0x26e249;let _0xf5a97d=null;try{if(!this[_0xd44b4(0x68b)]?.[_0xd44b4(0x6b9)][_0xd44b4(0x46e)])throw new m(_0xd44b4(0x192));this[_0xd44b4(0x392)][_0xd44b4(0x57c)](this['instanceName']+'\x20('+this[_0xd44b4(0x848)][_0xd44b4(0x2bd)]+_0xd44b4(0x701));let _0x310674=(await this[_0xd44b4(0x269)]({'numbers':[_0xb8c824[_0xd44b4(0x1e8)]]}))[0x0];if(!_0x310674[_0xd44b4(0x7fd)]&&!(0x0,w[_0xd44b4(0x4f8)])(_0x310674[_0xd44b4(0x7d1)])&&!_0x310674[_0xd44b4(0x7d1)]['includes']('@broadcast'))throw _0xf5a97d=JSON[_0xd44b4(0x395)](_0x310674,null,0x2),new m(_0x310674);let _0x2a72f8=await this['repository'][_0xd44b4(0x394)][_0xd44b4(0x49c)]({'where':{'name':_0xb8c824[_0xd44b4(0x452)]}},this[_0xd44b4(0x848)][_0xd44b4(0x2bd)]);if(!_0x2a72f8)return this[_0xd44b4(0x392)]['error'](this['instanceName']+'\x20('+this[_0xd44b4(0x848)][_0xd44b4(0x2bd)]+_0xd44b4(0x54e)),{'message':_0xd44b4(0x629)};let _0x367f74=await this[_0xd44b4(0x69a)](_0x2a72f8,_0x310674[_0xd44b4(0x7d1)],_0xb8c824[_0xd44b4(0x6a1)]);if(_0x367f74){this[_0xd44b4(0x392)][_0xd44b4(0x57c)](this[_0xd44b4(0x156)]+'\x20('+this[_0xd44b4(0x848)][_0xd44b4(0x2bd)]+_0xd44b4(0x252));let _0x464349=await this[_0xd44b4(0x2cc)](_0x367f74);return _0x464349&&await this[_0xd44b4(0x165)](_0x367f74,_0x464349),{'message':_0xd44b4(0x759)+_0xb8c824['remoteJid']};}}catch(_0x59cce1){if(this['logger']['error'](this[_0xd44b4(0x156)]+'\x20('+this[_0xd44b4(0x848)][_0xd44b4(0x2bd)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x59cce1 instanceof Error?_0x59cce1['message']:JSON['stringify'](_0x59cce1,null,0x2))),_0xf5a97d=_0x59cce1 instanceof Error?_0x59cce1[_0xd44b4(0x3e1)]:JSON[_0xd44b4(0x395)](_0x59cce1,null,0x2),_0xf5a97d)throw new m(_0xd44b4(0x39c)+_0xf5a97d);}}async[a0_0x26e249(0x4cb)](_0x30d599,_0x313fdd,_0x32db0d){const _0x47e25f=a0_0x26e249;let _0x402ee=null;try{if(!this['AutomateSystem']?.['flowConfig'][_0x47e25f(0x46e)])throw new m(_0x47e25f(0x192));if(this[_0x47e25f(0x392)][_0x47e25f(0x57c)](this[_0x47e25f(0x156)]+'\x20('+this[_0x47e25f(0x848)][_0x47e25f(0x2bd)]+'):\x20Iniciando\x20bot...'),_0x313fdd){let _0x1ac29b=(await this[_0x47e25f(0x269)]({'numbers':[_0x313fdd]}))[0x0];if(!_0x1ac29b[_0x47e25f(0x7fd)]&&!(0x0,w[_0x47e25f(0x4f8)])(_0x1ac29b['jid'])&&!_0x1ac29b[_0x47e25f(0x7d1)]['includes'](_0x47e25f(0x419)))throw _0x402ee=JSON[_0x47e25f(0x395)](_0x1ac29b,null,0x2),new m(_0x1ac29b);_0x313fdd=_0x1ac29b[_0x47e25f(0x7d1)];}else _0x313fdd||(_0x313fdd=(0x0,Me['v4'])());let _0x529211=await this[_0x47e25f(0x1e2)]['flow'][_0x47e25f(0x49c)]({'where':{'startID':_0x30d599}},this[_0x47e25f(0x848)][_0x47e25f(0x2bd)]);if(!_0x529211)throw this[_0x47e25f(0x392)][_0x47e25f(0x819)](this[_0x47e25f(0x156)]+'\x20('+this[_0x47e25f(0x848)][_0x47e25f(0x2bd)]+_0x47e25f(0x54e)),new m(_0x47e25f(0x629));let _0x2079ea=await this['createConversationforStartFlow'](_0x529211,_0x313fdd,null);if(_0x2079ea){this['logger']['verbose'](this[_0x47e25f(0x156)]+'\x20('+this[_0x47e25f(0x848)][_0x47e25f(0x2bd)]+_0x47e25f(0x4d7));let _0x43c531;if(_0x32db0d){let _0x290c81=_0x2079ea[_0x47e25f(0x3b5)]['realVariables'],_0xb1595d=this[_0x47e25f(0x155)](_0x32db0d);Object[_0x47e25f(0x5ec)](_0x290c81,_0xb1595d),_0x2079ea[_0x47e25f(0x3b5)][_0x47e25f(0x712)]=_0x290c81,_0x43c531={'error':!0x1,'apiResponse':_0x32db0d};}let _0x13f118=await this[_0x47e25f(0x2cc)](_0x2079ea);return _0x13f118&&await this[_0x47e25f(0x165)](_0x2079ea,_0x13f118),{'message':_0x47e25f(0x3c4)};}}catch(_0x537b69){if(this[_0x47e25f(0x392)][_0x47e25f(0x819)](this[_0x47e25f(0x156)]+'\x20('+this[_0x47e25f(0x848)][_0x47e25f(0x2bd)]+_0x47e25f(0x601)+(_0x537b69 instanceof Error?_0x537b69[_0x47e25f(0x3e1)]:JSON[_0x47e25f(0x395)](_0x537b69,null,0x2))),_0x402ee=_0x537b69 instanceof Error?_0x537b69[_0x47e25f(0x3e1)]:JSON[_0x47e25f(0x395)](_0x537b69,null,0x2),_0x402ee)throw new m(_0x47e25f(0x39c)+_0x402ee);}}async[a0_0x26e249(0x461)](_0x399607){const _0x100537=a0_0x26e249;try{let _0x489e30={'remoteJid':_0x399607,'status':'open'},_0x596f89={'status':_0x100537(0x1d0)},_0x1aec50=await this[_0x100537(0x1e2)]['flowConversation'][_0x100537(0x180)](_0x489e30,_0x596f89,this['instance'][_0x100537(0x2bd)]);return this['logger'][_0x100537(0x57c)](this['instanceName']+'\x20('+this[_0x100537(0x848)]['wuid']+_0x100537(0x534)),_0x1aec50;}catch(_0x15ace7){throw this['logger'][_0x100537(0x819)](this[_0x100537(0x156)]+'\x20('+this['instance'][_0x100537(0x2bd)]+_0x100537(0x17c)+_0x15ace7['message']),_0x15ace7;}}async[a0_0x26e249(0x69a)](_0x1e6e02,_0xbb7858,_0x404599){const _0x1315c1=a0_0x26e249;this['logger']['verbose'](this[_0x1315c1(0x156)]+'\x20('+this['instance'][_0x1315c1(0x2bd)]+_0x1315c1(0x5a3)),await this['closeExistingConversations'](_0xbb7858);try{let _0x4de3f8=require(_0x1315c1(0x3a4))['ObjectId'],_0x34267f=Date['now'](),_0x3550d5=_0x1315c1(0x2d3),_0x4129a3={},_0x25a4bc={},_0x1a5a9f={..._0x1e6e02,'chatLog':null},_0x36372e=await this[_0x1315c1(0x6f2)](_0x1a5a9f[_0x1315c1(0x849)]),_0x8e1587=await this[_0x1315c1(0x60a)](_0xbb7858),_0x515eaa={..._0x36372e,..._0x8e1587,'_remoteJid':_0xbb7858},_0x4c19d9={'lastReceivedMessage':_0x4129a3,'lastSendMessage':_0x25a4bc,'lastBlockId':_0x3550d5,'lastCondition':!0x0,'realVariables':_0x515eaa};_0x1a5a9f[_0x1315c1(0x3b5)]=_0x4c19d9,_0x1a5a9f[_0x1315c1(0x3b5)][_0x1315c1(0x712)]={..._0x515eaa,..._0x404599},delete _0x1a5a9f[_0x1315c1(0x68e)],_0x1a5a9f[_0x1315c1(0x68e)]=new _0x4de3f8(),_0x1a5a9f[_0x1315c1(0x398)]=_0x34267f,_0x1a5a9f[_0x1315c1(0x228)]=_0x1315c1(0x178),_0x1a5a9f[_0x1315c1(0x1e8)]=_0xbb7858;let _0x112cc7=await this[_0x1315c1(0x1e2)][_0x1315c1(0x650)][_0x1315c1(0x68c)](_0x1a5a9f[_0x1315c1(0x68e)],_0x1a5a9f,this[_0x1315c1(0x848)][_0x1315c1(0x2bd)]);return this[_0x1315c1(0x392)][_0x1315c1(0x57c)](this['instanceName']+'\x20('+this[_0x1315c1(0x848)][_0x1315c1(0x2bd)]+_0x1315c1(0x544)),_0x112cc7?_0x1a5a9f:null;}catch(_0x2cd596){let _0x20363e=_0x1315c1(0x58e),_0x4a2591=_0x2cd596 instanceof Error?_0x2cd596[_0x1315c1(0x3e1)]:typeof _0x2cd596==_0x1315c1(0x232)?JSON['stringify'](_0x2cd596):_0x2cd596,_0x102028=_0x20363e+':\x20'+_0x4a2591;throw this[_0x1315c1(0x392)][_0x1315c1(0x819)](this[_0x1315c1(0x156)]+'\x20('+this['instance'][_0x1315c1(0x2bd)]+_0x1315c1(0x69f)+_0x102028),new m(_0x102028);}}async[a0_0x26e249(0x7d6)](_0x162f90){const _0x35c195=a0_0x26e249;try{this[_0x35c195(0x392)][_0x35c195(0x57c)](this[_0x35c195(0x156)]+'\x20('+this[_0x35c195(0x848)][_0x35c195(0x2bd)]+_0x35c195(0x303)),this['logger'][_0x35c195(0x57c)](this['instanceName']+'\x20('+this[_0x35c195(0x848)][_0x35c195(0x2bd)]+_0x35c195(0x3d8)+_0x162f90);let _0x3d9850={'where':{'_id':_0x162f90}};return await this[_0x35c195(0x1e2)][_0x35c195(0x650)][_0x35c195(0x49c)](_0x3d9850,this[_0x35c195(0x848)][_0x35c195(0x2bd)]);}catch(_0x10e540){let _0x25f0b2='Erro\x20ao\x20buscar\x20a\x20conversa',_0x6f432=_0x10e540 instanceof Error?_0x10e540[_0x35c195(0x3e1)]:typeof _0x10e540==_0x35c195(0x232)?JSON[_0x35c195(0x395)](_0x10e540):_0x10e540,_0x1f882c=_0x25f0b2+':\x20'+_0x6f432;throw this[_0x35c195(0x392)][_0x35c195(0x819)](this[_0x35c195(0x156)]+'\x20('+this['instance'][_0x35c195(0x2bd)]+_0x35c195(0x69f)+_0x1f882c),new m(_0x1f882c);}}async[a0_0x26e249(0x4aa)](_0x5ed884){const _0xfd81c6=a0_0x26e249;try{return this[_0xfd81c6(0x392)][_0xfd81c6(0x57c)](this[_0xfd81c6(0x156)]+'\x20('+this[_0xfd81c6(0x848)][_0xfd81c6(0x2bd)]+_0xfd81c6(0x44e)),await this[_0xfd81c6(0x1e2)]['flowConversation'][_0xfd81c6(0x288)](_0x5ed884,this[_0xfd81c6(0x848)]['wuid']);}catch(_0xaf0576){let _0x2ec0de=_0xfd81c6(0x36f),_0x141f25=_0xaf0576 instanceof Error?_0xaf0576[_0xfd81c6(0x3e1)]:typeof _0xaf0576==_0xfd81c6(0x232)?JSON[_0xfd81c6(0x395)](_0xaf0576):_0xaf0576,_0x1260bb=_0x2ec0de+':\x20'+_0x141f25;throw this[_0xfd81c6(0x392)]['error'](this['instanceName']+'\x20('+this[_0xfd81c6(0x848)][_0xfd81c6(0x2bd)]+_0xfd81c6(0x69f)+_0x1260bb),new m(_0x1260bb);}}async['deleteConversation'](_0x16b91f){const _0x27e092=a0_0x26e249;try{return this['logger'][_0x27e092(0x57c)](this[_0x27e092(0x156)]+'\x20('+this[_0x27e092(0x848)][_0x27e092(0x2bd)]+_0x27e092(0x1fb)),this[_0x27e092(0x392)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x27e092(0x2bd)]+'):\x20Query\x20params:'+_0x16b91f),(await this[_0x27e092(0x1e2)][_0x27e092(0x650)][_0x27e092(0x409)]({'where':{'_id':_0x16b91f['_id']}},this[_0x27e092(0x848)][_0x27e092(0x2bd)]))[_0x27e092(0x553)]===0x0?{'message':_0x27e092(0x431)}:{'message':_0x27e092(0x428)};}catch(_0x4e4dcd){let _0x17627c=_0x27e092(0x7b2),_0x21033e=_0x4e4dcd instanceof Error?_0x4e4dcd[_0x27e092(0x3e1)]:typeof _0x4e4dcd==_0x27e092(0x232)?JSON[_0x27e092(0x395)](_0x4e4dcd):_0x4e4dcd,_0x2b04f2=_0x17627c+':\x20'+_0x21033e;throw this[_0x27e092(0x392)]['error'](this[_0x27e092(0x156)]+'\x20('+this[_0x27e092(0x848)][_0x27e092(0x2bd)]+_0x27e092(0x69f)+_0x2b04f2),new m(_0x2b04f2);}}async[a0_0x26e249(0x52b)](_0x212dde){const _0x4ece05=a0_0x26e249;try{let {_id:_0x131f3f,chatLog:_0x2a36f2,status:_0x3f3d42}=_0x212dde;if(!_0x131f3f)return{'message':_0x4ece05(0x2ed)};let _0x504d3d={};if(_0x3f3d42!==void 0x0&&(_0x504d3d[_0x4ece05(0x228)]=_0x3f3d42),Object[_0x4ece05(0x4a9)](_0x504d3d)[_0x4ece05(0x62e)]===0x0)return{'message':_0x4ece05(0x5ce)};let _0x302df3=await this[_0x4ece05(0x1e2)][_0x4ece05(0x650)]['updateOne'](_0x131f3f,_0x504d3d,this[_0x4ece05(0x848)][_0x4ece05(0x2bd)]);return _0x302df3||{'message':_0x4ece05(0x4a4)};}catch(_0x44a330){let _0x15e53b=_0x4ece05(0x7e1),_0x41278f=_0x44a330 instanceof Error?_0x44a330[_0x4ece05(0x3e1)]:typeof _0x44a330==_0x4ece05(0x232)?JSON[_0x4ece05(0x395)](_0x44a330):_0x44a330,_0x52e123=_0x15e53b+':\x20'+_0x41278f;throw this[_0x4ece05(0x392)][_0x4ece05(0x819)](this[_0x4ece05(0x156)]+'\x20('+this[_0x4ece05(0x848)][_0x4ece05(0x2bd)]+'):\x20'+_0x52e123),new m(_0x52e123);}}async['editChat'](_0x4a0be9){const _0x2968f7=a0_0x26e249;try{_0x4a0be9[_0x2968f7(0x68e)]=this[_0x2968f7(0x49f)](_0x4a0be9[_0x2968f7(0x68e)]);let _0x390e70=await this['repository'][_0x2968f7(0x3b6)][_0x2968f7(0x49c)]({'where':{'_id':_0x4a0be9[_0x2968f7(0x68e)]}},this['instance'][_0x2968f7(0x2bd)]);if(!_0x390e70)throw new m('Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo');let {_id:_0x24db62,leadInfo:_0x1f0805}=_0x4a0be9;if(!_0x24db62)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');if(_0x4a0be9[_0x2968f7(0x72e)]===_0x2968f7(0x574))return await this['deleteChat'](_0x4a0be9[_0x2968f7(0x68e)]),await this[_0x2968f7(0x1e2)][_0x2968f7(0x3b6)][_0x2968f7(0x72e)]({'where':{'_id':_0x4a0be9[_0x2968f7(0x68e)]}},this[_0x2968f7(0x848)][_0x2968f7(0x2bd)]),await this[_0x2968f7(0x1e2)]['message'][_0x2968f7(0x72e)]({'where':{'key':{'remoteJid':_0x4a0be9[_0x2968f7(0x68e)]}}},this[_0x2968f7(0x848)]['wuid']),_0x4a0be9=await this[_0x2968f7(0x1e2)]['chat'][_0x2968f7(0x68c)]({'where':{'_id':_0x4a0be9[_0x2968f7(0x68e)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x2968f7(0x2bd)]),J(this['instanceName'],_0x2968f7(0x596),{'chat':_0x4a0be9}),{'message':_0x2968f7(0x345)};if(_0x4a0be9[_0x2968f7(0x72e)]===_0x2968f7(0x6e9))return await this['repository']['message']['delete']({'where':{'key':{'remoteJid':_0x4a0be9[_0x2968f7(0x68e)]}}},this[_0x2968f7(0x848)][_0x2968f7(0x2bd)]),_0x4a0be9=await this['repository']['chat'][_0x2968f7(0x68c)]({'where':{'_id':_0x4a0be9[_0x2968f7(0x68e)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance']['wuid']),J(this[_0x2968f7(0x156)],_0x2968f7(0x596),{'chat':_0x4a0be9}),{'message':_0x2968f7(0x32e)};let _0x5863b7=(_0x265fa6,_0x15d0df,_0x1e2286)=>{const _0xe555=_0x2968f7;_0x265fa6&&_0x1e2286[_0xe555(0x522)](_0x5196fb=>{const _0x434893=_0xe555;_0x265fa6[_0x5196fb]!==void 0x0&&(_0x15d0df[_0x434893(0x2a0)+_0x5196fb]=_0x265fa6[_0x5196fb]);});},_0x1d5af0={};if('muteEndTime'in _0x4a0be9&&(this[_0x2968f7(0x392)][_0x2968f7(0x57c)](this[_0x2968f7(0x156)]+'\x20('+this[_0x2968f7(0x848)][_0x2968f7(0x2bd)]+_0x2968f7(0x2c3)+_0x4a0be9['_id']),_0x4a0be9['muteEndTime']=_0x4a0be9[_0x2968f7(0x3a8)]===0x0?null:-0x1,await this[_0x2968f7(0x39e)][_0x2968f7(0x448)]({'mute':_0x4a0be9[_0x2968f7(0x3a8)]},_0x4a0be9[_0x2968f7(0x68e)]),_0x1d5af0['muteEndTime']=Number(_0x4a0be9[_0x2968f7(0x3a8)])),_0x1f0805&&(_0x5863b7(_0x1f0805,_0x1d5af0,[_0x2968f7(0x22e),'nomecompleto',_0x2968f7(0x56c),'cpf',_0x2968f7(0x228),_0x2968f7(0x6e7),'tags','atendimentoAberto','responsavelid','etiquetas']),Array[_0x2968f7(0x304)](_0x1f0805['customFields'])&&(_0x1d5af0[_0x2968f7(0x728)]=_0x1f0805['customFields'][_0x2968f7(0x261)](_0x1cc55d=>({'_id':_0x1cc55d[_0x2968f7(0x68e)],'value':_0x1cc55d[_0x2968f7(0x298)]}))),_0x4a0be9['leadInfo'][_0x2968f7(0x7ff)]!==void 0x0)){let _0x2558b5=await this[_0x2968f7(0x1e2)][_0x2968f7(0x488)][_0x2968f7(0x288)]({'where':{}},this[_0x2968f7(0x848)]['wuid']),_0x53c1a8=new Set(_0x4a0be9['leadInfo']['etiquetas']||[]),_0x183043=new Set(_0x4a0be9[_0x2968f7(0x484)][_0x2968f7(0x7ff)]),_0x484624=new Set(_0x2558b5['map'](_0x29aa23=>_0x29aa23['_id'])),_0x47a55f=[..._0x183043][_0x2968f7(0x27f)](_0x2f9df8=>!_0x53c1a8[_0x2968f7(0x4c6)](_0x2f9df8)&&_0x484624[_0x2968f7(0x4c6)](_0x2f9df8)),_0x445061=[..._0x53c1a8]['filter'](_0x44df50=>!_0x183043['has'](_0x44df50));if(_0x1d5af0['leadInfo.etiquetas']=[..._0x53c1a8],_0x390e70&&!_0x390e70[_0x2968f7(0x769)]){for(let _0x526f33 of _0x47a55f)await this[_0x2968f7(0x50e)](_0x526f33,_0x4a0be9['_id']),_0x53c1a8[_0x2968f7(0x2b0)](_0x526f33);for(let _0x185ab8 of _0x445061)await this[_0x2968f7(0x3fd)](_0x185ab8,_0x4a0be9[_0x2968f7(0x68e)]),_0x53c1a8[_0x2968f7(0x72e)](_0x185ab8);}}if(_0x4a0be9[_0x2968f7(0x6a6)]!==void 0x0&&(_0x1d5af0['unreadcount']=Number(_0x4a0be9[_0x2968f7(0x6a6)])),Object[_0x2968f7(0x4a9)](_0x1d5af0)['length']===0x0)throw new Error(_0x2968f7(0x5ce));let _0x290bad=await this[_0x2968f7(0x1e2)]['chat']['updateOne']({'where':{'_id':_0x4a0be9['_id']}},_0x1d5af0,this[_0x2968f7(0x848)]['wuid']);return _0x290bad&&J(this[_0x2968f7(0x156)],_0x2968f7(0x596),{'chat':_0x290bad}),_0x290bad?(this[_0x2968f7(0x392)][_0x2968f7(0x57c)](this[_0x2968f7(0x156)]+'\x20('+this['instance'][_0x2968f7(0x2bd)]+'):\x20'+JSON[_0x2968f7(0x395)](_0x290bad,null,0x2)),_0x290bad):{'message':_0x2968f7(0x37f)};}catch(_0x497427){let _0x5583bd=_0x2968f7(0x81d),_0x5e76eb=_0x497427 instanceof Error?_0x497427[_0x2968f7(0x3e1)]:typeof _0x497427=='object'?JSON[_0x2968f7(0x395)](_0x497427):_0x497427,_0x380352=_0x5583bd+':\x20'+_0x5e76eb;throw this[_0x2968f7(0x392)][_0x2968f7(0x819)](this[_0x2968f7(0x156)]+'\x20('+this['instance'][_0x2968f7(0x2bd)]+'):\x20'+_0x380352),new m(_0x380352);}}async['AddChatLabel'](_0x361566,_0x19e7cd){const _0x59cfdd=a0_0x26e249;try{await this[_0x59cfdd(0x39e)][_0x59cfdd(0x690)](_0x19e7cd,_0x361566),this[_0x59cfdd(0x392)][_0x59cfdd(0x4a0)](this[_0x59cfdd(0x156)]+'\x20('+this[_0x59cfdd(0x848)]['wuid']+_0x59cfdd(0x159)+_0x361566+_0x59cfdd(0x64d)+_0x19e7cd+_0x59cfdd(0x250));}catch(_0x3c8f9e){console[_0x59cfdd(0x819)](_0x59cfdd(0x258)+_0x361566+_0x59cfdd(0x655)+_0x19e7cd+':',_0x3c8f9e);}}async[a0_0x26e249(0x3fd)](_0x3c00be,_0xf42fad){const _0x244af0=a0_0x26e249;try{await this[_0x244af0(0x39e)]['removeChatLabel'](_0xf42fad,_0x3c00be),this['logger'][_0x244af0(0x4a0)](this[_0x244af0(0x156)]+'\x20('+this[_0x244af0(0x848)][_0x244af0(0x2bd)]+_0x244af0(0x159)+_0x3c00be+'\x20removido\x20do\x20chat\x20'+_0xf42fad+_0x244af0(0x250));}catch(_0x27caaf){console[_0x244af0(0x819)](_0x244af0(0x77a)+_0x3c00be+'\x20do\x20chat\x20'+_0xf42fad+':',_0x27caaf);}}async['updateAgent'](_0x6a383b){const _0x5ab257=a0_0x26e249;try{let _0xdaff64=await this[_0x5ab257(0x1e2)][_0x5ab257(0x562)][_0x5ab257(0x6e2)](this[_0x5ab257(0x848)][_0x5ab257(0x2bd)]),_0x4b1460=_0x6a383b[_0x5ab257(0x68e)]?_0xdaff64['agents'][_0x5ab257(0x264)](_0xb521fb=>_0xb521fb['_id']===_0x6a383b[_0x5ab257(0x68e)]):-0x1;if(_0x6a383b[_0x5ab257(0x72e)]&&_0x4b1460>-0x1)_0xdaff64[_0x5ab257(0x34b)][_0x5ab257(0x839)](_0x4b1460,0x1);else{if(_0x4b1460>-0x1){let _0x5afd4b=_0xdaff64[_0x5ab257(0x34b)][_0x4b1460];_0x6a383b[_0x5ab257(0x2b2)]&&(_0x5afd4b[_0x5ab257(0x2b2)]=_0x6a383b[_0x5ab257(0x2b2)]),_0x6a383b[_0x5ab257(0x452)]&&(_0x5afd4b['name']=_0x6a383b[_0x5ab257(0x452)]),_0x6a383b[_0x5ab257(0x56c)]&&(_0x5afd4b['email']=_0x6a383b['email']),_0x6a383b[_0x5ab257(0x379)]&&(_0x5afd4b[_0x5ab257(0x379)]=_0x6a383b['role']);}else _0xdaff64[_0x5ab257(0x34b)][_0x5ab257(0x65e)]({'_id':_0x6a383b[_0x5ab257(0x68e)]||new oe[(_0x5ab257(0x6f9))]['Types'][(_0x5ab257(0x330))]()[_0x5ab257(0x76f)](),'fone':_0x6a383b['fone'],'name':_0x6a383b[_0x5ab257(0x452)],'email':_0x6a383b[_0x5ab257(0x56c)],'role':_0x6a383b['role']});}let _0x375d01={'agents':_0xdaff64[_0x5ab257(0x34b)]},_0x393d0a=await this[_0x5ab257(0x1e2)][_0x5ab257(0x562)]['update'](_0x375d01,this[_0x5ab257(0x848)][_0x5ab257(0x2bd)]);return this[_0x5ab257(0x68b)]=_0x393d0a,this[_0x5ab257(0x392)][_0x5ab257(0x57c)](this[_0x5ab257(0x156)]+'\x20('+this[_0x5ab257(0x848)][_0x5ab257(0x2bd)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x5ab257(0x392)][_0x5ab257(0x57c)](this[_0x5ab257(0x156)]+'\x20('+this[_0x5ab257(0x848)][_0x5ab257(0x2bd)]+_0x5ab257(0x69f)+this[_0x5ab257(0x68b)]),_0x393d0a;}catch(_0x3ca11a){let _0x3f7245=_0x5ab257(0x687),_0x1a5a01=_0x3ca11a instanceof Error?_0x3ca11a[_0x5ab257(0x3e1)]:typeof _0x3ca11a==_0x5ab257(0x232)?JSON[_0x5ab257(0x395)](_0x3ca11a):_0x3ca11a,_0x160550=_0x3f7245+':\x20'+_0x1a5a01;throw this[_0x5ab257(0x392)][_0x5ab257(0x819)](this[_0x5ab257(0x156)]+'\x20('+this[_0x5ab257(0x848)]['wuid']+_0x5ab257(0x69f)+_0x160550),new m(_0x160550);}}async['updateCustomFields'](_0x30208b){const _0x38ac84=a0_0x26e249;try{let _0x2dfefa=await this['repository'][_0x38ac84(0x562)]['findOrCreate'](this[_0x38ac84(0x848)]['wuid']),_0x4b1791=_0x30208b[_0x38ac84(0x68e)]?_0x2dfefa[_0x38ac84(0x552)][_0x38ac84(0x264)](_0x1333b7=>_0x1333b7[_0x38ac84(0x68e)]===_0x30208b[_0x38ac84(0x68e)]):-0x1,_0xce970c=!0x1,_0x9c8a5e=_0x2dfefa[_0x38ac84(0x552)][_0x38ac84(0x30d)](_0x3095ae=>_0x3095ae['order']===_0x30208b[_0x38ac84(0x47d)]);if(_0x30208b[_0x38ac84(0x72e)]&&_0x4b1791>-0x1)_0x2dfefa[_0x38ac84(0x552)][_0x38ac84(0x839)](_0x4b1791,0x1),_0xce970c=!0x0;else{if(_0x4b1791>-0x1){if(_0x2dfefa['customFields'][_0x38ac84(0x30d)](_0x38f917=>_0x38f917[_0x38ac84(0x452)]===_0x30208b[_0x38ac84(0x452)]&&_0x38f917[_0x38ac84(0x68e)]!==_0x30208b[_0x38ac84(0x68e)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x28483b=_0x2dfefa[_0x38ac84(0x552)][_0x4b1791];_0x30208b[_0x38ac84(0x47d)]&&(_0x9c8a5e||!Number[_0x38ac84(0x76a)](_0x30208b[_0x38ac84(0x47d)]))&&(_0x28483b['order']=_0x30208b[_0x38ac84(0x47d)],_0xce970c=!0x0),_0x30208b[_0x38ac84(0x452)]&&(_0x28483b['name']=_0x30208b[_0x38ac84(0x452)]);}else{if(_0x2dfefa[_0x38ac84(0x552)]['some'](_0x2d5acb=>_0x2d5acb[_0x38ac84(0x452)]===_0x30208b[_0x38ac84(0x452)]&&_0x2d5acb[_0x38ac84(0x68e)]!==_0x30208b[_0x38ac84(0x68e)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x2dfefa[_0x38ac84(0x552)][_0x38ac84(0x65e)]({'_id':_0x30208b[_0x38ac84(0x68e)]||new oe['default'][(_0x38ac84(0x5ae))][(_0x38ac84(0x330))]()[_0x38ac84(0x76f)](),'order':_0x30208b[_0x38ac84(0x47d)],'name':_0x30208b[_0x38ac84(0x452)]}),_0xce970c=!0x0;}}if(_0xce970c){_0x2dfefa[_0x38ac84(0x552)][_0x38ac84(0x1e4)]((_0xa2a507,_0x2648d6)=>_0xa2a507[_0x38ac84(0x47d)]>_0x2648d6[_0x38ac84(0x47d)]?0x1:_0x2648d6[_0x38ac84(0x47d)]>_0xa2a507[_0x38ac84(0x47d)]?-0x1:0x0);for(let _0x4fad16=0x0;_0x4fad16<_0x2dfefa[_0x38ac84(0x552)][_0x38ac84(0x62e)];_0x4fad16++)_0x2dfefa['customFields'][_0x4fad16]['order']=_0x4fad16+0x1;}let _0x7a5800=await this['repository'][_0x38ac84(0x562)][_0x38ac84(0x3e2)](_0x2dfefa,this[_0x38ac84(0x848)][_0x38ac84(0x2bd)]);return this[_0x38ac84(0x68b)]=_0x7a5800,this[_0x38ac84(0x392)][_0x38ac84(0x57c)](this[_0x38ac84(0x156)]+'\x20('+this[_0x38ac84(0x848)][_0x38ac84(0x2bd)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x38ac84(0x392)]['verbose'](this[_0x38ac84(0x156)]+'\x20('+this[_0x38ac84(0x848)][_0x38ac84(0x2bd)]+_0x38ac84(0x69f)+this[_0x38ac84(0x68b)]),_0x7a5800;}catch(_0x348861){let _0x49127a=_0x38ac84(0x204),_0x239e47=_0x348861 instanceof Error?_0x348861[_0x38ac84(0x3e1)]:typeof _0x348861==_0x38ac84(0x232)?JSON[_0x38ac84(0x395)](_0x348861):_0x348861,_0x1b4c46=_0x49127a+':\x20'+_0x239e47;throw this[_0x38ac84(0x392)][_0x38ac84(0x819)](this[_0x38ac84(0x156)]+'\x20('+this['instance'][_0x38ac84(0x2bd)]+_0x38ac84(0x69f)+_0x1b4c46),new m(_0x1b4c46);}}async['updateAutoCompleteMessages'](_0x543886){const _0x13e5b7=a0_0x26e249;try{let _0x3847ba=await this['repository'][_0x13e5b7(0x562)][_0x13e5b7(0x6e2)](this[_0x13e5b7(0x848)][_0x13e5b7(0x2bd)]),_0x15f458=_0x3847ba?.[_0x13e5b7(0x16a)]?.['findIndex'](_0x58b011=>_0x58b011[_0x13e5b7(0x68e)]===_0x543886?.['_id']);if(_0x543886?.[_0x13e5b7(0x72e)])_0x15f458>-0x1&&_0x3847ba?.[_0x13e5b7(0x16a)]?.[_0x13e5b7(0x839)](_0x15f458,0x1);else{if(_0x15f458>-0x1){let _0x24d760=_0x3847ba[_0x13e5b7(0x16a)][_0x15f458];_0x24d760[_0x13e5b7(0x47d)]=_0x543886?.[_0x13e5b7(0x47d)]||_0x24d760[_0x13e5b7(0x47d)],_0x24d760[_0x13e5b7(0x161)]=_0x543886?.['command']||_0x24d760[_0x13e5b7(0x161)],_0x24d760['message']=_0x543886?.[_0x13e5b7(0x3e1)]||_0x24d760[_0x13e5b7(0x3e1)];}else{let _0x40614e={'_id':_0x543886?.[_0x13e5b7(0x68e)]||new oe[(_0x13e5b7(0x6f9))]['Types'][(_0x13e5b7(0x330))]()[_0x13e5b7(0x76f)](),'order':_0x543886?.[_0x13e5b7(0x47d)],'command':_0x543886?.[_0x13e5b7(0x161)],'message':_0x543886?.[_0x13e5b7(0x3e1)]};_0x3847ba?.[_0x13e5b7(0x16a)]?.[_0x13e5b7(0x65e)](_0x40614e);}}_0x3847ba?.[_0x13e5b7(0x16a)]?.[_0x13e5b7(0x1e4)]((_0xe851d0,_0xe15773)=>_0xe851d0['order']-_0xe15773['order']);let _0x4b1b24=await this[_0x13e5b7(0x1e2)][_0x13e5b7(0x562)][_0x13e5b7(0x3e2)](_0x3847ba,this[_0x13e5b7(0x848)][_0x13e5b7(0x2bd)]);return this[_0x13e5b7(0x68b)]=_0x4b1b24,this[_0x13e5b7(0x392)][_0x13e5b7(0x57c)](this[_0x13e5b7(0x156)]+'\x20('+this[_0x13e5b7(0x848)]['wuid']+'):\x20debug\x20alterando\x20this.AutomateSystem'),_0x4b1b24;}catch(_0x1f355a){let _0x2c8de3=_0x13e5b7(0x80e),_0x450c9f=_0x1f355a instanceof Error?_0x1f355a[_0x13e5b7(0x3e1)]:typeof _0x1f355a==_0x13e5b7(0x232)?JSON['stringify'](_0x1f355a):_0x1f355a,_0x2a04e2=_0x2c8de3+':\x20'+_0x450c9f;throw this[_0x13e5b7(0x392)][_0x13e5b7(0x819)](this[_0x13e5b7(0x156)]+'\x20('+this[_0x13e5b7(0x848)][_0x13e5b7(0x2bd)]+_0x13e5b7(0x69f)+_0x2a04e2),new m(_0x2a04e2);}}async['updateFlowConfig'](_0x5c46f9){const _0x41c6a8=a0_0x26e249;try{let _0x5427dc=await this[_0x41c6a8(0x1e2)][_0x41c6a8(0x562)][_0x41c6a8(0x6e2)](this[_0x41c6a8(0x848)][_0x41c6a8(0x2bd)]);if(!_0x5427dc)throw new Error('Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.');let _0x201467={'_id':_0x5427dc[_0x41c6a8(0x68e)],'flowConfig':{'enabled':_0x5c46f9[_0x41c6a8(0x46e)]??_0x5427dc[_0x41c6a8(0x6b9)][_0x41c6a8(0x46e)],'ignoreGroups':_0x5c46f9[_0x41c6a8(0x181)]??_0x5427dc[_0x41c6a8(0x6b9)][_0x41c6a8(0x181)],'prefixCommand':_0x5c46f9[_0x41c6a8(0x3a3)]??_0x5427dc[_0x41c6a8(0x6b9)][_0x41c6a8(0x3a3)],'stopConversation':_0x5c46f9[_0x41c6a8(0x787)]??_0x5427dc['flowConfig']['stopConversation'],'stopMinutes':_0x5c46f9[_0x41c6a8(0x536)]??_0x5427dc['flowConfig'][_0x41c6a8(0x536)],'stopWhenYouSendMsg':_0x5c46f9[_0x41c6a8(0x1a8)]??_0x5427dc[_0x41c6a8(0x6b9)]['stopWhenYouSendMsg']}},_0xda680c=await this[_0x41c6a8(0x1e2)]['automateSystem'][_0x41c6a8(0x3e2)](_0x201467,this[_0x41c6a8(0x848)][_0x41c6a8(0x2bd)]);return this[_0x41c6a8(0x68b)]=_0xda680c,this[_0x41c6a8(0x392)]['verbose'](this[_0x41c6a8(0x156)]+'\x20('+this['instance']['wuid']+_0x41c6a8(0x45f)),this['logger'][_0x41c6a8(0x57c)](this[_0x41c6a8(0x156)]+'\x20('+this['instance'][_0x41c6a8(0x2bd)]+_0x41c6a8(0x69f)+this[_0x41c6a8(0x68b)]),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0xda680c;}catch(_0x5b1726){let _0x37781d='Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos',_0x355135=_0x5b1726 instanceof Error?_0x5b1726[_0x41c6a8(0x3e1)]:typeof _0x5b1726==_0x41c6a8(0x232)?JSON[_0x41c6a8(0x395)](_0x5b1726):_0x5b1726,_0x3e70b1=_0x37781d+':\x20'+_0x355135;throw this[_0x41c6a8(0x392)][_0x41c6a8(0x819)](this[_0x41c6a8(0x156)]+'\x20('+this[_0x41c6a8(0x848)][_0x41c6a8(0x2bd)]+_0x41c6a8(0x69f)+_0x3e70b1),new m(_0x3e70b1);}}async[a0_0x26e249(0x53c)](){const _0x534c5f=a0_0x26e249;try{let _0x42931e=await this['repository'][_0x534c5f(0x562)]['findOrCreate'](this[_0x534c5f(0x848)][_0x534c5f(0x2bd)]);return this['AutomateSystem']=_0x42931e,this[_0x534c5f(0x392)]['verbose'](this[_0x534c5f(0x156)]+'\x20('+this['instance'][_0x534c5f(0x2bd)]+'):\x20Visualizando\x20AutomateSystem'),this[_0x534c5f(0x392)][_0x534c5f(0x57c)](this[_0x534c5f(0x68b)]),_0x42931e;}catch(_0x1116c5){let _0x547115=_0x534c5f(0x5ea),_0x43c7aa=_0x1116c5 instanceof Error?_0x1116c5[_0x534c5f(0x3e1)]:typeof _0x1116c5=='object'?JSON[_0x534c5f(0x395)](_0x1116c5):_0x1116c5,_0x1d9707=_0x547115+':\x20'+_0x43c7aa;throw this[_0x534c5f(0x392)][_0x534c5f(0x819)](this[_0x534c5f(0x156)]+'\x20('+this[_0x534c5f(0x848)][_0x534c5f(0x2bd)]+_0x534c5f(0x69f)+_0x1d9707),new m(_0x1d9707);}}async[a0_0x26e249(0x502)](){const _0x41393c=a0_0x26e249;this['instance'][_0x41393c(0x17f)][_0x41393c(0x4c8)]&&clearTimeout(this[_0x41393c(0x848)]['ScheduleMessage'][_0x41393c(0x4c8)]),this[_0x41393c(0x848)][_0x41393c(0x17f)][_0x41393c(0x4c8)]=setTimeout(()=>{const _0x5f0481=_0x41393c;this[_0x5f0481(0x290)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x26e249(0x290)](){const _0x3ba2e2=a0_0x26e249;Date[_0x3ba2e2(0x80b)]()-this[_0x3ba2e2(0x848)][_0x3ba2e2(0x17f)][_0x3ba2e2(0x524)]>=0x1d4c0&&(this[_0x3ba2e2(0x392)]['verbose'](this[_0x3ba2e2(0x156)]+'\x20('+this[_0x3ba2e2(0x848)][_0x3ba2e2(0x2bd)]+_0x3ba2e2(0x5f4)),this['instance'][_0x3ba2e2(0x17f)]['processing_id']=null,this[_0x3ba2e2(0x848)][_0x3ba2e2(0x17f)][_0x3ba2e2(0x524)]=0x0,this[_0x3ba2e2(0x848)][_0x3ba2e2(0x17f)]['delayMessage']=0x0,await this[_0x3ba2e2(0x5ed)]());}async[a0_0x26e249(0x5ed)](){const _0x19b2a3=a0_0x26e249;let _0x37083f=()=>{const _0x599cbb=a0_0x3705;this[_0x599cbb(0x392)][_0x599cbb(0x57c)](this['instanceName']+'\x20('+this[_0x599cbb(0x848)][_0x599cbb(0x2bd)]+_0x599cbb(0x31d)+this[_0x599cbb(0x848)][_0x599cbb(0x17f)][_0x599cbb(0x6c9)]+_0x599cbb(0x6aa));},_0xfa9eb0=async()=>{const _0x47f600=a0_0x3705;this[_0x47f600(0x392)][_0x47f600(0x57c)](this['instanceName']+'\x20('+this['instance'][_0x47f600(0x2bd)]+_0x47f600(0x1b3));let _0x15a578=Date[_0x47f600(0x80b)]()-0xc*0x3c*0x3c*0x3e8,_0xc73a70={'where':{'status':{'$in':[_0x47f600(0x22f),'sending']},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x15a578}},{'when':0x0}]}};return await this[_0x47f600(0x1e2)][_0x47f600(0x466)][_0x47f600(0x288)](_0xc73a70,this['instance']['wuid']);},_0x5e2894=async _0x249211=>{const _0x24150a=a0_0x3705;for(let _0x489f8e of _0x249211){let _0x5ce667={'_id':_0x489f8e['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x24150a(0x80b)]()-0x1770}}]},_0x45766f={'startSend':Date[_0x24150a(0x80b)]()};if(!await this[_0x24150a(0x1e2)][_0x24150a(0x466)]['updateOne'](_0x5ce667,_0x45766f,this[_0x24150a(0x848)][_0x24150a(0x2bd)]))return;if(!this['instance'][_0x24150a(0x17f)][_0x24150a(0x2a2)]){this[_0x24150a(0x392)][_0x24150a(0x57c)](this[_0x24150a(0x156)]+'\x20('+this[_0x24150a(0x848)]['wuid']+_0x24150a(0x67e));break;}if(_0x489f8e[_0x24150a(0x599)]===_0x24150a(0x394)&&!this[_0x24150a(0x68b)]?.['flowConfig'][_0x24150a(0x46e)]){this['logger']['error'](this[_0x24150a(0x156)]+'\x20('+this['instance'][_0x24150a(0x2bd)]+_0x24150a(0x31b));continue;}(!_0x489f8e[_0x24150a(0x314)]||_0x489f8e[_0x24150a(0x314)][_0x24150a(0x62e)]===0x0)&&(_0x489f8e=await this['repository'][_0x24150a(0x466)]['updateOneById'](_0x489f8e['_id'],{'status':_0x24150a(0x435),'remoteJidsRemaining':[..._0x489f8e['remoteJids']]},this[_0x24150a(0x848)][_0x24150a(0x2bd)]));for(let _0x4f3d59 of _0x489f8e['remoteJidsRemaining']){if(await this[_0x24150a(0x502)](),this[_0x24150a(0x848)][_0x24150a(0x17f)][_0x24150a(0x524)]=Date['now'](),this['instance'][_0x24150a(0x17f)][_0x24150a(0x366)]===_0x4f3d59){this['logger'][_0x24150a(0x819)](this[_0x24150a(0x156)]+'\x20('+this[_0x24150a(0x848)][_0x24150a(0x2bd)]+_0x24150a(0x33d)+_0x4f3d59+_0x24150a(0x47a));let _0x3068e1={'$push':{'messagesSend':{'remoteJid':_0x4f3d59,'error':!0x0,'id':null,'error_log':_0x24150a(0x2f4),'log_timestamp':Date['now']()}},'$pull':{'remoteJidsRemaining':_0x4f3d59}};await this[_0x24150a(0x1e2)][_0x24150a(0x466)][_0x24150a(0x816)](_0x489f8e[_0x24150a(0x68e)],_0x3068e1,this[_0x24150a(0x848)][_0x24150a(0x2bd)]);continue;}if(this[_0x24150a(0x848)][_0x24150a(0x17f)]['ultimaTentativaRemoteJid']=_0x4f3d59,_0x489f8e[_0x24150a(0x277)]['some'](_0x475fdd=>_0x475fdd[_0x24150a(0x1e8)]===_0x4f3d59)){this[_0x24150a(0x392)][_0x24150a(0x57c)](this['instanceName']+'\x20('+this[_0x24150a(0x848)][_0x24150a(0x2bd)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x4f3d59+_0x24150a(0x84a));continue;}if(!this[_0x24150a(0x848)][_0x24150a(0x17f)][_0x24150a(0x2a2)]){this[_0x24150a(0x392)][_0x24150a(0x57c)](this['instanceName']+'\x20('+this[_0x24150a(0x848)][_0x24150a(0x2bd)]+_0x24150a(0x48e));break;}if(!this[_0x24150a(0x848)][_0x24150a(0x17f)]['processing_id']){this['logger'][_0x24150a(0x57c)](this['instanceName']+'\x20('+this[_0x24150a(0x848)][_0x24150a(0x2bd)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x489f8e[_0x24150a(0x68e)]+_0x24150a(0x2f5));break;}if(_0x489f8e['type']===_0x24150a(0x394)&&!this[_0x24150a(0x68b)]?.[_0x24150a(0x6b9)][_0x24150a(0x46e)]){this[_0x24150a(0x392)][_0x24150a(0x819)](this['instanceName']+'\x20('+this[_0x24150a(0x848)][_0x24150a(0x2bd)]+_0x24150a(0x31b));break;}let _0x48e75b={'remoteJid':_0x4f3d59,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0xf683d4=null;try{let _0x31b0b2=await this[_0x24150a(0x6ec)](_0x4f3d59,_0x489f8e);_0x48e75b['error']=_0x31b0b2[_0x24150a(0x819)],_0x48e75b['id']=_0x31b0b2[_0x24150a(0x819)]?null:_0x31b0b2['id'],_0x48e75b[_0x24150a(0x6fd)]=_0x31b0b2['error']?_0x31b0b2[_0x24150a(0x813)]?_0x31b0b2[_0x24150a(0x813)][_0x24150a(0x76f)]():'':null;let _0x535290={'$push':{'messagesSend':_0x48e75b},'$pull':{'remoteJidsRemaining':_0x4f3d59}},_0x58ef52=_0x489f8e[_0x24150a(0x68e)];if(_0xf683d4=await this[_0x24150a(0x1e2)][_0x24150a(0x466)][_0x24150a(0x816)](_0x58ef52,_0x535290,this[_0x24150a(0x848)]['wuid']),_0x31b0b2['error'])continue;let _0x1db1b7=this[_0x24150a(0x6d4)](_0x489f8e[_0x24150a(0x809)],_0x489f8e[_0x24150a(0x3d4)]);await this[_0x24150a(0x2ec)](_0x1db1b7);}catch(_0x5827e6){this['logger'][_0x24150a(0x819)](this[_0x24150a(0x156)]+'\x20('+this[_0x24150a(0x848)][_0x24150a(0x2bd)]+_0x24150a(0x764)+_0x4f3d59+':\x20'+(_0x5827e6 instanceof Error?_0x5827e6['message']:JSON[_0x24150a(0x395)](_0x5827e6,null,0x2))),_0x48e75b['error']=!0x0,_0x48e75b[_0x24150a(0x6fd)]=_0x5827e6[_0x24150a(0x3e1)];let _0x487b41={'$push':{'messagesSend':_0x48e75b},'$pull':{'remoteJidsRemaining':_0x4f3d59}},_0x498b02=_0x489f8e['_id'];_0xf683d4=await this[_0x24150a(0x1e2)][_0x24150a(0x466)][_0x24150a(0x816)](_0x498b02,_0x487b41,this['instance'][_0x24150a(0x2bd)]);}finally{if(_0xf683d4&&_0xf683d4['status']===_0x24150a(0x370)){this['logger'][_0x24150a(0x57c)](this[_0x24150a(0x156)]+'\x20('+this[_0x24150a(0x848)][_0x24150a(0x2bd)]+_0x24150a(0x18b)+_0x489f8e[_0x24150a(0x68e)]+_0x24150a(0x5db));break;}}}let _0x50d4e4=await this[_0x24150a(0x1e2)][_0x24150a(0x466)][_0x24150a(0x1d7)](_0x489f8e['_id'],this['instance'][_0x24150a(0x2bd)]);if(_0x50d4e4[_0x24150a(0x314)][_0x24150a(0x62e)]===0x0&&_0x50d4e4[_0x24150a(0x228)]!==_0x24150a(0x370)){this['instance']['ScheduleMessage']['ultimaTentativaRemoteJid']=null;let _0x138bbf={'$set':{'status':'done'}},_0x387f2f=_0x50d4e4['_id'];await this[_0x24150a(0x1e2)][_0x24150a(0x466)][_0x24150a(0x816)](_0x387f2f,_0x138bbf,this[_0x24150a(0x848)][_0x24150a(0x2bd)]);}await new Promise(_0x30e3a8=>setTimeout(_0x30e3a8,0x1388));}},_0x2e99b8=async()=>{const _0x327c28=a0_0x3705;let _0x2a6353={'where':{'status':'scheduled','when':{'$gt':Date[_0x327c28(0x80b)]()}}},_0x2d3dad=await this[_0x327c28(0x1e2)][_0x327c28(0x466)][_0x327c28(0x49c)](_0x2a6353,this['instance'][_0x327c28(0x2bd)]);_0x2d3dad&&_0x2d3dad[_0x327c28(0x6cf)]-Date[_0x327c28(0x80b)]()<=0x5265c00?this['instance']['ScheduleMessage'][_0x327c28(0x26e)]=_0x2d3dad[_0x327c28(0x6cf)]-Date['now']():this[_0x327c28(0x848)][_0x327c28(0x17f)][_0x327c28(0x26e)]=(0x3c+Math['floor'](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x327c28(0x848)][_0x327c28(0x17f)][_0x327c28(0x26e)]=Math[_0x327c28(0x236)](this[_0x327c28(0x848)][_0x327c28(0x17f)]['delayMessage'],0x7d0);let _0x2a9368=Math['round'](this[_0x327c28(0x848)][_0x327c28(0x17f)][_0x327c28(0x26e)]/0xea60);if(_0x2d3dad){let _0x2c1bce=new Date(_0x2d3dad['when'])[_0x327c28(0x3b9)]();this[_0x327c28(0x392)][_0x327c28(0x57c)](this[_0x327c28(0x156)]+'\x20('+this['instance']['wuid']+_0x327c28(0x6a2)+_0x2c1bce+_0x327c28(0x800)+_0x2a9368+_0x327c28(0x19e));}else this['logger'][_0x327c28(0x57c)](this[_0x327c28(0x156)]+'\x20('+this[_0x327c28(0x848)]['wuid']+_0x327c28(0x3e6)+_0x2a9368+'\x20minutos');setTimeout(()=>this[_0x327c28(0x5ed)](),this['instance'][_0x327c28(0x17f)][_0x327c28(0x26e)]);};if(this[_0x19b2a3(0x848)][_0x19b2a3(0x17f)][_0x19b2a3(0x6c9)]){await this['setRestartTimeout'](),_0x37083f();return;}if(!this[_0x19b2a3(0x848)][_0x19b2a3(0x17f)][_0x19b2a3(0x2a2)]){this[_0x19b2a3(0x392)]['verbose'](this['instanceName']+'\x20('+this[_0x19b2a3(0x848)][_0x19b2a3(0x2bd)]+_0x19b2a3(0x7e8)),this[_0x19b2a3(0x848)][_0x19b2a3(0x17f)]['processing_id']=null,this['instance'][_0x19b2a3(0x17f)][_0x19b2a3(0x524)]=0x0,this[_0x19b2a3(0x848)][_0x19b2a3(0x17f)]['delayMessage']=0x0,this['instance'][_0x19b2a3(0x17f)][_0x19b2a3(0x366)]=null;return;}try{let _0x3cd5a0=await _0xfa9eb0();_0x3cd5a0[_0x19b2a3(0x62e)]===0x0?this[_0x19b2a3(0x392)]['verbose'](this['instanceName']+'\x20('+this[_0x19b2a3(0x848)][_0x19b2a3(0x2bd)]+_0x19b2a3(0x1f6)):(this['instance'][_0x19b2a3(0x17f)][_0x19b2a3(0x6c9)]=_0x3cd5a0[0x0][_0x19b2a3(0x68e)],await _0x5e2894(_0x3cd5a0)),await _0x2e99b8(),this[_0x19b2a3(0x848)]['ScheduleMessage'][_0x19b2a3(0x6c9)]=null,this[_0x19b2a3(0x848)][_0x19b2a3(0x17f)][_0x19b2a3(0x366)]=null;}catch(_0x20bf51){this[_0x19b2a3(0x392)][_0x19b2a3(0x819)](_0x19b2a3(0x2d7)+(_0x20bf51 instanceof Error?_0x20bf51['message']:JSON['stringify'](_0x20bf51,null,0x2)));}}[a0_0x26e249(0x6d4)](_0x52bce4,_0x10151a){const _0x13f82a=a0_0x26e249;return _0x52bce4=Math['max'](0.5,_0x52bce4),_0x10151a=Math[_0x13f82a(0x78d)](Math[_0x13f82a(0x236)](0x3,_0x10151a),0x78),Math[_0x13f82a(0x465)](Math[_0x13f82a(0x517)]()*(_0x10151a-_0x52bce4+0x1)+_0x52bce4)*0x3e8;}[a0_0x26e249(0x2ec)](_0x46b761){return new Promise(_0x527c72=>setTimeout(_0x527c72,_0x46b761));}async[a0_0x26e249(0x60a)](_0x1ed002){const _0x116715=a0_0x26e249;if(!this[_0x116715(0x68b)]&&(await this[_0x116715(0x53c)](),!this[_0x116715(0x68b)]))return null;_0x1ed002=this[_0x116715(0x49f)](_0x1ed002);let _0x2fad96=await this['repository'][_0x116715(0x3b6)][_0x116715(0x49c)]({'where':{'_id':_0x1ed002}},this[_0x116715(0x848)][_0x116715(0x2bd)]),_0x1fff6e={};if(_0x2fad96&&_0x2fad96[_0x116715(0x484)]){let _0x6564b9=_0x2fad96[_0x116715(0x484)];typeof _0x6564b9['nome']==_0x116715(0x681)&&(_0x1fff6e[_0x116715(0x22e)]=_0x6564b9[_0x116715(0x22e)]),typeof _0x6564b9['nomecompleto']==_0x116715(0x681)&&(_0x1fff6e[_0x116715(0x4ef)]=_0x6564b9[_0x116715(0x4ef)]),typeof _0x6564b9[_0x116715(0x56c)]=='string'&&(_0x1fff6e[_0x116715(0x56c)]=_0x6564b9[_0x116715(0x56c)]),typeof _0x6564b9['cpf']==_0x116715(0x681)&&(_0x1fff6e[_0x116715(0x721)]=_0x6564b9[_0x116715(0x721)]),typeof _0x6564b9['status']==_0x116715(0x681)&&(_0x1fff6e[_0x116715(0x228)]=_0x6564b9[_0x116715(0x228)]),typeof _0x6564b9[_0x116715(0x6e7)]==_0x116715(0x681)&&(_0x1fff6e[_0x116715(0x6e7)]=_0x6564b9['notas']),typeof _0x6564b9[_0x116715(0x265)]==_0x116715(0x681)&&(_0x1fff6e[_0x116715(0x265)]=_0x6564b9['responsavelid']),Array[_0x116715(0x304)](_0x6564b9[_0x116715(0x3f1)])&&(_0x1fff6e['tags']=_0x6564b9[_0x116715(0x3f1)][_0x116715(0x619)](',\x20')),Array[_0x116715(0x304)](_0x6564b9['etiquetas'])&&(_0x1fff6e['etiquetas']=_0x6564b9['etiquetas'][_0x116715(0x619)](',\x20'));}return _0x2fad96&&_0x2fad96[_0x116715(0x484)]&&_0x2fad96[_0x116715(0x484)][_0x116715(0x552)]&&_0x2fad96[_0x116715(0x484)]['customFields'][_0x116715(0x522)](_0x350093=>{const _0x1a9570=_0x116715;let _0x22b033=this[_0x1a9570(0x68b)]?.[_0x1a9570(0x552)]['find'](_0x2c0be0=>_0x2c0be0[_0x1a9570(0x68e)]===_0x350093[_0x1a9570(0x68e)]);_0x22b033&&(_0x1fff6e[_0x22b033[_0x1a9570(0x452)]]=_0x350093[_0x1a9570(0x298)]);}),_0x1fff6e;}async[a0_0x26e249(0x468)](_0x356e25,_0x37f322){const _0x28ed0c=a0_0x26e249;try{let _0xc8962=await this[_0x28ed0c(0x60a)](_0x37f322);return this[_0x28ed0c(0x3bb)](_0x356e25,_0xc8962);}catch(_0x3b79bc){return this['logger'][_0x28ed0c(0x819)](_0x28ed0c(0x327)+_0x37f322+':\x20'+_0x3b79bc),_0x356e25;}}async[a0_0x26e249(0x614)](_0x2950b3){const _0x40f5a8=a0_0x26e249;try{if(this[_0x40f5a8(0x392)][_0x40f5a8(0x57c)](this[_0x40f5a8(0x156)]+'\x20('+this[_0x40f5a8(0x848)]['wuid']+_0x40f5a8(0x333)),_0x2950b3[_0x40f5a8(0x72e)]&&_0x2950b3['_id']){if(this[_0x40f5a8(0x848)][_0x40f5a8(0x17f)][_0x40f5a8(0x6c9)]===_0x2950b3[_0x40f5a8(0x68e)][_0x40f5a8(0x76f)]())throw new Error(_0x40f5a8(0x3ee));let _0x47cc41=await this[_0x40f5a8(0x1e2)]['scheduleMessage'][_0x40f5a8(0x409)](_0x2950b3[_0x40f5a8(0x68e)],this[_0x40f5a8(0x848)][_0x40f5a8(0x2bd)]);return setTimeout(()=>this[_0x40f5a8(0x5ed)](),0x7d0),_0x47cc41;}let _0x51f2a1;if(_0x2950b3['_id']&&(_0x51f2a1=await this['repository'][_0x40f5a8(0x466)][_0x40f5a8(0x1d7)](_0x2950b3[_0x40f5a8(0x68e)],this[_0x40f5a8(0x848)][_0x40f5a8(0x2bd)])),_0x51f2a1){let _0x35f688;if(this[_0x40f5a8(0x848)][_0x40f5a8(0x17f)]['processing_id']===_0x51f2a1['_id'][_0x40f5a8(0x76f)]())_0x35f688={'$set':{'status':_0x2950b3[_0x40f5a8(0x228)]}};else{let {_id:_0x242be0,..._0xdc0e63}=_0x2950b3;_0x35f688={'$set':_0xdc0e63};}let _0x3944f5=await this[_0x40f5a8(0x1e2)]['scheduleMessage']['updateOneById'](_0x2950b3['_id'],_0x35f688,this[_0x40f5a8(0x848)]['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x3944f5;}else{_0x2950b3['owner']=this[_0x40f5a8(0x848)][_0x40f5a8(0x2bd)];let _0x3cfb85=await this[_0x40f5a8(0x1e2)][_0x40f5a8(0x466)][_0x40f5a8(0x5fa)](_0x2950b3,this['instance'][_0x40f5a8(0x2bd)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x3cfb85;}}catch(_0xf7f05a){let _0x565ecf=_0x40f5a8(0x751),_0x408720=_0xf7f05a instanceof Error?_0xf7f05a[_0x40f5a8(0x3e1)]:typeof _0xf7f05a==_0x40f5a8(0x232)?JSON[_0x40f5a8(0x395)](_0xf7f05a):_0xf7f05a,_0xfc8f70=_0x565ecf+':\x20'+_0x408720;throw this[_0x40f5a8(0x392)][_0x40f5a8(0x819)](this[_0x40f5a8(0x156)]+'\x20('+this[_0x40f5a8(0x848)][_0x40f5a8(0x2bd)]+_0x40f5a8(0x69f)+_0xfc8f70),new m(_0xfc8f70);}}async[a0_0x26e249(0x612)](){const _0x565bce=a0_0x26e249;try{return await this[_0x565bce(0x1e2)][_0x565bce(0x466)][_0x565bce(0x288)]({'where':{}},this[_0x565bce(0x848)][_0x565bce(0x2bd)]);}catch(_0x317fcd){let _0x8d6830='Erro\x20ao\x20buscar\x20Schedule\x20Messages',_0x3c203f=_0x317fcd instanceof Error?_0x317fcd[_0x565bce(0x3e1)]:typeof _0x317fcd==_0x565bce(0x232)?JSON[_0x565bce(0x395)](_0x317fcd):_0x317fcd,_0x15a90d=_0x8d6830+':\x20'+_0x3c203f;throw this['logger'][_0x565bce(0x819)](this[_0x565bce(0x156)]+'\x20('+this['instance'][_0x565bce(0x2bd)]+_0x565bce(0x69f)+_0x15a90d),new m(_0x15a90d);}}async['deleteDoneMessages'](){const _0x3b76c5=a0_0x26e249;try{let _0x3b0861={'status':_0x3b76c5(0x71d)},_0xb2e5=await this[_0x3b76c5(0x1e2)][_0x3b76c5(0x466)][_0x3b76c5(0x615)](_0x3b0861,this[_0x3b76c5(0x848)][_0x3b76c5(0x2bd)]);if(!_0xb2e5[_0x3b76c5(0x819)])this['logger'][_0x3b76c5(0x57c)](this['instanceName']+'\x20('+this['instance'][_0x3b76c5(0x2bd)]+_0x3b76c5(0x17d));else throw new Error(_0xb2e5['error'][_0x3b76c5(0x3e1)]||'Erro\x20desconhecido\x20ao\x20deletar\x20mensagens');return this[_0x3b76c5(0x612)]();}catch(_0x3f2ccf){let _0x3836e2=_0x3b76c5(0x4e1),_0x1e4fd7=_0x3f2ccf instanceof Error?_0x3f2ccf[_0x3b76c5(0x3e1)]:typeof _0x3f2ccf==_0x3b76c5(0x232)?JSON[_0x3b76c5(0x395)](_0x3f2ccf):_0x3f2ccf,_0x3f5373=_0x3836e2+':\x20'+_0x1e4fd7;throw this[_0x3b76c5(0x392)][_0x3b76c5(0x819)](this['instanceName']+'\x20('+this[_0x3b76c5(0x848)]['wuid']+_0x3b76c5(0x69f)+_0x3f5373),new m(_0x3f5373);}}async['SendScheduleMessage'](_0x4992be,_0x4e9c02){const _0x475caf=a0_0x26e249;try{if(_0x4e9c02[_0x475caf(0x599)]==='flow'&&!this[_0x475caf(0x68b)]?.['flowConfig'][_0x475caf(0x46e)])return this[_0x475caf(0x392)]['error'](this[_0x475caf(0x156)]+'\x20('+this[_0x475caf(0x848)][_0x475caf(0x2bd)]+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':_0x475caf(0x192)};switch(_0x4e9c02[_0x475caf(0x599)]){case _0x475caf(0x346):return await this[_0x475caf(0x600)](_0x4e9c02,_0x4992be);case _0x475caf(0x4f2):return await this[_0x475caf(0x59a)](_0x4e9c02,_0x4992be);case _0x475caf(0x2f0):return await this[_0x475caf(0x649)](_0x4e9c02,_0x4992be);case _0x475caf(0x394):let _0x4f5f07=new qe();return _0x4f5f07[_0x475caf(0x452)]=_0x4e9c02['flowName'],_0x4f5f07[_0x475caf(0x1e8)]=_0x4992be,await this[_0x475caf(0x26a)](_0x4f5f07);break;default:return this[_0x475caf(0x392)][_0x475caf(0x819)](this[_0x475caf(0x156)]+'\x20('+this[_0x475caf(0x848)][_0x475caf(0x2bd)]+_0x475caf(0x6b7)+_0x4e9c02[_0x475caf(0x599)]),{'error':!0x0,'detail':_0x475caf(0x795)};}}catch(_0x201352){return this[_0x475caf(0x392)][_0x475caf(0x819)](this[_0x475caf(0x156)]+'\x20('+this['instance'][_0x475caf(0x2bd)]+_0x475caf(0x2d0)+(_0x201352 instanceof Error?_0x201352[_0x475caf(0x3e1)]:JSON[_0x475caf(0x395)](_0x201352,null,0x2))),{'error':!0x0,'detail':_0x201352[_0x475caf(0x3e1)]};}}[a0_0x26e249(0x1f1)](_0x554d72){const _0x51a58e=a0_0x26e249;let _0x33af00=_0x554d72[_0x51a58e(0x510)]('|'),_0x29e699=Math[_0x51a58e(0x465)](Math[_0x51a58e(0x517)]()*_0x33af00[_0x51a58e(0x62e)]);return _0x33af00[_0x29e699]['trim']();}async[a0_0x26e249(0x600)](_0x3899f7,_0x5a6b4e){const _0x31e17a=a0_0x26e249;if(this[_0x31e17a(0x392)][_0x31e17a(0x57c)](this[_0x31e17a(0x156)]+'\x20('+this[_0x31e17a(0x848)]['wuid']+_0x31e17a(0x26b)),!_0x3899f7[_0x31e17a(0x3e1)][_0x31e17a(0x346)]||_0x3899f7[_0x31e17a(0x3e1)][_0x31e17a(0x346)][_0x31e17a(0x62e)]===0x0)return{'error':!0x0,'detail':_0x31e17a(0x45b)};let _0x5a44ff=this[_0x31e17a(0x1f1)](_0x3899f7[_0x31e17a(0x3e1)][_0x31e17a(0x346)]),_0x33139b=await this[_0x31e17a(0x468)](_0x5a44ff,_0x5a6b4e),_0x46426d={'number':_0x5a6b4e,'options':{'delay':_0x3899f7[_0x31e17a(0x3e1)]['delay'],'linkPreview':_0x3899f7[_0x31e17a(0x3e1)]['linkPreview']},'textMessage':{'text':_0x33139b}},_0x12ea64=null;try{let _0x4635fd=await this['textMessage'](_0x46426d);if(_0x4635fd&&_0x4635fd[_0x31e17a(0x228)])return{'error':!0x1,'id':_0x4635fd[_0x31e17a(0x7dd)]['id']};_0x12ea64=JSON[_0x31e17a(0x395)](_0x4635fd),this[_0x31e17a(0x392)][_0x31e17a(0x57c)](this['instanceName']+'\x20('+this[_0x31e17a(0x848)][_0x31e17a(0x2bd)]+_0x31e17a(0x69f)+_0x12ea64);}catch(_0x17187e){this['logger'][_0x31e17a(0x819)](this[_0x31e17a(0x156)]+'\x20('+this[_0x31e17a(0x848)][_0x31e17a(0x2bd)]+_0x31e17a(0x47f)+(_0x17187e instanceof Error?_0x17187e[_0x31e17a(0x3e1)]:JSON['stringify'](_0x17187e,null,0x2))),_0x12ea64=_0x17187e['message'];}if(_0x12ea64)return{'error':!0x0,'detail':(typeof _0x12ea64=='object'?JSON[_0x31e17a(0x395)](_0x12ea64,null,0x2):_0x12ea64)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x26e249(0x59a)](_0x4ae981,_0x341c62){const _0x16400f=a0_0x26e249;this['logger'][_0x16400f(0x57c)](this[_0x16400f(0x156)]+'\x20('+this[_0x16400f(0x848)]['wuid']+_0x16400f(0x6f8));let _0x95f3b8;if(_0x4ae981[_0x16400f(0x3e1)][_0x16400f(0x346)]&&_0x4ae981[_0x16400f(0x3e1)][_0x16400f(0x346)][_0x16400f(0x62e)]>0x0){let _0xc7cdd=this[_0x16400f(0x1f1)](_0x4ae981['message'][_0x16400f(0x346)]);_0x95f3b8=await this[_0x16400f(0x468)](_0xc7cdd,_0x341c62);}let _0x24f818={'number':_0x341c62,'options':{'delay':_0x4ae981['message']['delay'],'linkPreview':_0x4ae981[_0x16400f(0x3e1)][_0x16400f(0x62c)]},'mediaMessage':{'mediatype':_0x4ae981['message']['mediatype'],'caption':_0x95f3b8,'media':_0x4ae981[_0x16400f(0x3e1)][_0x16400f(0x506)]}},_0x4e3fb7=null;try{let _0x5a6003=await this[_0x16400f(0x48c)](_0x24f818);if(_0x5a6003&&_0x5a6003['status'])return{'error':!0x1,'id':_0x5a6003[_0x16400f(0x7dd)]['id']};_0x4e3fb7=JSON[_0x16400f(0x395)](_0x5a6003),this[_0x16400f(0x392)][_0x16400f(0x57c)](this['instanceName']+'\x20('+this[_0x16400f(0x848)][_0x16400f(0x2bd)]+_0x16400f(0x69f)+_0x4e3fb7);}catch(_0x5a73d1){this['logger'][_0x16400f(0x819)](this[_0x16400f(0x156)]+'\x20('+this[_0x16400f(0x848)][_0x16400f(0x2bd)]+_0x16400f(0x5e3)+(_0x5a73d1 instanceof Error?_0x5a73d1[_0x16400f(0x3e1)]:JSON[_0x16400f(0x395)](_0x5a73d1,null,0x2))),_0x4e3fb7=_0x5a73d1[_0x16400f(0x3e1)];}if(_0x4e3fb7)return{'error':!0x0,'detail':(typeof _0x4e3fb7=='object'?JSON[_0x16400f(0x395)](_0x4e3fb7,null,0x2):_0x4e3fb7)[_0x16400f(0x38e)](/[\[\]{}\n]/g,'\x20')[_0x16400f(0x38e)](/  +/g,'\x20')};}async[a0_0x26e249(0x649)](_0x52a8d6,_0x48e1ae){const _0x295fb=a0_0x26e249;this[_0x295fb(0x392)]['verbose'](this[_0x295fb(0x156)]+'\x20('+this['instance'][_0x295fb(0x2bd)]+_0x295fb(0x613));let _0x38defd={'number':_0x48e1ae,'options':{'delay':_0x52a8d6[_0x295fb(0x3e1)][_0x295fb(0x5af)]},'audioMessage':{'audio':_0x52a8d6['message'][_0x295fb(0x506)]}},_0x23e5fd=null;try{let _0x16b3df=await this[_0x295fb(0x4b6)](_0x38defd);if(_0x16b3df&&_0x16b3df[_0x295fb(0x228)])return{'error':!0x1,'id':_0x16b3df[_0x295fb(0x7dd)]['id']};_0x23e5fd=JSON[_0x295fb(0x395)](_0x16b3df),this[_0x295fb(0x392)][_0x295fb(0x57c)](this['instanceName']+'\x20('+this['instance'][_0x295fb(0x2bd)]+_0x295fb(0x69f)+_0x23e5fd);}catch(_0x46156a){this['logger'][_0x295fb(0x819)](this[_0x295fb(0x156)]+'\x20('+this[_0x295fb(0x848)]['wuid']+_0x295fb(0x20b)+(_0x46156a instanceof Error?_0x46156a[_0x295fb(0x3e1)]:JSON['stringify'](_0x46156a,null,0x2))),_0x23e5fd=_0x46156a['message'];}if(_0x23e5fd)return{'error':!0x0,'detail':(typeof _0x23e5fd=='object'?JSON['stringify'](_0x23e5fd,null,0x2):_0x23e5fd)[_0x295fb(0x38e)](/[\[\]{}\n]/g,'\x20')[_0x295fb(0x38e)](/  +/g,'\x20')};}async['groupDesc'](_0x208cd2){const _0x2322b7=a0_0x26e249;try{return await this['client'][_0x2322b7(0x1f8)](_0x208cd2[_0x2322b7(0x67c)],_0x208cd2[_0x2322b7(0x46b)]),{'update':_0x2322b7(0x540)};}catch(_0x3d260c){let _0x332e75='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc',_0x3c98b7=_0x3d260c instanceof Error?_0x3d260c[_0x2322b7(0x3e1)]:typeof _0x3d260c==_0x2322b7(0x232)?JSON['stringify'](_0x3d260c):_0x3d260c,_0x4a0006=_0x332e75+':\x20'+_0x3c98b7;throw this[_0x2322b7(0x392)][_0x2322b7(0x819)](this[_0x2322b7(0x156)]+'\x20('+this[_0x2322b7(0x848)][_0x2322b7(0x2bd)]+_0x2322b7(0x69f)+_0x4a0006),new I(_0x4a0006);}}async[a0_0x26e249(0x5f0)](_0x2cbf22){const _0x44cbb6=a0_0x26e249;try{return await this[_0x44cbb6(0x39e)][_0x44cbb6(0x784)](_0x2cbf22[_0x44cbb6(0x67c)],_0x2cbf22[_0x44cbb6(0x452)]),{'update':_0x44cbb6(0x540)};}catch(_0x2b86ca){let _0x2d53a9=_0x44cbb6(0x63b),_0x5b3d0a=_0x2b86ca instanceof Error?_0x2b86ca[_0x44cbb6(0x3e1)]:typeof _0x2b86ca==_0x44cbb6(0x232)?JSON[_0x44cbb6(0x395)](_0x2b86ca):_0x2b86ca,_0x3f9909=_0x2d53a9+':\x20'+_0x5b3d0a;throw this['logger']['error'](this[_0x44cbb6(0x156)]+'\x20('+this[_0x44cbb6(0x848)][_0x44cbb6(0x2bd)]+_0x44cbb6(0x69f)+_0x3f9909),new I(_0x3f9909);}}async['toggleEphemeral'](_0x556837){const _0x4d6ee3=a0_0x26e249;try{let _0x3623e4=await this['client'][_0x4d6ee3(0x2e6)](_0x556837[_0x4d6ee3(0x67c)],_0x556837[_0x4d6ee3(0x371)]);return{'success':!0x0};}catch(_0x3a7442){let _0x230d77=_0x4d6ee3(0x1e9),_0x1bd041=_0x3a7442 instanceof Error?_0x3a7442[_0x4d6ee3(0x3e1)]:typeof _0x3a7442==_0x4d6ee3(0x232)?JSON['stringify'](_0x3a7442):_0x3a7442,_0x50ecae=_0x230d77+':\x20'+_0x1bd041;throw this[_0x4d6ee3(0x392)][_0x4d6ee3(0x819)](this[_0x4d6ee3(0x156)]+'\x20('+this[_0x4d6ee3(0x848)][_0x4d6ee3(0x2bd)]+_0x4d6ee3(0x69f)+_0x50ecae),new I(_0x50ecae);}}async[a0_0x26e249(0x26f)](_0x1496f7){const _0x6de62=a0_0x26e249;try{return await this[_0x6de62(0x39e)][_0x6de62(0x4c9)](_0x1496f7[_0x6de62(0x67c)],_0x1496f7[_0x6de62(0x472)]),{'update':'success'};}catch(_0xbddeb5){let _0x3e4c77=_0x6de62(0x7af),_0x30fad8=_0xbddeb5 instanceof Error?_0xbddeb5[_0x6de62(0x3e1)]:typeof _0xbddeb5==_0x6de62(0x232)?JSON[_0x6de62(0x395)](_0xbddeb5):_0xbddeb5,_0xfd2c2d=_0x3e4c77+':\x20'+_0x30fad8;throw this[_0x6de62(0x392)]['error'](this['instanceName']+'\x20('+this['instance'][_0x6de62(0x2bd)]+_0x6de62(0x69f)+_0xfd2c2d),new I(_0xfd2c2d);}}async[a0_0x26e249(0x704)](_0x3a3f60){const _0x3b3243=a0_0x26e249;try{let _0x2ce2df;if((0x0,P[_0x3b3243(0x66d)])(_0x3a3f60[_0x3b3243(0x7a5)])){let _0x52d8bf=new Date()['getTime'](),_0x545462=_0x3a3f60[_0x3b3243(0x7a5)]+_0x3b3243(0x4e9)+_0x52d8bf;_0x2ce2df=(await K['default'][_0x3b3243(0x6c0)](_0x545462,{'responseType':_0x3b3243(0x334)}))[_0x3b3243(0x7c6)];}else{if((0x0,P[_0x3b3243(0x273)])(_0x3a3f60[_0x3b3243(0x7a5)]))_0x2ce2df=Buffer['from'](_0x3a3f60[_0x3b3243(0x7a5)],_0x3b3243(0x5e7));else throw new m(_0x3b3243(0x1b7));}return await this['client'][_0x3b3243(0x26c)](_0x3a3f60['groupJid'],_0x2ce2df),{'update':_0x3b3243(0x540)};}catch(_0x19acc6){let _0x4d526a=_0x3b3243(0x1ed),_0x5994fc=_0x19acc6 instanceof Error?_0x19acc6[_0x3b3243(0x3e1)]:typeof _0x19acc6==_0x3b3243(0x232)?JSON[_0x3b3243(0x395)](_0x19acc6):_0x19acc6,_0x1ead41=_0x4d526a+':\x20'+_0x5994fc;throw this[_0x3b3243(0x392)][_0x3b3243(0x819)](this[_0x3b3243(0x156)]+'\x20('+this[_0x3b3243(0x848)][_0x3b3243(0x2bd)]+_0x3b3243(0x69f)+_0x1ead41),new I(_0x1ead41);}}},Jt=class c{constructor(_0x1a2329,_0xa969e3,_0x108c1c){const _0xc15b30=a0_0x26e249;this[_0xc15b30(0x251)]=_0x1a2329,this[_0xc15b30(0x189)]=_0xa969e3,this[_0xc15b30(0x1e2)]=_0x108c1c,this['db']={},this[_0xc15b30(0x806)]={},this[_0xc15b30(0x392)]=new R(c[_0xc15b30(0x452)]),this['waInstances']={},(this[_0xc15b30(0x3c1)](),this[_0xc15b30(0x457)](),Object[_0xc15b30(0x5ec)](this['db'],_0xa969e3[_0xc15b30(0x6c0)](_0xc15b30(0x505))),Object[_0xc15b30(0x5ec)](this[_0xc15b30(0x806)],_0xa969e3['get'](_0xc15b30(0x2c1))),this[_0xc15b30(0x82b)]=this['db']['ENABLED']?this[_0xc15b30(0x1e2)][_0xc15b30(0x40c)]?.['db'](this['db'][_0xc15b30(0x363)][_0xc15b30(0x7c1)]+_0xc15b30(0x78e)):void 0x0,this['cache']=this['redis'][_0xc15b30(0x467)]?new ce(this[_0xc15b30(0x806)]):void 0x0);}async['instanceInfo'](_0x4c98a3){const _0x3c8bc6=a0_0x26e249;if(_0x4c98a3&&!this[_0x3c8bc6(0x73a)][_0x4c98a3])throw new U(_0x3c8bc6(0x7f8)+_0x4c98a3+_0x3c8bc6(0x1eb));let _0x250c45=[];for await(let [_0x21991c,_0x3c48ee]of Object[_0x3c8bc6(0x29f)](this[_0x3c8bc6(0x73a)]))if(_0x3c48ee&&_0x3c48ee['connectionStatus'][_0x3c8bc6(0x793)]===_0x3c8bc6(0x178)){let _0x23bbe4=await this[_0x3c8bc6(0x1e2)][_0x3c8bc6(0x454)][_0x3c8bc6(0x288)](_0x21991c);_0x250c45[_0x3c8bc6(0x65e)]({'instance':{'instanceName':_0x21991c,'apikey':_0x23bbe4['apikey'],'owner':_0x3c48ee[_0x3c8bc6(0x2bd)],'profileName':await _0x3c48ee[_0x3c8bc6(0x15d)]()||_0x3c8bc6(0x7db),'profilePictureUrl':_0x3c48ee['profilePictureUrl']}});}return _0x250c45[_0x3c8bc6(0x288)](_0x5546c6=>_0x5546c6['instance'][_0x3c8bc6(0x156)]===_0x4c98a3)??_0x250c45;}async['cleaningUp'](_0x35e6fc){const _0x25079e=a0_0x26e249;if(this['db']['ENABLED']&&(await this[_0x25079e(0x1e2)][_0x25079e(0x40c)][_0x25079e(0x1c5)](),(await this['dbInstance'][_0x25079e(0x4c3)]())[_0x25079e(0x62e)]>0x0&&await this['dbInstance'][_0x25079e(0x587)](_0x35e6fc)),this['redis']['ENABLED']){this[_0x25079e(0x588)][_0x25079e(0x1ad)]=_0x35e6fc,await this[_0x25079e(0x588)]['delAll']();return;}}async['loadInstance'](){const _0x8a9f9d=a0_0x26e249;await this[_0x8a9f9d(0x2cd)]();let _0x7a6109=async _0x49a9b4=>{const _0x26a6a9=_0x8a9f9d;let _0x3156e8=new Ce(this['configService'],this[_0x26a6a9(0x251)],this[_0x26a6a9(0x1e2)]);_0x3156e8[_0x26a6a9(0x156)]=_0x49a9b4,await _0x3156e8[_0x26a6a9(0x3bc)](),this[_0x26a6a9(0x73a)][_0x49a9b4]=_0x3156e8;};try{if(this[_0x8a9f9d(0x806)][_0x8a9f9d(0x467)]){let _0x4f2720=await this[_0x8a9f9d(0x588)][_0x8a9f9d(0x7f6)]();_0x4f2720?.[_0x8a9f9d(0x62e)]>0x0&&_0x4f2720[_0x8a9f9d(0x522)](async _0x39afd9=>await _0x7a6109(_0x39afd9[_0x8a9f9d(0x510)](':')[0x1]));return;}if(this['db'][_0x8a9f9d(0x467)]){await this[_0x8a9f9d(0x1e2)][_0x8a9f9d(0x40c)]['connect']();let _0x25af7c=await this[_0x8a9f9d(0x82b)][_0x8a9f9d(0x4c3)]();_0x25af7c['length']>0x0&&_0x25af7c[_0x8a9f9d(0x522)](async _0xe1e8d0=>await _0x7a6109(_0xe1e8d0[_0x8a9f9d(0x5b4)][_0x8a9f9d(0x38e)](/^[\w-]+\./,'')));return;}}catch(_0x1515cb){this[_0x8a9f9d(0x392)][_0x8a9f9d(0x819)](_0x1515cb);}}async['InstancesAsDisconnectedX'](){const _0x507cba=a0_0x26e249;let _0x5b75dd=await this['repository'][_0x507cba(0x454)]['findAll'](),_0x2a1672=_0x5b75dd[_0x507cba(0x27f)](_0x2ec1bf=>!this[_0x507cba(0x73a)][_0x2ec1bf[_0x507cba(0x68e)]]&&(_0x2ec1bf[_0x507cba(0x572)]||typeof _0x2ec1bf[_0x507cba(0x572)]>'u'));_0x2a1672[_0x507cba(0x62e)]>0x0&&await Promise[_0x507cba(0x574)](_0x2a1672['map'](async _0x34568f=>{const _0x3590f9=_0x507cba;let _0x221cbc={'online':!0x1,'lastDisconnect':Date[_0x3590f9(0x80b)]()};await this[_0x3590f9(0x1e2)][_0x3590f9(0x454)]['create'](_0x221cbc,_0x34568f[_0x3590f9(0x68e)]);}));let _0xe9c20d=Date[_0x507cba(0x80b)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0xb5d8e7=_0x5b75dd[_0x507cba(0x27f)](_0x3af293=>!this[_0x507cba(0x73a)][_0x3af293[_0x507cba(0x68e)]]&&typeof _0x3af293[_0x507cba(0x276)]<'u'&&_0x3af293['lastDisconnect']<_0xe9c20d);_0xb5d8e7[_0x507cba(0x62e)]>0x0&&await Promise[_0x507cba(0x574)](_0xb5d8e7[_0x507cba(0x261)](async _0x5c56ba=>{}));}async[a0_0x26e249(0x2cd)](){const _0x5110af=a0_0x26e249;try{let _0x26b31c={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x1a2f84={'online':!0x1,'lastDisconnect':Date[_0x5110af(0x80b)]()},_0x366674=await this[_0x5110af(0x1e2)][_0x5110af(0x454)][_0x5110af(0x3a7)](_0x26b31c,_0x1a2f84);console['log'](_0x5110af(0x834)+_0x366674['insertCount']),await this[_0x5110af(0x62b)]();}catch(_0x28f13b){console['error'](_0x5110af(0x2b9),_0x28f13b);}}async[a0_0x26e249(0x62b)](){const _0x2e26da=a0_0x26e249;try{let _0x3370bc={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x76c763=await this['repository'][_0x2e26da(0x454)][_0x2e26da(0x615)](_0x3370bc);console[_0x2e26da(0x61f)]('Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20'+_0x76c763[_0x2e26da(0x4a8)]);}catch(_0x5ad82a){console['error'](_0x2e26da(0x5b8),_0x5ad82a);}}[a0_0x26e249(0x3c1)](){const _0x5524d8=a0_0x26e249;this[_0x5524d8(0x251)]['on']('remove.instance',async _0x113a26=>{const _0x5a94cb=_0x5524d8;try{this[_0x5a94cb(0x73a)][_0x113a26]=void 0x0;}catch{}try{this[_0x5a94cb(0x5a1)](_0x113a26);}finally{this[_0x5a94cb(0x392)][_0x5a94cb(0x37a)](_0x5a94cb(0x7f8)+_0x113a26+_0x5a94cb(0x773));}});}[a0_0x26e249(0x457)](){const _0xa47465=a0_0x26e249;this[_0xa47465(0x251)]['on'](_0xa47465(0x351),async _0x3ad462=>{const _0x41b256=_0xa47465;try{this[_0x41b256(0x73a)][_0x3ad462]=void 0x0;}catch{}try{this[_0x41b256(0x5a1)](_0x3ad462);}finally{this[_0x41b256(0x392)]['warn'](_0x41b256(0x7f8)+_0x3ad462+'\x22\x20-\x20NOT\x20CONNECTION');}});}},Ut=class extends x{[a0_0x26e249(0x3d1)](_0x4a842c){return Ks(_0x4a842c);}async[a0_0x26e249(0x1bc)](_0x313404){const _0x25e4dc=a0_0x26e249;if(_0x313404['length']!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x313404[0x0][_0x25e4dc(0x4fa)])[_0x25e4dc(0x3ab)]([..._0x313404]))['length']};}catch(_0x4d4558){return _0x4d4558;}}async['find'](_0x1bbca9,_0x2385d8){const _0x256059=a0_0x26e249;try{let _0x49cfad=this[_0x256059(0x3d1)](_0x2385d8),_0x417559=T(_0x1bbca9[_0x256059(0x2a7)]);return await _0x49cfad[_0x256059(0x288)](_0x417559)[_0x256059(0x1e4)]({'lastmsg':-0x1})[_0x256059(0x3ad)](_0x1bbca9?.['limit']??0x0)[_0x256059(0x4ed)]();}catch{return[];}}async[a0_0x26e249(0x72e)](_0x22d7b2,_0x24d91a){const _0x56baf2=a0_0x26e249;try{return{'deletedCount':(await this['getChatModelForOwner'](_0x24d91a)[_0x56baf2(0x615)]({..._0x22d7b2['where']}))[_0x56baf2(0x553)]};}catch(_0x52aa57){return{'error':_0x52aa57?.[_0x56baf2(0x76f)]()};}}async['deleteAll'](_0x182032,_0x164d4d){const _0x139fad=a0_0x26e249;try{return await this[_0x139fad(0x3d1)](_0x164d4d)[_0x139fad(0x615)]({..._0x182032[_0x139fad(0x2a7)]}),[];}catch(_0x42d44b){return{'error':_0x42d44b?.[_0x139fad(0x76f)]()};}}async['findOne'](_0x4da3ba,_0x3cb3d8){const _0x271ad2=a0_0x26e249;try{let _0xc48004=this[_0x271ad2(0x3d1)](_0x3cb3d8),_0x1d9036=T(_0x4da3ba[_0x271ad2(0x2a7)]);return await _0xc48004[_0x271ad2(0x49c)](_0x1d9036)[_0x271ad2(0x4ed)]();}catch{return null;}}async[a0_0x26e249(0x68c)](_0x24e580,_0x43ee82,_0x15cf34,_0x37adf6,_0x1c7363=a0_0x26e249(0x44f)){const _0x1128cb=a0_0x26e249;try{let _0x4a4792={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x37adf6},_0x616709=this[_0x1128cb(0x3d1)](_0x15cf34),_0x2997ce=T(_0x24e580[_0x1128cb(0x2a7)]);Object['keys'](_0x43ee82)['forEach'](_0x421784=>{_0x43ee82[_0x421784]==null&&delete _0x43ee82[_0x421784];});let _0x4ae058={};return _0x4ae058[_0x1c7363]=_0x43ee82,await _0x616709[_0x1128cb(0x45d)](_0x2997ce,_0x4ae058,_0x4a4792);}catch(_0x82adac){return console[_0x1128cb(0x819)](_0x82adac),null;}}async[a0_0x26e249(0x180)](_0x537409){const _0xa1c989=a0_0x26e249;try{let _0x3d3bd9=this['getChatModelForOwner'](_0x537409[0x0][_0xa1c989(0x426)][_0xa1c989(0x2a7)]['owner']),_0xd3cda7=_0x537409['map'](_0x18c5c2=>({'updateOne':{'filter':{..._0x18c5c2[_0xa1c989(0x426)][_0xa1c989(0x2a7)]},'update':{'$set':_0x18c5c2[_0xa1c989(0x3e2)]},'upsert':!0x0}})),_0x4d92f5=await _0x3d3bd9[_0xa1c989(0x635)](_0xd3cda7);return _0x4d92f5['modifiedCount']+_0x4d92f5[_0xa1c989(0x24f)];}catch(_0x358f71){return console['error'](_0x358f71),0x0;}}async[a0_0x26e249(0x6ba)](_0x49afbc){const _0x51341f=a0_0x26e249;try{let _0x59f45d={'group_isCommunity':'','group_announce':'','group_size':''},_0x5669b3={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x495b39={'$unset':_0x59f45d};return(await this[_0x51341f(0x3d1)](_0x49afbc)[_0x51341f(0x180)](_0x5669b3,_0x495b39))[_0x51341f(0x225)];}catch(_0xe826df){return console[_0x51341f(0x819)](_0x51341f(0x35a),_0xe826df),0x0;}}async[a0_0x26e249(0x369)](_0x3394e3){const _0x292c76=a0_0x26e249;try{let _0x59c993=this['getChatModelForOwner'](_0x3394e3),_0x4b7301={'leadInfo.etiquetas':{'$exists':!0x1}},_0xb651bc={'$set':{'leadInfo.etiquetas':[]}};return(await _0x59c993[_0x292c76(0x180)](_0x4b7301,_0xb651bc))[_0x292c76(0x225)];}catch(_0xf9b416){return console['error'](_0xf9b416),0x0;}}async[a0_0x26e249(0x227)](_0xaa1e03){const _0x3e8b30=a0_0x26e249;try{let _0x1d0659=this['getChatModelForOwner'](_0xaa1e03),_0x50b24c={'leadInfo.tags':{'$exists':!0x1}},_0x4b71a0={'$set':{'leadInfo.tags':[]}};return(await _0x1d0659[_0x3e8b30(0x180)](_0x50b24c,_0x4b71a0))[_0x3e8b30(0x225)];}catch(_0x1d839c){return console[_0x3e8b30(0x819)](_0x1d839c),0x0;}}async[a0_0x26e249(0x2f2)](_0x3a5b48){const _0x30c401=a0_0x26e249;try{let _0x34c975=this[_0x30c401(0x3d1)](_0x3a5b48),_0x43f7ab={'leadInfo.customFields':{'$exists':!0x1}},_0x4a0e41={'$set':{'leadInfo.customFields':[]}};return(await _0x34c975['updateMany'](_0x43f7ab,_0x4a0e41))[_0x30c401(0x225)];}catch(_0x5e5973){return console['error'](_0x5e5973),0x0;}}async[a0_0x26e249(0x3ab)](_0x4cb84d,_0x1b1029){const _0x47a258=a0_0x26e249;if(!Array['isArray'](_0x4cb84d)||_0x4cb84d[_0x47a258(0x62e)]===0x0)throw new Error(_0x47a258(0x195));try{return(await this[_0x47a258(0x3d1)](_0x1b1029)['insertMany'](_0x4cb84d))['length'];}catch(_0x9de425){throw console[_0x47a258(0x819)]('Erro\x20ao\x20inserir\x20chats:',_0x9de425),_0x9de425;}}async[a0_0x26e249(0x41b)](_0x51d2dd,_0x10e4d8){const _0x51fa33=a0_0x26e249;try{await this['getChatModelForOwner'](_0x10e4d8)['deleteOne']({'_id':_0x51d2dd});}catch(_0x9e171d){throw console[_0x51fa33(0x819)](_0x51fa33(0x42c),_0x9e171d),_0x9e171d;}}},qt=class extends x{constructor(_0x2f278b,_0x13920f,_0x296292){const _0x3b1e36=a0_0x26e249;super(_0x13920f),this['cacheContactModel']=_0x2f278b,this[_0x3b1e36(0x189)]=_0x13920f,this[_0x3b1e36(0x6e5)]=_0x296292;}async[a0_0x26e249(0x1bc)](_0x6d5475){const _0x3f53b2=a0_0x26e249;if(_0x6d5475['length']!==0x0)try{return{'insertCount':(await this[_0x3f53b2(0x5f7)][_0x3f53b2(0x3ab)]([..._0x6d5475]))['length']};}catch(_0x4cdf4f){return _0x4cdf4f;}}async[a0_0x26e249(0x3e2)](_0x21a1a1,_0x4781b9){const _0x29ea09=a0_0x26e249;try{let _0x45a2bc=T(_0x21a1a1[_0x29ea09(0x2a7)]);return{'updatedCount':(await this[_0x29ea09(0x5f7)][_0x29ea09(0x180)](_0x45a2bc,{'$set':_0x4781b9}))['modifiedCount']};}catch(_0x1ba7aa){return console[_0x29ea09(0x819)](_0x29ea09(0x654),_0x1ba7aa),{'error':_0x1ba7aa[_0x29ea09(0x76f)]()};}}async[a0_0x26e249(0x411)](_0xf6998b){const _0x3e6c4e=a0_0x26e249;try{let _0xb55623={'_id':{'$in':_0xf6998b}};return await this['cacheContactModel']['find'](_0xb55623)[_0x3e6c4e(0x4ed)]();}catch(_0x575b31){return console[_0x3e6c4e(0x819)]('Error\x20finding\x20many\x20contacts:',_0x575b31),[];}}async[a0_0x26e249(0x72e)](_0x38304d){const _0x16fa73=a0_0x26e249;try{return{'deletedCount':(await this[_0x16fa73(0x5f7)][_0x16fa73(0x615)]({..._0x38304d[_0x16fa73(0x2a7)]}))[_0x16fa73(0x553)]};}catch(_0x1974ce){return{'error':_0x1974ce?.[_0x16fa73(0x76f)]()};}}async[a0_0x26e249(0x288)](_0x292c43){const _0x76500d=a0_0x26e249;try{let _0x4cb0ac=T(_0x292c43[_0x76500d(0x2a7)]);return await this['cacheContactModel'][_0x76500d(0x288)](_0x4cb0ac)[_0x76500d(0x3ad)](_0x292c43?.['limit']??0x0)[_0x76500d(0x4ed)]();}catch{return[];}}async[a0_0x26e249(0x49c)](_0x3fad4e){const _0xcb371d=a0_0x26e249;try{let _0x1ae4d4=T(_0x3fad4e[_0xcb371d(0x2a7)]);return await this[_0xcb371d(0x5f7)][_0xcb371d(0x49c)](_0x1ae4d4)[_0xcb371d(0x4ed)]();}catch{return null;}}},Vt=class extends x{[a0_0x26e249(0x7a0)](_0x55c3f8){return ma(_0x55c3f8);}async[a0_0x26e249(0x68c)](_0x405a3c,_0x5a2b24,_0x58fb5c,_0x48d412){const _0x3aca0a=a0_0x26e249;try{let _0x314a14={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x48d412},_0xcb4957=this[_0x3aca0a(0x7a0)](_0x58fb5c),_0x347d00=T(_0x405a3c['where']);return await _0xcb4957['findOneAndUpdate'](_0x347d00,{'$set':_0x5a2b24},_0x314a14);}catch(_0x48074f){return console[_0x3aca0a(0x819)](_0x48074f),null;}}async[a0_0x26e249(0x288)](_0x7d4ae4,_0x318738){const _0x3510d3=a0_0x26e249;try{let _0xcae9ed=this[_0x3510d3(0x7a0)](_0x318738),_0x29462c=T(_0x7d4ae4['where']);return await _0xcae9ed[_0x3510d3(0x288)](_0x29462c);}catch(_0x3889af){console[_0x3510d3(0x819)](_0x3889af);}}async[a0_0x26e249(0x72e)](_0x456493,_0x15b259){const _0x26e3c2=a0_0x26e249;try{let _0x500c58=this[_0x26e3c2(0x7a0)](_0x15b259),_0x53d047=T(_0x456493[_0x26e3c2(0x2a7)]);await _0x500c58['deleteMany'](_0x53d047);}catch(_0x561c7d){console[_0x26e3c2(0x819)](_0x561c7d);}}async[a0_0x26e249(0x6f0)](_0x103253){const _0x2dace4=a0_0x26e249;try{return await this[_0x2dace4(0x7a0)](_0x103253)[_0x2dace4(0x2da)][_0x2dace4(0x805)](),{'success':!0x0};}catch(_0x20c746){return console[_0x2dace4(0x819)](_0x20c746),{'success':!0x1,'error':_0x20c746};}}},Gt=class{constructor(_0x444194){const _0x5c3b25=a0_0x26e249;this[_0x5c3b25(0x726)]=_0x444194;}async[a0_0x26e249(0x3c7)]({instanceName:_0x484d46},_0x5e412f){const _0x335a1e=a0_0x26e249;return await this[_0x335a1e(0x726)][_0x335a1e(0x73a)][_0x484d46][_0x335a1e(0x3c7)](_0x5e412f);}async[a0_0x26e249(0x269)]({instanceName:_0x54633e},_0x308eb3){const _0x11cf35=a0_0x26e249;return await this[_0x11cf35(0x726)][_0x11cf35(0x73a)][_0x54633e][_0x11cf35(0x269)](_0x308eb3);}async[a0_0x26e249(0x57e)]({instanceName:_0x2882db},_0x409770){const _0x1fd0e8=a0_0x26e249;return await this[_0x1fd0e8(0x726)][_0x1fd0e8(0x73a)][_0x2882db][_0x1fd0e8(0x57e)](_0x409770);}async[a0_0x26e249(0x201)]({instanceName:_0x236a78},_0x1a810a){const _0x3b5f9b=a0_0x26e249;return await this[_0x3b5f9b(0x726)][_0x3b5f9b(0x73a)][_0x236a78][_0x3b5f9b(0x840)](_0x1a810a);}async[a0_0x26e249(0x4b2)]({instanceName:_0x399e4f},_0x1b9d18){const _0x3ccd2d=a0_0x26e249;return await this['waMonitor'][_0x3ccd2d(0x73a)][_0x399e4f][_0x3ccd2d(0x4b2)](_0x1b9d18);}async[a0_0x26e249(0x54d)]({instanceName:_0x50f6b3},_0x47f653){const _0x53540b=a0_0x26e249;return await this['waMonitor'][_0x53540b(0x73a)][_0x50f6b3]['deleteMessage'](_0x47f653);}async[a0_0x26e249(0x481)]({instanceName:_0x26faa7},_0x2301f8){const _0x5b414b=a0_0x26e249;return await this[_0x5b414b(0x726)][_0x5b414b(0x73a)][_0x26faa7][_0x5b414b(0x720)](_0x2301f8['number']);}async[a0_0x26e249(0x391)]({instanceName:_0x1bcfe6},_0x20ad9b){const _0x202e2d=a0_0x26e249;return await this[_0x202e2d(0x726)]['waInstances'][_0x1bcfe6]['fetchProfile'](_0x20ad9b[_0x202e2d(0x36e)]);}async[a0_0x26e249(0x2df)]({instanceName:_0x398894},_0x45a37e){const _0xb98792=a0_0x26e249;return await this['waMonitor'][_0xb98792(0x73a)][_0x398894][_0xb98792(0x2df)](_0x45a37e);}async[a0_0x26e249(0x18f)]({instanceName:_0x2197e4},_0x32a63d){const _0x4ec86b=a0_0x26e249;return await this['waMonitor'][_0x4ec86b(0x73a)][_0x2197e4][_0x4ec86b(0x18f)](_0x32a63d);}async[a0_0x26e249(0x6de)]({instanceName:_0x4ac05b},_0xd54b01){const _0x4d965c=a0_0x26e249;return await this[_0x4d965c(0x726)]['waInstances'][_0x4ac05b][_0x4d965c(0x6de)](_0xd54b01);}async[a0_0x26e249(0x829)]({instanceName:_0x4fd3d5},_0x45204f){const _0x24d615=a0_0x26e249;return await this[_0x24d615(0x726)][_0x24d615(0x73a)][_0x4fd3d5][_0x24d615(0x829)](_0x45204f);}async[a0_0x26e249(0x5bf)]({instanceName:_0x555503}){const _0x458007=a0_0x26e249;return await this[_0x458007(0x726)][_0x458007(0x73a)][_0x555503][_0x458007(0x5bf)]();}async[a0_0x26e249(0x548)]({instanceName:_0x1a2935}){const _0x364190=a0_0x26e249;return await this[_0x364190(0x726)][_0x364190(0x73a)][_0x1a2935][_0x364190(0x548)]();}async[a0_0x26e249(0x7d8)]({instanceName:_0x4e6cbc}){const _0x1c3af5=a0_0x26e249;return await this[_0x1c3af5(0x726)]['waInstances'][_0x4e6cbc][_0x1c3af5(0x7d8)]();}async[a0_0x26e249(0x7d7)]({instanceName:_0x59a2ec},_0x46370a){const _0x3d6be5=a0_0x26e249;return await this[_0x3d6be5(0x726)]['waInstances'][_0x59a2ec]['updatePrivacySettings'](_0x46370a);}async[a0_0x26e249(0x385)]({instanceName:_0xad8556},_0x32fa99){const _0x909f8d=a0_0x26e249;return await this[_0x909f8d(0x726)][_0x909f8d(0x73a)][_0xad8556]['fetchBusinessProfile'](_0x32fa99['number']);}async[a0_0x26e249(0x20a)]({instanceName:_0x4b63c7},_0x562102){const _0x311a1a=a0_0x26e249;return await this['waMonitor'][_0x311a1a(0x73a)][_0x4b63c7][_0x311a1a(0x20a)](_0x562102[_0x311a1a(0x452)]);}async['updateProfileStatus']({instanceName:_0x204f9f},_0x3dbc6e){const _0x594d5a=a0_0x26e249;return await this[_0x594d5a(0x726)][_0x594d5a(0x73a)][_0x204f9f][_0x594d5a(0x194)](_0x3dbc6e[_0x594d5a(0x228)]);}async['updateProfilePicture']({instanceName:_0x19325b},_0x5152ab){const _0x34c00a=a0_0x26e249;return await this[_0x34c00a(0x726)][_0x34c00a(0x73a)][_0x19325b][_0x34c00a(0x26c)](_0x5152ab[_0x34c00a(0x6bc)]);}async[a0_0x26e249(0x39d)]({instanceName:_0x2e4c86},_0x53201f){const _0x51b7de=a0_0x26e249;return await this[_0x51b7de(0x726)]['waInstances'][_0x2e4c86][_0x51b7de(0x39d)]();}},Bt=require('@whiskeysockets/baileys'),Wt=class c{constructor(_0x2fcc61,_0x454393,_0x5ed34d,_0x5917e5,_0x2e66cf){const _0x2cd1d6=a0_0x26e249;this[_0x2cd1d6(0x726)]=_0x2fcc61,this['configService']=_0x454393,this[_0x2cd1d6(0x1e2)]=_0x5ed34d,this['eventEmitter']=_0x5917e5,this['authService']=_0x2e66cf,this['logger']=new R(c['name']);}async[a0_0x26e249(0x40b)]({instanceName:_0x306c23,apikey:_0x295b45,number:_0x4b90e5,proxy:_0x3b7445=!0x0}){const _0x43d1f6=a0_0x26e249;try{let _0x3caa49=new Ce(this[_0x43d1f6(0x189)],this[_0x43d1f6(0x251)],this[_0x43d1f6(0x1e2)]);_0x3caa49[_0x43d1f6(0x156)]=_0x306c23,this[_0x43d1f6(0x726)]['waInstances'][_0x3caa49[_0x43d1f6(0x156)]]=_0x3caa49;let _0x502998={};_0x295b45?(await this[_0x43d1f6(0x1e2)]['auth']['create']({'apikey':_0x295b45},_0x306c23),_0x502998['apikey']=_0x295b45):_0x502998=await this[_0x43d1f6(0x73e)]['generateHash']({'instanceName':_0x3caa49[_0x43d1f6(0x156)]});let _0xb1bb3d;if(_0x4b90e5){if(_0xb1bb3d=await this[_0x43d1f6(0x6d0)](_0x4b90e5),_0xb1bb3d[_0x43d1f6(0x819)])throw new I(_0xb1bb3d['error']['toString']());_0x4b90e5=_0xb1bb3d[_0x43d1f6(0x36e)];}let _0x3378bc;return await _0x3caa49[_0x43d1f6(0x3bc)](_0x4b90e5),await(0x0,Bt[_0x43d1f6(0x5af)])(0x7d0),_0x4b90e5&&await(0x0,Bt['delay'])(0xbb8),_0x3378bc=_0x3caa49['qrCode'],{'instance':{'instanceName':_0x3caa49[_0x43d1f6(0x156)],'status':'created'},'hash':_0x502998,'qrcode':_0x3378bc};}catch(_0x14b069){throw this[_0x43d1f6(0x392)][_0x43d1f6(0x819)](_0x14b069),_0x14b069;}}async[a0_0x26e249(0x16b)]({instanceName:_0x2001b0,number:_0x1afb3a=null}){const _0x532d14=a0_0x26e249;try{let _0x313e33=this[_0x532d14(0x726)]['waInstances'][_0x2001b0];switch(_0x313e33?.[_0x532d14(0x2f8)]?.[_0x532d14(0x793)]){case _0x532d14(0x1da):return await _0x313e33[_0x532d14(0x3bc)](_0x1afb3a),await(0x0,Bt['delay'])(0x7d0),_0x313e33[_0x532d14(0x244)];case _0x532d14(0x421):return _0x313e33[_0x532d14(0x244)];default:return await this[_0x532d14(0x4fb)]({'instanceName':_0x2001b0});}}catch(_0x40c239){this['logger'][_0x532d14(0x61f)](_0x40c239);}}async[a0_0x26e249(0x4fb)]({instanceName:_0x1406b8}){const _0x122b8b=a0_0x26e249;let _0xc23a36=this['waMonitor'][_0x122b8b(0x73a)][_0x1406b8]['connectionStatus'],_0x27d55e=null;_0xc23a36[_0x122b8b(0x793)]==='open'&&_0x1406b8&&(_0x27d55e=await this[_0x122b8b(0x726)]['instanceInfo'](_0x1406b8));let _0x1a591a=null;return _0xc23a36['state']==='connecting'&&_0x1406b8&&(_0x1a591a=this['waMonitor'][_0x122b8b(0x73a)][_0x1406b8]['qrCode']),{'instance':_0x1406b8,'connectionStatus':_0xc23a36,'instanceInfo':_0x27d55e,'qrcode':_0x1a591a};}async[a0_0x26e249(0x6d0)](_0x1157cc){const _0x2789df=a0_0x26e249;_0x1157cc=_0x1157cc[_0x2789df(0x38e)](/\D/g,'');let _0x2f3a81=Object[_0x2789df(0x4a9)](this[_0x2789df(0x726)][_0x2789df(0x73a)])[_0x2789df(0x27f)](_0x362652=>{const _0x25ab50=_0x2789df;let _0x1b0ff6=this['waMonitor'][_0x25ab50(0x73a)][_0x362652];return _0x1b0ff6&&_0x1b0ff6['connectionStatus']&&_0x1b0ff6[_0x25ab50(0x2f8)][_0x25ab50(0x793)]===_0x25ab50(0x178);});if(_0x2f3a81[_0x2789df(0x62e)]===0x0)return{'number':this['formatBRNumber'](_0x1157cc)};let _0x4c568d=Math[_0x2789df(0x465)](Math[_0x2789df(0x517)]()*_0x2f3a81['length']),_0x49ec03=_0x2f3a81[_0x4c568d];try{let _0x38e53b=(await this[_0x2789df(0x726)][_0x2789df(0x73a)][_0x49ec03][_0x2789df(0x269)]({'numbers':[_0x1157cc]}))['shift']();return _0x38e53b[_0x2789df(0x7fd)]?{'number':_0x38e53b[_0x2789df(0x7d1)][_0x2789df(0x38e)]('@s.whatsapp.net','')}:{'number':_0x1157cc,'error':'Número\x20não\x20possui\x20WhatsApp.'};}catch(_0x1baf09){return this[_0x2789df(0x392)][_0x2789df(0x819)](_0x2789df(0x1bb)+_0x1baf09),{'number':_0x1157cc,'error':_0x2789df(0x6d8)};}}[a0_0x26e249(0x1b8)](_0x40f730){const _0x124d30=a0_0x26e249;let _0x3b874d=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x124d30(0x6b6)](_0x40f730);if(_0x3b874d&&_0x3b874d[0x1]==='55'){let _0x2979f0=_0x3b874d[0x2],_0x1f4c05=_0x3b874d[0x3],_0x24f6b0=_0x3b874d[0x4];if(parseInt(_0x2979f0)>=0x1f&&_0x1f4c05==='9')return _0x3b874d[0x1]+_0x2979f0+_0x24f6b0;}return _0x40f730;}async[a0_0x26e249(0x274)]({instanceName:_0x386957}){const _0xaf3587=a0_0x26e249;try{return this[_0xaf3587(0x726)][_0xaf3587(0x73a)][_0x386957]?.[_0xaf3587(0x39e)]?.['ws']?.['close'](),{'status':_0xaf3587(0x693),'error':!0x1,'response':{'message':_0xaf3587(0x7da)}};}catch(_0x15681c){this[_0xaf3587(0x392)][_0xaf3587(0x819)](_0x15681c);}}async[a0_0x26e249(0x595)]({instanceName:_0x1dbe06}){const _0x4cb752=a0_0x26e249;return _0x1dbe06?this['waMonitor'][_0x4cb752(0x1d3)](_0x1dbe06):this[_0x4cb752(0x726)]['instanceInfo']();}async[a0_0x26e249(0x242)]({instanceName:_0x2a2e88}){const _0x2e9179=a0_0x26e249;try{return await this[_0x2e9179(0x726)]['waInstances'][_0x2a2e88]?.['client']?.[_0x2e9179(0x242)](_0x2e9179(0x799)+_0x2a2e88),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x323325){throw new I(_0x323325[_0x2e9179(0x76f)]());}}async[a0_0x26e249(0x423)]({instanceName:_0xa1cf14}){const _0x3021b3=a0_0x26e249;if((await this['connectionState']({'instanceName':_0xa1cf14}))[_0x3021b3(0x2f8)][_0x3021b3(0x793)]===_0x3021b3(0x178))throw new m([_0x3021b3(0x1e6),_0x3021b3(0x571)]);try{return delete this[_0x3021b3(0x726)][_0x3021b3(0x73a)][_0xa1cf14],{'error':!0x1,'message':_0x3021b3(0x564)};}catch(_0x349444){throw new m(_0x349444['toString']());}}},te=require(a0_0x26e249(0x61d)),zt=class{constructor(_0x55ca4b){const _0x25e8bb=a0_0x26e249;this[_0x25e8bb(0x726)]=_0x55ca4b;}async[a0_0x26e249(0x69e)]({instanceName:_0x14c7fd},_0x28a81b){const _0xd0d2e5=a0_0x26e249;return await this[_0xd0d2e5(0x726)][_0xd0d2e5(0x73a)][_0x14c7fd][_0xd0d2e5(0x3e8)](_0x28a81b);}async['sendMenu']({instanceName:_0x10325b},_0x449c2f){const _0x42efba=a0_0x26e249;return await this[_0x42efba(0x726)]['waInstances'][_0x10325b]['menuMessage'](_0x449c2f);}async['sendMedia']({instanceName:_0x33b00d},_0x366e72){const _0x28d600=a0_0x26e249;if((0x0,te[_0x28d600(0x273)])(_0x366e72?.[_0x28d600(0x48c)]?.['media'])&&!_0x366e72?.[_0x28d600(0x48c)]?.['fileName'])throw new m(_0x28d600(0x2a9));if((0x0,te['isURL'])(_0x366e72?.['mediaMessage']?.['media'])||(0x0,te[_0x28d600(0x273)])(_0x366e72?.[_0x28d600(0x48c)]?.[_0x28d600(0x4f2)]))return await this[_0x28d600(0x726)][_0x28d600(0x73a)][_0x33b00d][_0x28d600(0x48c)](_0x366e72);throw new m(_0x28d600(0x623));}async[a0_0x26e249(0x45c)]({instanceName:_0x17f53e},_0x5a5ca7){const _0x587fc2=a0_0x26e249;if((0x0,te[_0x587fc2(0x66d)])(_0x5a5ca7[_0x587fc2(0x401)]['image'])||(0x0,te[_0x587fc2(0x273)])(_0x5a5ca7[_0x587fc2(0x401)][_0x587fc2(0x7a5)]))return await this[_0x587fc2(0x726)][_0x587fc2(0x73a)][_0x17f53e][_0x587fc2(0x602)](_0x5a5ca7);throw new m(_0x587fc2(0x623));}async[a0_0x26e249(0x709)]({instanceName:_0x478f1e},_0x376466){const _0x276f95=a0_0x26e249;if((0x0,te['isURL'])(_0x376466[_0x276f95(0x4e3)]['audio'])||(0x0,te[_0x276f95(0x273)])(_0x376466[_0x276f95(0x4e3)]['audio']))return await this[_0x276f95(0x726)][_0x276f95(0x73a)][_0x478f1e][_0x276f95(0x4b6)](_0x376466);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x26e249(0x162)]({instanceName:_0x3fe6c6},_0x21b6f0){const _0x580787=a0_0x26e249;if((0x0,te[_0x580787(0x273)])(_0x21b6f0[_0x580787(0x354)][_0x580787(0x48c)]?.['media'])&&!_0x21b6f0[_0x580787(0x354)]['mediaMessage']?.['fileName'])throw new m(_0x580787(0x2a9));return await this[_0x580787(0x726)][_0x580787(0x73a)][_0x3fe6c6]['buttonMessage'](_0x21b6f0);}async[a0_0x26e249(0x70a)]({instanceName:_0x3f41ae},_0x418c0d){const _0x25fba2=a0_0x26e249;return await this[_0x25fba2(0x726)]['waInstances'][_0x3f41ae]['locationMessage'](_0x418c0d);}async[a0_0x26e249(0x442)]({instanceName:_0x45c837},_0x1b8990){const _0x141760=a0_0x26e249;return await this[_0x141760(0x726)]['waInstances'][_0x45c837][_0x141760(0x33c)](_0x1b8990);}async['sendList']({instanceName:_0x2b7207},_0xd9b4a4){const _0x42236a=a0_0x26e249;return await this[_0x42236a(0x726)][_0x42236a(0x73a)][_0x2b7207][_0x42236a(0x685)](_0xd9b4a4);}async[a0_0x26e249(0x537)]({instanceName:_0x51abcb},_0x39d67e){const _0x165896=a0_0x26e249;return await this[_0x165896(0x726)][_0x165896(0x73a)][_0x51abcb][_0x165896(0x38f)](_0x39d67e);}async[a0_0x26e249(0x335)]({instanceName:_0x9ce47c},_0x39eff7){const _0x51b194=a0_0x26e249;if(!_0x39eff7[_0x51b194(0x214)][_0x51b194(0x4eb)]['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x51b194(0x682));return await this[_0x51b194(0x726)]['waInstances'][_0x9ce47c][_0x51b194(0x214)](_0x39eff7);}async[a0_0x26e249(0x3fc)]({instanceName:_0x28d77b},_0x3d23ea){const _0x112dfe=a0_0x26e249;return await this[_0x112dfe(0x726)][_0x112dfe(0x73a)][_0x28d77b]['statusMessage'](_0x3d23ea);}},Ei=require(a0_0x26e249(0x3f6)),_s=require(a0_0x26e249(0x7c2)),Ht=class c{constructor(_0x2a52db,_0xcc729,_0xd4d644){const _0x34907f=a0_0x26e249;this['configService']=_0x2a52db,this[_0x34907f(0x726)]=_0xcc729,this['repository']=_0xd4d644,this[_0x34907f(0x392)]=new R(c['name']);}async[a0_0x26e249(0x845)](_0x469381){const _0x1fd7ad=a0_0x26e249;let _0x54f798=this[_0x1fd7ad(0x189)][_0x1fd7ad(0x6c0)](_0x1fd7ad(0x786))[_0x1fd7ad(0x255)],_0x4eb9f3=(0x0,Ei[_0x1fd7ad(0x85a)])({'instanceName':_0x469381[_0x1fd7ad(0x156)],'apiName':et,'tokenId':(0x0,_s['v4'])()},_0x54f798[_0x1fd7ad(0x576)],{'expiresIn':_0x54f798['EXPIRIN_IN'],'encoding':_0x1fd7ad(0x66e),'subject':_0x1fd7ad(0x557)}),_0x5726b1=await this[_0x1fd7ad(0x1e2)][_0x1fd7ad(0x454)]['create']({'jwt':_0x4eb9f3},_0x469381['instanceName']);if(_0x5726b1['error'])throw this[_0x1fd7ad(0x392)][_0x1fd7ad(0x819)]({'localError':c['name']+'.jwt','error':_0x5726b1[_0x1fd7ad(0x819)]}),new m(_0x1fd7ad(0x6fa),_0x5726b1[_0x1fd7ad(0x819)]?.[_0x1fd7ad(0x76f)]());return{'jwt':_0x4eb9f3};}async[a0_0x26e249(0x22c)](_0x4c434e){const _0x436f92=a0_0x26e249;let _0xb01ec3=(0x0,_s['v4'])()[_0x436f92(0x422)](),_0x160735=await this[_0x436f92(0x1e2)]['auth'][_0x436f92(0x2e2)]({'apikey':_0xb01ec3},_0x4c434e[_0x436f92(0x156)]);if(_0x160735[_0x436f92(0x819)])throw this['logger'][_0x436f92(0x819)]({'localError':c[_0x436f92(0x452)]+_0x436f92(0x453),'error':_0x160735[_0x436f92(0x819)]}),new m('Authentication\x20error',_0x160735['error']?.[_0x436f92(0x76f)]());return{'apikey':_0xb01ec3};}async[a0_0x26e249(0x797)](_0x4ca307){const _0x58ae1f=a0_0x26e249;let _0x13e4c8=this['configService'][_0x58ae1f(0x6c0)](_0x58ae1f(0x786));return await this[_0x13e4c8['TYPE']](_0x4ca307);}},Kt=class{constructor(_0x408e04){const _0x1a0fd9=a0_0x26e249;this[_0x1a0fd9(0x726)]=_0x408e04;}async[a0_0x26e249(0x377)](_0x5120b9,_0x4087ab){const _0x42c396=a0_0x26e249;return await this[_0x42c396(0x726)][_0x42c396(0x73a)][_0x5120b9[_0x42c396(0x156)]][_0x42c396(0x377)](_0x4087ab);}async[a0_0x26e249(0x704)](_0x51801c,_0x1ce9d5){const _0x440b88=a0_0x26e249;return await this[_0x440b88(0x726)][_0x440b88(0x73a)][_0x51801c[_0x440b88(0x156)]]['updateGroupPicture'](_0x1ce9d5);}async[a0_0x26e249(0x5bb)](_0x4b5338,_0x380ee5){const _0x7d41b9=a0_0x26e249;return await this[_0x7d41b9(0x726)]['waInstances'][_0x4b5338[_0x7d41b9(0x156)]]['groupDesc'](_0x380ee5);}async[a0_0x26e249(0x5f0)](_0x270cf2,_0x3583e6){const _0x4a44a4=a0_0x26e249;return await this[_0x4a44a4(0x726)][_0x4a44a4(0x73a)][_0x270cf2[_0x4a44a4(0x156)]][_0x4a44a4(0x5f0)](_0x3583e6);}async[a0_0x26e249(0x80f)](_0x1bf81c,_0x438411){const _0x252340=a0_0x26e249;return await this[_0x252340(0x726)][_0x252340(0x73a)][_0x1bf81c[_0x252340(0x156)]]['groupBetterSetting'](_0x438411);}async[a0_0x26e249(0x26f)](_0x40bd32,_0x4f0230){const _0x30448b=a0_0x26e249;return await this[_0x30448b(0x726)]['waInstances'][_0x40bd32[_0x30448b(0x156)]][_0x30448b(0x26f)](_0x4f0230);}async[a0_0x26e249(0x15a)](_0x109195,_0x291e32){const _0x2d23db=a0_0x26e249;return await this[_0x2d23db(0x726)][_0x2d23db(0x73a)][_0x109195[_0x2d23db(0x156)]][_0x2d23db(0x5c4)](_0x291e32);}async['findGroups'](_0x3b0244){const _0x40f079=a0_0x26e249;return await this['waMonitor'][_0x40f079(0x73a)][_0x3b0244[_0x40f079(0x156)]][_0x40f079(0x58b)]();}async[a0_0x26e249(0x68a)](_0x371732,_0x6d2d98){const _0x68ce4a=a0_0x26e249;return await this['waMonitor']['waInstances'][_0x371732[_0x68ce4a(0x156)]][_0x68ce4a(0x68a)](_0x6d2d98);}async['joinGroup'](_0x199956,_0x5856bb){const _0x35d1a1=a0_0x26e249;return await this['waMonitor'][_0x35d1a1(0x73a)][_0x199956[_0x35d1a1(0x156)]][_0x35d1a1(0x5d7)](_0x5856bb);}async[a0_0x26e249(0x364)](_0x1defff,_0x181569){const _0x2aec73=a0_0x26e249;return await this[_0x2aec73(0x726)][_0x2aec73(0x73a)][_0x1defff[_0x2aec73(0x156)]]['groupGetInviteInfo'](_0x181569);}async['revokeInviteCode'](_0x55aff8,_0x1c2cf3){const _0x51ec2c=a0_0x26e249;return await this['waMonitor'][_0x51ec2c(0x73a)][_0x55aff8[_0x51ec2c(0x156)]][_0x51ec2c(0x669)](_0x1c2cf3);}async[a0_0x26e249(0x5c1)](_0xcdd4a,_0xe61731){const _0x27c192=a0_0x26e249;return await this[_0x27c192(0x726)][_0x27c192(0x73a)][_0xcdd4a[_0x27c192(0x156)]][_0x27c192(0x5c1)](_0xe61731);}async[a0_0x26e249(0x4cd)](_0x46f596,_0x46516e){const _0x2dbfac=a0_0x26e249;return await this[_0x2dbfac(0x726)][_0x2dbfac(0x73a)][_0x46f596[_0x2dbfac(0x156)]][_0x2dbfac(0x4c4)](_0x46516e);}async[a0_0x26e249(0x3dd)](_0x4681ea,_0x488e65){const _0x42ddd6=a0_0x26e249;return await this[_0x42ddd6(0x726)][_0x42ddd6(0x73a)][_0x4681ea[_0x42ddd6(0x156)]]['toggleEphemeral'](_0x488e65);}async[a0_0x26e249(0x2ef)](_0x4786a8,_0x431525){const _0x2b919d=a0_0x26e249;return await this['waMonitor'][_0x2b919d(0x73a)][_0x4786a8[_0x2b919d(0x156)]]['leaveGroup'](_0x431525);}},Qt=class{constructor(_0x2a2843){const _0x2d7218=a0_0x26e249;this[_0x2d7218(0x726)]=_0x2a2843;}['create'](_0x40da51,_0x3ef664){const _0x5728b2=a0_0x26e249;return this['waMonitor']['waInstances'][_0x40da51[_0x5728b2(0x156)]][_0x5728b2(0x323)](_0x3ef664);}async[a0_0x26e249(0x288)](_0x215fd9){const _0x57b12f=a0_0x26e249;try{return await this['waMonitor'][_0x57b12f(0x73a)][_0x215fd9[_0x57b12f(0x156)]][_0x57b12f(0x85d)]();}catch{return{'enabled':null,'url':''};}}},Cp=new R('FlowController'),Yt=class{constructor(_0x57bd33){const _0x15a3da=a0_0x26e249;this[_0x15a3da(0x726)]=_0x57bd33;}async['editScheduleMessage'](_0x449cd6,_0x296191){const _0x1170f8=a0_0x26e249;return await this[_0x1170f8(0x726)]['waInstances'][_0x449cd6[_0x1170f8(0x156)]][_0x1170f8(0x614)](_0x296191);}async[a0_0x26e249(0x612)](_0x36cd04){const _0x12dff8=a0_0x26e249;return await this[_0x12dff8(0x726)][_0x12dff8(0x73a)][_0x36cd04[_0x12dff8(0x156)]][_0x12dff8(0x612)]();}async[a0_0x26e249(0x4d2)](_0x5d8056){const _0x1902b4=a0_0x26e249;return await this[_0x1902b4(0x726)][_0x1902b4(0x73a)][_0x5d8056[_0x1902b4(0x156)]][_0x1902b4(0x4d2)]();}async['getAutomateSystem'](_0xa2c3d8){const _0x2a21b3=a0_0x26e249;return await this['waMonitor'][_0x2a21b3(0x73a)][_0xa2c3d8[_0x2a21b3(0x156)]]['getAutomateSystem']();}async[a0_0x26e249(0x4e4)](_0x5141b6,_0x3a106a){const _0x4507ab=a0_0x26e249;return await this[_0x4507ab(0x726)]['waInstances'][_0x5141b6['instanceName']][_0x4507ab(0x4e4)](_0x3a106a);}async[a0_0x26e249(0x6d9)](_0x3237ad,_0x479290){const _0x44bb66=a0_0x26e249;return await this[_0x44bb66(0x726)]['waInstances'][_0x3237ad[_0x44bb66(0x156)]]['updateCustomFields'](_0x479290);}async[a0_0x26e249(0x824)](_0x4127f3,_0x1145c8){const _0x30fe72=a0_0x26e249;return await this[_0x30fe72(0x726)]['waInstances'][_0x4127f3[_0x30fe72(0x156)]][_0x30fe72(0x824)](_0x1145c8);}async[a0_0x26e249(0x5f6)](_0x33ab96,_0x5749cd){const _0x3d1aa1=a0_0x26e249;return await this[_0x3d1aa1(0x726)]['waInstances'][_0x33ab96['instanceName']][_0x3d1aa1(0x5f6)](_0x5749cd);}async[a0_0x26e249(0x26a)](_0x4697f6,_0x41833a){const _0x78045f=a0_0x26e249;return await this[_0x78045f(0x726)][_0x78045f(0x73a)][_0x4697f6[_0x78045f(0x156)]][_0x78045f(0x26a)](_0x41833a);}async[a0_0x26e249(0x4cb)](_0x2c5846,_0x4ac789,_0x35ab1e,_0x1bb577){const _0x596228=a0_0x26e249;return await this['waMonitor']['waInstances'][_0x2c5846][_0x596228(0x4cb)](_0x4ac789,_0x35ab1e,_0x1bb577);}async[a0_0x26e249(0x7d6)](_0x4b0c29,_0xac446d){const _0x3a0b00=a0_0x26e249;return await this[_0x3a0b00(0x726)][_0x3a0b00(0x73a)][_0x4b0c29[_0x3a0b00(0x156)]][_0x3a0b00(0x7d6)](_0xac446d);}async[a0_0x26e249(0x4aa)](_0x2113ef,_0x3e61e9){const _0x398db0=a0_0x26e249;return await this[_0x398db0(0x726)]['waInstances'][_0x2113ef[_0x398db0(0x156)]][_0x398db0(0x4aa)](_0x3e61e9);}async[a0_0x26e249(0x52b)](_0x5c5a37,_0x25d87f){const _0x4d7265=a0_0x26e249;return await this['waMonitor'][_0x4d7265(0x73a)][_0x5c5a37[_0x4d7265(0x156)]][_0x4d7265(0x52b)](_0x25d87f);}async[a0_0x26e249(0x700)](_0x53c53d,_0x38042a){const _0x89125d=a0_0x26e249;return await this[_0x89125d(0x726)]['waInstances'][_0x53c53d[_0x89125d(0x156)]][_0x89125d(0x700)](_0x38042a);}async[a0_0x26e249(0x3d0)](_0x1eab3a,_0x4b090c){const _0x515c07=a0_0x26e249;return await this[_0x515c07(0x726)][_0x515c07(0x73a)][_0x1eab3a['instanceName']]['getFlow'](_0x4b090c[_0x515c07(0x452)],_0x4b090c[_0x515c07(0x6fe)]);}async['createFlow'](_0x49467a,_0x5bd3ae,_0x1148fb){const _0x408b77=a0_0x26e249;return await this[_0x408b77(0x726)]['waInstances'][_0x49467a[_0x408b77(0x156)]][_0x408b77(0x6cd)](_0x5bd3ae,_0x1148fb);}async[a0_0x26e249(0x6c3)](_0x1e2269,_0x259158,_0x453d7b){const _0x416942=a0_0x26e249;return await this[_0x416942(0x726)]['waInstances'][_0x1e2269[_0x416942(0x156)]][_0x416942(0x6c3)](_0x259158,_0x453d7b);}async[a0_0x26e249(0x3a1)](_0x38a5fd,_0x223814,_0x1ec5f1){const _0x3561b0=a0_0x26e249;return await this[_0x3561b0(0x726)][_0x3561b0(0x73a)][_0x38a5fd[_0x3561b0(0x156)]]['editFlowBlock'](_0x223814,_0x1ec5f1);}async[a0_0x26e249(0x6b0)](_0x2cf452,_0x2c9f29,_0x2002b0){const _0x1a89a8=a0_0x26e249;return await this[_0x1a89a8(0x726)][_0x1a89a8(0x73a)][_0x2cf452[_0x1a89a8(0x156)]][_0x1a89a8(0x6b0)](_0x2c9f29,_0x2002b0);}async[a0_0x26e249(0x579)](_0x27f5af,_0x5a0879,_0x3d3dda){const _0x1e80e1=a0_0x26e249;return await this[_0x1e80e1(0x726)][_0x1e80e1(0x73a)][_0x27f5af['instanceName']][_0x1e80e1(0x579)](_0x5a0879,_0x3d3dda);}async[a0_0x26e249(0x7a8)](_0x3d998c,_0x20d60c,_0x10e55d){const _0x2bb9a0=a0_0x26e249;return await this[_0x2bb9a0(0x726)][_0x2bb9a0(0x73a)][_0x3d998c[_0x2bb9a0(0x156)]][_0x2bb9a0(0x7a8)](_0x20d60c,_0x10e55d);}async['editFlowVaredit'](_0x279f6e,_0x28f7f2,_0x42f4df){const _0x3c0b65=a0_0x26e249;return await this[_0x3c0b65(0x726)][_0x3c0b65(0x73a)][_0x279f6e['instanceName']][_0x3c0b65(0x54f)](_0x28f7f2,_0x42f4df);}async[a0_0x26e249(0x84c)](_0x80817b,_0x23fe88,_0x4fed23){const _0x35dca4=a0_0x26e249;return await this[_0x35dca4(0x726)][_0x35dca4(0x73a)][_0x80817b[_0x35dca4(0x156)]]['editFlowVariable'](_0x23fe88,_0x4fed23);}async[a0_0x26e249(0x28f)](_0x48abc3,_0xf44629,_0x1f9e58){const _0xac6877=a0_0x26e249;return await this['waMonitor'][_0xac6877(0x73a)][_0x48abc3[_0xac6877(0x156)]][_0xac6877(0x28f)](_0xf44629,_0x1f9e58);}async['allFlows'](_0x335a5c){const _0x4ce486=a0_0x26e249;return await this[_0x4ce486(0x726)][_0x4ce486(0x73a)][_0x335a5c['instanceName']][_0x4ce486(0x299)]();}},Xt=class{constructor(_0x311393){const _0x403c0e=a0_0x26e249;this[_0x403c0e(0x260)]=_0x311393;}async[a0_0x26e249(0x7a3)](_0x31bb5b,_0x24f77c){const _0x52e1f0=a0_0x26e249;return this['webhookService'][_0x52e1f0(0x2e2)](_0x31bb5b,_0x24f77c);}async[a0_0x26e249(0x85d)](_0x3e6764){const _0x45ed22=a0_0x26e249;return this['webhookService'][_0x45ed22(0x288)](_0x3e6764);}},Zt=class extends x{constructor(_0x18b0eb,_0x1abf18){const _0x42c284=a0_0x26e249;super(_0x1abf18),this['webhookModel']=_0x18b0eb,this[_0x42c284(0x189)]=_0x1abf18;}async['create'](_0x56a776,_0x23a762){const _0x1ad0bb=a0_0x26e249;try{return this[_0x1ad0bb(0x41f)][_0x1ad0bb(0x467)]?{'insertCount':(await this[_0x1ad0bb(0x656)][_0x1ad0bb(0x213)]({'_id':_0x23a762},{..._0x56a776},{'upsert':!0x0}))[_0x1ad0bb(0x225)]}:{'insertCount':0x1};}catch(_0x212e5d){return _0x212e5d;}}async[a0_0x26e249(0x72e)](_0x3d7ee8){const _0x3c0827=a0_0x26e249;try{if(this[_0x3c0827(0x41f)][_0x3c0827(0x467)]){await this[_0x3c0827(0x656)][_0x3c0827(0x409)]({'_id':_0x3d7ee8});return;}}catch(_0x3212f9){return{'error':_0x3212f9};}}async['find'](_0x2ee2de){const _0x52a592=a0_0x26e249;try{if(this['dbSettings'][_0x52a592(0x467)])return await this[_0x52a592(0x656)][_0x52a592(0x49c)]({'_id':_0x2ee2de});}catch{return{};}}},es=class extends x{constructor(_0x111165,_0x5ef19d){const _0x38f98c=a0_0x26e249;super(_0x5ef19d),this['authModel']=_0x111165,this[_0x38f98c(0x189)]=_0x5ef19d,this[_0x38f98c(0x454)]=_0x5ef19d[_0x38f98c(0x6c0)]('AUTHENTICATION');}async[a0_0x26e249(0x2e2)](_0x9c844e,_0x592144){const _0x553cbf=a0_0x26e249;try{if(this[_0x553cbf(0x41f)]['ENABLED'])return{'insertCount':(await this[_0x553cbf(0x430)]['updateOne']({'_id':_0x592144},{'$set':{..._0x9c844e}},{'upsert':!0x0}))[_0x553cbf(0x225)]};}catch(_0x1e3c01){return{'error':_0x1e3c01};}}async[a0_0x26e249(0x3a7)](_0x123714,_0xbb1c23){const _0x4004e6=a0_0x26e249;try{if(this[_0x4004e6(0x41f)]['ENABLED'])return{'insertCount':(await this[_0x4004e6(0x430)]['updateMany'](_0x123714,{'$set':_0xbb1c23},{'upsert':!0x1}))[_0x4004e6(0x225)]};throw new Error(_0x4004e6(0x1c4));}catch(_0x260531){return{'error':_0x260531};}}async['deleteMany'](_0x31e1b0){const _0x3356bb=a0_0x26e249;try{if(this['dbSettings'][_0x3356bb(0x467)])return{'insertCount':(await this[_0x3356bb(0x430)][_0x3356bb(0x615)](_0x31e1b0))[_0x3356bb(0x553)]};throw new Error(_0x3356bb(0x1c4));}catch(_0x398e7d){return{'error':_0x398e7d};}}async[a0_0x26e249(0x72e)](_0x146438){const _0x16a709=a0_0x26e249;try{if(this[_0x16a709(0x41f)]['ENABLED']){await this[_0x16a709(0x430)][_0x16a709(0x409)]({'_id':_0x146438});return;}}catch(_0x106a6b){return{'error':_0x106a6b};}}async[a0_0x26e249(0x288)](_0x5a8a69){const _0x105bdf=a0_0x26e249;try{if(this[_0x105bdf(0x41f)][_0x105bdf(0x467)])return await this['authModel'][_0x105bdf(0x49c)]({'_id':_0x5a8a69});}catch{return{};}}async[a0_0x26e249(0x66b)](){const _0x1734b9=a0_0x26e249;try{if(this[_0x1734b9(0x41f)][_0x1734b9(0x467)])return await this[_0x1734b9(0x430)][_0x1734b9(0x288)]();}catch{return[];}}},ts=class extends x{['getFlowModelForOwner'](_0x30065a){return da(_0x30065a);}async[a0_0x26e249(0x72e)](_0x364b09,_0x495ed0){const _0x4151dc=a0_0x26e249;try{let _0xf4bab3=this['getFlowModelForOwner'](_0x495ed0),_0x5a23d9=T(_0x364b09[_0x4151dc(0x2a7)]);return{'deletedCount':(await _0xf4bab3[_0x4151dc(0x615)](_0x5a23d9))[_0x4151dc(0x553)]};}catch(_0x2b21bf){return{'error':_0x2b21bf?.[_0x4151dc(0x76f)]()};}}async['deleteOne'](_0xee2c1f,_0x45abba){const _0x2c6b37=a0_0x26e249;try{let _0x43732a=this['getFlowModelForOwner'](_0x45abba),_0x36f8a7=T(_0xee2c1f['where']);return{'deletedCount':(await _0x43732a[_0x2c6b37(0x409)](_0x36f8a7))[_0x2c6b37(0x553)]};}catch(_0x580ee1){return{'error':_0x580ee1?.[_0x2c6b37(0x76f)]()};}}async[a0_0x26e249(0x213)](_0x38844b,_0x3aa875,_0x2808bc){const _0x4fe0b4=a0_0x26e249;try{let _0x275d38=await this[_0x4fe0b4(0x67f)](_0x2808bc)[_0x4fe0b4(0x412)](_0x38844b,_0x3aa875,{'overwrite':!0x0,'new':!0x0});return _0x275d38||(console[_0x4fe0b4(0x819)]('Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:',_0x38844b),null);}catch(_0x477e2b){return console[_0x4fe0b4(0x819)]('Erro\x20ao\x20atualizar\x20o\x20fluxo:',_0x477e2b),null;}}async[a0_0x26e249(0x68c)](_0xce48a0,_0x59cba4,_0x91e9ab){const _0x5d455e=a0_0x26e249;try{let _0x4d8c89=await this[_0x5d455e(0x67f)](_0x91e9ab)['findById'](_0xce48a0);return _0x4d8c89?(Object[_0x5d455e(0x5ec)](_0x4d8c89,_0x59cba4),await _0x4d8c89['save']()):(console[_0x5d455e(0x819)](_0x5d455e(0x6df),_0xce48a0),null);}catch(_0x55febf){return console['error'](_0x5d455e(0x3b1),_0x55febf),null;}}async[a0_0x26e249(0x665)](_0xf29e26,_0x1750c9,_0x2dba49){const _0x27a4d0=a0_0x26e249;try{let _0x3d50da=this[_0x27a4d0(0x67f)](_0x2dba49),_0x3477d7=await _0x3d50da[_0x27a4d0(0x1d7)](_0xf29e26),_0x51b460=await _0x3d50da[_0x27a4d0(0x45d)]({'_id':_0xf29e26},_0x1750c9,{'new':!0x0,'runValidators':!0x0});return _0x51b460||(console[_0x27a4d0(0x61f)](_0x27a4d0(0x566)+_0xf29e26+_0x27a4d0(0x205)+_0x2dba49+_0x27a4d0(0x668)),null);}catch(_0x1a8e8f){throw console[_0x27a4d0(0x819)]('Erro\x20ao\x20atualizar\x20o\x20documento:',_0x1a8e8f),_0x1a8e8f;}}async[a0_0x26e249(0x257)](_0x2a620c){const _0x162fc8=a0_0x26e249;try{let _0x1da6e1=this[_0x162fc8(0x67f)](_0x2a620c),_0x5d5e59={'shareOwners':{'$exists':!0x1}},_0x5bd8f0={'$set':{'shareOwners':[]}};return(await _0x1da6e1['updateMany'](_0x5d5e59,_0x5bd8f0))[_0x162fc8(0x225)];}catch(_0x126516){return console['error'](_0x126516),0x0;}}async['createAndSave'](_0xfa1dc2,_0x453fce){const _0x58efdd=a0_0x26e249;try{let _0x3768b6=this[_0x58efdd(0x67f)](_0x453fce);return await new _0x3768b6(_0xfa1dc2)[_0x58efdd(0x2e3)]();}catch(_0x14acee){return console[_0x58efdd(0x819)](_0x58efdd(0x4a7),_0x14acee),null;}}async[a0_0x26e249(0x180)](_0x31ea3d,_0x3c5e8b,_0x44aab9){const _0x1ead74=a0_0x26e249;try{return{'modifiedCount':(await this['getFlowModelForOwner'](_0x44aab9)['updateMany'](_0x31ea3d,{'$set':_0x3c5e8b}))[_0x1ead74(0x225)]};}catch(_0x17deaf){return console[_0x1ead74(0x819)](_0x1ead74(0x305),_0x17deaf),{'error':_0x17deaf};}}async[a0_0x26e249(0x66b)](_0x1f25d2,_0x42984c){const _0x49b6b3=a0_0x26e249;try{let _0x10349b=this[_0x49b6b3(0x67f)](_0x42984c),_0x243be7=T(_0x1f25d2[_0x49b6b3(0x2a7)]);return await _0x10349b[_0x49b6b3(0x288)](_0x243be7)['limit'](_0x1f25d2?.['limit']??0x0)[_0x49b6b3(0x4ed)]();}catch{return[];}}async[a0_0x26e249(0x49c)](_0x46ae21,_0x8a7876){const _0x4062d2=a0_0x26e249;try{let _0x3ae7f9=this[_0x4062d2(0x67f)](_0x8a7876),_0x1cd33a=T(_0x46ae21['where']);return await _0x3ae7f9[_0x4062d2(0x49c)](_0x1cd33a)[_0x4062d2(0x4ed)]();}catch{return null;}}async[a0_0x26e249(0x6f0)](_0x268e1e){const _0x1ba263=a0_0x26e249;try{return await this[_0x1ba263(0x67f)](_0x268e1e)['collection'][_0x1ba263(0x805)](),{'success':!0x0};}catch(_0x302076){return console['error'](_0x302076),{'success':!0x1,'error':_0x302076};}}},ss=class extends x{[a0_0x26e249(0x247)](_0x404b91){return pa(_0x404b91);}async[a0_0x26e249(0x1bc)](_0x5d40c6){const _0x2e8bae=a0_0x26e249;if(_0x5d40c6['length']!==0x0)try{return{'insertCount':(await this[_0x2e8bae(0x247)](_0x5d40c6[0x0][_0x2e8bae(0x4fa)])[_0x2e8bae(0x3ab)]([..._0x5d40c6]))[_0x2e8bae(0x62e)]};}catch(_0x4b7d26){return _0x4b7d26;}}async[a0_0x26e249(0x72e)](_0x194b2c,_0x33f48d){const _0x2e5a97=a0_0x26e249;try{let _0xe7b759=this[_0x2e5a97(0x247)](_0x33f48d),_0x247e63=T(_0x194b2c[_0x2e5a97(0x2a7)]);return{'deletedCount':(await _0xe7b759[_0x2e5a97(0x615)](_0x247e63))[_0x2e5a97(0x553)]};}catch(_0x16ffce){return{'error':_0x16ffce?.['toString']()};}}async[a0_0x26e249(0x409)](_0x42980a,_0x2eb604){const _0x3584e3=a0_0x26e249;try{let _0x214020=this[_0x3584e3(0x247)](_0x2eb604),_0x17e5d4=T(_0x42980a[_0x3584e3(0x2a7)]);return{'deletedCount':(await _0x214020[_0x3584e3(0x409)](_0x17e5d4))[_0x3584e3(0x553)]};}catch(_0xa89e1d){return{'error':_0xa89e1d?.[_0x3584e3(0x76f)]()};}}async[a0_0x26e249(0x3e2)](_0x4ffab7,_0x461146){const _0x60c23d=a0_0x26e249;try{if(_0x4ffab7[_0x60c23d(0x62e)]===0x0)return;let _0x275d41=this[_0x60c23d(0x247)](_0x461146),_0x19838a=_0x4ffab7[_0x60c23d(0x261)](_0x3fe68f=>({'updateOne':{'filter':{'name':_0x3fe68f[_0x60c23d(0x452)],'owner':_0x461146},'update':{..._0x3fe68f}}})),{modifiedCount:_0x3c45a4}=await _0x275d41[_0x60c23d(0x635)](_0x19838a);return{'insertCount':_0x3c45a4};}catch{return;}}async[a0_0x26e249(0x180)](_0xa95fad,_0x388c53,_0x4e1a31){const _0x3e30d1=a0_0x26e249;try{return{'modifiedCount':(await this[_0x3e30d1(0x247)](_0x4e1a31)[_0x3e30d1(0x180)](_0xa95fad,{'$set':_0x388c53})[_0x3e30d1(0x6b6)]())[_0x3e30d1(0x225)]};}catch(_0x4b470f){return console[_0x3e30d1(0x819)]('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0x4b470f),{'error':_0x4b470f};}}async[a0_0x26e249(0x68c)](_0x387f7e,_0x2cd58b,_0x2e4bad){const _0x437583=a0_0x26e249;try{return await this['getConversationModelForOwner'](_0x2e4bad)[_0x437583(0x45d)]({'_id':_0x387f7e},{'$set':_0x2cd58b},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x3aafce){return console[_0x437583(0x819)](_0x3aafce),null;}}async[a0_0x26e249(0x288)](_0x5bf2a5,_0x36ead2){const _0x274a4d=a0_0x26e249;try{return await this[_0x274a4d(0x247)](_0x36ead2)[_0x274a4d(0x288)](_0x5bf2a5)[_0x274a4d(0x1e4)]({'lastInteraction':-0x1})['lean']();}catch{return[];}}async['findOne'](_0x19b4c0,_0x14c07e){const _0xc54719=a0_0x26e249;try{return await this[_0xc54719(0x247)](_0x14c07e)[_0xc54719(0x49c)]({..._0x19b4c0[_0xc54719(0x2a7)]})[_0xc54719(0x4ed)]();}catch{return null;}}async[a0_0x26e249(0x6f0)](_0xea25f0){const _0x32e18b=a0_0x26e249;try{return await this[_0x32e18b(0x247)](_0xea25f0)['collection'][_0x32e18b(0x805)](),{'success':!0x0};}catch(_0x5e1398){return console[_0x32e18b(0x819)](_0x5e1398),{'success':!0x1,'error':_0x5e1398};}}},as=class extends x{[a0_0x26e249(0x56e)](_0x2b0529){return ha(_0x2b0529);}async[a0_0x26e249(0x5fa)](_0x47dc15,_0x279eeb){const _0x338e6e=a0_0x26e249;try{let _0x454faa=this[_0x338e6e(0x56e)](_0x279eeb);return await new _0x454faa(_0x47dc15)[_0x338e6e(0x2e3)]();}catch(_0x205cbb){return console[_0x338e6e(0x819)](_0x338e6e(0x4a7),_0x205cbb),null;}}async[a0_0x26e249(0x409)](_0xbb1d8d,_0x415c56){const _0x28ad0e=a0_0x26e249;try{return await this['getScheduleMessageModelForOwner'](_0x415c56)[_0x28ad0e(0x72f)](_0xbb1d8d),{};}catch(_0x2f7d8b){return{'error':_0x2f7d8b?.[_0x28ad0e(0x76f)]()};}}async[a0_0x26e249(0x68c)](_0x2d1ae4,_0x10ace3,_0x400ae4){const _0x19660e=a0_0x26e249;try{return await this[_0x19660e(0x56e)](_0x400ae4)[_0x19660e(0x45d)](_0x2d1ae4,{'$set':_0x10ace3},{'new':!0x0})['lean']();}catch(_0x3998cb){return console['error'](_0x19660e(0x35f),_0x3998cb),null;}}async[a0_0x26e249(0x816)](_0x43b1f7,_0x261834,_0x2a25b7){const _0x160b6c=a0_0x26e249;try{return await this[_0x160b6c(0x56e)](_0x2a25b7)['findByIdAndUpdate'](_0x43b1f7,_0x261834,{'new':!0x0})['lean']();}catch(_0x2d1254){return console[_0x160b6c(0x819)](_0x160b6c(0x35f),_0x2d1254),null;}}async[a0_0x26e249(0x288)](_0x127965,_0x28c2b0){const _0x549728=a0_0x26e249;try{return await this[_0x549728(0x56e)](_0x28c2b0)['find'](_0x127965[_0x549728(0x2a7)])[_0x549728(0x3ad)](_0x127965?.[_0x549728(0x3ad)]??0x0)[_0x549728(0x1e4)]({'when':0x1})[_0x549728(0x4ed)]();}catch{return[];}}async['findOne'](_0x4e3534,_0x403fa7){const _0x584c83=a0_0x26e249;try{return await this['getScheduleMessageModelForOwner'](_0x403fa7)[_0x584c83(0x49c)](_0x4e3534[_0x584c83(0x2a7)])[_0x584c83(0x1e4)]({'when':0x1})['lean']();}catch{return null;}}async['findById'](_0x554d21,_0xc3af45){const _0x18fe4c=a0_0x26e249;try{return await this[_0x18fe4c(0x56e)](_0xc3af45)['findById'](_0x554d21)['lean']();}catch{return null;}}async[a0_0x26e249(0x615)](_0x4b153e,_0x1df55d){const _0x3da37b=a0_0x26e249;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x1df55d)[_0x3da37b(0x615)](_0x4b153e))[_0x3da37b(0x553)]};}catch(_0x2eea71){return console[_0x3da37b(0x819)](_0x3da37b(0x63a),_0x2eea71),{'error':_0x2eea71};}}async[a0_0x26e249(0x6f0)](_0x34b030){const _0x5a2917=a0_0x26e249;try{return await this['getScheduleMessageModelForOwner'](_0x34b030)[_0x5a2917(0x2da)][_0x5a2917(0x805)](),{'success':!0x0};}catch(_0x3297f4){return console['error'](_0x3297f4),{'success':!0x1,'error':_0x3297f4};}}},is=class extends x{async[a0_0x26e249(0x3e2)](_0x3b012c,_0x1b9e89){const _0x28c0ec=a0_0x26e249;try{if(this[_0x28c0ec(0x41f)][_0x28c0ec(0x467)]){let _0x51f9c4=await ve[_0x28c0ec(0x45d)]({'_id':_0x1b9e89},{'$set':_0x3b012c},{'new':!0x0});return console['log'](_0x28c0ec(0x82e),_0x51f9c4),_0x51f9c4;}}catch(_0x30ad6a){throw console['error'](_0x28c0ec(0x642),_0x30ad6a),_0x30ad6a;}}async[a0_0x26e249(0x6e2)](_0x4d854e){const _0x172375=a0_0x26e249;try{let _0x19b581=await ve[_0x172375(0x1d7)](_0x4d854e);return _0x19b581?_0x19b581[_0x172375(0x16a)]||(_0x19b581[_0x172375(0x16a)]=[],await _0x19b581[_0x172375(0x2e3)]()):(_0x19b581=new ve({'_id':_0x4d854e,'autoCompleteMessages':[]}),await _0x19b581['save']()),_0x19b581;}catch(_0x25a66e){return _0x25a66e[_0x172375(0x23c)]===0x2af8&&_0x25a66e[_0x172375(0x573)]&&_0x25a66e[_0x172375(0x573)][_0x172375(0x69d)]?(console[_0x172375(0x819)]('Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...'),await ve[_0x172375(0x2da)][_0x172375(0x1d4)]('autoCompleteMessages.command_1'),null):(console[_0x172375(0x819)]('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x25a66e),null);}}},$o=new R('WA\x20MODULE'),Ao=new Be(S),Oo=new Ut(S),To=new at(S),Io=new qt(Zs,S),xo=new Zt(ra,S),Do=new es(aa,S),_o=new ts(S),Po=new Vt(S),ko=new ss(S),jo=new as(S),Lo=new is(S),ue=new Ve(Ao,Oo,To,Io,xo,Do,_o,ko,Po,jo,Lo,$?.[a0_0x26e249(0x332)]()),G=new Jt(us,S,ue),Fo=new Ht(S,G,ue),Jo=new Qt(G),Cs=new Xt(Jo),A=new Yt(G),ne=new Wt(G,S,ue,us,Fo),B=new zt(G),_=new Gt(G),q=new Kt(G);$o[a0_0x26e249(0x4a0)](a0_0x26e249(0x233));var Fh=require('express-async-errors'),Ps=require('fs'),vi=O(require('https')),Ni=O(require('http')),_e=class c{static #e;static set['app'](_0x5349ab){this.#e=_0x5349ab;}static get['https'](){const _0x1e27f0=a0_0x26e249;let {FULLCHAIN:_0x48e27c,PRIVKEY:_0x2acbce}=S[_0x1e27f0(0x6c0)](_0x1e27f0(0x238));return vi[_0x1e27f0(0x4ad)]({'cert':(0x0,Ps[_0x1e27f0(0x592)])(_0x48e27c),'key':(0x0,Ps[_0x1e27f0(0x592)])(_0x2acbce)},c.#e);}static get[a0_0x26e249(0x57f)](){const _0x224305=a0_0x26e249;return Ni[_0x224305(0x4ad)](c.#e);}},pe=O(require('fs')),Ii=O(require(a0_0x26e249(0x4d8))),Pe=O(require('axios')),je=O(require(a0_0x26e249(0x206))),Le=require('child_process');function Uo(){const _0x4d004a=a0_0x26e249;G['loadInstance']();let _0x428fb9=je[_0x4d004a(0x6f9)][_0x4d004a(0x619)](__dirname,_0x4d004a(0x35e));Ti(_0x428fb9);}var Ti=_0x2799bd=>{const _0xe96ff0=a0_0x26e249;let _0x557018=pe['default'][_0xe96ff0(0x150)](_0x2799bd),_0xb31edb=0xc*0x3c*0x3c*0x3e8,_0x5b352e=0x2*0x3c*0x3c*0x3e8,_0x4c2eaf=new Date()[_0xe96ff0(0x634)]();_0x557018[_0xe96ff0(0x522)](_0x119791=>{const _0x5a8962=_0xe96ff0;let _0x39c3ee=je[_0x5a8962(0x6f9)][_0x5a8962(0x619)](_0x2799bd,_0x119791),_0x47c56c=pe[_0x5a8962(0x6f9)][_0x5a8962(0x547)](_0x39c3ee)['birthtime'][_0x5a8962(0x634)]();_0x4c2eaf-_0x47c56c>_0xb31edb&&(pe[_0x5a8962(0x6f9)]['unlinkSync'](_0x39c3ee),console['log']('Deleted\x20'+_0x119791));}),setTimeout(()=>Ti(_0x2799bd),_0x5b352e);};function qo(){const _0x21a5c4=a0_0x26e249;let _0x5104f4=new R(_0x21a5c4(0x1fd)),_0x4e9a5c=(0x0,he[_0x21a5c4(0x6f9)])();_0x4e9a5c[_0x21a5c4(0x686)]((0x0,Oi[_0x21a5c4(0x6f9)])({'origin'(_0x319829,_0x401d26){const _0x1be366=_0x21a5c4;let {ORIGIN:_0x4ce37b}=S[_0x1be366(0x6c0)](_0x1be366(0x676));return _0x319829||(_0x319829='*'),_0x4ce37b[_0x1be366(0x739)]('*')!==-0x1||_0x4ce37b[_0x1be366(0x739)](_0x319829)!==-0x1?_0x401d26(null,!0x0):_0x401d26(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...S[_0x21a5c4(0x6c0)](_0x21a5c4(0x676))[_0x21a5c4(0x512)]],'credentials':S[_0x21a5c4(0x6c0)](_0x21a5c4(0x676))[_0x21a5c4(0x2a5)]}),(0x0,he[_0x21a5c4(0x865)])({'extended':!0x0,'limit':_0x21a5c4(0x5e5)}),(0x0,he['json'])({'limit':_0x21a5c4(0x5e5)})),_0x4e9a5c['use']((_0x246a16,_0x46cd2a,_0x516680)=>{const _0x331e63=_0x21a5c4;_0x246a16[_0x331e63(0x206)][_0x331e63(0x29c)](_0x331e63(0x597))?_0x516680():(0x0,Ai[_0x331e63(0x6f9)])()(_0x246a16,_0x46cd2a,_0x516680);}),_0x4e9a5c[_0x21a5c4(0x4b3)]('view\x20engine','hbs'),_0x4e9a5c['set'](_0x21a5c4(0x5c7),(0x0,js['join'])(re,'views')),_0x4e9a5c[_0x21a5c4(0x686)](he[_0x21a5c4(0x6f9)][_0x21a5c4(0x447)]((0x0,js[_0x21a5c4(0x619)])(re,_0x21a5c4(0x1df)))),_0x4e9a5c[_0x21a5c4(0x686)]((_0x38919b,_0x1c81d2,_0x2f3383)=>{const _0x314667=_0x21a5c4;let _0x205f78=_0x1c81d2[_0x314667(0x6fc)];_0x1c81d2[_0x314667(0x6fc)]=function(_0x2b40db){const _0x55ca3e=_0x314667;if(_0x38919b[_0x55ca3e(0x426)][_0x55ca3e(0x83e)]==='true'||_0x38919b[_0x55ca3e(0x1a6)][_0x55ca3e(0x694)]===_0x55ca3e(0x441)){let _0x5761a8=JSON[_0x55ca3e(0x311)](_0x2b40db);_0x2b40db=JSON[_0x55ca3e(0x395)](_0x5bae3c(_0x5761a8));}return _0x205f78['apply'](_0x1c81d2,[_0x2b40db]);},_0x2f3383();}),_0x4e9a5c[_0x21a5c4(0x686)]('/',Ie),_0x4e9a5c[_0x21a5c4(0x686)]((_0x3da2e7,_0x5c6b02,_0x9125d3,_0xa667a2)=>{const _0x32f8f1=_0x21a5c4;if(_0x3da2e7)return _0x9125d3[_0x32f8f1(0x228)](_0x3da2e7[_0x32f8f1(0x228)]||0x1f4)[_0x32f8f1(0x639)](_0x3da2e7);},(_0x116c30,_0x4f507e,_0x5e2aa6)=>{const _0xa27e96=_0x21a5c4;let {method:_0x2bb099,url:_0x3126d1}=_0x116c30;_0x4f507e[_0xa27e96(0x228)](0x194)[_0xa27e96(0x639)]({'status':0x194,'message':_0xa27e96(0x3de)+_0x2bb099[_0xa27e96(0x422)]()+'\x20'+_0x3126d1,'error':_0xa27e96(0x3eb)}),_0x5e2aa6();});let _0x5bae3c=(_0x2e710d,_0x47e374='_p_')=>{const _0x3dc08a=_0x21a5c4;let _0x21e273=(_0x5579d9,_0x496af8=null,_0x4c5fcf=!0x1)=>{const _0x150668=a0_0x3705;let _0x2d9759={};return Object['keys'](_0x5579d9)[_0x150668(0x522)](_0x460098=>{const _0x5be411=_0x150668;let _0x46b119=_0x5579d9[_0x460098],_0x55f3fb=''+_0x47e374+_0x460098;_0x496af8&&!_0x4c5fcf&&(_0x55f3fb=_0x496af8+'.'+_0x460098),!_0x46b119&&_0x46b119!==0x0&&_0x46b119!==!0x1||typeof _0x46b119>'u'?_0x2d9759[_0x55f3fb]=null:typeof _0x46b119!=_0x5be411(0x232)&&!Array['isArray'](_0x46b119)?_0x2d9759[_0x55f3fb]=_0x46b119:typeof _0x46b119=='object'&&!Array[_0x5be411(0x304)](_0x46b119)?_0x2d9759=Object[_0x5be411(0x5ec)](_0x2d9759,_0x21e273(_0x46b119,_0x55f3fb)):Array[_0x5be411(0x304)](_0x46b119)&&(typeof _0x46b119[0x0]=='object'?(_0x2d9759[_0x55f3fb]=[],_0x46b119[_0x5be411(0x522)](_0x4e6a8b=>{_0x2d9759[_0x55f3fb]['push'](_0x21e273(_0x4e6a8b,_0x55f3fb,!0x0));})):_0x2d9759[_0x55f3fb]=_0x46b119);}),_0x2d9759;};return Array[_0x3dc08a(0x304)](_0x2e710d)?_0x2e710d['map'](_0x469ef6=>_0x21e273(_0x469ef6)):typeof _0x2e710d==_0x3dc08a(0x232)&&_0x2e710d!==null?_0x21e273(_0x2e710d):{};},_0x142fa2=S[_0x21a5c4(0x6c0)](_0x21a5c4(0x1fd));_e[_0x21a5c4(0x7ba)]=_0x4e9a5c;let _0x497a13=_e[_0x142fa2['TYPE']],_0x33666f=_0x21a5c4(0x29a);_0x497a13['listen'](_0x142fa2[_0x21a5c4(0x3c6)],()=>{const _0x22e29d=_0x21a5c4;_0x5104f4[_0x22e29d(0x61f)](_0x33666f),_0x5104f4[_0x22e29d(0x61f)](_0x142fa2[_0x22e29d(0x72d)][_0x22e29d(0x422)]()+_0x22e29d(0x48a)+_0x142fa2[_0x22e29d(0x3c6)]);}),Uo(),zs();}var Vo='https://github.com/uazapi/uazapi.git',Go=je[a0_0x26e249(0x6f9)][a0_0x26e249(0x619)](__dirname,a0_0x26e249(0x794)),ke=null;function Bo(){return new Promise((_0x3fcf1d,_0x29ff6a)=>{const _0x235ebb=a0_0x3705;pe[_0x235ebb(0x6f9)][_0x235ebb(0x511)](Go,_0x235ebb(0x2c4),(_0x312561,_0x24a5ac)=>{const _0x3bca58=_0x235ebb;if(_0x312561){ke=_0x312561,_0x3fcf1d();return;}Ii[_0x3bca58(0x6f9)][_0x3bca58(0x311)](_0x24a5ac)[_0x3bca58(0x5cc)]['url']===Vo?(ke=null,_0x3fcf1d()):(ke=new Error(_0x3bca58(0x83f)),_0x3fcf1d());});});}async function Wo(){const _0x1eca87=a0_0x26e249;try{await Bo(),await Ls();}catch(_0xd01aae){console[_0x1eca87(0x819)](_0x1eca87(0x343)+_0xd01aae),process[_0x1eca87(0x1cc)](0x1);}}Wo();async function xi(){const _0xe39c98=a0_0x26e249;let _0x66583d;try{_0x66583d=(await Pe[_0xe39c98(0x6f9)][_0xe39c98(0x6c0)](_0xe39c98(0x585)))[_0xe39c98(0x7c6)]['ip'];}catch(_0xde1a63){console[_0xe39c98(0x819)](_0xde1a63);try{_0x66583d=(await Pe[_0xe39c98(0x6f9)][_0xe39c98(0x6c0)]('https://api.ipify.org?format=json'))[_0xe39c98(0x7c6)]['ip'];}catch(_0x5a400a){console[_0xe39c98(0x819)](_0x5a400a);try{_0x66583d=(await Pe[_0xe39c98(0x6f9)]['get']('http://checkip.dyndns.org'))[_0xe39c98(0x7c6)][_0xe39c98(0x83b)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x5adc45){return console['error'](_0x5adc45),!0x1;}}}return _0x66583d;}var Ri=0x0;async function zo(){const _0x472cef=a0_0x26e249;let _0x716227=await new ce(S[_0x472cef(0x6c0)]('REDIS'))[_0x472cef(0x7f6)]();return console[_0x472cef(0x61f)](_0x472cef(0x21a),_0x716227[_0x472cef(0x62e)]),_0x716227[_0x472cef(0x62e)];}function Ho(_0x4990fc){const _0x38abd2=a0_0x26e249;let _0xfcf38e=_0x4990fc['get'](_0x38abd2(0x1fd))[_0x38abd2(0x852)],_0x2011c2=_0x4990fc[_0x38abd2(0x6c0)](_0x38abd2(0x238)),_0x1721c4;if(_0xfcf38e){let _0x27c2b2=_0xfcf38e[_0x38abd2(0x83b)](/\/\/(.*?)\./);_0x27c2b2&&_0x27c2b2[0x1]&&(_0x1721c4=_0x27c2b2[0x1]);}if(!_0x1721c4&&_0x2011c2&&_0x2011c2[_0x38abd2(0x3e7)]){let _0x4913aa=_0x2011c2['FULLCHAIN']['split']('/'),_0x171cb0=_0x4913aa[_0x4913aa[_0x38abd2(0x62e)]-0x2];if(_0x171cb0){let _0x4c8298=_0x171cb0[_0x38abd2(0x510)]('.');_0x4c8298[_0x38abd2(0x62e)]>0x2&&(_0x1721c4=_0x4c8298[0x0]);}}return _0x1721c4;}var Ds=Ho(S);function a0_0x46e5(){const _0x4217b0=['):\x20Enviando\x20localização','exports','Número:\x20','binary','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','viewOnceMessageV2','latitude','everyOne','imported','isInteger','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','MESSAGES_UPDATE','SERVER_OFFLINE','):Converted\x20image\x20deleted','toString','protocolMessage','fileName','DisconnectReason','\x22\x20-\x20REMOVED','.url','promote','):\x20Entrou\x20na\x20função\x20stop','getStatus','):\x20Enviando\x20enquete','Type\x20is\x20required','Erro\x20ao\x20remover\x20label\x20','editflowgroup','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','waitingMenu_replyOptions','Conexão\x20estabelecida','\x20de\x20conectar\x20com\x20IP\x20extra.','verifiedName','processvaredits','Reinicialização\x20iniciada:\x20','unavailable','groupUpdateSubject','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','AUTHENTICATION','stopConversation','statusMessage','locked','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','$dbName','editflowcondition','min','-instances','website','isRunning','menuIgnoreNonVotes','throwAndLogError','state','./.git/config','Comando\x20desconhecido','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','generateHash','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','Log\x20out\x20instance:\x20','):\x20Não\x20achou\x20nenhum\x20flow','toArray','DATABASE_ENABLED','sim','archived','stderr','getLabelModelForOwner','messageId','ERROR:\x20','createWebhook','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','image','replaceVariablesLogs','fetchProfilePictureUrl','editFlowCondition','qrcode','processScheduleFlow','\x20quoted:\x20','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','pollCreationMessage','mongoose','Erro\x20ao\x20deletar\x20a\x20conversa','isCommunity','#f64847','ChatRouter','unhandledRejection','.ogv','#9ab6c1','Missing\x20global\x20api\x20key','app','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','\x1b[30m','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','src','ReplyOption\x20com\x20ID\x20','call','DB_PREFIX_NAME','uuid','groupId','groupMetadata','):\x20Flow\x20desativado','data','evaluateCondition','@s.whatsapp.net','Falta\x20informação\x20para\x20a\x20chamada\x20API','Group\x20not\x20found','contacts.update','\x0aitem','descOwner','variable','messageSecret','request\x20received\x20in\x20fetchConversation','jid','getContentType','address','):\x20newFirstValue\x20após\x20replaceVariables:','Schema','getConversation','updatePrivacySettings','fetchPrivacySettings','\x1b[32m%s\x1b[0m','Instance\x20restarted','not\x20loaded','API\x20Key\x20from\x20Request:','key','Content\x20is\x20required','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','Erro\x20ao\x20editar\x20a\x20conversa','):\x20conversation.lastInteraction:\x20','contacts','):\x20Editando\x20variável\x20do\x20fluxo...','loadEnv','\x1b[40m','Type\x20not\x20found','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','contains','dataValidate','sendDataWebhook','__esModule','readMessageBot','webhook','capitalizedWords','messaging-history.set','organization','height','presenceSubscribe','Falha\x20ao\x20processar\x20a\x20solicitação\x20messages.upsert','CONTACTS_UPDATE','instanceKeys','https://ipinfo.io/json','Instance\x20\x22','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','writeData','from','\x20-i\x20','exists','originalUrl','etiquetas',',\x20fará\x20nova\x20verificação\x20em\x20','):Trying\x20to\x20get\x20business\x20profile','basename','chats.set','Certbot:\x20','drop','redis','DATABASE_CONNECTION_URI','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','delaySecMin','.docx','now','replaceValue','fileUrl','Erro\x20ao\x20tentar\x20autoCompleteMessages','groupBetterSetting','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','updateReadReceiptsPrivacy','blockId','detail','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','clearVariables','updateOneById','sendMessageWithTyping','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','error','413716upontZ','router','pop','Erro\x20ao\x20editar\x20o\x20chat','express','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','interval\x20não\x20é\x20um\x20número','flowStopMinutes','formatStatusMessage','AutomateFunctions','updateAutoCompleteMessages','Tentando\x20reconectar...','yes','DELETED','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','fetchMessages','CORS_ORIGIN','dbInstance','/config','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','Resultado\x20da\x20atualização:','Cache-Control','):\x20Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','temp-','8080','MAX_RECONNECT_ATTEMPTS','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','Message\x20absent\x20from\x20node','messages.update','):\x20Bloco\x20com\x20ID\x20','\x1b[32m','splice','chats.update','match','findMessages','chatId','convert','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','markMessageAsRead','upperCase','apiName','numbers','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','jwt','):\x20atualização\x20chat:\x20','quoted','instance','variables','.\x20Pulando.','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','editFlowVariable','/wa-presence','LOG_LEVEL','isJidBroadcast','removed','cacheContact','URL','convertToWebP','post','sharp','\x22\x20cannot\x20be\x20empty','/instance/delete','content-type','messageStubParameters','sign','toDataURL','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','findWebhook','empty',',\x20resultado:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','copyBlock','\x1b[31m','flowPrefixCommand','/instance/create','urlencoded','readdirSync','normalizeMessage','applyvaredit','vote','#d8e651','flattenObject','instanceName','EMAIL','/:instanceName','):\x20Label\x20','findGroupInfo','\x1b[37m','iniciando\x20fluxo\x20router','getProfileName','toNumber','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','):\x20[messages.upsert]\x20group\x20ignored','command','sendButtons','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','):Image\x20is\x20base64','processblock','updateMessage','sections','less','groupInviteCode','autoCompleteMessages','connectToWhatsappController','reconnectTimestamps','):Processing\x20audio','last','replyOptions','<subdomain>','request\x20received\x20in\x20createFlow','boolean','ip:\x20','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','timeInMinutes','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','saveVariable','open','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','data:\x20','.mimetype','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','ScheduleMessage','updateMany','ignoreGroups','):\x20mediaMessageInfoId\x20:\x20','\x1b[37m%s\x1b[0m','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','newStoppedUntil','eventHandler','#ffc5c7','synchronizeFlows','configService','modifiedFormatBRNumber','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','lastBlockId','https://','long','fetchContacts','CHATS_UPSERT','and','Fluxos\x20não\x20estão\x20ativados','CLEANING_INTERVAL','updateProfileStatus','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','\x20mensagens\x20de\x20','/automate','request\x20received\x20in\x20getConversation','Erro\x20ao\x20atualizar\x20conversa:\x20','del','@ffmpeg-installer/ffmpeg','group-participants.update','request\x20received\x20in\x20editFlowgroup','\x20minutos','hGet','CONNECTION_UPDATE','Erro\x20ao\x20editar\x20o\x20bloco:\x20','document','^\x5cd+([-]\x5cd+)*@g.us$','quotedMessage','flowStopConversation','headers','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','stopWhenYouSendMsg','writeFileSync','findLabels','.gif','):\x20Editando\x20replyOption...','reference','joinGroupValidate','setHeader','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','contact','prepareMediaMessage','):\x20Procurando\x20mensagens\x20para\x20envio','profileName','test','hasOwnProperty','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','formatBRNumber','msgRetryCounterCache','$addToSet','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','insert','@redis/client','updateStopChat','Rótulo\x20inválido\x20ou\x20sem\x20ID.','allContacts','\x20não\x20encontrado\x20para\x20cópia','Forbidden','repeat','Database\x20is\x20not\x20enabled','connect','unlinkSync','shift','connectedName','blocks','contacts.upsert','delayChatLabel_MAX_RETRIES','exit','lastCondition','Instância\x20não\x20encontrada.','isCommunityAnnounce','closed','VERBOSE','off','instanceInfo','dropIndex','instanceCount','):Audio\x20converted\x20and\x20stored\x20in\x20cache','findById','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','emit','close','HeaderType','port','\x20tentativas.','CORS_CREDENTIALS','public','Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','testProxy','repository','certbot','sort','DATABASE_CONNECTION_HOST','Deletion\x20failed','DATABASE_CONNECTION_PASSWORD','remoteJid','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','beforeExit','\x22\x20not\x20found','\x20Tentativa\x20de\x20reconexão\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','/instance/connectionState','oldToken','groupJoinApprovalMode','getRandomText','canSendMessage','RECONNECT_TIME_FRAME','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','://','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','connection.update','groupUpdateDescription','replyOption','sendMedia','):\x20Deletando\x20conversa...','presence','SERVER','.xls','webp',':\x20IP\x20funcionando!','readMessage','PRESENCE_UPDATE','action','Erro\x20ao\x20tentar\x20updateCustomFields','\x20e\x20proprietário\x20','path','processawaitSeconds','saveChatVariables','connectionUpdate','updateProfileName','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','footerText','normalizeMessageContent','editflow','choices','request\x20received\x20in\x20editConversation','ephemeralMessage','CONTACTS_UPSERT','replaceOne','reactionMessage','username','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','):Hash\x20to\x20image\x20name:\x20','cachedContacts-whatsapp','instancias:\x20','updateGroupWebhook','\x1b[36m','}}\x20->\x20\x22',',\x20pairCode:\x20','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','groupFetchAllParticipating','enviado\x20para','STORE_CLEANING_TERMINAL','video','):\x20Error\x20processing\x20the\x20block:\x20','modifiedCount','envProcess','updateMissingTags','status','instances','_Flows','ephemeralDuration','apikey','TEL','nome','scheduled','-whatsapp-api','_activedCount','object','Module\x20-\x20ON','toBRL','setNewValue','max','pictureUrl','SSL_CONF','ConversationModel','MESSAGES_UPSERT','):Temp\x20image\x20deleted','code','message_normalized','):\x20Procurando\x20conversa','cors','GET','findConversation','logout','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','qrCode','\x1b[46m','WARN','getConversationModelForOwner','Imagem\x20não\x20encontrada','uazapiSendAudio','concat','Instância:\x20','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','\x20inseridos\x20no\x20banco\x20de\x20dados...','upsertedCount','\x20com\x20sucesso.','eventEmitter','):\x20Criou\x20conversa\x20no\x20startFlow','):\x20Bloco\x20copiado:\x20','contextInfo','JWT','events','updateMissingShareOwners','Erro\x20ao\x20adicionar\x20label\x20','apirequest','groupValidate','^\x5cd+','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','\x20\x1b[0m','sharePass',',\x20Novo\x20tamanho:\x20','webhookService','map','goToFlow','mediatype','findIndex','responsavelid','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Font\x20is\x20required','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','whatsappNumber','startFlow','):\x20Enviando\x20texto','updateProfilePicture','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','delayMessage','groupSetting','groups.upsert','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','createSectionsFromValues','isBase64','restartInstance','fullName','lastDisconnect','messagesSend','.ppt','106068RGOyQj','groupRequestParticipantsList','getMIMEType','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','extractMessageContent','env.KEY\x20!==\x20key','filter','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','toFile','pollErrorMessage','trimmed','g.us',',\x20apikey:\x20','stopMinutesMaxActives','Telefone:\x20','find','STORE_MESSAGE','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','READ','GUARD','_pushName','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','deleteFlow','checkAndRestartProcess',',\x20Segundo\x20Valor:\x20','):\x20Entrou\x20na\x20função\x20processawaitSeconds','PREFIX_KEY','upsertChats','Erro\x20ao\x20alterar\x20privacidade','valid','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','value','allFlows','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','contentText','startsWith','waitingMenu_id','):\x20Deletando\x20mensagem','entries','leadInfo.','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','isConnected','\x20global:\x20','\x20minutos\x20verificará\x20novas\x20mensagens','CREDENTIALS','recording','where','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','charAt','updateGroupParticipantsWebhook','editflowblock','folder','#01d0e2','BufferJSON','add','OrAnd','fone','[all]','entrou\x20na\x20função\x20de\x20sincronizar\x20fluxos','conditions','padStart','Instance\x20ID:','createConversationforgoToFlow','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','creds.json','FlowRouter','/media','wuid','replaceVariablesInObject','requestFile','Removidas\x20as\x20variáveis:\x20','REDIS','.ogg','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','utf-8','getOwnPropertyNames','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','\x20não\x20encontrado\x20para\x20atualização.','Fluxo\x20agendado\x20pelo\x20fluxo\x20','sendMessage','app-state-sync-key','Instance\x20Key\x20from\x20DB:','NextBlock','InstancesAlterarTodas','leadInfo.atendimentoAberto','profilePictureUrl','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','reorderReplyOptions','MessageModel','start','REDIS_ENABLED','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','\x20segundos','Error\x20in\x20scheduleNextCheck:\x20','groupAcceptInvite','Invalid\x20format','collection','):\x20Falha\x20ao\x20deletar\x20mensagem.','.\x20(ID:\x20','expression','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','updatePresence','buttonId','sync','create','save','request_method','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','groupToggleEphemeral','):\x20Editando\x20grupo\x20do\x20fluxo...','bateu\x20events','imagechat','oldValue','caption','sleep','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','):\x20Criando\x20nova\x20conversa[createNewConversation]','leaveGroup','audio','isBusiness','updateMissingCustomFields','Message\x20not\x20found','Falha\x20após\x20várias\x20tentativas.','\x20foi\x20interrompido\x20pelo\x20usuário.','INFO','SSL_CONF_FULLCHAIN','connectionStatus','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','url','CHATS_DELETE','):\x20Editando\x20edição\x20do\x20fluxo...','replaceVariablesInReplyOptions','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','REDIS_PREFIX_KEY','instanceName\x20not\x20provided.','lowerCase','):\x20Buscando\x20conversa...','isArray','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','42280HTKJWE','Error\x20updating\x20message\x20status:','#ffffff','evaluateConditionTest','CONTACTS_SET','DD/MM\x20HH:mm:ss','isListOfNumbers','some','):\x20Limpando\x20delayMessage','backgroundColor','DATABASE_CONNECTION_DB_PREFIX_NAME','parse','awaitingApproval','chatHandle','remoteJidsRemaining','createConnection','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','.mp4','onTime','generateWAMessageFromContent','.txt','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','scheduleFlow','):\x20this.processing_id:\x20','no-cache','\x1b[33m%s\x1b[0m','error\x20get\x20vote','goNextblock','toLowerCase','setWebhook','webhookMap','redis://127.0.0.1:6379','reviver','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','CHATS_UPDATE','Pausado\x20por\x20','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','env.yml','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','Error\x20parsing\x20JSON:','Mensagens\x20deletadas\x20com\x20sucesso.',',\x20global:\x20','ObjectId','sectionsToString','getClient','):\x20Edit\x20schedule\x20message...','arraybuffer','sendReaction','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','/wa-contacts','#fed428','protocol','):\x20Erro\x20ao\x20tentar\x20recuperar\x20a\x20mensagem.\x20Tentativa\x20','pollMessage','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','integer','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','readMessages','contactHandle','updateChatWithMessage','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','text','updateGroupsAddPrivacy','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','redirect','available','agents',',\x20Comparador:\x20','activatedCount','text/event-stream','labels.association','localWebhook','no.connection','listResponseMessage','atendimentoAberto','buttonMessage','deleteBlock','NO_IP','waUploadToServer','child_process','#ffae04','Error\x20removing\x20unused\x20chat\x20fields:','inner','loadWebhook','The\x20global\x20api\x20key\x20must\x20be\x20set','downloads','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','/clients-info','imgUrl','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','CONNECTION','groupGetInviteInfo','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','ultimaTentativaRemoteJid','/wa-qrcode','buttonText','updateMissingEtiquetas','deleteMessageForEveryone','):\x20isVote:\x20','viewOnceMessage','/media/','number','Erro\x20ao\x20buscar\x20conversas','stopped','expiration','console','/instance/connect','lastMessage','chats.delete','mediaKey','createGroup','fileLength','role','warn','\x1b[0m','authentication','createflow','importChatsAntigo','Nenhum\x20chat\x20encontrado\x20para\x20editar.','_error','finish','notContains','Operador:\x20\x22','storePath','fetchBusinessProfile','mimetype','LabelModel','):\x20Buscando\x20flow...','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','request\x20received\x20in\x20editFlow','#56ccb4','groups','optionName','replace','contactMessage','notMatchRegex','fetchProfile','logger','menuMessage','flow','stringify','http://ip-api.com/json','next_groupId','lastInteraction','creation','optionDescription','#83e421','Erro\x20ao\x20iniciar\x20fluxo:\x20','removeProfilePicture','client','uazapiSendContact','Erro\x20ao\x20aplicar\x20varedit:\x20','editFlowBlock','setContext','prefixCommand','mongodb','):\x20Buscando\x20flow,\x20name:\x20','participants','updateAll','muteEndTime','getDevice',',\x20Expiration\x20Time:\x20','insertMany','Esse\x20fluxo\x20expirou','limit','false','/instance/fetchInstances','Data\x20inválida\x20fornecida','Erro\x20ao\x20atualizar\x20o\x20fluxo:','sendCommand','params','dbClient','chatLog','chat','encoding','deleteflow','toLocaleString','BRL','replaceVariables','connectToWhatsapp','PRIVKEY','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','replacer','removeInstance','getBusinessProfile','redisEnv','Flow\x20iniciado','rm\x20-rf\x20','PORT','editChat','options','lastFetchAwaitingApproval','store','reconnectAttempts','createSharedFlow',':\x20IP\x20configurado:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','isAdmin','getFlow','getChatModelForOwner','notEmpty','function','delaySecMax','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','createNewConversation','Subscribed\x20Events:','):\x20Query\x20params:\x20','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','rows','toBrazilianNumberFormat','600sSidKS','toggleEphemeral','Cannot\x20','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','message','update','unreadCount','uazapiDeleteMessage','sticker','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','FULLCHAIN','textMessage','Router','ERROR','Not\x20Found','\x1b[34m','editedMessage','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','):Error\x20in\x20converting\x20audio','pollOnReplyDelete','tags','labels.edit','):\x20lastBlockId:\x20','sha256','updateStatusPrivacy','jsonwebtoken','URI','round','):\x20Bloco\x20original\x20para\x20cópia:\x20','uazapiSendLocation','\x20-\x20JID:\x20','sendStatus','RemoveChatLabel','displayName','126756qlJQVL','groupMemberAddMode','stickerMessage','spawn','Parando\x20aplicação...','notEqual','updateLastSeenPrivacy','memberAddMode','pollCreationMessageV3','Mensagem\x20não\x20suportada','deleteOne','processPollUpdateMessage','createInstance','dbServer','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','/startFlow/:instance/:startID','messageHandle','Connection\x20closed\x20for\x20instance:\x20','findManyByIds','findByIdAndUpdate','https://api.openai.com/v1/images/generations','ex:\x20\x22groupJid=120362@g.us\x22',':\x20Tentativa\x20','locationMessage','addBlock',',\x20saindo.','@broadcast','gifPlayback','deleteChat','#000000','):\x20Going\x20to\x20','updateBlock','dbSettings','SINGLE_SELECT','connecting','toUpperCase','deleteInstance','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','#00a1f2','query','AUTHENTICATION_JWT_EXPIRIN_IN','Conversa\x20deletada\x20com\x20sucesso.','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','archive','matchRegex','Erro\x20ao\x20deletar\x20chat:','badSession','groupRevokeInvite','https://api.elevenlabs.io/v1/text-to-speech/','authModel','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','requestPairingCode','GROUP_PARTICIPANTS_UPDATE','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','sending','SERVER_URL','):\x20Entrou\x20na\x20função\x20clearVariables','.fileUrl','\x20is\x20already\x20in\x20use.','--agree-tos','statusCode','maxActives','.type','pino','request\x20received\x20in\x20deleteDoneMessages','defineProperty','true','sendPoll','status@broadcast','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','recebido\x20de','extractRegex','static','chatModify','testingWith','):Image\x20created','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','conversationTimestamp','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','):\x20Buscando\x20conversas...','$set','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','name','.jwt','auth','content','paused','noConnection','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','This\x20name\x20','):\x20Entrou\x20na\x20função\x20goToFlow','sem\x20texto\x20na\x20mensagem','sendSticker','findOneAndUpdate','Safari','):\x20alterando\x20this.AutomateSystem','getLastMessage','closeExistingConversations','REDIS_URI','sendMenu','STORE_CHATS','floor','scheduleMessage','ENABLED','replaceVariablesChat','/wa-message','getMessageModelForOwner','description','bodyStringErrorParse','minutesToClose','enabled','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','):\x20expirationTime:\x20','createRegularFlow','setting','):including\x20timestamp\x20in\x20url:\x20','onWhatsApp','createHash','Button\x20IDs\x20cannot\x20be\x20repeated.','varedit','Erro\x20do\x20Certbot:\x20','request\x20received\x20in\x20updateCustomFields','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','contactsArrayMessage','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','order','composing','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Rótulo\x20deletado:\x27,\x20','fetchProfilePicture','pollUpdateMessage','fromMe','leadInfo','https://api.ipify.org?format=json','env','flowActive','label','\x20-y','\x20-\x20ON:\x20','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','mediaMessage','CHATS_SET','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','Last\x20message\x20not\x20found\x20for\x20number:','):\x20conversation.status:\x20','uncaughtException','local_map','Erro\x20ao\x20encerrar\x20a\x20API','\x20horas\x20e\x20','deleted','AUTHENTICATION_JWT_SECRET','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','body','desativadoFluxoAte','updateOnlinePrivacy','execSync','findOne','none','phoneNumber','createJid','info','digest','_activatedCount','audio/ogg','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','STORE','menuType','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','insertCount','keys','fetchConversation','sendPresenceUpdate','cachedData-whatsapp','createServer','Error\x20fetching\x20group','getMessage','profile','cachedContact','archiveChat','set','Error\x20while\x20deleting\x20message\x20for\x20everyone','):Archiving\x20chat','audioWhatsapp','groupadd','getContactModelForOwner','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','pollMessageOnDelete','Last\x20message\x20not\x20found','\x20chats\x20de\x20','):\x20Alterando\x20fluxo...','ScheduleMessageModel','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','instance.','\x0a{\x20instance:\x20','_Labels','collections','updateGParticipant','writeFile','has','verify','timeout','groupSettingUpdate','):\x20Conversa\x20está\x20expirada\x20-\x20voto','startFlowWebhook','StatusJidList\x20is\x20required','updateGParticipate','/webhook','author','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','deleteReplyOption','deleteDoneMessages','videoMessage','host','STATUS_INSTANCE','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','ini','hex','last_update',',\x20valor\x20passado:\x20\x22','processgoToFlow','27QGPomp','remove','):\x20Campos\x20a\x20serem\x20atualizados:','/create','Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done','node-cache','audioMessage','updateAgent','PASSWORD','):\x20não\x20encontrou','):\x20Criando\x20fluxo\x20compartilhado...','/wa-all-message','?timestamp=','/wa-connection-update','reaction','API\x20Key\x20inválida.','lean','messages.set','nomecompleto','delayChatLabel_RETRY_DELAY_MS','user','media','segundos','findAndReplaceRegex','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','491469Gaffop','jsonschema','isJidGroup','lastReceivedMessage','owner','connectionState','3111480kyWRrr','/exit','trim','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','readreceipts','setRestartTimeout','\x1b[41m','\x0a*Você\x20respondeu*:\x0a','DATABASE','urlOrBase64','AutomateSystem\x20não\x20foi\x20inicializado','Erro\x20ao\x20criar\x20fluxo\x20regular','unlocked','request\x20received\x20in\x20starFlow','presence.update','):\x20A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','request\x20received\x20in\x20updateAutoCompleteMessages','AddChatLabel','formatVCard','split','readFile','METHODS','):Fetching\x20business\x20profile','delayChatLabel','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','hGetAll','random','font','\x20não\x20encontrado','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','slice','size','.X-ABLabel:Celular\x0a','PENDING','mongodb://','restart','GROUPS_UPSERT','forEach','subject','lastSend','ON\x20-\x20dbName:\x20','):\x20updateResult:','request\x20received\x20in\x20editFlowcondition','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','pollCreationMessageKey','.TEL;waid=','editConversation','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','.png','blockLogs','routerPath','.pdf','Certbot\x20executado\x20com\x20sucesso.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','updateChatGroupData','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','pt-BR','stopMinutes','sendContact','abs','buffer','\x20minutos...','request\x20body:\x20','getAutomateSystem','DELIVERY_ACK','loadproxy','undefined','success','response','proto','qrcode-terminal','):\x20Conversa\x20inserida\x20com\x20sucesso.','waitingMenu_ExpiredMessage','poll','statSync','fetchChats','Erro\x20ao\x20atualizar\x20o\x20flow.','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','/*.json','findAndReplace','deleteMessage','):\x20Flow\x20não\x20encontrado','editFlowVaredit','stateConnection','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','customFields','deletedCount','processUazapi','PLAYED','The\x20property\x20cannot\x20be\x20empty','g-t','deleteImportedChat','contact_blacklist','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','processApiRequest','endsWith','!cmd_','\x20depois\x20','LOG_COLOR','automateSystem','STORE_CONTACTS','Instance\x20deleted','!stop','Documento\x20com\x20ID\x20','keep-alive','isJidUser','):\x20Conversa\x20atualizada\x20em\x20memória','findFlow','longitude','email','Selecione','getScheduleMessageModelForOwner','validate','Chat\x20com\x20ID\x20','The\x20instance\x20needs\x20to\x20be\x20disconnected','online','keyPattern','all','superadmin','SECRET','Falhou\x20ao\x20encontrar\x20chat\x20','LICENSE_INVALID','editFlowGroup','/chat','uazapiSendMedia','verbose','#64c4ff','importChats','http','Erro\x20ao\x20sincronizar\x20fluxos:\x20','https://chat.whatsapp.com/','header','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','context','https://jsonip.com','greater','dropCollection','cache','values','KEY','findGroups','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','width','Erro\x20ao\x20copiar\x20o\x20documento','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','waitingMenu_text','.xlsx','readFileSync','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','\x1b[47m','fetchInstances','chats','/events','title','type','scheduleSendMedia','prepareWAMessageMedia','reorderBlocks','color','creds.update',',\x20valor\x20a\x20encontrar:\x20\x22','privacySettings','cleaningUp','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','arrayUnique','Erro\x20ao\x20iniciar\x20o\x20fluxo.','):\x20Erro\x20durante\x20a\x20atualização:\x20','Não\x20respondeu\x20com\x20a\x20enquete.','varedits','array','conversation','\x0aFN:','ContactModel','\x20inseridas\x20no\x20banco\x20de\x20dados...','Types','delay','sendAudio','?authSource=admin&readPreference=primary&directConnection=true','\x20->\x20NÃO\x20CORRESPONDE.','http://icanhazip.com/','namespace','Valor\x20inicial:\x20\x22','):\x20Editando\x20bloco...','announce','Erro\x20ao\x20remover\x20instâncias\x20antigas:','Erro\x20ao\x20buscar\x20o\x20fluxo','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','groupDesc','groups_ignore','http://checkip.dyndns.org','CORS_METHODS','fetchLabels','):Output\x20path:\x20','findParticipants','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','ListType','findGroup','headerString','Bloco\x20com\x20ID\x20','views','rowId','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','@whiskeysockets/baileys','fetchStatus','remote\x20\x22origin\x22','editflowvaredit','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','put','/group','saveConversationToDatabase','COLOR','demote','1128bdBtja','DEBUG','https://api.openai.com/v1/audio/speech','joinGroup','https://uazapi-plugin.bubbleapps.io/','includes','MESSAGES_SET','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','TEXT','request\x20received\x20in\x20updateAgent','padEnd','parseInt','EXPIRIN_IN','\x1b[33m\x1b[1m','downloadMediaMessage','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','removeData','50mb','dark','base64','result','Close\x20connection','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','created','assign','scheduleNextCheck','beautifyWithPlaceholders','secondValue','groupName','enumerable','WebhookGlobal','Atualização:\x20','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','processclearVariables','updateFlowConfig','cacheContactModel','groupRequestParticipantsUpdate','Erro\x20de\x20atualização:\x20','createAndSave','reject','\x20}\x0a','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','envYaml','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','scheduleSendText','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','mediaSticker','/wa-chats','cleanStore','Mac\x20OS','ephemeralExpiration','telefone','pollCreationMessageV2','substring','getVariablesChat','apiResponse','Error\x20in\x20chatModify\x20for\x20number\x20','):\x20\x27Deletando\x20fluxo,\x20name:\x20','option','firstValue',':\x20Erro\x20durante\x20loadproxy\x20-\x20','):\x20Entrou\x20na\x20função\x20saveReply','getScheduleMessage','):\x20Enviando\x20áudio','editScheduleMessage','deleteMany','delAll','authState','newValue','join','.\x20Aguardando\x20antes\x20de\x20reconectar...',',\x20data:\x20','Enter\x20a\x20value\x20in\x20milliseconds','class-validator','uazapiSendText','log','):\x20Conversas\x20encontradas:','request\x20received\x20in\x20getFlow','readData','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','RemoteJid:','admin_add','):\x20Usando\x20extensão\x20padrão:\x20','pre','ms\x20(tentativa\x20','Flow\x20não\x20encontrado','getMinutes','removeOlderDisconnectedInstances','linkPreview','):\x20enviado\x20para\x20[','length','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','mentions','status.instance','updateConversation','subjectTime','getTime','bulkWrite','joinApprovalMode','editflowvariable','END:VCARD','json','Erro\x20ao\x20deletar\x20mensagens:','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','DARK','request\x20received\x20in\x20scheduleMessage','item','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','jpegThumbnail','senderKeyDistributionMessage','Erro\x20ao\x20atualizar\x20AutomateSystem:','.error','announcement','):\x20nextBlock.uazapi.name','waitingForReplyMenu','Nenhum\x20participante\x20válido\x20encontrado.','application/octet-stream','scheduleSendAudio','Contacts\x20not\x20found','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','\x20adicionado\x20ao\x20chat\x20','isLong','.uazapi.dev','flowConversation','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','participant','Error\x20updating\x20cache\x20contact:','\x20ao\x20chat\x20','webhookModel','\x20instance\x20does\x20not\x20exist','list','#92ceac','sendMessageAck','API_KEY','SERVER_ACK','statusJidList','push','resetReconnectionVariables','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','lastUpdate','2FZXiCp','https://uazapi-plugin.bubbleapps.io/?url=','cwd','findAndUpdate','processConditionsTest','_Contacts','\x20não\x20encontrado.','revokeInviteCode','shutdown\x20-r\x20now','findAll','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','isURL','utf8','silent','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','request\x20received\x20in\x20allFlows','menuExpiredMessage','buttons','SERVER_PORT','initAuthCreds','CORS','request_time','release','model','saveMediaToFile','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','groupJid','bodyString','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','getFlowModelForOwner','whatsappNumbers','string','\x22reaction\x22\x20must\x20be\x20an\x20emoji','#ff9484','moreLogs','listMessage','use','Erro\x20ao\x20editar\x20agentes','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','AppStateSyncKeyData','inviteCode','AutomateSystem','updateOne','):\x20transformedCustomFieldVariables','_id',']\x20(','addChatLabel','\x1b[1m','hDel','SUCCESS','uazapi',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','match_last_seen','errors','):Getting\x20image\x20from\x20url','defineAuthState','createConversationforStartFlow','editOperator','getUpdate','autoCompleteMessages.command','sendText','):\x20','Error\x20fetching\x20and\x20updating\x20profile:\x20','changeVariables','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','shareOwners','awaitSeconds','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','unreadcount','Erro\x20ao\x20importar\x20chats','subdomain','pushName','\x20saindo\x20da\x20função','.pptx','):\x20[messages.update]\x20group\x20ignored','documentMessage','.webm','chats.upsert','editFlowReply','groupParticipantsUpdate','):\x20Grupo\x20',',\x20isAdmin:\x20','generate','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','exec','):\x20Comando\x20desconhecido:\x20','selectableCount','flowConfig','removeUnusedChatFields','allflows','picture','format','pairingCode','output','get','.webp','*\x0a\x0a','editFlow','StartBot','condition','\x20-\x20retornado:\x20','LOG','saveTextReply','processing_id','method','messageTimestamp','_remoteJid','createFlow','node-mime-types','when','verifyWhatsAppNumber','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','js-yaml','password','getDelay','QRCODE_UPDATED','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','findAndUpdateCacheContact','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','updateCustomFields','importChatsBatch','qrcode.updated','flush','refused','getBase64FromMediaMessage','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','Internal\x20Server\x20Error','.mp3','findOrCreate','stoppedUntil','config','dbConnection','imageMessage','notas','EMAIL:','messages','groupHandler','convertaudioMP3','SendScheduleMessage','\x1b[42m','DOCKER_ENV','getOwnPropertyDescriptor','deleteAll','listType','variablesToObject','Message','):Image\x20path:\x20','userDevicesCache','Sistema\x20atualizado\x20com\x20sucesso!','Button\x20texts\x20cannot\x20be\x20repeated','):\x20Enviando\x20mídia','default','Authentication\x20error','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:\x20flowOnwer:\x20','send','error_log','global','.extension','deleteConversation','):\x20Iniciando\x20bot...','Read\x20messages','@g.us','updateGroupPicture','stdout','groupdata','group','6988248HkTLai','sendWhatsAppAudio','sendLocation','}}\x20->\x20valor\x20não\x20encontrado','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','mentioned','lastSendMessage','findChats','augusto.fcs@gmail.com','messages.upsert','realVariables','video-cover.png','labelId',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','):\x20tem\x20blocks','convertedOptions','creds','HOST','http://ipecho.net/plain','restrict','done','\x20:\x20','messageType','profilePicture','cpf','The\x20\x22','endSession','equal','groups.update','waMonitor','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','leadInfo.customFields','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','ORG:','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','USER','TYPE','delete','findByIdAndDelete','not_announcement','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','E-mail:\x20','Valor\x20de\x20find\x20ou\x20replace\x20ausente','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','GROUPS_UPDATE','Fluxo\x20não\x20encontrado.','admin','Esse\x20fluxo\x20é\x20global,\x20para\x20deletá-lo\x20você\x20precisa\x20ser\x20o\x20criador\x20ou\x20usar\x20a\x20apikey\x20global','indexOf','waInstances','Db\x20Connection','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','SEND_MESSAGE','authService','leadInfo.desativadoFluxoAte','Erro\x20inesperado\x20em\x20processvaredits:\x20','messageContextInfo','count','existsSync','):\x20Current\x20Time:\x20','request\x20received\x20in\x20deleteFlow','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','useMultiFileAuthState','block','approve','Erro\x20ao\x20arquivar\x20chat','StartID:','uazapiSendMenu','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','Background\x20color\x20is\x20required','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message','audio/ogg;\x20codecs=opus','preview','startID','):\x20Limpando\x20AutomateSystem','):Audio\x20processed','prototype','.wav','Flow\x20iniciado\x20com\x20','convertaudio','updateReplyOption','_Messages','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','Variáveis\x20não\x20encontradas:','):\x20leadInfoVariables'];a0_0x46e5=function(){return _0x4217b0;};return a0_0x46e5();}async function Ko(){const _0xd46c6f=a0_0x26e249;let _0x9b0d0e=S['get'](_0xd46c6f(0x2c1)),_0x188b5c=S[_0xd46c6f(0x6c0)](_0xd46c6f(0x786))[_0xd46c6f(0x65b)]['KEY'],_0xe45935=S[_0xd46c6f(0x6c0)](_0xd46c6f(0x238)),_0x45d9a6=await xi(),_0x1a863c=S[_0xd46c6f(0x6c0)]('SERVER')[_0xd46c6f(0x3c6)],_0x42db50=S[_0xd46c6f(0x6c0)](_0xd46c6f(0x1fd))[_0xd46c6f(0x852)];try{let _0x1cb3c8={'ip':_0x45d9a6||null,'redis_enable':_0x9b0d0e?.['ENABLED']||null,'apikey':_0x188b5c||null,'ssl':_0xe45935?.[_0xd46c6f(0x3bd)]||null,'lastupdate':Di||null,'port':_0x1a863c||null,'gitInstallError':ke?.[_0xd46c6f(0x3e1)]||null,'url':_0x42db50||null};if(console[_0xd46c6f(0x61f)](_0xd46c6f(0x173),_0x1cb3c8['ip']),_0x9b0d0e&&_0x9b0d0e[_0xd46c6f(0x467)]){let _0x24d74a=await zo();_0x1cb3c8[_0xd46c6f(0x1d5)]=_0x24d74a||null;}for(let _0x1956bf in _0x1cb3c8)_0x1cb3c8['hasOwnProperty'](_0x1956bf)&&_0x1956bf!=='ip'&&(_0x1cb3c8[_0x1956bf]=JSON['stringify'](_0x1cb3c8[_0x1956bf]));return(await Pe[_0xd46c6f(0x6f9)][_0xd46c6f(0x854)](_0xd46c6f(0x55a),_0x1cb3c8))[_0xd46c6f(0x7c6)];}catch(_0x54d0b8){return console[_0xd46c6f(0x819)](_0x54d0b8),!0x1;}}var ks=!0x1,Di=0x247,Qo=0x3,$i=0x1b7740;async function Ls(){const _0x1b2977=a0_0x26e249;if(!await xi())return console[_0x1b2977(0x819)](_0x1b2977(0x280)),_0x1b2977(0x356);let _0x34d102=await Ko();if(_0x34d102){if(_0x34d102['response']['licenca']===!0x0){let _0x29a937=S[_0x1b2977(0x6c0)]('SSL_CONF'),_0x5d5478=S['get'](_0x1b2977(0x1fd))[_0x1b2977(0x852)];_0x29a937&&_0x29a937?.[_0x1b2977(0x3bd)]?.[_0x1b2977(0x5d9)](_0x1b2977(0x170))&&_0x34d102['response'][_0x1b2977(0x6a8)]&&!_0x5d5478&&(await Zo(_0x34d102[_0x1b2977(0x541)]['subdomain'],Xo),await er(_0x1b2977(0x710),_0x34d102['response'][_0x1b2977(0x6a8)]),console[_0x1b2977(0x61f)](_0x1b2977(0x7ad)),setTimeout(()=>sr(),0x2710)),ke===null&&_0x34d102[_0x1b2977(0x541)][_0x1b2977(0x4da)]-Di>0x0&&await Yo(),ks||(ks=!0x0,qo());let _0x2dbe14=0x24*0x3c*0x3c,_0x2e4eb4=_0x34d102[_0x1b2977(0x541)][_0x1b2977(0x4f3)]>_0x2dbe14?_0x2dbe14:_0x34d102[_0x1b2977(0x541)][_0x1b2977(0x4f3)],_0x26bafe=Number(_0x2e4eb4);if(isNaN(_0x26bafe)){console[_0x1b2977(0x819)](_0x1b2977(0x820));return;}let _0x49823=Math[_0x1b2977(0x465)](_0x26bafe/0xe10),_0x5f8cf3=Math[_0x1b2977(0x465)](_0x26bafe%0xe10/0x3c),_0x273d04=new Date(Date[_0x1b2977(0x80b)]()+_0x26bafe*0x3e8);setTimeout(Ls,_0x26bafe*0x3e8);let _0x5e4e21=_0x4ee7d0=>_0x4ee7d0['toString']()[_0x1b2977(0x2b6)](0x2,'0'),_0x4c7e65='Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20'+_0x5e4e21(_0x49823)+_0x1b2977(0x494)+_0x5e4e21(_0x5f8cf3)+'\x20minutos.\x20Será\x20às\x20'+_0x5e4e21(_0x273d04['getHours']())+':'+_0x5e4e21(_0x273d04[_0x1b2977(0x62a)]())+'.';console[_0x1b2977(0x61f)](_0x4c7e65);}else return console[_0x1b2977(0x61f)](_0x1b2977(0x67b)),ks&&(console[_0x1b2977(0x61f)](_0x1b2977(0x5ba)),process[_0x1b2977(0x1cc)]()),_0x1b2977(0x578);}else{if(Ri++,Ri<Qo)console['log']('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+$i/0xea60+_0x1b2977(0x53a)),setTimeout(Ls,$i);else return console[_0x1b2977(0x819)](_0x1b2977(0x33f)),_0x1b2977(0x76d);}}async function Yo(){const _0x193ed5=a0_0x26e249;console['log']('Parando\x20aplicação,\x20atualização\x20recebida');let _0x2316bb=(0x0,Le['spawn'])(_0x193ed5(0x44d),{'shell':!0x0});_0x2316bb['stdout']['on'](_0x193ed5(0x7c6),_0x2ef562=>{const _0x596c64=_0x193ed5;console[_0x596c64(0x61f)](_0x596c64(0x5f3)+_0x2ef562);}),_0x2316bb['stderr']['on']('data',_0x20e6a2=>{const _0x1a0d11=_0x193ed5;console['error'](_0x1a0d11(0x5f9)+_0x20e6a2);}),_0x2316bb['on'](_0x193ed5(0x1cc),_0x30da59=>{const _0x5bed7d=_0x193ed5;_0x30da59!==0x0?console[_0x5bed7d(0x819)](_0x5bed7d(0x362)+_0x30da59):console[_0x5bed7d(0x61f)](_0x5bed7d(0x6f6)),console['log'](_0x5bed7d(0x403)),setTimeout(()=>process['exit'](),0x2710);});}var Xo=je[a0_0x26e249(0x6f9)][a0_0x26e249(0x619)](__dirname,a0_0x26e249(0x32b));async function Zo(_0x4eb495,_0x5a7e06){const _0x2d4ecf=a0_0x26e249;let _0x2c731c=tr();_0x4eb495=_0x4eb495[_0x2d4ecf(0x38e)](_0x2d4ecf(0x64f),'');try{let _0x530c09=pe[_0x2d4ecf(0x6f9)]['readFileSync'](_0x5a7e06,_0x2d4ecf(0x66e));_0x530c09=_0x530c09[_0x2d4ecf(0x38e)](/<apikey>/,_0x2c731c),_0x530c09=_0x530c09[_0x2d4ecf(0x38e)](/<subdomain>/g,_0x4eb495),pe[_0x2d4ecf(0x6f9)][_0x2d4ecf(0x1a9)](_0x5a7e06,_0x530c09,_0x2d4ecf(0x66e)),console['log'](_0x2d4ecf(0x5ff));}catch(_0x5e00f3){console['error'](_0x2d4ecf(0x652),_0x5e00f3);}}function er(_0x15be4c,_0x5439b6){return new Promise((_0x51c139,_0x54fb35)=>{const _0x12d277=a0_0x3705;let _0x4815da=(0x0,Le[_0x12d277(0x402)])(_0x12d277(0x1e3),['certonly','--standalone','-m',_0x15be4c,_0x12d277(0x43a),'-d',_0x5439b6]);_0x4815da[_0x12d277(0x705)]['on'](_0x12d277(0x7c6),_0x34a6c5=>{const _0x21203d=_0x12d277;console[_0x21203d(0x61f)](_0x21203d(0x804)+_0x34a6c5['toString']());}),_0x4815da[_0x12d277(0x79f)]['on'](_0x12d277(0x7c6),_0x7d6d4b=>{const _0x17ac18=_0x12d277;console[_0x17ac18(0x819)](_0x17ac18(0x478)+_0x7d6d4b['toString']());}),_0x4815da['on'](_0x12d277(0x1da),_0x1ef4c5=>{const _0x2868fe=_0x12d277;_0x1ef4c5!==0x0?(console[_0x2868fe(0x819)]('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x1ef4c5),_0x54fb35(_0x2868fe(0x814)+_0x1ef4c5)):(console['log'](_0x2868fe(0x531)),_0x51c139());});});}function tr(_0x1a22f6=0x32){const _0xf7d8f7=a0_0x26e249;let _0x50dab6=_0xf7d8f7(0x7f9),_0xdb3df5='';for(let _0x2633b6=0x0;_0x2633b6<_0x1a22f6;_0x2633b6++)_0xdb3df5+=_0x50dab6[_0xf7d8f7(0x2aa)](Math[_0xf7d8f7(0x465)](Math['random']()*_0x50dab6[_0xf7d8f7(0x62e)]));return _0xdb3df5;}function sr(){const _0x24fc13=a0_0x26e249;(0x0,Le[_0x24fc13(0x6b6)])(_0x24fc13(0x66a),(_0x3581a9,_0x219299,_0x4adbda)=>{const _0x22134f=_0x24fc13;if(_0x3581a9){console['error'](_0x22134f(0x28a)+_0x3581a9);return;}if(_0x4adbda){console['error']('Erro\x20de\x20reinicialização:\x20'+_0x4adbda);return;}console[_0x22134f(0x61f)](_0x22134f(0x782)+_0x219299);});}0x0&&(module[a0_0x26e249(0x761)]={'subdomain':subdomain});